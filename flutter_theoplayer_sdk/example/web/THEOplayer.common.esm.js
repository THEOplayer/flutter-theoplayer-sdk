/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 7.3.0
 Created: 2024-05-08T09:51:04.904Z
 */
var Al,Nl,Dl,Il,El,Ll,Ol,ho,zl,Pl,Bl,Rl,Ul,Ql,Fl,Yl,Gl,Vl,Wl,Hl,ql,Xl,Zl,Kl,Jl,$l,f,td,_h,id,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0!==s?s:"undefined"!=typeof global?global:this,s=a.window,h=a.document,ed=a.location,sd=a.navigator,u=a.setTimeout,c=a.clearTimeout,v=a.setInterval,m=a.clearInterval,b=a.Error,k=a.TypeError,_=(a.SyntaxError,a.Object),x=a.Math,C=a.parseInt,S=a.parseFloat,j=a.isNaN,T=a.Uint8Array,nd=a.Worker,rd=(a.WorkerGlobalScope,a.XMLHttpRequest),hd=_.create,od=_.defineProperty,ad=_.getOwnPropertyDescriptor,ud=_.getOwnPropertyNames,cd=_.getPrototypeOf,ld=_.prototype.hasOwnProperty,dd=(t,i)=>()=>(t&&(i=t(t=0)),i),Kh=(t,i)=>()=>(i||t((i={exports:{}}).exports,i),i.exports),eo=(t,i,e)=>(e=null!=t?hd(cd(t)):{},((t,i,e,s)=>{if(i&&"object"==typeof i||"function"==typeof i)for(let n of ud(i))ld.call(t,n)||n===e||od(t,n,{get:()=>i[n],enumerable:!(s=ad(i,n))||s.enumerable});return t})(!i&&t&&t.__esModule?e:od(e,"default",{value:t,enumerable:!0}),t));function fd(){}function X(t){return"object"==typeof t&&null!==t||"function"==typeof t}function _d(t){return t.slice()}function gd(t,i,e,s,n){new T(t).set(new T(e,s,n),i)}function wd(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Nl(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Ad(t,i,e){if("function"!=typeof t)throw new k("Argument is not a function");return Function.prototype.apply.call(t,i,e)}function vd(t,i,e,s){var n=t[i];if(void 0!==n){if("function"!=typeof n)throw new k(n+" is not a method");switch(e){case 0:return function(){return pd(n,t,s)};case 1:return function(i){var e=[i].concat(s);return pd(n,t,e)}}}return function(){return Ui(void 0)}}function md(t,i,e){var s=t[i];if(void 0!==s)return Ad(s,t,e)}function pd(t,i,e){try{return Ui(Ad(t,i,e))}catch(t){return oa(t)}}function vo(t){if(t=Number(t),Nl(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function yd(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new k("size property of a queuing strategy must be a function");return function(i){return t(i)}}function Zc(t){return new Il(t)}function Ui(t){return Ll(t)}function oa(t){return Ol(t)}function Md(t,i,e){return El.call(t,i,e)}function Gi(t,i,e){Md(Md(t,i,e),void 0,Dl)}function Td(t,i){Gi(t,i)}function Nd(t,i){Gi(t,void 0,i)}function Hr(t,i,e){return Md(t,i,e)}function Dd(t){Md(t,void 0,Dl)}function Ge(t,i,e){var s=null;!0===e&&(s=_.prototype);var n=_.create(s);return n.value=t,n.done=i,n}function Id(t,i){t.ul=!0,t.hd=i,i.Nd=t,"readable"===i.ja?bd(t):"closed"===i.ja?function(t){bd(t),Cd(t)}(t):Ld(t,i.Dd)}function Sd(t,i){return zr(t.hd,i)}function Ed(t){"readable"===t.hd.ja?kd(t,new k("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,i){Ld(t,i)}(t,new k("Reader was released and can no longer be used to monitor the stream's closedness")),t.hd.Nd=void 0,t.hd=void 0}function wo(t){return new k("Cannot "+t+" a stream using a released reader")}function bd(t){t.Id=Zc((function(i,e){t.Ld=i,t.Od=e}))}function Ld(t,i){bd(t),kd(t,i)}function kd(t,i){Dd(t.Id),t.Od(i),t.Ld=void 0,t.Od=void 0}function Cd(t){t.Ld(void 0),t.Ld=void 0,t.Od=void 0}function xd(t,i){void 0===i&&(i=!1);var e=new Bl(t);return e.ul=i,e}function Od(t){return Zc((function(i,e){var s={zd:i,Bd:e};t.Nd.Rd.push(s)}))}function jd(t,i,e){var s=t.Nd;s.Rd.shift().zd(Ge(i,e,s.ul))}function zd(t){return t.Nd.Rd.length}function Pd(t){var i=t.Nd;return void 0!==i&&!!kr(i)}function kr(t){return!!X(t)&&!!_.prototype.hasOwnProperty.call(t,"Rd")}function Bd(t){var i=t.hd;return i.Ud=!0,"closed"===i.ja?Ui(Ge(void 0,!0,t.ul)):"errored"===i.ja?oa(i.Dd):i.Qd[Pl]()}function Rd(t){return new k("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}function Ud(t){return!!X(t)&&!!_.prototype.hasOwnProperty.call(t,"Fd")}function Qd(t){return new k("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Fd(t){var i=t.Yd.shift();return t.Gd-=i.size,t.Gd<0&&(t.Gd=0),i.value}function Yd(t,i,e){if(!wd(e=Number(e)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Yd.push({value:i,size:e}),t.Gd+=e}function Gd(t){t.Yd=new ho,t.Gd=0}function Vd(t){return new Vl(t)}function Wd(t){t.ja="writable",t.Dd=void 0,t.Vd=void 0,t.Wd=void 0,t.Hd=new ho,t.qd=void 0,t.Xd=void 0,t.Zd=void 0,t.Kd=void 0,t.Jd=!1}function dr(t){return!!X(t)&&!!_.prototype.hasOwnProperty.call(t,"Wd")}function _o(t){return void 0!==t.Vd}function Hd(t,i){var e=t.ja;if("closed"===e||"errored"===e)return Ui(void 0);if(void 0!==t.Kd)return t.Kd.$d;var s=!1;"erroring"===e&&(s=!0,i=void 0);var n=Zc((function(e,n){t.Kd={$d:void 0,zd:e,Bd:n,tf:i,if:s}}));return t.Kd.$d=n,!1===s&&Zd(t,i),n}function qd(t){var i=t.ja;if("closed"===i||"errored"===i)return oa(new k("The stream (in "+i+" state) is not in the writable state and cannot be closed"));var e=Zc((function(i,e){var s={zd:i,Bd:e};t.Xd=s})),s=t.Vd;return void 0!==s&&!0===t.Jd&&"writable"===i&&Tf(s),function(t){Yd(t,"close",0),uf(t)}(t.Wd),e}function Xd(t,i){"writable"!==t.ja?Kd(t):Zd(t,i)}function Zd(t,i){var e=t.Wd;t.ja="erroring",t.Dd=i;var s=t.Vd;void 0!==s&&sf(s,i),!1===function(t){if(void 0===t.qd&&void 0===t.Zd)return!1;return!0}(t)&&!0===e.ef&&Kd(t)}function Kd(t){t.ja="errored",t.Wd[Yl]();var i=t.Dd;if(t.Hd.forEach((function(t){t.Bd(i)})),t.Hd=new ho,void 0!==t.Kd){var e=t.Kd;if(t.Kd=void 0,!0===e.if)return e.Bd(i),void Jd(t);Gi(t.Wd[Fl](e.tf),(function(){e.zd(),Jd(t)}),(function(i){e.Bd(i),Jd(t)}))}else Jd(t)}function qr(t){return void 0!==t.Xd||void 0!==t.Zd}function Jd(t){void 0!==t.Xd&&(t.Xd.Bd(t.Dd),t.Xd=void 0);var i=t.Vd;void 0!==i&&Af(i,t.Dd)}function $d(t,i){var e=t.Vd;void 0!==e&&i!==t.Jd&&(!0===i?function(t){mf(t)}(e):Tf(e)),t.Jd=i}function mr(t){return!!X(t)&&!!_.prototype.hasOwnProperty.call(t,"sf")}function tf(t){return qd(t.sf)}function ef(t,i){"pending"===t.nf?Af(t,i):function(t,i){wf(t,i)}(t,i)}function sf(t,i){"pending"===t.rf?Mf(t,i):function(t,i){pf(t,i)}(t,i)}function nf(t){var i=t.sf,e=new k("Writer was released and can no longer be used to monitor the stream's closedness");sf(t,e),ef(t,e),i.Vd=void 0,t.sf=void 0}function rf(t,i){var e=t.sf,s=e.Wd,n=function(t,i){try{return t.hf(i)}catch(i){return cf(t,i),1}}(s,i);if(e!==t.sf)return oa(_f("write to"));var r=e.ja;if("errored"===r)return oa(e.Dd);if(!0===qr(e)||"closed"===r)return oa(new k("The stream is closing or closed and cannot be written to"));if("erroring"===r)return oa(e.Dd);var h=function(t){return Zc((function(i,e){var s={zd:i,Bd:e};t.Hd.push(s)}))}(e);return function(t,i,e){var s={chunk:i};try{Yd(t,s,e)}catch(i){return void cf(t,i)}var n=t.uf;if(!1===qr(n)&&"writable"===n.ja){$d(n,lf(t))}uf(t)}(s,i,n),h}function hf(t,i,e,s,n,r,h,o){i.uf=t,t.Wd=i,i.Yd=void 0,i.Gd=void 0,Gd(i),i.ef=!1,i.hf=o,i.cf=h,i.lf=s,i.df=n,i._f=r;var a=lf(i);$d(t,a),Gi(Ui(e()),(function(){i.ef=!0,uf(i)}),(function(e){i.ef=!0,Xd(t,e)}))}function of(t){t.lf=void 0,t.df=void 0,t._f=void 0,t.hf=void 0}function af(t){return t.cf-t.Gd}function uf(t){var i=t.uf;if(!1!==t.ef&&void 0===i.qd)if("erroring"!==i.ja){if(0!==t.Yd.length){var e=function(t){return t.Yd.peek().value}(t);"close"===e?function(t){var i=t.uf;(function(t){t.Zd=t.Xd,t.Xd=void 0})(i),Fd(t);var e=t.df();of(t),Gi(e,(function(){!function(t){t.Zd.zd(void 0),t.Zd=void 0,"erroring"===t.ja&&(t.Dd=void 0,void 0!==t.Kd&&(t.Kd.zd(),t.Kd=void 0)),t.ja="closed";var i=t.Vd;void 0!==i&&vf(i)}(i)}),(function(t){!function(t,i){t.Zd.Bd(i),t.Zd=void 0,void 0!==t.Kd&&(t.Kd.Bd(i),t.Kd=void 0),Xd(t,i)}(i,t)}))}(t):function(t,i){var e=t.uf;!function(t){t.qd=t.Hd.shift()}(e);var s=t.lf(i);Gi(s,(function(){!function(t){t.qd.zd(void 0),t.qd=void 0}(e);var i=e.ja;if(Fd(t),!1===qr(e)&&"writable"===i){var s=lf(t);$d(e,s)}uf(t)}),(function(i){"writable"===e.ja&&of(t),function(t,i){t.qd.Bd(i),t.qd=void 0,Xd(t,i)}(e,i)}))}(t,e.chunk)}}else Kd(i)}function cf(t,i){"writable"===t.uf.ja&&df(t,i)}function lf(t){return af(t)<=0}function df(t,i){var e=t.uf;of(t),Zd(e,i)}function ff(t){return new k("WritableStream.prototype."+t+" can only be used on a WritableStream")}function vr(t){return new k("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function _f(t){return new k("Cannot "+t+" a stream using a released writer")}function gf(t){t.Id=Zc((function(i,e){t.Ld=i,t.Od=e,t.nf="pending"}))}function wf(t,i){gf(t),Af(t,i)}function Af(t,i){Dd(t.Id),t.Od(i),t.Ld=void 0,t.Od=void 0,t.nf="rejected"}function vf(t){t.Ld(void 0),t.Ld=void 0,t.Od=void 0,t.nf="resolved"}function mf(t){t.gf=Zc((function(i,e){t.wf=i,t.Af=e})),t.rf="pending"}function pf(t,i){mf(t),Mf(t,i)}function yf(t){mf(t),Tf(t)}function Mf(t,i){Dd(t.gf),t.Af(i),t.wf=void 0,t.Af=void 0,t.rf="rejected"}function Tf(t){t.wf(void 0),t.wf=void 0,t.Af=void 0,t.rf="fulfilled"}function Nf(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}function Df(t,i,e,s,n,r){var h=xd(t),o=Vd(i);t.Ud=!0;var a=!1,u=Ui(void 0);return Zc((function(c,l){var d,f,_,g;if(void 0!==r){if(d=function(){var e=new ql("Aborted","AbortError"),r=[];!1===s&&r.push((function(){return"writable"===i.ja?Hd(i,e):Ui(void 0)})),!1===n&&r.push((function(){return"readable"===t.ja?zr(t,e):Ui(void 0)})),m((function(){return Promise.all(r.map((function(t){return t()})))}),!0,e)},!0===r.aborted)return void d();r.addEventListener("abort",d)}if(v(t,h.Id,(function(t){!1===s?m((function(){return Hd(i,t)}),!0,t):p(!0,t)})),v(i,o.Id,(function(i){!1===n?m((function(){return zr(t,i)}),!0,i):p(!0,i)})),f=t,_=h.Id,g=function(){!1===e?m((function(){return function(t){var i=t.sf,e=i.ja;return!0===qr(i)||"closed"===e?Ui(void 0):"errored"===e?oa(i.Dd):tf(t)}(o)})):p()},"closed"===f.ja?g():Td(_,g),!0===qr(i)||"closed"===i.ja){var w=new k("the destination writable stream closed before all data could be piped to it");!1===n?m((function(){return zr(t,w)}),!0,w):p(!0,w)}function A(){var t=u;return Md(u,(function(){return t!==u?A():void 0}))}function v(t,i,e){"errored"===t.ja?e(t.Dd):Nd(i,e)}function m(t,e,s){function n(){Gi(t(),(function(){return y(e,s)}),(function(t){return y(!0,t)}))}!0!==a&&(a=!0,"writable"===i.ja&&!1===qr(i)?Td(A(),n):n())}function p(t,e){!0!==a&&(a=!0,"writable"===i.ja&&!1===qr(i)?Td(A(),(function(){return y(t,e)})):y(t,e))}function y(t,i){nf(o),Ed(h),void 0!==r&&r.removeEventListener("abort",d),t?l(i):c(void 0)}Dd(Zc((function(t,i){!function e(s){s?t():Md(!0===a?Ui(!0):Md(o.gf,(function(){return Md(Bd(h),(function(t){return!0===t.done||(u=Md(rf(o,t.value),void 0,fd),!1)}))})),e,i)}(!1)})))}))}function If(t){return!!X(t)&&!!_.prototype.hasOwnProperty.call(t,"vf")}function Sf(t){!1!==Ef(t)&&(!0!==t.mf?(t.mf=!0,Gi(t.pf(),(function(){t.mf=!1,!0===t.yf&&(t.yf=!1,Sf(t))}),(function(i){kf(t,i)}))):t.yf=!0)}function Ef(t){var i=t.vf;return!1!==Do(t)&&(!1!==t.ef&&(!0===h_(i)&&zd(i)>0||Cf(t)>0))}function bf(t){t.pf=void 0,t.Mf=void 0,t.hf=void 0}function fl(t){var i=t.vf;t.Tf=!0,0===t.Yd.length&&(bf(t),o_(i))}function Lf(t,i){var e=t.vf;if(!0===h_(e)&&zd(e)>0)jd(e,i,!1);else{var s=void 0;try{s=t.hf(i)}catch(i){throw kf(t,i),i}try{Yd(t,i,s)}catch(i){throw kf(t,i),i}}Sf(t)}function kf(t,i){var e=t.vf;"readable"===e.ja&&(Gd(t),bf(t),a_(e,i))}function Cf(t){var i=t.vf.ja;return"errored"===i?null:"closed"===i?0:t.cf-t.Gd}function Do(t){var i=t.vf.ja;return!1===t.Tf&&"readable"===i}function xf(t,i,e,s,n,r,h){i.vf=t,i.Yd=void 0,i.Gd=void 0,Gd(i),i.ef=!1,i.Tf=!1,i.yf=!1,i.mf=!1,i.hf=h,i.cf=r,i.pf=s,i.Mf=n,t.Qd=i,Gi(Ui(e()),(function(){i.ef=!0,Sf(i)}),(function(t){kf(i,t)}))}function Of(t){return new k("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function jf(t){return!!X(t)&&!!_.prototype.hasOwnProperty.call(t,"Nf")}function zf(t){return!!X(t)&&!!_.prototype.hasOwnProperty.call(t,"Df")}function rh(t){var i=function(t){var i=t.Nf;if("readable"!==i.ja)return!1;if(!0===t.Tf)return!1;if(!1===t.ef)return!1;if(!0===Pd(i)&&zd(i)>0)return!0;if(!0===t_(i)&&$f(i)>0)return!0;var e=qf(t);if(e>0)return!0;return!1}(t);!1!==i&&(!0!==t.mf?(t.mf=!0,Gi(t.pf(),(function(){t.mf=!1,!0===t.yf&&(t.yf=!1,rh(t))}),(function(i){al(t,i)}))):t.yf=!0)}function Pf(t,i){var e=!1;"closed"===t.ja&&(e=!0);var s=Bf(i);"default"===i.readerType?jd(t,s,e):function(t,i,e){var s=t.Nd,n=s.If.shift();n.zd(Ge(i,e,s.ul))}(t,s,e)}function Bf(t){var i=t.bytesFilled,e=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,i/e)}function Rf(t,i,e,s){t.Yd.push({buffer:i,byteOffset:e,byteLength:s}),t.Gd+=s}function Uf(t,i){var e=i.elementSize,s=i.bytesFilled-i.bytesFilled%e,n=x.min(t.Gd,i.byteLength-i.bytesFilled),r=i.bytesFilled+n,h=r-r%e,o=n,a=!1;h>s&&(o=h-i.bytesFilled,a=!0);for(var u=t.Yd;o>0;){var c=u.peek(),l=x.min(o,c.byteLength),d=i.byteOffset+i.bytesFilled;gd(i.buffer,d,c.buffer,c.byteOffset,l),c.byteLength===l?u.shift():(c.byteOffset+=l,c.byteLength-=l),t.Gd-=l,Qf(t,l,i),o-=l}return a}function Qf(t,i,e){Yf(t),e.bytesFilled+=i}function Ff(t){0===t.Gd&&!0===t.Tf?(Hf(t),o_(t.Nf)):rh(t)}function Yf(t){void 0!==t.Sf&&(t.Sf.Df=void 0,t.Sf.Ef=void 0,t.Sf=void 0)}function Gf(t){for(;t.bf.length>0;){if(0===t.Gd)return;var i=t.bf.peek();!0===Uf(t,i)&&(Wf(t),Pf(t.Nf,i))}}function Vf(t,i){var e=t.bf.peek();if("closed"===t.Nf.ja){if(0!==i)throw new k("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,i){i.buffer=i.buffer;var e=t.Nf;if(!0===t_(e))for(;$f(e)>0;)Pf(e,Wf(t))}(t,e)}else!function(t,i,e){if(e.bytesFilled+i>e.byteLength)throw new RangeError("bytesWritten out of range");if(Qf(t,i,e),!(e.bytesFilled<e.elementSize)){Wf(t);var s=e.bytesFilled%e.elementSize;if(s>0){var n=e.byteOffset+e.bytesFilled,r=e.buffer.slice(n-s,n);Rf(t,r,0,r.byteLength)}e.buffer=e.buffer,e.bytesFilled-=s,Pf(t.Nf,e),Gf(t)}}(t,i,e);rh(t)}function Wf(t){var i=t.bf.shift();return Yf(t),i}function Hf(t){t.pf=void 0,t.Mf=void 0}function al(t,i){var e=t.Nf;"readable"===e.ja&&(!function(t){Yf(t),t.bf=new ho}(t),Gd(t),Hf(t),a_(e,i))}function qf(t){var i=t.Nf.ja;return"errored"===i?null:"closed"===i?0:t.cf-t.Gd}function Xf(t,i,e){var s=_.create(Jl.prototype);var n=vd(i,"pull",0,[s]),r=vd(i,"cancel",1,[]),h=i.autoAllocateChunkSize;if(void 0!==h&&(h=Number(h),!1===Zl(h)||h<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,i,e,s,n,r,h){i.Nf=t,i.yf=!1,i.mf=!1,i.Sf=void 0,i.Yd=i.Gd=void 0,Gd(i),i.Tf=!1,i.ef=!1,i.cf=vo(r),i.pf=s,i.Mf=n,i.Lf=h,i.bf=new ho,t.Qd=i,Gi(Ui(e()),(function(){i.ef=!0,rh(i)}),(function(t){al(i,t)}))}(t,s,(function(){return md(i,"start",[s])}),n,r,e,h)}function Zf(t){return new k("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Kf(t){return new k("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Jf(t){return Zc((function(i,e){var s={zd:i,Bd:e};t.Nd.If.push(s)}))}function $f(t){return t.Nd.If.length}function t_(t){var i=t.Nd;return void 0!==i&&!!i_(i)}function i_(t){return!!X(t)&&!!_.prototype.hasOwnProperty.call(t,"If")}function e_(t,i){var e=t.hd;return e.Ud=!0,"errored"===e.ja?oa(e.Dd):function(t,i){var e=t.Nf,s=1;i.constructor!==DataView&&(s=i.constructor.BYTES_PER_ELEMENT);var n=i.constructor,r={buffer:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength,bytesFilled:0,elementSize:s,ctor:n,readerType:"byob"};if(t.bf.length>0)return t.bf.push(r),Jf(e);if("closed"===e.ja)return Ui(Ge(new n(r.buffer,r.byteOffset,0),!0,e.Nd.ul));if(t.Gd>0){if(!0===Uf(t,r)){var h=Bf(r);return Ff(t),Ui(Ge(h,!1,e.Nd.ul))}if(!0===t.Tf){var o=new k("Insufficient bytes to fill elements in the given buffer");return al(t,o),oa(o)}}t.bf.push(r);var a=Jf(e);return rh(t),a}(e.Qd,i)}function s_(t){return new k("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function n_(t,i,e,s,n){void 0===s&&(s=1),void 0===n&&(n=function(){return 1});var r=_.create(f.prototype);return r_(r),xf(r,_.create(Xl.prototype),t,i,e,s,n),r}function r_(t){t.ja="readable",t.Nd=void 0,t.Dd=void 0,t.Ud=!1}function so(t){return!!X(t)&&!!_.prototype.hasOwnProperty.call(t,"Qd")}function h_(t){return void 0!==t.Nd}function zr(t,i){return t.Ud=!0,"closed"===t.ja?Ui(void 0):"errored"===t.ja?oa(t.Dd):(o_(t),Hr(t.Qd[zl](i),fd))}function o_(t){t.ja="closed";var i=t.Nd;void 0!==i&&(kr(i)&&(i.Rd.forEach((function(t){t.zd(Ge(void 0,!0,i.ul))})),i.Rd=new ho),Cd(i))}function a_(t,i){t.ja="errored",t.Dd=i;var e=t.Nd;void 0!==e&&(kr(e)?(e.Rd.forEach((function(t){t.Bd(i)})),e.Rd=new ho):(e.If.forEach((function(t){t.Bd(i)})),e.If=new ho),kd(e,i))}function u_(t){return new k("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function c_(t,i,e,s,n,r){function h(){return i}t.kf=function(t,i,e,s,n,r){void 0===n&&(n=1),void 0===r&&(r=function(){return 1});var h=_.create(Gl.prototype);return Wd(h),hf(h,_.create(Wl.prototype),t,i,e,s,n,r),h}(h,(function(i){return function(t,i){var e=t.Cf;if(!0===t.Jd){return Hr(t.xf,(function(){var s=t.kf;if("erroring"===s.ja)throw s.Dd;return v_(e,i)}))}return v_(e,i)}(t,i)}),(function(){return function(t){var i=t.Of,e=t.Cf,s=e.jf();return w_(e),Hr(s,(function(){if("errored"===i.ja)throw i.Dd;var t=i.Qd;!0===Do(t)&&fl(t)}),(function(e){throw d_(t,e),i.Dd}))}(t)}),(function(i){return function(t,i){return d_(t,i),Ui(void 0)}(t,i)}),e,s),t.Of=n_(h,(function(){return function(t){return __(t,!1),t.xf}(t)}),(function(i){return f_(t,i),Ui(void 0)}),n,r),t.Jd=void 0,t.xf=void 0,t.zf=void 0,__(t,!0),t.Cf=void 0}function l_(t){return!!X(t)&&!!_.prototype.hasOwnProperty.call(t,"Cf")}function d_(t,i){kf(t.Of.Qd,i),f_(t,i)}function f_(t,i){w_(t.Cf),cf(t.kf.Wd,i),!0===t.Jd&&__(t,!1)}function __(t,i){void 0!==t.xf&&t.zf(),t.xf=Zc((function(i){t.zf=i})),t.Jd=i}function g_(t){return!!X(t)&&!!_.prototype.hasOwnProperty.call(t,"Pf")}function w_(t){t.Bf=void 0,t.jf=void 0}function A_(t,i){var e=t.Pf,s=e.Of.Qd;if(!1===Do(s))throw new k("Readable side is not in a state that permits enqueue");try{Lf(s,i)}catch(t){throw f_(e,t),e.Of.Dd}var n=function(t){return!0!==Ef(t)}(s);n!==e.Jd&&__(e,!0)}function v_(t,i){return Hr(t.Bf(i),void 0,(function(i){throw d_(t.Pf,i),i}))}function m_(t){return new k("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function p_(t){return new k("TransformStream.prototype."+t+" can only be used on a TransformStream")}var y_,g,Th,M_=dd((()=>{var t;r(),Al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"},Nl=Number.isNaN||function(t){return t!=t},Dl=fd,Il=Promise,El=Promise.prototype.then,Ll=Promise.resolve.bind(Il),Ol=Promise.reject.bind(Il),16384,ho=function(){function t(){this.Rf=0,this.Uf=0,this.Qf={Ff:[],Yf:void 0},this.Gf=this.Qf,this.Rf=0,this.Uf=0}return _.defineProperty(t.prototype,"length",{get:function(){return this.Uf},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var i=this.Gf,e=i;16383===i.Ff.length&&(e={Ff:[],Yf:void 0}),i.Ff.push(t),e!==i&&(this.Gf=e,i.Yf=e),++this.Uf},t.prototype.shift=function(){var t=this.Qf,i=t,e=this.Rf,s=e+1,n=t.Ff,r=n[e];return 16384===s&&(i=t.Yf,s=0),--this.Uf,this.Rf=s,t!==i&&(this.Qf=i),n[e]=void 0,r},t.prototype.forEach=function(t){for(var i=this.Rf,e=this.Qf,s=e.Ff;!(i===s.length&&void 0===e.Yf||i===s.length&&(i=0,0===(s=(e=e.Yf).Ff).length));)t(s[i]),++i},t.prototype.peek=function(){var t=this.Qf,i=this.Rf;return t.Ff[i]},t}(),zl=Al("[[CancelSteps]]"),Pl=Al("[[PullSteps]]"),Bl=function(){function t(t){if(!1===so(t))throw new k("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===h_(t))throw new k("This stream has already been locked for exclusive reading by another reader");Id(this,t),this.Rd=new ho}return _.defineProperty(t.prototype,"closed",{get:function(){return kr(this)?this.Id:oa(Rd("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return kr(this)?void 0===this.hd?oa(wo("cancel")):Sd(this,t):oa(Rd("cancel"))},t.prototype.read=function(){return kr(this)?void 0===this.hd?oa(wo("read from")):Bd(this):oa(Rd("read"))},t.prototype.releaseLock=function(){if(!kr(this))throw Rd("releaseLock");if(void 0!==this.hd){if(this.Rd.length>0)throw new k("Tried to release a reader lock when that reader has pending read() calls un-settled");Ed(this)}},t}(),"symbol"==typeof Al.asyncIterator&&((Rl={})[Al.asyncIterator]=function(){return this},Ul=Rl,_.defineProperty(Ul,Al.asyncIterator,{enumerable:!1})),Ql={next:function(){if(!1===Ud(this))return oa(Qd("next"));var t=this.Fd;return void 0===t.hd?oa(wo("iterate")):Hr(Bd(t),(function(i){var e=i.done;return e&&Ed(t),Ge(i.value,e,!0)}))},return:function(t){if(!1===Ud(this))return oa(Qd("next"));var i=this.Fd;if(void 0===i.hd)return oa(wo("finish iterating"));if(i.Rd.length>0)return oa(new k("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Vf){var e=Sd(i,t);return Ed(i),Hr(e,(function(){return Ge(t,!0,!0)}))}return Ed(i),Ui(Ge(t,!0,!0))}},void 0!==Ul&&_.setPrototypeOf(Ql,Ul),_.defineProperty(Ql,"next",{enumerable:!1}),_.defineProperty(Ql,"return",{enumerable:!1}),Fl=Al("[[AbortSteps]]"),Yl=Al("[[ErrorSteps]]"),Gl=function(){function t(t,i){void 0===t&&(t={}),void 0===i&&(i={}),Wd(this);var e=i.size,s=i.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var n=yd(e);void 0===s&&(s=1),function(t,i,e,s){var n=_.create(Wl.prototype),r=vd(i,"write",1,[n]),h=vd(i,"close",0,[]),o=vd(i,"abort",1,[]);hf(t,n,(function(){return md(i,"start",[n])}),r,h,o,e,s)}(this,t,s=vo(s),n)}return _.defineProperty(t.prototype,"locked",{get:function(){if(!1===dr(this))throw ff("locked");return _o(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===dr(this)?oa(ff("abort")):!0===_o(this)?oa(new k("Cannot abort a stream that already has a writer")):Hd(this,t)},t.prototype.close=function(){return!1===dr(this)?oa(ff("close")):!0===_o(this)?oa(new k("Cannot close a stream that already has a writer")):!0===qr(this)?oa(new k("Cannot close an already-closing stream")):qd(this)},t.prototype.getWriter=function(){if(!1===dr(this))throw ff("getWriter");return Vd(this)},t}(),Vl=function(){function t(t){if(!1===dr(t))throw new k("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===_o(t))throw new k("This stream has already been locked for exclusive writing by another writer");this.sf=t,t.Vd=this;var i=t.ja;if("writable"===i)!1===qr(t)&&!0===t.Jd?mf(this):yf(this),gf(this);else if("erroring"===i)pf(this,t.Dd),gf(this);else if("closed"===i)yf(this),function(t){gf(t),vf(t)}(this);else{var e=t.Dd;pf(this,e),wf(this,e)}}return _.defineProperty(t.prototype,"closed",{get:function(){return!1===mr(this)?oa(vr("closed")):this.Id},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===mr(this))throw vr("desiredSize");if(void 0===this.sf)throw _f("desiredSize");return function(t){var i=t.sf,e=i.ja;return"errored"===e||"erroring"===e?null:"closed"===e?0:af(i.Wd)}(this)},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"ready",{get:function(){return!1===mr(this)?oa(vr("ready")):this.gf},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===mr(this)?oa(vr("abort")):void 0===this.sf?oa(_f("abort")):function(t,i){return Hd(t.sf,i)}(this,t)},t.prototype.close=function(){if(!1===mr(this))return oa(vr("close"));var t=this.sf;return void 0===t?oa(_f("close")):!0===qr(t)?oa(new k("Cannot close an already-closing stream")):tf(this)},t.prototype.releaseLock=function(){if(!1===mr(this))throw vr("releaseLock");void 0!==this.sf&&nf(this)},t.prototype.write=function(t){return!1===mr(this)?oa(vr("write")):void 0===this.sf?oa(_f("write to")):rf(this,t)},t}(),Wl=function(){function t(){throw new k("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){return!!X(t)&&!!_.prototype.hasOwnProperty.call(t,"uf")}(this))throw new k("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.uf.ja&&df(this,t)},t.prototype[Fl]=function(t){var i=this._f(t);return of(this),i},t.prototype[Yl]=function(){Gd(this)},t}(),Hl="undefined"!=typeof DOMException?DOMException:void 0,ql=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Hl)?Hl:((t=function(t,i){this.message=t||"",this.name=i||"Error",b.captureStackTrace&&b.captureStackTrace(this,this.constructor)}).prototype=_.create(b.prototype),_.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t),Xl=function(){function t(){throw new k}return _.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===If(this))throw Of("desiredSize");return Cf(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===If(this))throw Of("close");if(!1===Do(this))throw new k("The stream is not in a state that permits close");fl(this)},t.prototype.enqueue=function(t){if(!1===If(this))throw Of("enqueue");if(!1===Do(this))throw new k("The stream is not in a state that permits enqueue");return Lf(this,t)},t.prototype.error=function(t){if(!1===If(this))throw Of("error");kf(this,t)},t.prototype[zl]=function(t){Gd(this);var i=this.Mf(t);return bf(this),i},t.prototype[Pl]=function(){var t=this.vf;if(this.Yd.length>0){var i=Fd(this);return!0===this.Tf&&0===this.Yd.length?(bf(this),o_(t)):Sf(this),Ui(Ge(i,!1,t.Nd.ul))}var e=Od(t);return Sf(this),e},t}(),Zl=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&x.floor(t)===t},Kl=function(){function t(){throw new k("ReadableStreamBYOBRequest cannot be used directly")}return _.defineProperty(t.prototype,"view",{get:function(){if(!1===zf(this))throw Zf("view");return this.Ef},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===zf(this))throw Zf("respond");if(void 0===this.Df)throw new k("This BYOB request has been invalidated");this.Ef.buffer,function(t,i){if(!1===wd(i=Number(i)))throw new RangeError("bytesWritten must be a finite");Vf(t,i)}(this.Df,t)},t.prototype.respondWithNewView=function(t){if(!1===zf(this))throw Zf("respond");if(void 0===this.Df)throw new k("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new k("You can only respond with array buffer views");t.buffer,function(t,i){var e=t.bf.peek();if(e.byteOffset+e.bytesFilled!==i.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(e.byteLength!==i.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");e.buffer=i.buffer,Vf(t,i.byteLength)}(this.Df,t)},t}(),Jl=function(){function t(){throw new k("ReadableByteStreamController constructor cannot be used directly")}return _.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===jf(this))throw Kf("byobRequest");if(void 0===this.Sf&&this.bf.length>0){var t=this.bf.peek(),i=new T(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),e=_.create(Kl.prototype);!function(t,i,e){t.Df=i,t.Ef=e}(e,this,i),this.Sf=e}return this.Sf},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===jf(this))throw Kf("desiredSize");return qf(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===jf(this))throw Kf("close");if(!0===this.Tf)throw new k("The stream has already been closed; do not close it again!");var t=this.Nf.ja;if("readable"!==t)throw new k("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var i=t.Nf;if(t.Gd>0)t.Tf=!0;else{if(t.bf.length>0&&t.bf.peek().bytesFilled>0){var e=new k("Insufficient bytes to fill elements in the given buffer");throw al(t,e),e}Hf(t),o_(i)}}(this)},t.prototype.enqueue=function(t){if(!1===jf(this))throw Kf("enqueue");if(!0===this.Tf)throw new k("stream is closed or draining");var i=this.Nf.ja;if("readable"!==i)throw new k("The stream (in "+i+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new k("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,i){var e=t.Nf,s=i.buffer,n=i.byteOffset,r=i.byteLength,h=s;!0===Pd(e)?0===zd(e)?Rf(t,h,n,r):jd(e,new T(h,n,r),!1):!0===t_(e)?(Rf(t,h,n,r),Gf(t)):Rf(t,h,n,r),rh(t)}(this,t)},t.prototype.error=function(t){if(!1===jf(this))throw Kf("error");al(this,t)},t.prototype[zl]=function(t){this.bf.length>0&&(this.bf.peek().bytesFilled=0);Gd(this);var i=this.Mf(t);return Hf(this),i},t.prototype[Pl]=function(){var t=this.Nf;if(this.Gd>0){var i=this.Yd.shift();this.Gd-=i.byteLength,Ff(this);var e=void 0;try{e=new T(i.buffer,i.byteOffset,i.byteLength)}catch(t){return oa(t)}return Ui(Ge(e,!1,t.Nd.ul))}var s=this.Lf;if(void 0!==s){var n=void 0;try{n=new ArrayBuffer(s)}catch(t){return oa(t)}var r={buffer:n,byteOffset:0,byteLength:s,bytesFilled:0,elementSize:1,ctor:T,readerType:"default"};this.bf.push(r)}var h=Od(t);return rh(this),h},t}(),$l=function(){function t(t){if(!so(t))throw new k("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===jf(t.Qd))throw new k("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(h_(t))throw new k("This stream has already been locked for exclusive reading by another reader");Id(this,t),this.If=new ho}return _.defineProperty(t.prototype,"closed",{get:function(){return i_(this)?this.Id:oa(s_("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return i_(this)?void 0===this.hd?oa(wo("cancel")):Sd(this,t):oa(s_("cancel"))},t.prototype.read=function(t){return i_(this)?void 0===this.hd?oa(wo("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?oa(new k("view must have non-zero byteLength")):e_(this,t)):oa(new k("view must be an array buffer view")):oa(s_("read"))},t.prototype.releaseLock=function(){if(!i_(this))throw s_("releaseLock");if(void 0!==this.hd){if(this.If.length>0)throw new k("Tried to release a reader lock when that reader has pending read() calls un-settled");Ed(this)}},t}(),f=function(){function t(t,i){void 0===t&&(t={}),void 0===i&&(i={}),r_(this);var e=i.size,s=i.highWaterMark,n=t.type;if("bytes"===String(n)){if(void 0!==e)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===s&&(s=0),Xf(this,t,s=vo(s))}else{if(void 0!==n)throw new RangeError("Invalid type is specified");var r=yd(e);void 0===s&&(s=1),function(t,i,e,s){var n=_.create(Xl.prototype),r=vd(i,"pull",0,[n]),h=vd(i,"cancel",1,[]);xf(t,n,(function(){return md(i,"start",[n])}),r,h,e,s)}(this,t,s=vo(s),r)}}return _.defineProperty(t.prototype,"locked",{get:function(){if(!1===so(this))throw u_("locked");return h_(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===so(this)?oa(u_("cancel")):!0===h_(this)?oa(new k("Cannot cancel a stream that already has a reader")):zr(this,t)},t.prototype.getReader=function(t){var i=(void 0===t?{}:t).mode;if(!1===so(this))throw u_("getReader");if(void 0===i)return xd(this,!0);if("byob"===(i=String(i)))return function(t,i){void 0===i&&(i=!1);var e=new $l(t);return e.ul=i,e}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,i){var e=t.writable,s=t.readable,n=void 0===i?{}:i,r=n.preventClose,h=n.preventAbort,o=n.preventCancel,a=n.signal;if(!1===so(this))throw u_("pipeThrough");if(!1===dr(e))throw new k("writable argument to pipeThrough must be a WritableStream");if(!1===so(s))throw new k("readable argument to pipeThrough must be a ReadableStream");if(r=Boolean(r),h=Boolean(h),o=Boolean(o),void 0!==a&&!Nf(a))throw new k("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===h_(this))throw new k("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===_o(e))throw new k("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Dd(Df(this,e,r,h,o,a)),s},t.prototype.pipeTo=function(t,i){var e=void 0===i?{}:i,s=e.preventClose,n=e.preventAbort,r=e.preventCancel,h=e.signal;return!1===so(this)?oa(u_("pipeTo")):!1===dr(t)?oa(new k("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(s=Boolean(s),n=Boolean(n),r=Boolean(r),void 0===h||Nf(h)?!0===h_(this)?oa(new k("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===_o(t)?oa(new k("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Df(this,t,s,n,r,h):oa(new k("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===so(this))throw u_("tee");var t=function(t,i){var e,s,n,r,h,o=xd(t),a=!1,u=!1,c=!1,l=Zc((function(t){h=t}));function d(){return!0===a||(a=!0,Dd(Hr(Bd(o),(function(t){if(a=!1,!0===t.done)return!1===u&&fl(n.Qd),void(!1===c&&fl(r.Qd));var i=t.value,e=i,s=i;!1===u&&Lf(n.Qd,e),!1===c&&Lf(r.Qd,s)})))),Ui(void 0)}function f(){}return n=n_(f,d,(function(i){if(u=!0,e=i,!0===c){var n=_d([e,s]),r=zr(t,n);h(r)}return l})),r=n_(f,d,(function(i){if(c=!0,s=i,!0===u){var n=_d([e,s]),r=zr(t,n);h(r)}return l})),Nd(o.Id,(function(t){kf(n.Qd,t),kf(r.Qd,t)})),[n,r]}(this);return _d(t)},t.prototype.getIterator=function(t){var i=(void 0===t?{}:t).preventCancel,e=void 0!==i&&i;if(!1===so(this))throw u_("getIterator");return function(t,i){void 0===i&&(i=!1);var e=xd(t),s=_.create(Ql);return s.Fd=e,s.Vf=Boolean(i),s}(this,e)},t}(),"symbol"==typeof Al.asyncIterator&&_.defineProperty(f.prototype,Al.asyncIterator,{value:f.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0}),function(){function t(t){var i=t.highWaterMark;this.highWaterMark=i}return t.prototype.size=function(t){return t.byteLength},t}(),td=function(){function t(t){var i=t.highWaterMark;this.highWaterMark=i}return t.prototype.size=function(){return 1},t}(),_h=function(){function t(t,i,e){void 0===t&&(t={}),void 0===i&&(i={}),void 0===e&&(e={});var s=i.size,n=i.highWaterMark,r=e.size,h=e.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=yd(s);if(void 0===n&&(n=1),n=vo(n),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,u=yd(r);void 0===h&&(h=0),h=vo(h),c_(this,Zc((function(t){a=t})),n,o,h,u),function(t,i){var e=_.create(id.prototype),s=function(t){try{return A_(e,t),Ui(void 0)}catch(t){return oa(t)}},n=i.transform;if(void 0!==n){if("function"!=typeof n)throw new k("transform is not a method");s=function(t){return pd(n,i,[t,e])}}var r=vd(i,"flush",0,[e]);!function(t,i,e,s){i.Pf=t,t.Cf=i,i.Bf=e,i.jf=s}(t,e,s,r)}(this,t);var c=md(t,"start",[this.Cf]);a(c)}return _.defineProperty(t.prototype,"readable",{get:function(){if(!1===l_(this))throw p_("readable");return this.Of},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"writable",{get:function(){if(!1===l_(this))throw p_("writable");return this.kf},enumerable:!0,configurable:!0}),t}(),id=function(){function t(){throw new k("TransformStreamDefaultController instances cannot be created directly")}return _.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===g_(this))throw m_("desiredSize");return Cf(this.Pf.Of.Qd)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===g_(this))throw m_("enqueue");A_(this,t)},t.prototype.error=function(t){if(!1===g_(this))throw m_("error");!function(t,i){d_(t.Pf,i)}(this,t)},t.prototype.terminate=function(){if(!1===g_(this))throw m_("terminate");!function(t){var i=t.Pf,e=i.Of.Qd;!0===Do(e)&&fl(e),f_(i,new k("TransformStream terminated"))}(this)},t}()})),r=dd((()=>{"use strict";M_()})),T_=Kh(((t,i)=>{r(),i.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),N_=Kh(((t,i)=>{r(),i.exports=function(t,i){var e=i[0],s=i[1],n=i[2],r=i[3],h=e+e,o=s+s,a=n+n,u=e*h,c=s*h,l=s*o,d=n*h,f=n*o,_=n*a,g=r*h,w=r*o,A=r*a;return t[0]=1-l-_,t[1]=c+A,t[2]=d-w,t[3]=0,t[4]=c-A,t[5]=1-u-_,t[6]=f+g,t[7]=0,t[8]=d+w,t[9]=f-g,t[10]=1-u-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),D_=Kh(((t,i)=>{r(),i.exports=function(t,i,e){var s,n,r,h=e[0],o=e[1],a=e[2],u=x.sqrt(h*h+o*o+a*a);if(x.abs(u)<1e-6)return null;return h*=u=1/u,o*=u,a*=u,s=x.sin(i),n=x.cos(i),r=1-n,t[0]=h*h*r+n,t[1]=o*h*r+a*s,t[2]=a*h*r-o*s,t[3]=0,t[4]=h*o*r-a*s,t[5]=o*o*r+n,t[6]=a*o*r+h*s,t[7]=0,t[8]=h*a*r+o*s,t[9]=o*a*r-h*s,t[10]=a*a*r+n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),I_=Kh(((t,i)=>{r(),i.exports=function(t,i){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}})),S_=Kh(((t,i)=>{r(),i.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),E_=Kh(((t,i)=>{r(),i.exports=function(t,i){var e=i[0],s=i[1],n=i[2],r=i[3],h=i[4],o=i[5],a=i[6],u=i[7],c=i[8],l=i[9],d=i[10],f=i[11],_=i[12],g=i[13],w=i[14],A=i[15],v=e*o-s*h,m=e*a-n*h,p=e*u-r*h,y=s*a-n*o,M=s*u-r*o,T=n*u-r*a,N=c*g-l*_,D=c*w-d*_,I=c*A-f*_,S=l*w-d*g,E=l*A-f*g,b=d*A-f*w,L=v*b-m*E+p*S+y*I-M*D+T*N;if(!L)return null;return L=1/L,t[0]=(o*b-a*E+u*S)*L,t[1]=(n*E-s*b-r*S)*L,t[2]=(g*T-w*M+A*y)*L,t[3]=(d*M-l*T-f*y)*L,t[4]=(a*I-h*b-u*D)*L,t[5]=(e*b-n*I+r*D)*L,t[6]=(w*p-_*T-A*m)*L,t[7]=(c*T-d*p+f*m)*L,t[8]=(h*E-o*I+u*N)*L,t[9]=(s*I-e*E-r*N)*L,t[10]=(_*M-g*p+A*v)*L,t[11]=(l*p-c*M-f*v)*L,t[12]=(o*D-h*S-a*N)*L,t[13]=(e*S-s*D+n*N)*L,t[14]=(g*m-_*y-w*v)*L,t[15]=(c*y-l*m+d*v)*L,t}})),b_=Kh(((t,i)=>{r(),i.exports=function(t,i,e){var s=i[0],n=i[1],r=i[2],h=i[3],o=i[4],a=i[5],u=i[6],c=i[7],l=i[8],d=i[9],f=i[10],_=i[11],g=i[12],w=i[13],A=i[14],v=i[15],m=e[0],p=e[1],y=e[2],M=e[3];return t[0]=m*s+p*o+y*l+M*g,t[1]=m*n+p*a+y*d+M*w,t[2]=m*r+p*u+y*f+M*A,t[3]=m*h+p*c+y*_+M*v,m=e[4],p=e[5],y=e[6],M=e[7],t[4]=m*s+p*o+y*l+M*g,t[5]=m*n+p*a+y*d+M*w,t[6]=m*r+p*u+y*f+M*A,t[7]=m*h+p*c+y*_+M*v,m=e[8],p=e[9],y=e[10],M=e[11],t[8]=m*s+p*o+y*l+M*g,t[9]=m*n+p*a+y*d+M*w,t[10]=m*r+p*u+y*f+M*A,t[11]=m*h+p*c+y*_+M*v,m=e[12],p=e[13],y=e[14],M=e[15],t[12]=m*s+p*o+y*l+M*g,t[13]=m*n+p*a+y*d+M*w,t[14]=m*r+p*u+y*f+M*A,t[15]=m*h+p*c+y*_+M*v,t}})),L_=Kh(((t,i)=>{r(),i.exports=function(t,i,e,s,n){var r=1/x.tan(i/2),h=1/(s-n);return t[0]=r/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(n+s)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*n*s*h,t[15]=0,t}})),k_=Kh(((t,i)=>{r(),i.exports=function(t,i,e,s){var n,r,h,o,a,u,c,l,d,f,_,g,w,A,v,m,p,y,M,T,N,D,I,S,E=s[0],b=s[1],L=s[2],k=x.sqrt(E*E+b*b+L*L);if(x.abs(k)<1e-6)return null;E*=k=1/k,b*=k,L*=k,n=x.sin(e),r=x.cos(e),h=1-r,o=i[0],a=i[1],u=i[2],c=i[3],l=i[4],d=i[5],f=i[6],_=i[7],g=i[8],w=i[9],A=i[10],v=i[11],m=E*E*h+r,p=b*E*h+L*n,y=L*E*h-b*n,M=E*b*h-L*n,T=b*b*h+r,N=L*b*h+E*n,D=E*L*h+b*n,I=b*L*h-E*n,S=L*L*h+r,t[0]=o*m+l*p+g*y,t[1]=a*m+d*p+w*y,t[2]=u*m+f*p+A*y,t[3]=c*m+_*p+v*y,t[4]=o*M+l*T+g*N,t[5]=a*M+d*T+w*N,t[6]=u*M+f*T+A*N,t[7]=c*M+_*T+v*N,t[8]=o*D+l*I+g*S,t[9]=a*D+d*I+w*S,t[10]=u*D+f*I+A*S,t[11]=c*D+_*I+v*S,i!==t&&(t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]);return t}})),C_=Kh(((t,i)=>{r(),i.exports=function(t,i,e){var s,n,r,h,o,a,u,c,l,d,f,_,g=e[0],w=e[1],A=e[2];i===t?(t[12]=i[0]*g+i[4]*w+i[8]*A+i[12],t[13]=i[1]*g+i[5]*w+i[9]*A+i[13],t[14]=i[2]*g+i[6]*w+i[10]*A+i[14],t[15]=i[3]*g+i[7]*w+i[11]*A+i[15]):(s=i[0],n=i[1],r=i[2],h=i[3],o=i[4],a=i[5],u=i[6],c=i[7],l=i[8],d=i[9],f=i[10],_=i[11],t[0]=s,t[1]=n,t[2]=r,t[3]=h,t[4]=o,t[5]=a,t[6]=u,t[7]=c,t[8]=l,t[9]=d,t[10]=f,t[11]=_,t[12]=s*g+o*w+l*A+i[12],t[13]=n*g+a*w+d*A+i[13],t[14]=r*g+u*w+f*A+i[14],t[15]=h*g+c*w+_*A+i[15]);return t}}));function tl(t,i){return x_(t.slice(),i)}function xl(t,i){const e=x_(t,i);return e!==t&&O_(e,void 0,t.length,t),t}function x_(t,i){let e=t;const s=e.length;if(s<=1)return e;let n=new Array(s);for(let t=1;t<s;t*=2){O_(e,i,t,n);const s=e;e=n,n=s}return e}function O_(t,i,e,s){const n=t.length;let r=0;const h=2*e;let o,a,u,c,l;for(a=0;a<n;a+=h)for(u=a+e,o=u+e,u>n&&(u=n),o>n&&(o=n),c=a,l=u;;)if(c<u&&l<o)i&&i(t[c],t[l])<=0?s[r++]=t[c++]:s[r++]=t[l++];else if(c<u)s[r++]=t[c++];else{if(!(l<o))break;s[r++]=t[l++]}}r(),(g=y_||(y_={}))[g.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",g[g.LICENSE_ERROR=2e3]="LICENSE_ERROR",g[g.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",g[g.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",g[g.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",g[g.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",g[g.SOURCE_INVALID=3e3]="SOURCE_INVALID",g[g.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",g[g.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",g[g.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",g[g.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",g[g.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",g[g.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",g[g.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",g[g.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",g[g.MEDIA_ABORTED=5004]="MEDIA_ABORTED",g[g.NETWORK_ERROR=6e3]="NETWORK_ERROR",g[g.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",g[g.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",g[g.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",g[g.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",g[g.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",g[g.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",g[g.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",g[g.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",g[g.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",g[g.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",g[g.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",g[g.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",g[g.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",g[g.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",g[g.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",g[g.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",g[g.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",g[g.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",g[g.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",g[g.AD_ERROR=1e4]="AD_ERROR",g[g.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",g[g.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",g[g.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",g[g.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",g[g.THEO_LIVE_UNKNOWN_ERROR=13e3]="THEO_LIVE_UNKNOWN_ERROR",g[g.THEO_LIVE_CHANNEL_NOT_FOUND=13001]="THEO_LIVE_CHANNEL_NOT_FOUND",g[g.THEO_LIVE_END_OF_DEMO=13002]="THEO_LIVE_END_OF_DEMO",g[g.THEO_LIVE_ANALYTICS_ERROR=13003]="THEO_LIVE_ANALYTICS_ERROR",function(t){t[t.CONFIGURATION=1]="CONFIGURATION",t[t.LICENSE=2]="LICENSE",t[t.SOURCE=3]="SOURCE",t[t.MANIFEST=4]="MANIFEST",t[t.MEDIA=5]="MEDIA",t[t.NETWORK=6]="NETWORK",t[t.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",t[t.SUBTITLE=8]="SUBTITLE",t[t.VR=9]="VR",t[t.AD=10]="AD",t[t.FULLSCREEN=11]="FULLSCREEN",t[t.CACHE=12]="CACHE",t[t.THEOLIVE=13]="THEOLIVE"}(Th||(Th={})),function(t){t.fromCode=function(i){const e=x.floor(i/1e3);if(e in t)return e;throw new k("Invalid error code: "+i)}}(Th||(Th={})),r(),r(),r(),r(),r(),r(),r(),r(),r(),r();var nt={}.hasOwnProperty,Fo={}.toString;function li(t){return null!=t}function j_(t){return void 0===t}var pi=Array.isArray||function(t){return"[object Array]"===Fo.call(t)};function rt(t){return Mi(t)&&nt.call(t,"length")&&B_(t.length)}function Mi(t){return"object"==typeof t&&null!==t}function Li(t){return Mi(t)&&t.constructor&&t.constructor===_}function ae(t){return"string"==typeof t}function z_(t){return"boolean"==typeof t}function vu(t){return li(t)&&"function"==typeof t.then}function P_(t){return"[object Date]"===Fo.call(t)}function B_(t){return"number"==typeof t}function R_(t){return"function"==typeof t}function U_(t){return R_(t)||Mi(t)}r(),r();var Po,Q_=9007199254740991,F_=2**-52;function Sc(t,i,e){return x.min(x.max(t,i),e)}function Va(t,i,e){return t===i||x.abs(t-i)<=e}function Y_(t,i){if(t===i)return!0;const e=x.abs(t-i);if(e<F_)return!0;return e<x.max(x.abs(t),x.abs(i))*F_}function wl(t,i){return t%i+(t<0?i:0)}function G_(t){return t!=t}function V_(t,i){return t===i||G_(t)&&G_(i)}function W_(t,i){let e=t,s=i;for(;0!==s;){const t=e%s;e=s,s=t}return e<0?-e:e}function Co(t,i){return t.reduce(((t,e)=>t+i(e)),0)}!function(t){t[t.Zr=0]="Zr",t[t.Wf=1]="Wf",t[t.Hf=-1]="Hf"}(Po||(Po={}));var H_=(t,i)=>(0|t)-(0|i),Ee=(t,i)=>t===i?0:t<i?-1:t>i?1:j(t)?j(i)?0:1:-1;function q_(t,i,e){return Va(t,i,e)?0:Ee(t,i)}var X_=(t,i)=>Y_(t,i)?0:Ee(t,i);var Z_="function"==typeof Array.prototype.find?(t,i)=>t.find(i):(t,i)=>{const e=Fa(t,i);return-1===e?void 0:t[e]},p=Z_,K_="function"==typeof Array.prototype.findLast?(t,i)=>t.findLast(i):(t,i)=>{const e=$_(t,i);return-1===e?void 0:t[e]},J_=K_,Fa="function"==typeof Array.prototype.findIndex?(t,i)=>t.findIndex(i):(t,i)=>{for(let e=0;e<t.length;e+=1){if(i(t[e],e,t))return e}return-1},$_="function"==typeof Array.prototype.findLastIndex?(t,i)=>t.findLastIndex(i):(t,i)=>{for(let e=t.length-1;e>=0;e-=1){if(i(t[e],e,t))return e}return-1};function Et(t,i){const e=t.indexOf(i);return-1!==e&&(Dt(t,e),!0)}function Dt(t,i){0===i?t.shift():t.splice(i,1)}function tg(t,i){const e=new Array(t.length);let s=0,n=0;for(;n<t.length;){if(t[n]===i){n++,e.length-=1;break}e[s++]=t[n++]}for(;n<t.length;)e[s++]=t[n++];return e}function Ho(t,i){return-1!==t.indexOf(i)}function kl(t,i,e){if(t===i)return!0;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s+=1)if(!e(t[s],i[s]))return!1;return!0}function Ri(t){t.length=0}function Uo(t,i){if(t.length!==i.length)return!1;for(const e of t)if(!Ho(i,e))return!1;return!0}Array.prototype.flat;var Eh="function"==typeof Array.prototype.flatMap?(t,i)=>t.flatMap(i):(t,i)=>{const e=[];for(let s=0;s<t.length;s++)e.push(...i(t[s],s));return e};function Ro(t,i){return eh(t,((t,e)=>Ee(i(t),i(e))))}function ig(t,i){return eg(t,((t,e)=>Ee(i(t),i(e))))}function eh(t,i){if(0!==t.length)return t.reduce(((t,e)=>i(t,e)<=0?t:e))}function eg(t,i){return eh(t,((t,e)=>i(e,t)))}function sg(t){return t.filter(((i,e)=>t.indexOf(i)===e))}function ng(t,i){return Promise.all(t.map(i)).then((i=>t.filter(((t,e)=>i[e]))))}function rg(t,i,e){if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(!e(t[s],i[s]))return!1;return!0}function bl(){const t=_.create(null);return t.qf=void 0,delete t.qf,t}function Qt(){return new ug}function _e(){return new cg}function hg(t){const i=Qt();for(const e in t)nt.call(t,e)&&i.set(e,t[e]);return i}function og(t){const i=[];return t.forEach((t=>i.push(t))),i}r();var ag="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,ug=ag||function(){class t{next(){const t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}}constructor(t,i){this.index=0,this.data=t,this.selector=i,this.keys=_.keys(t)}}return class{get(t){return this.data[t]}set(t,i){return this.has(t)||this.size++,this.data[t]=i,this}has(t){return t in this.data}delete(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)}clear(){this.data=bl(),this.size=0}keys(){return new t(this.data,((t,i)=>i))}values(){return new t(this.data,((t,i)=>t[i]))}entries(){return new t(this.data,((t,i)=>[i,t[i]]))}forEach(t){for(const i in this.data)t(this.data[i],i)}constructor(){this.data=bl(),this.size=0}}}();var cg=ag||function(){class t{next(){const t=this.Xf.next();return t.done?t:{value:this.Zf(t.value),done:!1}}constructor(t,i){this.Xf=t,this.Zf=i}}return class{get size(){return this.Kf.size}get(t){return this.Kf.get(""+t)}set(t,i){return this.Kf.set(""+t,i),this}has(t){return this.Kf.has(""+t)}delete(t){return this.Kf.delete(""+t)}clear(){this.Kf.clear()}keys(){return new t(this.Kf.keys(),(t=>Number(t)))}values(){return this.Kf.values()}entries(){return new t(this.Kf.entries(),(t=>{let[i,e]=t;return[Number(i),e]}))}forEach(t){this.Kf.forEach(((i,e)=>{t(i,Number(e))}))}constructor(){this.Kf=Qt()}}}();r(),r();var Bc=function(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];b.apply(this,i)};(Bc.prototype=_.create(b.prototype)).constructor=Bc;var Xo=class extends Bc{get name(){return"BaseError"}constructor(t,i){super(),this.message=t||"Unknown error",this.cause=i,b.captureStackTrace&&b.captureStackTrace(this,this.constructor)}};r();var lg,dg=class{Jf(){if(!this.$f&&!this.t_){this.$f=!0;for(const t of this.i_.slice())t();this.e_()}}e_(){if(!this.t_){this.t_=!0;for(const t of this.s_.slice())t();Ri(this.i_),Ri(this.s_)}}n_(t){this.t_||this.i_.push(t)}r_(t){this.t_||Et(this.i_,t)}h_(t){this.t_||this.s_.push(t)}o_(t){this.t_||Et(this.s_,t)}constructor(){this.$f=!1,this.t_=!1,this.i_=[],this.s_=[]}},xs=class t{get a_(){return this.u_}c_(){this.u_.Jf()}e_(){this.u_.e_()}l_(t){const i=this.u_;if(i.$f)return;if(t.$f)return void i.Jf();if(i.t_||t.t_)return;const e=()=>{s(),i.Jf()},s=()=>{t.r_(e),t.o_(s),i.r_(e),i.o_(s)};t.n_(e),t.h_(s),i.n_(e),i.h_(s)}d_(){const i=new t,e=new t,s=i.a_,n=e.a_,r=this.u_,h=()=>{s.$f&&n.t_||n.$f&&s.t_?r.Jf():s.t_&&n.t_&&r.e_()};s.n_(h),n.n_(h),s.h_(h),n.h_(h),i.l_(r),e.l_(r);return r.h_((()=>{s.r_(h),n.r_(h),s.o_(h),n.o_(h)})),[i,e]}constructor(){this.u_=new dg}};r(),r();var fg=()=>{},_g=t=>t;function uo(t,i){let e=-1/0;return function(){for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];const h=lg.f_();h-e>=i&&(t.apply(this,n),e=h)}}function Tl(t,i){let e=0;return function(){for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];const h=this;0!==e&&lg.__(e),e=lg.g_((()=>{e=0,t.apply(h,n)}),i)}}function bh(t){let i;return()=>(void 0!==t&&(i=t(),t=void 0),i)}var ia=class extends Xo{get name(){return"AbortError"}constructor(t,i){super(t||"Aborted",i)}};function So(t){return t instanceof b&&"AbortError"===t.name}function Pi(t){if(t&&t.$f)throw new ia}function go(t){if(So(t))throw t}function Mh(t){if(!So(t))throw t}function hh(t,i){return i?new Promise(((e,s)=>{if(i.$f)return t.catch(fg),s(new ia);const n=()=>{i.r_(n),s(new ia)};i.n_(n),t.then((t=>{i.r_(n),e(t)}),(t=>{i.r_(n),s(t)}))})):t}function dt(t,i){return t.then((t=>(i.e_(),t)),(t=>{throw i.e_(),t}))}function gg(t,i){const e=new xs;return i&&e.l_(i),dt(t(e.a_),e)}r();var wg=Promise.resolve(),Qu="function"==typeof queueMicrotask?queueMicrotask:t=>{wg.then(t)};function W(t){t.then(fg,fg)}async function pl(t){try{return await Promise.all(t)}catch(i){throw await Promise.all(t.map((t=>t.catch(fg)))),i}}function ws(t,i){return new Promise(((e,s)=>{if(void 0!==i&&i.$f)return void s(new ia);const n=lg.g_((()=>{void 0!==i&&i.r_(r),e()}),t),r=()=>{lg.__(n),s(new ia)};void 0!==i&&i.n_(r)}))}function Ag(t,i,e){if("function"==typeof e)e.call(t,i);else for(const s of e)s.call(t,i)}var at,i=class{yn(t,i){if("function"==typeof i)if("string"==typeof t)this.w_(t,i);else for(const e of t)this.w_(e,i)}w_(t,i){const e=this.A_[t];void 0===e?this.A_[t]=i:"function"==typeof e?this.A_[t]=[e,i]:0===this.v_?e.push(i):this.A_[t]=e.concat(i)}m_(t){if("function"!=typeof t)return;const i=this.p_;void 0===i?this.p_=t:"function"==typeof i?this.p_=[i,t]:0===this.v_?i.push(t):this.p_=i.concat(t)}Vo(){this.A_=bl(),this.p_=void 0}Co(t){this.v_++;const i=this.A_[t.type],e=this.p_;void 0!==i&&Ag(this.y_,t,i),void 0!==e&&Ag(this.y_,t,e),this.v_--}fn(t,i){if("function"==typeof i)if("string"==typeof t)this.M_(t,i);else for(const e of t)this.M_(e,i)}M_(t,i){const e=this.A_[t];void 0!==e&&("function"==typeof e?e===i&&(this.A_[t]=void 0):0===this.v_?Et(e,i):this.A_[t]=tg(e,i))}T_(t){if("string"==typeof t)this.A_[t]=void 0;else for(const i of t)this.A_[i]=void 0}N_(t){const i=this.p_;void 0!==i&&("function"==typeof i?i===t&&(this.p_=void 0):0===this.v_?Et(i,t):this.p_=tg(i,t))}D_(t,i){return new Promise(((e,s)=>{if(i&&i.$f)return s(new ia);const n=t=>{h(),e(t)},r=()=>{h(),s(new ia)},h=()=>{this.fn(t,n),i&&i.r_(r)};this.yn(t,n),i&&i.n_(r)}))}constructor(t){this.A_=bl(),this.p_=void 0,this.v_=0,this.Ds=t=>{this.Co(t)},this.y_=null!=t?t:this}},jt=class extends i{Co(t){Qu((()=>{super.Co(t)}))}},ra=class extends i{m_(t){super.m_(t)}N_(t){super.N_(t)}},vg=class extends ra{},qo=class extends ra{get ht(){return this.I_()}I_(){return this.S_.ht}E_(){return this.S_.E_()}get b_(){return this.L_()}L_(){return this.S_.b_}get k_(){return this.C_()}set k_(t){this.x_(t)}C_(){return this.S_.k_}x_(t){this.S_.k_=t}get bt(){return this.O_()}O_(){return this.S_.bt}get j_(){return this.z_()}set j_(t){this.P_(t)}z_(){return this.S_.j_}P_(t){this.S_.j_=t}get ct(){return this.Td()}Td(){return this.S_.ct}get we(){return this.B_()}B_(){return this.S_.we}get R_(){return this.U_()}U_(){return this.S_.R_}get lt(){return this.Q_()}get F_(){return this.Y_()}Q_(){return this.S_.lt}Y_(){return this.S_.F_}get G_(){return this.V_()}V_(){return this.S_.G_}get W_(){return this.H_()}H_(){return this.S_.W_}get q_(){return this.X_()}X_(){return this.S_.q_}get Z_(){return this.K_()}set Z_(t){this.J_(t)}K_(){return this.S_.Z_}J_(t){this.S_.Z_=t}get eg(){return this.rg()}rg(){return this.S_.eg}get hg(){return this.og()}og(){return this.S_.hg}get ag(){return this.cg()}set ag(t){this.dg(t)}cg(){return this.S_.ag}dg(t){this.S_.ag=t}get fg(){return this._g()}_g(){return this.S_.fg}get gg(){return this.wg()}set gg(t){this.Ag(t)}wg(){return this.S_.gg}Ag(t){this.S_.gg=t}get vg(){return this.pg()}pg(){return this.S_.vg}get yg(){return this.Mg()}Mg(){return this.S_.yg}get Tg(){return this.Ng()}Ng(){return this.S_.Tg}Wa(){return this.S_.Wa()}ga(t,i){return this.S_.ga(t,i)}get nt(){return this.Dg()}Dg(){return this.S_.nt}get Ig(){return this.Sg()}Sg(){return this.S_.Ig}get rt(){return this.Eg()}Eg(){return this.S_.rt}get Lg(){return this.Cg()}Cg(){return this.S_.Lg}get xg(){return this.Og()}set xg(t){this.jg(t)}get zg(){return this.Pg()}Pg(){return this.S_.zg}Og(){return this.S_.xg}jg(t){this.S_.xg=t}get Bg(){return this.S_.Bg}set Bg(t){this.S_.Bg=t}Rg(){return this.S_.Rg()}Ug(){return this.S_.Ug()}Qg(t){this.S_.Qg(t)}Fg(){this.S_.Fg()}be(){this.S_.be()}Yg(){this.S_.Yg()}Gg(){this.S_.Gg()}Vg(){this.S_.Vg()}ge(){this.S_.ge()}Wg(){return this.S_.Wg()}Hg(){return this.S_.Hg()}qg(){this.S_.qg()}Xg(){this.S_.Xg()}Zn(){return this.S_.Zn()}Zg(){this.S_.Zg()}Kg(){this.S_.Kg()}Jg(t){return this.S_.Jg(t)}$g(t){return!1}async gn(){this.Vo(),await this.S_.gn()}constructor(t){super(),this.iw=t=>{this.$g(t)||this.Co(t)},this.S_=t,t.m_(this.iw)}};r(),r(),r(),function(t){t.ew="nw",t.hw="ow"}(at||(at={})),r(),r(),r(),r(),r();var mg=class{constructor(t,i=new Date){this.type=t,this.date=i}},z=class extends mg{get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}constructor(t,i){super(t,i),this.Xa=void 0}};function pg(t){return Boolean(t&&t.va)}var yo=class extends z{constructor(t){super(t)}},bu=class extends mg{constructor(t){super(t)}},yg=class extends yo{fa(){return new Mg(this.Lt.va)}constructor(t){super(at.ew),this.Lt=t}},Mg=class extends bu{constructor(t){super("addtrack"),this.track=t}};r();var ea,Tg=class extends yo{fa(){return new Ng(this.Lt.va)}constructor(t){super(at.hw),this.Lt=t}},Ng=class extends bu{constructor(t){super("removetrack"),this.track=t}};r(),function(t){t.aw="uw",t.cw="lw",t.dw="fw",t._w="gw",t.ww="Aw",t.mw="pw",t.ra="yw",t.Mw="Tw",t.Nw="Dw",t.Iw="Qn",t.Sw="Ew",t.Lw="Cw",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(ea||(ea={}));var Di=class extends i{get xw(){return this.Ow}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}get U(){return this.Ow.length}jw(t){return this.Ow[t]}tt(t){return!(!t||Ho(this.Ow,t))&&(this.Ow.push(t),this.Xa&&this.Xa.push(t.va),t.yn(ea.ra,this.Ds),this.Co(new yg(t)),!0)}it(t){if(!t)return!1;const i=this.Ow.indexOf(t);return!(i<0)&&(Dt(this.Ow,i),this.Xa&&Dt(this.Xa,i),t.fn(ea.ra,this.Ds),this.Co(new Tg(t)),!0)}zw(t){return Ho(this.Ow,t)}Zn(){const t=this.Ow;for(let i=t.length-1;i>=0;i-=1)this.it(t[i])}gn(){this.Zn(),this.Vo()}constructor(){super(),this.Ow=[],this.Xa=void 0}};r();var le=class extends yo{fa(){return new Dg(this.Lt.va)}constructor(t){super(ea.ra),this.Lt=t}},Dg=class extends bu{constructor(t){super("change"),this.track=t}},Ic=class extends Di{get Pw(){return this.Bw}set Pw(t){const i=this.Bw;if(t!==i){if(i){this.Rw(i);for(const e of i.xw)t&&t.zw(e)||this.it(e)}if(this.Bw=t,t){const i=[];for(const e of t.xw)this.tt(e),this.Uw(e)&&i.push(e);this.Qw(t);for(const t of i)t.Co(new le(t))}}}Qw(t){t.yn(at.ew,this.Fw),t.yn(at.hw,this.Yw)}Rw(t){t.fn(at.ew,this.Fw),t.fn(at.hw,this.Yw)}gn(){this.Bw&&this.Bw.gn(),super.gn()}constructor(){super(),this.Bw=void 0,this.Fw=t=>{const i=t.Lt;this.tt(i)},this.Yw=t=>{const i=t.Lt;this.it(i)}}};r(),r(),r();var Ig=_.freeze||_g;function zc(t,i,e){_.defineProperty(t,i,{writable:!1,enumerable:!0,value:e})}function Sg(t){return Ig(t)}function _l(t,i){for(const e of _.getOwnPropertyNames(i))_.defineProperty(t,e,_.getOwnPropertyDescriptor(i,e));return t}function Kr(t){if(Li(t)){const i={};for(const e in t)nt.call(t,e)&&(i[e]=Kr(t[e]));return i}if(pi(t)){const i=new Array(t.length);for(let e=0;e<i.length;e++)e in t&&(i[e]=Kr(t[e]));return i}return t}function Eg(t,i){const e=i;for(const i in t){var s,n;if(Li(t[i]))(s=e)[n=i]||(s[n]={}),Eg(t[i],e[i]);else nt.call(e,i)||(e[i]=t[i])}return e}function Ah(t,i){return t===i||!(!t||!i)&&(!(!Mi(t)||!Mi(i))&&(rt(t)?!!rt(i)&&function(t,i){const e=t.length,s=i.length;if(e!==s)return!1;for(let s=0;s<e;s+=1)if(!Ah(t[s],i[s]))return!1;return!0}(t,i):!rt(i)&&function(t,i){const e=_.keys(t),s=_.keys(i);if(!e||!s||e.length!==s.length)return!1;for(const s of e)if(!nt.call(i,s)||!Ah(t[s],i[s]))return!1;return!0}(t,i)))}function bg(t,i){if(!Mi(t))return!1;for(const e of i)if(!(e in t))return!1;return!0}function Lg(t,i){return t.constructor===i.constructor}function kg(t){const i={};for(const e of _.keys(t)){const s=t[e];null!=s&&(i[e]=s)}return i}function kh(t){const i={};for(const e of _.keys(t)){const s=t[e];if(rt(s)){const t=[];for(let i=0;i<s.length;i+=1){const e=s[i];if(null!=e){const i=Mi(e)?kh(e):e;t.push(i)}}i[e]=t}else null!=s&&(i[e]=Mi(s)?kh(s):s)}return i}function Cg(t){let i=t;if("string"==typeof i){if(i=i.toLowerCase(),"true"===i)return!0;if("false"===i)return!1}return Boolean(i)}function ru(t){return li(t)?Cg(t):void 0}function Ih(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function xg(t){const i=Ih(t);if(j(i))throw new b("Expected a valid number.");return i}function Oa(t){return"string"==typeof t?t:""}function Og(t,i){if(!rt(t))return[];const e=0|t.length,s=new Array(e);for(let n=0;n<e;n++)s[n]=i(t[n]);return s}function As(t,i){let e;return e=rt(t)?Og(t,i):i(t),e}r();var gc,jg=[at.ew,at.hw,ea.ra];function zg(t){let i;const e=t.xw.map((t=>t.va));return e.item=i=>{const e=0|i,s=t.jw(e);return s&&s.va||void 0},e.addEventListener=(t,e)=>{i.yn(t,e)},e.removeEventListener=(t,e)=>{i.fn(t,e)},i=new jt(e),t.yn(jg,(t=>i.Co(t.va))),e}function Pg(t){switch(t){case 0:return"caption";case 2:return"sign";case 1:return"description";case 3:return"enhanced audio intelligibility";case 4:return"easy reader";case 5:return"transcribes spoken dialog";case 6:return"describes music and sound";case 7:return"describes video"}}function Bg(){}function Ei(t){const i=[ea.Iw,ea.ra,ea.Sw,ea.Lw,ea.QUALITY_UNAVAILABLE];let e;const s={get activeQuality(){return t.Gw&&t.Gw.va},get enabled(){return t.Rt},set enabled(i){t.Rt=Cg(i)},get id(){return t.o},get uid(){return t.Vw},get kind(){return t.zt},get label(){return t.kh},set label(i){t.kh=Oa(i)},get accessibility(){var i,e;return null!=(e=null==(i=t.Ww)?void 0:i.map(Pg))?e:[]},get language(){return t.gs},get qualities(){return t.Hw.va},set targetQuality(i){let e;e=i?function(t,i){const e=[];for(const s of t.Hw.xw)for(const t of i)s.va===t&&e.push(s);return e}(t,pi(i)?i:[i]):[],e.length>0?t.qw=e:t.qw=void 0},get targetQuality(){if(t.qw)return 1===t.qw.length?t.qw[0].va:t.qw.map((t=>t.va))},addEventListener(t,i){const s=As(t,Oa);e.yn(s,i)},removeEventListener(t,i){const s=As(t,Oa);e.fn(s,i)}};return e=new jt(s),t.yn(i,(t=>e.Co(t.va))),_.defineProperty(s,"constructor",{value:Bg}),s}function Rg(){}function Ug(t){const i=zg(t);return _.defineProperty(i,"constructor",{value:Rg}),i}r(),function(t){t[t.Xw=0]="Xw",t[t.Zw=1]="Zw",t[t.Kw=2]="Kw",t[t.Jw=3]="Jw",t[t.$w=4]="$w",t[t.TRANSCRIBES_SPOKEN_DIALOG=5]="TRANSCRIBES_SPOKEN_DIALOG",t[t.DESCRIBES_MUSIC_AND_SOUND=6]="DESCRIBES_MUSIC_AND_SOUND",t[t.tA=7]="tA"}(gc||(gc={}));var La,Nr,we=class extends Ic{fa(){return Ug(this)}Uw(t){return t.Rt}};function rn(t){if("string"==typeof t){const i=t.toLowerCase();switch(i){case"disabled":case"hidden":case"showing":return i}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}function Qg(){}function Go(t){const i=[ea.ra,ea.Iw,ea.aw,ea.cw,ea._w,ea.ww,ea.dw,ea.mw,ea.Mw,ea.Nw],e=[Nr.ha];let s;const n={get kind(){return t.zt},get label(){return t.kh},set label(i){t.kh=Oa(i)},get language(){return t.gs},get id(){return t.o},get uid(){return t.Vw},get inBandMetadataTrackDispatchType(){return t.iA},get mode(){return t.eA},set mode(i){i!==La.Xn&&i!==La.sA&&i!==La.Ch||t.nA(i)},get forced(){return Boolean(t.rA)},get accessibility(){var i,e;return null!=(e=null==(i=t.Ww)?void 0:i.map(Pg))?e:[]},get type(){return t.hA},get readyState(){return t.vg},get cues(){return t.eA===La.Ch?null:t.L.va},get activeCues(){return t.eA===La.Ch?null:t.q.va},get src(){return t.oA||""},addEventListener(t,i){const e=As(t,Oa);s.yn(e,i)},removeEventListener(t,i){const e=As(t,Oa);s.fn(e,i)}};return s=new jt(t),t.yn(i,(t=>s.Co(t.va))),t.yn(e,(t=>s.Co(t))),_.defineProperty(n,"constructor",{value:Qg}),n}function Fg(){}function Oc(t){const i=zg(t);return _.defineProperty(i,"constructor",{value:Fg}),i}r(),r(),r(),function(t){t.Ch="disabled",t.sA="hidden",t.Xn="showing"}(La||(La={})),r(),(Nr||(Nr={})).ha="error";var Yu=class extends Ic{fa(){return Oc(this)}Uw(t){return t.eA===La.Xn}};r(),r(),r(),r();var t,er,Yg=.25,Gg=400,Vg={aA:.2,uA:.45,cA:.7,lA:3,dA:xh,fA:Ch},Wg={aA:.4,uA:.65,cA:1,lA:3,dA:xh,fA:Ch},Hg={aA:.4,uA:.7,cA:.9,lA:3,dA:xh,fA:Ch},qg={aA:.2,uA:.45,cA:1,lA:3,dA:xh,fA:Ch},Xg={aA:.5,uA:1.125,cA:1.75,lA:2.55,dA:xh,fA:Ch};function Sl(){let t;return t=lg.Ys._A?qg:lg.Ys.gA?Wg:lg.Ys.wA?"Android"===lg.vA.AA?Hg:Vg:Xg,lg.vA.mA?function(t){if(lg.vA.mA){const i=(Gg+250)/1e3,e=x.max(i,t.aA),s=x.max(e+Yg,t.uA),n=x.max(s+Yg,t.cA);return{aA:e,uA:s,cA:n,lA:x.max(n+Yg,t.lA),dA:xh,fA:Ch}}return t}(t):t}function Zg(t){return{windowStart:t.aA,windowEnd:t.cA,target:t.uA,maxOffset:t.lA}}r(),r(),function(t){t.pA="yA",t.MA="TA",t.NA="contentprotectionerror",t.DA="contentprotectionsuccess",t.IA="currentsourcechange",t.SA="destroy",t.EA="durationchange",t.bA="emptied",t.LA="encrypted",t.kA="ended",t.CA="xA",t.OA="jA",t.zA="PA",t.BA="RA",t.UA="loadstart",t.QA="manifestupdate",t.FA="nosupportedrepresentationfound",t.YA="offline",t.GA="online",t.Sh="pause",t.jh="play",t.VA="progress",t.WA="ratechange",t.HA="representationchange",t.qA="resize",t.XA="seeked",t.ZA="seeking",t.KA="segmentnotfound",t.JA="$A",t.rv="hv",t.lo="sourcechange",t.ov="timeupdate",t.uv="volumechange",t.fv="_v",t.Av="metricschange"}(t||(t={})),r(),function(t){t.vv="canplay",t.mv="canplaythrough",t.pv="loadeddata",t.yv="loadedmetadata",t.Mw="readystatechange",t.Mv="waiting",t.Tv="playing"}(er||(er={}));var qh=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"];function At(){return At=_.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var s in e)_.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},At.apply(this,arguments)}r(),r();var Kg,xh=.92,Ch=1.08;!function(t){t[t.Ch=0]="Ch",t[t.Nv=1]="Nv",t[t.Dv=2]="Dv"}(Kg||(Kg={}));var Lc=class extends i{get Iv(){}get Sv(){}get Ev(){}get bv(){return!1}get Lv(){}get va(){var t;return null!=(t=this.Xa)?t:this.Xa=Jg(this)}Cv(){}constructor(...t){super(...t),this.xv=Zg(Sl())}};function Jg(t){return{goLive:()=>t.Cv(),get isLive(){return t.bv},get currentServerLiveTime(){return t.Iv},get currentLatency(){return t.Sv},get latencies(){return t.Ev},get latency(){return t.xv},set latency(i){if(!function(t){if(!Mi(t))return!1;const i=t,e=li(i.target)&&"number"==typeof i.target&&li(i.windowEnd)&&"number"==typeof i.windowEnd&&li(i.windowStart)&&"number"==typeof i.windowStart&&li(i.maxOffset)&&"number"==typeof i.maxOffset,s=i.windowStart>=0&&i.windowStart<=i.target&&i.target<=i.windowEnd&&i.maxOffset>=i.windowEnd;return e&&s}(i))throw new b("Invalid latency configuration");t.xv=i},get manifest(){return t.Lv},addEventListener(i,e){t.yn(tw(i),e)},removeEventListener(i,e){t.fn(tw(i),e)}}}var $g=["golive","latencyrecoveryseek"];function tw(t){const i=As(t,Oa);return(ae(i)?[i]:i).filter((t=>Ho($g,t)))}var iw=class extends i{set Pw(t){const i=this.Bw;t!==i&&(i&&this.Rw(i),t&&this.Qw(t),this.Bw=t,this.Bw&&(this.Bw.xv=this.Ov))}get Pw(){return this.Bw}get va(){return this.Xa||(this.Xa=Jg(this)),this.Xa}Qw(t){t.yn($g,this.Ds)}Rw(t){t.fn($g,this.Ds)}Cv(){var t;null==(t=this.Bw)||t.Cv()}get Iv(){var t;return null==(t=this.Bw)?void 0:t.Iv}get Sv(){var t;return null==(t=this.Bw)?void 0:t.Sv}get Ev(){var t;return null==(t=this.Bw)?void 0:t.Ev}get bv(){return!!this.Bw&&this.Bw.bv}get xv(){return this.Bw?this.Bw.xv:this.Ov}set xv(t){this.Bw&&(this.Bw.xv=t),this.Ov=t}get Lv(){var t;return null==(t=this.Bw)?void 0:t.Lv}gn(){this.Vo(),this.Bw&&this.Rw(this.Bw),this.Bw=void 0}constructor(){super(),this.Bw=void 0,this.Xa=void 0,this.Ov=Zg(Sl()),this.Bw=void 0}};r(),r(),r();var ll="function"==typeof String.prototype.replaceAll?(t,i,e)=>t.replaceAll(i,e):(t,i,e)=>t.split(i).join(e);function oo(t,i){return li(t)&&-1!==t.indexOf(i)}var ew="function"==typeof String.prototype.startsWith?(t,i)=>li(t)&&t.startsWith(i):(t,i)=>li(t)&&t.substr(0,i.length)===i,Ph="function"==typeof String.prototype.endsWith?(t,i)=>li(t)&&t.endsWith(i):(t,i)=>li(t)&&t.substr(t.length-i.length,i.length)===i;function Wi(t,i){return t.length===i.length&&t.toUpperCase()===i.toUpperCase()}var sw="function"==typeof String.prototype.repeat?(t,i)=>t.repeat(i):(t,i)=>{let e=0|i;if(0===t.length||0===e)return"";let s=t,n="";for(;1==(1&e)&&(n+=s),e>>>=1,0!==e;)s+=s;return n},fa="function"==typeof String.prototype.padStart?(t,i,e)=>(void 0===e&&(e=" "),t.padStart(i,e)):(t,i,e)=>{void 0===e&&(e=" ");let s=e;const n=(0|i)-t.length;return n<=0?t:(n>s.length&&(s+=sw(s,n/s.length)),s.slice(0,n)+t)},nw=(String.prototype.padEnd,16384),rw="function"==typeof String.fromCodePoint?t=>t.length<=nw?String.fromCodePoint(...t):hw(t,String.fromCodePoint):t=>{const i=[];for(let e of t)e>65535&&(e-=65536,i.push(e>>>10&1023|55296),e=56320|1023&e),i.push(e);return Uh(i)};function Uh(t){return t.length<=nw?String.fromCharCode(...t):hw(t,String.fromCharCode)}function hw(t,i){const e=[];for(let s=0;s<t.length;s+=nw)e.push(i(...t.slice(s,s+nw)));return e.join("")}function ow(t){return t.replace(/[\\"]/g,(t=>"\\"+t))}function Jo(t,i){const e=lg.Dh(t);return qc(e,i),e.toString()}function qc(t,i){for(const e of _.keys(i))t.searchParams.set(e,i[e])}function Ta(t,i){let e=lg.zv(t);return i&&!Ph(e,"/")&&(e+="/"),e}var aw=/cache:(.+)?(?=&|$)/,uw="http://webcache.googleusercontent.com/search?q=cache:";function cw(t){if(!ew(t,uw))return"";const i=lg.Dh(t).search.match(aw);return i&&i.length>1?i[1]:""}function lw(t){return lg.Dh(".",t)}r();var dw,Ds,vi,fw="8E80B9CE";function _w(t){return{appID:t&&t.appID?Oa(t.appID):fw}}function Wc(t){if(null!==t)return t}function gw(t){const i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:Wc(t.streamActivityMonitorID),adTagParameters:Mi(t.adTagParameters)?t.adTagParameters:{},authToken:Wc(t.authToken),omidAccessModeRules:Wc(t.omidAccessModeRules)};if("vod"===(null==t?void 0:t.availabilityType)||function(t){const i=t;return Boolean(i.videoID&&i.contentSourceID)}(t)){const e=t.videoID,s=t.contentSourceID;return e?s?At({},i,{availabilityType:"vod",videoID:e,contentSourceID:s}):void lg.Pv("A VOD DAI configuration was provided without valid contentSourceID which is required."):void lg.Pv("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){const i=t;return Boolean(i.assetKey)}(t)){const e=t.assetKey;return e?At({},i,{availabilityType:"live",assetKey:e}):void lg.Pv("A Live DAI configuration was provided without valid assetKey which is required.")}lg.Pv("A DAI configuration was provided without a valid availabilityType which is required.")}function ww(t){switch(t.integration){case"google-dai":return gw(t);case"imagine":return function(t){return{integration:t.integration}}(t);case"yospace":return function(t){var i;return{integration:t.integration,streamType:null!=(i=t.streamType)?i:void 0}}(t);default:return{integration:t.integration}}}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(dw||(dw={})),r(),r(),function(t){t.Bv="",t.Rv="anonymous",t.Uv="use-credentials"}(Ds||(Ds={})),function(t){t.Qv="application/dash+xml",t.Fv="application/vnd.apple.mpegurl",t.Yv="application/x-mpegurl",t.Gv="video/mp4",t.Vv="application/vnd.theoplayer.hesp+json",t.Wv="application/vnd.theo.hesp+json"}(vi||(vi={})),r(),r(),r(),r(),r(),r(),r(),r();var Ci,gs,Aw="titanium",Jc="conax",vw="ezdrm",Fh="irdeto",Sh="vudrm",mw="verimatrix",pw="keyos",Oh="drmtoday",yw="expressplay",jl="azure",Bh="xstream",Mw="vimond",Hh="axinom",Tw="uplynk",Nw="comcast",Dw="custom";function Iw(t,i){if(null==t)return{};var e,s,n={},r=_.keys(t);for(s=0;s<r.length;s++)e=r[s],i.indexOf(e)>=0||(n[e]=t[e]);return n}function Sw(t){return li(t.token&&t.deviceId)}function Ew(t){var i;const e=null==(i=t.fairplay)?void 0:i.headers;return void 0!==e&&li(e.PreAuthorization)}function bw(t){const i=t;return Sw(i)&&""!==i.token&&""!==i.deviceId&&!Ew(i)}r(),r(),r(),function(t){t.Hv="playready",t.qv="widevine",t.Xv="fairplay",t.Zv="clearkey",t.Kv="aes128"}(Ci||(Ci={})),r(),r(),r(),function(t){t.Jv=!1,t.$v=!1,t.tm=!1,t.im=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.nm=!1,t.hm=!1,t.LOG_LCEVC_DETAILS=!1}(gs||(gs={})),r(),r();var ce=class extends Xo{get name(){return"THEOplayerError"}get category(){return Th.fromCode(this.code)}constructor(t,i,e){super(i,e),this.code=t}};var Qr=class extends ce{get name(){return"ContentProtectionError"}constructor(t,i,e,s,n,r,h,o){super(t,i,e),this.url=s,this.status=n,this.statusText=r,this.response=h,this.systemCode=o}};r();var Lw,kw=class{get um(){return this.lm}get dm(){return this.fm}_m(t){return function(t){const i=t.onCertificateRequest;if(void 0!==i&&"function"!=typeof i)throw new k("ContentProtectionIntegration.onCertificateRequest is not a function.");const e=t.onCertificateResponse;if(void 0!==e&&"function"!=typeof e)throw new k("ContentProtectionIntegration.onCertificateResponse is not a function.");const s=t.onLicenseRequest;if(void 0!==s&&"function"!=typeof s)throw new k("ContentProtectionIntegration.onLicenseRequest is not a function.");const n=t.onLicenseResponse;if(void 0!==n&&"function"!=typeof n)throw new k("ContentProtectionIntegration.onLicenseResponse is not a function.");const r=t.extractFairplayContentId;if(void 0!==r&&"function"!=typeof r)throw new k("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.gm.build(t))}constructor(t,i,e){this.lm=t,this.fm=i,this.gm=e}};r(),function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Lw||(Lw={}));var Cw,Mu=class{registerContentProtectionIntegration(t,i,e){switch(this.wm(t,i,e)){case Lw.FAILED:throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Lw.OVERRIDDEN:{const e=ml(i);lg.Pv("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break}case Lw.SUCCEEDED:ml(i);0;break}}wm(t,i,e){const s=ml(i);if(!s)return Lw.FAILED;let n=Lw.SUCCEEDED;for(const i of this.Am.slice())i.um===t&&i.dm===s&&(n=Lw.OVERRIDDEN,Et(this.Am,i));return this.Am.push(new kw(t,s,e)),n}vm(t,i){return void 0!==this.pm(t,i)}ym(t,i,e){const s=this.pm(t,i);if(!s)throw b("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+i);return s._m(e)}pm(t,i){for(const e of this.Am)if(e.um===t&&(!i||e.dm===i))return e}constructor(){this.Am=[]}};Mu.Mm=new Mu,r(),function(t){t.Hv="9a04f079-9840-4286-ab92-e65be0885f95",t.qv="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.Zv="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.Xv="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Cw||(Cw={}));var Wr,xw,na,Mt,Ws,Ow="urn:mpeg:dash:mp4protection:2011",jw="cenc",zw="sinf",Gh="skd",Pw="9a04f079-9840-4286-ab92-e65be0885f95",Xi="urn:uuid:"+Pw,Bw="com.microsoft.playready",Rw="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",mt="urn:uuid:"+Rw,Uw="com.widevine.alpha",Qw="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Fw="urn:uuid:"+Qw,ul="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",qa="urn:uuid:"+ul,Yw="com.apple.fps.1_0",Gw="com.apple.streamingkeydelivery",Vw="identity";r(),r(),function(t){t.Tm="moov",t.Nm="mvhd",t.Dm="trak",t.Im="tkhd",t.Sm="mdia",t.Em="mdhd",t.Lm="hdlr",t.Cm="minf",t.xm="stbl",t.Om="stsd",t.jm="stsc",t.zm="mvex",t.Pm="trex",t.Bm="avc1",t.Rm="avcC",t.Um="hev1",t.Qm="hvc1",t.Fm="hvcC",t.Ym="vp09",t.Gm="vpcC",t.Vm="av01",t.Wm="av1C",t.Hm="colr",t.qm="pasp",t.Xm="mp4a",t.Zm="esds",t.Km="wvtt",t.Jm="vttC",t.$m="vlab",t.tp="enca",t.ip="encv",t.ep="moof",t.sp="mfhd",t.np="traf",t.rp="tfhd",t.hp="trun",t.op="tfdt",t.ap="senc",t.cp="mdat",t.lp="pssh",t.dp="emsg",t.fp="sidx",t._p="styp",t.gp="ftyp",t.wp="sinf",t.Ap="frma"}(Wr||(Wr={})),function(t){t.vp="vide",t.mp="soun",t.pp="subt",t.yp="hint",t.Mp="meta",t.Tp="auxv"}(xw||(xw={})),function(t){t.ON_SCREEN_COLOURS="nclx",t.RESTRICTED_ICC_PROFILE="rICC",t.UNRESTRICED_ICC_PROFILE="prof"}(na||(na={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=65536]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(Mt||(Mt={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Ws||(Ws={})),r(),r(),r();var Ww="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Hw=16383,qw=/[\t\n\f\r ]/g;function Xw(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Zw()}function Zw(){throw new b("Invalid base64 input")}function mi(t){let i=t;qw.test(i)&&(i=i.replace(qw,""));let e=i.length;e%4==0&&e>=1&&"="===i[e-1]&&(e>=2&&"="===i[e-2]?e-=2:e-=1,i=i.substr(0,e));const s=e%4;if(1===s)return Zw();const n=0===s?0:4-s,r=new T(function(t,i){return 3*(t+i)/4-i}(e,n)),h=n>0?e-4:e;let o,a=0,u=0;for(;a<h;a+=4)o=Xw(i.charCodeAt(a))<<18|Xw(i.charCodeAt(a+1))<<12|Xw(i.charCodeAt(a+2))<<6|Xw(i.charCodeAt(a+3)),r[u++]=o>>16&255,r[u++]=o>>8&255,r[u++]=255&o;return 2===n?(o=Xw(i.charCodeAt(a))<<2|Xw(i.charCodeAt(a+1))>>4,r[u++]=255&o):1===n&&(o=Xw(i.charCodeAt(a))<<10|Xw(i.charCodeAt(a+1))<<4|Xw(i.charCodeAt(a+2))>>2,r[u++]=o>>8&255,r[u++]=255&o),r}function Kw(t,i,e){return Ww[t>>2]+Ww[(3&t)<<4|i>>4]+Ww[(15&i)<<2|e>>6]+Ww[63&e]}function Jw(t,i,e){const s=[];for(let n=i;n<e;n+=3)s.push(Kw(t[n],t[n+1],t[n+2]));return s.join("")}function Ot(t){const i=t.length,e=i%3,s=[],n=i-e;for(let i=0;i<n;i+=Hw)s.push(Jw(t,i,x.min(n,i+Hw)));if(1===e){const e=t[i-1];s.push(Ww[e>>2]+Ww[(3&e)<<4]+"==")}else if(2===e){const e=t[i-2],n=t[i-1];s.push(Ww[e>>2]+Ww[(3&e)<<4|n>>4]+Ww[(15&n)<<2]+"=")}return s.join("")}function $w(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]/g,"")}var tA=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],aa=ArrayBuffer.isView||(t=>t&&Ho(tA,Fo.call(t)));function va(t,i){if(t===i)return!0;if(t.byteLength!==i.byteLength)return!1;return Yi(new T(t),new T(i))}function Yi(t,i){if(t===i)return!0;if(t.byteLength!==i.byteLength)return!1;for(let e=0;e<t.length;e+=1)if(t[e]!==i[e])return!1;return!0}function zh(t){const i=t.reduce(((t,i)=>t+i.byteLength),0);return iA(t,i)}function iA(t,i){const e=new T(i);let s=0;for(const i of t)e.set(i,s),s+=i.byteLength;return e}function eA(t,i,e){const s=new T(t.byteLength+i.byteLength),n=yl(t,0,e),r=yl(t,e);return s.set(n),s.set(i,e),s.set(r,e+i.byteLength),s}function ma(t){return mi(t).buffer}function sA(t){return Ot(new T(t))}function nA(t){return Ot(ja(t))}function Xe(t,i){const e=i.Ku,s=t.getUint8(e>>3),n=1<<7-(7&e);return i.Np(1),(s&n)===n?1:0}function ls(t,i,e){let s=0;for(let n=0;n<e;n++)s=2*s+Xe(t,i);return s}r();var Qc=class t{get Ku(){return this.Zu}Np(t){this.Zu+=t}Dp(t){this.Zu=t}Ip(){return new t(this.Ku)}constructor(t=0){this.Zu=t}};var rA=x.clz32||function(t){let i=32,e=t>>16;return e&&(i-=16,t=e),e=t>>8,e&&(i-=8,t=e),e=t>>4,e&&(i-=4,t=e),e=t>>2,e&&(i-=2,t=e),e=t>>1,e?i-2:i-t};r(),r();var _t=null;try{_t=new WebAssembly.Instance(new WebAssembly.Module(new T([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(g){}function We(t,i,e){this.low=0|t,this.high=0|i,this.unsigned=!!e}function Dh(t){return!0===(t&&t.Sp)}function hA(t){var i=x.clz32(t&-t);return t?31-i:i}We.prototype.Sp,_.defineProperty(We.prototype,"Sp",{value:!0}),We.isLong=Dh;var oA={},aA={};function ao(t,i){var e,s,n;return i?(n=0<=(t>>>=0)&&t<256)&&(s=aA[t])?s:(e=Le(t,0,!0),n&&(aA[t]=e),e):(n=-128<=(t|=0)&&t<128)&&(s=oA[t])?s:(e=Le(t,t<0?-1:0,!1),n&&(oA[t]=e),e)}function Ct(t,i){if(j(t))return i?_A:Fe;if(i){if(t<0)return _A;if(t>=lA)return vA}else{if(t<=-dA)return lu;if(t+1>=dA)return AA}return t<0?Ct(-t,i).neg():Le(t%hl|0,t/hl|0,i)}function Le(t,i,e){return new We(t,i,e)}We.fromInt=ao,We.fromNumber=Ct,We.fromBits=Le;var uA=x.pow;function cA(t,i,e){if(0===t.length)throw b("empty string");if("number"==typeof i?(e=i,i=!1):i=!!i,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return i?_A:Fe;if((e=e||10)<2||36<e)throw RangeError("radix");var s;if((s=t.indexOf("-"))>0)throw b("interior hyphen");if(0===s)return cA(t.substring(1),i,e).neg();for(var n=Ct(uA(e,8)),r=Fe,h=0;h<t.length;h+=8){var o=x.min(8,t.length-h),a=C(t.substring(h,h+o),e);if(o<8){var u=Ct(uA(e,o));r=r.mul(u).add(Ct(a))}else r=(r=r.mul(n)).add(Ct(a))}return r.unsigned=i,r}function qe(t,i){return"number"==typeof t?Ct(t,i):"string"==typeof t?cA(t,i):Le(t.low,t.high,"boolean"==typeof i?i:t.unsigned)}We.fromString=cA,We.fromValue=qe;var hl=4294967296,lA=hl*hl,dA=lA/2,fA=ao(1<<24),Fe=ao(0);We.ZERO=Fe;var _A=ao(0,!0);We.UZERO=_A;var vl=ao(1);We.ONE=vl;var gA=ao(1,!0);We.UONE=gA;var wA=ao(-1);We.NEG_ONE=wA;var AA=Le(-1,2147483647,!1);We.MAX_VALUE=AA;var vA=Le(-1,-1,!0);We.MAX_UNSIGNED_VALUE=vA;var lu=Le(0,-2147483648,!1);We.MIN_VALUE=lu;var jo=We.prototype;jo.toInt=function(){return this.unsigned?this.low>>>0:this.low},jo.toNumber=function(){return this.unsigned?(this.high>>>0)*hl+(this.low>>>0):this.high*hl+(this.low>>>0)},jo.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(lu)){var i=Ct(t),e=this.div(i),s=e.mul(i).sub(this);return e.toString(t)+s.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var n=Ct(uA(t,6),this.unsigned),r=this,h="";;){var o=r.div(n),a=(r.sub(o.mul(n)).toInt()>>>0).toString(t);if((r=o).isZero())return a+h;for(;a.length<6;)a="0"+a;h=""+a+h}},jo.getHighBits=function(){return this.high},jo.getHighBitsUnsigned=function(){return this.high>>>0},jo.getLowBits=function(){return this.low},jo.getLowBitsUnsigned=function(){return this.low>>>0},jo.getNumBitsAbs=function(){if(this.isNegative())return this.eq(lu)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,i=31;i>0&&0==(t&1<<i);i--);return 0!=this.high?i+33:i+1},jo.isZero=function(){return 0===this.high&&0===this.low},jo.eqz=jo.isZero,jo.isNegative=function(){return!this.unsigned&&this.high<0},jo.isPositive=function(){return this.unsigned||this.high>=0},jo.isOdd=function(){return 1==(1&this.low)},jo.isEven=function(){return 0==(1&this.low)},jo.equals=function(t){return Dh(t)||(t=qe(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},jo.eq=jo.equals,jo.notEquals=function(t){return!this.eq(t)},jo.neq=jo.notEquals,jo.ne=jo.notEquals,jo.lessThan=function(t){return this.comp(t)<0},jo.lt=jo.lessThan,jo.lessThanOrEqual=function(t){return this.comp(t)<=0},jo.lte=jo.lessThanOrEqual,jo.le=jo.lessThanOrEqual,jo.greaterThan=function(t){return this.comp(t)>0},jo.gt=jo.greaterThan,jo.greaterThanOrEqual=function(t){return this.comp(t)>=0},jo.gte=jo.greaterThanOrEqual,jo.ge=jo.greaterThanOrEqual,jo.compare=function(t){if(Dh(t)||(t=qe(t)),this.eq(t))return 0;var i=this.isNegative(),e=t.isNegative();return i&&!e?-1:!i&&e?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},jo.comp=jo.compare,jo.negate=function(){return!this.unsigned&&this.eq(lu)?lu:this.not().add(vl)},jo.neg=jo.negate,jo.add=function(t){Dh(t)||(t=qe(t));var i=this.high>>>16,e=65535&this.high,s=this.low>>>16,n=65535&this.low,r=t.high>>>16,h=65535&t.high,o=t.low>>>16,a=0,u=0,c=0,l=0;return c+=(l+=n+(65535&t.low))>>>16,u+=(c+=s+o)>>>16,a+=(u+=e+h)>>>16,a+=i+r,Le((c&=65535)<<16|(l&=65535),(a&=65535)<<16|(u&=65535),this.unsigned)},jo.subtract=function(t){return Dh(t)||(t=qe(t)),this.add(t.neg())},jo.sub=jo.subtract,jo.multiply=function(t){if(this.isZero())return this;if(Dh(t)||(t=qe(t)),_t)return Le(_t.mul(this.low,this.high,t.low,t.high),_t.get_high(),this.unsigned);if(t.isZero())return this.unsigned?_A:Fe;if(this.eq(lu))return t.isOdd()?lu:Fe;if(t.eq(lu))return this.isOdd()?lu:Fe;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(fA)&&t.lt(fA))return Ct(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,e=65535&this.high,s=this.low>>>16,n=65535&this.low,r=t.high>>>16,h=65535&t.high,o=t.low>>>16,a=65535&t.low,u=0,c=0,l=0,d=0;return l+=(d+=n*a)>>>16,c+=(l+=s*a)>>>16,l&=65535,c+=(l+=n*o)>>>16,u+=(c+=e*a)>>>16,c&=65535,u+=(c+=s*o)>>>16,c&=65535,u+=(c+=n*h)>>>16,u+=i*a+e*o+s*h+n*r,Le((l&=65535)<<16|(d&=65535),(u&=65535)<<16|(c&=65535),this.unsigned)},jo.mul=jo.multiply,jo.divide=function(t){if(Dh(t)||(t=qe(t)),t.isZero())throw b("division by zero");var i,e,s;if(_t)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Le((this.unsigned?_t.div_u:_t.div_s)(this.low,this.high,t.low,t.high),_t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?_A:Fe;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return _A;if(t.gt(this.shru(1)))return gA;s=_A}else{if(this.eq(lu))return t.eq(vl)||t.eq(wA)?lu:t.eq(lu)?vl:(i=this.shr(1).div(t).shl(1)).eq(Fe)?t.isNegative()?vl:wA:(e=this.sub(t.mul(i)),s=i.add(e.div(t)));if(t.eq(lu))return this.unsigned?_A:Fe;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();s=Fe}for(e=this;e.gte(t);){i=x.max(1,x.floor(e.toNumber()/t.toNumber()));for(var n=x.ceil(x.log(i)/x.LN2),r=n<=48?1:uA(2,n-48),h=Ct(i),o=h.mul(t);o.isNegative()||o.gt(e);)o=(h=Ct(i-=r,this.unsigned)).mul(t);h.isZero()&&(h=vl),s=s.add(h),e=e.sub(o)}return s},jo.div=jo.divide,jo.modulo=function(t){return Dh(t)||(t=qe(t)),_t?Le((this.unsigned?_t.rem_u:_t.rem_s)(this.low,this.high,t.low,t.high),_t.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},jo.mod=jo.modulo,jo.rem=jo.modulo,jo.not=function(){return Le(~this.low,~this.high,this.unsigned)},jo.countLeadingZeros=function(){return this.high?x.clz32(this.high):x.clz32(this.low)+32},jo.clz=jo.countLeadingZeros,jo.countTrailingZeros=function(){return this.low?hA(this.low):hA(this.high)+32},jo.ctz=jo.countTrailingZeros,jo.and=function(t){return Dh(t)||(t=qe(t)),Le(this.low&t.low,this.high&t.high,this.unsigned)},jo.or=function(t){return Dh(t)||(t=qe(t)),Le(this.low|t.low,this.high|t.high,this.unsigned)},jo.xor=function(t){return Dh(t)||(t=qe(t)),Le(this.low^t.low,this.high^t.high,this.unsigned)},jo.shiftLeft=function(t){return Dh(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Le(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Le(0,this.low<<t-32,this.unsigned)},jo.shl=jo.shiftLeft,jo.shiftRight=function(t){return Dh(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Le(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Le(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},jo.shr=jo.shiftRight,jo.shiftRightUnsigned=function(t){return Dh(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Le(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):Le(32===t?this.high:this.high>>>t-32,0,this.unsigned)},jo.shru=jo.shiftRightUnsigned,jo.shr_u=jo.shiftRightUnsigned,jo.rotateLeft=function(t){var i;return Dh(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Le(this.high,this.low,this.unsigned):t<32?(i=32-t,Le(this.low<<t|this.high>>>i,this.high<<t|this.low>>>i,this.unsigned)):(i=32-(t-=32),Le(this.high<<t|this.low>>>i,this.low<<t|this.high>>>i,this.unsigned))},jo.rotl=jo.rotateLeft,jo.rotateRight=function(t){var i;return Dh(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Le(this.high,this.low,this.unsigned):t<32?(i=32-t,Le(this.high<<i|this.low>>>t,this.low<<i|this.high>>>t,this.unsigned)):(i=32-(t-=32),Le(this.low<<i|this.high>>>t,this.high<<i|this.low>>>t,this.unsigned))},jo.rotr=jo.rotateRight,jo.toSigned=function(){return this.unsigned?Le(this.low,this.high,!1):this},jo.toUnsigned=function(){return this.unsigned?this:Le(this.low,this.high,!0)},jo.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},jo.toBytesLE=function(){var t=this.high,i=this.low;return[255&i,i>>>8&255,i>>>16&255,i>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},jo.toBytesBE=function(){var t=this.high,i=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,i>>>24,i>>>16&255,i>>>8&255,255&i]},We.fromBytes=function(t,i,e){return e?We.fromBytesLE(t,i):We.fromBytesBE(t,i)},We.fromBytesLE=function(t,i){return new We(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,i)},We.fromBytesBE=function(t,i){return new We(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],i)};var Ce=We;function mA(t,i){return t.lessThan(i)?t:i}function pA(t){if(t>=55296&&t<=57343)throw new b("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function yA(t,i){return t>>i&63|128}function MA(t,i){0!=(4294967168&t)?(0==(4294965248&t)?i.push(t>>6&31|192):0==(4294901760&t)?(pA(t),i.push(t>>12&15|224),i.push(yA(t,6))):0==(4292870144&t)&&(i.push(t>>18&7|240),i.push(yA(t,12)),i.push(yA(t,6))),i.push(63&t|128)):i.push(t)}function TA(t,i){if(i.Ku>=t.length)throw new b("Invalid byte index");const e=255&t[i.Ku];if(i.Np(1),128==(192&e))return 63&e;throw new b("Invalid continuation byte")}function NA(t,i){const e=i.Ku;if(e>t.length)throw new b("Invalid byte index");if(e===t.length)return!1;const s=255&t[e];if(i.Np(1),0==(128&s))return s;if(192==(224&s)){const e=(31&s)<<6|TA(t,i);if(e>=128)return e;throw new b("Invalid continuation byte")}if(224==(240&s)){const e=(15&s)<<12|TA(t,i)<<6|TA(t,i);if(e>=2048)return pA(e),e;throw new b("Invalid continuation byte")}if(240==(248&s)){const e=(7&s)<<18|TA(t,i)<<12|TA(t,i)<<6|TA(t,i);if(e>=65536&&e<=1114111)return e}throw new b("Invalid UTF-8 detected")}r(),r();var DA=65279;var IA=[128,64,32,16,8,4,2,1],SA=class{Ep(t){return EA(this.bp,t)}constructor(t){this.bp=t}};function EA(t,i){return(t&i)===i}function wu(t,i){return EA(t,IA[i])}function F(t,i){const e=t.getUint8(i.Ku);return i.Np(1),e}function bA(t,i,e){t.setUint8(i.Ku,e),i.Np(1)}function Mc(t,i,e){const s=yl(ko(t),i.Ku,i.Ku+e);return i.Np(s.byteLength),s}function LA(t,i,e){ko(t).set(ko(e),i.Ku),i.Np(e.byteLength)}function kA(t,i,e){return i.Ku+e<=t.byteLength}function Fi(t,i,e,s){return void 0===s&&(s=!1),s?function(t,i,e){let s=0,n=1;for(let r=0;r<e;r++)s+=F(t,i)*n,n*=256;return s}(t,i,e):function(t,i,e){let s=0;for(let n=0;n<e;n++)s=256*s+F(t,i);return s}(t,i,e)}function CA(t,i,e){void 0===e&&(e=!1);const s=t.getUint16(i.Ku,e);return i.Np(2),s}function xA(t,i,e,s){void 0===s&&(s=!1),t.setUint16(i.Ku,e,s),i.Np(2)}function ji(t,i,e){void 0===e&&(e=!1);const s=t.getUint32(i.Ku,e);return i.Np(4),s}function su(t,i,e,s){void 0===s&&(s=!1),t.setUint32(i.Ku,e,s),i.Np(4)}function tr(t,i,e){void 0===e&&(e=!1);const s=ji(t,i,e),n=ji(t,i,e),r=e?n:s,h=e?s:n;return Ce.fromBits(h,r,!0)}function OA(t,i,e,s){void 0===s&&(s=!1);const n=e.getHighBitsUnsigned(),r=e.getLowBitsUnsigned(),h=s?n:r;su(t,i,s?r:n,s),su(t,i,h,s)}function jA(t,i){return PA(t,i)}function Oo(t,i,e){return Uh(ZA(Mc(t,i,e)))}function zA(t,i){const e=F(t,i);let s;return 0==(128&e)?s=e:192==(224&e)?s=64*(31&e)+(63&F(t,i)):224==(240&e)?s=4096*(15&e)+64*(63&F(t,i))+(63&F(t,i)):240==(248&e)&&(s=262144*(7&e)+4096*(63&F(t,i))+64*(63&F(t,i))+(63&F(t,i))),s}function PA(t,i){return BA(t,i,!0)}function BA(t,i,e){const s=[];for(;i.Ku<t.byteLength;){const n=F(t,i);if(e&&!n)break;s.push(n)}return Uh(s)}function RA(t,i,e){const s=e.length;for(let n=0;n<s;n+=1){bA(t,i,e.charCodeAt(n))}}function UA(t,i){if(!(i.Ku+2<=t.byteLength))return;const e=t.getUint8(i.Ku),s=t.getUint8(i.Ku+1);return(254!==e||255!==s)&&(255===e&&254===s||void 0)}function QA(t,i){const e=UA(t,i);return void 0!==e&&i.Np(2),wa(t,i,!0===e)}function wa(t,i,e){return void 0===e&&(e=!1),FA(t,i,e,!0)}function FA(t,i,e,s){const n=[];for(;i.Ku+2<=t.byteLength;){const r=CA(t,i,e);if(s&&!r)break;n.push(r)}return Uh(n)}function YA(t,i,e,s){void 0===s&&(s=!1);const n=e.length;for(let r=0;r<n;r+=1){xA(t,i,e.charCodeAt(r),s)}}function ns(t){return BA(Mo(t),new Or,!1)}function ja(t){const i=new T(t.length);return RA(Mo(i),new Or,t),i}function GA(t,i){return void 0===i&&(i=!1),FA(Mo(t),new Or,i,!1)}function VA(t,i){void 0===i&&(i=!1);const e=new T(2*t.length);return YA(Mo(e),new Or,t,i),e}function WA(t,i){return i.Ku+3<=t.byteLength&&(239===t.getUint8(i.Ku)&&187===t.getUint8(i.Ku+1)&&191===t.getUint8(i.Ku+2))}function gl(t,i){return function(t,i,e){const s=[],n=WA(t,i);n&&i.Np(3);for(;i.Ku<t.byteLength;){const n=zA(t,i);if(void 0===n)break;if(e&&0===n)break;s.push(n)}return rw(s)}(t,i,!0)}function ya(t){return function(t){return rw(t)}(function(t,i){const e=[],s=new Or;let n;if(!i){if(n=NA(t,s),!1===n)return e;n===DA||e.push(n)}for(;!1!==(n=NA(t,s));)e.push(n);return e}(ko(t)))}function HA(t){return new T(function(t){const i=[];for(const e of t)MA(e,i);return i}(function(t){const i=[];let e=0;const s=t.length;for(;e<s;){const n=t.charCodeAt(e++);if(n>=55296&&n<=56319&&e<s){const s=t.charCodeAt(e++);56320==(64512&s)?i.push(((1023&n)<<10)+(1023&s)+65536):(i.push(n),e--)}else i.push(n)}return i}(t)))}function qA(t,i){if(WA(t,i))return gl(t,i);if(void 0!==UA(t,i))return QA(t,i);if(i.Ku+4<=t.byteLength){if(0===t.getUint8(i.Ku)&&0===t.getUint8(i.Ku+2))return wa(t,i,!1);if(0===t.getUint8(i.Ku+1)&&0===t.getUint8(i.Ku+3))return wa(t,i,!0)}return gl(t,i)}function yl(t,i,e){return void 0===i&&(i=0),void 0===e&&(e=t.byteLength),new T(t.buffer,t.byteOffset+i,e-i)}function cn(t,i,e){return void 0===i&&(i=0),void 0===e&&(e=t.byteLength),new DataView(t.buffer,t.byteOffset+i,e-i)}function Mo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ko(t){return new T(t.buffer,t.byteOffset,t.byteLength)}function XA(t){return t instanceof ArrayBuffer||aa(t)}function ts(t){return t instanceof ArrayBuffer?new T(t):ko(t)}function jh(t,i,e){return void 0===i&&(i=0),void 0===e&&(e=t.byteLength),t.slice?t.slice(i,e):Ae(yl(t,i,e))}function Ae(t){if(t.slice)return t.slice(0);{const i=new T(t.byteLength);return i.set(t,0),i}}function ZA(t){return[].slice.call(t)}var Or=class t{get Ku(){return this.Zu}Np(t){this.Zu+=t}Dp(t){this.Zu=t}Ip(){return new t(this.Ku)}Lp(){return new Qc(this.Ku<<3)}constructor(t=0){this.Zu=t}};function za(t){let i=t.toLowerCase(),e=0,s=0;ew(i,"0x")&&(i=i.substring(2));const n=new T(x.ceil(i.length/2));for(1==(1&i.length)&&(e=1,n[s++]=C(i[0],16));e<i.length;e+=2)n[s++]=C(i.substr(e,2),16);return n}function KA(t){return.001*t}r();var $h=class t{kp(){return F(this.Cp,this.xp)}Op(){return CA(this.Cp,this.xp)}jp(){return function(t,i,e){void 0===e&&(e=!1);const s=t.getInt16(i.Ku,e);return i.Np(2),s}(this.Cp,this.xp)}zp(){return ji(this.Cp,this.xp)}Pp(){return function(t,i,e){void 0===e&&(e=!1);const s=t.getInt32(i.Ku,e);return i.Np(4),s}(this.Cp,this.xp)}Bp(){return tr(this.Cp,this.xp)}Rp(t){return Mc(this.Cp,this.xp,t)}Up(t){return function(t,i,e){const s=[];for(let n=0;n<e;n++)s.push(ji(t,i));return s}(this.Cp,this.xp,t)}Qp(t){return Oo(this.Cp,this.xp,t)}Fp(){return gl(this.Cp,this.xp)}Yp(t){this.xp.Np(t)}Ip(){return new t(this.Cp,this.xp.Ip())}constructor(t,i){this.Cp=t,this.xp=i}};r(),r();function JA(t,i){return t.hA===i}function $A(t,i){for(const e of t)if(JA(e,i))return e}var Hi=class extends Xo{get name(){return"DataIncompleteError"}constructor(t,i){super(),this.Gp=t,this.Vp=i}},lt=class t{static Wp(i){const e=i.Cp,s=i.xp,n=t.Hp(e,s,!1);if(!n.qp)throw new Hi(s.Ku,n.m);return n.m}static Hp(i,e,s){const n=[];for(;e.Ku<i.byteLength;){const r=t.Xp(i,e,s);if(!r.qp)return{qp:!1,m:n};n.push(r.Zp)}return{qp:!0,m:n}}static Kp(i,e){const s=t.Xp(i,e,!1);if(!s.qp)throw new Hi(e.Ku);return s.Zp}static Jp(i,e){const s=i.Cp,n=i.xp;for(;n.Ku<s.byteLength;){const i=t.Xp(s,n,!1);if(!i.qp)return;if(i.Zp.hA===e)return i.Zp}}static Xp(i,e,s){const n=e.Ku,r=t.$p(i,e);if(!r.qp)return r;const h=r.iy;let o=h.ey;if(0===o){if(s)return e.Dp(n),{qp:!1,sy:1/0};o=i.byteLength-n}const a=n+o;if(a>i.byteLength){const t=a;return e.Dp(n),{qp:!1,sy:t}}const u={hA:h.hA,Ku:n,Cp:new $h(cn(i,n,a),new Or(h.oy))};return e.Dp(a),{qp:!0,Zp:u}}static $p(t,i){const e=i.Ku;if(!kA(t,i,8)){return{qp:!1,sy:i.Ku+8}}let s=ji(t,i),n=Oo(t,i,4);if(1===s){if(!kA(t,i,8)){const t=i.Ku+8;return i.Dp(e),{qp:!1,sy:t}}s=tr(t,i).toNumber()}if("uuid"===n){if(!kA(t,i,16)){const t=i.Ku+16;return i.Dp(e),{qp:!1,sy:t}}n=Oo(t,i,16)}return{qp:!0,iy:{hA:n,ey:s,oy:i.Ku-e}}}static uy(t,i,e){const s=t.Cp,n=t.xp;let r=yl(ko(s),n.Ku,s.byteLength);return e&&(r=Ae(r)),n.Np(r.byteLength),{hA:i,Cp:r}}static ly(i,e,s){const n=i.zp(),{version:r,flags:h}=ic(n);return{hA:e,_y:r,gy:h,Cp:t.uy(i,e,s).Cp}}};function Ns(t,i){const e=iv(t,i);if(!e)throw new b("Missing "+i+" atom");return e}function iv(t,i){for(const e of t)if(e.hA===i)return e.Cp}function mo(t,i){const e=[];for(const s of t)s.hA===i&&e.push(s.Cp);return e}function ic(t){return{version:t>>24,flags:new SA(16777215&t)}}var Qi=class t{static wy(i){const e=[],s=lt.Wp(new $h(i,new Or));for(const i of s){const s=t.Ay(i);s&&e.push(s)}return e}static vy(t){return lt.Hp(t,new Or,!1).m.some(this.py)}static yy(i){return mo(lt.Wp(new $h(i,new Or)),Wr.lp).map(t.My)}static Ty(i){return mo(lt.Wp(i.Cp),Wr.lp).map(t.My)}static py(t){return t.hA===Wr.gp||t.hA===Wr._p||t.hA===Wr.Tm||t.hA===Wr.ep||t.hA===Wr.cp||t.hA===Wr.fp||t.hA===Wr.dp}static Ay(i){switch(i.hA){case Wr.Tm:return t.Ny(i.Cp);case Wr.ep:return t.Dy(i.Cp,i.Ku);case Wr.cp:return t.Iy(i.Cp);case Wr.fp:return t.Sy(i.Cp);case Wr.dp:return t.Ey(i.Cp)}}static Ny(i){const e=lt.Wp(i),s=Ns(e,Wr.Nm),n=mo(e,Wr.Dm),r=iv(e,Wr.zm),h=t.by(s),o=n.map(t.Ly),a=r?t.Cy(r):void 0;return{hA:Wr.Tm,iy:h,Z:o,xy:a}}static by(t){const i=t.zp(),{version:e,flags:s}=ic(i),n=1===e?t.Bp():t.zp(),r=1===e?t.Bp():t.zp(),h=t.zp(),o=1===e?t.Bp():t.zp(),a=t.zp(),u=t.Op()>>8;t.Yp(2),t.Yp(8);const c=t.Up(9);t.Yp(24);const l=t.zp();return{hA:Wr.Nm,_y:e,gy:s,Oy:n,jy:r,zy:h,ct:o,Py:a,xg:u,By:c,Ry:l}}static Ly(i){const e=lt.Wp(i),s=Ns(e,Wr.Im),n=Ns(e,Wr.Sm),r=t.Uy(s),h=t.Qy(n);return{hA:Wr.Dm,iy:r,Fy:h}}static Uy(t){const i=t.zp(),{version:e,flags:s}=ic(i),n=1===e?t.Bp():t.zp(),r=1===e?t.Bp():t.zp(),h=t.zp();t.Yp(4);const o=1===e?t.Bp():t.zp();t.Yp(8);const a=t.jp(),u=t.jp(),c=t.jp()/256;t.Yp(2);const l=t.Up(9),d=t.zp()/65536,f=t.zp()/65536;return{hA:Wr.Im,Yy:s.Ep(1),Gy:s.Ep(2),Vy:s.Ep(4),Oy:n,jy:r,Wy:h,ct:o,Hy:a,qy:u,xg:c,By:l,ji:d,Ti:f}}static Qy(i){const e=lt.Wp(i),s=Ns(e,Wr.Em),n=Ns(e,Wr.Lm),r=Ns(e,Wr.Cm),h=t.Xy(s),o=t.Zy(n),a=t.Ky(r);return{hA:Wr.Sm,iy:h,Jy:o,$y:a}}static Xy(t){const i=t.zp(),{version:e,flags:s}=ic(i),n=1===e?t.Bp():t.zp(),r=1===e?t.Bp():t.zp(),h=t.zp(),o=1===e?t.Bp():t.zp();t.Op();return t.Yp(2),{hA:Wr.Em,_y:e,gy:s,Oy:n,jy:r,zy:h,ct:o}}static Zy(t){const i=t.zp(),{version:e,flags:s}=ic(i);t.Yp(4);const n=t.Qp(4);t.Yp(12);const r=t.Fp();return{hA:Wr.Lm,_y:e,gy:s,tM:n,l:r}}static Ky(i){const e=Ns(lt.Wp(i),Wr.xm),s=t.iM(e);return{hA:Wr.Cm,eM:s}}static iM(i){const e=Ns(lt.Wp(i),Wr.Om),s=t.sM(e);return{hA:Wr.xm,nM:s}}static sM(i){const e=i.zp(),{version:s,flags:n}=ic(e),r=(i.zp(),[]),h=lt.Wp(i);for(const i of h){const e=t.rM(i.Cp,i.hA);e&&r.push(e)}return{hA:Wr.Om,_y:s,gy:n,hM:r}}static rM(i,e){let s=t.oM(i,e);return s||(s=t.aM(i,e),s||(e===Wr.Km?t.uM(i):void 0))}static oM(i,e){return e===Wr.Xm?t.cM(i):e===Wr.tp?t.lM(i):void 0}static aM(i,e){return e===Wr.Bm?t.dM(i):e===Wr.Um||e===Wr.Qm?t.fM(i,e):e===Wr.Ym?t._M(i,e):e===Wr.Vm?t.gM(i,e):e===Wr.ip?t.wM(i):void 0}static AM(t,i){t.Yp(6);return{hA:i,vM:t.Op()}}static mM(i,e){const s=t.AM(i,e);i.Yp(8);const n=i.Op(),r=i.Op();i.Yp(2),i.Yp(2);return At({},s,{pM:n,yM:r,MM:i.zp()>>>16})}static TM(i,e){const s=t.AM(i,e);i.Yp(2),i.Yp(2),i.Yp(12);const n=i.Op(),r=i.Op(),h=i.zp(),o=i.zp();i.Yp(4);const a=i.Op();i.Yp(32);const u=i.Op();return i.Yp(2),At({},s,{ji:n,Ti:r,NM:h,DM:o,IM:a,SM:u})}static cM(i){const e=t.mM(i,Wr.Xm),s=Ns(lt.Wp(i),Wr.Zm);return At({},e,{EM:t.bM(s)})}static uM(i){const e=t.AM(i,Wr.Km),s=lt.Wp(i),n=Ns(s,Wr.Jm),r=t.LM(n),h=iv(s,Wr.$m);return At({},e,{kM:r,CM:h?t.xM(h):void 0})}static LM(t){return{hA:Wr.Jm,wd:t.Fp()}}static xM(t){return{hA:Wr.$m,kh:t.Fp()}}static bM(t){return lt.ly(t,Wr.Zm,!0)}static dM(i){const e=t.TM(i,Wr.Bm),s=lt.Wp(i),n=Ns(s,Wr.Rm),r=iv(s,Wr.qm);return At({},e,{OM:t.jM(n),zM:r?t.PM(r):void 0})}static fM(i,e){const s=t.TM(i,e),n=Ns(lt.Wp(i),Wr.Fm);return At({},s,{BM:t.RM(n)})}static _M(i,e){const s=t.TM(i,e),n=Ns(lt.Wp(i),Wr.Gm);return At({},s,{UM:t.QM(n)})}static gM(i,e){const s=t.TM(i,e),n=lt.Wp(i),r=Ns(n,Wr.Wm),h=t.FM(r),o=iv(n,Wr.Hm);return At({},s,{YM:h,GM:o?t.VM(o):void 0})}static wM(i){const e=i.Ip(),s=t.TM(i,Wr.ip),n=Ns(lt.Wp(i),Wr.wp),r=t.WM(n);return At({},s,{HM:t.aM(e,r.XM.qM),ZM:r})}static lM(i){const e=i.Ip(),s=t.mM(i,Wr.tp),n=Ns(lt.Wp(i),Wr.wp),r=t.WM(n);return At({},s,{HM:t.oM(e,r.XM.qM),ZM:r})}static WM(i){const e=Ns(lt.Wp(i),Wr.Ap),s=t.KM(e);return{hA:Wr.wp,XM:s}}static KM(t){const i=t.Qp(4);return{hA:Wr.Ap,qM:i}}static jM(t){return lt.uy(t,Wr.Rm,!0)}static RM(t){return lt.uy(t,Wr.Fm,!0)}static QM(t){return lt.uy(t,Wr.Gm,!0)}static FM(t){return lt.uy(t,Wr.Wm,!0)}static VM(t){const i=t.Qp(4);switch(i){case"nclx":return{JM:na.ON_SCREEN_COLOURS,$M:t.Op(),tT:t.Op(),iT:t.Op(),eT:0!=(128&t.kp())};case"rICC":return{JM:na.RESTRICTED_ICC_PROFILE};case"prof":return{JM:na.UNRESTRICED_ICC_PROFILE};default:throw b("Could not parse ColourInformationBox: unknown type '"+i+"'.")}}static PM(t){const i=t.zp(),e=t.zp();return{hA:Wr.qm,sT:i,nT:e}}static Cy(i){const e=mo(lt.Wp(i),Wr.Pm).map(t.rT);return{hA:Wr.zm,Z:e}}static rT(t){const i=t.zp(),{version:e,flags:s}=ic(i),n=t.zp(),r=t.zp(),h=t.zp(),o=t.zp(),a=t.zp();return{hA:Wr.Pm,_y:e,gy:s,Wy:n,hT:r,oT:h,aT:o,uT:a}}static Dy(i,e){const s=lt.Wp(i),n=Ns(s,Wr.sp),r=mo(s,Wr.np),h=t.cT(n),o=r.map(t.lT);return{hA:Wr.ep,dT:e,iy:h,Z:o}}static cT(t){const i=t.zp(),{version:e,flags:s}=ic(i),n=t.zp();return{hA:Wr.sp,_y:e,gy:s,fT:n}}static lT(i){const e=lt.Wp(i),s=Ns(e,Wr.rp),n=mo(e,Wr.hp),r=iv(e,Wr.op),h=t._T(s),o=n.map((i=>t.gT(i,h))),a=r?t.wT(r):void 0;return{hA:Wr.np,iy:h,AT:o,vT:a}}static _T(t){const i=t.zp(),{version:e,flags:s}=ic(i),n=t.zp(),r=s.Ep(Mt.BASE_DATA_OFFSET_PRESENT)?t.Bp():void 0,h=s.Ep(Mt.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.zp():void 0,o=s.Ep(Mt.DEFAULT_SAMPLE_DURATION_PRESENT)?t.zp():void 0,a=s.Ep(Mt.DEFAULT_SAMPLE_SIZE_PRESENT)?t.zp():void 0,u=s.Ep(Mt.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.zp():void 0;return{hA:Wr.rp,_y:e,gy:s,Wy:n,mT:r,pT:h,oT:o,aT:a,uT:u}}static gT(i,e){const s=i.zp(),{version:n,flags:r}=ic(s),h=i.zp(),o=r.Ep(Ws.DATA_OFFSET_PRESENT)?i.Pp():void 0,a=r.Ep(Ws.FIRST_SAMPLE_FLAGS_PRESENT)?i.zp():void 0,u=[];for(let s=0;s<h;s++){const h=t.yT(i,r,n,e);0===s&&void 0!==a&&(h.gy=a),u.push(h)}return{hA:Wr.hp,_y:n,gy:r,MT:h,dT:o,TT:a,NT:u}}static yT(t,i,e,s){return{ct:i.Ep(Ws.SAMPLE_DURATION_PRESENT)?t.zp():s.oT,ey:i.Ep(Ws.SAMPLE_SIZE_PRESENT)?t.zp():s.aT,gy:i.Ep(Ws.SAMPLE_FLAGS_PRESENT)?t.zp():s.uT,DT:i.Ep(Ws.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===e?t.zp():t.Pp():void 0}}static Ey(t){const i=t.Cp,e=t.xp,s=ji(i,e),{version:n,flags:r}=ic(s);if(1===n){const t=ji(i,e),s=tr(i,e),h=ji(i,e),o=ji(i,e),a=jA(i,e),u=jA(i,e),c=jh(ko(i),e.Ku,i.byteLength);return e.Np(c.byteLength),{hA:Wr.dp,_y:n,gy:r,IT:a,ST:u,zy:t,ET:s,bT:h,o:o,LT:c}}{const t=jA(i,e),s=jA(i,e),h=ji(i,e),o=ji(i,e),a=ji(i,e),u=ji(i,e),c=jh(ko(i),e.Ku,i.byteLength);return e.Np(c.byteLength),{hA:Wr.dp,gy:r,_y:n,IT:t,ST:s,zy:h,kT:o,bT:a,o:u,LT:c}}}static Iy(t){return lt.uy(t,Wr.cp,!1)}static My(i){const e=i.Cp,s=i.xp,n=Ae(ko(e)).buffer,r=ji(e,s),{version:h,flags:o}=ic(r),a=t.CT(e,s),u=[];if(h>0){const t=ji(e,s);for(let i=0;i<t;i++){const t=Mc(e,s,16);u.push(t)}}const c=ji(e,s),l=new T(n,s.Ku,c);return s.Np(e.byteLength),{hA:Wr.lp,_y:h,gy:o,xT:a,OT:u,jT:c,Cp:l,zT:n}}static CT(t,i){let e="";for(let s=0;s<4;s++){const s=F(t,i).toString(16);e+=1===s.length?"0"+s:s}e+="-";for(let s=0;s<2;s++){const s=F(t,i).toString(16);e+=1===s.length?"0"+s:s}e+="-";for(let s=0;s<2;s++){const s=F(t,i).toString(16);e+=1===s.length?"0"+s:s}e+="-";for(let s=0;s<2;s++){const s=F(t,i).toString(16);e+=1===s.length?"0"+s:s}e+="-";for(let s=0;s<6;s++){const s=F(t,i).toString(16);e+=1===s.length?"0"+s:s}return e.toLowerCase()}static Sy(t){const i=t.Cp,e=t.xp,s=ji(i,e),{version:n,flags:r}=ic(s),h=ji(i,e),o=ji(i,e);let a,u;0===n?(a=Ce.fromBits(ji(i,e),0,!0),u=Ce.fromBits(ji(i,e),0,!0)):(a=tr(i,e),u=tr(i,e)),e.Np(2);const c=CA(i,e),l=[];for(let t=0;t<c;t+=1){const t=ji(i,e),s=t>>31&1,n=2147483647&t,r=ji(i,e),h=ji(i,e),o=h>>31&1,a=h>>28&7,u=268435455&h;l.push({PT:s,BT:n,ct:r,RT:o,UT:a,QT:u})}return{hA:Wr.fp,_y:n,gy:r,FT:h,zy:o,YT:a,GT:u,VT:c,WT:l}}static wT(t){const i=t.Cp,e=t.xp,s=ji(i,e),{version:n,flags:r}=ic(s);let h;return h=0===n?Ce.fromBits(ji(i,e),0,!0):tr(i,e),{hA:Wr.op,_y:n,gy:r,vT:h}}},ev={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function sv(t){if(!t)return!0;const i=t.licenseAcquisitionURL,e=t.certificateURL,s=t.keys,n=t.headers,r=t.useCredentials,h=t.queryParameters;return!(i||e||s||n||r||h)}function nv(t){return t&&void 0!==t.licenseAcquisitionURL}var rv,hv,K,ms,_a,ov,Ks,Os,av=nv,uv=nv;function cv(t){if(!t)return!0;if(fv(t))return!1;const i=t.fairplay,e=t.playready,s=t.widevine,n=t.clearkey,r=t.aes128;return sv(i)&&sv(e)&&sv(s)&&void 0===n&&sv(r)}function lv(t){const i=bw(t),e=function(t){var i;const e=t;return Ew(e)&&""!==(null==(i=e.fairplay)?void 0:i.headers.PreAuthorization)&&!Sw(e)}(t);return(!i||!e)&&(i||e)}function dv(t){return t.integration===Fh}function Ps(t){const i=t;if(!i)return!1;if(cv(i))return!1;const e=i.fairplay,s=i.playready,n=i.widevine,r=i.clearkey;if(fv(t))return!0;if(e&&!function(t){const i=t;return i&&(void 0!==i.certificateURL||void 0!==i.certificate)}(e))return!1;if(s&&!av(s))return!1;if(n&&!uv(n))return!1;if(r&&!function(t){return void 0!==t}(r))return!1;if(i.integration){if(Mu.Mm.vm(i.integration))return!0;switch(i.integration){case Aw:if(!function(t){const i=t,e=i.integration===Aw;return e&&(_v(t)||gv(t))}(t))return!1;break;case Sh:if(!Xh(t))return!1;break;case mw:if(!function(t){const i=t;return i.integration===mw}(t))return!1;break;case Fh:if(!dv(t))return!1;break;case Jc:if(!lv(t))return!1;break;case vw:if(!function(t){const i=t;return i.integration===vw}(t))return!1;break;case pw:if(!fv(t))return!1;break;case Oh:if(!function(t){const i=t;return i.integration===Oh&&(void 0!==i.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(i))}(t))return!1;break;case yw:if(!function(t){const i=t;return i.integration===yw}(t))return!1;break;case Bh:if(!wv(t))return!1;break;case Mw:if(!function(t){return t.integration===Mw}(t))return!1;break;case Hh:if(!Vo(t))return!1;break;case jl:if(!function(t){const i=t;return i.integration===jl&&void 0!==i.token}(t))return!1;break;case Tw:if(!function(t){const i=t;return i.integration===Tw}(t))return!1;break;case Nw:if(!function(t){const i=t;return i&&li(i.releasePid)&&li(i.accountId)&&li(i.token)}(t))return!1;break;case Dw:return!0;default:return!1}}return!0}function fv(t){return t.integration===pw}function _v(t){return void 0!==t.authToken}function gv(t){const i=t;return void 0!==i.accountName&&void 0!==i.customerName&&void 0!==i.portalId}function Xh(t){const i=t;return i.integration===Sh&&void 0!==i.token}function wv(t){const i=t;return i&&i.integration===Bh&&ae(i.ticketAcquisitionURL)&&ae(i.streamId)}function Vo(t){const i=t;return i.integration===Hh&&void 0!==i.token}function Av(t,i){const e=i[t];var s;const n=null!=(s=null==e?void 0:e.licenseAcquisitionURL)?s:ev[t];var r;const h=null!=(r=null==e?void 0:e.customdata)?r:i.customdata,o=h?{customData:h}:{};var a;const u=At({},null!=(a=null==e?void 0:e.headers)?a:{},o),c=null!=e?e:{},{customdata:l}=c;return At({},Iw(c,["customdata"]),{licenseAcquisitionURL:n,headers:u})}function ml(t){switch(t.toLowerCase()){case"widevine":case mt:return mt;case"playready":case Xi:return Xi;case"fairplay":case qa:return qa}}function vv(t,i){switch(t){case jw:return function(t){const i={},e=Qi.yy(new DataView(t));for(const t of e)i[t.xT]=t.zT;return i}(i);case zw:case Gh:return function(t){return{[ul]:t}}(i);default:throw new ce(y_.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}function Ca(t,i,e){const s=function(t,i,e){var s;const{useCredentials:n,crossOrigin:r}=function(t,i){let e=Ds.Bv;return t.useCredentials?e=Ds.Uv:t.crossOrigin&&(e=Lv(t.crossOrigin)),e===Ds.Bv&&i&&i.vr&&i.vr[360]&&(e=Ds.Rv),{useCredentials:e===Ds.Uv,crossOrigin:e}}(t,i);let h=t.liveOffset;li(h)||(h=e&&li(e.liveOffset)?e.liveOffset:void 0);let o=t.timeServer;li(o)||(o=i&&li(i.timeServer)?i.timeServer:void 0);let a=t.hlsDateRange;li(a)||(a=e&&li(e.hlsDateRange)?Boolean(e.hlsDateRange):void 0);const u=Boolean(t.experimentalRendering),c=Boolean(t.nativeUiRendering),l=Boolean(t.lowLatency),d=Boolean(t.useNativePlayback),f=Boolean(t.useManagedMediaSource),_=li(t.dash)?pv(t.dash):void 0,g=li(t.hls)?yv(t.hls):void 0,w=Nv(Tv(t.abr),null==e?void 0:e.abr),A=ru(t.lcevc),v=li(t.ignoreEmbeddedTextTrackTypes)?Vv(t.ignoreEmbeddedTextTrackTypes):[];var m;const p=Ev(null!=(m=t.seamlessSwitchStrategy)?m:null==(s=t.dash)?void 0:s.useSeamlessPeriodSwitch);return{crossOrigin:r,useCredentials:n,liveOffset:h,timeServer:o,hlsDateRange:a,experimentalRendering:u,nativeUiRendering:c,lowLatency:l,useNativePlayback:d,useManagedMediaSource:f,dash:_,hls:g,abr:w,lcevc:A,ignoreEmbeddedTextTrackTypes:v,seamlessSwitchStrategy:p}}(t,i,e),n=Wc(t.src);let r=t.type;r||(r=t.src?ca(t.src):void 0);const h=function(t,i){let e;e=li(t.contentProtection)?t.contentProtection:li(t.drm)?t.drm:li(i)&&li(i.contentProtection)?i.contentProtection:li(i)&&li(i.drm)?i.drm:void 0;return mv(e)}(t,i);return At({},s,{src:n,type:r,contentProtection:h,ssai:li(t.ssai)?ww(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function mv(t){return Ps(t)&&t.integration&&t.integration===pw?function(t){const i=Av(Ci.qv,t),e=Av(Ci.Hv,t),s=t[Ci.Xv]&&Av(Ci.Xv,t);return At({integration:"keyos",widevine:i,playready:e},s?{fairplay:s}:{})}(t):t}function pv(t){return{useSeamlessPeriodSwitch:Ev(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:ru(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?Ih(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:ru(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:ru(null==t?void 0:t.ignoreAvailabilityWindow),forceHardSwitchWhenSeekingBackwards:ru(null==t?void 0:t.forceHardSwitchWhenSeekingBackwards)}}function yv(t){return{discontinuityAlignment:Mv(null==t?void 0:t.discontinuityAlignment)}}function Mv(t){if(!t||!ae(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function Tv(t){if(!li(t))return;return Dv(Og(null==t?void 0:t.preferredAudioCodecs,Oa),Og(null==t?void 0:t.preferredVideoCodecs,Oa),ru(null==t?void 0:t.restrictToPlayerSize))}function Nv(t,i){if(!li(t)&&!li(i))return;var e;return Dv(Iv(null==t?void 0:t.preferredAudioCodecs,null==i?void 0:i.preferredAudioCodecs),Iv(null==t?void 0:t.preferredVideoCodecs,null==i?void 0:i.preferredVideoCodecs),null!=(e=null==t?void 0:t.restrictToPlayerSize)?e:null==i?void 0:i.restrictToPlayerSize)}function Dv(t,i,e){if(0!==t.length||0!==i.length||void 0!==e)return{preferredAudioCodecs:0===t.length?void 0:t,preferredVideoCodecs:0===i.length?void 0:i,restrictToPlayerSize:e}}function Iv(t,i){return void 0!==t&&(null==t?void 0:t.length)>0?t:null!=i?i:[]}function Sv(t,i){if(void 0!==i)switch(t){case hv.vp:return i.preferredVideoCodecs;case hv.mp:return i.preferredAudioCodecs;default:return}}function Ev(t){if(!t||!ae(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}function Ni(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":return!0;default:return!1}}function bv(t){return!!t&&oo(t,"mpd")}function ca(t){let i=vi.Gv;return bv(t)&&(i=vi.Qv),function(t){return!!t&&oo(t,"m3u8")}(t)&&(i=vi.Fv),i}function Lv(t){switch(t){case Ds.Rv:case Ds.Uv:return t;default:return Ds.Bv}}function kv(t){if(!t)return!1;const i=t.toLowerCase();return ew(i,vi.Qv)}function ka(t){if(!t)return!1;const i=t.toLowerCase();return ew(i,vi.Fv)||ew(i,vi.Yv)}function Cv(t){return Mi(t)&&Mi(t.ssai)&&"google-dai"===t.ssai.integration}function xv(t){return Mi(t)&&ae(t.integration)&&"verizon-media"===t.integration}function Ov(t){return Mi(t)&&ae(t.integration)&&"theolive"===t.integration}function jv(t){return Mi(t)&&ae(t.integration)&&"mediatailor"===t.integration}function zv(t){if(ae(t))return!t;if(xv(t))return!t.id;if(Cv(t)){const i=t.ssai,e="live"===i.availabilityType&&i.assetKey,s="vod"===i.availabilityType&&i.contentSourceID&&i.videoID;return Boolean(e&&s)}return!t.src}function Pv(t){return Boolean(Mi(t)&&ae(t.src))}function Bv(t){return t.type===vi.Vv||t.type===vi.Wv}function Ia(t){return ae(t)||Pv(t)||Cv(t)||xv(t)}function Rv(t){if(t){if(Ia(t))return zv(t);for(const i of t)if(!zv(i))return!1;return!0}return!0}function Uv(){return{crossOrigin:Ds.Bv,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,useManagedMediaSource:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0,ignoreEmbeddedTextTrackTypes:[],seamlessSwitchStrategy:K.HT}}function Qv(){return At({},Uv(),{src:void 0,type:vi.Gv,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Fv(t){const i={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:_a.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1,language:void 0,uiElements:void 0}};return void 0===t||(void 0!==t.preload&&(i.preload=function(t){return"none"===t?ov.NONE:ov.MIDROLL_AND_POSTROLL}(t.preload)),void 0!==t.showCountdown&&(i.showCountdown=Cg(t.showCountdown)),void 0!==t.vpaidMode&&(i.vpaidMode=function(t){switch(t){case"insecure":return _a.INSECURE;case"disabled":return _a.DISABLED;default:return _a.ENABLED}}(t.vpaidMode)),pi(t.allowedMimeTypes)&&(i.allowedMimeTypes=t.allowedMimeTypes.filter(ae)),void 0!==t.googleIma&&(i.googleIma=function(t){return void 0===t?{useNativeIma:!1,bitrate:-1,language:void 0,uiElements:void 0}:{useNativeIma:Cg(t.useNativeIma),bitrate:null!=(i=t.bitrate)?i:-1,language:li(t.language)?Oa(t.language):void 0,uiElements:t.uiElements};var i}(t.googleIma))),i}function Yv(t){if(!rt(t))return[];const i=[];for(const e of t)Li(e)&&i.push(e);return i}function Gv(t){return ae(t.src)}function Vv(t){return pi(t)?t.filter(Ni):[]}r(),r(),function(t){t.HT="auto",t.qT="playlist",t.XT="media"}(rv||(rv={})),r(),r(),function(t){t.mp="audio",t.vp="video",t.Ru="text",t.ZT="image",t.KT="unknown"}(hv||(hv={})),function(t){t.HT="auto",t.JT="always",t.$T="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only"}(K||(K={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor",t.THEOLIVE="theolive"}(ms||(ms={})),r(),r(),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(_a||(_a={})),r(),r(),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(ov||(ov={})),r(),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Ks||(Ks={})),r(),r(),function(t){t[t.tN=0]="tN",t[t.Gn=1]="Gn",t[t.iN=2]="iN",t[t.eN=3]="eN",t[t.sN=4]="sN"}(Os||(Os={}));var Wv=class extends mg{constructor(i,e=Os.tN){super(t.bA),this.currentTime=i,this.readyState=e}};r();var ye=class extends mg{constructor(i){super(t.Sh),this.currentTime=i}};r();var fh=class extends mg{constructor(i){super(t.jh),this.currentTime=i}};r();var cs=class extends mg{constructor(t,i=Os.Gn){super(er.yv),this.currentTime=t,this.readyState=i}};r();var Vr=class extends mg{constructor(i){super(t.EA),this.duration=i}};r();var se=class extends mg{constructor(i,e){super(t.WA),this.currentTime=i,this.playbackRate=e}};r();var jc=class extends mg{constructor(i,e){super(t.ov),this.currentTime=i,this.currentProgramDateTime=e}};r();var ys=class extends mg{constructor(i){super(t.kA),this.currentTime=i}};r();var rs=class extends mg{constructor(t,i=Os.iN){super(er.pv),this.currentTime=t,this.readyState=i}};r();var Sa=class extends mg{constructor(i){super(t.ZA),this.currentTime=i}};r();var $s=class extends mg{constructor(i){super(t.XA),this.currentTime=i}};r();var Oe=class extends mg{constructor(i,e){super(t.uv),this.currentTime=i,this.volume=e}};r();var Wt=class extends mg{constructor(t,i=Os.eN){super(er.vv),this.currentTime=t,this.readyState=i}};r();var fs=class extends mg{constructor(t,i=Os.sN){super(er.mv),this.currentTime=t,this.readyState=i}};r();var Jh=class extends mg{constructor(t,i){super(er.Mw),this.currentTime=t,this.readyState=i}};r();var pe=class extends z{get error(){return this.errorObject.message}fa(){return this}constructor(t){super(Nr.ha),this.errorObject=t}};async function pu(t,i,e,s,n){void 0===e&&(e=3),void 0===s&&(s=1e3),void 0===n&&(n=1/0);let r=0;for(;;)try{return await t(i)}catch(t){if(go(t),r<e){const t=x.min(s*2**r,n);r++,await ws(t,i);continue}throw t}}r();var Hv,qv={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};function Xv(t){switch(t){case"all":case"content":return t;default:return"none"}}function Zv(t){const i=Kr(t||{});return i.libraryLocation&&(i.libraryLocation=Ta(i.libraryLocation,!0)),i.isEmbeddable=Boolean(i.isEmbeddable),i.cast=function(t){const i=_w(t?t.chromecast:void 0),e=function(t){switch(t){case"auto":return"auto";case"manual":default:return"manual";case"disabled":return"disabled"}}(t?t.strategy:void 0);return{chromecast:i,strategy:e}}(i.cast),i.ads=Fv(i.ads),i.analytics=Yv(i.analytics),i.mutedAutoplay=Xv(i.mutedAutoplay),i.allowNativeFullscreen=Boolean(i.allowNativeFullscreen),i.allowMixedContent=Boolean(i.allowMixedContent),i.persistVolume=Boolean(i.persistVolume),i.liveOffset=function(t){return Number(t)||void 0}(i.liveOffset),i.hlsDateRange=function(t){return Boolean(t)}(i.hlsDateRange),i.retainPlaybackRateOnSourceChange=Boolean(i.retainPlaybackRateOnSourceChange),i.license=function(t){return ae(t)?t:void 0}(i.license),i.licenseUrl=function(t){if(!t)return;try{return Ta(t)}catch(t){return void lg.Pv("Invalid 'licenseUrl', falling back to default URL")}}(i.licenseUrl),i.vr=function(t){return{useWebXR:Boolean(t&&t.useWebXR)}}(i.vr),i.abr=Tv(i.abr),i.retryConfiguration=function(t){const i=At({},qv);return void 0!==t&&(void 0!==t.maxRetries&&(i.maxRetries=Number(t.maxRetries)),void 0!==t.minimumBackoff&&(i.minimumBackoff=Number(t.minimumBackoff)),void 0!==t.maximumBackoff&&(i.maximumBackoff=Number(t.maximumBackoff))),i}(i.retryConfiguration),i.hideDeprecationWarnings=Boolean(i.hideDeprecationWarnings),i.theoLive=function(t){if(!t)return t;return At({},t,{externalSessionId:t.externalSessionId?Oa(t.externalSessionId):void 0,fallbackEnabled:ru(t.fallbackEnabled)})}(i.theoLive),i}function Kv(t){return{j_:t.j_,ct:t.ct,R_:t.R_,lt:t.lt,F_:t.F_,Z_:t.Z_,hg:t.hg,ag:t.ag,vg:t.vg,Tg:t.Tg,Ig:t.Ig,Lg:t.Lg,xg:t.xg}}function Jv(t,i){const e=i.xg,s=i.Z_;t.xg=e,t.Z_=s}function Ma(t,i,e){if(i===e)return;const s=i.j_,n=i.ct,r=i.Z_,h=i.hg,o=i.ag,a=i.vg,u=i.Tg,c=(i.Lg,i.Ig,i.xg),l=e.j_,d=e.ct,f=e.R_,_=e.F_,g=e.Z_,w=e.hg,A=e.ag,v=e.vg,m=e.Tg,p=(e.Lg,e.Ig,e.xg);a!==Os.tN&&t.Co(new Wv(l,v)),w&&!h?t.Co(new ye(l)):!w&&h&&t.Co(new fh(l)),v>=Os.Gn&&t.Co(new cs(l,v)),d===n||j(d)&&j(n)||t.Co(new Vr(d)),A!==o&&t.Co(new se(l,A)),l!==s&&t.Co(new jc(l,void 0)),f&&t.Co(new ys(l)),v>=Os.iN&&t.Co(new rs(l,v)),m&&!u?t.Co(new Sa(l)):!m&&u&&t.Co(new $s(l)),p===c&&g===r||t.Co(new Oe(l,p)),v>=Os.eN&&t.Co(new Wt(l,v)),v>=Os.sN&&t.Co(new fs(l,v)),v!==a&&t.Co(new Jh(l,v)),_&&t.Co(new pe(_))}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Hv||(Hv={})),r();var M=class extends mg{constructor(i){super(t.IA),this.currentSource=i}};r();var zt=class extends mg{constructor(){super(t.CA)}};r();var us=class extends mg{constructor(){super(t.OA)}},$v=class extends qo{I_(){return this.nN}get G_(){return this.V_()}V_(){return this.rN}Dg(){return this.Dl}Eg(){return this.hN}oN(t){const i=this.S_;if(i===t)return;i.N_(this.iw);const e=Kv(this),s=this.O_(),n=this.Rg(),r=this.Ug();this.S_=t,this.nN.Pw=t.ht,this.hN.Pw=t.rt,this.Dl.Pw=t.nt,this.rN.Pw=t.G_,void 0!==e&&Ma(this,e,this);const h=this.O_();h!==s&&this.Co(new M(h)),this.Rg()!==n&&this.Co(new zt),this.Ug()!==r&&this.Co(new us),t.m_(this.iw)}async gn(){await super.gn(),this.nN.gn(),this.hN.gn(),this.Dl.gn(),this.rN.gn()}constructor(t){super(t),this.nN=new we,this.hN=new we,this.Dl=new Yu,this.rN=new iw,this.nN.Pw=t.ht,this.hN.Pw=t.rt,this.Dl.Pw=t.nt,this.rN.Pw=t.G_}};r();var tm,im=class extends $v{X_(){return function(t){let i=0,e=0,s=0,n=0,r=0,h=0,o=0;for(const a of t)i+=a.aN,e+=a.uN,s+=a.cN,n+=a.lN,r+=a.dN,h+=a.fN.amountOfBufferedAudioSegments,o+=a.fN.amountOfBufferedVideoSegments;return{aN:i,uN:e,cN:s,lN:n,dN:r,fN:{amountOfBufferedAudioSegments:h,amountOfBufferedVideoSegments:o}}}(this._N.map((t=>t.q_)))}Wg(){return pl(this._N.map((t=>t.Wg()))).then(fg)}Zn(){return pl(this._N.map((t=>t.Zn()))).then(fg)}Yg(){if(!this.bo){for(const t of this._N)t.Yg();this.bo=!0}}E_(){const t=[];for(const i of this._N)t.push(...i.E_());return t}Jg(t){let i=!1;for(const e of this._N)i=e.Jg(t)||i;return i}Co(t){this.Jg(t)||super.Co(t)}get Pw(){return this.S_}set Pw(t){this.oN(t)}gN(t){this._N.push(t)}wN(t){Et(this._N,t)}oN(t){if(t===this.S_)return;const i=this.S_;i.Fg(),super.oN(t),t.Qg(i)}Zg(){for(const t of this._N)t.Zg()}async gn(){this.Vo(),this.S_.Fg();for(const t of this._N)this.S_!==t&&await t.gn();await super.gn()}constructor(t){super(t),this._N=[],this.bo=!1,this.AN=!1,this.gN(t)}};r(),function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(tm||(tm={}));var uc=class extends Bc{get name(){return"MediaError"}constructor(t,i,e,s){super(i),this.code=t,this.message=null!=i?i:"Unknown error",this.cause=e,this.systemCode=s,b.captureStackTrace&&b.captureStackTrace(this,this.constructor)}};function em(t){zc(t,"MEDIA_ERR_ABORTED",1),zc(t,"MEDIA_ERR_NETWORK",2),zc(t,"MEDIA_ERR_DECODE",3),zc(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),zc(t,"MEDIA_ERR_ENCRYPTED",5)}function Vs(t){var i,e;return function(t){return t.category===Th.CONTENT_PROTECTION}(t)?new uc(5,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new uc(sm(t.code),t.message,null==(e=t.cause)?void 0:e.message)}function sm(t){if(t===y_.MEDIA_ABORTED)return 1;if(t===y_.MANIFEST_LOAD_ERROR||t===y_.MEDIA_LOAD_ERROR||t===y_.SUBTITLE_LOAD_ERROR)return 2;if(t===y_.MEDIA_DECODE_ERROR)return 3;if(t===y_.MEDIA_NOT_SUPPORTED)return 4;const i=Th.fromCode(t);return i===Th.NETWORK?2:i===Th.SOURCE?4:i===Th.LICENSE?6:i===Th.CONTENT_PROTECTION?5:i===Th.AD?7:3}function _s(t){return new ce(nm(t.code),t.message,t)}function nm(t){switch(t){case 1:return y_.MEDIA_ABORTED;case 2:return y_.NETWORK_ERROR;case 3:return y_.MEDIA_DECODE_ERROR;case 4:return y_.SOURCE_NOT_SUPPORTED;case 5:return y_.CONTENT_PROTECTION_ERROR;case 6:return y_.LICENSE_ERROR;case 7:return y_.AD_ERROR}}em(uc),em(uc.prototype),r(),r(),r(),r(),r();var He=class extends Di{tt(t){return super.tt(t)}fa(){return Ug(this)}};r(),r(),r(),r();var Bt=class{get xw(){return this.vN}get U(){return this.vN.length}get va(){return this.Xa||(this.Xa=function(t){const i=t.xw.map((t=>t.va));return i.item=i=>{const e=0|i,s=t.jw(e);return s&&s.va||void 0},i}(this)),this.Xa}mN(t){this.vN.push(t),this.Xa&&this.Xa.push(t.va)}pN(t){Et(this.vN,t),this.Xa&&Et(this.Xa,t.va)}jw(t){return this.vN[t]}yN(t){return pi(t)?function(t,i){for(const e of i)if(!Ho(t,e))return!1;return!0}(this.vN,t):Ho(this.vN,t)}Zn(){Ri(this.vN),this.Xa&&Ri(this.Xa)}constructor(){this.vN=[],this.Xa=void 0}};r();var Ln=class extends yo{fa(){return new rm(this.Lt.va)}constructor(t){super(ea.Iw),this.Lt=t}},rm=class extends bu{constructor(t){super("update"),this.track=t}};r();var hm=0;function Ou(){return hm++}var om=0;var am=0;function um(){return am++}var cm=0;function lm(){return cm++}var dm=0;var fm=class extends i{get Gw(){}get Rt(){return this.Le}set Rt(t){this.Le!==t&&(this.Le=t,this.MN=t,this.Co(new le(this)))}get MN(){return this.TN.enabled}set MN(t){this.TN.enabled=t}get va(){return this.Xa||(this.Xa=Ei(this)),this.Xa}get o(){return this.NN}get Vw(){return this.DN}get zt(){return this.TN.kind}get kh(){return this.IN}set kh(t){t!==this.IN&&(this.IN=t,this.Co(new Ln(this)))}get gs(){return this.TN.language}get eA(){return this.Rt?"enabled":"disabled"}get SN(){return this.TN}get Hw(){return this.vN}get qw(){}set qw(t){}EN(t){this.Rt=t}bN(){this.Rt=this.MN}constructor(t){super(),this.hA=hv.mp,this.Le=!1,this.Xa=void 0,this.TN=t,this.DN=Ou(),this.NN=dm+++"",this.IN=t.label,this.vN=new Bt,this.bN()}};r();var _m=0;var gm=class extends i{get Gw(){}get Rt(){return this.Le}set Rt(t){this.Le!==t&&(this.Le=t,this.MN=t,this.Co(new le(this)))}get MN(){return!!this.TN.selected}set MN(t){this.TN.selected=t}get va(){return this.Xa||(this.Xa=Ei(this)),this.Xa}get o(){return this.NN}get Vw(){return this.DN}get zt(){return"main"}get kh(){return this.IN}set kh(t){t!==this.IN&&(this.IN=t,this.Co(new Ln(this)))}get gs(){return this.TN.language}get eA(){return this.Rt?"enabled":"disabled"}get SN(){return this.TN}get Hw(){return this.vN}get qw(){}set qw(t){}bN(){this.Rt=this.MN}EN(t){this.Rt=t}constructor(t){super(),this.hA=hv.vp,this.Le=!1,this.Xa=void 0,this.TN=t,this.DN=Ou(),this.NN=_m+++"",this.vN=new Bt,this.IN=t.label,this.bN()}};r();var Q,$a,wm=class extends mg{constructor(i){super(t.pA),this.W_=i}};r(),r(),function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Q||(Q={})),r(),r(),function(t){t.LN="cue",t.kN="region",t.CN="stylesheet"}($a||($a={})),r(),r();var Cl,Am={"line-left":"start",center:"middle","line-right":"end"},vm={start:"line-left",middle:"center",end:"line-right"};function mm(t,i){if("auto"===t)switch(i){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function pm(t,i){if("auto"===t)switch(i){case"left":return 0;case"right":return 100;default:return 50}return function(t,i){const e="number"==typeof t?t:S(t);return j(e)?i:e}(t,50)}r(),r(),r(),function(t){t.xN="mo",t.ON="So",t.Iw="Qn"}(Cl||(Cl={}));var ou=class extends yo{constructor(t,i){super(t),this.jN=i}},Xa=class extends bu{constructor(t,i){super(t),this.cue=i}};function Rh(t){const i=[Cl.xN,Cl.ON,Cl.Iw];let e;const s={get track(){return t.Lt.va},get id(){return t.o},get uid(){return t.Vw},get startTime(){return t.zN},set startTime(i){t.zN=i},get endTime(){return t.PN},set endTime(i){t.PN=i},get content(){return t.O},addEventListener(t,i){const s=As(t,Oa);e.yn(s,i)},removeEventListener(t,i){const s=As(t,Oa);e.fn(s,i)}};return e=new jt(s),t.yn(i,(t=>e.Co(t.va))),s}function ym(){}function Mm(t){return _l(Rh(t),{get align(){return t.BN},get line(){return t.RN},get lineAlign(){return t.UN},get position(){return t.po},get positionAlign(){return t.QN},get region(){return t.FN?t.FN.va:null},get size(){return t.ey},get snapToLines(){return t.YN},get text(){return t.O},get vertical(){return t.Pt}})}r(),r();var gu=class extends ou{fa(){return new Tm(this.jN.va)}constructor(t){super(Cl.Iw,t)}},Tm=class extends Xa{constructor(t){super("update",t)}};r();var Ua=class extends yo{fa(){return new Nm(this.jN.va)}constructor(t){super(ea.dw),this.jN=t}},Nm=class extends bu{constructor(t){super("updatecue"),this.cue=t}},Wa=.02;function Dm(t,i){return Va(t.GN,i.GN,Wa)&&Va(t.VN,i.VN,Wa)&&t.o===i.o}var gn=class extends i{get zN(){return this.WN}set zN(t){var i,e;this.WN!==t&&(this.WN=t,null==(i=this.HN)||i.qN(this),this.Co(new gu(this)),null==(e=this.HN)||e.Co(new Ua(this)))}get PN(){return this.XN}set PN(t){var i,e;this.XN!==t&&(this.XN=t,null==(i=this.HN)||i.qN(this),this.Co(new gu(this)),null==(e=this.HN)||e.Co(new Ua(this)))}get o(){return this.NN}get Vw(){return this.DN}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){return Rh(this)}get ro(){return this.ho}set ro(t){this.ho=t}get Lt(){return this.HN}set Lt(t){this.HN=t}get O(){return this.ZN}set O(t){var i;this.ZN!==t&&(this.ZN=t,this.Co(new gu(this)),null==(i=this.HN)||i.Co(new Ua(this)))}get KN(){return this.JN}set KN(t){this.JN=t}$N(t){return this===t||Lg(this,t)&&Dm(this,t)&&this.tD(t)}tD(t){return Ah(this.O,t.O)}iD(t,i){this.WN=t,this.XN=i,this.GN=t,this.VN=i}gn(){this.Vo()}constructor(t,i,e,s,n){super(),this.Xa=void 0,this.HN=void 0,this.ho=!1,this.eD=-1,this.DN=lm(),this.WN=t,this.XN=i,this.GN=t,this.VN=i,this.ZN=e,this.JN=Boolean(s),this.NN=null!=n?n:""}};function Im(t,i){return t.O===i.O&&t.RN===i.RN&&t.UN===i.UN&&t.po===i.po&&t.QN===i.QN&&t.FN===i.FN&&t.YN===i.YN&&t.ey===i.ey&&t.BN===i.BN&&t.Pt===i.Pt}var Sm=class extends gn{get va(){return this.Xa||(this.Xa=Mm(this)),this.Xa}get hA(){return $a.LN}tD(t){return Im(this,t)}constructor(t,i,e,s,n){super(t,i,e,s,n),this.RN="auto",this.UN="start",this.po="auto",this.QN="auto",this.FN=void 0,this.YN=!0,this.ey=100,this.BN="center",this.Pt=""}};function qs(t){const i=t.RN,e=B_(i);return e&&!t.YN&&(i<0||i>100)?100:e?Number(i):t.YN?-1:100}function Em(t){return pm(t.po,t.BN)}function bm(t){return mm(t.QN,t.BN)}function Lm(t){const i=bm(t),e=Em(t);let s;switch(i){case"line-left":s=100-e;break;case"line-right":s=e;break;case"center":s=e<=50?2*e:2*(100-e)}return x.min(t.ey,s)}function km(t){return{get id(){return t.o},get identifier(){return t.o},get lines(){return t.sD},get regionAnchorX(){return t.nD},get regionAnchorY(){return t.rD},get scrollValue(){return t.hD},get viewportAnchorX(){return t.oD},get viewportAnchorY(){return t.aD},get width(){return t.ji}}}r(),r();var Cm=class{get va(){return this.Xa||(this.Xa=km(this)),this.Xa}get hA(){return $a.kN}constructor(t,i,e,s,n,r,h,o){this.o=t,this.ji=i,this.sD=e,this.nD=s,this.rD=n,this.oD=r,this.aD=h,this.hD=o}};r(),r();var xm=1e6,Om=class{uD(t){return this.cD()*t}lD(t){return this.dD(t)>0}fD(t){return this.dD(t)>=0}_D(t,i){return this.wD(t).gD(i)}$N(t){return 0===this.dD(t)}vD(t){return this.dD(t)<0}gD(t){return this.dD(t)<=0}mD(){return this.pD()?this.yD():this}MD(t){return this.mN(t.yD())}wD(t){return this.MD(t).mD()}};function jm(t,i){return t.TD()?i.TD()?Po.Zr:Po.Wf:i.TD()?Po.Hf:t.ND()?i.ND()&&t.pD()===i.pD()?Po.Zr:t.pD()?Po.Hf:Po.Wf:i.pD()?Po.Wf:Po.Hf}r(),r();var zm=4294967296,Pm=zm*zm,Bm=Pm*Pm,Rm=Bm/2,is=class t{static DD(i,e,s){return s?new t(i.toUnsigned(),e.toUnsigned()):new t(i.toSigned(),e.toSigned())}static SD(i){return i.unsigned?new t(i,Ce.UZERO):new t(i,i.isNegative()?Ce.NEG_ONE:Ce.ZERO)}static ED(i,e){if(j(i))return e?t.bD:t.LD;if(e){if(i<0)return t.bD;if(i>=Bm)return t.kD}else{if(i<=-Rm)return t.CD;if(i+1>=Rm)return t.xD}return i<0?t.ED(-i,e).yD():t.DD(Ce.fromNumber(i%Pm),Ce.fromNumber(i/Pm),e)}OD(){return this.jD.unsigned}zD(){return this.PD.isZero()&&this.jD.isZero()}pD(){return this.jD.isNegative()}BD(){return this.OD()?t.DD(this.PD,this.jD,!1):this}RD(){return this.OD()?this:t.DD(this.PD,this.jD,!0)}UD(){return this.PD}cD(){return this.pD()?-this.yD().cD():this.jD.toNumber()*Pm+this.PD.toUnsigned().toNumber()}QD(){return this.PD.toInt()}$N(t){return(this.OD()===t.OD()||this.jD.getHighBits()>>>31!=1||t.jD.getHighBits()>>>31!=1)&&(this.jD.toUnsigned().eq(t.jD.toUnsigned())&&this.PD.toUnsigned().eq(t.PD.toUnsigned()))}dD(t){if(this.$N(t))return Po.Zr;const i=this.pD(),e=t.pD();if(i&&!e)return Po.Hf;if(!i&&e)return Po.Wf;if(!this.OD())return this.MD(t).pD()?Po.Hf:Po.Wf;const s=this.RD(),n=t.RD(),r=n.jD.comp(s.jD);return r>0||0===r&&n.PD.gt(s.PD)?Po.Hf:Po.Wf}vD(t){return this.dD(t)<0}gD(t){return this.dD(t)<=0}FD(t){return this.dD(t)>0}YD(t){return this.dD(t)>=0}GD(){return new t(this.PD.not(),this.jD.not())}VD(i){return new t(this.PD.and(i.PD),this.jD.and(i.jD))}WD(i){return new t(this.PD.or(i.PD),this.jD.or(i.jD))}HD(i){const e=127&i;return 0===e?this:e<64?t.DD(this.PD.shl(e),this.jD.shl(e).or(this.PD.shru(64-e)),this.OD()):t.DD(Ce.ZERO,this.PD.shl(e-64),this.OD())}qD(i){const e=127&i;return 0===e?this:e<64?t.DD(this.PD.shru(e).or(this.jD.shl(64-e)),this.jD.shr(e),this.OD()):t.DD(this.jD.shr(e-64),this.jD.isNegative()?Ce.NEG_ONE:Ce.ZERO,this.OD())}XD(i){const e=127&i;return 0===e?this:e<64?t.DD(this.PD.shru(e).or(this.jD.shl(64-e)),this.jD.shru(e),this.OD()):64===e?t.DD(this.jD,Ce.ZERO,this.OD()):t.DD(this.jD.shru(e-64),Ce.ZERO,this.OD())}mN(i){const e=this.jD.high>>>16,s=65535&this.jD.high,n=this.jD.low>>>16,r=65535&this.jD.low,h=this.PD.high>>>16,o=65535&this.PD.high,a=this.PD.low>>>16,u=65535&this.PD.low,c=i.jD.high>>>16,l=65535&i.jD.high,d=i.jD.low>>>16,f=65535&i.jD.low,_=i.PD.high>>>16,g=65535&i.PD.high,w=i.PD.low>>>16;let A=0,v=0,m=0,p=0,y=0,M=0,T=0,N=0;N+=u+(65535&i.PD.low),T+=N>>>16,N&=65535,T+=a+w,M+=T>>>16,T&=65535,M+=o+g,y+=M>>>16,M&=65535,y+=h+_,p+=y>>>16,y&=65535,p+=r+f,m+=p>>>16,p&=65535,m+=n+d,v+=m>>>16,m&=65535,v+=s+l,A+=v>>>16,v&=65535,A+=e+c,A&=65535;const D=this.OD(),I=Ce.fromBits(m<<16|p,A<<16|v,D),S=Ce.fromBits(T<<16|N,y<<16|M,D);return t.DD(S,I,D)}MD(t){return this.mN(t.yD())}yD(){return this.GD().mN(t.ZD)}KD(i){if(this.zD()||i.zD())return this.OD()?t.bD:t.LD;if(this.pD())return i.pD()?this.yD().KD(i.yD()):this.yD().KD(i).yD();if(i.pD())return this.KD(i.yD()).yD();if(this.jD.isZero()&&0===this.PD.high&&i.jD.isZero()&&0===i.PD.high)return t.SD(this.PD.multiply(i.PD));const e=Ce.fromBits(4294967295,0,!0),s=this.PD.and(e),n=this.PD.shru(32),r=this.jD.and(e),h=this.jD.shru(32),o=i.PD.and(e),a=i.PD.shru(32),u=i.jD.and(e),c=i.jD.shru(32);let l=Ce.UZERO,d=Ce.UZERO,f=Ce.UZERO,_=Ce.UZERO;l=l.add(s.mul(o)),d=d.add(l.shru(32)),l=l.and(e),d=d.add(n.mul(o)),f=f.add(d.shru(32)),d=d.and(e),d=d.add(s.mul(a)),f=f.add(d.shru(32)),d=d.and(e),f=f.add(r.mul(o)),_=_.add(f.shru(32)),f=f.and(e),f=f.add(n.mul(a)),_=_.add(f.shru(32)),f=f.and(e),f=f.add(s.mul(u)),_=_.add(f.shru(32)),f=f.and(e),_=_.add(h.mul(o)).add(r.mul(a)).add(n.mul(u)).add(s.mul(c)).and(e);const g=Ce.fromBits(l.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0),w=Ce.fromBits(f.getLowBitsUnsigned(),_.getLowBitsUnsigned(),!0);return t.DD(g,w,this.OD())}JD(i){let e,s,n=i;if(n.zD())throw new RangeError("division by zero");if(this.zD())return this.OD()?[t.bD,t.bD]:[t.LD,t.LD];if(this.OD()){if(n.OD()||(n=n.RD()),n.FD(this))return[t.bD,this];if(n.FD(this.XD(1)))return s=t.$D,e=this.MD(n),[s,e];s=t.bD}else{if(this.$N(t.CD)){if(n.$N(t.ZD)||n.$N(t.tI))return[t.CD,t.LD];if(n.$N(t.CD))return[t.ZD,t.LD];{const i=this.qD(1).iI(n).HD(1);return i.$N(t.LD)?s=n.pD()?t.ZD:t.tI:(e=this.MD(n.KD(i)),s=i.mN(e.iI(n))),e=this.MD(n.KD(s)),[s,e]}}if(n.$N(t.CD))return this.OD()?[t.bD,this]:[t.LD,this];if(this.pD())return n.pD()?this.yD().JD(n.yD()):([s,e]=this.yD().JD(n),[s.yD(),e.yD()]);if(n.pD())return[s,e]=this.JD(n.yD()),[s.yD(),e.yD()];s=t.LD}for(e=this;e.YD(n);){let i=x.max(1,x.floor(e.cD()/n.cD()));const r=x.ceil(x.log(i)/x.LN2),h=r<=48?1:2**(r-48);let o=t.ED(i),a=o.KD(n);for(;a.pD()||a.FD(e);)i-=h,o=t.ED(i,this.OD()),a=o.KD(n);o.zD()&&(o=t.ZD),s=s.mN(o),e=e.MD(a)}return[s,e]}iI(t){return this.JD(t)[0]}eI(t){return this.JD(t)[1]}toString(i){const e=i||10;if(e<2||e>36)throw new RangeError("radix");if(this.zD())return"0";if(this.pD()){if(this.$N(t.CD)){const i=t.ED(e),s=this.iI(i),n=s.KD(i).MD(this);return s.toString(e)+n.QD().toString(e)}return"-"+this.yD().toString(e)}const s=t.ED(e**6,this.OD());let n=this,r="";for(;;){const t=n.iI(s);let i=(n.MD(t.KD(s)).QD()>>>0).toString(e);if(n=t,n.zD())return i+r;for(;i.length<6;)i="0"+i;r=String(i)+r}}constructor(t,i){this.PD=t,this.jD=i}};is.LD=is.SD(Ce.ZERO),is.bD=is.SD(Ce.UZERO),is.ZD=is.SD(Ce.ONE),is.$D=is.SD(Ce.UONE),is.tI=is.SD(Ce.NEG_ONE),is.xD=is.DD(Ce.NEG_ONE,Ce.MAX_VALUE,!1),is.kD=is.DD(Ce.MAX_UNSIGNED_VALUE,Ce.MAX_UNSIGNED_VALUE,!0),is.CD=is.DD(Ce.ZERO,Ce.MIN_VALUE,!1),r();var Um=class t{get ND(){return!isFinite(this.sI)}get Kl(){return this.sI/this.zy}static nI(i){return new t(x.ceil(i.sI),i.zy)}static rI(i){return new t(x.floor(i.sI),i.zy)}static hI(t,i){return t.fD(i)?t:i}static oI(t,i){return t.gD(i)?t:i}mN(i){return this.zy>=i.zy?new t(this.sI+i.aI(this.zy).sI,this.zy):new t(this.aI(i.zy).sI+i.sI,i.zy)}lD(t){return t.vD(this)}fD(t){return t.gD(this)}wD(i){if(this.zy>=i.zy){const e=x.abs(this.sI-i.aI(this.zy).sI),s=this.zy;return new t(e,s)}return i.wD(this)}_D(t,i){return this.wD(t).gD(i)}dD(t){return function(t,i){return t.zy>=i.zy?X_(t.sI,i.aI(t.zy).sI):X_(t.aI(i.zy).sI,i.sI)}(this,t)}$N(t){return 0===this.dD(t)}vD(t){return this.dD(t)<0}gD(t){return this.dD(t)<=0}aI(i){return new t(this.sI*(i/this.zy),i)}MD(i){return this.zy>=i.zy?new t(this.sI-i.aI(this.zy).sI,this.zy):new t(this.aI(i.zy).sI-i.sI,i.zy)}uI(i){return new t(this.sI*i,this.zy)}constructor(t,i=1){this.sI=t,this.zy=i}};Um.Zl=new Um(1/6,1),Um.LD=new Um(0),Um.cI=new Um(1/0),Um.lI=1e6;var ga=class t extends Om{static dI(i,e){return void 0===e&&(e=xm),t.ED(i*e,e)}static ED(i,e){return j(i)?t.fI:i===1/0?t._I:i===-1/0?t.gI:new t(Ce.fromNumber(i),e)}static SD(i,e){return new t(i,e)}static wI(i){return t.dI(i.Kl,xm)}static AI(i){return new t(Ce.fromNumber(i.getTime()),1e3)}static hI(t,i){return t.fD(i)?t:i}static oI(t,i){return t.gD(i)?t:i}static vI(i,e,s){return t.hI(e,t.oI(s,i))}pD(){return this.ST.isNegative()}zD(){return 0!==this.zy&&this.ST.isZero()}ND(){return 0===this.zy&&!this.ST.isZero()}TD(){return 0===this.zy&&this.ST.isZero()}cD(){if(0===this.zy)return this.ST.isZero()?NaN:this.ST.isNegative()?-1/0:1/0;const t=this.ST.divide(this.zy),i=this.ST.subtract(t.multiply(this.zy));return t.toNumber()+i.toNumber()/this.zy}UD(){if(0===this.zy)throw new b("Failed to convert timestamp");return this.ST}mI(){return new Date(0===this.zy?NaN:this.aI(1e3).ST.toNumber())}pI(){return new Um(0===this.zy?this.cD():this.ST.toNumber(),this.zy)}aI(i,e){void 0===e&&(e=Gu.yI);const s=this.zy;if(s===i)return this;if(0===s)return this;const n=W_(s,i),r=function(t,i,e){const[s,n]=t.JD(i);if(n.zD())return s;if(e===Gu.yI)return n.pD()?s.MD(is.ZD):s;if(e===Gu.MI)return n.pD()?s:s.mN(is.ZD);{const t=n.KD(is.ED(2));return t.pD()?t.yD().vD(i)?s:s.MD(is.ZD):t.vD(i)?s:s.mN(is.ZD)}}(is.SD(this.ST).KD(is.ED(i/n)),is.ED(s/n),e);return new t(r.UD(),i)}dD(t){if(this===t)return Po.Zr;if(0===this.zy||0===t.zy)return jm(this,t);if(this.zD())return t.zD()?Po.Zr:t.pD()?Po.Wf:Po.Hf;if(t.zD())return this.pD()?Po.Hf:Po.Wf;const i=x.min(this.zy,t.zy),e=this.aI(i,Gu.TI).ST,s=t.aI(i,Gu.TI).ST;return e.compare(s)}yD(){return 0===this.zy?function(t){0;return t.TD()?t:t.pD()?ga._I:ga.gI}(this):new t(this.ST.negate(),this.zy)}mN(i){if(0===this.zy||0===i.zy)return function(t,i){0;if(t.TD()||i.TD())return ga.fI;if(t.ND()&&i.ND())return t.pD()===i.pD()?t:ga.fI;return t.ND()?t:i}(this,i);if(this.zD())return i;if(i.zD())return this;const e=x.max(this.zy,i.zy),s=this.aI(e,Gu.TI),n=i.aI(e,Gu.TI);return new t(s.ST.add(n.ST),e)}KD(i){if(this.TD()||j(i))return t.fI;if(this.ND()||!isFinite(i)){if(this.zD()||0===i)return t.fI;{const e=this.pD()?t.gI:t._I;return i<0?e.yD():e}}return this.zD()?this:new t(0===i?Ce.ZERO:this.ST.multiply(i),this.zy)}iI(i){if(this.TD()||j(i))return t.fI;if(this.ND())return isFinite(i)?0===i?1/i<0?this.yD():this:i<0?this.yD():this:t.fI;if(!isFinite(i))return new t(Ce.ZERO,this.zy);if(this.zD())return 0===i?t.fI:new t(Ce.ZERO,this.zy);if(0===i){const e=this.pD()?t.gI:t._I;return 1/i<0?e.yD():e}return new t(this.ST.divide(i),this.zy)}NI(){return[this.ST.low,this.ST.high,this.zy]}constructor(t,i){super(),this.ST=t.toSigned(),this.zy=i>>>0}};ga.LD=new ga(Ce.ZERO,xm),ga.fI=new ga(Ce.ZERO,0),ga._I=new ga(Ce.ONE,0),ga.gI=new ga(Ce.NEG_ONE,0),r();var Gu,ai=class t extends Om{static dI(i,e){return void 0===e&&(e=xm),t.ED(i*e,e)}static ED(i,e){return j(i)?t.fI:i===1/0?t._I:i===-1/0?t.gI:new t(BigInt(x.floor(i)),e)}static SD(i,e){return new t(BigInt(i.high)<<BigInt(32)|BigInt(i.low>>>0),e)}static wI(i){return t.dI(i.Kl,xm)}static AI(i){return t.ED(i.getTime(),1e3)}static get LD(){return t.DI||(t.DI=new t(BigInt(0),xm)),t.DI}static get fI(){return t.II||(t.II=new t(BigInt(0),0)),t.II}static get _I(){return t.SI||(t.SI=new t(BigInt(1),0)),t.SI}static get gI(){return t.EI||(t.EI=new t(BigInt(-1),0)),t.EI}static hI(t,i){return t.fD(i)?t:i}static oI(t,i){return t.gD(i)?t:i}static vI(i,e,s){return t.hI(e,t.oI(s,i))}pD(){return this.ST<BigInt(0)}zD(){return 0!==this.zy&&this.ST===BigInt(0)}ND(){return 0===this.zy&&this.ST!==BigInt(0)}TD(){return 0===this.zy&&this.ST===BigInt(0)}cD(){if(0===this.zy)return this.ST===BigInt(0)?NaN:this.ST<BigInt(0)?-1/0:1/0;const t=this.ST/BigInt(this.zy),i=this.ST-t*BigInt(this.zy);return Number(t)+Number(i)/this.zy}UD(){if(0===this.zy)throw new b("Failed to convert timestamp");return this.bI()}bI(){const t=this.ST&BigInt(4294967295),i=this.ST>>BigInt(32)&BigInt(4294967295);return Ce.fromBits(Number(t),Number(i))}mI(){return new Date(0===this.zy?NaN:Number(this.aI(1e3).ST))}pI(){return new Um(0===this.zy?this.cD():Number(this.ST),this.zy)}aI(i,e){void 0===e&&(e=Gu.yI);const s=this.zy;if(s===i)return this;if(0===s)return this;const n=W_(s,i),r=function(t,i,e){const s=t/i,n=t-s*i;if(n===BigInt(0))return s;if(e===Gu.yI)return n<BigInt(0)?s-BigInt(1):s;if(e===Gu.MI)return n<BigInt(0)?s:s+BigInt(1);{const t=n*BigInt(2);return t<BigInt(0)?-t<i?s:s-BigInt(1):t<i?s:s+BigInt(1)}}(this.ST*BigInt(i/n),BigInt(s/n),e);return new t(r,i)}dD(t){if(this===t)return Po.Zr;if(0===this.zy||0===t.zy)return jm(this,t);if(this.zD())return t.zD()?Po.Zr:t.pD()?Po.Wf:Po.Hf;if(t.zD())return this.pD()?Po.Hf:Po.Wf;const i=x.min(this.zy,t.zy),e=this.aI(i,Gu.TI).ST,s=t.aI(i,Gu.TI).ST;return e>s?Po.Wf:e<s?Po.Hf:Po.Zr}yD(){return 0===this.zy?function(t){0;return t.TD()?t:t.pD()?ai._I:ai.gI}(this):new t(-this.ST,this.zy)}mN(i){if(0===this.zy||0===i.zy)return function(t,i){0;if(t.TD()||i.TD())return ai.fI;if(t.ND()&&i.ND())return t.pD()===i.pD()?t:ai.fI;return t.ND()?t:i}(this,i);if(this.zD())return i;if(i.zD())return this;const e=x.max(this.zy,i.zy),s=this.aI(e,Gu.TI),n=i.aI(e,Gu.TI);return new t(s.ST+n.ST,e)}KD(i){if(this.TD()||j(i))return t.fI;if(this.ND()||!isFinite(i)){if(this.zD()||0===i)return t.fI;{const e=this.pD()?t.gI:t._I;return i<0?e.yD():e}}return this.zD()?this:new t(0===i?BigInt(0):this.ST*BigInt(i),this.zy)}iI(i){if(this.TD()||j(i))return t.fI;if(this.ND())return isFinite(i)?0===i?1/i<0?this.yD():this:i<0?this.yD():this:t.fI;if(!isFinite(i))return new t(BigInt(0),this.zy);if(this.zD())return 0===i?t.fI:new t(BigInt(0),this.zy);if(0===i){const e=this.pD()?t.gI:t._I;return 1/i<0?e.yD():e}return new t(this.ST/BigInt(i),this.zy)}NI(){const t=this.bI();return[t.low,t.high,this.zy]}constructor(t,i){super(),this.ST=BigInt.asIntN(64,t),this.zy=i>>>0}};ai.DI=void 0,ai.II=void 0,ai.SI=void 0,ai.EI=void 0,function(t){t[t.yI=0]="yI",t[t.MI=1]="MI",t[t.TI=2]="TI"}(Gu||(Gu={}));var Pt=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?ai:ga;function Qm(t,i){return t.dD(i)}function zo(t,i){return void 0!==t?void 0!==i?Pt.oI(t,i):t:i}r();var Fm=9e4,Ba=bh((()=>Pt.ED(8589934592,Fm))),Ym=bh((()=>Ba().iI(2)));r();var Ss={LI:0,kI:1/0,CI:0},Gm=6,Vm=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],Wm=[" ","\t","\n","\f","\r"],Hm=/^\d*$/,qm=/.*[0-9]+.*/,Xm=/^[\d.-]+$/,Zm=/(^\.|\.$)/,Km=/(\D\.|\.\D)/;function Jm(t,i){void 0===i&&(i=Ss);return $m(qA(Mo(t),new Or),i)}function $m(t,i){void 0===i&&(i=Ss);const e={L:[],xI:[],OI:[]},s=tp(t),n=new Or;if(cp(s),Da(s,(t=>"\n"!==t),n),n.Ku>=s.length)return e;if(n.Np(1),"\n"!==s.charAt(n.Ku)){rp(ip(s,n,false,!0,e,i),e)}else n.Np(1);for(Da(s,(t=>"\n"===t),n);n.Ku<s.length;){rp(ip(s,n,false,!1,e,i),e),Da(s,(t=>"\n"===t),n)}return e}function tp(t){const i=ll(t,"\0"," "),e=ll(i,"\r\n","\n");return ll(e,"\r","\n")}function Da(t,i,e){const s=e.Ku;for(;e.Ku<t.length&&i(t.charAt(e.Ku));)e.Np(1);return t.substring(s,e.Ku)}function ip(t,i,e,s,n,r){let h,o=0,a=i.Ku,u="",c=!1,l=!1,d=null,f=null,_=null;for(;!c;)if(h=Da(t,(t=>"\n"!==t),i),o++,i.Ku>=t.length?c=!0:i.Np(1),oo(h,"--\x3e")){if(s||1!==o&&(2!==o||l)){i.Dp(a);break}l=!0,a=i.Ku,d=new Sm(0,0,"",!1,u);try{hp(h,n.xI,d,r),u=""}catch(t){lg.Pv(t),d=null}}else{if(""===h)break;s&&ew(h,"X-TIMESTAMP-MAP")&&(n.jI=ep(h)),s||2!==o||e||(Wi("STYLE",u.replace(/ /g,""))?(f={hA:$a.CN},u=""):Wi("REGION",u.replace(/ /g,""))&&(_=new Cm("",100,3,0,100,0,100,""),u="")),u&&(u+="\n"),u+=h,a=i.Ku}if(d)return d.O=u,d;if(f);else if(_)return function(t,i){const e=t.split(/\s/),s=":";for(const t of e)if(0!==t.length&&oo(t,s)&&t.charAt(0)!==s&&t.charAt(t.length-1)!==s){const e=t.indexOf(s),n=t.substring(0,e),r=t.substring(e+1,t.length);switch(n.toUpperCase()){case"ID":Mp(r,i);break;case"WIDTH":Dp(r,i);break;case"LINES":Np(r,i);break;case"REGIONANCHOR":{const t=yp(r);t&&(i.nD=t[0],i.rD=t[1]);break}case"VIEWPORTANCHOR":{const t=yp(r);t&&(i.oD=t[0],i.aD=t[1]);break}case"SCROLL":Tp(r,i)}}}(u,_),_;return null}function ep(t){const i=t.split("=")[1].trim().split(","),e=np(i[0].trim(),"MPEGTS")?i[0]:i[1],s=np(i[0].trim(),"LOCAL")?i[0]:i[1];var n;return{zI:sp(Number(e.split(/:(.*)/)[1].trim())||0),lh:Pt.dI(null!=(n=Su(s.split(/:(.*)/)[1].trim(),new Or))?n:0)}}function sp(t){return Pt.ED(t,Fm)}function np(t,i){return ew(t,i)}function rp(t,i){t&&function(t){return"cue"===t.hA}(t)?i.L.push(t):t&&function(t){return"region"===t.hA}(t)?i.xI.push(t):t&&function(t){return"stylesheet"===t.hA}(t)&&i.OI.push(t)}function hp(t,i,e,s){const n=new Or;dp(t,n);const r=op(Su(t,n),s);if(dp(t,n),"--\x3e"!==t.substring(n.Ku,n.Ku+3))throw b("Something went wrong with parsing a WebVTT Cue");n.Np(3),dp(t,n);const h=op(Su(t,n),s);e.iD(r,h);!function(t,i,e){const s=t.split(/\s/),n=":";for(const t of s)if(0!==t.length&&oo(t,n)&&t.charAt(0)!==n&&t.charAt(t.length-1)!==n){const s=t.indexOf(n),r=t.substring(0,s),h=t.substring(s+1,t.length);switch(r.toUpperCase()){case"REGION":Ap(h,i,e);break;case"VERTICAL":mp(h,i);break;case"D":pp(h,i);break;case"LINE":case"L":gp(h,i);break;case"POSITION":case"T":wp(h,i);break;case"SIZE":case"S":vp(h,i);break;case"ALIGN":case"A":_p(h,i)}}}(t.substring(n.Ku,t.length),e,i)}function op(t,i){return t+i.LI}function ap(t){return/^[0-9]$/.test(t)}function Su(t,i){const e=ll(t,",",".");let s,n,r,h=!1;if(i.Ku>=e.length||!ap(e.charAt(i.Ku)))throw new b("Something went wrong with parsing a WebVTT Cue timestamp");const o=Da(e,ap,i),a=C(o,10);if((o.length>2||a>59)&&(h=!0),i.Ku>=e.length||":"!==e.charAt(i.Ku))throw new b("Something went wrong with parsing a WebVTT Cue timestamp");i.Np(1);const u=Da(e,ap,i);if(2!==u.length)throw new b("Something went wrong with parsing a WebVTT Cue timestamp");const c=C(u,10);if(h||i.Ku<e.length&&":"===e.charAt(i.Ku)){if(i.Ku>=e.length||":"!==e.charAt(i.Ku))throw new b("Something went wrong with parsing a WebVTT Cue timestamp");i.Np(1);const t=Da(e,ap,i);if(2!==u.length)throw new b("Something went wrong with parsing a WebVTT Cue timestamp");s=a,n=c,r=C(t,10)}else s=0,n=a,r=c;if(i.Ku>=e.length||"."!==e.charAt(i.Ku))throw new b("Something went wrong with parsing a WebVTT Cue timestamp");i.Np(1);const l=Da(e,ap,i),d=C(l,10);if(c>59||r>59)throw new b("Something went wrong with parsing a WebVTT Cue timestamp");return 60*s*60+60*n+r+d/1e3}function up(t){return cp(tp(t))}function cp(t){if(t.length<Gm)return!1;for(const i of Vm)if(ew(t,i))return!0;return!1}function lp(t){return Ho(Wm,t)}function dp(t,i){for(;i.Ku<t.length&&lp(t.charAt(i.Ku));)i.Np(1)}function fp(t){const i=t.lastIndexOf("%");if(i>-1){const e=S(t.substring(0,i));if(!j(e)&&e>=0&&e<=100)return e}return null}function _p(t,i){const e=t.toLowerCase();switch(e){case"start":case"center":case"end":case"left":case"right":i.BN=e;break;case"middle":i.BN="center"}}function gp(t,i){let e,s;const n=t.indexOf(",");if(n>=0?(e=t.substring(0,n),s=t.substring(n+1,t.length)):(e=t,s=""),!qm.test(e))return;let r,h;if(Ph(e,"%")){const t=fp(e);if(null===t)return;r=t,h=!1}else{if(!Xm.test(e)||e.lastIndexOf("-")>0)return;const t=e.indexOf(".");if(t>=0&&(t!==e.lastIndexOf(".")||!Km.test(e)||Zm.test(e)))return;if(r=S(e),j(r))return;h=!0}switch(i.RN=r,i.YN=h,s=s.toLowerCase(),s){case"start":case"center":case"end":i.UN=s;break;case"middle":i.UN="center"}}function wp(t,i){let e,s;const n=t.indexOf(",");n>=0?(e=t.substring(0,n),s=t.substring(n+1,t.length)):(e=t,s="");const r=fp(e);if(null!==r)switch(i.po=r,s=s.toLowerCase(),s){case"line-left":case"center":case"line-right":case"auto":i.QN=s;break;case"start":i.QN="line-left";break;case"middle":i.QN="center";break;case"end":i.QN="line-right"}}function Ap(t,i,e){const s=J_(e,(i=>i.o===t));void 0!==s&&(i.FN=s)}function vp(t,i){const e=fp(t);null!==e&&(i.ey=e)}function mp(t,i){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":i.Pt="rl";break;case"lr":case"vertical:lr":case"vertical-lr":i.Pt="lr";break;default:i.Pt=""}}function pp(t,i){"VERTICAL"===t.toUpperCase()?i.Pt="rl":"VERTICAL-LR"===t.toUpperCase()&&(i.Pt="lr")}function yp(t){if(t.indexOf(",")>=0){const i=fp(t.substring(0,t.indexOf(","))),e=fp(t.substring(t.indexOf(",")+1,t.length));return[Sc(i||0,0,100),Sc(e||100,0,100)]}return null}function Mp(t,i){i.o=t}function Tp(t,i){"up"===t.toLowerCase()&&(i.hD="up")}function Np(t,i){Hm.test(t)&&(i.sD=C(t))}function Dp(t,i){const e=fp(t);null!==e&&(i.ji=e)}function Ip(t){return t&&"BI"in t?t.BI:t}r(),r(),r();var $t,Sp=class extends gn{get RI(){return this.UI}get xI(){return this.QI}get FI(){return this.YI}get va(){return this.Xa||(this.Xa=function(t){return _l(Rh(t),{get styles(){return t.RI},get regions(){return t.xI},get metadata(){return Ip(t.FI)},get content(){return Ip(t.O)}})}(this)),this.Xa}tD(t){return!!Ah(this.RI,t.RI)&&(!!Ah(this.xI,t.xI)&&(this.FI&&t.FI?!!this.FI.GI(t.FI)&&(this.O&&t.O?this.O.GI(t.O):this.O===t.O):this.FI===t.FI))}constructor(t,i,e,s,n,r,h){super(t,i,e,s),this.UI=n,this.QI=r,this.YI=h||void 0}};function ps(t){return 1===t.VI}function Ep(t){return 3===t.VI}r(),r(),function(t){t[t.WI=1]="WI",t[t.HI=2]="HI",t[t.Ru=3]="Ru",t[t.qI=4]="qI",t[t.XI=9]="XI"}($t||($t={}));var bp=class{get ZI(){return this.Ef.KI(!0)}get zN(){return this.JI}get PN(){return this.$I}constructor(t,i,e){this.JI=t,this.$I=i,ps(e)?this.Ef=function(t,i,e){for(const t of["begin","end","dur"])e.tS(t);return e}(0,0,e):this.Ef=e}};r();var Ml={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_WEBM:"video/webm",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_WEBM:"audio/webm",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function fe(t){return oo(t,Ml.APPLICATION_MP4)||oo(t,Ml.VIDEO_MP4)||oo(t,Ml.AUDIO_MP4)}function Lp(t){return oo(t,Ml.VIDEO_WEBM)||oo(t,Ml.AUDIO_WEBM)}var kp=class{iS(t){for(const[i,e]of this.eS)if(i.toLowerCase()===t.toLowerCase())return e}constructor(t,i){this.hA=t,this.eS=i}};function Cp(t){const i=t.trim(),e=i.indexOf(";");if(e<0)return new kp(i,[]);const s=i.substr(0,e).trim(),n=i.substr(e+1).trim(),r=[];let h=0,o=!1;for(let t=0;t<n.length;t++){const i=n[t];if(o||";"!==i)'"'===i&&(o=!o);else{const i=xp(n.substr(h,t));i&&r.push(i),h=t+1}}if(h!==n.length){const t=xp(n.substr(h));t&&r.push(t)}return new kp(s,r)}function xp(t){const i=t.indexOf("=");if(i<0)return;const e=t.substr(0,i).trim();let s=t.substr(i+1).trim();return'"'===s[0]&&(s=s.substring(1,s.length-1)),[e,s]}function Op(t){const i=t.trim(),e=i.indexOf(";");return e<0?i:i.substr(0,e).trim()}function jp(t){let i=t;const e=i.match(/^avc1\.(\d+)\.(\d+)$/);if(e){const t=Number(e[1]),s=Number(e[2]);i="avc1."+fa((t<<16|s).toString(16),6,"0")}return i}r();var zp="http://www.w3.org/XML/1998/namespace";function Pp(t,i,e,s){let n=t.sS(e,i);return 0===n.length&&(n=t.nS(s+":"+i)),n}function Bp(t){const i={};for(const e of t.rS)i[e.hS]=e.ST;return i}var Rp=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Up=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,hu="http://www.w3.org/ns/ttml";function Qp(t,i,e,s){void 0===e&&(e=Ss),void 0===s&&(s=Ml.APPLICATION_TTML_XML);let n=[];const r=Mo(t);return s===Ml.APPLICATION_MP4?n=function(t,i,e){const s=Qi.wy(t),n=$A(s,Wr.cp);if(!n)return[];return Gp(Mo(n.Cp),i,e)}(r,i,e):s===Ml.APPLICATION_TTML_XML&&(n=Gp(r,i,e)),n}function Fp(t,i,e){return void 0===e&&(e=Ss),Vp(t,i,e)}function Yp(t,i){const e=$p(i.ZI),s={};for(const i of e)s[i]=t[i];return s}function Gp(t,i,e){return Vp(qA(t,new Or),i,e)}function Vp(t,i,e){const s=[];let n;try{n=lg.oS(t)}catch(t){return s}const r=n.aS;if("tt"!==r.hS)return s;const h=r&&r.sS(hu,"head")[0],o=r&&r.sS(hu,"body")[0];if(!o||!h)return s;const a=function(t){const i={},e=t.sS(hu,"styling")[0],s=e&&e.sS(hu,"style")||[];for(const t of s){i[t.uS(zp,"id")]=Bp(t)}return i}(h),u=function(t){const i={},e=t.sS(hu,"layout")[0],s=e&&e.sS(hu,"region")||[];for(const t of s){const e=t.uS(zp,"id");if(!e)continue;i[e]=Bp(t);const s=Jp(t);for(const t in s)nt.call(s,t)&&(i[e][t]=s[t])}return i}(h),c=function(t,i){const e=Kr(t),s=qp(i.cS("tts:extent"));if(!s)return e;for(const t of _.keys(e)){const i=qp(e[t].extent);if(i){const n=Wp(i[0],s[0]),r=Wp(i[1],s[1]);e[t].extent=n+" "+r}const n=qp(e[t].origin);if(n){const i=Wp(n[0],s[0]),r=Wp(n[1],s[1]);e[t].origin=i+" "+r}}return e}(u,r),l=h.sS(hu,"metadata")[0],d=Xp(o,e.LI,e.kI,e.CI);for(const t of d){const i=Yp(c,t);s.push(new Sp(t.zN,t.PN,t.ZI,!1,a,i,l))}return s}function Wp(t,i){const e=Hp(t),s=Hp(i);if(e&&s&&e===s){const n=Number(t.slice(0,-e.length)),r=Number(i.slice(0,-s.length));return j(n)||j(r)?t:n/r*100+"%"}return t}function Hp(t){return Ph(t,"px")?"px":Ph(t,"em")?"em":Ph(t,"c")?"c":Ph(t,"%")?"%":void 0}function qp(t){if(!t)return;const i=t.split(" ");return 2===i.length?[i[0],i[1]]:void 0}function Xp(t,i,e,s){let n,r=i,h=e,o=[];const a=[];if(ps(t)){var u,c;r=null!=(u=Kp(t.cS("begin"),s))?u:r,n=Kp(t.cS("dur"),0),h=null!=(c=Kp(t.cS("end"),s))?c:void 0!==n?r+n:h;const i=t.lS;for(let e=0;e<i.length;e++)("body"===t.hS||"div"===t.hS)&&i[e].VI>1||(o=o.concat(Xp(i[e],r,h,s)))}const l=function(t,i,e){const s=[];s.push(t,i);for(const t of e)s.push(t.zN,t.PN);s.sort(Ee);let n=s.length;for(let t=0;t<n-1;t++)s[t+1]===s[t]&&(Dt(s,t+1),t--,n=s.length);return s}(r,h,o);for(let i=0;i<l.length-1;i++){const e=Zp(l[i],l[i+1],o);if(e.length<=0&&ty(t)){const e=t.KI(!1);a.push(new bp(l[i],l[i+1],e))}else if(e.length>0){const s=t.KI(!1);e.forEach((t=>s.dS(t.ZI))),a.push(new bp(l[i],l[i+1],s))}}return a}function Zp(t,i,e){const s=[];for(let n=0;n<e.length;n++){const r=e[n].zN,h=e[n].PN;(r>=t&&h<=i||r<i&&h>=i||r<t&&h>t)&&s.push(e[n])}return s}function Kp(t,i){if(t){if(Rp.test(t)){const e=Rp.exec(t);if(!e)return;const s=Number(e[1])||0,n=Number(e[2])||0,r=Number(e[3])||0,h=e[6];return 3600*s+60*n+r+(h?Number(h)*.1**h.length:0)+i}if(Up.test(t)){const e=Up.exec(t);if(!e)return;const s=Number(e[1]);let n;switch(e[4]){case"h":n=3600*s;break;case"m":n=60*s;break;case"s":n=s;break;case"ms":n=.001*s;break;default:n=NaN}return n+i}}}function Jp(t){const i={},e=t.nS("style")||[];for(const t of e){const e=Bp(t);for(const t in e)nt.call(e,t)&&(i[t]=e[t])}return i}function $p(t){let i,e=[];if(ps(t)){i=t.cS("region"),i&&e.push(i);const s=t.lS;for(let t=0;t<s.length;t++)e=e.concat($p(s[t]))}return e}function ty(t){if(ps(t)){const i=t.hS.toUpperCase(),e=Boolean(t.cS("smpte:backgroundImage"));return"BR"===i||e}return t.VI===$t.Ru}function iy(t){const i=function(t){try{return lg.oS(t).aS}catch(t){}}(t);return"tt"===(null==i?void 0:i.hS)}r(),r();var Oi,jn=class extends Di{tt(t){return super.tt(t)}it(t){const i=super.it(t);return i&&(t.eA=La.Ch),i}fa(){return Oc(this)}};r(),r(),function(t){t.pp="subtitles",t.fS="captions",t._S="descriptions",t.Fn="chapters",t.Mp="metadata",t.gS="thumbnails"}(Oi||(Oi={}));var ey=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function sy(t){return"string"==typeof t&&Ho(ey,t)}function ny(t,i){return!(!sy(t)||!sy(i))&&(t===i||"subtitles"===t&&"captions"===i||"captions"===t&&"subtitles"===i)}r();var bs,ry=class extends ce{constructor(t,i,e,s,n){super(t,i,n),this.url=e,this.status=s}};r(),function(t){t.wS="HttpOpenError",t.AS="HttpResponseError",t.vS="HttpTimeoutError"}(bs||(bs={}));var Xt=class extends Xo{get mS(){return this.pS}constructor(t,i,e){super(i,e),this.pS=t}};r(),r();var ir=class extends Xt{get name(){return bs.AS}get yS(){return this.MS}constructor(t,i,e){super(t.mS,null!=e?e:function(t){return"Error while loading "+t.mS.zu+", status code "+t.TS}(t),i),this.MS=t}};r();var hy,oy=class extends Xt{get name(){return bs.vS}constructor(t,i){super(t,function(t){return"Request for "+t.zu+" timed out after "+t.NS+" seconds."}(t),i)}};function ay(t){return t instanceof Xt}function ee(t){return t instanceof ir}function uy(t){return t===Oi.pp||t===Oi.fS}function cy(t){return t.some(ly)}function ly(t){return oo(t,"stpp")}function dy(t){return t.some(fy)}function fy(t){return oo(t,"vtt")||oo(t,"wvtt")}function Io(t,i){return fe(t)&&dy(i)}function _y(t,i){return t===Oi.gS||t===Oi.Mp&&i===Oi.gS}function gy(t,i,e,s){for(const n of t.L.xw){if(n.zN>e)break;i<=n.PN&&!Ho(s,n)&&s.push(n)}}function wy(t,i){return H_(t.Vw,i.Vw)}function Ay(t,i,e,s){const n=function(t){switch(t){case Ks.WEBVTT:return"WebVTT";case Ks.SRT:return"SRT";case Ks.TTML:return"TTML";default:return""}}(t);return new ry(y_.SUBTITLE_PARSE_ERROR,"Could not parse the "+(n?n+" ":"")+"subtitle file.",i,e,s)}function vy(t,i){const e=[];for(const s of t.L.xw)if(s.PN<=i)e.push(s);else if(s.zN>=i)break;for(const i of e)t.DS(i)}function my(t,i){if(t.U>0){const e=10,s=t.Cn(0),n=x.max(0,s-e);for(const t of i)t.IS(n)}}!function(t){t.SS="vtt",t.Km="wvtt",t.ES="stpp"}(hy||(hy={}));var Rt,ni=class extends i{tt(t){t.yn(ea.ra,this.bS),this.Z.tt(t),this.LS(t)}it(t){t.fn(ea.ra,this.bS),t.eA=La.Ch,this.Z.it(t)}kS(t){}CS(t){}LS(t){t.eA!==La.Ch?this.kS(t):this.CS(t)}xS(){for(const t of this.Z.xw)t.fn(ea.ra,this.bS),t.gn()}IS(t){if(t>0)for(const i of this.Z.xw)vy(i,t)}Zn(){return this.xS(),this.Z.Zn(),Promise.resolve()}async gn(){this.Vo(),await this.Zn(),this.Z.gn()}constructor(...t){super(...t),this.Z=new jn,this.bS=t=>{const i=t.Lt;this.LS(i)}}};r(),r(),function(t){t.OS="arraybuffer",t.jS="json",t.zS="stream",t.Ru="text"}(Rt||(Rt={})),r();var Yc,Ru,ss,nn,py,Yo=class t{append(t,i){let e=t,s=i;e=yy(e),s=My(s);const n=e.toLowerCase();if(this.Kf.hasOwnProperty(n)){const t=this.Kf[n],i=t[1];t[1]=i?i+", "+s:s}else this.Kf[n]=[e,s]}delete(t){const i=yy(t).toLowerCase();delete this.Kf[i]}get(t){const i=yy(t).toLowerCase();return this.Kf.hasOwnProperty(i)?this.Kf[i][1]:null}has(t){const i=yy(t).toLowerCase();return this.Kf.hasOwnProperty(i)}set(t,i){let e=t;e=yy(e);const s=e.toLowerCase();this.Kf[s]=[e,My(i)]}forEach(t,i){for(const e in this.Kf)this.Kf.hasOwnProperty(e)&&t.call(i,this.Kf[e][1],e,this)}asList(){const t=[];for(const i in this.Kf)if(this.Kf.hasOwnProperty(i)){const[e,s]=this.Kf[i];t.push([e,s])}return t}PS(){const t={};return this.forEach(((i,e)=>{t[e]=i})),t}RS(t){t.forEach(((t,i)=>{this.append(i,t)}))}US(t){t.forEach(((t,i)=>{this.set(i,t)}))}constructor(i){this.Kf={},i instanceof t?i.asList().forEach((t=>{let[i,e]=t;this.append(i,e)})):Array.isArray(i)?i.forEach((t=>{this.append(t[0],t[1])})):i&&_.getOwnPropertyNames(i).forEach((t=>{this.append(t,i[t])}))}};function yy(t){let i=t;if("string"!=typeof i&&(i=String(i)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(i))throw new k("Invalid character in header field name");return i}function My(t){let i=t;return"string"!=typeof i&&(i=String(i)),i}!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Yc||(Yc={})),function(t){t.KT="",t.QS="manifest",t.FS="segment",t.YS="preload-hint",t.GS="content-protection"}(Ru||(Ru={})),function(t){t.KT="",t.VS="initialization-segment",t.WS="fairplay-license",t.HS="fairplay-certificate",t.qS="widevine-license",t.XS="widevine-certificate",t.ZS="playready-license",t.KS="clearkey-license",t.JS="aes128-key"}(ss||(ss={})),function(t){t.KT="",t.mp="audio",t.vp="video",t.Ru="text",t.ZT="image"}(nn||(nn={})),function(t){t.$S="same-origin",t.Bv="no-cors",t.tE="cors",t.iE="navigate"}(py||(py={}));var Uu=class{constructor(t,i){const e=t.zu;let s,n,r,h,o,a,u,c,l,d,f,_,g;var w;i?(s=i.eE,n=i.sE,r=i.nE,h=i.rE,o=i.NS,a=i.hE,u=i.a_,c=i.hA,l=i.oE,d=i.aE,f=i.uE,_=i.cE,g=i.eA):(s=null,n={},r="GET",h=Rt.Ru,o=0,a=0,c="",l="",d="",f=!1,g=void 0),this.zu=e,this.eE=t.eE||s,this.sE=new Yo(t.sE||n),this.nE=t.nE||r,this.rE=t.rE||h,this.NS=void 0!==t.NS?Number(t.NS)||0:o,this.hE=void 0!==t.hE?Number(t.hE)||0:a,this.a_=t.a_||u||(new xs).a_,this.hA=t.hA||c,this.oE=t.oE||l,this.aE=t.aE||d,this.uE=void 0!==t.uE?Boolean(t.uE):f,this.cE=t.cE||_,this.eA=null!=(w=t.eA)?w:g}};r();var Ty,Ny=class extends z{get error(){return this.errorObject.message}fa(){return this}constructor(t){super(Nr.ha),this.errorObject=t}},du=class extends ni{lE(t){if(!t.src)return;const i=t.kind||Oi.pp,e=this.fE.dE(i,t.id,t.label,t.srclang,t.default);return e.oA=Ta(t.src),this.tt(e),e}async _E(t,i){t.vg=Q.LOADING;const e=new Uu({zu:t.oA,rE:Rt.Ru,nE:Yc.GET,a_:i});let s,n;try{const t=await this.gE.mS(e);n=t.TS,s=await t.wE()}catch(i){return go(i),t.vg=Q.ERROR,void t.Co(new Ny(function(t,i){let e=i,s=0;if(ay(t)&&t.name===bs.wS)e=t.mS.zu;else if(ee(t)){const i=t.yS;if(e=i.AE,s=i.TS,0===s)return new ry(y_.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,s,t)}return new ry(y_.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,s,t)}(i,t.oA)))}try{const i=function(t){return up(t)?Ks.WEBVTT:iy(t)?Ks.TTML:Ks.SRT}(s);t.hA=i;let e=[];if(i===Ks.WEBVTT||i===Ks.SRT){e=$m(s).L}else i===Ks.TTML&&(e=Fp(s,t));for(const i of e)t.vE(i)}catch(i){return go(i),t.vg=Q.ERROR,void t.Co(new Ny(Ay(t.hA,t.oA,n,i)))}t.vg=Q.LOADED}kS(t){Ho(this.Z.xw,t)&&t.vg===Q.NONE&&this._E(t,this.mE.a_).catch(Mh)}$n(){}async Zn(){this.mE.c_(),this.mE=new xs;for(const t of this.Z.xw)this.fE.pE(t);await super.Zn()}constructor(t,i){super(),this.mE=new xs,this.fE=t,this.gE=i}};function Dy(t,i){for(const e of t)if(e.zt===i&&e.yE)return e}function Iy(t,i){Sy(Dy(t.xw,i))}function Sy(t){void 0!==t&&(t.eA=La.Xn)}function Ey(t,i){const e=Dy(t.xw,i)||function(t,i){for(const e of t)if(e.zt===i)return e}(t.xw,i);Sy(e)}function Qs(t){for(const i of ey)i===Oi.Fn?Ey(t,i):Iy(t,i)}r(),r(),r(),function(t){t.ME="web",t.TE="android",t.NE="android-tv",t.DE="ios",t.SE="tvos",t.EE="chromecast",t.bE="theoliveweb"}(Ty||(Ty={}));var ec=sd?sd.userAgent:"",by=ec.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Ly=ec.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),ky=ec.match(/Android ([0-9\.]+)/i),Cy=ec.match(/Windows NT ([0-9\.]+)/i),xy=ec.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Oy=ec.match(/Firefox\/([0-9\.]+)/i),jy=ec.match(/OPR\/(\d+\.\d+)/i),zy=ec.match(/Tizen ([0-9\.]+)/i),Py=ec.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),By=class{get Je(){return this.LE}get kE(){return this.CE}get xE(){return this.OE}get jE(){return this.zE}get PE(){return this.BE}get RE(){return this.UE}get QE(){return this.FE}get YE(){return this.GE}get VE(){return this.WE}get HE(){return this.qE}get XE(){return this.ZE}get Ga(){return this.KE}get JE(){return this.$E}get ib(){return this.eb||this.sb}get td(){return this.hb}get Qs(){return this.ob}get ub(){return this.fb}get _b(){return this.gb}get wb(){return this.Ab}get vb(){return this.mb}get pb(){return this.yb}get Mb(){return this.Tb}get Nb(){return this.Db}get Ib(){return this.Sb}get Eb(){return this.bb}get Lb(){return this.kb}get Cb(){return this.xb}get Ob(){return this.jb}get zb(){return this.Pb}get Bb(){return this.Rb}get Ub(){return this.Qb}get Fb(){return this.Yb}get Gb(){return this.Vb}get Wb(){return this.Hb}get qb(){return this.Xb}get Zb(){return this.Kb}get Jb(){return this.$b}get tL(){return!(!this.Ib&&!this.Mb)&&this.wb<=56}get iL(){return this.eL}get sL(){return this.nL}get rL(){return this.hL}get oL(){return this.aL}get uL(){return this.cL}get lL(){return this.dL}get fL(){return this._L}constructor(){this.LE=Boolean("ontouchstart"in self||self.DocumentTouch&&h instanceof self.DocumentTouch||sd&&sd.msMaxTouchPoints),this.CE=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(ec)||/(macintosh|mac(?=_powerpc)\s)/i.test(ec),this.OE=/Windows NT/i.test(ec),this.zE=Cy?S(Cy[1]):0,this.BE=/Android/i.test(ec),this.UE=ky?S(ky[1]):0,this.FE=/windows phone (8|8\.1)/i.test(ec),this.GE=/iPhone/i.test(ec),this.WE=/iPad/i.test(ec),this.qE=this.CE&&this.LE&&!this.WE,this.ZE=/iPod/i.test(ec),this.hb=/Mobile Safari/i.test(ec),this.eb=/EOS\d*STB/i.test(ec),this.sb=/APP\d*STB/i.test(ec),this.KE=(this.GE||this.WE||this.qE||this.ZE)&&!this.FE,this.$E=Py?S(Py[2]):0,this.ob=this.FE||this.KE||this.BE||this.hb,this.fb=/CriOS/i.test(ec),this.gb=Boolean(self.chrome&&/google/i.test(sd.vendor))||this.fb,this.mb=this.gb&&/Edg\//i.test(sd.userAgent),this.yb=Ly?C(Ly[1],10):0,this._L=Boolean(self.chrome||/Chrome/i.test(ec)||/CriOS/i.test(ec)),this.Ab=by?C(by[1],10):0,this.Tb=/SMART-TV.*Tizen/i.test(ec),this.Db=zy?S(zy[1]):0,this.Sb=/webos|web0s/i.test(ec),this.bb=/VIZIO/i.test(ec),this.kb=/Edge\/\d+/i.test(ec),this.xb=/Trident/i.test(ec),this.jb=this.xb&&!self.ActiveXObject&&"ActiveXObject"in self,this.Pb=/Vivaldi/i.test(ec),this.Rb=/Firefox/i.test(ec)&&!/Seamonkey/i.test(ec),this.Qb=Oy?S(Oy[1]):0,this.Yb=/Safari/i.test(ec)&&!/Chrome/i.test(ec)&&!this.FE&&!this.Tb,this.Vb=xy?S(xy[2]):0,this.Hb=Boolean(jy),this.Xb=jy?S(jy[1]):0,this.Kb=/CrKey/.test(ec),this.$b=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(ec),this.eL="web"===Ty.NE,this.nL="web"===Ty.TE,this.hL=this.nL||this.eL,this.aL="web"===Ty.DE,this.cL="web"===Ty.SE,this.dL="web"===Ty.EE}};By.gL=new By;var Zt=By.gL;r();var Ry,Uy,vs,Ys,Qy,Fy,Yy=class extends mg{constructor(){super(t.qA)}};r(),r();var Gy={hA:Ci.Hv,wL:Bw,AL:"cenc",vL:Pw,mL:Xi,pL:"PlayReady"},Vy={hA:Ci.qv,wL:Uw,AL:"cenc",vL:Rw,mL:mt,pL:"Widevine"},Wy={hA:Ci.Xv,wL:Yw,AL:"skd",vL:ul,mL:qa,pL:"FairPlay"},Hy={hA:Ci.Xv,wL:"com.apple.fps",AL:"sinf",vL:ul,mL:qa,pL:"FairPlay"},Ka={hA:Ci.Zv,wL:"org.w3.clearkey",AL:"cenc",vL:Qw,mL:Fw,pL:"ClearKey"},qy=[Gy,Vy,Wy,Ka];function Xy(t){return qy.filter((i=>i.mL===t.toLowerCase()))}r(),r(),r(),r(),r(),r();var Zy,Ky=["cenc"],Jy=["cbcs","cbcs-1-9"],Ke=class extends mg{constructor(t){super("yL"),this.ML=t}},Bs=class extends mg{constructor(t,i,e,s){super("TL"),this.ML=t,this.NL=i,this.TL=e,this.DL=s}},$y=class extends mg{constructor(){super("lt")}};!function(t){t.LA="IL",t.SL="EL"}(Zy||(Zy={}));var zs=class extends mg{constructor(t,i){super("IL"),this.AL=t,this.bL=i}},tM=class extends mg{constructor(){super("EL")}};r();var Se=new T([0]).buffer,Fs=class{get ey(){return this.Xu.length}LL(t){for(const i of this.Xu)if(i[0]===t)return!0;return!1}kL(t){for(const i of this.Xu)if(i[0]===t)return i[1]}CL(t,i){this.Xu.forEach((i=>t(i[1],i[0])),i)}xL(t,i){this.Xu.push([t,i])}OL(){Ri(this.Xu)}constructor(){this.Xu=[]}};r();var Eo=class{jL(t){this.zd&&(this.zd(t),this.e_())}zL(t){this.Bd&&(this.Bd(t),this.e_())}c_(){this.PL.catch(fg),this.zL(new ia)}l_(t){t.then((t=>this.jL(t)),(t=>this.zL(t)))}e_(){this.zd=void 0,this.Bd=void 0}constructor(){this.PL=new Promise(((t,i)=>{this.zd=t,this.Bd=i}))}};function iM(){return new T([8,4]).buffer}function eM(t,i){return t===Bw?function(t){if(t.byteLength<2*sM.length)return t;const i=new DataView(t,0,2*sM.length),e=GA(i,!0);if(e===sM)return t;return function(t){const i='<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">',e='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',s=""+i+sA(t)+e;return VA(s,!0).buffer}(t)}(i):i}r();var sM="<PlayReady";r(),r();var oi=class extends Xo{constructor(t,i,e,s){super(t,s),this.BL=i,this.RL=e}};r(),r(),r(),r(),r();var nM=function(t,i){return(nM=_.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)_.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])})(t,i)};function rM(t,i){if("function"!=typeof i&&null!==i)throw new k("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=t}nM(t,i),t.prototype=null===i?_.create(i):(e.prototype=i.prototype,new e)}function hM(t,i,e){return t.indexOf?t.indexOf(i,e):Array.prototype.indexOf.call(t,i,e)}r(),r(),r(),r(),r(),r(),r();!function(){function t(t,i){this.UL=t,this.QL=i}t.prototype.get=function(t){var i=this.UL.get(t);if(0===this.QL||void 0===i)return i;var e=this.UL.get(t+1)||0,s=i&(1<<8-this.QL)-1,n=e>>8-this.QL;return(s<<this.QL)+n},t.prototype.getBit=function(t){if(!(t<0)){var i=this.UL.get(x.floor((t+this.QL)/8));if(void 0!==i)return(i&1<<7-this.QL-t%8)>0?1:0}},_.defineProperty(t.prototype,"bitLength",{get:function(){return this.UL.bitLength-this.QL},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"length",{get:function(){return this.UL.length},enumerable:!1,configurable:!0})}();r(),r();x.pow(2,-52);function oM(t,i,e){return x.min(x.max(t,i),e)}function Be(t,i){return t>>8-i}function aM(t,i){return t&(1<<i)-1}var qu=function(){function t(t){this.FL=t,this.YL=0,this.GL=0}return _.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.YL+this.GL},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"done",{get:function(){return this.YL===this.FL.length&&0===this.GL},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"location",{get:function(){return{byte:this.YL,bit:this.GL}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var i=new t(this.FL);return i.seek(this.YL,this.GL),i},t.prototype.canReadBits=function(t){return 8*this.YL+t+this.GL<=8*this.FL.length},t.prototype.canReadBytes=function(t){return 0===this.GL?this.YL+t<=this.FL.length:this.YL+t<this.FL.length},t.prototype.incBit=function(){this.GL++,this.GL>7&&(this.YL++,this.GL=0)},t.prototype.seek=function(t,i){this.YL=t,this.GL=i},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new b("Cannot read past end of buffer.");return this.FL.get(this.YL)>>7-this.GL&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new b("Cannot read past end of buffer.");if(0===this.GL)return this.FL.get(this.YL++);var t=aM(this.FL.get(this.YL),8-this.GL),i=Be(this.FL.get(this.YL+1),this.GL);return this.YL++,t<<this.GL|i},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new b("Cannot read past end of buffer.");for(var i=[],e=0;e<t;e++)i.push(this.readBit());return i},t.prototype.readUInt=function(t){if(t>32)throw new b("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new b("Cannot read past end of buffer.");var i=0;if(0===this.GL&&t%8==0)for(var e=t-8;e>=0;e-=8)i|=this.readByte()<<e;else for(e=t-1;e>=0;e--)i|=this.readBit()<<e;return i},t.prototype.readInt=function(t){if(t>32)throw new b("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new b("Cannot read past end of buffer.");var i=this.readUInt(t);return 0===(i&1<<t-1)?i:i-x.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var i=1<<t;return i+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new b("Skipping over the buffer edge is not allowed.");var i=this.GL+t;this.YL+=i>>3,this.GL=7&i},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new b("Cannot read past end of buffer.");for(var i=[],e=0;e<t;e++)i.push(this.readByte());return String.fromCharCode.apply(String,i)},t}();r(),r(),r();var uM=function(t,i){return t===i?0:t<i?-1:t>i?1:j(t)?j(i)?0:1:-1},Xr=function(){function t(){this.VL=[],this.WL=[],this.HL=0}return t.from=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];for(var s=new t,n=0,r=i;n<r.length;n++){var h=r[n];s.pushRange(h)}return s},t.prototype.pushRange=function(t,i,e){if(void 0===i&&(i=0),void 0===e&&(e=t.length),e<0)throw new b("The buffer length must be positive.");if(0!==e){if(0===this.WL.length)this.WL.push(0);else{var s=this.WL[this.WL.length-1]+this.VL[this.VL.length-1].length;this.WL.push(s)}this.VL.push(t.subarray(i,i+e)),this.HL+=e}},t.prototype.concat=function(i){var e=new t;return e.pushRange(this.join()),e.pushRange(i.join()),e},t.prototype.copy=function(t,i,e,s){if(void 0===i&&(i=0),void 0===e&&(e=0),void 0===s&&(s=this.length),i<0||e<0||s<0)throw new RangeError;return this.slice(e,s).copyInternal(t,i)},t.prototype.copyInternal=function(t,i){for(var e=0,s=i,n=0,r=this.VL;n<r.length;n++){var h=r[n];t.set(h,s),e+=h.length,s+=h.length}return e},t.prototype.clear=function(){this.VL=[],this.WL=[],this.HL=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var i=this.findContainingBufferIndex(t),e=t-this.WL[i];return this.VL[i][e]}},_.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.VL.length<1)return-1;if(this.VL.length>1){var i=this.join();this.clear(),this.pushRange(i)}var e=this.VL[0];return"number"==typeof t?hM(e,t):"undefined"!=typeof Buffer?Buffer.from(e.buffer,e.byteOffset,e.byteLength).indexOf(t):function(t,i){if(0===i.length)return 0;for(var e=i[0],s=i.length,n=t.length-s,r=0;r<=n&&!((r=hM(t,e,r))<0||r>n);r++){for(var h=r+1,o=r+s,a=1;h<o&&t[h]===i[a];h++,a++);if(h===o)return r}return-1}(e,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,i,e){if(0!==t.length){var s=0,n=t.length-1;if(1!==e(t[s],i)){if(1===e(i,t[n]))return n;for(;s!==n;){var r=x.ceil((s+n)/2);e(t[r],i)<=0?s=r:n=r-1}return s}}}(this.WL,t,uM)},t.prototype.join=function(){if(1===this.VL.length)return this.VL[0];var t=new T(this.length);return this.copyInternal(t,0),t},_.defineProperty(t.prototype,"length",{get:function(){return this.HL},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,i){if(i<=0||i>4)throw new b("Expected byteLength to be between 0 and 4 but was "+i);if(t<0||t>this.length-i)throw new b("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-i)+")");if(1===i)return this.get(t);for(var e=0,s=0;s<i;s++)e+=this.get(t+s)*x.pow(2,8*(i-s-1));return e},t.prototype.slice=function(i,e){void 0===e&&(e=this.length);var s=oM(i,0,this.length),n=oM(e,0,this.length);if(s>n)return new t;if(s===n)return new t;for(var r=new t,h=this.findContainingBufferIndex(s),o=this.VL[h],a=s,u=a-this.WL[h];a+o.length-u<n;)r.pushRange(o,u,o.length-u),h+=1,u=(a+=o.length-u)-this.WL[h],o=this.VL[h];var c=n-a;return r.pushRange(o,u,c),r},t.prototype.trim=function(){if(0===this.length)return new t;for(var i=this.length-1,e=this.VL.length-1,s=this.VL[e],n=s.length-1;i>=0&&e>=0;){if(0!==s[n])break;if(0===n){if(0===e)return new t;e-=1,n=(s=this.VL[e]).length-1}else n-=1;i-=1}return this.slice(0,i+1)},t}(),cM=function(){function t(i){this.qL=i||t.BUFFER_CHUNK_SIZE,this.XL=!1,this.ZL=new Xr,this.FL=new T(this.qL),this.KL=0,this.JL=0,this.GL=7}return t.prototype.closeByte=function(){this.FL[this.KL++]=this.JL,this.KL>=this.qL&&this.closeBuffer(),this.JL=0,this.GL=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.KL&&(this.ZL.pushRange(this.FL,0,this.KL),t&&(this.FL=new T(this.qL)),this.KL=0)},_.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.GL},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.XL)throw new b("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.XL=!0,this.ZL},t.prototype.writeBit=function(t){if(this.XL)throw new b("Cannot write to a closed BitWriter.");this.JL|=t<<this.GL,0===this.GL?this.closeByte():this.GL--},t.prototype.writeByte=function(t){if(this.XL)throw new b("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.JL=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var i=this.GL;this.JL|=Be(t,i+1),this.closeByte(),this.JL=aM(t,8-i)<<i+1,this.GL=i},t.prototype.writeBits=function(t){for(var i=0,e=t;i<e.length;i++){var s=e[i];this.writeBit(s)}},t.prototype.writeBytes=function(t){if(this.XL)throw new b("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.KL+t.length<=this.qL?(this.FL.set(t,this.KL),this.KL+=t.length,this.KL===this.qL&&this.closeBuffer()):(this.closeBuffer(),this.ZL.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var i=this.GL;this.JL|=Be(t[0],i+1),this.closeByte();for(var e=1;e<t.length;e++){var s=aM(t[e-1],8-i),n=Be(t[e],i+1);this.JL=s<<i+1|n,this.closeByte()}this.JL=aM(t[t.length-1],8-i)<<i+1,this.GL=i}},t.prototype.writeUInt=function(t,i){if(t<0)throw new b("Received a negative number.");if(i>32)throw new b("The max bitlength that can be provided is 32.");if(t>=x.pow(2,i))throw new b("Uint "+t+" cannot be represented in "+i+" bit(s).");if(this.isWritingStartBit&&i%8==0)for(var e=i-8;e>=0;e-=8)this.writeByte(t>>e&255);else for(e=i-1;e>=0;e--)this.writeBool((t&1<<e)>0)},t.prototype.writeInt=function(t,i){if(i>32)throw new b("The max bitlength that can be provided is 32.");if(x.abs(t)>=x.pow(2,i-1))throw new b("Signed integer "+t+" cannot be represented in "+i+" bit(s).");t<0?this.writeUInt(t+x.pow(2,i),i):this.writeUInt(t,i)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new b("Received a negative number.");for(var i=x.floor(x.log2(t+1))+1,e=0;e<i-1;e++)this.writeBit(0);this.writeUInt(t+1,i)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var i=function(t){for(var i=new T(t.length),e=0;e<t.length;e++)i[e]=t.charCodeAt(e);return i}(t),e=0;e<i.length;e++)this.writeByte(i[e])},t.BUFFER_CHUNK_SIZE=1024,t}();r();var lM=function(){function t(t){this.rb=new Xr,this.Vd=t}return t.prototype.closeWriter=function(){void 0!==this.Vd&&(this.rb=this.rb.concat(this.Vd.close()),this.Vd=void 0)},_.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Vd&&(this.Vd=new cM),this.Vd},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),Tn=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new b("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(i){var e=this.getSize(),s=e>=t.LARGE_SIZE/8,n=16===this.boxType.length;i.writeUInt(s?1:e,32),i.writeString(n?"uuid":this.boxType),s&&(i.writeUInt(x.floor(e/t.LARGE_SIZE),32),i.writeUInt(e%t.LARGE_SIZE,32)),n&&i.writeString(this.boxType)},t.prototype.getSize=function(){var i=8+(this.boxType.length>4?16:0),e=this.getBoxContentSize()+i;return e>=t.LARGE_SIZE/8&&(e+=8),e},t.prototype.serialize=function(){var t=new lM;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=x.pow(2,32),t}();function dM(t,i){return t instanceof Ce?64===i:t<x.pow(2,i)}function E(t,i){return x.round(t*x.pow(2,i))}function fM(t,i){for(var e=0;e<i.length;e++)t.writeByte(i[e])}function cc(t,i){return t/x.pow(2,i)}r();var Lt=function(t){function i(i,e,s){var n=t.call(this,i)||this;if(n.version=e,!dM(e,8))throw new b("the provided version cannot fit in 8 bits.");return n.flags=s,n}return rM(i,t),_.defineProperty(i.prototype,"flags",{get:function(){return this.$L},set:function(t){this.$L=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 4},i.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new b("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},i.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},i}(Tn);r(),r();var _M=function(t){function i(i,e){var s=t.call(this,i)||this;return s.data=e,s}return rM(i,t),i.prototype.getBoxContentSize=function(){return this.data.length},i.prototype.serializeBoxContent=function(t){t.concat(Xr.from(this.data))},i}(Tn);r(),r();var gM=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();r();var wM=16384;function AM(t){var i=t.length;if(i<=wM)return String.fromCharCode.apply(String,t);for(var e=[],s=0;s<i;s+=wM)e.push(String.fromCharCode.apply(String,t.slice(s,s+wM)));return e.join("")}var vM=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,i){return(t&i)===i}(this.raw,t)},t}();function mM(t,i){var e=t.getUint8(i.offset);return i.shift(1),e}function pM(t,i,e){var s=SM(LM(t),i.offset,i.offset+e);return i.shift(s.byteLength),s}function yM(t,i,e){return i.offset+e<=t.byteLength}function MM(t,i,e){void 0===e&&(e=!1);var s=t.getUint32(i.offset,e);return i.shift(4),s}function TM(t,i,e){void 0===e&&(e=!1);var s=MM(t,i,e),n=MM(t,i,e),r=e?n:s,h=e?s:n;return Ce.fromBits(h,r,!0)}function NM(t,i,e){return AM(function(t){return[].slice.call(t)}(pM(t,i,e)))}function DM(t,i){var e,s=mM(t,i);return 0==(128&s)?e=s:192==(224&s)?e=64*(31&s)+(63&mM(t,i)):224==(240&s)?e=4096*(15&s)+64*(63&mM(t,i))+(63&mM(t,i)):240==(248&s)&&(e=262144*(7&s)+4096*(63&mM(t,i))+64*(63&mM(t,i))+(63&mM(t,i))),e}function IM(t,i){return function(t,i,e){var s=[],n=function(t,i){return i.offset+3<=t.byteLength&&239===t.getUint8(i.offset)&&187===t.getUint8(i.offset+1)&&191===t.getUint8(i.offset+2)}(t,i);n&&i.shift(3);for(;i.offset<t.byteLength;){var r=DM(t,i);if(void 0===r)break;if(e&&0===r)break;s.push(r)}return function(t){for(var i=[],e=0,s=t;e<s.length;e++){var n=s[e];n>65535&&(n-=65536,i.push(n>>>10&1023|55296),n=56320|1023&n),i.push(n)}return AM(i)}(s)}(t,i,!0)}function SM(t,i,e){return void 0===i&&(i=0),void 0===e&&(e=t.byteLength),new T(t.buffer,t.byteOffset+i,e-i)}function EM(t,i,e){return void 0===i&&(i=0),void 0===e&&(e=t.byteLength),new DataView(t.buffer,t.byteOffset+i,e-i)}function bM(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function LM(t){return new T(t.buffer,t.byteOffset,t.byteLength)}var kM=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new gM(this.offset<<3)},t}();r();var CM=function(){function t(t,i){this.data=t,this.cursor=i}return t.prototype.nextUint8=function(){return mM(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,i,e){void 0===e&&(e=!1);var s=t.getUint16(i.offset,e);return i.shift(2),s}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,i,e){void 0===e&&(e=!1);var s=t.getInt16(i.offset,e);return i.shift(2),s}(this.data,this.cursor)},t.prototype.nextUint32=function(){return MM(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,i,e){void 0===e&&(e=!1);var s=t.getInt32(i.offset,e);return i.shift(4),s}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,i,e){void 0===e&&(e=!1);var s=MM(t,i,e),n=MM(t,i,e),r=e?n:s,h=e?s:n;return Ce.fromBits(h,r,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return TM(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return pM(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,i,e){for(var s=[],n=0;n<e;n++)s.push(MM(t,i));return s}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return NM(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return IM(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function lo(t,i){return t.type===i}var xM=8;function Bo(t){var i=function(t,i){var e=[];for(;i.offset<t.byteLength;){var s=OM(t,i);if(!s.complete)return{complete:!1,boxes:e};e.push(s.box)}return{complete:!0,boxes:e}}(t.data,t.cursor);if(!i.complete)throw new b("Data incomplete");return i.boxes}function OM(t,i){var e=i.offset,s=function(t,i){var e=i.offset;if(!yM(t,i,xM)){return{complete:!1,neededOffset:r=i.offset+xM}}var s=MM(t,i),n=NM(t,i,4);if(1===s){if(!yM(t,i,8)){var r=i.offset+8;return i.seek(e),{complete:!1,neededOffset:r}}s=TM(t,i).toNumber()}if("uuid"===n){if(!yM(t,i,16)){r=i.offset+16;return i.seek(e),{complete:!1,neededOffset:r}}n=NM(t,i,16)}var h=i.offset,o={type:n,size:s,headerSize:h-e};return{complete:!0,header:o}}(t,i);if(!s.complete)return s;var n=s.header,r=n.size;0===r&&(r=t.byteLength-e);var h=e+r;if(h>t.byteLength){var o=h;return i.seek(e),{complete:!1,neededOffset:o}}var a={type:n.type,offset:e,data:new CM(EM(t,e,h),new kM(n.headerSize))};return i.seek(h),{complete:!0,box:a}}function Pa(t){return{version:t>>24,flags:new vM(16777215&t)}}function jM(t,i){var e,s,n,r;return 1===i?(e=t.nextUint64(),s=t.nextUint64(),n=t.nextUint32(),r=t.nextUint64()):(e=t.nextUint32(),s=t.nextUint32(),n=t.nextUint32(),r=t.nextUint32()),{creation:e,modification:s,scale:n,duration:r}}function zM(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function PM(t){var i=t.nextUint32Array(9);return{a:cc(i[0],16),b:cc(i[1],16),u:cc(i[2],30),c:cc(i[3],16),d:cc(i[4],16),v:cc(i[5],30),x:cc(i[6],16),y:cc(i[7],16),w:cc(i[8],30)}}function Vh(t){return new _M(t.type,SM(LM(t.data.data),t.data.cursor.offset))}var BM=function(t){function i(i,e,s,n){void 0===s&&(s=0),void 0===n&&(n=0);var r=t.call(this,"hdlr",s,n)||this;return r.name=e,r.handlerType=i,r}return rM(i,t),_.defineProperty(i.prototype,"handlerType",{get:function(){return this.ek},set:function(t){this.ek=t},enumerable:!1,configurable:!0}),i.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},i.prototype.getBoxContentSize=function(){var i,e;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(e=null===(i=this.name)||void 0===i?void 0:i.length)&&void 0!==e?e:0)+1},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(0,32),i.writer.writeString(this.handlerType),this.serializeReserved(i),this.name&&i.writer.writeString(this.name),i.writer.writeByte(0)},i}(Lt);function RM(t){var i=t.data,e=Pa(i.nextUint32()),s=e.version,n=e.flags;i.skip(4);var r=i.nextChars(4);i.skip(12);var h=i.nextUTF8String();return new BM(r,h,s,n.raw)}!function(t){function i(){return t.call(this,"mdir")||this}rM(i,t),i.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(BM);r(),r(),r();var mu=function(){function t(t,i){void 0===i&&(i=!1),this.fixed28BitMode=i,this.tag=t}return t.prototype.encodeSize=function(t){for(var i=[];t>0;)i.length>0&&(i[i.length-1]+=128),i.push(t%128),t>>=7;if(this.fixed28BitMode)for(;i.length<4;)i.push(128);return i.reverse()},_.defineProperty(t.prototype,"tag",{get:function(){return this.nk},set:function(t){if(!dM(t,8))throw new b("Provided tag does not fit in 8 bits.");this.nk=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var i=0,e=this.encodeSize(this.getDescriptorSize());i<e.length;i++){var s=e[i];t.writer.writeByte(s)}this.serializeDescriptorContent(t)},t}();r();!function(t){function i(i,e,s,n,r,h,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=s,a.decoderSpecificInfo=h,a.objectTypeIndication=i,a.streamType=e,a.bufferSizeDb=n,a.maxBitrate=r.max,a.avgBitrate=r.avg,a}rM(i,t),_.defineProperty(i.prototype,"objectTypeIndication",{get:function(){return this.rk},set:function(t){if(!dM(t,8))throw new b("Provided objectTypeIndication does not fit in 8 bits.");this.rk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"streamType",{get:function(){return this.hk},set:function(t){if(!dM(t,6))throw new b("Provided streamType does not fit in 6 bits.");this.hk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"bufferSizeDb",{get:function(){return this.ck},set:function(t){if(!dM(t,24))throw new b("Provided bufferSizeDb does not fit in 24 bits.");this.ck=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"maxBitrate",{get:function(){return this.lk},set:function(t){if(!dM(t,32))throw new b("Provided maxBitrate does not fit in 32 bits.");this.lk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"avgBitrate",{get:function(){return this.dk},set:function(t){if(!dM(t,32))throw new b("Provided avgBitrate does not fit in 32 bits.");this.dk=t},enumerable:!1,configurable:!0}),i.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,i){return t+i.getSize()}),0)},i.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var i=0,e=this.decoderSpecificInfo;i<e.length;i++){e[i].serialize(t)}}}(mu);r();!function(t){function i(i,e){void 0===e&&(e={});var s=t.call(this,5,e.fixed28BitMode)||this;return s.data=i,s}rM(i,t),i.prototype.getDescriptorSize=function(){return this.data.length},i.prototype.serializeDescriptorContent=function(t){t.concat(Xr.from(this.data))}}(mu);r(),r();var UM=function(t){function i(i){void 0===i&&(i=!1);var e=t.call(this,6,i)||this;return e.predefined=2,e}return rM(i,t),i.prototype.getDescriptorSize=function(){return 1},i.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},i}(mu);!function(t){function i(i,e,s,n){void 0===n&&(n={});var r=t.call(this,3,n.fixed28BitMode)||this;return r.decoderConfigDescriptor=s,r.esId=i,r.streamPriority=e,r.dependsOnEsId=null==n?void 0:n.dependsOnEsId,r.urlString=null==n?void 0:n.url,r.ocrEsId=null==n?void 0:n.ocrEsId,r.slConfigDescriptor=new UM(n.fixed28BitMode),r}rM(i,t),_.defineProperty(i.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"esId",{get:function(){return this.fk},set:function(t){if(!dM(t,16))throw new b("Provided esId does not fit in 16 bits.");this.fk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"streamPriority",{get:function(){return this._k},set:function(t){if(!dM(t,5))throw new b("Provided streamPriority does not fit in 5 bits.");this._k=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"dependsOnEsId",{get:function(){return this.gk},set:function(t){if(t&&!dM(t,16))throw new b("Provided dependsOnEsId does not fit in 16 bits.");this.gk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"ocrEsId",{get:function(){return this.wk},set:function(t){if(t&&!dM(t,16))throw new b("Provided ocrEsId does not fit in 16 bits.");this.wk=t},enumerable:!1,configurable:!0}),i.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},i.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(mu);r(),r(),r(),r(),r();var QM=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.boxes=[],i}return rM(i,t),i.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,i){return t+i.getSize()}),0)},i.prototype.serialize=function(){for(var i=t.prototype.serialize.call(this),e=0,s=this.boxes;e<s.length;e++){var n=s[e];i=i.concat(n.serialize())}return i},i}(Tn),B=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return rM(i,t),i.prototype.serializeBoxContent=function(t){},i.prototype.getBoxContentSize=function(){return 0},i}(QM),FM=function(t){function i(i,e){var s=t.call(this,i)||this;return s.dataReferenceIndex=e,s}return rM(i,t),_.defineProperty(i.prototype,"dataReferenceIndex",{get:function(){return this.Ak},set:function(t){if(!dM(t,16))throw new b("Provided dataReferenceIndex does not fit in 16 bits.");this.Ak=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 8},i.prototype.serializeBoxContent=function(t){for(var i=0;i<6;i++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},i}(B),YM=function(t){function i(i,e,s,n){var r,h,o=this;return(o=t.call(this,i,e)||this).extra=n,o.channelCount=null!==(r=s.channelCount)&&void 0!==r?r:2,o.sampleSize=null!==(h=s.sampleSize)&&void 0!==h?h:16,o.sampleRate=s.sampleRate,o}return rM(i,t),_.defineProperty(i.prototype,"channelCount",{get:function(){return this.vk},set:function(t){if(!dM(t,16))throw new b("Provided channelCount does not fit in 16 bits.");this.vk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"sampleSize",{get:function(){return this.pk},set:function(t){if(!dM(t,16))throw new b("Provided sampleSize does not fit in 16 bits.");this.pk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"sampleRate",{get:function(){return this.yk},set:function(t){if(!dM(E(t,16),32))throw new b("Provided rate does not fit in 32 bits (fixed 16.16).");this.yk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){var i,e;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(e=null===(i=this.extra)||void 0===i?void 0:i.length)&&void 0!==e?e:0)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(0,32),i.writer.writeUInt(0,32),i.writer.writeUInt(this.channelCount,16),i.writer.writeUInt(this.sampleSize,16),i.writer.writeUInt(0,16),i.writer.writeUInt(0,16),i.writer.writeUInt(E(this.sampleRate,16),32),this.extra&&fM(i.writer,this.extra)},i}(FM);r();!function(t){function i(i){var e=t.call(this,"stco",0,0)||this;return e.entries=i,e}rM(i,t),_.defineProperty(i.prototype,"entries",{get:function(){return this.Mk},set:function(t){if(!dM(t.length,32))throw new b("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!dM(t,32)})))throw new b("Not all entries can be represented in 32 bits.");this.Mk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.entries.length,32);for(var e=0,s=this.entries;e<s.length;e++){var n=s[e];i.writer.writeUInt(n,32)}}}(Lt);r();!function(t){function i(i){var e=t.call(this,"clap")||this;return e.cleanApertureWidthN=i.cleanApertureWidthN,e.cleanApertureWidthD=i.cleanApertureWidthD,e.cleanApertureHeightN=i.cleanApertureHeightN,e.cleanApertureHeightD=i.cleanApertureHeightD,e.horizOffN=i.horizOffN,e.horizOffD=i.horizOffD,e.vertOffN=i.vertOffN,e.vertOffD=i.vertOffD,e}rM(i,t),_.defineProperty(i.prototype,"cleanApertureWidthN",{get:function(){return this.Tk},set:function(t){if(!dM(t,32))throw new b("Provided cleanApertureWidthN does not fit in 32 bits.");this.Tk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"cleanApertureWidthD",{get:function(){return this.Nk},set:function(t){if(!dM(t,32))throw new b("Provided cleanApertureWidthD does not fit in 32 bits.");this.Nk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"cleanApertureHeightN",{get:function(){return this.Dk},set:function(t){if(!dM(t,32))throw new b("Provided cleanApertureHeightN does not fit in 32 bits.");this.Dk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"cleanApertureHeightD",{get:function(){return this.Ik},set:function(t){if(!dM(t,32))throw new b("Provided cleanApertureHeightD does not fit in 32 bits.");this.Ik=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"horizOffN",{get:function(){return this.Sk},set:function(t){if(!dM(t,32))throw new b("Provided horizOffN does not fit in 32 bits.");this.Sk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"horizOffD",{get:function(){return this.Ek},set:function(t){if(!dM(t,32))throw new b("Provided horizOffD does not fit in 32 bits.");this.Ek=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"vertOffN",{get:function(){return this.bk},set:function(t){if(!dM(t,32))throw new b("Provided vertOffN does not fit in 32 bits.");this.bk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"vertOffD",{get:function(){return this.Lk},set:function(t){if(!dM(t,32))throw new b("Provided vertOffD does not fit in 32 bits.");this.Lk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 32},i.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(Tn);r();!function(t){function i(i,e){var s=t.call(this,"ctts",i,0)||this;return s.entries=e,s}rM(i,t),_.defineProperty(i.prototype,"entries",{get:function(){return this.Mk},set:function(t){if(!dM(t.length,32))throw new b("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!dM(t.sampleCount,32)||!dM(t.sampleOffset,32)})))throw new b("Not all entries can be represented in 64 bits.");this.Mk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.entries.length,32);for(var e=0,s=this.entries;e<s.length;e++){var n=s[e];i.writer.writeUInt(n.sampleCount,32),0===this.version?i.writer.writeUInt(n.sampleOffset,32):1===this.version&&i.writer.writeInt(n.sampleOffset,32)}}}(Lt);r();!function(t){function i(i){var e=t.call(this,"url ",0,void 0===i?1:0)||this;return e.location=i,e}rM(i,t),_.defineProperty(i.prototype,"location",{get:function(){return this.Ck},set:function(t){this.flags=void 0===t?1:0,this.Ck=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){var i=t.prototype.getBoxContentSize.call(this);return this.location?i+this.location.length+1:i},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.location&&(i.writer.writeString(this.location),i.writer.writeByte(0))}}(Lt);r();!function(t){function i(i,e,s){var n=t.call(this,"urn ",0,s)||this;return n.name=i,n.location=e,n}rM(i,t),_.defineProperty(i.prototype,"location",{get:function(){return this.Ck},set:function(t){if(1&this.flags)throw new b("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Ck=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){var i=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?i+this.location.length+1:i},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeString(this.name),i.writer.writeByte(0),this.location&&(i.writer.writeString(this.location),i.writer.writeByte(0))}}(Lt);r();!function(t){function i(){return t.call(this,"dinf")||this}rM(i,t)}(B);r(),r();var Qa=function(t){function i(i,e,s){var n=t.call(this,i)||this;if(n.version=e,!dM(e,8))throw new b("the provided version cannot fit in 8 bits.");return n.flags=s,n}return rM(i,t),_.defineProperty(i.prototype,"flags",{get:function(){return this.$L},set:function(t){this.$L=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 4},i.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new b("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},i.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},i}(QM);!function(t){function i(){return t.call(this,"dref",0,0)||this}rM(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.boxes.length,32)}}(Qa);r(),r();var GM=function(t){function i(i,e,s){void 0===s&&(s=0);var n=t.call(this,"elst",e,s)||this;return n.entries=i,n}return rM(i,t),_.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"entries",{get:function(){return this.Mk},set:function(t){for(var i=0,e=t;i<e.length;i++){var s=e[i];if(!dM(s.segmentDuration,this.bitSize))throw new b("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!dM(s.mediaTime,this.bitSize))throw new b("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!dM(s.mediaRateInteger,16))throw new b("Provided mediaRateInteger does not fit in 16 bits.");if(s.mediaRateFraction&&!dM(s.mediaRateFraction,16))throw new b("Provided mediaRateFraction does not fit in 16 bits.")}this.Mk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(i)},i}(Lt),VM=function(t){function i(i,e){return void 0===e&&(e=0),t.call(this,i,0,e)||this}return rM(i,t),i.prototype.serializeElstBoxContent=function(t){for(var i,e=0,s=this.entries;e<s.length;e++){var n=s[e];t.writer.writeUInt(n.segmentDuration,32),t.writer.writeInt(n.mediaTime,32),t.writer.writeUInt(n.mediaRateInteger,16),t.writer.writeUInt(null!==(i=n.mediaRateFraction)&&void 0!==i?i:0,16)}},i}(GM),WM=function(t){function i(i,e){return void 0===e&&(e=0),t.call(this,i,1,e)||this}return rM(i,t),i.prototype.serializeElstBoxContent=function(t){for(var i,e=0,s=this.entries;e<s.length;e++){var n=s[e];t.writer.writeUInt(n.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(n.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(n.mediaTime.getHighBits(),32),t.writer.writeInt(n.mediaTime.getLowBits(),32),t.writer.writeUInt(n.mediaRateInteger,16),t.writer.writeUInt(null!==(i=n.mediaRateFraction)&&void 0!==i?i:0,16)}},i}(GM);function HM(t){for(var i=t.data,e=Pa(i.nextUint32()),s=e.version,n=e.flags,r=i.nextUint32(),h=[],o=0;o<r;o++){var a=void 0,u=void 0;0===s?(a=i.nextUint32(),u=i.nextInt32()):(a=i.nextUint64(),u=i.nextInt64());var c=i.nextInt16(),l=i.nextInt16();h.push({segmentDuration:a,mediaTime:u,mediaRateFraction:l,mediaRateInteger:c})}return 0===s?new VM(h,n.raw):new WM(h,n.raw)}var qM=function(t){function i(){return t.call(this,"edts")||this}return rM(i,t),i}(B);function XM(t){for(var i=new qM,e=0,s=Bo(t.data);e<s.length;e++){var n=s[e];lo(n,"elst")?i.boxes.push(HM(n)):i.boxes.push(Vh(n))}return i}r(),r();var ZM=function(t){function i(i,e,s,n){var r=t.call(this,i)||this;return r.majorBrand=e,r.minorVersion=s,r.compatibleBrands=n,r}return rM(i,t),_.defineProperty(i.prototype,"majorBrand",{get:function(){return this.xk},set:function(t){if(4!==t.length)throw new b("the provided major brand does not conform to the 4 character requirement");this.xk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"minorVersion",{get:function(){return this.Ok},set:function(t){if(!dM(t,32))throw new b("the provided minor version does not fit in 32 bits.");this.Ok=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"compatibleBrands",{get:function(){return this.jk},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new b("Some of the compatible brands do not conform to the 4 character requirement");this.jk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},i.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var i=0,e=this.compatibleBrands;i<e.length;i++){var s=e[i];t.writer.writeString(s)}},i}(Tn),KM=function(t){function i(i,e,s){return t.call(this,"ftyp",i,e,s)||this}return rM(i,t),i}(ZM);function JM(t){for(var i=t.data,e=i.nextChars(4),s=i.nextUint32(),n=[];i.cursor.offset<i.data.byteLength;)n.push(i.nextChars(4));return new KM(e,s,n)}r();var $M=function(t){function i(i,e){void 0===e&&(e="free");var s=t.call(this,e)||this;return s.data=i,s}return rM(i,t),i.prototype.getBoxContentSize=function(){var t,i;return null!==(i=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==i?i:0},i.prototype.serializeBoxContent=function(t){this.data&&t.concat(Xr.from(this.data))},i}(Tn);r(),r();var tT=function(t){function i(i,e,s,n){void 0===n&&(n=0);var r=t.call(this,"mdhd",s,n)||this;return r.creationTime=i.creation,r.modificationTime=i.modification,r.timescale=i.scale,r.duration=i.duration,r.language=e,r}return rM(i,t),_.defineProperty(i.prototype,"creationTime",{get:function(){return this.zk},set:function(t){if(!dM(t,this.bitSize))throw new b("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.zk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"modificationTime",{get:function(){return this.Pk},set:function(t){if(!dM(t,this.bitSize))throw new b("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Pk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"timescale",{get:function(){return this.Bk},set:function(t){if(!dM(t,32))throw new b("Provided sequence number does not fit in 32 bits.");this.Bk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"duration",{get:function(){return this.Rk},set:function(t){if(!dM(t,this.bitSize))throw new b("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Rk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"language",{get:function(){return this.Uk},set:function(t){if(!nT(t))throw new b("Expected an ISO-639-2/T language code");this.Uk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.serializeMdiaContent(i),i.writer.writeBit(0);for(var e=0,s=this.language;e<s.length;e++){var n=s[e];i.writer.writeUInt(n.charCodeAt(0)-96,5)}i.writer.writeUInt(0,16)},i}(Lt),iT=function(t){function i(i,e,s){return void 0===s&&(s=0),t.call(this,i,e,0,s)||this}return rM(i,t),i.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},i}(tT),eT=function(t){function i(i,e,s){return void 0===s&&(s=0),t.call(this,i,e,1,s)||this}return rM(i,t),i.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},i}(tT);function sT(t){var i=t.data,e=Pa(i.nextUint32()),s=e.version,n=e.flags,r=jM(i,s),h=new qu(Xr.from(i.nextUint8Array(2)));h.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(h.readUInt(5));var u=o.map((function(t){return String.fromCharCode(t+96)})).join("");return nT(u)||(u="und"),i.skip(2),0===s?new iT(r,u,n.raw):new eT(r,u,n.raw)}function nT(t){return/^[a-z]{3}$/.test(t)}var rT=function(t){function i(){return t.call(this,"mdia")||this}return rM(i,t),i}(B);function hT(t){for(var i=new rT,e=0,s=Bo(t.data);e<s.length;e++){var n=s[e];lo(n,"mdhd")?i.boxes.push(sT(n)):lo(n,"hdlr")?i.boxes.push(RM(n)):i.boxes.push(Vh(n))}return i}r();var oT=function(t){function i(){var i=t.call(this,"mdat")||this;return i.data=new Xr,i}return rM(i,t),i.prototype.getBoxContentSize=function(){return this.data.length},i.prototype.serializeBoxContent=function(t){t.concat(this.data)},i}(Tn);function aT(t){var i=t.data,e=i.nextUint8Array(i.data.byteLength-i.cursor.offset),s=new oT;return s.data.pushRange(e),s}r();!function(t){function i(){return t.call(this,"minf")||this}rM(i,t)}(B);r();var uT;!function(t){function i(i){var e=t.call(this,"meta",0,0)||this;return e.handler=i,e}rM(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.concat(this.handler.serialize())}}(Qa);r(),r(),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(uT||(uT={})),r();var cT,lT,dT={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function fT(t,i){i.writer.writeUInt(E(t.a,16),32),i.writer.writeUInt(E(t.b,16),32),i.writer.writeUInt(E(0,30),32),i.writer.writeUInt(E(t.c,16),32),i.writer.writeUInt(E(t.d,16),32),i.writer.writeUInt(E(0,30),32),i.writer.writeUInt(E(t.x,16),32),i.writer.writeUInt(E(t.y,16),32),i.writer.writeUInt(E(1,30),32)}function _T(t,i){var e,s,n,r;i.writer.writeUInt(null!==(e=t.isLeading)&&void 0!==e?e:cT.UNKNOWN,2),i.writer.writeUInt(null!==(s=t.sampleDependsOn)&&void 0!==s?s:lT.UNKNOWN,2),i.writer.writeUInt(null!==(n=t.sampleIsDependedOn)&&void 0!==n?n:lT.UNKNOWN,2),i.writer.writeUInt(null!==(r=t.sampleHasRedundancy)&&void 0!==r?r:lT.UNKNOWN,2)}function Ja(t,i){var e,s,n;i.writer.writeUInt(0,4),_T(t,i),i.writer.writeUInt(null!==(e=t.samplePaddingValue)&&void 0!==e?e:0,3),i.writer.writeBool(null!==(s=t.sampleIsNonSyncSample)&&void 0!==s&&s),i.writer.writeUInt(null!==(n=t.sampleDegradationPriority)&&void 0!==n?n:0,16)}r(),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(cT||(cT={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(lT||(lT={})),r(),r();var gT=function(){};r(),r(),r();var wT=function(t){function i(i,e,s){var n=t.call(this,"pssh",i,0)||this;return n.systemId=e,n.data=s,n}return rM(i,t),_.defineProperty(i.prototype,"systemId",{get:function(){return this.Qk},set:function(t){if(16!==t.length)throw new b("Provided systemId length is not 16.");this.Qk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"data",{get:function(){return this.Fk},set:function(t){if(!dM(t.length,32))throw new b("Provided data length does not fit in 32 bits.");this.Fk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},i.prototype.serializeVersionBoxContent=function(t){},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.concat(Xr.from(this.systemId)),this.serializeVersionBoxContent(i),i.writer.writeUInt(this.data.length,32),i.concat(Xr.from(this.data))},i}(Lt),AT=function(t){function i(i,e){return t.call(this,0,i,e)||this}return rM(i,t),i}(wT),vT=function(t){function i(i,e,s){var n=t.call(this,1,i,e)||this;return n.kIds=s,n}return rM(i,t),_.defineProperty(i.prototype,"kIds",{get:function(){return this.Yk},set:function(t){if(!dM(t.length,32))throw new b("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new b("Not all provided key ids are 16 bytes long.");this.Yk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},i.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var i=0,e=this.kIds;i<e.length;i++){var s=e[i];t.concat(Xr.from(s))}},i}(wT);function Ne(t){var i=t.data.nextUint8();t.data.skip(3);var e=t.data.nextUint8Array(16),s=[];if(1===i)for(var n=t.data.nextUint32(),r=0;r<n;r++)s.push(t.data.nextUint8Array(16));var h=t.data.nextUint32(),o=t.data.nextUint8Array(h);return 1===i?new vT(e,o,s):new AT(e,o)}r(),r();var mT=function(t){function i(i,e,s){void 0===s&&(s=0);var n=t.call(this,"mehd",e,s)||this;return n.fragmentDuration=i,n}return rM(i,t),_.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"fragmentDuration",{get:function(){return this.Gk},set:function(t){if(!dM(t,this.bitSize))throw new b("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Gk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},i}(Lt),pT=function(t){function i(i,e){return void 0===e&&(e=0),t.call(this,i,0,e)||this}return rM(i,t),i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.fragmentDuration,32)},i}(mT),yT=function(t){function i(i,e){return void 0===e&&(e=0),t.call(this,i,1,e)||this}return rM(i,t),i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),i.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},i}(mT);function MT(t){var i=t.data,e=Pa(i.nextUint32()),s=e.version,n=e.flags;return 0===s?new pT(i.nextUint32(),n.raw):new yT(i.nextUint64(),n.raw)}r();var yu=function(t){function i(i,e,s,n){void 0===e&&(e={}),void 0===s&&(s=0),void 0===n&&(n=0);var r,h,o,a=this;return(a=t.call(this,"trex",s,n)||this).trackId=i,a.defaultSampleDescriptionIndex=null!==(r=null==e?void 0:e.sampleDescriptionIndex)&&void 0!==r?r:0,a.defaultSampleDuration=null!==(h=e.sampleDuration)&&void 0!==h?h:0,a.defaultSampleSize=null!==(o=e.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=e.sampleFlags,a}return rM(i,t),_.defineProperty(i.prototype,"trackId",{get:function(){return this.Vk},set:function(t){if(!dM(t,32))throw new b("Provided track id does not fit in 32 bits.");this.Vk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Wk},set:function(t){if(!dM(t,32))throw new b("Provided default sample description index does not fit in 32 bits.");this.Wk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"defaultSampleDuration",{get:function(){return this.Hk},set:function(t){if(!dM(t,32))throw new b("Provided default sample duration does not fit in 32 bits.");this.Hk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"defaultSampleSize",{get:function(){return this.qk},set:function(t){if(!dM(t,32))throw new b("Provided default sample size does not fit in 32 bits.");this.qk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"defaultSampleFlags",{get:function(){return this.Xk},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!dM(t.samplePaddingValue,3))throw new b("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!dM(t.sampleDegradationPriority,16))throw new b("Provided sample degradation priority does not fit in 16 bits.");this.Xk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},i.prototype.serializeBoxContent=function(i){var e;t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.trackId,32),i.writer.writeUInt(this.defaultSampleDescriptionIndex,32),i.writer.writeUInt(this.defaultSampleDuration,32),i.writer.writeUInt(this.defaultSampleSize,32),Ja(null!==(e=this.defaultSampleFlags)&&void 0!==e?e:{},i)},i}(Lt);function TT(t){var i=t.data,e=Pa(i.nextUint32()),s=e.version,n=e.flags,r=i.nextUint32(),h=i.nextUint32(),o=i.nextUint32(),a=i.nextUint32(),u=zM(new qu(Xr.from(i.nextUint8Array(4))));return new yu(r,{sampleDescriptionIndex:h,sampleDuration:o,sampleSize:a,sampleFlags:u},s,n.raw)}var NT=function(t){function i(){return t.call(this,"mvex")||this}return rM(i,t),i}(B);function DT(t){for(var i=new NT,e=0,s=Bo(t.data);e<s.length;e++){var n=s[e];lo(n,"mehd")?i.boxes.push(MT(n)):lo(n,"trex")?i.boxes.push(TT(n)):i.boxes.push(Vh(n))}return i}r();var IT=function(t){function i(e,s,n,r,h){void 0===h&&(h=0);var o,a,u,c=this;return(c=t.call(this,"mvhd",r,h)||this).creationTime=e.creation,c.modificationTime=e.modification,c.timescale=e.scale,c.duration=e.duration,c.rate=null!==(o=n.rate)&&void 0!==o?o:i.DEFAULT_RATE,c.volume=null!==(a=n.volume)&&void 0!==a?a:i.DEFAULT_VOLUME,c.matrix=null!==(u=n.matrix)&&void 0!==u?u:dT,c.Zk=s,c}return rM(i,t),_.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"creationTime",{get:function(){return this.zk},set:function(t){if(!dM(t,this.bitSize))throw new b("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.zk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"modificationTime",{get:function(){return this.Pk},set:function(t){if(!dM(t,this.bitSize))throw new b("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Pk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"timescale",{get:function(){return this.Bk},set:function(t){if(!dM(t,32))throw new b("Provided sequence number does not fit in 32 bits.");this.Bk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"duration",{get:function(){return this.Rk},set:function(t){if(!dM(t,this.bitSize))throw new b("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Rk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"rate",{get:function(){return this.Kk},set:function(t){if(!dM(E(t,16),32))throw new b("Provided rate does not fit in 32 bits (fixed 16.16).");this.Kk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"volume",{get:function(){return this.Jk},set:function(t){if(!dM(E(t,8),16))throw new b("Provided volume does not fit in 16 bits (fixed 8.8).");this.Jk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"matrix",{get:function(){return this.$k},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new b("(u, v, w) does not match the required (0, 0, 1)");this.$k=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"nextTrackId",{get:function(){return this.Zk},set:function(t){if(0===t)throw new b("NextTrackId cannot be 0.");if(!dM(t,32))throw new b("NextTrackId cannot exceed 32 bits.");this.Zk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.serializeMvhdContent(i),i.writer.writeUInt(E(this.rate,16),32),i.writer.writeUInt(E(this.volume,8),16),i.writer.writeUInt(0,16),i.writer.writeUInt(0,32),i.writer.writeUInt(0,32),fT(this.matrix,i);for(var e=0;e<6;e++)i.writer.writeUInt(0,32);i.writer.writeUInt(this.nextTrackId,32)},i.DEFAULT_RATE=1,i.DEFAULT_VOLUME=1,i}(Lt),ST=function(t){function i(i,e,s,n){return void 0===s&&(s={}),void 0===n&&(n=0),t.call(this,i,e,s,0,n)||this}return rM(i,t),i.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},i}(IT),ET=function(t){function i(i,e,s,n){return void 0===s&&(s={}),void 0===n&&(n=0),t.call(this,i,e,s,1,n)||this}return rM(i,t),i.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},i}(IT);function bT(t){var i=t.data,e=Pa(i.nextUint32()),s=e.version,n=e.flags,r=jM(i,s),h=cc(i.nextUint32(),16),o=cc(i.nextUint16(),8);i.skip(2),i.skip(8);var a=PM(i);i.skip(24);var u=i.nextUint32();return 0===s?new ST(r,u,{rate:h,volume:o,matrix:a},n.raw):new ET(r,u,{rate:h,volume:o,matrix:a},n.raw)}r(),r();var LT=function(t){function i(i,e,s,n,r,h,o){void 0===o&&(o={});var a,u,c,l=this;return l=t.call(this,"tkhd",i,function(t){var i,e,s,n;return{trackEnabled:null===(i=null==t?void 0:t.trackEnabled)||void 0===i||i,trackInMovie:null===(e=null==t?void 0:t.trackInMovie)||void 0===e||e,trackInPreview:null===(s=null==t?void 0:t.trackInPreview)||void 0===s||s,trackSizeIsAspectRatio:null!==(n=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==n&&n}}(o))||this,l.creationTime=e.creation,l.modificationTime=e.modification,l.trackId=s,l.duration=e.duration,l.volume=n,l.width=r,l.height=h,l.layer=null!==(a=o.layer)&&void 0!==a?a:0,l.alternateGroup=null!==(u=o.alternateGroup)&&void 0!==u?u:0,l.matrix=null!==(c=o.matrix)&&void 0!==c?c:dT,l}return rM(i,t),_.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"creationTime",{get:function(){return this.zk},set:function(t){if(!dM(t,this.bitSize))throw new b("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.zk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"modificationTime",{get:function(){return this.Pk},set:function(t){if(!dM(t,this.bitSize))throw new b("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Pk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"trackId",{get:function(){return this.Vk},set:function(t){if(0===t)throw new b("trackId cannot be 0.");if(!dM(t,32))throw new b("trackId cannot exceed 32 bits.");this.Vk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"duration",{get:function(){return this.Rk},set:function(t){if(!dM(t,this.bitSize))throw new b("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Rk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"volume",{get:function(){return this.Jk},set:function(t){if(!dM(E(t,8),16))throw new b("Provided volume does not fit in 16 bits (fixed 8.8).");this.Jk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"width",{get:function(){return this.tC},set:function(t){if(!dM(E(t,16),32))throw new b("Provided width does not fit in 32 bits (fixed 16.16).");this.tC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"height",{get:function(){return this.iC},set:function(t){if(!dM(E(t,16),32))throw new b("Provided height does not fit in 32 bits (fixed 16.16).");this.iC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"layer",{get:function(){return this.eC},set:function(t){if(!dM(t,16))throw new b("Provided layer does not fit in 16 bits.");this.eC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"alternateGroup",{get:function(){return this.sC},set:function(t){if(!dM(t,16))throw new b("Provided alternateGroup does not fit in 16 bits.");this.sC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"matrix",{get:function(){return this.$k},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new b("(u, v, w) does not match the required (0, 0, 1)");this.$k=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},i.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.serializeTkhdContent(i),i.writer.writeUInt(0,32),i.writer.writeUInt(0,32),i.writer.writeUInt(this.layer,16),i.writer.writeUInt(this.alternateGroup,16),i.writer.writeUInt(E(this.volume,8),16),i.writer.writeUInt(0,16),fT(this.matrix,i),i.writer.writeUInt(E(this.width,16),32),i.writer.writeUInt(E(this.height,16),32)},i}(Lt),kT=function(t){function i(i,e,s,n,r,h){return t.call(this,0,i,e,s,n,r,h)||this}return rM(i,t),i.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},i}(LT),eu=function(t){function i(i,e,s,n,r,h){return t.call(this,1,i,e,s,n,r,h)||this}return rM(i,t),i.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},i}(LT);function CT(t){var i,e,s,n,r=t.data,h=Pa(r.nextUint32()),o=h.version,a=h.flags,u=a.isSet(8),c=a.isSet(4),l=a.isSet(2),d=a.isSet(1);0===o?(i=r.nextUint32(),e=r.nextUint32(),s=r.nextUint32(),r.skip(4),n=r.nextUint32()):(i=r.nextUint64(),e=r.nextUint64(),s=r.nextUint32(),r.skip(4),n=r.nextUint64()),r.skip(8);var f=r.nextInt16(),_=r.nextInt16(),g=cc(r.nextInt16(),8);r.skip(2);var w=PM(r),A=cc(r.nextUint32(),16),v=cc(r.nextUint32(),16);return 0===o?new kT({creation:i,modification:e,duration:n},s,g,A,v,{layer:f,matrix:w,alternateGroup:_,trackSizeIsAspectRatio:u,trackEnabled:d,trackInPreview:c,trackInMovie:l}):new eu({creation:i,modification:e,duration:n},s,g,A,v,{layer:f,matrix:w,alternateGroup:_,trackSizeIsAspectRatio:u,trackEnabled:d,trackInPreview:c,trackInMovie:l})}var Ie=function(t){function i(){return t.call(this,"trak")||this}return rM(i,t),i}(B);function xT(t){for(var i=new Ie,e=0,s=Bo(t.data);e<s.length;e++){var n=s[e];lo(n,"tkhd")?i.boxes.push(CT(n)):lo(n,"mdia")?i.boxes.push(hT(n)):lo(n,"edts")?i.boxes.push(XM(n)):i.boxes.push(Vh(n))}return i}var Ue=function(t){function i(){return t.call(this,"moov")||this}return rM(i,t),i}(B);function OT(t){for(var i=new Ue,e=0,s=Bo(t.data);e<s.length;e++){var n=s[e];lo(n,"mvhd")?i.boxes.push(bT(n)):lo(n,"trak")?i.boxes.push(xT(n)):lo(n,"mvex")?i.boxes.push(DT(n)):lo(n,"pssh")?i.boxes.push(Ne(n)):i.boxes.push(Vh(n))}return i}r(),r(),r();var jT=function(t){function i(i,e,s){void 0===s&&(s=0);var n=t.call(this,"tfdt",e,s)||this;return n.baseMediaDecodeTime=i,n}return rM(i,t),_.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"baseMediaDecodeTime",{get:function(){return this.nC},set:function(t){if(!dM(t,this.bitSize))throw new b("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.nC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},i}(Lt),uu=function(t){function i(i,e){return void 0===e&&(e=0),t.call(this,i,0,e)||this}return rM(i,t),i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.baseMediaDecodeTime,32)},i}(jT),zT=function(t){function i(i,e){return void 0===e&&(e=0),t.call(this,i,1,e)||this}return rM(i,t),i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),i.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},i}(jT);function PT(t){var i=t.data,e=Pa(i.nextUint32()),s=e.version,n=e.flags;return 0===s?new uu(i.nextUint32(),n.raw):new zT(i.nextUint64(),n.raw)}r();var en=function(t){function i(i,e){void 0===e&&(e=0);var s=t.call(this,"tfhd",e,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(i))||this;return s.trackId=i.trackId,s.baseDataOffset=i.baseDataOffset,s.sampleDescriptionIndex=i.sampleDescriptionIndex,s.defaultSampleDuration=i.defaultSampleDuration,s.defaultSampleSize=i.defaultSampleSize,s.defaultSampleFlags=i.defaultSampleFlags,s}return rM(i,t),_.defineProperty(i.prototype,"trackId",{get:function(){return this.Vk},set:function(t){if(!dM(t,32))throw new b("Provided track id does not fit in 32 bits.");this.Vk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"baseDataOffset",{get:function(){return this.rC},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new b("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new b("The base data offset present flag is not set.");if(t&&!dM(t,64))throw new b("Provided baseDataOffset does not fit in 32 bits.");this.rC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"sampleDescriptionIndex",{get:function(){return this.hC},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new b("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new b("The sample description index flag is not set.");if(t&&!dM(t,32))throw new b("Provided sampleDescriptionIndex does not fit in 32 bits.");this.hC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"defaultSampleDuration",{get:function(){return this.Hk},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new b("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new b("The default sample duration present flag is not set.");if(t&&!dM(t,32))throw new b("Provided defaultSampleDuration does not fit in 32 bits.");this.Hk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"defaultSampleSize",{get:function(){return this.qk},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new b("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new b("The default sample size present flag is not set.");if(t&&!dM(t,32))throw new b("Provided defaultSampleSize does not fit in 32 bits.");this.qk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"defaultSampleFlags",{get:function(){return this.Xk},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new b("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new b("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!dM(t.samplePaddingValue,3))throw new b("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!dM(t.sampleDegradationPriority,16))throw new b("Provided sample degradation priority does not fit in 16 bits.");this.Xk=t},enumerable:!1,configurable:!0}),i.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},i.prototype.getBoxContentSize=function(){var i=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(i+=8),this.flags.sampleDescriptionIndexPresent&&(i+=4),this.flags.defaultSampleDurationPresent&&(i+=4),this.flags.defaultSampleSizePresent&&(i+=4),this.flags.defaultSampleFlagsPresent&&(i+=4),i},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(i.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),i.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&i.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&i.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&i.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Ja(this.defaultSampleFlags,i)},i}(Lt);function BT(t){var i=t.data,e=i.nextUint8(),s=new qu(Xr.from(i.nextUint8Array(3)));s.skipBits(6);var n=Boolean(s.readBit()),r=Boolean(s.readBit());s.skipBits(10);var h=Boolean(s.readBit()),o=Boolean(s.readBit()),a=Boolean(s.readBit());s.skipBits(1);var u=Boolean(s.readBit()),c=Boolean(s.readBit()),l=i.nextUint32(),d=c?i.nextUint64():void 0,f=u?i.nextUint32():void 0,_=a?i.nextUint32():void 0,g=o?i.nextUint32():void 0,w=h?zM(new qu(Xr.from(i.nextUint8Array(4)))):void 0;return new en({trackId:l,defaultBaseIsMoof:n,durationIsEmpty:r,baseDataOffset:d,sampleDescriptionIndex:f,defaultSampleDuration:_,defaultSampleSize:g,defaultSampleFlags:w},e)}r();var RT=function(t){function i(i,e,s){var n=t.call(this,"trun",i,function(t){var i,e,s,n;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(i=t.sampleDurationPresent)&&void 0!==i&&i,sampleSizePresent:null!==(e=t.sampleSizePresent)&&void 0!==e&&e,sampleFlagsPresent:null!==(s=t.sampleFlagsPresent)&&void 0!==s&&s,sampleCompositionTimeOffsetsPresent:null!==(n=t.sampleCompositionTimeOffsetsPresent)&&void 0!==n&&n}}(e))||this;return n.dataOffset=e.dataOffset,n.samples=s,n.firstSampleFlags=e.firstSampleFlags,n}return rM(i,t),_.defineProperty(i.prototype,"dataOffset",{get:function(){return this.oC},set:function(t){if(t&&!dM(t,32))throw new b("Provided data offset does not fit in 32 bits.");this.oC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"firstSampleFlags",{get:function(){return this.aC},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!dM(t.samplePaddingValue,3))throw new b("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!dM(t.sampleDegradationPriority,16))throw new b("Provided sample degradation priority does not fit in 16 bits.");this.aC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"samples",{get:function(){return this.uC},set:function(t){var i,e;if(!dM(t.length,32))throw new b("The sample count cannot be represented in 32 bits.");for(var s=0,n=t;s<n.length;s++){var r=n[s];if(void 0===r.duration&&this.flags.sampleDurationPresent)throw new b("The sample duration present flag is set.");if(void 0!==r.duration&&!this.flags.sampleDurationPresent)throw new b("The sample duration present flag is not set.");if(r.duration&&!dM(r.duration,32))throw new b("Provided sample duration does not fit in 32 bits.");if(void 0===r.size&&this.flags.sampleSizePresent)throw new b("The sample size present flag is set.");if(void 0!==r.size&&!this.flags.sampleSizePresent)throw new b("The sample size present flag is not set.");if(r.size&&!dM(r.size,32))throw new b("Provided sample size does not fit in 32 bits.");if(void 0===r.flags&&this.flags.sampleFlagsPresent)throw new b("The sample flags present flag is set.");if(void 0!==r.flags&&!this.flags.sampleFlagsPresent)throw new b("The sample flags present flag is not set.");if((null===(i=r.flags)||void 0===i?void 0:i.samplePaddingValue)&&!dM(r.flags.samplePaddingValue,3))throw new b("Provided sample padding value does not fit in 3 bits.");if((null===(e=r.flags)||void 0===e?void 0:e.sampleDegradationPriority)&&!dM(r.flags.sampleDegradationPriority,16))throw new b("Provided sample degradation priority does not fit in 16 bits.");if(void 0===r.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new b("The sample compositionTimeOffset present flag is set.");if(void 0!==r.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new b("The sample compositionTimeOffset present flag is not set.");if(r.compositionTimeOffset&&!dM(r.compositionTimeOffset,32))throw new b("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.uC=t},enumerable:!1,configurable:!0}),i.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},i.prototype.getBoxContentSize=function(){var i=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(i+=4),this.flags.firstSampleFlagsPresent&&(i+=4),this.flags.sampleDurationPresent&&(i+=4*this.samples.length),this.flags.sampleSizePresent&&(i+=4*this.samples.length),this.flags.sampleFlagsPresent&&(i+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(i+=4*this.samples.length),i},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&i.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Ja(this.firstSampleFlags,i);for(var e=0,s=this.samples;e<s.length;e++){var n=s[e];this.flags.sampleDurationPresent&&i.writer.writeUInt(n.duration,32),this.flags.sampleSizePresent&&i.writer.writeUInt(n.size,32),this.flags.sampleFlagsPresent&&Ja(n.flags,i),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?i.writer.writeUInt(n.compositionTimeOffset,32):i.writer.writeInt(n.compositionTimeOffset,32))}},i}(Lt);function UT(t){var i=t.data,e=i.nextUint8(),s=new qu(Xr.from(i.nextUint8Array(3)));s.skipBits(12);var n=Boolean(s.readBit()),r=Boolean(s.readBit()),h=Boolean(s.readBit()),o=Boolean(s.readBit());s.skipBits(5);var a=Boolean(s.readBit());s.skipBits(1);var u=Boolean(s.readBit()),c=i.nextUint32(),l={sampleDurationPresent:o,sampleSizePresent:h,sampleFlagsPresent:r,sampleCompositionTimeOffsetsPresent:n};u&&(l.dataOffset=i.nextInt32()),a&&(l.firstSampleFlags=zM(new qu(Xr.from(i.nextUint8Array(4)))));for(var d=[],f=0;f<c;f++){var _={};o&&(_.duration=i.nextUint32()),h&&(_.size=i.nextUint32()),r&&(_.flags=zM(new qu(Xr.from(i.nextUint8Array(4))))),n&&(_.compositionTimeOffset=0===e?i.nextUint32():i.nextInt32()),d.push(_)}return new RT(e,l,d)}var me=function(t){function i(){return t.call(this,"traf")||this}return rM(i,t),i}(B);function QT(t){for(var i=new me,e=0,s=Bo(t.data);e<s.length;e++){var n=s[e];lo(n,"tfhd")?i.boxes.push(BT(n)):lo(n,"tfdt")?i.boxes.push(PT(n)):lo(n,"trun")?i.boxes.push(UT(n)):i.boxes.push(Vh(n))}return i}var FT=function(t){function i(){return t.call(this,"moof")||this}return rM(i,t),i}(B);function YT(t){for(var i=new FT,e=0,s=Bo(t.data);e<s.length;e++){var n=s[e];lo(n,"traf")?i.boxes.push(QT(n)):lo(n,"pssh")?i.boxes.push(Ne(n)):i.boxes.push(Vh(n))}return i}r();!function(t){function i(i){var e=t.call(this,"mfhd",0,0)||this;return e.sequenceNumber=i,e}rM(i,t),_.defineProperty(i.prototype,"sequenceNumber",{get:function(){return this.cC},set:function(t){if(!dM(t,32))throw new b("Provided sequence number does not fit in 32 bits.");this.cC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.sequenceNumber,32)}}(Lt);r();var GT=function(t){function i(i){var e=t.call(this,"frma")||this;return e.codingName=i,e}return rM(i,t),_.defineProperty(i.prototype,"codingName",{get:function(){return this.lC},set:function(t){if(4!==t.length)throw new b("Provided coding name was not 4 characters long.");this.lC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 4},i.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},i}(Tn);r();!function(t){function i(i,e){var s=t.call(this,"pasp")||this;return s.hSpacing=i,s.vSpacing=e,s}rM(i,t),_.defineProperty(i.prototype,"hSpacing",{get:function(){return this.dC},set:function(t){if(!dM(t,32))throw new b("Provided hSpacing does not fit in 32 bits.");this.dC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"vSpacing",{get:function(){return this.fC},set:function(t){if(!dM(t,32))throw new b("Provided vSpacing does not fit in 32 bits.");this.fC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 8},i.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(Tn);r();!function(t){function i(i,e,s){var n=t.call(this,i)||this;return n.sample=e,n.sinf=s,n}rM(i,t),i.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},i.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(B);r();!function(t){function i(i,e,s){var n=t.call(this,"sinf")||this;return n.schm=e,n.schi=s,n.frma=new GT(i),n}rM(i,t),i.prototype.getBoxContentSize=function(){var t,i,e,s;return this.frma.getSize()+(null!==(i=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==i?i:0)+(null!==(s=null===(e=this.schi)||void 0===e?void 0:e.getSize())&&void 0!==s?s:0)},i.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(Tn);r();var VT=function(t){function i(i,e,s){var n=t.call(this,"saio",i,void 0===s?0:1)||this;return n.entries=e,n.explicitAuxInfoType=s,n}return rM(i,t),_.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"entries",{get:function(){return this.Mk},set:function(t){var i=this;if(!dM(t.length,32))throw new b("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!dM(t,i.bitSize)})))throw new b("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Mk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"explicitAuxInfoType",{get:function(){return this._C},set:function(t){if(void 0===t)this.flags=0;else{if(!dM(t.auxInfoType,32))throw new b("Provided auxInfoType does not fit in 32 bits.");if(!dM(t.auxInfoTypeParameter,32))throw new b("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this._C=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),void 0!==this.explicitAuxInfoType&&(i.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),i.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),i.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(i)},i}(Lt);(function(t){function i(){return null!==t&&t.apply(this,arguments)||this}rM(i,t),i.prototype.serializeSaioContent=function(t){for(var i=0,e=this.entries;i<e.length;i++){var s=e[i];t.writer.writeUInt(s,32)}}})(VT),function(t){function i(){return null!==t&&t.apply(this,arguments)||this}rM(i,t),i.prototype.serializeSaioContent=function(t){for(var i=0,e=this.entries;i<e.length;i++){var s=e[i];t.writer.writeUInt(s.getHighBitsUnsigned(),32),t.writer.writeUInt(s.getLowBitsUnsigned(),32)}}}(VT);r();!function(t){function i(i,e,s){var n=t.call(this,"saiz",0,void 0===s?0:1)||this;return n.defaultSampleInfoSize=i,n.sampleInfoSizes=e,n.explicitAuxInfoType=s,n}rM(i,t),_.defineProperty(i.prototype,"defaultSampleInfoSize",{get:function(){return this.gC},set:function(t){if(!dM(t,8))throw new b("Provided defaultSampleInfoSize does not fit in a single byte.");this.gC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"sampleInfoSizes",{get:function(){return this.wC},set:function(t){if(!dM(t.length,32))throw new b("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!dM(t,8)})))throw new b("Not all provided sampleInfoSizes fit in a byte.");this.wC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"explicitAuxInfoType",{get:function(){return this._C},set:function(t){if(void 0===t)this.flags=0;else{if(!dM(t.auxInfoType,32))throw new b("Provided auxInfoType does not fit in 32 bits.");if(!dM(t.auxInfoTypeParameter,32))throw new b("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this._C=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},i.prototype.serializeBoxContent=function(i){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new b("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,i),void 0!==this.explicitAuxInfoType&&(i.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),i.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),i.writer.writeByte(this.defaultSampleInfoSize),i.writer.writeUInt(this.sampleInfoSizes.length,32);for(var e=0,s=this.sampleInfoSizes;e<s.length;e++){var n=s[e];i.writer.writeByte(n)}}}(Lt);r();!function(t){function i(i){var e=t.call(this,"sdtp",0,0)||this;return e.samples=i,e}rM(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i);for(var e=0,s=this.samples;e<s.length;e++){_T(s[e],i)}}}(Lt);r();!function(t){function i(i){return t.call(this,"stsd",i,0)||this}rM(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.boxes.length,32)}}(Qa);r();var WT=function(t){function i(i,e,s){var n=t.call(this,"sgpd",i,0)||this;return n.entries=s,n.groupingType=e,n}return rM(i,t),_.defineProperty(i.prototype,"groupingType",{get:function(){return this.AC},set:function(t){if(4!==t.length)throw new b("The provided groupingType does not equal 4 characters.");this.AC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeString(this.groupingType),this.serializeVersionBoxContent(i),i.writer.writeUInt(this.entries.length,32);for(var e=0,s=this.entries;e<s.length;e++){var n=s[e];this.serializeEntryBoxContent(i,n)}},i.prototype.serializeEntryBoxContent=function(t,i){i.serializeBoxContent(t)},i}(Lt);(function(t){function i(i,e){return t.call(this,0,i,e)||this}rM(i,t),i.prototype.serializeVersionBoxContent=function(t){}})(WT),function(t){function i(i,e,s){var n=t.call(this,1,i,s)||this;return n.defaultLength=e,n}rM(i,t),_.defineProperty(i.prototype,"defaultLength",{get:function(){return this.vC},set:function(t){if(!dM(t,32))throw new b("The provided defaultLength does not fit in 32 bits.");this.vC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},i.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},i.prototype.serializeEntryBoxContent=function(t,i){0===this.defaultLength&&t.writer.writeUInt(i.getBoxContentSize(),32),i.serializeBoxContent(t)}}(WT),function(t){function i(i,e,s,n){void 0===n&&(n=0);var r=this;if(i<2)throw new b("This constructor is only meant for versions 2 and up.");return(r=t.call(this,i,e,s)||this).defaultSampleDescriptionIndex=n,r}rM(i,t),_.defineProperty(i.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Wk},set:function(t){if(!dM(t,32))throw new b("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Wk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},i.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(WT);r();(function(t){function i(i){void 0===i&&(i=[]);var e=t.call(this,"stsz",0,0)||this;return e.sampleSizes=i,e}rM(i,t),_.defineProperty(i.prototype,"sampleSizes",{get:function(){return this.mC},set:function(t){if(!dM(t.length,32))throw new b("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!dM(t,32)})))throw new b("Not all sampleSizes can be represented in 32 bits.");this.mC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(0,32),i.writer.writeUInt(this.sampleSizes.length,32);for(var e=0,s=this.sampleSizes;e<s.length;e++){var n=s[e];i.writer.writeUInt(n,32)}}})(Lt),function(t){function i(i,e){void 0===i&&(i=0),void 0===e&&(e=0);var s=t.call(this,"stsz",0,0)||this;return s.defaultSampleSize=i,s.samples=e,s}rM(i,t),_.defineProperty(i.prototype,"defaultSampleSize",{get:function(){return this.qk},set:function(t){if(!dM(t,32))throw new b("Provided defaultSampleSize does not fit in 32 bits.");this.qk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"samples",{get:function(){return this.uC},set:function(t){if(!dM(t,32))throw new b("Number of allowed samples cannot fit in 32 bits.");this.uC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.defaultSampleSize,32),i.writer.writeUInt(this.samples,32)}}(Lt);r();!function(t){function i(){return t.call(this,"stbl")||this}rM(i,t)}(B);r();!function(t){function i(i){var e=t.call(this,"stsc",0,0)||this;return e.entries=i,e}rM(i,t),_.defineProperty(i.prototype,"entries",{get:function(){return this.Mk},set:function(t){if(!dM(t.length,32))throw new b("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!dM(t.firstChunk,32)||!dM(t.sampleDescriptionIndex,32)||!dM(t.samplesPerChunk,32)})))throw new b("Not all entries can be represented in 96 bits.");this.Mk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.entries.length,32);for(var e=0,s=this.entries;e<s.length;e++){var n=s[e];i.writer.writeUInt(n.firstChunk,32),i.writer.writeUInt(n.samplesPerChunk,32),i.writer.writeUInt(n.sampleDescriptionIndex,32)}}}(Lt);r();!function(t){function i(){return t.call(this,"schi")||this}rM(i,t)}(B);r();!function(t){function i(i,e,s){var n=t.call(this,"schm",0,void 0===s?0:1)||this;return n.schemeType=i,n.schemeVersion=e,n.schemeUri=s,n}rM(i,t),_.defineProperty(i.prototype,"schemeType",{get:function(){return this.pC},set:function(t){if(4!==t.length)throw new b("The provided schemeType does not have a length of 4.");this.pC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"schemeVersion",{get:function(){return this.yC},set:function(t){if(!dM(t,32))throw new b("The provided schemeVersion does not fit in 23 bits.");this.yC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"schemeUri",{get:function(){return this.MC},set:function(t){if(t&&4!==t.length)throw new b("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.MC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeString(this.schemeType),i.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(i.writer.writeString(this.schemeUri),i.writer.writeByte(0))}}(Lt);r();var HT=function(t){function i(i,e,s,n,r,h,o){void 0===o&&(o=0);var a=t.call(this,"sidx",i,o)||this;return a.referenceId=e,a.timescale=s,a.earliestPresentationTime=n,a.firstOffset=r,a.references=h,a}return rM(i,t),_.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"referenceId",{get:function(){return this.TC},set:function(t){if(!dM(t,32))throw new b("Provided referenceId does not fit in 32 bits.");this.TC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"timescale",{get:function(){return this.Bk},set:function(t){if(!dM(t,32))throw new b("Provided timescale does not fit in 32 bits.");this.Bk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"earliestPresentationTime",{get:function(){return this.NC},set:function(t){if(!dM(t,this.bitSize))throw new b("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.NC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"firstOffset",{get:function(){return this.DC},set:function(t){if(!dM(t,this.bitSize))throw new b("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.DC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"references",{get:function(){return this.IC},set:function(t){if(!dM(t.length,16))throw new b("The number of provided reference items does not fit in 16 bits.");for(var i=0,e=t;i<e.length;i++){var s=e[i];if(!dM(s.referencedSize,31))throw new b("Provided referenced size does not fit in 31 bits.");if(!dM(s.subsegmentDuration,32))throw new b("Provided subsegment duration does not fit in 31 bits.");if(!dM(s.sapType,3))throw new b("Provided SAP type does not fit in 3 bits.");if(!dM(s.sapDeltaTime,28))throw new b("Provided SAP delta time does not fit in 28 bits.")}this.IC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.referenceId,32),i.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(i),i.writer.writeUInt(0,16),i.writer.writeUInt(this.references.length,16);for(var e=0,s=this.references;e<s.length;e++){var n=s[e];i.writer.writeBit(n.referenceType),i.writer.writeUInt(n.referencedSize,31),i.writer.writeUInt(n.subsegmentDuration,32),i.writer.writeBool(n.startsWithSap),i.writer.writeUInt(n.sapType,3),i.writer.writeUInt(n.sapDeltaTime,28)}},i}(Lt),qT=function(t){function i(i,e,s,n,r,h){return void 0===h&&(h=0),t.call(this,0,i,e,s,n,r,h)||this}return rM(i,t),i.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},i}(HT),XT=function(t){function i(i,e,s,n,r,h){return void 0===h&&(h=0),t.call(this,1,i,e,s,n,r,h)||this}return rM(i,t),i.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},i}(HT);r();var ZT=function(t){function i(i,e,s){return t.call(this,"styp",i,e,s)||this}return rM(i,t),i}(ZM);function KT(t){for(var i=t.data,e=i.nextChars(4),s=i.nextUint32(),n=[];i.cursor.offset<i.data.byteLength;)n.push(i.nextChars(4));return new ZT(e,s,n)}r();!function(t){function i(i){void 0===i&&(i=0);var e=t.call(this,"smhd",0,0)||this;return e.balance=i,e}rM(i,t),_.defineProperty(i.prototype,"balance",{get:function(){return this.SC},set:function(t){if(t<-1||t>1)throw new b("Provided balance does not fit in the allowed range [-1, 1].");if(!dM(E(t,8),16))throw new b("Provided balance does not fit in 16 bits (fixed 8.8).");this.SC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(E(this.balance,8),16),i.writer.writeUInt(0,16)}}(Lt);r();!function(t){function i(i){var e=t.call(this,"stss",0,0)||this;return e.entries=i,e}rM(i,t),_.defineProperty(i.prototype,"entries",{get:function(){return this.Mk},set:function(t){if(!dM(t.length,32))throw new b("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!dM(t,32)})))throw new b("Not all entries can be represented in 32 bits.");this.Mk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.entries.length,32);for(var e=0,s=this.entries;e<s.length;e++){var n=s[e];i.writer.writeUInt(n,32)}}}(Lt);r();!function(t){function i(i){var e=t.call(this,"stts",0,0)||this;return e.entries=i,e}rM(i,t),_.defineProperty(i.prototype,"entries",{get:function(){return this.Mk},set:function(t){if(!dM(t.length,32))throw new b("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!dM(t.sampleCount,32)||!dM(t.sampleDelta,32)})))throw new b("Not all entries can be represented in 64 bits.");this.Mk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.entries.length,32);for(var e=0,s=this.entries;e<s.length;e++){var n=s[e];i.writer.writeUInt(n.sampleCount,32),i.writer.writeUInt(n.sampleDelta,32)}}}(Lt);r();!function(t){function i(i){var e=t.call(this,"trep",0,0)||this;return e.trackId=i,e}rM(i,t),_.defineProperty(i.prototype,"trackId",{get:function(){return this.Vk},set:function(t){if(!dM(t,32))throw new b("The provided trackId does not fit in 32 bits.");this.Vk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.trackId,32)}}(Qa);r();!function(t){function i(){return t.call(this,"udta")||this}rM(i,t)}(B);r();var JT={red:0,green:0,blue:0};!function(t){function i(i,e){void 0===i&&(i=0),void 0===e&&(e=JT);var s=t.call(this,"vmhd",0,1)||this;return s.graphicsMode=i,s.opColor=e,s}rM(i,t),_.defineProperty(i.prototype,"opColor",{get:function(){return this.EC},set:function(t){if(!dM(t.red,16)||!dM(t.green,16)||!dM(t.blue,16))throw new b("Not all colors could be represented in 16 bits.");this.EC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.graphicsMode,16),i.writer.writeUInt(this.opColor.red,16),i.writer.writeUInt(this.opColor.green,16),i.writer.writeUInt(this.opColor.blue,16)}}(Lt);r();var $T=function(t){function i(i,e,s,n,r){void 0===n&&(n={}),void 0===r&&(r=void 0);var h,o,a,u,c,l=this;return(l=t.call(this,i,e)||this).width=s.width,l.height=s.height,l.horizontalResolution=null!==(h=s.horizontal)&&void 0!==h?h:72,l.verticalResolution=null!==(o=s.vertical)&&void 0!==o?o:72,l.compressorName=null!==(a=n.compressorName)&&void 0!==a?a:"",l.frameCount=null!==(u=n.frameCount)&&void 0!==u?u:1,l.depth=null!==(c=n.depth)&&void 0!==c?c:24,l.clap=n.clap,l.pasp=n.pasp,l.extra=r,l}return rM(i,t),_.defineProperty(i.prototype,"width",{get:function(){return this.tC},set:function(t){if(!dM(t,16))throw new b("Provided width does not fit in 16 bits.");this.tC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"height",{get:function(){return this.iC},set:function(t){if(!dM(t,16))throw new b("Provided height does not fit in 16 bits.");this.iC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"horizontalResolution",{get:function(){return this.bC},set:function(t){if(!dM(E(t,16),32))throw new b("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.bC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"verticalResolution",{get:function(){return this.LC},set:function(t){if(!dM(E(t,16),32))throw new b("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.LC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"compressorName",{get:function(){return this.kC},set:function(t){if(t.length>31)throw new b("The provided compressorName should at most be 31 characters long.");this.kC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"frameCount",{get:function(){return this.xC},set:function(t){if(!dM(t,16))throw new b("Provided frameCount does not fit in 16 bits.");this.xC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"depth",{get:function(){return this.OC},set:function(t){if(!dM(t,16))throw new b("Provided depth does not fit in 16 bits.");this.OC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){var i,e,s,n,r,h;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(e=null===(i=this.clap)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)+(null!==(n=null===(s=this.pasp)||void 0===s?void 0:s.getSize())&&void 0!==n?n:0)+(null!==(h=null===(r=this.extra)||void 0===r?void 0:r.length)&&void 0!==h?h:0)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(0,16),i.writer.writeUInt(0,16),i.writer.writeUInt(0,32),i.writer.writeUInt(0,32),i.writer.writeUInt(0,32),i.writer.writeUInt(this.width,16),i.writer.writeUInt(this.height,16),i.writer.writeUInt(E(this.horizontalResolution,16),32),i.writer.writeUInt(E(this.verticalResolution,16),32),i.writer.writeUInt(0,32),i.writer.writeUInt(this.frameCount,16),i.writer.writeByte(this.compressorName.length),i.writer.writeString(this.compressorName);for(var e=0;e<31-this.compressorName.length;e++)i.writer.writeByte(0);i.writer.writeUInt(this.depth,16),i.writer.writeInt(-1,16),this.clap&&i.concat(this.clap.serialize()),this.pasp&&i.concat(this.pasp.serialize()),this.extra&&fM(i.writer,this.extra)},i}(FM);r(),r();!function(t){function i(i){var e=t.call(this,"esds",0,0)||this;return e.esDescriptor=i,e}rM(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof T?this.esDescriptor.length:this.esDescriptor.getSize())},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.esDescriptor instanceof T?i.concat(Xr.from(this.esDescriptor)):this.esDescriptor.serialize(i)}}(Lt);r();!function(t){function i(i,e,s){var n=t.call(this,"mp4a",i,s)||this;return n.esd=e,n}rM(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.concat(this.esd.serialize())}}(YM);r();!function(t){function i(i,e,s,n){void 0===n&&(n={});var r=t.call(this,"mp4v",i,e,n)||this;return r.esDescriptor=s,r}rM(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.esDescriptor.serialize(i)}}($T);r();!function(t){function i(i,e){var s=t.call(this,"mp4s",i)||this;return s.esDescriptor=e,s}rM(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.esDescriptor.serialize(i)}}(FM);r(),r();!function(t){function i(i){var e=t.call(this,"avcC")||this;return e.decoderConfig=i,e}rM(i,t),i.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},i.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(Tn);r();!function(){function t(t,i,e,s,n,r){void 0===r&&(r=1),this.lengthSizeMinusOne=e,this.version=r,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=i,this.spsSets=s,this.ppsSets=n}_.defineProperty(t.prototype,"version",{get:function(){return this.jC},set:function(t){if(!dM(t,8))throw new b("Provided version does not fit in 8 bits.");this.jC=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"profileIndication",{get:function(){return this.zC},set:function(t){if(!dM(t,8))throw new b("Provided profileIndication does not fit in 8 bits.");this.zC=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.BC},set:function(t){if(!dM(t,8))throw new b("Provided profileCompatibility does not fit in 8 bits.");this.BC=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"levelIndication",{get:function(){return this.RC},set:function(t){if(!dM(t,8))throw new b("Provided levelIndication does not fit in 8 bits.");this.RC=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"spsSets",{get:function(){return this.UC},set:function(t){if(!dM(t.length,5))throw new b("Provided number of spsSets exceeds the max (32)");this.UC=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"ppsSets",{get:function(){return this.QC},set:function(t){if(!dM(t.length,8))throw new b("Provided number of ppsSets exceeds the max (256)");this.QC=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,i){return t+i.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,i){return t+i.length}),0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var i=0,e=this.spsSets;i<e.length;i++){var s=e[i];t.writer.writeUInt(s.length,16),t.concat(Xr.from(s))}t.writer.writeByte(this.ppsSets.length);for(var n=0,r=this.ppsSets;n<r.length;n++){var h=r[n];t.writer.writeUInt(h.length,16),t.concat(Xr.from(h))}}}();r();!function(t){function i(i,e,s,n,r){void 0===n&&(n={}),void 0===r&&(r=void 0);var h=t.call(this,"avc1",i,e,n)||this;return h.configurationBox=s,h.bitrateBox=r,h}rM(i,t),i.prototype.getBoxContentSize=function(){var i,e;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(e=null===(i=this.bitrateBox)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.concat(this.configurationBox.serialize()),this.bitrateBox&&i.concat(this.bitrateBox.serialize())}}($T);r();!function(t){function i(i,e,s){var n=t.call(this,"btrt")||this;return n.bufferSizeDb=i,n.max=e,n.avg=s,n}rM(i,t),_.defineProperty(i.prototype,"bufferSizeDb",{get:function(){return this.ck},set:function(t){if(!dM(t,32))throw new b("Provided bufferSizeDb does not fit in 32 bits.");this.ck=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"max",{get:function(){return this.FC},set:function(t){if(!dM(t,32))throw new b("Provided max does not fit in 32 bits.");this.FC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"avg",{get:function(){return this.YC},set:function(t){if(!dM(t,32))throw new b("Provided avg does not fit in 32 bits.");this.YC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 12},i.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(Tn);r(),r(),r();var tN=function(t){function i(i,e){var s,n,r,h,o=this;if(o=t.call(this,"tenc",i,0)||this,e.perSampleIvSize>0&&(null!==(n=null===(s=e.constantIv)||void 0===s?void 0:s.length)&&void 0!==n?n:0)>0)throw new b("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=e.kId,o.isProtected=null!==(r=e.isProtected)&&void 0!==r?r:1,e.perSampleIvSize>0?o.perSampleIvSize=e.perSampleIvSize:o.constantIv=null!==(h=e.constantIv)&&void 0!==h?h:new T(0),o}return rM(i,t),_.defineProperty(i.prototype,"isProtected",{get:function(){return this.GC},set:function(t){if(!dM(t,8))throw new b("Provided isProtected does not fit in 1 byte.");this.GC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"perSampleIvSize",{get:function(){return this.VC},set:function(t){if(![8,16].includes(t))throw new b("Provided perSampleIvSize does not match any allowed value [8, 16].");this.VC=t,this.WC=new T(0)},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"kId",{get:function(){return this.HC},set:function(t){if(16!==t.length)throw new b("Provided kId length is not 16.");this.HC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"constantIv",{get:function(){return this.WC},set:function(t){if(![8,16].includes(t.length))throw new b("Provided constant IV length does not match any allowed value [8, 16].");this.WC=t,this.VC=0},enumerable:!1,configurable:!0}),i.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},i.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.serializeOwnContent(i)},i.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),fM(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),fM(t.writer,this.constantIv))},i}(Lt),iN=(function(t){function i(i){return t.call(this,0,i)||this}rM(i,t)}(tN),function(t){function i(i){var e=t.call(this,1,i)||this;return e.cryptByteBlocks=i.cryptByteBlock,e.skipByteBlocks=i.skipByteBlock,e}return rM(i,t),_.defineProperty(i.prototype,"cryptByteBlocks",{get:function(){return this.qC},set:function(t){if(!dM(t,4))throw new b("Provided cryptByteBlocks does not fit in 4 bits.");this.qC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"skipByteBlocks",{get:function(){return this.XC},set:function(t){if(!dM(t,4))throw new b("Provided skipByteBlocks does not fit in 4 bits.");this.XC=t},enumerable:!1,configurable:!0}),i.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},i}(tN));!function(t){function i(i){var e=t.call(this)||this;return e.tencBox=new iN(i),e}rM(i,t),i.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},i.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(gT);function eN(t){return void 0!==t.iv}function sN(t){return void 0!==t.subsamples}r();!function(t){function i(i){var e=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return e.samples=i,e}rM(i,t),_.defineProperty(i.prototype,"samples",{get:function(){return this.uC},set:function(t){var i;if(!dM(t.length,32))throw new b("The number of samples provided does not fit in 32 bits.");for(var e=0,s=t;e<s.length;e++){var n=s[e];if(eN(n)&&![8,16].includes(n.iv.length))throw new b("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===i&&(i=sN(n)),!0===i&&!sN(n)||!1===i&&sN(n))throw new b("Mix of samples with and without subsamples detected.");if(sN(n)){if(!dM(n.subsamples.length,16))throw new b("Subsample length of one of the provided samples does not fit in 16 bits.");for(var r=0,h=n.subsamples;r<h.length;r++){var o=h[r];if(!dM(o.clearData,16))throw new b("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!dM(o.protectedData,23))throw new b("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=i&&i,this.uC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){for(var i=0,e=0,s=this.samples;e<s.length;e++){var n=s[e];eN(n)&&(i+=n.iv.length),sN(n)&&(i+=2+6*n.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+i},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.samples.length,32);for(var e=0,s=this.samples;e<s.length;e++){var n=s[e];if(eN(n)&&fM(i.writer,n.iv),sN(n)){i.writer.writeUInt(n.subsamples.length,16);for(var r=0,h=n.subsamples;r<h.length;r++){var o=h[r];i.writer.writeUInt(o.clearData,16),i.writer.writeUInt(o.protectedData,32)}}}},i.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(Lt);r(),r();!function(t){function i(i,e,s,n,r){var h=t.call(this,"emsg",0,0)||this;return h.schemeIdUri=i,h.value=e,h.data=r,h.id=s,h.timescale=n.timescale,h.presentationTimeDelta=n.presentationTimeDelta,h.eventDuration=n.eventDuration,h}rM(i,t),_.defineProperty(i.prototype,"timescale",{get:function(){return this.Bk},set:function(t){if(!dM(t,32))throw new b("The provided timescale does not fit in 32 bits.");this.Bk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"presentationTimeDelta",{get:function(){return this.ZC},set:function(t){if(!dM(t,32))throw new b("The provided presentationTimeDelta does not fit in 32 bits.");this.ZC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"eventDuration",{get:function(){return this.KC},set:function(t){if(!dM(t,32))throw new b("The provided eventDuration does not fit in 32 bits.");this.KC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"id",{get:function(){return this.NN},set:function(t){if(!dM(t,32))throw new b("The provided id does not fit in 32 bits.");this.NN=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeString(this.schemeIdUri),i.writer.writeByte(0),i.writer.writeString(this.value),i.writer.writeByte(0),i.writer.writeUInt(this.timescale,32),i.writer.writeUInt(this.presentationTimeDelta,32),i.writer.writeUInt(this.eventDuration,32),i.writer.writeUInt(this.id,32),i.concat(Xr.from(this.data))}}(Lt);r(),r(),r();var nN=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new lM,i=0,e=this.boxes;i<e.length;i++){var s=e[i];t.concat(s.serialize())}return t.toRangedBuffer()},t}();function rN(t,i){return function(e){var s=function(t,i){for(var e=t.data,s=t.cursor;s.offset<e.byteLength;){var n=OM(e,s);if(!n.complete)return;if(lo(n.box,i))return n.box}}(new CM(bM(e),new kM),t);if(!s)throw new b("".concat(t," box not found"));return i(s)}}var hN=rN("moov",OT),oN=rN("sidx",(function(t){var i,e,s=t.data,n=Pa(s.nextUint32()),r=n.version,h=n.flags,o=s.nextUint32(),a=s.nextUint32();0===r?(i=s.nextUint32(),e=s.nextUint32()):(i=s.nextUint64(),e=s.nextUint64()),s.skip(2);for(var u=s.nextUint16(),c=[],l=0;l<u;l++){var d=new qu(Xr.from(s.nextUint8Array(12))),f=d.readBit(),_=d.readUInt(31),g=d.readUInt(32),w=Boolean(d.readBit()),A=d.readUInt(3),v=d.readUInt(28);c.push({referenceType:f,referencedSize:_,subsegmentDuration:g,startsWithSap:w,sapType:A,sapDeltaTime:v})}return 0===r?new qT(o,a,i,e,c,h.raw):new XT(o,a,i,e,c,h.raw)})),aN=rN("moof",YT),uN=rN("pssh",Ne);function cN(t){return function(t){for(var i=new nN,e=0,s=Bo(t);e<s.length;e++){var n=s[e];lo(n,"ftyp")?i.boxes.push(JM(n)):lo(n,"styp")?i.boxes.push(KT(n)):lo(n,"moov")?i.boxes.push(OT(n)):lo(n,"moof")?i.boxes.push(YT(n)):lo(n,"mdat")?i.boxes.push(aT(n)):i.boxes.push(Vh(n))}return i}(new CM(bM(t),new kM))}var lN=class extends i{get JC(){return this.Id}get $C(){return this.tx.expiration}get ix(){return this.sx}get nx(){return this.tx.sessionId}Ws(){if(this.hx)return this.Id;const t=[];return t.push(Promise.resolve(this.tx.close())),t.push(ws(1e3)),this.ox.l_(Promise.race(t).catch(dN)),this.hx=!0,this.Id}ux(t,i,e){if(Zt.ib){const t=uN(ts(i));if(1===t.version){i=new AT(t.systemId,t.data).serialize().join()}}return Promise.resolve(this.tx.generateRequest(t,i)).catch(dN)}$n(t){return Promise.resolve(this.tx.load(t)).catch(dN)}pN(){return Promise.resolve(this.tx.remove()).catch(dN)}Qn(t){return Promise.resolve(this.tx.update(t)).catch(dN)}lx(){this.sx.OL(),this.tx.keyStatuses.forEach(((t,i)=>{this._x(i,t)})),this.Co(new Ke(this))}_x(t,i){if("string"==typeof t){const e=t;t=i,i=e}const e=ts(t);if(this.fm===Bw&&16===e.byteLength){let t=Mo(e),i=t.getUint32(0,!0),s=t.getUint16(4,!0),n=t.getUint16(6,!0);t.setUint32(0,i,!1),t.setUint16(4,s,!1),t.setUint16(6,n,!1)}this.fm===Bw&&"status-pending"===i&&(i="usable"),this.sx.xL(e,i)}constructor(t,i){super(),this.tx=t,this.fm=i,this.hx=!1,this.gx=()=>{this.lx()},this.wx=t=>{this.Co(new Bs(this,t.messageType,eM(this.fm,t.message)))},this.Ax=()=>{this.hx=!0,this.sx.ey>0&&(this.sx.OL(),this.Co(new Ke(this))),this.tx.removeEventListener("keystatuseschange",this.gx),this.tx.removeEventListener("message",this.wx)},this.tx.addEventListener("keystatuseschange",this.gx),this.tx.addEventListener("message",this.wx),this.sx=new Fs;const e=[];this.tx.closed&&e.push(Promise.resolve(this.tx.closed)),this.ox=new Eo,e.push(this.ox.PL),this.Id=Promise.race(e).then(this.Ax,this.Ax),this.lx()}};function dN(t){let i;if(t.message){const e=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);e&&(i=0|C(e[1],16))}throw new oi(t.message,void 0,i,t)}var fN=class{async vx(t){return new lN(this.mx.createSession(t),this.dm)}yx(t){return Promise.resolve(this.mx.setServerCertificate(t))}bn(t){return Promise.resolve(t.setMediaKeys(this.mx))}Mx(t){return Promise.resolve(t.setMediaKeys(null))}Zn(){return Promise.resolve()}constructor(t,i,e){this.mx=t,this.dm=i,this.wd=e}},_N=class{get dm(){return this.Tx.keySystem}async Nx(){const t=await this.Tx.createMediaKeys();return new fN(t,this.fm,this.Dx)}Ix(){return this.Dx}constructor(t,i,e){this.Tx=t,this.fm=i,this.Dx=e}};r();var gN=Zt._b&&Zt.wb>=42||Zt.Bb&&Zt.Ub>=38||Zt.Lb||Zt.Ob||Zt.Wb&&Zt.qb>=29;function wN(t,i){return oo(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[At({contentType:t},i?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[At({contentType:t},i?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function AN(){return void 0!==sd&&"function"==typeof sd.requestMediaKeySystemAccess}function ku(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var vN=class{Sx(){return this.Ex(Vy)}bx(){return this.Ex(Ka)}Lx(){return this.Ex(Gy)}kx(){return this.Ex(Wy)}Ex(t){const i=t.mL,e=this.Cx.get(i);if(e)return e;const s=this.xx(t,'video/mp4; codecs="avc1.42000a"');return this.Cx.set(i,s),s}async xx(t,i){try{return await this.jx.Ox(t.wL,[wN(i,!0)]),!0}catch(e){try{return await this.jx.Ox(t.wL,[wN(i,!1)]),!0}catch(t){return!1}}}zx(){return this.Px||(this.Px=this.Bx()),this.Px}async Bx(){return"https:"!==Qy.protocol&&(!!gN&&!await this.bx())}constructor(t){this.Cx=Qt(),this.Px=void 0,this.jx=t}};function mN(t,i,e,s){let n=!1;if(s.persistentState&&"optional"!==s.persistentState)return;if(s.distinctiveIdentifier&&"optional"!==s.distinctiveIdentifier)return;const r={audioCapabilities:[],videoCapabilities:[],persistentState:s.persistentState||"optional",distinctiveIdentifier:s.distinctiveIdentifier||"optional",initDataTypes:s.initDataTypes,sessionTypes:["temporary"],label:s.label,Rx:s.Rx};let h=!1;if(s.audioCapabilities){const o=s.audioCapabilities.filter((t=>Boolean(t.contentType)));o.length&&(r.audioCapabilities=o.filter((s=>pN(t,i,e,s))),h=!0,r.audioCapabilities.length&&(n=!0))}if(s.videoCapabilities){const o=s.videoCapabilities.filter((t=>Boolean(t.contentType)));o.length&&(r.videoCapabilities=o.filter((s=>pN(t,i,e,s))),h=!0,r.videoCapabilities.length&&(n=!0))}return h||(n=t(e,"video/mp4")),n?r:void 0}function pN(t,i,e,s){if(!s.contentType)return!1;if(s.encryptionScheme&&!Ho(i,s.encryptionScheme))return!1;if(s.robustness)return!1;return t(e,Op(s.contentType))}function yN(t){if(t.videoCapabilities)for(const i of t.videoCapabilities)if(i.contentType)return i.contentType;if(t.audioCapabilities)for(const i of t.audioCapabilities)if(i.contentType)return i.contentType}function MN(t){const i=[];for(const e of t)e.encryptionScheme&&i.push({contentType:e.contentType,robustness:e.robustness});return t.concat(i)}function TN(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(NN))||!(!t.videoCapabilities||!t.videoCapabilities.some(NN))}function NN(t){return!t.robustness}function DN(t,i){const e=[];for(const s of t)s.robustness?e.push(s):e.push(At({},s,{robustness:i}));return e}r();var IN=class{async Ox(t,i){i=i.filter((t=>!t.Rx));for(const t of i)t.audioCapabilities&&(t.audioCapabilities=MN(t.audioCapabilities)),t.videoCapabilities&&(t.videoCapabilities=MN(t.videoCapabilities));if(t===Uw&&i.some(TN)){const e=i.map((t=>function(t,i){return At({},t,{videoCapabilities:t.videoCapabilities?DN(t.videoCapabilities,i):void 0,audioCapabilities:t.audioCapabilities?DN(t.audioCapabilities,i):void 0})}(t,"SW_SECURE_CRYPTO")));try{const i=await sd.requestMediaKeySystemAccess(t,e),s=i.getConfiguration();return new _N(i,t,s)}catch(t){}}const e=await sd.requestMediaKeySystemAccess(t,i),s=e.getConfiguration();return new _N(e,t,s)}static Ux(){return AN()}};r(),r(),r(),r();var SN=class extends i{get nx(){return this.Qx&&this.Qx.sessionId||""}get $C(){return NaN}get JC(){return this.Fx.PL}get ix(){return this.Yx}async ux(t,i,e){this.Gx(),this.Vx=new Eo,this.vx(ts(i),e),await this.Vx.PL}vx(t,i){if(!t)throw new k("Expected initData to be defined but was "+t+".");const e=i&&i.playready&&i.playready.Wx;let s;return s=i?this.Hx.createSession(this.qx,t,e):this.Hx.createSession(this.qx,t),s.addEventListener("mskeyclose",this.Ax),s.addEventListener("mskeymessage",this.Xx),s.addEventListener("mskeyerror",this.Ss),s.addEventListener("mskeyadded",this.Zx),this.Qx=s,this.Kx("status-pending"),s}async $n(t){return this.Gx(),!0}async Qn(t){if(this.Jx=new Eo,this.Gx(),!this.Qx)return Promise.resolve();const i=ts(t);if(0===i.byteLength)throw new k("Cannot call update with an empty response.");this.Qx.update(i),await this.Jx.PL}Ws(){return!this.hx&&this.Qx&&(this.hx=!0,this.Qx.close()),this.Fx.PL}async pN(){this.Gx()}Gx(){if(this.hx)throw new k("Already closing or closed.")}Kx(t){this.Yx.OL(),this.Yx.xL(Se,t),this.Co(new Ke(this))}constructor(t,i){super(),this.Hx=t,this.qx=i,this.hx=!1,this.Jx=void 0,this.Vx=void 0,this.Qx=void 0,this.Ax=()=>{this.hx=!0,this.Fx.jL(void 0),this.Qx&&(this.Qx.removeEventListener("mskeyclose",this.Ax),this.Qx.removeEventListener("mskeymessage",this.Xx),this.Qx.removeEventListener("mskeyerror",this.Ss),this.Qx.removeEventListener("mskeyadded",this.Zx))},this.Xx=t=>{this.Vx&&(this.Vx.jL(void 0),this.Vx=void 0),this.Co(new Bs(this,"license-request",Ae(t.message).buffer,t.destinationURL||void 0))},this.Ss=()=>{const t=this.Qx&&this.Qx.error;if(!t)return;const i=new oi("Unknown CDM error",t.code,t.systemCode);if(this.Vx)this.Vx.zL(i),this.Vx=void 0;else if(this.Jx)this.Jx.zL(i),this.Jx=void 0;else switch(i.BL){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:this.Kx("output-not-allowed");break;default:this.Kx("internal-error")}},this.Zx=()=>{this.Vx&&(this.Kx("usable"),this.Vx.jL(void 0),this.Vx=void 0),this.Jx&&(this.Kx("usable"),this.Jx.jL(void 0),this.Jx=void 0)},this.Fx=new Eo,this.Yx=new Fs}},EN=class{async vx(t){return new SN(this.Hx,this.qx)}yx(t){return Promise.resolve(!1)}bn(t){const i=()=>{t.msSetMediaKeys(this.Hx),t.removeEventListener("loadedmetadata",i)};return t.readyState>=1?t.msSetMediaKeys(this.Hx):t.addEventListener("loadedmetadata",i),Promise.resolve()}Mx(t){return Promise.resolve()}Zn(){return Promise.resolve()}constructor(t,i,e){this.Hx=t,this.dm=i,this.wd=e;const s=yN(e)||"video/mp4";this.qx=Op(s)}},bN=class{get dm(){return this.fm}Ix(){return this.$x}Nx(){const t=new Ys.MSMediaKeys(this.fm);return Promise.resolve(new EN(t,this.fm,this.$x))}constructor(t,i){this.fm=t,this.$x=i}},LN=class{Ox(t,i){try{return Promise.resolve(function(t,i){if(!kN())throw new k("Unsupported key system "+t);for(let e of i){let i=mN(CN,Ky,t,e);if(i)return new bN(t,i)}throw new k("Unsupported key system configuration for "+t)}(t,i))}catch(t){return Promise.reject(t)}}static Ux(){return kN()}};function kN(){return void 0!==Ys.MSMediaKeys&&"function"==typeof Ys.MSMediaKeys.isTypeSupported}function CN(t,i){return Ys.MSMediaKeys.isTypeSupported(t,i)}r(),r(),r(),r();var xN=class extends i{get nx(){return this.tO?this.tO.sessionId:""}get $C(){return NaN}get JC(){return this.Fx.PL}get ix(){return this.Yx}ux(t,i,e){const s=e&&e.fairplay&&e.fairplay.iO;if(!s)throw new k("Expected FairPlay contentId to be defined but was "+s+".");const n=function(t,i,e){const s=ya(t),n=2*s.length,r=2*i.length;let h=new ArrayBuffer(4+n+4+r+4+e.byteLength),o=new DataView(h),a=new Or;return su(o,a,n,!0),YA(o,a,s,!0),su(o,a,r,!0),YA(o,a,i,!0),su(o,a,e.byteLength,!0),LA(o,a,e),new T(h)}(ts(i),s,this.eO);return this.tO=this.sO.createSession(this.qx,n),this.tO.addEventListener("webkitkeymessage",this.Xx,!1),this.tO.addEventListener("webkitkeyadded",this.Zx,!1),this.tO.addEventListener("webkitkeyerror",this.Ss,!1),this.Kx("status-pending"),this.nO.jL(this.tO),this.nO=new Eo,Promise.resolve()}$n(t){return Promise.resolve(!0)}async Qn(t){const i=ts(t);if(0===i.byteLength)throw new k("Cannot call update with an empty response.");this.rO=new Eo;(this.tO||await this.nO.PL).update(i),await this.rO.PL}Ws(){var t;const i=this.tO;return i&&(i.removeEventListener("webkitkeymessage",this.Xx,!1),i.removeEventListener("webkitkeyadded",this.Zx,!1),i.removeEventListener("webkitkeyerror",this.Ss,!1),i.close()),this.nO.c_(),null==(t=this.rO)||t.c_(),this.Fx.jL(void 0),this.Fx.PL}pN(){return Promise.resolve(void 0)}Kx(t){this.Yx.OL(),this.Yx.xL(Se,t),this.Co(new Ke(this))}constructor(t,i,e){super(),this.sO=t,this.qx=i,this.eO=e,this.Fx=new Eo,this.rO=void 0,this.Yx=new Fs,this.tO=void 0,this.nO=new Eo,this.Ss=()=>{const t=this.tO&&this.tO.error;if(!t)return;const i=new oi("Unknown CDM error",t.code,t.systemCode);this.rO?(this.rO.zL(i),this.rO=void 0):i.BL===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Kx("output-not-allowed"):this.Kx("internal-error"),this.Co(new $y)},this.Xx=t=>{this.Co(new Bs(this,"license-request",Ae(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},this.Zx=()=>{this.rO&&(this.rO.jL(void 0),this.rO=void 0),this.Kx("usable")}}};var ON=class{getInternalMediaKeys(){return this.sO}async vx(t){if(!this.eO)throw new ce(y_.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return new xN(this.sO,this.qx,this.eO)}yx(t){return this.eO=ts(t),Promise.resolve(!0)}bn(t){return t.webkitSetMediaKeys(this.sO),Promise.resolve()}Mx(t){return t.webkitSetMediaKeys(null),Promise.resolve()}Zn(){return Promise.resolve()}constructor(t,i,e){this.sO=t,this.dm=i,this.wd=e,this.eO=void 0;const s=yN(e)||"video/mp4";this.qx=Op(s)}},jN=class{get dm(){return this.fm}Ix(){return this.$x}Nx(){const t=new Ys.WebKitMediaKeys(this.fm);return Promise.resolve(new ON(t,this.fm,this.$x))}constructor(t,i){this.fm=t,this.$x=i}},zN=class{Ox(t,i){try{return Promise.resolve(function(t,i){if(t!==Yw)throw new k(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!PN())throw new k("Unsupported key system "+t);for(let e of i){let i=mN(BN,Jy,t,e);if(i)return new jN(t,i)}throw new k("Unsupported key system configuration for "+t)}(t,i))}catch(t){return Promise.reject(t)}}static Ux(){return PN()}};function PN(){return void 0!==Ys.WebKitMediaKeys&&"function"==typeof Ys.WebKitMediaKeys.isTypeSupported}function BN(t,i){return Ys.WebKitMediaKeys.isTypeSupported(t,i)}r();var RN=class{async Ox(t,i){for(let e of this.hO)try{return await e.Ox(t,i)}catch(t){}throw new k("Unsupported key system configuration for "+t)}constructor(t){this.hO=t}};r(),r(),r(),r(),r();var no=class{oO(t,i){return new Promise((e=>{const s=new xs;s.l_(this.aO.a_),i&&s.l_(i);const n=()=>{s.e_()};this.uO.push((()=>{const i=UN(t,s.a_);return e(i),i.then(n,n)})),this.cO||(this.cO=this.lO())}))}c_(){return this.dO(!0)}gn(){return this.fO=void 0,this.dO(!1)}dO(t){const i=this.cO;return this.aO.c_(),t&&(this.aO=new xs),Promise.resolve(i)}constructor(t){this.uO=[],this.cO=void 0,this.aO=new xs,this.lO=()=>{if(0===this.uO.length)return this.fO?UN(this.fO,this.aO.a_).then(this._O,this._O):this._O();return this.uO.shift()().then(this.lO)},this._O=()=>{if(0!==this.uO.length)return this.lO();this.cO=void 0},this.fO=t}};function UN(t,i){return new Promise((e=>e(t(i))))}var QN,FN=new no,YN=class extends i{gO(){this.rO&&(this.Kx("usable"),this.rO.jL(void 0),this.rO=void 0)}wO(t){const i=new oi("Unknown CDM error",t.errorCode,t.systemCode);this.rO?(this.rO.zL(i),this.rO=void 0):this.Vx?(this.Vx.zL(i),this.Vx=void 0):i.BL===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Kx("output-restricted"):1===i.RL?this.Kx("expired"):this.Kx("internal-error")}AO(t){0!==t.message.byteLength&&(this.Vx&&(this.Vx.jL(void 0),this.Vx=void 0),this.Co(new Bs(this,"license-request",eM(this.fm,Ae(t.message).buffer),t.defaultURL||void 0)))}vO(t){this.mO||(this.mO=t,this.pO.jL(t))}get ix(){return this.yO}get nx(){return this.MO}set nx(t){this.MO=t}get JC(){return this.Fx.PL}get $C(){return NaN}async Ws(){this.throwIfClosed(),this.rO&&(this.rO.zL(void 0),this.rO=void 0),this.XL=!0,this.Fx.jL(void 0)}async ux(t,i){this.throwIfClosed(),this.Vx=new Eo,this.TO=ts(i);(this.mO||await this.pO.PL).webkitGenerateKeyRequest(this.fm,this.TO),await this.Vx.PL}async $n(t){return this.throwIfClosed(),!1}async pN(){this.throwIfClosed()}async Qn(t){if(this.throwIfClosed(),this.rO=new Eo,Zt.Ib||Zt.Mb)return FN.oO((async()=>{await this.doUpdate(t)}));await this.doUpdate(t)}async doUpdate(t){if(void 0===this.rO)return;(this.mO||await this.pO.PL).webkitAddKey(this.fm,ts(t),this.TO,this.nx),await this.rO.PL,Zt.Mb&&await ws(500)}throwIfClosed(){if(this.XL)throw new k("Already closing or closed.")}Kx(t){this.yO.OL(),this.yO.xL(Se,t),this.Co(new Ke(this))}async DO(){const t=this.mO||await this.pO.PL;if(t.webkitCancelKeyRequest)try{t.webkitCancelKeyRequest(this.fm,this.MO)}catch(t){}finally{await ws(500)}}constructor(t){super(),this.fm=t,this.Vx=void 0,this.rO=void 0,this.XL=!1,this.TO=void 0,this.mO=void 0,this.Fx=new Eo,this.MO="",this.pO=new Eo,this.yO=new Fs}},GN=class{bn(t){return this.mO=t,this.mO.addEventListener("webkitkeyadded",this.Zx),this.mO.addEventListener("webkitkeyerror",this.IO),this.mO.addEventListener("webkitkeymessage",this.SO),this.EO.forEach(((i,e)=>i.vO(t))),this.bO.forEach((i=>i.vO(t))),Promise.resolve()}Mx(t){return t.removeEventListener("webkitkeyadded",this.Zx),t.removeEventListener("webkitkeyerror",this.IO),t.removeEventListener("webkitkeymessage",this.SO),this.mO=void 0,Promise.resolve()}async Zn(){let t=this.EO.entries(),i=t.next();for(;!i.done;)await i.value[1].DO(),i=t.next();this.EO.clear()}async vx(t,i,e){const s=new YN(this.dm);return this.mO&&s.vO(this.mO),this.bO.push(s),s}yx(t){return Promise.resolve(!1)}LO(t){if(!t)return;let i=this.EO.get(t);return i||(i=this.bO.shift(),i?(i.nx=t,this.EO.set(t,i),i):void 0)}constructor(t,i){this.dm=t,this.wd=i,this.mO=void 0,this.EO=Qt(),this.bO=[],this.Zx=t=>{const i=this.LO(t.sessionId);i&&i.gO()},this.IO=t=>{const i=this.LO(t.sessionId);i&&i.wO(t)},this.SO=t=>{const i=this.LO(t.sessionId);i&&i.AO(t)}}},VN=class{Nx(){return Promise.resolve(new GN(this.dm,this.kO))}Ix(){return this.kO}constructor(t,i){this.dm=t,this.kO=i}};function di(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function sn(t){if(!t)return;let i;for(;li(i=t.firstChild);)t.removeChild(i)}function WN(t){const i=t.className;return"string"==typeof i?i:i&&"string"==typeof i.baseVal?i.baseVal:""}function HN(t,i){const e=t.className;"string"==typeof e?t.className=i:e&&"string"==typeof e.baseVal&&(e.baseVal=i)}function qN(t,i){return void 0!==t.classList?t.classList.contains(i):void 0!==t.className&&-1!==(" "+WN(t)+" ").indexOf(" "+i+" ")}function Du(t,i){if(void 0!==t.classList)t.classList.add(i);else if(void 0!==t.className){const e=WN(t);-1===(" "+e+" ").indexOf(" "+i+" ")&&HN(t,(e+" "+i).trim())}}function XN(t,i){if(void 0!==t.classList)t.classList.remove(i);else if(void 0!==t.className){let e=" "+WN(t)+" ";const s=" "+i+" ";for(;-1!==e.indexOf(s);)e=e.replace(s," ");HN(t,e.trim())}}function ZN(t,i,e){void 0===e&&(e=!qN(t,i)),e?Du(t,i):XN(t,i)}function KN(t){t.stopPropagation()}function JN(t,i){Zt.Mb&&Zt.Nb<3?function(t,i){let e=i;switch(i){case"flex":e="-webkit-flex";break;case"inline-flex":e="-webkit-inline-flex"}t.display=e}(t,i):function(t,i){if(t.display=i,t.display!==i){let e=i;switch(i){case"flex":e="-ms-flexbox";break;case"inline-flex":e="-ms-inline-flexbox"}t.display=e}}(t,i)}function an(t,i){const e=i.style;if(e)for(const i of _.keys(t)){const s=t[i];void 0!==s&&(e[i]=s)}}function ta(t){const i=t.style;i.position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%"}function $N(t){t.removeAttribute("title")}function tD(t){t.addEventListener("mouseover",(t=>{$N(t.target)}))}function iD(t){try{return Boolean(t)&&t===t.top}catch(t){return!1}}function on(t){try{return Boolean(t)&&t.parent!==t}catch(t){return!1}}function Is(t){return"video"===function(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||""}(t)}function eD(t){t.src&&(t.removeAttribute("src"),t.load()),t.srcObject&&(t.srcObject=null,t.load())}function sD(){return void 0!==h?h.createElement("video"):void 0}function Ve(){return QN||(QN=sD()),QN}r(),r();var nD,wt,rD=class{Ox(t,i){try{return Promise.resolve(function(t,i){if(!rD.Ux())throw new k("Unsupported key system "+t);for(let e of i){let i=mN(hD,Ky,t,e);if(i)return new VN(t,i)}throw new k("Unsupported key system configuration for "+t)}(t,i))}catch(t){return Promise.reject(t)}}static Ux(){return ku()}};function hD(t,i){const e=Ve();return!(!e||!e.canPlayType||""===e.canPlayType(i,t))}function oD(){return nD||(nD=function(){const t=[];zN.Ux()&&t.push(new zN);IN.Ux()&&t.push(new IN);LN.Ux()&&t.push(new LN);rD.Ux()&&t.push(new rD);return new RN(t)}()),nD}r(),r(),function(t){t[t.CO=0]="CO",t[t.xO=1]="xO"}(wt||(wt={})),r(),r();var Xc=class extends mg{constructor(t){super(er.Mv),this.currentTime=t}};r();var Vi=class extends mg{constructor(t){super(er.Tv),this.currentTime=t}},aD=[er.Mw,er.Tv,t.jh,t.Sh],uD=class extends i{OO(t){!this.jO&&t>=Os.Gn&&(this.jO=!0,this.Co(new cs(this.zO.j_,t)))}PO(t){!this.BO&&t>=Os.iN&&(this.BO=!0,this.Co(new rs(this.zO.j_,t)))}RO(t){this.UO||(t>=Os.eN&&this.QO<Os.eN&&!this.zO.hg||this.FO&&t>=Os.eN)&&this.Co(new Vi(this.zO.j_))}YO(t){!this.GO(t)||this.zO.R_||this.zO.lt||this.Co(new Xc(this.zO.j_))}VO(t){this.QO<=Os.iN&&t>=Os.eN&&this.Co(new Wt(this.zO.j_,t))}maybeDispatchCanPlayThroughEvent(t){t===Os.sN&&this.Co(new fs(this.zO.j_,t))}GO(t){const i=!this.zO.hg&&t<=Os.iN,e=!this.WO&&this.QO<=Os.iN;return i&&!e}get FO(){return!this.zO.hg&&this.WO}Zn(){this.QO=Os.tN,this.WO=!0,this.BO=!1,this.jO=!1}gn(){this.Vo(),this.UO&&this.zO.fn(er.Tv,this.HO),this.zO.fn(t.jh,this.qO),this.zO.fn(t.Sh,this.XO),this.zO.fn(er.Mw,this.ZO)}constructor(i,e=!1){super(),this.zO=i,this.UO=e,this.QO=Os.tN,this.WO=!0,this.BO=!1,this.jO=!1,this.ZO=t=>{const i=this.zO.vg;i!==this.QO&&this.Co(new Jh(t.currentTime,i)),i===Os.tN&&(this.BO=!1,this.jO=!1),this.OO(i),this.PO(i),this.VO(i),this.maybeDispatchCanPlayThroughEvent(i),this.RO(i),this.YO(i),this.QO=i},this.qO=()=>{this.YO(this.QO),this.RO(this.QO),this.WO=this.zO.hg},this.XO=()=>{this.WO=this.zO.hg},this.HO=t=>{this.Co(new Vi(t.currentTime))},this.zO.yn(er.Mw,this.ZO),this.zO.yn(t.jh,this.qO),this.zO.yn(t.Sh,this.XO),this.UO&&this.zO.yn(er.Tv,this.HO)}},cD=class extends i{get j_(){return this.zO.j_}get R_(){return this.zO.R_}get lt(){return this.zO.lt}get hg(){return this.zO.hg}get vg(){return this.zO.vg}e_(){this.Vo(),this.zO.fn(aD,this.Ds)}constructor(t){super(),this.zO=t,this.zO.yn(aD,this.Ds)}};r(),r(),r(),r();var Ms=class{KO(){return this.JO}$O(t){this.JO=t}get tj(){return this.gE}get ij(){return!1}get ej(){const t=this.sj.certificate;if(t)return ae(t)?mi(t):ts(t)}nj(){return this.sj.licenseAcquisitionURL||this.KO()}get rj(){return!1}hj(t){return Promise.resolve()}aj(t,i){return Promise.resolve(void 0)}get uE(){return Boolean(this.sj.useCredentials)}async uj(t,i,e,s){const n=this.cj(t,i,e,s);if(""===n.zu)throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");try{const t=await this.tj.mS(n);return await t.lj(i)}catch(t){return go(t),void await this.dj(t,n.zu,s)}}cj(t,i,e,s){const n=this._j().PS(),r=this.uE,h={zu:this.gj(),rE:i,sE:n,eE:t,uE:r,nE:Yc.POST,NS:0,a_:s,hA:Ru.GS,oE:e};return new Uu(h)}wj(t,i){return Promise.resolve(t)}Aj(t,i,e,s){return Promise.resolve(t)}_j(){return new Yo(this.sj.headers||{})}async dj(t,i,e){throw new Qr(y_.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)}gj(t,i){let e=i;const s=this.sj.queryParameters;if(!e){const t=this.nj();if(!t)return"";e=t}if(s||t){const i=lg.Dh(e);t&&qc(i,t),s&&qc(i,s),e=i.href}return e}vj(t,i){return lD(t)}mj(t){return new T(t)}async pj(t,i,e){const s=await this.vj(t,e),n=await this.uj(s,this.yj,i,e);return this.mj(n)}gn(){}constructor(t,i,e,s,n){this.JO=void 0,this.dm=t,this.Mj=i,this.Tj=e,this.gE=s,this.yj=n,this.sj=this.Nj(i)}};function lD(t){return Promise.resolve(Ae(t).buffer)}var Tu,Zs=class extends Ms{Nj(t){return t.widevine||{}}async Dj(t,i){return this.ej?this.ej:this.Ij(new T(t),i)}Ij(t,i){return super.pj(t,ss.qS,i)}constructor(t,i,e,s){super(Vy,t,i,e,s)}};r(),function(t){t.qv="Widevine",t.Sj="PlayreadyV2",t.Ej="PlayreadyV3",t.Hv="PlayreadyV2",t.Xv="Fairplay"}(Tu||(Tu={}));var dD={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function fD(t,i){var e,s,n,r;const h=dD[i],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=lg.bj)?void 0:e.Ys,OSVersion:null==(s=lg.bj)?void 0:s.Lj,DRMProvider:h.DRMProvider,DRMVersion:h.DRMVersion,DRMType:h.DRMType,DeviceVendor:null==(n=lg.bj)?void 0:n.Cj,DeviceModel:null==(r=lg.bj)?void 0:r.xj}}}function _D(t,i){if(!t.accountName)throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function gD(t,i,e){let s;if(_v(t))s={AuthToken:t.authToken,Payload:i};else{if(!gv(t))throw _D(t,e);s={LatensRegistration:fD(t,e),Payload:i}}return nA(JSON.stringify(s))}async function wD(t,i,e){const s=t.yS;if(!s)throw new Qr(y_.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);const n=s;let r,h;try{r=await n.Oj(e),h=function(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}return}(r)}catch(t){h=""}throw new Qr(y_.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n.mS.zu,n.TS,n.jj,h)}r();var AD=class extends Zs{static zj(){return lg.Ys.Pj?"required":"optional"}dj(t,i,e){return wD(t,i,e)}hj(t){return this.Bj?hh(this.Bj.PL,t):(this.Bj=new Eo,Promise.resolve())}async vj(t,i){const e=this.Mj;if(!e)throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return gD(e,Ot(t),Tu.qv)}mj(t){let i;if(!t.license)throw new Qr(y_.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=mi(t.license),i}Rj(t){return Promise.resolve(new T(t))}async Dj(t,i){this.Uj();const e=await this.vj(t,i),s=await this.uj(e,Rt.OS,ss.XS,i);return await this.Rj(s)}async Ij(t,i){const e=await super.Ij(t,i);return this.Uj(),e}Uj(){this.Bj||(this.Bj=new Eo),this.Bj.jL()}gn(){this.Bj&&this.Bj.c_(),super.gn()}constructor(t,i,e){super(t,i,e,Rt.jS),this.Bj=void 0}};r();var vD=class extends Zs{get Qj(){if(Xh(this.Mj))return this.Mj.token}async vj(t,i){const e=await lD(t),s=this.Tj,n=ZA(new T(e)),r=this.Qj;if(!r)throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return JSON.stringify({token:r,drm_info:n,kid:s})}constructor(t,i,e){super(t,i,e,Rt.OS),this.$O("https://widevine-proxy.drm.technology/proxy")}};function mD(t,i){let e=i||{};return t.ticket&&t.sessionId&&(e=At({},e,{SessionId:t.sessionId,Ticket:t.ticket})),At({},e,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}r(),r();var pD=class extends Zs{gj(t,i){let e=t;return dv(this.Mj)&&(e=mD(this.Mj,e)),super.gj(e,i)}constructor(t,i,e){super(t,i,e,Rt.OS),this.$O("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense")}};r(),r();var yD="Conax-Custom-Data";function MD(t,i,e){const s=t&&lv(t)&&t;if(s&&!e.has(yD)){const t=bw(s)?s.token:void 0,n=bw(s)?s.deviceId:void 0,r=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:t,CxClientInfo:{DeviceType:"Browser",DrmClientType:i+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:n}});e.set(yD,r)}return e}var TD=class extends Zs{_j(){const t=super._j();return MD(this.Mj,"Widevine",t)}constructor(t,i,e){super(t,i,e,Rt.OS),this.$O("https://connect.conax.com:8094/license")}};function ND(t){const i=ns(new T(t));return mi(JSON.parse(i).license)}function DD(t){return"string"==typeof t.token?t.token:nA(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function ID(t,i,e){let s;return s=e.token?"x-dt-auth-token":"dt-custom-data",t.set(s,i),t}r(),r();var SD=class extends Zs{get Qj(){return DD(this.Mj)}mj(t){return ND(t)}_j(){return ID(super._j(),this.Qj,this.Mj)}constructor(t,i,e){super(t,i,e,Rt.OS),this.$O("https://lic.drmtoday.com/license-proxy-widevine/cenc/")}};r();var ED=class extends Zs{_j(){const t=super._j(),i=this.Mj.token;return t.set("Authorization","Bearer "+i),t}constructor(t,i,e){super(t,i,e,Rt.OS)}};async function R(t,i,e,s){if(!wv(t))throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");const n=new Yo;n.append("Cache-Control","no-cache"),n.append("Content-Type","application/json");const r=t.sessionId;r&&n.append("XSSESSION",r);const h=t.streamId;let o;o=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent";const a={drmType:i,licenseType:o,streamId:h},u={zu:t.ticketAcquisitionURL,rE:Rt.jS,sE:n,nE:Yc.POST,eE:JSON.stringify(a),a_:s},c=await e.mS(u);return await c.Oj()}r(),r();var bD=class extends Zs{_j(){const t=super._j();return t.set("Content-Type","application/json"),t}async vj(t,i){const e=sA(t.buffer),s=this.Mj,n=await R(s,"widevine_modular",this.tj,i);this.$O(n.licenseServerUrl);const r=ja(JSON.stringify({payload:e,ticket:n.ticket}));return super.vj(r,i)}mj(t){return mi(t.license)}constructor(t,i,e){super(t,i,e,Rt.jS)}};r();var LD=class extends Zs{_j(){if(!Vo(this.Mj))throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");const t=super._j();return t.set("X-AxDRM-Message",this.Mj.token),t}constructor(t,i,e){super(t,i,e,Rt.OS)}};function kD(t){const i=new T(2*t.length);for(let e=0;e<t.length;e+=1)i[2*e]=t.charCodeAt(e),i[2*e+1]=0;return i}r();var Fr=class extends Ms{Nj(t){return t.playready||{}}_j(){const t=new Yo(this.Fj);return t.US(super._j()),t}Yj(t){return t.length>=1&&t[0].lS.length>0}aj(t){const i=this.Mj.playready.customData;if(i){const t=kD(i),e=kD('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Ot(t)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return Promise.resolve({playready:{Wx:e}})}return super.aj(t)}async vj(t,i){const e=await lD(t);return this.Gj(e)}async Gj(t){var i,e;let s=null;const n=wa(new DataView(t),new Or,!0);let r;try{r=lg.oS(n)}catch(t){return s}const h=null==(i=r.nS("PlayReadyKeyMessage")[0])?void 0:i.nS("LicenseAcquisition")[0];var o;const a=null!=(o=null==h?void 0:h.nS("Challenge"))?o:[];this.Yj(a)&&(s=ma(a[0].Vj));const u=new Yo;var c;const l=null!=(c=null==h||null==(e=h.nS("HttpHeaders")[0])?void 0:e.nS("HttpHeader"))?c:[];for(const t of l){const i=t.nS("name")[0].Vj,e=t.nS("value")[0].Vj;u.append(i,e)}return this.Fj=u,s}Dj(t,i){return Promise.resolve(t)}Ij(t,i){return super.pj(t,ss.ZS,i)}constructor(t,i,e){super(Gy,t,i,e,Rt.OS),this.Fj=void 0}};r(),r();var pt=class t{static Wj(t){return"3"===t.version?Tu.Ej:Tu.Sj}Hj(){const t={};if(this.jC===Tu.Ej){const i={LatensRegistration:fD(this.qj,Tu.Ej)};t["X-TITANIUM-DRM-CDATA"]=nA(JSON.stringify(i))}return t}get Xj(){return this.jC}get Rx(){return this.jC===Tu.Sj}constructor(i){this.qj=i,this.jC=t.Wj(i)}};var CD=class extends Fr{aj(t){const i=this.Mj;if(!this.Mj)throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(gv(i)){const t={};return t.playready={Wx:xD(i,this.Zj.Xj)},Promise.resolve(t)}return Promise.reject(_D(i,Tu.Hv))}_j(){const t=new Yo(this.Zj.Hj());return t.US(super._j()),t}async dj(t,i,e){const s=t.yS;if(!s)throw new Qr(y_.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i);let n,r;try{const t=await s.Kj(e),i=ns(new T(t)),o=lg.oS(i);if(o){const t=function(t,i){return function(t,i){const e=t.m.slice(),s=[];for(;e.length>0;){const t=e.shift();i(t)?s.push(t):e.push(...t.m)}return s}(t,(t=>t.Jj===i))}(o,"CustomData");var h;if(t.length>0)n=JSON.parse(t[0].Vj),r=null==(h=n.DrmErr)?void 0:h.desc}}catch(t){}throw new Qr(y_.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i,s.TS,s.jj,r)}Yj(t){if(1!==t.length)throw new Qr(y_.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0}constructor(t,i,e){super(t,i,e),this.Zj=new pt(this.Mj)}};function xD(t,i){const e=fD(t,i),s=e.DeviceInfo.FormatVersion,n=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}(function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}("<TitaniumCustomData>"+nA('<LatensRegistration formatversion="'+s+'"><AccountName>'+e.AccountName+"</AccountName><CustomerName>"+e.CustomerName+"</CustomerName><PortalID>"+e.PortalId+'</PortalID><DeviceInfo formatversion="'+s+'"><DeviceType>'+e.DeviceInfo.DeviceType+"</DeviceType><OSType>"+e.DeviceInfo.OSType+"</OSType><OSVersion>"+e.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+e.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+e.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+e.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+e.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+e.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>")+"</TitaniumCustomData>")),r=VA(n,!0);return VA('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Ot(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}r();var OD=class extends Fr{get Qj(){if(Xh(this.Mj))return this.Mj.token}Yj(t){if(1!==t.length)throw new Qr(y_.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0}gj(t,i){const e=At({},t||{},{token:this.Qj});return super.gj(e,i)}constructor(t,i,e){super(t,i,e),this.$O("https://playready-license.drm.technology/rightsmanager.asmx")}};r();var jD=class extends Fr{gj(t,i){let e=t;return dv(this.Mj)&&(e=mD(this.Mj,e)),super.gj(e,i)}constructor(t,i,e){super(t,i,e),this.$O("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx")}};r();var zD=class extends Fr{_j(){const t=super._j();return MD(this.Mj,"PlayReady",t)}constructor(t,i,e){super(t,i,e),this.$O("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx")}};r();var PD,BD=class extends Fr{get Qj(){return DD(this.Mj)}mj(t){const i=function(t){const i=ns(new T(t));return ew(i,"<?xml")?0:1}(t);return 1===i?ND(t):super.mj(new T(t))}_j(){return ID(super._j(),this.Qj,this.Mj)}constructor(t,i,e){super(t,i,e),this.$O("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx")}};!function(t){t[t.$j=0]="$j",t[t.Oj=1]="Oj"}(PD||(PD={})),r();var RD=class extends Fr{_j(){const t=super._j();return this.tz&&t.set("Ticket",this.tz),t.set("Content-Type","text/xml"),t}async vj(t,i){const e=this.Mj,s=await R(e,"playready",this.tj,i);return this.$O(s.licenseServerUrl),this.tz=s.ticket,super.vj(t,i)}constructor(t,i,e){super(t,i,e)}};r();var ne,UD=class extends Fr{_j(){if(!Vo(this.Mj))throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");const t=super._j();return t.set("X-AxDRM-Message",this.Mj.token),t}};r(),r(),function(t){t.jS="application/json",t.iz="application/x-www-form-urlencoded",t.ez="application/octet-stream",t.Ru="text/plain;charset=UTF-8"}(ne||(ne={}));var Ko=class extends Ms{get rj(){return!0}sz(){return this.sj.certificateURL||this.nz}rz(t){this.nz=t}vj(t){return Promise.resolve(this.oz(t,this.cz))}oz(t,i){return"spc="+encodeURIComponent(Ot(t))+"&assetId="+encodeURIComponent(i)}get lz(){return ne.iz}Nj(t){return t.fairplay||{}}fz(t){const i=t.indexOf("?");if(i>=0)return Promise.resolve(t.substr(i+1));{const i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return Promise.resolve(i)}const e=t.split("/");return Promise.resolve(e[e.length-1])}}async aj(t){var i;const e=null!=(i=this._z)?i:ya(new T(t)),s=await this.fz(e);this.cz=s;const n={};return n.fairplay={iO:s},n}_j(){const t=super._j();return t.set("Content-Type",this.lz),t}async Dj(t,i){return this.ej?this.ej:await this.gz(i)}Ij(t,i){return super.pj(t,ss.WS,i)}wz(t){const i=this.sz(),e=this._j(),s={zu:i,rE:Rt.OS,sE:e,nE:Yc.GET,uE:!1,eE:null,NS:0,a_:t,hA:Ru.GS,oE:ss.HS};return new Uu(s)}async gz(t){const i=this.wz(t),e=await this.tj.mS(i),s=await e.Kj();return new T(s)}mj(t){let i;if("string"==typeof t){let e=t.trim();"<ckc>"===e.substr(0,5)&&"</ckc>"===e.substr(-6)&&(e=e.slice(5,-6)),i=mi(e)}else i=new T(t);return i}gj(t,i){let e=super.gj(t,i);return ew(e,"skd:")&&(e=e.substr(4)),e}constructor(t,i,e,s,n){super(t.dm,i,e,s,n),this.cz="",this.nz=void 0,this._z=t.Az}};function QD(t){return!j(t.getTime())}function Qo(){return Date.now()||(new Date).getTime()}function FD(t){return t/1e3}function qt(t){return 1e3*t}r(),r();var kc=1/6,YD=Ce.fromNumber(Q_);function vt(t,i){if(0===i)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(YD))return t.toNumber()/i;const e=t.divide(i),s=t.subtract(e.multiply(i));return e.toNumber()+s.toNumber()/i}var GD=class extends Ko{get lz(){return ne.ez}fz(t){let i=t.split("://",1);return"skd"!==i[0].slice(-3).toLowerCase()?Promise.resolve(""):(i=t.split(";",2),i.length>1?Promise.resolve(i[1]):Promise.resolve(super.fz(t)))}async vj(t){return t}mj(t){return new T(t)}gj(t,i){const e=t||{};return e.p1=Qo(),super.gj(e,i)}constructor(t,i,e,s){super(t,i,e,s,Rt.OS)}};r();var VD=class extends Ko{get lz(){return ne.jS}get Qj(){if(!Xh(this.Mj))throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.Mj.token}oz(t,i){const e={token:this.Qj,contentId:i,payload:Ot(t)};return JSON.stringify(e)}mj(t){return new T(t)}_j(){const t=super._j();return t.set("x-vudrm-token",this.Qj),t}constructor(t,i,e,s){super(t,i,e,s,Rt.OS),this.$O("https://fairplay-license.drm.technology/license"),this.rz("https://fairplay-license.drm.technology/certificate")}};r();var WD="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",HD="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",qD=class extends Ko{mj(t){const i=function(t){let i;try{i=JSON.parse(t).ckc}catch(t){throw new Qr(y_.CONTENT_PROTECTION_LICENSE_INVALID,WD)}if(!i)throw new Qr(y_.CONTENT_PROTECTION_LICENSE_ERROR,HD);return i}(ns(new DataView(t)));return super.mj(i)}constructor(t,i,e,s){super(t,i,e,s,Rt.OS)}};r();var XD=class extends Ko{get lz(){return ne.jS}async vj(t){const i=this.Mj;if(!i)throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return gD(i,Ot(t),Tu.Xv)}mj(t){try{let i;if(ae(t)){const e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){const t=ma(i.license);return new T(t)}throw new Qr(y_.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new Qr(y_.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}}dj(t,i,e){return wD(t,i,e)}constructor(t,i,e,s){super(t,i,e,s,Rt.jS)}};r();var ZD=class extends Ko{sz(){const t=super.sz();if(!t)return t;const i=lg.Dh(t),e=this.Mj;return dv(e)&&qc(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href}fz(t){return dv(this.Mj)?Promise.resolve(this.Mj.contentId):super.fz(t)}async vj(t){return t}mj(t){return new T(t)}get lz(){return ne.ez}gj(t,i){let e=t;return dv(this.Mj)&&(e=function(t,i){return At({},mD(t,i),{KeyId:t.keyId})}(this.Mj,e)),super.gj(e,i)}constructor(t,i,e,s){super(t,i,e,s,Rt.OS),this.$O("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),this.rz("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate")}};r();var KD=class extends Ko{_j(){const t=super._j();return MD(this.Mj,"FairPlay",t)}async gz(t){const i={zu:this.sz(),rE:Rt.OS,sE:{},nE:Yc.GET,uE:!1,eE:null,NS:0,a_:t,hA:Ru.GS,oE:ss.HS},e=await this.tj.mS(i),s=await e.Kj();return new T(s)}async vj(t){return t}fz(t){const i=t.indexOf("?");if(0===t.indexOf("skd://")){let e;return e=i>=0?t.substring(6,i):t.substring(6),Promise.resolve(function(t){return ns(mi(t))}(e))}return Promise.resolve("unknown")}mj(t){try{const i=JSON.parse(t);return new T(ma(i.CkcMessage))}catch(t){throw new b("CFLRW-66")}}constructor(t,i,e,s){if(super(t,i,e,s,Rt.Ru),!lv(i))throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");this.$O("https://connect.conax.com:8097/license")}};r();var JD=class extends Ko{fz(t){return ew(t,"skd://")?Promise.resolve(t.substring(6,40)):Promise.reject(new Qr(y_.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))}oz(t,i){return"spc="+Ot(t)+"&assetId="+i}constructor(t,i,e,s){super(t,i,e,s,Rt.Ru),this.$O(ev[Ci.Xv])}};r();var $D=class extends Ko{get Qj(){return DD(this.Mj)}oz(t,i){const e="spc="+encodeURIComponent(Ot(t))+"&"+encodeURI(i);return"persistent"===this.sj.licenseType?e+"&offline=true":e}_j(){return ID(super._j(),this.Qj,this.Mj)}constructor(t,i,e,s){super(t,i,e,s,Rt.Ru),this.$O("https://lic.drmtoday.com/license-server-fairplay/")}};r();var tI=class extends Ko{fz(t){let i=t;return ew(i,"skd:")&&(i="http:"+i.substring(4)),ew(i,"http:")||ew(i,"https:")?Promise.resolve(lg.Dh(i).hostname):Promise.reject(new b("Could not parse ExpressPlay FairPlay content ID."))}async vj(t){return t}mj(t){return new T(t)}get lz(){return ne.ez}constructor(t,i,e,s){super(t,i,e,s,Rt.OS)}};r();var iI=class extends Ko{_j(){const t=super._j(),i=this.Mj.token;return t.set("Authorization","Bearer "+i),t}constructor(t,i,e,s){super(t,i,e,s,Rt.Ru)}};r();var eI=class extends Ko{async gz(t){const i=this.sz(),e=this._j(),s={zu:i,rE:Rt.jS,sE:e,nE:Yc.POST,a_:t,hA:Ru.GS,oE:ss.HS},n=await this.tj.mS(s),r=await n.Oj();return new T(mi(r.certificate))}get lz(){return ne.jS}async Ij(t,i,e){void 0===e&&(e=Rt.Ru);const s=Ot(t),n=this.Mj,r=await R(n,"fairplay",this.tj,i),h=ja(JSON.stringify({spc:s,ticket:r.ticket})),o={zu:this.nj(),rE:Rt.jS,sE:this._j(),nE:Yc.POST,eE:h,NS:0,a_:i,hA:Ru.GS,oE:ss.WS},a=await this.tj.mS(o);return mi((await a.Oj()).licence)}constructor(t,i,e,s){if(super(t,i,e,s,Rt.jS),!wv(i))throw new b("Invalid Xstream DRM configuration")}};r();var sI=class extends Ko{oz(t,i){return Ot(t)}mj(t){if(0===t.length)throw new Qr(y_.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return super.mj(t)}_j(){const t=super._j();return t.set("Content-Type","text/plain"),t}constructor(t,i,e,s){super(t,i,e,s,Rt.Ru)}};r();var nI=class extends Ko{get lz(){return ne.jS}oz(t,i){return t}mj(t){return new T(t)}_j(){if(!Vo(this.Mj))throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");const t=super._j();return t.set("X-AxDRM-Message",this.Mj.token),t}constructor(t,i,e,s){super(t,i,e,s,Rt.OS)}};r();var rI=class extends Ko{get lz(){return ne.Ru}oz(t,i){const e={spc:Ot(t)};return JSON.stringify(e)}fz(t){const i=lg.Dh(t);return this.vz=t,i.searchParams.has("b")?Promise.resolve(i.searchParams.get("b")):Promise.reject(new Qr(y_.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))}gj(t,i){let e=this.nj();return!e&&this.vz&&(e=this.vz),e&&(e=e.replace("skd://","https://")),super.gj(t,i||e)}mj(t){try{let i;if(i=ae(t)?JSON.parse(t.trim()):t,i.ckc)return mi(i.ckc)}catch(t){throw new Qr(y_.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new Qr(y_.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")}constructor(t,i,e,s){super(t,i,e,s,Rt.jS),this.vz=void 0}};r(),r(),r();var Ye=class{mz(t){return this.pz(t)}yz(t,i){throw new k(i+" must be "+this.Mz+". (Received: "+t+")")}constructor(t,i){this.pz=t,this.Mz=i}},Ii=(new Ye((function(t){return!0}),"any"),new Ye(B_,"a number")),P=new Ye(ae,"a string"),hI=new Ye(z_,"a boolean"),gh=(new Ye(P_,"a date"),new Ye(j_,"undefined")),oI=new Ye(Mi,"an object"),aI=new Ye((function(t){return null===t}),"null");new Ye((function(t){return null==t}),"null or undefined");function uI(t,i){throw new k(i+" has an incorrect type")}function tn(t){return{mz(i){if(!Mi(i))return!1;for(const e of _.keys(t)){if(!t[e].mz(i[e]))return!1}return!0},yz(i,e){if(!Mi(i))throw new k(e+" must be an object.");for(const s of _.keys(t)){const n=t[s];if(!n.mz(i[s]))return n.yz(i[s],e+"."+String(s))}throw new k}}}function cI(t){return _.keys(t).map((i=>t[i]))}function si(t){return{mz:i=>Ho(t,i),yz:uI}}function ii(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return{mz:t=>i.some((i=>i.mz(t))),yz:uI}}function ki(t){return{mz:i=>pi(i)&&i.every((i=>t.mz(i))),yz(i,e){if(!pi(i))throw new k(e+" must be an array.");return i.forEach(((i,s)=>{if(!t.mz(i))return t.yz(i,e+"["+s+"]")})),uI(0,e)}}}function Nu(t){return{mz:i=>Mi(i)&&_.keys(i).every((e=>t.mz(i[e]))),yz(i,e){if(!Mi(i))throw new k(e+" must be an object.");for(const s of _.keys(i))if(!t.mz(i[s]))return t.yz(i[s],e+"."+s);return uI(0,e)}}}var lI=tn({responseCode:Ii,isException:hI,description:P,title:P,correlationId:P});async function dI(t,i,e,s,n){const r=function(t,i,e,s){const n={token:i.token,account:i.accountId,form:"json"},r=decodeURIComponent(Jo(e,n)),h=new Yo({});h.append("Content-Type","application/json");const o=Ot(t),a={getFairplayLicense:{releasePid:i.releasePid,spcMessage:o}};return{zu:r,rE:Rt.Ru,sE:h,nE:Yc.POST,eE:JSON.stringify(a),a_:s,hA:Ru.GS,oE:ss.WS}}(t,i,e,n);return await async function(t,i){const e=await i.mS(t),s=await e.Oj();if(lI.mz(s))throw new Qr(y_.CONTENT_PROTECTION_LICENSE_ERROR,s.description,void 0,t.zu,s.responseCode);return mi(s.getFairplayLicenseResponse.ckcResponse)}(r,s)}var fI=class extends Ko{fz(t){const i=t.replace("FairPlay",this.Tz.releasePid);return super.fz(i)}async Ij(t,i){return await dI(t,this.Tz,this.nj(),this.tj,i)}constructor(t,i,e,s){super(t,i,e,s,Rt.OS),this.Tz=i}};r();var _I=class extends Ms{Nj(t){return t.clearkey||{}}async uj(t,i,e,s){const n=this.sj;if(this.nj())return super.uj(t,this.yj,e,s);if(n.keys&&n.keys.length){const t={keys:n.keys.map((t=>{let i=t;return i||(i={}),{kty:"oct",kid:i.id,k:i.value}}))};return HA(JSON.stringify(t)).buffer}throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")}Dj(t,i){return Promise.resolve(new T(0))}async Ij(t,i){const e=await super.pj(t,ss.KS,i),s=JSON.parse(ya(e));if(s.keys)for(const t of s.keys)t.k&&(t.k=$w(t.k)),t.kid&&(t.kid=$w(t.kid));return HA(JSON.stringify(s))}constructor(t,i,e){super(Ka,t,i,e,Rt.OS)}};r();var Z=class extends Zs{};r(),r();var gI={url:"",method:"GET",headers:{},body:null,useCredentials:!1};async function wI(t,i,e){const s=pI(i),n=t.onCertificateRequest;if(!n||"function"!=typeof n)return Promise.resolve(i);const r=await hh(Promise.resolve(n.call(t,s)),e);return XA(r)?ts(r):mI(At({},gI,r))}async function AI(t,i,e,s,n){const r=t.onCertificateResponse,h=vI(i,e,s);if(!r||"function"!=typeof r)return Promise.resolve(i);return ts(await hh(Promise.resolve(r.call(t,h)),n))}async function J(t,i,e,s){const n=await async function(t,i,e,s){const n=null==t?void 0:t.onLicenseRequest,r=Y(i,e);if(!n||"function"!=typeof n)return Promise.resolve(r);0;const h=await hh(Promise.resolve(n.call(t,r)),s);if(XA(h))return ts(h).buffer;return At({fairplaySkdUrl:void 0},gI,h)}(t,i,e,s);return n instanceof ArrayBuffer?n:mI(n)}async function V(t,i,e,s,n,r){const h=Y(e,n),o=await async function(t,i,e,s,n){const r=null==t?void 0:t.onLicenseResponse,h=vI(i,e,s);if(!r||"function"!=typeof r)return Promise.resolve(i);0;const o=await hh(Promise.resolve(r.call(t,h)),n);return ts(o)}(t,new T(i),h,s,r);return ts(o)}function Y(t,i){return At({},pI(t),{fairplaySkdUrl:i})}function vI(t,i,e){return{url:e.AE,status:e.TS,statusText:e.jj,headers:e.sE.PS(),body:t,request:i}}function mI(t){return new Uu({zu:t.url,nE:t.method,sE:t.headers,eE:t.body,uE:t.useCredentials})}function pI(t){var i;return{url:t.zu,body:null!=(i=yI(t.eE))?i:null,headers:t.sE.PS(),method:t.nE,useCredentials:t.uE}}function yI(t){if(t)return"string"==typeof t?HA(t):t instanceof ArrayBuffer?new T(t):aa(t)?ko(t):void 0}var MI=class extends Fr{Dj(t,i){return Promise.resolve(t)}async Ij(t,i){const e=await this.Gj(Ae(t).buffer),s=this.cj(e,Rt.OS,ss.ZS,i),n=await J(this.Nz,s,void 0,i);if(n instanceof ArrayBuffer)return new T(n);if(""===n.zu)throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");try{const t=await this.tj.mS(n),e=await t.Kj(i);return await V(this.Nz,e,s,t,void 0,i)}catch(t){throw go(t),new Qr(y_.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t)}}constructor(t,i,e,s){super(t,i,e),this.Nz=s}};r();var TI=class extends Z{async Dj(t,i){if(this.ej)return this.ej;const e=this.cj(t,Rt.OS,ss.XS,i),s=await wI(this.Nz,e,i);if(s instanceof T)return s;if(""===s.zu)throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");let n,r;try{n=await this.tj.mS(s),r=await n.Kj(i)}catch(t){throw go(t),new Qr(y_.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t)}const h=Y(e,void 0);return await AI(this.Nz,new T(r),h,n,i)}async Ij(t,i){const e=this.cj(t,Rt.OS,ss.qS,i),s=await J(this.Nz,e,void 0,i);if(s instanceof ArrayBuffer)return new T(s);if(""===s.zu)throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");try{const t=await this.tj.mS(s),n=await t.Kj(i);return await V(this.Nz,n,e,t,void 0,i)}catch(t){throw go(t),new Qr(y_.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t)}}constructor(t,i,e,s){super(t,i,e,Rt.OS),this.Nz=s}};r();var NI=class extends Ko{async Dj(t,i){if(this.ej)return this.ej;const e=this.wz(i),s=await wI(this.Nz,e,i);if(aa(s))return s;try{const t=await this.tj.mS(s),n=await t.Kj(),r=Y(e,void 0);return await AI(this.Nz,new T(n),r,t,i)}catch(t){throw go(t),new Qr(y_.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t)}}async Ij(t,i){const e=this.cj(t,Rt.OS,ss.WS,i),s=await J(this.Nz,e,this.Dz,i);if(s instanceof ArrayBuffer)return new T(s);if(""===s.zu)throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");try{const t=await this.tj.mS(s),n=await t.Kj(i);return await V(this.Nz,n,e,t,this.Dz,i)}catch(t){throw go(t),new Qr(y_.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t)}}fz(t){var i;return this.Dz=t,(null==(i=this.Nz)?void 0:i.extractFairplayContentId)?Promise.resolve(this.Nz.extractFairplayContentId(t)):super.fz(t)}constructor(t,i,e,s,n){super(t,i,e,s,Rt.OS),this.Nz=n}},G=class{Iz(t,i,e,s){switch(t.dm.hA){case Ci.qv:return this.Sz(i,e,s);case Ci.Hv:return this.Ez(i,e,s);case Ci.Xv:return this.bz(t,i,e,s);case Ci.Zv:default:return this.Lz(i,e,s)}}Sz(t,i,e){const s=function(t){return t.integration===Dw&&ae(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(s&&Mu.Mm.vm(s,mt)){const n=Mu.Mm.ym(s,mt,t);return new TI(t,i,e,n)}switch(s){case Aw:return new AD(t,i,e);case Sh:return new vD(t,i,e);case Fh:return new pD(t,i,e);case Jc:return new TD(t,i,e);case Oh:return new SD(t,i,e);case jl:return new ED(t,i,e);case Bh:return new bD(t,i,e);case Hh:return new LD(t,i,e);default:return new Z(t,i,e,Rt.OS)}}Ez(t,i,e){const s=t.integration;if(s&&Mu.Mm.vm(s,Xi)){const n=Mu.Mm.ym(s,Xi,t);return new MI(t,i,e,n)}switch(s){case Aw:return new CD(t,i,e);case Sh:return new OD(t,i,e);case Fh:return new jD(t,i,e);case Jc:return new zD(t,i,e);case Oh:return new BD(t,i,e);case Bh:return new RD(t,i,e);case Hh:return new UD(t,i,e);default:return new Fr(t,i,e)}}bz(t,i,e,s){const n=i.integration;if(n&&Mu.Mm.vm(n,qa)){const r=Mu.Mm.ym(n,qa,i);return new NI(t,i,e,s,r)}switch(n){case vw:return new GD(t,i,e,s);case Sh:return new VD(t,i,e,s);case mw:return new qD(t,i,e,s);case Aw:return new XD(t,i,e,s);case Fh:return new ZD(t,i,e,s);case Jc:return new KD(t,i,e,s);case pw:return new JD(t,i,e,s);case Oh:return new $D(t,i,e,s);case yw:return new tI(t,i,e,s);case jl:return new iI(t,i,e,s);case Bh:return new eI(t,i,e,s);case Mw:return new sI(t,i,e,s);case Hh:return new nI(t,i,e,s);case Tw:return new rI(t,i,e,s);case Nw:return new fI(t,i,e,s);default:return new Ko(t,i,e,s,Rt.Ru)}}Lz(t,i,e){return new _I(t,i,e)}kz(t){return t.hA===Ci.Hv||t.hA===Ci.qv||t.hA===Ci.Xv||t.hA===Ci.Zv}Rx(t,i){var e;if(t.hA!==Ci.Hv)return!1;if(li(null==(e=i.playready)?void 0:e.customData))return!0;const s=i.integration;return(!s||!Mu.Mm.vm(s,qa))&&(s===Aw&&new pt(i).Rx)}zj(t,i){if(t.hA!==Ci.qv)return;const e=i.integration;return e&&Mu.Mm.vm(e,qa)?void 0:e===Aw?AD.zj():void 0}};r(),r(),r(),r();var Kt,DI="default",II="theoplayer-stored-network-info-v2",SI=25e5,ua=class{Cz(t){var i;const e=null==(i=lg.xz)?void 0:i.kL(t);if(void 0===e)return;const s=JSON.parse(e);if(void 0!==s&&void 0!==s[this.Oz]){if(!this.jz(s))return s[this.Oz].availableBandwidth;var n;null==(n=lg.xz)||n.zz(t,JSON.stringify({}))}}Pz(){const t=this.Cz(II);if(void 0!==t)return t;const i=this.Cz("theoplayer-stored-network-info");return i?8*i:void 0}jz(t){const i=t[this.Oz].storedTimestamp;return!!i&&Qo()-i>36e5}Bz(t){this.Rz=t,this.Uz()}Qz(){var t;return null!=this.Rz||(this.Rz=null!=(t=this.Pz())?t:SI),this.Rz}constructor(){this.Oz=DI,this.Rz=void 0,this.Uz=uo((()=>{var t;const i={[this.Oz]:{availableBandwidth:this.Rz,storedTimestamp:Qo()}};null==(t=lg.xz)||t.zz(II,JSON.stringify(i))}),1e4)}};ua.gL=new ua,r(),function(t){t[t.Fz=0]="Fz",t[t.Yz=1]="Yz",t[t.Gz=2]="Gz",t[t.Vz=3]="Vz",t[t.Wz=4]="Wz",t[t.Fv=5]="Fv",t[t.qz=6]="qz",t[t.Xz=7]="Xz",t[t.Wv=8]="Wv",t[t.Zz=9]="Zz",t[t.Kz=10]="Kz"}(Kt||(Kt={})),r();var nu=class{get Jz(){return 0}get $z(){return 0}tP(t){}};r();var EI=class{iP(t){this.qj=t}zj(t){const i=this.qj;if(void 0!==i)return this.eP.zj(t,i)}Rx(t){const i=this.qj;return void 0!==i&&this.eP.Rx(t,i)}sP(t){const i={dm:t.dm,nP:t.nP||[],rP:t.rP,Az:t.Az},e=this.eP.Iz(i,this.qj||{},t.Tj,this.gE);return i.rP&&e.$O(i.rP),new bI(e)}constructor(t,i=new G){this.qj=void 0,this.gE=t,this.eP=i}},bI=class{hj(t){return this.hP.hj(t)}aj(t,i,e){return this.hP.aj(i,e)}rj(){return this.hP.rj||void 0!==this.hP.ej}Dj(t,i){return this.hP.Dj(t,i)}Ij(t,i,e){return i&&this.hP.$O(i),this.hP.Ij(t,e)}e_(){this.hP.gn()}constructor(t){this.hP=t}};r();var dh=class extends Di{oP(t){this.aP.push(t);for(const i of t.xw)this.tt(i);this.uP(t)}cP(t){Et(this.aP,t),this.lP(t);for(const i of t.xw)this.dP(i)||this.it(i)}dP(t){for(const i of this.aP)if(i.zw(t))return!0;return!1}uP(t){t.yn(at.ew,this.fP),t.yn(at.hw,this._P)}lP(t){t.fn(at.ew,this.fP),t.fn(at.hw,this._P)}gn(){for(;this.aP.length>0;)this.cP(this.aP[0]);super.gn()}fa(){return Oc(this)}constructor(t){super(),this.aP=[],this.fP=t=>{this.tt(t.Lt)},this._P=t=>{const i=t.Lt;this.dP(i)||this.it(i)};for(const i of t)this.oP(i)}};function LI(t){return{get enabled(){return t.Rt},set enabled(i){t.Rt=Cg(i)},get currentLatency(){return t.Sv},get streamConfiguration(){if(void 0!==t.gP)return function(t){return{get minimumOffset(){return t.aA},get maximumOffset(){return t.cA},get targetOffset(){return t.uA},get forceSeekOffset(){return t.lA},get minimumPlaybackRate(){return t.dA},get maximumPlaybackRate(){return t.fA}}}(t.gP)},get configuration(){return function(t){return{get minimumOffset(){return t.aA},set minimumOffset(i){t.aA=Ih(i)},get maximumOffset(){return t.cA},set maximumOffset(i){t.cA=Ih(i)},get targetOffset(){return t.uA},set targetOffset(i){t.uA=Ih(i)},get forceSeekOffset(){return t.lA},set forceSeekOffset(i){t.lA=Ih(i)},get minimumPlaybackRate(){return t.dA},set minimumPlaybackRate(i){t.dA=Ih(i)},get maximumPlaybackRate(){return t.fA},set maximumPlaybackRate(i){t.fA=Ih(i)},update(i){t.Qn(function(t){const i={};void 0!==t.minimumOffset&&(i.aA=Ih(t.minimumOffset));void 0!==t.maximumOffset&&(i.cA=Ih(t.maximumOffset));void 0!==t.targetOffset&&(i.uA=Ih(t.targetOffset));void 0!==t.forceSeekOffset&&(i.lA=Ih(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(i.dA=Ih(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(i.fA=Ih(t.maximumPlaybackRate));return i}(i))}}}(t.wd)}}}r(),r();var kI,CI=class{get va(){return null!=this.Xa||(this.Xa=LI(this)),this.Xa}get Rt(){return!1}set Rt(t){}get Sv(){}get gP(){}get wd(){return this.wP}constructor(){this.wP={lA:0,cA:0,fA:0,aA:0,dA:0,uA:0,Qn:fg}}};function xI(){return kI||(kI=Ys&&Ys.document&&Ys.document.createElement("video")),kI}var OI=!(!Ys||!Ys.TextTrack),jI=class extends ra{get AP(){const t=this.vP.b_,i=this.j_;return t.gr(i,.01)}get ht(){return this.nN}get b_(){return this.vP.b_.ks()}get k_(){return this.vP.k_}set k_(t){t&&this.vP.mP(t)}get j_(){return void 0!==this.pP?this.pP:this.vP.j_}set j_(t){this.W_&&(this.pP=t),this.vP.Dp(t)}get ct(){return this.vP.ct}get R_(){return this.vP.R_}get lt(){return this.yP}get F_(){return this.MP}get G_(){}get W_(){return this.vP.W_}get q_(){return At({},{aN:0,uN:0,cN:0,lN:0,dN:0,fN:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.vP.X_())}get Z_(){return this.vP.Z_}set Z_(t){this.vP.Z_=t}get eg(){return!0}get hg(){return this.vP.hg}get ag(){return this.vP.ag}set ag(t){this.vP.ag=t}get fg(){return this.vP.TP.played}get gg(){return this.NP}set gg(t){this.NP=t,this.DP&&(this.DP.gg=t)}get vg(){return this.vP.vg}get yg(){return this.vP.yg.ks()}get Tg(){return this.vP.Tg}get IP(){return this.vP.IP}get nt(){return this.Dl}get rt(){return this.hN}get Ig(){return this.vP.Ig}get Lg(){return this.vP.Lg}get xg(){return this.vP.xg}set xg(t){this.vP.xg=t}get zg(){return this.SP}get Bg(){return this.vP.Bg}set Bg(t){this.vP.Bg=t}get EP(){return this.bP}be(){this.vP.be()}ge(){this.vP.ge()}async ga(t,i,e){Pi(e);const s={hA:wt.CO,oA:t.src,LP:t.type,kP:this.CP(t),gg:this.NP,xP:t.crossOrigin,OP:i.metadata&&i.metadata.title};this.jP.iP(t.contentProtection),this.DP=await this.vP.$n(s),Pi(e),i.textTracks&&this.zP(i.textTracks),Qs(this.nt)}zP(t){for(let e of t)if(this.vP.PP()&&Zt.Ga&&OI&&!_y(e.kind,e.label)&&this.BP(e)){var i;const t=null!=(i=e.kind)?i:Oi.pp;this.vP.RP(e.src,t,e.label,e.srclang,e.default)}else{if(void 0===e.src)continue;this.UP.lE(e)}}BP(t){return!t.format||"webvtt"===t.format}async Vg(){try{await this.vP.Vg()}catch(t){}for(;!this.AP;)await this.vP.D_(t.VA)}Gg(){this.vP.Gg()}Hg(){return void 0!==this.vP.TP.webkitShowPlaybackTargetPicker}qg(){this.vP.TP.webkitShowPlaybackTargetPicker&&this.vP.TP.webkitShowPlaybackTargetPicker()}Xg(){this.vP.TP.webkitShowPlaybackTargetPicker&&this.vP.TP.webkitShowPlaybackTargetPicker()}Ug(){return this.vP.TP}Rg(){return this.vP.ya}async Zn(){this.yP=void 0,this.MP=void 0,this.DP=void 0,await this.UP.Zn(),this.vP.QP(),await this.vP.Zn(),this.FP.Zn(),this.gg=this.NP,this.ht.Zn(),this.rt.Zn(),this.pP=void 0}async gn(){await this.Zn(),this.Vo(),this.YP(),this.GP(),this.FP.gn(),this.vP.VP=void 0,await this.HP.WP(this.vP),this.nN.gn(),this.hN.gn(),this.Dl.gn(),await this.UP.gn()}qP(){this.vP.yn(t.jh,this.Ds),this.vP.yn(t.Sh,this.Ds),this.vP.yn(t.ov,this.wc),this.vP.yn(t.VA,this.Ds),this.vP.yn(t.UA,this.Ds),this.vP.yn(t.ZA,this.Ds),this.vP.yn(t.XA,this.XP),this.vP.yn(t.kA,this.Ds),this.vP.yn(t.WA,this.Ds),this.vP.yn(t.uv,this.Ds),this.vP.yn(t.EA,this.Ds),this.vP.yn(t.qA,this.ZP),this.vP.yn(er.Tv,this.KP),this.vP.yn(Nr.ha,this.JP),this.vP.yn(t.DA,this.Ds),this.vP.yn(t.NA,this.$P),this.vP.TP.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.tB)}YP(){this.vP.fn(t.jh,this.Ds),this.vP.fn(t.Sh,this.Ds),this.vP.fn(t.ov,this.wc),this.vP.fn(t.VA,this.Ds),this.vP.fn(t.UA,this.Ds),this.vP.fn(t.ZA,this.Ds),this.vP.fn(t.XA,this.XP),this.vP.fn(t.kA,this.Ds),this.vP.fn(t.WA,this.Ds),this.vP.fn(t.uv,this.Ds),this.vP.fn(t.EA,this.Ds),this.vP.fn(t.qA,this.ZP),this.vP.fn(er.Tv,this.KP),this.vP.fn(Nr.ha,this.JP),this.vP.fn(t.DA,this.Ds),this.vP.fn(t.NA,this.$P),this.vP.TP.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.tB)}CP(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{dm:Wy,iB:[{initDataTypes:[Wy.AL],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]}eB(){let t=this.vP.TP.audioTracks,i=this.vP.TP.videoTracks;t&&(t.addEventListener("addtrack",this.sB),t.addEventListener("removetrack",this.nB),t.addEventListener("change",this.rB)),i&&(i.addEventListener("addtrack",this.hB),i.addEventListener("removetrack",this.oB),i.addEventListener("change",this.aB))}GP(){let t=this.vP.TP.audioTracks,i=this.vP.TP.videoTracks;t&&(t.removeEventListener("addtrack",this.sB),t.removeEventListener("removetrack",this.nB),t.removeEventListener("change",this.rB)),i&&(i.removeEventListener("addtrack",this.hB),i.removeEventListener("removetrack",this.oB),i.removeEventListener("change",this.aB))}nh(t){for(let i=0;i<t.U;i++){t.jw(i).bN()}}Zg(){this.vP.Zg()}Kg(){}uB(t,i){this.yP||(this.yP=i,this.MP=t,this.Co(new pe(t)))}constructor(t,i,e,s,n,r=new G,h=oD()){super(),this.DP=void 0,this.yP=void 0,this.MP=void 0,this.bP=new nu,this.SP=new CI,this.JP=t=>{const i=t.lt,e=i.code,s=new ce(nm(e),"Something went wrong during native playback.",i),n=new uc(e,s.message,i.message);this.uB(s,n)},this.wc=()=>{this.Co(new jc(this.j_,this.k_))},this.XP=t=>{this.hg||(this.pP=void 0),this.Co(t)},this.KP=t=>{this.pP=void 0},this.tB=()=>{this.Co(new wm(this.W_))},this.ZP=()=>{this.Lg>0&&this.Ig>0&&this.Co(new Yy)},this.sB=t=>{this.nN.tt(new fm(t.track))},this.nB=t=>{const i=BI(this.nN,t.track);i&&this.nN.it(i)},this.rB=()=>{this.nh(this.nN)},this.hB=t=>{this.hN.tt(new gm(t.track))},this.oB=t=>{const i=BI(this.hN,t.track);i&&this.hN.it(i)},this.aB=()=>{this.nh(this.hN)},this.$P=t=>{this.Co(t),this.uB(t.errorObject,Vs(t.errorObject))},this.HP=i,this.gE=e,this.jx=h,this.vP=this.HP.cB(hv.vp),this.NP=this.vP.TP.preload,this.FP=new uD(this.vP,!0),this.FP.yn(qh,this.Ds),this.jP=new EI(e,r),this.vP.VP=this.jP,this.qP(),this.nN=new He,this.hN=new He,this.eB(),this.UP=new du(this.vP,this.gE),this.Dl=new dh([this.vP.nt]),this.ge()}};function zI(t){return!t.type||!(!xI().canPlayType||!xI().canPlayType(t.type))}var PI=class{_m(t,i,e,s,n,r){return new jI(t,i,e,s,n)}lB(t,i){return zI(t)}dB(){return!1}constructor(){this.fB=Kt.Kz}};function BI(t,i){for(let e of t.xw)if(e.SN===i)return e}var Bu=class{static _B(){return this.gL}gB(t){this.wB.push(t)}get fB(){return this.AB.fB}_m(t,i,e,s,n,r){let h=this.AB._m(t,i,e,s,n,r);for(const t of this.wB)h=t(h,e,s);return h}lB(t,i){return this.AB.lB(t,i)}dB(){return!1}constructor(){this.AB=new PI,this.wB=[]}};function RI(t,i){return H_(t.fB,i.fB)}Bu.gL=new Bu,r(),r();var UI=class{vB(t){this.mB.push(t),this.mB.sort(RI)}async pB(t,i){for(const e of this.mB){const s=e.lB(t,i);if(vu(s)?await s:Boolean(s))return e}}constructor(){this.mB=[]}};function Cu(t){Ze.gL.vB(t)}var Ze=class extends UI{yB(t){this.MB=t}TB(){return this.MB}async NB(t,i){for(let e of t){let t=await this.pB(e,i);if(t)return{yc:e,t:t}}const e=this.MB;for(let s of t)if(e.lB(s,i))return{yc:s,t:e};return{yc:t[0],t:e}}constructor(...t){super(...t),this.MB=Bu._B()}};Ze.gL=new Ze,r();var tt,QI=class{gn(){di(this.Us)}constructor(t){this.Us=Ys&&Ys.document&&Ys.document.createElement("div"),ta(this.Us),t.appendChild(this.Us)}};r(),r(),function(t){t.Kz="",t.DB="none",t.Mp="metadata",t.HT="auto"}(tt||(tt={}));var FI=[Nr.ha,t.bA,t.LA,t.Av,t.pA,t.CA,t.OA,t.YA,t.GA,t.JA,t.rv,er.vv,er.mv,er.pv,er.yv,er.Mw,er.Mv,er.Tv,t.NA,t.DA,t.EA,t.kA,t.UA,t.QA,t.jh,t.VA,t.Sh,t.WA,t.qA,t.ZA,t.XA,t.ov,t.uv,t.HA,t.FA,t.KA],YI=class extends ra{get ht(){return this.nN}get b_(){return this.Qo.b_}get lt(){return this.Qo.lt}get F_(){return this.Qo.F_}get k_(){return this.Qo.k_}set k_(t){this.Qo.k_=t}get bt(){return this.IB}get j_(){return this.Qo.j_}set j_(t){this.Qo.j_=t}get ct(){return this.Qo.ct}get R_(){return this.Qo.R_}get G_(){return this.rN}get W_(){return this.Qo.W_}get q_(){return this.Qo.q_}get Z_(){return this.Qo.Z_}set Z_(t){this.Qo.Z_=t}get eg(){return this.Qo.eg}get hg(){return this.Qo.hg}get ag(){return this.Qo.ag}set ag(t){this.Qo.ag=t}get fg(){return this.Qo.fg}get gg(){return this.NP}set gg(t){this.NP=t,this.Qo&&(this.Qo.gg=this.NP)}get vg(){return this.Qo.vg}get yg(){return this.Qo.yg}get Tg(){return this.Qo.Tg}get nt(){return this.Dl}get Ig(){return this.Qo.Ig}get rt(){return this.hN}get Lg(){return this.Qo.Lg}get xg(){return this.Qo.xg}set xg(t){this.Qo.xg=t}get zg(){return this.Qo.zg}get EP(){return this.Qo.EP}Gg(){this.Qo.Gg()}Vg(){const t=this.Qo.Vg();vu(t)&&W(t)}Wg(){return this.ga(void 0)}Yg(){}SB(){this.nN.Pw=this.Qo.ht,this.hN.Pw=this.Qo.rt,this.Dl.Pw=this.Qo.nt,this.rN.Pw=this.Qo.G_,this.Qo.yn(FI,this.Ds)}EB(){this.Qo.fn(FI,this.Ds),this.nN.Pw=void 0,this.hN.Pw=void 0,this.Dl.Pw=void 0,this.rN.Pw=void 0}Wa(){return this.bB}async ga(t,i){if(Pi(i),this.bB=t,!t)return;const e=t.sources.filter(Gv);if(Rv(e))return;const s=await this.LB.NB(e,t);Pi(i);const n=s.yc,r=s.t,h=this.Rg(),o=Kv(this);(this.kB!==r||this.lt)&&(this.EB(),await this.Qo.gn(),Pi(i),this.kB=r,this.Qo=this.CB(r,n),function(t,i){t.Z_!==i.Z_&&(t.Z_=i.Z_);t.xg!==i.xg&&(t.xg=i.xg);t.ag!==i.ag&&(t.ag=i.ag)}(this.Qo,o),Ma(this,o,this),this.SB()),this.Qo.gg=this.gg,this.xB?this.Qo.ge():this.Qo.be(),await this.Qo.ga(n,t,i),Pi(i),this.OB(n),this.Rg()!==h&&this.Co(new zt)}OB(t){this.IB!==t&&(this.IB=t,this.Co(new M(t)))}Hg(){return this.Qo.Hg()}qg(){this.Qo.qg()}Xg(){this.Qo.Xg()}Rg(){return this.Qo.Rg()}Zg(){this.Qo.Zg()}Kg(){this.Qo.Kg()}async Zn(){this.bB=void 0,this.OB(void 0),await this.Qo.Zn()}async gn(){this.Vo(),await this.Zn(),await this.Qo.gn(),this.nN.gn(),this.hN.gn(),this.Dl.gn(),this.rN.gn()}ge(){this.xB=!0,this.Qo.ge()}be(){this.xB=!1,this.Qo.be()}constructor(t,i){super(),this.kB=void 0,this.IB=void 0,this.NP=tt.DB,this.bB=void 0,this.xB=!0,this.nN=new we,this.hN=new we,this.Dl=new Yu,this.rN=new iw,this.LB=t,this.Qo=i,this.Qo.gg=this.gg,this.SB()}};function GI(t,i,e){return e?t<=i:t<i}r(),r(),r();var Ac,Ki=class t{get jB(){return this.zB.slice()}Cn(t){return this.zB[2*t]}jn(t){return this.zB[2*t+1]}PB(t){return this.BB[2*t]}RB(t){return this.BB[2*t+1]}ks(){const t=this;return{get length(){return t.U},start(i){const e=0|i;return t.UB(e),t.Cn(e)},end(i){const e=0|i;return t.UB(e),t.jn(e)}}}QB(){const i=new Array(2*this.U),e=new Array(2*this.U);for(let t=0;t<this.U;t++)i[2*t]=this.Cn(t),i[2*t+1]=this.jn(t),e[2*t]=!0,e[2*t+1]=!0;return new t(i,e)}UB(t){if(t<0)throw new b("The index provided ("+t+") must be non-negative");if(t>=this.U)throw new b("The index provided ("+t+") is greater than the maximum bound ("+this.U+")")}FB(t){if(0===this.U)return 0;if(this.gr(t))return t;if(t<=this.Cn(0))return this.Cn(0);if(t>=this.jn(this.U-1))return this.jn(this.U-1);{let i=0,e=1/0;for(let s=0;s<this.U;s++){const n=this.Cn(s),r=x.abs(n-t);r<e&&(i=n,e=r);const h=this.jn(s),o=x.abs(h-t);o<e&&(i=h,e=o)}return i}}Sn(i){let e=0,s=0;const n=[],r=[];for(;e<this.U&&s<i.U;){const t=this.Cn(e),h=this.jn(e),o=this.PB(e),a=this.RB(e),u=i.Cn(s),c=i.jn(s),l=i.PB(s),d=i.RB(s),f=x.max(t,u),_=x.min(h,c);let g,w;g=t===u?o&&l:f===t?o:l,w=h===c?a&&d:_===h?a:d,(f<_||g&&w&&f===_)&&(n.push(f,_),r.push(g,w)),h===c?(e+=1,s+=1):h<c?e+=1:s+=1}return new t(n,r)}YB(){const i=this.GB(),e=i.U;if(0===e)return new t([-1/0,1/0],[!1,!1]);const s=[],n=[],r=i.Cn(0);r!==-1/0&&(s.push(-1/0,r),n.push(!1,!i.PB(0)));for(let t=0;t<e-1;t++)s.push(i.jn(t),i.Cn(t+1)),n.push(!i.RB(t),!i.PB(t+1));const h=i.jn(e-1);return h!==1/0&&(s.push(h,1/0),n.push(!i.RB(e-1),!1)),new t(s,n)}VB(i){let e=0,s=0;const n=this.U,r=i.U,h=new Array(2*(n+r)),o=new Array(2*(n+r));let a=0;for(;e<n&&s<r;){const t=this.Cn(e),n=this.jn(e),r=i.Cn(s),u=i.jn(s);t<r||t===r&&n<u?(h[a]=t,h[a+1]=n,o[a]=this.PB(e),o[a+1]=this.RB(e),e++):(h[a]=r,h[a+1]=u,o[a]=i.PB(s),o[a+1]=i.RB(s),s++),a+=2}for(;e<n;)h[a]=this.Cn(e),h[a+1]=this.jn(e),o[a]=this.PB(e),o[a+1]=this.RB(e),e++,a+=2;for(;s<r;)h[a]=i.Cn(s),h[a+1]=i.jn(s),o[a]=i.PB(s),o[a+1]=i.RB(s),s++,a+=2;return new t(h,o)}WB(i){void 0===i&&(i=0);const e=this.U;if(e<2)return this;const s=[],n=[];let r=this.Cn(0),h=this.jn(0),o=this.PB(0),a=this.RB(0);for(let t=1;t<e;t++){const e=this.Cn(t),u=this.jn(t);let c=this.PB(t),l=this.RB(t);r<e&&h>u||(r===e&&(c=o||c,o=c),h===u&&(l=a||l,a=l),GI(e,h+i,a||c)?(h=u,a=l):(s.push(r,h),n.push(o,a),r=e,h=u,o=c,a=l))}return s.push(r,h),n.push(o,a),new t(s,n).GB()}GB(){const i=[],e=[];for(let t=0;t<this.U;t++){const s=this.Cn(t),n=this.jn(t),r=this.PB(t),h=this.RB(t);s===n?(r||h)&&(i.push(s,n),e.push(!0,!0)):(i.push(s,n),e.push(r,h))}return new t(i,e)}HB(t){if(0===this.U)return t;if(0===t.U)return this;return this.VB(t).WB()}qB(t){const i=this.GB(),e=t.GB(),s=i.YB(),n=e.YB(),r=s.Sn(e),h=n.Sn(i);return r.HB(h)}Np(i){if(0===this.U||0===i)return this;const e=[],s=[];for(let t=0;t<this.U;t++){const n=this.Cn(t)+i,r=this.jn(t)+i;e.push(n,r),s.push(this.PB(t),this.RB(t))}return new t(e,s)}XB(t){return 0===this.U||0===t.U?this:this.GB().Sn(t.GB().YB())}gr(t,i){return this.ZB(t,i)>=0}KB(t,i,e,s,n){return this.JB(t,i,e,s,n)>=0}$B(t,i,e,s,n){return this.tR(t,i,e,s,n)>=0}iR(t){if(t.U!==this.U)return!1;for(let i=0;i<this.U;i++)if(this.Cn(i)!==t.Cn(i)||this.jn(i)!==t.jn(i)||this.PB(i)!==t.PB(i)||this.RB(i)!==t.RB(i))return!1;return!0}eR(i){const e=[],s=[];for(let t=0;t<this.U;t++){const n=this.Cn(t),r=this.jn(t),h=this.PB(t),o=this.RB(t);i(n,r,h,o)&&(e.push(n,r),s.push(h,o))}return new t(e,s)}tR(t,i,e,s,n){void 0===e&&(e=!0),void 0===s&&(s=!0),void 0===n&&(n=0);const r=t-n,h=i+n;for(let t=0;t<this.U;t+=1)if(GI(this.Cn(t),h,!s||this.PB(t))&&GI(r,this.jn(t),!e||this.RB(t)))return t;return-1}JB(t,i,e,s,n){void 0===e&&(e=!0),void 0===s&&(s=!1),void 0===n&&(n=0);const r=t+n,h=i-n;for(let t=0;t<this.U;t+=1)if(GI(this.Cn(t),r,!e||this.PB(t))&&GI(h,this.jn(t),!s||this.RB(t)))return t;return-1}ZB(t,i){return this.JB(t,t,!0,!0,i)}sR(t,i){void 0===i&&(i=0);const e=t+i;for(let t=this.U-1;t>=0;t-=1)if(GI(this.Cn(t),e,this.PB(t)))return t;return-1}nR(t,i){void 0===i&&(i=0);const e=t-i;for(let t=0;t<this.U;t+=1)if(GI(e,this.jn(t),this.RB(t)))return t;return-1}rR(t,i){void 0===i&&(i=0);const e=t+i;for(let t=0;t<this.U;t+=1)if(this.Cn(t)>e)return t;return-1}hR(i){return this.UB(i),new t([this.Cn(i),this.jn(i)],[this.PB(i),this.RB(i)])}oR(t,i){const e=this.ZB(t,i);return e<0?void 0:this.hR(e)}get aR(){let t=0;for(let i=0;i<this.U;i++){t+=this.jn(i)-this.Cn(i)}return t}static xn(i){const e=[];for(let t=0;t<i.length;t++)e.push(i.start(t),i.end(t));return new t(e)}static uR(i){return new t([i,i],[!0,!0])}static cR(i,e){return i<=e?new t([i,e]):t.lR()}static lR(){return VI}constructor(t,i){this.U=t.length>>1,this.zB=t,this.BB=i||function(t){const i=new Array(2*t);for(let e=0,s=0;e<t;e+=1,s+=2)i[s]=!0,i[s+1]=!1;return i}(this.U)}},VI=new Ki([]);r(),r(),function(t){t.ra="fullscreenchange",t.ca="fullscreensupportchange",t.ha="fullscreenerror"}(Ac||(Ac={})),r();var Fu=class extends mg{constructor(){super(Ac.ha)}},xc=(Ac.ra,Ac.ca,Ac.ha,class extends i{get cs(){return!1}get ta(){return!1}mo(){this.Co(new Fu)}So(){}gn(){this.Vo()}}),WI=class extends i{get k_(){}set k_(t){}get j_(){return this.dR}set j_(t){this.dR!==t&&(this.dR=t,this.fR=!0,this.Co(new Sa(this.j_)))}get q_(){return{aN:0,uN:0,cN:0,lN:0,dN:0,fN:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}get Z_(){return this._R}set Z_(t){this._R!==t&&(this._R=t,this.Co(new Oe(this.j_,this.xg)))}get hg(){return this.gR}get ag(){return this.wR}set ag(t){this.wR!==t&&(this.wR=t,this.Co(new se(this.j_,this.ag)))}get Tg(){return this.fR}get xg(){return this.Jk}set xg(t){this.Jk!==t&&(this.Jk=t,this.Co(new Oe(this.j_,this.xg)))}get Bg(){return!1}set Bg(t){}get EP(){return this.bP}ge(){}be(){}Vg(){this.gR&&(this.gR=!1,this.Co(new fh(this.j_)),this.Co(new Xc(this.j_)))}Gg(){this.gR||(this.gR=!0,this.Co(new jc(this.j_,this.k_)),this.Co(new ye(this.j_)))}ga(t,i){return Promise.resolve()}Hg(){return!1}qg(){}Xg(){}Rg(){return this.AR}Zg(){}Kg(){}async Zn(){this.dR=0,this.fR=!1,this.Gg(),this.Co(new Wv(this.dR))}async gn(){this.Vo(),this.ht.gn(),this.nt.gn(),this.rt.gn()}constructor(...t){super(...t),this.dR=0,this._R=!1,this.gR=!0,this.wR=1,this.fR=!1,this.Jk=1,this.ht=new He,this.b_=Ki.lR().ks(),this.ct=NaN,this.R_=!1,this.lt=void 0,this.F_=void 0,this.G_=void 0,this.W_=!1,this.eg=!0,this.fg=Ki.lR().ks(),this.gg=tt.DB,this.vg=Os.tN,this.yg=Ki.lR().ks(),this.IP=void 0,this.nt=new jn,this.Ig=0,this.rt=new He,this.Lg=0,this.zg=new CI,this.bP=new nu,this.AR=new xc}},HI=class extends WI{set vR(t){this.HP=t,this.vP=t.cB(hv.vp)}Ug(){var t;return null==(t=this.vP)?void 0:t.TP}async gn(){await super.gn(),this.vP&&(await this.HP.WP(this.vP),this.vP=void 0)}constructor(...t){super(...t),this.HP=void 0,this.vP=void 0}},et=class extends YI{get we(){return this.pu}get Bg(){return this.Qo.Bg}set Bg(t){this.Qo.Bg=t}Yg(){super.Yg(),this.pR.mR()}Qg(t){Jv(this,t)}Fg(){}Jg(t){return!1}async ga(t,i){const e=this.Rg(),s=this.Ug();await super.ga(t,i),this.Rg()!==e&&this.Co(new zt),this.Ug()!==s&&this.Co(new us)}CB(t,i){return t._m(this.pu,this.pR,this.gE,this.$x,this.yR,this.MR,i)}Ug(){return this.Qo.Ug()}E_(){return this.pR.NR.map((t=>t.TP))}async gn(){await super.gn(),this.pR.gn(),this.DR.gn()}constructor(t,i,e,s,n,r){const h=new HI;super(Ze.gL,h),this.pu=t,this.$x=i,this.gE=e,this.yR=s,this.MR=r,this.pR=new Ry(n,this.MR),this.pR.IR(this.pu),h.vR=this.pR,this.DR=new QI(this.pu)}};r(),r();var qI=class extends ra{get ht(){return this.SR}get b_(){return Ki.lR().ks()}get k_(){return new Date(NaN)}set k_(t){}get bt(){}get j_(){return 0}set j_(t){}get ct(){return 0}get we(){return this.pu}get R_(){return!0}get lt(){return this.ER}get F_(){return this.bR}get G_(){}get q_(){return{aN:0,uN:0,cN:0,lN:0,dN:0,fN:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}get Z_(){return!1}set Z_(t){}get eg(){return!0}get hg(){return!0}get ag(){return 0}set ag(t){}get fg(){return Ki.lR().ks()}get gg(){return tt.DB}set gg(t){}get vg(){return Os.tN}get yg(){return Ki.lR().ks()}get Tg(){return!1}get nt(){return this.LR}get Ig(){return 0}get rt(){return this.SR}get Lg(){return 0}get xg(){return 1}set xg(t){}get zg(){return this.SP}get Bg(){return!1}set Bg(t){}Jg(t){return!0}be(){}Vg(){throw this.Co(new pe(this.bR)),this.ER}Gg(){}Wa(){}async ga(t,i){throw Pi(i),this.Co(new pe(this.bR)),this.ER}ge(){}Wg(){return Promise.resolve()}Ug(){}Rg(){return this.AR}E_(){return[]}Yg(){}Qg(t){}Fg(){}get W_(){return!1}Hg(){return!1}qg(){}Xg(){}Zg(){}Kg(){}Zn(){return Promise.resolve()}gn(){return this.Vo(),this.SR.gn(),this.LR.gn(),Promise.resolve()}constructor(t,i,e){super(),this.AR=new xc,this.SP=new CI,this.pu=t,this.ER=i,this.SR=new He,this.LR=new jn,this.bR=e}};function XI(t){if(t&&Mi(t))return At({},t,{integration:ZI(t.integration),fairplay:eS(t.fairplay),widevine:KI(t.widevine),playready:JI(t.playready),clearkey:sS(t.clearkey),aes128:nS(t.aes128),integrationParameters:rS(t.integrationParameters),preferredKeySystems:hS(t.preferredKeySystems)})}function ZI(t){if(ae(t))return t}function KI(t){if(t&&Mi(t))return{persistentState:$I(t.persistentState),distinctiveIdentifier:$I(t.distinctiveIdentifier),audioRobustness:tS(t.audioRobustness),videoRobustness:tS(t.videoRobustness),licenseAcquisitionURL:ae(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:iS(t.licenseType),headers:t.headers,useCredentials:!!z_(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:ae(t.certificate)||XA(t.certificate)?t.certificate:void 0}}function JI(t){if(!t)return;const i=KI(t);if(!i)return;return At({},i,{customData:ae(t.customData)?t.customData:void 0})}function $I(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function tS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function iS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function eS(t){if(!t)return;const i=KI(t);if(!i)return;return At({},i,{certificateURL:ae(t.certificateURL)?t.certificateURL:void 0})}function sS(t){if(!t)return;const i=KI(t);if(!i)return;const e=pi(t.keys)?t.keys.map((t=>function(t){if(!t||!Mi(t))return;const i=t.id,e=t.value;if(!ae(i)||!ae(e))return;return{id:i,value:e}}(t))).filter(li):void 0;return At({},i,{keys:e})}function nS(t){if(Mi(t))return{useCredentials:z_(t.useCredentials)?t.useCredentials:void 0}}function rS(t){if(Mi(t))return t}function hS(t){return t&&pi(t)?t.map((t=>ml(t))).filter(li):[mt,Xi,qa]}r(),r(),r(),r(),r(),r(),r();var oS=class extends mg{constructor(t){super("presentationmodechange"),this.presentationMode=t}};function yi(t,i,e){return new Promise(((s,n)=>{if(e&&e.$f)return n(new ia);const r=t=>{o(),s(t)},h=()=>{o(),n(new ia)},o=()=>{t.removeEventListener(i,r),e&&e.r_(h)};t.addEventListener(i,r),e&&e.n_(h)}))}r(),r(),r();var cu,aS=class extends i{Qa(t){for(const i of this.kR)t.yn(i,this.xR);this.OR.push(t)}jR(t){for(const i of this.kR)t.fn(i,this.xR);this.OR.push(t)}gn(){this.Vo();for(const t of this.OR)this.jR(t);Ri(this.OR)}constructor(t,i=!1,e){super(e),this.OR=[],this.zR=t=>{Qu((()=>{this.Ds(t)}))},this.kR=t,this.xR=i?this.zR:this.Ds}},Zu=class extends ra{Qa(t){t.m_(this.PR),this.OR.push(t)}jR(t){t.N_(this.PR),Et(this.OR,t)}gn(){this.Vo();for(const t of this.OR)t.N_(this.PR);Ri(this.OR)}constructor(t,i=!1){super(t),this.OR=[],this.zR=t=>{Qu((()=>{this.Ds(t)}))},this.PR=i?this.zR:this.Ds}};!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(cu||(cu={}));var uS,cS=class extends ra{get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){return function(t){let i,e={get currentMode(){return t.qo()},requestMode(i){const e=dS(i);e&&t.Zo(e)},supportsMode(i){const e=dS(i);return!!e&&t.Go(e)},addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)}};return i=new Zu(e,!0),i.Qa(t),e}(this)}Zo(t){this.Xo(t,t)}Xo(t,i){this.RR!==i&&(this.UR=!0,this.QR=t,this.Jo(i,this.RR),"fullscreen"!==t&&(this.FR=t),this.UR=!1,this.Yr())}qo(){return this.YR?"fullscreen":"inline"}Go(t){switch(t){case"fullscreen":return this.AR.ta;case"inline":return!0}return!1}Yr(){if(this.UR)return;const t=this.RR,i=this.qo();this.RR=i,"fullscreen"!==i&&(this.GR=i),t!==i&&this.Co(new oS(i))}Jo(t,i){const e="fullscreen"===t;this.YR=e,e!==this.AR.cs&&(e?this.AR.mo():this.AR.So())}wi(){if(this.UR)return;const t=this.AR.cs;this.YR=t,t?this.Xo("fullscreen","fullscreen"):t||"fullscreen"!==this.QR?this.Yr():this.Xo(this.FR,this.GR)}WR(){this.wi(),this.Co(new pe(new ce(y_.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))}gn(){this.AR.gn(),this.Vo()}constructor(t){super(),this.QR="inline",this.RR="inline",this.UR=!1,this.YR=!1,this.FR="inline",this.GR="inline",this.Xa=void 0,this.HR=()=>this.wi(),this.qR=()=>this.WR(),this.AR=t,this.AR.yn(Ac.ra,this.HR),this.AR.yn(Ac.ha,this.qR),this.Yr()}},lS={j_:0,ct:NaN,R_:!1,lt:void 0,F_:void 0,Z_:!1,hg:!0,ag:1,vg:Os.tN,Tg:!1,Ig:0,Lg:0,xg:1};function dS(t){switch(t){case cu.INLINE:case cu.FULLSCREEN:case cu.PICTURE_IN_PICTURE:return t;default:return}}r(),function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor"}(uS||(uS={}));var Fc,te,Wo,fS,_S,Zo=class{get XR(){return this.ZR}KR(t){const i=this.XR.filter((i=>i.JR(t)));if(i.length>1)0;else if(0===i.length)throw b("Unknown ad integration: "+t.integration);return i[0]||null}$R(t){this.ZR.push(t)}constructor(){this.ZR=[]}};Zo.gL=new Zo,r(),r(),r(),r(),function(t){t.Tv="PLAYING",t.Dv="PAUSED",t.tU="SEEK",t.iU="STALLED",t.eU="FAILED",t.sU="INITIAL_BUFFERING",t.nU="NO_ACCESS"}(Fc||(Fc={})),function(t){t.rU="HTTP_REQUEST_STATUS_CODE_1XX",t.hU="HTTP_REQUEST_STATUS_CODE_2XX",t.oU="HTTP_REQUEST_STATUS_CODE_3XX",t.aU="HTTP_REQUEST_STATUS_CODE_4XX",t.uU="HTTP_REQUEST_STATUS_CODE_5XX",t.cU="BUFFER_LENGTH",t.lU="BYTES_RECEIVED",t.dU="SEGMENT_READ_BITRATE",t.fU="SEGMENT_PROFILE_BITRATE",t._U="VIDEO_PROFILE_BITRATE",t.gU="NUMBER_OF_FRAMES_DROPPED",t.wU="PLAYBACK_POSITION",t.AU="NUMBER_OF_FRAMES_DECODED",t.vU="PLAYBACK_DELTA_TO_ORIGIN",t.mU="STREAM_DELTA_TO_ORIGIN",t.pU="ORIGIN_TIMESTAMP"}(te||(te={})),function(t){t.yU="MANIFEST_URI",t.MU="ASSET_DURATION",t.TU="NUMBER_OF_CONTENT_PROFILES",t.NU="CDN",t.DU="CONTENT_TITLE",t.IU="SERVICE_NAME",t.SU="CONTENT_TYPE",t.EU="CONTENT_DESCRIPTION"}(Wo||(Wo={})),(fS||(fS={})).bU="shutdown_normal_shutdown",function(t){t.LU="session/",t.kU="content/",t.CU="internalError/",t.xU="drmError/",t.OU="caError/",t.jU="networkError/"}(_S||(_S={}));var gS,wS=class{get code(){return this.category+this.statusCode}constructor(t,i){this.category=t,this.statusCode=i}};!function(t){t.zU="userAction",t.PU="endOfStreamReached"}(gS||(gS={}));var AS,vS=class extends i{};r(),r(),function(t){t.PAUSE="BU",t.RESUME="RU"}(AS||(AS={}));var mS=class extends mg{constructor(){super("UU")}},xu=class extends i{QU(){this.FU=!0}YU(){}gn(){this.FU=!1,this.GU.fn(AS.PAUSE,this.VU),this.GU.fn(AS.RESUME,this.WU)}HU(){return isFinite(this.Qo.Td())}constructor(t,i){super(),this.Qo=t,this.GU=i,this.FU=!1,this.VU=()=>{this.YU(),this.FU=!1},this.WU=()=>{this.FU=!0},this.GU.yn(AS.PAUSE,this.VU),this.GU.yn(AS.RESUME,this.WU)}},pS=class extends xu{QU(){super.QU(),this.qU()}gn(){this.XU(),super.gn()}qU(){this.Qo.yn(er.Mv,this.ZU),this.Qo.yn(t.Sh,this.KU),this.Qo.yn(er.Tv,this.JU),this.Qo.yn(t.ZA,this.$U),this.Qo.yn(t.XA,this.tQ)}XU(){this.Qo.fn(er.Mv,this.ZU),this.Qo.fn(t.Sh,this.KU),this.Qo.fn(er.Tv,this.JU),this.Qo.fn(t.ZA,this.$U),this.Qo.fn(t.XA,this.tQ)}iQ(){this.eQ=!0}sQ(){const t=this.Qo.Q_(),i=new wS(_S.CU,String(t.code));this.nQ(Fc.eU,i,t.message)}rQ(t){this.FU&&(this.GU.hQ(t),this.Co(new mS))}nQ(t,i,e){this.GU.oQ(t,i,e),this.Co(new mS)}aQ(t,i){this.GU.uQ(t,i)}constructor(...t){super(...t),this.eQ=!1,this.cQ=!1,this.lQ=!1,this.ZU=()=>{this.cQ&&!this.lQ&&this.rQ(Fc.iU)},this.JU=()=>{this.Qo.hg||(this.cQ||this.aQ(new wS(_S.kU,"firstFrameDisplayed"),"now"),this.cQ=!0,this.rQ(Fc.Tv))},this.KU=()=>{this.Qo.hg&&(this.cQ=!0,this.rQ(Fc.Dv))},this.$U=()=>{this.eQ&&(this.lQ=!0,this.eQ=!1,this.rQ(Fc.tU))},this.tQ=()=>{this.lQ=!1,this.Qo.hg&&this.rQ(Fc.Dv)}}};r();var yS=class extends xu{QU(){super.QU(),this.dQ(),this.qU()}gn(){this.XU(),super.gn()}qU(){this.Qo.rt.yn(ea.ra,this.dQ),this.Qo._Q.fQ(this.gQ),this.Qo.yn(t.EA,this.wQ)}XU(){this.Qo.rt.fn(ea.ra,this.dQ),this.Qo._Q.AQ(this.gQ),this.Qo.fn(t.EA,this.wQ)}vQ(t){t.serviceName&&this.mQ(Wo.IU,t.serviceName),t.cdn&&this.mQ(Wo.NU,t.cdn),t.contentTitle&&this.mQ(Wo.DU,t.contentTitle),t.contentType&&this.mQ(Wo.SU,t.contentType),t.contentDescription&&this.mQ(Wo.EU,t.contentDescription)}mQ(t,i){this.FU&&this.GU.pQ(t,i)}constructor(...t){super(...t),this.wQ=()=>{this.HU()&&this.mQ(Wo.MU,x.round(this.Qo.Td()))},this.gQ=t=>{"manifest"===t.request.type&&this.mQ(Wo.yU,t.url)},this.dQ=()=>{const t=p(this.Qo.rt.xw,(t=>t.Rt));t&&this.mQ(Wo.TU,t.Hw.U)}}};r();var MS=class extends xu{QU(){super.QU(),this.yQ=this.Qo.q_.aN,this.MQ=this.Qo.q_.cN,this.qU(),this.TQ.push(v(this.NQ,1e3))}YU(){super.YU(),this.DQ()}gn(){this.DQ(),this.XU(),this.TQ.forEach(m),Ri(this.TQ),super.gn()}qU(){this.Qo._Q.fQ(this.IQ),this.Qo.yn(t.rv,this.SQ)}XU(){this.Qo._Q.AQ(this.IQ),this.Qo.fn(t.rv,this.SQ)}EQ(){this.DQ()}bQ(t){this.LQ+=t,this.kQ(te.lU,this.LQ)}CQ(t,i){const e=this.xQ.get(i)||0;this.kQ(t,e)}OQ(){const t=this.Qo.q_.aN-this.yQ;this.kQ(te.gU,t)}jQ(){const t=this.Qo.q_.cN-this.MQ;this.kQ(te.AU,t)}zQ(){const t=ua.gL.Qz();this.kQ(te.dU,KA(t))}BQ(t){this.kQ(te.fU,KA(t)),this.kQ(te._U,KA(t))}DQ(){if(!this.HU())return;const t=x.round(qt(this.Qo.z_()));this.kQ(te.wU,t)}RQ(){const t=Ki.xn(this.Qo.L_()),i=this.Qo.z_(),e=t.oR(i),s=e?qt(e.jn(0)-i):0;this.kQ(te.cU,s)}kQ(t,i){this.FU&&this.GU.UQ(t,i)}constructor(...t){super(...t),this.xQ=Qt(),this.LQ=0,this.yQ=0,this.MQ=0,this.TQ=[],this.NQ=()=>{this.OQ(),this.jQ(),this.RQ()},this.SQ=t=>{t.aE===hv.vp&&(this.bQ(t.dN),this.zQ(),this.BQ(t.QQ),this.DQ())},this.IQ=t=>{const i=t.status.toString()[0],e=this.xQ.get(i)||0;this.xQ.set(i,e+1),this.CQ(te.rU,"1"),this.CQ(te.hU,"2"),this.CQ(te.oU,"3"),this.CQ(te.aU,"4"),this.CQ(te.uU,"5")}}};r(),r(),r();var bt=class{OL(t){this.FQ.delete(t)}YQ(){this.FQ.clear()}kL(t){return this.FQ.get(t)}zz(t,i){this.FQ.set(t,i)}constructor(){this.FQ=Qt()}},ci=class t{static GQ(){return t.gL||(t.gL=TS.Ux()?new TS:new bt),t.gL}static OL(i){t.GQ().OL(i)}static YQ(){t.GQ().YQ()}static kL(i){return t.GQ().kL(i)}static zz(i,e){t.GQ().zz(i,e)}};ci.gL=void 0;var Dr,TS=class extends ci{static Ux(){const t="foobar";try{return self.sessionStorage.setItem(t,t),self.sessionStorage.removeItem(t),!0}catch(t){return!1}}OL(t){self.sessionStorage.removeItem(t)}YQ(){self.sessionStorage.clear()}kL(t){var i;return null!=(i=self.sessionStorage.getItem(t))?i:void 0}zz(t,i){self.sessionStorage.setItem(t,i)}};function NS(t){return t&&t.integration===kS}function DS(t){if(!ae(t.asset))throw new k("Agama source configuration: expected 'asset' to be a string");if(!function(t){return!!ae(t)&&("live"===t||"vod"===t)}(t.streamType))throw new k("Agama source configuration: expected 'streamType' to be 'live' or 'vod'");if(void 0!==t.serviceName&&!function(t){return!!ae(t)&&("live"===t||"svod"===t||"nvod"===t||"tvod"===t||"avod"===t||"catchuptv"===t)}(t.serviceName))throw new k("Agama source configuration: expected 'serviceName' to be 'live', 'svod', 'nvod','tvod', 'avod' or 'catchuptv'");if(void 0!==t.cdn&&!ae(t.cdn))throw new k("Agama source configuration: expected 'cdn' to be a string");if(void 0!==t.contentTitle&&!ae(t.contentTitle))throw new k("Agama source configuration: expected 'contentTitle' to be a string");if(void 0!==t.contentType&&!ae(t.contentType))throw new k("Agama source configuration: expected 'contentType' to be a string");if(void 0!==t.contentDescription&&!ae(t.contentDescription))throw new k("Agama source configuration: expected 'contentDescription' to be a string");return t}function IS(t){if(!ae(t.config))throw new k("Agama player configuration: expected 'config' to be a string");if(void 0!==t.logLevel&&!function(t){return!!ae(t)&&("info"===t||"debug"===t||"warning"===t||"error"===t||"fatal"===t)}(t.logLevel))throw new k("Agama player configuration: expected 'logLevel' to be 'info', 'debug', 'warning','error' or 'fatal'");if(void 0!==t.application&&!ae(t.application))throw new k("Agama player configuration: expected 'application' to be a string");if(void 0!==t.applicationVersion&&!ae(t.applicationVersion))throw new k("Agama player configuration: expected 'applicationVersion' to be a string");if(void 0!==t.userAccountID&&!ae(t.userAccountID))throw new k("Agama player configuration: expected 'userAccountID' to be a string");if(void 0!==t.deviceID&&!ae(t.deviceID))throw new k("Agama player configuration: expected 'deviceID' to be a string");return t}function SS(){let t="00000000-0000-0000-0000-000000000000",i=s.navigator,e=s.screen,n=""+i.mimeTypes.length;n+=i.userAgent.replace(/\D+/g,""),n+=i.plugins.length,n+=e.height||"",n+=e.width||"",n+=e.pixelDepth||"",n+=x.floor(1e3*x.random());let r=function(t){let i,e,s=0;if(0===t.length)return"0";for(i=0;i<t.length;i++)e=t.charCodeAt(i),s=(s<<5)-s+e,s|=0;return x.abs(s).toString().substring(0,12)}(n);return t=[t.slice(0,t.length-r.length),r].join(""),t}function ES(t,i,e){const s=i,n=function(t,i){return ka(i)?t.DsProtocol.APPLE_HLS:t.DsProtocol.MPEG_DASH}(t,s.type),r=function(t,i){let e=t.DsPlaylistType.VOD;"live"===i&&(e=t.DsPlaylistType.LIVE);return e}(t,e.streamType);return{asset:e.asset,playlistType:r,protocol:n,uri:s.src}}r(),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Dr||(Dr={}));var bS,ol,Ga,LS=class{VQ(){this.Qo.fn(Nr.ha,this.WQ),this.HQ(),this.qQ(),this.GU.XQ()}ZQ(){this.Qo.KQ.va.chromecast&&this.Qo.KQ.va.chromecast.addEventListener("statechange",this.JQ)}qQ(){this.Qo.KQ.va.chromecast&&this.Qo.KQ.va.chromecast.removeEventListener("statechange",this.JQ)}$Q(){return void 0!==this.Qo.KQ.va.chromecast&&this.Qo.KQ.va.chromecast.state===Dr.CONNECTED}gn(){this.Qo.fn(t.lo,this.do),this.Qo.fn(t.jh,this.tF),this.Qo.fn(t.kA,this.iF),this.VQ(),this.GU.gn()}eF(){this.sF||(this.sF=new pS(this.Qo,this.GU)),this.nF||(this.nF=new MS(this.Qo,this.GU)),this.rF||(this.rF=new yS(this.Qo,this.GU))}QU(){this.sF&&(this.sF.QU(),this.sF.yn("UU",this.hF)),this.nF&&this.nF.QU(),this.rF&&this.rF.QU()}HQ(){this.sF&&(this.sF.fn("UU",this.hF),this.sF.gn(),this.sF=void 0),this.nF&&(this.nF.gn(),this.nF=void 0),this.rF&&(this.rF.gn(),this.rF=void 0)}vQ(t){this.rF&&this.rF.vQ(t)}oF(){this.sF&&this.sF.sQ()}iQ(){this.sF&&this.sF.iQ()}constructor(i,e,s){this.Qo=i,this.GU=e,this.do=()=>{this.aF(),this.iF()},this.aF=()=>{const t=this.Qo.Wa(),i=t&&t.analytics;this.uF=function(t){void 0===t&&(t=[]);for(let i of t)if(NS(i))return DS(i)}(i)},this.iF=()=>{this.VQ(),this.Qo.fn(t.jh,this.tF),!this.$Q()&&this.GU.cF()&&this.Qo.bt&&this.uF&&(this.eF(),this.Qo.hg||this.Qo.R_?this.Qo.yn(t.jh,this.tF):this.tF())},this.tF=()=>{this.Qo.bt&&this.uF&&(this.GU.lF(this.Qo.bt,this.uF),this.QU(),this.vQ(this.uF),this.ZQ(),this.Qo.yn(Nr.ha,this.WQ),this.Qo.fn(t.jh,this.tF))},this.JQ=()=>{this.$Q()&&this.VQ()},this.WQ=()=>{this.oF(),this.VQ()},this.hF=()=>{this.nF&&this.nF.EQ()};const n=function(t){void 0===t&&(t=[]);for(const i of t)if(NS(i))return IS(i)}(s.analytics);n&&this.GU.dF()&&(this.GU.Yg(n),this.GU.cF()?(this.GU.fF(),this.Qo.yn(t.lo,this.do),this.Qo.yn(t.kA,this.iF)):console.warn("An error occurred while initializing an Agama EMP client. Please check your configuration"))}},kS="agama";function CS(t){switch(t){case"":return bS.NONE;case"horizontal":return bS.HORIZONTAL;case"vertical":return bS.VERTICAL;default:throw new k}}function xS(t,i){if(i)return ol.PM360;if(null==t)return ol.NONE;switch(t){case"":return ol.NONE;case"360":return ol.PM360;case"180":return ol.PM180;default:throw new k("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}r(),r(),function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(bS||(bS={})),r(),function(t){t.NONE="",t.PM360="360",t.PM180="180"}(ol||(ol={})),r(),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(Ga||(Ga={})),r();var OS="https://content.uplynk.com";function jS(t){if(!t)return!0;const i=!function(t){return Ia(t)||rt(t)&&Ia(t[0])}(t.sources)||Rv(t.sources),e=!t.ads||zS(t.ads),s=""!==t.poster&&!t.poster;return i&&e&&s}function zS(t){return!t||pi(t)&&0===t.length}function PS(t){if(t&&t.sources)return BS(t.sources)}function BS(t){return ae(t)?ca(t):Pv(t)?t.type||t.src&&ca(t.src):rt(t)&&t.length>0?BS(t[0]):void 0}function RS(t){if(t&&t.sources)return US(t.sources)}function US(t){return ae(t)?t:Pv(t)?t.src:rt(t)&&t.length>0?US(t[0]):void 0}function QS(t,i,e){return xv(t)?function(t,i,e){let s=At({},Uv(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:ms.VERIZON_MEDIA,id:"",prefix:OS,preplayParameters:{},playbackUrlParameters:{},assetType:Ga.ASSET,contentProtected:!1,assetInfo:!0});s.id=function(t){if(ae(t))return t;if(rt(t)&&ae(t[0]))return t;if(function(t){return Mi(t)&&ae(t.userId)&&(rt(t.externalId)||ae(t.externalId))}(t))return t;return""}(t.id),t.preplayParameters&&(s.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(s.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(s.assetType=function(t){switch(t){case"channel":return Ga.CHANNEL;case"event":return Ga.EVENT;default:return Ga.ASSET}}(t.assetType));t.contentProtected&&(s.contentProtected=Cg(t.contentProtected));t.assetInfo?s.assetInfo=Cg(t.assetInfo):s.assetInfo="asset"===s.assetType;t.prefix&&(s.prefix=Oa(t.prefix)||OS);return s.ping=function(t,i){let e=!1,s=!1,n=!1;i?(e=!!z_(i.adImpressions)&&i.adImpressions,s=!!z_(i.freeWheelVideoViews)&&i.freeWheelVideoViews,n=z_(i.linearAdData)?i.linearAdData:t!==Ga.ASSET):t!==Ga.ASSET&&(n=!0);return{adImpressions:e,freeWheelVideoViews:s,linearAdData:n}}(s.assetType,t.ping),s=YS(s,t),s=VS(s,i,e),s=GS(s,t,e),s}(t,i,e):jv(t)?function(t,i,e){var s;return At({},FS(t,i,e),{integration:ms.MEDIATAILOR,adParams:null!=(s=t.adParams)?s:{}})}(t,i,e):Ov(t)?function(t,i,e){return At({},FS(t,i,e),{integration:ms.THEOLIVE})}(t,i,e):FS(t,i,e)}function FS(t,i,e){let s=Qv();const n=i&&(i.contentProtection||i.drm);if(ae(t)){if(s.src=t,s.type=ca(t),n){const t=XI(n);s.contentProtection=mv(t)}}else if(Pv(t)||Cv(t)){s.src=t.src,s.type=t.type||ca(t.src),s.isAdvertisement=t.isAdvertisement;const i=Bv(t)?t.hesp:void 0;void 0!==i&&(s.hesp=i);jv(t)&&(s.integration=t.integration);const e=XI(t.contentProtection||t.drm||n);s.contentProtection=mv(e),t.ssai&&(s.ssai=ww(t.ssai)),s=YS(s,t)}return s=VS(s,i,e),s=GS(s,t,e),s}function YS(t,i){var e,s;i.useCredentials?t.crossOrigin=Ds.Uv:i.crossOrigin&&(t.crossOrigin=Lv(i.crossOrigin)),ae(i.timeServer)&&(t.timeServer=i.timeServer),i.liveOffset&&(t.liveOffset=i.liveOffset),i.hlsDateRange&&(t.hlsDateRange=i.hlsDateRange),i.lowLatency&&(t.lowLatency=Cg(i.lowLatency)),i.useNativePlayback&&(t.useNativePlayback=Cg(i.useNativePlayback)),i.useManagedMediaSource&&(t.useManagedMediaSource=Cg(i.useManagedMediaSource)),i.dash&&(t.dash=pv(i.dash)),i.hls&&(t.hls=yv(i.hls)),i.lcevc&&(t.lcevc=Cg(i.lcevc)),i.ignoreEmbeddedTextTrackTypes&&(t.ignoreEmbeddedTextTrackTypes=Vv(i.ignoreEmbeddedTextTrackTypes)),t.seamlessSwitchStrategy=Ev(null!=(s=i.seamlessSwitchStrategy)?s:null==(e=i.dash)?void 0:e.useSeamlessPeriodSwitch);const n=ru(i.experimentalRendering);void 0!==n&&(t.experimentalRendering=n);const r=ru(i.nativeUiRendering);return void 0!==r&&(t.nativeUiRendering=r),t}function GS(t,i,e){return t.abr=Nv(ae(i)?void 0:Tv(i.abr),null==e?void 0:e.abr),t}function VS(t,i,e){var s;const n=i&&i.timeServer;return e&&e.liveOffset&&!li(t.liveOffset)&&(t.liveOffset=e.liveOffset),e&&e.hlsDateRange&&!li(t.hlsDateRange)&&(t.hlsDateRange=e.hlsDateRange),t.crossOrigin===Ds.Bv&&(null==i||null==(s=i.vr)?void 0:s[360])&&(t.crossOrigin=Ds.Rv),t.useCredentials=t.crossOrigin===Ds.Uv,ae(n)&&!t.timeServer&&(t.timeServer=n),t}function WS(t){const i={src:""};if(t&&t.src){if(i.src=Oa(t.src),"default"in t&&(i.default=Cg(t.default)),i.kind=function(t){const i=String(t||"").toLowerCase();return sy(i)?i:i?"metadata":"subtitles"}(t.kind),Ni(t.format)&&(i.format=t.format),"srclang"in t){const e=t.srclang;"string"==typeof e&&""!==e&&(i.srclang=e)}if("label"in t){const e=t.label;"string"==typeof e&&""!==e&&(i.label=e)}}return i}function HS(t,i){if(Li(t))try{return i.KR(t)._F(t)}catch(t){return}}function qS(t){return ae(t.sources)&&""!==t.sources||Mi(t.sources)&&ae(t.sources.src)}function XS(t){return t.integration===uS.SPOTX&&!j(t.id)}function ZS(t){return"freewheel"===t.integration}function il(t,i,e){if(void 0===e&&(e=Zo.gL),jS(t))return{sources:[Qv()]};const s=Kr(t);if(s.sources=function(t,i,e){if(Ia(t))return[QS(t,i,e)];if(rt(t)&&Ia(t[0])){const s=[];for(const n of t)s.push(QS(n,i,e));return s}return[Qv()]}(s.sources,s,i),"contentProtection"in s&&delete s.contentProtection,"drm"in s&&delete s.drm,"ads"in s){const t=function(t,i){if(!rt(t))return[];const e=[];for(let s of t)s=HS(s,i),s&&(qS(s)||XS(s)||ZS(s))&&e.push(s);return e}(s.ads,e);0===t.length?delete s.ads:s.ads=t}const n=!Rv(s.sources),r=s.ads&&s.ads.length>0;if(n&&!r?delete s.ads:r&&!n&&(s.sources=[]),"textTracks"in s){const t=function(t){if(!rt(t))return[];const i=[];for(let e of t)e=WS(e),""!==e.src&&i.push(e);return i}(s.textTracks);0===t.length?delete s.textTracks:s.textTracks=t}"poster"in s&&(s.poster=Oa(s.poster)),"streamType"in s&&(s.streamType=function(t){switch(t){case"live":case"dvr":case"vod":return t}}(s.streamType)),"vr"in s&&(s.vr=function(t){const i=t||{};return i.stereoMode=function(t){return function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(t)?t:""}(i.stereoMode),{panoramaMode:xS(i.panoramaMode,Boolean(i[360])),stereoMode:i.stereoMode?CS(i.stereoMode):bS.NONE,nativeVR:Boolean(i.nativeVR)}}(s.vr));if("analytics"in s||(null==i?void 0:i.analytics)){const t=Yv(s.analytics),e=i&&i.analytics||[];s.analytics=function(t,i){const e=Kr(t);for(const s of i){const i=!t.some((t=>t.integration===s.integration));i&&s.integration!==kS&&e.push(s)}return e}(t,e)}return"mutedAutoplay"in s&&(s.mutedAutoplay=Xv(s.mutedAutoplay)),"timeServer"in s&&delete s.timeServer,"playAdsAfterTime"in s&&(s.playAdsAfterTime=Ih(s.playAdsAfterTime)),s.blockContentIfAdError=function(t){return void 0!==t&&"boolean"==typeof t&&Boolean(t)}(s.blockContentIfAdError),s}r();var KS=!(Zt.Cb&&!Zt.Ob),ju=self.console;function JS(t){if(Mi(t))try{return JSON.stringify(t)}catch(t){}return t}function $S(t){return t.map(JS).join(" ")}function tE(t){const i=ju&&ju[t];return i?i.bind&&KS?i.bind(ju):function(){for(var i=arguments.length,e=new Array(i),s=0;s<i;s++)e[s]=arguments[s];ju[t]($S(e))}:void 0}var Vu=tE("log")||fg,Bi=tE("warn")||Vu.bind(void 0,"WARNING:"),oc=tE("error")||Vu.bind(void 0,"ERROR:"),iE=(()=>{const t=ju&&ju.assert;return t?t.bind&&KS?t.bind(ju):function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];ju.assert(t,$S(e))}:function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];t||oc("Assertion failed:",...e)}})();r(),r(),r();var eE=function(){function t(t){this.gF=t}return t.prototype.wF=function(t){var i,e,s,n,r,h,o,a=[];if(!t)return"";var u=t.length%4;if(u>0)for(;u++<4;)t+=this.gF.charAt(64);for(i=0;i<t.length;i+=4)e=(o=this.gF.indexOf(t.charAt(i))<<18|this.gF.indexOf(t.charAt(i+1))<<12|(r=this.gF.indexOf(t.charAt(i+2)))<<6|(h=this.gF.indexOf(t.charAt(i+3))))>>>16&255,s=o>>>8&255,n=255&o,a[i/4]=String.fromCharCode(e,s,n),64===h&&(a[i/4]=String.fromCharCode(e,s)),64===r&&(a[i/4]=String.fromCharCode(e));return a.join("")},t.prototype.AF=function(t,i){var e,s,n,r,h,o,a,u=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.gF.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)s=(e=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,n=e>>12&63,r=e>>6&63,h=63&e,u[o/3]=this.gF.charAt(s)+this.gF.charAt(n)+this.gF.charAt(r)+this.gF.charAt(h);return a=(a=u.join("")).slice(0,a.length-c.length),i||(a+=c),a},t.lh=new t(function(){var t,i,e,s,n=[],r=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<r.length;t+=1)for(i=r[t],e=0;e<i.length;e+=1)s=i.charAt(e),-1===n.indexOf(s)&&n.push(s);return n.join("")}()),t.vF=new t(function(t){return t.wF("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")}(t.lh)),t}();function wc(t){return"string"==typeof t}function sE(t){return"number"==typeof t}r(),r(),r();var nE={}.toString;var A,rE=Array.isArray||function(t){return"[object Array]"===nE.call(t)};function lc(t,i){return rE(t)&&t.every(i)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf",t.THEOLIVEWEB="theoliveweb"}(A||(A={}));var it,hE=_.keys(A).map((function(t){return A[t]}));function oE(t){return-1!==hE.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview"}(it||(it={}));var aE,uE=_.keys(it).map((function(t){return it[t]}));function cE(t){return-1!==uE.indexOf(t)}function lE(t){try{var i=eE.vF.wF(t),e=JSON.parse(i);if(!function(t,i){var e,s=function(t){return"object"==typeof t&&null!==t}(t),n=wc(t.key),r=wc(t.customer_id),h=sE(t.generation_date),o=sE(t.expiration_date),a=lc(t.domains_page,wc),u=lc(t.domains_source,wc),c=lc(t.sdks,i?oE:wc),l=function(t){return"boolean"==typeof t}(t.send_impression);t.features?e=lc(t.features,i?cE:wc):(e=!0,t.features=[]);if(!(s&&n&&r&&h&&o&&a&&u&&c&&l&&e))return!1;return!0}(e,!1))throw new b("The provided license could not be decoded correctly.");return e}catch(t){throw new b("The provided license could not be decoded correctly.")}}function dE(){return aE||(aE={zu:Qy.href,mF:Ys.parent&&Ys.parent!==s,pF:_E()}),aE}var re,fE=["http:","https:","ftp:","ws:","wss:"];function _E(){var t;try{if(null==Ys?void 0:Ys.top)return Ys.top.location.href}catch(t){}return null==Ys||null==(t=Ys.document)?void 0:t.referrer}!function(t){t[t.yF=0]="yF",t[t.MF=1]="MF",t[t.TF=2]="TF"}(re||(re={}));var gE,wE=class{constructor(t,i,e,s,n=[],r="",h=Date.now(),o=[],a=!0){this.NF=t,this.DF=i,this.IF=e,this.SF=s,this.EF=n,this.bF=r,this.LF=h,this.kF=o,this.CF=a}};!function(t){t.MF="expired",t.xF="invaliddomain",t.OF="invalidsource",t.jF="invalidfeature",t.ha="error"}(gE||(gE={}));var AE=class t{zF(t,i){let e=[];Ia(t.sources)?e=[t.sources]:rt(t.sources)&&(e=t.sources),this.PF(t,e,i),this.BF(e,i)}PF(t,i,e){if(jS(t)||0===e.IF.length||pE(e.IF))return;if(!i.every((t=>this.RF(t,e)))){const t="invalidsource",i=Vt.UF(t);throw new ce(vE(t),i)}}BF(t,i){for(const e of t)Pv(e)&&Bv(e)&&!e.bypassLicense&&this.QF([it.HESP],i)}FF(i){return this.YF(i.kF)&&this.GF(i)?t.VF(i.SF)?0:1:2}QF(t,i){for(const e of t)if(!Ho(i.EF,e)){const t="invalidfeature",i=Vt.WF(t,e);throw new ce(vE(t),i)}}YF(t){return 0===t.length||t.some((t=>this.HF(t)))}HF(t){return"web"===function(t){switch(t){case A.ANDROID:return Ty.TE;case A.ANDROIDTV:case A.FIRETV:return Ty.NE;case A.IOS:return Ty.DE;case A.TVOS:return Ty.SE;case A.CHROMECAST:case A.CHROMECASTCAF:return Ty.EE;case A.THEOLIVEWEB:return Ty.bE;default:return Ty.ME}}(t)}static VF(t){const i=Number(new Date);return!!t&&i<=t}GF(t){return!(this.qF&&0!==t.DF.length&&!pE(t.DF))||!!(this.qF&&this.XF(t.DF)&&this.ZF(t.DF))}XF(t){return yE(this.Ck.zu,t)}ZF(t){if(!this.Ck.mF)return!0;if(this.KF)return!0;const i=this.JF();return!!i&&yE(i,t)}JF(){if(!this.Ck.mF)return;const t=ed.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Ck.pF?this.Ck.pF:void 0}RF(i,e){return!!t.tY(i,e.IF)}static tY(t,i){return yE(this.iY(t),i)}static iY(t){return ae(t)?t:Pv(t)&&t.src||""}constructor(t,i,e){this.KF=t,this.eY=i,this.Ck=e,this.qF=TE(this.Ck)}};function vE(t){switch(t){case"invaliddomain":return y_.LICENSE_INVALID_DOMAIN;case"invalidsource":return y_.LICENSE_INVALID_SOURCE;case"expired":return y_.LICENSE_EXPIRED;case"invalidfeature":return y_.LICENSE_INVALID_FEATURE;case"error":return y_.LICENSE_ERROR}}function mE(t,i){let e=t,s=i;if(!e)return!1;if(s=s.trim(),"*"===s)return!0;if(e=e.replace(/\.+$/,""),s===e)return!0;const n="\\.",r="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",h="(\\*|"+r+")",o=new RegExp("ip-range\\("+h+n+h+n+h+n+h+"\\)"),a=s.match(o),u=t=>"*"===t?"("+r+")":t;if(null!==a&&5===a.length){const t=new RegExp("^"+a[1]+n+u(a[2])+n+u(a[3])+n+u(a[4])+"$");return null!==e.match(t)}return s="."+s,-1!==e.indexOf(s,e.length-s.length)}function pE(t){return t.some((t=>"*"===t))}function yE(t,i){const e=lg.Dh(t);if(!ME(e))return!0;for(const s of i){if(mE(e.hostname,s))return!0;if(mE(cw(t),s))return!0}return!1}function ME(t){return-1!==fE.indexOf(t.protocol)}function TE(t){const i=lg.Dh(t.zu);return ME(i)&&!function(t){return mE(t.hostname,"localhost")}(i)&&!function(t){return mE(t.hostname,"theoplayer.doubleclick.net")}(i)}var Rs,Vt=class{static WF(t,i){return"The requested feature '"+i+"' is not available with the license for this player."}static UF(t){return"invaliddomain"===t?this.sY:"invalidsource"===t?this.nY:"expired"===t?this.rY:"invalidfeature"===t?this.hY:this.oY}};function NE(t){const i=[t.fT,t.aY,t.uY];switch(t.aY){case 1:i.push(t.oA);break;case 4:i.push(t.j_),i.push(t.lt);break;case 5:i.push(t.lt)}return i}Vt.oY="The license for this player is invalid.",Vt.rY="The usage license for this video player has expired.",Vt.sY="The current domain is incompatible with the license for this player.",Vt.nY="The provided video source is incompatible with the license for this player.",Vt.hY="The requested feature is not available with the license for this player.",r(),r(),function(t){t[t.cY=1]="cY",t[t.lY=4]="lY",t[t.dY=5]="dY"}(Rs||(Rs={})),r();var nl=new Array(256);for(let t=0;t<256;t+=1)nl[t]=(t<16?"0":"")+t.toString(16);function $e(){const t=Qo(),i=(4294967296*x.random()|0)+t&3029421624,e=(4294967296*x.random()|0)+t&3595553209,s=(4294967296*x.random()|0)+t&1130486254,n=(4294967296*x.random()|0)+t&1284287105;return nl[255&i]+nl[i>>>8&255]+nl[i>>>16&255]+nl[i>>>24&255]+"-"+nl[255&e]+nl[e>>>8&255]+"-"+nl[e>>>16&15|64]+nl[e>>>24&255]+"-"+nl[63&s|128]+nl[s>>>8&255]+"-"+nl[s>>>16&255]+nl[s>>>24&255]+nl[255&n]+nl[n>>>8&255]+nl[n>>>16&255]+nl[n>>>24&255]}function DE(t){return za(t.replace(/-/g,""))}function IE(){return lg.f_()}r(),r(),r();var SE,EE="theoplayer-session-id";function bE(){if(!SE){const t=ci.kL(EE);t?SE=t:(SE=$e(),ci.zz(EE,SE))}return SE}r(),r();var LE=/[^\x00-\x7E]/g;function kE(t){return"\\u"+fa(t.charCodeAt(0).toString(16),4,"0")}var CE="https://license.theoplayer.com";function xE(t){const i=function(t){const i=[];return function(t,i,e){return JSON.stringify(t,i,e).replace(LE,kE)}(t,((t,e)=>{if(Mi(e)){if(-1!==i.indexOf(e))return null;i.push(e)}return e}))}(function(t){return[t.fY,t.nx,t.NF,t._y,t._Y,t.gY,t.wY.map(NE)]}(t));return eE.vF.AF(i)}var OE=class{get wY(){return this.kR}AY(){return Boolean(this._Y)}get _Y(){return this.vY}async mY(t){if(!(await this.yY.pY()).CF)return;const i={aY:Rs.cY,uY:Qo(),oA:t};await this.aQ(i)}async MY(t,i){const e={aY:Rs.lY,uY:Qo(),j_:i,lt:t};await this.aQ(e)}async TY(t){const i={aY:Rs.dY,uY:Qo(),lt:t};await this.aQ(i)}async aQ(t){const i=await this.yY.pY();"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===this.NY.AF(i.NF)&&t.aY!==Rs.dY||(t.aY===Rs.cY?this.DY():this.AY()||this.DY(),t.fT=this.cC++,this.kR.push(t),!function(t){return t===Rs.cY||t===Rs.dY}(t.aY)?this.kR.length>this.IY&&await this.SY():await this.EY())}async EY(t){for(void 0===t&&(t=!1);this.kR.length>0;)await this.SY(t)}async bY(t){const i=await this.yY.pY();return{fY:Qo(),nx:bE(),NF:this.NY.AF(i.NF)||"dev",_y:this.jC,_Y:this.vY,gY:this.LY,wY:t}}async SY(t){void 0===t&&(t=!1);const i=this.kR.splice(0,this.kY),e=await this.bY(i);t?this.CY(e):this.xY(e),this.OY=IE()}async xY(t){const i=xE(t),e=new Uu({zu:CE,eE:i,uE:!1,rE:Rt.Ru,sE:{"Content-Type":ne.iz},NS:4e3,nE:Yc.POST});try{const t=await this.gE.mS(e);await t.Kj()}catch(t){(new Image).src="https://licensing.theoplayer.com/t?"+i}}CY(t){const i=xE(t);this.gE.CY({zu:CE,eE:i,LP:ne.iz})}DY(){this.AY()&&this.EY(),this.vY=$e(),this.cC=0}gn(){vs.jY(this.zY),m(this.PY),this.EY()}constructor(t,i,e,s=eE.lh,n=0,r=1){this.jC=t,this.gE=i,this.yY=e,this.NY=s,this.IY=n,this.kY=r,this.kR=[],this.vY=null,this.OY=0,this.LY="unknown",this.cC=0,this.BY=()=>{IE()-this.OY>6e4&&this.EY()},this.zY=()=>{this.EY(!0)},vs.RY(this.zY),this.PY=v(this.BY,6e4)}};r(),r(),r();var jE=0;var zE=c,Lr=self.requestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame,Gs=self.cancelAnimationFrame||self.webkitCancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelRequestAnimationFrame;Lr&&Gs||(Lr=function(t){const i=IE(),e=x.max(0,16-(i-jE)),s=u((()=>t(i+e)),e);return jE=i+e,s},Gs=zE),Lr=Lr.bind(self),Gs=Gs.bind(self);var PE=Zt.Cb||Zt.Ga&&Zt.Gb<13;function BE(t,i,e){const s=t.getImageData(i,e,1,1).data;return 0===s[0]&&0===s[1]&&0===s[2]&&0===s[3]}var _r,RE=class{get va(){var t;return null!=(t=this.Xa)?t:this.Xa=function(t){return{drawImage(i){for(var e=arguments.length,s=new Array(e>1?e-1:0),n=1;n<e;n++)s[n-1]=arguments[n];return t.UY(i,...s)},texImage2D:(i,e,s,n,r,h)=>t.QY(i,e,s,n,r,h),requestVideoFrameCallback:i=>t.FY(i),cancelVideoFrameCallback:i=>t.YY(i)}}(this)}UY(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];const n=this.GY;return void 0!==n&&(t.drawImage(n,...e),!0)}QY(t,i,e,s,n,r){let h=this.GY;return void 0!==h&&(PE&&(h=this.VY(h)),t.texImage2D(i,e,s,n,r,h),!0)}FY(t){const i=this.WY++,e=this.HY(t,i);return this.qY.set(i,{XY:t,ZY:e}),i}YY(t){const i=this.qY.get(t);void 0!==i&&(this.qY.delete(t),i.ZY())}HY(t,i){const e=this.GY;if(void 0===e)return fg;if(e instanceof HTMLVideoElement&&e.requestVideoFrameCallback){const s=e.requestVideoFrameCallback(((e,s)=>{this.qY.delete(i),t(e,s)}));return()=>e.cancelVideoFrameCallback(s)}{let e;const s=n=>{this.KY()?(this.qY.delete(i),this.JY=!1,t(n,void 0)):e=Lr(s)};return e=Lr(s),()=>Gs(e)}}KY(){return(!this.t.hg||this.JY)&&!this.t.Tg&&this.t.vg>=Os.iN}VY(t){let i=this.$Y;void 0===i&&(i=h.createElement("canvas"),this.$Y=i);const e=i.getContext("2d"),s=this.t,n=s.Lg,r=s.Ig,o=i.width,a=i.height;e.clearRect(0,0,i.width,i.height),o===n&&a===r||(i.width=n,i.height=r),e.drawImage(t,0,0,n,r);let u=!1;return n>0&&BE(e,n-1,0)&&(i.width=o,u=!0),r>0&&BE(e,0,r-1)&&(i.height=a,u=!0),u&&e.drawImage(t,0,0,n,r),i}gn(){this.qY.forEach((t=>t.ZY())),this.qY.clear(),this.t.fn(t.OA,this.tG),this.t.fn(t.XA,this.iG),this.GY=void 0,this.$Y=void 0}constructor(i){this.GY=void 0,this.Xa=void 0,this.$Y=void 0,this.qY=_e(),this.WY=1,this.JY=!0,this.iG=()=>{this.JY=!0},this.tG=()=>{this.GY=this.t.Ug(),this.qY.forEach(((t,i)=>{t.ZY(),t.ZY=this.HY(t.XY,i)}))},this.t=i,this.t.yn(t.OA,this.tG),this.t.yn(t.XA,this.iG),this.tG()}};r(),r(),r(),(_r||(_r={})).pn="dimensionchange";var UE=class extends mg{constructor(t,i){super(_r.pn),this.width=t,this.height=i}};r(),r();var QE,FE=class{constructor(t,i){this.we=t,this.XY=i}},YE=class extends FE{get _u(){return this.eG}get ku(){return this.sG}gn(){this.nG.disconnect()}constructor(t,i){super(t,i),this.eG=0,this.sG=0,this.rG=t=>{if(t.length>0){const i=t[t.length-1].contentRect;this.sG=i.width,this.eG=i.height,this.XY(this.sG,this.eG)}},this.nG=new Ys.ResizeObserver(this.rG),this.nG.observe(this.we)}};r(),r();var GE=["Webkit","Moz","O","ms"],VE=(()=>{let t=!1;try{if(void 0!==Ys&&"function"==typeof Ys.addEventListener){const i=_.defineProperty({},"passive",{get(){t=!0}});Ys.addEventListener("testPassiveEventSupport",fg,i),Ys.removeEventListener("testPassiveEventSupport",fg,i)}}catch(t){}return t})(),WE=Qt();function HE(t){return WE.has(t)||WE.set(t,function(t){const i=(QE||(QE=Ys&&Ys.document&&Ys.document.createElement("span")),QE);if(!i||!i.style)return t;if(void 0!==i.style[t])return t;const e=t.charAt(0).toUpperCase()+t.slice(1);for(const t of GE){const s=t+e;if(void 0!==i.style[s])return s}return t}(t)),WE.get(t)}function qE(t){const i=t.style;i.position="absolute",i.left="0",i.right="0",i.bottom="0",i.top="0",i.overflow="scroll",i.zIndex="-1",i.visibility="hidden"}function XE(t){const i=t.style;i.position="absolute",i.left="0",i.top="0",i[HE("transition")]="0s"}var ZE=class extends FE{gn(){Gs(this.hG),this.hG=0,this.oG.removeEventListener("scroll",this.aG),this.uG.removeEventListener("scroll",this.aG),di(this.cG),s&&s.removeEventListener("resize",this.lG)}get _u(){return this.we.getBoundingClientRect().height||this.eG||0}get ku(){return this.we.getBoundingClientRect().width||this.sG||0}constructor(t,i,e){super(t,i),this.hG=0,this.sG=NaN,this.eG=NaN,this.dG=void 0,this.Zn=()=>{const t=1e5;this.fG.style.width=t+"px",this.fG.style.height=t+"px",this.oG.scrollLeft=t,this.oG.scrollTop=t,this.uG.scrollLeft=t,this.uG.scrollTop=t,0===this.uG.scrollTop&&Lr(this.Zn)},this._G=()=>{const t=this.ku,i=this._u;this.XY(t,i),this.sG=t,this.eG=i,this.Zn(),this.hG=0},this.aG=()=>{if(this.hG)return;const t=this.ku,i=this._u;t===this.sG&&i===this.eG||(this.hG=Lr(this._G))},this.lG=()=>{this.dG||(this.dG=u(this.gG,66))},this.gG=()=>{this.dG=void 0,this.wG()},this.wG=()=>{this.aG()};const n=function(t,i){return s.getComputedStyle(t,void 0).getPropertyValue(i)||t.style[i]}(t,"position");e||"static"!==n||(t.style.position="relative");const r=h.createElement("div");this.cG=r,this.oG=h.createElement("div"),this.fG=h.createElement("div"),this.uG=h.createElement("div"),this.AG=h.createElement("div"),qE(this.oG),qE(this.uG),XE(this.fG),function(t){XE(t),t.style.width="200%",t.style.height="200%"}(this.AG),r.appendChild(this.oG),r.appendChild(this.uG),this.oG.appendChild(this.fG),this.uG.appendChild(this.AG),t.appendChild(r),this.oG.addEventListener("scroll",this.aG),this.uG.addEventListener("scroll",this.aG),s&&s.addEventListener("resize",this.lG),this.aG()}},KE=class extends i{bn(t){this.nG||("function"==typeof Ys.ResizeObserver?this.nG=new YE(this.we,this.rG):this.nG=new ZE(this.we,this.rG,t))}gn(){this.Vo(),this.nG&&(this.nG.gn(),this.nG=void 0)}get _u(){return this.nG?this.nG._u:0}get ku(){return this.nG?this.nG.ku:0}constructor(t){super(),this.nG=void 0,this.rG=(t,i)=>{this.Co(new UE(t,i))},this.we=t}};r(),r();var bc=class extends mg{constructor(){super(Ac.ra)}};r();var vc=function(){if(!h)return;const t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];for(let i of t)if(i[1]in h)return{vG:i[0],mG:i[1],pG:i[2],yG:i[3],Qe:i[4],MG:i[5]}}();r();var JE=class extends mg{constructor(){super(Ac.ca)}},$E=class t extends i{static ia(t){return Boolean(vc&&h[vc.yG]&&vc.vG in t)}mo(){const t=this.we[vc.vG]();t&&t.then?t.then(this.TG,this.NG):(h.removeEventListener(vc.MG,this.NG),h.addEventListener(vc.MG,this.NG))}So(){const t=h[vc.mG]();t&&t.then?t.then(this.TG,this.NG):(h.removeEventListener(vc.MG,this.NG),h.addEventListener(vc.MG,this.NG))}HR(){const t=this.cs,i=this.we===h[vc.pG];this.cs=i,t!==i&&this.Co(new bc)}qR(){this.Co(new Fu)}gn(){this.Vo(),h.removeEventListener(vc.Qe,this.TG),h.removeEventListener(vc.MG,this.NG)}constructor(i){super(),this.cs=!1,this.TG=()=>this.HR(),this.NG=()=>this.qR(),this.we=i,this.ta=t.ia(i),h.addEventListener(vc.Qe,this.TG),this.HR()}},tb=class t extends i{static ia(t){return Zt.Ga&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)}mo(){this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("fullscreen")?Zt.Ga?requestAnimationFrame((()=>this.we.webkitSetPresentationMode("fullscreen"))):this.we.webkitSetPresentationMode("fullscreen"):this.we.webkitEnterFullscreen()}So(){this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("inline")?this.we.webkitSetPresentationMode("inline"):this.we.webkitExitFullscreen()}HR(){const t=this.cs;let i;i=this.we.webkitPresentationMode?"fullscreen"===this.we.webkitPresentationMode:Boolean(this.we.webkitDisplayingFullscreen),this.cs=i,t!==i&&this.Co(new bc)}gn(){this.Vo(),this.we.removeEventListener("webkitbeginfullscreen",this.TG),this.we.removeEventListener("webkitendfullscreen",this.TG),this.we.removeEventListener("webkitpresentationmodechanged",this.TG)}constructor(i){super(),this.cs=!1,this.TG=()=>this.HR(),this.we=i,this.ta=t.ia(i),this.we.addEventListener("webkitbeginfullscreen",this.TG),this.we.addEventListener("webkitendfullscreen",this.TG),this.we.addEventListener("webkitpresentationmodechanged",this.TG),this.HR()}},ib=class extends i{get ta(){return!!this.DG&&this.DG.ta}get cs(){return this.YR}mo(){this.DG?this.DG.mo():this.Co(new Fu)}So(){for(const t of this.IG)t.cs&&t.So()}SG(t){this.DG=t}EG(t){this.IG.push(t),t.yn(Ac.ra,this.HR),t.yn(Ac.ha,this.Ds),this.HR()}bG(t){Et(this.IG,t),t.fn(Ac.ra,this.HR),t.fn(Ac.ha,this.Ds)}LG(){for(const t of this.IG)if(t.cs)return!0;return!1}Zn(){this.DG=void 0,this.YR=!1;const t=this.IG.slice();for(const i of t)this.bG(i),i.gn();this.HR()}gn(){this.Vo(),this.Zn()}constructor(...t){super(...t),this.IG=[],this.DG=void 0,this.YR=!1,this.HR=()=>{const t=this.YR,i=this.LG();t!==i&&(this.YR=i,this.Co(new bc))}}},eb=class extends i{get ta(){return!!this.kG&&this.CG.ta}get cs(){return this.CG.cs}mo(){this.kG&&this.CG.mo()}So(){this.CG.So()}xG(){this.CG.yn([Ac.ra,Ac.ca],this.HR),this.CG.yn(Ac.ha,this.Ds)}OG(){this.CG.fn([Ac.ra,Ac.ca],this.HR),this.CG.fn(Ac.ha,this.Ds)}Qn(){const t=this.CG,i=this.t.Rg();if(t===i)return;this.oa=!0;const e=this.cs,s=this.ta;e&&this.So(),this.OG(),this.CG=i,this.xG(),e&&!this.cs&&this.ta?this.mo():this.So(),this.oa=!1,s!==this.ta&&this.Co(new JE),e!==this.cs&&this.Co(new bc)}gn(){this.Vo(),this.OG(),this.t.fn(t.CA,this.jG)}constructor(i,e){super(),this.oa=!1,this.jG=()=>this.Qn(),this.HR=t=>{this.oa||this.Co(t)},this.t=i,this.kG=e,this.CG=new xc,this.xG(),this.t.yn(t.CA,this.jG),this.Qn()}};r(),r(),r(),r(),r(),r(),r(),M_(),r();var sb,nb=class extends Xo{get name(){return"AggregateError"}constructor(t){super(""+t.join("\n"),t[0]),this.causes=t}};function rb(t){return function(t){return new f({start(i){for(const e of t)i.enqueue(e);i.close()}})}([t])}function hb(t){return rb(function(t){return new T(t)}(t))}function Ut(t,i){return function(t,i){let e=i;const s=t.getReader(),n=new Eo,r=()=>{h();const t=new ia;s.cancel(t).catch(fg),n.zL(t)},h=()=>{e&&(e.r_(r),e=void 0)};e&&(e.$f?r():e.n_(r));const o=[],a=t=>t.done?(h(),Promise.resolve(o)):(o.push(t.value),Promise.resolve(s.read()).then(a));return Promise.resolve(s.read()).then(a).then((t=>{h(),n.jL(t)}),(t=>{h(),n.zL(t)})),n.PL}(t,i).then((t=>zh(t).buffer))}function ob(t,i){let e=i;const{readable:s,writable:n}=new _h,r=n.getWriter(),h=()=>{e&&e.c_()};return r.closed.then(h,h),t.then((t=>(e=void 0,r.releaseLock(),t.pipeTo(n).catch(fg))),(t=>(e=void 0,r.releaseLock(),n.abort(t).catch(fg)))),s}function ab(t){const{readable:i,writable:e}=new _h;return t.pipeTo(e,{preventCancel:!0}).catch((i=>{let e;e=pi(i)?i[0]===i[1]||So(i[0])&&So(i[1])?i[0]:new nb(i):i,t.cancel(e).catch(fg)})),i.tee()}function ub(t){return ya(new T(t))}function cb(t){return HA(t).buffer}r(),function(t){t[t.zS=0]="zS",t[t.zG=1]="zG"}(sb||(sb={}));var lb="content-type",db="text/plain;charset=UTF-8",fb=class{Oj(t){return this.wE(t).then(JSON.parse)}lj(t,i){switch(t){case Rt.OS:return this.Kj(i);case Rt.jS:return this.Oj(i);case Rt.zS:return this.BG();case Rt.Ru:return this.wE(i);default:throw new k}}};function _b(t,i,e){if(t instanceof fb)return t;if(t instanceof f)return function(t,i){return new wb({hA:0,BG:t,LP:gb(i)})}(t,e);const s=gb(e),n=Promise.resolve(t).then((t=>function(t,i){if(t){if("string"==typeof t)return{hA:Rt.Ru,eE:t,LP:i||db};if(t instanceof ArrayBuffer||aa(t))return{hA:Rt.OS,eE:Tb(t),LP:i};if(Li(t)||pi(t))return{hA:Rt.jS,eE:t,LP:i};throw new k("Unsupported BodyInit type")}return{hA:Rt.Ru,eE:null,LP:i}}(t,s)));return new wb({hA:1,PL:n,UG:i})}function gb(t){return(t.get(lb)||"").toLowerCase()}var wb=class t extends fb{get QG(){return this.FG}YG(){return this.GG.PL}wE(t){return this.VG(Ab,t)}Oj(t){return this.VG(mb,t)}Kj(t){return this.VG(yb,t)}BG(){return this.WG(function(t){return 0===t.hA?t.BG:ob(t.PL.then(Mb).then(hb),t.UG)}(this.HG))}VG(t,i){if(this.FG)return Promise.reject(new k("Already used"));this.FG=!0;const e=t(this.HG,i);return this.GG.l_(e.then(fg)),e}WG(t){if(this.FG)throw new k("Already used");if(t.locked)throw new k("Body stream is locked");this.FG=!0;const i=new _h,e=Promise.resolve(t.pipeTo(i.writable));return this.GG.l_(e),i.readable}qG(t){this.HG=t,1===t.hA&&t.PL.catch(fg)}XG(){if(this.FG)throw new k("Already used");const i=function(t){if(0===t.hA){const[i,e]=t.BG.tee();return[{hA:t.hA,BG:i,LP:t.LP},{hA:t.hA,BG:e,LP:t.LP}]}{const[i,e]=t.UG.d_();return[{hA:t.hA,PL:t.PL,UG:i},{hA:t.hA,PL:t.PL,UG:e}]}}(this.HG),e=i[0],s=i[1];return this.qG(e),new t(s)}constructor(t){super(),this.FG=!1,this.GG=new Eo,this.GG.PL.catch(fg),this.qG(t)}};function Ab(t,i){return 0===t.hA?Ut(t.BG,i).then(ub):(i&&t.UG.l_(i),dt(t.PL.then(vb),t.UG))}function vb(t){switch(t.hA){case Rt.Ru:return Promise.resolve(t.eE||"");case Rt.OS:return Promise.resolve(t.eE).then(ub);case Rt.jS:return Promise.resolve(t.eE).then(JSON.stringify)}}function mb(t,i){return 0===t.hA?Ab(t,i).then(JSON.parse):(i&&t.UG.l_(i),dt(t.PL.then(pb),t.UG))}function pb(t){return t.hA===Rt.jS?Promise.resolve(t.eE):vb(t).then(JSON.parse)}function yb(t,i){return 0===t.hA?Ut(t.BG,i):(i&&t.UG.l_(i),dt(t.PL.then(Mb),t.UG))}function Mb(t){switch(t.hA){case Rt.OS:return Promise.resolve(t.eE);case Rt.Ru:case Rt.jS:return vb(t).then(cb)}}function Tb(t){return t instanceof ArrayBuffer?t:Ae(ko(t)).buffer}var Nb=class extends fb{get QG(){return this.ZG.QG}YG(){return this.ZG.YG()}wE(t){return this.ZG.wE(t)}Oj(t){return this.ZG.Oj(t)}Kj(t){return this.ZG.Kj(t)}BG(t){return this.ZG.BG(t)}XG(){return this.ZG.XG()}constructor(t){super(),this.ZG=t}};function pc(t){return t.TS>=200&&t.TS<=299||304===t.TS}var $o=class t extends Nb{Cp(t){return this.lj(this.rE,t)}Ip(){return new t({Cp:this.XG(),mS:this.mS},this)}constructor(t,i){let e,s,n,r,h;i?(e=i.sE,s=i.rE,n=i.TS,r=i.jj,h=i.KG):(e=[],s=Rt.Ru,n=200,r="OK",h=!1);const o=t.mS,a=new Yo(t.sE||e),u=t.rE||s,c=t.AE||(i&&i.mS===o?i.AE:o.zu),l=i?i.ZG:null;super(_b(void 0!==t.Cp?t.Cp:l,t.UG||new xs,a)),this.sE=a,this.mS=o,this.AE=c,this.rE=u,this.TS=void 0!==t.TS?t.TS:n,this.jj=void 0!==t.jj?String(t.jj):r,this.KG=t.KG||h}},Db=class{mS(i){const e=function(i){return new $o({Cp:null,sE:{},mS:i,AE:i.zu,rE:i.rE,TS:0,jj:t.YA})}(new Uu(i));return Promise.resolve(e)}CY(t){}gn(){}};var Ib=class t{static get JG(){return t.$G||(t.$G=new t(new Db)),t.$G}mS(t){const i=this.tV(t);return this.iV.mS(i)}CY(t){return this.iV.CY(this.eV(t))}tV(i){let e=new Uu(i);if(!this.sV){const i=t.nV(e.zu);e=new Uu({zu:i},e)}return e}eV(i){let e=i.zu;return this.sV||(e=t.nV(e)),{zu:e,eE:i.eE}}static nV(t){return lg.rV&&ew(t,"http://")?t.replace(":","s:"):t}gn(){this.iV.gn()}constructor(t,i=!0){this.iV=t,this.sV=i}};function Sb(t){let i;return{get url(){return t.zu},get method(){return t.nE},get headers(){return i||(i=t.sE.PS()),i},get body(){return t.eE},get useCredentials(){return t.uE},get type(){return t.hA},get subType(){return t.oE},get mediaType(){return t.aE},get responseType(){return t.rE}}}function Eb(t){switch(t.toLowerCase()){case"arraybuffer":return Rt.OS;case"json":return Rt.jS;case"stream":return Rt.zS;default:return Rt.Ru}}function bb(t){switch(t.toUpperCase()){case"POST":return Yc.POST;case"PUT":return Yc.PUT;case"DELETE":return Yc.DELETE;case"HEAD":return Yc.HEAD;case"OPTIONS":return Yc.OPTIONS;default:return Yc.GET}}function Lb(t){switch(t.toLowerCase()){case"manifest":return Ru.QS;case"segment":return Ru.FS;case"preload-hint":return Ru.YS;case"content-protection":return Ru.GS;default:return Ru.KT}}function kb(t){switch(t.toLowerCase()){case"initialization-segment":return ss.VS;case"fairplay-license":return ss.WS;case"fairplay-certificate":return ss.HS;case"widevine-license":return ss.qS;case"widevine-certificate":return ss.XS;case"playready-license":return ss.ZS;case"clearkey-license":return ss.KS;case"aes128-key":return ss.JS;default:return ss.KT}}function Cb(t){switch(t.toLowerCase()){case"audio":return nn.mp;case"video":return nn.vp;case"text":return nn.Ru;case"image":return nn.ZT;default:return nn.KT}}Ib.$G=void 0,r(),r(),r();var xb=class{get hV(){return this.oV.PL}get va(){return this.Xa||(this.Xa=this.aV()),this.Xa}get uV(){return this.cV}get lV(){return!this.cV}get dV(){return this.fV>0}get yS(){return this.MS}qp(){this.cV=!0,this.oV.jL(null)}_V(){this.oV.zL(new nb(this.gV))}wV(t){if(!this.lV)throw new k("Cannot respond more than once");if(!Mi(t))throw new k("Expected valid response");this.MS=this.AV(t),this.qp()}vV(){try{const t=this.mV(this.va);t?this.pV(t):this.dV||this.uV||this.qp()}catch(t){this.gV.push(t),this._V()}}pV(t){if(this.uV)throw new b("Request has been redirected or a response already exists");if(vu(t))this.yV(t);else{if("function"!=typeof t)throw new k("Expected promise or function");{const i=new Eo,e=t=>{t?i.zL(t):i.jL(void 0)};try{const s=t(e);vu(s)&&i.l_(s)}catch(t){i.zL(t)}this.yV(i.PL)}}}async yV(t){try{this.fV++,await t,this.fV--,this.dV||this.uV||(this.gV.length?this._V():this.qp())}catch(t){this.fV--,this.gV.push(t),this.dV||this.uV||this._V()}}constructor(t,i){this.MV=t,this.mV=i,this.oV=new Eo,this.gV=[],this.Xa=void 0,this.cV=!1,this.MS=void 0,this.fV=0}},Ob=class t extends xb{get eE(){return this.TV}get sE(){return this.MV.sE}get mS(){return this.MV.mS}get yS(){return this.MS}get TS(){return this.MV.TS}get jj(){return this.MV.jj}get zu(){return this.MV.AE}static NV(t,i,e){const s=void 0===t.body?e:t.body;return new $o({Cp:s,mS:i.mS,rE:i.mS.rE,sE:t.headers,TS:t.status,jj:t.statusText,AE:t.url,KG:!0},i)}aV(){return function(t){let i;const e=Sb(t.mS);return{get closed(){return!t.lV},get request(){return e},get url(){return t.zu},get status(){return t.TS},get statusText(){return t.jj},get headers(){return i||(i=t.sE.PS()),i},get body(){return t.eE},respondWith:i=>t.wV(i),waitUntil:i=>t.pV(i)}}(this)}AV(i){return t.NV(i,this.MV,this.TV)}constructor(t,i,e){super(t,i),this.TV=e,this.vV()}};r();var jb=class extends xb{get eE(){return this.MV.eE}get lV(){return this.DV&&!this.cV}get sE(){return this.MV.sE}get nE(){return this.MV.nE}get SV(){return this.EV}get yS(){return this.MS}get rE(){return this.MV.rE}get NS(){return this.MV.NS}get hE(){return this.MV.hE}get a_(){return this.MV.a_}get hA(){return this.MV.hA}get oE(){return this.MV.oE}get aE(){return this.MV.aE}get zu(){return this.MV.zu}get uE(){return this.MV.uE}get cE(){return this.MV.cE}get eA(){return this.MV.eA}aV(){return function(t){let i;return{get url(){return t.zu},get method(){return t.nE},get headers(){return i||(i=t.sE.PS()),i},get body(){return t.eE},get closed(){return!t.lV},get useCredentials(){return t.uE},get type(){return t.hA},get subType(){return t.oE},get mediaType(){return t.aE},get responseType(){return t.rE},redirect:i=>t.bV(i),respondWith:i=>t.wV(i),waitUntil:i=>t.pV(i)}}(this)}AV(t){const i=this.MV.eE,e=new $o({Cp:i,sE:{},mS:this.MV,AE:this.MV.zu,rE:this.MV.rE,TS:200,jj:"OK"});return Ob.NV(t,e,i)}bV(t){if(!this.lV)throw new k("Cannot redirect, already redirected or has a response");let i;i=ae(t)?{url:t}:t,this.EV=function(t,i){return new Uu({zu:void 0===t.url?i.zu:t.url,nE:void 0!==t.method?bb(t.method):void 0,sE:t.headers,eE:t.body,uE:t.useCredentials,hA:void 0!==t.type?Lb(t.type):void 0,oE:void 0!==t.subType?kb(t.subType):void 0,aE:void 0!==t.mediaType?Cb(t.mediaType):void 0,rE:void 0!==t.responseType?Eb(t.responseType):void 0},i)}(i,this.MV),this.qp()}constructor(t,i,e){super(t,i),this.EV=void 0,this.DV=e,this.vV()}};var zb=class extends Ib{LV(t){this.kV.LV(t)}CV(t){this.kV.CV(t)}xV(t){this.kV.xV(t)}fQ(t){this.kV.fQ(t)}AQ(t){this.kV.AQ(t)}constructor(t,i=!0){const e=new Pb(t);super(e,i),this.kV=e}},Pb=class{async mS(t){let i;try{i=await this.OV(t,t.a_)}catch(i){if(i instanceof Xt)return await this.jV(i,t.a_);throw i}if(i=await this.zV(i,t.a_),pc(i))return i;throw new ir(i)}CY(t){return this.iV.CY(t)}async OV(t,i){Pi(i);let e,s=t;for(const t of this.PV.slice()){Pi(i);const n=new jb(s,t,!e);if(!n.uV)try{await n.hV}catch(t){0;continue}n.SV&&!e?s=n.SV:n.yS&&!e&&(e=n.yS)}return e||this.iV.mS(s)}async jV(t,i){let e;e=t instanceof ir?t.yS:new $o({Cp:null,mS:t.mS,TS:0,jj:""});const s=await this.zV(e,i);if(s===e)throw t;if(pc(s))return s;throw new ir(s)}async zV(t,i){let e=t;for(const t of this.BV.slice()){Pi(i);const s=await Promise.resolve(e.Ip().Cp(i)),n=new Ob(e,t,s);if(!n.uV)try{await n.hV}catch(t){0;continue}e=n.yS||e}return e}LV(t){this.PV.unshift(t)}CV(t){this.PV.push(t)}xV(t){Et(this.PV,t)}fQ(t){this.BV.unshift(t)}AQ(t){Et(this.BV,t)}gn(){this.iV.gn(),Ri(this.PV),Ri(this.BV)}constructor(t){this.PV=[],this.BV=[],this.iV=t}};r();var Ha,Bb=class{get va(){return this.Xa||(this.Xa=function(t){return{addRequestInterceptor(i){t.LV(i)},removeRequestInterceptor(i){t.xV(i)},addResponseInterceptor(i){t.fQ(i)},removeResponseInterceptor(i){t.AQ(i)}}}(this)),this.Xa}LV(t){this.gE.LV(t)}xV(t){this.gE.xV(t)}fQ(t){this.gE.fQ(t)}AQ(t){this.gE.AQ(t)}constructor(t){this.gE=t}},Rb=class extends i{get va(){return this.Xa||(this.Xa=function(t){return{get online(){return t.eg},get estimator(){return function(t){return{get bandwidth(){return t.Jz},get roundTripTime(){return t.$z}}}(t.RV)},setEstimator(i){t.QV(function(t){if(!t)return;return{get Jz(){return xg(t.bandwidth)},get $z(){return xg(t.roundTripTime)},tP:i=>function(t){if(!t)return;return{FV(i){t.markRequestStart(i)},YV(i){t.markResponseStart(i)},GV(i,e){t.markResponseData(i,e)},VV(i){t.markResponseEnd(i)}}}(t.createMeasurer(Sb(i)))}}(i))},addRequestInterceptor(i){t.LV(i)},removeRequestInterceptor(i){t.xV(i)},addResponseInterceptor(i){t.fQ(i)},removeResponseInterceptor(i){t.AQ(i)},addEventListener(i,e){t.yn(i,e)},removeEventListener(i,e){t.fn(i,e)}}}(this)),this.Xa}get eg(){return this.WV.eg}get RV(){return this.yR.RV}QV(t){this.yR.QV(t)}LV(t){this.gE.LV(t)}xV(t){this.gE.xV(t)}fQ(t){this.gE.fQ(t)}AQ(t){this.gE.AQ(t)}gn(){this.Vo(),this.WV.fn(t.GA,this.HV),this.WV.fn(t.YA,this.qV)}constructor(i,e,s){super(e),this.WV=i,this.gE=e,this.yR=s,this.HV=t=>{this.Co(t)},this.qV=t=>{this.Co(t)},this.WV.yn(t.GA,this.HV),this.WV.yn(t.YA,this.qV)}};r(),r(),r(),function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(Ha||(Ha={})),r();function Ub(t,i,e,s,n,r){const h=[];let o=t-x.max(r,1),a=t+n;if(i&&e){const t=Sc(e,1,5),s=i-t;o=x.min(o,s);const n=i+e+t;a=x.max(a,n)}0!==o&&s.$B(0,o)&&h.push([0,o]);return s.$B(a,1/0)&&h.push([a,1/0]),h}function dc(t){return t instanceof b&&"QuotaExceededError"===t.name}r();var Qb={type:Ha.BANDWIDTH};function Fb(t){const i=Kr(Qb);return ae(t)?i.type=Yb(t):Mi(t)&&function(t){switch(t){case Ha.PERFORMANCE:case Ha.QUALITY:case Ha.BANDWIDTH:return!0;default:return!1}}(t.type)&&(i.type=Yb(t.type)),Mi(t)&&Mi(t.metadata)&&(i.metadata=function(t){const i={},e=Ih(t.bitrate);return j(e)||(i.bitrate=e),i}(t.metadata)),i}function Yb(t){switch(t){case"bandwidth":return Ha.BANDWIDTH;case"performance":return Ha.PERFORMANCE;case"quality":return Ha.QUALITY}}r();var Gb=class extends mg{constructor(t){super("XV"),this.ZV=t}};r();var Vb=class extends mg{constructor(t){super("KV"),this.JV=t}};r();var Wb=class extends mg{constructor(t){super("$V"),this.tW=t}},Hb=class extends i{iW(t){this.eW=t}get sW(){switch(this.nW.type){case Ha.PERFORMANCE:return 0;case Ha.QUALITY:return 1/0;case Ha.BANDWIDTH:return this.nW.metadata&&void 0!==this.nW.metadata.bitrate?this.nW.metadata.bitrate:ua.gL.Qz();default:return ua.gL.Qz()}}get va(){return this.Xa}get JV(){return this.nW}set JV(t){this.nW=t,this.Co(new Vb(t))}get ZV(){return this.rW}set ZV(t){this.rW=t,this.Co(new Gb(t))}get hW(){return x.min(this.rW,this.oW)}get tW(){return this.aW}set tW(t){this.aW=t,this.Co(new Wb(t))}get uW(){return this.oW}get RV(){var t;return null!=(t=this.cW)?t:this.eW.EP}QV(t){this.cW=t}lW(t){let i=x.min(t,.8*this.oW);if(i=x.max(10,i),this.oW===i)return!1;const e=this.hW;this.oW=i;const s=this.hW;return s!==e&&this.Co(new Gb(s)),!0}get dW(){return this.fW}set dW(t){this.fW=t}constructor(...t){super(...t),this.Xa=function(t){return{get strategy(){return function(t){return{metadata:t.metadata,type:t.type}}(t.JV)},set strategy(i){t.JV=Fb(i)},get targetBuffer(){return t.ZV},set targetBuffer(i){const e=Ih(i);j(e)||(t.ZV=e)},get bufferLookbackWindow(){return t.tW},set bufferLookbackWindow(i){const e=Ih(i);j(e)||(t.tW=e<=0?30:e)},get maxBufferLength(){return t.uW},get clearBufferWhenSettingTargetQuality(){return t.dW},set clearBufferWhenSettingTargetQuality(i){t.dW=Cg(i)}}}(this),this.nW=Qb,this.rW=20,this.aW=30,this.oW=1/0,this.fW=!1,this.cW=void 0}};r(),r();var qb=class extends z{fa(){return new Xb}constructor(){super("yw")}},Xb=class extends mg{constructor(){super("change")}};r(),r();var $u=class extends i{gn(){this.Vo();for(const t of this.kR)this._W.fn(t,this.gW)}constructor(t,i,e){super(e),this.gW=t=>{pg(t)&&Qu((()=>{this.Co(t.va)}))},this._W=t,this.kR=i;for(const t of this.kR)this._W.yn(t,this.gW)}},Lh=class extends ra{gn(){this.Vo(),this._W.N_(this.gW)}constructor(t,i){super(i),this.gW=t=>{pg(t)&&Qu((()=>{this.Co(t.va)}))},this._W=t,this._W.m_(this.gW)}};var Zb=class extends ra{get zN(){return this.WN}set zN(t){if(this.PN<=t)throw new b("Start time of a clip should be smaller than the end time.");this.WN!==t&&(this.WN=t,this.Co(new qb))}get PN(){return this.XN}set PN(t){if(t<=this.zN)throw new b("End time of a clip should be larger than the start time.");this.XN!==t&&(this.XN=t,this.Co(new qb))}get va(){return this.Xa||(this.Xa=function(t){let i,e={get startTime(){return t.zN},set startTime(i){t.zN=i},get endTime(){return t.PN},set endTime(i){t.PN=i},addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)}};return i=new Lh(t,e),e}(this)),this.Xa}Zn(){0===this.WN&&this.XN===1/0||(this.WN=0,this.XN=1/0,this.Co(new qb))}wW(){return new Ki([this.zN,this.PN],[!0,!0])}constructor(...t){super(...t),this.WN=0,this.XN=1/0}};r();var Kb=class i extends qo{P_(t){const i=this.AW.wW().FB(t);super.P_(i),this.vW()}U_(){return super.U_()||this.mW}get pW(){return this.Mg().length?this.Mg():this.AW.wW().ks()}Mg(){return Ki.xn(super.Mg()).Sn(this.AW.wW()).ks()}Vg(){this.U_()?this.P_(this.pW.start(0)):this.yW(),super.Vg(),this.vW()}async ga(t,i){Pi(i),this.mW=!1,this.AW.Zn(),await super.ga(t,i)}gn(){return this.AW.fn("yw",this.MW),this.S_.fn(t.ov,this.wc),this.TW(),super.gn()}$g(i){switch(i.type){case t.ZA:return this.Co(i),this.NW(),!0;case t.XA:case t.bA:return this.Co(i),this.DW(),!0;case t.kA:if(this.IW)return!0}return super.$g(i)}get IW(){return this.AW.PN<this.ct}TW(){this.SW&&(Gs(this.SW),this.SW=void 0)}vW(){const t=this.j_,e=this.IW&&t>=this.AW.PN-i.Zl;this.mW&&!e?(this.mW=!1,this.hg&&this.Vg()):this.mW||!e||this.Tg||this.EW||(this.mW=!0,this.Co(new ys(t)),this.Gg())}yW(){if(this.ct===1/0)return;const t=this.pW,e=Ki.xn(t).FB(this.j_);Va(this.j_,e,i.Zl)||this.P_(e)}constructor(e,s){super(e),this.mW=!1,this.SW=void 0,this.EW=!1,this.MW=()=>{this.yW(),this.vW()},this.wc=()=>{this.TW(),this.vW();this.IW&&this.j_>=this.AW.PN-i.bW&&!this.R_&&(this.SW=Lr(this.wc))},this.NW=()=>{this.EW=!0},this.DW=()=>{this.EW&&(this.EW=!1,this.vW())},this.AW=s,this.AW.yn("yw",this.MW),this.S_.yn(t.ov,this.wc)}};Kb.bW=1,Kb.Zl=.001,r();var Jb=class{get LW(){return this.kW}set LW(t){this.kW=t}constructor(){this.kW=!1}};r();var $b=class extends qo{U_(){return!this.kW.LW&&super.U_()}Gg(){this.xW=!0,super.Gg()}Vg(){this.xW=!1,super.Vg()}$g(i){if(this.kW.LW)switch(i.type){case t.kA:return this.j_=0,this.xW||(this.Tg?this.OW=!0:this.Vg()),!0;case t.XA:this.OW&&(this.OW=!1,this.Vg());break;case t.Sh:if(this.OW||super.U_())return!0}return super.$g(i)}constructor(t,i){super(t),this.OW=!1,this.xW=!1,this.kW=i}};r(),r();var tL=class{get va(){return this.Xa}get uN(){return this.Qo.q_.uN}get lN(){return this.Qo.q_.lN}get aN(){return this.Qo.q_.aN}get jW(){throw new b("Not implemented")}get zW(){throw new b("Not implemented")}get dN(){return this.Qo.q_.dN}get cN(){return this.Qo.q_.cN}get fN(){return this.Qo.q_.fN}constructor(t){this.Qo=t,this.Xa=function(t){return{get currentBandwidthEstimate(){return t.lN},get corruptedVideoFrames(){return t.uN},get droppedVideoFrames(){return t.aN},get totalBytesLoaded(){return t.dN},get bufferedSegments(){return t.fN}}}(this)}};function iL(t){if(!t||!Is(t))return{aN:0,uN:0,cN:0,lN:0,dN:0,fN:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){const i=t.getVideoPlaybackQuality();return{aN:i.droppedVideoFrames,uN:i.corruptedVideoFrames||0,cN:i.totalVideoFrames}}return{aN:t.webkitDroppedFrameCount||0,uN:0,cN:t.webkitDecodedFrameCount||0}}r(),r();var eL=class extends z{fa(){return new sL}constructor(){super("PW")}},sL=class extends mg{constructor(){super("castingchange")}};r();var nL=class extends i{get BW(){var t,i;return(null==(t=this.RW)?void 0:t.BW)||(null==(i=this.UW)?void 0:i.BW)||!1}get QW(){return this.RW}get FW(){return this.UW}YW(t){this.RW=t,this.GW(t)}VW(t){this.UW=t,this.GW(t)}GW(t){t.yn("statechange",this.WW)}HW(t){t.fn("statechange",this.WW)}get va(){return this.Xa||(this.Xa=function(t){let i;const e={get casting(){return t.BW},get airplay(){var i;return null==(i=t.QW)?void 0:i.va},get chromecast(){var i;return null==(i=t.FW)?void 0:i.va},addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)}};return i=new $u(t,["PW"],e),e}(this)),this.Xa}gn(){this.Vo(),this.RW&&(this.HW(this.RW),this.RW=void 0),this.UW&&(this.HW(this.UW),this.UW=void 0)}constructor(...t){super(...t),this.RW=void 0,this.UW=void 0,this.qW=!1,this.Xa=void 0,this.WW=()=>{const t=this.qW,i=this.BW;t!==i&&(this.qW=i,this.Co(new eL))}}};r(),r();var dn=class{static async XW(t,i){try{const e=new Uu({zu:t,rE:Rt.Ru,nE:Yc.GET}),s=await i.mS(e);return(await s.Cp()).trim()}catch(t){return void So(t)}}static ZW(t){try{const i=lE(t);return new wE(i.key,i.domains_page,i.domains_source,i.expiration_date,i.features,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new ce(y_.LICENSE_ERROR,"Invalid license. No valid license was configured.")}}static KW(t){void 0===t&&(t=eE.lh),lg.Pv("The baked-in license is used. Please update the configuration with your license.");const i=t.wF("F2b-iL'[FL[S"),e=JSON.parse('["F$(:_L50F|aY"]').map((i=>t.wF(i))),s=JSON.parse('[".$hsF|b9_Ess*rS:F]Y\\""]').map((i=>t.wF(i))),n=Number(new Date(Number(t.wF('COD|aHpHa:p3Ceo3Co""')))),r=JSON.parse("[]").map((i=>t.wF(i)));return new wE(i,e,s,n,r)}static convertLicenseToDummyLicense(t){return new wE(t.NF,t.DF,t.IF,864e13,t.EF,t.bF,Date.now(),t.kF,t.CF)}};r();var Zn=class t{static GQ(){return t.gL||(t.gL=rL.Ux()?new rL:new bt),t.gL}static OL(i){t.GQ().OL(i)}static YQ(){t.GQ().YQ()}static kL(i){return t.GQ().kL(i)}static zz(i,e){t.GQ().zz(i,e)}static JW(i){const e=t.kL(i);if(void 0!==e)return S(e)}static $W(i){return"true"===t.kL(i)}};Zn.gL=void 0;var rL=class extends Zn{static Ux(){const t="foobar";try{return self.localStorage.setItem(t,t),self.localStorage.removeItem(t),!0}catch(t){}return!1}OL(t){self.localStorage.removeItem(t)}YQ(){self.localStorage.clear()}kL(t){var i;return null!=(i=self.localStorage.getItem(t))?i:void 0}zz(t,i){self.localStorage.setItem(t,i)}},hL="https://validate.theoplayer.com/1/",oL=72e5,aL=x.floor(14399999*x.random()-oL),uL="THEOplayer.license",cL=class{async tH(){const t=await this.iH(this.eH.license,this.eH.licenseUrl);this.yY.sH(t)}async iH(t,i){let e,s=i;t?e=dn.ZW(t):s||(e=dn.KW()),s||(s=hL+e.NF);const n=this.nH();let r;if(e&&(r=this.rH.FF(e),r===re.yF)){if(this.hH(e.SF)&&this.hH(null==n?void 0:n.SF)){const t=await this.oH(s);if(t)return t}return e}if(n){if(this.rH.FF(n)===re.yF){if(this.hH(null==n?void 0:n.SF)){const t=await this.oH(s);if(t)return t}return n}Zn.OL(uL)}const h=await dn.XW(s,this.gE);let o;if(h){o=dn.ZW(h);if(this.rH.FF(o)===re.yF)return Zn.zz(uL,h),o;Zn.OL(uL)}else if(!this.qF&&e&&r===re.MF&&s===hL+e.NF)return dn.convertLicenseToDummyLicense(e);if(!e&&!o)throw new ce(y_.LICENSE_ERROR,"The given license is invalid!");this.aH(null!=e?e:o,new ce(y_.LICENSE_ERROR,"The given license is invalid!"))}async zF(t){let i=await this.yY.pY();if(this.hH(i.SF)){var e;const t=null!=(e=this.eH.licenseUrl)?e:hL+i.NF,s=await this.oH(t);s&&(this.yY.sH(s),i=s)}try{const e=this.rH.FF(i);if(e===re.TF){const t=gE.xF;throw new ce(vE(t),Vt.UF(t))}if(e===re.MF){const t=gE.MF;throw new ce(vE(t),Vt.UF(t))}this.rH.zF(t,i)}catch(t){this.uH(t)}}async QF(t){const i=await this.yY.pY();try{this.rH.QF(t,i)}catch(t){this.uH(t)}}async oH(t){try{const i=await dn.XW(t,this.gE);if(void 0===i)return;const e=dn.ZW(i);return this.rH.FF(e)===re.yF?(Zn.zz(uL,i),e):void 0}catch(t){return}}hH(t){return!t||Number(new Date)+2592e5+aL>=t}nH(){const t=Zn.kL(uL);if(t)return dn.ZW(t)}aH(t,i){this.yY.sH(t),this.uH(i)}uH(t){throw oc(t.message),this.cH.TY(t.message),t}constructor(t,i,e,s,n,r){this.gE=t,this.rH=i,this.cH=e,this.yY=s,this.eH=n,this.Ck=r,this.qF=TE(r)}};r();var lL=class{sH(t){this.lH=t,this.dH.jL()}get fH(){return this.lH}async pY(){return this.lH?Promise.resolve(this.lH):(await this.dH.PL,this.lH)}constructor(){this.dH=new Eo}};r(),r();var dL=class extends z{fa(){return new fL}constructor(){super("yw")}},fL=class extends mg{constructor(){super("change")}};function _L(t){let i;const e={get fontFamily(){return t._H},set fontFamily(i){t._H=i},get fontColor(){return t.gH},set fontColor(i){t.gH=i},get fontSize(){return t.wH},set fontSize(i){t.wH=i},get backgroundColor(){return t.AH},set backgroundColor(i){t.AH=i},get windowColor(){return t.vH},set windowColor(i){t.vH=i},get edgeStyle(){return t.mH},set edgeStyle(i){t.mH=i},get marginTop(){return t.pH},set marginTop(i){t.pH=i},get marginBottom(){return t.yH},set marginBottom(i){t.yH=i},get marginLeft(){return t.MH},set marginLeft(i){t.MH=i},get marginRight(){return t.TH},set marginRight(i){t.TH=i},addEventListener(t,e){const s=As(t,Oa);i.yn(s,e)},removeEventListener(t,e){const s=As(t,Oa);i.fn(s,e)}};return i=new jt(e),t.yn(["yw"],(t=>i.Co(t.va))),e}r();var gL={_H:void 0,gH:void 0,wH:void 0,AH:void 0,vH:void 0,mH:void 0,NH:void 0,pH:void 0,yH:void 0,MH:void 0,TH:void 0},_i="THEOplayer.textTrackStyle.",wL=class t extends i{get DH(){return this.IH}get _H(){return this.IH._H}set _H(t){this.Qn({_H:t})}get gH(){return this.IH.gH}set gH(t){this.Qn({gH:t})}get wH(){return this.IH.wH}set wH(t){this.Qn({wH:t})}get AH(){return this.IH.AH}set AH(t){this.Qn({AH:t})}get vH(){return this.IH.vH}set vH(t){this.Qn({vH:t})}get mH(){return this.IH.mH}set mH(t){this.Qn({mH:t})}get NH(){return this.IH.NH}get pH(){return this.IH.pH}set pH(t){this.Qn({pH:t})}get yH(){return this.IH.yH}set yH(t){this.Qn({yH:t})}get TH(){return this.IH.TH}set TH(t){this.Qn({TH:t})}get MH(){return this.IH.MH}set MH(t){this.Qn({MH:t})}get va(){return this.Xa||(this.Xa=_L(this)),this.Xa}Qn(i){this.IH=At({},this.IH,i),t.SH(this.IH),this.Co(new dL)}static EH(){let t=At({},gL);return t._H=Zn.kL(_i+"fontFamily")||t._H,t.gH=Zn.kL(_i+"fontColor")||t.gH,t.wH=Zn.kL(_i+"fontSize")||t.wH,t.AH=Zn.kL(_i+"backgroundColor")||t.AH,t.vH=Zn.kL(_i+"windowColor")||t.vH,t.mH=Zn.kL(_i+"edgeStyle")||t.mH,t}static SH(t){Zn.zz(_i+"fontFamily",t._H||""),Zn.zz(_i+"fontColor",t.gH||""),Zn.zz(_i+"fontSize",t.wH||""),Zn.zz(_i+"backgroundColor",t.AH||""),Zn.zz(_i+"windowColor",t.vH||""),Zn.zz(_i+"edgeStyle",t.mH||"")}constructor(){super(),this.Xa=void 0,this.IH=t.EH()}};function AL(t,i){var e,s;t.style.marginLeft=(null!=(e=i.MH)?e:0)+"px",t.style.marginRight=(null!=(s=i.TH)?s:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}r(),r(),r(),r();var bi,vL=[t.jh,t.Sh,er.Tv,t.ov,t.VA,t.UA,t.ZA,t.XA,t.kA,t.WA,t.uv,t.EA,er.Mw,t.qA,Nr.ha,Zy.LA,Zy.SL,t.DA,t.NA,t.fv,t.zA,t.BA,t.OA,t.CA],mL={bH:!1};function pL(t){return t.wd.hA===wt.xO}r(),(bi||(bi={})).LH="kH";var Lo,ie=["kH"];!function(t){t[t.CH=0]="CH",t[t.zS=1]="zS",t[t.xH=2]="xH"}(Lo||(Lo={})),r(),r();var yL,ML=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];(yL||(yL={})).PU="OH";var TL=class extends i{get ht(){throw new b("Not implemented")}get wd(){return this.$x}get TP(){return this.mO}get rt(){throw new b("Not implemented")}async jH(t,i){const e=await this.jx.Ox(t.wL,i),s=await e.Nx();return await this.zH(s),s}PH(t){const i=this.mx;return i?0!==t.kP.length&&t.kP.some((t=>t.dm.wL===i.dm)):0!==this.$x.kP.length?t.kP.some((t=>this.$x.kP.some((i=>t.dm===i.dm)))):0===t.kP.length||!this.BH}RH(t){return this.UH.RH(t),this.$x=t,Promise.resolve()}QH(t){return!1}async e_(){this.Vo(),this.mO.removeEventListener("loadedmetadata",this.FH);for(const t of ML)this.mO.removeEventListener(t,this.YH);await this.GH.gn(),this.VH(),await this.UH.Zn(),await this.WH(void 0)}HH(t){t!==this.qH&&(this.qH=t,t?this.XH.jL(void 0):this.XH=new Eo)}zH(t){return this.GH.oO((()=>this.WH(t)))}async WH(t){if(t&&!this.mO.src&&!this.mO.srcObject)throw new Qr(y_.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&(this.mO.src||this.mO.srcObject))throw new Qr(y_.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");t&&!this.qH&&await this.XH.PL;const i=this.mx;i&&(await i.Mx(this.mO),this.mx=void 0),t&&(await t.bn(this.mO),this.mx=t)}ga(t){return this.GH.oO((()=>this.ZH(t)))}ZH(t){this.HH(!1);const i=this.vP.ag;if(function(t){if(void 0!==s.ManagedMediaSource&&t instanceof s.ManagedMediaSource)return!0;if("undefined"!=typeof MediaSource&&t instanceof MediaSource)return!0;return!1}(t))if(function(t){return"srcObject"in t&&Zt.Ga&&Zt.Gb>=17}(this.mO))try{this.mO.srcObject=t}catch(i){this.mO.src=URL.createObjectURL(t)}else this.mO.src=URL.createObjectURL(t);else this.mO.src=t;this.vP.ag=i}KH(t){return this.GH.oO((()=>this.JH(t)))}JH(t){this.ZH(t),this.mO.load()}VH(){this.HH(!1),eD(this.mO)}async $H(){this.mx&&await this.mx.Zn()}constructor(t,i,e,s){super(),this.qH=!1,this.XH=new Eo,this.BH=!1,this.GH=new no,this.mx=void 0,this.FH=()=>{this.BH=!0},this.YH=()=>{this.HH(!0)},this.$x=t,this.vP=i,this.mO=i.TP,this.UH=e,this.jx=s,this.mO.addEventListener("loadedmetadata",this.FH);for(const t of ML)this.mO.addEventListener(t,this.YH)}};var NL=class extends TL{get b_(){return Ki.xn(this.mO.buffered)}get ct(){return this.mO.duration}get tq(){const t=this.ct;if(!isFinite(t))return!1;const i=this.b_;if(0===i.U)return!1;return t-i.jn(i.U-1)<kc}get gg(){return this.mO.preload}set gg(t){this.mO.preload=t}get yg(){return Ki.xn(this.mO.seekable)}get iq(){return this.b_}get nq(){if(Is(this.mO)&&(this.mO.videoWidth>0||this.mO.videoHeight>0))return this.b_}async iW(){const t=this.wd;switch(t.xP){case Ds.Rv:case Ds.Uv:this.mO.setAttribute("crossorigin",t.xP);break;case Ds.Bv:default:this.mO.removeAttribute("crossorigin")}void 0!==t.gg?this.mO.preload=t.gg:this.mO.preload=tt.Kz,void 0!==t.OP?this.mO.title=t.OP:$N(this.mO),await this.ga(t.oA),this.UH.$n(this,t)}PH(t){return!1}RH(t){return Promise.resolve(void 0)}async e_(){$N(this.mO),await super.e_()}static rq(t,i){return!!i.canPlayType&&Boolean(i.canPlayType(t.LP))}};r();var N=class extends mg{constructor(i){super(t.VA),this.currentTime=i}};r();var DL,he=class extends mg{constructor(){super(t.UA)}};r(),r(),(DL||(DL={})).hq="oq";var IL=class extends mg{constructor(t){super("oq"),this.aq=t}},SL=class extends i{get uq(){return this.cq}lq(t,i){const e=new Ki([t,i]);this.cq=this.cq.HB(e),this.Co(new IL(e))}dq(t,i){this.cq=this.cq.XB(new Ki([t,i]))}Zn(){this.cq=Ki.lR()}gn(){this.Vo()}constructor(...t){super(...t),this.cq=Ki.lR()}};r(),r(),r();var EL=class{start(t){this.dH=t,this.fq()&&this._q()}pull(){this.Yd.length>0?this.gq():this.wq=!0,this.fq()&&this._q()}cancel(t){return Ri(this.Yd),this.Gd=0,this.wq=!1,this.Nd.cancel(t)}gq(){if(0===this.Yd.length)return;const t=this.Yd;this.Yd=[],this.Gd=0,this.wq=!1,this.dH.enqueue(t)}fq(){if(this.wq)return!0;return this.Aq-this.Gd>0}_q(){if(this.vq)return;const t=this.Nd.read().then(this.mq).catch(this.pq);this.vq=t;const i=()=>{this.vq===t&&(this.vq=void 0)};t.then(i,i)}constructor(t,{size:i=(()=>1),highWaterMark:e=1}){this.Yd=[],this.Gd=0,this.dH=void 0,this.wq=!1,this.vq=void 0,this.mq=t=>t.done?(this.gq(),void this.dH.close()):(this.Yd.push(t.value),this.Gd+=this.yq(t.value),this.wq&&this.gq(),this.fq()?this.Nd.read().then(this.mq):void 0),this.pq=t=>{this.gq(),this.dH.error(t)},this.Nd=t.getReader(),this.yq=i,this.Aq=e}};r(),r(),r(),r();var bL,LL=class{Mq(t){this.Tq.push(t),this.ey+=t.byteLength}Nq(t){if(this.ey<=t)return this.Dq();const i=this.Tq;let e=0,s=0;for(;s<i.length&&e+i[s].byteLength<=t;)e+=i[s].byteLength,s++;const n=i.slice(0,s);if(s<i.length&&e<t){const r=t-e;0,n.push(yl(i[s],0,r)),e+=r}return{Tq:n,ey:e}}Iq(t){const i=this.Nq(t);return 1===i.Tq.length?i.Tq[0]:iA(i.Tq,i.ey)}Dq(){return{Tq:this.Tq,ey:this.ey}}Sq(t){if(this.ey<=t)return this.Eq();const i=this.Tq;let e=0,s=0;for(;s<i.length&&e+i[s].byteLength<=t;)e+=i[s].byteLength,s++;const n=i.splice(0,s);if(i.length>0&&e<t){const s=t-e;0,n.push(yl(i[0],0,s)),i[0]=yl(i[0],s),e+=s}return this.ey-=e,{Tq:n,ey:e}}bq(t){const i=this.Sq(t);return 1===i.Tq.length?i.Tq[0]:iA(i.Tq,i.ey)}Eq(){const t=this.Dq();return this.Tq=[],this.ey=0,t}Lq(){const t=1===this.Tq.length?this.Tq[0]:iA(this.Tq,this.ey);return this.Tq=[],this.ey=0,t}constructor(){this.Tq=[],this.ey=0}};!function(t){t[t.kq=0]="kq",t[t.Cq=1]="Cq",t[t.xq=2]="xq"}(bL||(bL={}));var Xu=class{Oq(t,i){}jq(){}zq(t){this.Yd.Mq(t),this.Pq(!1)}Bq(){this.Pq(!0)}Rq(){return 0!==this.ja||0!==this.Yd.ey}Pq(t){for(;0!==this.Yd.ey;){if(!t&&this.Uq>this.Yd.ey)return;switch(this.ja){case 0:this.Qq(t);break;case 1:this.Fq(t);break;case 2:this.Yq(t)}}}Gq(){this.ja=0,this.Uq=8}Qq(t){const i=Mo(this.Yd.Iq(this.Uq)),e=new Or,s=lt.$p(i,e);if(!s.qp)return this.Uq=s.sy,void(t&&this.Uq>this.Yd.ey&&this.Vq(this.Yd.ey));const n=s.iy.hA;let r=s.iy.ey;0===r&&(r=1/0),this.Oq(n,r),this.Wq(n)?this.Hq(r):this.Vq(r)}Hq(t){this.ja=1,this.Uq=t}Fq(t){const i=Mo(this.Yd.bq(this.Uq)),e=new Or,s=lt.Xp(i,e,!t);if(!s.qp)throw new Hi(e.Ku);this.jq(),this.qq(s.Zp),this.Gq()}Vq(t){this.ja=2,this.Uq=0,this.Xq=t}Yq(t){const i=this.Yd.Sq(this.Xq);this.Xq-=i.ey;for(const t of i.Tq)this.Zq(t);(0===this.Xq||t&&this.Xq===1/0)&&(this.jq(),this.Gq())}constructor(){this.Yd=new LL,this.ja=0,this.Uq=0,this.Xq=0,this.Gq()}};function kL(t){return t instanceof Ue}function CL(t){return t instanceof Ie}function xL(t){return t instanceof kT||t instanceof eu}function OL(t){return t instanceof rT}function jL(t){return t instanceof BM}function zL(t){return t instanceof NT}function PL(t){return t instanceof yu}function BL(t){return t instanceof FT}function RL(t){return t instanceof me}function UL(t){return t instanceof en}function QL(t){return t instanceof RT}function FL(t,i){const e=p(t.boxes,UL);if(e&&e.flags.baseDataOffsetPresent)e.baseDataOffset=e.baseDataOffset.add(i);else for(const e of t.boxes)e instanceof RT&&e.flags.dataOffsetPresent&&(e.dataOffset=e.dataOffset+i)}r();var YL=class extends Xu{start(t){this.dH=t}transform(t){this.zq(t)}flush(){this.Bq()}Wq(t){return t===Wr.Tm||t===Wr.ep||t===Wr.fp}qq(t){const i=this.Kq(t);this.dH.enqueue(i)}Zq(t){this.dH.enqueue(t)}Kq(t){const i=ko(t.Cp.Cp);switch(t.hA){case"moov":return this.Jq(i);case"sidx":return this.$q(i);case"moof":return this.tX(i)}return i}get iX(){if(void 0===this.eX)throw new b("Expected to have found a movie header timescale.");return this.eX}sX(t){const i=this.nX.get(t);if(void 0===i)throw new b("Expected to have found a media header timescale for track ID "+t+".");return i}Jq(t){const i=hN(t);for(let t=0;t<i.boxes.length;t++){const e=i.boxes[t];e instanceof ST?i.boxes[t]=this.rX(e):e instanceof ET?i.boxes[t]=this.hX(e):e instanceof Ie&&this.oX(e)}for(const t of i.boxes)t instanceof NT&&this.aX(t);return i.serialize().join()}rX(t){this.eX=t.timescale;const i=ac(Ce.fromNumber(t.duration,!0),this.iX,this.uX);return 0!==i.getHighBits()?this.hX(function(t){return new ET({creation:Ce.fromNumber(t.creationTime,!0),modification:Ce.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:Ce.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.uX,t.duration=i.toInt(),t)}hX(t){return this.eX=t.timescale,t.timescale=this.uX,t.duration=ac(t.duration,this.iX,this.uX),t}oX(t){let i;for(let e=0;e<t.boxes.length;e++){const s=t.boxes[e];s instanceof kT?(i=s.trackId,t.boxes[e]=this.cX(s)):s instanceof eu?(i=s.trackId,t.boxes[e]=this.lX(s)):s instanceof rT?this.dX(s,i):s instanceof qM&&this.fX(s)}}cX(t){const i=ac(Ce.fromNumber(t.duration,!0),this.iX,this.uX);return 0!==i.getHighBits()?this.lX(function(t){return new eu({creation:Ce.fromNumber(t.creationTime,!0),modification:Ce.fromNumber(t.modificationTime,!0),duration:Ce.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=i.toInt(),t)}lX(t){return t.duration=ac(t.duration,this.iX,this.uX),t}dX(t,i){for(let e=0;e<t.boxes.length;e++){const s=t.boxes[e];s instanceof iT?t.boxes[e]=this._X(s,i):s instanceof eT&&(t.boxes[e]=this.gX(s,i))}}_X(t,i){this.nX.set(i,t.timescale);const e=ac(Ce.fromNumber(t.duration,!0),t.timescale,this.uX);return 0!==e.getHighBits()?this.gX(function(t){return new eT({creation:Ce.fromNumber(t.creationTime,!0),modification:Ce.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:Ce.fromNumber(t.duration,!0)},t.language,t.flags)}(t),i):(t.timescale=this.uX,t.duration=e.toInt(),t)}gX(t,i){return this.nX.set(i,t.timescale),t.timescale=this.uX,t.duration=ac(t.duration,t.timescale,this.uX),t}fX(t){for(const i of t.boxes)i instanceof VM?this.wX(i):i instanceof WM&&this.AX(i)}wX(t){for(const i of t.entries)i.mediaTime=_c(i.mediaTime,this.iX,this.uX),i.segmentDuration=_c(i.segmentDuration,this.iX,this.uX)}AX(t){for(const i of t.entries)i.mediaTime=ac(i.mediaTime,this.iX,this.uX),i.segmentDuration=ac(i.segmentDuration,this.iX,this.uX)}aX(t){for(let i=0;i<t.boxes.length;i++){const e=t.boxes[i];e instanceof yu?this.vX(e):e instanceof pT?t.boxes[i]=this.mX(e):e instanceof yT&&(t.boxes[i]=this.pX(e))}}vX(t){const i=this.sX(t.trackId);t.defaultSampleDuration=_c(t.defaultSampleDuration,i,this.uX)}mX(t){const i=ac(Ce.fromNumber(t.fragmentDuration,!0),this.iX,this.uX);return 0!==i.getHighBits()?this.pX(function(t){return new yT(Ce.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=i.toInt(),t)}pX(t){return t.fragmentDuration=ac(t.fragmentDuration,this.iX,this.uX),t}$q(t){let i=oN(t);return i=i instanceof qT?this.yX(i):this.MX(i),i.serialize().join()}yX(t){const i=t.timescale,e=ac(Ce.fromNumber(t.earliestPresentationTime,!0),i,this.uX);if(0!==e.getHighBits())return this.MX(function(t){return new XT(t.referenceId,t.timescale,Ce.fromNumber(t.earliestPresentationTime,!0),Ce.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.uX,t.earliestPresentationTime=e.toInt();for(const e of t.references)e.subsegmentDuration=_c(e.subsegmentDuration,i,this.uX);return t}MX(t){const i=t.timescale;t.timescale=this.uX,t.earliestPresentationTime=ac(t.earliestPresentationTime,i,this.uX);for(const e of t.references)e.subsegmentDuration=_c(e.subsegmentDuration,i,this.uX);return t}tX(t){const i=aN(t),e=i.getSize();for(const t of i.boxes)t instanceof me&&this.TX(t);const s=i.getSize();if(s!==e){const t=s-e;for(const e of i.boxes)e instanceof me&&FL(e,t)}return i.serialize().join()}TX(t){let i;for(let e=0;e<t.boxes.length;e++){const s=t.boxes[e];s instanceof en?(i=this.sX(s.trackId),this.NX(s,i)):s instanceof uu?t.boxes[e]=this.DX(s,i):s instanceof zT?t.boxes[e]=this.IX(s,i):s instanceof RT&&this.SX(s,i)}}NX(t,i){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=_c(t.defaultSampleDuration,i,this.uX))}DX(t,i){const e=ac(Ce.fromNumber(t.baseMediaDecodeTime,!0),i,this.uX);return 0!==e.getHighBits()?this.IX(function(t){return new zT(Ce.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),i):(t.baseMediaDecodeTime=e.toInt(),t)}IX(t,i){return t.baseMediaDecodeTime=ac(t.baseMediaDecodeTime,i,this.uX),t}SX(t,i){let e=0,s=0;for(const n of t.samples){if(void 0!==n.duration){s+=n.duration;const t=_c(s,i,this.uX);n.duration=t-e,e=t}void 0!==n.compositionTimeOffset&&(n.compositionTimeOffset=GL(n.compositionTimeOffset,i,this.uX))}}constructor(t){super(),this.nX=_e(),this.uX=t}};function GL(t,i,e){return Ce.fromInt(t,!1).multiply(e).divide(i).toNumber()}function _c(t,i,e){return Ce.fromInt(t,!0).multiply(e).divide(i).toNumber()}function ac(t,i,e){return is.SD(t).KD(is.ED(e,!0)).iI(is.ED(i,!0)).UD()}var VL,WL,HL,qL=class{EX(t){return t.pipeThrough(new _h(this.bX))}constructor(t){this.bX=new YL(t)}};function XL(t,i,e){const s=F(t,i);if(s!==e)throw new k("Expected descriptor with tag "+e+", but found "+s)}function ZL(t,i){XL(t,i,3);const e=KL(t,i),s=i.Ku+e,n=CA(t,i),r=F(t,i),h=0!=(64&r),o=0!=(32&r),a=31&r;let u,c,l;if(0!=(128&r)&&(u=CA(t,i)),h){c=Oo(t,i,F(t,i))}o&&(l=Oo(t,i,2));const d=function(t,i){XL(t,i,4);const e=KL(t,i),s=i.Ku+e,n=F(t,i),r=F(t,i),h=r>>2,o=0!=(2&r),a=Fi(t,i,3),u=ji(t,i),c=ji(t,i);let l;if(i.Ku<s){const e=function(t,i){return t.getUint8(i.Ku)}(t,i);5===e&&(l=function(t,i){XL(t,i,5);const e=KL(t,i),s=Mc(t,i,e);return{LX:5,kX:s}}(t,i))}return i.Dp(s),{LX:4,CX:n,xX:h,OX:o,jX:a,zX:u,PX:c,BX:l}}(t,i);return i.Dp(s),{LX:3,o:n,RX:u,zu:c,UX:a,QX:l,FX:d}}function KL(t,i){let e=0;for(let s=0;s<4;s++){const s=F(t,i);if(e=e<<7|127&s,!(128&s))break}return e}function JL(t,i){const e=F(t,i),s=F(t,i),n=F(t,i),r=F(t,i),h=3&F(t,i),o=31&F(t,i),a=[];for(let e=0;e<o;e++){const e=CA(t,i);a.push(Mc(t,i,e))}const u=F(t,i),c=[];for(let e=0;e<u;e++){const e=CA(t,i);c.push(Mc(t,i,e))}return{YX:e,GX:s,VX:n,WX:r,HX:h,qX:a,XX:c}}function $L(t,i,e){if(e&&i.byte>=e)return;const s=t.kL(i.byte);return i.byte+=1,s}function tk(t,i){return function(t,i,e){let s=0,n=e;for(;n>0;)n-=1,s=256*s+$L(t,i);return s}(t,i,2)}r(),r(),function(t){t[t.ZX=3]="ZX",t[t.KX=4]="KX",t[t.JX=5]="JX"}(VL||(VL={})),function(t){t[t.$X=64]="$X",t[t.tZ=103]="tZ",t[t.iZ=107]="iZ"}(WL||(WL={})),r(),r(),function(t){t[t.eZ=0]="eZ",t[t.sZ=1]="sZ",t[t.tZ=2]="tZ",t[t.nZ=5]="nZ",t[t.rZ=34]="rZ"}(HL||(HL={})),r(),r(),r(),r();var zu=class t{hZ(t){this.oZ=this.oZ.concat(t.oZ),this.aZ+=t.U}uZ(t,i,e){const s=this.aZ,n=e-i;n>0&&(this.oZ.push({cZ:i,lZ:e,dZ:n,fZ:s,_Z:t}),this.aZ+=n)}kL(t){for(const i of this.oZ)if(i.fZ<=t&&t<i.fZ+i.dZ)return i._Z[t+i.cZ-i.fZ]}gZ(t,i){let e=i;for(const i of this.oZ){const s=i.lZ;for(let n=i.cZ;n<s;n+=1,e+=1)t[e]=i._Z[n]}return e}get U(){return this.aZ}set U(t){const i=this.oZ;let e=this.aZ-t;if(!(t>=this.aZ))if(this.aZ=t,0!==t)for(let t=i.length-1;t>=0;t-=1){const s=i[t];if(e<=s.dZ)return s.lZ-=e,s.dZ-=e,void(i.length!==t+1&&(i.length=t+1));e-=s.dZ}else i.length=0}get Cp(){const t=new Array(this.aZ);let i=0;for(const e of this.oZ){const s=e.lZ;for(let n=e.cZ;n<s;n+=1,i+=1)t[i]=e._Z[n]}return t}wZ(){const t=new T(this.aZ);let i=0;for(const e of this.oZ){const s=e.lZ;for(let n=e.cZ;n<s;n+=1,i+=1)t[i]=e._Z[n]}return t}Ip(i){const e=new t;for(const t of this.oZ)e.uZ(t._Z,t.cZ,t.lZ);return e.FI=i||At({},this.FI),e}constructor(){this.aZ=0,this.oZ=[],this.FI={}}};r();var ik,ek=[128,64,32,16,8,4,2,1];function De(t,i){const e=x.floor(i.bit/8),s=0==(t.kL(e)&ek[i.bit%8])?0:1;return i.bit+=1,s}function An(t,i,e){let s=0,n=e;for(;n>0;)n-=1,s=2*s+De(t,i);return s}function Eu(t,i){let e=0;for(;0===De(t,i)&&e<32;)e+=1;return An(t,i,e)+2**e-1}function sk(t,i){const e=Eu(t,i);return 1&e?x.floor((e+1)/2):-x.floor(e/2)}function nk(t,i){const e=[],s={byte:1};let n;do{e.push(hk(t,i,s)),n=i.kL(s.byte)}while(void 0!==n&&128!==n);return e}function rk(t,i){let e,s=0;do{e=$L(t,i),s+=e}while(255===e);return s}function hk(t,i,e){const s=rk(i,e),n=rk(i,e),r=e.byte,h=r+n;return e.byte=h,{AZ:t,vZ:s,mZ:n,pZ:r,yZ:h,MZ:i}}!function(t){t[t.TZ=1]="TZ",t[t.NZ=2]="NZ",t[t.DZ=3]="DZ",t[t.IZ=4]="IZ",t[t.SZ=5]="SZ",t[t.EZ=6]="EZ",t[t.bZ=7]="bZ",t[t.LZ=8]="LZ",t[t.kZ=9]="kZ"}(ik||(ik={}));var ok=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function ak(t,i,e){let s=8,n=8;for(let r=0;r<e;r+=1){if(0!==n){n=(s+sk(t,i)+256)%256}s=0===n?s:n}}var uk=class{CZ(){const t=this.xZ;let i=x.max(0,this.OZ+t.length-2);const e=this.jZ,s=e.U;let n=0;for(;i<s;i+=1){const s=e.kL(i);0===s?n+=1:(3===s&&n>=2&&t.push(i),n=0)}this.OZ=i-t.length}zZ(t){const i=this.xZ;let e=t;for(const t of i){if(!(t<=e))return e;e+=1}return e}kL(t){if(!(t>this.jZ.U))return t>this.OZ&&this.CZ(),this.jZ.kL(this.zZ(t))}constructor(t){this.xZ=[],this.OZ=0,this.jZ=t}};function ck(t){const i=new uk(t);let e,s,n,r,h,o,a=0,u=0,c=0,l=0;const d=i.kL(1),f={bit:32};if(Eu(i,f),100===d||110===d||122===d||144===d){const t=Eu(i,f);3===t&&(e=De(i,f)),Eu(i,f),Eu(i,f),De(i,f);if(1===De(i,f))for(let e=0;e<(3!==t?8:12);e+=1){1===De(i,f)&&ak(i,f,e<6?16:64)}}const _=Eu(i,f),g=Eu(i,f);if(0===g)Eu(i,f);else if(1===g){De(i,f),sk(i,f),sk(i,f);const t=Eu(i,f);for(let e=0;e<t;e+=1)sk(i,f)}Eu(i,f),De(i,f);const w=Eu(i,f),A=Eu(i,f),v=De(i,f);0===v&&De(i,f),De(i,f);1===De(i,f)&&(a=Eu(i,f),u=Eu(i,f),c=Eu(i,f),l=Eu(i,f));if(1===De(i,f)){if(1===De(i,f)){const t=An(i,f,8);if(255===t)s=An(i,f,16),n=An(i,f,16);else{const i=ok[t];i&&(s=i[0],n=i[1])}}1===De(i,f)&&De(i,f);if(1===De(i,f)){An(i,f,3),De(i,f);1===De(i,f)&&(An(i,f,8),An(i,f,8),An(i,f,8))}1===De(i,f)&&(Eu(i,f),Eu(i,f)),r=De(i,f),1===r&&(h=An(i,f,32),o=An(i,f,32),De(i,f))}return{width:x.floor(16*(w+1)-2*a-2*u),height:x.floor((2-v)*(A+1)*16-2*c-2*l),sT:s,nT:n,PZ:r?o/(2*h):void 0,BZ:e,RZ:_}}function lk(t){const i=$A(Qi.wy(t),Wr.Tm);if(!i)return;const e=i.iy.zy,s=[];for(const t of i.Z){const i=t.iy.Wy,e=t.Fy.iy.zy;let o,a,u;for(const i of t.Fy.$y.eM.nM.hM){const t=dk(i);var n,r,h;if(t)o=null!=(n=t.UZ)?n:o,a=null!=(r=t.QZ)?r:a,u=null!=(h=t.FZ)?h:u}s.push({Wy:i,zy:e,UZ:o,QZ:a,FZ:u})}return{zy:e,Z:s}}function dk(t){let i,e,s;if(t.hA===Wr.Bm){var n;const e=JL(Mo(t.OM.Cp),new Or);i=function(t){return"avc1."+fk(t.GX,2)+fk(t.VX,2)+fk(t.WX,2)}(e),s=null==(n=function(t){if(0===t.qX.length)return;const i=t.qX[0],e=new zu;return e.uZ(i,0,i.byteLength),ck(e)}(e))?void 0:n.PZ}else if(t.hA===Wr.Um||t.hA===Wr.Qm){const e=function(t,i){const e=i.Lp(),s=ls(t,e,8),n=ls(t,e,2),r=ls(t,e,1),h=ls(t,e,5),o=ls(t,e,32),a=[];for(let i=0;i<6;i++)a.push(ls(t,e,8));const u=ls(t,e,8);e.Np(4);const c=ls(t,e,12);e.Np(6);const l=ls(t,e,2);e.Np(6);const d=ls(t,e,2);e.Np(5);const f=ls(t,e,3);e.Np(5);const _=ls(t,e,3),g=ls(t,e,16),w=ls(t,e,2),A=ls(t,e,3),v=ls(t,e,1),m=ls(t,e,2),p=ls(t,e,8),y=[];for(let i=0;i<p;i++){const i=ls(t,e,1);e.Np(1);const s=ls(t,e,6),n=ls(t,e,16),r=[];for(let i=0;i<n;i++){const i=ls(t,e,16),s=Mc(t,new Or(e.Ku>>3),i);e.Np(8*i),r.push({YZ:i,GZ:s})}y.push({VZ:i,WZ:s,HZ:n,qZ:r})}return{YX:s,XZ:n,ZZ:r,KZ:h,JZ:a,$Z:u,tK:c,iK:l,eK:o,sK:d,nK:f,rK:_,hK:g,oK:A,aK:v,uK:w,HX:m,cK:p,lK:y}}(Mo(t.BM.Cp),new Or);i=function(t,i){let e=t.toString()+".";switch(i.XZ){case 0:break;case 1:e+="A";break;case 2:e+="B";break;case 3:e+="C";break;default:return}switch(e+=i.KZ.toString()+".",e+=function(t){let i=t;return i=i>>>1&1431655765|(1431655765&i)<<1,i=i>>>2&858993459|(858993459&i)<<2,i=i>>>4&252645135|(252645135&i)<<4,i=i>>>8&16711935|(16711935&i)<<8,i=i>>>16|i<<16,i}(i.eK).toString(16)+".",i.ZZ){case 0:e+="L";break;case 1:e+="H";break;default:return}e+=i.$Z.toString();const s=i.JZ.reduce(((t,i)=>0===t?i:i+1),0);for(let t=0;t<s;t++)e+="."+i.JZ[t].toString(16).toUpperCase();return e}(t.hA,e)}else if(t.hA===Wr.Ym){const e=function(t,i){const e=i.Lp(),s=ls(t,e,8);e.Np(24);const n=ls(t,e,8),r=ls(t,e,8),h=ls(t,e,4),o=ls(t,e,3),a=Xe(t,e),u=ls(t,e,8),c=ls(t,e,8),l=ls(t,e,8),d=ls(t,e,16),f=new Array(8);for(let i=0;i<d;i++)f[i]=ls(t,e,8);return{YX:s,dK:n,fK:r,_K:h,gK:o,wK:a,$M:u,tT:c,iT:l,AK:d,vK:f}}(Mo(t.UM.Cp),new Or);i=function(t,i){let e=t.toString()+".";return e+="0"+i.dK+".",e+=fa(""+i.fK,2,"0")+".",e+=fa(""+i._K,2,"0")+".",e+=fa(""+i.gK,2,"0")+".",e+=fa(""+i.$M,2,"0")+".",e+=fa(""+i.tT,2,"0")+".",e+=fa(""+i.iT,2,"0")+".",e+="0"+i.wK,e}(t.hA,e)}else if(t.hA===Wr.Vm){const e=function(t,i){const e=i.Lp();e.Np(1);const s=ls(t,e,7),n=ls(t,e,3),r=ls(t,e,5),h=Xe(t,e),o=Xe(t,e),a=Xe(t,e),u=Xe(t,e),c=Xe(t,e),l=Xe(t,e),d=ls(t,e,2);e.Np(3);const f=Xe(t,e);let _;return f?_=ls(t,e,4):e.Np(4),{_y:s,mK:n,pK:r,yK:h,MK:o,TK:a,NK:u,DK:c,IK:l,SK:d,EK:f,bK:_}}(Mo(t.YM.Cp),new Or);i=function(t,i,e){let s=t.toString()+".";if(s+=i.mK+".",s+=""+fa(""+i.pK,2,"0"),s+=(0===i.yK?"M":"H")+".",s+=(1===i.TK?12:10)+".",s+=(1===i.mK?0:i.NK)+".",s+=""+i.DK+i.IK+(1===i.DK&&1===i.IK?i.SK:"0"),e&&e.JM===na.ON_SCREEN_COLOURS){const t=e;s+="."+fa(""+t.$M,2,"0")+"."+fa(""+t.tT,2,"0")+"."+fa(""+t.iT,2,"0")+"."+(t.eT?1:0)}return s}(t.hA,e,t.GM)}else{if(t.hA!==Wr.Xm)return(t.hA===Wr.ip||t.hA===Wr.tp)&&t.HM?dk(t.HM):void 0;e=function(t){const i=t.FX;switch(i.CX){case WL.$X:return function(t){var i;if(!(null==(i=t.BX)?void 0:i.kX))return"mp4a.40";const e=function(t,i){let e=ls(t,i,5);31===e&&(e=32+ls(t,i,6));const s=ls(t,i,4);let n;return 15===s&&(n=ls(t,i,24)),{LK:e,kK:s,CK:n,xK:ls(t,i,4)}}(Mo(t.BX.kX),new Qc);return"mp4a.40."+e.LK}(i);case WL.tZ:return"mp4a.40.2";case WL.iZ:return"mp4a.40.34"}}(ZL(Mo(t.EM.Cp),new Or))}return{UZ:i,QZ:e,FZ:s}}function fk(t,i){const e=t.toString(16);return fa(e,i,"0")}function _k(t,i){const e=Qi.wy(Mo(t)),s=function(t,i){let e;for(const n of t.Z){var s;const t=null==(s=n.vT)?void 0:s.vT;if(t){const s=n.iy.Wy,r=p(i.Z,(t=>t.Wy===s)),h=Pt.SD(t,r.zy);e&&!h.vD(e)||(e=h)}}return e}($A(e,Wr.ep),i),n=$A(e,Wr.cp);return{zN:s.cD(),jK:n.Cp}}r();var gk=Zt.Fb,wk=class extends i{get ZV(){return this.rW}set ZV(t){this.rW=t}get tW(){return this.aW}set tW(t){this.aW=t}get oa(){return this.zK||this.PK.updating}BK(t,i,e){switch(t.hA){case Lo.CH:case Lo.zS:return this.RK((e=>this.UK(t,i,e)),e);case Lo.xH:throw new b("Opaque segments are not supported on web.")}}QK(t,i){switch(t.hA){case Lo.CH:return this.RK((i=>this.FK(t,i)),i);case Lo.zS:throw new b("Streaming initialization segments are not supported on web.");case Lo.xH:throw new b("Opaque initialization segments are not supported on web.")}}async FK(t,i){this.YK?this.GK=lk(Mo(t.Cp)):(await this.VK(t,void 0,i),gk&&(this.WK=!1,this.HK=t))}async UK(t,i,e){gk&&this.WK&&this.HK&&await this.FK(this.HK,e);try{if(Pi(e),this.YK&&this.GK){const n=await async function(t,i){switch(t.hA){case Lo.CH:return t;case Lo.zS:{const e=await Ut(t.Cp,i);return Pi(i),{hA:Lo.CH,Cp:new T(e)}}case Lo.xH:throw new b("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.")}}(t,e),r=_k(n.Cp,this.GK);var s;t={hA:Lo.CH,Cp:r.jK},i=At({},i,{CI:r.zN+(null!=(s=i.CI)?s:0)})}await this.VK(t,i,e),this.Co(new mg(bi.LH))}finally{t.hA===Lo.zS&&t.Cp.cancel(new ia).catch(fg)}}async VK(t,i,e){switch(Pi(e),i&&await this.qK(i),t.hA){case Lo.CH:if(this.XK){const i=this.XK.EX(rb(t.Cp));return await this.ZK(i,e)}return await this.KK(t.Cp);case Lo.zS:if(this.XK){const i=this.XK.EX(t.Cp);return await this.ZK(i,e)}return await this.ZK(t.Cp,e)}}async ZK(t,i){const e=this.JK.b_,s=function(t,i){return void 0===i&&(i=new td({highWaterMark:1/0})),new f(new EL(t,i),{highWaterMark:0})}(t),n=s.getReader();let r=!1;try{for(;;){const t=await hh(n.read(),i);if(t.done){r=!1;break}Pi(i);const e=zh(t.value);r=!0,await this.KK(e)}}catch(t){if(n.cancel(t).catch(fg),r){await this.$K();const t=this.JK.b_.Sn(e.YB());for(let i=0;i<t.U;i++)await this.tJ(t.Cn(i),t.jn(i))}throw t}}iJ(t,i){return this.RK((()=>this.eJ(t,i)))}async eJ(t,i){this.PK.appendWindowStart===t&&this.PK.appendWindowEnd===i||(await this.$K(),this.PK.appendWindowStart=0,this.PK.appendWindowEnd=i,this.PK.appendWindowStart=t)}async qK(t){if(this.PK.timestampOffset!==t.CI)try{this.PK.timestampOffset=t.CI}catch(i){await this.$K(),this.PK.timestampOffset=t.CI}}async KK(t){this.PK.appendBuffer(t),this.sJ=!0,await this.nJ()}rJ(t,i,e){return this.RK((e=>this.tJ(t,i,e)),e)}async tJ(t,i,e){Pi(e),this.PK.remove(t,i),await this.nJ()}nJ(){const t=this.JK.b_;return new Promise(((i,e)=>{let s,n=!1,r=()=>{n=!0},h=()=>{n=!1,s="error"},o=()=>{n=!1,s="aborted"},a=()=>{u(),n&&!s?(t.iR(this.JK.b_)||this.Co(new mg(bi.LH)),i()):e(new b(s))},u=()=>{this.PK.removeEventListener("update",r),this.PK.removeEventListener("error",h),this.PK.removeEventListener("abort",o),this.PK.removeEventListener("updateend",a)};this.PK.addEventListener("update",r),this.PK.addEventListener("error",h),this.PK.addEventListener("abort",o),this.PK.addEventListener("updateend",a)}))}hJ(){return this.RK((()=>this.$K()))}async $K(){if(this.oJ.vg===kn.wS){gk&&(this.WK=!0),this.PK.updating&&(this.zK=!0);try{this.PK.abort()}catch(t){0,this.zK=!1}this.oa&&await this.nJ().catch(fg)}}aJ(){return"function"==typeof this.PK.changeType}RH(t){if(this.uJ(),this.oJ.vg===kn.cJ)return;var i;this.lJ=t;const e=null!=(i=this.oJ.dJ(t.LP))?i:t.LP;this.YK=Ak(t.LP,this.fJ),this.aJ()&&!Wi(this.fJ,e)&&(this.fJ=e,this.PK.changeType(this.fJ))}_J(){this.oJ.vg!==kn.kA||this.gJ||this.oa||(this.PK.timestampOffset=this.PK.timestampOffset,this.oJ.wJ())}async RK(t,i){this.uJ();const e=new xs;e.l_(this.AJ.a_),i&&e.l_(i);try{this.gJ=t(e.a_),await this.gJ,this.oJ.wJ(),this.oa&&await this.nJ()}finally{this.gJ=void 0,e.e_()}}uJ(){if(this.gJ)throw new b("Internal error")}async e_(){this.Vo(),this.AJ.c_(),this.gJ&&(await this.gJ.catch(fg),this.gJ=void 0),this.PK.removeEventListener("updateend",this.vJ),this.PK.removeEventListener("bufferedchange",this.mJ)}constructor(t,i,e,s,n){var r;if(super(),this.rW=20,this.aW=30,this.zK=!1,this.sJ=!1,this.gJ=void 0,this.AJ=new xs,this.WK=!1,this.HK=void 0,this.YK=!1,this.GK=void 0,this.vJ=()=>{this.zK=!1},this.mJ=t=>{t.removedRanges&&this.Co(new mg(bi.LH))},this.oJ=i,this.JK=t,this.PK=e,this.PK.addEventListener("updateend",this.vJ),this.PK.addEventListener("bufferedchange",this.mJ),this.lJ=s,this.fJ=n,this.YK=Ak(s.LP,n),null==(r=i.wd)?void 0:r.pJ){var h;const t=null!=(h=i.wd.yJ)?h:1e5;this.XK=new qL(t)}}};function Ak(t,i){return ew(t,"audio/mp4")&&ew(i,"audio/mpeg")}r();var vk=class{get b_(){if(this.MJ.vg===kn.cJ)return Ki.lR();let t=Ki.xn(this.PK.buffered).Sn(new Ki([0,1/0]));const i=this.TJ;return void 0!==i&&t.U>0&&t.jn(t.U-1)===i&&(t=t.HB(Ki.uR(i))),t}tq(){return!!this.TJ&&this.b_.QB().gr(this.TJ)}NJ(){const t=this.b_;this.TJ=t.U>0?t.jn(t.U-1):0,this.MJ.DJ()}_J(){this.TJ=void 0}constructor(t,i){this.TJ=void 0,this.MJ=i,this.PK=t}};function mk(t){const i=t.iS("codecs");return i?i.split(",").map((t=>t.trim())):[]}function pk(t,i){return!("opus"===t)&&!("opus"===i)||t===i}function yk(t,i){const e=Mk(t)||Tk(t),s=Mk(i)||Tk(i);return!e&&!s||t===i}function Mk(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function Tk(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function Ft(t,i){if(t===i)return!0;const e=t.split("."),s=i.split("."),n=e[0];if(n!==s[0])return!1;if("mp4a"===n){const[,t,i]=e,[,n,r]=s;if(t!==n)return!1;if(Number(i)!==Number(r))return!1}return!0}function Nk(t,i,e,s,n,r,h){const o=new vk(n,t),a=new wk(o,t,n,e,r);return new Dk(t,i,e,s,o,a,h)}r();var Dk=class extends i{get b_(){return this.JK.b_}get wd(){return this.$x}get LP(){return this.qx}get IJ(){return this.SJ}get EJ(){return this.bJ.uq}get ZV(){return this.LJ.ZV}set ZV(t){this.LJ.ZV=t}get tW(){return this.LJ.tW}set tW(t){this.LJ.tW=t}get oa(){return this.LJ.oa}tq(){return this.JK.tq()}NJ(){this.JK.NJ()}_J(){this.JK._J(),this.LJ._J()}kJ(t,i){this.bJ.lq(t,i)}CJ(t,i){this.bJ.dq(t,i)}xJ(){return this.LJ.hJ()}BK(t,i,e){return this.LJ.BK(t,i,e)}QK(t,i,e){return this.LJ.QK(t,e)}iJ(t,i){return Zt.Mb&&Zt.Nb<3?this.LJ.iJ(t,1/0):this.LJ.iJ(t,i)}async pN(t,i,e){this.CJ(t,i);const s=this.b_;await this.LJ.rJ(t,i,e);const n=0!==s.U&&0===this.b_.U;(Zt.Zb||Zt.Ib)&&n&&this.vP.Dp(this.vP.j_)}PH(t){const i=t.LP;if(this.qx===i)return!0;const e=this.OJ.get(i);if(void 0!==e)return e;const s=this.jJ(t);return this.OJ.set(i,s),s}jJ(t){const i=this.oJ.dJ(t.LP);if(void 0===i)return!1;const e=Cp(this.qx),s=Cp(i),n=mk(e),r=mk(s);if(this.LJ.aJ()){if(!function(t,i){return rg(t,i,yk)}(n,r))return!1;if(Zt.Jb&&!function(t,i){return rg(t,i,pk)}(n,r))return!1}else{if(e.hA!==s.hA)return!1;if(!function(t,i){return rg(t,i,Ft)}(n,r))return!1}return!0}async RH(t){const i=t.LP;this.qx!==i&&(this.OJ.clear(),this.LJ.RH(t),this.qx=i),this.$x=t,this.oJ.zJ()}async e_(){this.OJ.clear(),this.Vo(),this.bJ.gn();try{this.LJ.fn(bi.LH,this.Ds),await this.LJ.e_()}catch(t){}}constructor(t,i,e,s,n,r,h){super(),this.OJ=Qt(),this.oJ=t,this.$x=e,this.qx=e.LP,this.SJ=s,this.vP=i,this.JK=n,this.LJ=r,this.bJ=h,this.LJ.yn(bi.LH,this.Ds)}};r();var Ik=class{PJ(){let t=this.Cn,i=this.jn;if(this.BJ||this.RJ){const e=.001*(lg.f_()-this.UJ);this.BJ&&(t+=e),this.RJ&&(i+=e)}return Ki.cR(t,i)}constructor(t,i,e=!1,s=!1){this.Cn=t,this.jn=i,this.BJ=e,this.RJ=s,this.UJ=lg.f_()}};r();var Sk=.5,Ek=[t.jh,t.Sh,t.ZA,t.XA,t.zA,t.BA,t.kA,t.WA,er.Mw,Nr.ha],bk=class{QJ(t){this.FJ.push(t),t.yn(DL.hq,this.YJ)}get uq(){return this.FJ.reduce(((t,i)=>t.HB(i.uq)),Ki.lR())}gn(){this.GJ(),this.VJ.fn(er.Mw,this.WJ),this.vP.fn(t.VA,this.WJ),this.vP.fn(Ek,this.HJ),this.FJ.forEach((t=>t.fn(DL.hq,this.YJ))),0!==this.qJ&&(lg.__(this.qJ),this.qJ=0),this.XJ=!0}QH(t){if(this.vP.R_)return!1;if(0!==this.qJ)return!1;const i=this.JK.b_,e=i.ZB(t);if(e>=0&&t+Sk<i.jn(e))return!1;const s=e>=0?e+1:i.rR(t);if(s<0||s>=i.U)return!1;const n=i.Cn(s);if(Ki.cR(t,n).XB(this.uq).aR>1)return!1;if(lg.ZJ)return this.KJ=this.vP.j_,this.qJ=lg.g_((()=>{this.KJ===this.vP.j_&&this.JJ(n),this.qJ=0}),250),!0;return!(x.abs(n-t)<=.001)&&(this.JJ(n),!0)}JJ(t){this.vP.Dp(t,!1,!0)}$J(){0!==this.t$&&(lg.__(this.t$),this.t$=0),this.vP.fn(t.ov,this.Jl)}i$(){0===this.e$&&(this.$J(),this.e$=lg.s$(this.n$,250))}GJ(){0!==this.e$&&(lg.r$(this.e$),this.e$=0),this.$J(),this.vP.Tg||(this.h$=0)}o$(){return!this.vP.hg&&!this.vP.Tg&&0!==this.vP.ag&&!this.vP.R_&&!this.vP.lt&&(this.a$()||this.VJ.vg>=Os.eN)}a$(){const t=this.vP.j_,i=this.JK.b_,e=i.ZB(t);return-1!==e&&i.jn(e)>t+Sk}u$(t,i){const e=i.ZB(t);return e>-1?i.jn(e):t}constructor(i,e,s,n){this.JK=i,this.VJ=e,this.vP=s,this.XJ=!1,this.FJ=[],this.qJ=0,this.t$=0,this.c$=0,this.KJ=0,this.h$=0,this.e$=0,this.l$=1,this.YJ=t=>{const i=this.vP.j_,e=t.aq.gr(i),s=t.aq.gr(i,Sk)&&this.vP.vg<=Os.iN;(e||s)&&this.QH(i)},this.WJ=Tl((t=>{if(this.XJ)return;if(this.VJ.vg<=Os.iN){const t=this.vP.j_;this.QH(t)||this.n$()}}),100),this.Jl=Tl((t=>{this.XJ||0===this.e$&&this.i$()}),100),this.HJ=()=>{this.o$()?0===this.e$&&(this.vP.yn(t.ov,this.Jl),this.t$=lg.g_((()=>{this.i$()}),3500)):this.GJ()},this.n$=()=>{const t=this.c$,i=this.h$,e=this.vP.j_,s=lg.f_(),n=this.JK.b_;if(t!==e)return this.c$=e,this.h$=s,this.l$=1,void(this.d$=lg.f$?2e3:1e3);if(this.o$()&&0!==n.U&&i>0&&s>i+this.d$){let t;const i=this.uq.QB().XB(n),s=i.nR(e);if(-1!==s){const n=i.Cn(s);if(n-e<1){const e=i.jn(s);0,t=e}}var r;if(!t)t=null==(r=this._$)?void 0:r.determineStallJumpTarget(),t||(t=e+.01*this.l$,n.gr(t)||(t=this.u$(e,n)));0,this.c$=t,this.l$++,this.d$=x.min(2*this.d$,1e4),this.JJ(t)}},this.VJ.yn(er.Mw,this.WJ),this.vP.yn(t.VA,this.WJ),this.vP.yn(Ek,this.HJ),this._$=n,this.d$=lg.f$?2e3:1e3}};function Lk(t){const i=[];if(t.g$&&i.push(t.g$.b_),t.w$&&i.push(t.w$.b_),0===i.length)return Ki.lR();let e=0;for(const t of i)t.U>0&&(e=x.max(e,t.jn(t.U-1)));const s=t.tq;let n=new Ki([0,e],[!0,s]);for(let t of i)s&&t.U>0&&(t=t.HB(new Ki([t.jn(t.U-1),e],[!0,!0]))),n=n.Sn(t);return n}function kk(t,i,e){const s=t.b_;let n,r=s.ZB(i);if(r>=0){if(!(r+1<s.U))return Promise.resolve();n=s.Cn(r+1)}else{if(r=s.rR(i),!(r>=0))return Promise.resolve();n=s.Cn(r)}return t.pN(n,1/0,e)}function Ck(t,i,e){if(!t.gr(i)){const s=t.ZB(i,e);if(s>=0){const e=t.Cn(s);if(i<e)return e}}return i}r(),r();var xk=class{A$(){return new this.v$}m$(t){return this.v$.isTypeSupported(t)}constructor(t){this.v$=Ok(t)}};function Ok(t){return t&&U_(Ys.ManagedMediaSource)?Ys.ManagedMediaSource:U_(Ys.MediaSource)?Ys.MediaSource:void 0}var kn,jk=Zt.Lb||Zt.Cb,zk=Zt.Bb||Zt.Fb&&Zt.Gb>=17;!function(t){t.cJ="closed",t.wS="open",t.kA="ended"}(kn||(kn={}));var Pk=class extends TL{get g$(){return this.p$}get w$(){return this.y$}get ct(){if(this.M$)return this.M$;const t=this.DP.duration;return t===Q_?1/0:t}T$(t){if(j(t)||t<0)throw new b("Invalid duration");this.N$()?this.D$(t):this.M$=t}D$(t){const i=t===1/0;if(i&&this.DP.setLiveSeekableRange){const t=2**39;this.DP.setLiveSeekableRange(0,t)}this.DP.duration=i?zk?1/0:Q_:t,this.M$=void 0}get b_(){return jk?Lk(this):function(t,i){let e=i;return e.U>0&&t.tq&&(e=e.HB(Ki.uR(e.jn(e.U-1)))),e}(this,Ki.xn(this.mO.buffered))}get iq(){var t;return null==(t=this.p$)?void 0:t.b_}get nq(){var t;return null==(t=this.y$)?void 0:t.b_}get yg(){return this.I$.PJ().Sn(new Ki([0,this.ct],[!0,!0]))}S$(t,i,e,s){this.I$=new Ik(t,i,!!e,!!s)}get tq(){return(!this.p$||this.p$.tq())&&(!this.y$||this.y$.tq())}get vg(){return this.DP.readyState}async iW(){const t=this.$x,i=p(t.E$,(t=>ew(t.LP,"audio"))),e=p(t.E$,(t=>ew(t.LP,"video")));if(this.mO.disableRemotePlayback=!0,await this.b$(),i){const t=new SL;var s;this.L$.QJ(t);const e=null!=(s=this.dJ(i.LP))?s:i.LP;this.k$=this.DP.addSourceBuffer(e),this.p$=Nk(this,this.vP,i,hv.mp,this.k$,e,t),this.p$.yn(bi.LH,this.mJ)}if(e){const t=new SL;var n;this.L$.QJ(t);const i=null!=(n=this.dJ(e.LP))?n:e.LP;this.C$=this.DP.addSourceBuffer(i),this.y$=Nk(this,this.vP,e,hv.vp,this.C$,i,t),this.y$.yn(bi.LH,this.mJ)}this.UH.$n(this,t)}async b$(){await super.KH(this.DP),"open"!==this.vg&&await yi(this.DP,"sourceopen")}N$(){if("open"!==this.vg)return!1;const t=this.p$&&this.p$.oa,i=this.y$&&this.y$.oa;return!(t||i)}NJ(){this.x$=!0,this.p$&&this.p$.NJ(),this.y$&&this.y$.NJ(),this.x$=!1,this.O$()}_J(){this.p$&&this.p$._J(),this.y$&&this.y$._J()}PH(t){const i=p(t.E$,(t=>ew(t.LP,"audio"))),e=p(t.E$,(t=>ew(t.LP,"video")));if(this.p$){if(!i)return!1;if(!this.p$.PH(i))return!1}else if(i)return!1;if(this.y$){if(!e)return!1;if(!this.y$.PH(e))return!1}else if(e)return!1;return!!super.PH(t)}async RH(t){const i=p(t.E$,(t=>ew(t.LP,"audio"))),e=p(t.E$,(t=>ew(t.LP,"video"))),s=[];this.p$&&s.push(this.p$.RH(i)),this.y$&&s.push(this.y$.RH(e)),await Promise.all(s),await super.RH(t)}async e_(){if(Zt.Ib&&await this.$H(),this.p$){if(await this.p$.e_(),this.p$=void 0,ku()&&(Zt.Ib||Zt.Mb))try{this.DP.removeSourceBuffer(this.k$)}catch(t){}this.k$=void 0}if(this.y$){if(await this.y$.e_(),this.y$=void 0,ku()&&(Zt.Ib||Zt.Mb))try{this.DP.removeSourceBuffer(this.C$)}catch(t){}this.C$=void 0}this.mO.src&&URL.revokeObjectURL(this.mO.src),this.mO.disableRemotePlayback=!1,this.vP.fn([t.ZA,t.zA],this.j$),this.L$.gn(),Zt.Mb&&await this.$H(),await super.e_()}zJ(){const t=this.$x,i=t.E$.map((t=>ew(t.LP,"audio")&&this.p$?this.p$.wd:ew(t.LP,"video")&&this.y$?this.y$.wd:t));this.$x=At({},t,{E$:i})}DJ(){this.x$||this.O$()}get z$(){if(!this.tq)return!1;const t=this.b_;return 0!==t.U&&t.Cn(t.U-1)<=this.vP.j_}O$(){this.z$&&this.N$()&&(this.DP.endOfStream(),this.M$=void 0,this.Co(new mg(yL.PU)),this.vP.mJ())}wJ(){this.N$()&&(this.tq?this.O$():void 0!==this.M$&&this.D$(this.M$))}QH(t){return this.L$.QH(t)}dJ(t){return Bk(this.P$,t)}static rq(t){const i=Ok(t.B$);if(void 0===i)return!1;if("function"!=typeof i.isTypeSupported)return!1;const e=new xk(t.B$);for(const i of t.E$)if(void 0===Bk(e,i.LP))return!1;return!0}constructor(i,e,s,n,r,h=new xk(i.B$),o){super(i,e,n,r),this.p$=void 0,this.k$=void 0,this.y$=void 0,this.C$=void 0,this.I$=new Ik(0,1/0),this.M$=void 0,this.x$=!1,this.j$=()=>{this.O$()},this.mJ=()=>{this.vP.mJ()},this.P$=h,this.DP=this.P$.A$(),this.vP.yn([t.ZA,t.zA],this.j$),this.L$=new bk(this,s,this.vP,o)}};function Bk(t,i){const e=Cp(i),s="audio/mp4"===e.hA&&function(t,i){return kl(t,i,((t,i)=>t===i))}(mk(e),["mp4a.40.34"]);if(t.m$(i)&&(!s||!Zt.Fb))return i;if(s){const i=p(['audio/mp4; codecs="mp3"',"audio/mpeg"],(i=>t.m$(i)));return void 0!==i?i:void 0}}r(),r();var Rk=class extends mg{constructor(i){super(t.zA),this.currentTime=i}},Uk=[t.uv,t.WA,t.ZA,t.zA,t.jh,t.Sh],Qk=class extends i{get j_(){return this.dR}get R$(){return this.U$}get Q$(){return this.F$}get ct(){return this.Rk}get R_(){return this.Y$}get hg(){return this.gR}get vg(){return this.G$}get Tg(){return this.fR}get Z_(){return this._R}set Z_(t){this.Z_!==t&&(this._R=t,this.Co(new Oe(this.j_,this.xg)))}get ag(){return this.wR}set ag(t){this.ag!==t&&(this.wR=t,this.Co(new se(this.j_,this.ag)))}get xg(){return this.Jk}set xg(t){this.xg!==t&&(this.Jk=t,this.Co(new Oe(this.j_,this.xg)))}Dp(t,i,e){this.dR!==t&&(this.dR=t,this.U$=i,e&&!this.fR?(this.F$=!0,this.Co(new Rk(this.j_))):(this.F$=!1,this.fR=!0,this.Co(new Sa(this.j_))))}Gg(){this.gR||(this.gR=!0,this.Co(new ye(this.j_)))}Vg(){this.gR&&(this.gR=!1,this.Co(new fh(this.j_)))}e_(){this.Vo()}constructor(t,i,e,s,n,r,h,o,a,u,c){super(),this.dR=t,this.Rk=i,this.Y$=e,this.gR=s,this.fR=n,this._R=r,this.wR=h,this.Jk=o,this.G$=a,this.U$=u,this.F$=c}};function Fk(t){return new Qk(t.j_,t.ct,t.R_,t.hg,t.Tg,t.Z_,t.ag,t.xg,t.vg,!1,t.Q$)}function Yk(t,i){i.ct===t.ct||j(i.ct)&&j(t.ct)||t.Co(new Vr(t.ct)),t.Z_=i.Z_,t.xg=i.xg,t.ag=i.ag,i.hg?t.Gg():t.Vg().catch(fg),i.j_!==t.j_||i.vg>Os.tN&&t.vg===Os.tN?t.Dp(i.j_,i.R$,i.Q$):!i.Tg&&t.Tg?t.Co(new Sa(t.j_)):i.Tg&&!t.Tg&&t.vg>=Os.iN&&t.Co(new $s(t.j_)),!i.R_&&t.R_&&t.Co(new ys(t.j_))}r(),r();var Gk=class extends i{get vg(){return this.pg()}V$(t){this.QO!==t&&(this.QO=t,this.Co(new Jh(this.vP.j_,t)))}W$(){this.V$(this.pg())}Zn(){this.V$(Os.tN)}e_(){this.Vo()}constructor(t){super(),this.QO=Os.tN,this.H$=()=>{this.W$()},this.vP=t}};r();var Vk=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],Wk=class extends Gk{pg(){let t=this.vP.TP.readyState;return t>Os.iN&&this.vP.q$?Os.iN:(this.vP.TP.seeking&&t>Os.Gn&&(t=Os.Gn),t)}e_(){for(const t of Vk)this.vP.TP.removeEventListener(t,this.H$);super.e_()}constructor(t){super(t);for(const t of Vk)this.vP.TP.addEventListener(t,this.H$)}};r();var Hk=class extends Gk{pg(){if(this.vP.TP.readyState===Os.tN)return Os.tN;const t=this.X$(),i=t?t.jn-t.Cn:0;if(!t)return Os.Gn;const e=this.vP.ag;return this.Z$()||i>=3*e?Os.sN:i>=3?Os.eN:Os.iN}X$(){const t=this.vP.j_,i=this.vP.b_.WB(.04),e=i.ZB(t);if(!(e<0))return{Cn:t,jn:i.jn(e)}}Z$(){if(this.vP.R_)return!0;const t=this.vP.ct,i=this.X$();return!!i&&t-i.jn<=.16666666666666666}e_(){this.vP.fn([t.ZA,t.zA],this.H$);for(const t of Vk)this.vP.TP.removeEventListener(t,this.H$);super.e_()}constructor(i){super(i),this.vP.yn([t.ZA,t.zA],this.H$);for(const t of Vk)this.vP.TP.addEventListener(t,this.H$)}};r(),r();var qk=[er.Mw,t.jh,t.Sh,t.ZA,t.XA,t.zA,t.BA,t.kA,Nr.ha],Xk=class extends i{K$(){return(!this.zO.Q$||!this.zO.J$)&&this.zO.vg<Os.eN}t0(){return!this.zO.Tg&&!(this.zO.hg||this.zO.R_||this.zO.lt||this.K$())}Qn(){const t=this.i0;this.i0=this.t0(),!t&&this.i0&&this.Co(new Vi(this.zO.j_))}Zn(){this.i0=!1}e_(){this.Vo(),this.zO.fn(qk,this.jG)}constructor(t){super(),this.i0=!1,this.jG=()=>{this.Qn()},this.zO=t,this.zO.yn(qk,this.jG)}},Zk=class extends Xk{t0(){return this.e0&&super.t0()}Qn(){this.e0&&(this.mO.paused||this.mO.ended||this.mO.error)&&(this.e0=!1),super.Qn()}Zn(){super.Zn(),this.e0=!1}e_(){this.mO.removeEventListener(er.Tv,this.HO),super.e_()}constructor(t){super(t),this.e0=!1,this.HO=()=>{this.e0=!0,this.Qn()},this.mO=t.TP,this.mO.addEventListener(er.Tv,this.HO)}};r();var Kk=class extends mg{constructor(t){super(Nr.ha),this.lt=t}};function Jk(t,i){return t.zN<=i&&t.PN>i}function Aa(t,i){return function(t,i){return q_(t.zN,i.zN,Wa)}(t,i)||function(t,i){return q_(t.PN,i.PN,Wa)}(t,i)}function $k(t,i){return function(t,i){return q_(t.GN,i.GN,Wa)}(t,i)||function(t,i){return q_(t.VN,i.VN,Wa)}(t,i)}function Wu(t,i,e){let s=function(t,i,e,s,n,r,h){void 0===n&&(n=!1),void 0===r&&(r=0),void 0===h&&(h=t.length);let o=r,a=h-1;for(;o<=a;){const h=o+(a-o>>1),u=s(e(t[h]),i);if(u<0)o=h+1;else if(u>0)a=h-1;else{if(!(n&&h>r&&0===s(e(t[h-1]),i)))return h;a=h-1}}return~o}(t,i,_g,e,!0);if(s<0)return s;for(;s<t.length&&e(i,t[s])===Po.Zr;s++)if(t[s].$N(i))return s;return-(s+1)}function tC(t,i,e){const s=Wu(t,i,e);return s>=0?s:-(s+1)}function iC(t){const i=t.Lt;if(!i)return-1;if(t instanceof gn)return i.s0(t);const e=i.L;if(!e)return-1;const s=Wu(e.xw,t,Aa);return s>=0?s:-1}function eC(t,i){const e=function(t,i,e){const s=t.length,n=i.length;let r=0,h=0;const o=[],a=[];for(;r<s&&h<n;){const s=t[r],n=i[h];s===n?(r++,h++):e(n,s)<=0?(o.push(n),h++):(a.push(s),r++)}for(;r<s;)a.push(t[r]),r++;for(;h<n;)o.push(i[h]),h++;return{n0:o,r0:a}}(t,i,Aa);return function(t,i){const e=i.length;for(let s=0;s<e;s++)t[s]=i[s];t.length=e}(t,i),e}r(),r(),r(),r();var sC=class{get xw(){return this.h0}get U(){return this.h0.length}get va(){if(this.Xa){const t=this.h0;this.Xa.length=t.length;for(let i=0;i<t.length;i++)this.Xa[i]=t[i].va}else this.Xa=this.fa();return this.Xa}fa(){return function(t){const i=[];for(let e=0;e<t.U;e++)i[e]=t.kL(e).va;return i.item=i=>{const e=0|i,s=t.kL(e);return s&&s.va||void 0},_.defineProperty(i,"constructor",{value:ym}),i}(this)}yN(t){const i=this.h0;for(let e=i.length-1;e>=0;e-=1){const s=i[e];if(t.$N(s))return!0}return!1}kL(t){return this.h0[t]}constructor(t){this.Xa=void 0,this.h0=t}};r();var nC=class extends yo{fa(){return new rC(this.Lt.va,this.vg)}constructor(t,i){super(ea.Mw),this.Lt=t,this.vg=i}},rC=class extends bu{constructor(t,i){super("readystatechange"),this.track=t,this.readyState=i}};r();var hC=class extends yo{fa(){return new oC(this.Lt.va)}constructor(t){super(ea.Nw),this.Lt=t}},oC=class extends bu{constructor(t){super("typechange"),this.track=t}};r();var aC=class extends yo{fa(){return new uC(this.jN.va)}constructor(t){super(ea.aw),this.jN=t}},uC=class extends bu{constructor(t){super("addcue"),this.cue=t}};r();var cC=class extends yo{fa(){return new lC(this.jN.va)}constructor(t){super(ea.cw),this.jN=t}},lC=class extends bu{constructor(t){super("removecue"),this.cue=t}},Us=class extends i{get q(){return this.o0}get L(){return this.a0}u0(t){return p(this.a0.xw,(i=>i.o===t))}get yE(){return this.c0}set yE(t){this.c0=t}get rA(){return this.l0}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){return Go(this)}get o(){return this.NN}get Vw(){return this.DN}get iA(){return this.d0}set iA(t){this.d0=t}get zt(){return this.f0}get kh(){return this.IN}set kh(t){t!==this.IN&&(this.IN=t,this.Co(new Ln(this)))}get gs(){return this.Uk}get Ww(){return this._0}get eA(){return this.QR}set eA(t){this.Xo(t)}Xo(t){const i=rn(t);i!==this.eA&&(this.QR=i,i===La.Ch&&(this.g0.forEach((t=>{t.ro=!1})),Ri(this.g0),this.w0=0),this.Co(new le(this)))}get vg(){return this.G$}set vg(t){this.G$!==t&&(this.G$=t,this.Co(new nC(this,this.G$)))}get oA(){return this.A0}set oA(t){this.A0=t}get hA(){return this.v0}set hA(t){this.v0!==t&&(this.v0=t,this.Co(new hC(this)))}vE(t){if(!t||t.Lt)return;const i=Wu(this.m0,t,$k);if(i>=0)return;t.Lt=this;const e=-(i+1);this.m0.splice(e,0,t);const s=tC(this.L.xw,t,Aa);this.p0(t,s),this.Co(new aC(t))}p0(t,i){this.h0.splice(i,0,t),this.y0(i),t.eD=i,i<this.w0&&(this.w0=i)}DS(t){if(!t||t.Lt!==this)return;const i=this.s0(t);if(i<0)return;t.ro=!1;const e=this.g0,s=Wu(e,t,Aa);s>=0&&Dt(e,s);const n=Wu(this.m0,t,$k);n>=0&&Dt(this.m0,n),this.M0(t,i),this.Co(new cC(t))}M0(t,i){Dt(this.h0,i),this.y0(i),t.eD=-1,this.w0>i&&--this.w0}qN(t){if(!t||t.Lt!==this)return;const i=this.s0(t);if(i<0)return;this.M0(t,i);const e=tC(this.L.xw,t,Aa);this.p0(t,e);const s=Fa(this.g0,(i=>i===t));if(s>=0){Dt(this.g0,s);const i=tC(this.g0,t,Aa);this.g0.splice(i,0,t)}}T0(t,i){const e=this.g0,s=this.h0;let n=this.w0,r=!1;i&&(n=0);for(let i=e.length-1;i>=0;i--){Jk(e[i],t)||(r=!0,Dt(e,i))}for(;n<s.length&&s[n].zN<=t;){const i=s[n];if(0===t)break;Jk(i,t)&&!Ho(e,i)&&(r=!0,e.push(i)),n++}r&&xl(e,Aa),this.w0=n}s0(t){return(-1===t.eD||t.eD>=this.N0)&&this.D0(),t.eD}D0(){const t=this.h0;for(let i=this.N0;i<t.length;i++)t[i].eD=i;this.N0=t.length}y0(t){t<this.N0&&(this.N0=x.max(t,0))}nA(t){this.rA||(this.eA=t)}gn(){this.Vo();const t=this.h0.slice();for(const i of t)i.gn();Ri(this.h0),Ri(this.m0),Ri(this.g0)}constructor(t,i,e,s,n,r,h,o,a){super(),this.DN=Ou(),this.c0=!1,this.QR=La.Ch,this.G$=Q.NONE,this.A0=void 0,this.h0=[],this.m0=[],this.g0=[],this.N0=0,this.w0=0,this.NN=i||"",this.d0=o||"",this.f0=t,this.Uk=s||"",this.c0=Boolean(n),this.l0=Boolean(h),this.v0=r||Ks.DEFAULT,this.IN=e||"",this._0=a||[],this.a0=new sC(this.h0),this.o0=new sC(this.g0)}};r(),r(),r();var dC=class extends ou{fa(){return new fC(this.jN.va)}constructor(t,i){super(Cl.xN,t),this.sI=i}},fC=class extends Xa{constructor(t){super("enter",t)}};r();var _C=class extends ou{fa(){return new gC(this.jN.va)}constructor(t,i){super(Cl.ON,t),this.sI=i}},gC=class extends Xa{constructor(t){super("exit",t)}};r();var wC=class extends yo{fa(){return new AC(this.jN.va)}constructor(t){super(ea._w),this.jN=t}},AC=class extends bu{constructor(t){super("entercue"),this.cue=t}};r();var vC=class extends yo{fa(){return new mC(this.jN.va)}constructor(t){super(ea.ww),this.jN=t}},mC=class extends bu{constructor(t){super("exitcue"),this.cue=t}},pC=class extends ra{get Vw(){return this.DN}get zN(){return this.I0.startTime}set zN(t){this.I0.startTime=t}get PN(){return this.I0.endTime}set PN(t){this.I0.endTime=t}get O(){return this.ZN}set O(t){this.ZN=t}get KN(){return!!this.I0.pauseOnExit}set KN(t){this.I0.pauseOnExit=!!t}get Lt(){return this.HN}set Lt(t){this.HN=t}get o(){return this.I0.id||""}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){return Rh(this)}get ro(){return this.ho}set ro(t){this.ro!==t&&(this.ho=t,t?(this.Co(new dC(this,this.zN)),this.HN&&this.HN.Co(new wC(this))):(this.Co(new _C(this,this.PN)),this.HN&&this.HN.Co(new vC(this))))}$N(t){return this===t||Lg(this,t)&&Dm(this,t)&&this.tD(t)}tD(t){return Ah(this.O,t.O)}gn(){this.Vo(),this.I0.removeEventListener("enter",this.S0),this.I0.removeEventListener("exit",this.E0)}constructor(t){super(),this.ZN=void 0,this.HN=void 0,this.Xa=void 0,this.ho=!1,this.S0=()=>{this.ro=!0},this.E0=()=>{this.ro=!1},this.DN=lm(),this.I0=t,this.GN=t.startTime,this.VN=t.endTime,this.I0.addEventListener("enter",this.S0),this.I0.addEventListener("exit",this.E0)}};r();var yC=class extends yo{fa(){return new MC(this.Lt.va)}constructor(t){super(ea.mw),this.Lt=t}},MC=class extends bu{constructor(t){super("cuechange"),this.track=t}};function TC(t){if(!t)return;let i=t.THEOplayerVTTRegion;return i||(i=new NC(t),t.THEOplayerVTTRegion=i),i}r(),r();var NC=class{get b0(){return this.L0}get o(){return this.L0.id||""}get ji(){return+this.L0.width||0}set ji(t){this.L0.width=t||0}get sD(){return+this.L0.lines||0}set sD(t){this.L0.lines=t||0}get nD(){return+this.L0.regionAnchorX||0}set nD(t){this.L0.regionAnchorX=t||0}get rD(){return+this.L0.regionAnchorY||0}set rD(t){this.L0.regionAnchorY=t||0}get oD(){return+this.L0.viewportAnchorX||0}set oD(t){this.L0.viewportAnchorX=t||0}get aD(){return+this.L0.viewportAnchorY||0}set aD(t){this.L0.viewportAnchorY=t||0}get hD(){return this.L0.scroll||""}get va(){return this.Xa||(this.Xa=km(this)),this.Xa}constructor(t){this.Xa=void 0,this.L0=t}};var DC=class extends pC{get O(){return this.I0.text}set O(t){this.I0.text=t}get Pt(){return this.I0.vertical||""}set Pt(t){this.I0.vertical=t||""}get YN(){return this.I0.snapToLines}set YN(t){this.I0.snapToLines=t}get RN(){return this.I0.line}set RN(t){this.I0.line=t}get ey(){return+this.I0.size}set ey(t){this.I0.size=Sc(t,0,100)}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){return Mm(this)}tD(t){return Im(this,t)}constructor(t){super(t)}},IC=class extends DC{get FN(){return TC(this.I0.region)}get UN(){return this.I0.lineAlign||"start"}set UN(t){this.I0.lineAlign=t||"start"}get po(){return this.I0.position}set po(t){this.I0.position=t}get QN(){return this.I0.positionAlign||"auto"}set QN(t){this.I0.positionAlign=t||"auto"}get BN(){return this.I0.align||"center"}set BN(t){this.I0.align=t||"center"}constructor(t){super(t)}},SC=class extends DC{get FN(){return TC(this.b0)}get b0(){return function(t,i){if(void 0===i)return;let e=t&&t.regions;return e&&e.getRegionById(i)||void 0}(this.I0.track,this.I0.regionId)}get UN(){return function(t){return"middle"===t?"center":t}(this.I0.lineAlign||"start")}set UN(t){this.I0.lineAlign=function(t){return"center"===t?"middle":t}(t||"start")}get po(){return this.I0.position}set po(t){this.I0.position=function(t,i){return pm(t,i)}(t,this.BN)}get QN(){return function(t){return vm[t]}(this.I0.positionAlign||"middle")}set QN(t){this.I0.positionAlign=function(t,i){return Am[mm(t,i)]}(t||"center",this.BN)}get BN(){return function(t){return"middle"===t?"center":t}(this.I0.align||"middle")}set BN(t){this.I0.align=function(t){return"center"===t?"middle":t}(t||"center")}constructor(t){super(t)}};function EC(t,i){return t.O===i.O}function bC(t,i){if(0===i.length)return;const e=i.length-1;if(i[e].zN<t.zN)return void LC(i,e,t.zN);const s=i[0];if(s.zN>t.zN)return void(t.PN=s.zN);const n=Wu(i,t,Aa);if(n>=0)return;const r=-(n+1),h=r-1;if(h>=0){i[h].zN<t.zN&&LC(i,h,t.zN)}if(r<i.length){const e=i[r];t.PN=e.zN}}function LC(t,i,e){const s=t[i].zN;for(let n=i;n>=0&&t[n].zN===s;n--)t[n].PN=e}function kC(t){return Rh(t)}r(),r(),r(),r();var CC,xC,OC=class extends pC{get O(){return this.k0}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){return kC(this)}tD(t){return EC(this,t)}constructor(t,i){super(t),this.k0=i}};function $(t){switch(t){case 0:case 1:case 2:case 3:return!0}return!1}function I(t){switch(t){case 0:return PA;case 1:return QA;case 2:return wa;case 3:return gl}}function jC(t,i){const e=i.Ku,s=t.byteLength,n=ko(t);return i.Np(s-e),jh(n,e,s).buffer}function zC(t,i){return{id:t||"",data:i instanceof ArrayBuffer?i:void 0}}function PC(t,i,e){const s=F(t,i);if(!$(s))return;const n=I(s);return{id:e,language:Oo(t,i,3),description:n(t,i),text:n(t,i)}}function BC(t,i,e){const s=F(t,i);if(!$(s))return;const n=I(s);return{id:e,mimeType:PA(t,i),fileName:n(t,i),description:n(t,i),data:jC(t,i)}}function RC(t,i,e){const s=F(t,i);if(!$(s))return;const n=I(s),r=[];for(;i.Ku<t.byteLength;)r.push({involvement:n(t,i),involvee:n(t,i)});return{id:e,entries:r}}function UC(t,i,e){const s=F(t,i);if(!$(s))return;const n=I(s),r=Oo(t,i,3),h=F(t,i),o=F(t,i),a=n(t,i);let u=!1;const c=[];for(;i.Ku<t.byteLength;){let e;if(1===s){let s=UA(t,i);void 0===s?s=u:u=s,e=wa(t,i,s)}else e=n(t,i);if(!e||i.Ku+4>t.byteLength)break;c.push({text:e,timestamp:ji(t,i)})}return{id:e,language:r,format:h,contentType:o,description:a,entries:c}}function QC(t,i,e){return{id:e,ownerIdentifier:PA(t,i),identifier:jC(t,i)}}function FC(t,i,e){const s=F(t,i);if(!$(s))return;const n=I(s);return{id:e,language:Oo(t,i,3),description:n(t,i),text:n(t,i)}}function YC(t,i,e){const s=F(t,i);if(!$(s))return;return{id:e,text:I(s)(t,i)}}function GC(t,i,e){return{id:e,url:PA(t,i)}}function VC(t,i,e){const s=F(t,i);if(!$(s))return;const n=I(s);return{id:e,description:n(t,i),text:n(t,i)}}function WC(t,i,e){const s=F(t,i);if(!$(s))return;return{id:e,description:I(s)(t,i),url:PA(t,i)}}function HC(t,i,e){switch(e){case"COM":return PC(t,i,e);case"GEO":return BC(t,i,e);case"IPL":return RC(t,i,e);case"PIC":return function(t,i,e){const s=F(t,i);if(!$(s))return;const n=I(s),r=Oo(t,i,3),h=F(t,i),o=n(t,i);let a,u;return"--\x3e"===r?(a=r,u=PA(t,i)):(a="image/"+r.toLowerCase(),u=jC(t,i)),{id:e,mimeType:a,pictureType:h,description:o,data:u}}(t,i,e);case"SLT":return UC(t,i,e);case"TXX":return VC(t,i,e);case"UFI":return QC(t,i,e);case"ULT":return FC(t,i,e);case"WXX":return WC(t,i,e);default:if("T"===e.charAt(0))return YC(t,i,e);if("W"===e.charAt(0))return GC(t,i,e)}}function qC(t,i,e){switch(e){case"APIC":return function(t,i,e){const s=F(t,i);if(!$(s))return;const n=I(s),r=PA(t,i),h=F(t,i),o=n(t,i);let a;return a="--\x3e"===r?PA(t,i):jC(t,i),{id:e,mimeType:r,pictureType:h,description:o,data:a}}(t,i,e);case"COMM":return PC(t,i,e);case"COMR":return function(t,i,e){const s=F(t,i);if(!$(s))return;const n=I(s),r=PA(t,i),h=Oo(t,i,8),o=PA(t,i),a=F(t,i),u=n(t,i),c=n(t,i);let l,d;return i.Ku<t.byteLength&&(l=PA(t,i)||"image/",d=jC(t,i)),{id:e,price:r,validUntil:h,contactURL:o,receivedAs:a,nameOfSeller:u,description:c,pictureMimeType:l,sellerLogo:d}}(t,i,e);case"GEOB":return BC(t,i,e);case"IPLS":return RC(t,i,e);case"PRIV":return function(t,i,e){return{id:e,ownerIdentifier:PA(t,i),data:jC(t,i)}}(t,i,e);case"POSS":return function(t,i,e){return{id:e,format:F(t,i),position:ji(t,i)}}(t,i,e);case"SYLT":return UC(t,i,e);case"TXXX":return VC(t,i,e);case"UFID":return QC(t,i,e);case"USER":return function(t,i,e){const s=F(t,i);if(!$(s))return;const n=I(s);return{id:e,language:Oo(t,i,3),text:n(t,i)}}(t,i,e);case"USLT":return FC(t,i,e);case"WXXX":return WC(t,i,e);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return YC(t,i,e);default:{const s=e.charAt(0);if("T"===s)return YC(t,i,e);if("W"===s)return GC(t,i,e)}}}r(),r(),function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(CC||(CC={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(xC||(xC={}));var XC=10;function ZC(t,i){return(127&F(t,i))<<21|(127&F(t,i))<<14|(127&F(t,i))<<7|127&F(t,i)}function KC(t,i){switch(t){case 4:return{C0:wu(i,0),x0:wu(i,1),O0:wu(i,2),j0:wu(i,3)};case 3:return{C0:wu(i,0),x0:wu(i,1),O0:wu(i,2)};case 2:return{C0:wu(i,0),z0:wu(i,1)}}}function JC(t,i,e){switch(e._y){case 3:e.gy.x0&&function(t,i){const e=i.Ku,s=ji(t,i)+4,n=32768&CA(t,i);i.Dp(e+s),n&&ji(t,i)}(t,i);break;case 4:e.gy.x0&&function(t,i){const e=i.Ku,s=ZC(t,i);i.Dp(e+s)}(t,i)}}function $C(t,i){if(t.byteLength-i.Ku<XC)return null;if(73!==F(t,i)||68!==F(t,i)||51!==F(t,i))return null;const e=F(t,i),s=F(t,i);if(!function(t){switch(t){case 2:case 3:case 4:return!0}return!1}(e))return null;const n=F(t,i),r=ZC(t,i);return{_y:e,P0:s,gy:KC(e,n),B0:r}}function tx(t,i,e){switch(e){case 2:return function(t,i){if(i.Ku+6>t.byteLength)return;return{o:Oo(t,i,3),ey:Fi(t,i,3)}}(t,i);case 3:return function(t,i){if(i.Ku+10>t.byteLength)return;const e=Oo(t,i,4),s=ji(t,i);F(t,i);const n=F(t,i);return{o:e,ey:s,gy:{z0:wu(n,0),R0:wu(n,1),groupingIdentity:wu(n,2)}}}(t,i);case 4:return function(t,i){if(i.Ku+10>t.byteLength)return;const e=Oo(t,i,4),s=ZC(t,i);F(t,i);const n=F(t,i);return{o:e,ey:s,gy:{groupingIdentity:wu(n,1),z0:wu(n,4),R0:wu(n,5),C0:wu(n,6),U0:wu(n,7)}}}(t,i)}}function ix(t){const i=ko(t),e=new T(i.byteLength);let s=0;for(let t=0;t<i.byteLength;t++){const n=i[t];255===n&&t++,e[s]=n,s++}return Mo(jh(e,0,s))}function ex(t,i){const e=i||new Or,s=$C(t,e);if(!s)return null;const n=function(t,i,e){const s=[],n=i.Ku;let r=cn(t,n,n+e.B0);const h=new Or;switch(i.Np(e.B0),e._y){case 2:case 3:e.gy.C0&&(r=ix(r))}JC(t,i,e);for(;h.Ku<r.byteLength;){const t=sx(r,h,e);if(void 0===t)break;s.push(t)}return s}(t,e,s);return{iy:s,Q0:n}}function sx(t,i,e){const s=tx(t,i,e._y);if(void 0===s)return;if(0===s.o.charCodeAt(0)||0===s.ey)return;const n=i.Ku;let r,h,o=cn(t,n,n+s.ey);switch(i.Np(s.ey),e._y){case 2:{const t=s;h=o,r=HC(h,new Or,t.o);break}case 3:{const t=s,i=new Or;!function(t,i,e){const s=e.gy;let n,r,h;s.z0&&(n=ji(t,i)),s.R0&&(r=F(t,i)),s.groupingIdentity&&(h=F(t,i))}(o,i,t);h=cn(o,i.Ku,o.byteLength),r=qC(h,new Or,t.o);break}case 4:{const t=s,i=new Or;t.gy.C0&&(o=ix(o)),function(t,i,e){const s=e.gy;let n,r,h,o;s.groupingIdentity&&(n=F(t,i)),s.z0&&(r=ji(t,i)),s.R0&&(h=F(t,i)),s.U0&&(o=ZC(t,i))}(o,i,t);h=cn(o,i.Ku,o.byteLength),r=qC(h,new Or,t.o);break}}if(!r){const t=Ae(ko(h));r=zC(s.o,t.buffer)}return r}function nx(t){return function(t,i,e){return YC(t,i,e)}(new DataView(t.data),new Or,t.key)}function rx(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return nx(t);default:let i=t.key.charAt(0);if("T"===i)return function(t){return{id:t.key,text:t.data}}(t);if("W"===i)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return zC(t.key,t.data)}(t)}r(),r();var Pn=class t extends i{get q(){return this.o0}get yE(){return this.F0?this.F0.default:void 0}get L(){return this.a0}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){return Go(this)}get o(){return this.TN.id||this.F0&&this.F0.id||""}get Vw(){return this.DN}get iA(){return this.TN.inBandMetadataTrackDispatchType||""}get zt(){return this.TN.kind||Oi.pp}get kh(){return this.IN}set kh(t){t!==this.IN&&(this.IN=t,void 0!==this.F0&&(this.F0.label=t),this.Co(new Ln(this)))}get gs(){return this.TN.language||""}get eA(){return this.QR}set eA(t){let i=this.eA;this.QR=rn(t),this.Y0();let e=this.eA;i!==e&&this.Co(new le(this)),e!==La.Ch&&this.G0(Q.LOADING)}get V0(){return rn(this.TN.mode)}set V0(t){this.TN.mode=t}get SN(){return this.TN}get vg(){return this.G$}get W0(){return this.F0?+this.F0.readyState||Q.NONE:Q.LOADED}get oA(){return this.A0}get hA(){return this.v0}set hA(t){this.v0!==t&&(this.v0=t,this.Co(new hC(this)))}get H0(){return this.q0}set H0(t){this.q0=t,t&&(this.X0=!0,u((()=>{this.X0=!1}),50)),this.Y0()}Y0(){let t=this.eA;this.H0||t!==La.Xn?this.V0=t:this.V0=La.sA}Z0(){let t=this.eA,i=this.V0;t!==i&&(this.H0||t!==La.Xn||i!==La.sA)&&("metadata"===this.zt&&i===La.Ch?this.eA=t:this.X0&&i===La.Ch&&t===La.Xn?this.V0=t:this.eA=i)}W$(t){this.G$!==t&&(this.G$=t,this.Co(new nC(this,t)))}G0(t){let i=x.max(this.G$,this.W0,t);this.W$(i)}static K0(t){return t&&t.THEOplayerTextTrackCue||void 0}J0(i){let e=t.K0(i);if(e)return e;if(e=this.$0(i),rt(e))for(let t of e)t.Lt=this;else e.Lt=this;return i.THEOplayerTextTrackCue=e,e}$0(t){return function(t){return!(!t||"org.id3"!==t.type||!t.value)}(t)?(this.hA=Ks.ID3,function(t){let i;try{i=rx(t.value)}catch(t){i=zC("")}return new OC(t,i)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.hA=Ks.ID3,function(t){let i=[];try{let e=ex(new DataView(t.data));if(e)for(let s of e.Q0)i.push(new OC(t,s))}catch(t){}return i}(t)):function(t){return"text"in t}(t)?(this.hA=Ks.WEBVTT,function(t){return"regionId"in t}(t)?new SC(t):new IC(t)):new pC(t)}t1(t){let i=[];if(!t)return i;let e=t.length;for(let s=0;s<e;s++){let e=this.J0(t[s]||t.item(s));if(rt(e))for(let t of e)i.push(t);else i.push(e)}return i}i1(){let t=this.t1(this.TN.cues),i=eC(this.h0,t);for(let t of i.r0)t.fn(Cl.ON,this.e1),t.fn(Cl.xN,this.e1),this.Co(new cC(t));for(let t of i.n0)t.yn(Cl.xN,this.e1),t.yn(Cl.ON,this.e1),this.Co(new aC(t))}T0(){let t=this.t1(this.TN.activeCues),i=eC(this.g0,t);for(let t of i.r0)t.ro=!1;for(let t of i.n0)t.ro=!0;(i.n0.length||i.r0.length)&&this.Co(new yC(this))}nA(t){this.eA=t}gn(){this.Vo();const t=this.h0.slice();for(let i of t)i.gn();Ri(this.h0),Ri(this.g0),this.TN.removeEventListener("cuechange",this.s1),this.TN.removeEventListener("cuechange",this.e1),this.F0&&(this.F0.removeEventListener("load",this.n1),this.F0.removeEventListener("error",this.o1),di(this.F0))}constructor(t,i,e=!0){super(),this.h0=[],this.g0=[],this.QR=La.Ch,this.G$=Q.NONE,this.A0=void 0,this.v0=Ks.DEFAULT,this.X0=!1,this.s1=()=>{this.Y0(),this.TN.removeEventListener("cuechange",this.s1)},this.e1=()=>{this.eA!==La.Ch&&(this.i1(),this.T0(),this.h0.length&&this.G0(Q.LOADING))},this.n1=()=>{this.G0(Q.LOADED)},this.o1=()=>{this.G0(Q.ERROR)},this.TN=t,this.q0=e,this.TN.addEventListener("cuechange",this.s1),this.TN.addEventListener("cuechange",this.e1),this.F0=i,this.F0&&(this.A0=Ta(this.F0.src),this.F0.addEventListener("load",this.n1),this.F0.addEventListener("error",this.o1)),this.DN=Ou(),this.IN=t.label||"",this.a0=new sC(this.h0),this.o0=new sC(this.g0),this.eA=this.V0,Qu((()=>{this.e1(),this.G0(Q.NONE)}))}};r(),r();function hx(t,i){return Ee(t.sI,i.sI)||function(t,i){return t.Lt===i.Lt?H_(iC(t),iC(i)):wy(t.Lt,i.Lt)}(t.jN,i.jN)||function(t,i){return t===i?Po.Zr:t===Cl.xN?Po.Hf:Po.Wf}(t.type,i.type)}var ox=class{Zn(){Ri(this.a1);for(const t of this.Dl.slice())this.it(t);this.u1(),this.c1=0,this.An=0,this.l1=!1,this.d1=!1,this.f1=void 0}tt(t){if(!Ho(this.Dl,t)){if(this.Dl.push(t),t.yn(ea.aw,this._1),t.yn(ea.cw,this.g1),t.yn(ea.dw,this.w1),t.yn(ea.ra,this.A1),t.L.U>0){for(const i of t.L.xw)this.v1.push(i);this.m1()}this.M1()}}it(t){if(Et(this.Dl,t)){if(t.fn(ea.aw,this._1),t.fn(ea.cw,this.g1),t.fn(ea.dw,this.w1),t.fn(ea.ra,this.A1),t.L.U>0){for(const i of t.L.xw)Et(this.a1,i),Et(this.v1,i);this.m1()}this.M1()}}M1(){this.l1=this.Dl.some((t=>t.eA!==La.Ch))}T1(){this.Qo.Tg||this.Qo.hg?this.u1():this.m1()}m1(){this.l1&&(this.c1||(this.c1=this.D1.N1(this.I1)))}u1(){this.c1&&(this.D1.S1(this.c1),this.c1=0)}E1(){if(!this.l1)return;if(this.Qo.Tg)return;const t=this.Dl,i=this.An;var e;const s=null!=(e=this.f1)?e:this.Qo.j_,n=s-i<-.1;let r=this.d1||n;r&&s>i&&s-i<.1&&(r=!1),this.d1=!1,this.f1=void 0;const h=[];for(const i of t)if(i.eA!==La.Ch){i.T0(s,r);for(const t of i.q.xw)h.push(t)}const o=this.a1.slice();if(r);else for(const e of t)e.eA!==La.Ch&&gy(e,i-kc,s,o);for(let t=o.length-1;t>=0;t--)Ho(h,o[t])&&Dt(o,t);const a=[];if(!r)for(let t=o.length-1;t>=0;t--){const e=o[t];e.zN>i&&e.PN<=s&&(a.push(e),Dt(o,t))}for(const t of this.v1)Et(a,t);Ri(this.v1);const u=[],c=[];for(const t of a)t.ro||u.push(new dC(t,t.zN)),u.push(new _C(t,x.max(t.zN,t.PN))),t.ro=!1;for(const t of o)t.ro&&(u.push(new _C(t,x.max(t.zN,t.PN))),t.ro=!1);for(const t of h)t.ro||(u.push(new dC(t,t.zN)),t.ro=!0);u.sort(hx);for(const t of u){const i=t.jN;i.Co(t);const e=i.Lt;e&&(t.type===Cl.xN?e.Co(new wC(i)):e.Co(new vC(i)),Ho(c,e)||c.push(e))}c.sort(wy);for(const t of c)t.Co(new yC(t));this.An=s,this.a1=h}gn(){this.Zn(),this.Qo.fn(t.ov,this.b1),this.Qo.fn(t.jh,this.b1),this.Qo.fn(er.Tv,this.b1),this.Qo.fn(t.Sh,this.b1),this.Qo.fn(t.ZA,this.L1),this.Qo.fn(t.XA,this.C1)}constructor(i,e){this.Dl=[],this.c1=0,this.An=0,this.a1=[],this.v1=[],this.l1=!1,this.d1=!1,this.f1=void 0,this.I1=()=>{this.c1=0,this.E1(),this.T1()},this.b1=()=>{this.E1(),this.T1()},this.L1=()=>{this.d1=!0,this.f1=this.Qo.j_,this.u1()},this.C1=()=>{this.E1(),this.T1()},this.A1=()=>{this.M1(),this.E1(),this.T1()},this._1=t=>{const i=t.jN;Ho(this.v1,i)||this.v1.push(i),this.m1()},this.g1=t=>{const i=t.jN;Et(this.a1,i),Et(this.v1,i),this.m1()},this.w1=t=>{this.m1()},this.D1=e,this.Qo=i,i.yn(t.ov,this.b1),i.yn(t.jh,this.b1),i.yn(er.Tv,this.b1),i.yn(t.Sh,this.b1),i.yn(t.ZA,this.L1),i.yn(t.XA,this.C1),this.m1()}};r();var ax=class{N1(t){return Lr(t)}S1(t){Gs(t)}},ux=new ax,Ju=class extends ox{constructor(t,i=ux){super(t,i)}};r(),r();var cx=class extends gn{get va(){return this.Xa||(this.Xa=kC(this)),this.Xa}tD(t){return EC(this,t)}constructor(t,i,e){super(t,1/0,i,!1,e)}};r(),r();var lx=class extends Us{constructor(t,i,e=Ks.DEFAULT){super(Oi.Mp,"",i||"","",!1,e,!1,t)}},dx=class extends lx{vE(t){bC(t,this.h0),super.vE(t)}fa(){return Go(this)}constructor(t,i){super(t,i),this.hA=Ks.ID3}};function fx(t){const i=t&&t.THEOplayerTextTrackCue||void 0;if(i)return i;const e=t.startTime,s=rx(t.value);return t.THEOplayerTextTrackCue=new cx(e,s),t.THEOplayerTextTrackCue}var _x=class extends dx{get o(){return this.TN.id||""}get iA(){return this.TN.inBandMetadataTrackDispatchType||""}get gs(){return this.TN.language||""}Xo(t){super.Xo(t),this.V0=this.eA}get V0(){return rn(this.TN.mode)}set V0(t){this.TN.mode=t}get SN(){return this.TN}G0(t){this.vg=x.max(this.vg,t)}i1(){let t=this.TN.cues;if(!t)return;let i=function(t){const i=t.length,e=[];for(let s=0;s<i;s++)e.push(fx(t[s]||t.item(s)));return xl(e,Aa),e}(t),e=eC(this.L.xw.slice(),i);for(let t of e.r0)this.DS(t);for(let t of e.n0)this.vE(t)}gn(){this.TN.removeEventListener("cuechange",this.e1),super.gn()}constructor(t){super(t.inBandMetadataTrackDispatchType,t.label),this.e1=()=>{this.eA!==La.Ch&&(this.i1(),this.G0(Q.LOADED))},this.TN=t,this.TN.addEventListener("cuechange",this.e1),this.eA=this.V0,Qu((()=>{this.e1()}))}};r();var gx=class extends ni{O1(){this.j1.yn(at.ew,this.fP),this.j1.yn(at.hw,this._P)}z1(){this.j1.fn(at.ew,this.fP),this.j1.fn(at.hw,this._P)}P1(t){const i=t.L.xw[0];if(!wx(i))return;const e=function(t){const i=t.match(Ax);if(!i)return;return{Lt:i[1],gs:i[2]}}(i.O.description),s=e.Lt,n=e.gs;if(this.B1(s,n))return;const r=this.fE.dE(Oi.pp,t.o,s,n,!1,Ks.TTML);this.tt(r),this.R1.set(t.Vw,r);for(let i of t.L.xw)wx(i)&&this.U1(i);t.yn(ea.aw,this.Q1)}B1(t,i){return this.Z.xw.some((e=>e.kh===t&&e.gs===i))}U1(t){if(!t.Lt)return;const i=this.R1.get(t.Lt.Vw),e=Fp(t.O.text,i,{LI:0,kI:1/0,CI:t.zN});for(let t of e)i.vE(t)}async Zn(){for(let t of this.j1.xw)t.fn(ea.aw,this.Q1);for(let t of this.Z.xw)this.fE.pE(t);this.R1.clear(),await super.Zn()}async gn(){this.z1(),await super.gn()}constructor(t,i){super(),this.fE=t,this.j1=i,this.R1=_e(),this.fP=async t=>{const i=t.Lt;if(i.hA||await i.D_(ea.Nw),i.hA===Ks.ID3){for(;0===i.L.U;)await i.D_(ea.aw);this.P1(i)}},this._P=t=>{const i=t.Lt;if(i.hA!==Ks.ID3||!this.R1.has(i.Vw))return;const e=this.R1.get(i.Vw);this.it(e),this.fE.pE(e),i.fn(ea.aw,this.Q1)},this.Q1=t=>{wx(t.jN)&&this.U1(t.jN)},this.O1()}};function wx(t){return function(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(t)&&Ax.test(t.description)}(t.O)}var Ax=/^Track:(.+),Lang:(.+)$/;r(),r();var ze=class extends mg{get error(){return this.errorObject.message}get licenseAcquisitionURL(){return this.errorObject.url}get status(){return this.errorObject.status}get statusText(){return this.errorObject.statusText}get licenseAcquisitionMessage(){return this.errorObject.response}get systemCode(){return this.errorObject.systemCode}constructor(i){super(t.NA),this.errorObject=i}};r(),r(),r();var vx=class extends mg{constructor(){super(t.DA)}};r();var mx=class extends mg{constructor(t){super("_v"),this.F1=t}},px=new no,yx=class extends mg{constructor(t){super("Ws"),this.session=t}},Mx=class extends i{ux(){return this.Y1=!0,px.oO((t=>this.G1(t)),this.aO.a_)}async G1(t){try{Pi(t),await this.V1.hj(t);const i=await this.V1.aj(this.W1.AL,this.W1.bL,t);await this.H1.ux(this.W1.AL,this.W1.bL,i)}catch(t){go(t);const i=t instanceof oi?t.RL:void 0,e=new Qr(y_.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t,void 0,void 0,void 0,void 0,i);throw this.Ss(e),e}}async wj(t,i){let e;try{e=function(t){return va(t,iM())}(t)?await this.V1.Dj(new T(t),this.aO.a_):await this.V1.Ij(new T(t),i,this.aO.a_)}catch(t){if(So(t))return;throw t}if(this.aO.a_.$f)return;const s=this.q1,n=new Eo;this.q1=n;try{await this.H1.Qn(e),await ws(100)}catch(t){const i=t instanceof oi?t.RL:void 0;throw new Qr(y_.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t,void 0,void 0,void 0,void 0,i)}finally{void 0!==s&&await s.PL,n.jL(),this.q1===n&&(this.q1=void 0)}}Ss(t){const i=t instanceof Qr?t:new Qr(y_.CONTENT_PROTECTION_ERROR,t.message,t);this.Co(new ze(i)),this.Ws()}X1(){this.H1.fn("TL",this.wx),this.H1.fn("yL",this.Z1),this.H1.fn("lt",this.K1),this.J1=!1,this.aO.c_(),this.Co(new yx(this))}async Ws(){let t;this.Vo();do{t=this.q1,void 0!==t&&await t.PL}while(this.q1!==t);this.X1(),await this.H1.Ws().catch(fg)}constructor(t,i,e){super(),this.H1=t,this.V1=i,this.W1=e,this.Y1=!1,this.J1=!1,this.aO=new xs,this.wx=t=>{if(!this.aO.a_.$f)switch(t.NL){case"license-request":case"license-renewal":this.wj(t.TL,t.DL).catch((t=>this.Ss(t)));break;default:this.Ss(new Qr(y_.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.NL))}},this.Z1=t=>{this.H1.ix.CL(((t,i)=>{switch(t){case"usable":lg.g_((()=>{this.J1=!0,this.Co(new vx)}),100);break;case"expired":case"status-pending":default:break;case"output-restricted":case"internal-error":this.Co(new mx(i))}}))},this.K1=t=>{this.Ss(new Qr(y_.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},t.yn("TL",this.wx),t.yn("yL",this.Z1),t.yn("lt",this.K1),t.JC.then((()=>this.X1()),(t=>this.Ss(t)))}};r();var Tx=[t.DA,t.NA,t.fv],Nx=class extends i{get dm(){return this.fm}rj(){return this.t4.rj()}i4(t){return this.e4||(this.e4=this.s4(t)),this.e4}async s4(t){Pi(t);const i=await this.t4.Dj(new T(iM()),t);if(Pi(t),!this.mx)throw new b("Invalid MediaKeys when setting ServerCertificate");await this.mx.yx(i.buffer)}async n4(t){if(!this.mx)throw new b("Invalid MediaKeys when creating KeySession");try{this.r4.push(t);const i=await this.mx.vx("temporary"),e=new Mx(i,this.t4,t);return this.h4.push(e),e.yn(Tx,this.Ds),e.yn("Ws",this.o4),e}finally{Et(this.r4,t)}}a4(t){if(t.u4)return!1;for(const i of this.h4)if(Dx(i.W1,t))return!0;for(const i of this.r4)if(Dx(i,t))return!0;return!1}async gn(){this.mx=void 0,this.Vo();const t=this.h4.slice();Ri(this.h4),await Promise.all(t.map((t=>t.Ws()))),this.t4.e_()}constructor(t,i,e){super(),this.h4=[],this.e4=void 0,this.r4=[],this.o4=t=>{t.session.fn(Tx,this.Ds),t.session.fn("Ws",this.o4),Et(this.h4,t.session)},this.fm=t,this.mx=i,this.t4=e}};function Dx(t,i){return!t.u4&&t.AL===i.AL&&va(t.bL,i.bL)}var Ix=class extends i{get c4(){var t;return null==(t=this.fm)?void 0:t.dm}get VP(){return this.t4}set VP(t){this.t4=t}$n(t,i){this.DP=t,this.RH(i)}RH(t){this.$x=t,this.l4(this.aO.a_).catch(Mh)}async l4(t){if(!lg.Ys.d4||!await this.f4(t))return this.$x&&this.$x._4?await this.g4(t):void 0}async f4(t){var i,e;if(!(null==(i=this.$x)?void 0:i.kP))return!1;let s=!1;var n;for(const i of null!=(n=null==(e=this.$x)?void 0:e.kP)?n:[]){var r;for(const e of null!=(r=i.nP)?r:[])try{await this.w4(i.dm.AL,e,t),s=!0}catch(t){go(t)}if(s)return!0}return!1}async w4(t,i,e){if(Pi(e),!i.byteLength)return;if(!this.$x||!this.$x.kP.length)throw new Qr(y_.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(t!==jw&&t!==Gh&&t!==zw)return void 0;const s=vv(t,i),n=this.$x.kP;let r;for(const i of n){Pi(e);const n=s[i.dm.vL];if(n&&i.dm.AL===t)try{const t=await this.A4(i,e);t.rj()&&await t.i4();const s=this.vP.W_,r={AL:i.dm.AL,bL:n,u4:s};if(this.v4(t,r)){const i=await t.n4(r);await i.ux()}return}catch(t){go(t),r=t}}throw await lg.zx()?new Qr(y_.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",r):new Qr(y_.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",r)}async g4(t){var i;const e=null==(i=this.$x)?void 0:i.kP;if(e)for(const i of e){Pi(t);try{const e=await this.A4(i,t);return void(e.rj()&&await e.i4())}catch(t){go(t)}}}v4(t,i){return lg.Ys.m4||this.vP.y4.bH||!t.a4(i)}A4(t,i){return this.GH.oO((i=>this.M4(t,i)),i)}async M4(i,e){if(Pi(e),!this.$x||!this.t4||!this.DP)throw new b("Not initialized");if(this.fm){if(this.fm.dm!==i.dm)throw new b("Internal key system error");return this.fm}const s=this.t4,n=At({},i,{iB:i.iB.map((t=>{var e;return At({},t,{persistentState:null!=(e=t.persistentState)?e:s.zj(i.dm),Rx:t.Rx||s.Rx(i.dm)})}))}),r=await this.DP.jH(n.dm,n.iB),h=s.sP(n),o=new Nx(n.dm,r,h);return o.yn([t.DA,t.NA,t.fv],this.Ds),this.fm=o,o}Ss(t){if(So(t))return;const i=t instanceof Qr?t:new Qr(y_.CONTENT_PROTECTION_ERROR,t.message,t);this.Co(new ze(i))}async Zn(){this.DP=void 0,this.$x=void 0,this.aO.c_(),this.aO=new xs,await this.T4()}async T4(){await this.GH.c_();const i=this.fm;i&&(i.fn(t.fv,this.Ds),this.fm=void 0,await i.gn())}async e_(){this.Vo(),this.vP.fn(Zy.LA,this.N4),await this.Zn(),await this.GH.gn()}constructor(t){super(),this.aO=new xs,this.GH=new no,this.$x=void 0,this.t4=void 0,this.DP=void 0,this.fm=void 0,this.N4=t=>{this.w4(t.AL,t.bL,this.aO.a_).catch((t=>this.Ss(t)))},this.vP=t,this.vP.yn(Zy.LA,this.N4)}};r();r();var Sx=class extends mg{constructor(i){super(t.BA),this.currentTime=i}};r();var Ex=class extends i{get vg(){return void 0!==this.D4?this.D4.vg:Os.tN}W$(){var t;null==(t=this.D4)||t.W$()}Zn(){var t;null==(t=this.D4)||t.Zn()}e_(){this.Vo(),void 0!==this.D4&&(this.D4.e_(),this.D4=void 0)}I4(t){if(this.D4===t)return;const i=this.vg;void 0!==this.D4&&this.D4.e_(),this.D4=t,void 0!==t&&(t.yn(er.Mw,this.Ds),t.W$());const e=this.vg;i!==e&&this.Co(new Jh(this.S4.j_,e))}constructor(t){super(),this.S4=t}},bx=Zt.Lb||Zt.Cb,Lx=Zt.fL,kx=Zt.Fb,Cx=Zt.Fb&&Zt.Ga,xx=class extends i{E4(){this.TP.ended||this.j_===this.ct||(this.b4=!1)}get q$(){return this.L4}get b_(){return this.DP?this.DP.b_:Ki.lR()}get k_(){const t=this.IP;if(!t||j(t.getTime()))return;const i=1e3*this.j_;return new Date(t.getTime()+i)}get IP(){if(this.TP.getStartDate)return this.fR&&this.C4||(this.C4=this.TP.getStartDate()),this.C4}get j_(){return this.x4?this.x4.j_:void 0!==this.O4?this.O4:this.mO.currentTime}get Iu(){return this.Wu}get ct(){return this.x4?this.x4.ct:this.DP?this.DP.ct:this.mO.duration}get R_(){return this.Tg?this.j4():this.x4?this.x4.R_:this.mO.ended||this.b4}j4(){return void 0!==this.O4&&this.ct===this.O4}get lt(){return this.yP}get TP(){return this.mO}get hg(){return this.z4?this.P4:this.x4?this.x4.hg:this.mO.paused}get fg(){return this.Uo.HB(Ki.xn(this.mO.played))}get Ti(){return this.mO.offsetHeight*lg.Ys.B4}get ji(){return this.mO.offsetWidth*lg.Ys.B4}get ya(){return this.AR}get vg(){return this.R4.vg}get yg(){return this.DP?this.DP.yg:Ki.lR()}get Tg(){return this.x4?this.x4.Tg:this.fR}get Q$(){return this.x4?this.x4.Q$:this.F$}get J$(){return 0!==this.U4}get Z_(){return this.x4?this.x4.Z_:this.mO.muted}set Z_(t){this.x4?this.x4.Z_=t:(this.mO.muted=t,this.Q4())}get ag(){return this.x4?this.x4.ag:void 0!==this.F4?this.F4:this.mO.playbackRate}set ag(t){this.x4?this.x4.ag=t:this.hg||this.L4?(this.F4=t,this.Y4()):(this.F4=void 0,this.mO.playbackRate=t,this.Y4())}Y4(){const t=this.ag;this.G4!==t&&(this.G4=t,this.Co(new se(this.j_,t)))}get V4(){return this.xB}get xg(){return this.x4?this.x4.xg:this.mO.volume}set xg(t){this.x4?this.x4.xg=t:(this.mO.volume=t,this.Q4())}Q4(){const t=this.xg,i=this.Z_;this.W4===t&&this.H4===i||(this.W4=t,this.H4=i,this.Co(new Oe(this.j_,this.xg)))}X_(){return iL(this.mO)}Vg(){this.q4||(this.q4=!0);const t=this.X4();return this.Z4(),t}Z4(){this.z4?this.P4&&(this.P4=!1,this.Co(new fh(this.j_))):this.K4()}K4(){if(this.x4)this.x4.Vg();else{Zt.Fb&&!Zt.Ga&&this.mO.preload===tt.DB&&(this.mO.preload=tt.Mp);const t=this.ag,i=this.mO.play();t!==this.TP.playbackRate&&(this.ag=t),vu(i)?i.then(this.J4,this.t2):this.i2.t0()&&this.e2()}}Gg(){this.z4?this.P4||(this.P4=!0,this.Co(new ye(this.j_))):this.s2()}s2(){this.x4?this.x4.Gg():(this.mO.pause(),this.i2.Qn()),this.n2(new ia)}X4(){const t=new Eo;return this.h2.push(t),t.PL}o2(){for(const t of this.h2)t.jL(void 0);Ri(this.h2)}n2(t){for(const i of this.h2)i.zL(t);Ri(this.h2)}e2(){this.z4||this.x4||this.o2()}a2(t){this.z4||this.x4||this.n2(t)}Dp(t,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.x4?this.x4.Dp(t,i,e):(this.u2.c_(),this.u2=new xs,this.c2=this.l2(t,i,e,this.c2,this.u2.a_).catch(fg))}mP(t){const i=this.IP;if(!i||j(i.getTime()))return;const e=(t.getTime()-i.getTime())/1e3;this.Dp(e)}async l2(i,e,s,n,r){try{for(this.O4=i,this.d2=i,this.f2=lg.f_(),s&&!this.fR?this.F$=!0:(this.fR=!0,this.F$=!1),this.b4&&!this.j4()&&(this.b4=!1),this.F$?this.Co(new Rk(this.j_)):this.Co(new Sa(i)),await n.catch(fg),Pi(r),this._2&&this.g2(),this.R4.vg===Os.tN&&await this.R4.D_(er.Mw,r);0===this.mO.seekable.length||Cx&&!this.q4;)await Promise.race([yi(this.mO,"timeupdate",r),ws(100,r)]),Pi(r);let h=Ck(this.b_,i,.05),o=this.yg,a=!0,u=!1;for(;;){if(o=this.yg,o.U>0&&!o.gr(h)&&(h=o.FB(h),a=!0),e&&!this.mO.fastSeek){const t=this.b_;if(!t.gr(h)){const i=Ck(t,h,1);i!==h&&(h=i,a=!0)}}if(kx){const t=this.w2();void 0!==t&&h>t&&(h=t,a=!0)}if(!u){const t=this.A2();void 0!==t&&h>t&&(u=!0,await this.m2(t,!1,r),await yi(this.mO,"seeked",r),Pi(r),a=!0)}if(a){a=!1,await this.m2(h,e,r),Pi(r);let t=this.j_;o=this.yg,h=o.FB(h);let i=1;for(;x.abs(h-t)>=kc;)o=this.yg,h=jx(h,o,i),await this.m2(h,e,r),Pi(r),t=this.j_,i++}if(!(this.mO.seeking||this.R4.vg<Os.iN))break;await gg((i=>{var e;return Promise.race([yi(this.mO,"seeked",i),this.D_([t.VA,t.EA],i),this.R4.D_(er.Mw,i),null==(e=this.DP)?void 0:e.D_(yL.PU,i)].filter(li))}),r),Pi(r)}this.M2()}catch(t){if(So(t))return;0}}async m2(i,e,s){Pi(s);let n=this.yg;if(i=n.FB(i),this._2){let e=!0;for(;e||this.R4.vg<Os.eN;)n=this.yg,n.gr(i)||(i=n.FB(i),e=!0),e?(e=!1,this.O4=i,this.T2(this.j_)):await gg((i=>Promise.race([this.D_(t.EA,i),this.R4.D_(er.Mw,i)])),s);Pi(s)}const r=yi(this.mO,"seeking",s);e&&this.mO.fastSeek?this.mO.fastSeek(i):this.mO.currentTime=i,this.O4=void 0,this.T2(this.j_),this.mO.seeking&&await r}w2(){if(!this.DP||!this.DP.tq)return;const t=this.DP.iq,i=this.DP.nq,e=t&&i?t.Sn(i):t||i;if(!e||0===e.U)return;const s=e.Cn(e.U-1),n=e.jn(e.U-1);return x.max(s,n-.001)}A2(){if(!this.DP||!this.DP.tq)return;const t=this.DP.nq;if(!t||0===t.U)return;const i=t.Cn(t.U-1);let e=t.jn(t.U-1)-.02;return e-=.001,x.max(i,e)}T2(t){this.d2!==t&&(this.d2=t,this.F$?this.Co(new Rk(t)):this.Co(new Sa(t)))}M2(){const t=this.F$;this.fR=!1,this.F$=!1,this.f2=0,this.d2=NaN,this._2&&this.N2(),t?(this.Co(new Sx(this.j_)),this.D2()):this.Co(new $s(this.j_))}g2(){this.z4||(this.P4=this.hg,this.z4=!0,this.s2())}N2(){this.z4&&(this.z4=!1,this.P4||this.Z4())}rq(t){for(const i of t){if(i.hA===wt.CO&&NL.rq(i,this.mO))return i;if(i.hA===wt.xO&&Pk.rq(i))return i}}be(){this.xB=!1,Is(this.mO)&&(this.mO.style.display="none")}ge(){this.xB=!0,Is(this.mO)&&(this.mO.style.display="block")}get nt(){return this.I2}get Ol(){return this.MR}dE(t,i,e,s,n,r,h,o,a){const u=new Us(t,i,e,s,n,r,h,a,o);return this.Dl.tt(u),this.S2.tt(u),u}PP(){return!0}RP(t,i,e,s,n){const r=h.createElement("track");r.src=Ta(t),r.kind=i,r.label=null!=e?e:"",s&&(r.srclang=s),r.default=!!n,r.id=$e(),this.mO.appendChild(r);const o=this.mO.textTracks.getTrackById(r.id),a=new Pn(o,r);return this.E2.tt(a),this.b2.push(a),a}pE(t){this.Dl.it(t),this.S2.it(t)}QP(){for(const t of this.Dl.xw.slice())t.gn();this.Dl.Zn();for(const t of this.b2.slice())this.E2.it(t),t.gn();Ri(this.b2)}eB(){let t=this.mO.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.L2),t.addEventListener("removetrack",this.C2),t.addEventListener("change",this.O2))}GP(){let t=this.mO.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.L2),t.removeEventListener("removetrack",this.C2),t.removeEventListener("change",this.O2))}j2(t,i){if(Zt.Fb){if(t.kind===Oi.Mp)return void this.z2(t);if(t.kind===Oi.fS&&""===t.label&&""===t.language&&!Px(t))return void this.P2(t,i)}zx(this.E2,t)||this.E2.tt(new Pn(t,i))}z2(t){t.mode=La.sA;const i=new _x(t);this.E2.tt(i),this.S2.tt(i)}P2(t,i){const e=()=>{Px(t)&&(t.removeEventListener("cuechange",e),this.E2.tt(new Pn(t,i)))};t.addEventListener("cuechange",e),t.mode=La.sA}B2(t){let i=this.mO.getElementsByTagName("track");for(let e=0;e<i.length;e++){let s=i[e]||i.item(e);if(s.track===t)return s}}$n(i){return this.R2.oO((async e=>{if(Pi(e),this.DP)throw new b("Already loaded a media source");let s;if(i.hA===wt.CO)s=new NL(i,this,this.UH,this.jx),this._2=!1,this.R4.I4(new Wk(this));else{if(i.hA!==wt.xO)throw new b("Unsupported configuration");{const e=this._2?new Hk(this):new Wk(this);s=new Pk(i,this,e,this.UH,this.jx,void 0,this._$),this._2=bx,this.R4.I4(e),Lx&&(this.yn(t.ov,this.U2),this.R4.yn(er.Mw,this.Q2))}}return this.DP=s,await s.iW(),s}))}F2(){if(this.L4)return;const t=this.ag;this.L4=!0,this.ag=t,this.mO.playbackRate=0,this.R4&&this.R4.W$()}Y2(){if(!this.L4)return;const t=this.ag;this.L4=!1,this.ag=t,this.G2()}G2(){this.mO.currentTime=this.mO.currentTime,this.R4&&this.R4.W$()}async Zn(){this.fR=!1,this.F$=!1,lg.__(this.U4),this.U4=0,this.Uo=Ki.lR(),this.u2.c_(),this.O4=void 0,this.d2=NaN,this.C4=void 0,this._2=!1,this.z4=!1,this.yP=void 0,this.b4=!1,this.V2=void 0,this.W2=!1,this.q4=!1,this.H2&&(this.q2(),this.H2=!1),this.n2(new ia),this.R4.I4(new Wk(this)),this.i2.Zn(),this.E2.Zn(),this.Y2(),Lx&&(Gs(this.X2),this.X2=0,this.fn(t.ov,this.U2)),await this.R2.c_(),await this.R2.oO((async()=>{this.DP&&(await this.DP.e_(),this.DP=void 0)}))}async e_(){this.H2=!1,this.Z2(),this.GP(),await this.Zn(),await this.R2.gn(),this.i2.e_(),this.R4.e_(),await this.UH.e_(),this.QP(),this.Dl.gn(),this.E2.gn(),await this.K2.gn(),this.J2.gn(),this.I2.gn(),this.Vo()}q2(){this.TP.addEventListener("play",this.t3),this.TP.addEventListener("pause",this.i3),this.TP.addEventListener("timeupdate",this.e3),this.TP.addEventListener("progress",this.s3),this.TP.addEventListener("loadstart",this.n3),this.TP.addEventListener("ended",this.r3),this.TP.addEventListener("ratechange",this.h3),this.TP.addEventListener("volumechange",this.o3),this.TP.addEventListener("durationchange",this.a3),this.TP.addEventListener("resize",this.u3),this.TP.addEventListener("loadedmetadata",this.u3),this.TP.addEventListener("error",this.l3),this.TP.addEventListener("emptied",this.d3),AN()?(this.mO.addEventListener("encrypted",this.f3),this.mO.addEventListener("waitingforkey",this._3)):void 0!==Ys.WebKitMediaKeys&&"function"==typeof Ys.WebKitMediaKeys.isTypeSupported?this.mO.addEventListener("webkitneedkey",this.g3):ku()?this.mO.addEventListener("webkitneedkey",this.w3):void 0!==Ys.MSMediaKeys&&"function"==typeof Ys.MSMediaKeys.isTypeSupported&&this.mO.addEventListener("msneedkey",this.A3)}Z2(){this.TP.removeEventListener("play",this.t3),this.TP.removeEventListener("pause",this.i3),this.TP.removeEventListener("timeupdate",this.e3),this.TP.removeEventListener("progress",this.s3),this.TP.removeEventListener("loadstart",this.n3),this.TP.removeEventListener("ended",this.r3),this.TP.removeEventListener("ratechange",this.h3),this.TP.removeEventListener("volumechange",this.o3),this.TP.removeEventListener("durationchange",this.a3),this.TP.removeEventListener("resize",this.u3),this.TP.removeEventListener("loadedmetadata",this.u3),this.TP.removeEventListener("error",this.l3),this.TP.removeEventListener("encrypted",this.f3),this.TP.removeEventListener("waitingforkey",this._3),this.TP.removeEventListener("webkitneedkey",this.g3),this.TP.removeEventListener("webkitneedkey",this.w3),this.TP.removeEventListener("msneedkey",this.A3),this.TP.removeEventListener("emptied",this.d3)}v3(){this.x4||(this.Uo=this.fg,this.x4=Fk(this),this.Z2(),this.x4.yn(Uk,this.Ds))}m3(){if(!this.x4)return;const t=this.x4;this.x4=void 0,this.R4.W$(),Yk(this,t),t.e_(),this.q2()}D2(){const t=this.j_;this.Co(new jc(t,void 0)),this.V2=t}uB(t){this.yP=t,this.n2(this.yP),this.Co(new Kk(this.yP))}get W_(){return!!this.mO.webkitCurrentPlaybackTargetIsWireless}get y3(){return this.M3}get y4(){return At({},mL)}T3(){this.y3||(wj(this.mO,lg.Ys),this.M3=!0)}N3(t){t.appendChild(this.mO)}mJ(){Lx&&this.U2(),this.R4.W$()}get VP(){return this.UH.VP}set VP(t){this.UH.VP=t}get D3(){return this._$}set D3(t){this._$=t}get c4(){return this.UH.c4}Zg(){this.UH.T4().catch(fg),this.E2.Zn()}get Bg(){return this.W2}set Bg(t){this.W2=t,this.H2&&!this.W2&&(this.H2=!1,this.q2())}constructor(i,e,s,n){super(),this.yP=void 0,this.xB=!0,this.DP=void 0,this.R2=new no,this.x4=void 0,this.AR=new xc,this.b2=[],this.O4=void 0,this.f2=0,this.d2=NaN,this.C4=void 0,this.V2=void 0,this.fR=!1,this.F$=!1,this.I3=Os.tN,this.U4=0,this.c2=Promise.resolve(),this.u2=new xs,this.h2=[],this.Uo=Ki.lR(),this.F4=void 0,this.G4=1,this.H4=!1,this.W4=1,this.b4=!1,this.W2=!1,this.H2=!1,this._2=!1,this.z4=!1,this.P4=!1,this.L4=!1,this.M3=!1,this.X2=0,this.q4=!1,this.L2=t=>{const i=t.track,e=this.B2(i);this.j2(i,e)},this.C2=t=>{const i=zx(this.E2,t.track);i&&this.E2.it(i)},this.O2=()=>{for(let t=0;t<this.E2.U;t++){let i=this.E2.jw(t);i instanceof Pn&&i.Z0()}},this.U2=()=>{if(void 0===this.DP||!pL(this.DP))return;const t=this.DP,i=t.g$,e=t.w$;if(!i||!e)return;if(t.tq)return void this.Y2();if(t.vg===kn.cJ)return;const s=i.b_,n=e.b_;if(0===s.U&&0===n.U)return void this.Y2();const r=this.j_;if(r<s.Cn(0)||r<n.Cn(0))return void this.Y2();if(s.gr(r)!==n.gr(r)){if(t.QH(r))return;this.F2()}else if(this.Y2(),!this.X2&&this.i2.t0()){s.qB(n).$B(r,r+.5)&&(this.X2=Lr(this.S3))}},this.S3=()=>{this.X2=0,this.U2()},this.Q2=()=>{if(this.Tg||this.Q$)return;if(this.R4.vg>=Os.eN)return;if(void 0===this.DP||!pL(this.DP))return;const t=this.DP,i=t.g$,e=t.w$;if(!i||!e)return;const s=this.j_,n=i.b_,r=e.b_;if(!n.gr(s)||!r.gr(s))return;n.qB(r).$B(s-5,s)&&(this.L4?this.Y2():this.G2())},this.t3=()=>{this.Co(new fh(this.j_))},this.i3=()=>{this.a2(new ia),this.Co(new ye(this.j_))},this.E3=()=>{this.e2(),this.Co(new Vi(this.j_))},this.h3=()=>{this.Y4()},this.a3=()=>{this.Co(new Vr(this.ct))},this.s3=()=>{this.Co(new N(this.j_))},this.n3=()=>{this.Co(new he)},this.e3=()=>{const t=this.j_,i=this.Tg,e=this.R4.vg<Os.eN&&!this.R_,s=void 0!==this.V2,n=s&&this.V2!==t;(i||!s||n&&!e)&&this.D2()},this.r3=()=>{!this.b4&&this.R_&&(this.b4=!0,this.Co(new ys(this.j_)))},this.l3=()=>{if(null!==this.mO.error){const i=this.mO.error;var t;this.uB(new uc(null!=(t=i.code)?t:tm.DECODE,i.message||"Error decoding media",void 0,i.msExtendedCode))}},this.d3=()=>{this.W2&&(this.Z2(),this.H2=!0)},this.b3=t=>{if(lg.__(this.U4),this.U4=0,t.readyState<=Os.iN)if(this.fR||this.F$){const i=lg.f_()-this.f2;if(i<250)return void(this.U4=lg.g_((()=>this.b3(t)),250-i))}else if(void 0!==this.DP&&this.DP.QH(this.j_))return void(this.U4=lg.g_((()=>this.b3(t)),250));this.I3!==t.readyState&&(this.I3=t.readyState,this.Co(t))},this.o3=()=>{this.Q4()},this.u3=()=>{this.Lg>0&&this.Ig>0&&this.Co(new Yy)},this.f3=t=>{this.Co(new zs(t.initDataType,t.initData||new ArrayBuffer(0)))},this._3=()=>{this.Co(new tM)},this.A3=t=>{const i=t.initData,e=i?Ae(i).buffer:new ArrayBuffer(0);this.Co(new zs(jw,e))},this.g3=t=>{if(t.initData){const i=function(t){try{const i=Mo(t),e=new Or,s=Mc(i,e,ji(i,e,!0));return ja(GA(s,!0))}catch(t){return}}(t.initData);if(!i)return;this.Co(new zs(Gh,i))}else this.Co(new zs(Gh,new ArrayBuffer(0)))},this.w3=t=>{const i=t.initData,e=i?Ae(i).buffer:new ArrayBuffer(0);this.Co(new zs(jw,e))},this.J4=()=>{this.e2()},this.t2=t=>{this.a2(t)},this.L3=i=>{this.Co(i),i.type===t.NA&&this.uB(Vs(i.errorObject))},this.mO=i,this.jx=e,this.Wu=s,this.MR=n,this.R4=new Ex(this),this.R4.yn(er.Mw,this.b3),this.R4.I4(new Wk(this)),this.i2=new Zk(this),this.i2.yn(er.Tv,this.E3),this.UH=new Ix(this),this.UH.yn([t.DA,t.NA,t.fv],this.L3),this.Dl=new jn,this.E2=new jn,this.J2=new dh([this.Dl,this.E2]),this.K2=new gx(this,this.J2),this.I2=new dh([this.J2,this.K2.Z]),this.S2=new Ju(this),this.q2(),this.eB()}};var Ox=.01;function jx(t,i,e){if(void 0===e&&(e=0),!i.U)return 0;let s=i.FB(t);const n=Ox*e;return s===i.Cn(0)?s+=n:s===i.jn(i.U-1)&&(s-=n),s}function zx(t,i){for(let e of t.xw)if(e.SN===i)return e}function Px(t){return!!t.cues&&t.cues.length>0}r();var Bx={_H:void 0,gH:void 0,wH:void 0,AH:void 0,vH:void 0,mH:void 0,NH:void 0,pH:void 0,yH:void 0,MH:void 0,TH:void 0},Rx=class extends i{get va(){return this.Xa||(this.Xa=_L(this)),this.Xa}get _H(){}get gH(){}get wH(){}get AH(){}get vH(){}get mH(){}get NH(){}get pH(){}get yH(){}get MH(){}get TH(){}constructor(...t){super(...t),this.Xa=void 0}},Ux=class extends xx{Ug(){}get Ig(){return 0}get Lg(){return 0}constructor(t,i,e){super(t,i,e,new Rx)}};r(),r();var Qx=class{get we(){return this.C3}be(){this.C3.style.display="none"}ge(){this.C3.style.display="block"}N3(t){t.appendChild(this.C3)}gn(){di(this.C3)}constructor(t=5){let i=Ys.document.createElement("div");i.className="theoplayer-texttracks",i.style.position="absolute",i.style.display="none",i.style.overflow="hidden",i.style.pointerEvents="none",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.width="100%",i.style.height="100%",i.style.lineHeight="1.3em",i.style.zIndex=""+t,this.C3=i,this.ge()}};function Fx(t,i){return At({},i,kg(function(t){return{_H:t._H,gH:t.gH,wH:t.wH,AH:t.AH,vH:t.vH,mH:t.mH,NH:t.NH,pH:t.pH,yH:t.yH,MH:t.MH,TH:t.TH}}(t)))}function Yx(t){return t.wH&&Ph(t.wH,"%")?Number(t.wH.replace("%",""))/100:t.wH&&Ph(t.wH,"em")?Number(t.wH.replace("em","")):1}r(),r(),r(),r();var Gx,D,Vx=class{x3(t){const i=this.O3(t);if(!i)return!1;for(const t of i)di(t);return this.j3(t),!0}get Lt(){return this.HN}get TP(){return this.mO}get Iu(){return this.Wu}get z3(){return this.P3}get B3(){return this.R3}iW(){this.U3(),this.HN.L.xw.forEach((t=>this.vE(t))),this.Iu.yn(_r.pn,this.Q3),this.F3(this.Iu.ku,this.Iu._u)}Y3(t){this.R3=t,this.P3=Fx(this.R3,this.G3),this.P3._H&&(this.TP.style.fontFamily=this.P3._H),this.P3.NH&&(this.TP.style.visibility=this.P3.NH),this.F3(this.Iu.ku,this.Iu._u),this.V3(!0)}W3(){return this.P3}H3(t){return this.q3.has(t.Vw)}U3(){this.HN.yn(ea.aw,this.X3),this.HN.yn(ea.cw,this.Z3),this.HN.yn(ea.ra,this.K3)}J3(){this.HN.fn(ea.aw,this.X3),this.HN.fn(ea.cw,this.Z3),this.HN.fn(ea.ra,this.K3)}t5(t){t.yn(Cl.xN,this.i5),t.yn(Cl.ON,this.e5),t.yn(Cl.Iw,this.s5)}n5(t){t.fn(Cl.xN,this.i5),t.fn(Cl.ON,this.e5),t.fn(Cl.Iw,this.s5)}vE(t){this.t5(t),t.ro&&this.r5(t)}DS(t){this.n5(t),this.h5(t)}o5(){this.HN.eA===La.Xn?this.a5():this.u5()}a5(){if(!this.c5)return;this.c5=!1;const t=this.Iu.ku,i=this.Iu._u;this.F3(t,i),this.V3(!1)}u5(){this.c5||(this.c5=!0,this.V3(!0))}r5(t){this.c5||t.ro&&!this.H3(t)&&this.V3(!1)}h5(t){this.H3(t)&&this.V3(!0)}l5(t){(t.ro||this.H3(t))&&this.V3(!0)}V3(t){const i=this.d5,e=this.c5?[]:this.HN.q.xw.slice();this.f5(e,i,t),this.d5=e}O3(t){return this.q3.get(t.Vw)}_5(t,i){this.q3.set(t.Vw,i)}j3(t){this.q3.delete(t.Vw)}g5(){return this.d5.slice()}gn(){di(this.TP),this.q3.clear(),this.J3(),this.HN.L.xw.forEach((t=>this.n5(t))),this.Iu.fn(_r.pn,this.Q3)}constructor(t,i,e,s,n){this.q3=_e(),this.c5=!0,this.R3=At({},Bx),this.d5=[],this.X3=t=>this.vE(t.jN),this.Z3=t=>this.DS(t.jN),this.K3=()=>this.o5(),this.i5=t=>this.r5(t.jN),this.e5=t=>this.h5(t.jN),this.s5=t=>this.l5(t.jN),this.Q3=t=>{this.F3(t.width,t.height)},this.HN=t,this.G3=this.P3=n,this.mO=this.w5(e),this.Wu=s,i.appendChild(this.mO)}};function Wx(t,i){return t?{A5:t.A5,v5:t.v5,m5:t.m5,Ml:i}:null}function Hx(t){const i=t?t.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i):null;return i?{A5:C(i[1],16),v5:C(i[2],16),m5:C(i[3],16)}:null}function qx(t){return("0"+t.toString(16)).slice(-2)}function Xx(t){return"#"+qx(t.A5)+qx(t.v5)+qx(t.m5)}function Zx(t){const i=t?t.match(/^rgba\(([0-9]+),\s*([0-9]+),\s*([0-9]+),\s*([0-9.]+)\)$/i):null;return i?{A5:C(i[1],10),v5:C(i[2],10),m5:C(i[3],10),Ml:S(i[4])}:null}function Kx(t,i){return function(t){return t?"rgba("+t.A5+", "+t.v5+", "+t.m5+", "+t.Ml+")":void 0}(Wx(Hx(t),i/100))}function Jx(t){return $x[t||"none"]}r(),function(t){t.qc='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.Wc='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.Gc='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.Xc='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(Gx||(Gx={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(D||(D={}));var $x={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},tO=hg({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif"}),iO={gH:D.WHITE,_H:"Arial, Helvetica, Sans-Serif",wH:"100%",AH:D.TRANSPARENT,vH:D.TRANSPARENT,mH:"none",NH:"visible",pH:void 0,yH:void 0,MH:void 0,TH:void 0},eO=class extends Vx{w5(t){let i=h.createElement("div");i.className="theoplayer-ttml-texttrack-"+t;const e=i.style;return e.position="absolute",JN(e,"flex"),e.overflow="hidden",e.pointerEvents="none",e.top="0",e.left="0",e.width="100%",e.height="100%",i}F3(t,i){let e=x.min(t,i)/15;this.TP.style.fontSize=e+"px"}f5(t,i,e){for(const t of i)!e&&t.ro||this.x3(t);for(const i of t)this.p5(i)}p5(t){let i=this.O3(t);i||(i=this.y5(t),this._5(t,i));for(const t of i)this.TP.appendChild(t)}y5(t){let i=[],e=t.RI,s=t.xI,n=t.O;if(0===_.keys(s).length){const s=h.createElement("div");dO(s),sO(n,e,t.FI,s,s),s.firstChild&&i.push(s)}else for(let r of _.keys(s)){let o=h.createElement("div");o.id=r,dO(o),hO(o,"region",s[r],e),sO(n,e,t.FI,o,o),o.firstChild&&i.push(o)}return i}Y3(t){!function(t,i){var e,s;t.style.marginTop=(null!=(e=i.pH)?e:0)+"px",t.style.marginBottom=(null!=(s=i.yH)?s:0)+"px",t.style.height="calc(100% - "+t.style.marginTop+" - "+t.style.marginBottom+")"}(this.TP,t),AL(this.TP,t)}constructor(t,i,e,s){super(t,i,e,s,iO)}};function sO(t,i,e,s,n){if(ps(t)&&function(t){return"SPAN"===t.hS.toUpperCase()||"P"===t.hS.toUpperCase()||"BR"===t.hS.toUpperCase()||"DIV"===t.hS.toUpperCase()||"BODY"===t.hS.toUpperCase()}(t)){let r=nO(t);if(!r||(null==n?void 0:n.id)===r){let r;if("BODY"===t.hS.toUpperCase())r=n;else{if(r=function(t){let i;switch(t.hS.toUpperCase()){case"BR":i=h.createElement("br");break;case"SPAN":i=h.createElement("span"),rO(i,t);break;case"P":i=h.createElement("p"),function(t){const i=t.style;i.fontFamily="inherit",i.color="inherit",i.textAlign="inherit",i.padding="0",i.margin="0",i.lineHeight="inherit"}(i),rO(i,t);break;case"DIV":i=h.createElement("div"),rO(i,t)}return i}(t),!r)return;s.appendChild(r)}!function(t,i,e,s){let n=i.cS("style");uO(t,i.hS,n,e,s),function(t,i,e){for(const s of i.rS)cO(t,i.hS,s.hS,s.ST,e)}(t,i,s)}(r,t,i,n),function(t,i,e){let s=null==i?void 0:i.cS("smpte:backgroundImage");if(s){s=s.replace("#","");let n=e&&oO(e,(t=>t.rS.some((t=>"id"===t.hS&&t.ST===s))));n&&aO(t,n,i,!0)}!function(t,i){const[e]=i.m;if(!e||"metadata"!==e.hS.toLowerCase())return;const[s]=e.m;aO(t,s,i)}(t,i)}(r,t,e);for(const s of t.lS)sO(s,i,e,r,n)}}else if(Ep(t)){const i=h.createTextNode(t.Cp);s.appendChild(i)}}function nO(t){const i=t.cS("region");if("p"===t.hS.toLowerCase())return i;const e=[];for(const i of t.m)e.push(nO(i));return sg(e),0===e.length?i:1===e.length?null!=(s=e[0])?s:i:void 0;var s}function rO(t,i){let e=i.uS(zp,"id");e&&(t.id=e)}function hO(t,i,e,s){uO(t,i,e.style,s,t);for(const s of _.keys(e))cO(t,i,s,e[s],t)}function oO(t,i){if(i(t))return t;for(let e of t.m){const t=oO(e,i);if(t)return t}return null}function aO(t,i,e,s){void 0===s&&(s=!1),s&&(t.style.width=t.style.height="100%");const n=h.createElement("img");n.src=function(t){const i=t&&t.lS.length>0?t.lS[0]:null;return i&&Ep(i)?"data:image/png;base64,"+i.Cp:""}(i),n.id=t.id,n.style.height="100%",n.style.maxWidth="100%",function(t,i){const e=t.style;JN(e,"flex");let s=i.cS("smpte:backgroundImageVertical");if(s)switch(s.toLowerCase()){case"left":e.alignItems="flex-start";break;case"center":e.alignItems="center";break;case"right":e.alignItems="flex-end";break;case"inherit":e.alignItems="inherit"}else e.alignItems="center";let n=i.cS("smpte:backgroundImageHorizontal");if(n)switch(n.toLowerCase()){case"left":e.justifyContent="flex-start";break;case"center":e.justifyContent="center";break;case"right":e.justifyContent="flex-end";break;case"inherit":e.justifyContent="inherit"}else e.justifyContent="center"}(t,e),t.appendChild(n)}function uO(t,i,e,s,n){if(e)for(const r of e.split(" "))if(s[r])for(const e of _.keys(s[r]))"style"===e.toLowerCase()?uO(t,i,s[r][e],s,n):cO(t,i,e,s[r][e],n)}function cO(t,i,e,s,n){const r=t.style;switch(e){case"backgroundColor":r.backgroundColor=s;break;case"color":r.color=s;break;case"direction":r.direction=s;break;case"display":"none"===s&&(r.display="none");break;case"fontFamily":{const t=tO.get(s);r.fontFamily=t||s;break}case"fontSize":Ph(s,"px")?s=C(s)/24+"em":Ph(s,"c")&&(s=s.replace("c","em")),r.fontSize=s;break;case"fontStyle":r.fontStyle=s;break;case"fontWeight":r.fontWeight=s;break;case"lineHeight":r.lineHeight=s;break;case"opacity":r.opacity=s;break;case"overflow":r.overflow=s;break;case"padding":r.padding=s;break;case"textAlign":"right"===s?(r.textAlign="right",r.justifyContent="flex-end"):"start"===s?(r.textAlign="start",r.justifyContent="flex-start"):"center"===s?(r.textAlign="center",r.justifyContent="center"):"end"===s?(r.textAlign="end",r.justifyContent="flex-end"):"left"===s&&(r.textAlign="left",r.justifyContent="flex-start");break;case"textDecoration":{let t=s;t=t.replace("lineThrough","line-through"),t=t.replace("noUnderline","none"),t=t.replace("noLineThrough","none"),t=t.replace("noOverline","none"),r.textDecoration=t;break}case"unicodeBidi":r.unicodeBidi=s.replace("bidiOverride","bidi-override");break;case"visibility":r.visibility=s;break;case"zIndex":r.zIndex=s;break;case"displayAlign":{let t;if("before"===s.toLowerCase())t="flex-start";else if("center"===s.toLowerCase())t="center";else{if("after"!==s.toLowerCase())return;t="flex-end"}r.alignItems=t;break}case"extent":{const e=lO(i.toLowerCase())?n:t;let r,h,o=s.split(" ");o.length>=2?(r=o[0],h=o[1]):r=h="100%",e&&(e.style.height=h,e.style.width=r);break}case"origin":{const e=lO(i.toLowerCase())?n:t,[r,h]=s.split(" ");e&&(r||h)&&(r&&(e.style.left=r),h&&(e.style.top=h));break}case"showBackground":case"textOutline":break;case"wrapOption":r.whiteSpace=s.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":{let t,i,e,n;switch(s){case"lrtb":case"lr":t="horizontal-tb";break;case"rltb":t="horizontal-tb",i="rtl",n="bidi-override";break;case"tbrl":case"tb":t="vertical-rl",e="upright";break;case"tblr":t="vertical-lr",e="upright";break;case"rl":t="horizontal-tb",i="rtl";break;default:return}r.writingMode=t,r.setProperty("-webkit-writing-mode",t),i&&(r.direction=i),e&&(r.textOrientation=e,r.setProperty("-webkit-text-orientation",e)),n&&(r.unicodeBidi=n);break}case"linePadding":if(Ph(s,"c")){let t=s.replace("c","em");r.paddingLeft=r.paddingRight=t}break;case"multiRowAlign":"auto"===s.toLowerCase()?r.textAlign="":r.textAlign=s}}function lO(t){return"div"===t||"p"===t||"span"===t}function dO(t){const i=t.style;JN(i,"flex"),i.top="auto",i.left="5%",i.width="90%",i.height="100%",i.maxHeight="100%",i.maxWidth="100%",i.alignItems="flex-start",i.overflow="visible",i.position="absolute",i.fontFamily="Arial, Helvetica, Sans-Serif",i.color="white",i.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",i.textAlign="start",i.writingMode="horizontal-tb",i.setProperty("-webkit-writing-mode","horizontal-tb"),i.padding="0",i.margin="0",i.lineHeight="1.3em"}r(),r();var fO,_O,gO=void 0;function wO(t){return gO||(gO=Ys.document.createElement("textarea")),gO.innerHTML=t,gO.value}function AO(t,i){let e="Data",s="",n=[],r=t.charAt(i.Ku),h="",o={hA:"starttag",Jj:"",M5:[]};for(;i.Ku<t.length+1;){switch(r=i.Ku<t.length?t.charAt(i.Ku):"EOF",e){case"Data":switch(r){case"&":let n=t.substring(i.Ku).match(/&#?[0-9a-zA-Z]+;/);n?(s+=wO(n[0]),i.Np(n[0].length-1)):s+="&";break;case"<":if(s)return{hA:"string",O:s};e="Tag";break;case"EOF":return{hA:"string",O:s};default:s+=r}break;case"Tag":switch(r){case"\t":case"\n":case"\f":case" ":e="StartTagAnnotation";break;case".":e="StartTagClass";break;case"/":e="EndTag";break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":s=r,e="TimestampTag";break;case">":return i.Np(1),o;case"EOF":return o;default:s=r,e="StartTag"}break;case"StartTag":switch(r){case"\t":case"\f":case" ":e="StartTagAnnotation";break;case"\n":h=r,e="StartTagAnnotation";break;case".":e="StartTagClass";break;case">":return i.Np(1),{hA:"starttag",Jj:s,M5:[]};case"EOF":return{hA:"starttag",Jj:s,M5:[]};default:s+=r}break;case"StartTagClass":switch(r){case"\t":case"\f":case" ":n.push(h),h="",e="StartTagAnnotation";break;case"\n":n.push(h),h=r,e="StartTagAnnotation";break;case".":n.push(h),h="";break;case">":return i.Np(1),n.push(h),{hA:"starttag",Jj:s,M5:n};case"EOF":return n.push(h),{hA:"starttag",Jj:s,M5:n};default:h+=r}break;case"StartTagAnnotation":switch(r){case"&":e="CharRefInAnnotation";break;case">":i.Np(1);let t=h.trim();return t=t.replace(/\s/," "),{hA:"starttag",Jj:s,M5:n,T5:t};default:h+=r}break;case"CharRefInAnnotation":let a="";for(let e=i.Ku;">"===t.charAt(e);e++)a+=t.charAt(e);h+=a||"&",e="StartTagAnnotation";break;case"EndTag":switch(r){case">":return i.Np(1),{hA:"endtag",Jj:s};case"EOF":return{hA:"endtag",Jj:s};default:s+=r}break;case"TimestampTag":switch(r){case">":return i.Np(1),{hA:"timestamp",N5:s};case"EOF":return{hA:"timestamp",N5:s};default:s+=r}}i.Np(1)}return o}function vO(t){let i;if(t.getBoundingClientRect&&t.parentNode&&(i=t.getBoundingClientRect()),!i)return{left:0,top:0};const e=h.documentElement,n=h.body,r=e.clientLeft||n.clientLeft||0,o=s.pageXOffset||n.scrollLeft,a=i.left+o-r,u=e.clientTop||n.clientTop||0,c=s.pageYOffset||n.scrollTop,l=i.top+c-u;return{left:x.round(a),top:x.round(l)}}function mO(t,i,e,s){if(void 0===s&&(s=0),!t||!i)return;t.style.left="0px";let n=t.getClientRects(),r=i.getClientRects();if(0===n.length||0===r.length)return;let h=n[0],o=r[0],a=h.width/2+h.left;pO(t,o.width/2+o.left-a,e,s)}function pO(t,i,e,s){void 0===s&&(s=0),MO(t,i,"left","right",e,s)}function yO(t,i,e,s){void 0===s&&(s=0),MO(t,i,"top","bottom",e,s)}function MO(t,i,e,s,n,r){void 0===r&&(r=0);const h=t.getClientRects();if(n&&h.length>0){const t=h[0];i=Sc(i,n[e]+r-t[e],n[s]-r-t[s])}t.style[e]=i+"px"}function $r(t,i){void 0===t.textContent?t.innerText=i:t.textContent=i}!function(t){t.D5="Data",t.I5="Tag",t.S5="StartTag",t.E5="StartTagClass",t.b5="StartTagAnnotation",t.L5="CharRefInAnnotation",t.k5="EndTag",t.C5="TimestampTag"}(fO||(fO={})),function(t){t.x5="string",t.O5="starttag",t.j5="endtag",t.z5="timestamp"}(_O||(_O={})),r(),r();var TO=class t{get P5(){return this.B5+this.ji}set P5(t){this.B5=t-this.ji}get R5(){return this.U5+this.Ti}set R5(t){this.U5=t-this.Ti}Q5(t){return this.B5<t.P5&&this.P5>t.B5&&this.U5<t.R5&&this.R5>t.U5}yN(t){return this.B5<=t.B5&&t.P5<=this.P5&&this.U5<=t.U5&&t.R5<=this.R5}Ip(){return new t(this.B5,this.U5,this.ji,this.Ti)}F5(i){const e=this.B5+i,s=this.U5+i,n=x.max(0,this.ji-2*i),r=x.max(0,this.Ti-2*i);return new t(e,s,n,r)}constructor(t,i,e,s){this.B5=t,this.U5=i,this.ji=e,this.Ti=s}},NO={gH:D.WHITE,_H:"sans-serif",wH:"100%",AH:"rgba(0,0,0,0.8)",vH:D.TRANSPARENT,mH:"none",NH:"visible",pH:void 0,yH:void 0,MH:void 0,TH:void 0},DO="theoplayer-webvtt-region-",IO="theoplayer-webvtt-styling-",SO="theoplayer-webvtt-default-style",EO=5.23,bO=1.14,LO=class extends Vx{w5(t){let i=h.createElement("div");i.className="theoplayer-webvtt-texttrack-"+t,ta(i),i.style.overflow="hidden",i.style.pointerEvents="none";const e=this.z3._H;return e&&(i.style.fontFamily=e),i.style.whiteSpace="pre-line",function(){if(h.getElementById(SO))return;const t=[];for(const[i,e]of VO)t.push("."+IO+i+" { color: "+e+" !important; }"),t.push("."+IO+"Y5"+i+" { background-color: "+e+" !important; }"),t.push("video::cue(."+i+") { color: "+e+"; }"),t.push("G5"+i+") { background-color: "+e+"; }");const i=h.createElement("style");i.id=SO,i.innerHTML=t.join("\n"),h.body.appendChild(i)}(),i}iW(){this.TP.appendChild(this.V5),super.iW()}F3(t,i){const e=x.min(t/100,i/100),s=Yx(this.z3);this.W5.forEach((t=>{let{FN:i,H5:n}=t;this.q5(n,e,s,i)})),this.q5(this.V5,e,s)}Y3(t){AL(this.TP,t),super.Y3(t)}f5(t,i,e){const s=this.TP,n=this.Iu._u/100;let r=[];for(const i of t)void 0!==i.FN&&(Ho(r,i.FN)||r.push(i.FN));this.W5.forEach(((t,i)=>{let{FN:s,H5:n}=t;!e&&Ho(r,s)||(di(n),this.W5.delete(i))}));for(const t of i)!e&&t.ro||this.x3(t);let h=[];const o=UO(this.V5.getBoundingClientRect());h.push(...this.X5(o));for(const t of r){let i;this.W5.has(t.o)?i=this.W5.get(t.o).H5:(i=PO(t,n),s.appendChild(i),this.W5.set(t.o,{FN:t,H5:i})),h.push(UO(i.getBoundingClientRect()))}t.sort(WO);for(const i of t){const t=this.p5(i,h,o);void 0!==t&&h.push(t.F5(.1))}}X5(t){const i=[],e=this.z3;if(void 0!==e.pH){const s=t.Ip();s.Ti=e.pH,i.push(s)}if(void 0!==e.yH){const s=t.Ip();s.Ti=e.yH,s.R5=t.R5,i.push(s)}return i}p5(t,i,e){var s;let n;t.FN?(n=this.W5.get(t.FN.o).H5,"up"===t.FN.hD&&n.children.length>=1&&(n.style.transitionProperty="top",n.style.transitionDuration="0.433s")):n=this.V5;let r=null==(s=this.O3(t))?void 0:s[0];if(r||(r=this.Z5(t),this._5(t,[r])),n.appendChild(r),t.FN||(kO(r,t),t.YN?function(t,i,e,s){const n=BO(t),r=n?e.Ti:e.ji;let h=S(getComputedStyle(i).lineHeight);if(0===h||j(h))return;let o=UO(i.getBoundingClientRect()),a=x.round(qs(t));"rl"===t.Pt&&(a=-(a+1));let u=h*a;"rl"===t.Pt&&(u=u-o.ji+h);a<0&&(u+=r,h=-h);n?o.U5+=u:o.B5+=u;const c=o.Ip();let l=!1;for(;!e.yN(o)||RO(o,s);)if(n)if(h<0&&o.U5<e.U5||h>0&&o.R5>e.R5){if(o.U5=c.U5,l)break;h=-h,l=!0}else o.U5+=h;else if(h<0&&o.B5<e.B5||h>0&&o.P5>e.P5){if(o.B5=c.B5,l)break;h=-h,l=!0}else o.B5+=h;n?i.style.top=(o.U5-e.U5)/e.Ti*100+"%":i.style.left=(o.B5-e.B5)/e.ji*100+"%"}(t,r,e,i):function(t,i,e,s){let n=UO(i.getBoundingClientRect());if(0===n.ji||0===n.Ti)return;BO(t)?"center"===t.UN?n.U5-=n.Ti/2:"end"===t.UN&&(n.U5-=n.Ti):"center"===t.UN?n.B5-=n.ji/2:"end"===t.UN&&(n.B5-=n.ji);let r,h=n.Ip(),o=h,a=1,u=!1;r=""===t.Pt?[2,3,0,1]:"lr"===t.Pt?[0,1,2,3]:[1,0,2,3];const c=4,l=S(getComputedStyle(i).lineHeight)/c;if(!j(l)&&l>0){for(let t=0;t<r.length&&!u;t++){for(;!FO(n,e,r[t],.01)&&(!e.yN(n)||RO(n,s));)QO(n,r[t],l);if(e.yN(n)){o=n.Ip(),u=!0;break}let i=YO(n,e);a>i&&(o=n.Ip(),a=i),n=h.Ip()}e.yN(n)||(o=h.Ip())}i.style.left=(o.B5-e.B5)/e.ji*100+"%",i.style.top=(o.U5-e.U5)/e.Ti*100+"%"}(t,r,e,i)),!t.FN)return UO(r.getBoundingClientRect())}Z5(t){let i=new Or,e=t.O,s=this.K5(t),n={J5:void 0,we:s},r=n,o="",a="",u=[n],c=[],l=[];for(;i.Ku<e.length;){let t=AO(e,i);if(t.hA===_O.x5){const i=h.createElement("span");$r(i,t.O),CO(i,u),""!==o&&(i.lang=o),this.t6(i,a),r.we.appendChild(i)}else if(t.hA===_O.O5){const i=t.Jj.toLowerCase();switch(i){case"i":case"b":case"u":case"ruby":{let e=h.createElement(i);r.we.appendChild(e),r={J5:t,we:e},u.push(r);break}case"rt":var d;if("ruby"===(null==(d=r.J5)?void 0:d.Jj.toLowerCase())){let i=h.createElement("rt");r.we.appendChild(i),r={J5:t,we:i},u.push(r)}break;case"c":case"v":r={J5:t,we:r.we},u.push(r);break;case"font":{var f;const i=null==(f=t.T5)?void 0:f.match(/(?:^| )color=["']([^"']+)/i);i&&(a=i[1],l.push(a),r={J5:t,we:r.we},u.push(r));break}case"lang":var _;o=null!=(_=t.T5)?_:"",c.push(o)}}else if(t.hA===_O.j5){var g;const i=t.Jj.toLowerCase(),e=null==(g=r.J5)?void 0:g.Jj.toLowerCase();e===i?(u.pop(),r=u[u.length-1],"font"===i&&(l.pop(),a=l.length>0?l[l.length-1]:"")):"rt"===e&&"ruby"===i?(u.pop(),u.pop(),r=u[u.length-1]):"lang"===i&&(c.pop(),o=c.length>0?c[c.length-1]:"")}else if(t.hA===_O.z5){let i=t.N5,e=new Or;try{Su(i,e)}catch(t){oc("ERROR collecting timestamp",t)}}}return s}t6(t,i){const e=this.z3,s=this.B3;e.AH&&(t.style.background=e.AH);const n=s.gH||i||e.gH;n&&(t.style.color=n)}q5(t,i,e,s){if(s){let n=xO(s,i);t.style.height=n*e+"px",t.style.left=OO(s)+"%",t.style.top=jO(s,i)+"px"}t.style.fontSize=EO*i*e+"px"}K5(t){const i=h.createElement("div");i.style.position="absolute",i.style.margin="0",i.style.padding="0",i.style.unicodeBidi="plaintext",i.style.wordWrap="break-word",i.style.overflowWrap="break-word",i.style.width="auto",i.style.textAlign=t.BN,function(t,i){"rl"===i.Pt?t.style.writingMode="vertical-rl":"lr"===i.Pt?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(i,t),function(t,i){let e=Lm(i);BO(i)?(t.style.width=e+"%",t.style.height="auto"):(t.style.height=e+"%",t.style.width="auto")}(i,t),kO(i,t);const e=this.z3.vH;e&&(i.style.background=e);const s=this.z3.gH;return s&&(i.style.color=s),i.style.textShadow=Jx(this.z3.mH),i}constructor(t,i,e,s){super(t,i,e,s,NO),this.W5=Qt(),this.V5=zO(3)}};function kO(t,i){let e,s,n=bm(i),r=Em(i),h=Lm(i);if(BO(i)){switch(n){case"line-left":e=r;break;case"center":e=r-h/2;break;case"line-right":e=r-h}s=i.YN?0:qs(i)}else{switch(n){case"line-left":s=r;break;case"center":s=r-h/2;break;case"line-right":s=r-h}e=i.YN?0:qs(i)}t.style.left=e+"%",t.style.top=s+"%"}function CO(t,i){for(const e of i)if(e.J5){for(const i of e.J5.M5)Du(t,IO+i);"v"===e.J5.Jj.toLowerCase()&&e.J5.T5&&Du(t,"theoplayer-webvtt-voice-"+e.J5.T5)}}function xO(t,i){return t.sD*(EO*i)*bO}function OO(t){return t.oD-t.nD*t.ji/100}function jO(t,i){let e=t.aD,s=t.rD*xO(t,i)/100;return x.max(0,e-s)}function zO(t){let i=h.createElement("div");return i.className=DO+"default",ta(i),i.style.wordWrap="break-word",i.style.writingMode="horizontal-tb",i.style.pointerEvents="none",i.style.width="auto",i.style.height="auto",i.style.maxHeight="100%",i.style.minHeight="0px",i.style.padding="0",i.style.boxSizing="border-box",i.style.fontSize=EO*t+"px",i.style.lineHeight=bO+"em",i}function PO(t,i){let e=zO(i);e.className=DO+t.o;let s=t.ji,n=xO(t,i);return e.style.width=s+"%",e.style.height=n+"px",e.style.left=OO(t)+"%",e.style.right="",e.style.top=jO(t,i)+"px",e.style.bottom="",e.style.boxSizing="border-box",e}function BO(t){return""===t.Pt}function RO(t,i){return i.some((i=>t.Q5(i)))}function UO(t){return new TO(t.left,t.top,t.width,t.height)}function QO(t,i,e){switch(i){case 0:t.B5+=e;break;case 1:t.B5-=e;break;case 2:t.U5+=e;break;case 3:t.U5-=e}}function FO(t,i,e,s){switch(e){case 0:return t.P5>i.P5+s;case 1:return t.B5<i.B5-s;case 2:return t.R5>i.R5+s;case 3:return t.U5<i.U5-s}}function YO(t,i){return x.max(0,x.min(t.P5,i.P5)-x.max(t.B5,i.B5))*x.max(0,x.min(t.R5,i.R5)-x.max(t.U5,i.U5))/(t.ji*t.Ti)}var GO,VO=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];function WO(t,i){const e=qs(t),s=qs(i),n=HO(e,t.YN),r=HO(s,i.YN);return n&&r?e-s||Aa(i,t)||i.Vw-t.Vw:Aa(t,i)||t.Vw-i.Vw}function HO(t,i){return i?t<0?t>-8:t>8:t>50}r(),r(),r(),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(GO||(GO={}));var qO={gH:D.WHITE,_H:Gx.Gc,wH:"100%",AH:D.BLACK,vH:"transparent",mH:"none",i6:"regular",NH:"visible",pH:void 0,yH:void 0,MH:void 0,TH:void 0},XO=[{e6:D.WHITE,i6:"regular",s6:0},{e6:D.WHITE,i6:"underline",s6:0},{e6:D.GREEN,i6:"regular",s6:0},{e6:D.GREEN,i6:"underline",s6:0},{e6:D.BLUE,i6:"regular",s6:0},{e6:D.BLUE,i6:"underline",s6:0},{e6:D.CYAN,i6:"regular",s6:0},{e6:D.CYAN,i6:"underline",s6:0},{e6:D.RED,i6:"regular",s6:0},{e6:D.RED,i6:"underline",s6:0},{e6:D.YELLOW,i6:"regular",s6:0},{e6:D.YELLOW,i6:"underline",s6:0},{e6:D.MAGENTA,i6:"regular",s6:0},{e6:D.MAGENTA,i6:"underline",s6:0},{e6:D.WHITE,i6:"italics",s6:0},{e6:D.WHITE,i6:"underline-italics",s6:0},{e6:D.WHITE,i6:"regular",s6:0},{e6:D.WHITE,i6:"underline",s6:0},{e6:D.WHITE,i6:"regular",s6:4},{e6:D.WHITE,i6:"underline",s6:4},{e6:D.WHITE,i6:"regular",s6:8},{e6:D.WHITE,i6:"underline",s6:8},{e6:D.WHITE,i6:"regular",s6:12},{e6:D.WHITE,i6:"underline",s6:12},{e6:D.WHITE,i6:"regular",s6:16},{e6:D.WHITE,i6:"underline",s6:16},{e6:D.WHITE,i6:"regular",s6:20},{e6:D.WHITE,i6:"underline",s6:20},{e6:D.WHITE,i6:"regular",s6:24},{e6:D.WHITE,i6:"underline",s6:24},{e6:D.WHITE,i6:"regular",s6:28},{e6:D.WHITE,i6:"underline",s6:28}],ZO=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function KO(t,i){return Qm(t.n6,i.n6)||H_(t.fT,i.fT)}r();var el=32,JO=/CC([1-4])=(.*)/;function $O(t){if(!t)return[];const i=[],e=t.trim().split(";");if(e.every((t=>t.match(JO))))for(const t of e){const[,e,s]=t.match(JO);i.push({r6:Number(e),h6:s})}else for(let t=0;t<e.length;t++)i.push({r6:t+1,h6:e[t]});return i}var tj=class t{get o6(){return this.u6.a6}get c6(){return this.u6.l6}get d6(){return this.u6.l6.s6-this.u6.a6.s6+1}get f6(){return this.u6.l6._6-this.u6.a6._6+1}pr(){return this.g6=this.w6(),this.A6(),this.v6(),this.g6}w6(){let t=h.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.d6/el*this.p6.m6*100+"%",t.style.height=1.2*this.f6+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.p6.y6?"calc(1em - 1ch)":"";const i=this.P3._H;i&&(t.style.fontFamily=i);const e=this.P3.vH;return e&&(t.style.backgroundColor=e),t}A6(){if(!this.g6)return;let t=this.o6._6/15*100,i=this.o6.s6/el*100,e=(el-this.c6.s6-1)/el*100,s=(15-this.c6._6-1)/15*100;this.p6.M6||(i=e=1,this.g6.style.width="98%"),s<t?this.g6.style.bottom=s*this.p6.m6+"%":this.g6.style.top=t*this.p6.m6+"%",e<i?this.g6.style.right=e+"%":this.g6.style.left=i+"%"}v6(){const t=this.u6.T6.sort(ij);for(let i=0;i<t.length;i++)this.N6(t[i-1],t[i]),this.D6(t[i]);this.N6(t[t.length-1],void 0)}D6(i){var e;const s=Fx(this.P3,i.I6),n=t.S6(s);$r(n,i.E6),null==(e=this.g6)||e.appendChild(n)}static S6(t){const i=h.createElement("span");i.style.display="inline-block",t.i6!==GO.FONT_ITALICS&&t.i6!==GO.FONT_UNDERLINE_ITALICS||(i.style.fontStyle="italic"),t.i6!==GO.FONT_UNDERLINE&&t.i6!==GO.FONT_UNDERLINE_ITALICS||(i.style.textDecoration="underline");const e=t.gH;e&&(i.style.color=e);const s=t.AH;return s&&(i.style.backgroundColor=s),i.style.textShadow=Jx(t.mH),i.style.height="1.2em",i}N6(t,i){let e=t?t.l6._6:this.u6.a6._6;const s=i?i.a6._6:this.u6.l6._6;let n=t?t.l6.s6:this.u6.a6.s6;const r=i?i.a6.s6:this.u6.l6.s6;e<s&&(!i||t&&t.a6._6!==i.a6._6?this.b6():this.L6(this.u6.l6.s6-n),n=this.u6.a6.s6),n<r&&(i?this.L6(r-n):this.b6())}b6(){var t;const i=h.createElement("br");null==(t=this.g6)||t.appendChild(i)}L6(t){var i;if(t<=0)return;const e=h.createElement("span");e.style.display="inline-block",$r(e,sw(" ",t)),null==(i=this.g6)||i.appendChild(e)}constructor(t,i,e){this.u6=t,this.p6=i,this.P3=e}};function ij(t,i){return function(t,i){if(t._6!==i._6)return t._6-i._6;return t.s6-i.s6}(t.a6,i.a6)}var ej=class extends Vx{w5(t){let i=h.createElement("div");return i.className="theoplayer-cea608-texttrack-"+t,i.style.position="absolute",i.style.overflow="hidden",i.style.pointerEvents="none",i.style.top="10%",i.style.bottom="10%",this.z3._H&&(i.style.fontFamily=this.z3._H),i}F3(t,i){this.ll()}ll(){let t=Yx(this.z3);this.k6=function(t){return{m6:t/100,y6:t<=100,M6:t<=150}}(100*t);const i=this.C6/el;this.x6=i*t,this.TP.style.fontSize=this.x6+"px"}get C6(){let t=this.TP.offsetWidth;return this.k6&&this.k6.M6||(t*=.8),t}f5(t,i,e){for(const t of i)!e&&t.ro||this.x3(t);for(const i of t)this.p5(i)}p5(t){this.k6&&this.k6.M6?this.O6(80):this.O6(100),this.ll();let i=this.O3(t);i||(i=this.y5(t),this._5(t,i));for(const t of i)this.TP.appendChild(t)}y5(t){return t.O.map((t=>new tj(t,this.k6,this.z3).pr()))}O6(t){const i=(100-t)/2;this.TP.style.left=i+"%",this.TP.style.width=t+"%"}constructor(t,i,e,s){super(t,i,e,s,qO)}},sj=class t{j6(t){for(let i of this.z6)if(i.Lt===t)return i}static P6(t){switch(t.hA){case Ks.TTML:case Ks.SRT:case Ks.WEBVTT:case Ks.CEA608:return!0}return!1}B6(t){switch(t.hA){case Ks.TTML:return new eO(t,this.R6,t.kh,this.Wu);case Ks.SRT:case Ks.WEBVTT:return new LO(t,this.R6,t.kh,this.Wu);case Ks.CEA608:return new ej(t,this.R6,t.kh,this.Wu)}}U6(t){let i=this.j6(t);i||(i=this.B6(t),i&&(i.iW(),i.Y3(this.MR),this.z6.push(i),t.eA===La.Xn&&i.a5()))}Q6(t){let i=this.z6;for(let e=i.length-1;e>=0;e-=1){let s=i[e];s.Lt===t&&(s.gn(),Dt(i,e))}}F6(i){uy(i.zt)&&t.P6(i)&&(i.vg===Q.ERROR?this.Q6(i):this.U6(i))}get H0(){return this.Y6.cs}Zn(){for(let t of this.z6)t.Lt.fn(ea.Mw,this.G6),t.Lt.fn(ea.Nw,this.G6),t.gn();Ri(this.z6)}gn(){this.Zn();for(let t of this.z6)t.gn();this.Dl.fn(at.ew,this.V6),this.Dl.fn(at.hw,this.W6),this.Dl.fn(ea.ra,this.G6),this.Y6.fn(Ac.ra,this.H6),this.MR.fn("yw",this.q6)}constructor(t,i,e,s,n){this.z6=[],this.V6=t=>{let i=t.Lt;i.yn(ea.Mw,this.G6),i.yn(ea.Nw,this.G6),i instanceof Pn&&(i.H0=this.H0),this.F6(i)},this.G6=t=>{let i=t.Lt;this.F6(i)},this.W6=t=>{let i=t.Lt;i.fn(ea.Mw,this.G6),i.fn(ea.Nw,this.G6),this.Q6(i)},this.H6=()=>{let t=this.H0;for(let i of this.Dl.xw)i instanceof Pn&&(i.H0=t)},this.q6=()=>{for(let t of this.z6)t.Y3(this.MR)},this.X6=()=>{for(let t of this.z6)t.Y3(At({},t.W3(),{NH:"hidden"}))},this.Z6=()=>{for(let t of this.z6)t.Y3(At({},t.W3(),{NH:"visible"}))},this.R6=t,this.Wu=i,this.Dl=e,this.Y6=n,this.MR=s,this.Dl.yn(at.ew,this.V6),this.Dl.yn(at.hw,this.W6),this.Dl.yn(ea.ra,this.G6),this.Y6.yn(Ac.ra,this.H6),this.MR.yn("yw",this.q6),this.H6()}};function nj(t){const i=new ib,e=function(t){const i=[];return $E.ia(t)&&i.push(new $E(t)),tb.ia(t)&&i.push(new tb(t)),i}(t);if(e.length>0){for(const t of e)i.EG(t);i.SG(e[0])}return i}var rj=class extends xx{get TP(){return this.mO}get Ig(){return this.mO.videoHeight}get Lg(){return this.mO.videoWidth}get ya(){return this.K6}Ug(){return this.mO}async e_(){this.K6.gn(),this.J6.gn(),this.t8.gn(),await super.e_()}be(){super.be(),this.J6.be()}ge(){super.ge(),this.J6.ge()}N3(t){super.N3(t),this.J6.N3(t)}constructor(t,i,e,s){super(t,i,e,s),this.K6=nj(t),this.J6=new Qx,this.t8=new sj(this.J6.we,this.Iu,this.nt,this.Ol,this.ya)}};r(),r();r(),r();var tc;!function(t){t.i8="HELLO",t.e8="HI_THERE",t.s8="INITIALIZE",t.n8="APPEND_INIT",t.r8="APPEND_DATA",t.h8="ACK",t.o8="REMOVE",t.a8="DESTROY_SESSION"}(tc||(tc={}));var hj=class{u8(t){return this.GH.oO((async t=>{Pi(t);const i=new MessageChannel,e=i.port1,s=i.port2;sd.serviceWorker.controller||await yi(sd.serviceWorker,"install",t),"activated"!==sd.serviceWorker.controller.state&&await yi(sd.serviceWorker.controller,"activate",t);const n={kind:"HELLO",port:s};sd.serviceWorker.controller.postMessage(n,[s]),e.start(),this.c8=e;try{const i=await yi(e,"message",t),s=i.data;if("HI_THERE"!==s.kind)throw new b("Could not set up message channel");this.MO=s.sessionId}catch(t){throw So(t)&&this.l8(),t}}),t)}d8(t,i){return this.c8,this.GH.oO((async()=>{if(!this.c8)throw new b("MessageSession not set up yet or already closed.");i||(i=[]),this.c8.postMessage(t,i);const e=await yi(this.c8,"message");return e.data}))}f8(){return this.GH.oO((()=>this.l8()))}l8(){if(!sd.serviceWorker.controller)return;if("activated"!==sd.serviceWorker.controller.state)return;if(!this.c8)return;const t={kind:"DESTROY_SESSION"};this.c8.postMessage(t),this.c8.close(),this.c8=void 0}constructor(){this.GH=new no}};r();var oj,aj=class{get _8(){return this.g8}w8(t,i){const e=t-i;this.g8=e>this._8?this.g8:e}A8(t){this.g8=t}constructor(){this.g8=1/0}};r(),r(),r(),function(t){t.mp="audio",t.vp="video",t.Mp="metadata"}(oj||(oj={}));var uj=class extends i{get b_(){return void 0===this.v8||void 0===this.m8?Ki.lR():new Ki([this.v8,this.m8])}get wd(){return{LP:this.LY}}get IJ(){return hv.KT}get gY(){return this.LY}get EJ(){return Ki.lR()}get ZV(){return 30}set ZV(t){}get tW(){return 30}set tW(t){}kJ(t,i){}CJ(t,i){}tq(){return this.p8}get oa(){return this.y8}get M8(){return this.v8}get PN(){return this.m8}async xJ(){}async iJ(t,i){}async BK(t,i,e){if(t.hA!==Lo.CH)throw new b("Streaming or opaque segments are not supported yet.");const s=t.Cp,n=async()=>{const t=s.buffer,e={kind:tc.r8,mediaType:cj(this.LY),segment:s,startPts:i.T8,totalDuration:i.ct};if(await this.N8.d8(e,[t]),void 0===this.v8){const t=i.T8+i.CI;this.v8=t,this.m8=t}this.m8=this.m8+i.ct,this.Co(new mg(bi.LH))};return this.GH.oO((async t=>{Pi(t);try{this.y8=!0,await n()}finally{this.y8=!1}}),e)}async QK(t,i,e){if(t.hA!==Lo.CH)throw new b("Streaming or opaque initialization segments are not supported yet.");const s=t.Cp,n=async()=>{const t={kind:tc.n8,mediaType:cj(this.LY),segment:s};await this.N8.d8(t,[])};return this.GH.oO((async t=>{Pi(t);try{this.y8=!0,await n()}finally{this.y8=!1}}),e)}NJ(){this.p8=!0}_J(){this.p8=!1}async pN(t,i,e){const s=async()=>{const t={kind:tc.o8,mediaType:cj(this.LY),endTime:i};await this.N8.d8(t),this.v8=void 0,this.m8=void 0,this.Co(new mg(bi.LH))};return this.GH.oO((async t=>{Pi(t);try{this.y8=!0,await s()}finally{this.y8=!1}}),e)}PH(t){return this.LY===t.LP}RH(t){return this.LY=t.LP,Promise.resolve()}async e_(){this.Vo(),await this.GH.gn()}constructor(t,i){super(),this.LY=t,this.N8=i,this.v8=void 0,this.m8=void 0,this.GH=new no,this.y8=!1,this.p8=!1}};function cj(t){return t.match(/video/)?oj.vp:oj.mp}var lj=class t{static D8(i,e,s,n){const r=[];for(let t=0;t<i.E$.length;t++){const s=i.E$[t].LP;r.push(new uj(s,e))}return new t(i,r,s,n)}I8(){}get S8(){return[this.p$,this.y$].filter(li)}get g$(){return this.p$}get b_(){return Lk(this)}get wd(){return this.$x}get ct(){return 0}get tq(){var t,i,e;const s=null==(e=null==(t=this.p$)?void 0:t.tq())||e;var n;const r=null==(n=null==(i=this.y$)?void 0:i.tq())||n;return s&&r}get yg(){return new Ki([0,1/0])}get w$(){return this.y$}get rt(){throw new b("Not implemented")}async e_(){await Promise.all([this.p$,this.y$].filter(li).map((t=>t.e_())))}T$(t){}S$(t,i,e,s){}NJ(){var t,i;null==(t=this.p$)||t.NJ(),null==(i=this.y$)||i.NJ()}_J(){var t,i;null==(t=this.p$)||t._J(),null==(i=this.y$)||i._J()}PH(t){return!0}RH(t){return this.$x=t,Promise.resolve()}async jH(t,i){const e=await this.jx.Ox(t.wL,i),s=await e.Nx();return await this.zH(s),s}async zH(t){if(t&&!this.mO.src)throw new Qr(y_.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&this.mO.src)throw new Qr(y_.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");const i=this.mx;i&&(await i.Mx(this.mO),this.mx=void 0),t&&(await t.bn(this.mO),this.mx=t)}constructor(t,i,e,s){this.mx=void 0,this.$x=t,this.y$=p(i,(t=>Boolean(t.gY.match(/video/)))),this.p$=p(i,(t=>Boolean(t.gY.match(/audio/)))),this.jx=e,this.mO=s,this.I8()}},dj=class extends i{E8(){this.b8.addEventListener("timeupdate",this.L8),this.b8.addEventListener("ended",this.k8),this.b8.addEventListener("timeupdate",this.C8),this.b8.addEventListener("ratechange",this.x8),this.b8.addEventListener("volumechange",this.O8),this.b8.addEventListener("durationchange",this.j8),this.b8.addEventListener("playing",this.z8),this.b8.addEventListener("seeking",this.P8),this.b8.addEventListener("play",this.B8),this.b8.addEventListener("pause",this.U8),this.b8.addEventListener("encrypted",this.f3)}Q8(){this.b8.removeEventListener("timeupdate",this.L8),this.b8.removeEventListener("ended",this.k8),this.b8.removeEventListener("timeupdate",this.C8),this.b8.removeEventListener("ratechange",this.x8),this.b8.removeEventListener("volumechange",this.O8),this.b8.removeEventListener("durationchange",this.j8),this.b8.removeEventListener("playing",this.z8),this.b8.removeEventListener("seeking",this.P8),this.b8.removeEventListener("play",this.B8),this.b8.removeEventListener("pause",this.U8)}F8(){this.R4.yn(er.Mw,this.Ds)}Y8(){this.R4.fn(er.Mw,this.Ds)}get TP(){return this.b8}get q$(){return!1}get j_(){return this.b8.currentTime+this.G8._8}get hg(){return this.b8.paused}get xg(){return this.b8.volume}set xg(t){this.b8.volume=t}get ag(){return this.b8.playbackRate}set ag(t){this.b8.playbackRate=t}get V8(){return this.b8.defaultPlaybackRate}get b_(){var t,i;return null!=(i=null==(t=this.DP)?void 0:t.b_)?i:Ki.lR()}get W8(){return Ki.xn(this.b8.buffered)}get fg(){const t=this.H8;return this.Uo.HB(t.Np(this.G8._8))}get H8(){return Ki.xn(this.b8.played)}get Tg(){return this.fR}get Q$(){return!1}get J$(){return!1}get ct(){return this.b8.duration}get Z_(){return this.b8.muted}set Z_(t){this.b8.muted=t}get I6(){return this.b8.style}get y4(){return At({},mL,{bH:!0})}Dp(t,i,e){this.u2.c_(),this.u2=new xs,this.c2=this.l2(t,this.c2,this.u2.a_).catch(fg)}async l2(t,i,e){var s;this.Uo=this.fg;const n=null==(s=this.DP)?void 0:s.S8;if(!n)return;const r=x.max(...n.map((t=>t.M8?t.M8:1/0)));this.fR=!0,this.Co(new Sa(t)),await i.catch(fg),Pi(e);try{for(this.q8||this.X8(),this.b8.load(),this.Z8||(this.K8=!1,await hh(this.b8.play(),e));this.vg<Os.iN;)await this.R4.D_(er.Mw,e);this.J8.jL(),this.q8=!1,this.fR=!1,this.Co(new $s(this.j_))}catch(t){throw this.J8.zL(t),t}finally{this.t9(),this.G8.A8(r)}}Gg(){this.Z8=!0,this.b8.pause()}async Vg(){this.Z8&&(this.b8.src||this.T3(),await this.J8.PL,await this.b8.play())}async e_(){this.N8&&this.N8.f8().catch(fg),this.u2.c_(),this.Q8(),this.Y8(),this.R4.e_(),this.Vo(),this.Dl.gn()}async Zn(){this.N8&&this.N8.f8().catch(fg),this.u2.c_(),this.b8.removeAttribute("src"),this.b8.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.b8.removeAttribute("x-airplay-deny"),this.b8.disableRemotePlayback=!1,this.b8.load(),this.R4.Zn(),this.Uo=Ki.lR()}T3(){this.y3||(wj(this.b8,lg.Ys),this.M3=!0)}get vg(){return this.R4.vg}X8(){const t=this.b8.getClientRects();let i;if(!(t.length>0))return;i=t[0];const e=i.width,s=this.b8.videoWidth/this.b8.videoHeight,n=i.height;let r,h;e/n>s?(r=n*s,h=n):(h=e/s,r=e),this.b8.style.width=r+"px",this.b8.style.height=h+"px",this.b8.style.marginLeft=(e-r)/2+"px",this.b8.style.marginTop=(n-h)/2+"px",this.b8.style.backgroundColor="black"}t9(){this.b8.style.width="100%",this.b8.style.height="100%",this.b8.style.marginLeft="",this.b8.style.marginTop="",this.b8.style.backgroundColor=""}get Ig(){return this.b8.videoHeight}get Lg(){return this.b8.videoWidth}get R_(){return this.b8.ended}get Ti(){return this.b8.offsetHeight*lg.Ys.B4}get ji(){return this.b8.offsetWidth*lg.Ys.B4}get W_(){return!1}get y3(){return this.M3}get k_(){}get Iu(){}get lt(){}get ya(){return this.K6}get yg(){return this.DP?this.DP.yg:Ki.lR()}get IP(){}get nt(){return this.Dl}get Ol(){}get Bg(){return!1}set Bg(t){}RP(t,i,e,s,n){}dE(t,i,e,s,n,r,h,o,a){const u=new Us(t,i,e,s,n,r,h,a,o);return this.Dl.tt(u),this.S2.tt(u),u}rq(t){}X_(){return iL(this.b8)}get V4(){return"block"===this.b8.style.display}ge(){this.b8.style.display="block"}be(){this.b8.style.display="none"}v3(){}async $n(t){if(t.hA===wt.CO)throw new b("Not yet implemented");await this.N8.u8();const i=p(t.kP,(t=>t.dm.hA===Ci.Xv)),e={kind:tc.s8,mediaBufferConfigs:t.E$.map((t=>t.LP)),fairPlaySdkUri:null==i?void 0:i.Az};return await this.N8.d8(e),this.DP=lj.D8(t,this.N8,this.jx,this.b8),this.UH.$n(this.DP,t),this.b8.setAttribute("x-webkit-airplay","deny"),this.b8.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),this.b8.disableRemotePlayback=!0,this.b8.preload="none",this.b8.src="https://theo.proxy/"+this.N8.MO+"/master.m3u8",this.DP}m3(){}pE(t){this.Dl.it(t),this.S2.it(t)}QP(){for(const t of this.Dl.xw.slice())t.gn();this.Dl.Zn()}mP(t){}PP(){return!1}N3(t){t.appendChild(this.b8)}Ug(){return this.b8}E4(){}get VP(){return this.UH.VP}set VP(t){this.UH.VP=t}get D3(){}set D3(t){}get c4(){}Zg(){}constructor(t,i){super(),this.q8=!0,this.N8=new hj,this.G8=new aj,this.Z8=!0,this.J8=new Eo,this.fR=!1,this.c2=Promise.resolve(),this.u2=new xs,this.K8=!0,this.Uo=Ki.lR(),this.M3=!1,this.L8=()=>{this.hg||this.W8.U<=0||this.b_.U<=0||this.G8.w8(this.b_.jn(this.b_.U-1),this.W8.jn(this.W8.U-1))},this.k8=()=>{this.Co(new ys(this.j_))},this.C8=()=>{this.Co(new jc(this.j_,this.k_))},this.x8=()=>{this.Co(new se(this.j_,this.ag))},this.O8=()=>{this.Co(new Oe(this.j_,this.xg))},this.j8=()=>{this.Co(new Vr(this.ct))},this.z8=()=>{this.Co(new Vi(this.j_))},this.P8=()=>{this.Dp(this.j_)},this.B8=async()=>{this.K8&&this.Co(new fh(this.j_)),this.Z8=!1,this.K8=!0},this.U8=()=>{this.Z8=!0,this.Co(new ye(this.j_))},this.f3=t=>{const i=t.initDataType;var e;const s=null!=(e=t.initData)?e:new ArrayBuffer(0);this.Co(new zs(i,s))},this.b8=t,this.R4=new Wk(this),this.b8.playsInline=!0,this.b8.style.width="100%",this.b8.style.height="100%",this.E8(),this.F8(),this.K6=nj(this.b8),this.UH=new Ix(this),this.jx=i,this.Dl=new jn,this.S2=new Ju(this)}},fj=[hv.mp,hv.vp];function _j(t){const i=h.createElement(t);return Is(i)&&function(t){t.addEventListener("contextmenu",(t=>{t.preventDefault()}))}(i),gj(i),i}function gj(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),sn(t),eD(t),t.pause(),t.playbackRate=1,t.disableRemotePlayback=!1,t.preload=tt.HT,t.controls=!1,t.style.display="none",Is(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function wj(t,i){if(i.i9){const i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){const i=t.play();vu(i)&&W(i),t.pause()}}r(),r();var Aj=class{mS(t){return this.gE.mS(t)}CY(t){this.gE.CY(t)}gn(){this.gE.gn()}constructor(t){this.gE=t}},vj=class extends Aj{async mS(t){const i=new Uu(t),e=this.yR.RV.tP(i);if(!e)return this.gE.mS(i);e.FV(lg.f_()/1e3);const s=await this.gE.mS(t);e.YV(lg.f_()/1e3);const n={Cp:s.BG().pipeThrough(new _h(new mj(e))),mS:s.mS};return new $o(n,s)}constructor(t,i){super(t),this.yR=i}},mj=class{start(t){this.dH=t}transform(t){this.e9.GV(lg.f_()/1e3,t),this.dH.enqueue(t)}flush(){this.e9.VV(lg.f_()/1e3)}constructor(t){this.e9=t}};function pj(t){return{get ratio(){return t.Lo},get thresholds(){return t.s9.slice()}}}function yj(t){const i=[],e=x.floor(1/t);if(j(e))return[];for(let s=0;s<=e;s++){const e=Sc(s*t,0,1);i.push(e)}return i}r(),r(),r();var Mj=class{get Lo(){return this.n9}get s9(){return this.r9}h9(t){return i=>{const e=i[i.length-1];this.n9=e.intersectionRatio,t(e.intersectionRatio)}}get va(){return this.Xa||(this.Xa=pj(this)),this.Xa}Wg(){this.o9.disconnect()}constructor(t,i,e){this.n9=1,this.Xa=void 0,this.r9=yj(i);const n=this.h9(e);this.o9=new s.IntersectionObserver(n,{root:null,threshold:this.r9}),this.o9.observe(t)}},Tj=class{get Lo(){return this.n9}get s9(){return this.r9}get va(){return this.Xa||(this.Xa=pj(this)),this.Xa}a9(t){this.n9=t;const i=this.r9;let e=0;if(t>0)for(;e<i.length&&i[e]<=t;)++e;this.u9!==e&&(this.u9=e,this.c9(t))}constructor(t,i){this.n9=1,this.u9=-1,this.Xa=void 0,this.r9=yj(t),this.c9=i}},Nj=class extends Tj{l9(){const t=this.yo.getBoundingClientRect();return Sc(x.max(0,x.min(s.innerWidth,t.right)-x.max(0,t.left))*x.max(0,x.min(s.innerHeight,t.bottom)-x.max(0,t.top))/(t.width*t.height),0,1)}Wg(){s.removeEventListener("scroll",this.d9)}constructor(t,i,e){super(i,e),this.d9=uo((()=>this.a9(this.l9())),50),this.yo=t,s.addEventListener("scroll",this.d9,!!VE&&{passive:!0}),Qu((()=>this.a9(this.l9())))}},Dj=.1,Ij=class{get f9(){return this._9}get zo(){return this.g9}set zo(t){if(j(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this.g9=t}get va(){return this.Xa||(this.Xa=function(t){return{get ratio(){return t.f9},get visible(){return t.f9>t.zo},get visibleThreshold(){return t.zo},set visibleThreshold(i){i=Ih(i),t.zo=i},addObserver:(i,e)=>(i=Ih(i),t.Fo(i,e).va),removeObserver(i){let e=t.w9(i);e&&t.Ro(e)}}}(this)),this.Xa}A9(t){return i=>{this._9=i,null==t||t(this._9)}}Fo(t,i){if(j(t))throw new k("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");let e;return e="function"==typeof s.IntersectionObserver?new Mj(this.yo,t,this.A9(i)):new Nj(this.yo,t,this.A9(i)),this.v9.push(e),e}Ro(t){t.Wg(),Et(this.v9,t)}w9(t){for(const i of this.v9)if(i.va===t)return i}gn(){for(const t of this.v9)t.Wg();Ri(this.v9)}constructor(t){this._9=1,this.g9=0,this.v9=[],this.Xa=void 0,this.yo=t,this.Fo(.1,this.A9())}};r();var Sj=class extends mg{constructor(){super(t.SA)}};r();var Ej=class{get m9(){return this.p9}set m9(t){this.p9=t}get va(){var t;return null!=(t=this.Xa)?t:this.Xa=function(t){return{get conviva(){var i;return null==(i=t.m9)?void 0:i.va}}}(this)}gn(){this.p9=void 0}};var bj=class extends ra{get y9(){return this.yR}get AN(){return this.M9}set AN(t){this.M9=t,this.T9.AN=t}get N9(){return this.D9}get ht(){return this.T9.ht}get KQ(){return this.I9}get Iu(){return this.S9}get G_(){return this.T9.G_}get q_(){return this.E9}get _Q(){return this.b9}get nt(){return this.T9.nt}get Ol(){return this.MR}get rt(){return this.T9.rt}get b_(){return this.L_()}L_(){return this.T9.b_}get L9(){return this.AW}get LW(){return this.kW}get j_(){return this.z_()}set j_(t){this.P_(t)}z_(){return this.T9.j_}P_(t){this.T9.j_=t}k9(){return this.z_()}get k_(){return this.T9.k_}set k_(t){this.T9.k_=t}get bt(){return this.T9.bt}get ct(){return this.Td()}Td(){return this.T9.ct}get we(){return this.T9.we}get R_(){return this.T9.R_}get lt(){return this.Q_()}Q_(){return this.T9.lt}get F_(){return this.Y_()}Y_(){return this.T9.F_}get ya(){return this.T9.Rg()}get Bg(){return this.T9.Bg}set Bg(t){this.T9.Bg=t}get Z_(){return this.T9.Z_}set Z_(t){const i=Boolean(t);this.J_(i)}J_(t){this.T9.Z_=t,t||this.hg||this.Yg()}get hg(){return this.T9.hg}get ag(){return this.T9.ag}set ag(t){this.T9.ag=t}get fg(){return this._g()}_g(){return this.T9.fg}get gg(){return this.T9.gg}set gg(t){this.T9.gg=t}get vg(){return this.T9.vg}get yg(){return this.Mg()}Mg(){return this.T9.yg}get Tg(){return this.T9.Tg}get Vw(){return this.DN}get Ig(){return this.T9.Ig}get Lg(){return this.T9.Lg}get xg(){return this.T9.xg}set xg(t){const i=Sc(Number(t),0,1)||0;this.jg(i)}get zg(){return this.T9.zg}jg(t){this.T9.xg=t}ka(){Ma(this,lS,this)}Vg(){this.T9.Vg()}Gg(){this.T9.Gg()}Wa(){return this.bB}async ga(t,i){if(this.bB=t,t){this.C9.zF(t).catch(this.x9);const e=function(t){t.sources;const i=t.sources.filter((t=>j_(t.integration)));0;return t.sources=i,t}(t);await this.T9.ga(e,i)}}Yg(){if(this.bo)return;this.T9.Yg(),this.D9.Yg();const t=this.we.getElementsByTagName("video");for(let i=0;i<t.length;i++){const e=t[i];"Advertisement"===e.title&&wj(e,lg.Ys)}this.bo=!0}cs(){return this.O9.qo()===cu.FULLSCREEN}ge(){this.T9.ge()}be(){this.T9.be()}Ug(){return this.T9.Ug()}Zg(){this.T9.Zg()}Kg(){this.T9.Kg()}async Wg(){this.bB=void 0,await this.T9.Wg(),await this.T9.Zn()}async gn(){this.Co(new Sj),this.Vo(),this.I9.gn(),this.tj.gn(),this.b9.gn(),this.j9.gn(),this.z9.gn(),this.O9.gn(),this.S9.gn(),this.P9.gn(),this.B9.gn(),this.D9.gn(),this.pR.gn(),await this.T9.gn()}constructor(i,e){super(),this.M9=!1,this.bo=!1,this.bB=void 0,this.R9=!1,this.P9=new Ej,this.ba=void 0,this.x9=t=>{if(this.R9)return;this.R9=!0;const i=this.U9,e=Vs(t);this.T9.Pw=new qI(this.we,e,t),W(i.gn())},this.Q9=i=>{i.type!==t.GA&&i.type!==t.YA&&this.Co(i)};const s=Ih(e.uid);j(s)?this.DN=om++:this.DN=s,this.wd=e;const n=lg.tj,r=new lL;this.B9=new OE("7.3.0",n,r),this.yR=new Hb;const h=new vj(n,this.yR);this.tj=new zb(h,e.allowMixedContent),this.rH=new AE(e.isEmbeddable,"7.3.0",dE()),this.C9=new cL(n,this.rH,this.B9,r,e,dE()),this.C9.tH().catch(this.x9),this.S9=new KE(i),this.S9.yn(_r.pn,this.Ds),this.MR=new wL,this.AW=new Zb,this.kW=new Jb;const o=new et(i,e,this.tj,this.yR,this.S9,this.MR);this.yR.iW(o);let a=o;a=new Kb(a,this.L9),a=new $b(a,this.LW),this.U9=a,this.T9=new im(this.U9),this.T9.m_(this.Q9),this.E9=new tL(this.T9),this.b9=new Rb(this.T9,this.tj,this.yR),this.j9=new RE(this),this.z9=new eb(this.T9,e.allowNativeFullscreen),this.O9=new cS(this.z9),this.S9.bn(),this.Bo=new Ij(i),this.pR=new Ry(this.S9,this.MR,1,[hv.vp]),this.D9=new Uy(this.pR),this.I9=new nL}};r(),r();var tu,O=class extends ra{get y9(){return this.Qo.y9}get Oc(){return this.F9()}F9(){return this.Qo.Oc}get P9(){return this.Qo.P9}get B9(){return this.Qo.B9}get N9(){return this.Y9()}Y9(){return this.Qo.N9}get AN(){return this.Qo.AN}set AN(t){this.Qo.AN=t}get j9(){return this.Qo.j9}get KQ(){return this.Qo.KQ}get L9(){return this.Qo.L9}get wd(){return this.Qo.wd}get Iu(){return this.Qo.Iu}get ya(){return this.Rg()}Rg(){return this.Qo.ya}get tj(){return this.Qo.tj}get zg(){return this.Qo.zg}get LW(){return this.Qo.LW}get _Q(){return this.Qo._Q}get O9(){return this.Qo.O9}get S9(){return this.Qo.S9}get T9(){return this.Qo.T9}get Ol(){return this.Qo.Ol}get G9(){return this.V9()}V9(){return this.Qo.G9}get Vw(){return this.Qo.Vw}get Bo(){return this.Qo.Bo}get ht(){return this.I_()}I_(){return this.Qo.ht}L_(){return this.Qo.L_()}get k_(){return this.C_()}set k_(t){this.x_(t)}C_(){return this.Qo.k_}x_(t){this.Qo.k_=t}get bt(){return this.O_()}O_(){return this.Qo.bt}z_(){return this.Qo.z_()}P_(t){this.Qo.P_(t)}k9(){return this.Qo.k9()}Td(){return this.Qo.Td()}get we(){return this.Qo.we}get R_(){return this.U_()}U_(){return this.Qo.R_}Q_(){return this.Qo.Q_()}Y_(){return this.Qo.Y_()}get G_(){return this.V_()}V_(){return this.Qo.G_}get Bg(){return this.Qo.Bg}set Bg(t){this.Qo.Bg=t}get q_(){return this.X_()}X_(){return this.Qo.q_}get Z_(){return this.K_()}set Z_(t){this.J_(t)}K_(){return this.Qo.Z_}J_(t){this.Qo.J_(t)}get hg(){return this.og()}og(){return this.Qo.hg}get ag(){return this.cg()}set ag(t){this.dg(t)}cg(){return this.Qo.ag}dg(t){this.Qo.ag=t}_g(){return this.Qo._g()}get gg(){return this.wg()}set gg(t){this.Ag(t)}wg(){return this.Qo.gg}Ag(t){this.Qo.gg=t}get vg(){return this.pg()}pg(){return this.Qo.vg}get ba(){return this.Qo.ba}set ba(t){this.Qo.ba=t}Mg(){return this.Qo.Mg()}get Tg(){return this.Ng()}Ng(){return this.Qo.Tg}get nt(){return this.Dg()}Dg(){return this.Qo.nt}get Ig(){return this.Sg()}Sg(){return this.Qo.Ig}get rt(){return this.Eg()}Eg(){return this.Qo.rt}get Lg(){return this.Cg()}Cg(){return this.Qo.Lg}get xg(){return this.Og()}set xg(t){this.jg(t)}Og(){return this.Qo.xg}jg(t){this.Qo.jg(t)}Yg(){this.Qo.Yg()}Gg(){this.Qo.Gg()}Vg(){this.Qo.Vg()}ge(){this.Qo.ge()}be(){this.Qo.be()}cs(){return this.Qo.cs()}Ug(){return this.Qo.Ug()}Zg(){this.Qo.Zg()}Kg(){this.Qo.Kg()}ka(){this.Qo.ka()}Wa(){return this.Qo.Wa()}ga(t,i){return this.Qo.ga(t,i)}Wg(){return this.Qo.Wg()}$g(t){return!1}async gn(){this.Vo(),await this.Qo.gn()}constructor(t,i){super(),this.iw=t=>{this.$g(t)||this.Co(t)},this.Qo=t,this.W9=!i,this.W9&&t.m_(this.iw)}};!function(t){t[t.Za=0]="Za",t[t.H9=1]="H9",t[t.q9=2]="q9",t[t.X9=3]="X9"}(tu||(tu={}));var Lj=[0,1,2,3],kj={};function ti(t,i){(kj[i]||(kj[i]=[])).push(t)}var Cj={};function xj(t,i){(Cj[i]||(Cj[i]=[])).push(t)}var Oj=[];function jj(t){for(const i of Oj)i(t)}r();var zj=self.CustomEvent;var Pj=function(){try{const t=new zj("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,i){return new CustomEvent(t,i)}:function(t,i){const e=h.createEvent("CustomEvent");return e.initCustomEvent(t,(null==i?void 0:i.bubbles)||!1,(null==i?void 0:i.cancelable)||!1,null==i?void 0:i.detail),e};r();var Bj=new class{get U(){return this._N.length}get va(){var t;return null!=(t=this.Xa)?t:this.Xa=function(t){const i=[];for(let e=0;e<t.U;e++)i[e]=t.jw(e).va;return i.getPlayerByUID=i=>{const e=t.Z9(i);return e&&e.va},i}(this)}jw(t){return this._N[t]}Mq(t){this._N.push(t),this.va.push(t.va)}pN(t){const i=this._N.indexOf(t);i<0||(Dt(this._N,i),this.Xa&&Dt(this.Xa,i))}Z9(t){for(const i of this._N)if(i.Vw===t)return i}constructor(){this._N=[],this.Xa=void 0}};r(),r(),r();var Rj=class extends mg{constructor(i){super(t.lo),this.source=i}};r();var Uj=class extends ra{get k_(){}set k_(t){}get j_(){return this.z_()}set j_(t){this.P_(t)}z_(){return this.dR}k9(){return this.z_()}P_(t){this.fR&&this.dR===t||(this.dR=t,this.fR=!0,this.Co(new Sa(this.dR)))}get hg(){return this.gR}get ag(){return this.wR}set ag(t){this.wR!==t&&(this.wR=t,this.Co(new se(this.dR,this.ag)))}get vg(){return Os.tN}get Tg(){return this.fR}Vg(){this.gR&&(this.gR=!1,this.Co(new fh(this.dR)),this.Co(new Xc(this.dR)))}Gg(){this.gR||(this.gR=!0,this.Co(new jc(this.dR,this.k_)),this.Co(new ye(this.dR)))}Zn(){this.dR=0,this.fR=!1,this.wR=1,this.Gg()}gn(){this.Vo()}be(){}ge(){}constructor(){super(),this.dR=0,this.gR=!0,this.fR=!1,this.wR=1}};r();var ds,Qj={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},Fj={visibility:"hidden"},Yj={visibility:"visible"},Gj=class{get zu(){return void 0!==this.K9?this.K9:void 0!==this.J9?this.J9:void 0}set t7(t){this.J9=t,this.Qn()}Qn(){const t=this.Qo.hg,i=this.i7;this.zu?this.Us.style.backgroundImage='url("'+ow(this.zu)+'")':this.Us.style.backgroundImage="",t&&this.zu&&!i?this.ge():this.be()}ge(){an(Fj,this.Qo.we),an(Yj,this.Us)}be(){an(Fj,this.Us),an(Yj,this.Qo.we)}SB(){this.Qo.yn(t.lo,this.e7),this.Qo.yn(t.jh,this.qO)}gn(){this.Qo.fn(t.lo,this.e7),this.Qo.fn(t.jh,this.qO),di(this.Us)}constructor(t){this.i7=!1,this.e7=t=>{var i;this.i7=!this.Qo.hg,this.K9=null==(i=t.source)?void 0:i.poster,this.Qn()},this.qO=()=>{this.i7=!0,this.be()},this.Qo=t,this.SB(),this.Us=function(){let t=Ys&&Ys.document&&Ys.document.createElement("div");return t.className="theoplayer-poster",an(Qj,t),t}(),t.we.appendChild(this.Us)}};function Vj(t){let i;const e={get playing(){return t.Fc},get currentAds(){return t.s7.map((t=>t.n7()))},get currentAdBreak(){var i,e;return null!=(e=null==(i=t.r7)?void 0:i.n7())?e:null},get scheduledAds(){return t.h7.map((t=>t.n7()))},get scheduledAdBreaks(){return t.o7.map((t=>t.n7()))},skip(){t.Yp()},schedule(i){let e=HS(i,Zo.gL);e?t.N1(e,ds.a7,!1):console.error("Invalid ad description")},addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)}};return i=new Lh(t,e),e}r(),r(),r(),function(t){t[t.a7=0]="a7",t[t.u7=1]="u7"}(ds||(ds={})),r(),r();var Ku=class extends z{constructor(t,i){super(t),this.Xl=i}},Rc=class extends mg{get ad(){return this.adBreak}constructor(t,i){super(t),this.adBreak=i}},Hu=class extends Ku{fa(){return new Wj(this.Xl.n7())}constructor(t){super("l7",t)}},Wj=class extends Rc{constructor(t){super("removeadbreak",t)}};r();var un=class extends Ku{fa(){return new Hj(this.Xl.n7())}constructor(t){super("d7",t)}},Hj=class extends Rc{constructor(t){super("addadbreak",t)}};r(),r();var Ts=class extends z{constructor(t,i){super(t),this.f7=i}},Xs=class extends mg{constructor(t,i){super(t),this.ad=i}},qj=class extends Ts{fa(){return new Xj(this.f7.n7())}constructor(t){super("_7",t)}},Xj=class extends Xs{constructor(t){super("addad",t)}};r();var Nh=class extends Ku{fa(){return new Zj(this.Xl.n7())}constructor(t){super("g7",t)}},Zj=class extends Rc{constructor(t){super("adbreakend",t)}};r();var pa=class extends Ku{fa(){return new Kj(this.Xl.n7())}constructor(t){super("w7",t)}},Kj=class extends Rc{constructor(t){super("adbreakbegin",t)}};r();var Za=class extends Ts{fa(){return new Jj(this.f7.n7(),this.currentTime)}constructor(t,i){super("A7",t),this.currentTime=i}},Jj=class extends Xs{constructor(t,i){super("adbegin",t),this.currentTime=i}};r();var da=class extends Ts{fa(){return new $j(this.f7.n7(),this.currentTime)}constructor(t,i){super("v7",t),this.currentTime=i}},$j=class extends Xs{constructor(t,i){super("adend",t),this.currentTime=i}};r();var vn=class extends z{fa(){return new tz}constructor(){super("m7")}},tz=class extends mg{constructor(){super("adadded")}},fn=class extends ra{get Fc(){return!!this.Ic&&this.Ic.Fc}get s7(){return this.Ic?this.Ic.s7:[]}get r7(){return this.Ic?this.Ic.r7:null}get h7(){return this.Ic?this.Ic.h7:[]}get o7(){return this.Ic?this.Ic.o7:[]}N1(t,i,e){var s;null==(s=this.Ic)||s.N1(t,i,e)}p7(t){var i;null==(i=this.Ic)||i.p7(t)}Yp(){var t;null==(t=this.Ic)||t.Yp()}y7(t){var i;null==(i=this.Ic)||i.y7(t)}get va(){var t;return null!=(t=this.Xa)?t:this.Xa=Vj(this)}get Pw(){return this.Ic}set Pw(t){const i=this.Ic;if(i===t)return;const e=this.s7,s=this.r7,n=this.h7,r=this.o7;null==i||i.N_(this.Ds),this.Ic=t,null==t||t.m_(this.Ds);const h=this.s7,o=this.r7,a=this.h7,u=this.o7,c=[];let l=!1;for(const t of r)Ho(u,t)||c.push(new Hu(t));for(const t of u)Ho(r,t)||c.push(new un(t));for(const t of a)Ho(n,t)||(c.push(new qj(t)),l=!0);l&&c.push(new vn),s!==o&&(s&&c.push(new Nh(s)),o&&c.push(new pa(o)));for(const t of e)Ho(h,t)||c.push(new da(t,this.Qo.z_()));for(const t of h)Ho(e,t)||c.push(new Za(t,this.Qo.z_()));for(const t of c)this.Co(t)}gn(){var t;return this.Vo(),null==(t=this.Ic)||t.N_(this.Ds),this.Ic=void 0,Promise.resolve()}constructor(t){super(),this.Xa=void 0,this.Qo=t}};r();var iz,pn=class extends ra{get Fc(){return!1}get s7(){return[]}get r7(){return null}get h7(){return[]}get o7(){return[]}N1(t,i,e){this.M7.push({T7:t,N7:i,D7:e})}Yp(){}y7(t){}get va(){var t;return null!=(t=this.Xa)?t:this.Xa=Vj(this)}p7(t){const i=this.M7.slice();this.Zn();for(const e of i)t.N1(e.T7,e.N7,e.D7)}I7(){const t=this.M7.map((t=>t.T7));return this.Zn(),t}Zn(){Ri(this.M7)}gn(){return this.Vo(),this.Zn(),Promise.resolve()}constructor(...t){super(...t),this.Xa=void 0,this.M7=[]}};function ez(i){return class extends ra{get B9(){return this.S7.B9}get Oc(){return this.Ic}get P9(){return this.S7.P9}get j9(){return this.S7.j9}get wd(){return this.S7.wd}get tj(){return this.S7.tj}get ya(){return this.S7.ya}get O9(){return this.S7.O9}get S9(){return this.S7.S9}get T9(){return this.S7.T9}get y9(){return this.S7.y9}get AN(){return this.S7.AN}set AN(t){this.S7.AN=t,this.E7()}get N9(){return this.S7.N9}get ht(){return this.S7.ht}get KQ(){return this.S7.KQ}get Iu(){return this.S7.S9}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}get G_(){return this.S7.G_}get Bg(){return this.S7.Bg}set Bg(t){this.S7.Bg=t}get q_(){return this.S7.q_}get _Q(){return this.S7._Q}get nt(){return this.S7.nt}get Ol(){return this.S7.Ol}get rt(){return this.S7.rt}get L9(){return this.S7.L9}get LW(){return this.S7.LW}get k_(){return this.Qo.k_}set k_(t){this.Qo.k_=t}get bt(){return this.S7.bt}get we(){return this.S7.we}get R_(){return this.S7.R_}get Z_(){return this.S7.Z_}set Z_(t){this.J_(t)}get hg(){return this.Qo.hg}get mi(){return this.b7.zu||""}set mi(t){this.b7.t7=t}get ag(){return this.S7.ag}set ag(t){this.Qo.ag=t}get gg(){return this.S7.gg}set gg(t){this.S7.gg=t}get vg(){return this.Qo.vg}get ba(){return this.S7.ba}set ba(t){this.S7.ba=t}get Tg(){return this.Qo.Tg}get G9(){return this.S7.G9}get Vw(){return this.S7.Vw}get Ig(){return this.S7.Ig}get Lg(){return this.S7.Lg}get xg(){return this.S7.xg}set xg(t){this.jg(t)}get zg(){return this.S7.zg}get Bo(){return this.S7.Bo}async oO(t,i){return this.GH.oO(t,i).catch(Mh)}async L7(t,i){Pi(i),this.S7.m_(this.k7);try{await this.S7.ga(t,i)}finally{this.S7.N_(this.k7)}}async E7(){const t=await this.C7();this.x7(t)}async C7(){const t=this.Wa();return t&&!jS(t)&&this.AN&&this.hg?this.N9.O7(this.Z_):"none"}x7(t){var i;const e=(null==(i=this.Wa())?void 0:i.mutedAutoplay)||this.wd.mutedAutoplay;switch(t){case"all":this.j7();break;case"muted":(this.Z_||e===Hv.ALL)&&(this.Z_=!0,this.Vg())}}ga(t){jS(this.bB)||this.Co(new Wv(0,Os.tN)),this.Zn(),this.bB=t,W(this.oO((async i=>{Pi(i);try{await this.L7(t,i)}catch(t){return go(t),this.bB=void 0,void this.uB(function(t,i){return t instanceof ce?t:t instanceof b?new ce(i,t.message,t):new ce(i,String(t))}(t,y_.SOURCE_NOT_SUPPORTED))}finally{this.z7(this.S7)}const e=await this.C7();this.Co(new Rj(this.Wa())),this.x7(e)})))}P_(t){this.Qo.P_(t)}Q_(){var t;return null!=(t=this.ER)?t:this.S7.Q_()}Y_(){var t;return null!=(t=this.yP)?t:this.S7.Y_()}uB(t){void 0===this.Y_()&&(this.yP=t,this.ER=Vs(t),this.Co(new pe(t)))}Vg(){this.Qo.Vg()}j7(){this.Z_||this.Yg(),this.Vg()}Yg(){this.S7.Yg()}Gg(){this.Qo.Gg()}Wg(){this.ga(void 0)}ge(){this.xB=!0,this.Qo.ge()}be(){this.xB=!1,this.Qo.be()}ka(){this.S7.ka()}jg(t){this.S7.jg(t)}J_(t){this.S7.J_(t)}wa(t){this.P7=t,t.Mq(this)}cs(){return this.S7.cs()}Wa(){return this.bB}Ug(){return this.S7.Ug()}z_(){return this.Qo.z_()}k9(){return this.Qo.k9()}Td(){return this.S7.Td()}L_(){return this.S7.L_()}_g(){return this.S7._g()}Mg(){return this.S7.Mg()}Zg(){this.S7.Zg()}Kg(){this.S7.Kg()}Zn(){this.bB=void 0,this.yP=void 0,this.ER=void 0,this.B7=!0,Ri(this.R7),this.U7.Zn(),this.z7(this.U7),this.GH.c_(),W(this.GH.oO((async t=>{Pi(t),await this.S7.Wg()})))}gn(){this.Co(new Sj),this.b7.gn(),this.EB(),this.Zn(),W(this.oO((async()=>{await this.S7.gn(),this.P7&&(this.P7.pN(this),this.P7=void 0),this.GH.gn()}))),this.Vo()}z7(t){if(this.Qo===t)return;const i=this.Qo.hg,e=this.Qo.z_(),s=this.Qo.ag,n=this.Qo.vg,r=this.Qo.Tg;this.Q7=i,this.I3=n,this.EB(),t.m_(this.F7),t===this.S7?(void 0!==this.Ic&&(this.Ic.Pw=t.Oc,this.Y7.p7(this.Ic)),(r||t.z_()!==e)&&t.P_(e),t.ag!==s&&(t.ag=s),i?t.Gg():t.Vg()):(void 0!==this.Ic&&(this.Ic.Pw=this.Y7,this.Y7.Zn()),this.wd.retainPlaybackRateOnSourceChange?t.ag=s:1!==s&&this.Co(new se(this.z_(),1))),t.N_(this.F7),this.Qo=t,this.SB();for(const t of this.R7)this.Co(t);Ri(this.R7),this.xB?t.ge():t.be()}SB(){this.Qo.m_(this.Jg)}EB(){this.Qo.N_(this.Jg)}fa(){return function(t){let i,e;const s=i=>{e=i;const s=il(i,t.wd);t.ga(s)};let n={get abr(){return t.y9.va},get ads(){var i;return null==(i=t.Oc)?void 0:i.va},get analytics(){return t.P9.va},get audioTracks(){return t.ht.va},get autoplay(){return t.AN},set autoplay(i){t.AN=Boolean(i)},get buffered(){return t.L_()},get canvas(){return t.j9.va},get cast(){var i;return null==(i=t.KQ)?void 0:i.va},get clip(){return t.L9.va},get currentProgramDateTime(){var i;return null!=(i=t.k_)?i:null},set currentProgramDateTime(i){t.k_=null!=i?i:void 0},get currentTime(){return t.z_()},set currentTime(i){t.P_(Number(i))},get duration(){return t.Td()},get element(){return t.we},get ended(){return t.R_},get error(){return t.Q_()},get errorObject(){return t.Y_()},get loop(){return t.LW.LW},set loop(i){t.LW.LW=Boolean(i)},get metrics(){return t.q_.va},get muted(){return t.Z_},set muted(i){t.J_(i)},get network(){return t._Q.va},get paused(){return t.hg},get playbackRate(){return t.ag},set playbackRate(i){const e=Number(i);if(e<0)throw new RangeError("playbackRate must be a positive number");t.ag=e},get played(){return t._g()},get poster(){return t.mi},set poster(i){t.mi=Oa(i)},get preload(){return t.gg},set preload(i){t.gg=function(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";default:return"none"}}(i)},get presentation(){return t.O9.va},get readyState(){return t.vg},get seekable(){return t.Mg()},get seeking(){return t.Tg},get source(){return e},set source(t){s(t)},get src(){return RS(t.Wa())},set src(t){s({sources:t})},get textTracks(){return t.nt.va},get textTrackStyle(){return t.Ol.va},get theoLive(){return t.G9},get uid(){return t.Vw},get videoHeight(){return t.Ig},get videoTracks(){return t.rt.va},get videoWidth(){return t.Lg},get visibility(){return t.Bo.va},get volume(){return t.xg},set volume(i){t.jg(Number(i))},get latency(){return t.zg.va},destroy(){t.gn(),t=null,e=void 0},play(){t.j7()},pause(){t.Gg()},stop(){e=void 0,t.Wg()},prepareWithUserAction(){t.Yg()},addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)},setSource(t){s(t)}};return i=new Zu(n,!0),i.Qa(t),i.yn("destroy",(()=>{i.gn()})),n}(this)}constructor(e,s){super(),this.Q7=!0,this.I3=Os.tN,this.B7=!1,this.bB=void 0,this.yP=void 0,this.ER=void 0,this.k7=i=>{i.type!==t.WA&&this.R7.push(i)},this.F7=i=>{(i.type!==t.jh||this.Qo.hg)&&(i.type===t.Sh&&this.Qo.hg||i.type===t.ZA&&this.Qo.Tg&&this.Qo.z_()===i.currentTime||i.type===t.WA&&this.Qo.ag===i.playbackRate||this.Co(i))},this.Jg=i=>{if(this.B7){if(i.type===er.Mv)return;i.type!==er.vv&&i.type!==er.Tv||(this.B7=!1)}if(i.type===t.jh){if(!this.Q7)return;this.Q7=!1}else if(i.type===t.Sh){if(this.Q7)return;this.Q7=!0}else if(i.type===er.Mw){if(this.I3===i.readyState)return;this.I3=i.readyState}else if(i.type===t.SA)return;this.Co(i)},this.S7=new i(e,s),this.U7=new Uj,this.Qo=this.S7,this.b7=new Gj(this),this.S7.Oc&&(this.Ic=new fn(this),this.Ic.Pw=this.S7.Oc,this.Y7=new pn),this.GH=new no,this.R7=[],this.xB=!0,this.SB()}}}function sz(){if(!iz){let t=bj;t=function(t){return class extends O{constructor(i,e){let s=new t(i,e);for(const t of Lj)if(Cj[t])for(const i of Cj[t])s=i(s);super(s)}}}(t);let i=ez(t);i=function(t){let i=t;for(const t of Lj)if(kj[t])for(const e of kj[t])i=e(i);return i}(i),iz=i}return iz}function nz(t,i){const e=Zv(i),s=new(sz())(t,e);s.ba=s;let n=s.va;return s.ka(),s.wa(Bj),_.defineProperty(n,"constructor",{value:nz}),n=Sg(n),jj(s),n}Qu((()=>{self.dispatchEvent&&self.dispatchEvent(Pj("theoplayerready"))})),r();var rz={base64:new class{encode(t){return Ot(t)}decode(t){return mi(t)}}};r();var hz=JSON.parse('["dash","hls","chromecast","ads","airplay","yospace","spotx","vr","vr-webxr","conviva","cache","webaudio","youbora","mediamelon","moat","google-dai","streamone","lcevc","freewheel","agama","verizonmedia","mediatailor","ui","relatedcontent","social","upnext","contextmenu","texttrackstyle-ui","activequalitylabel","upcomingadnotification"]');function oz(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),_.defineProperty(t,s.key,s)}}function az(t,i){var e=function(t,i){var e=t.length;if(e<=1)return t;for(var s=new Array(e),n=1;n<e;n*=2){uz(t,i,n,s);var r=t;t=s,s=r}return t}(t,i);return e!==t&&uz(e,null,t.length,t),t}function uz(t,i,e,s){var n,r,h,o,a,u=t.length,c=0,l=2*e;for(n=0;n<u;n+=l)for(h=(r=n+e)+e,r>u&&(r=u),h>u&&(h=u),o=n,a=r;;)if(o<r&&a<h)i(t[o],t[a])<=0?s[c++]=t[o++]:s[c++]=t[a++];else if(o<r)s[c++]=t[o++];else{if(!(a<h))break;s[c++]=t[a++]}}r(),r(),r(),r();var cz=/[a-zA-Z]/,lz=/[0-9]/,dz=/[0-9a-fA-F]/,fz=/^0x/i,_z=/^[0-9]+$/,gz=/^[0-9a-fA-F]+$/,wz=/^[0-7]+$/,Az=_.prototype.toString,vz=Array.isArray||function(t){return"[object Array]"===Az.call(t)},mz="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function pz(t){return vz(t)?t:Array.from(t)}function yz(t,i,e){var s=t[i];t[i]=t[e],t[e]=s}function Mz(t){return t>=65&&t<=90}function Tz(t){return Mz(t)||function(t){return t>=97&&t<=122}(t)}function Nz(t){return t>=48&&t<=57}function Dz(t){return Nz(t)||Tz(t)}function Iz(t){return Nz(t)||t>=65&&t<=70||t>=97&&t<=102}function Sz(t){return Mz(t)?t+32:t}function Ez(t){return Nz(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function bz(t,i){return void 0===i&&(i=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(i?87:55):-1}var Lz=x.min,kz=String.fromCharCode,Cz=16384;function xz(t){for(var i=t.length,e=[],s=0;s<i;s+=Cz){var n=Lz(s+Cz,i);e.push(kz.apply(null,t.slice(s,n)))}return e.join("")}var Oz=2147483647,jz=/[^\0-\x7E]/,zz=/[\x2E\u3002\uFF0E\uFF61]/g,Pz={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Bz=x.floor,Rz=String.fromCharCode;function Uz(t){throw new RangeError(Pz[t])}function Qz(t){for(var i=[],e=0,s=t.length;e<s;){var n=t.charCodeAt(e++);if(n>=55296&&n<=56319&&e<s){var r=t.charCodeAt(e++);56320==(64512&r)?i.push(((1023&n)<<10)+(1023&r)+65536):(i.push(n),e--)}else i.push(n)}return i}var Fz,Yz,Gz,Vz=function(t,i){return t+22+75*(t<26)-((0!=i)<<5)},Wz=function(t,i,e){var s=0;for(t=e?Bz(t/700):t>>1,t+=Bz(t/i);t>455;s+=36)t=Bz(t/35);return Bz(s+36*t/(t+38))},Hz=function(t){return function(t,i){var e=t.split("@"),s="";e.length>1&&(s=e[0]+"@",t=e[1]);var n=function(t,i){for(var e=[],s=t.length;s--;)e[s]=i(t[s]);return e}((t=t.replace(zz,".")).split("."),i).join(".");return s+n}(t,(function(t){return jz.test(t)?"xn--"+function(t){for(var i=[],e=(t=Qz(t)).length,s=128,n=0,r=72,h=0,o=t;h<o.length;h++){var a=o[h];a<128&&i.push(Rz(a))}var u=i.length,c=u;for(u&&i.push("-");c<e;){for(var l=Oz,d=0,f=t;d<f.length;d++){var _=f[d];_>=s&&_<l&&(l=_)}var g=c+1;l-s>Bz((Oz-n)/g)&&Uz("overflow"),n+=(l-s)*g,s=l;for(var w=0,A=t;w<A.length;w++){var v=A[w];if(v<s&&++n>Oz&&Uz("overflow"),v==s){for(var m=n,p=36;;p+=36){var y=p<=r?1:p>=r+26?26:p-r;if(m<y)break;var M=m-y,T=36-y;i.push(Rz(Vz(y+M%T,0))),m=Bz(M/T)}i.push(Rz(Vz(m,0))),r=Wz(n,g,c==u),n=0,++c}}++n,++s}return i.join("")}(t):t}))};function wi(t){for(var i=[],e=0;e<t.length;e++){var s=t[e];s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s)}return xz(i)}function qz(t){if(t>=55296&&t<=57343)throw new b("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Xz(t,i){return t>>i&63|128}function Zz(t,i){0!=(4294967168&t)?(0==(4294965248&t)?i.push(t>>6&31|192):0==(4294901760&t)?(qz(t),i.push(t>>12&15|224),i.push(Xz(t,6))):0==(4292870144&t)&&(i.push(t>>18&7|240),i.push(Xz(t,12)),i.push(Xz(t,6))),i.push(63&t|128)):i.push(t)}function Kz(t){for(var i=[],e=0;e<t.length;e++){Zz(t[e],i)}return i}function Jz(){if(Gz>=Yz)throw new b("Invalid byte index");var t=255&Fz[Gz];if(Gz++,128==(192&t))return 63&t;throw new b("Invalid continuation byte")}function $z(){var t,i;if(Gz>Yz)throw new b("Invalid byte index");if(Gz===Yz)return!1;if(t=255&Fz[Gz],Gz++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|Jz())>=128)return i;throw new b("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|Jz()<<6|Jz())>=2048)return qz(i),i;throw new b("Invalid continuation byte")}if(240==(248&t)&&(i=(7&t)<<18|Jz()<<12|Jz()<<6|Jz())>=65536&&i<=1114111)return i;throw new b("Invalid UTF-8 detected")}function tP(t){return[37,bz(t>>4),bz(15&t)]}function iP(t){return function(t){return t>=0&&t<=31}(t)||t>126}function eP(t){return iP(t)||32===t||34===t||60===t||62===t||96===t}function sP(t){return eP(t)||35===t||63===t||123===t||125===t}function nP(t){return sP(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function rP(t){return t<33||t>126||34===t||35===t||60===t||62===t}function hP(t){return rP(t)||39===t}function oP(t,i){if(!i(t))return[t];for(var e=Kz([t]),s=[],n=0;n<e.length;n++){var r=e[n];s.push.apply(s,tP(r))}return s}function aP(t,i){for(var e=[],s=0,n=Qz(t);s<n.length;s++){var r=n[s];e.push.apply(e,oP(r,i))}return wi(e)}function uP(t){return function(t){for(var i=[],e=t.length,s=0;s<e;s++){var n=t[s];if(37===n&&s+2<e&&Iz(t[s+1])&&Iz(t[s+2])){var r=Ez(t[s+1])<<4|Ez(t[s+2]);i.push(r),s+=2}else i.push(n)}return i}(Kz(t))}function cP(t){return wi(function(t){Fz=t.slice(),Yz=Fz.length,Gz=0;for(var i,e=[];!1!==(i=$z());)e.push(i);return e}(uP(Qz(t))))}function lP(t){var i=t.length,e=[0,0,0,0,0,0,0,0],s=0,n=null,r=0;if(r<i&&":"===t[r]){if(!(r+1<i&&":"===t[r+1]))throw new k;r+=2,n=s+=1}for(;r<i;){if(8===s)throw new k("Too many groups");if(":"!==t[r]){for(var h=0,o=0;o<4&&r<i&&dz.test(t[r]);)h=h<<4|C(t[r],16),r+=1,o+=1;if("."===t[r]){if(0===o)throw new k;if(r-=o,s>6)throw new k;for(var a=0;r<i;){var u=null;if(a>0){if(!("."===t[r]&&a<4))throw new k;r+=1}if(!lz.test(t[r]))throw new k;for(;r<i&&lz.test(t[r]);){var c=C(t[r],10);if(null===u)u=c;else{if(0===u)throw new k;if((u=10*u+c)>255)throw new k}r+=1}e[s]=e[s]<<8|u,2!==(a+=1)&&4!==a||(s+=1)}if(4!==a)throw new k;break}if(":"===t[r]){if((r+=1)===i)throw new k}else if(r<i)throw new k;e[s]=h,s+=1}else{if(null!==n)throw new k("Too many :: groups");r+=1,n=s+=1}}if(null!==n){var l=s-n;for(s=7;0!==s&&l>0;)yz(e,s,n+l-1),s-=1,l-=1}else if(8!==s)throw new k;return e}function dP(t){var i=10,e=_z;return fz.test(t)?(t=t.slice(2),i=16,e=gz):t.length>=2&&"0"===t[0]&&(t=t.slice(1),i=8,e=wz),""===t?0:e.test(t)?C(t,i):void 0}var mn={v0:4},fP=/[\0\t\n\r #%/:?@\[\\\]]/,_P=/[\0\t\n\r #/:?@\[\\\]]/;function gP(t,i){if("["===t[0]){if("]"!==t[t.length-1])throw new k("Invalid IPv6 address");return{v0:2,G7:lP(t.slice(1,-1))}}if(!i)return function(t){if(_P.test(t))throw new k("Invalid code point in opaque host");var i=aP(t,iP);return""===i?mn:{v0:3,Fk:i}}(t);var e=function(t){var i=function(t){return Hz(t.toLowerCase())}(t);return i}(cP(t));if(fP.test(e))throw new k("Invalid code point in host");var s=function(t){var i=t.split(".");if(""===i[i.length-1]&&i.pop(),!(i.length>4)){for(var e=[],s=0;s<i.length;s++){var n=i[s];if(""===n)return;var r=dP(n);if(void 0===r)return;e.push(r)}for(var h=0;h<e.length-1;h++)if(e[h]>255)throw new k;if(e[e.length-1]>=x.pow(256,5-e.length))throw new k;for(var o=e.pop(),a=0;a<e.length;a++)o+=e[a]*x.pow(256,3-a);return o}}(e);return void 0!==s?{v0:1,G7:s}:""===e?mn:{v0:0,V7:e}}function wP(t){switch(t.v0){case 0:return t.V7;case 1:return function(t){for(var i=[],e=t,s=1;s<=4;s++)i.push(""+(255&e)),4!==s&&i.push("."),e>>>=8;return i.reverse().join("")}(t.G7);case 2:return"["+function(t){for(var i="",e=function(t){for(var i=0,e=0,s=0,n=0,r=0;r<8;r++)0===t[r]?(0===n&&(s=r),n++):(n>e&&(i=s,e=n),n=0);return n>e&&(i=s,e=n),e>1?i:null}(t),s=!1,n=0;n<8;n++){if(s){if(0===t[n])continue;s=!1}e!==n?(i+=t[n].toString(16),7!==n&&(i+=":")):(i+=0===n?"::":":",s=!0)}return i}(t.G7)+"]";case 3:return t.Fk;case 4:return""}}var AP=/\+/g;function vP(t){return 42===t||45===t||46===t||95===t||Dz(t)}function mP(t){for(var i=t.split("&"),e=[],s=0;s<i.length;s++){var n=i[s];if(""!==n){var r=n.indexOf("="),h=void 0,o=void 0;-1!==r?(h=n.slice(0,r),o=n.slice(r+1)):(h=n,o=""),h=h.replace(AP," "),o=o.replace(AP," ");var a=cP(h),u=cP(o);e.push([a,u])}}return e}function pP(t){for(var i="",e=0;e<t.length;e++){var s=t[e];e>0&&(i+="&"),i+=yP(Kz(Qz(s[0])))+"="+yP(Kz(Qz(s[1])))}return i}function yP(t){for(var i=[],e=0;e<t.length;e++){var s=t[e];32===s?i.push(43):vP(s)?i.push(s):i.push.apply(i,tP(s))}return xz(i)}var MP=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Dc(t){var i=""+t,e=MP.exec(i);return e?function(t,i){for(var e=t.length,s=[],n=i;n<e;n++){var r=t.charCodeAt(n);if(NP(r))if(DP(r)||n===e-1)s.push(TP);else{var h=t.charCodeAt(n+1);DP(h)?(s.push(r,h),n++):s.push(TP)}else s.push(r)}return t.slice(0,i)+xz(s)}(i,e.index):i}var TP=65533,NP=function(t){return 55296==(63488&t)},DP=function(t){return 0!=(1024&t)};function IP(t,i){var e=t[0],s=i[0];return e===s?0:e<s?-1:1}function SP(t){t.W7.length=0}function EP(t,i){!function(t,i){for(var e=0;e<i.length;e++)t[e]=i[e];t.length=i.length}(t.W7,mP(i))}function bP(t){if(t.Ju){var i=pP(t.W7);""===i&&(i=null),t.Ju.Ju.H7=i}}var LP=function(){function t(t){if(void 0===t&&(t=void 0),this.Ju=null,null==t)this.W7=[];else if("object"==typeof t||"function"==typeof t)if(function(t){return t instanceof LP&&!!vz(t.W7)&&(!mz||t[Symbol.iterator]===kP)}(t))this.W7=t.W7.slice();else if(function(t){return null!=t&&(!!vz(t)||!!mz&&"function"==typeof t[Symbol.iterator])}(t)){this.W7=[];for(var i=0,e=pz(t);i<e.length;i++){var s=pz(e[i]);if(2!==s.length)throw new k("Invalid name-value pair");this.W7.push([Dc(s[0]),Dc(s[1])])}}else for(var n in this.W7=[],t)_.prototype.hasOwnProperty.call(t,n)&&this.W7.push([Dc(n),Dc(t[n])]);else(t=Dc(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.W7=mP(t)}var i=t.prototype;return i.append=function(t,i){t=Dc(t),i=Dc(i),this.W7.push([t,i]),bP(this)},i.delete=function(t){t=Dc(t);for(var i=this.W7,e=0;e<i.length;){i[e][0]===t?i.splice(e,1):e++}bP(this)},i.get=function(t){t=Dc(t);for(var i=this.W7,e=0;e<i.length;e++){var s=i[e];if(s[0]===t)return s[1]}return null},i.getAll=function(t){t=Dc(t);for(var i=this.W7,e=[],s=0;s<i.length;s++){var n=i[s];n[0]===t&&e.push(n[1])}return e},i.has=function(t){t=Dc(t);for(var i=this.W7,e=0;e<i.length;e++){if(i[e][0]===t)return!0}return!1},i.set=function(t,i){t=Dc(t),i=Dc(i);for(var e=this.W7,s=!1,n=0;n<e.length;){var r=e[n];r[0]===t?s?e.splice(n,1):(r[1]=i,s=!0,n++):n++}s||e.push([t,i]),bP(this)},i.sort=function(){az(this.W7,IP),bP(this)},i.toString=function(){return pP(this.W7)},i.entries=function(){return new jP(this.W7,CP)},i.keys=function(){return new jP(this.W7,xP)},i.values=function(){return new jP(this.W7,OP)},i.forEach=function(t){var i=this;this.W7.forEach((function(e){return t(e[1],e[0],i)}))},t}(),kP=LP.prototype.entries;mz&&(LP.prototype[Symbol.iterator]=kP);var CP=function(t){return[t[0],t[1]]},xP=function(t){return t[0]},OP=function(t){return t[1]},jP=function(){function t(t,i){this.q7=0,this.W7=t,this.X7=i}return t.prototype.next=function(){return this.q7<this.W7.length?{done:!1,value:this.X7(this.W7[this.q7++])}:{done:!0,value:void 0}},t}(),zP="null";var Hs=_.create(null);Hs.ftp=21,Hs.file=0,Hs.gopher=70,Hs.http=80,Hs.https=443,Hs.ws=80,Hs.wss=443;var PP=/^(?:\.|%2e)$/i,BP=/^(?:\.|%2e){2}$/i;function RP(t){return PP.test(t)}function UP(t){return BP.test(t)}function QP(t){return void 0!==Hs[t]}function sl(t){return QP(t.Z7)}function FP(t){return""!==t.K7||""!==t.J7}function YP(t){var i=t.length;if(!(i>=2))return!1;if(!VP(t.slice(0,2)))return!1;if(2!==i){var e=t[2];if(47!==e&&92!==e&&63!==e&&35!==e)return!1}return!0}function GP(t){return 2===t.length&&cz.test(t[0])&&(":"===t[1]||"|"===t[1])}function VP(t){return 2===t.length&&GP(xz(t))}function WP(t){return GP(t)&&":"===t[1]}function HP(t){var i=t.ttt;0!==i.length&&("file"===t.Z7&&1===i.length&&WP(i[0])||i.pop())}function qP(t){return null===t.itt||mn===t.itt||t.ett||"file"===t.Z7}var fi=-1,XP=/\t|\n|\r/g,ZP=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function KP(t,i,e,s){void 0===e&&(e=null),void 0===s&&(s=null),e||(e=new $P,t=t.replace(ZP,""));var n=null!==s?s:0;i=i||null;for(var r=[],h=!1,o=!1,a=!1,u=Qz(t=t.replace(XP,"")),c=u.length,l=0;l<=c;){var d=l<c?u[l]:fi;switch(n){case 0:if(!Tz(d)){if(null===s){r.length=0,n=2;continue}throw new k("Invalid scheme")}r.push(Sz(d)),n=1;break;case 1:if(Dz(d)||43===d||45===d||46===d)r.push(Sz(d));else{if(58!==d){if(null===s){r.length=0,n=2,l=0;continue}throw new k("Invalid scheme")}var f=wi(r);if(null!==s){if(QP(e.Z7)&&!QP(f))return;if(!QP(e.Z7)&&QP(f))return;if((FP(e)||null!==e.c8)&&"file"===f)return;if("file"===e.Z7&&(e.itt===mn||null===e.itt))return}if(e.Z7=f,null!==s)return void(sl(e)&&e.c8===Hs[e.Z7]&&(e.c8=null));r.length=0,"file"===e.Z7?n=13:sl(e)&&i&&i.Z7===e.Z7?n=3:sl(e)?n=7:47===u[l+1]?(n=4,l+=1):(e.ett=!0,e.ttt.push(""),n=18)}break;case 2:if(!i||i.ett&&35!==d)throw new k("Invalid scheme");i.ett&&35===d?(e.Z7=i.Z7,e.ttt=i.ttt.slice(),e.H7=i.H7,e.stt="",e.ett=!0,n=20):"file"!==i.Z7?(n=5,l-=1):(n=13,l-=1);break;case 3:47===d&&47===u[l+1]?n=8:(n=5,l-=1);break;case 4:47===d?n=9:(n=17,l-=1);break;case 5:e.Z7=i.Z7,fi===d?(e.K7=i.K7,e.J7=i.J7,e.itt=i.itt,e.c8=i.c8,e.ttt=i.ttt.slice(),e.H7=i.H7):47===d?n=6:63===d?(e.K7=i.K7,e.J7=i.J7,e.itt=i.itt,e.c8=i.c8,e.ttt=i.ttt.slice(),e.H7="",n=19):35===d?(e.K7=i.K7,e.J7=i.J7,e.itt=i.itt,e.c8=i.c8,e.ttt=i.ttt.slice(),e.H7=i.H7,e.stt="",n=20):92===d&&sl(e)?n=6:(e.K7=i.K7,e.J7=i.J7,e.itt=i.itt,e.c8=i.c8,e.ttt=i.ttt.slice(),e.ttt.pop(),n=17,l-=1);break;case 6:!sl(e)||47!==d&&92!==d?47===d?n=9:(e.K7=i.K7,e.J7=i.J7,e.itt=i.itt,e.c8=i.c8,n=17,l-=1):n=8;break;case 7:if(47!==d||47!==u[l+1]){n=8;continue}n=8,l+=1;break;case 8:47!==d&&92!==d&&(n=9,l-=1);break;case 9:if(64===d){h&&r.unshift(37,52,48),h=!0;for(var _=0;_<r.length;_++){var g=r[_];if(58!==g||a){var w=wi(oP(g,nP));a?e.J7+=w:e.K7+=w}else a=!0}r.length=0}else if(fi===d||47===d||63===d||35===d||sl(e)&&92===d){if(h&&0===r.length)throw new k("Invalid host");l-=r.length+1,r.length=0,n=10}else r.push(d);break;case 10:case 11:if(null!==s&&"file"===e.Z7)l-=1,n=15;else if(58!==d||o)if(fi===d||47===d||63===d||35===d||sl(e)&&92===d){if(l-=1,sl(e)&&0===r.length)throw new k("Invalid host");if(null!==s&&0===r.length&&(FP(e)||null!==e.c8))return;var A=gP(wi(r),sl(e));if(e.itt=A,r.length=0,n=16,null!==s)return}else 91===d?o=!0:93===d&&(o=!1),r.push(d);else{if(0===r.length)throw new k("Invalid host");var v=gP(wi(r),sl(e));if(e.itt=v,r.length=0,n=12,11===s)return}break;case 12:if(Nz(d))r.push(d);else{if(!(fi===d||47===d||63===d||35===d||sl(e)&&92===d||null!==s))throw new k("Invalid port");if(0!==r.length){var m=C(wi(r),10);if(m>65535)throw new k("Invalid port");e.c8=m===Hs[e.Z7]?null:m,r.length=0}if(null!==s)return;n=16,l-=1}break;case 13:e.Z7="file",47===d||92===d?n=14:i&&"file"===i.Z7?fi===d?(e.itt=i.itt,e.ttt=i.ttt.slice(),e.H7=i.H7):63===d?(e.itt=i.itt,e.ttt=i.ttt.slice(),e.H7="",n=19):35===d?(e.itt=i.itt,e.ttt=i.ttt.slice(),e.H7=i.H7,e.stt="",n=20):(YP(u.slice(l))||(e.itt=i.itt,e.ttt=i.ttt.slice(),HP(e)),n=17,l-=1):(n=17,l-=1);break;case 14:47===d||92===d?n=15:(i&&"file"===i.Z7&&!YP(u.slice(l))&&(WP(i.ttt[0])?e.ttt.push(i.ttt[0]):e.itt=i.itt),n=17,l-=1);break;case 15:if(fi===d||47===d||92===d||63===d||35===d)if(l-=1,null===s&&VP(r))n=17;else if(0===r.length){if(e.itt=mn,null!==s)return;n=16}else{var p=gP(wi(r),sl(e));if(0===p.v0&&"localhost"===p.V7&&(p=mn),e.itt=p,null!==s)return;r.length=0,n=16}else r.push(d);break;case 16:sl(e)?(n=17,47!==d&&92!==d&&(l-=1)):null===s&&63===d?(e.H7="",n=19):null===s&&35===d?(e.stt="",n=20):fi!==d&&(n=17,47!==d&&(l-=1));break;case 17:if(fi===d||47===d||sl(e)&&92===d||null===s&&(63===d||35===d)){var y=wi(r);if(UP(y)?(HP(e),47===d||sl(e)&&92===d||e.ttt.push("")):!RP(y)||47===d||sl(e)&&92===d?RP(y)||("file"===e.Z7&&0===e.ttt.length&&VP(r)&&(mn!==e.itt&&null!==e.itt&&(e.itt=mn),r[1]=58,y=wi(r)),e.ttt.push(y)):e.ttt.push(""),r.length=0,"file"===e.Z7&&(fi===d||63===d||35===d))for(;e.ttt.length>1&&""===e.ttt[0];)e.ttt.shift();63===d?(e.H7="",n=19):35===d&&(e.stt="",n=20)}else r.push.apply(r,oP(d,sP));break;case 18:63===d?(e.H7="",n=19):35===d?(e.stt="",n=20):fi!==d&&(e.ttt[0]+=wi(oP(d,iP)));break;case 19:null===s&&35===d?(e.stt="",n=20):fi!==d&&(e.H7+=wi(oP(d,sl(e)?hP:rP)));break;case 20:fi===d||0===d||(e.stt+=wi(oP(d,eP)))}l++}return e}function JP(t,i,e,s){try{KP(t,i,e,s)}catch(t){}}var $P=function(){this.Z7="",this.K7="",this.J7="",this.itt=null,this.c8=null,this.ttt=[],this.H7=null,this.stt=null,this.ett=!1};function tB(t){switch(t.Z7){case"blob":var i;try{i=KP(t.ttt[0],null)}catch(t){return zP}return tB(i);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return function(t,i,e){return t+"://"+wP(i)+(null===e?"":":"+e)}(t.Z7,t.itt,t.c8);default:return zP}}var iB=function(){function t(t,i){var e,s=null;if(null!=i)if(function(t){return null!=t&&t instanceof iB&&"object"==typeof t.Ju}(i))s=i.Ju;else try{s=KP(String(i),null)}catch(t){throw new k("Invalid base URL: "+t.message)}try{e=KP(String(t),s)}catch(t){throw new k("Invalid URL: "+t.message)}var n=e.H7;this.Ju=e,this.H7=function(t){var i=new LP;return null!==t&&EP(i,t),i}(n),this.H7.Ju=this}var i=t.prototype;return i.toString=function(){return this.href},i.toJSON=function(){return this.href},function(t,i,e){i&&oz(t.prototype,i),e&&oz(t,e)}(t,[{key:"href",get:function(){return function(t,i){void 0===i&&(i=!1);var e=t.Z7+":";if(null!==t.itt?(e+="//",FP(t)&&(e+=t.K7,""!==t.J7&&(e+=":"+t.J7),e+="@"),e+=wP(t.itt),null!==t.c8&&(e+=":"+t.c8)):null===t.itt&&"file"===t.Z7&&(e+="//"),t.ett)e+=t.ttt[0];else for(var s=0,n=t.ttt;s<n.length;s++)e+="/"+n[s];return null!==t.H7&&(e+="?"+t.H7),i||null===t.stt||(e+="#"+t.stt),e}(this.Ju)},set:function(t){var i;try{i=KP(String(t),null)}catch(t){throw new k("Invalid URL: "+t.message)}this.Ju=i,SP(this.H7);var e=this.Ju.H7;null!==e&&EP(this.H7,e)}},{key:"origin",get:function(){return tB(this.Ju)}},{key:"protocol",get:function(){return this.Ju.Z7+":"},set:function(t){JP(t+":",null,this.Ju,0)}},{key:"username",get:function(){return this.Ju.K7},set:function(t){qP(this.Ju)||(this.Ju.K7=aP(t,nP))}},{key:"password",get:function(){return this.Ju.J7},set:function(t){qP(this.Ju)||(this.Ju.J7=aP(t,nP))}},{key:"host",get:function(){var t=this.Ju,i=t.itt;if(null===i)return"";var e=t.c8,s=wP(i);return null!==e&&(s+=":"+e),s},set:function(t){this.Ju.ett||JP(t,null,this.Ju,10)}},{key:"hostname",get:function(){var t=this.Ju.itt;return null===t?"":wP(t)},set:function(t){this.Ju.ett||JP(t,null,this.Ju,11)}},{key:"port",get:function(){var t=this.Ju.c8;return null===t?"":""+t},set:function(t){qP(this.Ju)||(""===t?this.Ju.c8=null:JP(t,null,this.Ju,12))}},{key:"pathname",get:function(){var t=this.Ju.ttt;return this.Ju.ett?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Ju.ett||(this.Ju.ttt.length=0,JP(t,null,this.Ju,16))}},{key:"search",get:function(){var t=this.Ju.H7;return null===t||""===t?"":"?"+t},set:function(t){t=Dc(t);var i=this.Ju;if(""===t)return i.H7=null,void SP(this.H7);"?"===t[0]&&(t=t.slice(1)),i.H7="",JP(t,null,i,19),EP(this.H7,t)}},{key:"searchParams",get:function(){return this.H7}},{key:"hash",get:function(){var t=this.Ju.stt;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Ju.stt="",JP(t,null,this.Ju,20)):this.Ju.stt=null}}]),t}();function eB(t){return t.document&&t.document.baseURI||t.location.href||""}function sB(){let t=Ys,i=t.location.href;for(;t!==s.top;){t=t.parent;try{i=t.location.href}catch(t){}}return i}r(),r(),r(),r(),r();var nB=!!("ontouchstart"in self||self.DocumentTouch&&h instanceof self.DocumentTouch)||!(!sd||!sd.msMaxTouchPoints),rB=Ve(),hB=!(!rB||!rB.webkitShowPlaybackTargetPicker),oB=class{get ntt(){return void 0===this.htt&&(this.htt=this.ott()),this.htt}ott(){return 0}get att(){return!Zt.Jb}get utt(){if(s.screen)return{width:s.screen.width,height:s.screen.height}}get B4(){return s.devicePixelRatio||1}get ctt(){return hB}get m4(){return!1}get d4(){return!0}get _A(){return Zt.Fb||Zt.Ga}get ltt(){return!Zt.Ga}get Pj(){return!0}get wA(){return!0}get gA(){return!1}get dtt(){}get ftt(){return!0}get pJ(){return!1}get _tt(){return!1}get gtt(){return Zt.Eb}wtt(t,i){return!0}Att(t){return t>=2*kc}constructor(){this.htt=void 0,this.mtt=!1,this.Je=nB,this.Qs=!1,this.i9=!0}};r();var aB=function(){const t=sD();if(!t)return!1;const i=t.muted;return t.muted=!i,t.muted!==i}(),uB=function(){if(Zt.HE)return!1;const t=sD();if(!t)return!1;const i=t.volume;return t.volume=i/2+.1,i!==t.volume}();var U=class extends oB{ott(){return this.ptt?this.ptt.ntt:super.ott()}get dtt(){var t;return null==(t=this.ptt)?void 0:t.dtt}get ftt(){var t,i;return null==(i=null==(t=this.ptt)?void 0:t.ftt)||i}wtt(t,i){return this.ptt?this.ptt.wtt(t,i):super.wtt(t,i)}Att(t){return this.ptt?this.ptt.Att(t):super.Att(t)}constructor(t){super(),this.ptt=t,this.ptt&&(this.mtt=this.ptt.mtt,this.Je=this.ptt.Je,this.i9=aB&&this.ptt.i9)}},cB=class extends U{get gA(){return Zt.Ga}constructor(t){super(t),this.mtt=!0,this.Qs=!0}},lB=class extends cB{get gA(){return!0}ott(){return Ok(!0)?super.ott():1}};r();var dB=class extends U{get m4(){return Zt.Nb<3}get d4(){return Zt.Nb>=3}get utt(){return s.tizen&&!this.ytt&&s.tizen.systeminfo.getPropertyValue("DISPLAY",(t=>{const i=t.resolutionWidth,e=t.resolutionHeight;1===i&&1===e||(this.ytt={width:i,height:e})})),this.ytt}get pJ(){return Zt.Nb<3}get _tt(){return!0}wtt(t,i){return super.wtt(t,i)}};r();var L=class extends oB{constructor(){super()}};r();var fB=class extends L{get dtt(){if(Zt.kE)return 4096}wtt(t,i){if(t&&t.Mtt&&i&&i.Mtt){let e=q(t.Mtt,"mp4a.40.2")&&q(i.Mtt,"mp4a.40.5"),s=q(t.Mtt,"mp4a.40.5")&&q(i.Mtt,"mp4a.40.2"),n=q(t.Mtt,"mp4a.40.2")&&q(i.Mtt,"mp4a.40.34"),r=q(t.Mtt,"mp4a.40.34")&&q(i.Mtt,"mp4a.40.2"),h=q(t.Mtt,"mp4a.40.5")&&q(i.Mtt,"mp4a.40.34"),o=q(t.Mtt,"mp4a.40.34")&&q(i.Mtt,"mp4a.40.5");return!(e||s||n||r||h||o)}return!0}};function q(t,i){return t.indexOf(i)>-1}r();var _B=class extends L{Att(t){return t>=2}};r();var gB=class extends L{constructor(){super(),this.mtt=Zt.Gb>=11,this.i9=Zt.Fb&&!(Zt.Ga&&Zt.Gb<10)}};r();var wB=class extends U{get utt(){return s.webOS&&!this.ytt&&s.webOS.deviceInfo((t=>{this.ytt={width:t.screenWidth,height:t.screenHeight}})),this.ytt}get Pj(){return!1}get _tt(){return!0}};r();var AB=class extends L{get ftt(){return!Zt.xE||(Zt.vb?92!==Zt.pb:Zt.wb>=100)}};r();var vB=class extends U{get gA(){return!0}},mB=class{Ttt(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];Vu(...i)}Pv(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];Bi(...i)}Ntt(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];oc(...i)}Dtt(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];iE(t,...e)}g_(t,i){return u(t,i)}s$(t,i){return v(t,i)}__(t){c(t)}r$(t){m(t)}zx(){return this.Itt.zx()}bx(){return this.Itt.bx()}kx(){return this.Itt.kx()}Lx(){return this.Itt.Lx()}Sx(){return this.Itt.Sx()}xx(t,i){return this.Itt.xx(t,i)}Ex(t){return this.Itt.Ex(t)}get bj(){return this.Stt}Dh(t,i){let e;return void 0===i&&(i=eB(Ys)),e="object"!=typeof i||i instanceof iB?i:i.href,new iB(t,e)}zv(t,i){if(void 0===i&&(i=eB(Ys)),this.Ett){const e=ae(i)?i:i.toString();return new self.URL(t,e).href}return this.Dh(t,i).href}get Ys(){return this.btt}get vA(){return{AA:sd&&sd.userAgent.match(/Android /i)?"Android":"other",mA:Boolean(sd&&sd.userAgent.match(/Android 8.0.0/i))}}get rV(){return self&&self.location&&"https:"===self.location.protocol}get Ltt(){return"languages"in sd?sd.languages.slice():[sd.language]}constructor(){this.Stt=new pB,this.btt=function(){const t=function(){if(Zt.Bb)return new fB;if(Zt.Lb||Zt.Cb)return new _B;if(Zt.Fb)return new gB;if(Zt._b)return new AB;return new L}();return Zt.Ga?new lB(t):Zt.Qs?new cB(t):Zt.Mb?new dB(t):Zt.Ib?new wB(t):Zt.kE?new vB(t):new U(t)}(),this.Ett=function(){if(self.URL)try{const t=new self.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href}catch(t){}return!1}(),self.performance&&self.performance.now?this.f_=()=>self.performance.now():this.f_=Qo}},pB=class{get Lj(){return sd.oscpu}get Ys(){return sd.platform}get Cj(){return sd.vendor}get xj(){return sd.vendorSub}};r(),r();var yB=(()=>{const t=self.Blob;if(t)try{new t;return function(t){return(i,e)=>new t(i,e)}(t)}catch(t){}const i=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;if(i)return function(t){return(i,e)=>{const s=new t;if(i)for(const t of i)s.append(t);return s.getBlob(e&&e.type||"")}}(i)})();function MB(t,i,e){const s=yB([i],{type:"application/octet-stream"}),n=URL.createObjectURL(s),r=function(t,i){let e=t;const s=e.indexOf("?");if(s>=0&&(e=e.substr(0,s)),e=e.substr(e.lastIndexOf("/")+1),i){let t=e.indexOf(".");t<0&&(t=e.length),e=e.substr(0,t)+i+e.substr(t)}return e}(t,e),o=h.createElement("a");o.href=n,o.download=r,h.body.appendChild(o),o.click(),h.body.removeChild(o),URL.revokeObjectURL(n)}r(),r(),r();var TB=class extends Xt{get name(){return bs.wS}constructor(t,i){super(t,function(t){return"Error while opening "+t+". Invalid URL."}(t.zu),i)}};r();var NB=function(t,i){return(NB=_.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)};function DB(t,i){function e(){this.constructor=t}NB(t,i),t.prototype=null===i?_.create(i):(e.prototype=i.prototype,new e)}var be="object"==typeof s?s:"object"==typeof self?self:"object"==typeof global?global:null;var IB=function(){var t=be.Blob;if(t)try{return new t,function(t,i){return new be.Blob(t,i)}}catch(t){}var i=be.BlobBuilder||be.WebKitBlobBuilder||be.MozBlobBuilder||be.MSBlobBuilder;return i?function(t){return function(i,e){var s=new t;if(i)for(var n=0,r=i;n<r.length;n++){var h=r[n];s.append(h)}return s.getBlob(e&&e.type||"")}}(i):null}(),Cr="function"==typeof f?f:void 0;function SB(t){return t&&"function"==typeof t.getReader}function EB(t){if("function"!=typeof t)return!1;try{var i=!1,e=new t({start:function(){i=!0}});return!!i&&SB(e)}catch(t){return!1}}var bB=function(){function t(t,i){this.Nd=t,this.ktt=i}return t.prototype.pull=function(t){var i=this;return this.Nd.read().then((function(e){i.ktt&&i.ktt(e),e.done?t.close():t.enqueue(e.value)}))},t.prototype.cancel=function(t){return this.Nd.cancel(t)},t}();function LB(t,i){return i.constructor===t?i:new t(new bB(i.getReader()),{highWaterMark:0})}var kB=function(){function t(t,i){this.Ctt=t,this.xtt=i}return t.prototype.pull=function(t){return this.Ctt().then((function(i){t.enqueue(new T(i)),t.close()}))},t.prototype.cancel=function(t){this.xtt&&this.xtt(t)},t}();function CB(t,i,e){return new t(new kB(i,e),{highWaterMark:0})}var It={searchParams:"URLSearchParams"in be,iterable:"Symbol"in be&&"iterator"in Symbol,blob:"FileReader"in be&&!!IB,formData:"FormData"in be,arrayBuffer:"ArrayBuffer"in be,stream:EB(Cr),streamRequest:"Request"in be&&"body"in be.Request.prototype,streamResponse:"Response"in be&&"body"in be.Response.prototype,abort:"AbortController"in be&&"Request"in be&&"signal"in be.Request.prototype,encoding:"TextEncoder"in be&&"TextDecoder"in be,url:"URL"in be&&function(t){try{return new be.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in be&&/Firefox\//.test(be.navigator.userAgent)};function xB(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new k("Invalid character in header field name");return t}function OB(t){return"string"!=typeof t&&(t=String(t)),t}function jB(t){var i={next:function(){var i=t.shift();return{done:void 0===i,value:i}}};return It.iterable&&(i[Symbol.iterator]=function(){return i}),i}var zB=function(){function t(t){var i=this;this.Kf={};var e=function(t,e){Array.isArray(t)&&2===t.length?i.append(t[0],t[1]):i.append(e,t)};!function(t){return t&&"function"==typeof t.forEach}(t)?!function(t){return It.iterable&&t&&t[Symbol.iterator]}(t)?t&&_.getOwnPropertyNames(t).forEach((function(e){i.append(e,t[e])})):Array.from(t).forEach(e):t.forEach(e)}return t.prototype.append=function(t,i){t=xB(t),i=OB(i);var e=t.toLowerCase();if(this.Kf.hasOwnProperty(e)){var s=this.Kf[e],n=s[1];s[1]=n?n+", "+i:i}else this.Kf[e]=[t,i]},t.prototype.delete=function(t){var i=xB(t).toLowerCase();delete this.Kf[i]},t.prototype.get=function(t){var i=xB(t).toLowerCase();return this.Kf.hasOwnProperty(i)?this.Kf[i][1]:null},t.prototype.has=function(t){var i=xB(t).toLowerCase();return this.Kf.hasOwnProperty(i)},t.prototype.set=function(t,i){var e=(t=xB(t)).toLowerCase();this.Kf[e]=[t,OB(i)]},t.prototype.forEach=function(t,i){for(var e in this.Kf)this.Kf.hasOwnProperty(e)&&t.call(i,this.Kf[e][1],e,this)},t.prototype.keys=function(){var t=[];return this.forEach((function(i,e){t.push(e)})),jB(t)},t.prototype.values=function(){var t=[];return this.forEach((function(i){t.push(i)})),jB(t)},t.prototype.entries=function(){var t=[];return this.forEach((function(i,e){t.push([e,i])})),jB(t)},t.prototype.asList=function(){var t=[];for(var i in this.Kf)if(this.Kf.hasOwnProperty(i)){var e=this.Kf[i],s=e[0],n=e[1];t.push([s,n])}return t},t}();function PB(){}It.iterable&&(zB.prototype[Symbol.iterator]=zB.prototype.entries);var BB,RB,UB,QB=x.min,FB=String.fromCharCode,YB=16384;function GB(t){for(var i=[],e=0,s=t;e<s.length;e++){var n=s[e];n>65535&&(n-=65536,i.push(n>>>10&1023|55296),n=56320|1023&n),i.push(n)}return function(t){for(var i=t.length,e=[],s=0;s<i;s+=YB){var n=QB(s+YB,i);e.push(FB.apply(null,t.slice(s,n)))}return e.join("")}(i)}function VB(t){if(t>=55296&&t<=57343)throw new b("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function WB(t,i){return t>>i&63|128}function HB(t,i){0!=(4294967168&t)?(0==(4294965248&t)?i.push(t>>6&31|192):0==(4294901760&t)?(VB(t),i.push(t>>12&15|224),i.push(WB(t,6))):0==(4292870144&t)&&(i.push(t>>18&7|240),i.push(WB(t,12)),i.push(WB(t,6))),i.push(63&t|128)):i.push(t)}function qB(){if(UB>=RB)throw new b("Invalid byte index");var t=255&BB[UB];if(UB++,128==(192&t))return 63&t;throw new b("Invalid continuation byte")}function XB(){var t,i;if(UB>RB)throw new b("Invalid byte index");if(UB===RB)return!1;if(t=255&BB[UB],UB++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|qB())>=128)return i;throw new b("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|qB()<<6|qB())>=2048)return VB(i),i;throw new b("Invalid continuation byte")}if(240==(248&t)&&(i=(7&t)<<18|qB()<<12|qB()<<6|qB())>=65536&&i<=1114111)return i;throw new b("Invalid UTF-8 detected")}var ZB=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function KB(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function JB(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function $B(t){return t&&DataView.prototype.isPrototypeOf(t)}var bo,tR=ArrayBuffer.isView||function(t){return t&&(ZB.indexOf(_.prototype.toString.call(t))>-1||$B(t))};function iR(t){if(t.bodyUsed)return Promise.reject(new k("Already used"));t.bodyUsed=!0}function eR(t){return new Promise((function(i,e){t.onload=function(){i(t.result)},t.onerror=function(){e(t.error)}}))}function sR(t){return It.encoding?new be.TextDecoder("utf-8").decode(new T(t)):GB(function(t){RB=(BB=t).length,UB=0;for(var i,e=[];!1!==(i=XB());)e.push(i);return e}(new T(t)))}function nR(t){return It.encoding?(new be.TextEncoder).encode(t).buffer:new T(function(t){for(var i=[],e=0,s=t;e<s.length;e++)HB(s[e],i);return i}(function(t){for(var i=[],e=0,s=t.length;e<s;){var n=t.charCodeAt(e++);if(n>=55296&&n<=56319&&e<s){var r=t.charCodeAt(e++);56320==(64512&r)?i.push(((1023&n)<<10)+(1023&r)+65536):(i.push(n),e--)}else i.push(n)}return i}(t))).buffer}function rR(t){var i=t.getReader(),e=[],s=function(t){var n=t.done,r=t.value;return n?Promise.resolve(e):(e.push(r),i.read().then(s))};return i.read().then(s)}function hR(t){return rR(t).then((function(t){return function(t){for(var i=0,e=0,s=t;e<s.length;e++)i+=(a=s[e]).byteLength;for(var n=new T(i),r=0,h=0,o=t;h<o.length;h++){var a=o[h];n.set(a,r),r+=a.byteLength}return n}(t).buffer}))}function oR(t){return t.slice?t.slice(0):aR(new T(t))}function aR(t){if(t.slice)return t.slice(0).buffer;var i=new T(t.byteLength);return i.set(new T(t.buffer,t.byteOffset,t.byteLength)),i.buffer}function uR(t){var i=new FormData;return t.trim().split("&").forEach((function(t){if(t){var e=t.split("="),s=e.shift().replace(/\+/g," "),n=e.join("=").replace(/\+/g," ");i.append(decodeURIComponent(s),decodeURIComponent(n))}})),i}function cR(t){var i=t;if(i.bodyUsed)throw new k("Already used");if(i.Ott===bo.jtt){if(!i.ztt.tee)throw new b("could not clone ReadableStream body");var e=i.ztt.tee(),s=e[0],n=e[1];return i.body=s,i.ztt=s,i.Ptt=s,n}return i.Ott===bo.OS?oR(i.ztt):i.Ott===bo.zG?i.ztt.then(cR):i.Ptt}!function(t){t[t.Ru=0]="Ru",t[t.Btt=1]="Btt",t[t.Rtt=2]="Rtt",t[t.OS=3]="OS",t[t.jtt=4]="jtt",t[t.zG=5]="zG"}(bo||(bo={}));var lR=function(){function t(i,e){this.bodyUsed=!1;var s=this;if(this.Ptt=i||null,i)if("string"==typeof i)this.Ott=bo.Ru,this.ztt=i;else if(function(t){return t&&"function"==typeof t.then}(i))this.Ott=bo.zG,this.ztt=Promise.resolve(i).then((function(i){return new t(i,e)})),this.ztt.catch(PB);else if(It.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(i))this.Ott=bo.Btt,this.ztt=i;else if(It.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(i))this.Ott=bo.Rtt,this.ztt=i;else if(It.searchParams&&KB(i))this.Ott=bo.Ru,this.ztt=i.toString();else if(It.arrayBuffer&&(JB(i)||tR(i)))$B(i)&&(this.Ptt=function(t){return new T(t.buffer,t.byteOffset,t.byteLength)}(i)),this.Ott=bo.OS,this.ztt=function(t){return JB(t)?oR(t):aR(t)}(i);else{if(!It.stream||!SB(i))throw new b("unsupported BodyInit type");i=LB(Cr,i),this.Ott=bo.jtt,this.ztt=i,this.Ptt=i}else this.Ott=bo.Ru,this.ztt="";this.Utt="",e.has("content-type")?this.Utt=(e.get("content-type")||"").toLowerCase():("string"==typeof i?this.Utt="text/plain;charset=UTF-8":s.Ott===bo.Btt&&s.ztt.type?this.Utt=s.ztt.type:It.searchParams&&KB(i)&&(this.Utt="application/x-www-form-urlencoded;charset=UTF-8"),this.Utt&&e.set("content-type",this.Utt)),It.stream&&(null==i?this.body=null:s.Ott===bo.jtt?this.body=s.ztt:this.body=CB(Cr,(function(){return s.arrayBuffer()}),(function(){s.bodyUsed=!0})))}return t.prototype.text=function(){var t=this,i=iR(t);return i||(t.Ott===bo.Btt?function(t){var i=new FileReader,e=eR(i);return i.readAsText(t),e}(t.ztt):t.Ott===bo.OS?Promise.resolve(t.ztt).then(sR):t.Ott===bo.jtt?function(t){return hR(t).then(sR)}(t.ztt):t.Ott===bo.zG?t.ztt.then((function(t){return t.text()})):t.Ott===bo.Rtt?Promise.reject(new b("could not read FormData body as text")):Promise.resolve(t.ztt))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();It.blob&&(lR.prototype.blob=function(){var t=this,i=iR(t);return i||(t.Ott===bo.Btt?Promise.resolve(t.ztt):t.Ott===bo.OS?Promise.resolve(IB([t.ztt],{type:t.Utt})):t.Ott===bo.jtt?function(t,i){return rR(t).then((function(t){return IB(t,{type:i||""})}))}(t.ztt,t.Utt):t.Ott===bo.zG?t.ztt.then((function(t){return t.blob()})):t.Ott===bo.Rtt?Promise.reject(new b("could not read FormData body as Blob")):Promise.resolve(IB([t.ztt],{type:t.Utt})))}),It.arrayBuffer&&(lR.prototype.arrayBuffer=function(){var t=this;return t.Ott===bo.OS?iR(t)||Promise.resolve(t.ztt):t.Ott===bo.Btt?iR(t)||function(t){var i=new FileReader,e=eR(i);return i.readAsArrayBuffer(t),e}(t.ztt):t.Ott===bo.jtt?hR(t.ztt):t.Ott===bo.zG?iR(t)||t.ztt.then((function(t){return t.arrayBuffer()})):t.Ott===bo.Rtt?Promise.reject(new b("could not read FormData body as ArrayBuffer")):Promise.resolve(t.ztt).then(nR)}),It.formData&&(lR.prototype.formData=function(){var t=this;return t.Ott===bo.Rtt?iR(t)||Promise.resolve(t.ztt):t.text().then(uR)});var dR=[301,302,303,307,308],fR=function(t){function i(i,e){var s=this,n=new zB((e=e||{}).headers);return(s=t.call(this,i||null,n)||this).type="default",s.status=void 0===e.status?200:e.status,s.ok=s.status>=200&&s.status<300,s.statusText=void 0!==e.statusText?String(e.statusText):"",s.headers=n,s.url=e.url||"",s}return DB(i,t),i.prototype.clone=function(){return new i(cR(this),{status:this.status,statusText:this.statusText,headers:new zB(this.headers),url:this.url})},i.error=function(){var t=new i(null,{status:0,statusText:""});return t.type="error",t},i.redirect=function(t,e){if(-1===dR.indexOf(e))throw new RangeError("Invalid status code");return new i(null,{status:e,headers:{location:t}})},i}(lR);var _R=function(t,i){return t(i={exports:{}},i.exports),i.exports}((function(t,i){function e(t,i){if(!(t instanceof i))throw new k("Cannot call a class as a function")}function s(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),_.defineProperty(t,s.key,s)}}function n(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),t}function r(t){return(r=_.setPrototypeOf?_.getPrototypeOf:function(t){return t.__proto__||_.getPrototypeOf(t)})(t)}function o(t,i){return(o=_.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,i,e){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,i,e){var s=function(t,i){for(;!_.prototype.hasOwnProperty.call(t,i)&&null!==(t=r(t)););return t}(t,i);if(s){var n=_.getOwnPropertyDescriptor(s,i);return n.get?n.get.call(e):n.value}},c(t,i,e||t)}_.defineProperty(i,"__esModule",{value:!0});var l=function(){function t(){e(this,t),_.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(t,i){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(i)}},{key:"removeEventListener",value:function(t,i){if(t in this.listeners)for(var e=this.listeners[t],s=0,n=e.length;s<n;s++)if(e[s]===i)return void e.splice(s,1)}},{key:"dispatchEvent",value:function(t){var i=this;if(t.type in this.listeners){for(var e=function(e){u((function(){return e.call(i,t)}))},s=this.listeners[t.type],n=0,r=s.length;n<r;n++)e(s[n]);return!t.defaultPrevented}}}]),t}(),d=function(t){function i(){var t;return e(this,i),t=function(t,i){return!i||"object"!=typeof i&&"function"!=typeof i?a(t):i}(this,r(i).call(this)),t.listeners||l.call(a(t)),_.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),_.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,i){if("function"!=typeof i&&null!==i)throw new k("Super expression must either be null or a function");t.prototype=_.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&o(t,i)}(i,t),n(i,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(r(i.prototype),"dispatchEvent",this).call(this,t)}}]),i}(l),f=function(){function t(){e(this,t),_.defineProperty(this,"signal",{value:new d,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(i){void 0!==h?h.createEvent?(t=h.createEvent("Event")).initEvent("abort",!1,!1):(t=h.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(f.prototype[Symbol.toStringTag]="AbortController",d.prototype[Symbol.toStringTag]="AbortSignal"),i.AbortSignal=d,i.AbortController=f,i.default=f}));!function(t){t&&t.__esModule&&_.prototype.hasOwnProperty.call(t,"default")&&t.default}(_R);_R.AbortSignal;var gR=_R.AbortController,wR=be.DOMException;try{new wR}catch(g){(wR=function(t,i){b.call(this,t),this.name=i||"Error",b.captureStackTrace&&b.captureStackTrace(this,this.constructor)}).prototype=_.create(b.prototype),wR.prototype.constructor=wR}var AR=gR;function vR(t,i){if(!t.signal.aborted)if(i.aborted)t.abort();else{var e=function(){i.removeEventListener("abort",e),t.signal.removeEventListener("abort",e),t.abort()};i.addEventListener("abort",e),t.signal.addEventListener("abort",e)}}function mR(t,i,e){return new Promise((function(s,n){if(i.signal.aborted)return t.catch(PB),n(pR());var r=function(){i.signal.removeEventListener("abort",r),n(pR())};i.signal.addEventListener("abort",r),t.then((function(t){i.signal.removeEventListener("abort",r),s(t),e&&i.abort()}),(function(t){i.signal.removeEventListener("abort",r),n(t),e&&i.abort()}))}))}function pR(){return new wR("Aborted","AbortError")}var yR,MR="moz-chunked-arraybuffer";function TR(t){try{var i=new rd;return i.open("GET","https://test"),i.responseType=t,i.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(yR||(yR={}));var NR=function(){function t(t,i){var e=this;this.Qtt=!1,this.pS=t,this.Ftt=i,this.Ytt=new rd,this.Gtt=new Promise((function(t,i){e.Vtt=t,e.Wtt=i}))}return t.prototype.send=function(){var t=this;return this.Htt().then((function(i){return t.qtt(i,t.Ftt),t.Gtt}))},t.prototype.Htt=function(){var t=this.pS;return t.Ott===bo.jtt?t.arrayBuffer():Promise.resolve(t.Ptt)},t.prototype.Xtt=function(t){this.pS.onprogress&&this.pS.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Ztt=function(t){this.Wtt(t)},t.prototype.pq=function(){this.Ztt(new k("Network request failed"))},t.prototype.Ktt=function(){this.Ztt(new k("Network request failed"))},t.prototype.Jtt=function(){this.Ztt(pR())},t.prototype.qtt=function(t,i){var e=this,s=this.pS,n=this.Ytt,r=function(){return e.$tt()};if(s.signal.aborted)return this.Jtt();n.onreadystatechange=function(){if(n.readyState>=yR.HEADERS_RECEIVED&&!e.Qtt){var t=function(t){var i=new zB;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var e=t.split(":"),s=e.shift().trim();if(s){var n=e.join(":").trim();i.append(s,n)}})),i}(n.getAllResponseHeaders()||""),i={status:n.status,statusText:n.statusText,headers:t,url:n.responseURL||t.get("X-Request-URL")};e.Qtt=!0,e.tit(i)}},n.onprogress=function(t){return e.Xtt(t)},n.onload=function(){return e.iit()},n.onerror=function(){return e.pq()},n.ontimeout=function(){return e.Ktt()},n.onabort=function(){return e.Jtt()},n.open(s.method,s.url,!0),n.withCredentials="include"===s.credentials,"responseType"in n&&i&&(n.responseType=i),s.headers.forEach((function(t,i){n.setRequestHeader(i,t)})),s.signal.addEventListener("abort",r),n.onloadend=function(){s.signal.removeEventListener("abort",r)},t?n.send(t):n.send()},t.prototype.$tt=function(){this.Jtt(),this.Ytt.abort()},t}(),DR=function(t){function i(i,e){var s=t.call(this,i,e)||this;return s.eit=void 0,s.sit=void 0,s}return DB(i,t),i.prototype.tit=function(t){var i=this;this.eit=new Promise((function(t,e){i.sit=t,i.nit=e})),this.Vtt(new fR(this.eit,t))},i.prototype.iit=function(){var t=this.Ytt.response;if(null==t){var i=this.Ftt;""===i||"text"===i?t=this.Ytt.responseText:"document"===i?t=this.Ytt.responseXML:"arraybuffer"===i?t=new ArrayBuffer(0):"blob"===i&&(t=IB([]))}this.sit(t)},i.prototype.Ztt=function(i){t.prototype.Ztt.call(this,i),this.nit&&this.nit(i)},i}(NR),IR=function(t){function i(i){var e=t.call(this,i,MR)||this;return e.rit=void 0,e.hit=void 0,e.oit=!1,e}return DB(i,t),i.prototype.tit=function(t){var i=this;this.rit=new Cr({start:function(t){i.hit=t},cancel:function(){i.oit=!0,i.$tt()}}),this.Vtt(new fR(this.rit,t))},i.prototype.Xtt=function(i){this.oit||this.hit.enqueue(new T(this.Ytt.response)),t.prototype.Xtt.call(this,i)},i.prototype.iit=function(){this.hit.close()},i.prototype.Ztt=function(i){t.prototype.Ztt.call(this,i),this.hit&&!this.oit&&(this.oit=!0,this.hit.error(i))},i}(NR),SR=function(){var t=It.firefox&&TR(MR);return SR=function(){return t},t},ER=function(){var t;return t=It.arrayBuffer&&TR("arraybuffer")?"arraybuffer":It.blob&&TR("blob")?"blob":"",ER=function(){return t},t};function bR(t){return(It.stream&&SR()?new IR(t):new DR(t,ER())).send()}var LR=be.fetch,kR=be.Request,CR=(be.Response,be.AbortController);var xR=["http:","https:"];var OR=function(){try{if(It.streamRequest){var t=new kR("about:blank",{body:"",method:"POST"}).body;if(t&&EB(t.constructor))return t.constructor}}catch(t){}}();function jR(t){return(t instanceof zB?t:new zB(t)).asList()}function zR(t,i,e){var s;if(It.stream){var n=void 0;if(It.streamResponse){var r=t.body;n=r&&LB(Cr,r)}else n=CB(Cr,(function(){return mR(t.arrayBuffer(),i,!0)}),(function(){i.abort()}));n&&e&&(n=function(t,i,e){var s=0,n=function(t){var n=t.done,r=t.value;n?e=void 0===e?s:e:s+=r.byteLength,i(s,e)};return function(t,i,e){return new t(new bB(i.getReader(),e),{highWaterMark:0})}(Cr,t,n)}(n,e,PR(t.headers))),s=n}else{var h=mR(t.arrayBuffer(),i,!0);e&&(h=function(t,i,e){return Promise.resolve().then((function(){return i(0,e),t})).then((function(t){var s=t.byteLength;return i(s,e=void 0===e?s:e),t}))}(h,e,PR(t.headers))),s=h}return new fR(s,t)}function PR(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function BR(t){var i=new AR;return t.signal&&vR(i,t.signal),function(t,i){var e,s,n=t;if(e=n.Ott===bo.jtt?It.streamRequest&&OR?Promise.resolve(LB(OR,n.ztt)):mR(t.arrayBuffer(),i,!1):mR(Promise.resolve(t.Ptt),i,!1),It.abort){var r=new CR;vR(r,i.signal),s=r.signal}return e.then((function(i){return new kR(t.url,{body:i||void 0,credentials:t.credentials,headers:jR(t.headers),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:s})}))}(t,i).then((function(e){return LR(e).then((function(e){return zR(e,i,t.onprogress)}))}))}var RR=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var UR=function(t){function i(e,s){var n,r,h,o,a,u,c,l,d,f=this,_=(s=s||{}).body||null;if(e instanceof i){if(e.bodyUsed)throw new k("Already used");n=e.url,r=e.credentials,s.headers||(h=new zB(e.headers)),o=e.method,a=e.mode,u=e.referrer,c=e.referrerPolicy,l=e.signal,d=e.onprogress,_||null==e.Ptt||(_=e.Ptt,e.bodyUsed=!0)}else n=String(e),r="same-origin",o="GET",a="cors",u="about:client",c="",l=null,d=null;if(!s.headers&&h||(h=new zB(s.headers)),s&&(u="about:client",c=""),(f=t.call(this,_,h)||this).url=n,f.headers=h,f.credentials=s.credentials||r,f.method=function(t){var i=t.toUpperCase();return RR.indexOf(i)>-1?i:t}(s.method||o),f.mode=s.mode||a,f.signal=s.signal||l||(new AR).signal,f.referrer=void 0!==s.referrer?s.referrer:u,f.referrerPolicy=void 0!==s.referrerPolicy?s.referrerPolicy:c,f.onprogress=s.onprogress||d,("GET"===f.method||"HEAD"===f.method)&&_)throw new k("Body not allowed for GET or HEAD requests");return f}return DB(i,t),i.prototype.clone=function(){return new i(this,{body:cR(this)})},i}(lR),QR="function"==typeof LR&&It.stream&&It.streamResponse&&It.url;function FR(t,i){return new Promise((function(e){var s=new UR(t,i),n=QR&&function(t){try{return xR.indexOf(new be.URL(t,be.location.href).protocol)>=0}catch(t){return!1}}(s.url)?BR:bR;e(n(s))}))}FR.polyfill=!0;var YR=class{async ait(){const t=this.pS;let i,e;t.NS&&u((()=>{this.uit=!0,this.aO.c_()}),t.NS);try{i=FR(t.zu,{method:t.nE,headers:t.sE.PS(),body:t.eE,credentials:t.uE?"include":"same-origin",signal:WR(this.aO.a_),mode:t.eA,onprogress:t.cE})}catch(i){throw new TB(t,i)}try{e=await i}catch(t){const i=this.cit(t);throw So(i)&&this.aO.c_(),i}const s=e.url||t.zu,n=0===e.status&&"file:"===function(t){return lg.Dh(t).protocol}(s)?200:e.status,r=new GR(this,e,this.aO),h=new $o({Cp:r,mS:t,rE:t.rE,sE:new Yo(e.headers.asList()),TS:n,jj:e.statusText,AE:s});if(this.MS=h,pc(h))return h;throw new ir(h)}cit(t){return ay(t)?t:So(t)?this.uit?new oy(this.pS):new ia(t.message,t):this.MS?new ir(this.MS,t):new TB(this.pS,t)}constructor(t){this.aO=new xs,this.MS=void 0,this.uit=!1,this.pS=t,this.aO.l_(t.a_),this.yS=this.ait()}},GR=class t extends fb{get QG(){return this.dit.bodyUsed}YG(){return this.GG.PL}wE(t){return this.VG(this.dit.text(),t)}Kj(t){return this.VG(this.dit.arrayBuffer(),t)}BG(){const t=this.dit.body;return t?this.WG(t):ob(this.Kj().then(hb),this.aO)}XG(){const i=this.dit.clone(),[e,s]=this.aO.d_();return this.aO=e,new t(this.fit,i,s)}VG(t,i){i&&this.aO.l_(i);let e=Promise.resolve(t).catch((t=>{throw this.fit.cit(t)}));return e=dt(e,this.aO),this.GG.l_(e.then(fg)),e}WG(t){const i=new _h;let e=Promise.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch((t=>{const e=this.fit.cit(t);throw i.writable.abort(e).catch(fg),e}));return e=dt(e,this.aO),this.GG.l_(e.then(fg)),i.readable}constructor(t,i,e){super(),this.GG=new Eo,this.fit=t,this.dit=i,this.aO=e,this.GG.PL.catch(fg)}},VR="abort";function WR(t){const i=new AR;if(t.$f)i.abort();else if(!t.t_){const e=()=>{s(),i.abort()},s=()=>{i.signal.removeEventListener(VR,e),t.r_(e),t.o_(s)};i.signal.addEventListener(VR,e),t.n_(e),t.h_(s)}return i.signal}var HR=class{mS(t){return new YR(t).yS}CY(t){if(Fy&&Fy.sendBeacon)Fy.sendBeacon(t.zu,yB([t.eE],{type:t.LP}));else{const i=t.LP?{"Content-type":t.LP}:void 0;W(this.mS(new Uu({nE:Yc.POST,zu:t.zu,eE:t.eE,sE:i,eA:py.Bv})))}}gn(){}};r(),r();var qR=class extends Xo{constructor(t){super("Invalid XML",t)}},XR=class{oS(t){const i=new DOMParser;let e;try{e=i.parseFromString(t,"text/xml")}catch(t){throw new qR(t)}if(!e||e.getElementsByTagName("parsererror").length>0)throw new qR;return new eU(e)}},ZR=class t{get VI(){return $t.HI}get hS(){var t;return null!=(t=this._it.localName)?t:rU(this._it.nodeName)}get l(){return this._it.nodeName}get git(){var t;return null!=(t=this._it.namespaceURI)?t:void 0}get wit(){var t;return null!=(t=this._it.prefix)?t:void 0}get ST(){return this._it.nodeValue}GI(t){return this._it.isEqualNode(t._it)}KI(i){return new t(this._it.cloneNode(i))}constructor(t){this._it=t}},KR=class{get lS(){return void 0===this.Ait&&(this.Ait=function(t){const i=[];for(let e=0;e<t.length;e++){const s=nU(t.item(e));s&&i.push(s)}return i}(this.vit.childNodes)),this.Ait}get m(){return this.lS.filter(sU)}nS(t){return this.lS.filter((i=>sU(i)&&i.Jj===t))}sS(t,i){return this.lS.filter((e=>sU(e)&&e.hS===i&&e.git===t))}get BI(){return this.vit}dS(t){this.vit.appendChild(t.BI),this.Ait&&this.Ait.push(t)}GI(t){return this.vit.isEqualNode(t.BI)}constructor(t){this.Ait=void 0,this.vit=t}},JR=class t extends KR{get VI(){return $t.WI}get hS(){var t;return null!=(t=this.vit.localName)?t:rU(this.vit.nodeName)}get git(){var t;return null!=(t=this.vit.namespaceURI)?t:void 0}get wit(){var t;return null!=(t=this.vit.prefix)?t:void 0}get Jj(){return this.vit.nodeName}get rS(){return function(t){const i=[];for(let e=0;e<t.length;e++)i.push(new ZR(t.item(e)));return i}(this.vit.attributes)}get Vj(){return this.vit.textContent}cS(t){if(this.vit.hasAttribute(t))return this.vit.getAttribute(t)}uS(t,i){if(this.vit.hasAttributeNS(t,i))return this.vit.getAttributeNS(t,i)}tS(t){this.vit.removeAttribute(t)}mit(t,i){this.vit.removeAttributeNS(t,i)}pit(t,i){this.vit.setAttribute(t,i)}yit(t,i,e){this.vit.setAttributeNS(t,i,e)}KI(i){return new t(this.vit.cloneNode(i))}constructor(t){super(t)}},$R=class{get Cp(){return this.vit.nodeValue}get BI(){return this.vit}GI(t){return this.Cp===t.Cp}constructor(t){this.vit=t}},tU=class t extends $R{get VI(){return $t.Ru}KI(i){return new t(this.vit.cloneNode(i))}constructor(t){super(t)}},iU=class t extends $R{get VI(){return $t.qI}KI(i){return new t(this.vit.cloneNode(i))}constructor(t){super(t)}},eU=class t extends KR{get VI(){return $t.XI}get aS(){return new JR(this.vit.documentElement)}KI(i){return new t(this.vit.cloneNode(i))}constructor(t){super(t)}};function sU(t){return ps(t)}function nU(t){switch(t.nodeType){case $t.WI:return new JR(t);case $t.Ru:return new tU(t);case $t.qI:return new iU(t)}}function rU(t){const i=t.indexOf(":");return i<0?t:t.substr(i+1)}!function(t){lg=t}(new class extends mB{get Itt(){return this.Mit||(this.Mit=new vN(oD())),this.Mit}get Tit(){return this.Nit}get ZJ(){return this.Dit}get f$(){return this.Iit}get Sit(){return!1}get xz(){return ci.GQ()}get Eit(){return{Lit:MB}}get kit(){return sd.connection&&sd.connection.effectiveType||DI}get Cit(){return sd.connection&&sd.connection.type||"unknown"}get tj(){return this.xit||(this.xit=new Ib(new HR)),this.xit}oS(t){return this.Oit.oS(t)}constructor(...t){super(...t),this.Mit=void 0,this.Nit=function(){if(Zt.ib)return!1;try{return"body"in self.Response.prototype}catch(t){return!1}}(),this.Dit=Zt.tL||Zt.ib,this.Iit=(Zt.tL||Zt.Ib&&Zt.wb<=68||Zt.ib)&&!(Zt.Mb&&Zt.Nb<3),this.xit=void 0,this.Oit=new XR}}),r(),r();var hU=class{get j_(){const t=this.Qo.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}get jit(){return this.Qo.src||""}Zn(){}constructor(t,i){this.zit=!1,this.Pit=t=>{this.Bit.MY(t.error,this.j_)},this.Rit=()=>{this.Bit.mY(this.jit),this.Qo.removeEventListener("playing",this.Rit),this.zit=!1},this.js=()=>{this.zit||(this.Qo.addEventListener("playing",this.Rit),this.zit=!0)},this.Bit=i,this.Qo=t,this.Qo.addEventListener("error",this.Pit),this.Qo.addEventListener("sourcechange",this.js),this.js()}};!function(t){Oj.push(t)}((function(t){new hU(t.va,t.B9)})),r();var oU="theoplayer-stored-volume",aU="theoplayer-stored-mutedstate";ti((function(t){return class extends t{J_(t){this.wd.persistVolume&&Zn.zz(aU,""+Boolean(t)),super.J_(t)}jg(t){this.wd.persistVolume&&Zn.zz(oU,""+Number(t)),super.jg(t)}constructor(t,i){if(super(t,i),i.persistVolume){let t=Zn.JW(oU);(void 0===t||j(t))&&(t=1);const i=Zn.$W(aU)||!1;this.xg=t,this.Z_=i}}}}),tu.Za);var uU="7.3.0",cU="2024.2.3",lU=Bj.va,dU=Mu.Mm.registerContentProtectionIntegration.bind(Mu.Mm);r(),r(),r();var fU={RY(t){Ys.addEventListener("beforeunload",t)},jY(t){Ys.removeEventListener("beforeunload",t)}};!function(t){Ry=t.Uit,Uy=t.Qit,vs=t.Fit,Ys=t.Yit,Qy=Ys&&Ys.location,Fy=Ys&&Ys.navigator}({Uit:class{get NR(){const t=[];for(const i of this.Git){const e=this.Vit.get(i);if(e){const i=e.map((t=>t.Wit));t.push(...i)}}return this.Hit&&t.push(this.Hit),t}IR(t){for(const i of this.NR)i.N3(t)}cB(t){const i=p(this.Vit.get(t),(t=>t.qit));if(i)return i.qit=!1,i.Wit}Xit(t){if(!this.Hit){var i;const t=null==(i=this.Vit.get(hv.vp))?void 0:i[0].Wit.TP;if(!t)throw new b("Error creating iOS Safari MediaController");this.Hit=new dj(t,this.jx)}return this.Hit}async WP(t){const i=t.TP,e=i.tagName.toLowerCase();await t.Zn(),gj(i);const s=p(this.Vit.get(e)||[],(i=>t===i.Wit));s&&(s.qit=!0)}mR(){for(const t of this.NR)t.T3()}gn(){for(const t of this.NR){const i=t.TP;t.e_(),gj(i),di(i)}this.Vit.clear(),this.Hit=void 0}Zit(){for(const t of this.Git){const i=[];this.Vit.set(t,i);for(let e=0;e<this.Kit;e++){const e=_j(t),s=t===hv.mp?new Ux(e,this.jx,this.Wu):new rj(e,this.jx,this.Wu,this.MR);i.push({Wit:s,qit:!0})}}}constructor(t,i,e=2,s=fj,n=oD()){this.Kit=e,this.Git=[...s],this.jx=n,this.Wu=t,this.MR=i,this.Vit=Qt(),this.Zit()}},Qit:class t{O7(t){return this.Jit.oO((()=>this.$it(t)))}Yg(){this.pR.mR()}async $it(i){const e=this.pR.cB(hv.vp),s=e.TP,n=await t.tet(s,i);return await this.pR.WP(e),n}static async tet(i,e){return Zt.Ib||Zt.Mb?"all":(i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),await t.iet(),!e&&await t.eet(i,!1)?"all":await t.eet(i,!0)?"muted":"none")}static async eet(t,i){t.muted=i;const e=t.play();try{if(!vu(e))return!Zt.Qs;const t=ws(250);return await Promise.race([e,t]),!0}catch(t){return!1}finally{t.pause(),t.muted=!0}}static iet(){return new Promise((t=>{if("function"==typeof MessageChannel){const i=new MessageChannel;i.port1.onmessage=()=>t(),i.port2.postMessage("")}else u(t,0)}))}gn(){this.Jit.gn()}constructor(t){this.pR=t,this.Jit=new no}},Fit:fU,Yit:s}),r(),r(),r(),r();var _U=class t{async lB(i){if(!kv(i.type))return!1;const e=i.contentProtection;if(e&&!cv(e)){if(!Ps(e))return!1;if(!await t.net(e))return!1}return!0}static async net(t){return!(!t.playready||!await lg.Lx())||(!(!t.widevine||!await lg.Sx())||(!(!t.clearkey||!await lg.bx())||!!await lg.zx()))}},gU=class extends _U{async lB(t){return!!Ok(t.useManagedMediaSource)&&super.lB(t)}};function Ti(t){return Ta(t)}function In(t,i){const e=Ta(t);return i?""+e+i:""+e}r(),r();var St=class{async ret(t){return(await this.oet.het(t.map(Ti))).shift()}aet(t,i){const e=In(t,i);return this.uet.LL(e)}async cet(t,i){var e;const s=In(t,i);return null==(e=await this.let.kL(s))?void 0:e.data}nH(t){return this.det.kL(t)}constructor(t,i,e,s){this.oet=t,this.uet=i,this.let=e,this.det=s}};r(),r(),r();var wU=class{fet(t){return Promise.resolve(!1)}_et(t){return Promise.reject(AU)}wet(t){return Promise.reject(AU)}LL(t){return Promise.resolve(!1)}kL(t){return Promise.resolve(void 0)}Aet(t,i){return Promise.resolve(void 0)}het(t){return Promise.resolve([])}vet(){return Promise.resolve([])}met(t){return Promise.resolve([])}pet(t,i){return Promise.resolve([])}pN(t){return Promise.reject(AU)}yet(t){return Promise.reject(AU)}Met(){return Promise.reject(AU)}},AU="Storage disabled",vU="Storage disabled";r(),r(),r();var ge,mU=class{get Tet(){return this.u_.PL}async fet(t){return(this.Net||await this.Tet).fet(t)}async _et(t,i){return(this.Net||await this.Tet)._et(t,i)}async wet(t,i){return(this.Net||await this.Tet).wet(t,i)}async LL(t){return(this.Net||await this.Tet).LL(t)}async kL(t){return(this.Net||await this.Tet).kL(t)}async Aet(t,i){return(this.Net||await this.Tet).Aet(t,i)}async het(t){return(this.Net||await this.Tet).het(t)}async vet(){return(this.Net||await this.Tet).vet()}async met(t){return(this.Net||await this.Tet).met(t)}async pet(t,i){return(this.Net||await this.Tet).pet(t,i)}async pN(t){return(this.Net||await this.Tet).pN(t)}async yet(t){return(this.Net||await this.Tet).yet(t)}async Met(){return(this.Net||await this.Tet).Met()}constructor(t){this.u_=new Eo,this.Net=void 0,this.u_.l_(t),this.u_.PL.then((t=>{this.Net=t}))}},pU=class{get Det(){return this.u_.PL}async Iet(t){const i=this.Eet||await this.Det;return await i.Iet(t)}constructor(t){this.u_=new Eo,this.Eet=void 0,this.u_.l_(t);const i=this.u_.PL;i.then((t=>{this.Eet=t})),this.bet=new mU(i.then((t=>t.bet))),this.Let=new mU(i.then((t=>t.Let))),this.ket=new mU(i.then((t=>t.ket))),this.Cet=new mU(i.then((t=>t.Cet))),this.xet=new mU(i.then((t=>t.xet)))}};function ft(t){return new b("This storage cannot handle persistency type "+t)}r(),r(),r(),function(t){t.Oet="readonly",t.jet="readwrite"}(ge||(ge={}));var hn=class{fet(t){return Promise.resolve("temporary"===t)}_et(t,i){return void 0===i&&(i="temporary"),"temporary"!==i?Promise.reject(ft(i)):(this.zet(t.key),this.Mk.push(t),Promise.resolve())}wet(t,i){if(void 0===i&&(i="temporary"),"temporary"!==i)return Promise.reject(ft(i));for(const i of t)this.zet(i.key);for(const i of t)this.Mk.push(i);return Promise.resolve()}LL(t){return Promise.resolve(Boolean(this.Pet(t)))}kL(t){return Promise.resolve(this.Pet(t))}Aet(t,i){return Promise.resolve(this.Bet(t,i))}het(t){const i=t?t.map((t=>this.Pet(t))):this.Mk;return Promise.resolve(i.filter(li))}vet(){return Promise.resolve([...this.Mk])}met(t){return this.pet(t,"key")}pet(t,i){const e=this.Mk.filter((e=>e[i]===t));return Promise.resolve(e)}pN(t){return this.zet(t),Promise.resolve()}yet(t){for(const i of t)this.zet(i);return Promise.resolve()}Met(){return Ri(this.Mk),Promise.resolve()}Pet(t){return this.Bet(t,"key")}Bet(t,i){for(const e of this.Mk)if(e[i]===t)return e}zet(t){const i=this.Pet(t);i&&Et(this.Mk,i)}constructor(){this.Mk=[]}},yU=class t{static D8(){return Promise.resolve(new t)}Iet(t){return t(this)}constructor(){this.Let=new hn,this.bet=new hn,this.ket=new hn,this.Cet=new hn,this.xet=new hn}};r(),r();var bn=class{async fet(t){for(let i of this.Ret)if(await i.fet(t))return!0;return!1}async _et(t,i){void 0===i&&(i="persistent");for(let e of this.Ret)if(await e.fet(i))return e._et(t);throw ft(i)}async wet(t,i){void 0===i&&(i="persistent");for(let e of this.Ret)if(await e.fet(i))return e.wet(t);throw ft(i)}async LL(t){for(let i of this.Ret)if(await i.LL(t))return!0;return!1}async kL(t){for(let i of this.Ret){const e=await i.kL(t);if(e)return e}}async Aet(t,i){for(let e of this.Ret){const s=await e.Aet(t,i);if(s)return s}}async het(t){const i=[];for(let e of this.Ret)i.push(...await e.het(t));return i}async vet(){const t=[];for(let i of this.Ret)t.push(...await i.vet());return t}async met(t){const i=[];for(let e of this.Ret)i.push(...await e.met(t));return i}async pet(t,i){const e=[];for(let s of this.Ret)e.push(...await s.pet(t,i));return e}async pN(t){for(let i of this.Ret)await i.pN(t)}async yet(t){for(let i of this.Ret)await i.yet(t)}async Met(){for(let t of this.Ret)await t.Met()}constructor(t){this.Ret=t}};function MU(t){return async()=>{const i=await Promise.all(t.map((t=>t())));return TU.D8(i)}}var TU=class t{static D8(i){return Promise.resolve(new t(i))}get Cet(){return this.Uet}get xet(){return this.Qet}get ket(){return this.Fet}get Let(){return this.Yet}get bet(){return this.Get}Iet(i){if(0===this.Vet.length)return i(this);const e=[];let s=0;const n=r=>(e.push(r),s++,s<this.Vet.length?this.Vet[s].Iet(n):i(new t(e)));return this.Vet[s].Iet(n)}constructor(t){this.Vet=t,this.Uet=new bn(t.map((t=>t.Cet))),this.Qet=new bn(t.map((t=>t.xet))),this.Fet=new bn(t.map((t=>t.ket))),this.Yet=new bn(t.map((t=>t.Let))),this.Get=new bn(t.map((t=>t.bet)))}},Kn=class t{static wa(i){t.eP.wa(i)}static get gL(){return t.Wet||(t.Wet=t.eP.D8()),t.Wet}};function NU(t){return void 0!==t.Ig}function DU(t){const i=Zt.Ib||Zt.Mb,e=void 0!==t&&void 0!==t.preferredAudioCodecs&&t.preferredAudioCodecs.some((t=>"ac-3"===t||"ec-3"===t)),s=i&&!e,n=new xk(!0);return async t=>{const i=t.LP;if(!n.m$(i)&&!function(t,i){return!!t&&(fe(t)?cy(i)||dy(i):oo(t,Ml.APPLICATION_TTML_XML)||oo(t,Ml.TEXT_VTT)||oo(t,Ml.IMAGE_JPEG))}(t.gY,t.Het))return!1;const e=t.Het.some((t=>"ac-3"===t||"ec-3"===t));if(s&&e)return!1;if(t.qet){const e=t.qet,s=Eh(e,(t=>Xy(t.Xet))).filter(li),n=await async function(t,i){for(const e of t)if(await i(e))return!0;return!1}(s,(t=>lg.xx(t,i)));if(!n)return!1}return!0}}Kn.eP=new class{D8(){return new pU(this.Zet())}async Zet(){this.Ket&&(await Promise.resolve(),this.Ket=!1);for(const t of this.Jet)try{return await MU([yU.D8,t])()}catch(t){}return await MU([yU.D8,this.$et])()}wa(t){if(!this.Ket)throw new b("Registration overdue");this.Jet.push(t)}constructor(t){this.Jet=[],this.Ket=!0,this.$et=t}}(class t{static D8(){return Promise.resolve(new t)}Iet(t){return Promise.reject(vU)}constructor(){this.Let=new wU,this.bet=new wU,this.ket=new wU,this.Cet=new wU,this.xet=new wU}}.D8),Kn.Wet=void 0,r(),r(),r(),r();var IU=class{get Ti(){return this.tst.offsetHeight*lg.Ys.B4}get ji(){return this.tst.offsetWidth*lg.Ys.B4}constructor(t){this.tst=t}};r();var SU=class{get nt(){return this.Dl}dE(t,i,e,s,n,r,h,o){const a=new Us(t,i,e,s,n,r,h,void 0,o);return this.Dl.tt(a),this.S2.tt(a),a}pE(t){this.Dl.it(t),this.S2.it(t),t.gn()}Zn(){for(const t of this.Dl.xw.slice())t.gn();this.Dl.Zn(),this.S2.Zn()}gn(){this.Zn(),this.Dl.gn(),this.S2.gn()}constructor(t,i){this.Dl=new jn,this.S2=new ox(t,i)}};r(),r();var ot=class{cB(t){return this.eP.cB(t)}Xit(t){return this.eP.Xit(t)}WP(t){return this.eP.WP(t)}constructor(t){this.eP=t}};r(),r(),r();var xn=class extends i{get ist(){return this.vP}get b_(){return this.L_()}L_(){return this.vP.b_}get k_(){return this.C_()}C_(){return this.vP.k_}get j_(){return this.z_()}z_(){return this.vP.j_}get Iu(){return this.vP.Iu}get ct(){return this.Td()}Td(){return this.vP.ct}get IP(){return this.sst()}sst(){return this.vP.IP}get R_(){return this.nst()}nst(){return this.vP.R_}get lt(){return this.vP.lt}get Ti(){return this.vP.Ti}get ji(){return this.vP.ji}get ya(){return this.Rg()}Rg(){return this.vP.ya}get Z_(){return this.vP.Z_}set Z_(t){this.vP.Z_=t}get hg(){return this.rst()}rst(){return this.vP.hg}get ag(){return this.vP.ag}set ag(t){this.vP.ag=t}get fg(){return this._g()}_g(){return this.vP.fg}get vg(){return this.pg()}pg(){return this.vP.vg}get yg(){return this.Mg()}Mg(){return this.vP.yg}get Tg(){return this.Ng()}Ng(){return this.vP.Tg}get Q$(){return this.hst()}hst(){return this.vP.Q$}get J$(){return this.ost()}ost(){return this.vP.J$}get nt(){return this.Dg()}Dg(){return this.ast}get Ol(){return this.W3()}W3(){return this.vP.Ol}get V4(){return this.vP.V4}get xg(){return this.vP.xg}set xg(t){this.vP.xg=t}get y3(){return this.vP.y3}get W_(){return this.vP.W_}get y4(){return this.vP.y4}get VP(){return this.ust()}set VP(t){this.cst(t)}ust(){return this.vP.VP}cst(t){this.vP.VP=t}get D3(){return this.vP.D3}set D3(t){this.lst(t)}lst(t){this.vP.D3=t}get c4(){return this.dst()}dst(){return this.vP.c4}X_(){return this.vP.X_()}Vg(){return this.vP.Vg()}Gg(){this.vP.Gg()}Dp(t,i,e){this.vP.Dp(t,i,e)}mP(t){this.vP.mP(t)}ge(){this.vP.ge()}be(){this.vP.be()}dE(t,i,e,s,n,r,h,o){return this.vP.dE(t,i,e,s,n,r,h,o)}PP(){return this.vP.PP()}RP(t,i,e,s,n){return this.vP.RP(t,i,e,s,n)}pE(t){this.vP.pE(t)}QP(){this.vP.QP()}rq(t){return this.vP.rq(t)}async $n(t){const i=await this.vP.$n(t);let e;return e=t.hA===wt.CO?this.fst(i):this._st(i),this.DP=e,e}async Zn(){this.DP&&(await this.DP.e_(),this.DP=void 0),await this.vP.Zn()}v3(){this.vP.v3()}m3(){this.vP.m3()}async e_(){this.Vo(),this.vP.fn(vL,this.gst),this.ast.Pw=void 0,this.ast.gn(),this.DP&&(await this.DP.e_(),this.DP=void 0)}T3(){this.vP.T3()}wst(t){this.vP.fn(vL,this.gst),this.vP=t,this.ast.Pw=t.nt,this.vP.yn(vL,this.gst)}Jg(t){this.Co(t)}constructor(t){super(),this.DP=void 0,this.ast=new Yu,this.gst=t=>this.Jg(t),this.vP=t,this.ast.Pw=t.nt,this.vP.yn(vL,this.gst)}},EU=class extends xn{get TP(){return this.vP.TP}get q$(){return this.vP.q$}get Bg(){return this.vP.Bg}set Bg(t){this.vP.Bg=t}N3(t){this.vP.N3(t)}E4(){this.vP.E4()}Zg(){this.vP.Zg()}constructor(t){super(t)}};r(),r(),r();var bU=class{get wd(){return this.Ix()}Ix(){return this.DP.wd}get yg(){return this.Mg()}Mg(){return this.DP.yg}get rt(){return this.DP.rt}PH(t){return this.DP.PH(t)}RH(t){return this.DP.RH(t)}e_(){return Promise.resolve()}constructor(t){this.DP=t}},xt=class extends bU{get g$(){return this.p$}get w$(){return this.y$}get b_(){return this.L_()}L_(){return this.DP.b_}get ct(){return this.Td()}Td(){return this.DP.ct}get tq(){return this.Ast()}Ast(){return this.DP.tq}T$(t){this.DP.T$(t)}S$(t,i,e,s){this.DP.S$(t,i,e,s)}NJ(){this.DP.NJ()}_J(){this.DP._J()}e_(){return this.p$&&(this.p$.e_(),this.p$=void 0),this.y$&&(this.y$.e_(),this.y$=void 0),super.e_()}vst(t){this.DP=t,this.p$?t.g$?this.p$.mst(t.g$):(this.p$.e_(),this.p$=void 0):t.g$&&(this.p$=this.pst(t.g$),this.p$.yn(ie,this.yst)),this.y$?t.w$?this.y$.mst(t.w$):(this.y$.e_(),this.y$=void 0):t.w$&&(this.y$=this.pst(t.w$),this.y$.yn(ie,this.yst))}Mst(t){}constructor(t){super(t),this.p$=void 0,this.y$=void 0,this.yst=t=>this.Mst(t)}};r(),r(),r();var LU=class extends i{get tW(){return this.aW}set tW(t){this.aW=t}get b_(){return Ki.lR()}get wd(){return this.$x}get IJ(){return hv.KT}get EJ(){return Ki.lR()}get Tst(){return!1}get ZV(){return this.rW}set ZV(t){this.rW=t}BK(t,i,e){return Promise.reject(new b("Invalid media buffer"))}xJ(){return Promise.reject(new b("Invalid media buffer"))}QK(t,i,e){return Promise.reject(new b("Invalid media buffer"))}tq(){return!1}NJ(){}kJ(t,i){}CJ(t,i){}pN(t,i,e){return Promise.resolve()}iJ(t,i){return Promise.reject(new b("Invalid media buffer"))}EN(t,i){return Promise.reject(new b("Invalid media buffer"))}PH(t){return!1}RH(t){return Promise.reject(new b("Invalid media buffer"))}e_(){this.Vo()}constructor(t){super(),this.rW=0,this.aW=0,this.$x=t}},ut=class extends i{get tW(){return this.Nst()}set tW(t){this.Dst(t)}Nst(){return this.Ist.tW}Dst(t){this.Ist.tW=t}get b_(){return this.L_()}L_(){return this.Ist.b_}get wd(){return this.Ix()}Ix(){return this.Ist.wd}get IJ(){return this.Ist.IJ}get EJ(){return this.Sst()}Sst(){return this.Ist.EJ}get ZV(){return this.Est()}set ZV(t){this.bst(t)}Est(){return this.Ist.ZV}bst(t){this.Ist.ZV=t}BK(t,i,e){return this.Ist.BK(t,i,e)}xJ(){return this.Ist.xJ()}QK(t,i,e){return this.Ist.QK(t,i,e)}tq(){return this.Ist.tq()}NJ(){this.Ist.NJ()}kJ(t,i){this.Ist.kJ(t,i)}CJ(t,i){this.Ist.CJ(t,i)}pN(t,i,e){return this.Ist.pN(t,i,e)}iJ(t,i){return this.Ist.iJ(t,i)}PH(t){return this.Ist.PH(t)}RH(t){return this.Ist.RH(t)}Jg(t){this.Co(t)}e_(){this.Vo(),this.mst(new LU(this.wd))}mst(t){this.Ist.fn(ie,this.Lst),this.Ist=t,this.Ist.yn(ie,this.Lst)}constructor(t){super(),this.Lst=t=>this.Jg(t),this.Ist=t,this.Ist.yn(ie,this.Lst)}},kU=class extends ut{get Wit(){return this.vP}set Wit(t){this.vP=t}async BK(t,i,e){return Pi(e),await this.kst(this.vP.j_,null==i?void 0:i.T8,null==i?void 0:i.ct),Pi(e),t.hA===Lo.zS?await this.Cst(t,i,e):await this.xst(t,i,e)}async Cst(t,i,e){let s=t;for(;;){const[t,n]=ab(s.Cp);s={hA:Lo.zS,Cp:t};try{return await this.Ost(s,i,e),void n.cancel(new ia).catch(fg)}catch(t){if(dc(t)){if(await this.kst(this.vP.j_,i.T8,i.ct,e)){s={hA:Lo.zS,Cp:n};continue}}throw n.cancel(t).catch(fg),t}}}async xst(t,i,e){for(;;)try{return Pi(e),await this.Ost(t,i,e)}catch(t){if(dc(t)){if(await this.kst(this.vP.j_,i.T8,i.ct,e))continue}throw t}}async kst(t,i,e,s){const n=Ub(t,i,e,this.b_,this.ZV,this.tW);for(const[t,i]of n)await this.jst(t,i,s);return n.length>0}Ost(t,i,e){return super.BK(t,i,e)}jst(t,i,e){return super.pN(t,i,e)}constructor(t){super(t),this.vP=void 0}},CU=class extends xt{get Wit(){return this.vP}set Wit(t){this.vP=t,this.p$&&(this.p$.Wit=t),this.y$&&(this.y$.Wit=t)}pst(t){const i=new kU(t);return i.Wit=this.vP,i}constructor(t){super(t),this.vP=void 0,this.vst(t)}};r();var Jt=class extends bU{get gg(){return this.DP.gg}set gg(t){this.DP.gg=t}};r();var yn=class extends xn{get TP(){return this.vP.TP}get q$(){return this.vP.q$}get Lg(){return this.vP.Lg}get Ig(){return this.vP.Ig}get Bg(){return this.vP.Bg}set Bg(t){this.vP.Bg=t}N3(t){this.vP.N3(t)}E4(){this.vP.E4()}Zg(){this.vP.Zg()}Ug(){return this.vP.Ug()}constructor(t){super(t)}},xU=class extends EU{get ist(){return this.vP}_st(t){const i=new CU(t);return i.Wit=this,i}fst(t){return new Jt(t)}},OU=class extends yn{get ist(){return this.vP}_st(t){const i=new CU(t);return i.Wit=this,i}fst(t){return new Jt(t)}},jU=class extends ot{cB(t){return t===hv.vp?new OU(super.cB(t)):t===hv.mp?new xU(super.cB(t)):void 0}async WP(t){const i=t;await i.e_(),await super.WP(i.ist)}};r();var zU=class{zst(){this.Qo.Kg()}gn(){s.removeEventListener("pageshow",this.Pst)}constructor(t){this.Pst=t=>{t.persisted&&this.zst()},this.Qo=t,s.addEventListener("pageshow",this.Pst)}};r(),r(),r(),r(),r();var ln,PU=class{Bst(t,i,e){return Promise.resolve()}Rst(t,i,e,s){let n=[];if(s){const r={LI:i.zN,kI:i.PN,CI:e.Ust.CI};s.hA===Ks.TTML?n=Qp(t,s,r,e.gY):s.hA===Ks.WEBVTT&&(n=Jm(t,r).L)}return n}Zn(){}};r(),r(),r(),function(t){t.Jm="vttc",t.Qst="vsid",t.Fst="iden",t.Yst="ctim",t.Gst="sttg",t.Vst="payl",t.Wst="vtte",t.Hst="vtta"}(ln||(ln={}));var Nn=class t{static qst(i){return Boolean(t.Xst[i])}static wy(i){const e=[],s=lt.Wp(new $h(i,new Or));for(const i of s)t.qst(i.hA)&&e.push(t.Xst[i.hA](i.Cp));return e}static Zst(i){const e=lt.Wp(i),s=iv(e,ln.Qst),n=iv(e,ln.Fst),r=iv(e,ln.Yst),h=iv(e,ln.Gst),o=iv(e,ln.Vst);return{hA:ln.Jm,Kst:s?t.Jst(s):void 0,$st:n?t.tnt(n):void 0,int:r?t.ent(r):void 0,snt:h?t.nnt(h):void 0,rnt:o?t.hnt(o):void 0}}static Jst(t){return{hA:ln.Qst,ont:t.Pp()}}static tnt(t){return{hA:ln.Fst,$st:t.Fp()}}static ent(t){return{hA:ln.Yst,ant:t.Fp()}}static nnt(t){return{hA:ln.Gst,unt:t.Fp()}}static hnt(t){return{hA:ln.Vst,cnt:t.Fp()}}static lnt(t){return{hA:ln.Wst}}static dnt(t){return{hA:ln.Hst,fnt:t.Fp()}}};Nn.Xst={[ln.Jm]:Nn.Zst,[ln.Wst]:Nn.lnt,[ln.Hst]:Nn.dnt};var BU=class{Bst(t,i,e){const s=new DataView(t._nt),n=Qi.wy(s),r=p(n,(t=>t.hA===Wr.Tm));return r&&(this.gnt=r.Z[0].Fy.iy.zy),Promise.resolve()}Rst(t,i,e){if(j(this.gnt))return[];const s=Mo(t),n=Qi.wy(s),r=$A(n,Wr.ep),h=$A(n,Wr.cp);if(!r||0===r.Z.length||!h)return[];const o=function(t,i,e){const s=t.Z[0],n=s.vT?s.vT.vT.toNumber()/e:i.zN,r=[];for(const t of s.AT)r.push(...t.NT);return{wnt:n,NT:r}}(r,i,this.gnt),a=e.Ust.CI;return function(t,i,e,s){const n=Nn.wy(Mo(i.Cp)),r=t.NT,h=t.wnt+s,o=[];let a=0;for(let t=0;t<r.length;t++){const i=r[t],s=n[t];var u;const c=(null!=(u=i.ct)?u:0)/e;let l;s.hA===ln.Jm&&(l=RU(s,a,c,h)),l&&o.push(l),a+=c}return o}(o,h,this.gnt,a)}Zn(){this.gnt=NaN}constructor(){this.gnt=NaN}};function RU(t,i,e,s){if(!t.rnt)return void 0;const n=t.int?function(t){return Su(t.ant,new Or(0))}(t.int):i,r=s+n,h=r+e,o=t.rnt.cnt;return new Sm(r,h,o,!1)}r(),r(),r();var Pu,ei,UU=class t extends ni{get Ant(){return this.vnt}set Ant(t){this.vnt=t}get Rt(){for(const t of this.Z.xw)if(t.eA!==La.Ch)return!0;return!1}async $n(t){await this.Zn(),this.mnt=t,this.pnt(t)}pnt(t){for(const i of t.ynt){const t=this.Mnt(i);this.Tnt(t,i),t.vg=Q.LOADED,this.tt(t)}}it(t){this.Nnt(t),super.it(t)}kS(t){const i=this.Dnt(t);if(i&&this.Ant!==i){this.Ant=i;for(const t of this.Z.xw)t!==i&&(t.eA=La.Ch)}}CS(t){const i=this.Dnt(t);i&&this.Ant===i&&(this.Ant=void 0)}Dnt(t){return p(this.Z.xw,(i=>t.Vw===i.Vw))}Tnt(t,i){this.Int.set(t.Vw,i)}Snt(t){return this.Int.get(t.Vw)}Nnt(t){this.Int.delete(t.Vw)}Ent(){if(!this.Ant)return;const i=this.Snt(this.Ant);return i?t.bnt(i):void 0}static bnt(t){return t.Lnt&&t.Lnt.length>0?t.Lnt[0]:void 0}constructor(...t){super(...t),this.Int=_e()}};function QU(t,i){const e=i.eR(((i,e)=>t.$B(i,e,!1,!1)));return t.HB(e)}function FU(t,i){const e=i.Sn(t.YB()).eR(((i,e)=>t.gr(e)));return t.HB(e)}r(),function(t){t[t.eU=0]="eU",t[t.knt=1]="knt",t[t.Cnt=10]="Cnt",t[t.xnt=11]="xnt",t[t.Ont=12]="Ont",t[t.jnt=13]="jnt",t[t.znt=14]="znt",t[t.Pnt=15]="Pnt",t[t.Bnt=20]="Bnt",t[t.Rnt=21]="Rnt",t[t.Unt=22]="Unt",t[t.Qnt=23]="Qnt",t[t.Fnt=24]="Fnt",t[t.Ynt=30]="Ynt",t[t.Gnt=31]="Gnt",t[t.Vnt=32]="Vnt",t[t.Wnt=33]="Wnt",t[t.Hnt=34]="Hnt",t[t.qnt=35]="qnt",t[t.Xnt=40]="Xnt",t[t.Znt=41]="Znt",t[t.Knt=42]="Knt",t[t.Jnt=43]="Jnt",t[t.$nt=44]="$nt",t[t.trt=50]="trt",t[t.irt=51]="irt",t[t.ert=60]="ert",t[t.nrt=61]="nrt",t[t.rrt=62]="rrt",t[t.hrt=63]="hrt",t[t.ort=70]="ort",t[t.art=71]="art",t[t.urt=72]="urt",t[t.crt=73]="crt",t[t.lrt=74]="lrt",t[t.drt=75]="drt",t[t.frt=76]="frt",t[t._rt=77]="_rt",t[t.grt=90]="grt",t[t.wrt=91]="wrt"}(Pu||(Pu={})),r(),r(),r(),r(),function(t){t.Art="vrt",t.mrt="prt"}(ei||(ei={})),r();var YU,_n=class extends Xo{constructor(t,i,e){super("yrt"),this.Cn=t,this.jn=i,this.Mrt=e}},GU=class extends mg{constructor(){super("Trt")}};!function(t){t.Nrt="Drt",t.Irt="Srt",t.Ert="brt",t.eU="Lrt"}(YU||(YU={}));var VU=[t.JA,t.rv,t.KA,t.MA],WU=class extends i{get krt(){var t,i;return(null==(t=this.xrt.Crt)?void 0:t.Mrt)||(null==(i=this.xrt.Ort)?void 0:i.Mrt)}get jrt(){return this.zrt}set Prt(t){this.xrt.Prt=t}get Prt(){return this.xrt.Prt}get TS(){return this.Brt}Rrt(t){this.Brt!==t&&(this.Brt=t,this.Co(new GU))}get Urt(){return this.zrt.Lt.Urt}get lt(){return this.yP}async Cn(t){if(!this.Qrt&&!this.Frt)return;const i=this.D_("Trt");this.Qrt?(this.Yrt.c_(),this.Yrt=new xs,this.Grt(this.Yrt.a_)):(this.Vrt.jL(void 0),this.Vrt=new Eo),await i}get Qrt(){return"Drt"===this.Brt}get Frt(){return"Srt"===this.Brt}get Wrt(){return"brt"===this.Brt}get Hrt(){return"Lrt"===this.Brt}async Wg(t){if(this.Wrt||this.Frt)for(0,this.Yrt.c_();!this.Qrt&&!this.Hrt;)await this.D_("Trt")}async Zn(t){this.Hrt?(this.yP=void 0,this.Rrt("Drt")):await this.Wg(t),this.xrt.Zn(),this.zrt.Zn()}uB(t){this.yP=t,this.Rrt("Lrt"),this.Co(new pe(t))}qrt(){this.S4.yn(t.ov,this.od),this.S4.yn([t.ZA,t.zA],this.We),this.xrt.yn(VU,this.Ds),this.Xrt.yn(ei.Art,this.od)}Zrt(){this.S4.fn(t.ov,this.od),this.S4.fn([t.ZA,t.zA],this.We),this.xrt.fn(VU,this.Ds),this.Xrt.fn(ei.Art,this.od)}async Krt(t){this.Zrt(),this.Jrt.c_(),await this.Wg(null!=t?t:Pu.Jnt),this.xrt.Zn()}async $rt(t){this.qrt(),await this.Cn(null!=t?t:Pu.Pnt)}async gn(){this.Vo(),this.Zrt(),this.Jrt.c_(),await this.Wg(Pu.$nt),this.xrt.gn()}async Grt(t){for(;;)try{Pi(t),this.Rrt("brt"),await this.xrt.tht(t),Pi(t),this.Rrt("Srt"),await hh(this.Vrt.PL,t)}catch(t){if(So(t))this.Rrt("Drt");else{const i=t instanceof ce?t:new ce(y_.MEDIA_LOAD_ERROR,t.message,t);this.uB(i)}break}}async iht(t){Pi(t),await this.Wg(Pu.Knt),this.xrt.Zn(),Pi(t),await this.Cn(Pu.jnt)}constructor(t,i,e,s,n){super(),this.eht=t,this.Xrt=i,this.zrt=e,this.xrt=s,this.S4=n,this.Brt="Drt",this.yP=void 0,this.Vrt=new Eo,this.Jrt=new xs,this.Yrt=new xs,this.We=t=>{this.Qrt||this.Hrt||!lg.Sit&&this.xrt.sht(t.currentTime)||(this.Jrt.c_(),this.Jrt=new xs,this.iht(this.Jrt.a_).catch(Mh))},this.od=uo((()=>{if(this.Frt){try{this.xrt.nht();if(this.xrt.rht())return}catch(t){if(!(t instanceof _n))throw t}this.Cn(Pu.znt)}}),250),this.qrt()}};r(),r();var HU=class t{hht(t,i,e,s,n){return this.oht(t,i,!1,e,n,s)}aht(t,i,e,s,n){return this.oht(t,i,!0,e,n,s)}async oht(i,e,s,n,r,h){Pi(h);const o=await this.uht(i,s,n,r,h);return e?t.cht(o):this.dht(o)}dht(t){return t}static cht(t){return t}uht(t,i,e,s,n){var r;const h=new Uu({zu:t.zu,rE:Rt.OS,sE:t.fht?{Range:"bytes="+t.fht[0]+"-"+(null!=(r=t.fht[1])?r:"")}:void 0,uE:t.uE,nE:Yc.GET,hA:Ru.FS,oE:i?ss.VS:ss.KT,aE:this._ht,NS:e,hE:s,a_:n});return this.gE.mS(h)}constructor(t,i){this.gE=t,this._ht=i}};r(),r();var qU=class{ght(t,i){const e=this.wht**t,s=i*(1-e)+e*this.w8;j(s)||(this.w8=s,this.Aht+=t)}vht(){const t=1-this.wht**this.Aht;return this.w8/t}constructor(t){this.w8=0,this.Aht=0,this.wht=x.exp(x.log(.5)/t)}},XU=class{ght(t,i){const e=8e3*i/t,s=t/1e3;this.mht+=i,this.pht.ght(s,e),this.yht.ght(s,e)}vht(){return this.Mht()?x.min(this.pht.vht(),this.yht.vht()):this.Tht}Mht(){return this.mht>=this.Nht}constructor(t=2,i=5,e=128e3){this.mht=0,this.Tht=SI,this.pht=new qU(t),this.yht=new qU(i),this.Nht=e}},ZU=class{get Dht(){return this.Iht.vht()}get Mht(){return this.Iht.Mht()}Sht(t){const i=t.Eht,e=this.bht?t.Lht-t.kht:t.Lht-t.Cht,s=t.xht;!s&&i<this.Oht||(s?this.Iht.ght(2*e,i):this.Iht.ght(e,i))}constructor(t,i){this.bht=i,!i||t!==hv.vp&&t!==hv.mp?(this.Oht=16e3,this.Iht=new XU):t===hv.vp?(this.Oht=5e3,this.Iht=new XU(.05,1,0)):(this.Oht=0,this.Iht=new XU(.005,.1,0))}};r(),r();var KU=["$A","hv"],JU=class extends i{async jht(t,i){let e;for(const s of this.zht)try{return await s.jht(t,i)}catch(t){go(t),e=t}throw e}async Pht(t,i){let e;for(const s of this.zht)try{return await s.Pht(t,i)}catch(t){go(t),e=t}throw e}gn(){for(const t of this.zht)t.fn(KU,this.Ds),t.gn()}constructor(t){super(),this.zht=t;for(const t of this.zht)t.yn(KU,this.Ds)}};r(),r(),r();var $U=class{transform(t,i){this.Vd.write(t).catch(fg),i.enqueue(t)}flush(){this.Vd.close().catch(fg)}constructor(t){this.Vd=t}},tQ=class{Bht(){return new iQ(hb(this._nt),this.Rht,this.Uht)}constructor(t,i,e){this._nt=t,this.Rht=i,this.Uht=e}},iQ=class t{get BG(){return this.Qht}Kj(t){return Ut(this.Qht,t)}Ip(){const[i,e]=ab(this.Qht);return this.Qht=i,new t(e,this.Rht,this.Uht)}Fht(){const[i,e]=function(t){const i=new _h,e=i.writable.getWriter(),s=new _h(new $U(e));return t.pipeTo(s.writable).catch((t=>{e.abort(t).catch(fg)})),[s.readable,i.readable]}(this.Qht);return this.Qht=i,new t(e,this.Rht,this.Uht)}Yht(t){return this.Kj(t).then((t=>new tQ(t,this.Rht,this.Uht)))}constructor(t,i,e){this.Qht=t,this.Rht=i,this.Uht=e}};r();var Ar=class extends Xo{constructor(t,i,e){super(i,e),this.Ght=t}},eQ="Cache lookup failed.",sQ=class extends i{async jht(t,i){Pi(i);const e=await this.Vht.cet(t.zu.zu,t.zu.fht);if(Pi(i),!e)throw new Ar(t,eQ);const s=new tQ(e.buffer,e.byteLength,e.reference);return{Ght:t.Ght,Wht:{hA:Lo.CH,Cp:s},Mrt:t.Mrt,zu:t.zu}}async Pht(t,i){Pi(i);const e=await this.Vht.cet(t.zu,t.fht);if(Pi(i),!e)throw new Ar(t,eQ);const s=new tQ(e.buffer,e.byteLength,e.reference);return{hA:Lo.CH,Cp:s}}gn(){this.Vo()}constructor(t){super(),this.Vht=t}};function H(t){return B_(t.Hht)}function nQ(t){return H(t)?t.Hht:t.qht}r(),r(),r(),r();var rQ=class extends mg{constructor(t,i,e,s,n,r){super(t),this.Xht=i,this.QQ=e,this.fT=s,this.Wy=n,this.aE=r}},hQ=class extends rQ{constructor(i,e,s,n,r){super(t.JA,i,e,s,n,r)}};r(),r();var oQ=class{constructor(t,i){this.Zht=t,this.Kht=i}},aQ=class extends oQ{get Eht(){return this.Jht}start(){}transform(t,i){this.Jht+=t.byteLength,i.enqueue(t)}flush(){this.$ht(!1)}c_(){this.$ht(!0)}$ht(t){this.Zht(this.Kht,lg.f_(),this.Eht,t)}constructor(...t){super(...t),this.Jht=0}},uQ=class extends oQ{get Eht(){return this.Jht}start(){this.Kht=lg.f_()}transform(t,i){this.Jht+=t.byteLength,this.tot||this.iot(t)&&this.$ht(!1),i.enqueue(t)}flush(){}c_(){this.$ht(!0)}iot(t){const i=this.eot(t),e=this.rot(i);return Boolean(p(e,cQ))}eot(t){return this.hot&&void 0!==this.oot?(this.hot=zh([this.hot,t]),new $h(Mo(this.hot),new Or(this.oot))):(this.hot=t,new $h(Mo(t),new Or))}rot(t){const i=lt.Hp(t.Cp,t.xp,!0);return i.qp?(this.hot=void 0,this.oot=void 0):this.oot=t.xp.Ku,i.m}$ht(t){this.tot||(this.Zht(this.Kht,lg.f_(),this.Eht,t),this.tot=!0)}constructor(...t){super(...t),this.Jht=0,this.tot=!1}};function cQ(t){return t.hA===Wr.cp}var lQ=class{aot(t){const i=t.KG?this.uot:lg.f_(),e=this.cot(i),s=new _h(e),n=t.BG().pipeTo(s.writable).then((()=>({q_:{Eht:e.Eht}})),(t=>{throw e.c_(),t}));return this.lot.l_(n),s.readable}fot(t){const i=t.KG?this.uot:lg.f_(),e=t.Kj(),s=e.then((t=>{const e=lg.f_();return this.Sht(i,e,t.byteLength,!1),{q_:{Eht:t.byteLength}}}),(t=>{const e=lg.f_();throw this.Sht(i,e,0,!0),t}));return this.lot.l_(s),e}get _ot(){return this.lot.PL}constructor(t){this.got=t,this.lot=new Eo,this.Sht=(t,i,e,s)=>{const n={Cht:this.uot,kht:t,Lht:i,Eht:e,xht:s};this.got.Sht(n),this.got.Mht&&ua.gL.Bz(this.got.Dht)},this.lot.PL.catch(fg),this.uot=lg.f_()}},dQ=class extends lQ{cot(t){return new aQ(this.Sht,t)}},fQ=class extends lQ{cot(t){return new uQ(this.Sht,t)}};r();var _Q=class extends rQ{constructor(i,e,s,n,r,h,o){super(t.rv,i,e,s,n,r),this.wot=h,this.dN=o}};r();var gQ=class extends Xo{constructor(t,i,e){super("Error downloading segment "+nQ(i),t),this.Aot=i.zN,this.vot=i.PN,this.mot=e}},wQ=class extends i{pot(){return lg.Tit}yot(){return this.bht?new fQ(this.got):new dQ(this.got)}async jht(t,i){Pi(i);const e=t.Mrt,s=t.zu,n=t.Ght,r=nQ(n),h=e.Mrt?e.Mrt.Vw:-1,o=function(t){const i=t.Mrt;let e;e=i===function(t){return t.Lnt.reduce(((t,i)=>t.Jz<i.Jz?t:i))}(i.Mot)?qt(5*t.Ght.ct):qt(1.2*t.Ght.ct);return Sc(e,1e3,18e3)}(t);this.Co(new hQ(s,e.Jz,r,h,e.hA));try{const t=this.yot(),a=await this.Tot.hht(s,this.pot(),o,i),u=await this.Not(a,this.pot(),i,t);return W(this.Dot(t._ot,e,s,r,h,a)),{Wht:u,Mrt:e,Ght:n,zu:s}}catch(t){throw go(t),new gQ(t,n,e)}}async Pht(t,i){Pi(i);const e=await this.Tot.aht(t,false,1e4,i);return await this.Not(e,false,i)}async Not(t,i,e,s){if(i){const i=s?s.aot(t):t.BG();return{hA:Lo.zS,Cp:new iQ(i)}}{const i=s?await s.fot(t):await t.Kj(e);return{hA:Lo.CH,Cp:new tQ(i)}}}async Dot(t,i,e,s,n,r){try{const h=await t;this.Co(new _Q(e,i.Jz,s,n,i.hA,r.TS,h.q_.Eht))}catch(t){}}gn(){this.Vo()}constructor(t,i,e){super(),this.Tot=t,this.got=i,this.bht=e}};var AQ=class{Iot(t,i,e,s,n){const r=new sQ(n),h=this.Sot(t,e,s);return new JU([r,h])}Sot(t,i,e){return new wQ(t,i,e)}};r();var vQ=.001,mQ=class{get b_(){return this.Eot.b_}get bot(){return this.Eot.bot}get uq(){return this.Eot.uq}get Lot(){if(this.VJ.vg<Os.Gn)return!1;if(this.Eot.jn<=this.kot&&this.Eot.Cot())return!0;const t=this.Eot.AP;if(!t||0===t.U)return!1;const i=Ki.cR(this.S4.j_,1/0);return t.Sn(i).XB(this.Eot.uq).aR>=this.yR.hW}get kot(){const t=this.Eot.AP;let i;if(t&&t.U>0)i=t.jn(0);else{i=this.S4.j_;const t=this.Eot.uq,e=t.ZB(i);e>=0&&(i=t.jn(e))}const e=this.Eot.yg.Cn(0);if(e>i){if(this.Eot.Cn<=i&&this.Eot.jn>=i&&e>i+vQ)throw new _n(i,e);i=e}return i=this.Eot.xot.FB(i),i}constructor(t,i,e,s){this.Eot=t,this.S4=i,this.VJ=e,this.yR=s}};r();var pQ=class{get Oot(){if(0===this.Kf.size)return Ki.lR();let t=Ki.cR(0,1/0);return this.Kf.forEach((i=>{t=t.Sn(i)})),t}jot(){let t=Ki.lR();return this.Kf.forEach((i=>{t=t.HB(i)})),t}zot(t){let i=!1;return this.Kf.forEach((e=>{i=i||e.gr(t)})),i}Pot(t,i){const e=this.Kf.get(i.o);return!!e&&e.gr(t)}KB(t,i){let e=!1;return this.Kf.forEach((s=>{e=e||s.KB(t,i)})),e}Bot(t,i){const e=this.Kf.get(i.o).HB(t);this.Kf.set(i.o,e)}Rot(t){this.Kf.forEach(((i,e)=>{const s=i.HB(t);this.Kf.set(e,s)}))}Uot(t){this.Kf.forEach(((i,e)=>{this.Kf.set(e,i.Sn(t))}))}Zn(){this.Kf.forEach(((t,i)=>{this.Kf.set(i,Ki.lR())}))}constructor(t){this.Kf=function(t){const i=Qt();for(const e of t)i.set(e.o,Ki.lR());return i}(t)}},yQ=class{get Qot(){return this.Fot}get uq(){return this.cq}Yot(t){for(const i of this.bet){if(i.Got>t)break;if(i.Vot>t)return i}}Wot(t){for(const i of this.bet){if(i.Hot>t)break;if(i.qot>=t)return i}}Xot(t,i){const e=[];for(const s of this.bet){if(s.Got>t)break;s.Vot>=i&&e.push(s)}return e}Zot(){return this.bet}Kot(t,i){const e=Ki.cR(t.Hot,t.qot),s=e.YB();this.Fot.Uot(s),this.Fot.Bot(e,i),this.Jot(s);const n=Fa(this.bet,(i=>t.Got<=i.Got));if(n<0)this.bet.push(t);else{this.bet[n].Vot<=t.Vot?this.bet.splice(n,1,t):this.bet.splice(n,0,t)}}lq(t,i){this.cq.Bot(t,i)}$ot(t){this.cq.Rot(t)}Uot(t){this.Fot.Uot(t),this.cq.Uot(t);const i=this.Fot.jot();this.Jot(i)}Jot(t){this.bet=this.bet.filter((i=>t.$B(i.Hot,i.qot))).map((i=>i.iat&&!t.KB(i.Hot,i.qot)?function(t,i){return{Got:t.Got,Vot:t.Vot,Hot:t.Hot,qot:t.qot,iat:i}}(i,!1):i))}Zn(){this.Fot.Zn(),this.cq.Zn(),this.bet=[]}gn(){this.Zn()}constructor(t){this.bet=[],this.Lt=t,this.Fot=new pQ(t.Lnt),this.cq=new pQ(t.Lnt)}};r(),r();var MQ=class{get Prt(){return this.eat}set Prt(t){this.eat=t}get Urt(){return this.zrt.Lt.Urt}async sat(t,i,e){let s;Pi(e);const n=this.zrt.Wot(t);s=n&&Va(n.qot,t,1e-5)?x.max(n.Vot,t):t;const r=this.nat(s),h=function(t){return TQ.bind(void 0,t)}(s);let o=await this.X7.rat(h,r,i,e);for(Pi(e);o&&this.oat(o.Ght);){const t=SQ(o.Ght),s=o.Mrt;o=await this.X7.rat(t,[s],i,e),Pi(e)}if(!o)return void 0;if(!this.aat(o.Ght))return o;const a=this.uat(o.Ght);if(t<a.Cn)return await this.findFirstNonAppendedSegmentBeforeSegment(o,i,e,a);if(t>=a.jn)return await this.findFirstNonAppendedSegmentAfterSegment(o,i,e);if(!o.Mrt.dat(o.Ght))throw new b("Fatal buffering error")}async findFirstNonAppendedSegmentAfterSegment(t,i,e){let s=t;do{const n=SQ(s.Ght),r=t.Mrt;s=await this.X7.rat(n,[r],i,e),Pi(e)}while(s&&this.aat(s.Ght));if(s)return s}async findFirstNonAppendedSegmentBeforeSegment(t,i,e,s){let n=t;do{const s=IQ(n.Ght),r=t.Mrt;n=await this.X7.rat(s,[r],i,e),Pi(e)}while(n&&this.aat(n.Ght));if(!n){0;const i=t.Mrt.fat.Cn;throw new _n(i,s.Cn,t.Mrt)}return n}_at(t){return this.zrt.Qot.zot(t)}gat(t){return this.zrt.Xot(t.zN,t.PN)}aat(t){const i=this.gat(t);return i.length>0&&function(t,i){return function(t){let i=Ki.lR();for(const e of t)i=i.HB(Ki.cR(e.Got,e.Vot));return i}(t).KB(i.zN,i.PN)}(i,t)&&i.every(EQ)}oat(t){return this.zrt.uq.KB(t.zN,t.PN)}uat(t){const i=this.gat(t);return{Cn:i[0].Hot,jn:i[i.length-1].qot}}nat(t){const i=this.wat(t);if(0===i.length){const t=this.eat?this.eat:this.zrt.Lt.Lnt;return[t[t.length-1]]}const e=i.filter((t=>!t.Aat));return e.length>0?e:[i[i.length-1]]}wat(t){return(this.eat?this.eat:this.zrt.Lt.Lnt).filter((i=>!this.zrt.uq.Pot(t,i)))}constructor(t,i,e){this.eht=t,this.zrt=i,this.X7=e}};async function TQ(t,i,e,s){const n=i.Ust.vat(t);if(n){if(i.mat(n)){return(await i.yat(n,e,s)).pat(t)}return n}}async function NQ(t,i,e,s){if(H(t)){if(0===t.Hht)return;const n=i.Ust.Mat(t);if(!n)return;return(await i.yat(n,e,s)).Tat(t.Hht-1)}return i.Ust.Nat(t)}async function DQ(t,i,e,s){if(H(t)){const n=i.Ust.Mat(t);if(!n)return;const r=await i.yat(n,e,s);if(t.Hht+1===r.U)return;return r.Tat(t.Hht+1)}return i.Ust.Dat(t)}function IQ(t){return NQ.bind(void 0,t)}function SQ(t){return DQ.bind(void 0,t)}function EQ(t){return t.iat}r();var bQ=class{async rat(t,i,e,s){Pi(s);const n=this.Iat(i,e);if(!n)return;const r=await t(n,this.Sat,s);if(!r)return;const h=n.Eat(r);return{Mrt:n,Ght:r,zu:h}}Iat(t,i){if(0===t.length)return;const e=this.Lat.bat(t,this.Cat?i:void 0,this.Eot,this.yR.sW);return this.Cat||(this.Cat=!0),e}constructor(t,i,e,s){this.Lat=t,this.Eot=i,this.yR=e,this.Sat=s,this.Cat=!1}};r();var LQ=class{async rat(t,i,e,s){Pi(s);const n=this.Lat.xat(i,e,this.Eot);if(!n.length)return;let r;for(const i of n)try{Pi(s);const e=await t(i,this.Sat,s);if(e){const t=i.Eat(e);if(await this.Vht.aet(t.zu,t.fht))return{Ght:e,Mrt:i,zu:t}}}catch(t){go(t),r=t}if(r)throw r}constructor(t,i,e,s){this.Lat=t,this.Eot=i,this.Vht=e,this.Sat=s}};function kQ(t){return void 0!==t.ag}function CQ(t,i){const e=t.ji&&i.ji,s=t.Ti&&i.Ti;if(e||s){if(e&&s)return t.ji*t.Ti-i.ji*i.Ti;if(e)return t.ji-i.ji;if(s)return t.Ti-i.Ti;return(t.ji||1)*(t.Ti||1)-(i.ji||1)*(i.Ti||1)}return 0}function xQ(t,i){return CQ(t,i)||function(t,i){return t.Jz-i.Jz}(t,i)}r(),r();var OQ=class t{bat(i,e,s,n){let r=t.sortByQuality(i);if(void 0!==this.Oat&&void 0===e&&i.length>1){const i=t.jat(r,this.Oat);i&&(r=i)}const h=this.xat(r,e,s,n);return h.length?h[h.length-1]:r[0]}xat(i,e,s,n){var r;const h=t.sortByQuality(i),o={Dht:void 0===n||this.zat.Mht?this.zat.Dht:n,ag:kQ(s)&&s.ag?s.ag:1,Pat:s.ji,Bat:s.Ti,Rat:null==(r=this.Uat)?void 0:r.restrictToPlayerSize};let a=h;for(const t of this.Qat)a=t(a,e,o,this.btt,this.Fat);return a}static Yat(i){return t.sortByQuality(i)[0]}static Gat(i,e){var s;return e?t.Yat(null!=(s=t.jat(i,e))?s:i):t.Yat(i)}static jat(t,i){for(const e of i){const i=t.filter((t=>Ft(t.Mtt,e)));if(i.length>0)return i}}static sortByQuality(t){const i=[...t];return i.sort(xQ),i}constructor(t,i,e,s,n,r){this.Qat=t,this.zat=i,this.btt=e,this.Uat=s,this.Oat=n,this.Fat=r}};r();var jQ=(t,i,e,s,n)=>t.filter((t=>n.PH(t)&&s.wtt(i,t)));r();var zQ=(t,i,e)=>t.filter((t=>function(t,i,e){const s=e.Dht;if(s<=0)return!1;return.8*s>t.Jz*e.ag}(t,0,e)));r();var PQ=(t,i,e,s,n)=>{const r=e.Rat;if(void 0===r&&!s.Qs)return t;if(!1===r)return t;if(t.length>0&&t[0].hA!==hv.vp)return t;for(let i=t.length-1;i>=0;i--){const s=t[i];if(s.Ti===e.Bat&&s.ji===e.Pat)return t.slice(0,i+1);if(s.Ti<e.Bat||s.ji<e.Pat)return t.slice(0,i+2)}return[]};r();var BQ=class{async rat(t,i,e,s){let n;for(const r of this.Vat)try{const n=await r.rat(t,i,e,s);if(n)return n}catch(t){n=t}if(n)throw n}constructor(t){this.Vat=t}};r(),r();var RQ=class{async Wat(t,i,e,s){let n;for(const r of this.Hat)try{return await r.Wat(t,i,e,s)}catch(t){go(t),n=t}throw n}constructor(t){this.Hat=t}};r();var UQ=class{async Wat(t,i,e,s){var n;const r=await this.gE.mS({zu:t,rE:Rt.OS,sE:i?{Range:"bytes="+i[0]+"-"+(null!=(n=i[1])?n:"")}:void 0,uE:e,nE:Yc.GET,hA:Ru.KT,a_:s});return await r.Kj()}constructor(t){this.gE=t}};r();var QQ=class{async Wat(t,i,e,s){const n=await this.Vht.cet(t,i);if(n)return n.buffer;if(i){const e=await this.Vht.cet(t);if(e)return jh(new T(e.buffer),i[0],i[1])}throw new Ar({zu:t,fht:i,uE:!1})}constructor(t){this.Vht=t}};r();var FQ=1.05,YQ=(t,i,e,s)=>{if(!1===e.Rat)return t;if(s.att)return t;const n=s.utt;var r;const h=(null!=(r=null==n?void 0:n.width)?r:e.Pat)*FQ;var o;const a=(null!=(o=null==n?void 0:n.height)?o:e.Bat)*FQ;for(let i=t.length-1;i>=0;i--){const e=t[i];if(e.Ti<=a&&e.ji<=h)return t.slice(0,i+1)}return[]},GQ=class{static D8(t,i,e,s,n,r,h,o,a,u){const c=function(t,i){return new RQ([new QQ(i),new UQ(t)])}(r,h),l=new OQ([jQ],n,lg.Ys,o,a,u),d=new LQ(l,i,h,c),f=new OQ([zQ,jQ,PQ,YQ],n,lg.Ys,o,a,u),_=new bQ(f,i,s,c),g=new BQ([d,_]);return new MQ(t,e,g)}};r();var VQ=class{qat(t,i,e,s){return this.Eot.qat(t,i,e,s)}Xat(t,i,e){return this.Eot.Bst(t,i,e)}Zat(t,i,e){return this.Eot.Zat(t,i,e)}lq(t,i){this.Eot.lq(t,i)}dq(t,i){this.Eot.dq(t,i)}NJ(){this.Eot.NJ()}lW(){return this.Eot.lW()}constructor(t){this.Eot=t}};r(),r();var WQ=class extends mg{constructor(i,e,s,n,r,h=0){super(t.KA),this.segmentStartTime=i,this.error=e,this.trackType=s,this.track=n,this.quality=r,this.retryCount=h}};r();var HQ=class extends mg{constructor(i,e){super(t.MA),this.track=i,this.segments=e}},qQ=class extends Xo{constructor(t,i){super(i),this.Kat=t}},XQ=[t.JA,t.rv],ZQ=class extends i{get Crt(){return this.Jat}get Ort(){return this.$at}set Prt(t){this.tut.Prt=t}get Prt(){return this.tut.Prt}get Urt(){return this.zrt.Lt.Urt}iut(t){return!this.HK||!t||!va(this.HK._nt,t._nt)}sht(t){if(!this.Jat)return!1;const i=this.Jat.Ght,e=Ki.cR(i.zN,i.PN),s=this.eut.bot,n=s.ZB(t);return n<0?e.gr(t,vQ):e.$B(t,s.jn(n),!0,!0,vQ)}async tht(t){const i=this.zrt.Lt.Lnt;for(;;)try{Pi(t),this.nht();if(this.rht())break;const e=this.sut(),s=await this.rat(e,t);if(void 0===s)break;if(this.Jat=s,!KQ(this.Jat)){await this.nut(this.Jat,t);continue}this.$at&&!Ft(this.$at.Mrt.LP,this.Jat.Mrt.LP)&&await this.Fat.RH(this.Jat.Mrt),await this.rut(e,this.Jat.Ght,t),this.HK=await this.hut(this.Jat.Mrt,t);const n=await this.jht(this.Jat,t),r=this.eut.b_,h=this.$at;this.$at=await this.out(n,t);const o=this.eut.b_;this.aut(h,this.Jat,r,o),i.forEach((t=>t.Aat=!1)),this.uut=0,this.cut=0}catch(e){if(e instanceof _n){this.kJ(e.Cn,e.jn,e.Mrt);continue}if(e instanceof qQ){let s=500;if(i.every((t=>t.Aat))){if(2===this.uut){const t=this.eut.b_;if(this.lut(this.Jat),this.aut(this.$at,this.Jat,t,t),i.forEach((t=>t.Aat=!1)),this.cut+=1,this.uut=0,this.cut===this.fut.maxRetries)throw new ce(y_.MEDIA_LOAD_ERROR,"The segments could not be loaded.",e);continue}this.uut++;const t=this.fut.minimumBackoff*2**(this.uut-1);s=x.min(t,this.fut.maximumBackoff)}await ws(s,t);continue}throw this._ut=Ki.lR(),e}finally{this.Jat=void 0}}aut(t,i,e,s){const n=s.XB(e),r=i.Mrt.gut(i.Ght),h=i.Mrt.dat(i.Ght);let o=i.Ght.zN,a=i.Ght.PN;r&&(o=x.min(o,x.max(0,i.Mrt.fat.Cn-.05))),h&&(a=x.max(a,i.Mrt.fat.jn));const u=Ki.cR(o,a).XB(s);if(0===n.U)return 0===this._ut.U&&this._ut.HB(Ki.cR(e.jn(e.U-1),o)),this._ut=this._ut.HB(u),void this.zrt.$ot(this._ut);if(r||this._ut.U>0){const t=u.Sn(Ki.cR(o,n.Cn(0)));this.wut(t)}const c=n.YB().Sn(Ki.cR(n.Cn(0),n.jn(n.U-1)));if(this.wut(c),h){const t=u.Sn(Ki.cR(n.jn(n.U-1),a));this.wut(t)}if(this._ut.U>0){const t=this._ut.XB(n);this.wut(t),this._ut=Ki.lR()}const l=i.Mrt.Ust,d=H(i.Ght)?void 0:l.Nat(i.Ght);var f;const _=null!=(f=null==t?void 0:t.Ght)?f:this.Aut(d)?d:void 0;if(_){const t=this.zrt.Xot(_.zN,_.PN);if(t.length>0){const i=Ki.cR(t[t.length-1].qot,n.Cn(0));this.wut(i)}}const g=H(i.Ght)?void 0:l.Dat(i.Ght);if(g&&this.Aut(g)){const t=this.zrt.Xot(g.zN,g.PN);if(t.length>0){const i=Ki.cR(n.jn(n.U-1),t[0].Hot);this.wut(i)}}}Aut(t){return!!t&&this.zrt.Xot(t.zN,t.PN).length>0}wut(t){const i=t.XB(this.eut.b_);for(let t=0;t<i.U;t++)i.Cn(t)!==i.jn(t)&&this.vut.lq(i.Cn(t),i.jn(t))}mut(t,i){throw new qQ(t,i)}nht(){if(this._ut.U>0)return;var t;const i=this.eut.bot.HB(null!=(t=this.eut.uq.QB().oR(this.eut.kot))?t:Ki.lR());this.zrt.Uot(i),this.yut&&!this.Mut(this.yut)&&(this.yut=void 0),this.Co(new HQ(this.zrt.Lt.Urt,this.zrt.Zot()))}rht(){return this.$at&&this.$at.Mrt.dat(this.$at.Ght)?(this.vut.NJ(),!0):(this.yut&&this.yut.Mrt.dat(this.yut.Ght)&&this.Mut(this.yut)&&this.vut.NJ(),!!this.eut.Lot)}Mut(t){return this.zrt.Qot.KB(t.Tut,t.Nut)}Dut(t,i,e){(!this.yut||this.yut.Ght.PN<t.Ght.PN)&&(this.yut=At({},t,{Tut:i,Nut:e}))}sut(){const t=this.eut.kot;return t}async rat(t,i){Pi(i);const e=this.$at?this.$at.Mrt:void 0,s=await this.tut.sat(t,e,i);if(s)return s}async nut(t,i){const e=t.Mrt,s=e.Ust,n=H(t.Ght)?s.Mat(t.Ght):t.Ght,r=e.Sut.Iut(),h=s.Eut(n);if(h&&h.getTime()<=r.getTime())return this.mut(Pu.Unt,"Segment is not available.");const o=s.but(n).getTime()-r.getTime();await gg((t=>Promise.race([ws(o,t),e.D_(ei.Art,t)])),i)}async hut(t,i,e){void 0===e&&(e=0),Pi(i);const s=t.Lut;if(!s)return this.HK;try{if(!t.kut){const e=await this.Cut.Pht(s,i);t.kut=e.Cp}}catch(s){if(go(s),ay(s)){if(2===e)return t.Aat=!0,this.mut(Pu.qnt,"Could not fetch the initializer.");const s=x.min(this.fut.minimumBackoff*2**e,this.fut.maximumBackoff);return await ws(s,i),this.hut(t,i,e+1)}throw new ce(y_.MEDIA_LOAD_ERROR,s.message,s)}Pi(i);try{this.iut(t.kut)&&await this.vut.Xat(t.kut,t,i)}catch(t){if(go(t),ay(t))return this.mut(Pu.qnt,"Could not append the initializer.");throw new ce(y_.MEDIA_DECODE_ERROR,t.message,t)}return t.kut}async jht(t,i,e){void 0===e&&(e=0);try{return Pi(i),await this.Cut.jht(t,i)}catch(s){if(go(s),s instanceof gQ){if(function(t){return t instanceof oy}(s.cause))return this.xut(new gQ(s,t.Ght,t.Mrt),e),this.mut(Pu.Unt,"Could not append the segment.");if(2===e)return t.Mrt.Aat=!0,this.xut(s,e),this.mut(Pu.Unt,"Could not fetch the segment.");const n=x.min(this.fut.minimumBackoff*2**e,this.fut.maximumBackoff);return await ws(n,i),await this.jht(t,i,e+1)}throw new ce(y_.MEDIA_LOAD_ERROR,s.message,s)}}async rut(t,i,e){const s=this.zrt.Xot(i.zN,i.PN),n=this.eut.bot.oR(t);let r=Ki.lR();for(const t of s){Pi(e);const i=t.Hot,s=t.qot,h=n&&n.$B(i,s)?x.max(i,n.jn(0)):i,o=s;h<o&&(r=r.HB(Ki.cR(h,o)))}for(let t=0;t<r.U;t++)await this.vut.Zat(r.Cn(t),r.jn(t),e);this.nht()}async out(t,i){try{Pi(i);const e=await this.vut.qat(t.Wht,t.Ght,t.Mrt,i);return this.Out(t,e.Tut,e.Nut),this.Dut(t,e.Tut,e.Nut),t}catch(i){if(go(i),ay(i))return this.xut(new gQ(i,t.Ght,t.Mrt),0),this.mut(Pu.Unt,"Could not append the segment.");if(dc(i)&&this.vut.lW())return this.mut(Pu.Fnt,"Buffer is full. Could not reduce the buffer.");throw new ce(y_.MEDIA_DECODE_ERROR,i.message,i)}}Out(t,i,e){const s=t.Mrt,n=t.Ght;this.Kot(n,s,i,e)}Kot(t,i,e,s){this.zrt.Kot({Got:t.zN,Vot:t.PN,Hot:e,qot:s,iat:!0},i),this.vut.dq(e,s)}kJ(t,i,e){const s=Ki.cR(t,i);e?this.zrt.lq(s,e):this.zrt.$ot(s),this.vut.lq(t,i)}lut(t){const i=Ki.cR(t.Ght.zN,t.Ght.PN);t.Mrt?this.zrt.lq(i,t.Mrt):this.zrt.$ot(i)}xut(t,i){const e=t.Aot,s=this.zrt.Lt.Urt,n=this.zrt.Lt.va,r=t.mot.Mrt&&t.mot.Mrt.va,h=new WQ(e,t.message,s,n,r,i);this.Co(h)}Zn(){this.HK=void 0,this.$at=void 0}gn(){this.Zn(),this.yut=void 0,this.Cut.fn(XQ,this.Ds),this.Cut.gn()}constructor(t,i,e,s,n,r,h,o){super(),this.eht=t,this.zrt=i,this.eut=e,this.tut=s,this.Cut=n,this.vut=r,this.Fat=h,this.fut=o,this.Jat=void 0,this.HK=void 0,this.$at=void 0,this.yut=void 0,this.uut=0,this.cut=0,this._ut=Ki.lR(),this.Cut.yn(XQ,this.Ds)}};function KQ(t){const i=t.Mrt,e=i.Ust,s=H(t.Ght)?e.Mat(t.Ght):t.Ght;return e.jut(s,i.Sut.Iut())}var JQ=0,$Q=class{D8(t){const i=JQ++,e=this.Eot.IJ,s=new yQ(t),n=new ZU(e,this.zut),r=new mQ(this.Eot,this.S4,this.VJ,this.yR),h=GQ.D8(i,this.Eot,s,this.yR,n,this.gE,this.Vht,this.Uat,this.Oat,this.Fat),o=function(t){switch(t){case hv.mp:return nn.mp;case hv.vp:return nn.vp;case hv.Ru:return nn.Ru;case hv.ZT:return nn.ZT;default:return nn.KT}}(e),a=new HU(this.gE,o),u=this.Iot(a,n,this.zut),c=new VQ(this.Eot),l=new ZQ(i,s,r,h,u,c,this.Fat,this.fut);return new WU(i,t.Mot,s,l,this.S4)}constructor(t,i,e,s,n,r,h,o,a,u,c){this.Eot=t,this.S4=i,this.VJ=e,this.gE=s,this.yR=n,this.zut=r,this.Vht=h,this.Uat=o,this.Oat=a,this.Fat=u,this.fut=c}},tF=class extends $Q{Iot(t,i,e){return(new AQ).Iot(t,this.Eot,i,e,this.Vht)}},iF=class extends $Q{Put(t,i){const e={Urt:hv.Ru,Mot:i,Lnt:i.Lnt,va:t.va};return super.D8(e)}Iot(t,i){return(new AQ).Iot(t,this.Eot,i,!1,this.Vht)}};r();var eF=class{PH(t){return this.Ist.PH(t)}RH(t){return this.Ist.RH(t)}constructor(t){this.Ist=t}},sF=class{PH(t){return!0}RH(t){return Promise.resolve(void 0)}};r(),r();var Dn=class extends z{fa(){return new nF(this.Hw.map((t=>t.va)))}constructor(t,i){super(ea.Lw),this.Hw=t||[],this.Lt=i}},nF=class extends mg{constructor(t){super("targetqualitychanged"),this.qualities=t,this.quality=this.qualities.length>0?this.qualities[0]:void 0}};r();var rF=class extends yo{fa(){return new hF(this.quality.va)}constructor(t){super(ea.QUALITY_UNAVAILABLE),this.quality=t}},hF=class extends bu{constructor(t){super("qualityunavailable"),this.quality=t}};r();var oF=class extends mg{constructor(){super(ea.NO_QUALITY)}};function aF(t){return{Jz:t.Jz,Mtt:t.Het,Ti:uF(t)?t.Ti:0,hA:uF(t)?hv.vp:hv.mp,ji:uF(t)?t.ji:0}}function uF(t){const i=t;return void 0!==i.Ti&&void 0!==i.ji}r();var cF=0,lF=class extends i{get Ww(){return this.Xrt.But.map(dF).filter(li)}Rut(t){for(const i of t)i.yn("update",this.Uut),this.vN.mN(i)}Qut(t){if(!this.vN.yN(t))return;t.CS();const i=this.Fut();if(this.Yut&&Ho(this.Yut,t)){const t=this.Yut.filter((t=>t.qit));0===t.length&&i.length>0?this.qw=i:this.qw=t}else this.qw=i;this.Co(new rF(t))}Fut(){const t=[];for(const i of this.vN.xw)i.qit&&t.push(i);return t}get Gw(){return this.Gut}Vut(t){this.Gut=t.Mrt,this.Co(t)}get Mot(){return this.Xrt}get Rt(){return this.Le}set Rt(t){this.EN(t)}get va(){return this.Xa||(this.Xa=Ei(this)),this.Xa}get Wut(){return this.Hut}set Wut(t){this.Hut=t}get o(){return this.NN}get Vw(){return this.DN}get zt(){return this.f0}get gs(){return this.Uk}get kh(){return this.IN}set kh(t){t!==this.IN&&(this.IN=t,this.Co(new Ln(this)))}get eA(){return this.Rt?"enabled":"disabled"}get qw(){return this.Yut}set qw(t){let i=[];if(t){const e=(null!=t?t:[]).filter((t=>{const i=this.Gw?aF(this.Gw):void 0;return lg.Ys.wtt(i,aF(t))}));if(0===e.length)return;i=e.filter((t=>t.qit))}else i=this.Fut();0===i.length&&this.Co(new oF),this.Yut=t&&this.vN.yN(t)?t:void 0,this.qut=this.Xut(this.Yut),this.Co(new Dn(t,this))}get Zut(){return this.qut}Xut(t){if(!t||0===t.length)return;const i=[];for(const e of this.Lnt)for(const s of t)s===e.Mrt&&s.qit&&i.push(e);return i}get Hw(){return this.vN}get Lnt(){return this.Kut}Jut(t){this.$ut.push(t),this.Kut.push(...t.Lnt);const i=t.Lnt.map((t=>t.Mrt));this.Rut(i)}get Urt(){return this.tct}get ict(){return this.$ut}EN(t){this.Le=t,this.Hut&&(t?this.Hut.kS(this):this.Hut.CS(this))}ect(t){this.Le=t,this.sct!==t&&(this.sct=t,this.Co(new le(this)))}gn(){for(const t of this.vN.xw)t.fn("update",this.Uut);this.vN.Zn()}constructor(t,i,e="alternative"){super(),this.Gut=void 0,this.Le=!1,this.Xa=void 0,this.Hut=void 0,this.NN="",this.sct=!1,this.vN=new Bt,this.Kut=[],this.Yut=void 0,this.qut=void 0,this.Uut=()=>this.Co(new Ln(this)),this.$ut=[],this.Xrt=t,this.NN=String(cF++),this.DN=Ou(),this.f0=e,this.Uk=t.h6,this.IN=t.kh,this.tct=t.hA,this.Kut=t.Lnt,this.Rut(i)}};function dF(t){if("urn:mpeg:dash:role:2011"===t.Xet)return fF(t);if("urn:tva:metadata:cs:AudioPurposeCS:2007"===t.Xet){if("1"===t.ST)return gc.Zw;if("2"===t.ST)return gc.Jw}}function fF(t){if(void 0!==(null==t?void 0:t.ST))switch(t.ST){case"caption":return gc.Xw;case"sign":return gc.Kw;case"description":return gc.Zw;case"enhanced-audio-intelligibility":return gc.Jw;default:return}}var _F=class extends UU{get AP(){const t=this.S4.j_;return this.bot.oR(t,.01)}get nct(){return this.Ant&&this.rct[this.Ant.Vw]?this.rct[this.Ant.Vw]:Ki.lR()}get hct(){return this.Ant&&this.act[this.Ant.Vw]?this.act[this.Ant.Vw]:Ki.lR()}get xot(){return new Ki([0,1/0])}get b_(){return this.nct}get uq(){return this.uct?this.uct.jrt.uq.Oot:Ki.lR()}get bot(){return QU(this.b_,this.uq).WB(2*this.cct)}get Cn(){return this.mnt?this.mnt.fat.Cn:NaN}get jn(){return this.mnt?this.mnt.fat.jn:NaN}get R_(){const t=this.jn;return!!t&&this.S4.j_>=t}get cct(){var t;const i=this.Ent();if(!i)return.04;var e;return 1/(null!=(e=this.Ant&&(null==i||null==(t=i.lct)?void 0:t.cD()))?e:25)}get Ti(){return this.iC}get IJ(){return hv.Ru}get ag(){return this.wR}set ag(t){this.wR=t}get fg(){return this.hct}get yg(){if(!this.Ant)return Ki.uR(0);const t=this.Snt(this.Ant),i=null==t?void 0:t.dct,e=null==t?void 0:t.fct;if(void 0===e||void 0===i)return Ki.uR(0);const s=x.max(i,this.S4.j_);return new Ki([e,s]).QB()}get ji(){return this.tC}NJ(){}Cot(){return this.bot.gr(this.jn)}async qat(t,i,e,s){const n=t.hA===Lo.CH?t.Cp._nt:await t.Cp.Kj(s),r=this.findTrackForRepresentation(e),h=this.rct[r.Vw],o=i.zN,a=i.PN,u=new Ki([o,a]);h||(this.rct[r.Vw]=Ki.lR(),this.act[r.Vw]=Ki.lR()),this.kst(s);const c=this.Rst(new T(n),i,e,r);for(const t of c)r.vE(t);return this.rct[r.Vw]=this.rct[r.Vw].HB(u),{Tut:o,Nut:a}}kst(t){const i=Ub(this.S4.j_,void 0,void 0,this.b_,this.yR.hW,this.yR.tW);for(const[e,s]of i)W(this.Zat(e,s,t))}Bst(t,i,e){return this._ct.Bst(t,i,e)}Rst(t,i,e,s){return this._ct.Rst(t,i,e,s)}Zat(t,i,e){const s=t,n=i;let r=new Ki([t,i]);for(const t of this.Z.xw){const i=[];for(const e of t.L.xw)e.zN>=s&&e.PN<=n?i.push(e):r=r.XB(new Ki([e.zN,e.PN]));for(const e of i)t.DS(e);const e=this.rct[t.Vw];e&&(this.rct[t.Vw]=e.XB(r))}return Promise.resolve()}lq(t,i){}dq(t,i){}lW(){return!1}kS(t){if(super.kS(t),this._ct.Zn(),this.uct&&(this.uct.gn(),this.uct=void 0),this.Ant){const t=this.Snt(this.Ant);this.uct=new iF(this,this.S4,this.S4,this.gE,this.yR,!1,this.Vht,void 0,void 0,new sF,qv).Put(this.Ant,t),this.uct.yn(Nr.ha,this.gct),this.uct.Cn(Pu.xnt)}}CS(t){this.Ant===t&&(super.CS(t),this.uct&&(this.uct.gn(),this.uct=void 0))}Mnt(t){const i=function(t){const i=t.Lnt&&t.Lnt.length>0&&t.Lnt[0],e=i&&cy(i.Het),s=cy(t.Het),n=t.gY===Ml.APPLICATION_TTML_XML;return e||s||n?Ks.TTML:t.gY===Ml.TEXT_VTT||Io(t.gY,t.Het)?Ks.WEBVTT:Ks.DEFAULT}(t);if(!i)throw new b("Unknown TextTrack type for Representation");const e=t.wct.concat(t.But);return this.Act(function(t){return Ho(t.filter((t=>"urn:mpeg:dash:role:2011"===t.Xet)).map((t=>t.ST)).filter(li),"caption")?Oi.fS:Oi.pp}(e),t.kh,t.h6,!1,i,t,function(t){return t.filter((t=>"urn:mpeg:dash:role:2011"===t.Xet)).some((t=>function(t){return"forced-subtitle"===t||"forced_subtitle"===t}(t.ST)))}(t.wct),t.But.map(fF).filter(li))}async Zn(){await super.Zn(),this.uct&&(await this.uct.Zn(Pu.irt),this.uct.fn(Nr.ha,this.gct),this.uct=void 0),this.mnt=void 0,this.rct={},this.act={}}vct(){this.rct={},this.act={}}findTrackForRepresentation(t){for(const i of this.Z.xw){const e=this.Snt(i);if(e&&UU.bnt(e)===t)return i}}constructor(t,i,e,s,n){super(),this.iC=0,this.wR=1,this.uct=void 0,this.rct={},this.act={},this.tC=0,this.gct=t=>{0},this.S4=t,this.gE=i,this.yR=e,this._ct=s,this.Vht=n}},gF=class extends _F{Act(t,i,e,s,n,r,h,o){var a;const u=r.Lnt.reduce(((t,i)=>t||i.o),void 0);var c;const l=null!=(c=null!=u?u:null==(a=r.o)?void 0:a.toString())?c:"";return this.fE.dE(t,l,i,e,s,n,h,o)}gn(){for(const t of this.Z.xw)this.fE.pE(t);return super.gn()}constructor(t,i,e,s,n,r){super(t,i,e,s,n),this.fE=r}},wF=class{get nt(){return this.Dl}async _E(t){if(t.hA!==hv.Ru)return;const i=function(t,i){return cy(i)||t===Ml.APPLICATION_TTML_XML||t===Ml.TEXT_VTT?new PU:Io(t,i)?new BU:void 0}(t.gY,t.Het);if(i){const e=this.mct(i);return this.pct(e),await e.$n(t),e}}mct(t){return new gF(this.S4,this.gE,this.yR,t,this.Vht,this.fE)}pct(t){this.yct.push(t),this.Dl.oP(t.Z)}async Zn(){for(const t of this.yct.slice())await t.Zn();Ri(this.yct),this.Dl.Zn()}async gn(){for(const t of this.yct)await t.gn();Ri(this.yct),this.Dl.gn()}constructor(t,i,e,s,n){this.yct=[],this.Dl=new dh([]),this.S4=t,this.gE=i,this.yR=e,this.Vht=s,this.fE=n}};r();var as,Tr,AF=class extends mg{constructor(i){super(t.FA),this.error=i}};r(),function(t){t.CO="static",t.xO="dynamic"}(as||(as={})),r(),r(),(Tr||(Tr={})).Mct="Tct";var vF=class extends mg{constructor(){super(Tr.Mct)}};r(),r(),r();var mF=[Nr.ha,t.KA,t.JA,t.rv,t.MA];r();var pF=0;r();var yF,gi,MF,TF=class extends mg{constructor(i,e){super(t.HA),this.representation=i,this.previousRepresentation=e}};function NF(t,i,e){return e===yF.Nct?e:i!==gi.Dct&&i!==gi.Ict||e!==yF.Sct&&e!==yF.Ect?t?i===gi.bct?yF.Lct:i===gi.kct?yF.Cct:yF.Nct:yF.xct:yF.Ect}function DF(t,i,e,s){const n={byte:e};let r=yF.Sct;const h=[],o=31&$L(i,n,s);n.byte+=1;for(let e=0;e<o;e+=1){const o=$L(i,n,s),a=4&o,u=3&o;r=NF(Boolean(a),u,r);const c=$L(i,n,s),l=$L(i,n,s);h.push({Oct:t,fT:-1,jct:!e,zct:Boolean(a),hA:u,Pct:r,Bct:c,Rct:l})}return h}function IF(t,i,e){const s=$L(t,i,e);if(!j(s))return String.fromCharCode(s)}function SF(t){const i=t.MZ,e={byte:t.pZ},s=t.yZ,n=$L(i,e,s);if(255===n&&(e.byte+=1),181!==n)return;const r=tk(i,e);if(47!==r&&49!==r)return;if(49===r){const t=function(t,i,e){let s="",n=e;for(;n>0;)n-=1,s+=IF(t,i);return s}(i,e,4);if("GA94"!==t)return}if(3!==$L(i,e,s))return;47===r&&(e.byte+=1);const h=t;return h.Uct=e.byte,h}function EF(t){return 4===t.vZ}function bF(t){const i=t.filter(EF).map(SF).filter(li),e=[];for(const t of i)e.push(...DF(t.AZ,t.MZ,t.Uct,t.yZ));return e}r(),r(),r(),function(t){t[t.Nct=0]="Nct",t[t.Sct=1]="Sct",t[t.Ect=2]="Ect",t[t.Cct=3]="Cct",t[t.Lct=4]="Lct",t[t.xct=5]="xct"}(yF||(yF={})),function(t){t[t.Dct=0]="Dct",t[t.Ict=1]="Ict",t[t.bct=2]="bct",t[t.kct=3]="kct"}(gi||(gi={})),function(t){t[t.Qct=47]="Qct",t[t.Fct=49]="Fct"}(MF||(MF={})),r();var LF="und";function kF(t){if(t===LF)return;const i=t.toLowerCase();for(const t of CF)if(t[1]===i||t[2]===i||t["2T"]===i||t["2B"]===i||t[3]===i)return t}var CF=[{l:"Abkhaz",lh:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{l:"Afar",lh:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{l:"Afrikaans",lh:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{l:"Akan",lh:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{l:"Albanian",lh:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{l:"Amharic",lh:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{l:"Arabic",lh:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{l:"Aragonese",lh:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{l:"Armenian",lh:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{l:"Assamese",lh:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{l:"Avaric",lh:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{l:"Avestan",lh:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{l:"Aymara",lh:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{l:"Azerbaijani",lh:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{l:"Bambara",lh:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{l:"Bashkir",lh:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{l:"Basque",lh:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{l:"Belarusian",lh:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{l:"Bengali",lh:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{l:"Bihari",lh:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{l:"Bislama",lh:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{l:"Bosnian",lh:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{l:"Breton",lh:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{l:"Bulgarian",lh:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{l:"Burmese",lh:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{l:"Catalan",lh:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{l:"Chamorro",lh:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{l:"Chechen",lh:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{l:"Chichewa",lh:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{l:"Chinese",lh:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{l:"Chuvash",lh:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{l:"Cornish",lh:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{l:"Corsican",lh:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{l:"Cree",lh:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{l:"Croatian",lh:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{l:"Czech",lh:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{l:"Danish",lh:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{l:"Divehi",lh:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{l:"Dutch",lh:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{l:"Dzongkha",lh:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{l:"English",lh:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{l:"Esperanto",lh:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{l:"Estonian",lh:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{l:"Ewe",lh:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{l:"Faroese",lh:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{l:"Fijian",lh:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{l:"Finnish",lh:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{l:"French",lh:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{l:"Fula",lh:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{l:"Galician",lh:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{l:"Georgian",lh:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{l:"German",lh:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{l:"Greek",lh:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{l:"Guaran\xed",lh:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{l:"Gujarati",lh:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{l:"Haitian",lh:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{l:"Hausa",lh:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{l:"Hebrew",lh:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{l:"Herero",lh:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{l:"Hindi",lh:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{l:"Hiri Motu",lh:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{l:"Hungarian",lh:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{l:"Interlingua",lh:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{l:"Indonesian",lh:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{l:"Interlingue",lh:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{l:"Irish",lh:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{l:"Igbo",lh:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{l:"Inupiaq",lh:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{l:"Ido",lh:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{l:"Icelandic",lh:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{l:"Italian",lh:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{l:"Inuktitut",lh:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{l:"Japanese",lh:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{l:"Javanese",lh:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{l:"Kalaallisut",lh:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{l:"Kannada",lh:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{l:"Kanuri",lh:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{l:"Kashmiri",lh:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{l:"Kazakh",lh:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{l:"Khmer",lh:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{l:"Kikuyu",lh:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{l:"Kinyarwanda",lh:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{l:"Kyrgyz",lh:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{l:"Komi",lh:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{l:"Kongo",lh:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{l:"Korean",lh:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{l:"Kurdish",lh:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{l:"Kwanyama",lh:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{l:"Latin",lh:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{l:"Luxembourgish",lh:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{l:"Ganda",lh:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{l:"Limburgish",lh:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{l:"Lingala",lh:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{l:"Lao",lh:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{l:"Lithuanian",lh:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{l:"Luba-Katanga",lh:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{l:"Latvian",lh:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{l:"Manx",lh:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{l:"Macedonian",lh:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{l:"Malagasy",lh:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{l:"Malay",lh:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{l:"Malayalam",lh:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{l:"Maltese",lh:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{l:"M\u0101ori",lh:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{l:"Marathi",lh:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{l:"Marshallese",lh:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{l:"Mongolian",lh:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{l:"Nauru",lh:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{l:"Navajo",lh:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{l:"Northern Ndebele",lh:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{l:"Nepali",lh:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{l:"Ndonga",lh:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{l:"Norwegian Bokm\xe5l",lh:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{l:"Norwegian Nynorsk",lh:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{l:"Norwegian",lh:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{l:"Nuosu",lh:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{l:"Southern Ndebele",lh:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{l:"Occitan",lh:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{l:"Ojibwe",lh:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{l:"Old Church Slavonic",lh:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{l:"Oromo",lh:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{l:"Oriya",lh:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{l:"Ossetian",lh:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{l:"Panjabi",lh:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{l:"P\u0101li",lh:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{l:"Persian",lh:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{l:"Polish",lh:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{l:"Pashto",lh:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{l:"Portuguese",lh:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{l:"Quechua",lh:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{l:"Romansh",lh:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{l:"Kirundi",lh:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{l:"Romanian",lh:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{l:"Russian",lh:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{l:"Sanskrit",lh:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{l:"Sardinian",lh:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{l:"Sindhi",lh:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{l:"Northern Sami",lh:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{l:"Samoan",lh:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{l:"Sango",lh:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{l:"Serbian",lh:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{l:"Gaelic",lh:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{l:"Shona",lh:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{l:"Sinhala",lh:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{l:"Slovak",lh:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{l:"Slovene",lh:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{l:"Somali",lh:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{l:"Southern Sotho",lh:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{l:"Spanish",lh:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{l:"Sundanese",lh:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{l:"Swahili",lh:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{l:"Swati",lh:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{l:"Swedish",lh:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{l:"Tamil",lh:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{l:"Telugu",lh:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{l:"Tajik",lh:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{l:"Thai",lh:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{l:"Tigrinya",lh:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{l:"Tibetan Standard",lh:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{l:"Turkmen",lh:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{l:"Tagalog",lh:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{l:"Tswana",lh:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{l:"Tonga",lh:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{l:"Turkish",lh:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{l:"Tsonga",lh:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{l:"Tatar",lh:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{l:"Twi",lh:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{l:"Tahitian",lh:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{l:"Uyghur",lh:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{l:"Ukrainian",lh:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{l:"Urdu",lh:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{l:"Uzbek",lh:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{l:"Venda",lh:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{l:"Vietnamese",lh:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{l:"Volap\xfck",lh:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{l:"Walloon",lh:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{l:"Welsh",lh:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{l:"Wolof",lh:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{l:"Western Frisian",lh:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{l:"Xhosa",lh:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{l:"Yiddish",lh:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{l:"Yoruba",lh:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{l:"Zhuang",lh:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{l:"Zulu",lh:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}];r();function xF(t){var i;const e=null!=(i=function(t){const i=t.qX,e=new zu;return e.uZ(i,0,i.byteLength),ck(e).PZ}(t))?i:24;return t.Yct/e}function OF(t){return t.hA===Wr.ep}var jF;function zF(t,i,e,s,n){const r=function(t,i,e,s){const n=e.Yct,r=Ce.fromNumber(t.DT||0),h=s.mN(Pt.SD(r,n));return{Gct:s.cD(),Vct:s,Wct:h,Hct:s}}(t,0,e,s),h=Pt.ED(t.ct||0,e.Yct),o=t.gy||0,a=!(65536&o)&&1!==(o>>24&3);let u;const c=Mo(n),l=new Or;for(;l.Ku<c.byteLength;){const t=ji(c,l);if((31&Fi(c,l,1))===ik.EZ){const i=new zu;i.uZ(n,l.Ku-1,l.Ku+t-1);const e=new uk(i),s=nk(r.Wct,e);u=u||[],u.push(...bF(s))}l.Np(t-1)}return At({},r,{ct:h.cD(),qct:h,Xct:r.Wct.cD(),Zct:r.Gct,Kct:a,Jct:u,$ct:!1,tlt:!1})}function PF(t){return{Wy:t.iy.Wy,Yct:t.Fy.iy.zy}}function BF(t){return t.hA===Wr.Tm}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(jF||(jF={})),r(),r(),r(),r(),r(),r(),r(),r();var Sr=class{$N(t){return this._6===t._6&&this.s6===t.s6}constructor(t,i){this._6=t,this.s6=i}};r();var RF=class{get E6(){return this.ilt}get T6(){return[this]}get I6(){return this.IH}get a6(){return this.elt}get l6(){return new Sr(this.a6._6,this.a6.s6+this.E6.length-1)}slt(t){this.ilt+=t}nlt(t){for(const i of t)this.slt(i)}constructor(t,i){this.IH=t,this.elt=i,this.ilt=""}};function UF(t,i){return t===i||t.E6===i.E6&&t.a6.$N(i.a6)&&Ah(t.I6,i.I6)}function QF(t,i){return t===i||t.a6.$N(i.a6)&&t.l6.$N(i.l6)&&kl(t.T6,i.T6,UF)}var FF=class extends gn{tD(t){return kl(this.O,t.O,QF)}constructor(t,i,e){super(t,i,e,!1)}};r();var YF=class{rlt(t){return t.NI(this)}hlt(t){return Eh(t,((t,i)=>t.NI(this,i)))}olt(t,i){return new GF(t,i).ult()}},GF=class{ult(){if(this.clt)return[];for(let t=0;t<this._6.length;t++)this.llt(t);return this.dlt(),this.flt}_lt(t){this.glt=new RF(qO,new Sr(this.wlt,t))}dlt(){this.glt&&(this.flt.push(this.glt),this.glt=null)}llt(t){const i=this._6[t];VF(i)?this.glt&&this.dlt():(this.glt||this._lt(t),this.glt.slt(i))}get clt(){return this._6.every(VF)}constructor(t,i){this._6=t,this.wlt=i,this.flt=[],this.glt=null}};function VF(t){return null==t}var WF=class{static Alt(t,i,e){if(i>=e)return;const s=Eh(t,((t,i)=>new GF(t.map((t=>t?t.vlt():null)),i).ult()));return 0!==s.length?new FF(i,e,s):void 0}},HF="black",qF="white";r(),r();var XF=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(((t,i)=>(t[i[0]]=i[1],t)),{}),ZF=class{plt(t){for(let i=0;i<el;i++)t&&(this.ylt[i]=t.ylt[i])}$N(t){for(let i=0;i<el;i++)if(this.ylt[i]!==t.ylt[i])return!1;return!0}Mlt(){for(let t=0;t<el;t++)if(null!==this.ylt[t])return!1;return!0}Tlt(t){this.Nlt!==t&&(this.Nlt=t),this.Nlt<0?this.Nlt=0:this.Nlt>el&&(this.Nlt=31)}Dlt(t){const i=this.Nlt+t;this.Tlt(i)}Ilt(){this.Dlt(-1),this.ylt[this.Nlt]=null}slt(t){t>=144&&this.Ilt();const i=function(t){return XF[t]?String.fromCharCode(XF[t]):String.fromCharCode(t)}(t);this.addParsedChar(i)}addParsedChar(t){this.Nlt>=el||(32===Number(t)?(this.ylt[this.Nlt]=this.Slt?"</i>":"<i>",this.Slt=!this.Slt):this.ylt[this.Nlt]=t,this.Dlt(1))}Elt(t){for(let i=t;i<el;i++)this.ylt[i]=null}OL(){this.Elt(0),this.Nlt=0}blt(){this.Elt(this.Nlt)}Llt(t,i){const e=this.ylt;let s=null;for(let n=0;n<el;n++){const r=e[n];null===r?s=null:(s||(s={Gh:n,Xh:t,ji:0,Ti:1,ylt:[[]]},i.push(s)),s.ylt[0].push(r),s.ji++)}}NI(t,i){return t.olt(this.ylt,i)}constructor(){this.ylt=[],this.Nlt=0;for(let t=0;t<el;t++)this.ylt.push(null);this.Slt=!1}};var Vn,KF=class{klt(t,i){const e="CC"+(this.Clt<<1|this.xlt+1);if(t>=i)return null;const s=(new YF).hlt(this.Olt.slice(1));return 0===s.length?null:{jN:new FF(t,i,s),BG:e,jlt:this.Clt<<1|this.xlt+1}}Zn(){this.zlt(),this.Plt=1}Blt(){return this.Plt}Rlt(t){this.Plt=t}Tlt(t){this.Olt[this.Plt].Tlt(t)}Dlt(t){this.Olt[this.Plt].Dlt(t)}Ult(){return this.Qlt}Flt(t){this.Qlt=t}slt(t,i){if(i<32||i>127)return;let e="";switch(t){case 0:e=void 0!==$F[i]?$F[i]:String.fromCharCode(i);break;case 1:e=tY[i];break;case 2:this.Ylt(),e=iY[i];break;case 3:this.Ylt(),e=eY[i]}e&&this.Olt[this.Plt].addParsedChar(e)}Ylt(){this.Olt[this.Plt].Ilt()}Glt(t,i,e){if(t>=i)for(let s=e-1;s>=0;s--)this.Olt[t+s]=this.Olt[i+s];else for(let s=0;s<e;s++)this.Olt[t+s]=this.Olt[i+s]}Vlt(t,i){for(let e=0;e<=i;e++)this.Olt[t+e]=new ZF}zlt(){this.Vlt(0,Mr)}Wlt(){this.Plt=this.Qlt>0?this.Qlt:0,this.zlt()}Hlt(t){this.qlt=t}Xlt(t){this.Zlt=t}Klt(t){this.Jlt=t}$lt(t){this.tdt=t}constructor(t,i){this.Olt=new Array(Mr+1);for(let t=0;t<=Mr;t++)this.Olt[t]=new ZF;this.Plt=1,this.Qlt=0,this.Clt=t,this.xlt=i,this.qlt=!1,this.Zlt=!1,this.Jlt=qF,this.tdt=HF,this.Zn()}},Mr=15;!function(t){t[t.idt=0]="idt",t[t.edt=1]="edt",t[t.sdt=2]="sdt",t[t.ndt=3]="ndt"}(Vn||(Vn={}));var JF,$F={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},tY={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},iY={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},eY={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},sY=class{Zn(){this.rdt=!0,this.hdt=0,this.v0=0,this.odt=this.adt,this.udt=void 0,this.adt.Zn(),this.cdt.Zn(),this.ldt.Zn()}ddt(t,i){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|i>>5&1]}fdt(t,i){const e=this.ddt(t,i),s=(30&i)>>1;let n=qF,r=!1;s<7?n=hY[s]:7===s&&(r=!0);const h=1==(1&i);if(4===this.v0)return;const o=this.odt;if(3===this.v0&&e!==o.Blt()){const t=1+o.Blt()-o.Ult(),i=1+e-o.Ult();o.Glt(i,t,o.Ult()),o.Vlt(0,i-1),o.Vlt(e+1,Mr-e)}o.Rlt(e);const a=ZO[t<<1&14|i>>5&1]-1;if(a<0)return;const u=function(t,i){const e=i>95?i-96:i-64;return{e6:XO[e].e6,i6:XO[e].i6,s6:XO[e].s6,_6:t}}(a,i);o.Tlt(u.s6),this.odt.Hlt(h),this.odt.Xlt(r),this.odt.Klt(n),this.odt.$lt(HF)}_dt(t,i){this.odt.Hlt(!1),this.odt.Xlt(!1),this.odt.Klt(qF);const e=this.gdt(t,Vn.idt," ".charCodeAt(0));let s=qF,n=!1;const r=1==(1&i);return s=hY[(14&i)>>1],"white_italics"===s&&(s="white",n=!0),this.odt.Hlt(r),this.odt.Xlt(n),this.odt.Klt(s),e}gdt(t,i,e){if(this.odt.slt(i,e),2===this.v0||3===this.v0){const i=this.wdt(this.odt,this.hdt,t);return this.hdt=t,i}return null}wdt(t,i,e){return this.rdt?null:2===this.v0||3===this.v0?t.klt(e,e+10):t.klt(i,e)}Adt(t,i){let e=HF;0==(7&t)&&(e=rY[(14&i)>>1]),this.odt.$lt(e)}vdt(t){const i=nY,e=t.mdt,s=t.pdt;let n=null;switch(e){case i.RCL:this.ydt();break;case i.BS:this.Mdt();break;case i.AOD:case i.AON:case i.DER:break;case i.RU2:n=this.Tdt(2,s);break;case i.RU3:n=this.Tdt(3,s);break;case i.RU4:n=this.Tdt(4,s);break;case i.FON:n=this.Ndt(s);break;case i.RDC:this.Ddt(s);break;case i.TR:this.Idt();break;case i.RTD:this.Sdt();break;case i.EDM:n=this.Edt(s);break;case i.CR:n=this.bdt(s);break;case i.ENM:this.Ldt();break;case i.EOC:n=this.kdt(s)}return n}bdt(t){const i=this.odt;if(3!==this.v0)return null;const e=this.wdt(i,this.hdt,t),s=i.Blt()-i.Ult()+1;return i.Glt(s-1,s,i.Ult()),i.Vlt(0,s-1),i.Vlt(i.Blt(),Mr-i.Blt()),this.hdt=t,e}Tdt(t,i){this.odt=this.adt;const e=this.odt;let s=null;return 3!==this.v0&&4!==this.v0&&(s=this.wdt(e,this.hdt,i),this.adt.Wlt(),this.cdt.Wlt(),this.rdt=!1,e.Rlt(Mr)),this.v0=3,e.Flt(t),s}Ndt(t){return this.gdt(t,Vn.idt," ".charCodeAt(0))}Edt(t){const i=this.adt;let e=null;return 4!==this.v0&&(e=this.wdt(i,this.hdt,t)),i.zlt(),this.rdt=!1,e}Ddt(t){this.v0=2,this.odt=this.adt,this.odt.Flt(0),this.hdt=t}Ldt(){this.cdt.zlt()}kdt(t){let i=null;4!==this.v0&&(i=this.wdt(this.adt,this.hdt,t));const e=this.cdt;return this.cdt=this.adt,this.adt=e,this.ydt(),this.hdt=t,i}ydt(){this.v0=1,this.odt=this.cdt,this.odt.Flt(0)}Mdt(){this.odt.Ylt()}Idt(){this.ldt.Zn(),this.rdt=!1,this.Sdt()}Sdt(){this.odt=this.ldt,this.v0=4}Cdt(t,i,e){return this.odt.slt(Vn.idt,i),this.gdt(t,Vn.idt,e)}xdt(t,i,e){const s=1&i?Vn.ndt:Vn.sdt;return this.gdt(t,s,e)}Odt(t){const i=t.jdt,e=t.mdt,s=t.pdt;if(this.udt===(i<<8|e))return this.udt=void 0,null;if(this.udt=i<<8|e,this.zdt(i,e))this.fdt(i,e);else{if(this.Pdt(i,e))return this._dt(s,e);if(this.Bdt(i,e))this.Adt(i,e);else{if(this.Rdt(i,e))return this.gdt(s,Vn.edt,e);if(this.Udt(i,e))return this.xdt(s,i,e);if(this.Qdt(i,e))return this.vdt(t);this.isTabOffset(i)&&this.odt.Dlt(e-32)}}return null}isTabOffset(t){return 23===t||31===t}Qdt(t,i){return 20==(246&t)&&32==(240&i)}zdt(t,i){return 16==(240&t)&&64==(192&i)}Pdt(t,i){return 17==(247&t)&&32==(240&i)}Bdt(t,i){return 16==(247&t)&&32==(240&i)||23==(247&t)&&45==(255&i)}Rdt(t,i){return 17==(247&t)&&48==(240&i)}Udt(t,i){return 18==(246&t)&&32==(224&i)}static Fdt(t){return 16==(112&t)}constructor(t,i){this.v0=0,this.ldt=new KF(t,i),this.adt=new KF(t,i),this.cdt=new KF(t,i),this.odt=this.adt,this.hdt=0,this.udt=void 0,this.rdt=!1}},nY={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.DB=0]="DB",t[t.Ydt=1]="Ydt",t[t.Gdt=2]="Gdt",t[t.Vdt=3]="Vdt",t[t.Ru=4]="Ru"}(JF||(JF={}));var rY=["black","green","blue","cyan","red","yellow","magenta","black"],hY=["white","green","blue","cyan","red","yellow","magenta","white_italics"];r(),r(),r();var oY,aY=class{vlt(){return this.Wdt}Hdt(){return this.qlt}qdt(){return this.Zlt}Xdt(){return this.tdt}Zdt(){return this.Jlt}constructor(t,i,e,s,n){this.Wdt=t,this.qlt=i,this.Zlt=e,this.tdt=s,this.Jlt=n}},uY=class{Kdt(t,i,e,s,n,r,h){this.xB=t,this.Jdt=i,this.$dt=e,this.tft=s,this.ift=n,this.eft=r,this.sft=h}nft(){this.rft=[];for(let t=0;t<lY;t++)this.rft.push(this.hft())}hft(){const t=[];for(let i=0;i<cY;i++)t.push(null);return t}oft(t){this.aft()&&(this.rft[this.Plt][this.uft]=new aY(t,this.qlt,this.Zlt,this.tdt,this.Jlt),this.uft++)}cft(){this.aft()&&(this.uft<=0&&this.Plt<=0||(this.uft<=0?(this.uft=this.sft-1,this.Plt--):this.uft--,this.rft[this.Plt][this.uft]=null))}aft(){const t=this.Plt<this.eft&&this.Plt>=0,i=this.uft<this.sft&&this.uft>=0;return t&&i}lft(){return this.xB}dft(t){let i=0;for(let e=t;e<lY;e++,i++)this.rft[i]=this.rft[e];for(let e=0;e<t;e++,i++)this.rft[i]=this.hft()}fft(){if(this.Plt+1>=this.eft)return this.dft(1),void(this.uft=0);this.Plt++,this.uft=0}_ft(){this.rft[this.Plt]=this.hft(),this.uft=0}klt(t,i){if(this.WN>=t)return null;const e=WF.Alt(this.rft,this.WN,t);return e?(this.gft(t),{jN:e,BG:"svc"+i,jlt:i}):null}wft(t,i){this.Plt=t,this.uft=i}Aft(t){this.tdt=t}vft(t){this.Jlt=t}mft(t){this.qlt=t}pft(t){this.Zlt=t}yft(){this.Plt=0,this.uft=0,this.qlt=!1,this.Zlt=!1,this.Jlt=qF,this.tdt=HF}Mft(t){this.Tft=t}Nft(){this.xB=!0}be(){this.xB=!1}wh(){this.xB=!this.xB}gft(t){this.WN=t}constructor(t){this.Dft=t,this.xB=!1,this.ift=!1,this.$dt=0,this.Jdt=0,this.tft=0,this.eft=0,this.sft=0,this.Tft=2,this.rft=[],this.WN=0,this.Plt=0,this.uft=0,this.Zlt=!1,this.qlt=!1,this.Jlt=qF,this.tdt=HF,this.nft()}};!function(t){t[t.Ift=0]="Ift",t[t.Sft=1]="Sft",t[t.Eft=2]="Eft",t[t.bft=3]="bft"}(oY||(oY={}));var cY=42,lY=15,dY=class{Lft(t){const i=t.kft();let e=i.ST;const s=i.pdt;if(e===AY){e=e<<16|t.kft().ST}return e>=0&&e<=31?this.Cft(e,s):e>=128&&e<=159?this.xft(t,e,s):(e>=4096&&e<=4127?this.Oft(t,255&e):e>=4224&&e<=4255?this.jft(t,255&e):e>=32&&e<=127?this.zft(e):e>=160&&e<=255?this.Pft(e):e>=4128&&e<=4223?this.Bft(255&e):e>=4256&&e<=4351&&this.Rft(255&e),null)}zft(t){this.Uft&&(127!==t?this.Uft.oft(String.fromCharCode(t)):this.Uft.oft("\u266a"))}Pft(t){this.Uft&&this.Uft.oft(String.fromCharCode(t))}Bft(t){if(!this.Uft)return;if(void 0===vY[t])return void this.Uft.oft("_");const i=vY[t];this.Uft.oft(i)}Rft(t){this.Uft&&(160===t?this.Uft.oft("[CC]"):this.Uft.oft("_"))}Cft(t,i){if(!this.Uft)return null;const e=this.Uft;let s=null;switch(t){case fY:e.cft();break;case gY:e.lft()&&(s=e.klt(i,this.Qft)),e.fft();break;case wY:e.lft()&&(s=e.klt(i,this.Qft)),e._ft();break;case _Y:e.lft()&&(s=e.klt(i,this.Qft)),e.nft(),e.wft(0,0)}return s}xft(t,i,e){if(i>=128&&i<=135){const t=7&i;this.Fft(t)}else{if(136===i){const i=t.kft().ST;return this.Yft(i,e)}if(137===i){const i=t.kft().ST;this.Gft(i,e)}else{if(138===i){const i=t.kft().ST;return this.Vft(i,e)}if(139===i){const i=t.kft().ST;return this.Wft(i,e)}if(140===i){const i=t.kft().ST;return this.Hft(i,e)}if(143===i)return this.Zn(e);if(144===i)this.qft(t);else if(145===i)this.Xft(t);else if(146===i)this.wft(t);else if(151===i)this.Zft(t);else if(i>=152&&i<=159){const s=(15&i)-8;this.Kdt(t,s,e)}}}return null}Oft(t,i){i>=8&&i<=15?t.Yp(1):i>=16&&i<=23?t.Yp(2):i>=24&&i<=31&&t.Yp(3)}jft(t,i){i>=128&&i<=135?t.Yp(4):i>=136&&i<=143&&t.Yp(5)}Fft(t){this.Kft[t]&&(this.Uft=this.Kft[t])}*Jft(t){for(let i=0;i<8;i++){1==(1&t)&&this.Kft[i]&&(yield i),t>>=1}}Yft(t,i){let e=null;for(const s of this.Jft(t)){const t=this.Kft[s];t.lft()&&(e=t.klt(i,this.Qft)),t.nft()}return e}Gft(t,i){for(const e of this.Jft(t)){const t=this.Kft[e];t.lft()||t.gft(i),t.Nft()}}Vft(t,i){let e=null;for(const s of this.Jft(t)){const t=this.Kft[s];t.lft()&&(e=t.klt(i,this.Qft)),t.be()}return e}Wft(t,i){let e=null;for(const s of this.Jft(t)){const t=this.Kft[s];t.lft()?e=t.klt(i,this.Qft):t.gft(i),t.wh()}return e}Hft(t,i){let e=null;for(const s of this.Jft(t)){const t=this.Kft[s];t.lft()&&(e=t.klt(i,this.Qft)),this.Kft[s]=void 0}return e}Zn(t){const i=this.Hft(255,t);return this.OL(),i}OL(){this.Uft=void 0,this.Kft=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]}qft(t){t.Yp(1);const i=t.kft().ST;if(!this.Uft)return;const e=(128&i)>0,s=(64&i)>0;this.Uft.pft(e),this.Uft.mft(s)}Xft(t){const i=t.kft().ST,e=t.kft().ST;if(t.Yp(1),!this.Uft)return;const s=3&i,n=(12&i)>>2,r=(48&i)>>4,h=3&e,o=(12&e)>>2,a=(48&e)>>4,u=this.$ft(r,n,s),c=this.$ft(a,o,h);this.Uft.vft(u),this.Uft.Aft(c)}wft(t){const i=t.kft().ST,e=t.kft().ST;if(!this.Uft)return;const s=15&i,n=63&e;this.Uft.wft(s,n)}Zft(t){t.Yp(1),t.Yp(1);const i=t.kft().ST;if(t.Yp(1),!this.Uft)return;const e=3&i;this.Uft.Mft(e)}Kdt(t,i,e){const s=void 0!==this.Kft[i];if(!s){const t=new uY(i);t.gft(e),this.Kft[i]=t}const n=t.kft().ST,r=t.kft().ST,h=t.kft().ST,o=t.kft().ST,a=t.kft().ST,u=t.kft().ST,c=(32&n)>0,l=127&r,d=(128&r)>0,f=h,_=1+(15&o),g=(240&o)>>4,w=1+(63&a);s&&0===(7&u)||this.Kft[i].yft(),this.Kft[i].Kdt(c,l,f,g,d,_,w),this.Uft=this.Kft[i]}$ft(t,i,e){const s={0:0,1:0,2:1,3:1};return mY[s[t]<<2|s[i]<<1|s[e]]}constructor(t){this.Qft=t,this.Kft=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Uft=void 0}},fY=8,_Y=12,gY=13,wY=14,AY=16,vY={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},mY=["black","blue","green","cyan","red","magenta","yellow","white"];r();var pY=class{t_t(t){if(t.hA===gi.kct){const i=63&t.ST;return this.i_t=2*i-1,void(this.e_t=[])}if(this.e_t&&(this.i_t>0&&(this.e_t.push(t),this.i_t--),0===this.i_t)){const t=new yY(this.e_t);this.s_t.push(t),this.e_t=null,this.i_t=0}}n_t(){return this.s_t}r_t(){this.s_t=[]}OL(){this.s_t=[],this.e_t=[],this.i_t=0}constructor(){this.s_t=[],this.e_t=null,this.i_t=0}},yY=class{h_t(){return this.o_t<this.a_t.length}u_t(){return this.o_t}kft(){if(!this.h_t())throw new ce(y_.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.a_t[this.o_t++]}Yp(t){if(this.o_t+t>this.a_t.length)throw new ce(y_.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.o_t+=t}constructor(t){this.o_t=0,this.a_t=t}},MY=class{OL(){this.c_t=0,this.l_t=[],this.d_t=[],this.f_t.OL(),this.Zn(),this.__t.forEach((t=>{t.OL()}))}Zn(){this.g_t=0,this.w_t=0,this.A_t.forEach((t=>{t.Zn()}))}v_t(t,i){if(t.zct){const e=t.Bct,s=t.Rct,n=t.hA;n===gi.Dct||n===gi.Ict?this.l_t.push({pdt:i,hA:n,jdt:e,mdt:s,m_t:this.l_t.length}):this.p_t&&(this.d_t.push({pdt:i,hA:n,ST:e,m_t:this.d_t.length}),this.d_t.push({pdt:i,hA:gi.bct,ST:s,m_t:this.d_t.length}))}}wF(){const t=[];this.l_t.sort(((t,i)=>t.pdt-i.pdt||t.m_t-i.m_t)),this.d_t.sort(((t,i)=>t.pdt-i.pdt||t.m_t-i.m_t));for(const i of this.l_t){const e=this.y_t(i);e&&t.push(e)}for(const t of this.d_t)this.f_t.t_t(t);const i=this.f_t.n_t();for(const e of i){const i=this.M_t(e);t.push(...i)}return this.f_t.r_t(),this.l_t=[],this.d_t=[],t}y_t(t){const i=t.hA;if(sY.Fdt(t.jdt)){const e=t.jdt>>3&1;0===i?this.g_t=e:this.w_t=e}const e="CC"+(i<<1|(i?this.w_t:this.g_t)+1),s=this.A_t.get(e);return 255===t.jdt&&255===t.mdt||!t.jdt&&!t.mdt||!this.T_t(t.jdt)||!this.T_t(t.mdt)?(++this.c_t>=45&&this.Zn(),null):(this.c_t=0,t.jdt&=127,t.mdt&=127,t.jdt||t.mdt?sY.Fdt(t.jdt)?s.Odt(t):s.Cdt(t.pdt,t.jdt,t.mdt):null)}M_t(t){const i=[];try{for(;t.h_t();){const e=t.kft().ST;let s=(224&e)>>5;const n=31&e;if(7===s&&0!==n){s=63&t.kft().ST}if(0!==s){if(!this.__t.has(s)){const t=new dY(s);this.__t.set(s,t)}const e=this.__t.get(s),r=t.u_t();for(;t.u_t()-r<n;){const s=e.Lft(t);s&&i.push(s)}}}}catch(t){if(!(t instanceof ce&&t.code===y_.SUBTITLE_PARSE_ERROR))throw t}return i}T_t(t){let i=0;for(;t;)i^=1&t,t>>=1;return 1===i}constructor(){this.p_t=!1,this.l_t=[],this.d_t=[],this.f_t=new pY,this.c_t=0,this.A_t=hg({CC1:new sY(0,0),CC2:new sY(0,1),CC3:new sY(1,0),CC4:new sY(1,1)}),this.g_t=0,this.w_t=0,this.__t=_e(),this.Zn()}};r();var TY=class extends mg{constructor(t,i){super("N_t"),this.jlt=t,this.jN=i}},NY=Pt.dI(.1),DY=class extends i{D_t(t,i){this.I_t.v_t(t,i)}wF(){const t=this.I_t.wF();for(const i of t)this.Co(new TY(i.jlt,i.jN))}Zn(){this.I_t.OL()}gn(){this.Vo(),this.I_t.OL()}constructor(){super(),this.I_t=new MY}},IY=class extends DY{S_t(t,i,e,s){const n=this.E_t(t,s);this.b_t(n,i,e),this.wF()}E_t(t,i){const e=t.slice().sort(KO),s=this.L_t;if(0===s.length)return e;if(0===e.length)return s;let n;const r=s[0].n6,h=s[s.length-1].n6,o=e[0].n6,a=s[0].Mrt===e[0].Mrt;if(h.MD(o).mD().vD(Pt.dI(2.5*i))&&a)n=s.concat(e).sort(KO);else if(o.fD(r)){let t=0;for(;t<s.length&&s[t].n6.vD(o);)t++;let i=!1,r=!1;for(let n=t,h=0;n<s.length&&h<e.length;n++,h++)SY(s[n],e[h])?i=!0:r=!0;const h=i&&!r,a=i&&r;!i&&r?n=s.concat(e).sort(KO):h?n=s.slice(0,t).concat(e):(n=e,a&&this.Zn())}else n=e,this.Zn();return n}b_t(t,i,e){for(let s=0;s<t.length;s++){const n=t[s],r=n.n6.cD();if(!e&&i-r<NY.cD())return void(this.L_t=t.slice(s));this.D_t(n,r)}this.L_t=[]}constructor(...t){super(...t),this.L_t=[]}};function SY(t,i){return t.n6.$N(i.n6)&&t.hA===i.hA&&t.Bct===i.Bct&&t.Rct===i.Rct}var EY=class extends ni{k_t(t){return this.C_t.get(t)}x_t(t){let i=this.C_t.get(t.r6);return i||(i=this.O_t(t),this.C_t.set(t.r6,i)),i}O_t(t){const i=[gc.Xw],e=kF(t.h6);let s,n=e?e.l:"";t.j_t&&(n="easy "+n,i.push(gc.$w)),s=t.kh?"CC "+t.kh:n?"CC "+n:"CC"+t.r6;const r=this.fE.dE(Oi.fS,s,s,t.h6,!1,Ks.CEA608,void 0,i);return this.tt(r),r}Bst(t){const i=Qi.wy(Mo(t));this.z_t=function(t){for(const i of t.Z){const t=PF(i),e=i.Fy.$y.eM.nM.hM;let s=p(e,(t=>t.hA===Wr.Bm));if(!s){const t=e.filter((t=>t.hA===Wr.ip)),i=p(t,(t=>{var i;return(null==(i=t.HM)?void 0:i.hA)===Wr.Bm}));i&&(s=i.HM)}if(!s)continue;const n=JL(Mo(s.OM.Cp),new Or),r=s.zM;return At({},t,{Wy:i.iy.Wy,OM:ZA(s.OM.Cp),ji:s.ji,Ti:s.Ti,nT:r&&r.nT,sT:r&&r.sT,dK:n.GX,P_t:n.VX,fK:n.WX,qX:n.qX[0],XX:n.XX[0]})}}(p(i,BF))}qat(t,i,e,s,n,r){var h;if(!this.z_t)return;if(!j(this.B_t)&&Va(this.B_t,i,1e-5))return;j(this.R_t)||Va(this.R_t,i,.1)||this.U_t.Zn();const o=function(t,i,e,s,n){const r=[],h=i.filter(OF),o=s(e);for(const i of h){const s=p(i.Z,(t=>t.iy.Wy===e.Wy));if(!s)continue;const h=s.iy.oT||0,u=s.iy.aT||0;let c=s.vT?s.vT.vT:Ce.ZERO;var a;const l=i.dT+(null!=(a=s.iy.mT)?a:Ce.ZERO).toNumber();for(const a of s.AT){let s=l+(a.dT||0);for(const l of a.NT){const a=l.ey||u,d=new zu;d.uZ(t,s,s+a);const f=Pt.SD(c,e.Yct);d.FI=n(l,i,e,f,jh(t,s,s+a)),r.push(d),s+=a,c=c.add(l.ct||h||o)}}}return r}(t,Qi.wy(Mo(t)),this.z_t,xF,zF);var a;const u=null!=(a=null==(h=eg(o,(t=>t.FI.ct)))?void 0:h.FI.ct)?a:0,c=function(t){const i=[];for(const e of t)e.FI.Jct&&i.push(...e.FI.Jct),delete e.FI.Jct;for(let t=0;t<i.length;t+=1)i[t].fT=t;return i}(o),l=Pt.dI(s),d=[];for(const t of c)d.push(At({},t,{Mrt:n,n6:t.Oct.mN(l)}));this.U_t.S_t(d,e,r,u),this.B_t=i,this.R_t=e}Zn(){return this.U_t.Zn(),this.C_t.forEach((t=>{t.gn(),this.it(t),this.fE.pE(t)})),this.C_t.clear(),this.z_t=void 0,this.B_t=NaN,this.R_t=NaN,super.Zn()}gn(){return this.U_t.fn("N_t",this.Q_t),this.U_t.gn(),super.gn()}constructor(t){super(),this.z_t=void 0,this.B_t=NaN,this.R_t=NaN,this.Q_t=t=>{const i=this.x_t({r6:t.jlt,h6:""}),e=t.jN;for(const t of i.L.xw)e.zN<t.zN&&e.PN>t.zN?e.PN=t.zN:e.zN>t.zN&&t.PN>e.zN?t.PN=e.zN:e.zN===t.zN&&(e.PN=t.PN);i.vE(e)},this.fE=t,this.C_t=_e(),this.U_t=new IY,this.U_t.yn("N_t",this.Q_t)}};r(),r();var bY=/(.*)=(.*)/,LY=/(.*):(.*)/;function kY(t){if(!t)return[];const i=[],e=t.trim().split(";");for(const t of e){const e=t.match(bY);if(e){const[,t,s]=e;let n="",r=!1;for(const t of s.trim().split(","))if(t.match(LY)){const[,i,e]=t.match(LY);switch(i){case"lang":n=e;break;case"er":r=Boolean(Number(e))}}i.push({r6:Number(t),h6:n,j_t:r})}}return i}var CY={1:1,2:3,3:2,4:4},xY="urn:scte:dash:cc:cea-608:2015",OY="urn:scte:dash:cc:cea-708:2015";r(),r();var jY=class extends z{fa(){return new zY(this.Mrt&&this.Mrt.va)}constructor(t,i,e){super(ea.Sw),this.Mrt=t,this.mot=i,this.F_t=e}},zY=class extends mg{constructor(t){super("activequalitychanged"),this.quality=t}},PY=[t.jh,er.Mw,t.ov],BY=class extends i{Y_t(t){const i=this.uct.jrt;for(const e of i.Lt.Lnt)if(i.Qot.Pot(t,e))return e}gn(){this.Vo(),this.vP.fn(PY,this.G_t)}constructor(t,i){super(),this.G_t=t=>{const i=this.V_t,e=this.Y_t(t.currentTime)||this.uct.krt;e&&i!==e&&(this.V_t=e,e.Mrt&&this.Co(new jY(e.Mrt,null==e?void 0:e.va,null==i?void 0:i.va)))},this.vP=t,this.vP.yn(PY,this.G_t),this.uct=i}},RY=class extends i{get Ant(){return this.vnt}get o(){return this.NN}get IJ(){return this.SJ}get nt(){return this.W_t}get lct(){return function(t){const i=29.97,e=1024,s=44100;return t===hv.mp?s/e:i}(this.SJ)}get cct(){return 1/this.lct}get Rt(){return Boolean(this.vnt&&this.vnt.Rt)}get uq(){const t=this.uct?this.uct.jrt.uq.Oot:Ki.lR();return this.H_t().HB(t)}get b_(){let t=this.q_t();const i=this.X_t;return void 0!==i&&t.QB().gr(i)&&(t=t.HB(Ki.uR(i))),t}get bot(){return QU(this.q_t(),this.uq.HB(this.Z_t)).WB(2*this.cct)}get Z_t(){const t=this.X_t;if(t&&isFinite(t)){const i=this.K_t.jn;if(isFinite(i)&&t<i)return new Ki([t,i],[!1,!0])}return Ki.lR()}get yg(){const t=this.vnt;if(!t)return Ki.uR(0);const i=t.Mot.dct,e=t.Mot.fct;if(void 0===e||void 0===i)return Ki.uR(0);const s=e;let n=i>=t.Mot.fat.jn?x.max(i,this.jn):i;return n=x.max(s,n),Ki.cR(s,n).QB()}get AP(){return this.bot.oR(this.j_)}get xot(){return this.K_t.xot}get j_(){return this.vP.j_}get Cn(){return this.vnt?this.vnt.Mot.fat.Cn:NaN}get jn(){const t=this.J_t(),i=this.X_t;return void 0===t?NaN:void 0!==i?i:t}J_t(){var t;return null==(t=this.vnt)?void 0:t.Mot.fat.jn}get Ti(){return this.K_t.Ti}get ji(){return this.K_t.ji}get $_t(){return this.X_t}Wrt(){return void 0!==this.uct&&this.uct.Wrt}Cot(){if(void 0===this.X_t)return!1;const t=this.q_t().QB(),i=t.ZB(this.X_t);return!(i<0)&&t.Cn(i)!==this.X_t}NJ(){const t=this.K_t.xot,i=this.q_t().Sn(t);this.X_t=i.U>0?i.jn(i.U-1):0;const e=t.jn(0);isFinite(e)&&this.X_t<e&&this.lq(this.X_t,e),this.tgt()}async qat(t,i,e,s){const n=e.Ust.CI,r=this.igt(t,i,e,n,s),h=this.egt(t,i,e,n,s),[o]=await pl([h,r]);return o}async igt(t,i,e,s,n){if(!fe(e.gY))return;let r;if(t.hA===Lo.zS){const i=t.Cp.Fht(),e=await i.Kj(n);r=new T(e)}else r=new T(t.Cp._nt);const h=[];if(void 0!==this.sgt&&(this.sgt.qat(r,i.zN,s),h.push(this.sgt)),void 0!==this.ngt){const t=e.dat(i);this.ngt.qat(r,i.zN,i.PN,s,e.Mrt,t),h.push(this.ngt)}my(this.b_,h)}Bst(t,i,e){return Pi(e),this.ngt&&this.ngt.Bst(new T(t._nt)),Promise.resolve()}$n(t,i){const e=new xs;i&&e.l_(i),this.mE.c_(),this.mE=e;const s=this.rgt(t,this.hgt,e.a_);return this.hgt=s,s}ogt(t){if(Ho(this.agt,Ks.CEA608))return;const i=t.Mot.But;if(function(t){return t.some((t=>t.Xet===xY||t.Xet===OY))}(i)){this.ngt=new EY(this.fE);const t=function(t){const i=[];for(const e of t)if(e.Xet===xY){const t=$O(e.ST);for(const e of t)i.push(e)}else if(e.Xet===OY){const t=kY(e.ST);for(const e of t)if(e.r6<=4){const t=CY[e.r6];i.push(At({},e,{r6:t}))}}return i}(i);for(const i of t)this.ngt.x_t(i);this.W_t.oP(this.ngt.Z)}}async rgt(t,i,e){Pi(e),i&&await i.catch(fg),this.vnt===t&&this.ugt||(await this.cgt(),Pi(e),await this.lgt(),Pi(e),t&&await this._E(t))}async cgt(){const t=this.vnt;this.vnt=void 0,this.ugt=!1,this.X_t=void 0,t&&(t.fn(ea.Lw,this.dgt),t.ect(!1),t.fn(ea.NO_QUALITY,this.Ds)),this.fgt&&(this.fgt.gn(),this.fgt=void 0),this.uct&&(await this.uct.gn(),this.uct=void 0),this.ngt&&(this.W_t.cP(this.ngt.Z),await this.ngt.gn())}async _E(t){this.vnt=t,this.ogt(t),t.yn(ea.Lw,this.dgt),t.yn(ea.NO_QUALITY,this.Ds),await this._gt(t),this.uct=this.ggt(t),this.uct.yn(mF,this.Ds),this.uct.yn("Trt",this.tgt),this.uct.Prt=t.Zut,this.fgt=new BY(this.vP,this.uct),this.fgt.yn(ea.Sw,this.Vut),t.ect(!0),this.ugt=!0}async Zn(t){this.mE.c_(),this.hgt&&(await this.hgt.catch(fg),this.hgt=void 0),await this.cgt(),t||await this.lgt(),await this.wgt()}async Agt(){await this.cgt()}vgt(t){this.uct&&this.vnt&&this.vnt===t.Lt&&(this.uct.Prt=this.vnt.Zut)}async Krt(t){this.uct&&await this.uct.Krt(t)}async $rt(t){this.uct&&await this.uct.$rt(t)}lW(){const t=this.b_.aR;return this.yR.lW(t)}async gn(t){this.Vo();try{await this.Zn(t),await this.Agt()}catch(t){}}constructor(t,i,e,s,n,r,h,o,a,u,c){super(),this.vnt=void 0,this.uct=void 0,this.ugt=!1,this.mE=new xs,this.hgt=void 0,this.X_t=void 0,this.ngt=void 0,this.W_t=new dh([]),this.tgt=()=>{!this.Wrt()&&this.Cot()&&this.K_t.tgt()},this.Vut=t=>{this.vnt.Vut(t),this.Co(new TF(t.mot,t.F_t))},this.dgt=t=>{this.vgt(t)},this.NN=function(){const t=pF;return pF+=1,t}(),this.SJ=t,this.gE=s,this.yR=n,this.K_t=i,this.vP=e,this.Vht=r,this.fE=h,this.sgt=o,this.Uat=a,this.Oat=a?Sv(t,a):void 0,this.fut=u,this.agt=c}};function UY(t,i,e){const s=new $h(Mo(t),new Or),n=lt.Jp(s,Wr.Tm);if(!n)return;const r=lt.Wp(n.Cp),h=p(r,(t=>t.hA===Wr.Dm)),o=p(r,(t=>t.hA===Wr.lp));if(!h)return;const a=lt.Jp(h.Cp,Wr.Sm);if(!a)return;const u=lt.Jp(a.Cp,Wr.Cm);if(!u)return;const c=lt.Jp(u.Cp,Wr.xm);if(!c)return;const l=lt.Wp(c.Cp),d=p(l,(t=>t.hA===Wr.Om));if(!d)return;const f=lt.ly(d.Cp,Wr.Om,!1),_=new $h(Mo(f.Cp),new Or);_.Yp(4);const g=lt.Wp(_),w=[];for(const t of g){if(t.hA===Wr.tp||t.hA===Wr.ip)return;t.hA===Wr.Bm?w.push({mgt:t,pgt:Wr.ip}):t.hA===Wr.Xm&&w.push({mgt:t,pgt:Wr.tp})}if(!function(t,i){return void 0===t&&void 0!==i&&i.length>0}(o,i)&&0===w.length)return;let A=Ae(t);const v=p(r,(t=>t.hA===Wr.zm)),m=v?lt.Jp(v.Cp,Wr.Pm):void 0,y=m?function(t){const i=t.Cp.Ip();return i.Yp(4),i.Yp(4),i.zp()}(m):1,M=p(l,(t=>t.hA===Wr.jm));M&&function(t,i,e){const s=YY(Mo(t),i),n=lt.Kp(s,new Or),r=n.Cp;r.Yp(4);const h=r.zp();for(let t=0;t<h;t++){r.Yp(4),r.Yp(4);const t=r.xp.Ip(),i=r.zp();su(r.Cp,t,i+e)}}(A,M,w.length),m&&function(t,i,e){const s=YY(Mo(t),i),n=lt.Kp(s,new Or),r=n.Cp;r.Yp(4),r.Yp(4),su(r.Cp,r.xp,e)}(A,m,1),A=function(t,i,e,s){if(e||!s)return t;let n=t;for(const t of s)n=QY(n,i,new T(t));return n}(A,n,o,i);const N=[n,h,a,u,c,d];for(let t=w.length-1;t>=0;t--){const i=w[t];A=FY(A,i.mgt,d,N,i.pgt,e)}return{ygt:A,Mgt:{Tgt:w.length,hT:y}}}function QY(t,i,e){const s=eA(t,e,i.Cp.Cp.byteOffset+i.Cp.Cp.byteLength);return GY(YY(Mo(s),i),e.byteLength),s}function FY(t,i,e,s,n,r){const h=function(t,i,e){0;const s=t.Cp.Cp,n=XY(),r=new T(s.byteLength+n.byteLength),h=Mo(r);r.set(ko(s),0),GY(h,n.byteLength),RA(h,new Or(JY),i),r.set(n,s.byteLength),RA(h,new Or(s.byteLength+ZY),t.hA),e&&LA(h,new Or(s.byteLength+KY),e);return r}(i,n,r),o=eA(t,h,i.Cp.Cp.byteOffset),a=Mo(o);!function(t,i){const e=lt.Kp(t,new Or),s=lt.ly(e.Cp,Wr.Om,!1),n=Mo(s.Cp),r=n.getUint32(0);n.setUint32(0,r+i)}(YY(a,e),1);for(const t of s)GY(YY(a,t),h.byteLength);return o}function YY(t,i){const e=i.Cp.Cp.byteOffset;return cn(t,e,e+i.Cp.Cp.byteLength)}function GY(t,i){const e=new Or,s=ji(t,e);if(0===s);else if(1===s){e.Np(4);const s=tr(t,e.Ip());OA(t,e,s.add(i))}else e.Dp(0),su(t,e,s+i)}r();var VY=class extends Xu{start(t){this.dH=t}transform(t){this.zq(t),this.Ngt()}flush(){this.Bq(),this.Ngt()}Wq(t){return t===Wr.ep}qq(t){let i=Ae(ko(t.Cp.Cp));const e=lt.Kp(Mo(i),new Or);i=WY(i,e,this.Dgt),this.Igt.push(i)}Zq(t){this.Igt.push(t)}Ngt(){for(const t of function(t){if(t.length<2)return t;const i=[];let{buffer:e,byteOffset:s,byteLength:n}=t[0];for(let r=1;r<t.length;r++){const h=t[r];e===h.buffer&&s+n===h.byteOffset?n+=h.byteLength:(i.push(new T(e,s,n)),({buffer:e,byteOffset:s,byteLength:n}=h))}return i.push(new T(e,s,n)),i}(this.Igt))this.dH.enqueue(t);Ri(this.Igt)}constructor(t){super(),this.Igt=[],this.Dgt=t}};function WY(t,i,e){let s=t;const n=lt.Wp(i.Cp);for(let t=n.length-1;t>=0;t--){const r=n[t];r.hA===Wr.np&&(s=HY(s,r,i,e))}return s}function HY(t,i,e,s){const n=YY(Mo(t),i),r=lt.Kp(n,new Or),h=lt.Wp(r.Cp),o=p(h,(t=>t.hA===Wr.rp));if(!o)return t;const a=o.Cp,u=a.xp.Ip(),c=a.zp(),{flags:l}=ic(c);a.Yp(4),l.Ep(Mt.BASE_DATA_OFFSET_PRESENT)&&a.Yp(8);const d=a.xp.Ip();if(l.Ep(Mt.SAMPLE_DESCRIPTION_INDEX_PRESENT)){const i=ji(a.Cp,d);return su(a.Cp,a.xp,i+s.Tgt),t}{su(a.Cp,u,c|Mt.SAMPLE_DESCRIPTION_INDEX_PRESENT);const n=new T(4);Mo(n).setUint32(0,s.hT+s.Tgt);const r=a.Cp.byteOffset+d.Ku;for(const t of h.filter((t=>t.hA===Wr.hp)))qY(t,n.byteLength);for(const s of[o,i,e])GY(YY(Mo(t),s),n.byteLength);return eA(t,n,r)}}function qY(t,i){const e=t.Cp,s=e.zp(),{flags:n}=ic(s);if(e.Yp(4),n.Ep(Ws.DATA_OFFSET_PRESENT)){const t=e.Ip().zp();su(e.Cp,e.xp,t+i)}}var XY=bh((()=>new T([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]))),ZY=16,KY=64,JY=4,$Y=class extends RY{q_t(){return this.Ist?this.Ist.b_:Ki.lR()}H_t(){return this.Ist?this.Ist.EJ:Ki.lR()}get ji(){return this.K_t.ji}async egt(t,i,e,s,n){var r;let h;if(Pi(n),t.hA===Lo.zS){let i=t.Cp.BG;this.Sgt&&(i=function(t,i){return t.pipeThrough(new _h(new VY(i)))}(i,this.Sgt)),h={hA:Lo.zS,Cp:i}}else{let i=new T(t.Cp._nt);this.Sgt&&(i=function(t,i){let e=Ae(t);const s=new $h(Mo(e),new Or),n=lt.Wp(s);for(let t=n.length-1;t>=0;t--){const s=n[t];s.hA===Wr.ep&&(e=WY(e,s,i))}return e}(i,this.Sgt)),h={hA:Lo.CH,Cp:i}}const o={T8:i.zN,ct:i.ct,CI:s,fK:null==(r=e.Mrt)?void 0:r.Vw},a=this.Ist.b_;await this.Egt(),await this.Ist.BK(h,o,n);return function(t,i,e,s){let n,r,h=i.XB(t.QB());return h=h.XB(e.XB(i)),0===h.U?(n=s.PN,r=n):(n=h.Cn(0),r=h.jn(0)),{Tut:n,Nut:r}}(a,this.Ist.b_,this.Ist.EJ,i)}async Bst(t,i,e){var s;await super.Bst(t,i,e);let n=new T(t._nt);if(this.bgt(i)){const t=this.K_t.Lgt;let i,e=[];t&&(e=Eh(t.kgt,(t=>t.nP)),i=t.Cgt.Tj?DE(t.Cgt.Tj):void 0);const s=UY(n,e,i);s?(this.Sgt=s.Mgt,n=s.ygt):this.Sgt=void 0}const r={hA:Lo.CH,Cp:n};await this.Egt(),await this.Ist.QK(r,{fK:null==(s=i.Mrt)?void 0:s.Vw},e)}Zat(t,i,e){return this.Ist.pN(t,i,e)}lq(t,i){this.Ist.kJ(t,i)}dq(t,i){this.Ist.CJ(t,i)}async _gt(t){var i;const e=OQ.Gat(null!=(i=t.Zut)?i:t.Lnt,this.Oat).gY;this.Ist||(this.Ist=this.K_t.xgt(e),this.Ist.yn(bi.LH,this.Ds),this.Fat=new eF(this.Ist)),await this.Egt()}vgt(t){const i=t.Lt.Zut;if(void 0===i)return super.vgt(t);if(i.some((t=>this.Fat.PH(t))))return super.vgt(t);this.Co(new mg("Ogt"))}wgt(){return this.Ist&&(this.Ist.fn(bi.LH,this.Ds),this.Ist=void 0),Promise.resolve()}lgt(){return this.Ist?this.Ist.pN(0,1/0):Promise.resolve()}ggt(t){return new tF(this,this.vP,this.vP,this.gE,this.yR,this.zut,this.Vht,this.Uat,this.Oat,this.Fat,this.fut).D8(t)}Egt(){const t=this.K_t.xot,i=x.max(0,t.Cn(0)-.1),e=t.jn(0)+.01;return this.Ist.iJ(i,e)}bgt(t){if(!fe(t.gY))return!1;if(this.K_t.c4)return!0;return void 0!==this.K_t.Lgt}constructor(t,i,e,s,n,r,h,o,a,u,c,l){super(t,i,e,s,n,h,o,a,u,c,l),this.Ist=void 0,this.Fat=new sF,this.Sgt=void 0,this.zut=r}},tG=class extends i{iW(t,i){return this.jgt(t,i)}async jgt(t,i){for(const i of t)this.zgt(i);await this.$n(i);for(const t of this.Bgt.Pgt)t.hA===hv.Ru&&(t.Lnt&&0!==t.Lnt.length?await this.Rgt._E(t):this.Co(new AF("No supported representation found in the AdaptationSet with mimetype : "+t.hA)))}get Vw(){return this.DN}get ct(){return this.vP.ct}Ugt(t){return new $Y(t,this,this.vP,this.gE,this.yR,this.zut,this.Vht,this.fE,this.sgt,this.Qgt,this.fut,this.agt)}Wrt(){return this.yct.some((t=>t.Wrt()))}Cot(){return 0!==this.yct.length&&this.yct.every((t=>t.Cot()))}tgt(){this.Fgt()&&this.Co(new vF)}xgt(t){if(ew(t,"audio")){if(this.oJ.g$)return this.oJ.g$}else if(ew(t,"video")&&this.oJ.w$)return this.oJ.w$;throw new b("Cannot allocate source buffer for mime type "+t)}Ygt(i){i.yn([Nr.ha,t.HA,t.KA,t.JA,t.rv,t.MA],this.Ds),i.yn(bi.LH,this.Ggt),i.yn("Ogt",this.Ds)}get Rt(){return this.yct.some((t=>t.Rt))}async Vgt(t){await Promise.all(this.yct.map((i=>i.gn(t)))),Ri(this.yct)}get ht(){return this.nN}get b_(){if(0===this.yct.length)return Ki.lR();const t=this.yct.map((t=>t.b_));let i=Ki.cR(0,1/0);for(const e of t)i=i.Sn(e);if(0===i.U)return i;if(this.Cot()){const t=i.Sn(this.xot);if(0===t.U)return i;const e=t.jn(t.U-1);let s=0;for(const t of this.yct)s=x.max(s,t.$_t);e<=s&&(i=i.HB(new Ki([e,s],[!0,!0])))}return i}get c4(){return this.vP.c4}get j_(){return this.vP.j_}get Lgt(){return this.Wgt}get jn(){if(this.Hgt){const t=this.ct;if(!j(t)&&t!==Q_)return t}if(!this.yct.length)return NaN;let t=0;for(const i of this.yct)t=x.max(t,i.jn);return t}get Hgt(){const t=this.Bgt.Sut;if(t.hA===as.xO)return!1;const i=t.qgt;return 0!==i.length&&this.Bgt===i[i.length-1]}get yg(){if(!this.yct.length)return Ki.lR();let t=new Ki([0,1/0]);for(const i of this.yct)t=t.Sn(i.yg);if(t.U>0&&this.Hgt&&isFinite(this.ct)){const i=this.ct,e=t.jn(t.U-1);i>e&&(t=t.HB(Ki.cR(e,i).QB()))}return t}get yc(){return this.Bgt}get nt(){return this.Dl}get rt(){return this.hN}get ji(){return this.vu.ji}get Ti(){return this.vu.Ti}get AP(){const t=this.j_,i=this.b_,e=i.ZB(t);if(-1!==e)return{Cn:i.Cn(e),jn:i.jn(e)}}get xot(){const t=this.Bgt.Cn,i=this.Hgt?1/0:this.Bgt.jn;return Ki.cR(t,i)}Fgt(){if(this.Wrt())return!1;if(!this.Cot())return!1;const t=this.b_;if(0===t.U)return!1;const i=this.j_;if(this.Hgt)return t.Cn(t.U-1)<=i;{const e=t.Sn(this.xot);if(0===e.U)return!0;const s=e.Cn(e.U-1),n=e.jn(e.U-1)+.1;return s<=i&&i<=n}}get Xgt(){return this.Zgt}async Krt(t){this.Zgt||(this.Zgt=!0,await Promise.all(this.yct.map((i=>i.Krt(t)))))}async $rt(t){this.Zgt&&(this.Zgt=!1,await Promise.all(this.yct.map((i=>i.$rt(t)))))}async gn(i){this.vP.fn(t.fv,this.Kgt),this.Vo(),this.Bgt.fn(ei.mrt,this.Ds),this.Jgt.c_(),this.hgt&&(await this.hgt.catch(fg),this.hgt=void 0),await this.Vgt(i),await this.Rgt.gn(),this.nN.gn(),this.hN.gn(),this.Dl.gn(),this.$gt()}zgt(t){this.twt.push(t),t.yn("iwt",this.ewt);const i=t.hA===hv.mp?this.nN:this.hN;for(const e of t.Z)i.tt(e)}swt(t){const i=t.hA===hv.mp?this.nN:this.hN;for(const e of t.Z)i.it(e),e.gn();t.gn(),Et(this.twt,t)}$gt(){for(let t=this.twt.length-1;t>=0;t--)this.swt(this.twt[t])}get nwt(){return this.twt.map((t=>t.Ant)).filter(li)}get rwt(){return this.yct.map((t=>t.Ant)).filter(li)}$n(t,i){return this.Jgt.c_(),this.Jgt=new xs,i&&this.Jgt.l_(i),this.hgt=dt(this.ait(t,this.hgt,this.Jgt.a_),this.Jgt).catch(this.hwt),this.hgt}async ait(t,i,e){i&&await i.catch(fg),Pi(e);const s=[],n=this.yct.slice(),r=t.slice();Ri(this.yct);for(const t of n){const i=t.Ant;i&&Ho(r,i)?(this.yct.push(t),s.push(t.$n(i,e)),Et(r,i)):(this.Dl.cP(t.nt),await t.gn(),Pi(e))}for(const t of r){const i=this.Ugt(t.Urt);this.Dl.oP(i.nt),this.yct.push(i),this.Ygt(i),s.push(i.$n(t,e))}await Promise.all(s)}async RH(t,i,e){this.oJ!==e&&(this.oJ=e,await this.Vgt(!1)),await this.$n(t),this.Wgt=i}constructor(i,e,s,n,r,h,o,a,u,c,l,d,f){super(),this.nN=new He,this.hN=new He,this.twt=[],this.Jgt=new xs,this.Zgt=!0,this.yct=[],this.hgt=void 0,this.Ggt=uo((()=>{this.Co(new N(this.j_))}),350),this.ewt=t=>{const i=t.owt.Ant;if(i)for(const t of this.twt){var e;t.Ant&&t.Ant!==i&&t.hA===(null==(e=i.Wut)?void 0:e.hA)&&(t.fn("iwt",this.ewt),t.Ant.Rt=!1,t.yn("iwt",this.ewt))}this.Ds(t)},this.hwt=t=>{So(t)||this.Co(new pe(new ce(y_.MEDIA_LOAD_ERROR,t.message,t)))},this.Kgt=t=>{const i=t.F1;if(i)for(const t of this.rwt){if((t.Mot.qet||[]).some((t=>t.Tj&&Yi(ts(i),DE(t.Tj)))))return void this.Co(new ze(new Qr(y_.CONTENT_PROTECTION_OUTPUT_RESTRICTED,"Content unavailable due to DRM restrictions")))}},this.gE=s,this.yR=n,this.Vht=r,this.vP=i,this.DN=Ou(),this.twt=[],this.Bgt=o,this.Wgt=a,this.fE=c,this.Rgt=new wF(i,s,n,r,c),this.Dl=new dh([this.Rgt.nt]),this.fut=d,this.agt=f,this.Bgt.yn(ei.mrt,this.Ds),this.vu=u,this.oJ=e,this.zut=h.lowLatency,this.sgt=l,this.Qgt=h.abr,this.vP.yn(t.fv,this.Kgt)}};r(),r(),r();var iG,eG=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,sG=class t{static wy(i){const e=i.match(eG);if(!e)throw new b("The given value could not be parsed as a valid DateTimeInterval");const s=Number(e[1])||0,n=Number(e[2])||0,r=Number(e[3])||0,h=Number(e[4])||0,o=Number(e[5])||0,a=Number(e[6])||0;return new t(31536e3*s+2592e3*n+86400*r+3600*h+60*o+a)}get Gct(){return Pt.dI(this.awt,1e3)}uwt(){return this.awt}cwt(){return 1e3*this.awt}constructor(t){this.awt=t}};r(),function(t){t.lwt="progressive",t.dwt="interlaced",t.KT="unknown"}(iG||(iG={})),r();var nG=class{cD(){return this.fwt/this._wt}constructor(t,i){this.fwt=t,this._wt=i}},rG=/^(?:true|false)$/i,hG=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function Mn(t){if(void 0!==t)return sG.wy(t)}function oG(t){if(void 0===t)return;const i=t.match(hG);if(!i)throw new b("The given value could not be parsed as a valid Date");const[,e,s,n,r,h,o,a,u,c,l,d]=i,f=("-"===e?-1:1)*Number(s),_=Number(n)-1,g=Number(r),w=Number(h);let A=Number(o);const v=Number(a),m=Number("0."+(u||"")),p=x.round(1e3*m);if(c){A-=("-"===c?-1:1)*(60*Number(l)+Number(d))}const y=new Date(Date.UTC(f,_,g,w,A,v,p));if(j(y.getTime()))throw new b("The given value could not be parsed as a valid Date");return y}function aG(t){if(!t)return;const i=/(\d+)-(\d+)/.exec(t);return i?[Ji(i[1]),Ji(i[2])]:void 0}function uG(t){if(void 0!==t){if(!j(Number(t)))try{return Ce.fromString(t,!0)}catch(t){}throw new b("The given value could not be parsed as a valid unsigned long")}}function Ji(t){if(void 0===t)return;const i=Number(t);if(!j(i))return i;throw new b("The given value could not be parsed as a valid Number")}function cG(t){if(void 0===t)return;const i=t.split("/"),e=Number(i[0]),s=Number(i[1]||1);if(!j(e)&&!j(s))return new nG(e,s);throw new b("The given value could not be parsed as a valid frame rate")}function lG(t){if(void 0!==t){if(rG.test(t))return"true"===t.toLowerCase();if(!j(C(t)))return Boolean(C(t));throw new b("The given value could not be parsed as a valid Boolean.")}}function dG(t){return{zu:t.Vj,gwt:lG(t.cS("availabilityTimeComplete")),wwt:Ji(t.cS("availabilityTimeOffset"))}}function fG(t){return t.map(dG)}function _G(t){const i=NG(t),e=function(t,i,e,s){let n=t.uS(e,i);return void 0===n&&(n=t.cS(s+":"+i)),n}(t,"default_KID","urn:mpeg:cenc:2013","cenc");let s;const n=Pp(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==n&&(s=ma(n.Vj)),!s){const i=Pp(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==i&&(s=function(t){const i=mi(t.Vj),e=new T([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),s=i.length,n=12+e.length+4+s,r=new ArrayBuffer(n),h=new T(r),o=new DataView(r),a=new Or;su(o,a,n),su(o,a,1886614376),su(o,a,0),LA(o,a,e),su(o,a,s),LA(o,a,i),!1;return h.buffer}(i))}return{Tj:e,Awt:s,Xet:i.Xet,ST:i.ST}}function gG(t){return{vwt:t.cS("sourceURL"),fht:aG(t.cS("range"))}}function wG(t,i){const e=t.cS("d"),s=t.cS("t"),n=Ji(t.cS("r"));i.push({ct:e,zN:s,mwt:n})}function AG(t){return{qht:t.cS("index"),pwt:aG(t.cS("indexRange")),Fy:t.cS("media"),ywt:aG(t.cS("mediaRange"))}}function vG(t){const i=pG(t),e=function(t){const i=t.map(AG);return i.length>0?i:void 0}(t.nS("SegmentURL"));return At({},i,{Mwt:e,Twt:t.cS("xlink:href"),Nwt:t.cS("xlink:actuate")})}function mG(t){const i=lG(t.cS("availabilityTimeComplete")),e=Ji(t.cS("availabilityTimeOffset")),s=aG(t.cS("indexRange")),n=lG(t.cS("indexRangeExact")),r=t.nS("Initialization");if(r.length>1)throw new b("The provided MPEG-DASH document's "+t.Jj+" element can not have more than one Initialization element.");const h=1===r.length?gG(r[0]):void 0,o=uG(t.cS("presentationTimeOffset")),a=t.nS("RepresentationIndex");if(a.length>1)throw new b("The provided MPEG-DASH document's "+t.Jj+" element can not have more than one RepresentationIndex element.");return{gwt:i,wwt:e,pwt:s,Dwt:n,Iwt:h,Swt:o,Ewt:1===a.length?gG(a[0]):void 0,bwt:Mn(t.cS("timeShiftBufferDepth")),zy:Ji(t.cS("timescale"))}}function pG(t){const i=mG(t),e=t.nS("BitstreamSwitching"),s=e.length>0?gG(e[0]):void 0,n=Ji(t.cS("duration")),r=t.nS("SegmentTimeline");if(r.length>1)throw new b("The provided MPEG-DASH document's "+t.Jj+" element can not have more than one SegmentTimeline element.");const h=1===r.length?function(t){const i=[],e=t.nS("S");for(const t of e)wG(t,i);return i}(r[0]):void 0;return At({},i,{Lwt:s,ct:n,Ust:h,kwt:Ji(t.cS("startNumber")),Cwt:Ji(t.cS("endNumber"))})}function yG(t){return{xwt:function(t){if(!t)return;const i=t.split(/\s/);return i.length>1?(i.length=2,i.map(Ji)):1===i.length?i.map(Ji)[0]:void 0}(t.cS("audioSamplingRate")),Het:t.cS("codecs"),Owt:lG(t.cS("codingDependency")),qet:function(t){if(0!==t.length)return t.map(_G)}(t.nS("ContentProtection")),jwt:function(t){return t.map(DG)}(t.nS("EssentialProperty")),lct:cG(t.cS("frameRate")),Ti:Ji(t.cS("height")),zwt:Ji(t.cS("maxPlayoutRate")),Pwt:Ji(t.cS("maximumSAPPeriod")),gY:t.cS("mimeType"),Bwt:t.cS("profiles"),Rwt:t.cS("sar"),Uwt:function(t){switch(t){case iG.lwt:case iG.dwt:case iG.KT:return t;default:return}}(t.cS("scanType")),Qwt:t.cS("segmentProfiles"),Fwt:Ji(t.cS("startWithSAP")),ji:Ji(t.cS("width"))}}function MG(t){const i=fG(t.nS("BaseURL")),e=t.nS("SegmentBase");if(e.length>1)throw new b("The provided MPEG-DASH document's "+t.hS+" element can not have more than one SegmentBase element.");const s=1===e.length?mG(e[0]):void 0,n=function(t){const i=t.map(vG);return i.length>0?i:void 0}(t.nS("SegmentList")),r=t.nS("SegmentTemplate");if(r.length>1)throw new b("The provided MPEG-DASH document's "+t.hS+" element can not have more than one SegmentTemplate element.");const h=1===r.length?function(t){return At({},pG(t),{Ywt:t.cS("bitstreamSwitching"),Gwt:t.cS("index"),Vwt:t.cS("initialization"),Wwt:t.cS("media")})}(r[0]):void 0;return{Hwt:i,qwt:s,Xwt:n,Zwt:h}}function TG(t){const i=yG(t),e=MG(t),s=Ji(t.cS("bandwidth")),n=t.cS("dependencyId"),r=t.cS("id"),h=t.cS("mediaStreamStructureId"),o=Ji(t.cS("qualityRanking"));if(t.nS("SegmentBase").length>1)throw new b("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");return At({},i,e,{Jz:s,Kwt:n,o:r,Jwt:h,$wt:o})}function NG(t){return{Xet:t.cS("schemeIdUri"),ST:t.cS("value")}}function DG(t){return NG(t)}function IG(t){return NG(t)}function SG(t){return NG(t)}function EG(t){var i;const e=yG(t),s=MG(t),n=function(t){return t.map(SG)}(t.nS("Accessibility")),r=lG(t.cS("bitstreamSwitching")),h=t.cS("contentType"),o=Ji(t.cS("group")),a=Ji(t.cS("id")),u=(null==(i=t.nS("Label")[0])?void 0:i.Vj)||"",c=t.cS("lang"),l=Ji(t.cS("maxBandwidth")),d=cG(t.cS("maxFrameRate")),f=Ji(t.cS("maxHeight")),_=Ji(t.cS("maxWidth")),g=Ji(t.cS("minBandwidth")),w=cG(t.cS("minFrameRate")),A=Ji(t.cS("minHeight")),v=Ji(t.cS("minWidth")),m=t.cS("par"),p=function(t){return t.map(TG)}(t.nS("Representation"));if(0===p.length)throw new b("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");const y=function(t){return t.map(IG)}(t.nS("Role")),M=lG(t.cS("segmentAlignment"))||!1,T=Ji(t.cS("selectionPriority")),N=T||1,D=lG(t.cS("subsegmentAlignment"))||!1;let I;try{I=Ji(t.cS("subsegmentStartsWithSAP"))}catch(t){}return At({},e,s,{But:n,Lwt:r,LP:h,Wut:o,o:a,kh:u,gs:c,tAt:l,iAt:d,eAt:f,sAt:_,nAt:g,rAt:w,hAt:A,oAt:v,aAt:m,Lnt:p,wct:y,uAt:M,fB:N,cAt:D,lAt:I,dAt:t.cS("xlink:actuate")||"onRequest",fAt:t.cS("xlink:href")})}function bG(t){const i=uG(t.cS("presentationTime"))||Ce.ZERO,e=uG(t.cS("duration")),s=Ji(t.cS("id")),n=function(t){const i=t.rS,e={};for(let t=0;t<i.length;t++)e[i[t].l]=i[t].ST;return e}(t),r=t.Vj;return{ET:i,ct:e,o:s,rS:n,Cp:""!==r.trim()?r:t.cS("messageData")||""}}function LG(t){return{fAt:t.cS("xlink:href"),dAt:t.cS("xlink:actuate"),Xet:t.cS("schemeIdUri"),ST:t.cS("value"),zy:Ji(t.cS("timescale")),Swt:uG(t.cS("presentationTimeOffset")),wY:t.nS("Event").map(bG)}}function kG(t){const i=MG(t),e=t.nS("AssetIdentifier");if(e.length>1)throw new b("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");const s=1===e.length?function(t){return NG(t)}(e[0]):void 0,n=function(t){return t.map(EG)}(t.nS("AdaptationSet")),r=lG(t.cS("bitstreamSwitching")),h=Mn(t.cS("duration")),o=function(t){return t.map(LG)}(t.nS("EventStream")),a=t.cS("id"),u=Mn(t.cS("start")),c=(t.nS("Subset"),t.cS("xlink:href"));return At({},i,{ynt:n,_At:s,Lwt:r,ct:h,gAt:o,o:a,Cn:u,dAt:t.cS("xlink:actuate"),fAt:c})}function CG(t){const i=t.cS("schemeIdUri");if(!i)return;return{Xet:i,ST:t.cS("value")}}function xG(t,i){const e=oG(t.cS("availabilityEndTime")),s=oG(t.cS("availabilityStartTime")),n=fG(t.nS("BaseURL")),r=t.cS("id"),h=function(t){return t.map((t=>""+t.Vj))}(t.nS("Location")),o=Mn(t.cS("maxSegmentDuration")),a=Mn(t.cS("maxSubsegmentDuration")),u=Mn(t.cS("mediaPresentationDuration")),c=(t.nS("Metrics"),Mn(t.cS("minBufferTime")));if(!c)throw new b("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");const l=Mn(t.cS("minimumUpdatePeriod")),d=function(t){return t.map((t=>kG(t)))}(t.nS("Period"));if(!d.length)throw new b("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");const f=t.cS("profiles");if(!f)throw new b("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");const _=oG(t.cS("publishTime")),g=Mn(t.cS("suggestedPresentationDelay")),w=Mn(t.cS("timeShiftBufferDepth")),A=function(t){switch(t){case as.CO:case as.xO:return t;default:return}}(t.cS("type")),v=function(t){const i=[];for(const e of t){const t=CG(e);t&&i.push(t)}return i}(t.nS("UTCTiming"));return{wAt:e,AAt:s,Hwt:n,o:r,vAt:h,mAt:i,pAt:o,yAt:a,MAt:u,TAt:c,NAt:l,qgt:d,Bwt:f,DAt:_,IAt:g,bwt:w,hA:A,SAt:v}}var OG=class{EAt(t,i){return function(t,i){if(!t)throw new b("The provided MPEG-DASH document does not contain a valid MPD root element.");return xG(t,i)}(lg.oS(t).aS,i)}};function jG(t){return{get bandwidth(){return t.Jz},get codecs(){return t.Het},get id(){return t.o},get uid(){return t.Vw},get name(){return t.kh},get averageBandwidth(){return t.bAt},get label(){return t.kh},set label(i){t.kh=Oa(i)},get available(){return t.qit},get score(){return t.LAt},addEventListener(i,e){t.yn(i,e)},removeEventListener(i,e){t.fn(i,e)}}}function zG(t){return _l(jG(t),{get height(){return t.Ti},get width(){return t.ji},get frameRate(){return t.lct},get firstFrame(){return t.kAt}})}function PG(t){return _l(jG(t),{get audioSamplingRate(){return t.xwt}})}r(),r(),r(),r(),r(),r(),r(),r();var BG=class extends mg{constructor(t){super("update"),this.quality=t}},RG=class extends i{get kh(){return this.IN}set kh(t){this.IN!==t&&(this.IN=t,this.Co(new BG(this.va)))}get bAt(){}get qit(){return this.CAt}get LAt(){}CS(){this.CAt=!1,this.Co(new BG(this.va))}constructor(t,i,e,s,n){super(),this.o=t,this.Jz=i,this.Het=e,this.xAt=n,this.Vw=um(),this.IN=s||"",this.CAt=!0}},UG=class extends RG{get va(){return this.Xa||(this.Xa=zG(this)),this.Xa}constructor(t,i,e,s,n,r,h,o,a=0){super(t,i,e,s,n),this.lct=r,this.ji=h,this.Ti=o,this.kAt=a,this.Xa=void 0}},QG=class extends RG{get va(){return this.Xa||(this.Xa=PG(this)),this.Xa}constructor(t,i,e,s,n,r){super(t,i,e,s,n),this.xwt=r,this.Xa=void 0}};r(),r();var ar=class extends i{get OAt(){const t=this.jAt();return null==t?void 0:t.Cn}get zAt(){const t=this.jAt();return null==t?void 0:t.jn}constructor(...t){super(...t),this.PAt=t=>{this.Co(t)}}},FG=class extends ar{get Mot(){return this.Xrt}get xwt(){var t;return null!=(t=this.BAt.Cp.xwt)?t:this.Mot.xwt}get Jz(){return this.BAt.Cp.Jz||0}get Het(){const t=this.BAt.Cp;return t.Het?[t.Het]:this.Mot.Het}get RAt(){const t=this.BAt.Cp;return t.Het?[t.Het]:[]}get Mtt(){return this.BAt.Cp.Het||this.Mot.Mtt}get Owt(){return this.BAt.Cp.Owt||this.Mot.Owt}get qet(){return this.BAt.Cp.qet||this.Mot.qet}get LP(){return this.gY+'; codecs="'+this.Mtt+'"'}get jwt(){const t=this.BAt.Cp;return t.jwt.length?t.jwt:this.Mot.jwt}get va(){return this.Xa||(this.Xa=function(t){return{get id(){return t.o},get type(){return t.hA},get bandwidth(){return t.Jz},get width(){return t.ji},get height(){return t.Ti},get frameRate(){var i,e;return null!=(e=null==(i=t.lct)?void 0:i.cD())?e:NaN},get audioSamplingRate(){return t.xwt}}}(this))}get lct(){var t;return null!=(t=this.BAt.Cp.lct)?t:this.Mot.lct}get Ti(){return this.BAt.Cp.Ti||this.Mot.Ti}get o(){return this.BAt.Cp.o||""}get kut(){return this.UAt}set kut(t){this.UAt=t}get Lut(){const t=this.BAt.QAt();if(t)return{zu:t.zu,fht:t.fht,uE:this.Sut.uE}}get zwt(){return this.BAt.Cp.zwt||this.Mot.zwt||1}get Pwt(){return this.BAt.Cp.Pwt||this.Mot.Pwt}get Sut(){return this.fat.Sut}get gY(){return this.BAt.Cp.gY||this.Mot.gY}get fat(){return this.Mot.fat}get Bwt(){return this.BAt.Cp.Bwt||this.Mot.Bwt}get Mrt(){return this.FAt}get Rwt(){return this.BAt.Cp.Rwt||this.Mot.Rwt}get Uwt(){return this.BAt.Cp.Uwt||this.Mot.Uwt}get YAt(){return this.BAt.YAt}get Qwt(){return this.BAt.Cp.Qwt||this.Mot.Qwt}get Ust(){return this.BAt.Ust}get Fwt(){return this.BAt.Cp.Fwt||this.Mot.Fwt}get hA(){const t=this.gY.split("/")[0];return"application"===t||"text"===t||Io(this.gY,this.Het)?hv.Ru:"video"===t?hv.vp:"audio"===t?hv.mp:"image"===t?hv.ZT:hv.KT}get ji(){return this.BAt.Cp.ji||this.Mot.ji}get Aat(){return this.GAt}set Aat(t){this.GAt=t}Eat(t){const i=H(t)?this.BAt.VAt(t):this.BAt.Eat(t);return{zu:i.zu,fht:i.fht,uE:this.Sut.uE}}WAt(){return this.BAt.WAt()}jAt(){return this.BAt.jAt()}HAt(){return this.BAt.HAt()}mat(t){return this.BAt.mat(t)}yat(t,i,e){return this.BAt.yat(t,this.Sut.uE,i,e)}gut(t){return H(t)?this.Ust.qAt(t,this.BAt):this.Ust.gut(t)}dat(t){return H(t)?this.Ust.XAt(t,this.BAt):this.Ust.dat(t)}gn(){this.BAt.fn(ei.Art,this.PAt)}constructor(t,i){if(super(),this.Xa=void 0,this.UAt=void 0,this.GAt=!1,this.Xrt=t,this.BAt=i,this.BAt.yn(ei.Art,this.PAt),this.hA===hv.vp){var e,s;const t=null!=(s=null==(e=this.lct)?void 0:e.cD())?s:NaN;this.FAt=new UG(this.o,this.Jz,this.Mtt,"","",t,this.ji,this.Ti)}else this.hA===hv.mp?this.FAt=new QG(this.o,this.Jz,this.Mtt,"","",this.xwt):this.FAt=void 0}},YG=class extends ar{get But(){return this.BAt.Cp.But}get xwt(){var t;return null!=(t=this.BAt.Cp.xwt)?t:-1}get Het(){if(this.BAt.Cp.Het)return[this.BAt.Cp.Het];{const t=[];for(const i of this.Lnt)i.RAt.length&&-1===t.indexOf(i.Mtt)&&t.push(i.Mtt);return t}}get Mtt(){return this.Het.join()}get Owt(){return this.BAt.Cp.Owt}get qet(){return this.BAt.Cp.qet}get LP(){return this.gY+'; codecs="'+this.Mtt+'"'}get jwt(){return this.BAt.jwt}get lct(){return this.BAt.Cp.lct}get Wut(){return this.BAt.Cp.Wut}get Ti(){return this.BAt.Cp.Ti||0}get o(){return this.BAt.Cp.o}get kh(){return this.BAt.Cp.kh||""}get zwt(){return this.BAt.Cp.zwt}get Pwt(){return this.BAt.Cp.Pwt}get Sut(){return this.fat.Sut}get gY(){return this.BAt.Cp.gY||this.Kut[0].gY}get fat(){return this.Bgt}get Bwt(){return this.BAt.Cp.Bwt}get Lnt(){return this.Kut}get wct(){return this.BAt.Cp.wct||[]}get Rwt(){return this.BAt.Cp.Rwt}get Uwt(){return this.BAt.Cp.Uwt}get Qwt(){return this.BAt.Cp.Qwt}get fB(){return this.BAt.Cp.fB}get Fwt(){return this.BAt.Cp.Fwt}get hA(){const t=(this.BAt.Cp.LP||this.gY).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||Io(this.gY,this.Het)?hv.Ru:"video"===t?hv.vp:"audio"===t?hv.mp:"image"===t?hv.ZT:hv.KT}get ji(){return this.BAt.Cp.ji||0}get h6(){return this.BAt.Cp.gs||""}get fct(){return this.OAt}get dct(){const t=this.fct,i=this.zAt;if(void 0===t||void 0===i)return;const e=x.min(i,this.Sut.ZAt);return x.max(t,e)}async Qn(t,i){if(0===this.Kut.length){this.Kut=[];const e=this.BAt.Lnt.map((e=>this.KAt(e,t,i)));this.Kut=(await Promise.all(e)).filter(li)}this.JAt()}async KAt(t,i,e){const s=new FG(this,t),n=await i(s);if(Pi(e),n)return s}JAt(){if(!this.Kut.length)throw new b("Detected an AdaptationSet without any supported Representations.")}jAt(){return this.BAt.jAt()}HAt(){return this.BAt.HAt()}gn(){this.BAt.fn(ei.Art,this.PAt);for(const t of this.Kut)t.gn();Ri(this.Kut)}constructor(t,i){super(),this.Kut=[],this.Bgt=t,this.BAt=i,this.BAt.yn(ei.Art,this.PAt)}};function GG(t,i){const e=[];for(const s of i)for(const i of t)e.push(lg.Dh(i,s));return e}r(),r(),r(),r(),r(),r(),r();var VG=class{$At(t){const i=t-this.Bgt.Cn;if(i<0||i>=this.Bgt.ct)return;const e=this.tvt();return void 0!==e&&Va(e,i,1e-5)?this.ivt():this.evt(i)}vat(t){const i=t-this.Bgt.Cn;if(!(i<0))return this.svt(x.min(i,this.Bgt.ct))}ivt(){return this.nvt(0)}rvt(){const t=this.Bgt.ct;if(isFinite(t))return this.svt(t)}get ovt(){return this.Bgt.uvt.avt&&void 0!==this.cvt()}WAt(t){if(this.Bgt.uvt.hA===as.xO){if(this.ovt){const i=this.ivt(),e=this.cvt();if(void 0===i||void 0===e)return;return{lvt:t,dvt:i,fvt:e}}const i=this._vt(t);if(!i)return;return{lvt:t,dvt:this.gvt(t),fvt:i}}{0;const i=this.ivt();if(i)return{lvt:t,dvt:i,fvt:this.rvt()}}}HAt(t,i){if(i){let t=this.Eut(i.dvt);const e=this.Dat(i.fvt);if(e){const i=this.but(e);(!t||i.getTime()<t.getTime())&&(t=i)}return t}{const i=this.ivt();if(i){const e=this.but(i);if(t.getTime()<e.getTime())return e}const e=this.Bgt.uvt.AAt;return t.getTime()<e.getTime()?e:void 0}}_vt(t){const i=(t.getTime()-this.Bgt.uvt.AAt.getTime())/1e3-this.Bgt.Cn+this.wvt;let e=this.svt(Sc(i,0,this.Bgt.ct));if(!e)return;if(e=this.Avt(e,t),!e)return;let s=this.Dat(e);for(;s&&this.jut(s,t);)e=s,s=this.Dat(e);return e}gvt(t){let i;const e=this.vvt.bwt;if(e){const s=(t.getTime()-this.Bgt.uvt.AAt.getTime())/1e3-this.Bgt.Cn-e.uwt();i=this.svt(Sc(s,0,this.Bgt.ct)),i||(i=this.ivt())}else i=this.ivt();if(!i)return;if(i=this.Avt(i,t),!i)return;let s=this.Nat(i);for(;s&&this.jut(s,t);)i=s,s=this.Nat(i);return i}Avt(t,i){let e=t;for(;e&&this.but(e).getTime()>i.getTime();)e=this.Nat(e);if(!e)return;const s=this.Eut(e);if(s&&s.getTime()<=i.getTime()){const t=this.Nat(e);for(t&&this.jut(t,i)&&(e=t);e;){if(this.but(e).getTime()>i.getTime())return;if(this.jut(e,i))break;e=this.Dat(e)}if(!e)return}return e}jut(t,i){if(this.ovt)return!0;if(this.but(t).getTime()>i.getTime())return!1;const e=this.Eut(t);return!(e&&i.getTime()>=e.getTime())}mvt(t,i){if(this.ovt)return!0;if(this.pvt(t).getTime()>i.getTime())return!1;const e=this.Eut(t);return!(e&&i.getTime()>=e.getTime())}yvt(t,i,e){const s=vt(i,this.Bk)+this.Bgt.Cn;return{qht:t,Mvt:i,zN:s,ct:e,PN:s+e}}pvt(t){return this.Bgt.uvt.hA===as.xO?new Date(this.Bgt.uvt.AAt.getTime()+1e3*(t.zN+t.ct)):this.Bgt.uvt.AAt}but(t){const i=this.pvt(t);return this.Bgt.uvt.hA===as.xO?new Date(i.getTime()-1e3*this.wvt):i}Eut(t){let i=1/0;if(this.Bgt.uvt.hA===as.xO){const e=this.vvt.bwt;e&&(i=this.pvt(t).getTime()+1e3*t.ct+e.cwt())}const e=this.Bgt.uvt.wAt;return e&&(i=x.min(i,e.getTime())),i===1/0?void 0:new Date(i)}Tvt(t,i){return t.qht+i}get CI(){return this.Bgt.Cn-vt(this.Nvt,this.Bk)}get Swt(){return vt(this.Nvt,this.Bk)}mat(t){return!1}yat(t,i,e,s,n){const r=this.Dvt(t);if(!r)return Promise.reject(new b("Invalid segment"));const h=this.Ivt(r.qht,i);return h?Promise.resolve(h):hh(this.Svt(r.qht,i,e,s),n)}Ivt(t,i){}Svt(t,i,e,s){return Promise.reject(new b("Not supported"))}Nat(t){const i=this.Dvt(t);if(i)return this.nvt(i.qht-1)}Dat(t){const i=this.Dvt(t);if(i)return this.nvt(i.qht+1)}Dvt(t){const i=this.nvt(t.qht);if(i&&i.zN===t.zN)return i;const e=this.$At(t.zN);return e&&e.zN===t.zN?e:void 0}Evt(t,i){const e=this.Mat(t);if(!e||!this.mat(e.qht))return;const s=this.Ivt(e.qht,i);return s?s.Evt(t):void 0}Mat(t){return this.nvt(t.bvt)}gut(t){const i=this.Dvt(t);return!!i&&0===i.qht}qAt(t,i){const e=this.Evt(t,i);return!!e&&0===e.Hht}dat(t){const i=this.Dvt(t);if(!i)return!1;const e=this.rvt();return!!e&&i.qht===e.qht}XAt(t,i){const e=this.Evt(t,i);if(!e)return!1;const s=this.rvt();if(!s||e.bvt!==s.qht)return!1;const n=this.Ivt(e.bvt,i);return e.Hht+1===n.U}e_(){}constructor(t,i){this.Bgt=t,this.vvt=i,this.Bk=i.zy,this.wvt=i.wwt,this.Nvt=i.Swt}},WG=class extends VG{nvt(t){if(t<0)return;const i=this.Lvt.multiply(t),e=vt(i,this.Bk),s=this.Bgt.ct;if(e>=s)return;const n=this.kvt();if(void 0!==n){if(t>n)return;if(t===n&&isFinite(s))return this.yvt(t,i,s-e)}return isFinite(s)&&e+this.Cvt>s?this.yvt(t,i,s-e):this.yvt(t,i,this.Cvt)}tvt(){return 0}evt(t){const i=x.floor(t/this.Cvt),e=this.kvt();return void 0!==e&&i>=e?this.nvt(e):this.nvt(i)}svt(t){if(t>=this.Bgt.ct){const t=x.ceil(this.Bgt.ct/this.Cvt)-1,i=this.kvt();return void 0!==i&&t>=i?this.nvt(i):this.nvt(t)}return this.evt(t)}kvt(){const t=this.vvt.Cwt;var i;if(void 0!==t)return t-(null!=(i=this.vvt.kwt)?i:1);const e=this.vvt.xvt;return void 0!==e&&e>0?e-1:void 0}cvt(){if(isFinite(this.Bgt.ct))return this.rvt()}Ovt(t,i){return this.Lvt.multiply(t.qht+(i-1))}Qn(){}constructor(t,i){super(i,t);const e=t.jvt,s=t.ct;if(void 0===e||void 0===s)throw new b("MultipleSegmentBase does not have a segment duration specified.");this.Lvt=e,this.Cvt=s}};function HG(t,i,e){const s=i.length;if(0===s)return-1;let n=0,r=s-1,h=t.zvt(i[n]),o=t.Pvt(i[r]);for(;n<=r&&t.Bvt(h,e)<=0&&t.Bvt(e,o)<0;){const a=n+x.floor(t.Rvt(e,h,o)*(r-n)),u=i[a],c=t.zvt(u),l=a+1<s?t.zvt(i[a+1]):t.Pvt(u);if(t.Bvt(l,e)<=0)n=a+1,h=l;else{if(!(t.Bvt(e,c)<0))return a;r=a-1,o=c}}return-1}function qG(t,i){return HG(XG.gL,t,i)}r(),r(),r();var XG=class t{static get gL(){return null!=this.Wet||(this.Wet=new t),this.Wet}zvt(t){return t.zN}Pvt(t){return t.PN}Bvt(t,i){return t.compare(i)}Rvt(t,i,e){return t.subtract(i).toNumber()/e.subtract(i).toNumber()}},ZG=class extends VG{nvt(t){if(!(t<0))return t<this.Uvt.length?this.Uvt[t].Ght:this.Qvt(t-this.Uvt.length)}tvt(){if(this.Uvt.length>0)return vt(this.Uvt[0].zN,this.Bk)}evt(t){if(this.Fvt&&vt(this.Fvt.zN,this.Bk)<=t){const i=vt(this.Fvt.zN,this.Bk),e=vt(this.Fvt.ct,this.Bk),s=x.floor((t-i)/e);return this.Qvt(s)}if(this.Uvt.length>0&&Va(t,vt(this.Uvt[0].zN,this.Bk),1e-5))return this.Uvt[0].Ght;const i=qG(this.Uvt,Ce.fromNumber(t*this.Bk));return i<0?void 0:this.Uvt[i].Ght}svt(t){if(!this.Fvt&&this.Uvt.length>0){const i=this.Uvt[this.Uvt.length-1];if(function(t,i,e){return q_(t,i,e)>=0}(t,vt(i.PN,this.Bk),1e-5))return i.Ght}const i=this.tvt();return i&&t<i?this.Uvt[0].Ght:this.evt(t)}cvt(){return isFinite(this.Bgt.ct)?this.rvt():this.nvt(this.Uvt.length-1)}Ovt(t){return this.Yvt(t)}Qvt(t){if(!this.Fvt)return;const i=this.Fvt.zN,e=this.Fvt.ct,s=i.add(e.multiply(t)),n=vt(s,this.Bk),r=this.Bgt.ct;if(n>=r)return;const h=this.Uvt.length+t,o=x.min(vt(e,this.Bk),n+r);return this.yvt(h,s,o)}Yvt(t){return t.Mvt.add(this.Nvt)}Qn(){const t=this.vvt.Cp.Ust;if(!t)throw new b("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.Gvt(t)}Gvt(t){const i=this.Nvt;this.Vvt(t,i);const e=this.Wvt(t);this.Hvt(t,i,e.qvt,e.bvt)}Vvt(t,i){const e=this.Uvt;if(0===t.length)Ri(e);else{const s=t[0],n=s.zN?Ce.fromString(s.zN,!1).subtract(i):Ce.ZERO;let r=0;for(;r<e.length&&e[r].zN.lessThan(n);)r++;r>0&&e.splice(0,r)}}Wvt(t){const i=this.Uvt,e=this.B_t;let s=0,n=0;for(;s<t.length&&n<i.length;){const r=t[s].mwt||0;if(r<0)break;const h=n+r;if(h>=i.length)break;if(i[h].zN.greaterThanOrEqual(e))break;if(i[n].Ght.qht===n)n=h+1;else for(;n<=h;)i[n].Ght.qht=n,n++;0,s++}return{qvt:s,bvt:n}}Hvt(t,i,e,s){const n=this.Uvt;let r,h=e,o=s;for(;h<t.length;){const e=t[h],s=Ce.fromString(e.ct,!1),a=e.mwt||0;let u;if(e.zN){if(u=Ce.fromString(e.zN,!1).subtract(i),o>0){const t=n[o-1];t.PN.greaterThan(u)&&(t.ct=u.subtract(t.zN),t.PN=t.zN.add(t.ct))}}else u=o>0?n[o-1].PN:Ce.ZERO;if(a<0){if(h+1===t.length){r={zN:u,ct:s};break}const e=Ce.fromString(t[h+1].zN,!1).subtract(i);for(;u.lessThan(e);){const t=u.add(s);this.Xvt(n,o,u,s,t),u=t,o++}}else{const t=o+a;for(;o<=t;){const t=u.add(s);this.Xvt(n,o,u,s,t),u=t,o++}}h++}o<n.length&&n.splice(o),n.length>0&&(this.B_t=n[n.length-1].zN),this.Fvt=r}Xvt(t,i,e,s,n){if(i<t.length){const r=t[i];0,r.ct.equals(s)?r.Ght.qht=i:t[i]={zN:e,ct:s,PN:n,Ght:this.yvt(i,e,vt(s,this.Bk))}}else t.push({zN:e,ct:s,PN:n,Ght:this.yvt(i,e,vt(s,this.Bk))})}constructor(t,i){super(i,t),this.Uvt=[],this.Fvt=void 0,this.B_t=Ce.ZERO,this.Qn()}};r();var KG=class{get Cp(){return this.Fk}get wwt(){return this.Fk&&void 0!==this.Fk.wwt?this.Fk.wwt:this.Zvt?this.Zvt.wwt:0}get Swt(){return this.Fk&&void 0!==this.Fk.Swt?this.Fk.Swt:this.Zvt?this.Zvt.Swt:Ce.ZERO}get bwt(){return this.Fk&&void 0!==this.Fk.bwt?this.Fk.bwt:this.Zvt?this.Zvt.bwt:this.fat.uvt.bwt}get zy(){return this.Fk&&void 0!==this.Fk.zy?this.Fk.zy:this.Zvt&&this.Zvt.zy?this.Zvt.zy:1}get pwt(){return this.Fk&&void 0!==this.Fk.pwt?this.Fk.pwt:this.Zvt?this.Zvt.pwt:void 0}get Iwt(){return this.Fk&&void 0!==this.Fk.Iwt?this.Fk.Iwt:this.Zvt?this.Zvt.Iwt:void 0}get Ust(){return this.Kvt||(this.Kvt=this.Jvt()),this.Kvt}Jvt(){if(this.$vt=this.tmt(),this.$vt)return this.$vt;if(this.Zvt)return this.Zvt.Ust;throw new b("Missing media segment information.")}QAt(t){const i=this.Iwt;if(i){return{zu:(void 0!==i.vwt?lg.Dh(i.vwt,t.Hwt[0]):t.Hwt[0]).href,fht:i.fht}}const e=this.pwt;if(e)return{zu:t.Hwt[0].href,fht:[0,e[0]-1]}}Qn(t){this.Fk=t,this.$vt&&this.$vt.Qn()}e_(){this.$vt&&(this.$vt.e_(),this.$vt=void 0)}constructor(t,i,e){this.Kvt=void 0,this.$vt=void 0,this.fat=t,this.Zvt=i,this.Fk=e}},JG=class extends KG{get ct(){return void 0!==this.Fk.ct?this.Fk.ct/this.zy:this.Zvt&&$G(this.Zvt)?this.Zvt.ct:void 0}get jvt(){return void 0!==this.Fk.ct?Ce.fromNumber(this.Fk.ct):this.Zvt&&$G(this.Zvt)?this.Zvt.jvt:void 0}get kwt(){return void 0!==this.Fk.kwt?this.Fk.kwt:this.Zvt&&$G(this.Zvt)?this.Zvt.kwt:void 0}get Cwt(){return void 0!==this.Fk.Cwt?this.Fk.Cwt:this.Zvt&&$G(this.Zvt)?this.Zvt.Cwt:void 0}tmt(){return void 0!==this.Fk.Ust?new ZG(this,this.fat):void 0!==this.Fk.ct?new WG(this,this.fat):void 0}};function $G(t){return t instanceof JG}r();var tV=class{jL(t){return this.imt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,((i,e,s,n)=>{if("$$"===i)return"$";const r=t[e];if(void 0===r)return i;if(void 0===s)return r.toString();let h=function(t,i){switch(i){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(r,n);return void 0===h?i:(h=fa(h,Number(s),"0"),h)}))}constructor(t){this.imt=t}};var iV=class t extends JG{get Vwt(){return this.emt?this.emt:this.Zvt&&this.Zvt instanceof t?this.Zvt.Vwt:void 0}get Wwt(){return this.smt?this.smt:this.Zvt&&this.Zvt instanceof t?this.Zvt.Wwt:void 0}QAt(t){const i=this.Vwt;if(!i)return super.QAt(t);const e=i.jL({Bandwidth:t.Cp.Jz,RepresentationID:t.Cp.o});return{zu:lg.zv(e,t.Hwt[0])}}Eat(t,i){var e;const s=null!=(e=i.YAt.kwt)?e:1,n=this.Wwt.jL({Bandwidth:i.Cp.Jz,Number:i.Ust.Tvt(t,s),RepresentationID:i.Cp.o,Time:i.Ust.Ovt(t,s)});return{zu:lg.zv(n,i.Hwt[0])}}VAt(t,i){}get xvt(){}constructor(t,i,e){super(t,i,e),this.emt=e.Vwt?new tV(e.Vwt):void 0,this.smt=e.Wwt?new tV(e.Wwt):void 0}};r();var eV=class t extends JG{Eat(t,i){const e=this.Mwt[t.qht],s=i.Hwt[0];let n;return n=e.Fy?lg.Dh(e.Fy,s):s,{zu:n.href,fht:e.ywt}}VAt(t,i){}get Mwt(){return void 0!==this.Fk.Mwt?this.Fk.Mwt:this.Zvt&&this.Zvt instanceof t?this.Zvt.Mwt:void 0}get xvt(){var t;return null==(t=this.Mwt)?void 0:t.length}};r(),r(),r(),r();var sV=class{Evt(t){const i=this.Tat(t.Hht);if(i&&i.zN===t.zN)return i;const e=this.nmt(t.zN);return e&&e.zN===t.zN?e:void 0}},nV=class extends sV{get U(){return this.hmt.length}Tat(t){if(t>=0&&t<this.U)return this.omt(this.hmt[t])}nmt(t){const i=this.amt(t);if(this.hmt.length>0){const t=this.hmt[0];if(i<=vt(t.zN,this.zy))return this.omt(t)}const e=qG(this.hmt,Ce.fromNumber(i*this.zy));if(!(e<0))return this.omt(this.hmt[e])}pat(t){const i=this.amt(t);if(this.hmt.length>0){const t=this.hmt[this.hmt.length-1];if(i>=vt(t.PN,this.zy))return this.omt(t)}return this.nmt(t)}omt(t){const i=vt(t.zN,this.zy)-this.Swt,e=i+this.umt,s=vt(t.ct,this.zy);return{bvt:this.bvt,Hht:t.qht,zN:e,Mvt:Ce.fromNumber(i*this.zy),ct:s,PN:e+s,cmt:[t.lmt,t.dmt]}}amt(t){return t-this.umt+this.Swt}constructor(t,i,e,s,n){super(),this.bvt=t,this.zy=i,this.umt=e,this.Swt=s,this.hmt=n}};r(),r(),r();var rV=class t{h_t(){return this.xp.Ku<this.Cp.byteLength}fmt(){const i=this._mt(),e=this.gmt(),s=this.xp.Ku,n=this.Cp.byteLength;let r;r=t.wmt(e)?n-s:t.Amt(e);const h=s+r<=n?r:n-s,o=Mc(this.Cp,this.xp,h);return new oV(i,Mo(o))}_mt(){const t=this.gmt();if(t.length>7)throw new RangeError("Invalid EBML ID size");let i=0;for(let e=0;e<t.length;e++)i=256*i+t[e];return i}gmt(){const t=F(this.Cp,this.xp.Ip());if(0===t)throw new RangeError("EBML variable sized integer is invalid");const i=8-(31-rA(t));return lg.Dtt(i<=8&&i>=1,"Incorrect log2 value"),Mc(this.Cp,this.xp,i)}static Amt(t){if(8===t.length&&224&t[1])throw new k("EBML variable sized integer is too large");let i=0;for(let e=0;e<t.length;e++){const s=t[e];if(0===e){i=s&(1<<8-t.length)-1}else i=256*i+s}return i}static wmt(t){for(const i of hV)if(Yi(t,new T(i)))return!0;return!1}constructor(t){this.Cp=t,this.xp=new Or}},hV=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],oV=class{vmt(){return this.mmt.byteOffset}pmt(){return new rV(this.mmt)}ymt(){const t=this.mmt.byteLength;if(t>8)throw new RangeError("EMBL integer field size is too large");if(8===t&&224&this.mmt.getUint8(0))throw new RangeError("EMBL integer field value is too large");let i=0;for(let e=0;e<t;e++){i=256*i+this.mmt.getUint8(e)}return i}JW(){if(4===this.mmt.byteLength)return this.mmt.getFloat32(0);if(8===this.mmt.byteLength)return this.mmt.getFloat64(0);throw new RangeError("Invalid size for EMBL floating-point field")}constructor(t,i){this.id=t,this.mmt=i}};function aV(t,i){const e=function(t){const i=new rV(Mo(t)),e=i.fmt();if(e.id!==cV)throw new k("Missing WebM EBML header");const s=i.fmt();if(s.id!==lV)throw new k("Missing WebM SegmentElement");const n=s.vmt(),r=function(t){const i=t.pmt();let e;for(;i.h_t();){const t=i.fmt();if(t.id===dV){e=t;break}}if(!e)throw new k("Missing WebM InfoElement");return function(t){const i=t.pmt();let e,s=1e6;for(;i.h_t();){const t=i.fmt();t.id===fV?s=t.ymt():t.id===_V&&(e=t.JW())}if(void 0===e)throw new k("Missing Duration in WebM InfoElement");const n=s/1e9,r=e*n;return{timecodeScale:n,duration:r}}(e)}(s);return{segmentOffset:n,timecodeScale:r.timecodeScale,duration:r.duration}}(i),s=new rV(Mo(t)).fmt();if(s.id!==gV)throw new k("Missing WebM CuesElement");const n=function(t,i,e,s){const n=[],r=t.pmt();let h,o;for(;r.h_t();){const t=r.fmt();if(t.id!==wV)continue;const e=uV(t);if(!e)continue;const s=e.unscaledTime,a=i+e.relativeOffset;void 0!==h&&n.push({qht:n.length,zN:h,ct:s.subtract(h),PN:s,lmt:o,dmt:a-1}),h=s,o=a}if(void 0!==h){0;const t=Ce.fromNumber(s/e);n.push({qht:n.length,zN:h,ct:t.subtract(h),PN:t,lmt:o,dmt:void 0})}return n}(s,e.segmentOffset,e.timecodeScale,e.duration);return{zy:x.round(1/e.timecodeScale),Mmt:n}}function uV(t){const i=t.pmt(),e=i.fmt();if(e.id!==AV)throw new k("Missing CueTime in WebM CuePointElement");const s=Ce.fromNumber(e.ymt()),n=i.fmt();if(n.id!==vV)throw new k("Missing CueTrackPositions in WebM CuePointElement");const r=n.pmt();let h=0;for(;r.h_t();){const t=r.fmt();if(t.id===mV){h=t.ymt();break}}return{unscaledTime:s,relativeOffset:h}}var cV=440786851,lV=408125543,dV=357149030,fV=2807729,_V=17545,gV=475249515,wV=187,AV=179,vV=183,mV=241,pV=class extends VG{nvt(t){if(0===t)return this.Tmt}tvt(){return 0}evt(t){return this.Tmt}svt(t){return this.evt(t)}cvt(){return this.Tmt}Ovt(t,i){return Ce.ZERO}WAt(t){const i=this.Nmt(t);return i&&{lvt:t,dvt:i,fvt:i}}Nmt(t){const i=this.Tmt;return this.jut(i,t)?i:void 0}_vt(t){return this.Nmt(t)}gvt(t){return this.Nmt(t)}Qn(){}mat(t){return 0===t&&void 0!==this.Dmt}Ivt(t,i){const e=i.Hwt[0].href;return this.Imt.get(e)}Svt(t,i,e,s){const n=i.Hwt[0].href;let r=this.Smt.get(n);if(void 0===r){const h=i.gY,o=this.Emt.a_;if(fe(h))r=this.bmt(t,n,e,s,o);else{if(!Lp(h))throw new ce(y_.MEDIA_NOT_SUPPORTED,"Unsupported MIME type for segment index: "+h);r=this.Lmt(t,n,i,e,s,o)}this.Smt.set(n,r)}return r}async bmt(t,i,e,s,n){const r=this.Dmt,h=await s.Wat(i,r,e,n),o=this.kmt(t,h);return this.Imt.set(i,o),o}kmt(t,i){const e=this.Dmt,s=lt.Kp(new DataView(i),new Or);if(s.hA!==Wr.fp)throw new b("Invalid segment index");const n=Qi.Sy(s.Cp),r=function(t,i){const e=[];let s=t.YT,n=i+t.GT.toNumber(),r=0;for(const i of t.WT){const t=i.BT,h=Ce.fromNumber(i.ct),o=s.add(h);0===i.PT&&e.push({qht:r++,zN:s,ct:h,PN:o,lmt:n,dmt:n+t-1}),n+=t,s=o}return e}(n,e[1]+1);return new nV(t,n.zy,this.Bgt.Cn,vt(this.Nvt,this.Bk),r)}async Lmt(t,i,e,s,n,r){const h=e.QAt(),o=this.Dmt,a=n.Wat(h.zu,h.fht,s,r),u=n.Wat(i,o,s,r),[c,l]=await Promise.all([a,u]),d=this.Cmt(t,l,c);return this.Imt.set(i,d),d}Cmt(t,i,e){const s=aV(new T(i),new T(e));return new nV(t,s.zy,this.Bgt.Cn,vt(this.Nvt,this.Bk),s.Mmt)}e_(){super.e_(),this.Emt.c_()}constructor(t,i){super(i,t),this.Imt=Qt(),this.Smt=Qt(),this.Emt=new xs,this.Dmt=t.pwt,this.Tmt=this.yvt(0,Ce.ZERO,this.Bgt.ct)}},yV=class extends KG{get kwt(){}Eat(t,i){return{zu:i.Hwt[0].href}}VAt(t,i){return{zu:i.Hwt[0].href,fht:t.cmt}}tmt(){return new pV(this,this.fat)}};r();var MV=class extends mg{constructor(){super(ei.Art)}};r();var Hn=class extends i{get Cp(){return this.Fk}get Hwt(){return this.xmt}Omt(){var t,i;return null!=(i=this.vvt)?i:null==(t=this.fit)?void 0:t.Omt()}jmt(t){const i=this.fat,e=this.fit&&this.fit.Omt();this.Fk.Zwt?this.vvt=new iV(i,e,this.Fk.Zwt):this.Fk.Xwt?this.vvt=new eV(i,e,this.Fk.Xwt[0]):this.Fk.qwt?this.vvt=new yV(i,e,this.Fk.qwt):t&&!e&&(this.vvt=new yV(i,e,void 0))}zmt(t,i){this.Fk=t,this.xmt=t.Hwt&&t.Hwt.length>0?GG(t.Hwt.map((t=>t.zu)),i):i.slice(),this.vvt&&(t.Zwt?this.vvt.Qn(t.Zwt):t.Xwt?this.vvt.Qn(t.Xwt[0]):t.qwt&&this.vvt.Qn(t.qwt))}jAt(){var t;return null==(t=this.Pmt)?void 0:t.Bmt}HAt(){var t;return null==(t=this.Pmt)?void 0:t.Rmt}Umt(t){const i=this.Qmt,e=this.fat.ct,s=this.Pmt,n=this.Fmt(t);s&&Va(e,i,1e-5)&&IV(s,n)||(this.Qmt=e,this.Pmt=n,this.Co(new MV))}e_(){this.Vo(),this.vvt&&(this.vvt.e_(),this.vvt=void 0)}constructor(t,i,e){super(),this.vvt=void 0,this.Qmt=1/0,this.Pmt=void 0,this.fit=i,this.zmt(t,e)}};function TV(t){let i,e;for(const e of t){const t=e.jAt();if(t){i=t.Cn;break}}if(void 0!==i){for(let i=t.length-1;i>=0;i--){const s=t[i].jAt();if(s){e=s.jn;break}}return void 0!==e?{Cn:i,jn:e}:void 0}}function NV(t){if(0===t.length)return;let i=0,e=1/0;for(const s of t){const t=s.jAt();if(!t)return;if(i=x.max(i,t.Cn),e=x.min(e,t.jn),i>=e)return}return{Cn:i,jn:e}}function DV(t){let i;for(const e of t){const t=e.HAt();t&&(!i||t.getTime()<i.getTime())&&(i=t)}return i}function IV(t,i){return function(t,i){return t&&i?t.getTime()===i.getTime():t===i}(t.Rmt,i.Rmt)&&function(t,i){return t&&i?Va(t.Cn,i.Cn,1e-5)&&Va(t.jn,i.jn,1e-5):t===i}(t.Bmt,i.Bmt)}var SV=class extends ar{get ynt(){return this.Ymt}get Het(){return this.ynt.reduce(((t,i)=>{for(const e of i.Het)Ho(t,e)||t.push(e);return t}),[])}get Mtt(){return this.Het.length>0?this.Het[0]:""}get hA(){return this.Ymt[0].hA}get o(){return this.NN}get Sut(){return this.Bgt.Sut}get gY(){return this.Ymt[0].gY}get fat(){return this.Bgt}get Lnt(){return Eh(this.ynt,(t=>t.Lnt))}jAt(){return NV(this.Ymt)}HAt(){let t;for(const i of this.Ymt){const e=i.HAt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t}gn(){this.Vo();for(const t of this.Ymt)t.fn(ei.Art,this.PAt)}constructor(t,i,e){super(),this.Bgt=t,this.NN=i,this.Ymt=e.slice();for(const t of e)t.yn(ei.Art,this.PAt)}};r();var EV=class extends mg{constructor(){super(ei.mrt)}};function bV(t){const i=[];for(const e of t){let t;const s=e.Wut;void 0===s||(t=p(i,(t=>t.o===s))),t||(t={o:s,ynt:[]},i.push(t)),t.ynt.push(e)}return i}r();var LV=class extends ar{get ynt(){return this.Ymt}get Pgt(){return this.Gmt}get _At(){return this.BAt.Cp._At}get ct(){return this.BAt.ct}get jn(){return this.Cn+this.ct}get gAt(){return this.BAt.Cp.gAt||[]}get o(){return this.BAt.o}get prt(){return this.Vmt}get Sut(){return this.Wmt}get Hmt(){return this.Wmt.qmt(this)}get fat(){return this}get Xmt(){return this.Wmt.Zmt(this)}get Kmt(){return this.Jmt(1/0,x.min)}get $mt(){return this.Jmt(0,x.max)}Jmt(t,i){if(0===this.Gmt.length)return;let e=t;for(const t of this.Gmt){const s=t.hA;if(s===hv.mp||s===hv.vp){const s=t.zAt;if(void 0===s)return;e=i(e,s)}}return e}get Cn(){return this.BAt.Cn}get uE(){return this.Sut.uE}tpt(){this.Vmt||(this.Vmt=!0,this.Co(new EV),this.gn())}async Qn(t,i){0===this.Ymt.length?(await this.ipt(this.BAt.ynt,t,i),this.ept(this.Ymt),Pi(i)):await this.spt(t,i)}async ipt(t,i,e){for(const s of t){const t=new YG(this,s);try{await t.Qn(i,e),this.Ymt.push(t)}catch(t){go(t)}}}ept(t){const i=bV(t);for(const t of i){const i=new SV(this,t.o,t.ynt);this.Gmt.push(i)}}async spt(t,i){for(const e of this.Ymt)await e.Qn(t,i)}jAt(){return this.BAt.jAt()}HAt(){return this.BAt.HAt()}gn(){this.Vo(),this.BAt.fn(ei.Art,this.PAt);for(const t of this.Gmt)t.gn();for(const t of this.Ymt)t.gn();Ri(this.Ymt),Ri(this.Gmt)}constructor(t,i){super(),this.Ymt=[],this.Gmt=[],this.Vmt=!1,this.Wmt=t,this.BAt=i,this.BAt.yn(ei.Art,this.PAt)}};r();var kV,$n=class extends mg{constructor(){super(t.QA)}};r(),r(),(kV||(kV={})).npt="rpt";var CV=class extends mg{constructor(){super(kV.npt)}};r(),r(),r(),r();var xV=class extends Hn{get Mot(){return this.Xrt}get fat(){return this.Xrt.fat}get uvt(){return this.Xrt.uvt}get gY(){return this.Fk.gY||this.Xrt.gY}get YAt(){return this.Omt()}get Ust(){return this.YAt.Ust}mat(t){const i=this.gY;return!(!fe(i)&&!Lp(i))&&this.Ust.mat(t.qht)}yat(t,i,e,s){return this.Ust.yat(t,this,i,e,s)}QAt(){return this.YAt.QAt(this)}Eat(t){return this.YAt.Eat(t,this)}VAt(t){return this.YAt.VAt(t,this)}WAt(){return this.hpt}Fmt(t){const i=this.Ust,e=i.WAt(t),s=e&&function(t,i){const{dvt:e,fvt:s,lvt:n}=t,r=e.zN;let h;const o=i.pvt(s);if(o.getTime()<=n.getTime())h=s.PN;else{const t=(o.getTime()-n.getTime())/1e3,i=x.max(s.ct-t,0);h=s.zN+i}return{Cn:r,jn:h}}(e,i),n=this.Ust.HAt(t,e);return this.hpt=e,{lvt:t,Bmt:s,Rmt:n}}Qn(t){this.zmt(t,this.Xrt.Hwt)}constructor(t,i){super(t,i,i.Hwt),this.hpt=void 0,this.Xrt=i,this.jmt(!0)}},OV=class extends Hn{get Lnt(){return this.Kut}get fat(){return this.Bgt}get uvt(){return this.Bgt.uvt}get Wut(){return this.Fk.Wut}get gY(){var t;return this.Fk.gY||(null==(t=this.Kut[0])?void 0:t.Cp.gY)||""}get jwt(){return this.Cp.jwt}Qn(t){this.zmt(t,this.Bgt.Hwt);const i=t.Lnt||[];if(this.Kut.length!==i.length)throw new b("Expected "+this.Kut.length+' representations in adaptation set "'+t.o+'", found '+i.length);for(let t=0;t<i.length;t++)this.Kut[t].Qn(i[t])}Umt(t){for(const i of this.Kut)i.Umt(t);super.Umt(t)}Fmt(t){return{lvt:t,Bmt:NV(this.Kut),Rmt:DV(this.Kut)}}e_(){for(const t of this.Kut)t.e_();super.e_()}constructor(t,i){super(t,i,i.Hwt),this.Bgt=i,this.jmt(!1),this.Kut=t.Lnt.map((t=>new xV(t,this)))}},jV=class extends Hn{get ynt(){return this.Ymt}get Pgt(){return this.Gmt}get fat(){return this}get uvt(){return this.opt}get o(){return this.Fk.o}get Cn(){return this.JI}get ct(){return this.Rk}Qn(t,i){this.zmt(t,this.opt.Hwt),this.Rk=i;const e=t.ynt||[];if(this.Ymt.length!==e.length)throw new b("Expected "+this.Ymt.length+' adaptation sets in period "'+t.o+'", found '+e.length);for(let t=0;t<e.length;t++)this.Ymt[t].Qn(e[t])}Umt(t){for(const i of this.Ymt)i.Umt(t);super.Umt(t)}Fmt(t){return{lvt:t,Bmt:NV(this.Ymt),Rmt:DV(this.Ymt)}}e_(){for(const t of this.Ymt)t.e_();super.e_()}constructor(t,i,e,s){super(i,void 0,t.Hwt),this.Gmt=[],this.opt=t,this.JI=e,this.Rk=s,this.jmt(!1),this.Ymt=(i.ynt||[]).map((t=>new OV(t,this))),this.Gmt=bV(this.Ymt)}},zV=new Date("2000-01-01"),PV=class extends i{get Cp(){return this.Fk}get hA(){return this.Fk.hA||as.CO}get AAt(){return this.apt||this.Fk.AAt||this.DAt}get wAt(){return this.Fk.wAt}get avt(){var t,i;return null!=(i=null==(t=this.upt)?void 0:t.ignoreAvailabilityWindow)&&i}get MAt(){return this.cpt}get Hwt(){return this.xmt}get vAt(){return this.lpt}get qgt(){return this.dpt}get DAt(){return this.Fk.DAt||this.An}get bwt(){return this.Fk.bwt}get fpt(){return this._pt}get gpt(){return this.An}jAt(){var t;return null==(t=this.Pmt)?void 0:t.Bmt}HAt(){var t;return null==(t=this.Pmt)?void 0:t.Rmt}Qn(t,i,e,s){var n;const r=void 0!==this.Fk&&this.Fk.hA===as.xO;this.Fk=t,this.wpt=i,this._pt=null!=s?s:e,this.An=e;const h=[lw(i)];this.xmt=t.Hwt&&t.Hwt.length>0?GG(t.Hwt.map((t=>t.zu)),h):h,this.lpt=t.vAt&&t.vAt.length>0?GG(t.vAt,this.xmt):[];const o=this.lpt.map((t=>t.href)),a=i.href;Ho(o,a)||(this.lpt.push(i),o.push(a));const u=this.Apt.href;Ho(o,u)||(this.lpt.push(this.Apt),o.push(u)),this.cpt=null==(n=t.MAt)?void 0:n.uwt();const c=t.hA===as.xO,l=function(t,i,e){const s=[];for(let e=0;e<t.length;e++){const n=t[e];let r;if(n.Cn)r=n.Cn.uwt();else if(e>0&&t[e-1].ct){r=s[e-1]+t[e-1].ct.uwt()}else{if(0!==e||i)break;r=0}s.push(r)}const n=[];for(let i=0;i<s.length-1;i++)n.push({Cp:t[i],Cn:s[i],ct:s[i+1]-s[i]});if(s.length>0){const r=s.length-1,h=t[r],o=s[r];let a=1/0;i||(a=h.ct?h.ct.uwt():e-o),n.push({Cp:h,Cn:o,ct:a})}return n}(t.qgt,c,this.cpt);this.vpt(l,r,c),this.Umt(e)}vpt(t,i,e){const s=this.dpt;if(0===t.length)return void Ri(s);const n=t[0].Cp.o;let r=0;for(;r<s.length&&s[r].o!==n;)r++;const h=s.splice(0,r);for(const t of h)t.e_();if(i&&!e&&s.length>0&&t.length>0){var o;const i=null!=(o=BV(s[0].Cp))?o:Pt.LD;var a;const e=null!=(a=BV(t[0].Cp))?a:Pt.LD;if(e.lD(i)){const n=e.MD(i);void 0!==this.cpt&&(this.cpt+=n.cD());for(let i=0;i<t.length;i++){const e=t[i];if(i<s.length){const t=s[i];e.Cn=t.Cn,YV(e.Cp,t.Cp)}i===t.length-1&&(e.ct+=n.cD())}}}for(let i=0;i<t.length;i++){const e=t[i];if(i<s.length){const t=s[i];0,t.Qn(e.Cp,e.ct)}else s.push(new jV(this,e.Cp,e.Cn,e.ct))}}Umt(t){for(const i of this.dpt)i.Umt(t);const i=this.Pmt,e=this.Fmt(t);i&&IV(i,e)||(this.Pmt=e,this.Co(new MV))}Fmt(t){return{lvt:t,Bmt:TV(this.dpt),Rmt:DV(this.dpt)}}cvt(){if(0===this.dpt.length)return;const t=this.dpt[this.dpt.length-1];if(isFinite(t.ct))return;if(0===t.ynt.length)return;const i=t.ynt[0];if(0===i.Lnt.length)return;const e=i.Lnt[0].Ust,s=e.cvt();return s?{Ght:s,wAt:e.Eut(s)}:void 0}e_(){this.Vo();for(const t of this.dpt)t.e_()}constructor(t,i,e,s,n){if(super(),this.Pmt=void 0,this.cpt=void 0,this.apt=void 0,this.dpt=[],this.Apt=i,this.upt=n,this.Qn(t,e,s),t.hA===as.xO){const t=this.cvt();t&&t.wAt&&t.wAt.getTime()<zV.getTime()&&(this.apt=new Date(this.DAt.getTime()-1e3*(t.Ght.zN+t.Ght.ct)),this.Umt(s))}}};function BV(t){let i=QV(t);var e,s;for(const s of null!=(e=t.ynt)?e:[])i=zo(i,RV(s));for(const e of null!=(s=t.gAt)?s:[])i=zo(i,FV(e));return i}function RV(t){let i=QV(t);for(const e of t.Lnt)i=zo(i,UV(e));return i}function UV(t){return QV(t)}function QV(t){let i;if(void 0!==t.Zwt&&(i=zo(i,FV(t.Zwt))),void 0!==t.qwt&&(i=zo(i,FV(t.qwt))),void 0!==t.Xwt)for(const e of t.Xwt)i=zo(i,FV(e));return i}function FV(t){var i,e;return Pt.SD(null!=(i=t.Swt)?i:Ce.ZERO,null!=(e=t.zy)?e:1)}function YV(t,i){if(WV(t,i),t.Cn=i.Cn,void 0!==t.ynt&&void 0!==i.ynt&&t.ynt.length===i.ynt.length)for(let e=0;e<t.ynt.length;e++)GV(t.ynt[e],i.ynt[e]);if(void 0!==t.gAt&&void 0!==i.gAt&&t.gAt.length===i.gAt.length)for(let e=0;e<t.gAt.length;e++)HV(t.gAt[e],i.gAt[e])}function GV(t,i){if(WV(t,i),void 0!==t.Lnt&&void 0!==i.Lnt&&t.Lnt.length===i.Lnt.length)for(let e=0;e<t.Lnt.length;e++)VV(t.Lnt[e],i.Lnt[e])}function VV(t,i){WV(t,i)}function WV(t,i){if(void 0!==t.Zwt&&void 0!==i.Zwt&&HV(t.Zwt,i.Zwt),void 0!==t.qwt&&void 0!==i.qwt&&HV(t.qwt,i.qwt),void 0!==t.Xwt&&void 0!==i.Xwt&&t.Xwt.length===i.Xwt.length)for(let e=0;e<t.Xwt.length;e++)HV(t.Xwt[e],i.Xwt[e])}function HV(t,i){t.zy=i.zy,t.Swt=i.Swt}r();var qV=class{async iW(t){await this.mpt(t,this.gE,this.ppt,this.ypt).catch(Mh)}Iut(){return new Date(Qo()+this.Mpt)}async mpt(t,i,e,s){let n;if(s&&(n=await this.Tpt(i,s,e)),void 0===n){Pi(e);for(const s of t)if(n=await this.Npt(i,s,e),void 0!==n)break}this.Mpt=void 0===n?0:n-Qo()}async Npt(t,i,e){switch(i.Xet){case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2012":case"urn:mpeg:dash:utc:http-iso:2014":{const s=i.ST;if(s)return await this.Tpt(t,s,e);break}case"urn:mpeg:dash:utc:direct:2012":case"urn:mpeg:dash:utc:direct:2014":{const t=i.ST;if(t){const i=new Date(t).getTime();if(!j(i))return i}break}default:return}}async Tpt(t,i,e){try{const s=await t.mS({zu:i,nE:Yc.GET,rE:Rt.Ru,a_:e}),n=await s.wE(),r=new Date(n).getTime();if(!j(r))return r}catch(t){go(t)}}constructor(t,i,e){this.gE=t,this.ppt=i,this.ypt=e,this.Mpt=0}},XV=class extends i{get wAt(){return this.BAt&&this.BAt.wAt}get AAt(){return this.BAt&&this.BAt.AAt}get avt(){return this.BAt&&this.BAt.avt}get o(){return this.BAt&&this.BAt.Cp.o}get fpt(){var t;return null==(t=this.BAt)?void 0:t.fpt}get Dpt(){var t;return null==(t=this.BAt)?void 0:t.gpt}get vAt(){return this.BAt?this.BAt.vAt.map((t=>t.href)):[this.Ipt]}get Ipt(){return this.Spt.href}get pAt(){return this.BAt&&this.BAt.Cp.pAt}get yAt(){return this.BAt&&this.BAt.Cp.yAt}get MAt(){return this.BAt&&this.BAt.Cp.MAt}get TAt(){return this.BAt&&this.BAt.Cp.TAt}get NAt(){var t,i;const e=(null==(i=this.BAt)||null==(t=i.Cp.NAt)?void 0:t.cwt())||0;return x.max(e,KV)}get eg(){return this.Ept}bpt(t){const i=this.eg;this.Ept=t,i!==this.eg&&this.Co(new CV)}get qgt(){return this.dpt}get Lpt(){return this.hA===as.xO?this.ZAt:this.kpt}get Cpt(){const t=this.Lpt;if(void 0!==t)for(const i of this.qgt)if(i.Cn<=t&&i.jn>t)return i}get Bwt(){return this.BAt&&this.BAt.Cp.Bwt}get DAt(){return this.BAt&&this.BAt.DAt}get Kmt(){for(let t=this.dpt.length-1;t>=0;t-=1){const i=this.dpt[t].Kmt;if(i)return i}}get ZAt(){const t=this.Kmt;if(void 0===t)return;const i=t-this.xpt;return x.max(i,this.kpt)}get kpt(){for(const t of this.dpt){const i=t.OAt;if(void 0!==i)return i}}get uE(){return Boolean(this.Opt.uE)}get xpt(){var t,i;if(this.Opt.jpt&&this.hA===as.xO)return this.Opt.jpt;const e=null==(i=this.BAt)||null==(t=i.Cp.IAt)?void 0:t.uwt();return void 0!==e?e:this.hA===as.xO?1.5*this.TAt.uwt():0}get bwt(){return this.BAt&&this.BAt.bwt}get hA(){return this.BAt?this.BAt.hA:void 0}async Qn(t,i,e){const s=[],n=[],r=t.mAt?lg.Dh(t.mAt,this.Spt):this.Spt;void 0===this.BAt?(await this.zpt.iW(t.SAt),this.BAt=new PV(t,this.Spt,r,this.Iut(),this.upt),this.BAt.yn(ei.Art,this.Ds)):this.BAt.Qn(t,r,this.Iut(),i);const h=this.BAt.qgt;let o;if(0===h.length)o=this.dpt.slice(),Ri(this.dpt);else{const t=h[0].o;let i=0;for(;i<this.dpt.length&&this.dpt[i].o!==t;)i++;o=this.dpt.splice(0,i);for(let t=0;t<h.length;t++){const i=h[t];let r;t<this.dpt.length?r=this.dpt[t]:(r=new LV(this,i),s.push(r)),n.push(r.Qn(this.Ppt,e))}}await Promise.all(n),this.dpt.push(...s);for(const t of o)t.tpt();this.Co(new $n)}Iut(){return this.zpt.Iut()}Zmt(t){const i=this.dpt.indexOf(t);if(i>0)return this.dpt[i-1]}qmt(t){const i=this.dpt.indexOf(t);if(i>=0&&i+1<this.dpt.length)return this.dpt[i+1]}jAt(){return this.BAt?this.BAt.jAt():void 0}HAt(){return this.BAt&&this.BAt.HAt()}Umt(t){this.BAt&&this.BAt.Umt(t)}gn(){this.Vo(),this.Bpt=void 0,this.bpt(!1);for(const t of this.dpt)t.gn();Ri(this.dpt),this.BAt&&this.BAt.e_()}constructor(t,i,e,s,n){super(),this.BAt=void 0,this.Ept=!0,this.dpt=[],this.Bpt=void 0,this.Opt=t,this.Spt=t.oA,this.Ppt=i,this.gE=e,this.Rpt=s,this.zpt=new qV(this.gE,this.Rpt,this.Opt.Upt),this.upt=n}},ZV=class{get Sut(){return this.Wmt}constructor(t,i,e,s,n){this.Wmt=new XV(t,i,e,s,n)}},KV=1e3,JV=class{get Tr(){return this.BAt}get W(){return this.Qpt||(this.Qpt=this.ait(this.Fpt.a_),W(this.Qpt)),this.Qpt}async ait(t){this.BAt.Sut.Co(new he);try{await this.Ypt(t),this.BAt.Sut.bpt(!0)}catch(t){throw go(t),this.Qpt=void 0,this.BAt.Sut.bpt(!1),new b("The provided MPEG-DASH document could not be loaded - "+t.message)}this.Gpt=this.Vpt(this.Fpt.a_)}async Vpt(t){try{for(;this.BAt.Sut.hA===as.xO;)await hh(this.Wpt,t)}catch(t){}}get Wpt(){return this.BAt.Sut.Dpt&&this.BAt.Sut.hA===as.xO?this.Hpt(this.Fpt.a_):this.W}async qpt(t){Pi(t);const i=this.Xpt();if(i>0){const e=x.min(i,2147483647);await ws(e,t)}try{await this.Ypt(t),this.BAt.Sut.bpt(!0)}catch(t){throw new b("The provided MPEG-DASH manifest could not be loaded - "+t.message)}finally{this.Zpt=void 0}}Xpt(){const t=this.BAt.Sut.Iut().getTime()-this.BAt.Sut.fpt.getTime();return this.BAt.Sut.NAt-t}Kpt(t){const i=this.BAt.Sut.HAt();if(i){const e=i.getTime()-t.getTime();if(e>0)return e}this.BAt.Sut.Umt(t);const e=this.BAt.Sut.HAt();return e?e.getTime()-t.getTime():NaN}async Hpt(t){this.Zpt||(this.Zpt=this.qpt(t));const i=new xs;i.l_(t);try{await Promise.race([this.Zpt,this.Jpt(i.a_)].filter(li))}catch(t){Mh(t)}finally{i.c_()}}Jpt(t){const i=this.BAt.Sut.Iut(),e=this.Kpt(i);if(!j(e)&&!this.Tr.Sut.avt)return this.$pt(e,t)}async $pt(t,i){await ws(t,i);const e=this.BAt.Sut.Iut();this.BAt.Sut.Umt(e)}async tyt(t,i){const e=await this.eyt.iyt(t,{},i);return(new OG).EAt(e.syt,e.AE)}gn(){return this.Fpt.c_(),this.Gpt=void 0,this.Qpt=void 0,this.Zpt=void 0,this.BAt.Sut.gn(),Promise.resolve()}constructor(t,i,e,s,n){this.Fpt=new xs,this.Ypt=async t=>{try{const i=this.BAt.Sut.Iut(),e=await this.tyt(this.BAt.Sut.vAt,t);await this.BAt.Sut.Qn(e,i,t)}catch(t){throw ay(t)&&this.BAt.Sut.bpt(!1),t}},this.eyt=s,this.BAt=new ZV(t,i,e,this.Fpt.a_,n)}};r(),r();var $V=class extends mg{constructor(t,i){super("iwt"),this.owt=t,this.Ant=i}},tW=class extends i{get Ant(){return this.vnt}get hA(){return this.v0}get Z(){return this.Ow.slice()}kS(t){t&&this.vnt!==t&&this.nyt(t)}CS(t){this.vnt===t&&this.nyt(void 0)}nyt(t){this.vnt=t,this.Co(new $V(this,this.vnt))}gn(){this.Vo();for(const t of this.Ow)t.Wut=void 0;Ri(this.Ow)}constructor(t,i){super(),this.vnt=void 0,this.v0=t,this.Ow=i;for(const t of this.Ow)t.Wut=this}};r(),r(),r();var iW,eW=class extends mg{constructor(i,e,s){super(t.LA),this.currentTime=i,this.initDataType=e,this.initData=s}};function sW(t,i,e,s,n){let r=[],h=[];for(const t of i)t.hA===hv.mp?r=r.concat(t.Z):t.hA===hv.vp&&(h=h.concat(t.Z));return[nW(t,r,e,s,null==n?void 0:n.preferredAudioCodecs),rW(t,h,e,s,null==n?void 0:n.preferredVideoCodecs)].filter(li)}function nW(t,i,e,s,n){const r=p(s||[],(t=>t.Urt===hv.mp&&t.Rt)),h=[oW(r,e,t),aW(r),uW(r,n),cW(),t=>{const i=t.filter((t=>"main"===t.zt));return i.length>0?i:t}];return hW(i,h)}function rW(t,i,e,s,n){const r=p(s||[],(t=>t.Urt===hv.vp&&t.Rt)),h=[oW(r,e,t),uW(r,n),cW(),t=>{const i=t.filter((t=>"main"===t.zt));return i.length>0?i:t}];return hW(i,h)}function hW(t,i){if(0===t.length)return;let e=t;for(const t of i){if(1===e.length)return e[0];e=t(e)}return e[0]}function oW(t,i,e){return s=>{const n=t?t.Mot.o:void 0;if(!li(n))return s;const r=null==i?void 0:i._At,h=e._At,o=r&&h&&r.ST===h.ST,a=p(s,(t=>t.Mot.o===n));return o&&a?[a]:s}}function aW(t){return i=>{const e=t?t.gs:"",s=i.some((t=>""!==t.gs))?i.filter((t=>""!==t.gs)):i;if(""===e)return s;const n=p(s,(t=>t.gs===e));return n?[n]:s}}function uW(t,i){return e=>{if(void 0===t&&i&&i.length>0)for(const t of i){const i=e.filter((i=>i.Hw.xw.some((i=>Ft(i.Het,t)))));if(i.length>0)return i}return e}}function cW(){return t=>{let i=[],e=-1/0;for(const s of t){const t=s.Mot.fB;t>e?(e=t,i=[s]):t===e&&i.push(s)}return i}}r(),r(),function(t){t.ryt="api",t.hyt="start"}(iW||(iW={})),r();var lW={maxRetries:3,minimumBackoff:1e3,maximumBackoff:1/0},dW=class{oyt(t,i,e){const s=this.fut.maxRetries===1/0?lW:this.fut;return pu((()=>this.ayt(t,i,e)),e,s.maxRetries,s.minimumBackoff,s.maximumBackoff)}async ayt(t,i,e){let s;for(const n of t)try{const t=new Uu({zu:n,rE:Rt.Ru,sE:i,uE:this.uyt,nE:Yc.GET,hA:Ru.QS,oE:ss.KT,a_:e,NS:15e3,hE:5e3}),s=await this.gE.mS(t),r=await s.wE(e);return{syt:r,cyt:n,AE:s.AE}}catch(t){s=t}throw s}constructor(t,i,e=lW){this.gE=t,this.uyt=i,this.fut=e}};r();var fW=class{async iyt(t,i,e){let s;for(const n of this.lyt)try{return await n.iyt(t,i,e)}catch(t){go(t),s=t}throw s}constructor(t){this.lyt=t}},_W=class{async iyt(t,i,e){const s=await this.Vht.ret(t);if(s)return{syt:s.data,cyt:s.locationURL,AE:s.responseURL};throw new b("Manifest fetch from cache unsuccesful")}constructor(t){this.Vht=t}},gW=class{async iyt(t,i,e){return await this.dyt.oyt(t,i,e)}constructor(t){this.dyt=t}};function wW(t,i){return new fW([new _W(i),new gW(t)])}var AW=class{async iyt(t,i,e){const s=await this.eyt.iyt(t,i,e);return await this.fyt(s),s}async fyt(t){await this._yt._et({key:Ti(t.cyt),locationURL:Ta(t.cyt),responseURL:Ta(t.AE),data:t.syt,references:[this.gyt.o]})}constructor(t,i,e){this.eyt=t,this._yt=i,this.gyt=e}};r();var vW=class extends mg{constructor(){super(t.GA)}};r();var mW=class extends mg{constructor(){super(t.YA)}};r(),r();var Fn=class extends ni{wyt(t){return t.vg=Q.LOADED,this.tt(t),t}Ayt(t){for(const i of this.Z.xw)if(i.iA===t)return i}constructor(){super()}};function pW(t,i){return""===i?t:t+" "+i}r(),r(),r();var yW=class extends gn{get va(){return this.Xa||(this.Xa=function(t){return _l(Rh(t),{get attributes(){return t.rS},get eventID(){var i;return""+(null!=(i=t.vyt)?i:"")}})}(this)),this.Xa}tD(t){return this.O===t.O}constructor(t,i,e,s,n){super(t,i,e,!1,null==n?void 0:n.toString()),this.rS=s,this.vyt=n}},MW=class extends Fn{myt(t){const i=this.fE.dE(Oi.Mp,"","","",void 0,Ks.EVENT_STREAM);return i.iA=t,this.wyt(i),i}pyt(t,i,e){const s=t.Xet;var n;const r=null!=(n=t.ST)?n:"";var h;const o=null!=(h=t.zy)?h:1;var a;const u=null!=(a=t.Swt)?a:Ce.ZERO,c=pW(s,r);let l=this.Ayt(c);l||(l=this.myt(c));for(const s of t.wY)if(!TW(s,l)){const t=NW(s,o,u,i);t.PN>e&&l.vE(t)}}async $n(i){await this.Zn(),this.opt=i,this.opt.yn(t.QA,this.yyt),this.yyt()}async Zn(){this.opt&&(this.opt.fn(t.QA,this.yyt),this.opt=void 0);for(const t of this.Z.xw)this.fE.pE(t);await super.Zn()}constructor(t){super(),this.opt=void 0,this.yyt=()=>{var t,i;const e=null!=(i=null==(t=this.opt.jAt())?void 0:t.Cn)?i:0;if(e>0)for(const t of this.Z.xw)vy(t,e);for(const t of this.opt.qgt)if(t.jn>e)for(const i of t.gAt)this.pyt(i,t,e)},this.fE=t}};function TW(t,i){const e=t.o;if(void 0!==e){if(p(i.L.xw,(i=>i.vyt===e&&i.O===t.Cp)))return!0}return!1}function NW(t,i,e,s){const n=t.o,r=t.ET.toSigned().subtract(e),h=t.ct,o=t.Cp,a=t.rS,u=r.toNumber()/i+s.Cn,c=h?h.toNumber()/i:void 0,l=void 0!==c?u+c:s.$mt;return new yW(u,l,o,a,n)}function DW(t,i,e,s,n){const r=[],h=p(e,(t=>t.Xet===Ow));if(void 0===h)return;const o=h.ST?function(t){const i=t.split(":",1)[0];switch(i){case"cbcs":case"cenc":return i;default:return}}(h.ST.toLowerCase()):"cenc";if(void 0!==o){for(const t of e)if(t.Xet!==Ow)for(const i of Xy(t.Xet)){const e=n&&t.Awt?[t.Awt]:[];r.push({dm:i,nP:e,rP:void 0,Az:void 0})}if(r.length)return{Mj:t,Cgt:{Myt:o,Tj:h.Tj},kgt:r,Tyt:i===hv.mp?s.slice():[],Nyt:i===hv.vp?s.slice():[],_4:!1}}}function IW(t,i){if(!t)return i;if(!i)return t;const e=[],s=Qt();var n;return SW(e,s,t.kgt),SW(e,s,i.kgt),{Mj:t.Mj,Cgt:{Myt:t.Cgt.Myt,Tj:null!=(n=t.Cgt.Tj)?n:i.Cgt.Tj},kgt:e,Tyt:EW(t.Tyt,i.Tyt,Ho),Nyt:EW(t.Nyt,i.Nyt,Ho),_4:t._4||i._4||!1}}function SW(t,i,e){for(const s of e){const e=s.dm.mL;let n;i.has(e)?(n=i.get(e),n.nP=EW(n.nP,s.nP,bW)):(n=At({},s),t.push(n),i.set(e,n))}}function EW(t,i,e){const s=t.slice();for(const t of i)e(s,t)||s.push(t);return s}function bW(t,i){for(const e of t)if(va(e,i))return!0;return!1}function LW(t,i,e){let s;const n=t.qet;if(n){const r=t.gY,h=[];for(const i of t.Het)h.push(r+'; codecs="'+i+'"');s=DW(i||{},t.hA,n,h,e)}for(const n of t.Lnt)s=IW(s,kW(n,i,e));return s}function kW(t,i,e){return DW(i||{},t.hA,t.qet||[],[t.LP],e)}function CW(t){return t?t.kgt.map((i=>{const e=xW(t.Mj,i.dm),s=t.Cgt.Myt;return{dm:i.dm,nP:i.nP,Az:i.Az,iB:[{initDataTypes:[i.dm.AL],audioCapabilities:OW(t.Tyt,s,null==e?void 0:e.audioRobustness),videoCapabilities:OW(t.Nyt,s,null==e?void 0:e.videoRobustness),persistentState:null==e?void 0:e.persistentState,distinctiveIdentifier:null==e?void 0:e.distinctiveIdentifier}]}})):[]}function xW(t,i){switch(i.hA){case Ci.qv:return t.widevine;case Ci.Hv:return t.playready;case Ci.Xv:return t.fairplay;case Ci.Zv:return t.clearkey}}function OW(t,i,e){if(0!==t.length)return t.map((t=>({contentType:t,encryptionScheme:i,robustness:e})))}r(),r();var jW=class extends Fn{myt(t){const i=this.fE.dE(Oi.Mp,t.o,"thumbnails","",!1,Ks.DEFAULT);return i.eA=La.Xn,this.wyt(i),i}async $n(i){await this.Zn(),this.opt=i,this.opt.yn(t.QA,this.Qn),this.Qn()}Dyt(t){this.Iyt(t),this.Syt()}Syt(){const t=[];for(const i of this.Z.xw)this.Eyt(i)||t.push(i);for(const i of t)this.it(i)}Iyt(t){const i=[];for(const e of this.Kut)-1===t.indexOf(e)&&i.push(e);for(const t of i)Et(this.Kut,t)}async Zn(){this.opt&&(this.opt.fn(t.QA,this.Qn),this.opt=void 0);for(const t of this.Kut)t.fn(ei.Art,this.byt);this.Kut.length=0;for(const t of this.Z.xw)this.fE.pE(t);await super.Zn()}gn(){return this.byt=void 0,super.gn()}Lyt(){var t,i;const e=null!=(i=null==(t=this.opt.jAt())?void 0:t.Cn)?i:0;if(e>0)for(const t of this.Z.xw)vy(t,e)}kyt(t){return this.Z.xw.some((i=>i.o===t.o))}Cyt(t){return p(this.Z.xw,(i=>i.o===t.o))}Eyt(t){return this.Kut.some((i=>t.o===i.o))}constructor(t){super(),this.Kut=[],this.Qn=()=>{const t=[];for(const i of this.opt.qgt)for(const e of i.ynt)if(e.hA===hv.ZT&&e.Lnt.length>0){const i=e.Lnt[0];t.push(i),this.kyt(i)||this.myt(i),-1===this.Kut.indexOf(i)&&(this.Kut.push(i),i.yn(ei.Art,this.byt)),this.xyt(i)}this.Dyt(t)},this.xyt=t=>{const i=this.Cyt(t);i&&t&&i.eA!==La.Ch&&(this.Lyt(),function(t,i){const e=t.Ust,s=t.WAt();if(!s)return;const n=s.dvt,r=s.fvt,h=t.ji,o=t.Ti,[a,u]=function(t){for(const i of t)if(Wi(i.Xet,PW)||Wi(i.Xet,BW)){const t=i.ST.match(zW);if(t){const[,i,e]=t;return[Number(i),Number(e)]}}return[1,1]}(t.jwt);let c=n;for(;c&&c.qht<=r.qht;){const s=t.YAt.ct||c.ct,n=RW(i,c,t.Eat(c).zu,h,o,a,u,s);for(const t of n)i.vE(t);c=e.Dat(c)}}(t,i))},this.fE=t;const i=this;this.byt=function(){i.xyt(this)}}},zW=/^(\d+)x(\d+)$/,PW="http://dashif.org/guidelines/thumbnail_tile",BW="http://dashif.org/thumbnail_tile";function RW(t,i,e,s,n,r,h,o){const a=[],u=i.zN,c=r*h,l=s/r,d=n/h,f=x.round(l),_=x.round(d),g=o/c;if(1===c){const i=u+g;return UW(t,u,i,e)?a:[new gn(u,i,e,!1)]}for(let s=0;s<h;s++)for(let n=0;n<r;n++){const h=u+(s*r+n)*g,o=h+g,c=e+"#xywh="+x.round(n*l)+","+x.round(s*d)+","+f+","+_;if(UW(t,h,o,c)||a.push(new gn(h,o,c,!1)),o>=i.PN)return a}return a}function UW(t,i,e,s){return t.L.xw.some((t=>t.zN===i&&t.PN===e&&t.O===s))}r(),r(),r(),r();var QW=class extends gn{get IT(){return this.Oyt}get ST(){return this.jyt}get zyt(){return this.Pyt}get va(){return this.Xa||(this.Xa=function(t){return _l(Rh(t),{get schemeIDURI(){return t.IT},get value(){return t.ST},get emsgID(){return t.zyt}})}(this)),this.Xa}tD(t){return Yi(this.O,t.O)}constructor(t,i,e,s,n,r){super(t,i,r,!1),this.Oyt=e,this.jyt=s,this.Pyt=n}},FW=class t extends Fn{qat(i,e,s){const n=Qi.wy(Mo(i));if(!n)return;const r=function(t,i){const e=[];for(const s of t)JA(s,i)&&e.push(s);return e}(n,Wr.dp);if(r.length){const i=t.Byt(n,e,s);this.Ryt(r,i,s)}}Ryt(t,i,e){for(const s of t){let t;t=1===s._y?s.ET.toNumber()/s.zy+e:i+s.kT/s.zy;const n=t+s.bT/s.zy;"https://aomedia.org/emsg/ID3"===s.IT?this.Uyt(s,t):this.Qyt(s,t,n)}}Qyt(t,i,e){const s=pW(t.IT,t.ST);let n=this.Ayt(s);n||(n=this.Fyt(s),this.wyt(n)),n.vE(new QW(i,e,t.IT,t.ST,t.o,t.LT))}Uyt(t,i){const e=ex(Mo(t.LT));if(!e)return;const s=pW(t.IT,t.ST);let n=this.Ayt(s);n||(n=this.Yyt(s),this.wyt(n));for(const t of e.Q0){const e=new cx(i,t);bC(e,n.L.xw),n.vE(e)}}static Byt(t,i,e){const s=$A(t,Wr.fp);return s?vt(s.YT,s.zy)+e:i}Fyt(t){const i=this.fE.dE(Oi.Mp,"","","",void 0,Ks.EMSG);return i.iA=t,i.eA=La.sA,i}Yyt(t){const i=this.fE.dE(Oi.Mp,"","","",void 0,Ks.ID3);return i.iA=t,i.eA=La.sA,i}async Zn(){for(const t of this.Z.xw)this.fE.pE(t);await super.Zn()}constructor(t){super(),this.fE=t}},YW=class extends FW{async $n(i){await this.Zn(),this.opt=i,this.opt.yn(t.QA,this.yyt),this.yyt()}async Zn(){this.opt&&(this.opt.fn(t.QA,this.yyt),this.opt=void 0),await super.Zn()}constructor(...t){super(...t),this.yyt=()=>{var t,i;const e=null!=(i=null==(t=this.opt.jAt())?void 0:t.Cn)?i:0;this.IS(e)}}};r(),r();var GW=class{aet(t,i){return this.Gyt?this.Vht.aet(t,i):Promise.resolve(!1)}cet(t,i){return this.Gyt?this.Vht.cet(t,i):Promise.resolve(void 0)}async ret(t){const i=await this.Vht.ret(t);return this.Gyt=void 0!==i,i}nH(t){return this.Vht.nH(t)}constructor(t){this.Gyt=!1,this.Vht=t}},VW=[t.VA,t.HA,t.KA,t.FA,t.JA],WW=[t.WA,t.uv,t.OA,t.CA],HW=class e extends i{Vyt(t){return!!this.DP&&this.DP.PH(t)}async A$(t){this.DP=await this.vP.$n(t),this.Wyt(),this.Hyt(),this.DP.T$(this.ct)}qyt(t){return this.DP.RH(t)}async Xyt(){this.Zyt=this.Kyt,this.DP&&(await this.vP.Zn(),this.DP=void 0)}NJ(){this.DP.NJ()}_J(){const t=this.ct;this.DP.ct<t&&this.DP.T$(t),this.DP._J()}async Jyt(t){const i=this.DP,e=[];i.g$&&e.push(kk(i.g$,t)),i.w$&&e.push(kk(i.w$,t)),await Promise.all(e)}$yt(t,i,e,s,n,r){const h=this.vP,o=this.DP;return new tG(h,o,t,i,e,s,n,r,this.tMt,h,this.sgt,this.fut,this.agt)}iMt(t,i,e){return t.RH(i,e,this.DP)}async eMt(i,e,s,n){const r=this.$yt(this.gE,this.yR,this.Vht,this.bc,i,n);return r.yn(ei.mrt,this.sMt),r.yn(t.FA,this.Ds),await r.iW(e,s),r}nMt(t){void 0===t&&(t=!1),this.rMt.c_(),this.u2.c_(),this.hMt.c_(),this.hMt=new xs,this.oMt=this.aMt(this.uMt,this.c2,this.oMt,t,this.hMt.a_).catch(this.hwt)}async aMt(t,i,e,s,n){await Promise.all([t,i,e]),Pi(n),await hh(this.cMt.PL,n);const r=this.lMt;await r.Krt(),this._J(),Pi(n);const h=r.yc,o=r.rwt,a=r.nwt;let u=this.dMt(h,a,h,o,!1),c=this.fMt(a,u);!s&&this.Vyt(c)?await this._Mt(a,u,c):(u=this.dMt(h,a,h,o,!0),c=this.fMt(a,u),await this.gMt(a,u,c,n)),Pi(n),this.Tg?this.Dp(this.j_):this.wMt(),this.AMt()}async _Mt(t,i,e){const s=this.lMt;await this.qyt(e),this.vMt=e,await this.iMt(s,t,i),await s.$rt(Pu.xnt)}async gMt(t,i,e,s){const n=this.lMt;this.g2(),this.mMt();const r=this.pMt;await this.Xyt(),await this.A$(e),this.vMt=e,await this.iMt(n,t,i);try{const t=this.yMt(r,!1,!0,s);await n.$rt(Pu.xnt),await t}finally{this.N2(),this.MMt()}}get ht(){return this.nN}get AP(){const t=this.pMt,i=this.TMt,e=i.ZB(t);if(-1!==e)return{Cn:i.Cn(e),jn:i.jn(e)}}get TMt(){var t,i,e;const s=null!=(e=null==(t=this.lMt)?void 0:t.b_)?e:Ki.lR();var n;const r=null!=(n=null==(i=this.NMt)?void 0:i.b_)?n:Ki.lR();return s.HB(r)}get b_(){return this.TMt.ks()}get k_(){var t;const i=null==(t=this.BAt)?void 0:t.Sut,e=null==i?void 0:i.AAt;if(!i||!e)return;const s=e.getTime(),n=1e3*this.j_;return new Date(n+s)}set k_(t){var i;const e=null==(i=this.BAt)?void 0:i.Sut,s=null==e?void 0:e.AAt;if(!t||!e||!s)return;const n=s.getTime()/1e3,r=t.getTime()/1e3;this.Dp(r-n)}get pMt(){return void 0!==this.O4?this.O4:void 0!==this.DMt?this.DMt:this.vP.j_}get j_(){return this.pMt}set j_(t){this.Dp(t,t===1/0)}get ct(){let t=NaN;return this.lMt&&this.lMt.Hgt?t=this.lMt.jn:this.BAt&&void 0!==this.BAt.Sut.hA&&(t=this.BAt.Sut.MAt?this.BAt.Sut.MAt.uwt():1/0),t}get jn(){return this.ct}get R_(){return!(!this.lMt||!this.lMt.Hgt)&&(this.Tg?this.pMt===this.lMt.jn:this.vP.R_)}get lt(){return this.yP}get F_(){return this.MP}get G_(){}IMt(){var t;const i=this.SMt;if(0===i.U)return!0;var e;return(null!=(e=null==(t=this.AP)?void 0:t.jn)?e:this.pMt)>=i.Cn(0)}EMt(){var t;if(!this.BAt)return!1;if(this.BAt.Sut.hA!==as.xO)return!1;const i=null==(t=this.lMt)?void 0:t.yc;if(i&&i.prt)return!0;const e=[];for(const t of this.BAt.Sut.qgt){const i=t.OAt,s=t.$mt;void 0!==i&&void 0!==s&&e.push(i,s)}const s=new Ki(e).WB();return function(t,i,e){if(!i.U||!e.U)return Ki.lR();const s=i.Cn(0),n=i.jn(i.U-1),r=t.Sn(e).YB().Sn(t).HB(i);return Ki.cR(r.Cn(0),r.jn(r.U-1)).qB(r).eR(((t,i)=>t<s&&i<=n&&i-t>kc))}(this.TMt,this.SMt,s).U>0}get q_(){return At({},this.Kyt,{lN:ua.gL.Qz(),dN:this.bMt,fN:{amountOfBufferedAudioSegments:this.LMt,amountOfBufferedVideoSegments:this.kMt}})}get Kyt(){return function(t,i){return{aN:t.aN+i.aN,uN:t.uN+i.uN,cN:t.cN+i.cN}}(this.Zyt,this.vP.X_())}get Z_(){return this.vP.Z_}set Z_(t){this.vP.Z_=t}get hg(){return this.z4?this.CMt:this.lMt&&this.lMt.Hgt?this.xMt:this.CMt}get ag(){return this.vP.ag}set ag(t){this.vP.ag=t}get fg(){let t=this.Uo;return this.lMt&&(t=t.HB(this.OMt)),t.WB(.1).ks()}get OMt(){return this.vP.fg}jMt(t){this.Uo=this.Uo.HB(t)}get gg(){return this.NP}set gg(t){this.NP=t,this.zMt()}get vg(){let t=this.vP.vg;return this.PMt&&(t=x.max(Os.Gn,t)),t}get SMt(){return this.BMt(!1)}get RMt(){return this.BMt(!0)}get yg(){return this.SMt.ks()}get Tg(){return this.fR||this.UMt}get UMt(){return this.vP.Tg}get Q$(){return this.vP.Q$}get IP(){}get QMt(){var t,i;return null!=(i=null==(t=this.BAt)?void 0:t.Sut.hA)?i:as.CO}get nt(){return this.Dl}get rt(){return this.hN}get Ig(){var t;return this.FMt||(null==(t=this.YMt())?void 0:t.Ti)||0}get Lg(){var t;return this.GMt||(null==(t=this.YMt())?void 0:t.ji)||0}get xg(){return this.vP.xg}set xg(t){this.vP.xg=Sc(t,0,1)}get zg(){return this.SP}get Bg(){return!1}set Bg(t){}get EP(){return this.bP}VMt(i){i.yn(VW,this.Ds),i.yn(t.rv,this.WMt),i.yn(t.MA,this.HMt),i.yn(Nr.ha,this.qMt),i.yn(t.NA,this.XMt),i.yn(t.HA,this.ZMt),i.yn("iwt",this.KMt),i.yn("Ogt",this.KMt)}JMt(i){i.fn(VW,this.Ds),i.fn(t.rv,this.WMt),i.fn(t.MA,this.HMt),i.fn(Nr.ha,this.qMt),i.fn(t.NA,this.XMt),i.fn(t.HA,this.ZMt),i.fn("iwt",this.KMt),i.fn("Ogt",this.KMt)}$Mt(i){i.yn(t.VA,this.Ds)}tTt(i){i.fn(t.VA,this.Ds)}YMt(){if(!this.lMt)return;const t=p(this.lMt.nwt,(t=>t.Urt===hv.vp));return t?t.Gw:void 0}BMt(t){var i;const e=null==(i=this.BAt)?void 0:i.Sut;if(!e)return Ki.lR();const s=e.kpt;let n=t?e.Kmt:e.ZAt;if(void 0===s||void 0===n)return Ki.lR();if(!t){const t=this.OMt;t.U>0&&t.jn(t.U-1)>n&&(n=x.min(t.jn(t.U-1),e.Kmt))}const r=this.ct;return isFinite(r)&&r>n&&(n=r),Ki.cR(s,n).QB()}async $n(t,i){let e,s;Pi(i);try{e=this.BAt.Sut.Cpt,s=this.BAt.Sut.Lpt}catch(t){throw new b("Something went wrong determining the start of the provided MPEG-DASH stream")}if(!e)throw new b("Something went wrong determining the initial Period of the provided MPEG-DASH stream");if(void 0===s)throw new b("Something went wrong determining the start time of the provided MPEG-DASH stream");t.textTracks&&this.iTt(t.textTracks),this.g2();const n=this.pnt(e),r=sW(e,n,void 0,void 0,this.Qgt),h=this.dMt(e,r,e,r,!0);r.forEach((t=>t.Rt=!0));const o=this.fMt(r,h);await this.A$(o),this.vMt=o,Pi(i);const a=await this.eMt(e,n,r,h);Pi(i),this.eTt(a),this.N2(),Pi(i),await a.$rt(),Pi(i),this.sTt||this.Dp(s,!0,iW.hyt)}wMt(){this.rMt.c_(),this.rMt=new xs,this.uMt=this.nTt(this.uMt,this.oMt,this.rMt.a_).catch(this.hwt)}rTt(){this.rMt.c_()}async nTt(t,i,e){for(await Promise.all([t,i]),Pi(e);;){var s;const t=null==(s=this.lMt)?void 0:s.yc;if(!t){0;break}if(!await this.hTt(t,e)){0;break}}}async hTt(t,i){var e;Pi(i);const s=this.lMt;for(0;this.BAt.Sut.hA===as.xO&&void 0===(null==(e=this.qmt(t))?void 0:e.OAt);)await hh(this.oTt.Wpt,i),await this.aTt();for(Pi(i),await this.aTt(),Pi(i);!s.Fgt();)await s.D_(Tr.Mct,i),await this.aTt();Pi(i),await this.aTt(),Pi(i);const n=this.qmt(t);return n?(this.uTt(n)?await this.cTt(n,i):await this.lTt(n,i),!0):(this.NJ(),!1)}uTt(t){var i,e,s,n,r;const h=null!=(r=null==(i=this.bc)?void 0:i.seamlessSwitchStrategy)?r:K.HT;if(h===K.JT)return!0;if(h===K.$T)return!1;const o=this.lMt,a=null==o?void 0:o.yc,u=null==o?void 0:o.nwt,c=sW(t,this.pnt(t),a,u,this.Qgt),l=this.dMt(t,c,a,u,!1);if(h===K.CLEAR_ONLY&&((null==(e=this.lMt)?void 0:e.Lgt)||l)||h===K.SAME_DRM_ONLY&&!((null==(s=this.lMt)?void 0:s.Lgt)&&l||!(null==(n=this.lMt)?void 0:n.Lgt)&&!l))return!1;const d=this.fMt(c,l);return this.Vyt(d)}dTt(){return!0}fTt(t){const i=this._Tt();for(const e of i)e!==t&&(e.eA=La.Ch)}AMt(){if(void 0!==this.gTt){if(this.gTt.rA){const t=p(this.ht.xw,(t=>t.Rt));void 0!==t&&this.gTt.gs===t.gs||(this.gTt.eA=La.Ch)}}else this.wTt()}wTt(){if(this._Tt().length)return;const t=p(this.ht.xw,(t=>t.Rt));if(void 0===t)return;const i=this.nt.xw.filter((t=>t.rA));for(const e of i)if(e.gs===t.gs)return e.eA=La.Xn,void(this.gTt=e)}_Tt(){return this.nt.xw.filter((t=>t.eA===La.Xn&&(t.zt===Oi.fS||t.zt===Oi.pp)))}ATt(t){if(t&&this.gTt){const i=function(t,i){if(""===t.gs)return;return i.filter((i=>i.gs===t.gs))[0]}(this.gTt,t.nt.xw);i&&(i.eA=La.Xn)}}async cTt(i,e){var s,n;const r=this.lMt;let h=this.NMt;const o=this.vMt;try{Pi(e);const s=r.yc,n=r.nwt,o=this.pnt(i),a=sW(i,o,s,n,this.Qgt),u=this.dMt(i,a,s,n,!1);a.forEach((t=>t.Rt=!0));const c=this.fMt(a,u);for(0,await r.Krt(),this._J(),Pi(e),h&&h.yc===i?(this.Vyt(c)&&await this.qyt(c),this.vMt=c):(h&&await h.gn(!0),this.Vyt(c)&&await this.qyt(c),this.vMt=c,h=await this.eMt(i,o,a,u),this.NMt=h,this.$Mt(h),this.vTt.Pw=h.nt),await h.$rt(),Pi(e);this.pMt<i.Cn;)await this.vP.D_(t.ov,e);Pi(e),this.eTt(h)}catch(t){throw So(t)&&(h&&await h.Krt(),o&&this.vMt!==o&&(this.Vyt(o)&&await this.qyt(o),this.vMt=o)),t}(null==(n=this.bc)||null==(s=n.dash)?void 0:s.forceSeekToSynchronize)&&await this.mTt(i,e)}async mTt(t,i){const e=Date.now()/1e3;if(void 0===this.pTt)this.pTt=e;else if(e-this.pTt>900){this.pTt=e,this.mMt();const s=x.max(this.pMt,t.Cn);try{await this.yMt(s,!1,!0,i)}finally{this.MMt()}}}async lTt(i,e){for(Pi(e),await this.lMt.Krt(),this._J(),await this.Jyt(i.Cn),Pi(e),this.NJ();!this.vP.R_&&this.pMt<i.Cn;)await this.vP.D_([t.ov,t.kA],e);Pi(e);const s=this.lMt.yc,n=this.lMt.nwt,r=this.pnt(i),h=sW(i,r,s,n,this.Qgt),o=this.dMt(i,h,s,n,!0);h.forEach((t=>t.Rt=!0));const a=this.fMt(h,o);this.lMt&&(this.yTt.fn(ea.ra,this.MTt),await this.lMt.gn(),this.yTt.yn(ea.ra,this.MTt),this.lMt=void 0),this.NMt&&(await this.NMt.gn(),this.NMt=void 0),this.mMt(),this.g2();const u=x.max(this.pMt,i.Cn);await this.Xyt(),await this.A$(a),this.vMt=a;const c=await this.eMt(i,r,h,o);this.eTt(c);try{const t=this.yMt(u,!1,!0,e);await c.$rt(),await gg((i=>Promise.race([t,c.D_([Tr.Mct],i)])),e)}finally{this.N2(),this.MMt()}}async aTt(){const t=this.NMt;t&&t.yc.prt&&(await t.gn(!0),this.NMt=void 0)}static TTt(t,i){const e=[],s=[];let n=!i.some((t=>t.wct.some((t=>"main"===t.ST))));for(const t of i){if(-1!==e.indexOf(t))continue;const r=XW(t.But.concat(t.wct),n);n=!1;const h=t.Lnt.map((t=>t.Mrt)),o=new lF(t,h,r),a=ZW(t,i);for(const t of a)o.Jut(t),e.push(t);s.push(o)}return new tW(t,s)}pnt(t){const i=[],s=[];for(const e of t.Pgt)e.hA!==hv.mp&&e.hA!==hv.vp||(0===e.Lnt.length?this.Co(new AF("No supported representation found in the AdaptationSet with mimetype : "+e.hA)):e.hA===hv.mp?i.push(...e.ynt):s.push(...e.ynt));const n=[];return i.length>0&&n.push(e.TTt(hv.mp,i)),s.length>0&&n.push(e.TTt(hv.vp,s)),n}fMt(t,i){var e,s,n,r,h,o,a,u;const c=t.map((t=>{var i;return OQ.Gat(null!=(i=t.Zut)?i:t.Lnt,Sv(t.Urt,this.Qgt))})).map((t=>({LP:t.LP}))),l=null==(s=this.bc)||null==(e=s.dash)?void 0:e.desiredTimescale;var d;const f=(null==(n=this.bc)?void 0:n.seamlessSwitchStrategy)!==K.$T&&(null==(r=this.bc)?void 0:r.seamlessSwitchStrategy)!==K.CLEAR_ONLY&&(null==(h=this.bc)?void 0:h.seamlessSwitchStrategy)!==K.SAME_DRM_ONLY&&(null!=(d=null==(a=this.bc)||null==(o=a.dash)?void 0:o.needsTimescaleShifting)?d:lg.Ys.pJ),_=null==(u=this.bc)?void 0:u.useManagedMediaSource;return{hA:wt.xO,E$:c,kP:CW(i),_4:null==i?void 0:i._4,pJ:f,yJ:l,B$:_}}static NTt(t,i){if(!t.length)return;let e;for(const s of t){const t=0===s.ict.length;e=IW(e,LW(s.Mot,i,t))}return(null==i?void 0:i.preferredKeySystems)&&e&&(e.kgt=function(t,i){const e=t=>{const e=i.indexOf(t.dm.mL);return e>=0?e:i.length};return tl(t,((t,i)=>e(t)-e(i)))}(e.kgt,i.preferredKeySystems)),e}dMt(t,i,s,n,r){var h,o;const a=this.bc.contentProtection;let u=e.NTt(i,a);if(void 0!==u)return u;var c;const l=null!=(c=null==(h=this.bc)?void 0:h.seamlessSwitchStrategy)?c:K.HT;if(l===K.$T||l===K.CLEAR_ONLY||l===K.SAME_DRM_ONLY)return;const d=null==(o=this.lMt)?void 0:o.Lgt;if(!r&&void 0!==d){const t=!d._4;if(l===K.HT&&t&&!this.dTt())return;return d}const f=!r&&l===K.HT;return u=this.DTt(t,a,s,n,f),void 0!==u?(u._4=!0,u):void 0}DTt(t,i,s,n,r){let h=t,o=!1;for(;;){if(h=o?this.Zmt(h):this.qmt(h),void 0===h){if(o)return;o=!0,h=t;continue}const a=sW(h,this.pnt(h),s,n,this.Qgt),u=e.NTt(a,i);if(r){const t=this.fMt(a,u);if(!this.Vyt(t))return}if(void 0!==u)return u}}iTt(t){for(const i of t)i.src&&this.UP.lE(i);Qs(this.UP.Z)}Gg(){this.hg||(this.CMt=!0,this.z4||(this.ITt(new ia),this.STt()),this.ETt())}Vg(){this.bTt||(this.bTt=new Eo),this.LTt();const t=this.bTt.PL;return W(t),t}LTt(){if(this.CMt=!1,this.q4=!0,this.zMt(),this.R_){const t=this.SMt;t.U>0&&this.Dp(t.Cn(0))}this.z4||this.Z4().then(this.kTt,this.ITt),this.sMt(),this.ETt()}get xMt(){return this.vP.hg}Z4(){return this.vP.Vg()}STt(){this.vP.Gg()}g2(){this.z4||(this.CMt=this.hg,this.z4=!0,this.STt())}N2(){this.z4&&(this.z4=!1,this.CMt||this.Z4().then(this.kTt,this.ITt),this.sMt(),this.ETt())}ETt(){const t=this.WO,i=this.hg;t!==i&&(this.WO=i,i?this.Co(new ye(this.j_)):this.Co(new fh(this.j_)))}Dp(t,i,e){return void 0===i&&(i=!1),void 0===e&&(e=iW.ryt),this.sTt=!0,this.rMt.c_(),this.u2.c_(),this.fR=!0,this.O4=t,this.jMt(this.OMt),this.CTt(new Sa(this.j_)),this.u2=new xs,this.c2=this.l2(t,this.uMt,this.c2,this.oMt,this.u2.a_,i,e).catch(this.hwt),this.c2}xTt(){this.u2.c_()}async l2(t,i,e,s,n,r,h,o){void 0===r&&(r=!1),void 0===h&&(h=iW.ryt),void 0===o&&(o=!1);try{var a,u;0,await Promise.all([i,e,s]),Pi(n),await hh(this.cMt.PL,n);const c=this.SMt.FB(t);this.O4=c;const l=o||(null==(u=this.bc)||null==(a=u.dash)?void 0:a.forceHardSwitchWhenSeekingBackwards)&&c<=this.j_,d=this.OTt(c),f=this.lMt;if(l||!f||!f.yg.gr(c)&&h!==iW.hyt&&f.yc!==d){if(d){let t=this.NMt;if(this.g2(),f&&await f.Krt(),t&&t.yc===d&&!l){const i=this.fMt(t.rwt,t.Lgt);this._J(),this.Vyt(i)&&await this.qyt(i),this.vMt=i}else{t&&await t.gn(!0);const i=this.pnt(d),e=null==f?void 0:f.yc,s=null==f?void 0:f.nwt,n=sW(d,i,e,s,this.Qgt);let r=this.dMt(d,n,e,s,!1);n.forEach((t=>t.Rt=!0));let h=this.fMt(n,r);this.uTt(d)&&!l?(this._J(),this.Vyt(h)&&await this.qyt(h)):(r=this.dMt(d,n,e,s,!0),h=this.fMt(n,r),f&&(this.yTt.fn(ea.ra,this.MTt),await f.gn(),this.yTt.yn(ea.ra,this.MTt),this.lMt=void 0),await this.Xyt(),await this.A$(h)),this.vMt=h,t=await this.eMt(d,i,n,r),this.NMt=t,this.vTt.Pw=t.nt,this.$Mt(t)}await t.$rt(Pu.jnt),this.eTt(t)}}else{0;const t=this.NMt;if(t&&!t.Xgt){await t.Krt(),this._J();const i=this.fMt(f.rwt,f.Lgt);this.Vyt(i)&&await this.qyt(i),this.vMt=i}}0;const _=this.yMt(c,r,!1,n);this.O4=void 0,await this.lMt.$rt(Pu.jnt),Pi(n),this.wMt(),await _,Pi(n),this.N2(),this.fR=!1,this.jTt(new $s(this.j_))}catch(t){if(So(t))return void 0;0}}async yMt(i,e,s,n){let r,h,o=!0,a=i;for(;;){const u=this.RMt;if(u.U>0){const t=u.FB(i);a!==t&&(u.gr(a)&&this.BAt.Sut.hA===as.xO||(a=t,o=!0))}if(o)o=!1,r&&W(r),null==h||h.c_(),h=new xs,h.l_(n),r=this.zTt(a,e,s,h.a_);else if(!this.UMt&&!this.Q$)break;await gg((i=>Promise.race([r,this.D_([t.KA,t.EA],i),this.BAt.Sut.D_(ei.Art,i)])),n)}}async zTt(i,e,s,n){for(this.vP.Dp(i,e,s);this.UMt||this.Q$;)await this.vP.D_([t.XA,t.BA],n)}mMt(){void 0===this.DMt&&(this.DMt=this.pMt,this.vP.fn(t.ZA,this.CTt),this.vP.fn(t.XA,this.jTt))}MMt(){if(void 0===this.DMt)return;const i=this.pMt;this.DMt=void 0,this.vP.yn(t.ZA,this.CTt),this.vP.yn(t.XA,this.jTt),this.pMt!==i&&this.wc()}PTt(t){this.Uo=this.Uo.HB(t)}OTt(t){const i=this.BAt.Sut;let e=i.qgt;if(lg.Ys._tt&&(e=e.filter((t=>t.ct>=.2))),0===e.length)return;const s=e[0];if(t<=s.Cn)return s;for(const i of e)if(i.jn>t)return i;return i.hA!==as.xO?e[e.length-1]:void 0}Zmt(t){let i=t.Xmt;if(lg.Ys._tt)for(;i&&i.ct<.2;)i=i.Xmt;return i}qmt(t){let i=t.Hmt;if(lg.Ys._tt)for(;i&&i.ct<.2;)i=i.Hmt;return i}async ga(i,e,s){if(this.jP.iP(i.contentProtection),this.BTt(),this.bc&&!Rv(this.bc)&&await this.Zn(),!i||Rv(i))return;this.mE=new xs,s&&this.mE.l_(s),this.bc=i,this.RTt=e,this.Qgt=i.abr,this.agt=i.ignoreEmbeddedTextTrackTypes;const n=wW(new dW(this.gE,Boolean(this.bc.useCredentials),this.fut),this.Vht);this.bpt(!0),this.oTt=new JV({oA:lg.Dh(this.bc.src),jpt:this.bc.liveOffset,Upt:this.bc.timeServer,uE:this.bc.useCredentials},this.UTt(this.Qgt),this.gE,n,this.bc.dash),this.BAt=this.oTt.Tr,this.BAt.Sut.yn(t.UA,this.QTt),this.BAt.Sut.yn(t.QA,this.FTt),this.BAt.Sut.yn(kV.npt,this.YTt),this.BAt.Sut.yn(ei.Art,this.sMt),await this.GTt.$n(this.BAt.Sut),await this.VTt.$n(this.BAt.Sut),Ho(this.agt,Ks.EMSG)||(this.sgt=new YW(this.fE),this.Dl.oP(this.sgt.Z),await this.sgt.$n(this.BAt.Sut)),this.zMt()}async WTt(){const t=this.BAt.Sut.eg;var i,e;(this.bpt(t),t)?this.KMt():(await Promise.all([null==(i=this.lMt)?void 0:i.Krt(Pu.Znt),null==(e=this.NMt)?void 0:e.Krt(Pu.Znt)].filter(li)),this.rTt(),this.xTt(),this.hMt.c_())}get eg(){return this.Ept}bpt(t){this.Ept!==t&&(this.Ept=t,this.Co(t?new vW:new mW))}zMt(){return this.BAt?(this.HTt=this.qTt(this.HTt,this.mE.a_),this.HTt.catch(this.hwt)):Promise.resolve()}async qTt(t,i){t&&(await t,Pi(i));try{this.gg===tt.HT||this.q4?await this.XTt(i):this.gg===tt.Mp&&await this.ZTt(i)}catch(t){throw go(t),this.uB(new ce(y_.MANIFEST_LOAD_ERROR,t.message,t)),t}}async XTt(t){await this.ZTt(t),this.KTt||(this.KTt=!0,this.cMt.l_(this.$n(this.RTt,t)));try{await this.cMt.PL}catch(t){go(t),this.uB(new ce(y_.MEDIA_DECODE_ERROR,t.message,t))}}async ZTt(t){await hh(this.oTt.W,t)}eTt(t){const i=this.lMt;t!==i&&(this.lMt&&this.JMt(this.lMt),this.NMt&&this.tTt(this.NMt),i&&this.jMt(this.OMt),this.lMt=t,this.NMt=i,this.VMt(this.lMt),this.NMt&&this.$Mt(this.NMt),this.nN.Pw=t.ht,this.hN.Pw=t.rt,this.ATt(t),this.yTt.fn(ea.ra,this.MTt),e.JTt(this.yTt),this.yTt.yn(ea.ra,this.MTt),this.yTt.Pw=t.nt,this.vTt.Pw=void 0,this.wTt())}static JTt(t){for(const i of t.xw)i.eA=La.Ch}ge(){this.vP.ge()}be(){this.vP.be()}uB(t){this.yP||(W(this.Zn()),this.yP=Vs(t),this.MP=t,this.Co(new pe(t)))}BTt(){this.yP=void 0,this.MP=void 0}Wyt(){const t=this.DP;t&&(t.w$&&(t.w$.ZV=this.yR.hW),t.g$&&(t.g$.ZV=this.yR.hW))}Hyt(){const t=this.DP;t&&(t.w$&&(t.w$.tW=this.yR.tW),t.g$&&(t.g$.tW=this.yR.tW))}determineStallJumpTarget(){if(this.lMt)return this.lMt.Fgt()&&this.j_>this.lMt.jn-Sk&&!this.lMt.Hgt?this.lMt.jn:void 0}async Zn(){this.ag=1,this.mE.c_(),this.xTt(),this.rTt(),this.hMt.c_(),this.cMt.c_(),this.sTt=!1,this.Gg(),this.q4=!1,this.nN.Pw=void 0,this.hN.Pw=void 0,this.yTt.Pw=void 0,this.vTt.Pw=void 0,this.HTt&&(await this.HTt.catch(fg),this.HTt=void 0),await Promise.all([this.uMt,this.c2,this.oMt,this.cMt.PL.catch(fg)]),this.lMt&&(await this.lMt.gn(),this.lMt=void 0),this.NMt&&(await this.NMt.gn(),this.NMt=void 0),await this.Xyt(),this.vMt=void 0,this.gTt=void 0,this.FP.Zn(),await this.GTt.Zn(),await this.VTt.Zn(),void 0!==this.sgt&&(this.Dl.cP(this.sgt.Z),await this.sgt.gn(),this.sgt=void 0),this.fE.Zn(),this.BAt&&(this.BAt.Sut.fn(t.UA,this.QTt),this.BAt.Sut.fn(t.QA,this.FTt),this.BAt.Sut.fn(kV.npt,this.YTt),await this.oTt.gn(),this.BAt=void 0),this.PMt=!1,this.$Tt=NaN,this.tNt=0,this.iNt=0,this.DMt=void 0,this.z4=!1,this.Uo=Ki.lR(),this.WO=!0,this.O4=void 0,this.eNt=!1,this.fR=!1,this.KTt=!1,this.cMt=new Eo,this.bMt=0,this.LMt=0,this.kMt=0,this.bc=void 0,this.RTt=void 0,this.agt=[],this.pTt=void 0,this.Zyt={aN:0,uN:0,cN:0},await this.UP.Zn(),this.vP.QP()}async gn(){this.Vo(),this.BTt(),await this.Zn(),this.Vo(),this.nN.gn(),this.hN.gn(),this.lMt&&await this.lMt.gn(),this.NMt&&(this.tTt(this.NMt),await this.NMt.gn()),this.yTt.gn(),this.vTt.gn(),this.Dl.gn(),this.FP.gn(),this.sNt.e_(),await this.GTt.gn(),await this.VTt.gn(),this.fE.gn(),this.vP.fn(t.EA,this.a3),this.vP.fn(Zy.LA,this.N4),this.vP.fn(t.kA,this.r3),this.vP.fn(t.ZA,this.CTt),this.vP.fn(t.XA,this.jTt),this.vP.fn(t.qA,this.ZMt),this.vP.fn(t.ov,this.wc),this.vP.fn([t.jh,t.Sh],this.nNt),this.vP.fn(WW,this.Ds),await this.UP.gn(),this.Dl.gn(),this.yR.fn("XV",this.rNt),this.yR.fn("$V",this.hNt),this.vP.fn(Nr.ha,this.oNt),this.vP.fn([t.DA,t.NA],this.Ds),this.vP.VP=void 0,this.vP.D3=void 0}Rg(){return this.vP.ya}get W_(){return!1}Hg(){return!1}qg(){}Xg(){}Zg(){}Kg(){this.nMt(!0)}constructor(i,e,s,n,r,h){super(),this.lMt=void 0,this.NMt=void 0,this.q4=!1,this.$Tt=NaN,this.yP=void 0,this.MP=void 0,this.z4=!1,this.DMt=void 0,this.O4=void 0,this.eNt=!1,this.tNt=0,this.iNt=0,this.PMt=!1,this.mE=new xs,this.cMt=new Eo,this.KTt=!1,this.BAt=void 0,this.oTt=void 0,this.Ept=!0,this.CMt=!0,this.bTt=void 0,this.Uo=Ki.lR(),this.NP=tt.DB,this.HTt=void 0,this.WO=!0,this.bc=void 0,this.RTt=void 0,this.Qgt=void 0,this.agt=[],this.fR=!1,this.SP=new CI,this.rMt=new xs,this.uMt=Promise.resolve(),this.u2=new xs,this.c2=Promise.resolve(),this.sTt=!1,this.hMt=new xs,this.oMt=Promise.resolve(),this.vMt=void 0,this.sgt=void 0,this.bMt=0,this.LMt=0,this.kMt=0,this.bP=new nu,this.pTt=void 0,this.Zyt={aN:0,uN:0,cN:0},this.DP=void 0,this.KMt=()=>{this.nMt()},this.wc=()=>{this.Co(new jc(this.j_,this.k_))},this.N4=t=>{this.Co(new eW(this.j_,t.AL,t.bL))},this.WMt=t=>{this.bMt+=t.dN,this.Co(t)},this.HMt=t=>{const i=t.segments.filter((t=>t.iat));t.track===hv.mp?this.LMt=i.length:t.track===hv.vp&&(this.kMt=i.length)},this.a3=()=>{const t=this.ct;j(t)||t===this.$Tt||(this.$Tt=t,this.Co(new Vr(this.$Tt)))},this.nNt=()=>{this.sMt(),this.ETt()},this.r3=t=>{this.R_&&this.Co(t)},this.FTt=t=>{this.Ds(t),this.PMt||(this.PMt=!0,this.sNt.aNt())},this.QTt=()=>{this.BAt.Sut.fn(t.UA,this.QTt),this.Co(new he)},this.XMt=t=>{this.uB(t.errorObject),this.Co(t)},this.qMt=t=>{this.uB(t.errorObject)},this.hwt=t=>{So(t)||this.uB(new ce(y_.MEDIA_DECODE_ERROR,t.message,t))},this.sMt=()=>{if(!this.hg)if(this.IMt())if(this.EMt()){const t=this.BAt.Sut.Lpt;this.Dp(t,!0)}else;else{const t=this.BAt.Sut.Lpt;this.Dp(t,!0)}},this.CTt=t=>{this.eNt=this.Tg,this.Co(t)},this.jTt=t=>{const i=this.eNt,e=this.Tg;this.eNt=e,i&&!e&&this.Co(t)},this.ZMt=()=>{const t=this.Lg,i=this.Ig;this.tNt===t&&this.iNt===i||(this.tNt=t,this.iNt=i,this.Co(new Yy))},this.MTt=t=>{const i=t.Lt;i.eA===La.Xn?(this.fTt(i),this.gTt=i):i===this.gTt&&i.eA===La.Ch&&(this.gTt=void 0,this.wTt())},this.kTt=()=>{this.z4||this.bTt&&(this.bTt.jL(),this.bTt=void 0)},this.ITt=t=>{this.z4||this.bTt&&(this.bTt.zL(t),this.bTt=void 0)},this.YTt=()=>{this.WTt().catch(this.hwt)},this.oNt=t=>{this.uB(_s(t.lt))},this.rNt=()=>{this.Wyt()},this.hNt=()=>{this.Hyt()},this.gE=i,this.Vht=new GW(n),this.vP=r,this.tMt=h,this.yR=s,this.yR.yn("XV",this.rNt),this.yR.yn("$V",this.hNt),this.fut=e.retryConfiguration,this.nN=new we,this.hN=new we,this.jP=new EI(i),this.vP.yn(t.EA,this.a3),this.vP.yn(Zy.LA,this.N4),this.vP.yn(t.kA,this.r3),this.vP.yn(t.ZA,this.CTt),this.vP.yn(t.XA,this.jTt),this.vP.yn(t.qA,this.ZMt),this.vP.yn(t.ov,this.wc),this.vP.yn([t.jh,t.Sh],this.nNt),this.vP.yn(WW,this.Ds),this.vP.yn(Nr.ha,this.oNt),this.vP.VP=this.jP,this.vP.D3=this,this.vP.yn([t.DA,t.NA],this.Ds),this.sNt=new qW(this,this.vP),this.FP=new uD(this.sNt,!0),this.FP.yn(er.Mv,this.sMt),this.FP.yn(qh,this.Ds),this.yTt=new Yu,this.yTt.yn(ea.ra,this.MTt),this.vTt=new Yu,this.fE=this.uNt(),this.GTt=new MW(this.fE),this.VTt=new jW(this.fE),this.UP=new du(this.vP,this.gE),this.Dl=new dh([this.yTt,this.GTt.Z,this.VTt.Z,this.UP.Z])}},qW=class extends cD{get vg(){return this.Qo.vg}aNt(){this.Co(new Jh(this.j_,this.vg))}constructor(t,i){super(i),this.Qo=t}};function XW(t,i){const e=t.filter((t=>"urn:mpeg:dash:role:2011"===t.Xet)).map((t=>t.ST)).filter(li);return i||Ho(e,"main")?Ho(e,"caption")?"captions":Ho(e,"subtitle")?"subtitles":Ho(e,"dub")?"translation":"main":Ho(e,"sign")?"sign":Ho(e,"description")?"descriptions":Ho(e,"commentary")?"commentary":"alternative"}function ZW(t,i){var e;const s=p(t.jwt,(t=>"urn:mpeg:dash:adaptation-set-switching:2016"===t.Xet));var n;const r=null!=(n=null==s||null==(e=s.ST)?void 0:e.split(","))?n:[],h=[];for(const t of r){const e=Number(t),s=p(i,(t=>t.o===e));s&&h.push(s)}return h}var KW=class extends HW{Ug(){if(NU(this.vP))return this.vP.Ug()}get FMt(){return NU(this.vP)?this.vP.Ig:0}get GMt(){return NU(this.vP)?this.vP.Lg:0}async gn(){var t;await super.gn(),null==(t=this.cNt)||t.gn()}uTt(t){var i,e;return((null!=(e=null==(i=this.bc)?void 0:i.seamlessSwitchStrategy)?e:K.HT)!==K.HT||!Zt.iL)&&super.uTt(t)}dTt(){return!(Zt.Mb&&Zt.Nb<3)&&super.dTt()}uNt(){return new SU(this,new ax)}UTt(t){return DU(t)}constructor(t,i,e,s,n,r){super(t,i,e,s,n,new IU(r)),this.tst=r,Zt.Fb&&(this.cNt=new zU(this))}},JW=class extends KW{async gn(){await super.gn(),await this.HP.WP(this.vP)}constructor(t,i,e,s,n,r,h){const o=new jU(n);super(t,i,e,s,o.cB(r),h),this.HP=o}};r(),r(),r(),r(),r();var $W=class extends ut{get lNt(){return this.fit.lNt}L_(){return super.L_().Np(this.lNt)}Sst(){return super.Sst().Np(this.lNt)}BK(t,i,e){const s=this.lNt;return super.BK(t,{T8:i.T8-s,ct:i.ct,CI:i.CI-s},e)}iJ(t,i){const e=this.lNt;return super.iJ(x.max(0,t-e),x.max(0,i-e))}pN(t,i,e){const s=this.lNt;return super.pN(x.max(0,t-s),x.max(0,i-s),e)}kJ(t,i){const e=this.lNt;super.kJ(x.max(0,t-e),x.max(0,i-e))}CJ(t,i){const e=this.lNt;super.CJ(x.max(0,t-e),x.max(0,i-e))}constructor(t,i){super(i),this.fit=t}},tH=class extends xt{get lNt(){return this.fit.lNt}Td(){return super.Td()+this.lNt}T$(t){super.T$(t-this.lNt)}Mg(){return super.Mg().Np(this.lNt)}S$(t,i,e,s){const n=this.lNt;super.S$(t-n,i-n,e,s)}pst(t){return new $W(this,t)}constructor(t,i){super(i),this.vst(i),this.fit=t}},iH=class extends yn{get ist(){return this.vP}get lNt(){return this.dNt}set lNt(t){this.dNt=t}L_(){return super.L_().Np(this.dNt)}C_(){return eH(super.C_(),this.dNt)}z_(){return super.z_()+this.dNt}Td(){return super.Td()+this.dNt}_g(){return super._g().Np(this.dNt)}Mg(){return super.Mg().Np(this.dNt)}Dp(t,i,e){const s=x.max(0,t-this.dNt);super.Dp(s,i,e)}mP(t){super.mP(eH(t,-this.dNt))}Dg(){return this.Dl}dE(t,i,e,s,n,r,h,o){return this.fE.dE(t,i,e,s,n,r,h,o)}pE(t){this.fE.pE(t)}QP(){this.fE.Zn(),super.QP()}PP(){return!1}RP(t,i,e,s,n){throw new b("Not supported")}e_(){return this.t8.gn(),this.J6.gn(),this.fE.gn(),this.Dl.gn(),super.e_()}_st(t){return new tH(this,t)}fst(t){return new Jt(t)}Jg(i){let e;switch(i.type){case t.jh:e=new fh(i.currentTime+this.dNt);break;case t.Sh:e=new ye(i.currentTime+this.dNt);break;case er.Tv:e=new Vi(i.currentTime+this.dNt);break;case t.ov:e=new jc(i.currentTime+this.dNt,eH(i.currentProgramDateTime,this.dNt));break;case t.VA:e=new N(i.currentTime+this.dNt);break;case t.ZA:e=new Sa(i.currentTime+this.dNt);break;case t.XA:e=new $s(i.currentTime+this.dNt);break;case t.zA:e=new Rk(i.currentTime+this.dNt);break;case t.BA:e=new Sx(i.currentTime+this.dNt);break;case t.kA:e=new ys(i.currentTime+this.dNt);break;case t.WA:e=new se(i.currentTime+this.dNt,i.playbackRate);break;case t.uv:e=new Oe(i.currentTime+this.dNt,i.volume);break;case t.EA:e=new Vr(i.duration+this.dNt);break;case er.Mw:e=new Jh(i.currentTime+this.dNt,i.readyState);break;default:e=i}super.Jg(e)}be(){super.be(),this.J6.be()}ge(){super.ge(),this.J6.ge()}constructor(t){super(t),this.dNt=0,this.fE=new SU(this,new ax),this.Dl=new dh([this.fE.nt,super.Dg()]),this.J6=new Qx,this.J6.N3(this.TP.parentElement),this.t8=new sj(this.J6.we,this.Iu,this.Dl,this.Ol,this.ya)}};function eH(t,i){return t?new Date(t.getTime()+1e3*i):void 0}var sH=class extends ot{cB(t){if(t===hv.vp)return new iH(super.cB(t))}async WP(t){const i=t;await i.e_(),await super.WP(i.ist)}},nH=class extends KW{async A$(t){await super.A$(t),void 0===this.fNt&&(this.fNt=this._Nt(),this.vP.lNt=this.fNt)}_Nt(){if(this.ct===1/0){const t=this.SMt;if(t.U>0)return x.max(0,t.Cn(0)-300)}return 0}l2(t,i,e,s,n,r,h,o){return void 0===r&&(r=!1),void 0===h&&(h=iW.ryt),void 0===o&&(o=!1),o||(o=this.ct===1/0&&Zt.Mb&&Zt.Nb<3&&t<=this.j_),super.l2(t,i,e,s,n,r,h,o)}async Zn(){await super.Zn(),this.fNt=void 0,this.vP.lNt=0}async gn(){await super.gn(),await this.vP.e_(),await this.HP.WP(this.vP)}static Ux(t){var i;return(!t||"google-dai"!==(null==t||null==(i=t.ssai)?void 0:i.integration))&&(Zt.Mb&&Zt.Nb<4)}constructor(t,i,e,s,n,r,h){const o=new sH(new jU(n));super(t,i,e,s,o.cB(r),h),this.HP=o,this.fNt=void 0}};r(),r(),r(),r(),r();var rH=class extends xn{get ist(){return this.vP}get Ig(){return this.vP.Ig}get Lg(){return this.vP.Lg}constructor(t){super(t)}};r(),r(),r();var hH=class extends ut{Nst(){return this.gNt?this.aW:super.Nst()}Dst(t){this.gNt?this.aW=t:super.Dst(t)}L_(){return this.gNt?this.wNt:super.L_()}Ix(){return this.gNt?this.$x:super.Ix()}Sst(){return this.gNt?this.ANt:super.Sst()}Est(){return this.gNt?this.rW:super.Est()}bst(t){this.gNt?this.rW=t:super.bst(t)}BK(t,i,e){return this.RK((e=>this.vNt(t,i,e)),e)}vNt(t,i,e){return super.BK(t,i,e)}xJ(){return this.RK((()=>this.mNt()))}mNt(){return super.xJ()}QK(t,i,e){return this.RK((e=>this.pNt(t,i,e)),e)}pNt(t,i,e){return super.QK(t,i,e)}tq(){return this.gNt?this.p8:super.tq()}NJ(){this.gNt?this.yNt=!0:super.NJ()}kJ(t,i){this.uJ(),this.gNt?(this.ANt=this.ANt.HB(new Ki([t,i])),this.MNt.push({hA:"Bot",zN:t,PN:i})):this.TNt(t,i)}TNt(t,i){super.kJ(t,i)}iJ(t,i){return this.RK((()=>this.NNt(t,i)))}NNt(t,i){return super.iJ(t,i)}CJ(t,i){this.uJ(),this.gNt?(this.ANt=this.ANt.XB(new Ki([t,i])),this.MNt.push({hA:"pN",zN:t,PN:i})):this.DNt(t,i)}DNt(t,i){super.CJ(t,i)}pN(t,i,e){return this.RK((e=>this.INt(t,i,e)),e)}INt(t,i,e){return super.pN(t,i,e)}RH(t){return this.RK((()=>this.SNt(t)))}SNt(t){return super.RH(t)}async RK(t,i){this.uJ(),this.gNt&&(await hh(this.gNt.PL,i),this.uJ()),Pi(i);try{this.gJ=t(i),await this.gJ}finally{this.gJ=void 0}}uJ(){if(this.gJ)throw new b("Internal error")}async ENt(){if(this.gNt)throw new k("Already locked");this.gNt=new Eo,this.bNt(),this.gJ&&(await this.gJ.catch(fg),this.bNt())}LNt(){var t;null==(t=this.gNt)||t.jL(),this.gNt=void 0,this.kNt()}bNt(){this.$x=super.Ix(),this.aW=super.Nst(),this.rW=super.Est(),this.wNt=super.L_(),this.ANt=super.Sst(),this.p8=super.tq(),this.yNt=!1}kNt(){this.uJ(),super.Dst(this.aW),super.bst(this.rW);const t=this.MNt.slice();Ri(this.MNt);for(const i of t)"Bot"===i.hA?this.TNt(i.zN,i.PN):this.DNt(i.zN,i.PN);this.yNt&&super.NJ(),this.wNt.iR(super.L_())||this.Co(new mg(bi.LH))}e_(){var t;null==(t=this.gNt)||t.c_(),this.gNt=void 0,super.e_()}constructor(t){super(t),this.gJ=void 0,this.gNt=void 0,this.aW=0,this.wNt=Ki.lR(),this.ANt=Ki.lR(),this.MNt=[],this.p8=!1,this.yNt=!1,this.rW=0,this.$x=t.wd}},oH=class extends hH{L_(){var t,i;return super.L_().HB(null!=(i=null==(t=this.CNt)?void 0:t.b_)?i:Ki.lR())}Sst(){var t,i;return super.Sst().HB(null!=(i=null==(t=this.CNt)?void 0:t.EJ)?i:Ki.lR())}Dst(t){super.Dst(t),this.CNt&&(this.CNt.tW=t)}bst(t){super.bst(t),this.CNt&&(this.CNt.ZV=t)}TNt(t,i){super.TNt(t,i),this.CNt&&this.CNt.kJ(t,i)}DNt(t,i){super.DNt(t,i),this.CNt&&this.CNt.CJ(t,i)}async INt(t,i,e){Pi(e);const s=[];s.push(super.INt(t,i,e)),this.CNt&&s.push(this.CNt.pN(t,i,e)),await Promise.all(s)}PH(t){return!!super.PH(t)||this.fit.xNt(t)}SNt(t){return super.PH(t)?super.SNt(t):this.fit.ONt(t)}jNt(t){var i,e;null==(i=this.CNt)||i.fn(ie,this.Lst),this.CNt=t,null==(e=this.CNt)||e.yn(ie,this.Lst)}constructor(t,i){super(i),this.CNt=void 0,this.fit=t}},aH=class extends xt{PH(t){const i=void 0!==this.p$,e=void 0!==this.y$,s=t.E$.some((t=>ew(t.LP,"audio"))),n=t.E$.some((t=>ew(t.LP,"video")));return i===s&&e===n&&(!!super.PH(t)||(!(!this.zNt||!this.zNt.PH(t))||this.fit.PNt(t)))}async RH(t){return super.PH(t)?await super.RH(t):this.zNt&&this.zNt.PH(t)?(this.BNt(),await this.RH(t)):(await this.fit.RNt(t),await this.RH(t))}xNt(t){return this.PH(this.UNt(t))}ONt(t){return this.RH(this.UNt(t))}UNt(t){const i=this.wd,e=i.E$.map((i=>ew(t.LP,"audio")&&ew(i.LP,"audio")||ew(t.LP,"video")&&ew(i.LP,"video")?t:i));return At({},i,{E$:e})}S$(t,i,e,s){super.S$(t,i,e,s),this.zNt&&this.zNt.S$(t,i,e,s)}QNt(){return!this.FNt&&this.YNt}Td(){return void 0!==this.GNt?this.GNt:this.QNt()?this.Rk:super.Td()}T$(t){this.Rk=t,this.GNt=void 0,this.QNt()||super.T$(t)}Ast(){return!this.QNt()&&super.Ast()}NJ(){this.GNt=x.max(uH(this.DP.g$),uH(this.DP.w$)),this.QNt()||super.NJ()}_J(){this.GNt=void 0,this.QNt()||super._J()}pst(t){return new oH(this,t)}VNt(){this.FNt=!this.FNt}BNt(){const t=this.DP,i=this.zNt;i&&(this.FNt=!this.FNt,this.vst(i),this.WNt(t),this.QNt()&&this.HNt())}WNt(t){var i,e;this.zNt=t,null==(i=this.p$)||i.jNt(null==t?void 0:t.g$),null==(e=this.y$)||e.jNt(null==t?void 0:t.w$)}qNt(t){const i=this.DP,e=this.zNt;if(!e)return;const s=this.FNt,n=s?i:e,r=(s?e:i).b_.oR(t);if(!r)return;const h=FU(n.b_,this.Sst()).oR(r.jn(0),kc);return!h||r.jn(0)+kc>=h.jn(0)?void 0:x.max(r.jn(0),h.Cn(0))}XNt(t,i){if(this.YNt)return Promise.resolve();const e=this.FNt?this.zNt:this.DP;return e?(this.YNt=!0,this.ZNt((i=>{if(Pi(i),this.YNt)return async function(t,i,e){Pi(e);const s=[];t.g$&&s.push(kk(t.g$,i,e));t.w$&&s.push(kk(t.w$,i,e));await Promise.all(s),t.NJ()}(e,t,i)}),i)):Promise.resolve()}HNt(){if(!this.YNt)return;const t=this.FNt?this.zNt:this.DP;if(!t)return;var i;this.YNt=!1;const e=null!=(i=this.GNt)?i:this.Rk;t.ct<e&&t.T$(e),t._J()}KNt(t){var i;const e=null!=(i=this.GNt)?i:this.Rk;t.T$(e),this.FNt?this.vst(t):this.WNt(t)}Sst(){var t,i,e;const s=null!=(e=null==(t=this.p$)?void 0:t.EJ)?e:Ki.lR();var n;const r=null!=(n=null==(i=this.y$)?void 0:i.EJ)?n:Ki.lR();return s.HB(r)}async ZNt(t,i){const e=[];this.p$&&e.push(this.p$.ENt()),this.y$&&e.push(this.y$.ENt());try{await Promise.all(e),await t(i)}finally{this.p$&&this.p$.LNt(),this.y$&&this.y$.LNt()}}Mst(t){t.type===bi.LH&&this.fit.mJ(),super.Mst(t)}constructor(t,i){super(i),this.zNt=void 0,this.Rk=NaN,this.FNt=!1,this.YNt=!1,this.GNt=void 0,this.vst(i),this.fit=t}};function uH(t){if(!t)return 0;const i=t.b_;return i.U>0?i.jn(i.U-1):0}function nr(t){return t.wd.hA===wt.xO}r();var cH=class extends rH{get JNt(){return this.$Nt}L_(){return super.L_().HB(this.$Nt.b_)}Td(){if(!this.tDt){const t=this.DP;if(t&&nr(t))return t.ct}return super.Td()}nst(){return!!super.nst()&&!(!this.tDt&&!this.tq())}rst(){return!!super.rst()&&!(!this.tDt&&super.nst()&&!this.tq())}tq(){const t=this.DP;return!(!t||!nr(t))&&t.tq}_g(){return this.Uo.HB(this.vP.fg)}Mg(){return super.Mg().HB(this.$Nt.yg)}pg(){return super.pg()}sst(){var t;return null!=(t=super.sst())?t:this.$Nt.IP}Vg(){return this.gR=!1,super.Vg()}Gg(){this.gR=!0,super.Gg()}v3(){this.tDt=!0,super.v3(),this.$Nt.v3()}m3(){this.tDt=!1,super.m3(),this.$Nt.v3()}z_(){var t;return null!=(t=this.O4)?t:super.z_()}Ng(){return void 0!==this.O4||super.Ng()}Dp(t,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.iDt.c_(),this.u2.c_(),this.u2=new xs,this.eDt=this.l2(t,i,e,this.eDt,this.u2.a_).catch(fg)}async l2(t,i,e,s,n){this.O4=t,this.d2=t,this.Co(new Sa(t)),s&&await s.catch(fg),Pi(n),this.DP&&nr(this.DP)&&this.DP.HNt(),this.O4=void 0,super.Dp(t,i,e),this.$Nt.Dp(t,i,e),this.sDt()}mP(t){const i=this.IP;if(!i||j(i.getTime()))return;const e=(t.getTime()-i.getTime())/1e3;this.Dp(e)}T3(){super.T3(),this.$Nt.T3()}get Ig(){return this.nDt.Ig}get Lg(){return this.nDt.Lg}be(){this.xB&&(this.xB=!1,this.nDt.be())}ge(){this.xB||(this.xB=!0,this.nDt.ge())}async rDt(){var t;this.O4=void 0,this.d2=NaN,this.Uo=Ki.lR(),null==(t=this.hDt)||t.c_(),this.iDt.c_(),this.u2.c_(),this.eDt&&(await this.eDt.catch(fg),this.eDt=void 0)}cst(t){super.cst(t),this.$Nt.VP=t}lst(t){super.lst(t),this.$Nt.D3=t}Dg(){return this.Dl}dE(t,i,e,s,n,r,h,o){return this.fE.dE(t,i,e,s,n,r,h,o)}pE(t){this.fE.pE(t)}QP(){this.fE.Zn(),super.QP()}async $n(t){const i=await super.$n(t);return nr(i)&&this.sDt(),i}async Zn(){await this.rDt(),await super.Zn(),await this.$Nt.Zn()}async e_(){await this.rDt(),this.fE.gn(),this.Dl.gn(),await super.e_()}_st(t){return new aH(this,t)}fst(t){return new Jt(t)}sDt(){this.iDt.c_(),this.iDt=new xs,this.eDt=this.oDt(this.eDt,this.iDt.a_).catch(fg)}async oDt(i,e){if(i&&await i.catch(fg),this.DP&&nr(this.DP))for(;;){let i;for(Pi(e),this.aDt()&&this.VNt(),this.DP.HNt(),Pi(e);Pi(e),!this.aDt();){if(i=this.DP.qNt(this.z_()),void 0!==i){0,this.uDt(),await this.DP.XNt(i,e),Pi(e),this.$Nt.Dp(i);break}await gg((i=>Promise.race([this.D_(t.ov,i),this.cDt(i)])),e)}for(Pi(e);!this.aDt();)await this.vP.D_([t.ov,t.kA,er.Mw],e)}}aDt(){const t=this.DP;if(void 0===t||!nr(t))return!1;const i=this.z_(),e=this.vP.b_;if(!this.vP.R_&&e.gr(i))return!1;return!!FU(this.$Nt.b_,t.Sst()).$B(i,i+kc)}VNt(){if(this.lDt)return;this.lDt=!0,this.Uo=this._g();const t=Fk(this),i=this.Ng(),e=this.pg(),s=this.vP,n=this.$Nt,r=this.DP;r.HNt(),r.VNt(),Yk(n,t),this.wst(n),this.$Nt=s,s.Gg(),s.Z_=!0,this.lDt=!1;const h=this.Ng();i!==h&&(h?this.Co(new Sa(this.j_)):this.Co(new $s(this.j_)));const o=this.pg();e!==o&&this.Co(new Jh(this.j_,o)),h||this.uDt()}uDt(){const t=this.vP,i=this.nDt;if(i===t)return;const e=this.Lg,s=this.Ig;this.nDt=t,this.xB&&(i.be(),t.ge());const n=this.Lg,r=this.Ig;n>0&&r>0&&(e!==n||s!==r)&&this.Co(new Yy)}PNt(t){return void 0!==this.$Nt.rq([t])}async RNt(t){this.uDt();const i=this.DP,e=this.$Nt;await e.Zn();const s=await e.$n(t);i.KNt(s)}cDt(t){return this.hDt=new Eo,hh(this.hDt.PL,t)}mJ(){var t;null==(t=this.hDt)||t.jL()}Jg(i){i.type===t.ZA&&this.d2===i.currentTime||(i.type===t.XA&&(this.d2=NaN,this.uDt()),i.type!==er.Mw&&i.type!==t.Sh&&i.type!==t.kA||this.lDt||!this.aDt()?(i.type!==t.kA||this.R_)&&super.Jg(i):this.sDt())}constructor(t,i,e){super(t),this.tDt=!1,this.O4=void 0,this.d2=NaN,this.Uo=Ki.lR(),this.gR=!0,this.lDt=!1,this.xB=!0,this.hDt=void 0,this.eDt=void 0,this.iDt=new xs,this.u2=new xs,this.$Nt=i,this.nDt=t,this.vP.ge(),this.$Nt.be(),this.fE=new SU(this,e),this.Dl=new dh([this.fE.nt,super.Dg()])}},lH=class extends cH{get ist(){return this.vP}get JNt(){return this.$Nt}be(){super.be(),this.J6.be()}ge(){super.ge(),this.J6.ge()}get TP(){return this.vP.TP}get q$(){return this.vP.q$}get Bg(){return this.vP.Bg}set Bg(t){this.vP.Bg=t}N3(t){this.vP.N3(t),this.$Nt.N3(t)}E4(){this.vP.E4()}Zg(){this.vP.Zg(),this.$Nt.Zg()}Ug(){return this.vP.Ug()}wst(t){const i=this.Rg(),e=this.Ug();super.wst(t),this.Rg()!==i&&this.Co(new zt),this.Ug()!==e&&this.Co(new us)}e_(){return this.t8.gn(),this.J6.gn(),super.e_()}constructor(t,i){super(t,i,new ax),this.J6=new Qx,this.J6.N3(t.TP.parentElement),this.t8=new sj(this.J6.we,this.Iu,this.nt,this.Ol,this.ya)}},dH=class extends ot{cB(t){if(t===hv.vp){const i=super.cB(t),e=super.cB(t);return new lH(i,e)}return super.cB(t)}async WP(t){t instanceof lH?(await t.e_(),await super.WP(t.ist),await super.WP(t.JNt)):await super.WP(t)}},fH=class extends KW{async gn(){await super.gn(),await this.HP.WP(this.vP)}static Ux(t){var i;return!Zt.Qs&&!Zt.Jb&&!(t&&"google-dai"===(null==(i=t.ssai)?void 0:i.integration))}constructor(t,i,e,s,n,r,h){const o=new jU(new dH(n));super(t,i,e,s,o.cB(r),h),this.HP=o}};r(),r(),r();var Au,_H=class extends xt{pst(t){return new hH(t)}Ix(){return this.dDt?this.$x:super.Ix()}L_(){return this.dDt?this.wNt:super.L_()}Td(){return this.dDt?this.Rk:super.Td()}T$(t){this.dDt?(this.Rk=t,this.fDt=!0):super.T$(t)}Mg(){return this.dDt?this._Dt?this._Dt.PJ():this.I$:super.Mg()}S$(t,i,e,s){this.dDt?this._Dt=new Ik(t,i,e,s):super.S$(t,i,e,s)}Ast(){return this.dDt?this.p8&&!1!==this.yNt:super.Ast()}NJ(){this.dDt?this.yNt=!0:super.NJ()}_J(){this.dDt?this.yNt=!1:super._J()}PH(t){return!this.dDt&&super.PH(t)}RH(t){return this.dDt?Promise.reject(new k("Not supported")):super.RH(t)}async ENt(){if(this.dDt)throw new k("Already locked");this.dDt=!0,this.bNt();const t=[];this.p$&&t.push(this.p$.ENt()),this.y$&&t.push(this.y$.ENt()),await Promise.all(t)}LNt(){this.dDt=!1,this.p$&&this.p$.LNt(),this.y$&&this.y$.LNt(),this.kNt()}bNt(){this.$x=super.Ix(),this.wNt=super.L_(),this.Rk=super.Td(),this.I$=super.Mg(),this.fDt=!1,this.yNt=void 0,this._Dt=void 0}kNt(){if(this.fDt&&(super.T$(this.Rk),this.fDt=!1),void 0!==this._Dt){const t=this._Dt;super.S$(t.Cn,t.jn,t.BJ,t.RJ),this._Dt=void 0}void 0!==this.yNt&&(this.yNt?super.NJ():super._J(),this.yNt=void 0)}constructor(t){super(t),this.dDt=!1,this.wNt=Ki.lR(),this.Rk=0,this.fDt=!1,this.p8=!1,this.yNt=void 0,this.I$=Ki.lR(),this._Dt=void 0,this.vst(t),this.$x=t.wd}},gH=class extends yn{get ist(){return this.vP}Vg(){return void 0!==this.DP&&nr(this.DP)&&this.R_&&this.Dp(0),super.Vg()}Dp(t,i,e){void 0!==this.DP&&nr(this.DP)&&this.R_&&t<this.ct&&this.gDt(),super.Dp(t,i,e)}v3(){this.wDt=!0,super.v3()}m3(){this.wDt=!1,this.ADt()||super.m3()}ADt(){return this.wDt||this.vDt}mDt(){this.vDt||(this.vDt=!0,super.v3())}pDt(){this.vDt&&(this.vDt=!1,this.ADt()||super.m3())}$n(t){this.yDt.c_();const i=this.ait(t,this.MDt);return this.TDt=i,i}async ait(t,i){return i&&await i.catch(fg),this.pDt(),await super.$n(t)}_st(t){return new _H(t)}fst(t){return new Jt(t)}Zn(){this.yDt.c_();const t=this.NDt(this.MDt);return this.TDt=t,t}async NDt(t){return t&&await t.catch(fg),this.pDt(),await super.Zn()}gDt(){this.mDt(),this.yDt.c_(),this.yDt=new xs,this.MDt=dt(this.DDt(this.TDt,this.MDt,this.yDt.a_),this.yDt).catch(Mh)}async DDt(t,i,e){t&&await t.catch(fg),i&&await i.catch(fg),Pi(e);const s=this.DP;if(!s||!nr(s))return;const n=s.wd;await s.ENt(),await this.vP.Zn();const r=await this.vP.$n(n);r.T$(s.ct),s.vst(r),s.LNt(),this.pDt()}async e_(){this.yDt.c_(),this.MDt&&(await this.MDt.catch(fg),this.MDt=void 0),this.ADt()&&super.m3(),await super.e_()}constructor(...t){super(...t),this.wDt=!1,this.vDt=!1,this.TDt=void 0,this.MDt=void 0,this.yDt=new xs}},wH=class extends ot{cB(t){if(t===hv.vp)return new gH(super.cB(t))}async WP(t){const i=t;await i.e_(),await super.WP(i.ist)}static Ux(){return Zt.tL}};Cu(new class extends gU{_m(t,i,e,s,n,r,h){const o=new St(Kn.gL.ket,Kn.gL.Let,Kn.gL.bet,Kn.gL.xet);let a;a=nH.Ux(h)?nH:fH.Ux(h)?fH:JW;let u=i;return wH.Ux()&&(u=new wH(u)),new a(e,s,n,o,u,hv.vp,t)}dB(){return!0}constructor(...t){super(...t),this.fB=Kt.Vz}}),r(),r(),r(),r(),function(t){t.IDt="currentbufferingrenditionchange",t.SDt="EDt",t.bDt="LDt",t.kDt="CDt"}(Au||(Au={})),r(),r();var AH,vH,mH=class{constructor(t,i){var e,s;this.Vw=um(),this.xDt=i,this.hA=t.hA,this.ODt=t.ODt,this.jDt=t.jDt,this.zDt=t.zDt,this.l=t.l,this.gs=t.gs,this.PDt=t.PDt,this.BDt=t.BDt,this.RDt=void 0===t.xAt,this.UDt=null!=(s=null==(e=t.UDt)?void 0:e.split(","))?s:[]}};function zn(t,i){return t.hA===i.hA&&(t.l===i.l||!(!t.ODt||!i.ODt))}function pH(t,i){return void 0!==t&&void 0!==i&&yH(t,i)}function yH(t,i){return t.xDt===i.xDt}function MH(t,i){return yH(t,i)&&t.PDt===i.PDt}function TH(t,i){for(const e of t)if(MH(e,i))return!0;return!1}r(),function(t){t.QDt="alternative",t.FDt="main",t.YDt="commentary",t.GDt="",t._S="descriptions",t.VDt="main-desc",t.WDt="translation"}(AH||(AH={})),function(t){t.QDt="alternative",t.FDt="main",t.YDt="commentary",t.GDt="",t.fS="captions",t.Kw="sign",t.pp="subtitles"}(vH||(vH={}));var NH,DH=class extends i{get Ww(){return this.HDt}get Rt(){const t=this.qDt();if(!t)return!1;for(const i of this.Hw.xw)if(i.XDt===t)return!0;return!1}set Rt(t){if(t!==this.Rt&&t){let t=this.Hw.jw(0).XDt;const i=this.Qo.ZDt;for(const e of this.Hw.xw)if(e.KDt===i){t=e.XDt;break}this.JDt(t)}}get Gw(){if(!this.Rt)return;const t=this.Qo.$Dt;for(const i of this.Hw.xw)if(TH(t,i.XDt))return i}get va(){return this.Xa||(this.Xa=Ei(this)),this.Xa}get o(){return this.DN.toString()}get Vw(){return this.DN}get kh(){return this.IN}set kh(t){t!==this.IN&&(this.IN=t,this.Co(new Ln(this)))}get gs(){return this.Uk}get eA(){return this.Rt?"enabled":"disabled"}get qw(){return this.eat}set qw(t){let i=[];if(t){i=t.filter((t=>{const i=this.Gw?aF(this.Gw):void 0;return lg.Ys.wtt(i,aF(t))})).filter((i=>this.Hw.yN(t)&&i.qit))}else i=this.Hw.xw.filter((t=>t.qit));if(0!==i.length){if(!(t===this.eat||this.eat&&Uo(this.eat,i))){if(this.eat=t?i:void 0,this.Qo.tIt(i.map((t=>t.KDt))),1===i.length){const t=i[0].KDt,e=this.v0===hv.vp,s=this.yR.dW;W(this.Qo.iIt(t,{eIt:!0,sIt:s&&e,nIt:s&&!e}))}this.Co(new Dn(i,this))}}else this.Co(new oF)}EN(t){this.Rt=t}gn(){this.Vo(),this.Qo.fn(Au.IDt,this.rIt),this.Qo.fn(Au.SDt,this.hIt);for(const t of this.Hw.xw)t.gn();this.Hw.Zn()}constructor(t,i,e,s,n){var r;super(),this.v0=t,this.Qo=i,this.yR=e,this.fh=s,this.Hw=n,this.eat=void 0,this.oIt=void 0,this.aIt=()=>this.Co(new Ln(this)),this.rIt=()=>{const t=this.Gw;t&&this.oIt!==t&&(this.oIt=t,this.Co(new jY(t)))},this.hIt=()=>{const t=this.Rt;this.uIt!==t&&(this.uIt=t,this.fh.Co(new le(this)),this.Co(new le(this)))},this.oIt=this.Gw,this.uIt=this.Rt;const h=n.jw(0);var o,a;this.IN=null!=(o=null==h?void 0:h.XDt.l)?o:"",this.Uk=null!=(a=null==h?void 0:h.XDt.gs)?a:"",this.HDt=null==h||null==(r=h.XDt)?void 0:r.UDt.map(kH).filter(li),this.DN=Ou(),this.Qo.yn(Au.IDt,this.rIt),this.Qo.yn(Au.SDt,this.hIt);for(let t=0;t<this.Hw.U;t++){this.Hw.jw(t).yn("update",this.aIt)}}},IH=class extends DH{get zt(){return AH.FDt}qDt(){return this.Qo.cIt}JDt(t){W(this.Qo.lIt(t))}constructor(t,i,e,s){super(hv.mp,t,i,e,s)}},SH=class extends DH{get zt(){return vH.FDt}qDt(){return this.Qo.dIt}JDt(t){W(this.Qo.fIt(t))}constructor(t,i,e,s){super(hv.vp,t,i,e,s)}},EH=class extends i{get o(){return String(this.KDt.o)}get Vw(){return this.KDt.o}get Jz(){return this.KDt.Jz}get bAt(){return this.KDt.bAt}get kh(){var t;return null!=(t=this.IN)?t:this.XDt.l}set kh(t){this.kh!==t&&(this.IN=t,this.Co(new BG(this.va)))}get xAt(){return this.XDt.xDt._It()}get LAt(){return this.KDt.LAt}CS(){}gn(){this.Vo()}constructor(t,i){super(),this.KDt=t,this.XDt=i,this.IN="",this.qit=!0}},bH=class extends EH{get xwt(){return 0}get Het(){var t;return(null==(t=this.KDt.Het)?void 0:t.gIt)||""}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){return PG(this)}constructor(t,i){super(t,i),this.Xa=void 0}},LH=class extends EH{get Het(){var t;return(null==(t=this.KDt.Het)?void 0:t.wIt)||""}get kAt(){return this.AIt}set kAt(t){this.AIt!==t&&(this.AIt=t,this.Co(new BG(this.va)))}get lct(){var t,i;return null!=(i=null!=(t=this.vIt)?t:this.KDt.lct)?i:0}set lct(t){this.lct!==t&&(this.vIt=t,this.Co(new BG(this.va)))}get Ti(){var t,i;return null!=(i=null==(t=this.KDt.mIt)?void 0:t.Ti)?i:0}get ji(){var t,i;return null!=(i=null==(t=this.KDt.mIt)?void 0:t.ji)?i:0}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){return zG(this)}constructor(t,i){super(t,i),this.Xa=void 0,this.AIt=0,this.vIt=void 0}};function kH(t){return"public.accessibility.describes-video"===t?gc.tA:"public.accessibility.transcribes-spoken-dialog"===t?gc.TRANSCRIBES_SPOKEN_DIALOG:"public.accessibility.describes-music-and-sound"===t?gc.DESCRIBES_MUSIC_AND_SOUND:"public.accessibility.easy-to-read"===t?gc.$w:void 0}r(),r(),function(t){t.pIt="FATAL",t.ha="ERROR",t.yIt="WARNING",t.MIt="INFO",t.TIt="DEBUG"}(NH||(NH={}));var CH=new class{NIt(t){if(!this.Rt())return!1;const i=[];return!(i.length>0)||i.some((i=>i.toLowerCase()===t.toLowerCase()))}DIt(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];this.NIt(t)&&lg.Ttt("DEBUG "+t+" -",...e)}$y(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];this.NIt(t)&&lg.Ttt("INFO "+t+" -",...e)}IIt(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];this.NIt(t)&&lg.Pv("WARNING "+t+" -",...e)}lt(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];this.NIt(t)&&lg.Ntt("ERROR "+t+" -",...e)}SIt(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];this.NIt(t)&&lg.Ntt("FATAL "+t+" -",...e)}constructor(){this.Rt=()=>!1}},Cn="HLSPlaylistParser",xH="Discontinuity",rr="Buffering",OH=class{pnt(){var t;const i=null==(t=this.Qo.Tr)?void 0:t.EIt;if(!i||0===i.length)return void CH.IIt("LLHLSTrackConfigurator","The HLSModel contains no variant streams.");var e;const s=null!=(e=p(i,(t=>0!==t.bIt.length&&0!==t.LIt.length)))?e:i[0],n=i.filter((t=>t!==s));for(const t of s.bIt){const i=new Bt,e=[];i.mN(new bH(s,t)),e.push(t);for(const s of n)for(const n of s.bIt)if(zn(n,t)&&!TH(e,n)){i.mN(new bH(s,n)),e.push(n);break}this.kIt.tt(new IH(this.Qo,this.yR,this.kIt,i))}for(const t of s.LIt){const i=new Bt,e=[];i.mN(new LH(s,t)),e.push(t);for(const s of n)for(const n of s.LIt)if(zn(n,t)&&!TH(e,n)){i.mN(new LH(s,n)),e.push(n);break}this.CIt.tt(new SH(this.Qo,this.yR,this.CIt,i))}}xIt(){this.OIt(this.kIt),this.OIt(this.CIt)}OIt(t){const i=[];for(const e of t.xw){const t=[];for(const i of e.Hw.xw)Ho(i.KDt.jIt,i.XDt)||t.push(i);for(const i of t)e.Hw.pN(i),i.gn();0===e.Hw.U&&i.push(e)}for(const e of i)t.it(e),e.gn()}zIt(t,i){const e=this.PIt(t);void 0!==e&&(e.lct=i)}BIt(t,i){const e=this.PIt(t);void 0!==e&&(e.kAt=i)}PIt(t){for(const i of this.CIt.xw){const e=p(i.Hw.xw,(i=>i.XDt===t));if(void 0!==e)return e}}constructor(t,i,e,s){this.Qo=t,this.yR=i,this.kIt=e,this.CIt=s}};r(),r(),r();var En=class{get w8(){const t=1-this.RIt**this.UIt;return this.QIt/t}ght(t,i){const e=this.RIt**t,s=i*(1-e)+e*this.QIt;j(s)||(this.QIt=s,this.UIt+=t)}RH(t){const i=x.exp(x.log(.5)/t);if(i===this.RIt)return;if(0===this.UIt)return void(this.RIt=i);const e=this.w8,s=1-i**this.UIt;this.QIt=e*s,this.RIt=i}constructor(t){this.QIt=0,this.UIt=0,this.RIt=x.exp(x.log(.5)/t)}},Rn=class t{get w8(){return this.Mht()?x.max(this.FIt.w8,this.YIt.w8):this.GIt}ght(t){const i=lg.f_(),e=t;this.VIt&&void 0!==this.WIt&&i-this.WIt>=this.HIt&&this.Zn(),this.qIt+=1,this.FIt.ght(1,e),this.YIt.ght(1,e),this.XIt.push(e),this.XIt.length>this.ZIt&&this.XIt.shift(),this.WIt=i}Mht(){return void 0!==this.WIt&&lg.f_()-this.WIt<=this.HIt}Zn(){this.FIt=new En(this.KIt),this.YIt=new En(this.JIt),this.qIt=0,this.XIt=[],this.WIt=void 0}constructor(i=t.$It,e=t.tSt,s=t.Tht,n=!1){this.qIt=0,this.XIt=[],this.WIt=void 0,this.HIt=6e4,this.ZIt=10,this.KIt=i,this.JIt=e,this.GIt=s,this.VIt=n,this.FIt=new En(i),this.YIt=new En(e)}};Rn.$It=2,Rn.tSt=5,Rn.Tht=.1,r();var jH=class{FV(t){for(const i of this.iSt)i.FV(t)}YV(t){for(const i of this.iSt)i.YV(t)}GV(t,i){for(const e of this.iSt)e.GV(t,i)}VV(t){for(const i of this.iSt)i.VV(t)}constructor(t){this.iSt=t}};r();var zH=class{FV(t){this.eSt=t}YV(t){this.sSt.ght(t-this.eSt)}GV(t){}VV(t){}constructor(t){this.eSt=0,this.sSt=t}};r();var PH=class{YV(t){this.nSt=t}GV(t,i){this.Iht.ght(t-this.nSt,i.byteLength),this.nSt=t}VV(t){}FV(t){}constructor(t){this.nSt=0,this.Iht=t}};r();var BH,RH=class{FV(t){}GV(t,i){const e=i.byteLength,s=this.rSt;this.rSt=e;const n=t-this.An;this.An=t,this.hSt.zq(i);const r=!this.hSt.oSt(),h=e>=this.aSt;s!==lg.Ys.dtt&&r&&h&&this.Iht.ght(n,e)}YV(t){this.An=t}VV(t){}constructor(t,i=0){this.hSt=new UH,this.An=0,this.rSt=0,this.Iht=t,this.aSt=i}},UH=class extends Xu{oSt(){return this.uSt}zq(t){this.uSt=!1,super.zq(t)}Oq(t,i){this.cSt&&this.cSt!==Wr.cp||(this.uSt=!0),super.Oq(t,i),this.cSt=t}Wq(t){return!1}qq(t){}Zq(t){}constructor(...t){super(...t),this.cSt=void 0,this.uSt=!1}};r(),r(),(BH||(BH={})).lSt="sample";var QH=class extends i{Bz(){if(!this.Mht())return;const t=lg.f_();t-this.dSt>1e3&&(this.dSt=t,ua.gL.Bz(this.w8))}constructor(...t){super(...t),this.dSt=0}},Uc=class t extends QH{ght(t,i){const e=8*i/t;this.FIt.ght(t,e),this.YIt.ght(t,e),this.fSt+=i,this.Bz(),this.Co(new mg(BH.lSt))}get w8(){return this.Mht()?x.min(this.FIt.w8,this.YIt.w8):this.GIt}Mht(){return this.fSt>=this._St}constructor(i=t.$It,e=t.tSt,s=t.gSt,n=t.Tht){super(),this.fSt=0,this._St=s,this.FIt=new En(i),this.YIt=new En(e),this.GIt=n}};Uc.gSt=128e3,Uc.Tht=SI,Uc.$It=.5,Uc.tSt=5;var FH=class{get Jz(){return this.Iht.w8}get $z(){return this.wSt.w8}tP(t){if("segment"!==t.hA&&"preload-hint"!==t.hA)return;const i=[new zH(this.wSt)];return"stream"!==t.rE||!function(t){return"segment"===t.hA&&"initialization-segment"!==t.oE}(t)&&"preload-hint"!==t.hA?i.push(new PH(this.Iht)):i.push(new RH(this.Iht,1e3)),new jH(i)}ASt(t){this.Iht=new Uc(Uc.$It,Uc.tSt,1,t)}constructor(t){const i=t.Jz>0?t.Jz:Uc.Tht,e=t.$z>0?t.$z:Rn.Tht;this.Iht=new Uc(Uc.$It,Uc.tSt,1,i),this.wSt=new Rn(Rn.$It,Rn.tSt,e)}};r();var YH=class extends mg{constructor(t){super(Au.kDt),this.lt=t}};r();var GH=class{rq(t,i){const e={hA:wt.xO,kP:[],E$:t.map((t=>({LP:t}))),B$:i};return Promise.resolve(void 0!==this.Wit.rq([e]))}constructor(t){this.Wit=t}};r(),r();var VH=(t,i,e,s,n)=>t.filter((t=>!!Ho(s,t)||1.1*t.Jz<=e.Jz)),WH=(t,i,e,s,n)=>t.filter((t=>{if(Ho(s,t))return!0;let r=1/0;for(const i of t.jIt){var h,o;r=x.min(r,null!=(o=null!=(h=i.xDt.vSt)?h:i.xDt.mSt)?o:1/0)}r===1/0&&(r=1);const a=2*e.$z+t.Jz*r/e.Jz;return t.Jz<=i.Jz||n.pSt>a})),HH=(t,i,e,s,n)=>tl(t,((t,i)=>i.Jz-t.Jz)),qH=(t,i,e,s,n)=>t.every((t=>t.LAt&&!j(t.LAt)))?tl(t,((t,i)=>i.LAt-t.LAt)):t,XH=(t,i,e,s,n)=>0===s.length?t:tl(t,((t,i)=>{const e=Ho(s,t)?1:0;return(Ho(s,i)?1:0)-e})),ZH=(t,i,e,s,n,r)=>t.filter((t=>!t.Het||!i.Het||!(void 0!==i.Het.wIt&&void 0!==t.Het.wIt&&!Ft(i.Het.wIt,t.Het.wIt)&&!r.ySt({LP:'video/mp4; codecs="'+t.Het.wIt+'"'}))&&!(void 0!==i.Het.gIt&&void 0!==t.Het.gIt&&!Ft(i.Het.gIt,t.Het.gIt)&&!r.MSt({LP:'audio/mp4; codecs="'+t.Het.gIt+'"'})))),KH=(t,i,e,s,n)=>{if(!1===n.Rat)return t;if(lg.Ys.att)return t;const r=lg.Ys.utt;var h;const o=(null!=(h=null==r?void 0:r.width)?h:n.ji)*FQ;var a;const u=(null!=(a=null==r?void 0:r.height)?a:n.Ti)*FQ;for(let i=0;i<t.length;i++){const e=t[i];if(void 0===e.mIt)return t;const s=e.mIt.Ti,n=e.mIt.ji;if(s<=u&&n<=o)return t.slice(i,t.length)}return[]},JH=(t,i,e,s,n)=>function(t,i){const e=i.Rat;if(void 0===e&&!lg.Ys.Qs)return t;if(!1===e)return t;for(let e=0;e<t.length;e++){const s=t[e];if(void 0===s.mIt)return t;const n=s.mIt.Ti,r=s.mIt.ji;if(n===i.Ti&&r===i.ji)return t.slice(e,t.length);if(n<i.Ti||r<i.ji)return t.slice(0===e?e:e-1,t.length)}return[]}(t,n);var Qn,xi,_u,$H,tq="AbrEvaluator",iq=class{get TSt(){return this.yR.RV}NSt(t){this.Qat=t}async DSt(t,i,e,s,n){return(await this.ISt(t,i,e,s,n))[0]}async ISt(t,i,e,s,n){if(0===t.length)throw new b("AbrEvaluator - Unable to select optimal variant stream from an empty list.");CH.DIt(tq,"Performing optimal variant stream selection.");const r=this.TSt;let h=t;for(const t of this.Qat){const o=t(h,i,r,e,s,n);h=pi(o)?o:await o}if(0===h.length){CH.IIt(tq,"No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream.");return[Ro(t,(t=>t.Jz))]}return h}constructor(t){this.yR=t,this.Qat=[ZH,VH,WH,HH,KH,JH,qH,XH]}};function eq(t,i){return[t,void 0!==i?t+i-1:Q_]}function sq(t){return Boolean(t.Fy)}function nq(t){return Boolean(t.bet)}function Nt(t){return t?t.cmt?t.ST+"@"+t.cmt.Cn+"-"+(null!=(i=t.cmt.U)?i:""):""+t.ST:"";var i}function rq(t,i){if(i===t)return!0;if(i.ST!==t.ST)return!1;if(!t.cmt)return!0;if(i.cmt){const e=eq(t.cmt.Cn,t.cmt.U),s=eq(i.cmt.Cn,i.cmt.U);if(e[0]<=s[0])return void 0===e[1]||void 0!==s[1]&&e[1]>=s[1]}return!1}function hq(t,i){return t===i||t.ST===i.ST&&(t.cmt&&i.cmt?t.cmt.Cn===i.cmt.Cn&&t.cmt.U===i.cmt.U:t.cmt===i.cmt)}function oq(t){const i=!!t.SSt||void 0;return{o:t.o,ESt:t.ESt,IP:t.IP,bSt:t.bSt,ct:t.ct,LSt:t.LSt,SSt:i,kSt:t.CSt,xSt:t.OSt,jSt:t.jSt,zSt:t.zSt}}function aq(t,i){var e,s,n;return{gIt:null!=(e=i.gIt)?e:null==t?void 0:t.gIt,wIt:null!=(s=i.wIt)?s:null==t?void 0:t.wIt,PSt:null!=(n=i.PSt)?n:null==t?void 0:t.PSt}}async function uq(t,i,e,s,n){const r=i.filter((t=>oo(t,"audio"))),h=i.filter((t=>oo(t,"video"))),o=[],a=e.map((t=>async function(t,i,e){if(!t.xAt)return;if(!t.BSt)return;if(t.nE!==_u.RSt)return;const s=cq(t.BSt);if(!s)return;if(s.mL===qa)return{dm:s,nP:[],rP:void 0,Az:t.xAt};if(s.mL===Fw&&t.BSt===Vw)return{dm:s,nP:[],rP:t.xAt,Az:void 0};{CH.$y("HLSDrmUtils","Fetching key uri "+t.xAt+".");const n=await i.mS({zu:t.xAt,uE:e});return{dm:s,nP:[await n.Kj()],rP:void 0,Az:void 0}}}(t,s,n)));var u;const c=function(t,i){if(0===i.length)return t;const e=t=>{const e=i.indexOf(t.dm.mL);return e>=0?e:i.length};return tl(t,((t,i)=>e(t)-e(i)))}((await Promise.all(a)).filter(li),null!=(u=null==t?void 0:t.preferredKeySystems)?u:[]);for(const i of c){const e=xW(null!=t?t:{},i.dm),s="cbcs";o.push({dm:i.dm,nP:i.nP,rP:i.rP,Az:i.Az,iB:[{initDataTypes:[i.dm.AL],audioCapabilities:OW(r,s,null==e?void 0:e.audioRobustness),videoCapabilities:OW(h,s,null==e?void 0:e.videoRobustness),persistentState:null==e?void 0:e.persistentState,distinctiveIdentifier:null==e?void 0:e.distinctiveIdentifier}]})}return o}function cq(t){return t===mt?Vy:t===Bw?Gy:t===Gw?Hy:t===Vw?Ka:void 0}function lq(t){if("#"!==t[0])throw new b("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function dq(t){return"#"!==t[0]?t:t.split(":",1)[0]}function fq(t){const i=t.indexOf(":");if(-1===i||t.length<i+1)throw new b("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(i+1)}function _q(t){const i=Ls(fq(t));if(void 0===i)throw new b("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return i}function yt(t){const i={},e=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi;let s=e.exec(t);for(;null!==s;){const n=s[1];let r;r=void 0!==s[3]?s[3]:s[2],null!==n?i[n]=r:CH.IIt(Cn,"Ignoring unparsable M3U8 attribute name: "+t+"."),s=e.exec(t)}return i}function gq(t,i){const e=yt(t);let s,n;try{s=e.URI?lg.zv(e.URI,i):void 0,n=function(t){switch(t){case"AUDIO":return Qn.mp;case"VIDEO":return Qn.vp;case"SUBTITLES":return Qn.pp;case"CLOSED-CAPTIONS":return Qn.USt}throw new b("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(e.TYPE)}catch(i){throw new b("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}const r=e["GROUP-ID"],h=e.LANGUAGE,o=e["ASSOC-LANGUAGE"],a=e.NAME,u="YES"===e.DEFAULT;let c="YES"===e.AUTOSELECT;const l="YES"===e.FORCED,d=e["INSTREAM-ID"],f=e.CHARACTERISTICS,_=e.CHANNELS;if(r||CH.IIt(Cn,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),h||CH.IIt(Cn,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),a||CH.IIt(Cn,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),n===Qn.USt?(s&&CH.IIt(Cn,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),d?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(d)||CH.IIt(Cn,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):CH.IIt(Cn,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):d&&CH.IIt(Cn,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),u&&!c&&(c=!0,e.AUTOSELECT&&CH.IIt(Cn,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),e.FORCED&&n!==Qn.pp&&CH.IIt(Cn,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===r||void 0===a)throw new b("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{QSt:o,FSt:_,UDt:f,PDt:r,jDt:c,ODt:u,zDt:l,BDt:d,gs:h,l:a,hA:n,xAt:s}}function wq(t,i,e){const s=yt(t);let n,r,h;try{n=lg.zv(e,i),h=function(t){if(void 0===t)return;const i=t.split("x"),e=Number(i[0]),s=Number(i[1]);if(j(e)||j(s))throw new b("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{ji:e,Ti:s}}(s.RESOLUTION),r=function(t){if(!t)return;let i,e,s;const n=t.split(",");for(const t of n){const n=t.trim();ew(n,"mp4a")?i="mp4a.40.05"===n?"mp4a.40.5":"mp4a.40.02"===n?"mp4a.40.2":n:"ac-3"===n||"ec-3"===n?i=n:ew(n,"avc")||ew(n,"hvc1")||ew(n,"hev1")||ew(n,"dvh")||ew(n,"vp09")||ew(n,"av01")?e=t:s=s?s+","+n:n}return{gIt:i,wIt:e,PSt:s}}(s.CODECS)}catch(i){throw new b("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}const o=Ls(s.BANDWIDTH),a=Ls(s["AVERAGE-BANDWIDTH"]),u=Ls(s.SCORE),c=Ls(s["FRAME-RATE"]),l=s["HDCP-LEVEL"],d=[];if(void 0!==s["ALLOWED-CPC"]){const t=s["ALLOWED-CPC"].split(",");d.push(...t.map((t=>{const i=t.split(":");return{keysystem:i[0],label:i[1]}})))}const f=s["VIDEO-RANGE"],_=s.AUDIO,g=s.VIDEO,w=s.SUBTITLES,A=s["CLOSED-CAPTIONS"];if(void 0===o?CH.IIt(Cn,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==a&&a>o&&CH.IIt(Cn,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),r||CH.$y(Cn,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),r&&r.wIt&&void 0===h&&CH.$y(Cn,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===l||Ho(["TYPE-0","TYPE-1","NONE"],l)||CH.IIt(Cn,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===f||Ho(["SDR","PQ","HLG"],f)||CH.IIt(Cn,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===o)throw new b("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{YSt:d,GSt:_,bAt:a,Jz:o,VSt:A,Het:r,lct:c,WSt:l,mIt:h,LAt:u,HSt:w,xAt:n,qSt:g,XSt:f}}function Aq(t,i){const e=yt(t);if(!e.URI)throw new b("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return wq(t,i,e.URI)}catch(i){throw new b("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function Ls(t){const i=Number(t);return j(i)?void 0:i}function vq(t,i){const e=yt(t);let s,n;try{s=function(t){switch(t){case"NONE":return _u.DB;case"AES-128":return _u.ZSt;case"SAMPLE-AES":return _u.RSt;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new b("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(e.METHOD),n=e.URI?Iq(e.URI,i):void 0}catch(i){throw new b("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}const r=e.KEYFORMAT,h=e.IV,o=e.KEYFORMATVERSIONS;let a,u,c,l,d;if(s!==_u.DB){if(c=r||Vw,"SAMPLE-AES-CENC"===s||"SAMPLE-AES-CTR"===s){if(cq(c)!==Vy)throw new b("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+s+" is only compatible with Widevine.");a=_u.RSt}else a=s;u=n,l=h?za(h):void 0,d=o?o.split("/").map((t=>Number(t))):[1]}else a=_u.DB,(n||r||o||h)&&CH.IIt(Cn,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{nE:a,xAt:u,KSt:l,BSt:c,JSt:d}}function mq(t){const i=fq(t);if(!i)return[void 0,""];const[e,s]=i.split(",");return[Ls(e),s]}function pq(t,i){const e=t.split("@"),s=Ls(e[0]),n=e.length>1?Ls(e[1]):i;if(void 0===s||void 0===n)throw new b("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{Cn:n,U:s}}function yq(t){if(void 0!==t)return pq(t,void 0)}function Mq(t,i){return pq(fq(t),i)}function Tq(t,i){const e=yt(t);try{const t=Iq(e.URI,i);return{ST:t,cmt:yq(e.BYTERANGE)}}catch(i){throw new b("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function Nq(t){const i=fq(t);if(!i)throw new b("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");const e=new Date(i);if(!QD(e))throw new b("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return e}function Dq(t){const i=yt(t),e=i["START-DATE"],s=i["END-DATE"],n=Ls(i["PLANNED-DURATION"]);let r,h,o,a=Ls(i.DURATION);void 0!==i["SCTE35-CMD"]&&(r=za(i["SCTE35-CMD"]).buffer),i["SCTE35-IN"]&&(h=za(i["SCTE35-IN"]).buffer),i["SCTE35-OUT"]&&(o=za(i["SCTE35-OUT"]).buffer);const u="YES"===i["END-ON-NEXT"],c=function(t){const i={};for(const e of _.keys(t)){const s=t[e];void 0!==s&&ew(e,"X-")&&(i[e]=s)}return i}(i),l=i.ID,d=i.CLASS;let f,g;if(void 0===e)CH.IIt(Cn,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+e+".");else if(f=new Date(e),g=void 0!==s?new Date(s):void 0,QD(f)||CH.IIt(Cn,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+f+"."),void 0!==a){const i=new Date(f.getTime()+1e3*a);g?g.getTime()!==i.getTime()&&(CH.IIt(Cn,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),g=i):g=i}else g&&(a=(f.getTime()-g.getTime())/1e3);if(u&&(i.CLASS||CH.IIt(Cn,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),i.DURATION&&CH.IIt(Cn,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),g&&CH.IIt(Cn,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===l&&CH.IIt(Cn,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===l||void 0===f)throw new b("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{o:l,ESt:d,IP:f,bSt:g,ct:a,LSt:n,OSt:r,zSt:h,jSt:o,SSt:u,CSt:c}}function Iq(t,i){if(void 0===t)throw new b("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return lg.zv(t,i)}function Sq(t,i){const e=yt(t),s=Ls(e.DURATION),n=Iq(e.URI,i),r=yq(e.BYTERANGE),h="YES"===e.INDEPENDENT,o="YES"===e.GAP;if(void 0===s)throw new b("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{ct:s,xAt:{ST:n,cmt:r},$St:h,tEt:o}}function Eq(t){const i=yt(t);return{iEt:"YES"===i["CAN-BLOCK-RELOAD"],eEt:Ls(i["CAN-SKIP-UNTIL"]),sEt:"YES"===i["CAN-SKIP-DATERANGES"],nEt:Ls(i["HOLD-BACK"]),rEt:Ls(i["PART-HOLD-BACK"])}}function bq(t,i){const e=yt(t);if(void 0===e.URI)throw new b("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");const s=Iq(e.URI,i),n=Ls(e["LAST-MSN"]),r=Ls(e["LAST-PART"]);if(void 0===n)throw new b("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{xAt:s,hEt:n,oEt:r}}function Lq(t,i){var e;const s=yt(t),n=Ls(s["SKIPPED-SEGMENTS"]),r=null==(e=s["RECENTLY-REMOVED-DATERANGES"])?void 0:e.split("\t");if(void 0===n)throw new b("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{aEt:n,uEt:r,cEt:i}}function kq(t){const i=Ls(yt(t)["PART-TARGET"]);if(void 0===i)throw new b("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return i}function Cq(t){switch(fq(t)){case"VOD":return $H.lEt;case"EVENT":return $H.dEt;default:return CH.IIt(Cn,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),$H.KT}}function xq(t,i){const e=yt(t);let s,n;try{s=function(t){if(void 0===t)throw new b("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return xi.fEt;if("PART"===t)return xi._Et;throw new b("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(e.TYPE),n=Iq(e.URI,i)}catch(i){throw new b("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}const r=Ls(e["BYTERANGE-START"]),h=Ls(e["BYTERANGE-LENGTH"]);let o;return void 0===r&&void 0===h||(o={Cn:r||0,U:h}),{hA:s,xAt:{ST:n,cmt:o}}}r(),r(),r(),r(),r(),function(t){t[t.mp=0]="mp",t[t.vp=1]="vp",t[t.pp=2]="pp",t[t.USt=3]="USt"}(Qn||(Qn={})),function(t){t[t.fEt=0]="fEt",t[t._Et=1]="_Et"}(xi||(xi={})),function(t){t[t.DB=0]="DB",t[t.ZSt=1]="ZSt",t[t.RSt=2]="RSt"}(_u||(_u={})),function(t){t[t.KT=0]="KT",t[t.lEt=1]="lEt",t[t.dEt=2]="dEt"}($H||($H={})),r(),r(),r();var Oq=class t{gEt(){const t=this.wEt[this.AEt];return this.AEt+=1,t}vEt(){return this.wEt[this.AEt]}Ip(){const i=new t("");return i.AEt=0,i.wEt=this.wEt.slice(this.AEt),i}static mEt(t){if(!t)return[];return t.split(/[\r\n]+/).map((t=>t.trim())).filter((t=>t))}constructor(i){this.AEt=0,this.wEt=t.mEt(i)}};function jq(t,i,e){const s=t.xAt;let n=t._y,r=t.pEt,h=t.Cn;switch(e){case"#EXT-X-VERSION":n=function(t){const i=_q(t);return j(i)?(CH.IIt(Cn,"Playlist version is NaN: "+t+"."),1):i}(i);break;case"#EXT-X-INDEPENDENT-SEGMENTS":r=!0;break;case"#EXT-X-START":h=function(t){const i=yt(t),e=Ls(i["TIME-OFFSET"]);if(void 0===e)throw new b("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{yEt:e,MEt:"YES"===i.PRECISE}}(i);break;case"#EXT-X-DEFINE":CH.IIt(Cn,"Ignoring unsupported #EXT-X-DEFINE: "+i+".");break;default:CH.$y(Cn,"Ignoring unrecognized line or comment: "+i+".")}return{xAt:s,_y:n,pEt:r,Cn:h}}function zq(t,i){return t.map((t=>t.nE===_u.DB||t.KSt?t:At({},t,{KSt:Pq(i)})))}function Pq(t){const i=new DataView(new ArrayBuffer(16)),e=new Or;return e.Np(8),OA(i,e,Ce.fromNumber(t)),new T(i.buffer)}function Bq(t,i,e){CH.$y(Cn,"Parsing M3U8 playlist at "+t+".");const s=new Oq(e);if("#EXTM3U"!==s.gEt())throw new b("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(e)?function(t,i){let e;try{e=lg.zv(t)}catch(i){throw CH.IIt(Cn,"The master playlist has no valid base URI: "+t+"."),new b("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}let s={xAt:e,pEt:void 0,Cn:void 0,_y:void 0};const n=[],r=[],h=[],o=[];for(;;){const t=i.gEt();if(!t)break;try{const a=lq(t);switch(a){case"#EXT-X-MEDIA":{const i=gq(t,e);n.push(i);break}case"#EXT-X-STREAM-INF":{const s=wq(t,e,i.gEt());r.push(s);break}case"#EXT-X-I-FRAME-STREAM-INF":{const i=Aq(t,e);h.push(i);break}case"#EXT-X-SESSION-DATA":CH.IIt(Cn,"Ignoring unsupported #EXT-X-SESSION-DATA: "+t+".");break;case"#EXT-X-SESSION-KEY":{const i=vq(t,e);o.push(i);break}default:s=jq(s,t,a)}}catch(i){CH.IIt(Cn,"Ignoring unparsable line: "+t,i)}}let a=s._y;var u;const c=null!=(u=s.pEt)&&u,l=s.Cn;return void 0===a&&(CH.IIt(Cn,"The playlist has no #EXT-X-VERSION, assuming version is 2."),a=2),a>=8&&(r.some((t=>void 0!==t.LAt))||h.some((t=>void 0!==t.LAt)))&&(r.some((t=>void 0===t.LAt))||h.some((t=>void 0===t.LAt)))&&CH.IIt(Cn,"If one master playlist variant stream has a SCORE, all variants should have it."),{xAt:e,_y:a,pEt:c,Cn:l,TEt:h,NEt:o,Fy:n,DEt:r}}(t,s):function(t,i,e){let s={xAt:t,pEt:void 0,Cn:void 0,_y:void 0};const n=[];let r,h,o,a,u=!1,c=!1;const l=[],d=Qt();let f,_,g,w,A,v,m,p,y,M=[],T=[],N=!1,D=!1;const I=[],S=[];let E,L,k,C,x,O=0,j=!1,z=$H.KT,P=!1,B=0;try{x=lg.zv(t)}catch(i){throw CH.IIt(Cn,"The media playlist has no valid base URI: "+t+".",i),new b("HLSPlaylistParser - Could not parse HLS media playlist.")}const R=e.Ip();for(;void 0===L||void 0===k;){const t=R.gEt();if(!t)break;try{switch(dq(t)){case"#EXT-X-MEDIA-SEQUENCE":L=_q(t);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":k=_q(t)}}catch(i){CH.IIt(Cn,"Ignoring unparsable line: "+t,i)}}void 0===L&&(CH.$y(Cn,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),L=0),void 0===k&&(CH.$y(Cn,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),k=0);let U=L,Q=k;for(;;){const t=e.gEt();if(!t)break;let i=!1;try{const e=dq(t);switch(e){case"#EXTINF":i=!0,[f,_]=mq(t);break;case"#EXT-X-BYTERANGE":i=!0,g=Mq(t,O),g&&(O=g.Cn+g.U);break;case"#EXT-X-DISCONTINUITY":i=!0,N=!0,Q++;break;case"#EXT-X-KEY":{var F;i=!0;const e=vq(t,x);if(e.nE===_u.DB){d.clear(),y=void 0;break}var Y;const s=null!=(Y=null==(F=e.BSt)?void 0:F.toString())?Y:"identity";d.set(s,e),e.nE===_u.ZSt&&(y=e);break}case"#EXT-X-MAP":i=!0,A=Tq(t,x),v=y;break;case"#EXT-X-PROGRAM-DATE-TIME":i=!0,m=Nq(t);break;case"#EXT-X-GAP":i=!0,D=!0;break;case"#EXT-X-BITRATE":i=!0,p=_q(t);break;case"#EXT-X-TARGETDURATION":r=_q(t);break;case"#EXT-X-DATERANGE":{const i=Dq(t);n.push(i);break}case"#EXT-X-PART":{i=!0;const e=Sq(t,x);T.push(e);break}case"#EXT-X-PRELOAD-HINT":{const i=xq(t,x);I.push(i);break}case"#EXT-X-SKIP":{l.length>0&&CH.IIt(Cn,"#EXT-X-SKIP must appear before any #EXTINF tags."),i=!0;const e=Lq(t,U);B=e.aEt,C=e.uEt,U+=e.aEt;break}case"#EXT-X-SERVER-CONTROL":{const i=Eq(t);u=i.iEt,h=i.eEt,c=i.sEt,o=i.nEt,a=i.rEt;break}case"#EXT-X-RENDITION-REPORT":{const i=bq(t,x);S.push(i);break}case"#EXT-X-PART-INF":E=kq(t);break;case"#EXT-X-MEDIA-SEQUENCE":i&&CH.IIt(Cn,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":i&&CH.IIt(Cn,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":j=!0;break;case"#EXT-X-PLAYLIST-TYPE":z=Cq(t);break;case"#EXT-X-I-FRAMES-ONLY":P=!0;break;default:if(ew(e,"#"))s=jq(s,t,e);else{w=lg.zv(t,x);const i=A?{xAt:A,IEt:v}:void 0,e={NEt:zq(og(d),U),FI:M,SEt:T,ct:f,OP:_,EEt:N,xAt:{cmt:g,ST:w},bEt:i,LEt:m,tEt:D,kEt:p,cEt:U,CEt:Q};l.push(e),U++,M=[],T=[],f=void 0,_=void 0,N=!1,g=void 0,w=void 0,m=void 0,D=!1,p=void 0}}}catch(i){CH.IIt(Cn,"Ignoring unparsable line: "+t,i)}}if(T.length){const t=A?{xAt:A,IEt:y}:void 0,i={NEt:zq(og(d),U),FI:M,SEt:T,ct:f,OP:_,EEt:N,xAt:void 0,bEt:t,LEt:m,tEt:D,kEt:p,cEt:U,CEt:Q};l.push(i)}let G=s._y;var V;const W=null!=(V=s.pEt)&&V,H=s.Cn;void 0===G&&(CH.IIt(Cn,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),G=2),void 0===r&&CH.IIt(Cn,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");const q=l.length,X=q>0;X||CH.IIt(Cn,"The HLS media playlist contains no segments.");const Z=X&&l[q-1].SEt.length>0;return Z&&void 0===E&&CH.IIt(Cn,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),Z&&void 0===a&&CH.IIt(Cn,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{iEt:u,eEt:h,sEt:c,xEt:n,CEt:k,OEt:j,pEt:W,nEt:o,jEt:P,cEt:L,aEt:B,rEt:a,vSt:E,zEt:z,PEt:I,uEt:C,BEt:S,REt:r,bet:l,Cn:H,xAt:x,UEt:i,_y:G}}(t,i,s)}r(),r();var Rq=class{get xAt(){return this.xDt.xAt}get Het(){return this.QEt}set Het(t){this.QEt=t?Qq(t):void 0,this.FEt=!0}get YEt(){return this.FEt}get jIt(){return this.GEt}get bIt(){return this.GEt.filter((t=>t.hA===Qn.mp))}get LIt(){return this.GEt.filter((t=>t.hA===Qn.vp))}get VEt(){return this.GEt.filter((t=>t.hA===Qn.pp))}get WEt(){return this.GEt.filter((t=>t.hA===Qn.USt))}HEt(t){for(const i of this.GEt){const e=i.xDt.HEt(t);if(void 0!==e)return e}}qEt(t){for(const i of this.GEt){const e=i.xDt.qEt(t);if(void 0!==e)return e}}XEt(t){Et(this.GEt,t)}constructor(t,i,e){var s,n,r,h;this.o=Uq++,this.LAt=void 0,this.mIt=void 0,this.bAt=void 0,this.FEt=!1,this.GEt=[],this.xDt=i,this.Jz=t.Jz,this.bAt=t.bAt,this.LAt=t.LAt,this.QEt=t.Het?Qq(t.Het):void 0,this.mIt=t.mIt,this.lct=t.lct,this.GSt=null!=(s=t.GSt)?s:"ZEt"+this.o,this.qSt=null!=(n=t.qSt)?n:"KEt"+this.o,this.HSt=null!=(r=t.HSt)?r:"JEt"+this.o,this.VSt=null!=(h=t.VSt)?h:"$Et"+this.o,this.GEt=e}},Uq=0;function Qq(t){return At({},t,{wIt:t.wIt?jp(t.wIt):void 0})}r(),r(),r();var Jr,Fq=class{get zN(){var t;return this.WN+(null!=(t=this.tbt)?t:0)}get ibt(){return this.ebt}get NEt(){return this.sbt.NEt}nbt(t,i){this.WN=t,this.ebt=i}constructor(t,i,e,s,n){this.T8=void 0,this.sbt=t,this.rbt=i,this.WN=e,this.ebt=s,this.ct=n.ct,this.xAt=n.xAt,this.$St=n.$St,this.tEt=n.tEt}},Yq=class{get zN(){var t;return this.WN+(null!=(t=this.hbt)?t:0)}get obt(){return this.WN}get ct(){return this.Rk}get xAt(){return this.abt}get ubt(){return this.cbt}get ibt(){return this.ebt}get SEt(){return this.lbt}get dbt(){return this.fbt}get PN(){var t;return this.zN+(null!=(t=this.Rk)?t:this.fbt)}set tbt(t){this.hbt=t;for(const i of this.lbt)i.tbt=t}get tbt(){return this.hbt}_bt(t){return this.lbt[t]}gbt(t){for(let i=0;i<this.lbt.length;i++){const e=this.lbt[i],s=e.zN,n=s+e.ct;if(s<=t&&t<=n)return t===n&&i+1<this.lbt.length?this.lbt[i+1]:e}}wbt(t){for(let i=this.lbt.length-1;i>=0;i--){const e=this.lbt[i];if(e.zN<=t)return e}}Abt(t){let i=this.wbt(t);for(;i&&!i.$St&&i.rbt>0;)i=this._bt(i.rbt-1);return i}nbt(t,i,e){const s=t.SEt.length!==this.lbt.length||e!==this.ebt;this.cbt=i,this.ebt=e,this.Rk=t.ct,null!=this.LEt||(this.LEt=t.LEt),void 0===this.abt&&(this.abt=t.xAt),s&&this.vbt(t.SEt)}vbt(t){this.lbt.length>t.length&&(this.lbt.length=t.length);let i=0;for(let e=0;e<t.length;e++){const s=t[e],n=this.ebt&&e===t.length-1,r=this.WN+i;if(e<this.lbt.length)this.lbt[e].nbt(r,n);else{const t=new Fq(this,e,r,n,s);this.lbt.push(t)}i+=s.ct}this.fbt=i}mbt(){Ri(this.lbt),this.fbt=0}constructor(t,i,e,s,n){this.T8=void 0,this.lbt=[],this.fbt=0,this.WN=t,this.bEt=n.bEt,this.cbt=e,this.ebt=s,this.Rk=n.ct,this.LEt=n.LEt,this.abt=n.xAt,this.tEt=n.tEt,this.cEt=n.cEt,this.EEt=n.EEt,this.CEt=i,this.NEt=n.NEt,this.vbt(n.SEt)}};r(),function(t){t.pbt="YES",t.ybt="v2"}(Jr||(Jr={})),r();var Rr=class extends Xo{};r(),r(),r();var Gq=class extends gn{get va(){return this.Xa||(this.Xa=function(t){return _l(Rh(t),{get content(){return t.O},get class(){return t.ESt},get startDate(){return t.IP},get endDate(){return t.bSt},get duration(){return t.ct},get plannedDuration(){return t.LSt},get endOnNext(){return t.SSt},get scte35Cmd(){return t.xSt},get scte35Out(){return t.jSt},get scte35In(){return t.zSt},get customAttributes(){return t.kSt}})}(this)),this.Xa}get ESt(){return this.Mbt}get IP(){return this.Tbt}get bSt(){return this.Nbt}get ct(){return this.Rk}get LSt(){return this.Dbt}get SSt(){return this.Ibt}get xSt(){return this.Sbt}get jSt(){return this.Ebt}get zSt(){return this.bbt}get kSt(){return this.Lbt}Qn(t){let i=!1;var e;(void 0===this.Mbt&&void 0!==t.ESt&&(i=!0,this.Mbt=t.ESt),void 0===this.Nbt&&void 0!==t.bSt&&(i=!0,this.Nbt=t.bSt),void 0===this.Rk&&void 0!==t.ct&&(i=!0,this.Rk=t.ct),void 0===this.Dbt&&void 0!==t.LSt&&(i=!0,this.Dbt=t.LSt),!this.Ibt&&t.SSt&&(i=!0,this.Ibt=t.SSt),i=this.updateCustomAttributes(t,i),void 0===this.Sbt&&void 0!==t.xSt&&(i=!0,this.Sbt=t.xSt),void 0===this.Ebt&&void 0!==t.jSt&&(i=!0,this.Ebt=t.jSt),void 0===this.bbt&&void 0!==t.zSt&&(i=!0,this.bbt=t.zSt),this.kbt(),this.Cbt(),this.xbt(),i)&&(this.Co(new gu(this)),null==(e=this.HN)||e.Co(new Ua(this)))}updateCustomAttributes(t,i){let e=i;if(t.kSt)for(const i of _.keys(t.kSt))void 0===this.Lbt[i]&&(e=!0,this.Lbt[i]=t.kSt[i]);return e}kbt(){this.Rk&&!this.Nbt&&(this.Nbt=new Date(this.Tbt.getTime()+qt(this.Rk)))}Cbt(){this.Nbt&&!this.Rk&&(this.Rk=FD(this.Nbt.getTime()-this.Tbt.getTime()))}xbt(){this.XN===1/0&&(this.Nbt||this.Rk)&&(this.XN=Vq(this.WN,this.Rk,this.Tbt,this.Nbt))}constructor(t,i){super(i,Vq(i,t.ct,t.IP,t.bSt),void 0,!1,t.o),this.Mbt=t.ESt,this.Tbt=t.IP,this.Nbt=t.bSt,this.Rk=t.ct,this.Dbt=t.LSt,this.Ibt=Boolean(t.SSt),this.Lbt=t.kSt||{},this.Sbt=t.xSt,this.Ebt=t.jSt,this.bbt=t.zSt,this.kbt(),this.Cbt()}};function Vq(t,i,e,s){return li(i)?t+i:s?t+(FD(s.getTime())-FD(e.getTime())):1/0}var Wq=class extends lx{Qn(t,i){Hq(this,qq(t),i)}vE(t){Xq(this.L.xw,t),super.vE(t)}constructor(){super(void 0,void 0,Ks.DATE_RANGE)}};function Hq(t,i,e){const s=t.L.xw;for(let e=s.length-1;e>=0;e--){const n=s[e],r=p(i,(t=>t.o===n.o));r?n.Qn(r):t.DS(n)}for(const s of i){const i=s.IP;if(void 0!==i&&!t.u0(s.o)){const n=e(i),r=new Gq(s,n);Xq(t.L.xw,r),t.vE(r)}}}function qq(t){const i=Qt(),e=[];for(const s of t)if(i.has(s.o)){const t=i.get(s.o),e=At({},t,kg(s),{kSt:At({},t.kSt,s.kSt)});i.set(s.o,e)}else i.set(s.o,s),e.push(s.o);return e.map((t=>i.get(t)))}function Xq(t,i){const e=J_(t,(t=>t.ESt===i.ESt));e&&e.SSt&&e.Qn({o:e.o,bSt:i.IP})}var Zq=String.fromCharCode(95),Kq=Zq+"HLS_msn",Jq=Zq+"HLS_part",$q=Zq+"HLS_skip",tX="HLSMediaPlaylist",iX=class{get OEt(){if(0===this.Uvt.length)return!1;return this.Uvt[this.Uvt.length-1].ibt}get ct(){return this.Rk}get yg(){return this.I$}get Obt(){return this.jbt}get mSt(){return this.zbt}get vSt(){return this.Pbt}get nEt(){return this.OEt?0:this.Bbt?this.Bbt:this.zbt?3*this.zbt:void 0}get rEt(){var t;return null!=(t=this.Rbt)?t:this.Pbt?3*this.Pbt:void 0}get iEt(){return this.Ubt}get eEt(){return this.Qbt}get sEt(){return this.Fbt}get zEt(){return this.Ybt}get Gbt(){return void 0!==this.vSt}get Vbt(){if(this.OEt)return!0;const t=lg.f_()/1e3,i=this.Wbt,e=this.Hbt;return void 0!==i&&t-i<e}get Wbt(){return this.qbt}get tbt(){return this.hbt}get Hbt(){var t;return null!=(t=this.zbt)?t:void 0===this.qbt?5:1}get bet(){return this.Uvt}get xEt(){return this.Xbt}get Zbt(){return this.Kbt}set Zbt(t){this.Kbt=t}get Cn(){return this.JI}get Jbt(){return this.$bt}_It(t){if(!t)return this.xAt;const i=lg.Dh(this.xAt);return void 0!==t.cEt&&i.searchParams.append(Kq,String(t.cEt)),void 0!==t.tLt&&i.searchParams.append(Jq,String(t.tLt)),void 0!==t.Yp&&i.searchParams.append($q,t.Yp),i.href}oht(t){const i=this.Uvt;if(0===i.length)return;const e=t-i[0].cEt;return e<0||e>=i.length?void 0:i[e]}iLt(t){if(0===this.Uvt.length)return;const i=HG(eX.gL,this.Uvt,t);if(!(i<0)){const e=this.Uvt[i];return t===e.PN&&i+1<this.Uvt.length?this.Uvt[i+1]:e}{const i=this.Uvt[this.Uvt.length-1];if(t===i.PN)return i}}eLt(t){if(0===this.Uvt.length)return;const i=this.Uvt[0];if(t<i.PN)return i;const e=this.Uvt[this.Uvt.length-1];return t>=e.zN?e:this.iLt(t)}HEt(t){const i=this.eLt(t);if(void 0===i)return;for(let e=i.cEt-this.Uvt[0].cEt;e>=0;e--){const i=this.Uvt[e];if(void 0!==i.LEt)return new Date(i.LEt.getTime()+1e3*(t-i.zN))}}qEt(t){let i;for(const e of this.Uvt)if(sX(e))if(void 0===i)i=e;else{if(!(e.LEt.getTime()<=t.getTime()))break;i=e}if(void 0!==i)return i.zN+(t.getTime()-i.LEt.getTime())/1e3}sLt(t){switch(t){case xi.fEt:return this.nLt;case xi._Et:return this.rLt;default:return}}nbt(t){var i;void 0===this.zbt&&(this.zbt=null!=(i=t.REt)?i:this.hLt(t));void 0===this.Bbt&&void 0!==t.nEt&&(this.Bbt=t.nEt),void 0===this.Pbt&&void 0!==t.vSt&&(this.Pbt=t.vSt),void 0===this.Rbt&&void 0!==t.rEt&&(this.Rbt=t.rEt),this.Ubt=t.iEt,this.Qbt=t.eEt,this.Fbt=t.sEt,this.Ybt=t.zEt,this.Gvt(t),this.oLt(t);const e=p(t.PEt,(t=>t.hA===xi.fEt)),s=p(t.PEt,(t=>t.hA===xi._Et));this.nLt=e?{xAt:e.xAt,hA:e.hA,CEt:t.CEt}:void 0,this.rLt=s?{xAt:s.xAt,hA:s.hA,CEt:t.CEt}:void 0,this.qbt=lg.f_()/1e3,this.aLt(),null!=this.JI||(this.JI=t.Cn)}aLt(){this.jbt=this.uLt(),this.I$=this.cLt(this.jbt),this.Rk=this.lLt()}uLt(){const t=this.bet;if(0===t.length)return Ki.lR();const i=t[0].zN,e=t[t.length-1].PN;return new Ki([i,e])}cLt(t){if(0===t.U||this.OEt)return t;const i=t.Cn(0),e=t.jn(0)-this.jpt;return e<i?Ki.uR(i):new Ki([i,e])}get jpt(){return this.OEt?0:null!=(e=null!=(i=null!=(t=this.dLt)?t:this.rEt)?i:this.nEt)?e:0;var t,i,e}lLt(){return 0===this.Uvt.length?0:this.OEt?Co(this.Uvt,(t=>{var i;return null!=(i=t.ct)?i:t.dbt})):1/0}hLt(t){let i;for(const e of t.bet)if(void 0!==e.ct){const t=x.max(1,x.round(e.ct));(void 0===i||i<t)&&(i=t)}if(void 0===i)throw new b("HLSModel - Could not determine required segment target duration.");return i}Gvt(t){if(0===t.bet.length)return Ri(this.Uvt),void this.fLt();const i=this._Lt(t);if(!i)return;let e,s,n;i.gLt>0&&this.Uvt.splice(0,i.gLt);const r=t.aEt;if(r>0){if(r>this.Uvt.length)throw new Rr("New playlist skips over missing segments.");const i=this.Uvt[r-1];if(void 0===i.ct)throw new Rr("New playlist skips over an incomplete segment.");e=i.obt+i.ct,n=i.CEt-t.CEt,s=r;for(let t=0;t<r;t++)this.Uvt[t].mbt()}else e=i.wLt,n=0,s=0;for(let i=0;i<t.bet.length;i++,s++){const r=t.bet[i],h=0===i,o=t.OEt&&i===t.bet.length-1,a=r.ct,u=r.CEt+n;if(s<this.Uvt.length){const t=this.Uvt[s];0,t.nbt(r,h,o)}else{let t=r;if(this.Uvt.length>0&&void 0===t.bEt){t=At({},t,{bEt:this.Uvt[this.Uvt.length-1].bEt})}const i=new Yq(e,u,h,o,t);i.tbt=this.hbt,this.Uvt.push(i)}void 0!==a&&(e+=a)}}_Lt(t){if(0===this.Uvt.length)return{gLt:0,wLt:0};const i=this.Uvt[0].cEt,e=this.Uvt[this.Uvt.length-1].cEt,s=t.bet[0].cEt-t.aEt,n=t.bet[t.bet.length-1].cEt;let r=0,h=0;if(s<i){const e=this.bet[0].LEt,n=t.bet[0].LEt;if(!(e&&n&&e<n))return void CH.IIt(tX,"Ignoring older playlist (first media sequence number is "+s+", but previous playlist already started at "+i+")");r=this.Uvt.length,this.fLt()}else{if(n<e)return void CH.IIt(tX,"Ignoring older playlist (last media sequence number is "+n+", but previous playlist already ended at "+e+")");if(e<s){var o;h=null!=(o=function(t,i){const e=J_(t,(t=>void 0!==t.LEt));if(void 0===e)return;const s=function(t){let i=0;for(const s of t){if(s.EEt)return;if(s.LEt)return[s,i];var e;i+=null!=(e=s.ct)?e:0}return}(i.bet);if(void 0===s)return;const[n,r]=s;if(e.CEt!==n.CEt)return;const h=(n.LEt.getTime()-e.LEt.getTime())/1e3;return e.obt+h-r}(this.Uvt,t))?o:function(t,i,e){const s=t[t.length-1];var n;const r=null!=(n=s.ct)?n:x.max(e,s.dbt),h=e*(i-s.cEt-1);return s.obt+r+h}(this.Uvt,s,this.zbt),CH.DIt(tX,"New playlist (starting at "+s+") is entirely after previous playlist (ending at "+e+"), resetting playlist and restarting at "+h+"s"),r=this.Uvt.length,this.fLt()}else{0;const t=Fa(this.Uvt,(t=>t.cEt===s));0,h=this.Uvt[t].obt,t>0&&(r=t)}}return{gLt:r,wLt:h}}oLt(t){let i=t.xEt.map(oq);if(t.sEt&&t.UEt.Yp===Jr.ybt&&(i=this.Xbt.concat(i)),this.Xbt=qq(i),t.uEt)for(const i of t.uEt){const t=Fa(this.Xbt,(t=>t.o===i));t>=0&&Dt(this.Xbt,t)}}ALt(t,i){if(this.hbt!==t){this.hbt=t;for(const t of this.Uvt)t.tbt=this.hbt;this.aLt()}this.$bt=i}fLt(){this.hbt=void 0,this.$bt=void 0}constructor(t,i,e){this.qbt=void 0,this.nLt=void 0,this.rLt=void 0,this.zbt=void 0,this.Pbt=void 0,this.Bbt=void 0,this.Rbt=void 0,this.Uvt=[],this.Xbt=[],this.Ubt=!1,this.Qbt=void 0,this.Fbt=!1,this.Ybt=$H.KT,this.I$=Ki.lR(),this.jbt=Ki.lR(),this.Rk=void 0,this.Kbt=-1/0,this.$bt=void 0,this.xAt=t,this.JI=i,this.dLt=e}},eX=class t{static get gL(){return null!=this.Wet||(this.Wet=new t),this.Wet}zvt(t){return t.zN}Pvt(t){return t.PN}Bvt(t,i){return Ee(t,i)}Rvt(t,i,e){return(t-i)/(e-i)}};function sX(t){return void 0!==t.LEt}function Qh(t){return void 0!==t.SEt}function nX(t){return Qh(t)?t.ubt:0===t.rbt&&t.sbt.ubt}function rX(t,i){return Qh(t)?Qh(i)?t.cEt+1===i.cEt:0===i.rbt&&rX(t,i.sbt):t.rbt===t.sbt.SEt.length-1?rX(t.sbt,i):!Qh(i)&&t.sbt===i.sbt&&t.rbt+1===i.rbt}r(),r();var hX=class{vLt(t){const i=this.mLt.get(t);return void 0!==i&&oX(i)}pLt(t){return this.MLt(t).yLt.PL}TLt(t){const i=this.mLt.get(t);if(!i||!oX(i))throw new b("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return i}NLt(t){return this.TLt(t).CI}DLt(t,i){const e=Qh(i)?i:i.sbt,s=this.TLt(e.CEt);let n=t.mN(s.CI);if(s.ILt){const t=Pt.dI(i.zN).MD(n);if(t.mD().lD(Ym())){const i=x.round(t.cD()/Ba().cD());n=n.mN(Ba().KD(i))}}return n}SLt(t,i){return this.DLt(t,i).MD(t)}ELt(t,i,e,s,n){const r=this.MLt(t);void 0===r.CI&&(r.bLt.some((t=>t.Urt===i))||(r.bLt.push({Urt:i,LLt:e,kLt:s.aI(e.zy),ILt:n}),this.CLt(r)))}CLt(t){if(t.CI||!this.xLt(t))return;const i=eh(t.bLt,aX);Ri(t.bLt),t.CI=i.kLt.MD(i.LLt),t.ILt=i.ILt,t.yLt.jL()}xLt(t){return this.OLt.length>0&&this.OLt.every((i=>t.bLt.some((t=>t.Urt===i))))}MLt(t){if(this.mLt.has(t))return this.mLt.get(t);{const i={CI:void 0,ILt:!1,yLt:new Eo,bLt:[]};return this.mLt.set(t,i),i}}jLt(t){this.OLt=t,this.mLt.forEach((t=>this.CLt(t)))}e_(){this.mLt.forEach((t=>t.yLt.c_())),this.mLt.clear()}constructor(){this.OLt=[],this.mLt=_e()}};function oX(t){return void 0!==t.CI}function aX(t,i){return t.ILt||i.ILt?function(t,i){let e=t.MD(i);return t.ND()||i.ND()||(e.fD(Ym())?e=e.MD(Ba()):e.vD(Ym().yD())&&(e=e.mN(Ba()))),e}(t.LLt,i.LLt).dD(Pt.LD):t.LLt.dD(i.LLt)}var uX=class{get zLt(){return this.PLt}get EIt(){return this.BLt}get WT(){return this.RLt}nbt(t,i){if(nq(t))if(0===this.BLt.length)this.ULt(t);else{if(!i)return void CH.IIt("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");i.xDt.nbt(t)}else{if(0!==this.BLt.length)return void CH.IIt("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.QLt(t)}}ULt(t){const i=this.FLt(t.xAt);i.nbt(t);const e=this.YLt(Qn.mp,i),s=this.YLt(Qn.vp,i),n=new Rq({xAt:i.xAt,Jz:0,bAt:0,LAt:NaN,Het:void 0,mIt:void 0,lct:0,YSt:[],WSt:void 0,XSt:void 0,GSt:void 0,qSt:void 0,HSt:void 0,VSt:void 0},i,[e,s]);this.BLt.push(n)}QLt(t){this.PLt.push(...t.NEt);const i=this.GLt(t);for(const e of t.DEt){const s=i.filter((t=>lX(t,e)));this.VLt(e,s);const n=new Rq(e,this.FLt(e.xAt,t.Cn),s);this.BLt.push(n)}}FLt(t,i){let e=this.WLt.get(t);return void 0===e&&(e=new iX(t,i,this.dLt),this.WLt.set(t,e)),e}GLt(t){const i=[];for(const e of t.Fy)if(void 0===e.xAt){for(const s of t.DEt)if(cX(e.hA,e.PDt,s)){const t=new mH(e,this.FLt(s.xAt));i.push(t)}}else{const t=new mH(e,this.FLt(e.xAt));i.push(t)}return i}YLt(t,i){return new mH({hA:t,xAt:void 0,PDt:"",gs:void 0,QSt:void 0,l:"",ODt:!0,jDt:!1,zDt:!1,UDt:void 0,BDt:void 0,FSt:void 0},i)}VLt(t,i){const e=i.filter((t=>t.hA===Qn.mp)),s=i.filter((t=>t.hA===Qn.vp)),n=t.Het&&(t.Het.wIt||t.Het.gIt);if((!n||t.Het.wIt)&&0===s.length){const e=this.YLt(Qn.vp,this.FLt(t.xAt));i.push(e)}if((!n||t.Het.gIt)&&0===e.length){const e=this.YLt(Qn.mp,this.FLt(t.xAt));i.push(e)}t.Het&&t.Het.PSt}HLt(t){for(const i of this.BLt)for(const e of i.jIt)if(e===t)return e}qLt(t){for(const i of this.BLt)if(i===t)return i}XLt(t){for(const i of this.BLt)if(Ho(i.jIt,t))return i}e_(){Ri(this.BLt),Ri(this.PLt),this.WLt.clear(),this.RLt.e_()}constructor(t,i){this.BLt=[],this.PLt=[],this.WLt=Qt(),this.RLt=new hX,this.ZLt=t,this.dLt=i}};function cX(t,i,e){switch(t){case Qn.mp:return e.GSt===i;case Qn.vp:return e.qSt===i;case Qn.pp:return e.HSt===i;case Qn.USt:return e.VSt===i}return!1}function lX(t,i){return cX(t.hA,t.PDt,i)&&(!t.RDt||t.xDt.xAt===i.xAt)}r();var dX=class extends mg{constructor(t){super(Ir.KLt),this.XDt=t}};r();var Ir,fX=class extends mg{constructor(t){super(Ir.JLt),this.XDt=t}},Wn="HlsModelUpdater";!function(t){t.KLt="$Lt",t.JLt="tkt"}(Ir||(Ir={}));var _X=class extends i{get ikt(){return this.ekt}get skt(){return this.nkt}get Tr(){return this.BAt}get rkt(){return this.hkt}async okt(t){const i=this.BAt.ZLt;if(!i)throw new b("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");this.Co(new he);const e=await this.akt(i,{},2,!0,t),s=e.xDt;if(!sq(s)&&!nq(s))throw new b("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");sq(s)||CH.$y(Wn,"Detected media playlist only HLS stream."),this.ukt(s),e.ckt&&(this.nkt=!0,await this.lkt(t)),this.ekt=!0}async dkt(t,i,e,s){const n=this.BAt.HLt(t);if(!n)throw new b("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");const r={cEt:i,tLt:e,Yp:vX(n)},h=qt(x.max(1,3*t.xDt.Hbt));try{await this.fkt(n,r,s,h)}catch(t){throw go(t),this._kt(n),t}}gkt(t,i){const e=this.BAt.HLt(t);if(!e)throw new b("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");const s={cEt:void 0,tLt:void 0,Yp:vX(e)},n=qt(x.max(1,3*t.xDt.Hbt));return this.fkt(e,s,i,n)}wkt(t,i){return this.Akt.has(t.Vw)||this.Akt.set(t.Vw,new Eo),hh(this.Akt.get(t.Vw).PL,i)}_kt(t){this.Co(new fX(t))}async fkt(t,i,e,s){const n=t.xDt._It(i);let r;try{r=(await this.akt(n,i,0,this.nkt,e,s)).xDt}catch(i){throw go(i),t.xDt.Zbt=lg.f_(),i}if(!nq(r))throw new b("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");if(this.vkt&&t!==this.vkt&&!this.vkt.xDt.Vbt)try{await this.gkt(this.vkt,e)}catch(i){go(i),this.vkt=t,this.mkt()}try{this.ukt(r,t)}catch(n){if(n instanceof Rr&&void 0!==i.Yp){const n=At({},i,{Yp:void 0});return this.fkt(t,n,e,s)}throw n}this.pkt(t),this.vkt=t}async akt(t,i,e,s,n,r){if(CH.$y(Wn,"Loading HLS playlist at "+t+"."),s){const i=await this.ykt(t,n);if(void 0!==i)return{xDt:i,ckt:!0}}return{xDt:await this.Mkt(t,i,e,n,r),ckt:!1}}async ykt(t,i){try{const e=await this.Vht.ret([t]);if(Pi(i),void 0!==e)return Bq(e.responseURL,{},e.data)}catch(t){go(t)}}async Mkt(t,i,e,s,n){const r={zu:t,rE:Rt.Ru,uE:this.uyt,nE:Yc.GET,hA:Ru.QS,a_:s,NS:n},h=await pu((()=>this.Tkt(r)),s,e);return Bq(h.AE,i,h.Cp)}async Tkt(t){const i=await this.gE.mS(t);return{Cp:await i.wE(),AE:i.AE}}async lkt(t){Pi(t);const i=[];for(const e of this.BAt.EIt)for(const s of e.jIt)i.push(this.Nkt(s,t));await Promise.all(i)}async Nkt(t,i){try{const e=await this.Vht.ret([t.xDt.xAt]);Pi(i),void 0===e||t.xDt.Vbt||await this.gkt(t,i)}catch(t){go(t)}}mkt(){for(const t of this.BAt.EIt)for(const i of t.jIt)i!==this.vkt&&void 0!==i.xDt.tbt&&(i.xDt.Vbt?this.pkt(i):i.xDt.fLt())}pkt(t){if(0!==t.xDt.bet.length){if(!this.vkt)return this.vkt=t,void this.vkt.xDt.ALt(0,void 0);if(this.Dkt(this.vkt),!this.Dkt(t)&&void 0===t.xDt.tbt){const i=this.Ikt(t,this.vkt);CH.DIt(Wn,"Assuming global timeline offset of "+i+"s for rendition "+t.xDt.xAt+"."),t.xDt.ALt(i,void 0)}}}Ikt(t,i){if(gX(t)){const e=t.xDt.bet[0],s=i.xDt.bet[0];return CH.DIt(Wn,"Synchronizing by start of VOD: "+s.zN+" vs "+e.zN),s.zN-e.obt}const e=function(t,i){let e=t.length-1,s=i.length-1;for(;e>=0&&s>=0;){const n=t[e],r=i[s];if(n.CEt>r.CEt)e--;else if(n.CEt<r.CEt)s--;else if(n.EEt){if(r.EEt)return{segment:n,referenceSegment:r};s--}else e--}return}(t.xDt.bet,i.xDt.bet);if(void 0!==e){const{segment:t,referenceSegment:i}=e;return CH.DIt(Wn,"Synchronizing by start of discontinuity #"+i.CEt+": "+i.zN+" vs "+t.zN),i.zN-t.obt}const s=AX(t.xDt.bet);if(void 0!==s){const t=AX(i.xDt.bet);if(void 0!==t){CH.DIt(Wn,"Synchronizing by PDT:",t.LEt.toISOString()+" vs "+s.LEt.getTime());return t.zN-s.obt-(t.LEt.getTime()-s.LEt.getTime())/1e3}}const n=wX(i),r=wX(t);var h;const o=null!=(h=t.xDt.tbt)?h:0;return CH.DIt(Wn,"Synchronizing by last segment:",n+" vs "+r),n-r+o}Dkt(t){const i=this.BAt.HLt(t);if(!i)return!1;if(gX(i))return!1;const e=function(t,i){return J_(t,(t=>void 0!==t.T8&&i.vLt(t.CEt)))}(i.xDt.bet,this.BAt.WT);if(void 0===e)return!1;if(i.xDt.Jbt===e.CEt)return!0;const s=this.BAt.WT.DLt(e.T8,e).cD()-e.obt;return CH.DIt(Wn,"Synchronize by media timestamp: "+s+"s for rendition "+t.xDt.xAt+"."),i.xDt.ALt(s,e.CEt),(void 0===this.vkt||void 0===this.vkt.xDt.Jbt||this.vkt.xDt.Jbt<e.CEt)&&(this.vkt=i),!0}ukt(t,i){var e;(this.BAt.nbt(t,i),nq(t)&&i)&&(this.hkt=i,this.Co(new dX(i)),null==(e=this.Akt.get(i.Vw))||e.jL(),this.Akt.delete(i.Vw));this.Co(new $n)}Skt(t,i){for(const e of this.BAt.EIt){const s=p(e.LIt,(t=>t.xDt===i));void 0!==s&&void 0===t.wIt&&e.XEt(s);const n=p(e.bIt,(t=>t.xDt===i));void 0!==n&&void 0===t.gIt&&e.XEt(n),void 0===s&&void 0===n||(e.Het=aq(e.Het,t))}}e_(){this.Vo(),this.BAt.e_(),this.Akt.forEach((t=>t.c_())),this.Akt.clear()}constructor(t,i,e,s,n){super(),this.gE=t,this.Vht=i,this.uyt=e,this.ekt=!1,this.nkt=!1,this.vkt=void 0,this.hkt=void 0,this.Akt=_e(),this.BAt=new uX(s,n)}};function gX(t){return t.xDt.OEt||t.xDt.zEt===$H.dEt}function wX(t){const i=t.xDt.bet;return i[i.length-1].PN}function AX(t){return J_(t,(t=>void 0!==t.LEt))}function vX(t){if(void 0!==t.xDt.eEt&&!t.xDt.OEt&&!(void 0===t.xDt.Wbt||lg.f_()/1e3-t.xDt.Wbt>=t.xDt.eEt/2))return t.xDt.sEt?Jr.ybt:Jr.pbt}var mX=class{get nt(){return this.W_t}oLt(t){if(0===t.xDt.xEt.length)return;this.Ekt||(this.Ekt=this.vP.dE(Oi.Mp,void 0,void 0,void 0,void 0,Ks.DATE_RANGE),this.W_t.tt(this.Ekt));Hq(this.Ekt,t.xDt.xEt,(i=>{var e;return null!=(e=t.xDt.qEt(i))?e:NaN}))}constructor(t,i,e){this.bkt=t=>{this.Lkt.hlsDateRange&&this.oLt(t.XDt)},this.Lkt=t,this.oTt=i,this.vP=e,this.W_t=new jn,this.oTt.yn(Ir.KLt,this.bkt)}};r();var pX=class extends mg{constructor(){super(Au.IDt)}};r(),r(),r();var ah=class{get kkt(){return this.HK}get b_(){return QU(this.Ist.b_,this.Ist.EJ)}get bet(){return this.Uvt}get $_t(){return this.X_t}Ckt(t){var i;return null==(i=this.xkt(t))?void 0:i.XDt}Xat(t){this.HK=t,this.Okt()}qat(t,i,e,s,n,r){this.Uvt.push({XDt:t,Ght:i,jkt:Ki.cR(n,r),zkt:Ki.cR(e,s)}),this.Okt()}xkt(t){return p(this.Uvt,(i=>i.zkt.gr(t)))}oht(t){return p(this.Uvt,(i=>i.Ght===t))}Nat(t,i){return p(this.Uvt,(e=>e.XDt===t&&rX(e.Ght,i)))}NJ(){const t=this.b_;t.U>0&&(this.X_t=t.jn(t.U-1))}Okt(){const t=this.Ist.b_;this.Uvt=this.Uvt.filter((i=>0!==t.Sn(i.zkt).U))}constructor(t){this.Ist=t,this.Uvt=[],this.HK=void 0,this.X_t=void 0}},yX=class{get hA(){return this.v0}get Pkt(){return this.v0===hv.mp||this.v0===hv.vp}get Bkt(){return this.zrt}get Rkt(){return this.Ukt}get Qkt(){return void 0!==this.Fkt}Ykt(){if(this.Qkt)throw new b("Cannot perform new operation while BufferAppender is still busy")}mst(t){this.Ist!==t&&(this.Ykt(),this.Ist=t,this.zrt=new ah(t))}Gkt(){return this.Fkt?this.Fkt.PL:Promise.resolve()}Vkt(t){var i;const e=this.zrt.$_t,s=this.zrt.b_;if(void 0===e)return!1;const n=x.min(t,e);var r;return null!=(r=null==(i=s.QB().XB(this.Rkt).oR(n))?void 0:i.gr(e))&&r}Wkt(t){return this.zrt.Ckt(t)}c_(){this.aO.c_(),this.aO=new xs}QK(t){this.Ykt(),this.Fkt=new Eo;const i=i=>{this.qkt.Hkt(t),this.Xkt(i)};this.FK(t,this.aO.a_).then(i,i)}async FK(t,i){CH.DIt(rr,"Appending initializer",Nt(t.Zkt.xAt)),await this.Ist.QK(t,i),CH.DIt(rr,"Appended initializer",Nt(t.Zkt.xAt)),this.zrt.Xat(t)}out(t){this.Ykt(),this.Fkt=new Eo;const i=i=>{this.qkt.Hkt(t),this.Xkt(i)};this.Kkt(t,this.aO.a_).then(i,i)}async Kkt(t,i){const e=t.XDt;if(void 0===e.xDt.mSt)throw new b("MediaBufferWrapper - Cannot append HLSAsset to "+this.v0+" MediaBuffer for a HLSRendition with an undefined targetDuration.");const s=this.zrt.b_.jB,n=this.Ist.b_;CH.DIt(rr,"Appending",Nt(t.Zkt.xAt)),await this.Ist.BK(t,i),CH.DIt(rr,"Appended",Nt(t.Zkt.xAt),s,this.zrt.b_.jB);const r=t.zN,h=r+t.ct,o=t.Zkt,a=o.zN;var u;const c=o.zN+(null!=(u=o.ct)?u:0);this.zrt.qat(e,o,r,h,a,c);const l=this.Ist.b_.XB(n),d=this.zrt.Nat(e,o);if(this.hA===hv.vp)if(d)if(this.Jkt(d))if(0===l.U){if(void 0===this.zrt.oht(o)){const t=this.Ist.EJ.Sn(new Ki([r,h]));this.Ukt=this.Ukt.HB(t)}}else{const t=l.Cn(0),i=new Ki([t,h]);if(this.Ukt=this.Ukt.XB(i),t>r){const i=this.Ist.EJ.Sn(new Ki([r,t]));this.Ukt=this.Ukt.HB(i)}}else{const t=l.U>0&&l.Cn(0)<r?l.Cn(0):r;this.Ukt=this.Ukt.XB(new Ki([t,h]))}else if(0===l.U){const t=this.Ist.EJ.Sn(new Ki([r,h]));this.Ukt=this.Ukt.HB(t)}else{var f;const t=l.Cn(0),i=null==(f=n.oR(r))?void 0:f.jn(0),e=i&&i>r?i:r;if(t>e){const t=this.Ist.EJ.Sn(new Ki([e,l.Cn(0)]));this.Ukt=this.Ukt.HB(t)}}t.Zkt.ibt&&this.zrt.NJ()}Jkt(t){const i=t.zkt,e=i.Cn(0),s=i.jn(i.U-1),n=i.PB(0),r=i.RB(i.U-1);return this.Ukt.KB(e,s,n,r)}constructor(t,i,e,s,n){this.Fkt=void 0,this.aO=new xs,this.Ukt=Ki.lR(),this.Xkt=t=>{this.Fkt&&(t?dc(t)&&this.Pkt?this.$kt.lW(this.Ist.b_.aR)?this.Fkt.jL():this.Fkt.zL(t):So(t)?this.Fkt.jL():this.Fkt.zL(t):this.Fkt.jL(),this.Fkt=void 0)},this.v0=t,this.qkt=e,this.Ist=i,this.zrt=s,this.$kt=n}};r(),r();var MX=class{async tCt(t,i,e,s){const n=await this.iCt(i,s);return await this.eCt.tCt(t,n,e)}async iCt(t,i){var e;if((null==(e=this.sCt)?void 0:e.zu)!==t){CH.DIt("HLSDecryptor","Fetching new AES-128 decryption key from "+t+".");const e=await this.gE.mS({zu:t,rE:Rt.OS,nE:Yc.GET,a_:i,hA:Ru.GS,oE:ss.JS,uE:this.uyt}),s=await e.Kj(),n=new T(s);this.sCt={zu:t,Cp:n}}return this.sCt.Cp}constructor(t,i,e){this.eCt=t,this.gE=i,this.uyt=e,this.sCt=void 0}};r();var TX=class{async mS(t,i,e,s,n){const r=await this.nCt(t,i,e,Rt.OS,s,n),h=await r.Kj(n);return{httpStatusCode:r.TS,response:new T(h)}}async rCt(t,i,e,s,n){return(await this.nCt(t,i,e,Rt.zS,s,n)).BG(n)}async nCt(t,i,e,s,n,r){let h;t.cmt&&(h=eq(t.cmt.Cn,t.cmt.U),0===h[0]&&h[1]===Q_&&(h=void 0));const o=h?{Range:"bytes="+h[0]+"-"+h[1]}:void 0,a=new Uu({zu:t.ST,rE:s,sE:o,uE:this.uyt,nE:Yc.GET,hA:i,oE:e,aE:this._ht,cE:n,a_:r});try{const i=await this.Vht.cet(t.ST,h);if(Pi(r),void 0!==i)return null==n||n(i.buffer.byteLength,i.buffer.byteLength),new $o({mS:a,Cp:i.buffer})}catch(t){go(t)}return await pu((()=>hh(this.gE.mS(a),a.a_)),r,this.hCt)}constructor(t,i,e,s,n=2){this.gE=t,this.Vht=i,this._ht=e,this.uyt=s,this.hCt=n}};r();var NX,DX=class{oCt(){return this.aCt.xDt.iEt}async uCt(t,i,e){if(!this.oCt())throw new b("Could not perform blocking playlist update.");try{await this.cCt(),Pi(e),await this.oTt.dkt(this.aCt,t,i,e),this.An=lg.f_()}catch(t){throw So(t)&&this.lCt(),t}this.lCt()}dCt(t){return this.oTt.wkt(this.aCt,t)}lCt(){if(!this.fCt&&!this._Ct){const t=()=>{this.fCt=void 0};this.fCt=this.gCt(this.wCt.a_).then(t,t)}}async cCt(){this.fCt&&(this.wCt.c_(),this.wCt=new xs,await this.fCt.catch(fg),this.fCt=void 0)}async gCt(t){for(;;){if(this.aCt.xDt.OEt&&this.aCt.xDt.Vbt)return;const i=lg.f_()-this.An,e=1e3*this.aCt.xDt.Hbt;i<e&&await ws(e-i,t);try{await this.oTt.gkt(this.aCt,t)}catch(t){throw go(t),this.oTt._kt(this.aCt),t}this.An=lg.f_()}}e_(){this._Ct=!0,W(this.cCt())}constructor(t,i){this.fCt=void 0,this.wCt=new xs,this.An=-1/0,this._Ct=!1,this.oTt=t,this.aCt=i,this.lCt()}};r(),function(t){t[t.fEt=0]="fEt",t[t._Et=1]="_Et",t[t.FS=2]="FS",t[t.YS=3]="YS"}(NX||(NX={})),r(),r();var ba="AssetExtractor",IX=class{ACt(t,i,e){let s=i;for(const i of this.vCt){if(s>=t)return!0;if(s<i.Cn)return!1;if(s<i.jn){if(e<=i.jn)return!0;s=i.jn}}return s>=t}mCt(t,i){const e=[];for(let s=0;s<this.vCt.length;s+=1){const n=this.vCt[s],r=t-n.Cn,h=n.Cp.length,o=x.min(h,x.max(r,0)),a=x.max(0,i+r),u=jh(n.Cp,o,a);u.length&&(s=this.pCt(s,n,t,o,a),e.push(u))}return e}yCt(t,i){this.vCt.push({Cn:t,jn:t+i.length,Cp:i})}pCt(t,i,e,s,n){let r=t;this.vCt.splice(r,1),r-=1,i.Cn<e&&(r+=1,this.vCt.splice(r,0,{Cn:i.Cn,jn:e,Cp:jh(i.Cp,0,s)}));const h=e+n-s;return h<i.jn&&(r+=1,this.vCt.splice(r,0,{Cn:h,jn:i.jn,Cp:jh(i.Cp,n)})),r}constructor(){this.vCt=[]}},SX=class{get MCt(){return this.TCt}async NCt(){const t=await this.Nd.read();if(t.done)throw this.TCt=1/0,new b("No more data can be read from the given stream.");return this.TCt+=t.value.length,t.value}async DCt(t){await this.Nd.cancel(t)}constructor(t,i){this.TCt=i,this.Nd=t.getReader()}},EX=class{ICt(){this.SCt.jL(),this.SCt=new Eo}ECt(t){const{lmt:i,dmt:e}=LX(this.abt.cmt),s=this.bCt.mCt(i,e-i);CH.DIt(ba,"Collected "+s.length+" chunks.");for(const i of s)t.enqueue(i)}async readAndSliceOutAssetBytes(t){await this.LCt.PL;const{lmt:i,dmt:e}=LX(this.abt.cmt);try{for(;;){const s=this.Nd.MCt,n=await this.Nd.NCt(),r=n.length;CH.DIt(ba,"Read "+r+" at "+s+" for extraction of "+Nt(this.abt));const h=x.min(s+r,i)-s;if(!(h>0)){if(s+r<=e)return CH.DIt(ba,"Extracting the read data range for extraction of "+Nt(this.abt)),t.enqueue(n),this.ICt(),W(this.readAndSliceOutAssetBytes(t));{const i=e-s,h=jh(n,0,i),o=jh(n,i);return h.length>0&&(CH.DIt(ba,"Extracting "+h.length+" bytes for extraction of "+Nt(this.abt)),t.enqueue(h)),CH.DIt(ba,"Of the read "+r+" bytes, the last "+o.length+" will be stored locally for extraction of "+Nt(this.abt)),this.bCt.yCt(s+i,o),CH.DIt(ba,"Extraction of "+Nt(this.abt)+" completed as the entire request has been fulfilled."),this.kCt(t),void(this.CCt&&(CH.DIt(ba,"Aborting stream upstream as no more bytes are needed from "+Nt(this.abt)+"."),await this.Nd.DCt("AssetExtraction - AbortOnEnd")))}}{const i=jh(n,0,h),e=jh(n,h);if(CH.DIt(ba,"Of the read "+r+" bytes, the first "+h+" will be stored locally for extraction of "+Nt(this.abt)),this.bCt.yCt(s,i),e.length>0)return CH.DIt(ba,"Extracting "+e.length+" bytes for extraction of "+Nt(this.abt)),t.enqueue(e),this.ICt(),W(this.readAndSliceOutAssetBytes(t))}}}catch(i){CH.DIt(ba,"Extraction of "+Nt(this.abt)+" completed as the entire source stream has been read."),this.kCt(t)}}kCt(t){t.close(),this.ICt(),this.xCt.jL()}start(t){CH.DIt(ba,"Preparing to push all collected data to controller for extraction of "+Nt(this.abt)),this.ECt(t),CH.DIt(ba,"Collected data pushed to controller for extraction of "+Nt(this.abt));const{dmt:i}=LX(this.abt.cmt);this.Nd.MCt>=i?(CH.DIt(ba,"Extraction of "+Nt(this.abt)+" completed as the entire request has been fulfilled."),this.kCt(t)):(CH.DIt(ba,"Continuing read from original stream for extraction of "+Nt(this.abt)),W(this.readAndSliceOutAssetBytes(t)))}get OCt(){return this.xCt.PL}pull(){return this.LCt.jL(),this.LCt=new Eo,this.SCt.PL}constructor(t,i,e,s){this.xCt=new Eo,this.abt=t,this.Nd=i,this.bCt=e,this.CCt=s,this.LCt=new Eo,this.SCt=new Eo}},bX=class{yN(t){if(!rq(this.abt,t))return!1;const{lmt:i,dmt:e}=LX(t.cmt);return this.bCt.ACt(this.jCt.MCt,i,e)}async v_t(t,i){void 0===i&&(i=!1);const e=this.jCt,s=this.bCt;if(CH.$y(ba,"Extracting data from "+Nt(t)+" out of "+Nt(this.abt)),this.zCt&&(CH.DIt(ba,"Awaiting previous extraction before extracting "+Nt(t)+" out of "+Nt(this.abt)),await this.zCt),!this.yN(t))throw new b("The extractor does not contain the data requested");const n=new EX(t,e,s,i);return this.zCt=n.OCt,new f(n)}constructor(t,i){this.abt=i;const{lmt:e}=LX(this.abt.cmt);this.jCt=new SX(t,e),this.bCt=new IX}};function LX(t){if(t){const i=t.Cn;return{lmt:i,dmt:void 0!==t.U?i+t.U:Q_}}return{lmt:0,dmt:Q_}}var kX=class{async $n(){const t=await this.PCt.rCt(this.abt,Ru.YS,ss.KT,void 0,this.aO.a_);return new bX(t,this.abt)}yN(t){return rq(this.abt,t)}async v_t(t,i){void 0===i&&(i=!1);const e=await this.hgt;return await hh(e.v_t(t,i),this.aO.a_)}c_(){this.hgt.catch(fg),this.aO.c_()}constructor(t,i){this.abt=t,this.PCt=i,this.aO=new xs,this.hgt=this.$n()}};r();var CX=class extends mg{constructor(t){super(gr.BCt),this.aE=t}};r();var xX=class extends mg{constructor(t,i,e,s,n,r,h){super(gr.RCt),this.uri=t,this.UCt=i,this.aE=e,this.mediaSequenceNumeber=s,this.mediaTrackId=n,this.QCt=r,this.httpStatusCode=h}};function OX(t,i,e){const s=Qh(e)?e:e.sbt;if(i.vLt(s.CEt)){if(void 0!==e.T8)return i.DLt(e.T8,e).cD();if(e!==s&&void 0!==s.T8){const t=i.DLt(s.T8,s).cD();return e.zN+(t-s.zN)}}const n=t.xDt.oht(s.cEt-1);if(void 0!==n&&i.vLt(n.CEt)){if(n.SEt.length>0){const t=n._bt(n.SEt.length-1);if(void 0!==t.T8){const s=i.DLt(t.T8,t).cD();return e.zN+(s-t.zN)}}if(void 0!==n.T8){const t=i.DLt(n.T8,n).cD();return e.zN+(t-n.zN)}}const r=t.xDt.oht(s.cEt+1);if(void 0!==r&&i.vLt(r.CEt)){if(r.SEt.length>0){const t=r._bt(0);if(void 0!==t.T8){const s=i.DLt(t.T8,t).cD();return e.zN+(s-t.zN)}}if(void 0!==r.T8){const t=i.DLt(r.T8,r).cD();return e.zN+(t-r.zN)}}return e.zN}r();var gr,jX="HlsPlaylistDownloader";!function(t){t.BCt="segmentdownloadprogress",t.RCt="segmentdownloaded"}(gr||(gr={}));var zX=class extends i{FCt(t){this.YCt.e_(),this.YCt=new DX(this.oTt,t),this.Qkt?this.GCt=t:(this.aCt=t,this.VCt=0,this.WCt=void 0,this.HCt=void 0)}get Qkt(){return void 0!==this.qCt}Gkt(){return this.qCt?this.qCt.PL:Promise.resolve()}XCt(){return this.qkt.XCt()}ZCt(t){this.qkt.ZCt(t)}c_(){var t,i,e;this.KCt.c_(),this.KCt=new xs,null==(t=this.JCt)||t.c_(),this.JCt=void 0,null==(i=this.$Ct)||i.c_(),null==(e=this.txt)||e.c_(),this.$Ct=void 0,this.txt=void 0,this.VCt=0,this.WCt=void 0,this.HCt=void 0}e_(){this.YCt.e_()}get XDt(){var t;return null!=(t=this.GCt)?t:this.aCt}get ixt(){if(!this.aCt.xDt.OEt||void 0===this.WCt)return!1;const t=this.aCt.xDt.oht(this.WCt);if(!t.ibt)return!1;if(void 0!==this.HCt){if(!t._bt(this.HCt).ibt)return!1}return!0}ext(t){const i=this.aCt.xDt.iLt(t);if(!i)return!1;if(void 0!==this.WCt){const e=i.cEt===this.WCt;return void 0!==this.HCt?i.gbt(t)===i._bt(this.HCt)&&e:e}return!1}sxt(t){let i;if(void 0===this.WCt||t<this.VCt)i=this.nxt(t);else if(i=this.rxt(this.WCt,this.HCt),void 0!==i){const[e,s]=i,n=(null!=s?s:e).zN,r=3*this.aCt.xDt.mSt;x.abs(n-t)>=r&&(i=this.nxt(t))}else if(this.aCt.xDt.OEt){if(this.aCt.xDt.oht(this.WCt).ibt&&(i=this.nxt(t),void 0!==i&&i[0].cEt===this.WCt))return}if(i){this.VCt=t;const[e,s]=i;return 0===(null==s?void 0:s.rbt)&&void 0!==e.ct?[e,void 0]:[e,s]}}nxt(t){let i,e;const s=this.aCt.xDt.bet;if(0===s.length)return;const n=this.oTt.Tr.WT,r=Pt.dI(t),[h,o]=function(t,i,e){const s=t.xDt.bet;if(0===s.length)return[void 0,void 0];const n=t.xDt.eLt(e.cD());if(!i.vLt(n.CEt))return[void 0,void 0];const r=n.cEt-s[0].cEt;let h,o,a,u=0;for(let t=r;t>=0;t--){const i=s[t];if(i.CEt!==n.CEt)break;if(void 0!==i.T8){h=i,u=t;break}}if(void 0===h){for(let t=r+1;t<s.length;t++){const i=s[t];if(i.CEt!==n.CEt)break;if(void 0!==i.T8){h=i,u=t;break}}if(void 0===h)return[void 0,void 0]}if(i.DLt(h.T8,h).gD(e)){o=h;for(let t=u+1;t<s.length;t++){const r=s[t];if(r.CEt!==n.CEt)break;if(void 0!==r.T8){if(!i.DLt(r.T8,r).gD(e)){a=r;break}o=r}}}else{a=h;for(let t=u-1;t>=0;t--){const r=s[t];if(r.CEt!==n.CEt)break;if(void 0!==r.T8){if(i.DLt(r.T8,r).gD(e)){o=r;break}a=r}}}return[o,a]}(this.aCt,n,r);let a;if(void 0!==h&&void 0!==o){const t=n.DLt(h.T8,h),i=n.DLt(o.T8,o),e=r.MD(t).cD()/i.MD(t).cD()*(o.zN-h.zN);a=h.zN+e}else a=t;const u=s[s.length-1];return u.PN<=a?(i=u,e=u.Abt(a)):s[0].zN>a?(i=s[0],e=i._bt(0)):(i=this.aCt.xDt.iLt(a),e=null==i?void 0:i.Abt(a)),i?[i,e]:void 0}rxt(t,i){let e,s;if(e=this.aCt.xDt.oht(t),e&&void 0!==i){if(0===e.SEt.length)return[e,void 0];s=e._bt(i+1)}return void 0!==e&&void 0!==s||(e=this.aCt.xDt.oht(t+1),s=null==e?void 0:e._bt(0)),e?[e,s]:void 0}Ykt(){if(this.Qkt)throw new b("Cannot perform new operation while PlaylistDownloader is still busy")}hxt(t){this.Ykt(),this.qCt=new Eo,this.oxt(t,this.KCt.a_).then(this.axt,this.axt)}uxt(){this.YCt.lCt()}async oxt(t,i){if(this.aCt.xDt.OEt)return;let e=this.sxt(t);for(!e&&this.YCt.oCt()&&void 0!==this.WCt&&(await this.YCt.uCt(void 0===this.HCt?this.WCt+1:this.WCt,void 0!==this.HCt?this.HCt+1:void 0,i),e=this.sxt(t)),!e&&this.YCt.oCt()&&void 0!==this.WCt&&(await this.YCt.uCt(this.WCt+1,0,i),e=this.sxt(t));!e;){CH.$y(jX,"No next segment / part available, need to update playlist before continuing."),await this.YCt.dCt(i);const s=this.XDt.xDt.bet;s[0].zN>t&&(this.HCt=void 0,this.WCt=void 0);s[s.length-1].cEt<this.WCt&&(this.HCt=void 0,this.WCt=void 0),e=this.sxt(t)}}cxt(){return this.qkt.lxt()}dxt(){this.Ykt();try{const t=this.aCt.xDt.sLt(xi.fEt);t&&this.fxt(t);const i=this.aCt.xDt.sLt(xi._Et);i&&this._xt(i)}catch(t){throw go(t),this.aCt.xDt.Zbt=lg.f_(),this.oTt._kt(this.aCt),t}}fxt(t){this.txt&&!this.txt.yN(t.xAt)&&(this.txt.c_(),this.txt=void 0),this.txt||(this.txt=new kX(t.xAt,this.PCt))}_xt(t){this.$Ct&&!this.$Ct.yN(t.xAt)&&(this.$Ct.c_(),this.$Ct=void 0),this.$Ct||(this.$Ct=new kX(t.xAt,this.PCt))}hht(t,i,e){this.Ykt(),CH.$y(jX,"Starting download of segment "+Nt(t.xAt)+" and part "+(null==i?void 0:i.rbt)),this.qCt=new Eo,this.gxt(t,i,e,this.KCt.a_).catch((t=>{throw go(t),this.aCt.xDt.Zbt=lg.f_(),this.oTt._kt(this.aCt),t})).then(this.axt,this.axt)}async gxt(t,i,e,s){let n;if(t.bEt){var r,h;if(!e||!hq(e.Zkt.xAt,null==(r=t.bEt)?void 0:r.xAt)||t.CEt!==e.CEt){var o;null==(o=this.JCt)||o.c_(),this.JCt=new Eo;const i=this.wxt(t.bEt,t,s).then((()=>{this.JCt=void 0}));this.JCt.l_(i)}n=null==(h=this.JCt)?void 0:h.PL}await this.Axt(t,i,n,s)}async wxt(t,i,e){const s=await this.vxt(t,i,e),n=s.bEt.Cp.Cp.byteLength;this.qkt.mxt(s),this.Co(new xX(s.bEt.Zkt.xAt,s.hA,this.v0,i.cEt,s.XDt.Vw,n,s.bEt.wot)),CH.DIt(rr,"Download initializer complete",Nt(t.xAt))}async Axt(t,i,e,s){const n=await this.pxt(t,i,s),r=n.Ght.Cp.Cp.byteLength;var h;e&&await hh(e,s),this.qkt.mxt(n),this.Co(new xX(n.Ght.Zkt.xAt,n.hA,this.v0,t.cEt,n.XDt.Vw,r,n.Ght.wot)),CH.DIt(rr,"Download complete",Nt(null!=(h=null==i?void 0:i.xAt)?h:t.xAt))}async pxt(t,i,e){let s;if(i){if(this.$Ct)if(this.$Ct.yN(i.xAt)){const t=await this.$Ct.v_t(i.xAt),n=await Ut(t,e),r=new T(n);s=BX(i,await this.tCt(r,i.NEt,e),200)}else this.$Ct.c_(),this.$Ct=void 0;s||(CH.DIt(rr,"Start download",Nt(i.xAt)),s=await this.yxt(i,e))}else CH.DIt(rr,"Start download",Nt(t.xAt)),s=await this.uht(t,e);return this.WCt=t.cEt,this.HCt=null==i?void 0:i.rbt,{hA:"Ght",Ght:s,XDt:this.aCt,CEt:t.CEt}}async vxt(t,i,e){let s;if(this.txt){var n;if(this.txt.yN(t.xAt)){const n=await hh(this.txt.v_t(t.xAt),e),r=await Ut(n,e),h=new T(r);s=PX(t,i,await this.tCt(h,t.IEt?[t.IEt]:[],e),200)}CH.$y(jX,"MAP is required for segment, downloading MAP data."),null==(n=this.txt)||n.c_(),this.txt=void 0}return s||(CH.DIt(rr,"Start download",Nt(t.xAt)),s=await this.Mxt(t,i,e)),{hA:"bEt",bEt:s,XDt:this.aCt,zN:i.zN,CEt:i.CEt,NEt:i.NEt}}async Mxt(t,i,e){const{response:s,httpStatusCode:n}=await this.PCt.mS(t.xAt,Ru.FS,ss.VS,void 0,e),r=t.IEt?[t.IEt]:[];return PX(t,i,await this.tCt(s,r,e),n)}async uht(t,i){if(!t.xAt)throw new b("Internal error: attempted to download an incomplete segment");let e,s;try{this.Txt(t);const n=await this.PCt.mS(t.xAt,Ru.FS,ss.KT,this.Nxt,i);e=n.response,s=n.httpStatusCode}finally{this.Dxt()}return function(t,i,e){return{Cp:{Cp:i,hA:Lo.CH},hA:NX.FS,wot:e,Zkt:t,CEt:t.CEt}}(t,await this.tCt(e,t.NEt,i),s)}async yxt(t,i){let e,s;try{this.Txt(t);const n=await this.PCt.mS(t.xAt,Ru.FS,ss.KT,this.Nxt,i);e=n.response,s=n.httpStatusCode}finally{this.Dxt()}return BX(t,await this.tCt(e,t.NEt,i),s)}async tCt(t,i,e){const s=p(i,(t=>t.nE===_u.ZSt));return s?s.xAt&&s.KSt?await this.Ixt.tCt(t,s.xAt,s.KSt,e):(CH.lt(jX,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),t):t}Txt(t){var i,e,s;this.Sxt=t,this.Ext=0,this.bxt=0,this.Lxt=null!=(s=null==(e=t.xAt)||null==(i=e.cmt)?void 0:i.U)?s:0}Dxt(){this.Sxt=void 0,this.Ext=0,this.bxt=0,this.Lxt=0}kxt(){if(void 0!==this.Sxt)return{Ght:this.Sxt,Cxt:this.bxt,xxt:this.Lxt}}Oxt(t){return void 0!==this.Sxt&&(0!==this.Ext&&(0!==this.Lxt&&(!(this.bxt>=this.Lxt)&&!(t-this.Ext<500))))}constructor(t,i,e,s,n,r,h,o){super(),this.GCt=void 0,this.qCt=void 0,this.Sxt=void 0,this.Ext=0,this.bxt=0,this.Lxt=0,this.KCt=new xs,this.JCt=void 0,this.VCt=0,this.WCt=void 0,this.HCt=void 0,this.txt=void 0,this.$Ct=void 0,this.axt=t=>{this.GCt&&(this.aCt=this.GCt,this.GCt=void 0,this.VCt=0,this.WCt=void 0,this.HCt=void 0),this.qCt&&(t&&!So(t)?this.qCt.zL(t):this.qCt.jL(),this.qCt=void 0)},this.Nxt=(t,i)=>{this.bxt=t,t>0&&0===this.Ext&&(this.Ext=lg.f_()),void 0!==i&&(this.Lxt=i),this.Co(new CX(this.v0))},this.v0=t,this.oTt=e,this.qkt=s,this.aCt=i,this.YCt=new DX(e,i),this.Ixt=new MX(h,n,o),this.PCt=new TX(n,r,function(t){switch(t){case Qn.vp:return nn.vp;case Qn.mp:return nn.mp;case Qn.pp:case Qn.USt:return nn.Ru;default:return nn.KT}}(i.hA),o)}};function PX(t,i,e,s){return{Cp:{Cp:e,hA:Lo.CH},hA:NX.fEt,wot:s,Zkt:t,CEt:i.CEt}}function BX(t,i,e){return{Cp:{Cp:i,hA:Lo.CH},wot:e,hA:NX._Et,Zkt:t,CEt:t.sbt.CEt}}r();var RX=class{get kkt(){return this.jxt}get zxt(){const t=[];for(const e of this.Pxt)if("Ght"===e.hA){const s=e.Ght.Zkt,n=OX(e.XDt,this.RLt,s);var i;t.push({Ght:s,XDt:e.XDt,zN:n,PN:n+(null!=(i=s.ct)?i:0)})}return t}get Bxt(){const t=[];return this.Rxt.forEach((i=>{for(const e of i.Uxt)"Ght"===e.hA&&t.push({Ght:e.Zkt,XDt:e.XDt,zN:e.zN,PN:e.zN+e.ct})})),t}mxt(t){"bEt"===t.hA&&(this.jxt=t.bEt),this.Pxt.push(t),this.Qxt&&(this.Qxt.jL(),this.Qxt=void 0)}XCt(){return this.Pxt[0]}ZCt(t){Et(this.Pxt,t)}lxt(){return null!=this.Qxt||(this.Qxt=new Eo),this.Qxt.PL}Fxt(t){this.Yxt(t.Urt).Fxt(t)}Gxt(t){return this.Yxt(t).Gxt()}Hkt(t){this.Yxt(t.Urt).Hkt(t)}Vxt(t){var i;null==(i=this.Rxt.get(t))||i.e_()}Wxt(t){return this.Yxt(t).Wxt()}Yxt(t){if(this.Rxt.has(t))return this.Rxt.get(t);{const i=new UX;return this.Rxt.set(t,i),i}}OL(){this.Hxt(),this.qxt()}Hxt(){this.jxt=void 0,Ri(this.Pxt)}qxt(){this.Rxt.forEach((t=>t.OL()))}e_(){this.Rxt.forEach((t=>t.e_())),this.Rxt.clear(),this.OL(),this.Qxt&&(this.Qxt.c_(),this.Qxt=void 0)}constructor(t){this.Pxt=[],this.Rxt=Qt(),this.Qxt=void 0,this.jxt=void 0,this.RLt=t}},UX=class{get Uxt(){return this.Xxt}Fxt(t){this.Xxt.push(t),this.Zxt&&(this.Zxt.jL(),this.Zxt=void 0)}Gxt(){return this.Xxt[0]}Hkt(t){Et(this.Xxt,t)}Wxt(){return null!=this.Zxt||(this.Zxt=new Eo),this.Zxt.PL}OL(){Ri(this.Xxt)}e_(){this.OL(),this.Zxt&&(this.Zxt.c_(),this.Zxt=void 0)}constructor(){this.Xxt=[],this.Zxt=void 0}};r();var QX=1e-6,FX=class{get b_(){return this.wNt}get EJ(){return this.ANt}async QK(t,i){const e=t.Cp.Cp;if(this.Kxt(e),this.Jxt.hA===Ks.TTML){this.RLt.vLt(t.CEt)||await hh(this.RLt.pLt(t.CEt),i);const s=this.$xt(e,t.CEt);for(const t of s)this.Jxt.vE(t)}}async BK(t,i){if(void 0===t.Cp)return;const e=t.zN,s=e+t.ct;this.wNt=this.wNt.HB(Ki.cR(e,s)).WB(QX),this.kJ(t.tOt,t.iOt),this.CJ(e,s),this.RLt.vLt(t.CEt)||await hh(this.RLt.pLt(t.CEt),i),this.UK(t.Cp.Cp,t.CEt,t.Zkt)}UK(t,i,e){let s;this.Kxt(t),s=this.Jxt.hA===Ks.WEBVTT?this.eOt(t,e):this.$xt(t,i);for(const t of s)this.Jxt.vE(t)}eOt(t,i){const e=Jm(t),s=e.L;var n;const r=null!=(n=e.jI)?n:{zI:Pt.LD,lh:Pt.LD};for(const t of s){const e=Pt.dI(t.zN).MD(r.lh).mN(r.zI),s=this.RLt.DLt(e,i).cD(),n=s+(t.PN-t.zN);t.iD(s,n)}return s}$xt(t,i){const e=this.RLt.NLt(i).cD();return Qp(t,this.Jxt,{LI:0,kI:1/0,CI:e},Ml.APPLICATION_MP4)}Kxt(t){this.Jxt.hA===Ks.DEFAULT&&(this.Jxt.hA=this.sOt(t)?Ks.WEBVTT:Ks.TTML)}sOt(t){return up(qA(cn(Mo(t),0,x.min(t.byteLength,16)),new Or))}kJ(t,i){this.ANt=this.ANt.HB(Ki.cR(t,i)).WB(QX)}CJ(t,i){this.ANt=this.ANt.XB(Ki.cR(t,i))}constructor(t,i){this.wNt=Ki.lR(),this.ANt=Ki.lR(),this.Jxt=t,this.RLt=i}};r(),r(),r();var YX=class extends mg{constructor(t,i){super(Lu.nOt),this.XDt=t,this.Het=i}};r();var GX=class extends mg{constructor(t){super(Lu.rOt),this.XDt=t}};r();var VX=class extends mg{constructor(t,i){super(Lu.hOt),this.XDt=t,this.lct=i}};r();var Lu,WX=class extends mg{constructor(t,i){super(Lu.oOt),this.XDt=t,this.aOt=i}};!function(t){t.nOt="uOt",t.hOt="cOt",t.oOt="lOt",t.rOt="dOt"}(Lu||(Lu={}));var sc=class extends i{get fOt(){return this._Ot}gOt(t){for(const i of this._Ot)Ho(t,i)||this.qkt.Vxt(i);this._Ot=t}get Qkt(){return void 0!==this.wOt}Gkt(){var t,i;return null!=(i=null==(t=this.wOt)?void 0:t.PL)?i:Promise.resolve()}Ykt(){if(this.Qkt)throw new b("Cannot perform new operation while transmuxer is still busy")}AOt(t,i){}vOt(t){this.Ykt(),this.wOt=new Eo;const i=i=>{this.mOt(t,i)};this.pOt(t,this.aO.a_).then(i,i)}yOt(t){this.Ykt(),this.wOt=new Eo;const i=i=>{this.mOt(t,i)};this.MOt(t,this.aO.a_).then(i,i)}mOt(t,i){this.wOt&&(!i||So(i)?(i||this.qkt.ZCt(t),this.wOt.jL(),this.wOt=void 0):this.wOt.zL(i))}TOt(t,i){this.Co(new YX(t,i))}NOt(t,i){this.Co(new VX(t,i))}DOt(t,i,e){nX(i)&&this.Co(new WX(t,e))}IOt(t){this.Co(new GX(t))}Fxt(t){Ho(this._Ot,t.Urt)&&this.qkt.Fxt(t)}SOt(t){return this.qkt.Gxt(t)}Hkt(t){this.qkt.Hkt(t)}EOt(t){return this.qkt.Wxt(t)}c_(){this.aO.c_(),this.aO=new xs}constructor(t,i,e){super(),this.wOt=void 0,this.aO=new xs,this.qkt=t,this.RLt=i,this._Ot=e}};function HX(t,i){return nX(t)?0:x.min(t.zN,i)}function qX(t,i){var e;return x.max(t.zN,i)+(null!=(e=t.ct)?e:0)}var XX=class extends sc{pOt(t,i){Pi(i);const e={hA:"bOt",Cp:t.bEt.Cp,Urt:this.fOt[0],CEt:t.CEt,LOt:{Het:"",NEt:t.NEt},zN:t.zN,XDt:t.XDt,Zkt:t.bEt.Zkt};return this.Fxt(e),Promise.resolve()}async MOt(t,i){Pi(i);const e=t.Ght.Zkt;let s;void 0!==e.T8?(this.RLt.vLt(t.CEt)||await hh(this.RLt.pLt(t.CEt),i),s=this.RLt.DLt(e.T8,e).cD()):s=e.zN;const n=HX(e,s),r=qX(e,n);var h;const o={hA:"Ght",Cp:t.Ght.Cp,Urt:this.fOt[0],tOt:n,iOt:r,zN:s,ct:null!=(h=e.ct)?h:0,CI:0,CEt:t.CEt,XDt:t.XDt,Zkt:t.Ght.Zkt};this.Fxt(o)}constructor(t,i,e){super(t,i,[e])}};function ZX(t,i){let e=Ki.lR();for(const s of t){let n=s.zN;if(s.XDt.xDt.OEt&&nX(s.Ght))n=0;else{const e=t=>s.XDt===t.XDt&&rX(t.Ght,s.Ght),r=p(t,e);if(void 0!==r)n=x.min(n,r.PN);else{const t=p(i,e);void 0!==t&&(n=x.min(n,t.zkt.jn(0)))}}e=e.HB(Ki.cR(n,s.PN))}return e}r();var KX=.001,JX=class{get kOt(){return this.COt}get xOt(){return this.OOt}get jOt(){return this.zOt}get POt(){return this.qkt}get XDt(){return this.OOt.XDt}FCt(t){this.OOt.FCt(t)}BOt(t){const i=t.slice();for(let t=this.COt.length-1;t>=0;t--){const e=this.COt[t];if(!e.Pkt)throw new b("Invalid state");const s=Fa(i,(t=>t.hA===e.hA));s>=0?(e.mst(i[s]),Dt(i,s)):Dt(this.COt,t)}for(const t of i){const i=new ah(t);this.COt.push(new yX(t.hA,t,this.qkt,i,this))}i.length>0&&this.qkt.OL();const e=t.map((t=>t.hA));this.zOt.gOt(e)}lW(t){var i;const e=(null==(i=this.yR)?void 0:i.lW(t))||!1;return e&&(this.c_(),this.POt.OL()),e}ROt(t){for(const t of this.COt)if(t.hA!==hv.Ru||t.Qkt)throw new b("Invalid state");const i=new ah(t),e=new yX(hv.Ru,t,this.qkt,i,this);this.COt=[e]}get kkt(){const t=this.qkt.kkt;if(t)return t;if(this.COt.length>0){const t=this.COt[0].Bkt.kkt;if(t&&this.COt.every((i=>i.Bkt.kkt===t)))return t}}nht(){for(const t of this.COt)t.Bkt.Okt()}get UOt(){if(0===this.COt.length)return Ki.lR();const t=ZX(this.qkt.zxt.concat(this.qkt.Bxt),Eh(this.COt,(t=>t.Bkt.bet))).QB();let i=new Ki([0,1/0]);for(const t of this.COt)i=i.Sn(t.Bkt.b_);for(const t of this.COt)i=i.XB(t.Rkt);return i=i.HB(t),i}get QOt(){if(0===this.COt.length)return Ki.lR();const t=ZX(this.qkt.Bxt,Eh(this.COt,(t=>t.Bkt.bet))).QB();let i=new Ki([0,1/0]);for(const t of this.COt)i=i.Sn(t.Bkt.b_);return i=i.HB(t),i}sut(t){const i=this.UOt.oR(t,KX);return i?i.jn(i.U-1):t}ext(t){return!!this.UOt.oR(t,KX)||this.OOt.ext(t)}FOt(t){return this.QOt.gr(t,KX)}YOt(t,i,e){for(const t of this.COt){const e=t.Bkt,s=e.$_t;if(void 0!==s&&i>=s&&!e.b_.QB().gr(s))return!0}return i-t<e}c_(){this.GOt(),this.VOt()}GOt(){this.xOt.c_()}VOt(){this.jOt.c_(),this.kOt.forEach((t=>t.c_()))}e_(){this.c_(),this.xOt.e_()}constructor(t,i,e,s){this.OOt=t,this.qkt=i,this.zOt=e,this.yR=s,this.COt=[]}};r();var $X=class extends mg{constructor(){super(Au.bDt)}};r();var tZ=class extends mg{constructor(){super(Au.SDt)}};r(),r();var iZ="LazyMediaBuffer",eZ=class extends i{get LP(){return this.qx}get IJ(){return this.v0}get wd(){if(!this.Ist)throw new ce(y_.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.Ist.wd}get ZV(){return this.rW}set ZV(t){this.rW=t,this.Ist&&(this.Ist.ZV=t)}tq(){return this.Ist?this.Ist.tq():this.WOt}get b_(){return this.Ist?this.Ist.b_:Ki.lR()}get EJ(){return this.Ist?this.Ist.EJ:this.bJ.uq}get tW(){return this.aW}set tW(t){this.aW=t,this.Ist&&(this.Ist.tW=t)}kJ(t,i){CH.DIt(iZ,"Marking gap from "+t+" to "+i+"."),this.bJ.lq(t,i),this.Ist&&this.Ist.kJ(t,i)}CJ(t,i){CH.DIt(iZ,"Removing gap from "+t+" to "+i+"."),this.bJ.dq(t,i),this.Ist&&this.Ist.CJ(t,i)}HOt(t){this.Ist=t,this.Ist.tW=this.aW,this.Ist.ZV=this.rW;const i=this.bJ.uq;for(let t=0;t<i.U;t++)this.Ist.kJ(i.Cn(t),i.jn(t));var e;this.WOt&&(CH.DIt(iZ,"End of stream"),null==(e=this.Ist)||e.NJ());this.Ist.yn(bi.LH,this.Ds),this.qOt.jL(t)}XOt(t){return hh(this.qOt.PL,t)}async BK(t,i,e){const s=await this.XOt(e);await s.BK(t,i,e)}async xJ(){const t=await this.XOt();await t.xJ()}async QK(t,i,e){const s=await this.XOt(e);await s.QK(t,i,e)}async pN(t,i,e){const s=await this.XOt(e);await s.pN(t,i,e)}async iJ(t,i){const e=await this.XOt();await e.iJ(t,i)}NJ(){this.WOt=!0,this.Ist&&this.Ist.NJ()}PH(t){return!!this.Ist&&this.Ist.PH(t)}async RH(t){const i=await this.XOt();await i.RH(t)}async gn(){var t;this.Vo(),null==(t=this.Ist)||t.fn(bi.LH,this.Ds)}constructor(t,i){super(),this.v0=t,this.ZOt=i,this.qx=void 0,this.Ist=void 0,this.qOt=new Eo,this.rW=20,this.WOt=!1,this.aW=30,this.bJ=new SL}},sZ="LazyMediaSource",nZ=class{get wd(){return{hA:wt.xO,E$:[],kP:[]}}get rt(){throw new b("Not implemented")}get g$(){return this.KOt}get w$(){return this.JOt}get b_(){return this.DP?this.DP.b_:Ki.lR()}get ct(){return this.DP?this.DP.ct:this.Rk}get tq(){return!!this.DP&&this.DP.tq}get yg(){return this.DP?this.DP.yg:new Ki([0,1/0])}T$(t){this.Rk=t,this.DP&&this.DP.T$(t)}NJ(){this.p8=!0,this.DP&&this.DP.NJ()}_J(){this.p8=!1,this.DP&&this.DP._J()}S$(t,i,e,s){this.$Ot=t,this.tjt=i,this.ijt=Boolean(e),this.ejt=Boolean(s),this.DP&&this.DP.S$(t,i,e,s)}PH(t){return!this.DP||this.DP.PH(t)}async RH(t){if(!this.PH(t))throw new b("LazyMediaSource - Unable to reconfigure MediaSource.");if(this.DP)await this.DP.RH(t);else{var i,e;this.vP.v3();const s=await this.vP.$n(t);j(this.Rk)||s.T$(this.Rk),this.p8&&s.NJ(),s.S$(this.$Ot,this.tjt,this.ijt,this.ejt),CH.DIt(sZ,"The MediaSource has been loaded."),this.sjt=!0,this.DP=s,null==(i=this.KOt)||i.HOt(this.DP.g$),null==(e=this.JOt)||e.HOt(this.DP.w$),this.njt.jL(s),this.vP.m3()}}async e_(){this.DP&&await this.DP.e_()}constructor(t,i,e){this.vP=t,this.KOt=void 0,this.JOt=void 0,this.njt=new Eo,this.DP=void 0,this.sjt=!1,this.Rk=NaN,this.p8=!1,this.$Ot=0,this.tjt=1/0,this.ijt=!1,this.ejt=!1,i&&(CH.DIt(sZ,"Created lazy media buffer for audio."),this.KOt=new eZ(hv.mp,this)),e&&(CH.DIt(sZ,"Created lazy media buffer for video."),this.JOt=new eZ(hv.vp,this))}};function rZ(t,i){return void 0===i&&(i=!1),function(e,s){void 0===s&&(s="*");let n=oZ(e,"tag");const r=oZ(null==s?"*":s,"range"),h=[];let o,a,u,c=-1;for(;++c<r.length;)if(o=r[c].toLowerCase(),i||"*"!==o){for(a=-1,u=[];++a<n.length;)if(t(n[a].toLowerCase(),o)){if(!i)return n[a];h.push(n[a])}else u.push(n[a]);n=u}return i?h:void 0}}r();rZ(((t,i)=>"*"===i||t===i||oo(t,i+"-")),!0),rZ(((t,i)=>{const e=t.split("-"),s=i.split("-");let n=0,r=0;if("*"!==s[r]&&e[n]!==s[r])return!1;for(n++,r++;r<s.length;)if("*"!==s[r]){if(!e[n])return!1;if(e[n]!==s[r]){if(1===e[n].length)return!1;n++}else n++,r++}else r++;return!0}),!0);var hZ=rZ(((t,i)=>{let e,s=i;for(;;){if("*"===s||t===s)return!0;if(e=s.lastIndexOf("-"),e<0)return!1;"-"===s.charAt(e-2)&&(e-=2),s=s.slice(0,e)}}));function oZ(t,i){const e=t&&"string"==typeof t?[t]:t;if(!e||"object"!=typeof e||!("length"in e))throw new b("Invalid "+i+" `"+e+"`, expected non-empty string");return e}r(),r();var aZ,uZ=16384,cZ=71,lZ=188,dZ=2,fZ=3;function _Z(t){return gZ(t)?1:function(t){return function(t){if(t.length<dZ*lZ)return-1;const i=t.length<fZ*lZ?dZ:fZ,e=x.min(1e3,t.length-i*lZ);for(let s=0;s<=e;s++){let e=!0;for(let n=0;n<i;n++)if(t[s+n*lZ]!==cZ){e=!1;break}if(e)return s}return-1}(t)>=0}(t)?2:function(t){return null!==$C(Mo(t),new Or)}(t)?3:0}function gZ(t){const i=yl(t,0,x.min(t.length,uZ));return Qi.vy(Mo(i))}!function(t){t[t.KT=0]="KT",t[t.Gv=1]="Gv",t[t.rjt=2]="rjt",t[t.hjt=3]="hjt"}(aZ||(aZ={}));var wZ=class{get hA(){return this.v0}get b_(){return this.Ist.b_}get EJ(){return this.Ist.EJ}ojt(t){return this.Ist===t}async QK(t,i){await this.Ist.QK(t.Cp,{fK:t.XDt.Vw},i),void 0!==this.ajt&&this.v0===hv.vp&&gZ(t.Cp.Cp)&&this.ajt.Bst(t.Cp.Cp)}async BK(t,i){Pi(i),CH.$y("HlsMediaBuffer","Got media data, appending to "+this.v0+" MediaBuffer: "+Nt(t.Zkt.xAt));const e=t.tOt,s=t.iOt,n={T8:t.zN,ct:t.ct,CI:t.CI,fK:t.XDt.Vw};void 0!==t.Cp&&(await this.Ist.BK(t.Cp,n,i),this.ujt(t.Cp,t)),this.cjt(e,s)}ujt(t,i){var e;if(!gZ(t.Cp))return;const s=i.zN,n=s+i.ct,r=i.CI;if(null==(e=this.sgt)||e.qat(t.Cp,s,r),void 0!==this.ajt&&this.v0===hv.vp){const e=i.Zkt.ibt;this.ajt.qat(t.Cp,s,n,r,i.XDt,e)}const h=[];void 0!==this.sgt&&h.push(this.sgt),void 0!==this.ajt&&h.push(this.ajt),my(this.b_,h)}cjt(t,i){const e=this.Ist.b_,s=new Ki([t,i]).XB(e);for(let t=0;t<s.U;t++)this.Ist.kJ(s.Cn(t),s.jn(t));for(let t=0;t<e.U;t++)this.Ist.CJ(e.Cn(t),e.jn(t))}kJ(t,i){this.Ist.kJ(t,i)}CJ(t,i){this.Ist.CJ(t,i)}constructor(t,i,e,s){this.v0=t,this.Ist=i,this.sgt=e,this.ajt=s}};r();function AZ(t){if(t.hA!==Qn.USt||void 0===t.BDt)return;const i=t.BDt.match(/^CC([1-4])$/);if(i)return Number(i[1]);const e=t.BDt.match(/^SERVICE([\d+])$/);return e?Number(e[1]):void 0}r(),r(),r();var vZ=class{ySt(t){var i,e,s;return null==(s=null==(e=this.DP)||null==(i=e.w$)?void 0:i.PH(t))||s}MSt(t){var i,e,s;return null==(s=null==(e=this.DP)||null==(i=e.g$)?void 0:i.PH(t))||s}constructor(t){this.DP=t}},je="LLHLSPlayer",mZ=[er.mv,er.pv,er.yv,er.Mw],pZ=[t.WA,t.DA,t.OA,t.CA],yZ=2e3,MZ=class extends i{ljt(){if(void 0===this.djt)return!1;const t=lg.f_();if(!this.djt.xOt.Oxt(t))return!1;const i=this.djt.xOt.kxt();if(void 0===i||void 0===i.Ght.ct)return!1;const e=this.j_,s=this.ag,n=this.djt.UOt.oR(e);if((void 0!==n?n.jn(0)-e:0)>=2*i.Ght.ct*s)return!1;return 8*i.xxt/this.yR.RV.Jz>=1.8*i.Ght.ct}async fjt(){var t;const i=await this.DSt();if(void 0===i)return;const e=null==(t=this.djt)?void 0:t.xOt.kxt();if(void 0===e)return;const s=this._jt;if(x.max(0,e.xxt-e.Cxt)<=e.xxt*(i.Jz/s.Jz))return;const n=i.Jz<s.Jz;await this.iIt(i,{eIt:n})}gjt(t){return Ro(t,(t=>t.Jz))}async wjt(){let t=await this.Ajt();if(0===t.length)return;const i=await this.vjt(t);i.length>0&&(t=i);const e=this.gjt(t);void 0!==e&&(await this.iIt(e,{eIt:!0}),this.bP.ASt(e.Jz))}get mjt(){const t=[this.pjt,this.yjt].filter(li);for(const i of t){if(!i.xDt.OEt)return!1;const t=i.xDt.bet,e=t[t.length-1];if(e&&e.CEt!==this.Mjt)return!1}return!0}get ZDt(){return this._jt}get cIt(){return this.pjt}get dIt(){return this.yjt}get Tjt(){return this.Njt}get ht(){return this.nN}get b_(){return this.vP.b_.ks()}get $Dt(){const t=[];if(this._jt){const i=this.vP.j_;for(const e of this.Djt)for(const s of e.kOt){const e=s.Wkt(i);e&&!Ho(t,e)&&t.push(e)}}return t}get k_(){if(this._jt){const t=this.vP.j_;return this._jt.HEt(t)}}set k_(t){if(!t||!this._jt)return;const i=this._jt.qEt(t);void 0!==i&&this.Dp(i,!1,!0)}get j_(){var t;return null!=(t=this.Ijt)?t:this.vP.j_}set j_(t){this.Dp(t,t===1/0,!0)}Dp(t,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),CH.$y(je,"Seeking to "+t+" s."),this.Ijt=t,this.Sjt=i,this.Ejt=!0,this.sTt=!0,this.Co(new Sa(t)),this.u2.c_(),this.bjt&&(lg.__(this.Ljt),e?this.Ljt=lg.g_((()=>this.kjt(t,i)),50):this.kjt(t,i))}kjt(t,i){lg.__(this.Ljt);const e=[this.hgt,this.Cjt,this.c2].filter(li);this.u2=new xs,this.c2=this.l2(e,t,i,this.u2.a_).catch(this.xjt)}get ct(){var t,i,e,s,n,r,h;if(!this.mjt)return null!=(h=null!=(r=null!=(n=null==(t=this.pjt)?void 0:t.xDt.ct)?n:null==(i=this.yjt)?void 0:i.xDt.ct)?r:null==(s=this.oTt)||null==(e=s.rkt)?void 0:e.xDt.ct)?h:1/0;const o=this.vP.ct;if(j(o)){var a,u;const t=null==(u=this.oTt)||null==(a=u.rkt)?void 0:a.xDt.ct;if(void 0!==t)return t}return o}get R_(){if(!this.mjt)return!1;if(this.Tg&&this.bjt){var t,i;const e=this.j_,s=null==(t=this.pjt)?void 0:t.xDt.ct,n=null==(i=this.yjt)?void 0:i.xDt.ct;return!(void 0!==s&&e<s)&&!(void 0!==n&&e<n)}return this.vP.R_}get lt(){return this.yP}get F_(){return this.MP}get G_(){}get W_(){return!1}get q_(){return At({},{aN:0,uN:0,cN:0,lN:0,dN:0,fN:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.vP.X_(),{dN:this.bMt,lN:this.yR.RV.Jz})}get Tr(){var t;return null==(t=this.oTt)?void 0:t.Tr}get Z_(){return this.vP.Z_}set Z_(t){this.vP.Z_=t}get eg(){return this.Ept}set eg(t){this.Ept!==t&&(this.Ept=t,this.Co(t?new vW:new mW))}get hg(){return this.vP.hg}get ag(){return this.vP.ag}set ag(t){CH.$y(je,"Setting playback rate to "+t+"."),this.vP.ag=t}get fg(){return this.OMt.ks()}get OMt(){return this.vP.fg}get gg(){return this.NP}set gg(t){this.NP!==t&&(this.NP=t,this.Ojt())}get vg(){let t=this.vP.vg;return this.PMt&&(t=x.max(Os.Gn,t)),t}get yg(){return this.SMt.ks()}get SMt(){let t=this.I$;const i=[this.pjt,this.yjt].filter(li);if(t.U>0&&i.some((t=>!t.xDt.OEt))){const e=this.OMt,s=t.jn(t.U-1);if(e.U>0&&e.jn(e.U-1)>s){let n=e.jn(e.U-1);const r=function(t){return t.reduce(((t,i)=>t.Sn(i.xDt.Obt)),new Ki([0,1/0]))}(i);r.U>0&&(n=x.min(n,r.jn(r.U-1))),t=t.HB(new Ki([s,n]))}}return t}aLt(){let t=function(t){if(0===t.length)return Ki.lR();let i=new Ki([0,1/0]),e=0;for(const s of t){const t=s.xDt.yg;t.U>0&&(i=i.Sn(t),e=x.max(e,t.Cn(0)))}if(i.U>0)return i;return Ki.uR(e)}([this.pjt,this.yjt].filter(li));0!==t.U&&(this.DP&&this.mjt&&this.DP.ct!==1/0&&(t=new Ki([t.Cn(0),this.DP.ct])),this.I$=t,this.jjt&&this.sgt.IS(t.Cn(0)),this.zjt&&this.ajt.IS(t.Cn(0)))}get Tg(){var t;return null!=(t=this.Ejt)?t:this.vP.Tg}get IP(){}get nt(){return this.Dl}get rt(){return this.hN}get Ig(){var t,i;return this.vP.Ig||(null==(i=this._jt)||null==(t=i.mIt)?void 0:t.Ti)||0}get Lg(){var t,i;return this.vP.Lg||(null==(i=this._jt)||null==(t=i.mIt)?void 0:t.ji)||0}get xg(){return this.vP.xg}set xg(t){CH.$y(je,"Setting volume to "+t+"."),this.vP.xg=t}get zg(){return this.SP}get Bg(){return!1}set Bg(t){}get EP(){return this.bP}Hg(){return!1}Rg(){return this.vP.ya}be(){CH.$y(je,"Hiding the player."),this.vP.be()}Gg(){CH.$y(je,"Pausing the player."),this.vP.Gg()}async Vg(){this.q4=!0;const t=this.vP.Vg();if(this.R_){const t=this.SMt;t.U>0&&this.Dp(t.Cn(0))}this.bjt||await this.Ojt(),this.sMt(),await t}sMt(){var t;if(!this.IMt())if(null==(t=this.ZDt)?void 0:t.xDt.OEt){var i;let t=!0,e=0;const s=null==(i=this._jt)?void 0:i.xDt.Cn;if(!this.sTt&&s&&(t=!s.MEt,e=s.yEt,e<0)){const t=this.ZDt.xDt.Obt;e+=t.jn(t.U-1)}this.kjt(e,t)}else this.kjt(1/0,!0);this.Pjt()&&this.kjt(1/0,!0)}IMt(){var t;const i=this.SMt;if(0===i.U)return!0;const e=null==(t=this.Bjt)?void 0:t.ZB(this.j_);return(e&&e>0?this.Bjt.jn(e):this.j_)>=i.Cn(0)}get Bjt(){var t,i;const e=null==(t=this.Rjt)?void 0:t.UOt,s=null==(i=this.djt)?void 0:i.UOt;return e?s?s.Sn(e):e:s}Pjt(){return LZ(this.j_,this.pjt)||LZ(this.j_,this.yjt)}BTt(){this.yP=void 0,this.MP=void 0}uB(t){this.yP||(W(this.Zn()),this.yP=Vs(t),this.MP=t,this.Co(new pe(t)))}ge(){CH.$y(je,"Showing the player."),this.vP.ge()}qg(){throw new b("Not implemented")}Xg(){throw new b("Not implemented")}Zg(){}Kg(){this.bjt&&W(this.Ujt(this.pjt,this.yjt,this.Njt,{Kg:!0}))}async ga(i,e,s){(CH.$y(je,"Setting the player source to "+i.src+"."),this.BTt(),this.Lkt&&!Rv(this.Lkt)&&(await this.Zn(),Pi(s)),i.src&&!Rv(i))&&(this.jP.iP(i.contentProtection),this.Lkt=i,this.Qjt=i.seamlessSwitchStrategy,this.zjt=!Ho(i.ignoreEmbeddedTextTrackTypes,Ks.CEA608),this.jjt=!Ho(i.ignoreEmbeddedTextTrackTypes,Ks.EMSG),this.yn(Au.kDt,this.handleBufferingErrorEvent),this.oTt=new _X(this.gE,this.Vht,i.useCredentials,lg.zv(i.src),i.liveOffset),this.oTt.yn(Ir.KLt,this.bkt),this.oTt.yn(Ir.JLt,this.Fjt),this.oTt.yn(t.UA,this.Ds),this.oTt.yn(t.QA,this.Ds),this.Yjt=new mX(i,this.oTt,this.vP),this.Dl.oP(this.Yjt.nt),null!=this.zOt||(this.zOt=this.Gjt.D8()),e.textTracks&&this.zP(e.textTracks),Qs(this.Dl),this.Ojt())}Ojt(){return this.hgt=this.Vjt(this.hgt,this.mE.a_).catch(this.hwt),this.hgt}async Vjt(t,i){if(t&&(await t,Pi(i)),!this.oTt)return;const e=this.NP;e===tt.HT||this.q4?await this.ait(i):e===tt.Mp&&await this.Wjt(i)}async Wjt(t){if(void 0===this.oTt||this.PMt)return;if(!this.oTt.ikt){try{await this.oTt.okt(t)}catch(t){throw go(t),this.eg=!1,new ce(y_.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+t.message,t)}this.Hjt.pnt()}const i=await this.qjt();this.Xjt(i);const e=this.Zjt(i.bIt),s=this.Kjt(i.LIt),n=this.Jjt(i.VEt);if(!n){const t=DZ(i.WEt);t&&(CH.$y(je,"Detected initial closed caption rendition."),this.$jt(i,t))}await this.Ujt(e,s,n,{tzt:!0}),this.PMt=!0,this.sNt.aNt()}async qjt(){if(this.izt=this.oTt.Tr.EIt,!this.izt.length)throw new ce(y_.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");let t=await this.ezt(this.izt);if(0===t.length)throw new ce(y_.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");const i=await this.vjt(t);return i.length>0&&(t=i),CH.$y(je,"Selecting initial active variant stream."),function(t,i,e,s){void 0===s&&(s=qv.maximumBackoff);const n=function(t,i){if(void 0===i)return t;const e=i.preferredVideoCodecs,s=i.preferredAudioCodecs;if(void 0!==e){let i;for(const n of e){const e=t.filter((t=>t.Het&&t.Het.wIt&&Ft(t.Het.wIt,n)));if(0===e.length)continue;if(void 0===s)return e;void 0===i&&(i=e);const r=IZ(e,s);if(void 0!==r)return r}if(void 0!==i)return i}if(void 0!==s){const i=IZ(t,s);if(void 0!==i)return i}return t}(t,i),r=EZ(n,s);switch(e.JV.type){case Ha.BANDWIDTH:{const t=e.sW,i=r.filter((i=>i.Jz<=t));if(i.length>0)return ig(i,(t=>t.Jz))}case Ha.PERFORMANCE:return Ro(r,(t=>t.Jz));case Ha.QUALITY:return ig(r,(t=>t.Jz))}}(t,this.Lkt.abr,this.yR,this.fut.maximumBackoff)}Zjt(t){if(this.szt){const t=this.nzt(this.szt);if(t)return t}return SZ(t)}Kjt(t){if(this.rzt){const t=this.nzt(this.rzt);if(t)return t}return SZ(t)}Jjt(t){for(const t of this.Dl.xw)t.eA===La.Xn&&(this.hzt=this.ozt(t));if(this.hzt){const t=this.nzt(this.hzt);if(t)return t}return DZ(t)}ozt(t){return p(this._jt.VEt,(i=>t===this.azt.get(i.Vw)))}async ait(t){this.bjt||(await this.Wjt(t),this.bjt=!0,await this.Ujt(this.pjt,this.yjt,this.Njt,{tzt:!0}))}zP(t){for(const i of t)i.src&&this.UP.lE(i)}$jt(t,i){if(!this.zjt)return;const e=function(t){const i=[];for(const e of t){const t=AZ(e);void 0!==t&&i.push({r6:t,h6:e.gs||"",kh:e.l})}return i}(t.WEt);for(const t of e)this.ajt.x_t(t);if(void 0!==i){const t=AZ(i);this.ajt.k_t(t).eA=La.Xn}}get Djt(){return[this.Rjt,this.djt,this.uzt].filter(li)}tIt(t){for(const i of t)if(!this.czt(i))throw new b("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.");this.izt=t}czt(t){const i=this.Tr;return!!i&&Ho(i.EIt,t)}nzt(t){if(this._jt)return p(this._jt.jIt,(i=>i===t))}Xjt(t){var i;if(CH.$y(je,"Setting active variant stream."),this._jt===t)return;const e=(null==(i=this._jt)?void 0:i.HSt)!==(null==t?void 0:t.HSt);if(this._jt&&e)for(const t of this._jt.VEt)this.pE(t);if(this._jt=t,this.Co(new $X),this.ZMt(),t&&e)for(const i of t.VEt)this.lzt(i)}lzt(t){const i=this.vP.dE(Oi.pp,void 0,t.l,t.gs,t.ODt,void 0,void 0,t.UDt.map(kH).filter(li));i.yn(ea.ra,this.onTextTrackChange),this.azt.set(t.Vw,i),this.dzt.tt(i)}pE(t){const i=this.azt.get(t.Vw);i&&(i.fn(ea.ra,this.onTextTrackChange),this.dzt.it(i),this.azt.delete(t.Vw),this.vP.pE(i))}async Ajt(){var t;const i=null!=(t=this.izt)?t:this.Tr.EIt;if(0===i.length&&!this.izt)return CH.$y(je,"The HLS stream does not contain any variant streams, skipping ABR selection."),[];if(1===i.length&&!this.izt)return CH.$y(je,"The HLS stream contains only a single variant stream, skipping ABR selection."),[];const e=await this.ezt(i);if(0===e.length)return CH.IIt(je,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),[];const s=EZ(e,this.fut.maximumBackoff);return 0===s.length?(this.fzt||(CH.IIt(je,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),this._zt++,await this.gzt(e)),[]):s}async wzt(){const t=await this.DSt();if(void 0===t)return;const i=!!this._jt&&t.Jz<this._jt.Jz;await this.iIt(t,{eIt:i})}async DSt(){var t,i;const e=await this.Ajt();if(0===e.length)return;const s=function(t){const i=t.j_,e=t.b_.oR(i);return e?e.jn(0)-i:0}(this.vP),n=await this.vjt(e),r={ji:this.vP.ji,Ti:this.vP.Ti,pSt:s,Rat:null==(i=this.Lkt)||null==(t=i.abr)?void 0:t.restrictToPlayerSize},h=await this.Azt.DSt(e,this._jt,n,r,new vZ(this.DP));return!!this._jt&&h.Jz<this._jt.Jz||this.vzt(h,s)?h:void 0}vzt(t,i){var e;if(t===this.ZDt)return!1;const s=this.ZDt&&bZ(this.ZDt,this.fut.maximumBackoff),n=bZ(t,this.fut.maximumBackoff);if(!s&&n)return!0;(!this.mzt||this.mzt.KDt.Jz>t.Jz)&&(this.mzt={KDt:t,Gct:lg.f_()});const r=lg.f_()-this.mzt.Gct;var h;const o=null!=(h=null==(e=this.dIt)?void 0:e.xDt.mSt)?h:1/0;return i>=x.max(o-1,5)||r>1e3}async gzt(t){this.fzt=!0;let i=!1;for(const e of t)try{const t=this.yjt?p(e.LIt,(t=>zn(t,this.yjt))):void 0;if(void 0===t)continue;await this.gkt(t),t.xDt.Zbt=-1/0,i=!0}catch(t){}if(i)this._zt=0,await this.pzt();else{if(this._zt>=this.fut.maxRetries)return void this.uB(new ce(y_.MEDIA_LOAD_ERROR,"The provided video renditions could not be loaded."));const t=x.min(this.fut.minimumBackoff*2**(this._zt-1),this.fut.maximumBackoff);await ws(t)}this.fzt=!1,await this.wzt()}async ezt(t){let i=await ng(t,(async t=>{var i,e,s;const n=[(null==(i=t.Het)?void 0:i.gIt)?'audio/mp4; codecs="'+t.Het.gIt+'"':void 0,(null==(e=t.Het)?void 0:e.wIt)?'video/mp4; codecs="'+t.Het.wIt+'"':void 0].filter(li);return 0===n.length||await this.yzt.rq(n,null==(s=this.Lkt)?void 0:s.useManagedMediaSource)}));return i.some((t=>{var i;return null==(i=t.Het)?void 0:i.wIt}))&&(i=i.filter((t=>!t.Het||t.Het.wIt||0!==t.LIt.length))),i.some((t=>{var i;return null==(i=t.Het)?void 0:i.gIt}))&&(i=i.filter((t=>!t.Het||t.Het.gIt||0!==t.bIt.length))),i}vjt(t){return this.oTt.skt?ng(t,(t=>async function(t,i){for(const e of t)if(!await i(e))return!1;return!0}([SZ(t.bIt),SZ(t.LIt),DZ(t.VEt),DZ(t.WEt)].filter(li),(t=>this.Mzt(t))))):Promise.resolve([])}async Mzt(t){if(0===t.xDt.bet.length)return!1;const i=t.xDt.bet[0];if(!i.xAt)return!1;const e=i.xAt,s=e.cmt?eq(e.cmt.Cn,e.cmt.U):void 0;try{return await this.Vht.aet(e.ST,s)}catch(t){return!1}}async iIt(t,i){if(!this.bjt)throw new b("LLHLSPlayer - The LLHLSPlayer is not loaded.");if(!t)throw new b("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");if(!this.czt(t))throw new b("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");if(t===this._jt)return void CH.$y(je,"Trying to set the already active variant stream, ignoring.");const e=this.pjt?p(t.bIt,(t=>zn(t,this.pjt))):void 0,s=this.yjt?p(t.LIt,(t=>zn(t,this.yjt))):void 0,n=this.Njt?p(t.VEt,(t=>zn(t,this.Njt))):void 0;this.Xjt(t),this.mzt=void 0,await this.Ujt(e,s,n,i)}async lIt(t){if(!t)throw new b("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");if(!this._jt)return void(this.szt=t);const i=this.nzt(t);if(!i)throw new b("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");this.cIt!==i&&(CH.$y(je,"Switching audio rendition"),await this.Ujt(i,this.yjt,this.Njt,{nIt:!0}))}async fIt(t){if(!t)throw new b("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");if(!this._jt)return void(this.rzt=t);const i=this.nzt(t);if(!i)throw new b("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");this.dIt!==i&&(CH.$y(je,"Switching video rendition"),await this.Ujt(this.pjt,i,this.Njt,{sIt:!0}))}async Tzt(t){if(!t)throw new b("LLHLSPlayer - Cannot explicitly set the active subtitle rendition to undefined.");if(!this.PMt)return void(this.hzt=t);const i=this.nzt(t);if(!i)throw new b("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");CH.$y(je,"Switching subtitle rendition"),await this.Ujt(this.pjt,this.yjt,i)}async Nzt(t,i){this.fzt||(t.hA!==Qn.vp?await this.Dzt(t,i):this.izt&&this.izt.length<=1?(this.yjt!==t&&await this.Ujt(this.pjt,t,this.Njt),await this.Dzt(t,i)):await this.wzt())}async gkt(t,i){try{await this.oTt.gkt(t,i)}catch(e){throw go(e),(ay(e)||ee(e))&&await this.Nzt(t,i),e}}async Dzt(t,i){if(!Ho(this.Izt,t)){this.Izt.push(t);try{const e=t.hA===Qn.pp||t.hA===Qn.USt?1/0:this.fut.maxRetries;await pu((()=>this.retryOfflineRenditionsCallback(t,i)),i,e,this.fut.minimumBackoff,this.fut.maximumBackoff)}catch(t){this.uB(new ce(y_.MEDIA_LOAD_ERROR,t.message,t))}finally{Et(this.Izt,t),t.xDt.Zbt===-1/0&&await this.pzt()}}}Ujt(t,i,e,s){void 0===s&&(s={});const n={eIt:s.eIt||!1,nIt:s.nIt||!1,sIt:s.sIt||!1,Kg:s.Kg||!1,tzt:s.tzt||!1};return n.tzt||n.Kg||this.pjt!==t||this.yjt!==i||this.Njt!==e?void 0===t&&void 0===i?Promise.reject(new b("Trying to buffer no media renditions.")):(this.pjt=t,this.yjt=i,this.Njt=e,this.aLt(),this.Co(new tZ),this.u2.c_(),this.u2=new xs,this.Szt.c_(),this.Szt=new xs,this.Cjt=this.Ezt([this.Cjt,this.c2].filter(li),t,i,e,n,this.Szt.a_).catch(this.xjt),this.Cjt):Promise.resolve()}async bzt(t,i,e,s){const n=[this.Lzt(i,s),this.Lzt(e,s)];return pH(t,i)||n.push(this.Lzt(t,s)),Promise.all(n)}async Lzt(t,i){if(t)try{await this.oTt.gkt(t,i)}catch(e){go(e),(ay(e)||ee(e))&&await this.kzt(t,i)}}async kzt(t,i){if(!this.fzt)if(t.hA!==Qn.vp)await this.Dzt(t,i);else if(this.izt&&this.izt.length<=1)await this.Dzt(t,i);else{const t=await this.qjt();this.Xjt(t);const i=this.Zjt(t.bIt),e=this.Kjt(t.LIt),s=this.Jjt(t.VEt);await this.Ujt(i,e,s)}}async Ezt(t,i,e,s,n,r){var h;if(!this.bjt)return void await this.bzt(i,e,s,r);await Promise.all(t.map((t=>t.catch(fg)))),this.Czt(),await this.xzt(r),await this.Ozt();const o=[];n.nIt&&this.DP&&this.DP.g$&&o.push(this.DP.g$.pN(0,1/0)),n.sIt&&this.DP&&this.DP.w$&&o.push(this.DP.w$.pN(0,1/0)),await Promise.all(o),Pi(r);const a=await this.jzt(i,e,n.Kg,r);this.zzt(i,e,n.eIt||a),this.Pzt(s,n.eIt),Pi(r);const u=[e,pH(i,e)?void 0:i,s].filter(li);try{await Promise.all(u.filter((t=>!t.xDt.Vbt)).map((t=>{var i;return null==(i=this.oTt)?void 0:i.wkt(t,r)})))}catch(t){go(t)}if(Pi(r),this.D$(),this.aLt(),this.bjt)if(void 0!==this.Ijt)this.kjt(this.Ijt,this.Sjt);else if(!this.sTt&&(null==(h=this._jt)?void 0:h.xDt.Cn)){const t=this._jt.xDt,i=t.Cn;let e=i.yEt;if(i.yEt<0){const i=t.Obt;e+=i.jn(i.U-1)}this.kjt(e,!i.MEt)}else!this.sTt&&u.every((t=>!t.xDt.OEt))?this.kjt(1/0,!0):this.Djt.length>0&&this.Bzt()}async jzt(t,i,e,s){var n,r;const h=void 0!==t&&t!==i,o=void 0!==i,a=await this.Rzt(t,i,this._jt);if(Pi(s),!e&&this.DP&&!a)return!1;const u=void 0!==(null==(n=this.DP)?void 0:n.g$),c=void 0!==(null==(r=this.DP)?void 0:r.w$);if(!e&&!(h!==u||o!==c)&&a&&this.DP&&this.DP.PH(a))return await this.xzt(s),await this.DP.RH(a),!0;for(const t of this.Djt)t.kOt.forEach((t=>t.c_()));this.vP.v3();try{this.DP&&await this.vP.Zn(),this.DP=await this.Uzt(a,h,o)}finally{this.vP.m3()}return!0}async Rzt(t,i,e){var s,n;const r=e.Het,h=[];if(void 0!==t){if(!r||!r.gIt)return;{const t='audio/mp4; codecs="'+r.gIt+'"';CH.$y(je,"Configuring MediaSource for initial audio rendition with codec: "+t+"."),h.push(t)}}if(void 0!==i){if(!r||!r.wIt)return;{const t='video/mp4; codecs="'+r.wIt+'"';CH.$y(je,"Configuring MediaSource for initial video rendition with codec: "+t+"."),h.push(t)}}if(0===h.length)return void CH.IIt(je,"No codecs found on the active variant stream.");var o;const a=null!=(o=null==i||null==(s=i.xDt.bet[0])?void 0:s.NEt)?o:[];var u;const c=null!=(u=null==t||null==(n=t.xDt.bet[0])?void 0:n.NEt)?u:[],l=this.oTt.Tr,d=await uq(this.Lkt.contentProtection,h,l.zLt.concat(c).concat(a),this.gE,this.Lkt.useCredentials);return{hA:wt.xO,E$:h.map((t=>({LP:t}))),kP:d,B$:this.Lkt.useManagedMediaSource}}async Uzt(t,i,e){let s;return s=t?await this.vP.$n(t):new nZ(this.vP,i,e),this.DP=s,this.D$(),this.Wyt(),this.Hyt(),s}D$(){const t=this.DP;if(t&&j(t.ct)){var i,e,s;const n=null!=(s=null==(i=this.pjt)?void 0:i.xDt.ct)?s:null==(e=this.yjt)?void 0:e.xDt.ct;void 0!==n&&n>0&&t.T$(n)}this.aLt()}Wyt(){const t=this.DP;t&&(t.w$&&(t.w$.ZV=this.yR.hW),t.g$&&(t.g$.ZV=this.yR.hW))}Hyt(){const t=this.DP;t&&(t.w$&&(t.w$.tW=this.yR.tW),t.g$&&(t.g$.tW=this.yR.tW))}zzt(t,i,e){if(!this.DP)throw new b("Invalid state");this.DP.g$?this.p$&&this.p$.ojt(this.DP.g$)||(this.p$=new wZ(hv.mp,this.DP.g$,this.jjt?this.sgt:void 0,this.zjt?this.ajt:void 0)):this.p$=void 0,this.DP.w$?this.y$&&this.y$.ojt(this.DP.w$)||(this.y$=new wZ(hv.vp,this.DP.w$,this.jjt?this.sgt:void 0,this.zjt?this.ajt:void 0)):this.y$=void 0;const s=pH(t,i);if(this.y$&&i){const t=s&&this.p$?[this.y$,this.p$]:[this.y$];this.djt?this.djt.XDt!==i&&(e&&(this.djt.c_(),this.djt.POt.OL()),this.djt.FCt(i)):(this.djt=function(t,i,e,s,n,r,h,o,a,u){const c=s.Tr.WT,l=new RX(c),d=new zX(hv.vp,t,s,l,n,r,h,u),f=i.map((t=>t.hA)),_=o.myt(l,s.Tr.WT,f),g=new JX(d,l,_,a);return g.BOt(i),g}(i,t,this.vP,this.oTt,this.gE,this.Vht,this.eCt,this.zOt,this.yR,this.Lkt.useCredentials),this.djt.xOt.yn(gr.BCt,this.Qzt),this.djt.xOt.yn(gr.RCt,this.Fzt),this.djt.jOt.yn(Lu.nOt,this.Yzt),this.djt.jOt.yn(Lu.hOt,this.Gzt),this.djt.jOt.yn(Lu.oOt,this.Vzt),this.djt.jOt.yn(Lu.rOt,this.Wzt)),this.djt.BOt(t)}else{var n;null==(n=this.djt)||n.e_(),this.djt=void 0}var r;this.p$&&t&&!s?(this.Rjt?this.Rjt.XDt!==t&&(e&&(this.Rjt.c_(),this.Rjt.POt.OL()),this.Rjt.FCt(t)):(this.Rjt=function(t,i,e,s,n,r,h,o,a,u){const c=s.Tr.WT,l=new RX(c),d=new zX(hv.mp,t,s,l,n,r,h,u),f=o.myt(l,s.Tr.WT,[i.hA]),_=new JX(d,l,f,a);return _.BOt([i]),_}(t,this.p$,this.vP,this.oTt,this.gE,this.Vht,this.eCt,this.zOt,this.yR,this.Lkt.useCredentials),this.Rjt.xOt.yn(gr.RCt,this.Fzt),this.Rjt.jOt.yn(Lu.nOt,this.Yzt),this.Rjt.jOt.yn(Lu.rOt,this.Wzt)),this.Rjt.BOt([this.p$])):(null==(r=this.Rjt)||r.e_(),this.Rjt=void 0);this.Hzt()}Pzt(t,i){if(this.uzt){this.uzt.xOt.XDt===t?i&&(this.uzt.c_(),this.uzt.POt.OL()):(this.uzt.e_(),this.uzt=void 0)}if(!this.uzt&&t){const i=this.azt.get(t.Vw);i.eA=La.Xn,this.uzt=function(t,i,e,s,n,r,h){const o=e.Tr.WT,a=new FX(i,o),u=new RX(o),c=new zX(hv.Ru,t,e,u,s,n,r,h),l=new XX(u,o,hv.Ru),d=new JX(c,u,l);return d.ROt(a),d}(t,i,this.oTt,this.gE,this.Vht,this.eCt,this.Lkt.useCredentials)}}Hzt(){const t=[this.p$,this.y$].filter(li).map((t=>t.hA));this.oTt.Tr.WT.jLt(t)}async l2(t,i,e,s){await Promise.all(t.map((t=>t.catch(fg)))),Pi(s),await this.Ozt(),Pi(s),this.Ijt=void 0,this.Ejt=void 0,this.sTt=!0;const n=this.SMt.FB(i);this.vP.Dp(n,e),this.bjt&&this.Djt.length>0&&(this.qzt(this.vP.j_),this.Bzt())}qzt(t){for(const i of this.Djt)i.ext(t)||(i.GOt(),i.POt.Hxt()),i.FOt(t)||(i.VOt(),i.POt.qxt())}Czt(){for(const t of this.Djt)t.c_()}Ozt(){return Promise.all([this.Xzt(),this.Zzt(),this.Kzt()])}Bzt(){this.Jzt(),this.$zt(),this.tPt()}async pzt(){this.bjt&&this.Djt.length>0&&(this.Djt.forEach((t=>t.GOt())),await this.Xzt(),this.Jzt(),this.Djt.forEach((t=>t.xOt.uxt())))}Jzt(){if(this.iPt)return;const t=()=>{this.iPt=void 0};this.ePt=new xs,this.iPt=this.sPt(this.ePt.a_).catch(this.xjt).then(t,t)}async Xzt(){var t;null==(t=this.ePt)||t.c_();const i=this.iPt;this.iPt=void 0,i&&await i}async sPt(i){Pi(i);const e=this.Djt;for(;;){const s=[],n=this.vP.j_;for(const t of e){const i=t.xOt,e=t.sut(n);if(i.Qkt)s.push(i.Gkt());else if(t.YOt(n,e,this.yR.hW)){const n=i.sxt(e);if(void 0===n){if(i.XDt.xDt.OEt)continue;const t=i.XDt.xDt.bet;t.length&&t[0].zN>e&&(this.j_=1/0),i.dxt(),i.hxt(e)}else{const[e,s]=n;i.hht(e,s,t.kkt),t.jOt.AOt(e,s)}s.push(i.Gkt())}}await gg((i=>{if(0===s.length){e.every((t=>t.xOt.ixt))||s.push(this.vP.D_(t.ov,i));for(const t of e)s.push(t.jOt.D_(Lu.rOt,i))}return hh(Promise.race(s),i)}),i)}}$zt(){if(this.nPt)return;const t=()=>{this.nPt=void 0};this.rPt=new xs,this.nPt=this.hPt(this.rPt.a_).catch(this.xjt).then(t,t)}async Zzt(){var t;null==(t=this.rPt)||t.c_();const i=this.nPt;this.nPt=void 0,i&&await i}async hPt(t){Pi(t);const i=this.Djt;for(;;){const e=[];for(const t of i){const i=t.xOt,s=t.jOt;if(s.Qkt)e.push(s.Gkt());else{const t=i.XCt();t?"Ght"===t.hA?(s.yOt(t),e.push(s.Gkt())):"bEt"===t.hA&&(s.vOt(t),e.push(s.Gkt())):e.push(i.cxt())}}if(0===e.length)break;await hh(Promise.race(e),t)}}tPt(){if(this.oPt)return;this.aPt=new xs;const t=()=>{this.oPt=void 0};this.oPt=this.uPt(this.aPt.a_).catch(this.xjt).then(t,t)}async Kzt(){var t;null==(t=this.aPt)||t.c_();const i=this.oPt;this.oPt=void 0,i&&await i}async uPt(t){for(;;){const i=this.Djt;i.forEach((t=>t.nht()));const e=[],s=[],n=[];for(const t of i){const i=t.jOt;for(const r of t.kOt){const t=r.Pkt?e:s;if(r.Qkt)t.push(r.Gkt());else if(!r.Vkt(this.vP.j_)){const e=i.SOt(r.hA);e?"Ght"===e.hA&&e.CEt===this.Mjt?(r.out(e),t.push(r.Gkt())):"bOt"===e.hA&&e.CEt===this.Mjt&&(r.QK(e),t.push(r.Gkt())):n.push(i.EOt(r.hA))}}}if(0===e.length){const e=Eh(i,(t=>t.kOt.filter((t=>t.Pkt)).map((i=>t.jOt.SOt(i.hA)))));if(e.length>0&&e.every((t=>void 0!==t&&"bOt"===t.hA&&t.CEt!==this.Mjt))){const s=e,n=ig(s,(t=>t.CEt)).CEt;if(s.every((t=>t.CEt===n))){const i=Ro(s,(t=>t.zN)).zN,e=await this.cPt(s);this.lPt(e)?(CH.DIt(xH,"Seamless switch from",this.DP.wd,"to",e),await this.DP.RH(e),CH.DIt(xH,"Seamless switch complete.")):await this.dPt(i,e,t),this.Mjt=s[0].CEt}else for(const t of i)for(const i of t.kOt){let e=t.jOt.SOt(i.hA);for(;e&&e.CEt!==n;)t.jOt.Hkt(e),e=t.jOt.SOt(i.hA)}continue}}if(0===e.length&&0===s.length&&0===n.length){i.every((t=>t.kOt.length>0&&t.kOt.every((t=>t.Vkt(this.vP.j_)))))&&this.DP.NJ();break}await hh(Promise.race([...e,...s,...n]),t)}}lPt(t){return this.Qjt===K.JT||this.Qjt!==K.$T&&this.DP.PH(t)}async cPt(t){const i=t.map((t=>t.LOt.Het)),e=i.map((t=>({LP:t}))),s=Eh(t,(t=>t.LOt.NEt));s.push(...this.oTt.Tr.zLt);let n=await uq(this.Lkt.contentProtection,i,s,this.gE,this.Lkt.useCredentials);return 0===n.length&&this.DP&&this.DP.wd.kP.length>0&&(n=this.DP.wd.kP),{hA:wt.xO,E$:e,kP:n,B$:this.Lkt.useManagedMediaSource}}async dPt(i,e,s){var n;const r=this.DP,h=r.ct,o=this.b_.length>0&&this.j_<i;if(o)try{for(CH.DIt(xH,"Marking end of stream and waiting for ended to switch discontinuity."),r.NJ();!this.vP.R_&&this.vP.j_<i;)await this.vP.D_([t.ov,t.kA],s)}catch(t){throw r._J(),r.T$(h),t}CH.DIt(xH,"Perform hard switch from",null==(n=this.DP)?void 0:n.wd,"to",e);try{this.vP.v3(),this.j_<i&&this.vP.Dp(i,!0,!0),this.y$=void 0,this.p$=void 0,this.Hzt(),await this.vP.Zn(),this.DP=await this.vP.$n(e),this.D$(),this.Wyt(),this.Hyt(),this.DP.w$&&(this.y$=new wZ(hv.vp,this.DP.w$,this.jjt?this.sgt:void 0,this.zjt?this.ajt:void 0),this.y$.kJ(i-1,i)),this.DP.g$&&(this.p$=new wZ(hv.mp,this.DP.g$,this.jjt?this.sgt:void 0,this.zjt?this.ajt:void 0),this.p$.kJ(i-1,i)),this.Hzt()}finally{o&&W(this.vP.Vg()),this.vP.m3()}if(this.djt){const t=void 0!==this.p$&&void 0===this.Rjt?[this.y$,this.p$]:[this.y$];this.djt.BOt(t)}this.Rjt&&this.Rjt.BOt([this.p$]),CH.DIt(xH,"Hard switch complete.")}xzt(t){return hh(pl(Eh(this.Djt,(t=>t.kOt.map((t=>t.Gkt()))))),t)}ZMt(){const t=this.Lg,i=this.Ig;this.tNt===t&&this.iNt===i||(this.tNt=t,this.iNt=i,this.Co(new Yy))}async gn(){CH.$y(je,"Unloading the player."),this.fPt(),this.BTt(),await this.Zn(),this.vP.VP=void 0,this.dzt.gn(),await this.UP.gn(),await this.sgt.gn(),await this.ajt.gn(),this.nN.gn(),this.hN.gn(),this.Dl.gn(),this._Pt.gn(),this.sNt.e_(),this.eCt.e_(),this.zOt&&(this.zOt.e_(),this.zOt=void 0)}async Zn(){CH.$y(je,"Resetting the player."),this.fn(Au.kDt,this.handleBufferingErrorEvent),this.Mjt=-1,this.mE.c_(),this.mE=new xs,this.u2.c_(),this.u2=new xs,this.Szt.c_(),this.Szt=new xs;const t=[this.hgt,this.c2,this.Cjt].filter(li);await Promise.all(t.map((t=>t.catch(fg)))),this.hgt=void 0,this.c2=void 0,this.Cjt=void 0,this.pjt=void 0,this.yjt=void 0,this.Njt=void 0,this.izt=void 0,this.szt=void 0,this.rzt=void 0,this.hzt=void 0,this.szt=void 0,this.rzt=void 0,this.hzt=void 0,this.Izt=[],this.Xjt(void 0),this.Czt(),await this.Ozt(),this.Rjt&&(this.Rjt.e_(),this.Rjt=void 0),this.djt&&(this.djt.e_(),this.djt=void 0),this.uzt&&(this.uzt.e_(),this.uzt=void 0),this.p$=void 0,this.y$=void 0,this.DP=void 0,this.oTt&&(this.oTt.e_(),this.oTt=void 0),this.Yjt&&(this.Dl.cP(this.Yjt.nt),this.Yjt=void 0),await this.UP.Zn(),await this.sgt.Zn(),await this.ajt.Zn(),this.vP.QP(),await this.vP.Zn(),this.Lkt=void 0,this.bjt=!1,this.I$=Ki.lR(),this.Ijt=void 0,this.$Tt=void 0,this.tNt=0,this.iNt=0,this.Ejt=void 0,this.sTt=!1,this.q4=!1,lg.__(this.Ljt),this.PMt=!1,this.gPt=!1,this.bMt=0,this.Qjt=K.HT,this._Pt.Zn(),this.wPt(),this.Co(new Wv(this.j_,this.vg))}wPt(){for(const t of this.nN.xw)t.gn();for(const t of this.hN.xw)t.gn();for(const t of this.Dl.xw)t.gn();this.nN.Zn(),this.hN.Zn(),this.Dl.Zn(),this.azt.clear()}APt(){this._Pt.yn(mZ,this.Ds),this._Pt.yn(er.Tv,this.KP),this._Pt.yn(er.Mv,this.vPt),this._Pt.yn(er.vv,this.mPt),this.yR.yn("XV",this.rNt),this.yR.yn("$V",this.hNt),this.vP.yn(pZ,this.Ds),this.vP.yn(t.NA,this.handleContentProtectionErrorEvent),this.vP.yn(t.EA,this.pPt),this.vP.yn(t.kA,this.Mh),this.vP.yn(t.Sh,this.yPt),this.vP.yn(t.jh,this.MPt),this.vP.yn(t.VA,this.TPt),this.vP.yn(er.Mw,this.ZO),this.vP.yn(t.ov,this.b1),this.vP.yn(t.ZA,this.We),this.vP.yn(t.XA,this.XP),this.vP.yn(t.qA,this.NPt),this.vP.yn(t.uv,this.DPt)}fPt(){this._Pt.fn(mZ,this.Ds),this._Pt.fn(er.Tv,this.KP),this._Pt.fn(er.Mv,this.vPt),this._Pt.fn(er.vv,this.mPt),this.yR.fn("XV",this.rNt),this.yR.fn("$V",this.hNt),this.vP.fn(pZ,this.Ds),this.vP.fn(t.NA,this.handleContentProtectionErrorEvent),this.vP.fn(t.EA,this.pPt),this.vP.fn(t.kA,this.Mh),this.vP.fn(t.Sh,this.yPt),this.vP.fn(t.jh,this.MPt),this.vP.fn(t.VA,this.TPt),this.vP.fn(er.Mw,this.ZO),this.vP.fn(t.ov,this.b1),this.vP.fn(t.ZA,this.We),this.vP.fn(t.XA,this.XP),this.vP.fn(t.qA,this.NPt),this.vP.fn(t.uv,this.DPt)}constructor(t,i,e,s,n,r,h){super(),this.yR=e,this.eCt=s,this.Gjt=n,this.azt=_e(),this.zjt=!0,this.jjt=!0,this.bjt=!1,this.Lkt=void 0,this.DP=void 0,this.hgt=void 0,this.mE=new xs,this.oTt=void 0,this.szt=void 0,this.rzt=void 0,this.hzt=void 0,this._jt=void 0,this.pjt=void 0,this.yjt=void 0,this.Njt=void 0,this.izt=void 0,this.Izt=[],this.p$=void 0,this.y$=void 0,this.Rjt=void 0,this.djt=void 0,this.uzt=void 0,this.zOt=void 0,this.Szt=new xs,this.Cjt=void 0,this.u2=new xs,this.c2=void 0,this.Mjt=-1,this.ePt=void 0,this.rPt=void 0,this.aPt=void 0,this.iPt=void 0,this.nPt=void 0,this.oPt=void 0,this.Ept=!0,this._zt=0,this.fzt=!1,this.NP=tt.DB,this.yP=void 0,this.MP=void 0,this.I$=Ki.lR(),this.IPt=[],this.Ijt=void 0,this.Sjt=!1,this.sTt=!1,this.q4=!1,this.$Tt=void 0,this.tNt=0,this.iNt=0,this.Ejt=void 0,this.Ljt=0,this.PMt=!1,this.gPt=!1,this.Qjt=K.HT,this.mzt=void 0,this.SPt=void 0,this.SP=new CI,this.bMt=0,this.handleContentProtectionErrorEvent=t=>{this.yP=Vs(t.errorObject),this.MP=t.errorObject,this.Ds(t)},this.handleBufferingErrorEvent=t=>{this.uB(new ce(y_.MEDIA_LOAD_ERROR,t.lt.message,t.lt))},this.pPt=()=>{this.aLt();const t=this.ct;t!==this.$Tt&&(this.$Tt=t,this.Co(new Vr(this.$Tt)))},this.Mh=()=>{this.R_&&this.Co(new ys(this.j_))},this.yPt=()=>{this.Co(new ye(this.j_))},this.MPt=()=>{this.sMt(),this.Co(new fh(this.j_))},this.KP=()=>{void 0!==this.SPt&&lg.__(this.SPt),this.Co(new Vi(this.j_))},this.TPt=()=>{this.Co(new N(this.j_))},this.ZO=()=>{this.Co(new Jh(this.j_,this.vg))},this.b1=()=>{const t=this.$Dt;Uo(this.IPt,t)||(this.Co(new pX),this.IPt=t),this.Co(new jc(this.j_,this.k_))},this.Qzt=uo((t=>{t.aE===hv.vp&&this.ljt()&&W(this.fjt())}),200),this.Fzt=t=>{var i;this.bMt+=t.QCt,"Ght"===t.UCt&&t.aE===hv.vp&&W(this.wzt()),this.Co(new _Q(function(t){if(t){if(void 0!==t.cmt){var i,e;const s=t.cmt.Cn+(null!=(e=t.cmt.U)?e:0);return{zu:t.ST,fht:[null==(i=t.cmt)?void 0:i.Cn,s],uE:!0}}return{zu:t.ST.toString()||"",uE:!0}}return{zu:"",uE:!0}}(t.uri),(null==(i=this.ZDt)?void 0:i.Jz)||0,t.mediaSequenceNumeber,t.mediaTrackId,t.aE,t.httpStatusCode,t.QCt))},this.We=()=>{this.Co(new Sa(this.j_))},this.XP=()=>{this.Co(new $s(this.j_))},this.NPt=()=>{this.ZMt()},this.DPt=()=>{this.Co(new Oe(this.j_,this.xg))},this.vPt=()=>{this.vP.Tg?this.Co(new Xc(this.j_)):(null!=this.SPt||(this.SPt=lg.g_((()=>{this.gPt&&(this.mzt=void 0,W(this.wjt()))}),2500)),this.sMt(),this.Co(new Xc(this.j_)))},this.mPt=()=>{this.gPt=!0,this.Co(new Wt(this.j_,this.vg))},this.xjt=t=>{So(t)||ay(t)||ee(t)||(this.Czt(),W(this.Ozt()),this.Co(new YH(t)))},this.bkt=()=>{this.aLt()},this.Fjt=t=>{W(this.Nzt(t.XDt))},this.hwt=t=>{if(So(t))return;const i=t instanceof ce?t:new ce(y_.MEDIA_DECODE_ERROR,t.message,t);this.uB(i)},this.onTextTrackChange=t=>{if(!this._jt)return;const i=t.Lt,e=this.ozt(i);e&&(i.eA===La.sA||i.eA===La.Xn?(W(this.Tzt(e)),this.azt.forEach((t=>{t!==i&&(t.eA=La.Ch)}))):this.Njt&&this.Njt===e&&W(this.Ujt(this.pjt,this.yjt,void 0)))},this.retryOfflineRenditionsCallback=async(t,i)=>{this.Tjt!==t&&this.cIt!==t&&this.dIt!==t||(await this.oTt.gkt(t,i),t.xDt.Zbt=-1/0)},this.rNt=()=>{this.Wyt()},this.hNt=()=>{this.Hyt()},this.Yzt=t=>{const i=this._jt;if(!(null==i?void 0:i.YEt)&&(this.oTt.Skt(t.Het,t.XDt.xDt),this.Hjt.xIt(),i)){const t=void 0!==this.pjt&&!Ho(i.bIt,this.pjt),e=void 0!==this.yjt&&!Ho(i.LIt,this.yjt);(t||e)&&this.Ujt(t?void 0:this.pjt,e?void 0:this.yjt,this.Njt).catch(fg)}},this.Gzt=t=>{this.Hjt.zIt(t.XDt,t.lct)},this.Vzt=t=>{this.Hjt.BIt(t.XDt,t.aOt.cD())},this.Wzt=t=>{this.oTt.Dkt(t.XDt)},this.Vht=new GW(r),this.vP=t,this.gE=i,this.bP=new FH(this.yR.RV),this.yzt=new GH(this.vP),this.Azt=new iq(this.yR),this.fut=h.retryConfiguration,this.nN=new He,this.hN=new He,this.Hjt=new OH(this,this.yR,this.nN,this.hN),this.dzt=new jn,this.UP=new du(this.vP,this.gE),this.sgt=new FW(this.vP),this.ajt=new EY(this.vP),this.Dl=new dh([this.dzt,this.UP.Z,this.sgt.Z,this.ajt.Z]),this.jP=new EI(this.gE),this.vP.VP=this.jP,this.sNt=new NZ(this,this.vP),this._Pt=new uD(this.sNt,!0),this.APt()}},TZ=class{async lB(t,i){if(!ka(t.type))return!1;if(t.useNativePlayback)return!1;const e=t.contentProtection;if(e&&!cv(e)){if(!Ps(e))return!1;if(!await this.net(e))return!1}return!0}async net(t){return!!t.aes128||(!(!t.playready||!await lg.Lx())||(!(!t.widevine||!await lg.Sx())||(!(!t.clearkey||!await lg.bx())||!t.fairplay&&await lg.zx())))}},NZ=class extends cD{get vg(){return this.Qo.vg}aNt(){this.Co(new Jh(this.j_,this.vg))}constructor(t,i){super(i),this.Qo=t}};function DZ(t){const i=p(t,(t=>t.ODt)),e=t.filter((t=>t.jDt)),s=lg.Ltt,n=e.map((t=>t.gs)).filter(li),r=hZ(n,s);return r?p(e,(t=>t.gs===r)):i}function IZ(t,i){for(const e of i){const i=t.filter((t=>t.Het&&t.Het.gIt&&Ft(t.Het.gIt,e)));if(0!==i.length)return i}}function SZ(t){var i;return null!=(i=DZ(t))?i:t[0]}function EZ(t,i){return t.filter((t=>bZ(t,i)))}function bZ(t,i){const e=i+yZ;return 0===t.LIt.length||t.LIt.some((t=>t.xDt.Zbt<lg.f_()-e))}function LZ(t,i){if(!i||i.xDt.OEt)return!1;const e=i.xDt.bet;return 0!==e.length&&e[0].zN>t}r(),r();var kZ=class{async tCt(t,i,e){try{const s=await crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]),n=await crypto.subtle.decrypt({name:"AES-CBC",iv:e},s,t);return new T(n)}catch(t){throw new ce(y_.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.")}}e_(){}static Ux(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt}};r(),r(),r(),r();var th=class extends mg{constructor(t,i){super(t),this.data=i}},CZ=["message","messageerror","error"];r();var qn=class extends mg{constructor(t){super(Nr.ha),this.error=t}},xZ=class extends i{get EPt(){return this.bPt.a_.$f}LPt(t,i){this.EPt||(void 0!==this.kPt?this.kPt.LPt(t,i):this.CPt.push({TL:t,xPt:i}))}OPt(){this.EPt||(this.bPt.c_(),Ri(this.CPt),void 0!==this.kPt&&this.kPt.OPt())}constructor(t){super(),this.kPt=void 0,this.CPt=[],this.jPt=t=>{if(this.EPt)t.OPt();else{this.kPt=t,this.kPt.yn(CZ,this.Ds);for(const i of this.CPt)t.LPt(i.TL,i.xPt);Ri(this.CPt)}},this.zPt=t=>{if(this.EPt)return;const i=t instanceof b?t:new b("Could not create Worker.");this.Co(new qn(i)),this.OPt()},this.bPt=new xs,t(this.bPt.a_).then(this.jPt,this.zPt)}};r(),r();var OZ=class extends i{LPt(t,i){i?this.kPt.postMessage(t,i):this.kPt.postMessage(t)}OPt(){this.Vo(),this.kPt.removeEventListener("message",this.PPt),this.kPt.removeEventListener("messageerror",this.BPt),this.kPt.removeEventListener("error",this.l3),this.kPt.terminate()}constructor(t,i){super(),this.PPt=t=>{this.Co(new th("message",t.data))},this.BPt=t=>{this.Co(new th("messageerror",t.data))},this.l3=t=>{null==t.preventDefault||t.preventDefault.call(t);const i=t.error instanceof b?t.error:new b(t.message);this.Co(new qn(i)),this.OPt()},this.kPt=new nd(t,i),this.kPt.addEventListener("message",this.PPt),this.kPt.addEventListener("messageerror",this.BPt),this.kPt.addEventListener("error",this.l3)}};r();var jZ=0,zZ=class extends i{LPt(t,i){i?this.RPt.contentWindow.postMessage({type:"message",data:t},"*",i):this.RPt.contentWindow.postMessage({type:"message",data:t},"*")}OPt(){var t;this.RPt.removeEventListener("load",this.UPt),self.removeEventListener("message",this.QPt),null==(t=this.RPt.contentWindow)||t.postMessage({type:"terminate"},"*"),di(this.RPt)}constructor(t,i){super(),this.UPt=()=>{this.RPt.removeEventListener("load",this.UPt),this.RPt.contentWindow.postMessage({type:"initialize",id:this.NN,script:this.FPt},"*")},this.QPt=t=>{t.origin===this.YPt&&t.data.id===this.NN&&("initialized"===t.data.type||("error"===t.data.type?(this.Co(new qn(new b(t.data.data.message))),this.OPt()):this.Co(new th("message",t.data.data))))},this.NN=jZ++,this.FPt=t;const e=lg.Dh("iframe.html",i);this.RPt=function(t){const i=h.createElement("iframe");return i.width="0",i.height="0",i.style.display="none",i.src=t,h.body.appendChild(i),i}(e.href),this.YPt=e.origin,this.RPt.addEventListener("load",this.UPt),self.addEventListener("message",this.QPt)}};function PZ(t,i,e){const s=lg.zv(t,i);return new xZ((t=>async function(t,i,e,s){let n;try{return n=new OZ(t,e),await QZ(n,s),n}catch(t){null==n||n.OPt(),go(t)}if(UZ&&yB){let i;try{const e=await lg.tj.mS({zu:t,nE:Yc.GET,rE:Rt.Ru,a_:s});i=await e.wE(s)}catch(t){go(t)}if(i){let t;try{const r=yB([i],{type:"application/javascript"});return t=URL.createObjectURL(r),n=new OZ(t,e),await QZ(n,s),n}catch(t){null==n||n.OPt(),go(t),UZ=!1}finally{t&&URL.revokeObjectURL(t)}}}try{return n=new zZ(t,i),await QZ(n,s),n}catch(t){throw null==n||n.OPt(),t}}(s,i,e,t)))}var BZ,RZ,UZ=!0;async function QZ(t,i){const e=await t.D_(["message","error"],i);if("error"===e.type)throw function(t){return new ce(y_.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}(e.error);if(!function(t){return Li(t)&&"7.3.0"===t.GPt}(e.data))throw new ce(y_.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (7.3.0).");return e}r(),function(t){t.VPt="tCt",t.WPt="DCt"}(BZ||(BZ={})),function(t){t.HPt="qPt",t.XPt="ZPt"}(RZ||(RZ={}));var FZ=class{KPt(){const t=PZ(this.JPt,this.$Pt,{name:"THEOplayer decrypt worker"});return t.yn("message",this.tBt),t.yn("error",this.Ztt),t}tCt(t,i,e){const s=""+ ++this.iBt,n={eBt:BZ.VPt,sBt:s,nBt:t,rBt:i,hBt:e},r=new Eo;return this.oBt.set(s,r),null!=this.kPt||(this.kPt=this.KPt()),this.kPt.LPt(n),r.PL}e_(t){void 0===t&&(t=new ia),this.oBt.forEach((i=>i.zL(t))),this.oBt.clear(),this.kPt&&(this.kPt.OPt(),this.kPt=void 0)}constructor(t){this.kPt=void 0,this.iBt=0,this.oBt=Qt(),this.tBt=t=>{const i=t.data,e=i.aBt,s=this.oBt.get(e);if(s)if(this.oBt.delete(e),i.uBt===RZ.HPt)s.jL(i.cBt);else if(i.uBt===RZ.XPt){const t=i.lBt,e=i.dBt?new b(i.dBt):void 0,n=new ce(y_.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt. (code: "+t+")",e);s.zL(n)}},this.Ztt=t=>{const i=new ce(y_.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);this.e_(i)},this.$Pt=t;try{this.JPt=lg.zv("theoplayer.d.js",t)}catch(t){throw new ce(y_.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}};function YZ(t){return kZ.Ux()?new kZ:new FZ(t)}function GZ(t){const i=p(t.boxes,OL);if(!i)return;const e=p(i.boxes,jL);return e?e.handlerType:void 0}function VZ(t){const i=new nN;return i.boxes.push(...t.boxes),i}function WZ(t){const i=new NT;return i.boxes.push(...t.boxes),i}r(),r(),r(),r();var HZ=8;function qZ(t,i){const e=function(t){const i=new Ue;return i.boxes.push(...t.boxes),i}(t),s=ZZ(i);for(let t=0;t<e.boxes.length;t++){const n=e.boxes[t];if(n===i)e.boxes[t]=new $M(new T(i.getSize()-HZ));else if(zL(n)){const i=n,r=Fa(i.boxes,(t=>t instanceof yu&&t.trackId===s));if(r>=0){const s=i.boxes[r],n=WZ(i);n.boxes[r]=new $M(new T(s.getSize()-HZ)),e.boxes[t]=n}}}return e}function XZ(t,i){const e=function(t){const i=new FT;return i.boxes.push(...t.boxes),i}(t);for(let t=0;t<e.boxes.length;t++){const s=e.boxes[t];if(RL(s)){const n=p(s.boxes,UL);n&&n.trackId===i&&(e.boxes[t]=new $M(new T(s.getSize()-HZ)))}}return e}function ZZ(t){return p(t.boxes,xL).trackId}function KZ(t,i,e,s){const n=p(t.boxes,UL),r=e.aI(i).UD();let h=Ce.ZERO;for(const i of t.boxes){if(i instanceof zT){h=mA(i.baseMediaDecodeTime,r),i.baseMediaDecodeTime=i.baseMediaDecodeTime.subtract(h);break}if(i instanceof uu){h=mA(Ce.fromNumber(i.baseMediaDecodeTime),r),i.baseMediaDecodeTime-=h.toNumber();break}}if(h.isZero())return;const o=p(t.boxes,QL);if(void 0!==o&&o.samples.length>0){const t=o.samples;if(!o.flags.sampleDurationPresent){o.flags.sampleDurationPresent=!0;const i=null!=s?s:n.defaultSampleDuration;for(const e of t)e.duration=i}t[0].duration+=h.toNumber(),o.samples=t}}r();var JZ="Mp4Transmuxer",$Z=class extends sc{pOt(t,i){Pi(i);const e=t.XDt,s=lk(Mo(t.bEt.Cp.Cp));if(!s)throw new b("Mp4Transmuxer - Unable to parse "+e.hA+" MP4 initializer.");this.GK=s;const n=function(t){let i,e;for(const s of t.Z)i||(i=s.QZ),e||(e=s.UZ);if(i||e)return{gIt:i,wIt:e,PSt:void 0};return}(s);n&&this.TOt(e,n);const r=function(t){for(const i of t.Z)if(void 0!==i.FZ)return i.FZ;return}(s);void 0!==r&&this.NOt(e,r);const h=function(t){var i;const e=cN(t),s=p(e.boxes,kL),n=s.boxes.filter(CL),r=p(n,(t=>GZ(t)===uT.AUDIO)),h=p(n,(t=>GZ(t)===uT.VIDEO)),o={gIt:{Wy:r?ZZ(r):void 0},wIt:{Wy:h?ZZ(h):void 0}},a=null==(i=p(s.boxes,zL))?void 0:i.boxes.filter(PL);var u,c;const l=a?{gIt:null!=(u=p(a,(t=>t.trackId===o.gIt.Wy)))?u:void 0,wIt:null!=(c=p(a,(t=>t.trackId===o.wIt.Wy)))?c:void 0}:void 0;var d,f;if(l&&(o.gIt.oT=null==(d=l.gIt)?void 0:d.defaultSampleDuration,o.wIt.oT=null==(f=l.wIt)?void 0:f.defaultSampleDuration),!r||!h)return{gIt:r?t:void 0,wIt:h?t:void 0,FI:o};const _=VZ(e),g=VZ(e),w=e.boxes.indexOf(s);_.boxes[w]=qZ(s,h),g.boxes[w]=qZ(s,r);const A=_.serialize().join(),v=g.serialize().join();return{gIt:A,wIt:v,FI:o}}(t.bEt.Cp.Cp);if(this.fBt=h.FI,h.wIt){const i=p(s.Z,(t=>t.Wy===h.FI.wIt.Wy)),e={hA:"bOt",Cp:{hA:Lo.CH,Cp:h.wIt},Urt:hv.vp,CEt:t.CEt,LOt:{Het:'video/mp4; codecs="'+i.UZ+'"',NEt:t.NEt},zN:t.zN,XDt:t.XDt,Zkt:t.bEt.Zkt};this.Fxt(e)}if(h.gIt){const i=p(s.Z,(t=>t.Wy===h.FI.gIt.Wy)),e={hA:"bOt",Cp:{hA:Lo.CH,Cp:h.gIt},Urt:hv.mp,CEt:t.CEt,LOt:{Het:'audio/mp4; codecs="'+i.QZ+'"',NEt:t.NEt},zN:t.zN,XDt:t.XDt,Zkt:t.bEt.Zkt};this.Fxt(e)}return Promise.resolve()}async MOt(t,i){Pi(i);const e=t.Ght.Zkt;CH.$y(JZ,"Transmuxing fMP4: "+Nt(e.xAt));const s=t.Ght.Cp,n=tK(s.Cp,this.GK),r=eh(n.map((t=>t.M8)),Qm);if(void 0!==r&&(e.T8=r,this.IOt(t.XDt)),!this.RLt.vLt(t.CEt)){const s=Pt.dI(e.zN);if(n.length>0){const i=eh(n.map((t=>t._Bt)),Qm);for(const e of this.fOt)this.RLt.ELt(t.CEt,e,i,s,!1);this.IOt(t.XDt)}this.RLt.vLt(t.CEt)||await hh(this.RLt.pLt(t.CEt),i)}const h=this.RLt.NLt(t.CEt),o=e.T8?this.RLt.DLt(e.T8,e).cD():e.zN,a=HX(e,o);var u;const c={tOt:a,iOt:qX(e,a),zN:o,ct:null!=(u=e.ct)?u:0,CI:h.cD(),CEt:t.CEt,XDt:t.XDt,Zkt:t.Ght.Zkt},l=function(t,i){if(void 0===i.gIt.Wy)return{gIt:void 0,wIt:t};if(void 0===i.wIt.Wy)return{gIt:t,wIt:void 0};const e=cN(t),s=VZ(e),n=VZ(e);for(let t=0;t<e.boxes.length;t++){const r=e.boxes[t];BL(r)&&(s.boxes[t]=XZ(r,i.wIt.Wy),n.boxes[t]=XZ(r,i.gIt.Wy))}const r=s.serialize().join(),h=n.serialize().join();return{gIt:r,wIt:h}}(s.Cp,this.fBt);if(l.wIt){var d;const i=this.fBt.wIt.Wy,s=p(this.GK.Z,(t=>t.Wy===i)),h=p(n,(t=>t.Wy===i)),o=this.gBt(l.wIt,s,h,null==(d=this.fBt)?void 0:d.wIt.oT,e);this.wBt=s,this.DOt(t.XDt,e,h.M8.MD(r));const a=At({hA:"Ght",Cp:{hA:Lo.CH,Cp:o},Urt:hv.vp},c);this.Fxt(a)}if(l.gIt){const t=At({hA:"Ght",Cp:{hA:Lo.CH,Cp:l.gIt},Urt:hv.mp},c);this.Fxt(t)}this.ABt=e,this.vBt=n}gBt(t,i,e,s,n){if(!function(t){return Qh(t)?t.EEt:0===t.rbt&&t.sbt.EEt}(n))return t;if(!this.ABt||!this.wBt||!this.vBt)return t;const r=this.wBt.Wy,h=p(this.vBt,(t=>t.Wy===r)),o=this.RLt.DLt(h.mBt,this.ABt),a=this.RLt.DLt(e.M8,n).MD(o).aI(i.zy);if(a.gD(Pt.LD))return t;if(a.lD(Pt.dI(.5)))return t;const u=Qh(n)?n:n.sbt;return CH.DIt(JZ,"Stretching first video frame of segment #"+u.cEt+" to fill gap of "+a.cD()+"s"),function(t,i,e,s){const n=cN(t),r=p(n.boxes,BL);if(r){const t=r.getSize();for(const t of r.boxes)t instanceof me&&KZ(t,i,e,s);const n=r.getSize();if(n!==t){const i=n-t;for(const t of r.boxes)t instanceof me&&FL(t,i)}}return n.serialize().join()}(t,i.zy,a,s)}constructor(...t){super(...t),this.GK=void 0,this.fBt=void 0,this.ABt=void 0,this.vBt=void 0,this.wBt=void 0}};function tK(t,i){const e=$A(Qi.wy(Mo(t)),Wr.ep);if(!e)throw new b("Mp4Transmuxer - Unable to parse segment or part.");return function(t,i){const e=[];for(const n of t.Z){if(!n.vT||0===n.AT.length||0===n.AT[0].NT.length)continue;const t=n.iy.Wy,r=p(i.Z,(i=>i.Wy===t));let h=0,o=1/0,a=0;const u=n.iy.oT||0;for(const t of n.AT)for(const i of t.NT){const t=i.DT||0,e=h+t;var s;h+=null!=(s=i.ct)?s:u;const n=h+t;e<o&&(o=e),n>a&&(a=n)}const c=Pt.SD(n.vT.vT,r.zy);e.push({Wy:t,_Bt:c,M8:c.mN(Pt.ED(o,r.zy)),pBt:c.mN(Pt.ED(h,r.zy)),mBt:c.mN(Pt.ED(a,r.zy))})}return e}(e,i)}var iK,eK="MpegtsTransmuxer",sK=class extends $Z{pOt(t,i){return super.pOt(t,i)}AOt(t,i){if(super.AOt(t,i),this.fit.yBt())return;var e;const s=null!=(e=null==i?void 0:i.xAt)?e:t.xAt;if(!s)return;/\.(ts|aac|mp3)/i.test(s.ST)&&this.fit.MBt()}TBt(t){let i;return this.NBt.has(t.CEt)?i=this.NBt.get(t.CEt):(i=_Z(t.Ght.Cp.Cp),this.NBt.set(t.CEt,i)),i}async MOt(t,i){Pi(i);const e=this.TBt(t),s=t.Ght;if(e!==aZ.rjt&&e!==aZ.hjt)return super.MOt(t,i);if(s.Zkt.NEt.some(rK))throw new ce(y_.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");const n=this.fit.MBt();let r;e===aZ.rjt?(CH.$y(eK,"Transmuxing MPEG-TS: "+Nt(s.Zkt.xAt)),r=await n.DBt({data:s.Cp.Cp,metadata:this.IBt})):(CH.$y(eK,"Transmuxing raw audio: "+Nt(s.Zkt.xAt)),r=await n.SBt({data:s.Cp.Cp,metadata:this.IBt})),Pi(i),this.TOt(t.XDt,{gIt:r.metadata.audio_codec,wIt:r.metadata.video_codec,PSt:void 0}),r.metadata.video_frame_rate&&this.NOt(t.XDt,r.metadata.video_frame_rate);const h=hK(r.metadata.first_decode_timestamp),o=hK(r.metadata.first_presentation_timestamp),a=void 0!==r.metadata.first_video_presentation_timestamp?hK(r.metadata.first_video_presentation_timestamp):void 0;if(s.Zkt.T8=o,this.IOt(t.XDt),void 0!==a&&this.DOt(t.XDt,s.Zkt,function(t,i){let e=t.MD(i);return e.vD(Pt.LD)&&(e=e.mN(Ba())),e}(a,o)),!this.RLt.vLt(t.CEt)){const e=Pt.dI(s.Zkt.zN);for(const i of this.fOt)this.RLt.ELt(t.CEt,i,h,e,!0);this.IOt(t.XDt),this.RLt.vLt(t.CEt)||await hh(this.RLt.pLt(t.CEt),i)}const u=this.RLt.SLt(h,s.Zkt);this.IBt=r.metadata;const c=this.RLt.DLt(o,s.Zkt).cD(),l=HX(s.Zkt,c);var d;const f={tOt:l,iOt:qX(s.Zkt,l),zN:c,ct:null!=(d=s.Zkt.ct)?d:0,CI:u.cD(),CEt:t.CEt,XDt:t.XDt,Zkt:s.Zkt};if(void 0===r.data.audio_media&&void 0===r.data.video_media){for(const t of this.fOt){const i=At({hA:"Ght",Cp:void 0,Urt:t},f);this.Fxt(i)}return}const _=[];if(void 0!==r.data.audio_media){if(r.data.audio_init&&(!this.EBt||this.bBt!==t.CEt||!Yi(this.EBt,r.data.audio_init))){const i=this.RLt.DLt(s.Zkt.T8,s.Zkt).cD(),e={hA:"bOt",Cp:{hA:Lo.CH,Cp:r.data.audio_init},Urt:hv.mp,CEt:t.CEt,LOt:{Het:'audio/mp4; codecs="'+r.metadata.audio_codec+'"',NEt:s.Zkt.NEt},zN:i,XDt:t.XDt,Zkt:s.Zkt};this.EBt=r.data.audio_init,this.bBt=t.CEt,this.Fxt(e)}const i=At({hA:"Ght",Cp:{hA:Lo.CH,Cp:r.data.audio_media},Urt:hv.mp},f);this.Fxt(i)}else if(t.Ght.Zkt.ibt&&Ho(this.fOt,hv.mp)){const t=At({hA:"Ght",Cp:void 0,Urt:hv.mp},f);this.Fxt(t)}if(void 0!==r.data.video_media){if(r.data.video_init&&(!this.LBt||this.kBt!==t.CEt||!Yi(this.LBt,r.data.video_init))){const i=this.RLt.DLt(s.Zkt.T8,s.Zkt).cD(),e={hA:"bOt",Cp:{hA:Lo.CH,Cp:r.data.video_init},Urt:hv.vp,CEt:t.CEt,LOt:{Het:'video/mp4; codecs="'+r.metadata.video_codec+'"',NEt:s.Zkt.NEt},zN:i,XDt:t.XDt,Zkt:s.Zkt};this.LBt=r.data.video_init,this.kBt=t.CEt,this.CBt=lk(Mo(r.data.video_init)),this.Fxt(e)}const i=this.CBt.Z[0],e=tK(r.data.video_media,this.CBt)[0],n=this.gBt(r.data.video_media,i,e,void 0,s.Zkt);this.wBt=i;const h=At({hA:"Ght",Cp:{hA:Lo.CH,Cp:n},Urt:hv.vp},f);this.Fxt(h),_.push(e)}else if(t.Ght.Zkt.ibt&&Ho(this.fOt,hv.vp)){const t=At({hA:"Ght",Cp:void 0,Urt:hv.vp},f);this.Fxt(t)}this.ABt=s.Zkt,this.vBt=_}c_(){this.EBt=void 0,this.LBt=void 0,super.c_()}constructor(t,i,e,s){super(i,e,s),this.IBt=void 0,this.EBt=void 0,this.LBt=void 0,this.CBt=void 0,this.bBt=0,this.kBt=0,this.NBt=_e(),this.fit=t}},nK=class{myt(t,i,e){return new sK(this,t,i,e)}};function rK(t){return t.nE===_u.RSt}function hK(t){return Pt.SD(Ce.fromBits(t.low,t.high),t.base)}r(),r(),function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(iK||(iK={}));var oK=()=>{const t=function(){if("undefined"==typeof WebAssembly)return!1;const t=Zt.wb;if(t>0&&t<=56)return!1;try{return void 0!==new WebAssembly.Module(mi("AGFzbQEAAAA="))}catch(t){return!1}}();return oK=()=>t,t};var aK=class{DBt(t){return this.xBt(iK.MPEGTS_TO_FMP4,t)}SBt(t){return this.xBt(iK.RAW_AUDIO_TO_FMP4,t)}KPt(){const t=PZ(this.JPt,this.$Pt,{name:"THEOplayer transmux worker"});return t.yn("message",this.tBt),t.yn("error",this.Ztt),t}xBt(t,i){const e=++this.iBt,s={type:t,id:e,input:i},n=new Eo;return this.oBt.set(e,n),this.kPt.LPt(s),n.PL}e_(t){void 0===t&&(t=new ia),this.oBt.forEach((i=>i.zL(t))),this.oBt.clear(),this.kPt.OPt()}constructor(t){this.iBt=0,this.oBt=_e(),this.tBt=t=>{const i=t.data;if(void 0!==i.requestId){const t=this.oBt.get(i.requestId);if(!t)return;this.oBt.delete(i.requestId),i.success?t.jL(i.output):t.zL(new ce(i.errorCode,i.error))}else i.success||this.e_(new ce(i.errorCode,i.error))},this.Ztt=t=>{const i=new ce(y_.MEDIA_DECODE_ERROR,t.error.message,t.error);this.e_(i)},this.$Pt=t;const i=oK()?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.JPt=lg.zv(i,t)}catch(t){throw new ce(y_.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.kPt=this.KPt()}},uK=class extends nK{yBt(){return void 0!==this.kPt}MBt(){var t;return null!=(t=this.kPt)?t:this.kPt=new aK(this.OBt)}e_(){this.kPt&&(this.kPt.e_(),this.kPt=void 0)}constructor(t){super(),this.OBt=t,this.kPt=void 0}},cK=class{D8(){return new uK(this.OBt)}constructor(t){this.OBt=t}},lK=class extends MZ{Ug(){if(NU(this.vP))return this.vP.Ug()}get Bg(){return!1}set Bg(t){}async gn(){var t;await super.gn(),null==(t=this.cNt)||t.gn()}constructor(t,i,e,s,n,r,h){super(t,i,e,s,n,r,h),Zt.Fb&&(this.cNt=new zU(this))}},dK=class extends lK{async gn(){await super.gn(),await this.HP.WP(this.vP)}constructor(t,i,e,s,n,r,h){const o=new jU(t);super(o.cB(hv.vp),i,e,s,n,r,h),this.HP=o}},fK=class extends TZ{async lB(t,i){return!!Ok(t.useManagedMediaSource)&&(!(!t.useManagedMediaSource&&(Zt.Ga||Zt.oL))&&super.lB(t,i))}async net(t){return(!t.clearkey||!Zt.Fb)&&super.net(t)}};Cu(new class extends fK{_m(t,i,e,s,n,r){return new dK(i,e,n,YZ(s.libraryLocation),new cK(s.libraryLocation),new St(Kn.gL.ket,Kn.gL.Let,Kn.gL.bet,Kn.gL.xet),s)}dB(){return!0}constructor(...t){super(...t),this.fB=Kt.Fv}}),CH.Rt=()=>{var t;return Boolean(null==(t=s)?void 0:t.THEOplayerDebugLogsEnabled)},r(),r(),r(),r();var _K=class{aet(t,i){return Promise.resolve(!1)}cet(t,i){return Promise.resolve(void 0)}ret(t){return Promise.resolve(void 0)}nH(t){return Promise.resolve(void 0)}},gK=class extends i{jBt(){var t;return null==(t=this.zBt)?void 0:t.xDt}Cn(t){W(pu((()=>this.PBt(t)),t))}async PBt(t){await this.oTt.okt(t),this.BBt&&(this.RBt(this.BBt.ji,this.BBt.Ti),this.BBt=void 0),this.Y1=!0}UBt(t,i){this.Y1?this.RBt(t,i):this.BBt={ji:t,Ti:i}}RBt(t,i){const e=this.QBt(t,i),s=null==e?void 0:e.LIt[0];s!==this.zBt&&(this.FBt(),void 0!==s&&(this.zBt=s,this.YBt=new DX(this.oTt,s),this.YBt.lCt()))}FBt(){this.zBt=void 0,this.YBt&&(this.YBt.e_(),this.YBt=void 0)}QBt(t,i){const e=p(this.oTt.Tr.EIt,(e=>void 0!==e.mIt&&e.mIt.ji===t&&e.mIt.Ti===i));return null!=e?e:this.oTt.Tr.EIt[0]}gn(){this.Vo(),this.FBt(),this.oTt.e_()}constructor(i,e,s){super(),this.zBt=void 0,this.YBt=void 0,this.BBt=void 0,this.GBt=()=>{this.Co(new $n)},this.bc=i,this.oTt=new _X(s,new _K,i.useCredentials,i.src,i.liveOffset),this.oTt.yn(t.QA,this.Ds),this.Y1=!1}};r();var wK=class extends ra{get ht(){return this.D4.ht}get b_(){return this.D4.b_}get k_(){return this.D4.k_}set k_(t){this.D4.k_=t}get j_(){return this.D4.j_}set j_(t){this.D4.j_=t}get ct(){return this.D4.ct}get R_(){return this.D4.R_}get F_(){return this.D4.F_}get G_(){return this.D4.G_}get lt(){return this.D4.lt}get W_(){return this.D4.W_}get q_(){return this.D4.q_}get Z_(){return this.D4.Z_}set Z_(t){this.D4.Z_=t}get eg(){return this.D4.eg}get hg(){return this.D4.hg}get ag(){return this.D4.ag}set ag(t){this.D4.ag=t}get fg(){return this.D4.fg}get gg(){return this.D4.gg}set gg(t){this.D4.gg=t}get vg(){return this.D4.vg}get yg(){return this.D4.yg}get Tg(){return this.D4.Tg}get IP(){return this.D4.IP}get nt(){return this.D4.nt}get Ig(){return this.D4.Ig}get rt(){return this.D4.rt}get Lg(){return this.D4.Lg}get xg(){return this.D4.xg}set xg(t){this.D4.xg=t}get zg(){return this.D4.zg}get Bg(){return this.D4.Bg}set Bg(t){this.D4.Bg=t}get EP(){return this.D4.EP}Hg(){return this.D4.Hg()}Rg(){return this.D4.Rg()}Ug(){return this.D4.Ug()}be(){return this.D4.be()}Zg(){return this.D4.Zg()}Kg(){return this.D4.Kg()}Gg(){return this.D4.Gg()}Vg(){return this.D4.Vg()}Zn(){return this.D4.Zn()}ga(t,i,e){return this.D4.ga(t,i,e)}ge(){return this.D4.ge()}qg(){return this.D4.qg()}Xg(){return this.D4.Xg()}gn(){this.Vo();for(const t of FI)this.D4.fn(t,this.Ds);return this.D4.gn()}constructor(t){super(),this.D4=t;for(const t of FI)this.D4.yn(t,this.Ds)}},AK=class extends wK{async ga(t,i,e){await super.ga(t,i,e),t.hlsDateRange&&this.EAt(t,i,e)}EAt(i,e,s){this.VBt=new gK(i,e,this.WBt),this.VBt.yn(t.QA,this.handleManifestUpdate),this.VBt.Cn(s)}Zn(){return this.Ekt&&(this.nt.it(this.Ekt),this.S2.it(this.Ekt),this.Ekt.gn(),this.Ekt=void 0,this.HBt=!1),this.VBt&&(this.VBt.gn(),this.VBt=void 0),this.S2.Zn(),super.Zn()}gn(){return this.fn(t.qA,this.NPt),this.VBt&&(this.VBt.gn(),this.VBt=void 0),this.S2.gn(),super.gn()}constructor(i,e,s){super(i),this.VBt=void 0,this.HBt=!1,this.Ekt=void 0,this.handleManifestUpdate=()=>{const t=this.VBt.jBt();if(t){const i=this.IP;if(i){const e=i.getTime();let s=this.Ekt;s||(s=new Wq,this.Ekt=s),s.Qn(t.xEt,(t=>(t.getTime()-e)/1e3)),!this.HBt&&s.L.U>0&&(this.nt.tt(s),this.S2.tt(s),this.HBt=!0)}}},this.NPt=()=>{this.VBt&&this.VBt.UBt(this.Lg,this.Ig)},this.WBt=e,this.eH=s,this.S2=new Ju(this),this.yn(t.qA,this.NPt)}};!function(t){Bu._B().gB(t)}((function(t,i,e){return new AK(t,i,e)})),r(),r(),r(),r();var vK,ha=class extends Xo{get name(){return"CastError"}constructor(t,i=""){super("An error occurred while casting."),this.errorCode=t,this.description=i}},mK="//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js";function pK(){return vK||(vK=async function(){MK()||await async function(){const t=new Eo,i=s.__onGCastApiAvailable;return s.__onGCastApiAvailable=(e,n)=>{e?t.jL():t.zL(new b(n)),s.__onGCastApiAvailable=i,i&&i(e,n)},t.PL}();yK()||await ws(100);yK()||(lg.Pv('Detected the Chromecast library was loaded without the CAF framework. It is strongly encouraged to load it with the CAF framework by using this URL: "//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"'),await function(t){return new Promise(((i,e)=>{const s=h.createElement("script");s.onload=()=>i(),s.onerror=t=>e((null==t?void 0:t.error)||t),s.type="text/javascript",s.src=t,(h.head||h.documentElement).appendChild(s)}))}(mK));return}().catch((()=>{throw new ha("API_NOT_INITIALIZED","The Chromecast library could not be loaded successfully.")}))),vK}function yK(){return Boolean("undefined"!=typeof cast&&cast.framework)}function MK(){return"undefined"!=typeof chrome&&chrome&&chrome.cast&&chrome.cast.isAvailable}function TK(t,i,e,s){if(li(i))for(const e of _.keys(i)){if("type"===e||"images"===e)continue;const s=i[e];li(s)&&(t[e]=s)}!function(t,i,e,s){if(!li(e)&&!li(null==i?void 0:i.images))return;t.images=[],e&&t.images.push(new s.Image(e));if(null==i?void 0:i.images)if(ae(i.images))t.images.push(new s.Image(i.images));else if(pi(i.images))for(const e of i.images){let i;var n,r;if(ae(e))i=new s.Image(e);else i=new s.Image(e.src),i.height=null!=(n=e.height)?n:null,i.width=null!=(r=e.width)?r:null;t.images.push(i)}}(t,i,e,s)}function NK(t,i,e){return void 0===e&&(e=chrome),function(t,i,e){switch(null==t?void 0:t.type){case"movie":{const s=new e.MovieMediaMetadata;return TK(s,t,i,e),s}case"audio":{const s=new e.MusicTrackMediaMetadata;return TK(s,t,i,e),!li(s.artist)&&li(t.artistName)&&(s.artist=t.artistName),s}case"tv-show":{const s=new e.TvShowMediaMetadata;return TK(s,t,i,e),!li(s.title)&&li(t.episodeTitle)&&(s.title=t.episodeTitle),!li(s.season)&&li(t.seasonNumber)&&(s.season=t.seasonNumber),!li(s.episode)&&li(t.episodeNumber)&&(s.episode=t.episodeNumber),s}default:{const s=new e.GenericMediaMetadata;return TK(s,t,i,e),s}}}(t,i,function(t){return{GenericMediaMetadata:t.cast.media.GenericMediaMetadata,MovieMediaMetadata:t.cast.media.MovieMediaMetadata,TvShowMediaMetadata:t.cast.media.TvShowMediaMetadata,MusicTrackMediaMetadata:t.cast.media.MusicTrackMediaMetadata,Image:t.cast.Image}}(e))}function pr(t){switch(t){case chrome.cast.ErrorCode.CANCEL:return"CANCEL";case chrome.cast.ErrorCode.TIMEOUT:return"TIMEOUT";case chrome.cast.ErrorCode.API_NOT_INITIALIZED:return"API_NOT_INITIALIZED";case chrome.cast.ErrorCode.INVALID_PARAMETER:return"INVALID_PARAMETER";case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:return"EXTENSION_NOT_COMPATIBLE";case chrome.cast.ErrorCode.EXTENSION_MISSING:return"EXTENSION_MISSING";case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:return"RECEIVER_UNAVAILABLE";case chrome.cast.ErrorCode.SESSION_ERROR:return"SESSION_ERROR";case chrome.cast.ErrorCode.CHANNEL_ERROR:return"CHANNEL_ERROR";case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:return"LOAD_MEDIA_FAILED";default:return"CANCEL"}}function DK(t){if(t.items&&t.items.length>0&&t.currentItemId>=0)return p(t.items,(i=>i.itemId===t.currentItemId))}r(),r(),r(),r(),r();var IK,Br="urn:x-cast:com.theoplayer.cast";r(),r(),function(t){t.qBt="theoplayer_receiver_info",t.XBt="theoplayer_trackpropertychange",t.ZBt="theoplayer_propertychange"}(IK||(IK={})),r();var SK;(SK||(SK={})).SKIP_AD="SKIP_AD",r();function wr(t){h.createElement("img").src=t}r(),r(),r();var EK=new RegExp(/^(\d\d):(\d\d):(\d\d)(?:\.(\d{3}))?$/);function nc(t){if(!ae(t))return;const i=t.match(EK);return i?3600*C(i[1],10)+60*C(i[2],10)+Number(i[3])+(Number(i[4])||0)/1e3:void 0}function rc(t){if(void 0===t)return;const i=t.match(/^([1-9]?\d|100)%$/);return i?C(i[1])/100:void 0}function bK(t,i){return"vmap"===t.type||!li(t.type)&&!li(i)}function LK(t,i){return"vast"===t.type||!li(t.type)&&li(i)}r(),r(),r();var hc=class{},kK=class extends hc{get KBt(){return this.Ic}JBt(){return null!=this.$Bt||(this.$Bt=Eh(this.Ic,(t=>t.JBt()))),this.$Bt}constructor(t){super(),this.Ic=t.sort(((t,i)=>t.fT-i.fT))}};r(),r();var yc=class extends hc{get o(){return this.tRt}get fT(){return this.iRt}get eRt(){return this.sRt}constructor(t,i){super(),this.tRt=t,this.iRt=i,this.sRt=!1}},CK=class extends yc{get nRt(){return this.rRt}get hRt(){return this.oRt}get aRt(){return this.uRt}get cRt(){return this.lRt}get lt(){return this.yP}JBt(){if(void 0===this.dRt){let t,i,e,s=[];for(const n of this.rRt)n.fRt&&(t=n.fRt),n._Rt&&(i=n._Rt),n.gRt&&(e=n.gRt),s=s.concat(n.universalAdIds);this.dRt={cRt:this.cRt,fRt:t,wRt:i,gRt:e,lt:this.lt,ARt:s}}return[this.dRt]}constructor(t,i,e,s,n,r,h){super(t,i),this.oRt=e,this.uRt=s,this.lRt=n,this.rRt=r,this.yP=h}};r(),r();var xK,OK=class{get vRt(){return this.mRt}get pRt(){return this.yRt}constructor(t,i){this.mRt=t,this.yRt=i}},jK=class{get MRt(){return this.TRt}get NRt(){return this.DRt}get IRt(){return this.SRt}get ERt(){return this.bRt}get Xl(){return this.LRt}set Xl(t){this.LRt=t}get kRt(){return this.CRt}get xRt(){return this.ORt}jRt(){this.ORt=!0}get hRt(){return this.oRt}constructor(t,i,e,s,n,r){this.TRt=t,this.DRt=i,this.SRt=e,this.bRt=s,this.ORt=!1,this.CRt=n,this.oRt=r}};r(),function(t){t.zRt="all",t.PRt="any",t.DB="none"}(xK||(xK={}));var zK=class{get BRt(){return this.RRt}get URt(){return this.QRt}constructor(t,i){this.RRt=t,this.QRt=i}},PK=class{get o(){return this.NN}get ji(){return this.tC}get Ti(){return this.iC}get FRt(){return this.YRt}get GRt(){return this.VRt}get WRt(){return this.HRt}get qRt(){return this.XRt}get ZRt(){return this.KRt}get JRt(){return this.$Rt}get tUt(){return this.iUt}get MRt(){return this.TRt}get NRt(){return this.DRt}get IRt(){return this.SRt}get eUt(){return this.sUt}get pRt(){return this.nUt}get rUt(){return this.hUt}constructor(t,i,e,s,n,r,h,o,a,u,c,l,d,f,_,g){this.tC=t,this.iC=i,this.NN=e,this.YRt=s,this.VRt=n,this.HRt=r,this.XRt=h,this.KRt=o,this.$Rt=a,this.iUt=u,this.TRt=c,this.DRt=l,this.SRt=d,this.sUt=f,this.nUt=_,this.hUt=g}};r();var BK=class{get id(){return this.NN}get uri(){return this.abt}constructor(t,i){this.NN=t,this.abt=i}},Er=class{get oUt(){return this.aUt}get uUt(){return this.cUt}get lUt(){return this.dUt}get fUt(){return this._Ut}constructor(t,i,e,s){this.aUt=t,this.cUt=i,this.dUt=e,this._Ut=s}},RK=class extends yc{get cRt(){return this.lRt}get gUt(){return this.wUt}get AUt(){return this.vUt}get nRt(){return this.rRt}get mUt(){return this.pUt}get yUt(){return this.MUt}get lt(){return this.yP}JBt(){return void 0===this.wUt?[]:(null!=this.$Bt||(this.$Bt=this.wUt.JBt().map((t=>this.TUt(t)))),this.$Bt)}TUt(t){let i,e,s;for(const t of this.nRt)t.fRt&&(i=t.fRt),t._Rt&&(e=t._Rt),t.gRt&&(s=t.gRt);const n=t.cRt.concat(this.cRt);let r=t.fRt;if(i&&t.fRt){const e=new Er(t.fRt.NUt.oUt,t.fRt.NUt.uUt,t.fRt.NUt.lUt.concat(i.NUt.lUt),t.fRt.NUt.fUt.concat(i.NUt.fUt));r=t.fRt,r.NUt=e,r.pRt=r.pRt.concat(i.pRt)}let h=t.wRt;if(e&&e.vRt){var o,a;const s=[];for(const t of e.vRt)s.concat(t.ERt.lUt);const n=[];var u,c;for(const e of null!=(u=null==(o=t.wRt)?void 0:o.vRt)?u:[]){var l,d,f;const r=new Er(e.ERt.oUt,e.ERt.uUt,e.ERt.lUt.concat(s),(null!=(d=null==(l=t.fRt)?void 0:l.NUt.fUt)?d:[]).concat(null!=(f=null==i?void 0:i.NUt.fUt)?f:[]));n.push(new jK(e.MRt,e.NRt,e.IRt,r,e.kRt,e.hRt))}h=new OK(n,(null!=(c=null==(a=t.wRt)?void 0:a.pRt)?c:[]).concat(e.pRt))}let _=t.gRt;if(_){var g;let i=_.BRt;var w,A;s&&s.BRt&&(i=s.BRt),_=new zK(i,(null!=(w=null==(g=t.gRt)?void 0:g.URt)?w:[]).concat(null!=(A=null==s?void 0:s.URt)?A:[]))}let v=t.lt;return this.lt&&(v=this.lt),{cRt:n,fRt:r,wRt:h,gRt:_,lt:v,ARt:t.ARt}}constructor(t,i,e,s,n,r,h,o,a){super(t,i),this.lRt=e,this.wUt=s,this.vUt=n,this.rRt=r,this.pUt=h,this.MUt=o,this.yP=a}};r();var UK=class{get o(){return this.NN}get DUt(){return this.IUt}get SUt(){return this.EUt}get ZRt(){return this.KRt}get fRt(){return this.bUt}get _Rt(){return this.LUt}get gRt(){return this.kUt}get universalAdIds(){return this.CUt}constructor(t,i,e,s,n,r,h,o){this.NN=t,this.IUt=i,this.EUt=e,this.KRt=s,this.bUt=n,this.LUt=r,this.kUt=h,this.CUt=o}};r();var Xn,QK=class{get ct(){return this.xUt}get OUt(){return this.jUt}get pRt(){return this.yRt}set pRt(t){this.yRt=t}set NUt(t){this.zUt=t}get NUt(){return this.zUt}get PUt(){return this.BUt}set PUt(t){this.BUt=t}get RUt(){return this.ORt}get Xl(){return this.LRt}set Xl(t){this.LRt=t}get kRt(){return this.CRt}get hRt(){return this.oRt}jRt(){this.ORt=!0}constructor(t,i,e,s,n,r,h){this.xUt=t,this.jUt=i,this.yRt=e,this.zUt=s,this.BUt=n,this.ORt=!1,this.CRt=r,this.oRt=h}};function ke(t,i){return GK(t)&&t.getAttribute(i)||void 0}function FK(t,i){return YK(t,i,void 0,!1)}function YK(t,i,e,s){return i===(t.localName?t.localName:t.nodeName)&&(s&&e?e===t.namespaceURI:!e||!t.namespaceURI||e===t.namespaceURI)}function rl(t,i){const e=[];for(let s=0;s<t.childNodes.length;s+=1){const n=t.childNodes.item(s);GK(n)&&FK(n,i)&&e.push(n)}return e}function GK(t){return t&&1===t.nodeType}function VK(t,i){const e=(new DOMParser).parseFromString(t,i);if(!e||e.getElementsByTagName("parsererror").length>0)throw new b('Invalid document for MIME type "'+i+'"');return e}function WK(t){return t.replace(/[<>&'"]/g,(t=>{switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}}))}function HK(t){return"data:application/xml,"+encodeURIComponent(t)}function qK(t){switch(t){case"breakStart":case"breakEnd":case"error":return!0;default:return!1}}r(),r(),function(t){t.UUt="mute",t.QUt="unmute",t.Sh="pause",t.FUt="resume",t.YUt="rewind",t.GUt="skip",t.VUt="playerExpand",t.WUt="playerCollapse",t.Ah="fullscreen",t.HUt="exitFullscreen",t.qUt="expand",t.COLLAPSE="collapse",t.hyt="start",t.XUt="firstQuartile",t.ZUt="thirdQuartile",t.KUt="midpoint",t.JUt="complete",t.$Ut="acceptInvitationLinear",t.tQt="acceptInvitation",t.iQt="timeSpentViewing",t.eQt="otherAdInteraction",t.VA="progress",t.sQt="creativeView",t.nQt="adExpand",t.rQt="adCollapse",t.hQt="minimize",t.oQt="close",t.aQt="closeLinear",t.uQt="overlayViewDuration",t.cQt="breakStart",t.lQt="breakEnd",t.ha="error"}(Xn||(Xn={}));var XK=["mute","unmute","pause","resume","rewind","skip","closeLinear","close","playerExpand","playerCollapse","fullscreen","exitFullscreen","expand","collapse","creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","acceptInvitationLinear","acceptInvitation","timeSpentViewing","otherAdInteraction","progress"];function ZK(t){return void 0!==t&&-1!==XK.indexOf(t)}var KK=["start","firstQuartile","midpoint","thirdQuartile","complete","mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","expand","collapse","fullscreen","exitFullscreen","creativeView","acceptInvitation","adExpand","adCollapse","minimize","close","overlayViewDuration","otherAdInteraction","progress"];function JK(t){return void 0!==t&&-1!==KK.indexOf(t)}var $K=["mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","creativeView"];function tJ(t){return void 0!==t&&-1!==$K.indexOf(t)}function iJ(t,i){if(void 0===t||""===t||void 0===i)return;let e=t.match(/^(\d+):(\d+):(\d+)$/);return e?S(e[1]||"0")+60*S(e[2]||"0")+S(e[3]||"0"):(e=t.match(/^(100|[1-9]\d|\d)%$/),e?S(e[1]||"0")*i/100:void 0)}var eJ=class{get uQ(){return this.dQt}get Ku(){return this.fQt}get eventURL(){return this._Qt}constructor(t,i,e){this.dQt=t,this.fQt=i,this._Qt=e}};r();var sJ=class{get gQt(){return this.wQt}constructor(t){this.wQt=t}},nJ=class extends sJ{get oUt(){return this.aUt}get rUt(){return this.hUt}get AQt(){return this.vQt}constructor(t,i,e,s){super(t),this.vQt=i,this.aUt=e,this.hUt=s}},rJ=class extends sJ{constructor(t){super(t)}},hJ=class extends sJ{constructor(t){super(t)}};r();var Si={mQt:{BL:100,TL:"XML parsing error."},pQt:{BL:303,TL:"Empty or invalid VAST error."},yQt:{BL:400,TL:"General linear error"},MQt:{BL:403,TL:"Unsupported MIME-type or missing mediafiles error"},TQt:{BL:500,TL:"General nonlinear error"},jU:{BL:900,TL:"Network error"}},nh=class{get NQt(){return this.DQt}IQt(t){if(!this.NQt)return;const i=this.NQt.replace(/\[ERRORCODE]/,""+t.BL);wr(i)}constructor(t){this.DQt=t}};r();var Je,Zr,hi=class extends Xo{get SQt(){return this.EQt}get bQt(){var t;return null!=(t=this.LQt)?t:900}constructor(t,i,e,s){super(e||i&&oJ[i]||t,s),this.EQt=t,this.LQt=i,this.kQt=e}};!function(t){t.ADBLOCK="adblock",t.NETWORK="network",t.PARSING="parsing",t.PLAYBACK="playback",t.GENERAL="general"}(Je||(Je={})),function(t){t[t.VAST_MALFORMED_RESPONSE=100]="VAST_MALFORMED_RESPONSE",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION",t[t.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR",t[t.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY",t[t.VAST_UNEXPECTED_DURATION_ERROR=202]="VAST_UNEXPECTED_DURATION_ERROR",t[t.UNEXPECTED_SIZE=203]="UNEXPECTED_SIZE",t[t.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR",t[t.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT",t[t.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS",t[t.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.FILE_NOT_FOUND=401]="FILE_NOT_FOUND",t[t.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT",t[t.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH",t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE",t[t.MEZZANINE_FILE_REQUIRES=406]="MEZZANINE_FILE_REQUIRES",t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME=407]="MEZZANINE_FILE_DOWNLOADED_FIRST_TIME",t[t.AD_IN_VAST_REJECTED=408]="AD_IN_VAST_REJECTED",t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED=409]="INTERACTIVE_CREATIVE_NOT_EXECUTED",t[t.VERIFICATION_CODE_NOT_EXECUTED=410]="VERIFICATION_CODE_NOT_EXECUTED",t[t.GENERAL_NON_LINEAR_ERROR=500]="GENERAL_NON_LINEAR_ERROR",t[t.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR",t[t.OVERLAY_AD_LOADING_FAILED=502]="OVERLAY_AD_LOADING_FAILED",t[t.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH",t[t.GENERAL_COMPANION_AD_ERROR=600]="GENERAL_COMPANION_AD_ERROR",t[t.INVALID_DIMENSIONS_COMPANION_AD=601]="INVALID_DIMENSIONS_COMPANION_AD",t[t.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR",t[t.COMPANION_AD_LOADING_FAILED=603]="COMPANION_AD_LOADING_FAILED",t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION=604]="UNABLE_TO_FIND_SUPPORTED_COMPANION",t[t.UNKNOWN_ERROR=900]="UNKNOWN_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",t[t.MALFORMED_URI=1005]="MALFORMED_URI",t[t.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND",t[t.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE",t[t.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE",t[t.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE",t[t.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS",t[t.INVALID_ADX_EXTENSION=1105]="INVALID_ADX_EXTENSION",t[t.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED"}(Zr||(Zr={}));var oJ={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. The video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General wrapper error.",301:"Timeout of VAST URI provided in wrapper element, or of VAST URI provided in a subsequent wrapper element. This includes request errors such as invalid URI, unreachable or request timeout for URI, and security or other exceptions related to requesting a VAST URI.",302:"Wrapper limit reached, as defined by the video player. Too many wrapper responses have been received with no InLine response. This can be caused by a circular loop of daisy chaining (one network bouncing to another and another).",303:"No ads VAST response after one or more wrappers. This also includes the number of empty VAST responses from fallback.",400:"General linear error. The video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Unable to download or timeout of MediaFile URI.",403:"Could not find a media file that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying a media file.",406:"A mezzanine file was required, but not provided.",407:"The mezzanine file was downloaded for the first time, so the ad did not serve. This can occur when an ad insertion is missed because the creative is being transcoded. It continues to occur until the creative is available for insertion.",408:"The ad returned in the VAST response was rejected.",409:"The interactive creative defined in the InteractiveCreativeFile node was not executed.",410:"The code referenced in the Verification node was not executed.",500:"General NonLinearAds error.",501:"Unable to display non-linear ad because creative dimensions do not align with creative display area (in other words, the creative dimension was too large). This can occur if you use CSS styles to set width and height of the video ,content element. You should instead use the width and height HTML attributes.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearResource with supported type. This can occur when a creative size is larger than the player size.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within the companion display area (in other words, space was not available).",602:"Unable to display required companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"VAST 2 error. Even if you request VAST 3 or your DFP network default is VAST 3, this can occur if you have a VAST redirect that returns a VAST 2 response.",901:"General VPAID error",1005:"URI malformed."};function aJ(t){if(!t)return!1;switch(t.toLocaleLowerCase()){case vi.Fv:case vi.Yv:case vi.Qv:return!0;default:return!1}}function uJ(t){const i=Ve();return!!(aJ(t)||t&&i&&(null==i?void 0:i.canPlayType)&&i.canPlayType(t))||(Pr("Invalid or unsupported MediaFile Content delivery type, skipping mediafile"),!1)}function fc(t,i){for(const e of i){new nh(e).IQt(t)}}function Pr(t){0}r(),r();var cJ,lJ=class{get CQt(){return this.xQt}get OQt(){return this.jQt}constructor(t,i){this.xQt=t,this.jQt=i}};!function(t){t.zQt="linear",t.PQt="nonlinear",t.BQt="companion",t.RQt="vmap"}(cJ||(cJ={}));var dJ,mc=class t{async UQt(i,e){if(bK(i.sources,i.timeOffset)){const s=await t.QQt(i.sources.src,e),n=s&&s.documentElement;if(!n)throw new hi(Je.NETWORK,Zr.VAST_SCHEMA_VALIDATION_ERROR,"Ad source is not a valid XML document.");if(FK(n,"VMAP"))return await this.FQt(n,i,e);if(FK(n,"VAST")){const t=await this.YQt(n,e,!1);if(t){const e=new wJ("",!0,!0,t);return[new _J("start",e,dJ.zQt,"",[],!1,!0,i)]}return[]}throw new hi(Je.GENERAL,Zr.VAST_MALFORMED_RESPONSE,"Only VMAP and VAST files are allowed as ad source.")}if(LK(i.sources,i.timeOffset))return[new gJ(String(i.timeOffset),i,e)];throw new hi(Je.GENERAL,Zr.VAST_MALFORMED_RESPONSE,"Something went wrong parsing the ad source; only VMAP and VAST files are allowed as ad source.")}async GQt(i,e,s,n){let r;void 0===n&&(n=[]);try{r=await t.QQt(i,e)}catch(t){throw fc(t instanceof hi&&t.bQt===Zr.VAST_MALFORMED_RESPONSE?Si.pQt:Si.jU,n),t}const h=r&&r.documentElement;if(h&&FK(h,"VAST"))return await this.YQt(h,e,s,n)}async VQt(t,i,e,s){var n;if(!(null==(n=t.sources)?void 0:n.src))throw new hi(Je.GENERAL,Zr.MALFORMED_URI,"Property src on adSource is missing.");const r=await this.GQt(t.sources.src,s,!1),h=new wJ("",!0,!0,r),o=new _J(i,h,dJ.zQt,"",[],!1,!0,t);return o.WQt=e,o}static async requestSuccessOnly(t,i){let e;try{e=await i.mS(t)}catch(t){throw new hi(Je.NETWORK,Zr.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.",t)}if(!pc(e))throw new hi(Je.NETWORK,Zr.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.");return e}static async QQt(t,i){const e=new Uu({zu:t,rE:Rt.Ru,nE:Yc.GET}),s=await this.requestSuccessOnly(e,i);try{return function(t){return VK(t,"text/xml")}(await s.Cp())}catch(t){throw new hi(Je.NETWORK,Zr.VAST_MALFORMED_RESPONSE,"The ad source could not be loaded.")}}async YQt(t,i,e,s){void 0===s&&(s=[]);const n=[],r=[],h=[];if(t&&FK(t,"VAST")){if(0!==rl(t,"Ad").length){for(const e of rl(t,"Ad"))try{const t=await this.HQt(e,i,s);0===t.fT?n.push(t):r.push(t)}catch(t){h.push(t)}if(0===n.length&&0===r.length&&h.length>0)throw h[0];return 1===n.length&&0===r.length?n[0]:0===n.length&&0!==r.length?new kK(r):n.length>0||r.length>0?new kK(r.concat(n)):void 0}if(0!==rl(t,"Error").length){for(const i of rl(t,"Error")){Pr(Si.mQt.TL);const t=i.textContent;t&&s.push(t),fc(Si.mQt,s)}throw new hi(Je.GENERAL,Zr.VAST_MALFORMED_RESPONSE,"The Ad Server responded with a VAST Error")}if(e)throw fc(Si.pQt,s),new hi(Je.PARSING,Zr.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.")}else if(e)throw fc(Si.pQt,s),new hi(Je.PARSING,Zr.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.")}async FQt(t,i,e){const s=[],n=rl(t,"AdBreak");for(const t of n)try{const n=await this.qQt(t,i,e);n&&s.push(n)}catch(t){lg.Ttt(t)}return s}async HQt(i,e,s){const n=ke(i,"id")||"";let r=Ji(ke(i,"sequence"));r||(r=0);const h=rl(i,"InLine"),o=rl(i,"Wrapper");if(0!==o.length)return await this.XQt(o[0],n,r,e,s);if(0!==h.length)return t.ZQt(h[0],n,r,s);throw new hi(Je.PARSING,Zr.VAST_SCHEMA_VALIDATION_ERROR,"An Ad tag without a Wrapper or inline element cannot be parsed")}static ZQt(i,e,s,n){const r=rl(i,"Error")[0];let h;r&&r.textContent&&(h=r.textContent,n.push(h));const o=rl(i,"AdSystem")[0];let a,u="";o&&(u=o.textContent||u);const c=rl(i,"AdTitle")[0];c&&(a=c.textContent||void 0);const l=[];for(const t of rl(i,"Impression"))t.textContent&&l.push(t.textContent);const d=t.KQt(rl(i,"Creatives")[0],u,n);return new CK(e,s,u,a,l,d,new nh(h))}async XQt(i,e,s,n,r){const h=rl(i,"Error")[0];let o="";h&&h.textContent&&(o=h.textContent,r.push(o));const a=rl(i,"AdSystem")[0];let u="";a&&(u=a.textContent||u);const c=[];for(const t of rl(i,"Impression"))t.textContent&&c.push(t.textContent);const l=rl(i,"VASTAdTagURI")[0];let d="";l&&l.textContent&&(d=l.textContent);const f=await this.GQt(d,n,!0,r),_=rl(i,"Creatives")[0];let g=[];_&&(g=t.JQt(_,u,r));let w=lG(ke(i,"followAdditionalWrappers"));w||(w=!0);let A=lG(ke(i,"allowMultipleAds"));A||(A=!0);let v=lG(ke(i,"fallbackOnNoAd"));return v||(v=!1),new RK(e,s,c,f,w,g,A,v,new nh(o))}static JQt(i,e,s){const n=[];for(const r of rl(i,"Creative")){let i=ke(r,"id");i||(i="");let h=Ji(ke(r,"sequence"));h||(h=0);let o=ke(r,"adId");o||(o="");const a=rl(r,"Linear")[0];let u;a&&(u=t.$Qt(a,"wrapper",i,e,s));const c=rl(r,"NonLinearAds")[0];let l,d;if(c)try{d=t.tFt(c,i,e),l=d}catch(t){}const f=rl(r,"CompanionAds")[0];let _;f&&(_=t.iFt(f)),n.push(new UK(i,o,h,"",u,l,_,[]))}return n}static KQt(i,e,s){const n=[];for(const r of rl(i,"Creative")){let i=ke(r,"id");i||(i="");let h=Ji(ke(r,"sequence"));h||(h=0);let o=ke(r,"adId");o||(o="");let a=ke(r,"apiFramework");a||(a="");const u=rl(r,"Linear")[0];let c;if(u)try{c=t.$Qt(u,"inline",i,e,s)}catch(t){}const l=rl(r,"NonLinearAds")[0];let d,f;if(l)try{f=t.tFt(l,i,e),d=f}catch(t){}const _=rl(r,"CompanionAds")[0];let g;_&&(g=t.iFt(_));const w=rl(r,"UniversalAdId"),A=t.parseUniversalAdIds(w);n.push(new UK(i,o,h,a,c,d,g,A))}return n}static $Qt(i,e,s,n,r){const h=rl(i,"Duration")[0];let o=0;if(h)o=nc(h.textContent)||0;else if(!h&&"inline"===e)throw new hi(Je.PARSING,Zr.VAST_SCHEMA_VALIDATION_ERROR,"Missing duration element in inLine linear");const a=ke(i,"skipoffset");let u=-1;if(a){let t=nc(a);if(void 0===t&&a.indexOf("%")>-1){const i=x.abs(Number(a.replace(/(?![0-9])./g,"")))/100;j(i)||(t=o*i)}void 0!==t&&(u=t)}const c=rl(i,"MediaFiles")[0];let l=[];if(c&&(l=function(t,i){const e=[];for(const s of rl(t,"MediaFile")){const t=ke(s,"delivery"),n=ke(s,"type");if(!n){Pr();continue}if(!i(n))continue;let r=Ji(ke(s,"width")),h=Ji(ke(s,"height"));r||(Pr(),r=0),h||(Pr(),h=0);const o={delivery:t,type:n,width:r,height:h,contentURL:""+s.textContent};e.push(o)}return e}(c,uJ)),"inline"===e&&(!c||0===l.length))throw fc(Si.MQt,r),new hi(Je.PARSING,Zr.VAST_LINEAR_ASSET_MISMATCH,"Missing MediaFiles in linear element");const d=rl(i,"TrackingEvents")[0];let f=[];d&&(f=t.eFt(d,ZK,"linear"));const _=rl(i,"VideoClicks")[0],g=t.sFt(_);return new QK(o,l,f,g,u,s,n)}static sFt(i){if(!i)return new Er("","",[],[]);const e=rl(i,"ClickThrough")[0];let s,n="";e&&(s=e.textContent||void 0,n=ke(e,"id")||"");const r=t.nFt(rl(i,"ClickTracking")),h=t.nFt(rl(i,"CustomClick"));return new Er(s,n,r,h)}static nFt(t){const i=[];for(const e of t){const t=e.textContent;if(!t)continue;const s=ke(e,"id")||"";i.push(new BK(s,t))}return i}static eFt(t,i,e){const s=[];for(const n of rl(t,"Tracking")){const r=ke(n,"event");if(!i(r)){Pr();continue}let h="";"linear"===e&&(h=ke(t,"offset")||"0");const o=n.textContent;o&&s.push(new eJ(r,h,o))}return s}static tFt(i,e,s){const n=[];for(const r of rl(i,"NonLinear")){const i=rl(r,"NonLinearClickThrough")[0];let h;i&&(h=i.textContent||void 0);const o=t.nFt(rl(r,"NonLinearClickTracking")),a=rl(r,"StaticResource")[0];let u;if(a&&a.parentNode){const t=ke(a,"creativeType"),i=a.textContent||"",e=rl(a.parentNode,"NonLinearClickThrough")[0];let s="";e&&(s=e.textContent||""),u=new nJ(i,t,s,"")}const c=t.rFt(r),l=t.parseHtmlResource(r);if(!u&&!c&&!l){Pr();continue}const d=new Er(h,"",o,[]);n.push(new jK(u,c,l,d,e,s))}if(0===n.length)throw new hi(Je.PARSING,Zr.VAST_SCHEMA_VALIDATION_ERROR,"nonLinearAds element found with no nonLinear elements");const r=rl(i,"TrackingEvents")[0];let h=[];return r&&(h=t.eFt(r,JK,"nonlinear")),new OK(n,h)}static parseUniversalAdIds(t){const i=[];for(const r of t){var e;const t=null!=(e=ke(r,"idRegistry"))?e:"";var s,n;const h=null!=(n=null!=(s=ke(r,"idValue"))?s:r.textContent)?n:"";i.push(new lJ(t,h))}return i}static iFt(i){let e=ke(i,"requiredType");(function(t){switch(t){case"all":case"any":case"none":return!0;default:return!1}})(e)||(e=xK.DB);const s=[];for(const e of rl(i,"Companion")){let i=Ji(ke(e,"width")),n=Ji(ke(e,"height")),r=ke(e,"id"),h=Ji(ke(e,"assetWidth")),o=Ji(ke(e,"assetHeight")),a=Ji(ke(e,"expandedWidth")),u=Ji(ke(e,"rxpandedHeight")),c=ke(e,"apiFramework"),l=ke(e,"adSlotId"),d=Ji(ke(e,"pxratio"));const f=rl(e,"AltText")[0];let _=f?f.textContent:"";i||(Pr(),i=0),n||(Pr(),n=0),r||(r=""),h||(h=0),o||(o=0),a||(a=0),u||(u=0),c||(c=""),l||(l=""),d||(d=1),_||(_="");const g=t.hFt(e),w=t.rFt(e),A=t.parseHtmlResource(e),v=rl(e,"TrackingEvents")[0];let m=[];v&&(m=t.eFt(v,tJ,"companion"));const p=rl(e,"CompanionClickThrough")[0];let y;p&&(y=p.textContent||void 0);const M=t.nFt(rl(e,"CompanionClickTracking"));(g||w||A)&&s.push(new PK(i,n,r,h,o,a,u,c,l,d,g,w,A,new Er(y,"",M,[]),m,_))}return new zK(e,s)}static hFt(t){const i=rl(t,"StaticResource")[0];let e;if(i&&i.parentNode){let t=ke(i,"creativeType");t||(t="");const s=i.textContent,n=rl(i.parentNode,"AltText")[0],r=rl(i.parentNode,"CompanionClickThrough")[0];let h,o="";n&&(o=n.textContent||""),r&&(h=r.textContent||void 0),s&&(e=new nJ(s,t,h,o))}return e}static rFt(t){const i=rl(t,"IFrameResource")[0];let e;if(i){const t=i.textContent||"";e=new rJ(t)}return e}static parseHtmlResource(t){const i=rl(t,"HTMLResource")[0];let e;if(i){const t=i.textContent||"";e=new hJ(t)}return e}async qQt(i,e,s){const n=ke(i,"timeOffset")||"0",r=ke(i,"breakType")||dJ.KT;let h=ke(i,"breakId"),o=lG(ke(i,"repeatAfter"));if(void 0===h&&(h=""),void 0===o&&(o=!1),!(void 0!==js.oFt(n)))throw new hi(Je.PARSING,Zr.VAST_SCHEMA_VALIDATION_ERROR,"Invalid TimeOffset type");const a=rl(i,"AdSource")[0],u=rl(i,"TrackingEvents")[0];let c=[];u&&(c=t.eFt(u,qK,"vmap"));let l=ke(a,"id");l||(l="");let d=lG(ke(a,"allowMultipleAds"));void 0===d&&(d=!0);let f=lG(ke(a,"followRedirects"));f||(f=!0);const _=rl(a,"AdTagURI")[0];let g="";const w=rl(a,"VASTAdData")[0];if(!_||!_.textContent){if(w){if(w.firstElementChild&&YK(w.firstElementChild,"VAST")){const t=await this.YQt(w.firstElementChild,s,!1);if(t){const i=new wJ(l,d,f,t);return new _J(n,i,r,h,c,o,!1,e)}return}throw new hi(Je.PARSING,Zr.VAST_SCHEMA_VALIDATION_ERROR,"vmap:VASTAdData does not have a VAST-structure as a child element")}throw new hi(Je.PARSING,Zr.VAST_SCHEMA_VALIDATION_ERROR,"Invalid AdTagURI source or invalid VASTAdData in Adbreak Element")}try{g=_.textContent;const t=Kr(e);return t.sources.src=g,new gJ(n,t,s)}catch(t){return}}};!function(t){t.KT="",t.zQt="linear",t.aFt="nonlinear",t.uFt="display"}(dJ||(dJ={}));var fJ,js=class{static cFt(t){switch(t){case"linear":case"nonlinear":case"display":return!0;default:return!1}}static lFt(t){}static dFt(t){if(void 0!==t)return"start"===t?0:"end"===t?-1:void 0}static fFt(t){const i=t.split(":");let e=0;return e+=3600*Number(i[0]),e+=60*Number(i[1]),e+=Number(i[2]),e}static _Ft(t){if(t<=0)return"00:00:00.000";const i=x.floor(t),e=t-i;return this.gFt(i/3600,2)+":"+this.gFt(i/60%60,2)+":"+this.gFt(i%60,2)+"."+this.gFt(1e3*e,3)}static gFt(t,i){return("00"+x.floor(t)).slice(-i)}static wFt(t,i){const e=this.oFt(t);if(0===e)switch(t){case"start":return 0;case"end":return-1}else{if(2===e)return rc(t)*i;if(1===e)return nc(t);if(3===e)return this.dFt(t);if(4===e){const i=Number(t);if(!j(i)&&i>=-1)return i}}}static oFt(t){return"start"===t||"end"===t?0:void 0!==nc(t.toString())?1:void 0!==rc(t.toString())?2:void 0!==this.lFt(t.toString())?3:j(Number(t))?void 0:4}};!function(t){t[t.x5=0]="x5",t[t.AFt=1]="AFt",t[t.vFt=2]="vFt",t[t.mFt=3]="mFt",t[t.pFt=4]="pFt"}(fJ||(fJ={}));var jr,_J=class{get yFt(){return this.MFt}get yEt(){return this.TFt}get PUt(){return this.BUt}set PUt(t){this.BUt=t}get pRt(){return this.nUt}get NFt(){return this.DFt}get IFt(){return this.SFt}get T7(){return this.EFt}get bFt(){return this.WQt.Kl}get W(){return!0}$n(){return Promise.resolve()}get WQt(){return this.LFt}set WQt(t){this.LFt=t}constructor(t,i,e,s,n,r,h,o){this.BUt=-1,this.MFt=i,this.TFt=t,this.kFt=e,this.DFt=s,this.SFt=r,this.nUt=n,this.CFt=h,this.EFt=o}},gJ=class{get yFt(){return this.LRt.yFt}get yEt(){return this.LRt.yEt}get PUt(){return this.LRt.PUt}set PUt(t){this.LRt.PUt=t}get pRt(){return this.LRt.pRt}get NFt(){return this.LRt.NFt}get IFt(){return this.LRt.IFt}get T7(){return this.LRt.T7}get bFt(){return this.LRt.bFt}get W(){return this.xFt}$n(){var t;return null!=(t=this.OFt)?t:this.OFt=this.ait()}async ait(){const t=new mc;this.LRt=await t.VQt(this.T7,this.yEt,this.WQt,this.gE),this.xFt=!0}get WQt(){return this.LRt.WQt}set WQt(t){this.LRt.WQt=t}constructor(t,i,e){this.xFt=!1,this.gE=e,this.LRt=new _J(t,void 0,"","",[],!1,!1,i)}},wJ=class{get o(){return this.NN}get mUt(){return this.jFt}get zFt(){return this.PFt}get KBt(){return this.BFt}constructor(t,i,e,s){this.NN=t,this.jFt=i,this.BFt=s,this.PFt=e}};function AJ(t,i){let e;if(t.vastAdsRequest&&(e=function(t){if(t.adTagUrl)return t.adTagUrl;if(t.adsResponse)return HK(t.adsResponse);return}(t.vastAdsRequest)),!e){const i=function(t){const i=t.contentUrl||t.contentId;if(!i)return;const e=t.contentType||"video/mp4",s=bv(e)||ka(t.contentType)?"streaming":"progressive",n=void 0!==t.duration?"<Duration>"+js._Ft(t.duration)+"</Duration>":"",r=void 0!==t.whenSkippable&&t.whenSkippable>=0?' skipoffset="'+js._Ft(t.whenSkippable)+'"':"",h='<MediaFile delivery="'+s+'" type="'+e+'">'+WK(i)+"</MediaFile>",o=t.clickThroughUrl?"<VideoClicks><ClickThrough>"+WK(t.clickThroughUrl)+"</ClickThrough></VideoClicks>":"",a="<Linear"+r+">"+n+"<MediaFiles>"+h+"</MediaFiles>"+o+"</Linear>",u=t.title?"<AdTitle>"+WK(t.title)+"</AdTitle>":"";return'<VAST version="3.0"><Ad>'+u+"<InLine><Creatives><Creative>"+a+"</Creative></Creatives></InLine></Ad></VAST>"}(t);i&&(e=HK(i))}const s=t.customData;if(e){const n={integration:null==s?void 0:s.integration,sources:{src:e,type:"vast"},timeOffset:i};return n.integration&&"theo"!==n.integration||(n.skipOffset=t.whenSkippable),n}}!function(t){t.RFt="error",t.UFt="sourceupdate"}(jr||(jr={}));var vJ=class extends mg{constructor(t){super("error"),this.lt=t}},mJ=class extends mg{constructor(t,i){super("sourceupdate"),this.bt=t,this.yc=i}},pJ=class extends i{get Fy(){return this.QFt}FFt(t){this.YFt.FFt(t)}GFt(t){this.YFt.GFt(t)}VFt(t){this.YFt.VFt(t)}WFt(t){this.YFt.WFt(t)}HFt(t){this.QFt.addUpdateListener(t)}qFt(t){this.QFt.removeUpdateListener(t)}XFt(){const t=new Eo,i=new chrome.cast.media.GetStatusRequest;return this.QFt.getStatus(i,(()=>{t.jL({bt:this.O_(),yc:this.Wa()})}),(i=>t.zL(i))),t.PL}O_(){var t;return null==(t=this.QFt.customData)?void 0:t.currentSource}Wa(){var t;let i;if(null==(t=this.KFt.ZFt())?void 0:t.version){var e;i=null==(e=this.QFt.customData)?void 0:e.sourceDescription}else{var s;const t=null==(s=DK(this.QFt))?void 0:s.customData;(function(t){return Mi(t)&&t.theoplayer_version>=1&&li(t.streamStart)&&li(t.isLive)&&li(t.sourceDescription)})(t)&&(i=t.sourceDescription),i||(i=function(t){return{sources:[{src:t.contentId,type:t.contentType}],ads:yJ(t)}}(this.QFt.media))}return i}Gg(){const t=new chrome.cast.media.PauseRequest;this.QFt.pause(t,fg,this.JFt)}Wg(){const t=new chrome.cast.media.StopRequest;this.QFt.stop(t,fg,this.JFt)}Vg(){const t=new chrome.cast.media.PlayRequest;this.QFt.play(t,fg,this.JFt)}Dp(t,i){const e=new chrome.cast.media.SeekRequest;return e.currentTime=t,e.resumeState=i?chrome.cast.media.ResumeState.PLAYBACK_PAUSE:chrome.cast.media.ResumeState.PLAYBACK_START,new Promise(((t,i)=>{this.QFt.seek(e,t,(t=>{var e;i(new ha(pr(t.code),null!=(e=t.description)?e:void 0))}))}))}dg(t){this.YFt.d8(Br,function(t){return{type:IK.ZBt,properties:{playbackRate:t}}}(t)).catch(this.$Ft)}tYt(t){const i=new chrome.cast.media.EditTracksInfoRequest(t);this.QFt.editTracksInfo(i,fg,this.JFt)}iYt(){return this.QFt.getEstimatedTime()}eYt(){return this.QFt.getEstimatedBreakClipTime()}sYt(){return this.QFt.getEstimatedBreakTime()}nYt(){this.YFt.d8("urn:x-cast:com.google.cast.media",{type:SK.SKIP_AD,requestId:this.rYt++,mediaSessionId:this.QFt.mediaSessionId}).catch(this.$Ft)}gn(){this.Vo()}constructor(t,i,e){super(i),this.rYt=0,this.$Ft=t=>{this.Co(new vJ(t))},this.JFt=t=>{var i;const e=new ha(pr(t.code),null!=(i=t.description)?i:void 0);this.$Ft(e)},this.KFt=t,this.YFt=i,this.QFt=e}};function yJ(t){return t.vmapAdsRequest&&t.vmapAdsRequest.adTagUrl?[{sources:{src:t.vmapAdsRequest.adTagUrl,type:"vmap"}}]:t.breaks&&t.breakClips?Eh(t.breaks,(i=>function(t,i){const e=[];if(t.isWatched)return e;for(const s of t.breakClipIds){const n=p(i,(t=>t.id===s));if(n){const i=AJ(n,t.position);i&&e.push(i)}}return e}(i,t.breakClips))):[]}r();var MJ,TJ=class{hYt(t,i){this.KFt.addMessageListener(t,i)}oYt(t,i){this.KFt.removeMessageListener(t,i)}d8(t,i){return new Promise(((e,s)=>{this.KFt.sendMessage(t,i,e,(t=>{var i;s(new ha(pr(t.code),null!=(i=t.description)?i:void 0))}))}))}gn(){}constructor(t){this.KFt=t}};function NJ(t){return"vmap"===t||"adrule"===t}function DJ(t){if(t)return ae(t)?{src:Oa(t),type:void 0}:function(t){return Mi(t)&&Boolean(t.src)}(t)?{src:Oa(t.src),type:IJ(t.type)}:void 0}function IJ(t){if(ae(t)){const i=t.toLowerCase();switch(i){case"vast":case"vmap":case"adrule":return i;default:return void Bi("The ad source type provided in the configuration could not be recognized: '"+t+"'.")}}else t||Bi("For better performance it is highly recommended to add the type to the configuration of your ad sources.")}function uh(t){if(void 0!==t&&""!==t&&("string"==typeof t||"number"==typeof t)){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return 0;case"end":case"100%":return-1}if("string"==typeof t){if(function(t){return EK.test(t)}(t))return js.fFt(t);if(SJ(t))return t}return Number(t)>=0?Number(t):void 0}}function SJ(t){return new RegExp(/^\d{1,2}%$/).test(t)}function EJ(t){const i=[],e=(t,s)=>{if(pi(s))for(let i=0,n=s.length;i<n;i++){const n=Mi(s[i])&&s[i]?String(i):"";e(t+"["+encodeURIComponent(n)+"]",s[i])}else if(Mi(s))for(const i of _.keys(s))e(t+"["+encodeURIComponent(i)+"]",s[i]);else((t,e)=>{i.push(t+"="+encodeURIComponent(null!=e?e:""))})(t,String(s))};for(const i of _.keys(t))e(encodeURIComponent(i),t[i]);return i.join("&")}r(),r(),r(),function(t){t.qBt="receiver_info",t.dEt="event",t.aYt="propertychange",t.XBt="trackevent"}(MJ||(MJ={}));var ht,bJ=class{uYt(t){let i;try{i=JSON.parse(t)}catch(t){0}return i}FFt(t){this.cYt.push(t)}GFt(t){Et(this.cYt,t)}VFt(t){this.lYt.push(t)}WFt(t){Et(this.lYt,t)}dYt(t){this.fYt=t}d8(t,i){return this._Yt.d8(t,i)}gn(){this._Yt.oYt(Br,this.gYt),Ri(this.lYt),Ri(this.cYt),this.fYt=void 0}constructor(t){this.cYt=[],this.lYt=[],this.gYt=(t,i)=>{const e=this.uYt(i);if(e)if(e.type===MJ.aYt)for(const t of this.cYt)for(const i of _.keys(e.properties))t(i,e.properties[i]);else if(e.type===MJ.dEt)for(const t of this.lYt)t(e.event);else e.type===MJ.XBt&&this.fYt&&e.event.trackState&&this.fYt(e.event.trackId,e.event.trackState.targetQualityIds)},this._Yt=t,this._Yt.hYt(Br,this.gYt)}};r(),r(),function(t){t.wYt="medialoadedchange",t.uv="volumechange",t.RFt="casterror",t.AYt="playererror",t.vYt="targetqualitychanged",t.mYt="receiverinfochanged"}(ht||(ht={}));var LJ,kJ=class extends mg{constructor(){super("medialoadedchange")}},CJ=class extends mg{constructor(t,i){super("volumechange"),this.xg=t,this.Z_=i}},xJ=class extends mg{constructor(t){super("casterror"),this.lt=t}},OJ=class extends mg{constructor(t){super("playererror"),this.lt=t}},jJ=class extends mg{constructor(t,i){super("targetqualitychanged"),this.Wy=t,this.pYt=i}},zJ=class extends mg{constructor(){super("receiverinfochanged")}},PJ=class extends i{yYt(t,i,e){this.YFt.d8(Br,function(t,i,e){return{type:IK.XBt,trackID:t,trackType:i,properties:{targetQuality:e}}}(t,i,e)).catch(this.$Ft)}MYt(){this._Yt.hYt(Br,this.TYt),this.YFt.d8(Br,{type:IK.qBt}).catch(fg)}ZFt(){return this.NYt}DYt(){return this.KFt.getSessionObj()}IYt(t){!this.SYt&&t&&t.idleReason!==chrome.cast.media.IdleReason.FINISHED&&(this.SYt=new pJ(this,this.YFt,t),this.EYt(),this.Co(new kJ),this.SYt.HFt(this.bYt))}LYt(){return this.SYt}async kYt(t){const i=function(t){const i=function(t,i,e,s){const n=RS(t)||"",r=PS(t)||"",h=new chrome.cast.media.MediaInfo(n,r);return h.metadata=NK(t.metadata,t.poster),h.streamType=s,function(t,i,e){const s=[],n=[];let r,h=0,o=0;for(const t of i){const i=DJ(t.sources);if(i)if(bK(i,t.timeOffset))r=new chrome.cast.media.VastAdsRequest,r.adTagUrl=i.src;else if(LK(i,t.timeOffset)){var a;const r=null!=(a=t.timeOffset)?a:0,c=t.skipOffset;var u;const l=null!=(u=js.wFt(r,e))?u:0,d=void 0!==c?js.wFt(c,e):void 0,f=new chrome.cast.media.BreakClip("bc"+o++);f.vastAdsRequest=new chrome.cast.media.VastAdsRequest,f.vastAdsRequest.adTagUrl=i.src,f.whenSkippable=d,f.customData={integration:t.integration};let _=p(n,(t=>t.position===l));void 0===_&&(_=new chrome.cast.media.Break("b"+h++,[],l),n.push(_)),_.breakClipIds.push(f.id),s.push(f)}else 0;else 0}t.breakClips=s,t.breaks=n,t.vmapAdsRequest=r}(h,i,e),h}(t.CYt,t.Oc,t.ct,t.xX),e=new chrome.cast.media.LoadRequest(i);return e.autoplay=!0,e.currentTime=t.j_,e.customData=t.xYt,e}(t);let e;try{e=await this.KFt.loadMedia(i)}catch(t){e=t}if(e)throw new ha(pr(e))}J_(t){this.DYt().setReceiverMuted(t,fg,this.OYt)}jg(t){this.DYt().setReceiverVolumeLevel(t,fg,this.OYt)}jYt(){return this.DYt().receiver.friendlyName}gn(){this.Vo(),this.KFt.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.zYt),this.DYt().removeUpdateListener(this.EYt),this._Yt.oYt(Br,this.TYt),this.YFt.gn(),this._Yt.gn()}constructor(t){super(),this.NYt=void 0,this.$Ft=t=>{this.Co(new xJ(t))},this.PYt=(t,i)=>{"error"===t&&this.Co(new OJ(i))},this.BYt=(t,i)=>{this.Co(new jJ(t,i))},this.TYt=(t,i)=>{const e=JSON.parse(i);e.type===MJ.qBt&&(this.NYt=e.info,this.Co(new zJ))},this.EYt=()=>{const t=this.DYt(),{level:i,muted:e}=t.receiver.volume;this.Co(new CJ(null!=i?i:void 0,null!=e?e:void 0))},this.zYt=()=>this.IYt(this.KFt.getMediaSession()),this.bYt=t=>{var i;t||(null==(i=this.SYt)||i.qFt(this.bYt),this.SYt=void 0,this.Co(new kJ))},this.OYt=t=>{var i;const e=new ha(pr(t.code),null!=(i=t.description)?i:void 0);this.$Ft(e)},this.KFt=t,this.KFt.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.zYt),this._Yt=new TJ(t.getSessionObj()),this.YFt=new bJ(this._Yt),this.YFt.FFt(this.PYt),this.YFt.dYt(this.BYt),this.DYt().addUpdateListener(this.EYt),this.EYt(),this.MYt();const i=this.KFt.getMediaSession();i&&this.IYt(i)}};(LJ||(LJ={})).RYt="statechange";var BJ=class extends mg{constructor(t){super("statechange"),this.Pct=t}};r(),r(),r(),r();var Hc,RJ=class extends i{F9(){return this.Ic}L_(){return Ki.lR()}z_(){return this.dR+this.UYt}k9(){return this.z_()}C_(){}Td(){return this.Rk}U_(){return this.Y$}Q_(){}og(){return this.gR}QYt(){}cg(){return this.wR}dg(t){this.wR!==t&&(this.wR=t,this.Co(new se(this.Qo.j_,t)))}pg(){return Os.tN}_g(){return Ki.lR()}Mg(){return Ki.lR()}Ng(){return!1}I_(){return this.nN}Eg(){return this.hN}Dg(){return this.Dl}tYt(t){}Cg(){return this.FYt}Sg(){return this.YYt}Vg(){this.gR=!1}Gg(){this.gR=!0}Dp(t){this.dR=t-this.UYt}GYt(){return this.UYt}VYt(t){this.UYt=t}p7(t){this.Ic.p7(t)}Wg(){}gn(){this.Vo(),this.nN.gn(),this.hN.gn(),this.Dl.gn(),this.Ic.gn()}constructor(t,i,e,s,n,r,h,o,a){super(),this.Qo=t,this.UYt=0,this.nN=new He,this.hN=new He,this.Dl=new jn,this.Ic=new pn,this.UYt=i,this.dR=e-i,this.Rk=s,this.Y$=n,this.gR=r,this.wR=h,this.FYt=o,this.YYt=a}};r(),r(),r(),r(),function(t){t.WYt="ccmodechangerequest",t.HYt="cctargetqualitychangerequest",t.qYt="cctrackchangerequest"}(Hc||(Hc={}));var UJ,sr,QJ=class extends mg{constructor(t,i,e){super(Hc.WYt),this.track=t,this.trackId=i,this.mode=e}};function FJ(t){return"AUDIO"===t.type}function YJ(t){return"VIDEO"===t.type}function GJ(t){return"TEXT"===t.type}r(),function(t){t.Ru="TEXT",t.mp="AUDIO",t.vp="VIDEO"}(UJ||(UJ={})),function(t){t.pp="SUBTITLES",t.fS="CAPTIONS",t._S="DESCRIPTIONS",t.Fn="CHAPTERS",t.Mp="METADATA"}(sr||(sr={}));var VJ=class extends i{get va(){return this.Xa||(this.Xa=Go(this)),this.Xa}get kh(){return this.IN}set kh(t){t!==this.IN&&(this.IN=t,this.Co(new Ln(this)))}get q(){return this.o0}get L(){return this.a0}get eA(){return this.QR}set eA(t){const i=rn(t);this.QR!==i&&(this.QR=i,this.XYt!==i&&this.Co(new QJ(this,this.Vw,i)),this.Co(new le(this)))}get ZYt(){return this.XYt}set ZYt(t){const i=rn(t),e=this.QR!==i;this.QR=i,this.XYt=i,e&&this.Co(new le(this))}nA(t){this.eA=t}KYt(t){}gn(){}Zn(){}constructor(t){super(),this.Xa=void 0;const i=t.customData;this.Vw=Number(t.trackId)||0,this.o=""+(i&&i.id||this.Vw),this.IN=i&&i.label||t.name||"",this.gs=i&&i.language||t.language||"",this.iA=i&&i.inBandMetadataTrackDispatchType||"",this.zt=i&&i.kind||function(t){switch(t){case sr.pp:return Oi.pp;case sr.fS:return Oi.fS;case sr._S:return Oi._S;case sr.Fn:return Oi.Fn;case sr.Mp:return Oi.Mp}return}(t.subtype)||"subtitles",this.vg=Q.NONE,this.hA=i&&void 0!==i.type?function(t){return Ni(t)?t:Ks.DEFAULT}(i.type):Ks.WEBVTT,this.h0=[],this.a0=new sC(this.h0),this.g0=[],this.o0=new sC(this.g0),this.QR=rn(i&&i.mode||La.Ch),this.XYt=this.QR}};r(),r();var WJ=class extends mg{constructor(t,i){super(Hc.qYt),this.trackId=t,this.enabled=i}};r();var HJ,qJ=class extends mg{constructor(t,i){super(Hc.HYt),this.track=t,this.targetQuality=i}};r(),function(t){t.mp="audio",t.vp="video",t.Ru="text"}(HJ||(HJ={}));var XJ,sh,ZJ=class extends i{get Gw(){return this.Gut}get qw(){return this.Yut}set qw(t){this.JYt(t),this.Co(new qJ(this,t))}get Hw(){return this.vN}get kh(){return this.IN}set kh(t){t!==this.IN&&(this.IN=t,this.Co(new Ln(this)))}get Rt(){return this.Le}set Rt(t){this.Le!==t&&(this.Le=t,this.$Yt!==t&&this.Co(new WJ(this.Vw,t)),this.Co(new le(this)))}get tGt(){return this.$Yt}set tGt(t){const i=this.Le!==t;this.Le=t,this.$Yt=t,i&&this.Co(new le(this))}get va(){return this.Xa||(this.Xa=Ei(this)),this.Xa}get eA(){return this.Rt?"enabled":"disabled"}EN(t){this.Rt=t}KYt(t){if(t.targetQualityIds){const i=[];for(let e=0;e<this.vN.U;e++){const s=this.vN.jw(e);t.targetQualityIds.indexOf(s.o)>-1&&i.push(s)}const e=i.length?i:void 0;this.JYt(e)}}JYt(t){(function(t,i){return!t&&i||t&&!i||t&&i&&!Uo(t,i)})(this.Yut,t)&&(this.Yut=t&&this.vN.yN(t)?t:void 0,this.Co(new Dn(this.Yut,this)))}unload(){for(const t of this.vN.xw)t.fn("update",this.aIt);this.vN.Zn()}constructor(t){super(),this.Gut=void 0,this.vN=new Bt,this.Yut=void 0,this.Xa=void 0,this.aIt=()=>this.Co(new Ln(this));const i=t.customData;if(this.Vw=Number(t.trackId)||0,this.o=""+(i&&i.id||this.Vw),this.IN=i&&i.label||t.name||"",this.gs=i&&i.language||t.language||"",this.zt=i&&i.kind||"main",this.Le=i&&i.enabled,this.$Yt=this.Le,FJ(t)){this.IJ=HJ.mp;const i=t.customData&&t.customData.qualities;if(i)for(const t of i){const i=new QG(t.id,t.bandwidth,t.codecs,t.name,"",t.audioSamplingRate);i.yn("update",this.aIt),this.vN.mN(i)}}else{this.IJ=HJ.vp;const i=t.customData&&t.customData.qualities;if(i)for(const t of i){const i=new UG(t.id,t.bandwidth,t.codecs,t.name,"",t.frameRate,t.width,t.height);i.yn("update",this.aIt),this.vN.mN(i)}}}};r(),function(t){t.iGt="legacy",t.eGt="caf"}(XJ||(XJ={})),r(),r(),r(),function(t){t.sGt="theo",t.nGt="google-ima",t.so="google-dai",t.rGt="freewheel",t.hGt="mediatailor",t.EE="chromecast"}(sh||(sh={})),r(),r();var KJ=class{Mc(){if(this.oGt>=this.Ic.length)return;const t=this.Ic[this.oGt];return this.oGt+=1,t}lt(){return this.Mc()}constructor(t){this.oGt=0,this.Ic=t}};function JJ(t){var i,e,s;return null!=(s=null==(e=t.yFt)||null==(i=e.KBt)?void 0:i.JBt())?s:[]}var $J=class{},ih=class{n7(){var t;return null!=(t=this.Xa)?t:this.Xa=function(t){return{get ads(){return t.Oc.map((t=>t.n7()))},get integration(){return t.aGt},get maxDuration(){return t.uGt},get maxRemainingDuration(){return t.cGt},get timeOffset(){return t.yEt}}}(this)}constructor(){this.Xa=void 0}},Tc=class{get lGt(){return this.dGt}get t(){return this.Qo}constructor(t,i){this.dGt=t,this.Qo=i}},t$=class extends ih{get WQt(){return this.LFt}get Oc(){const t=[];for(const s of this.LFt.fGt)for(const n of JJ(s)){var i,e;const r=null!=(e=null==(i=n.gRt)?void 0:i.URt)?e:[];if(n.fRt&&t.push(this._Gt(n.fRt,r,n.ARt,s.T7)),n.wRt)for(const i of n.wRt.vRt)t.push(this.gGt(i,r,n.wRt,n.ARt,s.T7))}return t}_Gt(t,i,e,s){const n=p(this.wGt,(i=>i.fRt===t));if(void 0!==n)return n;const r=new n$(t,i,this,this.AGt,e,s);return this.wGt.push(r),r}gGt(t,i,e,s,n){const r=p(this.vGt,(i=>i.wRt===t));if(void 0!==r)return r;const h=new s$(t,i,e,this,this.AGt,s,n);return this.vGt.push(h),h}get aGt(){return sh.sGt}get yEt(){const t=this.LFt.Kl;return t>=0?t:this.AGt.t.Td()}get cGt(){let t=0;for(const i of this.LFt.fGt)for(const e of JJ(i))e.fRt&&!e.fRt.RUt&&(t+=e.fRt.ct);return this.AGt&&this.AGt.lGt&&(t+=this.AGt.lGt.ct-this.AGt.lGt.j_),t}get uGt(){let t=0;for(const i of this.LFt.fGt)for(const e of JJ(i))e.fRt&&(t+=e.fRt.ct);return t}constructor(t,i){super(),this.wGt=[],this.vGt=[],this.LFt=t,this.AGt=i}},i$={height:0,width:0,clickThrough:"",contentHTML:"",resourceURI:"",altText:""},e$=class extends $J{get Xl(){return this.LRt}get T7(){return this.EFt}get ARt(){return this.CUt}mGt(){return this.pGt}yGt(){this.pGt=!0}MGt(t){return At({},i$,{resourceURI:t.gQt||""})}TGt(t){return At({},i$,{contentHTML:t.gQt.trim(),type:"HTMLResource"})}NGt(t){var i,e;return At({},i$,{clickThrough:(null==(i=t.oUt)?void 0:i.trim())||"",resourceURI:(null==(e=t.gQt)?void 0:e.trim())||"",altText:t.rUt||"",type:"StaticResource"})}DGt(t,i,e){if(!t||!i)return;const s="<img "+(e?"title='"+e+"' ":"")+"src='"+encodeURI(t)+"'>";return"<a href='"+encodeURI(i)+"' target='_blank' rel='noopener'>"+s+"</a>"}gRt(t){return t?t.map((t=>{let i;const e={adSlotId:t.JRt||"",height:t.Ti||0,width:t.ji||0};if(t.MRt){var s;const e=this.NGt(t.MRt),n=e.clickThrough||(null==(s=t.eUt)?void 0:s.oUt);i=At({},e,{contentHTML:this.DGt(e.resourceURI,n,e.altText)||""})}else if(t.IRt)i=this.TGt(t.IRt);else{if(!t.NRt)return;i=this.MGt(t.NRt)}return _l(i,e)})).filter((t=>void 0!==t)):[]}IGt(){return this.SGt.hRt}constructor(t,i,e,s,n,r){super(),this.pGt=!1,this.SGt=t,this.QRt=i,this.LRt=e,this.AGt=s,this.CUt=n,this.EFt=r}},s$=class extends e${get wRt(){return this.SGt}get _Rt(){return this.EGt}fa(){const t=this.LRt,i={companions:this.gRt(this.QRt),type:"nonlinear",id:this.SGt.kRt,skipOffset:this.PUt,integration:sh.sGt,adSystem:this.SGt.hRt,get adBreak(){return t.n7()},creativeId:this.SGt.kRt,universalAdIds:this.CUt.map((t=>({adIdRegistry:t.CQt,adIdValue:t.OQt})))};return this.SGt.NRt?_l(this.MGt(this.SGt.NRt),i):this.SGt.IRt?_l(this.TGt(this.SGt.IRt),i):this.SGt.MRt?_l(this.NGt(this.SGt.MRt),i):i}n7(){var t;return null!=(t=this.Xa)?t:this.Xa=this.fa()}bGt(){var t,i;return null!=(i=null==(t=this.SGt.MRt)?void 0:t.gQt)?i:""}LGt(){var t,i,e;return null!=(e=null==(i=this.SGt)||null==(t=i.MRt)?void 0:t.AQt)?e:""}get PUt(){const t=this.SGt.Xl;return t&&t.T7&&void 0!==t.T7.skipOffset?js.wFt(t.T7.skipOffset,this.AGt.lGt.ct):(null==(i=this.SGt.Xl)?void 0:i.PUt)||-1;var i}constructor(t,i,e,s,n,r,h){super(t,i,s,n,r,h),this.EGt=e}},n$=class extends e${get fRt(){return this.SGt}fa(){var t;const i=this.LRt;return{companions:this.gRt(this.QRt),duration:this.SGt.ct,id:this.SGt.kRt,mediaFiles:this.SGt.OUt,skipOffset:this.PUt,type:"linear",integration:sh.sGt,adSystem:this.SGt.hRt,width:void 0,height:void 0,get adBreak(){return i.n7()},clickThrough:null==(t=this.SGt.NUt)?void 0:t.oUt,creativeId:this.SGt.kRt,universalAdIds:this.CUt.map((t=>({adIdRegistry:t.CQt,adIdValue:t.OQt})))}}n7(){var t;return null!=(t=this.Xa)?t:this.Xa=this.fa()}bGt(){return this.SGt.OUt.length>0?this.SGt.OUt[0].contentURL:""}LGt(){return this.SGt.OUt.length>0?this.SGt.OUt[0].type:""}get PUt(){const t=this.SGt.Xl;return t&&t.T7&&void 0!==t.T7.skipOffset?js.wFt(t.T7.skipOffset,this.AGt.lGt.ct):this.SGt.PUt||-1}constructor(t,i,e,s,n,r){super(t,i,e,s,n,r)}};function r$(t){return t instanceof n$}r();var oh=class extends Ts{fa(){return new h$(this.f7.n7())}constructor(t){super("kGt",t)}},h$=class extends Xs{constructor(t){super("updatead",t)}};r();var o$=class extends Ts{fa(){return new a$(this.f7.n7())}constructor(t){super("CGt",t)}},a$=class extends Xs{constructor(t){super("adloaded",t)}},u$=class extends ra{get Fc(){return void 0!==this.xGt}get s7(){return this.SGt?[this.SGt]:[]}get r7(){var t;return null!=(t=this.xGt)?t:null}get h7(){return Eh(this.OGt,(t=>{const i=t.Oc;if(t===this.xGt&&void 0!==this.SGt){const t=i.indexOf(this.SGt);if(t>=0)return i.slice(t+1)}return t.jGt()?[]:i}))}get o7(){return this.OGt.filter((t=>t===this.xGt||!t.jGt()))}get va(){var t;return null!=(t=this.Xa)?t:this.Xa=Vj(this)}N1(t,i,e){throw new k("Scheduling ads while casting is not supported.")}Yp(){this.QFt.nYt()}y7(t){}zGt(t){return p(this.OGt,(i=>i.o===t))}PGt(t,i,e,s){const n=this.OGt,r=[];let h=!1;for(const n of t){let t=this.zGt(n.id);void 0===t&&(t=new c$(n),s.push(new un(t))),!li(t.BGt)&&li(e)&&(t.BGt=this.RGt(t.UGt,e));const o=t.Oc;t.Qn(n,i,e,s);const a=t.Oc;for(const t of a)Ho(o,t)||(s.push(new qj(t)),h=!0);r.push(t)}this.OGt=r,h&&s.push(new vn);for(const t of n)Ho(r,t)||s.push(new Hu(t))}QGt(t,i){const e=this.xGt,s=this.SGt;let n,r;if(t){var h;const{breakId:i,breakClipId:e}=t;n=i?this.zGt(i):void 0,r=e?null==(h=this.xGt)?void 0:h.FGt(e):void 0}if(this.xGt=n,this.SGt=r,n!==e&&(void 0!==e&&(e.YGt=void 0,i.push(new Nh(e))),void 0!==n&&(n.YGt=this.QFt,i.push(new pa(n)))),r!==s){const t=this.Qo.z_();void 0!==s&&i.push(new da(s,t)),void 0!==r&&i.push(new Za(r,t))}}RGt(t,i){if(!i||!i.breaks)return;const e=p(i.breaks,(i=>i.id===t.id));return e}p7(t){const i=[];for(const t of this.OGt){let e=t.Oc;if(t===this.xGt&&void 0!==this.SGt){const t=e.indexOf(this.SGt);t>=0&&(e=e.slice(t))}else if(t.jGt())continue;for(const t of e){const e=t.GGt();e&&i.push(e)}}for(const e of i)t.N1(e,ds.a7,!1)}gn(){return this.Vo(),this.QFt.qFt(this.Yr),void 0!==this.xGt&&(this.xGt.YGt=void 0,this.xGt=void 0),this.SGt=void 0,Ri(this.OGt),Promise.resolve(void 0)}constructor(t,i){super(),this.OGt=[],this.xGt=void 0,this.SGt=void 0,this.Xa=void 0,this.Yr=t=>{var i;if(!t)return;const e=this.QFt.Fy,{breakStatus:s}=e,{breakClips:n,breaks:r}=e.media,h=null==(i=DK(e))?void 0:i.media,o=[];r&&n&&this.PGt(r,n,h,o),this.QGt(s,o);for(const t of o)this.Co(t)},this.Qo=t,this.QFt=i,this.QFt.HFt(this.Yr)}},c$=class extends ih{get UGt(){return this.VGt}get o(){return this.VGt.id}get Oc(){return this.Ic}get aGt(){return sh.EE}get uGt(){let t=this.VGt.duration;return void 0===t&&this.Ic.length>0&&(t=Co(this.Ic,(t=>t.ct)),j(t)&&(t=void 0)),t}get cGt(){const t=this.uGt;if(void 0!==t&&void 0!==this.YGt){const i=this.YGt.sYt();if(void 0!==i)return x.max(0,t-i)}return t}get yEt(){return this.VGt.position}jGt(){return this.VGt.isWatched}FGt(t){return p(this.Ic,(i=>i.o===t))}Qn(t,i,e,s){const n=[];for(let r=0;r<t.breakClipIds.length;r++){const h=t.breakClipIds[r],o=p(i,(t=>t.id===h));if(void 0===o)continue;const a=r<this.Ic.length?this.Ic[r]:new l$(o,this);!li(a.WGt)&&li(e)&&(a.WGt=this.HGt(e,h,r)),a.Qn(o,s),n.push(a)}this.VGt=t,this.Ic=n}HGt(t,i,e){if(!t||!t.breakClips)return;let s=p(t.breakClips,(t=>t.id===i));if(!s){var n;const i=null==(n=this.BGt)?void 0:n.breakClipIds[e];i&&(s=p(t.breakClips,(t=>t.id===i)))}return s}constructor(t){super(),this.BGt=void 0,this.Ic=[],this.YGt=void 0,this.VGt=t}},l$=class{get qGt(){return this.XGt}get o(){return this.XGt.id}get URt(){return[]}get ct(){var t;return null!=(t=this.XGt.duration)?t:NaN}get OUt(){const t=this.bGt();return t?[{contentURL:t,delivery:"progressive",type:this.LGt(),width:0,height:0}]:[]}get PUt(){const{whenSkippable:t}=this.XGt;return void 0===t?void 0:t<0?-1:t}get oUt(){return this.XGt.clickThroughUrl}get kRt(){}get ARt(){return[]}IGt(){return""}LGt(){var t;return null!=(t=this.XGt.contentType)?t:""}bGt(){var t,i;return null!=(i=null!=(t=this.XGt.contentUrl)?t:this.XGt.contentId)?i:""}Qn(t,i){const e=this.o,s=this.ct,n=this.XGt.contentUrl;this.XGt=t;const r=this.o,h=this.ct,o=this.XGt.contentUrl;e===r&&(s===h||j(s)&&j(h))&&n===o||i.push(new oh(this)),j(s)&&!j(h)&&i.push(new o$(this))}GGt(){let t;return this.WGt&&(t=AJ(this.WGt,this.Xl.yEt)),t||(t=AJ(this.XGt,this.Xl.yEt)),t}n7(){var t;return null!=(t=this.Xa)?t:this.Xa=this.fa()}fa(){const t=this;return{get companions(){return t.URt},get duration(){return t.ct},get id(){return t.o},get mediaFiles(){return t.OUt},get skipOffset(){return t.PUt},type:"linear",integration:sh.EE,get adSystem(){return t.IGt()},width:void 0,height:void 0,get adBreak(){return t.Xl.n7()},get clickThrough(){return t.oUt},get creativeId(){return t.kRt},get universalAdIds(){return t.ARt.map((t=>({adIdRegistry:t.CQt,adIdValue:t.OQt})))}}}constructor(t,i){this.Xa=void 0,this.XGt=t,this.Xl=i}};r();var d$,On=class extends i{get ZGt(){return this.KGt}set ZGt(t){this.KGt!==t&&(this.KGt=t,this.Us.href=null!=t?t:"",t?this.kS():this.CS())}kS(){if(this.Le)return;this.Le=!0,this.Us.style.display="",this.JGt||(this.fit.style.cursor="pointer");const t=this.JGt?this.Us:this.fit;lg.Ys.Je?(t.addEventListener("touchstart",this.$Gt),t.addEventListener("touchend",this.tVt)):(t.addEventListener("mousedown",this.$Gt),t.addEventListener("click",this.tVt))}CS(){if(!this.Le)return;this.Le=!1,this.Us.style.display="none",this.JGt||(this.fit.style.cursor="");const t=this.JGt?this.Us:this.fit;lg.Ys.Je?(t.removeEventListener("touchstart",this.$Gt),t.removeEventListener("touchend",this.tVt)):(t.removeEventListener("mousedown",this.$Gt),t.removeEventListener("click",this.tVt))}e_(){this.Vo(),this.CS(),this.fit.removeChild(this.Us)}constructor(t,i=lg.Ys.Je){super(),this.Le=!1,this.$Gt=t=>{t.stopPropagation(),this.Co(new mg("clickstart"))},this.tVt=t=>{t.stopPropagation(),this.Co(new mg("click"))},this.fit=t,this.JGt=i,this.Us=h.createElement("a"),this.Us.style.position="absolute",this.Us.style.zIndex="11",this.Us.target="Du",this.JGt?($r(this.Us,"learn more"),this.Us.className="theoplayer-ad-overlay-component theoplayer-ad-touch-clickthrough",this.Us.setAttribute("rel","noopener")):ta(this.Us),this.fit.appendChild(this.Us),this.CS()}};r(),r(),function(t){t.iVt="theo-size-xs",t.eVt="theo-size-s",t.sVt="theo-size-m",t.nVt="theo-size-l",t.rVt="theo-size-xl"}(d$||(d$={}));var f$=[1200,992,768,576],_$={1200:"theo-size-xl",992:"theo-size-l",768:"theo-size-m",576:"theo-size-s"},g$=class{hVt(t){let i=w$(t);i!==this.oVt&&(Du(this.Us,i),XN(this.Us,this.oVt),this.oVt=i)}gn(){this.Wu.fn(_r.pn,this.mn)}constructor(t,i){this.Us=t,this.Wu=i,this.mn=t=>{this.hVt(t.width)},this.oVt=w$(i.ku),Du(this.Us,this.oVt),i.yn(_r.pn,this.mn)}};function w$(t){for(let i of f$)if(t>i)return _$[i];return"theo-size-xs"}var A$=class extends i{get we(){return this.Us}get eA(){return this.QR}get wE(){return this.Ql.textContent||""}set wE(t){$r(this.Ql,t)}aVt(t){"countdown"!==this.QR&&(this.QR="countdown",this.uVt(),this.we.classList.remove("theoplayer-ad-skip-button"),this.we.classList.add("theoplayer-ad-skip-countdown")),this.wE="You can skip in "+x.round(t)+" seconds"}cVt(){"skip"!==this.QR&&(this.QR="skip",this.wE="Skip Ad",this.lVt(),this.we.classList.remove("theoplayer-ad-skip-countdown"),this.we.classList.add("theoplayer-ad-skip-button"))}lVt(){this.we.addEventListener("mouseup",this.dVt),this.we.addEventListener("touchend",this.dVt)}uVt(){this.we.removeEventListener("mouseup",this.dVt),this.we.removeEventListener("touchend",this.dVt)}gn(){this.Vo(),this.uVt(),this.qu.gn(),di(this.Us),di(this.Ql),this.fVt&&di(this.fVt)}constructor(t,i){super(),this.dVt=()=>{this.Co(new mg("Yp"))},this.Us=h.createElement("div"),this.we.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",this.we.style.position="absolute",this.Ql=h.createElement("span"),this.we.appendChild(this.Ql),i&&(this.fVt=h.createElement("div"),this.fVt.className="theoplayer-ad-skip-poster",this.fVt.style.backgroundImage='url("'+ow(i)+'")',this.we.appendChild(this.fVt)),this.QR="countdown",this.qu=new g$(this.we,t)}},v$=class extends i{_Vt(){const t=this.QFt.Fy.activeTrackIds;if(t){if(this.gVt()){const i=this.hN.xw.map((t=>t.o)),e=this.nN.xw.map((t=>t.o));Ho(i.concat(e),"0")&&t.push(0)}T$(t,this.nN),T$(t,this.hN),function(t,i){const e=!1;for(const e of i.xw)e.ZYt=Ho(t,e.Vw)?La.Xn:La.Ch}(t,this.Dl)}}wVt(){var t;const i=null==(t=this.QFt.Fy.media)?void 0:t.tracks;if(!i)return;const e=i.filter(FJ),s=i.filter(YJ),n=i.filter(GJ);if(this.gVt()&&0===s.length&&0!==this.Cg()){const t=this.AVt();s.push(t)}if(this.gVt()&&0===e.length){const t=this.vVt();e.push(t)}y$(this.nN,e.map((t=>t.trackId))),y$(this.hN,s.map((t=>t.trackId))),y$(this.Dl,n.map((t=>t.trackId))),M$(e,this.nN),M$(s,this.hN),function(t,i){let e=!1;for(const s of t){let t=p$(i,s.trackId);t||(t=new VJ(s),i.tt(t),e=!0)}}(n,this.Dl)}mVt(){this.gR||(this.pVt=v(this.od,250))}yVt(){m(this.pVt)}MVt(){this.yVt(),this.mVt()}TVt(){var t;const i=this.QFt.Fy,e=i.media;var s;const n=null!=(s=null==e?void 0:e.duration)?s:NaN,r=(null==e?void 0:e.streamType)===chrome.cast.media.StreamType.LIVE||n<0,h=r?1/0:n;this.Rk=h,this.NVt();const o=i.getEstimatedLiveSeekableRange(),a=null==(t=i.customData)?void 0:t.buffers;if(li(o)){const{start:t,end:i,isMovingWindow:e=r,isLiveDone:s=!1}=o;this.aLt(t,i,e,s)}else if(li(a)){const[t,i]=a.seekable;this.aLt(t,i,r,!1)}else r?this.aLt(void 0,void 0,!0,!1):this.aLt(0,h,!1,!1)}DVt(){const t=this.QFt.Fy,i=function(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.PAUSED}(t)||m$(t);this.IVt=i,this.gR!==i&&(this.gR=i,this.gR?this.Co(new ye(this.z_())):this.Co(new fh(this.z_())))}th(){const{playbackRate:t}=this.QFt.Fy;this.SVt!==t&&(this.SVt=void 0,this.wR!==t&&(this.wR=t,this.Co(new se(this.z_(),t))))}EVt(){const{playerState:t}=this.QFt.Fy;let i;switch(t){case chrome.cast.media.PlayerState.IDLE:i=Os.tN;break;case chrome.cast.media.PlayerState.BUFFERING:i=Os.Gn;break;case chrome.cast.media.PlayerState.PAUSED:case chrome.cast.media.PlayerState.PLAYING:i=Os.eN}this.W$(i),this.bVt()}aLt(t,i,e,s){li(t)&&li(i)?this.I$=new Ik(t,i,e,e&&!s):this.I$=void 0}LVt(t,i){this.YYt=null!=i?i:this.YYt,this.FYt=null!=t?t:this.FYt,this.Co(new Yy)}We(t){this.kVt!==t?(this.fR=!0,this.Co(new Sa(this.z_()))):this.kVt=void 0}XP(){if(!this.fR)return;this.fR=!1;const t=this.z_();this.Co(new jc(t,this.C_())),this.Co(new $s(t))}Mh(){this.Y$=!0,this.U_()&&this.Co(new ys(this.z_()))}NVt(){const t=this.$Tt,i=this.Td();t===i||j(t)&&j(i)||(this.$Tt=i,this.Co(new Vr(i)))}CVt(){const t=this.z_();this.fR||this.xVt===t||(this.xVt=t,this.Co(new jc(t,this.C_())))}QYt(){this.gR&&(this.gR=!1,this.Co(new fh(this.z_())),this.W$(Os.tN))}F9(){return this.Ic}L_(){return this.wNt.Np(this.UYt)}z_(){if(this.Ic.Fc){const t=this.QFt.eYt();if(void 0!==t)return t}return this.k9()}k9(){return void 0!==this.OVt?this.UYt+this.OVt:this.Y$?this.Td():this.UYt+this.QFt.iYt()}C_(){if(this.jVt)return new Date(this.k9()+this.jVt)}Td(){if(this.Ic.Fc){var t;const i=null==(t=this.Ic.s7[0])?void 0:t.ct;if(void 0!==i&&!j(i))return i}return this.UYt+this.Rk}Q_(){return this.yP}U_(){return!this.Ic.Fc&&this.Y$}og(){return this.gR}cg(){return this.wR}dg(t){this.wR!==t&&(this.SVt=this.wR,this.wR=t,this.Co(new se(this.z_(),t)),this.QFt.dg(t))}pg(){return this.G$}_g(){return this.Ic.Fc?Ki.cR(0,this.z_()):this.Uo.Np(this.UYt)}Mg(){var t,i;if(this.Ic.Fc)return Ki.lR();let e=null!=(i=null==(t=this.I$)?void 0:t.PJ().Np(this.UYt))?i:Ki.lR();if(e.U>0){const t=e.jn(e.U-1);e=e.HB(Ki.cR(t,this.z_()))}return e}Ng(){return this.fR}I_(){return this.nN}Eg(){return this.hN}Dg(){return this.Dl}AVt(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",frameRate:0,height:this.Sg(),id:"0",name:"",width:this.Cg()},enabled:!0,id:"0",kind:"main",label:"",language:"",qualities:[],uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:UJ.vp}}vVt(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",id:"0",name:"",audioSamplingRate:0},qualities:[],enabled:!0,id:"0",kind:"main",label:"",language:"",uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:UJ.mp}}gVt(){var t,i;return!(void 0!==(null==(t=this.KFt.ZFt())?void 0:t.version))||(null==(i=this.KFt.ZFt())?void 0:i.sdkType)===XJ.eGt}tYt(t){this.gVt()&&Et(t,0),this.QFt.tYt(t)}Cg(){return this.FYt}Sg(){return this.YYt}Vg(){this.gR&&(this.gR=!1,this.IVt=!1,this.Co(new fh(this.z_()))),this.QFt.Vg()}Gg(){this.gR||(this.gR=!0,this.IVt=!0,this.Co(new ye(this.z_()))),this.QFt.Gg()}Dp(t){if(this.Ic.Fc)return;let i=x.max(0,t-this.UYt);i=x.round(1e6*i)/1e6;const e=this.OVt;this.OVt=i,this.IVt=this.og(),this.kVt=i,this.fR=!0,this.Co(new Sa(this.z_())),void 0===e&&this.l2(i)}l2(t){this.QFt.Dp(t,this.IVt).then(this.zVt(t)).catch(this.$Ft)}zVt(t){return()=>{void 0!==this.OVt&&(this.OVt===t?this.OVt=void 0:this.l2(this.OVt))}}W$(t){this.G$!==t&&(this.G$=t,this.Co(new Jh(this.z_(),t))),void 0===this.OVt&&this.fR&&t>=Os.iN&&this.XP(),this.bVt()}bVt(){if(this.gR)return void(this.PVt=!1);const t=this.G$>=Os.eN;this.PVt!==t&&(this.PVt=t,t?this.Co(new Vi(this.z_())):this.Co(new Xc(this.z_())))}BVt(){this.RVt||(this.RVt=h.createElement("div"),this.Qo.we.appendChild(this.RVt),this.RVt.className="theoplayer-ad-linear theoplayer-chromecast-ad",this.RVt.style.zIndex="10",ta(this.RVt)),this.RVt.style.display=this.Ic.Fc?"":"none"}UVt(){var t;const i=null==(t=this.Ic.s7[0])?void 0:t.oUt;i&&!this.QVt?(this.QVt=new On(this.RVt,!0),this.QVt.ZGt=i,this.QVt.yn("clickstart",this.FVt)):this.QVt&&(this.QVt.ZGt=i)}YVt(){var t;const i=null==(t=this.Ic.s7[0])?void 0:t.PUt;if(void 0===i||i<0)return void(this.GVt&&(this.GVt.gn(),this.GVt=void 0));if(!this.GVt){var e;const t=null==(e=this.Qo.ba)?void 0:e.mi;this.GVt=new A$(this.Qo.Iu,t),this.RVt.appendChild(this.GVt.we),this.GVt.yn("Yp",this.VVt)}const s=this.QFt.eYt();void 0!==s&&(s<i?this.GVt.aVt(i-s):this.GVt.cVt())}GYt(){return this.UYt}VYt(t){this.UYt=t}p7(t){}Wg(){this.QFt.Wg()}gn(){this.Vo(),this.Ic.gn(),this.QVt&&(this.QVt.e_(),this.QVt=void 0),this.GVt&&(this.GVt.gn(),this.GVt=void 0),this.RVt&&(di(this.RVt),this.RVt=void 0),this.QFt.WFt(this.WJ),this.QFt.GFt(this.WVt),this.QFt.qFt(this.bYt),this.QFt.fn(jr.RFt,this.HVt),this.QFt.gn()}constructor(i,e,s,n){super(),this.wNt=Ki.lR(),this.jVt=void 0,this.Y$=!1,this.yP=void 0,this.SVt=void 0,this.G$=Os.tN,this.PVt=!1,this.Uo=Ki.lR(),this.I$=void 0,this.fR=!1,this.nN=new He,this.hN=new He,this.Dl=new jn,this.$Tt=NaN,this.OVt=void 0,this.IVt=!1,this.xVt=NaN,this.kVt=void 0,this.pVt=0,this.WVt=(t,i)=>{switch(t){case"buffered":this.wNt=new Ki(i),this.Co(new N(this.z_()));break;case"currentProgramDateTime":this.jVt=new Date(i).getTime()-this.z_();break;case"played":this.Uo=new Ki(i);break;case"seekable":this.TVt();break;case"videoHeight":this.LVt(void 0,i);break;case"videoWidth":this.LVt(i,void 0)}},this.WJ=i=>{switch(i.type){case t.ZA:this.We(i.currentTime);break;case t.XA:this.XP();break;case t.HA:this.Co(new TF(i.representation,i.previousRepresentation));break;case t.KA:this.Co(new WQ(i.segmentStartTime,i.error,i.trackType,i.track,i.quality,i.retryCount));break;case t.LA:this.Co(new eW(i.currentTime,i.initDataType,i.initData));break;case t.NA:this.Co(new ze(new Qr(y_.CONTENT_PROTECTION_ERROR,i.error,void 0,i.licenseAcquisitionURL,i.status,i.statusText,i.licenseAcquisitionMessage,i.systemCode)));break;case t.DA:this.Co(new vx)}},this.bYt=t=>{this.TVt(),this.DVt(),this.th(),this.EVt(),this.CVt(),this.MVt(),this.wVt(),this._Vt(),this.BVt(),this.UVt(),this.YVt(),t||m$(this.QFt.Fy)&&this.Mh()},this.od=()=>{this.CVt(),this.YVt()},this.HVt=t=>{this.Co(t)},this.$Ft=t=>{this.OVt=void 0,this.Co(new vJ(t))},this.FVt=()=>{this.Gg()},this.VVt=()=>{this.Ic.Yp()},this.Qo=i,this.KFt=e,this.QFt=s,this.Ic=new u$(i,s),this.UYt=n.GYt(),this.Rk=n.Td()-this.UYt,this.gR=n.og(),this.wR=n.cg(),this.FYt=n.Cg(),this.YYt=n.Sg(),this.QFt.VFt(this.WJ),this.QFt.FFt(this.WVt),this.QFt.HFt(this.bYt),this.QFt.yn(jr.RFt,this.HVt),this.QFt.XFt().then((t=>{this.Co(new mJ(t.bt,t.yc))}),this.$Ft)}};function m$(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.IDLE&&t.idleReason===chrome.cast.media.IdleReason.FINISHED}function p$(t,i){for(const e of t.xw)if(e.Vw===i)return e}function y$(t,i){let e=!1;for(let s=0;s<t.U;s++){const n=t.jw(s);-1===i.indexOf(n.Vw)&&(t.it(n),s--,e=!0)}return e}function M$(t,i){let e=!1;for(const s of t){let t=p$(i,s.trackId);t||(t=new ZJ(s),i.tt(t),e=!0)}return e}function T$(t,i){for(const e of i.xw)e.tGt=Ho(t,e.Vw);return!1}r();var N$=class{O7(t){return Promise.resolve("all")}Yg(){}gn(){}};r();function D$(t,i,e){if(j(t))return e;if(t===1/0){if("live"===e||"dvr"===e)return e;if(i&&i.length>0){if(i.end(i.length-1)-i.start(0)>60)return"dvr"}return"live"}return"vod"}var I$=[t.kA,t.EA,t.WA,t.qA,t.Sh,t.jh,t.VA,t.ov,t.ZA,t.XA,er.Mv,er.Tv,t.HA,t.KA,t.LA,t.NA,t.DA],S$=class extends O{OB(t){if(!t)return;Ah(this.IB&&kh(this.IB),t&&kh(t))||(this.IB=t,this.Co(new M(t)))}qVt(t){if(!t)return;const i=il(t,this.Qo.wd);Ah(this.bc&&kh(this.bc),i&&kh(i))||(this.ja.VYt(0),this.bc=i,this.Co(new Rj(i)),this.ja.QYt())}XVt(t){for(const i of this.rt.xw)if(i.Vw===t)return i;for(const i of this.ht.xw)if(i.Vw===t)return i}get Pct(){return this.ja}set Pct(t){const i=this.ja;i&&(i.fn(jr.RFt,this.HVt),i.fn(jr.UFt,this.ZVt),i.fn(I$,this.Ds),i.fn(er.Mw,this.ZO),t.VYt(i.GYt()),i.p7(t.F9())),this.ja=t,this.nN.Pw=t.I_(),this.hN.Pw=t.Eg(),this.Dl.Pw=t.Dg(),this.Ic.Pw=t.F9(),i&&i.gn(),t.yn(jr.RFt,this.HVt),t.yn(jr.UFt,this.ZVt),t.yn(I$,this.Ds),t.yn(er.Mw,this.ZO)}get ro(){return this.ho}get Oc(){return this.F9()}F9(){return this.Ic}Y9(){return this.D9}I_(){return this.nN}L_(){return this.ja.L_().ks()}get KVt(){return this.JVt||this.bc}set KVt(t){this.JVt=t}async $n(t,i){var e;t&&await this.kYt(t,null!=(e=t.ads)?e:[],t.streamType,NaN,0,null!=i?i:0)}async $Vt(t){var i;const e=null!=(i=this.JVt)?i:this.bc;if(!e)return;var s;const n=this.JVt?null!=(s=this.JVt.ads)?s:[]:this.I7(),r=this.Qo.Td(),h=this.Qo.Mg(),o=D$(r,h,e.streamType),a=h.length>0?h.start(0):0,u=null!=t?t:this.k9();await this.kYt(e,n,o,r,a,u)}I7(){const t=new pn;return this.Ic.p7(t),t.I7()}C_(){return this.ja.C_()}O_(){return this.IB}get j_(){return this.z_()}set j_(t){this.P_(t)}z_(){return this.ja.z_()}k9(){return this.ja.k9()}P_(t){this.tWt||(this.KFt.LYt()||this.tWt||!this.bc?this.ja.Dp(t):this.$n(this.bc,t))}Td(){return this.ja.Td()}U_(){return this.ja.U_()}Q_(){return this.yP}Y_(){return this.MP}V_(){return this.rN}X_(){return this.Qo.q_}K_(){return this._R}J_(t){this._R=t,this.Co(new Oe(this.j_,this.xg)),this.KFt.J_(t)}og(){return this.ja.og()}cg(){return this.ja.cg()}dg(t){this.ja.dg(t)}_g(){return this.ja._g().ks()}wg(){return tt.HT}Ag(t){}pg(){return this.ja.pg()}Mg(){return this.ja.Mg().ks()}Ng(){return this.ja.Ng()}Wa(){return this.bc}async ga(t){this.bc=t,await this.$n(t),this.JVt=void 0,this.ja.QYt()}Dg(){return this.Dl}Sg(){return this.ja.Sg()}Cg(){return this.ja.Cg()}Eg(){return this.hN}Og(){return this.Jk}jg(t){this.Jk=t,this.Co(new Oe(this.j_,this.xg)),this.KFt.jg(t)}get Bg(){return!1}set Bg(t){}Ug(){}Rg(){return this.AR}Yg(){}Vg(){this.KFt.LYt()||this.tWt||!this.bc?this.ja.Vg():this.$n(this.bc)}Gg(){this.ja.Gg()}Qg(){this.ho=!0}Fg(){this.IB=void 0,this.ho=!1}ge(){}be(){}async kYt(t,i,e,s,n,r){this.tWt=!0,this.iWt(),this.ja.VYt(n);const h="live"===e||"dvr"===e,o=function(t,i,e){return{theoplayer_version:1,streamStart:t,isLive:i,sourceDescription:e}}(n,h,t),a={CYt:t,Oc:i,j_:x.max(0,r-n),ct:s,xX:h?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED,xYt:o};try{await this.KFt.kYt(a)}catch(t){this.eWt(t)}finally{this.tWt=!1}}sWt(){this.nWt(this.nN),this.nWt(this.hN),this.rWt(this.Dl)}nWt(t){for(const i of t.xw)this.hWt(i);t.yn(at.ew,(t=>{this.hWt(t.Lt),this.oWt()}))}rWt(t){for(const i of t.xw)this.aWt(i);t.yn(at.ew,(t=>{this.aWt(t.Lt),this.oWt()}))}hWt(t){t.yn(Hc.HYt,this.dgt),t.yn(Hc.qYt,this.uWt),t.yn(Hc.qYt,this._Vt)}aWt(t){t.yn(Hc.WYt,this.cWt),t.yn(Hc.WYt,this._Vt)}lWt(){const t=[];for(const i of this.rt.xw)i.Rt&&t.push(i.Vw);for(const i of this.ht.xw)i.Rt&&t.push(i.Vw);for(const i of this.nt.xw)i.eA===La.Xn&&t.push(i.Vw);this.ja.tYt(t)}dWt(t,i){this.fWt=t,this._Wt=i}gWt(t){var i,e;if(!t)return!1;return(null!=(e=null==(i=this.KFt.ZFt())?void 0:i.version)?e:-1)>=2?t.map((t=>t.o)):[t[0].o]}wWt(t){this.AWt=t}Zg(){}Kg(){}async Wg(){this.ja.Wg(),this.iWt()}iWt(){this.QO=Os.tN,this.jO=!1,this.BO=!1,this.yP=void 0,this.MP=void 0}async gn(){this.iWt(),this.Vo(),this.Pct=this.vWt(),this.KFt.fn(ht.RFt,this.HVt),this.KFt.fn(ht.AYt,this.mWt),this.KFt.fn(ht.uv,this.pWt),this.KFt.fn(ht.wYt,this.yWt),this.KFt.fn(ht.vYt,this.MWt),this.KFt.gn()}vWt(){return new RJ(this,this.ja.GYt(),this.ja.z_(),this.ja.Td(),this.ja.U_(),this.ja.og(),this.ja.cg(),this.ja.Cg(),this.ja.Sg())}constructor(t,i){super(t,!0),this.ho=!1,this.AWt=fg,this.QO=Os.tN,this.jO=!1,this.BO=!1,this.tWt=!1,this.JVt=void 0,this.yP=void 0,this.MP=void 0,this.nN=new we,this.hN=new we,this.Dl=new Yu,this.AR=new xc,this.rN=new Lc,this.D9=new N$,this.fWt=void 0,this._Wt=void 0,this.pWt=t=>{var i,e;(li(t.xg)&&!Va(t.xg,this.Jk,1e-5)||li(t.Z_)&&t.Z_!==this._R)&&(this.Jk=null!=(i=t.xg)?i:this.Jk,this._R=null!=(e=t.Z_)?e:this._R,this.Co(new Oe(this.j_,this.Jk)))},this.yWt=()=>{const t=this.KFt.LYt();this.Pct=t?new v$(this,this.KFt,t,this.ja):this.vWt()},this.ZVt=t=>{this.OB(t.bt),this.qVt(t.yc)},this.MWt=t=>{const i=this.XVt(t.Wy);if(!i)return void 0;const e={targetQualityIds:t.pYt};i.KYt(e)},this.HVt=t=>{this.eWt(t.lt)},this.eWt=t=>{this.AWt&&this.AWt(t)},this.mWt=t=>{this.yP=t.lt,this.MP=_s(this.yP),this.Co(new pe(this.MP))},this.uWt=t=>{if(!t.enabled)return;const i=this.rt.xw.some((i=>i.Vw===t.trackId))?this.rt:this.ht;for(const e of i.xw)e.Rt&&e.Vw!==t.trackId&&(e.Rt=!1)},this.cWt=t=>{if(t.mode===La.Xn)for(const i of this.nt.xw)i.eA===La.Xn&&i.Vw!==t.trackId&&ny(i.zt,t.track.zt)&&(i.eA=La.Ch)},this._Vt=Tl((()=>{this.lWt()}),50),this.oWt=()=>{const t=[];var i;const e=null!=(i=p(this.ht.xw,(t=>P$(t,this.fWt))))?i:p(this.ht.xw,(t=>t.Rt));var s;e&&t.push(e.Vw);const n=null!=(s=p(this.nt.xw,(t=>P$(t,this._Wt))))?s:p(this.nt.xw,(t=>t.eA===La.Xn));n&&t.push(n.Vw);const r=p(this.rt.xw,(t=>t.Rt));r&&t.push(r.Vw),0!==t.length&&this.ja.tYt(t)},this.dgt=t=>{const i=this.gWt(t.targetQuality),e=t.track;this.KFt.yYt(e.Vw,e.IJ,i)},this.ZO=t=>{this.Co(t);const i=t.readyState;!this.jO&&this.QO===Os.tN&&i>=Os.Gn&&(this.jO=!0,this.Co(new cs(t.currentTime))),!this.BO&&this.QO<=Os.Gn&&i>=Os.iN&&(this.BO=!0,this.Co(new rs(t.currentTime))),this.QO<=Os.iN&&i>=Os.eN&&this.Co(new Wt(t.currentTime)),this.QO<=Os.eN&&i===Os.sN&&this.Co(new fs(t.currentTime)),this.QO=i},this.Jk=this.Qo.xg,this._R=this.Qo.Z_,this.KFt=i,this.KFt.yn(ht.RFt,this.HVt),this.KFt.yn(ht.AYt,this.mWt),this.KFt.yn(ht.uv,this.pWt),this.KFt.yn(ht.wYt,this.yWt),this.KFt.yn(ht.vYt,this.MWt),this.Ic=new fn(this),this.IB=this.Qo.bt,this.bc=this.Qo.Wa(),this.Pct=new RJ(this,0,this.Qo.k9(),this.Qo.Td(),this.Qo.R_,this.Qo.hg,this.Qo.ag,this.Qo.Lg,this.Qo.Ig),this.sWt()}};r();var E$=class extends z{fa(){return new b$(this.lt)}constructor(t){super("error"),this.lt=t}},b$=class extends mg{constructor(t){super("error"),this.error=t}};r();var L$=class extends mg{constructor(t){super("statechange"),this.state=t}};function k$(t,i){let e;return{get casting(){return t.BW},get error(){return t.lt},get receiverName(){return t.TWt},get state(){return t.Pct},start(){t.Cn()},stop(){t.Wg()},join(){t.NWt()},leave(){t.DWt()},set connectionCallback(t){null==i||i.IWt(t)},get connectionCallback(){return null==i?void 0:i.SWt()},get source(){return e||t.yc},set source(i){e=i,t.yc=i},addEventListener(i,e){const s=As(i,Oa);t.yn(s,e)},removeEventListener(i,e){const s=As(i,Oa);t.fn(s,e)}}}r();var C$=class extends ra{get BW(){return this.Pct===Dr.CONNECTING||this.Pct===Dr.CONNECTED}get lt(){return this.yP}get va(){return this.Xa||(this.Xa=k$(this,this.EWt)),this.Xa}get TWt(){var t;return null==(t=this.EWt.bWt())?void 0:t.jYt()}get yc(){return this.Qo?this.Qo.KVt:this.JVt}set yc(t){this.JVt=t?il(t,this.LWt.wd):void 0,this.Qo&&(this.Qo.KVt=this.JVt,this.JVt&&this.Qo.$n(this.JVt))}get Pct(){return this.ja}set Pct(t){let i=t;this.kWt||i!==Dr.CONNECTING&&i!==Dr.CONNECTED||(i=Dr.AVAILABLE),this.ja!==i&&(this.ja=i,this.Co(new L$(this.Pct)))}async CWt(){if(!this.xWt)throw new b("Chromecast must be initialized before starting a session");await this.xWt,this.EWt.bWt()||await this.EWt.OWt()}async Cn(){this.kWt=!0;try{if(this.Pct=Dr.CONNECTING,await this.CWt(),await this.jWt(),this.Qo){const t=this.LWt.Wa(),i=this.EWt.zWt(t);this.Qo.KVt=i?il(i,this.LWt.wd):this.JVt,this.Qo.$Vt()}this.Pct=Dr.CONNECTED,await this.LWt.Wg()}catch(t){this.PWt(!1).catch(fg),this.Pct=Dr.AVAILABLE,So(t)||this.K1(t)}}async NWt(){this.kWt=!0;try{if(this.Pct=Dr.CONNECTING,await this.CWt(),await this.jWt(),this.Qo){const t=this.LWt.Wa(),i=this.EWt.BWt(t);i&&(this.Qo.KVt=il(i,this.LWt.wd))}this.Pct=Dr.CONNECTED,await this.LWt.Wg()}catch(t){await this.PWt(!0).catch(fg),this.Pct=Dr.AVAILABLE,So(t)||this.K1(t)}}async RWt(){this.EWt.bWt()&&await this.Cn()}async jWt(){null!=this.Qo||(this.Qo=this.UWt()),this.yP=void 0,this.LWt.Gg(),await this.WV.QWt(this.Qo)}UWt(){const t=new S$(this.LWt,this.EWt.bWt());return t.wWt(this.K1),t}FWt(){this.Qo&&(this.Qo.gn(),this.Qo=void 0)}async PWt(t){if(this.kWt=!1,!this.Qo)return;const i=this.Qo.ro,e=this.Qo.Wa(),s=this.Qo.k9();try{if(i){let i;i=t?this.EWt.YWt(e):this.EWt.GWt(e),null!=i||(i=e),await this.WV.VWt(i,i===e),this.LWt.P_(s),this.LWt.Vg()}}finally{this.FWt()}}DWt(){this.BW&&(this.EWt.WWt(!1),this.PWt(!0).catch(this.K1))}Wg(){this.BW&&(this.EWt.WWt(!0),this.PWt(!1).catch(this.K1))}gn(){this.EWt.fn(LJ.RYt,this.HWt),this.Vo(),this.FWt()}constructor(t,i,e,s){super(),this.yP=void 0,this.Xa=void 0,this.Qo=void 0,this.ja=Dr.UNAVAILABLE,this.kWt=!1,this.qWt=()=>{this.EWt.yn(LJ.RYt,this.HWt),this.Pct=this.EWt.XWt()},this.HWt=t=>{const i=t.Pct;this.Pct=i,i!==Dr.UNAVAILABLE&&i!==Dr.AVAILABLE||this.PWt(!1).catch(this.K1)},this.JVt=void 0,this.K1=t=>{t instanceof ha&&(this.yP=t,this.Co(new E$(t).va))},this.WV=t,this.LWt=i,this.EWt=s,this.$x=e.chromecast,this.xWt=this.EWt.iW(this.$x),this.xWt.then(this.qWt).catch(this.K1)}};r();var x$=class extends ra{get BW(){return!1}get lt(){}get TWt(){}get yc(){}set yc(t){}get Pct(){return Dr.UNAVAILABLE}get va(){return this.Xa||(this.Xa=k$(this)),this.Xa}NWt(){lg.Pv("Joining a Chromecast session is not possible when JoinStrategy is configured to disabled")}DWt(){lg.Pv("Leaving a Chromecast session is not possible when JoinStrategy is configured to disabled")}Cn(){lg.Pv("Starting a Chromecast session is not possible when JoinStrategy is configured to disabled")}Wg(){lg.Pv("Stopping a Chromecast session is not possible when JoinStrategy is configured to disabled")}RWt(){return Promise.resolve()}gn(){}};function O$(t){return{j_:t.z_(),ct:t.Td(),R_:t.R_,lt:t.Q_(),F_:t.Y_(),Z_:t.Z_,hg:t.hg,ag:t.ag,vg:t.vg,Tg:t.Tg,Ig:t.Ig,Lg:t.Lg,xg:t.xg}}r(),r();var j$=class extends O{F9(){return this.Ic}I_(){return this.nN}get G_(){return this.V_()}V_(){return this.rN}Dg(){return this.Dl}Eg(){return this.hN}oN(t){const i=this.Qo;if(i===t)return;let e;this.W9&&(i.N_(this.iw),e=O$(this));const s=this.O_(),n=this.Rg(),r=this.Ug();if(this.Qo=t,this.nN.Pw=t.ht,this.hN.Pw=t.rt,this.Dl.Pw=t.nt,this.rN.Pw=t.G_,this.Ic.Pw=t.Oc,void 0!==e){Ma(this,e,O$(this))}const h=this.O_();h!==s&&this.Co(new M(h)),this.Rg()!==n&&this.Co(new zt),this.Ug()!==r&&this.Co(new us),this.W9&&t.m_(this.iw)}async gn(){await super.gn(),this.nN.gn(),this.hN.gn(),this.Dl.gn(),this.rN.gn(),await this.Ic.gn()}constructor(t,i){super(t,i),this.nN=new we,this.hN=new we,this.Dl=new Yu,this.rN=new iw,this.nN.Pw=t.ht,this.hN.Pw=t.rt,this.Dl.Pw=t.nt,this.rN.Pw=t.G_,this.Ic=new fn(this),this.Ic.Pw=t.Oc}},z$=class extends j${Wa(){const t=super.Wa();return!t&&this.ZWt.BW&&this.ZWt.yc?this.ZWt.yc:t}ga(t,i){return this.GH.oO((i=>(this.KWt=new xs,this.KWt.l_(i),super.ga(t,this.KWt.a_))),i)}Vg(){super.Vg(),this.wd.cast.strategy!==dw.AUTO||this.ZWt.BW||this.ZWt.RWt()}QWt(t){return this.GH.oO((i=>this.JWt(t,i)))}VWt(t,i){return void 0===t&&(t=void 0),void 0===i&&(i=!1),this.GH.oO((e=>this.$Wt(t,i,e)))}JWt(t,i){Pi(i),this.tHt.Oc&&this.tHt.Oc.p7(t.Oc),this.iHt(),this.eHt=p(this.tHt.ht.xw,(t=>t.Rt)),this.gTt=p(this.tHt.nt.xw,(t=>"showing"===t.eA)),this.sHt=t,this.sHt.dWt(this.eHt,this.gTt),this.oN(t),this.sHt.Qg()}async $Wt(t,i,e){Pi(e);const s=this.sHt;if(void 0!==s)try{if(t){await this.tHt.Wg(),Pi(e);const s=il(t,this.tHt.wd);i&&(s.ads=void 0),this.KWt=new xs,this.KWt.l_(e),await this.tHt.ga(s,this.KWt.a_)}i&&this.tHt.Oc&&s.Oc.p7(this.tHt.Oc)}catch(t){Mh(t)}finally{s.Fg(),this.oN(this.tHt),this.eHt=p(this.sHt.ht.xw,(t=>t.Rt)),this.gTt=p(this.sHt.nt.xw,(t=>"showing"===t.eA)),this.tHt.ht.yn(at.ew,this.nHt),this.tHt.nt.yn(at.ew,this.rHt),this.tHt.yn(er.yv,this.iHt),this.sHt===s&&(this.sHt=void 0)}}Wg(){var t;return this.eHt=void 0,this.gTt=void 0,this.iHt(),null==(t=this.KWt)||t.c_(),this.GH.oO((()=>super.Wg()))}async gn(){var t;null==(t=this.KWt)||t.c_(),this.ZWt.gn(),await this.VWt(),await this.GH.gn(),await super.gn()}constructor(t,i){super(t),this.GH=new no,this.eHt=void 0,this.gTt=void 0,this.nHt=t=>{const i=t.Lt;P$(this.eHt,i)&&(i.Rt=!0)},this.rHt=t=>{const i=t.Lt;P$(this.gTt,i)&&(i.eA=La.Xn)},this.iHt=()=>{this.tHt.ht.fn(at.ew,this.nHt),this.tHt.nt.fn(at.ew,this.rHt)},this.tHt=t,this.wd.cast.strategy!==dw.DISABLED?this.ZWt=new C$(this,t,this.wd.cast,i):this.ZWt=new x$,this.KQ.VW(this.ZWt)}};function P$(t,i){return void 0!==t&&void 0!==i&&(t.gs===i.gs&&i.kh===t.kh)}r();var B$=new class extends i{IWt(t){this.hHt=t}SWt(){return this.hHt}bWt(){return this.oHt}XWt(){switch(this.aHt.getCastState()){case cast.framework.CastState.CONNECTED:return Dr.CONNECTED;case cast.framework.CastState.CONNECTING:return Dr.CONNECTING;case cast.framework.CastState.NOT_CONNECTED:return Dr.AVAILABLE;case cast.framework.CastState.NO_DEVICES_AVAILABLE:default:return Dr.UNAVAILABLE}}async iW(t){await pK(),this.aHt=cast.framework.CastContext.getInstance(),this.aHt.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,this.WW),this.aHt.setOptions({receiverApplicationId:t.appID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED})}async OWt(){try{const t=await this.aHt.requestSession();if(t)throw t}catch(t){throw new ha(pr(t))}}zWt(t){var i;return null==(i=this.hHt)?void 0:i.onStart(t)}GWt(t){var i;return null==(i=this.hHt)?void 0:i.onStop(t)}BWt(t){var i;return null==(i=this.hHt)?void 0:i.onJoin(t)}YWt(t){var i;return null==(i=this.hHt)?void 0:i.onLeave(t)}WWt(t){this.aHt.endCurrentSession(t)}constructor(...t){super(...t),this.oHt=void 0,this.hHt=void 0,this.WW=()=>{const t=this.XWt();this.oHt=t===Dr.CONNECTED?new PJ(this.aHt.getCurrentSession()):void 0,this.Co(new BJ(t))}}},R$=new class{get va(){return this.Xa||(this.Xa=function(t){return{initialize(i){const e=t.iW(_w(i));return e.catch(fg),e},startSession(){const i=t.OWt();return i.catch(fg),i},endSession(){t.uHt()}}}(this)),this.Xa}async iW(t){this.xWt||(this.xWt=this.cHt(t)),await this.xWt}async cHt(t){await this.EWt.iW(t)}async OWt(){if(!this.xWt)throw new b("Chromecast must be initialized before starting a session");await this.xWt,this.EWt.bWt()||await this.EWt.OWt()}lHt(){this.EWt.WWt(!1)}uHt(){this.EWt.WWt(!0)}constructor(t){this.xWt=void 0,this.Xa=void 0,this.EWt=t}}(B$),U$={get chromecast(){return R$.va}};xj((t=>new z$(t,B$)),tu.q9),r(),r(),r(),r(),r(),r(),r();var Q$=class{dHt(t,i,e,s){t.XR.forEach((t=>{if(!this.fHt(t._Ht)){const n=t.gHt(i,e,s);n&&this.wHt(n)}}))}fHt(t){return this.AHt.get(t)}wHt(t){this.AHt.set(t.vHt,t),this.mHt.set(t.vHt,t.pHt),this.yHt.Qa(t.MHt)}y7(t){this.AHt.has(t.vHt)||(this.mHt.set(t.vHt,t),this.yHt.Qa(t.MHt))}THt(t){return this.mHt.forEach(t)}NHt(t){return this.AHt.forEach(t)}DHt(t){let i=!1;return this.AHt.forEach((e=>{i=e.DHt(t)||i})),i}async gn(){const t=[];this.AHt.forEach((i=>t.push(i.gn()))),this.mHt.forEach((i=>t.push(i.gn()))),await Promise.all(t),this.AHt.clear(),this.mHt.clear()}constructor(t){this.yHt=t,this.AHt=Qt(),this.mHt=Qt()}};r();var xa=class t extends z{fa(){return new F$(this.SQt,this.TL,this.BL,this.yc)}static IHt(i){return new t(Je.GENERAL,i.TL,i.bQt)}static SHt(i,e){return new t(i.SQt,i.message,i.bQt,e)}constructor(t,i,e,s){super("EHt"),this.SQt=t,this.TL=i,this.BL=e,this.yc=s}},F$=class extends mg{constructor(t,i,e,s){super("aderror"),this.problemType=t,this.message=i,this.errorCode=e,this.source=s}},Y$=class extends Zu{get bHt(){return this.LHt}get Fc(){let t=!1;return this.kHt((i=>{t=t||i.CHt})),t}get s7(){const t=[];return this.kHt((i=>{const e=i.s7;e.length&&t.push(...e)})),t}get r7(){let t=null;return this.kHt((i=>{null!=t||(t=i.r7)})),t}get h7(){const t=[];return this.kHt((i=>{t.push(...i.h7)})),t}get o7(){const t=[];return this.kHt((i=>{t.push(...i.o7)})),t}p7(t){this.kHt((i=>{i.p7(t)}))}get va(){var t;return null!=(t=this.Xa)?t:this.Xa=Vj(this)}N1(t,i,e){try{this.xHt=e;const s=Zo.gL.KR(t),n=this.LHt.fHt(s._Ht);if(!n)throw new hi(Je.ADBLOCK,void 0,"Ads could not be loaded.");i!==ds.u7&&this.q4||this.jHt.OHt(n),s.N1(t,i,n,this.xHt)}catch(i){0,this.Co(xa.SHt(i,t.sources))}}Yp(){this.kHt((t=>{t.Yp()}))}y7(t){this.LHt.y7(t)}zHt(t){this.LHt.NHt((i=>{i.zHt(t)}))}DHt(t){return this.LHt.DHt(t)}kHt(t){return this.LHt.THt(t)}Yg(){this.LHt.NHt((t=>t.Yg()))}async Zn(){this.q4=!1;const t=[];this.LHt.NHt((i=>t.push(i.Wg()))),await Promise.all(t)}async gn(){this.Vo(),this.jHt.fn(t.jh,this.B8),this.fn("EHt",this.PHt),await this.LHt.gn()}constructor(i){super(),this.jHt=i,this.xHt=!1,this.q4=!1,this.Xa=void 0,this.PHt=t=>{if(!this.xHt)return;const i=new uc(tm.ADVERTISEMENT_ERROR,t.TL),e=new ce(y_.AD_BLOCKER_DETECTED,t.TL+" Turn off your AdBlocker and try again.",i);this.jHt.uB(e)},this.B8=()=>{this.q4=!0},i.yn(t.jh,this.B8),this.LHt=new Q$(this),this.yn("EHt",this.PHt)}},G$=class extends j${F9(){return this.BHt}get RHt(){return this.UHt}Yg(){this.tHt.Yg(),this.BHt.Yg()}Vg(){void 0===this.yP?(void 0!==this.QHt&&this.FHt(this.QHt),super.Vg()):this.Co(new pe(this.yP))}async ga(t,i){if(Pi(i),await super.ga(t,i),Pi(i),!t||!t.ads)return;const e=Boolean(t.blockContentIfAdError);this.BHt.zHt(t.playAdsAfterTime);for(const i of t.ads)this.BHt.N1(i,ds.u7,e)}async Wg(){this.yP=void 0,this.ER=void 0,await this.BHt.Zn(),this.VWt(),await super.Wg()}FHt(t){this.YHt=this.Qo.ag;const i=this.Qo.xg,e=this.Qo.Z_;t.jg(i),t.J_(e),this.UHt=t,this.QHt=void 0,this.oN(t)}OHt(t){void 0===this.UHt&&(this.QHt=t)}VWt(){this.QHt=void 0,void 0!==this.UHt&&(this.tHt.ag=this.YHt,this.tHt.xg=this.xg,this.tHt.Z_=this.Z_,this.oN(this.tHt),this.UHt=void 0)}Q_(){var t;return null!=(t=this.ER)?t:super.Q_()}Y_(){var t;return null!=(t=this.yP)?t:super.Y_()}uB(t){void 0===this.Y_()&&(this.yP=t,this.ER=Vs(t),this.Co(new pe(t)))}$g(t){return void 0===this.UHt&&this.BHt.DHt(t)}async gn(){await this.BHt.gn(),this.VWt(),await super.gn()}constructor(t,i){super(t),this.yP=void 0,this.ER=void 0,this.YHt=1,this.tHt=t,this.BHt=new Y$(this),this.BHt.bHt.dHt(i,t,this,t.wd)}};xj((t=>new G$(t,Zo.gL)),tu.H9),r(),r(),r();var V$=0!==Zt.Gb?Zt.Gb:Zt.JE,W$=Zt.Ga&&V$<12,H$=class extends O{get j_(){return this.z_()}set j_(t){this.P_(t)}k9(){return this.Qo.k9()}get ct(){return this.Td()}get G_(){return this.rN}get yg(){return this.Mg()}get zg(){return this.SP}get MHt(){return this.GHt}get ht(){return this.nN}get CHt(){return this.jHt.RHt===this}L_(){return Ki.lR().ks()}C_(){}x_(t){}cg(){return 1}dg(t){}_g(){return new Ki([0,this.j_]).ks()}Ng(){return!1}Dg(){return this.Dl}Eg(){return this.hN}cs(){return this.Rg().cs}Rg(){return this.AR}ka(){}async gn(){this.Vo(),this.nN.gn(),this.hN.gn(),this.Dl.gn(),this.GHt.gn(),this.Qo.fn(t.IA,this.Ds)}VHt(){W$&&this.WHt(),this.CHt||this.jHt.FHt(this)}VWt(){this.CHt&&(W$&&this.HHt(),Zt.oL&&this.we.querySelectorAll("video[src]").forEach((t=>{t.src=""})),lg.Ys.gtt&&this.Qo.Kg(),this.jHt.VWt())}WHt(){this.qHt||(Ys.addEventListener("blur",this.XHt),Ys.addEventListener("focus",this.ZHt),this.qHt=!0)}HHt(){Ys.removeEventListener("blur",this.XHt),Ys.removeEventListener("focus",this.ZHt),this.qHt=!1}KHt(){requestAnimationFrame((()=>this.Qo.be()))}constructor(i,e){super(i,!0),this.jHt=e,this.qHt=!1,this.hN=new He,this.nN=new He,this.Dl=new jn,this.rN=new Lc,this.GHt=new Zu,this.AR=new xc,this.SP=new CI,this.XHt=()=>{this.Qo.ge()},this.ZHt=()=>{this.KHt()},this.Qo.yn(t.IA,this.Ds)}};r(),r();var q$=0,X$="theoplayer-wrapper",Z$=class t{get JHt(){return this.$Ht}get tqt(){return this.iqt}get eqt(){return 1===this.iqt.length&&NJ(this.iqt[0].sources.type)}get sqt(){return this.nqt}rqt(t){const i=this.hqt===t.timeOffset;return!this.oqt&&i}get aqt(){return this.uqt}get cqt(){return SJ(this.lqt)&&!this.oqt}get hqt(){return this.lqt}get Kl(){return this.dqt}fqt(){if(j(this.dqt)){let t=this.hqt;if(void 0===t)return void(this.dqt=0);if("string"==typeof t&&SJ(t)){const i=this.Qo.Td();j(i)||i===1/0||(t=rc(t)*i)}j(t)||(this.dqt=t)}}get _qt(){return this.gqt}set _qt(t){this.gqt=t}get wqt(){return this.Aqt}set wqt(t){this.Aqt=t,this.vqt=!1}get mqt(){return this.pqt}yqt(t){this.pqt.push(t)}Mqt(){if(!this.oqt){let t,i;const e=this.$Ht===ds.u7&&void 0===this.Tqt&&1===this.iqt.length,s=this.iqt[0];NJ(s.sources.type)||e?t=s.sources.src:i=this.Nqt(),this.oqt={Dqt:this.Qo.we.offsetWidth,Iqt:this.Qo.we.offsetHeight,Sqt:this.Qo.we.offsetWidth,Eqt:this.Qo.we.offsetHeight,bqt:this.M9,Lqt:this._R,kqt:t,Cqt:i,xqt:s.omidAccessModeRules}}return this.oqt}Nqt(){return'<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">'+this.iqt.map(((t,i)=>this.Oqt(t.sources,i))).join("\n")+"</vmap:VMAP>"}Oqt(t,i){const e=this.jqt(),s=t.src;return'<vmap:AdBreak timeOffset="'+e+'" breakType="linear,nonlinear" breakId="theoplayer-break-'+this.Vw+"-"+i+'"><vmap:AdSource allowMultipleAds="true" followRedirects="true"><vmap:VASTAdData><VAST version="3.0"><Ad id="'+X$+"-"+this.Vw+"-"+i+'"><Wrapper allowMultipleAds="true" followAdditionalWrappers="true"><VASTAdTagURI><![CDATA['+s+"]]></VASTAdTagURI></Wrapper></Ad></VAST></vmap:VASTAdData></vmap:AdSource></vmap:AdBreak>"}jqt(){if(0===this.hqt)return"start";if(this.hqt===1/0)return"end";const t=this.hqt;if("string"==typeof t&&SJ(t)){const i=rc(t)*this.Qo.Td();return js._Ft(i)}return js._Ft(this.hqt||0)}zqt(t){this.iqt.push(t)}Pqt(t){const i=X$+"-"+this.Vw+"-";for(const e of t)if(ew(e,i)){const t=Number(e.slice(i.length));if(!j(t)&&t>=0&&t<this.iqt.length)return t}return-1}static Bqt(t){if(void 0!==t)return-1===t?1/0:t}Rqt(){this.uqt=!0}get AN(){return this.M9}set AN(t){this.M9=t}get Z_(){return this._R}set Z_(t){this._R=t}constructor(i,e,s,n){this.$Ht=e,this.Qo=s,this.nqt=n,this.dqt=NaN,this.gqt=!1,this.Aqt=!1,this.uqt=!1,this.pqt=[],this.M9=!1,this._R=!1,this.iqt=[],this.Vw=++q$,this.Tqt=i.timeOffset,this.lqt=t.Bqt(this.Tqt),this.fqt(),this.iqt.push(i)}};r();var K$,J$=class{get Uqt(){return this.Qqt.Uqt}get Fqt(){return this.Qqt.Fqt}get h7(){return this.Qqt.h7}get t(){return this.Qqt.t}zHt(t){this.Yqt=t}Gqt(t){return!(this.Uqt&&!this.Uqt.aqt&&"nonlinear"!==this.Fqt.Vqt)||this.Uqt.Kl>t.Kl&&this.Uqt.Kl!==t.Kl}Wqt(t){if(t.length)return t.sort(((t,i)=>t.Kl-i.Kl))[0]}Hqt(){if(this.h7.length)return this.Wqt(this.qqt(this.t.z_()))}Xqt(){if(!(void 0!==this.Yqt&&this.Yqt>=0))return this.h7.filter((t=>!t._qt&&0===t.Kl&&t!==this.Uqt))[0]}qqt(t){if(!this.Zqt&&(this.Zqt=!this.h7.some((t=>j(t.Kl))),!this.Zqt))return[];const i=this.h7.filter((i=>!i._qt&&(i.eqt||!j(i.Kl)&&t<=i.Kl)));return void 0===this.Yqt?i:i.filter((t=>t.eqt||void 0===t.hqt||t.Kl>this.Yqt))}constructor(t){this.Zqt=!1,this.Qqt=t,this.Yqt=void 0}};!function(t){t[t.Kqt=0]="Kqt",t[t.Jqt=1]="Jqt",t[t.$qt=2]="$qt"}(K$||(K$={}));var To,Ec,Jn,Un,$$=class{Yg(){this.bo=!0,this.tXt&&this.iXt()}eXt(t,i){this.sXt(t,i);const e=p(this.h7,(i=>i.rqt(t)));if(e)e.zqt(t);else{var s;const e=new Z$(t,i,this.Qo,null==(s=t.replaceContent)||s);this.nXt.push(e),2===this.rXt&&this.oXt.hXt(e.Kl,e,e.hqt),this.aXt(i,e)}}get Fqt(){return this.uXt}get h7(){return this.nXt}get t(){return this.Qo}get tzt(){return Boolean(this.hgt)}get rXt(){return this.cXt}lXt(){if(Et(this.h7,this.Uqt),this.Uqt){for(const t of this.Uqt.mqt)this.oXt.dXt();this.Uqt=void 0}}fXt(){for(const t of this.nXt)for(const i of t.mqt)this.oXt._Xt(i,!0);Ri(this.nXt)}async gXt(t){this.lXt(),this.wXt=!0,this.Uqt=t,this.AXt=t.Kl,this.hgt=this.vXt(t),await this.hgt,this.hgt=void 0}async vXt(t){this.mXt(t);const i=t.Mqt(),e=this.uXt.pXt(i);t._qt=!0;try{await e,t.JHt===ds.a7&&this.uXt.yXt()}catch(t){0,this.Uqt=void 0,await this.iXt()}}mXt(t){this.bo?t.AN=!0:t.AN=this.jHt.AN,t.Z_=this.jHt.Z_}MXt(){var t;return null!=(t=this.TXt.Xqt())?t:this.TXt.Hqt()}async iXt(){if(this.Uqt&&!this.Uqt.aqt)return this.hgt;const t=this.MXt();t&&await this.gXt(t)}get Uqt(){return this.NXt}set Uqt(t){this.NXt=t}get wXt(){return this.DXt}set wXt(t){this.DXt=t}Zn(){this.lXt(),Ri(this.nXt),this.AXt=0,this.Uqt=void 0,this.hgt=void 0,this.wXt=!1}wqt(){this.wXt=!1,this.Uqt&&(this.Uqt.wqt=!0)}async aXt(t,i){t===ds.a7&&this.bo&&this.TXt.Gqt(i)&&!this.tzt&&"linear"!==this.uXt.Vqt&&(!this.Uqt||this.Uqt&&this.Uqt._qt)&&(await Promise.resolve(),await this.gXt(i))}Rqt(){this.Uqt&&this.Uqt.Rqt()}get IXt(){if(this.tzt||this.wXt)return!1;if(this.Uqt&&!this.Uqt.aqt)return!1;return!!this.nXt.filter((t=>this.Uqt!==t)).length&&Boolean(this.MXt())}async SXt(){if(!this.IXt)return void 0;const t=this.MXt();t&&await this.gXt(t)}sXt(t,i){const e=t.sources.type,s=i===ds.u7&&void 0===t.timeOffset,n=NJ(e)||s?1:2;n!==this.cXt&&(this.cXt=n,this.fXt(),this.uXt.lGt&&!this.tzt&&"linear"!==this.uXt.Vqt&&(this.uXt.lGt.e_(),this.Uqt=void 0,this.hgt=void 0),this.AXt=0,this.tXt=!0)}zHt(t){this.TXt.zHt(t)}gn(){this.Qo.fn(t.EA,this.wQ)}constructor(i,e,s,n,r){this.cXt=0,this.hgt=void 0,this.DXt=!1,this.wQ=()=>{const t=this.nXt.filter((t=>t.cqt));for(const i of t){i.fqt();const t=i.hqt;this.oXt.EXt(t,i.Kl)}this.bo&&this.IXt&&this.iXt()},this.nXt=[],this.uXt=i,this.bo=!1,this.tXt=!1,this.Qo=e,this.jHt=s,this.Uqt=void 0,this.AXt=0,this.TXt=new J$(this),this.D9=n,this.oXt=r,this.Qo.yn(t.EA,this.wQ)}};function t0(t,i){if(t===To.bXt){const t=i;return{LXt:t.adBreakDuration,kXt:t.adPosition,j_:t.currentTime,ct:t.duration,CXt:t.totalAds}}return i}function i0(t){switch(t){case google.ima.AdError.Type.AD_LOAD:return Un.xXt;case google.ima.AdError.Type.AD_PLAY:return Un.OXt}}function e0(t){return Mi(t)&&R_(t.getVastErrorCode)}function s0(t){const i=t.getInnerError(),e=i&&e0(i)?s0(i):void 0;return{TL:t.getMessage(),bQt:t.getErrorCode(),jXt:t.getVastErrorCode(),hA:i0(t.getType()),zXt:e}}function n0(t){if(li(t))return t}r(),r(),function(t){t.PXt="contentResumeRequested",t.BXt="contentPauseRequested",t.RXt="click",t.EA="durationChange",t.UXt="expandedChanged",t.QXt="start",t.FXt="impression",t.Dv="pause",t.YXt="resume",t.bXt="adProgress",t.GXt="adBuffering",t.VXt="firstQuartile",t.KUt="midpoint",t.WXt="thirdQuartile",t.JUt="complete",t.HXt="userClose",t.qXt="linearChanged",t.XXt="loaded",t.ZXt="adCanPlay",t.KXt="adMetadata",t.JXt="adBreakReady",t.$Xt="interaction",t.tZt="allAdsCompleted",t.iZt="skip",t.eZt="skippableStateChanged",t.sZt="log",t.nZt="viewableImpression",t.rZt="volumeChange",t.hZt="mute"}(To||(To={})),r(),(Ec||(Ec={})).oZt="adError",r(),function(t){t[t.aZt=-1]="aZt",t[t.uZt=-1]="uZt",t[t.cZt=-1]="cZt",t[t.lZt=101]="lZt",t[t.dZt=102]="dZt",t[t.fZt=200]="fZt",t[t._Zt=201]="_Zt",t[t.gZt=202]="gZt",t[t.wZt=300]="wZt",t[t.AZt=301]="AZt",t[t.vZt=302]="vZt",t[t.mZt=303]="mZt",t[t.pZt=400]="pZt",t[t.yZt=402]="yZt",t[t.MZt=403]="MZt",t[t.TZt=405]="TZt",t[t.NZt=500]="NZt",t[t.DZt=501]="DZt",t[t.IZt=-1]="IZt",t[t.SZt=503]="SZt",t[t.EZt=602]="EZt",t[t.bZt=900]="bZt",t[t.LZt=901]="LZt",t[t.kZt=1005]="kZt",t[t.CZt=1007]="CZt",t[t.xZt=1009]="xZt",t[t.OZt=1010]="OZt",t[t.jZt=1011]="jZt",t[t.zZt=1012]="zZt",t[t.PZt=1013]="PZt",t[t.BZt=1020]="BZt",t[t.RZt=1021]="RZt",t[t.UZt=1101]="UZt",t[t.QZt=1204]="QZt",t[t.FZt=1205]="FZt",t[t.YZt=1300]="YZt",t[t.GZt=-1]="GZt",t[t.VZt=-1]="VZt",t[t.WZt=-1]="WZt",t[t.HZt=-1]="HZt"}(Jn||(Jn={})),function(t){t.xXt="adLoadError",t.OXt="adPlayError"}(Un||(Un={})),r(),r();var r0=class extends i{qZt(t){this.uXt.Co(t)}XZt(t){this.dGt=t,this.dGt.yn(Ec.oZt,this.ZZt),this.dGt.yn(To.BXt,this.KZt),this.dGt.yn(To.PXt,this.JZt),this.dGt.yn(To.tZt,this.$Zt),this.dGt.yn(To.QXt,this.tKt),this.dGt.yn(To.JUt,this.iKt),this.dGt.yn(To.iZt,this.eKt),this.dGt.yn(To.HXt,this.sKt),this.dGt.yn(To.RXt,this.nKt),this.dGt.yn(To.ZXt,this.rKt),this.dGt.yn(To.Dv,(()=>{this.uXt.hg||(this.uXt.hKt(!0),this.uXt.Co(new ye(this.uXt.j_))),this.oKt(!0)})),this.dGt.yn(To.YXt,(()=>{this.uXt.hg&&(this.uXt.hKt(!1),this.uXt.Co(new fh(this.uXt.j_)))})),this.dGt.yn(To.hZt,(()=>{const i=t.Og();i>=0&&this.aKt(i)})),this.dGt.yn(To.rZt,(()=>{const i=t.Og();i>=0&&this.aKt(i)})),this.dGt.yn(To.KXt,(t=>{this.cKt.uKt(t.type)})),this.dGt.yn(To.EA,(t=>{t.f7&&this.lKt(t.f7.ct)})),this.dGt.yn(To.sZt,(async t=>{const i=t.dKt.adError,e=e0(i)?s0(i):void 0;e&&(this.fKt(e)?await this._Kt(t):this.gKt(e)?await this.wKt(e):this.AKt(e)&&this.vKt(e))})),this.dGt.yn(To.XXt,(t=>{if(t.f7&&(this.uXt.wqt(),this.cKt.mKt(t.f7),this.pKt=0,t.f7.yKt)){var i;const t=this.uXt.vg,e=Os.tN;this.uXt.V$(e);const s=this.uXt.j_,n=this.uXt.vg;n!==t&&this.qZt(new Wv(s,n)),null==(i=this.dGt)||i.jg(this.uXt.MKt()),this.qZt(new cs(s,e))}})),this.dGt.yn([To.GXt,To.FXt,To.VXt,To.KUt,To.WXt],(t=>{t.f7&&this.cKt.TKt(t.f7,t.type,this.uXt.j_)})),this.dGt.yn(To.VXt,this.NKt),this.dGt.yn(To.bXt,this.DKt)}async switchToPlayerIfNoNextAd(){if(this.dGt){const t=this.dGt.IKt();t&&this.SKt(t)||(this.uXt.IXt()?await this.uXt.SXt():(this.uXt.EKt(),this.Qo.hg&&!this.Qo.R_&&this.Qo.Vg()))}else if(this.uXt.IXt())await this.uXt.SXt();else{const t=this.uXt.hg;this.uXt.EKt(),t||this.Qo.Vg()}}SKt(t){const i=t.bKt,e=null==i?void 0:i.CXt;return(null==i?void 0:i.kXt)!==e}r$(){this.uXt.jc&&(m(this.uXt.jc),this.uXt.jc=null)}AKt(t){return t.hA===Un.xXt}gKt(t){return t.hA===Un.OXt}fKt(t){return t.bQt===Jn.xZt}async wKt(t){var i;this.vKt(t);const e=[Jn.pZt,Jn.LZt,Jn.RZt,Jn.FZt];var s;this.uXt.D7||Ho(e,t.bQt)||Ho(e,null==(i=t.zXt)?void 0:i.bQt)||(this.uXt.LKt.wXt=!1,null==(s=this.uXt.LKt.Uqt)||s.Rqt(),await this.switchToPlayerIfNoNextAd())}vKt(t){this.uXt.kKt(t)}async CKt(){this.cKt.dXt(),this.uXt.Rqt(),"nonlinear"===this.uXt.Vqt&&(this.cKt.xKt(-1,!1),this.uXt.OKt(void 0)),"nonlinear"!==this.uXt.Vqt&&"none"!==this.uXt.Vqt||this.uXt.IXt()&&await this.uXt.SXt(),this.uXt.jKt(),this.uXt.CHt?this.uXt.VWt():this.zKt()&&this.Qo.Co(new ys(this.Qo.z_()))}zKt(){return this.uXt.PKt&&!this.uXt.BKt&&this.Qo.R_}setCountdownTimer(){this.r$(),this.uXt.jc=v((()=>this.oKt()),250)}async _Kt(t){void 0!==t.f7&&(this.uXt.LKt.wXt=!1,this.uXt.Rqt(),this.uXt.IXt()?await this.uXt.SXt():this.uXt.hKt(!0))}lKt(t){this.uXt.ct!==t&&t>=0&&(this.uXt.T$(t),this.qZt(new Vr(this.uXt.ct)))}aKt(t){this.uXt.MKt()!==t&&(0===t?this.uXt.RKt(t,!0,!1):this.uXt.RKt(t,!1,!1))}async UKt(){this.uXt.QKt&&void 0!==this.Qo.Q_()&&(this.FKt=new xs,await this.Qo.ga(this.Qo.Wa(),this.FKt.a_),this.YKt&&this.Qo.P_(this.YKt),this.YKt=void 0)}oKt(t){if(this.dGt){const t=this.dGt.GKt();t>this.uXt.ct&&this.lKt(x.round(t))}const i=this.uXt.j_;(t||!this.uXt.hg&&i!==this.uXt.VKt)&&(this.uXt.Co(new jc(i,void 0)),this.uXt.VKt=i)}Zn(){this.FKt&&(this.FKt.c_(),this.FKt=void 0),this.WKt=!1,this.pKt=0}gn(){this.Zn(),this.Vo()}constructor(t,i,e){super(),this.uXt=t,this.Qo=i,this.cKt=e,this.WKt=!1,this.FKt=void 0,this.YKt=void 0,this.pKt=0,this.NKt=t=>{if(!t.f7||!t.f7.bKt)return;const i=t.f7.bKt;this.cKt.HKt(i.yEt,i.CXt,i.uGt)},this.DKt=t=>{var i,e,s;if(this.pKt>=5)return;this.pKt++;const n=t.dKt;if(!function(t){return Mi(t)&&void 0!==t.LXt&&void 0!==t.CXt}(n))return;const r=null==(s=this.dGt)||null==(e=s.IKt())||null==(i=e.bKt)?void 0:i.yEt;void 0!==r&&this.cKt.HKt(r,n.CXt,n.LXt)},this.ZZt=async t=>{t.dKt.qKt&&await this.wKt(t.dKt.qKt)},this.$Zt=async()=>{this.WKt=!0,this.uXt.Rqt(),await this.JZt()},this.tKt=t=>{if(!t.f7)return;const i=t.f7;this.uXt.OKt(i),this.uXt.ge(),this.uXt.XKt(),this.cKt.ZKt(i);const e=i.ct;if(this.lKt(e),i.yKt){const t=this.uXt.j_,i=this.uXt.vg;this.uXt.V$(Os.eN),this.qZt(new rs(t,i)),this.qZt(new Wt(t,i)),this.qZt(new fs(t,i)),this.uXt.hg||this.qZt(new Vi(this.uXt.j_)),this.setCountdownTimer(),this.oKt(!0)}else this.uXt.VWt(),this.Qo.ge(),this.uXt.hg||this.Qo.Vg()},this.iKt=t=>{var i;if(!t.f7)return;const e=t.f7;if(this.r$(),this.cKt.xKt(this.uXt.ct,e.yKt),this.uXt.vg!==Os.tN){const t=Os.tN;this.uXt.V$(t);const i=this.uXt.j_;this.qZt(new Wv(i,t))}this.lKt(NaN),this.uXt.KKt=!1,null==(i=this.dGt)||i.jg(this.uXt.MKt())},this.eKt=t=>{t.f7&&(this.iKt(t),this.cKt.eKt(t.f7,this.uXt.j_,this.uXt.ct))},this.sKt=t=>{t.f7&&(this.cKt.xKt(-1,t.f7.yKt),this.uXt.Rqt(),!t.f7.yKt&&this.uXt.IXt()&&this.uXt.SXt())},this.nKt=t=>{t.f7&&(t.f7.yKt?this.uXt.Gg():this.Qo.Gg())},this.rKt=()=>{var t;(this.uXt.KKt=!0,this.uXt.JKt)&&(null==(t=this.dGt)||t.Gg(),this.uXt.JKt=!1)},this.KZt=t=>{var i;if(!t.f7)return;this.uXt.QKt&&(this.YKt=this.Qo.z_(),this.Qo.Zg(),this.Qo.Bg=!0),this.uXt.$Kt=!0;const e=t.f7;this.cKt.Md(e);const s=e.ct;this.uXt.OKt(e),this.lKt(s),this.uXt.hKt(!1),this.uXt.ge(),this.uXt.VHt(),this.uXt.QKt||this.Qo.be(),this.Qo.Gg(),this.uXt.tJt(e);0===(null==(i=e.bKt)?void 0:i.yEt)||this.uXt.Co(new Xc(this.uXt.j_))},this.JZt=async t=>{const i=null==t?void 0:t.f7;this.uXt.$Kt=!1,"linear"===this.uXt.Vqt&&this.cKt.Pd(),i&&i.ct>=0&&this.lKt(i.ct),this.Qo.Td()===1/0&&this.uXt.iJt(),this.uXt.KKt=!1,this.WKt&&await this.CKt(),this.uXt.hKt(!0);try{await this.UKt()}catch(t){return void(So(t)||this.Co(new qn(t)))}if(this.uXt.VWt(),this.uXt.be(),this.Qo.R_||this.Qo.Vg(),i&&this.uXt.OKt(i),this.uXt.PKt){if(this.uXt.QKt){var e;const t=this.Qo.Ug(),i=null==(e=this.Qo.bt)?void 0:e.src;t&&i&&(t.src=i)}this.uXt.BKt=!0}this.Qo.Bg=!1,this.uXt.IXt()&&await this.uXt.SXt()}}};r(),r(),r();var Ur,h0,o0=class extends ih{get Oc(){return this.Ic}get uGt(){return this.eJt}set uGt(t){this.eJt=t}get cGt(){return this.sJt}set cGt(t){this.sJt=t}set yEt(t){this.TFt=t}get yEt(){return this.TFt}nJt(){this.rJt=!0}hJt(t){this.Ic.push(t)}get fg(){return this.rJt}constructor(t,i,e){super(),this.eJt=t,this.sJt=i,this.TFt=e,this.Ic=[],this.rJt=!1}},a0=class extends o0{get aGt(){return sh.nGt}constructor(t,i,e){super(-1,-1,t),this.oJt=i,this.aJt=e}};r(),r(),function(t){t.zQt="linear",t.PQt="nonlinear",t.KT="unknown"}(Ur||(Ur={})),function(t){t.NONE="none",t.READY="ready"}(h0||(h0={}));var cr=class extends $J{uJt(t,i,e,s,n,r){this.NN=t,this.tC=i,this.iC=e,this.Rk=s,this.QRt=n,this.BUt=r,this.cJt="ready"}get lJt(){return this.cJt}get URt(){return this.QRt}get ct(){return this.Rk}n7(){var t;return null!=(t=this.Xa)?t:this.Xa=this.fa()}get Ti(){return this.iC}get o(){return this.NN}get PUt(){return this.BUt}get ji(){return this.tC}get Vqt(){return this.dJt}get oUt(){}IGt(){return""}LGt(){return""}bGt(){return""}constructor(t,i){super(),this.dJt=i,this.NN=void 0,this.BUt=void 0,this.tC=void 0,this.iC=void 0,this.Rk=void 0,this.QRt=[],this.cJt="none",this.Xl=t}};function u0(t){return{adSystem:void 0,creativeId:void 0,universalAdIds:[],get readyState(){return t.lJt},get adBreak(){return t.Xl.n7()},get duration(){return t.ct},get companions(){return t.URt.map((t=>t.n7()))},get clickThrough(){return t.oUt},get width(){return t.ji},get type(){return t.Vqt},get height(){return t.Ti},get id(){return t.o},get skipOffset(){return t.PUt},get integration(){return t.aGt}}}r(),r();var c0=class{get JRt(){return this.$Rt}get rUt(){return""}get fJt(){return this._Jt}get oUt(){return this.aUt}get Ti(){return this.iC}get gQt(){return this.gJt}get ji(){return this.tC}n7(){return this.Xa||(this.Xa=function(t){return{get adSlotId(){return t.JRt},get altText(){return t.rUt},get contentHTML(){return t.fJt},get clickThrough(){return t.oUt},get height(){return t.Ti},get resourceURI(){return t.gQt},get width(){return t.ji}}}(this)),this.Xa}wJt(t){const i=function(t){try{return VK(t,"text/html")}catch(t){return}}(t.O);i&&(this.aUt=l0(i,"a","href"),this.gJt=l0(i,"img","src"))}constructor(t){this.Xa=void 0,this.aUt=void 0,this.gJt=void 0,this.tC=t.ji,this.iC=t.Ti,this._Jt=t.O,this.$Rt=t.JRt,this.wJt(t)}};function l0(t,i,e){const s=t.querySelector(i);return s&&s.getAttribute(e)||""}r();var d0=class extends cr{set AJt(t){this.vJt=t}get AJt(){return this.vJt}get aGt(){return sh.so}get hRt(){var t;return null==(t=this.mJt)?void 0:t.hRt}get pJt(){var t;return null==(t=this.mJt)?void 0:t.ZRt}get kRt(){var t;return null==(t=this.mJt)?void 0:t.kRt}get OP(){var t;return null==(t=this.mJt)?void 0:t.OP}get yJt(){var t,i;return null!=(i=null==(t=this.mJt)?void 0:t.yJt)?i:[]}get MJt(){var t,i;return null!=(i=null==(t=this.mJt)?void 0:t.MJt)?i:[]}get TJt(){var t,i;return null!=(i=null==(t=this.mJt)?void 0:t.TJt)?i:[]}fa(){return function(t,i){return _l(t,{bitrate:0,contentType:void 0,mediaUrl:void 0,traffickingParameters:void 0,traffickingParametersString:void 0,universalAdIds:[],get adSystem(){return i.hRt},get apiFramework(){return i.pJt},get creativeId(){return i.kRt},get title(){return i.OP},get wrapperAdIds(){return i.yJt},get wrapperAdSystems(){return i.MJt},get wrapperCreativeIds(){return i.TJt}})}(u0(this),this)}NJt(t){this.mJt=t;const i=f0(t);this.uJt(t.DUt,t.DJt,t.IJt,t.ct,i,-1)}constructor(t,i){super(t,i),this.vJt=0,this.mJt=void 0}};function f0(t){return t.gRt.map((t=>new c0(t)))}var _0=class extends cr{fa(){return function(t,i){return _l(t,{get adSystem(){return i.hRt},get apiFramework(){return i.pJt},get bitrate(){return i.SJt},get contentType(){return i.LP},get creativeId(){return i.kRt},get mediaUrl(){return i.EJt},get title(){return i.OP},get traffickingParameters(){return i.bJt},get traffickingParametersString(){return i.LJt},get wrapperAdIds(){return i.yJt},get wrapperAdSystems(){return i.MJt},get wrapperCreativeIds(){return i.TJt},get universalAdIds(){return i.ARt}})}(u0(this),this)}NJt(t){this.mJt=t,this.uJt(t.DUt,t.DJt,t.IJt,t.ct,f0(t),t.kJt),this.dJt=t.yKt?Ur.zQt:Ur.PQt}get aGt(){return sh.nGt}get hRt(){return this.mJt?wh(this.mJt.hRt):void 0}get pJt(){return this.mJt?wh(this.mJt.ZRt):void 0}get SJt(){return this.mJt?this.mJt.CJt:0}get LP(){return this.mJt?wh(this.mJt.LP):void 0}get kRt(){return this.mJt?wh(this.mJt.kRt):void 0}get xJt(){return this.mJt?wh(this.mJt.xJt):void 0}get EJt(){var t;const i=null==(t=this.mJt)?void 0:t.EJt;return li(i)?i:this.OJt}set EJt(t){this.OJt=t}get OP(){var t;return null==(t=this.mJt)?void 0:t.OP}get bJt(){return this.mJt?wh(this.mJt.bJt):void 0}get LJt(){return this.mJt?wh(this.mJt.LJt):void 0}get yJt(){var t,i;return null!=(i=null==(t=this.mJt)?void 0:t.yJt)?i:[]}get MJt(){var t,i;return null!=(i=null==(t=this.mJt)?void 0:t.MJt)?i:[]}get TJt(){var t,i;return null!=(i=null==(t=this.mJt)?void 0:t.TJt)?i:[]}get ARt(){var t,i;return null!=(i=null==(t=this.mJt)?void 0:t.ARt.map((t=>({adIdRegistry:t.jJt,adIdValue:t.zJt}))))?i:[]}constructor(t){super(t,Ur.KT),this.mJt=void 0,this.OJt=void 0}};function wh(t){return null===t?void 0:t}r(),r();var g0=class{get MHt(){return this.cKt.MHt}get vHt(){return this.PJt}get CHt(){return this.cKt.CHt}get r7(){var t;return null!=(t=this.cKt.r7)?t:null}get s7(){const t=this.cKt.BJt;return t?[t]:[]}get h7(){return this.cKt.h7}get o7(){return this.cKt.o7}p7(t){this.cKt.p7(t)}Yp(){this.cKt.Yp()}gn(){return Promise.resolve()}constructor(t,i){this.cKt=t,this.PJt=i}},w0=class{get RJt(){return this.UJt}get MHt(){return this.GHt}get CHt(){return this.QJt}get BJt(){return this.SGt}get r7(){return this.xGt}get h7(){return Eh(this.OGt,(t=>{if(t.fg)return[];const i=t.Oc;if(t===this.xGt&&void 0!==this.SGt){const t=i.indexOf(this.SGt);if(t>=0)return i.slice(t+1)}return i}))}get o7(){return this.OGt.filter((t=>!t.fg))}constructor(t,i){this.GHt=t,this.OGt=[],this.QJt=!1,this.UJt=new g0(this,i)}};r();var A0=class extends Ts{fa(){return new v0(this.f7.n7())}constructor(t){super("FJt",t)}},v0=class extends Xs{constructor(t){super("adimpression",t)}};r();var Yn=class extends Ts{fa(){return new m0(this.f7.n7(),this.currentTime)}constructor(t,i){super("YJt",t),this.currentTime=i}},m0=class extends Xs{constructor(t,i){super("adfirstquartile",t),this.currentTime=i}};r();var p0=class extends Ts{fa(){return new y0(this.f7.n7(),this.currentTime)}constructor(t,i){super("GJt",t),this.currentTime=i}},y0=class extends Xs{constructor(t,i){super("admidpoint",t),this.currentTime=i}};r();var or=class extends Ts{fa(){return new M0(this.f7.n7(),this.currentTime)}constructor(t,i){super("VJt",t),this.currentTime=i}},M0=class extends Xs{constructor(t,i){super("adthirdquartile",t),this.ad=t,this.currentTime=i}};r();var T0=class extends Ts{fa(){return new N0(this.f7.n7(),this.WJt)}get WJt(){return this.HJt}constructor(t,i){super("qJt",t),this.HJt=i}},N0=class extends Xs{constructor(t,i){super("adskip",t),this.playedPercentage=i}};r();var D0=class extends Ku{fa(){return new I0(this.Xl.n7())}constructor(t){super("XJt",t)}},I0=class extends Rc{constructor(t){super("updateadbreak",t)}};r();var S0=class extends z{fa(){return new E0(this.f7.n7())}constructor(t){super("ZJt"),this.f7=t}},E0=class extends mg{constructor(t){super("adbuffering"),this.ad=t}};r();var b0=class extends z{fa(){return new L0}constructor(){super("KJt")}},L0=class extends mg{constructor(){super("admetadata")}},k0=class t extends w0{JJt(t,i){for(let e=0;e<t;e++){const t=new _0(i);i.hJt(t),this.MHt.Co(new qj(t))}}hXt(t,i,e){let s=t;s===1/0&&(s=-1);const n=new a0(s,e,i);this.OGt.push(n),i.yqt(n),this.MHt.Co(new un(n))}EXt(t,i){for(const e of this.OGt)j(e.yEt)&&e.oJt===t&&(e.yEt=i,this.MHt.Co(new D0(e)))}_Xt(t,i){void 0===i&&(i=!1),i&&Et(this.OGt,t),this.MHt.Co(new Hu(t))}dXt(){if(this.r7){this._Xt(this.r7,!0);const t=Boolean(this.SGt&&this.SGt.Vqt===Ur.zQt);this.$Jt(void 0,t)}}t$t(t,i){const e=i.bKt;if(!e)return;const s=e.kXt-1,n=t.Oc[s];return n.NJt(i),this.MHt.Co(new oh(n)),n.Xl.uGt=e.uGt,n}get CHt(){return this.i$t.CHt}e$t(t){if(!Ho(this.s$t,t)){if(t){if(this.SGt===t)return;this.SGt=t;for(const i of this.n$t)this.uKt(i,t,this.i$t.j_)}else{if(!this.SGt)return;const t=new da(this.SGt,this.SGt.Xl.yEt);this.s$t.push(this.SGt),this.SGt=void 0,this.GHt.Co(t)}Ri(this.n$t)}}$Jt(t,i){if(t){var e;if((null==(e=this.r7)?void 0:e.yEt)===t.yEt)return;this.xGt=t,i&&this.MHt.Co(new pa(this.xGt))}else{if(!this.xGt)return;const t=new Nh(this.xGt);this.xGt=void 0,Ri(this.s$t),i&&this.GHt.Co(t)}}r$t(t){return this.OGt.filter((i=>Va(i.yEt,t,.01)))[0]}static h$t(t,i){if(i.bKt)return t.Oc[i.bKt.kXt-1]}Md(t){if(!t.bKt)return;const i=t.bKt,e=this.r$t(i.yEt);e&&(Ri(this.n$t),this.$Jt(e,t.yKt))}Pd(){this.r7&&this.MHt.Co(new Nh(this.r7)),Ri(this.n$t),this.dXt()}ZKt(i){if(!this.xGt&&i.bKt){const t=this.r$t(i.bKt.yEt);this.$Jt(t,i.yKt)}if(this.xGt){const e=t.h$t(this.xGt,i);if(!e)return;this.t$t(this.xGt,i);const s=i.EJt;li(s)&&!li(e.EJt)&&(e.EJt=s,this.MHt.Co(new oh(e))),this.e$t(e),this.MHt.Co(new Za(this.SGt,e.Xl.yEt))}else 0}xKt(t,i){if(this.e$t(void 0),!i&&this.r7){const t=this.r7;this.$Jt(void 0,!1),this._Xt(t)}}mKt(t){const i=t.bKt;if(!i)return;const e=this.r$t(i.yEt);if(!e)return;this.HKt(i.yEt,i.CXt,i.uGt);const s=this.t$t(e,t);s&&this.MHt.Co(new o$(s))}HKt(t,i,e){const s=this.r$t(t);if(!s)return;const n=s.Oc.length;if(i>n){const t=i-n;this.JJt(t,s),s.uGt=e,this.MHt.Co(new D0(s))}}eKt(i,e,s){if(!this.xGt)return;const n=t.h$t(this.xGt,i);if(n){const t=e/s;this.MHt.Co(new T0(n,t))}}TKt(i,e,s){if(!this.xGt)return;let n=this.SGt;if(!n){const s=t.h$t(this.xGt,i);if(!s||Ho(this.s$t,s))return void this.n$t.push(e);n=s,this.t$t(this.xGt,i),this.e$t(n)}this.uKt(e,n,s)}uKt(t,i,e){t===To.KXt?this.MHt.Co(new b0):t===To.FXt&&i?this.MHt.Co(new A0(i)):t===To.GXt&&i?this.MHt.Co(new S0(i)):t===To.VXt&&i&&e?this.MHt.Co(new Yn(i,e)):t===To.KUt&&i&&e?this.MHt.Co(new p0(i,e)):t===To.WXt&&i&&e&&this.MHt.Co(new or(i,e))}Yp(){this.i$t.Yp()}p7(t){this.i$t.p7(t)}Zn(){const t=Boolean(this.SGt&&this.SGt.Vqt===Ur.zQt);this.e$t(void 0),this.$Jt(void 0,t);for(const t of this.OGt)this._Xt(t);Ri(this.OGt),Ri(this.n$t),Ri(this.s$t)}gn(){this.Zn()}constructor(t,i){super(t,sh.nGt),this.i$t=i,this.n$t=[],this.s$t=[]}};function C0(t){const i=s.google.ima.settings;t.ads&&t.ads.vpaidMode&&s.google.ima.settings.setVpaidMode(function(t){const i=s.google.ima.ImaSdkSettings.VpaidMode;switch(t){case _a.ENABLED:return i.ENABLED;case _a.INSECURE:return i.INSECURE;case _a.DISABLED:default:return i.DISABLED}}(t.ads.vpaidMode)),i.setPlayerVersion("7.3.0"),i.setPlayerType("THEOplayer"),i.setAutoPlayAdBreaks(!0),i.setDisableCustomPlaybackForIOS10Plus(!x0(t));const e=function(t){var i,e,s;const n=null==(e=t.ads)||null==(i=e.googleIma)?void 0:i.language;if(void 0!==n)return n;const r=null==(s=t.ui)?void 0:s.language;if(ae(r))return r;return}(t);e&&i.setLocale(e)}function x0(t){return Zt.Ga&&t.allowNativeFullscreen}r();var O0=class i extends H${get pHt(){return this.oXt.RJt}get o$t(){return this.oXt}get LKt(){return this.Qqt}get QKt(){return x0(this.eH)}a$t(t,i,e){i===ds.u7&&void 0!==e&&(this.xHt=e),this.Qqt.eXt(t,i)}static get vHt(){return sh.nGt}get vHt(){return i.vHt}get u$t(){return this.eH.ads.preload===ov.MIDROLL_AND_POSTROLL}p7(t){const i=this.c$t();for(const e of i)bK(e.sources,e.timeOffset)||t.N1(e,ds.a7,!1)}c$t(){const t=[],{s7:i,h7:e}=this.pHt,s=[];for(const n of i.concat(e)){const i=n.Xl.aJt;if(Ho(s,i.Vw))continue;const e=i.Pqt(n.yJt);e>=0?t.push(...i.tqt.slice(e)):t.push(...i.tqt),s.push(i.Vw)}for(const i of this.Qqt.h7)i._qt||t.push(...i.tqt);return sg(t)}set Vqt(t){this.dJt=t}get Vqt(){return this.dJt}get lGt(){return this.dGt}set lGt(t){this.dGt=t,this.l$t=!1}z_(){if(!this.lGt)return 0;const t=this.lGt.GKt();return j(this.ct)||t<0?0:this.ct-t}P_(t){}Td(){return this.Rk||NaN}T$(t){this.Rk=t}K_(){return this.Qo.Z_}J_(t){this.RKt(this.xg,t,!0)}og(){return this.gR}hKt(t){this.gR=t}get KKt(){return this.d$t}set KKt(t){this.d$t=t}get D7(){return this.xHt}get PKt(){return this.f$t}get JKt(){return this._$t}set JKt(t){this._$t=t}get BKt(){return this.g$t}set BKt(t){this.g$t=t}Sg(){var t,i,e;return null!=(e=null==(i=this.lGt)||null==(t=i.IKt())?void 0:t.IJt)?e:0}Cg(){var t,i,e;return null!=(e=null==(i=this.lGt)||null==(t=i.IKt())?void 0:t.DJt)?e:0}E_(){return[]}zHt(t){this.Yqt=t,this.Qqt.zHt(t)}yXt(){!this.l$t&&this.lGt&&(this.lGt.Cn(),this.l$t=!0)}OKt(t){this.Vqt=t?t.yKt?"linear":"nonlinear":"none"}Mg(){return Ki.lR().ks()}Og(){return this.Qo.xg}jg(t){this.RKt(t,this.Z_,!0)}MKt(){return this.Qo.Z_?0:this.Qo.xg}RKt(t,i,e){const s=this.Qo.xg!==t||this.Qo.Z_!==i;s&&(this.Qo.xg=t,this.Qo.Z_=i),this.lGt&&e&&this.lGt.jg(this.MKt()),s&&this.Co(new Oe(this.j_,this.xg))}U_(){return!1}Q_(){if(this.w$t&&this.xHt)return this.w$t}Y_(){if(this.A$t&&this.xHt)return this.A$t}pg(){return this.G$}V$(t){this.G$=t,this.Co(new Jh(this.j_,t))}get $Kt(){return this.v$t}set $Kt(t){this.v$t=t}Yg(){this.Qo.fn(t.jh,this.m$t),this.bo||(this.bo=!0,this.Qqt.Yg(),this.XKt())}async Vg(){if(this.p$t)return;this.y$t.c_(),this.y$t=new xs;const t=this.hg;this.hKt(!1),this.Co(new fh(this.j_)),this.M$t()||(this.QKt||this.Qo.be(),this.Co(new Xc(this.j_))),this.KKt||(this.JKt=!1);const i=Boolean(this.lGt);this.p$t=this.Qqt.iXt();try{await this.p$t}finally{this.p$t=void 0}try{Pi(this.y$t.a_)}catch(t){return}if(this.bo||this.m$t(),!this.w$t||!this.xHt)if(this.lGt){if(t)if(i)try{Pi(this.y$t.a_),this.lGt.T$t(),this.Co(new Vi(this.j_))}catch(t){return}else this.yXt()}else this.xHt||(this.VWt(),this.jHt.Vg())}Gg(){var t;this.hg||(this.hKt(!0),this.Co(new ye(this.j_))),this.y$t.c_(),this.KKt?null==(t=this.lGt)||t.Gg():this.JKt=!0}Yp(){var t;null==(t=this.lGt)||t.Yp()}jKt(){this.lGt&&(this.D$t.N$t(),this.lGt.Wg(),this.lGt.e_(),this.lGt=void 0,this.Vqt="none",this.l$t=!1)}async Wg(){var t;this.VKt=0,this.Qqt.Zn(),this.y$t.c_(),this.hKt(!0),this.f$t=!1,this.g$t=!1,this.KKt=!1,this.oXt.Zn(),this.jKt(),this.EKt(),null==(t=this.I$t)||t.Zn(),this.JKt=!1,this.D$t.e_()}ge(){this.S$t.ge(),this.QKt&&this.Qo.ge()}be(){this.S$t.be()}E$t(){return Boolean(this.lGt)&&Ho(this.lGt.b$t(),-1)&&!this.f$t}wqt(){this.Qqt.wqt()}IXt(){return this.Qqt.IXt}Rqt(){this.Qqt.Rqt()}SXt(){return this.Qqt.SXt()}DHt(i){if(this.E$t()){if(i.type===t.Sh&&this.Qo.R_)return!0;if(i.type===t.kA)return this.f$t=!0,this.D$t.N$t(),!0}return!1}M$t(){return Boolean(this.lGt&&this.lGt.IKt())}async pXt(t){try{this.jKt();const i=this.L$t();this.S$t.iW(),this.lGt=await this.D$t.pXt(t,this.I$t,i),this.k$t(this.lGt)}catch(t){this.C$t.wKt(t)}}k$t(t){if(t.jg(this.MKt()),this.Qqt.rXt===K$.Jqt){const i=t.b$t();if(i.length)for(const t of i)this.oXt.hXt(t,this.Qqt.Uqt);else this.oXt.hXt(this.Qqt.Uqt.Kl,this.Qqt.Uqt)}this.C$t.Zn(),this.C$t.XZt(t)}Ug(){if(this.dGt&&this.QKt&&this.M$t())return this.Qo.Ug()}Rg(){return this.QKt&&this.CHt?this.Qo.ya:super.Rg()}L$t(){const t=this.Qqt.rXt===K$.Jqt,i=!(!this.x$t||!t)&&this.u$t;let e,s;void 0!==this.eH.ads.googleIma.uiElements?e=this.eH.ads.googleIma.uiElements:this.eH.ads.showCountdown||(e=[]),void 0!==this.eH.ads.allowedMimeTypes&&(s=this.eH.ads.allowedMimeTypes);return{O$t:s,j$t:e,z$t:i,SJt:this.eH.ads.googleIma.bitrate,P$t:void 0,B$t:this.Yqt}}XKt(){if(!this.x$t&&!this.Z_&&(this.x$t=!0,this.dGt)){const t=this.L$t();this.dGt.R$t(t)}}kKt(t){this.w$t=new uc(tm.ADVERTISEMENT_ERROR,t.TL),this.A$t=new ce(y_.AD_ERROR,"There was a problem playing ads.",this.w$t),this.MHt.Co(xa.IHt(t))}EKt(){this.CHt&&(this.Qo.ge(),this.VWt(),this.be())}iJt(){var t;if(this.Qo.z_()===1/0||0===this.Qo.Mg().length)return;(null==(t=this.Qqt.Uqt)?void 0:t.sqt)&&-1!==this.U$t&&(this.Qo.P_(this.Qo.z_()+this.U$t),this.U$t=-1)}tJt(t){var i,e;this.U$t=null!=(e=null==(i=t.bKt)?void 0:i.uGt)?e:-1}VWt(){super.VWt(),this.Qo.ge(),this.QKt&&!this.Qo.R_&&this.Qo.Vg()}KHt(){this.QKt||super.KHt()}async gn(){this.C$t.fn(Nr.ha,this.Q$t),await super.gn(),this.jKt(),this.D$t.fn("F$t",this.Y$t),this.D$t.e_(),this.S$t.e_(),this.Qqt.gn(),this.C$t.gn()}constructor(i,e,s,n,r,h,o){super(i,e),this.bo=!1,this.xHt=!1,this.w$t=void 0,this.A$t=void 0,this.U$t=-1,this.dJt="none",this.v$t=!1,this.x$t=!1,this.l$t=!1,this.y$t=new xs,this.d$t=!1,this._$t=!1,this.Y$t=t=>{this.MHt.Co(t)},this.Q$t=t=>{this.w$t=new uc(tm.ADVERTISEMENT_ERROR,"Error while recovering from failed IMA ad.",t.error.message),this.A$t=_s(this.w$t)},this.VKt=NaN,this.m$t=()=>{this.bo||this.Yg()},this.eH=s,this.gR=!0,this.Rk=NaN,this.G$=Os.tN,this.f$t=!1,this.g$t=!1,this.oXt=new k0(this.MHt,this),this.C$t=new r0(this,this.Qo,this.oXt),this.C$t.yn(Nr.ha,this.Q$t),this.Qo.yn(t.jh,this.m$t),this.Qqt=new $$(this,this.Qo,this.jHt,n,this.oXt),this.I$t=o,this.D$t=h,this.S$t=r,this.be(),this.D$t.yn("F$t",this.Y$t)}};r();var j0=class{registerWebImaAdPlayerConstructor(t){this.G$t=t}createAdPlayer(t,i,e){return z0()&&this.G$t?this.G$t(t,i,e):void 0}};function z0(){if(Boolean(Ys.google&&Ys.google.ima)){return!(1===_.keys(Ys.google.ima).length&&Ys.google.ima.dai)}return!1}j0.gL=new j0;var P0=class{get _Ht(){return O0.vHt}JR(t){return t&&t.integration===uS.GOOGLE_IMA}gHt(t,i,e){return j0.gL.createAdPlayer(t,i,e)}N1(t,i,e,s){e.a$t(t,i,s)}_F(t){const i=DJ(t.sources);if(!i)return;const e={integration:uS.GOOGLE_IMA,sources:i,omidAccessModeRules:n0(t.omidAccessModeRules)},s=uh(t.timeOffset);return void 0!==s&&(e.timeOffset=s),e}};Zo.gL.$R(new P0),r(),r(),r(),r();var B0=class extends z{fa(){return new R0}constructor(){super("CGt")}},R0=class extends mg{constructor(){super("adloaded")}},ph=-1,U0=class{get fGt(){return this.OGt}get V$t(){return this.W$t}get qht(){return this.q7}get H$t(){return this.lqt}get q$t(){return this.X$t}get Kl(){if(j(this.Z$t)){const t=js.wFt(this.lqt,this.AGt.t.Td());void 0===t||j(t)||(this.Z$t=t)}return this.Z$t}K$t(){return this.q7<this.OGt.length}Mc(){let t;return this.q7<this.OGt.length&&(t=this.OGt[this.q7],this.q7++),t}J$t(t){t.WQt=this,this.OGt.push(t)}async $$t(t){let i=!1;for(const e of this.OGt)try{await e.$n(),i=!0}catch(i){0,Et(this.OGt,e);const s=e.T7.sources,n="string"==typeof s?s:s.src;t.Co(xa.SHt(i,n))}return this.X$t=!0,i}yGt(){this.pGt=!0}mGt(){return this.pGt}t0t(){return this.OGt.some((t=>JJ(t).some((t=>t.fRt))))}constructor(t,i){this.OGt=[],this.pGt=!1,this.lqt=t,this.q7=0,this.AGt=i,this.Z$t=NaN,this.X$t=!1,this.W$t=new t$(this,this.AGt)}},Q0=class i extends ra{get i0t(){let t=0;for(const i of this.e0t)i.mGt()||(t+=1);return t}s0t(){this.r0t.n0t()}Cn(){this.Po(),this.h0t.yn("v7",this.r0t.o0t)}jn(){this.$o(),this.h0t.fn("v7",this.r0t.o0t),this.c$=this.WN,this.r0t.Zn();for(const t of this.e0t)t.yGt();Ri(this.e0t)}Po(){this.a0t||(this.Qo.yn(t.ov,this.u0t),this.a0t=!0)}$o(){this.a0t&&(this.Qo.fn(t.ov,this.u0t),this.a0t=!1)}get h7(){return this.e0t}c0t(){return this.l0t(new jc(ph,void 0))}d0t(t){return this.f0t(t,0,0).length>0}_0t(t,i){let e,s=0;for(const n of this.e0t){if(n.mGt())continue;const r=n.Kl;r>=t&&r<=i&&r>=s&&!j(r)&&(e=n,s=e.Kl)}return e}g0t(t){return this.l0t(new jc(t,void 0))}w0t(){if(!this.A0t&&void 0!==this.Yqt){this.A0t=!this.e0t.some((t=>j(t.Kl)));for(const t of this.e0t)t.Kl!==ph&&t.Kl<=this.Yqt&&!t.mGt()&&t.yGt()}}v0t(t){for(const i of t)i.yGt();this.UHt.m0t(t),0===this.i0t&&this.$o()}f0t(t,i,e){return this.e0t.filter((s=>{if(s.mGt())return!1;const n=s.Kl;return this.p0t(n,t)||this.y0t(n,t,i,e)}))}p0t(t,i){switch(i){case 0:return 0===t;case ph:return t===ph;default:return!1}}y0t(t,i,e,s){if(t<0)return!1;const n=t-i;return-1!==n&&n<=e&&n>=-s}M0t(t){if(t&&t.length>0){for(const e of t){const t=i.Bqt(e.yEt);let s=this.u_t(e);-1===s&&(this.A0t=void 0===this.Yqt,this.e0t.push(new U0(t,this.T0t)),s=this.e0t.length-1);this.e0t[s].J$t(e)}this.Po()}}static Bqt(t){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return"0";case"end":case"100%":return"-1";default:return t}}u_t(t){const e=i.Bqt(t.yEt);return Fa(this.e0t,(t=>e===i.Bqt(t.H$t)))}N0t(t){Et(this.e0t,t)}zHt(t){this.Yqt=t,this.A0t=void 0===t}constructor(t,i,e,s){super(),this.A0t=!1,this.u0t=t=>W(this.l0t(t)),this.l0t=async t=>{this.w0t();const i=t.currentTime,e=t.currentTime!==ph?this._0t(this.c$,t.currentTime):this.f0t(t.currentTime,0,0)[0];let s,n;const r=this.Qo.Td()-10;if(n=this.d0t(ph)&&x.ceil(i)===x.ceil(r)?this.f0t(ph,10,0).filter((t=>!t.q$t)):this.f0t(i,10,0).filter((t=>!t.q$t)),n.length){const t=(await Promise.all(n.map((t=>t.$$t(this.h0t))))).some((t=>!0===t));t&&this.Co(new B0),(!t||!this.r0t.D0t||n[0].Kl<this.r0t.D0t.Kl)&&(s=n[0])}e&&(e!==this.r0t.D0t&&(s=e),this.v0t([e])),s&&(this.r0t.o0t(),this.r0t.D0t=s,await this.r0t.n0t()),j(this.Qo.Td())||(this.c$=t.currentTime)},this.Qo=t,this.UHt=i,this.T0t=new Tc(this.UHt,this.Qo),this.Yqt=void 0,this.A0t=!1,t.Td()!==1/0?this.WN=0:this.WN=t.z_(),this.c$=this.WN,this.e0t=[],this.h0t=e,this.r0t=s,this.a0t=!1}};r(),r();var F0=class extends ra{get I0t(){return this.RVt}get MHt(){return this.GHt}S0t(){this.E0t(),this.b0t(),this.yP=void 0}L0t(t){this.k0t=this.k0t.concat(t)}C0t(t){this.x0t=this.x0t.concat(t)}b0t(){this.k0t=[]}E0t(){this.x0t=[]}O0t(t){for(const i of this.k0t)i.uQ===t&&wr(i.eventURL)}ge(){this.I0t.style.display=""}be(){this.I0t.style.display="none"}gn(){this.Vo(),this.GHt.Vo(),di(this.RVt)}constructor(t,i){super(),this.x0t=[],this.k0t=[],this.yP=void 0,this.GHt=new ra,this.j0t=t=>{t.stopPropagation(),this.z0t()},this.z0t=()=>{for(const t of this.x0t)for(const i of t.lUt)wr(i.uri)},this.RVt=h.createElement("div"),this.RVt.style.display="none",this.P0t=t,this.B0t=i}};function Y0(t,i){let e=i;if(!function(t){return"ui"in t}(t))return e;const s=t.ui.language;let n;if(ae(s)){const i=t.ui.languages;if(!i)return e;n=i[s]}else n=s;return n&&n[i]&&(e=n[i]),e}r(),r();var G0={[vi.Qv]:1,[vi.Fv]:2,[vi.Yv]:2};function V0(t,i){const e=i?i.map((t=>t.toLowerCase())):i;return tl(t.filter((t=>{const i=t.type.toLowerCase();return!!pi(e)&&-1!==e.indexOf(i)&&aJ(i)})),((t,i)=>G0[t.type]-G0[i.type])).map(W0)}function W0(t){return Ca({src:t.contentURL,type:t.type,isAdvertisement:!0})}function H0(t,i){return CQ(q0(t),q0(i))}function q0(t){return{Ti:t.height,ji:t.width}}function X0(t,i,e,s){const n=function(t,i,e,s){let n,r=1/0;const h=t.filter((t=>!aJ(t.type))).filter((t=>void 0===s||-1!==s.indexOf(t.type)));if(h.length){for(const t of h){const s=(x.abs(t.width/i-1)+x.abs(t.height/e-1))/2;s<r&&(r=s,n=t)}return W0(n||h.sort(H0)[0])}}(t,i.width,i.height,e),r=V0(t,e);return n&&r.push(n),il({sources:r},s)}var Z0=class extends F0{get R0t(){return this.U0t}get j_(){return this.Q0t.j_}get ct(){let t=this.Q0t.ct;return j(t)&&this.bUt&&(t=this.bUt.ct||0),t}get R_(){return this.Q0t.R_}get Z_(){return this.Q0t.Z_}set Z_(t){this.Q0t.Z_=t,t?this.O0t(Xn.UUt):this.O0t(Xn.QUt)}get hg(){return this.Q0t.hg}get vg(){return this.Q0t.vg}get xg(){return this.Q0t.xg}set xg(t){this.Q0t.xg=t}get Ig(){return this.Q0t.Ig}get Lg(){return this.Q0t.Lg}get F0t(){return this.Y0t}Vg(){this.Q0t.hg&&(this.Q0t.Vg(),this.Co(new fh(this.j_)),this.U0t&&this.O0t(Xn.FUt),this.U0t=!0)}Gg(){this.Q0t.hg||(this.Q0t.Gg(),this.Co(new ye(this.j_)),this.O0t(Xn.Sh))}async Wg(){var t;null==(t=this.aO)||t.c_(),this.aO=void 0,this.be(),this.U0t=!1,this.G0t=!0,this.V0t(),this.W0t(),await this.H0t()}q0t(t){void 0===t&&(t=!0),this.U0t=!1,t&&this.O0t(Xn.JUt),this.be(),this.B0t()}X0t(){var t;const i=null==(t=this.UHt.ba)?void 0:t.mi,e=new A$(this.Wu,i);return this.I0t.appendChild(e.we),e.yn("Yp",this.Z0t),e}K0t(){this.bUt&&this.bUt.NUt.oUt&&(this.QVt=new On(this.I0t),this.QVt.ZGt=this.bUt.NUt.oUt,this.QVt.yn("clickstart",this.J0t),this.QVt.yn("click",this.z0t))}$0t(t,i){for(const e of this.k0t)if(e.uQ===Xn.VA){const s=iJ(e.Ku,i);void 0!==s&&this.c$<s&&s<=t&&wr(e.eventURL)}}async t1t(){if(!this.bUt||!this.i1t)return;const t=X0(this.bUt.OUt,this.i1t,this.$x.ads.allowedMimeTypes,this.$x);if(!t.sources.length)return await this.Q0t.Zn(),this.P0t(""),void this.bUt.jRt();this.aO=new xs,this.G0t=!0,await this.Q0t.ga(t,this.aO.a_),this.Q0t.ge(),this.bUt.jRt(),this.K0t()}async e1t(i,e,s){this.Y0t=i,this.bUt=i.fRt,this.Q0t.yn(t.ov,this.s1t),this.Q0t.yn(t.EA,this.n1t),this.Q0t.yn(t.uv,this.r1t),this.Q0t.yn(qh,this.Ds),this.bUt.pRt&&0!==this.bUt.pRt.length&&this.L0t(this.bUt.pRt),this.bUt.NUt&&this.C0t(this.bUt.NUt),this.yP=e,this.i1t=s,0!==this.bUt.OUt.length&&(this.Q0t.yn(Nr.ha,this.h1t),await this.t1t(),this.Q0t.yn(t.kA,this.o1t),this.Q0t.yn(t.ov,this.a1t),this.Q0t.yn(er.Tv,this.u1t),this.Q0t.yn(t.qA,this.Ds))}nYt(){this.R0t&&this.c1t&&this.Z0t()}get c1t(){return this.bUt&&-1!==this.bUt.PUt&&this.Q0t.j_>=this.bUt.PUt}l1t(){this.O0t(Xn.hyt),this.Y0t&&this.MHt.Co(new Za(this.Y0t,this.j_))}async H0t(){this.Q0t.fn(Nr.ha,this.h1t),this.Q0t.fn(t.kA,this.o1t),this.Q0t.fn(t.ov,this.a1t),this.Q0t.fn(er.Tv,this.Ds),this.Q0t.fn(er.Tv,this.u1t),this.Q0t.fn(t.qA,this.Ds),this.Q0t.fn(t.ov,this.s1t),this.Q0t.fn(t.EA,this.n1t),this.Q0t.fn(t.uv,this.r1t),this.Q0t.fn(qh,this.Ds),this.Y0t&&(this.Y0t.yGt(),this.MHt.Co(new da(this.Y0t,this.j_))),this.d1t(),this.S0t(),this.V0t(),this.W0t(),this.Y0t=void 0,this.bUt=void 0,this.i1t=void 0,await this.Q0t.Zn(),this.Q0t.be(),this.I0t.style.cursor="",this.f1t=0,this.c$=-1,this._1t&&(this.g1t.H0t(),this._1t=!1)}d1t(){this.QVt&&(this.QVt.e_(),this.QVt=void 0)}W0t(){this.w1t&&(di(this.w1t),this.w1t=void 0)}V0t(){this.GVt&&(this.GVt.gn(),this.GVt=void 0)}A1t(){this._1t=!0}v1t(){var t;this.w1t||(this.w1t=h.createElement("div"),this.w1t.className="theoplayer-ad-overlay-component theo-ad-remaining-container",this.I0t.appendChild(this.w1t));const i=null==(t=this.Y0t)?void 0:t.Xl;if(!i)return;const e=i.Oc.filter(r$);let s=Y0(this.$x,"The content will play in")+" "+x.round(i.cGt)+" "+Y0(this.$x,"seconds");if(e.length>1){const t=e.filter((t=>t.mGt())).length;s+=". "+Y0(this.$x,"Ad")+" "+(t+1)+"/"+e.length}$r(this.w1t,s)}constructor(t,i,e,s,n,r,h){super(t,i),this.g1t=e,this.$x=s,this.UHt=n,this.Wu=r,this.Q0t=h,this.U0t=!1,this.f1t=0,this.c$=-1,this.aO=new xs,this.G0t=!0,this.o1t=()=>{this.q0t()},this.u1t=()=>{this.aO=void 0,this.U0t||(this.l1t(),this.U0t=!0),this.G0t&&(this.G0t=!1,this.UHt.s0t()),this.I0t.style.display="block",this.Q0t.fn(er.Tv,this.u1t),this.U0t=!0},this.a1t=()=>{const t=this.j_,i=this.ct,e=t/i;(0===this.f1t&&e>=.25?(this.O0t(Xn.XUt),this.f1t=1):1===this.f1t&&e>=.5?(this.O0t(Xn.KUt),this.f1t=2):2===this.f1t&&e>=.75&&(this.O0t(Xn.ZUt),this.f1t=3),this.$0t(t,i),this.v1t(),this.c$=t,this.bUt)&&(-1!==this.bUt.PUt&&this.bUt.PUt<this.bUt.ct&&(null!=this.GVt||(this.GVt=this.X0t()),this.j_<this.bUt.PUt?this.GVt.aVt(this.bUt.PUt-this.j_):this.GVt.cVt()))},this.h1t=()=>{var t,i;this.aO=void 0,this.Q0t.fn(Nr.ha,this.h1t),this.G0t=!0,null==(t=this.yP)||t.IQt(Si.yQt),this.U0t=!1,this.Q0t.be();const e=(null==(i=this.Q0t.bt)?void 0:i.src)||"";this.P0t(e)},this.s1t=()=>{this.Ds(new jc(this.j_,void 0))},this.n1t=()=>{this.Ds(new Vr(this.ct))},this.r1t=()=>{this.Ds(new Oe(this.j_,this.xg))},this.J0t=()=>{this.UHt.Gg()},this.Z0t=()=>{this.Y0t&&(this.O0t(Xn.GUt),this.MHt.Co(new T0(this.Y0t,this.j_/this.ct)),this.q0t(!1))},this.I0t.className="theoplayer-ad-linear",this.I0t.style.zIndex="10",ta(this.I0t),this.Q0t.be(),this._1t=!1}};r(),r();var K0=class t extends i{get we(){return this.Us}lVt(){this.we.addEventListener("mouseup",this.dVt),this.we.addEventListener("touchend",this.dVt),this.we.addEventListener("mousedown",this.m1t)}uVt(){this.we.removeEventListener("mouseup",this.dVt),this.we.removeEventListener("touchend",this.dVt),this.we.removeEventListener("mousedown",this.m1t)}static ur(){const t=h.createElement("div");return t.className="theoplayer-ad-nonlinear-close",t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.cursor="pointer",t.style.fontSize="1.7em",t.style.lineHeight="0.75em",t}gn(){this.uVt(),di(this.Us)}constructor(){super(),this.dVt=t=>{this.Co(new mg("Yp")),this.m1t(t)},this.m1t=t=>{t.stopPropagation()},this.Us=t.ur(),this.lVt()}},J0=class extends F0{get p1t(){return this.y1t}get M1t(){return this.hu}S0t(){super.S0t(),this.I0t&&sn(this.I0t)}async e1t(t,i,e){this.EGt&&this.H0t(),this.y1t=t,this.EGt=t._Rt,0!==this.EGt.pRt.length&&this.L0t(this.EGt.pRt),this.yP=i,0!==this.EGt.vRt.length&&(this.C0t(this.EGt.vRt[0].ERt),this.I0t.addEventListener("error",this.T1t),this.I0t.addEventListener("load",this.N1t),await this.t1t(),this.D1t())}nYt(){var t;if(void 0!==this.I1t)return;const i=null==(t=this.EGt)?void 0:t.vRt[0];i&&i.Xl&&-1!==i.Xl.PUt&&(this.O0t(Xn.GUt),this.MHt.Co(new T0(this.y1t,0)),this.S1t())}l1t(){void 0!==this.y1t&&this.MHt.Co(new Za(this.y1t,this.UHt.j_))}Wg(){this.H0t(),this.y1t=void 0,this.EGt=void 0}H0t(){this.E1t(),void 0!==this.y1t&&(this.y1t.yGt(),this.MHt.Co(new da(this.y1t,this.UHt.j_))),this.S0t(),this.b1t(),void 0!==this.I1t&&(c(this.I1t),this.I1t=void 0)}E1t(){this.I0t.removeEventListener("load",this.N1t),this.I0t.removeEventListener("error",this.T1t)}async t1t(){const t=h.createElement("div");t.className="theoplayer-ad-nonlinear-content",t.style.position="relative",t.style.display="inline-block";const i=this.EGt.vRt[0],e=h.createElement("a");if(i.ERt.oUt&&(e.href=i.ERt.oUt,e.target="Du",e.setAttribute("rel","noopener")),i.NRt){const t=i.NRt,s=h.createElement("iframe");s.src=t.gQt,e.appendChild(s)}else if(i.MRt){const t=i.MRt,s=h.createElement("img");s.src=t.gQt,e.appendChild(s)}else if(i.IRt){const t=i.IRt,s=h.createElement("iframe");s.src=t.gQt,e.appendChild(s)}i.jRt(),e.addEventListener("mousedown",this.j0t),e.addEventListener("touchend",this.j0t),this.I0t.firstChild&&(sn(this.I0t),this.H0t()),t.appendChild(e),this.I0t.appendChild(t),this.ge()}D1t(){var t;if(!this.EGt)return;const i=null==(t=this.EGt.vRt[0].Xl)?void 0:t.PUt;void 0!==i&&-1!==i&&(this.I1t=Ys.setTimeout(this.L1t,1e3*i))}b1t(){this.hu&&(this.hu.fn("Yp",this.k1t),this.hu.gn()),this.hu=void 0}get C1t(){return this.UHt.x1t()}constructor(t,i,e){super(t,i),this.N1t=()=>{this.E1t(),this.O0t(Xn.sQt),this.B0t()},this.T1t=t=>{var i,e;this.E1t(),null==(i=this.yP)||i.IQt(Si.TQt);const s=null==(e=this.EGt)?void 0:e.vRt[0];var n,r;const h=null!=(r=null!=(n=null==s?void 0:s.NRt)?n:null==s?void 0:s.MRt)?r:null==s?void 0:s.IRt;var o;this.P0t(null!=(o=null==h?void 0:h.gQt)?o:"")},this.S1t=()=>{this.be(),sn(this.I0t),this.B0t(),this.y1t=void 0,this.EGt=void 0},this.L1t=()=>{this.hu||(this.I1t=void 0,this.hu=new K0,this.I0t.children[0].appendChild(this.hu.we),this.hu.yn("Yp",this.k1t))},this.k1t=()=>{this.O0t(Xn.GUt),this.nYt()},this.I0t.className="theoplayer-ad-nonlinear",this.I0t.style.position="absolute",this.I0t.style.width="100%",this.I0t.style.bottom="3em",this.I0t.style.zIndex="10",this.I0t.style.textAlign="center",this.UHt=e}};r();var $0=class extends Ku{fa(){return new t1(this.Xl.n7())}constructor(t){super("O1t",t)}},t1=class extends Rc{constructor(t){super("adbreakchange",t)}};r();var i1=class{static async j1t(t,i,e){let s=[],n=t.shift();for(;n;){try{const t=await(new mc).UQt(n,i);s=s.concat(t)}catch(t){0;const i=xa.SHt(t,n.sources.src);e.Co(i)}n=t.shift()}return s}};r(),r(),r();var la,dl=class extends z{fa(){return new e1}constructor(){super("Trt")}},e1=class extends mg{constructor(){super("statechange")}};r(),function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(la||(la={})),r(),r();var s1=class{get Gu(){return this.Xu}get U(){return this.Xu.length}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}jw(t){return this.Xu[t]}mN(t){this.Xu.push(t),this.Xa&&this.Xa.push(t.va),this.z1t(t)}P1t(t){for(const i of t)this.mN(i)}B1t(t,i){i>=0&&i<=this.Xu.length&&(this.Xu.splice(i,0,t),this.Xa&&this.Xa.splice(i,0,t.va),this.z1t(t))}yN(t){return Ho(this.Xu,t)}pN(t){this.R1t(this.Xu.indexOf(t))}R1t(t){if(!(t>=0&&t<this.Xu.length))return;const i=this.Xu[t];Dt(this.Xu,t),this.Xa&&Dt(this.Xa,t),this.U1t(i)}OL(){const t=this.Xu.slice();Ri(this.Xu),this.Xa&&Ri(this.Xa);for(const i of t)this.U1t(i)}constructor(){this.Xu=[],this.Xa=void 0}},n1=class extends s1{fa(){return function(t){const i=function(t){const i=t.Gu.map((t=>t.va));return i.item=i=>{const e=0|i,s=t.jw(e);return s&&s.va||void 0},i}(t),e=new Lh(t,i);return i.addEventListener=(t,i)=>{e.yn(t,i)},i.removeEventListener=(t,i)=>{e.fn(t,i)},i}(this)}yn(t,i){this.Q1t.yn(t,i)}m_(t){this.Q1t.m_(t)}Vo(){this.Q1t.Vo()}Co(t){this.Q1t.Co(t)}fn(t,i){this.Q1t.fn(t,i)}T_(t){this.Q1t.T_(t)}N_(t){this.Q1t.N_(t)}D_(t,i){return this.Q1t.D_(t,i)}constructor(...t){super(...t),this.Q1t=new ra,this.Ds=t=>{this.Co(t)}}};r();var r1=class extends mg{constructor(t){super("addtask"),this.task=t}},h1=class extends z{fa(){return new r1(this.F1t.va)}constructor(t){super("Y1t"),this.F1t=t}};r();var o1,a1=class extends mg{constructor(t){super("removetask"),this.task=t}},u1=class extends z{fa(){return new a1(this.task.va)}constructor(t){super("G1t"),this.task=t}},c1=class extends n1{z1t(t){this.Co(new h1(t))}U1t(t){this.Co(new u1(t))}constructor(){super()}};!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(o1||(o1={}));var l1=class extends i{async Yg(){await this.V1t(),this.Rrt("initialised")}async V1t(){try{await this.W1t()}catch(t){0}}async W1t(){const t=await this._yt.vet();for(const i of t){const t=this.q1t.H1t(i.id,i.sourceDescription,i.parameters,this.X1t);this.Z1t(t),this.uO.mN(t),await t.K1t}}get TS(){return this.Brt}Rrt(t){this.Brt=t,this.Co(new dl)}get J1t(){return this.uO}H1t(t,i,e){void 0===e&&(e="persistent");const s=this.q1t.$1t(t,i,e);return this.t4t(s,e),this.uO.mN(s),this.Z1t(s),s}async t4t(t,i){try{await this.i4t(t,i)}catch(t){throw b("Unable to persist task - "+t)}}async i4t(t,i){await this._yt._et({key:t.o,id:t.o,sourceDescription:t.yc,parameters:t.eS},i)}Z1t(t){t.yn("Trt",(()=>{t.TS===la.EVICTED&&this.uO.pN(t)}))}constructor(t,i,e){super(),this.Brt="uninitialised",this.uO=new c1,this.q1t=i,this.X1t=e,this._yt=t,this.Yg()}};r(),r(),r(),r();var Na=class{get aR(){return this.e4t}get s4t(){return this.n4t}get r4t(){return this.h4t.aR}get o4t(){let t=0,i=0;return this.vN.forEach((e=>{t+=e.timeRanges.aR,i+=e.totalQualityDurationToCache})),0===i?0:x.min(1,t/i)}get h4t(){return this.a4t}$N(t){return!!Ah(this.vN,t.vN)&&(!!V_(this.n4t,t.n4t)&&(!!V_(this.aR,t.aR)&&(!!V_(this.r4t,t.r4t)&&this.h4t.iR(t.h4t))))}constructor(t,i,e){if(this.n4t=t,this.vN=i,this.e4t=e,0===this.vN.size)this.a4t=Ki.lR();else{let t=new Ki([-1/0,1/0]);this.vN.forEach((i=>{t=t.Sn(i.timeRanges)})),this.a4t=t}}};Na.QUALITY_TIME_RANGES_NULL_OBJECT=Qt(),Na.CACHE_PROGRESSION_NULL_OBJECT=new Na(0,Na.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),Na.u4t=Na.CACHE_PROGRESSION_NULL_OBJECT,r(),r(),r(),r();var d1=class extends mg{constructor(){super("progress")}},f1=class extends z{fa(){return new d1}constructor(){super("c4t")}};r(),r();var _1,g1=class extends Xo{get name(){return"l4t"}constructor(t,i){super(t,i)}};async function w1(t,i,e){const s=[];for(const n of t.Pgt)s.push(A1(n,i,e));return{d4t:await Promise.all(s)}}async function A1(t,i,e){const s=[];for(const n of t.ynt)v1(n)||s.push(y1(n,i,e));return{Z:await Promise.all(s),hA:t.hA}}function v1(t){return t.Lnt.every(p1)}r(),r(),r(),function(t){t[t.Qv=0]="Qv",t[t.Fv=1]="Fv"}(_1||(_1={}));var m1=1;function p1(t){return t.zwt!==m1&&Boolean(t.zwt)}async function y1(t,i,e){const s=[];for(const i of t.Lnt)p1(i)||s.push(M1(i,e));const n=await Promise.all(s),r=t.Het[0],h=t.qet,o=h?function(t,i){const e=[],s=function(t){return t?oo(t,"avc")?Ml.VIDEO_H264:oo(t,"hev")||oo(t,"hvc")||oo(t,"hvt")||oo(t,"lhv")||oo(t,"lhe")||oo(t,"lht")?Ml.VIDEO_H265:oo(t,"mp4")?Ml.VIDEO_MP4:oo(t,"mpeg2")?Ml.VIDEO_MPEG2:oo(t,"mpeg")?Ml.VIDEO_MPEG:Ml.VIDEO_UNKNOWN:Ml.VIDEO_UNKNOWN}(t);for(const t of i){const i=t.Xet.split(":").pop(),n=t.Awt;e.push({mimeType:s,uuid:i,data:n})}const n=_1.Qv,r=jw;return{type:n,schemeType:r,schemeDatas:e}}(r,h):void 0,a=LW(t,i,!0);return{Hw:n,gs:t.h6,hA:t.hA,kP:o,Lgt:a}}async function M1(t,i){const e=await async function(t,i){const e=[],s=t.Ust;t.Lut&&e.push({zN:0,ct:0,f4t:t.Lut});const n=s.ivt();let r=n;for(;r;){if(t.mat(r)){const s=await t.yat(r,i,(new xs).a_);for(let i=0;i<s.U;i++)e.push(T1(s.Tat(i),t))}else e.push(T1(r,t));r=s.Dat(r)}const h=s.rvt(),o=h.PN-n.zN;return{ct:o,bet:e}}(t,i),s={o:N1(t),WT:e,Jz:t.Jz,Mtt:t.Mtt,Ti:t.Ti,hA:t.hA,ji:t.ji};switch(t.hA){case hv.Ru:break;case hv.vp:var n,r;s.lct=null!=(r=null==(n=t.lct)?void 0:n.cD())?r:NaN;break;case hv.mp:s.audioSamplingRate=t.xwt}return s}function T1(t,i){return{zN:t.zN,ct:t.ct,f4t:i.Eat(t)}}function N1(t){return t.fat.Cn+"-"+(""+t.o)}function D1(t,i){const e=function(t){const i=function(t){const i=Qt();for(const e of t){let t=i.get(e.PDt);t||(t={hA:e.hA,Fy:[]},i.set(e.PDt,t)),t.Fy.push(e)}return i}(t),e=_e();return i.forEach((t=>{for(const i of t.Fy){let s=e.get(t.hA);s||(s=Qt(),e.set(t.hA,s));let n=s.get(i.l);n||(n=[],s.set(i.l,n)),n.push(i)}})),e}(t);return function(t,i){const e=_e();return t.forEach(((t,s)=>{const n=Qt();t.forEach(((t,e)=>{const r=[];for(const e of t){const t=I1(e,s,i);r.push(t)}n.set(e,r)})),e.set(s,n)})),e}(e,i)}function I1(t,i,e){const s=t.PDt,n={XDt:t,EIt:[]};for(const t of e)cX(i,s,t)&&n.EIt.push(t);return n}async function S1(t,i){const e=await i.iyt([t],{});return Bq(e.AE,{},e.syt)}async function E1(t,i){return sq(t)?async function(t,i){const e=D1(t.Fy,t.DEt),s=await async function(t,i){const e=[],s=t.entries();for(let t=s.next();!t.done;t=s.next()){const[s,n]=t.value,r=await k1(n,s,i);e.push(r)}return e}(e,i),n=await async function(t,i){const e=[];for(const o of t){var s,n;const t=await j1(o.xAt,i);var r,h;t.Jz=o.Jz,t.Mtt=o.Het?L1(o.Het):"",t.Ti=null!=(r=null==(s=o.mIt)?void 0:s.Ti)?r:0,t.ji=null!=(h=null==(n=o.mIt)?void 0:n.ji)?h:0,e.push(t)}return{hA:hv.KT,Z:[{gs:LF,hA:hv.KT,Hw:e}]}}(t.DEt,i);return s.push(n),{ct:b1(s),_4t:[t.xAt],qgt:[{d4t:s}]}}(t,i):function(t){const i=z1(t);return{ct:i.ct,_4t:[t.xAt],qgt:[{d4t:[{hA:hv.KT,Z:[{hA:hv.KT,gs:LF,Hw:[{o:t.xAt,WT:i,Jz:0,Mtt:"",Ti:0,hA:hv.KT,ji:0}]}]}]}]}}(t)}function b1(t){let i=-1/0;for(const e of t)for(const t of e.Z)i=x.max(i,...t.Hw.map((t=>t.WT.ct)));return i}function L1(t){return[t.gIt,t.wIt,t.PSt].filter(li).join(",")}async function k1(t,i,e){const s=[],n=t.entries();for(let t=n.next();!t.done;t=n.next()){const[,i]=t.value,n=await C1(i,e);s.push(n)}return{hA:x1(i),Z:s}}async function C1(t,i){const e=[],s=t[0].XDt;for(const s of t){const t=await O1(s,i);e.push(t)}return{gs:s.gs||LF,hA:x1(s.hA),Hw:e}}function x1(t){switch(t){case Qn.mp:return hv.mp;case Qn.vp:return hv.vp;case Qn.pp:case Qn.USt:return hv.Ru;default:return hv.KT}}function O1(t,i){const e=function(t){const i=t.XDt.xAt,e=t.EIt.map((t=>t.xAt));return i||(e.length?e[0]:void 0)}(t);return j1(e,i)}async function j1(t,i){let e={ct:0,bet:[]};if(t){const s=await S1(t,i);nq(s)&&(e=z1(s))}return{o:t||"default",g4t:t,WT:e,Jz:0,Mtt:"",Ti:0,hA:hv.KT,ji:0}}function z1(t){const i=[];let e,s=0;for(const n of t.bet){const t=s;!n.bEt||void 0!==e&&hq(n.bEt.xAt,e)||(i.push(P1(n.bEt,t)),e=n.bEt.xAt),i.push(B1(n,t)),s+=n.ct}return{ct:s,bet:i}}function P1(t,i){return{zN:i,ct:0,f4t:R1(t.xAt)}}function B1(t,i){return{zN:i,ct:t.ct,f4t:R1(t.xAt)}}function R1(t){return{zu:t.ST,fht:t.cmt?[t.cmt.Cn,t.cmt.Cn+t.cmt.U]:void 0,uE:!1}}r(),r();var U1=class{async w4t(t){if(!t.src)throw new b("Invalid typed source");const i=t.type;if(ka(i))return await this.A4t(t);if(kv(i))return await this.v4t(t);throw new b("Unexpected source type")}async A4t(t){try{const i=await S1(t.src,this.eyt);return await E1(i,this.eyt)}catch(t){throw new b("Unable to fetch HLS manifest")}}async v4t(t){try{const i=new JV({oA:lg.Dh(t.src),jpt:t.liveOffset,Upt:t.timeServer,uE:t.useCredentials},this.m4t,Ib.JG,this.eyt,t.dash);return await i.W,await async function(t,i,e){const s=[];for(const n of t.qgt)s.push(w1(n,i,e));const n=await Promise.all(s);return{ct:t.MAt.uwt(),_4t:[t.Ipt],qgt:n}}(i.Tr.Sut,t.contentProtection,this.Sat)}catch(t){throw new b("Unable to fetch DASH manifest")}}constructor(t,i,e){this.eyt=t,this.Sat=i,this.m4t=e}};r();var Q1=class{p4t(){const t=new Eo;return this.y4t.push(t),this.M4t(),t.PL}async T4t(t,i){try{await t}finally{this.N4t-=1,this.M4t(),0===this.y4t.length&&0===this.N4t&&i.jL(!0)}}M4t(){if(this.y4t.length>0&&this.N4t<this.D4t){this.y4t.shift().jL(),this.N4t+=1}}constructor(t){this.y4t=[],this.N4t=0,this.D4t=t}};var F1=class extends i{get K1t(){return this.Yg()}async Yg(){const t=new U1(this.eyt,this.Sat,this.m4t);this.I4t=await t.w4t(this.S4t);const i=function(t,i){if(ae(t)){if(oo(t,"%"))return S(t)/100*i;throw new b("Unexpected - Invalid string supplied as amount to cache.")}return i<t?i:t}(this.gyt.eS.amount,this.I4t.ct);let e;this.e4t=i;const s=Ti(this.I4t._4t[0]),n=(await this.Eet.Let.pet(s,"manifestURL")).filter((t=>Ho(t.references,this.gyt.o))),r=[],h=this.gyt.eS.bandwidth;for(const t of this.I4t.qgt)for(const i of t.d4t)for(const t of G1(i,this.gyt.eS.preferredTrackSelection))for(const i of W1(t.Hw,h))r.push(i);this.E4t=x.ceil(r.map((t=>t.Jz*function(t,i){let e=0;for(const s of t.WT.bet.map((t=>t.ct)))if(e+=s,e>=i)return e;return e}(t,i)/8)).reduce(((t,i)=>t+i),0));const o=Qt();if(n&&0!==n.length){const t=n.reduce(((t,i)=>t+i.byteSize),0);for(const t of n){const i=t.qualityId,e=new Ki(t.startsAndEnds);if(o.has(i))o.get(i).timeRanges=o.get(i).timeRanges.HB(e).WB(5e-4);else{const t=p(r,(t=>t.o===i));var a;const s=x.min(this.e4t,null!=(a=null==t?void 0:t.WT.ct)?a:1/0);o.set(i,{timeRanges:e,totalQualityDurationToCache:s})}}e=new Na(t,o,this.e4t)}else{for(const t of r)o.set(t.o,{timeRanges:Ki.lR(),totalQualityDurationToCache:x.min(t.WT.ct,this.e4t)});e=new Na(0,o,this.e4t)}this.b4t=e}get L4t(){return this.E4t}get b4t(){return this.k4t}set b4t(t){this.k4t.$N(t)||(this.k4t=t,t.$N(Na.u4t)||this.Co(new f1))}async pi(t){await this.bo,await this.C4t(this.I4t,t)}async C4t(t,i){if(!t._4t)throw new b("Unexpected - manifest is missing locations");await this.x4t();const e=[];for(const s of t.qgt)e.push(this.O4t(s,t._4t[0],i));return pl(e)}async x4t(){const t=await this.j4t.vet();for(const i of t){const t=await this.Eet.ket.kL(i.key);if(t)await Y1(t,this.gyt.o,this.Eet.ket,this.X1t);else try{await this.Eet.ket._et(i,this.X1t)}catch(t){throw new g1("Unable to store manifest with url: "+i.locationURL,t)}}await this.j4t.Met()}O4t(t,i,e){const s=[];for(const n of t.d4t){const t=G1(n,this.gyt.eS.preferredTrackSelection);for(const n of t)s.push(this.z4t(n,i,e))}return pl(s)}async z4t(t,i,e){const s=this.gyt.eS.bandwidth,n=W1(t.Hw,s);t.hA===hv.vp&&t.Lgt&&t.Lgt.Mj.widevine&&"persistent"===t.Lgt.Mj.widevine.licenseType&&(await this.P4t(t.Lgt),Pi(e));const r=[];for(const t of n)r.push(this.B4t(t,i,e));return pl(r)}async B4t(t,i,e){Pi(e);const s=t.WT.bet[0].zN+this.e4t,n=[];let r=!1;for(const h of t.WT.bet){if(h.zN>=s||this.stopIfFailed(r))break;await this.R4t(e),await this.U4t.p4t(),n.push(this.U4t.T4t(this.Q4t(h,t,i),this.F4t).catch((t=>(r=!0,Promise.reject(t)))))}return pl(n)}async R4t(t){if(null==t?void 0:t.$f)throw await this.F4t.PL,new ia}async Y4t(){return await this.bo.catch(fg),this.I4t}P4t(t){return Promise.resolve()}G4t(){return lg.Pv("License renewal unsupported in this SDK."),Promise.resolve()}async Q4t(t,i,e){const s=this.Eet.Let,n=In(t.f4t.zu,t.f4t.fht),r=await s.kL(n);if(r)await Y1(r,this.gyt.o,s,this.X1t),this.V4t(r,!1);else try{const s=await this.W4t(t.f4t),{segmentMetadataEntry:n,segmentEntry:r}=this.H4t(t,i,e,s);await this.Eet.Iet((async t=>{await t.Let._et(n,this.X1t),await t.bet._et(r,this.X1t)})),this.V4t(n,!0)}catch(i){throw new g1("Unable to store segment with url: "+t.f4t.zu,i)}}async W4t(t){const i=await this.Tot.hht(t,!1,this.DEFAULT_CACHING_SEGMENT_TIMEOUT,void 0,this.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT);return await this.Not(i)}async Not(t){return{buffer:await t.Kj()}}H4t(t,i,e,s){const n=In(t.f4t.zu,t.f4t.fht),r=t.zN,h=t.ct,o=this.q4t(s);return{segmentMetadataEntry:{key:n,segmentURLsegmentByteRange:n,manifestURL:Ti(e),qualityId:i.o,byteSize:o,startsAndEnds:new Ki([r,r+h]).jB,references:[this.gyt.o]},segmentEntry:{key:n,segmentURLsegmentByteRange:n,manifestURL:Ti(e),data:s,references:[this.gyt.o]}}}q4t(t){return t.buffer.byteLength}V4t(t,i){const e=t.qualityId,s=this.k4t,n=s.vN;n.get(e).timeRanges=n.get(e).timeRanges.HB(new Ki(t.startsAndEnds)).WB(5e-4),this.b4t=new Na(i?s.s4t+t.byteSize:s.s4t,n,this.e4t)}stopIfFailed(t){return!1}constructor(t,i,e,s,n,r,h,o){super(),this.DEFAULT_CACHING_SEGMENT_TIMEOUT=3e4,this.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT=0,this.F4t=new Eo,this.k4t=Na.u4t,this.gyt=t,this.Eet=i,this.eyt=e,this.j4t=s,this.Tot=n,this.Sat=r,this.m4t=o,this.X1t=h,this.E4t=-1;const a=this.gyt.yc.sources[0];this.S4t=a,this.bo=this.Yg(),this.U4t=new Q1(this.gyt.eS.parallelTasksThreshold)}};async function Y1(t,i,e,s){Ho(t.references,i)||(t.references.push(i),await e._et(t,s))}function G1(t,i){switch(t.hA){case hv.mp:return V1(t.Z,i.audioTrackSelection);case hv.Ru:return V1(t.Z,i.textTrackSelection);default:return V1(t.Z,[])}}function V1(t,i){if(0===i.length)return t.length?[t[0]]:[];const e=[];for(const s of t)i.indexOf(s.gs)>-1&&e.push(s);return e}function W1(t,i){if(!t.length)return[];const e=[...t].sort(xQ),s=e.filter((t=>t.Jz<=i));return s.length>0?[s.pop()]:[e.shift()]}var H1=class{async X4t(){await this.Eet.Iet((async t=>{await this.Z4t(t),await this.K4t(t),await this.J4t(t),await this.$4t(t)}))}async Z4t(t){const i=t.Cet,e=this.gyt.o;await i.pN(e)}async K4t(t){const i=t.Let,e=t.bet,s=this.gyt.yc.sources[0];if(!Pv(s))return;const n=Ti(s.src),r=(await i.pet(n,"manifestURL")).filter((t=>Ho(t.references,this.gyt.o)));for(const t of r)Et(t.references,this.gyt.o),0===t.references.length?(await i.pN(t.key),await e.pN(t.key)):await i._et(t)}async J4t(t){const i=t.ket,e=this.t2t(),s=(await i.het(e)).filter((t=>Ho(t.references,this.gyt.o)));for(const t of s)Et(t.references,this.gyt.o),0===t.references.length?await i.pN(t.key):await i._et(t)}t2t(){if(!this.I4t)return[];const t=this.gyt.yc.sources[0];if(!Pv(t))return[];const i=Ti(t.src),e=function(t){if(!t)return[];const i=[];for(const e of t.qgt)for(const t of e.d4t)for(const e of t.Z)for(const t of e.Hw)t.g4t&&i.push(t.g4t);return function(t){return t.reduce(((t,i)=>(t.indexOf(i)<0&&t.push(i),t)),[])}(i)}(this.I4t).map((t=>({src:t}))).map((t=>Ti(t.src)));return[i,...e]}async $4t(t){const i=t.xet,e=(await i.vet()).filter((t=>Ho(t.references,this.gyt.o)));for(const t of e)Et(t.references,this.gyt.o),0===t.references.length?(await i.pN(t.key),this.i2t(t)):await i._et(t)}i2t(t){}constructor(t,i,e){this.gyt=t,this.Eet=i,this.I4t=e}},q1=new class{D8(t,i,e){return new H1(t,i,e)}};r(),r();var X1=class{get va(){return this.Xa||(this.Xa=function(t){return{renew(i){t.e2t(i)}}}(this)),this.Xa}e2t(t){this.s2t(t)}async s2t(t){try{await this.n2t.G4t(t)}catch(t){0,this.fit.Rrt(la.ERROR)}}constructor(t,i){this.fit=t,this.n2t=i}},Z1=class extends ra{get K1t(){return this.n2t.K1t}get va(){return this.Xa||(this.Xa=function(t){let i,e={get id(){return t.o},get status(){return t.TS},get source(){return t.yc},get parameters(){return t.eS},get duration(){return t.ct},get cached(){return t.r2t.ks()},get secondsCached(){return t.h2t},get percentageCached(){return t.o2t},get bytes(){return t.a2t},get bytesCached(){return t.u2t},get license(){return t.pY.va},start(){t.Cn()},pause(){t.Gg()},remove(){t.pN()},addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)}};return i=new $u(t,["c4t","Trt"],e),e}(this)),this.Xa}get o(){return this.NN}get pY(){return this.c2t}get TS(){return this.Brt}Rrt(t){this.Brt!==t&&(this.Brt=t,this.Co(new dl))}get yc(){return this.bc}get eS(){return this.l2t}get ct(){return this.n2t.b4t.aR}get r2t(){return this.n2t.b4t.h4t}get h2t(){return this.n2t.b4t.r4t}get o2t(){return this.n2t.b4t.o4t}get a2t(){return this.n2t.L4t}get u2t(){return this.n2t.b4t.s4t}Cn(){this.Brt===la.EVICTED||this.Brt===la.DONE||this.d2t()}async d2t(){try{this.Rrt(la.LOADING);const t=new xs;this.f2t=t,await this.n2t.pi(t.a_),this.Rrt(la.DONE)}catch(t){So(t)?this.Rrt(la.IDLE):this.Rrt(la.ERROR)}finally{this.f2t.e_()}}Gg(){this.f2t.c_()}pN(){this.TS===la.LOADING?(this.yn("Trt",this.evictOnLoading),this.Gg()):this._2t()}async _2t(){try{const t=await this.n2t.Y4t();await q1.D8(this,this.Eet,t).X4t(),this.n2t.b4t=Na.u4t,this.Rrt(la.EVICTED)}catch(t){0,this.Rrt(la.ERROR)}}constructor(t,i,e,s,n,r){super(),this.f2t=new xs,this.evictOnLoading=()=>{this.fn("Trt",this.evictOnLoading),this._2t()},this.NN=t,this.bc=i,this.l2t=e,this.Eet=s,this.n2t=n.D8(this,this.Eet,r),this.c2t=new X1(this,this.n2t),this.Brt=1===this.n2t.b4t.o4t?la.DONE:la.IDLE,this.n2t.yn("c4t",(t=>{this.Ds(t),1===this.o2t&&this.Rrt(la.DONE)}));const h=new Date,o=this.l2t.expirationDate.getTime()-h.getTime();(function(t){return t<2147483647})(o)&&u((()=>this._2t()),o)}};var K1=class{$1t(t,i,e){const s=$e();return this.H1t(s,t,i,e)}H1t(t,i,e,s){return new Z1(t,i,e,this.Eet,this.g2t,s)}constructor(t,i){this.Eet=t,this.g2t=i}};r();var J1=30,$1=5;function t4(t){if(!t)throw new b("Unexpected - The cache parameters are undefined");const i=function(t){if(ae(t)&&!oo(t,"%"))return C(t);return t}(t.amount);!function(t){if(function(t){return ae(t)&&oo(t,"%")}(t)){const i=S(t);if(j(i)||i<0||i>100)throw new b("The amount as percentage must be between 0 and 100 percent.")}if(!ae(t)&&j(t))throw new b("The amount must be a number or a string")}(i);const e=function(t){if(!t)return function(){const t=new Date;return t.setMinutes(t.getMinutes()+J1),t}();return t}(t.expirationDate);!function(t){if(t&&!function(t){return!t||P_(t)&&t>new Date}(t))throw new b("Invalid expiration date for the cache parameters")}(e);const s=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);!function(t){if(j(t)||t<0)throw new b("The bandwidth must be between zero and infinity.")}(s);const n=function(t){if(!t)return $1;if(j(t))throw new b("The amount must be a number");return t}(t.numberOfParallelTasks);return{amount:i,expirationDate:e,bandwidth:s,parallelTasksThreshold:n,preferredTrackSelection:{audioTrackSelection:[],textTrackSelection:[]}}}var i4=class{set D0t(t){this.w2t=t,this.A2t=0,this.v2t=0,this.m2t=void 0}get D0t(){return this.w2t}MXt(){if(!this.w2t)return;const t=this.w2t.fGt;for(;this.A2t<t.length;){const i=t[this.A2t];for(void 0===this.m2t&&(this.m2t=JJ(i),this.v2t=0);this.v2t<this.m2t.length;){const t=this.m2t[this.v2t];if(this.v2t++,void 0!==t.fRt)return t.fRt}this.A2t++,this.m2t=void 0}}Zn(){for(this.D0t=void 0,this.aO.c_(),this.aO=new xs;this.p2t.length;)this.o0t()}y2t(t){return new l1(this.Eet.Cet,t,"temporary")}async Vjt(t){const i=V0(t.OUt,this.eH.ads.allowedMimeTypes);if(!i.length)return;const e=await Ze.gL.NB(i,il({sources:i}));if(!e.t.dB())return;this.n2t||(this.n2t=new this.g2t(this.gE));const s=this.Eet,n=new K1(s,this.n2t),r=this.y2t(n).H1t(il({sources:e.yc}),t4({amount:10,bandwidth:ua.gL.Qz()||this.yR.sW}),"temporary");this.p2t.push(r);const h=this.n2t.D8(r,s,"temporary");this.aO.c_(),this.aO=new xs,h.pi(this.aO.a_).then(fg),this.M2t(h,t)}constructor(t,i,e,s){this.p2t=[],this.A2t=0,this.v2t=0,this.n0t=async()=>{const t=this.MXt();t&&await this.Vjt(t)},this.o0t=()=>{const t=this.p2t.shift();null==t||t.pN()},this.M2t=async(t,i)=>{let e=!1;for(;!e;)await t.D_("c4t"),e=1===t.b4t.o4t;i.ct<5&&this.n0t()},this.eH=t,this.gE=i,this.aO=new xs,this.g2t=e,this.yR=s,this.Eet=new yU}};r(),r();var e4={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new Ki([0,0]).jB,references:[]},s4={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},n4=class t extends QQ{async Wat(t,i,e,s){try{return await super.Wat(t,i,e,s)}catch(t){go(t)}const n=await this.T2t.Wat(t,i,e,s);return await this.N2t(t,i,n),n}async N2t(i,e,s){if(void 0===this.D2t)return;const n=this.Eet.Let,r=In(i,e),h=await n.kL(r);if(h)await Y1(h,this.D2t,n,this.X1t);else try{const i={buffer:s},{segmentMetadataEntry:e,segmentEntry:n}=t.H4t(r,i,this.D2t);await this.Eet.Iet((async t=>{await t.Let._et(e,this.X1t),await t.bet._et(n,this.X1t)}))}catch(t){throw new g1("Unable to store segment with url: "+i,t)}}static H4t(t,i,e){return{segmentMetadataEntry:At({},e4,{key:t,segmentURLsegmentByteRange:t,references:[e]}),segmentEntry:At({},s4,{key:t,segmentURLsegmentByteRange:t,data:i,references:[e]})}}constructor(t,i,e,s,n){super(t),this.T2t=new UQ(i),this.Eet=e,this.D2t=s,this.X1t=n}};var r4,h4=class{D8(t,i,e){void 0===e&&(e="persistent");const s=t.yc.sources[0];if(Ov(s))throw new b("Caching THEOlive sources is not supported");const n=Boolean(s.useCredentials),r=new HU(this.gE,nn.KT),h=new dW(this.gE,n),o=new St(i.ket,i.Let,i.bet,i.xet),a=function(t,i,e,s,n){return new n4(i,t,e,s,n)}(this.gE,o,i,t.o,e),u=new hn,c=new AW(wW(h,o),u,t);return this.I2t(t,i,c,u,r,a,e)}constructor(t){this.gE=t}},o4=class extends h4{I2t(t,i,e,s,n,r,h){return new F1(t,i,e,s,n,r,h,DU())}},a4=o4;!function(t){t[t.NOT_INITIALISED=0]="NOT_INITIALISED",t[t.S2t=1]="S2t",t[t.E2t=2]="E2t",t[t.Tv=3]="Tv",t[t.Dv=4]="Dv",t[t.b2t=5]="b2t"}(r4||(r4={}));var u4=class i extends H${get pHt(){return this}static get vHt(){return sh.sGt}get vHt(){return i.vHt}a$t(t,i,e){i===ds.a7&&this.q4?W(this.pXt([t])):this.L2t.push(t)}z_(){return this.k2t.R0t?this.k2t.j_:this.k9()}P_(t){}Td(){return this.k2t.ct}U_(){return this.k2t.R_}Q_(){}Y_(){}K_(){return this.k2t.Z_}J_(t){this.Z_!==t&&(this.k2t.Z_=t,this.Co(new Oe(this.j_,this.xg)))}og(){return this.k2t.hg}pg(){return this.k2t.vg}Mg(){return Ki.lR().ks()}Sg(){return this.k2t.Ig}Cg(){return this.k2t.Lg}Og(){return this.k2t.xg}jg(t){this.xg!==t&&(this.k2t.xg=t,this.Co(new Oe(this.j_,this.xg)))}async Vg(){if(this.C2t)return;this.Co(new fh(this.j_)),this.x2t(),this.L2t.length&&(this.C2t=this.pXt(this.L2t),await this.C2t,this.C2t=void 0),await this.O2t.g0t(this.Qo.z_());const t=this.j2t;4!==t&&1!==t&&5!==t||(!this.xGt&&this.z2t.length?this.P2t():this.xGt?(this.B2t=!0,this.k2t.Vg()):(this.VWt(),this.Qo.Vg()),this.j2t=3)}Gg(){3===this.j2t&&(this.k2t.Gg(),this.j2t=4)}s0t(){this.O2t.s0t()}Cn(){this.j2t=1,this.O2t.Cn()}async Wg(){this.O2t&&(this.O2t.jn(),this.R2t(!1),this.g1t.Wg(),this.j2t=5,this.xGt&&(this.O2t.N0t(this.xGt.WQt),this.xGt=void 0)),this.q4=!1,this.B2t=!1,Ri(this.z2t),this.CHt&&(this.VWt(),this.Qo.ge()),Ri(this.L2t),await this.k2t.Wg(),await this.Q0t.Zn()}Yp(){this.k2t.nYt(),this.g1t.nYt()}Yg(){this.Q0t.Yg(),this.x2t()}DHt(i){return!(i.type!==t.kA||!this.O2t||!this.O2t.d0t(-1))&&(this.O2t.c0t().then(fg),!0)}ge(){void 0!==this.k2t.F0t&&(this.Q0t.ge(),this.k2t.ge()),void 0!==this.g1t.p1t&&this.g1t.ge()}be(){this.Q0t.be(),this.k2t.be(),this.g1t.be()}async pXt(t){const i=await i1.j1t(t,this.gE,this.MHt);if(!i.length){const t="Ads could not be loaded.";return this.MHt.Co(xa.SHt(new hi(Je.ADBLOCK,Zr.FILE_NOT_FOUND),t)),void(this.q4&&!this.xGt&&0===this.z2t.length&&this.U2t())}this.O2t.M0t(i),this.MHt.Co(new vn),this.CHt||this.Qo.hg||this.O2t.g0t(this.Qo.z_()),0!==this.j2t&&5!==this.j2t||this.Cn()}m0t(t){this.z2t.push(...t);for(const i of t)this.q4&&!this.CHt&&this.P2t()}async P2t(){if(2!==this.j2t&&!this.Q2t){0,this.Q2t=!0,this.j2t=2;const t=this.xGt;this.F2t(),this.xGt?(await this.xGt.WQt.$$t(this.MHt),this.Y2t()||(this.Q2t=!1),this.MHt.Co(new $0(this.G2t(this.xGt))),await this.V2t()):((null==t?void 0:t.WQt.t0t())&&this.MHt.Co(new Nh(this.G2t(t))),this.Q2t=!1,this.j2t=1,this.U2t())}}U2t(){this.VWt(),this.Qo.ge(),this.Qo.R_?this.Qo.Co(new ys(this.Qo.z_())):this.Qo.Vg()}F2t(){let t;if(this.xGt&&this.Y2t())t=this.xGt.WQt;else{if(0===this.z2t.length)return;t=this.z2t.shift()}if(!t)return;const i=t.Mc();i?this.xGt=i:(this.xGt&&(this.O2t.N0t(this.xGt.WQt),this.xGt=void 0),this.xGt=void 0)}async V2t(){const t=this.xGt?function(t){var i,e;const s=null==(e=t.yFt)||null==(i=e.KBt)?void 0:i.JBt();return void 0===s?void 0:new KJ(s)}(this.xGt):void 0;if(t){if(!this.xGt)return;this.W2t=t,this.H2t(this.xGt.pRt),this.q2t(Xn.cQt);const i=this.W2t.Mc();this.xGt.WQt.t0t()&&(this.g1t.H0t(),1===this.xGt.WQt.qht&&this.MHt.Co(new pa(this.G2t(this.xGt)))),await this.e1t(i)}else this.j2t=1,this.Q2t=!1,this.xGt=void 0,this.P2t()}async e1t(t){if(t){var i;let s=li(t.fRt),n=li(t.wRt);var e;const r=null!=(e=null==(i=t.gRt)?void 0:i.URt)?e:[],h=r.length>0,o=this.xGt,a=this.G2t(o);if(t.fRt){if(t.fRt.Xl=o,void 0!==o.T7.skipOffset){const i=js.wFt(o.T7.skipOffset,t.fRt.ct);i&&i<t.fRt.ct&&(t.fRt.PUt=i)}const i=a._Gt(t.fRt,r,t.ARt,o.T7);this.g1t.H0t(),this.VHt(),await this.k2t.e1t(i,t.lt,{width:this.Qo.we.offsetWidth,height:this.Qo.we.offsetHeight}),s=!0}if(t.wRt){const i=t.wRt.vRt[0];if(i.Xl=o,void 0!==o.T7.skipOffset){const t=js.wFt(o.T7.skipOffset,this.Qo.Td());t&&(i.Xl.PUt=t)}const e=s?[]:r,h=a.gGt(i,e,t.wRt,t.ARt,o.T7);s&&this.k2t.A1t(),await this.g1t.e1t(h,t.lt,{width:this.Qo.we.offsetWidth,height:this.Qo.we.offsetHeight}),n=!0}if(s){this.j2t=3,this.k2t.ge();const t=0===a.yEt;this.B2t=t,this.Q0t.Gg(),this.k2t.Vg(),this.Qo.Gg(),this.Qo.be(),this.VHt(),this.k2t.l1t()}n&&(this.j2t=3,this.g1t.ge(),this.g1t.l1t()),(s||n||h)&&this.X2t(t.cRt),s||n||await this.Z2t(),!s&&n&&(this.Y2t()||this.z2t.length>0?this.P2t():(this.U2t(),this.xGt=o))}else null===t?await this.Z2t():this.R2t(!0)}Z2t(){const t=this.W2t;return this.e1t(t&&t.Mc())}R2t(t){this.q2t(Xn.lQt),this.K2t(),this.j2t=1;const i=void 0!==this.xGt&&this.xGt.WQt.K$t();if(this.Q2t=!1,i)t&&(this.j2t=1,this.P2t());else{if(!this.CHt)return;this.Qo.ge(),!this.Qo.R_&&t&&this.Qo.Vg(),this.VWt()}}VWt(){this.J2t(),super.VWt()}J2t(){this.Qo.R_&&(this.j2t=5),this.xGt&&(this.xGt.WQt.t0t()&&this.MHt.Co(new Nh(this.G2t(this.xGt))),this.O2t.N0t(this.xGt.WQt),this.xGt=void 0)}H2t(t){this.$2t=this.$2t.concat(t)}K2t(){this.$2t=[]}t3t(t){this.Qo.we.appendChild(t)}q2t(t){for(const i of this.$2t)i.uQ===t&&wr(i.eventURL)}X2t(t){this.k2t.O0t(Xn.sQt);for(const i of t)wr(i)}get r7(){return this.xGt?this.G2t(this.xGt):null}get s7(){return this.xGt?[this.k2t.F0t,this.g1t.p1t].filter(li):[]}get h7(){const t=this.z2t.concat(this.O2t.h7.filter((t=>!t.mGt())));return Eh(t,(t=>t.V$t.Oc.filter((t=>!t.mGt()))))}get o7(){return this.O2t.h7.map((t=>t.V$t))}p7(t){const i=this.c$t();for(const e of i)bK(e.sources,e.timeOffset)||t.N1(e,ds.a7,!1)}c$t(){const t=[];for(const i of this.s7.concat(this.h7))t.push(i.T7);const i=this.z2t.concat(this.O2t.h7.filter((t=>!t.mGt())));for(const e of i)for(const i of e.fGt)i.W||t.push(i.T7);return t.push(...this.L2t),sg(t)}Y2t(){return!!this.xGt&&JJ(this.xGt).some((t=>t.fRt))}G2t(t){return t.WQt.V$t}x1t(){return this.i3t}Ug(){return this.Q0t.Ug()}E_(){return this.Q0t.E_()}zHt(t){this.O2t.zHt(t)}async gn(){await super.gn(),this.Qo.fn(t.jh,this.x2t),this.MHt.jR(this.k2t.MHt),this.MHt.jR(this.g1t.MHt),this.MHt.jR(this.O2t),this.k2t.gn(),this.g1t.gn(),await this.Q0t.gn()}constructor(i,e,s,n,r,h){super(i,e),this.z2t=[],this.j2t=0,this.$2t=[],this.Q2t=!1,this.q4=!1,this.B2t=!0,this.L2t=[],this.e3t=i=>{i.type===t.jh&&this.B2t?this.B2t=!1:this.Co(i)},this.x2t=()=>{this.q4=!0},this.s3t=async()=>(this.j2t=1,await this.k2t.H0t(),this.e1t(this.W2t.Mc())),this.n3t=async t=>{const i=new hi(Je.PLAYBACK,Zr.GENERAL_LINEAR_ERROR,"There was a problem playing a linear ad.");return this.MHt.Co(xa.SHt(i,t)),await this.k2t.H0t(),this.e1t(this.W2t.Mc())},this.r3t=()=>(this.g1t.H0t(),this.e1t(this.W2t.Mc())),this.h3t=t=>{const i=new hi(Je.PLAYBACK,Zr.GENERAL_NON_LINEAR_ERROR,"There was a problem playing a non linear ad.");return this.MHt.Co(xa.SHt(i,t)),this.g1t.H0t(),this.e1t(this.W2t.Mc())},this.gE=h,this.Q0t=s,this.g1t=new J0(this.h3t,this.r3t,this),this.k2t=new Z0(this.n3t,this.s3t,this.g1t,n,this,i.Iu,s),this.t3t(this.g1t.I0t),this.t3t(this.k2t.I0t);const o=new i4(n,h,o4,r);this.O2t=new Q0(this.Qo,this,this.MHt,o),this.k2t.m_(this.e3t),this.g1t.m_(this.Ds),this.MHt.Qa(this.k2t.MHt),this.MHt.Qa(this.g1t.MHt),this.MHt.Qa(this.O2t),this.i3t=new Tc(this,this.Qo),this.Iu.yn(_r.pn,this.Ds),this.Qo.yn(t.jh,this.x2t)}};Zo.gL.$R(new class{get _Ht(){return u4.vHt}JR(t){return t&&("string"!=typeof t.integration||t.integration===uS.DEFAULT||t.integration===uS.THEO)}gHt(t,i,e){const s=new et(t.we,e,t.tj,t.y9,t.S9,t.Ol);return new u4(t,i,s,e,t.y9,t.tj)}N1(t,i,e,s){e.a$t(t,i,s)}_F(t){const i=DJ(t.sources);if(!i)return;const e={integration:uS.THEO,sources:i};"vast"===e.sources.type&&void 0===t.timeOffset?t.timeOffset=0:"vmap"===e.sources.type&&void 0!==t.timeOffset&&Bi("property timeOffset will be ignored for vmap ad sources");const s=uh(t.timeOffset);void 0!==s&&(e.timeOffset=s);const n=uh(t.skipOffset);return void 0!==n&&(e.skipOffset=n),e}}),r(),r();var c4=class{iW(){var t;this.Y1||(null==(t=this.S$t)||t.initialize(),this.Y1=!0)}get I0t(){return this.RVt}get o3t(){return this.a3t.offsetHeight}get u3t(){return this.a3t.offsetWidth}get c3t(){return this.S$t}l3t(t){"linear"===t?this.RVt.style.marginTop="0px":"nonlinear"===t&&(this.RVt.style.marginTop="-45px")}ge(){this.RVt.style.opacity="1",this.RVt.style.pointerEvents=""}be(){this.RVt.style.opacity="0",this.RVt.style.pointerEvents="none"}e_(){var t;null==(t=this.S$t)||t.destroy(),this.S$t=void 0}constructor(t,i){this.S$t=void 0,this.Y1=!1,this.b8=t;const e=h.createElement("div");e.className="theoplayer-ima-wrapper",ta(e),e.style.zIndex="10",Zt.Qs&&function(t,i){t.addEventListener(i,KN)}(e,"mousedown"),i.appendChild(e);const s=h.createElement("div");s.className="theoplayer-ima",s.style.height="100%",this.a3t=s,e.appendChild(s),this.RVt=e,this.S$t=new google.ima.AdDisplayContainer(this.a3t,this.b8)}};r(),r(),r();var l4=class{get DUt(){return this.d3t.getAdId()}get bKt(){const t=this.d3t.getAdPodInfo();if(void 0!==t)try{return{kXt:t.getAdPosition(),uGt:t.getMaxDuration(),f3t:t.getPodIndex(),yEt:t.getTimeOffset(),CXt:t.getTotalAds(),_3t:t.getIsBumper()}}catch(t){return}}get hRt(){return this.d3t.getAdSystem()}get g3t(){return this.d3t.getAdvertiserName()}get ZRt(){var t;return null!=(t=this.d3t.getApiFramework())?t:void 0}get gRt(){return this.QRt.map((t=>({JRt:t.getAdSlotId(),LP:t.getContentType(),O:t.getContent(),Ti:t.getHeight(),ji:t.getWidth()})))}get LP(){var t;return null!=(t=this.d3t.getContentType())?t:void 0}get kRt(){return this.d3t.getCreativeId()}get xJt(){return this.d3t.getCreativeAdId()}get w3t(){return this.d3t.getDealId()}get nM(){return this.d3t.getDescription()}get ct(){return this.d3t.getDuration()}get ji(){return this.d3t.getWidth()}get Ti(){return this.d3t.getHeight()}get EJt(){var t;return null!=(t=this.d3t.getMediaUrl())?t:void 0}get A3t(){return this.d3t.getMinSuggestedDuration()}get kJt(){return this.d3t.getSkipTimeOffset()}get v3t(){return this.d3t.getSurveyUrl()}get OP(){return this.d3t.getTitle()}get bJt(){return this.d3t.getTraffickingParameters()}get LJt(){return this.d3t.getTraffickingParametersString()}get ARt(){return this.d3t.getUniversalAdIds().map((t=>({jJt:t.getAdIdRegistry(),zJt:t.getAdIdValue()})))}get j$t(){return this.d3t.getUiElements()}get CJt(){return this.d3t.getVastMediaBitrate()}get IJt(){return this.d3t.getVastMediaHeight()}get DJt(){return this.d3t.getVastMediaWidth()}get yJt(){return this.d3t.getWrapperAdIds()}get MJt(){return this.d3t.getWrapperAdSystems()}get TJt(){return this.d3t.getWrapperCreativeIds()}get yKt(){return this.d3t.isLinear()}constructor(t){this.d3t=t;const i=new google.ima.CompanionAdSelectionSettings;i.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.ALL,i.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.ALL,i.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,this.QRt=t.getCompanionAds(0,0,i)}};function d4(){return[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED]}var f4=class extends i{jg(t){var i;null==(i=this.dGt)||i.setVolume(t)}Og(){return this.dGt.getVolume()}GKt(){return this.dGt.getRemainingTime()}e_(){Ri(this.Ic),this.Wu.fn(_r.pn,this.m3t),this.dGt.removeEventListener(google.ima.AdEvent.Type.LOADED,this.p3t),this.dGt.removeEventListener(d4(),this.forwardAdEventListener),this.dGt.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.forwardAdErrorEventListener),this.dGt.destroy()}Cn(){this.dGt.start()}T$t(){this.dGt.resume()}Gg(){this.dGt.pause()}Yp(){this.dGt.skip()}Wg(){this.dGt.stop()}IKt(){const t=this.dGt.getCurrentAd();if(t)return this.y3t(t)}b$t(){return this.dGt.getCuePoints()}y3t(t){let i=p(this.Ic,(i=>i.d3t===t));return i||(i=new l4(t),this.Ic.push(i)),i}R$t(t){this.dGt.updateAdsRenderingSettings(w4(t))}constructor(t,i,e){super(),this.Ic=[],this.p3t=t=>{t.getAd().isLinear()?this.S$t.l3t("linear"):this.S$t.l3t("nonlinear")},this.m3t=()=>{this.dGt.resize(this.S$t.u3t,this.S$t.o3t,google.ima.ViewMode.NORMAL)},this.forwardAdEventListener=t=>{const i=t.getAd(),e=function(t){return{[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED]:To.PXt,[google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED]:To.BXt,[google.ima.AdEvent.Type.CLICK]:To.RXt,[google.ima.AdEvent.Type.DURATION_CHANGE]:To.EA,[google.ima.AdEvent.Type.EXPANDED_CHANGED]:To.UXt,[google.ima.AdEvent.Type.STARTED]:To.QXt,[google.ima.AdEvent.Type.IMPRESSION]:To.FXt,[google.ima.AdEvent.Type.PAUSED]:To.Dv,[google.ima.AdEvent.Type.RESUMED]:To.YXt,[google.ima.AdEvent.Type.AD_PROGRESS]:To.bXt,[google.ima.AdEvent.Type.AD_BUFFERING]:To.GXt,[google.ima.AdEvent.Type.FIRST_QUARTILE]:To.VXt,[google.ima.AdEvent.Type.MIDPOINT]:To.KUt,[google.ima.AdEvent.Type.THIRD_QUARTILE]:To.WXt,[google.ima.AdEvent.Type.COMPLETE]:To.JUt,[google.ima.AdEvent.Type.USER_CLOSE]:To.HXt,[google.ima.AdEvent.Type.LINEAR_CHANGED]:To.qXt,[google.ima.AdEvent.Type.LOADED]:To.XXt,[google.ima.AdEvent.Type.AD_CAN_PLAY]:To.ZXt,[google.ima.AdEvent.Type.AD_METADATA]:To.KXt,[google.ima.AdEvent.Type.AD_BREAK_READY]:To.JXt,[google.ima.AdEvent.Type.INTERACTION]:To.$Xt,[google.ima.AdEvent.Type.ALL_ADS_COMPLETED]:To.tZt,[google.ima.AdEvent.Type.SKIPPED]:To.iZt,[google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED]:To.eZt,[google.ima.AdEvent.Type.LOG]:To.sZt,[google.ima.AdEvent.Type.VIEWABLE_IMPRESSION]:To.nZt,[google.ima.AdEvent.Type.VOLUME_CHANGED]:To.rZt,[google.ima.AdEvent.Type.VOLUME_MUTED]:To.hZt}[t]}(t.type),s={type:e,date:new Date,f7:i?this.y3t(i):void 0,dKt:t0(e,t.getAdData())};this.Co(s)},this.forwardAdErrorEventListener=t=>{this.Co({date:new Date,f7:void 0,type:Ec.oZt,dKt:{qKt:s0(t.getError())}})},this.dGt=t,this.S$t=i,this.Wu=e,this.Wu.yn(_r.pn,this.m3t),this.dGt.init(this.S$t.u3t,this.S$t.o3t,google.ima.ViewMode.NORMAL),this.dGt.addEventListener(google.ima.AdEvent.Type.LOADED,this.p3t),this.dGt.addEventListener(d4(),this.forwardAdEventListener),this.dGt.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.forwardAdErrorEventListener)}};r();var _4=class extends z{get M3t(){return this.T3t}get I0t(){return this.RVt}fa(){return this}constructor(t,i){super("F$t"),this.T3t=t,this.RVt=i}},g4=class extends i{N$t(){var t;null==(t=this.D$t)||t.contentComplete()}async pXt(t,i,e){if(this.N3t)throw new b("Only one ImaAdsRequest can be made at a time.");if(!this.D3t.c3t)throw new b("AdDisplayContainer is not initialized.");this.D$t=new google.ima.AdsLoader(this.D3t.c3t),this.D$t.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.D$t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.N3t=new Eo,this.I3t=i,this.S3t=e;const s=new google.ima.AdsRequest;return t.kqt?s.adTagUrl=t.kqt:t.Cqt&&(s.adsResponse=t.Cqt),s.linearAdSlotWidth=t.Dqt,s.linearAdSlotHeight=t.Iqt,s.nonLinearAdSlotWidth=t.Sqt,s.nonLinearAdSlotHeight=t.Eqt,s.setAdWillAutoPlay(t.bqt),s.setAdWillPlayMuted(t.Lqt),t.xqt&&(s.omidAccessModeRules=t.xqt),this.D$t.requestAds(s),this.N3t.PL}e_(){var t;void 0!==this.D$t&&(this.D$t.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.D$t.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.D$t.destroy(),this.D$t=void 0),null==(t=this.N3t)||t.zL("AdsLoader destroyed"),this.N3t=void 0}constructor(t,i){super(),this.onAdsManagerLoadedListener=t=>{if(this.I3t&&this.S3t&&this.N3t){var i;const e=w4(this.S3t),s=this.I3t,n=t.getAdsManager({get currentTime(){return s.j_},get duration(){return s.ct}},e),r=new f4(n,this.D3t,this.Wu);this.Co(new _4(n,this.D3t.I0t)),null==(i=this.N3t)||i.jL(r),this.N3t=void 0}},this.onAdsManagerErrorListener=t=>{var i;const e={TL:t.getError().getMessage(),jXt:t.getError().getVastErrorCode(),bQt:t.getError().getErrorCode(),hA:i0(t.getError().getType()),zXt:void 0};null==(i=this.N3t)||i.zL(e),this.N3t=void 0},this.Wu=i,this.D3t=t}};function w4(t){const i=new google.ima.AdsRenderingSettings;return i.enablePreloading=t.z$t,t.j$t&&(i.uiElements=t.j$t),i.mimeTypes=t.O$t,void 0!==t.B$t&&(i.playAdsAfterTime=t.B$t),void 0!==t.P$t&&(i.loadVideoTimeout=t.P$t),void 0!==t.SJt&&(i.bitrate=t.SJt),void 0!==t.B$t&&(i.playAdsAfterTime=t.B$t),i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i}r();var A4=class extends i{get j_(){return this.Qo.Tg?this.E3t:this.Qo.z_()}get ct(){return this.Qo.Td()}get Z_(){return this.Qo.Z_}get xg(){return this.Qo.xg}Zn(){this.E3t=0}constructor(i){super(),this.Qo=i,this.E3t=this.Qo.z_(),this.Qo.yn(t.ov,(()=>{this.Qo.Tg||(this.E3t=this.Qo.z_()),this.Co(new jc(this.j_,void 0))}))}};j0.gL.registerWebImaAdPlayerConstructor((function(t,i,e){C0(e);const s=x0(e)?t.Ug():void 0,n=new c4(s,t.we),r=new g4(n,t.Iu),h=new A4(t);return new O0(t,i,e,t.N9,n,r,h)})),r(),r(),r(),r(),r();var v4=class extends i{get BW(){return this.Pct===Dr.CONNECTED}get Pct(){return this.ja}get va(){return this.Xa||(this.Xa=function(t){return{get casting(){return t.BW},get state(){return t.Pct},start(){t.qg()},stop(){t.Xg()},addEventListener(i,e){const s=As(i,Oa);t.yn(s,e)},removeEventListener(i,e){const s=As(i,Oa);t.fn(s,e)}}}(this)),this.Xa}b3t(){this.L3t(),this.K_t.yn(t.lo,this.k3t),lg.Ys.ctt&&this.Ta(Dr.AVAILABLE)}preloadPlayer(t){if(Pi(t),this.Qo.vg<Os.Gn){const i=this.Qo.D_(er.yv,t);return this.Qo.gg=tt.Mp,i}return Promise.resolve()}Ta(t){t!==this.ja&&(this.ja=t,this.Co(new L$(this.ja)))}async C3t(t){await this.preloadPlayer(t),this.WV.qg()}Xg(){lg.Ys.ctt&&this.Qo.Xg()}gn(){this.Vo(),this.K_t.fn(t.lo,this.k3t),this.x3t.c_()}constructor(t,i){super(),this.Xa=void 0,this.ja=Dr.UNAVAILABLE,this.x3t=new xs,this.handleAirplayChangedEvent=()=>{this.Qo&&this.Qo.W_?this.O3t():this.Pct===Dr.CONNECTED&&this.j3t()},this.K_t=t,this.WV=i}},m4=class extends v4{L3t(){this.Qo&&this.Qo.fn(t.pA,this.handleAirplayChangedEvent),this.z3t?this.Qo=this.WV:this.Qo=this.P3t,this.Qo.yn(t.pA,this.handleAirplayChangedEvent)}get z3t(){return this.WV.Hg()}async O3t(){if(this.Qo){if(this.z3t){if(!this.Qo.hg){const i=new Promise((t=>u(t,800))),e=this.Qo.D_(t.Sh,this.x3t.a_);await Promise.race([e,i])}this.Qo.Vg()}else{this.B3t=this.WV.j_,this.R3t=this.WV.k_,this.P3t.yn(t.ov,this.handleAirplayPlayerTimeUpdate),this.U3t=this.WV.Pw,this.WV.Pw=this.P3t,this.U3t.Gg(),this.U3t.be(),this.P3t.ge(),this.P3t.Z_=this.U3t.Z_,this.P3t.ag=this.U3t.ag,this.P3t.xg=this.U3t.xg;const i=this.P3t.D_(t.XA);this.P3t.j_=this.U3t.j_,await i,this.P3t.Vg(),this.P3t.Z_=this.U3t.Z_,this.P3t.ag=this.U3t.ag,this.P3t.xg=this.U3t.xg}this.Ta(Dr.CONNECTED)}}j3t(){if(this.U3t){this.P3t.fn(t.ov,this.handleAirplayPlayerTimeUpdate),this.U3t.Z_=this.P3t.Z_,this.U3t.ag=this.P3t.ag,this.U3t.xg=this.P3t.xg;Zt.Fb&&!Zt.Ga&&this.WV.ct===1/0?this.R3t?this.U3t.k_=this.R3t:this.U3t.j_=1/0:this.U3t.j_=this.B3t,this.R3t=void 0,this.B3t=void 0,this.U3t.ge(),this.P3t.be(),this.P3t.hg||this.U3t.Vg(),this.WV.Pw=this.U3t,this.P3t.Zn(),this.U3t=void 0}else this.Qo&&(this.Qo.j_=this.Qo.j_+1e-4);this.Ta(Dr.AVAILABLE)}qg(){lg.Ys.ctt&&(this.K_t.Yg(),this.x3t.c_(),this.x3t=new xs,this.z3t?W(this.C3t(this.x3t.a_)):W(this.Q3t(this.x3t.a_)))}async Q3t(t){try{await this.P3t.Zn();const i=this.WV.Wa();if(void 0===i)throw new b("Not possible to start Airplay without a source");await this.P3t.ga(i,t);const e=this.P3t.D_(er.Tv,t);this.P3t.Vg(),await function(t,i){return gg((e=>Promise.race([t,ws(i,e).then((()=>{throw new b("Timeout")}))])))}(e,3e3),this.P3t.Gg(),Pi(t),this.P3t.qg()}catch(t){if(So(t))return;0}}gn(){var t;super.gn(),this.WV.wN(this.P3t),null==(t=this.P3t)||t.gn()}constructor(t,i,e){super(t,i),this.k3t=()=>{var t;const i=null==(t=this.WV.Wa())?void 0:t.sources.filter(Gv);lg.Ys.ctt&&(null==i?void 0:i.some(zI))?this.Ta(Dr.AVAILABLE):this.Ta(Dr.UNAVAILABLE)},this.handleAirplayPlayerTimeUpdate=t=>{this.B3t=t.currentTime,this.R3t=this.WV.k_},this.P3t=e,this.P3t.be(),i.gN(e),this.b3t()}};r();var Es,p4=class extends ra{Kg(){this.F3t.Kg()}get ht(){return this.F3t.ht}get b_(){return this.F3t.b_}get bt(){return this.IB}get j_(){return this.F3t.j_}set j_(t){this.F3t.j_=t}get k_(){return this.F3t.k_}get ct(){return this.F3t.ct}get we(){return this.Us}get R_(){return this.F3t.R_}get lt(){return this.F3t.lt}get F_(){return this.F3t.F_}get G_(){return this.F3t.G_}get W_(){return this.F3t.W_}get Bg(){return this.F3t.Bg}get zg(){return this.F3t.zg}get q_(){return this.F3t.q_}get Z_(){return this.F3t.Z_}set Z_(t){this.F3t.Z_=t}get eg(){return this.F3t.eg}get hg(){return this.F3t.hg}get ag(){return this.F3t.ag}set ag(t){this.F3t.ag=t}get fg(){return this.F3t.fg}get gg(){return this.F3t.gg}set gg(t){this.F3t.gg=t}get vg(){return this.F3t.vg}get yg(){return this.F3t.yg}get Tg(){return this.F3t.Tg}Hg(){return this.F3t.Hg()}qg(){this.F3t.qg()}Xg(){this.F3t.Xg()}get nt(){return this.F3t.nt}get Ig(){return this.F3t.Ig}get Lg(){return this.F3t.Lg}get rt(){return this.F3t.rt}get xg(){return this.F3t.xg}set xg(t){this.F3t.xg=t}Vg(){W(this.F3t.Vg())}Gg(){this.F3t.Gg()}async Wg(){}Wa(){return this.bc}async ga(t,i){let e;if(Pi(i),this.bc=t,Rv(t.sources))e=Ca({src:""});else{const i=t.sources.filter(Gv);for(const t of i)if(zI(t)){e=t;break}}if(!e)throw new b("Unsupported source.");await this.F3t.ga(e,t,i),this.OB(e)}OB(t){this.IB!==t&&(this.IB=t,this.Co(new M(t)))}Ug(){return this.F3t.Ug()}E_(){return[]}Yg(){this.Y3t.mR()}Qg(t){Jv(this,t)}Fg(){}Jg(t){return!1}Zg(){this.F3t.Zg()}async Zn(){this.IB=void 0,this.bc=void 0,await this.F3t.Zn()}ge(){this.F3t.ge()}be(){this.F3t.be()}Rg(){return this.F3t.Rg()}async gn(){this.Vo(),this.Y3t.gn(),await this.F3t.gn(),this.nN.gn(),this.hN.gn(),this.Dl.gn()}constructor(t,i,e,s,n,r){super(),this.IB=void 0,this.bc=void 0,this.nN=new we,this.hN=new we,this.Dl=new Yu,this.Us=t,this.Y3t=new Ry(n,r,1,[hv.vp]),this.Y3t.IR(t),this.F3t=new jI(t,this.Y3t,i,e,s),this.F3t.m_(this.Ds),this.nN.Pw=this.F3t.ht,this.hN.Pw=this.F3t.rt,this.Dl.Pw=this.F3t.nt}},y4=class extends O{async gn(){this.G3t.gn(),await super.gn()}constructor(i){super(i);const e=new p4(this.T9.we,this.tj,this.wd,this.y9,this.S9,this.Ol);this.G3t=new m4(this,this.T9,e),this.KQ.YW(this.G3t),this.yn(t.IA,(()=>{this.G3t.L3t()}))}};xj((t=>new y4(t)),tu.q9),r(),r(),r(),r(),function(t){t.RXt="click",t.V3t="continue",t.W3t="end",t.ha="error",t.Ah="fullscreen",t.Mp="metadata",t.UUt="mute",t.aFt="nonlinear",t.Sh="pause",t.mFt="position",t.H3t="ready",t.FUt="resume",t.q3t="seek_end",t.X3t="seek_start",t.Z3t="stall",t.hyt="start",t.Ru="text",t.K3t="linear_event"}(Es||(Es={}));var M4=class{J3t(t){this.$3t=t}t5t(t,i){let e;switch(t){case Es.RXt:e=this.i5t.CLICK;break;case Es.V3t:e=this.i5t.CONTINUE;break;case Es.W3t:e=this.i5t.END;break;case Es.ha:e=this.i5t.ERROR;break;case Es.Ah:e=this.i5t.FULLSCREEN;break;case Es.Mp:e=this.i5t.METADATA;break;case Es.UUt:e=this.i5t.MUTE;break;case Es.aFt:e=this.i5t.NONLINEAR;break;case Es.Sh:e=this.i5t.PAUSE;break;case Es.mFt:e=this.i5t.POSITION;break;case Es.H3t:e=this.i5t.READY;break;case Es.FUt:e=this.i5t.RESUME;break;case Es.q3t:e=this.i5t.SEEK_END;break;case Es.X3t:e=this.i5t.SEEK_START;break;case Es.Z3t:e=this.i5t.STALL;break;case Es.hyt:e=this.i5t.START;break;case Es.Ru:e=this.i5t.TEXT;break;case Es.K3t:e=this.i5t.LINEAR_EVENT}this.$3t.reportPlayerEvent(e,i)}constructor(t){this.i5t=t}};r(),r();var T4,N4=class{vE(t){t.yn(Cl.xN,this.e5t)}gn(){for(let t of this.s5t)this.it(t);this.W_t.fn(at.ew,this.fP)}it(t){if(t.zt===Oi.Mp){for(let i of t.L.xw)i.fn(Cl.xN,this.e5t);t.fn(ea.aw,this.Q1),t.fn(ea.cw,this.n5t)}}constructor(t,i){this.W_t=t,this.Bit=i,this.s5t=[],this.fP=t=>{const i=t.Lt;if(i.zt===Oi.Mp){for(let t of i.L.xw)this.r5t(t)&&this.vE(t);i.yn(ea.aw,this.Q1),i.yn(ea.cw,this.n5t),this.s5t.push(i)}},this.Q1=t=>{this.r5t(t.jN)&&this.vE(t.jN)},this.n5t=t=>{t.jN.fn(Cl.xN,this.e5t)},this.W_t.yn(at.ew,this.fP)}},D4=class extends N4{h5t(t){return Ho(this.o5t,t)}bY(t){var i;const e=function(t,i){if(!t||!i||i.U<=0)return[];const e=t.zN,s=i.xw,n=[];for(let i=iC(t)+1,r=s.length;i<r;i++){const r=s[i],h=r.O;if(e===r.zN&&I4(h)){if(r.O.id===t.O.id)break;n.push(r)}}return n}(t,null==(i=t.Lt)?void 0:i.L);this.a5t(e);const s=[t].concat(e);this.u5t(s)}a5t(t){this.o5t=this.o5t.concat(t)}u5t(t){let i={};for(let e of t){let t=e.O;i[t.id]=t.text}this.Bit.t5t(Es.Mp,i)}c5t(t){Et(this.o5t,t)}constructor(t,i){super(t,i),this.o5t=[],this.e5t=t=>{let i=t.jN;this.h5t(i)?this.c5t(i):this.bY(i)},this.r5t=t=>t.O.id&&I4(t.O)}};function I4(t){switch(t.id){case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return!0}return!1}r(),r(),function(t){t.zQt="linear",t.PQt="nonlinear"}(T4||(T4={}));var S4=class{constructor(t,i){this.hA=t,this.ZGt=i}},E4=class extends S4{get l5t(){return this.d5t}get qht(){return this.q7}constructor(t,i,e){super("nonlinear",t),this.d5t=i,this.q7=e}},b4=class extends S4{constructor(t){super("linear",t)}};r();var L4,k4="yospace",C4="urn:yospace:a:id3:2016";function x4(t){return Boolean(Pv(t)&&bg(t,["ssai"])&&function(t){return Boolean(bg(t,["integration"])&&t.integration===k4)}(t.ssai))}!function(t){t.S="S",t.M="M",t.E="E"}(L4||(L4={}));var O4=class{f5t(t){this._5t=t}g5t(){let t={AdBreakStart:()=>{this._5t&&this._5t.AdBreakStart&&this._5t.AdBreakStart()},AdvertStart:t=>{this.w5t(),this._5t&&this._5t.AdvertStart&&this._5t.AdvertStart(t)},AdvertEnd:t=>{this.v5t.A5t(),this._5t&&this._5t.AdvertEnd&&this._5t.AdvertEnd(t)},AdBreakEnd:()=>{this.v5t.A5t(),this._5t&&this._5t.AdBreakEnd&&this._5t.AdBreakEnd()},UpdateTimeline:t=>{this._5t&&this._5t.UpdateTimeline&&this._5t.UpdateTimeline(t)},InjectVast:()=>{this._5t&&this._5t.InjectVast&&this._5t.InjectVast()}};this.$3t.registerPlayer(t)}gn(){this.v5t.gn(),this.$3t=void 0,this.m5t&&(m(this.m5t),this.m5t=void 0)}constructor(t,i){this.$3t=t,this.v5t=i,this.w5t=()=>{if(this.m5t&&(m(this.m5t),this.m5t=void 0),this.$3t.session.currentAdvert){let t=this.$3t.session.currentAdvert.advert,i=t.getLinear(),e=t.getNonLinears();const s=[];i&&i.clickThrough&&s.push(new b4(i.clickThrough));const n=e.filter((t=>{const i=t.resources.images||{};return 0!==_.keys(i).length}));if(n.length){const t=function(t){const i=_.keys(t.resources.images);return t.resources.images[i[0]]}(n[0]);t&&s.push(new E4(n[0].clickThrough,t,String(e.indexOf(n[0]))))}this.v5t.p5t(s)}else this.m5t=v(this.w5t,250)},this.g5t()}};r();var j4=class t{p5t(t){for(let i of t)i.hA===T4.zQt?this.y5t(i):this.M5t(i)}M5t(i){let e=h.createElement("img");e.src=i.l5t,e.className="theoplayer-yospace-non-linear-image",e.style.maxWidth="100%";const s=t.K0t(i.ZGt,"theoplayer-yospace-advert"),n=lg.Ys.Je?"touchend":"click";s.addEventListener(n,this.T5t),s.setAttribute("data-advertindex",i.qht),s.appendChild(e),s.style.zIndex="10",s.style.position="absolute",this.Us.appendChild(s),this.N5t.push(s)}D5t(){di(this.I5t),this.I5t=void 0}A5t(){this.D5t(),this.S5t()}y5t(i){this.D5t();let e=t.K0t(i.ZGt,"theoplayer-yospace-ad-clickthrough");e.style.zIndex="10";const s=lg.Ys.Je?"touchend":"click";e.addEventListener(s,this.E5t),ta(e),this.Us.appendChild(e),this.I5t=e}static K0t(t,i){const e=h.createElement("a");return e.setAttribute("href",t),e.setAttribute("target","Du"),i&&(e.className=i),e.setAttribute("rel","noopener"),e}gn(){this.A5t(),this.Us=void 0}constructor(t,i){this.Us=t,this.Bit=i,this.N5t=[],this.E5t=t=>{this.Bit.t5t(Es.RXt),t.stopPropagation()},this.T5t=t=>{const i=t.currentTarget.getAttribute("data-advertindex");i&&(this.Bit.t5t(Es.aFt,i),t.stopPropagation())},this.S5t=()=>{for(let t of this.N5t)t&&t.parentElement&&t.parentElement.removeChild(t);Ri(this.N5t)}}};r();var z4,P4,B4=class extends N4{u5t(t){this.Bit.t5t(Es.Mp,t)}constructor(t,i){super(t,i),this.e5t=t=>{const i=function(t){const i=Uh(t),e=i.split(","),s={};for(const t of e){const[i,e]=t.split("=");s[i]=e}return s}(t.jN.O);if(i.YTYP===L4.E){if(li(this.b5t)&&i.YMID!==this.b5t)return;this.b5t=void 0}else i.YTYP===L4.S&&(this.b5t=i.YMID);this.u5t(i)},this.r5t=t=>{const i=t;return li(i.IT)&&function(t){return t===C4}(i.IT)}}};!function(t){t[t.L5t=-1]="L5t",t[t.k5t=-2]="k5t",t[t.C5t=-3]="C5t",t[t.x5t=-10]="x5t",t[t.O5t=-11]="O5t"}(z4||(z4={})),function(t){t.j5t="ready",t.z5t="error",t.P5t="no-analytics"}(P4||(P4={}));var R4,U4=class extends i{get va(){return this.Xa}J3t(t,i){this.$3t=t,this.B5t=i,this.B5t.f5t(this.R5t),this.Co(new mg("sessionavailable"))}fa(){let t=this;return{get session(){return t.$3t&&t.$3t.session},registerPlayer(i){t.R5t=i,t.B5t&&t.B5t.f5t(t.R5t)},addEventListener(i,e){t.yn(i,e)},removeEventListener(i,e){t.fn(i,e)}}}gn(){this.Vo()}constructor(){super(),this.Xa=this.fa()}};!function(t){t[t.jh=0]="jh",t[t.Sh=1]="Sh"}(R4||(R4={}));var Q4=class{Gg(){this.U5t?this.Q5t=1:this.Qo.F5t()}Vg(){this.U5t?this.Q5t=0:this.Qo.Y5t()}get G5t(){return this.V5t}W5t(t){-11===t&&Bi("A connection has been established with the CSM, but the stream cannot be paused. This is only valid for Linear playback"),this.Qo.H5t(At({},this.bB,{sources:[At({},this.q5t,{src:this.$3t&&this.$3t.masterPlaylist(),type:this.q5t&&this.q5t.type})]})),this.X5t(),0===this.Q5t&&this.Qo.Y5t()}Z5t(t){let i;i=-11===t?"Yospace: A connection has been established with the CSM, but the stream cannot be paused. This is only valid for Linear playback":-2===t?"Yospace: The primary URL is not a valid SSAI stream":-10===t?"Yospace: The stream URL is not correctly formatted":-1===t?"Yospace: Connection error":-3===t?"Yospace: Connection timeout":"Yospace: Session could not be initialised",this.$3t&&(this.$3t.shutdown(),this.$3t=void 0),this.Qo.K5t(new ce(y_.SOURCE_INVALID,i))}ga(t){this.bB=t,this.J5t(),this.q5t=t?p(t.sources,x4):void 0;let i=!!Ys.YSSessionManager;if(this.q5t,this.q5t&&this.q5t.src&&i){this.U5t=!0;const t=Ys.YSSessionManager;let i;switch(this.q5t.ssai.streamType){case"vod":i=t.createForVoD;break;case"livepause":i=t.createForLivePause;break;case"nonlinear":i=t.createForNonLinear;break;default:i=t.createForLive}const e=i(this.q5t.src,{},this.$5t);if(this.t6t(e),!this.B5t)throw new b("An error occured while instantiating a YospaceSessionManager");this.V5t.J3t(e,this.B5t),this.i6t=this.startPositionPoller(),this.e6t=this.Qo.Z_}else this.U5t=!1,this.Qo.H5t(t)}t6t(t){this.$3t=t,this.Bit.J3t(this.$3t),this.s6t&&this.s6t.gn(),this.s6t=new D4(this.Qo.nt,this.Bit),this.n6t&&this.n6t.gn(),this.n6t=new B4(this.Qo.nt,this.Bit),this.B5t&&this.B5t.gn();const i=new j4(this.Qo.we,this.Bit);this.B5t=new O4(this.$3t,i)}J5t(){var i;this.Qo.fn("presentationmodechange",this.r6t),this.Qo.fn(t.uv,this.pWt),this.Qo.fn(t.jh,this.h6t),this.Qo.fn(t.jh,this.o6t),this.Qo.fn(t.kA,this.Mh),this.Qo.fn(t.Sh,this.yPt),this.Qo.fn(t.ZA,this.We),this.Qo.fn(t.XA,this.XP),this.Qo.fn(er.Mv,this.a6t),this.Qo.fn(er.Tv,this.KP),m(this.i6t),this.i6t=null,this.Q5t=1,this.U5t=!1,null==(i=this.$3t)||i.shutdown(),this.$3t=void 0}gn(){this.J5t(),this.G5t.gn()}constructor(i){this.Bit=new M4(Ys.YSPlayerEvents),this.U5t=!1,this.Q5t=1,this.V5t=new U4,this.u6t=!1,this.e6t=!1,this.$5t=(t,i)=>{if(!this.$3t)throw new b("An error occured while instantiating a YospaceSessionManager");if(this.U5t=!1,"ready"===t)this.W5t(i);else this.Z5t(i)},this.X5t=()=>{this.Qo.yn("presentationmodechange",this.r6t),this.Qo.yn(t.uv,this.pWt),this.Qo.yn(t.jh,this.h6t),this.Qo.yn(t.kA,this.Mh),this.Qo.yn(t.Sh,this.yPt),this.Qo.yn(t.ZA,this.We),this.Qo.yn(t.XA,this.XP),this.Qo.yn(er.Mv,this.a6t),this.Qo.yn(er.Tv,this.KP)},this.r6t=()=>{this.Bit.t5t(Es.Ah,this.Qo.cs())},this.pWt=()=>{const t=this.Qo.Z_;t!==this.e6t&&(this.e6t=t,this.Bit.t5t(Es.UUt,t))},this.h6t=()=>{this.Qo.fn(t.jh,this.h6t),this.Qo.yn(t.jh,this.o6t),this.Bit.t5t(Es.hyt)},this.o6t=()=>{this.Bit.t5t(Es.FUt)},this.Mh=()=>{this.Bit.t5t(Es.W3t)},this.yPt=()=>{this.Bit.t5t(Es.Sh)},this.We=()=>{this.Bit.t5t(Es.X3t)},this.XP=()=>{this.Bit.t5t(Es.q3t)},this.a6t=()=>{this.u6t=!0,this.Bit.t5t(Es.Z3t)},this.KP=()=>{this.u6t&&(this.Bit.t5t(Es.V3t),this.u6t=!1)},this.startPositionPoller=()=>{let t=-1;return v((()=>{let i=this.Qo.z_();i!==t&&(t=i,this.Bit.t5t(Es.mFt,i))}),250)},this.Qo=i}};ti((function(t){return class extends t{ga(t){this.BTt(),this.c6t.ga(t)}Vg(){this.c6t.Vg()}Gg(){this.c6t.Gg()}Y_(){var t;return null!=(t=this.MP)?t:super.Y_()}Q_(){var t;return null!=(t=this.yP)?t:super.Q_()}H5t(t){super.ga(t)}Y5t(){super.Vg()}F5t(){super.Gg()}K5t(t){this.MP=t,this.yP=Vs(this.MP),this.Co(new pe(this.MP))}fa(){let t=this.c6t.G5t;return _l(super.fa(),{get yospace(){return t.va}})}BTt(){this.yP=void 0,this.MP=void 0}gn(){this.c6t.gn(),super.gn()}constructor(t,i){super(t,i),this.yP=void 0,this.MP=void 0,this.c6t=new Q4(this)}}}),tu.H9),r(),r();var F4="VPAID";function Y4(t){return"spotx"===t.integration}Zo.gL.$R(new class t{get _Ht(){return this.l6t._Ht}JR(t){return Y4(t)}gHt(i,e,s){return s.ads||(s.ads=Fv({})),s.ads.vpaidMode=s.ads.vpaidMode||t.d6t(),this.l6t.gHt(i,e,s)}N1(i,e,s,n){!function(t){if(!Y4(t))throw new b("Unknown ad integration: "+t.integration)}(i);const r=t.f6t(i,s.we);this.l6t.N1(r,e,s,n)}_F(t){const i=Kr(t);return i.queryParameters||(i.queryParameters={}),i.custom&&(i.queryParameters.custom?Bi('"custom" parameter is redefined in queryParameters! Please use "queryParameters.custom" only!'):(i.queryParameters.custom=i.custom,delete i.custom)),i.app&&(i.queryParameters.app?Bi('"app" parameter is redefined in queryParameters! Please use "queryParameters.app" only!'):(i.queryParameters.app=i.app,delete i.app)),i.device&&(i.queryParameters.device?Bi('"device" parameter is redefined in queryParameters! Please use "queryParameters.device" only!'):(i.queryParameters.device=i.device,delete i.device)),i.user&&(i.queryParameters.user?Bi('"user" parameter is redefined in queryParameters! Please use "queryParameters.user" only!'):(i.queryParameters.user=i.user,delete i.user)),i.ipAddress&&(i.queryParameters.ip_addr?Bi('"ipAddress" parameter is redefined in queryParameters! Please use "queryParameters.ip_addr" or "ipAddress" only!'):(i.queryParameters.ip_addr=i.ipAddress,delete i.ipAddress)),i.maximumAdDuration&&(i.queryParameters.VMaxd?Bi('"maximumAdDuration" parameter is redefined in queryParameters! Please use "queryParameters.VMaxd" or "maximumAdDuration" only!'):(i.queryParameters.VMaxd=i.maximumAdDuration,delete i.maximumAdDuration)),i}static f6t(i,e){return{integration:uS.SPOTX,sources:{src:t._6t(i,Ys.location.href,e.offsetWidth,e.offsetHeight,Zt.oL)}}}static _6t(i,e,s,n,r){if(i.sources)return i.sources;let h=n,o=s;r&&0===o&&(o=320,h=180);const a={custom_skin:1,player_width:o,player_height:h};i.cacheBuster&&(a.cb=x.random()),t.g6t(e)&&(a.content_page_url=e);const u=At({},a,i.queryParameters);return u[F4]||u.VPI||(u[F4]="js"),"https://search.spotxchange.com/vast/2.0/"+i.id+"?"+t.w6t(u)}static g6t(t){return ew(t,"http://")||ew(t,"https://")}static w6t(t){return EJ(t)}static d6t(){return Zt.Lb?_a.ENABLED:_a.INSECURE}constructor(){this.l6t=new P0}}),r(),r(),r(),r();var lr=void 0!==s?s:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},G4=function(){return/Android/i.test(sd.userAgent)||/iPhone|iPad|iPod/i.test(sd.userAgent)},V4=function(t,i){for(var e=0,s=t.length;e<s;e++)i[e]=t[e]},W4=function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t},H4=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),_.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}(),q4=function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in _(t))return function(t,i){var e=[],s=!0,n=!1,r=void 0;try{for(var h,o=t[Symbol.iterator]();!(s=(h=o.next()).done)&&(e.push(h.value),!i||e.length!==i);s=!0);}catch(t){n=!0,r=t}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}return e}(t,i);throw new k("Invalid attempt to destructure non-iterable instance")},X4=function(t,i,e){return t+(i-t)*e},cl=function(){var t=/iPad|iPhone|iPod/.test(sd.platform);return function(){return t}}(),Z4=function(){var t=-1!==sd.userAgent.indexOf("Version")&&-1!==sd.userAgent.indexOf("Android")&&-1!==sd.userAgent.indexOf("Chrome");return function(){return t}}(),K4=(function(){var t=/^((?!chrome|android).)*safari/i.test(sd.userAgent)}(),function(){var t=-1!==sd.userAgent.indexOf("Firefox")&&-1!==sd.userAgent.indexOf("Android");return function(){return t}}()),J4=function(){var t=sd.userAgent.match(/.*Chrome\/([0-9]+)/),i=t?C(t[1],10):null;return function(){return i}}(),$4=function(){var t=!1;if(65===J4()){var i=sd.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(i){var e=i[1].split("."),s=q4(e,4),n=(s[0],s[1],s[2]),r=s[3];t=3325===C(n,10)&&C(r,10)<148}}return function(){return t}}(),t2=function(){var t=-1!==sd.userAgent.indexOf("R7 Build");return function(){return t}}(),i2=function(){var t=90==s.orientation||-90==s.orientation;return t2()?!t:t},e2=function(){return x.max(s.screen.width,s.screen.height)*s.devicePixelRatio},s2=function(){return x.min(s.screen.width,s.screen.height)*s.devicePixelRatio},n2=function(){if(h.exitFullscreen)h.exitFullscreen();else if(h.webkitExitFullscreen)h.webkitExitFullscreen();else if(h.mozCancelFullScreen)h.mozCancelFullScreen();else{if(!h.msExitFullscreen)return!1;h.msExitFullscreen()}return!0},r2=function(t,i,e,s){var n=t.createShader(t.VERTEX_SHADER);t.shaderSource(n,i),t.compileShader(n);var r=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(r,e),t.compileShader(r);var h=t.createProgram();for(var o in t.attachShader(h,n),t.attachShader(h,r),s)t.bindAttribLocation(h,s[o],o);return t.linkProgram(h),t.deleteShader(n),t.deleteShader(r),h},h2=function(t,i){for(var e={},s=t.getProgramParameter(i,t.ACTIVE_UNIFORMS),n="",r=0;r<s;r++){e[n=t.getActiveUniform(i,r).name.replace("[0]","")]=t.getUniformLocation(i,n)}return e},o2=function(){var t,i=!1;return t=sd.userAgent||sd.vendor||s.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(i=!0),i},a2=function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t},Wh=[],u2=function(t){if(cl()){c2(t);var i,e,n=t.style.width,r=t.style.height,h=t.offsetWidth+1,o=t.offsetHeight;t.style.width=h+"px",t.style.height=o+"px";var a=function(){s.cancelAnimationFrame(e);for(var h=0;h<Wh.length;h++)if(Wh[h]===i){t.style.width=n,t.style.height=r,Wh.splice(h,1);break}};i={j9:t,A6t:a},Wh.push(i),e=s.requestAnimationFrame(a)}},c2=function(t){if(cl())for(var i=0;i<Wh.length;i++)if(Wh[i].j9===t){Wh[i].A6t();break}},l2=function(){var t=x.PI/180,i=.25*x.PI;var e=new Float32Array([0,0,0,1]),s=new Float32Array([0,0,0]);function n(n,r,h,o,a,u){!function(e,s,n,r){var h=x.tan(s?s.upDegrees*t:i),o=x.tan(s?s.downDegrees*t:i),a=x.tan(s?s.leftDegrees*t:i),u=x.tan(s?s.rightDegrees*t:i),c=2/(a+u),l=2/(h+o);e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-(a-u)*c*.5,e[9]=(h-o)*l*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0}(n,o||null,u.depthNear,u.depthFar),function(t,i,e){var s=i[0],n=i[1],r=i[2],h=i[3],o=s+s,a=n+n,u=r+r,c=s*o,l=s*a,d=s*u,f=n*a,_=n*u,g=r*u,w=h*o,A=h*a,v=h*u;t[0]=1-(f+g),t[1]=l+v,t[2]=d-A,t[3]=0,t[4]=l-v,t[5]=1-(c+g),t[6]=_+w,t[7]=0,t[8]=d+A,t[9]=_-w,t[10]=1-(c+f),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1}(r,h.orientation||e,h.position||s),a&&function(t,i,e){var s,n,r,h,o,a,u,c,l,d,f,_,g=e[0],w=e[1],A=e[2];i===t?(t[12]=i[0]*g+i[4]*w+i[8]*A+i[12],t[13]=i[1]*g+i[5]*w+i[9]*A+i[13],t[14]=i[2]*g+i[6]*w+i[10]*A+i[14],t[15]=i[3]*g+i[7]*w+i[11]*A+i[15]):(s=i[0],n=i[1],r=i[2],h=i[3],o=i[4],a=i[5],u=i[6],c=i[7],l=i[8],d=i[9],f=i[10],_=i[11],t[0]=s,t[1]=n,t[2]=r,t[3]=h,t[4]=o,t[5]=a,t[6]=u,t[7]=c,t[8]=l,t[9]=d,t[10]=f,t[11]=_,t[12]=s*g+o*w+l*A+i[12],t[13]=n*g+a*w+d*A+i[13],t[14]=r*g+u*w+f*A+i[14],t[15]=h*g+c*w+_*A+i[15])}(r,r,a),function(t,i){var e=i[0],s=i[1],n=i[2],r=i[3],h=i[4],o=i[5],a=i[6],u=i[7],c=i[8],l=i[9],d=i[10],f=i[11],_=i[12],g=i[13],w=i[14],A=i[15],v=e*o-s*h,m=e*a-n*h,p=e*u-r*h,y=s*a-n*o,M=s*u-r*o,T=n*u-r*a,N=c*g-l*_,D=c*w-d*_,I=c*A-f*_,S=l*w-d*g,E=l*A-f*g,b=d*A-f*w,L=v*b-m*E+p*S+y*I-M*D+T*N;L&&(L=1/L,t[0]=(o*b-a*E+u*S)*L,t[1]=(n*E-s*b-r*S)*L,t[2]=(g*T-w*M+A*y)*L,t[3]=(d*M-l*T-f*y)*L,t[4]=(a*I-h*b-u*D)*L,t[5]=(e*b-n*I+r*D)*L,t[6]=(w*p-_*T-A*m)*L,t[7]=(c*T-d*p+f*m)*L,t[8]=(h*E-o*I+u*N)*L,t[9]=(s*I-e*E-r*N)*L,t[10]=(_*M-g*p+A*v)*L,t[11]=(l*p-c*M-f*v)*L,t[12]=(o*D-h*S-a*N)*L,t[13]=(e*S-s*D+n*N)*L,t[14]=(g*m-_*y-w*v)*L,t[15]=(c*y-l*m+d*v)*L)}(r,r)}return function(t,i,e){return!(!t||!i)&&(t.pose=i,t.timestamp=i.timestamp,n(t.leftProjectionMatrix,t.leftViewMatrix,i,e.v6t("left"),e.m6t("left"),e),n(t.rightProjectionMatrix,t.rightViewMatrix,i,e.v6t("right"),e.m6t("right"),e),!0)}}(),d2=function(t){var i,e=t.indexOf("://");i=-1!==e?e+3:0;var s=t.indexOf("/",i);return-1===s&&(s=t.length),t.substring(0,s)},f2=function(){var t={};return function(i,e){void 0===t[i]&&(console.warn("webvr-polyfill: "+e),t[i]=!0)}}(),Yr=function(t,i){f2(t,t+" has been deprecated. This may not work on native WebVR displays. "+(i?"Please use "+i+" instead.":""))};var _2=function(t,i,e){if(i){for(var s=[],n=null,r=0;r<i.length;++r){switch(h=i[r]){case t.TEXTURE_BINDING_2D:case t.TEXTURE_BINDING_CUBE_MAP:if((a=i[++r])<t.TEXTURE0||a>t.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),s.push(null,null);break}n||(n=t.getParameter(t.ACTIVE_TEXTURE)),t.activeTexture(a),s.push(t.getParameter(h),null);break;case t.ACTIVE_TEXTURE:n=t.getParameter(t.ACTIVE_TEXTURE),s.push(null);break;default:s.push(t.getParameter(h))}}e(t);for(r=0;r<i.length;++r){var h=i[r],o=s[r];switch(h){case t.ACTIVE_TEXTURE:break;case t.ARRAY_BUFFER_BINDING:t.bindBuffer(t.ARRAY_BUFFER,o);break;case t.COLOR_CLEAR_VALUE:t.clearColor(o[0],o[1],o[2],o[3]);break;case t.COLOR_WRITEMASK:t.colorMask(o[0],o[1],o[2],o[3]);break;case t.CURRENT_PROGRAM:t.useProgram(o);break;case t.ELEMENT_ARRAY_BUFFER_BINDING:t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,o);break;case t.FRAMEBUFFER_BINDING:t.bindFramebuffer(t.FRAMEBUFFER,o);break;case t.RENDERBUFFER_BINDING:t.bindRenderbuffer(t.RENDERBUFFER,o);break;case t.TEXTURE_BINDING_2D:if((a=i[++r])<t.TEXTURE0||a>t.TEXTURE31)break;t.activeTexture(a),t.bindTexture(t.TEXTURE_2D,o);break;case t.TEXTURE_BINDING_CUBE_MAP:var a;if((a=i[++r])<t.TEXTURE0||a>t.TEXTURE31)break;t.activeTexture(a),t.bindTexture(t.TEXTURE_CUBE_MAP,o);break;case t.VIEWPORT:t.viewport(o[0],o[1],o[2],o[3]);break;case t.BLEND:case t.CULL_FACE:case t.DEPTH_TEST:case t.SCISSOR_TEST:case t.STENCIL_TEST:o?t.enable(h):t.disable(h);break;default:console.log("No GL restore behavior for 0x"+h.toString(16))}n&&t.activeTexture(n)}}else e(t)},g2=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),w2=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");function A2(t,i,e,s){this.gl=t,this.cardboardUI=i,this.bufferScale=e,this.dirtySubmitFrameBindings=s,this.ctxAttribs=t.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=t.drawingBufferWidth,this.bufferHeight=t.drawingBufferHeight,this.realBindFramebuffer=t.bindFramebuffer,this.realEnable=t.enable,this.realDisable=t.disable,this.realColorMask=t.colorMask,this.realClearColor=t.clearColor,this.realViewport=t.viewport,cl()||(this.realCanvasWidth=_.getOwnPropertyDescriptor(t.canvas.__proto__,"width"),this.realCanvasHeight=_.getOwnPropertyDescriptor(t.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=r2(t,g2,w2,this.attribs),this.uniforms=h2(t,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.indexCount=0,this.renderTarget=t.createTexture(),this.framebuffer=t.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=t.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=t.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=t.createRenderbuffer()),this.patch(),this.onResize()}A2.prototype.destroy=function(){var t=this.gl;this.unpatch(),t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer),t.deleteTexture(this.renderTarget),t.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&t.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&t.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&t.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},A2.prototype.onResize=function(){var t=this.gl,i=this,e=[t.RENDERBUFFER_BINDING,t.TEXTURE_BINDING_2D,t.TEXTURE0];_2(t,e,(function(t){i.realBindFramebuffer.call(t,t.FRAMEBUFFER,null),i.scissorTest&&i.realDisable.call(t,t.SCISSOR_TEST),i.realColorMask.call(t,!0,!0,!0,!0),i.realViewport.call(t,0,0,t.drawingBufferWidth,t.drawingBufferHeight),i.realClearColor.call(t,0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),i.realBindFramebuffer.call(t,t.FRAMEBUFFER,i.framebuffer),t.bindTexture(t.TEXTURE_2D,i.renderTarget),t.texImage2D(t.TEXTURE_2D,0,i.ctxAttribs.alpha?t.RGBA:t.RGB,i.bufferWidth,i.bufferHeight,0,i.ctxAttribs.alpha?t.RGBA:t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i.renderTarget,0),i.ctxAttribs.depth&&i.ctxAttribs.stencil?(t.bindRenderbuffer(t.RENDERBUFFER,i.depthStencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,i.bufferWidth,i.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,i.depthStencilBuffer)):i.ctxAttribs.depth?(t.bindRenderbuffer(t.RENDERBUFFER,i.depthBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,i.bufferWidth,i.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,i.depthBuffer)):i.ctxAttribs.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,i.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.STENCIL_INDEX8,i.bufferWidth,i.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.STENCIL_ATTACHMENT,t.RENDERBUFFER,i.stencilBuffer)),!t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),i.realBindFramebuffer.call(t,t.FRAMEBUFFER,i.lastBoundFramebuffer),i.scissorTest&&i.realEnable.call(t,t.SCISSOR_TEST),i.realColorMask.apply(t,i.colorMask),i.realViewport.apply(t,i.viewport),i.realClearColor.apply(t,i.clearColor)})),this.cardboardUI&&this.cardboardUI.onResize()},A2.prototype.patch=function(){if(!this.isPatched){var t=this,i=this.gl.canvas,e=this.gl;cl()||(i.width=e2()*this.bufferScale,i.height=s2()*this.bufferScale,_.defineProperty(i,"width",{configurable:!0,enumerable:!0,get:function(){return t.bufferWidth},set:function(e){t.bufferWidth=e,t.realCanvasWidth.set.call(i,e),t.onResize()}}),_.defineProperty(i,"height",{configurable:!0,enumerable:!0,get:function(){return t.bufferHeight},set:function(e){t.bufferHeight=e,t.realCanvasHeight.set.call(i,e),t.onResize()}})),this.lastBoundFramebuffer=e.getParameter(e.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(i,s){t.lastBoundFramebuffer=s||t.framebuffer,t.realBindFramebuffer.call(e,i,t.lastBoundFramebuffer)},this.cullFace=e.getParameter(e.CULL_FACE),this.depthTest=e.getParameter(e.DEPTH_TEST),this.blend=e.getParameter(e.BLEND),this.scissorTest=e.getParameter(e.SCISSOR_TEST),this.stencilTest=e.getParameter(e.STENCIL_TEST),e.enable=function(i){switch(i){case e.CULL_FACE:t.cullFace=!0;break;case e.DEPTH_TEST:t.depthTest=!0;break;case e.BLEND:t.blend=!0;break;case e.SCISSOR_TEST:t.scissorTest=!0;break;case e.STENCIL_TEST:t.stencilTest=!0}t.realEnable.call(e,i)},e.disable=function(i){switch(i){case e.CULL_FACE:t.cullFace=!1;break;case e.DEPTH_TEST:t.depthTest=!1;break;case e.BLEND:t.blend=!1;break;case e.SCISSOR_TEST:t.scissorTest=!1;break;case e.STENCIL_TEST:t.stencilTest=!1}t.realDisable.call(e,i)},this.colorMask=e.getParameter(e.COLOR_WRITEMASK),e.colorMask=function(i,s,n,r){t.colorMask[0]=i,t.colorMask[1]=s,t.colorMask[2]=n,t.colorMask[3]=r,t.realColorMask.call(e,i,s,n,r)},this.clearColor=e.getParameter(e.COLOR_CLEAR_VALUE),e.clearColor=function(i,s,n,r){t.clearColor[0]=i,t.clearColor[1]=s,t.clearColor[2]=n,t.clearColor[3]=r,t.realClearColor.call(e,i,s,n,r)},this.viewport=e.getParameter(e.VIEWPORT),e.viewport=function(i,s,n,r){t.viewport[0]=i,t.viewport[1]=s,t.viewport[2]=n,t.viewport[3]=r,t.realViewport.call(e,i,s,n,r)},this.isPatched=!0,u2(i)}},A2.prototype.unpatch=function(){if(this.isPatched){var t=this.gl,i=this.gl.canvas;cl()||(_.defineProperty(i,"width",this.realCanvasWidth),_.defineProperty(i,"height",this.realCanvasHeight)),i.width=this.bufferWidth,i.height=this.bufferHeight,t.bindFramebuffer=this.realBindFramebuffer,t.enable=this.realEnable,t.disable=this.realDisable,t.colorMask=this.realColorMask,t.clearColor=this.realClearColor,t.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&t.bindFramebuffer(t.FRAMEBUFFER,null),this.isPatched=!1,u((function(){u2(i)}),1)}},A2.prototype.setTextureBounds=function(t,i){t||(t=[0,0,.5,1]),i||(i=[.5,0,.5,1]),this.viewportOffsetScale[0]=t[0],this.viewportOffsetScale[1]=t[1],this.viewportOffsetScale[2]=t[2],this.viewportOffsetScale[3]=t[3],this.viewportOffsetScale[4]=i[0],this.viewportOffsetScale[5]=i[1],this.viewportOffsetScale[6]=i[2],this.viewportOffsetScale[7]=i[3]},A2.prototype.submitFrame=function(){var t=this.gl,i=this,e=[];if(this.dirtySubmitFrameBindings||e.push(t.CURRENT_PROGRAM,t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING,t.TEXTURE_BINDING_2D,t.TEXTURE0),_2(t,e,(function(t){i.realBindFramebuffer.call(t,t.FRAMEBUFFER,null),i.cullFace&&i.realDisable.call(t,t.CULL_FACE),i.depthTest&&i.realDisable.call(t,t.DEPTH_TEST),i.blend&&i.realDisable.call(t,t.BLEND),i.scissorTest&&i.realDisable.call(t,t.SCISSOR_TEST),i.stencilTest&&i.realDisable.call(t,t.STENCIL_TEST),i.realColorMask.call(t,!0,!0,!0,!0),i.realViewport.call(t,0,0,t.drawingBufferWidth,t.drawingBufferHeight),(i.ctxAttribs.alpha||cl())&&(i.realClearColor.call(t,0,0,0,1),t.clear(t.COLOR_BUFFER_BIT)),t.useProgram(i.program),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i.indexBuffer),t.bindBuffer(t.ARRAY_BUFFER,i.vertexBuffer),t.enableVertexAttribArray(i.attribs.position),t.enableVertexAttribArray(i.attribs.texCoord),t.vertexAttribPointer(i.attribs.position,2,t.FLOAT,!1,20,0),t.vertexAttribPointer(i.attribs.texCoord,3,t.FLOAT,!1,20,8),t.activeTexture(t.TEXTURE0),t.uniform1i(i.uniforms.diffuse,0),t.bindTexture(t.TEXTURE_2D,i.renderTarget),t.uniform4fv(i.uniforms.viewportOffsetScale,i.viewportOffsetScale),t.drawElements(t.TRIANGLES,i.indexCount,t.UNSIGNED_SHORT,0),i.cardboardUI&&i.cardboardUI.renderNoState(),i.realBindFramebuffer.call(i.gl,t.FRAMEBUFFER,i.framebuffer),i.ctxAttribs.preserveDrawingBuffer||(i.realClearColor.call(t,0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)),i.dirtySubmitFrameBindings||i.realBindFramebuffer.call(t,t.FRAMEBUFFER,i.lastBoundFramebuffer),i.cullFace&&i.realEnable.call(t,t.CULL_FACE),i.depthTest&&i.realEnable.call(t,t.DEPTH_TEST),i.blend&&i.realEnable.call(t,t.BLEND),i.scissorTest&&i.realEnable.call(t,t.SCISSOR_TEST),i.stencilTest&&i.realEnable.call(t,t.STENCIL_TEST),i.realColorMask.apply(t,i.colorMask),i.realViewport.apply(t,i.viewport),!i.ctxAttribs.alpha&&i.ctxAttribs.preserveDrawingBuffer||i.realClearColor.apply(t,i.clearColor)})),cl()){var s=t.canvas;s.width==i.bufferWidth&&s.height==i.bufferHeight||(i.bufferWidth=s.width,i.bufferHeight=s.height,i.onResize())}},A2.prototype.updateDeviceInfo=function(t){var i=this.gl,e=this,s=[i.ARRAY_BUFFER_BINDING,i.ELEMENT_ARRAY_BUFFER_BINDING];_2(i,s,(function(i){var s=e.p6t(e.meshWidth,e.meshHeight,t);if(i.bindBuffer(i.ARRAY_BUFFER,e.vertexBuffer),i.bufferData(i.ARRAY_BUFFER,s,i.STATIC_DRAW),!e.indexCount){var n=e.y6t(e.meshWidth,e.meshHeight);i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,n,i.STATIC_DRAW),e.indexCount=n.length}}))},A2.prototype.p6t=function(t,i,e){for(var s=new Float32Array(2*t*i*5),n=e.getLeftEyeVisibleTanAngles(),r=e.getLeftEyeNoLensTanAngles(),h=e.getLeftEyeVisibleScreenRect(r),o=0,a=0;a<2;a++){for(var u=0;u<i;u++)for(var c=0;c<t;c++,o++){var l=c/(t-1),d=u/(i-1),f=l,_=d,g=X4(n[0],n[2],l),w=X4(n[3],n[1],d),A=x.sqrt(g*g+w*w),v=e.distortion.distortInverse(A),m=w*v/A;l=(g*v/A-r[0])/(r[2]-r[0]),d=(m-r[3])/(r[1]-r[3]),l=2*(h.x+l*h.width-.5),d=2*(h.y+d*h.height-.5),s[5*o+0]=l,s[5*o+1]=d,s[5*o+2]=f,s[5*o+3]=_,s[5*o+4]=a}var p=n[2]-n[0];n[0]=-(p+n[0]),n[2]=p-n[2],p=r[2]-r[0],r[0]=-(p+r[0]),r[2]=p-r[2],h.x=1-(h.x+h.width)}return s},A2.prototype.y6t=function(t,i){for(var e=new Uint16Array(2*(t-1)*(i-1)*6),s=t/2,n=i/2,r=0,h=0,o=0;o<2;o++)for(var a=0;a<i;a++)for(var u=0;u<t;u++,r++)0!=u&&0!=a&&(u<=s==a<=n?(e[h++]=r,e[h++]=r-t-1,e[h++]=r-t,e[h++]=r-t-1,e[h++]=r,e[h++]=r-1):(e[h++]=r-1,e[h++]=r-t,e[h++]=r,e[h++]=r-t,e[h++]=r-1,e[h++]=r-t-1));return e},A2.prototype.M6t=function(t,i){var e=_.getOwnPropertyDescriptor(t,i);return void 0!==e.get&&void 0!==e.set||(e.configurable=!0,e.enumerable=!0,e.get=function(){return this.getAttribute(i)},e.set=function(t){this.setAttribute(i,t)}),e};var v2=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),m2=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),p2=x.PI/180,y2=.3125,Gr=28;function lh(t){this.gl=t,this.attribs={position:0},this.program=r2(t,v2,m2,this.attribs),this.uniforms=h2(t,this.program),this.vertexBuffer=t.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}function M2(t){this.coefficients=t}lh.prototype.destroy=function(){var t=this.gl;this.listener&&t.canvas.removeEventListener("click",this.listener,!1),t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer)},lh.prototype.listen=function(t,i){var e=this.gl.canvas,s="undefined"!=typeof TouchEvent;this.listener=function(n){var r=e.clientWidth/2,h=s&&n instanceof TouchEvent?(n.preventDefault(),n.changedTouches[0]):n;h.clientX>r-42&&h.clientX<r+42&&h.clientY>e.clientHeight-42?(n.preventDefault(),n.stopImmediatePropagation(),t(n)):h.clientX<42&&h.clientY<42&&(n.preventDefault(),n.stopImmediatePropagation(),i(n))},e.addEventListener("click",this.listener,!1),e.addEventListener("touchstart",this.listener,!1)},lh.prototype.onResize=function(){var t=this.gl,i=this,e=[t.ARRAY_BUFFER_BINDING];_2(t,e,(function(t){var e=[],n=t.drawingBufferWidth/2,r=x.max(screen.width,screen.height)*s.devicePixelRatio,h=t.drawingBufferWidth/r*s.devicePixelRatio,o=4*h/2,a=42*h,u=Gr*h/2,c=14*h;function l(t,i){var s=(90-t)*p2,r=x.cos(s),h=x.sin(s);e.push(y2*r*u+n,y2*h*u+u),e.push(i*r*u+n,i*h*u+u)}e.push(n-o,a),e.push(n-o,t.drawingBufferHeight),e.push(n+o,a),e.push(n+o,t.drawingBufferHeight),i.gearOffset=e.length/2;for(var d=0;d<=6;d++){var f=60*d;l(f,1),l(f+12,1),l(f+20,.75),l(f+40,.75),l(f+48,1)}function _(i,s){e.push(c+i,t.drawingBufferHeight-c-s)}i.gearVertexCount=e.length/2-i.gearOffset,i.arrowOffset=e.length/2;var g=o/x.sin(45*p2);_(0,u),_(u,0),_(u+g,g),_(g,u+g),_(g,u-g),_(0,u),_(u,2*u),_(u+g,2*u-g),_(g,u-g),_(0,u),_(g,u-o),_(Gr*h,u-o),_(g,u+o),_(Gr*h,u+o),i.arrowVertexCount=e.length/2-i.arrowOffset,t.bindBuffer(t.ARRAY_BUFFER,i.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW)}))},lh.prototype.render=function(){var t=this.gl,i=this,e=[t.CULL_FACE,t.DEPTH_TEST,t.BLEND,t.SCISSOR_TEST,t.STENCIL_TEST,t.COLOR_WRITEMASK,t.VIEWPORT,t.CURRENT_PROGRAM,t.ARRAY_BUFFER_BINDING];_2(t,e,(function(t){t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.BLEND),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.colorMask(!0,!0,!0,!0),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),i.renderNoState()}))},lh.prototype.renderNoState=function(){var t,i,e,s,n,r,h,o,a,u,c=this.gl;c.useProgram(this.program),c.bindBuffer(c.ARRAY_BUFFER,this.vertexBuffer),c.enableVertexAttribArray(this.attribs.position),c.vertexAttribPointer(this.attribs.position,2,c.FLOAT,!1,8,0),c.uniform4f(this.uniforms.color,1,1,1,1),t=this.projMat,i=0,e=c.drawingBufferWidth,s=0,n=c.drawingBufferHeight,o=1/(i-e),a=1/(s-n),u=1/((r=.1)-(h=1024)),t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(i+e)*o,t[13]=(n+s)*a,t[14]=(h+r)*u,t[15]=1,c.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),c.drawArrays(c.TRIANGLE_STRIP,0,4),c.drawArrays(c.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),c.drawArrays(c.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},M2.prototype.distortInverse=function(t){for(var i=0,e=1,s=t-this.distort(i);x.abs(e-i)>1e-4;){var n=t-this.distort(e),r=e-n*((e-i)/(n-s));i=e,e=r,s=n}return e},M2.prototype.distort=function(t){for(var i=t*t,e=0,s=0;s<this.coefficients.length;s++)e=i*(e+this.coefficients[s]);return(e+1)*t};var T2=x.PI/180,N2=180/x.PI,Re=function(t,i,e){this.x=t||0,this.y=i||0,this.z=e||0};Re.prototype={constructor:Re,set:function(t,i,e){return this.x=t,this.y=i,this.z=e,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},length:function(){return x.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var t=this.length();if(0!==t){var i=1/t;this.multiplyScalar(i)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(t){this.x*=t,this.y*=t,this.z*=t},applyQuaternion:function(t){var i=this.x,e=this.y,s=this.z,n=t.x,r=t.y,h=t.z,o=t.w,a=o*i+r*s-h*e,u=o*e+h*i-n*s,c=o*s+n*e-r*i,l=-n*i-r*e-h*s;return this.x=a*o+l*-n+u*-h-c*-r,this.y=u*o+l*-r+c*-n-a*-h,this.z=c*o+l*-h+a*-r-u*-n,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},crossVectors:function(t,i){var e=t.x,s=t.y,n=t.z,r=i.x,h=i.y,o=i.z;return this.x=s*o-n*h,this.y=n*r-e*o,this.z=e*h-s*r,this}};var hs=function(t,i,e,s){this.x=t||0,this.y=i||0,this.z=e||0,this.w=void 0!==s?s:1};function D2(t){this.width=t.width||e2(),this.height=t.height||s2(),this.widthMeters=t.widthMeters,this.heightMeters=t.heightMeters,this.bevelMeters=t.bevelMeters}hs.prototype={constructor:hs,set:function(t,i,e,s){return this.x=t,this.y=i,this.z=e,this.w=s,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},setFromEulerXYZ:function(t,i,e){var s=x.cos(t/2),n=x.cos(i/2),r=x.cos(e/2),h=x.sin(t/2),o=x.sin(i/2),a=x.sin(e/2);return this.x=h*n*r+s*o*a,this.y=s*o*r-h*n*a,this.z=s*n*a+h*o*r,this.w=s*n*r-h*o*a,this},setFromEulerYXZ:function(t,i,e){var s=x.cos(t/2),n=x.cos(i/2),r=x.cos(e/2),h=x.sin(t/2),o=x.sin(i/2),a=x.sin(e/2);return this.x=h*n*r+s*o*a,this.y=s*o*r-h*n*a,this.z=s*n*a-h*o*r,this.w=s*n*r+h*o*a,this},setFromAxisAngle:function(t,i){var e=i/2,s=x.sin(e);return this.x=t.x*s,this.y=t.y*s,this.z=t.z*s,this.w=x.cos(e),this},multiply:function(t){return this.multiplyQuaternions(this,t)},multiplyQuaternions:function(t,i){var e=t.x,s=t.y,n=t.z,r=t.w,h=i.x,o=i.y,a=i.z,u=i.w;return this.x=e*u+r*h+s*a-n*o,this.y=s*u+r*o+n*h-e*a,this.z=n*u+r*a+e*o-s*h,this.w=r*u-e*h-s*o-n*a,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var t=x.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},slerp:function(t,i){if(0===i)return this;if(1===i)return this.copy(t);var e=this.x,s=this.y,n=this.z,r=this.w,h=r*t.w+e*t.x+s*t.y+n*t.z;if(h<0?(this.w=-t.w,this.x=-t.x,this.y=-t.y,this.z=-t.z,h=-h):this.copy(t),h>=1)return this.w=r,this.x=e,this.y=s,this.z=n,this;var o=x.acos(h),a=x.sqrt(1-h*h);if(x.abs(a)<.001)return this.w=.5*(r+this.w),this.x=.5*(e+this.x),this.y=.5*(s+this.y),this.z=.5*(n+this.z),this;var u=x.sin((1-i)*o)/a,c=x.sin(i*o)/a;return this.w=r*u+this.w*c,this.x=e*u+this.x*c,this.y=s*u+this.y*c,this.z=n*u+this.z*c,this},setFromUnitVectors:function(){var t,i;return function(e,s){return void 0===t&&(t=new Re),(i=e.dot(s)+1)<1e-6?(i=0,x.abs(e.x)>x.abs(e.z)?t.set(-e.y,e.x,0):t.set(0,-e.z,e.y)):t.crossVectors(e,s),this.x=t.x,this.y=t.y,this.z=t.z,this.w=i,this.normalize(),this}}()};var I2=new D2({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),S2=new D2({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),E2={CardboardV1:new b2({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new b2({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function sa(t){this.viewer=E2.CardboardV2,this.updateDeviceParams(t),this.distortion=new M2(this.viewer.distortionCoefficients)}function b2(t){this.id=t.id,this.label=t.label,this.fov=t.fov,this.interLensDistance=t.interLensDistance,this.baselineLensDistance=t.baselineLensDistance,this.screenLensDistance=t.screenLensDistance,this.distortionCoefficients=t.distortionCoefficients,this.inverseCoefficients=t.inverseCoefficients}sa.prototype.updateDeviceParams=function(t){this.device=this.T6t(t)||this.device},sa.prototype.getDevice=function(){return this.device},sa.prototype.setViewer=function(t){this.viewer=t,this.distortion=new M2(this.viewer.distortionCoefficients)},sa.prototype.T6t=function(t){if(!t)return cl()?(console.warn("Using fallback iOS device measurements."),S2):(console.warn("Using fallback Android device measurements."),I2);var i=.0254,e=i/t.xdpi,s=i/t.ydpi;return new D2({widthMeters:e*e2(),heightMeters:s*s2(),bevelMeters:.001*t.bevelMm})},sa.prototype.getDistortedFieldOfViewLeftEye=function(){var t=this.viewer,i=this.device,e=this.distortion,s=t.screenLensDistance,n=(i.widthMeters-t.interLensDistance)/2,r=t.interLensDistance/2,h=t.baselineLensDistance-i.bevelMeters,o=i.heightMeters-h,a=N2*x.atan(e.distort(n/s)),u=N2*x.atan(e.distort(r/s)),c=N2*x.atan(e.distort(h/s)),l=N2*x.atan(e.distort(o/s));return{leftDegrees:x.min(a,t.fov),rightDegrees:x.min(u,t.fov),downDegrees:x.min(c,t.fov),upDegrees:x.min(l,t.fov)}},sa.prototype.getLeftEyeVisibleTanAngles=function(){var t=this.viewer,i=this.device,e=this.distortion,s=x.tan(-T2*t.fov),n=x.tan(T2*t.fov),r=x.tan(T2*t.fov),h=x.tan(-T2*t.fov),o=i.widthMeters/4,a=i.heightMeters/2,u=t.baselineLensDistance-i.bevelMeters-a,c=t.interLensDistance/2-o,l=-u,d=t.screenLensDistance,f=e.distort((c-o)/d),_=e.distort((l+a)/d),g=e.distort((c+o)/d),w=e.distort((l-a)/d),A=new Float32Array(4);return A[0]=x.max(s,f),A[1]=x.min(n,_),A[2]=x.min(r,g),A[3]=x.max(h,w),A},sa.prototype.getLeftEyeNoLensTanAngles=function(){var t=this.viewer,i=this.device,e=this.distortion,s=new Float32Array(4),n=e.distortInverse(x.tan(-T2*t.fov)),r=e.distortInverse(x.tan(T2*t.fov)),h=e.distortInverse(x.tan(T2*t.fov)),o=e.distortInverse(x.tan(-T2*t.fov)),a=i.widthMeters/4,u=i.heightMeters/2,c=t.baselineLensDistance-i.bevelMeters-u,l=t.interLensDistance/2-a,d=-c,f=t.screenLensDistance,_=(l-a)/f,g=(d+u)/f,w=(l+a)/f,A=(d-u)/f;return s[0]=x.max(n,_),s[1]=x.min(r,g),s[2]=x.min(h,w),s[3]=x.max(o,A),s},sa.prototype.getLeftEyeVisibleScreenRect=function(t){var i=this.viewer,e=this.device,s=i.screenLensDistance,n=(e.widthMeters-i.interLensDistance)/2,r=i.baselineLensDistance-e.bevelMeters,h=(t[0]*s+n)/e.widthMeters,o=(t[1]*s+r)/e.heightMeters,a=(t[2]*s+n)/e.widthMeters,u=(t[3]*s+r)/e.heightMeters;return{x:h,y:u,width:a-h,height:o-u}},sa.prototype.getFieldOfViewLeftEye=function(t){return t?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},sa.prototype.getFieldOfViewRightEye=function(t){var i=this.getFieldOfViewLeftEye(t);return{leftDegrees:i.rightDegrees,rightDegrees:i.leftDegrees,upDegrees:i.upDegrees,downDegrees:i.downDegrees}},sa.prototype.getUndistortedFieldOfViewLeftEye=function(){var t=this.N6t();return{leftDegrees:N2*x.atan(t.outerDist),rightDegrees:N2*x.atan(t.innerDist),downDegrees:N2*x.atan(t.bottomDist),upDegrees:N2*x.atan(t.topDist)}},sa.prototype.getUndistortedViewportLeftEye=function(){var t=this.N6t(),i=this.viewer,e=this.device,s=i.screenLensDistance,n=e.widthMeters/s,r=e.heightMeters/s,h=e.width/n,o=e.height/r,a=x.round((t.eyePosX-t.outerDist)*h),u=x.round((t.eyePosY-t.bottomDist)*o);return{x:a,y:u,width:x.round((t.eyePosX+t.innerDist)*h)-a,height:x.round((t.eyePosY+t.topDist)*o)-u}},sa.prototype.N6t=function(){var t=this.viewer,i=this.device,e=this.distortion,s=t.screenLensDistance,n=t.interLensDistance/2/s,r=i.widthMeters/s,h=i.heightMeters/s,o=r/2-n,a=(t.baselineLensDistance-i.bevelMeters)/s,u=t.fov,c=e.distortInverse(x.tan(T2*u)),l=x.min(o,c),d=x.min(n,c),f=x.min(a,c);return{outerDist:l,innerDist:d,topDist:x.min(h-a,c),bottomDist:f,eyePosX:o,eyePosY:a}},sa.Viewers=E2;var L2={format:1,last_updated:"2018-02-20T22:55:10Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3}]};function k2(t,i){if(this.dpdb=L2,this.D6t(),t){this.onDeviceParamsUpdated=i;var e=new rd,s=this;e.open("GET",t,!0),e.addEventListener("load",(function(){s.loading=!1,e.status>=200&&e.status<=299?(s.dpdb=JSON.parse(e.response),s.D6t()):console.error("Error loading online DPDB!")})),e.send()}}function C2(t){this.xdpi=t.xdpi,this.ydpi=t.ydpi,this.bevelMm=t.bevelMm}function x2(t,i){this.set(t,i)}function ch(t,i){this.kFilter=t,this.isDebug=i,this.currentAccelMeasurement=new x2,this.currentGyroMeasurement=new x2,this.previousGyroMeasurement=new x2,cl()?this.filterQ=new hs(-1,0,0,1):this.filterQ=new hs(1,0,0,1),this.previousFilterQ=new hs,this.previousFilterQ.copy(this.filterQ),this.accelQ=new hs,this.isOrientationInitialized=!1,this.estimatedGravity=new Re,this.measuredGravity=new Re,this.gyroIntegralQ=new hs}function O2(t,i){this.predictionTimeS=t,this.isDebug=i,this.previousQ=new hs,this.previousTimestampS=null,this.deltaQ=new hs,this.outQ=new hs}function qi(t,i,e,n){this.yawOnly=e,this.accelerometer=new Re,this.gyroscope=new Re,this.filter=new ch(t,n),this.posePredictor=new O2(i,n),this.isFirefoxAndroid=K4(),this.isIOS=cl();var r=J4();this.isDeviceMotionInRadians=!this.isIOS&&r&&r<66,this.isWithoutDeviceMotion=$4(),this.filterToWorldQ=new hs,cl()?this.filterToWorldQ.setFromAxisAngle(new Re(1,0,0),x.PI/2):this.filterToWorldQ.setFromAxisAngle(new Re(1,0,0),-x.PI/2),this.inverseWorldToScreenQ=new hs,this.worldToScreenQ=new hs,this.originalPoseAdjustQ=new hs,this.originalPoseAdjustQ.setFromAxisAngle(new Re(0,0,1),-s.orientation*x.PI/180),this.I6t(),i2()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new hs,this.S6t=new Float32Array(4),this.start()}k2.prototype.getDeviceParams=function(){return this.deviceParams},k2.prototype.D6t=function(){var t=this.E6t();t?(this.deviceParams=t,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},k2.prototype.E6t=function(){var t=this.dpdb;if(!t)return console.error("DPDB not available."),null;if(1!=t.format)return console.error("DPDB has unexpected format version."),null;if(!t.devices||!t.devices.length)return console.error("DPDB does not have a devices section."),null;var i=sd.userAgent||sd.vendor||s.opera,e=e2(),n=s2();if(!t.devices)return console.error("DPDB has no devices section."),null;for(var r=null,h=1/0,o=0;o<t.devices.length;o++){var a=t.devices[o];if(a.rules)if("ios"==a.type||"android"==a.type){if(cl()==("ios"==a.type)){for(var u=!1,c=0;c<a.rules.length;c++){var l=a.rules[c],d=this.b6t(l,i,e,n);if(!0===d){h=d,r=a,u=!0;break}!1!==d&&d<h&&(h=d,r=a)}if(u)break}}else console.warn("Device["+o+"] has invalid type.");else console.warn("Device["+o+"] has no rules section.")}return r?new C2({xdpi:r.dpi[0]||r.dpi,ydpi:r.dpi[1]||r.dpi,bevelMm:r.bw}):(console.warn("No DPDB device match."),null)},k2.prototype.b6t=function(t,i,e,s){if(!t.ua&&!t.res)return!1;if(t.ua&&i.indexOf(t.ua)<0)return!1;if(t.res){if(!t.res[0]||!t.res[1])return!1;var n=t.res[0],r=t.res[1],h=x.min(e,s)-x.min(n,r),o=x.max(e,s)-x.max(n,r),a=x.abs(h)+x.abs(o);if(a>0)return a}return!0},x2.prototype.set=function(t,i){this.sample=t,this.timestampS=i},x2.prototype.copy=function(t){this.set(t.sample,t.timestampS)},ch.prototype.addAccelMeasurement=function(t,i){this.currentAccelMeasurement.set(t,i)},ch.prototype.addGyroMeasurement=function(t,i){this.currentGyroMeasurement.set(t,i),function(t){return!(j(t)||t<=.001||t>1)}(i-this.previousGyroMeasurement.timestampS)&&this.L6t(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},ch.prototype.L6t=function(){if(!this.isOrientationInitialized)return this.accelQ=this.k6t(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var t=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,i=this.C6t(this.currentGyroMeasurement.sample,t);this.gyroIntegralQ.multiply(i),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(i);var e=new hs;e.copy(this.filterQ),e.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(e),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var s=new hs;s.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),s.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",N2*function(t){return t.w>1?(console.warn("getQuaternionAngle: w > 1"),0):2*x.acos(t.w)}(s),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var n=new hs;n.copy(this.filterQ),n.multiply(s),this.filterQ.slerp(n,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},ch.prototype.getOrientation=function(){return this.filterQ},ch.prototype.k6t=function(t){var i=new Re;i.copy(t),i.normalize();var e=new hs;return e.setFromUnitVectors(new Re(0,0,-1),i),e.inverse(),e},ch.prototype.C6t=function(t,i){var e=new hs,s=new Re;return s.copy(t),s.normalize(),e.setFromAxisAngle(s,t.length()*i),e},O2.prototype.getPrediction=function(t,i,e){if(!this.previousTimestampS)return this.previousQ.copy(t),this.previousTimestampS=e,t;var s=new Re;s.copy(i),s.normalize();var n=i.length();if(n<20*T2)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(N2*n).toFixed(1)),this.outQ.copy(t),this.previousQ.copy(t),this.outQ;var r=n*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(s,r),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(t),this.previousTimestampS=e,this.outQ},qi.prototype.getPosition=function(){return null},qi.prototype.getOrientation=function(){var t=void 0;if(this.isWithoutDeviceMotion&&this.x6t)return this.deviceOrientationFixQ=this.deviceOrientationFixQ||(i=(new hs).setFromAxisAngle(new Re(0,0,-1),0),e=new hs,-90===s.orientation?e.setFromAxisAngle(new Re(0,1,0),x.PI/-2):e.setFromAxisAngle(new Re(0,1,0),x.PI/2),i.multiply(e)),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||function(){var t=new hs;return t.setFromAxisAngle(new Re(1,0,0),-x.PI/2),t}(),t=this.x6t,(n=new hs).copy(t),n.multiply(this.deviceOrientationFilterToWorldQ),n.multiply(this.resetQ),n.multiply(this.worldToScreenQ),n.multiplyQuaternions(this.deviceOrientationFixQ,n),this.yawOnly&&(n.x=0,n.z=0,n.normalize()),this.S6t[0]=n.x,this.S6t[1]=n.y,this.S6t[2]=n.z,this.S6t[3]=n.w,this.S6t;var i,e,n,r=this.filter.getOrientation();return t=this.posePredictor.getPrediction(r,this.gyroscope,this.previousTimestampS),(n=new hs).copy(this.filterToWorldQ),n.multiply(this.resetQ),n.multiply(t),n.multiply(this.worldToScreenQ),this.yawOnly&&(n.x=0,n.z=0,n.normalize()),this.S6t[0]=n.x,this.S6t[1]=n.y,this.S6t[2]=n.z,this.S6t[3]=n.w,this.S6t},qi.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),i2()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},qi.prototype.O6t=function(t){this.x6t=this.x6t||new hs;var i=t.alpha,e=t.beta,s=t.gamma;i=(i||0)*x.PI/180,e=(e||0)*x.PI/180,s=(s||0)*x.PI/180,this.x6t.setFromEulerYXZ(e,i,-s)},qi.prototype.j6t=function(t){this.z6t(t)},qi.prototype.z6t=function(t){var i=t.accelerationIncludingGravity,e=t.rotationRate,s=t.timeStamp/1e3,n=s-this.previousTimestampS;return n<0?(f2("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),void(this.previousTimestampS=s)):n<=.001||n>1?(f2("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),void(this.previousTimestampS=s)):(this.accelerometer.set(-i.x,-i.y,-i.z),t2()?this.gyroscope.set(-e.beta,e.alpha,e.gamma):this.gyroscope.set(e.alpha,e.beta,e.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(x.PI/180),this.filter.addAccelMeasurement(this.accelerometer,s),this.filter.addGyroMeasurement(this.gyroscope,s),void(this.previousTimestampS=s))},qi.prototype.P6t=function(t){this.I6t()},qi.prototype.wx=function(t){var i=t.data;i&&i.type&&("devicemotion"===i.type.toLowerCase()&&this.z6t(i.deviceMotionEvent))},qi.prototype.I6t=function(){switch(this.worldToScreenQ.set(0,0,0,1),s.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new Re(0,0,1),-x.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new Re(0,0,1),x.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},qi.prototype.start=function(){var t,i,e;this.B6t=this.j6t.bind(this),this.R6t=this.P6t.bind(this),this.U6t=this.wx.bind(this),this.Q6t=this.O6t.bind(this),cl()&&(t=s.self!==s.top,i=d2(h.referrer),e=d2(s.location.href),t&&i!==e)&&s.addEventListener("message",this.U6t),s.addEventListener("orientationchange",this.R6t),this.isWithoutDeviceMotion?s.addEventListener("deviceorientation",this.Q6t):s.addEventListener("devicemotion",this.B6t)},qi.prototype.stop=function(){s.removeEventListener("devicemotion",this.B6t),s.removeEventListener("deviceorientation",this.Q6t),s.removeEventListener("orientationchange",this.R6t),s.removeEventListener("message",this.U6t)};var j2=new Re(1,0,0),z2=new Re(0,0,1),P2={};screen.orientation?P2=screen.orientation:screen.msOrientation?P2=screen.msOrientation:_.defineProperty(P2,"angle",{get:function(){return s.orientation||0}});var B2=new hs;B2.setFromAxisAngle(j2,-x.PI/2),B2.multiply((new hs).setFromAxisAngle(z2,x.PI/2));var R2=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new k("Cannot call a class as a function")}(this,t),this.config=i,this.sensor=null,this.fusionSensor=null,this.F6t=new Float32Array(4),this.api=null,this.errors=[],this.Y6t=new hs,this.G6t=new hs,this.V6t=new hs,this.W6t=this.W6t.bind(this),this.H6t=this.H6t.bind(this),this.q6t=this.q6t.bind(this),this.q6t(),this.init()}return H4(t,[{key:"init",value:function(){var t=null;try{(t=new RelativeOrientationSensor({frequency:60})).addEventListener("error",this.H6t)}catch(t){this.errors.push(t),"SecurityError"===t.name?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):"ReferenceError"===t.name?this.useDeviceMotion():console.error(t)}t&&(this.api="sensor",this.sensor=t,this.sensor.addEventListener("reading",this.W6t),this.sensor.start()),s.addEventListener("orientationchange",this.q6t)}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new qi(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this.F6t[0]=this.F6t[1]=this.F6t[2]=0,this.F6t[3]=1,this.F6t;var t=this.sensor.quaternion;this.Y6t.set(t[0],t[1],t[2],t[3]);var i=this.V6t;return i.copy(B2),i.multiply(this.Y6t),i.multiply(this.G6t),this.config.YAW_ONLY&&(i.x=i.z=0,i.normalize()),this.F6t[0]=i.x,this.F6t[1]=i.y,this.F6t[2]=i.z,this.F6t[3]=i.w,this.F6t}},{key:"H6t",value:function(t){this.errors.push(t.error),"NotAllowedError"===t.error.name?console.error("Permission to access sensor was denied"):"NotReadableError"===t.error.name?console.error("Sensor could not be read"):console.error(t.error)}},{key:"W6t",value:function(){}},{key:"q6t",value:function(){var t=-P2.angle*x.PI/180;this.G6t.setFromAxisAngle(z2,t)}}]),t}();function vh(){this.X6t();var t=h.createElement("div");(r=t.style).position="fixed",r.top=0,r.right=0,r.bottom=0,r.left=0,r.backgroundColor="gray",r.fontFamily="sans-serif",r.zIndex=1e6;var i=h.createElement("img");i.src=this.icon,(r=i.style).marginLeft="25%",r.marginTop="25%",r.width="50%",t.appendChild(i);var e=h.createElement("div");(r=e.style).textAlign="center",r.fontSize="16px",r.lineHeight="24px",r.margin="24px 25%",r.width="50%",e.innerHTML="Place your phone into your Cardboard viewer.",t.appendChild(e);var s=h.createElement("div");(r=s.style).backgroundColor="#CFD8DC",r.position="fixed",r.bottom=0,r.width="100%",r.height="48px",r.padding="14px 24px",r.boxSizing="border-box",r.color="#656A6B",t.appendChild(s);var n=h.createElement("div");n.style.float="left",n.innerHTML="No Cardboard viewer?";var r,o=h.createElement("a");o.href="https://www.google.com/get/cardboard/get-cardboard/",o.innerHTML="get one",o.target="Du",(r=o.style).float="right",r.fontWeight=600,r.textTransform="uppercase",r.borderLeft="1px solid gray",r.paddingLeft="24px",r.textDecoration="none",r.color="#656A6B",s.appendChild(n),s.appendChild(o),this.overlay=t,this.text=e,this.hide()}vh.prototype.show=function(t){t||this.overlay.parentElement?t&&(this.overlay.parentElement&&this.overlay.parentElement!=t&&this.overlay.parentElement.removeChild(this.overlay),t.appendChild(this.overlay)):h.body.appendChild(this.overlay),this.overlay.style.display="block";var i=this.overlay.querySelector("img").style;i2()?(i.width="20%",i.marginLeft="40%",i.marginTop="3%"):(i.width="50%",i.marginLeft="25%",i.marginTop="25%")},vh.prototype.hide=function(){this.overlay.style.display="none"},vh.prototype.showTemporarily=function(t,i){this.show(i),this.timer=u(this.hide.bind(this),t)},vh.prototype.disableShowTemporarily=function(){c(this.timer)},vh.prototype.update=function(){this.disableShowTemporarily(),!i2()&&o2()?this.show():this.hide()},vh.prototype.X6t=function(){this.icon="data:"+"image/svg+xml"+";base64,"+"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"};var U2="CardboardV1",Q2="WEBVR_CARDBOARD_VIEWER";function xe(){try{this.selectedKey=localStorage.getItem(Q2)}catch(t){console.error("Failed to load viewer profile: %s",t)}this.selectedKey||(this.selectedKey=U2),this.dialog=this.Z6t(sa.Viewers),this.root=null,this.K6t=[]}xe.prototype.show=function(t){this.root=t,t.appendChild(this.dialog),this.dialog.querySelector("#"+this.selectedKey).checked=!0,this.dialog.style.display="block"},xe.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},xe.prototype.getCurrentViewer=function(){return sa.Viewers[this.selectedKey]},xe.prototype.J6t=function(){var t=this.dialog.querySelector("input[name=field]:checked");return t?t.id:null},xe.prototype.onChange=function(t){this.K6t.push(t)},xe.prototype.$6t=function(t){for(var i=0;i<this.K6t.length;i++)this.K6t[i](t)},xe.prototype.t8t=function(){if(this.selectedKey=this.J6t(),this.selectedKey&&sa.Viewers[this.selectedKey]){this.$6t(sa.Viewers[this.selectedKey]);try{localStorage.setItem(Q2,this.selectedKey)}catch(t){console.error("Failed to save viewer profile: %s",t)}this.hide()}else console.error("ViewerSelector.onSave_: this should never happen!")},xe.prototype.Z6t=function(t){var i=h.createElement("div");i.classList.add("webvr-polyfill-viewer-selector"),i.style.display="none";var e=h.createElement("div");(n=e.style).position="fixed",n.left=0,n.top=0,n.width="100%",n.height="100%",n.background="rgba(0, 0, 0, 0.3)",e.addEventListener("click",this.hide.bind(this));var s=h.createElement("div"),n=s.style;for(var r in n.boxSizing="border-box",n.position="fixed",n.top="24px",n.left="50%",n.marginLeft="-140px",n.width="280px",n.padding="24px",n.overflow="hidden",n.background="#fafafa",n.fontFamily="'Roboto', sans-serif",n.boxShadow="0px 5px 20px #666",s.appendChild(this.i8t("Select your viewer")),t)s.appendChild(this.e8t(r,t[r].label));return s.appendChild(this.s8t("Save",this.t8t.bind(this))),i.appendChild(e),i.appendChild(s),i},xe.prototype.i8t=function(t){var i=h.createElement("h1"),e=i.style;return e.color="black",e.fontSize="20px",e.fontWeight="bold",e.marginTop=0,e.marginBottom="24px",i.innerHTML=t,i},xe.prototype.e8t=function(t,i){var e=h.createElement("div");e.style.marginTop="8px",e.style.color="black";var s=h.createElement("input");s.style.fontSize="30px",s.setAttribute("id",t),s.setAttribute("type","radio"),s.setAttribute("value",t),s.setAttribute("name","field");var n=h.createElement("label");return n.style.marginLeft="4px",n.setAttribute("for",t),n.innerHTML=i,e.appendChild(s),e.appendChild(n),e},xe.prototype.s8t=function(t,i){var e=h.createElement("button");e.innerHTML=t;var s=e.style;return s.float="right",s.textTransform="uppercase",s.color="#1094f7",s.fontSize="14px",s.letterSpacing=0,s.border=0,s.background="none",s.marginTop="16px",e.addEventListener("click",i),e};void 0!==s||("undefined"!=typeof global?global:"undefined"!=typeof self&&self);var F2=function(t,i){return t(i={exports:{}},i.exports),i.exports}((function(t,i){var e;e=function(){return function(t){var i={};function e(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||_.defineProperty(t,i,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return _.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){var n=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),_.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}(),r=e(1),o=void 0!==sd&&S((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(sd.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!s.MSStream,a=function(){function t(){!function(t,i){if(!(t instanceof i))throw new k("Cannot call a class as a function")}(this,t),o?this.noSleepTimer=null:(this.noSleepVideo=h.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",r),this.noSleepVideo.addEventListener("timeupdate",function(t){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=x.random())}.bind(this)))}return n(t,[{key:"enable",value:function(){o?(this.disable(),this.noSleepTimer=s.setInterval((function(){s.location.href="/",s.setTimeout(s.stop,0)}),15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){o?this.noSleepTimer&&(s.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),t}();t.exports=a},function(t,i,e){t.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])},t.exports=e()})),Y2=function(t){return t&&t.__esModule?t.default:t}(F2),G2=1e3,V2=[0,0,.5,1],W2=[.5,0,.5,1],H2=s.requestAnimationFrame,q2=s.cancelAnimationFrame;function X2(t){_.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:t.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:t.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:t.canPresent},maxLayers:{writable:!1,enumerable:!0,value:t.maxLayers},hasOrientation:{enumerable:!0,get:function(){return Yr("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),t.hasOrientation}}})}function ro(t){var i=!("wakelock"in(t=t||{}))||t.wakelock;this.isPolyfilled=!0,this.displayId=G2++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,_.defineProperty(this,"isConnected",{get:function(){return Yr("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new X2({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.n8t=!1,this.Hy=null,this.r8t=null,this.pG=null,this.z9=null,this.h8t=null,this.o8t=null,this.a8t=null,this.u8t=null,i&&o2()&&(this.c8t=new Y2)}ro.prototype.getFrameData=function(t){return l2(t,this.l8t(),this)},ro.prototype.getPose=function(){return Yr("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this.l8t()},ro.prototype.resetPose=function(){return Yr("VRDisplay.prototype.resetPose"),this.d8t()},ro.prototype.getImmediatePose=function(){return Yr("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this.l8t()},ro.prototype.requestAnimationFrame=function(t){return H2(t)},ro.prototype.cancelAnimationFrame=function(t){return q2(t)},ro.prototype.wrapForFullscreen=function(t){if(cl())return t;if(!this.z9){this.z9=h.createElement("div");var i=["height: "+x.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.z9.setAttribute("style",i.join("; ")+";"),this.z9.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.pG==t)return this.z9;if(this.pG&&(this.r8t?this.r8t.appendChild(this.pG):this.pG.parentElement.removeChild(this.pG)),this.pG=t,this.r8t=t.parentElement,this.r8t||h.body.appendChild(t),!this.z9.parentElement){var e=this.pG.parentElement;e.insertBefore(this.z9,this.pG),e.removeChild(this.pG)}this.z9.insertBefore(this.pG,this.z9.firstChild),this.h8t=this.pG.getAttribute("style");var s=this;return function(){if(s.pG){var t=["position: absolute","top: 0","left: 0","width: "+x.max(screen.width,screen.height)+"px","height: "+x.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];s.pG.setAttribute("style",t.join("; ")+";")}}(),this.z9},ro.prototype.removeFullscreenWrapper=function(){if(this.pG){var t=this.pG;this.h8t?t.setAttribute("style",this.h8t):t.removeAttribute("style"),this.pG=null,this.h8t=null;var i=this.z9.parentElement;return this.z9.removeChild(t),this.r8t===i?i.insertBefore(t,this.z9):this.r8t&&this.r8t.appendChild(t),i.removeChild(this.z9),t}},ro.prototype.requestPresent=function(t){var i=this.isPresenting,e=this;return t instanceof Array||(Yr("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),t=[t]),new Promise((function(s,n){if(e.capabilities.canPresent)if(0==t.length||t.length>e.capabilities.maxLayers)n(new b("Invalid number of layers."));else{var r=t[0];if(r.source){var o=r.leftBounds||V2,a=r.rightBounds||W2;if(i){var u=e.Hy;u.source!==r.source&&(u.source=r.source);for(var c=0;c<4;c++)u.leftBounds[c]=o[c],u.rightBounds[c]=a[c];return e.wrapForFullscreen(e.Hy.source),e.f8t(),void s()}if(e.Hy={predistorted:r.predistorted,source:r.source,leftBounds:o.slice(0),rightBounds:a.slice(0)},e.n8t=!1,e.Hy&&e.Hy.source){var l=e.wrapForFullscreen(e.Hy.source);e._8t(l,(function(){var t=h.fullscreenElement||h.webkitFullscreenElement||h.mozFullScreenElement||h.msFullscreenElement;e.isPresenting=l===t,e.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch((function(t){console.error("screen.orientation.lock() failed due to",t.message)})),e.n8t=!1,e.g8t(),s()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),e.disableWakeLock(),e.w8t(),e.removeFullscreenWrapper(),e.A8t()),e.v8t()}),(function(){e.n8t&&(e.removeFullscreenWrapper(),e.A8t(),e.disableWakeLock(),e.n8t=!1,e.isPresenting=!1,n(new b("Unable to present.")))})),!function(t){if(h.fullscreenEnabled&&t.requestFullscreen)t.requestFullscreen();else if(h.webkitFullscreenEnabled&&t.webkitRequestFullscreen)t.webkitRequestFullscreen();else if(h.mozFullScreenEnabled&&t.mozRequestFullScreen)t.mozRequestFullScreen();else{if(!h.msFullscreenEnabled||!t.msRequestFullscreen)return!1;t.msRequestFullscreen()}return!0}(l)?(cl()||Z4())&&(e.enableWakeLock(),e.isPresenting=!0,e.g8t(),e.v8t(),s()):(e.enableWakeLock(),e.n8t=!0)}e.n8t||cl()||(n2(),n(new b("Unable to present.")))}else s()}else n(new b("VRDisplay is not capable of presenting."))}))},ro.prototype.exitPresent=function(){var t=this.isPresenting,i=this;return this.isPresenting=!1,this.Hy=null,this.disableWakeLock(),new Promise((function(e,s){t?(n2(),i.w8t(),i.removeFullscreenWrapper(),i.A8t(),i.v8t(),e()):s(new b("Was not presenting to VRDisplay."))}))},ro.prototype.getLayers=function(){return this.Hy?[this.Hy]:[]},ro.prototype.v8t=function(){var t=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});s.dispatchEvent(t)},ro.prototype.m8t=function(){var t=new CustomEvent("vrdisplayconnect",{detail:{display:this}});s.dispatchEvent(t)},ro.prototype._8t=function(t,i,e){this.A8t(),this.o8t=t,this.a8t=i,this.u8t=e,i&&(h.fullscreenEnabled?t.addEventListener("fullscreenchange",i,!1):h.webkitFullscreenEnabled?t.addEventListener("webkitfullscreenchange",i,!1):h.mozFullScreenEnabled?h.addEventListener("mozfullscreenchange",i,!1):h.msFullscreenEnabled&&t.addEventListener("msfullscreenchange",i,!1)),e&&(h.fullscreenEnabled?t.addEventListener("fullscreenerror",e,!1):h.webkitFullscreenEnabled?t.addEventListener("webkitfullscreenerror",e,!1):h.mozFullScreenEnabled?h.addEventListener("mozfullscreenerror",e,!1):h.msFullscreenEnabled&&t.addEventListener("msfullscreenerror",e,!1))},ro.prototype.A8t=function(){if(this.o8t){var t=this.o8t;if(this.a8t){var i=this.a8t;t.removeEventListener("fullscreenchange",i,!1),t.removeEventListener("webkitfullscreenchange",i,!1),h.removeEventListener("mozfullscreenchange",i,!1),t.removeEventListener("msfullscreenchange",i,!1)}if(this.u8t){var e=this.u8t;t.removeEventListener("fullscreenerror",e,!1),t.removeEventListener("webkitfullscreenerror",e,!1),h.removeEventListener("mozfullscreenerror",e,!1),t.removeEventListener("msfullscreenerror",e,!1)}this.o8t=null,this.a8t=null,this.u8t=null}},ro.prototype.enableWakeLock=function(){this.c8t&&this.c8t.enable()},ro.prototype.disableWakeLock=function(){this.c8t&&this.c8t.disable()},ro.prototype.g8t=function(){},ro.prototype.w8t=function(){},ro.prototype.submitFrame=function(t){},ro.prototype.getEyeParameters=function(t){return null};var Z2={MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:3e3,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},K2="left",J2="right";function fo(t){var i=a2({},Z2);t=a2(i,t||{}),ro.call(this,{wakelock:t.MOBILE_WAKE_LOCK}),this.config=t,this.displayName="Cardboard VRDisplay",this.capabilities=new X2({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.p8t=this.config.BUFFER_SCALE,this.y8t=new R2(this.config),this.M8t=null,this.T8t=null,this.j9=null,this.N8t=null,this.D8t=new k2(this.config.DPDB_URL,this.I8t.bind(this)),this.S8t=new sa(this.D8t.getDeviceParams()),this.E8t=new xe,this.E8t.onChange(this.b8t.bind(this)),this.S8t.setViewer(this.E8t.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.L8t=new vh),cl()&&s.addEventListener("resize",this.rG.bind(this))}fo.prototype=_.create(ro.prototype),fo.prototype.l8t=function(){return{position:null,orientation:this.y8t.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},fo.prototype.d8t=function(){this.y8t.resetPose&&this.y8t.resetPose()},fo.prototype.v6t=function(t){var i;if(t==K2)i=this.S8t.getFieldOfViewLeftEye();else{if(t!=J2)return console.error("Invalid eye provided: %s",t),null;i=this.S8t.getFieldOfViewRightEye()}return i},fo.prototype.m6t=function(t){var i;if(t==K2)i=[.5*-this.S8t.viewer.interLensDistance,0,0];else{if(t!=J2)return console.error("Invalid eye provided: %s",t),null;i=[.5*this.S8t.viewer.interLensDistance,0,0]}return i},fo.prototype.getEyeParameters=function(t){var i=this.m6t(t),e=this.v6t(t),s={offset:i,renderWidth:.5*this.S8t.device.width*this.p8t,renderHeight:this.S8t.device.height*this.p8t};return _.defineProperty(s,"fieldOfView",{enumerable:!0,get:function(){return Yr("VRFieldOfView","VRFrameData's projection matrices"),e}}),s},fo.prototype.I8t=function(t){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.S8t.updateDeviceParams(t),this.M8t&&this.M8t.updateDeviceInfo(this.S8t)},fo.prototype.k8t=function(){this.Hy&&this.M8t&&(this.Hy.leftBounds||this.Hy.rightBounds)&&this.M8t.setTextureBounds(this.Hy.leftBounds,this.Hy.rightBounds)},fo.prototype.g8t=function(){var t=this.Hy.source.getContext("webgl");if(t||(t=this.Hy.source.getContext("experimental-webgl")),t||(t=this.Hy.source.getContext("webgl2")),t){if(this.j9=t.canvas,this.N8t=t.canvas.getAttribute("style"),this.Hy.predistorted?this.config.CARDBOARD_UI_DISABLED||(t.canvas.width=e2()*this.p8t,t.canvas.height=s2()*this.p8t,this.T8t=new lh(t)):(this.config.CARDBOARD_UI_DISABLED||(this.T8t=new lh(t)),this.M8t=new A2(t,this.T8t,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.M8t.updateDeviceInfo(this.S8t)),this.T8t&&this.T8t.listen(function(t){this.E8t.show(this.Hy.source.parentElement),t.stopPropagation(),t.preventDefault()}.bind(this),function(t){this.exitPresent(),t.stopPropagation(),t.preventDefault()}.bind(this)),this.L8t){var i=this.config.ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT;i2()&&o2()&&i?this.L8t.showTemporarily(i,this.Hy.source.parentElement):this.L8t.update()}this.orientationHandler=this.P6t.bind(this),s.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.k8t.bind(this),s.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.rG(),this.C8t()}},fo.prototype.w8t=function(){this.M8t&&(this.M8t.destroy(),this.M8t=null),this.T8t&&(this.T8t.destroy(),this.T8t=null),this.L8t&&this.L8t.hide(),this.E8t.hide(),this.j9&&(c2(this.j9),this.N8t?this.j9.setAttribute("style",this.N8t):this.j9.removeAttribute("style"),u2(this.j9),this.j9=null,this.N8t=null),s.removeEventListener("orientationchange",this.orientationHandler),s.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},fo.prototype.f8t=function(){this.w8t(),this.g8t()},fo.prototype.submitFrame=function(t){if(this.M8t)this.k8t(),this.M8t.submitFrame();else if(this.T8t&&this.Hy){var i=this.Hy.source.getContext("webgl").canvas;i.width==this.lastWidth&&i.height==this.lastHeight||this.T8t.onResize(),this.lastWidth=i.width,this.lastHeight=i.height,this.T8t.render()}},fo.prototype.P6t=function(t){this.E8t.hide(),this.L8t&&this.L8t.update(),this.rG()},fo.prototype.rG=function(t){if(this.Hy){var i=this.Hy.source.getContext("webgl");c2(i.canvas);i.canvas.setAttribute("style",["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"].join("; ")+";"),u2(i.canvas)}},fo.prototype.b8t=function(t){this.S8t.setViewer(t),this.M8t&&this.M8t.updateDeviceInfo(this.S8t),this.C8t()},fo.prototype.C8t=function(){var t=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.S8t}});s.dispatchEvent(t)},fo.VRFrameData=function(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null},fo.VRDisplay=ro;var $2={PROVIDE_MOBILE_VRDISPLAY:!0,GET_VR_DISPLAYS_TIMEOUT:1e3,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:3e3,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function t3(t){this.config=W4(W4({},$2),t),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in sd,this.native={},this.native.getVRDisplays=sd.getVRDisplays,this.native.VRFrameData=s.VRFrameData,this.native.VRDisplay=s.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&G4())&&(this.enable(),this.getVRDisplays().then((function(t){t&&t[0]&&t[0].m8t&&t[0].m8t()})))}t3.prototype.getPolyfillDisplays=function(){if(this.x8t)return this.polyfillDisplays;if(G4()){var t=new fo({MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,TOUCH_PANNER_DISABLED:this.config.TOUCH_PANNER_DISABLED,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:this.config.ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(t)}return this.x8t=!0,this.polyfillDisplays},t3.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var t=this.native.VRFrameData,i=new this.native.VRFrameData,e=this.native.VRDisplay.prototype.getFrameData;s.VRDisplay.prototype.getFrameData=function(s){s instanceof t?e.call(this,s):(e.call(this,i),s.pose=i.pose,V4(i.leftProjectionMatrix,s.leftProjectionMatrix),V4(i.rightProjectionMatrix,s.rightProjectionMatrix),V4(i.leftViewMatrix,s.leftViewMatrix),V4(i.rightViewMatrix,s.rightViewMatrix))}}sd.getVRDisplays=this.getVRDisplays.bind(this),s.VRDisplay=fo.VRDisplay,s.VRFrameData=fo.VRFrameData},t3.prototype.getVRDisplays=function(){var t,i=this,e=this.config;return this.hasNative?function(t){return Promise.race?Promise.race(t):new Promise((function(i,e){for(var s=0;s<t.length;s++)t[s].then(i,e)}))}([this.native.getVRDisplays.call(sd),new Promise((function(i){t=u((function(){console.warn("Native WebVR implementation detected, but `getVRDisplays()` failed to resolve. Falling back to polyfill."),i([])}),e.GET_VR_DISPLAYS_TIMEOUT)}))]).then((function(e){return c(t),e.length>0?e:i.getPolyfillDisplays()})):Promise.resolve(this.getPolyfillDisplays())},t3.version="0.10.5-opentelly.3",t3.VRFrameData=fo.VRFrameData,t3.VRDisplay=fo.VRDisplay;var i3=_.freeze({default:t3}),e3=i3&&t3||i3;void 0!==lr&&lr.window&&(lr.document||(lr.document=lr.window.document),lr.navigator||(lr.navigator=lr.window.navigator));new e3({TOUCH_PANNER_DISABLED:!0,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:0,MOBILE_WAKE_LOCK:!Zt.oL&&!Zt.Ga,DPDB_URL:void 0});r(),r(),r();var s3=class{O8t(t,i){const e=this.j8t;let s;switch(i){case e.VERTEX_SHADER:s=e.createShader(i),this.z8t=s;break;case e.FRAGMENT_SHADER:s=e.createShader(i),this.P8t=s;break;default:return void console.error("Invalid Shader Type:",i)}e.attachShader(this.B8t,s),e.shaderSource(s,t),e.compileShader(s)}R8t(t){const i=this.j8t;if(t){this.U8t={};for(const e in t)i.bindAttribLocation(this.B8t,t[e],e),this.U8t[e]=t[e]}}Q8t(){this.j8t.linkProgram(this.B8t)}F8t(){const t=this.j8t;if(this.Y8t){if(t.getProgramParameter(this.B8t,t.LINK_STATUS)){if(!this.U8t){this.U8t={};const i=t.getProgramParameter(this.B8t,t.ACTIVE_ATTRIBUTES);for(let e=0;e<i;e++){const i=t.getActiveAttrib(this.B8t,e);this.U8t[i.name]=t.getAttribLocation(this.B8t,i.name)}}this.G8t={};const i=t.getProgramParameter(this.B8t,t.ACTIVE_UNIFORMS);let e="";for(let s=0;s<i;s++){e=t.getActiveUniform(this.B8t,s).name.replace("[0]",""),this.G8t[e]=t.getUniformLocation(this.B8t,e)}}else this.z8t&&!t.getShaderParameter(this.z8t,t.COMPILE_STATUS)?console.error("Vertex shader compile error:",t.getShaderInfoLog(this.z8t)):this.P8t&&!t.getShaderParameter(this.P8t,t.COMPILE_STATUS)?console.error("Fragment shader compile error:",t.getShaderInfoLog(this.P8t)):console.error("Program link error:",t.getProgramInfoLog(this.B8t)),t.deleteProgram(this.B8t),this.B8t=null;t.deleteShader(this.z8t),t.deleteShader(this.P8t),this.Y8t=!1}t.useProgram(this.B8t)}constructor(t){this.U8t=null,this.G8t=null,this.Y8t=!0,this.z8t=null,this.P8t=null,this.j8t=t,this.B8t=t.createProgram()}},n3=class{pr(t,i,e){let s=this.j8t;this.V8t(t,i,s,e),this.t.hg||this.t.j9.QY(s,s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE),s.drawElements(s.TRIANGLES,this.W8t,s.UNSIGNED_SHORT,0)}H8t(t){this.q8t||(t.bindTexture(t.TEXTURE_2D,this.X8t),this.t.j9.QY(t,t.TEXTURE_2D,0,t.RGB,t.RGB,t.UNSIGNED_BYTE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this.q8t=!0)}V8t(t,i,e,s){const n=this.B8t;n.F8t(),this.H8t(e);const r=n.G8t,h=n.U8t;let o;e.uniformMatrix4fv(r.projectionMat,!1,t),e.uniformMatrix4fv(r.modelViewMat,!1,i),o="right"===s?this.Z8t:this.K8t,e.bindBuffer(e.ARRAY_BUFFER,o),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.J8t),e.enableVertexAttribArray(h.position),e.enableVertexAttribArray(h.texCoord),e.vertexAttribPointer(h.position,3,e.FLOAT,!1,20,0),e.vertexAttribPointer(h.texCoord,2,e.FLOAT,!1,20,12),e.activeTexture(e.TEXTURE0),e.uniform1i(r.diffuse,0),e.bindTexture(e.TEXTURE_2D,this.X8t)}constructor(t,i,e){this.q8t=!1,this.j8t=t,this.X8t=t.createTexture();let s=["uniform mat4 projectionMat;","uniform mat4 modelViewMat;","attribute vec3 position;","attribute vec2 texCoord;","varying vec2 vTexCoord;","void main() {","  vTexCoord = texCoord;","  gl_Position = projectionMat * modelViewMat * vec4( position, 1.0 );","}"].join("\n"),n=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");this.B8t=new s3(t),this.B8t.O8t(s,t.VERTEX_SHADER),this.B8t.O8t(n,t.FRAGMENT_SHADER),this.B8t.R8t({position:0,texCoord:1}),this.B8t.Q8t();const r=[],h=[],o=[],a=40;for(let t=0;t<=40;++t){const i=t*x.PI/40,s=x.sin(i),n=x.cos(i);for(let i=0;i<=a;++i){const o=2*i*x.PI/a-x.PI,u=x.sin(o)*s,c=n,l=-x.cos(o)*s,d=i/a,f=t/40;switch(e){case"horizontal":r.push(2*u,2*c,2*l,d/2,f),h.push(2*u,2*c,2*l,d/2+.5,f);break;case"vertical":r.push(2*u,2*c,2*l,d,f/2),h.push(2*u,2*c,2*l,d,f/2+.5);break;default:r.push(2*u,2*c,2*l,d,f)}}}for(let t=0;t<40;++t){let i=41*t,e=41*(t+1);for(let t=0;t<a;++t){let s=i+t,n=e+t;o.push(s,n,s+1,n,n+1,s+1)}}switch(this.K8t=t.createBuffer(),this.Z8t=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.K8t),t.bufferData(t.ARRAY_BUFFER,new Float32Array(r),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.Z8t),e){case"horizontal":case"vertical":t.bufferData(t.ARRAY_BUFFER,new Float32Array(h),t.STATIC_DRAW);break;default:t.bufferData(t.ARRAY_BUFFER,new Float32Array(r),t.STATIC_DRAW)}this.J8t=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.J8t),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(o),t.STATIC_DRAW),this.W8t=o.length,this.t=i}};r();var hr=class extends z{fa(){return new r3}constructor(){super("$8t")}},r3=class extends mg{constructor(){super("stereochange")}};r();var Vc=class extends z{fa(){return new h3}constructor(){super("t9t")}},h3=class extends mg{constructor(){super("directionchange")}};r(),r();var Yh=x.PI/180,o3=180/x.PI,Nc=class{zz(t,i){return this.x=t,this.y=i,this}plt(t){return this.x=t.x,this.y=t.y,this}i9t(t){return this.zz(t[0],t[1])}e9t(){const t=new Float32Array(2);return t[0]=this.x,t[1]=this.y,t}s9t(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this}constructor(t,i){this.x=t||0,this.y=i||0}},io=class{zz(t,i,e){return this.x=t,this.y=i,this.z=e,this}plt(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}i9t(t){return this.zz(t[0],t[1],t[2])}e9t(){const t=new Float32Array(3);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t}U(){return x.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}n9t(){const t=this.U();if(0!==t){const i=1/t;this.r9t(i)}else this.x=0,this.y=0,this.z=0;return this}r9t(t){this.x*=t,this.y*=t,this.z*=t}h9t(t){const i=this.x,e=this.y,s=this.z,n=t.x,r=t.y,h=t.z,o=t.w,a=o*i+r*s-h*e,u=o*e+h*i-n*s,c=o*s+n*e-r*i,l=-n*i-r*e-h*s;return this.x=a*o+l*-n+u*-h-c*-r,this.y=u*o+l*-r+c*-n-a*-h,this.z=c*o+l*-h+a*-r-u*-n,this}o9t(t){return this.x*t.x+this.y*t.y+this.z*t.z}a9t(t,i){const e=t.x,s=t.y,n=t.z,r=i.x,h=i.y,o=i.z;return this.x=s*o-n*h,this.y=n*r-e*o,this.z=e*h-s*r,this}constructor(t,i,e){this.x=t||0,this.y=i||0,this.z=e||0}},Ra=class{zz(t,i,e,s){return this.x=t,this.y=i,this.z=e,this.w=s,this}plt(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this}i9t(t){return this.zz(t[0],t[1],t[2],t[3])}e9t(){const t=new Float32Array(4);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t[3]=this.w,t}o9t(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}KD(t){return this.u9t(this,t)}u9t(t,i){const e=t.x,s=t.y,n=t.z,r=t.w,h=i.x,o=i.y,a=i.z,u=i.w;return this.x=e*u+r*h+s*a-n*o,this.y=s*u+r*o+n*h-e*a,this.z=n*u+r*a+e*o-s*h,this.w=r*u-e*h-s*o-n*a,this}c9t(){return this.x*=-1,this.y*=-1,this.z*=-1,this.n9t(),this}l9t(){const t=this.x,i=this.y,e=this.z,s=this.w,n=t*i+e*s;let r,h,o;if(n>.499)r=2*x.atan2(t,s),h=x.PI/2,o=0;else if(n<-.499)r=-2*x.atan2(t,s),h=-x.PI/2,o=0;else{const a=t*t,u=i*i,c=e*e;r=x.atan2(2*i*s-2*t*e,1-2*u-2*c),h=x.asin(2*n),o=x.atan2(2*t*s-2*i*e,1-2*a-2*c)}return new Kc(r,o,h)}n9t(){let t=x.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this}constructor(t,i,e,s){this.x=t||0,this.y=i||0,this.z=e||0,this.w=void 0!==s?s:1}},Kc=class{zz(t,i,e){return this.d9t=t,this.f9t=i,this._9t=e,this}plt(t){return this.zz(t.d9t,t.f9t,t._9t)}mN(t){return this.d9t+=t.d9t,this.f9t+=t.f9t,this._9t+=t._9t,this}g9t(){const t=this.d9t,i=this._9t,e=this.f9t,s=x.cos(t/2),n=x.cos(i/2),r=x.cos(e/2),h=x.sin(t/2),o=x.sin(i/2),a=x.sin(e/2),u=s*n,c=h*o;return new Ra(u*a+c*r,h*n*r+s*o*a,s*o*r-h*n*a,u*r-c*a)}constructor(t,i,e){this.d9t=t||0,this.f9t=i||0,this._9t=e||0}},a3=.15,u3=class{kS(){this.Rt||(this.Rt=!0,this.we.addEventListener("keydown",this.w9t),this.we.addEventListener("mousedown",this.A9t),this.we.addEventListener("touchstart",this.v9t),s.addEventListener("mousemove",this.ir),s.addEventListener("mouseup",this.m9t),this.p9t(s),s.addEventListener("touchmove",this.y9t),s.addEventListener("touchend",this.M9t))}p9t(t){if(iD(t));else if(on(t))try{t.parent.addEventListener("mouseup",this.m9t),this.p9t(t.parent)}catch(i){t.document.documentElement.addEventListener("mouseleave",this.T9t)}}CS(){this.Rt&&(this.Rt=!1,this.N9t=!1,this.D9t&&(Gs(this.D9t),this.D9t=null),this.we.removeEventListener("keydown",this.w9t),this.we.removeEventListener("mousedown",this.A9t),this.we.removeEventListener("touchstart",this.v9t),s.removeEventListener("mousemove",this.ir),s.removeEventListener("mouseup",this.m9t),this.I9t(s),s.removeEventListener("touchmove",this.y9t),s.removeEventListener("touchend",this.M9t))}I9t(t){if(t.document.documentElement.removeEventListener("mouseleave",this.T9t),on(t))try{t.parent.removeEventListener("mouseup",this.m9t),this.I9t(t.parent)}catch(t){}}get S9t(){return new Kc(this.E9t,this.b9t,this.L9t)}set S9t(t){this.E9t=t.d9t,this.b9t=t.f9t,this.L9t=t._9t}k9t(t){this.C9t("E9t",t)}x9t(t){t=Sc(t,-x.PI/2,x.PI/2),this.C9t("b9t",t)}C9t(t,i){this.D9t&&Gs(this.D9t);let e=this[t],s=IE(),n=()=>{let r=IE()-s;if(r>=80)return this[t]=i,Gs(this.D9t),void(this.D9t=null);this.D9t=Lr(n);let h=r/80;this[t]=e+(i-e)*h};this.D9t=Lr(n)}O9t(){this.b9t+=2*x.PI*this.j9t.y/this.we.clientHeight*.3,this.E9t+=2*x.PI*this.j9t.x/this.we.clientWidth*.5,this.b9t=Sc(this.b9t,-x.PI/2,x.PI/2)}z9t(){this.N9t=!1}P9t(){return(h.pointerLockElement||h.mozPointerLockElement||h.webkitPointerLockElement)===this.we}resetPose(){this.b9t=0,this.E9t=0}gn(){this.CS()}constructor(t){this.Rt=!1,this.b9t=0,this.E9t=0,this.L9t=0,this.D9t=null,this.B9t=new Nc,this.R9t=new Nc,this.j9t=new Nc,this.N9t=!1,this.w9t=t=>{38===t.keyCode?this.x9t(this.b9t+a3):39===t.keyCode?this.k9t(this.E9t-a3):40===t.keyCode?this.x9t(this.b9t-a3):37===t.keyCode&&this.k9t(this.E9t+a3)},this.A9t=t=>{this.B9t.zz(t.clientX,t.clientY),this.N9t=!0,t.preventDefault()},this.v9t=t=>{t.touches&&1===t.touches.length&&(this.B9t.zz(t.touches[0].pageX,t.touches[0].pageY),this.N9t=!0,t.preventDefault())},this.ir=t=>{if(this.N9t||this.P9t()){if(this.P9t()){let i=t.movementX||t.mozMovementX||0,e=t.movementY||t.mozMovementY||0;this.R9t.zz(this.B9t.x-i,this.B9t.y-e)}else this.R9t.zz(t.clientX,t.clientY);this.j9t.s9t(this.R9t,this.B9t),this.B9t.plt(this.R9t),this.O9t()}},this.y9t=t=>{this.N9t&&(this.R9t.zz(t.touches[0].pageX,t.touches[0].pageY),this.j9t.s9t(this.R9t,this.B9t),this.B9t.plt(this.R9t),this.O9t())},this.m9t=t=>{this.z9t()},this.M9t=t=>{this.z9t()},this.T9t=t=>{this.z9t()},this.we=t}};r();var to=eo(T_()),c3=eo(N_()),l3=(eo(D_()),eo(I_())),d3=(eo(S_()),eo(E_())),f3=eo(b_()),_3=eo(L_()),g3=eo(k_()),w3=eo(C_());r();var ri,A3=["t9t","Trt","$8t","error"];function v3(t){let i,e={get stereo(){return t.U9t},set stereo(i){t.U9t=i},get useDeviceMotionControls(){return t.Q9t},set useDeviceMotionControls(i){t.Q9t=i},get direction(){return t.F9t},set direction(i){t.F9t=i},get verticalFOV(){return t.Y9t},set verticalFOV(i){t.Y9t=i},get canPresentVR(){return t.G9t},get state(){return t.Pct},addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)}};return i=new $u(t,A3,e),e}r(),function(t){t.Rs="unavailable",t.V9t="available",t.Oa="presenting"}(ri||(ri={}));var m3=new Kc(0*Yh,0,0);function p3(t){return wl(t+180,360)-180}function y3(t,i){let e=t.o9t(i);return 1-e*e<1e-4}var M3=class extends i{ko(){sd.getVRDisplays?(this.W9t=new VRFrameData,this.H9t(),s.addEventListener("vrdisplayconnect",this.H9t,!1),s.addEventListener("vrdisplaydisconnect",this.H9t,!1),s.addEventListener("vrdisplayactivate",this.q9t,!1),s.addEventListener("vrdisplaydeactivate",this.X9t,!1),s.addEventListener("vrdisplaypresentchange",this.Z9t,!1)):sd.getVRDevices?this.K9t("Your browser supports WebVR but not the latest version.",y_.VR_PLATFORM_UNSUPPORTED):this.K9t("Your browser does not support WebVR.",y_.VR_PLATFORM_UNSUPPORTED),this.t.yn(t.lo,this.do),this.do()}J9t(){let t={alpha:!1,antialias:!1,preserveDrawingBuffer:!0};if(!this.$9t){const t=h.createElement("canvas");t.className="theoplayer-vr",ta(t),t.style.zIndex="2",this.t.we.appendChild(t),this.$9t=t}this.j8t=this.$9t.getContext("webgl",t),this.j8t||(this.j8t=this.$9t.getContext("experimental-webgl",t),this.j8t)?(this.j8t.enable(this.j8t.DEPTH_TEST),this.j8t.enable(this.j8t.CULL_FACE)):this.K9t("Your browser does not support WebGL.",y_.VR_PLATFORM_UNSUPPORTED)}t7t(){let t=this.F9t;this.i7t||(this.J9t(),this.i7t=!0),this.j8t&&(this.e7t(new n3(this.j8t,this.t,this.s7t)),this.$9t.style.display="",this.gi||(this.gi=new u3(this.$9t)),this.gi.kS(),this.t.ya.yn(Ac.ra,this.rG),this.t.yn(_r.pn,this.rG),this.F9t=t,this.rG(),this.n7t=Lr(this.r7t))}h7t(){let t=this.F9t;this.e7t(void 0),this.gi&&this.gi.CS(),this.$9t&&(this.$9t.style.display="none"),this.t.ya.fn(Ac.ra,this.rG),this.t.fn(_r.pn,this.rG),this.n7t&&Gs(this.n7t),this.F9t=t}o7t(){var t;return null==(t=this.t.Wa())?void 0:t.vr}a7t(t){let i=this.Pct,e=this.U9t;this.u7t&&(this.c7t=void 0,this.X9t()),this.u7t=t,this.u7t&&(this.u7t.depthNear=.1,this.u7t.depthFar=1024),this.U9t=e,this.Pct!==i&&this.Co(new dl),this.U9t!==e&&this.Co(new hr)}l7t(t){let i=this.Pct;this.d7t=t,this.Pct!==i&&this.Co(new dl)}e7t(t){let i=this.Pct;this.f7t=t,this.Pct!==i&&this.Co(new dl)}_7t(t){let i=this.Pct,e=this.U9t;this.g7t=t,this.gi&&(t?this.gi.CS():this.gi.kS()),this.Pct!==i&&this.Co(new dl),this.U9t!==e&&this.Co(new hr)}w7t(t){let i=this.U9t;this.A7t=t,this.U9t!==i&&this.Co(new hr)}v7t(){let t=this.$9t;this.m7t===t.width&&this.p7t===t.height||(t.width=this.m7t,t.height=this.p7t,this.y7t())}M7t(t,i){(0,c3.default)(t,i.e9t()),(0,d3.default)(t,t)}useDeviceOrientation(){return!!this.g7t||this.T7t}N7t(){const t=DeviceMotionEvent.requestPermission;"function"==typeof t&&t().catch(fg)}K9t(t,i){oc(t),this.Co(new pe(new ce(i,t)))}D7t(){this.Co(new Vc)}get U9t(){return this.G9t?this.g7t:this.A7t}set U9t(t){this.G9t?t?this.q9t():this.X9t():this.w7t(t)}get Q9t(){return this.T7t}set Q9t(t){this.U9t||(this.T7t=t,t&&Zt.Ga&&this.N7t())}get F9t(){let t=this.S9t;return{yaw:p3(t.d9t*o3),pitch:t.f9t*o3,roll:x.round(t._9t*o3)}}set F9t(t){let i=p3(t&&+t.yaw||0),e=p3(t&&+t.pitch||0),s=p3(t&&+t.roll||0);this.S9t=new Kc(i*Yh,e*Yh,s*Yh)}get S9t(){if(this.Pct===ri.Rs)return this.I7t.l9t();let t=this.S7t,i=this.E7t,e=new Kc;return t&&e.mN(t),i&&e.mN(i),e}set S9t(t){const i=this.S9t.g9t();if(this.Pct===ri.Rs)this.I7t=t.g9t();else{let i=this.u7t;i&&i.resetPose&&i.resetPose(),this.gi&&(this.gi.S9t=t),this.I7t=this.S9t.g9t()}y3(i,this.I7t)||this.D7t()}get S7t(){let t=this.c7t&&this.c7t.orientation;if(t)return(new Ra).i9t(t).l9t()}get E7t(){return this.gi&&this.gi.S9t}get Y9t(){return 180*this.b7t}set Y9t(t){t&&t>=0&&t<=180&&(this.b7t=+t/180)}get G9t(){return!(!this.u7t||!this.u7t.capabilities.canPresent)}get Pct(){var t;return this.d7t&&((null==(t=this.o7t())?void 0:t.nativeVR)||this.f7t)?this.g7t?ri.Oa:ri.V9t:ri.Rs}gn(){this.Vo(),this.h7t(),this.X9t(),this.t.fn(t.lo,this.do),sd.getVRDisplays&&(s.removeEventListener("vrdisplayconnect",this.H9t,!1),s.removeEventListener("vrdisplaydisconnect",this.H9t,!1),s.removeEventListener("vrdisplayactivate",this.q9t,!1),s.removeEventListener("vrdisplaydeactivate",this.X9t,!1),s.removeEventListener("vrdisplaypresentchange",this.Z9t,!1))}constructor(t){super(),this.I7t=new Ra,this.b7t=.4,this.A7t=!1,this.T7t=!1,this.d7t=!1,this.wd=void 0,this.s7t=bS.NONE,this.gi=void 0,this.L7t=[],this.u7t=void 0,this.g7t=!1,this.i7t=!1,this.$9t=void 0,this.f7t=void 0,this.j8t=null,this.n7t=0,this.W9t=void 0,this.c7t=void 0,this.k7t=(0,to.default)(),this.C7t=(0,to.default)(),this.m7t=0,this.p7t=0,this.x7t=!0,this.O7t=0,this.j7t=()=>{this.t.fn(er.Tv,this.j7t);let t=this.o7t();t&&!t.nativeVR&&this.t7t()},this.do=()=>{this.h7t();let t=this.o7t();this.wd=t,t&&t.panoramaMode!==ol.NONE?(t.panoramaMode===ol.PM180&&Bi("PanoramaMode is set to '180' while the VR API only supports '360', consider using the WebXR API if you need to play 180 degree content."),this.l7t(!0),t.nativeVR?this.Co(new dl):(this.s7t=t.stereoMode,this.t.yn(er.Tv,this.j7t))):this.l7t(!1)},this.q9t=async()=>{if(this.Pct!==ri.Rs&&this.G9t){this.x7t=!1,this.z7t();try{await this.u7t.requestPresent([{source:this.$9t}])}catch(t){this.K9t("Failed to present VR content.",y_.VR_PRESENTATION_ERROR)}finally{this.Z9t()}}},this.X9t=async()=>{if(this.u7t)try{await this.u7t.exitPresent()}catch(t){}finally{this.Z9t()}},this.H9t=async()=>{try{this.L7t=await sd.getVRDisplays(),this.u7t&&Ho(this.L7t,this.u7t)||this.a7t(this.L7t[0])}catch(t){this.L7t=[],this.a7t(void 0)}},this.Z9t=()=>{this._7t(!!this.u7t&&this.u7t.isPresenting),this.rG(),this.x7t=!this.g7t,this.x7t?Lr(this.y7t):this.z7t()},this.rG=()=>{if(!this.$9t)return;const t=this.t.we.offsetWidth,i=this.t.we.offsetHeight;let e=this.u7t;if(e&&this.U9t){let t=e.getEyeParameters("left"),i=e.getEyeParameters("right");t&&i&&(this.m7t=2*x.max(t.renderWidth,i.renderWidth),this.p7t=x.max(t.renderHeight,i.renderHeight))}else{let e=lg.Ys.B4;this.m7t=t*e,this.p7t=i*e}},this.y7t=()=>{if(!Zt.Ga||!this.$9t||!this.x7t)return;this.z7t();let t=this.$9t,i=t.offsetWidth+1,e=t.offsetHeight;t.style.width=i+"px",t.style.height=e+"px",this.O7t=Lr(this.z7t)},this.z7t=()=>{if(!this.O7t)return;let t=this.$9t;t.style.width="100%",t.style.height="100%",Gs(this.O7t),this.O7t=0},this.r7t=()=>{let t=this.u7t,i=this.b7t,e=this.$9t,s=this.f7t,n=this.j8t,r=this.W9t,h=this.k7t,o=this.C7t;this.v7t(),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),t&&this.useDeviceOrientation()&&(t.getFrameData(r),this.c7t=r.pose);let a=this.S9t.g9t();this.M7t(o,a),t&&t.isPresenting?(this.n7t=t.requestAnimationFrame(this.r7t),n.viewport(0,0,.5*e.width,e.height),s.pr(r.leftProjectionMatrix,o,"left"),n.viewport(.5*e.width,0,.5*e.width,e.height),s.pr(r.rightProjectionMatrix,o,"right"),t.submitFrame()):(this.n7t=Lr(this.r7t),(0,_3.default)(h,x.PI*i,e.width/e.height,.1,1024),this.U9t?(n.viewport(0,0,.5*e.width,e.height),s.pr(h,o,"left"),n.viewport(.5*e.width,0,.5*e.width,e.height),s.pr(h,o,"right")):(n.viewport(0,0,e.width,e.height),s.pr(h,o))),y3(a,this.I7t)||(this.I7t.plt(a),this.D7t())},this.t=t,this.S9t=m3,this.va=v3(this),this.ko()}};r(),ti((function(t){return class extends t{fa(){if(null!==this.P7t){const t=this.P7t.va;return _l(super.fa(),{vr:t})}return super.fa()}gn(){var t;null==(t=this.P7t)||t.gn(),super.gn()}constructor(t,i){super(t,i),this.P7t=null,i.vr.useWebXR||(this.P7t=new M3(this))}}}),tu.Za),r(),r(),r(),r();var T3=class{kS(){this.Le||(this.Le=!0,this.Us.addEventListener("mousedown",this.A9t),this.Us.addEventListener("touchstart",this.v9t),s.addEventListener("mousemove",this.ir),s.addEventListener("touchmove",this.y9t),s.addEventListener("mouseup",this.m9t),s.addEventListener("touchend",this.M9t),this.p9t(s))}CS(){this.Le&&(this.Le=!1,this.Us.removeEventListener("mousedown",this.A9t),this.Us.removeEventListener("touchstart",this.v9t),s.removeEventListener("mousemove",this.ir),s.removeEventListener("touchmove",this.y9t),s.removeEventListener("mouseup",this.m9t),s.removeEventListener("touchend",this.M9t),this.I9t(s))}p9t(t){if(iD(t));else if(on(t))try{t.parent.addEventListener("mouseup",this.m9t),this.p9t(t.parent)}catch(i){t.document.documentElement.addEventListener("mouseleave",this.T9t)}}I9t(t){if(t.document.documentElement.removeEventListener("mouseleave",this.T9t),on(t))try{t.parent.removeEventListener("mouseup",this.m9t),this.I9t(t.parent)}catch(t){}}z9t(){this.B7t=!1}O9t(){const t=this.U7t.R7t;t.yaw+=2*x.PI*this.Q7t.x*.4/this.Us.clientWidth,t.pitch+=2*x.PI*this.Q7t.y*.5/this.Us.clientHeight,t.pitch=Sc(t.pitch,-x.PI/2,x.PI/2),this.U7t.R7t=t}P9t(){return(h.pointerLockElement||h.mozPointerLockElement||h.webkitPointerLockElement)===this.Us}gn(){this.CS()}constructor(t,i){this.Le=!1,this.F7t=new Nc,this.Y7t=new Nc,this.Q7t=new Nc,this.B7t=!1,this.A9t=t=>{this.F7t.zz(t.clientX,t.clientY),this.B7t=!0,t.preventDefault(),t.stopPropagation()},this.v9t=t=>{t.touches&&1===t.touches.length&&(this.F7t.zz(t.touches[0].pageX,t.touches[0].pageY),this.B7t=!0,t.preventDefault())},this.ir=t=>{if(this.B7t||this.P9t()){if(this.P9t()){const i=t.movementX||t.mozMovementX||0,e=t.movementY||t.mozMovementY||0;this.Y7t.zz(this.F7t.x-i,this.F7t.y-e)}else this.Y7t.zz(t.clientX,t.clientY);this.Q7t.s9t(this.Y7t,this.F7t),this.F7t.plt(this.Y7t),this.O9t()}},this.y9t=t=>{this.B7t&&(this.Y7t.zz(t.touches[0].pageX,t.touches[0].pageY),this.Q7t.s9t(this.Y7t,this.F7t),this.F7t.plt(this.Y7t),this.O9t())},this.m9t=()=>{this.z9t()},this.M9t=()=>{this.z9t()},this.T9t=()=>{this.z9t()},this.U7t=t,this.Us=i}};r();var N3=class{G7t(t){t.clearColor(...this.AH),t.clear(t.COLOR_BUFFER_BIT)}V7t(t,i){t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.DEPTH_BUFFER_BIT),this.W7t.forEach((e=>{e.V7t(t,i)}))}H7t(t){this.W7t.push(t)}q7t(){this.W7t=[]}constructor(){this.AH=[0,0,0,1],this.W7t=[]}};r(),r(),r();var D3=class{X7t(t,i,e){const s=t.createBuffer();return null===s?(Bi("Failed to create buffer."),null):(t.bindBuffer(i,s),t.bufferData(i,e,t.STATIC_DRAW),s)}constructor(t,i,e,s,n){this.Z7t=t,this.FL=this.X7t(t,i,e),this.K7t=s,this.v0=n,this.J7t=!1,this.$7t=0,this.Zu=0}},I3=class extends D3{kS(t){if(null===this.FL)return void Bi("Attempted to enable buffer that failed to initialize.");if(null===t)return void Bi("Attempted to enable attribute without location.");const i=this.Z7t;i.bindBuffer(i.ARRAY_BUFFER,this.FL),i.vertexAttribPointer(t,this.K7t,this.v0,this.J7t,this.$7t,this.Zu),i.enableVertexAttribArray(t)}CS(t){t&&this.Z7t.disableVertexAttribArray(t)}constructor(t,i,e){super(t,t.ARRAY_BUFFER,i,e,t.FLOAT)}};var S3,Gc,mh,E3=class extends D3{tti(){const t=this.Z7t;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.FL),t.drawElements(t.TRIANGLES,this.iti,this.v0,this.Zu)}constructor(t,i){super(t,t.ELEMENT_ARRAY_BUFFER,i,1,t.UNSIGNED_SHORT),this.iti=i.length}};r(),function(t){t.VertexPos="aVertexPosition",t.VertexUV="aVertexUV",t.VertexColor="aVertexColor"}(S3||(S3={})),function(t){t.ProjectionMat="uProjectionMatrix",t.ModelViewMat="uModelViewMatrix",t.Texture="uTexture"}(Gc||(Gc={})),function(t){t.Normal="vNormal",t.Color="vColor",t.UV="vUV"}(mh||(mh={}));var b3=class{eti(t,i,e){const s=this.sti(t,t.VERTEX_SHADER,i),n=this.sti(t,t.FRAGMENT_SHADER,e);if(null===s||null===n)return Bi("Failed to create vertex or fragment shader."),null;const r=t.createProgram();return null===r?(Bi("Failed to create shader program"),null):(t.attachShader(r,s),t.attachShader(r,n),t.linkProgram(r),t.getProgramParameter(r,t.LINK_STATUS)?r:(Bi("Failed to initialize shader program"),null))}sti(t,i,e){const s=t.createShader(i);if(null===s)return Bi("failed to create shader."),null;if(t.shaderSource(s,e),t.compileShader(s),!t.getShaderParameter(s,t.COMPILE_STATUS)){const i=t.getShaderInfoLog(s);return Bi("Failed to compile shader with error: "+i),t.deleteShader(s),null}return s}nti(){return this.rti}hti(t){const i=this.rti;if(null===i)return Bi("Attempted to retrieve attribute location when shader program was not initialized"),null;const e=this.Z7t.getAttribLocation(i,t);return-1===e?null:e}oti(t){const i=this.rti;if(null===i)return Bi("Attempted to retrieve uniform location when shader program was not initialized"),null;const e=this.Z7t.getUniformLocation(i,t);return null===e&&oc("Attempted to retrieve nonexistent uniform: "+t),e}constructor(t,i,e){this.Z7t=t,this.rti=this.eti(this.Z7t,i,e)}},co=class{ati(){const t=this.uti.length,i=x.max(...this.cti);return i>=t?(oc("Created geometry where largest index ("+i+") is larger than/equal to attribute array size ("+t+")"),!1):(i<t-1&&Bi("Created geometry where largest index ("+i+") is smaller than attribute buffer - 1 ("+(t-1)+") resulting in unused vertices"),!this.lti||this.lti.length===t||(oc("Created geometry where position ("+t+") and uv ("+this.lti.length+") buffers have different length."),!1))}dti(t,i){if(!this.ati())throw new b("Failed to validate buffers for WebGLGeometry.");const e=function(t,i){const e=[];return i.forEach((t=>{e.push(t.x,t.y,t.z)})),new I3(t,new Float32Array(e),3)}(t,this.uti),s=function(t,i){return new E3(t,new Uint16Array(i))}(t,this.cti),n=function(t,i){const e=[];return i.forEach((t=>{e.push(t.x,t.y)})),new I3(t,new Float32Array(e),2)}(t,this.lti);return new L3(e,s,n,i)}constructor(t,i,e){this.uti=t,this.cti=i,this.lti=e}},L3=class{fti(){this.uti.kS(this._ti),null!==this.gti&&this.lti.kS(this.gti)}wti(){this.uti.CS(this._ti),null!==this.gti&&this.lti.CS(this.gti)}V7t(){this.cti.tti()}constructor(t,i,e,s){this.uti=t;const n=s.hti(S3.VertexPos);if(null===n)throw new b("Failed to get position attribute location.");this._ti=n,this.lti=e,this.gti=s.hti(S3.VertexUV),this.cti=i}},k3=class extends co{constructor(t=1,i=32,e=16,s=0,n=2*x.PI,r=0,h=x.PI){let o=0;const a=x.min(r+h,x.PI),u=[],c=[],l=[],d=[];for(let u=0;u<=e;u++){const f=[],_=u/e;let g=0;0===u&&0===r?g=.5/i:u===e&&a===x.PI&&(g=-.5/i);for(let e=0;e<=i;e++){const a=e/i,u=-t*x.cos(s+a*n)*x.sin(r+_*h),d=t*x.cos(r+_*h),w=t*x.sin(s+a*n)*x.sin(r+_*h);c.push(new io(u,d,w)),l.push(new Nc(a+g,1-_)),f.push(o++)}d.push(f)}for(let t=0;t<e;t++)for(let s=0;s<i;s++){const i=d[t][s+1],n=d[t][s],h=d[t+1][s],o=d[t+1][s+1];(0!==t||r>0)&&u.push(i,n,o),(t!==e-1||a<x.PI)&&u.push(n,h,o)}super(c,u,l)}};r(),r();var C3=[0,0,0,255,0,0,0,255,0,0,0,255,0,0,0,255],x3=class{Ati(){const t=this.Z7t;t.activeTexture(this.vti),t.bindTexture(t.TEXTURE_2D,this.mti)}Qg(){const t=this.Z7t;t.activeTexture(this.vti),t.bindTexture(t.TEXTURE_2D,this.mti),t.uniform1i(this.pti,0)}yti(t){const i=this.Z7t;i.bindTexture(i.TEXTURE_2D,this.mti),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.texImage2D(i.TEXTURE_2D,this.fK,this.Mti,this.Tti,this.Nti,t),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!1)}Dti(t){const i=this.Z7t;i.bindTexture(i.TEXTURE_2D,this.mti),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),t.j9.QY(i,i.TEXTURE_2D,this.fK,this.Mti,this.Tti,this.Nti),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!1)}constructor(t,i){if(this.Z7t=t,this.mti=t.createTexture(),null===this.mti)throw new b("Failed to create texture");const e=i.oti(Gc.Texture);if(null===e)throw new b("Failed to get texture location.");this.pti=e,t.bindTexture(t.TEXTURE_2D,this.mti),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),this.vti=t.TEXTURE0,this.fK=0,this.Mti=t.RGBA,this.Tti=t.RGBA,this.Nti=t.UNSIGNED_BYTE,t.texImage2D(t.TEXTURE_2D,this.fK,this.Mti,2,2,0,this.Tti,this.Nti,new T(C3))}},O3="\n    attribute vec4 "+S3.VertexPos+";\n    attribute vec2 "+S3.VertexUV+";\n\n    uniform mat4 "+Gc.ModelViewMat+";\n    uniform mat4 "+Gc.ProjectionMat+";\n    \n    varying mediump vec2 "+mh.UV+";\n    \n    void main() {\n      gl_Position = "+Gc.ProjectionMat+" * "+Gc.ModelViewMat+" * "+S3.VertexPos+";\n      "+mh.UV+" = "+S3.VertexUV+";\n    }\n",j3="\n    varying mediump vec2 "+mh.UV+";\n    \n    uniform sampler2D "+Gc.Texture+";\n\n    void main() {\n      gl_FragColor = texture2D("+Gc.Texture+", "+mh.UV+");\n    }\n",z3=class{nti(){return this.rti}kS(){this.Z7t.useProgram(this.rti.nti()),this.mti.Qg()}Iti(t){this.mti.yti(t)}Sti(t){this.mti.Dti(t)}constructor(t){this.Z7t=t,this.rti=new b3(t,O3,j3),this.mti=new x3(t,this.rti)}};r();var P3=class{V7t(t,i){if(this.Eti(i.bti)){this.Lti.fti(),this.kti.kS();const e=this.Cti,s=i.xti,n=(0,f3.default)(s,s,e);t.uniformMatrix4fv(this.Oti,!1,n);const r=i.jti;t.uniformMatrix4fv(this.zti,!1,r),this.Lti.V7t(),this.Lti.wti()}}Eti(t){return"none"===this.bti||"right"!==t&&"left"===this.bti||"right"===t&&"right"===this.bti}get Cti(){const t=(0,to.default)(),i=this.po;return(0,w3.default)(t,t,i.e9t()),(0,g3.default)(t,t,this.Pti.x,new Float32Array([1,0,0])),(0,g3.default)(t,t,this.Pti.y,new Float32Array([0,1,0])),(0,g3.default)(t,t,this.Pti.z,new Float32Array([0,0,1])),t}constructor(t,i,e,s){this.po=new io,this.Pti=new io,this.bti="none",this.kti=e;const n=e.nti();this.Lti=i.dti(t,n),s&&(this.bti=s);const r=n.oti(Gc.ModelViewMat);if(null===r)throw new b("Failed to get model view matrix location.");this.Oti=r;const h=n.oti(Gc.ProjectionMat);if(null===h)throw new b("Failed to get projection matrix location.");this.zti=h}};r();var B3=class{Bti(){const t=(0,to.default)();return(0,_3.default)(t,this.Rti,this.Uti,this.Qti,this.Fti)}Yti(){this.Gti=this.Bti()}get jti(){return new Float32Array(this.Gti)}set jti(t){this.Gti=t}Vti(){const t=(0,to.default)(),i=(0,l3.default)((0,to.default)(),this.Wti.e9t()),e=(0,c3.default)((0,to.default)(),this.Hti.e9t());return(0,f3.default)(t,i,e),(0,d3.default)(t,t),t}qti(){this.Xti=this.Vti()}get xti(){return new Float32Array(this.Xti)}Zti(){this.qti(),this.Yti()}Zn(){this.Wti=new io,this.Pti=new Ra,this.Zti()}Kti(t){const i=this.Hti.l9t();i.mN(t),this.Pti=i.g9t()}Jti(t){this.Pti=t.g9t()}get $ti(){return this.Rti}set $ti(t){this.Rti=t,this.Yti()}get tii(){return this.Uti}set tii(t){this.Uti=t,this.Yti()}get po(){return(new io).plt(this.Wti)}set po(t){this.Wti=t,this.qti()}get Pti(){return(new Ra).plt(this.Hti)}set Pti(t){this.Hti=t,this.qti()}constructor(t){this.Rti=72*x.PI/180,this.Uti=1.77,this.Qti=.1,this.Fti=100,this.bti="none",this.Wti=new io,this.Hti=new Ra,this.Gti=this.Bti(),this.Xti=this.Vti(),t&&(this.bti=t)}},R3=1e-4,U3=class extends i{ko(){this.eii(),this.Z7t?sd.xr?(sd.xr.addEventListener("devicechange",this.sii),this.nii().then((()=>{this.rii?(this.hii(),this.oii(),this.aii()):this.K9t("XR: Inline session not available. Panorama functionality will not work.",y_.VR_PRESENTATION_ERROR)}))):this.K9t("Your browser does not support WebXR",y_.VR_PLATFORM_UNSUPPORTED):this.K9t("Your browser does not support webGL",y_.VR_PLATFORM_UNSUPPORTED)}aii(){this.Qo.ya.yn(Ac.ra,this.mn),this.Qo.yn(_r.pn,this.mn),this.Qo.yn(t.lo,this.do),this.Qo.yn(t.XA,this.tQ)}eii(){this.uii=h.createElement("canvas"),this.uii.className="theoplayer-vr",this.uii.style.zIndex="2",this.uii.style.background="black",this.uii.style.display="none",this.Qo.we.appendChild(this.uii),ta(this.uii);let t=this.uii.getContext("webgl2");t||(t=this.uii.getContext("webgl")),t&&(this.Z7t=t,this.cii=new T3(this,this.uii))}async nii(){sd.xr?await Promise.all([sd.xr.isSessionSupported("inline").then((t=>{this.rii=t})).catch((t=>{this.rii=!1,this.K9t("exception when calling xr.isSessionSupported for inline session: "+t,y_.VR_PRESENTATION_ERROR)})),sd.xr.isSessionSupported("immersive-vr").then((t=>{this.lii=t})).catch((t=>{this.lii=!1,this.K9t("exception when calling xr.isSessionSupported for immersive-vr session: "+t,y_.VR_PRESENTATION_ERROR)}))]):(this.rii=!1,this.lii=!1)}hii(){const t=this.o7t();this.$x=t,this.d7t=Boolean(t),this.d7t&&(this.dii=(null==t?void 0:t.stereoMode)||bS.NONE,this.fii=(null==t?void 0:t.panoramaMode)||ol.NONE,this._ii&&(this.gii(this.fii,this.dii),this.t7t()))}gii(t,i){if(!this.Z7t||t===ol.NONE)return;const e=this.Z7t;let s,n;this.wii.q7t(),t===ol.PM360?(s=2*x.PI,n=-x.PI/2):(s=x.PI,n=-x.PI);const r=new k3(16,60,40,0,s),h=[],o=[];for(let t=0;t<r.lti.length;t++){const e=r.lti[t];switch(i){case bS.NONE:h.push(e),o.push(e);break;case bS.VERTICAL:h.push(new Nc(e.x,.5*e.y)),o.push(new Nc(e.x,.5*e.y+.5));break;case bS.HORIZONTAL:h.push(new Nc(.5*e.x,e.y)),o.push(new Nc(.5*e.x+.5,e.y))}}r.uti.forEach((t=>{t.x*=-1}));const a=new co(r.uti,r.cti,h),u=new co(r.uti,r.cti,o);this.Aii=new z3(e);const c=new P3(e,a,this.Aii,"left");c.Pti.y=n,this.wii.H7t(c);const l=new P3(e,u,this.Aii,"right");l.Pti.y=n,this.wii.H7t(l)}t7t(){this.uii.style.display="block",this.rii&&this.Qo.yn(t.jh,this.vii)}h7t(){this.mii(),this.Qo.fn(t.jh,this.vii),this.uii.style.display="none"}pii(){this.yii(),this.Mii()}async Tii(){if(this.Nii||!this.rii)return;const t={optionalFeatures:["local"]};try{const i=await sd.xr.requestSession("inline",t);let e;e=Zt.Qs?Zt._b?"viewer":"local":"viewer";const s=await i.requestReferenceSpace(e);i.addEventListener("end",this.yii),this.Dii=s,this.Nii=i,this.cii.kS(),this.Iii(),await i.updateRenderState({baseLayer:new XRWebGLLayer(i,this.Z7t),inlineVerticalFieldOfView:this.Rti*Yh})}catch(t){this.yii(),this.K9t(t,y_.VR_PRESENTATION_ERROR)}}yii(){this.Nii&&(this.mii(),this.cii.CS(),this.Nii.removeEventListener("end",this.Mii),this.Nii.end(),this.Nii=null,this.oii())}async Sii(){if(!this.Eii&&this.lii){this.mii();try{const t=await sd.xr.requestSession("immersive-vr"),i=await t.requestReferenceSpace("local");t.addEventListener("end",this.Mii),this.bii=i,this.Eii=t,await this.Lii(),this.Iii()}catch(t){this.Mii(),this.K9t(t,y_.VR_PRESENTATION_ERROR)}}}async Lii(){const t=this.Z7t,i=this.Eii;this.uii&&t&&i&&!this.kii&&(this.uii.addEventListener("webglcontextlost",(t=>{t.preventDefault()})),this.uii.addEventListener("webglcontextrestored",(()=>{this.gii(this.fii,this.dii)})),this.kii=!0,await t.makeXRCompatible(),await i.updateRenderState({baseLayer:new XRWebGLLayer(i,t)}))}oii(){if(!this.Eii&&this.Z7t){const t=this.Z7t,i=this.uii.clientWidth,e=this.uii.clientHeight,s=lg.Ys.B4;this.uii.width=i*s,this.uii.height=e*s,t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)}}Iii(){null===this.Cii&&(this.xii(),this.Oii?this.Cii=this.Oii.requestAnimationFrame(this.jii):(this.zii(),Bi("XR: Attempted to start animation loop without inline or immersive session.")))}mii(){null!==this.Cii&&(this.zii(),this.Oii?this.Oii.cancelAnimationFrame(this.Cii):Bi("XR: Attempted to stop animation loop by cancelAnimationFrame even though there is no session running."),this.Cii=null)}xii(){if(null!==this.Pii)return;const t=this.Qo.Ug();if(void 0===t||!(t instanceof HTMLVideoElement))return void Bi("No video source.");if("function"!=typeof t.requestVideoFrameCallback)return;const i=()=>{this.Aii.Sti(this.Qo),this.Pii=t.requestVideoFrameCallback(i)};this.Bii=t,this.Pii=t.requestVideoFrameCallback(i)}zii(){var t,i;null!==this.Pii&&(null==(i=this.Bii)||null==(t=i.cancelVideoFrameCallback)||t.call(i,this.Pii),this.Bii=null,this.Pii=null)}Rii(){return!!this.Uii||(Zt.Ga?this.Qii&&this.Fii:this.Qii)}N7t(){const t=DeviceMotionEvent.requestPermission;"function"==typeof t&&t().then((t=>{this.Fii="granted"===t}))}Yii(){return(!this.hg()||Boolean(this.Gii))&&this.Vii()}hg(){return this.Qo.hg}Vii(){return this.Qo.vg>=2}get d7t(){return this.Wii}set d7t(t){const i=this.Pct;this.Wii=t,this.Pct!==i&&this.Co(new dl)}get _ii(){return this.fii!==ol.NONE}get fii(){return this.Hii}set fii(t){const i=this.Pct;this.Hii=t,this.Pct!==i&&this.Co(new dl)}get lii(){return this.qii}set lii(t){const i=this.Pct;this.qii=t,this.Pct!==i&&this.Co(new dl)}get G9t(){return this.lii}get Oii(){return this.Eii||this.Nii}get Eii(){return this.Uii}set Eii(t){const i=this.Pct;this.Uii=t,this.Pct!==i&&this.Co(new dl)}get Xii(){return this.bii||this.Dii}get F9t(){const t=this.Zii.l9t();return{yaw:t.d9t*o3,pitch:t.f9t*o3,roll:t._9t*o3}}set F9t(t){const i=Q3(t&&t.pitch||0)*Yh,e=Q3(t&&t.roll||0)*Yh,s=Q3(t&&t.yaw||0)*Yh,n=new Kc(s,i,e);this.Zii=n.g9t()}get R7t(){const t=this.Kii.l9t();return{yaw:t.d9t,pitch:t.f9t,roll:t._9t}}set R7t(t){const i=F3(t&&t.pitch||0),e=F3(t&&t.roll||0),s=F3(t&&t.yaw||0),n=new Kc(s,i,e);this.Kii=n.g9t()}get Pct(){return this.d7t?this.Eii?ri.Oa:ri.V9t:ri.Rs}get U9t(){return null!==this.Eii}set U9t(t){const i=this.U9t;t&&this.lii?this.Sii():this.Mii(),this.U9t!==i&&this.Co(new hr)}get Q9t(){return this.Qii}set Q9t(t){null===this.Uii&&(this.Qii=t,t&&Zt.Ga&&this.N7t())}get Y9t(){return this.Rti}set Y9t(t){t&&t>=0&&t<=180&&(this.Rti=t,null!==this.Nii&&this.Nii.updateRenderState({inlineVerticalFieldOfView:this.Rti*Yh}))}K9t(t,i){oc(t),this.Co(new pe(new ce(i,t)))}o7t(){const t=this.Qo.Wa();return t&&t.vr}gn(){this.pii(),this.Vo()}constructor(t){super(),this.rii=!1,this.qii=!1,this.Zii=new Ra,this.Jii=new Ra,this.Kii=new Ra,this.Rti=74,this.Qii=!1,this.$x=void 0,this.dii=bS.NONE,this.Wii=!1,this.Hii=ol.NONE,this.wii=new N3,this.Nii=null,this.Uii=null,this.Dii=null,this.bii=null,this.kii=!1,this.Cii=null,this.Bii=null,this.Pii=null,this.Gii=0,this.Fii=!1,this.sii=()=>{this.nii()},this.do=()=>{this.h7t(),this.pii(),this.hii()},this.vii=()=>{this.Tii()},this.Mii=()=>{this.Eii&&(Vu("Ending immersive session"),this.mii(),this.Eii.removeEventListener("end",this.Mii),this.Eii.end(),this.Eii=null,this.bii=null,this.kii=!1,this.Nii?this.Iii():this.Tii())},this.mn=()=>{this.oii()},this.jii=(t,i)=>{if(!this.Z7t)return;const e=this.Z7t,s=this.Oii;if(null===this.Pii&&this.Yii()&&(this.Aii.Sti(this.Qo),this.Gii>0&&(this.Gii-=1)),null===s||void 0===i)return void Bi("Attempted to run webXR animation loop without session or xrFrame.");this.Cii=s.requestAnimationFrame(this.jii);const n=s.renderState.baseLayer,r=i.getViewerPose(this.Xii);if(void 0===n||void 0===r)return void Bi("Attempted to run webXR animation loop without glLayer or viewerPose.");e.bindFramebuffer(e.FRAMEBUFFER,n.framebuffer);let h=new Kc,o=0;for(const t of r.views){const i=new B3(t.eye);if(i.jti=t.projectionMatrix,this.Rii()){let e;if(Zt.Qs&&Zt._b&&null===this.Uii){if(e=t.transform.inverse.orientation,0===e.x&&0===e.y&&0===e.z&&1===e.w)return}else e=t.transform.orientation;i.Pti=new Ra(e.x,e.y,e.z,e.w)}this.Nii&&i.Kti(this.Kii.l9t()),h=h.mN(i.Pti.l9t()),o+=1;const s=n.getViewport(t);s&&e.viewport(s.x,s.y,s.width,s.height),this.wii.V7t(e,i)}const a=new Kc(h.d9t/o,h.f9t/o,h._9t);this.Zii=a.g9t(),function(t,i){const e=t.o9t(i);return 1-e*e<R3}(this.Zii,this.Jii)||(this.Jii.plt(this.Zii),this.Co(new Vc))},this.tQ=()=>{this.Gii=5},this.Qo=t,this.va=v3(this),this.ko()}};function Q3(t){return wl(t+180,360)-180}function F3(t){return wl(t+x.PI,2*x.PI)-x.PI}ti((function(t){return class extends t{fa(){return null!==this.U7t?_l(super.fa(),{vr:this.U7t.va}):super.fa()}gn(){var t;null==(t=this.U7t)||t.gn(),super.gn()}constructor(t,i){super(t,i),this.U7t=null,i.vr.useWebXR&&(this.U7t=new U3(this))}}}),tu.Za),r(),r(),r();var Y3=class{getEpochTimeMs(){return Qo()}release(){}};r();var G3=class{createTimer(t,i,e){let s=v(t,i);return()=>m(s)}release(){}};r();var V3=class{makeRequest(t,i,e,s,n,r){const h=function(t){switch(t.toLowerCase()){case"get":return Yc.GET;case"post":return Yc.POST;case"put":return Yc.PUT;case"delete":return Yc.DELETE;case"head":return Yc.HEAD;case"options":return Yc.OPTIONS;default:throw new b("Request method unknown.")}}(t);if(this.$ii){if(h===Yc.GET)(new Image).src=i+"?"+e;else{const t=e||new ArrayBuffer(0),n=s||void 0;this.gE.CY({zu:i,eE:t,LP:n})}return()=>{}}const o=new xs,a=s?{"Content-Type":s}:void 0,u=new Uu({zu:i,eE:e,uE:!1,rE:Rt.Ru,NS:n,nE:h,a_:o.a_,sE:a});return this.tei(u,r),()=>o.c_()}async tei(t,i){if(i)try{const e=await this.gE.mS(t);if(e.TS>=200&&e.TS<300){i(!0,await e.wE())}else i(!1,"HTTP"+e.TS)}catch(t){i(!1,String(t))}}release(){s.removeEventListener("beforeunload",this.iei)}constructor(t){this.$ii=!1,this.iei=()=>{this.$ii=!0},this.gE=t,s.addEventListener("beforeunload",this.iei)}};r();var W3=class{saveData(t,i,e,s){try{return localStorage.setItem(t+"/"+i,e),s(!0,null)}catch(t){return s(!1,t.toString())}}loadData(t,i,e){try{return e(!0,localStorage.getItem(t+"/"+i))}catch(t){return e(!1,t.toString())}}release(){}};r();var H3=()=>null,q3=class{getDeviceBrand(){return this.eei?this.eei.brand:null}getDeviceCategory(){return Zt.iL||Zt.sL?this.sei.Client.DeviceCategory.ANDROID_DEVICE:Zt.oL||Zt.uL?this.sei.Client.DeviceCategory.APPLE_DEVICE:Zt.lL?this.sei.Client.DeviceCategory.CHROMECAST:this.sei.Client.DeviceCategory.WEB}getDeviceManufacturer(){return this.eei?this.eei.manufacturer:null}getDeviceModel(){return this.eei?this.eei.model:null}getDeviceVersion(){return this.eei?this.eei.version:null}getDeviceType(){return null}getFrameworkName(){return Zt.iL?"THEOplayer AndroidTV SDK":Zt.sL?"THEOplayer Android SDK":Zt.oL?"THEOplayer IOS SDK":Zt.uL?"THEOplayer tvOS SDK":Zt.lL?"THEOplayer Chromecast SDK":"THEOplayer Web SDK"}release(){}constructor(t,i){this.sei=t,this.eei=i,this.getBrowserName=H3,this.getBrowserVersion=H3,this.getFrameworkVersion=H3,this.getOperatingSystemName=H3,this.getOperatingSystemVersion=H3}};r();var X3=class{consoleLog(t,i){switch(i){case Conviva.SystemSettings.LogLevel.ERROR:return oc(t);case Conviva.SystemSettings.LogLevel.WARNING:return Bi(t);default:return Vu(t)}}release(){}};r();var Cc=self.theoplayerDeviceMetadata;r();var Z3,K3=class{getPHT(){return-1}getBufferLength(){const t=Ki.xn(this.Qo.L_()),i=this.Qo.z_(),e=t.ZB(i);if(e<0)return 0;return qt(t.jn(e)-i)}getSignalStrength(){return 1e3}getRenderedFrameRate(){return-1}constructor(t){this.Qo=t}},J3="conviva";function $3(t){return t&&t.integration===J3}function t5(t){if(t)for(let i of t)if($3(i))return i}function i5(t,i){if(!i)return t;if(!t)return i;return Eg(i,Kr(t))}var e5=[t.bA,t.jh,t.Sh,er.Tv,er.Mv,t.kA,Nr.ha,er.Mw],s5=class{get va(){return this.Xa||(this.Xa=function(t){return{get client(){return t.nei},get contentSessionKey(){return t.rei},createSession:()=>t.vx(),cleanupSession:()=>t.hei()}}(this)),this.Xa}get nei(){return this.oei}get rei(){return this.aei}uei(){return this.t.hg?this.cei.PlayerStateManager.PlayerState.PAUSED:this.lei||this.t.vg<Os.eN?this.cei.PlayerStateManager.PlayerState.BUFFERING:this.cei.PlayerStateManager.PlayerState.PLAYING}T$(t){let i=this.dei;i&&i.getDuration()!==t&&i.setDuration(t)}fei(t){let i=this.dei;i&&i.getPlayerState()!==t&&i.setPlayerState(t)}_ei(){this.lei="none"===this.t.gg||this.t.vg<Os.iN,this.EVt(),this.t.Tg&&this.$U(),this.gei&&this.wei()}OWt(){this.Aei&&!this.Aei.manualSessionControl&&(this.vx(),this.t._Q.eg||this.vei())}WWt(){this.dei&&this.fei(this.cei.PlayerStateManager.PlayerState.STOPPED),this.Aei&&!this.Aei.manualSessionControl&&this.hei()}vx(){if(this.mei&&void 0===this.aei){let t=this.oei.getPlayerStateManager();this.dei=t,t.setPlayerVersion&&t.setPlayerVersion("7.3.0"),this.aei=this.oei.createSession(this.mei),this._ei(),this.oei.attachPlayer(this.aei,this.dei);const i=new K3(this.t);t.setClientMeasureInterface(i)}}hei(){this.lQ=!1,this.lei=!1,this.dei&&(this.oei.releasePlayerStateManager(this.dei),this.dei=void 0),void 0!==this.aei&&(this.oei.cleanupSession(this.aei),this.aei=void 0)}pei(){this.t.yn(t.EA,this.yei),this.t.yn(t.ZA,this.$U),this.t.yn(t.XA,this.tQ),this.t.yn(t.kA,this.Mei),this.t.yn(Nr.ha,this.K1),this.t.yn(t.KA,this.Tei),this.t.yn([t.UA,er.Mv],this.Nei),this.t.yn([t.bA,er.Tv],this.Dei),this.t.yn(e5,this.EVt),this.t.Oc&&(this.t.Oc.yn("w7",this.Iei),this.t.Oc.yn("g7",this.Sei)),s.addEventListener("beforeunload",this.Mei),this.Eei()}bei(){this.t.fn(t.EA,this.yei),this.t.fn(t.ZA,this.$U),this.t.fn(t.XA,this.tQ),this.t.fn(t.kA,this.Mei),this.t.fn(Nr.ha,this.K1),this.t.fn(t.KA,this.Tei),this.t.fn([t.UA,er.Mv],this.Nei),this.t.fn([t.bA,er.Tv],this.Dei),this.t.fn(e5,this.EVt),this.t.Oc&&(this.t.Oc.fn("w7",this.Iei),this.t.Oc.fn("g7",this.Sei)),this.t.rt.fn(at.ew,this.Eei),this.gei&&(this.gei.fn(ea.Sw,this.wei),this.gei=void 0),s.removeEventListener("beforeunload",this.Mei)}gn(){this.bei(),this.WWt(),this.hei()}constructor(i,e,s,n){this.t=i,this.cei=e,this.oei=s,this.Lei=n,this.lQ=!1,this.lei=!1,this.mei=void 0,this.Aei=void 0,this.dei=void 0,this.aei=void 0,this.gei=void 0,this.Iei=t=>{void 0!==this.rei&&(this.oei.adStart(this.rei,function(t){const i=t.Xl.n7().integration;return"theo"===i||"google-ima"===i||"freewheel"===i?Conviva.Client.AdStream.SEPARATE:Conviva.Client.AdStream.CONTENT}(t),this.cei.Client.AdPlayer.CONTENT,function(t,i){const e=t.Xl.n7().timeOffset;return 0===e?Conviva.Client.AdPosition.PREROLL:-1===e||Va(e,i,.001)?Conviva.Client.AdPosition.POSTROLL:Conviva.Client.AdPosition.MIDROLL}(t,this.t.Td())),this.oei.detachPlayer(this.rei))},this.Sei=()=>{void 0!==this.rei&&void 0!==this.dei&&(this.oei.attachPlayer(this.rei,this.dei),this.oei.adEnd(this.rei))},this.Nei=()=>{this.lei=!0},this.Dei=()=>{this.lei=!1},this.yei=()=>{let t=this.t.Td();j(t)||t===1/0||this.T$(t)},this.Mei=()=>{this.WWt()},this.K1=()=>{let t=this.t.Q_();t&&this.dei&&this.dei.sendError(t.code+": "+t.message,this.cei.Client.ErrorSeverity.FATAL),this.WWt()},this.kei=()=>{!this.t._Q.eg&&this.dei&&this.vei()},this.vei=()=>{var t;null==(t=this.dei)||t.sendError("A Video Playback Failure has occurred: Waiting for the manifest to come back online",this.cei.Client.ErrorSeverity.FATAL)},this.Tei=()=>{var t;null==(t=this.dei)||t.sendError("A Video Playback Failure has occurred: Segment not found",this.cei.Client.ErrorSeverity.FATAL)},this.tQ=()=>{var t;this.lQ&&(this.lQ=!1,(null==(t=this.dei)?void 0:t.setPlayerSeekEnd)&&this.dei.setPlayerSeekEnd())},this.$U=()=>{var t;this.lQ||(this.lQ=!0,(null==(t=this.dei)?void 0:t.setPlayerSeekStart)&&this.dei.setPlayerSeekStart(-1))},this.do=()=>{this.WWt(),this.Aei=void 0,this.mei=void 0,this.Cei()},this.Cei=()=>{if(this.mei)return;let t=this.t.Wa();if(!t)return;let i=this.t.bt;if(!i)return;let e=function(t){return t5(t.analytics)}(t),s=i5(e,this.Lei);if(!s)return;let n=s.contentMetadata;if(n&&this.cei){let t=i.src;this.oei||(this.oei=function(t,i,e){if(!Z3){let s=new i.SystemSettings,n=new i.SystemInterface(new Y3,new G3,new V3(e),new W3,new q3(i,Cc),new X3),r=new i.SystemFactory(n,s),h=new i.ClientSettings(t.customerKey),o=Ih(t.heartbeatInterval);o>0?h.heartbeatInterval=o:void 0===h.heartbeatInterval&&(h.heartbeatInterval=10);let a=Oa(t.gatewayUrl);a&&(h.gatewayUrl=a),Z3=new i.Client(h,r)}return Z3}(s,this.cei,this.t.tj)),this.Aei=s,this.mei=function(t,i,e){let s=new e.ContentMetadata;return s.assetName=t.assetName,s.streamUrl=i,s.streamType=function(t,i){return t?i.ContentMetadata.StreamType.LIVE:!1===t?i.ContentMetadata.StreamType.VOD:i.ContentMetadata.StreamType.UNKNOWN}(t.live,e),s.defaultBitrateKbps=t.defaultBitrateKbps,s.defaultResource=t.defaultResource,s.duration=t.duration,s.encodedFrameRate=t.encodedFrameRate,s.applicationName=t.applicationName||"THEOplayer",s.viewerId=t.viewerId||$e(),s.custom=t.custom,s}(n,t,this.cei),this.t.hg||this.vii()}},this.vii=()=>{this.OWt()},this.wei=()=>{if(!this.gei||!this.dei)return;let t=this.gei.Gw;if(t){let i=this.dei;i.setBitrateKbps(t.Jz/1e3),i.setEncodedFrameRate&&t.lct&&i.setEncodedFrameRate(t.lct),i.setVideoResolutionWidth&&t.ji&&i.setVideoResolutionWidth(t.ji),i.setVideoResolutionHeight&&t.Ti&&i.setVideoResolutionHeight(t.Ti)}},this.Eei=()=>{let t=this.t.rt;t&&t.fn(at.ew,this.Eei),t.U?(this.gei=t.jw(0),this.gei.fn(ea.Sw,this.wei),this.gei.yn(ea.Sw,this.wei)):t.yn(at.ew,this.Eei)},this.EVt=()=>{this.fei(this.uei())},this.t.yn(t.lo,this.do),this.t.yn(t.IA,this.Cei),this.t.yn(t.jh,this.vii),this.pei(),this.t._Q.yn(t.YA,this.kei),this.t._Q.yn(t.GA,this.kei)}};ti((function(t){return class extends t{gn(){this.p9&&this.p9.gn(),super.gn()}constructor(t,i){super(t,i);const e=s.Conviva;if(e){const t=function(t){return t5(Zv(t).analytics)}(i);this.p9=new s5(this,e,Z3,t),this.P9.m9=this.p9}}}}),tu.X9),r(),r();var n5=class extends ra{get va(){return this.Xa||(this.Xa=function(t){let i,e={get status(){return t.TS},get tasks(){return t.J1t},get network(){return t._Q.va},createTask:(i,e)=>t.xei(i,e),addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)}};return i=new Lh(t,e),e}(this)),this.Xa}get TS(){return this.Oei.TS}get J1t(){return this.Oei.J1t.va}get _Q(){return this.b9}xei(t,i,e){let s,n;if(void 0===e&&(e="persistent"),!t)throw new b("Unexpected - The source description is undefined");if(s=il(t),n=t4(i),jS(s))throw new b("Invalid source description");return this.Oei.H1t(s,n).va}constructor(t,i){super(),this.Oei=t,this.b9=i,this.Oei.yn("Trt",this.Ds)}};var r5=function(){const t=new zb(lg.tj,!1),i=Kn.gL,e=new a4(t),s=new K1(i,e),n=new Bb(t),r=new l1(i.Cet,s,"persistent");return new n5(r,n)}().va;function h5(t,i){if("function"==typeof t.getAll){return o5(void 0===i?t.getAll():t.getAll(i))}return function(t){let i=new Eo,e=[];return t.onsuccess=()=>{let s=t.result;s&&s.value?(e.push(s.value),s.continue()):i.jL(e),fg()},t.onerror=()=>{i.zL(t.error),fg()},i.PL}(void 0===i?t.openCursor():t.openCursor(i))}function o5(t){return new Promise(((i,e)=>{t.onsuccess=()=>{i(t.result),fg()},t.onerror=()=>{e(t.error),fg()}}))}r(),r(),r(),r(),r(),r(),r();var a5=class{c_(){if(this.ro)try{this.Iet.abort(),this.ro=!1}catch(t){}}constructor(t){this.Iet=t,this.ro=!0,this.PL=new Promise(((t,i)=>{this.Iet.oncomplete=()=>{this.ro=!1,t(),fg()},this.Iet.onerror=()=>{this.ro&&(this.ro=!1,i(this.Iet.error||new b("Transaction error")),fg())},this.Iet.onabort=()=>{this.ro=!1,i(new b("Transaction aborted")),fg()}}))}};async function u5(t,i,e){const s=new a5(t);try{const[t]=await Promise.all([i(e),s.PL]);return t}catch(t){if(!s.ro)throw new g1("IDBTransaction committed prematurely",t);throw t}finally{s.c_()}}var c5=class{get l(){return this.fit.l}fet(t){return Promise.resolve("persistent"===t)}_et(t,i){if(void 0===i&&(i="persistent"),"persistent"!==i)return Promise.reject(ft(i));return o5(this.jei(ge.jet).put(t))}async wet(t,i){if(void 0===i&&(i="persistent"),"persistent"!==i)return Promise.reject(ft(i));for(const e of t)await this._et(e,i)}async LL(t){return Boolean(await this.kL(t))}kL(t){return o5(this.jei(ge.Oet).get(t))}Aet(t,i){return o5(this.jei(ge.Oet).index(i).get(t))}async het(t){const i=[];for(let e of t){const t=await this.kL(e);t&&i.push(t)}return i}vet(){return h5(this.jei(ge.Oet))}met(t){return h5(this.jei(ge.Oet),t)}pet(t,i){return h5(this.jei(ge.Oet).index(i),t)}pN(t){return o5(this.jei(ge.jet).delete(t))}async yet(t){for(const i of t)await this.pN(i)}Met(){return o5(this.jei(ge.jet).clear())}jei(t){if(!this.zei)throw new b("Lock was released");if(!function(t,i){return t===ge.Oet&&i===ge.Oet||i===ge.jet}(t,this.zei.mode))throw new b("Incompatible transaction mode: "+this.zei.mode+", expected "+t);return this.zei.objectStore(this.l)}Pei(){this.fit.Bei(this),this.zei=void 0}constructor(t,i){this.fit=t,this.zei=i}};var l5=class{fet(t){return Promise.resolve("persistent"===t)}_et(t,i){return void 0===i&&(i="persistent"),"persistent"!==i?Promise.reject(ft(i)):this.Iet(ge.jet,(i=>i._et(t)))}wet(t,i){return void 0===i&&(i="persistent"),"persistent"!==i?Promise.reject(ft(i)):this.Iet(ge.jet,(i=>i.wet(t)))}LL(t){return this.Iet(ge.Oet,(i=>i.LL(t)))}kL(t){return this.Iet(ge.Oet,(i=>i.kL(t)))}Aet(t,i){return this.Iet(ge.Oet,(e=>e.Aet(t,i)))}het(t){return this.Iet(ge.Oet,(i=>i.het(t)))}vet(){return this.Iet(ge.Oet,(t=>t.vet()))}met(t){return this.Iet(ge.Oet,(i=>i.met(t)))}pet(t,i){return this.Iet(ge.Oet,(e=>e.pet(t,i)))}pN(t){return this.Iet(ge.jet,(i=>i.pN(t)))}yet(t){return this.Iet(ge.jet,(i=>i.yet(t)))}Met(){return this.Iet(ge.jet,(t=>t.Met()))}ENt(t){return this.Rei(),this.gNt=new c5(this,t),this.gNt}Rei(){if(void 0!==this.gNt)throw new b("Already locked")}Bei(t){if(this.gNt!==t)throw new b("Incorrect lock");this.gNt=void 0}oO(t){return this.GH.oO(t)}Iet(t,i){return this.oO((()=>this.Uei(t,i)))}async Uei(t,i){this.Rei();const e=this.Qei.transaction(this.l,t),s=this.ENt(e);try{return await u5(e,i,s)}finally{s.Pei()}}Fei(t){this.Rei();const i=this.Qei.transaction(this.l,t);return this.ENt(i)}static Yei(t,i){let e;const s=new Promise((t=>{e=t})),n=t.reduce(((t,i)=>t.then((()=>{let t;const e=new Promise((i=>{t=i}));return i.oO((()=>(t(),s))).catch(fg),e}))),Promise.resolve());return e(n.then(i)),s}constructor(t,i){this.gNt=void 0,this.GH=new no,this.Qei=t,this.l=i}};r(),r(),r(),r(),r();var d5={_y:17,Gei:async t=>{const{transaction:i,database:e}=t,s=i.objectStoreNames;if(s&&s.length)for(let t=0;t<s.length;t++)e.deleteObjectStore(s[t]);e.createObjectStore(A5,{keyPath:"id"}),e.createObjectStore(v5,{keyPath:"key"}),e.createObjectStore(m5,{keyPath:"key"});e.createObjectStore(p5,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL");e.createObjectStore(y5,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL")}},f5=class{async Vei(t){for(const i of this.Wei)this.Hei<i._y&&await i.Gei(t)}constructor(t){this.Hei=t}},_5=class extends f5{get Wei(){return[d5]}},g5=new class{qei(t){this.Xei=t}D8(t){return this.Xei(t)}constructor(){this.Xei=t=>new _5(t)}},w5=18,A5="cachingTask",v5="licences",m5="manifest",p5="segment",y5="segmentMetadata";async function M5(){!function(){if("undefined"==typeof indexedDB)throw new b("Indexed database unavailable")}();const t=indexedDB.open("theoplayer-cache-database",w5);return t.addEventListener("upgradeneeded",T5),await o5(t)}async function T5(t){const i=t.oldVersion<=w5?t.oldVersion:-1,e=t.target,s=e.result,n=e.transaction,r=g5.D8(i),h={database:s,transaction:n};await u5(n,(t=>r.Vei(t)),h)}var N5=class{static get gL(){return this.Wet||(this.Wet=M5()),this.Wet}};N5.Wet=void 0,r();var D5=class{Iet(t){return t(this)}Pei(){this.Let.Pei(),this.bet.Pei(),this.ket.Pei(),this.Cet.Pei(),this.xet.Pei()}constructor(t,i){this.Let=t.Let.ENt(i),this.bet=t.bet.ENt(i),this.ket=t.ket.ENt(i),this.Cet=t.Cet.ENt(i),this.xet=t.xet.ENt(i)}};Kn.wa(class t{static async D8(){const i=await N5.gL;return new t(i)}Iet(t){const i=this.allCollections;return l5.Yei(i,(()=>this.Uei(i,t)))}async Uei(t,i){const e=t.map((t=>t.l)),s=this.Qei.transaction(e,ge.jet),n=new D5(this,s);try{return await u5(s,i,n)}finally{n.Pei()}}get allCollections(){return[this.bet,this.Let,this.ket,this.Cet,this.xet]}constructor(t){this.Qei=t,this.Let=new l5(t,y5),this.bet=new l5(t,p5),this.ket=new l5(t,m5),this.Cet=new l5(t,A5),this.xet=new l5(t,v5)}}.D8),r(),r(),r();var I5=class{Zei(t){const i=this.WV.E_(),e=t.createGain();for(const s of i){t.createMediaElementSource(s).connect(e)}return e}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){const t=this;return{createAudioSourceNode:i=>t.Zei(i)}}constructor(t){this.Xa=void 0,this.WV=t}};ti((function(t){return class extends t{fa(){const t=this.Kei.va;return _l(super.fa(),{get audio(){return t}})}constructor(t,i){super(t,i),this.Kei=new I5(this.T9)}}}),tu.Za),r(),r();ti((function(t){return class i extends t{ga(t){const e=i.Jei(this.wd.analytics),s=i.Jei(t?t.analytics:void 0);e||s?this.$ei(At({},e,s)):this.tsi&&this.tsi.disable(),super.ga(t)}$ei(t){if(this.tsi)this.tsi.enable(),this.tsi.setOptions(t);else{const i=s.youbora;if(!i)throw new b("Youbora JavaScript library not loaded.");if(!i.adapters.TheoPlayer2)throw new b("TheoPlayer2 adapter not available on Youbora JavasScript library");const e=new i.Plugin(t);e.setAdapter(new i.adapters.TheoPlayer2(this.va)),this.Oc&&i.adapters.TheoPlayer2.NativeAdsAdapter&&e.setAdsAdapter(new i.adapters.TheoPlayer2.NativeAdsAdapter(this.va)),this.tsi=e}}static Jei(t){if(t){const i=t.filter((t=>"youbora"===t.integration));if(0===i.length)return;if(i.length>1)throw new b("Only one youbora analytics configuration expected");const e=i[0],{integration:s}=e;return Iw(e,["integration"])}}gn(){this.tsi&&this.tsi.disable(),super.gn()}constructor(t,i){super(t,i)}}}),tu.X9),r(),r(),r();var S5=1,E5=0,b5=1e3,L5=class i extends vg{isi(){const t=this.ct===1/0,i=t?S5:E5,e=t?-1:this.ct,s=Eh(this.Qo.rt.xw,this.esi);this.ssi.setPresentationInformation(new this.nsi(i,e,s))}esi(t){const i=t.Hw.xw,e=[];for(let t=0;t<i.length;t++){const s=i[t];s.ji&&s.Ti&&e.push({trackIdx:t,bitrate:s.Jz,width:s.ji,height:s.Ti,codecIdentifier:s.Het})}return e}rsi(){return this.Qo.z_()*b5}get ct(){return this.Qo.Td()*b5}get hsi(){return this.osi}get asi(){return this.usi}set asi(t){this.usi=t,t&&this.ssi.reportPlayerState(t)}set lsi(t){this.dsi=t}fsi(){return v((()=>{this._si(),this.gsi()}),i.wsi)}Asi(){this.Qo.Oc&&(this.Qo.Oc.yn("A7",this.vsi),this.Qo.Oc.yn("v7",this.msi),this.Qo.Oc.yn("EHt",this.psi),this.Qo.Oc.yn("qJt",this.ysi)),this.Qo.yn(t.kA,this.Mei),this.Qo.yn(Nr.ha,this.K1),this.Qo.yn(t.Sh,this.Msi),this.Qo.yn(t.jh,this.vii),this.Qo.yn(er.Tv,this.JU),this.Qo.yn(t.qA,this.rG),this.Qo.yn(t.XA,this.tQ),this.Qo.yn(er.Mv,this.ZU),this.Qo.yn(t.JA,this.Tsi)}Nsi(){this.Qo.Oc&&(this.Qo.Oc.fn("A7",this.vsi),this.Qo.Oc.fn("v7",this.msi),this.Qo.Oc.fn("EHt",this.psi),this.Qo.Oc.fn("qJt",this.ysi)),this.Qo.fn(t.kA,this.Mei),this.Qo.fn(Nr.ha,this.K1),this.Qo.fn(t.Sh,this.Msi),this.Qo.fn(t.jh,this.vii),this.Qo.fn(er.Tv,this.JU),this.Qo.fn(t.qA,this.rG),this.Qo.fn(t.XA,this.tQ),this.Qo.fn(er.Mv,this.ZU),this.Qo.fn(t.JA,this.Tsi)}gn(){m(this.Dsi),this.Nsi()}constructor(t,i,e,s=MMPlayerState,n=MMAdState,r=MMPresentationInfo){super(),this.Qo=t,this.$x=i,this.ssi=e,this.Isi=s,this.Ssi=n,this.nsi=r,this.Esi=!0,this.osi=!1,this.dsi=void 0,this.usi=void 0,this.bsi=void 0,this.vsi=t=>{const i=t.f7;i.bGt();var e;e=i.n7().duration;const s="linear"===i.n7().type;i.LGt(),i.IGt();s&&(this.osi=!0),this.lsi=this.Ssi.AD_IMPRESSION,this.lsi=this.Ssi.AD_STARTED},this.msi=t=>{this.osi=!1,this.lsi=this.Ssi.AD_COMPLETED},this.psi=t=>{t.SQt===Je.ADBLOCK?this.lsi=this.Ssi.AD_BLOCKED:this.lsi=this.Ssi.AD_ERROR},this.ysi=()=>{this.lsi=this.Ssi.AD_SKIPPED},this.Tsi=t=>{var i,e,s,n;t.aE===hv.vp&&(this.bsi&&t.QQ!==this.bsi&&this.ssi.reportABRSwitch(this.bsi,t.QQ),this.bsi=t.QQ,this.ssi.reportChunkRequest(new MMChunkInformation(t.Wy,t.QQ,t.fT,t.Xht.zu,void 0,void 0,null!=(s=null==(i=t.Xht.fht)?void 0:i[0])?s:0,null!=(n=null==(e=t.Xht.fht)?void 0:e[1])?n:-1)))},this.Mei=t=>{this.asi=this.Isi.STOPPED,this.Co(t)},this.K1=t=>{this.asi=this.Isi.ERROR,this.ssi.reportError(t.error,this.rsi())},this.Msi=()=>{this.hsi?this.lsi=this.Ssi.AD_PAUSED:this.asi=this.Isi.PAUSED},this.vii=()=>{this.hsi&&(this.lsi=this.Ssi.AD_PLAY)},this.JU=()=>{this.hsi?(this.dsi===this.Ssi.AD_PAUSED&&(this.lsi=this.Ssi.AD_RESUMED),this.lsi=this.Ssi.AD_PLAYING):(this.Esi&&(this.Esi=!1,this.isi(),this.asi=this.Isi.STARTED),this.asi!==this.Isi.PAUSED&&this.asi!==this.Isi.BUFFERING||(this.asi=this.Isi.RESUMED))},this.rG=()=>{this.ssi.reportPresentationSize(this.Qo.Lg,this.Qo.Ig)},this.tQ=t=>{this.hsi||this.asi!==this.Isi.PAUSED||this.ssi.reportPlayerSeekCompleted(t.currentTime*b5)},this.ZU=()=>{this.hsi||(this.asi=this.Isi.BUFFERING)},this.gsi=()=>{this.ssi.reportDownloadRate(x.floor(ua.gL.Qz()))},this._si=()=>{this.hsi||this.ssi.reportPlaybackPosition(this.rsi())},this.asi=this.Isi.INITIALIZED,this.Asi(),this.Dsi=this.fsi()}};L5.wsi=2e3,ti((function(i){return class extends i{gn(){super.gn(),this.Lsi()}constructor(i,e){super(i,e),this.ksi=void 0,this.Csi=void 0,this.xsi=()=>{this.Csi=void 0,this.Lsi();const t=super.Wa();t&&(this.Csi=function(t,i){const e=function(t,i){if(t&&t.analytics)for(const i of t.analytics)if("smartsight"===i.integration)return i;if(i&&i.analytics)for(const t of i.analytics)if("smartsight"===t.integration)return t;return}(t,i);if(!e)return;return e}(t,this.wd)),this.Osi()},this.Osi=()=>{if(!this.ksi&&this.Csi&&this.bt&&this.bt.src&&!this.hg){const t=MMSmartStreaming.getInstance();!function(t,i,e){t.registerMMSmartStreaming(e.playerName,e.customerID,e.subscriberID,e.domainName),t.reportComponent("THEOSDK"),t.reportPlayerInfo("THEOplayer","THEOplayer","7.3.0"),t.reportDeviceInfo(void 0,void 0,void 0,void 0,void 0,s.innerWidth,s.innerHeight),t.initializeSession("QBRModeDisabled",i,e.metaURL,e.assetID)}(t,this.bt.src,this.Csi),this.ksi=new L5(this,this.Csi,t),this.ksi.yn("ended",this.Lsi)}},this.Lsi=()=>{this.ksi&&(this.ksi.gn(),this.ksi=void 0)},this.yn(t.lo,this.xsi),this.yn(t.IA,this.Osi),this.yn(t.jh,this.Osi)}}}),tu.X9),r(),r();var k5=String.fromCharCode(95);var C5=class t{get va(){return this.Xa||(this.Xa=function(t){return{get adsManager(){return t.adsManager},get ids(){return t.ids},get adContainer(){return t.adContainer},get imaSDK(){return t.imaSDK},get sendEvent(){return t.sendEvent},set sendEvent(i){t.sendEvent=i}}}(this)),this.Xa}get id(){return this.NN}get adsManager(){return this.T3t}get ids(){return this.jsi}get adContainer(){return this.RVt}get sendEvent(){return this.zsi}set sendEvent(t){for(let t of this.Psi)this.T3t.removeEventListener(t.type,t.listener);this.Psi=[],this.zsi=t,this.Bsi()}get imaSDK(){return!0}Rsi(){for(let t in google.ima.AdEvent.Type){const i=google.ima.AdEvent.Type[t];this.T3t.addEventListener(i,this.Usi),this.Psi.push({type:i,listener:this.Usi})}}Qsi(){Ri(this.Psi);for(let t in google.ima.AdEvent.Type){const i=google.ima.AdEvent.Type[t];this.T3t.removeEventListener(i,this.Usi)}}Fsi(t){this.kR.push({type:t.type,adVolume:this.adsManager.getVolume()})}Bsi(){null==this.zsi||this.zsi.call(this,this.kR),this.kR=[]}static Ysi(i){return t.Gsi[i]||i}constructor(i,e,s,n){this.Usi=i=>{this.Fsi({type:t.Ysi(i.type)})},this.NN=i,this.T3t=e,this.jsi=s,this.RVt=n,this.Psi=[],this.kR=[]}};C5.Gsi={loaded:"AdLoaded",impression:"AdImpression",start:"AdVideoStart",firstQuartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdQuartile:"AdVideoThirdQuartile",complete:"AdVideoComplete",pause:"AdPaused",skip:"AdSkipped",volumeChange:"AdVolumeChange"};var x5=class{Vsi(t,i){this.Wsi=h.createElement("script"),this.Wsi.id=t.id,this.Wsi.type="text/javascript",t.adContainer.appendChild(this.Wsi),this.Wsi.src="https://z.moatads.com/"+i+"/moatvideo.js#"+t.id,this.Hsi=t.id,s[this.Hsi]=t.va}qsi(){this.Wsi&&di(this.Wsi),this.Hsi&&(s[this.Hsi]=void 0)}constructor(){this.Wsi=void 0,this.Hsi=void 0}};ti((function(t){return class i extends t{ga(t){var e,s,n;this.Xsi(),null==(e=this.Zsi)||e.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.Ksi),null==(s=this.Zsi)||s.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.Xsi),null==(n=this.Zsi)||n.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.Jsi),this.Zsi=void 0,this.RVt=void 0,super.ga(t);const r=t&&t.analytics;this.$si=i.tni(r);this.Oc&&this.$si&&z0()&&this.ini()}gn(){var t,i,e;this.Xsi(),null==(t=this.Zsi)||t.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.Ksi),null==(i=this.Zsi)||i.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.Xsi),null==(e=this.Zsi)||e.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.Jsi),this.Zsi=void 0,this.RVt=void 0,this.Oc&&this.Oc.fn("F$t",this.Y$t),super.gn()}ini(){this.Oc&&this.Oc.yn("F$t",this.Y$t)}eni(t,i,e){const s=k5+"moatApi"+x.floor(1e8*x.random());this.sni=new C5(s,t,i,e),this.sni.Rsi(),this.nni.Vsi(this.sni,this.$si.partnerCode)}static tni(t){if(t){const i=t.filter((t=>"moat"===t.integration));if(0===i.length)return;if(i.length>1)throw new b("Only one Moat analytics configuration expected");return i[0]}}constructor(t,i){super(t,i),this.$si=void 0,this.sni=void 0,this.Zsi=void 0,this.RVt=void 0,this.Jsi=()=>{this.eni(this.Zsi,{partnerCode:this.$si.partnerCode,viewMode:google.ima.ViewMode.NORMAL},this.RVt)},this.Y$t=t=>{this.Zsi=t.M3t,this.RVt=t.I0t,this.Xsi(),this.Zsi.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.Ksi),this.Zsi.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.Xsi),this.Zsi.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.Jsi)},this.Ksi=t=>{const i=t.getAd().getAdPodInfo();i.getAdPosition()<i.getTotalAds()&&(this.Xsi(),this.Jsi())},this.Xsi=()=>{this.sni&&(this.sni.Qsi(),this.sni=void 0),this.nni.qsi()},this.nni=new x5}}}),tu.X9),r(),r(),r();var ct,Ya=class extends mg{constructor(t,i,e){super(t,new Date),this.rni=i,this.f7=e}};!function(t){t.LOADED="DAILoaded",t.AD_BREAK_STARTED="DAIAdBreakStarted",t.AD_BREAK_ENDED="DAIAdBreakEnded",t.AD_PERIOD_STARTED="DAIAdPeriodStarted",t.AD_PERIOD_ENDED="DAIAdPeriodEnded",t.AD_PROGRESS="DAIAdProgress",t.CUEPOINTS_CHANGED="DAICuePointsChanged",t.CLICK="DAIClick",t.ERROR="DAIError",t.STARTED="DAIStarted",t.FIRST_QUARTILE="DAIFirstQuartile",t.MIDPOINT="DAIMidpoint",t.STREAM_INITIALIZED="DAIStreamInitialized",t.THIRD_QUARTILE="DAIThirdQuartile",t.COMPLETE="DAIComplete"}(ct||(ct={}));var O5=class extends Ya{constructor(t,i){super("DAILoaded",t,i)}},j5=class extends Ya{constructor(t,i){super("DAIAdBreakStarted",t,i)}},z5=class extends Ya{constructor(t,i){super("DAIAdBreakEnded",t,i)}},P5=class extends Ya{constructor(t,i){super("DAIAdProgress",t,i)}},B5=class extends Ya{constructor(t,i){super("DAICuePointsChanged",t,i)}},R5=class extends Ya{constructor(t,i){super("DAIClick",t,i)}},U5=class extends Ya{constructor(t,i){super("DAIError",t,i)}},Q5=class extends Ya{constructor(t,i){super("DAIStarted",t,i)}},F5=class extends Ya{constructor(t,i){super("DAIFirstQuartile",t,i)}},Y5=class extends Ya{constructor(t,i){super("DAIMidpoint",t,i)}},G5=class extends Ya{constructor(t,i){super("DAIStreamInitialized",t,i)}},V5=class extends Ya{constructor(t,i){super("DAIThirdQuartile",t,i)}},W5=class extends Ya{constructor(t,i){super("DAIComplete",t,i)}};var H5=class extends i{replaceAdTagParameters(t){return this.hni.replaceAdTagParameters(null!=t?t:null)}oni(t){return this.hni.contentTimeForStreamTime(t)}ani(t){return this.hni.streamTimeForContentTime(t)}rCt(t,i){const e=function(t){let i;"vod"===t.availabilityType?(i=new s.google.ima.dai.api.VODStreamRequest,i.contentSourceId=t.contentSourceID,i.videoId=t.videoID):"live"===t.availabilityType&&(i=new s.google.ima.dai.api.LiveStreamRequest,i.assetKey=t.assetKey);const e=google.ima.dai.api.StreamRequest.StreamFormat;var n;return i.format="dash"===t.format?e.DASH:e.HLS,i.apiKey=t.apiKey,i.adTagParameters=t.adTagParameters,i.omidAccessModeRules=null!=(n=n0(t.omidAccessModeRules))?n:{},i}(t);this.hni.requestStream(e)}Zn(){this.uni(!1),this.hni.reset()}gn(){this.Vo();const t=google.ima.dai.api.StreamEvent.Type;this.hni.removeEventListener(t.AD_BREAK_STARTED,this.cni),this.hni.removeEventListener(t.AD_PROGRESS,this.lni),this.hni.removeEventListener(t.CLICK,this.dVt),this.hni.removeEventListener(t.COMPLETE,this.dni),this.hni.removeEventListener(t.CUEPOINTS_CHANGED,this.fni),this.hni.removeEventListener(t.ERROR,this.Ss),this.hni.removeEventListener(t.FIRST_QUARTILE,this._ni),this.hni.removeEventListener(t.LOADED,this.gni),this.hni.removeEventListener(t.MIDPOINT,this.wni),this.hni.removeEventListener(t.STARTED,this.Ani),this.hni.removeEventListener(t.STREAM_INITIALIZED,this.vni),this.hni.removeEventListener(t.THIRD_QUARTILE,this.mni),this.hni.removeEventListener(t.AD_BREAK_ENDED,this.pni),this.Zn()}yni(t){this.hni.onTimedMetadata(t)}Mni(t,i,e){this.hni.processMetadata(t,i,e)}Tni(t){const i=this.hni.previousCuePointForStreamTime(t);if(i)return{PN:i.end,zN:i.start,fg:i.played}}Nni(t){const i=this.Tni(t),e=i&&!i.fg?i.zN:void 0;return Promise.resolve(e)}uni(t){this.QVt.style.display=t?"block":"none"}constructor(t,i){super(),this.hni=t,this.QVt=i,this.cni=t=>{this.uni(!0);const i=kt(t),e=st(t);this.Co(new j5(i,e))},this.pni=t=>{this.uni(!1);const i=kt(t),e=st(t);this.Co(new z5(i,e))},this.lni=t=>{const i=kt(t),e=st(t);this.Co(new P5(i,e))},this.dVt=t=>{const i=kt(t),e=st(t);this.Co(new R5(i,e))},this.dni=t=>{const i=kt(t),e=st(t);this.Co(new W5(i,e))},this.fni=t=>{const i=kt(t),e=st(t);this.Co(new B5(i,e))},this.Ss=t=>{const i=kt(t),e=st(t);this.Co(new U5(i,e))},this._ni=t=>{const i=kt(t),e=st(t);this.Co(new F5(i,e))},this.gni=t=>{const i=kt(t),e=st(t);this.Co(new O5(i,e))},this.wni=t=>{const i=kt(t),e=st(t);this.Co(new Y5(i,e))},this.Ani=t=>{const i=kt(t),e=st(t);this.Co(new Q5(i,e))},this.vni=t=>{const i=kt(t),e=st(t);this.Co(new G5(i,e))},this.mni=t=>{const i=kt(t),e=st(t);this.Co(new V5(i,e))},this.QVt.style.display="none",this.hni.setClickElement(this.QVt);const e=google.ima.dai.api.StreamEvent.Type;this.hni.addEventListener(e.AD_BREAK_STARTED,this.cni),this.hni.addEventListener(e.AD_PROGRESS,this.lni),this.hni.addEventListener(e.CLICK,this.dVt),this.hni.addEventListener(e.COMPLETE,this.dni),this.hni.addEventListener(e.CUEPOINTS_CHANGED,this.fni),this.hni.addEventListener(e.ERROR,this.Ss),this.hni.addEventListener(e.FIRST_QUARTILE,this._ni),this.hni.addEventListener(e.LOADED,this.gni),this.hni.addEventListener(e.MIDPOINT,this.wni),this.hni.addEventListener(e.STARTED,this.Ani),this.hni.addEventListener(e.STREAM_INITIALIZED,this.vni),this.hni.addEventListener(e.THIRD_QUARTILE,this.mni),this.hni.addEventListener(e.AD_BREAK_ENDED,this.pni)}};function kt(t){const i=t.getStreamData(),e=i.adProgressData;let s;e&&(s={LXt:e.adBreakDuration,Dni:e.duration,kXt:e.adPosition,j_:e.currentTime,ct:e.duration,CXt:e.totalAds});return{Ini:s,Sni:(i.cuepoints||[]).map((t=>({zN:t.start,PN:t.end,fg:t.played}))),Eni:i.errorMessage||void 0,bni:i.manifestFormat||void 0,Lni:i.streamId||void 0,kni:(i.subtitles||[]).map((t=>({Cni:t.webvtt,xni:t.ttml,gs:t.language}))),zu:i.url}}function q5(t){return{JRt:t.getAdSlotId(),O:t.getContent(),LP:t.getContentType(),Ti:t.getHeight(),ji:t.getWidth()}}function st(t){const i=t.getAd();if(!i)return;const e=i.getAdPodInfo(),s=i.getCompanionAds().map(q5);return{DUt:i.getAdId(),bKt:{kXt:e.getAdPosition(),uGt:e.getMaxDuration(),f3t:e.getPodIndex(),yEt:e.getTimeOffset(),CXt:e.getTotalAds()},hRt:i.getAdSystem(),g3t:i.getAdvertiserName(),ZRt:i.getApiFramework(),gRt:s,kRt:i.getCreativeId(),xJt:i.getCreativeAdId(),w3t:i.getDealId(),nM:i.getDescription(),ct:i.getDuration(),OP:i.getTitle(),Oni:i.getUniversalAdIdRegistry(),jni:i.getUniversalAdIdValue(),IJt:i.getVastMediaHeight(),DJt:i.getVastMediaWidth(),yJt:i.getWrapperAdIds(),MJt:i.getWrapperAdSystems(),TJt:i.getWrapperCreativeIds()}}r(),r(),r();var X5="theo-dai-clickthrough",Z5="urn:google:dai:2018",K5=class{get va(){const t=this,i=this.zni;return{contentTimeForStreamTime:i=>t.hni?t.hni.oni(i):i,streamTimeForContentTime:i=>t.hni?t.hni.ani(i):i,replaceAdTagParameters(i){t.hni&&t.hni.replaceAdTagParameters(i)},get snapback(){return t.Pni},set snapback(i){t.Pni=i},get sourceTransformer(){return i.Bni},set sourceTransformer(t){i.Bni=t}}}P_(t){this.u2.c_(),this.u2=new xs,W(this.Rni(t,this.u2.a_))}async Rni(t,i){if(Pi(i),!this.Uni||!this.hni)return this.Qo.Qni(t);if(this.Uni.r7)return;if(t>this.Qo.z_()&&this.Pni){const e=await hh(this.hni.Nni(t),i);if(e){this.Qo.Qni(e),await this.hni.D_(ct.AD_BREAK_ENDED,i);if(this.hni.Tni(t).PN>t)return}}this.Qo.Qni(t)}Mg(){const t=this.Uni&&this.Uni.r7;if(t){const i=Ki.xn(this.Qo.Fni()),e=t.yEt,s=e+t.uGt,n=new Ki([e,s]);return i.Sn(n).ks()}return this.Qo.Fni()}async L7(t,i){if(!t)return this.Qo.Yni(t,i);try{this.Qo.nt.yn(at.ew,this.Gni);const e=await this.zni.Vni(t,i);this.Uni&&this.hni&&(this.Wni=!0),await this.Qo.Yni(e,i)}catch(t){if(go(t),t.code===tm.LICENSE_INVALID)return;const i=new ce(y_.SOURCE_NOT_SUPPORTED,"Something went wrong while setting up a Google DAI stream.",t);throw this.yP=Vs(i),this.MP=i,this.Qo.Co(new pe(i)),i}}Zn(){if(this.Wni){if(this.Qo.nt.fn(at.ew,this.Gni),this.Hni){this.Hni.fn(ea.aw,this.qni);for(const t of this.Hni.L.xw)t.fn(Cl.xN,this.e5t);this.Hni=void 0}this.yP=void 0,this.MP=void 0,this.u2.c_(),this.Uni&&this.Uni.Zn(),this.hni&&this.hni.Zn(),this.Wni=!1}}get lt(){return this.yP||this.Qo.Xni()}get F_(){return this.MP||this.Qo.Zni()}gn(){this.Zn(),this.Qo.Kni(),this.hni&&this.hni.gn()}constructor(t,i,e,s){this.Hni=void 0,this.yP=void 0,this.MP=void 0,this.u2=new xs,this.Wni=!1,this.Pni=!0,this.Gni=t=>{const i=t.Lt;i.zt===Oi.Mp&&(i.hA===Ks.ID3||i.hA===Ks.EVENT_STREAM&&i.iA===Z5)&&(i.eA=La.sA,this.Hni=i,i.yn(ea.aw,this.qni))},this.qni=t=>{t.jN.yn(Cl.xN,this.e5t)},this.e5t=t=>{var i,e;if(this.hni)if((null==(i=this.Hni)?void 0:i.hA)===Ks.ID3){const i=t.jN.O;"TXXX"===i.id&&this.hni.yni({TXXX:i.text})}else if((null==(e=this.Hni)?void 0:e.hA)===Ks.EVENT_STREAM){const i=t.jN.O;this.hni.Mni(Z5,i,t.sI)}},this.Qo=t,this.hni=i,this.Uni=e,this.zni=s,e&&i&&this.Qo.Oc&&this.Qo.Oc.y7(e.RJt)}};r(),r();var J5=class extends o0{get Jni(){return this.$ni}get aGt(){return sh.so}constructor(t,i,e,s=!0){super(t,i,e),this.$ni=s}},$5=class extends w0{tri(){const t=[ct.STARTED,ct.FIRST_QUARTILE,ct.MIDPOINT,ct.THIRD_QUARTILE,ct.COMPLETE];this.hni.yn(t,this.iri),this.hni.yn(ct.AD_BREAK_ENDED,this.pni),this.hni.yn(ct.AD_PROGRESS,this.lni),this.hni.yn(ct.CUEPOINTS_CHANGED,this.fni)}get CHt(){return this.QJt}get MHt(){return this.GHt}eri(t){let i=t.bKt.yEt,e=this.xGt||this.findAdBreakWithPredicate(i,(t=>!t.fg));if(!e){const s=t.bKt.uGt;i=this.Qo.z_(),e=new J5(s,s,i,!1),e.nJt(),this.OGt.push(e)}return e}sri(t){switch(t){case ct.STARTED:this.QJt=!0;break;case ct.AD_BREAK_ENDED:this.QJt=!1}}nri(t,i,e){if(i)switch(t){case ct.STARTED:case ct.FIRST_QUARTILE:case ct.MIDPOINT:case ct.THIRD_QUARTILE:case ct.COMPLETE:this.MHt.Co(new pa(this.xGt))}if(e)switch(t){case ct.STARTED:case ct.FIRST_QUARTILE:case ct.MIDPOINT:case ct.THIRD_QUARTILE:case ct.COMPLETE:this.MHt.Co(new Za(this.SGt,this.SGt.AJt))}switch(t){case ct.COMPLETE:this.MHt.Co(new da(this.SGt,this.BJt.AJt));break;case ct.AD_BREAK_ENDED:this.MHt.Co(new Nh(this.r7))}switch(t){case ct.FIRST_QUARTILE:this.MHt.Co(new Yn(this.SGt,this.BJt.AJt));break;case ct.MIDPOINT:this.MHt.Co(new p0(this.SGt,this.BJt.AJt));break;case ct.THIRD_QUARTILE:this.MHt.Co(new or(this.SGt,this.BJt.AJt))}}rri(t){const i=t.f7,e=this.eri(i),s=function(t,i){if(t.Oc.length)return!1;for(let e=0;e<i;e++){const i=new d0(t,Ur.zQt);t.hJt(i)}return!0}(e,i.bKt.CXt),n=function(t,i){const e=i.bKt.kXt-1;return t.Oc[e]}(e,i),r=function(t,i){return t.lJt!==h0.READY&&(t.NJt(i),!0)}(n,i);this.SGt=n,this.xGt=e,e.nJt(),this.nri(t.type,s,r)}hri(t){for(const i of this.OGt)if(Y_(t,i.yEt))return i}findAdBreakWithPredicate(t,i){for(const e of this.OGt)if(Y_(e.yEt,t)&&i(e))return e}get ari(){const t=this.findAdBreakWithPredicate(0,(t=>t.Jni));let i=0;return t&&(i=t.uGt),i}cri(t,i){let e;for(const s of this.OGt)s.yEt>=t&&s.yEt<=i&&!s.fg&&(!e||s.yEt>=e.yEt)&&(e=s);return e}Yp(){}p7(t){}Zn(){this.SGt&&(this.MHt.Co(new da(this.SGt,this.SGt.AJt)),this.SGt=void 0),this.xGt&&(this.MHt.Co(new Nh(this.xGt)),this.xGt=void 0),this.QJt=!1,Ri(this.OGt)}gn(){this.Zn(),this.MHt.gn()}constructor(t,i){super(new Zu,sh.so),this.hni=t,this.Qo=i,this.lni=t=>{const i=this.xGt;if(!i||!this.SGt)return;const e=t.rni.Ini;this.SGt.AJt=e.j_,function(t,i){const e=i.kXt,s=i.LXt,n=i.j_,r=Co(t.Oc.slice(0,e-1),(t=>{var i;return null!=(i=t.ct)?i:0}));t.cGt=s-n-r}(i,e)},this.fni=t=>{const i=t.rni.Sni;if(i)for(const t of i)if(!this.hri(t.zN)){const i=t.PN-t.zN,e=new J5(i,i,t.zN,!0);this.OGt.push(e)}},this.iri=t=>{this.sri(t.type),this.rri(t)},this.pni=t=>{this.QJt=!1,this.SGt=void 0;const i=this.r7;i&&(i.cGt=0,this.nri(t.type,!1,!1),this.xGt=void 0)},this.tri()}};function t6(t){if(t.sources)if(pi(t.sources)){for(const i of t.sources)if(Cv(i))return!0}else if(Mi(t.sources))return Cv(t.sources);return!1}r();var i6=class{async Vni(t,i){const e=[],s=[];for(const i of t.sources)if(Cv(i)){if(!this.hni)continue;e.push(i)}else s.push(i);if(0===e.length)return t;let n,r;for(;void 0===n&&0!==e.length;){const{yc:h}=await Ze.gL.NB(e,t),o=h;Pi(i);try{n=await this.lri(o,i),s.push(n)}catch(t){go(t),r=t,Et(e,o)}}if(0!==t.sources.length&&0===s.length)throw new b("Fatal: unable to play DAI streams.");return r&&Bi(r.message),At({},t,{sources:s})}async lri(t,i){if(!this.hni)throw new b("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");const e=this.hni.D_(ct.LOADED,i),s=this.hni.D_(ct.ERROR,i),n=t.type===vi.Qv?"dash":"hls";this.hni.rCt(At({},t.ssai,{format:n}));const r=await Promise.race([e,s]);if(r.type===ct.LOADED){const i=t.type===vi.Qv?vi.Qv:vi.Yv;return Ca(At({},t,{src:this.Bni?await this.Bni(r.rni.zu||""):r.rni.zu,type:i}))}throw b(r.rni.Eni)}constructor(t){this.hni=t,this.Bni=t=>t}};ti(function(t){return i=>class extends i{fa(){const t=super.fa(),i=t.ads;if(i){const t=this.dri.va;_l(i,{get dai(){return t}})}return t}get Ul(){return this.fri}Qni(t){super.P_(t)}P_(t){this.dri.P_(t)}Fni(){return super.Mg()}Mg(){return this.dri.Mg()}ga(t){return this.dri.Zn(),super.ga(t)}async Yni(t,i){return super.L7(t,i)}async L7(t,i){return this.dri.L7(t,i)}Xni(){return super.Q_()}Zni(){return super.Y_()}Q_(){return this.dri.lt}Y_(){return this.dri.F_}Kni(){super.gn()}gn(){this.dri.gn()}constructor(i,e){super(i,e),this.fri=!1,this._ri=t=>{13===t.which&&this.QVt.click(),this.Gg()};const s=this.Ug();let n,r;try{this.QVt=h.createElement("button"),this.QVt.className=X5,this.QVt.addEventListener("keydown",this._ri),this.QVt.addEventListener("click",this._ri),n=t(s,this.QVt),r=new $5(n,this),this.we.appendChild(this.QVt),this.fri=!0}catch(t){}const o=new i6(n);this.dri=new K5(this,n,r,o)}}}((function(t,i){if(!(s.google&&s.google.ima&&Mi(s.google.ima.dai)))throw new b("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");const e=new google.ima.dai.api.StreamManager(t);return new H5(e,i)})),tu.H9),r(),r(),r();var e6=class{get gri(){return void 0===this.wri?0:(performance.now()-this.wri)/1e3}Ari(i){this.vri=i,this.yri.pri(i),this.Qo.yn(t.jh,this.vii),this.Qo.yn(t.kA,this.Mei),this.Qo.yn(t.ov,this.Mri),this.Qo.yn(Nr.ha,this.K1),this.Qo.yn(er.Mv,this.Nei),this.Qo.yn([er.vv,er.mv,er.Tv],this.Dei),this.Qo.yn(t.EA,this.yei),vs.RY(this.Tri)}Nri(){this.Qo.fn(t.jh,this.vii),this.Qo.fn(t.kA,this.Mei),this.Qo.fn(t.ov,this.Mri),this.Qo.fn(Nr.ha,this.K1),this.Qo.fn(er.Mv,this.Nei),this.Qo.fn([er.vv,er.mv,er.Tv],this.Dei),this.Qo.fn(t.EA,this.yei),vs.jY(this.Tri),this.Dri||(this.yri.Iri(this.Sri),this.yri.Eri()),this.bri&&this.Lri(),this.vri=void 0,this.kri=!1,this.Dri=!1,this.Sri=-1/0,Ri(this.Cri)}xri(){this.kri&&this.yri.Ori(),this.wri=performance.now(),this.jri=v(this.zri,6e4)}Lri(){this.yri.Pri(this.gri),this.bri=!1,this.wri=void 0,this.jri&&(m(this.jri),this.jri=void 0)}Bri(){if(j(this.Qo.Td()))return;const t=10*function(t,i){return x.floor(t/i)}(this.Qo.z_()/this.Qo.Td()*100,10);Ho(this.Cri,t)||(this.Cri.push(t),this.yri.Rri(t))}constructor(t,i){this.Qo=t,this.yri=i,this.kri=!1,this.Dri=!1,this.Cri=[],this.Sri=-1/0,this.bri=!1,this.vii=()=>{this.kri||(this.yri.Uri(),this.bri&&this.yri.Ori(),this.kri=!0)},this.Mei=()=>{this.yri.Qri(),this.Dri=!0},this.Mri=()=>{this.Sri<this.Qo.z_()&&(this.Sri=this.Qo.z_()),this.Bri()},this.Nei=()=>{this.kri&&(this.Fri=performance.now(),this.yri.Yri(this.Qo.z_()))},this.Dei=()=>{this.Fri&&(this.yri.Gri((performance.now()-this.Fri)/1e3),this.Fri=void 0)},this.K1=()=>{this.Sri<this.Qo.z_()&&(this.Sri=this.Qo.z_()),this.yri.Pit(this.Qo.Q_().message)},this.yei=()=>{const t=this.Qo.Td()===1/0;t&&!this.bri&&(this.bri=t,this.xri())},this.Tri=()=>{this.yri.Iri(this.Sri),this.yri.Vri()},this.zri=()=>{void 0!==this.wri&&this.yri.Wri(this.gri)}}};r();var s6=class{pri(t){this.Hri(["setDocumentTitle",t.itemTitle]),this.Hri(["setCustomUrl","https://content.streamone.net/embed/cust=Xo9oT45EptMG/account="+t.accountID+"/item="+t.itemID]),this.Hri(["trackPageView"])}Uri(){this.qri("item first play","viewing","1")}Eri(){this.qri("item skipped","skipped","1")}Rri(t){this.qri("item progress","percent",""+t)}Vri(){this.qri("item abandoned","window closed","1")}Iri(t){this.qri("item time","watched",""+t)}Qri(){this.qri("item finished","ended","1")}Yri(t){this.qri("buffering started","timestamp",""+t)}Gri(t){this.qri("buffering ended","duration",""+t)}Pit(t){this.qri("error","message",""+t)}Ori(){this.qri("livestream first play","viewing","1")}Wri(t){this.qri("livestream progress","duration",""+t)}Pri(t){this.qri("livestream time","watched",""+t)}qri(t,i,e){this.Hri(["trackEvent","Video",t,i,e])}Hri(t){const i="undefined"!=typeof _paq?_paq:void 0;i?i.push(t):console.warn("The Piwik library required for the StreamOne pre-integration was not found. Make sure it is loaded before instantiating THEOplayer.")}};r();var n6=class{get Xri(){if(!this.Zri)return;const t=this.Qo.z_()/this.Zri;return x.floor(4*t)+1}get Kri(){return void 0!==this.Zri}Ari(){this.Ic.yn("A7",this.vsi),this.Ic.yn("v7",this.msi),this.Ic.yn("qJt",this.ysi),this.Ic.yn("EHt",this.psi),this.Qo.yn(t.ov,this.Mri),vs.RY(this.Tri)}Nri(){this.Ic.fn("A7",this.vsi),this.Ic.fn("v7",this.msi),this.Ic.fn("qJt",this.ysi),this.Ic.fn("EHt",this.psi),this.Qo.fn(t.ov,this.Mri),Ri(this.Jri),vs.jY(this.Tri),this.Zri=void 0}constructor(t,i,e){this.Qo=t,this.Ic=i,this.yri=e,this.Jri=[],this.vsi=()=>{this.Zri=this.Qo.Td(),this.yri.$ri(this.Zri)},this.msi=()=>{this.Zri&&(this.yri.thi(this.Zri),Ri(this.Jri),this.Zri=void 0)},this.ysi=t=>{if(!this.Zri)return;const i=this.Zri-this.Zri*t.WJt;this.yri.ihi(i),this.Zri=void 0},this.psi=()=>{this.Zri=this.Qo.Td(),this.yri.ehi()},this.Mri=()=>{const t=this.Xri;if(this.Kri&&t&&!Ho(this.Jri,t)){switch(t){case 1:this.yri.shi();break;case 2:this.yri.nhi();break;case 3:this.yri.rhi();break;case 4:this.yri.hhi()}this.Jri.push(t)}},this.Tri=()=>{this.yri.ohi()}}};r();var r6=class{$ri(t){this.yri.qri("ad start","duration",""+t)}thi(t){this.yri.qri("ad finished","duration",""+t)}ihi(t){this.yri.qri("ad skipped","remaining time",""+t)}ehi(){this.yri.qri("ad blocker","detected","1")}shi(){this.yri.qri("ad progress","firstQuartile","")}nhi(){this.yri.qri("ad progress","secondQuartile","")}rhi(){this.yri.qri("ad progress","thirdQuartile","")}hhi(){this.yri.qri("ad progress","fourthQuartile","")}ohi(){this.yri.qri("ad abandoned","window closed","1")}constructor(t){this.yri=t}};function h6(t){return t&&"streamone"===t.integration}ti((function(i){return class extends i{gn(){this.fn(t.lo,this.do),this.ahi&&(this.uhi&&this.uhi.Nri(),this.lhi&&this.lhi.Nri(),this.ahi=!1),super.gn()}constructor(i,e){super(i,e),this.ahi=!1,this.do=()=>{this.ahi&&(this.uhi.Nri(),this.lhi&&this.lhi.Nri());const t=this.Wa();if(this.ahi=!1,!t)return;const i=function(t){if(t.analytics)for(let i of t.analytics)if(h6(i))return i}(t);i&&(this.ahi=!0,this.uhi.Ari(i),this.lhi&&this.lhi.Ari())};const s=new s6;if(this.uhi=new e6(this,s),this.Oc){const t=new r6(s);this.lhi=new n6(this,this.Oc,t)}this.yn(t.lo,this.do)}}}),tu.X9),r(),r(),r(),r(),r(),r();var o6=class extends ut{async QK(t,i,e){const s=await a6(t);await super.QK(s,i,e),this.dhi(s,i)}async BK(t,i,e){const s=await a6(t);await super.BK(s,i,e),this.dhi(s,i)}dhi(t,i){const e=this._hi.fhi;if(void 0===e)return;const s=i.fK;let n;if(this.ghi!==s&&(this.ghi=s,e.setLevelSwitching(s),e.setContainerFormat(2)),function(t){return nt.call(t,"T8")}(i)){const t=i.T8,r=i.T8+i.ct;n=i.CI,e.newPts(t,r,"video",s)}else 0;e.appendBuffer(t.Cp,"video",s,n)}async pN(t,i,e){var s;await super.pN(t,i,e),null==(s=this._hi.fhi)||s.flushBuffer(t,i)}constructor(t,i){super(t),this._hi=i,this.ghi=void 0}};async function a6(t){switch(t.hA){case Lo.CH:return t;case Lo.zS:{const i=await Ut(t.Cp);return{hA:Lo.CH,Cp:new T(i)}}case Lo.xH:throw new b("Opaque initialization segments are not supported on web.")}}var u6=class extends xt{pst(t){return t.IJ===hv.vp?new o6(t,this._hi):new ut(t)}constructor(t,i){super(t),this._hi=i,this.vst(t)}},c6=class extends yn{get fhi(){return this.whi}Ahi(){this.whi=new LcevcDil.LcevcDil(this.vP.TP,this.vhi,{})}ge(){super.ge(),this.mhi()}be(){super.be(),this.vhi.style.display="none"}Zn(){return this.vhi.style.display="none",void 0!==this.whi&&(this.whi.close(),this.Ahi()),super.Zn()}e_(){return this.phi=!0,void 0!==this.whi&&(this.whi.close(),this.whi=void 0),this.pu.removeChild(this.vhi),super.e_()}uB(t){this.Co(new Kk(new uc(tm.ABORTED,t)))}mhi(){this.vP.TP.style.display="none",this.vhi.style.display="block"}get ist(){return this.vP}_st(t){return new u6(t,this)}fst(t){return new Jt(t)}constructor(t,i){super(t),this.phi=!1,this.yhi=t=>{this.phi||(t||this.uB("LCEVC SDK failed to initialize."),this.Ahi())},this.Mhi=()=>{this.phi||this.uB("LCEVC SDK failed to initialize.")},this.pu=i,this.vhi=h.createElement("canvas"),this.vhi.style.width="100%",this.vhi.style.height="100%",this.vhi.style.position="absolute",this.vhi.style.top="50%",this.vhi.style.left="50%",this.vhi.style.transform="translate(-50%, -50%)",this.vhi.style.display="none",this.pu.appendChild(this.vhi),LcevcDil.ready.then(this.yhi,this.Mhi)}},$c=class extends ot{cB(t){if(t===hv.vp)return this.Thi=new c6(super.cB(t),this.pu),this.Thi}async WP(t){this.Thi=void 0;const i=t;await i.e_(),await super.WP(i.ist)}get Nhi(){return this.Thi}constructor(t,i){super(t),this.pu=i}},l6=class extends KW{async gn(){for(const t of this.hN.xw)t.fn(ea.Sw,this.Dhi);this.rt.fn(at.ew,this.Ihi),this.rt.fn(at.hw,this.Shi),await super.gn(),await this.vP.e_(),await this.HP.WP(this.vP)}constructor(t,i,e,s,n,r,h){const o=new $c(n,h),a=new jU(o);super(t,i,e,s,a.cB(r),h),this.Ihi=t=>{t.Lt.yn(ea.Sw,this.Dhi)},this.Shi=t=>{t.Lt.fn(ea.Sw,this.Dhi)},this.Dhi=t=>{var i;const e=null==(i=this.Ehi.Nhi)?void 0:i.fhi,s=t.Mrt.Vw;null==e||e.setCurrentLevel(s)},this.HP=a,this.Ehi=o,this.hN.yn(at.ew,this.Ihi),this.hN.yn(at.hw,this.Shi)}};Cu(new class extends gU{_m(t,i,e,s,n,r){const h=new St(Kn.gL.ket,Kn.gL.Let,Kn.gL.bet,Kn.gL.xet);let o=i;return wH.Ux()&&(o=new wH(o)),new l6(e,s,n,h,o,hv.vp,t)}async lB(t){if(!t.lcevc)return!1;if(!await super.lB(t))return!1;if(void 0===s.LcevcDil)throw new ce(y_.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return!0}dB(){return!1}constructor(...t){super(...t),this.fB=Kt.Fz}}),r();var ur,d6=class extends lK{async gn(){for(const t of this.hN.xw)t.fn(ea.Sw,this.Dhi);this.rt.fn(at.ew,this.Ihi),this.rt.fn(at.hw,this.Shi),await super.gn(),await this.HP.WP(this.vP)}constructor(t,i,e,s,n,r,h,o){const a=new $c(i,t),u=new jU(a);super(u.cB(hv.vp),e,s,n,r,h,o),this.Ihi=t=>{t.Lt.yn(ea.Sw,this.Dhi)},this.Shi=t=>{t.Lt.fn(ea.Sw,this.Dhi)},this.Dhi=t=>{var i;const e=null==(i=this.Ehi.Nhi)?void 0:i.fhi,s=t.Mrt.XDt.Vw;null==e||e.setCurrentLevel(s)},this.HP=u,this.Ehi=a,this.hN.yn(at.ew,this.Ihi),this.hN.yn(at.hw,this.Shi)}};Cu(new class extends fK{_m(t,i,e,s,n,r){return new d6(t,i,e,n,YZ(s.libraryLocation),new cK(s.libraryLocation),new St(Kn.gL.ket,Kn.gL.Let,Kn.gL.bet,Kn.gL.xet),s)}async lB(t,i){if(!t.lcevc)return!1;if(!await super.lB(t,i))return!1;if(void 0===s.LcevcDil)throw new ce(y_.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return!0}dB(){return!1}constructor(...t){super(...t),this.fB=Kt.Wz}}),r(),r(),r(),r(),function(t){t.bhi="Zn",t.Lhi="khi"}(ur||(ur={}));var f6="freewheel-nonlinear-ad",_6=[t.EA,t.ov,t.uv,t.Sh,er.Tv,t.jh],g6=class i extends H${Yg(){this.HP.mR()}Chi(){this.xhi.yn("w7",this.Ohi),this.xhi.yn(["A7","v7"],this.jhi),this.xhi.yn("g7",this.U2t)}zhi(){this.xhi.fn("w7",this.Ohi),this.xhi.fn(["A7","v7"],this.jhi),this.xhi.fn("g7",this.U2t)}Phi(){this.MHt.Qa(this.xhi.Bhi)}Rhi(){this.xhi.Uhi.yn(_6,this.Ds)}Qhi(){this.xhi.Uhi.fn(_6,this.Ds)}get pHt(){return this}static get vHt(){return sh.rGt}get vHt(){return i.vHt}get r7(){var t;return null!=(t=this.xhi.Bhi.r7)?t:null}get s7(){const t=this.xhi.Bhi.BJt;return t?[t]:[]}p7(t){}z_(){return this.xhi.Uhi.j_}P_(t){}Td(){return this.xhi.Uhi.ct}U_(){return this.xhi.Uhi.R_}Q_(){return this.yP}Y_(){return this.MP}Sg(){return 0}Cg(){return 0}Og(){return this.xhi.Uhi.xg}jg(t){this.xhi.Uhi.xg=t}K_(){return this.xhi.Uhi.Z_}J_(t){this.xhi.Uhi.Z_=t}pg(){return this.xhi.Uhi.vg}get h7(){return this.xhi.Bhi.h7}get o7(){return this.xhi.Bhi.o7}Mg(){return this.xhi.Uhi.yg}og(){return this.xhi.Uhi.hg}DHt(i){if(this.CHt||this.xhi.DHt(i),this.xhi.Fhi){if(i.type===t.Sh&&this.Qo.R_)return!0;if(i.type===t.kA)return this.xhi.Ghi.Yhi(),!0}return!1}be(){this.xhi.be()}Gg(){this.hg||this.xhi.Uhi.Gg()}async Vhi(){if(!this.xhi.Whi)try{await this.xhi.pXt()}catch(t){this.Hhi(t,Je.GENERAL)}}async qhi(){if(this.xhi.Uhi.Xhi)return this.xhi.Uhi.Vg(),!1;if(this.xhi.Zhi)try{await this.xhi.Ghi.Khi()}catch(t){this.Hhi(t,Je.PLAYBACK)}return!0}get Jhi(){return li(this.Q_())}Hhi(t,i){t.name!==ur.bhi&&this.MHt.Co(new xa(i,"Ads could not be loaded."))}async Vg(){if(this.hg&&this.Co(new fh(this.j_)),await this.Vhi(),this.Jhi)return;const t=await this.qhi();!this.Jhi&&t&&this.U2t()}a$t(t,i,e){i===ds.u7&&this.xhi.a$t(t)}ge(){this.xhi.ge()}Yp(){this.xhi.Uhi.Yp()}Ug(){return this.b8}E_(){return this.HP.NR.map((t=>t.TP))}zHt(t){}async gn(){await this.Wg(),this.xhi.gn(),await this.HP.WP(this.vP),this.zhi(),this.Qhi(),this.MHt.jR(this.xhi.Bhi)}async Wg(){this.xhi.Zn(),this.CHt&&(this.Qo.ge(),this.VWt(),this.be())}constructor(t,i,e,s,n){super(t,i),this.yP=void 0,this.MP=void 0,this.jhi=t=>{const i=t.f7,e="A7"===t.type;if(i.Vqt===Ur.PQt){const t=this.Qo.we.classList;e?t.add(f6):t.remove(f6)}e?this.ge():this.be()},this.Ohi=()=>{this.VHt(),this.Qo.Gg(),this.Qo.be()},this.U2t=()=>{this.xhi.Whi&&(this.Qo.R_||this.Qo.Vg(),this.be(),this.Qo.ge(),this.VWt())},this.xhi=s,this.HP=e,this.vP=n,this.b8=n.TP,this.b8.controls=!1,this.Chi(),this.Phi(),this.Rhi()}};r(),r(),r();var w6=class extends o0{get $hi(){return this.toi}get ioi(){return this.Oc[this.eoi]}set soi(t){this.eoi=t}get soi(){return this.eoi}get Vqt(){return this.dJt}get aGt(){return sh.rGt}constructor(t,i,e,s){super(t,i,e),this.toi=s,this.eoi=0,this.dJt=v6(s)}};r();var A6=class extends cr{get noi(){return this.roi}set noi(t){this.roi!==t&&(this.roi=t)}get Ti(){return this.Xl.$hi.getHeight()}get ji(){return this.Xl.$hi.getWidth()}get oUt(){return this.noi.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK)[0]}get aGt(){return sh.rGt}fa(){return u0(this)}constructor(t,i,e){super(t,i),this.roi=e}};function v6(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY?Ur.PQt:Ur.zQt}var m6=class t extends ra{async hoi(t,i){this.ooi=t,this.aoi=i,this.uoi(t),await i,this.coi()}get loi(){return this.doi}get foi(){return this._oi}get goi(){return this.woi}get r7(){return this.xGt}get BJt(){return this.SGt}get h7(){const t=[];if(this.xGt){const i=this.xGt.soi;i>=0&&t.push(...this.xGt.Oc.slice(i+1))}for(const i of this.Aoi)t.push(...i.Oc);return t}get o7(){return this.Aoi}coi(){this.voi()}uoi(t){t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.moi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.poi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.yoi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.Moi),t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.Toi)}Noi(){this.ooi&&(this.ooi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.moi),this.ooi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.poi),this.ooi.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.yoi),this.ooi.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.Moi),this.ooi.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.Toi))}voi(){this.doi=this.Doi(this.Ioi),this._oi=this.Doi(this.Soi).concat(this.Doi(this.Eoi)),this.woi=this.Doi(this.boi),this.Aoi=this.doi.concat(this._oi).concat(this.woi)}Doi(t){if(!this.ooi)return[];const i=this.ooi.getSlotsByTimePositionClass(t);return this.Loi(i)}koi(t){if(!this.xGt)return void 0;const i=t.getSlot().getAdInstances().indexOf(t);-1!==i&&(this.xGt.soi=i);const e=this.xGt.ioi;return e&&(e.noi=t),e}Coi(t){return p(this.Aoi,(i=>i.$hi===t))}Loi(i){return i.map((i=>{const e=i.getTotalDuration(),s=t.xoi(i);return new w6(e,e,s,i)}))}static Ooi(t,i){const e=t.getAdInstances(),s=[];for(const t of e){const e=v6(t.getSlot()),n=new A6(i,e,t),r=[];n.uJt(t.getAdId(),t.getSlot().getWidth(),t.getSlot().getHeight(),t.getDuration(),r,0),i.hJt(n),s.push(n)}return s}VVt(){const t=this.BJt;t&&this.Co(new T0(t,this.joi()))}zoi(){const t=this.BJt;t&&(this.Co(new da(t,t.noi.getPlayheadTime())),this.SGt=void 0)}Poi(t){const i=this.r7;i&&(i.cGt=function(t,i,e){void 0===e&&(e=0);let s=0;const n=t.Oc.length;for(let r=i;r<n;r++){const n=t.Oc[r],h=n.ct;if(n){let t=h;r===i&&(t=Sc(h-e,0,h)),s+=t}}return s}(i,i.soi,t))}static xoi(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL?-1:t.getTimePosition()}joi(){const t=this.BJt;if(!t)return 0;const i=t.noi;return i.getPlayheadTime()/i.getDuration()}Boi(t){Et(this.Aoi,t),Et(this.doi,t),Et(this._oi,t),Et(this.woi,t)}Zn(){this.Noi(),this.doi.length=0,this._oi.length=0,this.woi.length=0,this.Aoi.length=0,this.SGt=void 0,this.xGt=void 0,this.ooi=void 0,this.aoi=void 0}gn(){this.Zn(),this.Vo()}constructor(i,e){super(),this.Us=i,this.mO=e,this.Ioi=tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL,this.Soi=tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL,this.boi=tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL,this.Eoi=tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY,this.doi=[],this._oi=[],this.woi=[],this.Aoi=[],this.moi=i=>{const e=i.slot,s=this.Coi(e);s&&(t.Ooi(e,s),this.xGt=s,s.nJt(),this.Boi(s),s.Vqt===Ur.zQt&&this.Co(new pa(s)))},this.poi=()=>{const t=this.r7;t&&t.Vqt===Ur.zQt&&(this.Co(new Nh(t)),this.mO.src=""),this.xGt=void 0},this.yoi=t=>{const i=this.koi(t.adInstance);i&&(this.Co(new Za(i,i.noi.getPlayheadTime())),this.SGt=i),t.adInstance.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK).length>0&&(this.Us.style.cursor="pointer",this.Us.addEventListener("click",this.Roi))},this.Moi=()=>{this.Us.style.cursor="",this.Us.removeEventListener("click",this.Roi)},this.Roi=()=>{this.BJt&&this.BJt.noi.getRendererController().processEvent({name:tv.freewheel.SDK.EVENT_AD_CLICK})},this.Toi=t=>{switch(t.subType){case tv.freewheel.SDK.EVENT_AD_COMPLETE:this.zoi();break;case tv.freewheel.SDK.EVENT_AD_SKIPPED:this.VVt(),this.zoi()}}}};r();var p6=class t extends ra{Uoi(){if(this.Dgt){this.Dgt.setAdVolume(y6(this.Z_,this.xg))}}Qoi(t){this.Dgt=t,this.uoi(t)}uoi(t){t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.Foi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.Yoi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Goi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.Voi),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.Woi),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.Hoi)}qoi(){const t=this.Dgt;t&&(t.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.Foi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.Yoi),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Goi),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.Voi),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.Woi),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.Hoi))}Vg(){this.BAt.r7&&(this.BAt.r7.$hi.resume(),this.hg=!1)}Gg(){this.BAt.r7&&(this.BAt.r7.$hi.pause(),this.hg=!0)}get j_(){const t=this.BAt.BJt;return t&&(this.j_=t.noi.getPlayheadTime()),this.dR}set j_(t){this.dR=t}get ct(){return this.Rk}get Xhi(){return!!this.BAt&&void 0!==this.BAt.r7}get hg(){return this.gR}set hg(t){this.gR=t}get xg(){return this.Jk}set xg(t){this.Dgt&&this.Dgt.setAdVolume(t),this.Jk=t}get Z_(){return this.Dgt&&(this.Xoi=0===this.Dgt.getAdVolume()),this.Xoi}set Z_(t){this.Dgt&&this.Dgt.setAdVolume(y6(t,this.xg)),this.Xoi=t}get yg(){return this.I$}get R_(){return this.Y$}set R_(t){this.Y$=t}get vg(){return this.G$}static Zoi(t){switch(t){case"pause":return tv.freewheel.SDK.VIDEO_STATE_PAUSED;case"playing":return tv.freewheel.SDK.VIDEO_STATE_PLAYING;case"ended":return tv.freewheel.SDK.VIDEO_STATE_COMPLETED;case"stop":return tv.freewheel.SDK.VIDEO_STATE_STOPPED}}Koi(i){const e=t.Zoi(i);this.Dgt&&e&&this.Dgt.setVideoState(e)}Yp(){const t=this.BAt.BJt;t&&t.noi.skip()}Zn(){if(this.qoi(),this.Dgt){this.Koi("stop"),this.Dgt.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED);const t=this.Dgt.getTemporalSlots();for(const i of t)i.stop();this.Dgt.dispose(),this.Dgt=void 0}this.Rk=NaN,this.R_=!1,this.G$=Os.tN,this.j_=0,this.Joi=0,this.hg=!0,void 0!==this.$oi&&(m(this.$oi),this.$oi=void 0)}gn(){this.Zn(),this.Vo(),this.BAt.fn("w7",this.Md),this.Wu.fn(_r.pn,this.Yoi),this.RVt.removeEventListener("click",this.tai)}constructor(t,i,e,s){super(),this.Qo=t,this.Wu=i,this.BAt=e,this.RVt=s,this.I$=Ki.lR().ks(),this.gR=!0,this.Rk=NaN,this.Xoi=!1,this.Y$=!1,this.G$=Os.tN,this.dR=0,this.Joi=0,this.Foi=t=>{switch(t.subType){case tv.freewheel.SDK.EVENT_AD_PAUSE:(function(t){if(!t)return!0;const i=t.noi,e=i.getPlayheadTime(),s=i.getDuration();return e>=s||Y_(s,e)})(this.BAt.BJt)||(this.hg=!0,this.Co(new ye(this.j_)));break;case tv.freewheel.SDK.EVENT_AD_RESUME:this.hg=!1,this.Co(new Vi(this.j_));break;case tv.freewheel.SDK.EVENT_AD_VOLUME_CHANGE:if(this.Dgt){const t=this.Dgt.getAdVolume();0===t?this.Xoi=!0:this.Jk=t,this.Co(new Oe(this.j_,this.xg))}}},this.Goi=()=>{this.R_=!1;const t=this.hg;if(this.hg=!1,t&&(this.Co(new fh(this.j_)),this.Co(new Vi(this.j_))),this.G$=Os.eN,this.j_=0,!this.BAt.BJt)return;const i=this.BAt.BJt.noi;this.Rk=i.getDuration(),this.Co(new Vr(this.Rk)),this.$oi=v((()=>{if(!this.Xhi)return void this.r$();this.BAt.Poi(this.j_);const t=i.getPlayheadTime();Va(t,this.Joi,.001)||this.Co(new jc(t,void 0)),this.Joi=t}),250),this.Dgt&&this.Dgt.setAdVolume(y6(this.Z_,this.xg))},this.tai=()=>{const t=this.BAt.BJt;t&&(t.Vqt===Ur.PQt?this.Qo.Gg():this.hg||this.Gg())},this.r$=()=>{m(this.$oi),this.$oi=void 0},this.Voi=()=>{this.r$(),this.R_=!0},this.Woi=()=>{this.Koi("pause")},this.Hoi=()=>{this.Koi("playing")},this.Md=t=>{t.Xl.Vqt===Ur.zQt&&(this.hg=!1)},this.Yoi=()=>{this.Dgt&&this.Dgt.resize(this.Wu.ku,this.Wu._u)},this.Jk=t.xg,e.yn("w7",this.Md),this.Wu.yn(_r.pn,this.Yoi),this.RVt.addEventListener("click",this.tai)}};function y6(t,i){return t?0:i}r(),r();var Pc=class extends Xo{get name(){return ur.Lhi}constructor(){super("A FreeWheel Ad Error occurred")}};r();var M6=class extends Xo{get name(){return ur.bhi}constructor(){super("A FreeWheel Reset Error Occurred")}},T6=0;var N6=class{iai(t,i,e){t.setNetwork(i.networkId),t.setServer(i.adServerUrl);const s=this.Dgt;if(s.setProfile(i.profile),i.assetId&&i.assetDuration&&s.setVideoAsset(i.assetId,i.assetDuration),i.siteSectionId&&s.setSiteSection(i.siteSectionId),s.registerVideoDisplayBase(e),i.cuePoints&&i.cuePoints.length)for(const t of i.cuePoints)s.addTemporalSlot("cue-"+ ++T6,t.adUnit,t.timeOffset);const n=i.customData;if(Mi(n)){const t=_.keys(n);for(const i of t){const t=n[i];s.addKeyValue(i,t)}}}async eai(){this.Dgt.submitRequest(),await this.sai.PL}Zn(){this.Dgt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.nai),this.sai.zL(new M6)}constructor(t,i,e,s){this.Dgt=i,this.nai=t=>{this.Dgt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.nai),t.success?this.sai.jL(void 0):this.sai.zL(new Pc)},this.iai(t,e,s),i.addEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.nai),this.sai=new Eo}};r(),r();var D6=class{rai(){this.ooi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.poi),this.ooi.removeEventListener(tv.freewheel.SDK.EVENT_ERROR,this.poi)}get hai(){return this.u_.PL}DCt(){this.rai(),this.u_.zL(new M6)}constructor(t){this.ooi=t,this.poi=t=>{this.rai(),this.u_.jL(void 0)},this.wKt=t=>{this.rai(),this.u_.zL(new Pc)},this.u_=new Eo,t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.poi),t.addEventListener(tv.freewheel.SDK.EVENT_ERROR,this.wKt)}},I6=class{gN(t){this.ooi=t}Khi(){return this.oai(this.aai.loi)}Yhi(){this.oai(this.aai.goi)}async oai(t){if(this.ooi)for(;t.length>0;){this.uai=new D6(this.ooi);const i=this.uai.hai,e=this.aai.r7;e&&e.Vqt===Ur.PQt&&e.$hi.stop();t.shift().$hi.play();try{await i}finally{this.uai=void 0}}}Zn(){this.uai&&(this.uai.DCt(),this.uai=void 0),this.cai=0}gn(){this.Qo.fn(t.ov,this.lai)}constructor(i,e){this.Qo=i,this.aai=e,this.cai=0,this.lai=()=>{const t=this.Qo.z_();for(const i of this.aai.foi){const e=new Ki([this.cai,t],[!0,!0]),s=i.$hi.getTimePosition();if(e.gr(s))switch(i.$hi.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:this.oai([i]);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:i.$hi.play(),i.$hi.setVisible(!0)}}this.cai=t},i.yn(t.ov,this.lai)}},S6=0,E6=class t extends Zu{static createUniqueDisplayBaseId(){return"theo-freewheel-"+ ++S6}get Fhi(){return 0!==this.Bhi.goi.length}get Zhi(){return 0!==this.Bhi.loi.length}async pXt(){if(!this.EFt)throw new b("Invalid state");const t=this.fai,i=t.newContext();i.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),i.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);const e=new N6(t,i,this.EFt,this._ai),s=this.Bhi.hoi(i,e.eai());this.gai.gN(i),this.Uhi.Qoi(i),this.wai=e;try{await s}finally{this.Uhi.Uoi(),this.Aai=!0}}get Uhi(){return this.cKt}get Bhi(){return this.vai}get Whi(){return this.Aai}static mai(t,i,e){const s=h.createElement("div");return s.id=e,s.className="theo-freewheel",i.classList.add("theo-freewheel-video"),s.appendChild(i),t.appendChild(s),s}get Ghi(){return this.gai}DHt(t){this.Uhi.Koi(t.type)}ge(){this.RVt.style.display="block",this.mO.style.display="block"}be(){this.RVt.style.display="none",this.mO.style.display="none"}a$t(t){this.EFt=t}Zn(){this.Aai=!1,this.EFt=void 0,this.Bhi.Zn(),this.gai.Zn(),this.wai&&(this.wai.Zn(),this.wai=void 0),this.Uhi.Zn(),this.mO.src=""}gn(){this.Zn(),this.cKt.gn(),this.gai.gn(),this.Bhi.gn(),this.RVt.remove(),this.Qo.we.removeChild(this.RVt)}constructor(i,e,n){super(),this.Qo=i,this.mO=e,this.Aai=!1,this._ai=t.createUniqueDisplayBaseId(),this.RVt=t.mai(i.we,e,this._ai),this.fai=new s.tv.freewheel.SDK.AdManager,this.vai=new m6(this.RVt,this.mO),this.gai=new I6(this.Qo,this.Bhi),this.Qa(this.Bhi),this.cKt=new p6(i,n,this.Bhi,this.RVt)}};function b6(t){if(s.tv)switch(t){case"preroll":return tv.freewheel.SDK.ADUNIT_PREROLL;case"midroll":return tv.freewheel.SDK.ADUNIT_MIDROLL;case"postroll":return tv.freewheel.SDK.ADUNIT_POSTROLL;case"overlay":return tv.freewheel.SDK.ADUNIT_OVERLAY}}function L6(t,i,e){if(void 0!==i&&j(i)||i<0||i===1/0)return NaN;switch(t){case"preroll":return 0;case"postroll":return e}return uh(i)}var k6;function Cs(t){return t.navigator&&t.navigator.userAgent||""}Zo.gL.$R(new class{get _Ht(){return sh.rGt}JR(t){return t.integration===uS.FREEWHEEL}gHt(t,i,e){if(!Boolean(s.tv&&s.tv.freewheel&&s.tv.freewheel.SDK&&s.tv.freewheel.SDK.AdManager))return;const n=new Ry(t.Iu,t.Ol,1,[hv.vp]);n.IR(t.we);const r=n.cB(hv.vp),h=new E6(t,r.TP,t.Iu);return new g6(t,i,n,h,r)}_F(t){const i=Kr(t);pi(i.cuePoints)||(i.cuePoints=[]);const e=[],s=t.assetDuration||0;for(const t of i.cuePoints){const i=L6(t.adUnit,t.timeOffset,s),n=b6(t.adUnit);!j(i)&&ae(n)?(t.adUnit=n,t.timeOffset=i,e.push(t)):lg.Pv("Invalid adUnit/timeOffset combination. Cue was removed.")}return i.cuePoints=e,i}N1(t,i,e,s){e.a$t(t,i,s)}}),r(),r(),r(),r(),r(),r(),r(),r(),function(t){t.pai="Windows 10",t.yai="Windows 8.1",t.Mai="Windows 8",t.Tai="Windows 7",t.Nai="Windows Vista",t.Dai="Windows Server 2003",t.Iai="Windows XP",t.Sai="Windows Phone",t.Eai="Mac OS X",t.bai="Mac OS",t.TE="Android",t.DE="iOS",t.Lai="Ubuntu",t.kai="Linux",t.Cai="Chrome OS"}(k6||(k6={}));var C6={"Windows 10":/(Windows 10.0|Windows NT 10.0)/i,"Windows 8.1":/(Windows 8.1|Windows NT 6.3)/i,"Windows 8":/(Windows 8|Windows NT 6.2)/i,"Windows 7":/(Windows 7|Windows NT 6.1)/i,"Windows Vista":/Windows NT 6.0/i,"Windows Server 2003":/Windows NT 5.2/i,"Windows XP":/(Windows NT 5.1|Windows XP)/i,"Windows Phone":/Windows Phone/i,Android:/Android/i,Linux:/(Linux(?!.*Ubuntu)|X11)/,Ubuntu:/Ubuntu/i,iOS:/(iPhone|iPad|iPod)/i,"Mac OS X":/Mac OS X/i,"Mac OS":/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/i,"Chrome OS":/CrOS/i};function fu(t,i){const e=C6[i];return!!e&&Boolean(Cs(t).match(e))}function x6(t){return fu(t,"Android")}function O6(t){return fu(t,"Windows Phone")}function j6(t){return fu(t,"iOS")&&!O6(t)}function z6(t){return fu(t,"Ubuntu")}var P6,yh=/Windows (NT|Phone) ([0-9.]+)/i,B6=/Mac.*?(OS |OS X )(\d+(([_.])\d+)?(([_.])\d+)?)/i,R6={"Windows 10":yh,"Windows 8.1":yh,"Windows 8":yh,"Windows 7":yh,"Windows Vista":yh,"Windows Server 2003":yh,"Windows XP":yh,"Windows Phone":/Windows Phone ([0-9.]+)/i,Android:/Android (\d+(([_.])\d+)?(([_.])\d+)?)/i,Linux:void 0,Ubuntu:void 0,iOS:/(iPad|iPhone|iPod).*?(OS |os |OS_)(\d+(([_.])\d+)?(([_.])\d+)?)/i,"Mac OS X":B6,"Mac OS":B6,"Chrome OS":void 0};function U6(t,i){const e=R6[i];return e?Cs(t).match(e):null}function Q6(t){return t.split(/[_.]/).map((t=>C(t,10)))}function F6(t){if(function(t){return Boolean(Cs(t).match(/Windows/i))}(t)){if(function(t){return fu(t,"Windows 10")}(t))return"Windows 10";if(O6(t))return"Windows Phone";if(function(t){return fu(t,"Windows 8.1")}(t))return"Windows 8.1";if(function(t){return fu(t,"Windows 8")}(t))return"Windows 8";if(function(t){return fu(t,"Windows 7")}(t))return"Windows 7";if(function(t){return fu(t,"Windows Vista")}(t))return"Windows Vista";if(function(t){return fu(t,"Windows Server 2003")}(t))return"Windows Server 2003";if(function(t){return fu(t,"Windows XP")}(t))return"Windows XP"}else{if(x6(t))return"Android";if(j6(t))return"iOS";if(function(t){return fu(t,"Mac OS X")}(t))return"Mac OS X";if(function(t){return fu(t,"Mac OS")}(t))return"Mac OS";if(z6(t))return"Ubuntu";if(function(t){return fu(t,"Chrome OS")}(t))return"Chrome OS";if(function(t){return fu(t,"Linux")&&!z6(t)}(t))return"Linux"}}function Y6(t,i){const e=function(t){const i=U6(t,"Windows 10");return i&&i.length>2?Q6(i[2]):void 0}(t),s=function(t){const i=U6(t,"Mac OS X");return i&&i.length>2?Q6(i[2]):void 0}(t),n=function(t){const i=U6(t,"Android");return i&&i.length>1?Q6(i[1]):void 0}(t),r=function(t){const i=U6(t,"iOS");return i&&i.length>3?Q6(i[3]):void 0}(t),h=function(t){const i=U6(t,"Chrome OS");return i&&i.length>0?Q6(i[0]):void 0}(t);return e?e.length>i?e[i]:void 0:s?s.length>i?s[i]:void 0:n?n.length>i?n[i]:void 0:r?r.length>i?r[i]:void 0:h&&h.length>i?h[i]:void 0}function G6(t){const i=function(t){return Y6(t,0)}(t),e=function(t){return Y6(t,1)}(t),s=function(t){return Y6(t,2)}(t);if(void 0!==i)return void 0===e?""+i:void 0===s?i+"."+e:i+"."+e+"."+s}!function(t){t.xai="Chrome",t.Oai="Chrome Mobile",t.jai="Chrome iOS",t.zai="Chromium",t.Pai="Firefox",t.Bai="Seamonkey",t.Rai="Firefox iOS",t.Uai="Firefox Mobile",t.Qai="Safari",t.Fai="Safari Mobile",t.Yai="Edge",t.Gai="Edge Chromium",t.Vai="Edge Mobile",t.Wai="IE",t.Hai="Opera",t.qai="Opera Mobile",t.Xai="Vivaldi",t.Zai="HeadlessChrome",t.Kai="Android Browser"}(P6||(P6={}));var V6={Chrome:/Chrome/i,"Chrome Mobile":void 0,"Chrome iOS":/CriOS/i,Chromium:/Chromium/i,HeadlessChrome:/HeadlessChrome/i,Firefox:/Firefox/i,Seamonkey:/Seamonkey/i,"Firefox iOS":/FxiOS/i,Safari:/Safari/i,Edge:/Edge\/\d+/i,"Edge Chromium":/Edg\/\d+/i,IE:/Trident/i,Opera:/Opera|OPR/i,Vivaldi:/Vivaldi/i,"Android Browser":void 0};function ui(t,i){const e=V6[i];return!!e&&Boolean(Cs(t).match(e))}function W6(t){return Boolean(Cs(t).match(/Mobi/i))}function H6(t){return Boolean(t.chrome&&t.navigator&&t.navigator.vendor&&/google/i.test(t.navigator.vendor))||q6(t)}function q6(t){return ui(t,"Chrome iOS")}function X6(t){return ui(t,"Firefox")&&!K6(t)}function Z6(t){return ui(t,"Firefox Mobile")&&!K6(t)&&W6(t)}function K6(t){return ui(t,"Seamonkey")}function J6(t){return ui(t,"Firefox iOS")&&!K6(t)}function $6(t){return ui(t,"Safari")&&!ui(t,"Chrome")&&!Zt.QE}function t8(t){return Boolean(u8(t))}function i8(t){return ui(t,"Edge")}function e8(t){return ui(t,"Edge Chromium")}function s8(t){return ui(t,"IE")}function n8(t){return ui(t,"Vivaldi")}var r8,h8=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,o8={Chrome:h8,"Chrome Mobile":h8,"Chrome iOS":/CriOS\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,Chromium:h8,HeadlessChrome:h8,Firefox:/Firefox\/([0-9.]+)/i,"Firefox iOS":/FxiOS\/([0-9.]+)/i,Safari:/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/,"Safari Mobile":void 0,Edge:/Edge\/(\d+)/i,"Edge Chromium":/Edg\/(\d+)/i,"Edge Mobile":void 0,IE:/(MSIE |Trident.*?rv:)(\d+)/i,Opera:/(OPR\/(\d+\.\d+))|(Opera(?=.*Version\/((\d+)\.(\d+))))/i,"Opera Mobile":void 0,Vivaldi:/Vivaldi\/((\d+)\.(\d+)\.(\d+)(?:\.(\d+))?)/i,"Android Browser":void 0};function a8(t,i){const e=o8[i];return e?Cs(t).match(e):null}function u8(t){return a8(t,"Opera")}function c8(t){const i=function(t){return a8(t,"Firefox")}(t);return i?S(i[1]):0}function l8(t){const i=function(t){return a8(t,"Firefox iOS")}(t);return i?S(i[1].split(".")[0]):0}function d8(t){const i=function(t){return a8(t,"Safari")}(t);return i?S(i[2].split(".")[0]):0}function f8(t){const i=function(t){return a8(t,"Edge")}(t);return i?S(i[1]):0}function _8(t){const i=function(t){return a8(t,"Edge Chromium")}(t);return i?S(i[1]):0}function g8(t){const i=function(t){return a8(t,"IE")}(t);return i?S(i[2]):0}function w8(t){const i=function(t){return a8(t,"Vivaldi")}(t);return i?S(i[1]):0}function A8(t){if(x6(t))return H6(t)?"Chrome Mobile":X6(t)||Z6(t)?"Firefox Mobile":i8(t)?"Edge Mobile":t8(t)?"Opera Mobile":"Android Browser";if(j6(t)){if(H6(t)||q6(t))return"Chrome iOS";if(X6(t)||J6(t))return"Firefox iOS";if(i8(t))return"Edge Mobile";if($6(t)||function(t){return $6(t)&&W6(t)}(t))return"Safari Mobile";if(t8(t))return"Opera Mobile"}return function(t){return ui(t,"Chromium")}(t)?"Chromium":function(t){return ui(t,"HeadlessChrome")}(t)?"HeadlessChrome":H6(t)?"Chrome":X6(t)?"Firefox":$6(t)?"Safari":i8(t)?"Edge":e8(t)?"Edge Chromium":s8(t)?"IE":t8(t)?"Opera":n8(t)?"Vivaldi":void 0}function v8(t){return n8(t)?w8(t):q6(t)?Number(function(t){const i=o8["Chrome iOS"];return i&&i.exec(Cs(t))||[]}(t)[1]):H6(t)?Number(function(t){const i=o8.Chrome;return i&&i.exec(Cs(t))||[]}(t)[1]):X6(t)||Z6(t)?c8(t):J6(t)?l8(t):$6(t)?d8(t):i8(t)?f8(t):e8(t)?_8(t):s8(t)?g8(t):t8(t)?function(t){const i=u8(t);return i&&i[0].indexOf("Opera")>-1?S(i[5]):i?S(i[2].split(".")[0]):0}(t):void 0}function m8(t){const i=Cs(t);return i.match(/CrKey|Roku|AFTS|AppleTV|Nexus Player/i)?"settop":i.match(/Xbox|Playstation|Wii|Nintendo/i)?"console":/(iPad|Tablet|(Android(?!.*Mobi))|(Windows(?!.*Phone)(.*Touch))|Kindle|Playbook|Silk|(Puffin(?!.*(IP|AP|WP))))/i.test(i)?"tablet":/Mobi/.test(i)?"mobile":i.match(/GoogleTV|SmartTV|SMART-TV|Internet TV|NetCast|NETTV|boxee|Kylo|DLNADOC|hbbtv|CE-HTML/i)?"smarttv":i.match(/(nuhk|Googlebot|bingbot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/i)?"searchbot":function(t){return Boolean(A8(t))}(t)?"pc":void 0}!function(t){t.Jai="pc",t.$ai="console",t.tui="settop",t.iui="mobile",t.eui="tablet",t.sui="smarttv",t.nui="searchbot"}(r8||(r8={}));var p8=class{fF(t){this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_ID,t.deviceID||function(){let t=ci.kL("deviceId");if(t)return t;let i=SS();return ci.zz("deviceId",i),i}()),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER,"THEOplayer"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER_VERSION,"7.3.0"),this.rui(t),this.hui(),this.oui(t),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_VERSION,"3.0"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_BUILDDATE,"2023-04-17 12:00:00"),t.application&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION,t.application),t.applicationVersion&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION_VERSION,t.applicationVersion),t.userAccountID&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.USER_ACCOUNT_ID,t.userAccountID);const i=t.connectionType;i?this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DATA_CONNECTION_TYPE,i):(this.aui(),sd.connection&&sd.connection.addEventListener&&sd.connection.addEventListener("change",this.aui))}rui(t){this.uui(t);const i=t.deviceManufacturer||Cc&&Cc.manufacturer;i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MANUFACTURER,i);const e=t.deviceModel||Cc&&Cc.model;e&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MODEL,e)}uui(t){const i=t.deviceType||function(){const t=m8(self);switch(t){case r8.$ai:return"game-console";case r8.sui:return"tv";case r8.tui:return"media-streamer";default:return t}}();i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_TYPE,i)}hui(){const t=A8(self);t&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER,t);const i=v8(self);void 0!==i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER_VERSION,i.toString())}oui(t){const i=t.deviceOs||F6(self);i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS,i);const e=t.deviceOsVersion||G6(self);e&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS_VERSION,e.toString())}gn(){sd.connection&&sd.connection.removeEventListener&&sd.connection.removeEventListener("change",this.aui)}constructor(t,i){this.empClient=t,this.agama=i,this.aui=()=>{const t=lg.Cit;switch(t){case"wifi":this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DATA_CONNECTION_TYPE,"wlan");break;case"ethernet":this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DATA_CONNECTION_TYPE,t);break;case"cellular":const i=function(t){switch(t){case"3g":return"mobile/3G";case"4g":return"mobile/4G";default:return}}(lg.kit);i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DATA_CONNECTION_TYPE,i)}}}};var y8,Zh;ti(function(t){return i=>class extends i{P_(t){this.cui&&this.cui.iQ(),super.P_(t)}gn(){this.cui&&this.cui.gn(),super.gn()}constructor(i,e){super(i,e),this.GU=new t,this.cui=new LS(this,this.GU,e)}}}(class extends vS{Yg(t){this.lui=t,this.dui&&(this.GU=function(t,i){const e=function(t,i){switch(i){case"info":return t.LogLevel.INFO;case"debug":return t.LogLevel.DEBUG;case"warning":return t.LogLevel.WARNING;case"error":return t.LogLevel.ERROR;default:return t.LogLevel.FATAL}}(i,t.logLevel);i.setLogLevel(e);const s=new i.EMPClient(t.config);return function(t,i){return t.setExternalConfig(i.config),t}(s,t)}(t,this.dui),this.GU&&(this.fui=new p8(this.GU,this.dui),this.bo=!0))}dF(){return this.dui||console.warn("Please load the Agama Library (empclient.min.js) in order to use the integration"),!!this.dui}cF(){return this.bo}UQ(t,i){if(this.GU&&this.dui)switch(t){case te.cU:this.GU.setMeasurement(this.dui.Measurement.BUFFER_LENGTH,i);break;case te.lU:this.GU.setMeasurement(this.dui.Measurement.BYTES_RECEIVED,i);break;case te.fU:this.GU.setMeasurement(this.dui.Measurement.SEGMENT_PROFILE_BITRATE,i);break;case te._U:this.GU.setMeasurement(this.dui.Measurement.VIDEO_PROFILE_BITRATE,i);break;case te.dU:this.GU.setMeasurement(this.dui.Measurement.SEGMENT_READ_BITRATE,i);break;case te.rU:this.GU.setMeasurement(this.dui.Measurement.HTTP_REQUEST_STATUS_CODE_1XX,i);break;case te.hU:this.GU.setMeasurement(this.dui.Measurement.HTTP_REQUEST_STATUS_CODE_2XX,i);break;case te.oU:this.GU.setMeasurement(this.dui.Measurement.HTTP_REQUEST_STATUS_CODE_3XX,i);break;case te.aU:this.GU.setMeasurement(this.dui.Measurement.HTTP_REQUEST_STATUS_CODE_4XX,i);break;case te.uU:this.GU.setMeasurement(this.dui.Measurement.HTTP_REQUEST_STATUS_CODE_5XX,i);break;case te.wU:this.GU.setMeasurement(this.dui.Measurement.PLAYBACK_POSITION,i);break;case te.AU:this.GU.setMeasurement(this.dui.Measurement.NUMBER_OF_FRAMES_DECODED,i);break;case te.gU:this.GU.setMeasurement(this.dui.Measurement.NUMBER_OF_FRAMES_DROPPED,i)}}pQ(t,i){if(this.GU&&this.dui)switch(t){case Wo.MU:this.GU.setSessionMetadata(this.dui.SessionMetadata.ASSET_DURATION,i);break;case Wo.yU:this.GU.setSessionMetadata(this.dui.SessionMetadata.MANIFEST_URI,i);break;case Wo.TU:this.GU.setSessionMetadata(this.dui.SessionMetadata.NUMBER_OF_CONTENT_PROFILES,i);break;case Wo.IU:this.GU.setSessionMetadata(this.dui.SessionMetadata.SERVICE_NAME,i);break;case Wo.NU:this.GU.setSessionMetadata(this.dui.SessionMetadata.CDN,i);break;case Wo.DU:this.GU.setSessionMetadata(this.dui.SessionMetadata.CONTENT_TITLE,i);break;case Wo.SU:this.GU.setSessionMetadata(this.dui.SessionMetadata.CONTENT_TYPE,i);break;case Wo.EU:this.GU.setSessionMetadata(this.dui.SessionMetadata.CONTENT_DESCRIPTION,i)}}fF(){this.fui&&this.lui&&this.fui.fF(this.lui)}lF(t,i){this.dui&&this.GU&&(this.XQ(),function(t,i,e,s){const n=ES(t,e,s);i.abrSession(n,t.ViewState.INITIAL_BUFFERING)}(this.dui,this.GU,t,i),this._ui=!0)}gn(){this.fui&&this.fui.gn(),this.gui(fS.bU),this.GU=void 0}hQ(t){this.wui(t)}uQ(t,i){this.GU&&this.GU.event(t.code,i)}XQ(){this.GU&&this._ui&&(this.GU.exitSession(),this._ui=!1)}gui(t){if(this.GU&&this.dui&&(this.XQ(),t===fS.bU))this.GU.shutdown(this.dui.ShutdownType.NORMAL_SHUTDOWN)}oQ(t,i,e){this.wui(t,i,e)}wui(t,i,e){if(this.GU&&this.dui)switch(t){case Fc.Tv:this.Aui(this.dui.ViewState.PLAYING,i,e);break;case Fc.eU:this.Aui(this.dui.ViewState.FAILED,i,e);break;case Fc.sU:this.Aui(this.dui.ViewState.INITIAL_BUFFERING,i,e);break;case Fc.Dv:this.Aui(this.dui.ViewState.PAUSED,i,e);break;case Fc.tU:this.Aui(this.dui.ViewState.SEEK,i,e);break;case Fc.iU:this.Aui(this.dui.ViewState.STALLED,i,e);break;case Fc.nU:this.Aui(this.dui.ViewState.NO_ACCESS,i,e)}}Aui(t,i,e){if(this.GU)if(i){const s=function(t){return t||""}(e);this.GU.viewStateExtended(t,i.code,s)}else this.GU.viewStateChanged(t)}constructor(){super(),this.bo=!1,this._ui=!1,this.dui=Ys.Agama}}),tu.X9),r(),r(),r(),r(),r(),function(t){t.PLAY_ALL="play-all",t.PLAY_NONE="play-none",t.PLAY_LAST="play-last"}(y8||(y8={})),r(),function(t){t.VOD="vod",t.LIVE="live"}(Zh||(Zh={}));var M8=class{get va(){return this.vui.va}get lt(){return this.yP}get F_(){return this.MP}mui(t){this.yP=Vs(t),this.MP=t,this.Qo.Co(new pe(t))}ga(t){this.pui.Zn(),this.yui.OL(),this.Mui=!1,this.Qo.Tui(t)}async L7(t,i){if(this.Nui.Zn(),this.Mui=!1,!t||!function(t){return t.sources.some((t=>t.integration===ms.VERIZON_MEDIA))}(t))return await this.Qo.Dui(t,i);try{this.Iui=await this.Sui.Vni(t),await this.Qo.Dui(this.Iui,i)}catch(t){this.mui(new ce(y_.MANIFEST_LOAD_ERROR,t.message,t))}}gn(){this.u2.c_(),this.Eui.c_(),this.Qo.fn(t.IA,this.Cei),this.Qo.fn(t.jh,this.vii),this.Qo.fn(t.ov,this.Mri),this.Qo.fn(t.kA,this.Mei),this.Qo.fn(er.pv,this.jd);for(const t of this.pui.fGt.Gu)t.fn("bui",this.Lui),t.fn("w7",this.Iei),t.fn("g7",this.Sei);this.pui.fGt.fn("d7",this.kui),this.pui.fGt.fn("l7",this.Cui),this.pui.gn(),this.QVt&&(this.QVt.e_(),this.QVt=void 0),this.Mui=!1}async fetchAssetInfo(t){if(t&&t.integrationData)try{const i=await this.xui.iyt(t.integrationData.source.prefix,t.integrationData.source.id,this.Eui.a_,t.integrationData.preplayResponse.sid);this.vui.Oui(i),this.yui.jui(i,this.pui.fGt.Gu)}catch(t){0}}zui(t){this.pui.Pui(t),this.pui.s7.forEach((i=>i.Bui(t))),this.pui.Rui(this.Qo.Mg()),this.UVt()}P_(t){this.pui.r7||(this.u2.c_(),this.u2=new xs,W(this.Rni(t,this.u2.a_)))}async Rni(t,i){if(Pi(i),t<this.Qo.z_())return void this.Uui(t);let e=[];switch(this.pui.Qui){case y8.PLAY_ALL:e=this.pui.Fui(this.Qo.z_(),t),await this.Yui(t,e,i);break;case y8.PLAY_LAST:const s=this.pui.Fui(this.Qo.z_(),t).pop();e=s?[s]:[],await this.Yui(t,e,i);break;case y8.PLAY_NONE:this.Gui(t)}}Uui(t){const i=p(this.pui.fGt.Gu,(i=>i.fht.gr(t)));i?this.Qo.Vui(i.zN):this.Qo.Vui(t)}Gui(t){const i=this.pui.Fui(this.Qo.z_(),t).pop();i&&i.fht.gr(t)?this.Qo.Vui(i.PN):this.Qo.Vui(t)}async Yui(t,i,e){for(const t of i)await this.Wui(t,e);const s=i[i.length-1];s&&s.fht.gr(t)?this.Qo.z_()<t&&this.Qo.Vui(s.PN):this.Qo.Vui(t)}async Wui(t,i){t.fn("bui",this.Lui);const e=Promise.race([t.D_("g7",i),t.D_("bui",i)]);this.zui(this.Qo.z_()),t.ro||this.Qo.Vui(t.zN),await e,t.yn("bui",this.Lui)}UVt(){const t=p(this.pui.s7,(t=>t.Hui.length>0));if(t){const i=t.Hui[0];this.QVt||(this.QVt=new On(this.Qo.we),this.QVt.yn("clickstart",this.qui)),this.QVt.ZGt=i}else this.QVt&&(this.QVt.e_(),this.QVt=void 0)}constructor(i,e,s,n,r,h,o){this.Qo=i,this.Nui=e,this.Sui=s,this.pui=n,this.vui=r,this.xui=h,this.yui=o,this.yP=void 0,this.MP=void 0,this.u2=new xs,this.Eui=new xs,this.Xui=void 0,this.Mui=!1,this.QVt=void 0,this.Cei=t=>{const i=t.currentSource;if(!i||!i.integrationData)return;const{preplayResponse:e,source:s}=i.integrationData;this.vui.Zui(e),e&&e.type===Zh.VOD&&e.ads&&this.pui.jui(e.ads),this.Nui.Kui=i.integrationData,s.assetInfo&&W(this.fetchAssetInfo(i))},this.vii=()=>{this.Mui=!0},this.Mri=()=>{this.Mui&&this.zui(this.Qo.z_())},this.Mei=()=>{this.Mui&&(this.zui(1/0),this.Mui=!1)},this.jd=()=>{W(this.Nui.Cn())},this.Lui=t=>{this.u2.c_(),this.u2=new xs,W(this.Rni(t.Xl.PN,this.u2.a_))},this.Iei=()=>{1!==this.Qo.ag&&(this.Xui=this.Qo.ag,this.Qo.ag=1)},this.Sei=()=>{void 0!==this.Xui&&(this.Qo.ag=this.Xui,this.Xui=void 0)},this.kui=t=>{t.Xl.yn("bui",this.Lui),t.Xl.yn("w7",this.Iei),t.Xl.yn("g7",this.Sei)},this.Cui=t=>{t.Xl.fn("bui",this.Lui),t.Xl.fn("w7",this.Iei),t.Xl.fn("g7",this.Sei)},this.qui=()=>{this.Qo.Gg()},this.Qo.yn(t.IA,this.Cei),this.Qo.yn(t.jh,this.vii),this.Qo.yn(t.ov,this.Mri),this.Qo.yn(t.kA,this.Mei),this.Qo.yn(er.pv,this.jd),this.pui.fGt.yn("d7",this.kui),this.pui.fGt.yn("l7",this.Cui)}};r(),r();var T8=tn({breaksIndex:Ii,adsIndex:Ii,startTime:Ii,endTime:Ii}),N8=tn({index:Ii,timeOffset:Ii}),D8=tn({duration:Ii,apiFramework:ii(P,aI),creative:P,mimeType:P,width:Ii,height:Ii,companions:ki(new class{mz(t){return this.Jui().mz(t)}yz(t,i){return this.Jui().yz(t,i)}constructor(t){this.Jui=bh(t)}}((()=>D8))),extensions:ii(gh,ki(oI)),fw_parameters:ii(gh,Nu(P)),events:Nu(ki(P))}),I8=tn({type:si(["linear","nonlinear"]),position:si(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:Ii,duration:Ii,ads:ki(D8),events:Nu(ki(P))}),S8=tn({breaks:ki(I8),breakOffsets:ki(N8),placeholderOffsets:ki(T8)}),E8=tn({fairplayCertificateURL:ii(gh,P),widevineLicenseURL:ii(gh,P),playreadyLicenseURL:ii(gh,P)}),b8={type:si(cI(Zh)),playURL:P,prefix:P,sid:P,drm:ii(gh,E8)},L8=tn(At({},b8,{type:si([Zh.VOD]),ads:S8,interstitialURL:ii(P,aI,gh)})),k8=ii(L8,tn(At({},b8,{type:si([Zh.LIVE])})));r();var C8,x8=P,O8=tn({userId:P,externalId:ii(P,ki(P))});!function(t){t[t.AD_IMPRESSIONS=1]="AD_IMPRESSIONS",t[t.FW_VIDEO_VIEWS=2]="FW_VIDEO_VIEWS",t[t.LINEAR_AD_DATA=4]="LINEAR_AD_DATA"}(C8||(C8={}));var j8=class{async iyt(t){try{return this.$ui(t)}catch(t){throw t}}async $ui(t){const i=await async function(t){const i=t.prefix,e=z8[t.assetType],s=function(t){if(ki(x8).mz(t))return 1===t.length?t[0]:t.join(",")+"/multiple";if(x8.mz(t))return t;if(O8.mz(t)&&pi(t.externalId))return 1===t.externalId.length?"ext/"+t.userId+"/"+t.externalId[0]:"ext/"+t.userId+"/"+t.externalId.join(",")+"/multiple";if(O8.mz(t))return"ext/"+t.userId+"/"+t.externalId;throw new k("Invalid asset id")}(t.id),n=await async function(t){if(t&&await lg.kx())return{rmt:"fps",manifest:"m3u8"};if(t&&await lg.Sx())return{rmt:"wv",manifest:"mpd"};if(t&&await lg.Lx())return{rmt:"pr",manifest:"mpd"};return{}}(t.contentProtected),r=function(t,i){const e=P8(t,i);return e?{"ad.cping":"1","ad.pingf":String(e)}:{}}(t.assetType,t.ping);let h={};pi(t.preplayParameters)?t.preplayParameters.forEach((t=>{h[t[0]]=t[1]})):h=t.preplayParameters;const o=i+"/preplay/"+e+s+".json";return Jo(o,At({v:"2"},h,n,r,h))}(t),e=this.gE.mS({nE:Yc.GET,zu:i,rE:Rt.jS}),s=await e,n=At({},await s.Cp(),{type:t.assetType===Ga.ASSET?Zh.VOD:Zh.LIVE});return k8.mz(n)||k8.yz(n,"PreplayResponse"),n}constructor(t){this.gE=t}},z8={[Ga.ASSET]:"",[Ga.CHANNEL]:"channel/",[Ga.EVENT]:"event/"};function P8(t,i){const e=t!==Ga.ASSET;return(!e&&i.adImpressions?1:0)+(!e&&i.freeWheelVideoViews?2:0)+(e&&i.linearAdData?4:0)}r(),r();var br,B8=tn({ad_id:P,apiFramework:ii(aI,P),companions:ki(oI),creative:P,duration:Ii,mimeType:P,height:Ii,width:Ii,extensions:ii(gh,ki(oI)),fw_parameters:ii(gh,Nu(P))}),R8=tn({breakId:P,ads:ki(B8),type:si(["linear","nonlinear"]),position:si(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:Ii,duration:Ii,height:ii(gh,Ii),width:ii(gh,Ii),events:Nu(ki(P))}),U8=tn({breaks:ki(R8)}),Q8=tn({next_time:Ii,ads:ii(gh,U8),extensions:ii(gh,ki(oI)),error:ii(gh,P),currentBreakEnd:ii(gh,Ii)});!function(t){t.hyt="start",t.tU="seek"}(br||(br={}));var F8=class{async iyt(t,i){try{return this.$ui(t,i)}catch(t){throw t}}async $ui(t,i){const e=function(t){const i={v:"3",pt:String(t.currentTime)};(function(t){return void 0!==t.seekTime})(t)&&t.hasFreeWheelVideoViews&&(i.ft=String(t.seekTime));t.event&&(i.ev=t.event);return Jo(t.zonePrefix+"/session/ping/"+t.sessionId+".json",At({},i))}(t),s=this.gE.mS({nE:Yc.GET,zu:e,rE:Rt.jS,a_:i}),n=await s,r=await n.Cp();return Q8.mz(r)||Q8.yz(r,"PingResponse"),r}constructor(t){this.gE=t}};r(),r();var Y8=class extends z{get yS(){return this.MS}fa(){return new G8(this.MS)}constructor(t){super("tci"),this.MS=t}},G8=class extends mg{constructor(t){super("pingresponse"),this.response=t}};r();var V8=class extends z{get lt(){return this.yP}fa(){return new W8(this.yP)}constructor(t){super("ici"),this.yP=t}},W8=class extends mg{constructor(t){super("pingerror"),this.error=t}},H8=class extends i{set Kui(t){this.eci=t}get sci(){return this.nci}async Cn(){const t=this.eci;if(!t)return;0!==P8(t.source.assetType,t.source.ping)&&(this.nci=this.Qo.Mg().start(0),await this.rci(br.hyt),this.Qo.yn("timeupdate",this.hci),this.Qo.yn("seeking",this.aci))}async rci(t,i){const e=this.eci.preplayResponse,s={};if(j(this.nci))return void 0;if(li(this.uci)&&Y_(this.uci,this.Qo.z_()-this.nci))return;void 0!==i&&(s.seekTime=i),void 0!==t&&(s.event=t);let n,r=this.Qo.z_()-this.nci;t===br.hyt?r=0:t!==br.tU&&this.cci&&(r=x.min(r,this.cci)),this.uci=r;try{var h;const t=await this.lci.iyt(At({zonePrefix:e.prefix,sessionId:e.sid,currentTime:r,hasFreeWheelVideoViews:null==(h=this.eci)?void 0:h.source.ping.freeWheelVideoViews},s),this.aO.a_);this.Co(new Y8(t)),this.cci=-1!==t.next_time?t.next_time:void 0,n=t.error}catch(t){So(t)||(n=t.message)}finally{n&&this.Co(new V8(n))}}Zn(){this.cci=void 0,this.eci=void 0,this.nci=NaN,this.dci=!1,this.fci=NaN,this.uci=void 0,this.Qo.fn("seeking",this.aci),this.Qo.fn("timeupdate",this.hci),this._ci()}_ci(){this.aO.c_(),this.aO=new xs}gn(){this.Zn()}constructor(t,i){super(),this.lci=t,this.Qo=i,this.nci=NaN,this.cci=void 0,this.dci=!1,this.fci=NaN,this.aO=new xs,this.uci=void 0,this.hci=async()=>{const t=this.Qo.z_();if(this.fci=t,this.dci||j_(this.cci)||j(this.nci))return;this.nci+this.cci<=t&&(this.dci=!0,await this.rci(),this.dci=!1)},this.aci=()=>{if(this.Qo.z_()===this.nci)return;this.dci&&this._ci(),this.fci=this.Qo.z_();const t=this.fci-(this.nci||0);j(t)?W(this.rci(br.tU,0)):W(this.rci(br.tU,t))}}};r();var q8=class{async Vni(t){const i=[];for(const e of t.sources)if(X8(e))try{const s=K8({source:e,preplayResponse:await this.gci.iyt(e)},t,this.eH);s.src&&(s.src=Jo(s.src,e.playbackUrlParameters)),i.push(s)}catch(t){0}else i.push(e);if(0!==t.sources.length&&0===i.length)throw new b("Fatal: unable to play VerizonMediaSources.");return At({},t,{sources:i})}constructor(t,i){this.gci=t,this.eH=i}};function X8(t){return"verizon-media"===t.integration}function Z8(t){if(t.sources)if(pi(t.sources)){for(const i of t.sources)if(!ae(i)&&"verizon-media"===i.integration)return!0}else if(!ae(t.sources))return"verizon-media"===t.sources.integration;return!1}function K8(t,i,e){const s=t.preplayResponse;let n;t.source.contentProtected&&s.drm&&(n={integration:"uplynk"},s.drm.fairplayCertificateURL&&(n.fairplay={certificateURL:s.drm.fairplayCertificateURL}),s.drm.widevineLicenseURL&&(n.widevine={licenseAcquisitionURL:s.drm.widevineLicenseURL}),s.drm.playreadyLicenseURL&&(n.playready={licenseAcquisitionURL:s.drm.playreadyLicenseURL}));const r=Ca({src:s.playURL,contentProtection:n,useNativePlayback:t.source.useNativePlayback,hls:t.source.hls,dash:t.source.dash,seamlessSwitchStrategy:t.source.seamlessSwitchStrategy},i,e);return r.integrationData=t,r}r(),r(),r();var J8=class extends z{fa(){return new $8(this.Xl.va)}constructor(t,i){super("w7"),this.Xl=t,this.sI=i}},$8=class extends mg{constructor(t){super("adbreakbegin"),this.adBreak=t}};r();var t9=class extends z{fa(){return new i9(this.Xl.va)}constructor(t,i){super("g7"),this.Xl=t,this.sI=i}},i9=class extends mg{constructor(t){super("adbreakend"),this.adBreak=t}};r();var e9=class extends z{fa(){return new s9(this.Xl.va)}constructor(t){super("bui"),this.Xl=t}},s9=class extends mg{constructor(t){super("adbreakskip"),this.adBreak=t}};r(),r();var n9=class extends z{fa(){return new r9(this.Xl.va)}constructor(t){super("XJt"),this.Xl=t}},r9=class extends mg{constructor(t){super("updateadbreak"),this.adBreak=t}},h9=class extends ra{get va(){return this.Xa||(this.Xa=function(t){let i;const e={get startTime(){return t.zN},get endTime(){return t.PN},get duration(){return t.ct},get ads(){return t.Oc.va},get skipOffset(){return t.PUt},set skipOffset(i){t.PUt=i},addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)}};return i=new Lh(t,e),e}(this)),this.Xa}get zN(){return this.WN}get PN(){return this.Rk?this.WN+this.Rk:void 0}wci(t){this.Rk=t-this.zN;for(const i of this.Oc.Gu)i.zN>t&&this.Oc.pN(i);this.Co(new n9(this))}get ct(){return this.Rk}get fht(){const t=this.PN;return li(t)?new Ki([this.zN,t]):Ki.lR()}get Oc(){return this.Ic}get Aci(){return this.vci}get ro(){return this.ho}get PUt(){return this.bri?-1:this.BUt}set PUt(t){this.bri||(this.BUt=t)}zot(t){return t>=this.zN&&(j_(this.ct)||t<=this.zN+this.ct)}mci(t){return-1!==this.PUt&&(!!li(this.PN)&&t-this.zN>=this.PUt)}Yp(){this.Ic.Gu.forEach((t=>t.Yp())),this.Co(new e9(this))}pci(t){const i=li(this.PN)&&t>=this.PN,e=this.zN<=t&&!i&&!this.ro,s=this.ro&&this.PN&&t>=this.PN;e&&(this.ho=!0,this.Co(new J8(this,this.zN))),this.Ic.Gu.forEach((i=>i.pci(t))),s&&(this.vci=!0,this.ho=!1,this.Co(new t9(this,this.PN)))}constructor(t,i,e,s,n){super(),this.WN=t,this.Rk=i,this.Ic=e,this.bri=s,this.ho=!1,this.vci=!1,this.BUt=n}};r(),r();var o9=class extends z{fa(){return new a9(this.f7.va)}constructor(t,i){super("A7"),this.f7=t,this.sI=i}},a9=class extends mg{constructor(t){super("adbegin"),this.ad=t}};r();var u9=class extends z{fa(){return new c9(this.f7.va)}constructor(t,i){super("v7"),this.f7=t,this.sI=i}},c9=class extends mg{constructor(t){super("adend"),this.ad=t}};r(),r();var l9=class extends z{fa(){return new d9(this.f7.va)}constructor(t){super("yci"),this.f7=t}},d9=class extends mg{constructor(t){super("removead"),this.ad=t}},po=class extends n1{z1t(t){}U1t(t){this.Co(new l9(t))}constructor(){super()}};r();var f9=class extends z{fa(){return new _9(this.f7.va)}constructor(t){super("YJt"),this.f7=t}},_9=class extends mg{constructor(t){super("adfirstquartile"),this.ad=t}},g9=class extends z{fa(){return new w9(this.f7.va)}constructor(t){super("GJt"),this.f7=t}},w9=class extends mg{constructor(t){super("admidpoint"),this.ad=t}},A9=class extends z{fa(){return new v9(this.f7.va)}constructor(t){super("VJt"),this.f7=t}},v9=class extends mg{constructor(t){super("adthirdquartile"),this.ad=t}},m9=class extends z{fa(){return new p9(this.f7.va)}constructor(t){super("Mci"),this.f7=t}},p9=class extends mg{constructor(t){super("adcomplete"),this.ad=t}};r();var y9=class t extends ra{static Tci(i,e){return new t(i,e.duration,e.apiFramework||"",e.creative,e.mimeType,e.width,e.height,e.companions.map((e=>t.Tci(i,e))),e.extensions,e.fw_parameters,e.events,void 0)}static Nci(i,e){return new t(i,e.duration,e.apiFramework||"",e.creative,e.mimeType,e.width,e.height,e.companions.map((e=>t.Nci(i,e))),e.extensions,e.fw_parameters,void 0,e.ad_id)}get va(){return this.Xa||(this.Xa=function(t){let i;const e={get apiFramework(){return t.ZRt},get companions(){return t.URt.va},get creative(){return t.Dci},get duration(){return t.ct},get endTime(){return t.PN},get events(){return t.wY},get extensions(){return t.Ici},get freeWheelParameters(){return t.Sci},get height(){return t.Ti},get mimeType(){return t.gY},get startTime(){return t.zN},get width(){return t.ji},addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)}};return i=new Lh(t,e),e}(this)),this.Xa}get zN(){return this.WN}get PN(){return this.WN+this.Rk}get ct(){return this.Rk}get ZRt(){return this.KRt}get Dci(){return this.Eci}get gY(){return this.LY}get ji(){return this.tC}get Ti(){return this.iC}get wY(){return this.kR}get URt(){return this.QRt}get Ici(){return this.bci}get Sci(){return this.Lci}get ro(){return this.ho}get Hui(){var t;return null!=(t=this.kR.clickthroughs)?t:[]}pci(t){const i=this.zN<=t&&t<this.PN,e=i&&!this.ro,s=!i&&this.ro;e&&(this.kci=!1,this.Cci=!1,this.xci=!1,this.Oci=!1,this.ho=!0,this.Co(new o9(this,this.zN))),s&&(this.ho=!1,this.Co(new u9(this,this.PN)))}Bui(t){const i=(t-this.zN)/this.ct;!this.kci&&i>=.25&&(this.kci=!0,this.Co(new f9(this))),!this.Cci&&i>=.5&&(this.Cci=!0,this.Co(new g9(this))),!this.xci&&i>=.75&&(this.xci=!0,this.Co(new A9(this))),!this.Oci&&i>=.9999&&(this.Oci=!0,this.Co(new m9(this)))}Yp(){this.kci=!0,this.Cci=!0,this.xci=!0,this.Oci=!0}gn(){this.fn("A7",this.jci),this.fn("v7",this.zci)}constructor(t,i,e,s,n,r,h,o,a=[],u={},c={},l){super(),this.WN=t,this.Rk=i,this.KRt=e,this.Eci=s,this.LY=n,this.tC=r,this.iC=h,this.bci=a,this.Lci=u,this.kR=c,this.IUt=l,this.QRt=new po,this.ho=!1,this.kci=!1,this.Cci=!1,this.xci=!1,this.Oci=!1,this.jci=()=>this.Bui(this.WN),this.zci=()=>this.Bui(this.PN),this.QRt.P1t(o),this.yn("A7",this.jci),this.yn("v7",this.zci)}};r(),r();var M9=class extends z{fa(){return new T9(this.Xl.va)}constructor(t){super("d7"),this.Xl=t}},T9=class extends mg{constructor(t){super("addadbreak"),this.adBreak=t}};r();var N9,D9,I9,S9=class extends z{fa(){return new E9(this.Xl.va)}constructor(t){super("l7"),this.Xl=t}},E9=class extends mg{constructor(t){super("removeadbreak"),this.adBreak=t}},b9=class extends n1{z1t(t){this.Co(new M9(t))}U1t(t){this.Co(new S9(t))}constructor(){super()}},L9=class{get va(){return this.Xa||(this.Xa=function(t){return{get adBreaks(){return t.fGt.va},get currentAdBreak(){if(t.r7)return t.r7.va},get currentAds(){return t.r7?t.r7.Oc.va:(new po).va},skip(){t.Yp()}}}(this)),this.Xa}get fGt(){return this.OGt}get r7(){return p(this.OGt.Gu,(t=>t.ro))}get s7(){return this.r7?this.r7.Oc.Gu.filter((t=>t.ro)):[]}get Pci(){if(0===this.fGt.U||0===this.Bci.Mg().length)return;const t=this.Bci.Mg().end(this.Bci.Mg().length-1);return p(this.fGt.Gu,(i=>i.zot(t)))}get Qui(){return this.Rci}Rui(t){if(0===t.length)return;const i=Ki.xn(t);for(const t of this.OGt.Gu.slice())li(t.PN)&&i.Cn(0)>t.PN&&this.OGt.pN(t)}jui(t){const i=!function(t){return li(t.breakOffsets)}(t),e=i?this.Nui.sci:0;for(const s of t.breaks){if(0===s.ads.length)continue;let t=s.timeOffset+e;const n=new po;let r=0;for(const e of s.ads){const s=i?y9.Nci(t,e):y9.Tci(t,e);n.mN(s),t+=s.ct,r+=s.ct}const h=s.timeOffset+e,o=i?void 0:s.duration,a=new h9(h,o,n,i,this.Uci);i&&this.Qci.push({LRt:a,QIt:h+r}),this.OGt.mN(a)}}Fci(t){const i=this.Pci;i&&i.wci(t+this.Nui.sci)}Pui(t){this.Yci=t,this.OGt.Gu.forEach((i=>i.pci(t)))}Yp(){const t=this.Yci,i=this.r7;t&&i&&i.mci(t)&&i.Yp()}Fui(t,i){let e=[];for(const s of this.fGt.Gu)!s.Aci&&s.zN>=t&&s.zN<i&&e.push(s);return e}gn(){this.Bci.fn("timeupdate",this.Gci),this.Nui.fn("tci",this.Vci)}Zn(){for(const t of this.fGt.Gu){for(const i of t.Oc.Gu)i.Vo();t.Vo()}this.fGt.OL(),this.Yci=void 0,this.Qci=[]}constructor(t,i,e,s){this.Qci=[],this.Vci=t=>{t.yS.ads&&this.jui(t.yS.ads),t.yS.currentBreakEnd&&this.Fci(t.yS.currentBreakEnd)},this.Gci=t=>{if(0===this.Qci.length||0===this.Bci.Mg().length)return;const i=this.Bci.Mg().end(this.Bci.Mg().length-1);for(const t of this.Qci.slice())li(t.LRt.ct)?Et(this.Qci,t):t.QIt<i&&(t.LRt.wci(t.QIt),Et(this.Qci,t))},this.Bci=t,this.Nui=i,this.OGt=new b9,this.Uci=e,this.Rci=s,t.yn("timeupdate",this.Gci),this.Nui.yn("tci",this.Vci)}};r(),r(),r(),function(t){t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.G=1]="G",t[t.PG=2]="PG",t[t.PG_13=3]="PG_13",t[t.R=4]="R",t[t.NC_17=5]="NC_17",t[t.X=6]="X",t[t.NOT_RATED=7]="NOT_RATED"}(N9||(N9={})),function(t){t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.TV_Y=1]="TV_Y",t[t.TV_Y7=2]="TV_Y7",t[t.TV_G=3]="TV_G",t[t.TV_PG=4]="TV_PG",t[t.TV_14=5]="TV_14",t[t.TV_MA=6]="TV_MA",t[t.NOT_RATED=7]="NOT_RATED"}(D9||(D9={})),function(t){t[t.ADULT_LANGUAGE=1]="ADULT_LANGUAGE",t[t.SEXUAL_SITUATIONS=2]="SEXUAL_SITUATIONS",t[t.VIOLENCE=4]="VIOLENCE",t[t.DRUGS=8]="DRUGS"}(I9||(I9={}));var k9=class t{static Wci(i,e,s){const n=new SA(i.rating_flags);return new t(e,s,i.duration,Boolean(i.audio_only),i.boundary_details,Boolean(i.error),i.tv_rating,i.max_slice,i.thumb_prefix,i.slice_dur,i.movie_rating,i.owner,i.meta,i.rates,i.thumbs,i.poster_url,i.default_poster_url,i.desc,n.Ep(1),n.Ep(2),n.Ep(4),n.Ep(8),i.external_id,Boolean(i.is_ad),i.asset)}get va(){return this.Xa||(this.Xa=function(t){return{startTime:t.zN,endTime:t.PN,duration:t.ct,audioOnly:t.Hci,boundaryDetails:t.qci,error:t.lt,tvRating:t.Xci,maxSlice:t.Zci,thumbPrefix:t.Kci,sliceDuration:t.Jci,movieRating:t.$ci,ownerId:t.tli,metadata:t.FI,rates:t.ili,thumbnailResolutions:t.eli,posterUrl:t.sli,defaultPosterUrl:t.nli,description:t.nM,hasAdultLanguage:t.rli,hasSexualSituations:t.hli,hasViolence:t.oli,hasDrugSituations:t.ali,externalId:t.uli,isAd:t.cli,assetId:t.lli}}(this)),this.Xa}constructor(t,i,e,s,n,r,h,o,a,u,c,l,d,f,_,g,w,A,v,m,p,y,M,T,N){this.zN=t,this.PN=i,this.ct=e,this.Hci=s,this.qci=n,this.lt=r,this.Xci=h,this.Zci=o,this.Kci=a,this.Jci=u,this.$ci=c,this.tli=l,this.FI=d,this.ili=f,this.eli=_,this.sli=g,this.nli=w,this.nM=A,this.rli=v,this.hli=m,this.oli=p,this.ali=y,this.uli=M,this.cli=T,this.lli=N}};var C9=tn({duration:Ii,offset:Ii}),x9=tn({c3:C9}),O9=tn({c7:C9}),j9=tn({halftime:C9}),z9=si(cI(D9)),P9=si(cI(N9)),B9=tn({width:ii(gh,Ii),prefix:P,bw:Ii,bh:Ii,height:ii(gh,Ii)}),R9=tn({audio_only:Ii,boundary_details:ii(gh,ki(ii(x9,O9,j9))),error:Ii,tv_rating:z9,max_slice:Ii,thumb_prefix:P,slice_dur:Ii,movie_rating:P9,owner:P,meta:oI,rates:ki(Ii),thumbs:ki(B9),poster_url:P,duration:Ii,default_poster_url:P,desc:P,rating_flags:Ii,external_id:P,is_ad:Ii,asset:P}),U9=class{async iyt(t,i,e,s){const n=function(t,i,e){if(x8.mz(i))return[Q9(t,i,e)];if(ki(x8).mz(i))return i.map((i=>Q9(t,i,e)));if(O8.mz(i)){return(pi(i.externalId)?i.externalId:[i.externalId]).map((s=>Q9(t,"ext/"+i.userId+"/"+s,e)))}throw new k("Invalid asset id")}(t,i,s),r=n.map((t=>pu((()=>this.$ui(t)),e)));return(await Promise.all(r)).filter(li)}async $ui(t){const i=this.gE.mS({nE:Yc.GET,zu:t,rE:Rt.jS}),e=await i,s=await e.Cp();return R9.mz(s)||R9.yz(s,"AssetInfoResponse"),s}constructor(t){this.gE=t}};function Q9(t,i,e){return e?t+"/player/assetinfo/"+i+".json?pbs="+e:t+"/player/assetinfo/"+i+".json"}r(),r();var F9=class extends z{fa(){return new Y9(this.sd.va)}constructor(t){super("dli"),this.sd=t}},Y9=class extends mg{constructor(t){super("removeasset"),this.asset=t}};r();var G9=class extends z{fa(){return new V9(this.sd.va)}constructor(t){super("fli"),this.sd=t}},V9=class extends mg{constructor(t){super("addasset"),this.asset=t}},W9=class extends n1{jui(t,i){let e,s=0;for(const n of t){e=s+n.duration;for(const t of i)s<=t.zN&&t.zN<e&&(e+=t.ct||0);this.mN(k9.Wci(n,s,e)),s=e}}z1t(t){this.Co(new G9(t))}U1t(t){this.Co(new F9(t))}constructor(){super()}};r(),r();var H9=class extends z{fa(){return new q9(this.yS)}constructor(t){super("_li"),this.yS=t}},q9=class extends mg{constructor(t){super("preplayresponse"),this.response=t}};r();var Zi,X9=class extends z{fa(){return new Z9(this.yS)}constructor(t){super("gli"),this.yS=t}},Z9=class extends mg{constructor(t){super("assetinforesponse"),this.response=t}},K9=class extends ra{Zui(t){t&&this.Co(new H9(Kr(t)))}Oui(t){t.forEach((t=>this.Co(new X9(t))))}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){let t;const i=this,e={get ads(){return i.pui.va},get assets(){return i.yui.va},addEventListener(i,e){t.yn(i,e)},removeEventListener(i,e){t.fn(i,e)}};return t=new Lh(i,e),e}constructor(t,i,e){super(),this.pui=t,this.yui=i,this.Nui=e,e.yn("tci",this.Ds),e.yn("ici",this.Ds)}},J9=class{wli(t,i){const e=new j8(t.tj),s=new F8(t.tj),n=function(t){if(t.verizonMedia&&li(t.verizonMedia.defaultSkipOffset)){const i=t.verizonMedia.defaultSkipOffset;return B_(i)?i:-1}return-1}(i),r=function(t){const i=t.verizonMedia?t.verizonMedia.onSeekOverAd:void 0;return function(t){if(!t)return"play-none";switch(t.toLowerCase()){case"play-all":return"play-all";case"play-none":default:return"play-none";case"play-last":return"play-last"}}(i)}(i),h=new H8(s,t),o=new q8(e,i),a=new L9(t,h,n,r),u=new U9(t.tj),c=new W9,l=new K9(a,c,h);return new M8(t,h,o,a,l,u,c)}};ti((function(t){return class extends t{Tui(t){super.ga(t)}Dui(t,i){return super.L7(t,i)}Vui(t){super.P_(t)}Q_(){var t;return null!=(t=this.Ali.lt)?t:super.Q_()}Y_(){var t;return null!=(t=this.Ali.F_)?t:super.Y_()}P_(t){this.Ali.P_(t)}ga(t){this.Ali.ga(t)}L7(t,i){return this.Ali.L7(t,i)}fa(){const t=this.Ali.va;return _l(super.fa(),{get verizonMedia(){return t}})}gn(){this.Ali.gn(),super.gn()}constructor(t,i){super(t,i),this.Ali=(new J9).wli(this,i)}}}),tu.H9),r(),r(),r(),r(),function(t){t.CREATIVE_VIEW="creativeView",t.START="start",t.FIRST_QUARTILE="firstQuartile",t.MID_POINT="midpoint",t.THIRD_QUARTILE="thirdQuartile",t.COMPLETE="complete",t.MUTE="mute",t.UNMUTE="unmute",t.PAUSE="pause",t.REWIND="rewind",t.RESUME="resume",t.FULL_SCREEN="fullscreen",t.EXIT_FULL_SCREEN="exitFullscreen",t.EXPAND="expand",t.COLLAPSE="collapse",t.ACCEPT_INVITATION_LINEAR="acceptInvitationLinear",t.ACCEPT_INVITATION="acceptInvitation",t.CLOSE_LINEAR="closeLinear",t.CLOSE="close",t.SKIP="skip",t.SKIP_SHOWN="skipShown",t.PROGRESS="progress",t.ENGAGED_VIEW="engagedView",t.IMPRESSION="impression",t.ERROR="error"}(Zi||(Zi={})),r();var $9=class extends cr{fa(){return u0(this)}get aGt(){return sh.hGt}get zN(){return this.WN}get pRt(){return this.nUt}constructor(t,i,e,s){super(t,i),this.nUt=s,this.WN=e}};r();var t7=class extends o0{get LEt(){return this.vli}get aGt(){return sh.hGt}constructor(t,i,e){if(super(t,t,i),e){const t=new Date(e);QD(t)&&(this.vli=t)}}},i7=class{Qw(){this.Qo.yn(er.Tv,this.KP),this.Qo.yn(t.Sh,this.yPt),this.Qo.yn(t.jh,this.MPt),this.Qo.yn(t.ZA,this.We),this.Qo.yn(t.kA,this.Mh),this.Qo.yn(t.ov,this.od),this.Qo.yn(t.uv,this.pWt),this.Qo.yn("presentationmodechange",this.mli)}Rw(){this.Qo.fn(er.Tv,this.KP),this.Qo.fn(t.Sh,this.yPt),this.Qo.fn(t.jh,this.MPt),this.Qo.fn(t.ZA,this.We),this.Qo.fn(t.kA,this.Mh),this.Qo.fn(t.ov,this.od),this.Qo.fn(t.uv,this.pWt),this.Qo.fn("presentationmodechange",this.mli)}get yli(){return this.Mli}get s7(){const t=this.yli;if(!t)return[];const i=[],e=this.Tli();for(const s of t.Oc)e>=s.zN&&this.cai<=s.zN+s.ct&&i.push(s);return i}Tli(){return this.Qo.z_()-this.Nli}Dli(){if(this.Ili)return;if(this.Qo.Td()!==1/0)return void(0===this.Sli.length&&(this.Ili=this.Eli()));const t=()=>{var t;null==(t=this.bli)||t.e_(),this.bli=void 0,this.Ili=void 0};this.bli=new xs,this.Ili=this.Lli(this.bli.a_).catch(this.K1).then(t,t)}async kli(){const t=x.min(1e3*2**this.Cli,3e4);try{var i;await ws(t,null==(i=this.bli)?void 0:i.a_),this.Cli++}catch(t){if(So(t))return void(this.Cli=0)}this.Dli()}async Lli(t){for(;Pi(t),!this.Qo.hg;){const i=lg.f_()-this.xli;if(i>1e4)await this.Eli(t),this.xli=lg.f_(),this.Cli=0;else{const e=1e4-i;await ws(e,t)}}}Oli(t){const i=t.LEt;if(i&&this.Qo.k_&&0===this.Nli&&!this.jli&&0!==x.floor(this.Qo.Mg().start(0))){const e=(this.Qo.k_.getTime()-i.getTime())/1e3,s=this.Qo.z_()-t.yEt;this.Nli=s-e}}async Eli(t){try{const i=await this.Qo.tj.mS({zu:this.zli}),e=await i.Oj(t);if(0===e.avails.length)return void(0!==this.Sli.length&&(this.Sli=[]));if(e.avails.length===this.Sli.length&&e.avails[0].startTimeInSeconds===this.Sli[0].yEt)return void this.Oli(this.Sli[0]);const s=[];for(const t of e.avails){const i=new t7(t.durationInSeconds,t.startTimeInSeconds,t.availProgramDateTime);for(const e of t.ads){const t=new $9(i,Ur.zQt,e.startTimeInSeconds,e.trackingEvents);t.uJt(e.adId,e.width,e.height,e.durationInSeconds,[],e.skipoffset),i.hJt(t)}s.push(i),this.Oli(i)}this.Sli=tl(s,((t,i)=>t.yEt-i.yEt))}catch(t){throw go(t),new b("Failed to poll MediaTailor tracking events")}}Pli(){var t;null==(t=this.bli)||t.c_(),this.bli=void 0,this.Ili=void 0,this.xli=-1/0}Bli(){if(0===this.Sli.length)return;const t=this.Sli[this.Sli.length-1],i=this.Tli();if(t.yEt+t.uGt<this.cai){var e;this.Mli&&(null==(e=this.Qo.Oc)||e.Co(new Nh(this.Mli)),this.Mli=void 0)}else{for(const t of this.Sli){const e=t.yEt;if(!(e+t.uGt<this.cai)&&(e<=i&&e+t.uGt>this.cai)){var s;if(this.yli===t)return;return this.Mli=t,void(null==(s=this.Qo.Oc)||s.Co(new pa(this.Mli)))}}var n;if(this.Mli)null==(n=this.Qo.Oc)||n.Co(new Nh(this.Mli)),this.Mli=void 0}}Rli(){const t=this.s7;if(0===t.length)return;let i=[];for(const e of t){const t=e.pRt.filter((t=>Ho(this.Uli,t.eventType)));i=i.concat(t)}for(const t of i)this.Qli(t.startTimeInSeconds)&&(t.eventType===Zi.COMPLETE&&this.Fli(Zi.ENGAGED_VIEW),this.Yli(t))}Gli(t,i){return i.pRt.filter((i=>Wi(i.eventType,t)))[0]}Fli(t){const i=this.s7;if(0===i.length)return;const e=this.Gli(t,i[0]);e&&this.Yli(e)}Yli(t){this.nri(t.eventType);for(const i of t.beaconUrls){const t={nE:Yc.GET,zu:i,eE:"",rE:Rt.jS};0,W(this.Vli(t))}}nri(t){let i;const e=this.s7;switch(t){case Zi.START:i=new Za(e[e.length-1],this.Qo.z_());break;case Zi.COMPLETE:i=new da(e[0],this.Qo.z_());break;case Zi.FIRST_QUARTILE:i=new Yn(e[0],this.Qo.z_());break;case Zi.MID_POINT:i=new p0(e[0],this.Qo.z_());break;case Zi.THIRD_QUARTILE:i=new or(e[0],this.Qo.z_())}var s;void 0!==i&&(null==(s=this.Qo.Oc)||s.Co(i))}async Vli(t){const i=await this.Qo.tj.mS(t);i.TS}Qli(t){const i=this.Tli();return t>=this.cai&&t<i}gn(){this.Rw(),this.Pli(),this.cai=-1}constructor(t,i,e){this.xli=-1/0,this.Mli=void 0,this.Nli=0,this.Sli=[],this.Xoi=!1,this.YR=!1,this.cai=-1,this.bli=void 0,this.Ili=void 0,this.Cli=0,this.KP=()=>{this.Dli()},this.MPt=()=>{this.Fli(Zi.RESUME)},this.yPt=()=>{this.Pli(),this.Fli(Zi.PAUSE)},this.We=()=>{this.Pli(),this.cai=-1},this.Mh=()=>{this.Pli()},this.od=()=>{-1===this.cai&&(this.cai=this.Tli()),this.Bli(),this.Rli(),this.cai=this.Tli()},this.pWt=()=>{if(this.Xoi!==this.Qo.Z_){this.Xoi=this.Qo.Z_;const t=this.Xoi?Zi.MUTE:Zi.UNMUTE;this.Fli(t)}},this.mli=()=>{if(this.YR!==this.Qo.cs()){this.YR=this.Qo.cs();const t=this.YR?Zi.FULL_SCREEN:Zi.EXIT_FULL_SCREEN;this.Fli(t)}},this.K1=t=>{So(t)||(this.Fli(Zi.ERROR),W(this.kli()))},this.Uli=[Zi.START,Zi.FIRST_QUARTILE,Zi.MID_POINT,Zi.THIRD_QUARTILE,Zi.COMPLETE,Zi.IMPRESSION,Zi.CREATIVE_VIEW],this.Qo=t,this.zli=i,this.jli=e,this.Qw()}};ti((function(t){return class extends t{ga(t){return this.Wli&&(this.Wli.gn(),this.Wli=void 0,this.BTt()),super.ga(t)}async L7(t,i){if(!t||!function(t){return t.sources.some((t=>t.integration===ms.MEDIATAILOR))}(t))return super.L7(t,i);try{const e=await this.Hli(t,i);await super.L7(e,i)}catch(t){this.uB(new ce(y_.MANIFEST_LOAD_ERROR,t.message,t))}}P_(t){var i;(null==(i=this.Wli)?void 0:i.yli)||super.P_(t)}Q_(){var t;return null!=(t=this.yP)?t:super.Q_()}Y_(){var t;return null!=(t=this.MP)?t:super.Y_()}uB(t){this.yP=Vs(t),this.MP=t,this.Co(new pe(t))}BTt(){this.yP=void 0,this.MP=void 0}async Hli(t,i){let e=[];for(const s of t.sources){if(!jv(s)){e.push(s);continue}const t=s;if(!t.src){e.push(s);continue}const n=await this.qli(t,i);Pi(i);const r=At({},t,{integration:void 0,src:n});e.push(r)}const s=Kr(t);return s.sources=e,s}async qli(t,i){const e=t.src||"",s=e.match(/.+?(?=\/v1\/)/);if(!s)throw new b("Could not find MediaTailor session initialization url");const n=s[0],r=oo(e,"?ads."),h=r?{zu:e,rE:Rt.jS}:{zu:e,nE:Yc.POST,eE:JSON.stringify({adParams:t.adParams}),rE:Rt.jS},o=await pu((()=>this.Xli(h,i)),i);let a;try{if(a=n+o.manifestUrl,!r){const t=n+o.trackingUrl,i=bv(a);this.Wli=new i7(this,t,i)}}catch(t){throw new b("Something went wrong parsing the MediaTailor session initialization response")}return a}async Xli(t,i){try{const e=await this.tj.mS(t);return await e.Oj(i)}catch(t){throw go(t),new b("Failed to initialize MediaTailor session manifest")}}gn(){this.Wli&&(this.Wli.gn(),this.Wli=void 0),this.BTt(),super.gn()}constructor(t,i){super(t,i),this.Wli=void 0,this.yP=void 0,this.MP=void 0}}}),tu.X9);export{r as a,lg as b,Zt as c,li as d,pi as e,Mi as f,ae as g,uo as h,Sc as i,sB as j,di as k,qN as l,Du as m,XN as n,ZN as o,$N as p,tD as q,aB as r,uB as s,At as t,oo as u,ow as v,tl as w,Po as x,Ee as y,p as z,Et as A,Ho as B,Ri as C,i as D,mg as E,y_ as F,Th as G,t as H,Sg as I,_l as J,Ah as K,bg as L,Cg as M,Ih as N,sm as O,Q as P,Um as Q,La as R,Oi as S,ny as T,uy as U,Os as V,Xc as W,tu as X,ti as Y,jj as Z,Wv as _,Vr as $,Zv as aa,Ki as ba,Ac as ca,oS as da,aS as ea,cu as fa,cS as ga,dS as ha,Dr as ia,zS as ja,Lr as ka,_r as la,UE as ma,HE as na,KE as oa,bc as pa,vc as qa,$E as ra,he as sa,Gx as ta,Wx as ua,Hx as va,Xx as wa,Zx as xa,Kx as ya,vO as za,mO as Aa,pO as Ba,yO as Ca,$r as Da,Dj as Ea,Ij as Fa,Bj as Ga,sz as Ha,nz as Ia,rz as Ja,hz as Ka,uU as La,cU as Ma,lU as Na,dU as Oa,LF as Pa,kF as Qa,sh as Ra,g$ as Sa,D$ as Ta,U$ as Ua,ri as Va,r5 as Wa,X5 as Xa,t6 as Ya,Z8 as Za};
/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 7.0.0
 Created: 2024-04-03T16:27:10.308Z
 */
var Al,Nl,Dl,Il,El,Ll,Ol,ho,zl,Pl,Bl,Rl,Ul,Ql,Fl,Yl,Gl,Vl,Wl,Hl,ql,Xl,Zl,Kl,Jl,$l,f,td,_h,id,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0!==s?s:"undefined"!=typeof global?global:this,s=a.window,h=a.document,ed=a.location,sd=a.navigator,u=a.setTimeout,c=a.clearTimeout,v=a.setInterval,m=a.clearInterval,b=a.Error,k=a.TypeError,_=(a.SyntaxError,a.Object),x=a.Math,C=a.parseInt,S=a.parseFloat,j=a.isNaN,T=a.Uint8Array,nd=a.Worker,rd=(a.WorkerGlobalScope,a.XMLHttpRequest),hd=_.create,od=_.defineProperty,ad=_.getOwnPropertyDescriptor,ud=_.getOwnPropertyNames,cd=_.getPrototypeOf,ld=_.prototype.hasOwnProperty,dd=(t,i)=>()=>(t&&(i=t(t=0)),i),Kh=(t,i)=>()=>(i||t((i={exports:{}}).exports,i),i.exports),eo=(t,i,e)=>(e=null!=t?hd(cd(t)):{},((t,i,e,s)=>{if(i&&"object"==typeof i||"function"==typeof i)for(let n of ud(i))ld.call(t,n)||n===e||od(t,n,{get:()=>i[n],enumerable:!(s=ad(i,n))||s.enumerable});return t})(!i&&t&&t.__esModule?e:od(e,"default",{value:t,enumerable:!0}),t));function fd(){}function nt(t){return"object"==typeof t&&null!==t||"function"==typeof t}function _d(t){return t.slice()}function gd(t,i,e,s,n){new T(t).set(new T(e,s,n),i)}function wd(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Nl(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Ad(t,i,e){if("function"!=typeof t)throw new k("Argument is not a function");return Function.prototype.apply.call(t,i,e)}function vd(t,i,e,s){var n=t[i];if(void 0!==n){if("function"!=typeof n)throw new k(n+" is not a method");switch(e){case 0:return function(){return pd(n,t,s)};case 1:return function(i){var e=[i].concat(s);return pd(n,t,e)}}}return function(){return le(void 0)}}function md(t,i,e){var s=t[i];if(void 0!==s)return Ad(s,t,e)}function pd(t,i,e){try{return le(Ad(t,i,e))}catch(t){return hh(t)}}function _o(t){if(t=Number(t),Nl(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function yd(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new k("size property of a queuing strategy must be a function");return function(i){return t(i)}}function Zc(t){return new Il(t)}function le(t){return Ll(t)}function hh(t){return Ol(t)}function Md(t,i,e){return El.call(t,i,e)}function Li(t,i,e){Md(Md(t,i,e),void 0,Dl)}function Td(t,i){Li(t,i)}function Nd(t,i){Li(t,void 0,i)}function Hr(t,i,e){return Md(t,i,e)}function Do(t){Md(t,void 0,Dl)}function Ge(t,i,e){var s=null;!0===e&&(s=_.prototype);var n=_.create(s);return n.value=t,n.done=i,n}function Dd(t,i){t.ul=!0,t.hd=i,i.Nd=t,"readable"===i.ja?Ed(t):"closed"===i.ja?function(t){Ed(t),kd(t)}(t):bd(t,i.Dd)}function Id(t,i){return zr(t.hd,i)}function Sd(t){"readable"===t.hd.ja?Ld(t,new k("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,i){bd(t,i)}(t,new k("Reader was released and can no longer be used to monitor the stream's closedness")),t.hd.Nd=void 0,t.hd=void 0}function vo(t){return new k("Cannot "+t+" a stream using a released reader")}function Ed(t){t.Id=Zc((function(i,e){t.Ld=i,t.Od=e}))}function bd(t,i){Ed(t),Ld(t,i)}function Ld(t,i){Do(t.Id),t.Od(i),t.Ld=void 0,t.Od=void 0}function kd(t){t.Ld(void 0),t.Ld=void 0,t.Od=void 0}function Cd(t,i){void 0===i&&(i=!1);var e=new Bl(t);return e.ul=i,e}function xd(t){return Zc((function(i,e){var s={zd:i,Bd:e};t.Nd.Rd.push(s)}))}function Od(t,i,e){var s=t.Nd;s.Rd.shift().zd(Ge(i,e,s.ul))}function jd(t){return t.Nd.Rd.length}function zd(t){var i=t.Nd;return void 0!==i&&!!kr(i)}function kr(t){return!!nt(t)&&!!_.prototype.hasOwnProperty.call(t,"Rd")}function Pd(t){var i=t.hd;return i.Ud=!0,"closed"===i.ja?le(Ge(void 0,!0,t.ul)):"errored"===i.ja?hh(i.Dd):i.Qd[Pl]()}function Bd(t){return new k("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}function Rd(t){return!!nt(t)&&!!_.prototype.hasOwnProperty.call(t,"Fd")}function Ud(t){return new k("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Qd(t){var i=t.Yd.shift();return t.Gd-=i.size,t.Gd<0&&(t.Gd=0),i.value}function Fd(t,i,e){if(!wd(e=Number(e)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Yd.push({value:i,size:e}),t.Gd+=e}function Yd(t){t.Yd=new ho,t.Gd=0}function Gd(t){return new Vl(t)}function Vd(t){t.ja="writable",t.Dd=void 0,t.Vd=void 0,t.Wd=void 0,t.Hd=new ho,t.qd=void 0,t.Xd=void 0,t.Zd=void 0,t.Kd=void 0,t.Jd=!1}function dr(t){return!!nt(t)&&!!_.prototype.hasOwnProperty.call(t,"Wd")}function Wd(t){return void 0!==t.Vd}function Hd(t,i){var e=t.ja;if("closed"===e||"errored"===e)return le(void 0);if(void 0!==t.Kd)return t.Kd.$d;var s=!1;"erroring"===e&&(s=!0,i=void 0);var n=Zc((function(e,n){t.Kd={$d:void 0,zd:e,Bd:n,tf:i,if:s}}));return t.Kd.$d=n,!1===s&&Zd(t,i),n}function qd(t){var i=t.ja;if("closed"===i||"errored"===i)return hh(new k("The stream (in "+i+" state) is not in the writable state and cannot be closed"));var e=Zc((function(i,e){var s={zd:i,Bd:e};t.Xd=s})),s=t.Vd;return void 0!==s&&!0===t.Jd&&"writable"===i&&Tf(s),function(t){Fd(t,"close",0),uf(t)}(t.Wd),e}function Xd(t,i){"writable"!==t.ja?Kd(t):Zd(t,i)}function Zd(t,i){var e=t.Wd;t.ja="erroring",t.Dd=i;var s=t.Vd;void 0!==s&&sf(s,i),!1===function(t){if(void 0===t.qd&&void 0===t.Zd)return!1;return!0}(t)&&!0===e.ef&&Kd(t)}function Kd(t){t.ja="errored",t.Wd[Yl]();var i=t.Dd;if(t.Hd.forEach((function(t){t.Bd(i)})),t.Hd=new ho,void 0!==t.Kd){var e=t.Kd;if(t.Kd=void 0,!0===e.if)return e.Bd(i),void Jd(t);Li(t.Wd[Fl](e.tf),(function(){e.zd(),Jd(t)}),(function(i){e.Bd(i),Jd(t)}))}else Jd(t)}function qr(t){return void 0!==t.Xd||void 0!==t.Zd}function Jd(t){void 0!==t.Xd&&(t.Xd.Bd(t.Dd),t.Xd=void 0);var i=t.Vd;void 0!==i&&Af(i,t.Dd)}function $d(t,i){var e=t.Vd;void 0!==e&&i!==t.Jd&&(!0===i?function(t){mf(t)}(e):Tf(e)),t.Jd=i}function mr(t){return!!nt(t)&&!!_.prototype.hasOwnProperty.call(t,"sf")}function tf(t){return qd(t.sf)}function ef(t,i){"pending"===t.nf?Af(t,i):function(t,i){wf(t,i)}(t,i)}function sf(t,i){"pending"===t.rf?Mf(t,i):function(t,i){pf(t,i)}(t,i)}function nf(t){var i=t.sf,e=new k("Writer was released and can no longer be used to monitor the stream's closedness");sf(t,e),ef(t,e),i.Vd=void 0,t.sf=void 0}function rf(t,i){var e=t.sf,s=e.Wd,n=function(t,i){try{return t.hf(i)}catch(i){return cf(t,i),1}}(s,i);if(e!==t.sf)return hh(_f("write to"));var r=e.ja;if("errored"===r)return hh(e.Dd);if(!0===qr(e)||"closed"===r)return hh(new k("The stream is closing or closed and cannot be written to"));if("erroring"===r)return hh(e.Dd);var h=function(t){return Zc((function(i,e){var s={zd:i,Bd:e};t.Hd.push(s)}))}(e);return function(t,i,e){var s={chunk:i};try{Fd(t,s,e)}catch(i){return void cf(t,i)}var n=t.uf;if(!1===qr(n)&&"writable"===n.ja){$d(n,lf(t))}uf(t)}(s,i,n),h}function hf(t,i,e,s,n,r,h,o){i.uf=t,t.Wd=i,i.Yd=void 0,i.Gd=void 0,Yd(i),i.ef=!1,i.hf=o,i.cf=h,i.lf=s,i.df=n,i._f=r;var a=lf(i);$d(t,a),Li(le(e()),(function(){i.ef=!0,uf(i)}),(function(e){i.ef=!0,Xd(t,e)}))}function of(t){t.lf=void 0,t.df=void 0,t._f=void 0,t.hf=void 0}function af(t){return t.cf-t.Gd}function uf(t){var i=t.uf;if(!1!==t.ef&&void 0===i.qd)if("erroring"!==i.ja){if(0!==t.Yd.length){var e=function(t){return t.Yd.peek().value}(t);"close"===e?function(t){var i=t.uf;(function(t){t.Zd=t.Xd,t.Xd=void 0})(i),Qd(t);var e=t.df();of(t),Li(e,(function(){!function(t){t.Zd.zd(void 0),t.Zd=void 0,"erroring"===t.ja&&(t.Dd=void 0,void 0!==t.Kd&&(t.Kd.zd(),t.Kd=void 0)),t.ja="closed";var i=t.Vd;void 0!==i&&vf(i)}(i)}),(function(t){!function(t,i){t.Zd.Bd(i),t.Zd=void 0,void 0!==t.Kd&&(t.Kd.Bd(i),t.Kd=void 0),Xd(t,i)}(i,t)}))}(t):function(t,i){var e=t.uf;!function(t){t.qd=t.Hd.shift()}(e);var s=t.lf(i);Li(s,(function(){!function(t){t.qd.zd(void 0),t.qd=void 0}(e);var i=e.ja;if(Qd(t),!1===qr(e)&&"writable"===i){var s=lf(t);$d(e,s)}uf(t)}),(function(i){"writable"===e.ja&&of(t),function(t,i){t.qd.Bd(i),t.qd=void 0,Xd(t,i)}(e,i)}))}(t,e.chunk)}}else Kd(i)}function cf(t,i){"writable"===t.uf.ja&&df(t,i)}function lf(t){return af(t)<=0}function df(t,i){var e=t.uf;of(t),Zd(e,i)}function ff(t){return new k("WritableStream.prototype."+t+" can only be used on a WritableStream")}function vr(t){return new k("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function _f(t){return new k("Cannot "+t+" a stream using a released writer")}function gf(t){t.Id=Zc((function(i,e){t.Ld=i,t.Od=e,t.nf="pending"}))}function wf(t,i){gf(t),Af(t,i)}function Af(t,i){Do(t.Id),t.Od(i),t.Ld=void 0,t.Od=void 0,t.nf="rejected"}function vf(t){t.Ld(void 0),t.Ld=void 0,t.Od=void 0,t.nf="resolved"}function mf(t){t.gf=Zc((function(i,e){t.wf=i,t.Af=e})),t.rf="pending"}function pf(t,i){mf(t),Mf(t,i)}function yf(t){mf(t),Tf(t)}function Mf(t,i){Do(t.gf),t.Af(i),t.wf=void 0,t.Af=void 0,t.rf="rejected"}function Tf(t){t.wf(void 0),t.wf=void 0,t.Af=void 0,t.rf="fulfilled"}function Nf(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}function Df(t,i,e,s,n,r){var h=Cd(t),o=Gd(i);t.Ud=!0;var a=!1,u=le(void 0);return Zc((function(c,l){var d,f,_,g;if(void 0!==r){if(d=function(){var e=new ql("Aborted","AbortError"),r=[];!1===s&&r.push((function(){return"writable"===i.ja?Hd(i,e):le(void 0)})),!1===n&&r.push((function(){return"readable"===t.ja?zr(t,e):le(void 0)})),m((function(){return Promise.all(r.map((function(t){return t()})))}),!0,e)},!0===r.aborted)return void d();r.addEventListener("abort",d)}if(v(t,h.Id,(function(t){!1===s?m((function(){return Hd(i,t)}),!0,t):p(!0,t)})),v(i,o.Id,(function(i){!1===n?m((function(){return zr(t,i)}),!0,i):p(!0,i)})),f=t,_=h.Id,g=function(){!1===e?m((function(){return function(t){var i=t.sf,e=i.ja;return!0===qr(i)||"closed"===e?le(void 0):"errored"===e?hh(i.Dd):tf(t)}(o)})):p()},"closed"===f.ja?g():Td(_,g),!0===qr(i)||"closed"===i.ja){var w=new k("the destination writable stream closed before all data could be piped to it");!1===n?m((function(){return zr(t,w)}),!0,w):p(!0,w)}function A(){var t=u;return Md(u,(function(){return t!==u?A():void 0}))}function v(t,i,e){"errored"===t.ja?e(t.Dd):Nd(i,e)}function m(t,e,s){function n(){Li(t(),(function(){return y(e,s)}),(function(t){return y(!0,t)}))}!0!==a&&(a=!0,"writable"===i.ja&&!1===qr(i)?Td(A(),n):n())}function p(t,e){!0!==a&&(a=!0,"writable"===i.ja&&!1===qr(i)?Td(A(),(function(){return y(t,e)})):y(t,e))}function y(t,i){nf(o),Sd(h),void 0!==r&&r.removeEventListener("abort",d),t?l(i):c(void 0)}Do(Zc((function(t,i){!function e(s){s?t():Md(!0===a?le(!0):Md(o.gf,(function(){return Md(Pd(h),(function(t){return!0===t.done||(u=Md(rf(o,t.value),void 0,fd),!1)}))})),e,i)}(!1)})))}))}function If(t){return!!nt(t)&&!!_.prototype.hasOwnProperty.call(t,"vf")}function Sf(t){!1!==Ef(t)&&(!0!==t.mf?(t.mf=!0,Li(t.pf(),(function(){t.mf=!1,!0===t.yf&&(t.yf=!1,Sf(t))}),(function(i){kf(t,i)}))):t.yf=!0)}function Ef(t){var i=t.vf;return!1!==wo(t)&&(!1!==t.ef&&(!0===r_(i)&&jd(i)>0||Cf(t)>0))}function bf(t){t.pf=void 0,t.Mf=void 0,t.hf=void 0}function fl(t){var i=t.vf;t.Tf=!0,0===t.Yd.length&&(bf(t),h_(i))}function Lf(t,i){var e=t.vf;if(!0===r_(e)&&jd(e)>0)Od(e,i,!1);else{var s=void 0;try{s=t.hf(i)}catch(i){throw kf(t,i),i}try{Fd(t,i,s)}catch(i){throw kf(t,i),i}}Sf(t)}function kf(t,i){var e=t.vf;"readable"===e.ja&&(Yd(t),bf(t),o_(e,i))}function Cf(t){var i=t.vf.ja;return"errored"===i?null:"closed"===i?0:t.cf-t.Gd}function wo(t){var i=t.vf.ja;return!1===t.Tf&&"readable"===i}function xf(t,i,e,s,n,r,h){i.vf=t,i.Yd=void 0,i.Gd=void 0,Yd(i),i.ef=!1,i.Tf=!1,i.yf=!1,i.mf=!1,i.hf=h,i.cf=r,i.pf=s,i.Mf=n,t.Qd=i,Li(le(e()),(function(){i.ef=!0,Sf(i)}),(function(t){kf(i,t)}))}function Of(t){return new k("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function po(t){return!!nt(t)&&!!_.prototype.hasOwnProperty.call(t,"Nf")}function jf(t){return!!nt(t)&&!!_.prototype.hasOwnProperty.call(t,"Df")}function rh(t){var i=function(t){var i=t.Nf;if("readable"!==i.ja)return!1;if(!0===t.Tf)return!1;if(!1===t.ef)return!1;if(!0===zd(i)&&jd(i)>0)return!0;if(!0===$f(i)&&Jf(i)>0)return!0;var e=Hf(t);if(e>0)return!0;return!1}(t);!1!==i&&(!0!==t.mf?(t.mf=!0,Li(t.pf(),(function(){t.mf=!1,!0===t.yf&&(t.yf=!1,rh(t))}),(function(i){al(t,i)}))):t.yf=!0)}function zf(t,i){var e=!1;"closed"===t.ja&&(e=!0);var s=Pf(i);"default"===i.readerType?Od(t,s,e):function(t,i,e){var s=t.Nd,n=s.If.shift();n.zd(Ge(i,e,s.ul))}(t,s,e)}function Pf(t){var i=t.bytesFilled,e=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,i/e)}function Bf(t,i,e,s){t.Yd.push({buffer:i,byteOffset:e,byteLength:s}),t.Gd+=s}function Rf(t,i){var e=i.elementSize,s=i.bytesFilled-i.bytesFilled%e,n=x.min(t.Gd,i.byteLength-i.bytesFilled),r=i.bytesFilled+n,h=r-r%e,o=n,a=!1;h>s&&(o=h-i.bytesFilled,a=!0);for(var u=t.Yd;o>0;){var c=u.peek(),l=x.min(o,c.byteLength),d=i.byteOffset+i.bytesFilled;gd(i.buffer,d,c.buffer,c.byteOffset,l),c.byteLength===l?u.shift():(c.byteOffset+=l,c.byteLength-=l),t.Gd-=l,Uf(t,l,i),o-=l}return a}function Uf(t,i,e){Ff(t),e.bytesFilled+=i}function Qf(t){0===t.Gd&&!0===t.Tf?(Wf(t),h_(t.Nf)):rh(t)}function Ff(t){void 0!==t.Sf&&(t.Sf.Df=void 0,t.Sf.Ef=void 0,t.Sf=void 0)}function Yf(t){for(;t.bf.length>0;){if(0===t.Gd)return;var i=t.bf.peek();!0===Rf(t,i)&&(Vf(t),zf(t.Nf,i))}}function Gf(t,i){var e=t.bf.peek();if("closed"===t.Nf.ja){if(0!==i)throw new k("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,i){i.buffer=i.buffer;var e=t.Nf;if(!0===$f(e))for(;Jf(e)>0;)zf(e,Vf(t))}(t,e)}else!function(t,i,e){if(e.bytesFilled+i>e.byteLength)throw new RangeError("bytesWritten out of range");if(Uf(t,i,e),!(e.bytesFilled<e.elementSize)){Vf(t);var s=e.bytesFilled%e.elementSize;if(s>0){var n=e.byteOffset+e.bytesFilled,r=e.buffer.slice(n-s,n);Bf(t,r,0,r.byteLength)}e.buffer=e.buffer,e.bytesFilled-=s,zf(t.Nf,e),Yf(t)}}(t,i,e);rh(t)}function Vf(t){var i=t.bf.shift();return Ff(t),i}function Wf(t){t.pf=void 0,t.Mf=void 0}function al(t,i){var e=t.Nf;"readable"===e.ja&&(!function(t){Ff(t),t.bf=new ho}(t),Yd(t),Wf(t),o_(e,i))}function Hf(t){var i=t.Nf.ja;return"errored"===i?null:"closed"===i?0:t.cf-t.Gd}function qf(t,i,e){var s=_.create(Jl.prototype);var n=vd(i,"pull",0,[s]),r=vd(i,"cancel",1,[]),h=i.autoAllocateChunkSize;if(void 0!==h&&(h=Number(h),!1===Zl(h)||h<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,i,e,s,n,r,h){i.Nf=t,i.yf=!1,i.mf=!1,i.Sf=void 0,i.Yd=i.Gd=void 0,Yd(i),i.Tf=!1,i.ef=!1,i.cf=_o(r),i.pf=s,i.Mf=n,i.Lf=h,i.bf=new ho,t.Qd=i,Li(le(e()),(function(){i.ef=!0,rh(i)}),(function(t){al(i,t)}))}(t,s,(function(){return md(i,"start",[s])}),n,r,e,h)}function Xf(t){return new k("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Zf(t){return new k("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Kf(t){return Zc((function(i,e){var s={zd:i,Bd:e};t.Nd.If.push(s)}))}function Jf(t){return t.Nd.If.length}function $f(t){var i=t.Nd;return void 0!==i&&!!t_(i)}function t_(t){return!!nt(t)&&!!_.prototype.hasOwnProperty.call(t,"If")}function i_(t,i){var e=t.hd;return e.Ud=!0,"errored"===e.ja?hh(e.Dd):function(t,i){var e=t.Nf,s=1;i.constructor!==DataView&&(s=i.constructor.BYTES_PER_ELEMENT);var n=i.constructor,r={buffer:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength,bytesFilled:0,elementSize:s,ctor:n,readerType:"byob"};if(t.bf.length>0)return t.bf.push(r),Kf(e);if("closed"===e.ja)return le(Ge(new n(r.buffer,r.byteOffset,0),!0,e.Nd.ul));if(t.Gd>0){if(!0===Rf(t,r)){var h=Pf(r);return Qf(t),le(Ge(h,!1,e.Nd.ul))}if(!0===t.Tf){var o=new k("Insufficient bytes to fill elements in the given buffer");return al(t,o),hh(o)}}t.bf.push(r);var a=Kf(e);return rh(t),a}(e.Qd,i)}function e_(t){return new k("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function s_(t,i,e,s,n){void 0===s&&(s=1),void 0===n&&(n=function(){return 1});var r=_.create(f.prototype);return n_(r),xf(r,_.create(Xl.prototype),t,i,e,s,n),r}function n_(t){t.ja="readable",t.Nd=void 0,t.Dd=void 0,t.Ud=!1}function so(t){return!!nt(t)&&!!_.prototype.hasOwnProperty.call(t,"Qd")}function r_(t){return void 0!==t.Nd}function zr(t,i){return t.Ud=!0,"closed"===t.ja?le(void 0):"errored"===t.ja?hh(t.Dd):(h_(t),Hr(t.Qd[zl](i),fd))}function h_(t){t.ja="closed";var i=t.Nd;void 0!==i&&(kr(i)&&(i.Rd.forEach((function(t){t.zd(Ge(void 0,!0,i.ul))})),i.Rd=new ho),kd(i))}function o_(t,i){t.ja="errored",t.Dd=i;var e=t.Nd;void 0!==e&&(kr(e)?(e.Rd.forEach((function(t){t.Bd(i)})),e.Rd=new ho):(e.If.forEach((function(t){t.Bd(i)})),e.If=new ho),Ld(e,i))}function a_(t){return new k("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function u_(t,i,e,s,n,r){function h(){return i}t.kf=function(t,i,e,s,n,r){void 0===n&&(n=1),void 0===r&&(r=function(){return 1});var h=_.create(Gl.prototype);return Vd(h),hf(h,_.create(Wl.prototype),t,i,e,s,n,r),h}(h,(function(i){return function(t,i){var e=t.Cf;if(!0===t.Jd){return Hr(t.xf,(function(){var s=t.kf;if("erroring"===s.ja)throw s.Dd;return A_(e,i)}))}return A_(e,i)}(t,i)}),(function(){return function(t){var i=t.Of,e=t.Cf,s=e.jf();return g_(e),Hr(s,(function(){if("errored"===i.ja)throw i.Dd;var t=i.Qd;!0===wo(t)&&fl(t)}),(function(e){throw l_(t,e),i.Dd}))}(t)}),(function(i){return function(t,i){return l_(t,i),le(void 0)}(t,i)}),e,s),t.Of=s_(h,(function(){return function(t){return f_(t,!1),t.xf}(t)}),(function(i){return d_(t,i),le(void 0)}),n,r),t.Jd=void 0,t.xf=void 0,t.zf=void 0,f_(t,!0),t.Cf=void 0}function c_(t){return!!nt(t)&&!!_.prototype.hasOwnProperty.call(t,"Cf")}function l_(t,i){kf(t.Of.Qd,i),d_(t,i)}function d_(t,i){g_(t.Cf),cf(t.kf.Wd,i),!0===t.Jd&&f_(t,!1)}function f_(t,i){void 0!==t.xf&&t.zf(),t.xf=Zc((function(i){t.zf=i})),t.Jd=i}function __(t){return!!nt(t)&&!!_.prototype.hasOwnProperty.call(t,"Pf")}function g_(t){t.Bf=void 0,t.jf=void 0}function w_(t,i){var e=t.Pf,s=e.Of.Qd;if(!1===wo(s))throw new k("Readable side is not in a state that permits enqueue");try{Lf(s,i)}catch(t){throw d_(e,t),e.Of.Dd}var n=function(t){return!0!==Ef(t)}(s);n!==e.Jd&&f_(e,!0)}function A_(t,i){return Hr(t.Bf(i),void 0,(function(i){throw l_(t.Pf,i),i}))}function v_(t){return new k("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function m_(t){return new k("TransformStream.prototype."+t+" can only be used on a TransformStream")}var p_,g,Th,y_=dd((()=>{var t;r(),Al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"},Nl=Number.isNaN||function(t){return t!=t},Dl=fd,Il=Promise,El=Promise.prototype.then,Ll=Promise.resolve.bind(Il),Ol=Promise.reject.bind(Il),16384,ho=function(){function t(){this.Rf=0,this.Uf=0,this.Qf={Ff:[],Yf:void 0},this.Gf=this.Qf,this.Rf=0,this.Uf=0}return _.defineProperty(t.prototype,"length",{get:function(){return this.Uf},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var i=this.Gf,e=i;16383===i.Ff.length&&(e={Ff:[],Yf:void 0}),i.Ff.push(t),e!==i&&(this.Gf=e,i.Yf=e),++this.Uf},t.prototype.shift=function(){var t=this.Qf,i=t,e=this.Rf,s=e+1,n=t.Ff,r=n[e];return 16384===s&&(i=t.Yf,s=0),--this.Uf,this.Rf=s,t!==i&&(this.Qf=i),n[e]=void 0,r},t.prototype.forEach=function(t){for(var i=this.Rf,e=this.Qf,s=e.Ff;!(i===s.length&&void 0===e.Yf||i===s.length&&(i=0,0===(s=(e=e.Yf).Ff).length));)t(s[i]),++i},t.prototype.peek=function(){var t=this.Qf,i=this.Rf;return t.Ff[i]},t}(),zl=Al("[[CancelSteps]]"),Pl=Al("[[PullSteps]]"),Bl=function(){function t(t){if(!1===so(t))throw new k("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===r_(t))throw new k("This stream has already been locked for exclusive reading by another reader");Dd(this,t),this.Rd=new ho}return _.defineProperty(t.prototype,"closed",{get:function(){return kr(this)?this.Id:hh(Bd("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return kr(this)?void 0===this.hd?hh(vo("cancel")):Id(this,t):hh(Bd("cancel"))},t.prototype.read=function(){return kr(this)?void 0===this.hd?hh(vo("read from")):Pd(this):hh(Bd("read"))},t.prototype.releaseLock=function(){if(!kr(this))throw Bd("releaseLock");if(void 0!==this.hd){if(this.Rd.length>0)throw new k("Tried to release a reader lock when that reader has pending read() calls un-settled");Sd(this)}},t}(),"symbol"==typeof Al.asyncIterator&&((Rl={})[Al.asyncIterator]=function(){return this},Ul=Rl,_.defineProperty(Ul,Al.asyncIterator,{enumerable:!1})),Ql={next:function(){if(!1===Rd(this))return hh(Ud("next"));var t=this.Fd;return void 0===t.hd?hh(vo("iterate")):Hr(Pd(t),(function(i){var e=i.done;return e&&Sd(t),Ge(i.value,e,!0)}))},return:function(t){if(!1===Rd(this))return hh(Ud("next"));var i=this.Fd;if(void 0===i.hd)return hh(vo("finish iterating"));if(i.Rd.length>0)return hh(new k("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Vf){var e=Id(i,t);return Sd(i),Hr(e,(function(){return Ge(t,!0,!0)}))}return Sd(i),le(Ge(t,!0,!0))}},void 0!==Ul&&_.setPrototypeOf(Ql,Ul),_.defineProperty(Ql,"next",{enumerable:!1}),_.defineProperty(Ql,"return",{enumerable:!1}),Fl=Al("[[AbortSteps]]"),Yl=Al("[[ErrorSteps]]"),Gl=function(){function t(t,i){void 0===t&&(t={}),void 0===i&&(i={}),Vd(this);var e=i.size,s=i.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var n=yd(e);void 0===s&&(s=1),function(t,i,e,s){var n=_.create(Wl.prototype),r=vd(i,"write",1,[n]),h=vd(i,"close",0,[]),o=vd(i,"abort",1,[]);hf(t,n,(function(){return md(i,"start",[n])}),r,h,o,e,s)}(this,t,s=_o(s),n)}return _.defineProperty(t.prototype,"locked",{get:function(){if(!1===dr(this))throw ff("locked");return Wd(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===dr(this)?hh(ff("abort")):!0===Wd(this)?hh(new k("Cannot abort a stream that already has a writer")):Hd(this,t)},t.prototype.close=function(){return!1===dr(this)?hh(ff("close")):!0===Wd(this)?hh(new k("Cannot close a stream that already has a writer")):!0===qr(this)?hh(new k("Cannot close an already-closing stream")):qd(this)},t.prototype.getWriter=function(){if(!1===dr(this))throw ff("getWriter");return Gd(this)},t}(),Vl=function(){function t(t){if(!1===dr(t))throw new k("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Wd(t))throw new k("This stream has already been locked for exclusive writing by another writer");this.sf=t,t.Vd=this;var i=t.ja;if("writable"===i)!1===qr(t)&&!0===t.Jd?mf(this):yf(this),gf(this);else if("erroring"===i)pf(this,t.Dd),gf(this);else if("closed"===i)yf(this),function(t){gf(t),vf(t)}(this);else{var e=t.Dd;pf(this,e),wf(this,e)}}return _.defineProperty(t.prototype,"closed",{get:function(){return!1===mr(this)?hh(vr("closed")):this.Id},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===mr(this))throw vr("desiredSize");if(void 0===this.sf)throw _f("desiredSize");return function(t){var i=t.sf,e=i.ja;return"errored"===e||"erroring"===e?null:"closed"===e?0:af(i.Wd)}(this)},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"ready",{get:function(){return!1===mr(this)?hh(vr("ready")):this.gf},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===mr(this)?hh(vr("abort")):void 0===this.sf?hh(_f("abort")):function(t,i){return Hd(t.sf,i)}(this,t)},t.prototype.close=function(){if(!1===mr(this))return hh(vr("close"));var t=this.sf;return void 0===t?hh(_f("close")):!0===qr(t)?hh(new k("Cannot close an already-closing stream")):tf(this)},t.prototype.releaseLock=function(){if(!1===mr(this))throw vr("releaseLock");void 0!==this.sf&&nf(this)},t.prototype.write=function(t){return!1===mr(this)?hh(vr("write")):void 0===this.sf?hh(_f("write to")):rf(this,t)},t}(),Wl=function(){function t(){throw new k("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){return!!nt(t)&&!!_.prototype.hasOwnProperty.call(t,"uf")}(this))throw new k("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.uf.ja&&df(this,t)},t.prototype[Fl]=function(t){var i=this._f(t);return of(this),i},t.prototype[Yl]=function(){Yd(this)},t}(),Hl="undefined"!=typeof DOMException?DOMException:void 0,ql=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Hl)?Hl:((t=function(t,i){this.message=t||"",this.name=i||"Error",b.captureStackTrace&&b.captureStackTrace(this,this.constructor)}).prototype=_.create(b.prototype),_.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t),Xl=function(){function t(){throw new k}return _.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===If(this))throw Of("desiredSize");return Cf(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===If(this))throw Of("close");if(!1===wo(this))throw new k("The stream is not in a state that permits close");fl(this)},t.prototype.enqueue=function(t){if(!1===If(this))throw Of("enqueue");if(!1===wo(this))throw new k("The stream is not in a state that permits enqueue");return Lf(this,t)},t.prototype.error=function(t){if(!1===If(this))throw Of("error");kf(this,t)},t.prototype[zl]=function(t){Yd(this);var i=this.Mf(t);return bf(this),i},t.prototype[Pl]=function(){var t=this.vf;if(this.Yd.length>0){var i=Qd(this);return!0===this.Tf&&0===this.Yd.length?(bf(this),h_(t)):Sf(this),le(Ge(i,!1,t.Nd.ul))}var e=xd(t);return Sf(this),e},t}(),Zl=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&x.floor(t)===t},Kl=function(){function t(){throw new k("ReadableStreamBYOBRequest cannot be used directly")}return _.defineProperty(t.prototype,"view",{get:function(){if(!1===jf(this))throw Xf("view");return this.Ef},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===jf(this))throw Xf("respond");if(void 0===this.Df)throw new k("This BYOB request has been invalidated");this.Ef.buffer,function(t,i){if(!1===wd(i=Number(i)))throw new RangeError("bytesWritten must be a finite");Gf(t,i)}(this.Df,t)},t.prototype.respondWithNewView=function(t){if(!1===jf(this))throw Xf("respond");if(void 0===this.Df)throw new k("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new k("You can only respond with array buffer views");t.buffer,function(t,i){var e=t.bf.peek();if(e.byteOffset+e.bytesFilled!==i.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(e.byteLength!==i.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");e.buffer=i.buffer,Gf(t,i.byteLength)}(this.Df,t)},t}(),Jl=function(){function t(){throw new k("ReadableByteStreamController constructor cannot be used directly")}return _.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===po(this))throw Zf("byobRequest");if(void 0===this.Sf&&this.bf.length>0){var t=this.bf.peek(),i=new T(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),e=_.create(Kl.prototype);!function(t,i,e){t.Df=i,t.Ef=e}(e,this,i),this.Sf=e}return this.Sf},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===po(this))throw Zf("desiredSize");return Hf(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===po(this))throw Zf("close");if(!0===this.Tf)throw new k("The stream has already been closed; do not close it again!");var t=this.Nf.ja;if("readable"!==t)throw new k("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var i=t.Nf;if(t.Gd>0)t.Tf=!0;else{if(t.bf.length>0&&t.bf.peek().bytesFilled>0){var e=new k("Insufficient bytes to fill elements in the given buffer");throw al(t,e),e}Wf(t),h_(i)}}(this)},t.prototype.enqueue=function(t){if(!1===po(this))throw Zf("enqueue");if(!0===this.Tf)throw new k("stream is closed or draining");var i=this.Nf.ja;if("readable"!==i)throw new k("The stream (in "+i+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new k("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,i){var e=t.Nf,s=i.buffer,n=i.byteOffset,r=i.byteLength,h=s;!0===zd(e)?0===jd(e)?Bf(t,h,n,r):Od(e,new T(h,n,r),!1):!0===$f(e)?(Bf(t,h,n,r),Yf(t)):Bf(t,h,n,r),rh(t)}(this,t)},t.prototype.error=function(t){if(!1===po(this))throw Zf("error");al(this,t)},t.prototype[zl]=function(t){this.bf.length>0&&(this.bf.peek().bytesFilled=0);Yd(this);var i=this.Mf(t);return Wf(this),i},t.prototype[Pl]=function(){var t=this.Nf;if(this.Gd>0){var i=this.Yd.shift();this.Gd-=i.byteLength,Qf(this);var e=void 0;try{e=new T(i.buffer,i.byteOffset,i.byteLength)}catch(t){return hh(t)}return le(Ge(e,!1,t.Nd.ul))}var s=this.Lf;if(void 0!==s){var n=void 0;try{n=new ArrayBuffer(s)}catch(t){return hh(t)}var r={buffer:n,byteOffset:0,byteLength:s,bytesFilled:0,elementSize:1,ctor:T,readerType:"default"};this.bf.push(r)}var h=xd(t);return rh(this),h},t}(),$l=function(){function t(t){if(!so(t))throw new k("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===po(t.Qd))throw new k("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(r_(t))throw new k("This stream has already been locked for exclusive reading by another reader");Dd(this,t),this.If=new ho}return _.defineProperty(t.prototype,"closed",{get:function(){return t_(this)?this.Id:hh(e_("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return t_(this)?void 0===this.hd?hh(vo("cancel")):Id(this,t):hh(e_("cancel"))},t.prototype.read=function(t){return t_(this)?void 0===this.hd?hh(vo("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?hh(new k("view must have non-zero byteLength")):i_(this,t)):hh(new k("view must be an array buffer view")):hh(e_("read"))},t.prototype.releaseLock=function(){if(!t_(this))throw e_("releaseLock");if(void 0!==this.hd){if(this.If.length>0)throw new k("Tried to release a reader lock when that reader has pending read() calls un-settled");Sd(this)}},t}(),f=function(){function t(t,i){void 0===t&&(t={}),void 0===i&&(i={}),n_(this);var e=i.size,s=i.highWaterMark,n=t.type;if("bytes"===String(n)){if(void 0!==e)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===s&&(s=0),qf(this,t,s=_o(s))}else{if(void 0!==n)throw new RangeError("Invalid type is specified");var r=yd(e);void 0===s&&(s=1),function(t,i,e,s){var n=_.create(Xl.prototype),r=vd(i,"pull",0,[n]),h=vd(i,"cancel",1,[]);xf(t,n,(function(){return md(i,"start",[n])}),r,h,e,s)}(this,t,s=_o(s),r)}}return _.defineProperty(t.prototype,"locked",{get:function(){if(!1===so(this))throw a_("locked");return r_(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===so(this)?hh(a_("cancel")):!0===r_(this)?hh(new k("Cannot cancel a stream that already has a reader")):zr(this,t)},t.prototype.getReader=function(t){var i=(void 0===t?{}:t).mode;if(!1===so(this))throw a_("getReader");if(void 0===i)return Cd(this,!0);if("byob"===(i=String(i)))return function(t,i){void 0===i&&(i=!1);var e=new $l(t);return e.ul=i,e}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,i){var e=t.writable,s=t.readable,n=void 0===i?{}:i,r=n.preventClose,h=n.preventAbort,o=n.preventCancel,a=n.signal;if(!1===so(this))throw a_("pipeThrough");if(!1===dr(e))throw new k("writable argument to pipeThrough must be a WritableStream");if(!1===so(s))throw new k("readable argument to pipeThrough must be a ReadableStream");if(r=Boolean(r),h=Boolean(h),o=Boolean(o),void 0!==a&&!Nf(a))throw new k("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===r_(this))throw new k("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Wd(e))throw new k("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Do(Df(this,e,r,h,o,a)),s},t.prototype.pipeTo=function(t,i){var e=void 0===i?{}:i,s=e.preventClose,n=e.preventAbort,r=e.preventCancel,h=e.signal;return!1===so(this)?hh(a_("pipeTo")):!1===dr(t)?hh(new k("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(s=Boolean(s),n=Boolean(n),r=Boolean(r),void 0===h||Nf(h)?!0===r_(this)?hh(new k("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Wd(t)?hh(new k("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Df(this,t,s,n,r,h):hh(new k("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===so(this))throw a_("tee");var t=function(t,i){var e,s,n,r,h,o=Cd(t),a=!1,u=!1,c=!1,l=Zc((function(t){h=t}));function d(){return!0===a||(a=!0,Do(Hr(Pd(o),(function(t){if(a=!1,!0===t.done)return!1===u&&fl(n.Qd),void(!1===c&&fl(r.Qd));var i=t.value,e=i,s=i;!1===u&&Lf(n.Qd,e),!1===c&&Lf(r.Qd,s)})))),le(void 0)}function f(){}return n=s_(f,d,(function(i){if(u=!0,e=i,!0===c){var n=_d([e,s]),r=zr(t,n);h(r)}return l})),r=s_(f,d,(function(i){if(c=!0,s=i,!0===u){var n=_d([e,s]),r=zr(t,n);h(r)}return l})),Nd(o.Id,(function(t){kf(n.Qd,t),kf(r.Qd,t)})),[n,r]}(this);return _d(t)},t.prototype.getIterator=function(t){var i=(void 0===t?{}:t).preventCancel,e=void 0!==i&&i;if(!1===so(this))throw a_("getIterator");return function(t,i){void 0===i&&(i=!1);var e=Cd(t),s=_.create(Ql);return s.Fd=e,s.Vf=Boolean(i),s}(this,e)},t}(),"symbol"==typeof Al.asyncIterator&&_.defineProperty(f.prototype,Al.asyncIterator,{value:f.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0}),function(){function t(t){var i=t.highWaterMark;this.highWaterMark=i}return t.prototype.size=function(t){return t.byteLength},t}(),td=function(){function t(t){var i=t.highWaterMark;this.highWaterMark=i}return t.prototype.size=function(){return 1},t}(),_h=function(){function t(t,i,e){void 0===t&&(t={}),void 0===i&&(i={}),void 0===e&&(e={});var s=i.size,n=i.highWaterMark,r=e.size,h=e.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=yd(s);if(void 0===n&&(n=1),n=_o(n),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,u=yd(r);void 0===h&&(h=0),h=_o(h),u_(this,Zc((function(t){a=t})),n,o,h,u),function(t,i){var e=_.create(id.prototype),s=function(t){try{return w_(e,t),le(void 0)}catch(t){return hh(t)}},n=i.transform;if(void 0!==n){if("function"!=typeof n)throw new k("transform is not a method");s=function(t){return pd(n,i,[t,e])}}var r=vd(i,"flush",0,[e]);!function(t,i,e,s){i.Pf=t,t.Cf=i,i.Bf=e,i.jf=s}(t,e,s,r)}(this,t);var c=md(t,"start",[this.Cf]);a(c)}return _.defineProperty(t.prototype,"readable",{get:function(){if(!1===c_(this))throw m_("readable");return this.Of},enumerable:!0,configurable:!0}),_.defineProperty(t.prototype,"writable",{get:function(){if(!1===c_(this))throw m_("writable");return this.kf},enumerable:!0,configurable:!0}),t}(),id=function(){function t(){throw new k("TransformStreamDefaultController instances cannot be created directly")}return _.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===__(this))throw v_("desiredSize");return Cf(this.Pf.Of.Qd)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===__(this))throw v_("enqueue");w_(this,t)},t.prototype.error=function(t){if(!1===__(this))throw v_("error");!function(t,i){l_(t.Pf,i)}(this,t)},t.prototype.terminate=function(){if(!1===__(this))throw v_("terminate");!function(t){var i=t.Pf,e=i.Of.Qd;!0===wo(e)&&fl(e),d_(i,new k("TransformStream terminated"))}(this)},t}()})),r=dd((()=>{"use strict";y_()})),M_=Kh(((t,i)=>{r(),i.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),T_=Kh(((t,i)=>{r(),i.exports=function(t,i){var e=i[0],s=i[1],n=i[2],r=i[3],h=e+e,o=s+s,a=n+n,u=e*h,c=s*h,l=s*o,d=n*h,f=n*o,_=n*a,g=r*h,w=r*o,A=r*a;return t[0]=1-l-_,t[1]=c+A,t[2]=d-w,t[3]=0,t[4]=c-A,t[5]=1-u-_,t[6]=f+g,t[7]=0,t[8]=d+w,t[9]=f-g,t[10]=1-u-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),N_=Kh(((t,i)=>{r(),i.exports=function(t,i,e){var s,n,r,h=e[0],o=e[1],a=e[2],u=x.sqrt(h*h+o*o+a*a);if(x.abs(u)<1e-6)return null;return h*=u=1/u,o*=u,a*=u,s=x.sin(i),n=x.cos(i),r=1-n,t[0]=h*h*r+n,t[1]=o*h*r+a*s,t[2]=a*h*r-o*s,t[3]=0,t[4]=h*o*r-a*s,t[5]=o*o*r+n,t[6]=a*o*r+h*s,t[7]=0,t[8]=h*a*r+o*s,t[9]=o*a*r-h*s,t[10]=a*a*r+n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),D_=Kh(((t,i)=>{r(),i.exports=function(t,i){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}})),I_=Kh(((t,i)=>{r(),i.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),S_=Kh(((t,i)=>{r(),i.exports=function(t,i){var e=i[0],s=i[1],n=i[2],r=i[3],h=i[4],o=i[5],a=i[6],u=i[7],c=i[8],l=i[9],d=i[10],f=i[11],_=i[12],g=i[13],w=i[14],A=i[15],v=e*o-s*h,m=e*a-n*h,p=e*u-r*h,y=s*a-n*o,M=s*u-r*o,T=n*u-r*a,N=c*g-l*_,D=c*w-d*_,I=c*A-f*_,S=l*w-d*g,E=l*A-f*g,b=d*A-f*w,L=v*b-m*E+p*S+y*I-M*D+T*N;if(!L)return null;return L=1/L,t[0]=(o*b-a*E+u*S)*L,t[1]=(n*E-s*b-r*S)*L,t[2]=(g*T-w*M+A*y)*L,t[3]=(d*M-l*T-f*y)*L,t[4]=(a*I-h*b-u*D)*L,t[5]=(e*b-n*I+r*D)*L,t[6]=(w*p-_*T-A*m)*L,t[7]=(c*T-d*p+f*m)*L,t[8]=(h*E-o*I+u*N)*L,t[9]=(s*I-e*E-r*N)*L,t[10]=(_*M-g*p+A*v)*L,t[11]=(l*p-c*M-f*v)*L,t[12]=(o*D-h*S-a*N)*L,t[13]=(e*S-s*D+n*N)*L,t[14]=(g*m-_*y-w*v)*L,t[15]=(c*y-l*m+d*v)*L,t}})),E_=Kh(((t,i)=>{r(),i.exports=function(t,i,e){var s=i[0],n=i[1],r=i[2],h=i[3],o=i[4],a=i[5],u=i[6],c=i[7],l=i[8],d=i[9],f=i[10],_=i[11],g=i[12],w=i[13],A=i[14],v=i[15],m=e[0],p=e[1],y=e[2],M=e[3];return t[0]=m*s+p*o+y*l+M*g,t[1]=m*n+p*a+y*d+M*w,t[2]=m*r+p*u+y*f+M*A,t[3]=m*h+p*c+y*_+M*v,m=e[4],p=e[5],y=e[6],M=e[7],t[4]=m*s+p*o+y*l+M*g,t[5]=m*n+p*a+y*d+M*w,t[6]=m*r+p*u+y*f+M*A,t[7]=m*h+p*c+y*_+M*v,m=e[8],p=e[9],y=e[10],M=e[11],t[8]=m*s+p*o+y*l+M*g,t[9]=m*n+p*a+y*d+M*w,t[10]=m*r+p*u+y*f+M*A,t[11]=m*h+p*c+y*_+M*v,m=e[12],p=e[13],y=e[14],M=e[15],t[12]=m*s+p*o+y*l+M*g,t[13]=m*n+p*a+y*d+M*w,t[14]=m*r+p*u+y*f+M*A,t[15]=m*h+p*c+y*_+M*v,t}})),b_=Kh(((t,i)=>{r(),i.exports=function(t,i,e,s,n){var r=1/x.tan(i/2),h=1/(s-n);return t[0]=r/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(n+s)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*n*s*h,t[15]=0,t}})),L_=Kh(((t,i)=>{r(),i.exports=function(t,i,e,s){var n,r,h,o,a,u,c,l,d,f,_,g,w,A,v,m,p,y,M,T,N,D,I,S,E=s[0],b=s[1],L=s[2],k=x.sqrt(E*E+b*b+L*L);if(x.abs(k)<1e-6)return null;E*=k=1/k,b*=k,L*=k,n=x.sin(e),r=x.cos(e),h=1-r,o=i[0],a=i[1],u=i[2],c=i[3],l=i[4],d=i[5],f=i[6],_=i[7],g=i[8],w=i[9],A=i[10],v=i[11],m=E*E*h+r,p=b*E*h+L*n,y=L*E*h-b*n,M=E*b*h-L*n,T=b*b*h+r,N=L*b*h+E*n,D=E*L*h+b*n,I=b*L*h-E*n,S=L*L*h+r,t[0]=o*m+l*p+g*y,t[1]=a*m+d*p+w*y,t[2]=u*m+f*p+A*y,t[3]=c*m+_*p+v*y,t[4]=o*M+l*T+g*N,t[5]=a*M+d*T+w*N,t[6]=u*M+f*T+A*N,t[7]=c*M+_*T+v*N,t[8]=o*D+l*I+g*S,t[9]=a*D+d*I+w*S,t[10]=u*D+f*I+A*S,t[11]=c*D+_*I+v*S,i!==t&&(t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15]);return t}})),k_=Kh(((t,i)=>{r(),i.exports=function(t,i,e){var s,n,r,h,o,a,u,c,l,d,f,_,g=e[0],w=e[1],A=e[2];i===t?(t[12]=i[0]*g+i[4]*w+i[8]*A+i[12],t[13]=i[1]*g+i[5]*w+i[9]*A+i[13],t[14]=i[2]*g+i[6]*w+i[10]*A+i[14],t[15]=i[3]*g+i[7]*w+i[11]*A+i[15]):(s=i[0],n=i[1],r=i[2],h=i[3],o=i[4],a=i[5],u=i[6],c=i[7],l=i[8],d=i[9],f=i[10],_=i[11],t[0]=s,t[1]=n,t[2]=r,t[3]=h,t[4]=o,t[5]=a,t[6]=u,t[7]=c,t[8]=l,t[9]=d,t[10]=f,t[11]=_,t[12]=s*g+o*w+l*A+i[12],t[13]=n*g+a*w+d*A+i[13],t[14]=r*g+u*w+f*A+i[14],t[15]=h*g+c*w+_*A+i[15]);return t}}));function tl(t,i){return C_(t.slice(),i)}function xl(t,i){const e=C_(t,i);return e!==t&&x_(e,void 0,t.length,t),t}function C_(t,i){let e=t;const s=e.length;if(s<=1)return e;let n=new Array(s);for(let t=1;t<s;t*=2){x_(e,i,t,n);const s=e;e=n,n=s}return e}function x_(t,i,e,s){const n=t.length;let r=0;const h=2*e;let o,a,u,c,l;for(a=0;a<n;a+=h)for(u=a+e,o=u+e,u>n&&(u=n),o>n&&(o=n),c=a,l=u;;)if(c<u&&l<o)i&&i(t[c],t[l])<=0?s[r++]=t[c++]:s[r++]=t[l++];else if(c<u)s[r++]=t[c++];else{if(!(l<o))break;s[r++]=t[l++]}}r(),(g=p_||(p_={}))[g.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",g[g.LICENSE_ERROR=2e3]="LICENSE_ERROR",g[g.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",g[g.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",g[g.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",g[g.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",g[g.SOURCE_INVALID=3e3]="SOURCE_INVALID",g[g.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",g[g.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",g[g.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",g[g.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",g[g.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",g[g.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",g[g.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",g[g.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",g[g.MEDIA_ABORTED=5004]="MEDIA_ABORTED",g[g.NETWORK_ERROR=6e3]="NETWORK_ERROR",g[g.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",g[g.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",g[g.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",g[g.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",g[g.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",g[g.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",g[g.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",g[g.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",g[g.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",g[g.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",g[g.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",g[g.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",g[g.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",g[g.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",g[g.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",g[g.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",g[g.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",g[g.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",g[g.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",g[g.AD_ERROR=1e4]="AD_ERROR",g[g.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",g[g.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",g[g.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",g[g.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",g[g.THEO_LIVE_UNKNOWN_ERROR=13e3]="THEO_LIVE_UNKNOWN_ERROR",g[g.THEO_LIVE_CHANNEL_NOT_FOUND=13001]="THEO_LIVE_CHANNEL_NOT_FOUND",g[g.THEO_LIVE_END_OF_DEMO=13002]="THEO_LIVE_END_OF_DEMO",g[g.THEO_LIVE_ANALYTICS_ERROR=13003]="THEO_LIVE_ANALYTICS_ERROR",function(t){t[t.CONFIGURATION=1]="CONFIGURATION",t[t.LICENSE=2]="LICENSE",t[t.SOURCE=3]="SOURCE",t[t.MANIFEST=4]="MANIFEST",t[t.MEDIA=5]="MEDIA",t[t.NETWORK=6]="NETWORK",t[t.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",t[t.SUBTITLE=8]="SUBTITLE",t[t.VR=9]="VR",t[t.AD=10]="AD",t[t.FULLSCREEN=11]="FULLSCREEN",t[t.CACHE=12]="CACHE",t[t.THEOLIVE=13]="THEOLIVE"}(Th||(Th={})),function(t){t.fromCode=function(i){const e=x.floor(i/1e3);if(e in t)return e;throw new k("Invalid error code: "+i)}}(Th||(Th={})),r(),r(),r(),r(),r(),r(),r(),r(),r(),r();var pl={}.hasOwnProperty,O_={}.toString;function j_(t){return null!=t}function z_(t){return void 0===t}var pi=Array.isArray||function(t){return"[object Array]"===O_.call(t)};function He(t){return Mi(t)&&pl.call(t,"length")&&R_(t.length)}function Mi(t){return"object"==typeof t&&null!==t}function dt(t){return Mi(t)&&t.constructor&&t.constructor===_}function ae(t){return"string"==typeof t}function P_(t){return"boolean"==typeof t}function vu(t){return j_(t)&&"function"==typeof t.then}function B_(t){return"[object Date]"===O_.call(t)}function R_(t){return"number"==typeof t}function U_(t){return"function"==typeof t}function Q_(t){return U_(t)||Mi(t)}r(),r();var Po,Fa=9007199254740991,F_=2**-52;function Sc(t,i,e){return x.min(x.max(t,i),e)}function Va(t,i,e){return t===i||x.abs(t-i)<=e}function Y_(t,i){if(t===i)return!0;const e=x.abs(t-i);if(e<F_)return!0;return e<x.max(x.abs(t),x.abs(i))*F_}function wl(t,i){return t%i+(t<0?i:0)}function G_(t){return t!=t}function V_(t,i){return t===i||G_(t)&&G_(i)}function W_(t,i){let e=t,s=i;for(;0!==s;){const t=e%s;e=s,s=t}return e<0?-e:e}function Fo(t,i){return t.reduce(((t,e)=>t+i(e)),0)}!function(t){t[t.Zr=0]="Zr",t[t.Wf=1]="Wf",t[t.Hf=-1]="Hf"}(Po||(Po={}));var qo=(t,i)=>(0|t)-(0|i),Ee=(t,i)=>t===i?0:t<i?-1:t>i?1:j(t)?j(i)?0:1:-1;function Co(t,i,e){return Va(t,i,e)?0:Ee(t,i)}var H_=(t,i)=>Y_(t,i)?0:Ee(t,i);var q_="function"==typeof Array.prototype.find?(t,i)=>t.find(i):(t,i)=>{const e=J_(t,i);return-1===e?void 0:t[e]},X_=q_,Z_="function"==typeof Array.prototype.findLast?(t,i)=>t.findLast(i):(t,i)=>{const e=$_(t,i);return-1===e?void 0:t[e]},K_=Z_,J_="function"==typeof Array.prototype.findIndex?(t,i)=>t.findIndex(i):(t,i)=>{for(let e=0;e<t.length;e+=1){if(i(t[e],e,t))return e}return-1},$_="function"==typeof Array.prototype.findLastIndex?(t,i)=>t.findLastIndex(i):(t,i)=>{for(let e=t.length-1;e>=0;e-=1){if(i(t[e],e,t))return e}return-1};function Et(t,i){const e=t.indexOf(i);return-1!==e&&(Dt(t,e),!0)}function Dt(t,i){0===i?t.shift():t.splice(i,1)}function tg(t,i){const e=new Array(t.length);let s=0,n=0;for(;n<t.length;){if(t[n]===i){n++,e.length-=1;break}e[s++]=t[n++]}for(;n<t.length;)e[s++]=t[n++];return e}function ea(t,i){return-1!==t.indexOf(i)}function kl(t,i,e){if(t===i)return!0;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s+=1)if(!e(t[s],i[s]))return!1;return!0}function Ri(t){t.length=0}function ig(t,i){if(t.length!==i.length)return!1;for(const e of t)if(!ea(i,e))return!1;return!0}Array.prototype.flat;var Eh="function"==typeof Array.prototype.flatMap?(t,i)=>t.flatMap(i):(t,i)=>{const e=[];for(let s=0;s<t.length;s++)e.push(...i(t[s],s));return e};function Uo(t,i){return eh(t,((t,e)=>Ee(i(t),i(e))))}function Ro(t,i){return eg(t,((t,e)=>Ee(i(t),i(e))))}function eh(t,i){if(0!==t.length)return t.reduce(((t,e)=>i(t,e)<=0?t:e))}function eg(t,i){return eh(t,((t,e)=>i(e,t)))}function sg(t){return t.filter(((i,e)=>t.indexOf(i)===e))}function ng(t,i){return Promise.all(t.map(i)).then((i=>t.filter(((t,e)=>i[e]))))}function rg(t,i,e){if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(!e(t[s],i[s]))return!1;return!0}function bl(){const t=_.create(null);return t.qf=void 0,delete t.qf,t}function Qt(){return new ug}function _e(){return new cg}function hg(t){const i=Qt();for(const e in t)pl.call(t,e)&&i.set(e,t[e]);return i}function og(t){const i=[];return t.forEach((t=>i.push(t))),i}r();var ag="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,ug=ag||function(){class t{next(){const t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}}constructor(t,i){this.index=0,this.data=t,this.selector=i,this.keys=_.keys(t)}}return class{get(t){return this.data[t]}set(t,i){return this.has(t)||this.size++,this.data[t]=i,this}has(t){return t in this.data}delete(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)}clear(){this.data=bl(),this.size=0}keys(){return new t(this.data,((t,i)=>i))}values(){return new t(this.data,((t,i)=>t[i]))}entries(){return new t(this.data,((t,i)=>[i,t[i]]))}forEach(t){for(const i in this.data)t(this.data[i],i)}constructor(){this.data=bl(),this.size=0}}}();var cg=ag||function(){class t{next(){const t=this.Xf.next();return t.done?t:{value:this.Zf(t.value),done:!1}}constructor(t,i){this.Xf=t,this.Zf=i}}return class{get size(){return this.Kf.size}get(t){return this.Kf.get(""+t)}set(t,i){return this.Kf.set(""+t,i),this}has(t){return this.Kf.has(""+t)}delete(t){return this.Kf.delete(""+t)}clear(){this.Kf.clear()}keys(){return new t(this.Kf.keys(),(t=>Number(t)))}values(){return this.Kf.values()}entries(){return new t(this.Kf.entries(),(t=>{let[i,e]=t;return[Number(i),e]}))}forEach(t){this.Kf.forEach(((i,e)=>{t(i,Number(e))}))}constructor(){this.Kf=Qt()}}}();r(),r();var Bc=function(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];b.apply(this,i)};(Bc.prototype=_.create(b.prototype)).constructor=Bc;var Xo=class extends Bc{get name(){return"BaseError"}constructor(t,i){super(),this.message=t||"Unknown error",this.cause=i,b.captureStackTrace&&b.captureStackTrace(this,this.constructor)}};r();var lg,dg=class{Jf(){if(!this.$f&&!this.t_){this.$f=!0;for(const t of this.i_.slice())t();this.e_()}}e_(){if(!this.t_){this.t_=!0;for(const t of this.s_.slice())t();Ri(this.i_),Ri(this.s_)}}n_(t){this.t_||this.i_.push(t)}r_(t){this.t_||Et(this.i_,t)}h_(t){this.t_||this.s_.push(t)}o_(t){this.t_||Et(this.s_,t)}constructor(){this.$f=!1,this.t_=!1,this.i_=[],this.s_=[]}},Ao=class t{get a_(){return this.u_}c_(){this.u_.Jf()}e_(){this.u_.e_()}l_(t){const i=this.u_;if(i.$f)return;if(t.$f)return void i.Jf();if(i.t_||t.t_)return;const e=()=>{s(),i.Jf()},s=()=>{t.r_(e),t.o_(s),i.r_(e),i.o_(s)};t.n_(e),t.h_(s),i.n_(e),i.h_(s)}d_(){const i=new t,e=new t,s=i.a_,n=e.a_,r=this.u_,h=()=>{s.$f&&n.t_||n.$f&&s.t_?r.Jf():s.t_&&n.t_&&r.e_()};s.n_(h),n.n_(h),s.h_(h),n.h_(h),i.l_(r),e.l_(r);return r.h_((()=>{s.r_(h),n.r_(h),s.o_(h),n.o_(h)})),[i,e]}constructor(){this.u_=new dg}};r(),r();var xs=()=>{},fg=t=>t;function uo(t,i){let e=-1/0;return function(){for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];const h=lg.f_();h-e>=i&&(t.apply(this,n),e=h)}}function Tl(t,i){let e=0;return function(){for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];const h=this;0!==e&&lg.__(e),e=lg.g_((()=>{e=0,t.apply(h,n)}),i)}}function Sl(t){let i;return()=>(void 0!==t&&(i=t(),t=void 0),i)}var ia=class extends Xo{get name(){return"AbortError"}constructor(t,i){super(t||"Aborted",i)}};function Oi(t){return t instanceof b&&"AbortError"===t.name}function Pi(t){if(t&&t.$f)throw new ia}function Ht(t){if(Oi(t))throw t}function Mh(t){if(!Oi(t))throw t}function rl(t,i){return i?new Promise(((e,s)=>{if(i.$f)return t.catch(xs),s(new ia);const n=()=>{i.r_(n),s(new ia)};i.n_(n),t.then((t=>{i.r_(n),e(t)}),(t=>{i.r_(n),s(t)}))})):t}function jt(t,i){return t.then((t=>(i.e_(),t)),(t=>{throw i.e_(),t}))}function ru(t,i){const e=new Ao;return i&&e.l_(i),jt(t(e.a_),e)}r();var _g=Promise.resolve(),Qu="function"==typeof queueMicrotask?queueMicrotask:t=>{_g.then(t)};function W(t){t.then(xs,xs)}async function yl(t){try{return await Promise.all(t)}catch(i){throw await Promise.all(t.map((t=>t.catch(xs)))),i}}function ye(t,i){return new Promise(((e,s)=>{if(void 0!==i&&i.$f)return void s(new ia);const n=lg.g_((()=>{void 0!==i&&i.r_(r),e()}),t),r=()=>{lg.__(n),s(new ia)};void 0!==i&&i.n_(r)}))}function gg(t,i,e){if("function"==typeof e)e.call(t,i);else for(const s of e)s.call(t,i)}var gt,i=class{yn(t,i){if("function"==typeof i)if("string"==typeof t)this.w_(t,i);else for(const e of t)this.w_(e,i)}w_(t,i){const e=this.A_[t];void 0===e?this.A_[t]=i:"function"==typeof e?this.A_[t]=[e,i]:0===this.v_?e.push(i):this.A_[t]=e.concat(i)}m_(t){if("function"!=typeof t)return;const i=this.p_;void 0===i?this.p_=t:"function"==typeof i?this.p_=[i,t]:0===this.v_?i.push(t):this.p_=i.concat(t)}Vo(){this.A_=bl(),this.p_=void 0}Co(t){this.v_++;const i=this.A_[t.type],e=this.p_;void 0!==i&&gg(this.y_,t,i),void 0!==e&&gg(this.y_,t,e),this.v_--}fn(t,i){if("function"==typeof i)if("string"==typeof t)this.M_(t,i);else for(const e of t)this.M_(e,i)}M_(t,i){const e=this.A_[t];void 0!==e&&("function"==typeof e?e===i&&(this.A_[t]=void 0):0===this.v_?Et(e,i):this.A_[t]=tg(e,i))}T_(t){if("string"==typeof t)this.A_[t]=void 0;else for(const i of t)this.A_[i]=void 0}N_(t){const i=this.p_;void 0!==i&&("function"==typeof i?i===t&&(this.p_=void 0):0===this.v_?Et(i,t):this.p_=tg(i,t))}D_(t,i){return new Promise(((e,s)=>{if(i&&i.$f)return s(new ia);const n=t=>{h(),e(t)},r=()=>{h(),s(new ia)},h=()=>{this.fn(t,n),i&&i.r_(r)};this.yn(t,n),i&&i.n_(r)}))}constructor(t){this.A_=bl(),this.p_=void 0,this.v_=0,this.Ds=t=>{this.Co(t)},this.y_=null!=t?t:this}},mt=class extends i{Co(t){Qu((()=>{super.Co(t)}))}},ra=class extends i{m_(t){super.m_(t)}N_(t){super.N_(t)}},wg=class extends ra{},Go=class extends ra{get ht(){return this.I_()}I_(){return this.S_.ht}E_(){return this.S_.E_()}get b_(){return this.L_()}L_(){return this.S_.b_}get k_(){return this.C_()}set k_(t){this.x_(t)}C_(){return this.S_.k_}x_(t){this.S_.k_=t}get bt(){return this.O_()}O_(){return this.S_.bt}get j_(){return this.z_()}set j_(t){this.P_(t)}z_(){return this.S_.j_}P_(t){this.S_.j_=t}get ct(){return this.Td()}Td(){return this.S_.ct}get we(){return this.B_()}B_(){return this.S_.we}get R_(){return this.U_()}U_(){return this.S_.R_}get lt(){return this.Q_()}get F_(){return this.Y_()}Q_(){return this.S_.lt}Y_(){return this.S_.F_}get G_(){return this.V_()}V_(){return this.S_.G_}get W_(){return this.H_()}H_(){return this.S_.W_}get q_(){return this.X_()}X_(){return this.S_.q_}get Z_(){return this.K_()}set Z_(t){this.J_(t)}K_(){return this.S_.Z_}J_(t){this.S_.Z_=t}get eg(){return this.rg()}rg(){return this.S_.eg}get hg(){return this.og()}og(){return this.S_.hg}get ag(){return this.cg()}set ag(t){this.dg(t)}cg(){return this.S_.ag}dg(t){this.S_.ag=t}get fg(){return this._g()}_g(){return this.S_.fg}get gg(){return this.wg()}set gg(t){this.Ag(t)}wg(){return this.S_.gg}Ag(t){this.S_.gg=t}get vg(){return this.pg()}pg(){return this.S_.vg}get yg(){return this.Mg()}Mg(){return this.S_.yg}get Tg(){return this.Ng()}Ng(){return this.S_.Tg}Wa(){return this.S_.Wa()}ga(t,i){return this.S_.ga(t,i)}get nt(){return this.Dg()}Dg(){return this.S_.nt}get Ig(){return this.Sg()}Sg(){return this.S_.Ig}get rt(){return this.Eg()}Eg(){return this.S_.rt}get Lg(){return this.Cg()}Cg(){return this.S_.Lg}get xg(){return this.Og()}set xg(t){this.jg(t)}get zg(){return this.Pg()}Pg(){return this.S_.zg}Og(){return this.S_.xg}jg(t){this.S_.xg=t}get Bg(){return this.S_.Bg}set Bg(t){this.S_.Bg=t}Rg(){return this.S_.Rg()}Ug(){return this.S_.Ug()}Qg(t){this.S_.Qg(t)}Fg(){this.S_.Fg()}be(){this.S_.be()}Yg(){this.S_.Yg()}Gg(){this.S_.Gg()}Vg(){this.S_.Vg()}ge(){this.S_.ge()}Wg(){return this.S_.Wg()}Hg(){return this.S_.Hg()}qg(){this.S_.qg()}Xg(){this.S_.Xg()}Zn(){return this.S_.Zn()}Zg(){this.S_.Zg()}Kg(){this.S_.Kg()}Jg(t){return this.S_.Jg(t)}$g(t){return!1}async gn(){this.Vo(),await this.S_.gn()}constructor(t){super(),this.iw=t=>{this.$g(t)||this.Co(t)},this.S_=t,t.m_(this.iw)}};r(),r(),r(),function(t){t.ew="nw",t.hw="ow"}(gt||(gt={})),r(),r(),r(),r(),r();var Ag=class{constructor(t,i=new Date){this.type=t,this.date=i}},La=class extends Ag{get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}constructor(t,i){super(t,i),this.Xa=void 0}};function vg(t){return Boolean(t&&t.va)}var yo=class extends La{constructor(t){super(t)}},te=class extends Ag{constructor(t){super(t)}},mg=class extends yo{fa(){return new pg(this.Lt.va)}constructor(t){super(gt.ew),this.Lt=t}},pg=class extends te{constructor(t){super("addtrack"),this.track=t}};r();var Os,yg=class extends yo{fa(){return new Mg(this.Lt.va)}constructor(t){super(gt.hw),this.Lt=t}},Mg=class extends te{constructor(t){super("removetrack"),this.track=t}};r(),function(t){t.aw="uw",t.cw="lw",t.dw="fw",t._w="gw",t.ww="Aw",t.mw="pw",t.ra="yw",t.Mw="Tw",t.Nw="Dw",t.Iw="Qn",t.Sw="Ew",t.Lw="Cw",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Os||(Os={}));var Di=class extends i{get xw(){return this.Ow}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}get U(){return this.Ow.length}jw(t){return this.Ow[t]}tt(t){return!(!t||ea(this.Ow,t))&&(this.Ow.push(t),this.Xa&&this.Xa.push(t.va),t.yn(Os.ra,this.Ds),this.Co(new mg(t)),!0)}it(t){if(!t)return!1;const i=this.Ow.indexOf(t);return!(i<0)&&(Dt(this.Ow,i),this.Xa&&Dt(this.Xa,i),t.fn(Os.ra,this.Ds),this.Co(new yg(t)),!0)}zw(t){return ea(this.Ow,t)}Zn(){const t=this.Ow;for(let i=t.length-1;i>=0;i-=1)this.it(t[i])}gn(){this.Zn(),this.Vo()}constructor(){super(),this.Ow=[],this.Xa=void 0}};r();var Kr=class extends yo{fa(){return new Tg(this.Lt.va)}constructor(t){super(Os.ra),this.Lt=t}},Tg=class extends te{constructor(t){super("change"),this.track=t}},Ic=class extends Di{get Pw(){return this.Bw}set Pw(t){const i=this.Bw;if(t!==i){if(i){this.Rw(i);for(const e of i.xw)t&&t.zw(e)||this.it(e)}if(this.Bw=t,t){const i=[];for(const e of t.xw)this.tt(e),this.Uw(e)&&i.push(e);this.Qw(t);for(const t of i)t.Co(new Kr(t))}}}Qw(t){t.yn(gt.ew,this.Fw),t.yn(gt.hw,this.Yw)}Rw(t){t.fn(gt.ew,this.Fw),t.fn(gt.hw,this.Yw)}gn(){this.Bw&&this.Bw.gn(),super.gn()}constructor(){super(),this.Bw=void 0,this.Fw=t=>{const i=t.Lt;this.tt(i)},this.Yw=t=>{const i=t.Lt;this.it(i)}}};r(),r(),r();var Ng=_.freeze||fg;function zc(t,i,e){_.defineProperty(t,i,{writable:!1,enumerable:!0,value:e})}function Dg(t){return Ng(t)}function Ru(t,i){for(const e of _.getOwnPropertyNames(i))_.defineProperty(t,e,_.getOwnPropertyDescriptor(i,e));return t}function se(t){if(dt(t)){const i={};for(const e in t)pl.call(t,e)&&(i[e]=se(t[e]));return i}if(pi(t)){const i=new Array(t.length);for(let e=0;e<i.length;e++)e in t&&(i[e]=se(t[e]));return i}return t}function Ah(t,i){return t===i||!(!t||!i)&&(!(!Mi(t)||!Mi(i))&&(He(t)?!!He(i)&&function(t,i){const e=t.length,s=i.length;if(e!==s)return!1;for(let s=0;s<e;s+=1)if(!Ah(t[s],i[s]))return!1;return!0}(t,i):!He(i)&&function(t,i){const e=_.keys(t),s=_.keys(i);if(!e||!s||e.length!==s.length)return!1;for(const s of e)if(!pl.call(i,s)||!Ah(t[s],i[s]))return!1;return!0}(t,i)))}function Ig(t,i){if(!Mi(t))return!1;for(const e of i)if(!(e in t))return!1;return!0}function Sg(t,i){return t.constructor===i.constructor}function Eg(t){const i={};for(const e of _.keys(t)){const s=t[e];null!=s&&(i[e]=s)}return i}function bh(t){const i={};for(const e of _.keys(t)){const s=t[e];if(He(s)){const t=[];for(let i=0;i<s.length;i+=1){const e=s[i];if(null!=e){const i=Mi(e)?bh(e):e;t.push(i)}}i[e]=t}else null!=s&&(i[e]=Mi(s)?bh(s):s)}return i}function bg(t){let i=t;if("string"==typeof i){if(i=i.toLowerCase(),"true"===i)return!0;if("false"===i)return!1}return Boolean(i)}function lu(t){return j_(t)?bg(t):void 0}function Ih(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Lg(t){const i=Ih(t);if(j(i))throw new b("Expected a valid number.");return i}function Oa(t){return"string"==typeof t?t:""}function kg(t,i){if(!He(t))return[];const e=0|t.length,s=new Array(e);for(let n=0;n<e;n++)s[n]=i(t[n]);return s}function As(t,i){let e;return e=He(t)?kg(t,i):i(t),e}r();var gc,Cg=[gt.ew,gt.hw,Os.ra];function xg(t){let i;const e=t.xw.map((t=>t.va));return e.item=i=>{const e=0|i,s=t.jw(e);return s&&s.va||void 0},e.addEventListener=(t,e)=>{i.yn(t,e)},e.removeEventListener=(t,e)=>{i.fn(t,e)},i=new mt(e),t.yn(Cg,(t=>i.Co(t.va))),e}function Og(t){switch(t){case 0:return"caption";case 2:return"sign";case 1:return"description";case 3:return"enhanced audio intelligibility";case 4:return"easy reader";case 5:return"transcribes spoken dialog";case 6:return"describes music and sound";case 7:return"describes video"}}function jg(){}function Ei(t){const i=[Os.Iw,Os.ra,Os.Sw,Os.Lw,Os.QUALITY_UNAVAILABLE];let e;const s={get activeQuality(){return t.Gw&&t.Gw.va},get enabled(){return t.Rt},set enabled(i){t.Rt=bg(i)},get id(){return t.o},get uid(){return t.Vw},get kind(){return t.zt},get label(){return t.kh},set label(i){t.kh=Oa(i)},get accessibility(){var i,e;return null!=(e=null==(i=t.Ww)?void 0:i.map(Og))?e:[]},get language(){return t.gs},get qualities(){return t.Hw.va},set targetQuality(i){let e;e=i?function(t,i){const e=[];for(const s of t.Hw.xw)for(const t of i)s.va===t&&e.push(s);return e}(t,pi(i)?i:[i]):[],e.length>0?t.qw=e:t.qw=void 0},get targetQuality(){if(t.qw)return 1===t.qw.length?t.qw[0].va:t.qw.map((t=>t.va))},addEventListener(t,i){const s=As(t,Oa);e.yn(s,i)},removeEventListener(t,i){const s=As(t,Oa);e.fn(s,i)}};return e=new mt(s),t.yn(i,(t=>e.Co(t.va))),_.defineProperty(s,"constructor",{value:jg}),s}function zg(){}function Pg(t){const i=xg(t);return _.defineProperty(i,"constructor",{value:zg}),i}r(),function(t){t[t.Xw=0]="Xw",t[t.Zw=1]="Zw",t[t.Kw=2]="Kw",t[t.Jw=3]="Jw",t[t.$w=4]="$w",t[t.TRANSCRIBES_SPOKEN_DIALOG=5]="TRANSCRIBES_SPOKEN_DIALOG",t[t.DESCRIBES_MUSIC_AND_SOUND=6]="DESCRIBES_MUSIC_AND_SOUND",t[t.tA=7]="tA"}(gc||(gc={}));var go,Bi,we=class extends Ic{fa(){return Pg(this)}Uw(t){return t.Rt}};function rn(t){if("string"==typeof t){const i=t.toLowerCase();switch(i){case"disabled":case"hidden":case"showing":return i}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}function Bg(){}function Rg(t){const i=[Os.ra,Os.Iw,Os.aw,Os.cw,Os._w,Os.ww,Os.dw,Os.mw,Os.Mw,Os.Nw],e=[Bi.ha];let s;const n={get kind(){return t.zt},get label(){return t.kh},set label(i){t.kh=Oa(i)},get language(){return t.gs},get id(){return t.o},get uid(){return t.Vw},get inBandMetadataTrackDispatchType(){return t.iA},get mode(){return t.eA},set mode(i){i!==go.Xn&&i!==go.sA&&i!==go.Ch||t.nA(i)},get forced(){return Boolean(t.rA)},get accessibility(){var i,e;return null!=(e=null==(i=t.Ww)?void 0:i.map(Og))?e:[]},get type(){return t.hA},get readyState(){return t.vg},get cues(){return t.eA===go.Ch?null:t.L.va},get activeCues(){return t.eA===go.Ch?null:t.q.va},get src(){return t.oA||""},addEventListener(t,i){const e=As(t,Oa);s.yn(e,i)},removeEventListener(t,i){const e=As(t,Oa);s.fn(e,i)}};return s=new mt(t),t.yn(i,(t=>s.Co(t.va))),t.yn(e,(t=>s.Co(t))),_.defineProperty(n,"constructor",{value:Bg}),n}function Ug(){}function Oc(t){const i=xg(t);return _.defineProperty(i,"constructor",{value:Ug}),i}r(),r(),r(),function(t){t.Ch="disabled",t.sA="hidden",t.Xn="showing"}(go||(go={})),r(),(Bi||(Bi={})).ha="error";var Yu=class extends Ic{fa(){return Oc(this)}Uw(t){return t.eA===go.Xn}};r(),r(),r(),r();var t,Ho,Qg=.25,Fg=400,Yg={aA:.2,uA:.45,cA:.7,lA:3,dA:kh,fA:xh},Gg={aA:.4,uA:.65,cA:1,lA:3,dA:kh,fA:xh},Vg={aA:.4,uA:.7,cA:.9,lA:3,dA:kh,fA:xh},Wg={aA:.2,uA:.45,cA:1,lA:3,dA:kh,fA:xh},Hg={aA:.5,uA:1.125,cA:1.75,lA:2.55,dA:kh,fA:xh};function ll(){let t;return t=lg.Ys._A?Wg:lg.Ys.gA?Gg:lg.Ys.wA?"Android"===lg.vA.AA?Vg:Yg:Hg,lg.vA.mA?function(t){if(lg.vA.mA){const i=(Fg+250)/1e3,e=x.max(i,t.aA),s=x.max(e+Qg,t.uA),n=x.max(s+Qg,t.cA);return{aA:e,uA:s,cA:n,lA:x.max(n+Qg,t.lA),dA:kh,fA:xh}}return t}(t):t}function qg(t){return{windowStart:t.aA,windowEnd:t.cA,target:t.uA,maxOffset:t.lA}}r(),r(),function(t){t.pA="yA",t.MA="TA",t.NA="contentprotectionerror",t.DA="contentprotectionsuccess",t.IA="currentsourcechange",t.SA="destroy",t.EA="durationchange",t.bA="emptied",t.LA="encrypted",t.kA="ended",t.CA="xA",t.OA="jA",t.zA="PA",t.BA="RA",t.UA="loadstart",t.QA="manifestupdate",t.FA="nosupportedrepresentationfound",t.YA="offline",t.GA="online",t.Sh="pause",t.jh="play",t.VA="progress",t.WA="ratechange",t.HA="representationchange",t.qA="resize",t.XA="seeked",t.ZA="seeking",t.KA="segmentnotfound",t.JA="$A",t.rv="hv",t.lo="sourcechange",t.ov="timeupdate",t.uv="volumechange",t.fv="_v",t.Av="metricschange"}(t||(t={})),r(),function(t){t.vv="canplay",t.mv="canplaythrough",t.pv="loadeddata",t.yv="loadedmetadata",t.Mw="readystatechange",t.Mv="waiting",t.Tv="playing"}(Ho||(Ho={}));var Ch=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"];function At(){return At=_.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var s in e)_.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},At.apply(this,arguments)}r(),r();var Xg,kh=.92,xh=1.08;!function(t){t[t.Ch=0]="Ch",t[t.Nv=1]="Nv",t[t.Dv=2]="Dv"}(Xg||(Xg={}));var Lc=class extends i{get Iv(){}get Sv(){}get Ev(){}get bv(){return!1}get Lv(){}get va(){var t;return null!=(t=this.Xa)?t:this.Xa=Zg(this)}Cv(){}constructor(...t){super(...t),this.xv=qg(ll())}};function Zg(t){return{goLive:()=>t.Cv(),get isLive(){return t.bv},get currentServerLiveTime(){return t.Iv},get currentLatency(){return t.Sv},get latencies(){return t.Ev},get latency(){return t.xv},set latency(i){if(!function(t){if(!Mi(t))return!1;const i=t,e=j_(i.target)&&"number"==typeof i.target&&j_(i.windowEnd)&&"number"==typeof i.windowEnd&&j_(i.windowStart)&&"number"==typeof i.windowStart&&j_(i.maxOffset)&&"number"==typeof i.maxOffset,s=i.windowStart>=0&&i.windowStart<=i.target&&i.target<=i.windowEnd&&i.maxOffset>=i.windowEnd;return e&&s}(i))throw new b("Invalid latency configuration");t.xv=i},get manifest(){return t.Lv},addEventListener(i,e){t.yn(Jg(i),e)},removeEventListener(i,e){t.fn(Jg(i),e)}}}var Kg=["golive","latencyrecoveryseek"];function Jg(t){const i=As(t,Oa);return(ae(i)?[i]:i).filter((t=>ea(Kg,t)))}var Jo=class extends i{set Pw(t){const i=this.Bw;t!==i&&(i&&this.Rw(i),t&&this.Qw(t),this.Bw=t,this.Bw&&(this.Bw.xv=this.Ov))}get Pw(){return this.Bw}get va(){return this.Xa||(this.Xa=Zg(this)),this.Xa}Qw(t){t.yn(Kg,this.Ds)}Rw(t){t.fn(Kg,this.Ds)}Cv(){var t;null==(t=this.Bw)||t.Cv()}get Iv(){var t;return null==(t=this.Bw)?void 0:t.Iv}get Sv(){var t;return null==(t=this.Bw)?void 0:t.Sv}get Ev(){var t;return null==(t=this.Bw)?void 0:t.Ev}get bv(){return!!this.Bw&&this.Bw.bv}get xv(){return this.Bw?this.Bw.xv:this.Ov}set xv(t){this.Bw&&(this.Bw.xv=t),this.Ov=t}get Lv(){var t;return null==(t=this.Bw)?void 0:t.Lv}gn(){this.Vo(),this.Bw&&this.Rw(this.Bw),this.Bw=void 0}constructor(){super(),this.Bw=void 0,this.Xa=void 0,this.Ov=qg(ll()),this.Bw=void 0}};r(),r(),r();var $g="function"==typeof String.prototype.replaceAll?(t,i,e)=>t.replaceAll(i,e):(t,i,e)=>t.split(i).join(e);function oo(t,i){return j_(t)&&-1!==t.indexOf(i)}var tw="function"==typeof String.prototype.startsWith?(t,i)=>j_(t)&&t.startsWith(i):(t,i)=>j_(t)&&t.substr(0,i.length)===i,Ph="function"==typeof String.prototype.endsWith?(t,i)=>j_(t)&&t.endsWith(i):(t,i)=>j_(t)&&t.substr(t.length-i.length,i.length)===i;function Wi(t,i){return t.length===i.length&&t.toUpperCase()===i.toUpperCase()}var iw="function"==typeof String.prototype.repeat?(t,i)=>t.repeat(i):(t,i)=>{let e=0|i;if(0===t.length||0===e)return"";let s=t,n="";for(;1==(1&e)&&(n+=s),e>>>=1,0!==e;)s+=s;return n},fa="function"==typeof String.prototype.padStart?(t,i,e)=>(void 0===e&&(e=" "),t.padStart(i,e)):(t,i,e)=>{void 0===e&&(e=" ");let s=e;const n=(0|i)-t.length;return n<=0?t:(n>s.length&&(s+=iw(s,n/s.length)),s.slice(0,n)+t)},ew=(String.prototype.padEnd,16384),sw="function"==typeof String.fromCodePoint?t=>t.length<=ew?String.fromCodePoint(...t):nw(t,String.fromCodePoint):t=>{const i=[];for(let e of t)e>65535&&(e-=65536,i.push(e>>>10&1023|55296),e=56320|1023&e),i.push(e);return qh(i)};function qh(t){return t.length<=ew?String.fromCharCode(...t):nw(t,String.fromCharCode)}function nw(t,i){const e=[];for(let s=0;s<t.length;s+=ew)e.push(i(...t.slice(s,s+ew)));return e.join("")}function rw(t){return t.replace(/[\\"]/g,(t=>"\\"+t))}function na(t,i){const e=lg.Dh(t);return qc(e,i),e.toString()}function qc(t,i){for(const e of _.keys(i))t.searchParams.set(e,i[e])}function _a(t,i){let e=lg.zv(t);return i&&!Ph(e,"/")&&(e+="/"),e}var hw=/cache:(.+)?(?=&|$)/,ow="http://webcache.googleusercontent.com/search?q=cache:";function aw(t){if(!tw(t,ow))return"";const i=lg.Dh(t).search.match(hw);return i&&i.length>1?i[1]:""}function uw(t){return lg.Dh(".",t)}r();var cw,Ds,vi,lw="8E80B9CE";function dw(t){return{appID:t&&t.appID?Oa(t.appID):lw}}function Wc(t){if(null!==t)return t}function fw(t){const i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:Wc(t.streamActivityMonitorID),adTagParameters:Mi(t.adTagParameters)?t.adTagParameters:{},authToken:Wc(t.authToken),omidAccessModeRules:Wc(t.omidAccessModeRules)};if("vod"===(null==t?void 0:t.availabilityType)||function(t){const i=t;return Boolean(i.videoID&&i.contentSourceID)}(t)){const e=t.videoID,s=t.contentSourceID;return e?s?At({},i,{availabilityType:"vod",videoID:e,contentSourceID:s}):void lg.Pv("A VOD DAI configuration was provided without valid contentSourceID which is required."):void lg.Pv("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){const i=t;return Boolean(i.assetKey)}(t)){const e=t.assetKey;return e?At({},i,{availabilityType:"live",assetKey:e}):void lg.Pv("A Live DAI configuration was provided without valid assetKey which is required.")}lg.Pv("A DAI configuration was provided without a valid availabilityType which is required.")}function _w(t){switch(t.integration){case"google-dai":return fw(t);case"imagine":return function(t){return{integration:t.integration}}(t);case"yospace":return function(t){var i;return{integration:t.integration,streamType:null!=(i=t.streamType)?i:void 0}}(t);default:return{integration:t.integration}}}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(cw||(cw={})),r(),r(),function(t){t.Bv="",t.Rv="anonymous",t.Uv="use-credentials"}(Ds||(Ds={})),function(t){t.Qv="application/dash+xml",t.Fv="application/vnd.apple.mpegurl",t.Yv="application/x-mpegurl",t.Gv="video/mp4",t.Vv="application/vnd.theoplayer.hesp+json",t.Wv="application/vnd.theo.hesp+json"}(vi||(vi={})),r(),r(),r(),r(),r(),r(),r(),r();var Ci,gs,gw="titanium",Jc="conax",ww="ezdrm",Uh="irdeto",Fh="vudrm",Aw="verimatrix",vw="keyos",Sh="drmtoday",mw="expressplay",jl="azure",Oh="xstream",pw="vimond",Bh="axinom",yw="uplynk",Mw="comcast",Tw="custom";function Nw(t,i){if(null==t)return{};var e,s,n={},r=_.keys(t);for(s=0;s<r.length;s++)e=r[s],i.indexOf(e)>=0||(n[e]=t[e]);return n}function Dw(t){return j_(t.token&&t.deviceId)}function Iw(t){var i;const e=null==(i=t.fairplay)?void 0:i.headers;return void 0!==e&&j_(e.PreAuthorization)}function Sw(t){const i=t;return Dw(i)&&""!==i.token&&""!==i.deviceId&&!Iw(i)}r(),r(),r(),function(t){t.Hv="playready",t.qv="widevine",t.Xv="fairplay",t.Zv="clearkey",t.Kv="aes128"}(Ci||(Ci={})),r(),r(),r(),function(t){t.Jv=!1,t.$v=!1,t.tm=!1,t.im=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.nm=!1,t.hm=!1,t.LOG_LCEVC_DETAILS=!1}(gs||(gs={})),r(),r();var ce=class extends Xo{get name(){return"THEOplayerError"}get category(){return Th.fromCode(this.code)}constructor(t,i,e){super(i,e),this.code=t}};var Qr=class extends ce{get name(){return"ContentProtectionError"}constructor(t,i,e,s,n,r,h,o){super(t,i,e),this.url=s,this.status=n,this.statusText=r,this.response=h,this.systemCode=o}};r();var Ew,bw=class{get um(){return this.lm}get dm(){return this.fm}_m(t){return function(t){const i=t.onCertificateRequest;if(void 0!==i&&"function"!=typeof i)throw new k("ContentProtectionIntegration.onCertificateRequest is not a function.");const e=t.onCertificateResponse;if(void 0!==e&&"function"!=typeof e)throw new k("ContentProtectionIntegration.onCertificateResponse is not a function.");const s=t.onLicenseRequest;if(void 0!==s&&"function"!=typeof s)throw new k("ContentProtectionIntegration.onLicenseRequest is not a function.");const n=t.onLicenseResponse;if(void 0!==n&&"function"!=typeof n)throw new k("ContentProtectionIntegration.onLicenseResponse is not a function.");const r=t.extractFairplayContentId;if(void 0!==r&&"function"!=typeof r)throw new k("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.gm.build(t))}constructor(t,i,e){this.lm=t,this.fm=i,this.gm=e}};r(),function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Ew||(Ew={}));var Lw,Mu=class{registerContentProtectionIntegration(t,i,e){switch(this.wm(t,i,e)){case Ew.FAILED:throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Ew.OVERRIDDEN:{const e=ml(i);lg.Pv("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break}case Ew.SUCCEEDED:ml(i);0;break}}wm(t,i,e){const s=ml(i);if(!s)return Ew.FAILED;let n=Ew.SUCCEEDED;for(const i of this.Am.slice())i.um===t&&i.dm===s&&(n=Ew.OVERRIDDEN,Et(this.Am,i));return this.Am.push(new bw(t,s,e)),n}vm(t,i){return void 0!==this.pm(t,i)}ym(t,i,e){const s=this.pm(t,i);if(!s)throw b("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+i);return s._m(e)}pm(t,i){for(const e of this.Am)if(e.um===t&&(!i||e.dm===i))return e}constructor(){this.Am=[]}};Mu.Mm=new Mu,r(),function(t){t.Hv="9a04f079-9840-4286-ab92-e65be0885f95",t.qv="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.Zv="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.Xv="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Lw||(Lw={}));var Wr,kw,aa,_t,Ws,Cw="urn:mpeg:dash:mp4protection:2011",xw="cenc",Ow="sinf",Hh="skd",jw="9a04f079-9840-4286-ab92-e65be0885f95",Xi="urn:uuid:"+jw,zw="com.microsoft.playready",Pw="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Mt="urn:uuid:"+Pw,Bw="com.widevine.alpha",Rw="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Uw="urn:uuid:"+Rw,ul="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",qa="urn:uuid:"+ul,Qw="com.apple.fps.1_0",Fw="com.apple.streamingkeydelivery",Yw="identity";r(),r(),function(t){t.Tm="moov",t.Nm="mvhd",t.Dm="trak",t.Im="tkhd",t.Sm="mdia",t.Em="mdhd",t.Lm="hdlr",t.Cm="minf",t.xm="stbl",t.Om="stsd",t.jm="stsc",t.zm="mvex",t.Pm="trex",t.Bm="avc1",t.Rm="avcC",t.Um="hev1",t.Qm="hvc1",t.Fm="hvcC",t.Ym="vp09",t.Gm="vpcC",t.Vm="av01",t.Wm="av1C",t.Hm="colr",t.qm="pasp",t.Xm="mp4a",t.Zm="esds",t.Km="wvtt",t.Jm="vttC",t.$m="vlab",t.tp="enca",t.ip="encv",t.ep="moof",t.sp="mfhd",t.np="traf",t.rp="tfhd",t.hp="trun",t.op="tfdt",t.ap="senc",t.cp="mdat",t.lp="pssh",t.dp="emsg",t.fp="sidx",t._p="styp",t.gp="ftyp",t.wp="sinf",t.Ap="frma"}(Wr||(Wr={})),function(t){t.vp="vide",t.mp="soun",t.pp="subt",t.yp="hint",t.Mp="meta",t.Tp="auxv"}(kw||(kw={})),function(t){t.ON_SCREEN_COLOURS="nclx",t.RESTRICTED_ICC_PROFILE="rICC",t.UNRESTRICED_ICC_PROFILE="prof"}(aa||(aa={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=65536]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(_t||(_t={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Ws||(Ws={})),r(),r(),r();var Gw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Vw=16383,Ww=/[\t\n\f\r ]/g;function Hw(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:qw()}function qw(){throw new b("Invalid base64 input")}function mi(t){let i=t;Ww.test(i)&&(i=i.replace(Ww,""));let e=i.length;e%4==0&&e>=1&&"="===i[e-1]&&(e>=2&&"="===i[e-2]?e-=2:e-=1,i=i.substr(0,e));const s=e%4;if(1===s)return qw();const n=0===s?0:4-s,r=new T(function(t,i){return 3*(t+i)/4-i}(e,n)),h=n>0?e-4:e;let o,a=0,u=0;for(;a<h;a+=4)o=Hw(i.charCodeAt(a))<<18|Hw(i.charCodeAt(a+1))<<12|Hw(i.charCodeAt(a+2))<<6|Hw(i.charCodeAt(a+3)),r[u++]=o>>16&255,r[u++]=o>>8&255,r[u++]=255&o;return 2===n?(o=Hw(i.charCodeAt(a))<<2|Hw(i.charCodeAt(a+1))>>4,r[u++]=255&o):1===n&&(o=Hw(i.charCodeAt(a))<<10|Hw(i.charCodeAt(a+1))<<4|Hw(i.charCodeAt(a+2))>>2,r[u++]=o>>8&255,r[u++]=255&o),r}function Xw(t,i,e){return Gw[t>>2]+Gw[(3&t)<<4|i>>4]+Gw[(15&i)<<2|e>>6]+Gw[63&e]}function Zw(t,i,e){const s=[];for(let n=i;n<e;n+=3)s.push(Xw(t[n],t[n+1],t[n+2]));return s.join("")}function Ot(t){const i=t.length,e=i%3,s=[],n=i-e;for(let i=0;i<n;i+=Vw)s.push(Zw(t,i,x.min(n,i+Vw)));if(1===e){const e=t[i-1];s.push(Gw[e>>2]+Gw[(3&e)<<4]+"==")}else if(2===e){const e=t[i-2],n=t[i-1];s.push(Gw[e>>2]+Gw[(3&e)<<4|n>>4]+Gw[(15&n)<<2]+"=")}return s.join("")}function Kw(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]/g,"")}var Jw=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],va=ArrayBuffer.isView||(t=>t&&ea(Jw,O_.call(t)));function ma(t,i){if(t===i)return!0;if(t.byteLength!==i.byteLength)return!1;return Yi(new T(t),new T(i))}function Yi(t,i){if(t===i)return!0;if(t.byteLength!==i.byteLength)return!1;for(let e=0;e<t.length;e+=1)if(t[e]!==i[e])return!1;return!0}function Gh(t){const i=t.reduce(((t,i)=>t+i.byteLength),0);return $w(t,i)}function $w(t,i){const e=new T(i);let s=0;for(const i of t)e.set(i,s),s+=i.byteLength;return e}function tA(t,i,e){const s=new T(t.byteLength+i.byteLength),n=WA(t,0,e),r=WA(t,e);return s.set(n),s.set(i,e),s.set(r,e+i.byteLength),s}function iA(t){return mi(t).buffer}function eA(t){return Ot(new T(t))}function ja(t){return Ot(wa(t))}function Xe(t,i){const e=i.Ku,s=t.getUint8(e>>3),n=1<<7-(7&e);return i.Np(1),(s&n)===n?1:0}function ls(t,i,e){let s=0;for(let n=0;n<e;n++)s=2*s+Xe(t,i);return s}r();var Qc=class t{get Ku(){return this.Zu}Np(t){this.Zu+=t}Dp(t){this.Zu=t}Ip(){return new t(this.Ku)}constructor(t=0){this.Zu=t}};var sA=x.clz32||function(t){let i=32,e=t>>16;return e&&(i-=16,t=e),e=t>>8,e&&(i-=8,t=e),e=t>>4,e&&(i-=4,t=e),e=t>>2,e&&(i-=2,t=e),e=t>>1,e?i-2:i-t};r(),r();var Ct=null;try{Ct=new WebAssembly.Instance(new WebAssembly.Module(new T([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(g){}function We(t,i,e){this.low=0|t,this.high=0|i,this.unsigned=!!e}function Dh(t){return!0===(t&&t.Sp)}function nA(t){var i=x.clz32(t&-t);return t?31-i:i}We.prototype.Sp,_.defineProperty(We.prototype,"Sp",{value:!0}),We.isLong=Dh;var rA={},hA={};function zh(t,i){var e,s,n;return i?(n=0<=(t>>>=0)&&t<256)&&(s=hA[t])?s:(e=Le(t,0,!0),n&&(hA[t]=e),e):(n=-128<=(t|=0)&&t<128)&&(s=rA[t])?s:(e=Le(t,t<0?-1:0,!1),n&&(rA[t]=e),e)}function Wt(t,i){if(j(t))return i?dA:Fe;if(i){if(t<0)return dA;if(t>=uA)return wA}else{if(t<=-cA)return AA;if(t+1>=cA)return gA}return t<0?Wt(-t,i).neg():Le(t%hl|0,t/hl|0,i)}function Le(t,i,e){return new We(t,i,e)}We.fromInt=zh,We.fromNumber=Wt,We.fromBits=Le;var oA=x.pow;function aA(t,i,e){if(0===t.length)throw b("empty string");if("number"==typeof i?(e=i,i=!1):i=!!i,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return i?dA:Fe;if((e=e||10)<2||36<e)throw RangeError("radix");var s;if((s=t.indexOf("-"))>0)throw b("interior hyphen");if(0===s)return aA(t.substring(1),i,e).neg();for(var n=Wt(oA(e,8)),r=Fe,h=0;h<t.length;h+=8){var o=x.min(8,t.length-h),a=C(t.substring(h,h+o),e);if(o<8){var u=Wt(oA(e,o));r=r.mul(u).add(Wt(a))}else r=(r=r.mul(n)).add(Wt(a))}return r.unsigned=i,r}function qe(t,i){return"number"==typeof t?Wt(t,i):"string"==typeof t?aA(t,i):Le(t.low,t.high,"boolean"==typeof i?i:t.unsigned)}We.fromString=aA,We.fromValue=qe;var hl=4294967296,uA=hl*hl,cA=uA/2,lA=zh(1<<24),Fe=zh(0);We.ZERO=Fe;var dA=zh(0,!0);We.UZERO=dA;var vl=zh(1);We.ONE=vl;var fA=zh(1,!0);We.UONE=fA;var _A=zh(-1);We.NEG_ONE=_A;var gA=Le(-1,2147483647,!1);We.MAX_VALUE=gA;var wA=Le(-1,-1,!0);We.MAX_UNSIGNED_VALUE=wA;var AA=Le(0,-2147483648,!1);We.MIN_VALUE=AA;var jo=We.prototype;jo.toInt=function(){return this.unsigned?this.low>>>0:this.low},jo.toNumber=function(){return this.unsigned?(this.high>>>0)*hl+(this.low>>>0):this.high*hl+(this.low>>>0)},jo.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(AA)){var i=Wt(t),e=this.div(i),s=e.mul(i).sub(this);return e.toString(t)+s.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var n=Wt(oA(t,6),this.unsigned),r=this,h="";;){var o=r.div(n),a=(r.sub(o.mul(n)).toInt()>>>0).toString(t);if((r=o).isZero())return a+h;for(;a.length<6;)a="0"+a;h=""+a+h}},jo.getHighBits=function(){return this.high},jo.getHighBitsUnsigned=function(){return this.high>>>0},jo.getLowBits=function(){return this.low},jo.getLowBitsUnsigned=function(){return this.low>>>0},jo.getNumBitsAbs=function(){if(this.isNegative())return this.eq(AA)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,i=31;i>0&&0==(t&1<<i);i--);return 0!=this.high?i+33:i+1},jo.isZero=function(){return 0===this.high&&0===this.low},jo.eqz=jo.isZero,jo.isNegative=function(){return!this.unsigned&&this.high<0},jo.isPositive=function(){return this.unsigned||this.high>=0},jo.isOdd=function(){return 1==(1&this.low)},jo.isEven=function(){return 0==(1&this.low)},jo.equals=function(t){return Dh(t)||(t=qe(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},jo.eq=jo.equals,jo.notEquals=function(t){return!this.eq(t)},jo.neq=jo.notEquals,jo.ne=jo.notEquals,jo.lessThan=function(t){return this.comp(t)<0},jo.lt=jo.lessThan,jo.lessThanOrEqual=function(t){return this.comp(t)<=0},jo.lte=jo.lessThanOrEqual,jo.le=jo.lessThanOrEqual,jo.greaterThan=function(t){return this.comp(t)>0},jo.gt=jo.greaterThan,jo.greaterThanOrEqual=function(t){return this.comp(t)>=0},jo.gte=jo.greaterThanOrEqual,jo.ge=jo.greaterThanOrEqual,jo.compare=function(t){if(Dh(t)||(t=qe(t)),this.eq(t))return 0;var i=this.isNegative(),e=t.isNegative();return i&&!e?-1:!i&&e?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},jo.comp=jo.compare,jo.negate=function(){return!this.unsigned&&this.eq(AA)?AA:this.not().add(vl)},jo.neg=jo.negate,jo.add=function(t){Dh(t)||(t=qe(t));var i=this.high>>>16,e=65535&this.high,s=this.low>>>16,n=65535&this.low,r=t.high>>>16,h=65535&t.high,o=t.low>>>16,a=0,u=0,c=0,l=0;return c+=(l+=n+(65535&t.low))>>>16,u+=(c+=s+o)>>>16,a+=(u+=e+h)>>>16,a+=i+r,Le((c&=65535)<<16|(l&=65535),(a&=65535)<<16|(u&=65535),this.unsigned)},jo.subtract=function(t){return Dh(t)||(t=qe(t)),this.add(t.neg())},jo.sub=jo.subtract,jo.multiply=function(t){if(this.isZero())return this;if(Dh(t)||(t=qe(t)),Ct)return Le(Ct.mul(this.low,this.high,t.low,t.high),Ct.get_high(),this.unsigned);if(t.isZero())return this.unsigned?dA:Fe;if(this.eq(AA))return t.isOdd()?AA:Fe;if(t.eq(AA))return this.isOdd()?AA:Fe;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(lA)&&t.lt(lA))return Wt(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,e=65535&this.high,s=this.low>>>16,n=65535&this.low,r=t.high>>>16,h=65535&t.high,o=t.low>>>16,a=65535&t.low,u=0,c=0,l=0,d=0;return l+=(d+=n*a)>>>16,c+=(l+=s*a)>>>16,l&=65535,c+=(l+=n*o)>>>16,u+=(c+=e*a)>>>16,c&=65535,u+=(c+=s*o)>>>16,c&=65535,u+=(c+=n*h)>>>16,u+=i*a+e*o+s*h+n*r,Le((l&=65535)<<16|(d&=65535),(u&=65535)<<16|(c&=65535),this.unsigned)},jo.mul=jo.multiply,jo.divide=function(t){if(Dh(t)||(t=qe(t)),t.isZero())throw b("division by zero");var i,e,s;if(Ct)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Le((this.unsigned?Ct.div_u:Ct.div_s)(this.low,this.high,t.low,t.high),Ct.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?dA:Fe;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return dA;if(t.gt(this.shru(1)))return fA;s=dA}else{if(this.eq(AA))return t.eq(vl)||t.eq(_A)?AA:t.eq(AA)?vl:(i=this.shr(1).div(t).shl(1)).eq(Fe)?t.isNegative()?vl:_A:(e=this.sub(t.mul(i)),s=i.add(e.div(t)));if(t.eq(AA))return this.unsigned?dA:Fe;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();s=Fe}for(e=this;e.gte(t);){i=x.max(1,x.floor(e.toNumber()/t.toNumber()));for(var n=x.ceil(x.log(i)/x.LN2),r=n<=48?1:oA(2,n-48),h=Wt(i),o=h.mul(t);o.isNegative()||o.gt(e);)o=(h=Wt(i-=r,this.unsigned)).mul(t);h.isZero()&&(h=vl),s=s.add(h),e=e.sub(o)}return s},jo.div=jo.divide,jo.modulo=function(t){return Dh(t)||(t=qe(t)),Ct?Le((this.unsigned?Ct.rem_u:Ct.rem_s)(this.low,this.high,t.low,t.high),Ct.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},jo.mod=jo.modulo,jo.rem=jo.modulo,jo.not=function(){return Le(~this.low,~this.high,this.unsigned)},jo.countLeadingZeros=function(){return this.high?x.clz32(this.high):x.clz32(this.low)+32},jo.clz=jo.countLeadingZeros,jo.countTrailingZeros=function(){return this.low?nA(this.low):nA(this.high)+32},jo.ctz=jo.countTrailingZeros,jo.and=function(t){return Dh(t)||(t=qe(t)),Le(this.low&t.low,this.high&t.high,this.unsigned)},jo.or=function(t){return Dh(t)||(t=qe(t)),Le(this.low|t.low,this.high|t.high,this.unsigned)},jo.xor=function(t){return Dh(t)||(t=qe(t)),Le(this.low^t.low,this.high^t.high,this.unsigned)},jo.shiftLeft=function(t){return Dh(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Le(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Le(0,this.low<<t-32,this.unsigned)},jo.shl=jo.shiftLeft,jo.shiftRight=function(t){return Dh(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Le(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Le(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},jo.shr=jo.shiftRight,jo.shiftRightUnsigned=function(t){return Dh(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Le(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):Le(32===t?this.high:this.high>>>t-32,0,this.unsigned)},jo.shru=jo.shiftRightUnsigned,jo.shr_u=jo.shiftRightUnsigned,jo.rotateLeft=function(t){var i;return Dh(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Le(this.high,this.low,this.unsigned):t<32?(i=32-t,Le(this.low<<t|this.high>>>i,this.high<<t|this.low>>>i,this.unsigned)):(i=32-(t-=32),Le(this.high<<t|this.low>>>i,this.low<<t|this.high>>>i,this.unsigned))},jo.rotl=jo.rotateLeft,jo.rotateRight=function(t){var i;return Dh(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Le(this.high,this.low,this.unsigned):t<32?(i=32-t,Le(this.high<<i|this.low>>>t,this.low<<i|this.high>>>t,this.unsigned)):(i=32-(t-=32),Le(this.low<<i|this.high>>>t,this.high<<i|this.low>>>t,this.unsigned))},jo.rotr=jo.rotateRight,jo.toSigned=function(){return this.unsigned?Le(this.low,this.high,!1):this},jo.toUnsigned=function(){return this.unsigned?this:Le(this.low,this.high,!0)},jo.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},jo.toBytesLE=function(){var t=this.high,i=this.low;return[255&i,i>>>8&255,i>>>16&255,i>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},jo.toBytesBE=function(){var t=this.high,i=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,i>>>24,i>>>16&255,i>>>8&255,255&i]},We.fromBytes=function(t,i,e){return e?We.fromBytesLE(t,i):We.fromBytesBE(t,i)},We.fromBytesLE=function(t,i){return new We(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,i)},We.fromBytesBE=function(t,i){return new We(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],i)};var Ce=We;function vA(t,i){return t.lessThan(i)?t:i}function mA(t){if(t>=55296&&t<=57343)throw new b("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function pA(t,i){return t>>i&63|128}function yA(t,i){0!=(4294967168&t)?(0==(4294965248&t)?i.push(t>>6&31|192):0==(4294901760&t)?(mA(t),i.push(t>>12&15|224),i.push(pA(t,6))):0==(4292870144&t)&&(i.push(t>>18&7|240),i.push(pA(t,12)),i.push(pA(t,6))),i.push(63&t|128)):i.push(t)}function MA(t,i){if(i.Ku>=t.length)throw new b("Invalid byte index");const e=255&t[i.Ku];if(i.Np(1),128==(192&e))return 63&e;throw new b("Invalid continuation byte")}function TA(t,i){const e=i.Ku;if(e>t.length)throw new b("Invalid byte index");if(e===t.length)return!1;const s=255&t[e];if(i.Np(1),0==(128&s))return s;if(192==(224&s)){const e=(31&s)<<6|MA(t,i);if(e>=128)return e;throw new b("Invalid continuation byte")}if(224==(240&s)){const e=(15&s)<<12|MA(t,i)<<6|MA(t,i);if(e>=2048)return mA(e),e;throw new b("Invalid continuation byte")}if(240==(248&s)){const e=(7&s)<<18|MA(t,i)<<12|MA(t,i)<<6|MA(t,i);if(e>=65536&&e<=1114111)return e}throw new b("Invalid UTF-8 detected")}r(),r();var NA=65279;var DA=[128,64,32,16,8,4,2,1],IA=class{Ep(t){return SA(this.bp,t)}constructor(t){this.bp=t}};function SA(t,i){return(t&i)===i}function wu(t,i){return SA(t,DA[i])}function F(t,i){const e=t.getUint8(i.Ku);return i.Np(1),e}function EA(t,i,e){t.setUint8(i.Ku,e),i.Np(1)}function Mc(t,i,e){const s=WA(ko(t),i.Ku,i.Ku+e);return i.Np(s.byteLength),s}function ao(t,i,e){ko(t).set(ko(e),i.Ku),i.Np(e.byteLength)}function bA(t,i,e){return i.Ku+e<=t.byteLength}function Fi(t,i,e,s){return void 0===s&&(s=!1),s?function(t,i,e){let s=0,n=1;for(let r=0;r<e;r++)s+=F(t,i)*n,n*=256;return s}(t,i,e):function(t,i,e){let s=0;for(let n=0;n<e;n++)s=256*s+F(t,i);return s}(t,i,e)}function LA(t,i,e){void 0===e&&(e=!1);const s=t.getUint16(i.Ku,e);return i.Np(2),s}function kA(t,i,e,s){void 0===s&&(s=!1),t.setUint16(i.Ku,e,s),i.Np(2)}function Cn(t,i,e){void 0===e&&(e=!1);const s=t.getUint32(i.Ku,e);return i.Np(4),s}function su(t,i,e,s){void 0===s&&(s=!1),t.setUint32(i.Ku,e,s),i.Np(4)}function tr(t,i,e){void 0===e&&(e=!1);const s=Cn(t,i,e),n=Cn(t,i,e),r=e?n:s,h=e?s:n;return Ce.fromBits(h,r,!0)}function CA(t,i,e,s){void 0===s&&(s=!1);const n=e.getHighBitsUnsigned(),r=e.getLowBitsUnsigned(),h=s?n:r;su(t,i,s?r:n,s),su(t,i,h,s)}function xA(t,i){return pu(t,i)}function Oo(t,i,e){return qh(qA(Mc(t,i,e)))}function OA(t,i){const e=F(t,i);let s;return 0==(128&e)?s=e:192==(224&e)?s=64*(31&e)+(63&F(t,i)):224==(240&e)?s=4096*(15&e)+64*(63&F(t,i))+(63&F(t,i)):240==(248&e)&&(s=262144*(7&e)+4096*(63&F(t,i))+64*(63&F(t,i))+(63&F(t,i))),s}function pu(t,i){return jA(t,i,!0)}function jA(t,i,e){const s=[];for(;i.Ku<t.byteLength;){const n=F(t,i);if(e&&!n)break;s.push(n)}return qh(s)}function zA(t,i,e){const s=e.length;for(let n=0;n<s;n+=1){EA(t,i,e.charCodeAt(n))}}function PA(t,i){if(!(i.Ku+2<=t.byteLength))return;const e=t.getUint8(i.Ku),s=t.getUint8(i.Ku+1);return(254!==e||255!==s)&&(255===e&&254===s||void 0)}function BA(t,i){const e=PA(t,i);return void 0!==e&&i.Np(2),ya(t,i,!0===e)}function ya(t,i,e){return void 0===e&&(e=!1),RA(t,i,e,!0)}function RA(t,i,e,s){const n=[];for(;i.Ku+2<=t.byteLength;){const r=LA(t,i,e);if(s&&!r)break;n.push(r)}return qh(n)}function UA(t,i,e,s){void 0===s&&(s=!1);const n=e.length;for(let r=0;r<n;r+=1){kA(t,i,e.charCodeAt(r),s)}}function ns(t){return jA(Mo(t),new Or,!1)}function wa(t){const i=new T(t.length);return zA(Mo(i),new Or,t),i}function QA(t,i){return void 0===i&&(i=!1),RA(Mo(t),new Or,i,!1)}function FA(t,i){void 0===i&&(i=!1);const e=new T(2*t.length);return UA(Mo(e),new Or,t,i),e}function YA(t,i){return i.Ku+3<=t.byteLength&&(239===t.getUint8(i.Ku)&&187===t.getUint8(i.Ku+1)&&191===t.getUint8(i.Ku+2))}function gl(t,i){return function(t,i,e){const s=[],n=YA(t,i);n&&i.Np(3);for(;i.Ku<t.byteLength;){const n=OA(t,i);if(void 0===n)break;if(e&&0===n)break;s.push(n)}return sw(s)}(t,i,!0)}function Ca(t){return function(t){return sw(t)}(function(t,i){const e=[],s=new Or;let n;if(!i){if(n=TA(t,s),!1===n)return e;n===NA||e.push(n)}for(;!1!==(n=TA(t,s));)e.push(n);return e}(ko(t)))}function GA(t){return new T(function(t){const i=[];for(const e of t)yA(e,i);return i}(function(t){const i=[];let e=0;const s=t.length;for(;e<s;){const n=t.charCodeAt(e++);if(n>=55296&&n<=56319&&e<s){const s=t.charCodeAt(e++);56320==(64512&s)?i.push(((1023&n)<<10)+(1023&s)+65536):(i.push(n),e--)}else i.push(n)}return i}(t)))}function VA(t,i){if(YA(t,i))return gl(t,i);if(void 0!==PA(t,i))return BA(t,i);if(i.Ku+4<=t.byteLength){if(0===t.getUint8(i.Ku)&&0===t.getUint8(i.Ku+2))return ya(t,i,!1);if(0===t.getUint8(i.Ku+1)&&0===t.getUint8(i.Ku+3))return ya(t,i,!0)}return gl(t,i)}function WA(t,i,e){return void 0===i&&(i=0),void 0===e&&(e=t.byteLength),new T(t.buffer,t.byteOffset+i,e-i)}function cn(t,i,e){return void 0===i&&(i=0),void 0===e&&(e=t.byteLength),new DataView(t.buffer,t.byteOffset+i,e-i)}function Mo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ko(t){return new T(t.buffer,t.byteOffset,t.byteLength)}function HA(t){return t instanceof ArrayBuffer||va(t)}function ts(t){return t instanceof ArrayBuffer?new T(t):ko(t)}function jh(t,i,e){return void 0===i&&(i=0),void 0===e&&(e=t.byteLength),t.slice?t.slice(i,e):Ae(WA(t,i,e))}function Ae(t){if(t.slice)return t.slice(0);{const i=new T(t.byteLength);return i.set(t,0),i}}function qA(t){return[].slice.call(t)}var Or=class t{get Ku(){return this.Zu}Np(t){this.Zu+=t}Dp(t){this.Zu=t}Ip(){return new t(this.Ku)}Lp(){return new Qc(this.Ku<<3)}constructor(t=0){this.Zu=t}};function XA(t){let i=t.toLowerCase(),e=0,s=0;tw(i,"0x")&&(i=i.substring(2));const n=new T(x.ceil(i.length/2));for(1==(1&i.length)&&(e=1,n[s++]=C(i[0],16));e<i.length;e+=2)n[s++]=C(i.substr(e,2),16);return n}function ZA(t){return.001*t}r();var $h=class t{kp(){return F(this.Cp,this.xp)}Op(){return LA(this.Cp,this.xp)}jp(){return function(t,i,e){void 0===e&&(e=!1);const s=t.getInt16(i.Ku,e);return i.Np(2),s}(this.Cp,this.xp)}zp(){return Cn(this.Cp,this.xp)}Pp(){return function(t,i,e){void 0===e&&(e=!1);const s=t.getInt32(i.Ku,e);return i.Np(4),s}(this.Cp,this.xp)}Bp(){return tr(this.Cp,this.xp)}Rp(t){return Mc(this.Cp,this.xp,t)}Up(t){return function(t,i,e){const s=[];for(let n=0;n<e;n++)s.push(Cn(t,i));return s}(this.Cp,this.xp,t)}Qp(t){return Oo(this.Cp,this.xp,t)}Fp(){return gl(this.Cp,this.xp)}Yp(t){this.xp.Np(t)}Ip(){return new t(this.Cp,this.xp.Ip())}constructor(t,i){this.Cp=t,this.xp=i}};r(),r();function KA(t,i){return t.hA===i}function JA(t,i){for(const e of t)if(KA(e,i))return e}var Hi=class extends Xo{get name(){return"DataIncompleteError"}constructor(t,i){super(),this.Gp=t,this.Vp=i}},lt=class t{static Wp(i){const e=i.Cp,s=i.xp,n=t.Hp(e,s,!1);if(!n.qp)throw new Hi(s.Ku,n.m);return n.m}static Hp(i,e,s){const n=[];for(;e.Ku<i.byteLength;){const r=t.Xp(i,e,s);if(!r.qp)return{qp:!1,m:n};n.push(r.Zp)}return{qp:!0,m:n}}static Kp(i,e){const s=t.Xp(i,e,!1);if(!s.qp)throw new Hi(e.Ku);return s.Zp}static Jp(i,e){const s=i.Cp,n=i.xp;for(;n.Ku<s.byteLength;){const i=t.Xp(s,n,!1);if(!i.qp)return;if(i.Zp.hA===e)return i.Zp}}static Xp(i,e,s){const n=e.Ku,r=t.$p(i,e);if(!r.qp)return r;const h=r.iy;let o=h.ey;if(0===o){if(s)return e.Dp(n),{qp:!1,sy:1/0};o=i.byteLength-n}const a=n+o;if(a>i.byteLength){const t=a;return e.Dp(n),{qp:!1,sy:t}}const u={hA:h.hA,Ku:n,Cp:new $h(cn(i,n,a),new Or(h.oy))};return e.Dp(a),{qp:!0,Zp:u}}static $p(t,i){const e=i.Ku;if(!bA(t,i,8)){return{qp:!1,sy:i.Ku+8}}let s=Cn(t,i),n=Oo(t,i,4);if(1===s){if(!bA(t,i,8)){const t=i.Ku+8;return i.Dp(e),{qp:!1,sy:t}}s=tr(t,i).toNumber()}if("uuid"===n){if(!bA(t,i,16)){const t=i.Ku+16;return i.Dp(e),{qp:!1,sy:t}}n=Oo(t,i,16)}return{qp:!0,iy:{hA:n,ey:s,oy:i.Ku-e}}}static uy(t,i,e){const s=t.Cp,n=t.xp;let r=WA(ko(s),n.Ku,s.byteLength);return e&&(r=Ae(r)),n.Np(r.byteLength),{hA:i,Cp:r}}static ly(i,e,s){const n=i.zp(),{version:r,flags:h}=ic(n);return{hA:e,_y:r,gy:h,Cp:t.uy(i,e,s).Cp}}};function Ns(t,i){const e=$A(t,i);if(!e)throw new b("Missing "+i+" atom");return e}function $A(t,i){for(const e of t)if(e.hA===i)return e.Cp}function mo(t,i){const e=[];for(const s of t)s.hA===i&&e.push(s.Cp);return e}function ic(t){return{version:t>>24,flags:new IA(16777215&t)}}var Qi=class t{static wy(i){const e=[],s=lt.Wp(new $h(i,new Or));for(const i of s){const s=t.Ay(i);s&&e.push(s)}return e}static vy(t){return lt.Hp(t,new Or,!1).m.some(this.py)}static yy(i){return mo(lt.Wp(new $h(i,new Or)),Wr.lp).map(t.My)}static Ty(i){return mo(lt.Wp(i.Cp),Wr.lp).map(t.My)}static py(t){return t.hA===Wr.gp||t.hA===Wr._p||t.hA===Wr.Tm||t.hA===Wr.ep||t.hA===Wr.cp||t.hA===Wr.fp||t.hA===Wr.dp}static Ay(i){switch(i.hA){case Wr.Tm:return t.Ny(i.Cp);case Wr.ep:return t.Dy(i.Cp,i.Ku);case Wr.cp:return t.Iy(i.Cp);case Wr.fp:return t.Sy(i.Cp);case Wr.dp:return t.Ey(i.Cp)}}static Ny(i){const e=lt.Wp(i),s=Ns(e,Wr.Nm),n=mo(e,Wr.Dm),r=$A(e,Wr.zm),h=t.by(s),o=n.map(t.Ly),a=r?t.Cy(r):void 0;return{hA:Wr.Tm,iy:h,Z:o,xy:a}}static by(t){const i=t.zp(),{version:e,flags:s}=ic(i),n=1===e?t.Bp():t.zp(),r=1===e?t.Bp():t.zp(),h=t.zp(),o=1===e?t.Bp():t.zp(),a=t.zp(),u=t.Op()>>8;t.Yp(2),t.Yp(8);const c=t.Up(9);t.Yp(24);const l=t.zp();return{hA:Wr.Nm,_y:e,gy:s,Oy:n,jy:r,zy:h,ct:o,Py:a,xg:u,By:c,Ry:l}}static Ly(i){const e=lt.Wp(i),s=Ns(e,Wr.Im),n=Ns(e,Wr.Sm),r=t.Uy(s),h=t.Qy(n);return{hA:Wr.Dm,iy:r,Fy:h}}static Uy(t){const i=t.zp(),{version:e,flags:s}=ic(i),n=1===e?t.Bp():t.zp(),r=1===e?t.Bp():t.zp(),h=t.zp();t.Yp(4);const o=1===e?t.Bp():t.zp();t.Yp(8);const a=t.jp(),u=t.jp(),c=t.jp()/256;t.Yp(2);const l=t.Up(9),d=t.zp()/65536,f=t.zp()/65536;return{hA:Wr.Im,Yy:s.Ep(1),Gy:s.Ep(2),Vy:s.Ep(4),Oy:n,jy:r,Wy:h,ct:o,Hy:a,qy:u,xg:c,By:l,ji:d,Ti:f}}static Qy(i){const e=lt.Wp(i),s=Ns(e,Wr.Em),n=Ns(e,Wr.Lm),r=Ns(e,Wr.Cm),h=t.Xy(s),o=t.Zy(n),a=t.Ky(r);return{hA:Wr.Sm,iy:h,Jy:o,$y:a}}static Xy(t){const i=t.zp(),{version:e,flags:s}=ic(i),n=1===e?t.Bp():t.zp(),r=1===e?t.Bp():t.zp(),h=t.zp(),o=1===e?t.Bp():t.zp();t.Op();return t.Yp(2),{hA:Wr.Em,_y:e,gy:s,Oy:n,jy:r,zy:h,ct:o}}static Zy(t){const i=t.zp(),{version:e,flags:s}=ic(i);t.Yp(4);const n=t.Qp(4);t.Yp(12);const r=t.Fp();return{hA:Wr.Lm,_y:e,gy:s,tM:n,l:r}}static Ky(i){const e=Ns(lt.Wp(i),Wr.xm),s=t.iM(e);return{hA:Wr.Cm,eM:s}}static iM(i){const e=Ns(lt.Wp(i),Wr.Om),s=t.sM(e);return{hA:Wr.xm,nM:s}}static sM(i){const e=i.zp(),{version:s,flags:n}=ic(e),r=(i.zp(),[]),h=lt.Wp(i);for(const i of h){const e=t.rM(i.Cp,i.hA);e&&r.push(e)}return{hA:Wr.Om,_y:s,gy:n,hM:r}}static rM(i,e){let s=t.oM(i,e);return s||(s=t.aM(i,e),s||(e===Wr.Km?t.uM(i):void 0))}static oM(i,e){return e===Wr.Xm?t.cM(i):e===Wr.tp?t.lM(i):void 0}static aM(i,e){return e===Wr.Bm?t.dM(i):e===Wr.Um||e===Wr.Qm?t.fM(i,e):e===Wr.Ym?t._M(i,e):e===Wr.Vm?t.gM(i,e):e===Wr.ip?t.wM(i):void 0}static AM(t,i){t.Yp(6);return{hA:i,vM:t.Op()}}static mM(i,e){const s=t.AM(i,e);i.Yp(8);const n=i.Op(),r=i.Op();i.Yp(2),i.Yp(2);return At({},s,{pM:n,yM:r,MM:i.zp()>>>16})}static TM(i,e){const s=t.AM(i,e);i.Yp(2),i.Yp(2),i.Yp(12);const n=i.Op(),r=i.Op(),h=i.zp(),o=i.zp();i.Yp(4);const a=i.Op();i.Yp(32);const u=i.Op();return i.Yp(2),At({},s,{ji:n,Ti:r,NM:h,DM:o,IM:a,SM:u})}static cM(i){const e=t.mM(i,Wr.Xm),s=Ns(lt.Wp(i),Wr.Zm);return At({},e,{EM:t.bM(s)})}static uM(i){const e=t.AM(i,Wr.Km),s=lt.Wp(i),n=Ns(s,Wr.Jm),r=t.LM(n),h=$A(s,Wr.$m);return At({},e,{kM:r,CM:h?t.xM(h):h})}static LM(t){return{hA:Wr.Jm,wd:t.Fp()}}static xM(t){return{hA:Wr.$m,kh:t.Fp()}}static bM(t){return lt.ly(t,Wr.Zm,!0)}static dM(i){const e=t.TM(i,Wr.Bm),s=lt.Wp(i),n=Ns(s,Wr.Rm),r=$A(s,Wr.qm);return At({},e,{OM:t.jM(n),zM:r?t.PM(r):void 0})}static fM(i,e){const s=t.TM(i,e),n=Ns(lt.Wp(i),Wr.Fm);return At({},s,{BM:t.RM(n)})}static _M(i,e){const s=t.TM(i,e),n=Ns(lt.Wp(i),Wr.Gm);return At({},s,{UM:t.QM(n)})}static gM(i,e){const s=t.TM(i,e),n=lt.Wp(i),r=Ns(n,Wr.Wm),h=t.FM(r),o=$A(n,Wr.Hm);return At({},s,{YM:h,GM:o?t.VM(o):void 0})}static wM(i){const e=i.Ip(),s=t.TM(i,Wr.ip),n=Ns(lt.Wp(i),Wr.wp),r=t.WM(n);return At({},s,{HM:t.aM(e,r.XM.qM),ZM:r})}static lM(i){const e=i.Ip(),s=t.mM(i,Wr.tp),n=Ns(lt.Wp(i),Wr.wp),r=t.WM(n);return At({},s,{HM:t.oM(e,r.XM.qM),ZM:r})}static WM(i){const e=Ns(lt.Wp(i),Wr.Ap),s=t.KM(e);return{hA:Wr.wp,XM:s}}static KM(t){const i=t.Qp(4);return{hA:Wr.Ap,qM:i}}static jM(t){return lt.uy(t,Wr.Rm,!0)}static RM(t){return lt.uy(t,Wr.Fm,!0)}static QM(t){return lt.uy(t,Wr.Gm,!0)}static FM(t){return lt.uy(t,Wr.Wm,!0)}static VM(t){const i=t.Qp(4);switch(i){case"nclx":return{JM:aa.ON_SCREEN_COLOURS,$M:t.Op(),tT:t.Op(),iT:t.Op(),eT:0!=(128&t.kp())};case"rICC":return{JM:aa.RESTRICTED_ICC_PROFILE};case"prof":return{JM:aa.UNRESTRICED_ICC_PROFILE};default:throw b("Could not parse ColourInformationBox: unknown type '"+i+"'.")}}static PM(t){const i=t.zp(),e=t.zp();return{hA:Wr.qm,sT:i,nT:e}}static Cy(i){const e=mo(lt.Wp(i),Wr.Pm).map(t.rT);return{hA:Wr.zm,Z:e}}static rT(t){const i=t.zp(),{version:e,flags:s}=ic(i),n=t.zp(),r=t.zp(),h=t.zp(),o=t.zp(),a=t.zp();return{hA:Wr.Pm,_y:e,gy:s,Wy:n,hT:r,oT:h,aT:o,uT:a}}static Dy(i,e){const s=lt.Wp(i),n=Ns(s,Wr.sp),r=mo(s,Wr.np),h=t.cT(n),o=r.map(t.lT);return{hA:Wr.ep,dT:e,iy:h,Z:o}}static cT(t){const i=t.zp(),{version:e,flags:s}=ic(i),n=t.zp();return{hA:Wr.sp,_y:e,gy:s,fT:n}}static lT(i){const e=lt.Wp(i),s=Ns(e,Wr.rp),n=mo(e,Wr.hp),r=$A(e,Wr.op),h=t._T(s),o=n.map((i=>t.gT(i,h))),a=r?t.wT(r):void 0;return{hA:Wr.np,iy:h,AT:o,vT:a}}static _T(t){const i=t.zp(),{version:e,flags:s}=ic(i),n=t.zp(),r=s.Ep(_t.BASE_DATA_OFFSET_PRESENT)?t.Bp():void 0,h=s.Ep(_t.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.zp():void 0,o=s.Ep(_t.DEFAULT_SAMPLE_DURATION_PRESENT)?t.zp():void 0,a=s.Ep(_t.DEFAULT_SAMPLE_SIZE_PRESENT)?t.zp():void 0,u=s.Ep(_t.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.zp():void 0;return{hA:Wr.rp,_y:e,gy:s,Wy:n,mT:r,pT:h,oT:o,aT:a,uT:u}}static gT(i,e){const s=i.zp(),{version:n,flags:r}=ic(s),h=i.zp(),o=r.Ep(Ws.DATA_OFFSET_PRESENT)?i.Pp():void 0,a=r.Ep(Ws.FIRST_SAMPLE_FLAGS_PRESENT)?i.zp():void 0,u=[];for(let s=0;s<h;s++){const h=t.yT(i,r,n,e);0===s&&void 0!==a&&(h.gy=a),u.push(h)}return{hA:Wr.hp,_y:n,gy:r,MT:h,dT:o,TT:a,NT:u}}static yT(t,i,e,s){return{ct:i.Ep(Ws.SAMPLE_DURATION_PRESENT)?t.zp():s.oT,ey:i.Ep(Ws.SAMPLE_SIZE_PRESENT)?t.zp():s.aT,gy:i.Ep(Ws.SAMPLE_FLAGS_PRESENT)?t.zp():s.uT,DT:i.Ep(Ws.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===e?t.zp():t.Pp():void 0}}static Ey(t){const i=t.Cp,e=t.xp,s=Cn(i,e),{version:n,flags:r}=ic(s);if(1===n){const t=Cn(i,e),s=tr(i,e),h=Cn(i,e),o=Cn(i,e),a=xA(i,e),u=xA(i,e),c=jh(ko(i),e.Ku,i.byteLength);return e.Np(c.byteLength),{hA:Wr.dp,_y:n,gy:r,IT:a,ST:u,zy:t,ET:s,bT:h,o:o,LT:c}}{const t=xA(i,e),s=xA(i,e),h=Cn(i,e),o=Cn(i,e),a=Cn(i,e),u=Cn(i,e),c=jh(ko(i),e.Ku,i.byteLength);return e.Np(c.byteLength),{hA:Wr.dp,gy:r,_y:n,IT:t,ST:s,zy:h,kT:o,bT:a,o:u,LT:c}}}static Iy(t){return lt.uy(t,Wr.cp,!1)}static My(i){const e=i.Cp,s=i.xp,n=Ae(ko(e)).buffer,r=Cn(e,s),{version:h,flags:o}=ic(r),a=t.CT(e,s),u=[];if(h>0){const t=Cn(e,s);for(let i=0;i<t;i++){const t=Mc(e,s,16);u.push(t)}}const c=Cn(e,s),l=new T(n,s.Ku,c);return s.Np(e.byteLength),{hA:Wr.lp,_y:h,gy:o,xT:a,OT:u,jT:c,Cp:l,zT:n}}static CT(t,i){let e="";for(let s=0;s<4;s++){const s=F(t,i).toString(16);e+=1===s.length?"0"+s:s}e+="-";for(let s=0;s<2;s++){const s=F(t,i).toString(16);e+=1===s.length?"0"+s:s}e+="-";for(let s=0;s<2;s++){const s=F(t,i).toString(16);e+=1===s.length?"0"+s:s}e+="-";for(let s=0;s<2;s++){const s=F(t,i).toString(16);e+=1===s.length?"0"+s:s}e+="-";for(let s=0;s<6;s++){const s=F(t,i).toString(16);e+=1===s.length?"0"+s:s}return e.toLowerCase()}static Sy(t){const i=t.Cp,e=t.xp,s=Cn(i,e),{version:n,flags:r}=ic(s),h=Cn(i,e),o=Cn(i,e);let a,u;0===n?(a=Ce.fromBits(Cn(i,e),0,!0),u=Ce.fromBits(Cn(i,e),0,!0)):(a=tr(i,e),u=tr(i,e)),e.Np(2);const c=LA(i,e),l=[];for(let t=0;t<c;t+=1){const t=Cn(i,e),s=t>>31&1,n=2147483647&t,r=Cn(i,e),h=Cn(i,e),o=h>>31&1,a=h>>28&7,u=268435455&h;l.push({PT:s,BT:n,ct:r,RT:o,UT:a,QT:u})}return{hA:Wr.fp,_y:n,gy:r,FT:h,zy:o,YT:a,GT:u,VT:c,WT:l}}static wT(t){const i=t.Cp,e=t.xp,s=Cn(i,e),{version:n,flags:r}=ic(s);let h;return h=0===n?Ce.fromBits(Cn(i,e),0,!0):tr(i,e),{hA:Wr.op,_y:n,gy:r,vT:h}}},iv={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function ev(t){if(!t)return!0;const i=t.licenseAcquisitionURL,e=t.certificateURL,s=t.keys,n=t.headers,r=t.useCredentials,h=t.queryParameters;return!(i||e||s||n||r||h)}function sv(t){return t&&void 0!==t.licenseAcquisitionURL}var nv,rv,K,ms,hv,ca,Ks,ov,av=sv,uv=sv;function cv(t){if(!t)return!0;if(_v(t))return!1;const i=t.fairplay,e=t.playready,s=t.widevine,n=t.clearkey,r=t.aes128;return ev(i)&&ev(e)&&ev(s)&&void 0===n&&ev(r)}function lv(t){const i=Sw(t),e=function(t){var i;const e=t;return Iw(e)&&""!==(null==(i=e.fairplay)?void 0:i.headers.PreAuthorization)&&!Dw(e)}(t);return(!i||!e)&&(i||e)}function dv(t){return t.integration===Uh}function fv(t){const i=t;if(!i)return!1;if(cv(i))return!1;const e=i.fairplay,s=i.playready,n=i.widevine,r=i.clearkey;if(_v(t))return!0;if(e&&!function(t){const i=t;return i&&(void 0!==i.certificateURL||void 0!==i.certificate)}(e))return!1;if(s&&!av(s))return!1;if(n&&!uv(n))return!1;if(r&&!function(t){return void 0!==t}(r))return!1;if(i.integration){if(Mu.Mm.vm(i.integration))return!0;switch(i.integration){case gw:if(!function(t){const i=t,e=i.integration===gw;return e&&(gv(t)||wv(t))}(t))return!1;break;case Fh:if(!za(t))return!1;break;case Aw:if(!function(t){const i=t;return i.integration===Aw}(t))return!1;break;case Uh:if(!dv(t))return!1;break;case Jc:if(!lv(t))return!1;break;case ww:if(!function(t){const i=t;return i.integration===ww}(t))return!1;break;case vw:if(!_v(t))return!1;break;case Sh:if(!function(t){const i=t;return i.integration===Sh&&(void 0!==i.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(i))}(t))return!1;break;case mw:if(!function(t){const i=t;return i.integration===mw}(t))return!1;break;case Oh:if(!Av(t))return!1;break;case pw:if(!function(t){return t.integration===pw}(t))return!1;break;case Bh:if(!Xh(t))return!1;break;case jl:if(!function(t){const i=t;return i.integration===jl&&void 0!==i.token}(t))return!1;break;case yw:if(!function(t){const i=t;return i.integration===yw}(t))return!1;break;case Mw:if(!function(t){const i=t;return i&&j_(i.releasePid)&&j_(i.accountId)&&j_(i.token)}(t))return!1;break;case Tw:return!0;default:return!1}}return!0}function _v(t){return t.integration===vw}function gv(t){return void 0!==t.authToken}function wv(t){const i=t;return void 0!==i.accountName&&void 0!==i.customerName&&void 0!==i.portalId}function za(t){const i=t;return i.integration===Fh&&void 0!==i.token}function Av(t){const i=t;return i&&i.integration===Oh&&ae(i.ticketAcquisitionURL)&&ae(i.streamId)}function Xh(t){const i=t;return i.integration===Bh&&void 0!==i.token}function vv(t,i){const e=i[t];var s;const n=null!=(s=null==e?void 0:e.licenseAcquisitionURL)?s:iv[t];var r;const h=null!=(r=null==e?void 0:e.customdata)?r:i.customdata,o=h?{customData:h}:{};var a;const u=At({},null!=(a=null==e?void 0:e.headers)?a:{},o),c=null!=e?e:{},{customdata:l}=c;return At({},Nw(c,["customdata"]),{licenseAcquisitionURL:n,headers:u})}function ml(t){switch(t.toLowerCase()){case"widevine":case Mt:return Mt;case"playready":case Xi:return Xi;case"fairplay":case qa:return qa}}function mv(t,i){switch(t){case xw:return function(t){const i={},e=Qi.yy(new DataView(t));for(const t of e)i[t.xT]=t.zT;return i}(i);case Ow:case Hh:return function(t){return{[ul]:t}}(i);default:throw new ce(p_.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}function ka(t,i,e){const s=function(t,i,e){var s;const{useCredentials:n,crossOrigin:r}=function(t,i){let e=Ds.Bv;return t.useCredentials?e=Ds.Uv:t.crossOrigin&&(e=Lv(t.crossOrigin)),e===Ds.Bv&&i&&i.vr&&i.vr[360]&&(e=Ds.Rv),{useCredentials:e===Ds.Uv,crossOrigin:e}}(t,i);let h=t.liveOffset;j_(h)||(h=e&&j_(e.liveOffset)?e.liveOffset:void 0);let o=t.timeServer;j_(o)||(o=i&&j_(i.timeServer)?i.timeServer:void 0);let a=t.hlsDateRange;j_(a)||(a=e&&j_(e.hlsDateRange)?Boolean(e.hlsDateRange):void 0);const u=Boolean(t.experimentalRendering),c=Boolean(t.nativeUiRendering),l=Boolean(t.lowLatency),d=Boolean(t.useNativePlayback),f=Boolean(t.useManagedMediaSource),_=j_(t.dash)?yv(t.dash):void 0,g=j_(t.hls)?Mv(t.hls):void 0,w=Nv(Ps(t.abr),null==e?void 0:e.abr),A=lu(t.lcevc),v=j_(t.ignoreEmbeddedTextTrackTypes)?Vv(t.ignoreEmbeddedTextTrackTypes):[];var m;const p=Ev(null!=(m=t.seamlessSwitchStrategy)?m:null==(s=t.dash)?void 0:s.useSeamlessPeriodSwitch);return{crossOrigin:r,useCredentials:n,liveOffset:h,timeServer:o,hlsDateRange:a,experimentalRendering:u,nativeUiRendering:c,lowLatency:l,useNativePlayback:d,useManagedMediaSource:f,dash:_,hls:g,abr:w,lcevc:A,ignoreEmbeddedTextTrackTypes:v,seamlessSwitchStrategy:p}}(t,i,e),n=Wc(t.src);let r=t.type;r||(r=t.src?Vo(t.src):void 0);const h=function(t,i){let e;e=j_(t.contentProtection)?t.contentProtection:j_(t.drm)?t.drm:j_(i)&&j_(i.contentProtection)?i.contentProtection:j_(i)&&j_(i.drm)?i.drm:void 0;return pv(e)}(t,i);return At({},s,{src:n,type:r,contentProtection:h,ssai:j_(t.ssai)?_w(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function pv(t){return fv(t)&&t.integration&&t.integration===vw?function(t){const i=vv(Ci.qv,t),e=vv(Ci.Hv,t),s=t[Ci.Xv]&&vv(Ci.Xv,t);return At({integration:"keyos",widevine:i,playready:e},s?{fairplay:s}:{})}(t):t}function yv(t){return{useSeamlessPeriodSwitch:Ev(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:lu(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?Ih(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:lu(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:lu(null==t?void 0:t.ignoreAvailabilityWindow),forceHardSwitchWhenSeekingBackwards:lu(null==t?void 0:t.forceHardSwitchWhenSeekingBackwards)}}function Mv(t){return{discontinuityAlignment:Tv(null==t?void 0:t.discontinuityAlignment)}}function Tv(t){if(!t||!ae(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function Ps(t){if(!j_(t))return;return Dv(kg(null==t?void 0:t.preferredAudioCodecs,Oa),kg(null==t?void 0:t.preferredVideoCodecs,Oa),lu(null==t?void 0:t.restrictToPlayerSize))}function Nv(t,i){if(!j_(t)&&!j_(i))return;var e;return Dv(Iv(null==t?void 0:t.preferredAudioCodecs,null==i?void 0:i.preferredAudioCodecs),Iv(null==t?void 0:t.preferredVideoCodecs,null==i?void 0:i.preferredVideoCodecs),null!=(e=null==t?void 0:t.restrictToPlayerSize)?e:null==i?void 0:i.restrictToPlayerSize)}function Dv(t,i,e){if(0!==t.length||0!==i.length||void 0!==e)return{preferredAudioCodecs:0===t.length?void 0:t,preferredVideoCodecs:0===i.length?void 0:i,restrictToPlayerSize:e}}function Iv(t,i){return void 0!==t&&(null==t?void 0:t.length)>0?t:null!=i?i:[]}function Sv(t,i){if(void 0!==i)switch(t){case rv.vp:return i.preferredVideoCodecs;case rv.mp:return i.preferredAudioCodecs;default:return}}function Ev(t){if(!t||!ae(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}function Ni(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":return!0;default:return!1}}function bv(t){return!!t&&oo(t,"mpd")}function Vo(t){let i=vi.Gv;return bv(t)&&(i=vi.Qv),function(t){return!!t&&oo(t,"m3u8")}(t)&&(i=vi.Fv),i}function Lv(t){switch(t){case Ds.Rv:case Ds.Uv:return t;default:return Ds.Bv}}function kv(t){if(!t)return!1;const i=t.toLowerCase();return tw(i,vi.Qv)}function Cv(t){if(!t)return!1;const i=t.toLowerCase();return tw(i,vi.Fv)||tw(i,vi.Yv)}function Ia(t){return Mi(t)&&Mi(t.ssai)&&"google-dai"===t.ssai.integration}function xv(t){return Mi(t)&&ae(t.integration)&&"verizon-media"===t.integration}function Ov(t){return Mi(t)&&ae(t.integration)&&"theolive"===t.integration}function jv(t){return Mi(t)&&ae(t.integration)&&"mediatailor"===t.integration}function zv(t){if(ae(t))return!t;if(xv(t))return!t.id;if(Ia(t)){const i=t.ssai,e="live"===i.availabilityType&&i.assetKey,s="vod"===i.availabilityType&&i.contentSourceID&&i.videoID;return Boolean(e&&s)}return!t.src}function Pv(t){return Boolean(Mi(t)&&ae(t.src))}function Bv(t){return t.type===vi.Vv||t.type===vi.Wv}function Ma(t){return ae(t)||Pv(t)||Ia(t)||xv(t)}function Rv(t){if(t){if(Ma(t))return zv(t);for(const i of t)if(!zv(i))return!1;return!0}return!0}function Uv(){return{crossOrigin:Ds.Bv,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,useManagedMediaSource:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0,ignoreEmbeddedTextTrackTypes:[],seamlessSwitchStrategy:K.HT}}function Qv(){return At({},Uv(),{src:void 0,type:vi.Gv,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Fv(t){const i={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:hv.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1,language:void 0,uiElements:void 0}};return void 0===t||(void 0!==t.preload&&(i.preload=function(t){return"none"===t?ca.NONE:ca.MIDROLL_AND_POSTROLL}(t.preload)),void 0!==t.showCountdown&&(i.showCountdown=bg(t.showCountdown)),void 0!==t.vpaidMode&&(i.vpaidMode=function(t){switch(t){case"insecure":return hv.INSECURE;case"disabled":return hv.DISABLED;default:return hv.ENABLED}}(t.vpaidMode)),pi(t.allowedMimeTypes)&&(i.allowedMimeTypes=t.allowedMimeTypes.filter(ae)),void 0!==t.googleIma&&(i.googleIma=function(t){return void 0===t?{useNativeIma:!1,bitrate:-1,language:void 0,uiElements:void 0}:{useNativeIma:bg(t.useNativeIma),bitrate:null!=(i=t.bitrate)?i:-1,language:j_(t.language)?Oa(t.language):void 0,uiElements:t.uiElements};var i}(t.googleIma))),i}function Yv(t){if(!He(t))return[];const i=[];for(const e of t)dt(e)&&i.push(e);return i}function Gv(t){return ae(t.src)}function Vv(t){return pi(t)?t.filter(Ni):[]}r(),r(),function(t){t.HT="auto",t.qT="playlist",t.XT="media"}(nv||(nv={})),r(),r(),function(t){t.mp="audio",t.vp="video",t.Ru="text",t.ZT="image",t.KT="unknown"}(rv||(rv={})),function(t){t.HT="auto",t.JT="always",t.$T="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only"}(K||(K={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor",t.THEOLIVE="theolive"}(ms||(ms={})),r(),r(),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(hv||(hv={})),r(),r(),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(ca||(ca={})),r(),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Ks||(Ks={})),r(),r(),function(t){t[t.tN=0]="tN",t[t.Gn=1]="Gn",t[t.iN=2]="iN",t[t.eN=3]="eN",t[t.sN=4]="sN"}(ov||(ov={}));var Wv=class extends Ag{constructor(i,e=ov.tN){super(t.bA),this.currentTime=i,this.readyState=e}};r();var ws=class extends Ag{constructor(i){super(t.Sh),this.currentTime=i}};r();var fh=class extends Ag{constructor(i){super(t.jh),this.currentTime=i}};r();var cs=class extends Ag{constructor(t,i=ov.Gn){super(Ho.yv),this.currentTime=t,this.readyState=i}};r();var Tn=class extends Ag{constructor(i){super(t.EA),this.duration=i}};r();var Jh=class extends Ag{constructor(i,e){super(t.WA),this.currentTime=i,this.playbackRate=e}};r();var jc=class extends Ag{constructor(i,e){super(t.ov),this.currentTime=i,this.currentProgramDateTime=e}};r();var ys=class extends Ag{constructor(i){super(t.kA),this.currentTime=i}};r();var rs=class extends Ag{constructor(t,i=ov.iN){super(Ho.pv),this.currentTime=t,this.readyState=i}};r();var Sa=class extends Ag{constructor(i){super(t.ZA),this.currentTime=i}};r();var $s=class extends Ag{constructor(i){super(t.XA),this.currentTime=i}};r();var Oe=class extends Ag{constructor(i,e){super(t.uv),this.currentTime=i,this.volume=e}};r();var M=class extends Ag{constructor(t,i=ov.eN){super(Ho.vv),this.currentTime=t,this.readyState=i}};r();var fs=class extends Ag{constructor(t,i=ov.sN){super(Ho.mv),this.currentTime=t,this.readyState=i}};r();var Vs=class extends Ag{constructor(t,i){super(Ho.Mw),this.currentTime=t,this.readyState=i}};r();var pe=class extends La{get error(){return this.errorObject.message}fa(){return this}constructor(t){super(Bi.ha),this.errorObject=t}};async function Ou(t,i,e,s,n){void 0===e&&(e=3),void 0===s&&(s=1e3),void 0===n&&(n=1/0);let r=0;for(;;)try{return await t(i)}catch(t){if(Ht(t),r<e){const t=x.min(s*2**r,n);r++,await ye(t,i);continue}throw t}}r();var Hv,qv={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};function Xv(t){switch(t){case"all":case"content":return t;default:return"none"}}function Zv(t){const i=se(t||{});return i.libraryLocation&&(i.libraryLocation=_a(i.libraryLocation,!0)),i.isEmbeddable=Boolean(i.isEmbeddable),i.cast=function(t){const i=dw(t?t.chromecast:void 0),e=function(t){switch(t){case"auto":return"auto";case"manual":default:return"manual";case"disabled":return"disabled"}}(t?t.strategy:void 0);return{chromecast:i,strategy:e}}(i.cast),i.ads=Fv(i.ads),i.analytics=Yv(i.analytics),i.mutedAutoplay=Xv(i.mutedAutoplay),i.allowNativeFullscreen=Boolean(i.allowNativeFullscreen),i.allowMixedContent=Boolean(i.allowMixedContent),i.persistVolume=Boolean(i.persistVolume),i.liveOffset=function(t){return Number(t)||void 0}(i.liveOffset),i.hlsDateRange=function(t){return Boolean(t)}(i.hlsDateRange),i.retainPlaybackRateOnSourceChange=Boolean(i.retainPlaybackRateOnSourceChange),i.license=function(t){return ae(t)?t:void 0}(i.license),i.licenseUrl=function(t){if(!t)return;try{return _a(t)}catch(t){return void lg.Pv("Invalid 'licenseUrl', falling back to default URL")}}(i.licenseUrl),i.vr=function(t){return{useWebXR:Boolean(t&&t.useWebXR)}}(i.vr),i.abr=Ps(i.abr),i.retryConfiguration=function(t){const i=At({},qv);return void 0!==t&&(void 0!==t.maxRetries&&(i.maxRetries=Number(t.maxRetries)),void 0!==t.minimumBackoff&&(i.minimumBackoff=Number(t.minimumBackoff)),void 0!==t.maximumBackoff&&(i.maximumBackoff=Number(t.maximumBackoff))),i}(i.retryConfiguration),i.hideDeprecationWarnings=Boolean(i.hideDeprecationWarnings),i.theoLive=function(t){if(!t)return t;return At({},t,{externalSessionId:t.externalSessionId?Oa(t.externalSessionId):void 0,fallbackEnabled:lu(t.fallbackEnabled)})}(i.theoLive),i}function Kv(t){return{j_:t.j_,ct:t.ct,R_:t.R_,lt:t.lt,F_:t.F_,Z_:t.Z_,hg:t.hg,ag:t.ag,vg:t.vg,Tg:t.Tg,Ig:t.Ig,Lg:t.Lg,xg:t.xg}}function Jv(t,i){const e=i.xg,s=i.Z_;t.xg=e,t.Z_=s}function $a(t,i,e){if(i===e)return;const s=i.j_,n=i.ct,r=i.Z_,h=i.hg,o=i.ag,a=i.vg,u=i.Tg,c=(i.Lg,i.Ig,i.xg),l=e.j_,d=e.ct,f=e.R_,_=e.F_,g=e.Z_,w=e.hg,A=e.ag,v=e.vg,m=e.Tg,p=(e.Lg,e.Ig,e.xg);a!==ov.tN&&t.Co(new Wv(l,v)),w&&!h?t.Co(new ws(l)):!w&&h&&t.Co(new fh(l)),v>=ov.Gn&&t.Co(new cs(l,v)),d===n||j(d)&&j(n)||t.Co(new Tn(d)),A!==o&&t.Co(new Jh(l,A)),l!==s&&t.Co(new jc(l,void 0)),f&&t.Co(new ys(l)),v>=ov.iN&&t.Co(new rs(l,v)),m&&!u?t.Co(new Sa(l)):!m&&u&&t.Co(new $s(l)),p===c&&g===r||t.Co(new Oe(l,p)),v>=ov.eN&&t.Co(new M(l,v)),v>=ov.sN&&t.Co(new fs(l,v)),v!==a&&t.Co(new Vs(l,v)),_&&t.Co(new pe(_))}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Hv||(Hv={})),r();var zt=class extends Ag{constructor(i){super(t.IA),this.currentSource=i}};r();var ai=class extends Ag{constructor(){super(t.CA)}};r();var us=class extends Ag{constructor(){super(t.OA)}},$v=class extends Go{I_(){return this.nN}get G_(){return this.V_()}V_(){return this.rN}Dg(){return this.Dl}Eg(){return this.hN}oN(t){const i=this.S_;if(i===t)return;i.N_(this.iw);const e=Kv(this),s=this.O_(),n=this.Rg(),r=this.Ug();this.S_=t,this.nN.Pw=t.ht,this.hN.Pw=t.rt,this.Dl.Pw=t.nt,this.rN.Pw=t.G_,void 0!==e&&$a(this,e,this);const h=this.O_();h!==s&&this.Co(new zt(h)),this.Rg()!==n&&this.Co(new ai),this.Ug()!==r&&this.Co(new us),t.m_(this.iw)}async gn(){await super.gn(),this.nN.gn(),this.hN.gn(),this.Dl.gn(),this.rN.gn()}constructor(t){super(t),this.nN=new we,this.hN=new we,this.Dl=new Yu,this.rN=new Jo,this.nN.Pw=t.ht,this.hN.Pw=t.rt,this.Dl.Pw=t.nt,this.rN.Pw=t.G_}};r();var Bt,tm=class extends $v{X_(){return function(t){let i=0,e=0,s=0,n=0,r=0,h=0,o=0;for(const a of t)i+=a.aN,e+=a.uN,s+=a.cN,n+=a.lN,r+=a.dN,h+=a.fN.amountOfBufferedAudioSegments,o+=a.fN.amountOfBufferedVideoSegments;return{aN:i,uN:e,cN:s,lN:n,dN:r,fN:{amountOfBufferedAudioSegments:h,amountOfBufferedVideoSegments:o}}}(this._N.map((t=>t.q_)))}Wg(){return yl(this._N.map((t=>t.Wg()))).then(xs)}Zn(){return yl(this._N.map((t=>t.Zn()))).then(xs)}Yg(){if(!this.bo){for(const t of this._N)t.Yg();this.bo=!0}}E_(){const t=[];for(const i of this._N)t.push(...i.E_());return t}Jg(t){let i=!1;for(const e of this._N)i=e.Jg(t)||i;return i}Co(t){this.Jg(t)||super.Co(t)}get Pw(){return this.S_}set Pw(t){this.oN(t)}gN(t){this._N.push(t)}wN(t){Et(this._N,t)}oN(t){if(t===this.S_)return;const i=this.S_;i.Fg(),super.oN(t),t.Qg(i)}Zg(){for(const t of this._N)t.Zg()}async gn(){this.Vo(),this.S_.Fg();for(const t of this._N)this.S_!==t&&await t.gn();await super.gn()}constructor(t){super(t),this._N=[],this.bo=!1,this.AN=!1,this.gN(t)}};r(),function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Bt||(Bt={}));var uc=class extends Bc{get name(){return"MediaError"}constructor(t,i,e,s){super(i),this.code=t,this.message=null!=i?i:"Unknown error",this.cause=e,this.systemCode=s,b.captureStackTrace&&b.captureStackTrace(this,this.constructor)}};function im(t){zc(t,"MEDIA_ERR_ABORTED",1),zc(t,"MEDIA_ERR_NETWORK",2),zc(t,"MEDIA_ERR_DECODE",3),zc(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),zc(t,"MEDIA_ERR_ENCRYPTED",5)}function ne(t){var i,e;return function(t){return t.category===Th.CONTENT_PROTECTION}(t)?new uc(5,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new uc(em(t.code),t.message,null==(e=t.cause)?void 0:e.message)}function em(t){if(t===p_.MEDIA_ABORTED)return 1;if(t===p_.MANIFEST_LOAD_ERROR||t===p_.MEDIA_LOAD_ERROR||t===p_.SUBTITLE_LOAD_ERROR)return 2;if(t===p_.MEDIA_DECODE_ERROR)return 3;if(t===p_.MEDIA_NOT_SUPPORTED)return 4;const i=Th.fromCode(t);return i===Th.NETWORK?2:i===Th.SOURCE?4:i===Th.LICENSE?6:i===Th.CONTENT_PROTECTION?5:i===Th.AD?7:3}function _s(t){return new ce(sm(t.code),t.message,t)}function sm(t){switch(t){case 1:return p_.MEDIA_ABORTED;case 2:return p_.NETWORK_ERROR;case 3:return p_.MEDIA_DECODE_ERROR;case 4:return p_.SOURCE_NOT_SUPPORTED;case 5:return p_.CONTENT_PROTECTION_ERROR;case 6:return p_.LICENSE_ERROR;case 7:return p_.AD_ERROR}}im(uc),im(uc.prototype),r(),r(),r(),r(),r();var jn=class extends Di{tt(t){return super.tt(t)}fa(){return Pg(this)}};r(),r(),r(),r();var nm=class{get xw(){return this.vN}get U(){return this.vN.length}get va(){return this.Xa||(this.Xa=function(t){const i=t.xw.map((t=>t.va));return i.item=i=>{const e=0|i,s=t.jw(e);return s&&s.va||void 0},i}(this)),this.Xa}mN(t){this.vN.push(t),this.Xa&&this.Xa.push(t.va)}pN(t){Et(this.vN,t),this.Xa&&Et(this.Xa,t.va)}jw(t){return this.vN[t]}yN(t){return pi(t)?function(t,i){for(const e of i)if(!ea(t,e))return!1;return!0}(this.vN,t):ea(this.vN,t)}Zn(){Ri(this.vN),this.Xa&&Ri(this.Xa)}constructor(){this.vN=[],this.Xa=void 0}};r();var Ln=class extends yo{fa(){return new rm(this.Lt.va)}constructor(t){super(Os.Iw),this.Lt=t}},rm=class extends te{constructor(t){super("update"),this.track=t}};r();var hm=0;function om(){return hm++}var am=0;var um=0;function cm(){return um++}var lm=0;function dm(){return lm++}var fm=0;var _m=class extends i{get Gw(){}get Rt(){return this.Le}set Rt(t){this.Le!==t&&(this.Le=t,this.MN=t,this.Co(new Kr(this)))}get MN(){return this.TN.enabled}set MN(t){this.TN.enabled=t}get va(){return this.Xa||(this.Xa=Ei(this)),this.Xa}get o(){return this.NN}get Vw(){return this.DN}get zt(){return this.TN.kind}get kh(){return this.IN}set kh(t){t!==this.IN&&(this.IN=t,this.Co(new Ln(this)))}get gs(){return this.TN.language}get eA(){return this.Rt?"enabled":"disabled"}get SN(){return this.TN}get Hw(){return this.vN}get qw(){}set qw(t){}EN(t){this.Rt=t}bN(){this.Rt=this.MN}constructor(t){super(),this.hA=rv.mp,this.Le=!1,this.Xa=void 0,this.TN=t,this.DN=om(),this.NN=fm+++"",this.IN=t.label,this.vN=new nm,this.bN()}};r();var gm=0;var wm=class extends i{get Gw(){}get Rt(){return this.Le}set Rt(t){this.Le!==t&&(this.Le=t,this.MN=t,this.Co(new Kr(this)))}get MN(){return!!this.TN.selected}set MN(t){this.TN.selected=t}get va(){return this.Xa||(this.Xa=Ei(this)),this.Xa}get o(){return this.NN}get Vw(){return this.DN}get zt(){return"main"}get kh(){return this.IN}set kh(t){t!==this.IN&&(this.IN=t,this.Co(new Ln(this)))}get gs(){return this.TN.language}get eA(){return this.Rt?"enabled":"disabled"}get SN(){return this.TN}get Hw(){return this.vN}get qw(){}set qw(t){}bN(){this.Rt=this.MN}EN(t){this.Rt=t}constructor(t){super(),this.hA=rv.vp,this.Le=!1,this.Xa=void 0,this.TN=t,this.DN=om(),this.NN=gm+++"",this.vN=new nm,this.IN=t.label,this.bN()}};r();var Q,ou,Am=class extends Ag{constructor(i){super(t.pA),this.W_=i}};r(),r(),function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Q||(Q={})),r(),r(),function(t){t.LN="cue",t.kN="region",t.CN="stylesheet"}(ou||(ou={})),r(),r();var Cl,vm={"line-left":"start",center:"middle","line-right":"end"},mm={start:"line-left",middle:"center",end:"line-right"};function pm(t,i){if("auto"===t)switch(i){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function ym(t,i){if("auto"===t)switch(i){case"left":return 0;case"right":return 100;default:return 50}return function(t,i){const e="number"==typeof t?t:S(t);return j(e)?i:e}(t,50)}r(),r(),r(),function(t){t.xN="mo",t.ON="So",t.Iw="Qn"}(Cl||(Cl={}));var Xa=class extends yo{constructor(t,i){super(t),this.jN=i}},Ua=class extends te{constructor(t,i){super(t),this.cue=i}};function Rh(t){const i=[Cl.xN,Cl.ON,Cl.Iw];let e;const s={get track(){return t.Lt.va},get id(){return t.o},get uid(){return t.Vw},get startTime(){return t.zN},set startTime(i){t.zN=i},get endTime(){return t.PN},set endTime(i){t.PN=i},get content(){return t.O},addEventListener(t,i){const s=As(t,Oa);e.yn(s,i)},removeEventListener(t,i){const s=As(t,Oa);e.fn(s,i)}};return e=new mt(s),t.yn(i,(t=>e.Co(t.va))),s}function Mm(){}function Tm(t){return Ru(Rh(t),{get align(){return t.BN},get line(){return t.RN},get lineAlign(){return t.UN},get position(){return t.po},get positionAlign(){return t.QN},get region(){return t.FN?t.FN.va:null},get size(){return t.ey},get snapToLines(){return t.YN},get text(){return t.O},get vertical(){return t.Pt}})}r(),r();var gu=class extends Xa{fa(){return new Nm(this.jN.va)}constructor(t){super(Cl.Iw,t)}},Nm=class extends Ua{constructor(t){super("update",t)}};r();var Da=class extends yo{fa(){return new Dm(this.jN.va)}constructor(t){super(Os.dw),this.jN=t}},Dm=class extends te{constructor(t){super("updatecue"),this.cue=t}},Im=.02;function Sm(t,i){return Va(t.GN,i.GN,Im)&&Va(t.VN,i.VN,Im)&&t.o===i.o}var gn=class extends i{get zN(){return this.WN}set zN(t){var i,e;this.WN!==t&&(this.WN=t,null==(i=this.HN)||i.qN(this),this.Co(new gu(this)),null==(e=this.HN)||e.Co(new Da(this)))}get PN(){return this.XN}set PN(t){var i,e;this.XN!==t&&(this.XN=t,null==(i=this.HN)||i.qN(this),this.Co(new gu(this)),null==(e=this.HN)||e.Co(new Da(this)))}get o(){return this.NN}get Vw(){return this.DN}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){return Rh(this)}get ro(){return this.ho}set ro(t){this.ho=t}get Lt(){return this.HN}set Lt(t){this.HN=t}get O(){return this.ZN}set O(t){var i;this.ZN!==t&&(this.ZN=t,this.Co(new gu(this)),null==(i=this.HN)||i.Co(new Da(this)))}get KN(){return this.JN}set KN(t){this.JN=t}$N(t){return this===t||Sg(this,t)&&Sm(this,t)&&this.tD(t)}tD(t){return Ah(this.O,t.O)}iD(t,i){this.WN=t,this.XN=i,this.GN=t,this.VN=i}gn(){this.Vo()}constructor(t,i,e,s,n){super(),this.Xa=void 0,this.HN=void 0,this.ho=!1,this.eD=-1,this.DN=dm(),this.WN=t,this.XN=i,this.GN=t,this.VN=i,this.ZN=e,this.JN=Boolean(s),this.NN=null!=n?n:""}};function Em(t,i){return t.O===i.O&&t.RN===i.RN&&t.UN===i.UN&&t.po===i.po&&t.QN===i.QN&&t.FN===i.FN&&t.YN===i.YN&&t.ey===i.ey&&t.BN===i.BN&&t.Pt===i.Pt}var bm=class extends gn{get va(){return this.Xa||(this.Xa=Tm(this)),this.Xa}get hA(){return ou.LN}tD(t){return Em(this,t)}constructor(t,i,e,s,n){super(t,i,e,s,n),this.RN="auto",this.UN="start",this.po="auto",this.QN="auto",this.FN=void 0,this.YN=!0,this.ey=100,this.BN="center",this.Pt=""}};function qs(t){const i=t.RN,e=R_(i);return e&&!t.YN&&(i<0||i>100)?100:e?Number(i):t.YN?-1:100}function Lm(t){return ym(t.po,t.BN)}function km(t){return pm(t.QN,t.BN)}function Cm(t){const i=km(t),e=Lm(t);let s;switch(i){case"line-left":s=100-e;break;case"line-right":s=e;break;case"center":s=e<=50?2*e:2*(100-e)}return x.min(t.ey,s)}function xm(t){return{get id(){return t.o},get identifier(){return t.o},get lines(){return t.sD},get regionAnchorX(){return t.nD},get regionAnchorY(){return t.rD},get scrollValue(){return t.hD},get viewportAnchorX(){return t.oD},get viewportAnchorY(){return t.aD},get width(){return t.ji}}}r(),r();var Om=class{get va(){return this.Xa||(this.Xa=xm(this)),this.Xa}get hA(){return ou.kN}constructor(t,i,e,s,n,r,h,o){this.o=t,this.ji=i,this.sD=e,this.nD=s,this.rD=n,this.oD=r,this.aD=h,this.hD=o}};r(),r();var jm=1e6,zm=class{uD(t){return this.cD()*t}lD(t){return this.dD(t)>0}fD(t){return this.dD(t)>=0}_D(t,i){return this.wD(t).gD(i)}$N(t){return 0===this.dD(t)}vD(t){return this.dD(t)<0}gD(t){return this.dD(t)<=0}mD(){return this.pD()?this.yD():this}MD(t){return this.mN(t.yD())}wD(t){return this.MD(t).mD()}};function Pm(t,i){return t.TD()?i.TD()?Po.Zr:Po.Wf:i.TD()?Po.Hf:t.ND()?i.ND()&&t.pD()===i.pD()?Po.Zr:t.pD()?Po.Hf:Po.Wf:i.pD()?Po.Wf:Po.Hf}r(),r();var Bm=4294967296,Rm=Bm*Bm,Um=Rm*Rm,Qm=Um/2,is=class t{static DD(i,e,s){return s?new t(i.toUnsigned(),e.toUnsigned()):new t(i.toSigned(),e.toSigned())}static SD(i){return i.unsigned?new t(i,Ce.UZERO):new t(i,i.isNegative()?Ce.NEG_ONE:Ce.ZERO)}static ED(i,e){if(j(i))return e?t.bD:t.LD;if(e){if(i<0)return t.bD;if(i>=Um)return t.kD}else{if(i<=-Qm)return t.CD;if(i+1>=Qm)return t.xD}return i<0?t.ED(-i,e).yD():t.DD(Ce.fromNumber(i%Rm),Ce.fromNumber(i/Rm),e)}OD(){return this.jD.unsigned}zD(){return this.PD.isZero()&&this.jD.isZero()}pD(){return this.jD.isNegative()}BD(){return this.OD()?t.DD(this.PD,this.jD,!1):this}RD(){return this.OD()?this:t.DD(this.PD,this.jD,!0)}UD(){return this.PD}cD(){return this.pD()?-this.yD().cD():this.jD.toNumber()*Rm+this.PD.toUnsigned().toNumber()}QD(){return this.PD.toInt()}$N(t){return(this.OD()===t.OD()||this.jD.getHighBits()>>>31!=1||t.jD.getHighBits()>>>31!=1)&&(this.jD.toUnsigned().eq(t.jD.toUnsigned())&&this.PD.toUnsigned().eq(t.PD.toUnsigned()))}dD(t){if(this.$N(t))return Po.Zr;const i=this.pD(),e=t.pD();if(i&&!e)return Po.Hf;if(!i&&e)return Po.Wf;if(!this.OD())return this.MD(t).pD()?Po.Hf:Po.Wf;const s=this.RD(),n=t.RD(),r=n.jD.comp(s.jD);return r>0||0===r&&n.PD.gt(s.PD)?Po.Hf:Po.Wf}vD(t){return this.dD(t)<0}gD(t){return this.dD(t)<=0}FD(t){return this.dD(t)>0}YD(t){return this.dD(t)>=0}GD(){return new t(this.PD.not(),this.jD.not())}VD(i){return new t(this.PD.and(i.PD),this.jD.and(i.jD))}WD(i){return new t(this.PD.or(i.PD),this.jD.or(i.jD))}HD(i){const e=127&i;return 0===e?this:e<64?t.DD(this.PD.shl(e),this.jD.shl(e).or(this.PD.shru(64-e)),this.OD()):t.DD(Ce.ZERO,this.PD.shl(e-64),this.OD())}qD(i){const e=127&i;return 0===e?this:e<64?t.DD(this.PD.shru(e).or(this.jD.shl(64-e)),this.jD.shr(e),this.OD()):t.DD(this.jD.shr(e-64),this.jD.isNegative()?Ce.NEG_ONE:Ce.ZERO,this.OD())}XD(i){const e=127&i;return 0===e?this:e<64?t.DD(this.PD.shru(e).or(this.jD.shl(64-e)),this.jD.shru(e),this.OD()):64===e?t.DD(this.jD,Ce.ZERO,this.OD()):t.DD(this.jD.shru(e-64),Ce.ZERO,this.OD())}mN(i){const e=this.jD.high>>>16,s=65535&this.jD.high,n=this.jD.low>>>16,r=65535&this.jD.low,h=this.PD.high>>>16,o=65535&this.PD.high,a=this.PD.low>>>16,u=65535&this.PD.low,c=i.jD.high>>>16,l=65535&i.jD.high,d=i.jD.low>>>16,f=65535&i.jD.low,_=i.PD.high>>>16,g=65535&i.PD.high,w=i.PD.low>>>16;let A=0,v=0,m=0,p=0,y=0,M=0,T=0,N=0;N+=u+(65535&i.PD.low),T+=N>>>16,N&=65535,T+=a+w,M+=T>>>16,T&=65535,M+=o+g,y+=M>>>16,M&=65535,y+=h+_,p+=y>>>16,y&=65535,p+=r+f,m+=p>>>16,p&=65535,m+=n+d,v+=m>>>16,m&=65535,v+=s+l,A+=v>>>16,v&=65535,A+=e+c,A&=65535;const D=this.OD(),I=Ce.fromBits(m<<16|p,A<<16|v,D),S=Ce.fromBits(T<<16|N,y<<16|M,D);return t.DD(S,I,D)}MD(t){return this.mN(t.yD())}yD(){return this.GD().mN(t.ZD)}KD(i){if(this.zD()||i.zD())return this.OD()?t.bD:t.LD;if(this.pD())return i.pD()?this.yD().KD(i.yD()):this.yD().KD(i).yD();if(i.pD())return this.KD(i.yD()).yD();if(this.jD.isZero()&&0===this.PD.high&&i.jD.isZero()&&0===i.PD.high)return t.SD(this.PD.multiply(i.PD));const e=Ce.fromBits(4294967295,0,!0),s=this.PD.and(e),n=this.PD.shru(32),r=this.jD.and(e),h=this.jD.shru(32),o=i.PD.and(e),a=i.PD.shru(32),u=i.jD.and(e),c=i.jD.shru(32);let l=Ce.UZERO,d=Ce.UZERO,f=Ce.UZERO,_=Ce.UZERO;l=l.add(s.mul(o)),d=d.add(l.shru(32)),l=l.and(e),d=d.add(n.mul(o)),f=f.add(d.shru(32)),d=d.and(e),d=d.add(s.mul(a)),f=f.add(d.shru(32)),d=d.and(e),f=f.add(r.mul(o)),_=_.add(f.shru(32)),f=f.and(e),f=f.add(n.mul(a)),_=_.add(f.shru(32)),f=f.and(e),f=f.add(s.mul(u)),_=_.add(f.shru(32)),f=f.and(e),_=_.add(h.mul(o)).add(r.mul(a)).add(n.mul(u)).add(s.mul(c)).and(e);const g=Ce.fromBits(l.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0),w=Ce.fromBits(f.getLowBitsUnsigned(),_.getLowBitsUnsigned(),!0);return t.DD(g,w,this.OD())}JD(i){let e,s,n=i;if(n.zD())throw new RangeError("division by zero");if(this.zD())return this.OD()?[t.bD,t.bD]:[t.LD,t.LD];if(this.OD()){if(n.OD()||(n=n.RD()),n.FD(this))return[t.bD,this];if(n.FD(this.XD(1)))return s=t.$D,e=this.MD(n),[s,e];s=t.bD}else{if(this.$N(t.CD)){if(n.$N(t.ZD)||n.$N(t.tI))return[t.CD,t.LD];if(n.$N(t.CD))return[t.ZD,t.LD];{const i=this.qD(1).iI(n).HD(1);return i.$N(t.LD)?s=n.pD()?t.ZD:t.tI:(e=this.MD(n.KD(i)),s=i.mN(e.iI(n))),e=this.MD(n.KD(s)),[s,e]}}if(n.$N(t.CD))return this.OD()?[t.bD,this]:[t.LD,this];if(this.pD())return n.pD()?this.yD().JD(n.yD()):([s,e]=this.yD().JD(n),[s.yD(),e.yD()]);if(n.pD())return[s,e]=this.JD(n.yD()),[s.yD(),e.yD()];s=t.LD}for(e=this;e.YD(n);){let i=x.max(1,x.floor(e.cD()/n.cD()));const r=x.ceil(x.log(i)/x.LN2),h=r<=48?1:2**(r-48);let o=t.ED(i),a=o.KD(n);for(;a.pD()||a.FD(e);)i-=h,o=t.ED(i,this.OD()),a=o.KD(n);o.zD()&&(o=t.ZD),s=s.mN(o),e=e.MD(a)}return[s,e]}iI(t){return this.JD(t)[0]}eI(t){return this.JD(t)[1]}toString(i){const e=i||10;if(e<2||e>36)throw new RangeError("radix");if(this.zD())return"0";if(this.pD()){if(this.$N(t.CD)){const i=t.ED(e),s=this.iI(i),n=s.KD(i).MD(this);return s.toString(e)+n.QD().toString(e)}return"-"+this.yD().toString(e)}const s=t.ED(e**6,this.OD());let n=this,r="";for(;;){const t=n.iI(s);let i=(n.MD(t.KD(s)).QD()>>>0).toString(e);if(n=t,n.zD())return i+r;for(;i.length<6;)i="0"+i;r=String(i)+r}}constructor(t,i){this.PD=t,this.jD=i}};is.LD=is.SD(Ce.ZERO),is.bD=is.SD(Ce.UZERO),is.ZD=is.SD(Ce.ONE),is.$D=is.SD(Ce.UONE),is.tI=is.SD(Ce.NEG_ONE),is.xD=is.DD(Ce.NEG_ONE,Ce.MAX_VALUE,!1),is.kD=is.DD(Ce.MAX_UNSIGNED_VALUE,Ce.MAX_UNSIGNED_VALUE,!0),is.CD=is.DD(Ce.ZERO,Ce.MIN_VALUE,!1),r();var $t=class t{get ND(){return!isFinite(this.sI)}get Kl(){return this.sI/this.zy}static nI(i){return new t(x.ceil(i.sI),i.zy)}static rI(i){return new t(x.floor(i.sI),i.zy)}static hI(t,i){return t.fD(i)?t:i}static oI(t,i){return t.gD(i)?t:i}mN(i){return this.zy>=i.zy?new t(this.sI+i.aI(this.zy).sI,this.zy):new t(this.aI(i.zy).sI+i.sI,i.zy)}lD(t){return t.vD(this)}fD(t){return t.gD(this)}wD(i){if(this.zy>=i.zy){const e=x.abs(this.sI-i.aI(this.zy).sI),s=this.zy;return new t(e,s)}return i.wD(this)}_D(t,i){return this.wD(t).gD(i)}dD(t){return function(t,i){return t.zy>=i.zy?H_(t.sI,i.aI(t.zy).sI):H_(t.aI(i.zy).sI,i.sI)}(this,t)}$N(t){return 0===this.dD(t)}vD(t){return this.dD(t)<0}gD(t){return this.dD(t)<=0}aI(i){return new t(this.sI*(i/this.zy),i)}MD(i){return this.zy>=i.zy?new t(this.sI-i.aI(this.zy).sI,this.zy):new t(this.aI(i.zy).sI-i.sI,i.zy)}uI(i){return new t(this.sI*i,this.zy)}constructor(t,i=1){this.sI=t,this.zy=i}};$t.Zl=new $t(1/6,1),$t.LD=new $t(0),$t.cI=new $t(1/0),$t.lI=1e6;var ga=class t extends zm{static dI(i,e){return void 0===e&&(e=jm),t.ED(i*e,e)}static ED(i,e){return j(i)?t.fI:i===1/0?t._I:i===-1/0?t.gI:new t(Ce.fromNumber(i),e)}static SD(i,e){return new t(i,e)}static wI(i){return t.dI(i.Kl,jm)}static AI(i){return new t(Ce.fromNumber(i.getTime()),1e3)}static hI(t,i){return t.fD(i)?t:i}static oI(t,i){return t.gD(i)?t:i}static vI(i,e,s){return t.hI(e,t.oI(s,i))}pD(){return this.ST.isNegative()}zD(){return 0!==this.zy&&this.ST.isZero()}ND(){return 0===this.zy&&!this.ST.isZero()}TD(){return 0===this.zy&&this.ST.isZero()}cD(){if(0===this.zy)return this.ST.isZero()?NaN:this.ST.isNegative()?-1/0:1/0;const t=this.ST.divide(this.zy),i=this.ST.subtract(t.multiply(this.zy));return t.toNumber()+i.toNumber()/this.zy}UD(){if(0===this.zy)throw new b("Failed to convert timestamp");return this.ST}mI(){return new Date(0===this.zy?NaN:this.aI(1e3).ST.toNumber())}pI(){return new $t(0===this.zy?this.cD():this.ST.toNumber(),this.zy)}aI(i,e){void 0===e&&(e=Gu.yI);const s=this.zy;if(s===i)return this;if(0===s)return this;const n=W_(s,i),r=function(t,i,e){const[s,n]=t.JD(i);if(n.zD())return s;if(e===Gu.yI)return n.pD()?s.MD(is.ZD):s;if(e===Gu.MI)return n.pD()?s:s.mN(is.ZD);{const t=n.KD(is.ED(2));return t.pD()?t.yD().vD(i)?s:s.MD(is.ZD):t.vD(i)?s:s.mN(is.ZD)}}(is.SD(this.ST).KD(is.ED(i/n)),is.ED(s/n),e);return new t(r.UD(),i)}dD(t){if(this===t)return Po.Zr;if(0===this.zy||0===t.zy)return Pm(this,t);if(this.zD())return t.zD()?Po.Zr:t.pD()?Po.Wf:Po.Hf;if(t.zD())return this.pD()?Po.Hf:Po.Wf;const i=x.min(this.zy,t.zy),e=this.aI(i,Gu.TI).ST,s=t.aI(i,Gu.TI).ST;return e.compare(s)}yD(){return 0===this.zy?function(t){0;return t.TD()?t:t.pD()?ga._I:ga.gI}(this):new t(this.ST.negate(),this.zy)}mN(i){if(0===this.zy||0===i.zy)return function(t,i){0;if(t.TD()||i.TD())return ga.fI;if(t.ND()&&i.ND())return t.pD()===i.pD()?t:ga.fI;return t.ND()?t:i}(this,i);if(this.zD())return i;if(i.zD())return this;const e=x.max(this.zy,i.zy),s=this.aI(e,Gu.TI),n=i.aI(e,Gu.TI);return new t(s.ST.add(n.ST),e)}KD(i){if(this.TD()||j(i))return t.fI;if(this.ND()||!isFinite(i)){if(this.zD()||0===i)return t.fI;{const e=this.pD()?t.gI:t._I;return i<0?e.yD():e}}return this.zD()?this:new t(0===i?Ce.ZERO:this.ST.multiply(i),this.zy)}iI(i){if(this.TD()||j(i))return t.fI;if(this.ND())return isFinite(i)?0===i?1/i<0?this.yD():this:i<0?this.yD():this:t.fI;if(!isFinite(i))return new t(Ce.ZERO,this.zy);if(this.zD())return 0===i?t.fI:new t(Ce.ZERO,this.zy);if(0===i){const e=this.pD()?t.gI:t._I;return 1/i<0?e.yD():e}return new t(this.ST.divide(i),this.zy)}NI(){return[this.ST.low,this.ST.high,this.zy]}constructor(t,i){super(),this.ST=t.toSigned(),this.zy=i>>>0}};ga.LD=new ga(Ce.ZERO,jm),ga.fI=new ga(Ce.ZERO,0),ga._I=new ga(Ce.ONE,0),ga.gI=new ga(Ce.NEG_ONE,0),r();var Gu,Xt=class t extends zm{static dI(i,e){return void 0===e&&(e=jm),t.ED(i*e,e)}static ED(i,e){return j(i)?t.fI:i===1/0?t._I:i===-1/0?t.gI:new t(BigInt(x.floor(i)),e)}static SD(i,e){return new t(BigInt(i.high)<<BigInt(32)|BigInt(i.low>>>0),e)}static wI(i){return t.dI(i.Kl,jm)}static AI(i){return t.ED(i.getTime(),1e3)}static get LD(){return t.DI||(t.DI=new t(BigInt(0),jm)),t.DI}static get fI(){return t.II||(t.II=new t(BigInt(0),0)),t.II}static get _I(){return t.SI||(t.SI=new t(BigInt(1),0)),t.SI}static get gI(){return t.EI||(t.EI=new t(BigInt(-1),0)),t.EI}static hI(t,i){return t.fD(i)?t:i}static oI(t,i){return t.gD(i)?t:i}static vI(i,e,s){return t.hI(e,t.oI(s,i))}pD(){return this.ST<BigInt(0)}zD(){return 0!==this.zy&&this.ST===BigInt(0)}ND(){return 0===this.zy&&this.ST!==BigInt(0)}TD(){return 0===this.zy&&this.ST===BigInt(0)}cD(){if(0===this.zy)return this.ST===BigInt(0)?NaN:this.ST<BigInt(0)?-1/0:1/0;const t=this.ST/BigInt(this.zy),i=this.ST-t*BigInt(this.zy);return Number(t)+Number(i)/this.zy}UD(){if(0===this.zy)throw new b("Failed to convert timestamp");return this.bI()}bI(){const t=this.ST&BigInt(4294967295),i=this.ST>>BigInt(32)&BigInt(4294967295);return Ce.fromBits(Number(t),Number(i))}mI(){return new Date(0===this.zy?NaN:Number(this.aI(1e3).ST))}pI(){return new $t(0===this.zy?this.cD():Number(this.ST),this.zy)}aI(i,e){void 0===e&&(e=Gu.yI);const s=this.zy;if(s===i)return this;if(0===s)return this;const n=W_(s,i),r=function(t,i,e){const s=t/i,n=t-s*i;if(n===BigInt(0))return s;if(e===Gu.yI)return n<BigInt(0)?s-BigInt(1):s;if(e===Gu.MI)return n<BigInt(0)?s:s+BigInt(1);{const t=n*BigInt(2);return t<BigInt(0)?-t<i?s:s-BigInt(1):t<i?s:s+BigInt(1)}}(this.ST*BigInt(i/n),BigInt(s/n),e);return new t(r,i)}dD(t){if(this===t)return Po.Zr;if(0===this.zy||0===t.zy)return Pm(this,t);if(this.zD())return t.zD()?Po.Zr:t.pD()?Po.Wf:Po.Hf;if(t.zD())return this.pD()?Po.Hf:Po.Wf;const i=x.min(this.zy,t.zy),e=this.aI(i,Gu.TI).ST,s=t.aI(i,Gu.TI).ST;return e>s?Po.Wf:e<s?Po.Hf:Po.Zr}yD(){return 0===this.zy?function(t){0;return t.TD()?t:t.pD()?Xt._I:Xt.gI}(this):new t(-this.ST,this.zy)}mN(i){if(0===this.zy||0===i.zy)return function(t,i){0;if(t.TD()||i.TD())return Xt.fI;if(t.ND()&&i.ND())return t.pD()===i.pD()?t:Xt.fI;return t.ND()?t:i}(this,i);if(this.zD())return i;if(i.zD())return this;const e=x.max(this.zy,i.zy),s=this.aI(e,Gu.TI),n=i.aI(e,Gu.TI);return new t(s.ST+n.ST,e)}KD(i){if(this.TD()||j(i))return t.fI;if(this.ND()||!isFinite(i)){if(this.zD()||0===i)return t.fI;{const e=this.pD()?t.gI:t._I;return i<0?e.yD():e}}return this.zD()?this:new t(0===i?BigInt(0):this.ST*BigInt(i),this.zy)}iI(i){if(this.TD()||j(i))return t.fI;if(this.ND())return isFinite(i)?0===i?1/i<0?this.yD():this:i<0?this.yD():this:t.fI;if(!isFinite(i))return new t(BigInt(0),this.zy);if(this.zD())return 0===i?t.fI:new t(BigInt(0),this.zy);if(0===i){const e=this.pD()?t.gI:t._I;return 1/i<0?e.yD():e}return new t(this.ST/BigInt(i),this.zy)}NI(){const t=this.bI();return[t.low,t.high,this.zy]}constructor(t,i){super(),this.ST=BigInt.asIntN(64,t),this.zy=i>>>0}};Xt.DI=void 0,Xt.II=void 0,Xt.SI=void 0,Xt.EI=void 0,function(t){t[t.yI=0]="yI",t[t.MI=1]="MI",t[t.TI=2]="TI"}(Gu||(Gu={}));var Pt=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Xt:ga;function Fm(t,i){return t.dD(i)}function Wa(t,i){return void 0!==t?void 0!==i?Pt.oI(t,i):t:i}r();var Ym=9e4,zo=Sl((()=>Pt.ED(8589934592,Ym))),Gm=Sl((()=>zo().iI(2)));r();var Ss={LI:0,kI:1/0,CI:0},Vm=6,Wm=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],Hm=[" ","\t","\n","\f","\r"],qm=/^\d*$/,Xm=/.*[0-9]+.*/,Zm=/^[\d.-]+$/,Km=/(^\.|\.$)/,Jm=/(\D\.|\.\D)/;function $m(t,i){void 0===i&&(i=Ss);return tp(VA(Mo(t),new Or),i)}function tp(t,i){void 0===i&&(i=Ss);const e={L:[],xI:[],OI:[]},s=ip(t),n=new Or;if(lp(s),du(s,(t=>"\n"!==t),n),n.Ku>=s.length)return e;if(n.Np(1),"\n"!==s.charAt(n.Ku)){hp(ep(s,n,false,!0,e,i),e)}else n.Np(1);for(du(s,(t=>"\n"===t),n);n.Ku<s.length;){hp(ep(s,n,false,!1,e,i),e),du(s,(t=>"\n"===t),n)}return e}function ip(t){const i=$g(t,"\0"," "),e=$g(i,"\r\n","\n");return $g(e,"\r","\n")}function du(t,i,e){const s=e.Ku;for(;e.Ku<t.length&&i(t.charAt(e.Ku));)e.Np(1);return t.substring(s,e.Ku)}function ep(t,i,e,s,n,r){let h,o=0,a=i.Ku,u="",c=!1,l=!1,d=null,f=null,_=null;for(;!c;)if(h=du(t,(t=>"\n"!==t),i),o++,i.Ku>=t.length?c=!0:i.Np(1),oo(h,"--\x3e")){if(s||1!==o&&(2!==o||l)){i.Dp(a);break}l=!0,a=i.Ku,d=new bm(0,0,"",!1,u);try{op(h,n.xI,d,r),u=""}catch(t){lg.Pv(t),d=null}}else{if(""===h)break;s&&tw(h,"X-TIMESTAMP-MAP")&&(n.jI=sp(h)),s||2!==o||e||(Wi("STYLE",u.replace(/ /g,""))?(f={hA:ou.CN},u=""):Wi("REGION",u.replace(/ /g,""))&&(_=new Om("",100,3,0,100,0,100,""),u="")),u&&(u+="\n"),u+=h,a=i.Ku}if(d)return d.O=u,d;if(f);else if(_)return function(t,i){const e=t.split(/\s/),s=":";for(const t of e)if(0!==t.length&&oo(t,s)&&t.charAt(0)!==s&&t.charAt(t.length-1)!==s){const e=t.indexOf(s),n=t.substring(0,e),r=t.substring(e+1,t.length);switch(n.toUpperCase()){case"ID":Tp(r,i);break;case"WIDTH":Ip(r,i);break;case"LINES":Dp(r,i);break;case"REGIONANCHOR":{const t=Mp(r);t&&(i.nD=t[0],i.rD=t[1]);break}case"VIEWPORTANCHOR":{const t=Mp(r);t&&(i.oD=t[0],i.aD=t[1]);break}case"SCROLL":Np(r,i)}}}(u,_),_;return null}function sp(t){const i=t.split("=")[1].trim().split(","),e=rp(i[0].trim(),"MPEGTS")?i[0]:i[1],s=rp(i[0].trim(),"LOCAL")?i[0]:i[1];var n;return{zI:np(Number(e.split(/:(.*)/)[1].trim())||0),lh:Pt.dI(null!=(n=Ba(s.split(/:(.*)/)[1].trim(),new Or))?n:0)}}function np(t){return Pt.ED(t,Ym)}function rp(t,i){return tw(t,i)}function hp(t,i){t&&function(t){return"cue"===t.hA}(t)?i.L.push(t):t&&function(t){return"region"===t.hA}(t)?i.xI.push(t):t&&function(t){return"stylesheet"===t.hA}(t)&&i.OI.push(t)}function op(t,i,e,s){const n=new Or;fp(t,n);const r=ap(Ba(t,n),s);if(fp(t,n),"--\x3e"!==t.substring(n.Ku,n.Ku+3))throw b("Something went wrong with parsing a WebVTT Cue");n.Np(3),fp(t,n);const h=ap(Ba(t,n),s);e.iD(r,h);!function(t,i,e){const s=t.split(/\s/),n=":";for(const t of s)if(0!==t.length&&oo(t,n)&&t.charAt(0)!==n&&t.charAt(t.length-1)!==n){const s=t.indexOf(n),r=t.substring(0,s),h=t.substring(s+1,t.length);switch(r.toUpperCase()){case"REGION":vp(h,i,e);break;case"VERTICAL":pp(h,i);break;case"D":yp(h,i);break;case"LINE":case"L":wp(h,i);break;case"POSITION":case"T":Ap(h,i);break;case"SIZE":case"S":mp(h,i);break;case"ALIGN":case"A":gp(h,i)}}}(t.substring(n.Ku,t.length),e,i)}function ap(t,i){return t+i.LI}function up(t){return/^[0-9]$/.test(t)}function Ba(t,i){const e=$g(t,",",".");let s,n,r,h=!1;if(i.Ku>=e.length||!up(e.charAt(i.Ku)))throw new b("Something went wrong with parsing a WebVTT Cue timestamp");const o=du(e,up,i),a=C(o,10);if((o.length>2||a>59)&&(h=!0),i.Ku>=e.length||":"!==e.charAt(i.Ku))throw new b("Something went wrong with parsing a WebVTT Cue timestamp");i.Np(1);const u=du(e,up,i);if(2!==u.length)throw new b("Something went wrong with parsing a WebVTT Cue timestamp");const c=C(u,10);if(h||i.Ku<e.length&&":"===e.charAt(i.Ku)){if(i.Ku>=e.length||":"!==e.charAt(i.Ku))throw new b("Something went wrong with parsing a WebVTT Cue timestamp");i.Np(1);const t=du(e,up,i);if(2!==u.length)throw new b("Something went wrong with parsing a WebVTT Cue timestamp");s=a,n=c,r=C(t,10)}else s=0,n=a,r=c;if(i.Ku>=e.length||"."!==e.charAt(i.Ku))throw new b("Something went wrong with parsing a WebVTT Cue timestamp");i.Np(1);const l=du(e,up,i),d=C(l,10);if(c>59||r>59)throw new b("Something went wrong with parsing a WebVTT Cue timestamp");return 60*s*60+60*n+r+d/1e3}function cp(t){return lp(ip(t))}function lp(t){if(t.length<Vm)return!1;for(const i of Wm)if(tw(t,i))return!0;return!1}function dp(t){return ea(Hm,t)}function fp(t,i){for(;i.Ku<t.length&&dp(t.charAt(i.Ku));)i.Np(1)}function _p(t){const i=t.lastIndexOf("%");if(i>-1){const e=S(t.substring(0,i));if(!j(e)&&e>=0&&e<=100)return e}return null}function gp(t,i){const e=t.toLowerCase();switch(e){case"start":case"center":case"end":case"left":case"right":i.BN=e;break;case"middle":i.BN="center"}}function wp(t,i){let e,s;const n=t.indexOf(",");if(n>=0?(e=t.substring(0,n),s=t.substring(n+1,t.length)):(e=t,s=""),!Xm.test(e))return;let r,h;if(Ph(e,"%")){const t=_p(e);if(null===t)return;r=t,h=!1}else{if(!Zm.test(e)||e.lastIndexOf("-")>0)return;const t=e.indexOf(".");if(t>=0&&(t!==e.lastIndexOf(".")||!Jm.test(e)||Km.test(e)))return;if(r=S(e),j(r))return;h=!0}switch(i.RN=r,i.YN=h,s=s.toLowerCase(),s){case"start":case"center":case"end":i.UN=s;break;case"middle":i.UN="center"}}function Ap(t,i){let e,s;const n=t.indexOf(",");n>=0?(e=t.substring(0,n),s=t.substring(n+1,t.length)):(e=t,s="");const r=_p(e);if(null!==r)switch(i.po=r,s=s.toLowerCase(),s){case"line-left":case"center":case"line-right":case"auto":i.QN=s;break;case"start":i.QN="line-left";break;case"middle":i.QN="center";break;case"end":i.QN="line-right"}}function vp(t,i,e){const s=K_(e,(i=>i.o===t));void 0!==s&&(i.FN=s)}function mp(t,i){const e=_p(t);null!==e&&(i.ey=e)}function pp(t,i){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":i.Pt="rl";break;case"lr":case"vertical:lr":case"vertical-lr":i.Pt="lr";break;default:i.Pt=""}}function yp(t,i){"VERTICAL"===t.toUpperCase()?i.Pt="rl":"VERTICAL-LR"===t.toUpperCase()&&(i.Pt="lr")}function Mp(t){if(t.indexOf(",")>=0){const i=_p(t.substring(0,t.indexOf(","))),e=_p(t.substring(t.indexOf(",")+1,t.length));return[Sc(i||0,0,100),Sc(e||100,0,100)]}return null}function Tp(t,i){i.o=t}function Np(t,i){"up"===t.toLowerCase()&&(i.hD="up")}function Dp(t,i){qm.test(t)&&(i.sD=C(t))}function Ip(t,i){const e=_p(t);null!==e&&(i.ji=e)}function Sp(t){return t&&"BI"in t?t.BI:t}r(),r(),r();var oi,Ep=class extends gn{get RI(){return this.UI}get xI(){return this.QI}get FI(){return this.YI}get va(){return this.Xa||(this.Xa=function(t){return Ru(Rh(t),{get styles(){return t.RI},get regions(){return t.xI},get metadata(){return Sp(t.FI)},get content(){return Sp(t.O)}})}(this)),this.Xa}tD(t){return!!Ah(this.RI,t.RI)&&(!!Ah(this.xI,t.xI)&&(this.FI&&t.FI?!!this.FI.GI(t.FI)&&(this.O&&t.O?this.O.GI(t.O):this.O===t.O):this.FI===t.FI))}constructor(t,i,e,s,n,r,h){super(t,i,e,s),this.UI=n,this.QI=r,this.YI=h||void 0}};function ps(t){return 1===t.VI}function bp(t){return 3===t.VI}r(),r(),function(t){t[t.WI=1]="WI",t[t.HI=2]="HI",t[t.Ru=3]="Ru",t[t.qI=4]="qI",t[t.XI=9]="XI"}(oi||(oi={}));var Lp=class{get ZI(){return this.Ef.KI(!0)}get zN(){return this.JI}get PN(){return this.$I}constructor(t,i,e){this.JI=t,this.$I=i,ps(e)?this.Ef=function(t,i,e){for(const t of["begin","end","dur"])e.tS(t);return e}(0,0,e):this.Ef=e}};r();var Ml={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_WEBM:"video/webm",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_WEBM:"audio/webm",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function fe(t){return oo(t,Ml.APPLICATION_MP4)||oo(t,Ml.VIDEO_MP4)||oo(t,Ml.AUDIO_MP4)}function kp(t){return oo(t,Ml.VIDEO_WEBM)||oo(t,Ml.AUDIO_WEBM)}var Cp=class{iS(t){for(const[i,e]of this.eS)if(i.toLowerCase()===t.toLowerCase())return e}constructor(t,i){this.hA=t,this.eS=i}};function xp(t){const i=t.trim(),e=i.indexOf(";");if(e<0)return new Cp(i,[]);const s=i.substr(0,e).trim(),n=i.substr(e+1).trim(),r=[];let h=0,o=!1;for(let t=0;t<n.length;t++){const i=n[t];if(o||";"!==i)'"'===i&&(o=!o);else{const i=Op(n.substr(h,t));i&&r.push(i),h=t+1}}if(h!==n.length){const t=Op(n.substr(h));t&&r.push(t)}return new Cp(s,r)}function Op(t){const i=t.indexOf("=");if(i<0)return;const e=t.substr(0,i).trim();let s=t.substr(i+1).trim();return'"'===s[0]&&(s=s.substring(1,s.length-1)),[e,s]}function jp(t){const i=t.trim(),e=i.indexOf(";");return e<0?i:i.substr(0,e).trim()}function zp(t){let i=t;const e=i.match(/^avc1\.(\d+)\.(\d+)$/);if(e){const t=Number(e[1]),s=Number(e[2]);i="avc1."+fa((t<<16|s).toString(16),6,"0")}return i}r();var Pp="http://www.w3.org/XML/1998/namespace";function Bp(t,i,e,s){let n=t.sS(e,i);return 0===n.length&&(n=t.nS(s+":"+i)),n}function Rp(t){const i={};for(const e of t.rS)i[e.hS]=e.ST;return i}var Up=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Qp=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Su="http://www.w3.org/ns/ttml";function Fp(t,i,e,s){void 0===e&&(e=Ss),void 0===s&&(s=Ml.APPLICATION_TTML_XML);let n=[];const r=Mo(t);return s===Ml.APPLICATION_MP4?n=function(t,i,e){const s=Qi.wy(t),n=JA(s,Wr.cp);if(!n)return[];return Vp(Mo(n.Cp),i,e)}(r,i,e):s===Ml.APPLICATION_TTML_XML&&(n=Vp(r,i,e)),n}function Yp(t,i,e){return void 0===e&&(e=Ss),Wp(t,i,e)}function Gp(t,i){const e=ty(i.ZI),s={};for(const i of e)s[i]=t[i];return s}function Vp(t,i,e){return Wp(VA(t,new Or),i,e)}function Wp(t,i,e){const s=[];let n;try{n=lg.oS(t)}catch(t){return s}const r=n.aS;if("tt"!==r.hS)return s;const h=r&&r.sS(Su,"head")[0],o=r&&r.sS(Su,"body")[0];if(!o||!h)return s;const a=function(t){const i={},e=t.sS(Su,"styling")[0],s=e&&e.sS(Su,"style")||[];for(const t of s){i[t.uS(Pp,"id")]=Rp(t)}return i}(h),u=function(t){const i={},e=t.sS(Su,"layout")[0],s=e&&e.sS(Su,"region")||[];for(const t of s){const e=t.uS(Pp,"id");if(!e)continue;i[e]=Rp(t);const s=$p(t);for(const t in s)pl.call(s,t)&&(i[e][t]=s[t])}return i}(h),c=function(t,i){const e=se(t),s=Xp(i.cS("tts:extent"));if(!s)return e;for(const t of _.keys(e)){const i=Xp(e[t].extent);if(i){const n=Hp(i[0],s[0]),r=Hp(i[1],s[1]);e[t].extent=n+" "+r}const n=Xp(e[t].origin);if(n){const i=Hp(n[0],s[0]),r=Hp(n[1],s[1]);e[t].origin=i+" "+r}}return e}(u,r),l=h.sS(Su,"metadata")[0],d=Zp(o,e.LI,e.kI,e.CI);for(const t of d){const i=Gp(c,t);s.push(new Ep(t.zN,t.PN,t.ZI,!1,a,i,l))}return s}function Hp(t,i){const e=qp(t),s=qp(i);if(e&&s&&e===s){const n=Number(t.slice(0,-e.length)),r=Number(i.slice(0,-s.length));return j(n)||j(r)?t:n/r*100+"%"}return t}function qp(t){return Ph(t,"px")?"px":Ph(t,"em")?"em":Ph(t,"c")?"c":Ph(t,"%")?"%":void 0}function Xp(t){if(!t)return;const i=t.split(" ");return 2===i.length?[i[0],i[1]]:void 0}function Zp(t,i,e,s){let n,r=i,h=e,o=[];const a=[];if(ps(t)){var u,c;r=null!=(u=Jp(t.cS("begin"),s))?u:r,n=Jp(t.cS("dur"),0),h=null!=(c=Jp(t.cS("end"),s))?c:void 0!==n?r+n:h;const i=t.lS;for(let e=0;e<i.length;e++)("body"===t.hS||"div"===t.hS)&&i[e].VI>1||(o=o.concat(Zp(i[e],r,h,s)))}const l=function(t,i,e){const s=[];s.push(t,i);for(const t of e)s.push(t.zN,t.PN);s.sort(Ee);let n=s.length;for(let t=0;t<n-1;t++)s[t+1]===s[t]&&(Dt(s,t+1),t--,n=s.length);return s}(r,h,o);for(let i=0;i<l.length-1;i++){const e=Kp(l[i],l[i+1],o);if(e.length<=0&&iy(t)){const e=t.KI(!1);a.push(new Lp(l[i],l[i+1],e))}else if(e.length>0){const s=t.KI(!1);e.forEach((t=>s.dS(t.ZI))),a.push(new Lp(l[i],l[i+1],s))}}return a}function Kp(t,i,e){const s=[];for(let n=0;n<e.length;n++){const r=e[n].zN,h=e[n].PN;(r>=t&&h<=i||r<i&&h>=i||r<t&&h>t)&&s.push(e[n])}return s}function Jp(t,i){if(t){if(Up.test(t)){const e=Up.exec(t);if(!e)return;const s=Number(e[1])||0,n=Number(e[2])||0,r=Number(e[3])||0,h=e[6];return 3600*s+60*n+r+(h?Number(h)*.1**h.length:0)+i}if(Qp.test(t)){const e=Qp.exec(t);if(!e)return;const s=Number(e[1]);let n;switch(e[4]){case"h":n=3600*s;break;case"m":n=60*s;break;case"s":n=s;break;case"ms":n=.001*s;break;default:n=NaN}return n+i}}}function $p(t){const i={},e=t.nS("style")||[];for(const t of e){const e=Rp(t);for(const t in e)pl.call(e,t)&&(i[t]=e[t])}return i}function ty(t){let i,e=[];if(ps(t)){i=t.cS("region"),i&&e.push(i);const s=t.lS;for(let t=0;t<s.length;t++)e=e.concat(ty(s[t]))}return e}function iy(t){if(ps(t)){const i=t.hS.toUpperCase(),e=Boolean(t.cS("smpte:backgroundImage"));return"BR"===i||e}return t.VI===oi.Ru}function ey(t){const i=function(t){try{return lg.oS(t).aS}catch(t){}}(t);return"tt"===(null==i?void 0:i.hS)}r(),r();var oa,tn=class extends Di{tt(t){return super.tt(t)}it(t){const i=super.it(t);return i&&(t.eA=go.Ch),i}fa(){return Oc(this)}};r(),r(),function(t){t.pp="subtitles",t.fS="captions",t._S="descriptions",t.Fn="chapters",t.Mp="metadata",t.gS="thumbnails"}(oa||(oa={}));var sy=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function ny(t){return"string"==typeof t&&ea(sy,t)}function ry(t,i){return!(!ny(t)||!ny(i))&&(t===i||"subtitles"===t&&"captions"===i||"captions"===t&&"subtitles"===i)}r();var bs,hy=class extends ce{constructor(t,i,e,s,n){super(t,i,n),this.url=e,this.status=s}};r(),function(t){t.wS="HttpOpenError",t.AS="HttpResponseError",t.vS="HttpTimeoutError"}(bs||(bs={}));var ni=class extends Xo{get mS(){return this.pS}constructor(t,i,e){super(i,e),this.pS=t}};r(),r();var Ke=class extends ni{get name(){return bs.AS}get yS(){return this.MS}constructor(t,i,e){super(t.mS,null!=e?e:function(t){return"Error while loading "+t.mS.zu+", status code "+t.TS}(t),i),this.MS=t}};r();var oy,ee=class extends ni{get name(){return bs.vS}constructor(t,i){super(t,function(t){return"Request for "+t.zu+" timed out after "+t.NS+" seconds."}(t),i)}};function ay(t){return t instanceof ni}function uy(t){return t instanceof Ke}function cy(t){return t===oa.pp||t===oa.fS}function ly(t){return t.some(dy)}function dy(t){return oo(t,"stpp")}function fy(t){return t.some(_y)}function _y(t){return oo(t,"vtt")||oo(t,"wvtt")}function hu(t,i){return fe(t)&&fy(i)}function gy(t,i){return t===oa.gS||t===oa.Mp&&i===oa.gS}function wy(t,i,e,s){for(const n of t.L.xw){if(n.zN>e)break;i<=n.PN&&!ea(s,n)&&s.push(n)}}function Ay(t,i){return qo(t.Vw,i.Vw)}function vy(t,i,e,s){const n=function(t){switch(t){case Ks.WEBVTT:return"WebVTT";case Ks.SRT:return"SRT";case Ks.TTML:return"TTML";default:return""}}(t);return new hy(p_.SUBTITLE_PARSE_ERROR,"Could not parse the "+(n?n+" ":"")+"subtitle file.",i,e,s)}function my(t,i){const e=[];for(const s of t.L.xw)if(s.PN<=i)e.push(s);else if(s.zN>=i)break;for(const i of e)t.DS(i)}function py(t,i){if(t.U>0){const e=10,s=t.Cn(0),n=x.max(0,s-e);for(const t of i)t.IS(n)}}!function(t){t.SS="vtt",t.Km="wvtt",t.ES="stpp"}(oy||(oy={}));var er,si=class extends i{tt(t){t.yn(Os.ra,this.bS),this.Z.tt(t),this.LS(t)}it(t){t.fn(Os.ra,this.bS),t.eA=go.Ch,this.Z.it(t)}kS(t){}CS(t){}LS(t){t.eA!==go.Ch?this.kS(t):this.CS(t)}xS(){for(const t of this.Z.xw)t.fn(Os.ra,this.bS),t.gn()}IS(t){if(t>0)for(const i of this.Z.xw)my(i,t)}Zn(){return this.xS(),this.Z.Zn(),Promise.resolve()}async gn(){this.Vo(),await this.Zn(),this.Z.gn()}constructor(...t){super(...t),this.Z=new tn,this.bS=t=>{const i=t.Lt;this.LS(i)}}};r(),r(),function(t){t.OS="arraybuffer",t.jS="json",t.zS="stream",t.Ru="text"}(er||(er={})),r();var Yc,Uu,So,nn,yy,Yo=class t{append(t,i){let e=t,s=i;e=My(e),s=Ty(s);const n=e.toLowerCase();if(this.Kf.hasOwnProperty(n)){const t=this.Kf[n],i=t[1];t[1]=i?i+", "+s:s}else this.Kf[n]=[e,s]}delete(t){const i=My(t).toLowerCase();delete this.Kf[i]}get(t){const i=My(t).toLowerCase();return this.Kf.hasOwnProperty(i)?this.Kf[i][1]:null}has(t){const i=My(t).toLowerCase();return this.Kf.hasOwnProperty(i)}set(t,i){let e=t;e=My(e);const s=e.toLowerCase();this.Kf[s]=[e,Ty(i)]}forEach(t,i){for(const e in this.Kf)this.Kf.hasOwnProperty(e)&&t.call(i,this.Kf[e][1],e,this)}asList(){const t=[];for(const i in this.Kf)if(this.Kf.hasOwnProperty(i)){const[e,s]=this.Kf[i];t.push([e,s])}return t}PS(){const t={};return this.forEach(((i,e)=>{t[e]=i})),t}RS(t){t.forEach(((t,i)=>{this.append(i,t)}))}US(t){t.forEach(((t,i)=>{this.set(i,t)}))}constructor(i){this.Kf={},i instanceof t?i.asList().forEach((t=>{let[i,e]=t;this.append(i,e)})):Array.isArray(i)?i.forEach((t=>{this.append(t[0],t[1])})):i&&_.getOwnPropertyNames(i).forEach((t=>{this.append(t,i[t])}))}};function My(t){let i=t;if("string"!=typeof i&&(i=String(i)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(i))throw new k("Invalid character in header field name");return i}function Ty(t){let i=t;return"string"!=typeof i&&(i=String(i)),i}!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Yc||(Yc={})),function(t){t.KT="",t.QS="manifest",t.FS="segment",t.YS="preload-hint",t.GS="content-protection"}(Uu||(Uu={})),function(t){t.KT="",t.VS="initialization-segment",t.WS="fairplay-license",t.HS="fairplay-certificate",t.qS="widevine-license",t.XS="widevine-certificate",t.ZS="playready-license",t.KS="clearkey-license",t.JS="aes128-key"}(So||(So={})),function(t){t.KT="",t.mp="audio",t.vp="video",t.Ru="text",t.ZT="image"}(nn||(nn={})),function(t){t.$S="same-origin",t.Bv="no-cors",t.tE="cors",t.iE="navigate"}(yy||(yy={}));var ec=class{constructor(t,i){const e=t.zu;let s,n,r,h,o,a,u,c,l,d,f,_,g;var w;i?(s=i.eE,n=i.sE,r=i.nE,h=i.rE,o=i.NS,a=i.hE,u=i.a_,c=i.hA,l=i.oE,d=i.aE,f=i.uE,_=i.cE,g=i.eA):(s=null,n={},r="GET",h=er.Ru,o=0,a=0,c="",l="",d="",f=!1,g=void 0),this.zu=e,this.eE=t.eE||s,this.sE=new Yo(t.sE||n),this.nE=t.nE||r,this.rE=t.rE||h,this.NS=void 0!==t.NS?Number(t.NS)||0:o,this.hE=void 0!==t.hE?Number(t.hE)||0:a,this.a_=t.a_||u||(new Ao).a_,this.hA=t.hA||c,this.oE=t.oE||l,this.aE=t.aE||d,this.uE=void 0!==t.uE?Boolean(t.uE):f,this.cE=t.cE||_,this.eA=null!=(w=t.eA)?w:g}};r();var Ny,Dy=class extends La{get error(){return this.errorObject.message}fa(){return this}constructor(t){super(Bi.ha),this.errorObject=t}},mu=class extends si{lE(t){if(!t.src)return;const i=t.kind||oa.pp,e=this.fE.dE(i,t.id,t.label,t.srclang,t.default);return e.oA=_a(t.src),this.tt(e),e}async _E(t,i){t.vg=Q.LOADING;const e=new ec({zu:t.oA,rE:er.Ru,nE:Yc.GET,a_:i});let s,n;try{const t=await this.gE.mS(e);n=t.TS,s=await t.wE()}catch(i){return Ht(i),t.vg=Q.ERROR,void t.Co(new Dy(function(t,i){let e=i,s=0;if(ay(t)&&t.name===bs.wS)e=t.mS.zu;else if(uy(t)){const i=t.yS;if(e=i.AE,s=i.TS,0===s)return new hy(p_.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,s,t)}return new hy(p_.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,s,t)}(i,t.oA)))}try{const i=function(t){return cp(t)?Ks.WEBVTT:ey(t)?Ks.TTML:Ks.SRT}(s);t.hA=i;let e=[];if(i===Ks.WEBVTT||i===Ks.SRT){e=tp(s).L}else i===Ks.TTML&&(e=Yp(s,t));for(const i of e)t.vE(i)}catch(i){return Ht(i),t.vg=Q.ERROR,void t.Co(new Dy(vy(t.hA,t.oA,n,i)))}t.vg=Q.LOADED}kS(t){ea(this.Z.xw,t)&&t.vg===Q.NONE&&this._E(t,this.mE.a_).catch(Mh)}$n(){}async Zn(){this.mE.c_(),this.mE=new Ao;for(const t of this.Z.xw)this.fE.pE(t);await super.Zn()}constructor(t,i){super(),this.mE=new Ao,this.fE=t,this.gE=i}};function Iy(t,i){for(const e of t)if(e.zt===i&&e.yE)return e}function Sy(t,i){Ey(Iy(t.xw,i))}function Ey(t){void 0!==t&&(t.eA=go.Xn)}function by(t,i){const e=Iy(t.xw,i)||function(t,i){for(const e of t)if(e.zt===i)return e}(t.xw,i);Ey(e)}function Qs(t){for(const i of sy)i===oa.Fn?by(t,i):Sy(t,i)}r(),r(),r(),function(t){t.ME="web",t.TE="android",t.NE="android-tv",t.DE="ios",t.SE="tvos",t.EE="chromecast",t.bE="theoliveweb"}(Ny||(Ny={}));var di=sd?sd.userAgent:"",Ly=di.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),ky=di.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Cy=di.match(/Android ([0-9\.]+)/i),xy=di.match(/Windows NT ([0-9\.]+)/i),Oy=di.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),jy=di.match(/Firefox\/([0-9\.]+)/i),zy=di.match(/OPR\/(\d+\.\d+)/i),Py=di.match(/Tizen ([0-9\.]+)/i),By=di.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),Ry=class{get Je(){return this.LE}get kE(){return this.CE}get xE(){return this.OE}get jE(){return this.zE}get PE(){return this.BE}get RE(){return this.UE}get QE(){return this.FE}get YE(){return this.GE}get VE(){return this.WE}get HE(){return this.qE}get XE(){return this.ZE}get Ga(){return this.KE}get JE(){return this.$E}get ib(){return this.eb||this.sb}get td(){return this.hb}get Qs(){return this.ob}get ub(){return this.fb}get _b(){return this.gb}get wb(){return this.Ab}get vb(){return this.mb}get pb(){return this.yb}get Mb(){return this.Tb}get Nb(){return this.Db}get Ib(){return this.Sb}get Eb(){return this.bb}get Lb(){return this.kb}get Cb(){return this.xb}get Ob(){return this.jb}get zb(){return this.Pb}get Bb(){return this.Rb}get Ub(){return this.Qb}get Fb(){return this.Yb}get Gb(){return this.Vb}get Wb(){return this.Hb}get qb(){return this.Xb}get Zb(){return this.Kb}get Jb(){return this.$b}get tL(){return!(!this.Ib&&!this.Mb)&&this.wb<=56}get iL(){return this.eL}get sL(){return this.nL}get rL(){return this.hL}get oL(){return this.aL}get uL(){return this.cL}get lL(){return this.dL}get fL(){return this._L}constructor(){this.LE=Boolean("ontouchstart"in self||self.DocumentTouch&&h instanceof self.DocumentTouch||sd&&sd.msMaxTouchPoints),this.CE=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(di)||/(macintosh|mac(?=_powerpc)\s)/i.test(di),this.OE=/Windows NT/i.test(di),this.zE=xy?S(xy[1]):0,this.BE=/Android/i.test(di),this.UE=Cy?S(Cy[1]):0,this.FE=/windows phone (8|8\.1)/i.test(di),this.GE=/iPhone/i.test(di),this.WE=/iPad/i.test(di),this.qE=this.CE&&this.LE&&!this.WE,this.ZE=/iPod/i.test(di),this.hb=/Mobile Safari/i.test(di),this.eb=/EOS\d*STB/i.test(di),this.sb=/APP\d*STB/i.test(di),this.KE=(this.GE||this.WE||this.qE||this.ZE)&&!this.FE,this.$E=By?S(By[2]):0,this.ob=this.FE||this.KE||this.BE||this.hb,this.fb=/CriOS/i.test(di),this.gb=Boolean(self.chrome&&/google/i.test(sd.vendor))||this.fb,this.mb=this.gb&&/Edg\//i.test(sd.userAgent),this.yb=ky?C(ky[1],10):0,this._L=Boolean(self.chrome||/Chrome/i.test(di)||/CriOS/i.test(di)),this.Ab=Ly?C(Ly[1],10):0,this.Tb=/SMART-TV.*Tizen/i.test(di),this.Db=Py?S(Py[1]):0,this.Sb=/webos|web0s/i.test(di),this.bb=/VIZIO/i.test(di),this.kb=/Edge\/\d+/i.test(di),this.xb=/Trident/i.test(di),this.jb=this.xb&&!self.ActiveXObject&&"ActiveXObject"in self,this.Pb=/Vivaldi/i.test(di),this.Rb=/Firefox/i.test(di)&&!/Seamonkey/i.test(di),this.Qb=jy?S(jy[1]):0,this.Yb=/Safari/i.test(di)&&!/Chrome/i.test(di)&&!this.FE&&!this.Tb,this.Vb=Oy?S(Oy[2]):0,this.Hb=Boolean(zy),this.Xb=zy?S(zy[1]):0,this.Kb=/CrKey/.test(di),this.$b=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(di),this.eL="web"===Ny.NE,this.nL="web"===Ny.TE,this.hL=this.nL||this.eL,this.aL="web"===Ny.DE,this.cL="web"===Ny.SE,this.dL="web"===Ny.EE}};Ry.gL=new Ry;var wn=Ry.gL;r();var Uy,Qy,vs,Ys,Fy,Yy,qu=class extends Ag{constructor(){super(t.qA)}};r(),r();var Io={hA:Ci.Hv,wL:zw,AL:"cenc",vL:jw,mL:Xi,pL:"PlayReady"},Gy={hA:Ci.qv,wL:Bw,AL:"cenc",vL:Pw,mL:Mt,pL:"Widevine"},Vy={hA:Ci.Xv,wL:Qw,AL:"skd",vL:ul,mL:qa,pL:"FairPlay"},Wy={hA:Ci.Xv,wL:"com.apple.fps",AL:"sinf",vL:ul,mL:qa,pL:"FairPlay"},Ka={hA:Ci.Zv,wL:"org.w3.clearkey",AL:"cenc",vL:Rw,mL:Uw,pL:"ClearKey"},Hy=[Io,Gy,Vy,Ka];function qy(t){return Hy.filter((i=>i.mL===t.toLowerCase()))}r(),r(),r(),r(),r(),r();var Xy,Zy=["cenc"],Ky=["cbcs","cbcs-1-9"],ir=class extends Ag{constructor(t){super("yL"),this.ML=t}},Bs=class extends Ag{constructor(t,i,e,s){super("TL"),this.ML=t,this.NL=i,this.TL=e,this.DL=s}},Jy=class extends Ag{constructor(){super("lt")}};!function(t){t.LA="IL",t.SL="EL"}(Xy||(Xy={}));var zs=class extends Ag{constructor(t,i){super("IL"),this.AL=t,this.bL=i}},$y=class extends Ag{constructor(){super("EL")}};r();var Se=new T([0]).buffer,Fs=class{get ey(){return this.Xu.length}LL(t){for(const i of this.Xu)if(i[0]===t)return!0;return!1}kL(t){for(const i of this.Xu)if(i[0]===t)return i[1]}CL(t,i){this.Xu.forEach((i=>t(i[1],i[0])),i)}xL(t,i){this.Xu.push([t,i])}OL(){Ri(this.Xu)}constructor(){this.Xu=[]}};r();var Eo=class{jL(t){this.zd&&(this.zd(t),this.e_())}zL(t){this.Bd&&(this.Bd(t),this.e_())}c_(){this.PL.catch(xs),this.zL(new ia)}l_(t){t.then((t=>this.jL(t)),(t=>this.zL(t)))}e_(){this.zd=void 0,this.Bd=void 0}constructor(){this.PL=new Promise(((t,i)=>{this.zd=t,this.Bd=i}))}};function tM(){return new T([8,4]).buffer}function iM(t,i){return t===zw?function(t){if(t.byteLength<2*eM.length)return t;const i=new DataView(t,0,2*eM.length),e=QA(i,!0);if(e===eM)return t;return function(t){const i='<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">',e='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',s=""+i+eA(t)+e;return FA(s,!0).buffer}(t)}(i):i}r();var eM="<PlayReady";r(),r();var qt=class extends Xo{constructor(t,i,e,s){super(t,s),this.BL=i,this.RL=e}};r(),r(),r(),r(),r();var sM=function(t,i){return(sM=_.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)_.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])})(t,i)};function Zt(t,i){if("function"!=typeof i&&null!==i)throw new k("Class extends value "+String(i)+" is not a constructor or null");function e(){this.constructor=t}sM(t,i),t.prototype=null===i?_.create(i):(e.prototype=i.prototype,new e)}function nM(t,i,e){return t.indexOf?t.indexOf(i,e):Array.prototype.indexOf.call(t,i,e)}r(),r(),r(),r(),r(),r(),r();!function(){function t(t,i){this.UL=t,this.QL=i}t.prototype.get=function(t){var i=this.UL.get(t);if(0===this.QL||void 0===i)return i;var e=this.UL.get(t+1)||0,s=i&(1<<8-this.QL)-1,n=e>>8-this.QL;return(s<<this.QL)+n},t.prototype.getBit=function(t){if(!(t<0)){var i=this.UL.get(x.floor((t+this.QL)/8));if(void 0!==i)return(i&1<<7-this.QL-t%8)>0?1:0}},_.defineProperty(t.prototype,"bitLength",{get:function(){return this.UL.bitLength-this.QL},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"length",{get:function(){return this.UL.length},enumerable:!1,configurable:!0})}();r(),r();x.pow(2,-52);function rM(t,i,e){return x.min(x.max(t,i),e)}function Be(t,i){return t>>8-i}function hM(t,i){return t&(1<<i)-1}var Tu=function(){function t(t){this.FL=t,this.YL=0,this.GL=0}return _.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.YL+this.GL},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"done",{get:function(){return this.YL===this.FL.length&&0===this.GL},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"location",{get:function(){return{byte:this.YL,bit:this.GL}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var i=new t(this.FL);return i.seek(this.YL,this.GL),i},t.prototype.canReadBits=function(t){return 8*this.YL+t+this.GL<=8*this.FL.length},t.prototype.canReadBytes=function(t){return 0===this.GL?this.YL+t<=this.FL.length:this.YL+t<this.FL.length},t.prototype.incBit=function(){this.GL++,this.GL>7&&(this.YL++,this.GL=0)},t.prototype.seek=function(t,i){this.YL=t,this.GL=i},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new b("Cannot read past end of buffer.");return this.FL.get(this.YL)>>7-this.GL&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new b("Cannot read past end of buffer.");if(0===this.GL)return this.FL.get(this.YL++);var t=hM(this.FL.get(this.YL),8-this.GL),i=Be(this.FL.get(this.YL+1),this.GL);return this.YL++,t<<this.GL|i},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new b("Cannot read past end of buffer.");for(var i=[],e=0;e<t;e++)i.push(this.readBit());return i},t.prototype.readUInt=function(t){if(t>32)throw new b("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new b("Cannot read past end of buffer.");var i=0;if(0===this.GL&&t%8==0)for(var e=t-8;e>=0;e-=8)i|=this.readByte()<<e;else for(e=t-1;e>=0;e--)i|=this.readBit()<<e;return i},t.prototype.readInt=function(t){if(t>32)throw new b("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new b("Cannot read past end of buffer.");var i=this.readUInt(t);return 0===(i&1<<t-1)?i:i-x.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var i=1<<t;return i+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new b("Skipping over the buffer edge is not allowed.");var i=this.GL+t;this.YL+=i>>3,this.GL=7&i},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new b("Cannot read past end of buffer.");for(var i=[],e=0;e<t;e++)i.push(this.readByte());return String.fromCharCode.apply(String,i)},t}();r(),r(),r();var oM=function(t,i){return t===i?0:t<i?-1:t>i?1:j(t)?j(i)?0:1:-1},Xr=function(){function t(){this.VL=[],this.WL=[],this.HL=0}return t.from=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];for(var s=new t,n=0,r=i;n<r.length;n++){var h=r[n];s.pushRange(h)}return s},t.prototype.pushRange=function(t,i,e){if(void 0===i&&(i=0),void 0===e&&(e=t.length),e<0)throw new b("The buffer length must be positive.");if(0!==e){if(0===this.WL.length)this.WL.push(0);else{var s=this.WL[this.WL.length-1]+this.VL[this.VL.length-1].length;this.WL.push(s)}this.VL.push(t.subarray(i,i+e)),this.HL+=e}},t.prototype.concat=function(i){var e=new t;return e.pushRange(this.join()),e.pushRange(i.join()),e},t.prototype.copy=function(t,i,e,s){if(void 0===i&&(i=0),void 0===e&&(e=0),void 0===s&&(s=this.length),i<0||e<0||s<0)throw new RangeError;return this.slice(e,s).copyInternal(t,i)},t.prototype.copyInternal=function(t,i){for(var e=0,s=i,n=0,r=this.VL;n<r.length;n++){var h=r[n];t.set(h,s),e+=h.length,s+=h.length}return e},t.prototype.clear=function(){this.VL=[],this.WL=[],this.HL=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var i=this.findContainingBufferIndex(t),e=t-this.WL[i];return this.VL[i][e]}},_.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.VL.length<1)return-1;if(this.VL.length>1){var i=this.join();this.clear(),this.pushRange(i)}var e=this.VL[0];return"number"==typeof t?nM(e,t):"undefined"!=typeof Buffer?Buffer.from(e.buffer,e.byteOffset,e.byteLength).indexOf(t):function(t,i){if(0===i.length)return 0;for(var e=i[0],s=i.length,n=t.length-s,r=0;r<=n&&!((r=nM(t,e,r))<0||r>n);r++){for(var h=r+1,o=r+s,a=1;h<o&&t[h]===i[a];h++,a++);if(h===o)return r}return-1}(e,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,i,e){if(0!==t.length){var s=0,n=t.length-1;if(1!==e(t[s],i)){if(1===e(i,t[n]))return n;for(;s!==n;){var r=x.ceil((s+n)/2);e(t[r],i)<=0?s=r:n=r-1}return s}}}(this.WL,t,oM)},t.prototype.join=function(){if(1===this.VL.length)return this.VL[0];var t=new T(this.length);return this.copyInternal(t,0),t},_.defineProperty(t.prototype,"length",{get:function(){return this.HL},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,i){if(i<=0||i>4)throw new b("Expected byteLength to be between 0 and 4 but was "+i);if(t<0||t>this.length-i)throw new b("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-i)+")");if(1===i)return this.get(t);for(var e=0,s=0;s<i;s++)e+=this.get(t+s)*x.pow(2,8*(i-s-1));return e},t.prototype.slice=function(i,e){void 0===e&&(e=this.length);var s=rM(i,0,this.length),n=rM(e,0,this.length);if(s>n)return new t;if(s===n)return new t;for(var r=new t,h=this.findContainingBufferIndex(s),o=this.VL[h],a=s,u=a-this.WL[h];a+o.length-u<n;)r.pushRange(o,u,o.length-u),h+=1,u=(a+=o.length-u)-this.WL[h],o=this.VL[h];var c=n-a;return r.pushRange(o,u,c),r},t.prototype.trim=function(){if(0===this.length)return new t;for(var i=this.length-1,e=this.VL.length-1,s=this.VL[e],n=s.length-1;i>=0&&e>=0;){if(0!==s[n])break;if(0===n){if(0===e)return new t;e-=1,n=(s=this.VL[e]).length-1}else n-=1;i-=1}return this.slice(0,i+1)},t}(),aM=function(){function t(i){this.qL=i||t.BUFFER_CHUNK_SIZE,this.XL=!1,this.ZL=new Xr,this.FL=new T(this.qL),this.KL=0,this.JL=0,this.GL=7}return t.prototype.closeByte=function(){this.FL[this.KL++]=this.JL,this.KL>=this.qL&&this.closeBuffer(),this.JL=0,this.GL=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.KL&&(this.ZL.pushRange(this.FL,0,this.KL),t&&(this.FL=new T(this.qL)),this.KL=0)},_.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.GL},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.XL)throw new b("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.XL=!0,this.ZL},t.prototype.writeBit=function(t){if(this.XL)throw new b("Cannot write to a closed BitWriter.");this.JL|=t<<this.GL,0===this.GL?this.closeByte():this.GL--},t.prototype.writeByte=function(t){if(this.XL)throw new b("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.JL=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var i=this.GL;this.JL|=Be(t,i+1),this.closeByte(),this.JL=hM(t,8-i)<<i+1,this.GL=i},t.prototype.writeBits=function(t){for(var i=0,e=t;i<e.length;i++){var s=e[i];this.writeBit(s)}},t.prototype.writeBytes=function(t){if(this.XL)throw new b("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.KL+t.length<=this.qL?(this.FL.set(t,this.KL),this.KL+=t.length,this.KL===this.qL&&this.closeBuffer()):(this.closeBuffer(),this.ZL.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var i=this.GL;this.JL|=Be(t[0],i+1),this.closeByte();for(var e=1;e<t.length;e++){var s=hM(t[e-1],8-i),n=Be(t[e],i+1);this.JL=s<<i+1|n,this.closeByte()}this.JL=hM(t[t.length-1],8-i)<<i+1,this.GL=i}},t.prototype.writeUInt=function(t,i){if(t<0)throw new b("Received a negative number.");if(i>32)throw new b("The max bitlength that can be provided is 32.");if(t>=x.pow(2,i))throw new b("Uint "+t+" cannot be represented in "+i+" bit(s).");if(this.isWritingStartBit&&i%8==0)for(var e=i-8;e>=0;e-=8)this.writeByte(t>>e&255);else for(e=i-1;e>=0;e--)this.writeBool((t&1<<e)>0)},t.prototype.writeInt=function(t,i){if(i>32)throw new b("The max bitlength that can be provided is 32.");if(x.abs(t)>=x.pow(2,i-1))throw new b("Signed integer "+t+" cannot be represented in "+i+" bit(s).");t<0?this.writeUInt(t+x.pow(2,i),i):this.writeUInt(t,i)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new b("Received a negative number.");for(var i=x.floor(x.log2(t+1))+1,e=0;e<i-1;e++)this.writeBit(0);this.writeUInt(t+1,i)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var i=function(t){for(var i=new T(t.length),e=0;e<t.length;e++)i[e]=t.charCodeAt(e);return i}(t),e=0;e<i.length;e++)this.writeByte(i[e])},t.BUFFER_CHUNK_SIZE=1024,t}();r();var uM=function(){function t(t){this.rb=new Xr,this.Vd=t}return t.prototype.closeWriter=function(){void 0!==this.Vd&&(this.rb=this.rb.concat(this.Vd.close()),this.Vd=void 0)},_.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Vd&&(this.Vd=new aM),this.Vd},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),no=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new b("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(i){var e=this.getSize(),s=e>=t.LARGE_SIZE/8,n=16===this.boxType.length;i.writeUInt(s?1:e,32),i.writeString(n?"uuid":this.boxType),s&&(i.writeUInt(x.floor(e/t.LARGE_SIZE),32),i.writeUInt(e%t.LARGE_SIZE,32)),n&&i.writeString(this.boxType)},t.prototype.getSize=function(){var i=8+(this.boxType.length>4?16:0),e=this.getBoxContentSize()+i;return e>=t.LARGE_SIZE/8&&(e+=8),e},t.prototype.serialize=function(){var t=new uM;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=x.pow(2,32),t}();function cM(t,i){return t instanceof Ce?64===i:t<x.pow(2,i)}function E(t,i){return x.round(t*x.pow(2,i))}function lM(t,i){for(var e=0;e<i.length;e++)t.writeByte(i[e])}function cc(t,i){return t/x.pow(2,i)}r();var Lt=function(t){function i(i,e,s){var n=t.call(this,i)||this;if(n.version=e,!cM(e,8))throw new b("the provided version cannot fit in 8 bits.");return n.flags=s,n}return Zt(i,t),_.defineProperty(i.prototype,"flags",{get:function(){return this.$L},set:function(t){this.$L=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 4},i.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new b("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},i.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},i}(no);r(),r();var dM=function(t){function i(i,e){var s=t.call(this,i)||this;return s.data=e,s}return Zt(i,t),i.prototype.getBoxContentSize=function(){return this.data.length},i.prototype.serializeBoxContent=function(t){t.concat(Xr.from(this.data))},i}(no);r(),r();var fM=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();r();var _M=16384;function gM(t){var i=t.length;if(i<=_M)return String.fromCharCode.apply(String,t);for(var e=[],s=0;s<i;s+=_M)e.push(String.fromCharCode.apply(String,t.slice(s,s+_M)));return e.join("")}var wM=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,i){return(t&i)===i}(this.raw,t)},t}();function AM(t,i){var e=t.getUint8(i.offset);return i.shift(1),e}function vM(t,i,e){var s=DM(EM(t),i.offset,i.offset+e);return i.shift(s.byteLength),s}function mM(t,i,e){return i.offset+e<=t.byteLength}function pM(t,i,e){void 0===e&&(e=!1);var s=t.getUint32(i.offset,e);return i.shift(4),s}function yM(t,i,e){void 0===e&&(e=!1);var s=pM(t,i,e),n=pM(t,i,e),r=e?n:s,h=e?s:n;return Ce.fromBits(h,r,!0)}function MM(t,i,e){return gM(function(t){return[].slice.call(t)}(vM(t,i,e)))}function TM(t,i){var e,s=AM(t,i);return 0==(128&s)?e=s:192==(224&s)?e=64*(31&s)+(63&AM(t,i)):224==(240&s)?e=4096*(15&s)+64*(63&AM(t,i))+(63&AM(t,i)):240==(248&s)&&(e=262144*(7&s)+4096*(63&AM(t,i))+64*(63&AM(t,i))+(63&AM(t,i))),e}function NM(t,i){return function(t,i,e){var s=[],n=function(t,i){return i.offset+3<=t.byteLength&&239===t.getUint8(i.offset)&&187===t.getUint8(i.offset+1)&&191===t.getUint8(i.offset+2)}(t,i);n&&i.shift(3);for(;i.offset<t.byteLength;){var r=TM(t,i);if(void 0===r)break;if(e&&0===r)break;s.push(r)}return function(t){for(var i=[],e=0,s=t;e<s.length;e++){var n=s[e];n>65535&&(n-=65536,i.push(n>>>10&1023|55296),n=56320|1023&n),i.push(n)}return gM(i)}(s)}(t,i,!0)}function DM(t,i,e){return void 0===i&&(i=0),void 0===e&&(e=t.byteLength),new T(t.buffer,t.byteOffset+i,e-i)}function IM(t,i,e){return void 0===i&&(i=0),void 0===e&&(e=t.byteLength),new DataView(t.buffer,t.byteOffset+i,e-i)}function SM(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function EM(t){return new T(t.buffer,t.byteOffset,t.byteLength)}var bM=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new fM(this.offset<<3)},t}();r();var LM=function(){function t(t,i){this.data=t,this.cursor=i}return t.prototype.nextUint8=function(){return AM(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,i,e){void 0===e&&(e=!1);var s=t.getUint16(i.offset,e);return i.shift(2),s}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,i,e){void 0===e&&(e=!1);var s=t.getInt16(i.offset,e);return i.shift(2),s}(this.data,this.cursor)},t.prototype.nextUint32=function(){return pM(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,i,e){void 0===e&&(e=!1);var s=t.getInt32(i.offset,e);return i.shift(4),s}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,i,e){void 0===e&&(e=!1);var s=pM(t,i,e),n=pM(t,i,e),r=e?n:s,h=e?s:n;return Ce.fromBits(h,r,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return yM(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return vM(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,i,e){for(var s=[],n=0;n<e;n++)s.push(pM(t,i));return s}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return MM(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return NM(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function lo(t,i){return t.type===i}var kM=8;function Bo(t){var i=function(t,i){var e=[];for(;i.offset<t.byteLength;){var s=CM(t,i);if(!s.complete)return{complete:!1,boxes:e};e.push(s.box)}return{complete:!0,boxes:e}}(t.data,t.cursor);if(!i.complete)throw new b("Data incomplete");return i.boxes}function CM(t,i){var e=i.offset,s=function(t,i){var e=i.offset;if(!mM(t,i,kM)){return{complete:!1,neededOffset:r=i.offset+kM}}var s=pM(t,i),n=MM(t,i,4);if(1===s){if(!mM(t,i,8)){var r=i.offset+8;return i.seek(e),{complete:!1,neededOffset:r}}s=yM(t,i).toNumber()}if("uuid"===n){if(!mM(t,i,16)){r=i.offset+16;return i.seek(e),{complete:!1,neededOffset:r}}n=MM(t,i,16)}var h=i.offset,o={type:n,size:s,headerSize:h-e};return{complete:!0,header:o}}(t,i);if(!s.complete)return s;var n=s.header,r=n.size;0===r&&(r=t.byteLength-e);var h=e+r;if(h>t.byteLength){var o=h;return i.seek(e),{complete:!1,neededOffset:o}}var a={type:n.type,offset:e,data:new LM(IM(t,e,h),new bM(n.headerSize))};return i.seek(h),{complete:!0,box:a}}function Pa(t){return{version:t>>24,flags:new wM(16777215&t)}}function xM(t,i){var e,s,n,r;return 1===i?(e=t.nextUint64(),s=t.nextUint64(),n=t.nextUint32(),r=t.nextUint64()):(e=t.nextUint32(),s=t.nextUint32(),n=t.nextUint32(),r=t.nextUint32()),{creation:e,modification:s,scale:n,duration:r}}function OM(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function jM(t){var i=t.nextUint32Array(9);return{a:cc(i[0],16),b:cc(i[1],16),u:cc(i[2],30),c:cc(i[3],16),d:cc(i[4],16),v:cc(i[5],30),x:cc(i[6],16),y:cc(i[7],16),w:cc(i[8],30)}}function Vh(t){return new dM(t.type,DM(EM(t.data.data),t.data.cursor.offset))}var zM=function(t){function i(i,e,s,n){void 0===s&&(s=0),void 0===n&&(n=0);var r=t.call(this,"hdlr",s,n)||this;return r.name=e,r.handlerType=i,r}return Zt(i,t),_.defineProperty(i.prototype,"handlerType",{get:function(){return this.ek},set:function(t){this.ek=t},enumerable:!1,configurable:!0}),i.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},i.prototype.getBoxContentSize=function(){var i,e;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(e=null===(i=this.name)||void 0===i?void 0:i.length)&&void 0!==e?e:0)+1},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(0,32),i.writer.writeString(this.handlerType),this.serializeReserved(i),this.name&&i.writer.writeString(this.name),i.writer.writeByte(0)},i}(Lt);function PM(t){var i=t.data,e=Pa(i.nextUint32()),s=e.version,n=e.flags;i.skip(4);var r=i.nextChars(4);i.skip(12);var h=i.nextUTF8String();return new zM(r,h,s,n.raw)}!function(t){function i(){return t.call(this,"mdir")||this}Zt(i,t),i.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(zM);r(),r(),r();var Qa=function(){function t(t,i){void 0===i&&(i=!1),this.fixed28BitMode=i,this.tag=t}return t.prototype.encodeSize=function(t){for(var i=[];t>0;)i.length>0&&(i[i.length-1]+=128),i.push(t%128),t>>=7;if(this.fixed28BitMode)for(;i.length<4;)i.push(128);return i.reverse()},_.defineProperty(t.prototype,"tag",{get:function(){return this.nk},set:function(t){if(!cM(t,8))throw new b("Provided tag does not fit in 8 bits.");this.nk=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var i=0,e=this.encodeSize(this.getDescriptorSize());i<e.length;i++){var s=e[i];t.writer.writeByte(s)}this.serializeDescriptorContent(t)},t}();r();!function(t){function i(i,e,s,n,r,h,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=s,a.decoderSpecificInfo=h,a.objectTypeIndication=i,a.streamType=e,a.bufferSizeDb=n,a.maxBitrate=r.max,a.avgBitrate=r.avg,a}Zt(i,t),_.defineProperty(i.prototype,"objectTypeIndication",{get:function(){return this.rk},set:function(t){if(!cM(t,8))throw new b("Provided objectTypeIndication does not fit in 8 bits.");this.rk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"streamType",{get:function(){return this.hk},set:function(t){if(!cM(t,6))throw new b("Provided streamType does not fit in 6 bits.");this.hk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"bufferSizeDb",{get:function(){return this.ck},set:function(t){if(!cM(t,24))throw new b("Provided bufferSizeDb does not fit in 24 bits.");this.ck=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"maxBitrate",{get:function(){return this.lk},set:function(t){if(!cM(t,32))throw new b("Provided maxBitrate does not fit in 32 bits.");this.lk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"avgBitrate",{get:function(){return this.dk},set:function(t){if(!cM(t,32))throw new b("Provided avgBitrate does not fit in 32 bits.");this.dk=t},enumerable:!1,configurable:!0}),i.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,i){return t+i.getSize()}),0)},i.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var i=0,e=this.decoderSpecificInfo;i<e.length;i++){e[i].serialize(t)}}}(Qa);r();!function(t){function i(i,e){void 0===e&&(e={});var s=t.call(this,5,e.fixed28BitMode)||this;return s.data=i,s}Zt(i,t),i.prototype.getDescriptorSize=function(){return this.data.length},i.prototype.serializeDescriptorContent=function(t){t.concat(Xr.from(this.data))}}(Qa);r(),r();var BM=function(t){function i(i){void 0===i&&(i=!1);var e=t.call(this,6,i)||this;return e.predefined=2,e}return Zt(i,t),i.prototype.getDescriptorSize=function(){return 1},i.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},i}(Qa);!function(t){function i(i,e,s,n){void 0===n&&(n={});var r=t.call(this,3,n.fixed28BitMode)||this;return r.decoderConfigDescriptor=s,r.esId=i,r.streamPriority=e,r.dependsOnEsId=null==n?void 0:n.dependsOnEsId,r.urlString=null==n?void 0:n.url,r.ocrEsId=null==n?void 0:n.ocrEsId,r.slConfigDescriptor=new BM(n.fixed28BitMode),r}Zt(i,t),_.defineProperty(i.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"esId",{get:function(){return this.fk},set:function(t){if(!cM(t,16))throw new b("Provided esId does not fit in 16 bits.");this.fk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"streamPriority",{get:function(){return this._k},set:function(t){if(!cM(t,5))throw new b("Provided streamPriority does not fit in 5 bits.");this._k=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"dependsOnEsId",{get:function(){return this.gk},set:function(t){if(t&&!cM(t,16))throw new b("Provided dependsOnEsId does not fit in 16 bits.");this.gk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"ocrEsId",{get:function(){return this.wk},set:function(t){if(t&&!cM(t,16))throw new b("Provided ocrEsId does not fit in 16 bits.");this.wk=t},enumerable:!1,configurable:!0}),i.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},i.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Qa);r(),r(),r(),r(),r();var RM=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.boxes=[],i}return Zt(i,t),i.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,i){return t+i.getSize()}),0)},i.prototype.serialize=function(){for(var i=t.prototype.serialize.call(this),e=0,s=this.boxes;e<s.length;e++){var n=s[e];i=i.concat(n.serialize())}return i},i}(no),B=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return Zt(i,t),i.prototype.serializeBoxContent=function(t){},i.prototype.getBoxContentSize=function(){return 0},i}(RM),UM=function(t){function i(i,e){var s=t.call(this,i)||this;return s.dataReferenceIndex=e,s}return Zt(i,t),_.defineProperty(i.prototype,"dataReferenceIndex",{get:function(){return this.Ak},set:function(t){if(!cM(t,16))throw new b("Provided dataReferenceIndex does not fit in 16 bits.");this.Ak=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 8},i.prototype.serializeBoxContent=function(t){for(var i=0;i<6;i++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},i}(B),QM=function(t){function i(i,e,s,n){var r,h,o=this;return(o=t.call(this,i,e)||this).extra=n,o.channelCount=null!==(r=s.channelCount)&&void 0!==r?r:2,o.sampleSize=null!==(h=s.sampleSize)&&void 0!==h?h:16,o.sampleRate=s.sampleRate,o}return Zt(i,t),_.defineProperty(i.prototype,"channelCount",{get:function(){return this.vk},set:function(t){if(!cM(t,16))throw new b("Provided channelCount does not fit in 16 bits.");this.vk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"sampleSize",{get:function(){return this.pk},set:function(t){if(!cM(t,16))throw new b("Provided sampleSize does not fit in 16 bits.");this.pk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"sampleRate",{get:function(){return this.yk},set:function(t){if(!cM(E(t,16),32))throw new b("Provided rate does not fit in 32 bits (fixed 16.16).");this.yk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){var i,e;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(e=null===(i=this.extra)||void 0===i?void 0:i.length)&&void 0!==e?e:0)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(0,32),i.writer.writeUInt(0,32),i.writer.writeUInt(this.channelCount,16),i.writer.writeUInt(this.sampleSize,16),i.writer.writeUInt(0,16),i.writer.writeUInt(0,16),i.writer.writeUInt(E(this.sampleRate,16),32),this.extra&&lM(i.writer,this.extra)},i}(UM);r();!function(t){function i(i){var e=t.call(this,"stco",0,0)||this;return e.entries=i,e}Zt(i,t),_.defineProperty(i.prototype,"entries",{get:function(){return this.Mk},set:function(t){if(!cM(t.length,32))throw new b("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!cM(t,32)})))throw new b("Not all entries can be represented in 32 bits.");this.Mk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.entries.length,32);for(var e=0,s=this.entries;e<s.length;e++){var n=s[e];i.writer.writeUInt(n,32)}}}(Lt);r();!function(t){function i(i){var e=t.call(this,"clap")||this;return e.cleanApertureWidthN=i.cleanApertureWidthN,e.cleanApertureWidthD=i.cleanApertureWidthD,e.cleanApertureHeightN=i.cleanApertureHeightN,e.cleanApertureHeightD=i.cleanApertureHeightD,e.horizOffN=i.horizOffN,e.horizOffD=i.horizOffD,e.vertOffN=i.vertOffN,e.vertOffD=i.vertOffD,e}Zt(i,t),_.defineProperty(i.prototype,"cleanApertureWidthN",{get:function(){return this.Tk},set:function(t){if(!cM(t,32))throw new b("Provided cleanApertureWidthN does not fit in 32 bits.");this.Tk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"cleanApertureWidthD",{get:function(){return this.Nk},set:function(t){if(!cM(t,32))throw new b("Provided cleanApertureWidthD does not fit in 32 bits.");this.Nk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"cleanApertureHeightN",{get:function(){return this.Dk},set:function(t){if(!cM(t,32))throw new b("Provided cleanApertureHeightN does not fit in 32 bits.");this.Dk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"cleanApertureHeightD",{get:function(){return this.Ik},set:function(t){if(!cM(t,32))throw new b("Provided cleanApertureHeightD does not fit in 32 bits.");this.Ik=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"horizOffN",{get:function(){return this.Sk},set:function(t){if(!cM(t,32))throw new b("Provided horizOffN does not fit in 32 bits.");this.Sk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"horizOffD",{get:function(){return this.Ek},set:function(t){if(!cM(t,32))throw new b("Provided horizOffD does not fit in 32 bits.");this.Ek=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"vertOffN",{get:function(){return this.bk},set:function(t){if(!cM(t,32))throw new b("Provided vertOffN does not fit in 32 bits.");this.bk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"vertOffD",{get:function(){return this.Lk},set:function(t){if(!cM(t,32))throw new b("Provided vertOffD does not fit in 32 bits.");this.Lk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 32},i.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(no);r();!function(t){function i(i,e){var s=t.call(this,"ctts",i,0)||this;return s.entries=e,s}Zt(i,t),_.defineProperty(i.prototype,"entries",{get:function(){return this.Mk},set:function(t){if(!cM(t.length,32))throw new b("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!cM(t.sampleCount,32)||!cM(t.sampleOffset,32)})))throw new b("Not all entries can be represented in 64 bits.");this.Mk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.entries.length,32);for(var e=0,s=this.entries;e<s.length;e++){var n=s[e];i.writer.writeUInt(n.sampleCount,32),0===this.version?i.writer.writeUInt(n.sampleOffset,32):1===this.version&&i.writer.writeInt(n.sampleOffset,32)}}}(Lt);r();!function(t){function i(i){var e=t.call(this,"url ",0,void 0===i?1:0)||this;return e.location=i,e}Zt(i,t),_.defineProperty(i.prototype,"location",{get:function(){return this.Ck},set:function(t){this.flags=void 0===t?1:0,this.Ck=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){var i=t.prototype.getBoxContentSize.call(this);return this.location?i+this.location.length+1:i},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.location&&(i.writer.writeString(this.location),i.writer.writeByte(0))}}(Lt);r();!function(t){function i(i,e,s){var n=t.call(this,"urn ",0,s)||this;return n.name=i,n.location=e,n}Zt(i,t),_.defineProperty(i.prototype,"location",{get:function(){return this.Ck},set:function(t){if(1&this.flags)throw new b("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Ck=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){var i=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?i+this.location.length+1:i},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeString(this.name),i.writer.writeByte(0),this.location&&(i.writer.writeString(this.location),i.writer.writeByte(0))}}(Lt);r();!function(t){function i(){return t.call(this,"dinf")||this}Zt(i,t)}(B);r(),r();var yu=function(t){function i(i,e,s){var n=t.call(this,i)||this;if(n.version=e,!cM(e,8))throw new b("the provided version cannot fit in 8 bits.");return n.flags=s,n}return Zt(i,t),_.defineProperty(i.prototype,"flags",{get:function(){return this.$L},set:function(t){this.$L=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 4},i.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new b("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},i.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},i}(RM);!function(t){function i(){return t.call(this,"dref",0,0)||this}Zt(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.boxes.length,32)}}(yu);r(),r();var FM=function(t){function i(i,e,s){void 0===s&&(s=0);var n=t.call(this,"elst",e,s)||this;return n.entries=i,n}return Zt(i,t),_.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"entries",{get:function(){return this.Mk},set:function(t){for(var i=0,e=t;i<e.length;i++){var s=e[i];if(!cM(s.segmentDuration,this.bitSize))throw new b("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!cM(s.mediaTime,this.bitSize))throw new b("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!cM(s.mediaRateInteger,16))throw new b("Provided mediaRateInteger does not fit in 16 bits.");if(s.mediaRateFraction&&!cM(s.mediaRateFraction,16))throw new b("Provided mediaRateFraction does not fit in 16 bits.")}this.Mk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(i)},i}(Lt),YM=function(t){function i(i,e){return void 0===e&&(e=0),t.call(this,i,0,e)||this}return Zt(i,t),i.prototype.serializeElstBoxContent=function(t){for(var i,e=0,s=this.entries;e<s.length;e++){var n=s[e];t.writer.writeUInt(n.segmentDuration,32),t.writer.writeInt(n.mediaTime,32),t.writer.writeUInt(n.mediaRateInteger,16),t.writer.writeUInt(null!==(i=n.mediaRateFraction)&&void 0!==i?i:0,16)}},i}(FM),GM=function(t){function i(i,e){return void 0===e&&(e=0),t.call(this,i,1,e)||this}return Zt(i,t),i.prototype.serializeElstBoxContent=function(t){for(var i,e=0,s=this.entries;e<s.length;e++){var n=s[e];t.writer.writeUInt(n.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(n.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(n.mediaTime.getHighBits(),32),t.writer.writeInt(n.mediaTime.getLowBits(),32),t.writer.writeUInt(n.mediaRateInteger,16),t.writer.writeUInt(null!==(i=n.mediaRateFraction)&&void 0!==i?i:0,16)}},i}(FM);function VM(t){for(var i=t.data,e=Pa(i.nextUint32()),s=e.version,n=e.flags,r=i.nextUint32(),h=[],o=0;o<r;o++){var a=void 0,u=void 0;0===s?(a=i.nextUint32(),u=i.nextInt32()):(a=i.nextUint64(),u=i.nextInt64());var c=i.nextInt16(),l=i.nextInt16();h.push({segmentDuration:a,mediaTime:u,mediaRateFraction:l,mediaRateInteger:c})}return 0===s?new YM(h,n.raw):new GM(h,n.raw)}var WM=function(t){function i(){return t.call(this,"edts")||this}return Zt(i,t),i}(B);function HM(t){for(var i=new WM,e=0,s=Bo(t.data);e<s.length;e++){var n=s[e];lo(n,"elst")?i.boxes.push(VM(n)):i.boxes.push(Vh(n))}return i}r(),r();var qM=function(t){function i(i,e,s,n){var r=t.call(this,i)||this;return r.majorBrand=e,r.minorVersion=s,r.compatibleBrands=n,r}return Zt(i,t),_.defineProperty(i.prototype,"majorBrand",{get:function(){return this.xk},set:function(t){if(4!==t.length)throw new b("the provided major brand does not conform to the 4 character requirement");this.xk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"minorVersion",{get:function(){return this.Ok},set:function(t){if(!cM(t,32))throw new b("the provided minor version does not fit in 32 bits.");this.Ok=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"compatibleBrands",{get:function(){return this.jk},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new b("Some of the compatible brands do not conform to the 4 character requirement");this.jk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},i.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var i=0,e=this.compatibleBrands;i<e.length;i++){var s=e[i];t.writer.writeString(s)}},i}(no),XM=function(t){function i(i,e,s){return t.call(this,"ftyp",i,e,s)||this}return Zt(i,t),i}(qM);function ZM(t){for(var i=t.data,e=i.nextChars(4),s=i.nextUint32(),n=[];i.cursor.offset<i.data.byteLength;)n.push(i.nextChars(4));return new XM(e,s,n)}r();var KM=function(t){function i(i,e){void 0===e&&(e="free");var s=t.call(this,e)||this;return s.data=i,s}return Zt(i,t),i.prototype.getBoxContentSize=function(){var t,i;return null!==(i=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==i?i:0},i.prototype.serializeBoxContent=function(t){this.data&&t.concat(Xr.from(this.data))},i}(no);r(),r();var JM=function(t){function i(i,e,s,n){void 0===n&&(n=0);var r=t.call(this,"mdhd",s,n)||this;return r.creationTime=i.creation,r.modificationTime=i.modification,r.timescale=i.scale,r.duration=i.duration,r.language=e,r}return Zt(i,t),_.defineProperty(i.prototype,"creationTime",{get:function(){return this.zk},set:function(t){if(!cM(t,this.bitSize))throw new b("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.zk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"modificationTime",{get:function(){return this.Pk},set:function(t){if(!cM(t,this.bitSize))throw new b("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Pk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"timescale",{get:function(){return this.Bk},set:function(t){if(!cM(t,32))throw new b("Provided sequence number does not fit in 32 bits.");this.Bk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"duration",{get:function(){return this.Rk},set:function(t){if(!cM(t,this.bitSize))throw new b("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Rk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"language",{get:function(){return this.Uk},set:function(t){if(!eT(t))throw new b("Expected an ISO-639-2/T language code");this.Uk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.serializeMdiaContent(i),i.writer.writeBit(0);for(var e=0,s=this.language;e<s.length;e++){var n=s[e];i.writer.writeUInt(n.charCodeAt(0)-96,5)}i.writer.writeUInt(0,16)},i}(Lt),$M=function(t){function i(i,e,s){return void 0===s&&(s=0),t.call(this,i,e,0,s)||this}return Zt(i,t),i.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},i}(JM),tT=function(t){function i(i,e,s){return void 0===s&&(s=0),t.call(this,i,e,1,s)||this}return Zt(i,t),i.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},i}(JM);function iT(t){var i=t.data,e=Pa(i.nextUint32()),s=e.version,n=e.flags,r=xM(i,s),h=new Tu(Xr.from(i.nextUint8Array(2)));h.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(h.readUInt(5));var u=o.map((function(t){return String.fromCharCode(t+96)})).join("");return eT(u)||(u="und"),i.skip(2),0===s?new $M(r,u,n.raw):new tT(r,u,n.raw)}function eT(t){return/^[a-z]{3}$/.test(t)}var sT=function(t){function i(){return t.call(this,"mdia")||this}return Zt(i,t),i}(B);function nT(t){for(var i=new sT,e=0,s=Bo(t.data);e<s.length;e++){var n=s[e];lo(n,"mdhd")?i.boxes.push(iT(n)):lo(n,"hdlr")?i.boxes.push(PM(n)):i.boxes.push(Vh(n))}return i}r();var rT=function(t){function i(){var i=t.call(this,"mdat")||this;return i.data=new Xr,i}return Zt(i,t),i.prototype.getBoxContentSize=function(){return this.data.length},i.prototype.serializeBoxContent=function(t){t.concat(this.data)},i}(no);function hT(t){var i=t.data,e=i.nextUint8Array(i.data.byteLength-i.cursor.offset),s=new rT;return s.data.pushRange(e),s}r();!function(t){function i(){return t.call(this,"minf")||this}Zt(i,t)}(B);r();var oT;!function(t){function i(i){var e=t.call(this,"meta",0,0)||this;return e.handler=i,e}Zt(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.concat(this.handler.serialize())}}(yu);r(),r(),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(oT||(oT={})),r();var aT,uT,cT={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function lT(t,i){i.writer.writeUInt(E(t.a,16),32),i.writer.writeUInt(E(t.b,16),32),i.writer.writeUInt(E(0,30),32),i.writer.writeUInt(E(t.c,16),32),i.writer.writeUInt(E(t.d,16),32),i.writer.writeUInt(E(0,30),32),i.writer.writeUInt(E(t.x,16),32),i.writer.writeUInt(E(t.y,16),32),i.writer.writeUInt(E(1,30),32)}function dT(t,i){var e,s,n,r;i.writer.writeUInt(null!==(e=t.isLeading)&&void 0!==e?e:aT.UNKNOWN,2),i.writer.writeUInt(null!==(s=t.sampleDependsOn)&&void 0!==s?s:uT.UNKNOWN,2),i.writer.writeUInt(null!==(n=t.sampleIsDependedOn)&&void 0!==n?n:uT.UNKNOWN,2),i.writer.writeUInt(null!==(r=t.sampleHasRedundancy)&&void 0!==r?r:uT.UNKNOWN,2)}function fT(t,i){var e,s,n;i.writer.writeUInt(0,4),dT(t,i),i.writer.writeUInt(null!==(e=t.samplePaddingValue)&&void 0!==e?e:0,3),i.writer.writeBool(null!==(s=t.sampleIsNonSyncSample)&&void 0!==s&&s),i.writer.writeUInt(null!==(n=t.sampleDegradationPriority)&&void 0!==n?n:0,16)}r(),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(aT||(aT={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(uT||(uT={})),r(),r();var _T=function(){};r(),r(),r();var gT=function(t){function i(i,e,s){var n=t.call(this,"pssh",i,0)||this;return n.systemId=e,n.data=s,n}return Zt(i,t),_.defineProperty(i.prototype,"systemId",{get:function(){return this.Qk},set:function(t){if(16!==t.length)throw new b("Provided systemId length is not 16.");this.Qk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"data",{get:function(){return this.Fk},set:function(t){if(!cM(t.length,32))throw new b("Provided data length does not fit in 32 bits.");this.Fk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},i.prototype.serializeVersionBoxContent=function(t){},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.concat(Xr.from(this.systemId)),this.serializeVersionBoxContent(i),i.writer.writeUInt(this.data.length,32),i.concat(Xr.from(this.data))},i}(Lt),wT=function(t){function i(i,e){return t.call(this,0,i,e)||this}return Zt(i,t),i}(gT),AT=function(t){function i(i,e,s){var n=t.call(this,1,i,e)||this;return n.kIds=s,n}return Zt(i,t),_.defineProperty(i.prototype,"kIds",{get:function(){return this.Yk},set:function(t){if(!cM(t.length,32))throw new b("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new b("Not all provided key ids are 16 bytes long.");this.Yk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},i.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var i=0,e=this.kIds;i<e.length;i++){var s=e[i];t.concat(Xr.from(s))}},i}(gT);function Ne(t){var i=t.data.nextUint8();t.data.skip(3);var e=t.data.nextUint8Array(16),s=[];if(1===i)for(var n=t.data.nextUint32(),r=0;r<n;r++)s.push(t.data.nextUint8Array(16));var h=t.data.nextUint32(),o=t.data.nextUint8Array(h);return 1===i?new AT(e,o,s):new wT(e,o)}r(),r();var vT=function(t){function i(i,e,s){void 0===s&&(s=0);var n=t.call(this,"mehd",e,s)||this;return n.fragmentDuration=i,n}return Zt(i,t),_.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"fragmentDuration",{get:function(){return this.Gk},set:function(t){if(!cM(t,this.bitSize))throw new b("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Gk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},i}(Lt),mT=function(t){function i(i,e){return void 0===e&&(e=0),t.call(this,i,0,e)||this}return Zt(i,t),i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.fragmentDuration,32)},i}(vT),pT=function(t){function i(i,e){return void 0===e&&(e=0),t.call(this,i,1,e)||this}return Zt(i,t),i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),i.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},i}(vT);function yT(t){var i=t.data,e=Pa(i.nextUint32()),s=e.version,n=e.flags;return 0===s?new mT(i.nextUint32(),n.raw):new pT(i.nextUint64(),n.raw)}r();var MT=function(t){function i(i,e,s,n){void 0===e&&(e={}),void 0===s&&(s=0),void 0===n&&(n=0);var r,h,o,a=this;return(a=t.call(this,"trex",s,n)||this).trackId=i,a.defaultSampleDescriptionIndex=null!==(r=null==e?void 0:e.sampleDescriptionIndex)&&void 0!==r?r:0,a.defaultSampleDuration=null!==(h=e.sampleDuration)&&void 0!==h?h:0,a.defaultSampleSize=null!==(o=e.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=e.sampleFlags,a}return Zt(i,t),_.defineProperty(i.prototype,"trackId",{get:function(){return this.Vk},set:function(t){if(!cM(t,32))throw new b("Provided track id does not fit in 32 bits.");this.Vk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Wk},set:function(t){if(!cM(t,32))throw new b("Provided default sample description index does not fit in 32 bits.");this.Wk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"defaultSampleDuration",{get:function(){return this.Hk},set:function(t){if(!cM(t,32))throw new b("Provided default sample duration does not fit in 32 bits.");this.Hk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"defaultSampleSize",{get:function(){return this.qk},set:function(t){if(!cM(t,32))throw new b("Provided default sample size does not fit in 32 bits.");this.qk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"defaultSampleFlags",{get:function(){return this.Xk},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!cM(t.samplePaddingValue,3))throw new b("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!cM(t.sampleDegradationPriority,16))throw new b("Provided sample degradation priority does not fit in 16 bits.");this.Xk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},i.prototype.serializeBoxContent=function(i){var e;t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.trackId,32),i.writer.writeUInt(this.defaultSampleDescriptionIndex,32),i.writer.writeUInt(this.defaultSampleDuration,32),i.writer.writeUInt(this.defaultSampleSize,32),fT(null!==(e=this.defaultSampleFlags)&&void 0!==e?e:{},i)},i}(Lt);function TT(t){var i=t.data,e=Pa(i.nextUint32()),s=e.version,n=e.flags,r=i.nextUint32(),h=i.nextUint32(),o=i.nextUint32(),a=i.nextUint32(),u=OM(new Tu(Xr.from(i.nextUint8Array(4))));return new MT(r,{sampleDescriptionIndex:h,sampleDuration:o,sampleSize:a,sampleFlags:u},s,n.raw)}var NT=function(t){function i(){return t.call(this,"mvex")||this}return Zt(i,t),i}(B);function DT(t){for(var i=new NT,e=0,s=Bo(t.data);e<s.length;e++){var n=s[e];lo(n,"mehd")?i.boxes.push(yT(n)):lo(n,"trex")?i.boxes.push(TT(n)):i.boxes.push(Vh(n))}return i}r();var IT=function(t){function i(e,s,n,r,h){void 0===h&&(h=0);var o,a,u,c=this;return(c=t.call(this,"mvhd",r,h)||this).creationTime=e.creation,c.modificationTime=e.modification,c.timescale=e.scale,c.duration=e.duration,c.rate=null!==(o=n.rate)&&void 0!==o?o:i.DEFAULT_RATE,c.volume=null!==(a=n.volume)&&void 0!==a?a:i.DEFAULT_VOLUME,c.matrix=null!==(u=n.matrix)&&void 0!==u?u:cT,c.Zk=s,c}return Zt(i,t),_.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"creationTime",{get:function(){return this.zk},set:function(t){if(!cM(t,this.bitSize))throw new b("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.zk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"modificationTime",{get:function(){return this.Pk},set:function(t){if(!cM(t,this.bitSize))throw new b("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Pk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"timescale",{get:function(){return this.Bk},set:function(t){if(!cM(t,32))throw new b("Provided sequence number does not fit in 32 bits.");this.Bk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"duration",{get:function(){return this.Rk},set:function(t){if(!cM(t,this.bitSize))throw new b("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Rk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"rate",{get:function(){return this.Kk},set:function(t){if(!cM(E(t,16),32))throw new b("Provided rate does not fit in 32 bits (fixed 16.16).");this.Kk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"volume",{get:function(){return this.Jk},set:function(t){if(!cM(E(t,8),16))throw new b("Provided volume does not fit in 16 bits (fixed 8.8).");this.Jk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"matrix",{get:function(){return this.$k},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new b("(u, v, w) does not match the required (0, 0, 1)");this.$k=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"nextTrackId",{get:function(){return this.Zk},set:function(t){if(0===t)throw new b("NextTrackId cannot be 0.");if(!cM(t,32))throw new b("NextTrackId cannot exceed 32 bits.");this.Zk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.serializeMvhdContent(i),i.writer.writeUInt(E(this.rate,16),32),i.writer.writeUInt(E(this.volume,8),16),i.writer.writeUInt(0,16),i.writer.writeUInt(0,32),i.writer.writeUInt(0,32),lT(this.matrix,i);for(var e=0;e<6;e++)i.writer.writeUInt(0,32);i.writer.writeUInt(this.nextTrackId,32)},i.DEFAULT_RATE=1,i.DEFAULT_VOLUME=1,i}(Lt),ST=function(t){function i(i,e,s,n){return void 0===s&&(s={}),void 0===n&&(n=0),t.call(this,i,e,s,0,n)||this}return Zt(i,t),i.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},i}(IT),ET=function(t){function i(i,e,s,n){return void 0===s&&(s={}),void 0===n&&(n=0),t.call(this,i,e,s,1,n)||this}return Zt(i,t),i.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},i}(IT);function bT(t){var i=t.data,e=Pa(i.nextUint32()),s=e.version,n=e.flags,r=xM(i,s),h=cc(i.nextUint32(),16),o=cc(i.nextUint16(),8);i.skip(2),i.skip(8);var a=jM(i);i.skip(24);var u=i.nextUint32();return 0===s?new ST(r,u,{rate:h,volume:o,matrix:a},n.raw):new ET(r,u,{rate:h,volume:o,matrix:a},n.raw)}r(),r();var LT=function(t){function i(i,e,s,n,r,h,o){void 0===o&&(o={});var a,u,c,l=this;return l=t.call(this,"tkhd",i,function(t){var i,e,s,n;return{trackEnabled:null===(i=null==t?void 0:t.trackEnabled)||void 0===i||i,trackInMovie:null===(e=null==t?void 0:t.trackInMovie)||void 0===e||e,trackInPreview:null===(s=null==t?void 0:t.trackInPreview)||void 0===s||s,trackSizeIsAspectRatio:null!==(n=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==n&&n}}(o))||this,l.creationTime=e.creation,l.modificationTime=e.modification,l.trackId=s,l.duration=e.duration,l.volume=n,l.width=r,l.height=h,l.layer=null!==(a=o.layer)&&void 0!==a?a:0,l.alternateGroup=null!==(u=o.alternateGroup)&&void 0!==u?u:0,l.matrix=null!==(c=o.matrix)&&void 0!==c?c:cT,l}return Zt(i,t),_.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"creationTime",{get:function(){return this.zk},set:function(t){if(!cM(t,this.bitSize))throw new b("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.zk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"modificationTime",{get:function(){return this.Pk},set:function(t){if(!cM(t,this.bitSize))throw new b("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Pk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"trackId",{get:function(){return this.Vk},set:function(t){if(0===t)throw new b("trackId cannot be 0.");if(!cM(t,32))throw new b("trackId cannot exceed 32 bits.");this.Vk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"duration",{get:function(){return this.Rk},set:function(t){if(!cM(t,this.bitSize))throw new b("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Rk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"volume",{get:function(){return this.Jk},set:function(t){if(!cM(E(t,8),16))throw new b("Provided volume does not fit in 16 bits (fixed 8.8).");this.Jk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"width",{get:function(){return this.tC},set:function(t){if(!cM(E(t,16),32))throw new b("Provided width does not fit in 32 bits (fixed 16.16).");this.tC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"height",{get:function(){return this.iC},set:function(t){if(!cM(E(t,16),32))throw new b("Provided height does not fit in 32 bits (fixed 16.16).");this.iC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"layer",{get:function(){return this.eC},set:function(t){if(!cM(t,16))throw new b("Provided layer does not fit in 16 bits.");this.eC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"alternateGroup",{get:function(){return this.sC},set:function(t){if(!cM(t,16))throw new b("Provided alternateGroup does not fit in 16 bits.");this.sC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"matrix",{get:function(){return this.$k},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new b("(u, v, w) does not match the required (0, 0, 1)");this.$k=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},i.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.serializeTkhdContent(i),i.writer.writeUInt(0,32),i.writer.writeUInt(0,32),i.writer.writeUInt(this.layer,16),i.writer.writeUInt(this.alternateGroup,16),i.writer.writeUInt(E(this.volume,8),16),i.writer.writeUInt(0,16),lT(this.matrix,i),i.writer.writeUInt(E(this.width,16),32),i.writer.writeUInt(E(this.height,16),32)},i}(Lt),kT=function(t){function i(i,e,s,n,r,h){return t.call(this,0,i,e,s,n,r,h)||this}return Zt(i,t),i.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},i}(LT),Ja=function(t){function i(i,e,s,n,r,h){return t.call(this,1,i,e,s,n,r,h)||this}return Zt(i,t),i.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},i}(LT);function CT(t){var i,e,s,n,r=t.data,h=Pa(r.nextUint32()),o=h.version,a=h.flags,u=a.isSet(8),c=a.isSet(4),l=a.isSet(2),d=a.isSet(1);0===o?(i=r.nextUint32(),e=r.nextUint32(),s=r.nextUint32(),r.skip(4),n=r.nextUint32()):(i=r.nextUint64(),e=r.nextUint64(),s=r.nextUint32(),r.skip(4),n=r.nextUint64()),r.skip(8);var f=r.nextInt16(),_=r.nextInt16(),g=cc(r.nextInt16(),8);r.skip(2);var w=jM(r),A=cc(r.nextUint32(),16),v=cc(r.nextUint32(),16);return 0===o?new kT({creation:i,modification:e,duration:n},s,g,A,v,{layer:f,matrix:w,alternateGroup:_,trackSizeIsAspectRatio:u,trackEnabled:d,trackInPreview:c,trackInMovie:l}):new Ja({creation:i,modification:e,duration:n},s,g,A,v,{layer:f,matrix:w,alternateGroup:_,trackSizeIsAspectRatio:u,trackEnabled:d,trackInPreview:c,trackInMovie:l})}var Ie=function(t){function i(){return t.call(this,"trak")||this}return Zt(i,t),i}(B);function xT(t){for(var i=new Ie,e=0,s=Bo(t.data);e<s.length;e++){var n=s[e];lo(n,"tkhd")?i.boxes.push(CT(n)):lo(n,"mdia")?i.boxes.push(nT(n)):lo(n,"edts")?i.boxes.push(HM(n)):i.boxes.push(Vh(n))}return i}var Ue=function(t){function i(){return t.call(this,"moov")||this}return Zt(i,t),i}(B);function OT(t){for(var i=new Ue,e=0,s=Bo(t.data);e<s.length;e++){var n=s[e];lo(n,"mvhd")?i.boxes.push(bT(n)):lo(n,"trak")?i.boxes.push(xT(n)):lo(n,"mvex")?i.boxes.push(DT(n)):lo(n,"pssh")?i.boxes.push(Ne(n)):i.boxes.push(Vh(n))}return i}r(),r(),r();var jT=function(t){function i(i,e,s){void 0===s&&(s=0);var n=t.call(this,"tfdt",e,s)||this;return n.baseMediaDecodeTime=i,n}return Zt(i,t),_.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"baseMediaDecodeTime",{get:function(){return this.nC},set:function(t){if(!cM(t,this.bitSize))throw new b("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.nC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},i}(Lt),eu=function(t){function i(i,e){return void 0===e&&(e=0),t.call(this,i,0,e)||this}return Zt(i,t),i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.baseMediaDecodeTime,32)},i}(jT),zT=function(t){function i(i,e){return void 0===e&&(e=0),t.call(this,i,1,e)||this}return Zt(i,t),i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),i.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},i}(jT);function PT(t){var i=t.data,e=Pa(i.nextUint32()),s=e.version,n=e.flags;return 0===s?new eu(i.nextUint32(),n.raw):new zT(i.nextUint64(),n.raw)}r();var en=function(t){function i(i,e){void 0===e&&(e=0);var s=t.call(this,"tfhd",e,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(i))||this;return s.trackId=i.trackId,s.baseDataOffset=i.baseDataOffset,s.sampleDescriptionIndex=i.sampleDescriptionIndex,s.defaultSampleDuration=i.defaultSampleDuration,s.defaultSampleSize=i.defaultSampleSize,s.defaultSampleFlags=i.defaultSampleFlags,s}return Zt(i,t),_.defineProperty(i.prototype,"trackId",{get:function(){return this.Vk},set:function(t){if(!cM(t,32))throw new b("Provided track id does not fit in 32 bits.");this.Vk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"baseDataOffset",{get:function(){return this.rC},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new b("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new b("The base data offset present flag is not set.");if(t&&!cM(t,64))throw new b("Provided baseDataOffset does not fit in 32 bits.");this.rC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"sampleDescriptionIndex",{get:function(){return this.hC},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new b("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new b("The sample description index flag is not set.");if(t&&!cM(t,32))throw new b("Provided sampleDescriptionIndex does not fit in 32 bits.");this.hC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"defaultSampleDuration",{get:function(){return this.Hk},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new b("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new b("The default sample duration present flag is not set.");if(t&&!cM(t,32))throw new b("Provided defaultSampleDuration does not fit in 32 bits.");this.Hk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"defaultSampleSize",{get:function(){return this.qk},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new b("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new b("The default sample size present flag is not set.");if(t&&!cM(t,32))throw new b("Provided defaultSampleSize does not fit in 32 bits.");this.qk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"defaultSampleFlags",{get:function(){return this.Xk},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new b("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new b("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!cM(t.samplePaddingValue,3))throw new b("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!cM(t.sampleDegradationPriority,16))throw new b("Provided sample degradation priority does not fit in 16 bits.");this.Xk=t},enumerable:!1,configurable:!0}),i.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},i.prototype.getBoxContentSize=function(){var i=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(i+=8),this.flags.sampleDescriptionIndexPresent&&(i+=4),this.flags.defaultSampleDurationPresent&&(i+=4),this.flags.defaultSampleSizePresent&&(i+=4),this.flags.defaultSampleFlagsPresent&&(i+=4),i},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(i.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),i.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&i.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&i.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&i.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&fT(this.defaultSampleFlags,i)},i}(Lt);function BT(t){var i=t.data,e=i.nextUint8(),s=new Tu(Xr.from(i.nextUint8Array(3)));s.skipBits(6);var n=Boolean(s.readBit()),r=Boolean(s.readBit());s.skipBits(10);var h=Boolean(s.readBit()),o=Boolean(s.readBit()),a=Boolean(s.readBit());s.skipBits(1);var u=Boolean(s.readBit()),c=Boolean(s.readBit()),l=i.nextUint32(),d=c?i.nextUint64():void 0,f=u?i.nextUint32():void 0,_=a?i.nextUint32():void 0,g=o?i.nextUint32():void 0,w=h?OM(new Tu(Xr.from(i.nextUint8Array(4)))):void 0;return new en({trackId:l,defaultBaseIsMoof:n,durationIsEmpty:r,baseDataOffset:d,sampleDescriptionIndex:f,defaultSampleDuration:_,defaultSampleSize:g,defaultSampleFlags:w},e)}r();var uu=function(t){function i(i,e,s){var n=t.call(this,"trun",i,function(t){var i,e,s,n;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(i=t.sampleDurationPresent)&&void 0!==i&&i,sampleSizePresent:null!==(e=t.sampleSizePresent)&&void 0!==e&&e,sampleFlagsPresent:null!==(s=t.sampleFlagsPresent)&&void 0!==s&&s,sampleCompositionTimeOffsetsPresent:null!==(n=t.sampleCompositionTimeOffsetsPresent)&&void 0!==n&&n}}(e))||this;return n.dataOffset=e.dataOffset,n.samples=s,n.firstSampleFlags=e.firstSampleFlags,n}return Zt(i,t),_.defineProperty(i.prototype,"dataOffset",{get:function(){return this.oC},set:function(t){if(t&&!cM(t,32))throw new b("Provided data offset does not fit in 32 bits.");this.oC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"firstSampleFlags",{get:function(){return this.aC},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!cM(t.samplePaddingValue,3))throw new b("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!cM(t.sampleDegradationPriority,16))throw new b("Provided sample degradation priority does not fit in 16 bits.");this.aC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"samples",{get:function(){return this.uC},set:function(t){var i,e;if(!cM(t.length,32))throw new b("The sample count cannot be represented in 32 bits.");for(var s=0,n=t;s<n.length;s++){var r=n[s];if(void 0===r.duration&&this.flags.sampleDurationPresent)throw new b("The sample duration present flag is set.");if(void 0!==r.duration&&!this.flags.sampleDurationPresent)throw new b("The sample duration present flag is not set.");if(r.duration&&!cM(r.duration,32))throw new b("Provided sample duration does not fit in 32 bits.");if(void 0===r.size&&this.flags.sampleSizePresent)throw new b("The sample size present flag is set.");if(void 0!==r.size&&!this.flags.sampleSizePresent)throw new b("The sample size present flag is not set.");if(r.size&&!cM(r.size,32))throw new b("Provided sample size does not fit in 32 bits.");if(void 0===r.flags&&this.flags.sampleFlagsPresent)throw new b("The sample flags present flag is set.");if(void 0!==r.flags&&!this.flags.sampleFlagsPresent)throw new b("The sample flags present flag is not set.");if((null===(i=r.flags)||void 0===i?void 0:i.samplePaddingValue)&&!cM(r.flags.samplePaddingValue,3))throw new b("Provided sample padding value does not fit in 3 bits.");if((null===(e=r.flags)||void 0===e?void 0:e.sampleDegradationPriority)&&!cM(r.flags.sampleDegradationPriority,16))throw new b("Provided sample degradation priority does not fit in 16 bits.");if(void 0===r.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new b("The sample compositionTimeOffset present flag is set.");if(void 0!==r.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new b("The sample compositionTimeOffset present flag is not set.");if(r.compositionTimeOffset&&!cM(r.compositionTimeOffset,32))throw new b("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.uC=t},enumerable:!1,configurable:!0}),i.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},i.prototype.getBoxContentSize=function(){var i=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(i+=4),this.flags.firstSampleFlagsPresent&&(i+=4),this.flags.sampleDurationPresent&&(i+=4*this.samples.length),this.flags.sampleSizePresent&&(i+=4*this.samples.length),this.flags.sampleFlagsPresent&&(i+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(i+=4*this.samples.length),i},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&i.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&fT(this.firstSampleFlags,i);for(var e=0,s=this.samples;e<s.length;e++){var n=s[e];this.flags.sampleDurationPresent&&i.writer.writeUInt(n.duration,32),this.flags.sampleSizePresent&&i.writer.writeUInt(n.size,32),this.flags.sampleFlagsPresent&&fT(n.flags,i),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?i.writer.writeUInt(n.compositionTimeOffset,32):i.writer.writeInt(n.compositionTimeOffset,32))}},i}(Lt);function RT(t){var i=t.data,e=i.nextUint8(),s=new Tu(Xr.from(i.nextUint8Array(3)));s.skipBits(12);var n=Boolean(s.readBit()),r=Boolean(s.readBit()),h=Boolean(s.readBit()),o=Boolean(s.readBit());s.skipBits(5);var a=Boolean(s.readBit());s.skipBits(1);var u=Boolean(s.readBit()),c=i.nextUint32(),l={sampleDurationPresent:o,sampleSizePresent:h,sampleFlagsPresent:r,sampleCompositionTimeOffsetsPresent:n};u&&(l.dataOffset=i.nextInt32()),a&&(l.firstSampleFlags=OM(new Tu(Xr.from(i.nextUint8Array(4)))));for(var d=[],f=0;f<c;f++){var _={};o&&(_.duration=i.nextUint32()),h&&(_.size=i.nextUint32()),r&&(_.flags=OM(new Tu(Xr.from(i.nextUint8Array(4))))),n&&(_.compositionTimeOffset=0===e?i.nextUint32():i.nextInt32()),d.push(_)}return new uu(e,l,d)}var Is=function(t){function i(){return t.call(this,"traf")||this}return Zt(i,t),i}(B);function UT(t){for(var i=new Is,e=0,s=Bo(t.data);e<s.length;e++){var n=s[e];lo(n,"tfhd")?i.boxes.push(BT(n)):lo(n,"tfdt")?i.boxes.push(PT(n)):lo(n,"trun")?i.boxes.push(RT(n)):i.boxes.push(Vh(n))}return i}var QT=function(t){function i(){return t.call(this,"moof")||this}return Zt(i,t),i}(B);function FT(t){for(var i=new QT,e=0,s=Bo(t.data);e<s.length;e++){var n=s[e];lo(n,"traf")?i.boxes.push(UT(n)):lo(n,"pssh")?i.boxes.push(Ne(n)):i.boxes.push(Vh(n))}return i}r();!function(t){function i(i){var e=t.call(this,"mfhd",0,0)||this;return e.sequenceNumber=i,e}Zt(i,t),_.defineProperty(i.prototype,"sequenceNumber",{get:function(){return this.cC},set:function(t){if(!cM(t,32))throw new b("Provided sequence number does not fit in 32 bits.");this.cC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.sequenceNumber,32)}}(Lt);r();var YT=function(t){function i(i){var e=t.call(this,"frma")||this;return e.codingName=i,e}return Zt(i,t),_.defineProperty(i.prototype,"codingName",{get:function(){return this.lC},set:function(t){if(4!==t.length)throw new b("Provided coding name was not 4 characters long.");this.lC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 4},i.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},i}(no);r();!function(t){function i(i,e){var s=t.call(this,"pasp")||this;return s.hSpacing=i,s.vSpacing=e,s}Zt(i,t),_.defineProperty(i.prototype,"hSpacing",{get:function(){return this.dC},set:function(t){if(!cM(t,32))throw new b("Provided hSpacing does not fit in 32 bits.");this.dC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"vSpacing",{get:function(){return this.fC},set:function(t){if(!cM(t,32))throw new b("Provided vSpacing does not fit in 32 bits.");this.fC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 8},i.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(no);r();!function(t){function i(i,e,s){var n=t.call(this,i)||this;return n.sample=e,n.sinf=s,n}Zt(i,t),i.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},i.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(B);r();!function(t){function i(i,e,s){var n=t.call(this,"sinf")||this;return n.schm=e,n.schi=s,n.frma=new YT(i),n}Zt(i,t),i.prototype.getBoxContentSize=function(){var t,i,e,s;return this.frma.getSize()+(null!==(i=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==i?i:0)+(null!==(s=null===(e=this.schi)||void 0===e?void 0:e.getSize())&&void 0!==s?s:0)},i.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(no);r();var GT=function(t){function i(i,e,s){var n=t.call(this,"saio",i,void 0===s?0:1)||this;return n.entries=e,n.explicitAuxInfoType=s,n}return Zt(i,t),_.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"entries",{get:function(){return this.Mk},set:function(t){var i=this;if(!cM(t.length,32))throw new b("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!cM(t,i.bitSize)})))throw new b("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Mk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"explicitAuxInfoType",{get:function(){return this._C},set:function(t){if(void 0===t)this.flags=0;else{if(!cM(t.auxInfoType,32))throw new b("Provided auxInfoType does not fit in 32 bits.");if(!cM(t.auxInfoTypeParameter,32))throw new b("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this._C=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),void 0!==this.explicitAuxInfoType&&(i.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),i.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),i.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(i)},i}(Lt);(function(t){function i(){return null!==t&&t.apply(this,arguments)||this}Zt(i,t),i.prototype.serializeSaioContent=function(t){for(var i=0,e=this.entries;i<e.length;i++){var s=e[i];t.writer.writeUInt(s,32)}}})(GT),function(t){function i(){return null!==t&&t.apply(this,arguments)||this}Zt(i,t),i.prototype.serializeSaioContent=function(t){for(var i=0,e=this.entries;i<e.length;i++){var s=e[i];t.writer.writeUInt(s.getHighBitsUnsigned(),32),t.writer.writeUInt(s.getLowBitsUnsigned(),32)}}}(GT);r();!function(t){function i(i,e,s){var n=t.call(this,"saiz",0,void 0===s?0:1)||this;return n.defaultSampleInfoSize=i,n.sampleInfoSizes=e,n.explicitAuxInfoType=s,n}Zt(i,t),_.defineProperty(i.prototype,"defaultSampleInfoSize",{get:function(){return this.gC},set:function(t){if(!cM(t,8))throw new b("Provided defaultSampleInfoSize does not fit in a single byte.");this.gC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"sampleInfoSizes",{get:function(){return this.wC},set:function(t){if(!cM(t.length,32))throw new b("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!cM(t,8)})))throw new b("Not all provided sampleInfoSizes fit in a byte.");this.wC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"explicitAuxInfoType",{get:function(){return this._C},set:function(t){if(void 0===t)this.flags=0;else{if(!cM(t.auxInfoType,32))throw new b("Provided auxInfoType does not fit in 32 bits.");if(!cM(t.auxInfoTypeParameter,32))throw new b("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this._C=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},i.prototype.serializeBoxContent=function(i){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new b("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,i),void 0!==this.explicitAuxInfoType&&(i.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),i.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),i.writer.writeByte(this.defaultSampleInfoSize),i.writer.writeUInt(this.sampleInfoSizes.length,32);for(var e=0,s=this.sampleInfoSizes;e<s.length;e++){var n=s[e];i.writer.writeByte(n)}}}(Lt);r();!function(t){function i(i){var e=t.call(this,"sdtp",0,0)||this;return e.samples=i,e}Zt(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i);for(var e=0,s=this.samples;e<s.length;e++){dT(s[e],i)}}}(Lt);r();!function(t){function i(i){return t.call(this,"stsd",i,0)||this}Zt(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.boxes.length,32)}}(yu);r();var VT=function(t){function i(i,e,s){var n=t.call(this,"sgpd",i,0)||this;return n.entries=s,n.groupingType=e,n}return Zt(i,t),_.defineProperty(i.prototype,"groupingType",{get:function(){return this.AC},set:function(t){if(4!==t.length)throw new b("The provided groupingType does not equal 4 characters.");this.AC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeString(this.groupingType),this.serializeVersionBoxContent(i),i.writer.writeUInt(this.entries.length,32);for(var e=0,s=this.entries;e<s.length;e++){var n=s[e];this.serializeEntryBoxContent(i,n)}},i.prototype.serializeEntryBoxContent=function(t,i){i.serializeBoxContent(t)},i}(Lt);(function(t){function i(i,e){return t.call(this,0,i,e)||this}Zt(i,t),i.prototype.serializeVersionBoxContent=function(t){}})(VT),function(t){function i(i,e,s){var n=t.call(this,1,i,s)||this;return n.defaultLength=e,n}Zt(i,t),_.defineProperty(i.prototype,"defaultLength",{get:function(){return this.vC},set:function(t){if(!cM(t,32))throw new b("The provided defaultLength does not fit in 32 bits.");this.vC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},i.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},i.prototype.serializeEntryBoxContent=function(t,i){0===this.defaultLength&&t.writer.writeUInt(i.getBoxContentSize(),32),i.serializeBoxContent(t)}}(VT),function(t){function i(i,e,s,n){void 0===n&&(n=0);var r=this;if(i<2)throw new b("This constructor is only meant for versions 2 and up.");return(r=t.call(this,i,e,s)||this).defaultSampleDescriptionIndex=n,r}Zt(i,t),_.defineProperty(i.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Wk},set:function(t){if(!cM(t,32))throw new b("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Wk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},i.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(VT);r();(function(t){function i(i){void 0===i&&(i=[]);var e=t.call(this,"stsz",0,0)||this;return e.sampleSizes=i,e}Zt(i,t),_.defineProperty(i.prototype,"sampleSizes",{get:function(){return this.mC},set:function(t){if(!cM(t.length,32))throw new b("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!cM(t,32)})))throw new b("Not all sampleSizes can be represented in 32 bits.");this.mC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(0,32),i.writer.writeUInt(this.sampleSizes.length,32);for(var e=0,s=this.sampleSizes;e<s.length;e++){var n=s[e];i.writer.writeUInt(n,32)}}})(Lt),function(t){function i(i,e){void 0===i&&(i=0),void 0===e&&(e=0);var s=t.call(this,"stsz",0,0)||this;return s.defaultSampleSize=i,s.samples=e,s}Zt(i,t),_.defineProperty(i.prototype,"defaultSampleSize",{get:function(){return this.qk},set:function(t){if(!cM(t,32))throw new b("Provided defaultSampleSize does not fit in 32 bits.");this.qk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"samples",{get:function(){return this.uC},set:function(t){if(!cM(t,32))throw new b("Number of allowed samples cannot fit in 32 bits.");this.uC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.defaultSampleSize,32),i.writer.writeUInt(this.samples,32)}}(Lt);r();!function(t){function i(){return t.call(this,"stbl")||this}Zt(i,t)}(B);r();!function(t){function i(i){var e=t.call(this,"stsc",0,0)||this;return e.entries=i,e}Zt(i,t),_.defineProperty(i.prototype,"entries",{get:function(){return this.Mk},set:function(t){if(!cM(t.length,32))throw new b("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!cM(t.firstChunk,32)||!cM(t.sampleDescriptionIndex,32)||!cM(t.samplesPerChunk,32)})))throw new b("Not all entries can be represented in 96 bits.");this.Mk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.entries.length,32);for(var e=0,s=this.entries;e<s.length;e++){var n=s[e];i.writer.writeUInt(n.firstChunk,32),i.writer.writeUInt(n.samplesPerChunk,32),i.writer.writeUInt(n.sampleDescriptionIndex,32)}}}(Lt);r();!function(t){function i(){return t.call(this,"schi")||this}Zt(i,t)}(B);r();!function(t){function i(i,e,s){var n=t.call(this,"schm",0,void 0===s?0:1)||this;return n.schemeType=i,n.schemeVersion=e,n.schemeUri=s,n}Zt(i,t),_.defineProperty(i.prototype,"schemeType",{get:function(){return this.pC},set:function(t){if(4!==t.length)throw new b("The provided schemeType does not have a length of 4.");this.pC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"schemeVersion",{get:function(){return this.yC},set:function(t){if(!cM(t,32))throw new b("The provided schemeVersion does not fit in 23 bits.");this.yC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"schemeUri",{get:function(){return this.MC},set:function(t){if(t&&4!==t.length)throw new b("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.MC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeString(this.schemeType),i.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(i.writer.writeString(this.schemeUri),i.writer.writeByte(0))}}(Lt);r();var WT=function(t){function i(i,e,s,n,r,h,o){void 0===o&&(o=0);var a=t.call(this,"sidx",i,o)||this;return a.referenceId=e,a.timescale=s,a.earliestPresentationTime=n,a.firstOffset=r,a.references=h,a}return Zt(i,t),_.defineProperty(i.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"referenceId",{get:function(){return this.TC},set:function(t){if(!cM(t,32))throw new b("Provided referenceId does not fit in 32 bits.");this.TC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"timescale",{get:function(){return this.Bk},set:function(t){if(!cM(t,32))throw new b("Provided timescale does not fit in 32 bits.");this.Bk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"earliestPresentationTime",{get:function(){return this.NC},set:function(t){if(!cM(t,this.bitSize))throw new b("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.NC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"firstOffset",{get:function(){return this.DC},set:function(t){if(!cM(t,this.bitSize))throw new b("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.DC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"references",{get:function(){return this.IC},set:function(t){if(!cM(t.length,16))throw new b("The number of provided reference items does not fit in 16 bits.");for(var i=0,e=t;i<e.length;i++){var s=e[i];if(!cM(s.referencedSize,31))throw new b("Provided referenced size does not fit in 31 bits.");if(!cM(s.subsegmentDuration,32))throw new b("Provided subsegment duration does not fit in 31 bits.");if(!cM(s.sapType,3))throw new b("Provided SAP type does not fit in 3 bits.");if(!cM(s.sapDeltaTime,28))throw new b("Provided SAP delta time does not fit in 28 bits.")}this.IC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.referenceId,32),i.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(i),i.writer.writeUInt(0,16),i.writer.writeUInt(this.references.length,16);for(var e=0,s=this.references;e<s.length;e++){var n=s[e];i.writer.writeBit(n.referenceType),i.writer.writeUInt(n.referencedSize,31),i.writer.writeUInt(n.subsegmentDuration,32),i.writer.writeBool(n.startsWithSap),i.writer.writeUInt(n.sapType,3),i.writer.writeUInt(n.sapDeltaTime,28)}},i}(Lt),HT=function(t){function i(i,e,s,n,r,h){return void 0===h&&(h=0),t.call(this,0,i,e,s,n,r,h)||this}return Zt(i,t),i.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},i}(WT),qT=function(t){function i(i,e,s,n,r,h){return void 0===h&&(h=0),t.call(this,1,i,e,s,n,r,h)||this}return Zt(i,t),i.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},i}(WT);r();var XT=function(t){function i(i,e,s){return t.call(this,"styp",i,e,s)||this}return Zt(i,t),i}(qM);function ZT(t){for(var i=t.data,e=i.nextChars(4),s=i.nextUint32(),n=[];i.cursor.offset<i.data.byteLength;)n.push(i.nextChars(4));return new XT(e,s,n)}r();!function(t){function i(i){void 0===i&&(i=0);var e=t.call(this,"smhd",0,0)||this;return e.balance=i,e}Zt(i,t),_.defineProperty(i.prototype,"balance",{get:function(){return this.SC},set:function(t){if(t<-1||t>1)throw new b("Provided balance does not fit in the allowed range [-1, 1].");if(!cM(E(t,8),16))throw new b("Provided balance does not fit in 16 bits (fixed 8.8).");this.SC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(E(this.balance,8),16),i.writer.writeUInt(0,16)}}(Lt);r();!function(t){function i(i){var e=t.call(this,"stss",0,0)||this;return e.entries=i,e}Zt(i,t),_.defineProperty(i.prototype,"entries",{get:function(){return this.Mk},set:function(t){if(!cM(t.length,32))throw new b("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!cM(t,32)})))throw new b("Not all entries can be represented in 32 bits.");this.Mk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.entries.length,32);for(var e=0,s=this.entries;e<s.length;e++){var n=s[e];i.writer.writeUInt(n,32)}}}(Lt);r();!function(t){function i(i){var e=t.call(this,"stts",0,0)||this;return e.entries=i,e}Zt(i,t),_.defineProperty(i.prototype,"entries",{get:function(){return this.Mk},set:function(t){if(!cM(t.length,32))throw new b("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!cM(t.sampleCount,32)||!cM(t.sampleDelta,32)})))throw new b("Not all entries can be represented in 64 bits.");this.Mk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.entries.length,32);for(var e=0,s=this.entries;e<s.length;e++){var n=s[e];i.writer.writeUInt(n.sampleCount,32),i.writer.writeUInt(n.sampleDelta,32)}}}(Lt);r();!function(t){function i(i){var e=t.call(this,"trep",0,0)||this;return e.trackId=i,e}Zt(i,t),_.defineProperty(i.prototype,"trackId",{get:function(){return this.Vk},set:function(t){if(!cM(t,32))throw new b("The provided trackId does not fit in 32 bits.");this.Vk=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.trackId,32)}}(yu);r();!function(t){function i(){return t.call(this,"udta")||this}Zt(i,t)}(B);r();var KT={red:0,green:0,blue:0};!function(t){function i(i,e){void 0===i&&(i=0),void 0===e&&(e=KT);var s=t.call(this,"vmhd",0,1)||this;return s.graphicsMode=i,s.opColor=e,s}Zt(i,t),_.defineProperty(i.prototype,"opColor",{get:function(){return this.EC},set:function(t){if(!cM(t.red,16)||!cM(t.green,16)||!cM(t.blue,16))throw new b("Not all colors could be represented in 16 bits.");this.EC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.graphicsMode,16),i.writer.writeUInt(this.opColor.red,16),i.writer.writeUInt(this.opColor.green,16),i.writer.writeUInt(this.opColor.blue,16)}}(Lt);r();var JT=function(t){function i(i,e,s,n,r){void 0===n&&(n={}),void 0===r&&(r=void 0);var h,o,a,u,c,l=this;return(l=t.call(this,i,e)||this).width=s.width,l.height=s.height,l.horizontalResolution=null!==(h=s.horizontal)&&void 0!==h?h:72,l.verticalResolution=null!==(o=s.vertical)&&void 0!==o?o:72,l.compressorName=null!==(a=n.compressorName)&&void 0!==a?a:"",l.frameCount=null!==(u=n.frameCount)&&void 0!==u?u:1,l.depth=null!==(c=n.depth)&&void 0!==c?c:24,l.clap=n.clap,l.pasp=n.pasp,l.extra=r,l}return Zt(i,t),_.defineProperty(i.prototype,"width",{get:function(){return this.tC},set:function(t){if(!cM(t,16))throw new b("Provided width does not fit in 16 bits.");this.tC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"height",{get:function(){return this.iC},set:function(t){if(!cM(t,16))throw new b("Provided height does not fit in 16 bits.");this.iC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"horizontalResolution",{get:function(){return this.bC},set:function(t){if(!cM(E(t,16),32))throw new b("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.bC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"verticalResolution",{get:function(){return this.LC},set:function(t){if(!cM(E(t,16),32))throw new b("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.LC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"compressorName",{get:function(){return this.kC},set:function(t){if(t.length>31)throw new b("The provided compressorName should at most be 31 characters long.");this.kC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"frameCount",{get:function(){return this.xC},set:function(t){if(!cM(t,16))throw new b("Provided frameCount does not fit in 16 bits.");this.xC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"depth",{get:function(){return this.OC},set:function(t){if(!cM(t,16))throw new b("Provided depth does not fit in 16 bits.");this.OC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){var i,e,s,n,r,h;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(e=null===(i=this.clap)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)+(null!==(n=null===(s=this.pasp)||void 0===s?void 0:s.getSize())&&void 0!==n?n:0)+(null!==(h=null===(r=this.extra)||void 0===r?void 0:r.length)&&void 0!==h?h:0)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(0,16),i.writer.writeUInt(0,16),i.writer.writeUInt(0,32),i.writer.writeUInt(0,32),i.writer.writeUInt(0,32),i.writer.writeUInt(this.width,16),i.writer.writeUInt(this.height,16),i.writer.writeUInt(E(this.horizontalResolution,16),32),i.writer.writeUInt(E(this.verticalResolution,16),32),i.writer.writeUInt(0,32),i.writer.writeUInt(this.frameCount,16),i.writer.writeByte(this.compressorName.length),i.writer.writeString(this.compressorName);for(var e=0;e<31-this.compressorName.length;e++)i.writer.writeByte(0);i.writer.writeUInt(this.depth,16),i.writer.writeInt(-1,16),this.clap&&i.concat(this.clap.serialize()),this.pasp&&i.concat(this.pasp.serialize()),this.extra&&lM(i.writer,this.extra)},i}(UM);r(),r();!function(t){function i(i){var e=t.call(this,"esds",0,0)||this;return e.esDescriptor=i,e}Zt(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof T?this.esDescriptor.length:this.esDescriptor.getSize())},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.esDescriptor instanceof T?i.concat(Xr.from(this.esDescriptor)):this.esDescriptor.serialize(i)}}(Lt);r();!function(t){function i(i,e,s){var n=t.call(this,"mp4a",i,s)||this;return n.esd=e,n}Zt(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.concat(this.esd.serialize())}}(QM);r();!function(t){function i(i,e,s,n){void 0===n&&(n={});var r=t.call(this,"mp4v",i,e,n)||this;return r.esDescriptor=s,r}Zt(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.esDescriptor.serialize(i)}}(JT);r();!function(t){function i(i,e){var s=t.call(this,"mp4s",i)||this;return s.esDescriptor=e,s}Zt(i,t),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.esDescriptor.serialize(i)}}(UM);r(),r();!function(t){function i(i){var e=t.call(this,"avcC")||this;return e.decoderConfig=i,e}Zt(i,t),i.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},i.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(no);r();!function(){function t(t,i,e,s,n,r){void 0===r&&(r=1),this.lengthSizeMinusOne=e,this.version=r,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=i,this.spsSets=s,this.ppsSets=n}_.defineProperty(t.prototype,"version",{get:function(){return this.jC},set:function(t){if(!cM(t,8))throw new b("Provided version does not fit in 8 bits.");this.jC=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"profileIndication",{get:function(){return this.zC},set:function(t){if(!cM(t,8))throw new b("Provided profileIndication does not fit in 8 bits.");this.zC=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.BC},set:function(t){if(!cM(t,8))throw new b("Provided profileCompatibility does not fit in 8 bits.");this.BC=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"levelIndication",{get:function(){return this.RC},set:function(t){if(!cM(t,8))throw new b("Provided levelIndication does not fit in 8 bits.");this.RC=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"spsSets",{get:function(){return this.UC},set:function(t){if(!cM(t.length,5))throw new b("Provided number of spsSets exceeds the max (32)");this.UC=t},enumerable:!1,configurable:!0}),_.defineProperty(t.prototype,"ppsSets",{get:function(){return this.QC},set:function(t){if(!cM(t.length,8))throw new b("Provided number of ppsSets exceeds the max (256)");this.QC=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,i){return t+i.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,i){return t+i.length}),0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var i=0,e=this.spsSets;i<e.length;i++){var s=e[i];t.writer.writeUInt(s.length,16),t.concat(Xr.from(s))}t.writer.writeByte(this.ppsSets.length);for(var n=0,r=this.ppsSets;n<r.length;n++){var h=r[n];t.writer.writeUInt(h.length,16),t.concat(Xr.from(h))}}}();r();!function(t){function i(i,e,s,n,r){void 0===n&&(n={}),void 0===r&&(r=void 0);var h=t.call(this,"avc1",i,e,n)||this;return h.configurationBox=s,h.bitrateBox=r,h}Zt(i,t),i.prototype.getBoxContentSize=function(){var i,e;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(e=null===(i=this.bitrateBox)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.concat(this.configurationBox.serialize()),this.bitrateBox&&i.concat(this.bitrateBox.serialize())}}(JT);r();!function(t){function i(i,e,s){var n=t.call(this,"btrt")||this;return n.bufferSizeDb=i,n.max=e,n.avg=s,n}Zt(i,t),_.defineProperty(i.prototype,"bufferSizeDb",{get:function(){return this.ck},set:function(t){if(!cM(t,32))throw new b("Provided bufferSizeDb does not fit in 32 bits.");this.ck=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"max",{get:function(){return this.FC},set:function(t){if(!cM(t,32))throw new b("Provided max does not fit in 32 bits.");this.FC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"avg",{get:function(){return this.YC},set:function(t){if(!cM(t,32))throw new b("Provided avg does not fit in 32 bits.");this.YC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return 12},i.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(no);r(),r(),r();var $T=function(t){function i(i,e){var s,n,r,h,o=this;if(o=t.call(this,"tenc",i,0)||this,e.perSampleIvSize>0&&(null!==(n=null===(s=e.constantIv)||void 0===s?void 0:s.length)&&void 0!==n?n:0)>0)throw new b("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=e.kId,o.isProtected=null!==(r=e.isProtected)&&void 0!==r?r:1,e.perSampleIvSize>0?o.perSampleIvSize=e.perSampleIvSize:o.constantIv=null!==(h=e.constantIv)&&void 0!==h?h:new T(0),o}return Zt(i,t),_.defineProperty(i.prototype,"isProtected",{get:function(){return this.GC},set:function(t){if(!cM(t,8))throw new b("Provided isProtected does not fit in 1 byte.");this.GC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"perSampleIvSize",{get:function(){return this.VC},set:function(t){if(![8,16].includes(t))throw new b("Provided perSampleIvSize does not match any allowed value [8, 16].");this.VC=t,this.WC=new T(0)},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"kId",{get:function(){return this.HC},set:function(t){if(16!==t.length)throw new b("Provided kId length is not 16.");this.HC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"constantIv",{get:function(){return this.WC},set:function(t){if(![8,16].includes(t.length))throw new b("Provided constant IV length does not match any allowed value [8, 16].");this.WC=t,this.VC=0},enumerable:!1,configurable:!0}),i.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},i.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),this.serializeOwnContent(i)},i.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),lM(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),lM(t.writer,this.constantIv))},i}(Lt),tN=(function(t){function i(i){return t.call(this,0,i)||this}Zt(i,t)}($T),function(t){function i(i){var e=t.call(this,1,i)||this;return e.cryptByteBlocks=i.cryptByteBlock,e.skipByteBlocks=i.skipByteBlock,e}return Zt(i,t),_.defineProperty(i.prototype,"cryptByteBlocks",{get:function(){return this.qC},set:function(t){if(!cM(t,4))throw new b("Provided cryptByteBlocks does not fit in 4 bits.");this.qC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"skipByteBlocks",{get:function(){return this.XC},set:function(t){if(!cM(t,4))throw new b("Provided skipByteBlocks does not fit in 4 bits.");this.XC=t},enumerable:!1,configurable:!0}),i.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},i}($T));!function(t){function i(i){var e=t.call(this)||this;return e.tencBox=new tN(i),e}Zt(i,t),i.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},i.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(_T);function iN(t){return void 0!==t.iv}function eN(t){return void 0!==t.subsamples}r();!function(t){function i(i){var e=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return e.samples=i,e}Zt(i,t),_.defineProperty(i.prototype,"samples",{get:function(){return this.uC},set:function(t){var i;if(!cM(t.length,32))throw new b("The number of samples provided does not fit in 32 bits.");for(var e=0,s=t;e<s.length;e++){var n=s[e];if(iN(n)&&![8,16].includes(n.iv.length))throw new b("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===i&&(i=eN(n)),!0===i&&!eN(n)||!1===i&&eN(n))throw new b("Mix of samples with and without subsamples detected.");if(eN(n)){if(!cM(n.subsamples.length,16))throw new b("Subsample length of one of the provided samples does not fit in 16 bits.");for(var r=0,h=n.subsamples;r<h.length;r++){var o=h[r];if(!cM(o.clearData,16))throw new b("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!cM(o.protectedData,23))throw new b("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=i&&i,this.uC=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){for(var i=0,e=0,s=this.samples;e<s.length;e++){var n=s[e];iN(n)&&(i+=n.iv.length),eN(n)&&(i+=2+6*n.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+i},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeUInt(this.samples.length,32);for(var e=0,s=this.samples;e<s.length;e++){var n=s[e];if(iN(n)&&lM(i.writer,n.iv),eN(n)){i.writer.writeUInt(n.subsamples.length,16);for(var r=0,h=n.subsamples;r<h.length;r++){var o=h[r];i.writer.writeUInt(o.clearData,16),i.writer.writeUInt(o.protectedData,32)}}}},i.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(Lt);r(),r();!function(t){function i(i,e,s,n,r){var h=t.call(this,"emsg",0,0)||this;return h.schemeIdUri=i,h.value=e,h.data=r,h.id=s,h.timescale=n.timescale,h.presentationTimeDelta=n.presentationTimeDelta,h.eventDuration=n.eventDuration,h}Zt(i,t),_.defineProperty(i.prototype,"timescale",{get:function(){return this.Bk},set:function(t){if(!cM(t,32))throw new b("The provided timescale does not fit in 32 bits.");this.Bk=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"presentationTimeDelta",{get:function(){return this.ZC},set:function(t){if(!cM(t,32))throw new b("The provided presentationTimeDelta does not fit in 32 bits.");this.ZC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"eventDuration",{get:function(){return this.KC},set:function(t){if(!cM(t,32))throw new b("The provided eventDuration does not fit in 32 bits.");this.KC=t},enumerable:!1,configurable:!0}),_.defineProperty(i.prototype,"id",{get:function(){return this.NN},set:function(t){if(!cM(t,32))throw new b("The provided id does not fit in 32 bits.");this.NN=t},enumerable:!1,configurable:!0}),i.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},i.prototype.serializeBoxContent=function(i){t.prototype.serializeBoxContent.call(this,i),i.writer.writeString(this.schemeIdUri),i.writer.writeByte(0),i.writer.writeString(this.value),i.writer.writeByte(0),i.writer.writeUInt(this.timescale,32),i.writer.writeUInt(this.presentationTimeDelta,32),i.writer.writeUInt(this.eventDuration,32),i.writer.writeUInt(this.id,32),i.concat(Xr.from(this.data))}}(Lt);r(),r(),r();var sN=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new uM,i=0,e=this.boxes;i<e.length;i++){var s=e[i];t.concat(s.serialize())}return t.toRangedBuffer()},t}();function nN(t,i){return function(e){var s=function(t,i){for(var e=t.data,s=t.cursor;s.offset<e.byteLength;){var n=CM(e,s);if(!n.complete)return;if(lo(n.box,i))return n.box}}(new LM(SM(e),new bM),t);if(!s)throw new b("".concat(t," box not found"));return i(s)}}var rN=nN("moov",OT),hN=nN("sidx",(function(t){var i,e,s=t.data,n=Pa(s.nextUint32()),r=n.version,h=n.flags,o=s.nextUint32(),a=s.nextUint32();0===r?(i=s.nextUint32(),e=s.nextUint32()):(i=s.nextUint64(),e=s.nextUint64()),s.skip(2);for(var u=s.nextUint16(),c=[],l=0;l<u;l++){var d=new Tu(Xr.from(s.nextUint8Array(12))),f=d.readBit(),_=d.readUInt(31),g=d.readUInt(32),w=Boolean(d.readBit()),A=d.readUInt(3),v=d.readUInt(28);c.push({referenceType:f,referencedSize:_,subsegmentDuration:g,startsWithSap:w,sapType:A,sapDeltaTime:v})}return 0===r?new HT(o,a,i,e,c,h.raw):new qT(o,a,i,e,c,h.raw)})),oN=nN("moof",FT),aN=nN("pssh",Ne);function uN(t){return function(t){for(var i=new sN,e=0,s=Bo(t);e<s.length;e++){var n=s[e];lo(n,"ftyp")?i.boxes.push(ZM(n)):lo(n,"styp")?i.boxes.push(ZT(n)):lo(n,"moov")?i.boxes.push(OT(n)):lo(n,"moof")?i.boxes.push(FT(n)):lo(n,"mdat")?i.boxes.push(hT(n)):i.boxes.push(Vh(n))}return i}(new LM(SM(t),new bM))}var cN=class extends i{get JC(){return this.Id}get $C(){return this.tx.expiration}get ix(){return this.sx}get nx(){return this.tx.sessionId}Ws(){if(this.hx)return this.Id;const t=[];return t.push(Promise.resolve(this.tx.close())),t.push(ye(1e3)),this.ox.l_(Promise.race(t).catch(lN)),this.hx=!0,this.Id}ux(t,i,e){if(wn.ib){const t=aN(ts(i));if(1===t.version){i=new wT(t.systemId,t.data).serialize().join()}}return Promise.resolve(this.tx.generateRequest(t,i)).catch(lN)}$n(t){return Promise.resolve(this.tx.load(t)).catch(lN)}pN(){return Promise.resolve(this.tx.remove()).catch(lN)}Qn(t){return Promise.resolve(this.tx.update(t)).catch(lN)}lx(){this.sx.OL(),this.tx.keyStatuses.forEach(((t,i)=>{this._x(i,t)})),this.Co(new ir(this))}_x(t,i){if("string"==typeof t){const e=t;t=i,i=e}const e=ts(t);if(this.fm===zw&&16===e.byteLength){let t=Mo(e),i=t.getUint32(0,!0),s=t.getUint16(4,!0),n=t.getUint16(6,!0);t.setUint32(0,i,!1),t.setUint16(4,s,!1),t.setUint16(6,n,!1)}this.fm===zw&&"status-pending"===i&&(i="usable"),this.sx.xL(e,i)}constructor(t,i){super(),this.tx=t,this.fm=i,this.hx=!1,this.gx=()=>{this.lx()},this.wx=t=>{this.Co(new Bs(this,t.messageType,iM(this.fm,t.message)))},this.Ax=()=>{this.hx=!0,this.sx.ey>0&&(this.sx.OL(),this.Co(new ir(this))),this.tx.removeEventListener("keystatuseschange",this.gx),this.tx.removeEventListener("message",this.wx)},this.tx.addEventListener("keystatuseschange",this.gx),this.tx.addEventListener("message",this.wx),this.sx=new Fs;const e=[];this.tx.closed&&e.push(Promise.resolve(this.tx.closed)),this.ox=new Eo,e.push(this.ox.PL),this.Id=Promise.race(e).then(this.Ax,this.Ax),this.lx()}};function lN(t){let i;if(t.message){const e=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);e&&(i=0|C(e[1],16))}throw new qt(t.message,void 0,i,t)}var dN=class{async vx(t){return new cN(this.mx.createSession(t),this.dm)}yx(t){return Promise.resolve(this.mx.setServerCertificate(t))}bn(t){return Promise.resolve(t.setMediaKeys(this.mx))}Mx(t){return Promise.resolve(t.setMediaKeys(null))}Zn(){return Promise.resolve()}constructor(t,i,e){this.mx=t,this.dm=i,this.wd=e}},fN=class{get dm(){return this.Tx.keySystem}async Nx(){const t=await this.Tx.createMediaKeys();return new dN(t,this.fm,this.Dx)}Ix(){return this.Dx}constructor(t,i,e){this.Tx=t,this.fm=i,this.Dx=e}};r();var _N=wn._b&&wn.wb>=42||wn.Bb&&wn.Ub>=38||wn.Lb||wn.Ob||wn.Wb&&wn.qb>=29;function gN(t,i){return oo(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[At({contentType:t},i?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[At({contentType:t},i?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function wN(){return void 0!==sd&&"function"==typeof sd.requestMediaKeySystemAccess}function AN(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var vN=class{Sx(){return this.Ex(Gy)}bx(){return this.Ex(Ka)}Lx(){return this.Ex(Io)}kx(){return this.Ex(Vy)}Ex(t){const i=t.mL,e=this.Cx.get(i);if(e)return e;const s=this.xx(t,'video/mp4; codecs="avc1.42000a"');return this.Cx.set(i,s),s}async xx(t,i){try{return await this.jx.Ox(t.wL,[gN(i,!0)]),!0}catch(e){try{return await this.jx.Ox(t.wL,[gN(i,!1)]),!0}catch(t){return!1}}}zx(){return this.Px||(this.Px=this.Bx()),this.Px}async Bx(){return"https:"!==Fy.protocol&&(!!_N&&!await this.bx())}constructor(t){this.Cx=Qt(),this.Px=void 0,this.jx=t}};function mN(t,i,e,s){let n=!1;if(s.persistentState&&"optional"!==s.persistentState)return;if(s.distinctiveIdentifier&&"optional"!==s.distinctiveIdentifier)return;const r={audioCapabilities:[],videoCapabilities:[],persistentState:s.persistentState||"optional",distinctiveIdentifier:s.distinctiveIdentifier||"optional",initDataTypes:s.initDataTypes,sessionTypes:["temporary"],label:s.label,Rx:s.Rx};let h=!1;if(s.audioCapabilities){const o=s.audioCapabilities.filter((t=>Boolean(t.contentType)));o.length&&(r.audioCapabilities=o.filter((s=>pN(t,i,e,s))),h=!0,r.audioCapabilities.length&&(n=!0))}if(s.videoCapabilities){const o=s.videoCapabilities.filter((t=>Boolean(t.contentType)));o.length&&(r.videoCapabilities=o.filter((s=>pN(t,i,e,s))),h=!0,r.videoCapabilities.length&&(n=!0))}return h||(n=t(e,"video/mp4")),n?r:void 0}function pN(t,i,e,s){if(!s.contentType)return!1;if(s.encryptionScheme&&!ea(i,s.encryptionScheme))return!1;if(s.robustness)return!1;return t(e,jp(s.contentType))}function yN(t){if(t.videoCapabilities)for(const i of t.videoCapabilities)if(i.contentType)return i.contentType;if(t.audioCapabilities)for(const i of t.audioCapabilities)if(i.contentType)return i.contentType}function MN(t){const i=[];for(const e of t)e.encryptionScheme&&i.push({contentType:e.contentType,robustness:e.robustness});return t.concat(i)}function TN(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(NN))||!(!t.videoCapabilities||!t.videoCapabilities.some(NN))}function NN(t){return!t.robustness}function DN(t,i){const e=[];for(const s of t)s.robustness?e.push(s):e.push(At({},s,{robustness:i}));return e}r();var IN=class{async Ox(t,i){i=i.filter((t=>!t.Rx));for(const t of i)t.audioCapabilities&&(t.audioCapabilities=MN(t.audioCapabilities)),t.videoCapabilities&&(t.videoCapabilities=MN(t.videoCapabilities));if(t===Bw&&i.some(TN)){const e=i.map((t=>function(t,i){return At({},t,{videoCapabilities:t.videoCapabilities?DN(t.videoCapabilities,i):void 0,audioCapabilities:t.audioCapabilities?DN(t.audioCapabilities,i):void 0})}(t,"SW_SECURE_CRYPTO")));try{const i=await sd.requestMediaKeySystemAccess(t,e),s=i.getConfiguration();return new fN(i,t,s)}catch(t){}}const e=await sd.requestMediaKeySystemAccess(t,i),s=e.getConfiguration();return new fN(e,t,s)}static Ux(){return wN()}};r(),r(),r(),r();var SN=class extends i{get nx(){return this.Qx&&this.Qx.sessionId||""}get $C(){return NaN}get JC(){return this.Fx.PL}get ix(){return this.Yx}async ux(t,i,e){this.Gx(),this.Vx=new Eo,this.vx(ts(i),e),await this.Vx.PL}vx(t,i){if(!t)throw new k("Expected initData to be defined but was "+t+".");const e=i&&i.playready&&i.playready.Wx;let s;return s=i?this.Hx.createSession(this.qx,t,e):this.Hx.createSession(this.qx,t),s.addEventListener("mskeyclose",this.Ax),s.addEventListener("mskeymessage",this.Xx),s.addEventListener("mskeyerror",this.Ss),s.addEventListener("mskeyadded",this.Zx),this.Qx=s,this.Kx("status-pending"),s}async $n(t){return this.Gx(),!0}async Qn(t){if(this.Jx=new Eo,this.Gx(),!this.Qx)return Promise.resolve();const i=ts(t);if(0===i.byteLength)throw new k("Cannot call update with an empty response.");this.Qx.update(i),await this.Jx.PL}Ws(){return!this.hx&&this.Qx&&(this.hx=!0,this.Qx.close()),this.Fx.PL}async pN(){this.Gx()}Gx(){if(this.hx)throw new k("Already closing or closed.")}Kx(t){this.Yx.OL(),this.Yx.xL(Se,t),this.Co(new ir(this))}constructor(t,i){super(),this.Hx=t,this.qx=i,this.hx=!1,this.Jx=void 0,this.Vx=void 0,this.Qx=void 0,this.Ax=()=>{this.hx=!0,this.Fx.jL(void 0),this.Qx&&(this.Qx.removeEventListener("mskeyclose",this.Ax),this.Qx.removeEventListener("mskeymessage",this.Xx),this.Qx.removeEventListener("mskeyerror",this.Ss),this.Qx.removeEventListener("mskeyadded",this.Zx))},this.Xx=t=>{this.Vx&&(this.Vx.jL(void 0),this.Vx=void 0),this.Co(new Bs(this,"license-request",Ae(t.message).buffer,t.destinationURL||void 0))},this.Ss=()=>{const t=this.Qx&&this.Qx.error;if(!t)return;const i=new qt("Unknown CDM error",t.code,t.systemCode);if(this.Vx)this.Vx.zL(i),this.Vx=void 0;else if(this.Jx)this.Jx.zL(i),this.Jx=void 0;else switch(i.BL){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:this.Kx("output-not-allowed");break;default:this.Kx("internal-error")}},this.Zx=()=>{this.Vx&&(this.Kx("usable"),this.Vx.jL(void 0),this.Vx=void 0),this.Jx&&(this.Kx("usable"),this.Jx.jL(void 0),this.Jx=void 0)},this.Fx=new Eo,this.Yx=new Fs}},EN=class{async vx(t){return new SN(this.Hx,this.qx)}yx(t){return Promise.resolve(!1)}bn(t){const i=()=>{t.msSetMediaKeys(this.Hx),t.removeEventListener("loadedmetadata",i)};return t.readyState>=1?t.msSetMediaKeys(this.Hx):t.addEventListener("loadedmetadata",i),Promise.resolve()}Mx(t){return Promise.resolve()}Zn(){return Promise.resolve()}constructor(t,i,e){this.Hx=t,this.dm=i,this.wd=e;const s=yN(e)||"video/mp4";this.qx=jp(s)}},bN=class{get dm(){return this.fm}Ix(){return this.$x}Nx(){const t=new Ys.MSMediaKeys(this.fm);return Promise.resolve(new EN(t,this.fm,this.$x))}constructor(t,i){this.fm=t,this.$x=i}},LN=class{Ox(t,i){try{return Promise.resolve(function(t,i){if(!kN())throw new k("Unsupported key system "+t);for(let e of i){let i=mN(CN,Zy,t,e);if(i)return new bN(t,i)}throw new k("Unsupported key system configuration for "+t)}(t,i))}catch(t){return Promise.reject(t)}}static Ux(){return kN()}};function kN(){return void 0!==Ys.MSMediaKeys&&"function"==typeof Ys.MSMediaKeys.isTypeSupported}function CN(t,i){return Ys.MSMediaKeys.isTypeSupported(t,i)}r(),r(),r(),r();var xN=class extends i{get nx(){return this.tO?this.tO.sessionId:""}get $C(){return NaN}get JC(){return this.Fx.PL}get ix(){return this.Yx}ux(t,i,e){const s=e&&e.fairplay&&e.fairplay.iO;if(!s)throw new k("Expected FairPlay contentId to be defined but was "+s+".");const n=function(t,i,e){const s=Ca(t),n=2*s.length,r=2*i.length;let h=new ArrayBuffer(4+n+4+r+4+e.byteLength),o=new DataView(h),a=new Or;return su(o,a,n,!0),UA(o,a,s,!0),su(o,a,r,!0),UA(o,a,i,!0),su(o,a,e.byteLength,!0),ao(o,a,e),new T(h)}(ts(i),s,this.eO);return this.tO=this.sO.createSession(this.qx,n),this.tO.addEventListener("webkitkeymessage",this.Xx,!1),this.tO.addEventListener("webkitkeyadded",this.Zx,!1),this.tO.addEventListener("webkitkeyerror",this.Ss,!1),this.Kx("status-pending"),this.nO.jL(this.tO),this.nO=new Eo,Promise.resolve()}$n(t){return Promise.resolve(!0)}async Qn(t){const i=ts(t);if(0===i.byteLength)throw new k("Cannot call update with an empty response.");this.rO=new Eo;(this.tO||await this.nO.PL).update(i),await this.rO.PL}Ws(){var t;const i=this.tO;return i&&(i.removeEventListener("webkitkeymessage",this.Xx,!1),i.removeEventListener("webkitkeyadded",this.Zx,!1),i.removeEventListener("webkitkeyerror",this.Ss,!1),i.close()),this.nO.c_(),null==(t=this.rO)||t.c_(),this.Fx.jL(void 0),this.Fx.PL}pN(){return Promise.resolve(void 0)}Kx(t){this.Yx.OL(),this.Yx.xL(Se,t),this.Co(new ir(this))}constructor(t,i,e){super(),this.sO=t,this.qx=i,this.eO=e,this.Fx=new Eo,this.rO=void 0,this.Yx=new Fs,this.tO=void 0,this.nO=new Eo,this.Ss=()=>{const t=this.tO&&this.tO.error;if(!t)return;const i=new qt("Unknown CDM error",t.code,t.systemCode);this.rO?(this.rO.zL(i),this.rO=void 0):i.BL===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Kx("output-not-allowed"):this.Kx("internal-error"),this.Co(new Jy)},this.Xx=t=>{this.Co(new Bs(this,"license-request",Ae(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},this.Zx=()=>{this.rO&&(this.rO.jL(void 0),this.rO=void 0),this.Kx("usable")}}};var ON=class{getInternalMediaKeys(){return this.sO}async vx(t){if(!this.eO)throw new ce(p_.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return new xN(this.sO,this.qx,this.eO)}yx(t){return this.eO=ts(t),Promise.resolve(!0)}bn(t){return t.webkitSetMediaKeys(this.sO),Promise.resolve()}Mx(t){return t.webkitSetMediaKeys(null),Promise.resolve()}Zn(){return Promise.resolve()}constructor(t,i,e){this.sO=t,this.dm=i,this.wd=e,this.eO=void 0;const s=yN(e)||"video/mp4";this.qx=jp(s)}},jN=class{get dm(){return this.fm}Ix(){return this.$x}Nx(){const t=new Ys.WebKitMediaKeys(this.fm);return Promise.resolve(new ON(t,this.fm,this.$x))}constructor(t,i){this.fm=t,this.$x=i}},zN=class{Ox(t,i){try{return Promise.resolve(function(t,i){if(t!==Qw)throw new k(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!PN())throw new k("Unsupported key system "+t);for(let e of i){let i=mN(BN,Ky,t,e);if(i)return new jN(t,i)}throw new k("Unsupported key system configuration for "+t)}(t,i))}catch(t){return Promise.reject(t)}}static Ux(){return PN()}};function PN(){return void 0!==Ys.WebKitMediaKeys&&"function"==typeof Ys.WebKitMediaKeys.isTypeSupported}function BN(t,i){return Ys.WebKitMediaKeys.isTypeSupported(t,i)}r();var RN=class{async Ox(t,i){for(let e of this.hO)try{return await e.Ox(t,i)}catch(t){}throw new k("Unsupported key system configuration for "+t)}constructor(t){this.hO=t}};r(),r(),r(),r(),r();var Vi=class{oO(t,i){return new Promise((e=>{const s=new Ao;s.l_(this.aO.a_),i&&s.l_(i);const n=()=>{s.e_()};this.uO.push((()=>{const i=UN(t,s.a_);return e(i),i.then(n,n)})),this.cO||(this.cO=this.lO())}))}c_(){return this.dO(!0)}gn(){return this.fO=void 0,this.dO(!1)}dO(t){const i=this.cO;return this.aO.c_(),t&&(this.aO=new Ao),Promise.resolve(i)}constructor(t){this.uO=[],this.cO=void 0,this.aO=new Ao,this.lO=()=>{if(0===this.uO.length)return this.fO?UN(this.fO,this.aO.a_).then(this._O,this._O):this._O();return this.uO.shift()().then(this.lO)},this._O=()=>{if(0!==this.uO.length)return this.lO();this.cO=void 0},this.fO=t}};function UN(t,i){return new Promise((e=>e(t(i))))}var QN,FN=new Vi,YN=class extends i{gO(){this.rO&&(this.Kx("usable"),this.rO.jL(void 0),this.rO=void 0)}wO(t){const i=new qt("Unknown CDM error",t.errorCode,t.systemCode);this.rO?(this.rO.zL(i),this.rO=void 0):this.Vx?(this.Vx.zL(i),this.Vx=void 0):i.BL===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Kx("output-restricted"):1===i.RL?this.Kx("expired"):this.Kx("internal-error")}AO(t){0!==t.message.byteLength&&(this.Vx&&(this.Vx.jL(void 0),this.Vx=void 0),this.Co(new Bs(this,"license-request",iM(this.fm,Ae(t.message).buffer),t.defaultURL||void 0)))}vO(t){this.mO||(this.mO=t,this.pO.jL(t))}get ix(){return this.yO}get nx(){return this.MO}set nx(t){this.MO=t}get JC(){return this.Fx.PL}get $C(){return NaN}async Ws(){this.throwIfClosed(),this.rO&&(this.rO.zL(void 0),this.rO=void 0),this.XL=!0,this.Fx.jL(void 0)}async ux(t,i){this.throwIfClosed(),this.Vx=new Eo,this.TO=ts(i);(this.mO||await this.pO.PL).webkitGenerateKeyRequest(this.fm,this.TO),await this.Vx.PL}async $n(t){return this.throwIfClosed(),!1}async pN(){this.throwIfClosed()}async Qn(t){if(this.throwIfClosed(),this.rO=new Eo,wn.Ib||wn.Mb)return FN.oO((async()=>{await this.doUpdate(t)}));await this.doUpdate(t)}async doUpdate(t){if(void 0===this.rO)return;(this.mO||await this.pO.PL).webkitAddKey(this.fm,ts(t),this.TO,this.nx),await this.rO.PL}throwIfClosed(){if(this.XL)throw new k("Already closing or closed.")}Kx(t){this.yO.OL(),this.yO.xL(Se,t),this.Co(new ir(this))}async DO(){const t=this.mO||await this.pO.PL;if(t.webkitCancelKeyRequest)try{t.webkitCancelKeyRequest(this.fm,this.MO)}catch(t){}finally{await ye(500)}}constructor(t){super(),this.fm=t,this.Vx=void 0,this.rO=void 0,this.XL=!1,this.TO=void 0,this.mO=void 0,this.Fx=new Eo,this.MO="",this.pO=new Eo,this.yO=new Fs}},GN=class{bn(t){return this.mO=t,this.mO.addEventListener("webkitkeyadded",this.Zx),this.mO.addEventListener("webkitkeyerror",this.IO),this.mO.addEventListener("webkitkeymessage",this.SO),this.EO.forEach(((i,e)=>i.vO(t))),this.bO.forEach((i=>i.vO(t))),Promise.resolve()}Mx(t){return t.removeEventListener("webkitkeyadded",this.Zx),t.removeEventListener("webkitkeyerror",this.IO),t.removeEventListener("webkitkeymessage",this.SO),this.mO=void 0,Promise.resolve()}async Zn(){let t=this.EO.entries(),i=t.next();for(;!i.done;)await i.value[1].DO(),i=t.next();this.EO.clear()}async vx(t,i,e){const s=new YN(this.dm);return this.mO&&s.vO(this.mO),this.bO.push(s),s}yx(t){return Promise.resolve(!1)}LO(t){if(!t)return;let i=this.EO.get(t);return i||(i=this.bO.shift(),i?(i.nx=t,this.EO.set(t,i),i):void 0)}constructor(t,i){this.dm=t,this.wd=i,this.mO=void 0,this.EO=Qt(),this.bO=[],this.Zx=t=>{const i=this.LO(t.sessionId);i&&i.gO()},this.IO=t=>{const i=this.LO(t.sessionId);i&&i.wO(t)},this.SO=t=>{const i=this.LO(t.sessionId);i&&i.AO(t)}}},VN=class{Nx(){return Promise.resolve(new GN(this.dm,this.kO))}Ix(){return this.kO}constructor(t,i){this.dm=t,this.kO=i}};function ei(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function sn(t){if(!t)return;let i;for(;j_(i=t.firstChild);)t.removeChild(i)}function WN(t){const i=t.className;return"string"==typeof i?i:i&&"string"==typeof i.baseVal?i.baseVal:""}function HN(t,i){const e=t.className;"string"==typeof e?t.className=i:e&&"string"==typeof e.baseVal&&(e.baseVal=i)}function qN(t,i){return void 0!==t.classList?t.classList.contains(i):void 0!==t.className&&-1!==(" "+WN(t)+" ").indexOf(" "+i+" ")}function ku(t,i){if(void 0!==t.classList)t.classList.add(i);else if(void 0!==t.className){const e=WN(t);-1===(" "+e+" ").indexOf(" "+i+" ")&&HN(t,(e+" "+i).trim())}}function XN(t,i){if(void 0!==t.classList)t.classList.remove(i);else if(void 0!==t.className){let e=" "+WN(t)+" ";const s=" "+i+" ";for(;-1!==e.indexOf(s);)e=e.replace(s," ");HN(t,e.trim())}}function ZN(t,i,e){void 0===e&&(e=!qN(t,i)),e?ku(t,i):XN(t,i)}function KN(t){t.stopPropagation()}function JN(t,i){wn.Mb&&wn.Nb<3?function(t,i){let e=i;switch(i){case"flex":e="-webkit-flex";break;case"inline-flex":e="-webkit-inline-flex"}t.display=e}(t,i):function(t,i){if(t.display=i,t.display!==i){let e=i;switch(i){case"flex":e="-ms-flexbox";break;case"inline-flex":e="-ms-inline-flexbox"}t.display=e}}(t,i)}function an(t,i){const e=i.style;if(e)for(const i of _.keys(t)){const s=t[i];void 0!==s&&(e[i]=s)}}function ta(t){const i=t.style;i.position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%"}function $N(t){t.removeAttribute("title")}function tD(t){t.addEventListener("mouseover",(t=>{$N(t.target)}))}function iD(t){try{return Boolean(t)&&t===t.top}catch(t){return!1}}function on(t){try{return Boolean(t)&&t.parent!==t}catch(t){return!1}}function me(t){return"video"===function(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||""}(t)}function eD(t){t.src&&(t.removeAttribute("src"),t.load()),t.srcObject&&(t.srcObject=null,t.load())}function sD(){return void 0!==h?h.createElement("video"):void 0}function Ve(){return QN||(QN=sD()),QN}r(),r();var nD,wt,rD=class{Ox(t,i){try{return Promise.resolve(function(t,i){if(!rD.Ux())throw new k("Unsupported key system "+t);for(let e of i){let i=mN(hD,Zy,t,e);if(i)return new VN(t,i)}throw new k("Unsupported key system configuration for "+t)}(t,i))}catch(t){return Promise.reject(t)}}static Ux(){return AN()}};function hD(t,i){const e=Ve();return!(!e||!e.canPlayType||""===e.canPlayType(i,t))}function oD(){return nD||(nD=function(){const t=[];zN.Ux()&&t.push(new zN);IN.Ux()&&t.push(new IN);LN.Ux()&&t.push(new LN);rD.Ux()&&t.push(new rD);return new RN(t)}()),nD}r(),r(),function(t){t[t.CO=0]="CO",t[t.xO=1]="xO"}(wt||(wt={})),r(),r();var Xc=class extends Ag{constructor(t){super(Ho.Mv),this.currentTime=t}};r();var Lr=class extends Ag{constructor(t){super(Ho.Tv),this.currentTime=t}},aD=[Ho.Mw,Ho.Tv,t.jh,t.Sh],uD=class extends i{OO(t){!this.jO&&t>=ov.Gn&&(this.jO=!0,this.Co(new cs(this.zO.j_,t)))}PO(t){!this.BO&&t>=ov.iN&&(this.BO=!0,this.Co(new rs(this.zO.j_,t)))}RO(t){this.UO||(t>=ov.eN&&this.QO<ov.eN&&!this.zO.hg||this.FO&&t>=ov.eN)&&this.Co(new Lr(this.zO.j_))}YO(t){!this.GO(t)||this.zO.R_||this.zO.lt||this.Co(new Xc(this.zO.j_))}VO(t){this.QO<=ov.iN&&t>=ov.eN&&this.Co(new M(this.zO.j_,t))}maybeDispatchCanPlayThroughEvent(t){t===ov.sN&&this.Co(new fs(this.zO.j_,t))}GO(t){const i=!this.zO.hg&&t<=ov.iN,e=!this.WO&&this.QO<=ov.iN;return i&&!e}get FO(){return!this.zO.hg&&this.WO}Zn(){this.QO=ov.tN,this.WO=!0,this.BO=!1,this.jO=!1}gn(){this.Vo(),this.UO&&this.zO.fn(Ho.Tv,this.HO),this.zO.fn(t.jh,this.qO),this.zO.fn(t.Sh,this.XO),this.zO.fn(Ho.Mw,this.ZO)}constructor(i,e=!1){super(),this.zO=i,this.UO=e,this.QO=ov.tN,this.WO=!0,this.BO=!1,this.jO=!1,this.ZO=t=>{const i=this.zO.vg;i!==this.QO&&this.Co(new Vs(t.currentTime,i)),i===ov.tN&&(this.BO=!1,this.jO=!1),this.OO(i),this.PO(i),this.VO(i),this.maybeDispatchCanPlayThroughEvent(i),this.RO(i),this.YO(i),this.QO=i},this.qO=()=>{this.YO(this.QO),this.RO(this.QO),this.WO=this.zO.hg},this.XO=()=>{this.WO=this.zO.hg},this.HO=t=>{this.Co(new Lr(t.currentTime))},this.zO.yn(Ho.Mw,this.ZO),this.zO.yn(t.jh,this.qO),this.zO.yn(t.Sh,this.XO),this.UO&&this.zO.yn(Ho.Tv,this.HO)}},cD=class extends i{get j_(){return this.zO.j_}get R_(){return this.zO.R_}get lt(){return this.zO.lt}get hg(){return this.zO.hg}get vg(){return this.zO.vg}e_(){this.Vo(),this.zO.fn(aD,this.Ds)}constructor(t){super(),this.zO=t,this.zO.yn(aD,this.Ds)}};r(),r(),r(),r();var Ms=class{KO(){return this.JO}$O(t){this.JO=t}get tj(){return this.gE}get ij(){return!1}get ej(){const t=this.sj.certificate;if(t)return ae(t)?mi(t):ts(t)}nj(){return this.sj.licenseAcquisitionURL||this.KO()}get rj(){return!1}hj(t){return Promise.resolve()}aj(t,i){return Promise.resolve(void 0)}get uE(){return Boolean(this.sj.useCredentials)}async uj(t,i,e,s){const n=this.cj(t,i,e,s);if(""===n.zu)throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");try{const t=await this.tj.mS(n);return await t.lj(i)}catch(t){return Ht(t),void await this.dj(t,n.zu,s)}}cj(t,i,e,s){const n=this._j().PS(),r=this.uE,h={zu:this.gj(),rE:i,sE:n,eE:t,uE:r,nE:Yc.POST,NS:0,a_:s,hA:Uu.GS,oE:e};return new ec(h)}wj(t,i){return Promise.resolve(t)}Aj(t,i,e,s){return Promise.resolve(t)}_j(){return new Yo(this.sj.headers||{})}async dj(t,i,e){throw new Qr(p_.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)}gj(t,i){let e=i;const s=this.sj.queryParameters;if(!e){const t=this.nj();if(!t)return"";e=t}if(s||t){const i=lg.Dh(e);t&&qc(i,t),s&&qc(i,s),e=i.href}return e}vj(t,i){return lD(t)}mj(t){return new T(t)}async pj(t,i,e){const s=await this.vj(t,e),n=await this.uj(s,this.yj,i,e);return this.mj(n)}gn(){}constructor(t,i,e,s,n){this.JO=void 0,this.dm=t,this.Mj=i,this.Tj=e,this.gE=s,this.yj=n,this.sj=this.Nj(i)}};function lD(t){return Promise.resolve(Ae(t).buffer)}var dD,Zs=class extends Ms{Nj(t){return t.widevine||{}}async Dj(t,i){return this.ej?this.ej:this.Ij(new T(t),i)}Ij(t,i){return super.pj(t,So.qS,i)}constructor(t,i,e,s){super(Gy,t,i,e,s)}};r(),function(t){t.qv="Widevine",t.Sj="PlayreadyV2",t.Ej="PlayreadyV3",t.Hv="PlayreadyV2",t.Xv="Fairplay"}(dD||(dD={}));var fD={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function _D(t,i){var e,s,n,r;const h=fD[i],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=lg.bj)?void 0:e.Ys,OSVersion:null==(s=lg.bj)?void 0:s.Lj,DRMProvider:h.DRMProvider,DRMVersion:h.DRMVersion,DRMType:h.DRMType,DeviceVendor:null==(n=lg.bj)?void 0:n.Cj,DeviceModel:null==(r=lg.bj)?void 0:r.xj}}}function gD(t,i){if(!t.accountName)throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function wD(t,i,e){let s;if(gv(t))s={AuthToken:t.authToken,Payload:i};else{if(!wv(t))throw gD(t,e);s={LatensRegistration:_D(t,e),Payload:i}}return ja(JSON.stringify(s))}async function AD(t,i,e){const s=t.yS;if(!s)throw new Qr(p_.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);const n=s;let r,h;try{r=await n.Oj(e),h=function(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}return}(r)}catch(t){h=""}throw new Qr(p_.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n.mS.zu,n.TS,n.jj,h)}r();var vD=class extends Zs{static zj(){return lg.Ys.Pj?"required":"optional"}dj(t,i,e){return AD(t,i,e)}hj(t){return this.Bj?rl(this.Bj.PL,t):(this.Bj=new Eo,Promise.resolve())}async vj(t,i){const e=this.Mj;if(!e)throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return wD(e,Ot(t),dD.qv)}mj(t){let i;if(!t.license)throw new Qr(p_.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=mi(t.license),i}Rj(t){return Promise.resolve(new T(t))}async Dj(t,i){this.Uj();const e=await this.vj(t,i),s=await this.uj(e,er.OS,So.XS,i);return await this.Rj(s)}async Ij(t,i){const e=await super.Ij(t,i);return this.Uj(),e}Uj(){this.Bj||(this.Bj=new Eo),this.Bj.jL()}gn(){this.Bj&&this.Bj.c_(),super.gn()}constructor(t,i,e){super(t,i,e,er.jS),this.Bj=void 0}};r();var mD=class extends Zs{get Qj(){if(za(this.Mj))return this.Mj.token}async vj(t,i){const e=await lD(t),s=this.Tj,n=qA(new T(e)),r=this.Qj;if(!r)throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return JSON.stringify({token:r,drm_info:n,kid:s})}constructor(t,i,e){super(t,i,e,er.OS),this.$O("https://widevine-proxy.drm.technology/proxy")}};function pD(t,i){let e=i||{};return t.ticket&&t.sessionId&&(e=At({},e,{SessionId:t.sessionId,Ticket:t.ticket})),At({},e,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}r(),r();var yD=class extends Zs{gj(t,i){let e=t;return dv(this.Mj)&&(e=pD(this.Mj,e)),super.gj(e,i)}constructor(t,i,e){super(t,i,e,er.OS),this.$O("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense")}};r(),r();var MD="Conax-Custom-Data";function TD(t,i,e){const s=t&&lv(t)&&t;if(s&&!e.has(MD)){const t=Sw(s)?s.token:void 0,n=Sw(s)?s.deviceId:void 0,r=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:t,CxClientInfo:{DeviceType:"Browser",DrmClientType:i+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:n}});e.set(MD,r)}return e}var ND=class extends Zs{_j(){const t=super._j();return TD(this.Mj,"Widevine",t)}constructor(t,i,e){super(t,i,e,er.OS),this.$O("https://connect.conax.com:8094/license")}};function DD(t){const i=ns(new T(t));return mi(JSON.parse(i).license)}function ID(t){return"string"==typeof t.token?t.token:ja(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function SD(t,i,e){let s;return s=e.token?"x-dt-auth-token":"dt-custom-data",t.set(s,i),t}r(),r();var ED=class extends Zs{get Qj(){return ID(this.Mj)}mj(t){return DD(t)}_j(){return SD(super._j(),this.Qj,this.Mj)}constructor(t,i,e){super(t,i,e,er.OS),this.$O("https://lic.drmtoday.com/license-proxy-widevine/cenc/")}};r();var bD=class extends Zs{_j(){const t=super._j(),i=this.Mj.token;return t.set("Authorization","Bearer "+i),t}constructor(t,i,e){super(t,i,e,er.OS)}};async function R(t,i,e,s){if(!Av(t))throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");const n=new Yo;n.append("Cache-Control","no-cache"),n.append("Content-Type","application/json");const r=t.sessionId;r&&n.append("XSSESSION",r);const h=t.streamId;let o;o=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent";const a={drmType:i,licenseType:o,streamId:h},u={zu:t.ticketAcquisitionURL,rE:er.jS,sE:n,nE:Yc.POST,eE:JSON.stringify(a),a_:s},c=await e.mS(u);return await c.Oj()}r(),r();var LD=class extends Zs{_j(){const t=super._j();return t.set("Content-Type","application/json"),t}async vj(t,i){const e=eA(t.buffer),s=this.Mj,n=await R(s,"widevine_modular",this.tj,i);this.$O(n.licenseServerUrl);const r=wa(JSON.stringify({payload:e,ticket:n.ticket}));return super.vj(r,i)}mj(t){return mi(t.license)}constructor(t,i,e){super(t,i,e,er.jS)}};r();var kD=class extends Zs{_j(){if(!Xh(this.Mj))throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");const t=super._j();return t.set("X-AxDRM-Message",this.Mj.token),t}constructor(t,i,e){super(t,i,e,er.OS)}};function CD(t){const i=new T(2*t.length);for(let e=0;e<t.length;e+=1)i[2*e]=t.charCodeAt(e),i[2*e+1]=0;return i}r();var Fr=class extends Ms{Nj(t){return t.playready||{}}_j(){const t=new Yo(this.Fj);return t.US(super._j()),t}Yj(t){return t.length>=1&&t[0].lS.length>0}aj(t){const i=this.Mj.playready.customData;if(i){const t=CD(i),e=CD('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Ot(t)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return Promise.resolve({playready:{Wx:e}})}return super.aj(t)}async vj(t,i){const e=await lD(t);return this.Gj(e)}async Gj(t){var i,e;let s=null;const n=ya(new DataView(t),new Or,!0);let r;try{r=lg.oS(n)}catch(t){return s}const h=null==(i=r.nS("PlayReadyKeyMessage")[0])?void 0:i.nS("LicenseAcquisition")[0];var o;const a=null!=(o=null==h?void 0:h.nS("Challenge"))?o:[];this.Yj(a)&&(s=iA(a[0].Vj));const u=new Yo;var c;const l=null!=(c=null==h||null==(e=h.nS("HttpHeaders")[0])?void 0:e.nS("HttpHeader"))?c:[];for(const t of l){const i=t.nS("name")[0].Vj,e=t.nS("value")[0].Vj;u.append(i,e)}return this.Fj=u,s}Dj(t,i){return Promise.resolve(t)}Ij(t,i){return super.pj(t,So.ZS,i)}constructor(t,i,e){super(Io,t,i,e,er.OS),this.Fj=void 0}};r(),r();var pt=class t{static Wj(t){return"3"===t.version?dD.Ej:dD.Sj}Hj(){const t={};if(this.jC===dD.Ej){const i={LatensRegistration:_D(this.qj,dD.Ej)};t["X-TITANIUM-DRM-CDATA"]=ja(JSON.stringify(i))}return t}get Xj(){return this.jC}get Rx(){return this.jC===dD.Sj}constructor(i){this.qj=i,this.jC=t.Wj(i)}};var xD=class extends Fr{aj(t){const i=this.Mj;if(!this.Mj)throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(wv(i)){const t={};return t.playready={Wx:OD(i,this.Zj.Xj)},Promise.resolve(t)}return Promise.reject(gD(i,dD.Hv))}_j(){const t=new Yo(this.Zj.Hj());return t.US(super._j()),t}async dj(t,i,e){const s=t.yS;if(!s)throw new Qr(p_.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i);let n,r;try{const t=await s.Kj(e),i=ns(new T(t)),o=lg.oS(i);if(o){const t=function(t,i){return function(t,i){const e=t.m.slice(),s=[];for(;e.length>0;){const t=e.shift();i(t)?s.push(t):e.push(...t.m)}return s}(t,(t=>t.Jj===i))}(o,"CustomData");var h;if(t.length>0)n=JSON.parse(t[0].Vj),r=null==(h=n.DrmErr)?void 0:h.desc}}catch(t){}throw new Qr(p_.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,i,s.TS,s.jj,r)}Yj(t){if(1!==t.length)throw new Qr(p_.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0}constructor(t,i,e){super(t,i,e),this.Zj=new pt(this.Mj)}};function OD(t,i){const e=_D(t,i),s=e.DeviceInfo.FormatVersion,n=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}(function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}("<TitaniumCustomData>"+ja('<LatensRegistration formatversion="'+s+'"><AccountName>'+e.AccountName+"</AccountName><CustomerName>"+e.CustomerName+"</CustomerName><PortalID>"+e.PortalId+'</PortalID><DeviceInfo formatversion="'+s+'"><DeviceType>'+e.DeviceInfo.DeviceType+"</DeviceType><OSType>"+e.DeviceInfo.OSType+"</OSType><OSVersion>"+e.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+e.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+e.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+e.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+e.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+e.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>")+"</TitaniumCustomData>")),r=FA(n,!0);return FA('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Ot(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}r();var jD=class extends Fr{get Qj(){if(za(this.Mj))return this.Mj.token}Yj(t){if(1!==t.length)throw new Qr(p_.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0}gj(t,i){const e=At({},t||{},{token:this.Qj});return super.gj(e,i)}constructor(t,i,e){super(t,i,e),this.$O("https://playready-license.drm.technology/rightsmanager.asmx")}};r();var zD=class extends Fr{gj(t,i){let e=t;return dv(this.Mj)&&(e=pD(this.Mj,e)),super.gj(e,i)}constructor(t,i,e){super(t,i,e),this.$O("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx")}};r();var PD=class extends Fr{_j(){const t=super._j();return TD(this.Mj,"PlayReady",t)}constructor(t,i,e){super(t,i,e),this.$O("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx")}};r();var BD,RD=class extends Fr{get Qj(){return ID(this.Mj)}mj(t){const i=function(t){const i=ns(new T(t));return tw(i,"<?xml")?0:1}(t);return 1===i?DD(t):super.mj(new T(t))}_j(){return SD(super._j(),this.Qj,this.Mj)}constructor(t,i,e){super(t,i,e),this.$O("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx")}};!function(t){t[t.$j=0]="$j",t[t.Oj=1]="Oj"}(BD||(BD={})),r();var UD=class extends Fr{_j(){const t=super._j();return this.tz&&t.set("Ticket",this.tz),t.set("Content-Type","text/xml"),t}async vj(t,i){const e=this.Mj,s=await R(e,"playready",this.tj,i);return this.$O(s.licenseServerUrl),this.tz=s.ticket,super.vj(t,i)}constructor(t,i,e){super(t,i,e)}};r();var je,QD=class extends Fr{_j(){if(!Xh(this.Mj))throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");const t=super._j();return t.set("X-AxDRM-Message",this.Mj.token),t}};r(),r(),function(t){t.jS="application/json",t.iz="application/x-www-form-urlencoded",t.ez="application/octet-stream",t.Ru="text/plain;charset=UTF-8"}(je||(je={}));var Ko=class extends Ms{get rj(){return!0}sz(){return this.sj.certificateURL||this.nz}rz(t){this.nz=t}vj(t){return Promise.resolve(this.oz(t,this.cz))}oz(t,i){return"spc="+encodeURIComponent(Ot(t))+"&assetId="+encodeURIComponent(i)}get lz(){return je.iz}Nj(t){return t.fairplay||{}}fz(t){const i=t.indexOf("?");if(i>=0)return Promise.resolve(t.substr(i+1));{const i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return Promise.resolve(i)}const e=t.split("/");return Promise.resolve(e[e.length-1])}}async aj(t){var i;const e=null!=(i=this._z)?i:Ca(new T(t)),s=await this.fz(e);this.cz=s;const n={};return n.fairplay={iO:s},n}_j(){const t=super._j();return t.set("Content-Type",this.lz),t}async Dj(t,i){return this.ej?this.ej:await this.gz(i)}Ij(t,i){return super.pj(t,So.WS,i)}wz(t){const i=this.sz(),e=this._j(),s={zu:i,rE:er.OS,sE:e,nE:Yc.GET,uE:!1,eE:null,NS:0,a_:t,hA:Uu.GS,oE:So.HS};return new ec(s)}async gz(t){const i=this.wz(t),e=await this.tj.mS(i),s=await e.Kj();return new T(s)}mj(t){let i;if("string"==typeof t){let e=t.trim();"<ckc>"===e.substr(0,5)&&"</ckc>"===e.substr(-6)&&(e=e.slice(5,-6)),i=mi(e)}else i=new T(t);return i}gj(t,i){let e=super.gj(t,i);return tw(e,"skd:")&&(e=e.substr(4)),e}constructor(t,i,e,s,n){super(t.dm,i,e,s,n),this.cz="",this.nz=void 0,this._z=t.Az}};function FD(t){return!j(t.getTime())}function Qo(){return Date.now()||(new Date).getTime()}function YD(t){return t/1e3}function Ut(t){return 1e3*t}r(),r();var kc=1/6,GD=Ce.fromNumber(Fa);function vt(t,i){if(0===i)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(GD))return t.toNumber()/i;const e=t.divide(i),s=t.subtract(e.multiply(i));return e.toNumber()+s.toNumber()/i}var VD=class extends Ko{get lz(){return je.ez}fz(t){let i=t.split("://",1);return"skd"!==i[0].slice(-3).toLowerCase()?Promise.resolve(""):(i=t.split(";",2),i.length>1?Promise.resolve(i[1]):Promise.resolve(super.fz(t)))}async vj(t){return t}mj(t){return new T(t)}gj(t,i){const e=t||{};return e.p1=Qo(),super.gj(e,i)}constructor(t,i,e,s){super(t,i,e,s,er.OS)}};r();var WD=class extends Ko{get lz(){return je.jS}get Qj(){if(!za(this.Mj))throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.Mj.token}oz(t,i){const e={token:this.Qj,contentId:i,payload:Ot(t)};return JSON.stringify(e)}mj(t){return new T(t)}_j(){const t=super._j();return t.set("x-vudrm-token",this.Qj),t}constructor(t,i,e,s){super(t,i,e,s,er.OS),this.$O("https://fairplay-license.drm.technology/license"),this.rz("https://fairplay-license.drm.technology/certificate")}};r();var HD="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",qD="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",XD=class extends Ko{mj(t){const i=function(t){let i;try{i=JSON.parse(t).ckc}catch(t){throw new Qr(p_.CONTENT_PROTECTION_LICENSE_INVALID,HD)}if(!i)throw new Qr(p_.CONTENT_PROTECTION_LICENSE_ERROR,qD);return i}(ns(new DataView(t)));return super.mj(i)}constructor(t,i,e,s){super(t,i,e,s,er.OS)}};r();var ZD=class extends Ko{get lz(){return je.jS}async vj(t){const i=this.Mj;if(!i)throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return wD(i,Ot(t),dD.Xv)}mj(t){try{let i;if(ae(t)){const e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){const t=iA(i.license);return new T(t)}throw new Qr(p_.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new Qr(p_.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}}dj(t,i,e){return AD(t,i,e)}constructor(t,i,e,s){super(t,i,e,s,er.jS)}};r();var KD=class extends Ko{sz(){const t=super.sz();if(!t)return t;const i=lg.Dh(t),e=this.Mj;return dv(e)&&qc(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href}fz(t){return dv(this.Mj)?Promise.resolve(this.Mj.contentId):super.fz(t)}async vj(t){return t}mj(t){return new T(t)}get lz(){return je.ez}gj(t,i){let e=t;return dv(this.Mj)&&(e=function(t,i){return At({},pD(t,i),{KeyId:t.keyId})}(this.Mj,e)),super.gj(e,i)}constructor(t,i,e,s){super(t,i,e,s,er.OS),this.$O("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),this.rz("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate")}};r();var JD=class extends Ko{_j(){const t=super._j();return TD(this.Mj,"FairPlay",t)}async gz(t){const i={zu:this.sz(),rE:er.OS,sE:{},nE:Yc.GET,uE:!1,eE:null,NS:0,a_:t,hA:Uu.GS,oE:So.HS},e=await this.tj.mS(i),s=await e.Kj();return new T(s)}async vj(t){return t}fz(t){const i=t.indexOf("?");if(0===t.indexOf("skd://")){let e;return e=i>=0?t.substring(6,i):t.substring(6),Promise.resolve(function(t){return ns(mi(t))}(e))}return Promise.resolve("unknown")}mj(t){try{const i=JSON.parse(t);return new T(iA(i.CkcMessage))}catch(t){throw new b("CFLRW-66")}}constructor(t,i,e,s){if(super(t,i,e,s,er.Ru),!lv(i))throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");this.$O("https://connect.conax.com:8097/license")}};r();var $D=class extends Ko{fz(t){return tw(t,"skd://")?Promise.resolve(t.substring(6,40)):Promise.reject(new Qr(p_.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))}oz(t,i){return"spc="+Ot(t)+"&assetId="+i}constructor(t,i,e,s){super(t,i,e,s,er.Ru),this.$O(iv[Ci.Xv])}};r();var tI=class extends Ko{get Qj(){return ID(this.Mj)}oz(t,i){const e="spc="+encodeURIComponent(Ot(t))+"&"+encodeURI(i);return"persistent"===this.sj.licenseType?e+"&offline=true":e}_j(){return SD(super._j(),this.Qj,this.Mj)}constructor(t,i,e,s){super(t,i,e,s,er.Ru),this.$O("https://lic.drmtoday.com/license-server-fairplay/")}};r();var iI=class extends Ko{fz(t){let i=t;return tw(i,"skd:")&&(i="http:"+i.substring(4)),tw(i,"http:")||tw(i,"https:")?Promise.resolve(lg.Dh(i).hostname):Promise.reject(new b("Could not parse ExpressPlay FairPlay content ID."))}async vj(t){return t}mj(t){return new T(t)}get lz(){return je.ez}constructor(t,i,e,s){super(t,i,e,s,er.OS)}};r();var eI=class extends Ko{_j(){const t=super._j(),i=this.Mj.token;return t.set("Authorization","Bearer "+i),t}constructor(t,i,e,s){super(t,i,e,s,er.Ru)}};r();var sI=class extends Ko{async gz(t){const i=this.sz(),e=this._j(),s={zu:i,rE:er.jS,sE:e,nE:Yc.POST,a_:t,hA:Uu.GS,oE:So.HS},n=await this.tj.mS(s),r=await n.Oj();return new T(mi(r.certificate))}get lz(){return je.jS}async Ij(t,i,e){void 0===e&&(e=er.Ru);const s=Ot(t),n=this.Mj,r=await R(n,"fairplay",this.tj,i),h=wa(JSON.stringify({spc:s,ticket:r.ticket})),o={zu:this.nj(),rE:er.jS,sE:this._j(),nE:Yc.POST,eE:h,NS:0,a_:i,hA:Uu.GS,oE:So.WS},a=await this.tj.mS(o);return mi((await a.Oj()).licence)}constructor(t,i,e,s){if(super(t,i,e,s,er.jS),!Av(i))throw new b("Invalid Xstream DRM configuration")}};r();var nI=class extends Ko{oz(t,i){return Ot(t)}mj(t){if(0===t.length)throw new Qr(p_.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return super.mj(t)}_j(){const t=super._j();return t.set("Content-Type","text/plain"),t}constructor(t,i,e,s){super(t,i,e,s,er.Ru)}};r();var rI=class extends Ko{get lz(){return je.jS}oz(t,i){return t}mj(t){return new T(t)}_j(){if(!Xh(this.Mj))throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");const t=super._j();return t.set("X-AxDRM-Message",this.Mj.token),t}constructor(t,i,e,s){super(t,i,e,s,er.OS)}};r();var hI=class extends Ko{get lz(){return je.Ru}oz(t,i){const e={spc:Ot(t)};return JSON.stringify(e)}fz(t){const i=lg.Dh(t);return this.vz=t,i.searchParams.has("b")?Promise.resolve(i.searchParams.get("b")):Promise.reject(new Qr(p_.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))}gj(t,i){let e=this.nj();return!e&&this.vz&&(e=this.vz),e&&(e=e.replace("skd://","https://")),super.gj(t,i||e)}mj(t){try{let i;if(i=ae(t)?JSON.parse(t.trim()):t,i.ckc)return mi(i.ckc)}catch(t){throw new Qr(p_.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new Qr(p_.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")}constructor(t,i,e,s){super(t,i,e,s,er.jS),this.vz=void 0}};r(),r(),r();var Ye=class{mz(t){return this.pz(t)}yz(t,i){throw new k(i+" must be "+this.Mz+". (Received: "+t+")")}constructor(t,i){this.pz=t,this.Mz=i}},Ii=(new Ye((function(t){return!0}),"any"),new Ye(R_,"a number")),P=new Ye(ae,"a string"),oI=new Ye(P_,"a boolean"),gh=(new Ye(B_,"a date"),new Ye(z_,"undefined")),aI=new Ye(Mi,"an object"),uI=new Ye((function(t){return null===t}),"null");new Ye((function(t){return null==t}),"null or undefined");function cI(t,i){throw new k(i+" has an incorrect type")}function _r(t){return{mz(i){if(!Mi(i))return!1;for(const e of _.keys(t)){if(!t[e].mz(i[e]))return!1}return!0},yz(i,e){if(!Mi(i))throw new k(e+" must be an object.");for(const s of _.keys(t)){const n=t[s];if(!n.mz(i[s]))return n.yz(i[s],e+"."+String(s))}throw new k}}}function lI(t){return _.keys(t).map((i=>t[i]))}function Kt(t){return{mz:i=>ea(t,i),yz:cI}}function ii(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return{mz:t=>i.some((i=>i.mz(t))),yz:cI}}function ki(t){return{mz:i=>pi(i)&&i.every((i=>t.mz(i))),yz(i,e){if(!pi(i))throw new k(e+" must be an array.");return i.forEach(((i,s)=>{if(!t.mz(i))return t.yz(i,e+"["+s+"]")})),cI(0,e)}}}function Du(t){return{mz:i=>Mi(i)&&_.keys(i).every((e=>t.mz(i[e]))),yz(i,e){if(!Mi(i))throw new k(e+" must be an object.");for(const s of _.keys(i))if(!t.mz(i[s]))return t.yz(i[s],e+"."+s);return cI(0,e)}}}var dI=_r({responseCode:Ii,isException:oI,description:P,title:P,correlationId:P});async function fI(t,i,e,s,n){const r=function(t,i,e,s){const n={token:i.token,account:i.accountId,form:"json"},r=decodeURIComponent(na(e,n)),h=new Yo({});h.append("Content-Type","application/json");const o=Ot(t),a={getFairplayLicense:{releasePid:i.releasePid,spcMessage:o}};return{zu:r,rE:er.Ru,sE:h,nE:Yc.POST,eE:JSON.stringify(a),a_:s,hA:Uu.GS,oE:So.WS}}(t,i,e,n);return await async function(t,i){const e=await i.mS(t),s=await e.Oj();if(dI.mz(s))throw new Qr(p_.CONTENT_PROTECTION_LICENSE_ERROR,s.description,void 0,t.zu,s.responseCode);return mi(s.getFairplayLicenseResponse.ckcResponse)}(r,s)}var _I=class extends Ko{fz(t){const i=t.replace("FairPlay",this.Tz.releasePid);return super.fz(i)}async Ij(t,i){return await fI(t,this.Tz,this.nj(),this.tj,i)}constructor(t,i,e,s){super(t,i,e,s,er.OS),this.Tz=i}};r();var gI=class extends Ms{Nj(t){return t.clearkey||{}}async uj(t,i,e,s){const n=this.sj;if(this.nj())return super.uj(t,this.yj,e,s);if(n.keys&&n.keys.length){const t={keys:n.keys.map((t=>{let i=t;return i||(i={}),{kty:"oct",kid:i.id,k:i.value}}))};return GA(JSON.stringify(t)).buffer}throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")}Dj(t,i){return Promise.resolve(new T(0))}async Ij(t,i){const e=await super.pj(t,So.KS,i),s=JSON.parse(Ca(e));if(s.keys)for(const t of s.keys)t.k&&(t.k=Kw(t.k)),t.kid&&(t.kid=Kw(t.kid));return GA(JSON.stringify(s))}constructor(t,i,e){super(Ka,t,i,e,er.OS)}};r();var Z=class extends Zs{};r(),r();var wI={url:"",method:"GET",headers:{},body:null,useCredentials:!1};async function AI(t,i,e){const s=yI(i),n=t.onCertificateRequest;if(!n||"function"!=typeof n)return Promise.resolve(i);const r=await rl(Promise.resolve(n.call(t,s)),e);return HA(r)?ts(r):pI(At({},wI,r))}async function vI(t,i,e,s,n){const r=t.onCertificateResponse,h=mI(i,e,s);if(!r||"function"!=typeof r)return Promise.resolve(i);return ts(await rl(Promise.resolve(r.call(t,h)),n))}async function J(t,i,e,s){const n=await async function(t,i,e,s){const n=null==t?void 0:t.onLicenseRequest,r=Y(i,e);if(!n||"function"!=typeof n)return Promise.resolve(r);0;const h=await rl(Promise.resolve(n.call(t,r)),s);if(HA(h))return ts(h).buffer;return At({fairplaySkdUrl:void 0},wI,h)}(t,i,e,s);return n instanceof ArrayBuffer?n:pI(n)}async function V(t,i,e,s,n,r){const h=Y(e,n),o=await async function(t,i,e,s,n){const r=null==t?void 0:t.onLicenseResponse,h=mI(i,e,s);if(!r||"function"!=typeof r)return Promise.resolve(i);0;const o=await rl(Promise.resolve(r.call(t,h)),n);return ts(o)}(t,new T(i),h,s,r);return ts(o)}function Y(t,i){return At({},yI(t),{fairplaySkdUrl:i})}function mI(t,i,e){return{url:e.AE,status:e.TS,statusText:e.jj,headers:e.sE.PS(),body:t,request:i}}function pI(t){return new ec({zu:t.url,nE:t.method,sE:t.headers,eE:t.body,uE:t.useCredentials})}function yI(t){var i;return{url:t.zu,body:null!=(i=MI(t.eE))?i:null,headers:t.sE.PS(),method:t.nE,useCredentials:t.uE}}function MI(t){if(t)return"string"==typeof t?GA(t):t instanceof ArrayBuffer?new T(t):va(t)?ko(t):void 0}var TI=class extends Fr{Dj(t,i){return Promise.resolve(t)}async Ij(t,i){const e=await this.Gj(Ae(t).buffer),s=this.cj(e,er.OS,So.ZS,i),n=await J(this.Nz,s,void 0,i);if(n instanceof ArrayBuffer)return new T(n);if(""===n.zu)throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");try{const t=await this.tj.mS(n),e=await t.Kj(i);return await V(this.Nz,e,s,t,void 0,i)}catch(t){throw Ht(t),new Qr(p_.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t)}}constructor(t,i,e,s){super(t,i,e),this.Nz=s}};r();var NI=class extends Z{async Dj(t,i){if(this.ej)return this.ej;const e=this.cj(t,er.OS,So.XS,i),s=await AI(this.Nz,e,i);if(s instanceof T)return s;if(""===s.zu)throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");let n,r;try{n=await this.tj.mS(s),r=await n.Kj(i)}catch(t){throw Ht(t),new Qr(p_.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t)}const h=Y(e,void 0);return await vI(this.Nz,new T(r),h,n,i)}async Ij(t,i){const e=this.cj(t,er.OS,So.qS,i),s=await J(this.Nz,e,void 0,i);if(s instanceof ArrayBuffer)return new T(s);if(""===s.zu)throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");try{const t=await this.tj.mS(s),n=await t.Kj(i);return await V(this.Nz,n,e,t,void 0,i)}catch(t){throw Ht(t),new Qr(p_.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t)}}constructor(t,i,e,s){super(t,i,e,er.OS),this.Nz=s}};r();var DI=class extends Ko{async Dj(t,i){if(this.ej)return this.ej;const e=this.wz(i),s=await AI(this.Nz,e,i);if(va(s))return s;try{const t=await this.tj.mS(s),n=await t.Kj(),r=Y(e,void 0);return await vI(this.Nz,new T(n),r,t,i)}catch(t){throw Ht(t),new Qr(p_.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t)}}async Ij(t,i){const e=this.cj(t,er.OS,So.WS,i),s=await J(this.Nz,e,this.Dz,i);if(s instanceof ArrayBuffer)return new T(s);if(""===s.zu)throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");try{const t=await this.tj.mS(s),n=await t.Kj(i);return await V(this.Nz,n,e,t,this.Dz,i)}catch(t){throw Ht(t),new Qr(p_.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t)}}fz(t){var i;return this.Dz=t,(null==(i=this.Nz)?void 0:i.extractFairplayContentId)?Promise.resolve(this.Nz.extractFairplayContentId(t)):super.fz(t)}constructor(t,i,e,s,n){super(t,i,e,s,er.OS),this.Nz=n}},G=class{Iz(t,i,e,s){switch(t.dm.hA){case Ci.qv:return this.Sz(i,e,s);case Ci.Hv:return this.Ez(i,e,s);case Ci.Xv:return this.bz(t,i,e,s);case Ci.Zv:default:return this.Lz(i,e,s)}}Sz(t,i,e){const s=function(t){return t.integration===Tw&&ae(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(s&&Mu.Mm.vm(s,Mt)){const n=Mu.Mm.ym(s,Mt,t);return new NI(t,i,e,n)}switch(s){case gw:return new vD(t,i,e);case Fh:return new mD(t,i,e);case Uh:return new yD(t,i,e);case Jc:return new ND(t,i,e);case Sh:return new ED(t,i,e);case jl:return new bD(t,i,e);case Oh:return new LD(t,i,e);case Bh:return new kD(t,i,e);default:return new Z(t,i,e,er.OS)}}Ez(t,i,e){const s=t.integration;if(s&&Mu.Mm.vm(s,Xi)){const n=Mu.Mm.ym(s,Xi,t);return new TI(t,i,e,n)}switch(s){case gw:return new xD(t,i,e);case Fh:return new jD(t,i,e);case Uh:return new zD(t,i,e);case Jc:return new PD(t,i,e);case Sh:return new RD(t,i,e);case Oh:return new UD(t,i,e);case Bh:return new QD(t,i,e);default:return new Fr(t,i,e)}}bz(t,i,e,s){const n=i.integration;if(n&&Mu.Mm.vm(n,qa)){const r=Mu.Mm.ym(n,qa,i);return new DI(t,i,e,s,r)}switch(n){case ww:return new VD(t,i,e,s);case Fh:return new WD(t,i,e,s);case Aw:return new XD(t,i,e,s);case gw:return new ZD(t,i,e,s);case Uh:return new KD(t,i,e,s);case Jc:return new JD(t,i,e,s);case vw:return new $D(t,i,e,s);case Sh:return new tI(t,i,e,s);case mw:return new iI(t,i,e,s);case jl:return new eI(t,i,e,s);case Oh:return new sI(t,i,e,s);case pw:return new nI(t,i,e,s);case Bh:return new rI(t,i,e,s);case yw:return new hI(t,i,e,s);case Mw:return new _I(t,i,e,s);default:return new Ko(t,i,e,s,er.Ru)}}Lz(t,i,e){return new gI(t,i,e)}kz(t){return t.hA===Ci.Hv||t.hA===Ci.qv||t.hA===Ci.Xv||t.hA===Ci.Zv}Rx(t,i){var e;if(t.hA!==Ci.Hv)return!1;if(j_(null==(e=i.playready)?void 0:e.customData))return!0;const s=i.integration;return(!s||!Mu.Mm.vm(s,qa))&&(s===gw&&new pt(i).Rx)}zj(t,i){if(t.hA!==Ci.qv)return;const e=i.integration;return e&&Mu.Mm.vm(e,qa)?void 0:e===gw?vD.zj():void 0}};r(),r(),r(),r();var yi,II="default",SI="theoplayer-stored-network-info-v2",EI=25e5,ua=class{Cz(t){var i;const e=null==(i=lg.xz)?void 0:i.kL(t);if(void 0===e)return;const s=JSON.parse(e);if(void 0!==s&&void 0!==s[this.Oz]){if(!this.jz(s))return s[this.Oz].availableBandwidth;var n;null==(n=lg.xz)||n.zz(t,JSON.stringify({}))}}Pz(){const t=this.Cz(SI);if(void 0!==t)return t;const i=this.Cz("theoplayer-stored-network-info");return i?8*i:void 0}jz(t){const i=t[this.Oz].storedTimestamp;return!!i&&Qo()-i>36e5}Bz(t){this.Rz=t,this.Uz()}Qz(){var t;return null!=this.Rz||(this.Rz=null!=(t=this.Pz())?t:EI),this.Rz}constructor(){this.Oz=II,this.Rz=void 0,this.Uz=uo((()=>{var t;const i={[this.Oz]:{availableBandwidth:this.Rz,storedTimestamp:Qo()}};null==(t=lg.xz)||t.zz(SI,JSON.stringify(i))}),1e4)}};ua.gL=new ua,r(),function(t){t[t.Fz=0]="Fz",t[t.Yz=1]="Yz",t[t.Gz=2]="Gz",t[t.Vz=3]="Vz",t[t.Wz=4]="Wz",t[t.Fv=5]="Fv",t[t.qz=6]="qz",t[t.Xz=7]="Xz",t[t.Wv=8]="Wv",t[t.Zz=9]="Zz",t[t.Kz=10]="Kz"}(yi||(yi={})),r();var nu=class{get Jz(){return 0}get $z(){return 0}tP(t){}};r();var Cu=class{iP(t){this.qj=t}zj(t){const i=this.qj;if(void 0!==i)return this.eP.zj(t,i)}Rx(t){const i=this.qj;return void 0!==i&&this.eP.Rx(t,i)}sP(t){const i={dm:t.dm,nP:t.nP||[],rP:t.rP,Az:t.Az},e=this.eP.Iz(i,this.qj||{},t.Tj,this.gE);return i.rP&&e.$O(i.rP),new bI(e)}constructor(t,i=new G){this.qj=void 0,this.gE=t,this.eP=i}},bI=class{hj(t){return this.hP.hj(t)}aj(t,i,e){return this.hP.aj(i,e)}rj(){return this.hP.rj||void 0!==this.hP.ej}Dj(t,i){return this.hP.Dj(t,i)}Ij(t,i,e){return i&&this.hP.$O(i),this.hP.Ij(t,e)}e_(){this.hP.gn()}constructor(t){this.hP=t}};r();var dh=class extends Di{oP(t){this.aP.push(t);for(const i of t.xw)this.tt(i);this.uP(t)}cP(t){Et(this.aP,t),this.lP(t);for(const i of t.xw)this.dP(i)||this.it(i)}dP(t){for(const i of this.aP)if(i.zw(t))return!0;return!1}uP(t){t.yn(gt.ew,this.fP),t.yn(gt.hw,this._P)}lP(t){t.fn(gt.ew,this.fP),t.fn(gt.hw,this._P)}gn(){for(;this.aP.length>0;)this.cP(this.aP[0]);super.gn()}fa(){return Oc(this)}constructor(t){super(),this.aP=[],this.fP=t=>{this.tt(t.Lt)},this._P=t=>{const i=t.Lt;this.dP(i)||this.it(i)};for(const i of t)this.oP(i)}};function LI(t){return{get enabled(){return t.Rt},set enabled(i){t.Rt=bg(i)},get currentLatency(){return t.Sv},get streamConfiguration(){if(void 0!==t.gP)return function(t){return{get minimumOffset(){return t.aA},get maximumOffset(){return t.cA},get targetOffset(){return t.uA},get forceSeekOffset(){return t.lA},get minimumPlaybackRate(){return t.dA},get maximumPlaybackRate(){return t.fA}}}(t.gP)},get configuration(){return function(t){return{get minimumOffset(){return t.aA},set minimumOffset(i){t.aA=Ih(i)},get maximumOffset(){return t.cA},set maximumOffset(i){t.cA=Ih(i)},get targetOffset(){return t.uA},set targetOffset(i){t.uA=Ih(i)},get forceSeekOffset(){return t.lA},set forceSeekOffset(i){t.lA=Ih(i)},get minimumPlaybackRate(){return t.dA},set minimumPlaybackRate(i){t.dA=Ih(i)},get maximumPlaybackRate(){return t.fA},set maximumPlaybackRate(i){t.fA=Ih(i)},update(i){t.Qn(function(t){const i={};void 0!==t.minimumOffset&&(i.aA=Ih(t.minimumOffset));void 0!==t.maximumOffset&&(i.cA=Ih(t.maximumOffset));void 0!==t.targetOffset&&(i.uA=Ih(t.targetOffset));void 0!==t.forceSeekOffset&&(i.lA=Ih(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(i.dA=Ih(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(i.fA=Ih(t.maximumPlaybackRate));return i}(i))}}}(t.wd)}}}r(),r();var kI,xc=class{get va(){return null!=this.Xa||(this.Xa=LI(this)),this.Xa}get Rt(){return!1}set Rt(t){}get Sv(){}get gP(){}get wd(){return this.wP}constructor(){this.wP={lA:0,cA:0,fA:0,aA:0,dA:0,uA:0,Qn:xs}}};function CI(){return kI||(kI=Ys&&Ys.document&&Ys.document.createElement("video")),kI}var xI=!(!Ys||!Ys.TextTrack),OI=class extends ra{get AP(){const t=this.vP.b_,i=this.j_;return t.gr(i,.01)}get ht(){return this.nN}get b_(){return this.vP.b_.ks()}get k_(){return this.vP.k_}set k_(t){t&&this.vP.mP(t)}get j_(){return void 0!==this.pP?this.pP:this.vP.j_}set j_(t){this.W_&&(this.pP=t),this.vP.Dp(t)}get ct(){return this.vP.ct}get R_(){return this.vP.R_}get lt(){return this.yP}get F_(){return this.MP}get G_(){}get W_(){return this.vP.W_}get q_(){return At({},{aN:0,uN:0,cN:0,lN:0,dN:0,fN:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.vP.X_())}get Z_(){return this.vP.Z_}set Z_(t){this.vP.Z_=t}get eg(){return!0}get hg(){return this.vP.hg}get ag(){return this.vP.ag}set ag(t){this.vP.ag=t}get fg(){return this.vP.TP.played}get gg(){return this.NP}set gg(t){this.NP=t,this.DP&&(this.DP.gg=t)}get vg(){return this.vP.vg}get yg(){return this.vP.yg.ks()}get Tg(){return this.vP.Tg}get IP(){return this.vP.IP}get nt(){return this.Dl}get rt(){return this.hN}get Ig(){return this.vP.Ig}get Lg(){return this.vP.Lg}get xg(){return this.vP.xg}set xg(t){this.vP.xg=t}get zg(){return this.SP}get Bg(){return this.vP.Bg}set Bg(t){this.vP.Bg=t}get EP(){return this.bP}be(){this.vP.be()}ge(){this.vP.ge()}async ga(t,i,e){Pi(e);const s={hA:wt.CO,oA:t.src,LP:t.type,kP:this.CP(t),gg:this.NP,xP:t.crossOrigin,OP:i.metadata&&i.metadata.title};this.jP.iP(t.contentProtection),this.DP=await this.vP.$n(s),Pi(e),i.textTracks&&this.zP(i.textTracks),Qs(this.nt)}zP(t){for(let e of t)if(this.vP.PP()&&wn.Ga&&xI&&!gy(e.kind,e.label)&&this.BP(e)){var i;const t=null!=(i=e.kind)?i:oa.pp;this.vP.RP(e.src,t,e.label,e.srclang,e.default)}else{if(void 0===e.src)continue;this.UP.lE(e)}}BP(t){return!t.format||"webvtt"===t.format}async Vg(){try{await this.vP.Vg()}catch(t){}for(;!this.AP;)await this.vP.D_(t.VA)}Gg(){this.vP.Gg()}Hg(){return void 0!==this.vP.TP.webkitShowPlaybackTargetPicker}qg(){this.vP.TP.webkitShowPlaybackTargetPicker&&this.vP.TP.webkitShowPlaybackTargetPicker()}Xg(){this.vP.TP.webkitShowPlaybackTargetPicker&&this.vP.TP.webkitShowPlaybackTargetPicker()}Ug(){return this.vP.TP}Rg(){return this.vP.ya}async Zn(){this.yP=void 0,this.MP=void 0,this.DP=void 0,await this.UP.Zn(),this.vP.QP(),await this.vP.Zn(),this.FP.Zn(),this.gg=this.NP,this.ht.Zn(),this.rt.Zn(),this.pP=void 0}async gn(){await this.Zn(),this.Vo(),this.YP(),this.GP(),this.FP.gn(),this.vP.VP=void 0,await this.HP.WP(this.vP),this.nN.gn(),this.hN.gn(),this.Dl.gn(),await this.UP.gn()}qP(){this.vP.yn(t.jh,this.Ds),this.vP.yn(t.Sh,this.Ds),this.vP.yn(t.ov,this.wc),this.vP.yn(t.VA,this.Ds),this.vP.yn(t.UA,this.Ds),this.vP.yn(t.ZA,this.Ds),this.vP.yn(t.XA,this.XP),this.vP.yn(t.kA,this.Ds),this.vP.yn(t.WA,this.Ds),this.vP.yn(t.uv,this.Ds),this.vP.yn(t.EA,this.Ds),this.vP.yn(t.qA,this.ZP),this.vP.yn(Ho.Tv,this.KP),this.vP.yn(Bi.ha,this.JP),this.vP.yn(t.DA,this.Ds),this.vP.yn(t.NA,this.$P),this.vP.TP.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.tB)}YP(){this.vP.fn(t.jh,this.Ds),this.vP.fn(t.Sh,this.Ds),this.vP.fn(t.ov,this.wc),this.vP.fn(t.VA,this.Ds),this.vP.fn(t.UA,this.Ds),this.vP.fn(t.ZA,this.Ds),this.vP.fn(t.XA,this.XP),this.vP.fn(t.kA,this.Ds),this.vP.fn(t.WA,this.Ds),this.vP.fn(t.uv,this.Ds),this.vP.fn(t.EA,this.Ds),this.vP.fn(t.qA,this.ZP),this.vP.fn(Ho.Tv,this.KP),this.vP.fn(Bi.ha,this.JP),this.vP.fn(t.DA,this.Ds),this.vP.fn(t.NA,this.$P),this.vP.TP.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.tB)}CP(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{dm:Vy,iB:[{initDataTypes:[Vy.AL],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]}eB(){let t=this.vP.TP.audioTracks,i=this.vP.TP.videoTracks;t&&(t.addEventListener("addtrack",this.sB),t.addEventListener("removetrack",this.nB),t.addEventListener("change",this.rB)),i&&(i.addEventListener("addtrack",this.hB),i.addEventListener("removetrack",this.oB),i.addEventListener("change",this.aB))}GP(){let t=this.vP.TP.audioTracks,i=this.vP.TP.videoTracks;t&&(t.removeEventListener("addtrack",this.sB),t.removeEventListener("removetrack",this.nB),t.removeEventListener("change",this.rB)),i&&(i.removeEventListener("addtrack",this.hB),i.removeEventListener("removetrack",this.oB),i.removeEventListener("change",this.aB))}nh(t){for(let i=0;i<t.U;i++){t.jw(i).bN()}}Zg(){this.vP.Zg()}Kg(){}uB(t,i){this.yP||(this.yP=i,this.MP=t,this.Co(new pe(t)))}constructor(t,i,e,s,n,r=new G,h=oD()){super(),this.DP=void 0,this.yP=void 0,this.MP=void 0,this.bP=new nu,this.SP=new xc,this.JP=t=>{const i=t.lt,e=i.code,s=new ce(sm(e),"Something went wrong during native playback.",i),n=new uc(e,s.message,i.message);this.uB(s,n)},this.wc=()=>{this.Co(new jc(this.j_,this.k_))},this.XP=t=>{this.hg||(this.pP=void 0),this.Co(t)},this.KP=t=>{this.pP=void 0},this.tB=()=>{this.Co(new Am(this.W_))},this.ZP=()=>{this.Lg>0&&this.Ig>0&&this.Co(new qu)},this.sB=t=>{this.nN.tt(new _m(t.track))},this.nB=t=>{const i=PI(this.nN,t.track);i&&this.nN.it(i)},this.rB=()=>{this.nh(this.nN)},this.hB=t=>{this.hN.tt(new wm(t.track))},this.oB=t=>{const i=PI(this.hN,t.track);i&&this.hN.it(i)},this.aB=()=>{this.nh(this.hN)},this.$P=t=>{this.Co(t),this.uB(t.errorObject,ne(t.errorObject))},this.HP=i,this.gE=e,this.jx=h,this.vP=this.HP.cB(rv.vp),this.NP=this.vP.TP.preload,this.FP=new uD(this.vP,!0),this.FP.yn(Ch,this.Ds),this.jP=new Cu(e,r),this.vP.VP=this.jP,this.qP(),this.nN=new jn,this.hN=new jn,this.eB(),this.UP=new mu(this.vP,this.gE),this.Dl=new dh([this.vP.nt]),this.ge()}};function jI(t){return!t.type||!(!CI().canPlayType||!CI().canPlayType(t.type))}var zI=class{_m(t,i,e,s,n,r){return new OI(t,i,e,s,n)}lB(t,i){return jI(t)}dB(){return!1}constructor(){this.fB=yi.Kz}};function PI(t,i){for(let e of t.xw)if(e.SN===i)return e}var Nu=class{static _B(){return this.gL}gB(t){this.wB.push(t)}get fB(){return this.AB.fB}_m(t,i,e,s,n,r){let h=this.AB._m(t,i,e,s,n,r);for(const t of this.wB)h=t(h,e,s);return h}lB(t,i){return this.AB.lB(t,i)}dB(){return!1}constructor(){this.AB=new zI,this.wB=[]}};function BI(t,i){return qo(t.fB,i.fB)}Nu.gL=new Nu,r(),r();var RI=class{vB(t){this.mB.push(t),this.mB.sort(BI)}async pB(t,i){for(const e of this.mB){const s=e.lB(t,i);if(vu(s)?await s:Boolean(s))return e}}constructor(){this.mB=[]}};function UI(t){Ze.gL.vB(t)}var Ze=class extends RI{yB(t){this.MB=t}TB(){return this.MB}async NB(t,i){for(let e of t){let t=await this.pB(e,i);if(t)return{yc:e,t:t}}const e=this.MB;for(let s of t)if(e.lB(s,i))return{yc:s,t:e};return{yc:t[0],t:e}}constructor(...t){super(...t),this.MB=Nu._B()}};Ze.gL=new Ze,r();var tt,QI=class{gn(){ei(this.Us)}constructor(t){this.Us=Ys&&Ys.document&&Ys.document.createElement("div"),ta(this.Us),t.appendChild(this.Us)}};r(),r(),function(t){t.Kz="",t.DB="none",t.Mp="metadata",t.HT="auto"}(tt||(tt={}));var FI=[Bi.ha,t.bA,t.LA,t.Av,t.pA,t.CA,t.OA,t.YA,t.GA,t.JA,t.rv,Ho.vv,Ho.mv,Ho.pv,Ho.yv,Ho.Mw,Ho.Mv,Ho.Tv,t.NA,t.DA,t.EA,t.kA,t.UA,t.QA,t.jh,t.VA,t.Sh,t.WA,t.qA,t.ZA,t.XA,t.ov,t.uv,t.HA,t.FA,t.KA],YI=class extends ra{get ht(){return this.nN}get b_(){return this.Qo.b_}get lt(){return this.Qo.lt}get F_(){return this.Qo.F_}get k_(){return this.Qo.k_}set k_(t){this.Qo.k_=t}get bt(){return this.IB}get j_(){return this.Qo.j_}set j_(t){this.Qo.j_=t}get ct(){return this.Qo.ct}get R_(){return this.Qo.R_}get G_(){return this.rN}get W_(){return this.Qo.W_}get q_(){return this.Qo.q_}get Z_(){return this.Qo.Z_}set Z_(t){this.Qo.Z_=t}get eg(){return this.Qo.eg}get hg(){return this.Qo.hg}get ag(){return this.Qo.ag}set ag(t){this.Qo.ag=t}get fg(){return this.Qo.fg}get gg(){return this.NP}set gg(t){this.NP=t,this.Qo&&(this.Qo.gg=this.NP)}get vg(){return this.Qo.vg}get yg(){return this.Qo.yg}get Tg(){return this.Qo.Tg}get nt(){return this.Dl}get Ig(){return this.Qo.Ig}get rt(){return this.hN}get Lg(){return this.Qo.Lg}get xg(){return this.Qo.xg}set xg(t){this.Qo.xg=t}get zg(){return this.Qo.zg}get EP(){return this.Qo.EP}Gg(){this.Qo.Gg()}Vg(){const t=this.Qo.Vg();vu(t)&&W(t)}Wg(){return this.ga(void 0)}Yg(){}SB(){this.nN.Pw=this.Qo.ht,this.hN.Pw=this.Qo.rt,this.Dl.Pw=this.Qo.nt,this.rN.Pw=this.Qo.G_,this.Qo.yn(FI,this.Ds)}EB(){this.Qo.fn(FI,this.Ds),this.nN.Pw=void 0,this.hN.Pw=void 0,this.Dl.Pw=void 0,this.rN.Pw=void 0}Wa(){return this.bB}async ga(t,i){if(Pi(i),this.bB=t,!t)return;const e=t.sources.filter(Gv);if(Rv(e))return;const s=await this.LB.NB(e,t);Pi(i);const n=s.yc,r=s.t,h=this.Rg(),o=Kv(this);(this.kB!==r||this.lt)&&(this.EB(),await this.Qo.gn(),Pi(i),this.kB=r,this.Qo=this.CB(r,n),function(t,i){t.Z_!==i.Z_&&(t.Z_=i.Z_);t.xg!==i.xg&&(t.xg=i.xg);t.ag!==i.ag&&(t.ag=i.ag)}(this.Qo,o),$a(this,o,this),this.SB()),this.Qo.gg=this.gg,this.xB?this.Qo.ge():this.Qo.be(),await this.Qo.ga(n,t,i),Pi(i),this.OB(n),this.Rg()!==h&&this.Co(new ai)}OB(t){this.IB!==t&&(this.IB=t,this.Co(new zt(t)))}Hg(){return this.Qo.Hg()}qg(){this.Qo.qg()}Xg(){this.Qo.Xg()}Rg(){return this.Qo.Rg()}Zg(){this.Qo.Zg()}Kg(){this.Qo.Kg()}async Zn(){this.bB=void 0,this.OB(void 0),await this.Qo.Zn()}async gn(){this.Vo(),await this.Zn(),await this.Qo.gn(),this.nN.gn(),this.hN.gn(),this.Dl.gn(),this.rN.gn()}ge(){this.xB=!0,this.Qo.ge()}be(){this.xB=!1,this.Qo.be()}constructor(t,i){super(),this.kB=void 0,this.IB=void 0,this.NP=tt.DB,this.bB=void 0,this.xB=!0,this.nN=new we,this.hN=new we,this.Dl=new Yu,this.rN=new Jo,this.LB=t,this.Qo=i,this.Qo.gg=this.gg,this.SB()}};function Bu(t,i,e){return e?t<=i:t<i}r(),r(),r();var Ac,Ki=class t{get jB(){return this.zB.slice()}Cn(t){return this.zB[2*t]}jn(t){return this.zB[2*t+1]}PB(t){return this.BB[2*t]}RB(t){return this.BB[2*t+1]}ks(){const t=this;return{get length(){return t.U},start(i){const e=0|i;return t.UB(e),t.Cn(e)},end(i){const e=0|i;return t.UB(e),t.jn(e)}}}QB(){const i=new Array(2*this.U),e=new Array(2*this.U);for(let t=0;t<this.U;t++)i[2*t]=this.Cn(t),i[2*t+1]=this.jn(t),e[2*t]=!0,e[2*t+1]=!0;return new t(i,e)}UB(t){if(t<0)throw new b("The index provided ("+t+") must be non-negative");if(t>=this.U)throw new b("The index provided ("+t+") is greater than the maximum bound ("+this.U+")")}FB(t){if(0===this.U)return 0;if(this.gr(t))return t;if(t<=this.Cn(0))return this.Cn(0);if(t>=this.jn(this.U-1))return this.jn(this.U-1);{let i=0,e=1/0;for(let s=0;s<this.U;s++){const n=this.Cn(s),r=x.abs(n-t);r<e&&(i=n,e=r);const h=this.jn(s),o=x.abs(h-t);o<e&&(i=h,e=o)}return i}}Sn(i){let e=0,s=0;const n=[],r=[];for(;e<this.U&&s<i.U;){const t=this.Cn(e),h=this.jn(e),o=this.PB(e),a=this.RB(e),u=i.Cn(s),c=i.jn(s),l=i.PB(s),d=i.RB(s),f=x.max(t,u),_=x.min(h,c);let g,w;g=t===u?o&&l:f===t?o:l,w=h===c?a&&d:_===h?a:d,(f<_||g&&w&&f===_)&&(n.push(f,_),r.push(g,w)),h===c?(e+=1,s+=1):h<c?e+=1:s+=1}return new t(n,r)}YB(){const i=this.GB(),e=i.U;if(0===e)return new t([-1/0,1/0],[!1,!1]);const s=[],n=[],r=i.Cn(0);r!==-1/0&&(s.push(-1/0,r),n.push(!1,!i.PB(0)));for(let t=0;t<e-1;t++)s.push(i.jn(t),i.Cn(t+1)),n.push(!i.RB(t),!i.PB(t+1));const h=i.jn(e-1);return h!==1/0&&(s.push(h,1/0),n.push(!i.RB(e-1),!1)),new t(s,n)}VB(i){let e=0,s=0;const n=this.U,r=i.U,h=new Array(2*(n+r)),o=new Array(2*(n+r));let a=0;for(;e<n&&s<r;){const t=this.Cn(e),n=this.jn(e),r=i.Cn(s),u=i.jn(s);t<r||t===r&&n<u?(h[a]=t,h[a+1]=n,o[a]=this.PB(e),o[a+1]=this.RB(e),e++):(h[a]=r,h[a+1]=u,o[a]=i.PB(s),o[a+1]=i.RB(s),s++),a+=2}for(;e<n;)h[a]=this.Cn(e),h[a+1]=this.jn(e),o[a]=this.PB(e),o[a+1]=this.RB(e),e++,a+=2;for(;s<r;)h[a]=i.Cn(s),h[a+1]=i.jn(s),o[a]=i.PB(s),o[a+1]=i.RB(s),s++,a+=2;return new t(h,o)}WB(i){void 0===i&&(i=0);const e=this.U;if(e<2)return this;const s=[],n=[];let r=this.Cn(0),h=this.jn(0),o=this.PB(0),a=this.RB(0);for(let t=1;t<e;t++){const e=this.Cn(t),u=this.jn(t);let c=this.PB(t),l=this.RB(t);r<e&&h>u||(r===e&&(c=o||c,o=c),h===u&&(l=a||l,a=l),Bu(e,h+i,a||c)?(h=u,a=l):(s.push(r,h),n.push(o,a),r=e,h=u,o=c,a=l))}return s.push(r,h),n.push(o,a),new t(s,n).GB()}GB(){const i=[],e=[];for(let t=0;t<this.U;t++){const s=this.Cn(t),n=this.jn(t),r=this.PB(t),h=this.RB(t);s===n?(r||h)&&(i.push(s,n),e.push(!0,!0)):(i.push(s,n),e.push(r,h))}return new t(i,e)}HB(t){if(0===this.U)return t;if(0===t.U)return this;return this.VB(t).WB()}qB(t){const i=this.GB(),e=t.GB(),s=i.YB(),n=e.YB(),r=s.Sn(e),h=n.Sn(i);return r.HB(h)}Np(i){if(0===this.U||0===i)return this;const e=[],s=[];for(let t=0;t<this.U;t++){const n=this.Cn(t)+i,r=this.jn(t)+i;e.push(n,r),s.push(this.PB(t),this.RB(t))}return new t(e,s)}XB(t){return 0===this.U||0===t.U?this:this.GB().Sn(t.GB().YB())}gr(t,i){return this.ZB(t,i)>=0}KB(t,i,e,s,n){return this.JB(t,i,e,s,n)>=0}$B(t,i,e,s,n){return this.tR(t,i,e,s,n)>=0}iR(t){if(t.U!==this.U)return!1;for(let i=0;i<this.U;i++)if(this.Cn(i)!==t.Cn(i)||this.jn(i)!==t.jn(i)||this.PB(i)!==t.PB(i)||this.RB(i)!==t.RB(i))return!1;return!0}eR(i){const e=[],s=[];for(let t=0;t<this.U;t++){const n=this.Cn(t),r=this.jn(t),h=this.PB(t),o=this.RB(t);i(n,r,h,o)&&(e.push(n,r),s.push(h,o))}return new t(e,s)}tR(t,i,e,s,n){void 0===e&&(e=!0),void 0===s&&(s=!0),void 0===n&&(n=0);const r=t-n,h=i+n;for(let t=0;t<this.U;t+=1)if(Bu(this.Cn(t),h,!s||this.PB(t))&&Bu(r,this.jn(t),!e||this.RB(t)))return t;return-1}JB(t,i,e,s,n){void 0===e&&(e=!0),void 0===s&&(s=!1),void 0===n&&(n=0);const r=t+n,h=i-n;for(let t=0;t<this.U;t+=1)if(Bu(this.Cn(t),r,!e||this.PB(t))&&Bu(h,this.jn(t),!s||this.RB(t)))return t;return-1}ZB(t,i){return this.JB(t,t,!0,!0,i)}sR(t,i){void 0===i&&(i=0);const e=t+i;for(let t=this.U-1;t>=0;t-=1)if(Bu(this.Cn(t),e,this.PB(t)))return t;return-1}nR(t,i){void 0===i&&(i=0);const e=t-i;for(let t=0;t<this.U;t+=1)if(Bu(e,this.jn(t),this.RB(t)))return t;return-1}rR(t,i){void 0===i&&(i=0);const e=t+i;for(let t=0;t<this.U;t+=1)if(this.Cn(t)>e)return t;return-1}hR(i){return this.UB(i),new t([this.Cn(i),this.jn(i)],[this.PB(i),this.RB(i)])}oR(t,i){const e=this.ZB(t,i);return e<0?void 0:this.hR(e)}get aR(){let t=0;for(let i=0;i<this.U;i++){t+=this.jn(i)-this.Cn(i)}return t}static xn(i){const e=[];for(let t=0;t<i.length;t++)e.push(i.start(t),i.end(t));return new t(e)}static uR(i){return new t([i,i],[!0,!0])}static cR(i,e){return i<=e?new t([i,e]):t.lR()}static lR(){return GI}constructor(t,i){this.U=t.length>>1,this.zB=t,this.BB=i||function(t){const i=new Array(2*t);for(let e=0,s=0;e<t;e+=1,s+=2)i[s]=!0,i[s+1]=!1;return i}(this.U)}},GI=new Ki([]);r(),r(),function(t){t.ra="fullscreenchange",t.ca="fullscreensupportchange",t.ha="fullscreenerror"}(Ac||(Ac={})),r();var VI=class extends Ag{constructor(){super(Ac.ha)}},$o=(Ac.ra,Ac.ca,Ac.ha,class extends i{get cs(){return!1}get ta(){return!1}mo(){this.Co(new VI)}So(){}gn(){this.Vo()}}),WI=class extends i{get k_(){}set k_(t){}get j_(){return this.dR}set j_(t){this.dR!==t&&(this.dR=t,this.fR=!0,this.Co(new Sa(this.j_)))}get q_(){return{aN:0,uN:0,cN:0,lN:0,dN:0,fN:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}get Z_(){return this._R}set Z_(t){this._R!==t&&(this._R=t,this.Co(new Oe(this.j_,this.xg)))}get hg(){return this.gR}get ag(){return this.wR}set ag(t){this.wR!==t&&(this.wR=t,this.Co(new Jh(this.j_,this.ag)))}get Tg(){return this.fR}get xg(){return this.Jk}set xg(t){this.Jk!==t&&(this.Jk=t,this.Co(new Oe(this.j_,this.xg)))}get Bg(){return!1}set Bg(t){}get EP(){return this.bP}ge(){}be(){}Vg(){this.gR&&(this.gR=!1,this.Co(new fh(this.j_)),this.Co(new Xc(this.j_)))}Gg(){this.gR||(this.gR=!0,this.Co(new jc(this.j_,this.k_)),this.Co(new ws(this.j_)))}ga(t,i){return Promise.resolve()}Hg(){return!1}qg(){}Xg(){}Rg(){return this.AR}Zg(){}Kg(){}async Zn(){this.dR=0,this.fR=!1,this.Gg(),this.Co(new Wv(this.dR))}async gn(){this.Vo(),this.ht.gn(),this.nt.gn(),this.rt.gn()}constructor(...t){super(...t),this.dR=0,this._R=!1,this.gR=!0,this.wR=1,this.fR=!1,this.Jk=1,this.ht=new jn,this.b_=Ki.lR().ks(),this.ct=NaN,this.R_=!1,this.lt=void 0,this.F_=void 0,this.G_=void 0,this.W_=!1,this.eg=!0,this.fg=Ki.lR().ks(),this.gg=tt.DB,this.vg=ov.tN,this.yg=Ki.lR().ks(),this.IP=void 0,this.nt=new tn,this.Ig=0,this.rt=new jn,this.Lg=0,this.zg=new xc,this.bP=new nu,this.AR=new $o}},HI=class extends WI{set vR(t){this.HP=t,this.vP=t.cB(rv.vp)}Ug(){var t;return null==(t=this.vP)?void 0:t.TP}async gn(){await super.gn(),this.vP&&(await this.HP.WP(this.vP),this.vP=void 0)}constructor(...t){super(...t),this.HP=void 0,this.vP=void 0}},et=class extends YI{get we(){return this.pu}get Bg(){return this.Qo.Bg}set Bg(t){this.Qo.Bg=t}Yg(){super.Yg(),this.pR.mR()}Qg(t){Jv(this,t)}Fg(){}Jg(t){return!1}async ga(t,i){const e=this.Rg(),s=this.Ug();await super.ga(t,i),this.Rg()!==e&&this.Co(new ai),this.Ug()!==s&&this.Co(new us)}CB(t,i){return t._m(this.pu,this.pR,this.gE,this.$x,this.yR,this.MR,i)}Ug(){return this.Qo.Ug()}E_(){return this.pR.NR.map((t=>t.TP))}async gn(){await super.gn(),this.pR.gn(),this.DR.gn()}constructor(t,i,e,s,n,r){const h=new HI;super(Ze.gL,h),this.pu=t,this.$x=i,this.gE=e,this.yR=s,this.MR=r,this.pR=new Uy(n,this.MR),this.pR.IR(this.pu),h.vR=this.pR,this.DR=new QI(this.pu)}};r(),r();var qI=class extends ra{get ht(){return this.SR}get b_(){return Ki.lR().ks()}get k_(){return new Date(NaN)}set k_(t){}get bt(){}get j_(){return 0}set j_(t){}get ct(){return 0}get we(){return this.pu}get R_(){return!0}get lt(){return this.ER}get F_(){return this.bR}get G_(){}get q_(){return{aN:0,uN:0,cN:0,lN:0,dN:0,fN:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}get Z_(){return!1}set Z_(t){}get eg(){return!0}get hg(){return!0}get ag(){return 0}set ag(t){}get fg(){return Ki.lR().ks()}get gg(){return tt.DB}set gg(t){}get vg(){return ov.tN}get yg(){return Ki.lR().ks()}get Tg(){return!1}get nt(){return this.LR}get Ig(){return 0}get rt(){return this.SR}get Lg(){return 0}get xg(){return 1}set xg(t){}get zg(){return this.SP}get Bg(){return!1}set Bg(t){}Jg(t){return!0}be(){}Vg(){throw this.Co(new pe(this.bR)),this.ER}Gg(){}Wa(){}async ga(t,i){throw Pi(i),this.Co(new pe(this.bR)),this.ER}ge(){}Wg(){return Promise.resolve()}Ug(){}Rg(){return this.AR}E_(){return[]}Yg(){}Qg(t){}Fg(){}get W_(){return!1}Hg(){return!1}qg(){}Xg(){}Zg(){}Kg(){}Zn(){return Promise.resolve()}gn(){return this.Vo(),this.SR.gn(),this.LR.gn(),Promise.resolve()}constructor(t,i,e){super(),this.AR=new $o,this.SP=new xc,this.pu=t,this.ER=i,this.SR=new jn,this.LR=new tn,this.bR=e}};function XI(t){if(t&&Mi(t))return At({},t,{integration:ZI(t.integration),fairplay:eS(t.fairplay),widevine:KI(t.widevine),playready:JI(t.playready),clearkey:sS(t.clearkey),aes128:nS(t.aes128),integrationParameters:rS(t.integrationParameters),preferredKeySystems:hS(t.preferredKeySystems)})}function ZI(t){if(ae(t))return t}function KI(t){if(t&&Mi(t))return{persistentState:$I(t.persistentState),distinctiveIdentifier:$I(t.distinctiveIdentifier),audioRobustness:tS(t.audioRobustness),videoRobustness:tS(t.videoRobustness),licenseAcquisitionURL:ae(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:iS(t.licenseType),headers:t.headers,useCredentials:!!P_(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:ae(t.certificate)||HA(t.certificate)?t.certificate:void 0}}function JI(t){if(!t)return;const i=KI(t);if(!i)return;return At({},i,{customData:ae(t.customData)?t.customData:void 0})}function $I(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function tS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function iS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function eS(t){if(!t)return;const i=KI(t);if(!i)return;return At({},i,{certificateURL:ae(t.certificateURL)?t.certificateURL:void 0})}function sS(t){if(!t)return;const i=KI(t);if(!i)return;const e=pi(t.keys)?t.keys.map((t=>function(t){if(!t||!Mi(t))return;const i=t.id,e=t.value;if(!ae(i)||!ae(e))return;return{id:i,value:e}}(t))).filter(j_):void 0;return At({},i,{keys:e})}function nS(t){if(Mi(t))return{useCredentials:P_(t.useCredentials)?t.useCredentials:void 0}}function rS(t){if(Mi(t))return t}function hS(t){return t&&pi(t)?t.map((t=>ml(t))).filter(j_):[Mt,Xi,qa]}r(),r(),r(),r(),r(),r(),r();var oS=class extends Ag{constructor(t){super("presentationmodechange"),this.presentationMode=t}};function ci(t,i,e){return new Promise(((s,n)=>{if(e&&e.$f)return n(new ia);const r=t=>{o(),s(t)},h=()=>{o(),n(new ia)},o=()=>{t.removeEventListener(i,r),e&&e.r_(h)};t.addEventListener(i,r),e&&e.n_(h)}))}r(),r(),r();var cu,aS=class extends i{Qa(t){for(const i of this.kR)t.yn(i,this.xR);this.OR.push(t)}jR(t){for(const i of this.kR)t.fn(i,this.xR);this.OR.push(t)}gn(){this.Vo();for(const t of this.OR)this.jR(t);Ri(this.OR)}constructor(t,i=!1,e){super(e),this.OR=[],this.zR=t=>{Qu((()=>{this.Ds(t)}))},this.kR=t,this.xR=i?this.zR:this.Ds}},Zu=class extends ra{Qa(t){t.m_(this.PR),this.OR.push(t)}jR(t){t.N_(this.PR),Et(this.OR,t)}gn(){this.Vo();for(const t of this.OR)t.N_(this.PR);Ri(this.OR)}constructor(t,i=!1){super(t),this.OR=[],this.zR=t=>{Qu((()=>{this.Ds(t)}))},this.PR=i?this.zR:this.Ds}};!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(cu||(cu={}));var uS,cS=class extends ra{get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){return function(t){let i,e={get currentMode(){return t.qo()},requestMode(i){const e=dS(i);e&&t.Zo(e)},supportsMode(i){const e=dS(i);return!!e&&t.Go(e)},addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)}};return i=new Zu(e,!0),i.Qa(t),e}(this)}Zo(t){this.Xo(t,t)}Xo(t,i){this.RR!==i&&(this.UR=!0,this.QR=t,this.Jo(i,this.RR),"fullscreen"!==t&&(this.FR=t),this.UR=!1,this.Yr())}qo(){return this.YR?"fullscreen":"inline"}Go(t){switch(t){case"fullscreen":return this.AR.ta;case"inline":return!0}return!1}Yr(){if(this.UR)return;const t=this.RR,i=this.qo();this.RR=i,"fullscreen"!==i&&(this.GR=i),t!==i&&this.Co(new oS(i))}Jo(t,i){const e="fullscreen"===t;this.YR=e,e!==this.AR.cs&&(e?this.AR.mo():this.AR.So())}wi(){if(this.UR)return;const t=this.AR.cs;this.YR=t,t?this.Xo("fullscreen","fullscreen"):t||"fullscreen"!==this.QR?this.Yr():this.Xo(this.FR,this.GR)}WR(){this.wi(),this.Co(new pe(new ce(p_.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))}gn(){this.AR.gn(),this.Vo()}constructor(t){super(),this.QR="inline",this.RR="inline",this.UR=!1,this.YR=!1,this.FR="inline",this.GR="inline",this.Xa=void 0,this.HR=()=>this.wi(),this.qR=()=>this.WR(),this.AR=t,this.AR.yn(Ac.ra,this.HR),this.AR.yn(Ac.ha,this.qR),this.Yr()}},lS={j_:0,ct:NaN,R_:!1,lt:void 0,F_:void 0,Z_:!1,hg:!0,ag:1,vg:ov.tN,Tg:!1,Ig:0,Lg:0,xg:1};function dS(t){switch(t){case cu.INLINE:case cu.FULLSCREEN:case cu.PICTURE_IN_PICTURE:return t;default:return}}r(),function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor"}(uS||(uS={}));var Fc,bu,Wo,fS,_S,Zo=class{get XR(){return this.ZR}KR(t){const i=this.XR.filter((i=>i.JR(t)));if(i.length>1)0;else if(0===i.length)throw b("Unknown ad integration: "+t.integration);return i[0]||null}$R(t){this.ZR.push(t)}constructor(){this.ZR=[]}};Zo.gL=new Zo,r(),r(),r(),r(),function(t){t.Tv="PLAYING",t.Dv="PAUSED",t.tU="SEEK",t.iU="STALLED",t.eU="FAILED",t.sU="INITIAL_BUFFERING",t.nU="NO_ACCESS"}(Fc||(Fc={})),function(t){t.rU="HTTP_REQUEST_STATUS_CODE_1XX",t.hU="HTTP_REQUEST_STATUS_CODE_2XX",t.oU="HTTP_REQUEST_STATUS_CODE_3XX",t.aU="HTTP_REQUEST_STATUS_CODE_4XX",t.uU="HTTP_REQUEST_STATUS_CODE_5XX",t.cU="BUFFER_LENGTH",t.lU="BYTES_RECEIVED",t.dU="SEGMENT_READ_BITRATE",t.fU="SEGMENT_PROFILE_BITRATE",t._U="VIDEO_PROFILE_BITRATE",t.gU="NUMBER_OF_FRAMES_DROPPED",t.wU="PLAYBACK_POSITION",t.AU="NUMBER_OF_FRAMES_DECODED",t.vU="PLAYBACK_DELTA_TO_ORIGIN",t.mU="STREAM_DELTA_TO_ORIGIN",t.pU="ORIGIN_TIMESTAMP"}(bu||(bu={})),function(t){t.yU="MANIFEST_URI",t.MU="ASSET_DURATION",t.TU="NUMBER_OF_CONTENT_PROFILES",t.NU="CDN",t.DU="CONTENT_TITLE",t.IU="SERVICE_NAME",t.SU="CONTENT_TYPE",t.EU="CONTENT_DESCRIPTION"}(Wo||(Wo={})),(fS||(fS={})).bU="shutdown_normal_shutdown",function(t){t.LU="session/",t.kU="content/",t.CU="internalError/",t.xU="drmError/",t.OU="caError/",t.jU="networkError/"}(_S||(_S={}));var gS,wS=class{get code(){return this.category+this.statusCode}constructor(t,i){this.category=t,this.statusCode=i}};!function(t){t.zU="userAction",t.PU="endOfStreamReached"}(gS||(gS={}));var Fu,AS=class extends i{};r(),r(),function(t){t.PAUSE="BU",t.RESUME="RU"}(Fu||(Fu={}));var vS=class extends Ag{constructor(){super("UU")}},xu=class extends i{QU(){this.FU=!0}YU(){}gn(){this.FU=!1,this.GU.fn(Fu.PAUSE,this.VU),this.GU.fn(Fu.RESUME,this.WU)}HU(){return isFinite(this.Qo.Td())}constructor(t,i){super(),this.Qo=t,this.GU=i,this.FU=!1,this.VU=()=>{this.YU(),this.FU=!1},this.WU=()=>{this.FU=!0},this.GU.yn(Fu.PAUSE,this.VU),this.GU.yn(Fu.RESUME,this.WU)}},mS=class extends xu{QU(){super.QU(),this.qU()}gn(){this.XU(),super.gn()}qU(){this.Qo.yn("waiting",this.ZU),this.Qo.yn("pause",this.KU),this.Qo.yn("playing",this.JU),this.Qo.yn("seeking",this.$U),this.Qo.yn("seeked",this.tQ)}XU(){this.Qo.fn("waiting",this.ZU),this.Qo.fn("pause",this.KU),this.Qo.fn("playing",this.JU),this.Qo.fn("seeking",this.$U),this.Qo.fn("seeked",this.tQ)}iQ(){this.eQ=!0}sQ(){const t=this.Qo.Q_(),i=new wS(_S.CU,String(t.code));this.nQ(Fc.eU,i,t.message)}rQ(t){this.FU&&(this.GU.hQ(t),this.Co(new vS))}nQ(t,i,e){this.GU.oQ(t,i,e),this.Co(new vS)}aQ(t,i){this.GU.uQ(t,i)}constructor(...t){super(...t),this.eQ=!1,this.cQ=!1,this.lQ=!1,this.ZU=()=>{this.cQ&&!this.lQ&&this.rQ(Fc.iU)},this.JU=()=>{this.Qo.hg||(this.cQ||this.aQ(new wS(_S.kU,"firstFrameDisplayed"),"now"),this.cQ=!0,this.rQ(Fc.Tv))},this.KU=()=>{this.Qo.hg&&(this.cQ=!0,this.rQ(Fc.Dv))},this.$U=()=>{this.eQ&&(this.lQ=!0,this.eQ=!1,this.rQ(Fc.tU))},this.tQ=()=>{this.lQ=!1,this.Qo.hg&&this.rQ(Fc.Dv)}}};r();var pS=class extends xu{QU(){super.QU(),this.dQ(),this.qU()}gn(){this.XU(),super.gn()}qU(){this.Qo.rt.yn("yw",this.dQ),this.Qo._Q.fQ(this.gQ),this.Qo.yn(t.EA,this.wQ)}XU(){this.Qo.rt.fn("yw",this.dQ),this.Qo._Q.AQ(this.gQ),this.Qo.fn(t.EA,this.wQ)}vQ(t){t.serviceName&&this.mQ(Wo.IU,t.serviceName),t.cdn&&this.mQ(Wo.NU,t.cdn),t.contentTitle&&this.mQ(Wo.DU,t.contentTitle),t.contentType&&this.mQ(Wo.SU,t.contentType),t.contentDescription&&this.mQ(Wo.EU,t.contentDescription)}mQ(t,i){this.FU&&this.GU.pQ(t,i)}constructor(...t){super(...t),this.wQ=()=>{this.HU()&&this.mQ(Wo.MU,x.round(this.Qo.Td()))},this.gQ=t=>{"manifest"===t.request.type&&this.mQ(Wo.yU,t.url)},this.dQ=()=>{const t=X_(this.Qo.rt.xw,(t=>t.Rt));t&&this.mQ(Wo.TU,t.Hw.U)}}};r();var yS=class extends xu{QU(){super.QU(),this.yQ=this.Qo.q_.aN,this.MQ=this.Qo.q_.cN,this.qU(),this.TQ.push(v(this.NQ,1e3))}YU(){super.YU(),this.DQ()}gn(){this.DQ(),this.XU(),this.TQ.forEach(m),Ri(this.TQ),super.gn()}qU(){this.Qo._Q.fQ(this.IQ),this.Qo.yn(t.rv,this.SQ)}XU(){this.Qo._Q.AQ(this.IQ),this.Qo.fn(t.rv,this.SQ)}EQ(){this.DQ()}bQ(t){this.LQ+=t,this.kQ(bu.lU,this.LQ)}CQ(t,i){const e=this.xQ.get(i)||0;this.kQ(t,e)}OQ(){const t=this.Qo.q_.aN-this.yQ;this.kQ(bu.gU,t)}jQ(){const t=this.Qo.q_.cN-this.MQ;this.kQ(bu.AU,t)}zQ(){const t=ua.gL.Qz();this.kQ(bu.dU,ZA(t))}BQ(t){this.kQ(bu.fU,ZA(t)),this.kQ(bu._U,ZA(t))}DQ(){if(!this.HU())return;const t=x.round(Ut(this.Qo.z_()));this.kQ(bu.wU,t)}RQ(){const t=Ki.xn(this.Qo.L_()),i=this.Qo.z_(),e=t.oR(i),s=e?Ut(e.jn(0)-i):0;this.kQ(bu.cU,s)}kQ(t,i){this.FU&&this.GU.UQ(t,i)}constructor(...t){super(...t),this.xQ=Qt(),this.LQ=0,this.yQ=0,this.MQ=0,this.TQ=[],this.NQ=()=>{this.OQ(),this.jQ(),this.RQ()},this.SQ=t=>{t.aE===rv.vp&&(this.bQ(t.dN),this.zQ(),this.BQ(t.QQ),this.DQ())},this.IQ=t=>{const i=t.status.toString()[0],e=this.xQ.get(i)||0;this.xQ.set(i,e+1),this.CQ(bu.rU,"1"),this.CQ(bu.hU,"2"),this.CQ(bu.oU,"3"),this.CQ(bu.aU,"4"),this.CQ(bu.uU,"5")}}};r(),r(),r();var bt=class{OL(t){this.FQ.delete(t)}YQ(){this.FQ.clear()}kL(t){return this.FQ.get(t)}zz(t,i){this.FQ.set(t,i)}constructor(){this.FQ=Qt()}},Vt=class t{static GQ(){return t.gL||(t.gL=MS.Ux()?new MS:new bt),t.gL}static OL(i){t.GQ().OL(i)}static YQ(){t.GQ().YQ()}static kL(i){return t.GQ().kL(i)}static zz(i,e){t.GQ().zz(i,e)}};Vt.gL=void 0;var Dr,MS=class extends Vt{static Ux(){const t="foobar";try{return self.sessionStorage.setItem(t,t),self.sessionStorage.removeItem(t),!0}catch(t){return!1}}OL(t){self.sessionStorage.removeItem(t)}YQ(){self.sessionStorage.clear()}kL(t){var i;return null!=(i=self.sessionStorage.getItem(t))?i:void 0}zz(t,i){self.sessionStorage.setItem(t,i)}};function TS(t){return t&&t.integration===bS}function NS(t){if(!ae(t.asset))throw new k("Agama source configuration: expected 'asset' to be a string");if(!function(t){return!!ae(t)&&("live"===t||"vod"===t)}(t.streamType))throw new k("Agama source configuration: expected 'streamType' to be 'live' or 'vod'");if(void 0!==t.serviceName&&!function(t){return!!ae(t)&&("live"===t||"svod"===t||"nvod"===t||"tvod"===t||"avod"===t||"catchuptv"===t)}(t.serviceName))throw new k("Agama source configuration: expected 'serviceName' to be 'live', 'svod', 'nvod','tvod', 'avod' or 'catchuptv'");if(void 0!==t.cdn&&!ae(t.cdn))throw new k("Agama source configuration: expected 'cdn' to be a string");if(void 0!==t.contentTitle&&!ae(t.contentTitle))throw new k("Agama source configuration: expected 'contentTitle' to be a string");if(void 0!==t.contentType&&!ae(t.contentType))throw new k("Agama source configuration: expected 'contentType' to be a string");if(void 0!==t.contentDescription&&!ae(t.contentDescription))throw new k("Agama source configuration: expected 'contentDescription' to be a string");return t}function DS(t){if(!ae(t.config))throw new k("Agama player configuration: expected 'config' to be a string");if(void 0!==t.logLevel&&!function(t){return!!ae(t)&&("info"===t||"debug"===t||"warning"===t||"error"===t||"fatal"===t)}(t.logLevel))throw new k("Agama player configuration: expected 'logLevel' to be 'info', 'debug', 'warning','error' or 'fatal'");if(void 0!==t.application&&!ae(t.application))throw new k("Agama player configuration: expected 'application' to be a string");if(void 0!==t.applicationVersion&&!ae(t.applicationVersion))throw new k("Agama player configuration: expected 'applicationVersion' to be a string");if(void 0!==t.userAccountID&&!ae(t.userAccountID))throw new k("Agama player configuration: expected 'userAccountID' to be a string");if(void 0!==t.deviceID&&!ae(t.deviceID))throw new k("Agama player configuration: expected 'deviceID' to be a string");return t}function IS(){let t="00000000-0000-0000-0000-000000000000",i=s.navigator,e=s.screen,n=""+i.mimeTypes.length;n+=i.userAgent.replace(/\D+/g,""),n+=i.plugins.length,n+=e.height||"",n+=e.width||"",n+=e.pixelDepth||"",n+=x.floor(1e3*x.random());let r=function(t){let i,e,s=0;if(0===t.length)return"0";for(i=0;i<t.length;i++)e=t.charCodeAt(i),s=(s<<5)-s+e,s|=0;return x.abs(s).toString().substring(0,12)}(n);return t=[t.slice(0,t.length-r.length),r].join(""),t}function SS(t,i,e){const s=i,n=function(t,i){return Cv(i)?t.DsProtocol.APPLE_HLS:t.DsProtocol.MPEG_DASH}(t,s.type),r=function(t,i){let e=t.DsPlaylistType.VOD;"live"===i&&(e=t.DsPlaylistType.LIVE);return e}(t,e.streamType);return{asset:e.asset,playlistType:r,protocol:n,uri:s.src}}r(),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Dr||(Dr={}));var Ga,ol,Aa,ES=class{VQ(){this.Qo.fn("error",this.WQ),this.HQ(),this.qQ(),this.GU.XQ()}ZQ(){this.Qo.KQ.va.chromecast&&this.Qo.KQ.va.chromecast.addEventListener("statechange",this.JQ)}qQ(){this.Qo.KQ.va.chromecast&&this.Qo.KQ.va.chromecast.removeEventListener("statechange",this.JQ)}$Q(){return void 0!==this.Qo.KQ.va.chromecast&&this.Qo.KQ.va.chromecast.state===Dr.CONNECTED}gn(){this.Qo.fn("sourcechange",this.do),this.Qo.fn("play",this.tF),this.Qo.fn("ended",this.iF),this.VQ(),this.GU.gn()}eF(){this.sF||(this.sF=new mS(this.Qo,this.GU)),this.nF||(this.nF=new yS(this.Qo,this.GU)),this.rF||(this.rF=new pS(this.Qo,this.GU))}QU(){this.sF&&(this.sF.QU(),this.sF.yn("UU",this.hF)),this.nF&&this.nF.QU(),this.rF&&this.rF.QU()}HQ(){this.sF&&(this.sF.fn("UU",this.hF),this.sF.gn(),this.sF=void 0),this.nF&&(this.nF.gn(),this.nF=void 0),this.rF&&(this.rF.gn(),this.rF=void 0)}vQ(t){this.rF&&this.rF.vQ(t)}oF(){this.sF&&this.sF.sQ()}iQ(){this.sF&&this.sF.iQ()}constructor(t,i,e){this.Qo=t,this.GU=i,this.do=()=>{this.aF(),this.iF()},this.aF=()=>{const t=this.Qo.Wa(),i=t&&t.analytics;this.uF=function(t){void 0===t&&(t=[]);for(let i of t)if(TS(i))return NS(i)}(i)},this.iF=()=>{this.VQ(),this.Qo.fn("play",this.tF),!this.$Q()&&this.GU.cF()&&this.Qo.bt&&this.uF&&(this.eF(),this.Qo.hg||this.Qo.R_?this.Qo.yn("play",this.tF):this.tF())},this.tF=()=>{this.Qo.bt&&this.uF&&(this.GU.lF(this.Qo.bt,this.uF),this.QU(),this.vQ(this.uF),this.ZQ(),this.Qo.yn("error",this.WQ),this.Qo.fn("play",this.tF))},this.JQ=()=>{this.$Q()&&this.VQ()},this.WQ=()=>{this.oF(),this.VQ()},this.hF=()=>{this.nF&&this.nF.EQ()};const s=function(t){void 0===t&&(t=[]);for(const i of t)if(TS(i))return DS(i)}(e.analytics);s&&this.GU.dF()&&(this.GU.Yg(s),this.GU.cF()?(this.GU.fF(),this.Qo.yn("sourcechange",this.do),this.Qo.yn("ended",this.iF)):console.warn("An error occurred while initializing an Agama EMP client. Please check your configuration"))}},bS="agama";function LS(t){switch(t){case"":return Ga.NONE;case"horizontal":return Ga.HORIZONTAL;case"vertical":return Ga.VERTICAL;default:throw new k}}function kS(t,i){if(i)return ol.PM360;if(null==t)return ol.NONE;switch(t){case"":return ol.NONE;case"360":return ol.PM360;case"180":return ol.PM180;default:throw new k("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}r(),r(),function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Ga||(Ga={})),r(),function(t){t.NONE="",t.PM360="360",t.PM180="180"}(ol||(ol={})),r(),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(Aa||(Aa={})),r();var CS="https://content.uplynk.com";function xS(t){if(!t)return!0;const i=!function(t){return Ma(t)||He(t)&&Ma(t[0])}(t.sources)||Rv(t.sources),e=!t.ads||OS(t.ads),s=""!==t.poster&&!t.poster;return i&&e&&s}function OS(t){return!t||pi(t)&&0===t.length}function jS(t){if(t&&t.sources)return zS(t.sources)}function zS(t){return ae(t)?Vo(t):Pv(t)?t.type||t.src&&Vo(t.src):He(t)&&t.length>0?zS(t[0]):void 0}function PS(t){if(t&&t.sources)return BS(t.sources)}function BS(t){return ae(t)?t:Pv(t)?t.src:He(t)&&t.length>0?BS(t[0]):void 0}function RS(t,i,e){return xv(t)?function(t,i,e){let s=At({},Uv(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:ms.VERIZON_MEDIA,id:"",prefix:CS,preplayParameters:{},playbackUrlParameters:{},assetType:Aa.ASSET,contentProtected:!1,assetInfo:!0});s.id=function(t){if(ae(t))return t;if(He(t)&&ae(t[0]))return t;if(function(t){return Mi(t)&&ae(t.userId)&&(He(t.externalId)||ae(t.externalId))}(t))return t;return""}(t.id),t.preplayParameters&&(s.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(s.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(s.assetType=function(t){switch(t){case"channel":return Aa.CHANNEL;case"event":return Aa.EVENT;default:return Aa.ASSET}}(t.assetType));t.contentProtected&&(s.contentProtected=bg(t.contentProtected));t.assetInfo?s.assetInfo=bg(t.assetInfo):s.assetInfo="asset"===s.assetType;t.prefix&&(s.prefix=Oa(t.prefix)||CS);return s.ping=function(t,i){let e=!1,s=!1,n=!1;i?(e=!!P_(i.adImpressions)&&i.adImpressions,s=!!P_(i.freeWheelVideoViews)&&i.freeWheelVideoViews,n=P_(i.linearAdData)?i.linearAdData:t!==Aa.ASSET):t!==Aa.ASSET&&(n=!0);return{adImpressions:e,freeWheelVideoViews:s,linearAdData:n}}(s.assetType,t.ping),s=QS(s,t),s=YS(s,i,e),s=FS(s,t,e),s}(t,i,e):jv(t)?function(t,i,e){var s;return At({},US(t,i,e),{integration:ms.MEDIATAILOR,adParams:null!=(s=t.adParams)?s:{}})}(t,i,e):Ov(t)?function(t,i,e){return At({},US(t,i,e),{integration:ms.THEOLIVE})}(t,i,e):US(t,i,e)}function US(t,i,e){let s=Qv();const n=i&&(i.contentProtection||i.drm);if(ae(t)){if(s.src=t,s.type=Vo(t),n){const t=XI(n);s.contentProtection=pv(t)}}else if(Pv(t)||Ia(t)){s.src=t.src,s.type=t.type||Vo(t.src),s.isAdvertisement=t.isAdvertisement;const i=Bv(t)?t.hesp:void 0;void 0!==i&&(s.hesp=i);jv(t)&&(s.integration=t.integration);const e=XI(t.contentProtection||t.drm||n);s.contentProtection=pv(e),t.ssai&&(s.ssai=_w(t.ssai)),s=QS(s,t)}return s=YS(s,i,e),s=FS(s,t,e),s}function QS(t,i){var e,s;i.useCredentials?t.crossOrigin=Ds.Uv:i.crossOrigin&&(t.crossOrigin=Lv(i.crossOrigin)),ae(i.timeServer)&&(t.timeServer=i.timeServer),i.liveOffset&&(t.liveOffset=i.liveOffset),i.hlsDateRange&&(t.hlsDateRange=i.hlsDateRange),i.lowLatency&&(t.lowLatency=bg(i.lowLatency)),i.useNativePlayback&&(t.useNativePlayback=bg(i.useNativePlayback)),i.useManagedMediaSource&&(t.useManagedMediaSource=bg(i.useManagedMediaSource)),i.dash&&(t.dash=yv(i.dash)),i.hls&&(t.hls=Mv(i.hls)),i.lcevc&&(t.lcevc=bg(i.lcevc)),i.ignoreEmbeddedTextTrackTypes&&(t.ignoreEmbeddedTextTrackTypes=Vv(i.ignoreEmbeddedTextTrackTypes)),t.seamlessSwitchStrategy=Ev(null!=(s=i.seamlessSwitchStrategy)?s:null==(e=i.dash)?void 0:e.useSeamlessPeriodSwitch);const n=lu(i.experimentalRendering);void 0!==n&&(t.experimentalRendering=n);const r=lu(i.nativeUiRendering);return void 0!==r&&(t.nativeUiRendering=r),t}function FS(t,i,e){return t.abr=Nv(ae(i)?void 0:Ps(i.abr),null==e?void 0:e.abr),t}function YS(t,i,e){var s;const n=i&&i.timeServer;return e&&e.liveOffset&&!j_(t.liveOffset)&&(t.liveOffset=e.liveOffset),e&&e.hlsDateRange&&!j_(t.hlsDateRange)&&(t.hlsDateRange=e.hlsDateRange),t.crossOrigin===Ds.Bv&&(null==i||null==(s=i.vr)?void 0:s[360])&&(t.crossOrigin=Ds.Rv),t.useCredentials=t.crossOrigin===Ds.Uv,ae(n)&&!t.timeServer&&(t.timeServer=n),t}function GS(t){const i={src:""};if(t&&t.src){if(i.src=Oa(t.src),"default"in t&&(i.default=bg(t.default)),i.kind=function(t){const i=String(t||"").toLowerCase();return ny(i)?i:i?"metadata":"subtitles"}(t.kind),Ni(t.format)&&(i.format=t.format),"srclang"in t){const e=t.srclang;"string"==typeof e&&""!==e&&(i.srclang=e)}if("label"in t){const e=t.label;"string"==typeof e&&""!==e&&(i.label=e)}}return i}function VS(t,i){if(dt(t))try{return i.KR(t)._F(t)}catch(t){return}}function WS(t){return ae(t.sources)&&""!==t.sources||Mi(t.sources)&&ae(t.sources.src)}function HS(t){return t.integration===uS.SPOTX&&!j(t.id)}function qS(t){return"freewheel"===t.integration}function il(t,i,e){if(void 0===e&&(e=Zo.gL),xS(t))return{sources:[Qv()]};const s=se(t);if(s.sources=function(t,i,e){if(Ma(t))return[RS(t,i,e)];if(He(t)&&Ma(t[0])){const s=[];for(const n of t)s.push(RS(n,i,e));return s}return[Qv()]}(s.sources,s,i),"contentProtection"in s&&delete s.contentProtection,"drm"in s&&delete s.drm,"ads"in s){const t=function(t,i){if(!He(t))return[];const e=[];for(let s of t)s=VS(s,i),s&&(WS(s)||HS(s)||qS(s))&&e.push(s);return e}(s.ads,e);0===t.length?delete s.ads:s.ads=t}const n=!Rv(s.sources),r=s.ads&&s.ads.length>0;if(n&&!r?delete s.ads:r&&!n&&(s.sources=[]),"textTracks"in s){const t=function(t){if(!He(t))return[];const i=[];for(let e of t)e=GS(e),""!==e.src&&i.push(e);return i}(s.textTracks);0===t.length?delete s.textTracks:s.textTracks=t}"poster"in s&&(s.poster=Oa(s.poster)),"streamType"in s&&(s.streamType=function(t){switch(t){case"live":case"dvr":case"vod":return t}}(s.streamType)),"vr"in s&&(s.vr=function(t){const i=t||{};return i.stereoMode=function(t){return function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(t)?t:""}(i.stereoMode),{panoramaMode:kS(i.panoramaMode,Boolean(i[360])),stereoMode:i.stereoMode?LS(i.stereoMode):Ga.NONE,nativeVR:Boolean(i.nativeVR)}}(s.vr));if("analytics"in s||(null==i?void 0:i.analytics)){const t=Yv(s.analytics),e=i&&i.analytics||[];s.analytics=function(t,i){const e=se(t);for(const s of i){const i=!t.some((t=>t.integration===s.integration));i&&s.integration!==bS&&e.push(s)}return e}(t,e)}return"mutedAutoplay"in s&&(s.mutedAutoplay=Xv(s.mutedAutoplay)),"timeServer"in s&&delete s.timeServer,"playAdsAfterTime"in s&&(s.playAdsAfterTime=Ih(s.playAdsAfterTime)),s.blockContentIfAdError=function(t){return void 0!==t&&"boolean"==typeof t&&Boolean(t)}(s.blockContentIfAdError),s}r();var XS=!(wn.Cb&&!wn.Ob),ju=self.console;function ZS(t){if(Mi(t))try{return JSON.stringify(t)}catch(t){}return t}function KS(t){return t.map(ZS).join(" ")}function JS(t){const i=ju&&ju[t];return i?i.bind&&XS?i.bind(ju):function(){for(var i=arguments.length,e=new Array(i),s=0;s<i;s++)e[s]=arguments[s];ju[t](KS(e))}:void 0}var Vu=JS("log")||xs,ji=JS("warn")||Vu.bind(void 0,"WARNING:"),Eu=JS("error")||Vu.bind(void 0,"ERROR:"),$S=(()=>{const t=ju&&ju.assert;return t?t.bind&&XS?t.bind(ju):function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];ju.assert(t,KS(e))}:function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];t||Eu("Assertion failed:",...e)}})();r(),r(),r();var tE=function(){function t(t){this.gF=t}return t.prototype.wF=function(t){var i,e,s,n,r,h,o,a=[];if(!t)return"";var u=t.length%4;if(u>0)for(;u++<4;)t+=this.gF.charAt(64);for(i=0;i<t.length;i+=4)e=(o=this.gF.indexOf(t.charAt(i))<<18|this.gF.indexOf(t.charAt(i+1))<<12|(r=this.gF.indexOf(t.charAt(i+2)))<<6|(h=this.gF.indexOf(t.charAt(i+3))))>>>16&255,s=o>>>8&255,n=255&o,a[i/4]=String.fromCharCode(e,s,n),64===h&&(a[i/4]=String.fromCharCode(e,s)),64===r&&(a[i/4]=String.fromCharCode(e));return a.join("")},t.prototype.AF=function(t,i){var e,s,n,r,h,o,a,u=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.gF.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)s=(e=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,n=e>>12&63,r=e>>6&63,h=63&e,u[o/3]=this.gF.charAt(s)+this.gF.charAt(n)+this.gF.charAt(r)+this.gF.charAt(h);return a=(a=u.join("")).slice(0,a.length-c.length),i||(a+=c),a},t.lh=new t(function(){var t,i,e,s,n=[],r=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<r.length;t+=1)for(i=r[t],e=0;e<i.length;e+=1)s=i.charAt(e),-1===n.indexOf(s)&&n.push(s);return n.join("")}()),t.vF=new t(function(t){return t.wF("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")}(t.lh)),t}();function iE(t){return"string"==typeof t}function eE(t){return"number"==typeof t}r(),r(),r();var sE={}.toString;var A,nE=Array.isArray||function(t){return"[object Array]"===sE.call(t)};function wc(t,i){return nE(t)&&t.every(i)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf",t.THEOLIVEWEB="theoliveweb"}(A||(A={}));var it,rE=_.keys(A).map((function(t){return A[t]}));function hE(t){return-1!==rE.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview"}(it||(it={}));var oE,aE=_.keys(it).map((function(t){return it[t]}));function uE(t){return-1!==aE.indexOf(t)}function cE(t){try{var i=tE.vF.wF(t),e=JSON.parse(i);if(!function(t,i){var e,s=function(t){return"object"==typeof t&&null!==t}(t),n=iE(t.key),r=iE(t.customer_id),h=eE(t.generation_date),o=eE(t.expiration_date),a=wc(t.domains_page,iE),u=wc(t.domains_source,iE),c=wc(t.sdks,i?hE:iE),l=function(t){return"boolean"==typeof t}(t.send_impression);t.features?e=wc(t.features,i?uE:iE):(e=!0,t.features=[]);if(!(s&&n&&r&&h&&o&&a&&u&&c&&l&&e))return!1;return!0}(e,!1))throw new b("The provided license could not be decoded correctly.");return e}catch(t){throw new b("The provided license could not be decoded correctly.")}}function lE(){return oE||(oE={zu:Fy.href,mF:Ys.parent&&Ys.parent!==s,pF:fE()}),oE}var re,dE=["http:","https:","ftp:","ws:","wss:"];function fE(){var t;try{if(null==Ys?void 0:Ys.top)return Ys.top.location.href}catch(t){}return null==Ys||null==(t=Ys.document)?void 0:t.referrer}!function(t){t[t.yF=0]="yF",t[t.MF=1]="MF",t[t.TF=2]="TF"}(re||(re={}));var _E,gE=class{constructor(t,i,e,s,n=[],r="",h=Date.now(),o=[],a=!0){this.NF=t,this.DF=i,this.IF=e,this.SF=s,this.EF=n,this.bF=r,this.LF=h,this.kF=o,this.CF=a}};!function(t){t.MF="expired",t.xF="invaliddomain",t.OF="invalidsource",t.jF="invalidfeature",t.ha="error"}(_E||(_E={}));var wE=class t{zF(t,i){let e=[];Ma(t.sources)?e=[t.sources]:He(t.sources)&&(e=t.sources),this.PF(t,e,i),this.BF(e,i)}PF(t,i,e){if(xS(t)||0===e.IF.length||mE(e.IF))return;if(!i.every((t=>this.RF(t,e)))){const t="invalidsource",i=_i.UF(t);throw new ce(AE(t),i)}}BF(t,i){for(const e of t)Pv(e)&&Bv(e)&&!e.bypassLicense&&this.QF([it.HESP],i)}FF(i){return this.YF(i.kF)&&this.GF(i)?t.VF(i.SF)?0:1:2}QF(t,i){for(const e of t)if(!ea(i.EF,e)){const t="invalidfeature",i=_i.WF(t,e);throw new ce(AE(t),i)}}YF(t){return 0===t.length||t.some((t=>this.HF(t)))}HF(t){return"web"===function(t){switch(t){case A.ANDROID:return Ny.TE;case A.ANDROIDTV:case A.FIRETV:return Ny.NE;case A.IOS:return Ny.DE;case A.TVOS:return Ny.SE;case A.CHROMECAST:case A.CHROMECASTCAF:return Ny.EE;case A.THEOLIVEWEB:return Ny.bE;default:return Ny.ME}}(t)}static VF(t){const i=Number(new Date);return!!t&&i<=t}GF(t){return!(this.qF&&0!==t.DF.length&&!mE(t.DF))||!!(this.qF&&this.XF(t.DF)&&this.ZF(t.DF))}XF(t){return pE(this.Ck.zu,t)}ZF(t){if(!this.Ck.mF)return!0;if(this.KF)return!0;const i=this.JF();return!!i&&pE(i,t)}JF(){if(!this.Ck.mF)return;const t=ed.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Ck.pF?this.Ck.pF:void 0}RF(i,e){return!!t.tY(i,e.IF)}static tY(t,i){return pE(this.iY(t),i)}static iY(t){return ae(t)?t:Pv(t)&&t.src||""}constructor(t,i,e){this.KF=t,this.eY=i,this.Ck=e,this.qF=ME(this.Ck)}};function AE(t){switch(t){case"invaliddomain":return p_.LICENSE_INVALID_DOMAIN;case"invalidsource":return p_.LICENSE_INVALID_SOURCE;case"expired":return p_.LICENSE_EXPIRED;case"invalidfeature":return p_.LICENSE_INVALID_FEATURE;case"error":return p_.LICENSE_ERROR}}function vE(t,i){let e=t,s=i;if(!e)return!1;if(s=s.trim(),"*"===s)return!0;if(e=e.replace(/\.+$/,""),s===e)return!0;const n="\\.",r="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",h="(\\*|"+r+")",o=new RegExp("ip-range\\("+h+n+h+n+h+n+h+"\\)"),a=s.match(o),u=t=>"*"===t?"("+r+")":t;if(null!==a&&5===a.length){const t=new RegExp("^"+a[1]+n+u(a[2])+n+u(a[3])+n+u(a[4])+"$");return null!==e.match(t)}return s="."+s,-1!==e.indexOf(s,e.length-s.length)}function mE(t){return t.some((t=>"*"===t))}function pE(t,i){const e=lg.Dh(t);if(!yE(e))return!0;for(const s of i){if(vE(e.hostname,s))return!0;if(vE(aw(t),s))return!0}return!1}function yE(t){return-1!==dE.indexOf(t.protocol)}function ME(t){const i=lg.Dh(t.zu);return yE(i)&&!function(t){return vE(t.hostname,"localhost")}(i)&&!function(t){return vE(t.hostname,"theoplayer.doubleclick.net")}(i)}var Rs,_i=class{static WF(t,i){return"The requested feature '"+i+"' is not available with the license for this player."}static UF(t){return"invaliddomain"===t?this.sY:"invalidsource"===t?this.nY:"expired"===t?this.rY:"invalidfeature"===t?this.hY:this.oY}};function TE(t){const i=[t.fT,t.aY,t.uY];switch(t.aY){case 1:i.push(t.oA);break;case 4:i.push(t.j_),i.push(t.lt);break;case 5:i.push(t.lt)}return i}_i.oY="The license for this player is invalid.",_i.rY="The usage license for this video player has expired.",_i.sY="The current domain is incompatible with the license for this player.",_i.nY="The provided video source is incompatible with the license for this player.",_i.hY="The requested feature is not available with the license for this player.",r(),r(),function(t){t[t.cY=1]="cY",t[t.lY=4]="lY",t[t.dY=5]="dY"}(Rs||(Rs={})),r();var nl=new Array(256);for(let t=0;t<256;t+=1)nl[t]=(t<16?"0":"")+t.toString(16);function $e(){const t=Qo(),i=(4294967296*x.random()|0)+t&3029421624,e=(4294967296*x.random()|0)+t&3595553209,s=(4294967296*x.random()|0)+t&1130486254,n=(4294967296*x.random()|0)+t&1284287105;return nl[255&i]+nl[i>>>8&255]+nl[i>>>16&255]+nl[i>>>24&255]+"-"+nl[255&e]+nl[e>>>8&255]+"-"+nl[e>>>16&15|64]+nl[e>>>24&255]+"-"+nl[63&s|128]+nl[s>>>8&255]+"-"+nl[s>>>16&255]+nl[s>>>24&255]+nl[255&n]+nl[n>>>8&255]+nl[n>>>16&255]+nl[n>>>24&255]}function NE(t){return XA(t.replace(/-/g,""))}function DE(){return lg.f_()}r(),r(),r();var IE,SE="theoplayer-session-id";function EE(){if(!IE){const t=Vt.kL(SE);t?IE=t:(IE=$e(),Vt.zz(SE,IE))}return IE}r(),r();var bE=/[^\x00-\x7E]/g;function LE(t){return"\\u"+fa(t.charCodeAt(0).toString(16),4,"0")}var kE="https://license.theoplayer.com";function CE(t){const i=function(t){const i=[];return function(t,i,e){return JSON.stringify(t,i,e).replace(bE,LE)}(t,((t,e)=>{if(Mi(e)){if(-1!==i.indexOf(e))return null;i.push(e)}return e}))}(function(t){return[t.fY,t.nx,t.NF,t._y,t._Y,t.gY,t.wY.map(TE)]}(t));return tE.vF.AF(i)}var xE=class{get wY(){return this.kR}AY(){return Boolean(this._Y)}get _Y(){return this.vY}async mY(t){if(!(await this.yY.pY()).CF)return;const i={aY:Rs.cY,uY:Qo(),oA:t};await this.aQ(i)}async MY(t,i){const e={aY:Rs.lY,uY:Qo(),j_:i,lt:t};await this.aQ(e)}async TY(t){const i={aY:Rs.dY,uY:Qo(),lt:t};await this.aQ(i)}async aQ(t){const i=await this.yY.pY();"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===this.NY.AF(i.NF)&&t.aY!==Rs.dY||(t.aY===Rs.cY?this.DY():this.AY()||this.DY(),t.fT=this.cC++,this.kR.push(t),!function(t){return t===Rs.cY||t===Rs.dY}(t.aY)?this.kR.length>this.IY&&await this.SY():await this.EY())}async EY(t){for(void 0===t&&(t=!1);this.kR.length>0;)await this.SY(t)}async bY(t){const i=await this.yY.pY();return{fY:Qo(),nx:EE(),NF:this.NY.AF(i.NF)||"dev",_y:this.jC,_Y:this.vY,gY:this.LY,wY:t}}async SY(t){void 0===t&&(t=!1);const i=this.kR.splice(0,this.kY),e=await this.bY(i);t?this.CY(e):this.xY(e),this.OY=DE()}async xY(t){const i=CE(t),e=new ec({zu:kE,eE:i,uE:!1,rE:er.Ru,sE:{"Content-Type":je.iz},NS:4e3,nE:Yc.POST});try{const t=await this.gE.mS(e);await t.Kj()}catch(t){(new Image).src="https://licensing.theoplayer.com/t?"+i}}CY(t){const i=CE(t);this.gE.CY({zu:kE,eE:i,LP:je.iz})}DY(){this.AY()&&this.EY(),this.vY=$e(),this.cC=0}gn(){vs.jY(this.zY),m(this.PY),this.EY()}constructor(t,i,e,s=tE.lh,n=0,r=1){this.jC=t,this.gE=i,this.yY=e,this.NY=s,this.IY=n,this.kY=r,this.kR=[],this.vY=null,this.OY=0,this.LY="unknown",this.cC=0,this.BY=()=>{DE()-this.OY>6e4&&this.EY()},this.zY=()=>{this.EY(!0)},vs.RY(this.zY),this.PY=v(this.BY,6e4)}};r(),r(),r();var OE=0;var jE=c,ds=self.requestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame,Gs=self.cancelAnimationFrame||self.webkitCancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelRequestAnimationFrame;ds&&Gs||(ds=function(t){const i=DE(),e=x.max(0,16-(i-OE)),s=u((()=>t(i+e)),e);return OE=i+e,s},Gs=jE),ds=ds.bind(self),Gs=Gs.bind(self);var zE=wn.Cb||wn.Ga&&wn.Gb<13;function PE(t,i,e){const s=t.getImageData(i,e,1,1).data;return 0===s[0]&&0===s[1]&&0===s[2]&&0===s[3]}var Zr,BE=class{get va(){var t;return null!=(t=this.Xa)?t:this.Xa=function(t){return{drawImage(i){for(var e=arguments.length,s=new Array(e>1?e-1:0),n=1;n<e;n++)s[n-1]=arguments[n];return t.UY(i,...s)},texImage2D:(i,e,s,n,r,h)=>t.QY(i,e,s,n,r,h),requestVideoFrameCallback:i=>t.FY(i),cancelVideoFrameCallback:i=>t.YY(i)}}(this)}UY(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];const n=this.GY;return void 0!==n&&(t.drawImage(n,...e),!0)}QY(t,i,e,s,n,r){let h=this.GY;return void 0!==h&&(zE&&(h=this.VY(h)),t.texImage2D(i,e,s,n,r,h),!0)}FY(t){const i=this.WY++,e=this.HY(t,i);return this.qY.set(i,{XY:t,ZY:e}),i}YY(t){const i=this.qY.get(t);void 0!==i&&(this.qY.delete(t),i.ZY())}HY(t,i){const e=this.GY;if(void 0===e)return xs;if(e instanceof HTMLVideoElement&&e.requestVideoFrameCallback){const s=e.requestVideoFrameCallback(((e,s)=>{this.qY.delete(i),t(e,s)}));return()=>e.cancelVideoFrameCallback(s)}{let e;const s=n=>{this.KY()?(this.qY.delete(i),this.JY=!1,t(n,void 0)):e=ds(s)};return e=ds(s),()=>Gs(e)}}KY(){return(!this.t.hg||this.JY)&&!this.t.Tg&&this.t.vg>=ov.iN}VY(t){let i=this.$Y;void 0===i&&(i=h.createElement("canvas"),this.$Y=i);const e=i.getContext("2d"),s=this.t,n=s.Lg,r=s.Ig,o=i.width,a=i.height;e.clearRect(0,0,i.width,i.height),o===n&&a===r||(i.width=n,i.height=r),e.drawImage(t,0,0,n,r);let u=!1;return n>0&&PE(e,n-1,0)&&(i.width=o,u=!0),r>0&&PE(e,0,r-1)&&(i.height=a,u=!0),u&&e.drawImage(t,0,0,n,r),i}gn(){this.qY.forEach((t=>t.ZY())),this.qY.clear(),this.t.fn(t.OA,this.tG),this.t.fn(t.XA,this.iG),this.GY=void 0,this.$Y=void 0}constructor(i){this.GY=void 0,this.Xa=void 0,this.$Y=void 0,this.qY=_e(),this.WY=1,this.JY=!0,this.iG=()=>{this.JY=!0},this.tG=()=>{this.GY=this.t.Ug(),this.qY.forEach(((t,i)=>{t.ZY(),t.ZY=this.HY(t.XY,i)}))},this.t=i,this.t.yn(t.OA,this.tG),this.t.yn(t.XA,this.iG),this.tG()}};r(),r(),r(),(Zr||(Zr={})).pn="dimensionchange";var RE=class extends Ag{constructor(t,i){super(Zr.pn),this.width=t,this.height=i}};r(),r();var UE,QE=class{constructor(t,i){this.we=t,this.XY=i}},FE=class extends QE{get _u(){return this.eG}get ku(){return this.sG}gn(){this.nG.disconnect()}constructor(t,i){super(t,i),this.eG=0,this.sG=0,this.rG=t=>{if(t.length>0){const i=t[t.length-1].contentRect;this.sG=i.width,this.eG=i.height,this.XY(this.sG,this.eG)}},this.nG=new Ys.ResizeObserver(this.rG),this.nG.observe(this.we)}};r(),r();var YE=["Webkit","Moz","O","ms"],GE=(()=>{let t=!1;try{if(void 0!==Ys&&"function"==typeof Ys.addEventListener){const i=_.defineProperty({},"passive",{get(){t=!0}});Ys.addEventListener("testPassiveEventSupport",xs,i),Ys.removeEventListener("testPassiveEventSupport",xs,i)}}catch(t){}return t})(),VE=Qt();function WE(t){return VE.has(t)||VE.set(t,function(t){const i=(UE||(UE=Ys&&Ys.document&&Ys.document.createElement("span")),UE);if(!i||!i.style)return t;if(void 0!==i.style[t])return t;const e=t.charAt(0).toUpperCase()+t.slice(1);for(const t of YE){const s=t+e;if(void 0!==i.style[s])return s}return t}(t)),VE.get(t)}function HE(t){const i=t.style;i.position="absolute",i.left="0",i.right="0",i.bottom="0",i.top="0",i.overflow="scroll",i.zIndex="-1",i.visibility="hidden"}function qE(t){const i=t.style;i.position="absolute",i.left="0",i.top="0",i[WE("transition")]="0s"}var XE=class extends QE{gn(){Gs(this.hG),this.hG=0,this.oG.removeEventListener("scroll",this.aG),this.uG.removeEventListener("scroll",this.aG),ei(this.cG),s&&s.removeEventListener("resize",this.lG)}get _u(){return this.we.getBoundingClientRect().height||this.eG||0}get ku(){return this.we.getBoundingClientRect().width||this.sG||0}constructor(t,i,e){super(t,i),this.hG=0,this.sG=NaN,this.eG=NaN,this.dG=void 0,this.Zn=()=>{const t=1e5;this.fG.style.width=t+"px",this.fG.style.height=t+"px",this.oG.scrollLeft=t,this.oG.scrollTop=t,this.uG.scrollLeft=t,this.uG.scrollTop=t,0===this.uG.scrollTop&&ds(this.Zn)},this._G=()=>{const t=this.ku,i=this._u;this.XY(t,i),this.sG=t,this.eG=i,this.Zn(),this.hG=0},this.aG=()=>{if(this.hG)return;const t=this.ku,i=this._u;t===this.sG&&i===this.eG||(this.hG=ds(this._G))},this.lG=()=>{this.dG||(this.dG=u(this.gG,66))},this.gG=()=>{this.dG=void 0,this.wG()},this.wG=()=>{this.aG()};const n=function(t,i){return s.getComputedStyle(t,void 0).getPropertyValue(i)||t.style[i]}(t,"position");e||"static"!==n||(t.style.position="relative");const r=h.createElement("div");this.cG=r,this.oG=h.createElement("div"),this.fG=h.createElement("div"),this.uG=h.createElement("div"),this.AG=h.createElement("div"),HE(this.oG),HE(this.uG),qE(this.fG),function(t){qE(t),t.style.width="200%",t.style.height="200%"}(this.AG),r.appendChild(this.oG),r.appendChild(this.uG),this.oG.appendChild(this.fG),this.uG.appendChild(this.AG),t.appendChild(r),this.oG.addEventListener("scroll",this.aG),this.uG.addEventListener("scroll",this.aG),s&&s.addEventListener("resize",this.lG),this.aG()}},ZE=class extends i{bn(t){this.nG||("function"==typeof Ys.ResizeObserver?this.nG=new FE(this.we,this.rG):this.nG=new XE(this.we,this.rG,t))}gn(){this.Vo(),this.nG&&(this.nG.gn(),this.nG=void 0)}get _u(){return this.nG?this.nG._u:0}get ku(){return this.nG?this.nG.ku:0}constructor(t){super(),this.nG=void 0,this.rG=(t,i)=>{this.Co(new RE(t,i))},this.we=t}};r(),r();var lc=class extends Ag{constructor(){super(Ac.ra)}};r();var vc=function(){if(!h)return;const t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];for(let i of t)if(i[1]in h)return{vG:i[0],mG:i[1],pG:i[2],yG:i[3],Qe:i[4],MG:i[5]}}();r();var KE=class extends Ag{constructor(){super(Ac.ca)}},JE=class t extends i{static ia(t){return Boolean(vc&&h[vc.yG]&&vc.vG in t)}mo(){const t=this.we[vc.vG]();t&&t.then?t.then(this.TG,this.NG):(h.removeEventListener(vc.MG,this.NG),h.addEventListener(vc.MG,this.NG))}So(){const t=h[vc.mG]();t&&t.then?t.then(this.TG,this.NG):(h.removeEventListener(vc.MG,this.NG),h.addEventListener(vc.MG,this.NG))}HR(){const t=this.cs,i=this.we===h[vc.pG];this.cs=i,t!==i&&this.Co(new lc)}qR(){this.Co(new VI)}gn(){this.Vo(),h.removeEventListener(vc.Qe,this.TG),h.removeEventListener(vc.MG,this.NG)}constructor(i){super(),this.cs=!1,this.TG=()=>this.HR(),this.NG=()=>this.qR(),this.we=i,this.ta=t.ia(i),h.addEventListener(vc.Qe,this.TG),this.HR()}},$E=class t extends i{static ia(t){return wn.Ga&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)}mo(){this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("fullscreen")?wn.Ga?requestAnimationFrame((()=>this.we.webkitSetPresentationMode("fullscreen"))):this.we.webkitSetPresentationMode("fullscreen"):this.we.webkitEnterFullscreen()}So(){this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("inline")?this.we.webkitSetPresentationMode("inline"):this.we.webkitExitFullscreen()}HR(){const t=this.cs;let i;i=this.we.webkitPresentationMode?"fullscreen"===this.we.webkitPresentationMode:Boolean(this.we.webkitDisplayingFullscreen),this.cs=i,t!==i&&this.Co(new lc)}gn(){this.Vo(),this.we.removeEventListener("webkitbeginfullscreen",this.TG),this.we.removeEventListener("webkitendfullscreen",this.TG),this.we.removeEventListener("webkitpresentationmodechanged",this.TG)}constructor(i){super(),this.cs=!1,this.TG=()=>this.HR(),this.we=i,this.ta=t.ia(i),this.we.addEventListener("webkitbeginfullscreen",this.TG),this.we.addEventListener("webkitendfullscreen",this.TG),this.we.addEventListener("webkitpresentationmodechanged",this.TG),this.HR()}},tb=class extends i{get ta(){return!!this.DG&&this.DG.ta}get cs(){return this.YR}mo(){this.DG?this.DG.mo():this.Co(new VI)}So(){for(const t of this.IG)t.cs&&t.So()}SG(t){this.DG=t}EG(t){this.IG.push(t),t.yn(Ac.ra,this.HR),t.yn(Ac.ha,this.Ds),this.HR()}bG(t){Et(this.IG,t),t.fn(Ac.ra,this.HR),t.fn(Ac.ha,this.Ds)}LG(){for(const t of this.IG)if(t.cs)return!0;return!1}Zn(){this.DG=void 0,this.YR=!1;const t=this.IG.slice();for(const i of t)this.bG(i),i.gn();this.HR()}gn(){this.Vo(),this.Zn()}constructor(...t){super(...t),this.IG=[],this.DG=void 0,this.YR=!1,this.HR=()=>{const t=this.YR,i=this.LG();t!==i&&(this.YR=i,this.Co(new lc))}}},ib=class extends i{get ta(){return!!this.kG&&this.CG.ta}get cs(){return this.CG.cs}mo(){this.kG&&this.CG.mo()}So(){this.CG.So()}xG(){this.CG.yn([Ac.ra,Ac.ca],this.HR),this.CG.yn(Ac.ha,this.Ds)}OG(){this.CG.fn([Ac.ra,Ac.ca],this.HR),this.CG.fn(Ac.ha,this.Ds)}Qn(){const t=this.CG,i=this.t.Rg();if(t===i)return;this.oa=!0;const e=this.cs,s=this.ta;e&&this.So(),this.OG(),this.CG=i,this.xG(),e&&!this.cs&&this.ta?this.mo():this.So(),this.oa=!1,s!==this.ta&&this.Co(new KE),e!==this.cs&&this.Co(new lc)}gn(){this.Vo(),this.OG(),this.t.fn(t.CA,this.jG)}constructor(i,e){super(),this.oa=!1,this.jG=()=>this.Qn(),this.HR=t=>{this.oa||this.Co(t)},this.t=i,this.kG=e,this.CG=new $o,this.xG(),this.t.yn(t.CA,this.jG),this.Qn()}};r(),r(),r(),r(),r(),r(),r(),y_(),r();var eb,sb=class extends Xo{get name(){return"AggregateError"}constructor(t){super(""+t.join("\n"),t[0]),this.causes=t}};function nb(t){return function(t){return new f({start(i){for(const e of t)i.enqueue(e);i.close()}})}([t])}function rb(t){return nb(function(t){return new T(t)}(t))}function Ft(t,i){return function(t,i){let e=i;const s=t.getReader(),n=new Eo,r=()=>{h();const t=new ia;s.cancel(t).catch(xs),n.zL(t)},h=()=>{e&&(e.r_(r),e=void 0)};e&&(e.$f?r():e.n_(r));const o=[],a=t=>t.done?(h(),Promise.resolve(o)):(o.push(t.value),Promise.resolve(s.read()).then(a));return Promise.resolve(s.read()).then(a).then((t=>{h(),n.jL(t)}),(t=>{h(),n.zL(t)})),n.PL}(t,i).then((t=>Gh(t).buffer))}function hb(t,i){let e=i;const{readable:s,writable:n}=new _h,r=n.getWriter(),h=()=>{e&&e.c_()};return r.closed.then(h,h),t.then((t=>(e=void 0,r.releaseLock(),t.pipeTo(n).catch(xs))),(t=>(e=void 0,r.releaseLock(),n.abort(t).catch(xs)))),s}function ob(t){const{readable:i,writable:e}=new _h;return t.pipeTo(e,{preventCancel:!0}).catch((i=>{let e;e=pi(i)?i[0]===i[1]||Oi(i[0])&&Oi(i[1])?i[0]:new sb(i):i,t.cancel(e).catch(xs)})),i.tee()}function ab(t){return Ca(new T(t))}function ub(t){return GA(t).buffer}r(),function(t){t[t.zS=0]="zS",t[t.zG=1]="zG"}(eb||(eb={}));var cb="content-type",lb="text/plain;charset=UTF-8",db=class{Oj(t){return this.wE(t).then(JSON.parse)}lj(t,i){switch(t){case er.OS:return this.Kj(i);case er.jS:return this.Oj(i);case er.zS:return this.BG();case er.Ru:return this.wE(i);default:throw new k}}};function fb(t,i,e){if(t instanceof db)return t;if(t instanceof f)return function(t,i){return new gb({hA:0,BG:t,LP:_b(i)})}(t,e);const s=_b(e),n=Promise.resolve(t).then((t=>function(t,i){if(t){if("string"==typeof t)return{hA:er.Ru,eE:t,LP:i||lb};if(t instanceof ArrayBuffer||va(t))return{hA:er.OS,eE:Mb(t),LP:i};if(dt(t)||pi(t))return{hA:er.jS,eE:t,LP:i};throw new k("Unsupported BodyInit type")}return{hA:er.Ru,eE:null,LP:i}}(t,s)));return new gb({hA:1,PL:n,UG:i})}function _b(t){return(t.get(cb)||"").toLowerCase()}var gb=class t extends db{get QG(){return this.FG}YG(){return this.GG.PL}wE(t){return this.VG(wb,t)}Oj(t){return this.VG(vb,t)}Kj(t){return this.VG(pb,t)}BG(){return this.WG(function(t){return 0===t.hA?t.BG:hb(t.PL.then(yb).then(rb),t.UG)}(this.HG))}VG(t,i){if(this.FG)return Promise.reject(new k("Already used"));this.FG=!0;const e=t(this.HG,i);return this.GG.l_(e.then(xs)),e}WG(t){if(this.FG)throw new k("Already used");if(t.locked)throw new k("Body stream is locked");this.FG=!0;const i=new _h,e=Promise.resolve(t.pipeTo(i.writable));return this.GG.l_(e),i.readable}qG(t){this.HG=t,1===t.hA&&t.PL.catch(xs)}XG(){if(this.FG)throw new k("Already used");const i=function(t){if(0===t.hA){const[i,e]=t.BG.tee();return[{hA:t.hA,BG:i,LP:t.LP},{hA:t.hA,BG:e,LP:t.LP}]}{const[i,e]=t.UG.d_();return[{hA:t.hA,PL:t.PL,UG:i},{hA:t.hA,PL:t.PL,UG:e}]}}(this.HG),e=i[0],s=i[1];return this.qG(e),new t(s)}constructor(t){super(),this.FG=!1,this.GG=new Eo,this.GG.PL.catch(xs),this.qG(t)}};function wb(t,i){return 0===t.hA?Ft(t.BG,i).then(ab):(i&&t.UG.l_(i),jt(t.PL.then(Ab),t.UG))}function Ab(t){switch(t.hA){case er.Ru:return Promise.resolve(t.eE||"");case er.OS:return Promise.resolve(t.eE).then(ab);case er.jS:return Promise.resolve(t.eE).then(JSON.stringify)}}function vb(t,i){return 0===t.hA?wb(t,i).then(JSON.parse):(i&&t.UG.l_(i),jt(t.PL.then(mb),t.UG))}function mb(t){return t.hA===er.jS?Promise.resolve(t.eE):Ab(t).then(JSON.parse)}function pb(t,i){return 0===t.hA?Ft(t.BG,i):(i&&t.UG.l_(i),jt(t.PL.then(yb),t.UG))}function yb(t){switch(t.hA){case er.OS:return Promise.resolve(t.eE);case er.Ru:case er.jS:return Ab(t).then(ub)}}function Mb(t){return t instanceof ArrayBuffer?t:Ae(ko(t)).buffer}var Tb=class extends db{get QG(){return this.ZG.QG}YG(){return this.ZG.YG()}wE(t){return this.ZG.wE(t)}Oj(t){return this.ZG.Oj(t)}Kj(t){return this.ZG.Kj(t)}BG(t){return this.ZG.BG(t)}XG(){return this.ZG.XG()}constructor(t){super(),this.ZG=t}};function bc(t){return t.TS>=200&&t.TS<=299||304===t.TS}var Lh=class t extends Tb{Cp(t){return this.lj(this.rE,t)}Ip(){return new t({Cp:this.XG(),mS:this.mS},this)}constructor(t,i){let e,s,n,r,h;i?(e=i.sE,s=i.rE,n=i.TS,r=i.jj,h=i.KG):(e=[],s=er.Ru,n=200,r="OK",h=!1);const o=t.mS,a=new Yo(t.sE||e),u=t.rE||s,c=t.AE||(i&&i.mS===o?i.AE:o.zu),l=i?i.ZG:null;super(fb(void 0!==t.Cp?t.Cp:l,t.UG||new Ao,a)),this.sE=a,this.mS=o,this.AE=c,this.rE=u,this.TS=void 0!==t.TS?t.TS:n,this.jj=void 0!==t.jj?String(t.jj):r,this.KG=t.KG||h}},Nb=class{mS(i){const e=function(i){return new Lh({Cp:null,sE:{},mS:i,AE:i.zu,rE:i.rE,TS:0,jj:t.YA})}(new ec(i));return Promise.resolve(e)}CY(t){}gn(){}};var Db=class t{static get JG(){return t.$G||(t.$G=new t(new Nb)),t.$G}mS(t){const i=this.tV(t);return this.iV.mS(i)}CY(t){return this.iV.CY(this.eV(t))}tV(i){let e=new ec(i);if(!this.sV){const i=t.nV(e.zu);e=new ec({zu:i},e)}return e}eV(i){let e=i.zu;return this.sV||(e=t.nV(e)),{zu:e,eE:i.eE}}static nV(t){return lg.rV&&tw(t,"http://")?t.replace(":","s:"):t}gn(){this.iV.gn()}constructor(t,i=!0){this.iV=t,this.sV=i}};function Ib(t){let i;return{get url(){return t.zu},get method(){return t.nE},get headers(){return i||(i=t.sE.PS()),i},get body(){return t.eE},get useCredentials(){return t.uE},get type(){return t.hA},get subType(){return t.oE},get mediaType(){return t.aE},get responseType(){return t.rE}}}function Sb(t){switch(t.toLowerCase()){case"arraybuffer":return er.OS;case"json":return er.jS;case"stream":return er.zS;default:return er.Ru}}function Eb(t){switch(t.toUpperCase()){case"POST":return Yc.POST;case"PUT":return Yc.PUT;case"DELETE":return Yc.DELETE;case"HEAD":return Yc.HEAD;case"OPTIONS":return Yc.OPTIONS;default:return Yc.GET}}function bb(t){switch(t.toLowerCase()){case"manifest":return Uu.QS;case"segment":return Uu.FS;case"preload-hint":return Uu.YS;case"content-protection":return Uu.GS;default:return Uu.KT}}function Lb(t){switch(t.toLowerCase()){case"initialization-segment":return So.VS;case"fairplay-license":return So.WS;case"fairplay-certificate":return So.HS;case"widevine-license":return So.qS;case"widevine-certificate":return So.XS;case"playready-license":return So.ZS;case"clearkey-license":return So.KS;case"aes128-key":return So.JS;default:return So.KT}}function kb(t){switch(t.toLowerCase()){case"audio":return nn.mp;case"video":return nn.vp;case"text":return nn.Ru;case"image":return nn.ZT;default:return nn.KT}}Db.$G=void 0,r(),r(),r();var Cb=class{get hV(){return this.oV.PL}get va(){return this.Xa||(this.Xa=this.aV()),this.Xa}get uV(){return this.cV}get lV(){return!this.cV}get dV(){return this.fV>0}get yS(){return this.MS}qp(){this.cV=!0,this.oV.jL(null)}_V(){this.oV.zL(new sb(this.gV))}wV(t){if(!this.lV)throw new k("Cannot respond more than once");if(!Mi(t))throw new k("Expected valid response");this.MS=this.AV(t),this.qp()}vV(){try{const t=this.mV(this.va);t?this.pV(t):this.dV||this.uV||this.qp()}catch(t){this.gV.push(t),this._V()}}pV(t){if(this.uV)throw new b("Request has been redirected or a response already exists");if(vu(t))this.yV(t);else{if("function"!=typeof t)throw new k("Expected promise or function");{const i=new Eo,e=t=>{t?i.zL(t):i.jL(void 0)};try{const s=t(e);vu(s)&&i.l_(s)}catch(t){i.zL(t)}this.yV(i.PL)}}}async yV(t){try{this.fV++,await t,this.fV--,this.dV||this.uV||(this.gV.length?this._V():this.qp())}catch(t){this.fV--,this.gV.push(t),this.dV||this.uV||this._V()}}constructor(t,i){this.MV=t,this.mV=i,this.oV=new Eo,this.gV=[],this.Xa=void 0,this.cV=!1,this.MS=void 0,this.fV=0}},xb=class t extends Cb{get eE(){return this.TV}get sE(){return this.MV.sE}get mS(){return this.MV.mS}get yS(){return this.MS}get TS(){return this.MV.TS}get jj(){return this.MV.jj}get zu(){return this.MV.AE}static NV(t,i,e){const s=void 0===t.body?e:t.body;return new Lh({Cp:s,mS:i.mS,rE:i.mS.rE,sE:t.headers,TS:t.status,jj:t.statusText,AE:t.url,KG:!0},i)}aV(){return function(t){let i;const e=Ib(t.mS);return{get closed(){return!t.lV},get request(){return e},get url(){return t.zu},get status(){return t.TS},get statusText(){return t.jj},get headers(){return i||(i=t.sE.PS()),i},get body(){return t.eE},respondWith:i=>t.wV(i),waitUntil:i=>t.pV(i)}}(this)}AV(i){return t.NV(i,this.MV,this.TV)}constructor(t,i,e){super(t,i),this.TV=e,this.vV()}};r();var Ob=class extends Cb{get eE(){return this.MV.eE}get lV(){return this.DV&&!this.cV}get sE(){return this.MV.sE}get nE(){return this.MV.nE}get SV(){return this.EV}get yS(){return this.MS}get rE(){return this.MV.rE}get NS(){return this.MV.NS}get hE(){return this.MV.hE}get a_(){return this.MV.a_}get hA(){return this.MV.hA}get oE(){return this.MV.oE}get aE(){return this.MV.aE}get zu(){return this.MV.zu}get uE(){return this.MV.uE}get cE(){return this.MV.cE}get eA(){return this.MV.eA}aV(){return function(t){let i;return{get url(){return t.zu},get method(){return t.nE},get headers(){return i||(i=t.sE.PS()),i},get body(){return t.eE},get closed(){return!t.lV},get useCredentials(){return t.uE},get type(){return t.hA},get subType(){return t.oE},get mediaType(){return t.aE},get responseType(){return t.rE},redirect:i=>t.bV(i),respondWith:i=>t.wV(i),waitUntil:i=>t.pV(i)}}(this)}AV(t){const i=this.MV.eE,e=new Lh({Cp:i,sE:{},mS:this.MV,AE:this.MV.zu,rE:this.MV.rE,TS:200,jj:"OK"});return xb.NV(t,e,i)}bV(t){if(!this.lV)throw new k("Cannot redirect, already redirected or has a response");let i;i=ae(t)?{url:t}:t,this.EV=function(t,i){return new ec({zu:void 0===t.url?i.zu:t.url,nE:void 0!==t.method?Eb(t.method):void 0,sE:t.headers,eE:t.body,uE:t.useCredentials,hA:void 0!==t.type?bb(t.type):void 0,oE:void 0!==t.subType?Lb(t.subType):void 0,aE:void 0!==t.mediaType?kb(t.mediaType):void 0,rE:void 0!==t.responseType?Sb(t.responseType):void 0},i)}(i,this.MV),this.qp()}constructor(t,i,e){super(t,i),this.EV=void 0,this.DV=e,this.vV()}};var jb=class extends Db{LV(t){this.kV.LV(t)}CV(t){this.kV.CV(t)}xV(t){this.kV.xV(t)}fQ(t){this.kV.fQ(t)}AQ(t){this.kV.AQ(t)}constructor(t,i=!0){const e=new zb(t);super(e,i),this.kV=e}},zb=class{async mS(t){let i;try{i=await this.OV(t,t.a_)}catch(i){if(i instanceof ni)return await this.jV(i,t.a_);throw i}if(i=await this.zV(i,t.a_),bc(i))return i;throw new Ke(i)}CY(t){return this.iV.CY(t)}async OV(t,i){Pi(i);let e,s=t;for(const t of this.PV.slice()){Pi(i);const n=new Ob(s,t,!e);if(!n.uV)try{await n.hV}catch(t){0;continue}n.SV&&!e?s=n.SV:n.yS&&!e&&(e=n.yS)}return e||this.iV.mS(s)}async jV(t,i){let e;e=t instanceof Ke?t.yS:new Lh({Cp:null,mS:t.mS,TS:0,jj:""});const s=await this.zV(e,i);if(s===e)throw t;if(bc(s))return s;throw new Ke(s)}async zV(t,i){let e=t;for(const t of this.BV.slice()){Pi(i);const s=await Promise.resolve(e.Ip().Cp(i)),n=new xb(e,t,s);if(!n.uV)try{await n.hV}catch(t){0;continue}e=n.yS||e}return e}LV(t){this.PV.unshift(t)}CV(t){this.PV.push(t)}xV(t){Et(this.PV,t)}fQ(t){this.BV.unshift(t)}AQ(t){Et(this.BV,t)}gn(){this.iV.gn(),Ri(this.PV),Ri(this.BV)}constructor(t){this.PV=[],this.BV=[],this.iV=t}};r();var Ha,Pb=class{get va(){return this.Xa||(this.Xa=function(t){return{addRequestInterceptor(i){t.LV(i)},removeRequestInterceptor(i){t.xV(i)},addResponseInterceptor(i){t.fQ(i)},removeResponseInterceptor(i){t.AQ(i)}}}(this)),this.Xa}LV(t){this.gE.LV(t)}xV(t){this.gE.xV(t)}fQ(t){this.gE.fQ(t)}AQ(t){this.gE.AQ(t)}constructor(t){this.gE=t}},Bb=class extends i{get va(){return this.Xa||(this.Xa=function(t){return{get online(){return t.eg},get estimator(){return function(t){return{get bandwidth(){return t.Jz},get roundTripTime(){return t.$z}}}(t.RV)},setEstimator(i){t.QV(function(t){if(!t)return;return{get Jz(){return Lg(t.bandwidth)},get $z(){return Lg(t.roundTripTime)},tP:i=>function(t){if(!t)return;return{FV(i){t.markRequestStart(i)},YV(i){t.markResponseStart(i)},GV(i,e){t.markResponseData(i,e)},VV(i){t.markResponseEnd(i)}}}(t.createMeasurer(Ib(i)))}}(i))},addRequestInterceptor(i){t.LV(i)},removeRequestInterceptor(i){t.xV(i)},addResponseInterceptor(i){t.fQ(i)},removeResponseInterceptor(i){t.AQ(i)},addEventListener(i,e){t.yn(i,e)},removeEventListener(i,e){t.fn(i,e)}}}(this)),this.Xa}get eg(){return this.WV.eg}get RV(){return this.yR.RV}QV(t){this.yR.QV(t)}LV(t){this.gE.LV(t)}xV(t){this.gE.xV(t)}fQ(t){this.gE.fQ(t)}AQ(t){this.gE.AQ(t)}gn(){this.Vo(),this.WV.fn(t.GA,this.HV),this.WV.fn(t.YA,this.qV)}constructor(i,e,s){super(e),this.WV=i,this.gE=e,this.yR=s,this.HV=t=>{this.Co(t)},this.qV=t=>{this.Co(t)},this.WV.yn(t.GA,this.HV),this.WV.yn(t.YA,this.qV)}};r(),r(),r(),function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(Ha||(Ha={})),r();function Rb(t,i,e,s,n,r){const h=[];let o=t-x.max(r,1),a=t+n;if(i&&e){const t=Sc(e,1,5),s=i-t;o=x.min(o,s);const n=i+e+t;a=x.max(a,n)}0!==o&&s.$B(0,o)&&h.push([0,o]);return s.$B(a,1/0)&&h.push([a,1/0]),h}function pc(t){return t instanceof b&&"QuotaExceededError"===t.name}r();var Ub={type:Ha.BANDWIDTH};function Qb(t){const i=se(Ub);return ae(t)?i.type=Fb(t):Mi(t)&&function(t){switch(t){case Ha.PERFORMANCE:case Ha.QUALITY:case Ha.BANDWIDTH:return!0;default:return!1}}(t.type)&&(i.type=Fb(t.type)),Mi(t)&&Mi(t.metadata)&&(i.metadata=function(t){const i={},e=Ih(t.bitrate);return j(e)||(i.bitrate=e),i}(t.metadata)),i}function Fb(t){switch(t){case"bandwidth":return Ha.BANDWIDTH;case"performance":return Ha.PERFORMANCE;case"quality":return Ha.QUALITY}}r();var Yb=class extends Ag{constructor(t){super("XV"),this.ZV=t}};r();var Gb=class extends Ag{constructor(t){super("KV"),this.JV=t}};r();var Vb=class extends Ag{constructor(t){super("$V"),this.tW=t}},Wb=class extends i{iW(t){this.eW=t}get sW(){switch(this.nW.type){case Ha.PERFORMANCE:return 0;case Ha.QUALITY:return 1/0;case Ha.BANDWIDTH:return this.nW.metadata&&void 0!==this.nW.metadata.bitrate?this.nW.metadata.bitrate:ua.gL.Qz();default:return ua.gL.Qz()}}get va(){return this.Xa}get JV(){return this.nW}set JV(t){this.nW=t,this.Co(new Gb(t))}get ZV(){return this.rW}set ZV(t){this.rW=t,this.Co(new Yb(t))}get hW(){return x.min(this.rW,this.oW)}get tW(){return this.aW}set tW(t){this.aW=t,this.Co(new Vb(t))}get uW(){return this.oW}get RV(){var t;return null!=(t=this.cW)?t:this.eW.EP}QV(t){this.cW=t}lW(t){let i=x.min(t,.8*this.oW);if(i=x.max(10,i),this.oW===i)return!1;const e=this.hW;this.oW=i;const s=this.hW;return s!==e&&this.Co(new Yb(s)),!0}get dW(){return this.fW}set dW(t){this.fW=t}constructor(...t){super(...t),this.Xa=function(t){return{get strategy(){return function(t){return{metadata:t.metadata,type:t.type}}(t.JV)},set strategy(i){t.JV=Qb(i)},get targetBuffer(){return t.ZV},set targetBuffer(i){const e=Ih(i);j(e)||(t.ZV=e)},get bufferLookbackWindow(){return t.tW},set bufferLookbackWindow(i){const e=Ih(i);j(e)||(t.tW=e<=0?30:e)},get maxBufferLength(){return t.uW},get clearBufferWhenSettingTargetQuality(){return t.dW},set clearBufferWhenSettingTargetQuality(i){t.dW=bg(i)}}}(this),this.nW=Ub,this.rW=20,this.aW=30,this.oW=1/0,this.fW=!1,this.cW=void 0}};r(),r();var Hb=class extends La{fa(){return new qb}constructor(){super("yw")}},qb=class extends Ag{constructor(){super("change")}};r(),r();var $u=class extends i{gn(){this.Vo();for(const t of this.kR)this._W.fn(t,this.gW)}constructor(t,i,e){super(e),this.gW=t=>{vg(t)&&Qu((()=>{this.Co(t.va)}))},this._W=t,this.kR=i;for(const t of this.kR)this._W.yn(t,this.gW)}},pa=class extends ra{gn(){this.Vo(),this._W.N_(this.gW)}constructor(t,i){super(i),this.gW=t=>{vg(t)&&Qu((()=>{this.Co(t.va)}))},this._W=t,this._W.m_(this.gW)}};var Xb=class extends ra{get zN(){return this.WN}set zN(t){if(this.PN<=t)throw new b("Start time of a clip should be smaller than the end time.");this.WN!==t&&(this.WN=t,this.Co(new Hb))}get PN(){return this.XN}set PN(t){if(t<=this.zN)throw new b("End time of a clip should be larger than the start time.");this.XN!==t&&(this.XN=t,this.Co(new Hb))}get va(){return this.Xa||(this.Xa=function(t){let i,e={get startTime(){return t.zN},set startTime(i){t.zN=i},get endTime(){return t.PN},set endTime(i){t.PN=i},addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)}};return i=new pa(t,e),e}(this)),this.Xa}Zn(){0===this.WN&&this.XN===1/0||(this.WN=0,this.XN=1/0,this.Co(new Hb))}wW(){return new Ki([this.zN,this.PN],[!0,!0])}constructor(...t){super(...t),this.WN=0,this.XN=1/0}};r();var Zb=class i extends Go{P_(t){const i=this.AW.wW().FB(t);super.P_(i),this.vW()}U_(){return super.U_()||this.mW}get pW(){return this.Mg().length?this.Mg():this.AW.wW().ks()}Mg(){return Ki.xn(super.Mg()).Sn(this.AW.wW()).ks()}Vg(){this.U_()?this.P_(this.pW.start(0)):this.yW(),super.Vg(),this.vW()}async ga(t,i){Pi(i),this.mW=!1,this.AW.Zn(),await super.ga(t,i)}gn(){return this.AW.fn("yw",this.MW),this.S_.fn(t.ov,this.wc),this.TW(),super.gn()}$g(i){switch(i.type){case t.ZA:return this.Co(i),this.NW(),!0;case t.XA:case t.bA:return this.Co(i),this.DW(),!0;case t.kA:if(this.IW)return!0}return super.$g(i)}get IW(){return this.AW.PN<this.ct}TW(){this.SW&&(Gs(this.SW),this.SW=void 0)}vW(){const t=this.j_,e=this.IW&&t>=this.AW.PN-i.Zl;this.mW&&!e?(this.mW=!1,this.hg&&this.Vg()):this.mW||!e||this.Tg||this.EW||(this.mW=!0,this.Co(new ys(t)),this.Gg())}yW(){if(this.ct===1/0)return;const t=this.pW,e=Ki.xn(t).FB(this.j_);Va(this.j_,e,i.Zl)||this.P_(e)}constructor(e,s){super(e),this.mW=!1,this.SW=void 0,this.EW=!1,this.MW=()=>{this.yW(),this.vW()},this.wc=()=>{this.TW(),this.vW();this.IW&&this.j_>=this.AW.PN-i.bW&&!this.R_&&(this.SW=ds(this.wc))},this.NW=()=>{this.EW=!0},this.DW=()=>{this.EW&&(this.EW=!1,this.vW())},this.AW=s,this.AW.yn("yw",this.MW),this.S_.yn(t.ov,this.wc)}};Zb.bW=1,Zb.Zl=.001,r();var Kb=class{get LW(){return this.kW}set LW(t){this.kW=t}constructor(){this.kW=!1}};r();var Jb=class extends Go{U_(){return!this.kW.LW&&super.U_()}Gg(){this.xW=!0,super.Gg()}Vg(){this.xW=!1,super.Vg()}$g(i){if(this.kW.LW)switch(i.type){case t.kA:return this.j_=0,this.xW||(this.Tg?this.OW=!0:this.Vg()),!0;case t.XA:this.OW&&(this.OW=!1,this.Vg());break;case t.Sh:if(this.OW||super.U_())return!0}return super.$g(i)}constructor(t,i){super(t),this.OW=!1,this.xW=!1,this.kW=i}};r(),r();var $b=class{get va(){return this.Xa}get uN(){return this.Qo.q_.uN}get lN(){return this.Qo.q_.lN}get aN(){return this.Qo.q_.aN}get jW(){throw new b("Not implemented")}get zW(){throw new b("Not implemented")}get dN(){return this.Qo.q_.dN}get cN(){return this.Qo.q_.cN}get fN(){return this.Qo.q_.fN}constructor(t){this.Qo=t,this.Xa=function(t){return{get currentBandwidthEstimate(){return t.lN},get corruptedVideoFrames(){return t.uN},get droppedVideoFrames(){return t.aN},get totalBytesLoaded(){return t.dN},get bufferedSegments(){return t.fN}}}(this)}};function tL(t){if(!t||!me(t))return{aN:0,uN:0,cN:0,lN:0,dN:0,fN:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){const i=t.getVideoPlaybackQuality();return{aN:i.droppedVideoFrames,uN:i.corruptedVideoFrames||0,cN:i.totalVideoFrames}}return{aN:t.webkitDroppedFrameCount||0,uN:0,cN:t.webkitDecodedFrameCount||0}}r(),r();var iL=class extends La{fa(){return new eL}constructor(){super("PW")}},eL=class extends Ag{constructor(){super("castingchange")}};r();var sL=class extends i{get BW(){var t,i;return(null==(t=this.RW)?void 0:t.BW)||(null==(i=this.UW)?void 0:i.BW)||!1}get QW(){return this.RW}get FW(){return this.UW}YW(t){this.RW=t,this.GW(t)}VW(t){this.UW=t,this.GW(t)}GW(t){t.yn("statechange",this.WW)}HW(t){t.fn("statechange",this.WW)}get va(){return this.Xa||(this.Xa=function(t){let i;const e={get casting(){return t.BW},get airplay(){var i;return null==(i=t.QW)?void 0:i.va},get chromecast(){var i;return null==(i=t.FW)?void 0:i.va},addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)}};return i=new $u(t,["PW"],e),e}(this)),this.Xa}gn(){this.Vo(),this.RW&&(this.HW(this.RW),this.RW=void 0),this.UW&&(this.HW(this.UW),this.UW=void 0)}constructor(...t){super(...t),this.RW=void 0,this.UW=void 0,this.qW=!1,this.Xa=void 0,this.WW=()=>{const t=this.qW,i=this.BW;t!==i&&(this.qW=i,this.Co(new iL))}}};r(),r();var dn=class{static async XW(t,i){try{const e=new ec({zu:t,rE:er.Ru,nE:Yc.GET}),s=await i.mS(e);return(await s.Cp()).trim()}catch(t){return void Oi(t)}}static ZW(t){try{const i=cE(t);return new gE(i.key,i.domains_page,i.domains_source,i.expiration_date,i.features,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new ce(p_.LICENSE_ERROR,"Invalid license. No valid license was configured.")}}static KW(t){void 0===t&&(t=tE.lh),lg.Pv("The baked-in license is used. Please update the configuration with your license.");const i=t.wF("F2b-iL'[FL[S"),e=JSON.parse('["F$(:_L50F|aY"]').map((i=>t.wF(i))),s=JSON.parse('[".$hsF|b9_Ess*rS:F]Y\\""]').map((i=>t.wF(i))),n=Number(new Date(Number(t.wF('COD|aHpHa:p3Ceo3Co""')))),r=JSON.parse("[]").map((i=>t.wF(i)));return new gE(i,e,s,n,r)}static convertLicenseToDummyLicense(t){return new gE(t.NF,t.DF,t.IF,864e13,t.EF,t.bF,Date.now(),t.kF,t.CF)}};r();var Zn=class t{static GQ(){return t.gL||(t.gL=nL.Ux()?new nL:new bt),t.gL}static OL(i){t.GQ().OL(i)}static YQ(){t.GQ().YQ()}static kL(i){return t.GQ().kL(i)}static zz(i,e){t.GQ().zz(i,e)}static JW(i){const e=t.kL(i);if(void 0!==e)return S(e)}static $W(i){return"true"===t.kL(i)}};Zn.gL=void 0;var nL=class extends Zn{static Ux(){const t="foobar";try{return self.localStorage.setItem(t,t),self.localStorage.removeItem(t),!0}catch(t){}return!1}OL(t){self.localStorage.removeItem(t)}YQ(){self.localStorage.clear()}kL(t){var i;return null!=(i=self.localStorage.getItem(t))?i:void 0}zz(t,i){self.localStorage.setItem(t,i)}},rL="https://validate.theoplayer.com/1/",hL=72e5,oL=x.floor(14399999*x.random()-hL),aL="THEOplayer.license",uL=class{async tH(){const t=await this.iH(this.eH.license,this.eH.licenseUrl);this.yY.sH(t)}async iH(t,i){let e,s=i;t?e=dn.ZW(t):s||(e=dn.KW()),s||(s=rL+e.NF);const n=this.nH();let r;if(e&&(r=this.rH.FF(e),r===re.yF)){if(this.hH(e.SF)&&this.hH(null==n?void 0:n.SF)){const t=await this.oH(s);if(t)return t}return e}if(n){if(this.rH.FF(n)===re.yF){if(this.hH(null==n?void 0:n.SF)){const t=await this.oH(s);if(t)return t}return n}Zn.OL(aL)}const h=await dn.XW(s,this.gE);let o;if(h){o=dn.ZW(h);if(this.rH.FF(o)===re.yF)return Zn.zz(aL,h),o;Zn.OL(aL)}else if(!this.qF&&e&&r===re.MF&&s===rL+e.NF)return dn.convertLicenseToDummyLicense(e);if(!e&&!o)throw new ce(p_.LICENSE_ERROR,"The given license is invalid!");this.aH(null!=e?e:o,new ce(p_.LICENSE_ERROR,"The given license is invalid!"))}async zF(t){let i=await this.yY.pY();if(this.hH(i.SF)){var e;const t=null!=(e=this.eH.licenseUrl)?e:rL+i.NF,s=await this.oH(t);s&&(this.yY.sH(s),i=s)}try{const e=this.rH.FF(i);if(e===re.TF){const t=_E.xF;throw new ce(AE(t),_i.UF(t))}if(e===re.MF){const t=_E.MF;throw new ce(AE(t),_i.UF(t))}this.rH.zF(t,i)}catch(t){this.uH(t)}}async QF(t){const i=await this.yY.pY();try{this.rH.QF(t,i)}catch(t){this.uH(t)}}async oH(t){try{const i=await dn.XW(t,this.gE);if(void 0===i)return;const e=dn.ZW(i);return this.rH.FF(e)===re.yF?(Zn.zz(aL,i),e):void 0}catch(t){return}}hH(t){return!t||Number(new Date)+2592e5+oL>=t}nH(){const t=Zn.kL(aL);if(t)return dn.ZW(t)}aH(t,i){this.yY.sH(t),this.uH(i)}uH(t){throw Eu(t.message),this.cH.TY(t.message),t}constructor(t,i,e,s,n,r){this.gE=t,this.rH=i,this.cH=e,this.yY=s,this.eH=n,this.Ck=r,this.qF=ME(r)}};r();var cL=class{sH(t){this.lH=t,this.dH.jL()}get fH(){return this.lH}async pY(){return this.lH?Promise.resolve(this.lH):(await this.dH.PL,this.lH)}constructor(){this.dH=new Eo}};r(),r();var lL=class extends La{fa(){return new dL}constructor(){super("yw")}},dL=class extends Ag{constructor(){super("change")}};function fL(t){let i;const e={get fontFamily(){return t._H},set fontFamily(i){t._H=i},get fontColor(){return t.gH},set fontColor(i){t.gH=i},get fontSize(){return t.wH},set fontSize(i){t.wH=i},get backgroundColor(){return t.AH},set backgroundColor(i){t.AH=i},get windowColor(){return t.vH},set windowColor(i){t.vH=i},get edgeStyle(){return t.mH},set edgeStyle(i){t.mH=i},get marginTop(){return t.pH},set marginTop(i){t.pH=i},get marginBottom(){return t.yH},set marginBottom(i){t.yH=i},get marginLeft(){return t.MH},set marginLeft(i){t.MH=i},get marginRight(){return t.TH},set marginRight(i){t.TH=i},addEventListener(t,e){const s=As(t,Oa);i.yn(s,e)},removeEventListener(t,e){const s=As(t,Oa);i.fn(s,e)}};return i=new mt(e),t.yn(["yw"],(t=>i.Co(t.va))),e}r();var _L={_H:void 0,gH:void 0,wH:void 0,AH:void 0,vH:void 0,mH:void 0,NH:void 0,pH:void 0,yH:void 0,MH:void 0,TH:void 0},N="THEOplayer.textTrackStyle.",gL=class t extends i{get DH(){return this.IH}get _H(){return this.IH._H}set _H(t){this.Qn({_H:t})}get gH(){return this.IH.gH}set gH(t){this.Qn({gH:t})}get wH(){return this.IH.wH}set wH(t){this.Qn({wH:t})}get AH(){return this.IH.AH}set AH(t){this.Qn({AH:t})}get vH(){return this.IH.vH}set vH(t){this.Qn({vH:t})}get mH(){return this.IH.mH}set mH(t){this.Qn({mH:t})}get NH(){return this.IH.NH}get pH(){return this.IH.pH}set pH(t){this.Qn({pH:t})}get yH(){return this.IH.yH}set yH(t){this.Qn({yH:t})}get TH(){return this.IH.TH}set TH(t){this.Qn({TH:t})}get MH(){return this.IH.MH}set MH(t){this.Qn({MH:t})}get va(){return this.Xa||(this.Xa=fL(this)),this.Xa}Qn(i){this.IH=At({},this.IH,i),t.SH(this.IH),this.Co(new lL)}static EH(){let t=At({},_L);return t._H=Zn.kL(N+"fontFamily")||t._H,t.gH=Zn.kL(N+"fontColor")||t.gH,t.wH=Zn.kL(N+"fontSize")||t.wH,t.AH=Zn.kL(N+"backgroundColor")||t.AH,t.vH=Zn.kL(N+"windowColor")||t.vH,t.mH=Zn.kL(N+"edgeStyle")||t.mH,t}static SH(t){Zn.zz(N+"fontFamily",t._H||""),Zn.zz(N+"fontColor",t.gH||""),Zn.zz(N+"fontSize",t.wH||""),Zn.zz(N+"backgroundColor",t.AH||""),Zn.zz(N+"windowColor",t.vH||""),Zn.zz(N+"edgeStyle",t.mH||"")}constructor(){super(),this.Xa=void 0,this.IH=t.EH()}};function wL(t,i){var e,s;t.style.marginLeft=(null!=(e=i.MH)?e:0)+"px",t.style.marginRight=(null!=(s=i.TH)?s:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}r(),r(),r(),r();var bi,AL=[t.jh,t.Sh,Ho.Tv,t.ov,t.VA,t.UA,t.ZA,t.XA,t.kA,t.WA,t.uv,t.EA,Ho.Mw,t.qA,Bi.ha,Xy.LA,Xy.SL,t.DA,t.NA,t.fv,t.zA,t.BA,t.OA,t.CA],vL={bH:!1};function mL(t){return t.wd.hA===wt.xO}r(),(bi||(bi={})).LH="kH";var at,ie=["kH"];!function(t){t[t.CH=0]="CH",t[t.zS=1]="zS",t[t.xH=2]="xH"}(at||(at={})),r(),r();var pL,yL=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];(pL||(pL={})).PU="OH";var ML=class extends i{get ht(){throw new b("Not implemented")}get wd(){return this.$x}get TP(){return this.mO}get rt(){throw new b("Not implemented")}async jH(t,i){const e=await this.jx.Ox(t.wL,i),s=await e.Nx();return await this.zH(s),s}PH(t){const i=this.mx;return i?0!==t.kP.length&&t.kP.some((t=>t.dm.wL===i.dm)):0!==this.$x.kP.length?t.kP.some((t=>this.$x.kP.some((i=>t.dm===i.dm)))):0===t.kP.length||!this.BH}RH(t){return this.UH.RH(t),this.$x=t,Promise.resolve()}QH(t){return!1}async e_(){this.Vo(),this.mO.removeEventListener("loadedmetadata",this.FH);for(const t of yL)this.mO.removeEventListener(t,this.YH);await this.GH.gn(),this.VH(),await this.UH.Zn(),await this.WH(void 0)}HH(t){t!==this.qH&&(this.qH=t,t?this.XH.jL(void 0):this.XH=new Eo)}zH(t){return this.GH.oO((()=>this.WH(t)))}async WH(t){if(t&&!this.mO.src&&!this.mO.srcObject)throw new Qr(p_.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&(this.mO.src||this.mO.srcObject))throw new Qr(p_.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");t&&!this.qH&&await this.XH.PL;const i=this.mx;i&&(await i.Mx(this.mO),this.mx=void 0),t&&(await t.bn(this.mO),this.mx=t)}ga(t){return this.GH.oO((()=>this.ZH(t)))}ZH(t){this.HH(!1);const i=this.vP.ag;if(function(t){if(void 0!==s.ManagedMediaSource&&t instanceof s.ManagedMediaSource)return!0;if("undefined"!=typeof MediaSource&&t instanceof MediaSource)return!0;return!1}(t))if(function(t){return"srcObject"in t&&wn.Ga&&wn.Gb>=17}(this.mO))try{this.mO.srcObject=t}catch(i){this.mO.src=URL.createObjectURL(t)}else this.mO.src=URL.createObjectURL(t);else this.mO.src=t;this.vP.ag=i}KH(t){return this.GH.oO((()=>this.JH(t)))}JH(t){this.ZH(t),this.mO.load()}VH(){this.HH(!1),eD(this.mO)}async $H(){this.mx&&await this.mx.Zn()}constructor(t,i,e,s){super(),this.qH=!1,this.XH=new Eo,this.BH=!1,this.GH=new Vi,this.mx=void 0,this.FH=()=>{this.BH=!0},this.YH=()=>{this.HH(!0)},this.$x=t,this.vP=i,this.mO=i.TP,this.UH=e,this.jx=s,this.mO.addEventListener("loadedmetadata",this.FH);for(const t of yL)this.mO.addEventListener(t,this.YH)}};var TL=class extends ML{get b_(){return Ki.xn(this.mO.buffered)}get ct(){return this.mO.duration}get tq(){const t=this.ct;if(!isFinite(t))return!1;const i=this.b_;if(0===i.U)return!1;return t-i.jn(i.U-1)<kc}get gg(){return this.mO.preload}set gg(t){this.mO.preload=t}get yg(){return Ki.xn(this.mO.seekable)}get iq(){return this.b_}get nq(){if(me(this.mO)&&(this.mO.videoWidth>0||this.mO.videoHeight>0))return this.b_}async iW(){const t=this.wd;switch(t.xP){case Ds.Rv:case Ds.Uv:this.mO.setAttribute("crossorigin",t.xP);break;case Ds.Bv:default:this.mO.removeAttribute("crossorigin")}void 0!==t.gg?this.mO.preload=t.gg:this.mO.preload=tt.Kz,void 0!==t.OP?this.mO.title=t.OP:$N(this.mO),await this.ga(t.oA),this.UH.$n(this,t)}PH(t){return!1}RH(t){return Promise.resolve(void 0)}async e_(){$N(this.mO),await super.e_()}static rq(t,i){return!!i.canPlayType&&Boolean(i.canPlayType(t.LP))}};r();var $=class extends Ag{constructor(i){super(t.VA),this.currentTime=i}};r();var NL,he=class extends Ag{constructor(){super(t.UA)}};r(),r(),(NL||(NL={})).hq="oq";var DL=class extends Ag{constructor(t){super("oq"),this.aq=t}},dc=class extends i{get uq(){return this.cq}lq(t,i){const e=new Ki([t,i]);this.cq=this.cq.HB(e),this.Co(new DL(e))}dq(t,i){this.cq=this.cq.XB(new Ki([t,i]))}Zn(){this.cq=Ki.lR()}gn(){this.Vo()}constructor(...t){super(...t),this.cq=Ki.lR()}};r(),r(),r();var IL=class{start(t){this.dH=t,this.fq()&&this._q()}pull(){this.Yd.length>0?this.gq():this.wq=!0,this.fq()&&this._q()}cancel(t){return Ri(this.Yd),this.Gd=0,this.wq=!1,this.Nd.cancel(t)}gq(){if(0===this.Yd.length)return;const t=this.Yd;this.Yd=[],this.Gd=0,this.wq=!1,this.dH.enqueue(t)}fq(){if(this.wq)return!0;return this.Aq-this.Gd>0}_q(){if(this.vq)return;const t=this.Nd.read().then(this.mq).catch(this.pq);this.vq=t;const i=()=>{this.vq===t&&(this.vq=void 0)};t.then(i,i)}constructor(t,{size:i=(()=>1),highWaterMark:e=1}){this.Yd=[],this.Gd=0,this.dH=void 0,this.wq=!1,this.vq=void 0,this.mq=t=>t.done?(this.gq(),void this.dH.close()):(this.Yd.push(t.value),this.Gd+=this.yq(t.value),this.wq&&this.gq(),this.fq()?this.Nd.read().then(this.mq):void 0),this.pq=t=>{this.gq(),this.dH.error(t)},this.Nd=t.getReader(),this.yq=i,this.Aq=e}};r(),r(),r(),r();var SL,EL=class{Mq(t){this.Tq.push(t),this.ey+=t.byteLength}Nq(t){if(this.ey<=t)return this.Dq();const i=this.Tq;let e=0,s=0;for(;s<i.length&&e+i[s].byteLength<=t;)e+=i[s].byteLength,s++;const n=i.slice(0,s);if(s<i.length&&e<t){const r=t-e;0,n.push(WA(i[s],0,r)),e+=r}return{Tq:n,ey:e}}Iq(t){const i=this.Nq(t);return 1===i.Tq.length?i.Tq[0]:$w(i.Tq,i.ey)}Dq(){return{Tq:this.Tq,ey:this.ey}}Sq(t){if(this.ey<=t)return this.Eq();const i=this.Tq;let e=0,s=0;for(;s<i.length&&e+i[s].byteLength<=t;)e+=i[s].byteLength,s++;const n=i.splice(0,s);if(i.length>0&&e<t){const s=t-e;0,n.push(WA(i[0],0,s)),i[0]=WA(i[0],s),e+=s}return this.ey-=e,{Tq:n,ey:e}}bq(t){const i=this.Sq(t);return 1===i.Tq.length?i.Tq[0]:$w(i.Tq,i.ey)}Eq(){const t=this.Dq();return this.Tq=[],this.ey=0,t}Lq(){const t=1===this.Tq.length?this.Tq[0]:$w(this.Tq,this.ey);return this.Tq=[],this.ey=0,t}constructor(){this.Tq=[],this.ey=0}};!function(t){t[t.kq=0]="kq",t[t.Cq=1]="Cq",t[t.xq=2]="xq"}(SL||(SL={}));var Xu=class{Oq(t,i){}jq(){}zq(t){this.Yd.Mq(t),this.Pq(!1)}Bq(){this.Pq(!0)}Rq(){return 0!==this.ja||0!==this.Yd.ey}Pq(t){for(;0!==this.Yd.ey;){if(!t&&this.Uq>this.Yd.ey)return;switch(this.ja){case 0:this.Qq(t);break;case 1:this.Fq(t);break;case 2:this.Yq(t)}}}Gq(){this.ja=0,this.Uq=8}Qq(t){const i=Mo(this.Yd.Iq(this.Uq)),e=new Or,s=lt.$p(i,e);if(!s.qp)return this.Uq=s.sy,void(t&&this.Uq>this.Yd.ey&&this.Vq(this.Yd.ey));const n=s.iy.hA;let r=s.iy.ey;0===r&&(r=1/0),this.Oq(n,r),this.Wq(n)?this.Hq(r):this.Vq(r)}Hq(t){this.ja=1,this.Uq=t}Fq(t){const i=Mo(this.Yd.bq(this.Uq)),e=new Or,s=lt.Xp(i,e,!t);if(!s.qp)throw new Hi(e.Ku);this.jq(),this.qq(s.Zp),this.Gq()}Vq(t){this.ja=2,this.Uq=0,this.Xq=t}Yq(t){const i=this.Yd.Sq(this.Xq);this.Xq-=i.ey;for(const t of i.Tq)this.Zq(t);(0===this.Xq||t&&this.Xq===1/0)&&(this.jq(),this.Gq())}constructor(){this.Yd=new EL,this.ja=0,this.Uq=0,this.Xq=0,this.Gq()}};function bL(t){return t instanceof Ue}function LL(t){return t instanceof Ie}function kL(t){return t instanceof kT||t instanceof Ja}function CL(t){return t instanceof sT}function xL(t){return t instanceof zM}function OL(t){return t instanceof NT}function jL(t){return t instanceof MT}function zL(t){return t instanceof QT}function PL(t){return t instanceof Is}function BL(t){return t instanceof en}function RL(t){return t instanceof uu}function UL(t,i){const e=X_(t.boxes,BL);if(e&&e.flags.baseDataOffsetPresent)e.baseDataOffset=e.baseDataOffset.add(i);else for(const e of t.boxes)e instanceof uu&&e.flags.dataOffsetPresent&&(e.dataOffset=e.dataOffset+i)}r();var QL=class extends Xu{start(t){this.dH=t}transform(t){this.zq(t)}flush(){this.Bq()}Wq(t){return t===Wr.Tm||t===Wr.ep||t===Wr.fp}qq(t){const i=this.Kq(t);this.dH.enqueue(i)}Zq(t){this.dH.enqueue(t)}Kq(t){const i=ko(t.Cp.Cp);switch(t.hA){case"moov":return this.Jq(i);case"sidx":return this.$q(i);case"moof":return this.tX(i)}return i}get iX(){if(void 0===this.eX)throw new b("Expected to have found a movie header timescale.");return this.eX}sX(t){const i=this.nX.get(t);if(void 0===i)throw new b("Expected to have found a media header timescale for track ID "+t+".");return i}Jq(t){const i=rN(t);for(let t=0;t<i.boxes.length;t++){const e=i.boxes[t];e instanceof ST?i.boxes[t]=this.rX(e):e instanceof ET?i.boxes[t]=this.hX(e):e instanceof Ie&&this.oX(e)}for(const t of i.boxes)t instanceof NT&&this.aX(t);return i.serialize().join()}rX(t){this.eX=t.timescale;const i=ac(Ce.fromNumber(t.duration,!0),this.iX,this.uX);return 0!==i.getHighBits()?this.hX(function(t){return new ET({creation:Ce.fromNumber(t.creationTime,!0),modification:Ce.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:Ce.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.uX,t.duration=i.toInt(),t)}hX(t){return this.eX=t.timescale,t.timescale=this.uX,t.duration=ac(t.duration,this.iX,this.uX),t}oX(t){let i;for(let e=0;e<t.boxes.length;e++){const s=t.boxes[e];s instanceof kT?(i=s.trackId,t.boxes[e]=this.cX(s)):s instanceof Ja?(i=s.trackId,t.boxes[e]=this.lX(s)):s instanceof sT?this.dX(s,i):s instanceof WM&&this.fX(s)}}cX(t){const i=ac(Ce.fromNumber(t.duration,!0),this.iX,this.uX);return 0!==i.getHighBits()?this.lX(function(t){return new Ja({creation:Ce.fromNumber(t.creationTime,!0),modification:Ce.fromNumber(t.modificationTime,!0),duration:Ce.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=i.toInt(),t)}lX(t){return t.duration=ac(t.duration,this.iX,this.uX),t}dX(t,i){for(let e=0;e<t.boxes.length;e++){const s=t.boxes[e];s instanceof $M?t.boxes[e]=this._X(s,i):s instanceof tT&&(t.boxes[e]=this.gX(s,i))}}_X(t,i){this.nX.set(i,t.timescale);const e=ac(Ce.fromNumber(t.duration,!0),t.timescale,this.uX);return 0!==e.getHighBits()?this.gX(function(t){return new tT({creation:Ce.fromNumber(t.creationTime,!0),modification:Ce.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:Ce.fromNumber(t.duration,!0)},t.language,t.flags)}(t),i):(t.timescale=this.uX,t.duration=e.toInt(),t)}gX(t,i){return this.nX.set(i,t.timescale),t.timescale=this.uX,t.duration=ac(t.duration,t.timescale,this.uX),t}fX(t){for(const i of t.boxes)i instanceof YM?this.wX(i):i instanceof GM&&this.AX(i)}wX(t){for(const i of t.entries)i.mediaTime=YL(i.mediaTime,this.iX,this.uX),i.segmentDuration=YL(i.segmentDuration,this.iX,this.uX)}AX(t){for(const i of t.entries)i.mediaTime=ac(i.mediaTime,this.iX,this.uX),i.segmentDuration=ac(i.segmentDuration,this.iX,this.uX)}aX(t){for(let i=0;i<t.boxes.length;i++){const e=t.boxes[i];e instanceof MT?this.vX(e):e instanceof mT?t.boxes[i]=this.mX(e):e instanceof pT&&(t.boxes[i]=this.pX(e))}}vX(t){const i=this.sX(t.trackId);t.defaultSampleDuration=YL(t.defaultSampleDuration,i,this.uX)}mX(t){const i=ac(Ce.fromNumber(t.fragmentDuration,!0),this.iX,this.uX);return 0!==i.getHighBits()?this.pX(function(t){return new pT(Ce.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=i.toInt(),t)}pX(t){return t.fragmentDuration=ac(t.fragmentDuration,this.iX,this.uX),t}$q(t){let i=hN(t);return i=i instanceof HT?this.yX(i):this.MX(i),i.serialize().join()}yX(t){const i=t.timescale,e=ac(Ce.fromNumber(t.earliestPresentationTime,!0),i,this.uX);if(0!==e.getHighBits())return this.MX(function(t){return new qT(t.referenceId,t.timescale,Ce.fromNumber(t.earliestPresentationTime,!0),Ce.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.uX,t.earliestPresentationTime=e.toInt();for(const e of t.references)e.subsegmentDuration=YL(e.subsegmentDuration,i,this.uX);return t}MX(t){const i=t.timescale;t.timescale=this.uX,t.earliestPresentationTime=ac(t.earliestPresentationTime,i,this.uX);for(const e of t.references)e.subsegmentDuration=YL(e.subsegmentDuration,i,this.uX);return t}tX(t){const i=oN(t),e=i.getSize();for(const t of i.boxes)t instanceof Is&&this.TX(t);const s=i.getSize();if(s!==e){const t=s-e;for(const e of i.boxes)e instanceof Is&&UL(e,t)}return i.serialize().join()}TX(t){let i;for(let e=0;e<t.boxes.length;e++){const s=t.boxes[e];s instanceof en?(i=this.sX(s.trackId),this.NX(s,i)):s instanceof eu?t.boxes[e]=this.DX(s,i):s instanceof zT?t.boxes[e]=this.IX(s,i):s instanceof uu&&this.SX(s,i)}}NX(t,i){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=YL(t.defaultSampleDuration,i,this.uX))}DX(t,i){const e=ac(Ce.fromNumber(t.baseMediaDecodeTime,!0),i,this.uX);return 0!==e.getHighBits()?this.IX(function(t){return new zT(Ce.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),i):(t.baseMediaDecodeTime=e.toInt(),t)}IX(t,i){return t.baseMediaDecodeTime=ac(t.baseMediaDecodeTime,i,this.uX),t}SX(t,i){let e=0,s=0;for(const n of t.samples){if(void 0!==n.duration){s+=n.duration;const t=YL(s,i,this.uX);n.duration=t-e,e=t}void 0!==n.compositionTimeOffset&&(n.compositionTimeOffset=FL(n.compositionTimeOffset,i,this.uX))}}constructor(t){super(),this.nX=_e(),this.uX=t}};function FL(t,i,e){return Ce.fromInt(t,!1).multiply(e).divide(i).toNumber()}function YL(t,i,e){return Ce.fromInt(t,!0).multiply(e).divide(i).toNumber()}function ac(t,i,e){return is.SD(t).KD(is.ED(e,!0)).iI(is.ED(i,!0)).UD()}var GL,VL,WL,HL=class{EX(t){return t.pipeThrough(new _h(this.bX))}constructor(t){this.bX=new QL(t)}};function qL(t,i,e){const s=F(t,i);if(s!==e)throw new k("Expected descriptor with tag "+e+", but found "+s)}function XL(t,i){qL(t,i,3);const e=ZL(t,i),s=i.Ku+e,n=LA(t,i),r=F(t,i),h=0!=(64&r),o=0!=(32&r),a=31&r;let u,c,l;if(0!=(128&r)&&(u=LA(t,i)),h){c=Oo(t,i,F(t,i))}o&&(l=Oo(t,i,2));const d=function(t,i){qL(t,i,4);const e=ZL(t,i),s=i.Ku+e,n=F(t,i),r=F(t,i),h=r>>2,o=0!=(2&r),a=Fi(t,i,3),u=Cn(t,i),c=Cn(t,i);let l;if(i.Ku<s){const e=function(t,i){return t.getUint8(i.Ku)}(t,i);5===e&&(l=function(t,i){qL(t,i,5);const e=ZL(t,i),s=Mc(t,i,e);return{LX:5,kX:s}}(t,i))}return i.Dp(s),{LX:4,CX:n,xX:h,OX:o,jX:a,zX:u,PX:c,BX:l}}(t,i);return i.Dp(s),{LX:3,o:n,RX:u,zu:c,UX:a,QX:l,FX:d}}function ZL(t,i){let e=0;for(let s=0;s<4;s++){const s=F(t,i);if(e=e<<7|127&s,!(128&s))break}return e}function KL(t,i){const e=F(t,i),s=F(t,i),n=F(t,i),r=F(t,i),h=3&F(t,i),o=31&F(t,i),a=[];for(let e=0;e<o;e++){const e=LA(t,i);a.push(Mc(t,i,e))}const u=F(t,i),c=[];for(let e=0;e<u;e++){const e=LA(t,i);c.push(Mc(t,i,e))}return{YX:e,GX:s,VX:n,WX:r,HX:h,qX:a,XX:c}}function JL(t,i,e){if(e&&i.byte>=e)return;const s=t.kL(i.byte);return i.byte+=1,s}function $L(t,i){return function(t,i,e){let s=0,n=e;for(;n>0;)n-=1,s=256*s+JL(t,i);return s}(t,i,2)}r(),r(),function(t){t[t.ZX=3]="ZX",t[t.KX=4]="KX",t[t.JX=5]="JX"}(GL||(GL={})),function(t){t[t.$X=64]="$X",t[t.tZ=103]="tZ",t[t.iZ=107]="iZ"}(VL||(VL={})),r(),r(),function(t){t[t.eZ=0]="eZ",t[t.sZ=1]="sZ",t[t.tZ=2]="tZ",t[t.nZ=5]="nZ",t[t.rZ=34]="rZ"}(WL||(WL={})),r(),r(),r(),r();var zu=class t{hZ(t){this.oZ=this.oZ.concat(t.oZ),this.aZ+=t.U}uZ(t,i,e){const s=this.aZ,n=e-i;n>0&&(this.oZ.push({cZ:i,lZ:e,dZ:n,fZ:s,_Z:t}),this.aZ+=n)}kL(t){for(const i of this.oZ)if(i.fZ<=t&&t<i.fZ+i.dZ)return i._Z[t+i.cZ-i.fZ]}gZ(t,i){let e=i;for(const i of this.oZ){const s=i.lZ;for(let n=i.cZ;n<s;n+=1,e+=1)t[e]=i._Z[n]}return e}get U(){return this.aZ}set U(t){const i=this.oZ;let e=this.aZ-t;if(!(t>=this.aZ))if(this.aZ=t,0!==t)for(let t=i.length-1;t>=0;t-=1){const s=i[t];if(e<=s.dZ)return s.lZ-=e,s.dZ-=e,void(i.length!==t+1&&(i.length=t+1));e-=s.dZ}else i.length=0}get Cp(){const t=new Array(this.aZ);let i=0;for(const e of this.oZ){const s=e.lZ;for(let n=e.cZ;n<s;n+=1,i+=1)t[i]=e._Z[n]}return t}wZ(){const t=new T(this.aZ);let i=0;for(const e of this.oZ){const s=e.lZ;for(let n=e.cZ;n<s;n+=1,i+=1)t[i]=e._Z[n]}return t}Ip(i){const e=new t;for(const t of this.oZ)e.uZ(t._Z,t.cZ,t.lZ);return e.FI=i||At({},this.FI),e}constructor(){this.aZ=0,this.oZ=[],this.FI={}}};r();var tk,ik=[128,64,32,16,8,4,2,1];function De(t,i){const e=x.floor(i.bit/8),s=0==(t.kL(e)&ik[i.bit%8])?0:1;return i.bit+=1,s}function An(t,i,e){let s=0,n=e;for(;n>0;)n-=1,s=2*s+De(t,i);return s}function oc(t,i){let e=0;for(;0===De(t,i)&&e<32;)e+=1;return An(t,i,e)+2**e-1}function ek(t,i){const e=oc(t,i);return 1&e?x.floor((e+1)/2):-x.floor(e/2)}function sk(t,i){const e=[],s={byte:1};let n;do{e.push(rk(t,i,s)),n=i.kL(s.byte)}while(void 0!==n&&128!==n);return e}function nk(t,i){let e,s=0;do{e=JL(t,i),s+=e}while(255===e);return s}function rk(t,i,e){const s=nk(i,e),n=nk(i,e),r=e.byte,h=r+n;return e.byte=h,{AZ:t,vZ:s,mZ:n,pZ:r,yZ:h,MZ:i}}!function(t){t[t.TZ=1]="TZ",t[t.NZ=2]="NZ",t[t.DZ=3]="DZ",t[t.IZ=4]="IZ",t[t.SZ=5]="SZ",t[t.EZ=6]="EZ",t[t.bZ=7]="bZ",t[t.LZ=8]="LZ",t[t.kZ=9]="kZ"}(tk||(tk={}));var hk=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function ok(t,i,e){let s=8,n=8;for(let r=0;r<e;r+=1){if(0!==n){n=(s+ek(t,i)+256)%256}s=0===n?s:n}}var ak=class{CZ(){const t=this.xZ;let i=x.max(0,this.OZ+t.length-2);const e=this.jZ,s=e.U;let n=0;for(;i<s;i+=1){const s=e.kL(i);0===s?n+=1:(3===s&&n>=2&&t.push(i),n=0)}this.OZ=i-t.length}zZ(t){const i=this.xZ;let e=t;for(const t of i){if(!(t<=e))return e;e+=1}return e}kL(t){if(!(t>this.jZ.U))return t>this.OZ&&this.CZ(),this.jZ.kL(this.zZ(t))}constructor(t){this.xZ=[],this.OZ=0,this.jZ=t}};function uk(t){const i=new ak(t);let e,s,n,r,h,o,a=0,u=0,c=0,l=0;const d=i.kL(1),f={bit:32};if(oc(i,f),100===d||110===d||122===d||144===d){const t=oc(i,f);3===t&&(e=De(i,f)),oc(i,f),oc(i,f),De(i,f);if(1===De(i,f))for(let e=0;e<(3!==t?8:12);e+=1){1===De(i,f)&&ok(i,f,e<6?16:64)}}const _=oc(i,f),g=oc(i,f);if(0===g)oc(i,f);else if(1===g){De(i,f),ek(i,f),ek(i,f);const t=oc(i,f);for(let e=0;e<t;e+=1)ek(i,f)}oc(i,f),De(i,f);const w=oc(i,f),A=oc(i,f),v=De(i,f);0===v&&De(i,f),De(i,f);1===De(i,f)&&(a=oc(i,f),u=oc(i,f),c=oc(i,f),l=oc(i,f));if(1===De(i,f)){if(1===De(i,f)){const t=An(i,f,8);if(255===t)s=An(i,f,16),n=An(i,f,16);else{const i=hk[t];i&&(s=i[0],n=i[1])}}1===De(i,f)&&De(i,f);if(1===De(i,f)){An(i,f,3),De(i,f);1===De(i,f)&&(An(i,f,8),An(i,f,8),An(i,f,8))}1===De(i,f)&&(oc(i,f),oc(i,f)),r=De(i,f),1===r&&(h=An(i,f,32),o=An(i,f,32),De(i,f))}return{width:x.floor(16*(w+1)-2*a-2*u),height:x.floor((2-v)*(A+1)*16-2*c-2*l),sT:s,nT:n,PZ:r?o/(2*h):void 0,BZ:e,RZ:_}}function ck(t){const i=JA(Qi.wy(t),Wr.Tm);if(!i)return;const e=i.iy.zy,s=[];for(const t of i.Z){const i=t.iy.Wy,e=t.Fy.iy.zy;let o,a,u;for(const i of t.Fy.$y.eM.nM.hM){const t=lk(i);var n,r,h;if(t)o=null!=(n=t.UZ)?n:o,a=null!=(r=t.QZ)?r:a,u=null!=(h=t.FZ)?h:u}s.push({Wy:i,zy:e,UZ:o,QZ:a,FZ:u})}return{zy:e,Z:s}}function lk(t){let i,e,s;if(t.hA===Wr.Bm){var n;const e=KL(Mo(t.OM.Cp),new Or);i=function(t){return"avc1."+dk(t.GX,2)+dk(t.VX,2)+dk(t.WX,2)}(e),s=null==(n=function(t){if(0===t.qX.length)return;const i=t.qX[0],e=new zu;return e.uZ(i,0,i.byteLength),uk(e)}(e))?void 0:n.PZ}else if(t.hA===Wr.Um||t.hA===Wr.Qm){const e=function(t,i){const e=i.Lp(),s=ls(t,e,8),n=ls(t,e,2),r=ls(t,e,1),h=ls(t,e,5),o=ls(t,e,32),a=[];for(let i=0;i<6;i++)a.push(ls(t,e,8));const u=ls(t,e,8);e.Np(4);const c=ls(t,e,12);e.Np(6);const l=ls(t,e,2);e.Np(6);const d=ls(t,e,2);e.Np(5);const f=ls(t,e,3);e.Np(5);const _=ls(t,e,3),g=ls(t,e,16),w=ls(t,e,2),A=ls(t,e,3),v=ls(t,e,1),m=ls(t,e,2),p=ls(t,e,8),y=[];for(let i=0;i<p;i++){const i=ls(t,e,1);e.Np(1);const s=ls(t,e,6),n=ls(t,e,16),r=[];for(let i=0;i<n;i++){const i=ls(t,e,16),s=Mc(t,new Or(e.Ku>>3),i);e.Np(8*i),r.push({YZ:i,GZ:s})}y.push({VZ:i,WZ:s,HZ:n,qZ:r})}return{YX:s,XZ:n,ZZ:r,KZ:h,JZ:a,$Z:u,tK:c,iK:l,eK:o,sK:d,nK:f,rK:_,hK:g,oK:A,aK:v,uK:w,HX:m,cK:p,lK:y}}(Mo(t.BM.Cp),new Or);i=function(t,i){let e=t.toString()+".";switch(i.XZ){case 0:break;case 1:e+="A";break;case 2:e+="B";break;case 3:e+="C";break;default:return}switch(e+=i.KZ.toString()+".",e+=function(t){let i=t;return i=i>>>1&1431655765|(1431655765&i)<<1,i=i>>>2&858993459|(858993459&i)<<2,i=i>>>4&252645135|(252645135&i)<<4,i=i>>>8&16711935|(16711935&i)<<8,i=i>>>16|i<<16,i}(i.eK).toString(16)+".",i.ZZ){case 0:e+="L";break;case 1:e+="H";break;default:return}e+=i.$Z.toString();const s=i.JZ.reduce(((t,i)=>0===t?i:i+1),0);for(let t=0;t<s;t++)e+="."+i.JZ[t].toString(16).toUpperCase();return e}(t.hA,e)}else if(t.hA===Wr.Ym){const e=function(t,i){const e=i.Lp(),s=ls(t,e,8);e.Np(24);const n=ls(t,e,8),r=ls(t,e,8),h=ls(t,e,4),o=ls(t,e,3),a=Xe(t,e),u=ls(t,e,8),c=ls(t,e,8),l=ls(t,e,8),d=ls(t,e,16),f=new Array(8);for(let i=0;i<d;i++)f[i]=ls(t,e,8);return{YX:s,dK:n,fK:r,_K:h,gK:o,wK:a,$M:u,tT:c,iT:l,AK:d,vK:f}}(Mo(t.UM.Cp),new Or);i=function(t,i){let e=t.toString()+".";return e+="0"+i.dK+".",e+=fa(""+i.fK,2,"0")+".",e+=fa(""+i._K,2,"0")+".",e+=fa(""+i.gK,2,"0")+".",e+=fa(""+i.$M,2,"0")+".",e+=fa(""+i.tT,2,"0")+".",e+=fa(""+i.iT,2,"0")+".",e+="0"+i.wK,e}(t.hA,e)}else if(t.hA===Wr.Vm){const e=function(t,i){const e=i.Lp();e.Np(1);const s=ls(t,e,7),n=ls(t,e,3),r=ls(t,e,5),h=Xe(t,e),o=Xe(t,e),a=Xe(t,e),u=Xe(t,e),c=Xe(t,e),l=Xe(t,e),d=ls(t,e,2);e.Np(3);const f=Xe(t,e);let _;return f?_=ls(t,e,4):e.Np(4),{_y:s,mK:n,pK:r,yK:h,MK:o,TK:a,NK:u,DK:c,IK:l,SK:d,EK:f,bK:_}}(Mo(t.YM.Cp),new Or);i=function(t,i,e){let s=t.toString()+".";if(s+=i.mK+".",s+=""+fa(""+i.pK,2,"0"),s+=(0===i.yK?"M":"H")+".",s+=(1===i.TK?12:10)+".",s+=(1===i.mK?0:i.NK)+".",s+=""+i.DK+i.IK+(1===i.DK&&1===i.IK?i.SK:"0"),e&&e.JM===aa.ON_SCREEN_COLOURS){const t=e;s+="."+fa(""+t.$M,2,"0")+"."+fa(""+t.tT,2,"0")+"."+fa(""+t.iT,2,"0")+"."+(t.eT?1:0)}return s}(t.hA,e,t.GM)}else{if(t.hA!==Wr.Xm)return(t.hA===Wr.ip||t.hA===Wr.tp)&&t.HM?lk(t.HM):void 0;e=function(t){const i=t.FX;switch(i.CX){case VL.$X:return function(t){var i;if(!(null==(i=t.BX)?void 0:i.kX))return"mp4a.40";const e=function(t,i){let e=ls(t,i,5);31===e&&(e=32+ls(t,i,6));const s=ls(t,i,4);let n;return 15===s&&(n=ls(t,i,24)),{LK:e,kK:s,CK:n,xK:ls(t,i,4)}}(Mo(t.BX.kX),new Qc);return"mp4a.40."+e.LK}(i);case VL.tZ:return"mp4a.40.2";case VL.iZ:return"mp4a.40.34"}}(XL(Mo(t.EM.Cp),new Or))}return{UZ:i,QZ:e,FZ:s}}function dk(t,i){const e=t.toString(16);return fa(e,i,"0")}function fk(t,i){const e=Qi.wy(Mo(t)),s=function(t,i){let e;for(const n of t.Z){var s;const t=null==(s=n.vT)?void 0:s.vT;if(t){const s=n.iy.Wy,r=X_(i.Z,(t=>t.Wy===s)),h=Pt.SD(t,r.zy);e&&!h.vD(e)||(e=h)}}return e}(JA(e,Wr.ep),i),n=JA(e,Wr.cp);return{zN:s.cD(),jK:n.Cp}}r();var _k=wn.Fb,gk=class extends i{get ZV(){return this.rW}set ZV(t){this.rW=t}get tW(){return this.aW}set tW(t){this.aW=t}get oa(){return this.zK||this.PK.updating}BK(t,i,e){switch(t.hA){case at.CH:case at.zS:return this.RK((e=>this.UK(t,i,e)),e);case at.xH:throw new b("Opaque segments are not supported on web.")}}QK(t,i){switch(t.hA){case at.CH:return this.RK((i=>this.FK(t,i)),i);case at.zS:throw new b("Streaming initialization segments are not supported on web.");case at.xH:throw new b("Opaque initialization segments are not supported on web.")}}async FK(t,i){this.YK?this.GK=ck(Mo(t.Cp)):(await this.VK(t,void 0,i),_k&&(this.WK=!1,this.HK=t))}async UK(t,i,e){_k&&this.WK&&this.HK&&await this.FK(this.HK,e);try{if(Pi(e),this.YK&&this.GK){const n=await async function(t,i){switch(t.hA){case at.CH:return t;case at.zS:{const e=await Ft(t.Cp,i);return Pi(i),{hA:at.CH,Cp:new T(e)}}case at.xH:throw new b("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.")}}(t,e),r=fk(n.Cp,this.GK);var s;t={hA:at.CH,Cp:r.jK},i=At({},i,{CI:r.zN+(null!=(s=i.CI)?s:0)})}await this.VK(t,i,e),this.Co(new Ag(bi.LH))}finally{t.hA===at.zS&&t.Cp.cancel(new ia).catch(xs)}}async VK(t,i,e){switch(Pi(e),i&&await this.qK(i),t.hA){case at.CH:if(this.XK){const i=this.XK.EX(nb(t.Cp));return await this.ZK(i,e)}return await this.KK(t.Cp);case at.zS:if(this.XK){const i=this.XK.EX(t.Cp);return await this.ZK(i,e)}return await this.ZK(t.Cp,e)}}async ZK(t,i){const e=this.JK.b_,s=function(t,i){return void 0===i&&(i=new td({highWaterMark:1/0})),new f(new IL(t,i),{highWaterMark:0})}(t),n=s.getReader();let r=!1;try{for(;;){const t=await rl(n.read(),i);if(t.done){r=!1;break}Pi(i);const e=Gh(t.value);r=!0,await this.KK(e)}}catch(t){if(n.cancel(t).catch(xs),r){await this.$K();const t=this.JK.b_.Sn(e.YB());for(let i=0;i<t.U;i++)await this.tJ(t.Cn(i),t.jn(i))}throw t}}iJ(t,i){return this.RK((()=>this.eJ(t,i)))}async eJ(t,i){this.PK.appendWindowStart===t&&this.PK.appendWindowEnd===i||(await this.$K(),this.PK.appendWindowStart=0,this.PK.appendWindowEnd=i,this.PK.appendWindowStart=t)}async qK(t){if(this.PK.timestampOffset!==t.CI)try{this.PK.timestampOffset=t.CI}catch(i){await this.$K(),this.PK.timestampOffset=t.CI}}async KK(t){this.PK.appendBuffer(t),this.sJ=!0,await this.nJ()}rJ(t,i,e){return this.RK((e=>this.tJ(t,i,e)),e)}async tJ(t,i,e){Pi(e),this.PK.remove(t,i),await this.nJ()}nJ(){const t=this.JK.b_;return new Promise(((i,e)=>{let s,n=!1,r=()=>{n=!0},h=()=>{n=!1,s="error"},o=()=>{n=!1,s="aborted"},a=()=>{u(),n&&!s?(t.iR(this.JK.b_)||this.Co(new Ag(bi.LH)),i()):e(new b(s))},u=()=>{this.PK.removeEventListener("update",r),this.PK.removeEventListener("error",h),this.PK.removeEventListener("abort",o),this.PK.removeEventListener("updateend",a)};this.PK.addEventListener("update",r),this.PK.addEventListener("error",h),this.PK.addEventListener("abort",o),this.PK.addEventListener("updateend",a)}))}hJ(){return this.RK((()=>this.$K()))}async $K(){if(this.oJ.vg===kn.wS){_k&&(this.WK=!0),this.PK.updating&&(this.zK=!0);try{this.PK.abort()}catch(t){0,this.zK=!1}this.oa&&await this.nJ().catch(xs)}}aJ(){return"function"==typeof this.PK.changeType}RH(t){if(this.uJ(),this.oJ.vg===kn.cJ)return;var i;this.lJ=t;const e=null!=(i=this.oJ.dJ(t.LP))?i:t.LP;this.YK=wk(t.LP,this.fJ),this.aJ()&&!Wi(this.fJ,e)&&(this.fJ=e,this.PK.changeType(this.fJ))}_J(){this.oJ.vg!==kn.kA||this.gJ||this.oa||(this.PK.timestampOffset=this.PK.timestampOffset,this.oJ.wJ())}async RK(t,i){this.uJ();const e=new Ao;e.l_(this.AJ.a_),i&&e.l_(i);try{this.gJ=t(e.a_),await this.gJ,this.oJ.wJ(),this.oa&&await this.nJ()}finally{this.gJ=void 0,e.e_()}}uJ(){if(this.gJ)throw new b("Internal error")}async e_(){this.Vo(),this.AJ.c_(),this.gJ&&(await this.gJ.catch(xs),this.gJ=void 0),this.PK.removeEventListener("updateend",this.vJ),this.PK.removeEventListener("bufferedchange",this.mJ)}constructor(t,i,e,s,n){var r;if(super(),this.rW=20,this.aW=30,this.zK=!1,this.sJ=!1,this.gJ=void 0,this.AJ=new Ao,this.WK=!1,this.HK=void 0,this.YK=!1,this.GK=void 0,this.vJ=()=>{this.zK=!1},this.mJ=t=>{t.removedRanges&&this.Co(new Ag(bi.LH))},this.oJ=i,this.JK=t,this.PK=e,this.PK.addEventListener("updateend",this.vJ),this.PK.addEventListener("bufferedchange",this.mJ),this.lJ=s,this.fJ=n,this.YK=wk(s.LP,n),null==(r=i.wd)?void 0:r.pJ){var h;const t=null!=(h=i.wd.yJ)?h:1e5;this.XK=new HL(t)}}};function wk(t,i){return tw(t,"audio/mp4")&&tw(i,"audio/mpeg")}r();var Ak=class{get b_(){if(this.MJ.vg===kn.cJ)return Ki.lR();let t=Ki.xn(this.PK.buffered).Sn(new Ki([0,1/0]));const i=this.TJ;return void 0!==i&&t.U>0&&t.jn(t.U-1)===i&&(t=t.HB(Ki.uR(i))),t}tq(){return!!this.TJ&&this.b_.QB().gr(this.TJ)}NJ(){const t=this.b_;this.TJ=t.U>0?t.jn(t.U-1):0,this.MJ.DJ()}_J(){this.TJ=void 0}constructor(t,i){this.TJ=void 0,this.MJ=i,this.PK=t}};function vk(t){const i=t.iS("codecs");return i?i.split(",").map((t=>t.trim())):[]}function mk(t,i){return!("opus"===t)&&!("opus"===i)||t===i}function pk(t,i){const e=yk(t)||Mk(t),s=yk(i)||Mk(i);return!e&&!s||t===i}function yk(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function Mk(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function fi(t,i){if(t===i)return!0;const e=t.split("."),s=i.split("."),n=e[0];if(n!==s[0])return!1;if("mp4a"===n){const[,t,i]=e,[,n,r]=s;if(t!==n)return!1;if(Number(i)!==Number(r))return!1}return!0}function Tk(t,i,e,s,n,r,h){const o=new Ak(n,t),a=new gk(o,t,n,e,r);return new Nk(t,i,e,s,o,a,h)}r();var Nk=class extends i{get b_(){return this.JK.b_}get wd(){return this.$x}get LP(){return this.qx}get IJ(){return this.SJ}get EJ(){return this.bJ.uq}get ZV(){return this.LJ.ZV}set ZV(t){this.LJ.ZV=t}get tW(){return this.LJ.tW}set tW(t){this.LJ.tW=t}get oa(){return this.LJ.oa}tq(){return this.JK.tq()}NJ(){this.JK.NJ()}_J(){this.JK._J(),this.LJ._J()}kJ(t,i){this.bJ.lq(t,i)}CJ(t,i){this.bJ.dq(t,i)}xJ(){return this.LJ.hJ()}BK(t,i,e){return this.LJ.BK(t,i,e)}QK(t,i,e){return this.LJ.QK(t,e)}iJ(t,i){return wn.Mb&&wn.Nb<3?this.LJ.iJ(t,1/0):this.LJ.iJ(t,i)}async pN(t,i,e){this.CJ(t,i);const s=this.b_;await this.LJ.rJ(t,i,e);const n=0!==s.U&&0===this.b_.U;(wn.Zb||wn.Ib)&&n&&this.vP.Dp(this.vP.j_)}PH(t){const i=t.LP;if(this.qx===i)return!0;const e=this.OJ.get(i);if(void 0!==e)return e;const s=this.jJ(t);return this.OJ.set(i,s),s}jJ(t){const i=this.oJ.dJ(t.LP);if(void 0===i)return!1;const e=xp(this.qx),s=xp(i),n=vk(e),r=vk(s);if(this.LJ.aJ()){if(!function(t,i){return rg(t,i,pk)}(n,r))return!1;if(wn.Jb&&!function(t,i){return rg(t,i,mk)}(n,r))return!1}else{if(e.hA!==s.hA)return!1;if(!function(t,i){return rg(t,i,fi)}(n,r))return!1}return!0}async RH(t){const i=t.LP;this.qx!==i&&(this.OJ.clear(),this.LJ.RH(t),this.qx=i),this.$x=t,this.oJ.zJ()}async e_(){this.OJ.clear(),this.Vo(),this.bJ.gn();try{this.LJ.fn(bi.LH,this.Ds),await this.LJ.e_()}catch(t){}}constructor(t,i,e,s,n,r,h){super(),this.OJ=Qt(),this.oJ=t,this.$x=e,this.qx=e.LP,this.SJ=s,this.vP=i,this.JK=n,this.LJ=r,this.bJ=h,this.LJ.yn(bi.LH,this.Ds)}};r();var Dk=class{PJ(){let t=this.Cn,i=this.jn;if(this.BJ||this.RJ){const e=.001*(lg.f_()-this.UJ);this.BJ&&(t+=e),this.RJ&&(i+=e)}return Ki.cR(t,i)}constructor(t,i,e=!1,s=!1){this.Cn=t,this.jn=i,this.BJ=e,this.RJ=s,this.UJ=lg.f_()}};r();var Ik=.5,Sk=[t.jh,t.Sh,t.ZA,t.XA,t.zA,t.BA,t.kA,t.WA,Ho.Mw,Bi.ha],Ek=class{QJ(t){this.FJ.push(t),t.yn(NL.hq,this.YJ)}get uq(){return this.FJ.reduce(((t,i)=>t.HB(i.uq)),Ki.lR())}gn(){this.GJ(),this.VJ.fn(Ho.Mw,this.WJ),this.vP.fn(t.VA,this.WJ),this.vP.fn(Sk,this.HJ),this.FJ.forEach((t=>t.fn(NL.hq,this.YJ))),0!==this.qJ&&(lg.__(this.qJ),this.qJ=0),this.XJ=!0}QH(t){if(this.vP.R_)return!1;if(0!==this.qJ)return!1;const i=this.JK.b_,e=i.ZB(t);if(e>=0&&t+Ik<i.jn(e))return!1;const s=e>=0?e+1:i.rR(t);if(s<0||s>=i.U)return!1;const n=i.Cn(s);if(Ki.cR(t,n).XB(this.uq).aR>1)return!1;if(lg.ZJ)return this.KJ=this.vP.j_,this.qJ=lg.g_((()=>{this.KJ===this.vP.j_&&this.JJ(n),this.qJ=0}),250),!0;return!(x.abs(n-t)<=.001)&&(this.JJ(n),!0)}JJ(t){this.vP.Dp(t,!1,!0)}$J(){0!==this.t$&&(lg.__(this.t$),this.t$=0),this.vP.fn(t.ov,this.Jl)}i$(){0===this.e$&&(this.$J(),this.e$=lg.s$(this.n$,250))}GJ(){0!==this.e$&&(lg.r$(this.e$),this.e$=0),this.$J(),this.vP.Tg||(this.h$=0)}o$(){return!this.vP.hg&&!this.vP.Tg&&0!==this.vP.ag&&!this.vP.R_&&!this.vP.lt&&(this.a$()||this.VJ.vg>=ov.eN)}a$(){const t=this.vP.j_,i=this.JK.b_,e=i.ZB(t);return-1!==e&&i.jn(e)>t+Ik}u$(t,i){const e=i.ZB(t);return e>-1?i.jn(e):t}constructor(i,e,s,n){this.JK=i,this.VJ=e,this.vP=s,this.XJ=!1,this.FJ=[],this.qJ=0,this.t$=0,this.c$=0,this.KJ=0,this.h$=0,this.e$=0,this.l$=1,this.YJ=t=>{const i=this.vP.j_,e=t.aq.gr(i),s=t.aq.gr(i,Ik)&&this.vP.vg<=ov.iN;(e||s)&&this.QH(i)},this.WJ=Tl((t=>{if(this.XJ)return;if(this.VJ.vg<=ov.iN){const t=this.vP.j_;this.QH(t)||this.n$()}}),100),this.Jl=Tl((t=>{this.XJ||0===this.e$&&this.i$()}),100),this.HJ=()=>{this.o$()?0===this.e$&&(this.vP.yn(t.ov,this.Jl),this.t$=lg.g_((()=>{this.i$()}),3500)):this.GJ()},this.n$=()=>{const t=this.c$,i=this.h$,e=this.vP.j_,s=lg.f_(),n=this.JK.b_;if(t!==e)return this.c$=e,this.h$=s,this.l$=1,void(this.d$=lg.f$?2e3:1e3);if(this.o$()&&0!==n.U&&i>0&&s>i+this.d$){let t;const i=this.uq.QB().XB(n),s=i.nR(e);if(-1!==s){const n=i.Cn(s);if(n-e<1){const e=i.jn(s);0,t=e}}var r;if(!t)t=null==(r=this._$)?void 0:r.determineStallJumpTarget(),t||(t=e+.01*this.l$,n.gr(t)||(t=this.u$(e,n)));0,this.c$=t,this.l$++,this.d$=x.min(2*this.d$,1e4),this.JJ(t)}},this.VJ.yn(Ho.Mw,this.WJ),this.vP.yn(t.VA,this.WJ),this.vP.yn(Sk,this.HJ),this._$=n,this.d$=lg.f$?2e3:1e3}};function bk(t){const i=[];if(t.g$&&i.push(t.g$.b_),t.w$&&i.push(t.w$.b_),0===i.length)return Ki.lR();let e=0;for(const t of i)t.U>0&&(e=x.max(e,t.jn(t.U-1)));const s=t.tq;let n=new Ki([0,e],[!0,s]);for(let t of i)s&&t.U>0&&(t=t.HB(new Ki([t.jn(t.U-1),e],[!0,!0]))),n=n.Sn(t);return n}function Lk(t,i,e){const s=t.b_;let n,r=s.ZB(i);if(r>=0){if(!(r+1<s.U))return Promise.resolve();n=s.Cn(r+1)}else{if(r=s.rR(i),!(r>=0))return Promise.resolve();n=s.Cn(r)}return t.pN(n,1/0,e)}function kk(t,i,e){if(!t.gr(i)){const s=t.ZB(i,e);if(s>=0){const e=t.Cn(s);if(i<e)return e}}return i}r(),r();var _c=class{A$(){return new this.v$}m$(t){return this.v$.isTypeSupported(t)}constructor(t){this.v$=Ck(t)}};function Ck(t){return t&&Q_(Ys.ManagedMediaSource)?Ys.ManagedMediaSource:Q_(Ys.MediaSource)?Ys.MediaSource:void 0}var kn,xk=wn.Lb||wn.Cb,Ok=wn.Bb||wn.Fb&&wn.Gb>=17;!function(t){t.cJ="closed",t.wS="open",t.kA="ended"}(kn||(kn={}));var jk=class extends ML{get g$(){return this.p$}get w$(){return this.y$}get ct(){if(this.M$)return this.M$;const t=this.DP.duration;return t===Fa?1/0:t}T$(t){if(j(t)||t<0)throw new b("Invalid duration");this.N$()?this.D$(t):this.M$=t}D$(t){const i=t===1/0;if(i&&this.DP.setLiveSeekableRange){const t=2**39;this.DP.setLiveSeekableRange(0,t)}this.DP.duration=i?Ok?1/0:Fa:t,this.M$=void 0}get b_(){return xk?bk(this):function(t,i){let e=i;return e.U>0&&t.tq&&(e=e.HB(Ki.uR(e.jn(e.U-1)))),e}(this,Ki.xn(this.mO.buffered))}get iq(){var t;return null==(t=this.p$)?void 0:t.b_}get nq(){var t;return null==(t=this.y$)?void 0:t.b_}get yg(){return this.I$.PJ().Sn(new Ki([0,this.ct],[!0,!0]))}S$(t,i,e,s){this.I$=new Dk(t,i,!!e,!!s)}get tq(){return(!this.p$||this.p$.tq())&&(!this.y$||this.y$.tq())}get vg(){return this.DP.readyState}async iW(){const t=this.$x,i=X_(t.E$,(t=>tw(t.LP,"audio"))),e=X_(t.E$,(t=>tw(t.LP,"video")));if(this.mO.disableRemotePlayback=!0,await this.b$(),i){const t=new dc;var s;this.L$.QJ(t);const e=null!=(s=this.dJ(i.LP))?s:i.LP;this.k$=this.DP.addSourceBuffer(e),this.p$=Tk(this,this.vP,i,rv.mp,this.k$,e,t),this.p$.yn(bi.LH,this.mJ)}if(e){const t=new dc;var n;this.L$.QJ(t);const i=null!=(n=this.dJ(e.LP))?n:e.LP;this.C$=this.DP.addSourceBuffer(i),this.y$=Tk(this,this.vP,e,rv.vp,this.C$,i,t),this.y$.yn(bi.LH,this.mJ)}this.UH.$n(this,t)}async b$(){await super.KH(this.DP),"open"!==this.vg&&await ci(this.DP,"sourceopen")}N$(){if("open"!==this.vg)return!1;const t=this.p$&&this.p$.oa,i=this.y$&&this.y$.oa;return!(t||i)}NJ(){this.x$=!0,this.p$&&this.p$.NJ(),this.y$&&this.y$.NJ(),this.x$=!1,this.O$()}_J(){this.p$&&this.p$._J(),this.y$&&this.y$._J()}PH(t){const i=X_(t.E$,(t=>tw(t.LP,"audio"))),e=X_(t.E$,(t=>tw(t.LP,"video")));if(this.p$){if(!i)return!1;if(!this.p$.PH(i))return!1}else if(i)return!1;if(this.y$){if(!e)return!1;if(!this.y$.PH(e))return!1}else if(e)return!1;return!!super.PH(t)}async RH(t){const i=X_(t.E$,(t=>tw(t.LP,"audio"))),e=X_(t.E$,(t=>tw(t.LP,"video"))),s=[];this.p$&&s.push(this.p$.RH(i)),this.y$&&s.push(this.y$.RH(e)),await Promise.all(s),await super.RH(t)}async e_(){if(wn.Ib&&await this.$H(),this.p$){if(await this.p$.e_(),this.p$=void 0,AN()&&(wn.Ib||wn.Mb))try{this.DP.removeSourceBuffer(this.k$)}catch(t){}this.k$=void 0}if(this.y$){if(await this.y$.e_(),this.y$=void 0,AN()&&(wn.Ib||wn.Mb))try{this.DP.removeSourceBuffer(this.C$)}catch(t){}this.C$=void 0}this.mO.src&&URL.revokeObjectURL(this.mO.src),this.mO.disableRemotePlayback=!1,this.vP.fn([t.ZA,t.zA],this.j$),this.L$.gn(),wn.Mb&&await this.$H(),await super.e_()}zJ(){const t=this.$x,i=t.E$.map((t=>tw(t.LP,"audio")&&this.p$?this.p$.wd:tw(t.LP,"video")&&this.y$?this.y$.wd:t));this.$x=At({},t,{E$:i})}DJ(){this.x$||this.O$()}get z$(){if(!this.tq)return!1;const t=this.b_;return 0!==t.U&&t.Cn(t.U-1)<=this.vP.j_}O$(){this.z$&&this.N$()&&(this.DP.endOfStream(),this.M$=void 0,this.Co(new Ag(pL.PU)),this.vP.mJ())}wJ(){this.N$()&&(this.tq?this.O$():void 0!==this.M$&&this.D$(this.M$))}QH(t){return this.L$.QH(t)}dJ(t){return zk(this.P$,t)}static rq(t){const i=Ck(t.B$);if(void 0===i)return!1;if("function"!=typeof i.isTypeSupported)return!1;const e=new _c(t.B$);for(const i of t.E$)if(void 0===zk(e,i.LP))return!1;return!0}constructor(i,e,s,n,r,h=new _c(i.B$),o){super(i,e,n,r),this.p$=void 0,this.k$=void 0,this.y$=void 0,this.C$=void 0,this.I$=new Dk(0,1/0),this.M$=void 0,this.x$=!1,this.j$=()=>{this.O$()},this.mJ=()=>{this.vP.mJ()},this.P$=h,this.DP=this.P$.A$(),this.vP.yn([t.ZA,t.zA],this.j$),this.L$=new Ek(this,s,this.vP,o)}};function zk(t,i){const e=xp(i),s="audio/mp4"===e.hA&&function(t,i){return kl(t,i,((t,i)=>t===i))}(vk(e),["mp4a.40.34"]);if(t.m$(i)&&(!s||!wn.Fb))return i;if(s){const i=X_(['audio/mp4; codecs="mp3"',"audio/mpeg"],(i=>t.m$(i)));return void 0!==i?i:void 0}}r(),r();var Pk=class extends Ag{constructor(i){super(t.zA),this.currentTime=i}},Bk=[t.uv,t.WA,t.ZA,t.zA,t.jh,t.Sh],Rk=class extends i{get j_(){return this.dR}get R$(){return this.U$}get Q$(){return this.F$}get ct(){return this.Rk}get R_(){return this.Y$}get hg(){return this.gR}get vg(){return this.G$}get Tg(){return this.fR}get Z_(){return this._R}set Z_(t){this.Z_!==t&&(this._R=t,this.Co(new Oe(this.j_,this.xg)))}get ag(){return this.wR}set ag(t){this.ag!==t&&(this.wR=t,this.Co(new Jh(this.j_,this.ag)))}get xg(){return this.Jk}set xg(t){this.xg!==t&&(this.Jk=t,this.Co(new Oe(this.j_,this.xg)))}Dp(t,i,e){this.dR!==t&&(this.dR=t,this.U$=i,e&&!this.fR?(this.F$=!0,this.Co(new Pk(this.j_))):(this.F$=!1,this.fR=!0,this.Co(new Sa(this.j_))))}Gg(){this.gR||(this.gR=!0,this.Co(new ws(this.j_)))}Vg(){this.gR&&(this.gR=!1,this.Co(new fh(this.j_)))}e_(){this.Vo()}constructor(t,i,e,s,n,r,h,o,a,u,c){super(),this.dR=t,this.Rk=i,this.Y$=e,this.gR=s,this.fR=n,this._R=r,this.wR=h,this.Jk=o,this.G$=a,this.U$=u,this.F$=c}};function Uk(t){return new Rk(t.j_,t.ct,t.R_,t.hg,t.Tg,t.Z_,t.ag,t.xg,t.vg,!1,t.Q$)}function Qk(t,i){i.ct===t.ct||j(i.ct)&&j(t.ct)||t.Co(new Tn(t.ct)),t.Z_=i.Z_,t.xg=i.xg,t.ag=i.ag,i.hg?t.Gg():t.Vg().catch(xs),i.j_!==t.j_||i.vg>ov.tN&&t.vg===ov.tN?t.Dp(i.j_,i.R$,i.Q$):!i.Tg&&t.Tg?t.Co(new Sa(t.j_)):i.Tg&&!t.Tg&&t.vg>=ov.iN&&t.Co(new $s(t.j_)),!i.R_&&t.R_&&t.Co(new ys(t.j_))}r(),r();var Fk=class extends i{get vg(){return this.pg()}V$(t){this.QO!==t&&(this.QO=t,this.Co(new Vs(this.vP.j_,t)))}W$(){this.V$(this.pg())}Zn(){this.V$(ov.tN)}e_(){this.Vo()}constructor(t){super(),this.QO=ov.tN,this.H$=()=>{this.W$()},this.vP=t}};r();var Yk=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],Gk=class extends Fk{pg(){let t=this.vP.TP.readyState;return t>ov.iN&&this.vP.q$?ov.iN:(this.vP.TP.seeking&&t>ov.Gn&&(t=ov.Gn),t)}e_(){for(const t of Yk)this.vP.TP.removeEventListener(t,this.H$);super.e_()}constructor(t){super(t);for(const t of Yk)this.vP.TP.addEventListener(t,this.H$)}};r();var Vk=class extends Fk{pg(){if(this.vP.TP.readyState===ov.tN)return ov.tN;const t=this.X$(),i=t?t.jn-t.Cn:0;if(!t)return ov.Gn;const e=this.vP.ag;return this.Z$()||i>=3*e?ov.sN:i>=3?ov.eN:ov.iN}X$(){const t=this.vP.j_,i=this.vP.b_.WB(.04),e=i.ZB(t);if(!(e<0))return{Cn:t,jn:i.jn(e)}}Z$(){if(this.vP.R_)return!0;const t=this.vP.ct,i=this.X$();return!!i&&t-i.jn<=.16666666666666666}e_(){this.vP.fn([t.ZA,t.zA],this.H$);for(const t of Yk)this.vP.TP.removeEventListener(t,this.H$);super.e_()}constructor(i){super(i),this.vP.yn([t.ZA,t.zA],this.H$);for(const t of Yk)this.vP.TP.addEventListener(t,this.H$)}};r(),r();var Wk=[Ho.Mw,t.jh,t.Sh,t.ZA,t.XA,t.zA,t.BA,t.kA,Bi.ha],Hk=class extends i{K$(){return(!this.zO.Q$||!this.zO.J$)&&this.zO.vg<ov.eN}t0(){return!this.zO.Tg&&!(this.zO.hg||this.zO.R_||this.zO.lt||this.K$())}Qn(){const t=this.i0;this.i0=this.t0(),!t&&this.i0&&this.Co(new Lr(this.zO.j_))}Zn(){this.i0=!1}e_(){this.Vo(),this.zO.fn(Wk,this.jG)}constructor(t){super(),this.i0=!1,this.jG=()=>{this.Qn()},this.zO=t,this.zO.yn(Wk,this.jG)}},qk=class extends Hk{t0(){return this.e0&&super.t0()}Qn(){this.e0&&(this.mO.paused||this.mO.ended||this.mO.error)&&(this.e0=!1),super.Qn()}Zn(){super.Zn(),this.e0=!1}e_(){this.mO.removeEventListener(Ho.Tv,this.HO),super.e_()}constructor(t){super(t),this.e0=!1,this.HO=()=>{this.e0=!0,this.Qn()},this.mO=t.TP,this.mO.addEventListener(Ho.Tv,this.HO)}};r();var Xk=class extends Ag{constructor(t){super(Bi.ha),this.lt=t}};function Zk(t,i){return t.zN<=i&&t.PN>i}function Kk(t,i){return function(t,i){return Co(t.zN,i.zN,Im)}(t,i)||function(t,i){return Co(t.PN,i.PN,Im)}(t,i)}function Jk(t,i){return function(t,i){return Co(t.GN,i.GN,Im)}(t,i)||function(t,i){return Co(t.VN,i.VN,Im)}(t,i)}function Wu(t,i,e){let s=function(t,i,e,s,n,r,h){void 0===n&&(n=!1),void 0===r&&(r=0),void 0===h&&(h=t.length);let o=r,a=h-1;for(;o<=a;){const h=o+(a-o>>1),u=s(e(t[h]),i);if(u<0)o=h+1;else if(u>0)a=h-1;else{if(!(n&&h>r&&0===s(e(t[h-1]),i)))return h;a=h-1}}return~o}(t,i,fg,e,!0);if(s<0)return s;for(;s<t.length&&e(i,t[s])===Po.Zr;s++)if(t[s].$N(i))return s;return-(s+1)}function $k(t,i,e){const s=Wu(t,i,e);return s>=0?s:-(s+1)}function tC(t){const i=t.Lt;if(!i)return-1;if(t instanceof gn)return i.s0(t);const e=i.L;if(!e)return-1;const s=Wu(e.xw,t,Kk);return s>=0?s:-1}function iC(t,i){const e=function(t,i,e){const s=t.length,n=i.length;let r=0,h=0;const o=[],a=[];for(;r<s&&h<n;){const s=t[r],n=i[h];s===n?(r++,h++):e(n,s)<=0?(o.push(n),h++):(a.push(s),r++)}for(;r<s;)a.push(t[r]),r++;for(;h<n;)o.push(i[h]),h++;return{n0:o,r0:a}}(t,i,Kk);return function(t,i){const e=i.length;for(let s=0;s<e;s++)t[s]=i[s];t.length=e}(t,i),e}r(),r(),r(),r();var eC=class{get xw(){return this.h0}get U(){return this.h0.length}get va(){if(this.Xa){const t=this.h0;this.Xa.length=t.length;for(let i=0;i<t.length;i++)this.Xa[i]=t[i].va}else this.Xa=this.fa();return this.Xa}fa(){return function(t){const i=[];for(let e=0;e<t.U;e++)i[e]=t.kL(e).va;return i.item=i=>{const e=0|i,s=t.kL(e);return s&&s.va||void 0},_.defineProperty(i,"constructor",{value:Mm}),i}(this)}yN(t){const i=this.h0;for(let e=i.length-1;e>=0;e-=1){const s=i[e];if(t.$N(s))return!0}return!1}kL(t){return this.h0[t]}constructor(t){this.Xa=void 0,this.h0=t}};r();var sC=class extends yo{fa(){return new nC(this.Lt.va,this.vg)}constructor(t,i){super(Os.Mw),this.Lt=t,this.vg=i}},nC=class extends te{constructor(t,i){super("readystatechange"),this.track=t,this.readyState=i}};r();var rC=class extends yo{fa(){return new hC(this.Lt.va)}constructor(t){super(Os.Nw),this.Lt=t}},hC=class extends te{constructor(t){super("typechange"),this.track=t}};r();var oC=class extends yo{fa(){return new aC(this.jN.va)}constructor(t){super(Os.aw),this.jN=t}},aC=class extends te{constructor(t){super("addcue"),this.cue=t}};r();var uC=class extends yo{fa(){return new cC(this.jN.va)}constructor(t){super(Os.cw),this.jN=t}},cC=class extends te{constructor(t){super("removecue"),this.cue=t}},Us=class extends i{get q(){return this.o0}get L(){return this.a0}u0(t){return X_(this.a0.xw,(i=>i.o===t))}get yE(){return this.c0}set yE(t){this.c0=t}get rA(){return this.l0}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){return Rg(this)}get o(){return this.NN}get Vw(){return this.DN}get iA(){return this.d0}set iA(t){this.d0=t}get zt(){return this.f0}get kh(){return this.IN}set kh(t){t!==this.IN&&(this.IN=t,this.Co(new Ln(this)))}get gs(){return this.Uk}get Ww(){return this._0}get eA(){return this.QR}set eA(t){this.Xo(t)}Xo(t){const i=rn(t);i!==this.eA&&(this.QR=i,i===go.Ch&&(this.g0.forEach((t=>{t.ro=!1})),Ri(this.g0),this.w0=0),this.Co(new Kr(this)))}get vg(){return this.G$}set vg(t){this.G$!==t&&(this.G$=t,this.Co(new sC(this,this.G$)))}get oA(){return this.A0}set oA(t){this.A0=t}get hA(){return this.v0}set hA(t){this.v0!==t&&(this.v0=t,this.Co(new rC(this)))}vE(t){if(!t||t.Lt)return;const i=Wu(this.m0,t,Jk);if(i>=0)return;t.Lt=this;const e=-(i+1);this.m0.splice(e,0,t);const s=$k(this.L.xw,t,Kk);this.p0(t,s),this.Co(new oC(t))}p0(t,i){this.h0.splice(i,0,t),this.y0(i),t.eD=i,i<this.w0&&(this.w0=i)}DS(t){if(!t||t.Lt!==this)return;const i=this.s0(t);if(i<0)return;t.ro=!1;const e=this.g0,s=Wu(e,t,Kk);s>=0&&Dt(e,s);const n=Wu(this.m0,t,Jk);n>=0&&Dt(this.m0,n),this.M0(t,i),this.Co(new uC(t))}M0(t,i){Dt(this.h0,i),this.y0(i),t.eD=-1,this.w0>i&&--this.w0}qN(t){if(!t||t.Lt!==this)return;const i=this.s0(t);if(i<0)return;this.M0(t,i);const e=$k(this.L.xw,t,Kk);this.p0(t,e);const s=J_(this.g0,(i=>i===t));if(s>=0){Dt(this.g0,s);const i=$k(this.g0,t,Kk);this.g0.splice(i,0,t)}}T0(t,i){const e=this.g0,s=this.h0;let n=this.w0,r=!1;i&&(n=0);for(let i=e.length-1;i>=0;i--){Zk(e[i],t)||(r=!0,Dt(e,i))}for(;n<s.length&&s[n].zN<=t;){const i=s[n];if(0===t)break;Zk(i,t)&&!ea(e,i)&&(r=!0,e.push(i)),n++}r&&xl(e,Kk),this.w0=n}s0(t){return(-1===t.eD||t.eD>=this.N0)&&this.D0(),t.eD}D0(){const t=this.h0;for(let i=this.N0;i<t.length;i++)t[i].eD=i;this.N0=t.length}y0(t){t<this.N0&&(this.N0=x.max(t,0))}nA(t){this.rA||(this.eA=t)}gn(){this.Vo();const t=this.h0.slice();for(const i of t)i.gn();Ri(this.h0),Ri(this.m0),Ri(this.g0)}constructor(t,i,e,s,n,r,h,o,a){super(),this.DN=om(),this.c0=!1,this.QR=go.Ch,this.G$=Q.NONE,this.A0=void 0,this.h0=[],this.m0=[],this.g0=[],this.N0=0,this.w0=0,this.NN=i||"",this.d0=o||"",this.f0=t,this.Uk=s||"",this.c0=Boolean(n),this.l0=Boolean(h),this.v0=r||Ks.DEFAULT,this.IN=e||"",this._0=a||[],this.a0=new eC(this.h0),this.o0=new eC(this.g0)}};r(),r(),r();var lC=class extends Xa{fa(){return new dC(this.jN.va)}constructor(t,i){super(Cl.xN,t),this.sI=i}},dC=class extends Ua{constructor(t){super("enter",t)}};r();var fC=class extends Xa{fa(){return new _C(this.jN.va)}constructor(t,i){super(Cl.ON,t),this.sI=i}},_C=class extends Ua{constructor(t){super("exit",t)}};r();var gC=class extends yo{fa(){return new wC(this.jN.va)}constructor(t){super(Os._w),this.jN=t}},wC=class extends te{constructor(t){super("entercue"),this.cue=t}};r();var AC=class extends yo{fa(){return new vC(this.jN.va)}constructor(t){super(Os.ww),this.jN=t}},vC=class extends te{constructor(t){super("exitcue"),this.cue=t}},mC=class extends ra{get Vw(){return this.DN}get zN(){return this.I0.startTime}set zN(t){this.I0.startTime=t}get PN(){return this.I0.endTime}set PN(t){this.I0.endTime=t}get O(){return this.ZN}set O(t){this.ZN=t}get KN(){return!!this.I0.pauseOnExit}set KN(t){this.I0.pauseOnExit=!!t}get Lt(){return this.HN}set Lt(t){this.HN=t}get o(){return this.I0.id||""}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){return Rh(this)}get ro(){return this.ho}set ro(t){this.ro!==t&&(this.ho=t,t?(this.Co(new lC(this,this.zN)),this.HN&&this.HN.Co(new gC(this))):(this.Co(new fC(this,this.PN)),this.HN&&this.HN.Co(new AC(this))))}$N(t){return this===t||Sg(this,t)&&Sm(this,t)&&this.tD(t)}tD(t){return Ah(this.O,t.O)}gn(){this.Vo(),this.I0.removeEventListener("enter",this.S0),this.I0.removeEventListener("exit",this.E0)}constructor(t){super(),this.ZN=void 0,this.HN=void 0,this.Xa=void 0,this.ho=!1,this.S0=()=>{this.ro=!0},this.E0=()=>{this.ro=!1},this.DN=dm(),this.I0=t,this.GN=t.startTime,this.VN=t.endTime,this.I0.addEventListener("enter",this.S0),this.I0.addEventListener("exit",this.E0)}};r();var pC=class extends yo{fa(){return new yC(this.Lt.va)}constructor(t){super(Os.mw),this.Lt=t}},yC=class extends te{constructor(t){super("cuechange"),this.track=t}};function MC(t){if(!t)return;let i=t.THEOplayerVTTRegion;return i||(i=new TC(t),t.THEOplayerVTTRegion=i),i}r(),r();var TC=class{get b0(){return this.L0}get o(){return this.L0.id||""}get ji(){return+this.L0.width||0}set ji(t){this.L0.width=t||0}get sD(){return+this.L0.lines||0}set sD(t){this.L0.lines=t||0}get nD(){return+this.L0.regionAnchorX||0}set nD(t){this.L0.regionAnchorX=t||0}get rD(){return+this.L0.regionAnchorY||0}set rD(t){this.L0.regionAnchorY=t||0}get oD(){return+this.L0.viewportAnchorX||0}set oD(t){this.L0.viewportAnchorX=t||0}get aD(){return+this.L0.viewportAnchorY||0}set aD(t){this.L0.viewportAnchorY=t||0}get hD(){return this.L0.scroll||""}get va(){return this.Xa||(this.Xa=xm(this)),this.Xa}constructor(t){this.Xa=void 0,this.L0=t}};var NC=class extends mC{get O(){return this.I0.text}set O(t){this.I0.text=t}get Pt(){return this.I0.vertical||""}set Pt(t){this.I0.vertical=t||""}get YN(){return this.I0.snapToLines}set YN(t){this.I0.snapToLines=t}get RN(){return this.I0.line}set RN(t){this.I0.line=t}get ey(){return+this.I0.size}set ey(t){this.I0.size=Sc(t,0,100)}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){return Tm(this)}tD(t){return Em(this,t)}constructor(t){super(t)}},DC=class extends NC{get FN(){return MC(this.I0.region)}get UN(){return this.I0.lineAlign||"start"}set UN(t){this.I0.lineAlign=t||"start"}get po(){return this.I0.position}set po(t){this.I0.position=t}get QN(){return this.I0.positionAlign||"auto"}set QN(t){this.I0.positionAlign=t||"auto"}get BN(){return this.I0.align||"center"}set BN(t){this.I0.align=t||"center"}constructor(t){super(t)}},IC=class extends NC{get FN(){return MC(this.b0)}get b0(){return function(t,i){if(void 0===i)return;let e=t&&t.regions;return e&&e.getRegionById(i)||void 0}(this.I0.track,this.I0.regionId)}get UN(){return function(t){return"middle"===t?"center":t}(this.I0.lineAlign||"start")}set UN(t){this.I0.lineAlign=function(t){return"center"===t?"middle":t}(t||"start")}get po(){return this.I0.position}set po(t){this.I0.position=function(t,i){return ym(t,i)}(t,this.BN)}get QN(){return function(t){return mm[t]}(this.I0.positionAlign||"middle")}set QN(t){this.I0.positionAlign=function(t,i){return vm[pm(t,i)]}(t||"center",this.BN)}get BN(){return function(t){return"middle"===t?"center":t}(this.I0.align||"middle")}set BN(t){this.I0.align=function(t){return"center"===t?"middle":t}(t||"center")}constructor(t){super(t)}};function SC(t,i){return t.O===i.O}function EC(t,i){if(0===i.length)return;const e=i.length-1;if(i[e].zN<t.zN)return void bC(i,e,t.zN);const s=i[0];if(s.zN>t.zN)return void(t.PN=s.zN);const n=Wu(i,t,Kk);if(n>=0)return;const r=-(n+1),h=r-1;if(h>=0){i[h].zN<t.zN&&bC(i,h,t.zN)}if(r<i.length){const e=i[r];t.PN=e.zN}}function bC(t,i,e){const s=t[i].zN;for(let n=i;n>=0&&t[n].zN===s;n--)t[n].PN=e}function LC(t){return Rh(t)}r(),r(),r(),r();var kC,CC,xC=class extends mC{get O(){return this.k0}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){return LC(this)}tD(t){return SC(this,t)}constructor(t,i){super(t),this.k0=i}};function I(t){switch(t){case 0:case 1:case 2:case 3:return!0}return!1}function O(t){switch(t){case 0:return pu;case 1:return BA;case 2:return ya;case 3:return gl}}function OC(t,i){const e=i.Ku,s=t.byteLength,n=ko(t);return i.Np(s-e),jh(n,e,s).buffer}function jC(t,i){return{id:t||"",data:i instanceof ArrayBuffer?i:void 0}}function zC(t,i,e){const s=F(t,i);if(!I(s))return;const n=O(s);return{id:e,language:Oo(t,i,3),description:n(t,i),text:n(t,i)}}function PC(t,i,e){const s=F(t,i);if(!I(s))return;const n=O(s);return{id:e,mimeType:pu(t,i),fileName:n(t,i),description:n(t,i),data:OC(t,i)}}function BC(t,i,e){const s=F(t,i);if(!I(s))return;const n=O(s),r=[];for(;i.Ku<t.byteLength;)r.push({involvement:n(t,i),involvee:n(t,i)});return{id:e,entries:r}}function RC(t,i,e){const s=F(t,i);if(!I(s))return;const n=O(s),r=Oo(t,i,3),h=F(t,i),o=F(t,i),a=n(t,i);let u=!1;const c=[];for(;i.Ku<t.byteLength;){let e;if(1===s){let s=PA(t,i);void 0===s?s=u:u=s,e=ya(t,i,s)}else e=n(t,i);if(!e||i.Ku+4>t.byteLength)break;c.push({text:e,timestamp:Cn(t,i)})}return{id:e,language:r,format:h,contentType:o,description:a,entries:c}}function UC(t,i,e){return{id:e,ownerIdentifier:pu(t,i),identifier:OC(t,i)}}function QC(t,i,e){const s=F(t,i);if(!I(s))return;const n=O(s);return{id:e,language:Oo(t,i,3),description:n(t,i),text:n(t,i)}}function FC(t,i,e){const s=F(t,i);if(!I(s))return;return{id:e,text:O(s)(t,i)}}function YC(t,i,e){return{id:e,url:pu(t,i)}}function GC(t,i,e){const s=F(t,i);if(!I(s))return;const n=O(s);return{id:e,description:n(t,i),text:n(t,i)}}function VC(t,i,e){const s=F(t,i);if(!I(s))return;return{id:e,description:O(s)(t,i),url:pu(t,i)}}function WC(t,i,e){switch(e){case"COM":return zC(t,i,e);case"GEO":return PC(t,i,e);case"IPL":return BC(t,i,e);case"PIC":return function(t,i,e){const s=F(t,i);if(!I(s))return;const n=O(s),r=Oo(t,i,3),h=F(t,i),o=n(t,i);let a,u;return"--\x3e"===r?(a=r,u=pu(t,i)):(a="image/"+r.toLowerCase(),u=OC(t,i)),{id:e,mimeType:a,pictureType:h,description:o,data:u}}(t,i,e);case"SLT":return RC(t,i,e);case"TXX":return GC(t,i,e);case"UFI":return UC(t,i,e);case"ULT":return QC(t,i,e);case"WXX":return VC(t,i,e);default:if("T"===e.charAt(0))return FC(t,i,e);if("W"===e.charAt(0))return YC(t,i,e)}}function HC(t,i,e){switch(e){case"APIC":return function(t,i,e){const s=F(t,i);if(!I(s))return;const n=O(s),r=pu(t,i),h=F(t,i),o=n(t,i);let a;return a="--\x3e"===r?pu(t,i):OC(t,i),{id:e,mimeType:r,pictureType:h,description:o,data:a}}(t,i,e);case"COMM":return zC(t,i,e);case"COMR":return function(t,i,e){const s=F(t,i);if(!I(s))return;const n=O(s),r=pu(t,i),h=Oo(t,i,8),o=pu(t,i),a=F(t,i),u=n(t,i),c=n(t,i);let l,d;return i.Ku<t.byteLength&&(l=pu(t,i)||"image/",d=OC(t,i)),{id:e,price:r,validUntil:h,contactURL:o,receivedAs:a,nameOfSeller:u,description:c,pictureMimeType:l,sellerLogo:d}}(t,i,e);case"GEOB":return PC(t,i,e);case"IPLS":return BC(t,i,e);case"PRIV":return function(t,i,e){return{id:e,ownerIdentifier:pu(t,i),data:OC(t,i)}}(t,i,e);case"POSS":return function(t,i,e){return{id:e,format:F(t,i),position:Cn(t,i)}}(t,i,e);case"SYLT":return RC(t,i,e);case"TXXX":return GC(t,i,e);case"UFID":return UC(t,i,e);case"USER":return function(t,i,e){const s=F(t,i);if(!I(s))return;const n=O(s);return{id:e,language:Oo(t,i,3),text:n(t,i)}}(t,i,e);case"USLT":return QC(t,i,e);case"WXXX":return VC(t,i,e);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return FC(t,i,e);default:{const s=e.charAt(0);if("T"===s)return FC(t,i,e);if("W"===s)return YC(t,i,e)}}}r(),r(),function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(kC||(kC={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(CC||(CC={}));var qC=10;function XC(t,i){return(127&F(t,i))<<21|(127&F(t,i))<<14|(127&F(t,i))<<7|127&F(t,i)}function ZC(t,i){switch(t){case 4:return{C0:wu(i,0),x0:wu(i,1),O0:wu(i,2),j0:wu(i,3)};case 3:return{C0:wu(i,0),x0:wu(i,1),O0:wu(i,2)};case 2:return{C0:wu(i,0),z0:wu(i,1)}}}function KC(t,i,e){switch(e._y){case 3:e.gy.x0&&function(t,i){const e=i.Ku,s=Cn(t,i)+4,n=32768&LA(t,i);i.Dp(e+s),n&&Cn(t,i)}(t,i);break;case 4:e.gy.x0&&function(t,i){const e=i.Ku,s=XC(t,i);i.Dp(e+s)}(t,i)}}function JC(t,i){if(t.byteLength-i.Ku<qC)return null;if(73!==F(t,i)||68!==F(t,i)||51!==F(t,i))return null;const e=F(t,i),s=F(t,i);if(!function(t){switch(t){case 2:case 3:case 4:return!0}return!1}(e))return null;const n=F(t,i),r=XC(t,i);return{_y:e,P0:s,gy:ZC(e,n),B0:r}}function $C(t,i,e){switch(e){case 2:return function(t,i){if(i.Ku+6>t.byteLength)return;return{o:Oo(t,i,3),ey:Fi(t,i,3)}}(t,i);case 3:return function(t,i){if(i.Ku+10>t.byteLength)return;const e=Oo(t,i,4),s=Cn(t,i);F(t,i);const n=F(t,i);return{o:e,ey:s,gy:{z0:wu(n,0),R0:wu(n,1),groupingIdentity:wu(n,2)}}}(t,i);case 4:return function(t,i){if(i.Ku+10>t.byteLength)return;const e=Oo(t,i,4),s=XC(t,i);F(t,i);const n=F(t,i);return{o:e,ey:s,gy:{groupingIdentity:wu(n,1),z0:wu(n,4),R0:wu(n,5),C0:wu(n,6),U0:wu(n,7)}}}(t,i)}}function tx(t){const i=ko(t),e=new T(i.byteLength);let s=0;for(let t=0;t<i.byteLength;t++){const n=i[t];255===n&&t++,e[s]=n,s++}return Mo(jh(e,0,s))}function ix(t,i){const e=i||new Or,s=JC(t,e);if(!s)return null;const n=function(t,i,e){const s=[],n=i.Ku;let r=cn(t,n,n+e.B0);const h=new Or;switch(i.Np(e.B0),e._y){case 2:case 3:e.gy.C0&&(r=tx(r))}KC(t,i,e);for(;h.Ku<r.byteLength;){const t=ex(r,h,e);if(void 0===t)break;s.push(t)}return s}(t,e,s);return{iy:s,Q0:n}}function ex(t,i,e){const s=$C(t,i,e._y);if(void 0===s)return;if(0===s.o.charCodeAt(0)||0===s.ey)return;const n=i.Ku;let r,h,o=cn(t,n,n+s.ey);switch(i.Np(s.ey),e._y){case 2:{const t=s;h=o,r=WC(h,new Or,t.o);break}case 3:{const t=s,i=new Or;!function(t,i,e){const s=e.gy;let n,r,h;s.z0&&(n=Cn(t,i)),s.R0&&(r=F(t,i)),s.groupingIdentity&&(h=F(t,i))}(o,i,t);h=cn(o,i.Ku,o.byteLength),r=HC(h,new Or,t.o);break}case 4:{const t=s,i=new Or;t.gy.C0&&(o=tx(o)),function(t,i,e){const s=e.gy;let n,r,h,o;s.groupingIdentity&&(n=F(t,i)),s.z0&&(r=Cn(t,i)),s.R0&&(h=F(t,i)),s.U0&&(o=XC(t,i))}(o,i,t);h=cn(o,i.Ku,o.byteLength),r=HC(h,new Or,t.o);break}}if(!r){const t=Ae(ko(h));r=jC(s.o,t.buffer)}return r}function sx(t){return function(t,i,e){return FC(t,i,e)}(new DataView(t.data),new Or,t.key)}function nx(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return sx(t);default:let i=t.key.charAt(0);if("T"===i)return function(t){return{id:t.key,text:t.data}}(t);if("W"===i)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return jC(t.key,t.data)}(t)}r(),r();var ze=class t extends i{get q(){return this.o0}get yE(){return this.F0?this.F0.default:void 0}get L(){return this.a0}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){return Rg(this)}get o(){return this.TN.id||this.F0&&this.F0.id||""}get Vw(){return this.DN}get iA(){return this.TN.inBandMetadataTrackDispatchType||""}get zt(){return this.TN.kind||oa.pp}get kh(){return this.IN}set kh(t){t!==this.IN&&(this.IN=t,void 0!==this.F0&&(this.F0.label=t),this.Co(new Ln(this)))}get gs(){return this.TN.language||""}get eA(){return this.QR}set eA(t){let i=this.eA;this.QR=rn(t),this.Y0();let e=this.eA;i!==e&&this.Co(new Kr(this)),e!==go.Ch&&this.G0(Q.LOADING)}get V0(){return rn(this.TN.mode)}set V0(t){this.TN.mode=t}get SN(){return this.TN}get vg(){return this.G$}get W0(){return this.F0?+this.F0.readyState||Q.NONE:Q.LOADED}get oA(){return this.A0}get hA(){return this.v0}set hA(t){this.v0!==t&&(this.v0=t,this.Co(new rC(this)))}get H0(){return this.q0}set H0(t){this.q0=t,t&&(this.X0=!0,u((()=>{this.X0=!1}),50)),this.Y0()}Y0(){let t=this.eA;this.H0||t!==go.Xn?this.V0=t:this.V0=go.sA}Z0(){let t=this.eA,i=this.V0;t!==i&&(this.H0||t!==go.Xn||i!==go.sA)&&("metadata"===this.zt&&i===go.Ch?this.eA=t:this.X0&&i===go.Ch&&t===go.Xn?this.V0=t:this.eA=i)}W$(t){this.G$!==t&&(this.G$=t,this.Co(new sC(this,t)))}G0(t){let i=x.max(this.G$,this.W0,t);this.W$(i)}static K0(t){return t&&t.THEOplayerTextTrackCue||void 0}J0(i){let e=t.K0(i);if(e)return e;if(e=this.$0(i),He(e))for(let t of e)t.Lt=this;else e.Lt=this;return i.THEOplayerTextTrackCue=e,e}$0(t){return function(t){return!(!t||"org.id3"!==t.type||!t.value)}(t)?(this.hA=Ks.ID3,function(t){let i;try{i=nx(t.value)}catch(t){i=jC("")}return new xC(t,i)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.hA=Ks.ID3,function(t){let i=[];try{let e=ix(new DataView(t.data));if(e)for(let s of e.Q0)i.push(new xC(t,s))}catch(t){}return i}(t)):function(t){return"text"in t}(t)?(this.hA=Ks.WEBVTT,function(t){return"regionId"in t}(t)?new IC(t):new DC(t)):new mC(t)}t1(t){let i=[];if(!t)return i;let e=t.length;for(let s=0;s<e;s++){let e=this.J0(t[s]||t.item(s));if(He(e))for(let t of e)i.push(t);else i.push(e)}return i}i1(){let t=this.t1(this.TN.cues),i=iC(this.h0,t);for(let t of i.r0)t.fn(Cl.ON,this.e1),t.fn(Cl.xN,this.e1),this.Co(new uC(t));for(let t of i.n0)t.yn(Cl.xN,this.e1),t.yn(Cl.ON,this.e1),this.Co(new oC(t))}T0(){let t=this.t1(this.TN.activeCues),i=iC(this.g0,t);for(let t of i.r0)t.ro=!1;for(let t of i.n0)t.ro=!0;(i.n0.length||i.r0.length)&&this.Co(new pC(this))}nA(t){this.eA=t}gn(){this.Vo();const t=this.h0.slice();for(let i of t)i.gn();Ri(this.h0),Ri(this.g0),this.TN.removeEventListener("cuechange",this.s1),this.TN.removeEventListener("cuechange",this.e1),this.F0&&(this.F0.removeEventListener("load",this.n1),this.F0.removeEventListener("error",this.o1),ei(this.F0))}constructor(t,i,e=!0){super(),this.h0=[],this.g0=[],this.QR=go.Ch,this.G$=Q.NONE,this.A0=void 0,this.v0=Ks.DEFAULT,this.X0=!1,this.s1=()=>{this.Y0(),this.TN.removeEventListener("cuechange",this.s1)},this.e1=()=>{this.eA!==go.Ch&&(this.i1(),this.T0(),this.h0.length&&this.G0(Q.LOADING))},this.n1=()=>{this.G0(Q.LOADED)},this.o1=()=>{this.G0(Q.ERROR)},this.TN=t,this.q0=e,this.TN.addEventListener("cuechange",this.s1),this.TN.addEventListener("cuechange",this.e1),this.F0=i,this.F0&&(this.A0=_a(this.F0.src),this.F0.addEventListener("load",this.n1),this.F0.addEventListener("error",this.o1)),this.DN=om(),this.IN=t.label||"",this.a0=new eC(this.h0),this.o0=new eC(this.g0),this.eA=this.V0,Qu((()=>{this.e1(),this.G0(Q.NONE)}))}};r(),r();function rx(t,i){return Ee(t.sI,i.sI)||function(t,i){return t.Lt===i.Lt?qo(tC(t),tC(i)):Ay(t.Lt,i.Lt)}(t.jN,i.jN)||function(t,i){return t===i?Po.Zr:t===Cl.xN?Po.Hf:Po.Wf}(t.type,i.type)}var hx=class{Zn(){Ri(this.a1);for(const t of this.Dl.slice())this.it(t);this.u1(),this.c1=0,this.An=0,this.l1=!1,this.d1=!1,this.f1=void 0}tt(t){if(!ea(this.Dl,t)){if(this.Dl.push(t),t.yn(Os.aw,this._1),t.yn(Os.cw,this.g1),t.yn(Os.dw,this.w1),t.yn(Os.ra,this.A1),t.L.U>0){for(const i of t.L.xw)this.v1.push(i);this.m1()}this.M1()}}it(t){if(Et(this.Dl,t)){if(t.fn(Os.aw,this._1),t.fn(Os.cw,this.g1),t.fn(Os.dw,this.w1),t.fn(Os.ra,this.A1),t.L.U>0){for(const i of t.L.xw)Et(this.a1,i),Et(this.v1,i);this.m1()}this.M1()}}M1(){this.l1=this.Dl.some((t=>t.eA!==go.Ch))}T1(){this.Qo.Tg||this.Qo.hg?this.u1():this.m1()}m1(){this.l1&&(this.c1||(this.c1=this.D1.N1(this.I1)))}u1(){this.c1&&(this.D1.S1(this.c1),this.c1=0)}E1(){if(!this.l1)return;if(this.Qo.Tg)return;const t=this.Dl,i=this.An;var e;const s=null!=(e=this.f1)?e:this.Qo.j_,n=s-i<-.1;let r=this.d1||n;r&&s>i&&s-i<.1&&(r=!1),this.d1=!1,this.f1=void 0;const h=[];for(const i of t)if(i.eA!==go.Ch){i.T0(s,r);for(const t of i.q.xw)h.push(t)}const o=this.a1.slice();if(r);else for(const e of t)e.eA!==go.Ch&&wy(e,i-kc,s,o);for(let t=o.length-1;t>=0;t--)ea(h,o[t])&&Dt(o,t);const a=[];if(!r)for(let t=o.length-1;t>=0;t--){const e=o[t];e.zN>i&&e.PN<=s&&(a.push(e),Dt(o,t))}for(const t of this.v1)Et(a,t);Ri(this.v1);const u=[],c=[];for(const t of a)t.ro||u.push(new lC(t,t.zN)),u.push(new fC(t,x.max(t.zN,t.PN))),t.ro=!1;for(const t of o)t.ro&&(u.push(new fC(t,x.max(t.zN,t.PN))),t.ro=!1);for(const t of h)t.ro||(u.push(new lC(t,t.zN)),t.ro=!0);u.sort(rx);for(const t of u){const i=t.jN;i.Co(t);const e=i.Lt;e&&(t.type===Cl.xN?e.Co(new gC(i)):e.Co(new AC(i)),ea(c,e)||c.push(e))}c.sort(Ay);for(const t of c)t.Co(new pC(t));this.An=s,this.a1=h}gn(){this.Zn(),this.Qo.fn(t.ov,this.b1),this.Qo.fn(t.jh,this.b1),this.Qo.fn(Ho.Tv,this.b1),this.Qo.fn(t.Sh,this.b1),this.Qo.fn(t.ZA,this.L1),this.Qo.fn(t.XA,this.C1)}constructor(i,e){this.Dl=[],this.c1=0,this.An=0,this.a1=[],this.v1=[],this.l1=!1,this.d1=!1,this.f1=void 0,this.I1=()=>{this.c1=0,this.E1(),this.T1()},this.b1=()=>{this.E1(),this.T1()},this.L1=()=>{this.d1=!0,this.f1=this.Qo.j_,this.u1()},this.C1=()=>{this.E1(),this.T1()},this.A1=()=>{this.M1(),this.E1(),this.T1()},this._1=t=>{const i=t.jN;ea(this.v1,i)||this.v1.push(i),this.m1()},this.g1=t=>{const i=t.jN;Et(this.a1,i),Et(this.v1,i),this.m1()},this.w1=t=>{this.m1()},this.D1=e,this.Qo=i,i.yn(t.ov,this.b1),i.yn(t.jh,this.b1),i.yn(Ho.Tv,this.b1),i.yn(t.Sh,this.b1),i.yn(t.ZA,this.L1),i.yn(t.XA,this.C1),this.m1()}};r();var ox=class{N1(t){return ds(t)}S1(t){Gs(t)}},ax=new ox,Ju=class extends hx{constructor(t,i=ax){super(t,i)}};r(),r();var ux=class extends gn{get va(){return this.Xa||(this.Xa=LC(this)),this.Xa}tD(t){return SC(this,t)}constructor(t,i,e){super(t,1/0,i,!1,e)}};r(),r();var cx=class extends Us{constructor(t,i,e=Ks.DEFAULT){super(oa.Mp,"",i||"","",!1,e,!1,t)}},lx=class extends cx{vE(t){EC(t,this.h0),super.vE(t)}fa(){return Rg(this)}constructor(t,i){super(t,i),this.hA=Ks.ID3}};function dx(t){const i=t&&t.THEOplayerTextTrackCue||void 0;if(i)return i;const e=t.startTime,s=nx(t.value);return t.THEOplayerTextTrackCue=new ux(e,s),t.THEOplayerTextTrackCue}var fx=class extends lx{get o(){return this.TN.id||""}get iA(){return this.TN.inBandMetadataTrackDispatchType||""}get gs(){return this.TN.language||""}Xo(t){super.Xo(t),this.V0=this.eA}get V0(){return rn(this.TN.mode)}set V0(t){this.TN.mode=t}get SN(){return this.TN}G0(t){this.vg=x.max(this.vg,t)}i1(){let t=this.TN.cues;if(!t)return;let i=function(t){const i=t.length,e=[];for(let s=0;s<i;s++)e.push(dx(t[s]||t.item(s)));return xl(e,Kk),e}(t),e=iC(this.L.xw.slice(),i);for(let t of e.r0)this.DS(t);for(let t of e.n0)this.vE(t)}gn(){this.TN.removeEventListener("cuechange",this.e1),super.gn()}constructor(t){super(t.inBandMetadataTrackDispatchType,t.label),this.e1=()=>{this.eA!==go.Ch&&(this.i1(),this.G0(Q.LOADED))},this.TN=t,this.TN.addEventListener("cuechange",this.e1),this.eA=this.V0,Qu((()=>{this.e1()}))}};r();var _x=class extends si{O1(){this.j1.yn(gt.ew,this.fP),this.j1.yn(gt.hw,this._P)}z1(){this.j1.fn(gt.ew,this.fP),this.j1.fn(gt.hw,this._P)}P1(t){const i=t.L.xw[0];if(!gx(i))return;const e=function(t){const i=t.match(wx);if(!i)return;return{Lt:i[1],gs:i[2]}}(i.O.description),s=e.Lt,n=e.gs;if(this.B1(s,n))return;const r=this.fE.dE(oa.pp,t.o,s,n,!1,Ks.TTML);this.tt(r),this.R1.set(t.Vw,r);for(let i of t.L.xw)gx(i)&&this.U1(i);t.yn(Os.aw,this.Q1)}B1(t,i){return this.Z.xw.some((e=>e.kh===t&&e.gs===i))}U1(t){if(!t.Lt)return;const i=this.R1.get(t.Lt.Vw),e=Yp(t.O.text,i,{LI:0,kI:1/0,CI:t.zN});for(let t of e)i.vE(t)}async Zn(){for(let t of this.j1.xw)t.fn(Os.aw,this.Q1);for(let t of this.Z.xw)this.fE.pE(t);this.R1.clear(),await super.Zn()}async gn(){this.z1(),await super.gn()}constructor(t,i){super(),this.fE=t,this.j1=i,this.R1=_e(),this.fP=async t=>{const i=t.Lt;if(i.hA||await i.D_(Os.Nw),i.hA===Ks.ID3){for(;0===i.L.U;)await i.D_(Os.aw);this.P1(i)}},this._P=t=>{const i=t.Lt;if(i.hA!==Ks.ID3||!this.R1.has(i.Vw))return;const e=this.R1.get(i.Vw);this.it(e),this.fE.pE(e),i.fn(Os.aw,this.Q1)},this.Q1=t=>{gx(t.jN)&&this.U1(t.jN)},this.O1()}};function gx(t){return function(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(t)&&wx.test(t.description)}(t.O)}var wx=/^Track:(.+),Lang:(.+)$/;r(),r();var Pn=class extends Ag{get error(){return this.errorObject.message}get licenseAcquisitionURL(){return this.errorObject.url}get status(){return this.errorObject.status}get statusText(){return this.errorObject.statusText}get licenseAcquisitionMessage(){return this.errorObject.response}get systemCode(){return this.errorObject.systemCode}constructor(i){super(t.NA),this.errorObject=i}};r(),r(),r();var Ax=class extends Ag{constructor(){super(t.DA)}};r();var vx=class extends Ag{constructor(t){super("_v"),this.F1=t}},mx=new Vi,px=class extends Ag{constructor(t){super("Ws"),this.session=t}},yx=class extends i{ux(){return this.Y1=!0,mx.oO((t=>this.G1(t)),this.aO.a_)}async G1(t){try{Pi(t),await this.V1.hj(t);const i=await this.V1.aj(this.W1.AL,this.W1.bL,t);await this.H1.ux(this.W1.AL,this.W1.bL,i)}catch(t){Ht(t);const i=t instanceof qt?t.RL:void 0,e=new Qr(p_.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t,void 0,void 0,void 0,void 0,i);throw this.Ss(e),e}}async wj(t,i){let e;try{e=function(t){return ma(t,tM())}(t)?await this.V1.Dj(new T(t),this.aO.a_):await this.V1.Ij(new T(t),i,this.aO.a_)}catch(t){if(Oi(t))return;throw t}if(this.aO.a_.$f)return;const s=this.q1,n=new Eo;this.q1=n;try{await this.H1.Qn(e),await ye(100)}catch(t){const i=t instanceof qt?t.RL:void 0;throw new Qr(p_.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t,void 0,void 0,void 0,void 0,i)}finally{void 0!==s&&await s.PL,n.jL(),this.q1===n&&(this.q1=void 0)}}Ss(t){const i=t instanceof Qr?t:new Qr(p_.CONTENT_PROTECTION_ERROR,t.message,t);this.Co(new Pn(i)),this.Ws()}X1(){this.H1.fn("TL",this.wx),this.H1.fn("yL",this.Z1),this.H1.fn("lt",this.K1),this.J1=!1,this.aO.c_(),this.Co(new px(this))}async Ws(){let t;this.Vo();do{t=this.q1,void 0!==t&&await t.PL}while(this.q1!==t);this.X1(),await this.H1.Ws().catch(xs)}constructor(t,i,e){super(),this.H1=t,this.V1=i,this.W1=e,this.Y1=!1,this.J1=!1,this.aO=new Ao,this.wx=t=>{if(!this.aO.a_.$f)switch(t.NL){case"license-request":case"license-renewal":this.wj(t.TL,t.DL).catch((t=>this.Ss(t)));break;default:this.Ss(new Qr(p_.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.NL))}},this.Z1=t=>{this.H1.ix.CL(((t,i)=>{switch(t){case"usable":lg.g_((()=>{this.J1=!0,this.Co(new Ax)}),100);break;case"expired":case"status-pending":default:break;case"output-restricted":case"internal-error":this.Co(new vx(i))}}))},this.K1=t=>{this.Ss(new Qr(p_.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},t.yn("TL",this.wx),t.yn("yL",this.Z1),t.yn("lt",this.K1),t.JC.then((()=>this.X1()),(t=>this.Ss(t)))}};r();var Mx=[t.DA,t.NA,t.fv],Tx=class extends i{get dm(){return this.fm}rj(){return this.t4.rj()}i4(t){return this.e4||(this.e4=this.s4(t)),this.e4}async s4(t){Pi(t);const i=await this.t4.Dj(new T(tM()),t);if(Pi(t),!this.mx)throw new b("Invalid MediaKeys when setting ServerCertificate");await this.mx.yx(i.buffer)}async n4(t){if(!this.mx)throw new b("Invalid MediaKeys when creating KeySession");try{this.r4.push(t);const i=await this.mx.vx("temporary"),e=new yx(i,this.t4,t);return this.h4.push(e),e.yn(Mx,this.Ds),e.yn("Ws",this.o4),e}finally{Et(this.r4,t)}}a4(t){if(t.u4)return!1;for(const i of this.h4)if(Nx(i.W1,t))return!0;for(const i of this.r4)if(Nx(i,t))return!0;return!1}async gn(){this.mx=void 0,this.Vo();const t=this.h4.slice();Ri(this.h4),await Promise.all(t.map((t=>t.Ws()))),this.t4.e_()}constructor(t,i,e){super(),this.h4=[],this.e4=void 0,this.r4=[],this.o4=t=>{t.session.fn(Mx,this.Ds),t.session.fn("Ws",this.o4),Et(this.h4,t.session)},this.fm=t,this.mx=i,this.t4=e}};function Nx(t,i){return!t.u4&&t.AL===i.AL&&ma(t.bL,i.bL)}var Dx=class extends i{get c4(){var t;return null==(t=this.fm)?void 0:t.dm}get VP(){return this.t4}set VP(t){this.t4=t}$n(t,i){this.DP=t,this.RH(i)}RH(t){this.$x=t,this.l4(this.aO.a_).catch(Mh)}async l4(t){if(!lg.Ys.d4||!await this.f4(t))return this.$x&&this.$x._4?await this.g4(t):void 0}async f4(t){var i,e;if(!(null==(i=this.$x)?void 0:i.kP))return!1;let s=!1;var n;for(const i of null!=(n=null==(e=this.$x)?void 0:e.kP)?n:[]){var r;for(const e of null!=(r=i.nP)?r:[])try{await this.w4(i.dm.AL,e,t),s=!0}catch(t){Ht(t)}if(s)return!0}return!1}async w4(t,i,e){if(Pi(e),!i.byteLength)return;if(!this.$x||!this.$x.kP.length)throw new Qr(p_.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(t!==xw&&t!==Hh&&t!==Ow)return void 0;const s=mv(t,i),n=this.$x.kP;let r;for(const i of n){Pi(e);const n=s[i.dm.vL];if(n&&i.dm.AL===t)try{const t=await this.A4(i,e);t.rj()&&await t.i4();const s=this.vP.W_,r={AL:i.dm.AL,bL:n,u4:s};if(this.v4(t,r)){const i=await t.n4(r);await i.ux()}return}catch(t){Ht(t),r=t}}throw await lg.zx()?new Qr(p_.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",r):new Qr(p_.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",r)}async g4(t){var i;const e=null==(i=this.$x)?void 0:i.kP;if(e)for(const i of e){Pi(t);try{const e=await this.A4(i,t);return void(e.rj()&&await e.i4())}catch(t){Ht(t)}}}v4(t,i){return lg.Ys.m4||this.vP.y4.bH||!t.a4(i)}A4(t,i){return this.GH.oO((i=>this.M4(t,i)),i)}async M4(i,e){if(Pi(e),!this.$x||!this.t4||!this.DP)throw new b("Not initialized");if(this.fm){if(this.fm.dm!==i.dm)throw new b("Internal key system error");return this.fm}const s=this.t4,n=At({},i,{iB:i.iB.map((t=>{var e;return At({},t,{persistentState:null!=(e=t.persistentState)?e:s.zj(i.dm),Rx:t.Rx||s.Rx(i.dm)})}))}),r=await this.DP.jH(n.dm,n.iB),h=s.sP(n),o=new Tx(n.dm,r,h);return o.yn([t.DA,t.NA,t.fv],this.Ds),this.fm=o,o}Ss(t){if(Oi(t))return;const i=t instanceof Qr?t:new Qr(p_.CONTENT_PROTECTION_ERROR,t.message,t);this.Co(new Pn(i))}async Zn(){this.DP=void 0,this.$x=void 0,this.aO.c_(),this.aO=new Ao,await this.T4()}async T4(){await this.GH.c_();const i=this.fm;i&&(i.fn(t.fv,this.Ds),this.fm=void 0,await i.gn())}async e_(){this.Vo(),this.vP.fn(Xy.LA,this.N4),await this.Zn(),await this.GH.gn()}constructor(t){super(),this.aO=new Ao,this.GH=new Vi,this.$x=void 0,this.t4=void 0,this.DP=void 0,this.fm=void 0,this.N4=t=>{this.w4(t.AL,t.bL,this.aO.a_).catch((t=>this.Ss(t)))},this.vP=t,this.vP.yn(Xy.LA,this.N4)}};r();r();var Ix=class extends Ag{constructor(i){super(t.BA),this.currentTime=i}};r();var Sx=class extends i{get vg(){return void 0!==this.D4?this.D4.vg:ov.tN}W$(){var t;null==(t=this.D4)||t.W$()}Zn(){var t;null==(t=this.D4)||t.Zn()}e_(){this.Vo(),void 0!==this.D4&&(this.D4.e_(),this.D4=void 0)}I4(t){if(this.D4===t)return;const i=this.vg;void 0!==this.D4&&this.D4.e_(),this.D4=t,void 0!==t&&(t.yn(Ho.Mw,this.Ds),t.W$());const e=this.vg;i!==e&&this.Co(new Vs(this.S4.j_,e))}constructor(t){super(),this.S4=t}},Ex=wn.Lb||wn.Cb,bx=wn.fL,Lx=wn.Fb,kx=wn.Fb&&wn.Ga,Cx=class extends i{E4(){this.TP.ended||this.j_===this.ct||(this.b4=!1)}get q$(){return this.L4}get b_(){return this.DP?this.DP.b_:Ki.lR()}get k_(){const t=this.IP;if(!t||j(t.getTime()))return;const i=1e3*this.j_;return new Date(t.getTime()+i)}get IP(){if(this.TP.getStartDate)return this.fR&&this.C4||(this.C4=this.TP.getStartDate()),this.C4}get j_(){return this.x4?this.x4.j_:void 0!==this.O4?this.O4:this.mO.currentTime}get Iu(){return this.Wu}get ct(){return this.x4?this.x4.ct:this.DP?this.DP.ct:this.mO.duration}get R_(){return this.Tg?this.j4():this.x4?this.x4.R_:this.mO.ended||this.b4}j4(){return void 0!==this.O4&&this.ct===this.O4}get lt(){return this.yP}get TP(){return this.mO}get hg(){return this.z4?this.P4:this.x4?this.x4.hg:this.mO.paused}get fg(){return this.Uo.HB(Ki.xn(this.mO.played))}get Ti(){return this.mO.offsetHeight*lg.Ys.B4}get ji(){return this.mO.offsetWidth*lg.Ys.B4}get ya(){return this.AR}get vg(){return this.R4.vg}get yg(){return this.DP?this.DP.yg:Ki.lR()}get Tg(){return this.x4?this.x4.Tg:this.fR}get Q$(){return this.x4?this.x4.Q$:this.F$}get J$(){return 0!==this.U4}get Z_(){return this.x4?this.x4.Z_:this.mO.muted}set Z_(t){this.x4?this.x4.Z_=t:(this.mO.muted=t,this.Q4())}get ag(){return this.x4?this.x4.ag:void 0!==this.F4?this.F4:this.mO.playbackRate}set ag(t){this.x4?this.x4.ag=t:this.hg||this.L4?(this.F4=t,this.Y4()):(this.F4=void 0,this.mO.playbackRate=t,this.Y4())}Y4(){const t=this.ag;this.G4!==t&&(this.G4=t,this.Co(new Jh(this.j_,t)))}get V4(){return this.xB}get xg(){return this.x4?this.x4.xg:this.mO.volume}set xg(t){this.x4?this.x4.xg=t:(this.mO.volume=t,this.Q4())}Q4(){const t=this.xg,i=this.Z_;this.W4===t&&this.H4===i||(this.W4=t,this.H4=i,this.Co(new Oe(this.j_,this.xg)))}X_(){return tL(this.mO)}Vg(){this.q4||(this.q4=!0);const t=this.X4();return this.Z4(),t}Z4(){this.z4?this.P4&&(this.P4=!1,this.Co(new fh(this.j_))):this.K4()}K4(){if(this.x4)this.x4.Vg();else{wn.Fb&&!wn.Ga&&this.mO.preload===tt.DB&&(this.mO.preload=tt.Mp);const t=this.ag,i=this.mO.play();t!==this.TP.playbackRate&&(this.ag=t),vu(i)?i.then(this.J4,this.t2):this.i2.t0()&&this.e2()}}Gg(){this.z4?this.P4||(this.P4=!0,this.Co(new ws(this.j_))):this.s2()}s2(){this.x4?this.x4.Gg():(this.mO.pause(),this.i2.Qn()),this.n2(new ia)}X4(){const t=new Eo;return this.h2.push(t),t.PL}o2(){for(const t of this.h2)t.jL(void 0);Ri(this.h2)}n2(t){for(const i of this.h2)i.zL(t);Ri(this.h2)}e2(){this.z4||this.x4||this.o2()}a2(t){this.z4||this.x4||this.n2(t)}Dp(t,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.x4?this.x4.Dp(t,i,e):(this.u2.c_(),this.u2=new Ao,this.c2=this.l2(t,i,e,this.c2,this.u2.a_).catch(xs))}mP(t){const i=this.IP;if(!i||j(i.getTime()))return;const e=(t.getTime()-i.getTime())/1e3;this.Dp(e)}async l2(i,e,s,n,r){try{for(this.O4=i,this.d2=i,this.f2=lg.f_(),s&&!this.fR?this.F$=!0:(this.fR=!0,this.F$=!1),this.b4&&!this.j4()&&(this.b4=!1),this.F$?this.Co(new Pk(this.j_)):this.Co(new Sa(i)),await n.catch(xs),Pi(r),this._2&&this.g2(),this.R4.vg===ov.tN&&await this.R4.D_(Ho.Mw,r);0===this.mO.seekable.length||kx&&!this.q4;)await Promise.race([ci(this.mO,"timeupdate",r),ye(100,r)]),Pi(r);let h=kk(this.b_,i,.05),o=this.yg,a=!0,u=!1;for(;;){if(o=this.yg,o.U>0&&!o.gr(h)&&(h=o.FB(h),a=!0),e&&!this.mO.fastSeek){const t=this.b_;if(!t.gr(h)){const i=kk(t,h,1);i!==h&&(h=i,a=!0)}}if(Lx){const t=this.w2();void 0!==t&&h>t&&(h=t,a=!0)}if(!u){const t=this.A2();void 0!==t&&h>t&&(u=!0,await this.m2(t,!1,r),await ci(this.mO,"seeked",r),Pi(r),a=!0)}if(a){a=!1,await this.m2(h,e,r),Pi(r);let t=this.j_;o=this.yg,h=o.FB(h);let i=1;for(;x.abs(h-t)>=kc;)o=this.yg,h=Ox(h,o,i),await this.m2(h,e,r),Pi(r),t=this.j_,i++}if(!(this.mO.seeking||this.R4.vg<ov.iN))break;await ru((i=>{var e;return Promise.race([ci(this.mO,"seeked",i),this.D_([t.VA,t.EA],i),this.R4.D_(Ho.Mw,i),null==(e=this.DP)?void 0:e.D_(pL.PU,i)].filter(j_))}),r),Pi(r)}this.M2()}catch(t){if(Oi(t))return;0}}async m2(i,e,s){Pi(s);let n=this.yg;if(i=n.FB(i),this._2){let e=!0;for(;e||this.R4.vg<ov.eN;)n=this.yg,n.gr(i)||(i=n.FB(i),e=!0),e?(e=!1,this.O4=i,this.T2(this.j_)):await ru((i=>Promise.race([this.D_(t.EA,i),this.R4.D_(Ho.Mw,i)])),s);Pi(s)}const r=ci(this.mO,"seeking",s);e&&this.mO.fastSeek?this.mO.fastSeek(i):this.mO.currentTime=i,this.O4=void 0,this.T2(this.j_),this.mO.seeking&&await r}w2(){if(!this.DP||!this.DP.tq)return;const t=this.DP.iq,i=this.DP.nq,e=t&&i?t.Sn(i):t||i;if(!e||0===e.U)return;const s=e.Cn(e.U-1),n=e.jn(e.U-1);return x.max(s,n-.001)}A2(){if(!this.DP||!this.DP.tq)return;const t=this.DP.nq;if(!t||0===t.U)return;const i=t.Cn(t.U-1);let e=t.jn(t.U-1)-.02;return e-=.001,x.max(i,e)}T2(t){this.d2!==t&&(this.d2=t,this.F$?this.Co(new Pk(t)):this.Co(new Sa(t)))}M2(){const t=this.F$;this.fR=!1,this.F$=!1,this.f2=0,this.d2=NaN,this._2&&this.N2(),t?(this.Co(new Ix(this.j_)),this.D2()):this.Co(new $s(this.j_))}g2(){this.z4||(this.P4=this.hg,this.z4=!0,this.s2())}N2(){this.z4&&(this.z4=!1,this.P4||this.Z4())}rq(t){for(const i of t){if(i.hA===wt.CO&&TL.rq(i,this.mO))return i;if(i.hA===wt.xO&&jk.rq(i))return i}}be(){this.xB=!1,me(this.mO)&&(this.mO.style.display="none")}ge(){this.xB=!0,me(this.mO)&&(this.mO.style.display="block")}get nt(){return this.I2}get Ol(){return this.MR}dE(t,i,e,s,n,r,h,o,a){const u=new Us(t,i,e,s,n,r,h,a,o);return this.Dl.tt(u),this.S2.tt(u),u}PP(){return!0}RP(t,i,e,s,n){const r=h.createElement("track");r.src=_a(t),r.kind=i,r.label=null!=e?e:"",s&&(r.srclang=s),r.default=!!n,r.id=$e(),this.mO.appendChild(r);const o=this.mO.textTracks.getTrackById(r.id),a=new ze(o,r);return this.E2.tt(a),this.b2.push(a),a}pE(t){this.Dl.it(t),this.S2.it(t)}QP(){for(const t of this.Dl.xw.slice())t.gn();this.Dl.Zn();for(const t of this.b2.slice())this.E2.it(t),t.gn();Ri(this.b2)}eB(){let t=this.mO.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.L2),t.addEventListener("removetrack",this.C2),t.addEventListener("change",this.O2))}GP(){let t=this.mO.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.L2),t.removeEventListener("removetrack",this.C2),t.removeEventListener("change",this.O2))}j2(t,i){if(wn.Fb){if(t.kind===oa.Mp)return void this.z2(t);if(t.kind===oa.fS&&""===t.label&&""===t.language&&!zx(t))return void this.P2(t,i)}jx(this.E2,t)||this.E2.tt(new ze(t,i))}z2(t){t.mode=go.sA;const i=new fx(t);this.E2.tt(i),this.S2.tt(i)}P2(t,i){const e=()=>{zx(t)&&(t.removeEventListener("cuechange",e),this.E2.tt(new ze(t,i)))};t.addEventListener("cuechange",e),t.mode=go.sA}B2(t){let i=this.mO.getElementsByTagName("track");for(let e=0;e<i.length;e++){let s=i[e]||i.item(e);if(s.track===t)return s}}$n(i){return this.R2.oO((async e=>{if(Pi(e),this.DP)throw new b("Already loaded a media source");let s;if(i.hA===wt.CO)s=new TL(i,this,this.UH,this.jx),this._2=!1,this.R4.I4(new Gk(this));else{if(i.hA!==wt.xO)throw new b("Unsupported configuration");{const e=this._2?new Vk(this):new Gk(this);s=new jk(i,this,e,this.UH,this.jx,void 0,this._$),this._2=Ex,this.R4.I4(e),bx&&(this.yn(t.ov,this.U2),this.R4.yn(Ho.Mw,this.Q2))}}return this.DP=s,await s.iW(),s}))}F2(){if(this.L4)return;const t=this.ag;this.L4=!0,this.ag=t,this.mO.playbackRate=0,this.R4&&this.R4.W$()}Y2(){if(!this.L4)return;const t=this.ag;this.L4=!1,this.ag=t,this.G2()}G2(){this.mO.currentTime=this.mO.currentTime,this.R4&&this.R4.W$()}async Zn(){this.fR=!1,this.F$=!1,lg.__(this.U4),this.U4=0,this.Uo=Ki.lR(),this.u2.c_(),this.O4=void 0,this.d2=NaN,this.C4=void 0,this._2=!1,this.z4=!1,this.yP=void 0,this.b4=!1,this.V2=void 0,this.W2=!1,this.q4=!1,this.H2&&(this.q2(),this.H2=!1),this.n2(new ia),this.R4.I4(new Gk(this)),this.i2.Zn(),this.E2.Zn(),this.Y2(),bx&&(Gs(this.X2),this.X2=0,this.fn(t.ov,this.U2)),await this.R2.c_(),await this.R2.oO((async()=>{this.DP&&(await this.DP.e_(),this.DP=void 0)}))}async e_(){this.H2=!1,this.Z2(),this.GP(),await this.Zn(),await this.R2.gn(),this.i2.e_(),this.R4.e_(),await this.UH.e_(),this.QP(),this.Dl.gn(),this.E2.gn(),await this.K2.gn(),this.J2.gn(),this.I2.gn(),this.Vo()}q2(){this.TP.addEventListener("play",this.t3),this.TP.addEventListener("pause",this.i3),this.TP.addEventListener("timeupdate",this.e3),this.TP.addEventListener("progress",this.s3),this.TP.addEventListener("loadstart",this.n3),this.TP.addEventListener("ended",this.r3),this.TP.addEventListener("ratechange",this.h3),this.TP.addEventListener("volumechange",this.o3),this.TP.addEventListener("durationchange",this.a3),this.TP.addEventListener("resize",this.u3),this.TP.addEventListener("loadedmetadata",this.u3),this.TP.addEventListener("error",this.l3),this.TP.addEventListener("emptied",this.d3),wN()?(this.mO.addEventListener("encrypted",this.f3),this.mO.addEventListener("waitingforkey",this._3)):void 0!==Ys.WebKitMediaKeys&&"function"==typeof Ys.WebKitMediaKeys.isTypeSupported?this.mO.addEventListener("webkitneedkey",this.g3):AN()?this.mO.addEventListener("webkitneedkey",this.w3):void 0!==Ys.MSMediaKeys&&"function"==typeof Ys.MSMediaKeys.isTypeSupported&&this.mO.addEventListener("msneedkey",this.A3)}Z2(){this.TP.removeEventListener("play",this.t3),this.TP.removeEventListener("pause",this.i3),this.TP.removeEventListener("timeupdate",this.e3),this.TP.removeEventListener("progress",this.s3),this.TP.removeEventListener("loadstart",this.n3),this.TP.removeEventListener("ended",this.r3),this.TP.removeEventListener("ratechange",this.h3),this.TP.removeEventListener("volumechange",this.o3),this.TP.removeEventListener("durationchange",this.a3),this.TP.removeEventListener("resize",this.u3),this.TP.removeEventListener("loadedmetadata",this.u3),this.TP.removeEventListener("error",this.l3),this.TP.removeEventListener("encrypted",this.f3),this.TP.removeEventListener("waitingforkey",this._3),this.TP.removeEventListener("webkitneedkey",this.g3),this.TP.removeEventListener("webkitneedkey",this.w3),this.TP.removeEventListener("msneedkey",this.A3),this.TP.removeEventListener("emptied",this.d3)}v3(){this.x4||(this.Uo=this.fg,this.x4=Uk(this),this.Z2(),this.x4.yn(Bk,this.Ds))}m3(){if(!this.x4)return;const t=this.x4;this.x4=void 0,this.R4.W$(),Qk(this,t),t.e_(),this.q2()}D2(){const t=this.j_;this.Co(new jc(t,void 0)),this.V2=t}uB(t){this.yP=t,this.n2(this.yP),this.Co(new Xk(this.yP))}get W_(){return!!this.mO.webkitCurrentPlaybackTargetIsWireless}get y3(){return this.M3}get y4(){return At({},vL)}T3(){this.y3||(gj(this.mO,lg.Ys),this.M3=!0)}N3(t){t.appendChild(this.mO)}mJ(){bx&&this.U2(),this.R4.W$()}get VP(){return this.UH.VP}set VP(t){this.UH.VP=t}get D3(){return this._$}set D3(t){this._$=t}get c4(){return this.UH.c4}Zg(){this.UH.T4().catch(xs),this.E2.Zn()}get Bg(){return this.W2}set Bg(t){this.W2=t,this.H2&&!this.W2&&(this.H2=!1,this.q2())}constructor(i,e,s,n){super(),this.yP=void 0,this.xB=!0,this.DP=void 0,this.R2=new Vi,this.x4=void 0,this.AR=new $o,this.b2=[],this.O4=void 0,this.f2=0,this.d2=NaN,this.C4=void 0,this.V2=void 0,this.fR=!1,this.F$=!1,this.I3=ov.tN,this.U4=0,this.c2=Promise.resolve(),this.u2=new Ao,this.h2=[],this.Uo=Ki.lR(),this.F4=void 0,this.G4=1,this.H4=!1,this.W4=1,this.b4=!1,this.W2=!1,this.H2=!1,this._2=!1,this.z4=!1,this.P4=!1,this.L4=!1,this.M3=!1,this.X2=0,this.q4=!1,this.L2=t=>{const i=t.track,e=this.B2(i);this.j2(i,e)},this.C2=t=>{const i=jx(this.E2,t.track);i&&this.E2.it(i)},this.O2=()=>{for(let t=0;t<this.E2.U;t++){let i=this.E2.jw(t);i instanceof ze&&i.Z0()}},this.U2=()=>{if(void 0===this.DP||!mL(this.DP))return;const t=this.DP,i=t.g$,e=t.w$;if(!i||!e)return;if(t.tq)return void this.Y2();if(t.vg===kn.cJ)return;const s=i.b_,n=e.b_;if(0===s.U&&0===n.U)return void this.Y2();const r=this.j_;if(r<s.Cn(0)||r<n.Cn(0))return void this.Y2();if(s.gr(r)!==n.gr(r)){if(t.QH(r))return;this.F2()}else if(this.Y2(),!this.X2&&this.i2.t0()){s.qB(n).$B(r,r+.5)&&(this.X2=ds(this.S3))}},this.S3=()=>{this.X2=0,this.U2()},this.Q2=()=>{if(this.Tg||this.Q$)return;if(this.R4.vg>=ov.eN)return;if(void 0===this.DP||!mL(this.DP))return;const t=this.DP,i=t.g$,e=t.w$;if(!i||!e)return;const s=this.j_,n=i.b_,r=e.b_;if(!n.gr(s)||!r.gr(s))return;n.qB(r).$B(s-5,s)&&(this.L4?this.Y2():this.G2())},this.t3=()=>{this.Co(new fh(this.j_))},this.i3=()=>{this.a2(new ia),this.Co(new ws(this.j_))},this.E3=()=>{this.e2(),this.Co(new Lr(this.j_))},this.h3=()=>{this.Y4()},this.a3=()=>{this.Co(new Tn(this.ct))},this.s3=()=>{this.Co(new $(this.j_))},this.n3=()=>{this.Co(new he)},this.e3=()=>{const t=this.j_,i=this.Tg,e=this.R4.vg<ov.eN&&!this.R_,s=void 0!==this.V2,n=s&&this.V2!==t;(i||!s||n&&!e)&&this.D2()},this.r3=()=>{!this.b4&&this.R_&&(this.b4=!0,this.Co(new ys(this.j_)))},this.l3=()=>{if(null!==this.mO.error){const i=this.mO.error;var t;this.uB(new uc(null!=(t=i.code)?t:Bt.DECODE,i.message||"Error decoding media",void 0,i.msExtendedCode))}},this.d3=()=>{this.W2&&(this.Z2(),this.H2=!0)},this.b3=t=>{if(lg.__(this.U4),this.U4=0,t.readyState<=ov.iN)if(this.fR||this.F$){const i=lg.f_()-this.f2;if(i<250)return void(this.U4=lg.g_((()=>this.b3(t)),250-i))}else if(void 0!==this.DP&&this.DP.QH(this.j_))return void(this.U4=lg.g_((()=>this.b3(t)),250));this.I3!==t.readyState&&(this.I3=t.readyState,this.Co(t))},this.o3=()=>{this.Q4()},this.u3=()=>{this.Lg>0&&this.Ig>0&&this.Co(new qu)},this.f3=t=>{this.Co(new zs(t.initDataType,t.initData||new ArrayBuffer(0)))},this._3=()=>{this.Co(new $y)},this.A3=t=>{const i=t.initData,e=i?Ae(i).buffer:new ArrayBuffer(0);this.Co(new zs(xw,e))},this.g3=t=>{if(t.initData){const i=function(t){try{const i=Mo(t),e=new Or,s=Mc(i,e,Cn(i,e,!0));return wa(QA(s,!0))}catch(t){return}}(t.initData);if(!i)return;this.Co(new zs(Hh,i))}else this.Co(new zs(Hh,new ArrayBuffer(0)))},this.w3=t=>{const i=t.initData,e=i?Ae(i).buffer:new ArrayBuffer(0);this.Co(new zs(xw,e))},this.J4=()=>{this.e2()},this.t2=t=>{this.a2(t)},this.L3=i=>{this.Co(i),i.type===t.NA&&this.uB(ne(i.errorObject))},this.mO=i,this.jx=e,this.Wu=s,this.MR=n,this.R4=new Sx(this),this.R4.yn(Ho.Mw,this.b3),this.R4.I4(new Gk(this)),this.i2=new qk(this),this.i2.yn(Ho.Tv,this.E3),this.UH=new Dx(this),this.UH.yn([t.DA,t.NA,t.fv],this.L3),this.Dl=new tn,this.E2=new tn,this.J2=new dh([this.Dl,this.E2]),this.K2=new _x(this,this.J2),this.I2=new dh([this.J2,this.K2.Z]),this.S2=new Ju(this),this.q2(),this.eB()}};var xx=.01;function Ox(t,i,e){if(void 0===e&&(e=0),!i.U)return 0;let s=i.FB(t);const n=xx*e;return s===i.Cn(0)?s+=n:s===i.jn(i.U-1)&&(s-=n),s}function jx(t,i){for(let e of t.xw)if(e.SN===i)return e}function zx(t){return!!t.cues&&t.cues.length>0}r();var Px={_H:void 0,gH:void 0,wH:void 0,AH:void 0,vH:void 0,mH:void 0,NH:void 0,pH:void 0,yH:void 0,MH:void 0,TH:void 0},Bx=class extends i{get va(){return this.Xa||(this.Xa=fL(this)),this.Xa}get _H(){}get gH(){}get wH(){}get AH(){}get vH(){}get mH(){}get NH(){}get pH(){}get yH(){}get MH(){}get TH(){}constructor(...t){super(...t),this.Xa=void 0}},Rx=class extends Cx{Ug(){}get Ig(){return 0}get Lg(){return 0}constructor(t,i,e){super(t,i,e,new Bx)}};r(),r();var Ux=class{get we(){return this.C3}be(){this.C3.style.display="none"}ge(){this.C3.style.display="block"}N3(t){t.appendChild(this.C3)}gn(){ei(this.C3)}constructor(t=5){let i=Ys.document.createElement("div");i.className="theoplayer-texttracks",i.style.position="absolute",i.style.display="none",i.style.overflow="hidden",i.style.pointerEvents="none",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.width="100%",i.style.height="100%",i.style.lineHeight="1.3em",i.style.zIndex=""+t,this.C3=i,this.ge()}};function Qx(t,i){return At({},i,Eg(function(t){return{_H:t._H,gH:t.gH,wH:t.wH,AH:t.AH,vH:t.vH,mH:t.mH,NH:t.NH,pH:t.pH,yH:t.yH,MH:t.MH,TH:t.TH}}(t)))}function Fx(t){return t.wH&&Ph(t.wH,"%")?Number(t.wH.replace("%",""))/100:t.wH&&Ph(t.wH,"em")?Number(t.wH.replace("em","")):1}r(),r(),r(),r();var Yx,D,Gx=class{x3(t){const i=this.O3(t);if(!i)return!1;for(const t of i)ei(t);return this.j3(t),!0}get Lt(){return this.HN}get TP(){return this.mO}get Iu(){return this.Wu}get z3(){return this.P3}get B3(){return this.R3}iW(){this.U3(),this.HN.L.xw.forEach((t=>this.vE(t))),this.Iu.yn(Zr.pn,this.Q3),this.F3(this.Iu.ku,this.Iu._u)}Y3(t){this.R3=t,this.P3=Qx(this.R3,this.G3),this.P3._H&&(this.TP.style.fontFamily=this.P3._H),this.P3.NH&&(this.TP.style.visibility=this.P3.NH),this.F3(this.Iu.ku,this.Iu._u),this.V3(!0)}W3(){return this.P3}H3(t){return this.q3.has(t.Vw)}U3(){this.HN.yn(Os.aw,this.X3),this.HN.yn(Os.cw,this.Z3),this.HN.yn(Os.ra,this.K3)}J3(){this.HN.fn(Os.aw,this.X3),this.HN.fn(Os.cw,this.Z3),this.HN.fn(Os.ra,this.K3)}t5(t){t.yn(Cl.xN,this.i5),t.yn(Cl.ON,this.e5),t.yn(Cl.Iw,this.s5)}n5(t){t.fn(Cl.xN,this.i5),t.fn(Cl.ON,this.e5),t.fn(Cl.Iw,this.s5)}vE(t){this.t5(t),t.ro&&this.r5(t)}DS(t){this.n5(t),this.h5(t)}o5(){this.HN.eA===go.Xn?this.a5():this.u5()}a5(){if(!this.c5)return;this.c5=!1;const t=this.Iu.ku,i=this.Iu._u;this.F3(t,i),this.V3(!1)}u5(){this.c5||(this.c5=!0,this.V3(!0))}r5(t){this.c5||t.ro&&!this.H3(t)&&this.V3(!1)}h5(t){this.H3(t)&&this.V3(!0)}l5(t){(t.ro||this.H3(t))&&this.V3(!0)}V3(t){const i=this.d5,e=this.c5?[]:this.HN.q.xw.slice();this.f5(e,i,t),this.d5=e}O3(t){return this.q3.get(t.Vw)}_5(t,i){this.q3.set(t.Vw,i)}j3(t){this.q3.delete(t.Vw)}g5(){return this.d5.slice()}gn(){ei(this.TP),this.q3.clear(),this.J3(),this.HN.L.xw.forEach((t=>this.n5(t))),this.Iu.fn(Zr.pn,this.Q3)}constructor(t,i,e,s,n){this.q3=_e(),this.c5=!0,this.R3=At({},Px),this.d5=[],this.X3=t=>this.vE(t.jN),this.Z3=t=>this.DS(t.jN),this.K3=()=>this.o5(),this.i5=t=>this.r5(t.jN),this.e5=t=>this.h5(t.jN),this.s5=t=>this.l5(t.jN),this.Q3=t=>{this.F3(t.width,t.height)},this.HN=t,this.G3=this.P3=n,this.mO=this.w5(e),this.Wu=s,i.appendChild(this.mO)}};function Vx(t,i){return t?{A5:t.A5,v5:t.v5,m5:t.m5,Ml:i}:null}function Wx(t){const i=t?t.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i):null;return i?{A5:C(i[1],16),v5:C(i[2],16),m5:C(i[3],16)}:null}function Hx(t){return("0"+t.toString(16)).slice(-2)}function qx(t){return"#"+Hx(t.A5)+Hx(t.v5)+Hx(t.m5)}function Xx(t){const i=t?t.match(/^rgba\(([0-9]+),\s*([0-9]+),\s*([0-9]+),\s*([0-9.]+)\)$/i):null;return i?{A5:C(i[1],10),v5:C(i[2],10),m5:C(i[3],10),Ml:S(i[4])}:null}function Zx(t,i){return function(t){return t?"rgba("+t.A5+", "+t.v5+", "+t.m5+", "+t.Ml+")":void 0}(Vx(Wx(t),i/100))}function Kx(t){return Jx[t||"none"]}r(),function(t){t.qc='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.Wc='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.Gc='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.Xc='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(Yx||(Yx={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(D||(D={}));var Jx={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},$x=hg({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif"}),tO={gH:D.WHITE,_H:"Arial, Helvetica, Sans-Serif",wH:"100%",AH:D.TRANSPARENT,vH:D.TRANSPARENT,mH:"none",NH:"visible",pH:void 0,yH:void 0,MH:void 0,TH:void 0},iO=class extends Gx{w5(t){let i=h.createElement("div");i.className="theoplayer-ttml-texttrack-"+t;const e=i.style;return e.position="absolute",JN(e,"flex"),e.overflow="hidden",e.pointerEvents="none",e.top="0",e.left="0",e.width="100%",e.height="100%",i}F3(t,i){let e=x.min(t,i)/15;this.TP.style.fontSize=e+"px"}f5(t,i,e){for(const t of i)!e&&t.ro||this.x3(t);for(const i of t)this.p5(i)}p5(t){let i=this.O3(t);i||(i=this.y5(t),this._5(t,i));for(const t of i)this.TP.appendChild(t)}y5(t){let i=[],e=t.RI,s=t.xI,n=t.O;if(0===_.keys(s).length){const s=h.createElement("div");lO(s),eO(n,e,t.FI,s,s),s.firstChild&&i.push(s)}else for(let r of _.keys(s)){let o=h.createElement("div");o.id=r,lO(o),rO(o,"region",s[r],e),eO(n,e,t.FI,o,o),o.firstChild&&i.push(o)}return i}Y3(t){!function(t,i){var e,s;t.style.marginTop=(null!=(e=i.pH)?e:0)+"px",t.style.marginBottom=(null!=(s=i.yH)?s:0)+"px",t.style.height="calc(100% - "+t.style.marginTop+" - "+t.style.marginBottom+")"}(this.TP,t),wL(this.TP,t)}constructor(t,i,e,s){super(t,i,e,s,tO)}};function eO(t,i,e,s,n){if(ps(t)&&function(t){return"SPAN"===t.hS.toUpperCase()||"P"===t.hS.toUpperCase()||"BR"===t.hS.toUpperCase()||"DIV"===t.hS.toUpperCase()||"BODY"===t.hS.toUpperCase()}(t)){let r=sO(t);if(!r||(null==n?void 0:n.id)===r){let r;if("BODY"===t.hS.toUpperCase())r=n;else{if(r=function(t){let i;switch(t.hS.toUpperCase()){case"BR":i=h.createElement("br");break;case"SPAN":i=h.createElement("span"),nO(i,t);break;case"P":i=h.createElement("p"),function(t){const i=t.style;i.fontFamily="inherit",i.color="inherit",i.textAlign="inherit",i.padding="0",i.margin="0",i.lineHeight="inherit"}(i),nO(i,t);break;case"DIV":i=h.createElement("div"),nO(i,t)}return i}(t),!r)return;s.appendChild(r)}!function(t,i,e,s){let n=i.cS("style");aO(t,i.hS,n,e,s),function(t,i,e){for(const s of i.rS)uO(t,i.hS,s.hS,s.ST,e)}(t,i,s)}(r,t,i,n),function(t,i,e){let s=null==i?void 0:i.cS("smpte:backgroundImage");if(s){s=s.replace("#","");let n=e&&hO(e,(t=>t.rS.some((t=>"id"===t.hS&&t.ST===s))));n&&oO(t,n,i,!0)}!function(t,i){const[e]=i.m;if(!e||"metadata"!==e.hS.toLowerCase())return;const[s]=e.m;oO(t,s,i)}(t,i)}(r,t,e);for(const s of t.lS)eO(s,i,e,r,n)}}else if(bp(t)){const i=h.createTextNode(t.Cp);s.appendChild(i)}}function sO(t){const i=t.cS("region");if("p"===t.hS.toLowerCase())return i;const e=[];for(const i of t.m)e.push(sO(i));return sg(e),0===e.length?i:1===e.length?null!=(s=e[0])?s:i:void 0;var s}function nO(t,i){let e=i.uS(Pp,"id");e&&(t.id=e)}function rO(t,i,e,s){aO(t,i,e.style,s,t);for(const s of _.keys(e))uO(t,i,s,e[s],t)}function hO(t,i){if(i(t))return t;for(let e of t.m){const t=hO(e,i);if(t)return t}return null}function oO(t,i,e,s){void 0===s&&(s=!1),s&&(t.style.width=t.style.height="100%");const n=h.createElement("img");n.src=function(t){const i=t&&t.lS.length>0?t.lS[0]:null;return i&&bp(i)?"data:image/png;base64,"+i.Cp:""}(i),n.id=t.id,n.style.height="100%",n.style.maxWidth="100%",function(t,i){const e=t.style;JN(e,"flex");let s=i.cS("smpte:backgroundImageVertical");if(s)switch(s.toLowerCase()){case"left":e.alignItems="flex-start";break;case"center":e.alignItems="center";break;case"right":e.alignItems="flex-end";break;case"inherit":e.alignItems="inherit"}else e.alignItems="center";let n=i.cS("smpte:backgroundImageHorizontal");if(n)switch(n.toLowerCase()){case"left":e.justifyContent="flex-start";break;case"center":e.justifyContent="center";break;case"right":e.justifyContent="flex-end";break;case"inherit":e.justifyContent="inherit"}else e.justifyContent="center"}(t,e),t.appendChild(n)}function aO(t,i,e,s,n){if(e)for(const r of e.split(" "))if(s[r])for(const e of _.keys(s[r]))"style"===e.toLowerCase()?aO(t,i,s[r][e],s,n):uO(t,i,e,s[r][e],n)}function uO(t,i,e,s,n){const r=t.style;switch(e){case"backgroundColor":r.backgroundColor=s;break;case"color":r.color=s;break;case"direction":r.direction=s;break;case"display":"none"===s&&(r.display="none");break;case"fontFamily":{const t=$x.get(s);r.fontFamily=t||s;break}case"fontSize":Ph(s,"px")?s=C(s)/24+"em":Ph(s,"c")&&(s=s.replace("c","em")),r.fontSize=s;break;case"fontStyle":r.fontStyle=s;break;case"fontWeight":r.fontWeight=s;break;case"lineHeight":r.lineHeight=s;break;case"opacity":r.opacity=s;break;case"overflow":r.overflow=s;break;case"padding":r.padding=s;break;case"textAlign":"right"===s?(r.textAlign="right",r.justifyContent="flex-end"):"start"===s?(r.textAlign="start",r.justifyContent="flex-start"):"center"===s?(r.textAlign="center",r.justifyContent="center"):"end"===s?(r.textAlign="end",r.justifyContent="flex-end"):"left"===s&&(r.textAlign="left",r.justifyContent="flex-start");break;case"textDecoration":{let t=s;t=t.replace("lineThrough","line-through"),t=t.replace("noUnderline","none"),t=t.replace("noLineThrough","none"),t=t.replace("noOverline","none"),r.textDecoration=t;break}case"unicodeBidi":r.unicodeBidi=s.replace("bidiOverride","bidi-override");break;case"visibility":r.visibility=s;break;case"zIndex":r.zIndex=s;break;case"displayAlign":{let t;if("before"===s.toLowerCase())t="flex-start";else if("center"===s.toLowerCase())t="center";else{if("after"!==s.toLowerCase())return;t="flex-end"}r.alignItems=t;break}case"extent":{const e=cO(i.toLowerCase())?n:t;let r,h,o=s.split(" ");o.length>=2?(r=o[0],h=o[1]):r=h="100%",e&&(e.style.height=h,e.style.width=r);break}case"origin":{const e=cO(i.toLowerCase())?n:t,[r,h]=s.split(" ");e&&(r||h)&&(r&&(e.style.left=r),h&&(e.style.top=h));break}case"showBackground":case"textOutline":break;case"wrapOption":r.whiteSpace=s.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":{let t,i,e,n;switch(s){case"lrtb":case"lr":t="horizontal-tb";break;case"rltb":t="horizontal-tb",i="rtl",n="bidi-override";break;case"tbrl":case"tb":t="vertical-rl",e="upright";break;case"tblr":t="vertical-lr",e="upright";break;case"rl":t="horizontal-tb",i="rtl";break;default:return}r.writingMode=t,r.setProperty("-webkit-writing-mode",t),i&&(r.direction=i),e&&(r.textOrientation=e,r.setProperty("-webkit-text-orientation",e)),n&&(r.unicodeBidi=n);break}case"linePadding":if(Ph(s,"c")){let t=s.replace("c","em");r.paddingLeft=r.paddingRight=t}break;case"multiRowAlign":"auto"===s.toLowerCase()?r.textAlign="":r.textAlign=s}}function cO(t){return"div"===t||"p"===t||"span"===t}function lO(t){const i=t.style;JN(i,"flex"),i.top="auto",i.left="5%",i.width="90%",i.height="100%",i.maxHeight="100%",i.maxWidth="100%",i.alignItems="flex-start",i.overflow="visible",i.position="absolute",i.fontFamily="Arial, Helvetica, Sans-Serif",i.color="white",i.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",i.textAlign="start",i.writingMode="horizontal-tb",i.setProperty("-webkit-writing-mode","horizontal-tb"),i.padding="0",i.margin="0",i.lineHeight="1.3em"}r(),r();var dO,fO,_O=void 0;function gO(t){return _O||(_O=Ys.document.createElement("textarea")),_O.innerHTML=t,_O.value}function wO(t,i){let e="Data",s="",n=[],r=t.charAt(i.Ku),h="",o={hA:"starttag",Jj:"",M5:[]};for(;i.Ku<t.length+1;){switch(r=i.Ku<t.length?t.charAt(i.Ku):"EOF",e){case"Data":switch(r){case"&":let n=t.substring(i.Ku).match(/&#?[0-9a-zA-Z]+;/);n?(s+=gO(n[0]),i.Np(n[0].length-1)):s+="&";break;case"<":if(s)return{hA:"string",O:s};e="Tag";break;case"EOF":return{hA:"string",O:s};default:s+=r}break;case"Tag":switch(r){case"\t":case"\n":case"\f":case" ":e="StartTagAnnotation";break;case".":e="StartTagClass";break;case"/":e="EndTag";break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":s=r,e="TimestampTag";break;case">":return i.Np(1),o;case"EOF":return o;default:s=r,e="StartTag"}break;case"StartTag":switch(r){case"\t":case"\f":case" ":e="StartTagAnnotation";break;case"\n":h=r,e="StartTagAnnotation";break;case".":e="StartTagClass";break;case">":return i.Np(1),{hA:"starttag",Jj:s,M5:[]};case"EOF":return{hA:"starttag",Jj:s,M5:[]};default:s+=r}break;case"StartTagClass":switch(r){case"\t":case"\f":case" ":n.push(h),h="",e="StartTagAnnotation";break;case"\n":n.push(h),h=r,e="StartTagAnnotation";break;case".":n.push(h),h="";break;case">":return i.Np(1),n.push(h),{hA:"starttag",Jj:s,M5:n};case"EOF":return n.push(h),{hA:"starttag",Jj:s,M5:n};default:h+=r}break;case"StartTagAnnotation":switch(r){case"&":e="CharRefInAnnotation";break;case">":i.Np(1);let t=h.trim();return t=t.replace(/\s/," "),{hA:"starttag",Jj:s,M5:n,T5:t};default:h+=r}break;case"CharRefInAnnotation":let a="";for(let e=i.Ku;">"===t.charAt(e);e++)a+=t.charAt(e);h+=a||"&",e="StartTagAnnotation";break;case"EndTag":switch(r){case">":return i.Np(1),{hA:"endtag",Jj:s};case"EOF":return{hA:"endtag",Jj:s};default:s+=r}break;case"TimestampTag":switch(r){case">":return i.Np(1),{hA:"timestamp",N5:s};case"EOF":return{hA:"timestamp",N5:s};default:s+=r}}i.Np(1)}return o}function AO(t){let i;if(t.getBoundingClientRect&&t.parentNode&&(i=t.getBoundingClientRect()),!i)return{left:0,top:0};const e=h.documentElement,n=h.body,r=e.clientLeft||n.clientLeft||0,o=s.pageXOffset||n.scrollLeft,a=i.left+o-r,u=e.clientTop||n.clientTop||0,c=s.pageYOffset||n.scrollTop,l=i.top+c-u;return{left:x.round(a),top:x.round(l)}}function vO(t,i,e,s){if(void 0===s&&(s=0),!t||!i)return;t.style.left="0px";let n=t.getClientRects(),r=i.getClientRects();if(0===n.length||0===r.length)return;let h=n[0],o=r[0],a=h.width/2+h.left;mO(t,o.width/2+o.left-a,e,s)}function mO(t,i,e,s){void 0===s&&(s=0),yO(t,i,"left","right",e,s)}function pO(t,i,e,s){void 0===s&&(s=0),yO(t,i,"top","bottom",e,s)}function yO(t,i,e,s,n,r){void 0===r&&(r=0);const h=t.getClientRects();if(n&&h.length>0){const t=h[0];i=Sc(i,n[e]+r-t[e],n[s]-r-t[s])}t.style[e]=i+"px"}function $r(t,i){void 0===t.textContent?t.innerText=i:t.textContent=i}!function(t){t.D5="Data",t.I5="Tag",t.S5="StartTag",t.E5="StartTagClass",t.b5="StartTagAnnotation",t.L5="CharRefInAnnotation",t.k5="EndTag",t.C5="TimestampTag"}(dO||(dO={})),function(t){t.x5="string",t.O5="starttag",t.j5="endtag",t.z5="timestamp"}(fO||(fO={})),r(),r();var MO=class t{get P5(){return this.B5+this.ji}set P5(t){this.B5=t-this.ji}get R5(){return this.U5+this.Ti}set R5(t){this.U5=t-this.Ti}Q5(t){return this.B5<t.P5&&this.P5>t.B5&&this.U5<t.R5&&this.R5>t.U5}yN(t){return this.B5<=t.B5&&t.P5<=this.P5&&this.U5<=t.U5&&t.R5<=this.R5}Ip(){return new t(this.B5,this.U5,this.ji,this.Ti)}F5(i){const e=this.B5+i,s=this.U5+i,n=x.max(0,this.ji-2*i),r=x.max(0,this.Ti-2*i);return new t(e,s,n,r)}constructor(t,i,e,s){this.B5=t,this.U5=i,this.ji=e,this.Ti=s}},TO={gH:D.WHITE,_H:"sans-serif",wH:"100%",AH:"rgba(0,0,0,0.8)",vH:D.TRANSPARENT,mH:"none",NH:"visible",pH:void 0,yH:void 0,MH:void 0,TH:void 0},NO="theoplayer-webvtt-region-",DO="theoplayer-webvtt-styling-",IO="theoplayer-webvtt-default-style",SO=5.23,EO=1.14,bO=class extends Gx{w5(t){let i=h.createElement("div");i.className="theoplayer-webvtt-texttrack-"+t,ta(i),i.style.overflow="hidden",i.style.pointerEvents="none";const e=this.z3._H;return e&&(i.style.fontFamily=e),i.style.whiteSpace="pre-line",function(){if(h.getElementById(IO))return;const t=[];for(const[i,e]of GO)t.push("."+DO+i+" { color: "+e+" !important; }"),t.push("."+DO+"Y5"+i+" { background-color: "+e+" !important; }"),t.push("video::cue(."+i+") { color: "+e+"; }"),t.push("G5"+i+") { background-color: "+e+"; }");const i=h.createElement("style");i.id=IO,i.innerHTML=t.join("\n"),h.body.appendChild(i)}(),i}iW(){this.TP.appendChild(this.V5),super.iW()}F3(t,i){const e=x.min(t/100,i/100),s=Fx(this.z3);this.W5.forEach((t=>{let{FN:i,H5:n}=t;this.q5(n,e,s,i)})),this.q5(this.V5,e,s)}Y3(t){wL(this.TP,t),super.Y3(t)}f5(t,i,e){const s=this.TP,n=this.Iu._u/100;let r=[];for(const i of t)void 0!==i.FN&&(ea(r,i.FN)||r.push(i.FN));this.W5.forEach(((t,i)=>{let{FN:s,H5:n}=t;!e&&ea(r,s)||(ei(n),this.W5.delete(i))}));for(const t of i)!e&&t.ro||this.x3(t);let h=[];const o=RO(this.V5.getBoundingClientRect());h.push(...this.X5(o));for(const t of r){let i;this.W5.has(t.o)?i=this.W5.get(t.o).H5:(i=zO(t,n),s.appendChild(i),this.W5.set(t.o,{FN:t,H5:i})),h.push(RO(i.getBoundingClientRect()))}t.sort(VO);for(const i of t){const t=this.p5(i,h,o);void 0!==t&&h.push(t.F5(.1))}}X5(t){const i=[],e=this.z3;if(void 0!==e.pH){const s=t.Ip();s.Ti=e.pH,i.push(s)}if(void 0!==e.yH){const s=t.Ip();s.Ti=e.yH,s.R5=t.R5,i.push(s)}return i}p5(t,i,e){var s;let n;t.FN?(n=this.W5.get(t.FN.o).H5,"up"===t.FN.hD&&n.children.length>=1&&(n.style.transitionProperty="top",n.style.transitionDuration="0.433s")):n=this.V5;let r=null==(s=this.O3(t))?void 0:s[0];if(r||(r=this.Z5(t),this._5(t,[r])),n.appendChild(r),t.FN||(LO(r,t),t.YN?function(t,i,e,s){const n=PO(t),r=n?e.Ti:e.ji;let h=S(getComputedStyle(i).lineHeight);if(0===h||j(h))return;let o=RO(i.getBoundingClientRect()),a=x.round(qs(t));"rl"===t.Pt&&(a=-(a+1));let u=h*a;"rl"===t.Pt&&(u=u-o.ji+h);a<0&&(u+=r,h=-h);n?o.U5+=u:o.B5+=u;const c=o.Ip();let l=!1;for(;!e.yN(o)||BO(o,s);)if(n)if(h<0&&o.U5<e.U5||h>0&&o.R5>e.R5){if(o.U5=c.U5,l)break;h=-h,l=!0}else o.U5+=h;else if(h<0&&o.B5<e.B5||h>0&&o.P5>e.P5){if(o.B5=c.B5,l)break;h=-h,l=!0}else o.B5+=h;n?i.style.top=(o.U5-e.U5)/e.Ti*100+"%":i.style.left=(o.B5-e.B5)/e.ji*100+"%"}(t,r,e,i):function(t,i,e,s){let n=RO(i.getBoundingClientRect());if(0===n.ji||0===n.Ti)return;PO(t)?"center"===t.UN?n.U5-=n.Ti/2:"end"===t.UN&&(n.U5-=n.Ti):"center"===t.UN?n.B5-=n.ji/2:"end"===t.UN&&(n.B5-=n.ji);let r,h=n.Ip(),o=h,a=1,u=!1;r=""===t.Pt?[2,3,0,1]:"lr"===t.Pt?[0,1,2,3]:[1,0,2,3];const c=4,l=S(getComputedStyle(i).lineHeight)/c;if(!j(l)&&l>0){for(let t=0;t<r.length&&!u;t++){for(;!QO(n,e,r[t],.01)&&(!e.yN(n)||BO(n,s));)UO(n,r[t],l);if(e.yN(n)){o=n.Ip(),u=!0;break}let i=FO(n,e);a>i&&(o=n.Ip(),a=i),n=h.Ip()}e.yN(n)||(o=h.Ip())}i.style.left=(o.B5-e.B5)/e.ji*100+"%",i.style.top=(o.U5-e.U5)/e.Ti*100+"%"}(t,r,e,i)),!t.FN)return RO(r.getBoundingClientRect())}Z5(t){let i=new Or,e=t.O,s=this.K5(t),n={J5:void 0,we:s},r=n,o="",a="",u=[n],c=[],l=[];for(;i.Ku<e.length;){let t=wO(e,i);if(t.hA===fO.x5){const i=h.createElement("span");$r(i,t.O),kO(i,u),""!==o&&(i.lang=o),this.t6(i,a),r.we.appendChild(i)}else if(t.hA===fO.O5){const i=t.Jj.toLowerCase();switch(i){case"i":case"b":case"u":case"ruby":{let e=h.createElement(i);r.we.appendChild(e),r={J5:t,we:e},u.push(r);break}case"rt":var d;if("ruby"===(null==(d=r.J5)?void 0:d.Jj.toLowerCase())){let i=h.createElement("rt");r.we.appendChild(i),r={J5:t,we:i},u.push(r)}break;case"c":case"v":r={J5:t,we:r.we},u.push(r);break;case"font":{var f;const i=null==(f=t.T5)?void 0:f.match(/(?:^| )color=["']([^"']+)/i);i&&(a=i[1],l.push(a),r={J5:t,we:r.we},u.push(r));break}case"lang":var _;o=null!=(_=t.T5)?_:"",c.push(o)}}else if(t.hA===fO.j5){var g;const i=t.Jj.toLowerCase(),e=null==(g=r.J5)?void 0:g.Jj.toLowerCase();e===i?(u.pop(),r=u[u.length-1],"font"===i&&(l.pop(),a=l.length>0?l[l.length-1]:"")):"rt"===e&&"ruby"===i?(u.pop(),u.pop(),r=u[u.length-1]):"lang"===i&&(c.pop(),o=c.length>0?c[c.length-1]:"")}else if(t.hA===fO.z5){let i=t.N5,e=new Or;try{Ba(i,e)}catch(t){Eu("ERROR collecting timestamp",t)}}}return s}t6(t,i){const e=this.z3,s=this.B3;e.AH&&(t.style.background=e.AH);const n=s.gH||i||e.gH;n&&(t.style.color=n)}q5(t,i,e,s){if(s){let n=CO(s,i);t.style.height=n*e+"px",t.style.left=xO(s)+"%",t.style.top=OO(s,i)+"px"}t.style.fontSize=SO*i*e+"px"}K5(t){const i=h.createElement("div");i.style.position="absolute",i.style.margin="0",i.style.padding="0",i.style.unicodeBidi="plaintext",i.style.wordWrap="break-word",i.style.overflowWrap="break-word",i.style.width="auto",i.style.textAlign=t.BN,function(t,i){"rl"===i.Pt?t.style.writingMode="vertical-rl":"lr"===i.Pt?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(i,t),function(t,i){let e=Cm(i);PO(i)?(t.style.width=e+"%",t.style.height="auto"):(t.style.height=e+"%",t.style.width="auto")}(i,t),LO(i,t);const e=this.z3.vH;e&&(i.style.background=e);const s=this.z3.gH;return s&&(i.style.color=s),i.style.textShadow=Kx(this.z3.mH),i}constructor(t,i,e,s){super(t,i,e,s,TO),this.W5=Qt(),this.V5=jO(3)}};function LO(t,i){let e,s,n=km(i),r=Lm(i),h=Cm(i);if(PO(i)){switch(n){case"line-left":e=r;break;case"center":e=r-h/2;break;case"line-right":e=r-h}s=i.YN?0:qs(i)}else{switch(n){case"line-left":s=r;break;case"center":s=r-h/2;break;case"line-right":s=r-h}e=i.YN?0:qs(i)}t.style.left=e+"%",t.style.top=s+"%"}function kO(t,i){for(const e of i)if(e.J5){for(const i of e.J5.M5)ku(t,DO+i);"v"===e.J5.Jj.toLowerCase()&&e.J5.T5&&ku(t,"theoplayer-webvtt-voice-"+e.J5.T5)}}function CO(t,i){return t.sD*(SO*i)*EO}function xO(t){return t.oD-t.nD*t.ji/100}function OO(t,i){let e=t.aD,s=t.rD*CO(t,i)/100;return x.max(0,e-s)}function jO(t){let i=h.createElement("div");return i.className=NO+"default",ta(i),i.style.wordWrap="break-word",i.style.writingMode="horizontal-tb",i.style.pointerEvents="none",i.style.width="auto",i.style.height="auto",i.style.maxHeight="100%",i.style.minHeight="0px",i.style.padding="0",i.style.boxSizing="border-box",i.style.fontSize=SO*t+"px",i.style.lineHeight=EO+"em",i}function zO(t,i){let e=jO(i);e.className=NO+t.o;let s=t.ji,n=CO(t,i);return e.style.width=s+"%",e.style.height=n+"px",e.style.left=xO(t)+"%",e.style.right="",e.style.top=OO(t,i)+"px",e.style.bottom="",e.style.boxSizing="border-box",e}function PO(t){return""===t.Pt}function BO(t,i){return i.some((i=>t.Q5(i)))}function RO(t){return new MO(t.left,t.top,t.width,t.height)}function UO(t,i,e){switch(i){case 0:t.B5+=e;break;case 1:t.B5-=e;break;case 2:t.U5+=e;break;case 3:t.U5-=e}}function QO(t,i,e,s){switch(e){case 0:return t.P5>i.P5+s;case 1:return t.B5<i.B5-s;case 2:return t.R5>i.R5+s;case 3:return t.U5<i.U5-s}}function FO(t,i){return x.max(0,x.min(t.P5,i.P5)-x.max(t.B5,i.B5))*x.max(0,x.min(t.R5,i.R5)-x.max(t.U5,i.U5))/(t.ji*t.Ti)}var YO,GO=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];function VO(t,i){const e=qs(t),s=qs(i),n=WO(e,t.YN),r=WO(s,i.YN);return n&&r?e-s||Kk(i,t)||i.Vw-t.Vw:Kk(t,i)||t.Vw-i.Vw}function WO(t,i){return i?t<0?t>-8:t>8:t>50}r(),r(),r(),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(YO||(YO={}));var HO={gH:D.WHITE,_H:Yx.Gc,wH:"100%",AH:D.BLACK,vH:"transparent",mH:"none",i6:"regular",NH:"visible",pH:void 0,yH:void 0,MH:void 0,TH:void 0},qO=[{e6:D.WHITE,i6:"regular",s6:0},{e6:D.WHITE,i6:"underline",s6:0},{e6:D.GREEN,i6:"regular",s6:0},{e6:D.GREEN,i6:"underline",s6:0},{e6:D.BLUE,i6:"regular",s6:0},{e6:D.BLUE,i6:"underline",s6:0},{e6:D.CYAN,i6:"regular",s6:0},{e6:D.CYAN,i6:"underline",s6:0},{e6:D.RED,i6:"regular",s6:0},{e6:D.RED,i6:"underline",s6:0},{e6:D.YELLOW,i6:"regular",s6:0},{e6:D.YELLOW,i6:"underline",s6:0},{e6:D.MAGENTA,i6:"regular",s6:0},{e6:D.MAGENTA,i6:"underline",s6:0},{e6:D.WHITE,i6:"italics",s6:0},{e6:D.WHITE,i6:"underline-italics",s6:0},{e6:D.WHITE,i6:"regular",s6:0},{e6:D.WHITE,i6:"underline",s6:0},{e6:D.WHITE,i6:"regular",s6:4},{e6:D.WHITE,i6:"underline",s6:4},{e6:D.WHITE,i6:"regular",s6:8},{e6:D.WHITE,i6:"underline",s6:8},{e6:D.WHITE,i6:"regular",s6:12},{e6:D.WHITE,i6:"underline",s6:12},{e6:D.WHITE,i6:"regular",s6:16},{e6:D.WHITE,i6:"underline",s6:16},{e6:D.WHITE,i6:"regular",s6:20},{e6:D.WHITE,i6:"underline",s6:20},{e6:D.WHITE,i6:"regular",s6:24},{e6:D.WHITE,i6:"underline",s6:24},{e6:D.WHITE,i6:"regular",s6:28},{e6:D.WHITE,i6:"underline",s6:28}],XO=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function ZO(t,i){return Fm(t.n6,i.n6)||qo(t.fT,i.fT)}r();var el=32,KO=/CC([1-4])=(.*)/;function JO(t){if(!t)return[];const i=[],e=t.trim().split(";");if(e.every((t=>t.match(KO))))for(const t of e){const[,e,s]=t.match(KO);i.push({r6:Number(e),h6:s})}else for(let t=0;t<e.length;t++)i.push({r6:t+1,h6:e[t]});return i}var $O=class t{get o6(){return this.u6.a6}get c6(){return this.u6.l6}get d6(){return this.u6.l6.s6-this.u6.a6.s6+1}get f6(){return this.u6.l6._6-this.u6.a6._6+1}pr(){return this.g6=this.w6(),this.A6(),this.v6(),this.g6}w6(){let t=h.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.d6/el*this.p6.m6*100+"%",t.style.height=1.2*this.f6+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.p6.y6?"calc(1em - 1ch)":"";const i=this.P3._H;i&&(t.style.fontFamily=i);const e=this.P3.vH;return e&&(t.style.backgroundColor=e),t}A6(){if(!this.g6)return;let t=this.o6._6/15*100,i=this.o6.s6/el*100,e=(el-this.c6.s6-1)/el*100,s=(15-this.c6._6-1)/15*100;this.p6.M6||(i=e=1,this.g6.style.width="98%"),s<t?this.g6.style.bottom=s*this.p6.m6+"%":this.g6.style.top=t*this.p6.m6+"%",e<i?this.g6.style.right=e+"%":this.g6.style.left=i+"%"}v6(){const t=this.u6.T6.sort(tj);for(let i=0;i<t.length;i++)this.N6(t[i-1],t[i]),this.D6(t[i]);this.N6(t[t.length-1],void 0)}D6(i){var e;const s=Qx(this.P3,i.I6),n=t.S6(s);$r(n,i.E6),null==(e=this.g6)||e.appendChild(n)}static S6(t){const i=h.createElement("span");i.style.display="inline-block",t.i6!==YO.FONT_ITALICS&&t.i6!==YO.FONT_UNDERLINE_ITALICS||(i.style.fontStyle="italic"),t.i6!==YO.FONT_UNDERLINE&&t.i6!==YO.FONT_UNDERLINE_ITALICS||(i.style.textDecoration="underline");const e=t.gH;e&&(i.style.color=e);const s=t.AH;return s&&(i.style.backgroundColor=s),i.style.textShadow=Kx(t.mH),i.style.height="1.2em",i}N6(t,i){let e=t?t.l6._6:this.u6.a6._6;const s=i?i.a6._6:this.u6.l6._6;let n=t?t.l6.s6:this.u6.a6.s6;const r=i?i.a6.s6:this.u6.l6.s6;e<s&&(!i||t&&t.a6._6!==i.a6._6?this.b6():this.L6(this.u6.l6.s6-n),n=this.u6.a6.s6),n<r&&(i?this.L6(r-n):this.b6())}b6(){var t;const i=h.createElement("br");null==(t=this.g6)||t.appendChild(i)}L6(t){var i;if(t<=0)return;const e=h.createElement("span");e.style.display="inline-block",$r(e,iw(" ",t)),null==(i=this.g6)||i.appendChild(e)}constructor(t,i,e){this.u6=t,this.p6=i,this.P3=e}};function tj(t,i){return function(t,i){if(t._6!==i._6)return t._6-i._6;return t.s6-i.s6}(t.a6,i.a6)}var ij=class extends Gx{w5(t){let i=h.createElement("div");return i.className="theoplayer-cea608-texttrack-"+t,i.style.position="absolute",i.style.overflow="hidden",i.style.pointerEvents="none",i.style.top="10%",i.style.bottom="10%",this.z3._H&&(i.style.fontFamily=this.z3._H),i}F3(t,i){this.ll()}ll(){let t=Fx(this.z3);this.k6=function(t){return{m6:t/100,y6:t<=100,M6:t<=150}}(100*t);const i=this.C6/el;this.x6=i*t,this.TP.style.fontSize=this.x6+"px"}get C6(){let t=this.TP.offsetWidth;return this.k6&&this.k6.M6||(t*=.8),t}f5(t,i,e){for(const t of i)!e&&t.ro||this.x3(t);for(const i of t)this.p5(i)}p5(t){this.k6&&this.k6.M6?this.O6(80):this.O6(100),this.ll();let i=this.O3(t);i||(i=this.y5(t),this._5(t,i));for(const t of i)this.TP.appendChild(t)}y5(t){return t.O.map((t=>new $O(t,this.k6,this.z3).pr()))}O6(t){const i=(100-t)/2;this.TP.style.left=i+"%",this.TP.style.width=t+"%"}constructor(t,i,e,s){super(t,i,e,s,HO)}},ej=class t{j6(t){for(let i of this.z6)if(i.Lt===t)return i}static P6(t){switch(t.hA){case Ks.TTML:case Ks.SRT:case Ks.WEBVTT:case Ks.CEA608:return!0}return!1}B6(t){switch(t.hA){case Ks.TTML:return new iO(t,this.R6,t.kh,this.Wu);case Ks.SRT:case Ks.WEBVTT:return new bO(t,this.R6,t.kh,this.Wu);case Ks.CEA608:return new ij(t,this.R6,t.kh,this.Wu)}}U6(t){let i=this.j6(t);i||(i=this.B6(t),i&&(i.iW(),i.Y3(this.MR),this.z6.push(i),t.eA===go.Xn&&i.a5()))}Q6(t){let i=this.z6;for(let e=i.length-1;e>=0;e-=1){let s=i[e];s.Lt===t&&(s.gn(),Dt(i,e))}}F6(i){cy(i.zt)&&t.P6(i)&&(i.vg===Q.ERROR?this.Q6(i):this.U6(i))}get H0(){return this.Y6.cs}Zn(){for(let t of this.z6)t.Lt.fn(Os.Mw,this.G6),t.Lt.fn(Os.Nw,this.G6),t.gn();Ri(this.z6)}gn(){this.Zn();for(let t of this.z6)t.gn();this.Dl.fn(gt.ew,this.V6),this.Dl.fn(gt.hw,this.W6),this.Dl.fn(Os.ra,this.G6),this.Y6.fn(Ac.ra,this.H6),this.MR.fn("yw",this.q6)}constructor(t,i,e,s,n){this.z6=[],this.V6=t=>{let i=t.Lt;i.yn(Os.Mw,this.G6),i.yn(Os.Nw,this.G6),i instanceof ze&&(i.H0=this.H0),this.F6(i)},this.G6=t=>{let i=t.Lt;this.F6(i)},this.W6=t=>{let i=t.Lt;i.fn(Os.Mw,this.G6),i.fn(Os.Nw,this.G6),this.Q6(i)},this.H6=()=>{let t=this.H0;for(let i of this.Dl.xw)i instanceof ze&&(i.H0=t)},this.q6=()=>{for(let t of this.z6)t.Y3(this.MR)},this.X6=()=>{for(let t of this.z6)t.Y3(At({},t.W3(),{NH:"hidden"}))},this.Z6=()=>{for(let t of this.z6)t.Y3(At({},t.W3(),{NH:"visible"}))},this.R6=t,this.Wu=i,this.Dl=e,this.Y6=n,this.MR=s,this.Dl.yn(gt.ew,this.V6),this.Dl.yn(gt.hw,this.W6),this.Dl.yn(Os.ra,this.G6),this.Y6.yn(Ac.ra,this.H6),this.MR.yn("yw",this.q6),this.H6()}};function sj(t){const i=new tb,e=function(t){const i=[];return JE.ia(t)&&i.push(new JE(t)),$E.ia(t)&&i.push(new $E(t)),i}(t);if(e.length>0){for(const t of e)i.EG(t);i.SG(e[0])}return i}var nj=class extends Cx{get TP(){return this.mO}get Ig(){return this.mO.videoHeight}get Lg(){return this.mO.videoWidth}get ya(){return this.K6}Ug(){return this.mO}async e_(){this.K6.gn(),this.J6.gn(),this.t8.gn(),await super.e_()}be(){super.be(),this.J6.be()}ge(){super.ge(),this.J6.ge()}N3(t){super.N3(t),this.J6.N3(t)}constructor(t,i,e,s){super(t,i,e,s),this.K6=sj(t),this.J6=new Ux,this.t8=new ej(this.J6.we,this.Iu,this.nt,this.Ol,this.ya)}};r(),r();r(),r();var tc;!function(t){t.i8="HELLO",t.e8="HI_THERE",t.s8="INITIALIZE",t.n8="APPEND_INIT",t.r8="APPEND_DATA",t.h8="ACK",t.o8="REMOVE",t.a8="DESTROY_SESSION"}(tc||(tc={}));var rj=class{u8(t){return this.GH.oO((async t=>{Pi(t);const i=new MessageChannel,e=i.port1,s=i.port2;sd.serviceWorker.controller||await ci(sd.serviceWorker,"install",t),"activated"!==sd.serviceWorker.controller.state&&await ci(sd.serviceWorker.controller,"activate",t);const n={kind:"HELLO",port:s};sd.serviceWorker.controller.postMessage(n,[s]),e.start(),this.c8=e;try{const i=await ci(e,"message",t),s=i.data;if("HI_THERE"!==s.kind)throw new b("Could not set up message channel");this.MO=s.sessionId}catch(t){throw Oi(t)&&this.l8(),t}}),t)}d8(t,i){return this.c8,this.GH.oO((async()=>{if(!this.c8)throw new b("MessageSession not set up yet or already closed.");i||(i=[]),this.c8.postMessage(t,i);const e=await ci(this.c8,"message");return e.data}))}f8(){return this.GH.oO((()=>this.l8()))}l8(){if(!sd.serviceWorker.controller)return;if("activated"!==sd.serviceWorker.controller.state)return;if(!this.c8)return;const t={kind:"DESTROY_SESSION"};this.c8.postMessage(t),this.c8.close(),this.c8=void 0}constructor(){this.GH=new Vi}};r();var hj,oj=class{get _8(){return this.g8}w8(t,i){const e=t-i;this.g8=e>this._8?this.g8:e}A8(t){this.g8=t}constructor(){this.g8=1/0}};r(),r(),r(),function(t){t.mp="audio",t.vp="video",t.Mp="metadata"}(hj||(hj={}));var aj=class extends i{get b_(){return void 0===this.v8||void 0===this.m8?Ki.lR():new Ki([this.v8,this.m8])}get wd(){return{LP:this.LY}}get IJ(){return rv.KT}get gY(){return this.LY}get EJ(){return Ki.lR()}get ZV(){return 30}set ZV(t){}get tW(){return 30}set tW(t){}kJ(t,i){}CJ(t,i){}tq(){return this.p8}get oa(){return this.y8}get M8(){return this.v8}get PN(){return this.m8}async xJ(){}async iJ(t,i){}async BK(t,i,e){if(t.hA!==at.CH)throw new b("Streaming or opaque segments are not supported yet.");const s=t.Cp,n=async()=>{const t=s.buffer,e={kind:tc.r8,mediaType:uj(this.LY),segment:s,startPts:i.T8,totalDuration:i.ct};if(await this.N8.d8(e,[t]),void 0===this.v8){const t=i.T8+i.CI;this.v8=t,this.m8=t}this.m8=this.m8+i.ct,this.Co(new Ag(bi.LH))};return this.GH.oO((async t=>{Pi(t);try{this.y8=!0,await n()}finally{this.y8=!1}}),e)}async QK(t,i,e){if(t.hA!==at.CH)throw new b("Streaming or opaque initialization segments are not supported yet.");const s=t.Cp,n=async()=>{const t={kind:tc.n8,mediaType:uj(this.LY),segment:s};await this.N8.d8(t,[])};return this.GH.oO((async t=>{Pi(t);try{this.y8=!0,await n()}finally{this.y8=!1}}),e)}NJ(){this.p8=!0}_J(){this.p8=!1}async pN(t,i,e){const s=async()=>{const t={kind:tc.o8,mediaType:uj(this.LY),endTime:i};await this.N8.d8(t),this.v8=void 0,this.m8=void 0,this.Co(new Ag(bi.LH))};return this.GH.oO((async t=>{Pi(t);try{this.y8=!0,await s()}finally{this.y8=!1}}),e)}PH(t){return this.LY===t.LP}RH(t){return this.LY=t.LP,Promise.resolve()}async e_(){this.Vo(),await this.GH.gn()}constructor(t,i){super(),this.LY=t,this.N8=i,this.v8=void 0,this.m8=void 0,this.GH=new Vi,this.y8=!1,this.p8=!1}};function uj(t){return t.match(/video/)?hj.vp:hj.mp}var cj=class t{static D8(i,e,s,n){const r=[];for(let t=0;t<i.E$.length;t++){const s=i.E$[t].LP;r.push(new aj(s,e))}return new t(i,r,s,n)}I8(){}get S8(){return[this.p$,this.y$].filter(j_)}get g$(){return this.p$}get b_(){return bk(this)}get wd(){return this.$x}get ct(){return 0}get tq(){var t,i,e;const s=null==(e=null==(t=this.p$)?void 0:t.tq())||e;var n;const r=null==(n=null==(i=this.y$)?void 0:i.tq())||n;return s&&r}get yg(){return new Ki([0,1/0])}get w$(){return this.y$}get rt(){throw new b("Not implemented")}async e_(){await Promise.all([this.p$,this.y$].filter(j_).map((t=>t.e_())))}T$(t){}S$(t,i,e,s){}NJ(){var t,i;null==(t=this.p$)||t.NJ(),null==(i=this.y$)||i.NJ()}_J(){var t,i;null==(t=this.p$)||t._J(),null==(i=this.y$)||i._J()}PH(t){return!0}RH(t){return this.$x=t,Promise.resolve()}async jH(t,i){const e=await this.jx.Ox(t.wL,i),s=await e.Nx();return await this.zH(s),s}async zH(t){if(t&&!this.mO.src)throw new Qr(p_.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&this.mO.src)throw new Qr(p_.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");const i=this.mx;i&&(await i.Mx(this.mO),this.mx=void 0),t&&(await t.bn(this.mO),this.mx=t)}constructor(t,i,e,s){this.mx=void 0,this.$x=t,this.y$=X_(i,(t=>Boolean(t.gY.match(/video/)))),this.p$=X_(i,(t=>Boolean(t.gY.match(/audio/)))),this.jx=e,this.mO=s,this.I8()}},lj=class extends i{E8(){this.b8.addEventListener("timeupdate",this.L8),this.b8.addEventListener("ended",this.k8),this.b8.addEventListener("timeupdate",this.C8),this.b8.addEventListener("ratechange",this.x8),this.b8.addEventListener("volumechange",this.O8),this.b8.addEventListener("durationchange",this.j8),this.b8.addEventListener("playing",this.z8),this.b8.addEventListener("seeking",this.P8),this.b8.addEventListener("play",this.B8),this.b8.addEventListener("pause",this.U8),this.b8.addEventListener("encrypted",this.f3)}Q8(){this.b8.removeEventListener("timeupdate",this.L8),this.b8.removeEventListener("ended",this.k8),this.b8.removeEventListener("timeupdate",this.C8),this.b8.removeEventListener("ratechange",this.x8),this.b8.removeEventListener("volumechange",this.O8),this.b8.removeEventListener("durationchange",this.j8),this.b8.removeEventListener("playing",this.z8),this.b8.removeEventListener("seeking",this.P8),this.b8.removeEventListener("play",this.B8),this.b8.removeEventListener("pause",this.U8)}F8(){this.R4.yn(Ho.Mw,this.Ds)}Y8(){this.R4.fn(Ho.Mw,this.Ds)}get TP(){return this.b8}get q$(){return!1}get j_(){return this.b8.currentTime+this.G8._8}get hg(){return this.b8.paused}get xg(){return this.b8.volume}set xg(t){this.b8.volume=t}get ag(){return this.b8.playbackRate}set ag(t){this.b8.playbackRate=t}get V8(){return this.b8.defaultPlaybackRate}get b_(){var t,i;return null!=(i=null==(t=this.DP)?void 0:t.b_)?i:Ki.lR()}get W8(){return Ki.xn(this.b8.buffered)}get fg(){const t=this.H8;return this.Uo.HB(t.Np(this.G8._8))}get H8(){return Ki.xn(this.b8.played)}get Tg(){return this.fR}get Q$(){return!1}get J$(){return!1}get ct(){return this.b8.duration}get Z_(){return this.b8.muted}set Z_(t){this.b8.muted=t}get I6(){return this.b8.style}get y4(){return At({},vL,{bH:!0})}Dp(t,i,e){this.u2.c_(),this.u2=new Ao,this.c2=this.l2(t,this.c2,this.u2.a_).catch(xs)}async l2(t,i,e){var s;this.Uo=this.fg;const n=null==(s=this.DP)?void 0:s.S8;if(!n)return;const r=x.max(...n.map((t=>t.M8?t.M8:1/0)));this.fR=!0,this.Co(new Sa(t)),await i.catch(xs),Pi(e);try{for(this.q8||this.X8(),this.b8.load(),this.Z8||(this.K8=!1,await rl(this.b8.play(),e));this.vg<ov.iN;)await this.R4.D_(Ho.Mw,e);this.J8.jL(),this.q8=!1,this.fR=!1,this.Co(new $s(this.j_))}catch(t){throw this.J8.zL(t),t}finally{this.t9(),this.G8.A8(r)}}Gg(){this.Z8=!0,this.b8.pause()}async Vg(){this.Z8&&(this.b8.src||this.T3(),await this.J8.PL,await this.b8.play())}async e_(){this.N8&&this.N8.f8().catch(xs),this.u2.c_(),this.Q8(),this.Y8(),this.R4.e_(),this.Vo(),this.Dl.gn()}async Zn(){this.N8&&this.N8.f8().catch(xs),this.u2.c_(),this.b8.removeAttribute("src"),this.b8.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.b8.removeAttribute("x-airplay-deny"),this.b8.disableRemotePlayback=!1,this.b8.load(),this.R4.Zn(),this.Uo=Ki.lR()}T3(){this.y3||(gj(this.b8,lg.Ys),this.M3=!0)}get vg(){return this.R4.vg}X8(){const t=this.b8.getClientRects();let i;if(!(t.length>0))return;i=t[0];const e=i.width,s=this.b8.videoWidth/this.b8.videoHeight,n=i.height;let r,h;e/n>s?(r=n*s,h=n):(h=e/s,r=e),this.b8.style.width=r+"px",this.b8.style.height=h+"px",this.b8.style.marginLeft=(e-r)/2+"px",this.b8.style.marginTop=(n-h)/2+"px",this.b8.style.backgroundColor="black"}t9(){this.b8.style.width="100%",this.b8.style.height="100%",this.b8.style.marginLeft="",this.b8.style.marginTop="",this.b8.style.backgroundColor=""}get Ig(){return this.b8.videoHeight}get Lg(){return this.b8.videoWidth}get R_(){return this.b8.ended}get Ti(){return this.b8.offsetHeight*lg.Ys.B4}get ji(){return this.b8.offsetWidth*lg.Ys.B4}get W_(){return!1}get y3(){return this.M3}get k_(){}get Iu(){}get lt(){}get ya(){return this.K6}get yg(){return this.DP?this.DP.yg:Ki.lR()}get IP(){}get nt(){return this.Dl}get Ol(){}get Bg(){return!1}set Bg(t){}RP(t,i,e,s,n){}dE(t,i,e,s,n,r,h,o,a){const u=new Us(t,i,e,s,n,r,h,a,o);return this.Dl.tt(u),this.S2.tt(u),u}rq(t){}X_(){return tL(this.b8)}get V4(){return"block"===this.b8.style.display}ge(){this.b8.style.display="block"}be(){this.b8.style.display="none"}v3(){}async $n(t){if(t.hA===wt.CO)throw new b("Not yet implemented");await this.N8.u8();const i=X_(t.kP,(t=>t.dm.hA===Ci.Xv)),e={kind:tc.s8,mediaBufferConfigs:t.E$.map((t=>t.LP)),fairPlaySdkUri:null==i?void 0:i.Az};return await this.N8.d8(e),this.DP=cj.D8(t,this.N8,this.jx,this.b8),this.UH.$n(this.DP,t),this.b8.setAttribute("x-webkit-airplay","deny"),this.b8.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),this.b8.disableRemotePlayback=!0,this.b8.preload="none",this.b8.src="https://theo.proxy/"+this.N8.MO+"/master.m3u8",this.DP}m3(){}pE(t){this.Dl.it(t),this.S2.it(t)}QP(){for(const t of this.Dl.xw.slice())t.gn();this.Dl.Zn()}mP(t){}PP(){return!1}N3(t){t.appendChild(this.b8)}Ug(){return this.b8}E4(){}get VP(){return this.UH.VP}set VP(t){this.UH.VP=t}get D3(){}set D3(t){}get c4(){}Zg(){}constructor(t,i){super(),this.q8=!0,this.N8=new rj,this.G8=new oj,this.Z8=!0,this.J8=new Eo,this.fR=!1,this.c2=Promise.resolve(),this.u2=new Ao,this.K8=!0,this.Uo=Ki.lR(),this.M3=!1,this.L8=()=>{this.hg||this.W8.U<=0||this.b_.U<=0||this.G8.w8(this.b_.jn(this.b_.U-1),this.W8.jn(this.W8.U-1))},this.k8=()=>{this.Co(new ys(this.j_))},this.C8=()=>{this.Co(new jc(this.j_,this.k_))},this.x8=()=>{this.Co(new Jh(this.j_,this.ag))},this.O8=()=>{this.Co(new Oe(this.j_,this.xg))},this.j8=()=>{this.Co(new Tn(this.ct))},this.z8=()=>{this.Co(new Lr(this.j_))},this.P8=()=>{this.Dp(this.j_)},this.B8=async()=>{this.K8&&this.Co(new fh(this.j_)),this.Z8=!1,this.K8=!0},this.U8=()=>{this.Z8=!0,this.Co(new ws(this.j_))},this.f3=t=>{const i=t.initDataType;var e;const s=null!=(e=t.initData)?e:new ArrayBuffer(0);this.Co(new zs(i,s))},this.b8=t,this.R4=new Gk(this),this.b8.playsInline=!0,this.b8.style.width="100%",this.b8.style.height="100%",this.E8(),this.F8(),this.K6=sj(this.b8),this.UH=new Dx(this),this.jx=i,this.Dl=new tn,this.S2=new Ju(this)}},dj=[rv.mp,rv.vp];function fj(t){const i=h.createElement(t);return me(i)&&function(t){t.addEventListener("contextmenu",(t=>{t.preventDefault()}))}(i),_j(i),i}function _j(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),sn(t),eD(t),t.pause(),t.playbackRate=1,t.disableRemotePlayback=!1,t.preload=tt.HT,t.controls=!1,t.style.display="none",me(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function gj(t,i){if(i.i9){const i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){const i=t.play();vu(i)&&W(i),t.pause()}}r(),r();var wj=class{mS(t){return this.gE.mS(t)}CY(t){this.gE.CY(t)}gn(){this.gE.gn()}constructor(t){this.gE=t}},Aj=class extends wj{async mS(t){const i=new ec(t),e=this.yR.RV.tP(i);if(!e)return this.gE.mS(i);e.FV(lg.f_()/1e3);const s=await this.gE.mS(t);e.YV(lg.f_()/1e3);const n={Cp:s.BG().pipeThrough(new _h(new vj(e))),mS:s.mS};return new Lh(n,s)}constructor(t,i){super(t),this.yR=i}},vj=class{start(t){this.dH=t}transform(t){this.e9.GV(lg.f_()/1e3,t),this.dH.enqueue(t)}flush(){this.e9.VV(lg.f_()/1e3)}constructor(t){this.e9=t}};function mj(t){return{get ratio(){return t.Lo},get thresholds(){return t.s9.slice()}}}function pj(t){const i=[],e=x.floor(1/t);if(j(e))return[];for(let s=0;s<=e;s++){const e=Sc(s*t,0,1);i.push(e)}return i}r(),r(),r();var yj=class{get Lo(){return this.n9}get s9(){return this.r9}h9(t){return i=>{const e=i[i.length-1];this.n9=e.intersectionRatio,t(e.intersectionRatio)}}get va(){return this.Xa||(this.Xa=mj(this)),this.Xa}Wg(){this.o9.disconnect()}constructor(t,i,e){this.n9=1,this.Xa=void 0,this.r9=pj(i);const n=this.h9(e);this.o9=new s.IntersectionObserver(n,{root:null,threshold:this.r9}),this.o9.observe(t)}},Mj=class{get Lo(){return this.n9}get s9(){return this.r9}get va(){return this.Xa||(this.Xa=mj(this)),this.Xa}a9(t){this.n9=t;const i=this.r9;let e=0;if(t>0)for(;e<i.length&&i[e]<=t;)++e;this.u9!==e&&(this.u9=e,this.c9(t))}constructor(t,i){this.n9=1,this.u9=-1,this.Xa=void 0,this.r9=pj(t),this.c9=i}},Tj=class extends Mj{l9(){const t=this.yo.getBoundingClientRect();return Sc(x.max(0,x.min(s.innerWidth,t.right)-x.max(0,t.left))*x.max(0,x.min(s.innerHeight,t.bottom)-x.max(0,t.top))/(t.width*t.height),0,1)}Wg(){s.removeEventListener("scroll",this.d9)}constructor(t,i,e){super(i,e),this.d9=uo((()=>this.a9(this.l9())),50),this.yo=t,s.addEventListener("scroll",this.d9,!!GE&&{passive:!0}),Qu((()=>this.a9(this.l9())))}},Nj=.1,Dj=class{get f9(){return this._9}get zo(){return this.g9}set zo(t){if(j(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this.g9=t}get va(){return this.Xa||(this.Xa=function(t){return{get ratio(){return t.f9},get visible(){return t.f9>t.zo},get visibleThreshold(){return t.zo},set visibleThreshold(i){i=Ih(i),t.zo=i},addObserver:(i,e)=>(i=Ih(i),t.Fo(i,e).va),removeObserver(i){let e=t.w9(i);e&&t.Ro(e)}}}(this)),this.Xa}A9(t){return i=>{this._9=i,null==t||t(this._9)}}Fo(t,i){if(j(t))throw new k("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");let e;return e="function"==typeof s.IntersectionObserver?new yj(this.yo,t,this.A9(i)):new Tj(this.yo,t,this.A9(i)),this.v9.push(e),e}Ro(t){t.Wg(),Et(this.v9,t)}w9(t){for(const i of this.v9)if(i.va===t)return i}gn(){for(const t of this.v9)t.Wg();Ri(this.v9)}constructor(t){this._9=1,this.g9=0,this.v9=[],this.Xa=void 0,this.yo=t,this.Fo(.1,this.A9())}};r();var Ij=class extends Ag{constructor(){super(t.SA)}};r();var Sj=class{get m9(){return this.p9}set m9(t){this.p9=t}get va(){var t;return null!=(t=this.Xa)?t:this.Xa=function(t){return{get conviva(){var i;return null==(i=t.m9)?void 0:i.va}}}(this)}gn(){this.p9=void 0}};var Ej=class extends ra{get y9(){return this.yR}get AN(){return this.M9}set AN(t){this.M9=t,this.T9.AN=t}get N9(){return this.D9}get ht(){return this.T9.ht}get KQ(){return this.I9}get Iu(){return this.S9}get G_(){return this.T9.G_}get q_(){return this.E9}get _Q(){return this.b9}get nt(){return this.T9.nt}get Ol(){return this.MR}get rt(){return this.T9.rt}get b_(){return this.L_()}L_(){return this.T9.b_}get L9(){return this.AW}get LW(){return this.kW}get j_(){return this.z_()}set j_(t){this.P_(t)}z_(){return this.T9.j_}P_(t){this.T9.j_=t}k9(){return this.z_()}get k_(){return this.T9.k_}set k_(t){this.T9.k_=t}get bt(){return this.T9.bt}get ct(){return this.Td()}Td(){return this.T9.ct}get we(){return this.T9.we}get R_(){return this.T9.R_}get lt(){return this.Q_()}Q_(){return this.T9.lt}get F_(){return this.Y_()}Y_(){return this.T9.F_}get ya(){return this.T9.Rg()}get Bg(){return this.T9.Bg}set Bg(t){this.T9.Bg=t}get Z_(){return this.T9.Z_}set Z_(t){const i=Boolean(t);this.J_(i)}J_(t){this.T9.Z_=t,t||this.hg||this.Yg()}get hg(){return this.T9.hg}get ag(){return this.T9.ag}set ag(t){this.T9.ag=t}get fg(){return this._g()}_g(){return this.T9.fg}get gg(){return this.T9.gg}set gg(t){this.T9.gg=t}get vg(){return this.T9.vg}get yg(){return this.Mg()}Mg(){return this.T9.yg}get Tg(){return this.T9.Tg}get Vw(){return this.DN}get Ig(){return this.T9.Ig}get Lg(){return this.T9.Lg}get xg(){return this.T9.xg}set xg(t){const i=Sc(Number(t),0,1)||0;this.jg(i)}get zg(){return this.T9.zg}jg(t){this.T9.xg=t}ka(){$a(this,lS,this)}Vg(){this.T9.Vg()}Gg(){this.T9.Gg()}Wa(){return this.bB}async ga(t,i){if(this.bB=t,t){this.C9.zF(t).catch(this.x9);const e=function(t){t.sources;const i=t.sources.filter((t=>z_(t.integration)));0;return t.sources=i,t}(t);await this.T9.ga(e,i)}}Yg(){if(this.bo)return;this.T9.Yg(),this.D9.Yg();const t=this.we.getElementsByTagName("video");for(let i=0;i<t.length;i++){const e=t[i];"Advertisement"===e.title&&gj(e,lg.Ys)}this.bo=!0}cs(){return this.O9.qo()===cu.FULLSCREEN}ge(){this.T9.ge()}be(){this.T9.be()}Ug(){return this.T9.Ug()}Zg(){this.T9.Zg()}Kg(){this.T9.Kg()}async Wg(){this.bB=void 0,await this.T9.Wg(),await this.T9.Zn()}async gn(){this.Co(new Ij),this.Vo(),this.I9.gn(),this.tj.gn(),this.b9.gn(),this.j9.gn(),this.z9.gn(),this.O9.gn(),this.S9.gn(),this.P9.gn(),this.B9.gn(),this.D9.gn(),this.pR.gn(),await this.T9.gn()}constructor(i,e){super(),this.M9=!1,this.bo=!1,this.bB=void 0,this.R9=!1,this.P9=new Sj,this.ba=void 0,this.x9=t=>{if(this.R9)return;this.R9=!0;const i=this.U9,e=ne(t);this.T9.Pw=new qI(this.we,e,t),W(i.gn())},this.Q9=i=>{i.type!==t.GA&&i.type!==t.YA&&this.Co(i)};const s=Ih(e.uid);j(s)?this.DN=am++:this.DN=s,this.wd=e;const n=lg.tj,r=new cL;this.B9=new xE("7.0.0",n,r),this.yR=new Wb;const h=new Aj(n,this.yR);this.tj=new jb(h,e.allowMixedContent),this.rH=new wE(e.isEmbeddable,"7.0.0",lE()),this.C9=new uL(n,this.rH,this.B9,r,e,lE()),this.C9.tH().catch(this.x9),this.S9=new ZE(i),this.S9.yn(Zr.pn,this.Ds),this.MR=new gL,this.AW=new Xb,this.kW=new Kb;const o=new et(i,e,this.tj,this.yR,this.S9,this.MR);this.yR.iW(o);let a=o;a=new Zb(a,this.L9),a=new Jb(a,this.LW),this.U9=a,this.T9=new tm(this.U9),this.T9.m_(this.Q9),this.E9=new $b(this.T9),this.b9=new Bb(this.T9,this.tj,this.yR),this.j9=new BE(this),this.z9=new ib(this.T9,e.allowNativeFullscreen),this.O9=new cS(this.z9),this.S9.bn(),this.Bo=new Dj(i),this.pR=new Uy(this.S9,this.MR,1,[rv.vp]),this.D9=new Qy(this.pR),this.I9=new sL}};r(),r();var tu,U=class extends ra{get y9(){return this.Qo.y9}get Oc(){return this.F9()}F9(){return this.Qo.Oc}get P9(){return this.Qo.P9}get B9(){return this.Qo.B9}get N9(){return this.Y9()}Y9(){return this.Qo.N9}get AN(){return this.Qo.AN}set AN(t){this.Qo.AN=t}get j9(){return this.Qo.j9}get KQ(){return this.Qo.KQ}get L9(){return this.Qo.L9}get wd(){return this.Qo.wd}get Iu(){return this.Qo.Iu}get ya(){return this.Rg()}Rg(){return this.Qo.ya}get tj(){return this.Qo.tj}get zg(){return this.Qo.zg}get LW(){return this.Qo.LW}get _Q(){return this.Qo._Q}get O9(){return this.Qo.O9}get S9(){return this.Qo.S9}get T9(){return this.Qo.T9}get Ol(){return this.Qo.Ol}get G9(){return this.V9()}V9(){return this.Qo.G9}get Vw(){return this.Qo.Vw}get Bo(){return this.Qo.Bo}get ht(){return this.I_()}I_(){return this.Qo.ht}L_(){return this.Qo.L_()}get k_(){return this.C_()}set k_(t){this.x_(t)}C_(){return this.Qo.k_}x_(t){this.Qo.k_=t}get bt(){return this.O_()}O_(){return this.Qo.bt}z_(){return this.Qo.z_()}P_(t){this.Qo.P_(t)}k9(){return this.Qo.k9()}Td(){return this.Qo.Td()}get we(){return this.Qo.we}get R_(){return this.U_()}U_(){return this.Qo.R_}Q_(){return this.Qo.Q_()}Y_(){return this.Qo.Y_()}get G_(){return this.V_()}V_(){return this.Qo.G_}get Bg(){return this.Qo.Bg}set Bg(t){this.Qo.Bg=t}get q_(){return this.X_()}X_(){return this.Qo.q_}get Z_(){return this.K_()}set Z_(t){this.J_(t)}K_(){return this.Qo.Z_}J_(t){this.Qo.J_(t)}get hg(){return this.og()}og(){return this.Qo.hg}get ag(){return this.cg()}set ag(t){this.dg(t)}cg(){return this.Qo.ag}dg(t){this.Qo.ag=t}_g(){return this.Qo._g()}get gg(){return this.wg()}set gg(t){this.Ag(t)}wg(){return this.Qo.gg}Ag(t){this.Qo.gg=t}get vg(){return this.pg()}pg(){return this.Qo.vg}get ba(){return this.Qo.ba}set ba(t){this.Qo.ba=t}Mg(){return this.Qo.Mg()}get Tg(){return this.Ng()}Ng(){return this.Qo.Tg}get nt(){return this.Dg()}Dg(){return this.Qo.nt}get Ig(){return this.Sg()}Sg(){return this.Qo.Ig}get rt(){return this.Eg()}Eg(){return this.Qo.rt}get Lg(){return this.Cg()}Cg(){return this.Qo.Lg}get xg(){return this.Og()}set xg(t){this.jg(t)}Og(){return this.Qo.xg}jg(t){this.Qo.jg(t)}Yg(){this.Qo.Yg()}Gg(){this.Qo.Gg()}Vg(){this.Qo.Vg()}ge(){this.Qo.ge()}be(){this.Qo.be()}cs(){return this.Qo.cs()}Ug(){return this.Qo.Ug()}Zg(){this.Qo.Zg()}Kg(){this.Qo.Kg()}ka(){this.Qo.ka()}Wa(){return this.Qo.Wa()}ga(t,i){return this.Qo.ga(t,i)}Wg(){return this.Qo.Wg()}$g(t){return!1}async gn(){this.Vo(),await this.Qo.gn()}constructor(t,i){super(),this.iw=t=>{this.$g(t)||this.Co(t)},this.Qo=t,this.W9=!i,this.W9&&t.m_(this.iw)}};!function(t){t[t.Za=0]="Za",t[t.H9=1]="H9",t[t.q9=2]="q9",t[t.X9=3]="X9"}(tu||(tu={}));var bj=[0,1,2,3],Lj={};function ti(t,i){(Lj[i]||(Lj[i]=[])).push(t)}var kj={};function Cj(t,i){(kj[i]||(kj[i]=[])).push(t)}var xj=[];function Oj(t){for(const i of xj)i(t)}r();var jj=self.CustomEvent;var zj=function(){try{const t=new jj("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,i){return new CustomEvent(t,i)}:function(t,i){const e=h.createEvent("CustomEvent");return e.initCustomEvent(t,(null==i?void 0:i.bubbles)||!1,(null==i?void 0:i.cancelable)||!1,null==i?void 0:i.detail),e};r();var Pj=new class{get U(){return this._N.length}get va(){var t;return null!=(t=this.Xa)?t:this.Xa=function(t){const i=[];for(let e=0;e<t.U;e++)i[e]=t.jw(e).va;return i.getPlayerByUID=i=>{const e=t.Z9(i);return e&&e.va},i}(this)}jw(t){return this._N[t]}Mq(t){this._N.push(t),this.va.push(t.va)}pN(t){const i=this._N.indexOf(t);i<0||(Dt(this._N,i),this.Xa&&Dt(this.Xa,i))}Z9(t){for(const i of this._N)if(i.Vw===t)return i}constructor(){this._N=[],this.Xa=void 0}};r(),r(),r();var Bj=class extends Ag{constructor(i){super(t.lo),this.source=i}};r();var Rj=class extends ra{get k_(){}set k_(t){}get j_(){return this.z_()}set j_(t){this.P_(t)}z_(){return this.dR}k9(){return this.z_()}P_(t){this.fR&&this.dR===t||(this.dR=t,this.fR=!0,this.Co(new Sa(this.dR)))}get hg(){return this.gR}get ag(){return this.wR}set ag(t){this.wR!==t&&(this.wR=t,this.Co(new Jh(this.dR,this.ag)))}get vg(){return ov.tN}get Tg(){return this.fR}Vg(){this.gR&&(this.gR=!1,this.Co(new fh(this.dR)),this.Co(new Xc(this.dR)))}Gg(){this.gR||(this.gR=!0,this.Co(new jc(this.dR,this.k_)),this.Co(new ws(this.dR)))}Zn(){this.dR=0,this.fR=!1,this.wR=1,this.Gg()}gn(){this.Vo()}be(){}ge(){}constructor(){super(),this.dR=0,this.gR=!0,this.fR=!1,this.wR=1}};r();var ro,Uj={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},Qj={visibility:"hidden"},Fj={visibility:"visible"},Yj=class{get zu(){return void 0!==this.K9?this.K9:void 0!==this.J9?this.J9:void 0}set t7(t){this.J9=t,this.Qn()}Qn(){const t=this.Qo.hg,i=this.i7;this.zu?this.Us.style.backgroundImage='url("'+rw(this.zu)+'")':this.Us.style.backgroundImage="",t&&this.zu&&!i?this.ge():this.be()}ge(){an(Qj,this.Qo.we),an(Fj,this.Us)}be(){an(Qj,this.Us),an(Fj,this.Qo.we)}SB(){this.Qo.yn(t.lo,this.e7),this.Qo.yn(t.jh,this.qO)}gn(){this.Qo.fn(t.lo,this.e7),this.Qo.fn(t.jh,this.qO),ei(this.Us)}constructor(t){this.i7=!1,this.e7=t=>{var i;this.i7=!this.Qo.hg,this.K9=null==(i=t.source)?void 0:i.poster,this.Qn()},this.qO=()=>{this.i7=!0,this.be()},this.Qo=t,this.SB(),this.Us=function(){let t=Ys&&Ys.document&&Ys.document.createElement("div");return t.className="theoplayer-poster",an(Uj,t),t}(),t.we.appendChild(this.Us)}};function Gj(t){let i;const e={get playing(){return t.Fc},get currentAds(){return t.s7.map((t=>t.n7()))},get currentAdBreak(){var i,e;return null!=(e=null==(i=t.r7)?void 0:i.n7())?e:null},get scheduledAds(){return t.h7.map((t=>t.n7()))},get scheduledAdBreaks(){return t.o7.map((t=>t.n7()))},skip(){t.Yp()},schedule(i){let e=VS(i,Zo.gL);e?t.N1(e,ro.a7,!1):console.error("Invalid ad description")},addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)}};return i=new pa(t,e),e}r(),r(),r(),function(t){t[t.a7=0]="a7",t[t.u7=1]="u7"}(ro||(ro={})),r(),r();var Ku=class extends La{constructor(t,i){super(t),this.Xl=i}},Rc=class extends Ag{get ad(){return this.adBreak}constructor(t,i){super(t),this.adBreak=i}},Hu=class extends Ku{fa(){return new Vj(this.Xl.n7())}constructor(t){super("l7",t)}},Vj=class extends Rc{constructor(t){super("removeadbreak",t)}};r();var un=class extends Ku{fa(){return new Wj(this.Xl.n7())}constructor(t){super("d7",t)}},Wj=class extends Rc{constructor(t){super("addadbreak",t)}};r(),r();var Ts=class extends La{constructor(t,i){super(t),this.f7=i}},Xs=class extends Ag{constructor(t,i){super(t),this.ad=i}},Hj=class extends Ts{fa(){return new qj(this.f7.n7())}constructor(t){super("_7",t)}},qj=class extends Xs{constructor(t){super("addad",t)}};r();var Nh=class extends Ku{fa(){return new Xj(this.Xl.n7())}constructor(t){super("g7",t)}},Xj=class extends Rc{constructor(t){super("adbreakend",t)}};r();var ba=class extends Ku{fa(){return new Zj(this.Xl.n7())}constructor(t){super("w7",t)}},Zj=class extends Rc{constructor(t){super("adbreakbegin",t)}};r();var Za=class extends Ts{fa(){return new Kj(this.f7.n7(),this.currentTime)}constructor(t,i){super("A7",t),this.currentTime=i}},Kj=class extends Xs{constructor(t,i){super("adbegin",t),this.currentTime=i}};r();var da=class extends Ts{fa(){return new Jj(this.f7.n7(),this.currentTime)}constructor(t,i){super("v7",t),this.currentTime=i}},Jj=class extends Xs{constructor(t,i){super("adend",t),this.currentTime=i}};r();var vn=class extends La{fa(){return new $j}constructor(){super("m7")}},$j=class extends Ag{constructor(){super("adadded")}},fn=class extends ra{get Fc(){return!!this.Ic&&this.Ic.Fc}get s7(){return this.Ic?this.Ic.s7:[]}get r7(){return this.Ic?this.Ic.r7:null}get h7(){return this.Ic?this.Ic.h7:[]}get o7(){return this.Ic?this.Ic.o7:[]}N1(t,i,e){var s;null==(s=this.Ic)||s.N1(t,i,e)}p7(t){var i;null==(i=this.Ic)||i.p7(t)}Yp(){var t;null==(t=this.Ic)||t.Yp()}y7(t){var i;null==(i=this.Ic)||i.y7(t)}get va(){var t;return null!=(t=this.Xa)?t:this.Xa=Gj(this)}get Pw(){return this.Ic}set Pw(t){const i=this.Ic;if(i===t)return;const e=this.s7,s=this.r7,n=this.h7,r=this.o7;null==i||i.N_(this.Ds),this.Ic=t,null==t||t.m_(this.Ds);const h=this.s7,o=this.r7,a=this.h7,u=this.o7,c=[];let l=!1;for(const t of r)ea(u,t)||c.push(new Hu(t));for(const t of u)ea(r,t)||c.push(new un(t));for(const t of a)ea(n,t)||(c.push(new Hj(t)),l=!0);l&&c.push(new vn),s!==o&&(s&&c.push(new Nh(s)),o&&c.push(new ba(o)));for(const t of e)ea(h,t)||c.push(new da(t,this.Qo.z_()));for(const t of h)ea(e,t)||c.push(new Za(t,this.Qo.z_()));for(const t of c)this.Co(t)}gn(){var t;return this.Vo(),null==(t=this.Ic)||t.N_(this.Ds),this.Ic=void 0,Promise.resolve()}constructor(t){super(),this.Xa=void 0,this.Qo=t}};r();var tz,pn=class extends ra{get Fc(){return!1}get s7(){return[]}get r7(){return null}get h7(){return[]}get o7(){return[]}N1(t,i,e){this.M7.push({T7:t,N7:i,D7:e})}Yp(){}y7(t){}get va(){var t;return null!=(t=this.Xa)?t:this.Xa=Gj(this)}p7(t){const i=this.M7.slice();this.Zn();for(const e of i)t.N1(e.T7,e.N7,e.D7)}I7(){const t=this.M7.map((t=>t.T7));return this.Zn(),t}Zn(){Ri(this.M7)}gn(){return this.Vo(),this.Zn(),Promise.resolve()}constructor(...t){super(...t),this.Xa=void 0,this.M7=[]}};function iz(i){return class extends ra{get B9(){return this.S7.B9}get Oc(){return this.Ic}get P9(){return this.S7.P9}get j9(){return this.S7.j9}get wd(){return this.S7.wd}get tj(){return this.S7.tj}get ya(){return this.S7.ya}get O9(){return this.S7.O9}get S9(){return this.S7.S9}get T9(){return this.S7.T9}get y9(){return this.S7.y9}get AN(){return this.S7.AN}set AN(t){this.S7.AN=t,this.E7()}get N9(){return this.S7.N9}get ht(){return this.S7.ht}get KQ(){return this.S7.KQ}get Iu(){return this.S7.S9}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}get G_(){return this.S7.G_}get Bg(){return this.S7.Bg}set Bg(t){this.S7.Bg=t}get q_(){return this.S7.q_}get _Q(){return this.S7._Q}get nt(){return this.S7.nt}get Ol(){return this.S7.Ol}get rt(){return this.S7.rt}get L9(){return this.S7.L9}get LW(){return this.S7.LW}get k_(){return this.Qo.k_}set k_(t){this.Qo.k_=t}get bt(){return this.S7.bt}get we(){return this.S7.we}get R_(){return this.S7.R_}get Z_(){return this.S7.Z_}set Z_(t){this.J_(t)}get hg(){return this.Qo.hg}get mi(){return this.b7.zu||""}set mi(t){this.b7.t7=t}get ag(){return this.S7.ag}set ag(t){this.Qo.ag=t}get gg(){return this.S7.gg}set gg(t){this.S7.gg=t}get vg(){return this.Qo.vg}get ba(){return this.S7.ba}set ba(t){this.S7.ba=t}get Tg(){return this.Qo.Tg}get G9(){return this.S7.G9}get Vw(){return this.S7.Vw}get Ig(){return this.S7.Ig}get Lg(){return this.S7.Lg}get xg(){return this.S7.xg}set xg(t){this.jg(t)}get zg(){return this.S7.zg}get Bo(){return this.S7.Bo}async oO(t,i){return this.GH.oO(t,i).catch(Mh)}async L7(t,i){Pi(i),this.S7.m_(this.k7);try{await this.S7.ga(t,i)}finally{this.S7.N_(this.k7)}}async E7(){const t=await this.C7();this.x7(t)}async C7(){const t=this.Wa();return t&&!xS(t)&&this.AN&&this.hg?this.N9.O7(this.Z_):"none"}x7(t){var i;const e=(null==(i=this.Wa())?void 0:i.mutedAutoplay)||this.wd.mutedAutoplay;switch(t){case"all":this.j7();break;case"muted":(this.Z_||e===Hv.ALL)&&(this.Z_=!0,this.Vg())}}ga(t){xS(this.bB)||this.Co(new Wv(0,ov.tN)),this.Zn(),this.bB=t,W(this.oO((async i=>{Pi(i);try{await this.L7(t,i)}catch(t){return Ht(t),this.bB=void 0,void this.uB(function(t,i){return t instanceof ce?t:t instanceof b?new ce(i,t.message,t):new ce(i,String(t))}(t,p_.SOURCE_NOT_SUPPORTED))}finally{this.z7(this.S7)}const e=await this.C7();this.Co(new Bj(this.Wa())),this.x7(e)})))}P_(t){this.Qo.P_(t)}Q_(){var t;return null!=(t=this.ER)?t:this.S7.Q_()}Y_(){var t;return null!=(t=this.yP)?t:this.S7.Y_()}uB(t){void 0===this.Y_()&&(this.yP=t,this.ER=ne(t),this.Co(new pe(t)))}Vg(){this.Qo.Vg()}j7(){this.Z_||this.Yg(),this.Vg()}Yg(){this.S7.Yg()}Gg(){this.Qo.Gg()}Wg(){this.ga(void 0)}ge(){this.xB=!0,this.Qo.ge()}be(){this.xB=!1,this.Qo.be()}ka(){this.S7.ka()}jg(t){this.S7.jg(t)}J_(t){this.S7.J_(t)}wa(t){this.P7=t,t.Mq(this)}cs(){return this.S7.cs()}Wa(){return this.bB}Ug(){return this.S7.Ug()}z_(){return this.Qo.z_()}k9(){return this.Qo.k9()}Td(){return this.S7.Td()}L_(){return this.S7.L_()}_g(){return this.S7._g()}Mg(){return this.S7.Mg()}Zg(){this.S7.Zg()}Kg(){this.S7.Kg()}Zn(){this.bB=void 0,this.yP=void 0,this.ER=void 0,this.B7=!0,Ri(this.R7),this.U7.Zn(),this.z7(this.U7),this.GH.c_(),W(this.GH.oO((async t=>{Pi(t),await this.S7.Wg()})))}gn(){this.Co(new Ij),this.b7.gn(),this.EB(),this.Zn(),W(this.oO((async()=>{await this.S7.gn(),this.P7&&(this.P7.pN(this),this.P7=void 0),this.GH.gn()}))),this.Vo()}z7(t){if(this.Qo===t)return;const i=this.Qo.hg,e=this.Qo.z_(),s=this.Qo.ag,n=this.Qo.vg,r=this.Qo.Tg;this.Q7=i,this.I3=n,this.EB(),t.m_(this.F7),t===this.S7?(void 0!==this.Ic&&(this.Ic.Pw=t.Oc,this.Y7.p7(this.Ic)),(r||t.z_()!==e)&&t.P_(e),t.ag!==s&&(t.ag=s),i?t.Gg():t.Vg()):(void 0!==this.Ic&&(this.Ic.Pw=this.Y7,this.Y7.Zn()),this.wd.retainPlaybackRateOnSourceChange?t.ag=s:1!==s&&this.Co(new Jh(this.z_(),1))),t.N_(this.F7),this.Qo=t,this.SB();for(const t of this.R7)this.Co(t);Ri(this.R7),this.xB?t.ge():t.be()}SB(){this.Qo.m_(this.Jg)}EB(){this.Qo.N_(this.Jg)}fa(){return function(t){let i,e;const s=i=>{e=i;const s=il(i,t.wd);t.ga(s)};let n={get abr(){return t.y9.va},get ads(){var i;return null==(i=t.Oc)?void 0:i.va},get analytics(){return t.P9.va},get audioTracks(){return t.ht.va},get autoplay(){return t.AN},set autoplay(i){t.AN=Boolean(i)},get buffered(){return t.L_()},get canvas(){return t.j9.va},get cast(){var i;return null==(i=t.KQ)?void 0:i.va},get clip(){return t.L9.va},get currentProgramDateTime(){var i;return null!=(i=t.k_)?i:null},set currentProgramDateTime(i){t.k_=null!=i?i:void 0},get currentTime(){return t.z_()},set currentTime(i){t.P_(Number(i))},get duration(){return t.Td()},get element(){return t.we},get ended(){return t.R_},get error(){return t.Q_()},get errorObject(){return t.Y_()},get loop(){return t.LW.LW},set loop(i){t.LW.LW=Boolean(i)},get metrics(){return t.q_.va},get muted(){return t.Z_},set muted(i){t.J_(i)},get network(){return t._Q.va},get paused(){return t.hg},get playbackRate(){return t.ag},set playbackRate(i){const e=Number(i);if(e<0)throw new RangeError("playbackRate must be a positive number");t.ag=e},get played(){return t._g()},get poster(){return t.mi},set poster(i){t.mi=Oa(i)},get preload(){return t.gg},set preload(i){t.gg=function(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";default:return"none"}}(i)},get presentation(){return t.O9.va},get readyState(){return t.vg},get seekable(){return t.Mg()},get seeking(){return t.Tg},get source(){return e},set source(t){s(t)},get src(){return PS(t.Wa())},set src(t){s({sources:t})},get textTracks(){return t.nt.va},get textTrackStyle(){return t.Ol.va},get theoLive(){return t.G9},get uid(){return t.Vw},get videoHeight(){return t.Ig},get videoTracks(){return t.rt.va},get videoWidth(){return t.Lg},get visibility(){return t.Bo.va},get volume(){return t.xg},set volume(i){t.jg(Number(i))},get latency(){return t.zg.va},destroy(){t.gn(),t=null,e=void 0},play(){t.j7()},pause(){t.Gg()},stop(){e=void 0,t.Wg()},prepareWithUserAction(){t.Yg()},addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)},setSource(t){s(t)}};return i=new Zu(n,!0),i.Qa(t),i.yn("destroy",(()=>{i.gn()})),n}(this)}constructor(e,s){super(),this.Q7=!0,this.I3=ov.tN,this.B7=!1,this.bB=void 0,this.yP=void 0,this.ER=void 0,this.k7=i=>{i.type!==t.WA&&this.R7.push(i)},this.F7=i=>{(i.type!==t.jh||this.Qo.hg)&&(i.type===t.Sh&&this.Qo.hg||i.type===t.ZA&&this.Qo.Tg&&this.Qo.z_()===i.currentTime||i.type===t.WA&&this.Qo.ag===i.playbackRate||this.Co(i))},this.Jg=i=>{if(this.B7){if(i.type===Ho.Mv)return;i.type!==Ho.vv&&i.type!==Ho.Tv||(this.B7=!1)}if(i.type===t.jh){if(!this.Q7)return;this.Q7=!1}else if(i.type===t.Sh){if(this.Q7)return;this.Q7=!0}else if(i.type===Ho.Mw){if(this.I3===i.readyState)return;this.I3=i.readyState}else if(i.type===t.SA)return;this.Co(i)},this.S7=new i(e,s),this.U7=new Rj,this.Qo=this.S7,this.b7=new Yj(this),this.S7.Oc&&(this.Ic=new fn(this),this.Ic.Pw=this.S7.Oc,this.Y7=new pn),this.GH=new Vi,this.R7=[],this.xB=!0,this.SB()}}}function ez(){if(!tz){let t=Ej;t=function(t){return class extends U{constructor(i,e){let s=new t(i,e);for(const t of bj)if(kj[t])for(const i of kj[t])s=i(s);super(s)}}}(t);let i=iz(t);i=function(t){let i=t;for(const t of bj)if(Lj[t])for(const e of Lj[t])i=e(i);return i}(i),tz=i}return tz}function sz(t,i){const e=Zv(i),s=new(ez())(t,e);s.ba=s;let n=s.va;return s.ka(),s.wa(Pj),_.defineProperty(n,"constructor",{value:sz}),n=Dg(n),Oj(s),n}Qu((()=>{self.dispatchEvent&&self.dispatchEvent(zj("theoplayerready"))})),r();var nz={base64:new class{encode(t){return Ot(t)}decode(t){return mi(t)}}};r();var rz=JSON.parse('["dash","hls","chromecast","ads","airplay","yospace","spotx","vr","vr-webxr","conviva","cache","webaudio","youbora","mediamelon","moat","google-dai","streamone","lcevc","freewheel","agama","verizonmedia","mediatailor","ui","relatedcontent","social","upnext","contextmenu","texttrackstyle-ui","activequalitylabel","upcomingadnotification"]');function hz(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),_.defineProperty(t,s.key,s)}}function oz(t,i){var e=function(t,i){var e=t.length;if(e<=1)return t;for(var s=new Array(e),n=1;n<e;n*=2){az(t,i,n,s);var r=t;t=s,s=r}return t}(t,i);return e!==t&&az(e,null,t.length,t),t}function az(t,i,e,s){var n,r,h,o,a,u=t.length,c=0,l=2*e;for(n=0;n<u;n+=l)for(h=(r=n+e)+e,r>u&&(r=u),h>u&&(h=u),o=n,a=r;;)if(o<r&&a<h)i(t[o],t[a])<=0?s[c++]=t[o++]:s[c++]=t[a++];else if(o<r)s[c++]=t[o++];else{if(!(a<h))break;s[c++]=t[a++]}}r(),r(),r(),r();var uz=/[a-zA-Z]/,cz=/[0-9]/,lz=/[0-9a-fA-F]/,dz=/^0x/i,fz=/^[0-9]+$/,_z=/^[0-9a-fA-F]+$/,gz=/^[0-7]+$/,wz=_.prototype.toString,Az=Array.isArray||function(t){return"[object Array]"===wz.call(t)},vz="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function mz(t){return Az(t)?t:Array.from(t)}function pz(t,i,e){var s=t[i];t[i]=t[e],t[e]=s}function yz(t){return t>=65&&t<=90}function Mz(t){return yz(t)||function(t){return t>=97&&t<=122}(t)}function Tz(t){return t>=48&&t<=57}function Nz(t){return Tz(t)||Mz(t)}function Dz(t){return Tz(t)||t>=65&&t<=70||t>=97&&t<=102}function Iz(t){return yz(t)?t+32:t}function Sz(t){return Tz(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Ez(t,i){return void 0===i&&(i=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(i?87:55):-1}var bz=x.min,Lz=String.fromCharCode,kz=16384;function Cz(t){for(var i=t.length,e=[],s=0;s<i;s+=kz){var n=bz(s+kz,i);e.push(Lz.apply(null,t.slice(s,n)))}return e.join("")}var xz=2147483647,Oz=/[^\0-\x7E]/,jz=/[\x2E\u3002\uFF0E\uFF61]/g,zz={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Pz=x.floor,Bz=String.fromCharCode;function Rz(t){throw new RangeError(zz[t])}function Uz(t){for(var i=[],e=0,s=t.length;e<s;){var n=t.charCodeAt(e++);if(n>=55296&&n<=56319&&e<s){var r=t.charCodeAt(e++);56320==(64512&r)?i.push(((1023&n)<<10)+(1023&r)+65536):(i.push(n),e--)}else i.push(n)}return i}var Qz,Fz,Yz,Gz=function(t,i){return t+22+75*(t<26)-((0!=i)<<5)},Vz=function(t,i,e){var s=0;for(t=e?Pz(t/700):t>>1,t+=Pz(t/i);t>455;s+=36)t=Pz(t/35);return Pz(s+36*t/(t+38))},Wz=function(t){return function(t,i){var e=t.split("@"),s="";e.length>1&&(s=e[0]+"@",t=e[1]);var n=function(t,i){for(var e=[],s=t.length;s--;)e[s]=i(t[s]);return e}((t=t.replace(jz,".")).split("."),i).join(".");return s+n}(t,(function(t){return Oz.test(t)?"xn--"+function(t){for(var i=[],e=(t=Uz(t)).length,s=128,n=0,r=72,h=0,o=t;h<o.length;h++){var a=o[h];a<128&&i.push(Bz(a))}var u=i.length,c=u;for(u&&i.push("-");c<e;){for(var l=xz,d=0,f=t;d<f.length;d++){var _=f[d];_>=s&&_<l&&(l=_)}var g=c+1;l-s>Pz((xz-n)/g)&&Rz("overflow"),n+=(l-s)*g,s=l;for(var w=0,A=t;w<A.length;w++){var v=A[w];if(v<s&&++n>xz&&Rz("overflow"),v==s){for(var m=n,p=36;;p+=36){var y=p<=r?1:p>=r+26?26:p-r;if(m<y)break;var M=m-y,T=36-y;i.push(Bz(Gz(y+M%T,0))),m=Pz(M/T)}i.push(Bz(Gz(m,0))),r=Vz(n,g,c==u),n=0,++c}}++n,++s}return i.join("")}(t):t}))};function Jt(t){for(var i=[],e=0;e<t.length;e++){var s=t[e];s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s)}return Cz(i)}function Hz(t){if(t>=55296&&t<=57343)throw new b("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function qz(t,i){return t>>i&63|128}function Xz(t,i){0!=(4294967168&t)?(0==(4294965248&t)?i.push(t>>6&31|192):0==(4294901760&t)?(Hz(t),i.push(t>>12&15|224),i.push(qz(t,6))):0==(4292870144&t)&&(i.push(t>>18&7|240),i.push(qz(t,12)),i.push(qz(t,6))),i.push(63&t|128)):i.push(t)}function Zz(t){for(var i=[],e=0;e<t.length;e++){Xz(t[e],i)}return i}function Kz(){if(Yz>=Fz)throw new b("Invalid byte index");var t=255&Qz[Yz];if(Yz++,128==(192&t))return 63&t;throw new b("Invalid continuation byte")}function Jz(){var t,i;if(Yz>Fz)throw new b("Invalid byte index");if(Yz===Fz)return!1;if(t=255&Qz[Yz],Yz++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|Kz())>=128)return i;throw new b("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|Kz()<<6|Kz())>=2048)return Hz(i),i;throw new b("Invalid continuation byte")}if(240==(248&t)&&(i=(7&t)<<18|Kz()<<12|Kz()<<6|Kz())>=65536&&i<=1114111)return i;throw new b("Invalid UTF-8 detected")}function $z(t){return[37,Ez(t>>4),Ez(15&t)]}function tP(t){return function(t){return t>=0&&t<=31}(t)||t>126}function iP(t){return tP(t)||32===t||34===t||60===t||62===t||96===t}function eP(t){return iP(t)||35===t||63===t||123===t||125===t}function sP(t){return eP(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function nP(t){return t<33||t>126||34===t||35===t||60===t||62===t}function rP(t){return nP(t)||39===t}function hP(t,i){if(!i(t))return[t];for(var e=Zz([t]),s=[],n=0;n<e.length;n++){var r=e[n];s.push.apply(s,$z(r))}return s}function oP(t,i){for(var e=[],s=0,n=Uz(t);s<n.length;s++){var r=n[s];e.push.apply(e,hP(r,i))}return Jt(e)}function aP(t){return function(t){for(var i=[],e=t.length,s=0;s<e;s++){var n=t[s];if(37===n&&s+2<e&&Dz(t[s+1])&&Dz(t[s+2])){var r=Sz(t[s+1])<<4|Sz(t[s+2]);i.push(r),s+=2}else i.push(n)}return i}(Zz(t))}function uP(t){return Jt(function(t){Qz=t.slice(),Fz=Qz.length,Yz=0;for(var i,e=[];!1!==(i=Jz());)e.push(i);return e}(aP(Uz(t))))}function cP(t){var i=t.length,e=[0,0,0,0,0,0,0,0],s=0,n=null,r=0;if(r<i&&":"===t[r]){if(!(r+1<i&&":"===t[r+1]))throw new k;r+=2,n=s+=1}for(;r<i;){if(8===s)throw new k("Too many groups");if(":"!==t[r]){for(var h=0,o=0;o<4&&r<i&&lz.test(t[r]);)h=h<<4|C(t[r],16),r+=1,o+=1;if("."===t[r]){if(0===o)throw new k;if(r-=o,s>6)throw new k;for(var a=0;r<i;){var u=null;if(a>0){if(!("."===t[r]&&a<4))throw new k;r+=1}if(!cz.test(t[r]))throw new k;for(;r<i&&cz.test(t[r]);){var c=C(t[r],10);if(null===u)u=c;else{if(0===u)throw new k;if((u=10*u+c)>255)throw new k}r+=1}e[s]=e[s]<<8|u,2!==(a+=1)&&4!==a||(s+=1)}if(4!==a)throw new k;break}if(":"===t[r]){if((r+=1)===i)throw new k}else if(r<i)throw new k;e[s]=h,s+=1}else{if(null!==n)throw new k("Too many :: groups");r+=1,n=s+=1}}if(null!==n){var l=s-n;for(s=7;0!==s&&l>0;)pz(e,s,n+l-1),s-=1,l-=1}else if(8!==s)throw new k;return e}function lP(t){var i=10,e=fz;return dz.test(t)?(t=t.slice(2),i=16,e=_z):t.length>=2&&"0"===t[0]&&(t=t.slice(1),i=8,e=gz),""===t?0:e.test(t)?C(t,i):void 0}var mn={v0:4},dP=/[\0\t\n\r #%/:?@\[\\\]]/,fP=/[\0\t\n\r #/:?@\[\\\]]/;function _P(t,i){if("["===t[0]){if("]"!==t[t.length-1])throw new k("Invalid IPv6 address");return{v0:2,G7:cP(t.slice(1,-1))}}if(!i)return function(t){if(fP.test(t))throw new k("Invalid code point in opaque host");var i=oP(t,tP);return""===i?mn:{v0:3,Fk:i}}(t);var e=function(t){var i=function(t){return Wz(t.toLowerCase())}(t);return i}(uP(t));if(dP.test(e))throw new k("Invalid code point in host");var s=function(t){var i=t.split(".");if(""===i[i.length-1]&&i.pop(),!(i.length>4)){for(var e=[],s=0;s<i.length;s++){var n=i[s];if(""===n)return;var r=lP(n);if(void 0===r)return;e.push(r)}for(var h=0;h<e.length-1;h++)if(e[h]>255)throw new k;if(e[e.length-1]>=x.pow(256,5-e.length))throw new k;for(var o=e.pop(),a=0;a<e.length;a++)o+=e[a]*x.pow(256,3-a);return o}}(e);return void 0!==s?{v0:1,G7:s}:""===e?mn:{v0:0,V7:e}}function gP(t){switch(t.v0){case 0:return t.V7;case 1:return function(t){for(var i=[],e=t,s=1;s<=4;s++)i.push(""+(255&e)),4!==s&&i.push("."),e>>>=8;return i.reverse().join("")}(t.G7);case 2:return"["+function(t){for(var i="",e=function(t){for(var i=0,e=0,s=0,n=0,r=0;r<8;r++)0===t[r]?(0===n&&(s=r),n++):(n>e&&(i=s,e=n),n=0);return n>e&&(i=s,e=n),e>1?i:null}(t),s=!1,n=0;n<8;n++){if(s){if(0===t[n])continue;s=!1}e!==n?(i+=t[n].toString(16),7!==n&&(i+=":")):(i+=0===n?"::":":",s=!0)}return i}(t.G7)+"]";case 3:return t.Fk;case 4:return""}}var wP=/\+/g;function AP(t){return 42===t||45===t||46===t||95===t||Nz(t)}function vP(t){for(var i=t.split("&"),e=[],s=0;s<i.length;s++){var n=i[s];if(""!==n){var r=n.indexOf("="),h=void 0,o=void 0;-1!==r?(h=n.slice(0,r),o=n.slice(r+1)):(h=n,o=""),h=h.replace(wP," "),o=o.replace(wP," ");var a=uP(h),u=uP(o);e.push([a,u])}}return e}function mP(t){for(var i="",e=0;e<t.length;e++){var s=t[e];e>0&&(i+="&"),i+=pP(Zz(Uz(s[0])))+"="+pP(Zz(Uz(s[1])))}return i}function pP(t){for(var i=[],e=0;e<t.length;e++){var s=t[e];32===s?i.push(43):AP(s)?i.push(s):i.push.apply(i,$z(s))}return Cz(i)}var yP=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Dc(t){var i=""+t,e=yP.exec(i);return e?function(t,i){for(var e=t.length,s=[],n=i;n<e;n++){var r=t.charCodeAt(n);if(TP(r))if(NP(r)||n===e-1)s.push(MP);else{var h=t.charCodeAt(n+1);NP(h)?(s.push(r,h),n++):s.push(MP)}else s.push(r)}return t.slice(0,i)+Cz(s)}(i,e.index):i}var MP=65533,TP=function(t){return 55296==(63488&t)},NP=function(t){return 0!=(1024&t)};function DP(t,i){var e=t[0],s=i[0];return e===s?0:e<s?-1:1}function IP(t){t.W7.length=0}function SP(t,i){!function(t,i){for(var e=0;e<i.length;e++)t[e]=i[e];t.length=i.length}(t.W7,vP(i))}function EP(t){if(t.Ju){var i=mP(t.W7);""===i&&(i=null),t.Ju.Ju.H7=i}}var bP=function(){function t(t){if(void 0===t&&(t=void 0),this.Ju=null,null==t)this.W7=[];else if("object"==typeof t||"function"==typeof t)if(function(t){return t instanceof bP&&!!Az(t.W7)&&(!vz||t[Symbol.iterator]===LP)}(t))this.W7=t.W7.slice();else if(function(t){return null!=t&&(!!Az(t)||!!vz&&"function"==typeof t[Symbol.iterator])}(t)){this.W7=[];for(var i=0,e=mz(t);i<e.length;i++){var s=mz(e[i]);if(2!==s.length)throw new k("Invalid name-value pair");this.W7.push([Dc(s[0]),Dc(s[1])])}}else for(var n in this.W7=[],t)_.prototype.hasOwnProperty.call(t,n)&&this.W7.push([Dc(n),Dc(t[n])]);else(t=Dc(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.W7=vP(t)}var i=t.prototype;return i.append=function(t,i){t=Dc(t),i=Dc(i),this.W7.push([t,i]),EP(this)},i.delete=function(t){t=Dc(t);for(var i=this.W7,e=0;e<i.length;){i[e][0]===t?i.splice(e,1):e++}EP(this)},i.get=function(t){t=Dc(t);for(var i=this.W7,e=0;e<i.length;e++){var s=i[e];if(s[0]===t)return s[1]}return null},i.getAll=function(t){t=Dc(t);for(var i=this.W7,e=[],s=0;s<i.length;s++){var n=i[s];n[0]===t&&e.push(n[1])}return e},i.has=function(t){t=Dc(t);for(var i=this.W7,e=0;e<i.length;e++){if(i[e][0]===t)return!0}return!1},i.set=function(t,i){t=Dc(t),i=Dc(i);for(var e=this.W7,s=!1,n=0;n<e.length;){var r=e[n];r[0]===t?s?e.splice(n,1):(r[1]=i,s=!0,n++):n++}s||e.push([t,i]),EP(this)},i.sort=function(){oz(this.W7,DP),EP(this)},i.toString=function(){return mP(this.W7)},i.entries=function(){return new OP(this.W7,kP)},i.keys=function(){return new OP(this.W7,CP)},i.values=function(){return new OP(this.W7,xP)},i.forEach=function(t){var i=this;this.W7.forEach((function(e){return t(e[1],e[0],i)}))},t}(),LP=bP.prototype.entries;vz&&(bP.prototype[Symbol.iterator]=LP);var kP=function(t){return[t[0],t[1]]},CP=function(t){return t[0]},xP=function(t){return t[1]},OP=function(){function t(t,i){this.q7=0,this.W7=t,this.X7=i}return t.prototype.next=function(){return this.q7<this.W7.length?{done:!1,value:this.X7(this.W7[this.q7++])}:{done:!0,value:void 0}},t}(),jP="null";var Hs=_.create(null);Hs.ftp=21,Hs.file=0,Hs.gopher=70,Hs.http=80,Hs.https=443,Hs.ws=80,Hs.wss=443;var zP=/^(?:\.|%2e)$/i,PP=/^(?:\.|%2e){2}$/i;function BP(t){return zP.test(t)}function RP(t){return PP.test(t)}function UP(t){return void 0!==Hs[t]}function sl(t){return UP(t.Z7)}function QP(t){return""!==t.K7||""!==t.J7}function FP(t){var i=t.length;if(!(i>=2))return!1;if(!GP(t.slice(0,2)))return!1;if(2!==i){var e=t[2];if(47!==e&&92!==e&&63!==e&&35!==e)return!1}return!0}function YP(t){return 2===t.length&&uz.test(t[0])&&(":"===t[1]||"|"===t[1])}function GP(t){return 2===t.length&&YP(Cz(t))}function VP(t){return YP(t)&&":"===t[1]}function WP(t){var i=t.ttt;0!==i.length&&("file"===t.Z7&&1===i.length&&VP(i[0])||i.pop())}function HP(t){return null===t.itt||mn===t.itt||t.ett||"file"===t.Z7}var wi=-1,qP=/\t|\n|\r/g,XP=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function ZP(t,i,e,s){void 0===e&&(e=null),void 0===s&&(s=null),e||(e=new KP,t=t.replace(XP,""));var n=null!==s?s:0;i=i||null;for(var r=[],h=!1,o=!1,a=!1,u=Uz(t=t.replace(qP,"")),c=u.length,l=0;l<=c;){var d=l<c?u[l]:wi;switch(n){case 0:if(!Mz(d)){if(null===s){r.length=0,n=2;continue}throw new k("Invalid scheme")}r.push(Iz(d)),n=1;break;case 1:if(Nz(d)||43===d||45===d||46===d)r.push(Iz(d));else{if(58!==d){if(null===s){r.length=0,n=2,l=0;continue}throw new k("Invalid scheme")}var f=Jt(r);if(null!==s){if(UP(e.Z7)&&!UP(f))return;if(!UP(e.Z7)&&UP(f))return;if((QP(e)||null!==e.c8)&&"file"===f)return;if("file"===e.Z7&&(e.itt===mn||null===e.itt))return}if(e.Z7=f,null!==s)return void(sl(e)&&e.c8===Hs[e.Z7]&&(e.c8=null));r.length=0,"file"===e.Z7?n=13:sl(e)&&i&&i.Z7===e.Z7?n=3:sl(e)?n=7:47===u[l+1]?(n=4,l+=1):(e.ett=!0,e.ttt.push(""),n=18)}break;case 2:if(!i||i.ett&&35!==d)throw new k("Invalid scheme");i.ett&&35===d?(e.Z7=i.Z7,e.ttt=i.ttt.slice(),e.H7=i.H7,e.stt="",e.ett=!0,n=20):"file"!==i.Z7?(n=5,l-=1):(n=13,l-=1);break;case 3:47===d&&47===u[l+1]?n=8:(n=5,l-=1);break;case 4:47===d?n=9:(n=17,l-=1);break;case 5:e.Z7=i.Z7,wi===d?(e.K7=i.K7,e.J7=i.J7,e.itt=i.itt,e.c8=i.c8,e.ttt=i.ttt.slice(),e.H7=i.H7):47===d?n=6:63===d?(e.K7=i.K7,e.J7=i.J7,e.itt=i.itt,e.c8=i.c8,e.ttt=i.ttt.slice(),e.H7="",n=19):35===d?(e.K7=i.K7,e.J7=i.J7,e.itt=i.itt,e.c8=i.c8,e.ttt=i.ttt.slice(),e.H7=i.H7,e.stt="",n=20):92===d&&sl(e)?n=6:(e.K7=i.K7,e.J7=i.J7,e.itt=i.itt,e.c8=i.c8,e.ttt=i.ttt.slice(),e.ttt.pop(),n=17,l-=1);break;case 6:!sl(e)||47!==d&&92!==d?47===d?n=9:(e.K7=i.K7,e.J7=i.J7,e.itt=i.itt,e.c8=i.c8,n=17,l-=1):n=8;break;case 7:if(47!==d||47!==u[l+1]){n=8;continue}n=8,l+=1;break;case 8:47!==d&&92!==d&&(n=9,l-=1);break;case 9:if(64===d){h&&r.unshift(37,52,48),h=!0;for(var _=0;_<r.length;_++){var g=r[_];if(58!==g||a){var w=Jt(hP(g,sP));a?e.J7+=w:e.K7+=w}else a=!0}r.length=0}else if(wi===d||47===d||63===d||35===d||sl(e)&&92===d){if(h&&0===r.length)throw new k("Invalid host");l-=r.length+1,r.length=0,n=10}else r.push(d);break;case 10:case 11:if(null!==s&&"file"===e.Z7)l-=1,n=15;else if(58!==d||o)if(wi===d||47===d||63===d||35===d||sl(e)&&92===d){if(l-=1,sl(e)&&0===r.length)throw new k("Invalid host");if(null!==s&&0===r.length&&(QP(e)||null!==e.c8))return;var A=_P(Jt(r),sl(e));if(e.itt=A,r.length=0,n=16,null!==s)return}else 91===d?o=!0:93===d&&(o=!1),r.push(d);else{if(0===r.length)throw new k("Invalid host");var v=_P(Jt(r),sl(e));if(e.itt=v,r.length=0,n=12,11===s)return}break;case 12:if(Tz(d))r.push(d);else{if(!(wi===d||47===d||63===d||35===d||sl(e)&&92===d||null!==s))throw new k("Invalid port");if(0!==r.length){var m=C(Jt(r),10);if(m>65535)throw new k("Invalid port");e.c8=m===Hs[e.Z7]?null:m,r.length=0}if(null!==s)return;n=16,l-=1}break;case 13:e.Z7="file",47===d||92===d?n=14:i&&"file"===i.Z7?wi===d?(e.itt=i.itt,e.ttt=i.ttt.slice(),e.H7=i.H7):63===d?(e.itt=i.itt,e.ttt=i.ttt.slice(),e.H7="",n=19):35===d?(e.itt=i.itt,e.ttt=i.ttt.slice(),e.H7=i.H7,e.stt="",n=20):(FP(u.slice(l))||(e.itt=i.itt,e.ttt=i.ttt.slice(),WP(e)),n=17,l-=1):(n=17,l-=1);break;case 14:47===d||92===d?n=15:(i&&"file"===i.Z7&&!FP(u.slice(l))&&(VP(i.ttt[0])?e.ttt.push(i.ttt[0]):e.itt=i.itt),n=17,l-=1);break;case 15:if(wi===d||47===d||92===d||63===d||35===d)if(l-=1,null===s&&GP(r))n=17;else if(0===r.length){if(e.itt=mn,null!==s)return;n=16}else{var p=_P(Jt(r),sl(e));if(0===p.v0&&"localhost"===p.V7&&(p=mn),e.itt=p,null!==s)return;r.length=0,n=16}else r.push(d);break;case 16:sl(e)?(n=17,47!==d&&92!==d&&(l-=1)):null===s&&63===d?(e.H7="",n=19):null===s&&35===d?(e.stt="",n=20):wi!==d&&(n=17,47!==d&&(l-=1));break;case 17:if(wi===d||47===d||sl(e)&&92===d||null===s&&(63===d||35===d)){var y=Jt(r);if(RP(y)?(WP(e),47===d||sl(e)&&92===d||e.ttt.push("")):!BP(y)||47===d||sl(e)&&92===d?BP(y)||("file"===e.Z7&&0===e.ttt.length&&GP(r)&&(mn!==e.itt&&null!==e.itt&&(e.itt=mn),r[1]=58,y=Jt(r)),e.ttt.push(y)):e.ttt.push(""),r.length=0,"file"===e.Z7&&(wi===d||63===d||35===d))for(;e.ttt.length>1&&""===e.ttt[0];)e.ttt.shift();63===d?(e.H7="",n=19):35===d&&(e.stt="",n=20)}else r.push.apply(r,hP(d,eP));break;case 18:63===d?(e.H7="",n=19):35===d?(e.stt="",n=20):wi!==d&&(e.ttt[0]+=Jt(hP(d,tP)));break;case 19:null===s&&35===d?(e.stt="",n=20):wi!==d&&(e.H7+=Jt(hP(d,sl(e)?rP:nP)));break;case 20:wi===d||0===d||(e.stt+=Jt(hP(d,iP)))}l++}return e}function xr(t,i,e,s){try{ZP(t,i,e,s)}catch(t){}}var KP=function(){this.Z7="",this.K7="",this.J7="",this.itt=null,this.c8=null,this.ttt=[],this.H7=null,this.stt=null,this.ett=!1};function JP(t){switch(t.Z7){case"blob":var i;try{i=ZP(t.ttt[0],null)}catch(t){return jP}return JP(i);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return function(t,i,e){return t+"://"+gP(i)+(null===e?"":":"+e)}(t.Z7,t.itt,t.c8);default:return jP}}var $P=function(){function t(t,i){var e,s=null;if(null!=i)if(function(t){return null!=t&&t instanceof $P&&"object"==typeof t.Ju}(i))s=i.Ju;else try{s=ZP(String(i),null)}catch(t){throw new k("Invalid base URL: "+t.message)}try{e=ZP(String(t),s)}catch(t){throw new k("Invalid URL: "+t.message)}var n=e.H7;this.Ju=e,this.H7=function(t){var i=new bP;return null!==t&&SP(i,t),i}(n),this.H7.Ju=this}var i=t.prototype;return i.toString=function(){return this.href},i.toJSON=function(){return this.href},function(t,i,e){i&&hz(t.prototype,i),e&&hz(t,e)}(t,[{key:"href",get:function(){return function(t,i){void 0===i&&(i=!1);var e=t.Z7+":";if(null!==t.itt?(e+="//",QP(t)&&(e+=t.K7,""!==t.J7&&(e+=":"+t.J7),e+="@"),e+=gP(t.itt),null!==t.c8&&(e+=":"+t.c8)):null===t.itt&&"file"===t.Z7&&(e+="//"),t.ett)e+=t.ttt[0];else for(var s=0,n=t.ttt;s<n.length;s++)e+="/"+n[s];return null!==t.H7&&(e+="?"+t.H7),i||null===t.stt||(e+="#"+t.stt),e}(this.Ju)},set:function(t){var i;try{i=ZP(String(t),null)}catch(t){throw new k("Invalid URL: "+t.message)}this.Ju=i,IP(this.H7);var e=this.Ju.H7;null!==e&&SP(this.H7,e)}},{key:"origin",get:function(){return JP(this.Ju)}},{key:"protocol",get:function(){return this.Ju.Z7+":"},set:function(t){xr(t+":",null,this.Ju,0)}},{key:"username",get:function(){return this.Ju.K7},set:function(t){HP(this.Ju)||(this.Ju.K7=oP(t,sP))}},{key:"password",get:function(){return this.Ju.J7},set:function(t){HP(this.Ju)||(this.Ju.J7=oP(t,sP))}},{key:"host",get:function(){var t=this.Ju,i=t.itt;if(null===i)return"";var e=t.c8,s=gP(i);return null!==e&&(s+=":"+e),s},set:function(t){this.Ju.ett||xr(t,null,this.Ju,10)}},{key:"hostname",get:function(){var t=this.Ju.itt;return null===t?"":gP(t)},set:function(t){this.Ju.ett||xr(t,null,this.Ju,11)}},{key:"port",get:function(){var t=this.Ju.c8;return null===t?"":""+t},set:function(t){HP(this.Ju)||(""===t?this.Ju.c8=null:xr(t,null,this.Ju,12))}},{key:"pathname",get:function(){var t=this.Ju.ttt;return this.Ju.ett?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Ju.ett||(this.Ju.ttt.length=0,xr(t,null,this.Ju,16))}},{key:"search",get:function(){var t=this.Ju.H7;return null===t||""===t?"":"?"+t},set:function(t){t=Dc(t);var i=this.Ju;if(""===t)return i.H7=null,void IP(this.H7);"?"===t[0]&&(t=t.slice(1)),i.H7="",xr(t,null,i,19),SP(this.H7,t)}},{key:"searchParams",get:function(){return this.H7}},{key:"hash",get:function(){var t=this.Ju.stt;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Ju.stt="",xr(t,null,this.Ju,20)):this.Ju.stt=null}}]),t}();function tB(t){return t.document&&t.document.baseURI||t.location.href||""}function iB(){let t=Ys,i=t.location.href;for(;t!==s.top;){t=t.parent;try{i=t.location.href}catch(t){}}return i}r(),r(),r(),r(),r();var eB=!!("ontouchstart"in self||self.DocumentTouch&&h instanceof self.DocumentTouch)||!(!sd||!sd.msMaxTouchPoints),sB=Ve(),nB=!(!sB||!sB.webkitShowPlaybackTargetPicker),rB=class{get ntt(){return void 0===this.htt&&(this.htt=this.ott()),this.htt}ott(){return 0}get att(){return!wn.Jb}get utt(){if(s.screen)return{width:s.screen.width,height:s.screen.height}}get B4(){return s.devicePixelRatio||1}get ctt(){return nB}get m4(){return!1}get d4(){return!0}get _A(){return wn.Fb||wn.Ga}get ltt(){return!wn.Ga}get Pj(){return!0}get wA(){return!0}get gA(){return!1}get dtt(){}get ftt(){return!0}get pJ(){return!1}get _tt(){return!1}get gtt(){return wn.Eb}wtt(t,i){return!0}Att(t){return t>=2*kc}constructor(){this.htt=void 0,this.mtt=!1,this.Je=eB,this.Qs=!1,this.i9=!0}};r();var hB=function(){const t=sD();if(!t)return!1;const i=t.muted;return t.muted=!i,t.muted!==i}(),oB=function(){if(wn.HE)return!1;const t=sD();if(!t)return!1;const i=t.volume;return t.volume=i/2+.1,i!==t.volume}();var L=class extends rB{ott(){return this.ptt?this.ptt.ntt:super.ott()}get dtt(){var t;return null==(t=this.ptt)?void 0:t.dtt}get ftt(){var t,i;return null==(i=null==(t=this.ptt)?void 0:t.ftt)||i}wtt(t,i){return this.ptt?this.ptt.wtt(t,i):super.wtt(t,i)}Att(t){return this.ptt?this.ptt.Att(t):super.Att(t)}constructor(t){super(),this.ptt=t,this.ptt&&(this.mtt=this.ptt.mtt,this.Je=this.ptt.Je,this.i9=hB&&this.ptt.i9)}},aB=class extends L{get gA(){return wn.Ga}constructor(t){super(t),this.mtt=!0,this.Qs=!0}},uB=class extends aB{get gA(){return!0}ott(){return Ck(!0)?super.ott():1}};r();var cB=class extends L{get m4(){return wn.Nb<3}get d4(){return wn.Nb>=3}get utt(){return s.tizen&&!this.ytt&&s.tizen.systeminfo.getPropertyValue("DISPLAY",(t=>{const i=t.resolutionWidth,e=t.resolutionHeight;1===i&&1===e||(this.ytt={width:i,height:e})})),this.ytt}get pJ(){return wn.Nb<3}get _tt(){return!0}wtt(t,i){return super.wtt(t,i)}};r();var q=class extends rB{constructor(){super()}};r();var lB=class extends q{get dtt(){if(wn.kE)return 4096}wtt(t,i){if(t&&t.Mtt&&i&&i.Mtt){let e=Ti(t.Mtt,"mp4a.40.2")&&Ti(i.Mtt,"mp4a.40.5"),s=Ti(t.Mtt,"mp4a.40.5")&&Ti(i.Mtt,"mp4a.40.2"),n=Ti(t.Mtt,"mp4a.40.2")&&Ti(i.Mtt,"mp4a.40.34"),r=Ti(t.Mtt,"mp4a.40.34")&&Ti(i.Mtt,"mp4a.40.2"),h=Ti(t.Mtt,"mp4a.40.5")&&Ti(i.Mtt,"mp4a.40.34"),o=Ti(t.Mtt,"mp4a.40.34")&&Ti(i.Mtt,"mp4a.40.5");return!(e||s||n||r||h||o)}return!0}};function Ti(t,i){return t.indexOf(i)>-1}r();var dB=class extends q{Att(t){return t>=2}};r();var fB=class extends q{constructor(){super(),this.mtt=wn.Gb>=11,this.i9=wn.Fb&&!(wn.Ga&&wn.Gb<10)}};r();var _B=class extends L{get utt(){return s.webOS&&!this.ytt&&s.webOS.deviceInfo((t=>{this.ytt={width:t.screenWidth,height:t.screenHeight}})),this.ytt}get Pj(){return!1}get _tt(){return!0}};r();var gB=class extends q{get ftt(){return!wn.xE||(wn.vb?92!==wn.pb:wn.wb>=100)}};r();var wB=class extends L{get gA(){return!0}},AB=class{Ttt(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];Vu(...i)}Pv(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];ji(...i)}Ntt(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];Eu(...i)}Dtt(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];$S(t,...e)}g_(t,i){return u(t,i)}s$(t,i){return v(t,i)}__(t){c(t)}r$(t){m(t)}zx(){return this.Itt.zx()}bx(){return this.Itt.bx()}kx(){return this.Itt.kx()}Lx(){return this.Itt.Lx()}Sx(){return this.Itt.Sx()}xx(t,i){return this.Itt.xx(t,i)}Ex(t){return this.Itt.Ex(t)}get bj(){return this.Stt}Dh(t,i){let e;return void 0===i&&(i=tB(Ys)),e="object"!=typeof i||i instanceof $P?i:i.href,new $P(t,e)}zv(t,i){if(void 0===i&&(i=tB(Ys)),this.Ett){const e=ae(i)?i:i.toString();return new self.URL(t,e).href}return this.Dh(t,i).href}get Ys(){return this.btt}get vA(){return{AA:sd&&sd.userAgent.match(/Android /i)?"Android":"other",mA:Boolean(sd&&sd.userAgent.match(/Android 8.0.0/i))}}get rV(){return self&&self.location&&"https:"===self.location.protocol}get Ltt(){return"languages"in sd?sd.languages.slice():[sd.language]}constructor(){this.Stt=new vB,this.btt=function(){const t=function(){if(wn.Bb)return new lB;if(wn.Lb||wn.Cb)return new dB;if(wn.Fb)return new fB;if(wn._b)return new gB;return new q}();return wn.Ga?new uB(t):wn.Qs?new aB(t):wn.Mb?new cB(t):wn.Ib?new _B(t):wn.kE?new wB(t):new L(t)}(),this.Ett=function(){if(self.URL)try{const t=new self.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href}catch(t){}return!1}(),self.performance&&self.performance.now?this.f_=()=>self.performance.now():this.f_=Qo}},vB=class{get Lj(){return sd.oscpu}get Ys(){return sd.platform}get Cj(){return sd.vendor}get xj(){return sd.vendorSub}};r(),r();var mB=(()=>{const t=self.Blob;if(t)try{new t;return function(t){return(i,e)=>new t(i,e)}(t)}catch(t){}const i=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;if(i)return function(t){return(i,e)=>{const s=new t;if(i)for(const t of i)s.append(t);return s.getBlob(e&&e.type||"")}}(i)})();function pB(t,i,e){const s=mB([i],{type:"application/octet-stream"}),n=URL.createObjectURL(s),r=function(t,i){let e=t;const s=e.indexOf("?");if(s>=0&&(e=e.substr(0,s)),e=e.substr(e.lastIndexOf("/")+1),i){let t=e.indexOf(".");t<0&&(t=e.length),e=e.substr(0,t)+i+e.substr(t)}return e}(t,e),o=h.createElement("a");o.href=n,o.download=r,h.body.appendChild(o),o.click(),h.body.removeChild(o),URL.revokeObjectURL(n)}r(),r(),r();var yB=class extends ni{get name(){return bs.wS}constructor(t,i){super(t,function(t){return"Error while opening "+t+". Invalid URL."}(t.zu),i)}};r();var MB=function(t,i){return(MB=_.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)};function TB(t,i){function e(){this.constructor=t}MB(t,i),t.prototype=null===i?_.create(i):(e.prototype=i.prototype,new e)}var be="object"==typeof s?s:"object"==typeof self?self:"object"==typeof global?global:null;var NB=function(){var t=be.Blob;if(t)try{return new t,function(t,i){return new be.Blob(t,i)}}catch(t){}var i=be.BlobBuilder||be.WebKitBlobBuilder||be.MozBlobBuilder||be.MSBlobBuilder;return i?function(t){return function(i,e){var s=new t;if(i)for(var n=0,r=i;n<r.length;n++){var h=r[n];s.append(h)}return s.getBlob(e&&e.type||"")}}(i):null}(),DB="function"==typeof f?f:void 0;function IB(t){return t&&"function"==typeof t.getReader}function SB(t){if("function"!=typeof t)return!1;try{var i=!1,e=new t({start:function(){i=!0}});return!!i&&IB(e)}catch(t){return!1}}var EB=function(){function t(t,i){this.Nd=t,this.ktt=i}return t.prototype.pull=function(t){var i=this;return this.Nd.read().then((function(e){i.ktt&&i.ktt(e),e.done?t.close():t.enqueue(e.value)}))},t.prototype.cancel=function(t){return this.Nd.cancel(t)},t}();function bB(t,i){return i.constructor===t?i:new t(new EB(i.getReader()),{highWaterMark:0})}var LB=function(){function t(t,i){this.Ctt=t,this.xtt=i}return t.prototype.pull=function(t){return this.Ctt().then((function(i){t.enqueue(new T(i)),t.close()}))},t.prototype.cancel=function(t){this.xtt&&this.xtt(t)},t}();function kB(t,i,e){return new t(new LB(i,e),{highWaterMark:0})}var It={searchParams:"URLSearchParams"in be,iterable:"Symbol"in be&&"iterator"in Symbol,blob:"FileReader"in be&&!!NB,formData:"FormData"in be,arrayBuffer:"ArrayBuffer"in be,stream:SB(DB),streamRequest:"Request"in be&&"body"in be.Request.prototype,streamResponse:"Response"in be&&"body"in be.Response.prototype,abort:"AbortController"in be&&"Request"in be&&"signal"in be.Request.prototype,encoding:"TextEncoder"in be&&"TextDecoder"in be,url:"URL"in be&&function(t){try{return new be.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in be&&/Firefox\//.test(be.navigator.userAgent)};function CB(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new k("Invalid character in header field name");return t}function xB(t){return"string"!=typeof t&&(t=String(t)),t}function OB(t){var i={next:function(){var i=t.shift();return{done:void 0===i,value:i}}};return It.iterable&&(i[Symbol.iterator]=function(){return i}),i}var jB=function(){function t(t){var i=this;this.Kf={};var e=function(t,e){Array.isArray(t)&&2===t.length?i.append(t[0],t[1]):i.append(e,t)};!function(t){return t&&"function"==typeof t.forEach}(t)?!function(t){return It.iterable&&t&&t[Symbol.iterator]}(t)?t&&_.getOwnPropertyNames(t).forEach((function(e){i.append(e,t[e])})):Array.from(t).forEach(e):t.forEach(e)}return t.prototype.append=function(t,i){t=CB(t),i=xB(i);var e=t.toLowerCase();if(this.Kf.hasOwnProperty(e)){var s=this.Kf[e],n=s[1];s[1]=n?n+", "+i:i}else this.Kf[e]=[t,i]},t.prototype.delete=function(t){var i=CB(t).toLowerCase();delete this.Kf[i]},t.prototype.get=function(t){var i=CB(t).toLowerCase();return this.Kf.hasOwnProperty(i)?this.Kf[i][1]:null},t.prototype.has=function(t){var i=CB(t).toLowerCase();return this.Kf.hasOwnProperty(i)},t.prototype.set=function(t,i){var e=(t=CB(t)).toLowerCase();this.Kf[e]=[t,xB(i)]},t.prototype.forEach=function(t,i){for(var e in this.Kf)this.Kf.hasOwnProperty(e)&&t.call(i,this.Kf[e][1],e,this)},t.prototype.keys=function(){var t=[];return this.forEach((function(i,e){t.push(e)})),OB(t)},t.prototype.values=function(){var t=[];return this.forEach((function(i){t.push(i)})),OB(t)},t.prototype.entries=function(){var t=[];return this.forEach((function(i,e){t.push([e,i])})),OB(t)},t.prototype.asList=function(){var t=[];for(var i in this.Kf)if(this.Kf.hasOwnProperty(i)){var e=this.Kf[i],s=e[0],n=e[1];t.push([s,n])}return t},t}();function zB(){}It.iterable&&(jB.prototype[Symbol.iterator]=jB.prototype.entries);var PB,BB,RB,UB=x.min,QB=String.fromCharCode,FB=16384;function YB(t){for(var i=[],e=0,s=t;e<s.length;e++){var n=s[e];n>65535&&(n-=65536,i.push(n>>>10&1023|55296),n=56320|1023&n),i.push(n)}return function(t){for(var i=t.length,e=[],s=0;s<i;s+=FB){var n=UB(s+FB,i);e.push(QB.apply(null,t.slice(s,n)))}return e.join("")}(i)}function GB(t){if(t>=55296&&t<=57343)throw new b("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function VB(t,i){return t>>i&63|128}function WB(t,i){0!=(4294967168&t)?(0==(4294965248&t)?i.push(t>>6&31|192):0==(4294901760&t)?(GB(t),i.push(t>>12&15|224),i.push(VB(t,6))):0==(4292870144&t)&&(i.push(t>>18&7|240),i.push(VB(t,12)),i.push(VB(t,6))),i.push(63&t|128)):i.push(t)}function HB(){if(RB>=BB)throw new b("Invalid byte index");var t=255&PB[RB];if(RB++,128==(192&t))return 63&t;throw new b("Invalid continuation byte")}function qB(){var t,i;if(RB>BB)throw new b("Invalid byte index");if(RB===BB)return!1;if(t=255&PB[RB],RB++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|HB())>=128)return i;throw new b("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|HB()<<6|HB())>=2048)return GB(i),i;throw new b("Invalid continuation byte")}if(240==(248&t)&&(i=(7&t)<<18|HB()<<12|HB()<<6|HB())>=65536&&i<=1114111)return i;throw new b("Invalid UTF-8 detected")}var XB=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function ZB(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function KB(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function JB(t){return t&&DataView.prototype.isPrototypeOf(t)}var bo,$B=ArrayBuffer.isView||function(t){return t&&(XB.indexOf(_.prototype.toString.call(t))>-1||JB(t))};function tR(t){if(t.bodyUsed)return Promise.reject(new k("Already used"));t.bodyUsed=!0}function iR(t){return new Promise((function(i,e){t.onload=function(){i(t.result)},t.onerror=function(){e(t.error)}}))}function eR(t){return It.encoding?new be.TextDecoder("utf-8").decode(new T(t)):YB(function(t){BB=(PB=t).length,RB=0;for(var i,e=[];!1!==(i=qB());)e.push(i);return e}(new T(t)))}function sR(t){return It.encoding?(new be.TextEncoder).encode(t).buffer:new T(function(t){for(var i=[],e=0,s=t;e<s.length;e++)WB(s[e],i);return i}(function(t){for(var i=[],e=0,s=t.length;e<s;){var n=t.charCodeAt(e++);if(n>=55296&&n<=56319&&e<s){var r=t.charCodeAt(e++);56320==(64512&r)?i.push(((1023&n)<<10)+(1023&r)+65536):(i.push(n),e--)}else i.push(n)}return i}(t))).buffer}function nR(t){var i=t.getReader(),e=[],s=function(t){var n=t.done,r=t.value;return n?Promise.resolve(e):(e.push(r),i.read().then(s))};return i.read().then(s)}function rR(t){return nR(t).then((function(t){return function(t){for(var i=0,e=0,s=t;e<s.length;e++)i+=(a=s[e]).byteLength;for(var n=new T(i),r=0,h=0,o=t;h<o.length;h++){var a=o[h];n.set(a,r),r+=a.byteLength}return n}(t).buffer}))}function hR(t){return t.slice?t.slice(0):oR(new T(t))}function oR(t){if(t.slice)return t.slice(0).buffer;var i=new T(t.byteLength);return i.set(new T(t.buffer,t.byteOffset,t.byteLength)),i.buffer}function aR(t){var i=new FormData;return t.trim().split("&").forEach((function(t){if(t){var e=t.split("="),s=e.shift().replace(/\+/g," "),n=e.join("=").replace(/\+/g," ");i.append(decodeURIComponent(s),decodeURIComponent(n))}})),i}function uR(t){var i=t;if(i.bodyUsed)throw new k("Already used");if(i.Ott===bo.jtt){if(!i.ztt.tee)throw new b("could not clone ReadableStream body");var e=i.ztt.tee(),s=e[0],n=e[1];return i.body=s,i.ztt=s,i.Ptt=s,n}return i.Ott===bo.OS?hR(i.ztt):i.Ott===bo.zG?i.ztt.then(uR):i.Ptt}!function(t){t[t.Ru=0]="Ru",t[t.Btt=1]="Btt",t[t.Rtt=2]="Rtt",t[t.OS=3]="OS",t[t.jtt=4]="jtt",t[t.zG=5]="zG"}(bo||(bo={}));var cR=function(){function t(i,e){this.bodyUsed=!1;var s=this;if(this.Ptt=i||null,i)if("string"==typeof i)this.Ott=bo.Ru,this.ztt=i;else if(function(t){return t&&"function"==typeof t.then}(i))this.Ott=bo.zG,this.ztt=Promise.resolve(i).then((function(i){return new t(i,e)})),this.ztt.catch(zB);else if(It.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(i))this.Ott=bo.Btt,this.ztt=i;else if(It.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(i))this.Ott=bo.Rtt,this.ztt=i;else if(It.searchParams&&ZB(i))this.Ott=bo.Ru,this.ztt=i.toString();else if(It.arrayBuffer&&(KB(i)||$B(i)))JB(i)&&(this.Ptt=function(t){return new T(t.buffer,t.byteOffset,t.byteLength)}(i)),this.Ott=bo.OS,this.ztt=function(t){return KB(t)?hR(t):oR(t)}(i);else{if(!It.stream||!IB(i))throw new b("unsupported BodyInit type");i=bB(DB,i),this.Ott=bo.jtt,this.ztt=i,this.Ptt=i}else this.Ott=bo.Ru,this.ztt="";this.Utt="",e.has("content-type")?this.Utt=(e.get("content-type")||"").toLowerCase():("string"==typeof i?this.Utt="text/plain;charset=UTF-8":s.Ott===bo.Btt&&s.ztt.type?this.Utt=s.ztt.type:It.searchParams&&ZB(i)&&(this.Utt="application/x-www-form-urlencoded;charset=UTF-8"),this.Utt&&e.set("content-type",this.Utt)),It.stream&&(null==i?this.body=null:s.Ott===bo.jtt?this.body=s.ztt:this.body=kB(DB,(function(){return s.arrayBuffer()}),(function(){s.bodyUsed=!0})))}return t.prototype.text=function(){var t=this,i=tR(t);return i||(t.Ott===bo.Btt?function(t){var i=new FileReader,e=iR(i);return i.readAsText(t),e}(t.ztt):t.Ott===bo.OS?Promise.resolve(t.ztt).then(eR):t.Ott===bo.jtt?function(t){return rR(t).then(eR)}(t.ztt):t.Ott===bo.zG?t.ztt.then((function(t){return t.text()})):t.Ott===bo.Rtt?Promise.reject(new b("could not read FormData body as text")):Promise.resolve(t.ztt))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();It.blob&&(cR.prototype.blob=function(){var t=this,i=tR(t);return i||(t.Ott===bo.Btt?Promise.resolve(t.ztt):t.Ott===bo.OS?Promise.resolve(NB([t.ztt],{type:t.Utt})):t.Ott===bo.jtt?function(t,i){return nR(t).then((function(t){return NB(t,{type:i||""})}))}(t.ztt,t.Utt):t.Ott===bo.zG?t.ztt.then((function(t){return t.blob()})):t.Ott===bo.Rtt?Promise.reject(new b("could not read FormData body as Blob")):Promise.resolve(NB([t.ztt],{type:t.Utt})))}),It.arrayBuffer&&(cR.prototype.arrayBuffer=function(){var t=this;return t.Ott===bo.OS?tR(t)||Promise.resolve(t.ztt):t.Ott===bo.Btt?tR(t)||function(t){var i=new FileReader,e=iR(i);return i.readAsArrayBuffer(t),e}(t.ztt):t.Ott===bo.jtt?rR(t.ztt):t.Ott===bo.zG?tR(t)||t.ztt.then((function(t){return t.arrayBuffer()})):t.Ott===bo.Rtt?Promise.reject(new b("could not read FormData body as ArrayBuffer")):Promise.resolve(t.ztt).then(sR)}),It.formData&&(cR.prototype.formData=function(){var t=this;return t.Ott===bo.Rtt?tR(t)||Promise.resolve(t.ztt):t.text().then(aR)});var lR=[301,302,303,307,308],dR=function(t){function i(i,e){var s=this,n=new jB((e=e||{}).headers);return(s=t.call(this,i||null,n)||this).type="default",s.status=void 0===e.status?200:e.status,s.ok=s.status>=200&&s.status<300,s.statusText=void 0!==e.statusText?String(e.statusText):"",s.headers=n,s.url=e.url||"",s}return TB(i,t),i.prototype.clone=function(){return new i(uR(this),{status:this.status,statusText:this.statusText,headers:new jB(this.headers),url:this.url})},i.error=function(){var t=new i(null,{status:0,statusText:""});return t.type="error",t},i.redirect=function(t,e){if(-1===lR.indexOf(e))throw new RangeError("Invalid status code");return new i(null,{status:e,headers:{location:t}})},i}(cR);var fR=function(t,i){return t(i={exports:{}},i.exports),i.exports}((function(t,i){function e(t,i){if(!(t instanceof i))throw new k("Cannot call a class as a function")}function s(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),_.defineProperty(t,s.key,s)}}function n(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),t}function r(t){return(r=_.setPrototypeOf?_.getPrototypeOf:function(t){return t.__proto__||_.getPrototypeOf(t)})(t)}function o(t,i){return(o=_.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,i,e){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,i,e){var s=function(t,i){for(;!_.prototype.hasOwnProperty.call(t,i)&&null!==(t=r(t)););return t}(t,i);if(s){var n=_.getOwnPropertyDescriptor(s,i);return n.get?n.get.call(e):n.value}},c(t,i,e||t)}_.defineProperty(i,"__esModule",{value:!0});var l=function(){function t(){e(this,t),_.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(t,i){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(i)}},{key:"removeEventListener",value:function(t,i){if(t in this.listeners)for(var e=this.listeners[t],s=0,n=e.length;s<n;s++)if(e[s]===i)return void e.splice(s,1)}},{key:"dispatchEvent",value:function(t){var i=this;if(t.type in this.listeners){for(var e=function(e){u((function(){return e.call(i,t)}))},s=this.listeners[t.type],n=0,r=s.length;n<r;n++)e(s[n]);return!t.defaultPrevented}}}]),t}(),d=function(t){function i(){var t;return e(this,i),t=function(t,i){return!i||"object"!=typeof i&&"function"!=typeof i?a(t):i}(this,r(i).call(this)),t.listeners||l.call(a(t)),_.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),_.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,i){if("function"!=typeof i&&null!==i)throw new k("Super expression must either be null or a function");t.prototype=_.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&o(t,i)}(i,t),n(i,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(r(i.prototype),"dispatchEvent",this).call(this,t)}}]),i}(l),f=function(){function t(){e(this,t),_.defineProperty(this,"signal",{value:new d,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(i){void 0!==h?h.createEvent?(t=h.createEvent("Event")).initEvent("abort",!1,!1):(t=h.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(f.prototype[Symbol.toStringTag]="AbortController",d.prototype[Symbol.toStringTag]="AbortSignal"),i.AbortSignal=d,i.AbortController=f,i.default=f}));!function(t){t&&t.__esModule&&_.prototype.hasOwnProperty.call(t,"default")&&t.default}(fR);fR.AbortSignal;var _R=fR.AbortController,gR=be.DOMException;try{new gR}catch(g){(gR=function(t,i){b.call(this,t),this.name=i||"Error",b.captureStackTrace&&b.captureStackTrace(this,this.constructor)}).prototype=_.create(b.prototype),gR.prototype.constructor=gR}var wR=_R;function AR(t,i){if(!t.signal.aborted)if(i.aborted)t.abort();else{var e=function(){i.removeEventListener("abort",e),t.signal.removeEventListener("abort",e),t.abort()};i.addEventListener("abort",e),t.signal.addEventListener("abort",e)}}function vR(t,i,e){return new Promise((function(s,n){if(i.signal.aborted)return t.catch(zB),n(mR());var r=function(){i.signal.removeEventListener("abort",r),n(mR())};i.signal.addEventListener("abort",r),t.then((function(t){i.signal.removeEventListener("abort",r),s(t),e&&i.abort()}),(function(t){i.signal.removeEventListener("abort",r),n(t),e&&i.abort()}))}))}function mR(){return new gR("Aborted","AbortError")}var pR,yR="moz-chunked-arraybuffer";function MR(t){try{var i=new rd;return i.open("GET","https://test"),i.responseType=t,i.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(pR||(pR={}));var TR=function(){function t(t,i){var e=this;this.Qtt=!1,this.pS=t,this.Ftt=i,this.Ytt=new rd,this.Gtt=new Promise((function(t,i){e.Vtt=t,e.Wtt=i}))}return t.prototype.send=function(){var t=this;return this.Htt().then((function(i){return t.qtt(i,t.Ftt),t.Gtt}))},t.prototype.Htt=function(){var t=this.pS;return t.Ott===bo.jtt?t.arrayBuffer():Promise.resolve(t.Ptt)},t.prototype.Xtt=function(t){this.pS.onprogress&&this.pS.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Ztt=function(t){this.Wtt(t)},t.prototype.pq=function(){this.Ztt(new k("Network request failed"))},t.prototype.Ktt=function(){this.Ztt(new k("Network request failed"))},t.prototype.Jtt=function(){this.Ztt(mR())},t.prototype.qtt=function(t,i){var e=this,s=this.pS,n=this.Ytt,r=function(){return e.$tt()};if(s.signal.aborted)return this.Jtt();n.onreadystatechange=function(){if(n.readyState>=pR.HEADERS_RECEIVED&&!e.Qtt){var t=function(t){var i=new jB;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var e=t.split(":"),s=e.shift().trim();if(s){var n=e.join(":").trim();i.append(s,n)}})),i}(n.getAllResponseHeaders()||""),i={status:n.status,statusText:n.statusText,headers:t,url:n.responseURL||t.get("X-Request-URL")};e.Qtt=!0,e.tit(i)}},n.onprogress=function(t){return e.Xtt(t)},n.onload=function(){return e.iit()},n.onerror=function(){return e.pq()},n.ontimeout=function(){return e.Ktt()},n.onabort=function(){return e.Jtt()},n.open(s.method,s.url,!0),n.withCredentials="include"===s.credentials,"responseType"in n&&i&&(n.responseType=i),s.headers.forEach((function(t,i){n.setRequestHeader(i,t)})),s.signal.addEventListener("abort",r),n.onloadend=function(){s.signal.removeEventListener("abort",r)},t?n.send(t):n.send()},t.prototype.$tt=function(){this.Jtt(),this.Ytt.abort()},t}(),NR=function(t){function i(i,e){var s=t.call(this,i,e)||this;return s.eit=void 0,s.sit=void 0,s}return TB(i,t),i.prototype.tit=function(t){var i=this;this.eit=new Promise((function(t,e){i.sit=t,i.nit=e})),this.Vtt(new dR(this.eit,t))},i.prototype.iit=function(){var t=this.Ytt.response;if(null==t){var i=this.Ftt;""===i||"text"===i?t=this.Ytt.responseText:"document"===i?t=this.Ytt.responseXML:"arraybuffer"===i?t=new ArrayBuffer(0):"blob"===i&&(t=NB([]))}this.sit(t)},i.prototype.Ztt=function(i){t.prototype.Ztt.call(this,i),this.nit&&this.nit(i)},i}(TR),DR=function(t){function i(i){var e=t.call(this,i,yR)||this;return e.rit=void 0,e.hit=void 0,e.oit=!1,e}return TB(i,t),i.prototype.tit=function(t){var i=this;this.rit=new DB({start:function(t){i.hit=t},cancel:function(){i.oit=!0,i.$tt()}}),this.Vtt(new dR(this.rit,t))},i.prototype.Xtt=function(i){this.oit||this.hit.enqueue(new T(this.Ytt.response)),t.prototype.Xtt.call(this,i)},i.prototype.iit=function(){this.hit.close()},i.prototype.Ztt=function(i){t.prototype.Ztt.call(this,i),this.hit&&!this.oit&&(this.oit=!0,this.hit.error(i))},i}(TR),IR=function(){var t=It.firefox&&MR(yR);return IR=function(){return t},t},SR=function(){var t;return t=It.arrayBuffer&&MR("arraybuffer")?"arraybuffer":It.blob&&MR("blob")?"blob":"",SR=function(){return t},t};function ER(t){return(It.stream&&IR()?new DR(t):new NR(t,SR())).send()}var bR=be.fetch,LR=be.Request,kR=(be.Response,be.AbortController);var CR=["http:","https:"];var xR=function(){try{if(It.streamRequest){var t=new LR("about:blank",{body:"",method:"POST"}).body;if(t&&SB(t.constructor))return t.constructor}}catch(t){}}();function OR(t){return(t instanceof jB?t:new jB(t)).asList()}function jR(t,i,e){var s;if(It.stream){var n=void 0;if(It.streamResponse){var r=t.body;n=r&&bB(DB,r)}else n=kB(DB,(function(){return vR(t.arrayBuffer(),i,!0)}),(function(){i.abort()}));n&&e&&(n=function(t,i,e){var s=0,n=function(t){var n=t.done,r=t.value;n?e=void 0===e?s:e:s+=r.byteLength,i(s,e)};return function(t,i,e){return new t(new EB(i.getReader(),e),{highWaterMark:0})}(DB,t,n)}(n,e,zR(t.headers))),s=n}else{var h=vR(t.arrayBuffer(),i,!0);e&&(h=function(t,i,e){return Promise.resolve().then((function(){return i(0,e),t})).then((function(t){var s=t.byteLength;return i(s,e=void 0===e?s:e),t}))}(h,e,zR(t.headers))),s=h}return new dR(s,t)}function zR(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function PR(t){var i=new wR;return t.signal&&AR(i,t.signal),function(t,i){var e,s,n=t;if(e=n.Ott===bo.jtt?It.streamRequest&&xR?Promise.resolve(bB(xR,n.ztt)):vR(t.arrayBuffer(),i,!1):vR(Promise.resolve(t.Ptt),i,!1),It.abort){var r=new kR;AR(r,i.signal),s=r.signal}return e.then((function(i){return new LR(t.url,{body:i||void 0,credentials:t.credentials,headers:OR(t.headers),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:s})}))}(t,i).then((function(e){return bR(e).then((function(e){return jR(e,i,t.onprogress)}))}))}var BR=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var RR=function(t){function i(e,s){var n,r,h,o,a,u,c,l,d,f=this,_=(s=s||{}).body||null;if(e instanceof i){if(e.bodyUsed)throw new k("Already used");n=e.url,r=e.credentials,s.headers||(h=new jB(e.headers)),o=e.method,a=e.mode,u=e.referrer,c=e.referrerPolicy,l=e.signal,d=e.onprogress,_||null==e.Ptt||(_=e.Ptt,e.bodyUsed=!0)}else n=String(e),r="same-origin",o="GET",a="cors",u="about:client",c="",l=null,d=null;if(!s.headers&&h||(h=new jB(s.headers)),s&&(u="about:client",c=""),(f=t.call(this,_,h)||this).url=n,f.headers=h,f.credentials=s.credentials||r,f.method=function(t){var i=t.toUpperCase();return BR.indexOf(i)>-1?i:t}(s.method||o),f.mode=s.mode||a,f.signal=s.signal||l||(new wR).signal,f.referrer=void 0!==s.referrer?s.referrer:u,f.referrerPolicy=void 0!==s.referrerPolicy?s.referrerPolicy:c,f.onprogress=s.onprogress||d,("GET"===f.method||"HEAD"===f.method)&&_)throw new k("Body not allowed for GET or HEAD requests");return f}return TB(i,t),i.prototype.clone=function(){return new i(this,{body:uR(this)})},i}(cR),UR="function"==typeof bR&&It.stream&&It.streamResponse&&It.url;function QR(t,i){return new Promise((function(e){var s=new RR(t,i),n=UR&&function(t){try{return CR.indexOf(new be.URL(t,be.location.href).protocol)>=0}catch(t){return!1}}(s.url)?PR:ER;e(n(s))}))}QR.polyfill=!0;var FR=class{async ait(){const t=this.pS;let i,e;t.NS&&u((()=>{this.uit=!0,this.aO.c_()}),t.NS);try{i=QR(t.zu,{method:t.nE,headers:t.sE.PS(),body:t.eE,credentials:t.uE?"include":"same-origin",signal:VR(this.aO.a_),mode:t.eA,onprogress:t.cE})}catch(i){throw new yB(t,i)}try{e=await i}catch(t){const i=this.cit(t);throw Oi(i)&&this.aO.c_(),i}const s=e.url||t.zu,n=0===e.status&&"file:"===function(t){return lg.Dh(t).protocol}(s)?200:e.status,r=new YR(this,e,this.aO),h=new Lh({Cp:r,mS:t,rE:t.rE,sE:new Yo(e.headers.asList()),TS:n,jj:e.statusText,AE:s});if(this.MS=h,bc(h))return h;throw new Ke(h)}cit(t){return ay(t)?t:Oi(t)?this.uit?new ee(this.pS):new ia(t.message,t):this.MS?new Ke(this.MS,t):new yB(this.pS,t)}constructor(t){this.aO=new Ao,this.MS=void 0,this.uit=!1,this.pS=t,this.aO.l_(t.a_),this.yS=this.ait()}},YR=class t extends db{get QG(){return this.dit.bodyUsed}YG(){return this.GG.PL}wE(t){return this.VG(this.dit.text(),t)}Kj(t){return this.VG(this.dit.arrayBuffer(),t)}BG(){const t=this.dit.body;return t?this.WG(t):hb(this.Kj().then(rb),this.aO)}XG(){const i=this.dit.clone(),[e,s]=this.aO.d_();return this.aO=e,new t(this.fit,i,s)}VG(t,i){i&&this.aO.l_(i);let e=Promise.resolve(t).catch((t=>{throw this.fit.cit(t)}));return e=jt(e,this.aO),this.GG.l_(e.then(xs)),e}WG(t){const i=new _h;let e=Promise.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch((t=>{const e=this.fit.cit(t);throw i.writable.abort(e).catch(xs),e}));return e=jt(e,this.aO),this.GG.l_(e.then(xs)),i.readable}constructor(t,i,e){super(),this.GG=new Eo,this.fit=t,this.dit=i,this.aO=e,this.GG.PL.catch(xs)}},GR="abort";function VR(t){const i=new wR;if(t.$f)i.abort();else if(!t.t_){const e=()=>{s(),i.abort()},s=()=>{i.signal.removeEventListener(GR,e),t.r_(e),t.o_(s)};i.signal.addEventListener(GR,e),t.n_(e),t.h_(s)}return i.signal}var WR=class{mS(t){return new FR(t).yS}CY(t){if(Yy&&Yy.sendBeacon)Yy.sendBeacon(t.zu,mB([t.eE],{type:t.LP}));else{const i=t.LP?{"Content-type":t.LP}:void 0;W(this.mS(new ec({nE:Yc.POST,zu:t.zu,eE:t.eE,sE:i,eA:yy.Bv})))}}gn(){}};r(),r();var HR=class extends Xo{constructor(t){super("Invalid XML",t)}},qR=class{oS(t){const i=new DOMParser;let e;try{e=i.parseFromString(t,"text/xml")}catch(t){throw new HR(t)}if(!e||e.getElementsByTagName("parsererror").length>0)throw new HR;return new iU(e)}},XR=class t{get VI(){return oi.HI}get hS(){var t;return null!=(t=this._it.localName)?t:nU(this._it.nodeName)}get l(){return this._it.nodeName}get git(){var t;return null!=(t=this._it.namespaceURI)?t:void 0}get wit(){var t;return null!=(t=this._it.prefix)?t:void 0}get ST(){return this._it.nodeValue}GI(t){return this._it.isEqualNode(t._it)}KI(i){return new t(this._it.cloneNode(i))}constructor(t){this._it=t}},ZR=class{get lS(){return void 0===this.Ait&&(this.Ait=function(t){const i=[];for(let e=0;e<t.length;e++){const s=sU(t.item(e));s&&i.push(s)}return i}(this.vit.childNodes)),this.Ait}get m(){return this.lS.filter(eU)}nS(t){return this.lS.filter((i=>eU(i)&&i.Jj===t))}sS(t,i){return this.lS.filter((e=>eU(e)&&e.hS===i&&e.git===t))}get BI(){return this.vit}dS(t){this.vit.appendChild(t.BI),this.Ait&&this.Ait.push(t)}GI(t){return this.vit.isEqualNode(t.BI)}constructor(t){this.Ait=void 0,this.vit=t}},KR=class t extends ZR{get VI(){return oi.WI}get hS(){var t;return null!=(t=this.vit.localName)?t:nU(this.vit.nodeName)}get git(){var t;return null!=(t=this.vit.namespaceURI)?t:void 0}get wit(){var t;return null!=(t=this.vit.prefix)?t:void 0}get Jj(){return this.vit.nodeName}get rS(){return function(t){const i=[];for(let e=0;e<t.length;e++)i.push(new XR(t.item(e)));return i}(this.vit.attributes)}get Vj(){return this.vit.textContent}cS(t){if(this.vit.hasAttribute(t))return this.vit.getAttribute(t)}uS(t,i){if(this.vit.hasAttributeNS(t,i))return this.vit.getAttributeNS(t,i)}tS(t){this.vit.removeAttribute(t)}mit(t,i){this.vit.removeAttributeNS(t,i)}pit(t,i){this.vit.setAttribute(t,i)}yit(t,i,e){this.vit.setAttributeNS(t,i,e)}KI(i){return new t(this.vit.cloneNode(i))}constructor(t){super(t)}},JR=class{get Cp(){return this.vit.nodeValue}get BI(){return this.vit}GI(t){return this.Cp===t.Cp}constructor(t){this.vit=t}},$R=class t extends JR{get VI(){return oi.Ru}KI(i){return new t(this.vit.cloneNode(i))}constructor(t){super(t)}},tU=class t extends JR{get VI(){return oi.qI}KI(i){return new t(this.vit.cloneNode(i))}constructor(t){super(t)}},iU=class t extends ZR{get VI(){return oi.XI}get aS(){return new KR(this.vit.documentElement)}KI(i){return new t(this.vit.cloneNode(i))}constructor(t){super(t)}};function eU(t){return ps(t)}function sU(t){switch(t.nodeType){case oi.WI:return new KR(t);case oi.Ru:return new $R(t);case oi.qI:return new tU(t)}}function nU(t){const i=t.indexOf(":");return i<0?t:t.substr(i+1)}!function(t){lg=t}(new class extends AB{get Itt(){return this.Mit||(this.Mit=new vN(oD())),this.Mit}get Tit(){return this.Nit}get ZJ(){return this.Dit}get f$(){return this.Iit}get Sit(){return!1}get xz(){return Vt.GQ()}get Eit(){return{Lit:pB}}get kit(){return sd.connection&&sd.connection.effectiveType||II}get Cit(){return sd.connection&&sd.connection.type||"unknown"}get tj(){return this.xit||(this.xit=new Db(new WR)),this.xit}oS(t){return this.Oit.oS(t)}constructor(...t){super(...t),this.Mit=void 0,this.Nit=function(){if(wn.ib)return!1;try{return"body"in self.Response.prototype}catch(t){return!1}}(),this.Dit=wn.tL||wn.ib,this.Iit=(wn.tL||wn.ib)&&!(wn.Mb&&wn.Nb<3),this.xit=void 0,this.Oit=new qR}}),r(),r();var rU=class{get j_(){const t=this.Qo.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}get jit(){return this.Qo.src||""}Zn(){}constructor(t,i){this.zit=!1,this.Pit=t=>{this.Bit.MY(t.error,this.j_)},this.Rit=()=>{this.Bit.mY(this.jit),this.Qo.removeEventListener("playing",this.Rit),this.zit=!1},this.js=()=>{this.zit||(this.Qo.addEventListener("playing",this.Rit),this.zit=!0)},this.Bit=i,this.Qo=t,this.Qo.addEventListener("error",this.Pit),this.Qo.addEventListener("sourcechange",this.js),this.js()}};!function(t){xj.push(t)}((function(t){new rU(t.va,t.B9)})),r();var hU="theoplayer-stored-volume",oU="theoplayer-stored-mutedstate";ti((function(t){return class extends t{J_(t){this.wd.persistVolume&&Zn.zz(oU,""+Boolean(t)),super.J_(t)}jg(t){this.wd.persistVolume&&Zn.zz(hU,""+Number(t)),super.jg(t)}constructor(t,i){if(super(t,i),i.persistVolume){let t=Zn.JW(hU);(void 0===t||j(t))&&(t=1);const i=Zn.$W(oU)||!1;this.xg=t,this.Z_=i}}}}),tu.Za);var aU="7.0.0",uU="2024.2.0",cU=Pj.va,lU=Mu.Mm.registerContentProtectionIntegration.bind(Mu.Mm);r(),r(),r();var dU={RY(t){Ys.addEventListener("beforeunload",t)},jY(t){Ys.removeEventListener("beforeunload",t)}};!function(t){Uy=t.Uit,Qy=t.Qit,vs=t.Fit,Ys=t.Yit,Fy=Ys&&Ys.location,Yy=Ys&&Ys.navigator}({Uit:class{get NR(){const t=[];for(const i of this.Git){const e=this.Vit.get(i);if(e){const i=e.map((t=>t.Wit));t.push(...i)}}return this.Hit&&t.push(this.Hit),t}IR(t){for(const i of this.NR)i.N3(t)}cB(t){const i=X_(this.Vit.get(t),(t=>t.qit));if(i)return i.qit=!1,i.Wit}Xit(t){if(!this.Hit){var i;const t=null==(i=this.Vit.get(rv.vp))?void 0:i[0].Wit.TP;if(!t)throw new b("Error creating iOS Safari MediaController");this.Hit=new lj(t,this.jx)}return this.Hit}async WP(t){const i=t.TP,e=i.tagName.toLowerCase();await t.Zn(),_j(i);const s=X_(this.Vit.get(e)||[],(i=>t===i.Wit));s&&(s.qit=!0)}mR(){for(const t of this.NR)t.T3()}gn(){for(const t of this.NR){const i=t.TP;t.e_(),_j(i),ei(i)}this.Vit.clear(),this.Hit=void 0}Zit(){for(const t of this.Git){const i=[];this.Vit.set(t,i);for(let e=0;e<this.Kit;e++){const e=fj(t),s=t===rv.mp?new Rx(e,this.jx,this.Wu):new nj(e,this.jx,this.Wu,this.MR);i.push({Wit:s,qit:!0})}}}constructor(t,i,e=2,s=dj,n=oD()){this.Kit=e,this.Git=[...s],this.jx=n,this.Wu=t,this.MR=i,this.Vit=Qt(),this.Zit()}},Qit:class t{O7(t){return this.Jit.oO((()=>this.$it(t)))}Yg(){this.pR.mR()}async $it(i){const e=this.pR.cB(rv.vp),s=e.TP,n=await t.tet(s,i);return await this.pR.WP(e),n}static async tet(i,e){return wn.Ib||wn.Mb?"all":(i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),await t.iet(),!e&&await t.eet(i,!1)?"all":await t.eet(i,!0)?"muted":"none")}static async eet(t,i){t.muted=i;const e=t.play();try{if(!vu(e))return!wn.Qs;const t=ye(250);return await Promise.race([e,t]),!0}catch(t){return!1}finally{t.pause(),t.muted=!0}}static iet(){return new Promise((t=>{if("function"==typeof MessageChannel){const i=new MessageChannel;i.port1.onmessage=()=>t(),i.port2.postMessage("")}else u(t,0)}))}gn(){this.Jit.gn()}constructor(t){this.pR=t,this.Jit=new Vi}},Fit:dU,Yit:s}),r(),r(),r(),r();var fU=class t{async lB(i){if(!kv(i.type))return!1;const e=i.contentProtection;if(e&&!cv(e)){if(!fv(e))return!1;if(!await t.net(e))return!1}return!0}static async net(t){return!(!t.playready||!await lg.Lx())||(!(!t.widevine||!await lg.Sx())||(!(!t.clearkey||!await lg.bx())||!!await lg.zx()))}},_U=class extends fU{async lB(t){return!!Ck(t.useManagedMediaSource)&&super.lB(t)}};function St(t){return _a(t)}function In(t,i){const e=_a(t);return i?""+e+i:""+e}r(),r();var ft=class{async ret(t){return(await this.oet.het(t.map(St))).shift()}aet(t,i){const e=In(t,i);return this.uet.LL(e)}async cet(t,i){var e;const s=In(t,i);return null==(e=await this.let.kL(s))?void 0:e.data}nH(t){return this.det.kL(t)}constructor(t,i,e,s){this.oet=t,this.uet=i,this.let=e,this.det=s}};r(),r(),r();var gU=class{fet(t){return Promise.resolve(!1)}_et(t){return Promise.reject(wU)}wet(t){return Promise.reject(wU)}LL(t){return Promise.resolve(!1)}kL(t){return Promise.resolve(void 0)}Aet(t,i){return Promise.resolve(void 0)}het(t){return Promise.resolve([])}vet(){return Promise.resolve([])}met(t){return Promise.resolve([])}pet(t,i){return Promise.resolve([])}pN(t){return Promise.reject(wU)}yet(t){return Promise.reject(wU)}Met(){return Promise.reject(wU)}},wU="Storage disabled",AU="Storage disabled";r(),r(),r();var ge,vU=class{get Tet(){return this.u_.PL}async fet(t){return(this.Net||await this.Tet).fet(t)}async _et(t,i){return(this.Net||await this.Tet)._et(t,i)}async wet(t,i){return(this.Net||await this.Tet).wet(t,i)}async LL(t){return(this.Net||await this.Tet).LL(t)}async kL(t){return(this.Net||await this.Tet).kL(t)}async Aet(t,i){return(this.Net||await this.Tet).Aet(t,i)}async het(t){return(this.Net||await this.Tet).het(t)}async vet(){return(this.Net||await this.Tet).vet()}async met(t){return(this.Net||await this.Tet).met(t)}async pet(t,i){return(this.Net||await this.Tet).pet(t,i)}async pN(t){return(this.Net||await this.Tet).pN(t)}async yet(t){return(this.Net||await this.Tet).yet(t)}async Met(){return(this.Net||await this.Tet).Met()}constructor(t){this.u_=new Eo,this.Net=void 0,this.u_.l_(t),this.u_.PL.then((t=>{this.Net=t}))}},mU=class{get Det(){return this.u_.PL}async Iet(t){const i=this.Eet||await this.Det;return await i.Iet(t)}constructor(t){this.u_=new Eo,this.Eet=void 0,this.u_.l_(t);const i=this.u_.PL;i.then((t=>{this.Eet=t})),this.bet=new vU(i.then((t=>t.bet))),this.Let=new vU(i.then((t=>t.Let))),this.ket=new vU(i.then((t=>t.ket))),this.Cet=new vU(i.then((t=>t.Cet))),this.xet=new vU(i.then((t=>t.xet)))}};function ot(t){return new b("This storage cannot handle persistency type "+t)}r(),r(),r(),function(t){t.Oet="readonly",t.jet="readwrite"}(ge||(ge={}));var hn=class{fet(t){return Promise.resolve("temporary"===t)}_et(t,i){return void 0===i&&(i="temporary"),"temporary"!==i?Promise.reject(ot(i)):(this.zet(t.key),this.Mk.push(t),Promise.resolve())}wet(t,i){if(void 0===i&&(i="temporary"),"temporary"!==i)return Promise.reject(ot(i));for(const i of t)this.zet(i.key);for(const i of t)this.Mk.push(i);return Promise.resolve()}LL(t){return Promise.resolve(Boolean(this.Pet(t)))}kL(t){return Promise.resolve(this.Pet(t))}Aet(t,i){return Promise.resolve(this.Bet(t,i))}het(t){const i=t?t.map((t=>this.Pet(t))):this.Mk;return Promise.resolve(i.filter(j_))}vet(){return Promise.resolve([...this.Mk])}met(t){return this.pet(t,"key")}pet(t,i){const e=this.Mk.filter((e=>e[i]===t));return Promise.resolve(e)}pN(t){return this.zet(t),Promise.resolve()}yet(t){for(const i of t)this.zet(i);return Promise.resolve()}Met(){return Ri(this.Mk),Promise.resolve()}Pet(t){return this.Bet(t,"key")}Bet(t,i){for(const e of this.Mk)if(e[i]===t)return e}zet(t){const i=this.Pet(t);i&&Et(this.Mk,i)}constructor(){this.Mk=[]}},Cr=class t{static D8(){return Promise.resolve(new t)}Iet(t){return t(this)}constructor(){this.Let=new hn,this.bet=new hn,this.ket=new hn,this.Cet=new hn,this.xet=new hn}};r(),r();var bn=class{async fet(t){for(let i of this.Ret)if(await i.fet(t))return!0;return!1}async _et(t,i){void 0===i&&(i="persistent");for(let e of this.Ret)if(await e.fet(i))return e._et(t);throw ot(i)}async wet(t,i){void 0===i&&(i="persistent");for(let e of this.Ret)if(await e.fet(i))return e.wet(t);throw ot(i)}async LL(t){for(let i of this.Ret)if(await i.LL(t))return!0;return!1}async kL(t){for(let i of this.Ret){const e=await i.kL(t);if(e)return e}}async Aet(t,i){for(let e of this.Ret){const s=await e.Aet(t,i);if(s)return s}}async het(t){const i=[];for(let e of this.Ret)i.push(...await e.het(t));return i}async vet(){const t=[];for(let i of this.Ret)t.push(...await i.vet());return t}async met(t){const i=[];for(let e of this.Ret)i.push(...await e.met(t));return i}async pet(t,i){const e=[];for(let s of this.Ret)e.push(...await s.pet(t,i));return e}async pN(t){for(let i of this.Ret)await i.pN(t)}async yet(t){for(let i of this.Ret)await i.yet(t)}async Met(){for(let t of this.Ret)await t.Met()}constructor(t){this.Ret=t}};function pU(t){return async()=>{const i=await Promise.all(t.map((t=>t())));return yU.D8(i)}}var as,yU=class t{static D8(i){return Promise.resolve(new t(i))}get Cet(){return this.Uet}get xet(){return this.Qet}get ket(){return this.Fet}get Let(){return this.Yet}get bet(){return this.Get}Iet(i){if(0===this.Vet.length)return i(this);const e=[];let s=0;const n=r=>(e.push(r),s++,s<this.Vet.length?this.Vet[s].Iet(n):i(new t(e)));return this.Vet[s].Iet(n)}constructor(t){this.Vet=t,this.Uet=new bn(t.map((t=>t.Cet))),this.Qet=new bn(t.map((t=>t.xet))),this.Fet=new bn(t.map((t=>t.ket))),this.Yet=new bn(t.map((t=>t.Let))),this.Get=new bn(t.map((t=>t.bet)))}},Kn=class t{static wa(i){t.eP.wa(i)}static get gL(){return t.Wet||(t.Wet=t.eP.D8()),t.Wet}};function MU(t){return void 0!==t.Ig}Kn.eP=new class{D8(){return new mU(this.Het())}async Het(){this.qet&&(await Promise.resolve(),this.qet=!1);for(const t of this.Xet)try{return await pU([Cr.D8,t])()}catch(t){}return await pU([Cr.D8,this.Zet])()}wa(t){if(!this.qet)throw new b("Registration overdue");this.Xet.push(t)}constructor(t){this.Xet=[],this.qet=!0,this.Zet=t}}(class t{static D8(){return Promise.resolve(new t)}Iet(t){return Promise.reject(AU)}constructor(){this.Let=new gU,this.bet=new gU,this.ket=new gU,this.Cet=new gU,this.xet=new gU}}.D8),Kn.Wet=void 0,r(),r(),r(),r(),r(),r(),function(t){t.CO="static",t.xO="dynamic"}(as||(as={})),r(),r();var TU,NU=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,DU=class t{static wy(i){const e=i.match(NU);if(!e)throw new b("The given value could not be parsed as a valid DateTimeInterval");const s=Number(e[1])||0,n=Number(e[2])||0,r=Number(e[3])||0,h=Number(e[4])||0,o=Number(e[5])||0,a=Number(e[6])||0;return new t(31536e3*s+2592e3*n+86400*r+3600*h+60*o+a)}get Ket(){return Pt.dI(this.Jet,1e3)}$et(){return this.Jet}tst(){return 1e3*this.Jet}constructor(t){this.Jet=t}};r(),function(t){t.ist="progressive",t.sst="interlaced",t.KT="unknown"}(TU||(TU={})),r();var IU=class{cD(){return this.nst/this.rst}constructor(t,i){this.nst=t,this.rst=i}},SU=/^(?:true|false)$/i,EU=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function yn(t){if(void 0!==t)return DU.wy(t)}function bU(t){if(void 0===t)return;const i=t.match(EU);if(!i)throw new b("The given value could not be parsed as a valid Date");const[,e,s,n,r,h,o,a,u,c,l,d]=i,f=("-"===e?-1:1)*Number(s),_=Number(n)-1,g=Number(r),w=Number(h);let A=Number(o);const v=Number(a),m=Number("0."+(u||"")),p=x.round(1e3*m);if(c){A-=("-"===c?-1:1)*(60*Number(l)+Number(d))}const y=new Date(Date.UTC(f,_,g,w,A,v,p));if(j(y.getTime()))throw new b("The given value could not be parsed as a valid Date");return y}function LU(t){if(!t)return;const i=/(\d+)-(\d+)/.exec(t);return i?[Ji(i[1]),Ji(i[2])]:void 0}function kU(t){if(void 0!==t){if(!j(Number(t)))try{return Ce.fromString(t,!0)}catch(t){}throw new b("The given value could not be parsed as a valid unsigned long")}}function Ji(t){if(void 0===t)return;const i=Number(t);if(!j(i))return i;throw new b("The given value could not be parsed as a valid Number")}function CU(t){if(void 0===t)return;const i=t.split("/"),e=Number(i[0]),s=Number(i[1]||1);if(!j(e)&&!j(s))return new IU(e,s);throw new b("The given value could not be parsed as a valid frame rate")}function Ra(t){if(void 0!==t){if(SU.test(t))return"true"===t.toLowerCase();if(!j(C(t)))return Boolean(C(t));throw new b("The given value could not be parsed as a valid Boolean.")}}function xU(t){return{zu:t.Vj,hst:Ra(t.cS("availabilityTimeComplete")),ost:Ji(t.cS("availabilityTimeOffset"))}}function OU(t){return t.map(xU)}function jU(t){const i=VU(t),e=function(t,i,e,s){let n=t.uS(e,i);return void 0===n&&(n=t.cS(s+":"+i)),n}(t,"default_KID","urn:mpeg:cenc:2013","cenc");let s;const n=Bp(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==n&&(s=iA(n.Vj)),!s){const i=Bp(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==i&&(s=function(t){const i=mi(t.Vj),e=new T([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),s=i.length,n=12+e.length+4+s,r=new ArrayBuffer(n),h=new T(r),o=new DataView(r),a=new Or;su(o,a,n),su(o,a,1886614376),su(o,a,0),ao(o,a,e),su(o,a,s),ao(o,a,i),!1;return h.buffer}(i))}return{Tj:e,ast:s,ust:i.ust,ST:i.ST}}function zU(t){return{cst:t.cS("sourceURL"),lst:LU(t.cS("range"))}}function PU(t,i){const e=t.cS("d"),s=t.cS("t"),n=Ji(t.cS("r"));i.push({ct:e,zN:s,dst:n})}function BU(t){return{fst:t.cS("index"),_st:LU(t.cS("indexRange")),Fy:t.cS("media"),gst:LU(t.cS("mediaRange"))}}function RU(t){const i=QU(t),e=function(t){const i=t.map(BU);return i.length>0?i:void 0}(t.nS("SegmentURL"));return At({},i,{wst:e,Ast:t.cS("xlink:href"),vst:t.cS("xlink:actuate")})}function UU(t){const i=Ra(t.cS("availabilityTimeComplete")),e=Ji(t.cS("availabilityTimeOffset")),s=LU(t.cS("indexRange")),n=Ra(t.cS("indexRangeExact")),r=t.nS("Initialization");if(r.length>1)throw new b("The provided MPEG-DASH document's "+t.Jj+" element can not have more than one Initialization element.");const h=1===r.length?zU(r[0]):void 0,o=kU(t.cS("presentationTimeOffset")),a=t.nS("RepresentationIndex");if(a.length>1)throw new b("The provided MPEG-DASH document's "+t.Jj+" element can not have more than one RepresentationIndex element.");return{hst:i,ost:e,_st:s,mst:n,pst:h,yst:o,Mst:1===a.length?zU(a[0]):void 0,Tst:yn(t.cS("timeShiftBufferDepth")),zy:Ji(t.cS("timescale"))}}function QU(t){const i=UU(t),e=t.nS("BitstreamSwitching"),s=e.length>0?zU(e[0]):void 0,n=Ji(t.cS("duration")),r=t.nS("SegmentTimeline");if(r.length>1)throw new b("The provided MPEG-DASH document's "+t.Jj+" element can not have more than one SegmentTimeline element.");const h=1===r.length?function(t){const i=[],e=t.nS("S");for(const t of e)PU(t,i);return i}(r[0]):void 0;return At({},i,{Nst:s,ct:n,Dst:h,Ist:Ji(t.cS("startNumber")),Sst:Ji(t.cS("endNumber"))})}function FU(t){return{Est:function(t){if(!t)return;const i=t.split(/\s/);return i.length>1?(i.length=2,i.map(Ji)):1===i.length?i.map(Ji)[0]:void 0}(t.cS("audioSamplingRate")),bst:t.cS("codecs"),Lst:Ra(t.cS("codingDependency")),kst:function(t){if(0!==t.length)return t.map(jU)}(t.nS("ContentProtection")),Cst:function(t){return t.map(WU)}(t.nS("EssentialProperty")),xst:CU(t.cS("frameRate")),Ti:Ji(t.cS("height")),Ost:Ji(t.cS("maxPlayoutRate")),jst:Ji(t.cS("maximumSAPPeriod")),gY:t.cS("mimeType"),zst:t.cS("profiles"),Pst:t.cS("sar"),Bst:function(t){switch(t){case TU.ist:case TU.sst:case TU.KT:return t;default:return}}(t.cS("scanType")),Rst:t.cS("segmentProfiles"),Ust:Ji(t.cS("startWithSAP")),ji:Ji(t.cS("width"))}}function YU(t){const i=OU(t.nS("BaseURL")),e=t.nS("SegmentBase");if(e.length>1)throw new b("The provided MPEG-DASH document's "+t.hS+" element can not have more than one SegmentBase element.");const s=1===e.length?UU(e[0]):void 0,n=function(t){const i=t.map(RU);return i.length>0?i:void 0}(t.nS("SegmentList")),r=t.nS("SegmentTemplate");if(r.length>1)throw new b("The provided MPEG-DASH document's "+t.hS+" element can not have more than one SegmentTemplate element.");const h=1===r.length?function(t){return At({},QU(t),{Qst:t.cS("bitstreamSwitching"),Fst:t.cS("index"),Yst:t.cS("initialization"),Gst:t.cS("media")})}(r[0]):void 0;return{Vst:i,Wst:s,Hst:n,qst:h}}function GU(t){const i=FU(t),e=YU(t),s=Ji(t.cS("bandwidth")),n=t.cS("dependencyId"),r=t.cS("id"),h=t.cS("mediaStreamStructureId"),o=Ji(t.cS("qualityRanking"));if(t.nS("SegmentBase").length>1)throw new b("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");return At({},i,e,{Jz:s,Xst:n,o:r,Zst:h,Kst:o})}function VU(t){return{ust:t.cS("schemeIdUri"),ST:t.cS("value")}}function WU(t){return VU(t)}function HU(t){return VU(t)}function qU(t){return VU(t)}function XU(t){var i;const e=FU(t),s=YU(t),n=function(t){return t.map(qU)}(t.nS("Accessibility")),r=Ra(t.cS("bitstreamSwitching")),h=t.cS("contentType"),o=Ji(t.cS("group")),a=Ji(t.cS("id")),u=(null==(i=t.nS("Label")[0])?void 0:i.Vj)||"",c=t.cS("lang"),l=Ji(t.cS("maxBandwidth")),d=CU(t.cS("maxFrameRate")),f=Ji(t.cS("maxHeight")),_=Ji(t.cS("maxWidth")),g=Ji(t.cS("minBandwidth")),w=CU(t.cS("minFrameRate")),A=Ji(t.cS("minHeight")),v=Ji(t.cS("minWidth")),m=t.cS("par"),p=function(t){return t.map(GU)}(t.nS("Representation"));if(0===p.length)throw new b("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");const y=function(t){return t.map(HU)}(t.nS("Role")),M=Ra(t.cS("segmentAlignment"))||!1,T=Ji(t.cS("selectionPriority")),N=T||1,D=Ra(t.cS("subsegmentAlignment"))||!1;let I;try{I=Ji(t.cS("subsegmentStartsWithSAP"))}catch(t){}return At({},e,s,{Jst:n,Nst:r,LP:h,$st:o,o:a,kh:u,gs:c,tnt:l,int:d,ent:f,snt:_,nnt:g,rnt:w,hnt:A,ont:v,ant:m,unt:p,cnt:y,lnt:M,fB:N,dnt:D,fnt:I,_nt:t.cS("xlink:actuate")||"onRequest",gnt:t.cS("xlink:href")})}function ZU(t){const i=kU(t.cS("presentationTime"))||Ce.ZERO,e=kU(t.cS("duration")),s=Ji(t.cS("id")),n=function(t){const i=t.rS,e={};for(let t=0;t<i.length;t++)e[i[t].l]=i[t].ST;return e}(t),r=t.Vj;return{ET:i,ct:e,o:s,rS:n,Cp:""!==r.trim()?r:t.cS("messageData")||""}}function KU(t){return{gnt:t.cS("xlink:href"),_nt:t.cS("xlink:actuate"),ust:t.cS("schemeIdUri"),ST:t.cS("value"),zy:Ji(t.cS("timescale")),yst:kU(t.cS("presentationTimeOffset")),wY:t.nS("Event").map(ZU)}}function JU(t){const i=YU(t),e=t.nS("AssetIdentifier");if(e.length>1)throw new b("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");const s=1===e.length?function(t){return VU(t)}(e[0]):void 0,n=function(t){return t.map(XU)}(t.nS("AdaptationSet")),r=Ra(t.cS("bitstreamSwitching")),h=yn(t.cS("duration")),o=function(t){return t.map(KU)}(t.nS("EventStream")),a=t.cS("id"),u=yn(t.cS("start")),c=(t.nS("Subset"),t.cS("xlink:href"));return At({},i,{wnt:n,Ant:s,Nst:r,ct:h,vnt:o,o:a,Cn:u,_nt:t.cS("xlink:actuate"),gnt:c})}function $U(t){const i=t.cS("schemeIdUri");if(!i)return;return{ust:i,ST:t.cS("value")}}function tQ(t,i){const e=bU(t.cS("availabilityEndTime")),s=bU(t.cS("availabilityStartTime")),n=OU(t.nS("BaseURL")),r=t.cS("id"),h=function(t){return t.map((t=>""+t.Vj))}(t.nS("Location")),o=yn(t.cS("maxSegmentDuration")),a=yn(t.cS("maxSubsegmentDuration")),u=yn(t.cS("mediaPresentationDuration")),c=(t.nS("Metrics"),yn(t.cS("minBufferTime")));if(!c)throw new b("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");const l=yn(t.cS("minimumUpdatePeriod")),d=function(t){return t.map((t=>JU(t)))}(t.nS("Period"));if(!d.length)throw new b("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");const f=t.cS("profiles");if(!f)throw new b("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");const _=bU(t.cS("publishTime")),g=yn(t.cS("suggestedPresentationDelay")),w=yn(t.cS("timeShiftBufferDepth")),A=function(t){switch(t){case as.CO:case as.xO:return t;default:return}}(t.cS("type")),v=function(t){const i=[];for(const e of t){const t=$U(e);t&&i.push(t)}return i}(t.nS("UTCTiming"));return{mnt:e,pnt:s,Vst:n,o:r,ynt:h,Mnt:i,Tnt:o,Nnt:a,Dnt:u,Int:c,Snt:l,Ent:d,zst:f,bnt:_,Lnt:g,Tst:w,hA:A,knt:v}}var iQ=class{Cnt(t,i){return function(t,i){if(!t)throw new b("The provided MPEG-DASH document does not contain a valid MPD root element.");return tQ(t,i)}(lg.oS(t).aS,i)}};function eQ(t){return{get bandwidth(){return t.Jz},get codecs(){return t.bst},get id(){return t.o},get uid(){return t.Vw},get name(){return t.kh},get averageBandwidth(){return t.xnt},get label(){return t.kh},set label(i){t.kh=Oa(i)},get available(){return t.qit},get score(){return t.Ont},addEventListener(i,e){t.yn(i,e)},removeEventListener(i,e){t.fn(i,e)}}}function sQ(t){return Ru(eQ(t),{get height(){return t.Ti},get width(){return t.ji},get frameRate(){return t.xst},get firstFrame(){return t.jnt}})}function nQ(t){return Ru(eQ(t),{get audioSamplingRate(){return t.Est}})}r(),r(),r(),r(),r(),r(),r(),r();var rQ=class extends Ag{constructor(t){super("update"),this.quality=t}},hQ=class extends i{get kh(){return this.IN}set kh(t){this.IN!==t&&(this.IN=t,this.Co(new rQ(this.va)))}get xnt(){}get qit(){return this.znt}get Ont(){}CS(){this.znt=!1,this.Co(new rQ(this.va))}constructor(t,i,e,s,n){super(),this.o=t,this.Jz=i,this.bst=e,this.Pnt=n,this.Vw=cm(),this.IN=s||"",this.znt=!0}},oQ=class extends hQ{get va(){return this.Xa||(this.Xa=sQ(this)),this.Xa}constructor(t,i,e,s,n,r,h,o,a=0){super(t,i,e,s,n),this.xst=r,this.ji=h,this.Ti=o,this.jnt=a,this.Xa=void 0}},aQ=class extends hQ{get va(){return this.Xa||(this.Xa=nQ(this)),this.Xa}constructor(t,i,e,s,n,r){super(t,i,e,s,n),this.Est=r,this.Xa=void 0}};r(),r();var _l,_n=class extends i{get Bnt(){const t=this.Rnt();return null==t?void 0:t.Cn}get Unt(){const t=this.Rnt();return null==t?void 0:t.jn}constructor(...t){super(...t),this.Qnt=t=>{this.Co(t)}}};function H(t){return R_(t.Fnt)}function uQ(t){return H(t)?t.Fnt:t.fst}r(),r(),function(t){t.Ynt="Gnt",t.Vnt="Wnt"}(_l||(_l={}));var cQ=class extends _n{get Hnt(){return this.qnt}get Est(){var t;return null!=(t=this.Xnt.Cp.Est)?t:this.Hnt.Est}get Jz(){return this.Xnt.Cp.Jz||0}get bst(){const t=this.Xnt.Cp;return t.bst?[t.bst]:this.Hnt.bst}get Znt(){const t=this.Xnt.Cp;return t.bst?[t.bst]:[]}get Mtt(){return this.Xnt.Cp.bst||this.Hnt.Mtt}get Lst(){return this.Xnt.Cp.Lst||this.Hnt.Lst}get kst(){return this.Xnt.Cp.kst||this.Hnt.kst}get LP(){return this.gY+'; codecs="'+this.Mtt+'"'}get Cst(){const t=this.Xnt.Cp;return t.Cst.length?t.Cst:this.Hnt.Cst}get va(){return this.Xa||(this.Xa=function(t){return{get id(){return t.o},get type(){return t.hA},get bandwidth(){return t.Jz},get width(){return t.ji},get height(){return t.Ti},get frameRate(){var i,e;return null!=(e=null==(i=t.xst)?void 0:i.cD())?e:NaN},get audioSamplingRate(){return t.Est}}}(this))}get xst(){var t;return null!=(t=this.Xnt.Cp.xst)?t:this.Hnt.xst}get Ti(){return this.Xnt.Cp.Ti||this.Hnt.Ti}get o(){return this.Xnt.Cp.o||""}get Knt(){return this.Jnt}set Knt(t){this.Jnt=t}get $nt(){const t=this.Xnt.trt();if(t)return{zu:t.zu,lst:t.lst,uE:this.irt.uE}}get Ost(){return this.Xnt.Cp.Ost||this.Hnt.Ost||1}get jst(){return this.Xnt.Cp.jst||this.Hnt.jst}get irt(){return this.ert.irt}get gY(){return this.Xnt.Cp.gY||this.Hnt.gY}get ert(){return this.Hnt.ert}get zst(){return this.Xnt.Cp.zst||this.Hnt.zst}get nrt(){return this.rrt}get Pst(){return this.Xnt.Cp.Pst||this.Hnt.Pst}get Bst(){return this.Xnt.Cp.Bst||this.Hnt.Bst}get hrt(){return this.Xnt.hrt}get Rst(){return this.Xnt.Cp.Rst||this.Hnt.Rst}get Dst(){return this.Xnt.Dst}get Ust(){return this.Xnt.Cp.Ust||this.Hnt.Ust}get hA(){const t=this.gY.split("/")[0];return"application"===t||"text"===t||hu(this.gY,this.bst)?rv.Ru:"video"===t?rv.vp:"audio"===t?rv.mp:"image"===t?rv.ZT:rv.KT}get ji(){return this.Xnt.Cp.ji||this.Hnt.ji}get ort(){return this.art}set ort(t){this.art=t}urt(t){const i=H(t)?this.Xnt.crt(t):this.Xnt.urt(t);return{zu:i.zu,lst:i.lst,uE:this.irt.uE}}lrt(){return this.Xnt.lrt()}Rnt(){return this.Xnt.Rnt()}drt(){return this.Xnt.drt()}frt(t){return this.Xnt.frt(t)}_rt(t,i,e){return this.Xnt._rt(t,this.irt.uE,i,e)}grt(t){return H(t)?this.Dst.wrt(t,this.Xnt):this.Dst.grt(t)}Art(t){return H(t)?this.Dst.vrt(t,this.Xnt):this.Dst.Art(t)}gn(){this.Xnt.fn(_l.Ynt,this.Qnt)}constructor(t,i){if(super(),this.Xa=void 0,this.Jnt=void 0,this.art=!1,this.qnt=t,this.Xnt=i,this.Xnt.yn(_l.Ynt,this.Qnt),this.hA===rv.vp){var e,s;const t=null!=(s=null==(e=this.xst)?void 0:e.cD())?s:NaN;this.rrt=new oQ(this.o,this.Jz,this.Mtt,"","",t,this.ji,this.Ti)}else this.hA===rv.mp?this.rrt=new aQ(this.o,this.Jz,this.Mtt,"","",this.Est):this.rrt=void 0}},lQ=class extends _n{get Jst(){return this.Xnt.Cp.Jst}get Est(){var t;return null!=(t=this.Xnt.Cp.Est)?t:-1}get bst(){if(this.Xnt.Cp.bst)return[this.Xnt.Cp.bst];{const t=[];for(const i of this.unt)i.Znt.length&&-1===t.indexOf(i.Mtt)&&t.push(i.Mtt);return t}}get Mtt(){return this.bst.join()}get Lst(){return this.Xnt.Cp.Lst}get kst(){return this.Xnt.Cp.kst}get LP(){return this.gY+'; codecs="'+this.Mtt+'"'}get Cst(){return this.mrt}get xst(){return this.Xnt.Cp.xst}get $st(){return this.Xnt.Cp.$st}get Ti(){return this.Xnt.Cp.Ti||0}get o(){return this.Xnt.Cp.o}get kh(){return this.Xnt.Cp.kh||""}get Ost(){return this.Xnt.Cp.Ost}get jst(){return this.Xnt.Cp.jst}get irt(){return this.ert.irt}get gY(){return this.Xnt.Cp.gY||this.prt[0].gY}get ert(){return this.yrt}get zst(){return this.Xnt.Cp.zst}get unt(){return this.prt}get cnt(){return this.Xnt.Cp.cnt||[]}get Pst(){return this.Xnt.Cp.Pst}get Bst(){return this.Xnt.Cp.Bst}get Rst(){return this.Xnt.Cp.Rst}get fB(){return this.Xnt.Cp.fB}get Ust(){return this.Xnt.Cp.Ust}get hA(){const t=(this.Xnt.Cp.LP||this.gY).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||hu(this.gY,this.bst)?rv.Ru:"video"===t?rv.vp:"audio"===t?rv.mp:"image"===t?rv.ZT:rv.KT}get ji(){return this.Xnt.Cp.ji||0}get h6(){return this.Xnt.Cp.gs||""}get Mrt(){return this.Bnt}get Trt(){const t=this.Mrt,i=this.Unt;if(void 0===t||void 0===i)return;const e=x.min(i,this.irt.Nrt);return x.max(t,e)}async Qn(t,i){if(0===this.prt.length){this.prt=[];const e=this.Xnt.unt.map((e=>this.Drt(e,t,i)));this.prt=(await Promise.all(e)).filter(j_)}this.Irt()}async Drt(t,i,e){const s=new cQ(this,t),n=await i(s);if(Pi(e),n)return s}Irt(){if(!this.prt.length)throw new b("Detected an AdaptationSet without any supported Representations.")}Rnt(){return this.Xnt.Rnt()}drt(){return this.Xnt.drt()}gn(){this.Xnt.fn(_l.Ynt,this.Qnt);for(const t of this.prt)t.gn();Ri(this.prt)}constructor(t,i){super(),this.mrt=[],this.prt=[],this.yrt=t,this.Xnt=i,this.Xnt.yn(_l.Ynt,this.Qnt)}};function dQ(t,i){const e=[];for(const s of i)for(const i of t)e.push(lg.Dh(i,s));return e}r(),r(),r(),r(),r(),r(),r();var fQ=class{Srt(t){const i=t-this.yrt.Cn;if(i<0||i>=this.yrt.ct)return;const e=this.Ert();return void 0!==e&&Va(e,i,1e-5)?this.brt():this.Lrt(i)}krt(t){const i=t-this.yrt.Cn;if(!(i<0))return this.Crt(x.min(i,this.yrt.ct))}brt(){return this.xrt(0)}Ort(){const t=this.yrt.ct;if(isFinite(t))return this.Crt(t)}get jrt(){return this.yrt.Prt.zrt&&void 0!==this.Brt()}lrt(t){if(this.yrt.Prt.hA===as.xO){if(this.jrt){const i=this.brt(),e=this.Brt();if(void 0===i||void 0===e)return;return{Rrt:t,Urt:i,Qrt:e}}const i=this.Frt(t);if(!i)return;return{Rrt:t,Urt:this.Yrt(t),Qrt:i}}{0;const i=this.brt();if(i)return{Rrt:t,Urt:i,Qrt:this.Ort()}}}drt(t,i){if(i){let t=this.Grt(i.Urt);const e=this.Vrt(i.Qrt);if(e){const i=this.Wrt(e);(!t||i.getTime()<t.getTime())&&(t=i)}return t}{const i=this.brt();if(i){const e=this.Wrt(i);if(t.getTime()<e.getTime())return e}const e=this.yrt.Prt.pnt;return t.getTime()<e.getTime()?e:void 0}}Frt(t){const i=(t.getTime()-this.yrt.Prt.pnt.getTime())/1e3-this.yrt.Cn+this.Hrt;let e=this.Crt(Sc(i,0,this.yrt.ct));if(!e)return;if(e=this.qrt(e,t),!e)return;let s=this.Vrt(e);for(;s&&this.Xrt(s,t);)e=s,s=this.Vrt(e);return e}Yrt(t){let i;const e=this.Zrt.Tst;if(e){const s=(t.getTime()-this.yrt.Prt.pnt.getTime())/1e3-this.yrt.Cn-e.$et();i=this.Crt(Sc(s,0,this.yrt.ct)),i||(i=this.brt())}else i=this.brt();if(!i)return;if(i=this.qrt(i,t),!i)return;let s=this.Krt(i);for(;s&&this.Xrt(s,t);)i=s,s=this.Krt(i);return i}qrt(t,i){let e=t;for(;e&&this.Wrt(e).getTime()>i.getTime();)e=this.Krt(e);if(!e)return;const s=this.Grt(e);if(s&&s.getTime()<=i.getTime()){const t=this.Krt(e);for(t&&this.Xrt(t,i)&&(e=t);e;){if(this.Wrt(e).getTime()>i.getTime())return;if(this.Xrt(e,i))break;e=this.Vrt(e)}if(!e)return}return e}Xrt(t,i){if(this.jrt)return!0;if(this.Wrt(t).getTime()>i.getTime())return!1;const e=this.Grt(t);return!(e&&i.getTime()>=e.getTime())}Jrt(t,i){if(this.jrt)return!0;if(this.$rt(t).getTime()>i.getTime())return!1;const e=this.Grt(t);return!(e&&i.getTime()>=e.getTime())}tht(t,i,e){const s=vt(i,this.Bk)+this.yrt.Cn;return{fst:t,iht:i,zN:s,ct:e,PN:s+e}}$rt(t){return this.yrt.Prt.hA===as.xO?new Date(this.yrt.Prt.pnt.getTime()+1e3*(t.zN+t.ct)):this.yrt.Prt.pnt}Wrt(t){const i=this.$rt(t);return this.yrt.Prt.hA===as.xO?new Date(i.getTime()-1e3*this.Hrt):i}Grt(t){let i=1/0;if(this.yrt.Prt.hA===as.xO){const e=this.Zrt.Tst;e&&(i=this.$rt(t).getTime()+1e3*t.ct+e.tst())}const e=this.yrt.Prt.mnt;return e&&(i=x.min(i,e.getTime())),i===1/0?void 0:new Date(i)}eht(t,i){return t.fst+i}get CI(){return this.yrt.Cn-vt(this.sht,this.Bk)}get yst(){return vt(this.sht,this.Bk)}frt(t){return!1}_rt(t,i,e,s,n){const r=this.nht(t);if(!r)return Promise.reject(new b("Invalid segment"));const h=this.rht(r.fst,i);return h?Promise.resolve(h):rl(this.hht(r.fst,i,e,s),n)}rht(t,i){}hht(t,i,e,s){return Promise.reject(new b("Not supported"))}Krt(t){const i=this.nht(t);if(i)return this.xrt(i.fst-1)}Vrt(t){const i=this.nht(t);if(i)return this.xrt(i.fst+1)}nht(t){const i=this.xrt(t.fst);if(i&&i.zN===t.zN)return i;const e=this.Srt(t.zN);return e&&e.zN===t.zN?e:void 0}oht(t,i){const e=this.aht(t);if(!e||!this.frt(e.fst))return;const s=this.rht(e.fst,i);return s?s.oht(t):void 0}aht(t){return this.xrt(t.uht)}grt(t){const i=this.nht(t);return!!i&&0===i.fst}wrt(t,i){const e=this.oht(t,i);return!!e&&0===e.Fnt}Art(t){const i=this.nht(t);if(!i)return!1;const e=this.Ort();return!!e&&i.fst===e.fst}vrt(t,i){const e=this.oht(t,i);if(!e)return!1;const s=this.Ort();if(!s||e.uht!==s.fst)return!1;const n=this.rht(e.uht,i);return e.Fnt+1===n.U}e_(){}constructor(t,i){this.yrt=t,this.Zrt=i,this.Bk=i.zy,this.Hrt=i.ost,this.sht=i.yst}},_Q=class extends fQ{xrt(t){if(t<0)return;const i=this.cht.multiply(t),e=vt(i,this.Bk),s=this.yrt.ct;if(e>=s)return;const n=this.dht();if(void 0!==n){if(t>n)return;if(t===n&&isFinite(s))return this.tht(t,i,s-e)}return isFinite(s)&&e+this.fht>s?this.tht(t,i,s-e):this.tht(t,i,this.fht)}Ert(){return 0}Lrt(t){const i=x.floor(t/this.fht),e=this.dht();return void 0!==e&&i>=e?this.xrt(e):this.xrt(i)}Crt(t){if(t>=this.yrt.ct){const t=x.ceil(this.yrt.ct/this.fht)-1,i=this.dht();return void 0!==i&&t>=i?this.xrt(i):this.xrt(t)}return this.Lrt(t)}dht(){const t=this.Zrt.Sst;var i;if(void 0!==t)return t-(null!=(i=this.Zrt.Ist)?i:1);const e=this.Zrt._ht;return void 0!==e&&e>0?e-1:void 0}Brt(){if(isFinite(this.yrt.ct))return this.Ort()}ght(t,i){return this.cht.multiply(t.fst+(i-1))}Qn(){}constructor(t,i){super(i,t);const e=t.wht,s=t.ct;if(void 0===e||void 0===s)throw new b("MultipleSegmentBase does not have a segment duration specified.");this.cht=e,this.fht=s}};function gQ(t,i,e){const s=i.length;if(0===s)return-1;let n=0,r=s-1,h=t.Aht(i[n]),o=t.vht(i[r]);for(;n<=r&&t.mht(h,e)<=0&&t.mht(e,o)<0;){const a=n+x.floor(t.pht(e,h,o)*(r-n)),u=i[a],c=t.Aht(u),l=a+1<s?t.Aht(i[a+1]):t.vht(u);if(t.mht(l,e)<=0)n=a+1,h=l;else{if(!(t.mht(e,c)<0))return a;r=a-1,o=c}}return-1}function wQ(t,i){return gQ(AQ.gL,t,i)}r(),r(),r();var AQ=class t{static get gL(){return null!=this.Wet||(this.Wet=new t),this.Wet}Aht(t){return t.zN}vht(t){return t.PN}mht(t,i){return t.compare(i)}pht(t,i,e){return t.subtract(i).toNumber()/e.subtract(i).toNumber()}},vQ=class extends fQ{xrt(t){if(!(t<0))return t<this.yht.length?this.yht[t].Mht:this.Tht(t-this.yht.length)}Ert(){if(this.yht.length>0)return vt(this.yht[0].zN,this.Bk)}Lrt(t){if(this.Nht&&vt(this.Nht.zN,this.Bk)<=t){const i=vt(this.Nht.zN,this.Bk),e=vt(this.Nht.ct,this.Bk),s=x.floor((t-i)/e);return this.Tht(s)}if(this.yht.length>0&&Va(t,vt(this.yht[0].zN,this.Bk),1e-5))return this.yht[0].Mht;const i=wQ(this.yht,Ce.fromNumber(t*this.Bk));return i<0?void 0:this.yht[i].Mht}Crt(t){if(!this.Nht&&this.yht.length>0){const i=this.yht[this.yht.length-1];if(function(t,i,e){return Co(t,i,e)>=0}(t,vt(i.PN,this.Bk),1e-5))return i.Mht}const i=this.Ert();return i&&t<i?this.yht[0].Mht:this.Lrt(t)}Brt(){return isFinite(this.yrt.ct)?this.Ort():this.xrt(this.yht.length-1)}ght(t){return this.Dht(t)}Tht(t){if(!this.Nht)return;const i=this.Nht.zN,e=this.Nht.ct,s=i.add(e.multiply(t)),n=vt(s,this.Bk),r=this.yrt.ct;if(n>=r)return;const h=this.yht.length+t,o=x.min(vt(e,this.Bk),n+r);return this.tht(h,s,o)}Dht(t){return t.iht.add(this.sht)}Qn(){const t=this.Zrt.Cp.Dst;if(!t)throw new b("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.Iht(t)}Iht(t){const i=this.sht;this.Sht(t,i);const e=this.Eht(t);this.bht(t,i,e.Lht,e.uht)}Sht(t,i){const e=this.yht;if(0===t.length)Ri(e);else{const s=t[0],n=s.zN?Ce.fromString(s.zN,!1).subtract(i):Ce.ZERO;let r=0;for(;r<e.length&&e[r].zN.lessThan(n);)r++;r>0&&e.splice(0,r)}}Eht(t){const i=this.yht,e=this.kht;let s=0,n=0;for(;s<t.length&&n<i.length;){const r=t[s].dst||0;if(r<0)break;const h=n+r;if(h>=i.length)break;if(i[h].zN.greaterThanOrEqual(e))break;if(i[n].Mht.fst===n)n=h+1;else for(;n<=h;)i[n].Mht.fst=n,n++;0,s++}return{Lht:s,uht:n}}bht(t,i,e,s){const n=this.yht;let r,h=e,o=s;for(;h<t.length;){const e=t[h],s=Ce.fromString(e.ct,!1),a=e.dst||0;let u;if(e.zN){if(u=Ce.fromString(e.zN,!1).subtract(i),o>0){const t=n[o-1];t.PN.greaterThan(u)&&(t.ct=u.subtract(t.zN),t.PN=t.zN.add(t.ct))}}else u=o>0?n[o-1].PN:Ce.ZERO;if(a<0){if(h+1===t.length){r={zN:u,ct:s};break}const e=Ce.fromString(t[h+1].zN,!1).subtract(i);for(;u.lessThan(e);){const t=u.add(s);this.Cht(n,o,u,s,t),u=t,o++}}else{const t=o+a;for(;o<=t;){const t=u.add(s);this.Cht(n,o,u,s,t),u=t,o++}}h++}o<n.length&&n.splice(o),n.length>0&&(this.kht=n[n.length-1].zN),this.Nht=r}Cht(t,i,e,s,n){if(i<t.length){const r=t[i];0,r.ct.equals(s)?r.Mht.fst=i:t[i]={zN:e,ct:s,PN:n,Mht:this.tht(i,e,vt(s,this.Bk))}}else t.push({zN:e,ct:s,PN:n,Mht:this.tht(i,e,vt(s,this.Bk))})}constructor(t,i){super(i,t),this.yht=[],this.Nht=void 0,this.kht=Ce.ZERO,this.Qn()}};r();var mQ=class{get Cp(){return this.Fk}get ost(){return this.Fk&&void 0!==this.Fk.ost?this.Fk.ost:this.xht?this.xht.ost:0}get yst(){return this.Fk&&void 0!==this.Fk.yst?this.Fk.yst:this.xht?this.xht.yst:Ce.ZERO}get Tst(){return this.Fk&&void 0!==this.Fk.Tst?this.Fk.Tst:this.xht?this.xht.Tst:this.ert.Prt.Tst}get zy(){return this.Fk&&void 0!==this.Fk.zy?this.Fk.zy:this.xht&&this.xht.zy?this.xht.zy:1}get _st(){return this.Fk&&void 0!==this.Fk._st?this.Fk._st:this.xht?this.xht._st:void 0}get pst(){return this.Fk&&void 0!==this.Fk.pst?this.Fk.pst:this.xht?this.xht.pst:void 0}get Dst(){return this.Oht||(this.Oht=this.jht()),this.Oht}jht(){if(this.zht=this.Pht(),this.zht)return this.zht;if(this.xht)return this.xht.Dst;throw new b("Missing media segment information.")}trt(t){const i=this.pst;if(i){return{zu:(void 0!==i.cst?lg.Dh(i.cst,t.Vst[0]):t.Vst[0]).href,lst:i.lst}}const e=this._st;if(e)return{zu:t.Vst[0].href,lst:[0,e[0]-1]}}Qn(t){this.Fk=t,this.zht&&this.zht.Qn()}e_(){this.zht&&(this.zht.e_(),this.zht=void 0)}constructor(t,i,e){this.Oht=void 0,this.zht=void 0,this.ert=t,this.xht=i,this.Fk=e}},pQ=class extends mQ{get ct(){return void 0!==this.Fk.ct?this.Fk.ct/this.zy:this.xht&&yQ(this.xht)?this.xht.ct:void 0}get wht(){return void 0!==this.Fk.ct?Ce.fromNumber(this.Fk.ct):this.xht&&yQ(this.xht)?this.xht.wht:void 0}get Ist(){return void 0!==this.Fk.Ist?this.Fk.Ist:this.xht&&yQ(this.xht)?this.xht.Ist:void 0}get Sst(){return void 0!==this.Fk.Sst?this.Fk.Sst:this.xht&&yQ(this.xht)?this.xht.Sst:void 0}Pht(){return void 0!==this.Fk.Dst?new vQ(this,this.ert):void 0!==this.Fk.ct?new _Q(this,this.ert):void 0}};function yQ(t){return t instanceof pQ}r();var MQ=class{jL(t){return this.Bht.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,((i,e,s,n)=>{if("$$"===i)return"$";const r=t[e];if(void 0===r)return i;if(void 0===s)return r.toString();let h=function(t,i){switch(i){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(r,n);return void 0===h?i:(h=fa(h,Number(s),"0"),h)}))}constructor(t){this.Bht=t}};var TQ=class t extends pQ{get Yst(){return this.Rht?this.Rht:this.xht&&this.xht instanceof t?this.xht.Yst:void 0}get Gst(){return this.Uht?this.Uht:this.xht&&this.xht instanceof t?this.xht.Gst:void 0}trt(t){const i=this.Yst;if(!i)return super.trt(t);const e=i.jL({Bandwidth:t.Cp.Jz,RepresentationID:t.Cp.o});return{zu:lg.zv(e,t.Vst[0])}}urt(t,i){var e;const s=null!=(e=i.hrt.Ist)?e:1,n=this.Gst.jL({Bandwidth:i.Cp.Jz,Number:i.Dst.eht(t,s),RepresentationID:i.Cp.o,Time:i.Dst.ght(t,s)});return{zu:lg.zv(n,i.Vst[0])}}crt(t,i){}get _ht(){}constructor(t,i,e){super(t,i,e),this.Rht=e.Yst?new MQ(e.Yst):void 0,this.Uht=e.Gst?new MQ(e.Gst):void 0}};r();var NQ=class t extends pQ{urt(t,i){const e=this.wst[t.fst],s=i.Vst[0];let n;return n=e.Fy?lg.Dh(e.Fy,s):s,{zu:n.href,lst:e.gst}}crt(t,i){}get wst(){return void 0!==this.Fk.wst?this.Fk.wst:this.xht&&this.xht instanceof t?this.xht.wst:void 0}get _ht(){var t;return null==(t=this.wst)?void 0:t.length}};r(),r(),r(),r();var DQ=class{oht(t){const i=this.Qht(t.Fnt);if(i&&i.zN===t.zN)return i;const e=this.Fht(t.zN);return e&&e.zN===t.zN?e:void 0}},IQ=class extends DQ{get U(){return this.Yht.length}Qht(t){if(t>=0&&t<this.U)return this.Ght(this.Yht[t])}Fht(t){const i=this.Vht(t);if(this.Yht.length>0){const t=this.Yht[0];if(i<=vt(t.zN,this.zy))return this.Ght(t)}const e=wQ(this.Yht,Ce.fromNumber(i*this.zy));if(!(e<0))return this.Ght(this.Yht[e])}Wht(t){const i=this.Vht(t);if(this.Yht.length>0){const t=this.Yht[this.Yht.length-1];if(i>=vt(t.PN,this.zy))return this.Ght(t)}return this.Fht(t)}Ght(t){const i=vt(t.zN,this.zy)-this.yst,e=i+this.Hht,s=vt(t.ct,this.zy);return{uht:this.uht,Fnt:t.fst,zN:e,iht:Ce.fromNumber(i*this.zy),ct:s,PN:e+s,qht:[t.Xht,t.Zht]}}Vht(t){return t-this.Hht+this.yst}constructor(t,i,e,s,n){super(),this.uht=t,this.zy=i,this.Hht=e,this.yst=s,this.Yht=n}};r(),r(),r();var SQ=class t{Kht(){return this.xp.Ku<this.Cp.byteLength}Jht(){const i=this.$ht(),e=this.tot(),s=this.xp.Ku,n=this.Cp.byteLength;let r;r=t.iot(e)?n-s:t.eot(e);const h=s+r<=n?r:n-s,o=Mc(this.Cp,this.xp,h);return new bQ(i,Mo(o))}$ht(){const t=this.tot();if(t.length>7)throw new RangeError("Invalid EBML ID size");let i=0;for(let e=0;e<t.length;e++)i=256*i+t[e];return i}tot(){const t=F(this.Cp,this.xp.Ip());if(0===t)throw new RangeError("EBML variable sized integer is invalid");const i=8-(31-sA(t));return lg.Dtt(i<=8&&i>=1,"Incorrect log2 value"),Mc(this.Cp,this.xp,i)}static eot(t){if(8===t.length&&224&t[1])throw new k("EBML variable sized integer is too large");let i=0;for(let e=0;e<t.length;e++){const s=t[e];if(0===e){i=s&(1<<8-t.length)-1}else i=256*i+s}return i}static iot(t){for(const i of EQ)if(Yi(t,new T(i)))return!0;return!1}constructor(t){this.Cp=t,this.xp=new Or}},EQ=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],bQ=class{rot(){return this.hot.byteOffset}oot(){return new SQ(this.hot)}aot(){const t=this.hot.byteLength;if(t>8)throw new RangeError("EMBL integer field size is too large");if(8===t&&224&this.hot.getUint8(0))throw new RangeError("EMBL integer field value is too large");let i=0;for(let e=0;e<t;e++){i=256*i+this.hot.getUint8(e)}return i}JW(){if(4===this.hot.byteLength)return this.hot.getFloat32(0);if(8===this.hot.byteLength)return this.hot.getFloat64(0);throw new RangeError("Invalid size for EMBL floating-point field")}constructor(t,i){this.id=t,this.hot=i}};function LQ(t,i){const e=function(t){const i=new SQ(Mo(t)),e=i.Jht();if(e.id!==CQ)throw new k("Missing WebM EBML header");const s=i.Jht();if(s.id!==xQ)throw new k("Missing WebM SegmentElement");const n=s.rot(),r=function(t){const i=t.oot();let e;for(;i.Kht();){const t=i.Jht();if(t.id===OQ){e=t;break}}if(!e)throw new k("Missing WebM InfoElement");return function(t){const i=t.oot();let e,s=1e6;for(;i.Kht();){const t=i.Jht();t.id===jQ?s=t.aot():t.id===zQ&&(e=t.JW())}if(void 0===e)throw new k("Missing Duration in WebM InfoElement");const n=s/1e9,r=e*n;return{timecodeScale:n,duration:r}}(e)}(s);return{segmentOffset:n,timecodeScale:r.timecodeScale,duration:r.duration}}(i),s=new SQ(Mo(t)).Jht();if(s.id!==PQ)throw new k("Missing WebM CuesElement");const n=function(t,i,e,s){const n=[],r=t.oot();let h,o;for(;r.Kht();){const t=r.Jht();if(t.id!==BQ)continue;const e=kQ(t);if(!e)continue;const s=e.unscaledTime,a=i+e.relativeOffset;void 0!==h&&n.push({fst:n.length,zN:h,ct:s.subtract(h),PN:s,Xht:o,Zht:a-1}),h=s,o=a}if(void 0!==h){0;const t=Ce.fromNumber(s/e);n.push({fst:n.length,zN:h,ct:t.subtract(h),PN:t,Xht:o,Zht:void 0})}return n}(s,e.segmentOffset,e.timecodeScale,e.duration);return{zy:x.round(1/e.timecodeScale),uot:n}}function kQ(t){const i=t.oot(),e=i.Jht();if(e.id!==RQ)throw new k("Missing CueTime in WebM CuePointElement");const s=Ce.fromNumber(e.aot()),n=i.Jht();if(n.id!==UQ)throw new k("Missing CueTrackPositions in WebM CuePointElement");const r=n.oot();let h=0;for(;r.Kht();){const t=r.Jht();if(t.id===QQ){h=t.aot();break}}return{unscaledTime:s,relativeOffset:h}}var CQ=440786851,xQ=408125543,OQ=357149030,jQ=2807729,zQ=17545,PQ=475249515,BQ=187,RQ=179,UQ=183,QQ=241,FQ=class extends fQ{xrt(t){if(0===t)return this.cot}Ert(){return 0}Lrt(t){return this.cot}Crt(t){return this.Lrt(t)}Brt(){return this.cot}ght(t,i){return Ce.ZERO}lrt(t){const i=this.lot(t);return i&&{Rrt:t,Urt:i,Qrt:i}}lot(t){const i=this.cot;return this.Xrt(i,t)?i:void 0}Frt(t){return this.lot(t)}Yrt(t){return this.lot(t)}Qn(){}frt(t){return 0===t&&void 0!==this.fot}rht(t,i){const e=i.Vst[0].href;return this._ot.get(e)}hht(t,i,e,s){const n=i.Vst[0].href;let r=this.got.get(n);if(void 0===r){const h=i.gY,o=this.wot.a_;if(fe(h))r=this.Aot(t,n,e,s,o);else{if(!kp(h))throw new ce(p_.MEDIA_NOT_SUPPORTED,"Unsupported MIME type for segment index: "+h);r=this.vot(t,n,i,e,s,o)}this.got.set(n,r)}return r}async Aot(t,i,e,s,n){const r=this.fot,h=await s.mot(i,r,e,n),o=this.pot(t,h);return this._ot.set(i,o),o}pot(t,i){const e=this.fot,s=lt.Kp(new DataView(i),new Or);if(s.hA!==Wr.fp)throw new b("Invalid segment index");const n=Qi.Sy(s.Cp),r=function(t,i){const e=[];let s=t.YT,n=i+t.GT.toNumber(),r=0;for(const i of t.WT){const t=i.BT,h=Ce.fromNumber(i.ct),o=s.add(h);0===i.PT&&e.push({fst:r++,zN:s,ct:h,PN:o,Xht:n,Zht:n+t-1}),n+=t,s=o}return e}(n,e[1]+1);return new IQ(t,n.zy,this.yrt.Cn,vt(this.sht,this.Bk),r)}async vot(t,i,e,s,n,r){const h=e.trt(),o=this.fot,a=n.mot(h.zu,h.lst,s,r),u=n.mot(i,o,s,r),[c,l]=await Promise.all([a,u]),d=this.yot(t,l,c);return this._ot.set(i,d),d}yot(t,i,e){const s=LQ(new T(i),new T(e));return new IQ(t,s.zy,this.yrt.Cn,vt(this.sht,this.Bk),s.uot)}e_(){super.e_(),this.wot.c_()}constructor(t,i){super(i,t),this._ot=Qt(),this.got=Qt(),this.wot=new Ao,this.fot=t._st,this.cot=this.tht(0,Ce.ZERO,this.yrt.ct)}},YQ=class extends mQ{get Ist(){}urt(t,i){return{zu:i.Vst[0].href}}crt(t,i){return{zu:i.Vst[0].href,lst:t.qht}}Pht(){return new FQ(this,this.ert)}};r();var GQ=class extends Ag{constructor(){super(_l.Ynt)}};r();var xn=class extends i{get Cp(){return this.Fk}get Vst(){return this.Mot}Tot(){var t,i;return null!=(i=this.Zrt)?i:null==(t=this.fit)?void 0:t.Tot()}Not(t){const i=this.ert,e=this.fit&&this.fit.Tot();this.Fk.qst?this.Zrt=new TQ(i,e,this.Fk.qst):this.Fk.Hst?this.Zrt=new NQ(i,e,this.Fk.Hst[0]):this.Fk.Wst?this.Zrt=new YQ(i,e,this.Fk.Wst):t&&!e&&(this.Zrt=new YQ(i,e,void 0))}Dot(t,i){this.Fk=t,this.Mot=t.Vst&&t.Vst.length>0?dQ(t.Vst.map((t=>t.zu)),i):i.slice(),this.Zrt&&(t.qst?this.Zrt.Qn(t.qst):t.Hst?this.Zrt.Qn(t.Hst[0]):t.Wst&&this.Zrt.Qn(t.Wst))}Rnt(){var t;return null==(t=this.Iot)?void 0:t.Sot}drt(){var t;return null==(t=this.Iot)?void 0:t.Eot}bot(t){const i=this.Lot,e=this.ert.ct,s=this.Iot,n=this.kot(t);s&&Va(e,i,1e-5)&&qQ(s,n)||(this.Lot=e,this.Iot=n,this.Co(new GQ))}e_(){this.Vo(),this.Zrt&&(this.Zrt.e_(),this.Zrt=void 0)}constructor(t,i,e){super(),this.Zrt=void 0,this.Lot=1/0,this.Iot=void 0,this.fit=i,this.Dot(t,e)}};function VQ(t){let i,e;for(const e of t){const t=e.Rnt();if(t){i=t.Cn;break}}if(void 0!==i){for(let i=t.length-1;i>=0;i--){const s=t[i].Rnt();if(s){e=s.jn;break}}return void 0!==e?{Cn:i,jn:e}:void 0}}function WQ(t){if(0===t.length)return;let i=0,e=1/0;for(const s of t){const t=s.Rnt();if(!t)return;if(i=x.max(i,t.Cn),e=x.min(e,t.jn),i>=e)return}return{Cn:i,jn:e}}function HQ(t){let i;for(const e of t){const t=e.drt();t&&(!i||t.getTime()<i.getTime())&&(i=t)}return i}function qQ(t,i){return function(t,i){return t&&i?t.getTime()===i.getTime():t===i}(t.Eot,i.Eot)&&function(t,i){return t&&i?Va(t.Cn,i.Cn,1e-5)&&Va(t.jn,i.jn,1e-5):t===i}(t.Sot,i.Sot)}var XQ=class extends _n{get wnt(){return this.Cot}get bst(){return this.wnt.reduce(((t,i)=>{for(const e of i.bst)ea(t,e)||t.push(e);return t}),[])}get Mtt(){return this.bst.length>0?this.bst[0]:""}get hA(){return this.Cot[0].hA}get o(){return this.NN}get irt(){return this.yrt.irt}get gY(){return this.Cot[0].gY}get ert(){return this.yrt}get unt(){return Eh(this.wnt,(t=>t.unt))}Rnt(){return WQ(this.Cot)}drt(){let t;for(const i of this.Cot){const e=i.drt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t}gn(){this.Vo();for(const t of this.Cot)t.fn(_l.Ynt,this.Qnt)}constructor(t,i,e){super(),this.yrt=t,this.NN=i,this.Cot=e.slice();for(const t of e)t.yn(_l.Ynt,this.Qnt)}};r();var ZQ=class extends Ag{constructor(){super(_l.Vnt)}};function KQ(t){const i=[];for(const e of t){let t;const s=e.$st;void 0===s||(t=X_(i,(t=>t.o===s))),t||(t={o:s,wnt:[]},i.push(t)),t.wnt.push(e)}return i}r();var JQ=class extends _n{get wnt(){return this.Cot}get xot(){return this.Oot}get Ant(){return this.Xnt.Cp.Ant}get ct(){return this.Xnt.ct}get jn(){return this.Cn+this.ct}get vnt(){return this.Xnt.Cp.vnt||[]}get o(){return this.Xnt.o}get Wnt(){return this.jot}get irt(){return this.zot}get Pot(){return this.zot.Bot(this)}get ert(){return this}get Rot(){return this.zot.Uot(this)}get Qot(){return this.Fot(1/0,x.min)}get Yot(){return this.Fot(0,x.max)}Fot(t,i){if(0===this.Oot.length)return;let e=t;for(const t of this.Oot){const s=t.hA;if(s===rv.mp||s===rv.vp){const s=t.Unt;if(void 0===s)return;e=i(e,s)}}return e}get Cn(){return this.Xnt.Cn}get uE(){return this.irt.uE}Got(){this.jot||(this.jot=!0,this.Co(new ZQ),this.gn())}async Qn(t,i){0===this.Cot.length?(await this.Vot(this.Xnt.wnt,t,i),this.Wot(this.Cot),Pi(i)):await this.Hot(t,i)}async Vot(t,i,e){for(const s of t){const t=new lQ(this,s);try{await t.Qn(i,e),this.Cot.push(t)}catch(t){Ht(t)}}}Wot(t){const i=KQ(t);for(const t of i){const i=new XQ(this,t.o,t.wnt);this.Oot.push(i)}}async Hot(t,i){for(const e of this.Cot)await e.Qn(t,i)}Rnt(){return this.Xnt.Rnt()}drt(){return this.Xnt.drt()}gn(){this.Vo(),this.Xnt.fn(_l.Ynt,this.Qnt);for(const t of this.Oot)t.gn();for(const t of this.Cot)t.gn();Ri(this.Cot),Ri(this.Oot)}constructor(t,i){super(),this.Cot=[],this.Oot=[],this.jot=!1,this.zot=t,this.Xnt=i,this.Xnt.yn(_l.Ynt,this.Qnt)}};r();var Ar,Nn=class extends Ag{constructor(){super(t.QA)}};r(),r(),(Ar||(Ar={})).qot="Xot";var $Q=class extends Ag{constructor(){super(Ar.qot)}};r(),r(),r(),r();var tF=class extends xn{get Hnt(){return this.qnt}get ert(){return this.qnt.ert}get Prt(){return this.qnt.Prt}get gY(){return this.Fk.gY||this.qnt.gY}get hrt(){return this.Tot()}get Dst(){return this.hrt.Dst}frt(t){const i=this.gY;return!(!fe(i)&&!kp(i))&&this.Dst.frt(t.fst)}_rt(t,i,e,s){return this.Dst._rt(t,this,i,e,s)}trt(){return this.hrt.trt(this)}urt(t){return this.hrt.urt(t,this)}crt(t){return this.hrt.crt(t,this)}lrt(){return this.Zot}kot(t){const i=this.Dst,e=i.lrt(t),s=e&&function(t,i){const{Urt:e,Qrt:s,Rrt:n}=t,r=e.zN;let h;const o=i.$rt(s);if(o.getTime()<=n.getTime())h=s.PN;else{const t=(o.getTime()-n.getTime())/1e3,i=x.max(s.ct-t,0);h=s.zN+i}return{Cn:r,jn:h}}(e,i),n=this.Dst.drt(t,e);return this.Zot=e,{Rrt:t,Sot:s,Eot:n}}Qn(t){this.Dot(t,this.qnt.Vst)}constructor(t,i){super(t,i,i.Vst),this.Zot=void 0,this.qnt=i,this.Not(!0)}},iF=class extends xn{get unt(){return this.prt}get ert(){return this.yrt}get Prt(){return this.yrt.Prt}get $st(){return this.Fk.$st}get gY(){var t;return this.Fk.gY||(null==(t=this.prt[0])?void 0:t.Cp.gY)||""}Qn(t){this.Dot(t,this.yrt.Vst);const i=t.unt||[];if(this.prt.length!==i.length)throw new b("Expected "+this.prt.length+' representations in adaptation set "'+t.o+'", found '+i.length);for(let t=0;t<i.length;t++)this.prt[t].Qn(i[t])}bot(t){for(const i of this.prt)i.bot(t);super.bot(t)}kot(t){return{Rrt:t,Sot:WQ(this.prt),Eot:HQ(this.prt)}}e_(){for(const t of this.prt)t.e_();super.e_()}constructor(t,i){super(t,i,i.Vst),this.yrt=i,this.Not(!1),this.prt=t.unt.map((t=>new tF(t,this)))}},eF=class extends xn{get wnt(){return this.Cot}get xot(){return this.Oot}get ert(){return this}get Prt(){return this.Kot}get o(){return this.Fk.o}get Cn(){return this.JI}get ct(){return this.Rk}Qn(t,i){this.Dot(t,this.Kot.Vst),this.Rk=i;const e=t.wnt||[];if(this.Cot.length!==e.length)throw new b("Expected "+this.Cot.length+' adaptation sets in period "'+t.o+'", found '+e.length);for(let t=0;t<e.length;t++)this.Cot[t].Qn(e[t])}bot(t){for(const i of this.Cot)i.bot(t);super.bot(t)}kot(t){return{Rrt:t,Sot:WQ(this.Cot),Eot:HQ(this.Cot)}}e_(){for(const t of this.Cot)t.e_();super.e_()}constructor(t,i,e,s){super(i,void 0,t.Vst),this.Oot=[],this.Kot=t,this.JI=e,this.Rk=s,this.Not(!1),this.Cot=(i.wnt||[]).map((t=>new iF(t,this))),this.Oot=KQ(this.Cot)}},sF=new Date("2000-01-01"),nF=class extends i{get Cp(){return this.Fk}get hA(){return this.Fk.hA||as.CO}get pnt(){return this.Jot||this.Fk.pnt||this.bnt}get mnt(){return this.Fk.mnt}get zrt(){var t,i;return null!=(i=null==(t=this.$ot)?void 0:t.ignoreAvailabilityWindow)&&i}get Dnt(){return this.iat}get Vst(){return this.Mot}get ynt(){return this.eat}get Ent(){return this.sat}get bnt(){return this.Fk.bnt||this.An}get Tst(){return this.Fk.Tst}get nat(){return this.rat}get oat(){return this.An}Rnt(){var t;return null==(t=this.Iot)?void 0:t.Sot}drt(){var t;return null==(t=this.Iot)?void 0:t.Eot}Qn(t,i,e,s){var n;const r=void 0!==this.Fk&&this.Fk.hA===as.xO;this.Fk=t,this.aat=i,this.rat=null!=s?s:e,this.An=e;const h=[uw(i)];this.Mot=t.Vst&&t.Vst.length>0?dQ(t.Vst.map((t=>t.zu)),h):h,this.eat=t.ynt&&t.ynt.length>0?dQ(t.ynt,this.Mot):[];const o=this.eat.map((t=>t.href)),a=i.href;ea(o,a)||(this.eat.push(i),o.push(a));const u=this.uat.href;ea(o,u)||(this.eat.push(this.uat),o.push(u)),this.iat=null==(n=t.Dnt)?void 0:n.$et();const c=t.hA===as.xO,l=function(t,i,e){const s=[];for(let e=0;e<t.length;e++){const n=t[e];let r;if(n.Cn)r=n.Cn.$et();else if(e>0&&t[e-1].ct){r=s[e-1]+t[e-1].ct.$et()}else{if(0!==e||i)break;r=0}s.push(r)}const n=[];for(let i=0;i<s.length-1;i++)n.push({Cp:t[i],Cn:s[i],ct:s[i+1]-s[i]});if(s.length>0){const r=s.length-1,h=t[r],o=s[r];let a=1/0;i||(a=h.ct?h.ct.$et():e-o),n.push({Cp:h,Cn:o,ct:a})}return n}(t.Ent,c,this.iat);this.dat(l,r,c),this.bot(e)}dat(t,i,e){const s=this.sat;if(0===t.length)return void Ri(s);const n=t[0].Cp.o;let r=0;for(;r<s.length&&s[r].o!==n;)r++;const h=s.splice(0,r);for(const t of h)t.e_();if(i&&!e&&s.length>0&&t.length>0){var o;const i=null!=(o=rF(s[0].Cp))?o:Pt.LD;var a;const e=null!=(a=rF(t[0].Cp))?a:Pt.LD;if(e.lD(i)){const n=e.MD(i);void 0!==this.iat&&(this.iat+=n.cD());for(let i=0;i<t.length;i++){const e=t[i];if(i<s.length){const t=s[i];e.Cn=t.Cn,cF(e.Cp,t.Cp)}i===t.length-1&&(e.ct+=n.cD())}}}for(let i=0;i<t.length;i++){const e=t[i];if(i<s.length){const t=s[i];0,t.Qn(e.Cp,e.ct)}else s.push(new eF(this,e.Cp,e.Cn,e.ct))}}bot(t){for(const i of this.sat)i.bot(t);const i=this.Iot,e=this.kot(t);i&&qQ(i,e)||(this.Iot=e,this.Co(new GQ))}kot(t){return{Rrt:t,Sot:VQ(this.sat),Eot:HQ(this.sat)}}Brt(){if(0===this.sat.length)return;const t=this.sat[this.sat.length-1];if(isFinite(t.ct))return;if(0===t.wnt.length)return;const i=t.wnt[0];if(0===i.unt.length)return;const e=i.unt[0].Dst,s=e.Brt();return s?{Mht:s,mnt:e.Grt(s)}:void 0}e_(){this.Vo();for(const t of this.sat)t.e_()}constructor(t,i,e,s,n){if(super(),this.Iot=void 0,this.iat=void 0,this.Jot=void 0,this.sat=[],this.uat=i,this.$ot=n,this.Qn(t,e,s),t.hA===as.xO){const t=this.Brt();t&&t.mnt&&t.mnt.getTime()<sF.getTime()&&(this.Jot=new Date(this.bnt.getTime()-1e3*(t.Mht.zN+t.Mht.ct)),this.bot(s))}}};function rF(t){let i=aF(t);var e,s;for(const s of null!=(e=t.wnt)?e:[])i=Wa(i,hF(s));for(const e of null!=(s=t.vnt)?s:[])i=Wa(i,uF(e));return i}function hF(t){let i=aF(t);for(const e of t.unt)i=Wa(i,oF(e));return i}function oF(t){return aF(t)}function aF(t){let i;if(void 0!==t.qst&&(i=Wa(i,uF(t.qst))),void 0!==t.Wst&&(i=Wa(i,uF(t.Wst))),void 0!==t.Hst)for(const e of t.Hst)i=Wa(i,uF(e));return i}function uF(t){var i,e;return Pt.SD(null!=(i=t.yst)?i:Ce.ZERO,null!=(e=t.zy)?e:1)}function cF(t,i){if(fF(t,i),t.Cn=i.Cn,void 0!==t.wnt&&void 0!==i.wnt&&t.wnt.length===i.wnt.length)for(let e=0;e<t.wnt.length;e++)lF(t.wnt[e],i.wnt[e]);if(void 0!==t.vnt&&void 0!==i.vnt&&t.vnt.length===i.vnt.length)for(let e=0;e<t.vnt.length;e++)_F(t.vnt[e],i.vnt[e])}function lF(t,i){if(fF(t,i),void 0!==t.unt&&void 0!==i.unt&&t.unt.length===i.unt.length)for(let e=0;e<t.unt.length;e++)dF(t.unt[e],i.unt[e])}function dF(t,i){fF(t,i)}function fF(t,i){if(void 0!==t.qst&&void 0!==i.qst&&_F(t.qst,i.qst),void 0!==t.Wst&&void 0!==i.Wst&&_F(t.Wst,i.Wst),void 0!==t.Hst&&void 0!==i.Hst&&t.Hst.length===i.Hst.length)for(let e=0;e<t.Hst.length;e++)_F(t.Hst[e],i.Hst[e])}function _F(t,i){t.zy=i.zy,t.yst=i.yst}r();var gF=class{async iW(t){await this.fat(t,this.gE,this._at,this.gat).catch(Mh)}wat(){return new Date(Qo()+this.Aat)}async fat(t,i,e,s){let n;if(s&&(n=await this.vat(i,s,e)),void 0===n){Pi(e);for(const s of t)if(n=await this.mat(i,s,e),void 0!==n)break}this.Aat=void 0===n?0:n-Qo()}async mat(t,i,e){switch(i.ust){case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2012":case"urn:mpeg:dash:utc:http-iso:2014":{const s=i.ST;if(s)return await this.vat(t,s,e);break}case"urn:mpeg:dash:utc:direct:2012":case"urn:mpeg:dash:utc:direct:2014":{const t=i.ST;if(t){const i=new Date(t).getTime();if(!j(i))return i}break}default:return}}async vat(t,i,e){try{const s=await t.mS({zu:i,nE:Yc.GET,rE:er.Ru,a_:e}),n=await s.wE(),r=new Date(n).getTime();if(!j(r))return r}catch(t){Ht(t)}}constructor(t,i,e){this.gE=t,this._at=i,this.gat=e,this.Aat=0}},wF=class extends i{get mnt(){return this.Xnt&&this.Xnt.mnt}get pnt(){return this.Xnt&&this.Xnt.pnt}get zrt(){return this.Xnt&&this.Xnt.zrt}get o(){return this.Xnt&&this.Xnt.Cp.o}get nat(){var t;return null==(t=this.Xnt)?void 0:t.nat}get pat(){var t;return null==(t=this.Xnt)?void 0:t.oat}get ynt(){return this.Xnt?this.Xnt.ynt.map((t=>t.href)):[this.yat]}get yat(){return this.Mat.href}get Tnt(){return this.Xnt&&this.Xnt.Cp.Tnt}get Nnt(){return this.Xnt&&this.Xnt.Cp.Nnt}get Dnt(){return this.Xnt&&this.Xnt.Cp.Dnt}get Int(){return this.Xnt&&this.Xnt.Cp.Int}get Snt(){var t,i;const e=(null==(i=this.Xnt)||null==(t=i.Cp.Snt)?void 0:t.tst())||0;return x.max(e,vF)}get eg(){return this.Tat}Nat(t){const i=this.eg;this.Tat=t,i!==this.eg&&this.Co(new $Q)}get Ent(){return this.sat}get Dat(){return this.hA===as.xO?this.Nrt:this.Iat}get Sat(){const t=this.Dat;if(void 0!==t)for(const i of this.Ent)if(i.Cn<=t&&i.jn>t)return i}get zst(){return this.Xnt&&this.Xnt.Cp.zst}get bnt(){return this.Xnt&&this.Xnt.bnt}get Qot(){for(let t=this.sat.length-1;t>=0;t-=1){const i=this.sat[t].Qot;if(i)return i}}get Nrt(){const t=this.Qot;if(void 0===t)return;const i=t-this.Eat;return x.max(i,this.Iat)}get Iat(){for(const t of this.sat){const i=t.Bnt;if(void 0!==i)return i}}get uE(){return Boolean(this.bat.uE)}get Eat(){var t,i;if(this.bat.Lat&&this.hA===as.xO)return this.bat.Lat;const e=null==(i=this.Xnt)||null==(t=i.Cp.Lnt)?void 0:t.$et();return void 0!==e?e:this.hA===as.xO?1.5*this.Int.$et():0}get Tst(){return this.Xnt&&this.Xnt.Tst}get hA(){return this.Xnt?this.Xnt.hA:void 0}async Qn(t,i,e){const s=[],n=[],r=t.Mnt?lg.Dh(t.Mnt,this.Mat):this.Mat;void 0===this.Xnt?(await this.Cat.iW(t.knt),this.Xnt=new nF(t,this.Mat,r,this.wat(),this.$ot),this.Xnt.yn(_l.Ynt,this.Ds)):this.Xnt.Qn(t,r,this.wat(),i);const h=this.Xnt.Ent;let o;if(0===h.length)o=this.sat.slice(),Ri(this.sat);else{const t=h[0].o;let i=0;for(;i<this.sat.length&&this.sat[i].o!==t;)i++;o=this.sat.splice(0,i);for(let t=0;t<h.length;t++){const i=h[t];let r;t<this.sat.length?r=this.sat[t]:(r=new JQ(this,i),s.push(r)),n.push(r.Qn(this.xat,e))}}await Promise.all(n),this.sat.push(...s);for(const t of o)t.Got();this.Co(new Nn)}wat(){return this.Cat.wat()}Uot(t){const i=this.sat.indexOf(t);if(i>0)return this.sat[i-1]}Bot(t){const i=this.sat.indexOf(t);if(i>=0&&i+1<this.sat.length)return this.sat[i+1]}Rnt(){return this.Xnt?this.Xnt.Rnt():void 0}drt(){return this.Xnt&&this.Xnt.drt()}bot(t){this.Xnt&&this.Xnt.bot(t)}gn(){this.Vo(),this.Oat=void 0,this.Nat(!1);for(const t of this.sat)t.gn();Ri(this.sat),this.Xnt&&this.Xnt.e_()}constructor(t,i,e,s,n){super(),this.Xnt=void 0,this.Tat=!0,this.sat=[],this.Oat=void 0,this.bat=t,this.Mat=t.oA,this.xat=i,this.gE=e,this.jat=s,this.Cat=new gF(this.gE,this.jat,this.bat.zat),this.$ot=n}},AF=class{get irt(){return this.zot}constructor(t,i,e,s,n){this.zot=new wF(t,i,e,s,n)}},vF=1e3,mF=class{get Tr(){return this.Xnt}get W(){return this.Pat||(this.Pat=this.ait(this.Bat.a_),W(this.Pat)),this.Pat}async ait(t){this.Xnt.irt.Co(new he);try{await this.Rat(t),this.Xnt.irt.Nat(!0)}catch(t){throw Ht(t),this.Pat=void 0,this.Xnt.irt.Nat(!1),new b("The provided MPEG-DASH document could not be loaded - "+t.message)}this.Uat=this.Qat(this.Bat.a_)}async Qat(t){try{for(;this.Xnt.irt.hA===as.xO;)await rl(this.Fat,t)}catch(t){}}get Fat(){return this.Xnt.irt.pat&&this.Xnt.irt.hA===as.xO?this.Yat(this.Bat.a_):this.W}async Gat(t){Pi(t);const i=this.Vat();if(i>0){const e=x.min(i,2147483647);await ye(e,t)}try{await this.Rat(t),this.Xnt.irt.Nat(!0)}catch(t){throw new b("The provided MPEG-DASH manifest could not be loaded - "+t.message)}finally{this.Wat=void 0}}Vat(){const t=this.Xnt.irt.wat().getTime()-this.Xnt.irt.nat.getTime();return this.Xnt.irt.Snt-t}Hat(t){const i=this.Xnt.irt.drt();if(i){const e=i.getTime()-t.getTime();if(e>0)return e}this.Xnt.irt.bot(t);const e=this.Xnt.irt.drt();return e?e.getTime()-t.getTime():NaN}async Yat(t){this.Wat||(this.Wat=this.Gat(t));const i=new Ao;i.l_(t);try{await Promise.race([this.Wat,this.qat(i.a_)].filter(j_))}catch(t){Mh(t)}finally{i.c_()}}qat(t){const i=this.Xnt.irt.wat(),e=this.Hat(i);if(!j(e)&&!this.Tr.irt.zrt)return this.Xat(e,t)}async Xat(t,i){await ye(t,i);const e=this.Xnt.irt.wat();this.Xnt.irt.bot(e)}async Zat(t,i){const e=await this.Jat.Kat(t,{},i);return(new iQ).Cnt(e.$at,e.AE)}gn(){return this.Bat.c_(),this.Uat=void 0,this.Pat=void 0,this.Wat=void 0,this.Xnt.irt.gn(),Promise.resolve()}constructor(t,i,e,s,n){this.Bat=new Ao,this.Rat=async t=>{try{const i=this.Xnt.irt.wat(),e=await this.Zat(this.Xnt.irt.ynt,t);await this.Xnt.irt.Qn(e,i,t)}catch(t){throw ay(t)&&this.Xnt.irt.Nat(!1),t}},this.Jat=s,this.Xnt=new AF(t,i,e,this.Bat.a_,n)}};r(),r();var pF=class extends Ag{constructor(t,i){super("tut"),this.iut=t,this.eut=i}},yF=class extends i{get eut(){return this.sut}get hA(){return this.v0}get Z(){return this.Ow.slice()}kS(t){t&&this.sut!==t&&this.nut(t)}CS(t){this.sut===t&&this.nut(void 0)}nut(t){this.sut=t,this.Co(new pF(this,this.sut))}gn(){this.Vo();for(const t of this.Ow)t.$st=void 0;Ri(this.Ow)}constructor(t,i){super(),this.sut=void 0,this.v0=t,this.Ow=i;for(const t of this.Ow)t.$st=this}};r(),r();var MF=class extends La{fa(){return new TF(this.Hw.map((t=>t.va)))}constructor(t,i){super(Os.Lw),this.Hw=t||[],this.Lt=i}},TF=class extends Ag{constructor(t){super("targetqualitychanged"),this.qualities=t,this.quality=this.qualities.length>0?this.qualities[0]:void 0}};r();var NF=class extends yo{fa(){return new DF(this.quality.va)}constructor(t){super(Os.QUALITY_UNAVAILABLE),this.quality=t}},DF=class extends te{constructor(t){super("qualityunavailable"),this.quality=t}};r();var IF=class extends Ag{constructor(){super(Os.NO_QUALITY)}};function SF(t){return{Jz:t.Jz,Mtt:t.bst,Ti:EF(t)?t.Ti:0,hA:EF(t)?rv.vp:rv.mp,ji:EF(t)?t.ji:0}}function EF(t){const i=t;return void 0!==i.Ti&&void 0!==i.ji}r();var Pu,bF=0,LF=class extends i{get Ww(){return this.qnt.Jst.map(kF).filter(j_)}rut(t){if(!this.vN.yN(t))return;t.CS();const i=this.hut();if(this.out&&ea(this.out,t)){const t=this.out.filter((t=>t.qit));0===t.length&&i.length>0?this.qw=i:this.qw=t}else this.qw=i;this.Co(new NF(t))}hut(){const t=[];for(const i of this.vN.xw)i.qit&&t.push(i);return t}get Gw(){return this.aut}uut(t){this.aut=t.nrt,this.Co(t)}get Hnt(){return this.qnt}get Rt(){return this.Le}set Rt(t){this.EN(t)}get va(){return this.Xa||(this.Xa=Ei(this)),this.Xa}get $st(){return this.cut}set $st(t){this.cut=t}get o(){return this.NN}get Vw(){return this.DN}get zt(){return this.f0}get gs(){return this.Uk}get kh(){return this.IN}set kh(t){t!==this.IN&&(this.IN=t,this.Co(new Ln(this)))}get eA(){return this.Rt?"enabled":"disabled"}get qw(){return this.out}set qw(t){let i=[];if(t){const e=(null!=t?t:[]).filter((t=>{const i=this.Gw?SF(this.Gw):void 0;return lg.Ys.wtt(i,SF(t))}));if(0===e.length)return;i=e.filter((t=>t.qit))}else i=this.hut();0===i.length&&this.Co(new IF),this.out=t&&this.vN.yN(t)?t:void 0,this.lut=this.fut(this.out),this.Co(new MF(t,this))}get _ut(){return this.lut}fut(t){if(!t||0===t.length)return;const i=[];for(const e of this.unt)for(const s of t)s===e.nrt&&s.qit&&i.push(e);return i}get Hw(){return this.vN}get unt(){return this.Hnt&&this.Hnt.unt}get gut(){return this.wut}EN(t){this.Le=t,this.cut&&(t?this.cut.kS(this):this.cut.CS(this))}Aut(t){this.Le=t,this.vut!==t&&(this.vut=t,this.Co(new Kr(this)))}gn(){for(const t of this.vN.xw)t.fn("update",this.mut);this.vN.Zn()}constructor(t,i,e="alternative"){super(),this.aut=void 0,this.Le=!1,this.Xa=void 0,this.cut=void 0,this.NN="",this.vut=!1,this.vN=new nm,this.out=void 0,this.lut=void 0,this.mut=()=>this.Co(new Ln(this)),this.qnt=t,this.NN=String(bF++),this.DN=om(),this.f0=e,this.Uk=t.h6,this.IN=t.kh,this.wut=t.hA;for(const t of i)t.yn("update",this.mut),this.Hw.mN(t)}};function kF(t){if("urn:mpeg:dash:role:2011"===t.ust)return CF(t);if("urn:tva:metadata:cs:AudioPurposeCS:2007"===t.ust){if("1"===t.ST)return gc.Zw;if("2"===t.ST)return gc.Jw}}function CF(t){if(void 0!==(null==t?void 0:t.ST))switch(t.ST){case"caption":return gc.Xw;case"sign":return gc.Kw;case"description":return gc.Zw;case"enhanced-audio-intelligibility":return gc.Jw;default:return}}r(),function(t){t[t.eU=0]="eU",t[t.yut=1]="yut",t[t.Mut=10]="Mut",t[t.Tut=11]="Tut",t[t.Nut=12]="Nut",t[t.Dut=13]="Dut",t[t.Iut=14]="Iut",t[t.Sut=15]="Sut",t[t.Eut=20]="Eut",t[t.but=21]="but",t[t.Lut=22]="Lut",t[t.kut=23]="kut",t[t.Cut=24]="Cut",t[t.xut=30]="xut",t[t.Out=31]="Out",t[t.jut=32]="jut",t[t.zut=33]="zut",t[t.Put=34]="Put",t[t.But=35]="But",t[t.Rut=40]="Rut",t[t.Uut=41]="Uut",t[t.Qut=42]="Qut",t[t.Fut=43]="Fut",t[t.Yut=44]="Yut",t[t.Gut=50]="Gut",t[t.Vut=51]="Vut",t[t.Wut=60]="Wut",t[t.Hut=61]="Hut",t[t.qut=62]="qut",t[t.Xut=63]="Xut",t[t.Zut=70]="Zut",t[t.Kut=71]="Kut",t[t.Jut=72]="Jut",t[t.$ut=73]="$ut",t[t.tct=74]="tct",t[t.ict=75]="ict",t[t.ect=76]="ect",t[t.sct=77]="sct",t[t.nct=90]="nct",t[t.rct=91]="rct"}(Pu||(Pu={})),r(),r();var xF,Sr,OF=class extends Ag{constructor(i,e,s){super(t.LA),this.currentTime=i,this.initDataType=e,this.initData=s}};function Tr(t,i,e,s,n){let r=[],h=[];for(const t of i)t.hA===rv.mp?r=r.concat(t.Z):t.hA===rv.vp&&(h=h.concat(t.Z));return[jF(t,r,e,s,null==n?void 0:n.preferredAudioCodecs),zF(t,h,e,s,null==n?void 0:n.preferredVideoCodecs)].filter(j_)}function jF(t,i,e,s,n){const r=X_(s||[],(t=>t.gut===rv.mp&&t.Rt)),h=[BF(r,e,t),RF(r),UF(r,n),QF(),t=>{const i=t.filter((t=>"main"===t.zt));return i.length>0?i:t}];return PF(i,h)}function zF(t,i,e,s,n){const r=X_(s||[],(t=>t.gut===rv.vp&&t.Rt)),h=[BF(r,e,t),UF(r,n),QF(),t=>{const i=t.filter((t=>"main"===t.zt));return i.length>0?i:t}];return PF(i,h)}function PF(t,i){if(0===t.length)return;let e=t;for(const t of i){if(1===e.length)return e[0];e=t(e)}return e[0]}function BF(t,i,e){return s=>{const n=t?t.Hnt.o:void 0;if(!j_(n))return s;const r=null==i?void 0:i.Ant,h=e.Ant,o=r&&h&&r.ST===h.ST,a=X_(s,(t=>t.Hnt.o===n));return o&&a?[a]:s}}function RF(t){return i=>{const e=t?t.gs:"",s=i.some((t=>""!==t.gs))?i.filter((t=>""!==t.gs)):i;if(""===e)return s;const n=X_(s,(t=>t.gs===e));return n?[n]:s}}function UF(t,i){return e=>{if(void 0===t&&i&&i.length>0)for(const t of i){const i=e.filter((i=>i.Hw.xw.some((i=>fi(i.bst,t)))));if(i.length>0)return i}return e}}function QF(){return t=>{let i=[],e=-1/0;for(const s of t){const t=s.Hnt.fB;t>e?(e=t,i=[s]):t===e&&i.push(s)}return i}}r(),r(),function(t){t.hct="api",t.act="start"}(xF||(xF={})),r(),(Sr||(Sr={})).uct="cct",r();var FF=class extends Ag{constructor(i){super(t.FA),this.error=i}};function YF(t){return void 0!==t.ag}function GF(t,i){const e=t.ji&&i.ji,s=t.Ti&&i.Ti;if(e||s){if(e&&s)return t.ji*t.Ti-i.ji*i.Ti;if(e)return t.ji-i.ji;if(s)return t.Ti-i.Ti;return(t.ji||1)*(t.Ti||1)-(i.ji||1)*(i.Ti||1)}return 0}function VF(t,i){return GF(t,i)||function(t,i){return t.Jz-i.Jz}(t,i)}r(),r();var WF=class t{lct(i,e,s,n){let r=t.sortByQuality(i);if(void 0!==this.dct&&void 0===e&&i.length>1){const i=t.fct(r,this.dct);i&&(r=i)}const h=this._ct(r,e,s,n);return h.length?h[h.length-1]:r[0]}_ct(i,e,s,n){var r;const h=t.sortByQuality(i),o={gct:void 0===n||this.Act.wct?this.Act.gct:n,ag:YF(s)&&s.ag?s.ag:1,vct:s.ji,mct:s.Ti,pct:null==(r=this.yct)?void 0:r.restrictToPlayerSize};let a=h;for(const t of this.Mct)a=t(a,e,o,this.btt,this.Tct);return a}static Nct(i){return t.sortByQuality(i)[0]}static Dct(i,e){var s;return e?t.Nct(null!=(s=t.fct(i,e))?s:i):t.Nct(i)}static fct(t,i){for(const e of i){const i=t.filter((t=>fi(t.Mtt,e)));if(i.length>0)return i}}static sortByQuality(t){const i=[...t];return i.sort(VF),i}constructor(t,i,e,s,n,r){this.Mct=t,this.Act=i,this.btt=e,this.yct=s,this.dct=n,this.Tct=r}};r();var HF={maxRetries:3,minimumBackoff:1e3,maximumBackoff:1/0},qF=class{Ict(t,i,e){const s=this.Sct.maxRetries===1/0?HF:this.Sct;return Ou((()=>this.Ect(t,i,e)),e,s.maxRetries,s.minimumBackoff,s.maximumBackoff)}async Ect(t,i,e){let s;for(const n of t)try{const t=new ec({zu:n,rE:er.Ru,sE:i,uE:this.bct,nE:Yc.GET,hA:Uu.QS,oE:So.KT,a_:e,NS:15e3,hE:5e3}),s=await this.gE.mS(t),r=await s.wE(e);return{$at:r,Lct:n,AE:s.AE}}catch(t){s=t}throw s}constructor(t,i,e=HF){this.gE=t,this.bct=i,this.Sct=e}};r();var XF=class{async Kat(t,i,e){let s;for(const n of this.kct)try{return await n.Kat(t,i,e)}catch(t){Ht(t),s=t}throw s}constructor(t){this.kct=t}},ZF=class{async Kat(t,i,e){const s=await this.Cct.ret(t);if(s)return{$at:s.data,Lct:s.locationURL,AE:s.responseURL};throw new b("Manifest fetch from cache unsuccesful")}constructor(t){this.Cct=t}},KF=class{async Kat(t,i,e){return await this.xct.Ict(t,i,e)}constructor(t){this.xct=t}};function JF(t,i){return new XF([new ZF(i),new KF(t)])}var $F=class{async Kat(t,i,e){const s=await this.Jat.Kat(t,i,e);return await this.Oct(s),s}async Oct(t){await this.jct._et({key:St(t.Lct),locationURL:_a(t.Lct),responseURL:_a(t.AE),data:t.$at,references:[this.zct.o]})}constructor(t,i,e){this.Jat=t,this.jct=i,this.zct=e}};r();var tY=class extends Ag{constructor(){super(t.GA)}};r();var iY=class extends Ag{constructor(){super(t.YA)}};r(),r();var eY=class extends si{Pct(t){return t.vg=Q.LOADED,this.tt(t),t}Bct(t){for(const i of this.Z.xw)if(i.iA===t)return i}constructor(){super()}};function sY(t,i){return""===i?t:t+" "+i}r(),r(),r();var nY=class extends gn{get va(){return this.Xa||(this.Xa=function(t){return Ru(Rh(t),{get attributes(){return t.rS},get eventID(){var i;return""+(null!=(i=t.Rct)?i:"")}})}(this)),this.Xa}tD(t){return this.O===t.O}constructor(t,i,e,s,n){super(t,i,e,!1,null==n?void 0:n.toString()),this.rS=s,this.Rct=n}},rY=class extends eY{Uct(t){const i=this.fE.dE(oa.Mp,"","","",void 0,Ks.EVENT_STREAM);return i.iA=t,this.Pct(i),i}Qct(t,i,e){const s=t.ust;var n;const r=null!=(n=t.ST)?n:"";var h;const o=null!=(h=t.zy)?h:1;var a;const u=null!=(a=t.yst)?a:Ce.ZERO,c=sY(s,r);let l=this.Bct(c);l||(l=this.Uct(c));for(const s of t.wY)if(!hY(s,l)){const t=oY(s,o,u,i);t.PN>e&&l.vE(t)}}async $n(i){await this.Zn(),this.Kot=i,this.Kot.yn(t.QA,this.Fct),this.Fct()}async Zn(){this.Kot&&(this.Kot.fn(t.QA,this.Fct),this.Kot=void 0);for(const t of this.Z.xw)this.fE.pE(t);await super.Zn()}constructor(t){super(),this.Kot=void 0,this.Fct=()=>{var t,i;const e=null!=(i=null==(t=this.Kot.Rnt())?void 0:t.Cn)?i:0;if(e>0)for(const t of this.Z.xw)my(t,e);for(const t of this.Kot.Ent)if(t.jn>e)for(const i of t.vnt)this.Qct(i,t,e)},this.fE=t}};function hY(t,i){const e=t.o;if(void 0!==e){if(X_(i.L.xw,(i=>i.Rct===e&&i.O===t.Cp)))return!0}return!1}function oY(t,i,e,s){const n=t.o,r=t.ET.toSigned().subtract(e),h=t.ct,o=t.Cp,a=t.rS,u=r.toNumber()/i+s.Cn,c=h?h.toNumber()/i:void 0,l=void 0!==c?u+c:s.Yot;return new nY(u,l,o,a,n)}function aY(t,i,e,s){const n=[],r=X_(e,(t=>t.ust===Cw));if(void 0===r)return;const h=r.ST?function(t){const i=t.split(":",1)[0];switch(i){case"cbcs":case"cenc":return i;default:return}}(r.ST.toLowerCase()):"cenc";if(void 0!==h){for(const t of e)if(t.ust!==Cw)for(const i of qy(t.ust))n.push({dm:i,nP:t.ast?[t.ast]:[],rP:void 0,Az:void 0});if(n.length)return{Mj:t,Yct:{Gct:h,Tj:r.Tj},Vct:n,Wct:i===rv.mp?s.slice():[],Hct:i===rv.vp?s.slice():[],_4:!1}}}function uY(t,i){if(!t)return i;if(!i)return t;const e=[],s=Qt();var n;return cY(e,s,t.Vct),cY(e,s,i.Vct),{Mj:t.Mj,Yct:{Gct:t.Yct.Gct,Tj:null!=(n=t.Yct.Tj)?n:i.Yct.Tj},Vct:e,Wct:lY(t.Wct,i.Wct,ea),Hct:lY(t.Hct,i.Hct,ea),_4:t._4||i._4||!1}}function cY(t,i,e){for(const s of e){const e=s.dm.mL;let n;i.has(e)?(n=i.get(e),n.nP=lY(n.nP,s.nP,dY)):(n=At({},s),t.push(n),i.set(e,n))}}function lY(t,i,e){const s=t.slice();for(const t of i)e(s,t)||s.push(t);return s}function dY(t,i){for(const e of t)if(ma(e,i))return!0;return!1}function fY(t,i){let e;const s=t.kst;if(s){const n=t.gY,r=[];for(const i of t.bst)r.push(n+'; codecs="'+i+'"');e=aY(i||{},t.hA,s,r)}for(const s of t.unt)e=uY(e,_Y(s,i));return e}function _Y(t,i){return aY(i||{},t.hA,t.kst||[],[t.LP])}function gY(t){return t?t.Vct.map((i=>{const e=wY(t.Mj,i.dm),s=t.Yct.Gct;return{dm:i.dm,nP:i.nP,Az:i.Az,iB:[{initDataTypes:[i.dm.AL],audioCapabilities:AY(t.Wct,s,null==e?void 0:e.audioRobustness),videoCapabilities:AY(t.Hct,s,null==e?void 0:e.videoRobustness),persistentState:null==e?void 0:e.persistentState,distinctiveIdentifier:null==e?void 0:e.distinctiveIdentifier}]}})):[]}function wY(t,i){switch(i.hA){case Ci.qv:return t.widevine;case Ci.Hv:return t.playready;case Ci.Xv:return t.fairplay;case Ci.Zv:return t.clearkey}}function AY(t,i,e){if(0!==t.length)return t.map((t=>({contentType:t,encryptionScheme:i,robustness:e})))}r(),r();var vY=class extends eY{Uct(t){const i=this.fE.dE(oa.Mp,t.o,"thumbnails","",!1,Ks.DEFAULT);return i.eA=go.Xn,this.Pct(i),i}async $n(i){await this.Zn(),this.Kot=i,this.Kot.yn(t.QA,this.Qn),this.Qn()}qct(t){this.Xct(t),this.Zct()}Zct(){const t=[];for(const i of this.Z.xw)this.Kct(i)||t.push(i);for(const i of t)this.it(i)}Xct(t){const i=[];for(const e of this.prt)-1===t.indexOf(e)&&i.push(e);for(const t of i)Et(this.prt,t)}async Zn(){this.Kot&&(this.Kot.fn(t.QA,this.Qn),this.Kot=void 0);for(const t of this.prt)t.fn(_l.Ynt,this.Jct);this.prt.length=0;for(const t of this.Z.xw)this.fE.pE(t);await super.Zn()}gn(){return this.Jct=void 0,super.gn()}$ct(){var t,i;const e=null!=(i=null==(t=this.Kot.Rnt())?void 0:t.Cn)?i:0;if(e>0)for(const t of this.Z.xw)my(t,e)}tlt(t){return this.Z.xw.some((i=>i.o===t.o))}ilt(t){return X_(this.Z.xw,(i=>i.o===t.o))}Kct(t){return this.prt.some((i=>t.o===i.o))}constructor(t){super(),this.prt=[],this.Qn=()=>{const t=[];for(const i of this.Kot.Ent)for(const e of i.wnt)if(e.hA===rv.ZT&&e.unt.length>0){const i=e.unt[0];t.push(i),this.tlt(i)||this.Uct(i),-1===this.prt.indexOf(i)&&(this.prt.push(i),i.yn(_l.Ynt,this.Jct)),this.elt(i)}this.qct(t)},this.elt=t=>{const i=this.ilt(t);i&&t&&i.eA!==go.Ch&&(this.$ct(),function(t,i){const e=t.Dst,s=t.lrt();if(!s)return;const n=s.Urt,r=s.Qrt,h=t.ji,o=t.Ti,[a,u]=function(t){for(const i of t)if(Wi(i.ust,pY)||Wi(i.ust,yY)){const t=i.ST.match(mY);if(t){const[,i,e]=t;return[Number(i),Number(e)]}}return[1,1]}(t.Cst);let c=n;for(;c&&c.fst<=r.fst;){const s=t.hrt.ct||c.ct,n=MY(i,c,t.urt(c).zu,h,o,a,u,s);for(const t of n)i.vE(t);c=e.Vrt(c)}}(t,i))},this.fE=t;const i=this;this.Jct=function(){i.elt(this)}}},mY=/^(\d+)x(\d+)$/,pY="http://dashif.org/guidelines/thumbnail_tile",yY="http://dashif.org/thumbnail_tile";function MY(t,i,e,s,n,r,h,o){const a=[],u=i.zN,c=r*h,l=s/r,d=n/h,f=x.round(l),_=x.round(d),g=o/c;if(1===c){const i=u+g;return TY(t,u,i,e)?a:[new gn(u,i,e,!1)]}for(let s=0;s<h;s++)for(let n=0;n<r;n++){const h=u+(s*r+n)*g,o=h+g,c=e+"#xywh="+x.round(n*l)+","+x.round(s*d)+","+f+","+_;if(TY(t,h,o,c)||a.push(new gn(h,o,c,!1)),o>=i.PN)return a}return a}function TY(t,i,e,s){return t.L.xw.some((t=>t.zN===i&&t.PN===e&&t.O===s))}r(),r(),r(),r();var NY=class extends gn{get IT(){return this.slt}get ST(){return this.nlt}get rlt(){return this.hlt}get va(){return this.Xa||(this.Xa=function(t){return Ru(Rh(t),{get schemeIDURI(){return t.IT},get value(){return t.ST},get emsgID(){return t.rlt}})}(this)),this.Xa}tD(t){return Yi(this.O,t.O)}constructor(t,i,e,s,n,r){super(t,i,r,!1),this.slt=e,this.nlt=s,this.hlt=n}},DY=class t extends eY{olt(i,e,s){const n=Qi.wy(Mo(i));if(!n)return;const r=function(t,i){const e=[];for(const s of t)KA(s,i)&&e.push(s);return e}(n,Wr.dp);if(r.length){const i=t.ult(n,e,s);this.clt(r,i,s)}}clt(t,i,e){for(const s of t){let t;t=1===s._y?s.ET.toNumber()/s.zy+e:i+s.kT/s.zy;const n=t+s.bT/s.zy;"https://aomedia.org/emsg/ID3"===s.IT?this.llt(s,t):this.dlt(s,t,n)}}dlt(t,i,e){const s=sY(t.IT,t.ST);let n=this.Bct(s);n||(n=this.flt(s),this.Pct(n)),n.vE(new NY(i,e,t.IT,t.ST,t.o,t.LT))}llt(t,i){const e=ix(Mo(t.LT));if(!e)return;const s=sY(t.IT,t.ST);let n=this.Bct(s);n||(n=this._lt(s),this.Pct(n));for(const t of e.Q0){const e=new ux(i,t);EC(e,n.L.xw),n.vE(e)}}static ult(t,i,e){const s=JA(t,Wr.fp);return s?vt(s.YT,s.zy)+e:i}flt(t){const i=this.fE.dE(oa.Mp,"","","",void 0,Ks.EMSG);return i.iA=t,i.eA=go.sA,i}_lt(t){const i=this.fE.dE(oa.Mp,"","","",void 0,Ks.ID3);return i.iA=t,i.eA=go.sA,i}async Zn(){for(const t of this.Z.xw)this.fE.pE(t);await super.Zn()}constructor(t){super(),this.fE=t}},IY=class extends DY{async $n(i){await this.Zn(),this.Kot=i,this.Kot.yn(t.QA,this.Fct),this.Fct()}async Zn(){this.Kot&&(this.Kot.fn(t.QA,this.Fct),this.Kot=void 0),await super.Zn()}constructor(...t){super(...t),this.Fct=()=>{var t,i;const e=null!=(i=null==(t=this.Kot.Rnt())?void 0:t.Cn)?i:0;this.IS(e)}}};r(),r();var SY=class{aet(t,i){return this.glt?this.Cct.aet(t,i):Promise.resolve(!1)}cet(t,i){return this.glt?this.Cct.cet(t,i):Promise.resolve(void 0)}async ret(t){const i=await this.Cct.ret(t);return this.glt=void 0!==i,i}nH(t){return this.Cct.nH(t)}constructor(t){this.glt=!1,this.Cct=t}},EY=[t.VA,t.HA,t.KA,t.FA,t.JA],bY=[t.WA,t.uv,t.OA,t.CA],LY=class e extends i{async wlt(i,e,s,n){const r=this.Alt(this.gE,this.yR,this.Cct,this.bc,i,n);return r.yn(_l.Vnt,this.vlt),r.yn(t.FA,this.Ds),await r.iW(e,s),r}plt(t){void 0===t&&(t=!1),this.ylt.c_(),this.u2.c_(),this.Mlt.c_(),this.Mlt=new Ao,this.Tlt=this.Nlt(this.Dlt,this.c2,this.Tlt,t,this.Mlt.a_).catch(this.Ilt)}async Nlt(t,i,e,s,n){await Promise.all([t,i,e]),Pi(n),await rl(this.Slt.PL,n);const r=this.Elt;await r.blt(),this._J(),Pi(n);const h=r.yc,o=r.Llt,a=r.klt;let u=this.Clt(h,a,h,o,!1),c=this.xlt(a,u);!s&&this.Olt(c)?await this.jlt(a,u,c):(u=this.Clt(h,a,h,o,!0),c=this.xlt(a,u),await this.zlt(a,u,c,n)),Pi(n),this.Tg?this.Dp(this.j_):this.Plt(),this.Blt()}async jlt(t,i,e){const s=this.Elt;await this.Rlt(e),this.Ult=e,await this.Qlt(s,t,i),await s.Flt(Pu.Tut)}async zlt(t,i,e,s){const n=this.Elt;this.g2(),this.Ylt();const r=this.Glt;await this.Vlt(),await this.A$(e),this.Ult=e,await this.Qlt(n,t,i);try{const t=this.Wlt(r,!1,!0,s);await n.Flt(Pu.Tut),await t}finally{this.N2(),this.Hlt()}}get ht(){return this.nN}get AP(){const t=this.Glt,i=this.qlt,e=i.ZB(t);if(-1!==e)return{Cn:i.Cn(e),jn:i.jn(e)}}get qlt(){var t,i,e;const s=null!=(e=null==(t=this.Elt)?void 0:t.b_)?e:Ki.lR();var n;const r=null!=(n=null==(i=this.Xlt)?void 0:i.b_)?n:Ki.lR();return s.HB(r)}get b_(){return this.qlt.ks()}get k_(){var t;const i=null==(t=this.Xnt)?void 0:t.irt,e=null==i?void 0:i.pnt;if(!i||!e)return;const s=e.getTime(),n=1e3*this.j_;return new Date(n+s)}set k_(t){var i;const e=null==(i=this.Xnt)?void 0:i.irt,s=null==e?void 0:e.pnt;if(!t||!e||!s)return;const n=s.getTime()/1e3,r=t.getTime()/1e3;this.Dp(r-n)}get Glt(){return void 0!==this.O4?this.O4:void 0!==this.Zlt?this.Zlt:this.vP.j_}get j_(){return this.Glt}set j_(t){this.Dp(t,t===1/0)}get ct(){let t=NaN;return this.Elt&&this.Elt.Klt?t=this.Elt.jn:this.Xnt&&void 0!==this.Xnt.irt.hA&&(t=this.Xnt.irt.Dnt?this.Xnt.irt.Dnt.$et():1/0),t}get jn(){return this.ct}get R_(){return!(!this.Elt||!this.Elt.Klt)&&(this.Tg?this.Glt===this.Elt.jn:this.vP.R_)}get lt(){return this.yP}get F_(){return this.MP}get G_(){}Jlt(){var t;const i=this.$lt;if(0===i.U)return!0;var e;return(null!=(e=null==(t=this.AP)?void 0:t.jn)?e:this.Glt)>=i.Cn(0)}tdt(){var t;if(!this.Xnt)return!1;if(this.Xnt.irt.hA!==as.xO)return!1;const i=null==(t=this.Elt)?void 0:t.yc;if(i&&i.Wnt)return!0;const e=[];for(const t of this.Xnt.irt.Ent){const i=t.Bnt,s=t.Yot;void 0!==i&&void 0!==s&&e.push(i,s)}const s=new Ki(e).WB();return function(t,i,e){if(!i.U||!e.U)return Ki.lR();const s=i.Cn(0),n=i.jn(i.U-1),r=t.Sn(e).YB().Sn(t).HB(i);return Ki.cR(r.Cn(0),r.jn(r.U-1)).qB(r).eR(((t,i)=>t<s&&i<=n&&i-t>kc))}(this.qlt,this.$lt,s).U>0}get q_(){return At({},this.idt,{lN:ua.gL.Qz(),dN:this.edt,fN:{amountOfBufferedAudioSegments:this.sdt,amountOfBufferedVideoSegments:this.ndt}})}get hg(){return this.z4?this.rdt:this.Elt&&this.Elt.Klt?this.hdt:this.rdt}get fg(){let t=this.Uo;return this.Elt&&(t=t.HB(this.odt)),t.WB(.1).ks()}adt(t){this.Uo=this.Uo.HB(t)}get gg(){return this.NP}set gg(t){this.NP=t,this.udt()}get vg(){let t=this.vP.vg;return this.cdt&&(t=x.max(ov.Gn,t)),t}get $lt(){return this.ldt(!1)}get ddt(){return this.ldt(!0)}get yg(){return this.$lt.ks()}get Tg(){return this.fR||this.fdt}get IP(){}get _dt(){var t,i;return null!=(i=null==(t=this.Xnt)?void 0:t.irt.hA)?i:as.CO}get nt(){return this.Dl}get rt(){return this.hN}get Ig(){var t;return this.gdt||(null==(t=this.wdt())?void 0:t.Ti)||0}get Lg(){var t;return this.Adt||(null==(t=this.wdt())?void 0:t.ji)||0}get zg(){return this.SP}get Bg(){return!1}set Bg(t){}get EP(){return this.bP}vdt(i){i.yn(EY,this.Ds),i.yn(t.rv,this.mdt),i.yn(t.MA,this.pdt),i.yn(Bi.ha,this.ydt),i.yn(t.NA,this.Mdt),i.yn(t.HA,this.Tdt),i.yn("tut",this.Ndt),i.yn("Ddt",this.Ndt)}Idt(i){i.fn(EY,this.Ds),i.fn(t.rv,this.mdt),i.fn(t.MA,this.pdt),i.fn(Bi.ha,this.ydt),i.fn(t.NA,this.Mdt),i.fn(t.HA,this.Tdt),i.fn("tut",this.Ndt),i.fn("Ddt",this.Ndt)}Sdt(i){i.yn(t.VA,this.Ds)}Edt(i){i.fn(t.VA,this.Ds)}wdt(){if(!this.Elt)return;const t=X_(this.Elt.klt,(t=>t.gut===rv.vp));return t?t.Gw:void 0}ldt(t){var i;const e=null==(i=this.Xnt)?void 0:i.irt;if(!e)return Ki.lR();const s=e.Iat;let n=t?e.Qot:e.Nrt;if(void 0===s||void 0===n)return Ki.lR();if(!t){const t=this.odt;t.U>0&&t.jn(t.U-1)>n&&(n=x.min(t.jn(t.U-1),e.Qot))}const r=this.ct;return isFinite(r)&&r>n&&(n=r),Ki.cR(s,n).QB()}async $n(t,i){let e,s;Pi(i);try{e=this.Xnt.irt.Sat,s=this.Xnt.irt.Dat}catch(t){throw new b("Something went wrong determining the start of the provided MPEG-DASH stream")}if(!e)throw new b("Something went wrong determining the initial Period of the provided MPEG-DASH stream");if(void 0===s)throw new b("Something went wrong determining the start time of the provided MPEG-DASH stream");t.textTracks&&this.bdt(t.textTracks),this.g2();const n=this.Ldt(e),r=Tr(e,n,void 0,void 0,this.kdt),h=this.Clt(e,r,e,r,!0);r.forEach((t=>t.Rt=!0));const o=this.xlt(r,h);await this.A$(o),this.Ult=o,Pi(i);const a=await this.wlt(e,n,r,h);Pi(i),this.Cdt(a),this.N2(),Pi(i),await a.Flt(),Pi(i),this.xdt||this.Dp(s,!0,xF.act)}Plt(){this.ylt.c_(),this.ylt=new Ao,this.Dlt=this.Odt(this.Dlt,this.Tlt,this.ylt.a_).catch(this.Ilt)}jdt(){this.ylt.c_()}async Odt(t,i,e){for(await Promise.all([t,i]),Pi(e);;){var s;const t=null==(s=this.Elt)?void 0:s.yc;if(!t){0;break}if(!await this.zdt(t,e)){0;break}}}async zdt(t,i){var e;Pi(i);const s=this.Elt;for(0;this.Xnt.irt.hA===as.xO&&void 0===(null==(e=this.Bot(t))?void 0:e.Bnt);)await rl(this.Pdt.Fat,i),await this.Bdt();for(Pi(i),await this.Bdt(),Pi(i);!s.Rdt();)await s.D_(Sr.uct,i),await this.Bdt();Pi(i),await this.Bdt(),Pi(i);const n=this.Bot(t);return n?(this.Udt(n)?await this.Qdt(n,i):await this.Fdt(n,i),!0):(this.NJ(),!1)}Udt(t){var i,e,s,n,r;const h=null!=(r=null==(i=this.bc)?void 0:i.seamlessSwitchStrategy)?r:K.HT;if(h===K.JT)return!0;if(h===K.$T)return!1;const o=this.Elt,a=null==o?void 0:o.yc,u=null==o?void 0:o.klt,c=Tr(t,this.Ldt(t),a,u,this.kdt),l=this.Clt(t,c,a,u,!1);if(h===K.CLEAR_ONLY&&((null==(e=this.Elt)?void 0:e.Ydt)||l)||h===K.SAME_DRM_ONLY&&!((null==(s=this.Elt)?void 0:s.Ydt)&&l||!(null==(n=this.Elt)?void 0:n.Ydt)&&!l))return!1;const d=this.xlt(c,l);return this.Olt(d)}Gdt(){return!1}Vdt(t){const i=this.Wdt();for(const e of i)e!==t&&(e.eA=go.Ch)}Blt(){if(void 0!==this.Hdt){if(this.Hdt.rA){const t=X_(this.ht.xw,(t=>t.Rt));void 0!==t&&this.Hdt.gs===t.gs||(this.Hdt.eA=go.Ch)}}else this.qdt()}qdt(){if(this.Wdt().length)return;const t=X_(this.ht.xw,(t=>t.Rt));if(void 0===t)return;const i=this.nt.xw.filter((t=>t.rA));for(const e of i)if(e.gs===t.gs)return e.eA=go.Xn,void(this.Hdt=e)}Wdt(){return this.nt.xw.filter((t=>t.eA===go.Xn&&(t.zt===oa.fS||t.zt===oa.pp)))}Xdt(t){if(t&&this.Hdt){const i=function(t,i){if(""===t.gs)return;return i.filter((i=>i.gs===t.gs))[0]}(this.Hdt,t.nt.xw);i&&(i.eA=go.Xn)}}async Qdt(i,e){var s,n;const r=this.Elt;let h=this.Xlt;const o=this.Ult;try{Pi(e);const s=r.yc,n=r.klt,o=this.Ldt(i),a=Tr(i,o,s,n,this.kdt),u=this.Clt(i,a,s,n,!1);a.forEach((t=>t.Rt=!0));const c=this.xlt(a,u);for(0,await r.blt(),this._J(),Pi(e),h&&h.yc===i?(this.Olt(c)&&await this.Rlt(c),this.Ult=c):(h&&await h.gn(!0),this.Olt(c)&&await this.Rlt(c),this.Ult=c,h=await this.wlt(i,o,a,u),this.Xlt=h,this.Sdt(h),this.Zdt.Pw=h.nt),await h.Flt(),Pi(e);this.Glt<i.Cn;)await this.vP.D_(t.ov,e);Pi(e),this.Cdt(h)}catch(t){throw Oi(t)&&(h&&await h.blt(),o&&this.Ult!==o&&(this.Olt(o)&&await this.Rlt(o),this.Ult=o)),t}(null==(n=this.bc)||null==(s=n.dash)?void 0:s.forceSeekToSynchronize)&&await this.Kdt(i,e)}async Kdt(t,i){const e=Date.now()/1e3;if(void 0===this.Jdt)this.Jdt=e;else if(e-this.Jdt>900){this.Jdt=e,this.Ylt();const s=x.max(this.Glt,t.Cn);try{await this.Wlt(s,!1,!0,i)}finally{this.Hlt()}}}async Fdt(i,e){for(Pi(e),await this.Elt.blt(),this._J(),await this.$dt(i.Cn),Pi(e),this.NJ();!this.vP.R_&&this.Glt<i.Cn;)await this.vP.D_([t.ov,t.kA],e);Pi(e);const s=this.Elt.yc,n=this.Elt.klt,r=this.Ldt(i),h=Tr(i,r,s,n,this.kdt),o=this.Clt(i,h,s,n,!0);h.forEach((t=>t.Rt=!0));const a=this.xlt(h,o);this.Elt&&(this.tft.fn(Os.ra,this.ift),await this.Elt.gn(),this.tft.yn(Os.ra,this.ift),this.Elt=void 0),this.Xlt&&(await this.Xlt.gn(),this.Xlt=void 0),this.Ylt(),this.g2();const u=x.max(this.Glt,i.Cn);await this.Vlt(),await this.A$(a),this.Ult=a;const c=await this.wlt(i,r,h,o);this.Cdt(c);try{const t=this.Wlt(u,!1,!0,e);await c.Flt(),await ru((i=>Promise.race([t,c.D_([Sr.uct],i)])),e)}finally{this.N2(),this.Hlt()}}async Bdt(){const t=this.Xlt;t&&t.yc.Wnt&&(await t.gn(!0),this.Xlt=void 0)}static eft(t,i){const e=i.some((t=>t.cnt.some((t=>"main"===t.ST)))),s=i.map(((t,i)=>{const s=function(t,i){const e=t.filter((t=>"urn:mpeg:dash:role:2011"===t.ust)).map((t=>t.ST)).filter(j_);if(i||ea(e,"main"))return ea(e,"caption")?"captions":ea(e,"subtitle")?"subtitles":ea(e,"dub")?"translation":"main";if(ea(e,"sign"))return"sign";if(ea(e,"description"))return"descriptions";if(ea(e,"commentary"))return"commentary";return"alternative"}(t.Jst.concat(t.cnt),!e&&0===i),n=t.unt.map((t=>t.nrt));return new LF(t,n,s)}));return new yF(t,s)}Ldt(t){const i=[],s=[];for(const e of t.xot)e.hA!==rv.mp&&e.hA!==rv.vp||(0===e.unt.length?this.Co(new FF("No supported representation found in the AdaptationSet with mimetype : "+e.hA)):e.hA===rv.mp?i.push(...e.wnt):s.push(...e.wnt));const n=[];return i.length>0&&n.push(e.eft(rv.mp,i)),s.length>0&&n.push(e.eft(rv.vp,s)),n}xlt(t,i){var e,s,n,r,h,o,a,u;const c=t.map((t=>{var i;return WF.Dct(null!=(i=t._ut)?i:t.unt,Sv(t.gut,this.kdt))})).map((t=>({LP:t.LP}))),l=null==(s=this.bc)||null==(e=s.dash)?void 0:e.desiredTimescale;var d;const f=(null==(n=this.bc)?void 0:n.seamlessSwitchStrategy)!==K.$T&&(null==(r=this.bc)?void 0:r.seamlessSwitchStrategy)!==K.CLEAR_ONLY&&(null==(h=this.bc)?void 0:h.seamlessSwitchStrategy)!==K.SAME_DRM_ONLY&&(null!=(d=null==(a=this.bc)||null==(o=a.dash)?void 0:o.needsTimescaleShifting)?d:lg.Ys.pJ),_=null==(u=this.bc)?void 0:u.useManagedMediaSource;return{hA:wt.xO,E$:c,kP:gY(i),_4:null==i?void 0:i._4,pJ:f,yJ:l,B$:_}}static sft(t,i){if(!t.length)return;let e;for(const s of t)e=uY(e,fY(s.Hnt,i));return(null==i?void 0:i.preferredKeySystems)&&e&&(e.Vct=function(t,i){const e=t=>{const e=i.indexOf(t.dm.mL);return e>=0?e:i.length};return tl(t,((t,i)=>e(t)-e(i)))}(e.Vct,i.preferredKeySystems)),e}Clt(t,i,s,n,r){var h,o;const a=this.bc.contentProtection;let u=e.sft(i,a);if(void 0!==u)return u;var c;const l=null!=(c=null==(h=this.bc)?void 0:h.seamlessSwitchStrategy)?c:K.HT;if(l===K.$T||l===K.CLEAR_ONLY||l===K.SAME_DRM_ONLY)return;const d=null==(o=this.Elt)?void 0:o.Ydt;if(!r&&void 0!==d){const t=!d._4;if(l===K.HT&&t&&!this.Gdt())return;return d}const f=!r&&l===K.HT;return u=this.nft(t,a,s,n,f),void 0!==u?(u._4=!0,u):void 0}nft(t,i,s,n,r){let h=t,o=!1;for(;;){if(h=o?this.Uot(h):this.Bot(h),void 0===h){if(o)return;o=!0,h=t;continue}const a=Tr(h,this.Ldt(h),s,n,this.kdt),u=e.sft(a,i);if(r){const t=this.xlt(a,u);if(!this.Olt(t))return}if(void 0!==u)return u}}Gg(){this.hg||(this.rdt=!0,this.z4||(this.rft(new ia),this.hft()),this.oft())}Vg(){this.aft||(this.aft=new Eo),this.uft();const t=this.aft.PL;return W(t),t}uft(){if(this.rdt=!1,this.q4=!0,this.udt(),this.R_){const t=this.$lt;t.U>0&&this.Dp(t.Cn(0))}this.z4||this.Z4().then(this.cft,this.rft),this.vlt(),this.oft()}g2(){this.z4||(this.rdt=this.hg,this.z4=!0,this.hft())}N2(){this.z4&&(this.z4=!1,this.rdt||this.Z4().then(this.cft,this.rft),this.vlt(),this.oft())}oft(){const t=this.WO,i=this.hg;t!==i&&(this.WO=i,i?this.Co(new ws(this.j_)):this.Co(new fh(this.j_)))}Dp(t,i,e){return void 0===i&&(i=!1),void 0===e&&(e=xF.hct),this.xdt=!0,this.ylt.c_(),this.u2.c_(),this.fR=!0,this.O4=t,this.adt(this.odt),this.lft(new Sa(this.j_)),this.u2=new Ao,this.c2=this.l2(t,this.Dlt,this.c2,this.Tlt,this.u2.a_,i,e).catch(this.Ilt),this.c2}dft(){this.u2.c_()}async l2(t,i,e,s,n,r,h,o){void 0===r&&(r=!1),void 0===h&&(h=xF.hct),void 0===o&&(o=!1);try{var a,u;0,await Promise.all([i,e,s]),Pi(n),await rl(this.Slt.PL,n);const c=this.$lt.FB(t);this.O4=c;const l=o||(null==(u=this.bc)||null==(a=u.dash)?void 0:a.forceHardSwitchWhenSeekingBackwards)&&c<=this.j_,d=this.fft(c),f=this.Elt;if(l||!f||!f.yg.gr(c)&&h!==xF.act&&f.yc!==d){if(d){let t=this.Xlt;if(this.g2(),f&&await f.blt(),t&&t.yc===d&&!l){const i=this.xlt(t.Llt,t.Ydt);this._J(),this.Olt(i)&&await this.Rlt(i),this.Ult=i}else{t&&await t.gn(!0);const i=this.Ldt(d),e=null==f?void 0:f.yc,s=null==f?void 0:f.klt,n=Tr(d,i,e,s,this.kdt);let r=this.Clt(d,n,e,s,!1);n.forEach((t=>t.Rt=!0));let h=this.xlt(n,r);this.Udt(d)&&!l?(this._J(),this.Olt(h)&&await this.Rlt(h)):(r=this.Clt(d,n,e,s,!0),h=this.xlt(n,r),f&&(this.tft.fn(Os.ra,this.ift),await f.gn(),this.tft.yn(Os.ra,this.ift),this.Elt=void 0),await this.Vlt(),await this.A$(h)),this.Ult=h,t=await this.wlt(d,i,n,r),this.Xlt=t,this.Zdt.Pw=t.nt,this.Sdt(t)}await t.Flt(Pu.Dut),this.Cdt(t)}}else{0;const t=this.Xlt;if(t&&!t._ft){await t.blt(),this._J();const i=this.xlt(f.Llt,f.Ydt);this.Olt(i)&&await this.Rlt(i),this.Ult=i}}0;const _=this.Wlt(c,r,!1,n);this.O4=void 0,await this.Elt.Flt(Pu.Dut),Pi(n),this.Plt(),await _,Pi(n),this.N2(),this.fR=!1,this.gft(new $s(this.j_))}catch(t){if(Oi(t))return void 0;0}}async Wlt(i,e,s,n){let r,h,o=!0,a=i;for(;;){const u=this.ddt;if(u.U>0){const t=u.FB(i);a!==t&&(u.gr(a)&&this.Xnt.irt.hA===as.xO||(a=t,o=!0))}if(o)o=!1,r&&W(r),null==h||h.c_(),h=new Ao,h.l_(n),r=this.wft(a,e,s,h.a_);else if(!this.fdt&&!this.Q$)break;await ru((i=>Promise.race([r,this.D_([t.KA,t.EA],i),this.Xnt.irt.D_(_l.Ynt,i)])),n)}}Ylt(){void 0===this.Zlt&&(this.Zlt=this.Glt,this.vP.fn(t.ZA,this.lft),this.vP.fn(t.XA,this.gft))}Hlt(){if(void 0===this.Zlt)return;const i=this.Glt;this.Zlt=void 0,this.vP.yn(t.ZA,this.lft),this.vP.yn(t.XA,this.gft),this.Glt!==i&&this.wc()}Aft(t){this.Uo=this.Uo.HB(t)}fft(t){const i=this.Xnt.irt;let e=i.Ent;if(lg.Ys._tt&&(e=e.filter((t=>t.ct>=.2))),0===e.length)return;const s=e[0];if(t<=s.Cn)return s;for(const i of e)if(i.jn>t)return i;return i.hA!==as.xO?e[e.length-1]:void 0}Uot(t){let i=t.Rot;if(lg.Ys._tt)for(;i&&i.ct<.2;)i=i.Rot;return i}Bot(t){let i=t.Pot;if(lg.Ys._tt)for(;i&&i.ct<.2;)i=i.Pot;return i}async ga(i,e,s){if(this.vft(),this.bc&&!Rv(this.bc)&&await this.Zn(),!i||Rv(i))return;this.mE=new Ao,s&&this.mE.l_(s),this.bc=i,this.mft=e,this.kdt=i.abr,this.pft=i.ignoreEmbeddedTextTrackTypes;const n=JF(new qF(this.gE,Boolean(this.bc.useCredentials),this.Sct),this.Cct);this.Nat(!0),this.Pdt=new mF({oA:lg.Dh(this.bc.src),Lat:this.bc.liveOffset,zat:this.bc.timeServer,uE:this.bc.useCredentials},this.yft(this.kdt),this.gE,n,this.bc.dash),this.Xnt=this.Pdt.Tr,this.Xnt.irt.yn(t.UA,this.Mft),this.Xnt.irt.yn(t.QA,this.Tft),this.Xnt.irt.yn(Ar.qot,this.Nft),this.Xnt.irt.yn(_l.Ynt,this.vlt),await this.Dft.$n(this.Xnt.irt),await this.Ift.$n(this.Xnt.irt),ea(this.pft,Ks.EMSG)||(this.Sft=new IY(this.fE),this.Dl.oP(this.Sft.Z),await this.Sft.$n(this.Xnt.irt)),this.udt()}async Eft(){const t=this.Xnt.irt.eg;var i,e;(this.Nat(t),t)?this.Ndt():(await Promise.all([null==(i=this.Elt)?void 0:i.blt(Pu.Uut),null==(e=this.Xlt)?void 0:e.blt(Pu.Uut)].filter(j_)),this.jdt(),this.dft(),this.Mlt.c_())}get eg(){return this.Tat}Nat(t){this.Tat!==t&&(this.Tat=t,this.Co(t?new tY:new iY))}udt(){return this.Xnt?(this.bft=this.Lft(this.bft,this.mE.a_),this.bft.catch(this.Ilt)):Promise.resolve()}async Lft(t,i){t&&(await t,Pi(i));try{this.gg===tt.HT||this.q4?await this.kft(i):this.gg===tt.Mp&&await this.Cft(i)}catch(t){throw Ht(t),this.uB(new ce(p_.MANIFEST_LOAD_ERROR,t.message,t)),t}}async kft(t){await this.Cft(t),this.xft||(this.xft=!0,this.Slt.l_(this.$n(this.mft,t)));try{await this.Slt.PL}catch(t){Ht(t),this.uB(new ce(p_.MEDIA_DECODE_ERROR,t.message,t))}}async Cft(t){await rl(this.Pdt.W,t)}Cdt(t){const i=this.Elt;t!==i&&(this.Elt&&this.Idt(this.Elt),this.Xlt&&this.Edt(this.Xlt),i&&this.adt(this.odt),this.Elt=t,this.Xlt=i,this.vdt(this.Elt),this.Xlt&&this.Sdt(this.Xlt),this.nN.Pw=t.ht,this.hN.Pw=t.rt,this.Xdt(t),this.tft.fn(Os.ra,this.ift),e.Oft(this.tft),this.tft.yn(Os.ra,this.ift),this.tft.Pw=t.nt,this.Zdt.Pw=void 0,this.qdt())}static Oft(t){for(const i of t.xw)i.eA=go.Ch}ge(){this.xB=!0}be(){this.xB=!1}uB(t){this.yP||(W(this.Zn()),this.yP=ne(t),this.MP=t,this.Co(new pe(t)))}vft(){this.yP=void 0,this.MP=void 0}async Zn(){this.ag=1,this.mE.c_(),this.dft(),this.jdt(),this.Mlt.c_(),this.Slt.c_(),this.xdt=!1,this.Gg(),this.q4=!1,this.nN.Pw=void 0,this.hN.Pw=void 0,this.tft.Pw=void 0,this.Zdt.Pw=void 0,this.bft&&(await this.bft.catch(xs),this.bft=void 0),await Promise.all([this.Dlt,this.c2,this.Tlt,this.Slt.PL.catch(xs)]),this.Elt&&(await this.Elt.gn(),this.Elt=void 0),this.Xlt&&(await this.Xlt.gn(),this.Xlt=void 0),await this.Vlt(),this.Ult=void 0,this.Hdt=void 0,this.FP.Zn(),await this.Dft.Zn(),await this.Ift.Zn(),void 0!==this.Sft&&(this.Dl.cP(this.Sft.Z),await this.Sft.gn(),this.Sft=void 0),this.fE.Zn(),this.Xnt&&(this.Xnt.irt.fn(t.UA,this.Mft),this.Xnt.irt.fn(t.QA,this.Tft),this.Xnt.irt.fn(Ar.qot,this.Nft),await this.Pdt.gn(),this.Xnt=void 0),this.cdt=!1,this.jft=NaN,this.zft=0,this.Pft=0,this.Zlt=void 0,this.z4=!1,this.Uo=Ki.lR(),this.WO=!0,this.O4=void 0,this.Bft=!1,this.fR=!1,this.xft=!1,this.Slt=new Eo,this.edt=0,this.sdt=0,this.ndt=0,this.bc=void 0,this.mft=void 0,this.pft=[],this.Jdt=void 0}async gn(){this.Vo(),this.vft(),await this.Zn(),this.Vo(),this.nN.gn(),this.hN.gn(),this.Elt&&await this.Elt.gn(),this.Xlt&&(this.Edt(this.Xlt),await this.Xlt.gn()),this.tft.gn(),this.Zdt.gn(),this.Dl.gn(),this.FP.gn(),this.Rft.e_(),await this.Dft.gn(),await this.Ift.gn(),this.fE.gn(),this.vP.fn(t.EA,this.a3),this.vP.fn(Xy.LA,this.N4),this.vP.fn(t.kA,this.r3),this.vP.fn(t.ZA,this.lft),this.vP.fn(t.XA,this.gft),this.vP.fn(t.qA,this.Tdt),this.vP.fn(t.ov,this.wc),this.vP.fn([t.jh,t.Sh],this.Uft),this.vP.fn(bY,this.Ds)}Rg(){return this.vP.ya}get W_(){return!1}Hg(){return!1}qg(){}Xg(){}Zg(){}Kg(){this.plt(!0)}constructor(i,e,s,n,r){super(),this.Elt=void 0,this.Xlt=void 0,this.q4=!1,this.jft=NaN,this.yP=void 0,this.MP=void 0,this.z4=!1,this.Zlt=void 0,this.O4=void 0,this.Bft=!1,this.zft=0,this.Pft=0,this.cdt=!1,this.mE=new Ao,this.Slt=new Eo,this.xft=!1,this.Xnt=void 0,this.Pdt=void 0,this.Tat=!0,this.rdt=!0,this.aft=void 0,this.Uo=Ki.lR(),this.NP=tt.DB,this.bft=void 0,this.WO=!0,this.bc=void 0,this.mft=void 0,this.kdt=void 0,this.pft=[],this.fR=!1,this.xB=!0,this.SP=new xc,this.ylt=new Ao,this.Dlt=Promise.resolve(),this.u2=new Ao,this.c2=Promise.resolve(),this.xdt=!1,this.Mlt=new Ao,this.Tlt=Promise.resolve(),this.Ult=void 0,this.Sft=void 0,this.edt=0,this.sdt=0,this.ndt=0,this.bP=new nu,this.AR=new $o,this.Jdt=void 0,this.Ndt=()=>{this.plt()},this.wc=()=>{this.Co(new jc(this.j_,this.k_))},this.N4=t=>{this.Co(new OF(this.j_,t.AL,t.bL))},this.mdt=t=>{this.edt+=t.dN,this.Co(t)},this.pdt=t=>{const i=t.segments.filter((t=>t.Qft));t.track===rv.mp?this.sdt=i.length:t.track===rv.vp&&(this.ndt=i.length)},this.a3=()=>{const t=this.ct;j(t)||t===this.jft||(this.jft=t,this.Co(new Tn(this.jft)))},this.Uft=()=>{this.vlt(),this.oft()},this.r3=t=>{this.R_&&this.Co(t)},this.Tft=t=>{this.Ds(t),this.cdt||(this.cdt=!0,this.Rft.Fft())},this.Mft=()=>{this.Xnt.irt.fn(t.UA,this.Mft),this.Co(new he)},this.Mdt=t=>{this.uB(t.errorObject),this.Co(t)},this.ydt=t=>{this.uB(t.errorObject)},this.Ilt=t=>{Oi(t)||this.uB(new ce(p_.MEDIA_DECODE_ERROR,t.message,t))},this.vlt=()=>{if(!this.hg)if(this.Jlt())if(this.tdt()){const t=this.Xnt.irt.Dat;this.Dp(t,!0)}else;else{const t=this.Xnt.irt.Dat;this.Dp(t,!0)}},this.lft=t=>{this.Bft=this.Tg,this.Co(t)},this.gft=t=>{const i=this.Bft,e=this.Tg;this.Bft=e,i&&!e&&this.Co(t)},this.Tdt=()=>{const t=this.Lg,i=this.Ig;this.zft===t&&this.Pft===i||(this.zft=t,this.Pft=i,this.Co(new qu))},this.ift=t=>{const i=t.Lt;i.eA===go.Xn?(this.Vdt(i),this.Hdt=i):i===this.Hdt&&i.eA===go.Ch&&(this.Hdt=void 0,this.qdt())},this.cft=()=>{this.z4||this.aft&&(this.aft.jL(),this.aft=void 0)},this.rft=t=>{this.z4||this.aft&&(this.aft.zL(t),this.aft=void 0)},this.Nft=()=>{this.Eft().catch(this.Ilt)},this.gE=i,this.yR=s,this.Cct=new SY(n),this.vP=r,this.nN=new we,this.hN=new we,this.vP.yn(t.EA,this.a3),this.vP.yn(Xy.LA,this.N4),this.vP.yn(t.kA,this.r3),this.vP.yn(t.ZA,this.lft),this.vP.yn(t.XA,this.gft),this.vP.yn(t.qA,this.Tdt),this.vP.yn(t.ov,this.wc),this.vP.yn([t.jh,t.Sh],this.Uft),this.vP.yn(bY,this.Ds),this.Rft=new kY(this,this.vP),this.FP=new uD(this.Rft,!0),this.FP.yn(Ho.Mv,this.vlt),this.FP.yn(Ch,this.Ds),this.tft=new Yu,this.tft.yn(Os.ra,this.ift),this.Zdt=new Yu,this.fE=this.Yft(),this.Dft=new rY(this.fE),this.Ift=new vY(this.fE),this.Dl=new dh([this.tft,this.Dft.Z,this.Ift.Z]),this.Sct=e.retryConfiguration}},kY=class extends cD{get vg(){return this.Qo.vg}Fft(){this.Co(new Vs(this.j_,this.vg))}constructor(t,i){super(i),this.Qo=t}};r(),r(),r(),r(),r(),r();var ln,CY=class{Gft(t,i,e){return Promise.resolve()}Vft(t,i,e,s){let n=[];if(s){const r={LI:i.zN,kI:i.PN,CI:e.Dst.CI};s.hA===Ks.TTML?n=Fp(t,s,r,e.gY):s.hA===Ks.WEBVTT&&(n=$m(t,r).L)}return n}Zn(){}};r(),r(),r(),function(t){t.Jm="vttc",t.Wft="vsid",t.Hft="iden",t.qft="ctim",t.Xft="sttg",t.Zft="payl",t.Kft="vtte",t.Jft="vtta"}(ln||(ln={}));var Dn=class t{static $ft(i){return Boolean(t.t_t[i])}static wy(i){const e=[],s=lt.Wp(new $h(i,new Or));for(const i of s)t.$ft(i.hA)&&e.push(t.t_t[i.hA](i.Cp));return e}static i_t(i){const e=lt.Wp(i),s=$A(e,ln.Wft),n=$A(e,ln.Hft),r=$A(e,ln.qft),h=$A(e,ln.Xft),o=$A(e,ln.Zft);return{hA:ln.Jm,e_t:s?t.s_t(s):void 0,n_t:n?t.r_t(n):void 0,h_t:r?t.o_t(r):void 0,a_t:h?t.u_t(h):void 0,c_t:o?t.l_t(o):void 0}}static s_t(t){return{hA:ln.Wft,d_t:t.Pp()}}static r_t(t){return{hA:ln.Hft,n_t:t.Fp()}}static o_t(t){return{hA:ln.qft,f_t:t.Fp()}}static u_t(t){return{hA:ln.Xft,__t:t.Fp()}}static l_t(t){return{hA:ln.Zft,g_t:t.Fp()}}static w_t(t){return{hA:ln.Kft}}static A_t(t){return{hA:ln.Jft,v_t:t.Fp()}}};Dn.t_t={[ln.Jm]:Dn.i_t,[ln.Kft]:Dn.w_t,[ln.Jft]:Dn.A_t};var xY=class{Gft(t,i,e){const s=new DataView(t.m_t),n=Qi.wy(s),r=X_(n,(t=>t.hA===Wr.Tm));return r&&(this.p_t=r.Z[0].Fy.iy.zy),Promise.resolve()}Vft(t,i,e){if(j(this.p_t))return[];const s=Mo(t),n=Qi.wy(s),r=JA(n,Wr.ep),h=JA(n,Wr.cp);if(!r||0===r.Z.length||!h)return[];const o=function(t,i,e){const s=t.Z[0],n=s.vT?s.vT.vT.toNumber()/e:i.zN,r=[];for(const t of s.AT)r.push(...t.NT);return{y_t:n,NT:r}}(r,i,this.p_t),a=e.Dst.CI;return function(t,i,e,s){const n=Dn.wy(Mo(i.Cp)),r=t.NT,h=t.y_t+s,o=[];let a=0;for(let t=0;t<r.length;t++){const i=r[t],s=n[t];var u;const c=(null!=(u=i.ct)?u:0)/e;let l;s.hA===ln.Jm&&(l=OY(s,a,c,h)),l&&o.push(l),a+=c}return o}(o,h,this.p_t,a)}Zn(){this.p_t=NaN}constructor(){this.p_t=NaN}};function OY(t,i,e,s){if(!t.c_t)return void 0;const n=t.h_t?function(t){return Ba(t.f_t,new Or(0))}(t.h_t):i,r=s+n,h=r+e,o=t.c_t.g_t;return new bm(r,h,o,!1)}r(),r(),r();var jY=class t extends si{get eut(){return this.sut}set eut(t){this.sut=t}get Rt(){for(const t of this.Z.xw)if(t.eA!==go.Ch)return!0;return!1}async $n(t){await this.Zn(),this.M_t=t,this.Ldt(t)}Ldt(t){for(const i of t.wnt){const t=this.T_t(i);this.N_t(t,i),t.vg=Q.LOADED,this.tt(t)}}it(t){this.D_t(t),super.it(t)}kS(t){const i=this.I_t(t);if(i&&this.eut!==i){this.eut=i;for(const t of this.Z.xw)t!==i&&(t.eA=go.Ch)}}CS(t){const i=this.I_t(t);i&&this.eut===i&&(this.eut=void 0)}I_t(t){return X_(this.Z.xw,(i=>t.Vw===i.Vw))}N_t(t,i){this.S_t.set(t.Vw,i)}E_t(t){return this.S_t.get(t.Vw)}D_t(t){this.S_t.delete(t.Vw)}b_t(){if(!this.eut)return;const i=this.E_t(this.eut);return i?t.L_t(i):void 0}static L_t(t){return t.unt&&t.unt.length>0?t.unt[0]:void 0}constructor(...t){super(...t),this.S_t=_e()}};function zY(t,i){const e=i.eR(((i,e)=>t.$B(i,e,!1,!1)));return t.HB(e)}function PY(t,i){const e=i.Sn(t.YB()).eR(((i,e)=>t.gr(e)));return t.HB(e)}r(),r(),r(),r();var BY,Vn=class extends Xo{constructor(t,i,e){super("k_t"),this.Cn=t,this.jn=i,this.nrt=e}},RY=class extends Ag{constructor(){super("C_t")}};!function(t){t.x_t="O_t",t.j_t="z_t",t.P_t="B_t",t.eU="R_t"}(BY||(BY={}));var UY=[t.JA,t.rv,t.KA,t.MA],QY=class extends i{get U_t(){var t,i;return(null==(t=this.F_t.Q_t)?void 0:t.nrt)||(null==(i=this.F_t.Y_t)?void 0:i.nrt)}get G_t(){return this.V_t}set W_t(t){this.F_t.W_t=t}get W_t(){return this.F_t.W_t}get TS(){return this.H_t}q_t(t){this.H_t!==t&&(this.H_t=t,this.Co(new RY))}get gut(){return this.V_t.Lt.gut}get lt(){return this.yP}async Cn(t){if(!this.X_t&&!this.Z_t)return;const i=this.D_("C_t");this.X_t?(this.K_t.c_(),this.K_t=new Ao,this.J_t(this.K_t.a_)):(this.$_t.jL(void 0),this.$_t=new Eo),await i}get X_t(){return"O_t"===this.H_t}get Z_t(){return"z_t"===this.H_t}get tgt(){return"B_t"===this.H_t}get igt(){return"R_t"===this.H_t}async Wg(t){if(this.tgt||this.Z_t)for(0,this.K_t.c_();!this.X_t&&!this.igt;)await this.D_("C_t")}async Zn(t){this.igt?(this.yP=void 0,this.q_t("O_t")):await this.Wg(t),this.F_t.Zn(),this.V_t.Zn()}uB(t){this.yP=t,this.q_t("R_t"),this.Co(new pe(t))}egt(){this.S4.yn(t.ov,this.od),this.S4.yn([t.ZA,t.zA],this.We),this.F_t.yn(UY,this.Ds),this.qnt.yn(_l.Ynt,this.od)}sgt(){this.S4.fn(t.ov,this.od),this.S4.fn([t.ZA,t.zA],this.We),this.F_t.fn(UY,this.Ds),this.qnt.fn(_l.Ynt,this.od)}async blt(t){this.sgt(),this.ngt.c_(),await this.Wg(null!=t?t:Pu.Fut),this.F_t.Zn()}async Flt(t){this.egt(),await this.Cn(null!=t?t:Pu.Sut)}async gn(){this.Vo(),this.sgt(),this.ngt.c_(),await this.Wg(Pu.Yut),this.F_t.gn()}async J_t(t){for(;;)try{Pi(t),this.q_t("B_t"),await this.F_t.rgt(t),Pi(t),this.q_t("z_t"),await rl(this.$_t.PL,t)}catch(t){if(Oi(t))this.q_t("O_t");else{const i=t instanceof ce?t:new ce(p_.MEDIA_LOAD_ERROR,t.message,t);this.uB(i)}break}}async hgt(t){Pi(t),await this.Wg(Pu.Qut),this.F_t.Zn(),Pi(t),await this.Cn(Pu.Dut)}constructor(t,i,e,s,n){super(),this.ogt=t,this.qnt=i,this.V_t=e,this.F_t=s,this.S4=n,this.H_t="O_t",this.yP=void 0,this.$_t=new Eo,this.ngt=new Ao,this.K_t=new Ao,this.We=t=>{this.X_t||this.igt||!lg.Sit&&this.F_t.agt(t.currentTime)||(this.ngt.c_(),this.ngt=new Ao,this.hgt(this.ngt.a_).catch(Mh))},this.od=uo((()=>{if(this.Z_t){try{this.F_t.ugt();if(this.F_t.cgt())return}catch(t){if(!(t instanceof Vn))throw t}this.Cn(Pu.Iut)}}),250),this.egt()}};r(),r();var FY=class t{lgt(t,i,e,s,n){return this.dgt(t,i,!1,e,n,s)}fgt(t,i,e,s,n){return this.dgt(t,i,!0,e,n,s)}async dgt(i,e,s,n,r,h){Pi(h);const o=await this._gt(i,s,n,r,h);return e?t.ggt(o):this.wgt(o)}wgt(t){return t}static ggt(t){return t}_gt(t,i,e,s,n){var r;const h=new ec({zu:t.zu,rE:er.OS,sE:t.lst?{Range:"bytes="+t.lst[0]+"-"+(null!=(r=t.lst[1])?r:"")}:void 0,uE:t.uE,nE:Yc.GET,hA:Uu.FS,oE:i?So.VS:So.KT,aE:this.Agt,NS:e,hE:s,a_:n});return this.gE.mS(h)}constructor(t,i){this.gE=t,this.Agt=i}};r(),r();var YY=class{vgt(t,i){const e=this.mgt**t,s=i*(1-e)+e*this.w8;j(s)||(this.w8=s,this.pgt+=t)}ygt(){const t=1-this.mgt**this.pgt;return this.w8/t}constructor(t){this.w8=0,this.pgt=0,this.mgt=x.exp(x.log(.5)/t)}},GY=class{vgt(t,i){const e=8e3*i/t,s=t/1e3;this.Mgt+=i,this.Tgt.vgt(s,e),this.Ngt.vgt(s,e)}ygt(){return this.wct()?x.min(this.Tgt.ygt(),this.Ngt.ygt()):this.Dgt}wct(){return this.Mgt>=this.Igt}constructor(t=2,i=5,e=128e3){this.Mgt=0,this.Dgt=EI,this.Tgt=new YY(t),this.Ngt=new YY(i),this.Igt=e}},VY=class{get gct(){return this.Sgt.ygt()}get wct(){return this.Sgt.wct()}Egt(t){const i=t.bgt,e=this.Lgt?t.kgt-t.Cgt:t.kgt-t.xgt,s=t.Ogt;!s&&i<this.jgt||(s?this.Sgt.vgt(2*e,i):this.Sgt.vgt(e,i))}constructor(t,i){this.Lgt=i,!i||t!==rv.vp&&t!==rv.mp?(this.jgt=16e3,this.Sgt=new GY):t===rv.vp?(this.jgt=5e3,this.Sgt=new GY(.05,1,0)):(this.jgt=0,this.Sgt=new GY(.005,.1,0))}};r(),r();var WY=["$A","hv"],HY=class extends i{async zgt(t,i){let e;for(const s of this.Pgt)try{return await s.zgt(t,i)}catch(t){Ht(t),e=t}throw e}async Bgt(t,i){let e;for(const s of this.Pgt)try{return await s.Bgt(t,i)}catch(t){Ht(t),e=t}throw e}gn(){for(const t of this.Pgt)t.fn(WY,this.Ds),t.gn()}constructor(t){super(),this.Pgt=t;for(const t of this.Pgt)t.yn(WY,this.Ds)}};r(),r(),r();var qY=class{transform(t,i){this.Vd.write(t).catch(xs),i.enqueue(t)}flush(){this.Vd.close().catch(xs)}constructor(t){this.Vd=t}},XY=class{Rgt(){return new ZY(rb(this.m_t),this.Ugt,this.Qgt)}constructor(t,i,e){this.m_t=t,this.Ugt=i,this.Qgt=e}},ZY=class t{get BG(){return this.Fgt}Kj(t){return Ft(this.Fgt,t)}Ip(){const[i,e]=ob(this.Fgt);return this.Fgt=i,new t(e,this.Ugt,this.Qgt)}Ygt(){const[i,e]=function(t){const i=new _h,e=i.writable.getWriter(),s=new _h(new qY(e));return t.pipeTo(s.writable).catch((t=>{e.abort(t).catch(xs)})),[s.readable,i.readable]}(this.Fgt);return this.Fgt=i,new t(e,this.Ugt,this.Qgt)}Ggt(t){return this.Kj(t).then((t=>new XY(t,this.Ugt,this.Qgt)))}constructor(t,i,e){this.Fgt=t,this.Ugt=i,this.Qgt=e}};r();var Mr=class extends Xo{constructor(t,i,e){super(i,e),this.Mht=t}},KY="Cache lookup failed.",JY=class extends i{async zgt(t,i){Pi(i);const e=await this.Cct.cet(t.zu.zu,t.zu.lst);if(Pi(i),!e)throw new Mr(t,KY);const s=new XY(e.buffer,e.byteLength,e.reference);return{Mht:t.Mht,Vgt:{hA:at.CH,Cp:s},nrt:t.nrt,zu:t.zu}}async Bgt(t,i){Pi(i);const e=await this.Cct.cet(t.zu,t.lst);if(Pi(i),!e)throw new Mr(t,KY);const s=new XY(e.buffer,e.byteLength,e.reference);return{hA:at.CH,Cp:s}}gn(){this.Vo()}constructor(t){super(),this.Cct=t}};r(),r(),r();var $Y=class extends Ag{constructor(t,i,e,s,n,r){super(t),this.Wgt=i,this.QQ=e,this.fT=s,this.Wy=n,this.aE=r}},tG=class extends $Y{constructor(i,e,s,n,r){super(t.JA,i,e,s,n,r)}};r(),r();var iG=class{constructor(t,i){this.Hgt=t,this.qgt=i}},eG=class extends iG{get bgt(){return this.Xgt}start(){}transform(t,i){this.Xgt+=t.byteLength,i.enqueue(t)}flush(){this.Zgt(!1)}c_(){this.Zgt(!0)}Zgt(t){this.Hgt(this.qgt,lg.f_(),this.bgt,t)}constructor(...t){super(...t),this.Xgt=0}},sG=class extends iG{get bgt(){return this.Xgt}start(){this.qgt=lg.f_()}transform(t,i){this.Xgt+=t.byteLength,this.Kgt||this.Jgt(t)&&this.Zgt(!1),i.enqueue(t)}flush(){}c_(){this.Zgt(!0)}Jgt(t){const i=this.$gt(t),e=this.twt(i);return Boolean(X_(e,nG))}$gt(t){return this.iwt&&void 0!==this.ewt?(this.iwt=Gh([this.iwt,t]),new $h(Mo(this.iwt),new Or(this.ewt))):(this.iwt=t,new $h(Mo(t),new Or))}twt(t){const i=lt.Hp(t.Cp,t.xp,!0);return i.qp?(this.iwt=void 0,this.ewt=void 0):this.ewt=t.xp.Ku,i.m}Zgt(t){this.Kgt||(this.Hgt(this.qgt,lg.f_(),this.bgt,t),this.Kgt=!0)}constructor(...t){super(...t),this.Xgt=0,this.Kgt=!1}};function nG(t){return t.hA===Wr.cp}var rG=class{swt(t){const i=t.KG?this.nwt:lg.f_(),e=this.rwt(i),s=new _h(e),n=t.BG().pipeTo(s.writable).then((()=>({q_:{bgt:e.bgt}})),(t=>{throw e.c_(),t}));return this.hwt.l_(n),s.readable}owt(t){const i=t.KG?this.nwt:lg.f_(),e=t.Kj(),s=e.then((t=>{const e=lg.f_();return this.Egt(i,e,t.byteLength,!1),{q_:{bgt:t.byteLength}}}),(t=>{const e=lg.f_();throw this.Egt(i,e,0,!0),t}));return this.hwt.l_(s),e}get awt(){return this.hwt.PL}constructor(t){this.uwt=t,this.hwt=new Eo,this.Egt=(t,i,e,s)=>{const n={xgt:this.nwt,Cgt:t,kgt:i,bgt:e,Ogt:s};this.uwt.Egt(n),this.uwt.wct&&ua.gL.Bz(this.uwt.gct)},this.hwt.PL.catch(xs),this.nwt=lg.f_()}},hG=class extends rG{rwt(t){return new eG(this.Egt,t)}},oG=class extends rG{rwt(t){return new sG(this.Egt,t)}};r();var aG=class extends $Y{constructor(i,e,s,n,r,h,o){super(t.rv,i,e,s,n,r),this.cwt=h,this.dN=o}};r();var uG=class extends Xo{constructor(t,i,e){super("Error downloading segment "+uQ(i),t),this.lwt=i.zN,this.dwt=i.PN,this.fwt=e}},cG=class extends i{_wt(){return lg.Tit}gwt(){return this.Lgt?new oG(this.uwt):new hG(this.uwt)}async zgt(t,i){Pi(i);const e=t.nrt,s=t.zu,n=t.Mht,r=uQ(n),h=e.nrt?e.nrt.Vw:-1,o=function(t){const i=t.nrt;let e;e=i===function(t){return t.unt.reduce(((t,i)=>t.Jz<i.Jz?t:i))}(i.Hnt)?Ut(5*t.Mht.ct):Ut(1.2*t.Mht.ct);return Sc(e,1e3,18e3)}(t);this.Co(new tG(s,e.Jz,r,h,e.hA));try{const t=this.gwt(),a=await this.wwt.lgt(s,this._wt(),o,i),u=await this.Awt(a,this._wt(),i,t);return W(this.vwt(t.awt,e,s,r,h,a)),{Vgt:u,nrt:e,Mht:n,zu:s}}catch(t){throw Ht(t),new uG(t,n,e)}}async Bgt(t,i){Pi(i);const e=await this.wwt.fgt(t,false,1e4,i);return await this.Awt(e,false,i)}async Awt(t,i,e,s){if(i){const i=s?s.swt(t):t.BG();return{hA:at.zS,Cp:new ZY(i)}}{const i=s?await s.owt(t):await t.Kj(e);return{hA:at.CH,Cp:new XY(i)}}}async vwt(t,i,e,s,n,r){try{const h=await t;this.Co(new aG(e,i.Jz,s,n,i.hA,r.TS,h.q_.bgt))}catch(t){}}gn(){this.Vo()}constructor(t,i,e){super(),this.wwt=t,this.uwt=i,this.Lgt=e}};var lG=class{mwt(t,i,e,s,n){const r=new JY(n),h=this.pwt(t,e,s);return new HY([r,h])}pwt(t,i,e){return new cG(t,i,e)}};r();var dG=.001,fG=class{get b_(){return this.ywt.b_}get Mwt(){return this.ywt.Mwt}get uq(){return this.ywt.uq}get Twt(){if(this.VJ.vg<ov.Gn)return!1;if(this.ywt.jn<=this.Nwt&&this.ywt.Dwt())return!0;const t=this.ywt.AP;if(!t||0===t.U)return!1;const i=Ki.cR(this.S4.j_,1/0);return t.Sn(i).XB(this.ywt.uq).aR>=this.yR.hW}get Nwt(){const t=this.ywt.AP;let i;if(t&&t.U>0)i=t.jn(0);else{i=this.S4.j_;const t=this.ywt.uq,e=t.ZB(i);e>=0&&(i=t.jn(e))}const e=this.ywt.yg.Cn(0);if(e>i){if(this.ywt.Cn<=i&&this.ywt.jn>=i&&e>i+dG)throw new Vn(i,e);i=e}return i=this.ywt.Iwt.FB(i),i}constructor(t,i,e,s){this.ywt=t,this.S4=i,this.VJ=e,this.yR=s}};r();var _G=class{get Swt(){if(0===this.Kf.size)return Ki.lR();let t=Ki.cR(0,1/0);return this.Kf.forEach((i=>{t=t.Sn(i)})),t}Ewt(){let t=Ki.lR();return this.Kf.forEach((i=>{t=t.HB(i)})),t}bwt(t){let i=!1;return this.Kf.forEach((e=>{i=i||e.gr(t)})),i}Lwt(t,i){const e=this.Kf.get(i.o);return!!e&&e.gr(t)}KB(t,i){let e=!1;return this.Kf.forEach((s=>{e=e||s.KB(t,i)})),e}kwt(t,i){const e=this.Kf.get(i.o).HB(t);this.Kf.set(i.o,e)}Cwt(t){this.Kf.forEach(((i,e)=>{const s=i.HB(t);this.Kf.set(e,s)}))}xwt(t){this.Kf.forEach(((i,e)=>{this.Kf.set(e,i.Sn(t))}))}Zn(){this.Kf.forEach(((t,i)=>{this.Kf.set(i,Ki.lR())}))}constructor(t){this.Kf=function(t){const i=Qt();for(const e of t)i.set(e.o,Ki.lR());return i}(t)}},gG=class{get Owt(){return this.jwt}get uq(){return this.cq}zwt(t){for(const i of this.bet){if(i.Pwt>t)break;if(i.Bwt>t)return i}}Rwt(t){for(const i of this.bet){if(i.Uwt>t)break;if(i.Qwt>=t)return i}}Fwt(t,i){const e=[];for(const s of this.bet){if(s.Pwt>t)break;s.Bwt>=i&&e.push(s)}return e}Ywt(){return this.bet}Gwt(t,i){const e=Ki.cR(t.Uwt,t.Qwt),s=e.YB();this.jwt.xwt(s),this.jwt.kwt(e,i),this.Vwt(s);const n=J_(this.bet,(i=>t.Pwt<=i.Pwt));if(n<0)this.bet.push(t);else{this.bet[n].Bwt<=t.Bwt?this.bet.splice(n,1,t):this.bet.splice(n,0,t)}}lq(t,i){this.cq.kwt(t,i)}Wwt(t){this.cq.Cwt(t)}xwt(t){this.jwt.xwt(t),this.cq.xwt(t);const i=this.jwt.Ewt();this.Vwt(i)}Vwt(t){this.bet=this.bet.filter((i=>t.$B(i.Uwt,i.Qwt))).map((i=>i.Qft&&!t.KB(i.Uwt,i.Qwt)?function(t,i){return{Pwt:t.Pwt,Bwt:t.Bwt,Uwt:t.Uwt,Qwt:t.Qwt,Qft:i}}(i,!1):i))}Zn(){this.jwt.Zn(),this.cq.Zn(),this.bet=[]}gn(){this.Zn()}constructor(t){this.bet=[],this.Lt=t,this.jwt=new _G(t.unt),this.cq=new _G(t.unt)}};r(),r();var wG=class{get W_t(){return this.Hwt}set W_t(t){this.Hwt=t}get gut(){return this.V_t.Lt.gut}async qwt(t,i,e){let s;Pi(e);const n=this.V_t.Rwt(t);s=n&&Va(n.Qwt,t,1e-5)?x.max(n.Bwt,t):t;const r=this.Xwt(s),h=function(t){return AG.bind(void 0,t)}(s);let o=await this.X7.Zwt(h,r,i,e);for(Pi(e);o&&this.Kwt(o.Mht);){const t=yG(o.Mht),s=o.nrt;o=await this.X7.Zwt(t,[s],i,e),Pi(e)}if(!o)return void 0;if(!this.Jwt(o.Mht))return o;const a=this.$wt(o.Mht);if(t<a.Cn)return await this.findFirstNonAppendedSegmentBeforeSegment(o,i,e,a);if(t>=a.jn)return await this.findFirstNonAppendedSegmentAfterSegment(o,i,e);if(!o.nrt.Art(o.Mht))throw new b("Fatal buffering error")}async findFirstNonAppendedSegmentAfterSegment(t,i,e){let s=t;do{const n=yG(s.Mht),r=t.nrt;s=await this.X7.Zwt(n,[r],i,e),Pi(e)}while(s&&this.Jwt(s.Mht));if(s)return s}async findFirstNonAppendedSegmentBeforeSegment(t,i,e,s){let n=t;do{const s=pG(n.Mht),r=t.nrt;n=await this.X7.Zwt(s,[r],i,e),Pi(e)}while(n&&this.Jwt(n.Mht));if(!n){0;const i=t.nrt.ert.Cn;throw new Vn(i,s.Cn,t.nrt)}return n}tAt(t){return this.V_t.Owt.bwt(t)}iAt(t){return this.V_t.Fwt(t.zN,t.PN)}Jwt(t){const i=this.iAt(t);return i.length>0&&function(t,i){return function(t){let i=Ki.lR();for(const e of t)i=i.HB(Ki.cR(e.Pwt,e.Bwt));return i}(t).KB(i.zN,i.PN)}(i,t)&&i.every(MG)}Kwt(t){return this.V_t.uq.KB(t.zN,t.PN)}$wt(t){const i=this.iAt(t);return{Cn:i[0].Uwt,jn:i[i.length-1].Qwt}}Xwt(t){const i=this.eAt(t);if(0===i.length){const t=this.Hwt?this.Hwt:this.V_t.Lt.unt;return[t[t.length-1]]}const e=i.filter((t=>!t.ort));return e.length>0?e:[i[i.length-1]]}eAt(t){return(this.Hwt?this.Hwt:this.V_t.Lt.unt).filter((i=>!this.V_t.uq.Lwt(t,i)))}constructor(t,i,e){this.ogt=t,this.V_t=i,this.X7=e}};async function AG(t,i,e,s){const n=i.Dst.krt(t);if(n){if(i.frt(n)){return(await i._rt(n,e,s)).Wht(t)}return n}}async function vG(t,i,e,s){if(H(t)){if(0===t.Fnt)return;const n=i.Dst.aht(t);if(!n)return;return(await i._rt(n,e,s)).Qht(t.Fnt-1)}return i.Dst.Krt(t)}async function mG(t,i,e,s){if(H(t)){const n=i.Dst.aht(t);if(!n)return;const r=await i._rt(n,e,s);if(t.Fnt+1===r.U)return;return r.Qht(t.Fnt+1)}return i.Dst.Vrt(t)}function pG(t){return vG.bind(void 0,t)}function yG(t){return mG.bind(void 0,t)}function MG(t){return t.Qft}r();var TG=class{async Zwt(t,i,e,s){Pi(s);const n=this.sAt(i,e);if(!n)return;const r=await t(n,this.nAt,s);if(!r)return;const h=n.urt(r);return{nrt:n,Mht:r,zu:h}}sAt(t,i){if(0===t.length)return;const e=this.rAt.lct(t,this.hAt?i:void 0,this.ywt,this.yR.sW);return this.hAt||(this.hAt=!0),e}constructor(t,i,e,s){this.rAt=t,this.ywt=i,this.yR=e,this.nAt=s,this.hAt=!1}};r();var NG=class{async Zwt(t,i,e,s){Pi(s);const n=this.rAt._ct(i,e,this.ywt);if(!n.length)return;let r;for(const i of n)try{Pi(s);const e=await t(i,this.nAt,s);if(e){const t=i.urt(e);if(await this.Cct.aet(t.zu,t.lst))return{Mht:e,nrt:i,zu:t}}}catch(t){Ht(t),r=t}if(r)throw r}constructor(t,i,e,s){this.rAt=t,this.ywt=i,this.Cct=e,this.nAt=s}};r();var DG=(t,i,e,s,n)=>t.filter((t=>n.PH(t)&&s.wtt(i,t)));r();var IG=(t,i,e)=>t.filter((t=>function(t,i,e){const s=e.gct;if(s<=0)return!1;return.8*s>t.Jz*e.ag}(t,0,e)));r();var SG=(t,i,e,s,n)=>{const r=e.pct;if(void 0===r&&!s.Qs)return t;if(!1===r)return t;if(t.length>0&&t[0].hA!==rv.vp)return t;for(let i=t.length-1;i>=0;i--){const s=t[i];if(s.Ti===e.mct&&s.ji===e.vct)return t.slice(0,i+1);if(s.Ti<e.mct||s.ji<e.vct)return t.slice(0,i+2)}return[]};r();var EG=class{async Zwt(t,i,e,s){let n;for(const r of this.oAt)try{const n=await r.Zwt(t,i,e,s);if(n)return n}catch(t){n=t}if(n)throw n}constructor(t){this.oAt=t}};r(),r();var bG=class{async mot(t,i,e,s){let n;for(const r of this.aAt)try{return await r.mot(t,i,e,s)}catch(t){Ht(t),n=t}throw n}constructor(t){this.aAt=t}};r();var LG=class{async mot(t,i,e,s){var n;const r=await this.gE.mS({zu:t,rE:er.OS,sE:i?{Range:"bytes="+i[0]+"-"+(null!=(n=i[1])?n:"")}:void 0,uE:e,nE:Yc.GET,hA:Uu.KT,a_:s});return await r.Kj()}constructor(t){this.gE=t}};r();var kG=class{async mot(t,i,e,s){const n=await this.Cct.cet(t,i);if(n)return n.buffer;if(i){const e=await this.Cct.cet(t);if(e)return jh(new T(e.buffer),i[0],i[1])}throw new Mr({zu:t,lst:i,uE:!1})}constructor(t){this.Cct=t}};r();var CG=1.05,xG=(t,i,e,s)=>{if(!1===e.pct)return t;if(s.att)return t;const n=s.utt;var r;const h=(null!=(r=null==n?void 0:n.width)?r:e.vct)*CG;var o;const a=(null!=(o=null==n?void 0:n.height)?o:e.mct)*CG;for(let i=t.length-1;i>=0;i--){const e=t[i];if(e.Ti<=a&&e.ji<=h)return t.slice(0,i+1)}return[]},OG=class{static D8(t,i,e,s,n,r,h,o,a,u){const c=function(t,i){return new bG([new kG(i),new LG(t)])}(r,h),l=new WF([DG],n,lg.Ys,o,a,u),d=new NG(l,i,h,c),f=new WF([IG,DG,SG,xG],n,lg.Ys,o,a,u),_=new TG(f,i,s,c),g=new EG([d,_]);return new wG(t,e,g)}};r();var jG=class{olt(t,i,e,s){return this.ywt.olt(t,i,e,s)}uAt(t,i,e){return this.ywt.Gft(t,i,e)}cAt(t,i,e){return this.ywt.cAt(t,i,e)}lq(t,i){this.ywt.lq(t,i)}dq(t,i){this.ywt.dq(t,i)}NJ(){this.ywt.NJ()}lW(){return this.ywt.lW()}constructor(t){this.ywt=t}};r(),r();var zG=class extends Ag{constructor(i,e,s,n,r,h=0){super(t.KA),this.segmentStartTime=i,this.error=e,this.trackType=s,this.track=n,this.quality=r,this.retryCount=h}};r();var PG=class extends Ag{constructor(i,e){super(t.MA),this.track=i,this.segments=e}},BG=class extends Xo{constructor(t,i){super(i),this.lAt=t}},RG=[t.JA,t.rv],UG=class extends i{get Q_t(){return this.dAt}get Y_t(){return this.fAt}set W_t(t){this._At.W_t=t}get W_t(){return this._At.W_t}get gut(){return this.V_t.Lt.gut}gAt(t){return!this.HK||!t||!ma(this.HK.m_t,t.m_t)}agt(t){if(!this.dAt)return!1;const i=this.dAt.Mht,e=Ki.cR(i.zN,i.PN),s=this.wAt.Mwt,n=s.ZB(t);return n<0?e.gr(t,dG):e.$B(t,s.jn(n),!0,!0,dG)}async rgt(t){const i=this.V_t.Lt.unt;for(;;)try{Pi(t),this.ugt();if(this.cgt())break;const e=this.AAt(),s=await this.Zwt(e,t);if(void 0===s)break;if(this.dAt=s,!QG(this.dAt)){await this.vAt(this.dAt,t);continue}this.fAt&&!fi(this.fAt.nrt.LP,this.dAt.nrt.LP)&&await this.Tct.RH(this.dAt.nrt),await this.mAt(e,this.dAt.Mht,t),this.HK=await this.pAt(this.dAt.nrt,t);const n=await this.zgt(this.dAt,t),r=this.wAt.b_,h=this.fAt;this.fAt=await this.yAt(n,t);const o=this.wAt.b_;this.MAt(h,this.dAt,r,o),i.forEach((t=>t.ort=!1)),this.TAt=0,this.NAt=0}catch(e){if(e instanceof Vn){this.kJ(e.Cn,e.jn,e.nrt);continue}if(e instanceof BG){let s=500;if(i.every((t=>t.ort))){if(2===this.TAt){const t=this.wAt.b_;if(this.DAt(this.dAt),this.MAt(this.fAt,this.dAt,t,t),i.forEach((t=>t.ort=!1)),this.NAt+=1,this.TAt=0,this.NAt===this.Sct.maxRetries)throw new ce(p_.MEDIA_LOAD_ERROR,"The segments could not be loaded.",e);continue}this.TAt++;const t=this.Sct.minimumBackoff*2**(this.TAt-1);s=x.min(t,this.Sct.maximumBackoff)}await ye(s,t);continue}throw this.IAt=Ki.lR(),e}finally{this.dAt=void 0}}MAt(t,i,e,s){const n=s.XB(e),r=i.nrt.grt(i.Mht),h=i.nrt.Art(i.Mht);let o=i.Mht.zN,a=i.Mht.PN;r&&(o=x.min(o,x.max(0,i.nrt.ert.Cn-.05))),h&&(a=x.max(a,i.nrt.ert.jn));const u=Ki.cR(o,a).XB(s);if(0===n.U)return 0===this.IAt.U&&this.IAt.HB(Ki.cR(e.jn(e.U-1),o)),this.IAt=this.IAt.HB(u),void this.V_t.Wwt(this.IAt);if(r||this.IAt.U>0){const t=u.Sn(Ki.cR(o,n.Cn(0)));this.SAt(t)}const c=n.YB().Sn(Ki.cR(n.Cn(0),n.jn(n.U-1)));if(this.SAt(c),h){const t=u.Sn(Ki.cR(n.jn(n.U-1),a));this.SAt(t)}if(this.IAt.U>0){const t=this.IAt.XB(n);this.SAt(t),this.IAt=Ki.lR()}const l=i.nrt.Dst,d=H(i.Mht)?void 0:l.Krt(i.Mht);var f;const _=null!=(f=null==t?void 0:t.Mht)?f:this.EAt(d)?d:void 0;if(_){const t=this.V_t.Fwt(_.zN,_.PN);if(t.length>0){const i=Ki.cR(t[t.length-1].Qwt,n.Cn(0));this.SAt(i)}}const g=H(i.Mht)?void 0:l.Vrt(i.Mht);if(g&&this.EAt(g)){const t=this.V_t.Fwt(g.zN,g.PN);if(t.length>0){const i=Ki.cR(n.jn(n.U-1),t[0].Uwt);this.SAt(i)}}}EAt(t){return!!t&&this.V_t.Fwt(t.zN,t.PN).length>0}SAt(t){const i=t.XB(this.wAt.b_);for(let t=0;t<i.U;t++)i.Cn(t)!==i.jn(t)&&this.bAt.lq(i.Cn(t),i.jn(t))}LAt(t,i){throw new BG(t,i)}ugt(){if(this.IAt.U>0)return;var t;const i=this.wAt.Mwt.HB(null!=(t=this.wAt.uq.QB().oR(this.wAt.Nwt))?t:Ki.lR());this.V_t.xwt(i),this.kAt&&!this.CAt(this.kAt)&&(this.kAt=void 0),this.Co(new PG(this.V_t.Lt.gut,this.V_t.Ywt()))}cgt(){return this.fAt&&this.fAt.nrt.Art(this.fAt.Mht)?(this.bAt.NJ(),!0):(this.kAt&&this.kAt.nrt.Art(this.kAt.Mht)&&this.CAt(this.kAt)&&this.bAt.NJ(),!!this.wAt.Twt)}CAt(t){return this.V_t.Owt.KB(t.xAt,t.OAt)}jAt(t,i,e){(!this.kAt||this.kAt.Mht.PN<t.Mht.PN)&&(this.kAt=At({},t,{xAt:i,OAt:e}))}AAt(){const t=this.wAt.Nwt;return t}async Zwt(t,i){Pi(i);const e=this.fAt?this.fAt.nrt:void 0,s=await this._At.qwt(t,e,i);if(s)return s}async vAt(t,i){const e=t.nrt,s=e.Dst,n=H(t.Mht)?s.aht(t.Mht):t.Mht,r=e.irt.wat(),h=s.Grt(n);if(h&&h.getTime()<=r.getTime())return this.LAt(Pu.Lut,"Segment is not available.");const o=s.Wrt(n).getTime()-r.getTime();await ru((t=>Promise.race([ye(o,t),e.D_(_l.Ynt,t)])),i)}async pAt(t,i,e){void 0===e&&(e=0),Pi(i);const s=t.$nt;if(!s)return this.HK;try{if(!t.Knt){const e=await this.zAt.Bgt(s,i);t.Knt=e.Cp}}catch(s){if(Ht(s),ay(s)){if(2===e)return t.ort=!0,this.LAt(Pu.But,"Could not fetch the initializer.");const s=x.min(this.Sct.minimumBackoff*2**e,this.Sct.maximumBackoff);return await ye(s,i),this.pAt(t,i,e+1)}throw new ce(p_.MEDIA_LOAD_ERROR,s.message,s)}Pi(i);try{this.gAt(t.Knt)&&await this.bAt.uAt(t.Knt,t,i)}catch(t){if(Ht(t),ay(t))return this.LAt(Pu.But,"Could not append the initializer.");throw new ce(p_.MEDIA_DECODE_ERROR,t.message,t)}return t.Knt}async zgt(t,i,e){void 0===e&&(e=0);try{return Pi(i),await this.zAt.zgt(t,i)}catch(s){if(Ht(s),s instanceof uG){if(function(t){return t instanceof ee}(s.cause))return this.PAt(new uG(s,t.Mht,t.nrt),e),this.LAt(Pu.Lut,"Could not append the segment.");if(2===e)return t.nrt.ort=!0,this.PAt(s,e),this.LAt(Pu.Lut,"Could not fetch the segment.");const n=x.min(this.Sct.minimumBackoff*2**e,this.Sct.maximumBackoff);return await ye(n,i),await this.zgt(t,i,e+1)}throw new ce(p_.MEDIA_LOAD_ERROR,s.message,s)}}async mAt(t,i,e){const s=this.V_t.Fwt(i.zN,i.PN),n=this.wAt.Mwt.oR(t);let r=Ki.lR();for(const t of s){Pi(e);const i=t.Uwt,s=t.Qwt,h=n&&n.$B(i,s)?x.max(i,n.jn(0)):i,o=s;h<o&&(r=r.HB(Ki.cR(h,o)))}for(let t=0;t<r.U;t++)await this.bAt.cAt(r.Cn(t),r.jn(t),e);this.ugt()}async yAt(t,i){try{Pi(i);const e=await this.bAt.olt(t.Vgt,t.Mht,t.nrt,i);return this.BAt(t,e.xAt,e.OAt),this.jAt(t,e.xAt,e.OAt),t}catch(i){if(Ht(i),ay(i))return this.PAt(new uG(i,t.Mht,t.nrt),0),this.LAt(Pu.Lut,"Could not append the segment.");if(pc(i)&&this.bAt.lW())return this.LAt(Pu.Cut,"Buffer is full. Could not reduce the buffer.");throw new ce(p_.MEDIA_DECODE_ERROR,i.message,i)}}BAt(t,i,e){const s=t.nrt,n=t.Mht;this.Gwt(n,s,i,e)}Gwt(t,i,e,s){this.V_t.Gwt({Pwt:t.zN,Bwt:t.PN,Uwt:e,Qwt:s,Qft:!0},i),this.bAt.dq(e,s)}kJ(t,i,e){const s=Ki.cR(t,i);e?this.V_t.lq(s,e):this.V_t.Wwt(s),this.bAt.lq(t,i)}DAt(t){const i=Ki.cR(t.Mht.zN,t.Mht.PN);t.nrt?this.V_t.lq(i,t.nrt):this.V_t.Wwt(i)}PAt(t,i){const e=t.lwt,s=this.V_t.Lt.gut,n=this.V_t.Lt.va,r=t.fwt.nrt&&t.fwt.nrt.va,h=new zG(e,t.message,s,n,r,i);this.Co(h)}Zn(){this.HK=void 0,this.fAt=void 0}gn(){this.Zn(),this.kAt=void 0,this.zAt.fn(RG,this.Ds),this.zAt.gn()}constructor(t,i,e,s,n,r,h,o){super(),this.ogt=t,this.V_t=i,this.wAt=e,this._At=s,this.zAt=n,this.bAt=r,this.Tct=h,this.Sct=o,this.dAt=void 0,this.HK=void 0,this.fAt=void 0,this.kAt=void 0,this.TAt=0,this.NAt=0,this.IAt=Ki.lR(),this.zAt.yn(RG,this.Ds)}};function QG(t){const i=t.nrt,e=i.Dst,s=H(t.Mht)?e.aht(t.Mht):t.Mht;return e.Xrt(s,i.irt.wat())}var FG=0,YG=class{D8(t){const i=FG++,e=this.ywt.IJ,s=new gG(t),n=new VY(e,this.RAt),r=new fG(this.ywt,this.S4,this.VJ,this.yR),h=OG.D8(i,this.ywt,s,this.yR,n,this.gE,this.Cct,this.yct,this.dct,this.Tct),o=function(t){switch(t){case rv.mp:return nn.mp;case rv.vp:return nn.vp;case rv.Ru:return nn.Ru;case rv.ZT:return nn.ZT;default:return nn.KT}}(e),a=new FY(this.gE,o),u=this.mwt(a,n,this.RAt),c=new jG(this.ywt),l=new UG(i,s,r,h,u,c,this.Tct,this.Sct);return new QY(i,t.Hnt,s,l,this.S4)}constructor(t,i,e,s,n,r,h,o,a,u,c){this.ywt=t,this.S4=i,this.VJ=e,this.gE=s,this.yR=n,this.RAt=r,this.Cct=h,this.yct=o,this.dct=a,this.Tct=u,this.Sct=c}},GG=class extends YG{mwt(t,i,e){return(new lG).mwt(t,this.ywt,i,e,this.Cct)}},VG=class extends YG{UAt(t,i){const e={gut:rv.Ru,Hnt:i,unt:i.unt,va:t.va};return super.D8(e)}mwt(t,i){return(new lG).mwt(t,this.ywt,i,!1,this.Cct)}};r();var WG=class{PH(t){return this.QAt.PH(t)}RH(t){return this.QAt.RH(t)}constructor(t){this.QAt=t}},HG=class{PH(t){return!0}RH(t){return Promise.resolve(void 0)}},qG=class extends jY{get AP(){const t=this.S4.j_;return this.Mwt.oR(t,.01)}get FAt(){return this.eut&&this.YAt[this.eut.Vw]?this.YAt[this.eut.Vw]:Ki.lR()}get GAt(){return this.eut&&this.VAt[this.eut.Vw]?this.VAt[this.eut.Vw]:Ki.lR()}get Iwt(){return new Ki([0,1/0])}get b_(){return this.FAt}get uq(){return this.WAt?this.WAt.G_t.uq.Swt:Ki.lR()}get Mwt(){return zY(this.b_,this.uq).WB(2*this.HAt)}get Cn(){return this.M_t?this.M_t.ert.Cn:NaN}get jn(){return this.M_t?this.M_t.ert.jn:NaN}get R_(){const t=this.jn;return!!t&&this.S4.j_>=t}get HAt(){var t;const i=this.b_t();if(!i)return.04;var e;return 1/(null!=(e=this.eut&&(null==i||null==(t=i.xst)?void 0:t.cD()))?e:25)}get Ti(){return this.iC}get IJ(){return rv.Ru}get ag(){return this.wR}set ag(t){this.wR=t}get fg(){return this.GAt}get yg(){if(!this.eut)return Ki.uR(0);const t=this.E_t(this.eut),i=null==t?void 0:t.Trt,e=null==t?void 0:t.Mrt;if(void 0===e||void 0===i)return Ki.uR(0);const s=x.max(i,this.S4.j_);return new Ki([e,s]).QB()}get ji(){return this.tC}NJ(){}Dwt(){return this.Mwt.gr(this.jn)}async olt(t,i,e,s){const n=t.hA===at.CH?t.Cp.m_t:await t.Cp.Kj(s),r=this.findTrackForRepresentation(e),h=this.YAt[r.Vw],o=i.zN,a=i.PN,u=new Ki([o,a]);h||(this.YAt[r.Vw]=Ki.lR(),this.VAt[r.Vw]=Ki.lR()),this.qAt(s);const c=this.Vft(new T(n),i,e,r);for(const t of c)r.vE(t);return this.YAt[r.Vw]=this.YAt[r.Vw].HB(u),{xAt:o,OAt:a}}qAt(t){const i=Rb(this.S4.j_,void 0,void 0,this.b_,this.yR.hW,this.yR.tW);for(const[e,s]of i)W(this.cAt(e,s,t))}Gft(t,i,e){return this.XAt.Gft(t,i,e)}Vft(t,i,e,s){return this.XAt.Vft(t,i,e,s)}cAt(t,i,e){const s=t,n=i;let r=new Ki([t,i]);for(const t of this.Z.xw){const i=[];for(const e of t.L.xw)e.zN>=s&&e.PN<=n?i.push(e):r=r.XB(new Ki([e.zN,e.PN]));for(const e of i)t.DS(e);const e=this.YAt[t.Vw];e&&(this.YAt[t.Vw]=e.XB(r))}return Promise.resolve()}lq(t,i){}dq(t,i){}lW(){return!1}kS(t){if(super.kS(t),this.XAt.Zn(),this.WAt&&(this.WAt.gn(),this.WAt=void 0),this.eut){const t=this.E_t(this.eut);this.WAt=new VG(this,this.S4,this.S4,this.gE,this.yR,!1,this.Cct,void 0,void 0,new HG,qv).UAt(this.eut,t),this.WAt.yn(Bi.ha,this.ZAt),this.WAt.Cn(Pu.Tut)}}CS(t){this.eut===t&&(super.CS(t),this.WAt&&(this.WAt.gn(),this.WAt=void 0))}T_t(t){const i=function(t){const i=t.unt&&t.unt.length>0&&t.unt[0],e=i&&ly(i.bst),s=ly(t.bst),n=t.gY===Ml.APPLICATION_TTML_XML;return e||s||n?Ks.TTML:t.gY===Ml.TEXT_VTT||hu(t.gY,t.bst)?Ks.WEBVTT:Ks.DEFAULT}(t);if(!i)throw new b("Unknown TextTrack type for Representation");const e=t.cnt.concat(t.Jst);return this.KAt(function(t){return ea(t.filter((t=>"urn:mpeg:dash:role:2011"===t.ust)).map((t=>t.ST)).filter(j_),"caption")?oa.fS:oa.pp}(e),t.kh,t.h6,!1,i,t,function(t){return t.filter((t=>"urn:mpeg:dash:role:2011"===t.ust)).some((t=>function(t){return"forced-subtitle"===t||"forced_subtitle"===t}(t.ST)))}(t.cnt),t.Jst.map(CF).filter(j_))}async Zn(){await super.Zn(),this.WAt&&(await this.WAt.Zn(Pu.Vut),this.WAt.fn(Bi.ha,this.ZAt),this.WAt=void 0),this.M_t=void 0,this.YAt={},this.VAt={}}JAt(){this.YAt={},this.VAt={}}findTrackForRepresentation(t){for(const i of this.Z.xw){const e=this.E_t(i);if(e&&jY.L_t(e)===t)return i}}constructor(t,i,e,s,n){super(),this.iC=0,this.wR=1,this.WAt=void 0,this.YAt={},this.VAt={},this.tC=0,this.ZAt=t=>{0},this.S4=t,this.gE=i,this.yR=e,this.XAt=s,this.Cct=n}},XG=class extends qG{KAt(t,i,e,s,n,r,h,o){var a;const u=r.unt.reduce(((t,i)=>t||i.o),void 0);var c;const l=null!=(c=null!=u?u:null==(a=r.o)?void 0:a.toString())?c:"";return this.fE.dE(t,l,i,e,s,n,h,o)}gn(){for(const t of this.Z.xw)this.fE.pE(t);return super.gn()}constructor(t,i,e,s,n,r){super(t,i,e,s,n),this.fE=r}},ZG=class{get nt(){return this.Dl}async _E(t){if(t.hA!==rv.Ru)return;const i=function(t,i){return ly(i)||t===Ml.APPLICATION_TTML_XML||t===Ml.TEXT_VTT?new CY:hu(t,i)?new xY:void 0}(t.gY,t.bst);if(i){const e=this.$At(i);return this.tvt(e),await e.$n(t),e}}$At(t){return new XG(this.S4,this.gE,this.yR,t,this.Cct,this.fE)}tvt(t){this.ivt.push(t),this.Dl.oP(t.Z)}async Zn(){for(const t of this.ivt.slice())await t.Zn();Ri(this.ivt),this.Dl.Zn()}async gn(){for(const t of this.ivt)await t.gn();Ri(this.ivt),this.Dl.gn()}constructor(t,i,e,s,n){this.ivt=[],this.Dl=new dh([]),this.S4=t,this.gE=i,this.yR=e,this.Cct=s,this.fE=n}};r();var KG=class extends Ag{constructor(){super(Sr.uct)}},JG=class extends i{iW(t,i){return this.evt(t,i)}async evt(t,i){for(const i of t)this.svt(i);await this.$n(i);for(const t of this.yrt.xot)t.hA===rv.Ru&&(t.unt&&0!==t.unt.length?await this.nvt._E(t):this.Co(new FF("No supported representation found in the AdaptationSet with mimetype : "+t.hA)))}get Vw(){return this.DN}tgt(){return this.ivt.some((t=>t.tgt()))}Dwt(){return 0!==this.ivt.length&&this.ivt.every((t=>t.Dwt()))}rvt(){this.Rdt()&&this.Co(new KG)}ovt(i){i.yn([Bi.ha,t.HA,t.KA,t.JA,t.rv,t.MA],this.Ds),i.yn(bi.LH,this.avt),i.yn("Ddt",this.Ds)}get Rt(){return this.ivt.some((t=>t.Rt))}async uvt(t){await Promise.all(this.ivt.map((i=>i.gn(t)))),Ri(this.ivt)}get ht(){return this.nN}get b_(){if(0===this.ivt.length)return Ki.lR();const t=this.ivt.map((t=>t.b_));let i=Ki.cR(0,1/0);for(const e of t)i=i.Sn(e);if(0===i.U)return i;if(this.Dwt()){const t=i.Sn(this.Iwt);if(0===t.U)return i;const e=t.jn(t.U-1);let s=0;for(const t of this.ivt)s=x.max(s,t.cvt);e<=s&&(i=i.HB(new Ki([e,s],[!0,!0])))}return i}get j_(){return this.vP.j_}get Ydt(){return this.lvt}get jn(){if(this.Klt){const t=this.ct;if(!j(t)&&t!==Fa)return t}if(!this.ivt.length)return NaN;let t=0;for(const i of this.ivt)t=x.max(t,i.jn);return t}get Klt(){const t=this.yrt.irt;if(t.hA===as.xO)return!1;const i=t.Ent;return 0!==i.length&&this.yrt===i[i.length-1]}get yg(){if(!this.ivt.length)return Ki.lR();let t=new Ki([0,1/0]);for(const i of this.ivt)t=t.Sn(i.yg);if(t.U>0&&this.Klt&&isFinite(this.ct)){const i=this.ct,e=t.jn(t.U-1);i>e&&(t=t.HB(Ki.cR(e,i).QB()))}return t}get yc(){return this.yrt}get nt(){return this.Dl}get rt(){return this.hN}get AP(){const t=this.j_,i=this.b_,e=i.ZB(t);if(-1!==e)return{Cn:i.Cn(e),jn:i.jn(e)}}get Iwt(){const t=this.yrt.Cn,i=this.Klt?1/0:this.yrt.jn;return Ki.cR(t,i)}Rdt(){if(this.tgt())return!1;if(!this.Dwt())return!1;const t=this.b_;if(0===t.U)return!1;const i=this.j_;if(this.Klt)return t.Cn(t.U-1)<=i;{const e=t.Sn(this.Iwt);if(0===e.U)return!0;const s=e.Cn(e.U-1),n=e.jn(e.U-1)+.1;return s<=i&&i<=n}}get _ft(){return this.dvt}async blt(t){this.dvt||(this.dvt=!0,await Promise.all(this.ivt.map((i=>i.blt(t)))))}async Flt(t){this.dvt&&(this.dvt=!1,await Promise.all(this.ivt.map((i=>i.Flt(t)))))}async gn(t){this.Vo(),this.yrt.fn(_l.Vnt,this.Ds),this.fvt.c_(),this._vt&&(await this._vt.catch(xs),this._vt=void 0),await this.uvt(t),await this.nvt.gn(),this.nN.gn(),this.hN.gn(),this.Dl.gn(),this.gvt()}svt(t){this.wvt.push(t),t.yn("tut",this.Avt);const i=t.hA===rv.mp?this.nN:this.hN;for(const e of t.Z)i.tt(e)}vvt(t){const i=t.hA===rv.mp?this.nN:this.hN;for(const e of t.Z)i.it(e),e.gn();t.gn(),Et(this.wvt,t)}gvt(){for(let t=this.wvt.length-1;t>=0;t--)this.vvt(this.wvt[t])}get klt(){return this.wvt.map((t=>t.eut)).filter(j_)}get Llt(){return this.ivt.map((t=>t.eut)).filter(j_)}$n(t,i){return this.fvt.c_(),this.fvt=new Ao,i&&this.fvt.l_(i),this._vt=jt(this.ait(t,this._vt,this.fvt.a_),this.fvt).catch(this.Ilt),this._vt}async ait(t,i,e){i&&await i.catch(xs),Pi(e);const s=[],n=this.ivt.slice(),r=t.slice();Ri(this.ivt);for(const t of n){const i=t.eut;i&&ea(r,i)?(this.ivt.push(t),s.push(t.$n(i,e)),Et(r,i)):(this.Dl.cP(t.nt),await t.gn(),Pi(e))}for(const t of r){const i=this.mvt(t.gut);this.Dl.oP(i.nt),this.ivt.push(i),this.ovt(i),s.push(i.$n(t,e))}await Promise.all(s),this.pvt()}async yvt(t,i){await this.$n(t),this.lvt=i}constructor(t,i,e,s,n,r,h,o,a,u){super(),this.nN=new jn,this.hN=new jn,this.wvt=[],this.fvt=new Ao,this.dvt=!0,this.ivt=[],this._vt=void 0,this.avt=uo((()=>{this.Co(new $(this.j_))}),350),this.Avt=t=>{const i=t.iut.eut;if(i)for(const t of this.wvt){var e;t.eut&&t.eut!==i&&t.hA===(null==(e=i.$st)?void 0:e.hA)&&(t.fn("tut",this.Avt),t.eut.Rt=!1,t.yn("tut",this.Avt))}this.Ds(t)},this.Ilt=t=>{Oi(t)||this.Co(new pe(new ce(p_.MEDIA_LOAD_ERROR,t.message,t)))},this.Mvt=t=>{const i=t.F1;if(i)for(const t of this.Llt){if((t.Hnt.kst||[]).some((t=>t.Tj&&Yi(ts(i),NE(t.Tj)))))return void this.Co(new Pn(new Qr(p_.CONTENT_PROTECTION_OUTPUT_RESTRICTED,"Content unavailable due to DRM restrictions")))}},this.gE=t,this.yR=i,this.Cct=e,this.vP=s,this.bc=n,this.DN=om(),this.wvt=[],this.yrt=r,this.lvt=h,this.fE=o,this.nvt=new ZG(s,t,i,e,o),this.Dl=new dh([this.nvt.nt]),this.Sct=a,this.pft=u,this.yrt.yn(_l.Vnt,this.Ds)}};r(),r(),r();var $G=[Bi.ha,t.KA,t.JA,t.rv,t.MA];r();var tV=0;r();var xt,gi,iV,eV=class extends Ag{constructor(i,e){super(t.HA),this.representation=i,this.previousRepresentation=e}};function sV(t,i,e){return e===xt.Tvt?e:i!==gi.Nvt&&i!==gi.Dvt||e!==xt.Ivt&&e!==xt.Svt?t?i===gi.Evt?xt.bvt:i===gi.Lvt?xt.kvt:xt.Tvt:xt.Cvt:xt.Svt}function nV(t,i,e,s){const n={byte:e};let r=xt.Ivt;const h=[],o=31&JL(i,n,s);n.byte+=1;for(let e=0;e<o;e+=1){const o=JL(i,n,s),a=4&o,u=3&o;r=sV(Boolean(a),u,r);const c=JL(i,n,s),l=JL(i,n,s);h.push({xvt:t,fT:-1,Ovt:!e,jvt:Boolean(a),hA:u,zvt:r,Pvt:c,Bvt:l})}return h}function rV(t,i,e){const s=JL(t,i,e);if(!j(s))return String.fromCharCode(s)}function hV(t){const i=t.MZ,e={byte:t.pZ},s=t.yZ,n=JL(i,e,s);if(255===n&&(e.byte+=1),181!==n)return;const r=$L(i,e);if(47!==r&&49!==r)return;if(49===r){const t=function(t,i,e){let s="",n=e;for(;n>0;)n-=1,s+=rV(t,i);return s}(i,e,4);if("GA94"!==t)return}if(3!==JL(i,e,s))return;47===r&&(e.byte+=1);const h=t;return h.Rvt=e.byte,h}function oV(t){return 4===t.vZ}function aV(t){const i=t.filter(oV).map(hV).filter(j_),e=[];for(const t of i)e.push(...nV(t.AZ,t.MZ,t.Rvt,t.yZ));return e}r(),r(),r(),function(t){t[t.Tvt=0]="Tvt",t[t.Ivt=1]="Ivt",t[t.Svt=2]="Svt",t[t.kvt=3]="kvt",t[t.bvt=4]="bvt",t[t.Cvt=5]="Cvt"}(xt||(xt={})),function(t){t[t.Nvt=0]="Nvt",t[t.Dvt=1]="Dvt",t[t.Evt=2]="Evt",t[t.Lvt=3]="Lvt"}(gi||(gi={})),function(t){t[t.Uvt=47]="Uvt",t[t.Qvt=49]="Qvt"}(iV||(iV={})),r();var uV="und";function cV(t){if(t===uV)return;const i=t.toLowerCase();for(const t of lV)if(t[1]===i||t[2]===i||t["2T"]===i||t["2B"]===i||t[3]===i)return t}var lV=[{l:"Abkhaz",lh:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{l:"Afar",lh:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{l:"Afrikaans",lh:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{l:"Akan",lh:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{l:"Albanian",lh:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{l:"Amharic",lh:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{l:"Arabic",lh:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{l:"Aragonese",lh:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{l:"Armenian",lh:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{l:"Assamese",lh:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{l:"Avaric",lh:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{l:"Avestan",lh:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{l:"Aymara",lh:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{l:"Azerbaijani",lh:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{l:"Bambara",lh:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{l:"Bashkir",lh:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{l:"Basque",lh:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{l:"Belarusian",lh:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{l:"Bengali",lh:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{l:"Bihari",lh:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{l:"Bislama",lh:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{l:"Bosnian",lh:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{l:"Breton",lh:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{l:"Bulgarian",lh:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{l:"Burmese",lh:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{l:"Catalan",lh:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{l:"Chamorro",lh:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{l:"Chechen",lh:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{l:"Chichewa",lh:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{l:"Chinese",lh:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{l:"Chuvash",lh:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{l:"Cornish",lh:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{l:"Corsican",lh:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{l:"Cree",lh:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{l:"Croatian",lh:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{l:"Czech",lh:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{l:"Danish",lh:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{l:"Divehi",lh:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{l:"Dutch",lh:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{l:"Dzongkha",lh:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{l:"English",lh:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{l:"Esperanto",lh:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{l:"Estonian",lh:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{l:"Ewe",lh:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{l:"Faroese",lh:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{l:"Fijian",lh:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{l:"Finnish",lh:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{l:"French",lh:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{l:"Fula",lh:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{l:"Galician",lh:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{l:"Georgian",lh:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{l:"German",lh:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{l:"Greek",lh:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{l:"Guaran\xed",lh:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{l:"Gujarati",lh:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{l:"Haitian",lh:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{l:"Hausa",lh:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{l:"Hebrew",lh:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{l:"Herero",lh:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{l:"Hindi",lh:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{l:"Hiri Motu",lh:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{l:"Hungarian",lh:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{l:"Interlingua",lh:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{l:"Indonesian",lh:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{l:"Interlingue",lh:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{l:"Irish",lh:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{l:"Igbo",lh:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{l:"Inupiaq",lh:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{l:"Ido",lh:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{l:"Icelandic",lh:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{l:"Italian",lh:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{l:"Inuktitut",lh:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{l:"Japanese",lh:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{l:"Javanese",lh:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{l:"Kalaallisut",lh:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{l:"Kannada",lh:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{l:"Kanuri",lh:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{l:"Kashmiri",lh:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{l:"Kazakh",lh:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{l:"Khmer",lh:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{l:"Kikuyu",lh:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{l:"Kinyarwanda",lh:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{l:"Kyrgyz",lh:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{l:"Komi",lh:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{l:"Kongo",lh:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{l:"Korean",lh:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{l:"Kurdish",lh:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{l:"Kwanyama",lh:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{l:"Latin",lh:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{l:"Luxembourgish",lh:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{l:"Ganda",lh:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{l:"Limburgish",lh:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{l:"Lingala",lh:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{l:"Lao",lh:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{l:"Lithuanian",lh:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{l:"Luba-Katanga",lh:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{l:"Latvian",lh:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{l:"Manx",lh:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{l:"Macedonian",lh:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{l:"Malagasy",lh:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{l:"Malay",lh:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{l:"Malayalam",lh:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{l:"Maltese",lh:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{l:"M\u0101ori",lh:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{l:"Marathi",lh:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{l:"Marshallese",lh:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{l:"Mongolian",lh:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{l:"Nauru",lh:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{l:"Navajo",lh:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{l:"Northern Ndebele",lh:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{l:"Nepali",lh:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{l:"Ndonga",lh:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{l:"Norwegian Bokm\xe5l",lh:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{l:"Norwegian Nynorsk",lh:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{l:"Norwegian",lh:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{l:"Nuosu",lh:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{l:"Southern Ndebele",lh:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{l:"Occitan",lh:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{l:"Ojibwe",lh:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{l:"Old Church Slavonic",lh:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{l:"Oromo",lh:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{l:"Oriya",lh:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{l:"Ossetian",lh:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{l:"Panjabi",lh:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{l:"P\u0101li",lh:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{l:"Persian",lh:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{l:"Polish",lh:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{l:"Pashto",lh:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{l:"Portuguese",lh:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{l:"Quechua",lh:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{l:"Romansh",lh:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{l:"Kirundi",lh:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{l:"Romanian",lh:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{l:"Russian",lh:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{l:"Sanskrit",lh:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{l:"Sardinian",lh:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{l:"Sindhi",lh:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{l:"Northern Sami",lh:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{l:"Samoan",lh:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{l:"Sango",lh:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{l:"Serbian",lh:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{l:"Gaelic",lh:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{l:"Shona",lh:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{l:"Sinhala",lh:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{l:"Slovak",lh:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{l:"Slovene",lh:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{l:"Somali",lh:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{l:"Southern Sotho",lh:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{l:"Spanish",lh:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{l:"Sundanese",lh:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{l:"Swahili",lh:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{l:"Swati",lh:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{l:"Swedish",lh:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{l:"Tamil",lh:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{l:"Telugu",lh:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{l:"Tajik",lh:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{l:"Thai",lh:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{l:"Tigrinya",lh:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{l:"Tibetan Standard",lh:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{l:"Turkmen",lh:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{l:"Tagalog",lh:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{l:"Tswana",lh:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{l:"Tonga",lh:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{l:"Turkish",lh:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{l:"Tsonga",lh:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{l:"Tatar",lh:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{l:"Twi",lh:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{l:"Tahitian",lh:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{l:"Uyghur",lh:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{l:"Ukrainian",lh:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{l:"Urdu",lh:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{l:"Uzbek",lh:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{l:"Venda",lh:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{l:"Vietnamese",lh:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{l:"Volap\xfck",lh:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{l:"Walloon",lh:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{l:"Welsh",lh:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{l:"Wolof",lh:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{l:"Western Frisian",lh:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{l:"Xhosa",lh:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{l:"Yiddish",lh:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{l:"Yoruba",lh:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{l:"Zhuang",lh:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{l:"Zulu",lh:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}];r();function dV(t){var i;const e=null!=(i=function(t){const i=t.qX,e=new zu;return e.uZ(i,0,i.byteLength),uk(e).PZ}(t))?i:24;return t.Fvt/e}function fV(t){return t.hA===Wr.ep}var _V;function gV(t,i,e,s,n){const r=function(t,i,e,s){const n=e.Fvt,r=Ce.fromNumber(t.DT||0),h=s.mN(Pt.SD(r,n));return{Ket:s.cD(),Yvt:s,Gvt:h,Vvt:s}}(t,0,e,s),h=Pt.ED(t.ct||0,e.Fvt),o=t.gy||0,a=!(65536&o)&&1!==(o>>24&3);let u;const c=Mo(n),l=new Or;for(;l.Ku<c.byteLength;){const t=Cn(c,l);if((31&Fi(c,l,1))===tk.EZ){const i=new zu;i.uZ(n,l.Ku-1,l.Ku+t-1);const e=new ak(i),s=sk(r.Gvt,e);u=u||[],u.push(...aV(s))}l.Np(t-1)}return At({},r,{ct:h.cD(),Wvt:h,Hvt:r.Gvt.cD(),qvt:r.Ket,Xvt:a,Zvt:u,Kvt:!1,Jvt:!1})}function wV(t){return{Wy:t.iy.Wy,Fvt:t.Fy.iy.zy}}function AV(t){return t.hA===Wr.Tm}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(_V||(_V={})),r(),r(),r(),r(),r(),r(),r(),r();var vV=class{$N(t){return this._6===t._6&&this.s6===t.s6}constructor(t,i){this._6=t,this.s6=i}};r();var mV=class{get E6(){return this.$vt}get T6(){return[this]}get I6(){return this.IH}get a6(){return this.tmt}get l6(){return new vV(this.a6._6,this.a6.s6+this.E6.length-1)}imt(t){this.$vt+=t}emt(t){for(const i of t)this.imt(i)}constructor(t,i){this.IH=t,this.tmt=i,this.$vt=""}};function pV(t,i){return t===i||t.E6===i.E6&&t.a6.$N(i.a6)&&Ah(t.I6,i.I6)}function yV(t,i){return t===i||t.a6.$N(i.a6)&&t.l6.$N(i.l6)&&kl(t.T6,i.T6,pV)}var MV=class extends gn{tD(t){return kl(this.O,t.O,yV)}constructor(t,i,e){super(t,i,e,!1)}};r();var TV=class{smt(t){return t.NI(this)}nmt(t){return Eh(t,((t,i)=>t.NI(this,i)))}hmt(t,i){return new NV(t,i).omt()}},NV=class{omt(){if(this.amt)return[];for(let t=0;t<this._6.length;t++)this.umt(t);return this.cmt(),this.lmt}dmt(t){this.fmt=new mV(HO,new vV(this._mt,t))}cmt(){this.fmt&&(this.lmt.push(this.fmt),this.fmt=null)}umt(t){const i=this._6[t];DV(i)?this.fmt&&this.cmt():(this.fmt||this.dmt(t),this.fmt.imt(i))}get amt(){return this._6.every(DV)}constructor(t,i){this._6=t,this._mt=i,this.lmt=[],this.fmt=null}};function DV(t){return null==t}var IV=class{static gmt(t,i,e){if(i>=e)return;const s=Eh(t,((t,i)=>new NV(t.map((t=>t?t.wmt():null)),i).omt()));return 0!==s.length?new MV(i,e,s):void 0}},$n="black",SV="white";r(),r();var EV=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(((t,i)=>(t[i[0]]=i[1],t)),{}),bV=class{Amt(t){for(let i=0;i<el;i++)t&&(this.vmt[i]=t.vmt[i])}$N(t){for(let i=0;i<el;i++)if(this.vmt[i]!==t.vmt[i])return!1;return!0}mmt(){for(let t=0;t<el;t++)if(null!==this.vmt[t])return!1;return!0}pmt(t){this.ymt!==t&&(this.ymt=t),this.ymt<0?this.ymt=0:this.ymt>el&&(this.ymt=31)}Mmt(t){const i=this.ymt+t;this.pmt(i)}Tmt(){this.Mmt(-1),this.vmt[this.ymt]=null}imt(t){t>=144&&this.Tmt();const i=function(t){return EV[t]?String.fromCharCode(EV[t]):String.fromCharCode(t)}(t);this.addParsedChar(i)}addParsedChar(t){this.ymt>=el||(32===Number(t)?(this.vmt[this.ymt]=this.Nmt?"</i>":"<i>",this.Nmt=!this.Nmt):this.vmt[this.ymt]=t,this.Mmt(1))}Dmt(t){for(let i=t;i<el;i++)this.vmt[i]=null}OL(){this.Dmt(0),this.ymt=0}Imt(){this.Dmt(this.ymt)}Smt(t,i){const e=this.vmt;let s=null;for(let n=0;n<el;n++){const r=e[n];null===r?s=null:(s||(s={Gh:n,Xh:t,ji:0,Ti:1,vmt:[[]]},i.push(s)),s.vmt[0].push(r),s.ji++)}}NI(t,i){return t.hmt(this.vmt,i)}constructor(){this.vmt=[],this.ymt=0;for(let t=0;t<el;t++)this.vmt.push(null);this.Nmt=!1}};var Mn,LV=class{Emt(t,i){const e="CC"+(this.bmt<<1|this.Lmt+1);if(t>=i)return null;const s=(new TV).nmt(this.kmt.slice(1));return 0===s.length?null:{jN:new MV(t,i,s),BG:e,Cmt:this.bmt<<1|this.Lmt+1}}Zn(){this.xmt(),this.Omt=1}jmt(){return this.Omt}zmt(t){this.Omt=t}pmt(t){this.kmt[this.Omt].pmt(t)}Mmt(t){this.kmt[this.Omt].Mmt(t)}Pmt(){return this.Bmt}Rmt(t){this.Bmt=t}imt(t,i){if(i<32||i>127)return;let e="";switch(t){case 0:e=void 0!==xV[i]?xV[i]:String.fromCharCode(i);break;case 1:e=OV[i];break;case 2:this.Umt(),e=jV[i];break;case 3:this.Umt(),e=zV[i]}e&&this.kmt[this.Omt].addParsedChar(e)}Umt(){this.kmt[this.Omt].Tmt()}Qmt(t,i,e){if(t>=i)for(let s=e-1;s>=0;s--)this.kmt[t+s]=this.kmt[i+s];else for(let s=0;s<e;s++)this.kmt[t+s]=this.kmt[i+s]}Fmt(t,i){for(let e=0;e<=i;e++)this.kmt[t+e]=new bV}xmt(){this.Fmt(0,kV)}Ymt(){this.Omt=this.Bmt>0?this.Bmt:0,this.xmt()}Gmt(t){this.Vmt=t}Wmt(t){this.Hmt=t}qmt(t){this.Xmt=t}Zmt(t){this.Kmt=t}constructor(t,i){this.kmt=new Array(kV+1);for(let t=0;t<=kV;t++)this.kmt[t]=new bV;this.Omt=1,this.Bmt=0,this.bmt=t,this.Lmt=i,this.Vmt=!1,this.Hmt=!1,this.Xmt=SV,this.Kmt=$n,this.Zn()}},kV=15;!function(t){t[t.Jmt=0]="Jmt",t[t.$mt=1]="$mt",t[t.tpt=2]="tpt",t[t.ipt=3]="ipt"}(Mn||(Mn={}));var CV,xV={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},OV={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},jV={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},zV={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},PV=class{Zn(){this.ept=!0,this.spt=0,this.v0=0,this.npt=this.rpt,this.hpt=void 0,this.rpt.Zn(),this.opt.Zn(),this.apt.Zn()}upt(t,i){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|i>>5&1]}cpt(t,i){const e=this.upt(t,i),s=(30&i)>>1;let n=SV,r=!1;s<7?n=UV[s]:7===s&&(r=!0);const h=1==(1&i);if(4===this.v0)return;const o=this.npt;if(3===this.v0&&e!==o.jmt()){const t=1+o.jmt()-o.Pmt(),i=1+e-o.Pmt();o.Qmt(i,t,o.Pmt()),o.Fmt(0,i-1),o.Fmt(e+1,kV-e)}o.zmt(e);const a=XO[t<<1&14|i>>5&1]-1;if(a<0)return;const u=function(t,i){const e=i>95?i-96:i-64;return{e6:qO[e].e6,i6:qO[e].i6,s6:qO[e].s6,_6:t}}(a,i);o.pmt(u.s6),this.npt.Gmt(h),this.npt.Wmt(r),this.npt.qmt(n),this.npt.Zmt($n)}lpt(t,i){this.npt.Gmt(!1),this.npt.Wmt(!1),this.npt.qmt(SV);const e=this.dpt(t,Mn.Jmt," ".charCodeAt(0));let s=SV,n=!1;const r=1==(1&i);return s=UV[(14&i)>>1],"white_italics"===s&&(s="white",n=!0),this.npt.Gmt(r),this.npt.Wmt(n),this.npt.qmt(s),e}dpt(t,i,e){if(this.npt.imt(i,e),2===this.v0||3===this.v0){const i=this.fpt(this.npt,this.spt,t);return this.spt=t,i}return null}fpt(t,i,e){return this.ept?null:2===this.v0||3===this.v0?t.Emt(e,e+10):t.Emt(i,e)}_pt(t,i){let e=$n;0==(7&t)&&(e=RV[(14&i)>>1]),this.npt.Zmt(e)}gpt(t){const i=BV,e=t.wpt,s=t.Apt;let n=null;switch(e){case i.RCL:this.vpt();break;case i.BS:this.mpt();break;case i.AOD:case i.AON:case i.DER:break;case i.RU2:n=this.ppt(2,s);break;case i.RU3:n=this.ppt(3,s);break;case i.RU4:n=this.ppt(4,s);break;case i.FON:n=this.ypt(s);break;case i.RDC:this.Mpt(s);break;case i.TR:this.Tpt();break;case i.RTD:this.Npt();break;case i.EDM:n=this.Dpt(s);break;case i.CR:n=this.Ipt(s);break;case i.ENM:this.Spt();break;case i.EOC:n=this.Ept(s)}return n}Ipt(t){const i=this.npt;if(3!==this.v0)return null;const e=this.fpt(i,this.spt,t),s=i.jmt()-i.Pmt()+1;return i.Qmt(s-1,s,i.Pmt()),i.Fmt(0,s-1),i.Fmt(i.jmt(),kV-i.jmt()),this.spt=t,e}ppt(t,i){this.npt=this.rpt;const e=this.npt;let s=null;return 3!==this.v0&&4!==this.v0&&(s=this.fpt(e,this.spt,i),this.rpt.Ymt(),this.opt.Ymt(),this.ept=!1,e.zmt(kV)),this.v0=3,e.Rmt(t),s}ypt(t){return this.dpt(t,Mn.Jmt," ".charCodeAt(0))}Dpt(t){const i=this.rpt;let e=null;return 4!==this.v0&&(e=this.fpt(i,this.spt,t)),i.xmt(),this.ept=!1,e}Mpt(t){this.v0=2,this.npt=this.rpt,this.npt.Rmt(0),this.spt=t}Spt(){this.opt.xmt()}Ept(t){let i=null;4!==this.v0&&(i=this.fpt(this.rpt,this.spt,t));const e=this.opt;return this.opt=this.rpt,this.rpt=e,this.vpt(),this.spt=t,i}vpt(){this.v0=1,this.npt=this.opt,this.npt.Rmt(0)}mpt(){this.npt.Umt()}Tpt(){this.apt.Zn(),this.ept=!1,this.Npt()}Npt(){this.npt=this.apt,this.v0=4}bpt(t,i,e){return this.npt.imt(Mn.Jmt,i),this.dpt(t,Mn.Jmt,e)}Lpt(t,i,e){const s=1&i?Mn.ipt:Mn.tpt;return this.dpt(t,s,e)}kpt(t){const i=t.Cpt,e=t.wpt,s=t.Apt;if(this.hpt===(i<<8|e))return this.hpt=void 0,null;if(this.hpt=i<<8|e,this.xpt(i,e))this.cpt(i,e);else{if(this.Opt(i,e))return this.lpt(s,e);if(this.jpt(i,e))this._pt(i,e);else{if(this.zpt(i,e))return this.dpt(s,Mn.$mt,e);if(this.Ppt(i,e))return this.Lpt(s,i,e);if(this.Bpt(i,e))return this.gpt(t);this.isTabOffset(i)&&this.npt.Mmt(e-32)}}return null}isTabOffset(t){return 23===t||31===t}Bpt(t,i){return 20==(246&t)&&32==(240&i)}xpt(t,i){return 16==(240&t)&&64==(192&i)}Opt(t,i){return 17==(247&t)&&32==(240&i)}jpt(t,i){return 16==(247&t)&&32==(240&i)||23==(247&t)&&45==(255&i)}zpt(t,i){return 17==(247&t)&&48==(240&i)}Ppt(t,i){return 18==(246&t)&&32==(224&i)}static Rpt(t){return 16==(112&t)}constructor(t,i){this.v0=0,this.apt=new LV(t,i),this.rpt=new LV(t,i),this.opt=new LV(t,i),this.npt=this.rpt,this.spt=0,this.hpt=void 0,this.ept=!1}},BV={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.DB=0]="DB",t[t.Upt=1]="Upt",t[t.Qpt=2]="Qpt",t[t.Fpt=3]="Fpt",t[t.Ru=4]="Ru"}(CV||(CV={}));var RV=["black","green","blue","cyan","red","yellow","magenta","black"],UV=["white","green","blue","cyan","red","yellow","magenta","white_italics"];r(),r(),r();var QV,FV=class{wmt(){return this.Ypt}Gpt(){return this.Vmt}Vpt(){return this.Hmt}Wpt(){return this.Kmt}Hpt(){return this.Xmt}constructor(t,i,e,s,n){this.Ypt=t,this.Vmt=i,this.Hmt=e,this.Kmt=s,this.Xmt=n}},YV=class{qpt(t,i,e,s,n,r,h){this.xB=t,this.Xpt=i,this.Zpt=e,this.Kpt=s,this.Jpt=n,this.$pt=r,this.tyt=h}iyt(){this.eyt=[];for(let t=0;t<VV;t++)this.eyt.push(this.syt())}syt(){const t=[];for(let i=0;i<GV;i++)t.push(null);return t}nyt(t){this.ryt()&&(this.eyt[this.Omt][this.hyt]=new FV(t,this.Vmt,this.Hmt,this.Kmt,this.Xmt),this.hyt++)}oyt(){this.ryt()&&(this.hyt<=0&&this.Omt<=0||(this.hyt<=0?(this.hyt=this.tyt-1,this.Omt--):this.hyt--,this.eyt[this.Omt][this.hyt]=null))}ryt(){const t=this.Omt<this.$pt&&this.Omt>=0,i=this.hyt<this.tyt&&this.hyt>=0;return t&&i}ayt(){return this.xB}uyt(t){let i=0;for(let e=t;e<VV;e++,i++)this.eyt[i]=this.eyt[e];for(let e=0;e<t;e++,i++)this.eyt[i]=this.syt()}cyt(){if(this.Omt+1>=this.$pt)return this.uyt(1),void(this.hyt=0);this.Omt++,this.hyt=0}lyt(){this.eyt[this.Omt]=this.syt(),this.hyt=0}Emt(t,i){if(this.WN>=t)return null;const e=IV.gmt(this.eyt,this.WN,t);return e?(this.dyt(t),{jN:e,BG:"svc"+i,Cmt:i}):null}fyt(t,i){this.Omt=t,this.hyt=i}_yt(t){this.Kmt=t}gyt(t){this.Xmt=t}wyt(t){this.Vmt=t}Ayt(t){this.Hmt=t}vyt(){this.Omt=0,this.hyt=0,this.Vmt=!1,this.Hmt=!1,this.Xmt=SV,this.Kmt=$n}myt(t){this.pyt=t}yyt(){this.xB=!0}be(){this.xB=!1}wh(){this.xB=!this.xB}dyt(t){this.WN=t}constructor(t){this.Myt=t,this.xB=!1,this.Jpt=!1,this.Zpt=0,this.Xpt=0,this.Kpt=0,this.$pt=0,this.tyt=0,this.pyt=2,this.eyt=[],this.WN=0,this.Omt=0,this.hyt=0,this.Hmt=!1,this.Vmt=!1,this.Xmt=SV,this.Kmt=$n,this.iyt()}};!function(t){t[t.Tyt=0]="Tyt",t[t.Nyt=1]="Nyt",t[t.Dyt=2]="Dyt",t[t.Iyt=3]="Iyt"}(QV||(QV={}));var GV=42,VV=15,WV=class{Syt(t){const i=t.Eyt();let e=i.ST;const s=i.Apt;if(e===KV){e=e<<16|t.Eyt().ST}return e>=0&&e<=31?this.byt(e,s):e>=128&&e<=159?this.Lyt(t,e,s):(e>=4096&&e<=4127?this.kyt(t,255&e):e>=4224&&e<=4255?this.Cyt(t,255&e):e>=32&&e<=127?this.xyt(e):e>=160&&e<=255?this.Oyt(e):e>=4128&&e<=4223?this.jyt(255&e):e>=4256&&e<=4351&&this.zyt(255&e),null)}xyt(t){this.Pyt&&(127!==t?this.Pyt.nyt(String.fromCharCode(t)):this.Pyt.nyt("\u266a"))}Oyt(t){this.Pyt&&this.Pyt.nyt(String.fromCharCode(t))}jyt(t){if(!this.Pyt)return;if(void 0===JV[t])return void this.Pyt.nyt("_");const i=JV[t];this.Pyt.nyt(i)}zyt(t){this.Pyt&&(160===t?this.Pyt.nyt("[CC]"):this.Pyt.nyt("_"))}byt(t,i){if(!this.Pyt)return null;const e=this.Pyt;let s=null;switch(t){case HV:e.oyt();break;case XV:e.ayt()&&(s=e.Emt(i,this.Byt)),e.cyt();break;case ZV:e.ayt()&&(s=e.Emt(i,this.Byt)),e.lyt();break;case qV:e.ayt()&&(s=e.Emt(i,this.Byt)),e.iyt(),e.fyt(0,0)}return s}Lyt(t,i,e){if(i>=128&&i<=135){const t=7&i;this.Ryt(t)}else{if(136===i){const i=t.Eyt().ST;return this.Uyt(i,e)}if(137===i){const i=t.Eyt().ST;this.Qyt(i,e)}else{if(138===i){const i=t.Eyt().ST;return this.Fyt(i,e)}if(139===i){const i=t.Eyt().ST;return this.Yyt(i,e)}if(140===i){const i=t.Eyt().ST;return this.Gyt(i,e)}if(143===i)return this.Zn(e);if(144===i)this.Vyt(t);else if(145===i)this.Wyt(t);else if(146===i)this.fyt(t);else if(151===i)this.Hyt(t);else if(i>=152&&i<=159){const s=(15&i)-8;this.qpt(t,s,e)}}}return null}kyt(t,i){i>=8&&i<=15?t.Yp(1):i>=16&&i<=23?t.Yp(2):i>=24&&i<=31&&t.Yp(3)}Cyt(t,i){i>=128&&i<=135?t.Yp(4):i>=136&&i<=143&&t.Yp(5)}Ryt(t){this.qyt[t]&&(this.Pyt=this.qyt[t])}*Xyt(t){for(let i=0;i<8;i++){1==(1&t)&&this.qyt[i]&&(yield i),t>>=1}}Uyt(t,i){let e=null;for(const s of this.Xyt(t)){const t=this.qyt[s];t.ayt()&&(e=t.Emt(i,this.Byt)),t.iyt()}return e}Qyt(t,i){for(const e of this.Xyt(t)){const t=this.qyt[e];t.ayt()||t.dyt(i),t.yyt()}}Fyt(t,i){let e=null;for(const s of this.Xyt(t)){const t=this.qyt[s];t.ayt()&&(e=t.Emt(i,this.Byt)),t.be()}return e}Yyt(t,i){let e=null;for(const s of this.Xyt(t)){const t=this.qyt[s];t.ayt()?e=t.Emt(i,this.Byt):t.dyt(i),t.wh()}return e}Gyt(t,i){let e=null;for(const s of this.Xyt(t)){const t=this.qyt[s];t.ayt()&&(e=t.Emt(i,this.Byt)),this.qyt[s]=void 0}return e}Zn(t){const i=this.Gyt(255,t);return this.OL(),i}OL(){this.Pyt=void 0,this.qyt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]}Vyt(t){t.Yp(1);const i=t.Eyt().ST;if(!this.Pyt)return;const e=(128&i)>0,s=(64&i)>0;this.Pyt.Ayt(e),this.Pyt.wyt(s)}Wyt(t){const i=t.Eyt().ST,e=t.Eyt().ST;if(t.Yp(1),!this.Pyt)return;const s=3&i,n=(12&i)>>2,r=(48&i)>>4,h=3&e,o=(12&e)>>2,a=(48&e)>>4,u=this.Zyt(r,n,s),c=this.Zyt(a,o,h);this.Pyt.gyt(u),this.Pyt._yt(c)}fyt(t){const i=t.Eyt().ST,e=t.Eyt().ST;if(!this.Pyt)return;const s=15&i,n=63&e;this.Pyt.fyt(s,n)}Hyt(t){t.Yp(1),t.Yp(1);const i=t.Eyt().ST;if(t.Yp(1),!this.Pyt)return;const e=3&i;this.Pyt.myt(e)}qpt(t,i,e){const s=void 0!==this.qyt[i];if(!s){const t=new YV(i);t.dyt(e),this.qyt[i]=t}const n=t.Eyt().ST,r=t.Eyt().ST,h=t.Eyt().ST,o=t.Eyt().ST,a=t.Eyt().ST,u=t.Eyt().ST,c=(32&n)>0,l=127&r,d=(128&r)>0,f=h,_=1+(15&o),g=(240&o)>>4,w=1+(63&a);s&&0===(7&u)||this.qyt[i].vyt(),this.qyt[i].qpt(c,l,f,g,d,_,w),this.Pyt=this.qyt[i]}Zyt(t,i,e){const s={0:0,1:0,2:1,3:1};return $V[s[t]<<2|s[i]<<1|s[e]]}constructor(t){this.Byt=t,this.qyt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Pyt=void 0}},HV=8,qV=12,XV=13,ZV=14,KV=16,JV={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},$V=["black","blue","green","cyan","red","magenta","yellow","white"];r();var tW=class{Kyt(t){if(t.hA===gi.Lvt){const i=63&t.ST;return this.Jyt=2*i-1,void(this.$yt=[])}if(this.$yt&&(this.Jyt>0&&(this.$yt.push(t),this.Jyt--),0===this.Jyt)){const t=new iW(this.$yt);this.tMt.push(t),this.$yt=null,this.Jyt=0}}iMt(){return this.tMt}eMt(){this.tMt=[]}OL(){this.tMt=[],this.$yt=[],this.Jyt=0}constructor(){this.tMt=[],this.$yt=null,this.Jyt=0}},iW=class{Kht(){return this.sMt<this.nMt.length}rMt(){return this.sMt}Eyt(){if(!this.Kht())throw new ce(p_.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.nMt[this.sMt++]}Yp(t){if(this.sMt+t>this.nMt.length)throw new ce(p_.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.sMt+=t}constructor(t){this.sMt=0,this.nMt=t}},eW=class{OL(){this.hMt=0,this.oMt=[],this.aMt=[],this.uMt.OL(),this.Zn(),this.cMt.forEach((t=>{t.OL()}))}Zn(){this.lMt=0,this.dMt=0,this.fMt.forEach((t=>{t.Zn()}))}_Mt(t,i){if(t.jvt){const e=t.Pvt,s=t.Bvt,n=t.hA;n===gi.Nvt||n===gi.Dvt?this.oMt.push({Apt:i,hA:n,Cpt:e,wpt:s,gMt:this.oMt.length}):this.wMt&&(this.aMt.push({Apt:i,hA:n,ST:e,gMt:this.aMt.length}),this.aMt.push({Apt:i,hA:gi.Evt,ST:s,gMt:this.aMt.length}))}}wF(){const t=[];this.oMt.sort(((t,i)=>t.Apt-i.Apt||t.gMt-i.gMt)),this.aMt.sort(((t,i)=>t.Apt-i.Apt||t.gMt-i.gMt));for(const i of this.oMt){const e=this.AMt(i);e&&t.push(e)}for(const t of this.aMt)this.uMt.Kyt(t);const i=this.uMt.iMt();for(const e of i){const i=this.vMt(e);t.push(...i)}return this.uMt.eMt(),this.oMt=[],this.aMt=[],t}AMt(t){const i=t.hA;if(PV.Rpt(t.Cpt)){const e=t.Cpt>>3&1;0===i?this.lMt=e:this.dMt=e}const e="CC"+(i<<1|(i?this.dMt:this.lMt)+1),s=this.fMt.get(e);return 255===t.Cpt&&255===t.wpt||!t.Cpt&&!t.wpt||!this.mMt(t.Cpt)||!this.mMt(t.wpt)?(++this.hMt>=45&&this.Zn(),null):(this.hMt=0,t.Cpt&=127,t.wpt&=127,t.Cpt||t.wpt?PV.Rpt(t.Cpt)?s.kpt(t):s.bpt(t.Apt,t.Cpt,t.wpt):null)}vMt(t){const i=[];try{for(;t.Kht();){const e=t.Eyt().ST;let s=(224&e)>>5;const n=31&e;if(7===s&&0!==n){s=63&t.Eyt().ST}if(0!==s){if(!this.cMt.has(s)){const t=new WV(s);this.cMt.set(s,t)}const e=this.cMt.get(s),r=t.rMt();for(;t.rMt()-r<n;){const s=e.Syt(t);s&&i.push(s)}}}}catch(t){if(!(t instanceof ce&&t.code===p_.SUBTITLE_PARSE_ERROR))throw t}return i}mMt(t){let i=0;for(;t;)i^=1&t,t>>=1;return 1===i}constructor(){this.wMt=!1,this.oMt=[],this.aMt=[],this.uMt=new tW,this.hMt=0,this.fMt=hg({CC1:new PV(0,0),CC2:new PV(0,1),CC3:new PV(1,0),CC4:new PV(1,1)}),this.lMt=0,this.dMt=0,this.cMt=_e(),this.Zn()}};r();var sW=class extends Ag{constructor(t,i){super("pMt"),this.Cmt=t,this.jN=i}},nW=Pt.dI(.1),rW=class extends i{yMt(t,i){this.MMt._Mt(t,i)}wF(){const t=this.MMt.wF();for(const i of t)this.Co(new sW(i.Cmt,i.jN))}Zn(){this.MMt.OL()}gn(){this.Vo(),this.MMt.OL()}constructor(){super(),this.MMt=new eW}},hW=class extends rW{TMt(t,i,e,s){const n=this.NMt(t,s);this.DMt(n,i,e),this.wF()}NMt(t,i){const e=t.slice().sort(ZO),s=this.IMt;if(0===s.length)return e;if(0===e.length)return s;let n;const r=s[0].n6,h=s[s.length-1].n6,o=e[0].n6,a=s[0].nrt===e[0].nrt;if(h.MD(o).mD().vD(Pt.dI(2.5*i))&&a)n=s.concat(e).sort(ZO);else if(o.fD(r)){let t=0;for(;t<s.length&&s[t].n6.vD(o);)t++;let i=!1,r=!1;for(let n=t,h=0;n<s.length&&h<e.length;n++,h++)oW(s[n],e[h])?i=!0:r=!0;const h=i&&!r,a=i&&r;!i&&r?n=s.concat(e).sort(ZO):h?n=s.slice(0,t).concat(e):(n=e,a&&this.Zn())}else n=e,this.Zn();return n}DMt(t,i,e){for(let s=0;s<t.length;s++){const n=t[s],r=n.n6.cD();if(!e&&i-r<nW.cD())return void(this.IMt=t.slice(s));this.yMt(n,r)}this.IMt=[]}constructor(...t){super(...t),this.IMt=[]}};function oW(t,i){return t.n6.$N(i.n6)&&t.hA===i.hA&&t.Pvt===i.Pvt&&t.Bvt===i.Bvt}var aW=class extends si{SMt(t){return this.EMt.get(t)}bMt(t){let i=this.EMt.get(t.r6);return i||(i=this.LMt(t),this.EMt.set(t.r6,i)),i}LMt(t){const i=[gc.Xw],e=cV(t.h6);let s,n=e?e.l:"";t.kMt&&(n="easy "+n,i.push(gc.$w)),s=t.kh?"CC "+t.kh:n?"CC "+n:"CC"+t.r6;const r=this.fE.dE(oa.fS,s,s,t.h6,!1,Ks.CEA608,void 0,i);return this.tt(r),r}Gft(t){const i=Qi.wy(Mo(t));this.CMt=function(t){for(const i of t.Z){const t=wV(i),e=i.Fy.$y.eM.nM.hM;let s=X_(e,(t=>t.hA===Wr.Bm));if(!s){const t=e.filter((t=>t.hA===Wr.ip)),i=X_(t,(t=>{var i;return(null==(i=t.HM)?void 0:i.hA)===Wr.Bm}));i&&(s=i.HM)}if(!s)continue;const n=KL(Mo(s.OM.Cp),new Or),r=s.zM;return At({},t,{Wy:i.iy.Wy,OM:qA(s.OM.Cp),ji:s.ji,Ti:s.Ti,nT:r&&r.nT,sT:r&&r.sT,dK:n.GX,xMt:n.VX,fK:n.WX,qX:n.qX[0],XX:n.XX[0]})}}(X_(i,AV))}olt(t,i,e,s,n,r){var h;if(!this.CMt)return;if(!j(this.kht)&&Va(this.kht,i,1e-5))return;j(this.OMt)||Va(this.OMt,i,.1)||this.jMt.Zn();const o=function(t,i,e,s,n){const r=[],h=i.filter(fV),o=s(e);for(const i of h){const s=X_(i.Z,(t=>t.iy.Wy===e.Wy));if(!s)continue;const h=s.iy.oT||0,u=s.iy.aT||0;let c=s.vT?s.vT.vT:Ce.ZERO;var a;const l=i.dT+(null!=(a=s.iy.mT)?a:Ce.ZERO).toNumber();for(const a of s.AT){let s=l+(a.dT||0);for(const l of a.NT){const a=l.ey||u,d=new zu;d.uZ(t,s,s+a);const f=Pt.SD(c,e.Fvt);d.FI=n(l,i,e,f,jh(t,s,s+a)),r.push(d),s+=a,c=c.add(l.ct||h||o)}}}return r}(t,Qi.wy(Mo(t)),this.CMt,dV,gV);var a;const u=null!=(a=null==(h=eg(o,(t=>t.FI.ct)))?void 0:h.FI.ct)?a:0,c=function(t){const i=[];for(const e of t)e.FI.Zvt&&i.push(...e.FI.Zvt),delete e.FI.Zvt;for(let t=0;t<i.length;t+=1)i[t].fT=t;return i}(o),l=Pt.dI(s),d=[];for(const t of c)d.push(At({},t,{nrt:n,n6:t.xvt.mN(l)}));this.jMt.TMt(d,e,r,u),this.kht=i,this.OMt=e}Zn(){return this.jMt.Zn(),this.EMt.forEach((t=>{t.gn(),this.it(t),this.fE.pE(t)})),this.EMt.clear(),this.CMt=void 0,this.kht=NaN,this.OMt=NaN,super.Zn()}gn(){return this.jMt.fn("pMt",this.zMt),this.jMt.gn(),super.gn()}constructor(t){super(),this.CMt=void 0,this.kht=NaN,this.OMt=NaN,this.zMt=t=>{const i=this.bMt({r6:t.Cmt,h6:""}),e=t.jN;for(const t of i.L.xw)e.zN<t.zN&&e.PN>t.zN?e.PN=t.zN:e.zN>t.zN&&t.PN>e.zN?t.PN=e.zN:e.zN===t.zN&&(e.PN=t.PN);i.vE(e)},this.fE=t,this.EMt=_e(),this.jMt=new hW,this.jMt.yn("pMt",this.zMt)}};r(),r();var uW=/(.*)=(.*)/,cW=/(.*):(.*)/;function lW(t){if(!t)return[];const i=[],e=t.trim().split(";");for(const t of e){const e=t.match(uW);if(e){const[,t,s]=e;let n="",r=!1;for(const t of s.trim().split(","))if(t.match(cW)){const[,i,e]=t.match(cW);switch(i){case"lang":n=e;break;case"er":r=Boolean(Number(e))}}i.push({r6:Number(t),h6:n,kMt:r})}}return i}var dW={1:1,2:3,3:2,4:4},fW="urn:scte:dash:cc:cea-608:2015",_W="urn:scte:dash:cc:cea-708:2015";r(),r();var gW=class extends La{fa(){return new wW(this.nrt&&this.nrt.va)}constructor(t,i,e){super(Os.Sw),this.nrt=t,this.fwt=i,this.PMt=e}},wW=class extends Ag{constructor(t){super("activequalitychanged"),this.quality=t}},AW=[t.jh,Ho.Mw,t.ov],vW=class extends i{BMt(t){const i=this.WAt.G_t;for(const e of i.Lt.unt)if(i.Owt.Lwt(t,e))return e}gn(){this.Vo(),this.vP.fn(AW,this.RMt)}constructor(t,i){super(),this.RMt=t=>{const i=this.UMt,e=this.BMt(t.currentTime)||this.WAt.U_t;e&&i!==e&&(this.UMt=e,e.nrt&&this.Co(new gW(e.nrt,null==e?void 0:e.va,null==i?void 0:i.va)))},this.vP=t,this.vP.yn(AW,this.RMt),this.WAt=i}},mW=class extends i{get eut(){return this.sut}get o(){return this.NN}get IJ(){return this.SJ}get nt(){return this.QMt}get xst(){return function(t){const i=29.97,e=1024,s=44100;return t===rv.mp?s/e:i}(this.SJ)}get HAt(){return 1/this.xst}get Rt(){return Boolean(this.sut&&this.sut.Rt)}get uq(){const t=this.WAt?this.WAt.G_t.uq.Swt:Ki.lR();return this.FMt().HB(t)}get b_(){let t=this.YMt();const i=this.GMt;return void 0!==i&&t.QB().gr(i)&&(t=t.HB(Ki.uR(i))),t}get Mwt(){return zY(this.YMt(),this.uq.HB(this.VMt)).WB(2*this.HAt)}get VMt(){const t=this.GMt;if(t&&isFinite(t)){const i=this.WMt.jn;if(isFinite(i)&&t<i)return new Ki([t,i],[!1,!0])}return Ki.lR()}get yg(){const t=this.sut;if(!t)return Ki.uR(0);const i=t.Hnt.Trt,e=t.Hnt.Mrt;if(void 0===e||void 0===i)return Ki.uR(0);const s=e;let n=i>=t.Hnt.ert.jn?x.max(i,this.jn):i;return n=x.max(s,n),Ki.cR(s,n).QB()}get AP(){return this.Mwt.oR(this.j_)}get Iwt(){return this.WMt.Iwt}get j_(){return this.vP.j_}get Cn(){return this.sut?this.sut.Hnt.ert.Cn:NaN}get jn(){const t=this.HMt(),i=this.GMt;return void 0===t?NaN:void 0!==i?i:t}HMt(){var t;return null==(t=this.sut)?void 0:t.Hnt.ert.jn}get Ti(){return this.WMt.Ti}get ji(){return this.WMt.ji}get cvt(){return this.GMt}tgt(){return void 0!==this.WAt&&this.WAt.tgt}Dwt(){if(void 0===this.GMt)return!1;const t=this.YMt().QB(),i=t.ZB(this.GMt);return!(i<0)&&t.Cn(i)!==this.GMt}NJ(){const t=this.WMt.Iwt,i=this.YMt().Sn(t);this.GMt=i.U>0?i.jn(i.U-1):0;const e=t.jn(0);isFinite(e)&&this.GMt<e&&this.lq(this.GMt,e),this.rvt()}async olt(t,i,e,s){const n=e.Dst.CI,r=this.qMt(t,i,e,n,s),h=this.XMt(t,i,e,n,s),[o]=await yl([h,r]);return o}async qMt(t,i,e,s,n){if(!fe(e.gY))return;let r;if(t.hA===at.zS){const i=t.Cp.Ygt(),e=await i.Kj(n);r=new T(e)}else r=new T(t.Cp.m_t);const h=[];if(void 0!==this.Sft&&(this.Sft.olt(r,i.zN,s),h.push(this.Sft)),void 0!==this.ZMt){const t=e.Art(i);this.ZMt.olt(r,i.zN,i.PN,s,e.nrt,t),h.push(this.ZMt)}py(this.b_,h)}Gft(t,i,e){return Pi(e),this.ZMt&&this.ZMt.Gft(new T(t.m_t)),Promise.resolve()}$n(t,i){const e=new Ao;i&&e.l_(i),this.mE.c_(),this.mE=e;const s=this.KMt(t,this._vt,e.a_);return this._vt=s,s}JMt(t){if(ea(this.pft,Ks.CEA608))return;const i=t.Hnt.Jst;if(function(t){return t.some((t=>t.ust===fW||t.ust===_W))}(i)){this.ZMt=new aW(this.fE);const t=function(t){const i=[];for(const e of t)if(e.ust===fW){const t=JO(e.ST);for(const e of t)i.push(e)}else if(e.ust===_W){const t=lW(e.ST);for(const e of t)if(e.r6<=4){const t=dW[e.r6];i.push(At({},e,{r6:t}))}}return i}(i);for(const i of t)this.ZMt.bMt(i);this.QMt.oP(this.ZMt.Z)}}async KMt(t,i,e){Pi(e),i&&await i.catch(xs),this.sut===t&&this.$Mt||(await this.tTt(),Pi(e),await this.iTt(),Pi(e),t&&await this._E(t))}async tTt(){const t=this.sut;this.sut=void 0,this.$Mt=!1,this.GMt=void 0,t&&(t.fn(Os.Lw,this.eTt),t.Aut(!1),t.fn(Os.NO_QUALITY,this.Ds)),this.sTt&&(this.sTt.gn(),this.sTt=void 0),this.WAt&&(await this.WAt.gn(),this.WAt=void 0),this.ZMt&&(this.QMt.cP(this.ZMt.Z),await this.ZMt.gn())}async _E(t){this.sut=t,this.JMt(t),t.yn(Os.Lw,this.eTt),t.yn(Os.NO_QUALITY,this.Ds),await this.nTt(t),this.WAt=this.rTt(t),this.WAt.yn($G,this.Ds),this.WAt.yn("C_t",this.rvt),this.WAt.W_t=t._ut,this.sTt=new vW(this.vP,this.WAt),this.sTt.yn(Os.Sw,this.uut),t.Aut(!0),this.$Mt=!0}async Zn(t){this.mE.c_(),this._vt&&(await this._vt.catch(xs),this._vt=void 0),await this.tTt(),t||await this.iTt(),await this.hTt()}async oTt(){await this.tTt()}aTt(t){this.WAt&&this.sut&&this.sut===t.Lt&&(this.WAt.W_t=this.sut._ut)}async blt(t){this.WAt&&await this.WAt.blt(t)}async Flt(t){this.WAt&&await this.WAt.Flt(t)}lW(){const t=this.b_.aR;return this.yR.lW(t)}async gn(t){this.Vo();try{await this.Zn(t),await this.oTt()}catch(t){}}constructor(t,i,e,s,n,r,h,o,a,u,c){super(),this.sut=void 0,this.WAt=void 0,this.$Mt=!1,this.mE=new Ao,this._vt=void 0,this.GMt=void 0,this.ZMt=void 0,this.QMt=new dh([]),this.rvt=()=>{!this.tgt()&&this.Dwt()&&this.WMt.rvt()},this.uut=t=>{this.sut.uut(t),this.Co(new eV(t.fwt,t.PMt))},this.eTt=t=>{this.aTt(t)},this.NN=function(){const t=tV;return tV+=1,t}(),this.SJ=t,this.gE=s,this.yR=n,this.WMt=i,this.vP=e,this.Cct=r,this.fE=h,this.Sft=o,this.yct=a,this.dct=a?Sv(t,a):void 0,this.Sct=u,this.pft=c}};function pW(t,i,e){const s=new $h(Mo(t),new Or),n=lt.Jp(s,Wr.Tm);if(!n)return;const r=lt.Wp(n.Cp),h=X_(r,(t=>t.hA===Wr.Dm)),o=X_(r,(t=>t.hA===Wr.lp));if(!h)return;const a=lt.Jp(h.Cp,Wr.Sm);if(!a)return;const u=lt.Jp(a.Cp,Wr.Cm);if(!u)return;const c=lt.Jp(u.Cp,Wr.xm);if(!c)return;const l=lt.Wp(c.Cp),d=X_(l,(t=>t.hA===Wr.Om));if(!d)return;const f=lt.ly(d.Cp,Wr.Om,!1),_=new $h(Mo(f.Cp),new Or);_.Yp(4);const g=lt.Wp(_),w=[];for(const t of g){if(t.hA===Wr.tp||t.hA===Wr.ip)return;t.hA===Wr.Bm?w.push({uTt:t,cTt:Wr.ip}):t.hA===Wr.Xm&&w.push({uTt:t,cTt:Wr.tp})}if(!function(t,i){return void 0===t&&void 0!==i&&i.length>0}(o,i)&&0===w.length)return;let A=Ae(t);const v=X_(r,(t=>t.hA===Wr.zm)),m=v?lt.Jp(v.Cp,Wr.Pm):void 0,p=m?function(t){const i=t.Cp.Ip();return i.Yp(4),i.Yp(4),i.zp()}(m):1,y=X_(l,(t=>t.hA===Wr.jm));y&&function(t,i,e){const s=TW(Mo(t),i),n=lt.Kp(s,new Or),r=n.Cp;r.Yp(4);const h=r.zp();for(let t=0;t<h;t++){r.Yp(4),r.Yp(4);const t=r.xp.Ip(),i=r.zp();su(r.Cp,t,i+e)}}(A,y,w.length),m&&function(t,i,e){const s=TW(Mo(t),i),n=lt.Kp(s,new Or),r=n.Cp;r.Yp(4),r.Yp(4),su(r.Cp,r.xp,e)}(A,m,1),A=function(t,i,e,s){if(e||!s)return t;let n=t;for(const t of s)n=yW(n,i,new T(t));return n}(A,n,o,i);const M=[n,h,a,u,c,d];for(let t=w.length-1;t>=0;t--){const i=w[t];A=MW(A,i.uTt,d,M,i.cTt,e)}return{lTt:A,dTt:{fTt:w.length,hT:p}}}function yW(t,i,e){const s=tA(t,e,i.Cp.Cp.byteOffset+i.Cp.Cp.byteLength);return NW(TW(Mo(s),i),e.byteLength),s}function MW(t,i,e,s,n,r){const h=function(t,i,e){0;const s=t.Cp.Cp,n=bW(),r=new T(s.byteLength+n.byteLength),h=Mo(r);r.set(ko(s),0),NW(h,n.byteLength),zA(h,new Or(CW),i),r.set(n,s.byteLength),zA(h,new Or(s.byteLength+LW),t.hA),e&&ao(h,new Or(s.byteLength+kW),e);return r}(i,n,r),o=tA(t,h,i.Cp.Cp.byteOffset),a=Mo(o);!function(t,i){const e=lt.Kp(t,new Or),s=lt.ly(e.Cp,Wr.Om,!1),n=Mo(s.Cp),r=n.getUint32(0);n.setUint32(0,r+i)}(TW(a,e),1);for(const t of s)NW(TW(a,t),h.byteLength);return o}function TW(t,i){const e=i.Cp.Cp.byteOffset;return cn(t,e,e+i.Cp.Cp.byteLength)}function NW(t,i){const e=new Or,s=Cn(t,e);if(0===s);else if(1===s){e.Np(4);const s=tr(t,e.Ip());CA(t,e,s.add(i))}else e.Dp(0),su(t,e,s+i)}r();var DW=class extends Xu{start(t){this.dH=t}transform(t){this.zq(t),this._Tt()}flush(){this.Bq(),this._Tt()}Wq(t){return t===Wr.ep}qq(t){let i=Ae(ko(t.Cp.Cp));const e=lt.Kp(Mo(i),new Or);i=IW(i,e,this.gTt),this.wTt.push(i)}Zq(t){this.wTt.push(t)}_Tt(){for(const t of function(t){if(t.length<2)return t;const i=[];let{buffer:e,byteOffset:s,byteLength:n}=t[0];for(let r=1;r<t.length;r++){const h=t[r];e===h.buffer&&s+n===h.byteOffset?n+=h.byteLength:(i.push(new T(e,s,n)),({buffer:e,byteOffset:s,byteLength:n}=h))}return i.push(new T(e,s,n)),i}(this.wTt))this.dH.enqueue(t);Ri(this.wTt)}constructor(t){super(),this.wTt=[],this.gTt=t}};function IW(t,i,e){let s=t;const n=lt.Wp(i.Cp);for(let t=n.length-1;t>=0;t--){const r=n[t];r.hA===Wr.np&&(s=SW(s,r,i,e))}return s}function SW(t,i,e,s){const n=TW(Mo(t),i),r=lt.Kp(n,new Or),h=lt.Wp(r.Cp),o=X_(h,(t=>t.hA===Wr.rp));if(!o)return t;const a=o.Cp,u=a.xp.Ip(),c=a.zp(),{flags:l}=ic(c);a.Yp(4),l.Ep(_t.BASE_DATA_OFFSET_PRESENT)&&a.Yp(8);const d=a.xp.Ip();if(l.Ep(_t.SAMPLE_DESCRIPTION_INDEX_PRESENT)){const i=Cn(a.Cp,d);return su(a.Cp,a.xp,i+s.fTt),t}{su(a.Cp,u,c|_t.SAMPLE_DESCRIPTION_INDEX_PRESENT);const n=new T(4);Mo(n).setUint32(0,s.hT+s.fTt);const r=a.Cp.byteOffset+d.Ku;for(const t of h.filter((t=>t.hA===Wr.hp)))EW(t,n.byteLength);for(const s of[o,i,e])NW(TW(Mo(t),s),n.byteLength);return tA(t,n,r)}}function EW(t,i){const e=t.Cp,s=e.zp(),{flags:n}=ic(s);if(e.Yp(4),n.Ep(Ws.DATA_OFFSET_PRESENT)){const t=e.Ip().zp();su(e.Cp,e.xp,t+i)}}var bW=Sl((()=>new T([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]))),LW=16,kW=64,CW=4,xW=class extends mW{YMt(){return this.QAt?this.QAt.b_:Ki.lR()}FMt(){return this.QAt?this.QAt.EJ:Ki.lR()}get ji(){return this.WMt.ji}async XMt(t,i,e,s,n){var r;let h;if(Pi(n),t.hA===at.zS){let i=t.Cp.BG;this.ATt&&(i=function(t,i){return t.pipeThrough(new _h(new DW(i)))}(i,this.ATt)),h={hA:at.zS,Cp:i}}else{let i=new T(t.Cp.m_t);this.ATt&&(i=function(t,i){let e=Ae(t);const s=new $h(Mo(e),new Or),n=lt.Wp(s);for(let t=n.length-1;t>=0;t--){const s=n[t];s.hA===Wr.ep&&(e=IW(e,s,i))}return e}(i,this.ATt)),h={hA:at.CH,Cp:i}}const o={T8:i.zN,ct:i.ct,CI:s,fK:null==(r=e.nrt)?void 0:r.Vw},a=this.QAt.b_;await this.vTt(),await this.QAt.BK(h,o,n);return function(t,i,e,s){let n,r,h=i.XB(t.QB());return h=h.XB(e.XB(i)),0===h.U?(n=s.PN,r=n):(n=h.Cn(0),r=h.jn(0)),{xAt:n,OAt:r}}(a,this.QAt.b_,this.QAt.EJ,i)}async Gft(t,i,e){var s;await super.Gft(t,i,e);let n=new T(t.m_t);if(this.mTt(i)){const t=this.WMt.Ydt;let i,e=[];t&&(e=Eh(t.Vct,(t=>t.nP)),i=t.Yct.Tj?NE(t.Yct.Tj):void 0);const s=pW(n,e,i);s?(this.ATt=s.dTt,n=s.lTt):this.ATt=void 0}const r={hA:at.CH,Cp:n};await this.vTt(),await this.QAt.QK(r,{fK:null==(s=i.nrt)?void 0:s.Vw},e)}cAt(t,i,e){return this.QAt.pN(t,i,e)}lq(t,i){this.QAt.kJ(t,i)}dq(t,i){this.QAt.CJ(t,i)}async nTt(t){var i;const e=WF.Dct(null!=(i=t._ut)?i:t.unt,this.dct).gY;this.QAt||(this.QAt=await this.WMt.pTt(e),this.QAt.yn(bi.LH,this.Ds),this.Tct=new WG(this.QAt)),await this.vTt()}aTt(t){const i=t.Lt._ut;if(void 0===i)return super.aTt(t);if(i.some((t=>this.Tct.PH(t))))return super.aTt(t);this.Co(new Ag("Ddt"))}hTt(){return this.QAt&&(this.QAt.fn(bi.LH,this.Ds),this.QAt=void 0),Promise.resolve()}iTt(){return this.QAt?this.QAt.pN(0,1/0):Promise.resolve()}rTt(t){return new GG(this,this.vP,this.vP,this.gE,this.yR,this.RAt,this.Cct,this.yct,this.dct,this.Tct,this.Sct).D8(t)}vTt(){const t=this.WMt.Iwt,i=x.max(0,t.Cn(0)-.1),e=t.jn(0)+.01;return this.QAt.iJ(i,e)}mTt(t){if(!fe(t.gY))return!1;if(this.WMt.c4)return!0;return void 0!==this.WMt.Ydt}constructor(t,i,e,s,n,r,h,o,a,u,c,l){super(t,i,e,s,n,h,o,a,u,c,l),this.QAt=void 0,this.Tct=new HG,this.ATt=void 0,this.RAt=r}},OW=class extends JG{get ji(){return this.vu.ji}get Ti(){return this.vu.Ti}get ct(){return this.vP.ct}get c4(){return this.vP.c4}async RH(t,i,e){this.oJ!==e&&(this.oJ=e,await this.uvt(!1)),await super.yvt(t,i)}mvt(t){return new xW(t,this,this.vP,this.gE,this.yR,this.RAt,this.Cct,this.fE,this.Sft,this.kdt,this.Sct,this.pft)}pvt(){}pTt(t){if(tw(t,"audio")){if(this.oJ.g$)return Promise.resolve(this.oJ.g$)}else if(tw(t,"video")&&this.oJ.w$)return Promise.resolve(this.oJ.w$);throw new b("Cannot allocate source buffer for mime type "+t)}gn(i){return this.vP.fn(t.fv,this.Mvt),super.gn(i)}constructor(i,e,s,n,r,h,o,a,u,c,l,d,f){super(s,n,r,i,h,o,a,c,d,f),this.vu=u,this.oJ=e,this.RAt=h.lowLatency,this.Sft=l,this.kdt=h.abr,this.vP.yn(t.fv,this.Mvt)}},jW=class extends LY{Alt(t,i,e,s,n,r){const h=this.vP,o=this.DP;return new OW(h,o,t,i,e,s,n,r,this.yTt,h,this.Sft,this.Sct,this.pft)}Qlt(t,i,e){return t.RH(i,e,this.DP)}Olt(t){return!!this.DP&&this.DP.PH(t)}async A$(t){this.DP=await this.vP.$n(t),this.MTt(),this.TTt(),this.DP.T$(this.ct)}async Vlt(){this.NTt=this.idt,this.DP&&(await this.vP.Zn(),this.DP=void 0)}NJ(){this.DP.NJ()}_J(){const t=this.ct;this.DP.ct<t&&this.DP.T$(t),this.DP._J()}async $dt(t){const i=this.DP,e=[];i.g$&&e.push(Lk(i.g$,t)),i.w$&&e.push(Lk(i.w$,t)),await Promise.all(e)}Rlt(t){return this.DP.RH(t)}Gdt(){return!0}get hdt(){return this.vP.hg}Z4(){return this.vP.Vg()}hft(){this.vP.Gg()}get ag(){return this.vP.ag}set ag(t){this.vP.ag=t}get odt(){return this.vP.fg}ge(){super.ge(),this.vP.ge()}be(){super.be(),this.vP.be()}get nt(){return this.Dl}get Z_(){return this.vP.Z_}set Z_(t){this.vP.Z_=t}get xg(){return this.vP.xg}set xg(t){this.vP.xg=Sc(t,0,1)}bdt(t){for(const i of t)i.src&&this.UP.lE(i);Qs(this.UP.Z)}async wft(i,e,s,n){for(this.vP.Dp(i,e,s);this.fdt||this.Q$;)await this.vP.D_([t.XA,t.BA],n)}get fdt(){return this.vP.Tg}get Q$(){return this.vP.Q$}get idt(){return function(t,i){return{aN:t.aN+i.aN,uN:t.uN+i.uN,cN:t.cN+i.cN}}(this.NTt,this.vP.X_())}MTt(){const t=this.DP;t&&(t.w$&&(t.w$.ZV=this.yR.hW),t.g$&&(t.g$.ZV=this.yR.hW))}TTt(){const t=this.DP;t&&(t.w$&&(t.w$.tW=this.yR.tW),t.g$&&(t.g$.tW=this.yR.tW))}ga(t,i,e){return this.jP.iP(t.contentProtection),super.ga(t,i,e)}determineStallJumpTarget(){if(this.Elt)return this.Elt.Rdt()&&this.j_>this.Elt.jn-Ik&&!this.Elt.Klt?this.Elt.jn:void 0}async Zn(){await super.Zn(),this.NTt={aN:0,uN:0,cN:0},await this.UP.Zn(),this.vP.QP()}async gn(){await super.gn(),await this.UP.gn(),this.Dl.gn(),this.yR.fn("XV",this.DTt),this.yR.fn("$V",this.ITt),this.vP.fn(Bi.ha,this.STt),this.vP.fn([t.DA,t.NA],this.Ds),this.vP.VP=void 0,this.vP.D3=void 0}constructor(i,e,s,n,r,h){super(i,e,s,n,r),this.DP=void 0,this.NTt={aN:0,uN:0,cN:0},this.STt=t=>{this.uB(_s(t.lt))},this.DTt=()=>{this.MTt()},this.ITt=()=>{this.TTt()},this.vP.yn(Bi.ha,this.STt),this.yR.yn("XV",this.DTt),this.yR.yn("$V",this.ITt),this.yTt=h,this.UP=new mu(this.vP,this.gE),this.Dl.oP(this.UP.Z),this.jP=new Cu(i),this.vP.VP=this.jP,this.vP.D3=this,this.vP.yn([t.DA,t.NA],this.Ds)}};function zW(t){const i=wn.Ib||wn.Mb,e=void 0!==t&&void 0!==t.preferredAudioCodecs&&t.preferredAudioCodecs.some((t=>"ac-3"===t||"ec-3"===t)),s=i&&!e,n=new _c(!0);return async t=>{const i=t.LP;if(!n.m$(i)&&!function(t,i){return!!t&&(fe(t)?ly(i)||fy(i):oo(t,Ml.APPLICATION_TTML_XML)||oo(t,Ml.TEXT_VTT)||oo(t,Ml.IMAGE_JPEG))}(t.gY,t.bst))return!1;const e=t.bst.some((t=>"ac-3"===t||"ec-3"===t));if(s&&e)return!1;if(t.kst){const e=t.kst,s=Eh(e,(t=>qy(t.ust))).filter(j_),n=await async function(t,i){for(const e of t)if(await i(e))return!0;return!1}(s,(t=>lg.xx(t,i)));if(!n)return!1}return!0}}r(),r();var PW=class{get Ti(){return this.ETt.offsetHeight*lg.Ys.B4}get ji(){return this.ETt.offsetWidth*lg.Ys.B4}constructor(t){this.ETt=t}};r();var Hn=class{get nt(){return this.Dl}dE(t,i,e,s,n,r,h,o){const a=new Us(t,i,e,s,n,r,h,void 0,o);return this.Dl.tt(a),this.S2.tt(a),a}pE(t){this.Dl.it(t),this.S2.it(t),t.gn()}Zn(){for(const t of this.Dl.xw.slice())t.gn();this.Dl.Zn(),this.S2.Zn()}gn(){this.Zn(),this.Dl.gn(),this.S2.gn()}constructor(t,i){this.Dl=new tn,this.S2=new hx(t,i)}};r(),r();var ut=class{cB(t){return this.eP.cB(t)}Xit(t){return this.eP.Xit(t)}WP(t){return this.eP.WP(t)}constructor(t){this.eP=t}};r(),r(),r();var Fn=class extends i{get bTt(){return this.vP}get b_(){return this.L_()}L_(){return this.vP.b_}get k_(){return this.C_()}C_(){return this.vP.k_}get j_(){return this.z_()}z_(){return this.vP.j_}get Iu(){return this.vP.Iu}get ct(){return this.Td()}Td(){return this.vP.ct}get IP(){return this.LTt()}LTt(){return this.vP.IP}get R_(){return this.kTt()}kTt(){return this.vP.R_}get lt(){return this.vP.lt}get Ti(){return this.vP.Ti}get ji(){return this.vP.ji}get ya(){return this.Rg()}Rg(){return this.vP.ya}get Z_(){return this.vP.Z_}set Z_(t){this.vP.Z_=t}get hg(){return this.CTt()}CTt(){return this.vP.hg}get ag(){return this.vP.ag}set ag(t){this.vP.ag=t}get fg(){return this._g()}_g(){return this.vP.fg}get vg(){return this.pg()}pg(){return this.vP.vg}get yg(){return this.Mg()}Mg(){return this.vP.yg}get Tg(){return this.Ng()}Ng(){return this.vP.Tg}get Q$(){return this.xTt()}xTt(){return this.vP.Q$}get J$(){return this.OTt()}OTt(){return this.vP.J$}get nt(){return this.Dg()}Dg(){return this.jTt}get Ol(){return this.W3()}W3(){return this.vP.Ol}get V4(){return this.vP.V4}get xg(){return this.vP.xg}set xg(t){this.vP.xg=t}get y3(){return this.vP.y3}get W_(){return this.vP.W_}get y4(){return this.vP.y4}get VP(){return this.zTt()}set VP(t){this.PTt(t)}zTt(){return this.vP.VP}PTt(t){this.vP.VP=t}get D3(){return this.vP.D3}set D3(t){this.BTt(t)}BTt(t){this.vP.D3=t}get c4(){return this.RTt()}RTt(){return this.vP.c4}X_(){return this.vP.X_()}Vg(){return this.vP.Vg()}Gg(){this.vP.Gg()}Dp(t,i,e){this.vP.Dp(t,i,e)}mP(t){this.vP.mP(t)}ge(){this.vP.ge()}be(){this.vP.be()}dE(t,i,e,s,n,r,h,o){return this.vP.dE(t,i,e,s,n,r,h,o)}PP(){return this.vP.PP()}RP(t,i,e,s,n){return this.vP.RP(t,i,e,s,n)}pE(t){this.vP.pE(t)}QP(){this.vP.QP()}rq(t){return this.vP.rq(t)}async $n(t){const i=await this.vP.$n(t);let e;return e=t.hA===wt.CO?this.UTt(i):this.QTt(i),this.DP=e,e}async Zn(){this.DP&&(await this.DP.e_(),this.DP=void 0),await this.vP.Zn()}v3(){this.vP.v3()}m3(){this.vP.m3()}async e_(){this.Vo(),this.vP.fn(AL,this.FTt),this.jTt.Pw=void 0,this.jTt.gn(),this.DP&&(await this.DP.e_(),this.DP=void 0)}T3(){this.vP.T3()}YTt(t){this.vP.fn(AL,this.FTt),this.vP=t,this.jTt.Pw=t.nt,this.vP.yn(AL,this.FTt)}Jg(t){this.Co(t)}constructor(t){super(),this.DP=void 0,this.jTt=new Yu,this.FTt=t=>this.Jg(t),this.vP=t,this.jTt.Pw=t.nt,this.vP.yn(AL,this.FTt)}},BW=class extends Fn{get TP(){return this.vP.TP}get q$(){return this.vP.q$}get Bg(){return this.vP.Bg}set Bg(t){this.vP.Bg=t}N3(t){this.vP.N3(t)}E4(){this.vP.E4()}Zg(){this.vP.Zg()}constructor(t){super(t)}};r(),r(),r();var RW=class{get wd(){return this.Ix()}Ix(){return this.DP.wd}get yg(){return this.Mg()}Mg(){return this.DP.yg}get rt(){return this.DP.rt}PH(t){return this.DP.PH(t)}RH(t){return this.DP.RH(t)}e_(){return Promise.resolve()}constructor(t){this.DP=t}},UW=class extends RW{get g$(){return this.p$}get w$(){return this.y$}get b_(){return this.L_()}L_(){return this.DP.b_}get ct(){return this.Td()}Td(){return this.DP.ct}get tq(){return this.GTt()}GTt(){return this.DP.tq}T$(t){this.DP.T$(t)}S$(t,i,e,s){this.DP.S$(t,i,e,s)}NJ(){this.DP.NJ()}_J(){this.DP._J()}e_(){return this.p$&&(this.p$.e_(),this.p$=void 0),this.y$&&(this.y$.e_(),this.y$=void 0),super.e_()}VTt(t){this.DP=t,this.p$?t.g$?this.p$.WTt(t.g$):(this.p$.e_(),this.p$=void 0):t.g$&&(this.p$=this.HTt(t.g$),this.p$.yn(ie,this.qTt)),this.y$?t.w$?this.y$.WTt(t.w$):(this.y$.e_(),this.y$=void 0):t.w$&&(this.y$=this.HTt(t.w$),this.y$.yn(ie,this.qTt))}XTt(t){}constructor(t){super(t),this.p$=void 0,this.y$=void 0,this.qTt=t=>this.XTt(t)}};r(),r(),r();var QW=class extends i{get tW(){return this.aW}set tW(t){this.aW=t}get b_(){return Ki.lR()}get wd(){return this.$x}get IJ(){return rv.KT}get EJ(){return Ki.lR()}get ZTt(){return!1}get ZV(){return this.rW}set ZV(t){this.rW=t}BK(t,i,e){return Promise.reject(new b("Invalid media buffer"))}xJ(){return Promise.reject(new b("Invalid media buffer"))}QK(t,i,e){return Promise.reject(new b("Invalid media buffer"))}tq(){return!1}NJ(){}kJ(t,i){}CJ(t,i){}pN(t,i,e){return Promise.resolve()}iJ(t,i){return Promise.reject(new b("Invalid media buffer"))}EN(t,i){return Promise.reject(new b("Invalid media buffer"))}PH(t){return!1}RH(t){return Promise.reject(new b("Invalid media buffer"))}e_(){this.Vo()}constructor(t){super(),this.rW=0,this.aW=0,this.$x=t}},FW=class extends i{get tW(){return this.KTt()}set tW(t){this.JTt(t)}KTt(){return this.QAt.tW}JTt(t){this.QAt.tW=t}get b_(){return this.L_()}L_(){return this.QAt.b_}get wd(){return this.Ix()}Ix(){return this.QAt.wd}get IJ(){return this.QAt.IJ}get EJ(){return this.$Tt()}$Tt(){return this.QAt.EJ}get ZV(){return this.tNt()}set ZV(t){this.iNt(t)}tNt(){return this.QAt.ZV}iNt(t){this.QAt.ZV=t}BK(t,i,e){return this.QAt.BK(t,i,e)}xJ(){return this.QAt.xJ()}QK(t,i,e){return this.QAt.QK(t,i,e)}tq(){return this.QAt.tq()}NJ(){this.QAt.NJ()}kJ(t,i){this.QAt.kJ(t,i)}CJ(t,i){this.QAt.CJ(t,i)}pN(t,i,e){return this.QAt.pN(t,i,e)}iJ(t,i){return this.QAt.iJ(t,i)}PH(t){return this.QAt.PH(t)}RH(t){return this.QAt.RH(t)}Jg(t){this.Co(t)}e_(){this.Vo(),this.WTt(new QW(this.wd))}WTt(t){this.QAt.fn(ie,this.eNt),this.QAt=t,this.QAt.yn(ie,this.eNt)}constructor(t){super(),this.eNt=t=>this.Jg(t),this.QAt=t,this.QAt.yn(ie,this.eNt)}},YW=class extends FW{get Wit(){return this.vP}set Wit(t){this.vP=t}async BK(t,i,e){return Pi(e),await this.qAt(this.vP.j_,null==i?void 0:i.T8,null==i?void 0:i.ct),Pi(e),t.hA===at.zS?await this.sNt(t,i,e):await this.nNt(t,i,e)}async sNt(t,i,e){let s=t;for(;;){const[t,n]=ob(s.Cp);s={hA:at.zS,Cp:t};try{return await this.rNt(s,i,e),void n.cancel(new ia).catch(xs)}catch(t){if(pc(t)){if(await this.qAt(this.vP.j_,i.T8,i.ct,e)){s={hA:at.zS,Cp:n};continue}}throw n.cancel(t).catch(xs),t}}}async nNt(t,i,e){for(;;)try{return Pi(e),await this.rNt(t,i,e)}catch(t){if(pc(t)){if(await this.qAt(this.vP.j_,i.T8,i.ct,e))continue}throw t}}async qAt(t,i,e,s){const n=Rb(t,i,e,this.b_,this.ZV,this.tW);for(const[t,i]of n)await this.hNt(t,i,s);return n.length>0}rNt(t,i,e){return super.BK(t,i,e)}hNt(t,i,e){return super.pN(t,i,e)}constructor(t){super(t),this.vP=void 0}},GW=class extends UW{get Wit(){return this.vP}set Wit(t){this.vP=t,this.p$&&(this.p$.Wit=t),this.y$&&(this.y$.Wit=t)}HTt(t){const i=new YW(t);return i.Wit=this.vP,i}constructor(t){super(t),this.vP=void 0,this.VTt(t)}};r();var xi=class extends RW{get gg(){return this.DP.gg}set gg(t){this.DP.gg=t}};r();var ar=class extends Fn{get TP(){return this.vP.TP}get q$(){return this.vP.q$}get Lg(){return this.vP.Lg}get Ig(){return this.vP.Ig}get Bg(){return this.vP.Bg}set Bg(t){this.vP.Bg=t}N3(t){this.vP.N3(t)}E4(){this.vP.E4()}Zg(){this.vP.Zg()}Ug(){return this.vP.Ug()}constructor(t){super(t)}},VW=class extends BW{get bTt(){return this.vP}QTt(t){const i=new GW(t);return i.Wit=this,i}UTt(t){return new xi(t)}},WW=class extends ar{get bTt(){return this.vP}QTt(t){const i=new GW(t);return i.Wit=this,i}UTt(t){return new xi(t)}},HW=class extends ut{cB(t){return t===rv.vp?new WW(super.cB(t)):t===rv.mp?new VW(super.cB(t)):void 0}async WP(t){const i=t;await i.e_(),await super.WP(i.bTt)}};r();var qW=class{oNt(){this.Qo.Kg()}gn(){s.removeEventListener("pageshow",this.aNt)}constructor(t){this.aNt=t=>{t.persisted&&this.oNt()},this.Qo=t,s.addEventListener("pageshow",this.aNt)}},XW=class extends jW{Ug(){if(MU(this.vP))return this.vP.Ug()}get gdt(){return MU(this.vP)?this.vP.Ig:0}get Adt(){return MU(this.vP)?this.vP.Lg:0}async gn(){var t;await super.gn(),null==(t=this.uNt)||t.gn()}Udt(t){var i,e;return((null!=(e=null==(i=this.bc)?void 0:i.seamlessSwitchStrategy)?e:K.HT)!==K.HT||!wn.iL)&&super.Udt(t)}Gdt(){return!(wn.Mb&&wn.Nb<3)&&super.Gdt()}Yft(){return new Hn(this,new ox)}yft(t){return zW(t)}constructor(t,i,e,s,n,r){super(t,i,e,s,n,new PW(r)),this.ETt=r,wn.Fb&&(this.uNt=new qW(this))}},ZW=class extends XW{async gn(){await super.gn(),await this.HP.WP(this.vP)}constructor(t,i,e,s,n,r,h){const o=new HW(n);super(t,i,e,s,o.cB(r),h),this.HP=o}};r(),r(),r(),r(),r();var KW=class extends FW{get cNt(){return this.fit.cNt}L_(){return super.L_().Np(this.cNt)}$Tt(){return super.$Tt().Np(this.cNt)}BK(t,i,e){const s=this.cNt;return super.BK(t,{T8:i.T8-s,ct:i.ct,CI:i.CI-s},e)}iJ(t,i){const e=this.cNt;return super.iJ(x.max(0,t-e),x.max(0,i-e))}pN(t,i,e){const s=this.cNt;return super.pN(x.max(0,t-s),x.max(0,i-s),e)}kJ(t,i){const e=this.cNt;super.kJ(x.max(0,t-e),x.max(0,i-e))}CJ(t,i){const e=this.cNt;super.CJ(x.max(0,t-e),x.max(0,i-e))}constructor(t,i){super(i),this.fit=t}},JW=class extends UW{get cNt(){return this.fit.cNt}Td(){return super.Td()+this.cNt}T$(t){super.T$(t-this.cNt)}Mg(){return super.Mg().Np(this.cNt)}S$(t,i,e,s){const n=this.cNt;super.S$(t-n,i-n,e,s)}HTt(t){return new KW(this,t)}constructor(t,i){super(i),this.VTt(i),this.fit=t}},$W=class extends ar{get bTt(){return this.vP}get cNt(){return this.lNt}set cNt(t){this.lNt=t}L_(){return super.L_().Np(this.lNt)}C_(){return tH(super.C_(),this.lNt)}z_(){return super.z_()+this.lNt}Td(){return super.Td()+this.lNt}_g(){return super._g().Np(this.lNt)}Mg(){return super.Mg().Np(this.lNt)}Dp(t,i,e){const s=x.max(0,t-this.lNt);super.Dp(s,i,e)}mP(t){super.mP(tH(t,-this.lNt))}Dg(){return this.Dl}dE(t,i,e,s,n,r,h,o){return this.fE.dE(t,i,e,s,n,r,h,o)}pE(t){this.fE.pE(t)}QP(){this.fE.Zn(),super.QP()}PP(){return!1}RP(t,i,e,s,n){throw new b("Not supported")}e_(){return this.t8.gn(),this.J6.gn(),this.fE.gn(),this.Dl.gn(),super.e_()}QTt(t){return new JW(this,t)}UTt(t){return new xi(t)}Jg(i){let e;switch(i.type){case t.jh:e=new fh(i.currentTime+this.lNt);break;case t.Sh:e=new ws(i.currentTime+this.lNt);break;case Ho.Tv:e=new Lr(i.currentTime+this.lNt);break;case t.ov:e=new jc(i.currentTime+this.lNt,tH(i.currentProgramDateTime,this.lNt));break;case t.VA:e=new $(i.currentTime+this.lNt);break;case t.ZA:e=new Sa(i.currentTime+this.lNt);break;case t.XA:e=new $s(i.currentTime+this.lNt);break;case t.zA:e=new Pk(i.currentTime+this.lNt);break;case t.BA:e=new Ix(i.currentTime+this.lNt);break;case t.kA:e=new ys(i.currentTime+this.lNt);break;case t.WA:e=new Jh(i.currentTime+this.lNt,i.playbackRate);break;case t.uv:e=new Oe(i.currentTime+this.lNt,i.volume);break;case t.EA:e=new Tn(i.duration+this.lNt);break;case Ho.Mw:e=new Vs(i.currentTime+this.lNt,i.readyState);break;default:e=i}super.Jg(e)}be(){super.be(),this.J6.be()}ge(){super.ge(),this.J6.ge()}constructor(t){super(t),this.lNt=0,this.fE=new Hn(this,new ox),this.Dl=new dh([this.fE.nt,super.Dg()]),this.J6=new Ux,this.J6.N3(this.TP.parentElement),this.t8=new ej(this.J6.we,this.Iu,this.Dl,this.Ol,this.ya)}};function tH(t,i){return t?new Date(t.getTime()+1e3*i):void 0}var iH=class extends ut{cB(t){if(t===rv.vp)return new $W(super.cB(t))}async WP(t){const i=t;await i.e_(),await super.WP(i.bTt)}},eH=class extends XW{async A$(t){await super.A$(t),void 0===this.dNt&&(this.dNt=this.fNt(),this.vP.cNt=this.dNt)}fNt(){if(this.ct===1/0){const t=this.$lt;if(t.U>0)return x.max(0,t.Cn(0)-300)}return 0}l2(t,i,e,s,n,r,h,o){return void 0===r&&(r=!1),void 0===h&&(h=xF.hct),void 0===o&&(o=!1),o||(o=this.ct===1/0&&wn.Mb&&wn.Nb<3&&t<=this.j_),super.l2(t,i,e,s,n,r,h,o)}async Zn(){await super.Zn(),this.dNt=void 0,this.vP.cNt=0}async gn(){await super.gn(),await this.vP.e_(),await this.HP.WP(this.vP)}static Ux(t){var i;return(!t||"google-dai"!==(null==t||null==(i=t.ssai)?void 0:i.integration))&&(wn.Mb&&wn.Nb<4)}constructor(t,i,e,s,n,r,h){const o=new iH(new HW(n));super(t,i,e,s,o.cB(r),h),this.HP=o,this.dNt=void 0}};r(),r(),r(),r(),r();var sH=class extends Fn{get bTt(){return this.vP}get Ig(){return this.vP.Ig}get Lg(){return this.vP.Lg}constructor(t){super(t)}};r(),r(),r();var nH=class extends FW{KTt(){return this._Nt?this.aW:super.KTt()}JTt(t){this._Nt?this.aW=t:super.JTt(t)}L_(){return this._Nt?this.gNt:super.L_()}Ix(){return this._Nt?this.$x:super.Ix()}$Tt(){return this._Nt?this.wNt:super.$Tt()}tNt(){return this._Nt?this.rW:super.tNt()}iNt(t){this._Nt?this.rW=t:super.iNt(t)}BK(t,i,e){return this.RK((e=>this.ANt(t,i,e)),e)}ANt(t,i,e){return super.BK(t,i,e)}xJ(){return this.RK((()=>this.vNt()))}vNt(){return super.xJ()}QK(t,i,e){return this.RK((e=>this.mNt(t,i,e)),e)}mNt(t,i,e){return super.QK(t,i,e)}tq(){return this._Nt?this.p8:super.tq()}NJ(){this._Nt?this.pNt=!0:super.NJ()}kJ(t,i){this.uJ(),this._Nt?(this.wNt=this.wNt.HB(new Ki([t,i])),this.yNt.push({hA:"kwt",zN:t,PN:i})):this.MNt(t,i)}MNt(t,i){super.kJ(t,i)}iJ(t,i){return this.RK((()=>this.TNt(t,i)))}TNt(t,i){return super.iJ(t,i)}CJ(t,i){this.uJ(),this._Nt?(this.wNt=this.wNt.XB(new Ki([t,i])),this.yNt.push({hA:"pN",zN:t,PN:i})):this.NNt(t,i)}NNt(t,i){super.CJ(t,i)}pN(t,i,e){return this.RK((e=>this.DNt(t,i,e)),e)}DNt(t,i,e){return super.pN(t,i,e)}RH(t){return this.RK((()=>this.INt(t)))}INt(t){return super.RH(t)}async RK(t,i){this.uJ(),this._Nt&&(await rl(this._Nt.PL,i),this.uJ()),Pi(i);try{this.gJ=t(i),await this.gJ}finally{this.gJ=void 0}}uJ(){if(this.gJ)throw new b("Internal error")}async SNt(){if(this._Nt)throw new k("Already locked");this._Nt=new Eo,this.ENt(),this.gJ&&(await this.gJ.catch(xs),this.ENt())}bNt(){var t;null==(t=this._Nt)||t.jL(),this._Nt=void 0,this.LNt()}ENt(){this.$x=super.Ix(),this.aW=super.KTt(),this.rW=super.tNt(),this.gNt=super.L_(),this.wNt=super.$Tt(),this.p8=super.tq(),this.pNt=!1}LNt(){this.uJ(),super.JTt(this.aW),super.iNt(this.rW);const t=this.yNt.slice();Ri(this.yNt);for(const i of t)"kwt"===i.hA?this.MNt(i.zN,i.PN):this.NNt(i.zN,i.PN);this.pNt&&super.NJ(),this.gNt.iR(super.L_())||this.Co(new Ag(bi.LH))}e_(){var t;null==(t=this._Nt)||t.c_(),this._Nt=void 0,super.e_()}constructor(t){super(t),this.gJ=void 0,this._Nt=void 0,this.aW=0,this.gNt=Ki.lR(),this.wNt=Ki.lR(),this.yNt=[],this.p8=!1,this.pNt=!1,this.rW=0,this.$x=t.wd}},rH=class extends nH{L_(){var t,i;return super.L_().HB(null!=(i=null==(t=this.kNt)?void 0:t.b_)?i:Ki.lR())}$Tt(){var t,i;return super.$Tt().HB(null!=(i=null==(t=this.kNt)?void 0:t.EJ)?i:Ki.lR())}JTt(t){super.JTt(t),this.kNt&&(this.kNt.tW=t)}iNt(t){super.iNt(t),this.kNt&&(this.kNt.ZV=t)}MNt(t,i){super.MNt(t,i),this.kNt&&this.kNt.kJ(t,i)}NNt(t,i){super.NNt(t,i),this.kNt&&this.kNt.CJ(t,i)}async DNt(t,i,e){Pi(e);const s=[];s.push(super.DNt(t,i,e)),this.kNt&&s.push(this.kNt.pN(t,i,e)),await Promise.all(s)}PH(t){return!!super.PH(t)||this.fit.CNt(t)}INt(t){return super.PH(t)?super.INt(t):this.fit.xNt(t)}ONt(t){var i,e;null==(i=this.kNt)||i.fn(ie,this.eNt),this.kNt=t,null==(e=this.kNt)||e.yn(ie,this.eNt)}constructor(t,i){super(i),this.kNt=void 0,this.fit=t}},hH=class extends UW{PH(t){const i=void 0!==this.p$,e=void 0!==this.y$,s=t.E$.some((t=>tw(t.LP,"audio"))),n=t.E$.some((t=>tw(t.LP,"video")));return i===s&&e===n&&(!!super.PH(t)||(!(!this.jNt||!this.jNt.PH(t))||this.fit.zNt(t)))}async RH(t){return super.PH(t)?await super.RH(t):this.jNt&&this.jNt.PH(t)?(this.PNt(),await this.RH(t)):(await this.fit.BNt(t),await this.RH(t))}CNt(t){return this.PH(this.RNt(t))}xNt(t){return this.RH(this.RNt(t))}RNt(t){const i=this.wd,e=i.E$.map((i=>tw(t.LP,"audio")&&tw(i.LP,"audio")||tw(t.LP,"video")&&tw(i.LP,"video")?t:i));return At({},i,{E$:e})}S$(t,i,e,s){super.S$(t,i,e,s),this.jNt&&this.jNt.S$(t,i,e,s)}UNt(){return!this.QNt&&this.FNt}Td(){return void 0!==this.YNt?this.YNt:this.UNt()?this.Rk:super.Td()}T$(t){this.Rk=t,this.YNt=void 0,this.UNt()||super.T$(t)}GTt(){return!this.UNt()&&super.GTt()}NJ(){this.YNt=x.max(oH(this.DP.g$),oH(this.DP.w$)),this.UNt()||super.NJ()}_J(){this.YNt=void 0,this.UNt()||super._J()}HTt(t){return new rH(this,t)}GNt(){this.QNt=!this.QNt}PNt(){const t=this.DP,i=this.jNt;i&&(this.QNt=!this.QNt,this.VTt(i),this.VNt(t),this.UNt()&&this.WNt())}VNt(t){var i,e;this.jNt=t,null==(i=this.p$)||i.ONt(null==t?void 0:t.g$),null==(e=this.y$)||e.ONt(null==t?void 0:t.w$)}HNt(t){const i=this.DP,e=this.jNt;if(!e)return;const s=this.QNt,n=s?i:e,r=(s?e:i).b_.oR(t);if(!r)return;const h=PY(n.b_,this.$Tt()).oR(r.jn(0),kc);return!h||r.jn(0)+kc>=h.jn(0)?void 0:x.max(r.jn(0),h.Cn(0))}qNt(t,i){if(this.FNt)return Promise.resolve();const e=this.QNt?this.jNt:this.DP;return e?(this.FNt=!0,this.XNt((i=>{if(Pi(i),this.FNt)return async function(t,i,e){Pi(e);const s=[];t.g$&&s.push(Lk(t.g$,i,e));t.w$&&s.push(Lk(t.w$,i,e));await Promise.all(s),t.NJ()}(e,t,i)}),i)):Promise.resolve()}WNt(){if(!this.FNt)return;const t=this.QNt?this.jNt:this.DP;if(!t)return;var i;this.FNt=!1;const e=null!=(i=this.YNt)?i:this.Rk;t.ct<e&&t.T$(e),t._J()}ZNt(t){var i;const e=null!=(i=this.YNt)?i:this.Rk;t.T$(e),this.QNt?this.VTt(t):this.VNt(t)}$Tt(){var t,i,e;const s=null!=(e=null==(t=this.p$)?void 0:t.EJ)?e:Ki.lR();var n;const r=null!=(n=null==(i=this.y$)?void 0:i.EJ)?n:Ki.lR();return s.HB(r)}async XNt(t,i){const e=[];this.p$&&e.push(this.p$.SNt()),this.y$&&e.push(this.y$.SNt());try{await Promise.all(e),await t(i)}finally{this.p$&&this.p$.bNt(),this.y$&&this.y$.bNt()}}XTt(t){t.type===bi.LH&&this.fit.mJ(),super.XTt(t)}constructor(t,i){super(i),this.jNt=void 0,this.Rk=NaN,this.QNt=!1,this.FNt=!1,this.YNt=void 0,this.VTt(i),this.fit=t}};function oH(t){if(!t)return 0;const i=t.b_;return i.U>0?i.jn(i.U-1):0}function nr(t){return t.wd.hA===wt.xO}r();var aH=class extends sH{get KNt(){return this.JNt}L_(){return super.L_().HB(this.JNt.b_)}Td(){if(!this.$Nt){const t=this.DP;if(t&&nr(t))return t.ct}return super.Td()}kTt(){return!!super.kTt()&&!(!this.$Nt&&!this.tq())}CTt(){return!!super.CTt()&&!(!this.$Nt&&super.kTt()&&!this.tq())}tq(){const t=this.DP;return!(!t||!nr(t))&&t.tq}_g(){return this.Uo.HB(this.vP.fg)}Mg(){return super.Mg().HB(this.JNt.yg)}pg(){return super.pg()}LTt(){var t;return null!=(t=super.LTt())?t:this.JNt.IP}Vg(){return this.gR=!1,super.Vg()}Gg(){this.gR=!0,super.Gg()}v3(){this.$Nt=!0,super.v3(),this.JNt.v3()}m3(){this.$Nt=!1,super.m3(),this.JNt.v3()}z_(){var t;return null!=(t=this.O4)?t:super.z_()}Ng(){return void 0!==this.O4||super.Ng()}Dp(t,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.tDt.c_(),this.u2.c_(),this.u2=new Ao,this.iDt=this.l2(t,i,e,this.iDt,this.u2.a_).catch(xs)}async l2(t,i,e,s,n){this.O4=t,this.d2=t,this.Co(new Sa(t)),s&&await s.catch(xs),Pi(n),this.DP&&nr(this.DP)&&this.DP.WNt(),this.O4=void 0,super.Dp(t,i,e),this.JNt.Dp(t,i,e),this.eDt()}mP(t){const i=this.IP;if(!i||j(i.getTime()))return;const e=(t.getTime()-i.getTime())/1e3;this.Dp(e)}T3(){super.T3(),this.JNt.T3()}get Ig(){return this.sDt.Ig}get Lg(){return this.sDt.Lg}be(){this.xB&&(this.xB=!1,this.sDt.be())}ge(){this.xB||(this.xB=!0,this.sDt.ge())}async nDt(){var t;this.O4=void 0,this.d2=NaN,this.Uo=Ki.lR(),null==(t=this.rDt)||t.c_(),this.tDt.c_(),this.u2.c_(),this.iDt&&(await this.iDt.catch(xs),this.iDt=void 0)}PTt(t){super.PTt(t),this.JNt.VP=t}BTt(t){super.BTt(t),this.JNt.D3=t}Dg(){return this.Dl}dE(t,i,e,s,n,r,h,o){return this.fE.dE(t,i,e,s,n,r,h,o)}pE(t){this.fE.pE(t)}QP(){this.fE.Zn(),super.QP()}async $n(t){const i=await super.$n(t);return nr(i)&&this.eDt(),i}async Zn(){await this.nDt(),await super.Zn(),await this.JNt.Zn()}async e_(){await this.nDt(),this.fE.gn(),this.Dl.gn(),await super.e_()}QTt(t){return new hH(this,t)}UTt(t){return new xi(t)}eDt(){this.tDt.c_(),this.tDt=new Ao,this.iDt=this.hDt(this.iDt,this.tDt.a_).catch(xs)}async hDt(i,e){if(i&&await i.catch(xs),this.DP&&nr(this.DP))for(;;){let i;for(Pi(e),this.oDt()&&this.GNt(),this.DP.WNt(),Pi(e);Pi(e),!this.oDt();){if(i=this.DP.HNt(this.z_()),void 0!==i){0,this.aDt(),await this.DP.qNt(i,e),Pi(e),this.JNt.Dp(i);break}await ru((i=>Promise.race([this.D_(t.ov,i),this.uDt(i)])),e)}for(Pi(e);!this.oDt();)await this.vP.D_([t.ov,t.kA,Ho.Mw],e)}}oDt(){const t=this.DP;if(void 0===t||!nr(t))return!1;const i=this.z_(),e=this.vP.b_;if(!this.vP.R_&&e.gr(i))return!1;return!!PY(this.JNt.b_,t.$Tt()).$B(i,i+kc)}GNt(){if(this.cDt)return;this.cDt=!0,this.Uo=this._g();const t=Uk(this),i=this.Ng(),e=this.pg(),s=this.vP,n=this.JNt,r=this.DP;r.WNt(),r.GNt(),Qk(n,t),this.YTt(n),this.JNt=s,s.Gg(),s.Z_=!0,this.cDt=!1;const h=this.Ng();i!==h&&(h?this.Co(new Sa(this.j_)):this.Co(new $s(this.j_)));const o=this.pg();e!==o&&this.Co(new Vs(this.j_,o)),h||this.aDt()}aDt(){const t=this.vP,i=this.sDt;if(i===t)return;const e=this.Lg,s=this.Ig;this.sDt=t,this.xB&&(i.be(),t.ge());const n=this.Lg,r=this.Ig;n>0&&r>0&&(e!==n||s!==r)&&this.Co(new qu)}zNt(t){return void 0!==this.JNt.rq([t])}async BNt(t){this.aDt();const i=this.DP,e=this.JNt;await e.Zn();const s=await e.$n(t);i.ZNt(s)}uDt(t){return this.rDt=new Eo,rl(this.rDt.PL,t)}mJ(){var t;null==(t=this.rDt)||t.jL()}Jg(i){i.type===t.ZA&&this.d2===i.currentTime||(i.type===t.XA&&(this.d2=NaN,this.aDt()),i.type!==Ho.Mw&&i.type!==t.Sh&&i.type!==t.kA||this.cDt||!this.oDt()?(i.type!==t.kA||this.R_)&&super.Jg(i):this.eDt())}constructor(t,i,e){super(t),this.$Nt=!1,this.O4=void 0,this.d2=NaN,this.Uo=Ki.lR(),this.gR=!0,this.cDt=!1,this.xB=!0,this.rDt=void 0,this.iDt=void 0,this.tDt=new Ao,this.u2=new Ao,this.JNt=i,this.sDt=t,this.vP.ge(),this.JNt.be(),this.fE=new Hn(this,e),this.Dl=new dh([this.fE.nt,super.Dg()])}},uH=class extends aH{get bTt(){return this.vP}get KNt(){return this.JNt}be(){super.be(),this.J6.be()}ge(){super.ge(),this.J6.ge()}get TP(){return this.vP.TP}get q$(){return this.vP.q$}get Bg(){return this.vP.Bg}set Bg(t){this.vP.Bg=t}N3(t){this.vP.N3(t),this.JNt.N3(t)}E4(){this.vP.E4()}Zg(){this.vP.Zg(),this.JNt.Zg()}Ug(){return this.vP.Ug()}YTt(t){const i=this.Rg(),e=this.Ug();super.YTt(t),this.Rg()!==i&&this.Co(new ai),this.Ug()!==e&&this.Co(new us)}e_(){return this.t8.gn(),this.J6.gn(),super.e_()}constructor(t,i){super(t,i,new ox),this.J6=new Ux,this.J6.N3(t.TP.parentElement),this.t8=new ej(this.J6.we,this.Iu,this.nt,this.Ol,this.ya)}},cH=class extends ut{cB(t){if(t===rv.vp){const i=super.cB(t),e=super.cB(t);return new uH(i,e)}return super.cB(t)}async WP(t){t instanceof uH?(await t.e_(),await super.WP(t.bTt),await super.WP(t.KNt)):await super.WP(t)}},lH=class extends XW{async gn(){await super.gn(),await this.HP.WP(this.vP)}static Ux(t){var i;return!wn.Qs&&!wn.Jb&&!(t&&"google-dai"===(null==(i=t.ssai)?void 0:i.integration))}constructor(t,i,e,s,n,r,h){const o=new HW(new cH(n));super(t,i,e,s,o.cB(r),h),this.HP=o}};r(),r(),r();var Au,dH=class extends UW{HTt(t){return new nH(t)}Ix(){return this.lDt?this.$x:super.Ix()}L_(){return this.lDt?this.gNt:super.L_()}Td(){return this.lDt?this.Rk:super.Td()}T$(t){this.lDt?(this.Rk=t,this.dDt=!0):super.T$(t)}Mg(){return this.lDt?this.fDt?this.fDt.PJ():this.I$:super.Mg()}S$(t,i,e,s){this.lDt?this.fDt=new Dk(t,i,e,s):super.S$(t,i,e,s)}GTt(){return this.lDt?this.p8&&!1!==this.pNt:super.GTt()}NJ(){this.lDt?this.pNt=!0:super.NJ()}_J(){this.lDt?this.pNt=!1:super._J()}PH(t){return!this.lDt&&super.PH(t)}RH(t){return this.lDt?Promise.reject(new k("Not supported")):super.RH(t)}async SNt(){if(this.lDt)throw new k("Already locked");this.lDt=!0,this.ENt();const t=[];this.p$&&t.push(this.p$.SNt()),this.y$&&t.push(this.y$.SNt()),await Promise.all(t)}bNt(){this.lDt=!1,this.p$&&this.p$.bNt(),this.y$&&this.y$.bNt(),this.LNt()}ENt(){this.$x=super.Ix(),this.gNt=super.L_(),this.Rk=super.Td(),this.I$=super.Mg(),this.dDt=!1,this.pNt=void 0,this.fDt=void 0}LNt(){if(this.dDt&&(super.T$(this.Rk),this.dDt=!1),void 0!==this.fDt){const t=this.fDt;super.S$(t.Cn,t.jn,t.BJ,t.RJ),this.fDt=void 0}void 0!==this.pNt&&(this.pNt?super.NJ():super._J(),this.pNt=void 0)}constructor(t){super(t),this.lDt=!1,this.gNt=Ki.lR(),this.Rk=0,this.dDt=!1,this.p8=!1,this.pNt=void 0,this.I$=Ki.lR(),this.fDt=void 0,this.VTt(t),this.$x=t.wd}},fH=class extends ar{get bTt(){return this.vP}Vg(){return void 0!==this.DP&&nr(this.DP)&&this.R_&&this.Dp(0),super.Vg()}Dp(t,i,e){void 0!==this.DP&&nr(this.DP)&&this.R_&&t<this.ct&&this._Dt(),super.Dp(t,i,e)}v3(){this.gDt=!0,super.v3()}m3(){this.gDt=!1,this.wDt()||super.m3()}wDt(){return this.gDt||this.ADt}vDt(){this.ADt||(this.ADt=!0,super.v3())}mDt(){this.ADt&&(this.ADt=!1,this.wDt()||super.m3())}$n(t){this.pDt.c_();const i=this.ait(t,this.yDt);return this.MDt=i,i}async ait(t,i){return i&&await i.catch(xs),this.mDt(),await super.$n(t)}QTt(t){return new dH(t)}UTt(t){return new xi(t)}Zn(){this.pDt.c_();const t=this.TDt(this.yDt);return this.MDt=t,t}async TDt(t){return t&&await t.catch(xs),this.mDt(),await super.Zn()}_Dt(){this.vDt(),this.pDt.c_(),this.pDt=new Ao,this.yDt=jt(this.NDt(this.MDt,this.yDt,this.pDt.a_),this.pDt).catch(Mh)}async NDt(t,i,e){t&&await t.catch(xs),i&&await i.catch(xs),Pi(e);const s=this.DP;if(!s||!nr(s))return;const n=s.wd;await s.SNt(),await this.vP.Zn();const r=await this.vP.$n(n);r.T$(s.ct),s.VTt(r),s.bNt(),this.mDt()}async e_(){this.pDt.c_(),this.yDt&&(await this.yDt.catch(xs),this.yDt=void 0),this.wDt()&&super.m3(),await super.e_()}constructor(...t){super(...t),this.gDt=!1,this.ADt=!1,this.MDt=void 0,this.yDt=void 0,this.pDt=new Ao}},_H=class extends ut{cB(t){if(t===rv.vp)return new fH(super.cB(t))}async WP(t){const i=t;await i.e_(),await super.WP(i.bTt)}static Ux(){return wn.tL}};UI(new class extends _U{_m(t,i,e,s,n,r,h){const o=new ft(Kn.gL.ket,Kn.gL.Let,Kn.gL.bet,Kn.gL.xet);let a;a=eH.Ux(h)?eH:lH.Ux(h)?lH:ZW;let u=i;return _H.Ux()&&(u=new _H(u)),new a(e,s,n,o,u,rv.vp,t)}dB(){return!0}constructor(...t){super(...t),this.fB=yi.Vz}}),r(),r(),r(),r(),function(t){t.DDt="currentbufferingrenditionchange",t.IDt="SDt",t.EDt="bDt",t.LDt="kDt"}(Au||(Au={})),r(),r();var gH,wH,AH=class{constructor(t,i){var e,s;this.Vw=cm(),this.CDt=i,this.hA=t.hA,this.xDt=t.xDt,this.ODt=t.ODt,this.jDt=t.jDt,this.l=t.l,this.gs=t.gs,this.zDt=t.zDt,this.PDt=t.PDt,this.BDt=void 0===t.Pnt,this.RDt=null!=(s=null==(e=t.RDt)?void 0:e.split(","))?s:[]}};function zn(t,i){return t.hA===i.hA&&(t.l===i.l||!(!t.xDt||!i.xDt))}function vH(t,i){return void 0!==t&&void 0!==i&&mH(t,i)}function mH(t,i){return t.CDt===i.CDt}function pH(t,i){return mH(t,i)&&t.zDt===i.zDt}function yH(t,i){for(const e of t)if(pH(e,i))return!0;return!1}r(),function(t){t.UDt="alternative",t.QDt="main",t.FDt="commentary",t.YDt="",t._S="descriptions",t.GDt="main-desc",t.VDt="translation"}(gH||(gH={})),function(t){t.UDt="alternative",t.QDt="main",t.FDt="commentary",t.YDt="",t.fS="captions",t.Kw="sign",t.pp="subtitles"}(wH||(wH={}));var MH,TH=class extends i{get Ww(){return this.WDt}get Rt(){const t=this.HDt();if(!t)return!1;for(const i of this.Hw.xw)if(i.qDt===t)return!0;return!1}set Rt(t){if(t!==this.Rt&&t){let t=this.Hw.jw(0).qDt;const i=this.Qo.XDt;for(const e of this.Hw.xw)if(e.ZDt===i){t=e.qDt;break}this.KDt(t)}}get Gw(){if(!this.Rt)return;const t=this.Qo.JDt;for(const i of this.Hw.xw)if(yH(t,i.qDt))return i}get va(){return this.Xa||(this.Xa=Ei(this)),this.Xa}get o(){return this.DN.toString()}get Vw(){return this.DN}get kh(){return this.IN}set kh(t){t!==this.IN&&(this.IN=t,this.Co(new Ln(this)))}get gs(){return this.Uk}get eA(){return this.Rt?"enabled":"disabled"}get qw(){return this.Hwt}set qw(t){let i=[];if(t){i=t.filter((t=>{const i=this.Gw?SF(this.Gw):void 0;return lg.Ys.wtt(i,SF(t))})).filter((i=>this.Hw.yN(t)&&i.qit))}else i=this.Hw.xw.filter((t=>t.qit));if(0!==i.length){if(!(t===this.Hwt||this.Hwt&&ig(this.Hwt,i))){if(this.Hwt=t?i:void 0,this.Qo.$Dt(i.map((t=>t.ZDt))),1===i.length){const t=i[0].ZDt,e=this.v0===rv.vp,s=this.yR.dW;W(this.Qo.tIt(t,{iIt:!0,eIt:s&&e,sIt:s&&!e}))}this.Co(new MF(i,this))}}else this.Co(new IF)}EN(t){this.Rt=t}gn(){this.Vo(),this.Qo.fn(Au.DDt,this.nIt),this.Qo.fn(Au.IDt,this.rIt);for(const t of this.Hw.xw)t.gn();this.Hw.Zn()}constructor(t,i,e,s,n){var r;super(),this.v0=t,this.Qo=i,this.yR=e,this.fh=s,this.Hw=n,this.Hwt=void 0,this.hIt=void 0,this.oIt=()=>this.Co(new Ln(this)),this.nIt=()=>{const t=this.Gw;t&&this.hIt!==t&&(this.hIt=t,this.Co(new gW(t)))},this.rIt=()=>{const t=this.Rt;this.aIt!==t&&(this.aIt=t,this.fh.Co(new Kr(this)),this.Co(new Kr(this)))},this.hIt=this.Gw,this.aIt=this.Rt;const h=n.jw(0);var o,a;this.IN=null!=(o=null==h?void 0:h.qDt.l)?o:"",this.Uk=null!=(a=null==h?void 0:h.qDt.gs)?a:"",this.WDt=null==h||null==(r=h.qDt)?void 0:r.RDt.map(bH).filter(j_),this.DN=om(),this.Qo.yn(Au.DDt,this.nIt),this.Qo.yn(Au.IDt,this.rIt);for(let t=0;t<this.Hw.U;t++){this.Hw.jw(t).yn("update",this.oIt)}}},NH=class extends TH{get zt(){return gH.QDt}HDt(){return this.Qo.uIt}KDt(t){W(this.Qo.cIt(t))}constructor(t,i,e,s){super(rv.mp,t,i,e,s)}},DH=class extends TH{get zt(){return wH.QDt}HDt(){return this.Qo.lIt}KDt(t){W(this.Qo.dIt(t))}constructor(t,i,e,s){super(rv.vp,t,i,e,s)}},IH=class extends i{get o(){return String(this.ZDt.o)}get Vw(){return this.ZDt.o}get Jz(){return this.ZDt.Jz}get xnt(){return this.ZDt.xnt}get kh(){var t;return null!=(t=this.IN)?t:this.qDt.l}set kh(t){this.kh!==t&&(this.IN=t,this.Co(new rQ(this.va)))}get Pnt(){return this.qDt.CDt.fIt()}get Ont(){return this.ZDt.Ont}CS(){}gn(){this.Vo()}constructor(t,i){super(),this.ZDt=t,this.qDt=i,this.IN="",this.qit=!0}},SH=class extends IH{get Est(){return 0}get bst(){var t;return(null==(t=this.ZDt.bst)?void 0:t._It)||""}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){return nQ(this)}constructor(t,i){super(t,i),this.Xa=void 0}},EH=class extends IH{get bst(){var t;return(null==(t=this.ZDt.bst)?void 0:t.gIt)||""}get jnt(){return this.wIt}set jnt(t){this.wIt!==t&&(this.wIt=t,this.Co(new rQ(this.va)))}get xst(){var t,i;return null!=(i=null!=(t=this.AIt)?t:this.ZDt.xst)?i:0}set xst(t){this.xst!==t&&(this.AIt=t,this.Co(new rQ(this.va)))}get Ti(){var t,i;return null!=(i=null==(t=this.ZDt.vIt)?void 0:t.Ti)?i:0}get ji(){var t,i;return null!=(i=null==(t=this.ZDt.vIt)?void 0:t.ji)?i:0}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){return sQ(this)}constructor(t,i){super(t,i),this.Xa=void 0,this.wIt=0,this.AIt=void 0}};function bH(t){return"public.accessibility.describes-video"===t?gc.tA:"public.accessibility.transcribes-spoken-dialog"===t?gc.TRANSCRIBES_SPOKEN_DIALOG:"public.accessibility.describes-music-and-sound"===t?gc.DESCRIBES_MUSIC_AND_SOUND:"public.accessibility.easy-to-read"===t?gc.$w:void 0}r(),r(),function(t){t.mIt="FATAL",t.ha="ERROR",t.pIt="WARNING",t.yIt="INFO",t.MIt="DEBUG"}(MH||(MH={}));var p=new class{TIt(t){if(!this.Rt())return!1;const i=[];return!(i.length>0)||i.some((i=>i.toLowerCase()===t.toLowerCase()))}NIt(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];this.TIt(t)&&lg.Ttt("DEBUG "+t+" -",...e)}$y(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];this.TIt(t)&&lg.Ttt("INFO "+t+" -",...e)}DIt(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];this.TIt(t)&&lg.Pv("WARNING "+t+" -",...e)}lt(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];this.TIt(t)&&lg.Ntt("ERROR "+t+" -",...e)}IIt(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];this.TIt(t)&&lg.Ntt("FATAL "+t+" -",...e)}constructor(){this.Rt=()=>!1}},ss="HLSPlaylistParser",LH="Discontinuity",rr="Buffering",kH=class{Ldt(){var t;const i=null==(t=this.Qo.Tr)?void 0:t.SIt;if(!i||0===i.length)return void p.DIt("LLHLSTrackConfigurator","The HLSModel contains no variant streams.");var e;const s=null!=(e=X_(i,(t=>0!==t.EIt.length&&0!==t.bIt.length)))?e:i[0],n=i.filter((t=>t!==s));for(const t of s.EIt){const i=new nm,e=[];i.mN(new SH(s,t)),e.push(t);for(const s of n)for(const n of s.EIt)if(zn(n,t)&&!yH(e,n)){i.mN(new SH(s,n)),e.push(n);break}this.LIt.tt(new NH(this.Qo,this.yR,this.LIt,i))}for(const t of s.bIt){const i=new nm,e=[];i.mN(new EH(s,t)),e.push(t);for(const s of n)for(const n of s.bIt)if(zn(n,t)&&!yH(e,n)){i.mN(new EH(s,n)),e.push(n);break}this.kIt.tt(new DH(this.Qo,this.yR,this.kIt,i))}}CIt(){this.xIt(this.LIt),this.xIt(this.kIt)}xIt(t){const i=[];for(const e of t.xw){const t=[];for(const i of e.Hw.xw)ea(i.ZDt.OIt,i.qDt)||t.push(i);for(const i of t)e.Hw.pN(i),i.gn();0===e.Hw.U&&i.push(e)}for(const e of i)t.it(e),e.gn()}jIt(t,i){const e=this.zIt(t);void 0!==e&&(e.xst=i)}PIt(t,i){const e=this.zIt(t);void 0!==e&&(e.jnt=i)}zIt(t){for(const i of this.kIt.xw){const e=X_(i.Hw.xw,(i=>i.qDt===t));if(void 0!==e)return e}}constructor(t,i,e,s){this.Qo=t,this.yR=i,this.LIt=e,this.kIt=s}};r(),r(),r();var En=class{get w8(){const t=1-this.BIt**this.RIt;return this.UIt/t}vgt(t,i){const e=this.BIt**t,s=i*(1-e)+e*this.UIt;j(s)||(this.UIt=s,this.RIt+=t)}RH(t){const i=x.exp(x.log(.5)/t);if(i===this.BIt)return;if(0===this.RIt)return void(this.BIt=i);const e=this.w8,s=1-i**this.RIt;this.UIt=e*s,this.BIt=i}constructor(t){this.UIt=0,this.RIt=0,this.BIt=x.exp(x.log(.5)/t)}},Rn=class t{get w8(){return this.wct()?x.max(this.QIt.w8,this.FIt.w8):this.YIt}vgt(t){const i=lg.f_(),e=t;this.GIt&&void 0!==this.VIt&&i-this.VIt>=this.WIt&&this.Zn(),this.HIt+=1,this.QIt.vgt(1,e),this.FIt.vgt(1,e),this.qIt.push(e),this.qIt.length>this.XIt&&this.qIt.shift(),this.VIt=i}wct(){return void 0!==this.VIt&&lg.f_()-this.VIt<=this.WIt}Zn(){this.QIt=new En(this.ZIt),this.FIt=new En(this.KIt),this.HIt=0,this.qIt=[],this.VIt=void 0}constructor(i=t.JIt,e=t.$It,s=t.Dgt,n=!1){this.HIt=0,this.qIt=[],this.VIt=void 0,this.WIt=6e4,this.XIt=10,this.ZIt=i,this.KIt=e,this.YIt=s,this.GIt=n,this.QIt=new En(i),this.FIt=new En(e)}};Rn.JIt=2,Rn.$It=5,Rn.Dgt=.1,r();var CH=class{FV(t){for(const i of this.tSt)i.FV(t)}YV(t){for(const i of this.tSt)i.YV(t)}GV(t,i){for(const e of this.tSt)e.GV(t,i)}VV(t){for(const i of this.tSt)i.VV(t)}constructor(t){this.tSt=t}};r();var xH=class{FV(t){this.iSt=t}YV(t){this.eSt.vgt(t-this.iSt)}GV(t){}VV(t){}constructor(t){this.iSt=0,this.eSt=t}};r();var OH=class{YV(t){this.sSt=t}GV(t,i){this.Sgt.vgt(t-this.sSt,i.byteLength),this.sSt=t}VV(t){}FV(t){}constructor(t){this.sSt=0,this.Sgt=t}};r();var jH,zH=class{FV(t){}GV(t,i){const e=i.byteLength,s=this.nSt;this.nSt=e;const n=t-this.An;this.An=t,this.rSt.zq(i);const r=!this.rSt.hSt(),h=e>=this.oSt;s!==lg.Ys.dtt&&r&&h&&this.Sgt.vgt(n,e)}YV(t){this.An=t}VV(t){}constructor(t,i=0){this.rSt=new PH,this.An=0,this.nSt=0,this.Sgt=t,this.oSt=i}},PH=class extends Xu{hSt(){return this.aSt}zq(t){this.aSt=!1,super.zq(t)}Oq(t,i){this.uSt&&this.uSt!==Wr.cp||(this.aSt=!0),super.Oq(t,i),this.uSt=t}Wq(t){return!1}qq(t){}Zq(t){}constructor(...t){super(...t),this.uSt=void 0,this.aSt=!1}};r(),r(),(jH||(jH={})).cSt="sample";var BH=class extends i{Bz(){if(!this.wct())return;const t=lg.f_();t-this.lSt>1e3&&(this.lSt=t,ua.gL.Bz(this.w8))}constructor(...t){super(...t),this.lSt=0}},Uc=class t extends BH{vgt(t,i){const e=8*i/t;this.QIt.vgt(t,e),this.FIt.vgt(t,e),this.dSt+=i,this.Bz(),this.Co(new Ag(jH.cSt))}get w8(){return this.wct()?x.min(this.QIt.w8,this.FIt.w8):this.YIt}wct(){return this.dSt>=this.fSt}constructor(i=t.JIt,e=t.$It,s=t._St,n=t.Dgt){super(),this.dSt=0,this.fSt=s,this.QIt=new En(i),this.FIt=new En(e),this.YIt=n}};Uc._St=128e3,Uc.Dgt=EI,Uc.JIt=.5,Uc.$It=5;var RH=class{get Jz(){return this.Sgt.w8}get $z(){return this.gSt.w8}tP(t){if("segment"!==t.hA&&"preload-hint"!==t.hA)return;const i=[new xH(this.gSt)];return"stream"!==t.rE||!function(t){return"segment"===t.hA&&"initialization-segment"!==t.oE}(t)&&"preload-hint"!==t.hA?i.push(new OH(this.Sgt)):i.push(new zH(this.Sgt,1e3)),new CH(i)}wSt(t){this.Sgt=new Uc(Uc.JIt,Uc.$It,1,t)}constructor(t){const i=t.Jz>0?t.Jz:Uc.Dgt,e=t.$z>0?t.$z:Rn.Dgt;this.Sgt=new Uc(Uc.JIt,Uc.$It,1,i),this.gSt=new Rn(Rn.JIt,Rn.$It,e)}};r();var UH=class extends Ag{constructor(t){super(Au.LDt),this.lt=t}};r();var QH=class{rq(t,i){const e={hA:wt.xO,kP:[],E$:t.map((t=>({LP:t}))),B$:i};return Promise.resolve(void 0!==this.Wit.rq([e]))}constructor(t){this.Wit=t}};r(),r();var FH=(t,i,e,s,n)=>t.filter((t=>!!ea(s,t)||1.1*t.Jz<=e.Jz)),YH=(t,i,e,s,n)=>t.filter((t=>{if(ea(s,t))return!0;let r=1/0;for(const i of t.OIt){var h,o;r=x.min(r,null!=(o=null!=(h=i.CDt.ASt)?h:i.CDt.vSt)?o:1/0)}r===1/0&&(r=1);const a=2*e.$z+t.Jz*r/e.Jz;return t.Jz<=i.Jz||n.mSt>a})),GH=(t,i,e,s,n)=>tl(t,((t,i)=>i.Jz-t.Jz)),VH=(t,i,e,s,n)=>t.every((t=>t.Ont&&!j(t.Ont)))?tl(t,((t,i)=>i.Ont-t.Ont)):t,WH=(t,i,e,s,n)=>0===s.length?t:tl(t,((t,i)=>{const e=ea(s,t)?1:0;return(ea(s,i)?1:0)-e})),HH=(t,i,e,s,n,r)=>t.filter((t=>!t.bst||!i.bst||!(void 0!==i.bst.gIt&&void 0!==t.bst.gIt&&!fi(i.bst.gIt,t.bst.gIt)&&!r.pSt({LP:'video/mp4; codecs="'+t.bst.gIt}))&&!(void 0!==i.bst._It&&void 0!==t.bst._It&&!fi(i.bst._It,t.bst._It)&&!r.ySt({LP:'audio/mp4; codecs="'+t.bst._It})))),qH=(t,i,e,s,n)=>{if(!1===n.pct)return t;if(lg.Ys.att)return t;const r=lg.Ys.utt;var h;const o=(null!=(h=null==r?void 0:r.width)?h:n.ji)*CG;var a;const u=(null!=(a=null==r?void 0:r.height)?a:n.Ti)*CG;for(let i=0;i<t.length;i++){const e=t[i];if(void 0===e.vIt)return t;const s=e.vIt.Ti,n=e.vIt.ji;if(s<=u&&n<=o)return t.slice(i,t.length)}return[]},XH=(t,i,e,s,n)=>function(t,i){const e=i.pct;if(void 0===e&&!lg.Ys.Qs)return t;if(!1===e)return t;for(let e=0;e<t.length;e++){const s=t[e];if(void 0===s.vIt)return t;const n=s.vIt.Ti,r=s.vIt.ji;if(n===i.Ti&&r===i.ji)return t.slice(e,t.length);if(n<i.Ti||r<i.ji)return t.slice(0===e?e:e-1,t.length)}return[]}(t,n);var Qn,yt,la,Si,ZH="AbrEvaluator",KH=class{get MSt(){return this.yR.RV}TSt(t){this.Mct=t}async NSt(t,i,e,s,n){return(await this.DSt(t,i,e,s,n))[0]}async DSt(t,i,e,s,n){if(0===t.length)throw new b("AbrEvaluator - Unable to select optimal variant stream from an empty list.");p.NIt(ZH,"Performing optimal variant stream selection.");const r=this.MSt;let h=t;for(const t of this.Mct){const o=t(h,i,r,e,s,n);h=pi(o)?o:await o}if(0===h.length){p.DIt(ZH,"No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream.");return[Uo(t,(t=>t.Jz))]}return h}constructor(t){this.yR=t,this.Mct=[HH,FH,YH,GH,qH,XH,VH,WH]}};function JH(t,i){return[t,void 0!==i?t+i-1:Fa]}function $H(t){return Boolean(t.Fy)}function tq(t){return Boolean(t.bet)}function Nt(t){return t?t.qht?t.ST+"@"+t.qht.Cn+"-"+(null!=(i=t.qht.U)?i:""):""+t.ST:"";var i}function iq(t,i){if(i===t)return!0;if(i.ST!==t.ST)return!1;if(!t.qht)return!0;if(i.qht){const e=JH(t.qht.Cn,t.qht.U),s=JH(i.qht.Cn,i.qht.U);if(e[0]<=s[0])return void 0===e[1]||void 0!==s[1]&&e[1]>=s[1]}return!1}function eq(t,i){return t===i||t.ST===i.ST&&(t.qht&&i.qht?t.qht.Cn===i.qht.Cn&&t.qht.U===i.qht.U:t.qht===i.qht)}function sq(t){const i=!!t.ISt||void 0;return{o:t.o,SSt:t.SSt,IP:t.IP,ESt:t.ESt,ct:t.ct,bSt:t.bSt,ISt:i,LSt:t.kSt,CSt:t.xSt,OSt:t.OSt,jSt:t.jSt}}function nq(t,i){var e,s,n;return{_It:null!=(e=i._It)?e:null==t?void 0:t._It,gIt:null!=(s=i.gIt)?s:null==t?void 0:t.gIt,zSt:null!=(n=i.zSt)?n:null==t?void 0:t.zSt}}async function rq(t,i,e,s,n){const r=i.filter((t=>oo(t,"audio"))),h=i.filter((t=>oo(t,"video"))),o=[],a=e.map((t=>async function(t,i,e){if(!t.Pnt)return;if(!t.PSt)return;if(t.nE!==la.BSt)return;const s=hq(t.PSt);if(!s)return;if(s.mL===qa)return{dm:s,nP:[],rP:void 0,Az:t.Pnt};if(s.mL===Uw&&t.PSt===Yw)return{dm:s,nP:[],rP:t.Pnt,Az:void 0};{p.$y("HLSDrmUtils","Fetching key uri "+t.Pnt+".");const n=await i.mS({zu:t.Pnt,uE:e});return{dm:s,nP:[await n.Kj()],rP:void 0,Az:void 0}}}(t,s,n)));var u;const c=function(t,i){if(0===i.length)return t;const e=t=>{const e=i.indexOf(t.dm.mL);return e>=0?e:i.length};return tl(t,((t,i)=>e(t)-e(i)))}((await Promise.all(a)).filter(j_),null!=(u=null==t?void 0:t.preferredKeySystems)?u:[]);for(const i of c){const e=wY(null!=t?t:{},i.dm),s="cbcs";o.push({dm:i.dm,nP:i.nP,rP:i.rP,Az:i.Az,iB:[{initDataTypes:[i.dm.AL],audioCapabilities:AY(r,s,null==e?void 0:e.audioRobustness),videoCapabilities:AY(h,s,null==e?void 0:e.videoRobustness),persistentState:null==e?void 0:e.persistentState,distinctiveIdentifier:null==e?void 0:e.distinctiveIdentifier}]})}return o}function hq(t){return t===Mt?Gy:t===zw?Io:t===Fw?Wy:t===Yw?Ka:void 0}function oq(t){if("#"!==t[0])throw new b("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function aq(t){return"#"!==t[0]?t:t.split(":",1)[0]}function uq(t){const i=t.indexOf(":");if(-1===i||t.length<i+1)throw new b("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(i+1)}function cq(t){const i=Ls(uq(t));if(void 0===i)throw new b("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return i}function ht(t){const i={},e=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi;let s=e.exec(t);for(;null!==s;){const n=s[1];let r;r=void 0!==s[3]?s[3]:s[2],null!==n?i[n]=r:p.DIt(ss,"Ignoring unparsable M3U8 attribute name: "+t+"."),s=e.exec(t)}return i}function lq(t,i){const e=ht(t);let s,n;try{s=e.URI?lg.zv(e.URI,i):void 0,n=function(t){switch(t){case"AUDIO":return Qn.mp;case"VIDEO":return Qn.vp;case"SUBTITLES":return Qn.pp;case"CLOSED-CAPTIONS":return Qn.RSt}throw new b("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(e.TYPE)}catch(i){throw new b("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}const r=e["GROUP-ID"],h=e.LANGUAGE,o=e["ASSOC-LANGUAGE"],a=e.NAME,u="YES"===e.DEFAULT;let c="YES"===e.AUTOSELECT;const l="YES"===e.FORCED,d=e["INSTREAM-ID"],f=e.CHARACTERISTICS,_=e.CHANNELS;if(r||p.DIt(ss,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),h||p.DIt(ss,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),a||p.DIt(ss,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),n===Qn.RSt?(s&&p.DIt(ss,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),d?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(d)||p.DIt(ss,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):p.DIt(ss,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):d&&p.DIt(ss,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),u&&!c&&(c=!0,e.AUTOSELECT&&p.DIt(ss,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),e.FORCED&&n!==Qn.pp&&p.DIt(ss,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===r||void 0===a)throw new b("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{USt:o,QSt:_,RDt:f,zDt:r,ODt:c,xDt:u,jDt:l,PDt:d,gs:h,l:a,hA:n,Pnt:s}}function dq(t,i,e){const s=ht(t);let n,r,h;try{n=lg.zv(e,i),h=function(t){if(void 0===t)return;const i=t.split("x"),e=Number(i[0]),s=Number(i[1]);if(j(e)||j(s))throw new b("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{ji:e,Ti:s}}(s.RESOLUTION),r=function(t){if(!t)return;let i,e,s;const n=t.split(",");for(const t of n){const n=t.trim();tw(n,"mp4a")?i="mp4a.40.05"===n?"mp4a.40.5":"mp4a.40.02"===n?"mp4a.40.2":n:"ac-3"===n||"ec-3"===n?i=n:tw(n,"avc")||tw(n,"hvc1")||tw(n,"hev1")||tw(n,"dvh")||tw(n,"vp09")||tw(n,"av01")?e=t:s=s?s+","+n:n}return{_It:i,gIt:e,zSt:s}}(s.CODECS)}catch(i){throw new b("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}const o=Ls(s.BANDWIDTH),a=Ls(s["AVERAGE-BANDWIDTH"]),u=Ls(s.SCORE),c=Ls(s["FRAME-RATE"]),l=s["HDCP-LEVEL"],d=[];if(void 0!==s["ALLOWED-CPC"]){const t=s["ALLOWED-CPC"].split(",");d.push(...t.map((t=>{const i=t.split(":");return{keysystem:i[0],label:i[1]}})))}const f=s["VIDEO-RANGE"],_=s.AUDIO,g=s.VIDEO,w=s.SUBTITLES,A=s["CLOSED-CAPTIONS"];if(void 0===o?p.DIt(ss,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==a&&a>o&&p.DIt(ss,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),r||p.$y(ss,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),r&&r.gIt&&void 0===h&&p.$y(ss,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===l||ea(["TYPE-0","TYPE-1","NONE"],l)||p.DIt(ss,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===f||ea(["SDR","PQ","HLG"],f)||p.DIt(ss,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===o)throw new b("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{FSt:d,YSt:_,xnt:a,Jz:o,GSt:A,bst:r,xst:c,VSt:l,vIt:h,Ont:u,WSt:w,Pnt:n,HSt:g,qSt:f}}function fq(t,i){const e=ht(t);if(!e.URI)throw new b("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return dq(t,i,e.URI)}catch(i){throw new b("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function Ls(t){const i=Number(t);return j(i)?void 0:i}function _q(t,i){const e=ht(t);let s,n;try{s=function(t){switch(t){case"NONE":return la.DB;case"AES-128":return la.XSt;case"SAMPLE-AES":return la.BSt;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new b("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(e.METHOD),n=e.URI?Mq(e.URI,i):void 0}catch(i){throw new b("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}const r=e.KEYFORMAT,h=e.IV,o=e.KEYFORMATVERSIONS;let a,u,c,l,d;if(s!==la.DB){if(c=r||Yw,"SAMPLE-AES-CENC"===s||"SAMPLE-AES-CTR"===s){if(hq(c)!==Gy)throw new b("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+s+" is only compatible with Widevine.");a=la.BSt}else a=s;u=n,l=h?XA(h):void 0,d=o?o.split("/").map((t=>Number(t))):[1]}else a=la.DB,(n||r||o||h)&&p.DIt(ss,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{nE:a,Pnt:u,ZSt:l,PSt:c,KSt:d}}function gq(t){const i=uq(t);if(!i)return[void 0,""];const[e,s]=i.split(",");return[Ls(e),s]}function wq(t,i){const e=t.split("@"),s=Ls(e[0]),n=e.length>1?Ls(e[1]):i;if(void 0===s||void 0===n)throw new b("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{Cn:n,U:s}}function Aq(t){if(void 0!==t)return wq(t,void 0)}function vq(t,i){return wq(uq(t),i)}function mq(t,i){const e=ht(t);try{const t=Mq(e.URI,i);return{ST:t,qht:Aq(e.BYTERANGE)}}catch(i){throw new b("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function pq(t){const i=uq(t);if(!i)throw new b("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");const e=new Date(i);if(!FD(e))throw new b("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return e}function yq(t){const i=ht(t),e=i["START-DATE"],s=i["END-DATE"],n=Ls(i["PLANNED-DURATION"]);let r,h,o,a=Ls(i.DURATION);void 0!==i["SCTE35-CMD"]&&(r=XA(i["SCTE35-CMD"]).buffer),i["SCTE35-IN"]&&(h=XA(i["SCTE35-IN"]).buffer),i["SCTE35-OUT"]&&(o=XA(i["SCTE35-OUT"]).buffer);const u="YES"===i["END-ON-NEXT"],c=function(t){const i={};for(const e of _.keys(t)){const s=t[e];void 0!==s&&tw(e,"X-")&&(i[e]=s)}return i}(i),l=i.ID,d=i.CLASS;let f,g;if(void 0===e)p.DIt(ss,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+e+".");else if(f=new Date(e),g=void 0!==s?new Date(s):void 0,FD(f)||p.DIt(ss,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+f+"."),void 0!==a){const i=new Date(f.getTime()+1e3*a);g?g.getTime()!==i.getTime()&&(p.DIt(ss,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),g=i):g=i}else g&&(a=(f.getTime()-g.getTime())/1e3);if(u&&(i.CLASS||p.DIt(ss,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),i.DURATION&&p.DIt(ss,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),g&&p.DIt(ss,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===l&&p.DIt(ss,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===l||void 0===f)throw new b("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{o:l,SSt:d,IP:f,ESt:g,ct:a,bSt:n,xSt:r,jSt:h,OSt:o,ISt:u,kSt:c}}function Mq(t,i){if(void 0===t)throw new b("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return lg.zv(t,i)}function Tq(t,i){const e=ht(t),s=Ls(e.DURATION),n=Mq(e.URI,i),r=Aq(e.BYTERANGE),h="YES"===e.INDEPENDENT,o="YES"===e.GAP;if(void 0===s)throw new b("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{ct:s,Pnt:{ST:n,qht:r},JSt:h,$St:o}}function Nq(t){const i=ht(t);return{tEt:"YES"===i["CAN-BLOCK-RELOAD"],iEt:Ls(i["CAN-SKIP-UNTIL"]),eEt:"YES"===i["CAN-SKIP-DATERANGES"],sEt:Ls(i["HOLD-BACK"]),nEt:Ls(i["PART-HOLD-BACK"])}}function Dq(t,i){const e=ht(t);if(void 0===e.URI)throw new b("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");const s=Mq(e.URI,i),n=Ls(e["LAST-MSN"]),r=Ls(e["LAST-PART"]);if(void 0===n)throw new b("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{Pnt:s,rEt:n,hEt:r}}function Iq(t,i){var e;const s=ht(t),n=Ls(s["SKIPPED-SEGMENTS"]),r=null==(e=s["RECENTLY-REMOVED-DATERANGES"])?void 0:e.split("\t");if(!n)throw new b("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{oEt:n,aEt:r,uEt:i}}function Sq(t){const i=Ls(ht(t)["PART-TARGET"]);if(void 0===i)throw new b("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return i}function Eq(t){switch(uq(t)){case"VOD":return Si.cEt;case"EVENT":return Si.lEt;default:return p.DIt(ss,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),Si.KT}}function bq(t,i){const e=ht(t);let s,n;try{s=function(t){if(void 0===t)throw new b("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return yt.dEt;if("PART"===t)return yt.fEt;throw new b("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(e.TYPE),n=Mq(e.URI,i)}catch(i){throw new b("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}const r=Ls(e["BYTERANGE-START"]),h=Ls(e["BYTERANGE-LENGTH"]);let o;return void 0===r&&void 0===h||(o={Cn:r||0,U:h}),{hA:s,Pnt:{ST:n,qht:o}}}r(),r(),r(),r(),r(),function(t){t[t.mp=0]="mp",t[t.vp=1]="vp",t[t.pp=2]="pp",t[t.RSt=3]="RSt"}(Qn||(Qn={})),function(t){t[t.dEt=0]="dEt",t[t.fEt=1]="fEt"}(yt||(yt={})),function(t){t[t.DB=0]="DB",t[t.XSt=1]="XSt",t[t.BSt=2]="BSt"}(la||(la={})),function(t){t[t.KT=0]="KT",t[t.cEt=1]="cEt",t[t.lEt=2]="lEt"}(Si||(Si={})),r(),r(),r();var Lq=class t{_Et(){const t=this.gEt[this.wEt];return this.wEt+=1,t}AEt(){return this.gEt[this.wEt]}Ip(){const i=new t("");return i.wEt=0,i.gEt=this.gEt.slice(this.wEt),i}static vEt(t){if(!t)return[];return t.split(/[\r\n]+/).map((t=>t.trim())).filter((t=>t))}constructor(i){this.wEt=0,this.gEt=t.vEt(i)}};function kq(t,i,e){const s=t.Pnt;let n=t._y,r=t.mEt,h=t.Cn;switch(e){case"#EXT-X-VERSION":n=function(t){const i=cq(t);return j(i)?(p.DIt(ss,"Playlist version is NaN: "+t+"."),1):i}(i);break;case"#EXT-X-INDEPENDENT-SEGMENTS":r=!0;break;case"#EXT-X-START":h=function(t){const i=ht(t),e=Ls(i["TIME-OFFSET"]);if(void 0===e)throw new b("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{pEt:e,yEt:"YES"===i.PRECISE}}(i);break;case"#EXT-X-DEFINE":p.DIt(ss,"Ignoring unsupported #EXT-X-DEFINE: "+i+".");break;default:p.$y(ss,"Ignoring unrecognized line or comment: "+i+".")}return{Pnt:s,_y:n,mEt:r,Cn:h}}function Cq(t,i){return t.map((t=>t.nE===la.DB||t.ZSt?t:At({},t,{ZSt:xq(i)})))}function xq(t){const i=new DataView(new ArrayBuffer(16)),e=new Or;return e.Np(8),CA(i,e,Ce.fromNumber(t)),new T(i.buffer)}function Oq(t,i,e){p.$y(ss,"Parsing M3U8 playlist at "+t+".");const s=new Lq(e);if("#EXTM3U"!==s._Et())throw new b("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(e)?function(t,i){let e;try{e=lg.zv(t)}catch(i){throw p.DIt(ss,"The master playlist has no valid base URI: "+t+"."),new b("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}let s={Pnt:e,mEt:void 0,Cn:void 0,_y:void 0};const n=[],r=[],h=[],o=[];for(;;){const t=i._Et();if(!t)break;try{const a=oq(t);switch(a){case"#EXT-X-MEDIA":{const i=lq(t,e);n.push(i);break}case"#EXT-X-STREAM-INF":{const s=dq(t,e,i._Et());r.push(s);break}case"#EXT-X-I-FRAME-STREAM-INF":{const i=fq(t,e);h.push(i);break}case"#EXT-X-SESSION-DATA":p.DIt(ss,"Ignoring unsupported #EXT-X-SESSION-DATA: "+t+".");break;case"#EXT-X-SESSION-KEY":{const i=_q(t,e);o.push(i);break}default:s=kq(s,t,a)}}catch(i){p.DIt(ss,"Ignoring unparsable line: "+t,i)}}let a=s._y;var u;const c=null!=(u=s.mEt)&&u,l=s.Cn;return void 0===a&&(p.DIt(ss,"The playlist has no #EXT-X-VERSION, assuming version is 2."),a=2),a>=8&&(r.some((t=>void 0!==t.Ont))||h.some((t=>void 0!==t.Ont)))&&(r.some((t=>void 0===t.Ont))||h.some((t=>void 0===t.Ont)))&&p.DIt(ss,"If one master playlist variant stream has a SCORE, all variants should have it."),{Pnt:e,_y:a,mEt:c,Cn:l,MEt:h,TEt:o,Fy:n,NEt:r}}(t,s):function(t,i,e){let s={Pnt:t,mEt:void 0,Cn:void 0,_y:void 0};const n=[];let r,h,o,a,u=!1,c=!1;const l=[],d=Qt();let f,_,g,w,A,v,m,y,M,T=[],N=[],D=!1,I=!1;const S=[],E=[];let L,k,C,x,O,j=0,z=!1,P=Si.KT,B=!1,R=0;try{O=lg.zv(t)}catch(i){throw p.DIt(ss,"The media playlist has no valid base URI: "+t+".",i),new b("HLSPlaylistParser - Could not parse HLS media playlist.")}const U=e.Ip();for(;void 0===k||void 0===C;){const t=U._Et();if(!t)break;try{switch(aq(t)){case"#EXT-X-MEDIA-SEQUENCE":k=cq(t);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":C=cq(t)}}catch(i){p.DIt(ss,"Ignoring unparsable line: "+t,i)}}void 0===k&&(p.$y(ss,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),k=0),void 0===C&&(p.$y(ss,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),C=0);let Q=k,F=C;for(;;){const t=e._Et();if(!t)break;let i=!1;try{const e=aq(t);switch(e){case"#EXTINF":i=!0,[f,_]=gq(t);break;case"#EXT-X-BYTERANGE":i=!0,g=vq(t,j),g&&(j=g.Cn+g.U);break;case"#EXT-X-DISCONTINUITY":i=!0,D=!0,F++;break;case"#EXT-X-KEY":{var Y;i=!0;const e=_q(t,O);if(e.nE===la.DB){d.clear(),M=void 0;break}var G;const s=null!=(G=null==(Y=e.PSt)?void 0:Y.toString())?G:"identity";d.set(s,e),e.nE===la.XSt&&(M=e);break}case"#EXT-X-MAP":i=!0,A=mq(t,O),v=M;break;case"#EXT-X-PROGRAM-DATE-TIME":i=!0,m=pq(t);break;case"#EXT-X-GAP":i=!0,I=!0;break;case"#EXT-X-BITRATE":i=!0,y=cq(t);break;case"#EXT-X-TARGETDURATION":r=cq(t);break;case"#EXT-X-DATERANGE":{const i=yq(t);n.push(i);break}case"#EXT-X-PART":{i=!0;const e=Tq(t,O);N.push(e);break}case"#EXT-X-PRELOAD-HINT":{const i=bq(t,O);S.push(i);break}case"#EXT-X-SKIP":{l.length>0&&p.DIt(ss,"#EXT-X-SKIP must appear before any #EXTINF tags."),i=!0;const e=Iq(t,Q);R=e.oEt,x=e.aEt,Q+=e.oEt;break}case"#EXT-X-SERVER-CONTROL":{const i=Nq(t);u=i.tEt,h=i.iEt,c=i.eEt,o=i.sEt,a=i.nEt;break}case"#EXT-X-RENDITION-REPORT":{const i=Dq(t,O);E.push(i);break}case"#EXT-X-PART-INF":L=Sq(t);break;case"#EXT-X-MEDIA-SEQUENCE":i&&p.DIt(ss,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":i&&p.DIt(ss,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":z=!0;break;case"#EXT-X-PLAYLIST-TYPE":P=Eq(t);break;case"#EXT-X-I-FRAMES-ONLY":B=!0;break;default:if(tw(e,"#"))s=kq(s,t,e);else{w=lg.zv(t,O);const i=A?{Pnt:A,DEt:v}:void 0,e={TEt:Cq(og(d),Q),FI:T,IEt:N,ct:f,OP:_,SEt:D,Pnt:{qht:g,ST:w},EEt:i,bEt:m,$St:I,LEt:y,uEt:Q,kEt:F};l.push(e),Q++,T=[],N=[],f=void 0,_=void 0,D=!1,g=void 0,w=void 0,m=void 0,I=!1,y=void 0}}}catch(i){p.DIt(ss,"Ignoring unparsable line: "+t,i)}}if(N.length){const t=A?{Pnt:A,DEt:M}:void 0,i={TEt:Cq(og(d),Q),FI:T,IEt:N,ct:f,OP:_,SEt:D,Pnt:void 0,EEt:t,bEt:m,$St:I,LEt:y,uEt:Q,kEt:F};l.push(i)}let V=s._y;var W;const H=null!=(W=s.mEt)&&W,q=s.Cn;void 0===V&&(p.DIt(ss,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),V=2),void 0===r&&p.DIt(ss,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");const X=l.length,Z=X>0;Z||p.DIt(ss,"The HLS media playlist contains no segments.");const K=Z&&l[X-1].IEt.length>0;return K&&void 0===L&&p.DIt(ss,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),K&&void 0===a&&p.DIt(ss,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{tEt:u,iEt:h,eEt:c,CEt:n,kEt:C,xEt:z,mEt:H,sEt:o,OEt:B,uEt:k,oEt:R,nEt:a,ASt:L,jEt:P,zEt:S,aEt:x,PEt:E,BEt:r,bet:l,Cn:q,Pnt:O,REt:i,_y:V}}(t,i,s)}r(),r();var jq=class{get Pnt(){return this.CDt.Pnt}get bst(){return this.UEt}set bst(t){this.UEt=t?Pq(t):void 0,this.QEt=!0}get FEt(){return this.QEt}get YEt(){if(!this.GEt.length)return Ki.lR();var t;const i=null!=(t=Ro(this.GEt,(t=>{var i;return null!=(i=t.CDt.VEt)?i:0})))?t:this.OIt[0],e=i.CDt.bet;if(!e.length||e.length<2)return Ki.lR();const s=i.CDt.xEt?e[0].zN:e[1].zN,n=e[e.length-1].PN-this.OIt.reduce(((t,i)=>{var e,s;return x.max(null!=(s=null!=(e=i.CDt.nEt)?e:i.CDt.sEt)?s:0,t)}),0);return n<s?Ki.lR():new Ki([s,n])}get OIt(){return this.GEt}get EIt(){return this.GEt.filter((t=>t.hA===Qn.mp))}get bIt(){return this.GEt.filter((t=>t.hA===Qn.vp))}get WEt(){return this.GEt.filter((t=>t.hA===Qn.pp))}get HEt(){return this.GEt.filter((t=>t.hA===Qn.RSt))}qEt(t){for(const i of this.GEt){const e=i.CDt.qEt(t);if(void 0!==e)return e}}XEt(t){for(const i of this.GEt){const e=i.CDt.XEt(t);if(void 0!==e)return e}}ZEt(t){Et(this.GEt,t)}constructor(t,i,e){var s,n,r,h;this.o=zq++,this.Ont=void 0,this.vIt=void 0,this.xnt=void 0,this.QEt=!1,this.GEt=[],this.CDt=i,this.Jz=t.Jz,this.xnt=t.xnt,this.Ont=t.Ont,this.UEt=t.bst?Pq(t.bst):void 0,this.vIt=t.vIt,this.xst=t.xst,this.YSt=null!=(s=t.YSt)?s:"KEt"+this.o,this.HSt=null!=(n=t.HSt)?n:"JEt"+this.o,this.WSt=null!=(r=t.WSt)?r:"$Et"+this.o,this.GSt=null!=(h=t.GSt)?h:"tbt"+this.o,this.GEt=e}},zq=0;function Pq(t){return At({},t,{gIt:t.gIt?zp(t.gIt):void 0})}r(),r(),r();var Bq,Rq=class{get zN(){var t;return this.WN+(null!=(t=this.ibt)?t:0)}get ebt(){return this.sbt}get TEt(){return this.nbt.TEt}rbt(t,i){this.WN=t,this.sbt=i}constructor(t,i,e,s,n){this.T8=void 0,this.nbt=t,this.hbt=i,this.WN=e,this.sbt=s,this.ct=n.ct,this.Pnt=n.Pnt,this.JSt=n.JSt,this.$St=n.$St}},Uq=class{get zN(){var t;return this.WN+(null!=(t=this.obt)?t:0)}get abt(){return this.WN}get ct(){return this.Rk}get Pnt(){return this.ubt}get cbt(){return this.lbt}get ebt(){return this.sbt}get IEt(){return this.dbt}get fbt(){return this._bt}get PN(){var t;return this.zN+(null!=(t=this.Rk)?t:this._bt)}set ibt(t){this.obt=t;for(const i of this.dbt)i.ibt=t}get ibt(){return this.obt}gbt(t){return this.dbt[t]}wbt(t){for(let i=0;i<this.dbt.length;i++){const e=this.dbt[i],s=e.zN,n=s+e.ct;if(s<=t&&t<=n)return t===n&&i+1<this.dbt.length?this.dbt[i+1]:e}}Abt(t){for(let i=this.dbt.length-1;i>=0;i--){const e=this.dbt[i];if(e.zN<=t)return e}}vbt(t){let i=this.Abt(t);for(;i&&!i.JSt&&i.hbt>0;)i=this.gbt(i.hbt-1);return i}rbt(t,i,e){const s=t.IEt.length!==this.dbt.length||e!==this.sbt;this.lbt=i,this.sbt=e,this.Rk=t.ct,null!=this.bEt||(this.bEt=t.bEt),void 0===this.ubt&&(this.ubt=t.Pnt),s&&this.mbt(t.IEt)}mbt(t){this.dbt.length>t.length&&(this.dbt.length=t.length);let i=0;for(let e=0;e<t.length;e++){const s=t[e],n=this.sbt&&e===t.length-1,r=this.WN+i;if(e<this.dbt.length)this.dbt[e].rbt(r,n);else{const t=new Rq(this,e,r,n,s);this.dbt.push(t)}i+=s.ct}this._bt=i}pbt(){Ri(this.dbt),this._bt=0}constructor(t,i,e,s,n){this.T8=void 0,this.dbt=[],this._bt=0,this.WN=t,this.EEt=n.EEt,this.lbt=e,this.sbt=s,this.Rk=n.ct,this.bEt=n.bEt,this.ubt=n.Pnt,this.$St=n.$St,this.uEt=n.uEt,this.SEt=n.SEt,this.kEt=i,this.TEt=n.TEt,this.mbt(n.IEt)}};r(),function(t){t.ybt="YES",t.Mbt="v2"}(Bq||(Bq={})),r();var Jr=class extends Xo{};r(),r(),r();var Qq=class extends gn{get va(){return this.Xa||(this.Xa=function(t){return Ru(Rh(t),{get content(){return t.O},get class(){return t.SSt},get startDate(){return t.IP},get endDate(){return t.ESt},get duration(){return t.ct},get plannedDuration(){return t.bSt},get endOnNext(){return t.ISt},get scte35Cmd(){return t.CSt},get scte35Out(){return t.OSt},get scte35In(){return t.jSt},get customAttributes(){return t.LSt}})}(this)),this.Xa}get SSt(){return this.Tbt}get IP(){return this.Nbt}get ESt(){return this.Dbt}get ct(){return this.Rk}get bSt(){return this.Ibt}get ISt(){return this.Sbt}get CSt(){return this.Ebt}get OSt(){return this.bbt}get jSt(){return this.Lbt}get LSt(){return this.kbt}Qn(t){let i=!1;var e;(void 0===this.Tbt&&void 0!==t.SSt&&(i=!0,this.Tbt=t.SSt),void 0===this.Dbt&&void 0!==t.ESt&&(i=!0,this.Dbt=t.ESt),void 0===this.Rk&&void 0!==t.ct&&(i=!0,this.Rk=t.ct),void 0===this.Ibt&&void 0!==t.bSt&&(i=!0,this.Ibt=t.bSt),!this.Sbt&&t.ISt&&(i=!0,this.Sbt=t.ISt),i=this.updateCustomAttributes(t,i),void 0===this.Ebt&&void 0!==t.CSt&&(i=!0,this.Ebt=t.CSt),void 0===this.bbt&&void 0!==t.OSt&&(i=!0,this.bbt=t.OSt),void 0===this.Lbt&&void 0!==t.jSt&&(i=!0,this.Lbt=t.jSt),this.Cbt(),this.xbt(),this.Obt(),i)&&(this.Co(new gu(this)),null==(e=this.HN)||e.Co(new Da(this)))}updateCustomAttributes(t,i){let e=i;if(t.LSt)for(const i of _.keys(t.LSt))void 0===this.kbt[i]&&(e=!0,this.kbt[i]=t.LSt[i]);return e}Cbt(){this.Rk&&!this.Dbt&&(this.Dbt=new Date(this.Nbt.getTime()+Ut(this.Rk)))}xbt(){this.Dbt&&!this.Rk&&(this.Rk=YD(this.Dbt.getTime()-this.Nbt.getTime()))}Obt(){this.XN===1/0&&(this.Dbt||this.Rk)&&(this.XN=Fq(this.WN,this.Rk,this.Nbt,this.Dbt))}constructor(t,i){super(i,Fq(i,t.ct,t.IP,t.ESt),void 0,!1,t.o),this.Tbt=t.SSt,this.Nbt=t.IP,this.Dbt=t.ESt,this.Rk=t.ct,this.Ibt=t.bSt,this.Sbt=Boolean(t.ISt),this.kbt=t.LSt||{},this.Ebt=t.CSt,this.bbt=t.OSt,this.Lbt=t.jSt,this.Cbt(),this.xbt()}};function Fq(t,i,e,s){return j_(i)?t+i:s?t+(YD(s.getTime())-YD(e.getTime())):1/0}var Yq=class extends cx{Qn(t,i){Gq(this,Vq(t),i)}vE(t){Wq(this.L.xw,t),super.vE(t)}constructor(){super(void 0,void 0,Ks.DATE_RANGE)}};function Gq(t,i,e){const s=t.L.xw;for(let e=s.length-1;e>=0;e--){const n=s[e],r=X_(i,(t=>t.o===n.o));r?n.Qn(r):t.DS(n)}for(const s of i){const i=s.IP;if(void 0!==i&&!t.u0(s.o)){const n=e(i),r=new Qq(s,n);Wq(t.L.xw,r),t.vE(r)}}}function Vq(t){const i=Qt(),e=[];for(const s of t)if(i.has(s.o)){const t=i.get(s.o),e=At({},t,Eg(s),{LSt:At({},t.LSt,s.LSt)});i.set(s.o,e)}else i.set(s.o,s),e.push(s.o);return e.map((t=>i.get(t)))}function Wq(t,i){const e=K_(t,(t=>t.SSt===i.SSt));e&&e.ISt&&e.Qn({o:e.o,ESt:i.IP})}var Hq=String.fromCharCode(95),qq=Hq+"HLS_msn",Xq=Hq+"HLS_part",Zq=Hq+"HLS_skip",Kq="HLSMediaPlaylist",Jq=class{get xEt(){return Boolean(X_(this.yht,(t=>t.ebt)))}get ct(){return this.Rk}get yg(){return this.I$}get jbt(){return this.zbt}get vSt(){return this.Pbt}get ASt(){return this.Bbt}get sEt(){return this.xEt?0:this.Rbt?this.Rbt:this.Pbt?3*this.Pbt:void 0}get nEt(){var t;return null!=(t=this.Ubt)?t:this.Bbt?3*this.Bbt:void 0}get Qbt(){if(this.xEt)return;if(0===this.yht.length)return;const t=this.yht[this.yht.length-1];var i,e;const s=null!=(e=null!=(i=this.nEt)?i:this.sEt)?e:0;return t.PN-s}get tEt(){return this.Fbt}get iEt(){return this.Ybt}get eEt(){return this.Gbt}get jEt(){return this.Vbt}get Wbt(){return void 0!==this.ASt}get Hbt(){if(this.xEt)return!0;const t=lg.f_()/1e3,i=this.VEt,e=this.qbt;return void 0!==i&&t-i<e}get VEt(){return this.Xbt}get ibt(){return this.obt}get qbt(){var t;return null!=(t=this.Pbt)?t:void 0===this.Xbt?5:1}get bet(){return this.yht}get CEt(){return this.Zbt}get Kbt(){return this.Jbt}set Kbt(t){this.Jbt=t}get Cn(){return this.JI}get $bt(){return this.tLt}fIt(t){if(!t)return this.Pnt;const i=lg.Dh(this.Pnt);return void 0!==t.uEt&&i.searchParams.append(qq,String(t.uEt)),void 0!==t.iLt&&i.searchParams.append(Xq,String(t.iLt)),void 0!==t.Yp&&i.searchParams.append(Zq,t.Yp),i.href}dgt(t){const i=this.yht;if(0===i.length)return;const e=t-i[0].uEt;return e<0||e>=i.length?void 0:i[e]}eLt(t){if(0===this.yht.length)return;const i=gQ($q.gL,this.yht,t);if(!(i<0)){const e=this.yht[i];return t===e.PN&&i+1<this.yht.length?this.yht[i+1]:e}{const i=this.yht[this.yht.length-1];if(t===i.PN)return i}}sLt(t){if(0===this.yht.length)return;const i=this.yht[0];if(t<i.PN)return i;const e=this.yht[this.yht.length-1];return t>=e.zN?e:this.eLt(t)}qEt(t){const i=this.sLt(t);if(void 0===i)return;for(let e=i.uEt-this.yht[0].uEt;e>=0;e--){const i=this.yht[e];if(void 0!==i.bEt)return new Date(i.bEt.getTime()+1e3*(t-i.zN))}}XEt(t){let i;for(const e of this.yht)if(tX(e))if(void 0===i)i=e;else{if(!(e.bEt.getTime()<=t.getTime()))break;i=e}if(void 0!==i)return i.zN+(t.getTime()-i.bEt.getTime())/1e3}nLt(t){switch(t){case yt.dEt:return this.rLt;case yt.fEt:return this.hLt;default:return}}rbt(t){var i;void 0===this.Pbt&&(this.Pbt=null!=(i=t.BEt)?i:this.oLt(t));void 0===this.Rbt&&void 0!==t.sEt&&(this.Rbt=t.sEt),void 0===this.Bbt&&void 0!==t.ASt&&(this.Bbt=t.ASt),void 0===this.Ubt&&void 0!==t.nEt&&(this.Ubt=t.nEt),this.Fbt=t.tEt,this.Ybt=t.iEt,this.Gbt=t.eEt,this.Vbt=t.jEt,this.Iht(t),this.aLt(t);const e=X_(t.zEt,(t=>t.hA===yt.dEt)),s=X_(t.zEt,(t=>t.hA===yt.fEt));this.rLt=e?{Pnt:e.Pnt,hA:e.hA,kEt:t.kEt}:void 0,this.hLt=s?{Pnt:s.Pnt,hA:s.hA,kEt:t.kEt}:void 0,this.Xbt=lg.f_()/1e3,this.uLt(),null!=this.JI||(this.JI=t.Cn)}uLt(){this.zbt=this.cLt(),this.I$=this.lLt(this.zbt),this.Rk=this.dLt()}cLt(){const t=this.bet;if(0===t.length)return Ki.lR();const i=t[0].zN,e=t[t.length-1].PN;return new Ki([i,e])}lLt(t){if(0===t.U||this.xEt)return t;const i=t.Cn(0);var e,s;const n=t.jn(0)-(null!=(s=null!=(e=this.nEt)?e:this.sEt)?s:0);return n<i?Ki.uR(i):new Ki([i,n])}dLt(){return 0===this.yht.length?0:this.xEt?Fo(this.yht,(t=>{var i;return null!=(i=t.ct)?i:t.fbt})):1/0}oLt(t){let i;for(const e of t.bet)if(void 0!==e.ct){const t=x.max(1,x.round(e.ct));(void 0===i||i<t)&&(i=t)}if(void 0===i)throw new b("HLSModel - Could not determine required segment target duration.");return i}Iht(t){if(0===t.bet.length)return Ri(this.yht),void this.fLt();const i=this._Lt(t);if(!i)return;let e,s,n;i.gLt>0&&this.yht.splice(0,i.gLt);const r=t.oEt;if(r>0){if(r>this.yht.length)throw new Jr("New playlist skips over missing segments.");const i=this.yht[r-1];if(void 0===i.ct)throw new Jr("New playlist skips over an incomplete segment.");e=i.abt+i.ct,n=i.kEt-t.kEt,s=r;for(let t=0;t<r;t++)this.yht[t].pbt()}else e=i.wLt,n=0,s=0;for(let i=0;i<t.bet.length;i++,s++){const r=t.bet[i],h=0===i,o=t.xEt&&i===t.bet.length-1,a=r.ct,u=r.kEt+n;if(s<this.yht.length){const t=this.yht[s];0,t.rbt(r,h,o)}else{let t=r;if(this.yht.length>0&&void 0===t.EEt){t=At({},t,{EEt:this.yht[this.yht.length-1].EEt})}const i=new Uq(e,u,h,o,t);i.ibt=this.obt,this.yht.push(i)}void 0!==a&&(e+=a)}}_Lt(t){if(0===this.yht.length)return{gLt:0,wLt:0};const i=this.yht[0].uEt,e=this.yht[this.yht.length-1].uEt,s=t.bet[0].uEt-t.oEt,n=t.bet[t.bet.length-1].uEt;let r=0,h=0;if(s<i){const e=this.bet[0].bEt,n=t.bet[0].bEt;if(!(e&&n&&e<n))return void p.DIt(Kq,"Ignoring older playlist (first media sequence number is "+s+", but previous playlist already started at "+i+")");r=this.yht.length,this.fLt()}else{if(n<e)return void p.DIt(Kq,"Ignoring older playlist (last media sequence number is "+n+", but previous playlist already ended at "+e+")");if(e<s){var o;h=null!=(o=function(t,i){const e=K_(t,(t=>void 0!==t.bEt));if(void 0===e)return;const s=function(t){let i=0;for(const s of t){if(s.SEt)return;if(s.bEt)return[s,i];var e;i+=null!=(e=s.ct)?e:0}return}(i.bet);if(void 0===s)return;const[n,r]=s;if(e.kEt!==n.kEt)return;const h=(n.bEt.getTime()-e.bEt.getTime())/1e3;return e.abt+h-r}(this.yht,t))?o:function(t,i,e){const s=t[t.length-1];var n;const r=null!=(n=s.ct)?n:x.max(e,s.fbt),h=e*(i-s.uEt-1);return s.abt+r+h}(this.yht,s,this.Pbt),p.NIt(Kq,"New playlist (starting at "+s+") is entirely after previous playlist (ending at "+e+"), resetting playlist and restarting at "+h+"s"),r=this.yht.length,this.fLt()}else{0;const t=J_(this.yht,(t=>t.uEt===s));0,h=this.yht[t].abt,t>0&&(r=t)}}return{gLt:r,wLt:h}}aLt(t){let i=t.CEt.map(sq);if(t.eEt&&t.REt.Yp===Bq.Mbt&&(i=this.Zbt.concat(i)),this.Zbt=Vq(i),t.aEt)for(const i of t.aEt){const t=J_(this.Zbt,(t=>t.o===i));t>=0&&Dt(this.Zbt,t)}}ALt(t,i){if(this.obt!==t){this.obt=t;for(const t of this.yht)t.ibt=this.obt;this.uLt()}this.tLt=i}fLt(){this.obt=void 0,this.tLt=void 0}constructor(t,i){this.Xbt=void 0,this.rLt=void 0,this.hLt=void 0,this.Pbt=void 0,this.Bbt=void 0,this.Rbt=void 0,this.Ubt=void 0,this.yht=[],this.Zbt=[],this.Fbt=!1,this.Ybt=void 0,this.Gbt=!1,this.Vbt=Si.KT,this.I$=Ki.lR(),this.zbt=Ki.lR(),this.Rk=void 0,this.Jbt=-1/0,this.tLt=void 0,this.Pnt=t,this.JI=i}},$q=class t{static get gL(){return null!=this.Wet||(this.Wet=new t),this.Wet}Aht(t){return t.zN}vht(t){return t.PN}mht(t,i){return Ee(t,i)}pht(t,i,e){return(t-i)/(e-i)}};function tX(t){return void 0!==t.bEt}function Qh(t){return void 0!==t.IEt}function iX(t){return Qh(t)?t.cbt:0===t.hbt&&t.nbt.cbt}function eX(t,i){return Qh(t)?Qh(i)?t.uEt+1===i.uEt:0===i.hbt&&eX(t,i.nbt):t.hbt===t.nbt.IEt.length-1?eX(t.nbt,i):!Qh(i)&&t.nbt===i.nbt&&t.hbt+1===i.hbt}r(),r();var sX=class{vLt(t){const i=this.mLt.get(t);return void 0!==i&&nX(i)}pLt(t){return this.MLt(t).yLt.PL}TLt(t){const i=this.mLt.get(t);if(!i||!nX(i))throw new b("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return i}NLt(t){return this.TLt(t).CI}DLt(t,i){const e=Qh(i)?i:i.nbt,s=this.TLt(e.kEt);let n=t.mN(s.CI);if(s.ILt){const t=Pt.dI(i.zN).MD(n);if(t.mD().lD(Gm())){const i=x.round(t.cD()/zo().cD());n=n.mN(zo().KD(i))}}return n}SLt(t,i){return this.DLt(t,i).MD(t)}ELt(t,i,e,s,n){const r=this.MLt(t);void 0===r.CI&&(r.bLt.some((t=>t.gut===i))||(r.bLt.push({gut:i,LLt:e,kLt:s.aI(e.zy),ILt:n}),this.CLt(r)))}CLt(t){if(t.CI||!this.xLt(t))return;const i=eh(t.bLt,rX);Ri(t.bLt),t.CI=i.kLt.MD(i.LLt),t.ILt=i.ILt,t.yLt.jL()}xLt(t){return this.OLt.length>0&&this.OLt.every((i=>t.bLt.some((t=>t.gut===i))))}MLt(t){if(this.mLt.has(t))return this.mLt.get(t);{const i={CI:void 0,ILt:!1,yLt:new Eo,bLt:[]};return this.mLt.set(t,i),i}}jLt(t){this.OLt=t,this.mLt.forEach((t=>this.CLt(t)))}e_(){this.mLt.forEach((t=>t.yLt.c_())),this.mLt.clear()}constructor(){this.OLt=[],this.mLt=_e()}};function nX(t){return void 0!==t.CI}function rX(t,i){return t.ILt||i.ILt?function(t,i){let e=t.MD(i);return t.ND()||i.ND()||(e.fD(Gm())?e=e.MD(zo()):e.vD(Gm().yD())&&(e=e.mN(zo()))),e}(t.LLt,i.LLt).dD(Pt.LD):t.LLt.dD(i.LLt)}var hX=class{get zLt(){return this.PLt}get SIt(){return this.BLt}get WT(){return this.RLt}rbt(t,i){if(tq(t))if(0===this.BLt.length)this.ULt(t);else{if(!i)return void p.DIt("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");i.CDt.rbt(t)}else{if(0!==this.BLt.length)return void p.DIt("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.QLt(t)}}ULt(t){const i=this.FLt(t.Pnt);i.rbt(t);const e=this.YLt(Qn.mp,i),s=this.YLt(Qn.vp,i),n=new jq({Pnt:i.Pnt,Jz:0,xnt:0,Ont:NaN,bst:void 0,vIt:void 0,xst:0,FSt:[],VSt:void 0,qSt:void 0,YSt:void 0,HSt:void 0,WSt:void 0,GSt:void 0},i,[e,s]);this.BLt.push(n)}QLt(t){this.PLt.push(...t.TEt);const i=this.GLt(t);for(const e of t.NEt){const s=i.filter((t=>aX(t,e)));this.VLt(e,s);const n=new jq(e,this.FLt(e.Pnt,t.Cn),s);this.BLt.push(n)}}FLt(t,i){let e=this.WLt.get(t);return void 0===e&&(e=new Jq(t,i),this.WLt.set(t,e)),e}GLt(t){const i=[];for(const e of t.Fy)if(void 0===e.Pnt){for(const s of t.NEt)if(oX(e.hA,e.zDt,s)){const t=new AH(e,this.FLt(s.Pnt));i.push(t)}}else{const t=new AH(e,this.FLt(e.Pnt));i.push(t)}return i}YLt(t,i){return new AH({hA:t,Pnt:void 0,zDt:"",gs:void 0,USt:void 0,l:"",xDt:!0,ODt:!1,jDt:!1,RDt:void 0,PDt:void 0,QSt:void 0},i)}VLt(t,i){const e=i.filter((t=>t.hA===Qn.mp)),s=i.filter((t=>t.hA===Qn.vp)),n=t.bst&&(t.bst.gIt||t.bst._It);if((!n||t.bst.gIt)&&0===s.length){const e=this.YLt(Qn.vp,this.FLt(t.Pnt));i.push(e)}if((!n||t.bst._It)&&0===e.length){const e=this.YLt(Qn.mp,this.FLt(t.Pnt));i.push(e)}t.bst&&t.bst.zSt}HLt(t){for(const i of this.BLt)for(const e of i.OIt)if(e===t)return e}qLt(t){for(const i of this.BLt)if(i===t)return i}XLt(t){for(const i of this.BLt)if(ea(i.OIt,t))return i}e_(){Ri(this.BLt),Ri(this.PLt),this.WLt.clear(),this.RLt.e_()}constructor(t){this.ZLt=t,this.BLt=[],this.PLt=[],this.WLt=Qt(),this.RLt=new sX}};function oX(t,i,e){switch(t){case Qn.mp:return e.YSt===i;case Qn.vp:return e.HSt===i;case Qn.pp:return e.WSt===i;case Qn.RSt:return e.GSt===i}return!1}function aX(t,i){return oX(t.hA,t.zDt,i)&&(!t.BDt||t.CDt.Pnt===i.Pnt)}r();var uX=class extends Ag{constructor(t){super(Ir.KLt),this.qDt=t}};r();var Ir,cX=class extends Ag{constructor(t){super(Ir.JLt),this.qDt=t}},Wn="HlsModelUpdater";!function(t){t.KLt="$Lt",t.JLt="tkt"}(Ir||(Ir={}));var lX=class extends i{get ikt(){return this.ekt}get skt(){return this.nkt}get Tr(){return this.Xnt}get rkt(){return this.hkt}async okt(t){const i=this.Xnt.ZLt;if(!i)throw new b("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");this.Co(new he);const e=await this.akt(i,{},2,!0,t),s=e.CDt;if(!$H(s)&&!tq(s))throw new b("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");$H(s)||p.$y(Wn,"Detected media playlist only HLS stream."),this.ukt(s),e.ckt&&(this.nkt=!0,await this.lkt(t)),this.ekt=!0}async dkt(t,i,e,s){const n=this.Xnt.HLt(t);if(!n)throw new b("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");const r={uEt:i,iLt:e,Yp:gX(n)},h=Ut(x.max(1,3*t.CDt.qbt));try{await this.fkt(n,r,s,h)}catch(t){throw Ht(t),this._kt(n),t}}gkt(t,i){const e=this.Xnt.HLt(t);if(!e)throw new b("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");const s={uEt:void 0,iLt:void 0,Yp:gX(e)},n=Ut(x.max(1,3*t.CDt.qbt));return this.fkt(e,s,i,n)}wkt(t,i){return this.Akt.has(t.Vw)||this.Akt.set(t.Vw,new Eo),rl(this.Akt.get(t.Vw).PL,i)}_kt(t){this.Co(new cX(t))}async fkt(t,i,e,s){const n=t.CDt.fIt(i);let r;try{r=(await this.akt(n,i,0,this.nkt,e,s)).CDt}catch(i){throw Ht(i),t.CDt.Kbt=lg.f_(),i}if(!tq(r))throw new b("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");try{this.ukt(r,t)}catch(n){if(n instanceof Jr&&void 0!==i.Yp){const n=At({},i,{Yp:void 0});return this.fkt(t,n,e,s)}throw n}if(this.vkt&&t!==this.vkt&&!this.vkt.CDt.Hbt)try{await this.gkt(this.vkt,e)}catch(i){Ht(i),this.vkt=t,this.mkt()}this.pkt(t),this.vkt=t}async akt(t,i,e,s,n,r){if(p.$y(Wn,"Loading HLS playlist at "+t+"."),s){const i=await this.ykt(t,n);if(void 0!==i)return{CDt:i,ckt:!0}}return{CDt:await this.Mkt(t,i,e,n,r),ckt:!1}}async ykt(t,i){try{const e=await this.Cct.ret([t]);if(Pi(i),void 0!==e)return Oq(e.responseURL,{},e.data)}catch(t){Ht(t)}}async Mkt(t,i,e,s,n){const r={zu:t,rE:er.Ru,uE:this.bct,nE:Yc.GET,hA:Uu.QS,a_:s,NS:n},h=await Ou((()=>this.Tkt(r)),s,e);return Oq(h.AE,i,h.Cp)}async Tkt(t){const i=await this.gE.mS(t);return{Cp:await i.wE(),AE:i.AE}}async lkt(t){Pi(t);const i=[];for(const e of this.Xnt.SIt)for(const s of e.OIt)i.push(this.Nkt(s,t));await Promise.all(i)}async Nkt(t,i){try{const e=await this.Cct.ret([t.CDt.Pnt]);Pi(i),void 0===e||t.CDt.Hbt||await this.gkt(t,i)}catch(t){Ht(t)}}mkt(){for(const t of this.Xnt.SIt)for(const i of t.OIt)i!==this.vkt&&void 0!==i.CDt.ibt&&(i.CDt.Hbt?this.pkt(i):i.CDt.fLt())}pkt(t){if(0!==t.CDt.bet.length){if(!this.vkt)return this.vkt=t,void this.vkt.CDt.ALt(0,void 0);if(this.Dkt(this.vkt),!this.Dkt(t)&&void 0===t.CDt.ibt){const i=this.Ikt(t,this.vkt);p.NIt(Wn,"Assuming global timeline offset of "+i+"s for rendition "+t.CDt.Pnt+"."),t.CDt.ALt(i,void 0)}}}Ikt(t,i){if(dX(t)){const e=t.CDt.bet[0],s=i.CDt.bet[0];return p.NIt(Wn,"Synchronizing by start of VOD: "+s.zN+" vs "+e.zN),s.zN-e.abt}const e=function(t,i){let e=t.length-1,s=i.length-1;for(;e>=0&&s>=0;){const n=t[e],r=i[s];if(n.kEt>r.kEt)e--;else if(n.kEt<r.kEt)s--;else if(n.SEt){if(r.SEt)return{segment:n,referenceSegment:r};s--}else e--}return}(t.CDt.bet,i.CDt.bet);if(void 0!==e){const{segment:t,referenceSegment:i}=e;return p.NIt(Wn,"Synchronizing by start of discontinuity #"+i.kEt+": "+i.zN+" vs "+t.zN),i.zN-t.abt}const s=_X(t.CDt.bet);if(void 0!==s){const t=_X(i.CDt.bet);if(void 0!==t){p.NIt(Wn,"Synchronizing by PDT:",t.bEt.toISOString()+" vs "+s.bEt.getTime());return t.zN-s.abt-(t.bEt.getTime()-s.bEt.getTime())/1e3}}const n=fX(i),r=fX(t);var h;const o=null!=(h=t.CDt.ibt)?h:0;return p.NIt(Wn,"Synchronizing by last segment:",n+" vs "+r),n-r+o}Dkt(t){const i=this.Xnt.HLt(t);if(!i)return!1;if(dX(i))return!1;const e=function(t,i){return K_(t,(t=>void 0!==t.T8&&i.vLt(t.kEt)))}(i.CDt.bet,this.Xnt.WT);if(void 0===e)return!1;if(i.CDt.$bt===e.kEt)return!0;const s=this.Xnt.WT.DLt(e.T8,e).cD()-e.abt;return p.NIt(Wn,"Synchronize by media timestamp: "+s+"s for rendition "+t.CDt.Pnt+"."),i.CDt.ALt(s,e.kEt),(void 0===this.vkt||void 0===this.vkt.CDt.$bt||this.vkt.CDt.$bt<e.kEt)&&(this.vkt=i),!0}ukt(t,i){var e;(this.Xnt.rbt(t,i),tq(t)&&i)&&(this.hkt=i,this.Co(new uX(i)),null==(e=this.Akt.get(i.Vw))||e.jL(),this.Akt.delete(i.Vw));this.Co(new Nn)}Skt(t,i){for(const e of this.Xnt.SIt){const s=X_(e.bIt,(t=>t.CDt===i));void 0!==s&&void 0===t.gIt&&e.ZEt(s);const n=X_(e.EIt,(t=>t.CDt===i));void 0!==n&&void 0===t._It&&e.ZEt(n),void 0===s&&void 0===n||(e.bst=nq(e.bst,t))}}e_(){this.Vo(),this.Xnt.e_(),this.Akt.forEach((t=>t.c_())),this.Akt.clear()}constructor(t,i,e,s){super(),this.gE=t,this.Cct=i,this.bct=e,this.ekt=!1,this.nkt=!1,this.vkt=void 0,this.hkt=void 0,this.Akt=_e(),this.Xnt=new hX(s)}};function dX(t){return t.CDt.xEt||t.CDt.jEt===Si.lEt}function fX(t){const i=t.CDt.bet;return i[i.length-1].PN}function _X(t){return K_(t,(t=>void 0!==t.bEt))}function gX(t){if(void 0!==t.CDt.iEt&&!t.CDt.xEt&&!(void 0===t.CDt.VEt||lg.f_()/1e3-t.CDt.VEt>=t.CDt.iEt/2))return t.CDt.eEt?Bq.Mbt:Bq.ybt}var wX=class{get nt(){return this.QMt}aLt(t){if(0===t.CDt.CEt.length)return;this.Ekt||(this.Ekt=this.vP.dE(oa.Mp,void 0,void 0,void 0,void 0,Ks.DATE_RANGE),this.QMt.tt(this.Ekt));Gq(this.Ekt,t.CDt.CEt,(i=>{var e;return null!=(e=t.CDt.XEt(i))?e:NaN}))}constructor(t,i,e){this.bkt=t=>{this.Lkt.hlsDateRange&&this.aLt(t.qDt)},this.Lkt=t,this.Pdt=i,this.vP=e,this.QMt=new tn,this.Pdt.yn(Ir.KLt,this.bkt)}};r();var AX=class extends Ag{constructor(){super(Au.DDt)}};r(),r(),r();var Rr=class{get kkt(){return this.HK}get b_(){return zY(this.QAt.b_,this.QAt.EJ)}get bet(){return this.yht}get cvt(){return this.GMt}Ckt(t){var i;return null==(i=this.xkt(t))?void 0:i.qDt}uAt(t){this.HK=t,this.Okt()}olt(t,i,e,s,n,r){this.yht.push({qDt:t,Mht:i,jkt:Ki.cR(n,r),zkt:Ki.cR(e,s)}),this.Okt()}xkt(t){return X_(this.yht,(i=>i.zkt.gr(t)))}dgt(t){return X_(this.yht,(i=>i.Mht===t))}Krt(t,i){return X_(this.yht,(e=>e.qDt===t&&eX(e.Mht,i)))}NJ(){const t=this.b_;t.U>0&&(this.GMt=t.jn(t.U-1))}Okt(){const t=this.QAt.b_;this.yht=this.yht.filter((i=>0!==t.Sn(i.zkt).U))}constructor(t){this.QAt=t,this.yht=[],this.HK=void 0,this.GMt=void 0}},vX=class{get hA(){return this.v0}get Pkt(){return this.v0===rv.mp||this.v0===rv.vp}get Bkt(){return this.V_t}get Rkt(){return this.Ukt}get Qkt(){return void 0!==this.Fkt}Ykt(){if(this.Qkt)throw new b("Cannot perform new operation while BufferAppender is still busy")}WTt(t){this.QAt!==t&&(this.Ykt(),this.QAt=t,this.V_t=new Rr(t))}Gkt(){return this.Fkt?this.Fkt.PL:Promise.resolve()}Vkt(t){var i;const e=this.V_t.cvt,s=this.V_t.b_;if(void 0===e)return!1;const n=x.min(t,e);var r;return null!=(r=null==(i=s.QB().XB(this.Rkt).oR(n))?void 0:i.gr(e))&&r}Wkt(t){return this.V_t.Ckt(t)}c_(){this.aO.c_(),this.aO=new Ao}QK(t){this.Ykt(),this.Fkt=new Eo;const i=i=>{this.qkt.Hkt(t),this.Xkt(i)};this.FK(t,this.aO.a_).then(i,i)}async FK(t,i){p.NIt(rr,"Appending initializer",Nt(t.Zkt.Pnt)),await this.QAt.QK(t,i),p.NIt(rr,"Appended initializer",Nt(t.Zkt.Pnt)),this.V_t.uAt(t)}yAt(t){this.Ykt(),this.Fkt=new Eo;const i=i=>{this.qkt.Hkt(t),this.Xkt(i)};this.Kkt(t,this.aO.a_).then(i,i)}async Kkt(t,i){const e=t.qDt;if(void 0===e.CDt.vSt)throw new b("MediaBufferWrapper - Cannot append HLSAsset to "+this.v0+" MediaBuffer for a HLSRendition with an undefined targetDuration.");const s=this.V_t.b_.jB,n=this.QAt.b_;p.NIt(rr,"Appending",Nt(t.Zkt.Pnt)),await this.QAt.BK(t,i),p.NIt(rr,"Appended",Nt(t.Zkt.Pnt),s,this.V_t.b_.jB);const r=t.zN,h=r+t.ct,o=t.Zkt,a=o.zN;var u;const c=o.zN+(null!=(u=o.ct)?u:0);this.V_t.olt(e,o,r,h,a,c);const l=this.QAt.b_.XB(n),d=this.V_t.Krt(e,o);if(this.hA===rv.vp)if(d)if(this.Jkt(d))if(0===l.U){if(void 0===this.V_t.dgt(o)){const t=this.QAt.EJ.Sn(new Ki([r,h]));this.Ukt=this.Ukt.HB(t)}}else{const t=l.Cn(0),i=new Ki([t,h]);if(this.Ukt=this.Ukt.XB(i),t>r){const i=this.QAt.EJ.Sn(new Ki([r,t]));this.Ukt=this.Ukt.HB(i)}}else{const t=l.U>0&&l.Cn(0)<r?l.Cn(0):r;this.Ukt=this.Ukt.XB(new Ki([t,h]))}else if(0===l.U){const t=this.QAt.EJ.Sn(new Ki([r,h]));this.Ukt=this.Ukt.HB(t)}else{var f;const t=l.Cn(0),i=null==(f=n.oR(r))?void 0:f.jn(0),e=i&&i>r?i:r;if(t>e){const t=this.QAt.EJ.Sn(new Ki([e,l.Cn(0)]));this.Ukt=this.Ukt.HB(t)}}t.Zkt.ebt&&this.V_t.NJ()}Jkt(t){const i=t.zkt,e=i.Cn(0),s=i.jn(i.U-1),n=i.PB(0),r=i.RB(i.U-1);return this.Ukt.KB(e,s,n,r)}constructor(t,i,e,s,n){this.Fkt=void 0,this.aO=new Ao,this.Ukt=Ki.lR(),this.Xkt=t=>{this.Fkt&&(t?pc(t)&&this.Pkt?this.$kt.lW(this.QAt.b_.aR)?this.Fkt.jL():this.Fkt.zL(t):Oi(t)?this.Fkt.jL():this.Fkt.zL(t):this.Fkt.jL(),this.Fkt=void 0)},this.v0=t,this.qkt=e,this.QAt=i,this.V_t=s,this.$kt=n}};r(),r();var mX=class{async tCt(t,i,e,s){const n=await this.iCt(i,s);return await this.eCt.tCt(t,n,e)}async iCt(t,i){var e;if((null==(e=this.sCt)?void 0:e.zu)!==t){p.NIt("HLSDecryptor","Fetching new AES-128 decryption key from "+t+".");const e=await this.gE.mS({zu:t,rE:er.OS,nE:Yc.GET,a_:i,hA:Uu.GS,oE:So.JS,uE:this.bct}),s=await e.Kj(),n=new T(s);this.sCt={zu:t,Cp:n}}return this.sCt.Cp}constructor(t,i,e){this.eCt=t,this.gE=i,this.bct=e,this.sCt=void 0}};r();var pX=class{async mS(t,i,e,s,n){const r=await this.nCt(t,i,e,er.OS,s,n),h=await r.Kj(n);return{httpStatusCode:r.TS,response:new T(h)}}async rCt(t,i,e,s,n){return(await this.nCt(t,i,e,er.zS,s,n)).BG(n)}async nCt(t,i,e,s,n,r){let h;t.qht&&(h=JH(t.qht.Cn,t.qht.U),0===h[0]&&h[1]===Fa&&(h=void 0));const o=h?{Range:"bytes="+h[0]+"-"+h[1]}:void 0,a=new ec({zu:t.ST,rE:s,sE:o,uE:this.bct,nE:Yc.GET,hA:i,oE:e,aE:this.Agt,cE:n,a_:r});try{const i=await this.Cct.cet(t.ST,h);if(Pi(r),void 0!==i)return null==n||n(i.buffer.byteLength,i.buffer.byteLength),new Lh({mS:a,Cp:i.buffer})}catch(t){Ht(t)}return await Ou((()=>rl(this.gE.mS(a),a.a_)),r,this.hCt)}constructor(t,i,e,s,n=2){this.gE=t,this.Cct=i,this.Agt=e,this.bct=s,this.hCt=n}};r();var yX,MX=class{oCt(){return this.aCt.CDt.tEt}async uCt(t,i,e){if(!this.oCt())throw new b("Could not perform blocking playlist update.");try{await this.cCt(),Pi(e),await this.Pdt.dkt(this.aCt,t,i,e),this.An=lg.f_()}catch(t){throw Oi(t)&&this.lCt(),t}this.lCt()}dCt(t){return this.Pdt.wkt(this.aCt,t)}lCt(){if(!this.fCt&&!this._Ct){const t=()=>{this.fCt=void 0};this.fCt=this.gCt(this.wCt.a_).then(t,t)}}async cCt(){this.fCt&&(this.wCt.c_(),this.wCt=new Ao,await this.fCt.catch(xs),this.fCt=void 0)}async gCt(t){for(;;){if(this.aCt.CDt.xEt&&this.aCt.CDt.Hbt)return;const i=lg.f_()-this.An,e=1e3*this.aCt.CDt.qbt;i<e&&await ye(e-i,t);try{await this.Pdt.gkt(this.aCt,t)}catch(t){throw Ht(t),this.Pdt._kt(this.aCt),t}this.An=lg.f_()}}e_(){this._Ct=!0,W(this.cCt())}constructor(t,i){this.fCt=void 0,this.wCt=new Ao,this.An=-1/0,this._Ct=!1,this.Pdt=t,this.aCt=i,this.lCt()}};r(),function(t){t[t.dEt=0]="dEt",t[t.fEt=1]="fEt",t[t.FS=2]="FS",t[t.YS=3]="YS"}(yX||(yX={})),r(),r();var ha="AssetExtractor",TX=class{ACt(t,i,e){let s=i;for(const i of this.vCt){if(s>=t)return!0;if(s<i.Cn)return!1;if(s<i.jn){if(e<=i.jn)return!0;s=i.jn}}return s>=t}mCt(t,i){const e=[];for(let s=0;s<this.vCt.length;s+=1){const n=this.vCt[s],r=t-n.Cn,h=n.Cp.length,o=x.min(h,x.max(r,0)),a=x.max(0,i+r),u=jh(n.Cp,o,a);u.length&&(s=this.pCt(s,n,t,o,a),e.push(u))}return e}yCt(t,i){this.vCt.push({Cn:t,jn:t+i.length,Cp:i})}pCt(t,i,e,s,n){let r=t;this.vCt.splice(r,1),r-=1,i.Cn<e&&(r+=1,this.vCt.splice(r,0,{Cn:i.Cn,jn:e,Cp:jh(i.Cp,0,s)}));const h=e+n-s;return h<i.jn&&(r+=1,this.vCt.splice(r,0,{Cn:h,jn:i.jn,Cp:jh(i.Cp,n)})),r}constructor(){this.vCt=[]}},NX=class{get MCt(){return this.TCt}async NCt(){const t=await this.Nd.read();if(t.done)throw this.TCt=1/0,new b("No more data can be read from the given stream.");return this.TCt+=t.value.length,t.value}async DCt(t){await this.Nd.cancel(t)}constructor(t,i){this.TCt=i,this.Nd=t.getReader()}},DX=class{ICt(){this.SCt.jL(),this.SCt=new Eo}ECt(t){const{Xht:i,Zht:e}=SX(this.ubt.qht),s=this.bCt.mCt(i,e-i);p.NIt(ha,"Collected "+s.length+" chunks.");for(const i of s)t.enqueue(i)}async readAndSliceOutAssetBytes(t){await this.LCt.PL;const{Xht:i,Zht:e}=SX(this.ubt.qht);try{for(;;){const s=this.Nd.MCt,n=await this.Nd.NCt(),r=n.length;p.NIt(ha,"Read "+r+" at "+s+" for extraction of "+Nt(this.ubt));const h=x.min(s+r,i)-s;if(!(h>0)){if(s+r<=e)return p.NIt(ha,"Extracting the read data range for extraction of "+Nt(this.ubt)),t.enqueue(n),this.ICt(),W(this.readAndSliceOutAssetBytes(t));{const i=e-s,h=jh(n,0,i),o=jh(n,i);return h.length>0&&(p.NIt(ha,"Extracting "+h.length+" bytes for extraction of "+Nt(this.ubt)),t.enqueue(h)),p.NIt(ha,"Of the read "+r+" bytes, the last "+o.length+" will be stored locally for extraction of "+Nt(this.ubt)),this.bCt.yCt(s+i,o),p.NIt(ha,"Extraction of "+Nt(this.ubt)+" completed as the entire request has been fulfilled."),this.kCt(t),void(this.CCt&&(p.NIt(ha,"Aborting stream upstream as no more bytes are needed from "+Nt(this.ubt)+"."),await this.Nd.DCt("AssetExtraction - AbortOnEnd")))}}{const i=jh(n,0,h),e=jh(n,h);if(p.NIt(ha,"Of the read "+r+" bytes, the first "+h+" will be stored locally for extraction of "+Nt(this.ubt)),this.bCt.yCt(s,i),e.length>0)return p.NIt(ha,"Extracting "+e.length+" bytes for extraction of "+Nt(this.ubt)),t.enqueue(e),this.ICt(),W(this.readAndSliceOutAssetBytes(t))}}}catch(i){p.NIt(ha,"Extraction of "+Nt(this.ubt)+" completed as the entire source stream has been read."),this.kCt(t)}}kCt(t){t.close(),this.ICt(),this.xCt.jL()}start(t){p.NIt(ha,"Preparing to push all collected data to controller for extraction of "+Nt(this.ubt)),this.ECt(t),p.NIt(ha,"Collected data pushed to controller for extraction of "+Nt(this.ubt));const{Zht:i}=SX(this.ubt.qht);this.Nd.MCt>=i?(p.NIt(ha,"Extraction of "+Nt(this.ubt)+" completed as the entire request has been fulfilled."),this.kCt(t)):(p.NIt(ha,"Continuing read from original stream for extraction of "+Nt(this.ubt)),W(this.readAndSliceOutAssetBytes(t)))}get OCt(){return this.xCt.PL}pull(){return this.LCt.jL(),this.LCt=new Eo,this.SCt.PL}constructor(t,i,e,s){this.xCt=new Eo,this.ubt=t,this.Nd=i,this.bCt=e,this.CCt=s,this.LCt=new Eo,this.SCt=new Eo}},IX=class{yN(t){if(!iq(this.ubt,t))return!1;const{Xht:i,Zht:e}=SX(t.qht);return this.bCt.ACt(this.jCt.MCt,i,e)}async _Mt(t,i){void 0===i&&(i=!1);const e=this.jCt,s=this.bCt;if(p.$y(ha,"Extracting data from "+Nt(t)+" out of "+Nt(this.ubt)),this.zCt&&(p.NIt(ha,"Awaiting previous extraction before extracting "+Nt(t)+" out of "+Nt(this.ubt)),await this.zCt),!this.yN(t))throw new b("The extractor does not contain the data requested");const n=new DX(t,e,s,i);return this.zCt=n.OCt,new f(n)}constructor(t,i){this.ubt=i;const{Xht:e}=SX(this.ubt.qht);this.jCt=new NX(t,e),this.bCt=new TX}};function SX(t){if(t){const i=t.Cn;return{Xht:i,Zht:void 0!==t.U?i+t.U:Fa}}return{Xht:0,Zht:Fa}}var EX=class{async $n(){const t=await this.PCt.rCt(this.ubt,Uu.YS,So.KT,void 0,this.aO.a_);return new IX(t,this.ubt)}yN(t){return iq(this.ubt,t)}async _Mt(t,i){void 0===i&&(i=!1);const e=await this._vt;return await rl(e._Mt(t,i),this.aO.a_)}c_(){this._vt.catch(xs),this.aO.c_()}constructor(t,i){this.ubt=t,this.PCt=i,this.aO=new Ao,this._vt=this.$n()}};r();var bX=class extends Ag{constructor(t){super(gr.BCt),this.aE=t}};r();var LX=class extends Ag{constructor(t,i,e,s,n,r,h){super(gr.RCt),this.uri=t,this.UCt=i,this.aE=e,this.mediaSequenceNumeber=s,this.mediaTrackId=n,this.QCt=r,this.httpStatusCode=h}};function kX(t,i,e){const s=Qh(e)?e:e.nbt;if(i.vLt(s.kEt)){if(void 0!==e.T8)return i.DLt(e.T8,e).cD();if(e!==s&&void 0!==s.T8){const t=i.DLt(s.T8,s).cD();return e.zN+(t-s.zN)}}const n=t.CDt.dgt(s.uEt-1);if(void 0!==n&&i.vLt(n.kEt)){if(n.IEt.length>0){const t=n.gbt(n.IEt.length-1);if(void 0!==t.T8){const s=i.DLt(t.T8,t).cD();return e.zN+(s-t.zN)}}if(void 0!==n.T8){const t=i.DLt(n.T8,n).cD();return e.zN+(t-n.zN)}}const r=t.CDt.dgt(s.uEt+1);if(void 0!==r&&i.vLt(r.kEt)){if(r.IEt.length>0){const t=r.gbt(0);if(void 0!==t.T8){const s=i.DLt(t.T8,t).cD();return e.zN+(s-t.zN)}}if(void 0!==r.T8){const t=i.DLt(r.T8,r).cD();return e.zN+(t-r.zN)}}return e.zN}r();var gr,CX="HlsPlaylistDownloader";!function(t){t.BCt="segmentdownloadprogress",t.RCt="segmentdownloaded"}(gr||(gr={}));var xX=class extends i{FCt(t){this.YCt.e_(),this.YCt=new MX(this.Pdt,t),this.Qkt?this.GCt=t:(this.aCt=t,this.VCt=0,this.WCt=void 0,this.HCt=void 0)}get Qkt(){return void 0!==this.qCt}Gkt(){return this.qCt?this.qCt.PL:Promise.resolve()}XCt(){return this.qkt.XCt()}ZCt(t){this.qkt.ZCt(t)}c_(){var t,i,e;this.KCt.c_(),this.KCt=new Ao,null==(t=this.JCt)||t.c_(),this.JCt=void 0,null==(i=this.$Ct)||i.c_(),null==(e=this.txt)||e.c_(),this.$Ct=void 0,this.txt=void 0,this.VCt=0,this.WCt=void 0,this.HCt=void 0}e_(){this.YCt.e_()}get qDt(){var t;return null!=(t=this.GCt)?t:this.aCt}get ixt(){if(!this.aCt.CDt.xEt||void 0===this.WCt)return!1;const t=this.aCt.CDt.dgt(this.WCt);if(!t.ebt)return!1;if(void 0!==this.HCt){if(!t.gbt(this.HCt).ebt)return!1}return!0}ext(t){const i=this.aCt.CDt.eLt(t);if(!i)return!1;if(void 0!==this.WCt){const e=i.uEt===this.WCt;return void 0!==this.HCt?i.wbt(t)===i.gbt(this.HCt)&&e:e}return!1}sxt(t){let i;if(void 0===this.WCt||t<this.VCt)i=this.nxt(t);else if(i=this.rxt(this.WCt,this.HCt),void 0!==i){const[e,s]=i,n=(null!=s?s:e).zN,r=3*this.aCt.CDt.vSt;x.abs(n-t)>=r&&(i=this.nxt(t))}else if(this.aCt.CDt.xEt){if(this.aCt.CDt.dgt(this.WCt).ebt&&(i=this.nxt(t),void 0!==i&&i[0].uEt===this.WCt))return}if(i){this.VCt=t;const[e,s]=i;return 0===(null==s?void 0:s.hbt)&&void 0!==e.ct?[e,void 0]:[e,s]}}nxt(t){let i,e;const s=this.aCt.CDt.bet;if(0===s.length)return;const n=this.Pdt.Tr.WT,r=Pt.dI(t),[h,o]=function(t,i,e){const s=t.CDt.bet;if(0===s.length)return[void 0,void 0];const n=t.CDt.sLt(e.cD());if(!i.vLt(n.kEt))return[void 0,void 0];const r=n.uEt-s[0].uEt;let h,o,a,u=0;for(let t=r;t>=0;t--){const i=s[t];if(i.kEt!==n.kEt)break;if(void 0!==i.T8){h=i,u=t;break}}if(void 0===h){for(let t=r+1;t<s.length;t++){const i=s[t];if(i.kEt!==n.kEt)break;if(void 0!==i.T8){h=i,u=t;break}}if(void 0===h)return[void 0,void 0]}if(i.DLt(h.T8,h).gD(e)){o=h;for(let t=u+1;t<s.length;t++){const r=s[t];if(r.kEt!==n.kEt)break;if(void 0!==r.T8){if(!i.DLt(r.T8,r).gD(e)){a=r;break}o=r}}}else{a=h;for(let t=u-1;t>=0;t--){const r=s[t];if(r.kEt!==n.kEt)break;if(void 0!==r.T8){if(i.DLt(r.T8,r).gD(e)){o=r;break}a=r}}}return[o,a]}(this.aCt,n,r);let a;if(void 0!==h&&void 0!==o){const t=n.DLt(h.T8,h),i=n.DLt(o.T8,o),e=r.MD(t).cD()/i.MD(t).cD()*(o.zN-h.zN);a=h.zN+e}else a=t;const u=s[s.length-1];return u.PN<=a?(i=u,e=u.vbt(a)):s[0].zN>a?(i=s[0],e=i.gbt(0)):(i=this.aCt.CDt.eLt(a),e=null==i?void 0:i.vbt(a)),i?[i,e]:void 0}rxt(t,i){let e,s;if(e=this.aCt.CDt.dgt(t),e&&void 0!==i){if(0===e.IEt.length)return[e,void 0];s=e.gbt(i+1)}return void 0!==e&&void 0!==s||(e=this.aCt.CDt.dgt(t+1),s=null==e?void 0:e.gbt(0)),e?[e,s]:void 0}Ykt(){if(this.Qkt)throw new b("Cannot perform new operation while PlaylistDownloader is still busy")}hxt(t){this.Ykt(),this.qCt=new Eo,this.oxt(t,this.KCt.a_).then(this.axt,this.axt)}uxt(){this.YCt.lCt()}async oxt(t,i){if(this.aCt.CDt.xEt)return;let e=this.sxt(t);for(!e&&this.YCt.oCt()&&void 0!==this.WCt&&(await this.YCt.uCt(void 0===this.HCt?this.WCt+1:this.WCt,void 0!==this.HCt?this.HCt+1:void 0,i),e=this.sxt(t)),!e&&this.YCt.oCt()&&void 0!==this.WCt&&(await this.YCt.uCt(this.WCt+1,0,i),e=this.sxt(t));!e;){p.$y(CX,"No next segment / part available, need to update playlist before continuing."),await this.YCt.dCt(i);const s=this.qDt.CDt.bet;s[0].zN>t&&(this.HCt=void 0,this.WCt=void 0);s[s.length-1].uEt<this.WCt&&(this.HCt=void 0,this.WCt=void 0),e=this.sxt(t)}}cxt(){return this.qkt.lxt()}dxt(){this.Ykt();try{const t=this.aCt.CDt.nLt(yt.dEt);t&&this.fxt(t);const i=this.aCt.CDt.nLt(yt.fEt);i&&this._xt(i)}catch(t){throw Ht(t),this.aCt.CDt.Kbt=lg.f_(),this.Pdt._kt(this.aCt),t}}fxt(t){this.txt&&!this.txt.yN(t.Pnt)&&(this.txt.c_(),this.txt=void 0),this.txt||(this.txt=new EX(t.Pnt,this.PCt))}_xt(t){this.$Ct&&!this.$Ct.yN(t.Pnt)&&(this.$Ct.c_(),this.$Ct=void 0),this.$Ct||(this.$Ct=new EX(t.Pnt,this.PCt))}lgt(t,i,e){this.Ykt(),p.$y(CX,"Starting download of segment "+Nt(t.Pnt)+" and part "+(null==i?void 0:i.hbt)),this.qCt=new Eo,this.gxt(t,i,e,this.KCt.a_).catch((t=>{throw Ht(t),this.aCt.CDt.Kbt=lg.f_(),this.Pdt._kt(this.aCt),t})).then(this.axt,this.axt)}async gxt(t,i,e,s){let n;if(t.EEt){var r,h;if(!e||!eq(e.Zkt.Pnt,null==(r=t.EEt)?void 0:r.Pnt)||t.kEt!==e.kEt){var o;null==(o=this.JCt)||o.c_(),this.JCt=new Eo;const i=this.wxt(t.EEt,t,s).then((()=>{this.JCt=void 0}));this.JCt.l_(i)}n=null==(h=this.JCt)?void 0:h.PL}await this.Axt(t,i,n,s)}async wxt(t,i,e){const s=await this.vxt(t,i,e),n=s.EEt.Cp.Cp.byteLength;this.qkt.mxt(s),this.Co(new LX(s.EEt.Zkt.Pnt,s.hA,this.v0,i.uEt,s.qDt.Vw,n,s.EEt.cwt)),p.NIt(rr,"Download initializer complete",Nt(t.Pnt))}async Axt(t,i,e,s){const n=await this.pxt(t,i,s),r=n.Mht.Cp.Cp.byteLength;var h;e&&await rl(e,s),this.qkt.mxt(n),this.Co(new LX(n.Mht.Zkt.Pnt,n.hA,this.v0,t.uEt,n.qDt.Vw,r,n.Mht.cwt)),p.NIt(rr,"Download complete",Nt(null!=(h=null==i?void 0:i.Pnt)?h:t.Pnt))}async pxt(t,i,e){let s;if(i){if(this.$Ct)if(this.$Ct.yN(i.Pnt)){const t=await this.$Ct._Mt(i.Pnt),n=await Ft(t,e),r=new T(n);s=jX(i,await this.tCt(r,i.TEt,e),200)}else this.$Ct.c_(),this.$Ct=void 0;s||(p.NIt(rr,"Start download",Nt(i.Pnt)),s=await this.yxt(i,e))}else p.NIt(rr,"Start download",Nt(t.Pnt)),s=await this._gt(t,e);return this.WCt=t.uEt,this.HCt=null==i?void 0:i.hbt,{hA:"Mht",Mht:s,qDt:this.aCt,kEt:t.kEt}}async vxt(t,i,e){let s;if(this.txt){var n;if(this.txt.yN(t.Pnt)){const n=await rl(this.txt._Mt(t.Pnt),e),r=await Ft(n,e),h=new T(r);s=OX(t,i,await this.tCt(h,t.DEt?[t.DEt]:[],e),200)}p.$y(CX,"MAP is required for segment, downloading MAP data."),null==(n=this.txt)||n.c_(),this.txt=void 0}return s||(p.NIt(rr,"Start download",Nt(t.Pnt)),s=await this.Mxt(t,i,e)),{hA:"EEt",EEt:s,qDt:this.aCt,zN:i.zN,kEt:i.kEt,TEt:i.TEt}}async Mxt(t,i,e){const{response:s,httpStatusCode:n}=await this.PCt.mS(t.Pnt,Uu.FS,So.VS,void 0,e),r=t.DEt?[t.DEt]:[];return OX(t,i,await this.tCt(s,r,e),n)}async _gt(t,i){if(!t.Pnt)throw new b("Internal error: attempted to download an incomplete segment");let e,s;try{this.Txt(t);const n=await this.PCt.mS(t.Pnt,Uu.FS,So.KT,this.Nxt,i);e=n.response,s=n.httpStatusCode}finally{this.Dxt()}return function(t,i,e){return{Cp:{Cp:i,hA:at.CH},hA:yX.FS,cwt:e,Zkt:t,kEt:t.kEt}}(t,await this.tCt(e,t.TEt,i),s)}async yxt(t,i){let e,s;try{this.Txt(t);const n=await this.PCt.mS(t.Pnt,Uu.FS,So.KT,this.Nxt,i);e=n.response,s=n.httpStatusCode}finally{this.Dxt()}return jX(t,await this.tCt(e,t.TEt,i),s)}async tCt(t,i,e){const s=X_(i,(t=>t.nE===la.XSt));return s?s.Pnt&&s.ZSt?await this.Ixt.tCt(t,s.Pnt,s.ZSt,e):(p.lt(CX,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),t):t}Txt(t){var i,e,s;this.Sxt=t,this.Ext=0,this.bxt=0,this.Lxt=null!=(s=null==(e=t.Pnt)||null==(i=e.qht)?void 0:i.U)?s:0}Dxt(){this.Sxt=void 0,this.Ext=0,this.bxt=0,this.Lxt=0}kxt(){if(void 0!==this.Sxt)return{Mht:this.Sxt,Cxt:this.bxt,xxt:this.Lxt}}Oxt(t){return void 0!==this.Sxt&&(0!==this.Ext&&(0!==this.Lxt&&(!(this.bxt>=this.Lxt)&&!(t-this.Ext<500))))}constructor(t,i,e,s,n,r,h,o){super(),this.GCt=void 0,this.qCt=void 0,this.Sxt=void 0,this.Ext=0,this.bxt=0,this.Lxt=0,this.KCt=new Ao,this.JCt=void 0,this.VCt=0,this.WCt=void 0,this.HCt=void 0,this.txt=void 0,this.$Ct=void 0,this.axt=t=>{this.GCt&&(this.aCt=this.GCt,this.GCt=void 0,this.VCt=0,this.WCt=void 0,this.HCt=void 0),this.qCt&&(t&&!Oi(t)?this.qCt.zL(t):this.qCt.jL(),this.qCt=void 0)},this.Nxt=(t,i)=>{this.bxt=t,t>0&&0===this.Ext&&(this.Ext=lg.f_()),void 0!==i&&(this.Lxt=i),this.Co(new bX(this.v0))},this.v0=t,this.Pdt=e,this.qkt=s,this.aCt=i,this.YCt=new MX(e,i),this.Ixt=new mX(h,n,o),this.PCt=new pX(n,r,function(t){switch(t){case Qn.vp:return nn.vp;case Qn.mp:return nn.mp;case Qn.pp:case Qn.RSt:return nn.Ru;default:return nn.KT}}(i.hA),o)}};function OX(t,i,e,s){return{Cp:{Cp:e,hA:at.CH},hA:yX.dEt,cwt:s,Zkt:t,kEt:i.kEt}}function jX(t,i,e){return{Cp:{Cp:i,hA:at.CH},cwt:e,hA:yX.fEt,Zkt:t,kEt:t.nbt.kEt}}r();var zX=class{get kkt(){return this.jxt}get zxt(){const t=[];for(const e of this.Pxt)if("Mht"===e.hA){const s=e.Mht.Zkt,n=kX(e.qDt,this.RLt,s);var i;t.push({Mht:s,qDt:e.qDt,zN:n,PN:n+(null!=(i=s.ct)?i:0)})}return t}get Bxt(){const t=[];return this.Rxt.forEach((i=>{for(const e of i.Uxt)"Mht"===e.hA&&t.push({Mht:e.Zkt,qDt:e.qDt,zN:e.zN,PN:e.zN+e.ct})})),t}mxt(t){"EEt"===t.hA&&(this.jxt=t.EEt),this.Pxt.push(t),this.Qxt&&(this.Qxt.jL(),this.Qxt=void 0)}XCt(){return this.Pxt[0]}ZCt(t){Et(this.Pxt,t)}lxt(){return null!=this.Qxt||(this.Qxt=new Eo),this.Qxt.PL}Fxt(t){this.Yxt(t.gut).Fxt(t)}Gxt(t){return this.Yxt(t).Gxt()}Hkt(t){this.Yxt(t.gut).Hkt(t)}Vxt(t){var i;null==(i=this.Rxt.get(t))||i.e_()}Wxt(t){return this.Yxt(t).Wxt()}Yxt(t){if(this.Rxt.has(t))return this.Rxt.get(t);{const i=new PX;return this.Rxt.set(t,i),i}}OL(){this.Hxt(),this.qxt()}Hxt(){this.jxt=void 0,Ri(this.Pxt)}qxt(){this.Rxt.forEach((t=>t.OL()))}e_(){this.Rxt.forEach((t=>t.e_())),this.Rxt.clear(),this.OL(),this.Qxt&&(this.Qxt.c_(),this.Qxt=void 0)}constructor(t){this.Pxt=[],this.Rxt=Qt(),this.Qxt=void 0,this.jxt=void 0,this.RLt=t}},PX=class{get Uxt(){return this.Xxt}Fxt(t){this.Xxt.push(t),this.Zxt&&(this.Zxt.jL(),this.Zxt=void 0)}Gxt(){return this.Xxt[0]}Hkt(t){Et(this.Xxt,t)}Wxt(){return null!=this.Zxt||(this.Zxt=new Eo),this.Zxt.PL}OL(){Ri(this.Xxt)}e_(){this.OL(),this.Zxt&&(this.Zxt.c_(),this.Zxt=void 0)}constructor(){this.Xxt=[],this.Zxt=void 0}};r();var BX=1e-6,RX=class{get b_(){return this.gNt}get EJ(){return this.wNt}async QK(t,i){const e=t.Cp.Cp;if(this.Kxt(e),this.Jxt.hA===Ks.TTML){this.RLt.vLt(t.kEt)||await rl(this.RLt.pLt(t.kEt),i);const s=this.$xt(e,t.kEt);for(const t of s)this.Jxt.vE(t)}}async BK(t,i){if(void 0===t.Cp)return;const e=t.zN,s=e+t.ct;this.gNt=this.gNt.HB(Ki.cR(e,s)).WB(BX),this.kJ(t.tOt,t.iOt),this.CJ(e,s),this.RLt.vLt(t.kEt)||await rl(this.RLt.pLt(t.kEt),i),this.UK(t.Cp.Cp,t.kEt,t.Zkt)}UK(t,i,e){let s;this.Kxt(t),s=this.Jxt.hA===Ks.WEBVTT?this.eOt(t,e):this.$xt(t,i);for(const t of s)this.Jxt.vE(t)}eOt(t,i){const e=$m(t),s=e.L;var n;const r=null!=(n=e.jI)?n:{zI:Pt.LD,lh:Pt.LD};for(const t of s){const e=Pt.dI(t.zN).MD(r.lh).mN(r.zI),s=this.RLt.DLt(e,i).cD(),n=s+(t.PN-t.zN);t.iD(s,n)}return s}$xt(t,i){const e=this.RLt.NLt(i).cD();return Fp(t,this.Jxt,{LI:0,kI:1/0,CI:e},Ml.APPLICATION_MP4)}Kxt(t){this.Jxt.hA===Ks.DEFAULT&&(this.Jxt.hA=this.sOt(t)?Ks.WEBVTT:Ks.TTML)}sOt(t){return cp(VA(cn(Mo(t),0,x.min(t.byteLength,16)),new Or))}kJ(t,i){this.wNt=this.wNt.HB(Ki.cR(t,i)).WB(BX)}CJ(t,i){this.wNt=this.wNt.XB(Ki.cR(t,i))}constructor(t,i){this.gNt=Ki.lR(),this.wNt=Ki.lR(),this.Jxt=t,this.RLt=i}};r(),r(),r();var UX=class extends Ag{constructor(t,i){super(Lu.nOt),this.qDt=t,this.bst=i}};r();var QX=class extends Ag{constructor(t){super(Lu.rOt),this.qDt=t}};r();var FX=class extends Ag{constructor(t,i){super(Lu.hOt),this.qDt=t,this.xst=i}};r();var Lu,YX=class extends Ag{constructor(t,i){super(Lu.oOt),this.qDt=t,this.aOt=i}};!function(t){t.nOt="uOt",t.hOt="cOt",t.oOt="lOt",t.rOt="dOt"}(Lu||(Lu={}));var sc=class extends i{get fOt(){return this._Ot}gOt(t){for(const i of this._Ot)ea(t,i)||this.qkt.Vxt(i);this._Ot=t}get Qkt(){return void 0!==this.wOt}Gkt(){var t,i;return null!=(i=null==(t=this.wOt)?void 0:t.PL)?i:Promise.resolve()}Ykt(){if(this.Qkt)throw new b("Cannot perform new operation while transmuxer is still busy")}AOt(t,i){}vOt(t){this.Ykt(),this.wOt=new Eo;const i=i=>{this.mOt(t,i)};this.pOt(t,this.aO.a_).then(i,i)}yOt(t){this.Ykt(),this.wOt=new Eo;const i=i=>{this.mOt(t,i)};this.MOt(t,this.aO.a_).then(i,i)}mOt(t,i){this.wOt&&(!i||Oi(i)?(i||this.qkt.ZCt(t),this.wOt.jL(),this.wOt=void 0):this.wOt.zL(i))}TOt(t,i){this.Co(new UX(t,i))}NOt(t,i){this.Co(new FX(t,i))}DOt(t,i,e){iX(i)&&this.Co(new YX(t,e))}IOt(t){this.Co(new QX(t))}Fxt(t){ea(this._Ot,t.gut)&&this.qkt.Fxt(t)}SOt(t){return this.qkt.Gxt(t)}Hkt(t){this.qkt.Hkt(t)}EOt(t){return this.qkt.Wxt(t)}c_(){this.aO.c_(),this.aO=new Ao}constructor(t,i,e){super(),this.wOt=void 0,this.aO=new Ao,this.qkt=t,this.RLt=i,this._Ot=e}};function GX(t,i){return iX(t)?0:x.min(t.zN,i)}function VX(t,i){var e;return x.max(t.zN,i)+(null!=(e=t.ct)?e:0)}var WX=class extends sc{pOt(t,i){Pi(i);const e={hA:"bOt",Cp:t.EEt.Cp,gut:this.fOt[0],kEt:t.kEt,LOt:{bst:"",TEt:t.TEt},zN:t.zN,qDt:t.qDt,Zkt:t.EEt.Zkt};return this.Fxt(e),Promise.resolve()}async MOt(t,i){Pi(i);const e=t.Mht.Zkt;let s;void 0!==e.T8?(this.RLt.vLt(t.kEt)||await rl(this.RLt.pLt(t.kEt),i),s=this.RLt.DLt(e.T8,e).cD()):s=e.zN;const n=GX(e,s),r=VX(e,n);var h;const o={hA:"Mht",Cp:t.Mht.Cp,gut:this.fOt[0],tOt:n,iOt:r,zN:s,ct:null!=(h=e.ct)?h:0,CI:0,kEt:t.kEt,qDt:t.qDt,Zkt:t.Mht.Zkt};this.Fxt(o)}constructor(t,i,e){super(t,i,[e])}};function HX(t,i){let e=Ki.lR();for(const s of t){let n=s.zN;if(s.qDt.CDt.xEt&&iX(s.Mht))n=0;else{const e=t=>s.qDt===t.qDt&&eX(t.Mht,s.Mht),r=X_(t,e);if(void 0!==r)n=x.min(n,r.PN);else{const t=X_(i,e);void 0!==t&&(n=x.min(n,t.zkt.jn(0)))}}e=e.HB(Ki.cR(n,s.PN))}return e}r();var qX=.001,XX=class{get kOt(){return this.COt}get xOt(){return this.OOt}get jOt(){return this.zOt}get POt(){return this.qkt}get qDt(){return this.OOt.qDt}FCt(t){this.OOt.FCt(t)}BOt(t){const i=t.slice();for(let t=this.COt.length-1;t>=0;t--){const e=this.COt[t];if(!e.Pkt)throw new b("Invalid state");const s=J_(i,(t=>t.hA===e.hA));s>=0?(e.WTt(i[s]),Dt(i,s)):Dt(this.COt,t)}for(const t of i){const i=new Rr(t);this.COt.push(new vX(t.hA,t,this.qkt,i,this))}i.length>0&&this.qkt.OL();const e=t.map((t=>t.hA));this.zOt.gOt(e)}lW(t){var i;const e=(null==(i=this.yR)?void 0:i.lW(t))||!1;return e&&(this.c_(),this.POt.OL()),e}ROt(t){for(const t of this.COt)if(t.hA!==rv.Ru||t.Qkt)throw new b("Invalid state");const i=new Rr(t),e=new vX(rv.Ru,t,this.qkt,i,this);this.COt=[e]}get kkt(){const t=this.qkt.kkt;if(t)return t;if(this.COt.length>0){const t=this.COt[0].Bkt.kkt;if(t&&this.COt.every((i=>i.Bkt.kkt===t)))return t}}ugt(){for(const t of this.COt)t.Bkt.Okt()}get UOt(){if(0===this.COt.length)return Ki.lR();const t=HX(this.qkt.zxt.concat(this.qkt.Bxt),Eh(this.COt,(t=>t.Bkt.bet))).QB();let i=new Ki([0,1/0]);for(const t of this.COt)i=i.Sn(t.Bkt.b_);for(const t of this.COt)i=i.XB(t.Rkt);return i=i.HB(t),i}get QOt(){if(0===this.COt.length)return Ki.lR();const t=HX(this.qkt.Bxt,Eh(this.COt,(t=>t.Bkt.bet))).QB();let i=new Ki([0,1/0]);for(const t of this.COt)i=i.Sn(t.Bkt.b_);return i=i.HB(t),i}AAt(t){const i=this.UOt.oR(t,qX);return i?i.jn(i.U-1):t}ext(t){return!!this.UOt.oR(t,qX)||this.OOt.ext(t)}FOt(t){return this.QOt.gr(t,qX)}YOt(t,i,e){for(const t of this.COt){const e=t.Bkt,s=e.cvt;if(void 0!==s&&i>=s&&!e.b_.QB().gr(s))return!0}return i-t<e}c_(){this.GOt(),this.VOt()}GOt(){this.xOt.c_()}VOt(){this.jOt.c_(),this.kOt.forEach((t=>t.c_()))}e_(){this.c_(),this.xOt.e_()}constructor(t,i,e,s){this.OOt=t,this.qkt=i,this.zOt=e,this.yR=s,this.COt=[]}};r();var ZX=class extends Ag{constructor(){super(Au.EDt)}};r();var KX=class extends Ag{constructor(){super(Au.IDt)}};r(),r();var JX="LazyMediaBuffer",$X=class extends i{get LP(){return this.qx}get IJ(){return this.v0}get wd(){if(!this.QAt)throw new ce(p_.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.QAt.wd}get ZV(){return this.rW}set ZV(t){this.rW=t,this.QAt&&(this.QAt.ZV=t)}tq(){return this.QAt?this.QAt.tq():this.WOt}get b_(){return this.QAt?this.QAt.b_:Ki.lR()}get EJ(){return this.QAt?this.QAt.EJ:this.bJ.uq}get tW(){return this.aW}set tW(t){this.aW=t,this.QAt&&(this.QAt.tW=t)}kJ(t,i){p.NIt(JX,"Marking gap from "+t+" to "+i+"."),this.bJ.lq(t,i),this.QAt&&this.QAt.kJ(t,i)}CJ(t,i){p.NIt(JX,"Removing gap from "+t+" to "+i+"."),this.bJ.dq(t,i),this.QAt&&this.QAt.CJ(t,i)}HOt(t){this.QAt=t,this.QAt.tW=this.aW,this.QAt.ZV=this.rW;const i=this.bJ.uq;for(let t=0;t<i.U;t++)this.QAt.kJ(i.Cn(t),i.jn(t));var e;this.WOt&&(p.NIt(JX,"End of stream"),null==(e=this.QAt)||e.NJ());this.QAt.yn(bi.LH,this.Ds),this.qOt.jL(t)}XOt(t){return rl(this.qOt.PL,t)}async BK(t,i,e){const s=await this.XOt(e);await s.BK(t,i,e)}async xJ(){const t=await this.XOt();await t.xJ()}async QK(t,i,e){const s=await this.XOt(e);await s.QK(t,i,e)}async pN(t,i,e){const s=await this.XOt(e);await s.pN(t,i,e)}async iJ(t,i){const e=await this.XOt();await e.iJ(t,i)}NJ(){this.WOt=!0,this.QAt&&this.QAt.NJ()}PH(t){return!!this.QAt&&this.QAt.PH(t)}async RH(t){const i=await this.XOt();await i.RH(t)}async gn(){var t;this.Vo(),null==(t=this.QAt)||t.fn(bi.LH,this.Ds)}constructor(t,i){super(),this.v0=t,this.ZOt=i,this.qx=void 0,this.QAt=void 0,this.qOt=new Eo,this.rW=20,this.WOt=!1,this.aW=30,this.bJ=new dc}},tZ="LazyMediaSource",iZ=class{get wd(){return{hA:wt.xO,E$:[],kP:[]}}get rt(){throw new b("Not implemented")}get g$(){return this.KOt}get w$(){return this.JOt}get b_(){return this.DP?this.DP.b_:Ki.lR()}get ct(){return this.DP?this.DP.ct:this.Rk}get tq(){return!!this.DP&&this.DP.tq}get yg(){return this.DP?this.DP.yg:new Ki([0,1/0])}T$(t){this.Rk=t,this.DP&&this.DP.T$(t)}NJ(){this.p8=!0,this.DP&&this.DP.NJ()}_J(){this.p8=!1,this.DP&&this.DP._J()}S$(t,i,e,s){this.$Ot=t,this.tjt=i,this.ijt=Boolean(e),this.ejt=Boolean(s),this.DP&&this.DP.S$(t,i,e,s)}PH(t){return!this.DP||this.DP.PH(t)}async RH(t){if(!this.PH(t))throw new b("LazyMediaSource - Unable to reconfigure MediaSource.");if(this.DP)await this.DP.RH(t);else{var i,e;this.vP.v3();const s=await this.vP.$n(t);j(this.Rk)||s.T$(this.Rk),this.p8&&s.NJ(),s.S$(this.$Ot,this.tjt,this.ijt,this.ejt),p.NIt(tZ,"The MediaSource has been loaded."),this.sjt=!0,this.DP=s,null==(i=this.KOt)||i.HOt(this.DP.g$),null==(e=this.JOt)||e.HOt(this.DP.w$),this.njt.jL(s),this.vP.m3()}}async e_(){this.DP&&await this.DP.e_()}constructor(t,i,e){this.vP=t,this.KOt=void 0,this.JOt=void 0,this.njt=new Eo,this.DP=void 0,this.sjt=!1,this.Rk=NaN,this.p8=!1,this.$Ot=0,this.tjt=1/0,this.ijt=!1,this.ejt=!1,i&&(p.NIt(tZ,"Created lazy media buffer for audio."),this.KOt=new $X(rv.mp,this)),e&&(p.NIt(tZ,"Created lazy media buffer for video."),this.JOt=new $X(rv.vp,this))}};function eZ(t,i){return void 0===i&&(i=!1),function(e,s){void 0===s&&(s="*");let n=nZ(e,"tag");const r=nZ(null==s?"*":s,"range"),h=[];let o,a,u,c=-1;for(;++c<r.length;)if(o=r[c].toLowerCase(),i||"*"!==o){for(a=-1,u=[];++a<n.length;)if(t(n[a].toLowerCase(),o)){if(!i)return n[a];h.push(n[a])}else u.push(n[a]);n=u}return i?h:void 0}}r();eZ(((t,i)=>"*"===i||t===i||oo(t,i+"-")),!0),eZ(((t,i)=>{const e=t.split("-"),s=i.split("-");let n=0,r=0;if("*"!==s[r]&&e[n]!==s[r])return!1;for(n++,r++;r<s.length;)if("*"!==s[r]){if(!e[n])return!1;if(e[n]!==s[r]){if(1===e[n].length)return!1;n++}else n++,r++}else r++;return!0}),!0);var sZ=eZ(((t,i)=>{let e,s=i;for(;;){if("*"===s||t===s)return!0;if(e=s.lastIndexOf("-"),e<0)return!1;"-"===s.charAt(e-2)&&(e-=2),s=s.slice(0,e)}}));function nZ(t,i){const e=t&&"string"==typeof t?[t]:t;if(!e||"object"!=typeof e||!("length"in e))throw new b("Invalid "+i+" `"+e+"`, expected non-empty string");return e}r(),r();var rZ,hZ=16384,oZ=71,aZ=188,uZ=2,cZ=3;function lZ(t){return dZ(t)?1:function(t){return function(t){if(t.length<uZ*aZ)return-1;const i=t.length<cZ*aZ?uZ:cZ,e=x.min(1e3,t.length-i*aZ);for(let s=0;s<=e;s++){let e=!0;for(let n=0;n<i;n++)if(t[s+n*aZ]!==oZ){e=!1;break}if(e)return s}return-1}(t)>=0}(t)?2:function(t){return null!==JC(Mo(t),new Or)}(t)?3:0}function dZ(t){const i=WA(t,0,x.min(t.length,hZ));return Qi.vy(Mo(i))}!function(t){t[t.KT=0]="KT",t[t.Gv=1]="Gv",t[t.rjt=2]="rjt",t[t.hjt=3]="hjt"}(rZ||(rZ={}));var ah=class{get hA(){return this.v0}get b_(){return this.QAt.b_}get EJ(){return this.QAt.EJ}ojt(t){return this.QAt===t}async QK(t,i){await this.QAt.QK(t.Cp,{fK:t.qDt.Vw},i),void 0!==this.ajt&&this.v0===rv.vp&&dZ(t.Cp.Cp)&&this.ajt.Gft(t.Cp.Cp)}async BK(t,i){Pi(i),p.$y("HlsMediaBuffer","Got media data, appending to "+this.v0+" MediaBuffer: "+Nt(t.Zkt.Pnt));const e=t.tOt,s=t.iOt,n={T8:t.zN,ct:t.ct,CI:t.CI,fK:t.qDt.Vw};void 0!==t.Cp&&(await this.QAt.BK(t.Cp,n,i),this.ujt(t.Cp,t)),this.cjt(e,s)}ujt(t,i){var e;if(!dZ(t.Cp))return;const s=i.zN,n=s+i.ct,r=i.CI;if(null==(e=this.Sft)||e.olt(t.Cp,s,r),void 0!==this.ajt&&this.v0===rv.vp){const e=i.Zkt.ebt;this.ajt.olt(t.Cp,s,n,r,i.qDt,e)}const h=[];void 0!==this.Sft&&h.push(this.Sft),void 0!==this.ajt&&h.push(this.ajt),py(this.b_,h)}cjt(t,i){const e=this.QAt.b_,s=new Ki([t,i]).XB(e);for(let t=0;t<s.U;t++)this.QAt.kJ(s.Cn(t),s.jn(t));for(let t=0;t<e.U;t++)this.QAt.CJ(e.Cn(t),e.jn(t))}kJ(t,i){this.QAt.kJ(t,i)}CJ(t,i){this.QAt.CJ(t,i)}constructor(t,i,e,s){this.v0=t,this.QAt=i,this.Sft=e,this.ajt=s}};r();function fZ(t){if(t.hA!==Qn.RSt||void 0===t.PDt)return;const i=t.PDt.match(/^CC([1-4])$/);if(i)return Number(i[1]);const e=t.PDt.match(/^SERVICE([\d+])$/);return e?Number(e[1]):void 0}r(),r(),r();var _Z=class{pSt(t){var i,e,s;return null==(s=null==(e=this.DP)||null==(i=e.w$)?void 0:i.PH(t))||s}ySt(t){var i,e,s;return null==(s=null==(e=this.DP)||null==(i=e.g$)?void 0:i.PH(t))||s}constructor(t){this.DP=t}},ve="LLHLSPlayer",gZ=[Ho.mv,Ho.pv,Ho.yv,Ho.Mw],wZ=[t.WA,t.DA,t.OA,t.CA],AZ=2e3,vZ=class extends i{ljt(){if(void 0===this.djt)return!1;const t=lg.f_();if(!this.djt.xOt.Oxt(t))return!1;const i=this.djt.xOt.kxt();if(void 0===i||void 0===i.Mht.ct)return!1;const e=this.j_,s=this.ag,n=this.djt.UOt.oR(e);if((void 0!==n?n.jn(0)-e:0)>=2*i.Mht.ct*s)return!1;return 8*i.xxt/this.yR.RV.Jz>=1.8*i.Mht.ct}async fjt(){var t;const i=await this.NSt();if(void 0===i)return;const e=null==(t=this.djt)?void 0:t.xOt.kxt();if(void 0===e)return;const s=this._jt;if(x.max(0,e.xxt-e.Cxt)<=e.xxt*(i.Jz/s.Jz))return;const n=i.Jz<s.Jz;await this.tIt(i,{iIt:n})}gjt(t){return Uo(t,(t=>t.Jz))}async wjt(){let t=await this.Ajt();if(0===t.length)return;const i=await this.vjt(t);i.length>0&&(t=i);const e=this.gjt(t);void 0!==e&&(await this.tIt(e,{iIt:!0}),this.bP.wSt(e.Jz))}get mjt(){const t=[this.pjt,this.yjt].filter(j_);for(const i of t){if(!i.CDt.xEt)return!1;const t=i.CDt.bet,e=t[t.length-1];if(e&&e.kEt!==this.Mjt)return!1}return!0}get XDt(){return this._jt}get uIt(){return this.pjt}get lIt(){return this.yjt}get Tjt(){return this.Njt}get ht(){return this.nN}get b_(){return this.vP.b_.ks()}get JDt(){const t=[];if(this._jt){const i=this.vP.j_;for(const e of this.Djt)for(const s of e.kOt){const e=s.Wkt(i);e&&!ea(t,e)&&t.push(e)}}return t}get k_(){if(this._jt){const t=this.vP.j_;return this._jt.qEt(t)}}set k_(t){if(!t||!this._jt)return;const i=this._jt.XEt(t);void 0!==i&&this.Dp(i,!1,!0)}get j_(){var t;return null!=(t=this.Ijt)?t:this.vP.j_}set j_(t){this.Dp(t,t===1/0,!0)}Dp(t,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),p.$y(ve,"Seeking to "+t+" s."),this.Ijt=t,this.Sjt=i,this.Ejt=!0,this.xdt=!0,this.Co(new Sa(t)),this.u2.c_(),this.bjt&&(lg.__(this.Ljt),e?this.Ljt=lg.g_((()=>this.kjt(t,i)),50):this.kjt(t,i))}kjt(t,i){lg.__(this.Ljt);const e=[this._vt,this.Cjt,this.c2].filter(j_);this.u2=new Ao,this.c2=this.l2(e,t,i,this.u2.a_).catch(this.xjt)}get ct(){var t,i,e,s,n,r,h;if(!this.mjt)return null!=(h=null!=(r=null!=(n=null==(t=this.pjt)?void 0:t.CDt.ct)?n:null==(i=this.yjt)?void 0:i.CDt.ct)?r:null==(s=this.Pdt)||null==(e=s.rkt)?void 0:e.CDt.ct)?h:1/0;const o=this.vP.ct;if(j(o)){var a,u,c;const t=null!=(c=null==(a=this.Ojt)?void 0:a.CDt.ct)?c:null==(u=this.jjt)?void 0:u.CDt.ct;if(void 0!==t)return t}return o}get R_(){if(!this.mjt)return!1;if(this.Tg&&this.bjt){var t,i;const e=this.j_,s=null==(t=this.pjt)?void 0:t.CDt.ct,n=null==(i=this.yjt)?void 0:i.CDt.ct;return!(void 0!==s&&e<s)&&!(void 0!==n&&e<n)}return this.vP.R_}get lt(){return this.yP}get F_(){return this.MP}get G_(){}get W_(){return!1}get q_(){return At({},{aN:0,uN:0,cN:0,lN:0,dN:0,fN:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.vP.X_(),{dN:this.edt,lN:this.yR.RV.Jz})}get Tr(){var t;return null==(t=this.Pdt)?void 0:t.Tr}get Z_(){return this.vP.Z_}set Z_(t){this.vP.Z_=t}get eg(){return this.Tat}set eg(t){this.Tat!==t&&(this.Tat=t,this.Co(t?new tY:new iY))}get hg(){return this.vP.hg}get ag(){return this.vP.ag}set ag(t){p.$y(ve,"Setting playback rate to "+t+"."),this.vP.ag=t}get fg(){return this.odt.ks()}get odt(){return this.vP.fg}get gg(){return this.NP}set gg(t){this.NP!==t&&(this.NP=t,this.zjt())}get vg(){let t=this.vP.vg;return this.cdt&&(t=x.max(ov.Gn,t)),t}get yg(){return this.$lt.ks()}get $lt(){let t=this.I$;const i=[this.pjt,this.yjt].filter(j_);if(t.U>0&&i.some((t=>!t.CDt.xEt))){const e=this.odt,s=t.jn(t.U-1);if(e.U>0&&e.jn(e.U-1)>s){let n=e.jn(e.U-1);const r=function(t){return t.reduce(((t,i)=>t.Sn(i.CDt.jbt)),new Ki([0,1/0]))}(i);r.U>0&&(n=x.min(n,r.jn(r.U-1))),t=t.HB(new Ki([s,n]))}}return t}uLt(){let t=function(t){if(0===t.length)return Ki.lR();let i=new Ki([0,1/0]),e=0;for(const s of t){const t=s.CDt.yg;t.U>0&&(i=i.Sn(t),e=x.max(e,t.Cn(0)))}if(i.U>0)return i;return Ki.uR(e)}([this.pjt,this.yjt].filter(j_));0!==t.U&&(this.DP&&this.mjt&&this.DP.ct!==1/0&&(t=new Ki([t.Cn(0),this.DP.ct])),this.I$=t,this.Pjt&&this.Sft.IS(t.Cn(0)),this.Bjt&&this.ajt.IS(t.Cn(0)))}get Tg(){var t;return null!=(t=this.Ejt)?t:this.vP.Tg}get IP(){}get nt(){return this.Dl}get rt(){return this.hN}get Ig(){var t,i;return this.vP.Ig||(null==(i=this._jt)||null==(t=i.vIt)?void 0:t.Ti)||0}get Lg(){var t,i;return this.vP.Lg||(null==(i=this._jt)||null==(t=i.vIt)?void 0:t.ji)||0}get xg(){return this.vP.xg}set xg(t){p.$y(ve,"Setting volume to "+t+"."),this.vP.xg=t}get zg(){return this.SP}get Bg(){return!1}set Bg(t){}get EP(){return this.bP}Hg(){return!1}Rg(){return this.vP.ya}be(){p.$y(ve,"Hiding the player."),this.vP.be()}Gg(){p.$y(ve,"Pausing the player."),this.vP.Gg()}async Vg(){this.q4=!0;const t=this.vP.Vg();if(this.R_){const t=this.$lt;t.U>0&&this.Dp(t.Cn(0))}this.bjt||await this.zjt(),this.vlt(),await t}vlt(){var t;if(!this.Jlt())if(null==(t=this.XDt)?void 0:t.CDt.xEt){var i;let t=!0,e=0;const s=null==(i=this._jt)?void 0:i.CDt.Cn;if(!this.xdt&&s&&(t=!s.yEt,e=s.pEt,e<0)){const t=this.XDt.CDt.jbt;e+=t.jn(t.U-1)}this.kjt(e,t)}else this.kjt(1/0,!0);this.Rjt()&&this.kjt(1/0,!0)}Jlt(){var t;const i=this.$lt;if(0===i.U)return!0;const e=null==(t=this.Ujt)?void 0:t.ZB(this.j_);return(e&&e>0?this.Ujt.jn(e):this.j_)>=i.Cn(0)}get Ujt(){var t,i;const e=null==(t=this.Qjt)?void 0:t.UOt,s=null==(i=this.djt)?void 0:i.UOt;return e?s?s.Sn(e):e:s}Rjt(){return IZ(this.j_,this.pjt)||IZ(this.j_,this.yjt)}vft(){this.yP=void 0,this.MP=void 0}uB(t){this.yP||(W(this.Zn()),this.yP=ne(t),this.MP=t,this.Co(new pe(t)))}ge(){p.$y(ve,"Showing the player."),this.vP.ge()}qg(){throw new b("Not implemented")}Xg(){throw new b("Not implemented")}Zg(){}Kg(){this.bjt&&W(this.Fjt(this.pjt,this.yjt,this.Njt,{Kg:!0}))}async ga(i,e,s){(p.$y(ve,"Setting the player source to "+i.src+"."),this.vft(),this.Lkt&&!Rv(this.Lkt)&&(await this.Zn(),Pi(s)),i.src&&!Rv(i))&&(this.jP.iP(i.contentProtection),this.Lkt=i,this.Yjt=i.seamlessSwitchStrategy,this.Bjt=!ea(i.ignoreEmbeddedTextTrackTypes,Ks.CEA608),this.Pjt=!ea(i.ignoreEmbeddedTextTrackTypes,Ks.EMSG),this.yn(Au.LDt,this.handleBufferingErrorEvent),this.Pdt=new lX(this.gE,this.Cct,i.useCredentials,lg.zv(i.src)),this.Pdt.yn(Ir.KLt,this.bkt),this.Pdt.yn(Ir.JLt,this.Gjt),this.Pdt.yn(t.UA,this.Ds),this.Pdt.yn(t.QA,this.Ds),this.Vjt=new wX(i,this.Pdt,this.vP),this.Dl.oP(this.Vjt.nt),null!=this.zOt||(this.zOt=this.Wjt.D8()),e.textTracks&&this.zP(e.textTracks),Qs(this.Dl),this.zjt())}zjt(){return this._vt=this.Hjt(this._vt,this.mE.a_).catch(this.Ilt),this._vt}async Hjt(t,i){if(t&&(await t,Pi(i)),!this.Pdt)return;const e=this.NP;e===tt.HT||this.q4?await this.ait(i):e===tt.Mp&&await this.qjt(i)}async qjt(t){if(void 0===this.Pdt||this.cdt)return;if(!this.Pdt.ikt){try{await this.Pdt.okt(t)}catch(t){throw Ht(t),this.eg=!1,new ce(p_.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+t.message,t)}this.Xjt.Ldt()}const i=await this.Zjt();this.Kjt(i),await this.Jjt(i,t),this.cdt=!0,this.Rft.Fft()}async Zjt(){if(this.$jt=this.Pdt.Tr.SIt,!this.$jt.length)throw new ce(p_.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");let t=await this.tzt(this.$jt);if(0===t.length)throw new ce(p_.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");const i=await this.vjt(t);return i.length>0&&(t=i),p.$y(ve,"Selecting initial active variant stream."),function(t,i,e,s){void 0===s&&(s=qv.maximumBackoff);const n=function(t,i){if(void 0===i)return t;const e=i.preferredVideoCodecs,s=i.preferredAudioCodecs;if(void 0!==e){let i;for(const n of e){const e=t.filter((t=>t.bst&&t.bst.gIt&&fi(t.bst.gIt,n)));if(0===e.length)continue;if(void 0===s)return e;void 0===i&&(i=e);const r=MZ(e,s);if(void 0!==r)return r}if(void 0!==i)return i}if(void 0!==s){const i=MZ(t,s);if(void 0!==i)return i}return t}(t,i),r=NZ(n,s);switch(e.JV.type){case Ha.BANDWIDTH:{const t=e.sW,i=r.filter((i=>i.Jz<=t));if(i.length>0)return Ro(i,(t=>t.Jz))}case Ha.PERFORMANCE:return Uo(r,(t=>t.Jz));case Ha.QUALITY:return Ro(r,(t=>t.Jz))}}(t,this.Lkt.abr,this.yR,this.Sct.maximumBackoff)}async Jjt(t,i){const e=[],s=TZ(t.EIt);s&&this.jjt!==s&&(p.$y(ve,"Detected initial audio rendition."),this.jjt=s,e.push(this.izt(s,i)));const n=yZ(t.WEt);let r;n&&this.ezt!==n&&(p.$y(ve,"Detected initial subtitle rendition."),this.ezt=n,e.push(this.izt(n,i))),n||(r=yZ(t.HEt),r&&(p.$y(ve,"Detected initial closed caption rendition."),this.szt(t,r)));const h=TZ(t.bIt);h&&this.Ojt!==h&&(p.$y(ve,"Detected initial video rendition."),this.Ojt=h,vH(h,s)||e.push(this.izt(h,i))),await Promise.all(e)}async izt(t,i){try{await this.Pdt.gkt(t,i)}catch(e){Ht(e),(ay(e)||uy(e))&&await this.nzt(t,i)}}async nzt(t,i){if(!this.rzt)if(t.hA!==Qn.vp)await this.hzt(t,i);else if(this.$jt&&this.$jt.length<=1)await this.hzt(t,i);else{const t=await this.Zjt();this.Kjt(t),await this.Jjt(t,i)}}async ait(t){await this.qjt(t),this.Fjt(this.jjt,this.Ojt,this.ezt).catch(xs),this.bjt=!0}zP(t){for(const i of t)i.src&&this.UP.lE(i)}szt(t,i){if(!this.Bjt)return;const e=function(t){const i=[];for(const e of t){const t=fZ(e);void 0!==t&&i.push({r6:t,h6:e.gs||"",kh:e.l})}return i}(t.HEt);for(const t of e)this.ajt.bMt(t);if(void 0!==i){const t=fZ(i);this.ajt.SMt(t).eA=go.Xn}}get Djt(){return[this.Qjt,this.djt,this.ozt].filter(j_)}$Dt(t){for(const i of t)if(!this.azt(i))throw new b("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.");this.$jt=t}azt(t){const i=this.Tr;return!!i&&ea(i.SIt,t)}uzt(t){if(this._jt)return X_(this._jt.OIt,(i=>i===t))}Kjt(t){if(p.$y(ve,"Setting active variant stream."),this._jt!==t){var i;if((null==(i=this._jt)?void 0:i.WSt)!==(null==t?void 0:t.WSt)){if(this._jt)for(const t of this._jt.WEt)this.pE(t);if(t)for(const i of t.WEt)this.czt(i)}this._jt=t,this.Co(new ZX),this.Tdt()}}czt(t){const i=this.vP.dE(oa.pp,void 0,t.l,t.gs,t.xDt,void 0,void 0,t.RDt.map(bH).filter(j_));this.lzt.tt(i),this.dzt.set(t.Vw,i),i.yn(Os.ra,this.onTextTrackChange)}pE(t){const i=this.dzt.get(t.Vw);i&&(i.fn(Os.ra,this.onTextTrackChange),this.lzt.it(i),this.dzt.delete(t.Vw),this.vP.pE(i))}async Ajt(){var t;const i=null!=(t=this.$jt)?t:this.Tr.SIt;if(0===i.length&&!this.$jt)return p.$y(ve,"The HLS stream does not contain any variant streams, skipping ABR selection."),[];if(1===i.length&&!this.$jt)return p.$y(ve,"The HLS stream contains only a single variant stream, skipping ABR selection."),[];const e=await this.tzt(i);if(0===e.length)return p.DIt(ve,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),[];const s=NZ(e,this.Sct.maximumBackoff);return 0===s.length?(this.rzt||(p.DIt(ve,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),this.fzt++,await this._zt(e)),[]):s}async gzt(){const t=await this.NSt();if(void 0===t)return;const i=!!this._jt&&t.Jz<this._jt.Jz;await this.tIt(t,{iIt:i})}async NSt(){var t,i;const e=await this.Ajt();if(0===e.length)return;const s=function(t){const i=t.j_,e=t.b_.oR(i);return e?e.jn(0)-i:0}(this.vP),n=await this.vjt(e),r={ji:this.vP.ji,Ti:this.vP.Ti,mSt:s,pct:null==(i=this.Lkt)||null==(t=i.abr)?void 0:t.restrictToPlayerSize},h=await this.wzt.NSt(e,this._jt,n,r,new _Z(this.DP));return!!this._jt&&h.Jz<this._jt.Jz||this.Azt(h,s)?h:void 0}Azt(t,i){var e;if(t===this.XDt)return!1;const s=this.XDt&&DZ(this.XDt,this.Sct.maximumBackoff),n=DZ(t,this.Sct.maximumBackoff);if(!s&&n)return!0;(!this.vzt||this.vzt.ZDt.Jz>t.Jz)&&(this.vzt={ZDt:t,Ket:lg.f_()});const r=lg.f_()-this.vzt.Ket;var h;const o=null!=(h=null==(e=this.lIt)?void 0:e.CDt.vSt)?h:1/0;return i>=x.max(o-1,5)||r>1e3}async _zt(t){this.rzt=!0;let i=!1;for(const e of t)try{const t=this.yjt?X_(e.bIt,(t=>zn(t,this.yjt))):void 0;if(void 0===t)continue;await this.gkt(t),t.CDt.Kbt=-1/0,i=!0}catch(t){}if(i)this.fzt=0,await this.mzt();else{if(this.fzt>=this.Sct.maxRetries)return void this.uB(new ce(p_.MEDIA_LOAD_ERROR,"The provided video renditions could not be loaded."));const t=x.min(this.Sct.minimumBackoff*2**(this.fzt-1),this.Sct.maximumBackoff);await ye(t)}this.rzt=!1,await this.gzt()}async tzt(t){let i=await ng(t,(async t=>{var i,e,s;const n=[(null==(i=t.bst)?void 0:i._It)?'audio/mp4; codecs="'+t.bst._It+'"':void 0,(null==(e=t.bst)?void 0:e.gIt)?'video/mp4; codecs="'+t.bst.gIt+'"':void 0].filter(j_);return 0===n.length||await this.pzt.rq(n,null==(s=this.Lkt)?void 0:s.useManagedMediaSource)}));return i.some((t=>{var i;return null==(i=t.bst)?void 0:i.gIt}))&&(i=i.filter((t=>!t.bst||t.bst.gIt||0!==t.bIt.length))),i.some((t=>{var i;return null==(i=t.bst)?void 0:i._It}))&&(i=i.filter((t=>!t.bst||t.bst._It||0!==t.EIt.length))),i}vjt(t){return this.Pdt.skt?ng(t,(t=>async function(t,i){for(const e of t)if(!await i(e))return!1;return!0}([TZ(t.EIt),TZ(t.bIt),yZ(t.WEt),yZ(t.HEt)].filter(j_),(t=>this.yzt(t))))):Promise.resolve([])}async yzt(t){if(0===t.CDt.bet.length)return!1;const i=t.CDt.bet[0];if(!i.Pnt)return!1;const e=i.Pnt,s=e.qht?JH(e.qht.Cn,e.qht.U):void 0;try{return await this.Cct.aet(e.ST,s)}catch(t){return!1}}async tIt(t,i){if(!this.bjt)throw new b("LLHLSPlayer - The LLHLSPlayer is not loaded.");if(!t)throw new b("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");if(!this.azt(t))throw new b("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");if(t===this._jt)return void p.$y(ve,"Trying to set the already active variant stream, ignoring.");const e=this.pjt?X_(t.EIt,(t=>zn(t,this.pjt))):void 0,s=this.yjt?X_(t.bIt,(t=>zn(t,this.yjt))):void 0,n=this.Njt?X_(t.WEt,(t=>zn(t,this.Njt))):void 0;this.Kjt(t),this.vzt=void 0,await this.Fjt(e,s,n,i)}async cIt(t){if(!this.bjt)throw new b("LLHLSPlayer - The LLHLSPlayer is not loaded");if(!this._jt)throw new b("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");if(!t)throw new b("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");const i=this.uzt(t);if(!i)throw new b("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");p.$y(ve,"Switching audio rendition"),await this.Fjt(i,this.yjt,this.Njt,{sIt:!0})}async dIt(t){if(!this.bjt)throw new b("LLHLSPlayer - The LLHLSPlayer is not loaded");if(!this._jt)throw new b("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");if(!t)throw new b("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");const i=this.uzt(t);if(!i)throw new b("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");p.$y(ve,"Switching video rendition"),await this.Fjt(this.pjt,i,this.Njt,{eIt:!0})}async Mzt(t){if(!this.bjt)throw new b("LLHLSPlayer - The LLHLSPlayer is not loaded");if(!this._jt)throw new b("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");if(!t)throw new b("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");const i=this.uzt(t);if(!i)throw new b("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");p.$y(ve,"Switching subtitle rendition"),await this.Fjt(this.pjt,this.yjt,i)}async Tzt(t,i){this.rzt||(t.hA!==Qn.vp?await this.hzt(t,i):this.$jt&&this.$jt.length<=1?(this.yjt!==t&&await this.Fjt(this.pjt,t,this.Njt),await this.hzt(t,i)):await this.gzt())}async gkt(t,i){try{await this.Pdt.gkt(t,i)}catch(e){throw Ht(e),(ay(e)||uy(e))&&await this.Tzt(t,i),e}}async hzt(t,i){if(!ea(this.Nzt,t)){this.Nzt.push(t);try{const e=t.hA===Qn.pp||t.hA===Qn.RSt?1/0:this.Sct.maxRetries;await Ou((()=>this.retryOfflineRenditionsCallback(t,i)),i,e,this.Sct.minimumBackoff,this.Sct.maximumBackoff)}catch(t){this.uB(new ce(p_.MEDIA_LOAD_ERROR,t.message,t))}finally{Et(this.Nzt,t),t.CDt.Kbt===-1/0&&await this.mzt()}}}Fjt(t,i,e,s){void 0===s&&(s={});const n={iIt:s.iIt||!1,sIt:s.sIt||!1,eIt:s.eIt||!1,Kg:s.Kg||!1};return n.Kg||this.pjt!==t||this.yjt!==i||this.Njt!==e?void 0===t&&void 0===i?Promise.reject(new b("Trying to buffer no media renditions.")):(this.pjt=t,this.yjt=i,this.Njt=e,this.uLt(),this.Co(new KX),this.u2.c_(),this.u2=new Ao,this.Dzt.c_(),this.Dzt=new Ao,this.Cjt=this.Izt([this.Cjt,this.c2].filter(j_),t,i,e,n,this.Dzt.a_).catch(this.xjt),this.Cjt):Promise.resolve()}async Izt(t,i,e,s,n,r){var h;await Promise.all(t.map((t=>t.catch(xs)))),this.Szt(),await this.Ezt();const o=[];n.sIt&&this.DP&&this.DP.g$&&o.push(this.DP.g$.pN(0,1/0)),n.eIt&&this.DP&&this.DP.w$&&o.push(this.DP.w$.pN(0,1/0)),await Promise.all(o),Pi(r);const a=await this.bzt(i,e,n.Kg,r);this.Lzt(i,e,n.iIt||a),this.kzt(s,n.iIt),Pi(r);const u=[e,vH(i,e)?void 0:i,s].filter(j_);try{await Promise.all(u.filter((t=>!t.CDt.Hbt)).map((t=>{var i;return null==(i=this.Pdt)?void 0:i.wkt(t,r)})))}catch(t){Ht(t)}if(Pi(r),this.D$(),this.uLt(),void 0!==this.Ijt)this.kjt(this.Ijt,this.Sjt);else if(!this.xdt&&(null==(h=this._jt)?void 0:h.CDt.Cn)){const t=this._jt.CDt,i=t.Cn;let e=i.pEt;if(i.pEt<0){const i=t.jbt;e+=i.jn(i.U-1)}this.kjt(e,!i.yEt)}else!this.xdt&&u.every((t=>!t.CDt.xEt))?this.kjt(1/0,!0):this.Djt.length>0&&this.Czt()}async bzt(t,i,e,s){var n,r;const h=void 0!==t&&t!==i,o=void 0!==i,a=await this.xzt(t,i,this._jt);if(Pi(s),!e&&this.DP&&!a)return!1;const u=void 0!==(null==(n=this.DP)?void 0:n.g$),c=void 0!==(null==(r=this.DP)?void 0:r.w$);if(!e&&!(h!==u||o!==c)&&a&&this.DP&&this.DP.PH(a))return await this.Ozt(s),await this.DP.RH(a),!0;for(const t of this.Djt)t.kOt.forEach((t=>t.c_()));this.vP.v3();try{this.DP&&await this.vP.Zn(),this.DP=await this.jzt(a,h,o)}finally{this.vP.m3()}return!0}async xzt(t,i,e){var s,n;const r=e.bst,h=[];if(void 0!==t){if(!r||!r._It)return;{const t='audio/mp4; codecs="'+r._It+'"';p.$y(ve,"Configuring MediaSource for initial audio rendition with codec: "+t+"."),h.push(t)}}if(void 0!==i){if(!r||!r.gIt)return;{const t='video/mp4; codecs="'+r.gIt+'"';p.$y(ve,"Configuring MediaSource for initial video rendition with codec: "+t+"."),h.push(t)}}if(0===h.length)return void p.DIt(ve,"No codecs found on the active variant stream.");var o;const a=null!=(o=null==i||null==(s=i.CDt.bet[0])?void 0:s.TEt)?o:[];var u;const c=null!=(u=null==t||null==(n=t.CDt.bet[0])?void 0:n.TEt)?u:[],l=this.Pdt.Tr,d=await rq(this.Lkt.contentProtection,h,l.zLt.concat(c).concat(a),this.gE,this.Lkt.useCredentials);return{hA:wt.xO,E$:h.map((t=>({LP:t}))),kP:d,B$:this.Lkt.useManagedMediaSource}}async jzt(t,i,e){let s;return s=t?await this.vP.$n(t):new iZ(this.vP,i,e),this.DP=s,this.D$(),this.MTt(),this.TTt(),s}D$(){const t=this.DP;if(t&&j(t.ct)){var i,e,s;const n=null!=(s=null==(i=this.pjt)?void 0:i.CDt.ct)?s:null==(e=this.yjt)?void 0:e.CDt.ct;void 0!==n&&n>0&&t.T$(n)}this.uLt()}MTt(){const t=this.DP;t&&(t.w$&&(t.w$.ZV=this.yR.hW),t.g$&&(t.g$.ZV=this.yR.hW))}TTt(){const t=this.DP;t&&(t.w$&&(t.w$.tW=this.yR.tW),t.g$&&(t.g$.tW=this.yR.tW))}Lzt(t,i,e){if(!this.DP)throw new b("Invalid state");this.DP.g$?this.p$&&this.p$.ojt(this.DP.g$)||(this.p$=new ah(rv.mp,this.DP.g$,this.Pjt?this.Sft:void 0,this.Bjt?this.ajt:void 0)):this.p$=void 0,this.DP.w$?this.y$&&this.y$.ojt(this.DP.w$)||(this.y$=new ah(rv.vp,this.DP.w$,this.Pjt?this.Sft:void 0,this.Bjt?this.ajt:void 0)):this.y$=void 0;const s=vH(t,i);if(this.y$&&i){const t=s&&this.p$?[this.y$,this.p$]:[this.y$];this.djt?this.djt.qDt!==i&&(e&&(this.djt.c_(),this.djt.POt.OL()),this.djt.FCt(i)):(this.djt=function(t,i,e,s,n,r,h,o,a,u){const c=s.Tr.WT,l=new zX(c),d=new xX(rv.vp,t,s,l,n,r,h,u),f=i.map((t=>t.hA)),_=o.Uct(l,s.Tr.WT,f),g=new XX(d,l,_,a);return g.BOt(i),g}(i,t,this.vP,this.Pdt,this.gE,this.Cct,this.eCt,this.zOt,this.yR,this.Lkt.useCredentials),this.djt.xOt.yn(gr.BCt,this.zzt),this.djt.xOt.yn(gr.RCt,this.Pzt),this.djt.jOt.yn(Lu.nOt,this.Bzt),this.djt.jOt.yn(Lu.hOt,this.Rzt),this.djt.jOt.yn(Lu.oOt,this.Uzt),this.djt.jOt.yn(Lu.rOt,this.Qzt)),this.djt.BOt(t)}else{var n;null==(n=this.djt)||n.e_(),this.djt=void 0}var r;this.p$&&t&&!s?(this.Qjt?this.Qjt.qDt!==t&&(e&&(this.Qjt.c_(),this.Qjt.POt.OL()),this.Qjt.FCt(t)):(this.Qjt=function(t,i,e,s,n,r,h,o,a,u){const c=s.Tr.WT,l=new zX(c),d=new xX(rv.mp,t,s,l,n,r,h,u),f=o.Uct(l,s.Tr.WT,[i.hA]),_=new XX(d,l,f,a);return _.BOt([i]),_}(t,this.p$,this.vP,this.Pdt,this.gE,this.Cct,this.eCt,this.zOt,this.yR,this.Lkt.useCredentials),this.Qjt.xOt.yn(gr.RCt,this.Pzt),this.Qjt.jOt.yn(Lu.nOt,this.Bzt),this.Qjt.jOt.yn(Lu.rOt,this.Qzt)),this.Qjt.BOt([this.p$])):(null==(r=this.Qjt)||r.e_(),this.Qjt=void 0);this.Fzt()}kzt(t,i){if(this.ozt){this.ozt.xOt.qDt===t?i&&(this.ozt.c_(),this.ozt.POt.OL()):(this.ozt.e_(),this.ozt=void 0)}if(!this.ozt&&t){const i=this.dzt.get(t.Vw);i.eA=go.Xn,this.ozt=function(t,i,e,s,n,r,h){const o=e.Tr.WT,a=new RX(i,o),u=new zX(o),c=new xX(rv.Ru,t,e,u,s,n,r,h),l=new WX(u,o,rv.Ru),d=new XX(c,u,l);return d.ROt(a),d}(t,i,this.Pdt,this.gE,this.Cct,this.eCt,this.Lkt.useCredentials)}}Fzt(){const t=[this.p$,this.y$].filter(j_).map((t=>t.hA));this.Pdt.Tr.WT.jLt(t)}async l2(t,i,e,s){await Promise.all(t.map((t=>t.catch(xs)))),Pi(s),await this.Ezt(),Pi(s),this.Ijt=void 0,this.Ejt=void 0,this.xdt=!0;const n=this.$lt.FB(i);this.vP.Dp(n,e),this.bjt&&this.Djt.length>0&&(this.Yzt(this.vP.j_),this.Czt())}Yzt(t){for(const i of this.Djt)i.ext(t)||(i.GOt(),i.POt.Hxt()),i.FOt(t)||(i.VOt(),i.POt.qxt())}Szt(){for(const t of this.Djt)t.c_()}Ezt(){return Promise.all([this.Gzt(),this.Vzt(),this.Wzt()])}Czt(){this.Hzt(),this.qzt(),this.Xzt()}async mzt(){this.bjt&&this.Djt.length>0&&(this.Djt.forEach((t=>t.GOt())),await this.Gzt(),this.Hzt(),this.Djt.forEach((t=>t.xOt.uxt())))}Hzt(){if(this.Zzt)return;const t=()=>{this.Zzt=void 0};this.Kzt=new Ao,this.Zzt=this.Jzt(this.Kzt.a_).catch(this.xjt).then(t,t)}async Gzt(){var t;null==(t=this.Kzt)||t.c_();const i=this.Zzt;this.Zzt=void 0,i&&await i}async Jzt(i){Pi(i);const e=this.Djt;for(;;){const s=[],n=this.vP.j_;for(const t of e){const i=t.xOt,e=t.AAt(n);if(i.Qkt)s.push(i.Gkt());else if(t.YOt(n,e,this.yR.hW)){const n=i.sxt(e);if(void 0===n){if(i.qDt.CDt.xEt)continue;const t=i.qDt.CDt.bet;t.length&&t[0].zN>e&&(this.j_=1/0),i.dxt(),i.hxt(e)}else{const[e,s]=n;i.lgt(e,s,t.kkt),t.jOt.AOt(e,s)}s.push(i.Gkt())}}await ru((i=>{if(0===s.length){e.every((t=>t.xOt.ixt))||s.push(this.vP.D_(t.ov,i));for(const t of e)s.push(t.jOt.D_(Lu.rOt,i))}return rl(Promise.race(s),i)}),i)}}qzt(){if(this.$zt)return;const t=()=>{this.$zt=void 0};this.tPt=new Ao,this.$zt=this.iPt(this.tPt.a_).catch(this.xjt).then(t,t)}async Vzt(){var t;null==(t=this.tPt)||t.c_();const i=this.$zt;this.$zt=void 0,i&&await i}async iPt(t){Pi(t);const i=this.Djt;for(;;){const e=[];for(const t of i){const i=t.xOt,s=t.jOt;if(s.Qkt)e.push(s.Gkt());else{const t=i.XCt();t?"Mht"===t.hA?(s.yOt(t),e.push(s.Gkt())):"EEt"===t.hA&&(s.vOt(t),e.push(s.Gkt())):e.push(i.cxt())}}if(0===e.length)break;await rl(Promise.race(e),t)}}Xzt(){if(this.ePt)return;this.sPt=new Ao;const t=()=>{this.ePt=void 0};this.ePt=this.nPt(this.sPt.a_).catch(this.xjt).then(t,t)}async Wzt(){var t;null==(t=this.sPt)||t.c_();const i=this.ePt;this.ePt=void 0,i&&await i}async nPt(t){for(;;){const i=this.Djt;i.forEach((t=>t.ugt()));const e=[],s=[],n=[];for(const t of i){const i=t.jOt;for(const r of t.kOt){const t=r.Pkt?e:s;if(r.Qkt)t.push(r.Gkt());else if(!r.Vkt(this.vP.j_)){const e=i.SOt(r.hA);e?"Mht"===e.hA&&e.kEt===this.Mjt?(r.yAt(e),t.push(r.Gkt())):"bOt"===e.hA&&e.kEt===this.Mjt&&(r.QK(e),t.push(r.Gkt())):n.push(i.EOt(r.hA))}}}if(0===e.length){const e=Eh(i,(t=>t.kOt.filter((t=>t.Pkt)).map((i=>t.jOt.SOt(i.hA)))));if(e.length>0&&e.every((t=>void 0!==t&&"bOt"===t.hA&&t.kEt!==this.Mjt))){const s=e,n=Ro(s,(t=>t.kEt)).kEt;if(s.every((t=>t.kEt===n))){const i=Uo(s,(t=>t.zN)).zN,e=await this.rPt(s);this.hPt(e)?(p.NIt(LH,"Seamless switch from",this.DP.wd,"to",e),await this.DP.RH(e),p.NIt(LH,"Seamless switch complete.")):await this.oPt(i,e,t),this.Mjt=s[0].kEt}else for(const t of i)for(const i of t.kOt){let e=t.jOt.SOt(i.hA);for(;e&&e.kEt!==n;)t.jOt.Hkt(e),e=t.jOt.SOt(i.hA)}continue}}if(0===e.length&&0===s.length&&0===n.length){i.every((t=>t.kOt.length>0&&t.kOt.every((t=>t.Vkt(this.vP.j_)))))&&this.DP.NJ();break}await rl(Promise.race([...e,...s,...n]),t)}}hPt(t){return this.Yjt===K.JT||this.Yjt!==K.$T&&this.DP.PH(t)}async rPt(t){const i=t.map((t=>t.LOt.bst)),e=i.map((t=>({LP:t}))),s=Eh(t,(t=>t.LOt.TEt));s.push(...this.Pdt.Tr.zLt);let n=await rq(this.Lkt.contentProtection,i,s,this.gE,this.Lkt.useCredentials);return 0===n.length&&this.DP&&this.DP.wd.kP.length>0&&(n=this.DP.wd.kP),{hA:wt.xO,E$:e,kP:n,B$:this.Lkt.useManagedMediaSource}}async oPt(i,e,s){var n;const r=this.DP,h=r.ct,o=this.b_.length>0&&this.j_<i;if(o)try{for(p.NIt(LH,"Marking end of stream and waiting for ended to switch discontinuity."),r.NJ();!this.vP.R_&&this.vP.j_<i;)await this.vP.D_([t.ov,t.kA],s)}catch(t){throw r._J(),r.T$(h),t}p.NIt(LH,"Perform hard switch from",null==(n=this.DP)?void 0:n.wd,"to",e);try{this.vP.v3(),this.j_<i&&this.vP.Dp(i,!0,!0),this.y$=void 0,this.p$=void 0,this.Fzt(),await this.vP.Zn(),this.DP=await this.vP.$n(e),this.D$(),this.MTt(),this.TTt(),this.DP.w$&&(this.y$=new ah(rv.vp,this.DP.w$,this.Pjt?this.Sft:void 0,this.Bjt?this.ajt:void 0),this.y$.kJ(i-1,i)),this.DP.g$&&(this.p$=new ah(rv.mp,this.DP.g$,this.Pjt?this.Sft:void 0,this.Bjt?this.ajt:void 0),this.p$.kJ(i-1,i)),this.Fzt()}finally{o&&W(this.vP.Vg()),this.vP.m3()}if(this.djt){const t=void 0!==this.p$&&void 0===this.Qjt?[this.y$,this.p$]:[this.y$];this.djt.BOt(t)}this.Qjt&&this.Qjt.BOt([this.p$]),p.NIt(LH,"Hard switch complete.")}Ozt(t){return rl(yl(Eh(this.Djt,(t=>t.kOt.map((t=>t.Gkt()))))),t)}Tdt(){const t=this.Lg,i=this.Ig;this.zft===t&&this.Pft===i||(this.zft=t,this.Pft=i,this.Co(new qu))}async gn(){p.$y(ve,"Unloading the player."),this.aPt(),this.vft(),await this.Zn(),this.vP.VP=void 0,this.lzt.gn(),await this.UP.gn(),await this.Sft.gn(),await this.ajt.gn(),this.nN.gn(),this.hN.gn(),this.Dl.gn(),this.uPt.gn(),this.Rft.e_(),this.eCt.e_(),this.zOt&&(this.zOt.e_(),this.zOt=void 0)}async Zn(){p.$y(ve,"Resetting the player."),this.fn(Au.LDt,this.handleBufferingErrorEvent),this.Mjt=-1,this.mE.c_(),this.mE=new Ao,this.u2.c_(),this.u2=new Ao,this.Dzt.c_(),this.Dzt=new Ao;const t=[this._vt,this.c2,this.Cjt].filter(j_);await Promise.all(t.map((t=>t.catch(xs)))),this._vt=void 0,this.c2=void 0,this.Cjt=void 0,this.pjt=void 0,this.yjt=void 0,this.Njt=void 0,this.$jt=void 0,this.jjt=void 0,this.Ojt=void 0,this.ezt=void 0,this.Nzt=[],this.Kjt(void 0),this.Szt(),await this.Ezt(),this.Qjt&&(this.Qjt.e_(),this.Qjt=void 0),this.djt&&(this.djt.e_(),this.djt=void 0),this.ozt&&(this.ozt.e_(),this.ozt=void 0),this.p$=void 0,this.y$=void 0,this.DP=void 0,this.Pdt&&(this.Pdt.e_(),this.Pdt=void 0),this.Vjt&&(this.Dl.cP(this.Vjt.nt),this.Vjt=void 0),await this.UP.Zn(),await this.Sft.Zn(),await this.ajt.Zn(),this.vP.QP(),await this.vP.Zn(),this.Lkt=void 0,this.bjt=!1,this.I$=Ki.lR(),this.Ijt=void 0,this.jft=void 0,this.zft=0,this.Pft=0,this.Ejt=void 0,this.xdt=!1,this.q4=!1,lg.__(this.Ljt),this.cdt=!1,this.cPt=!1,this.edt=0,this.Yjt=K.HT,this.uPt.Zn(),this.lPt(),this.Co(new Wv(this.j_,this.vg))}lPt(){for(const t of this.nN.xw)t.gn();for(const t of this.hN.xw)t.gn();for(const t of this.Dl.xw)t.gn();this.nN.Zn(),this.hN.Zn(),this.Dl.Zn(),this.dzt.clear()}dPt(){this.uPt.yn(gZ,this.Ds),this.uPt.yn(Ho.Tv,this.KP),this.uPt.yn(Ho.Mv,this.fPt),this.uPt.yn(Ho.vv,this._Pt),this.yR.yn("XV",this.DTt),this.yR.yn("$V",this.ITt),this.vP.yn(wZ,this.Ds),this.vP.yn(t.NA,this.handleContentProtectionErrorEvent),this.vP.yn(t.EA,this.gPt),this.vP.yn(t.kA,this.Mh),this.vP.yn(t.Sh,this.wPt),this.vP.yn(t.jh,this.APt),this.vP.yn(t.VA,this.vPt),this.vP.yn(Ho.Mw,this.ZO),this.vP.yn(t.ov,this.b1),this.vP.yn(t.ZA,this.We),this.vP.yn(t.XA,this.XP),this.vP.yn(t.qA,this.mPt),this.vP.yn(t.uv,this.pPt)}aPt(){this.uPt.fn(gZ,this.Ds),this.uPt.fn(Ho.Tv,this.KP),this.uPt.fn(Ho.Mv,this.fPt),this.uPt.fn(Ho.vv,this._Pt),this.yR.fn("XV",this.DTt),this.yR.fn("$V",this.ITt),this.vP.fn(wZ,this.Ds),this.vP.fn(t.NA,this.handleContentProtectionErrorEvent),this.vP.fn(t.EA,this.gPt),this.vP.fn(t.kA,this.Mh),this.vP.fn(t.Sh,this.wPt),this.vP.fn(t.jh,this.APt),this.vP.fn(t.VA,this.vPt),this.vP.fn(Ho.Mw,this.ZO),this.vP.fn(t.ov,this.b1),this.vP.fn(t.ZA,this.We),this.vP.fn(t.XA,this.XP),this.vP.fn(t.qA,this.mPt),this.vP.fn(t.uv,this.pPt)}constructor(t,i,e,s,n,r,h){super(),this.yR=e,this.eCt=s,this.Wjt=n,this.dzt=_e(),this.Bjt=!0,this.Pjt=!0,this.bjt=!1,this.Lkt=void 0,this.DP=void 0,this._vt=void 0,this.mE=new Ao,this.Pdt=void 0,this.jjt=void 0,this.Ojt=void 0,this.ezt=void 0,this._jt=void 0,this.pjt=void 0,this.yjt=void 0,this.Njt=void 0,this.$jt=void 0,this.Nzt=[],this.p$=void 0,this.y$=void 0,this.Qjt=void 0,this.djt=void 0,this.ozt=void 0,this.zOt=void 0,this.Dzt=new Ao,this.Cjt=void 0,this.u2=new Ao,this.c2=void 0,this.Mjt=-1,this.Kzt=void 0,this.tPt=void 0,this.sPt=void 0,this.Zzt=void 0,this.$zt=void 0,this.ePt=void 0,this.Tat=!0,this.fzt=0,this.rzt=!1,this.NP=tt.DB,this.yP=void 0,this.MP=void 0,this.I$=Ki.lR(),this.yPt=[],this.Ijt=void 0,this.Sjt=!1,this.xdt=!1,this.q4=!1,this.jft=void 0,this.zft=0,this.Pft=0,this.Ejt=void 0,this.Ljt=0,this.cdt=!1,this.cPt=!1,this.Yjt=K.HT,this.vzt=void 0,this.MPt=void 0,this.SP=new xc,this.edt=0,this.handleContentProtectionErrorEvent=t=>{this.yP=ne(t.errorObject),this.MP=t.errorObject,this.Ds(t)},this.handleBufferingErrorEvent=t=>{this.uB(new ce(p_.MEDIA_LOAD_ERROR,t.lt.message,t.lt))},this.gPt=()=>{this.uLt();const t=this.ct;t!==this.jft&&(this.jft=t,this.Co(new Tn(this.jft)))},this.Mh=()=>{this.R_&&this.Co(new ys(this.j_))},this.wPt=()=>{this.Co(new ws(this.j_))},this.APt=()=>{this.vlt(),this.Co(new fh(this.j_))},this.KP=()=>{void 0!==this.MPt&&lg.__(this.MPt),this.Co(new Lr(this.j_))},this.vPt=()=>{this.Co(new $(this.j_))},this.ZO=()=>{this.Co(new Vs(this.j_,this.vg))},this.b1=()=>{const t=this.JDt;ig(this.yPt,t)||(this.Co(new AX),this.yPt=t),this.Co(new jc(this.j_,this.k_))},this.zzt=uo((t=>{t.aE===rv.vp&&this.ljt()&&W(this.fjt())}),200),this.Pzt=t=>{var i;this.edt+=t.QCt,"Mht"===t.UCt&&t.aE===rv.vp&&W(this.gzt()),this.Co(new aG(function(t){if(t){if(void 0!==t.qht){var i,e;const s=t.qht.Cn+(null!=(e=t.qht.U)?e:0);return{zu:t.ST,lst:[null==(i=t.qht)?void 0:i.Cn,s],uE:!0}}return{zu:t.ST.toString()||"",uE:!0}}return{zu:"",uE:!0}}(t.uri),(null==(i=this.XDt)?void 0:i.Jz)||0,t.mediaSequenceNumeber,t.mediaTrackId,t.aE,t.httpStatusCode,t.QCt))},this.We=()=>{this.Co(new Sa(this.j_))},this.XP=()=>{this.Co(new $s(this.j_))},this.mPt=()=>{this.Tdt()},this.pPt=()=>{this.Co(new Oe(this.j_,this.xg))},this.fPt=()=>{this.vP.Tg?this.Co(new Xc(this.j_)):(null!=this.MPt||(this.MPt=lg.g_((()=>{this.cPt&&(this.vzt=void 0,W(this.wjt()))}),2500)),this.vlt(),this.Co(new Xc(this.j_)))},this._Pt=()=>{this.cPt=!0,this.Co(new M(this.j_,this.vg))},this.xjt=t=>{Oi(t)||ay(t)||uy(t)||(this.Szt(),W(this.Ezt()),this.Co(new UH(t)))},this.bkt=()=>{this.uLt()},this.Gjt=t=>{W(this.Tzt(t.qDt))},this.Ilt=t=>{if(Oi(t))return;const i=t instanceof ce?t:new ce(p_.MEDIA_DECODE_ERROR,t.message,t);this.uB(i)},this.onTextTrackChange=t=>{if(!this._jt)return;const i=t.Lt,e=X_(this._jt.WEt,(t=>i===this.dzt.get(t.Vw)));e&&(i.eA===go.sA||i.eA===go.Xn?(W(this.Mzt(e)),this.dzt.forEach((t=>{t!==i&&(t.eA=go.Ch)}))):this.Njt&&this.Njt===e&&W(this.Fjt(this.pjt,this.yjt,void 0)))},this.retryOfflineRenditionsCallback=async(t,i)=>{this.Tjt!==t&&this.uIt!==t&&this.lIt!==t||(await this.Pdt.gkt(t,i),t.CDt.Kbt=-1/0)},this.DTt=()=>{this.MTt()},this.ITt=()=>{this.TTt()},this.Bzt=t=>{const i=this._jt;if(!(null==i?void 0:i.FEt)&&(this.Pdt.Skt(t.bst,t.qDt.CDt),this.Xjt.CIt(),i)){const t=void 0!==this.pjt&&!ea(i.EIt,this.pjt),e=void 0!==this.yjt&&!ea(i.bIt,this.yjt);(t||e)&&this.Fjt(t?void 0:this.pjt,e?void 0:this.yjt,this.Njt).catch(xs)}},this.Rzt=t=>{this.Xjt.jIt(t.qDt,t.xst)},this.Uzt=t=>{this.Xjt.PIt(t.qDt,t.aOt.cD())},this.Qzt=t=>{this.Pdt.Dkt(t.qDt)},this.Cct=new SY(r),this.vP=t,this.gE=i,this.bP=new RH(this.yR.RV),this.pzt=new QH(this.vP),this.wzt=new KH(this.yR),this.Sct=h.retryConfiguration,this.nN=new jn,this.hN=new jn,this.Xjt=new kH(this,this.yR,this.nN,this.hN),this.lzt=new tn,this.UP=new mu(this.vP,this.gE),this.Sft=new DY(this.vP),this.ajt=new aW(this.vP),this.Dl=new dh([this.lzt,this.UP.Z,this.Sft.Z,this.ajt.Z]),this.jP=new Cu(this.gE),this.vP.VP=this.jP,this.Rft=new pZ(this,this.vP),this.uPt=new uD(this.Rft,!0),this.dPt()}},mZ=class{async lB(t,i){if(!Cv(t.type))return!1;if(t.useNativePlayback)return!1;const e=t.contentProtection;if(e&&!cv(e)){if(!fv(e))return!1;if(!await this.net(e))return!1}return!0}async net(t){return!!t.aes128||(!(!t.playready||!await lg.Lx())||(!(!t.widevine||!await lg.Sx())||(!(!t.clearkey||!await lg.bx())||!t.fairplay&&await lg.zx())))}},pZ=class extends cD{get vg(){return this.Qo.vg}Fft(){this.Co(new Vs(this.j_,this.vg))}constructor(t,i){super(i),this.Qo=t}};function yZ(t){const i=X_(t,(t=>t.xDt)),e=t.filter((t=>t.ODt)),s=lg.Ltt,n=e.map((t=>t.gs)).filter(j_),r=sZ(n,s);return r?X_(e,(t=>t.gs===r)):i}function MZ(t,i){for(const e of i){const i=t.filter((t=>t.bst&&t.bst._It&&fi(t.bst._It,e)));if(0!==i.length)return i}}function TZ(t){var i;return null!=(i=yZ(t))?i:t[0]}function NZ(t,i){return t.filter((t=>DZ(t,i)))}function DZ(t,i){const e=i+AZ;return 0===t.bIt.length||t.bIt.some((t=>t.CDt.Kbt<lg.f_()-e))}function IZ(t,i){if(!i||i.CDt.xEt)return!1;const e=i.CDt.bet;return 0!==e.length&&e[0].zN>t}r(),r();var SZ=class{async tCt(t,i,e){try{const s=await crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]),n=await crypto.subtle.decrypt({name:"AES-CBC",iv:e},s,t);return new T(n)}catch(t){throw new ce(p_.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.")}}e_(){}static Ux(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt}};r(),r(),r(),r();var EZ=class extends Ag{constructor(t,i){super(t),this.data=i}},bZ=["message","messageerror","error"];r();var qn=class extends Ag{constructor(t){super(Bi.ha),this.error=t}},LZ=class extends i{get TPt(){return this.NPt.a_.$f}DPt(t,i){this.TPt||(void 0!==this.IPt?this.IPt.DPt(t,i):this.SPt.push({TL:t,EPt:i}))}bPt(){this.TPt||(this.NPt.c_(),Ri(this.SPt),void 0!==this.IPt&&this.IPt.bPt())}constructor(t){super(),this.IPt=void 0,this.SPt=[],this.LPt=t=>{if(this.TPt)t.bPt();else{this.IPt=t,this.IPt.yn(bZ,this.Ds);for(const i of this.SPt)t.DPt(i.TL,i.EPt);Ri(this.SPt)}},this.kPt=t=>{if(this.TPt)return;const i=t instanceof b?t:new b("Could not create Worker.");this.Co(new qn(i)),this.bPt()},this.NPt=new Ao,t(this.NPt.a_).then(this.LPt,this.kPt)}};r(),r();var kZ=class extends i{DPt(t,i){i?this.IPt.postMessage(t,i):this.IPt.postMessage(t)}bPt(){this.Vo(),this.IPt.removeEventListener("message",this.CPt),this.IPt.removeEventListener("messageerror",this.xPt),this.IPt.removeEventListener("error",this.l3),this.IPt.terminate()}constructor(t,i){super(),this.CPt=t=>{this.Co(new EZ("message",t.data))},this.xPt=t=>{this.Co(new EZ("messageerror",t.data))},this.l3=t=>{null==t.preventDefault||t.preventDefault.call(t);const i=t.error instanceof b?t.error:new b(t.message);this.Co(new qn(i)),this.bPt()},this.IPt=new nd(t,i),this.IPt.addEventListener("message",this.CPt),this.IPt.addEventListener("messageerror",this.xPt),this.IPt.addEventListener("error",this.l3)}};r();var CZ=0,xZ=class extends i{DPt(t,i){i?this.OPt.contentWindow.postMessage({type:"message",data:t},"*",i):this.OPt.contentWindow.postMessage({type:"message",data:t},"*")}bPt(){var t;this.OPt.removeEventListener("load",this.jPt),self.removeEventListener("message",this.zPt),null==(t=this.OPt.contentWindow)||t.postMessage({type:"terminate"},"*"),ei(this.OPt)}constructor(t,i){super(),this.jPt=()=>{this.OPt.removeEventListener("load",this.jPt),this.OPt.contentWindow.postMessage({type:"initialize",id:this.NN,script:this.PPt},"*")},this.zPt=t=>{t.origin===this.BPt&&t.data.id===this.NN&&("initialized"===t.data.type||("error"===t.data.type?(this.Co(new qn(new b(t.data.data.message))),this.bPt()):this.Co(new EZ("message",t.data.data))))},this.NN=CZ++,this.PPt=t;const e=lg.Dh("iframe.html",i);this.OPt=function(t){const i=h.createElement("iframe");return i.width="0",i.height="0",i.style.display="none",i.src=t,h.body.appendChild(i),i}(e.href),this.BPt=e.origin,this.OPt.addEventListener("load",this.jPt),self.addEventListener("message",this.zPt)}};function OZ(t,i,e){const s=lg.zv(t,i);return new LZ((t=>async function(t,i,e,s){let n;try{return n=new kZ(t,e),await BZ(n,s),n}catch(t){null==n||n.bPt(),Ht(t)}if(PZ&&mB){let i;try{const e=await lg.tj.mS({zu:t,nE:Yc.GET,rE:er.Ru,a_:s});i=await e.wE(s)}catch(t){Ht(t)}if(i){let t;try{const r=mB([i],{type:"application/javascript"});return t=URL.createObjectURL(r),n=new kZ(t,e),await BZ(n,s),n}catch(t){null==n||n.bPt(),Ht(t),PZ=!1}finally{t&&URL.revokeObjectURL(t)}}}try{return n=new xZ(t,i),await BZ(n,s),n}catch(t){throw null==n||n.bPt(),t}}(s,i,e,t)))}var jZ,zZ,PZ=!0;async function BZ(t,i){const e=await t.D_(["message","error"],i);if("error"===e.type)throw function(t){return new ce(p_.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}(e.error);if(!function(t){return dt(t)&&"7.0.0"===t.RPt}(e.data))throw new ce(p_.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (7.0.0).");return e}r(),function(t){t.UPt="tCt",t.QPt="DCt"}(jZ||(jZ={})),function(t){t.FPt="YPt",t.GPt="VPt"}(zZ||(zZ={}));var RZ=class{WPt(){const t=OZ(this.HPt,this.qPt,{name:"THEOplayer decrypt worker"});return t.yn("message",this.XPt),t.yn("error",this.Ztt),t}tCt(t,i,e){const s=""+ ++this.ZPt,n={KPt:jZ.UPt,JPt:s,$Pt:t,tBt:i,iBt:e},r=new Eo;return this.eBt.set(s,r),null!=this.IPt||(this.IPt=this.WPt()),this.IPt.DPt(n),r.PL}e_(t){void 0===t&&(t=new ia),this.eBt.forEach((i=>i.zL(t))),this.eBt.clear(),this.IPt&&(this.IPt.bPt(),this.IPt=void 0)}constructor(t){this.IPt=void 0,this.ZPt=0,this.eBt=Qt(),this.XPt=t=>{const i=t.data,e=i.sBt,s=this.eBt.get(e);s&&(this.eBt.delete(e),i.nBt===zZ.FPt?s.jL(i.rBt):i.nBt===zZ.GPt&&s.zL(new ce(p_.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.")))},this.Ztt=t=>{const i=new ce(p_.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);this.e_(i)},this.qPt=t;try{this.HPt=lg.zv("theoplayer.d.js",t)}catch(t){throw new ce(p_.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}};function UZ(t){return SZ.Ux()?new SZ:new RZ(t)}function QZ(t){const i=X_(t.boxes,CL);if(!i)return;const e=X_(i.boxes,xL);return e?e.handlerType:void 0}function FZ(t){const i=new sN;return i.boxes.push(...t.boxes),i}function YZ(t){const i=new NT;return i.boxes.push(...t.boxes),i}r(),r(),r(),r();var GZ=8;function VZ(t,i){const e=function(t){const i=new Ue;return i.boxes.push(...t.boxes),i}(t),s=HZ(i);for(let t=0;t<e.boxes.length;t++){const n=e.boxes[t];if(n===i)e.boxes[t]=new KM(new T(i.getSize()-GZ));else if(OL(n)){const i=n,r=J_(i.boxes,(t=>t instanceof MT&&t.trackId===s));if(r>=0){const s=i.boxes[r],n=YZ(i);n.boxes[r]=new KM(new T(s.getSize()-GZ)),e.boxes[t]=n}}}return e}function WZ(t,i){const e=function(t){const i=new QT;return i.boxes.push(...t.boxes),i}(t);for(let t=0;t<e.boxes.length;t++){const s=e.boxes[t];if(PL(s)){const n=X_(s.boxes,BL);n&&n.trackId===i&&(e.boxes[t]=new KM(new T(s.getSize()-GZ)))}}return e}function HZ(t){return X_(t.boxes,kL).trackId}function qZ(t,i,e,s){const n=X_(t.boxes,BL),r=e.aI(i).UD();let h=Ce.ZERO;for(const i of t.boxes){if(i instanceof zT){h=vA(i.baseMediaDecodeTime,r),i.baseMediaDecodeTime=i.baseMediaDecodeTime.subtract(h);break}if(i instanceof eu){h=vA(Ce.fromNumber(i.baseMediaDecodeTime),r),i.baseMediaDecodeTime-=h.toNumber();break}}if(h.isZero())return;const o=X_(t.boxes,RL);if(void 0!==o&&o.samples.length>0){const t=o.samples;if(!o.flags.sampleDurationPresent){o.flags.sampleDurationPresent=!0;const i=null!=s?s:n.defaultSampleDuration;for(const e of t)e.duration=i}t[0].duration+=h.toNumber(),o.samples=t}}r();var XZ="Mp4Transmuxer",ZZ=class extends sc{pOt(t,i){Pi(i);const e=t.qDt,s=ck(Mo(t.EEt.Cp.Cp));if(!s)throw new b("Mp4Transmuxer - Unable to parse "+e.hA+" MP4 initializer.");this.GK=s;const n=function(t){let i,e;for(const s of t.Z)i||(i=s.QZ),e||(e=s.UZ);if(i||e)return{_It:i,gIt:e,zSt:void 0};return}(s);n&&this.TOt(e,n);const r=function(t){for(const i of t.Z)if(void 0!==i.FZ)return i.FZ;return}(s);void 0!==r&&this.NOt(e,r);const h=function(t){var i;const e=uN(t),s=X_(e.boxes,bL),n=s.boxes.filter(LL),r=X_(n,(t=>QZ(t)===oT.AUDIO)),h=X_(n,(t=>QZ(t)===oT.VIDEO)),o={_It:{Wy:r?HZ(r):void 0},gIt:{Wy:h?HZ(h):void 0}},a=null==(i=X_(s.boxes,OL))?void 0:i.boxes.filter(jL);var u,c;const l=a?{_It:null!=(u=X_(a,(t=>t.trackId===o._It.Wy)))?u:void 0,gIt:null!=(c=X_(a,(t=>t.trackId===o.gIt.Wy)))?c:void 0}:void 0;var d,f;if(l&&(o._It.oT=null==(d=l._It)?void 0:d.defaultSampleDuration,o.gIt.oT=null==(f=l.gIt)?void 0:f.defaultSampleDuration),!r||!h)return{_It:r?t:void 0,gIt:h?t:void 0,FI:o};const _=FZ(e),g=FZ(e),w=e.boxes.indexOf(s);_.boxes[w]=VZ(s,h),g.boxes[w]=VZ(s,r);const A=_.serialize().join(),v=g.serialize().join();return{_It:A,gIt:v,FI:o}}(t.EEt.Cp.Cp);if(this.hBt=h.FI,h.gIt){const i=X_(s.Z,(t=>t.Wy===h.FI.gIt.Wy)),e={hA:"bOt",Cp:{hA:at.CH,Cp:h.gIt},gut:rv.vp,kEt:t.kEt,LOt:{bst:'video/mp4; codecs="'+i.UZ+'"',TEt:t.TEt},zN:t.zN,qDt:t.qDt,Zkt:t.EEt.Zkt};this.Fxt(e)}if(h._It){const i=X_(s.Z,(t=>t.Wy===h.FI._It.Wy)),e={hA:"bOt",Cp:{hA:at.CH,Cp:h._It},gut:rv.mp,kEt:t.kEt,LOt:{bst:'audio/mp4; codecs="'+i.QZ+'"',TEt:t.TEt},zN:t.zN,qDt:t.qDt,Zkt:t.EEt.Zkt};this.Fxt(e)}return Promise.resolve()}async MOt(t,i){Pi(i);const e=t.Mht.Zkt;p.$y(XZ,"Transmuxing fMP4: "+Nt(e.Pnt));const s=t.Mht.Cp,n=KZ(s.Cp,this.GK),r=eh(n.map((t=>t.M8)),Fm);if(void 0!==r&&(e.T8=r,this.IOt(t.qDt)),!this.RLt.vLt(t.kEt)){const s=Pt.dI(e.zN);if(n.length>0){const i=eh(n.map((t=>t.oBt)),Fm);for(const e of this.fOt)this.RLt.ELt(t.kEt,e,i,s,!1);this.IOt(t.qDt)}this.RLt.vLt(t.kEt)||await rl(this.RLt.pLt(t.kEt),i)}const h=this.RLt.NLt(t.kEt),o=e.T8?this.RLt.DLt(e.T8,e).cD():e.zN,a=GX(e,o);var u;const c={tOt:a,iOt:VX(e,a),zN:o,ct:null!=(u=e.ct)?u:0,CI:h.cD(),kEt:t.kEt,qDt:t.qDt,Zkt:t.Mht.Zkt},l=function(t,i){if(void 0===i._It.Wy)return{_It:void 0,gIt:t};if(void 0===i.gIt.Wy)return{_It:t,gIt:void 0};const e=uN(t),s=FZ(e),n=FZ(e);for(let t=0;t<e.boxes.length;t++){const r=e.boxes[t];zL(r)&&(s.boxes[t]=WZ(r,i.gIt.Wy),n.boxes[t]=WZ(r,i._It.Wy))}const r=s.serialize().join(),h=n.serialize().join();return{_It:r,gIt:h}}(s.Cp,this.hBt);if(l.gIt){var d;const i=this.hBt.gIt.Wy,s=X_(this.GK.Z,(t=>t.Wy===i)),h=X_(n,(t=>t.Wy===i)),o=this.aBt(l.gIt,s,h,null==(d=this.hBt)?void 0:d.gIt.oT,e);this.uBt=s,this.DOt(t.qDt,e,h.M8.MD(r));const a=At({hA:"Mht",Cp:{hA:at.CH,Cp:o},gut:rv.vp},c);this.Fxt(a)}if(l._It){const t=At({hA:"Mht",Cp:{hA:at.CH,Cp:l._It},gut:rv.mp},c);this.Fxt(t)}this.cBt=e,this.lBt=n}aBt(t,i,e,s,n){if(!function(t){return Qh(t)?t.SEt:0===t.hbt&&t.nbt.SEt}(n))return t;if(!this.cBt||!this.uBt||!this.lBt)return t;const r=this.uBt.Wy,h=X_(this.lBt,(t=>t.Wy===r)),o=this.RLt.DLt(h.dBt,this.cBt),a=this.RLt.DLt(e.M8,n).MD(o).aI(i.zy);if(a.gD(Pt.LD))return t;if(a.lD(Pt.dI(.5)))return t;const u=Qh(n)?n:n.nbt;return p.NIt(XZ,"Stretching first video frame of segment #"+u.uEt+" to fill gap of "+a.cD()+"s"),function(t,i,e,s){const n=uN(t),r=X_(n.boxes,zL);if(r){const t=r.getSize();for(const t of r.boxes)t instanceof Is&&qZ(t,i,e,s);const n=r.getSize();if(n!==t){const i=n-t;for(const t of r.boxes)t instanceof Is&&UL(t,i)}}return n.serialize().join()}(t,i.zy,a,s)}constructor(...t){super(...t),this.GK=void 0,this.hBt=void 0,this.cBt=void 0,this.lBt=void 0,this.uBt=void 0}};function KZ(t,i){const e=JA(Qi.wy(Mo(t)),Wr.ep);if(!e)throw new b("Mp4Transmuxer - Unable to parse segment or part.");return function(t,i){const e=[];for(const n of t.Z){if(!n.vT||0===n.AT.length||0===n.AT[0].NT.length)continue;const t=n.iy.Wy,r=X_(i.Z,(i=>i.Wy===t));let h=0,o=1/0,a=0;const u=n.iy.oT||0;for(const t of n.AT)for(const i of t.NT){const t=i.DT||0,e=h+t;var s;h+=null!=(s=i.ct)?s:u;const n=h+t;e<o&&(o=e),n>a&&(a=n)}const c=Pt.SD(n.vT.vT,r.zy);e.push({Wy:t,oBt:c,M8:c.mN(Pt.ED(o,r.zy)),fBt:c.mN(Pt.ED(h,r.zy)),dBt:c.mN(Pt.ED(a,r.zy))})}return e}(e,i)}var JZ,$Z="MpegtsTransmuxer",tK=class extends ZZ{pOt(t,i){return super.pOt(t,i)}AOt(t,i){if(super.AOt(t,i),this.fit._Bt())return;var e;const s=null!=(e=null==i?void 0:i.Pnt)?e:t.Pnt;if(!s)return;/\.(ts|aac|mp3)/i.test(s.ST)&&this.fit.gBt()}wBt(t){let i;return this.ABt.has(t.kEt)?i=this.ABt.get(t.kEt):(i=lZ(t.Mht.Cp.Cp),this.ABt.set(t.kEt,i)),i}async MOt(t,i){Pi(i);const e=this.wBt(t),s=t.Mht;if(e!==rZ.rjt&&e!==rZ.hjt)return super.MOt(t,i);if(s.Zkt.TEt.some(eK))throw new ce(p_.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");const n=this.fit.gBt();let r;e===rZ.rjt?(p.$y($Z,"Transmuxing MPEG-TS: "+Nt(s.Zkt.Pnt)),r=await n.vBt({data:s.Cp.Cp,metadata:this.mBt})):(p.$y($Z,"Transmuxing raw audio: "+Nt(s.Zkt.Pnt)),r=await n.pBt({data:s.Cp.Cp,metadata:this.mBt})),Pi(i),this.TOt(t.qDt,{_It:r.metadata.audio_codec,gIt:r.metadata.video_codec,zSt:void 0}),r.metadata.video_frame_rate&&this.NOt(t.qDt,r.metadata.video_frame_rate);const h=sK(r.metadata.first_decode_timestamp),o=sK(r.metadata.first_presentation_timestamp),a=void 0!==r.metadata.first_video_presentation_timestamp?sK(r.metadata.first_video_presentation_timestamp):void 0;if(s.Zkt.T8=o,this.IOt(t.qDt),void 0!==a&&this.DOt(t.qDt,s.Zkt,function(t,i){let e=t.MD(i);return e.vD(Pt.LD)&&(e=e.mN(zo())),e}(a,o)),!this.RLt.vLt(t.kEt)){const e=Pt.dI(s.Zkt.zN);for(const i of this.fOt)this.RLt.ELt(t.kEt,i,h,e,!0);this.IOt(t.qDt),this.RLt.vLt(t.kEt)||await rl(this.RLt.pLt(t.kEt),i)}const u=this.RLt.SLt(h,s.Zkt);this.mBt=r.metadata;const c=this.RLt.DLt(o,s.Zkt).cD(),l=GX(s.Zkt,c);var d;const f={tOt:l,iOt:VX(s.Zkt,l),zN:c,ct:null!=(d=s.Zkt.ct)?d:0,CI:u.cD(),kEt:t.kEt,qDt:t.qDt,Zkt:s.Zkt};if(void 0===r.data.audio_media&&void 0===r.data.video_media){for(const t of this.fOt){const i=At({hA:"Mht",Cp:void 0,gut:t},f);this.Fxt(i)}return}const _=[];if(void 0!==r.data.audio_media){if(r.data.audio_init&&(!this.yBt||this.MBt!==t.kEt||!Yi(this.yBt,r.data.audio_init))){const i=this.RLt.DLt(s.Zkt.T8,s.Zkt).cD(),e={hA:"bOt",Cp:{hA:at.CH,Cp:r.data.audio_init},gut:rv.mp,kEt:t.kEt,LOt:{bst:'audio/mp4; codecs="'+r.metadata.audio_codec+'"',TEt:s.Zkt.TEt},zN:i,qDt:t.qDt,Zkt:s.Zkt};this.yBt=r.data.audio_init,this.MBt=t.kEt,this.Fxt(e)}const i=At({hA:"Mht",Cp:{hA:at.CH,Cp:r.data.audio_media},gut:rv.mp},f);this.Fxt(i)}else if(t.Mht.Zkt.ebt&&ea(this.fOt,rv.mp)){const t=At({hA:"Mht",Cp:void 0,gut:rv.mp},f);this.Fxt(t)}if(void 0!==r.data.video_media){if(r.data.video_init&&(!this.TBt||this.NBt!==t.kEt||!Yi(this.TBt,r.data.video_init))){const i=this.RLt.DLt(s.Zkt.T8,s.Zkt).cD(),e={hA:"bOt",Cp:{hA:at.CH,Cp:r.data.video_init},gut:rv.vp,kEt:t.kEt,LOt:{bst:'video/mp4; codecs="'+r.metadata.video_codec+'"',TEt:s.Zkt.TEt},zN:i,qDt:t.qDt,Zkt:s.Zkt};this.TBt=r.data.video_init,this.NBt=t.kEt,this.DBt=ck(Mo(r.data.video_init)),this.Fxt(e)}const i=this.DBt.Z[0],e=KZ(r.data.video_media,this.DBt)[0],n=this.aBt(r.data.video_media,i,e,void 0,s.Zkt);this.uBt=i;const h=At({hA:"Mht",Cp:{hA:at.CH,Cp:n},gut:rv.vp},f);this.Fxt(h),_.push(e)}else if(t.Mht.Zkt.ebt&&ea(this.fOt,rv.vp)){const t=At({hA:"Mht",Cp:void 0,gut:rv.vp},f);this.Fxt(t)}this.cBt=s.Zkt,this.lBt=_}c_(){this.yBt=void 0,this.TBt=void 0,super.c_()}constructor(t,i,e,s){super(i,e,s),this.mBt=void 0,this.yBt=void 0,this.TBt=void 0,this.DBt=void 0,this.MBt=0,this.NBt=0,this.ABt=_e(),this.fit=t}},iK=class{Uct(t,i,e){return new tK(this,t,i,e)}};function eK(t){return t.nE===la.BSt}function sK(t){return Pt.SD(Ce.fromBits(t.low,t.high),t.base)}r(),r(),function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(JZ||(JZ={}));var nK=()=>{const t=function(){if("undefined"==typeof WebAssembly)return!1;const t=wn.wb;if(t>0&&t<=56)return!1;try{return void 0!==new WebAssembly.Module(mi("AGFzbQEAAAA="))}catch(t){return!1}}();return nK=()=>t,t};var rK=class{vBt(t){return this.IBt(JZ.MPEGTS_TO_FMP4,t)}pBt(t){return this.IBt(JZ.RAW_AUDIO_TO_FMP4,t)}WPt(){const t=OZ(this.HPt,this.qPt,{name:"THEOplayer transmux worker"});return t.yn("message",this.XPt),t.yn("error",this.Ztt),t}IBt(t,i){const e=++this.ZPt,s={type:t,id:e,input:i},n=new Eo;return this.eBt.set(e,n),this.IPt.DPt(s),n.PL}e_(t){void 0===t&&(t=new ia),this.eBt.forEach((i=>i.zL(t))),this.eBt.clear(),this.IPt.bPt()}constructor(t){this.ZPt=0,this.eBt=_e(),this.XPt=t=>{const i=t.data;if(void 0!==i.requestId){const t=this.eBt.get(i.requestId);if(!t)return;this.eBt.delete(i.requestId),i.success?t.jL(i.output):t.zL(new ce(i.errorCode,i.error))}else i.success||this.e_(new ce(i.errorCode,i.error))},this.Ztt=t=>{const i=new ce(p_.MEDIA_DECODE_ERROR,t.error.message,t.error);this.e_(i)},this.qPt=t;const i=nK()?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.HPt=lg.zv(i,t)}catch(t){throw new ce(p_.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.IPt=this.WPt()}},hK=class extends iK{_Bt(){return void 0!==this.IPt}gBt(){var t;return null!=(t=this.IPt)?t:this.IPt=new rK(this.SBt)}e_(){this.IPt&&(this.IPt.e_(),this.IPt=void 0)}constructor(t){super(),this.SBt=t,this.IPt=void 0}},oK=class{D8(){return new hK(this.SBt)}constructor(t){this.SBt=t}},aK=class extends vZ{Ug(){if(MU(this.vP))return this.vP.Ug()}get Bg(){return!1}set Bg(t){}async gn(){var t;await super.gn(),null==(t=this.uNt)||t.gn()}constructor(t,i,e,s,n,r,h){super(t,i,e,s,n,r,h),wn.Fb&&(this.uNt=new qW(this))}},uK=class extends aK{async gn(){await super.gn(),await this.HP.WP(this.vP)}constructor(t,i,e,s,n,r,h){const o=new HW(t);super(o.cB(rv.vp),i,e,s,n,r,h),this.HP=o}},cK=class extends mZ{async lB(t,i){return!!Ck(t.useManagedMediaSource)&&(!(!t.useManagedMediaSource&&(wn.Ga||wn.oL))&&(!i.manifestMetadataTrack&&super.lB(t,i)))}async net(t){return(!t.clearkey||!wn.Fb)&&super.net(t)}};UI(new class extends cK{_m(t,i,e,s,n,r){return new uK(i,e,n,UZ(s.libraryLocation),new oK(s.libraryLocation),new ft(Kn.gL.ket,Kn.gL.Let,Kn.gL.bet,Kn.gL.xet),s)}dB(){return!0}constructor(...t){super(...t),this.fB=yi.Fv}}),p.Rt=()=>{var t;return Boolean(null==(t=s)?void 0:t.THEOplayerDebugLogsEnabled)},r(),r(),r(),r();var lK=class{aet(t,i){return Promise.resolve(!1)}cet(t,i){return Promise.resolve(void 0)}ret(t){return Promise.resolve(void 0)}nH(t){return Promise.resolve(void 0)}},dK=class extends i{EBt(){var t;return null==(t=this.bBt)?void 0:t.CDt}Cn(t){W(Ou((()=>this.LBt(t)),t))}async LBt(t){await this.Pdt.okt(t),this.kBt&&(this.CBt(this.kBt.ji,this.kBt.Ti),this.kBt=void 0),this.Y1=!0}xBt(t,i){this.Y1?this.CBt(t,i):this.kBt={ji:t,Ti:i}}CBt(t,i){const e=this.OBt(t,i),s=null==e?void 0:e.bIt[0];s!==this.bBt&&(this.jBt(),void 0!==s&&(this.bBt=s,this.zBt=new MX(this.Pdt,s),this.zBt.lCt()))}jBt(){this.bBt=void 0,this.zBt&&(this.zBt.e_(),this.zBt=void 0)}OBt(t,i){const e=X_(this.Pdt.Tr.SIt,(e=>void 0!==e.vIt&&e.vIt.ji===t&&e.vIt.Ti===i));return null!=e?e:this.Pdt.Tr.SIt[0]}gn(){this.Vo(),this.jBt(),this.Pdt.e_()}constructor(i,e,s){super(),this.bBt=void 0,this.zBt=void 0,this.kBt=void 0,this.PBt=()=>{this.Co(new Nn)},this.bc=i,this.Pdt=new lX(s,new lK,i.useCredentials,i.src),this.Pdt.yn(t.QA,this.Ds),this.Y1=!1}};r();var fK=class extends ra{get ht(){return this.D4.ht}get b_(){return this.D4.b_}get k_(){return this.D4.k_}set k_(t){this.D4.k_=t}get j_(){return this.D4.j_}set j_(t){this.D4.j_=t}get ct(){return this.D4.ct}get R_(){return this.D4.R_}get F_(){return this.D4.F_}get G_(){return this.D4.G_}get lt(){return this.D4.lt}get W_(){return this.D4.W_}get q_(){return this.D4.q_}get Z_(){return this.D4.Z_}set Z_(t){this.D4.Z_=t}get eg(){return this.D4.eg}get hg(){return this.D4.hg}get ag(){return this.D4.ag}set ag(t){this.D4.ag=t}get fg(){return this.D4.fg}get gg(){return this.D4.gg}set gg(t){this.D4.gg=t}get vg(){return this.D4.vg}get yg(){return this.D4.yg}get Tg(){return this.D4.Tg}get IP(){return this.D4.IP}get nt(){return this.D4.nt}get Ig(){return this.D4.Ig}get rt(){return this.D4.rt}get Lg(){return this.D4.Lg}get xg(){return this.D4.xg}set xg(t){this.D4.xg=t}get zg(){return this.D4.zg}get Bg(){return this.D4.Bg}set Bg(t){this.D4.Bg=t}get EP(){return this.D4.EP}Hg(){return this.D4.Hg()}Rg(){return this.D4.Rg()}Ug(){return this.D4.Ug()}be(){return this.D4.be()}Zg(){return this.D4.Zg()}Kg(){return this.D4.Kg()}Gg(){return this.D4.Gg()}Vg(){return this.D4.Vg()}Zn(){return this.D4.Zn()}ga(t,i,e){return this.D4.ga(t,i,e)}ge(){return this.D4.ge()}qg(){return this.D4.qg()}Xg(){return this.D4.Xg()}gn(){this.Vo();for(const t of FI)this.D4.fn(t,this.Ds);return this.D4.gn()}constructor(t){super(),this.D4=t;for(const t of FI)this.D4.yn(t,this.Ds)}},_K=class extends fK{async ga(t,i,e){await super.ga(t,i,e),t.hlsDateRange&&this.Cnt(t,i,e)}Cnt(i,e,s){this.BBt=new dK(i,e,this.RBt),this.BBt.yn(t.QA,this.handleManifestUpdate),this.BBt.Cn(s)}Zn(){return this.Ekt&&(this.nt.it(this.Ekt),this.S2.it(this.Ekt),this.Ekt.gn(),this.Ekt=void 0,this.UBt=!1),this.BBt&&(this.BBt.gn(),this.BBt=void 0),this.S2.Zn(),super.Zn()}gn(){return this.fn(t.qA,this.mPt),this.BBt&&(this.BBt.gn(),this.BBt=void 0),this.S2.gn(),super.gn()}constructor(i,e,s){super(i),this.BBt=void 0,this.UBt=!1,this.Ekt=void 0,this.handleManifestUpdate=()=>{const t=this.BBt.EBt();if(t){const i=this.IP;if(i){const e=i.getTime();let s=this.Ekt;s||(s=new Yq,this.Ekt=s),s.Qn(t.CEt,(t=>(t.getTime()-e)/1e3)),!this.UBt&&s.L.U>0&&(this.nt.tt(s),this.S2.tt(s),this.UBt=!0)}}},this.mPt=()=>{this.BBt&&this.BBt.xBt(this.Lg,this.Ig)},this.RBt=e,this.eH=s,this.S2=new Ju(this),this.yn(t.qA,this.mPt)}};!function(t){Nu._B().gB(t)}((function(t,i,e){return new _K(t,i,e)})),r(),r(),r(),r();var gK,xa=class extends Xo{get name(){return"CastError"}constructor(t,i=""){super("An error occurred while casting."),this.errorCode=t,this.description=i}},wK="//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js";function AK(){return gK||(gK=async function(){mK()||await async function(){const t=new Eo,i=s.__onGCastApiAvailable;return s.__onGCastApiAvailable=(e,n)=>{e?t.jL():t.zL(new b(n)),s.__onGCastApiAvailable=i,i&&i(e,n)},t.PL}();vK()||await ye(100);vK()||(lg.Pv('Detected the Chromecast library was loaded without the CAF framework. It is strongly encouraged to load it with the CAF framework by using this URL: "//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"'),await function(t){return new Promise(((i,e)=>{const s=h.createElement("script");s.onload=()=>i(),s.onerror=t=>e((null==t?void 0:t.error)||t),s.type="text/javascript",s.src=t,(h.head||h.documentElement).appendChild(s)}))}(wK));return}().catch((()=>{throw new xa("API_NOT_INITIALIZED","The Chromecast library could not be loaded successfully.")}))),gK}function vK(){return Boolean("undefined"!=typeof cast&&cast.framework)}function mK(){return"undefined"!=typeof chrome&&chrome&&chrome.cast&&chrome.cast.isAvailable}function pK(t,i,e,s){if(j_(i))for(const e of _.keys(i)){if("type"===e||"images"===e)continue;const s=i[e];j_(s)&&(t[e]=s)}!function(t,i,e,s){if(!j_(e)&&!j_(null==i?void 0:i.images))return;t.images=[],e&&t.images.push(new s.Image(e));if(null==i?void 0:i.images)if(ae(i.images))t.images.push(new s.Image(i.images));else if(pi(i.images))for(const e of i.images){let i;var n,r;if(ae(e))i=new s.Image(e);else i=new s.Image(e.src),i.height=null!=(n=e.height)?n:null,i.width=null!=(r=e.width)?r:null;t.images.push(i)}}(t,i,e,s)}function yK(t,i,e){return void 0===e&&(e=chrome),function(t,i,e){switch(null==t?void 0:t.type){case"movie":{const s=new e.MovieMediaMetadata;return pK(s,t,i,e),s}case"audio":{const s=new e.MusicTrackMediaMetadata;return pK(s,t,i,e),!j_(s.artist)&&j_(t.artistName)&&(s.artist=t.artistName),s}case"tv-show":{const s=new e.TvShowMediaMetadata;return pK(s,t,i,e),!j_(s.title)&&j_(t.episodeTitle)&&(s.title=t.episodeTitle),!j_(s.season)&&j_(t.seasonNumber)&&(s.season=t.seasonNumber),!j_(s.episode)&&j_(t.episodeNumber)&&(s.episode=t.episodeNumber),s}default:{const s=new e.GenericMediaMetadata;return pK(s,t,i,e),s}}}(t,i,function(t){return{GenericMediaMetadata:t.cast.media.GenericMediaMetadata,MovieMediaMetadata:t.cast.media.MovieMediaMetadata,TvShowMediaMetadata:t.cast.media.TvShowMediaMetadata,MusicTrackMediaMetadata:t.cast.media.MusicTrackMediaMetadata,Image:t.cast.Image}}(e))}function pr(t){switch(t){case chrome.cast.ErrorCode.CANCEL:return"CANCEL";case chrome.cast.ErrorCode.TIMEOUT:return"TIMEOUT";case chrome.cast.ErrorCode.API_NOT_INITIALIZED:return"API_NOT_INITIALIZED";case chrome.cast.ErrorCode.INVALID_PARAMETER:return"INVALID_PARAMETER";case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:return"EXTENSION_NOT_COMPATIBLE";case chrome.cast.ErrorCode.EXTENSION_MISSING:return"EXTENSION_MISSING";case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:return"RECEIVER_UNAVAILABLE";case chrome.cast.ErrorCode.SESSION_ERROR:return"SESSION_ERROR";case chrome.cast.ErrorCode.CHANNEL_ERROR:return"CHANNEL_ERROR";case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:return"LOAD_MEDIA_FAILED";default:return"CANCEL"}}function MK(t){if(t.items&&t.items.length>0&&t.currentItemId>=0)return X_(t.items,(i=>i.itemId===t.currentItemId))}r(),r(),r(),r(),r();var TK,Br="urn:x-cast:com.theoplayer.cast";r(),r(),function(t){t.QBt="theoplayer_receiver_info",t.FBt="theoplayer_trackpropertychange",t.YBt="theoplayer_propertychange"}(TK||(TK={})),r();var NK;(NK||(NK={})).SKIP_AD="SKIP_AD",r();function wr(t){h.createElement("img").src=t}r(),r(),r();var DK=new RegExp(/^(\d\d):(\d\d):(\d\d)(?:\.(\d{3}))?$/);function nc(t){if(!ae(t))return;const i=t.match(DK);return i?3600*C(i[1],10)+60*C(i[2],10)+Number(i[3])+(Number(i[4])||0)/1e3:void 0}function rc(t){if(void 0===t)return;const i=t.match(/^([1-9]?\d|100)%$/);return i?C(i[1])/100:void 0}function IK(t,i){return"vmap"===t.type||!j_(t.type)&&!j_(i)}function SK(t,i){return"vast"===t.type||!j_(t.type)&&j_(i)}r(),r(),r();var hc=class{},EK=class extends hc{get GBt(){return this.Ic}VBt(){return null!=this.WBt||(this.WBt=Eh(this.Ic,(t=>t.VBt()))),this.WBt}constructor(t){super(),this.Ic=t.sort(((t,i)=>t.fT-i.fT))}};r(),r();var yc=class extends hc{get o(){return this.HBt}get fT(){return this.qBt}get XBt(){return this.ZBt}constructor(t,i){super(),this.HBt=t,this.qBt=i,this.ZBt=!1}},bK=class extends yc{get KBt(){return this.JBt}get $Bt(){return this.tRt}get iRt(){return this.eRt}get sRt(){return this.nRt}get lt(){return this.yP}VBt(){if(void 0===this.rRt){let t,i,e,s=[];for(const n of this.JBt)n.hRt&&(t=n.hRt),n.oRt&&(i=n.oRt),n.aRt&&(e=n.aRt),s=s.concat(n.universalAdIds);this.rRt={sRt:this.sRt,hRt:t,uRt:i,aRt:e,lt:this.lt,cRt:s}}return[this.rRt]}constructor(t,i,e,s,n,r,h){super(t,i),this.tRt=e,this.eRt=s,this.nRt=n,this.JBt=r,this.yP=h}};r(),r();var LK,kK=class{get lRt(){return this.dRt}get fRt(){return this._Rt}constructor(t,i){this.dRt=t,this._Rt=i}},CK=class{get gRt(){return this.wRt}get ARt(){return this.vRt}get mRt(){return this.pRt}get yRt(){return this.MRt}get Xl(){return this.TRt}set Xl(t){this.TRt=t}get NRt(){return this.DRt}get IRt(){return this.SRt}ERt(){this.SRt=!0}get $Bt(){return this.tRt}constructor(t,i,e,s,n,r){this.wRt=t,this.vRt=i,this.pRt=e,this.MRt=s,this.SRt=!1,this.DRt=n,this.tRt=r}};r(),function(t){t.bRt="all",t.LRt="any",t.DB="none"}(LK||(LK={}));var xK=class{get kRt(){return this.CRt}get xRt(){return this.ORt}constructor(t,i){this.CRt=t,this.ORt=i}},OK=class{get o(){return this.NN}get ji(){return this.tC}get Ti(){return this.iC}get jRt(){return this.zRt}get PRt(){return this.BRt}get RRt(){return this.URt}get QRt(){return this.FRt}get YRt(){return this.GRt}get VRt(){return this.WRt}get HRt(){return this.qRt}get gRt(){return this.wRt}get ARt(){return this.vRt}get mRt(){return this.pRt}get XRt(){return this.ZRt}get fRt(){return this.KRt}get JRt(){return this.$Rt}constructor(t,i,e,s,n,r,h,o,a,u,c,l,d,f,_,g){this.tC=t,this.iC=i,this.NN=e,this.zRt=s,this.BRt=n,this.URt=r,this.FRt=h,this.GRt=o,this.WRt=a,this.qRt=u,this.wRt=c,this.vRt=l,this.pRt=d,this.ZRt=f,this.KRt=_,this.$Rt=g}};r();var jK=class{get id(){return this.NN}get uri(){return this.ubt}constructor(t,i){this.NN=t,this.ubt=i}},Er=class{get tUt(){return this.iUt}get eUt(){return this.sUt}get nUt(){return this.rUt}get hUt(){return this.oUt}constructor(t,i,e,s){this.iUt=t,this.sUt=i,this.rUt=e,this.oUt=s}},zK=class extends yc{get sRt(){return this.nRt}get aUt(){return this.uUt}get cUt(){return this.lUt}get KBt(){return this.JBt}get dUt(){return this.fUt}get _Ut(){return this.gUt}get lt(){return this.yP}VBt(){return void 0===this.uUt?[]:(null!=this.WBt||(this.WBt=this.uUt.VBt().map((t=>this.wUt(t)))),this.WBt)}wUt(t){let i,e,s;for(const t of this.KBt)t.hRt&&(i=t.hRt),t.oRt&&(e=t.oRt),t.aRt&&(s=t.aRt);const n=t.sRt.concat(this.sRt);let r=t.hRt;if(i&&t.hRt){const e=new Er(t.hRt.AUt.tUt,t.hRt.AUt.eUt,t.hRt.AUt.nUt.concat(i.AUt.nUt),t.hRt.AUt.hUt.concat(i.AUt.hUt));r=t.hRt,r.AUt=e,r.fRt=r.fRt.concat(i.fRt)}let h=t.uRt;if(e&&e.lRt){var o,a;const s=[];for(const t of e.lRt)s.concat(t.yRt.nUt);const n=[];var u,c;for(const e of null!=(u=null==(o=t.uRt)?void 0:o.lRt)?u:[]){var l,d,f;const r=new Er(e.yRt.tUt,e.yRt.eUt,e.yRt.nUt.concat(s),(null!=(d=null==(l=t.hRt)?void 0:l.AUt.hUt)?d:[]).concat(null!=(f=null==i?void 0:i.AUt.hUt)?f:[]));n.push(new CK(e.gRt,e.ARt,e.mRt,r,e.NRt,e.$Bt))}h=new kK(n,(null!=(c=null==(a=t.uRt)?void 0:a.fRt)?c:[]).concat(e.fRt))}let _=t.aRt;if(_){var g;let i=_.kRt;var w,A;s&&s.kRt&&(i=s.kRt),_=new xK(i,(null!=(w=null==(g=t.aRt)?void 0:g.xRt)?w:[]).concat(null!=(A=null==s?void 0:s.xRt)?A:[]))}let v=t.lt;return this.lt&&(v=this.lt),{sRt:n,hRt:r,uRt:h,aRt:_,lt:v,cRt:t.cRt}}constructor(t,i,e,s,n,r,h,o,a){super(t,i),this.nRt=e,this.uUt=s,this.lUt=n,this.JBt=r,this.fUt=h,this.gUt=o,this.yP=a}};r();var PK=class{get o(){return this.NN}get vUt(){return this.mUt}get pUt(){return this.yUt}get YRt(){return this.GRt}get hRt(){return this.MUt}get oRt(){return this.TUt}get aRt(){return this.NUt}get universalAdIds(){return this.DUt}constructor(t,i,e,s,n,r,h,o){this.NN=t,this.mUt=i,this.yUt=e,this.GRt=s,this.MUt=n,this.TUt=r,this.NUt=h,this.DUt=o}};r();var Xn,BK=class{get ct(){return this.IUt}get SUt(){return this.EUt}get fRt(){return this._Rt}set fRt(t){this._Rt=t}set AUt(t){this.bUt=t}get AUt(){return this.bUt}get LUt(){return this.kUt}set LUt(t){this.kUt=t}get CUt(){return this.SRt}get Xl(){return this.TRt}set Xl(t){this.TRt=t}get NRt(){return this.DRt}get $Bt(){return this.tRt}ERt(){this.SRt=!0}constructor(t,i,e,s,n,r,h){this.IUt=t,this.EUt=i,this._Rt=e,this.bUt=s,this.kUt=n,this.SRt=!1,this.DRt=r,this.tRt=h}};function ke(t,i){return QK(t)&&t.getAttribute(i)||void 0}function RK(t,i){return UK(t,i,void 0,!1)}function UK(t,i,e,s){return i===(t.localName?t.localName:t.nodeName)&&(s&&e?e===t.namespaceURI:!e||!t.namespaceURI||e===t.namespaceURI)}function Lo(t,i){const e=[];for(let s=0;s<t.childNodes.length;s+=1){const n=t.childNodes.item(s);QK(n)&&RK(n,i)&&e.push(n)}return e}function QK(t){return t&&1===t.nodeType}function FK(t,i){const e=(new DOMParser).parseFromString(t,i);if(!e||e.getElementsByTagName("parsererror").length>0)throw new b('Invalid document for MIME type "'+i+'"');return e}function YK(t){return t.replace(/[<>&'"]/g,(t=>{switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}}))}function GK(t){return"data:application/xml,"+encodeURIComponent(t)}function VK(t){switch(t){case"breakStart":case"breakEnd":case"error":return!0;default:return!1}}r(),r(),function(t){t.xUt="mute",t.OUt="unmute",t.Sh="pause",t.jUt="resume",t.zUt="rewind",t.PUt="skip",t.BUt="playerExpand",t.RUt="playerCollapse",t.Ah="fullscreen",t.UUt="exitFullscreen",t.QUt="expand",t.COLLAPSE="collapse",t.act="start",t.FUt="firstQuartile",t.YUt="thirdQuartile",t.GUt="midpoint",t.VUt="complete",t.WUt="acceptInvitationLinear",t.HUt="acceptInvitation",t.qUt="timeSpentViewing",t.XUt="otherAdInteraction",t.VA="progress",t.ZUt="creativeView",t.KUt="adExpand",t.JUt="adCollapse",t.$Ut="minimize",t.tQt="close",t.iQt="closeLinear",t.eQt="overlayViewDuration",t.sQt="breakStart",t.nQt="breakEnd",t.ha="error"}(Xn||(Xn={}));var WK=["mute","unmute","pause","resume","rewind","skip","closeLinear","close","playerExpand","playerCollapse","fullscreen","exitFullscreen","expand","collapse","creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","acceptInvitationLinear","acceptInvitation","timeSpentViewing","otherAdInteraction","progress"];function HK(t){return void 0!==t&&-1!==WK.indexOf(t)}var qK=["start","firstQuartile","midpoint","thirdQuartile","complete","mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","expand","collapse","fullscreen","exitFullscreen","creativeView","acceptInvitation","adExpand","adCollapse","minimize","close","overlayViewDuration","otherAdInteraction","progress"];function XK(t){return void 0!==t&&-1!==qK.indexOf(t)}var ZK=["mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","creativeView"];function KK(t){return void 0!==t&&-1!==ZK.indexOf(t)}function JK(t,i){if(void 0===t||""===t||void 0===i)return;let e=t.match(/^(\d+):(\d+):(\d+)$/);return e?S(e[1]||"0")+60*S(e[2]||"0")+S(e[3]||"0"):(e=t.match(/^(100|[1-9]\d|\d)%$/),e?S(e[1]||"0")*i/100:void 0)}var $K=class{get uQ(){return this.rQt}get Ku(){return this.hQt}get eventURL(){return this.oQt}constructor(t,i,e){this.rQt=t,this.hQt=i,this.oQt=e}};r();var tJ=class{get aQt(){return this.uQt}constructor(t){this.uQt=t}},iJ=class extends tJ{get tUt(){return this.iUt}get JRt(){return this.$Rt}get cQt(){return this.lQt}constructor(t,i,e,s){super(t),this.lQt=i,this.iUt=e,this.$Rt=s}},eJ=class extends tJ{constructor(t){super(t)}},sJ=class extends tJ{constructor(t){super(t)}};r();var qi={dQt:{BL:100,TL:"XML parsing error."},fQt:{BL:303,TL:"Empty or invalid VAST error."},_Qt:{BL:400,TL:"General linear error"},gQt:{BL:403,TL:"Unsupported MIME-type or missing mediafiles error"},wQt:{BL:500,TL:"General nonlinear error"},jU:{BL:900,TL:"Network error"}},th=class{get AQt(){return this.vQt}mQt(t){if(!this.AQt)return;const i=this.AQt.replace(/\[ERRORCODE]/,""+t.BL);wr(i)}constructor(t){this.vQt=t}};r();var Je,Ur,hi=class extends Xo{get pQt(){return this.yQt}get MQt(){var t;return null!=(t=this.TQt)?t:900}constructor(t,i,e,s){super(e||i&&nJ[i]||t,s),this.yQt=t,this.TQt=i,this.NQt=e}};!function(t){t.ADBLOCK="adblock",t.NETWORK="network",t.PARSING="parsing",t.PLAYBACK="playback",t.GENERAL="general"}(Je||(Je={})),function(t){t[t.VAST_MALFORMED_RESPONSE=100]="VAST_MALFORMED_RESPONSE",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION",t[t.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR",t[t.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY",t[t.VAST_UNEXPECTED_DURATION_ERROR=202]="VAST_UNEXPECTED_DURATION_ERROR",t[t.UNEXPECTED_SIZE=203]="UNEXPECTED_SIZE",t[t.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR",t[t.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT",t[t.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS",t[t.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.FILE_NOT_FOUND=401]="FILE_NOT_FOUND",t[t.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT",t[t.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH",t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE",t[t.MEZZANINE_FILE_REQUIRES=406]="MEZZANINE_FILE_REQUIRES",t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME=407]="MEZZANINE_FILE_DOWNLOADED_FIRST_TIME",t[t.AD_IN_VAST_REJECTED=408]="AD_IN_VAST_REJECTED",t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED=409]="INTERACTIVE_CREATIVE_NOT_EXECUTED",t[t.VERIFICATION_CODE_NOT_EXECUTED=410]="VERIFICATION_CODE_NOT_EXECUTED",t[t.GENERAL_NON_LINEAR_ERROR=500]="GENERAL_NON_LINEAR_ERROR",t[t.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR",t[t.OVERLAY_AD_LOADING_FAILED=502]="OVERLAY_AD_LOADING_FAILED",t[t.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH",t[t.GENERAL_COMPANION_AD_ERROR=600]="GENERAL_COMPANION_AD_ERROR",t[t.INVALID_DIMENSIONS_COMPANION_AD=601]="INVALID_DIMENSIONS_COMPANION_AD",t[t.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR",t[t.COMPANION_AD_LOADING_FAILED=603]="COMPANION_AD_LOADING_FAILED",t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION=604]="UNABLE_TO_FIND_SUPPORTED_COMPANION",t[t.UNKNOWN_ERROR=900]="UNKNOWN_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",t[t.MALFORMED_URI=1005]="MALFORMED_URI",t[t.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND",t[t.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE",t[t.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE",t[t.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE",t[t.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS",t[t.INVALID_ADX_EXTENSION=1105]="INVALID_ADX_EXTENSION",t[t.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED"}(Ur||(Ur={}));var nJ={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. The video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General wrapper error.",301:"Timeout of VAST URI provided in wrapper element, or of VAST URI provided in a subsequent wrapper element. This includes request errors such as invalid URI, unreachable or request timeout for URI, and security or other exceptions related to requesting a VAST URI.",302:"Wrapper limit reached, as defined by the video player. Too many wrapper responses have been received with no InLine response. This can be caused by a circular loop of daisy chaining (one network bouncing to another and another).",303:"No ads VAST response after one or more wrappers. This also includes the number of empty VAST responses from fallback.",400:"General linear error. The video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Unable to download or timeout of MediaFile URI.",403:"Could not find a media file that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying a media file.",406:"A mezzanine file was required, but not provided.",407:"The mezzanine file was downloaded for the first time, so the ad did not serve. This can occur when an ad insertion is missed because the creative is being transcoded. It continues to occur until the creative is available for insertion.",408:"The ad returned in the VAST response was rejected.",409:"The interactive creative defined in the InteractiveCreativeFile node was not executed.",410:"The code referenced in the Verification node was not executed.",500:"General NonLinearAds error.",501:"Unable to display non-linear ad because creative dimensions do not align with creative display area (in other words, the creative dimension was too large). This can occur if you use CSS styles to set width and height of the video ,content element. You should instead use the width and height HTML attributes.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearResource with supported type. This can occur when a creative size is larger than the player size.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within the companion display area (in other words, space was not available).",602:"Unable to display required companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"VAST 2 error. Even if you request VAST 3 or your DFP network default is VAST 3, this can occur if you have a VAST redirect that returns a VAST 2 response.",901:"General VPAID error",1005:"URI malformed."};function rJ(t){if(!t)return!1;switch(t.toLocaleLowerCase()){case vi.Fv:case vi.Yv:case vi.Qv:return!0;default:return!1}}function hJ(t){const i=Ve();return!!(rJ(t)||t&&i&&(null==i?void 0:i.canPlayType)&&i.canPlayType(t))||(Pr("Invalid or unsupported MediaFile Content delivery type, skipping mediafile"),!1)}function fc(t,i){for(const e of i){new th(e).mQt(t)}}function Pr(t){0}r(),r();var oJ,aJ=class{get DQt(){return this.IQt}get SQt(){return this.EQt}constructor(t,i){this.IQt=t,this.EQt=i}};!function(t){t.bQt="linear",t.LQt="nonlinear",t.kQt="companion",t.CQt="vmap"}(oJ||(oJ={}));var uJ,mc=class t{async xQt(i,e){if(IK(i.sources,i.timeOffset)){const s=await t.OQt(i.sources.src,e),n=s&&s.documentElement;if(!n)throw new hi(Je.NETWORK,Ur.VAST_SCHEMA_VALIDATION_ERROR,"Ad source is not a valid XML document.");if(RK(n,"VMAP"))return await this.jQt(n,i,e);if(RK(n,"VAST")){const t=await this.zQt(n,e,!1);if(t){const e=new dJ("",!0,!0,t);return[new nh("start",e,uJ.bQt,"",[],!1,!0,i)]}return[]}throw new hi(Je.GENERAL,Ur.VAST_MALFORMED_RESPONSE,"Only VMAP and VAST files are allowed as ad source.")}if(SK(i.sources,i.timeOffset))return[new lJ(String(i.timeOffset),i,e)];throw new hi(Je.GENERAL,Ur.VAST_MALFORMED_RESPONSE,"Something went wrong parsing the ad source; only VMAP and VAST files are allowed as ad source.")}async PQt(i,e,s,n){let r;void 0===n&&(n=[]);try{r=await t.OQt(i,e)}catch(t){throw fc(t instanceof hi&&t.MQt===Ur.VAST_MALFORMED_RESPONSE?qi.fQt:qi.jU,n),t}const h=r&&r.documentElement;if(h&&RK(h,"VAST"))return await this.zQt(h,e,s,n)}async BQt(t,i,e,s){var n;if(!(null==(n=t.sources)?void 0:n.src))throw new hi(Je.GENERAL,Ur.MALFORMED_URI,"Property src on adSource is missing.");const r=await this.PQt(t.sources.src,s,!1),h=new dJ("",!0,!0,r),o=new nh(i,h,uJ.bQt,"",[],!1,!0,t);return o.RQt=e,o}static async requestSuccessOnly(t,i){let e;try{e=await i.mS(t)}catch(t){throw new hi(Je.NETWORK,Ur.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.",t)}if(!bc(e))throw new hi(Je.NETWORK,Ur.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.");return e}static async OQt(t,i){const e=new ec({zu:t,rE:er.Ru,nE:Yc.GET}),s=await this.requestSuccessOnly(e,i);try{return function(t){return FK(t,"text/xml")}(await s.Cp())}catch(t){throw new hi(Je.NETWORK,Ur.VAST_MALFORMED_RESPONSE,"The ad source could not be loaded.")}}async zQt(t,i,e,s){void 0===s&&(s=[]);const n=[],r=[],h=[];if(t&&RK(t,"VAST")){if(0!==Lo(t,"Ad").length){for(const e of Lo(t,"Ad"))try{const t=await this.UQt(e,i,s);0===t.fT?n.push(t):r.push(t)}catch(t){h.push(t)}if(0===n.length&&0===r.length&&h.length>0)throw h[0];return 1===n.length&&0===r.length?n[0]:0===n.length&&0!==r.length?new EK(r):n.length>0||r.length>0?new EK(r.concat(n)):void 0}if(0!==Lo(t,"Error").length){for(const i of Lo(t,"Error")){Pr(qi.dQt.TL);const t=i.textContent;t&&s.push(t),fc(qi.dQt,s)}throw new hi(Je.GENERAL,Ur.VAST_MALFORMED_RESPONSE,"The Ad Server responded with a VAST Error")}if(e)throw fc(qi.fQt,s),new hi(Je.PARSING,Ur.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.")}else if(e)throw fc(qi.fQt,s),new hi(Je.PARSING,Ur.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.")}async jQt(t,i,e){const s=[],n=Lo(t,"AdBreak");for(const t of n)try{const n=await this.QQt(t,i,e);n&&s.push(n)}catch(t){lg.Ttt(t)}return s}async UQt(i,e,s){const n=ke(i,"id")||"";let r=Ji(ke(i,"sequence"));r||(r=0);const h=Lo(i,"InLine"),o=Lo(i,"Wrapper");if(0!==o.length)return await this.FQt(o[0],n,r,e,s);if(0!==h.length)return t.YQt(h[0],n,r,s);throw new hi(Je.PARSING,Ur.VAST_SCHEMA_VALIDATION_ERROR,"An Ad tag without a Wrapper or inline element cannot be parsed")}static YQt(i,e,s,n){const r=Lo(i,"Error")[0];let h;r&&r.textContent&&(h=r.textContent,n.push(h));const o=Lo(i,"AdSystem")[0];let a,u="";o&&(u=o.textContent||u);const c=Lo(i,"AdTitle")[0];c&&(a=c.textContent||void 0);const l=[];for(const t of Lo(i,"Impression"))t.textContent&&l.push(t.textContent);const d=t.GQt(Lo(i,"Creatives")[0],u,n);return new bK(e,s,u,a,l,d,new th(h))}async FQt(i,e,s,n,r){const h=Lo(i,"Error")[0];let o="";h&&h.textContent&&(o=h.textContent,r.push(o));const a=Lo(i,"AdSystem")[0];let u="";a&&(u=a.textContent||u);const c=[];for(const t of Lo(i,"Impression"))t.textContent&&c.push(t.textContent);const l=Lo(i,"VASTAdTagURI")[0];let d="";l&&l.textContent&&(d=l.textContent);const f=await this.PQt(d,n,!0,r),_=Lo(i,"Creatives")[0];let g=[];_&&(g=t.VQt(_,u,r));let w=Ra(ke(i,"followAdditionalWrappers"));w||(w=!0);let A=Ra(ke(i,"allowMultipleAds"));A||(A=!0);let v=Ra(ke(i,"fallbackOnNoAd"));return v||(v=!1),new zK(e,s,c,f,w,g,A,v,new th(o))}static VQt(i,e,s){const n=[];for(const r of Lo(i,"Creative")){let i=ke(r,"id");i||(i="");let h=Ji(ke(r,"sequence"));h||(h=0);let o=ke(r,"adId");o||(o="");const a=Lo(r,"Linear")[0];let u;a&&(u=t.WQt(a,"wrapper",i,e,s));const c=Lo(r,"NonLinearAds")[0];let l,d;if(c)try{d=t.HQt(c,i,e),l=d}catch(t){}const f=Lo(r,"CompanionAds")[0];let _;f&&(_=t.qQt(f)),n.push(new PK(i,o,h,"",u,l,_,[]))}return n}static GQt(i,e,s){const n=[];for(const r of Lo(i,"Creative")){let i=ke(r,"id");i||(i="");let h=Ji(ke(r,"sequence"));h||(h=0);let o=ke(r,"adId");o||(o="");let a=ke(r,"apiFramework");a||(a="");const u=Lo(r,"Linear")[0];let c;if(u)try{c=t.WQt(u,"inline",i,e,s)}catch(t){}const l=Lo(r,"NonLinearAds")[0];let d,f;if(l)try{f=t.HQt(l,i,e),d=f}catch(t){}const _=Lo(r,"CompanionAds")[0];let g;_&&(g=t.qQt(_));const w=Lo(r,"UniversalAdId"),A=t.parseUniversalAdIds(w);n.push(new PK(i,o,h,a,c,d,g,A))}return n}static WQt(i,e,s,n,r){const h=Lo(i,"Duration")[0];let o=0;if(h)o=nc(h.textContent)||0;else if(!h&&"inline"===e)throw new hi(Je.PARSING,Ur.VAST_SCHEMA_VALIDATION_ERROR,"Missing duration element in inLine linear");const a=ke(i,"skipoffset");let u=-1;if(a){let t=nc(a);if(void 0===t&&a.indexOf("%")>-1){const i=x.abs(Number(a.replace(/(?![0-9])./g,"")))/100;j(i)||(t=o*i)}void 0!==t&&(u=t)}const c=Lo(i,"MediaFiles")[0];let l=[];if(c&&(l=function(t,i){const e=[];for(const s of Lo(t,"MediaFile")){const t=ke(s,"delivery"),n=ke(s,"type");if(!n){Pr();continue}if(!i(n))continue;let r=Ji(ke(s,"width")),h=Ji(ke(s,"height"));r||(Pr(),r=0),h||(Pr(),h=0);const o={delivery:t,type:n,width:r,height:h,contentURL:""+s.textContent};e.push(o)}return e}(c,hJ)),"inline"===e&&(!c||0===l.length))throw fc(qi.gQt,r),new hi(Je.PARSING,Ur.VAST_LINEAR_ASSET_MISMATCH,"Missing MediaFiles in linear element");const d=Lo(i,"TrackingEvents")[0];let f=[];d&&(f=t.XQt(d,HK,"linear"));const _=Lo(i,"VideoClicks")[0],g=t.ZQt(_);return new BK(o,l,f,g,u,s,n)}static ZQt(i){if(!i)return new Er("","",[],[]);const e=Lo(i,"ClickThrough")[0];let s,n="";e&&(s=e.textContent||void 0,n=ke(e,"id")||"");const r=t.KQt(Lo(i,"ClickTracking")),h=t.KQt(Lo(i,"CustomClick"));return new Er(s,n,r,h)}static KQt(t){const i=[];for(const e of t){const t=e.textContent;if(!t)continue;const s=ke(e,"id")||"";i.push(new jK(s,t))}return i}static XQt(t,i,e){const s=[];for(const n of Lo(t,"Tracking")){const r=ke(n,"event");if(!i(r)){Pr();continue}let h="";"linear"===e&&(h=ke(t,"offset")||"0");const o=n.textContent;o&&s.push(new $K(r,h,o))}return s}static HQt(i,e,s){const n=[];for(const r of Lo(i,"NonLinear")){const i=Lo(r,"NonLinearClickThrough")[0];let h;i&&(h=i.textContent||void 0);const o=t.KQt(Lo(r,"NonLinearClickTracking")),a=Lo(r,"StaticResource")[0];let u;if(a&&a.parentNode){const t=ke(a,"creativeType"),i=a.textContent||"",e=Lo(a.parentNode,"NonLinearClickThrough")[0];let s="";e&&(s=e.textContent||""),u=new iJ(i,t,s,"")}const c=t.JQt(r),l=t.parseHtmlResource(r);if(!u&&!c&&!l){Pr();continue}const d=new Er(h,"",o,[]);n.push(new CK(u,c,l,d,e,s))}if(0===n.length)throw new hi(Je.PARSING,Ur.VAST_SCHEMA_VALIDATION_ERROR,"nonLinearAds element found with no nonLinear elements");const r=Lo(i,"TrackingEvents")[0];let h=[];return r&&(h=t.XQt(r,XK,"nonlinear")),new kK(n,h)}static parseUniversalAdIds(t){const i=[];for(const r of t){var e;const t=null!=(e=ke(r,"idRegistry"))?e:"";var s,n;const h=null!=(n=null!=(s=ke(r,"idValue"))?s:r.textContent)?n:"";i.push(new aJ(t,h))}return i}static qQt(i){let e=ke(i,"requiredType");(function(t){switch(t){case"all":case"any":case"none":return!0;default:return!1}})(e)||(e=LK.DB);const s=[];for(const e of Lo(i,"Companion")){let i=Ji(ke(e,"width")),n=Ji(ke(e,"height")),r=ke(e,"id"),h=Ji(ke(e,"assetWidth")),o=Ji(ke(e,"assetHeight")),a=Ji(ke(e,"expandedWidth")),u=Ji(ke(e,"rxpandedHeight")),c=ke(e,"apiFramework"),l=ke(e,"adSlotId"),d=Ji(ke(e,"pxratio"));const f=Lo(e,"AltText")[0];let _=f?f.textContent:"";i||(Pr(),i=0),n||(Pr(),n=0),r||(r=""),h||(h=0),o||(o=0),a||(a=0),u||(u=0),c||(c=""),l||(l=""),d||(d=1),_||(_="");const g=t.$Qt(e),w=t.JQt(e),A=t.parseHtmlResource(e),v=Lo(e,"TrackingEvents")[0];let m=[];v&&(m=t.XQt(v,KK,"companion"));const p=Lo(e,"CompanionClickThrough")[0];let y;p&&(y=p.textContent||void 0);const M=t.KQt(Lo(e,"CompanionClickTracking"));(g||w||A)&&s.push(new OK(i,n,r,h,o,a,u,c,l,d,g,w,A,new Er(y,"",M,[]),m,_))}return new xK(e,s)}static $Qt(t){const i=Lo(t,"StaticResource")[0];let e;if(i&&i.parentNode){let t=ke(i,"creativeType");t||(t="");const s=i.textContent,n=Lo(i.parentNode,"AltText")[0],r=Lo(i.parentNode,"CompanionClickThrough")[0];let h,o="";n&&(o=n.textContent||""),r&&(h=r.textContent||void 0),s&&(e=new iJ(s,t,h,o))}return e}static JQt(t){const i=Lo(t,"IFrameResource")[0];let e;if(i){const t=i.textContent||"";e=new eJ(t)}return e}static parseHtmlResource(t){const i=Lo(t,"HTMLResource")[0];let e;if(i){const t=i.textContent||"";e=new sJ(t)}return e}async QQt(i,e,s){const n=ke(i,"timeOffset")||"0",r=ke(i,"breakType")||uJ.KT;let h=ke(i,"breakId"),o=Ra(ke(i,"repeatAfter"));if(void 0===h&&(h=""),void 0===o&&(o=!1),!(void 0!==js.tFt(n)))throw new hi(Je.PARSING,Ur.VAST_SCHEMA_VALIDATION_ERROR,"Invalid TimeOffset type");const a=Lo(i,"AdSource")[0],u=Lo(i,"TrackingEvents")[0];let c=[];u&&(c=t.XQt(u,VK,"vmap"));let l=ke(a,"id");l||(l="");let d=Ra(ke(a,"allowMultipleAds"));void 0===d&&(d=!0);let f=Ra(ke(a,"followRedirects"));f||(f=!0);const _=Lo(a,"AdTagURI")[0];let g="";const w=Lo(a,"VASTAdData")[0];if(!_||!_.textContent){if(w){if(w.firstElementChild&&UK(w.firstElementChild,"VAST")){const t=await this.zQt(w.firstElementChild,s,!1);if(t){const i=new dJ(l,d,f,t);return new nh(n,i,r,h,c,o,!1,e)}return}throw new hi(Je.PARSING,Ur.VAST_SCHEMA_VALIDATION_ERROR,"vmap:VASTAdData does not have a VAST-structure as a child element")}throw new hi(Je.PARSING,Ur.VAST_SCHEMA_VALIDATION_ERROR,"Invalid AdTagURI source or invalid VASTAdData in Adbreak Element")}try{g=_.textContent;const t=se(e);return t.sources.src=g,new lJ(n,t,s)}catch(t){return}}};!function(t){t.KT="",t.bQt="linear",t.iFt="nonlinear",t.eFt="display"}(uJ||(uJ={}));var cJ,js=class{static sFt(t){switch(t){case"linear":case"nonlinear":case"display":return!0;default:return!1}}static nFt(t){}static rFt(t){if(void 0!==t)return"start"===t?0:"end"===t?-1:void 0}static hFt(t){const i=t.split(":");let e=0;return e+=3600*Number(i[0]),e+=60*Number(i[1]),e+=Number(i[2]),e}static oFt(t){if(t<=0)return"00:00:00.000";const i=x.floor(t),e=t-i;return this.aFt(i/3600,2)+":"+this.aFt(i/60%60,2)+":"+this.aFt(i%60,2)+"."+this.aFt(1e3*e,3)}static aFt(t,i){return("00"+x.floor(t)).slice(-i)}static uFt(t,i){const e=this.tFt(t);if(0===e)switch(t){case"start":return 0;case"end":return-1}else{if(2===e)return rc(t)*i;if(1===e)return nc(t);if(3===e)return this.rFt(t);if(4===e){const i=Number(t);if(!j(i)&&i>=-1)return i}}}static tFt(t){return"start"===t||"end"===t?0:void 0!==nc(t.toString())?1:void 0!==rc(t.toString())?2:void 0!==this.nFt(t.toString())?3:j(Number(t))?void 0:4}};!function(t){t[t.x5=0]="x5",t[t.cFt=1]="cFt",t[t.lFt=2]="lFt",t[t.dFt=3]="dFt",t[t.fFt=4]="fFt"}(cJ||(cJ={}));var jr,nh=class{get _Ft(){return this.gFt}get pEt(){return this.wFt}get LUt(){return this.kUt}set LUt(t){this.kUt=t}get fRt(){return this.KRt}get AFt(){return this.vFt}get mFt(){return this.pFt}get T7(){return this.yFt}get MFt(){return this.RQt.Kl}get W(){return!0}$n(){return Promise.resolve()}get RQt(){return this.TFt}set RQt(t){this.TFt=t}constructor(t,i,e,s,n,r,h,o){this.kUt=-1,this.gFt=i,this.wFt=t,this.NFt=e,this.vFt=s,this.pFt=r,this.KRt=n,this.DFt=h,this.yFt=o}},lJ=class{get _Ft(){return this.TRt._Ft}get pEt(){return this.TRt.pEt}get LUt(){return this.TRt.LUt}set LUt(t){this.TRt.LUt=t}get fRt(){return this.TRt.fRt}get AFt(){return this.TRt.AFt}get mFt(){return this.TRt.mFt}get T7(){return this.TRt.T7}get MFt(){return this.TRt.MFt}get W(){return this.IFt}$n(){var t;return null!=(t=this.SFt)?t:this.SFt=this.ait()}async ait(){const t=new mc;this.TRt=await t.BQt(this.T7,this.pEt,this.RQt,this.gE),this.IFt=!0}get RQt(){return this.TRt.RQt}set RQt(t){this.TRt.RQt=t}constructor(t,i,e){this.IFt=!1,this.gE=e,this.TRt=new nh(t,void 0,"","",[],!1,!1,i)}},dJ=class{get o(){return this.NN}get dUt(){return this.EFt}get bFt(){return this.LFt}get GBt(){return this.kFt}constructor(t,i,e,s){this.NN=t,this.EFt=i,this.kFt=s,this.LFt=e}};function fJ(t,i){let e;if(t.vastAdsRequest&&(e=function(t){if(t.adTagUrl)return t.adTagUrl;if(t.adsResponse)return GK(t.adsResponse);return}(t.vastAdsRequest)),!e){const i=function(t){const i=t.contentUrl||t.contentId;if(!i)return;const e=t.contentType||"video/mp4",s=bv(e)||Cv(t.contentType)?"streaming":"progressive",n=void 0!==t.duration?"<Duration>"+js.oFt(t.duration)+"</Duration>":"",r=void 0!==t.whenSkippable&&t.whenSkippable>=0?' skipoffset="'+js.oFt(t.whenSkippable)+'"':"",h='<MediaFile delivery="'+s+'" type="'+e+'">'+YK(i)+"</MediaFile>",o=t.clickThroughUrl?"<VideoClicks><ClickThrough>"+YK(t.clickThroughUrl)+"</ClickThrough></VideoClicks>":"",a="<Linear"+r+">"+n+"<MediaFiles>"+h+"</MediaFiles>"+o+"</Linear>",u=t.title?"<AdTitle>"+YK(t.title)+"</AdTitle>":"";return'<VAST version="3.0"><Ad>'+u+"<InLine><Creatives><Creative>"+a+"</Creative></Creatives></InLine></Ad></VAST>"}(t);i&&(e=GK(i))}const s=t.customData;if(e){const n={integration:null==s?void 0:s.integration,sources:{src:e,type:"vast"},timeOffset:i};return n.integration&&"theo"!==n.integration||(n.skipOffset=t.whenSkippable),n}}!function(t){t.CFt="error",t.xFt="sourceupdate"}(jr||(jr={}));var _J=class extends Ag{constructor(t){super("error"),this.lt=t}},gJ=class extends Ag{constructor(t,i){super("sourceupdate"),this.bt=t,this.yc=i}},wJ=class extends i{get Fy(){return this.OFt}jFt(t){this.zFt.jFt(t)}PFt(t){this.zFt.PFt(t)}BFt(t){this.zFt.BFt(t)}RFt(t){this.zFt.RFt(t)}UFt(t){this.OFt.addUpdateListener(t)}QFt(t){this.OFt.removeUpdateListener(t)}FFt(){const t=new Eo,i=new chrome.cast.media.GetStatusRequest;return this.OFt.getStatus(i,(()=>{t.jL({bt:this.O_(),yc:this.Wa()})}),(i=>t.zL(i))),t.PL}O_(){var t;return null==(t=this.OFt.customData)?void 0:t.currentSource}Wa(){var t;let i;if(null==(t=this.GFt.YFt())?void 0:t.version){var e;i=null==(e=this.OFt.customData)?void 0:e.sourceDescription}else{var s;const t=null==(s=MK(this.OFt))?void 0:s.customData;(function(t){return Mi(t)&&t.theoplayer_version>=1&&j_(t.streamStart)&&j_(t.isLive)&&j_(t.sourceDescription)})(t)&&(i=t.sourceDescription),i||(i=function(t){return{sources:[{src:t.contentId,type:t.contentType}],ads:AJ(t)}}(this.OFt.media))}return i}Gg(){const t=new chrome.cast.media.PauseRequest;this.OFt.pause(t,xs,this.VFt)}Wg(){const t=new chrome.cast.media.StopRequest;this.OFt.stop(t,xs,this.VFt)}Vg(){const t=new chrome.cast.media.PlayRequest;this.OFt.play(t,xs,this.VFt)}Dp(t,i){const e=new chrome.cast.media.SeekRequest;return e.currentTime=t,e.resumeState=i?chrome.cast.media.ResumeState.PLAYBACK_PAUSE:chrome.cast.media.ResumeState.PLAYBACK_START,new Promise(((t,i)=>{this.OFt.seek(e,t,(t=>{var e;i(new xa(pr(t.code),null!=(e=t.description)?e:void 0))}))}))}dg(t){this.zFt.d8(Br,function(t){return{type:TK.YBt,properties:{playbackRate:t}}}(t)).catch(this.WFt)}HFt(t){const i=new chrome.cast.media.EditTracksInfoRequest(t);this.OFt.editTracksInfo(i,xs,this.VFt)}qFt(){return this.OFt.getEstimatedTime()}XFt(){return this.OFt.getEstimatedBreakClipTime()}ZFt(){return this.OFt.getEstimatedBreakTime()}KFt(){this.zFt.d8("urn:x-cast:com.google.cast.media",{type:NK.SKIP_AD,requestId:this.JFt++,mediaSessionId:this.OFt.mediaSessionId}).catch(this.WFt)}gn(){this.Vo()}constructor(t,i,e){super(i),this.JFt=0,this.WFt=t=>{this.Co(new _J(t))},this.VFt=t=>{var i;const e=new xa(pr(t.code),null!=(i=t.description)?i:void 0);this.WFt(e)},this.GFt=t,this.zFt=i,this.OFt=e}};function AJ(t){return t.vmapAdsRequest&&t.vmapAdsRequest.adTagUrl?[{sources:{src:t.vmapAdsRequest.adTagUrl,type:"vmap"}}]:t.breaks&&t.breakClips?Eh(t.breaks,(i=>function(t,i){const e=[];if(t.isWatched)return e;for(const s of t.breakClipIds){const n=X_(i,(t=>t.id===s));if(n){const i=fJ(n,t.position);i&&e.push(i)}}return e}(i,t.breakClips))):[]}r();var vJ,mJ=class{$Ft(t,i){this.GFt.addMessageListener(t,i)}tYt(t,i){this.GFt.removeMessageListener(t,i)}d8(t,i){return new Promise(((e,s)=>{this.GFt.sendMessage(t,i,e,(t=>{var i;s(new xa(pr(t.code),null!=(i=t.description)?i:void 0))}))}))}gn(){}constructor(t){this.GFt=t}};function pJ(t){return"vmap"===t||"adrule"===t}function yJ(t){if(t)return ae(t)?{src:Oa(t),type:void 0}:function(t){return Mi(t)&&Boolean(t.src)}(t)?{src:Oa(t.src),type:MJ(t.type)}:void 0}function MJ(t){if(ae(t)){const i=t.toLowerCase();switch(i){case"vast":case"vmap":case"adrule":return i;default:return void ji("The ad source type provided in the configuration could not be recognized: '"+t+"'.")}}else t||ji("For better performance it is highly recommended to add the type to the configuration of your ad sources.")}function TJ(t){if(void 0!==t&&""!==t&&("string"==typeof t||"number"==typeof t)){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return 0;case"end":case"100%":return-1}if("string"==typeof t){if(function(t){return DK.test(t)}(t))return js.hFt(t);if(NJ(t))return t}return Number(t)>=0?Number(t):void 0}}function NJ(t){return new RegExp(/^\d{1,2}%$/).test(t)}function DJ(t){const i=[],e=(t,s)=>{if(pi(s))for(let i=0,n=s.length;i<n;i++){const n=Mi(s[i])&&s[i]?String(i):"";e(t+"["+encodeURIComponent(n)+"]",s[i])}else if(Mi(s))for(const i of _.keys(s))e(t+"["+encodeURIComponent(i)+"]",s[i]);else((t,e)=>{i.push(t+"="+encodeURIComponent(null!=e?e:""))})(t,String(s))};for(const i of _.keys(t))e(encodeURIComponent(i),t[i]);return i.join("&")}r(),r(),r(),function(t){t.QBt="receiver_info",t.lEt="event",t.iYt="propertychange",t.FBt="trackevent"}(vJ||(vJ={}));var ri,IJ=class{eYt(t){let i;try{i=JSON.parse(t)}catch(t){0}return i}jFt(t){this.sYt.push(t)}PFt(t){Et(this.sYt,t)}BFt(t){this.nYt.push(t)}RFt(t){Et(this.nYt,t)}rYt(t){this.hYt=t}d8(t,i){return this.oYt.d8(t,i)}gn(){this.oYt.tYt(Br,this.aYt),Ri(this.nYt),Ri(this.sYt),this.hYt=void 0}constructor(t){this.sYt=[],this.nYt=[],this.aYt=(t,i)=>{const e=this.eYt(i);if(e)if(e.type===vJ.iYt)for(const t of this.sYt)for(const i of _.keys(e.properties))t(i,e.properties[i]);else if(e.type===vJ.lEt)for(const t of this.nYt)t(e.event);else e.type===vJ.FBt&&this.hYt&&e.event.trackState&&this.hYt(e.event.trackId,e.event.trackState.targetQualityIds)},this.oYt=t,this.oYt.$Ft(Br,this.aYt)}};r(),r(),function(t){t.uYt="medialoadedchange",t.uv="volumechange",t.CFt="casterror",t.cYt="playererror",t.lYt="targetqualitychanged",t.dYt="receiverinfochanged"}(ri||(ri={}));var SJ,EJ=class extends Ag{constructor(){super("medialoadedchange")}},bJ=class extends Ag{constructor(t,i){super("volumechange"),this.xg=t,this.Z_=i}},LJ=class extends Ag{constructor(t){super("casterror"),this.lt=t}},kJ=class extends Ag{constructor(t){super("playererror"),this.lt=t}},CJ=class extends Ag{constructor(t,i){super("targetqualitychanged"),this.Wy=t,this.fYt=i}},xJ=class extends Ag{constructor(){super("receiverinfochanged")}},OJ=class extends i{_Yt(t,i,e){this.zFt.d8(Br,function(t,i,e){return{type:TK.FBt,trackID:t,trackType:i,properties:{targetQuality:e}}}(t,i,e)).catch(this.WFt)}gYt(){this.oYt.$Ft(Br,this.wYt),this.zFt.d8(Br,{type:TK.QBt}).catch(xs)}YFt(){return this.AYt}vYt(){return this.GFt.getSessionObj()}mYt(t){!this.pYt&&t&&t.idleReason!==chrome.cast.media.IdleReason.FINISHED&&(this.pYt=new wJ(this,this.zFt,t),this.yYt(),this.Co(new EJ),this.pYt.UFt(this.MYt))}TYt(){return this.pYt}async NYt(t){const i=function(t){const i=function(t,i,e,s){const n=PS(t)||"",r=jS(t)||"",h=new chrome.cast.media.MediaInfo(n,r);return h.metadata=yK(t.metadata,t.poster),h.streamType=s,function(t,i,e){const s=[],n=[];let r,h=0,o=0;for(const t of i){const i=yJ(t.sources);if(i)if(IK(i,t.timeOffset))r=new chrome.cast.media.VastAdsRequest,r.adTagUrl=i.src;else if(SK(i,t.timeOffset)){var a;const r=null!=(a=t.timeOffset)?a:0,c=t.skipOffset;var u;const l=null!=(u=js.uFt(r,e))?u:0,d=void 0!==c?js.uFt(c,e):void 0,f=new chrome.cast.media.BreakClip("bc"+o++);f.vastAdsRequest=new chrome.cast.media.VastAdsRequest,f.vastAdsRequest.adTagUrl=i.src,f.whenSkippable=d,f.customData={integration:t.integration};let _=X_(n,(t=>t.position===l));void 0===_&&(_=new chrome.cast.media.Break("b"+h++,[],l),n.push(_)),_.breakClipIds.push(f.id),s.push(f)}else 0;else 0}t.breakClips=s,t.breaks=n,t.vmapAdsRequest=r}(h,i,e),h}(t.DYt,t.Oc,t.ct,t.xX),e=new chrome.cast.media.LoadRequest(i);return e.autoplay=!0,e.currentTime=t.j_,e.customData=t.IYt,e}(t);let e;try{e=await this.GFt.loadMedia(i)}catch(t){e=t}if(e)throw new xa(pr(e))}J_(t){this.vYt().setReceiverMuted(t,xs,this.SYt)}jg(t){this.vYt().setReceiverVolumeLevel(t,xs,this.SYt)}EYt(){return this.vYt().receiver.friendlyName}gn(){this.Vo(),this.GFt.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.bYt),this.vYt().removeUpdateListener(this.yYt),this.oYt.tYt(Br,this.wYt),this.zFt.gn(),this.oYt.gn()}constructor(t){super(),this.AYt=void 0,this.WFt=t=>{this.Co(new LJ(t))},this.LYt=(t,i)=>{"error"===t&&this.Co(new kJ(i))},this.kYt=(t,i)=>{this.Co(new CJ(t,i))},this.wYt=(t,i)=>{const e=JSON.parse(i);e.type===vJ.QBt&&(this.AYt=e.info,this.Co(new xJ))},this.yYt=()=>{const t=this.vYt(),{level:i,muted:e}=t.receiver.volume;this.Co(new bJ(null!=i?i:void 0,null!=e?e:void 0))},this.bYt=()=>this.mYt(this.GFt.getMediaSession()),this.MYt=t=>{var i;t||(null==(i=this.pYt)||i.QFt(this.MYt),this.pYt=void 0,this.Co(new EJ))},this.SYt=t=>{var i;const e=new xa(pr(t.code),null!=(i=t.description)?i:void 0);this.WFt(e)},this.GFt=t,this.GFt.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.bYt),this.oYt=new mJ(t.getSessionObj()),this.zFt=new IJ(this.oYt),this.zFt.jFt(this.LYt),this.zFt.rYt(this.kYt),this.vYt().addUpdateListener(this.yYt),this.yYt(),this.gYt();const i=this.GFt.getMediaSession();i&&this.mYt(i)}};(SJ||(SJ={})).CYt="statechange";var jJ=class extends Ag{constructor(t){super("statechange"),this.zvt=t}};r(),r(),r(),r();var Hc,zJ=class extends i{F9(){return this.Ic}L_(){return Ki.lR()}z_(){return this.dR+this.xYt}k9(){return this.z_()}C_(){}Td(){return this.Rk}U_(){return this.Y$}Q_(){}og(){return this.gR}OYt(){}cg(){return this.wR}dg(t){this.wR!==t&&(this.wR=t,this.Co(new Jh(this.Qo.j_,t)))}pg(){return ov.tN}_g(){return Ki.lR()}Mg(){return Ki.lR()}Ng(){return!1}I_(){return this.nN}Eg(){return this.hN}Dg(){return this.Dl}HFt(t){}Cg(){return this.jYt}Sg(){return this.zYt}Vg(){this.gR=!1}Gg(){this.gR=!0}Dp(t){this.dR=t-this.xYt}PYt(){return this.xYt}BYt(t){this.xYt=t}p7(t){this.Ic.p7(t)}Wg(){}gn(){this.Vo(),this.nN.gn(),this.hN.gn(),this.Dl.gn(),this.Ic.gn()}constructor(t,i,e,s,n,r,h,o,a){super(),this.Qo=t,this.xYt=0,this.nN=new jn,this.hN=new jn,this.Dl=new tn,this.Ic=new pn,this.xYt=i,this.dR=e-i,this.Rk=s,this.Y$=n,this.gR=r,this.wR=h,this.jYt=o,this.zYt=a}};r(),r(),r(),r(),function(t){t.RYt="ccmodechangerequest",t.UYt="cctargetqualitychangerequest",t.QYt="cctrackchangerequest"}(Hc||(Hc={}));var PJ,sr,BJ=class extends Ag{constructor(t,i,e){super(Hc.RYt),this.track=t,this.trackId=i,this.mode=e}};function RJ(t){return"AUDIO"===t.type}function UJ(t){return"VIDEO"===t.type}function QJ(t){return"TEXT"===t.type}r(),function(t){t.Ru="TEXT",t.mp="AUDIO",t.vp="VIDEO"}(PJ||(PJ={})),function(t){t.pp="SUBTITLES",t.fS="CAPTIONS",t._S="DESCRIPTIONS",t.Fn="CHAPTERS",t.Mp="METADATA"}(sr||(sr={}));var FJ=class extends i{get va(){return this.Xa||(this.Xa=Rg(this)),this.Xa}get kh(){return this.IN}set kh(t){t!==this.IN&&(this.IN=t,this.Co(new Ln(this)))}get q(){return this.o0}get L(){return this.a0}get eA(){return this.QR}set eA(t){const i=rn(t);this.QR!==i&&(this.QR=i,this.FYt!==i&&this.Co(new BJ(this,this.Vw,i)),this.Co(new Kr(this)))}get YYt(){return this.FYt}set YYt(t){const i=rn(t),e=this.QR!==i;this.QR=i,this.FYt=i,e&&this.Co(new Kr(this))}nA(t){this.eA=t}GYt(t){}gn(){}Zn(){}constructor(t){super(),this.Xa=void 0;const i=t.customData;this.Vw=Number(t.trackId)||0,this.o=""+(i&&i.id||this.Vw),this.IN=i&&i.label||t.name||"",this.gs=i&&i.language||t.language||"",this.iA=i&&i.inBandMetadataTrackDispatchType||"",this.zt=i&&i.kind||function(t){switch(t){case sr.pp:return oa.pp;case sr.fS:return oa.fS;case sr._S:return oa._S;case sr.Fn:return oa.Fn;case sr.Mp:return oa.Mp}return}(t.subtype)||"subtitles",this.vg=Q.NONE,this.hA=i&&void 0!==i.type?function(t){return Ni(t)?t:Ks.DEFAULT}(i.type):Ks.WEBVTT,this.h0=[],this.a0=new eC(this.h0),this.g0=[],this.o0=new eC(this.g0),this.QR=rn(i&&i.mode||go.Ch),this.FYt=this.QR}};r(),r();var YJ=class extends Ag{constructor(t,i){super(Hc.QYt),this.trackId=t,this.enabled=i}};r();var GJ,VJ=class extends Ag{constructor(t,i){super(Hc.UYt),this.track=t,this.targetQuality=i}};r(),function(t){t.mp="audio",t.vp="video",t.Ru="text"}(GJ||(GJ={}));var WJ,sh,HJ=class extends i{get Gw(){return this.aut}get qw(){return this.out}set qw(t){this.VYt(t),this.Co(new VJ(this,t))}get Hw(){return this.vN}get kh(){return this.IN}set kh(t){t!==this.IN&&(this.IN=t,this.Co(new Ln(this)))}get Rt(){return this.Le}set Rt(t){this.Le!==t&&(this.Le=t,this.WYt!==t&&this.Co(new YJ(this.Vw,t)),this.Co(new Kr(this)))}get HYt(){return this.WYt}set HYt(t){const i=this.Le!==t;this.Le=t,this.WYt=t,i&&this.Co(new Kr(this))}get va(){return this.Xa||(this.Xa=Ei(this)),this.Xa}get eA(){return this.Rt?"enabled":"disabled"}EN(t){this.Rt=t}GYt(t){if(t.targetQualityIds){const i=[];for(let e=0;e<this.vN.U;e++){const s=this.vN.jw(e);t.targetQualityIds.indexOf(s.o)>-1&&i.push(s)}const e=i.length?i:void 0;this.VYt(e)}}VYt(t){(function(t,i){return!t&&i||t&&!i||t&&i&&!ig(t,i)})(this.out,t)&&(this.out=t&&this.vN.yN(t)?t:void 0,this.Co(new MF(this.out,this)))}unload(){for(const t of this.vN.xw)t.fn("update",this.oIt);this.vN.Zn()}constructor(t){super(),this.aut=void 0,this.vN=new nm,this.out=void 0,this.Xa=void 0,this.oIt=()=>this.Co(new Ln(this));const i=t.customData;if(this.Vw=Number(t.trackId)||0,this.o=""+(i&&i.id||this.Vw),this.IN=i&&i.label||t.name||"",this.gs=i&&i.language||t.language||"",this.zt=i&&i.kind||"main",this.Le=i&&i.enabled,this.WYt=this.Le,RJ(t)){this.IJ=GJ.mp;const i=t.customData&&t.customData.qualities;if(i)for(const t of i){const i=new aQ(t.id,t.bandwidth,t.codecs,t.name,"",t.audioSamplingRate);i.yn("update",this.oIt),this.vN.mN(i)}}else{this.IJ=GJ.vp;const i=t.customData&&t.customData.qualities;if(i)for(const t of i){const i=new oQ(t.id,t.bandwidth,t.codecs,t.name,"",t.frameRate,t.width,t.height);i.yn("update",this.oIt),this.vN.mN(i)}}}};r(),function(t){t.qYt="legacy",t.XYt="caf"}(WJ||(WJ={})),r(),r(),r(),function(t){t.ZYt="theo",t.KYt="google-ima",t.so="google-dai",t.JYt="freewheel",t.$Yt="mediatailor",t.EE="chromecast"}(sh||(sh={})),r(),r();var qJ=class{Mc(){if(this.tGt>=this.Ic.length)return;const t=this.Ic[this.tGt];return this.tGt+=1,t}lt(){return this.Mc()}constructor(t){this.tGt=0,this.Ic=t}};function XJ(t){var i,e,s;return null!=(s=null==(e=t._Ft)||null==(i=e.GBt)?void 0:i.VBt())?s:[]}var ZJ=class{},uh=class{n7(){var t;return null!=(t=this.Xa)?t:this.Xa=function(t){return{get ads(){return t.Oc.map((t=>t.n7()))},get integration(){return t.iGt},get maxDuration(){return t.eGt},get maxRemainingDuration(){return t.sGt},get timeOffset(){return t.pEt}}}(this)}constructor(){this.Xa=void 0}},Tc=class{get nGt(){return this.rGt}get t(){return this.Qo}constructor(t,i){this.rGt=t,this.Qo=i}},KJ=class extends uh{get RQt(){return this.TFt}get Oc(){const t=[];for(const s of this.TFt.hGt)for(const n of XJ(s)){var i,e;const r=null!=(e=null==(i=n.aRt)?void 0:i.xRt)?e:[];if(n.hRt&&t.push(this.oGt(n.hRt,r,n.cRt,s.T7)),n.uRt)for(const i of n.uRt.lRt)t.push(this.aGt(i,r,n.uRt,n.cRt,s.T7))}return t}oGt(t,i,e,s){const n=X_(this.uGt,(i=>i.hRt===t));if(void 0!==n)return n;const r=new i$(t,i,this,this.cGt,e,s);return this.uGt.push(r),r}aGt(t,i,e,s,n){const r=X_(this.lGt,(i=>i.uRt===t));if(void 0!==r)return r;const h=new t$(t,i,e,this,this.cGt,s,n);return this.lGt.push(h),h}get iGt(){return sh.ZYt}get pEt(){const t=this.TFt.Kl;return t>=0?t:this.cGt.t.Td()}get sGt(){let t=0;for(const i of this.TFt.hGt)for(const e of XJ(i))e.hRt&&!e.hRt.CUt&&(t+=e.hRt.ct);return this.cGt&&this.cGt.nGt&&(t+=this.cGt.nGt.ct-this.cGt.nGt.j_),t}get eGt(){let t=0;for(const i of this.TFt.hGt)for(const e of XJ(i))e.hRt&&(t+=e.hRt.ct);return t}constructor(t,i){super(),this.uGt=[],this.lGt=[],this.TFt=t,this.cGt=i}},JJ={height:0,width:0,clickThrough:"",contentHTML:"",resourceURI:"",altText:""},$J=class extends ZJ{get Xl(){return this.TRt}get T7(){return this.yFt}get cRt(){return this.DUt}dGt(){return this.fGt}_Gt(){this.fGt=!0}gGt(t){return At({},JJ,{resourceURI:t.aQt||""})}wGt(t){return At({},JJ,{contentHTML:t.aQt.trim(),type:"HTMLResource"})}AGt(t){var i,e;return At({},JJ,{clickThrough:(null==(i=t.tUt)?void 0:i.trim())||"",resourceURI:(null==(e=t.aQt)?void 0:e.trim())||"",altText:t.JRt||"",type:"StaticResource"})}vGt(t,i,e){if(!t||!i)return;const s="<img "+(e?"title='"+e+"' ":"")+"src='"+encodeURI(t)+"'>";return"<a href='"+encodeURI(i)+"' target='_blank' rel='noopener'>"+s+"</a>"}aRt(t){return t?t.map((t=>{let i;const e={adSlotId:t.VRt||"",height:t.Ti||0,width:t.ji||0};if(t.gRt){var s;const e=this.AGt(t.gRt),n=e.clickThrough||(null==(s=t.XRt)?void 0:s.tUt);i=At({},e,{contentHTML:this.vGt(e.resourceURI,n,e.altText)||""})}else if(t.mRt)i=this.wGt(t.mRt);else{if(!t.ARt)return;i=this.gGt(t.ARt)}return Ru(i,e)})).filter((t=>void 0!==t)):[]}mGt(){return this.pGt.$Bt}constructor(t,i,e,s,n,r){super(),this.fGt=!1,this.pGt=t,this.ORt=i,this.TRt=e,this.cGt=s,this.DUt=n,this.yFt=r}},t$=class extends $J{get uRt(){return this.pGt}get oRt(){return this.yGt}fa(){const t=this.TRt,i={companions:this.aRt(this.ORt),type:"nonlinear",id:this.pGt.NRt,skipOffset:this.LUt,integration:sh.ZYt,adSystem:this.pGt.$Bt,get adBreak(){return t.n7()},creativeId:this.pGt.NRt,universalAdIds:this.DUt.map((t=>({adIdRegistry:t.DQt,adIdValue:t.SQt})))};return this.pGt.ARt?Ru(this.gGt(this.pGt.ARt),i):this.pGt.mRt?Ru(this.wGt(this.pGt.mRt),i):this.pGt.gRt?Ru(this.AGt(this.pGt.gRt),i):i}n7(){var t;return null!=(t=this.Xa)?t:this.Xa=this.fa()}MGt(){var t,i;return null!=(i=null==(t=this.pGt.gRt)?void 0:t.aQt)?i:""}TGt(){var t,i,e;return null!=(e=null==(i=this.pGt)||null==(t=i.gRt)?void 0:t.cQt)?e:""}get LUt(){const t=this.pGt.Xl;return t&&t.T7&&void 0!==t.T7.skipOffset?js.uFt(t.T7.skipOffset,this.cGt.nGt.ct):(null==(i=this.pGt.Xl)?void 0:i.LUt)||-1;var i}constructor(t,i,e,s,n,r,h){super(t,i,s,n,r,h),this.yGt=e}},i$=class extends $J{get hRt(){return this.pGt}fa(){var t;const i=this.TRt;return{companions:this.aRt(this.ORt),duration:this.pGt.ct,id:this.pGt.NRt,mediaFiles:this.pGt.SUt,skipOffset:this.LUt,type:"linear",integration:sh.ZYt,adSystem:this.pGt.$Bt,width:void 0,height:void 0,get adBreak(){return i.n7()},clickThrough:null==(t=this.pGt.AUt)?void 0:t.tUt,creativeId:this.pGt.NRt,universalAdIds:this.DUt.map((t=>({adIdRegistry:t.DQt,adIdValue:t.SQt})))}}n7(){var t;return null!=(t=this.Xa)?t:this.Xa=this.fa()}MGt(){return this.pGt.SUt.length>0?this.pGt.SUt[0].contentURL:""}TGt(){return this.pGt.SUt.length>0?this.pGt.SUt[0].type:""}get LUt(){const t=this.pGt.Xl;return t&&t.T7&&void 0!==t.T7.skipOffset?js.uFt(t.T7.skipOffset,this.cGt.nGt.ct):this.pGt.LUt||-1}constructor(t,i,e,s,n,r){super(t,i,e,s,n,r)}};function e$(t){return t instanceof i$}r();var ih=class extends Ts{fa(){return new s$(this.f7.n7())}constructor(t){super("NGt",t)}},s$=class extends Xs{constructor(t){super("updatead",t)}};r();var n$=class extends Ts{fa(){return new r$(this.f7.n7())}constructor(t){super("DGt",t)}},r$=class extends Xs{constructor(t){super("adloaded",t)}},h$=class extends ra{get Fc(){return void 0!==this.IGt}get s7(){return this.pGt?[this.pGt]:[]}get r7(){var t;return null!=(t=this.IGt)?t:null}get h7(){return Eh(this.SGt,(t=>{const i=t.Oc;if(t===this.IGt&&void 0!==this.pGt){const t=i.indexOf(this.pGt);if(t>=0)return i.slice(t+1)}return t.EGt()?[]:i}))}get o7(){return this.SGt.filter((t=>t===this.IGt||!t.EGt()))}get va(){var t;return null!=(t=this.Xa)?t:this.Xa=Gj(this)}N1(t,i,e){throw new k("Scheduling ads while casting is not supported.")}Yp(){this.OFt.KFt()}y7(t){}bGt(t){return X_(this.SGt,(i=>i.o===t))}LGt(t,i,e,s){const n=this.SGt,r=[];let h=!1;for(const n of t){let t=this.bGt(n.id);void 0===t&&(t=new o$(n),s.push(new un(t))),!j_(t.kGt)&&j_(e)&&(t.kGt=this.CGt(t.xGt,e));const o=t.Oc;t.Qn(n,i,e,s);const a=t.Oc;for(const t of a)ea(o,t)||(s.push(new Hj(t)),h=!0);r.push(t)}this.SGt=r,h&&s.push(new vn);for(const t of n)ea(r,t)||s.push(new Hu(t))}OGt(t,i){const e=this.IGt,s=this.pGt;let n,r;if(t){var h;const{breakId:i,breakClipId:e}=t;n=i?this.bGt(i):void 0,r=e?null==(h=this.IGt)?void 0:h.jGt(e):void 0}if(this.IGt=n,this.pGt=r,n!==e&&(void 0!==e&&(e.zGt=void 0,i.push(new Nh(e))),void 0!==n&&(n.zGt=this.OFt,i.push(new ba(n)))),r!==s){const t=this.Qo.z_();void 0!==s&&i.push(new da(s,t)),void 0!==r&&i.push(new Za(r,t))}}CGt(t,i){if(!i||!i.breaks)return;const e=X_(i.breaks,(i=>i.id===t.id));return e}p7(t){const i=[];for(const t of this.SGt){let e=t.Oc;if(t===this.IGt&&void 0!==this.pGt){const t=e.indexOf(this.pGt);t>=0&&(e=e.slice(t))}else if(t.EGt())continue;for(const t of e){const e=t.PGt();e&&i.push(e)}}for(const e of i)t.N1(e,ro.a7,!1)}gn(){return this.Vo(),this.OFt.QFt(this.Yr),void 0!==this.IGt&&(this.IGt.zGt=void 0,this.IGt=void 0),this.pGt=void 0,Ri(this.SGt),Promise.resolve(void 0)}constructor(t,i){super(),this.SGt=[],this.IGt=void 0,this.pGt=void 0,this.Xa=void 0,this.Yr=t=>{var i;if(!t)return;const e=this.OFt.Fy,{breakStatus:s}=e,{breakClips:n,breaks:r}=e.media,h=null==(i=MK(e))?void 0:i.media,o=[];r&&n&&this.LGt(r,n,h,o),this.OGt(s,o);for(const t of o)this.Co(t)},this.Qo=t,this.OFt=i,this.OFt.UFt(this.Yr)}},o$=class extends uh{get xGt(){return this.BGt}get o(){return this.BGt.id}get Oc(){return this.Ic}get iGt(){return sh.EE}get eGt(){let t=this.BGt.duration;return void 0===t&&this.Ic.length>0&&(t=Fo(this.Ic,(t=>t.ct)),j(t)&&(t=void 0)),t}get sGt(){const t=this.eGt;if(void 0!==t&&void 0!==this.zGt){const i=this.zGt.ZFt();if(void 0!==i)return x.max(0,t-i)}return t}get pEt(){return this.BGt.position}EGt(){return this.BGt.isWatched}jGt(t){return X_(this.Ic,(i=>i.o===t))}Qn(t,i,e,s){const n=[];for(let r=0;r<t.breakClipIds.length;r++){const h=t.breakClipIds[r],o=X_(i,(t=>t.id===h));if(void 0===o)continue;const a=r<this.Ic.length?this.Ic[r]:new a$(o,this);!j_(a.RGt)&&j_(e)&&(a.RGt=this.UGt(e,h,r)),a.Qn(o,s),n.push(a)}this.BGt=t,this.Ic=n}UGt(t,i,e){if(!t||!t.breakClips)return;let s=X_(t.breakClips,(t=>t.id===i));if(!s){var n;const i=null==(n=this.kGt)?void 0:n.breakClipIds[e];i&&(s=X_(t.breakClips,(t=>t.id===i)))}return s}constructor(t){super(),this.kGt=void 0,this.Ic=[],this.zGt=void 0,this.BGt=t}},a$=class{get QGt(){return this.FGt}get o(){return this.FGt.id}get xRt(){return[]}get ct(){var t;return null!=(t=this.FGt.duration)?t:NaN}get SUt(){const t=this.MGt();return t?[{contentURL:t,delivery:"progressive",type:this.TGt(),width:0,height:0}]:[]}get LUt(){const{whenSkippable:t}=this.FGt;return void 0===t?void 0:t<0?-1:t}get tUt(){return this.FGt.clickThroughUrl}get NRt(){}get cRt(){return[]}mGt(){return""}TGt(){var t;return null!=(t=this.FGt.contentType)?t:""}MGt(){var t,i;return null!=(i=null!=(t=this.FGt.contentUrl)?t:this.FGt.contentId)?i:""}Qn(t,i){const e=this.o,s=this.ct,n=this.FGt.contentUrl;this.FGt=t;const r=this.o,h=this.ct,o=this.FGt.contentUrl;e===r&&(s===h||j(s)&&j(h))&&n===o||i.push(new ih(this)),j(s)&&!j(h)&&i.push(new n$(this))}PGt(){let t;return this.RGt&&(t=fJ(this.RGt,this.Xl.pEt)),t||(t=fJ(this.FGt,this.Xl.pEt)),t}n7(){var t;return null!=(t=this.Xa)?t:this.Xa=this.fa()}fa(){const t=this;return{get companions(){return t.xRt},get duration(){return t.ct},get id(){return t.o},get mediaFiles(){return t.SUt},get skipOffset(){return t.LUt},type:"linear",integration:sh.EE,get adSystem(){return t.mGt()},width:void 0,height:void 0,get adBreak(){return t.Xl.n7()},get clickThrough(){return t.tUt},get creativeId(){return t.NRt},get universalAdIds(){return t.cRt.map((t=>({adIdRegistry:t.DQt,adIdValue:t.SQt})))}}}constructor(t,i){this.Xa=void 0,this.FGt=t,this.Xl=i}};r();var u$,On=class extends i{get YGt(){return this.GGt}set YGt(t){this.GGt!==t&&(this.GGt=t,this.Us.href=null!=t?t:"",t?this.kS():this.CS())}kS(){if(this.Le)return;this.Le=!0,this.Us.style.display="",this.VGt||(this.fit.style.cursor="pointer");const t=this.VGt?this.Us:this.fit;lg.Ys.Je?(t.addEventListener("touchstart",this.WGt),t.addEventListener("touchend",this.HGt)):(t.addEventListener("mousedown",this.WGt),t.addEventListener("click",this.HGt))}CS(){if(!this.Le)return;this.Le=!1,this.Us.style.display="none",this.VGt||(this.fit.style.cursor="");const t=this.VGt?this.Us:this.fit;lg.Ys.Je?(t.removeEventListener("touchstart",this.WGt),t.removeEventListener("touchend",this.HGt)):(t.removeEventListener("mousedown",this.WGt),t.removeEventListener("click",this.HGt))}e_(){this.Vo(),this.CS(),this.fit.removeChild(this.Us)}constructor(t,i=lg.Ys.Je){super(),this.Le=!1,this.WGt=t=>{t.stopPropagation(),this.Co(new Ag("clickstart"))},this.HGt=t=>{t.stopPropagation(),this.Co(new Ag("click"))},this.fit=t,this.VGt=i,this.Us=h.createElement("a"),this.Us.style.position="absolute",this.Us.style.zIndex="11",this.Us.target="Du",this.VGt?($r(this.Us,"learn more"),this.Us.className="theoplayer-ad-overlay-component theoplayer-ad-touch-clickthrough",this.Us.setAttribute("rel","noopener")):ta(this.Us),this.fit.appendChild(this.Us),this.CS()}};r(),r(),function(t){t.qGt="theo-size-xs",t.XGt="theo-size-s",t.ZGt="theo-size-m",t.KGt="theo-size-l",t.JGt="theo-size-xl"}(u$||(u$={}));var c$=[1200,992,768,576],l$={1200:"theo-size-xl",992:"theo-size-l",768:"theo-size-m",576:"theo-size-s"},d$=class{$Gt(t){let i=f$(t);i!==this.tVt&&(ku(this.Us,i),XN(this.Us,this.tVt),this.tVt=i)}gn(){this.Wu.fn(Zr.pn,this.mn)}constructor(t,i){this.Us=t,this.Wu=i,this.mn=t=>{this.$Gt(t.width)},this.tVt=f$(i.ku),ku(this.Us,this.tVt),i.yn(Zr.pn,this.mn)}};function f$(t){for(let i of c$)if(t>i)return l$[i];return"theo-size-xs"}var _$=class extends i{get we(){return this.Us}get eA(){return this.QR}get wE(){return this.Ql.textContent||""}set wE(t){$r(this.Ql,t)}iVt(t){"countdown"!==this.QR&&(this.QR="countdown",this.eVt(),this.we.classList.remove("theoplayer-ad-skip-button"),this.we.classList.add("theoplayer-ad-skip-countdown")),this.wE="You can skip in "+x.round(t)+" seconds"}sVt(){"skip"!==this.QR&&(this.QR="skip",this.wE="Skip Ad",this.nVt(),this.we.classList.remove("theoplayer-ad-skip-countdown"),this.we.classList.add("theoplayer-ad-skip-button"))}nVt(){this.we.addEventListener("mouseup",this.rVt),this.we.addEventListener("touchend",this.rVt)}eVt(){this.we.removeEventListener("mouseup",this.rVt),this.we.removeEventListener("touchend",this.rVt)}gn(){this.Vo(),this.eVt(),this.qu.gn(),ei(this.Us),ei(this.Ql),this.hVt&&ei(this.hVt)}constructor(t,i){super(),this.rVt=()=>{this.Co(new Ag("Yp"))},this.Us=h.createElement("div"),this.we.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",this.we.style.position="absolute",this.Ql=h.createElement("span"),this.we.appendChild(this.Ql),i&&(this.hVt=h.createElement("div"),this.hVt.className="theoplayer-ad-skip-poster",this.hVt.style.backgroundImage='url("'+rw(i)+'")',this.we.appendChild(this.hVt)),this.QR="countdown",this.qu=new d$(this.we,t)}},g$=class extends i{oVt(){const t=this.OFt.Fy.activeTrackIds;if(t){if(this.aVt()){const i=this.hN.xw.map((t=>t.o)),e=this.nN.xw.map((t=>t.o));ea(i.concat(e),"0")&&t.push(0)}p$(t,this.nN),p$(t,this.hN),function(t,i){const e=!1;for(const e of i.xw)e.YYt=ea(t,e.Vw)?go.Xn:go.Ch}(t,this.Dl)}}uVt(){var t;const i=null==(t=this.OFt.Fy.media)?void 0:t.tracks;if(!i)return;const e=i.filter(RJ),s=i.filter(UJ),n=i.filter(QJ);if(v$(this.nN,e.map((t=>t.trackId))),v$(this.hN,s.map((t=>t.trackId))),v$(this.Dl,n.map((t=>t.trackId))),this.aVt()&&0===s.length&&0!==this.Cg()){const t=this.cVt();s.push(t)}if(this.aVt()&&0===e.length){const t=this.lVt();e.push(t)}m$(e,this.nN),m$(s,this.hN),function(t,i){let e=!1;for(const s of t){let t=A$(i,s.trackId);t||(t=new FJ(s),i.tt(t),e=!0)}}(n,this.Dl)}dVt(){this.gR||(this.fVt=v(this.od,250))}_Vt(){m(this.fVt)}gVt(){this._Vt(),this.dVt()}wVt(){var t;const i=this.OFt.Fy,e=i.media;var s;const n=null!=(s=null==e?void 0:e.duration)?s:NaN,r=(null==e?void 0:e.streamType)===chrome.cast.media.StreamType.LIVE||n<0,h=r?1/0:n;this.Rk=h,this.AVt();const o=i.getEstimatedLiveSeekableRange(),a=null==(t=i.customData)?void 0:t.buffers;if(j_(o)){const{start:t,end:i,isMovingWindow:e=r,isLiveDone:s=!1}=o;this.uLt(t,i,e,s)}else if(j_(a)){const[t,i]=a.seekable;this.uLt(t,i,r,!1)}else r?this.uLt(void 0,void 0,!0,!1):this.uLt(0,h,!1,!1)}vVt(){const t=this.OFt.Fy,i=function(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.PAUSED}(t)||w$(t);this.mVt=i,this.gR!==i&&(this.gR=i,this.gR?this.Co(new ws(this.z_())):this.Co(new fh(this.z_())))}th(){const{playbackRate:t}=this.OFt.Fy;this.pVt!==t&&(this.pVt=void 0,this.wR!==t&&(this.wR=t,this.Co(new Jh(this.z_(),t))))}yVt(){const{playerState:t}=this.OFt.Fy;let i;switch(t){case chrome.cast.media.PlayerState.IDLE:i=ov.tN;break;case chrome.cast.media.PlayerState.BUFFERING:i=ov.Gn;break;case chrome.cast.media.PlayerState.PAUSED:case chrome.cast.media.PlayerState.PLAYING:i=ov.eN}this.W$(i),this.MVt()}uLt(t,i,e,s){j_(t)&&j_(i)?this.I$=new Dk(t,i,e,e&&!s):this.I$=void 0}TVt(t,i){this.zYt=null!=i?i:this.zYt,this.jYt=null!=t?t:this.jYt,this.Co(new qu)}We(t){this.NVt!==t?(this.fR=!0,this.Co(new Sa(this.z_()))):this.NVt=void 0}XP(){if(!this.fR)return;this.fR=!1;const t=this.z_();this.Co(new jc(t,this.C_())),this.Co(new $s(t))}Mh(){this.Y$=!0,this.U_()&&this.Co(new ys(this.z_()))}AVt(){const t=this.jft,i=this.Td();t===i||j(t)&&j(i)||(this.jft=i,this.Co(new Tn(i)))}DVt(){const t=this.z_();this.fR||this.IVt===t||(this.IVt=t,this.Co(new jc(t,this.C_())))}OYt(){this.gR&&(this.gR=!1,this.Co(new fh(this.z_())),this.W$(ov.tN))}F9(){return this.Ic}L_(){return this.gNt.Np(this.xYt)}z_(){if(this.Ic.Fc){const t=this.OFt.XFt();if(void 0!==t)return t}return this.k9()}k9(){return void 0!==this.SVt?this.xYt+this.SVt:this.Y$?this.Td():this.xYt+this.OFt.qFt()}C_(){if(this.EVt)return new Date(this.k9()+this.EVt)}Td(){if(this.Ic.Fc){var t;const i=null==(t=this.Ic.s7[0])?void 0:t.ct;if(void 0!==i&&!j(i))return i}return this.xYt+this.Rk}Q_(){return this.yP}U_(){return!this.Ic.Fc&&this.Y$}og(){return this.gR}cg(){return this.wR}dg(t){this.wR!==t&&(this.pVt=this.wR,this.wR=t,this.Co(new Jh(this.z_(),t)),this.OFt.dg(t))}pg(){return this.G$}_g(){return this.Ic.Fc?Ki.cR(0,this.z_()):this.Uo.Np(this.xYt)}Mg(){var t,i;if(this.Ic.Fc)return Ki.lR();let e=null!=(i=null==(t=this.I$)?void 0:t.PJ().Np(this.xYt))?i:Ki.lR();if(e.U>0){const t=e.jn(e.U-1);e=e.HB(Ki.cR(t,this.z_()))}return e}Ng(){return this.fR}I_(){return this.nN}Eg(){return this.hN}Dg(){return this.Dl}cVt(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",frameRate:0,height:this.Sg(),id:"0",name:"",width:this.Cg()},enabled:!0,id:"0",kind:"main",label:"",language:"",qualities:[],uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:PJ.vp}}lVt(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",id:"0",name:"",audioSamplingRate:0},qualities:[],enabled:!0,id:"0",kind:"main",label:"",language:"",uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:PJ.mp}}aVt(){var t,i;return!(void 0!==(null==(t=this.GFt.YFt())?void 0:t.version))||(null==(i=this.GFt.YFt())?void 0:i.sdkType)===WJ.XYt}HFt(t){this.aVt()&&Et(t,0),this.OFt.HFt(t)}Cg(){return this.jYt}Sg(){return this.zYt}Vg(){this.gR&&(this.gR=!1,this.mVt=!1,this.Co(new fh(this.z_()))),this.OFt.Vg()}Gg(){this.gR||(this.gR=!0,this.mVt=!0,this.Co(new ws(this.z_()))),this.OFt.Gg()}Dp(t){if(this.Ic.Fc)return;let i=x.max(0,t-this.xYt);i=x.round(1e6*i)/1e6;const e=this.SVt;this.SVt=i,this.mVt=this.og(),this.NVt=i,this.fR=!0,this.Co(new Sa(this.z_())),void 0===e&&this.l2(i)}l2(t){this.OFt.Dp(t,this.mVt).then(this.bVt(t)).catch(this.WFt)}bVt(t){return()=>{void 0!==this.SVt&&(this.SVt===t?this.SVt=void 0:this.l2(this.SVt))}}W$(t){this.G$!==t&&(this.G$=t,this.Co(new Vs(this.z_(),t))),void 0===this.SVt&&this.fR&&t>=ov.iN&&this.XP(),this.MVt()}MVt(){if(this.gR)return void(this.LVt=!1);const t=this.G$>=ov.eN;this.LVt!==t&&(this.LVt=t,t?this.Co(new Lr(this.z_())):this.Co(new Xc(this.z_())))}kVt(){this.CVt||(this.CVt=h.createElement("div"),this.Qo.we.appendChild(this.CVt),this.CVt.className="theoplayer-ad-linear theoplayer-chromecast-ad",this.CVt.style.zIndex="10",ta(this.CVt)),this.CVt.style.display=this.Ic.Fc?"":"none"}xVt(){var t;const i=null==(t=this.Ic.s7[0])?void 0:t.tUt;i&&!this.OVt?(this.OVt=new On(this.CVt,!0),this.OVt.YGt=i,this.OVt.yn("clickstart",this.jVt)):this.OVt&&(this.OVt.YGt=i)}zVt(){var t;const i=null==(t=this.Ic.s7[0])?void 0:t.LUt;if(void 0===i||i<0)return void(this.PVt&&(this.PVt.gn(),this.PVt=void 0));if(!this.PVt){var e;const t=null==(e=this.Qo.ba)?void 0:e.mi;this.PVt=new _$(this.Qo.Iu,t),this.CVt.appendChild(this.PVt.we),this.PVt.yn("Yp",this.BVt)}const s=this.OFt.XFt();void 0!==s&&(s<i?this.PVt.iVt(i-s):this.PVt.sVt())}PYt(){return this.xYt}BYt(t){this.xYt=t}p7(t){}Wg(){this.OFt.Wg()}gn(){this.Vo(),this.Ic.gn(),this.OVt&&(this.OVt.e_(),this.OVt=void 0),this.PVt&&(this.PVt.gn(),this.PVt=void 0),this.CVt&&(ei(this.CVt),this.CVt=void 0),this.OFt.RFt(this.WJ),this.OFt.PFt(this.RVt),this.OFt.QFt(this.MYt),this.OFt.fn(jr.CFt,this.UVt),this.OFt.gn()}constructor(i,e,s,n){super(),this.gNt=Ki.lR(),this.EVt=void 0,this.Y$=!1,this.yP=void 0,this.pVt=void 0,this.G$=ov.tN,this.LVt=!1,this.Uo=Ki.lR(),this.I$=void 0,this.fR=!1,this.nN=new jn,this.hN=new jn,this.Dl=new tn,this.jft=NaN,this.SVt=void 0,this.mVt=!1,this.IVt=NaN,this.NVt=void 0,this.fVt=0,this.RVt=(t,i)=>{switch(t){case"buffered":this.gNt=new Ki(i),this.Co(new $(this.z_()));break;case"currentProgramDateTime":this.EVt=new Date(i).getTime()-this.z_();break;case"played":this.Uo=new Ki(i);break;case"seekable":this.wVt();break;case"videoHeight":this.TVt(void 0,i);break;case"videoWidth":this.TVt(i,void 0)}},this.WJ=i=>{switch(i.type){case t.ZA:this.We(i.currentTime);break;case t.XA:this.XP();break;case t.HA:this.Co(new eV(i.representation,i.previousRepresentation));break;case t.KA:this.Co(new zG(i.segmentStartTime,i.error,i.trackType,i.track,i.quality,i.retryCount));break;case t.LA:this.Co(new OF(i.currentTime,i.initDataType,i.initData));break;case t.NA:this.Co(new Pn(new Qr(p_.CONTENT_PROTECTION_ERROR,i.error,void 0,i.licenseAcquisitionURL,i.status,i.statusText,i.licenseAcquisitionMessage,i.systemCode)));break;case t.DA:this.Co(new Ax)}},this.MYt=t=>{this.wVt(),this.vVt(),this.th(),this.yVt(),this.DVt(),this.gVt(),this.uVt(),this.oVt(),this.kVt(),this.xVt(),this.zVt(),t||w$(this.OFt.Fy)&&this.Mh()},this.od=()=>{this.DVt(),this.zVt()},this.UVt=t=>{this.Co(t)},this.WFt=t=>{this.SVt=void 0,this.Co(new _J(t))},this.jVt=()=>{this.Gg()},this.BVt=()=>{this.Ic.Yp()},this.Qo=i,this.GFt=e,this.OFt=s,this.Ic=new h$(i,s),this.xYt=n.PYt(),this.Rk=n.Td()-this.xYt,this.gR=n.og(),this.wR=n.cg(),this.jYt=n.Cg(),this.zYt=n.Sg(),this.OFt.BFt(this.WJ),this.OFt.jFt(this.RVt),this.OFt.UFt(this.MYt),this.OFt.yn(jr.CFt,this.UVt),this.OFt.FFt().then((t=>{this.Co(new gJ(t.bt,t.yc))}),this.WFt)}};function w$(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.IDLE&&t.idleReason===chrome.cast.media.IdleReason.FINISHED}function A$(t,i){for(const e of t.xw)if(e.Vw===i)return e}function v$(t,i){let e=!1;for(let s=0;s<t.U;s++){const n=t.jw(s);-1===i.indexOf(n.Vw)&&(t.it(n),s--,e=!0)}return e}function m$(t,i){let e=!1;for(const s of t){let t=A$(i,s.trackId);t||(t=new HJ(s),i.tt(t),e=!0)}return e}function p$(t,i){for(const e of i.xw)e.HYt=ea(t,e.Vw);return!1}r();var y$=class{O7(t){return Promise.resolve("all")}Yg(){}gn(){}};r();function M$(t,i,e){if(j(t))return e;if(t===1/0){if("live"===e||"dvr"===e)return e;if(i&&i.length>0){if(i.end(i.length-1)-i.start(0)>60)return"dvr"}return"live"}return"vod"}var T$=[t.kA,t.EA,t.WA,t.qA,t.Sh,t.jh,t.VA,t.ov,t.ZA,t.XA,Ho.Mv,Ho.Tv,t.HA,t.KA,t.LA,t.NA,t.DA],N$=class extends U{OB(t){if(!t)return;Ah(this.IB&&bh(this.IB),t&&bh(t))||(this.IB=t,this.Co(new zt(t)))}QVt(t){if(!t)return;const i=il(t,this.Qo.wd);Ah(this.bc&&bh(this.bc),i&&bh(i))||(this.ja.BYt(0),this.bc=i,this.Co(new Bj(i)),this.ja.OYt())}FVt(t){for(const i of this.rt.xw)if(i.Vw===t)return i;for(const i of this.ht.xw)if(i.Vw===t)return i}get zvt(){return this.ja}set zvt(t){const i=this.ja;i&&(i.fn(jr.CFt,this.UVt),i.fn(jr.xFt,this.YVt),i.fn(T$,this.Ds),i.fn(Ho.Mw,this.ZO),t.BYt(i.PYt()),i.p7(t.F9())),this.ja=t,this.nN.Pw=t.I_(),this.hN.Pw=t.Eg(),this.Dl.Pw=t.Dg(),this.Ic.Pw=t.F9(),i&&i.gn(),t.yn(jr.CFt,this.UVt),t.yn(jr.xFt,this.YVt),t.yn(T$,this.Ds),t.yn(Ho.Mw,this.ZO)}get ro(){return this.ho}get Oc(){return this.F9()}F9(){return this.Ic}Y9(){return this.D9}I_(){return this.nN}L_(){return this.ja.L_().ks()}get GVt(){return this.VVt||this.bc}set GVt(t){this.VVt=t}async $n(t,i){var e;t&&await this.NYt(t,null!=(e=t.ads)?e:[],t.streamType,NaN,0,null!=i?i:0)}async WVt(t){var i;const e=null!=(i=this.VVt)?i:this.bc;if(!e)return;var s;const n=this.VVt?null!=(s=this.VVt.ads)?s:[]:this.I7(),r=this.Qo.Td(),h=this.Qo.Mg(),o=M$(r,h,e.streamType),a=h.length>0?h.start(0):0,u=null!=t?t:this.k9();await this.NYt(e,n,o,r,a,u)}I7(){const t=new pn;return this.Ic.p7(t),t.I7()}C_(){return this.ja.C_()}O_(){return this.IB}get j_(){return this.z_()}set j_(t){this.P_(t)}z_(){return this.ja.z_()}k9(){return this.ja.k9()}P_(t){this.HVt||(this.GFt.TYt()||this.HVt||!this.bc?this.ja.Dp(t):this.$n(this.bc,t))}Td(){return this.ja.Td()}U_(){return this.ja.U_()}Q_(){return this.yP}Y_(){return this.MP}V_(){return this.rN}X_(){return this.Qo.q_}K_(){return this._R}J_(t){this._R=t,this.Co(new Oe(this.j_,this.xg)),this.GFt.J_(t)}og(){return this.ja.og()}cg(){return this.ja.cg()}dg(t){this.ja.dg(t)}_g(){return this.ja._g().ks()}wg(){return tt.HT}Ag(t){}pg(){return this.ja.pg()}Mg(){return this.ja.Mg().ks()}Ng(){return this.ja.Ng()}Wa(){return this.bc}async ga(t){this.bc=t,await this.$n(t),this.VVt=void 0,this.ja.OYt()}Dg(){return this.Dl}Sg(){return this.ja.Sg()}Cg(){return this.ja.Cg()}Eg(){return this.hN}Og(){return this.Jk}jg(t){this.Jk=t,this.Co(new Oe(this.j_,this.xg)),this.GFt.jg(t)}get Bg(){return!1}set Bg(t){}Ug(){}Rg(){return this.AR}Yg(){}Vg(){this.GFt.TYt()||this.HVt||!this.bc?this.ja.Vg():this.$n(this.bc)}Gg(){this.ja.Gg()}Qg(){this.ho=!0}Fg(){this.IB=void 0,this.ho=!1}ge(){}be(){}async NYt(t,i,e,s,n,r){this.HVt=!0,this.qVt(),this.ja.BYt(n);const h="live"===e||"dvr"===e,o=function(t,i,e){return{theoplayer_version:1,streamStart:t,isLive:i,sourceDescription:e}}(n,h,t),a={DYt:t,Oc:i,j_:x.max(0,r-n),ct:s,xX:h?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED,IYt:o};try{await this.GFt.NYt(a)}catch(t){this.XVt(t)}finally{this.HVt=!1}}ZVt(){this.KVt(this.nN),this.KVt(this.hN),this.JVt(this.Dl)}KVt(t){for(const i of t.xw)this.$Vt(i);t.yn(gt.ew,(t=>{this.$Vt(t.Lt)}))}JVt(t){for(const i of t.xw)this.tWt(i);t.yn(gt.ew,(t=>{this.tWt(t.Lt)}))}$Vt(t){t.yn(Hc.UYt,this.eTt),t.yn(Hc.QYt,this.iWt),t.yn(Hc.QYt,this.oVt)}tWt(t){t.yn(Hc.RYt,this.eWt),t.yn(Hc.RYt,this.oVt)}sWt(){const t=[];for(const i of this.rt.xw)i.Rt&&t.push(i.Vw);for(const i of this.ht.xw)i.Rt&&t.push(i.Vw);for(const i of this.nt.xw)i.eA===go.Xn&&t.push(i.Vw);this.ja.HFt(t)}nWt(t){var i,e;if(!t)return!1;return(null!=(e=null==(i=this.GFt.YFt())?void 0:i.version)?e:-1)>=2?t.map((t=>t.o)):[t[0].o]}rWt(t){this.hWt=t}Zg(){}Kg(){}async Wg(){this.ja.Wg(),this.qVt()}qVt(){this.QO=ov.tN,this.jO=!1,this.BO=!1,this.yP=void 0,this.MP=void 0}async gn(){this.qVt(),this.Vo(),this.zvt=this.oWt(),this.GFt.fn(ri.CFt,this.UVt),this.GFt.fn(ri.cYt,this.aWt),this.GFt.fn(ri.uv,this.uWt),this.GFt.fn(ri.uYt,this.cWt),this.GFt.fn(ri.lYt,this.lWt),this.GFt.gn()}oWt(){return new zJ(this,this.ja.PYt(),this.ja.z_(),this.ja.Td(),this.ja.U_(),this.ja.og(),this.ja.cg(),this.ja.Cg(),this.ja.Sg())}constructor(t,i){super(t,!0),this.ho=!1,this.hWt=xs,this.QO=ov.tN,this.jO=!1,this.BO=!1,this.HVt=!1,this.VVt=void 0,this.yP=void 0,this.MP=void 0,this.nN=new we,this.hN=new we,this.Dl=new Yu,this.AR=new $o,this.rN=new Lc,this.D9=new y$,this.uWt=t=>{var i,e;(j_(t.xg)&&!Va(t.xg,this.Jk,1e-5)||j_(t.Z_)&&t.Z_!==this._R)&&(this.Jk=null!=(i=t.xg)?i:this.Jk,this._R=null!=(e=t.Z_)?e:this._R,this.Co(new Oe(this.j_,this.Jk)))},this.cWt=()=>{const t=this.GFt.TYt();this.zvt=t?new g$(this,this.GFt,t,this.ja):this.oWt()},this.YVt=t=>{this.OB(t.bt),this.QVt(t.yc)},this.lWt=t=>{const i=this.FVt(t.Wy);if(!i)return void 0;const e={targetQualityIds:t.fYt};i.GYt(e)},this.UVt=t=>{this.XVt(t.lt)},this.XVt=t=>{this.hWt&&this.hWt(t)},this.aWt=t=>{this.yP=t.lt,this.MP=_s(this.yP),this.Co(new pe(this.MP))},this.iWt=t=>{if(!t.enabled)return;const i=this.rt.xw.some((i=>i.Vw===t.trackId))?this.rt:this.ht;for(const e of i.xw)e.Rt&&e.Vw!==t.trackId&&(e.Rt=!1)},this.eWt=t=>{if(t.mode===go.Xn)for(const i of this.nt.xw)i.eA===go.Xn&&i.Vw!==t.trackId&&ry(i.zt,t.track.zt)&&(i.eA=go.Ch)},this.oVt=Tl((()=>{this.sWt()}),50),this.eTt=t=>{const i=this.nWt(t.targetQuality),e=t.track;this.GFt._Yt(e.Vw,e.IJ,i)},this.ZO=t=>{this.Co(t);const i=t.readyState;!this.jO&&this.QO===ov.tN&&i>=ov.Gn&&(this.jO=!0,this.Co(new cs(t.currentTime))),!this.BO&&this.QO<=ov.Gn&&i>=ov.iN&&(this.BO=!0,this.Co(new rs(t.currentTime))),this.QO<=ov.iN&&i>=ov.eN&&this.Co(new M(t.currentTime)),this.QO<=ov.eN&&i===ov.sN&&this.Co(new fs(t.currentTime)),this.QO=i},this.Jk=this.Qo.xg,this._R=this.Qo.Z_,this.GFt=i,this.GFt.yn(ri.CFt,this.UVt),this.GFt.yn(ri.cYt,this.aWt),this.GFt.yn(ri.uv,this.uWt),this.GFt.yn(ri.uYt,this.cWt),this.GFt.yn(ri.lYt,this.lWt),this.Ic=new fn(this),this.IB=this.Qo.bt,this.bc=this.Qo.Wa(),this.zvt=new zJ(this,0,this.Qo.k9(),this.Qo.Td(),this.Qo.R_,this.Qo.hg,this.Qo.ag,this.Qo.Lg,this.Qo.Ig),this.ZVt()}};r();var D$=class extends La{fa(){return new I$(this.lt)}constructor(t){super("error"),this.lt=t}},I$=class extends Ag{constructor(t){super("error"),this.error=t}};r();var S$=class extends Ag{constructor(t){super("statechange"),this.state=t}};function E$(t,i){let e;return{get casting(){return t.BW},get error(){return t.lt},get receiverName(){return t.dWt},get state(){return t.zvt},start(){t.Cn()},stop(){t.Wg()},join(){t.fWt()},leave(){t._Wt()},set connectionCallback(t){null==i||i.gWt(t)},get connectionCallback(){return null==i?void 0:i.wWt()},get source(){return e||t.yc},set source(i){e=i,t.yc=i},addEventListener(i,e){const s=As(i,Oa);t.yn(s,e)},removeEventListener(i,e){const s=As(i,Oa);t.fn(s,e)}}}r();var b$=class extends ra{get BW(){return this.zvt===Dr.CONNECTING||this.zvt===Dr.CONNECTED}get lt(){return this.yP}get va(){return this.Xa||(this.Xa=E$(this,this.AWt)),this.Xa}get dWt(){var t;return null==(t=this.AWt.vWt())?void 0:t.EYt()}get yc(){return this.Qo?this.Qo.GVt:this.VVt}set yc(t){this.VVt=t?il(t,this.mWt.wd):void 0,this.Qo&&(this.Qo.GVt=this.VVt,this.VVt&&this.Qo.$n(this.VVt))}get zvt(){return this.ja}set zvt(t){let i=t;this.pWt||i!==Dr.CONNECTING&&i!==Dr.CONNECTED||(i=Dr.AVAILABLE),this.ja!==i&&(this.ja=i,this.Co(new S$(this.zvt)))}async yWt(){if(!this.MWt)throw new b("Chromecast must be initialized before starting a session");await this.MWt,this.AWt.vWt()||await this.AWt.TWt()}async Cn(){this.pWt=!0;try{if(this.zvt=Dr.CONNECTING,await this.yWt(),await this.NWt(),this.Qo){const t=this.mWt.Wa(),i=this.AWt.DWt(t);this.Qo.GVt=i?il(i,this.mWt.wd):this.VVt,this.Qo.WVt()}this.zvt=Dr.CONNECTED,await this.mWt.Wg()}catch(t){this.IWt(!1).catch(xs),this.zvt=Dr.AVAILABLE,Oi(t)||this.K1(t)}}async fWt(){this.pWt=!0;try{if(this.zvt=Dr.CONNECTING,await this.yWt(),await this.NWt(),this.Qo){const t=this.mWt.Wa(),i=this.AWt.SWt(t);i&&(this.Qo.GVt=il(i,this.mWt.wd))}this.zvt=Dr.CONNECTED,await this.mWt.Wg()}catch(t){await this.IWt(!0).catch(xs),this.zvt=Dr.AVAILABLE,Oi(t)||this.K1(t)}}async EWt(){this.AWt.vWt()&&await this.Cn()}async NWt(){null!=this.Qo||(this.Qo=this.bWt()),this.yP=void 0,this.mWt.Gg(),await this.WV.LWt(this.Qo)}bWt(){const t=new N$(this.mWt,this.AWt.vWt());return t.rWt(this.K1),t}kWt(){this.Qo&&(this.Qo.gn(),this.Qo=void 0)}async IWt(t){if(this.pWt=!1,!this.Qo)return;const i=this.Qo.ro,e=this.Qo.Wa(),s=this.Qo.k9();try{if(i){let i;i=t?this.AWt.CWt(e):this.AWt.xWt(e),null!=i||(i=e),await this.WV.OWt(i,i===e),this.mWt.P_(s),this.mWt.Vg()}}finally{this.kWt()}}_Wt(){this.BW&&(this.AWt.jWt(!1),this.IWt(!0).catch(this.K1))}Wg(){this.BW&&(this.AWt.jWt(!0),this.IWt(!1).catch(this.K1))}gn(){this.AWt.fn(SJ.CYt,this.zWt),this.Vo(),this.kWt()}constructor(t,i,e,s){super(),this.yP=void 0,this.Xa=void 0,this.Qo=void 0,this.ja=Dr.UNAVAILABLE,this.pWt=!1,this.PWt=()=>{this.AWt.yn(SJ.CYt,this.zWt),this.zvt=this.AWt.BWt()},this.zWt=t=>{const i=t.zvt;this.zvt=i,i!==Dr.UNAVAILABLE&&i!==Dr.AVAILABLE||this.IWt(!1).catch(this.K1)},this.VVt=void 0,this.K1=t=>{t instanceof xa&&(this.yP=t,this.Co(new D$(t).va))},this.WV=t,this.mWt=i,this.AWt=s,this.$x=e.chromecast,this.MWt=this.AWt.iW(this.$x),this.MWt.then(this.PWt).catch(this.K1)}};r();var L$=class extends ra{get BW(){return!1}get lt(){}get dWt(){}get yc(){}set yc(t){}get zvt(){return Dr.UNAVAILABLE}get va(){return this.Xa||(this.Xa=E$(this)),this.Xa}fWt(){lg.Pv("Joining a Chromecast session is not possible when JoinStrategy is configured to disabled")}_Wt(){lg.Pv("Leaving a Chromecast session is not possible when JoinStrategy is configured to disabled")}Cn(){lg.Pv("Starting a Chromecast session is not possible when JoinStrategy is configured to disabled")}Wg(){lg.Pv("Stopping a Chromecast session is not possible when JoinStrategy is configured to disabled")}EWt(){return Promise.resolve()}gn(){}};function k$(t){return{j_:t.z_(),ct:t.Td(),R_:t.R_,lt:t.Q_(),F_:t.Y_(),Z_:t.Z_,hg:t.hg,ag:t.ag,vg:t.vg,Tg:t.Tg,Ig:t.Ig,Lg:t.Lg,xg:t.xg}}r(),r();var C$=class extends U{F9(){return this.Ic}I_(){return this.nN}get G_(){return this.V_()}V_(){return this.rN}Dg(){return this.Dl}Eg(){return this.hN}oN(t){const i=this.Qo;if(i===t)return;let e;this.W9&&(i.N_(this.iw),e=k$(this));const s=this.O_(),n=this.Rg(),r=this.Ug();if(this.Qo=t,this.nN.Pw=t.ht,this.hN.Pw=t.rt,this.Dl.Pw=t.nt,this.rN.Pw=t.G_,this.Ic.Pw=t.Oc,void 0!==e){$a(this,e,k$(this))}const h=this.O_();h!==s&&this.Co(new zt(h)),this.Rg()!==n&&this.Co(new ai),this.Ug()!==r&&this.Co(new us),this.W9&&t.m_(this.iw)}async gn(){await super.gn(),this.nN.gn(),this.hN.gn(),this.Dl.gn(),this.rN.gn(),await this.Ic.gn()}constructor(t,i){super(t,i),this.nN=new we,this.hN=new we,this.Dl=new Yu,this.rN=new Jo,this.nN.Pw=t.ht,this.hN.Pw=t.rt,this.Dl.Pw=t.nt,this.rN.Pw=t.G_,this.Ic=new fn(this),this.Ic.Pw=t.Oc}},x$=class extends C${Wa(){const t=super.Wa();return!t&&this.RWt.BW&&this.RWt.yc?this.RWt.yc:t}ga(t,i){return this.GH.oO((i=>(this.UWt=new Ao,this.UWt.l_(i),super.ga(t,this.UWt.a_))),i)}Vg(){super.Vg(),this.wd.cast.strategy!==cw.AUTO||this.RWt.BW||this.RWt.EWt()}LWt(t){return this.GH.oO((i=>this.QWt(t,i)))}OWt(t,i){return void 0===t&&(t=void 0),void 0===i&&(i=!1),this.GH.oO((e=>this.FWt(t,i,e)))}QWt(t,i){Pi(i),this.YWt.Oc&&this.YWt.Oc.p7(t.Oc),this.GWt=t,this.oN(t),this.GWt.Qg()}async FWt(t,i,e){Pi(e);const s=this.GWt;if(void 0!==s)try{if(t){await this.YWt.Wg(),Pi(e);const s=il(t,this.YWt.wd);i&&(s.ads=void 0),this.UWt=new Ao,this.UWt.l_(e),await this.YWt.ga(s,this.UWt.a_)}i&&this.YWt.Oc&&s.Oc.p7(this.YWt.Oc)}catch(t){Mh(t)}finally{s.Fg(),this.oN(this.YWt),this.GWt===s&&(this.GWt=void 0)}}Wg(){var t;return null==(t=this.UWt)||t.c_(),this.GH.oO((()=>super.Wg()))}async gn(){var t;null==(t=this.UWt)||t.c_(),this.RWt.gn(),await this.OWt(),await this.GH.gn(),await super.gn()}constructor(t,i){super(t),this.GH=new Vi,this.YWt=t,this.wd.cast.strategy!==cw.DISABLED?this.RWt=new b$(this,t,this.wd.cast,i):this.RWt=new L$,this.KQ.VW(this.RWt)}};r();var O$=new class extends i{gWt(t){this.VWt=t}wWt(){return this.VWt}vWt(){return this.WWt}BWt(){switch(this.HWt.getCastState()){case cast.framework.CastState.CONNECTED:return Dr.CONNECTED;case cast.framework.CastState.CONNECTING:return Dr.CONNECTING;case cast.framework.CastState.NOT_CONNECTED:return Dr.AVAILABLE;case cast.framework.CastState.NO_DEVICES_AVAILABLE:default:return Dr.UNAVAILABLE}}async iW(t){await AK(),this.HWt=cast.framework.CastContext.getInstance(),this.HWt.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,this.WW),this.HWt.setOptions({receiverApplicationId:t.appID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED})}async TWt(){try{const t=await this.HWt.requestSession();if(t)throw t}catch(t){throw new xa(pr(t))}}DWt(t){var i;return null==(i=this.VWt)?void 0:i.onStart(t)}xWt(t){var i;return null==(i=this.VWt)?void 0:i.onStop(t)}SWt(t){var i;return null==(i=this.VWt)?void 0:i.onJoin(t)}CWt(t){var i;return null==(i=this.VWt)?void 0:i.onLeave(t)}jWt(t){this.HWt.endCurrentSession(t)}constructor(...t){super(...t),this.WWt=void 0,this.VWt=void 0,this.WW=()=>{const t=this.BWt();this.WWt=t===Dr.CONNECTED?new OJ(this.HWt.getCurrentSession()):void 0,this.Co(new jJ(t))}}},j$=new class{get va(){return this.Xa||(this.Xa=function(t){return{initialize(i){const e=t.iW(dw(i));return e.catch(xs),e},startSession(){const i=t.TWt();return i.catch(xs),i},endSession(){t.qWt()}}}(this)),this.Xa}async iW(t){this.MWt||(this.MWt=this.XWt(t)),await this.MWt}async XWt(t){await this.AWt.iW(t)}async TWt(){if(!this.MWt)throw new b("Chromecast must be initialized before starting a session");await this.MWt,this.AWt.vWt()||await this.AWt.TWt()}ZWt(){this.AWt.jWt(!1)}qWt(){this.AWt.jWt(!0)}constructor(t){this.MWt=void 0,this.Xa=void 0,this.AWt=t}}(O$),z$={get chromecast(){return j$.va}};Cj((t=>new x$(t,O$)),tu.q9),r(),r(),r(),r(),r(),r(),r();var P$=class{KWt(t,i,e,s){t.XR.forEach((t=>{if(!this.JWt(t.$Wt)){const n=t.tHt(i,e,s);n&&this.iHt(n)}}))}JWt(t){return this.eHt.get(t)}iHt(t){this.eHt.set(t.sHt,t),this.nHt.set(t.sHt,t.rHt),this.hHt.Qa(t.oHt)}y7(t){this.eHt.has(t.sHt)||(this.nHt.set(t.sHt,t),this.hHt.Qa(t.oHt))}aHt(t){return this.nHt.forEach(t)}uHt(t){return this.eHt.forEach(t)}cHt(t){let i=!1;return this.eHt.forEach((e=>{i=e.cHt(t)||i})),i}async gn(){const t=[];this.eHt.forEach((i=>t.push(i.gn()))),this.nHt.forEach((i=>t.push(i.gn()))),await Promise.all(t),this.eHt.clear(),this.nHt.clear()}constructor(t){this.hHt=t,this.eHt=Qt(),this.nHt=Qt()}};r();var Na=class t extends La{fa(){return new B$(this.pQt,this.TL,this.BL,this.yc)}static lHt(i){return new t(Je.GENERAL,i.TL,i.MQt)}static dHt(i,e){return new t(i.pQt,i.message,i.MQt,e)}constructor(t,i,e,s){super("fHt"),this.pQt=t,this.TL=i,this.BL=e,this.yc=s}},B$=class extends Ag{constructor(t,i,e,s){super("aderror"),this.problemType=t,this.message=i,this.errorCode=e,this.source=s}},R$=class extends Zu{get _Ht(){return this.gHt}get Fc(){let t=!1;return this.wHt((i=>{t=t||i.AHt})),t}get s7(){const t=[];return this.wHt((i=>{const e=i.s7;e.length&&t.push(...e)})),t}get r7(){let t=null;return this.wHt((i=>{null!=t||(t=i.r7)})),t}get h7(){const t=[];return this.wHt((i=>{t.push(...i.h7)})),t}get o7(){const t=[];return this.wHt((i=>{t.push(...i.o7)})),t}p7(t){this.wHt((i=>{i.p7(t)}))}get va(){var t;return null!=(t=this.Xa)?t:this.Xa=Gj(this)}N1(t,i,e){try{this.vHt=e;const s=Zo.gL.KR(t),n=this.gHt.JWt(s.$Wt);if(!n)throw new hi(Je.ADBLOCK,void 0,"Ads could not be loaded.");i!==ro.u7&&this.q4||this.pHt.mHt(n),s.N1(t,i,n,this.vHt)}catch(i){0,this.Co(Na.dHt(i,t.sources))}}Yp(){this.wHt((t=>{t.Yp()}))}y7(t){this.gHt.y7(t)}yHt(t){this.gHt.uHt((i=>{i.yHt(t)}))}cHt(t){return this.gHt.cHt(t)}wHt(t){return this.gHt.aHt(t)}Yg(){this.gHt.uHt((t=>t.Yg()))}async Zn(){this.q4=!1;const t=[];this.gHt.uHt((i=>t.push(i.Wg()))),await Promise.all(t)}async gn(){this.Vo(),this.pHt.fn(t.jh,this.B8),this.fn("fHt",this.MHt),await this.gHt.gn()}constructor(i){super(),this.pHt=i,this.vHt=!1,this.q4=!1,this.Xa=void 0,this.MHt=t=>{if(!this.vHt)return;const i=new uc(Bt.ADVERTISEMENT_ERROR,t.TL),e=new ce(p_.AD_BLOCKER_DETECTED,t.TL+" Turn off your AdBlocker and try again.",i);this.pHt.uB(e)},this.B8=()=>{this.q4=!0},i.yn(t.jh,this.B8),this.gHt=new P$(this),this.yn("fHt",this.MHt)}},U$=class extends C${F9(){return this.THt}get NHt(){return this.DHt}Yg(){this.YWt.Yg(),this.THt.Yg()}Vg(){void 0===this.yP?(void 0!==this.IHt&&this.SHt(this.IHt),super.Vg()):this.Co(new pe(this.yP))}async ga(t,i){if(Pi(i),await super.ga(t,i),Pi(i),!t||!t.ads)return;const e=Boolean(t.blockContentIfAdError);this.THt.yHt(t.playAdsAfterTime);for(const i of t.ads)this.THt.N1(i,ro.u7,e)}async Wg(){this.yP=void 0,this.ER=void 0,await this.THt.Zn(),this.OWt(),await super.Wg()}SHt(t){this.EHt=this.Qo.ag;const i=this.Qo.xg,e=this.Qo.Z_;t.jg(i),t.J_(e),this.DHt=t,this.IHt=void 0,this.oN(t)}mHt(t){void 0===this.DHt&&(this.IHt=t)}OWt(){this.IHt=void 0,void 0!==this.DHt&&(this.YWt.ag=this.EHt,this.YWt.xg=this.xg,this.YWt.Z_=this.Z_,this.oN(this.YWt),this.DHt=void 0)}Q_(){var t;return null!=(t=this.ER)?t:super.Q_()}Y_(){var t;return null!=(t=this.yP)?t:super.Y_()}uB(t){void 0===this.Y_()&&(this.yP=t,this.ER=ne(t),this.Co(new pe(t)))}$g(t){return void 0===this.DHt&&this.THt.cHt(t)}async gn(){await this.THt.gn(),this.OWt(),await super.gn()}constructor(t,i){super(t),this.yP=void 0,this.ER=void 0,this.EHt=1,this.YWt=t,this.THt=new R$(this),this.THt._Ht.KWt(i,t,this,t.wd)}};Cj((t=>new U$(t,Zo.gL)),tu.H9),r(),r(),r();var Q$=0!==wn.Gb?wn.Gb:wn.JE,F$=wn.Ga&&Q$<12,Jn=class extends U{get j_(){return this.z_()}set j_(t){this.P_(t)}k9(){return this.Qo.k9()}get ct(){return this.Td()}get G_(){return this.rN}get yg(){return this.Mg()}get zg(){return this.SP}get oHt(){return this.bHt}get ht(){return this.nN}get AHt(){return this.pHt.NHt===this}L_(){return Ki.lR().ks()}C_(){}x_(t){}cg(){return 1}dg(t){}_g(){return new Ki([0,this.j_]).ks()}Ng(){return!1}Dg(){return this.Dl}Eg(){return this.hN}cs(){return this.Rg().cs}Rg(){return this.AR}ka(){}async gn(){this.Vo(),this.nN.gn(),this.hN.gn(),this.Dl.gn(),this.bHt.gn(),this.Qo.fn(t.IA,this.Ds)}LHt(){F$&&this.kHt(),this.AHt||this.pHt.SHt(this)}OWt(){this.AHt&&(F$&&this.CHt(),wn.oL&&this.we.querySelectorAll("video[src]").forEach((t=>{t.src=""})),lg.Ys.gtt&&this.Qo.Kg(),this.pHt.OWt())}kHt(){this.xHt||(Ys.addEventListener("blur",this.OHt),Ys.addEventListener("focus",this.jHt),this.xHt=!0)}CHt(){Ys.removeEventListener("blur",this.OHt),Ys.removeEventListener("focus",this.jHt),this.xHt=!1}zHt(){requestAnimationFrame((()=>this.Qo.be()))}constructor(i,e){super(i,!0),this.pHt=e,this.xHt=!1,this.hN=new jn,this.nN=new jn,this.Dl=new tn,this.rN=new Lc,this.bHt=new Zu,this.AR=new $o,this.SP=new xc,this.OHt=()=>{this.Qo.ge()},this.jHt=()=>{this.zHt()},this.Qo.yn(t.IA,this.Ds)}};r(),r();var Y$=0,G$="theoplayer-wrapper",V$=class t{get PHt(){return this.BHt}get RHt(){return this.UHt}get QHt(){return 1===this.UHt.length&&pJ(this.UHt[0].sources.type)}get FHt(){return this.YHt}GHt(t){const i=this.VHt===t.timeOffset;return!this.WHt&&i}get HHt(){return this.qHt}get XHt(){return NJ(this.ZHt)&&!this.WHt}get VHt(){return this.ZHt}get Kl(){return this.KHt}JHt(){if(j(this.KHt)){let t=this.VHt;if(void 0===t)return void(this.KHt=0);if("string"==typeof t&&NJ(t)){const i=this.Qo.Td();j(i)||i===1/0||(t=rc(t)*i)}j(t)||(this.KHt=t)}}get $Ht(){return this.tqt}set $Ht(t){this.tqt=t}get iqt(){return this.eqt}set iqt(t){this.eqt=t,this.sqt=!1}get nqt(){return this.rqt}hqt(t){this.rqt.push(t)}oqt(){if(!this.WHt){let t,i;const e=this.BHt===ro.u7&&void 0===this.aqt&&1===this.UHt.length,s=this.UHt[0];pJ(s.sources.type)||e?t=s.sources.src:i=this.uqt(),this.WHt={cqt:this.Qo.we.offsetWidth,lqt:this.Qo.we.offsetHeight,dqt:this.Qo.we.offsetWidth,fqt:this.Qo.we.offsetHeight,_qt:this.M9,gqt:this._R,wqt:t,Aqt:i,vqt:s.omidAccessModeRules}}return this.WHt}uqt(){return'<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">'+this.UHt.map(((t,i)=>this.mqt(t.sources,i))).join("\n")+"</vmap:VMAP>"}mqt(t,i){const e=this.pqt(),s=t.src;return'<vmap:AdBreak timeOffset="'+e+'" breakType="linear,nonlinear" breakId="theoplayer-break-'+this.Vw+"-"+i+'"><vmap:AdSource allowMultipleAds="true" followRedirects="true"><vmap:VASTAdData><VAST version="3.0"><Ad id="'+G$+"-"+this.Vw+"-"+i+'"><Wrapper allowMultipleAds="true" followAdditionalWrappers="true"><VASTAdTagURI><![CDATA['+s+"]]></VASTAdTagURI></Wrapper></Ad></VAST></vmap:VASTAdData></vmap:AdSource></vmap:AdBreak>"}pqt(){if(0===this.VHt)return"start";if(this.VHt===1/0)return"end";const t=this.VHt;if("string"==typeof t&&NJ(t)){const i=rc(t)*this.Qo.Td();return js.oFt(i)}return js.oFt(this.VHt||0)}yqt(t){this.UHt.push(t)}Mqt(t){const i=G$+"-"+this.Vw+"-";for(const e of t)if(tw(e,i)){const t=Number(e.slice(i.length));if(!j(t)&&t>=0&&t<this.UHt.length)return t}return-1}static Tqt(t){if(void 0!==t)return-1===t?1/0:t}Nqt(){this.qHt=!0}get AN(){return this.M9}set AN(t){this.M9=t}get Z_(){return this._R}set Z_(t){this._R=t}constructor(i,e,s,n){this.BHt=e,this.Qo=s,this.YHt=n,this.KHt=NaN,this.tqt=!1,this.eqt=!1,this.qHt=!1,this.rqt=[],this.M9=!1,this._R=!1,this.UHt=[],this.Vw=++Y$,this.aqt=i.timeOffset,this.ZHt=t.Tqt(this.aqt),this.JHt(),this.UHt.push(i)}};r();var W$,H$=class{get Dqt(){return this.Iqt.Dqt}get Sqt(){return this.Iqt.Sqt}get h7(){return this.Iqt.h7}get t(){return this.Iqt.t}yHt(t){this.Eqt=t}bqt(t){return!(this.Dqt&&!this.Dqt.HHt&&"nonlinear"!==this.Sqt.Lqt)||this.Dqt.Kl>t.Kl&&this.Dqt.Kl!==t.Kl}kqt(t){if(t.length)return t.sort(((t,i)=>t.Kl-i.Kl))[0]}Cqt(){if(this.h7.length)return this.kqt(this.xqt(this.t.z_()))}Oqt(){if(!(void 0!==this.Eqt&&this.Eqt>=0))return this.h7.filter((t=>!t.$Ht&&0===t.Kl&&t!==this.Dqt))[0]}xqt(t){if(!this.jqt&&(this.jqt=!this.h7.some((t=>j(t.Kl))),!this.jqt))return[];const i=this.h7.filter((i=>!i.$Ht&&(i.QHt||!j(i.Kl)&&t<=i.Kl)));return void 0===this.Eqt?i:i.filter((t=>t.QHt||void 0===t.VHt||t.Kl>this.Eqt))}constructor(t){this.jqt=!1,this.Iqt=t,this.Eqt=void 0}};!function(t){t[t.zqt=0]="zqt",t[t.Pqt=1]="Pqt",t[t.Bqt=2]="Bqt"}(W$||(W$={}));var To,Ec,q$,Un,X$=class{Yg(){this.bo=!0,this.Rqt&&this.Uqt()}Qqt(t,i){this.Fqt(t,i);const e=X_(this.h7,(i=>i.GHt(t)));if(e)e.yqt(t);else{var s;const e=new V$(t,i,this.Qo,null==(s=t.replaceContent)||s);this.Yqt.push(e),2===this.Gqt&&this.Wqt.Vqt(e.Kl,e,e.VHt),this.Hqt(i,e)}}get Sqt(){return this.qqt}get h7(){return this.Yqt}get t(){return this.Qo}get Xqt(){return Boolean(this._vt)}get Gqt(){return this.Zqt}Kqt(){if(Et(this.h7,this.Dqt),this.Dqt){for(const t of this.Dqt.nqt)this.Wqt.Jqt();this.Dqt=void 0}}$qt(){for(const t of this.Yqt)for(const i of t.nqt)this.Wqt.tXt(i,!0);Ri(this.Yqt)}async iXt(t){this.Kqt(),this.eXt=!0,this.Dqt=t,this.sXt=t.Kl,this._vt=this.nXt(t),await this._vt,this._vt=void 0}async nXt(t){this.rXt(t);const i=t.oqt(),e=this.qqt.hXt(i);t.$Ht=!0;try{await e,t.PHt===ro.a7&&this.qqt.oXt()}catch(t){0,this.Dqt=void 0,await this.Uqt()}}rXt(t){this.bo?t.AN=!0:t.AN=this.pHt.AN,t.Z_=this.pHt.Z_}aXt(){var t;return null!=(t=this.uXt.Oqt())?t:this.uXt.Cqt()}async Uqt(){if(this.Dqt&&!this.Dqt.HHt)return this._vt;const t=this.aXt();t&&await this.iXt(t)}get Dqt(){return this.cXt}set Dqt(t){this.cXt=t}get eXt(){return this.lXt}set eXt(t){this.lXt=t}Zn(){this.Kqt(),Ri(this.Yqt),this.sXt=0,this.Dqt=void 0,this._vt=void 0,this.eXt=!1}iqt(){this.eXt=!1,this.Dqt&&(this.Dqt.iqt=!0)}async Hqt(t,i){t===ro.a7&&this.bo&&this.uXt.bqt(i)&&!this.Xqt&&"linear"!==this.qqt.Lqt&&(!this.Dqt||this.Dqt&&this.Dqt.$Ht)&&(await Promise.resolve(),await this.iXt(i))}Nqt(){this.Dqt&&this.Dqt.Nqt()}get dXt(){if(this.Xqt||this.eXt)return!1;if(this.Dqt&&!this.Dqt.HHt)return!1;return!!this.Yqt.filter((t=>this.Dqt!==t)).length&&Boolean(this.aXt())}async fXt(){if(!this.dXt)return void 0;const t=this.aXt();t&&await this.iXt(t)}Fqt(t,i){const e=t.sources.type,s=i===ro.u7&&void 0===t.timeOffset,n=pJ(e)||s?1:2;n!==this.Zqt&&(this.Zqt=n,this.$qt(),this.qqt.nGt&&!this.Xqt&&"linear"!==this.qqt.Lqt&&(this.qqt.nGt.e_(),this.Dqt=void 0,this._vt=void 0),this.sXt=0,this.Rqt=!0)}yHt(t){this.uXt.yHt(t)}gn(){this.Qo.fn(t.EA,this.wQ)}constructor(i,e,s,n,r){this.Zqt=0,this._vt=void 0,this.lXt=!1,this.wQ=()=>{const t=this.Yqt.filter((t=>t.XHt));for(const i of t){i.JHt();const t=i.VHt;this.Wqt._Xt(t,i.Kl)}this.bo&&this.dXt&&this.Uqt()},this.Yqt=[],this.qqt=i,this.bo=!1,this.Rqt=!1,this.Qo=e,this.pHt=s,this.Dqt=void 0,this.sXt=0,this.uXt=new H$(this),this.D9=n,this.Wqt=r,this.Qo.yn(t.EA,this.wQ)}};function Z$(t,i){if(t===To.gXt){const t=i;return{wXt:t.adBreakDuration,AXt:t.adPosition,j_:t.currentTime,ct:t.duration,vXt:t.totalAds}}return i}function K$(t){switch(t){case google.ima.AdError.Type.AD_LOAD:return Un.mXt;case google.ima.AdError.Type.AD_PLAY:return Un.pXt}}function J$(t){return Mi(t)&&U_(t.getVastErrorCode)}function $$(t){const i=t.getInnerError(),e=i&&J$(i)?$$(i):void 0;return{TL:t.getMessage(),MQt:t.getErrorCode(),yXt:t.getVastErrorCode(),hA:K$(t.getType()),MXt:e}}function t0(t){if(j_(t))return t}r(),r(),function(t){t.TXt="contentResumeRequested",t.NXt="contentPauseRequested",t.DXt="click",t.EA="durationChange",t.IXt="expandedChanged",t.SXt="start",t.EXt="impression",t.Dv="pause",t.bXt="resume",t.gXt="adProgress",t.LXt="adBuffering",t.kXt="firstQuartile",t.GUt="midpoint",t.CXt="thirdQuartile",t.VUt="complete",t.xXt="userClose",t.OXt="linearChanged",t.jXt="loaded",t.zXt="adCanPlay",t.PXt="adMetadata",t.BXt="adBreakReady",t.RXt="interaction",t.UXt="allAdsCompleted",t.QXt="skip",t.FXt="skippableStateChanged",t.YXt="log",t.GXt="viewableImpression",t.VXt="volumeChange",t.WXt="mute"}(To||(To={})),r(),(Ec||(Ec={})).HXt="adError",r(),function(t){t[t.qXt=-1]="qXt",t[t.XXt=-1]="XXt",t[t.ZXt=-1]="ZXt",t[t.KXt=101]="KXt",t[t.JXt=102]="JXt",t[t.$Xt=200]="$Xt",t[t.tZt=201]="tZt",t[t.iZt=202]="iZt",t[t.eZt=300]="eZt",t[t.sZt=301]="sZt",t[t.nZt=302]="nZt",t[t.rZt=303]="rZt",t[t.hZt=400]="hZt",t[t.oZt=402]="oZt",t[t.aZt=403]="aZt",t[t.uZt=405]="uZt",t[t.cZt=500]="cZt",t[t.lZt=501]="lZt",t[t.dZt=-1]="dZt",t[t.fZt=503]="fZt",t[t._Zt=602]="_Zt",t[t.gZt=900]="gZt",t[t.wZt=901]="wZt",t[t.AZt=1005]="AZt",t[t.vZt=1007]="vZt",t[t.mZt=1009]="mZt",t[t.pZt=1010]="pZt",t[t.yZt=1011]="yZt",t[t.MZt=1012]="MZt",t[t.TZt=1013]="TZt",t[t.NZt=1020]="NZt",t[t.DZt=1021]="DZt",t[t.IZt=1101]="IZt",t[t.SZt=1204]="SZt",t[t.EZt=1205]="EZt",t[t.bZt=1300]="bZt",t[t.LZt=-1]="LZt",t[t.kZt=-1]="kZt",t[t.CZt=-1]="CZt",t[t.xZt=-1]="xZt"}(q$||(q$={})),function(t){t.mXt="adLoadError",t.pXt="adPlayError"}(Un||(Un={})),r(),r();var i0=class extends i{OZt(t){this.qqt.Co(t)}jZt(t){this.rGt=t,this.rGt.yn(Ec.HXt,this.zZt),this.rGt.yn(To.NXt,this.PZt),this.rGt.yn(To.TXt,this.BZt),this.rGt.yn(To.UXt,this.RZt),this.rGt.yn(To.SXt,this.UZt),this.rGt.yn(To.VUt,this.QZt),this.rGt.yn(To.QXt,this.FZt),this.rGt.yn(To.xXt,this.YZt),this.rGt.yn(To.DXt,this.GZt),this.rGt.yn(To.zXt,this.VZt),this.rGt.yn(To.Dv,(()=>{this.qqt.hg||(this.qqt.WZt(!0),this.qqt.Co(new ws(this.qqt.j_))),this.HZt(!0)})),this.rGt.yn(To.bXt,(()=>{this.qqt.hg&&(this.qqt.WZt(!1),this.qqt.Co(new fh(this.qqt.j_)))})),this.rGt.yn(To.WXt,(()=>{const i=t.Og();i>=0&&this.qZt(i)})),this.rGt.yn(To.VXt,(()=>{const i=t.Og();i>=0&&this.qZt(i)})),this.rGt.yn(To.PXt,(t=>{this.ZZt.XZt(t.type)})),this.rGt.yn(To.EA,(t=>{t.f7&&this.KZt(t.f7.ct)})),this.rGt.yn(To.YXt,(async t=>{const i=t.JZt.adError,e=J$(i)?$$(i):void 0;e&&(this.$Zt(e)?await this.tKt(t):this.iKt(e)?await this.eKt(e):this.sKt(e)&&this.nKt(e))})),this.rGt.yn(To.jXt,(t=>{if(t.f7&&(this.qqt.iqt(),this.ZZt.rKt(t.f7),this.hKt=0,t.f7.oKt)){var i;const t=this.qqt.vg,e=ov.tN;this.qqt.V$(e);const s=this.qqt.j_,n=this.qqt.vg;n!==t&&this.OZt(new Wv(s,n)),null==(i=this.rGt)||i.jg(this.qqt.aKt()),this.OZt(new cs(s,e))}})),this.rGt.yn([To.LXt,To.EXt,To.kXt,To.GUt,To.CXt],(t=>{t.f7&&this.ZZt.uKt(t.f7,t.type,this.qqt.j_)})),this.rGt.yn(To.kXt,this.cKt),this.rGt.yn(To.gXt,this.lKt)}async switchToPlayerIfNoNextAd(){if(this.rGt){const t=this.rGt.dKt();t&&this.fKt(t)||(this.qqt.dXt()?await this.qqt.fXt():(this.qqt._Kt(),this.Qo.hg&&!this.Qo.R_&&this.Qo.Vg()))}else if(this.qqt.dXt())await this.qqt.fXt();else{const t=this.qqt.hg;this.qqt._Kt(),t||this.Qo.Vg()}}fKt(t){const i=t.gKt,e=null==i?void 0:i.vXt;return(null==i?void 0:i.AXt)!==e}r$(){this.qqt.jc&&(m(this.qqt.jc),this.qqt.jc=null)}sKt(t){return t.hA===Un.mXt}iKt(t){return t.hA===Un.pXt}$Zt(t){return t.MQt===q$.mZt}async eKt(t){var i;this.nKt(t);const e=[q$.hZt,q$.wZt,q$.DZt,q$.EZt];var s;this.qqt.D7||ea(e,t.MQt)||ea(e,null==(i=t.MXt)?void 0:i.MQt)||(this.qqt.wKt.eXt=!1,null==(s=this.qqt.wKt.Dqt)||s.Nqt(),await this.switchToPlayerIfNoNextAd())}nKt(t){this.qqt.AKt(t)}async vKt(){this.ZZt.Jqt(),this.qqt.Nqt(),"nonlinear"===this.qqt.Lqt&&(this.ZZt.mKt(-1,!1),this.qqt.pKt(void 0)),"nonlinear"!==this.qqt.Lqt&&"none"!==this.qqt.Lqt||this.qqt.dXt()&&await this.qqt.fXt(),this.qqt.yKt(),this.qqt.AHt?this.qqt.OWt():this.MKt()&&this.Qo.Co(new ys(this.Qo.z_()))}MKt(){return this.qqt.TKt&&!this.qqt.NKt&&this.Qo.R_}setCountdownTimer(){this.r$(),this.qqt.jc=v((()=>this.HZt()),250)}async tKt(t){void 0!==t.f7&&(this.qqt.wKt.eXt=!1,this.qqt.Nqt(),this.qqt.dXt()?await this.qqt.fXt():this.qqt.WZt(!0))}KZt(t){this.qqt.ct!==t&&t>=0&&(this.qqt.T$(t),this.OZt(new Tn(this.qqt.ct)))}qZt(t){this.qqt.aKt()!==t&&(0===t?this.qqt.DKt(t,!0,!1):this.qqt.DKt(t,!1,!1))}async IKt(){this.qqt.SKt&&void 0!==this.Qo.Q_()&&(this.EKt=new Ao,await this.Qo.ga(this.Qo.Wa(),this.EKt.a_),this.bKt&&this.Qo.P_(this.bKt),this.bKt=void 0)}HZt(t){if(this.rGt){const t=this.rGt.LKt();t>this.qqt.ct&&this.KZt(x.round(t))}const i=this.qqt.j_;(t||!this.qqt.hg&&i!==this.qqt.kKt)&&(this.qqt.Co(new jc(i,void 0)),this.qqt.kKt=i)}Zn(){this.EKt&&(this.EKt.c_(),this.EKt=void 0),this.CKt=!1,this.hKt=0}gn(){this.Zn(),this.Vo()}constructor(t,i,e){super(),this.qqt=t,this.Qo=i,this.ZZt=e,this.CKt=!1,this.EKt=void 0,this.bKt=void 0,this.hKt=0,this.cKt=t=>{if(!t.f7||!t.f7.gKt)return;const i=t.f7.gKt;this.ZZt.xKt(i.pEt,i.vXt,i.eGt)},this.lKt=t=>{var i,e,s;if(this.hKt>=5)return;this.hKt++;const n=t.JZt;if(!function(t){return Mi(t)&&void 0!==t.wXt&&void 0!==t.vXt}(n))return;const r=null==(s=this.rGt)||null==(e=s.dKt())||null==(i=e.gKt)?void 0:i.pEt;void 0!==r&&this.ZZt.xKt(r,n.vXt,n.wXt)},this.zZt=async t=>{t.JZt.OKt&&await this.eKt(t.JZt.OKt)},this.RZt=async()=>{this.CKt=!0,this.qqt.Nqt(),await this.BZt()},this.UZt=t=>{if(!t.f7)return;const i=t.f7;this.qqt.pKt(i),this.qqt.ge(),this.qqt.jKt(),this.ZZt.zKt(i);const e=i.ct;if(this.KZt(e),i.oKt){const t=this.qqt.j_,i=this.qqt.vg;this.qqt.V$(ov.eN),this.OZt(new rs(t,i)),this.OZt(new M(t,i)),this.OZt(new fs(t,i)),this.qqt.hg||this.OZt(new Lr(this.qqt.j_)),this.setCountdownTimer(),this.HZt(!0)}else this.qqt.OWt(),this.Qo.ge(),this.qqt.hg||this.Qo.Vg()},this.QZt=t=>{var i;if(!t.f7)return;const e=t.f7;if(this.r$(),this.ZZt.mKt(this.qqt.ct,e.oKt),this.qqt.vg!==ov.tN){const t=ov.tN;this.qqt.V$(t);const i=this.qqt.j_;this.OZt(new Wv(i,t))}this.KZt(NaN),this.qqt.PKt=!1,null==(i=this.rGt)||i.jg(this.qqt.aKt())},this.FZt=t=>{t.f7&&(this.QZt(t),this.ZZt.FZt(t.f7,this.qqt.j_,this.qqt.ct))},this.YZt=t=>{t.f7&&(this.ZZt.mKt(-1,t.f7.oKt),this.qqt.Nqt(),!t.f7.oKt&&this.qqt.dXt()&&this.qqt.fXt())},this.GZt=t=>{t.f7&&(t.f7.oKt?this.qqt.Gg():this.Qo.Gg())},this.VZt=()=>{var t;(this.qqt.PKt=!0,this.qqt.BKt)&&(null==(t=this.rGt)||t.Gg(),this.qqt.BKt=!1)},this.PZt=t=>{var i;if(!t.f7)return;this.qqt.SKt&&(this.bKt=this.Qo.z_(),this.Qo.Zg(),this.Qo.Bg=!0),this.qqt.RKt=!0;const e=t.f7;this.ZZt.Md(e);const s=e.ct;this.qqt.pKt(e),this.KZt(s),this.qqt.WZt(!1),this.qqt.ge(),this.qqt.LHt(),this.qqt.SKt||this.Qo.be(),this.Qo.Gg(),this.qqt.UKt(e);0===(null==(i=e.gKt)?void 0:i.pEt)||this.qqt.Co(new Xc(this.qqt.j_))},this.BZt=async t=>{const i=null==t?void 0:t.f7;this.qqt.RKt=!1,"linear"===this.qqt.Lqt&&this.ZZt.Pd(),i&&i.ct>=0&&this.KZt(i.ct),this.Qo.Td()===1/0&&this.qqt.QKt(),this.qqt.PKt=!1,this.CKt&&await this.vKt(),this.qqt.WZt(!0);try{await this.IKt()}catch(t){return void(Oi(t)||this.Co(new qn(t)))}if(this.qqt.OWt(),this.qqt.be(),this.Qo.R_||this.Qo.Vg(),i&&this.qqt.pKt(i),this.qqt.TKt){if(this.qqt.SKt){var e;const t=this.Qo.Ug(),i=null==(e=this.Qo.bt)?void 0:e.src;t&&i&&(t.src=i)}this.qqt.NKt=!0}this.Qo.Bg=!1,this.qqt.dXt()&&await this.qqt.fXt()}}};r(),r(),r();var Vr,e0,s0=class extends uh{get Oc(){return this.Ic}get eGt(){return this.FKt}set eGt(t){this.FKt=t}get sGt(){return this.YKt}set sGt(t){this.YKt=t}set pEt(t){this.wFt=t}get pEt(){return this.wFt}GKt(){this.VKt=!0}WKt(t){this.Ic.push(t)}get fg(){return this.VKt}constructor(t,i,e){super(),this.FKt=t,this.YKt=i,this.wFt=e,this.Ic=[],this.VKt=!1}},n0=class extends s0{get iGt(){return sh.KYt}constructor(t,i,e){super(-1,-1,t),this.HKt=i,this.qKt=e}};r(),r(),function(t){t.bQt="linear",t.LQt="nonlinear",t.KT="unknown"}(Vr||(Vr={})),function(t){t.NONE="none",t.READY="ready"}(e0||(e0={}));var cr=class extends ZJ{XKt(t,i,e,s,n,r){this.NN=t,this.tC=i,this.iC=e,this.Rk=s,this.ORt=n,this.kUt=r,this.ZKt="ready"}get KKt(){return this.ZKt}get xRt(){return this.ORt}get ct(){return this.Rk}n7(){var t;return null!=(t=this.Xa)?t:this.Xa=this.fa()}get Ti(){return this.iC}get o(){return this.NN}get LUt(){return this.kUt}get ji(){return this.tC}get Lqt(){return this.JKt}get tUt(){}mGt(){return""}TGt(){return""}MGt(){return""}constructor(t,i){super(),this.JKt=i,this.NN=void 0,this.kUt=void 0,this.tC=void 0,this.iC=void 0,this.Rk=void 0,this.ORt=[],this.ZKt="none",this.Xl=t}};function r0(t){return{adSystem:void 0,creativeId:void 0,universalAdIds:[],get readyState(){return t.KKt},get adBreak(){return t.Xl.n7()},get duration(){return t.ct},get companions(){return t.xRt.map((t=>t.n7()))},get clickThrough(){return t.tUt},get width(){return t.ji},get type(){return t.Lqt},get height(){return t.Ti},get id(){return t.o},get skipOffset(){return t.LUt},get integration(){return t.iGt}}}r(),r();var h0=class{get VRt(){return this.WRt}get JRt(){return""}get $Kt(){return this.tJt}get tUt(){return this.iUt}get Ti(){return this.iC}get aQt(){return this.iJt}get ji(){return this.tC}n7(){return this.Xa||(this.Xa=function(t){return{get adSlotId(){return t.VRt},get altText(){return t.JRt},get contentHTML(){return t.$Kt},get clickThrough(){return t.tUt},get height(){return t.Ti},get resourceURI(){return t.aQt},get width(){return t.ji}}}(this)),this.Xa}eJt(t){const i=function(t){try{return FK(t,"text/html")}catch(t){return}}(t.O);i&&(this.iUt=o0(i,"a","href"),this.iJt=o0(i,"img","src"))}constructor(t){this.Xa=void 0,this.iUt=void 0,this.iJt=void 0,this.tC=t.ji,this.iC=t.Ti,this.tJt=t.O,this.WRt=t.VRt,this.eJt(t)}};function o0(t,i,e){const s=t.querySelector(i);return s&&s.getAttribute(e)||""}r();var a0=class extends cr{set sJt(t){this.nJt=t}get sJt(){return this.nJt}get iGt(){return sh.so}get $Bt(){var t;return null==(t=this.rJt)?void 0:t.$Bt}get hJt(){var t;return null==(t=this.rJt)?void 0:t.YRt}get NRt(){var t;return null==(t=this.rJt)?void 0:t.NRt}get OP(){var t;return null==(t=this.rJt)?void 0:t.OP}get oJt(){var t,i;return null!=(i=null==(t=this.rJt)?void 0:t.oJt)?i:[]}get aJt(){var t,i;return null!=(i=null==(t=this.rJt)?void 0:t.aJt)?i:[]}get uJt(){var t,i;return null!=(i=null==(t=this.rJt)?void 0:t.uJt)?i:[]}fa(){return function(t,i){return Ru(t,{bitrate:0,contentType:void 0,mediaUrl:void 0,traffickingParameters:void 0,traffickingParametersString:void 0,universalAdIds:[],get adSystem(){return i.$Bt},get apiFramework(){return i.hJt},get creativeId(){return i.NRt},get title(){return i.OP},get wrapperAdIds(){return i.oJt},get wrapperAdSystems(){return i.aJt},get wrapperCreativeIds(){return i.uJt}})}(r0(this),this)}cJt(t){this.rJt=t;const i=u0(t);this.XKt(t.vUt,t.lJt,t.dJt,t.ct,i,-1)}constructor(t,i){super(t,i),this.nJt=0,this.rJt=void 0}};function u0(t){return t.aRt.map((t=>new h0(t)))}var c0=class extends cr{fa(){return function(t,i){return Ru(t,{get adSystem(){return i.$Bt},get apiFramework(){return i.hJt},get bitrate(){return i.fJt},get contentType(){return i.LP},get creativeId(){return i.NRt},get mediaUrl(){return i._Jt},get title(){return i.OP},get traffickingParameters(){return i.gJt},get traffickingParametersString(){return i.wJt},get wrapperAdIds(){return i.oJt},get wrapperAdSystems(){return i.aJt},get wrapperCreativeIds(){return i.uJt},get universalAdIds(){return i.cRt}})}(r0(this),this)}cJt(t){this.rJt=t,this.XKt(t.vUt,t.lJt,t.dJt,t.ct,u0(t),t.AJt),this.JKt=t.oKt?Vr.bQt:Vr.LQt}get iGt(){return sh.KYt}get $Bt(){return this.rJt?oh(this.rJt.$Bt):void 0}get hJt(){return this.rJt?oh(this.rJt.YRt):void 0}get fJt(){return this.rJt?this.rJt.vJt:0}get LP(){return this.rJt?oh(this.rJt.LP):void 0}get NRt(){return this.rJt?oh(this.rJt.NRt):void 0}get mJt(){return this.rJt?oh(this.rJt.mJt):void 0}get _Jt(){var t;const i=null==(t=this.rJt)?void 0:t._Jt;return j_(i)?i:this.pJt}set _Jt(t){this.pJt=t}get OP(){var t;return null==(t=this.rJt)?void 0:t.OP}get gJt(){return this.rJt?oh(this.rJt.gJt):void 0}get wJt(){return this.rJt?oh(this.rJt.wJt):void 0}get oJt(){var t,i;return null!=(i=null==(t=this.rJt)?void 0:t.oJt)?i:[]}get aJt(){var t,i;return null!=(i=null==(t=this.rJt)?void 0:t.aJt)?i:[]}get uJt(){var t,i;return null!=(i=null==(t=this.rJt)?void 0:t.uJt)?i:[]}get cRt(){var t,i;return null!=(i=null==(t=this.rJt)?void 0:t.cRt.map((t=>({adIdRegistry:t.yJt,adIdValue:t.MJt}))))?i:[]}constructor(t){super(t,Vr.KT),this.rJt=void 0,this.pJt=void 0}};function oh(t){return null===t?void 0:t}r(),r();var l0=class{get oHt(){return this.ZZt.oHt}get sHt(){return this.TJt}get AHt(){return this.ZZt.AHt}get r7(){var t;return null!=(t=this.ZZt.r7)?t:null}get s7(){const t=this.ZZt.NJt;return t?[t]:[]}get h7(){return this.ZZt.h7}get o7(){return this.ZZt.o7}p7(t){this.ZZt.p7(t)}Yp(){this.ZZt.Yp()}gn(){return Promise.resolve()}constructor(t,i){this.ZZt=t,this.TJt=i}},d0=class{get DJt(){return this.IJt}get oHt(){return this.bHt}get AHt(){return this.SJt}get NJt(){return this.pGt}get r7(){return this.IGt}get h7(){return Eh(this.SGt,(t=>{if(t.fg)return[];const i=t.Oc;if(t===this.IGt&&void 0!==this.pGt){const t=i.indexOf(this.pGt);if(t>=0)return i.slice(t+1)}return i}))}get o7(){return this.SGt.filter((t=>!t.fg))}constructor(t,i){this.bHt=t,this.SGt=[],this.SJt=!1,this.IJt=new l0(this,i)}};r();var f0=class extends Ts{fa(){return new _0(this.f7.n7())}constructor(t){super("EJt",t)}},_0=class extends Xs{constructor(t){super("adimpression",t)}};r();var Yn=class extends Ts{fa(){return new g0(this.f7.n7(),this.currentTime)}constructor(t,i){super("bJt",t),this.currentTime=i}},g0=class extends Xs{constructor(t,i){super("adfirstquartile",t),this.currentTime=i}};r();var w0=class extends Ts{fa(){return new A0(this.f7.n7(),this.currentTime)}constructor(t,i){super("LJt",t),this.currentTime=i}},A0=class extends Xs{constructor(t,i){super("admidpoint",t),this.currentTime=i}};r();var or=class extends Ts{fa(){return new v0(this.f7.n7(),this.currentTime)}constructor(t,i){super("kJt",t),this.currentTime=i}},v0=class extends Xs{constructor(t,i){super("adthirdquartile",t),this.ad=t,this.currentTime=i}};r();var m0=class extends Ts{fa(){return new p0(this.f7.n7(),this.CJt)}get CJt(){return this.xJt}constructor(t,i){super("OJt",t),this.xJt=i}},p0=class extends Xs{constructor(t,i){super("adskip",t),this.playedPercentage=i}};r();var y0=class extends Ku{fa(){return new M0(this.Xl.n7())}constructor(t){super("jJt",t)}},M0=class extends Rc{constructor(t){super("updateadbreak",t)}};r();var T0=class extends La{fa(){return new N0(this.f7.n7())}constructor(t){super("zJt"),this.f7=t}},N0=class extends Ag{constructor(t){super("adbuffering"),this.ad=t}};r();var D0=class extends La{fa(){return new I0}constructor(){super("PJt")}},I0=class extends Ag{constructor(){super("admetadata")}},S0=class t extends d0{BJt(t,i){for(let e=0;e<t;e++){const t=new c0(i);i.WKt(t),this.oHt.Co(new Hj(t))}}Vqt(t,i,e){let s=t;s===1/0&&(s=-1);const n=new n0(s,e,i);this.SGt.push(n),i.hqt(n),this.oHt.Co(new un(n))}_Xt(t,i){for(const e of this.SGt)j(e.pEt)&&e.HKt===t&&(e.pEt=i,this.oHt.Co(new y0(e)))}tXt(t,i){void 0===i&&(i=!1),i&&Et(this.SGt,t),this.oHt.Co(new Hu(t))}Jqt(){if(this.r7){this.tXt(this.r7,!0);const t=Boolean(this.pGt&&this.pGt.Lqt===Vr.bQt);this.RJt(void 0,t)}}UJt(t,i){const e=i.gKt;if(!e)return;const s=e.AXt-1,n=t.Oc[s];return n.cJt(i),this.oHt.Co(new ih(n)),n.Xl.eGt=e.eGt,n}get AHt(){return this.QJt.AHt}FJt(t){if(!ea(this.YJt,t)){if(t){if(this.pGt===t)return;this.pGt=t;for(const i of this.GJt)this.XZt(i,t,this.QJt.j_)}else{if(!this.pGt)return;const t=new da(this.pGt,this.pGt.Xl.pEt);this.YJt.push(this.pGt),this.pGt=void 0,this.bHt.Co(t)}Ri(this.GJt)}}RJt(t,i){if(t){var e;if((null==(e=this.r7)?void 0:e.pEt)===t.pEt)return;this.IGt=t,i&&this.oHt.Co(new ba(this.IGt))}else{if(!this.IGt)return;const t=new Nh(this.IGt);this.IGt=void 0,Ri(this.YJt),i&&this.bHt.Co(t)}}VJt(t){return this.SGt.filter((i=>Va(i.pEt,t,.01)))[0]}static WJt(t,i){if(i.gKt)return t.Oc[i.gKt.AXt-1]}Md(t){if(!t.gKt)return;const i=t.gKt,e=this.VJt(i.pEt);e&&(Ri(this.GJt),this.RJt(e,t.oKt))}Pd(){this.r7&&this.oHt.Co(new Nh(this.r7)),Ri(this.GJt),this.Jqt()}zKt(i){if(!this.IGt&&i.gKt){const t=this.VJt(i.gKt.pEt);this.RJt(t,i.oKt)}if(this.IGt){const e=t.WJt(this.IGt,i);if(!e)return;this.UJt(this.IGt,i);const s=i._Jt;j_(s)&&!j_(e._Jt)&&(e._Jt=s,this.oHt.Co(new ih(e))),this.FJt(e),this.oHt.Co(new Za(this.pGt,e.Xl.pEt))}else 0}mKt(t,i){if(this.FJt(void 0),!i&&this.r7){const t=this.r7;this.RJt(void 0,!1),this.tXt(t)}}rKt(t){const i=t.gKt;if(!i)return;const e=this.VJt(i.pEt);if(!e)return;this.xKt(i.pEt,i.vXt,i.eGt);const s=this.UJt(e,t);s&&this.oHt.Co(new n$(s))}xKt(t,i,e){const s=this.VJt(t);if(!s)return;const n=s.Oc.length;if(i>n){const t=i-n;this.BJt(t,s),s.eGt=e,this.oHt.Co(new y0(s))}}FZt(i,e,s){if(!this.IGt)return;const n=t.WJt(this.IGt,i);if(n){const t=e/s;this.oHt.Co(new m0(n,t))}}uKt(i,e,s){if(!this.IGt)return;let n=this.pGt;if(!n){const s=t.WJt(this.IGt,i);if(!s||ea(this.YJt,s))return void this.GJt.push(e);n=s,this.UJt(this.IGt,i),this.FJt(n)}this.XZt(e,n,s)}XZt(t,i,e){t===To.PXt?this.oHt.Co(new D0):t===To.EXt&&i?this.oHt.Co(new f0(i)):t===To.LXt&&i?this.oHt.Co(new T0(i)):t===To.kXt&&i&&e?this.oHt.Co(new Yn(i,e)):t===To.GUt&&i&&e?this.oHt.Co(new w0(i,e)):t===To.CXt&&i&&e&&this.oHt.Co(new or(i,e))}Yp(){this.QJt.Yp()}p7(t){this.QJt.p7(t)}Zn(){const t=Boolean(this.pGt&&this.pGt.Lqt===Vr.bQt);this.FJt(void 0),this.RJt(void 0,t);for(const t of this.SGt)this.tXt(t);Ri(this.SGt),Ri(this.GJt),Ri(this.YJt)}gn(){this.Zn()}constructor(t,i){super(t,sh.KYt),this.QJt=i,this.GJt=[],this.YJt=[]}};function E0(t){const i=s.google.ima.settings;t.ads&&t.ads.vpaidMode&&s.google.ima.settings.setVpaidMode(function(t){const i=s.google.ima.ImaSdkSettings.VpaidMode;switch(t){case hv.ENABLED:return i.ENABLED;case hv.INSECURE:return i.INSECURE;case hv.DISABLED:default:return i.DISABLED}}(t.ads.vpaidMode)),i.setPlayerVersion("7.0.0"),i.setPlayerType("THEOplayer"),i.setAutoPlayAdBreaks(!0),i.setDisableCustomPlaybackForIOS10Plus(!b0(t));const e=function(t){var i,e,s;const n=null==(e=t.ads)||null==(i=e.googleIma)?void 0:i.language;if(void 0!==n)return n;const r=null==(s=t.ui)?void 0:s.language;if(ae(r))return r;return}(t);e&&i.setLocale(e)}function b0(t){return wn.Ga&&t.allowNativeFullscreen}r();var L0=class i extends Jn{get rHt(){return this.Wqt.DJt}get HJt(){return this.Wqt}get wKt(){return this.Iqt}get SKt(){return b0(this.eH)}qJt(t,i,e){i===ro.u7&&void 0!==e&&(this.vHt=e),this.Iqt.Qqt(t,i)}static get sHt(){return sh.KYt}get sHt(){return i.sHt}get XJt(){return this.eH.ads.preload===ca.MIDROLL_AND_POSTROLL}p7(t){const i=this.ZJt();for(const e of i)IK(e.sources,e.timeOffset)||t.N1(e,ro.a7,!1)}ZJt(){const t=[],{s7:i,h7:e}=this.rHt,s=[];for(const n of i.concat(e)){const i=n.Xl.qKt;if(ea(s,i.Vw))continue;const e=i.Mqt(n.oJt);e>=0?t.push(...i.RHt.slice(e)):t.push(...i.RHt),s.push(i.Vw)}for(const i of this.Iqt.h7)i.$Ht||t.push(...i.RHt);return sg(t)}set Lqt(t){this.JKt=t}get Lqt(){return this.JKt}get nGt(){return this.rGt}set nGt(t){this.rGt=t,this.KJt=!1}z_(){if(!this.nGt)return 0;const t=this.nGt.LKt();return j(this.ct)||t<0?0:this.ct-t}P_(t){}Td(){return this.Rk||NaN}T$(t){this.Rk=t}K_(){return this.Qo.Z_}J_(t){this.DKt(this.xg,t,!0)}og(){return this.gR}WZt(t){this.gR=t}get PKt(){return this.JJt}set PKt(t){this.JJt=t}get D7(){return this.vHt}get TKt(){return this.$Jt}get BKt(){return this.t$t}set BKt(t){this.t$t=t}get NKt(){return this.i$t}set NKt(t){this.i$t=t}Sg(){var t,i,e;return null!=(e=null==(i=this.nGt)||null==(t=i.dKt())?void 0:t.dJt)?e:0}Cg(){var t,i,e;return null!=(e=null==(i=this.nGt)||null==(t=i.dKt())?void 0:t.lJt)?e:0}E_(){return[]}yHt(t){this.Eqt=t,this.Iqt.yHt(t)}oXt(){!this.KJt&&this.nGt&&(this.nGt.Cn(),this.KJt=!0)}pKt(t){this.Lqt=t?t.oKt?"linear":"nonlinear":"none"}Mg(){return Ki.lR().ks()}Og(){return this.Qo.xg}jg(t){this.DKt(t,this.Z_,!0)}aKt(){return this.Qo.Z_?0:this.Qo.xg}DKt(t,i,e){const s=this.Qo.xg!==t||this.Qo.Z_!==i;s&&(this.Qo.xg=t,this.Qo.Z_=i),this.nGt&&e&&this.nGt.jg(this.aKt()),s&&this.Co(new Oe(this.j_,this.xg))}U_(){return!1}Q_(){if(this.e$t&&this.vHt)return this.e$t}Y_(){if(this.s$t&&this.vHt)return this.s$t}pg(){return this.G$}V$(t){this.G$=t,this.Co(new Vs(this.j_,t))}get RKt(){return this.n$t}set RKt(t){this.n$t=t}Yg(){this.Qo.fn(t.jh,this.r$t),this.bo||(this.bo=!0,this.Iqt.Yg(),this.jKt())}async Vg(){if(this.h$t)return;this.o$t.c_(),this.o$t=new Ao;const t=this.hg;this.WZt(!1),this.Co(new fh(this.j_)),this.a$t()||(this.SKt||this.Qo.be(),this.Co(new Xc(this.j_))),this.PKt||(this.BKt=!1);const i=Boolean(this.nGt);this.h$t=this.Iqt.Uqt();try{await this.h$t}finally{this.h$t=void 0}try{Pi(this.o$t.a_)}catch(t){return}if(this.bo||this.r$t(),!this.e$t||!this.vHt)if(this.nGt){if(t)if(i)try{Pi(this.o$t.a_),this.nGt.u$t(),this.Co(new Lr(this.j_))}catch(t){return}else this.oXt()}else this.vHt||(this.OWt(),this.pHt.Vg())}Gg(){var t;this.hg||(this.WZt(!0),this.Co(new ws(this.j_))),this.o$t.c_(),this.PKt?null==(t=this.nGt)||t.Gg():this.BKt=!0}Yp(){var t;null==(t=this.nGt)||t.Yp()}yKt(){this.nGt&&(this.l$t.c$t(),this.nGt.Wg(),this.nGt.e_(),this.nGt=void 0,this.Lqt="none",this.KJt=!1)}async Wg(){var t;this.kKt=0,this.Iqt.Zn(),this.o$t.c_(),this.WZt(!0),this.$Jt=!1,this.i$t=!1,this.PKt=!1,this.Wqt.Zn(),this.yKt(),this._Kt(),null==(t=this.d$t)||t.Zn(),this.BKt=!1,this.l$t.e_()}ge(){this.f$t.ge(),this.SKt&&this.Qo.ge()}be(){this.f$t.be()}_$t(){return Boolean(this.nGt)&&ea(this.nGt.g$t(),-1)&&!this.$Jt}iqt(){this.Iqt.iqt()}dXt(){return this.Iqt.dXt}Nqt(){this.Iqt.Nqt()}fXt(){return this.Iqt.fXt()}cHt(i){if(this._$t()){if(i.type===t.Sh&&this.Qo.R_)return!0;if(i.type===t.kA)return this.$Jt=!0,this.l$t.c$t(),!0}return!1}a$t(){return Boolean(this.nGt&&this.nGt.dKt())}async hXt(t){try{this.yKt();const i=this.w$t();this.f$t.iW(),this.nGt=await this.l$t.hXt(t,this.d$t,i),this.A$t(this.nGt)}catch(t){this.v$t.eKt(t)}}A$t(t){if(t.jg(this.aKt()),this.Iqt.Gqt===W$.Pqt){const i=t.g$t();if(i.length)for(const t of i)this.Wqt.Vqt(t,this.Iqt.Dqt);else this.Wqt.Vqt(this.Iqt.Dqt.Kl,this.Iqt.Dqt)}this.v$t.Zn(),this.v$t.jZt(t)}Ug(){if(this.rGt&&this.SKt&&this.a$t())return this.Qo.Ug()}Rg(){return this.SKt&&this.AHt?this.Qo.ya:super.Rg()}w$t(){const t=this.Iqt.Gqt===W$.Pqt,i=!(!this.m$t||!t)&&this.XJt;let e,s;void 0!==this.eH.ads.googleIma.uiElements?e=this.eH.ads.googleIma.uiElements:this.eH.ads.showCountdown||(e=[]),void 0!==this.eH.ads.allowedMimeTypes&&(s=this.eH.ads.allowedMimeTypes);return{p$t:s,y$t:e,M$t:i,fJt:this.eH.ads.googleIma.bitrate,T$t:void 0,N$t:this.Eqt}}jKt(){if(!this.m$t&&!this.Z_&&(this.m$t=!0,this.rGt)){const t=this.w$t();this.rGt.D$t(t)}}AKt(t){this.e$t=new uc(Bt.ADVERTISEMENT_ERROR,t.TL),this.s$t=new ce(p_.AD_ERROR,"There was a problem playing ads.",this.e$t),this.oHt.Co(Na.lHt(t))}_Kt(){this.AHt&&(this.Qo.ge(),this.OWt(),this.be())}QKt(){var t;if(this.Qo.z_()===1/0||0===this.Qo.Mg().length)return;(null==(t=this.Iqt.Dqt)?void 0:t.FHt)&&-1!==this.I$t&&(this.Qo.P_(this.Qo.z_()+this.I$t),this.I$t=-1)}UKt(t){var i,e;this.I$t=null!=(e=null==(i=t.gKt)?void 0:i.eGt)?e:-1}OWt(){super.OWt(),this.Qo.ge(),this.SKt&&!this.Qo.R_&&this.Qo.Vg()}zHt(){this.SKt||super.zHt()}async gn(){this.v$t.fn(Bi.ha,this.S$t),await super.gn(),this.yKt(),this.l$t.fn("E$t",this.b$t),this.l$t.e_(),this.f$t.e_(),this.Iqt.gn(),this.v$t.gn()}constructor(i,e,s,n,r,h,o){super(i,e),this.bo=!1,this.vHt=!1,this.e$t=void 0,this.s$t=void 0,this.I$t=-1,this.JKt="none",this.n$t=!1,this.m$t=!1,this.KJt=!1,this.o$t=new Ao,this.JJt=!1,this.t$t=!1,this.b$t=t=>{this.oHt.Co(t)},this.S$t=t=>{this.e$t=new uc(Bt.ADVERTISEMENT_ERROR,"Error while recovering from failed IMA ad.",t.error.message),this.s$t=_s(this.e$t)},this.kKt=NaN,this.r$t=()=>{this.bo||this.Yg()},this.eH=s,this.gR=!0,this.Rk=NaN,this.G$=ov.tN,this.$Jt=!1,this.i$t=!1,this.Wqt=new S0(this.oHt,this),this.v$t=new i0(this,this.Qo,this.Wqt),this.v$t.yn(Bi.ha,this.S$t),this.Qo.yn(t.jh,this.r$t),this.Iqt=new X$(this,this.Qo,this.pHt,n,this.Wqt),this.d$t=o,this.l$t=h,this.f$t=r,this.be(),this.l$t.yn("E$t",this.b$t)}};r();var k0=class{registerWebImaAdPlayerConstructor(t){this.L$t=t}createAdPlayer(t,i,e){return C0()&&this.L$t?this.L$t(t,i,e):void 0}};function C0(){if(Boolean(Ys.google&&Ys.google.ima)){return!(1===_.keys(Ys.google.ima).length&&Ys.google.ima.dai)}return!1}k0.gL=new k0;var x0=class{get $Wt(){return L0.sHt}JR(t){return t&&t.integration===uS.GOOGLE_IMA}tHt(t,i,e){return k0.gL.createAdPlayer(t,i,e)}N1(t,i,e,s){e.qJt(t,i,s)}_F(t){const i=yJ(t.sources);if(!i)return;const e={integration:uS.GOOGLE_IMA,sources:i,omidAccessModeRules:t0(t.omidAccessModeRules)},s=TJ(t.timeOffset);return void 0!==s&&(e.timeOffset=s),e}};Zo.gL.$R(new x0),r(),r(),r(),r();var O0=class extends La{fa(){return new j0}constructor(){super("DGt")}},j0=class extends Ag{constructor(){super("adloaded")}},wh=-1,z0=class{get hGt(){return this.SGt}get k$t(){return this.C$t}get fst(){return this.q7}get x$t(){return this.ZHt}get O$t(){return this.j$t}get Kl(){if(j(this.z$t)){const t=js.uFt(this.ZHt,this.cGt.t.Td());void 0===t||j(t)||(this.z$t=t)}return this.z$t}P$t(){return this.q7<this.SGt.length}Mc(){let t;return this.q7<this.SGt.length&&(t=this.SGt[this.q7],this.q7++),t}B$t(t){t.RQt=this,this.SGt.push(t)}async R$t(t){let i=!1;for(const e of this.SGt)try{await e.$n(),i=!0}catch(i){0,Et(this.SGt,e);const s=e.T7.sources,n="string"==typeof s?s:s.src;t.Co(Na.dHt(i,n))}return this.j$t=!0,i}_Gt(){this.fGt=!0}dGt(){return this.fGt}U$t(){return this.SGt.some((t=>XJ(t).some((t=>t.hRt))))}constructor(t,i){this.SGt=[],this.fGt=!1,this.ZHt=t,this.q7=0,this.cGt=i,this.z$t=NaN,this.j$t=!1,this.C$t=new KJ(this,this.cGt)}},P0=class i extends ra{get Q$t(){let t=0;for(const i of this.F$t)i.dGt()||(t+=1);return t}Y$t(){this.V$t.G$t()}Cn(){this.Po(),this.W$t.yn("v7",this.V$t.H$t)}jn(){this.$o(),this.W$t.fn("v7",this.V$t.H$t),this.c$=this.WN,this.V$t.Zn();for(const t of this.F$t)t._Gt();Ri(this.F$t)}Po(){this.q$t||(this.Qo.yn(t.ov,this.X$t),this.q$t=!0)}$o(){this.q$t&&(this.Qo.fn(t.ov,this.X$t),this.q$t=!1)}get h7(){return this.F$t}Z$t(){return this.K$t(new jc(wh,void 0))}J$t(t){return this.$$t(t,0,0).length>0}t0t(t,i){let e,s=0;for(const n of this.F$t){if(n.dGt())continue;const r=n.Kl;r>=t&&r<=i&&r>=s&&!j(r)&&(e=n,s=e.Kl)}return e}i0t(t){return this.K$t(new jc(t,void 0))}e0t(){if(!this.s0t&&void 0!==this.Eqt){this.s0t=!this.F$t.some((t=>j(t.Kl)));for(const t of this.F$t)t.Kl!==wh&&t.Kl<=this.Eqt&&!t.dGt()&&t._Gt()}}n0t(t){for(const i of t)i._Gt();this.DHt.r0t(t),0===this.Q$t&&this.$o()}$$t(t,i,e){return this.F$t.filter((s=>{if(s.dGt())return!1;const n=s.Kl;return this.h0t(n,t)||this.o0t(n,t,i,e)}))}h0t(t,i){switch(i){case 0:return 0===t;case wh:return t===wh;default:return!1}}o0t(t,i,e,s){if(t<0)return!1;const n=t-i;return-1!==n&&n<=e&&n>=-s}a0t(t){if(t&&t.length>0){for(const e of t){const t=i.Tqt(e.pEt);let s=this.rMt(e);-1===s&&(this.s0t=void 0===this.Eqt,this.F$t.push(new z0(t,this.u0t)),s=this.F$t.length-1);this.F$t[s].B$t(e)}this.Po()}}static Tqt(t){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return"0";case"end":case"100%":return"-1";default:return t}}rMt(t){const e=i.Tqt(t.pEt);return J_(this.F$t,(t=>e===i.Tqt(t.x$t)))}c0t(t){Et(this.F$t,t)}yHt(t){this.Eqt=t,this.s0t=void 0===t}constructor(t,i,e,s){super(),this.s0t=!1,this.X$t=t=>W(this.K$t(t)),this.K$t=async t=>{this.e0t();const i=t.currentTime,e=t.currentTime!==wh?this.t0t(this.c$,t.currentTime):this.$$t(t.currentTime,0,0)[0];let s,n;const r=this.Qo.Td()-10;if(n=this.J$t(wh)&&x.ceil(i)===x.ceil(r)?this.$$t(wh,10,0).filter((t=>!t.O$t)):this.$$t(i,10,0).filter((t=>!t.O$t)),n.length){const t=(await Promise.all(n.map((t=>t.R$t(this.W$t))))).some((t=>!0===t));t&&this.Co(new O0),(!t||!this.V$t.l0t||n[0].Kl<this.V$t.l0t.Kl)&&(s=n[0])}e&&(e!==this.V$t.l0t&&(s=e),this.n0t([e])),s&&(this.V$t.H$t(),this.V$t.l0t=s,await this.V$t.G$t()),j(this.Qo.Td())||(this.c$=t.currentTime)},this.Qo=t,this.DHt=i,this.u0t=new Tc(this.DHt,this.Qo),this.Eqt=void 0,this.s0t=!1,t.Td()!==1/0?this.WN=0:this.WN=t.z_(),this.c$=this.WN,this.F$t=[],this.W$t=e,this.V$t=s,this.q$t=!1}};r(),r();var B0=class extends ra{get d0t(){return this.CVt}get oHt(){return this.bHt}f0t(){this._0t(),this.g0t(),this.yP=void 0}w0t(t){this.A0t=this.A0t.concat(t)}v0t(t){this.m0t=this.m0t.concat(t)}g0t(){this.A0t=[]}_0t(){this.m0t=[]}p0t(t){for(const i of this.A0t)i.uQ===t&&wr(i.eventURL)}ge(){this.d0t.style.display=""}be(){this.d0t.style.display="none"}gn(){this.Vo(),this.bHt.Vo(),ei(this.CVt)}constructor(t,i){super(),this.m0t=[],this.A0t=[],this.yP=void 0,this.bHt=new ra,this.y0t=t=>{t.stopPropagation(),this.M0t()},this.M0t=()=>{for(const t of this.m0t)for(const i of t.nUt)wr(i.uri)},this.CVt=h.createElement("div"),this.CVt.style.display="none",this.T0t=t,this.N0t=i}};function R0(t,i){let e=i;if(!function(t){return"ui"in t}(t))return e;const s=t.ui.language;let n;if(ae(s)){const i=t.ui.languages;if(!i)return e;n=i[s]}else n=s;return n&&n[i]&&(e=n[i]),e}r(),r();var U0={[vi.Qv]:1,[vi.Fv]:2,[vi.Yv]:2};function Q0(t,i){const e=i?i.map((t=>t.toLowerCase())):i;return tl(t.filter((t=>{const i=t.type.toLowerCase();return!!pi(e)&&-1!==e.indexOf(i)&&rJ(i)})),((t,i)=>U0[t.type]-U0[i.type])).map(F0)}function F0(t){return ka({src:t.contentURL,type:t.type,isAdvertisement:!0})}function Y0(t,i){return GF(G0(t),G0(i))}function G0(t){return{Ti:t.height,ji:t.width}}function V0(t,i,e,s){const n=function(t,i,e,s){let n,r=1/0;const h=t.filter((t=>!rJ(t.type))).filter((t=>void 0===s||-1!==s.indexOf(t.type)));if(h.length){for(const t of h){const s=(x.abs(t.width/i-1)+x.abs(t.height/e-1))/2;s<r&&(r=s,n=t)}return F0(n||h.sort(Y0)[0])}}(t,i.width,i.height,e),r=Q0(t,e);return n&&r.push(n),il({sources:r},s)}var W0=class extends B0{get D0t(){return this.I0t}get j_(){return this.S0t.j_}get ct(){let t=this.S0t.ct;return j(t)&&this.MUt&&(t=this.MUt.ct||0),t}get R_(){return this.S0t.R_}get Z_(){return this.S0t.Z_}set Z_(t){this.S0t.Z_=t,t?this.p0t(Xn.xUt):this.p0t(Xn.OUt)}get hg(){return this.S0t.hg}get vg(){return this.S0t.vg}get xg(){return this.S0t.xg}set xg(t){this.S0t.xg=t}get Ig(){return this.S0t.Ig}get Lg(){return this.S0t.Lg}get E0t(){return this.b0t}Vg(){this.S0t.hg&&(this.S0t.Vg(),this.Co(new fh(this.j_)),this.I0t&&this.p0t(Xn.jUt),this.I0t=!0)}Gg(){this.S0t.hg||(this.S0t.Gg(),this.Co(new ws(this.j_)),this.p0t(Xn.Sh))}async Wg(){var t;null==(t=this.aO)||t.c_(),this.aO=void 0,this.be(),this.I0t=!1,this.L0t=!0,this.k0t(),this.C0t(),await this.x0t()}O0t(t){void 0===t&&(t=!0),this.I0t=!1,t&&this.p0t(Xn.VUt),this.be(),this.N0t()}j0t(){var t;const i=null==(t=this.DHt.ba)?void 0:t.mi,e=new _$(this.Wu,i);return this.d0t.appendChild(e.we),e.yn("Yp",this.z0t),e}P0t(){this.MUt&&this.MUt.AUt.tUt&&(this.OVt=new On(this.d0t),this.OVt.YGt=this.MUt.AUt.tUt,this.OVt.yn("clickstart",this.B0t),this.OVt.yn("click",this.M0t))}R0t(t,i){for(const e of this.A0t)if(e.uQ===Xn.VA){const s=JK(e.Ku,i);void 0!==s&&this.c$<s&&s<=t&&wr(e.eventURL)}}async U0t(){if(!this.MUt||!this.Q0t)return;const t=V0(this.MUt.SUt,this.Q0t,this.$x.ads.allowedMimeTypes,this.$x);if(!t.sources.length)return await this.S0t.Zn(),this.T0t(""),void this.MUt.ERt();this.aO=new Ao,this.L0t=!0,await this.S0t.ga(t,this.aO.a_),this.S0t.ge(),this.MUt.ERt(),this.P0t()}async F0t(i,e,s){this.b0t=i,this.MUt=i.hRt,this.S0t.yn(t.ov,this.Y0t),this.S0t.yn(t.EA,this.G0t),this.S0t.yn(t.uv,this.V0t),this.S0t.yn(Ch,this.Ds),this.MUt.fRt&&0!==this.MUt.fRt.length&&this.w0t(this.MUt.fRt),this.MUt.AUt&&this.v0t(this.MUt.AUt),this.yP=e,this.Q0t=s,0!==this.MUt.SUt.length&&(this.S0t.yn(Bi.ha,this.W0t),await this.U0t(),this.S0t.yn(t.kA,this.H0t),this.S0t.yn(t.ov,this.q0t),this.S0t.yn(Ho.Tv,this.X0t),this.S0t.yn(t.qA,this.Ds))}KFt(){this.D0t&&this.Z0t&&this.z0t()}get Z0t(){return this.MUt&&-1!==this.MUt.LUt&&this.S0t.j_>=this.MUt.LUt}K0t(){this.p0t(Xn.act),this.b0t&&this.oHt.Co(new Za(this.b0t,this.j_))}async x0t(){this.S0t.fn(Bi.ha,this.W0t),this.S0t.fn(t.kA,this.H0t),this.S0t.fn(t.ov,this.q0t),this.S0t.fn(Ho.Tv,this.Ds),this.S0t.fn(Ho.Tv,this.X0t),this.S0t.fn(t.qA,this.Ds),this.S0t.fn(t.ov,this.Y0t),this.S0t.fn(t.EA,this.G0t),this.S0t.fn(t.uv,this.V0t),this.S0t.fn(Ch,this.Ds),this.b0t&&(this.b0t._Gt(),this.oHt.Co(new da(this.b0t,this.j_))),this.J0t(),this.f0t(),this.k0t(),this.C0t(),this.b0t=void 0,this.MUt=void 0,this.Q0t=void 0,await this.S0t.Zn(),this.S0t.be(),this.d0t.style.cursor="",this.$0t=0,this.c$=-1,this.t1t&&(this.i1t.x0t(),this.t1t=!1)}J0t(){this.OVt&&(this.OVt.e_(),this.OVt=void 0)}C0t(){this.e1t&&(ei(this.e1t),this.e1t=void 0)}k0t(){this.PVt&&(this.PVt.gn(),this.PVt=void 0)}s1t(){this.t1t=!0}n1t(){var t;this.e1t||(this.e1t=h.createElement("div"),this.e1t.className="theoplayer-ad-overlay-component theo-ad-remaining-container",this.d0t.appendChild(this.e1t));const i=null==(t=this.b0t)?void 0:t.Xl;if(!i)return;const e=i.Oc.filter(e$);let s=R0(this.$x,"The content will play in")+" "+x.round(i.sGt)+" "+R0(this.$x,"seconds");if(e.length>1){const t=e.filter((t=>t.dGt())).length;s+=". "+R0(this.$x,"Ad")+" "+(t+1)+"/"+e.length}$r(this.e1t,s)}constructor(t,i,e,s,n,r,h){super(t,i),this.i1t=e,this.$x=s,this.DHt=n,this.Wu=r,this.S0t=h,this.I0t=!1,this.$0t=0,this.c$=-1,this.aO=new Ao,this.L0t=!0,this.H0t=()=>{this.O0t()},this.X0t=()=>{this.aO=void 0,this.I0t||(this.K0t(),this.I0t=!0),this.L0t&&(this.L0t=!1,this.DHt.Y$t()),this.d0t.style.display="block",this.S0t.fn(Ho.Tv,this.X0t),this.I0t=!0},this.q0t=()=>{const t=this.j_,i=this.ct,e=t/i;(0===this.$0t&&e>=.25?(this.p0t(Xn.FUt),this.$0t=1):1===this.$0t&&e>=.5?(this.p0t(Xn.GUt),this.$0t=2):2===this.$0t&&e>=.75&&(this.p0t(Xn.YUt),this.$0t=3),this.R0t(t,i),this.n1t(),this.c$=t,this.MUt)&&(-1!==this.MUt.LUt&&this.MUt.LUt<this.MUt.ct&&(null!=this.PVt||(this.PVt=this.j0t()),this.j_<this.MUt.LUt?this.PVt.iVt(this.MUt.LUt-this.j_):this.PVt.sVt()))},this.W0t=()=>{var t,i;this.aO=void 0,this.S0t.fn(Bi.ha,this.W0t),this.L0t=!0,null==(t=this.yP)||t.mQt(qi._Qt),this.I0t=!1,this.S0t.be();const e=(null==(i=this.S0t.bt)?void 0:i.src)||"";this.T0t(e)},this.Y0t=()=>{this.Ds(new jc(this.j_,void 0))},this.G0t=()=>{this.Ds(new Tn(this.ct))},this.V0t=()=>{this.Ds(new Oe(this.j_,this.xg))},this.B0t=()=>{this.DHt.Gg()},this.z0t=()=>{this.b0t&&(this.p0t(Xn.PUt),this.oHt.Co(new m0(this.b0t,this.j_/this.ct)),this.O0t(!1))},this.d0t.className="theoplayer-ad-linear",this.d0t.style.zIndex="10",ta(this.d0t),this.S0t.be(),this.t1t=!1}};r(),r();var H0=class t extends i{get we(){return this.Us}nVt(){this.we.addEventListener("mouseup",this.rVt),this.we.addEventListener("touchend",this.rVt),this.we.addEventListener("mousedown",this.r1t)}eVt(){this.we.removeEventListener("mouseup",this.rVt),this.we.removeEventListener("touchend",this.rVt),this.we.removeEventListener("mousedown",this.r1t)}static ur(){const t=h.createElement("div");return t.className="theoplayer-ad-nonlinear-close",t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.cursor="pointer",t.style.fontSize="1.7em",t.style.lineHeight="0.75em",t}gn(){this.eVt(),ei(this.Us)}constructor(){super(),this.rVt=t=>{this.Co(new Ag("Yp")),this.r1t(t)},this.r1t=t=>{t.stopPropagation()},this.Us=t.ur(),this.nVt()}},q0=class extends B0{get h1t(){return this.o1t}get a1t(){return this.hu}f0t(){super.f0t(),this.d0t&&sn(this.d0t)}async F0t(t,i,e){this.yGt&&this.x0t(),this.o1t=t,this.yGt=t.oRt,0!==this.yGt.fRt.length&&this.w0t(this.yGt.fRt),this.yP=i,0!==this.yGt.lRt.length&&(this.v0t(this.yGt.lRt[0].yRt),this.d0t.addEventListener("error",this.u1t),this.d0t.addEventListener("load",this.c1t),await this.U0t(),this.l1t())}KFt(){var t;if(void 0!==this.d1t)return;const i=null==(t=this.yGt)?void 0:t.lRt[0];i&&i.Xl&&-1!==i.Xl.LUt&&(this.p0t(Xn.PUt),this.oHt.Co(new m0(this.o1t,0)),this.f1t())}K0t(){void 0!==this.o1t&&this.oHt.Co(new Za(this.o1t,this.DHt.j_))}Wg(){this.x0t(),this.o1t=void 0,this.yGt=void 0}x0t(){this._1t(),void 0!==this.o1t&&(this.o1t._Gt(),this.oHt.Co(new da(this.o1t,this.DHt.j_))),this.f0t(),this.g1t(),void 0!==this.d1t&&(c(this.d1t),this.d1t=void 0)}_1t(){this.d0t.removeEventListener("load",this.c1t),this.d0t.removeEventListener("error",this.u1t)}async U0t(){const t=h.createElement("div");t.className="theoplayer-ad-nonlinear-content",t.style.position="relative",t.style.display="inline-block";const i=this.yGt.lRt[0],e=h.createElement("a");if(i.yRt.tUt&&(e.href=i.yRt.tUt,e.target="Du",e.setAttribute("rel","noopener")),i.ARt){const t=i.ARt,s=h.createElement("iframe");s.src=t.aQt,e.appendChild(s)}else if(i.gRt){const t=i.gRt,s=h.createElement("img");s.src=t.aQt,e.appendChild(s)}else if(i.mRt){const t=i.mRt,s=h.createElement("iframe");s.src=t.aQt,e.appendChild(s)}i.ERt(),e.addEventListener("mousedown",this.y0t),e.addEventListener("touchend",this.y0t),this.d0t.firstChild&&(sn(this.d0t),this.x0t()),t.appendChild(e),this.d0t.appendChild(t),this.ge()}l1t(){var t;if(!this.yGt)return;const i=null==(t=this.yGt.lRt[0].Xl)?void 0:t.LUt;void 0!==i&&-1!==i&&(this.d1t=Ys.setTimeout(this.w1t,1e3*i))}g1t(){this.hu&&(this.hu.fn("Yp",this.A1t),this.hu.gn()),this.hu=void 0}get v1t(){return this.DHt.m1t()}constructor(t,i,e){super(t,i),this.c1t=()=>{this._1t(),this.p0t(Xn.ZUt),this.N0t()},this.u1t=t=>{var i,e;this._1t(),null==(i=this.yP)||i.mQt(qi.wQt);const s=null==(e=this.yGt)?void 0:e.lRt[0];var n,r;const h=null!=(r=null!=(n=null==s?void 0:s.ARt)?n:null==s?void 0:s.gRt)?r:null==s?void 0:s.mRt;var o;this.T0t(null!=(o=null==h?void 0:h.aQt)?o:"")},this.f1t=()=>{this.be(),sn(this.d0t),this.N0t(),this.o1t=void 0,this.yGt=void 0},this.w1t=()=>{this.hu||(this.d1t=void 0,this.hu=new H0,this.d0t.children[0].appendChild(this.hu.we),this.hu.yn("Yp",this.A1t))},this.A1t=()=>{this.p0t(Xn.PUt),this.KFt()},this.d0t.className="theoplayer-ad-nonlinear",this.d0t.style.position="absolute",this.d0t.style.width="100%",this.d0t.style.bottom="3em",this.d0t.style.zIndex="10",this.d0t.style.textAlign="center",this.DHt=e}};r();var X0=class extends Ku{fa(){return new Z0(this.Xl.n7())}constructor(t){super("p1t",t)}},Z0=class extends Rc{constructor(t){super("adbreakchange",t)}};r();var K0=class{static async y1t(t,i,e){let s=[],n=t.shift();for(;n;){try{const t=await(new mc).xQt(n,i);s=s.concat(t)}catch(t){0;const i=Na.dHt(t,n.sources.src);e.Co(i)}n=t.shift()}return s}};r(),r(),r();var _u,dl=class extends La{fa(){return new J0}constructor(){super("C_t")}},J0=class extends Ag{constructor(){super("statechange")}};r(),function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(_u||(_u={})),r(),r();var $0=class{get Gu(){return this.Xu}get U(){return this.Xu.length}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}jw(t){return this.Xu[t]}mN(t){this.Xu.push(t),this.Xa&&this.Xa.push(t.va),this.M1t(t)}T1t(t){for(const i of t)this.mN(i)}N1t(t,i){i>=0&&i<=this.Xu.length&&(this.Xu.splice(i,0,t),this.Xa&&this.Xa.splice(i,0,t.va),this.M1t(t))}yN(t){return ea(this.Xu,t)}pN(t){this.D1t(this.Xu.indexOf(t))}D1t(t){if(!(t>=0&&t<this.Xu.length))return;const i=this.Xu[t];Dt(this.Xu,t),this.Xa&&Dt(this.Xa,t),this.I1t(i)}OL(){const t=this.Xu.slice();Ri(this.Xu),this.Xa&&Ri(this.Xa);for(const i of t)this.I1t(i)}constructor(){this.Xu=[],this.Xa=void 0}},t1=class extends $0{fa(){return function(t){const i=function(t){const i=t.Gu.map((t=>t.va));return i.item=i=>{const e=0|i,s=t.jw(e);return s&&s.va||void 0},i}(t),e=new pa(t,i);return i.addEventListener=(t,i)=>{e.yn(t,i)},i.removeEventListener=(t,i)=>{e.fn(t,i)},i}(this)}yn(t,i){this.S1t.yn(t,i)}m_(t){this.S1t.m_(t)}Vo(){this.S1t.Vo()}Co(t){this.S1t.Co(t)}fn(t,i){this.S1t.fn(t,i)}T_(t){this.S1t.T_(t)}N_(t){this.S1t.N_(t)}D_(t,i){return this.S1t.D_(t,i)}constructor(...t){super(...t),this.S1t=new ra,this.Ds=t=>{this.Co(t)}}};r();var i1=class extends Ag{constructor(t){super("addtask"),this.task=t}},e1=class extends La{fa(){return new i1(this.E1t.va)}constructor(t){super("b1t"),this.E1t=t}};r();var s1,n1=class extends Ag{constructor(t){super("removetask"),this.task=t}},r1=class extends La{fa(){return new n1(this.task.va)}constructor(t){super("L1t"),this.task=t}},h1=class extends t1{M1t(t){this.Co(new e1(t))}I1t(t){this.Co(new r1(t))}constructor(){super()}};!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(s1||(s1={}));var o1=class extends i{async Yg(){await this.k1t(),this.q_t("initialised")}async k1t(){try{await this.C1t()}catch(t){0}}async C1t(){const t=await this.jct.vet();for(const i of t){const t=this.O1t.x1t(i.id,i.sourceDescription,i.parameters,this.j1t);this.z1t(t),this.uO.mN(t),await t.P1t}}get TS(){return this.H_t}q_t(t){this.H_t=t,this.Co(new dl)}get B1t(){return this.uO}x1t(t,i,e){void 0===e&&(e="persistent");const s=this.O1t.R1t(t,i,e);return this.U1t(s,e),this.uO.mN(s),this.z1t(s),s}async U1t(t,i){try{await this.Q1t(t,i)}catch(t){throw b("Unable to persist task - "+t)}}async Q1t(t,i){await this.jct._et({key:t.o,id:t.o,sourceDescription:t.yc,parameters:t.eS},i)}z1t(t){t.yn("C_t",(()=>{t.TS===_u.EVICTED&&this.uO.pN(t)}))}constructor(t,i,e){super(),this.H_t="uninitialised",this.uO=new h1,this.O1t=i,this.j1t=e,this.jct=t,this.Yg()}};r(),r(),r(),r();var Ta=class{get aR(){return this.F1t}get Y1t(){return this.G1t}get V1t(){return this.W1t.aR}get H1t(){let t=0,i=0;return this.vN.forEach((e=>{t+=e.timeRanges.aR,i+=e.totalQualityDurationToCache})),0===i?0:x.min(1,t/i)}get W1t(){return this.q1t}$N(t){return!!Ah(this.vN,t.vN)&&(!!V_(this.G1t,t.G1t)&&(!!V_(this.aR,t.aR)&&(!!V_(this.V1t,t.V1t)&&this.W1t.iR(t.W1t))))}constructor(t,i,e){if(this.G1t=t,this.vN=i,this.F1t=e,0===this.vN.size)this.q1t=Ki.lR();else{let t=new Ki([-1/0,1/0]);this.vN.forEach((i=>{t=t.Sn(i.timeRanges)})),this.q1t=t}}};Ta.QUALITY_TIME_RANGES_NULL_OBJECT=Qt(),Ta.CACHE_PROGRESSION_NULL_OBJECT=new Ta(0,Ta.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),Ta.X1t=Ta.CACHE_PROGRESSION_NULL_OBJECT,r(),r(),r(),r();var a1=class extends Ag{constructor(){super("progress")}},u1=class extends La{fa(){return new a1}constructor(){super("Z1t")}};r(),r();var c1,l1=class extends Xo{get name(){return"K1t"}constructor(t,i){super(t,i)}};async function d1(t,i,e){const s=[];for(const n of t.xot)s.push(f1(n,i,e));return{J1t:await Promise.all(s)}}async function f1(t,i,e){const s=[];for(const n of t.wnt)_1(n)||s.push(A1(n,i,e));return{Z:await Promise.all(s),hA:t.hA}}function _1(t){return t.unt.every(w1)}r(),r(),r(),function(t){t[t.Qv=0]="Qv",t[t.Fv=1]="Fv"}(c1||(c1={}));var g1=1;function w1(t){return t.Ost!==g1&&Boolean(t.Ost)}async function A1(t,i,e){const s=[];for(const i of t.unt)w1(i)||s.push(v1(i,e));const n=await Promise.all(s),r=t.bst[0],h=t.kst,o=h?function(t,i){const e=[],s=function(t){return t?oo(t,"avc")?Ml.VIDEO_H264:oo(t,"hev")||oo(t,"hvc")||oo(t,"hvt")||oo(t,"lhv")||oo(t,"lhe")||oo(t,"lht")?Ml.VIDEO_H265:oo(t,"mp4")?Ml.VIDEO_MP4:oo(t,"mpeg2")?Ml.VIDEO_MPEG2:oo(t,"mpeg")?Ml.VIDEO_MPEG:Ml.VIDEO_UNKNOWN:Ml.VIDEO_UNKNOWN}(t);for(const t of i){const i=t.ust.split(":").pop(),n=t.ast;e.push({mimeType:s,uuid:i,data:n})}const n=c1.Qv,r=xw;return{type:n,schemeType:r,schemeDatas:e}}(r,h):void 0,a=fY(t,i);return{Hw:n,gs:t.h6,hA:t.hA,kP:o,Ydt:a}}async function v1(t,i){const e=await async function(t,i){const e=[],s=t.Dst;t.$nt&&e.push({zN:0,ct:0,$1t:t.$nt});const n=s.brt();let r=n;for(;r;){if(t.frt(r)){const s=await t._rt(r,i,(new Ao).a_);for(let i=0;i<s.U;i++)e.push(m1(s.Qht(i),t))}else e.push(m1(r,t));r=s.Vrt(r)}const h=s.Ort(),o=h.PN-n.zN;return{ct:o,bet:e}}(t,i),s={o:p1(t),WT:e,Jz:t.Jz,Mtt:t.Mtt,Ti:t.Ti,hA:t.hA,ji:t.ji};switch(t.hA){case rv.Ru:break;case rv.vp:var n,r;s.xst=null!=(r=null==(n=t.xst)?void 0:n.cD())?r:NaN;break;case rv.mp:s.audioSamplingRate=t.Est}return s}function m1(t,i){return{zN:t.zN,ct:t.ct,$1t:i.urt(t)}}function p1(t){return t.ert.Cn+"-"+(""+t.o)}function y1(t,i){const e=function(t){const i=function(t){const i=Qt();for(const e of t){let t=i.get(e.zDt);t||(t={hA:e.hA,Fy:[]},i.set(e.zDt,t)),t.Fy.push(e)}return i}(t),e=_e();return i.forEach((t=>{for(const i of t.Fy){let s=e.get(t.hA);s||(s=Qt(),e.set(t.hA,s));let n=s.get(i.l);n||(n=[],s.set(i.l,n)),n.push(i)}})),e}(t);return function(t,i){const e=_e();return t.forEach(((t,s)=>{const n=Qt();t.forEach(((t,e)=>{const r=[];for(const e of t){const t=M1(e,s,i);r.push(t)}n.set(e,r)})),e.set(s,n)})),e}(e,i)}function M1(t,i,e){const s=t.zDt,n={qDt:t,SIt:[]};for(const t of e)oX(i,s,t)&&n.SIt.push(t);return n}async function T1(t,i){const e=await i.Kat([t],{});return Oq(e.AE,{},e.$at)}async function N1(t,i){return $H(t)?async function(t,i){const e=y1(t.Fy,t.NEt),s=await async function(t,i){const e=[],s=t.entries();for(let t=s.next();!t.done;t=s.next()){const[s,n]=t.value,r=await S1(n,s,i);e.push(r)}return e}(e,i),n=await async function(t,i){const e=[];for(const o of t){var s,n;const t=await k1(o.Pnt,i);var r,h;t.Jz=o.Jz,t.Mtt=o.bst?I1(o.bst):"",t.Ti=null!=(r=null==(s=o.vIt)?void 0:s.Ti)?r:0,t.ji=null!=(h=null==(n=o.vIt)?void 0:n.ji)?h:0,e.push(t)}return{hA:rv.KT,Z:[{gs:uV,hA:rv.KT,Hw:e}]}}(t.NEt,i);return s.push(n),{ct:D1(s),t4t:[t.Pnt],Ent:[{J1t:s}]}}(t,i):function(t){const i=C1(t);return{ct:i.ct,t4t:[t.Pnt],Ent:[{J1t:[{hA:rv.KT,Z:[{hA:rv.KT,gs:uV,Hw:[{o:t.Pnt,WT:i,Jz:0,Mtt:"",Ti:0,hA:rv.KT,ji:0}]}]}]}]}}(t)}function D1(t){let i=-1/0;for(const e of t)for(const t of e.Z)i=x.max(i,...t.Hw.map((t=>t.WT.ct)));return i}function I1(t){return[t._It,t.gIt,t.zSt].filter(j_).join(",")}async function S1(t,i,e){const s=[],n=t.entries();for(let t=n.next();!t.done;t=n.next()){const[,i]=t.value,n=await E1(i,e);s.push(n)}return{hA:b1(i),Z:s}}async function E1(t,i){const e=[],s=t[0].qDt;for(const s of t){const t=await L1(s,i);e.push(t)}return{gs:s.gs||uV,hA:b1(s.hA),Hw:e}}function b1(t){switch(t){case Qn.mp:return rv.mp;case Qn.vp:return rv.vp;case Qn.pp:case Qn.RSt:return rv.Ru;default:return rv.KT}}function L1(t,i){const e=function(t){const i=t.qDt.Pnt,e=t.SIt.map((t=>t.Pnt));return i||(e.length?e[0]:void 0)}(t);return k1(e,i)}async function k1(t,i){let e={ct:0,bet:[]};if(t){const s=await T1(t,i);tq(s)&&(e=C1(s))}return{o:t||"default",i4t:t,WT:e,Jz:0,Mtt:"",Ti:0,hA:rv.KT,ji:0}}function C1(t){const i=[];let e,s=0;for(const n of t.bet){const t=s;!n.EEt||void 0!==e&&eq(n.EEt.Pnt,e)||(i.push(x1(n.EEt,t)),e=n.EEt.Pnt),i.push(O1(n,t)),s+=n.ct}return{ct:s,bet:i}}function x1(t,i){return{zN:i,ct:0,$1t:j1(t.Pnt)}}function O1(t,i){return{zN:i,ct:t.ct,$1t:j1(t.Pnt)}}function j1(t){return{zu:t.ST,lst:t.qht?[t.qht.Cn,t.qht.Cn+t.qht.U]:void 0,uE:!1}}r(),r();var z1=class{async e4t(t){if(!t.src)throw new b("Invalid typed source");const i=t.type;if(Cv(i))return await this.s4t(t);if(kv(i))return await this.n4t(t);throw new b("Unexpected source type")}async s4t(t){try{const i=await T1(t.src,this.Jat);return await N1(i,this.Jat)}catch(t){throw new b("Unable to fetch HLS manifest")}}async n4t(t){try{const i=new mF({oA:lg.Dh(t.src),Lat:t.liveOffset,zat:t.timeServer,uE:t.useCredentials},this.r4t,Db.JG,this.Jat,t.dash);return await i.W,await async function(t,i,e){const s=[];for(const n of t.Ent)s.push(d1(n,i,e));const n=await Promise.all(s);return{ct:t.Dnt.$et(),t4t:[t.yat],Ent:n}}(i.Tr.irt,t.contentProtection,this.nAt)}catch(t){throw new b("Unable to fetch DASH manifest")}}constructor(t,i,e){this.Jat=t,this.nAt=i,this.r4t=e}};r();var P1=class{h4t(){const t=new Eo;return this.o4t.push(t),this.a4t(),t.PL}async u4t(t,i){try{await t}finally{this.c4t-=1,this.a4t(),0===this.o4t.length&&0===this.c4t&&i.jL(!0)}}a4t(){if(this.o4t.length>0&&this.c4t<this.l4t){this.o4t.shift().jL(),this.c4t+=1}}constructor(t){this.o4t=[],this.c4t=0,this.l4t=t}};var B1=class extends i{get P1t(){return this.Yg()}async Yg(){const t=new z1(this.Jat,this.nAt,this.r4t);this.d4t=await t.e4t(this.f4t);const i=function(t,i){if(ae(t)){if(oo(t,"%"))return S(t)/100*i;throw new b("Unexpected - Invalid string supplied as amount to cache.")}return i<t?i:t}(this.zct.eS.amount,this.d4t.ct);let e;this.F1t=i;const s=St(this.d4t.t4t[0]),n=(await this.Eet.Let.pet(s,"manifestURL")).filter((t=>ea(t.references,this.zct.o))),r=[],h=this.zct.eS.bandwidth;for(const t of this.d4t.Ent)for(const i of t.J1t)for(const t of U1(i,this.zct.eS.preferredTrackSelection))for(const i of F1(t.Hw,h))r.push(i);this._4t=x.ceil(r.map((t=>t.Jz*function(t,i){let e=0;for(const s of t.WT.bet.map((t=>t.ct)))if(e+=s,e>=i)return e;return e}(t,i)/8)).reduce(((t,i)=>t+i),0));const o=Qt();if(n&&0!==n.length){const t=n.reduce(((t,i)=>t+i.byteSize),0);for(const t of n){const i=t.qualityId,e=new Ki(t.startsAndEnds);if(o.has(i))o.get(i).timeRanges=o.get(i).timeRanges.HB(e).WB(5e-4);else{const t=X_(r,(t=>t.o===i));var a;const s=x.min(this.F1t,null!=(a=null==t?void 0:t.WT.ct)?a:1/0);o.set(i,{timeRanges:e,totalQualityDurationToCache:s})}}e=new Ta(t,o,this.F1t)}else{for(const t of r)o.set(t.o,{timeRanges:Ki.lR(),totalQualityDurationToCache:x.min(t.WT.ct,this.F1t)});e=new Ta(0,o,this.F1t)}this.g4t=e}get w4t(){return this._4t}get g4t(){return this.A4t}set g4t(t){this.A4t.$N(t)||(this.A4t=t,t.$N(Ta.X1t)||this.Co(new u1))}async pi(t){await this.bo,await this.v4t(this.d4t,t)}async v4t(t,i){if(!t.t4t)throw new b("Unexpected - manifest is missing locations");await this.m4t();const e=[];for(const s of t.Ent)e.push(this.p4t(s,t.t4t[0],i));return yl(e)}async m4t(){const t=await this.y4t.vet();for(const i of t){const t=await this.Eet.ket.kL(i.key);if(t)await R1(t,this.zct.o,this.Eet.ket,this.j1t);else try{await this.Eet.ket._et(i,this.j1t)}catch(t){throw new l1("Unable to store manifest with url: "+i.locationURL,t)}}await this.y4t.Met()}p4t(t,i,e){const s=[];for(const n of t.J1t){const t=U1(n,this.zct.eS.preferredTrackSelection);for(const n of t)s.push(this.M4t(n,i,e))}return yl(s)}async M4t(t,i,e){const s=this.zct.eS.bandwidth,n=F1(t.Hw,s);t.hA===rv.vp&&t.Ydt&&t.Ydt.Mj.widevine&&"persistent"===t.Ydt.Mj.widevine.licenseType&&(await this.T4t(t.Ydt),Pi(e));const r=[];for(const t of n)r.push(this.N4t(t,i,e));return yl(r)}async N4t(t,i,e){Pi(e);const s=t.WT.bet[0].zN+this.F1t,n=[];let r=!1;for(const h of t.WT.bet){if(h.zN>=s||this.stopIfFailed(r))break;await this.D4t(e),await this.I4t.h4t(),n.push(this.I4t.u4t(this.S4t(h,t,i),this.E4t).catch((t=>(r=!0,Promise.reject(t)))))}return yl(n)}async D4t(t){if(null==t?void 0:t.$f)throw await this.E4t.PL,new ia}async b4t(){return await this.bo.catch(xs),this.d4t}T4t(t){return Promise.resolve()}L4t(){return lg.Pv("License renewal unsupported in this SDK."),Promise.resolve()}async S4t(t,i,e){const s=this.Eet.Let,n=In(t.$1t.zu,t.$1t.lst),r=await s.kL(n);if(r)await R1(r,this.zct.o,s,this.j1t),this.k4t(r,!1);else try{const s=await this.C4t(t.$1t),{segmentMetadataEntry:n,segmentEntry:r}=this.x4t(t,i,e,s);await this.Eet.Iet((async t=>{await t.Let._et(n,this.j1t),await t.bet._et(r,this.j1t)})),this.k4t(n,!0)}catch(i){throw new l1("Unable to store segment with url: "+t.$1t.zu,i)}}async C4t(t){const i=await this.wwt.lgt(t,!1,this.DEFAULT_CACHING_SEGMENT_TIMEOUT,void 0,this.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT);return await this.Awt(i)}async Awt(t){return{buffer:await t.Kj()}}x4t(t,i,e,s){const n=In(t.$1t.zu,t.$1t.lst),r=t.zN,h=t.ct,o=this.O4t(s);return{segmentMetadataEntry:{key:n,segmentURLsegmentByteRange:n,manifestURL:St(e),qualityId:i.o,byteSize:o,startsAndEnds:new Ki([r,r+h]).jB,references:[this.zct.o]},segmentEntry:{key:n,segmentURLsegmentByteRange:n,manifestURL:St(e),data:s,references:[this.zct.o]}}}O4t(t){return t.buffer.byteLength}k4t(t,i){const e=t.qualityId,s=this.A4t,n=s.vN;n.get(e).timeRanges=n.get(e).timeRanges.HB(new Ki(t.startsAndEnds)).WB(5e-4),this.g4t=new Ta(i?s.Y1t+t.byteSize:s.Y1t,n,this.F1t)}stopIfFailed(t){return!1}constructor(t,i,e,s,n,r,h,o){super(),this.DEFAULT_CACHING_SEGMENT_TIMEOUT=3e4,this.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT=0,this.E4t=new Eo,this.A4t=Ta.X1t,this.zct=t,this.Eet=i,this.Jat=e,this.y4t=s,this.wwt=n,this.nAt=r,this.r4t=o,this.j1t=h,this._4t=-1;const a=this.zct.yc.sources[0];this.f4t=a,this.bo=this.Yg(),this.I4t=new P1(this.zct.eS.parallelTasksThreshold)}};async function R1(t,i,e,s){ea(t.references,i)||(t.references.push(i),await e._et(t,s))}function U1(t,i){switch(t.hA){case rv.mp:return Q1(t.Z,i.audioTrackSelection);case rv.Ru:return Q1(t.Z,i.textTrackSelection);default:return Q1(t.Z,[])}}function Q1(t,i){if(0===i.length)return t.length?[t[0]]:[];const e=[];for(const s of t)i.indexOf(s.gs)>-1&&e.push(s);return e}function F1(t,i){if(!t.length)return[];const e=[...t].sort(VF),s=e.filter((t=>t.Jz<=i));return s.length>0?[s.pop()]:[e.shift()]}var Y1=class{async j4t(){await this.Eet.Iet((async t=>{await this.z4t(t),await this.P4t(t),await this.B4t(t),await this.R4t(t)}))}async z4t(t){const i=t.Cet,e=this.zct.o;await i.pN(e)}async P4t(t){const i=t.Let,e=t.bet,s=this.zct.yc.sources[0];if(!Pv(s))return;const n=St(s.src),r=(await i.pet(n,"manifestURL")).filter((t=>ea(t.references,this.zct.o)));for(const t of r)Et(t.references,this.zct.o),0===t.references.length?(await i.pN(t.key),await e.pN(t.key)):await i._et(t)}async B4t(t){const i=t.ket,e=this.U4t(),s=(await i.het(e)).filter((t=>ea(t.references,this.zct.o)));for(const t of s)Et(t.references,this.zct.o),0===t.references.length?await i.pN(t.key):await i._et(t)}U4t(){if(!this.d4t)return[];const t=this.zct.yc.sources[0];if(!Pv(t))return[];const i=St(t.src),e=function(t){if(!t)return[];const i=[];for(const e of t.Ent)for(const t of e.J1t)for(const e of t.Z)for(const t of e.Hw)t.i4t&&i.push(t.i4t);return function(t){return t.reduce(((t,i)=>(t.indexOf(i)<0&&t.push(i),t)),[])}(i)}(this.d4t).map((t=>({src:t}))).map((t=>St(t.src)));return[i,...e]}async R4t(t){const i=t.xet,e=(await i.vet()).filter((t=>ea(t.references,this.zct.o)));for(const t of e)Et(t.references,this.zct.o),0===t.references.length?(await i.pN(t.key),this.Q4t(t)):await i._et(t)}Q4t(t){}constructor(t,i,e){this.zct=t,this.Eet=i,this.d4t=e}},G1=new class{D8(t,i,e){return new Y1(t,i,e)}};r(),r();var V1=class{get va(){return this.Xa||(this.Xa=function(t){return{renew(i){t.F4t(i)}}}(this)),this.Xa}F4t(t){this.Y4t(t)}async Y4t(t){try{await this.G4t.L4t(t)}catch(t){0,this.fit.q_t(_u.ERROR)}}constructor(t,i){this.fit=t,this.G4t=i}},W1=class extends ra{get P1t(){return this.G4t.P1t}get va(){return this.Xa||(this.Xa=function(t){let i,e={get id(){return t.o},get status(){return t.TS},get source(){return t.yc},get parameters(){return t.eS},get duration(){return t.ct},get cached(){return t.V4t.ks()},get secondsCached(){return t.W4t},get percentageCached(){return t.H4t},get bytes(){return t.q4t},get bytesCached(){return t.X4t},get license(){return t.pY.va},start(){t.Cn()},pause(){t.Gg()},remove(){t.pN()},addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)}};return i=new $u(t,["Z1t","C_t"],e),e}(this)),this.Xa}get o(){return this.NN}get pY(){return this.Z4t}get TS(){return this.H_t}q_t(t){this.H_t!==t&&(this.H_t=t,this.Co(new dl))}get yc(){return this.bc}get eS(){return this.K4t}get ct(){return this.G4t.g4t.aR}get V4t(){return this.G4t.g4t.W1t}get W4t(){return this.G4t.g4t.V1t}get H4t(){return this.G4t.g4t.H1t}get q4t(){return this.G4t.w4t}get X4t(){return this.G4t.g4t.Y1t}Cn(){this.H_t===_u.EVICTED||this.H_t===_u.DONE||this.J4t()}async J4t(){try{this.q_t(_u.LOADING);const t=new Ao;this.$4t=t,await this.G4t.pi(t.a_),this.q_t(_u.DONE)}catch(t){Oi(t)?this.q_t(_u.IDLE):this.q_t(_u.ERROR)}finally{this.$4t.e_()}}Gg(){this.$4t.c_()}pN(){this.TS===_u.LOADING?(this.yn("C_t",this.evictOnLoading),this.Gg()):this.t2t()}async t2t(){try{const t=await this.G4t.b4t();await G1.D8(this,this.Eet,t).j4t(),this.G4t.g4t=Ta.X1t,this.q_t(_u.EVICTED)}catch(t){0,this.q_t(_u.ERROR)}}constructor(t,i,e,s,n,r){super(),this.$4t=new Ao,this.evictOnLoading=()=>{this.fn("C_t",this.evictOnLoading),this.t2t()},this.NN=t,this.bc=i,this.K4t=e,this.Eet=s,this.G4t=n.D8(this,this.Eet,r),this.Z4t=new V1(this,this.G4t),this.H_t=1===this.G4t.g4t.H1t?_u.DONE:_u.IDLE,this.G4t.yn("Z1t",(t=>{this.Ds(t),1===this.H4t&&this.q_t(_u.DONE)}));const h=new Date,o=this.K4t.expirationDate.getTime()-h.getTime();(function(t){return t<2147483647})(o)&&u((()=>this.t2t()),o)}};var H1=class{R1t(t,i,e){const s=$e();return this.x1t(s,t,i,e)}x1t(t,i,e,s){return new W1(t,i,e,this.Eet,this.i2t,s)}constructor(t,i){this.Eet=t,this.i2t=i}};r();var q1=30,X1=5;function Z1(t){if(!t)throw new b("Unexpected - The cache parameters are undefined");const i=function(t){if(ae(t)&&!oo(t,"%"))return C(t);return t}(t.amount);!function(t){if(function(t){return ae(t)&&oo(t,"%")}(t)){const i=S(t);if(j(i)||i<0||i>100)throw new b("The amount as percentage must be between 0 and 100 percent.")}if(!ae(t)&&j(t))throw new b("The amount must be a number or a string")}(i);const e=function(t){if(!t)return function(){const t=new Date;return t.setMinutes(t.getMinutes()+q1),t}();return t}(t.expirationDate);!function(t){if(t&&!function(t){return!t||B_(t)&&t>new Date}(t))throw new b("Invalid expiration date for the cache parameters")}(e);const s=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);!function(t){if(j(t)||t<0)throw new b("The bandwidth must be between zero and infinity.")}(s);const n=function(t){if(!t)return X1;if(j(t))throw new b("The amount must be a number");return t}(t.numberOfParallelTasks);return{amount:i,expirationDate:e,bandwidth:s,parallelTasksThreshold:n,preferredTrackSelection:{audioTrackSelection:[],textTrackSelection:[]}}}var K1=class{set l0t(t){this.e2t=t,this.s2t=0,this.n2t=0,this.r2t=void 0}get l0t(){return this.e2t}aXt(){if(!this.e2t)return;const t=this.e2t.hGt;for(;this.s2t<t.length;){const i=t[this.s2t];for(void 0===this.r2t&&(this.r2t=XJ(i),this.n2t=0);this.n2t<this.r2t.length;){const t=this.r2t[this.n2t];if(this.n2t++,void 0!==t.hRt)return t.hRt}this.s2t++,this.r2t=void 0}}Zn(){for(this.l0t=void 0,this.aO.c_(),this.aO=new Ao;this.h2t.length;)this.H$t()}o2t(t){return new o1(this.Eet.Cet,t,"temporary")}async Hjt(t){const i=Q0(t.SUt,this.eH.ads.allowedMimeTypes);if(!i.length)return;const e=await Ze.gL.NB(i,il({sources:i}));if(!e.t.dB())return;this.G4t||(this.G4t=new this.i2t(this.gE));const s=this.Eet,n=new H1(s,this.G4t),r=this.o2t(n).x1t(il({sources:e.yc}),Z1({amount:10,bandwidth:ua.gL.Qz()||this.yR.sW}),"temporary");this.h2t.push(r);const h=this.G4t.D8(r,s,"temporary");this.aO.c_(),this.aO=new Ao,h.pi(this.aO.a_).then(xs),this.a2t(h,t)}constructor(t,i,e,s){this.h2t=[],this.s2t=0,this.n2t=0,this.G$t=async()=>{const t=this.aXt();t&&await this.Hjt(t)},this.H$t=()=>{const t=this.h2t.shift();null==t||t.pN()},this.a2t=async(t,i)=>{let e=!1;for(;!e;)await t.D_("Z1t"),e=1===t.g4t.H1t;i.ct<5&&this.G$t()},this.eH=t,this.gE=i,this.aO=new Ao,this.i2t=e,this.yR=s,this.Eet=new Cr}};r(),r();var J1={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new Ki([0,0]).jB,references:[]},$1={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},t4=class t extends kG{async mot(t,i,e,s){try{return await super.mot(t,i,e,s)}catch(t){Ht(t)}const n=await this.u2t.mot(t,i,e,s);return await this.c2t(t,i,n),n}async c2t(i,e,s){if(void 0===this.l2t)return;const n=this.Eet.Let,r=In(i,e),h=await n.kL(r);if(h)await R1(h,this.l2t,n,this.j1t);else try{const i={buffer:s},{segmentMetadataEntry:e,segmentEntry:n}=t.x4t(r,i,this.l2t);await this.Eet.Iet((async t=>{await t.Let._et(e,this.j1t),await t.bet._et(n,this.j1t)}))}catch(t){throw new l1("Unable to store segment with url: "+i,t)}}static x4t(t,i,e){return{segmentMetadataEntry:At({},J1,{key:t,segmentURLsegmentByteRange:t,references:[e]}),segmentEntry:At({},$1,{key:t,segmentURLsegmentByteRange:t,data:i,references:[e]})}}constructor(t,i,e,s,n){super(t),this.u2t=new LG(i),this.Eet=e,this.l2t=s,this.j1t=n}};var i4,e4=class{D8(t,i,e){void 0===e&&(e="persistent");const s=t.yc.sources[0];if(Ov(s))throw new b("Caching THEOlive sources is not supported");const n=Boolean(s.useCredentials),r=new FY(this.gE,nn.KT),h=new qF(this.gE,n),o=new ft(i.ket,i.Let,i.bet,i.xet),a=function(t,i,e,s,n){return new t4(i,t,e,s,n)}(this.gE,o,i,t.o,e),u=new hn,c=new $F(JF(h,o),u,t);return this.d2t(t,i,c,u,r,a,e)}constructor(t){this.gE=t}},s4=class extends e4{d2t(t,i,e,s,n,r,h){return new B1(t,i,e,s,n,r,h,zW())}},n4=s4;!function(t){t[t.NOT_INITIALISED=0]="NOT_INITIALISED",t[t.f2t=1]="f2t",t[t._2t=2]="_2t",t[t.Tv=3]="Tv",t[t.Dv=4]="Dv",t[t.g2t=5]="g2t"}(i4||(i4={}));var r4=class i extends Jn{get rHt(){return this}static get sHt(){return sh.ZYt}get sHt(){return i.sHt}qJt(t,i,e){i===ro.a7&&this.q4?W(this.hXt([t])):this.w2t.push(t)}z_(){return this.A2t.D0t?this.A2t.j_:this.k9()}P_(t){}Td(){return this.A2t.ct}U_(){return this.A2t.R_}Q_(){}Y_(){}K_(){return this.A2t.Z_}J_(t){this.Z_!==t&&(this.A2t.Z_=t,this.Co(new Oe(this.j_,this.xg)))}og(){return this.A2t.hg}pg(){return this.A2t.vg}Mg(){return Ki.lR().ks()}Sg(){return this.A2t.Ig}Cg(){return this.A2t.Lg}Og(){return this.A2t.xg}jg(t){this.xg!==t&&(this.A2t.xg=t,this.Co(new Oe(this.j_,this.xg)))}async Vg(){if(this.v2t)return;this.Co(new fh(this.j_)),this.m2t(),this.w2t.length&&(this.v2t=this.hXt(this.w2t),await this.v2t,this.v2t=void 0),await this.p2t.i0t(this.Qo.z_());const t=this.y2t;4!==t&&1!==t&&5!==t||(!this.IGt&&this.M2t.length?this.T2t():this.IGt?(this.N2t=!0,this.A2t.Vg()):(this.OWt(),this.Qo.Vg()),this.y2t=3)}Gg(){3===this.y2t&&(this.A2t.Gg(),this.y2t=4)}Y$t(){this.p2t.Y$t()}Cn(){this.y2t=1,this.p2t.Cn()}async Wg(){this.p2t&&(this.p2t.jn(),this.D2t(!1),this.i1t.Wg(),this.y2t=5,this.IGt&&(this.p2t.c0t(this.IGt.RQt),this.IGt=void 0)),this.q4=!1,this.N2t=!1,Ri(this.M2t),this.AHt&&(this.OWt(),this.Qo.ge()),Ri(this.w2t),await this.A2t.Wg(),await this.S0t.Zn()}Yp(){this.A2t.KFt(),this.i1t.KFt()}Yg(){this.S0t.Yg(),this.m2t()}cHt(i){return!(i.type!==t.kA||!this.p2t||!this.p2t.J$t(-1))&&(this.p2t.Z$t().then(xs),!0)}ge(){void 0!==this.A2t.E0t&&(this.S0t.ge(),this.A2t.ge()),void 0!==this.i1t.h1t&&this.i1t.ge()}be(){this.S0t.be(),this.A2t.be(),this.i1t.be()}async hXt(t){const i=await K0.y1t(t,this.gE,this.oHt);if(!i.length){const t="Ads could not be loaded.";return this.oHt.Co(Na.dHt(new hi(Je.ADBLOCK,Ur.FILE_NOT_FOUND),t)),void(this.q4&&!this.IGt&&0===this.M2t.length&&this.I2t())}this.p2t.a0t(i),this.oHt.Co(new vn),this.AHt||this.Qo.hg||this.p2t.i0t(this.Qo.z_()),0!==this.y2t&&5!==this.y2t||this.Cn()}r0t(t){this.M2t.push(...t);for(const i of t)this.q4&&!this.AHt&&this.T2t()}async T2t(){if(2!==this.y2t&&!this.S2t){0,this.S2t=!0,this.y2t=2;const t=this.IGt;this.E2t(),this.IGt?(await this.IGt.RQt.R$t(this.oHt),this.b2t()||(this.S2t=!1),this.oHt.Co(new X0(this.L2t(this.IGt))),await this.k2t()):((null==t?void 0:t.RQt.U$t())&&this.oHt.Co(new Nh(this.L2t(t))),this.S2t=!1,this.y2t=1,this.I2t())}}I2t(){this.OWt(),this.Qo.ge(),this.Qo.R_?this.Qo.Co(new ys(this.Qo.z_())):this.Qo.Vg()}E2t(){let t;if(this.IGt&&this.b2t())t=this.IGt.RQt;else{if(0===this.M2t.length)return;t=this.M2t.shift()}if(!t)return;const i=t.Mc();i?this.IGt=i:(this.IGt&&(this.p2t.c0t(this.IGt.RQt),this.IGt=void 0),this.IGt=void 0)}async k2t(){const t=this.IGt?function(t){var i,e;const s=null==(e=t._Ft)||null==(i=e.GBt)?void 0:i.VBt();return void 0===s?void 0:new qJ(s)}(this.IGt):void 0;if(t){if(!this.IGt)return;this.C2t=t,this.x2t(this.IGt.fRt),this.O2t(Xn.sQt);const i=this.C2t.Mc();this.IGt.RQt.U$t()&&(this.i1t.x0t(),1===this.IGt.RQt.fst&&this.oHt.Co(new ba(this.L2t(this.IGt)))),await this.F0t(i)}else this.y2t=1,this.S2t=!1,this.IGt=void 0,this.T2t()}async F0t(t){if(t){var i;let s=j_(t.hRt),n=j_(t.uRt);var e;const r=null!=(e=null==(i=t.aRt)?void 0:i.xRt)?e:[],h=r.length>0,o=this.IGt,a=this.L2t(o);if(t.hRt){if(t.hRt.Xl=o,void 0!==o.T7.skipOffset){const i=js.uFt(o.T7.skipOffset,t.hRt.ct);i&&i<t.hRt.ct&&(t.hRt.LUt=i)}const i=a.oGt(t.hRt,r,t.cRt,o.T7);this.i1t.x0t(),this.LHt(),await this.A2t.F0t(i,t.lt,{width:this.Qo.we.offsetWidth,height:this.Qo.we.offsetHeight}),s=!0}if(t.uRt){const i=t.uRt.lRt[0];if(i.Xl=o,void 0!==o.T7.skipOffset){const t=js.uFt(o.T7.skipOffset,this.Qo.Td());t&&(i.Xl.LUt=t)}const e=s?[]:r,h=a.aGt(i,e,t.uRt,t.cRt,o.T7);s&&this.A2t.s1t(),await this.i1t.F0t(h,t.lt,{width:this.Qo.we.offsetWidth,height:this.Qo.we.offsetHeight}),n=!0}if(s){this.y2t=3,this.A2t.ge();const t=0===a.pEt;this.N2t=t,this.S0t.Gg(),this.A2t.Vg(),this.Qo.Gg(),this.Qo.be(),this.LHt(),this.A2t.K0t()}n&&(this.y2t=3,this.i1t.ge(),this.i1t.K0t()),(s||n||h)&&this.j2t(t.sRt),s||n||await this.z2t(),!s&&n&&(this.b2t()||this.M2t.length>0?this.T2t():(this.I2t(),this.IGt=o))}else null===t?await this.z2t():this.D2t(!0)}z2t(){const t=this.C2t;return this.F0t(t&&t.Mc())}D2t(t){this.O2t(Xn.nQt),this.P2t(),this.y2t=1;const i=void 0!==this.IGt&&this.IGt.RQt.P$t();if(this.S2t=!1,i)t&&(this.y2t=1,this.T2t());else{if(!this.AHt)return;this.Qo.ge(),!this.Qo.R_&&t&&this.Qo.Vg(),this.OWt()}}OWt(){this.B2t(),super.OWt()}B2t(){this.Qo.R_&&(this.y2t=5),this.IGt&&(this.IGt.RQt.U$t()&&this.oHt.Co(new Nh(this.L2t(this.IGt))),this.p2t.c0t(this.IGt.RQt),this.IGt=void 0)}x2t(t){this.R2t=this.R2t.concat(t)}P2t(){this.R2t=[]}U2t(t){this.Qo.we.appendChild(t)}O2t(t){for(const i of this.R2t)i.uQ===t&&wr(i.eventURL)}j2t(t){this.A2t.p0t(Xn.ZUt);for(const i of t)wr(i)}get r7(){return this.IGt?this.L2t(this.IGt):null}get s7(){return this.IGt?[this.A2t.E0t,this.i1t.h1t].filter(j_):[]}get h7(){const t=this.M2t.concat(this.p2t.h7.filter((t=>!t.dGt())));return Eh(t,(t=>t.k$t.Oc.filter((t=>!t.dGt()))))}get o7(){return this.p2t.h7.map((t=>t.k$t))}p7(t){const i=this.ZJt();for(const e of i)IK(e.sources,e.timeOffset)||t.N1(e,ro.a7,!1)}ZJt(){const t=[];for(const i of this.s7.concat(this.h7))t.push(i.T7);const i=this.M2t.concat(this.p2t.h7.filter((t=>!t.dGt())));for(const e of i)for(const i of e.hGt)i.W||t.push(i.T7);return t.push(...this.w2t),sg(t)}b2t(){return!!this.IGt&&XJ(this.IGt).some((t=>t.hRt))}L2t(t){return t.RQt.k$t}m1t(){return this.Q2t}Ug(){return this.S0t.Ug()}E_(){return this.S0t.E_()}yHt(t){this.p2t.yHt(t)}async gn(){await super.gn(),this.Qo.fn(t.jh,this.m2t),this.oHt.jR(this.A2t.oHt),this.oHt.jR(this.i1t.oHt),this.oHt.jR(this.p2t),this.A2t.gn(),this.i1t.gn(),await this.S0t.gn()}constructor(i,e,s,n,r,h){super(i,e),this.M2t=[],this.y2t=0,this.R2t=[],this.S2t=!1,this.q4=!1,this.N2t=!0,this.w2t=[],this.F2t=i=>{i.type===t.jh&&this.N2t?this.N2t=!1:this.Co(i)},this.m2t=()=>{this.q4=!0},this.Y2t=async()=>(this.y2t=1,await this.A2t.x0t(),this.F0t(this.C2t.Mc())),this.G2t=async t=>{const i=new hi(Je.PLAYBACK,Ur.GENERAL_LINEAR_ERROR,"There was a problem playing a linear ad.");return this.oHt.Co(Na.dHt(i,t)),await this.A2t.x0t(),this.F0t(this.C2t.Mc())},this.V2t=()=>(this.i1t.x0t(),this.F0t(this.C2t.Mc())),this.W2t=t=>{const i=new hi(Je.PLAYBACK,Ur.GENERAL_NON_LINEAR_ERROR,"There was a problem playing a non linear ad.");return this.oHt.Co(Na.dHt(i,t)),this.i1t.x0t(),this.F0t(this.C2t.Mc())},this.gE=h,this.S0t=s,this.i1t=new q0(this.W2t,this.V2t,this),this.A2t=new W0(this.G2t,this.Y2t,this.i1t,n,this,i.Iu,s),this.U2t(this.i1t.d0t),this.U2t(this.A2t.d0t);const o=new K1(n,h,s4,r);this.p2t=new P0(this.Qo,this,this.oHt,o),this.A2t.m_(this.F2t),this.i1t.m_(this.Ds),this.oHt.Qa(this.A2t.oHt),this.oHt.Qa(this.i1t.oHt),this.oHt.Qa(this.p2t),this.Q2t=new Tc(this,this.Qo),this.Iu.yn(Zr.pn,this.Ds),this.Qo.yn(t.jh,this.m2t)}};Zo.gL.$R(new class{get $Wt(){return r4.sHt}JR(t){return t&&("string"!=typeof t.integration||t.integration===uS.DEFAULT||t.integration===uS.THEO)}tHt(t,i,e){const s=new et(t.we,e,t.tj,t.y9,t.S9,t.Ol);return new r4(t,i,s,e,t.y9,t.tj)}N1(t,i,e,s){e.qJt(t,i,s)}_F(t){const i=yJ(t.sources);if(!i)return;const e={integration:uS.THEO,sources:i};"vast"===e.sources.type&&void 0===t.timeOffset?t.timeOffset=0:"vmap"===e.sources.type&&void 0!==t.timeOffset&&ji("property timeOffset will be ignored for vmap ad sources");const s=TJ(t.timeOffset);void 0!==s&&(e.timeOffset=s);const n=TJ(t.skipOffset);return void 0!==n&&(e.skipOffset=n),e}}),r(),r();var h4=class{iW(){var t;this.Y1||(null==(t=this.f$t)||t.initialize(),this.Y1=!0)}get d0t(){return this.CVt}get H2t(){return this.q2t.offsetHeight}get X2t(){return this.q2t.offsetWidth}get Z2t(){return this.f$t}K2t(t){"linear"===t?this.CVt.style.marginTop="0px":"nonlinear"===t&&(this.CVt.style.marginTop="-45px")}ge(){this.CVt.style.opacity="1",this.CVt.style.pointerEvents=""}be(){this.CVt.style.opacity="0",this.CVt.style.pointerEvents="none"}e_(){var t;null==(t=this.f$t)||t.destroy(),this.f$t=void 0}constructor(t,i){this.f$t=void 0,this.Y1=!1,this.b8=t;const e=h.createElement("div");e.className="theoplayer-ima-wrapper",ta(e),e.style.zIndex="10",wn.Qs&&function(t,i){t.addEventListener(i,KN)}(e,"mousedown"),i.appendChild(e);const s=h.createElement("div");s.className="theoplayer-ima",s.style.height="100%",this.q2t=s,e.appendChild(s),this.CVt=e,this.f$t=new google.ima.AdDisplayContainer(this.q2t,this.b8)}};r(),r(),r();var o4=class{get vUt(){return this.J2t.getAdId()}get gKt(){const t=this.J2t.getAdPodInfo();if(void 0!==t)try{return{AXt:t.getAdPosition(),eGt:t.getMaxDuration(),$2t:t.getPodIndex(),pEt:t.getTimeOffset(),vXt:t.getTotalAds(),t3t:t.getIsBumper()}}catch(t){return}}get $Bt(){return this.J2t.getAdSystem()}get i3t(){return this.J2t.getAdvertiserName()}get YRt(){var t;return null!=(t=this.J2t.getApiFramework())?t:void 0}get aRt(){return this.ORt.map((t=>({VRt:t.getAdSlotId(),LP:t.getContentType(),O:t.getContent(),Ti:t.getHeight(),ji:t.getWidth()})))}get LP(){var t;return null!=(t=this.J2t.getContentType())?t:void 0}get NRt(){return this.J2t.getCreativeId()}get mJt(){return this.J2t.getCreativeAdId()}get e3t(){return this.J2t.getDealId()}get nM(){return this.J2t.getDescription()}get ct(){return this.J2t.getDuration()}get ji(){return this.J2t.getWidth()}get Ti(){return this.J2t.getHeight()}get _Jt(){var t;return null!=(t=this.J2t.getMediaUrl())?t:void 0}get s3t(){return this.J2t.getMinSuggestedDuration()}get AJt(){return this.J2t.getSkipTimeOffset()}get n3t(){return this.J2t.getSurveyUrl()}get OP(){return this.J2t.getTitle()}get gJt(){return this.J2t.getTraffickingParameters()}get wJt(){return this.J2t.getTraffickingParametersString()}get cRt(){return this.J2t.getUniversalAdIds().map((t=>({yJt:t.getAdIdRegistry(),MJt:t.getAdIdValue()})))}get y$t(){return this.J2t.getUiElements()}get vJt(){return this.J2t.getVastMediaBitrate()}get dJt(){return this.J2t.getVastMediaHeight()}get lJt(){return this.J2t.getVastMediaWidth()}get oJt(){return this.J2t.getWrapperAdIds()}get aJt(){return this.J2t.getWrapperAdSystems()}get uJt(){return this.J2t.getWrapperCreativeIds()}get oKt(){return this.J2t.isLinear()}constructor(t){this.J2t=t;const i=new google.ima.CompanionAdSelectionSettings;i.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.ALL,i.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.ALL,i.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,this.ORt=t.getCompanionAds(0,0,i)}};function a4(){return[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED]}var u4=class extends i{jg(t){var i;null==(i=this.rGt)||i.setVolume(t)}Og(){return this.rGt.getVolume()}LKt(){return this.rGt.getRemainingTime()}e_(){Ri(this.Ic),this.Wu.fn(Zr.pn,this.r3t),this.rGt.removeEventListener(google.ima.AdEvent.Type.LOADED,this.h3t),this.rGt.removeEventListener(a4(),this.forwardAdEventListener),this.rGt.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.forwardAdErrorEventListener),this.rGt.destroy()}Cn(){this.rGt.start()}u$t(){this.rGt.resume()}Gg(){this.rGt.pause()}Yp(){this.rGt.skip()}Wg(){this.rGt.stop()}dKt(){const t=this.rGt.getCurrentAd();if(t)return this.o3t(t)}g$t(){return this.rGt.getCuePoints()}o3t(t){let i=X_(this.Ic,(i=>i.J2t===t));return i||(i=new o4(t),this.Ic.push(i)),i}D$t(t){this.rGt.updateAdsRenderingSettings(d4(t))}constructor(t,i,e){super(),this.Ic=[],this.h3t=t=>{t.getAd().isLinear()?this.f$t.K2t("linear"):this.f$t.K2t("nonlinear")},this.r3t=()=>{this.rGt.resize(this.f$t.X2t,this.f$t.H2t,google.ima.ViewMode.NORMAL)},this.forwardAdEventListener=t=>{const i=t.getAd(),e=function(t){return{[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED]:To.TXt,[google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED]:To.NXt,[google.ima.AdEvent.Type.CLICK]:To.DXt,[google.ima.AdEvent.Type.DURATION_CHANGE]:To.EA,[google.ima.AdEvent.Type.EXPANDED_CHANGED]:To.IXt,[google.ima.AdEvent.Type.STARTED]:To.SXt,[google.ima.AdEvent.Type.IMPRESSION]:To.EXt,[google.ima.AdEvent.Type.PAUSED]:To.Dv,[google.ima.AdEvent.Type.RESUMED]:To.bXt,[google.ima.AdEvent.Type.AD_PROGRESS]:To.gXt,[google.ima.AdEvent.Type.AD_BUFFERING]:To.LXt,[google.ima.AdEvent.Type.FIRST_QUARTILE]:To.kXt,[google.ima.AdEvent.Type.MIDPOINT]:To.GUt,[google.ima.AdEvent.Type.THIRD_QUARTILE]:To.CXt,[google.ima.AdEvent.Type.COMPLETE]:To.VUt,[google.ima.AdEvent.Type.USER_CLOSE]:To.xXt,[google.ima.AdEvent.Type.LINEAR_CHANGED]:To.OXt,[google.ima.AdEvent.Type.LOADED]:To.jXt,[google.ima.AdEvent.Type.AD_CAN_PLAY]:To.zXt,[google.ima.AdEvent.Type.AD_METADATA]:To.PXt,[google.ima.AdEvent.Type.AD_BREAK_READY]:To.BXt,[google.ima.AdEvent.Type.INTERACTION]:To.RXt,[google.ima.AdEvent.Type.ALL_ADS_COMPLETED]:To.UXt,[google.ima.AdEvent.Type.SKIPPED]:To.QXt,[google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED]:To.FXt,[google.ima.AdEvent.Type.LOG]:To.YXt,[google.ima.AdEvent.Type.VIEWABLE_IMPRESSION]:To.GXt,[google.ima.AdEvent.Type.VOLUME_CHANGED]:To.VXt,[google.ima.AdEvent.Type.VOLUME_MUTED]:To.WXt}[t]}(t.type),s={type:e,date:new Date,f7:i?this.o3t(i):void 0,JZt:Z$(e,t.getAdData())};this.Co(s)},this.forwardAdErrorEventListener=t=>{this.Co({date:new Date,f7:void 0,type:Ec.HXt,JZt:{OKt:$$(t.getError())}})},this.rGt=t,this.f$t=i,this.Wu=e,this.Wu.yn(Zr.pn,this.r3t),this.rGt.init(this.f$t.X2t,this.f$t.H2t,google.ima.ViewMode.NORMAL),this.rGt.addEventListener(google.ima.AdEvent.Type.LOADED,this.h3t),this.rGt.addEventListener(a4(),this.forwardAdEventListener),this.rGt.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.forwardAdErrorEventListener)}};r();var c4=class extends La{get a3t(){return this.u3t}get d0t(){return this.CVt}fa(){return this}constructor(t,i){super("E$t"),this.u3t=t,this.CVt=i}},l4=class extends i{c$t(){var t;null==(t=this.l$t)||t.contentComplete()}async hXt(t,i,e){if(this.c3t)throw new b("Only one ImaAdsRequest can be made at a time.");if(!this.l3t.Z2t)throw new b("AdDisplayContainer is not initialized.");this.l$t=new google.ima.AdsLoader(this.l3t.Z2t),this.l$t.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.l$t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.c3t=new Eo,this.d3t=i,this.f3t=e;const s=new google.ima.AdsRequest;return t.wqt?s.adTagUrl=t.wqt:t.Aqt&&(s.adsResponse=t.Aqt),s.linearAdSlotWidth=t.cqt,s.linearAdSlotHeight=t.lqt,s.nonLinearAdSlotWidth=t.dqt,s.nonLinearAdSlotHeight=t.fqt,s.setAdWillAutoPlay(t._qt),s.setAdWillPlayMuted(t.gqt),t.vqt&&(s.omidAccessModeRules=t.vqt),this.l$t.requestAds(s),this.c3t.PL}e_(){var t;void 0!==this.l$t&&(this.l$t.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.l$t.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.l$t.destroy(),this.l$t=void 0),null==(t=this.c3t)||t.zL("AdsLoader destroyed"),this.c3t=void 0}constructor(t,i){super(),this.onAdsManagerLoadedListener=t=>{if(this.d3t&&this.f3t&&this.c3t){var i;const e=d4(this.f3t),s=this.d3t,n=t.getAdsManager({get currentTime(){return s.j_},get duration(){return s.ct}},e),r=new u4(n,this.l3t,this.Wu);this.Co(new c4(n,this.l3t.d0t)),null==(i=this.c3t)||i.jL(r),this.c3t=void 0}},this.onAdsManagerErrorListener=t=>{var i;const e={TL:t.getError().getMessage(),yXt:t.getError().getVastErrorCode(),MQt:t.getError().getErrorCode(),hA:K$(t.getError().getType()),MXt:void 0};null==(i=this.c3t)||i.zL(e),this.c3t=void 0},this.Wu=i,this.l3t=t}};function d4(t){const i=new google.ima.AdsRenderingSettings;return i.enablePreloading=t.M$t,t.y$t&&(i.uiElements=t.y$t),i.mimeTypes=t.p$t,void 0!==t.N$t&&(i.playAdsAfterTime=t.N$t),void 0!==t.T$t&&(i.loadVideoTimeout=t.T$t),void 0!==t.fJt&&(i.bitrate=t.fJt),void 0!==t.N$t&&(i.playAdsAfterTime=t.N$t),i.restoreCustomPlaybackStateOnAdBreakComplete=!0,i}r();var f4=class extends i{get j_(){return this.Qo.Tg?this._3t:this.Qo.z_()}get ct(){return this.Qo.Td()}get Z_(){return this.Qo.Z_}get xg(){return this.Qo.xg}Zn(){this._3t=0}constructor(i){super(),this.Qo=i,this._3t=this.Qo.z_(),this.Qo.yn(t.ov,(()=>{this.Qo.Tg||(this._3t=this.Qo.z_()),this.Co(new jc(this.j_,void 0))}))}};k0.gL.registerWebImaAdPlayerConstructor((function(t,i,e){E0(e);const s=b0(e)?t.Ug():void 0,n=new h4(s,t.we),r=new l4(n,t.Iu),h=new f4(t);return new L0(t,i,e,t.N9,n,r,h)})),r(),r(),r(),r(),r();var _4=class extends i{get BW(){return this.zvt===Dr.CONNECTED}get zvt(){return this.ja}get va(){return this.Xa||(this.Xa=function(t){return{get casting(){return t.BW},get state(){return t.zvt},start(){t.qg()},stop(){t.Xg()},addEventListener(i,e){const s=As(i,Oa);t.yn(s,e)},removeEventListener(i,e){const s=As(i,Oa);t.fn(s,e)}}}(this)),this.Xa}g3t(){this.w3t(),this.WMt.yn(t.lo,this.A3t),lg.Ys.ctt&&this.Ta(Dr.AVAILABLE)}preloadPlayer(t){if(Pi(t),this.Qo.vg<ov.Gn){const i=this.Qo.D_(Ho.yv,t);return this.Qo.gg=tt.Mp,i}return Promise.resolve()}Ta(t){t!==this.ja&&(this.ja=t,this.Co(new S$(this.ja)))}async v3t(t){await this.preloadPlayer(t),this.WV.qg()}Xg(){lg.Ys.ctt&&this.Qo.Xg()}gn(){this.Vo(),this.WMt.fn(t.lo,this.A3t),this.m3t.c_()}constructor(t,i){super(),this.Xa=void 0,this.ja=Dr.UNAVAILABLE,this.m3t=new Ao,this.handleAirplayChangedEvent=()=>{this.Qo&&this.Qo.W_?this.p3t():this.zvt===Dr.CONNECTED&&this.y3t()},this.WMt=t,this.WV=i}},g4=class extends _4{w3t(){this.Qo&&this.Qo.fn(t.pA,this.handleAirplayChangedEvent),this.M3t?this.Qo=this.WV:this.Qo=this.T3t,this.Qo.yn(t.pA,this.handleAirplayChangedEvent)}get M3t(){return this.WV.Hg()}async p3t(){if(this.Qo){if(this.M3t){if(!this.Qo.hg){const i=new Promise((t=>u(t,800))),e=this.Qo.D_(t.Sh,this.m3t.a_);await Promise.race([e,i])}this.Qo.Vg()}else{this.N3t=this.WV.j_,this.D3t=this.WV.k_,this.T3t.yn(t.ov,this.handleAirplayPlayerTimeUpdate),this.I3t=this.WV.Pw,this.WV.Pw=this.T3t,this.I3t.Gg(),this.I3t.be(),this.T3t.ge(),this.T3t.Z_=this.I3t.Z_,this.T3t.ag=this.I3t.ag,this.T3t.xg=this.I3t.xg;const i=this.T3t.D_(t.XA);this.T3t.j_=this.I3t.j_,await i,this.T3t.Vg(),this.T3t.Z_=this.I3t.Z_,this.T3t.ag=this.I3t.ag,this.T3t.xg=this.I3t.xg}this.Ta(Dr.CONNECTED)}}y3t(){if(this.I3t){this.T3t.fn(t.ov,this.handleAirplayPlayerTimeUpdate),this.I3t.Z_=this.T3t.Z_,this.I3t.ag=this.T3t.ag,this.I3t.xg=this.T3t.xg;wn.Fb&&!wn.Ga&&this.WV.ct===1/0?this.D3t?this.I3t.k_=this.D3t:this.I3t.j_=1/0:this.I3t.j_=this.N3t,this.D3t=void 0,this.N3t=void 0,this.I3t.ge(),this.T3t.be(),this.T3t.hg||this.I3t.Vg(),this.WV.Pw=this.I3t,this.T3t.Zn(),this.I3t=void 0}else this.Qo&&(this.Qo.j_=this.Qo.j_+1e-4);this.Ta(Dr.AVAILABLE)}qg(){lg.Ys.ctt&&(this.WMt.Yg(),this.m3t.c_(),this.m3t=new Ao,this.M3t?W(this.v3t(this.m3t.a_)):W(this.S3t(this.m3t.a_)))}async S3t(t){try{await this.T3t.Zn();const i=this.WV.Wa();if(void 0===i)throw new b("Not possible to start Airplay without a source");await this.T3t.ga(i,t);const e=this.T3t.D_(Ho.Tv,t);this.T3t.Vg(),await function(t,i){return ru((e=>Promise.race([t,ye(i,e).then((()=>{throw new b("Timeout")}))])))}(e,3e3),this.T3t.Gg(),Pi(t),this.T3t.qg()}catch(t){if(Oi(t))return;0}}gn(){var t;super.gn(),this.WV.wN(this.T3t),null==(t=this.T3t)||t.gn()}constructor(t,i,e){super(t,i),this.A3t=()=>{var t;const i=null==(t=this.WV.Wa())?void 0:t.sources.filter(Gv);lg.Ys.ctt&&(null==i?void 0:i.some(jI))?this.Ta(Dr.AVAILABLE):this.Ta(Dr.UNAVAILABLE)},this.handleAirplayPlayerTimeUpdate=t=>{this.N3t=t.currentTime,this.D3t=this.WV.k_},this.T3t=e,this.T3t.be(),i.gN(e),this.g3t()}};r();var Es,w4=class extends ra{Kg(){this.E3t.Kg()}get ht(){return this.E3t.ht}get b_(){return this.E3t.b_}get bt(){return this.IB}get j_(){return this.E3t.j_}set j_(t){this.E3t.j_=t}get k_(){return this.E3t.k_}get ct(){return this.E3t.ct}get we(){return this.Us}get R_(){return this.E3t.R_}get lt(){return this.E3t.lt}get F_(){return this.E3t.F_}get G_(){return this.E3t.G_}get W_(){return this.E3t.W_}get Bg(){return this.E3t.Bg}get zg(){return this.E3t.zg}get q_(){return this.E3t.q_}get Z_(){return this.E3t.Z_}set Z_(t){this.E3t.Z_=t}get eg(){return this.E3t.eg}get hg(){return this.E3t.hg}get ag(){return this.E3t.ag}set ag(t){this.E3t.ag=t}get fg(){return this.E3t.fg}get gg(){return this.E3t.gg}set gg(t){this.E3t.gg=t}get vg(){return this.E3t.vg}get yg(){return this.E3t.yg}get Tg(){return this.E3t.Tg}Hg(){return this.E3t.Hg()}qg(){this.E3t.qg()}Xg(){this.E3t.Xg()}get nt(){return this.E3t.nt}get Ig(){return this.E3t.Ig}get Lg(){return this.E3t.Lg}get rt(){return this.E3t.rt}get xg(){return this.E3t.xg}set xg(t){this.E3t.xg=t}Vg(){W(this.E3t.Vg())}Gg(){this.E3t.Gg()}async Wg(){}Wa(){return this.bc}async ga(t,i){let e;if(Pi(i),this.bc=t,Rv(t.sources))e=ka({src:""});else{const i=t.sources.filter(Gv);for(const t of i)if(jI(t)){e=t;break}}if(!e)throw new b("Unsupported source.");await this.E3t.ga(e,t,i),this.OB(e)}OB(t){this.IB!==t&&(this.IB=t,this.Co(new zt(t)))}Ug(){return this.E3t.Ug()}E_(){return[]}Yg(){this.b3t.mR()}Qg(t){Jv(this,t)}Fg(){}Jg(t){return!1}Zg(){this.E3t.Zg()}async Zn(){this.IB=void 0,this.bc=void 0,await this.E3t.Zn()}ge(){this.E3t.ge()}be(){this.E3t.be()}Rg(){return this.E3t.Rg()}async gn(){this.Vo(),this.b3t.gn(),await this.E3t.gn(),this.nN.gn(),this.hN.gn(),this.Dl.gn()}constructor(t,i,e,s,n,r){super(),this.IB=void 0,this.bc=void 0,this.nN=new we,this.hN=new we,this.Dl=new Yu,this.Us=t,this.b3t=new Uy(n,r,1,[rv.vp]),this.b3t.IR(t),this.E3t=new OI(t,this.b3t,i,e,s),this.E3t.m_(this.Ds),this.nN.Pw=this.E3t.ht,this.hN.Pw=this.E3t.rt,this.Dl.Pw=this.E3t.nt}},A4=class extends U{async gn(){this.L3t.gn(),await super.gn()}constructor(i){super(i);const e=new w4(this.T9.we,this.tj,this.wd,this.y9,this.S9,this.Ol);this.L3t=new g4(this,this.T9,e),this.KQ.YW(this.L3t),this.yn(t.IA,(()=>{this.L3t.w3t()}))}};Cj((t=>new A4(t)),tu.q9),r(),r(),r(),r(),function(t){t.DXt="click",t.k3t="continue",t.C3t="end",t.ha="error",t.Ah="fullscreen",t.Mp="metadata",t.xUt="mute",t.iFt="nonlinear",t.Sh="pause",t.dFt="position",t.x3t="ready",t.jUt="resume",t.O3t="seek_end",t.j3t="seek_start",t.z3t="stall",t.act="start",t.Ru="text",t.P3t="linear_event"}(Es||(Es={}));var v4=class{B3t(t){this.R3t=t}U3t(t,i){let e;switch(t){case Es.DXt:e=this.Q3t.CLICK;break;case Es.k3t:e=this.Q3t.CONTINUE;break;case Es.C3t:e=this.Q3t.END;break;case Es.ha:e=this.Q3t.ERROR;break;case Es.Ah:e=this.Q3t.FULLSCREEN;break;case Es.Mp:e=this.Q3t.METADATA;break;case Es.xUt:e=this.Q3t.MUTE;break;case Es.iFt:e=this.Q3t.NONLINEAR;break;case Es.Sh:e=this.Q3t.PAUSE;break;case Es.dFt:e=this.Q3t.POSITION;break;case Es.x3t:e=this.Q3t.READY;break;case Es.jUt:e=this.Q3t.RESUME;break;case Es.O3t:e=this.Q3t.SEEK_END;break;case Es.j3t:e=this.Q3t.SEEK_START;break;case Es.z3t:e=this.Q3t.STALL;break;case Es.act:e=this.Q3t.START;break;case Es.Ru:e=this.Q3t.TEXT;break;case Es.P3t:e=this.Q3t.LINEAR_EVENT}this.R3t.reportPlayerEvent(e,i)}constructor(t){this.Q3t=t}};r(),r();var m4,p4=class{vE(t){t.yn(Cl.xN,this.F3t)}gn(){for(let t of this.Y3t)this.it(t);this.QMt.fn(gt.ew,this.fP)}it(t){if(t.zt===oa.Mp){for(let i of t.L.xw)i.fn(Cl.xN,this.F3t);t.fn(Os.aw,this.Q1),t.fn(Os.cw,this.G3t)}}constructor(t,i){this.QMt=t,this.Bit=i,this.Y3t=[],this.fP=t=>{const i=t.Lt;if(i.zt===oa.Mp){for(let t of i.L.xw)this.V3t(t)&&this.vE(t);i.yn(Os.aw,this.Q1),i.yn(Os.cw,this.G3t),this.Y3t.push(i)}},this.Q1=t=>{this.V3t(t.jN)&&this.vE(t.jN)},this.G3t=t=>{t.jN.fn(Cl.xN,this.F3t)},this.QMt.yn(gt.ew,this.fP)}},y4=class extends p4{W3t(t){return ea(this.H3t,t)}bY(t){var i;const e=function(t,i){if(!t||!i||i.U<=0)return[];const e=t.zN,s=i.xw,n=[];for(let i=tC(t)+1,r=s.length;i<r;i++){const r=s[i],h=r.O;if(e===r.zN&&M4(h)){if(r.O.id===t.O.id)break;n.push(r)}}return n}(t,null==(i=t.Lt)?void 0:i.L);this.q3t(e);const s=[t].concat(e);this.X3t(s)}q3t(t){this.H3t=this.H3t.concat(t)}X3t(t){let i={};for(let e of t){let t=e.O;i[t.id]=t.text}this.Bit.U3t(Es.Mp,i)}Z3t(t){Et(this.H3t,t)}constructor(t,i){super(t,i),this.H3t=[],this.F3t=t=>{let i=t.jN;this.W3t(i)?this.Z3t(i):this.bY(i)},this.V3t=t=>t.O.id&&M4(t.O)}};function M4(t){switch(t.id){case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return!0}return!1}r(),r(),function(t){t.bQt="linear",t.LQt="nonlinear"}(m4||(m4={}));var T4=class{constructor(t,i){this.hA=t,this.YGt=i}},N4=class extends T4{get K3t(){return this.J3t}get fst(){return this.q7}constructor(t,i,e){super("nonlinear",t),this.J3t=i,this.q7=e}},D4=class extends T4{constructor(t){super("linear",t)}};r();var I4,S4="yospace",E4="urn:yospace:a:id3:2016";function b4(t){return Boolean(Pv(t)&&Ig(t,["ssai"])&&function(t){return Boolean(Ig(t,["integration"])&&t.integration===S4)}(t.ssai))}!function(t){t.S="S",t.M="M",t.E="E"}(I4||(I4={}));var L4=class{$3t(t){this.t5t=t}i5t(){let t={AdBreakStart:()=>{this.t5t&&this.t5t.AdBreakStart&&this.t5t.AdBreakStart()},AdvertStart:t=>{this.e5t(),this.t5t&&this.t5t.AdvertStart&&this.t5t.AdvertStart(t)},AdvertEnd:t=>{this.n5t.s5t(),this.t5t&&this.t5t.AdvertEnd&&this.t5t.AdvertEnd(t)},AdBreakEnd:()=>{this.n5t.s5t(),this.t5t&&this.t5t.AdBreakEnd&&this.t5t.AdBreakEnd()},UpdateTimeline:t=>{this.t5t&&this.t5t.UpdateTimeline&&this.t5t.UpdateTimeline(t)},InjectVast:()=>{this.t5t&&this.t5t.InjectVast&&this.t5t.InjectVast()}};this.R3t.registerPlayer(t)}gn(){this.n5t.gn(),this.R3t=void 0,this.r5t&&(m(this.r5t),this.r5t=void 0)}constructor(t,i){this.R3t=t,this.n5t=i,this.e5t=()=>{if(this.r5t&&(m(this.r5t),this.r5t=void 0),this.R3t.session.currentAdvert){let t=this.R3t.session.currentAdvert.advert,i=t.getLinear(),e=t.getNonLinears();const s=[];i&&i.clickThrough&&s.push(new D4(i.clickThrough));const n=e.filter((t=>{const i=t.resources.images||{};return 0!==_.keys(i).length}));if(n.length){const t=function(t){const i=_.keys(t.resources.images);return t.resources.images[i[0]]}(n[0]);t&&s.push(new N4(n[0].clickThrough,t,String(e.indexOf(n[0]))))}this.n5t.h5t(s)}else this.r5t=v(this.e5t,250)},this.i5t()}};r();var k4=class t{h5t(t){for(let i of t)i.hA===m4.bQt?this.o5t(i):this.a5t(i)}a5t(i){let e=h.createElement("img");e.src=i.K3t,e.className="theoplayer-yospace-non-linear-image",e.style.maxWidth="100%";const s=t.P0t(i.YGt,"theoplayer-yospace-advert"),n=lg.Ys.Je?"touchend":"click";s.addEventListener(n,this.u5t),s.setAttribute("data-advertindex",i.fst),s.appendChild(e),s.style.zIndex="10",s.style.position="absolute",this.Us.appendChild(s),this.c5t.push(s)}l5t(){ei(this.d5t),this.d5t=void 0}s5t(){this.l5t(),this.f5t()}o5t(i){this.l5t();let e=t.P0t(i.YGt,"theoplayer-yospace-ad-clickthrough");e.style.zIndex="10";const s=lg.Ys.Je?"touchend":"click";e.addEventListener(s,this._5t),ta(e),this.Us.appendChild(e),this.d5t=e}static P0t(t,i){const e=h.createElement("a");return e.setAttribute("href",t),e.setAttribute("target","Du"),i&&(e.className=i),e.setAttribute("rel","noopener"),e}gn(){this.s5t(),this.Us=void 0}constructor(t,i){this.Us=t,this.Bit=i,this.c5t=[],this._5t=t=>{this.Bit.U3t(Es.DXt),t.stopPropagation()},this.u5t=t=>{const i=t.currentTarget.getAttribute("data-advertindex");i&&(this.Bit.U3t(Es.iFt,i),t.stopPropagation())},this.f5t=()=>{for(let t of this.c5t)t&&t.parentElement&&t.parentElement.removeChild(t);Ri(this.c5t)}}};r();var C4,x4,O4=class extends p4{X3t(t){this.Bit.U3t(Es.Mp,t)}constructor(t,i){super(t,i),this.F3t=t=>{const i=function(t){const i=qh(t),e=i.split(","),s={};for(const t of e){const[i,e]=t.split("=");s[i]=e}return s}(t.jN.O);if(i.YTYP===I4.E){if(j_(this.g5t)&&i.YMID!==this.g5t)return;this.g5t=void 0}else i.YTYP===I4.S&&(this.g5t=i.YMID);this.X3t(i)},this.V3t=t=>{const i=t;return j_(i.IT)&&function(t){return t===E4}(i.IT)}}};!function(t){t[t.w5t=-1]="w5t",t[t.A5t=-2]="A5t",t[t.v5t=-3]="v5t",t[t.m5t=-10]="m5t",t[t.p5t=-11]="p5t"}(C4||(C4={})),function(t){t.y5t="ready",t.M5t="error",t.T5t="no-analytics"}(x4||(x4={}));var j4,z4=class extends i{get va(){return this.Xa}B3t(t,i){this.R3t=t,this.N5t=i,this.N5t.$3t(this.D5t),this.Co(new Ag("sessionavailable"))}fa(){let t=this;return{get session(){return t.R3t&&t.R3t.session},registerPlayer(i){t.D5t=i,t.N5t&&t.N5t.$3t(t.D5t)},addEventListener(i,e){t.yn(i,e)},removeEventListener(i,e){t.fn(i,e)}}}gn(){this.Vo()}constructor(){super(),this.Xa=this.fa()}};!function(t){t[t.jh=0]="jh",t[t.Sh=1]="Sh"}(j4||(j4={}));var P4=class{Gg(){this.I5t?this.S5t=1:this.Qo.E5t()}Vg(){this.I5t?this.S5t=0:this.Qo.b5t()}get L5t(){return this.k5t}C5t(t){-11===t&&ji("A connection has been established with the CSM, but the stream cannot be paused. This is only valid for Linear playback"),this.Qo.x5t(At({},this.bB,{sources:[At({},this.O5t,{src:this.R3t&&this.R3t.masterPlaylist(),type:this.O5t&&this.O5t.type})]})),this.j5t(),0===this.S5t&&this.Qo.b5t()}z5t(t){let i;i=-11===t?"Yospace: A connection has been established with the CSM, but the stream cannot be paused. This is only valid for Linear playback":-2===t?"Yospace: The primary URL is not a valid SSAI stream":-10===t?"Yospace: The stream URL is not correctly formatted":-1===t?"Yospace: Connection error":-3===t?"Yospace: Connection timeout":"Yospace: Session could not be initialised",this.R3t&&(this.R3t.shutdown(),this.R3t=void 0),this.Qo.P5t(new ce(p_.SOURCE_INVALID,i))}ga(t){this.bB=t,this.B5t(),this.O5t=t?X_(t.sources,b4):void 0;let i=!!Ys.YSSessionManager;if(this.O5t,this.O5t&&this.O5t.src&&i){this.I5t=!0;const t=Ys.YSSessionManager;let i;switch(this.O5t.ssai.streamType){case"vod":i=t.createForVoD;break;case"livepause":i=t.createForLivePause;break;case"nonlinear":i=t.createForNonLinear;break;default:i=t.createForLive}const e=i(this.O5t.src,{},this.R5t);if(this.U5t(e),!this.N5t)throw new b("An error occured while instantiating a YospaceSessionManager");this.k5t.B3t(e,this.N5t),this.Q5t=this.startPositionPoller(),this.F5t=this.Qo.Z_}else this.I5t=!1,this.Qo.x5t(t)}U5t(t){this.R3t=t,this.Bit.B3t(this.R3t),this.Y5t&&this.Y5t.gn(),this.Y5t=new y4(this.Qo.nt,this.Bit),this.G5t&&this.G5t.gn(),this.G5t=new O4(this.Qo.nt,this.Bit),this.N5t&&this.N5t.gn();const i=new k4(this.Qo.we,this.Bit);this.N5t=new L4(this.R3t,i)}B5t(){var i;this.Qo.fn("presentationmodechange",this.V5t),this.Qo.fn(t.uv,this.uWt),this.Qo.fn(t.jh,this.W5t),this.Qo.fn(t.jh,this.H5t),this.Qo.fn(t.kA,this.Mh),this.Qo.fn(t.Sh,this.wPt),this.Qo.fn(t.ZA,this.We),this.Qo.fn(t.XA,this.XP),this.Qo.fn(Ho.Mv,this.q5t),this.Qo.fn(Ho.Tv,this.KP),m(this.Q5t),this.Q5t=null,this.S5t=1,this.I5t=!1,null==(i=this.R3t)||i.shutdown(),this.R3t=void 0}gn(){this.B5t(),this.L5t.gn()}constructor(i){this.Bit=new v4(Ys.YSPlayerEvents),this.I5t=!1,this.S5t=1,this.k5t=new z4,this.X5t=!1,this.F5t=!1,this.R5t=(t,i)=>{if(!this.R3t)throw new b("An error occured while instantiating a YospaceSessionManager");if(this.I5t=!1,"ready"===t)this.C5t(i);else this.z5t(i)},this.j5t=()=>{this.Qo.yn("presentationmodechange",this.V5t),this.Qo.yn(t.uv,this.uWt),this.Qo.yn(t.jh,this.W5t),this.Qo.yn(t.kA,this.Mh),this.Qo.yn(t.Sh,this.wPt),this.Qo.yn(t.ZA,this.We),this.Qo.yn(t.XA,this.XP),this.Qo.yn(Ho.Mv,this.q5t),this.Qo.yn(Ho.Tv,this.KP)},this.V5t=()=>{this.Bit.U3t(Es.Ah,this.Qo.cs())},this.uWt=()=>{const t=this.Qo.Z_;t!==this.F5t&&(this.F5t=t,this.Bit.U3t(Es.xUt,t))},this.W5t=()=>{this.Qo.fn(t.jh,this.W5t),this.Qo.yn(t.jh,this.H5t),this.Bit.U3t(Es.act)},this.H5t=()=>{this.Bit.U3t(Es.jUt)},this.Mh=()=>{this.Bit.U3t(Es.C3t)},this.wPt=()=>{this.Bit.U3t(Es.Sh)},this.We=()=>{this.Bit.U3t(Es.j3t)},this.XP=()=>{this.Bit.U3t(Es.O3t)},this.q5t=()=>{this.X5t=!0,this.Bit.U3t(Es.z3t)},this.KP=()=>{this.X5t&&(this.Bit.U3t(Es.k3t),this.X5t=!1)},this.startPositionPoller=()=>{let t=-1;return v((()=>{let i=this.Qo.z_();i!==t&&(t=i,this.Bit.U3t(Es.dFt,i))}),250)},this.Qo=i}};ti((function(t){return class extends t{ga(t){this.vft(),this.Z5t.ga(t)}Vg(){this.Z5t.Vg()}Gg(){this.Z5t.Gg()}Y_(){var t;return null!=(t=this.MP)?t:super.Y_()}Q_(){var t;return null!=(t=this.yP)?t:super.Q_()}x5t(t){super.ga(t)}b5t(){super.Vg()}E5t(){super.Gg()}P5t(t){this.MP=t,this.yP=ne(this.MP),this.Co(new pe(this.MP))}fa(){let t=this.Z5t.L5t;return Ru(super.fa(),{get yospace(){return t.va}})}vft(){this.yP=void 0,this.MP=void 0}gn(){this.Z5t.gn(),super.gn()}constructor(t,i){super(t,i),this.yP=void 0,this.MP=void 0,this.Z5t=new P4(this)}}}),tu.H9),r(),r();var B4="VPAID";function R4(t){return"spotx"===t.integration}Zo.gL.$R(new class t{get $Wt(){return this.K5t.$Wt}JR(t){return R4(t)}tHt(i,e,s){return s.ads||(s.ads=Fv({})),s.ads.vpaidMode=s.ads.vpaidMode||t.J5t(),this.K5t.tHt(i,e,s)}N1(i,e,s,n){!function(t){if(!R4(t))throw new b("Unknown ad integration: "+t.integration)}(i);const r=t.$5t(i,s.we);this.K5t.N1(r,e,s,n)}_F(t){const i=se(t);return i.queryParameters||(i.queryParameters={}),i.custom&&(i.queryParameters.custom?ji('"custom" parameter is redefined in queryParameters! Please use "queryParameters.custom" only!'):(i.queryParameters.custom=i.custom,delete i.custom)),i.app&&(i.queryParameters.app?ji('"app" parameter is redefined in queryParameters! Please use "queryParameters.app" only!'):(i.queryParameters.app=i.app,delete i.app)),i.device&&(i.queryParameters.device?ji('"device" parameter is redefined in queryParameters! Please use "queryParameters.device" only!'):(i.queryParameters.device=i.device,delete i.device)),i.user&&(i.queryParameters.user?ji('"user" parameter is redefined in queryParameters! Please use "queryParameters.user" only!'):(i.queryParameters.user=i.user,delete i.user)),i.ipAddress&&(i.queryParameters.ip_addr?ji('"ipAddress" parameter is redefined in queryParameters! Please use "queryParameters.ip_addr" or "ipAddress" only!'):(i.queryParameters.ip_addr=i.ipAddress,delete i.ipAddress)),i.maximumAdDuration&&(i.queryParameters.VMaxd?ji('"maximumAdDuration" parameter is redefined in queryParameters! Please use "queryParameters.VMaxd" or "maximumAdDuration" only!'):(i.queryParameters.VMaxd=i.maximumAdDuration,delete i.maximumAdDuration)),i}static $5t(i,e){return{integration:uS.SPOTX,sources:{src:t.t6t(i,Ys.location.href,e.offsetWidth,e.offsetHeight,wn.oL)}}}static t6t(i,e,s,n,r){if(i.sources)return i.sources;let h=n,o=s;r&&0===o&&(o=320,h=180);const a={custom_skin:1,player_width:o,player_height:h};i.cacheBuster&&(a.cb=x.random()),t.i6t(e)&&(a.content_page_url=e);const u=At({},a,i.queryParameters);return u[B4]||u.VPI||(u[B4]="js"),"https://search.spotxchange.com/vast/2.0/"+i.id+"?"+t.e6t(u)}static i6t(t){return tw(t,"http://")||tw(t,"https://")}static e6t(t){return DJ(t)}static J5t(){return wn.Lb?hv.ENABLED:hv.INSECURE}constructor(){this.K5t=new x0}}),r(),r(),r(),r();var lr=void 0!==s?s:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},U4=function(){return/Android/i.test(sd.userAgent)||/iPhone|iPad|iPod/i.test(sd.userAgent)},Q4=function(t,i){for(var e=0,s=t.length;e<s;e++)i[e]=t[e]},F4=function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t},Y4=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),_.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}(),G4=function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in _(t))return function(t,i){var e=[],s=!0,n=!1,r=void 0;try{for(var h,o=t[Symbol.iterator]();!(s=(h=o.next()).done)&&(e.push(h.value),!i||e.length!==i);s=!0);}catch(t){n=!0,r=t}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}return e}(t,i);throw new k("Invalid attempt to destructure non-iterable instance")},V4=function(t,i,e){return t+(i-t)*e},cl=function(){var t=/iPad|iPhone|iPod/.test(sd.platform);return function(){return t}}(),W4=function(){var t=-1!==sd.userAgent.indexOf("Version")&&-1!==sd.userAgent.indexOf("Android")&&-1!==sd.userAgent.indexOf("Chrome");return function(){return t}}(),H4=(function(){var t=/^((?!chrome|android).)*safari/i.test(sd.userAgent)}(),function(){var t=-1!==sd.userAgent.indexOf("Firefox")&&-1!==sd.userAgent.indexOf("Android");return function(){return t}}()),q4=function(){var t=sd.userAgent.match(/.*Chrome\/([0-9]+)/),i=t?C(t[1],10):null;return function(){return i}}(),X4=function(){var t=!1;if(65===q4()){var i=sd.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(i){var e=i[1].split("."),s=G4(e,4),n=(s[0],s[1],s[2]),r=s[3];t=3325===C(n,10)&&C(r,10)<148}}return function(){return t}}(),Z4=function(){var t=-1!==sd.userAgent.indexOf("R7 Build");return function(){return t}}(),K4=function(){var t=90==s.orientation||-90==s.orientation;return Z4()?!t:t},J4=function(){return x.max(s.screen.width,s.screen.height)*s.devicePixelRatio},$4=function(){return x.min(s.screen.width,s.screen.height)*s.devicePixelRatio},t2=function(){if(h.exitFullscreen)h.exitFullscreen();else if(h.webkitExitFullscreen)h.webkitExitFullscreen();else if(h.mozCancelFullScreen)h.mozCancelFullScreen();else{if(!h.msExitFullscreen)return!1;h.msExitFullscreen()}return!0},i2=function(t,i,e,s){var n=t.createShader(t.VERTEX_SHADER);t.shaderSource(n,i),t.compileShader(n);var r=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(r,e),t.compileShader(r);var h=t.createProgram();for(var o in t.attachShader(h,n),t.attachShader(h,r),s)t.bindAttribLocation(h,s[o],o);return t.linkProgram(h),t.deleteShader(n),t.deleteShader(r),h},e2=function(t,i){for(var e={},s=t.getProgramParameter(i,t.ACTIVE_UNIFORMS),n="",r=0;r<s;r++){e[n=t.getActiveUniform(i,r).name.replace("[0]","")]=t.getUniformLocation(i,n)}return e},s2=function(){var t,i=!1;return t=sd.userAgent||sd.vendor||s.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(i=!0),i},n2=function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t},Gr=[],r2=function(t){if(cl()){h2(t);var i,e,n=t.style.width,r=t.style.height,h=t.offsetWidth+1,o=t.offsetHeight;t.style.width=h+"px",t.style.height=o+"px";var a=function(){s.cancelAnimationFrame(e);for(var h=0;h<Gr.length;h++)if(Gr[h]===i){t.style.width=n,t.style.height=r,Gr.splice(h,1);break}};i={j9:t,s6t:a},Gr.push(i),e=s.requestAnimationFrame(a)}},h2=function(t){if(cl())for(var i=0;i<Gr.length;i++)if(Gr[i].j9===t){Gr[i].s6t();break}},o2=function(){var t=x.PI/180,i=.25*x.PI;var e=new Float32Array([0,0,0,1]),s=new Float32Array([0,0,0]);function n(n,r,h,o,a,u){!function(e,s,n,r){var h=x.tan(s?s.upDegrees*t:i),o=x.tan(s?s.downDegrees*t:i),a=x.tan(s?s.leftDegrees*t:i),u=x.tan(s?s.rightDegrees*t:i),c=2/(a+u),l=2/(h+o);e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-(a-u)*c*.5,e[9]=(h-o)*l*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0}(n,o||null,u.depthNear,u.depthFar),function(t,i,e){var s=i[0],n=i[1],r=i[2],h=i[3],o=s+s,a=n+n,u=r+r,c=s*o,l=s*a,d=s*u,f=n*a,_=n*u,g=r*u,w=h*o,A=h*a,v=h*u;t[0]=1-(f+g),t[1]=l+v,t[2]=d-A,t[3]=0,t[4]=l-v,t[5]=1-(c+g),t[6]=_+w,t[7]=0,t[8]=d+A,t[9]=_-w,t[10]=1-(c+f),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1}(r,h.orientation||e,h.position||s),a&&function(t,i,e){var s,n,r,h,o,a,u,c,l,d,f,_,g=e[0],w=e[1],A=e[2];i===t?(t[12]=i[0]*g+i[4]*w+i[8]*A+i[12],t[13]=i[1]*g+i[5]*w+i[9]*A+i[13],t[14]=i[2]*g+i[6]*w+i[10]*A+i[14],t[15]=i[3]*g+i[7]*w+i[11]*A+i[15]):(s=i[0],n=i[1],r=i[2],h=i[3],o=i[4],a=i[5],u=i[6],c=i[7],l=i[8],d=i[9],f=i[10],_=i[11],t[0]=s,t[1]=n,t[2]=r,t[3]=h,t[4]=o,t[5]=a,t[6]=u,t[7]=c,t[8]=l,t[9]=d,t[10]=f,t[11]=_,t[12]=s*g+o*w+l*A+i[12],t[13]=n*g+a*w+d*A+i[13],t[14]=r*g+u*w+f*A+i[14],t[15]=h*g+c*w+_*A+i[15])}(r,r,a),function(t,i){var e=i[0],s=i[1],n=i[2],r=i[3],h=i[4],o=i[5],a=i[6],u=i[7],c=i[8],l=i[9],d=i[10],f=i[11],_=i[12],g=i[13],w=i[14],A=i[15],v=e*o-s*h,m=e*a-n*h,p=e*u-r*h,y=s*a-n*o,M=s*u-r*o,T=n*u-r*a,N=c*g-l*_,D=c*w-d*_,I=c*A-f*_,S=l*w-d*g,E=l*A-f*g,b=d*A-f*w,L=v*b-m*E+p*S+y*I-M*D+T*N;L&&(L=1/L,t[0]=(o*b-a*E+u*S)*L,t[1]=(n*E-s*b-r*S)*L,t[2]=(g*T-w*M+A*y)*L,t[3]=(d*M-l*T-f*y)*L,t[4]=(a*I-h*b-u*D)*L,t[5]=(e*b-n*I+r*D)*L,t[6]=(w*p-_*T-A*m)*L,t[7]=(c*T-d*p+f*m)*L,t[8]=(h*E-o*I+u*N)*L,t[9]=(s*I-e*E-r*N)*L,t[10]=(_*M-g*p+A*v)*L,t[11]=(l*p-c*M-f*v)*L,t[12]=(o*D-h*S-a*N)*L,t[13]=(e*S-s*D+n*N)*L,t[14]=(g*m-_*y-w*v)*L,t[15]=(c*y-l*m+d*v)*L)}(r,r)}return function(t,i,e){return!(!t||!i)&&(t.pose=i,t.timestamp=i.timestamp,n(t.leftProjectionMatrix,t.leftViewMatrix,i,e.n6t("left"),e.r6t("left"),e),n(t.rightProjectionMatrix,t.rightViewMatrix,i,e.n6t("right"),e.r6t("right"),e),!0)}}(),a2=function(t){var i,e=t.indexOf("://");i=-1!==e?e+3:0;var s=t.indexOf("/",i);return-1===s&&(s=t.length),t.substring(0,s)},u2=function(){var t={};return function(i,e){void 0===t[i]&&(console.warn("webvr-polyfill: "+e),t[i]=!0)}}(),Wh=function(t,i){u2(t,t+" has been deprecated. This may not work on native WebVR displays. "+(i?"Please use "+i+" instead.":""))};var c2=function(t,i,e){if(i){for(var s=[],n=null,r=0;r<i.length;++r){switch(h=i[r]){case t.TEXTURE_BINDING_2D:case t.TEXTURE_BINDING_CUBE_MAP:if((a=i[++r])<t.TEXTURE0||a>t.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),s.push(null,null);break}n||(n=t.getParameter(t.ACTIVE_TEXTURE)),t.activeTexture(a),s.push(t.getParameter(h),null);break;case t.ACTIVE_TEXTURE:n=t.getParameter(t.ACTIVE_TEXTURE),s.push(null);break;default:s.push(t.getParameter(h))}}e(t);for(r=0;r<i.length;++r){var h=i[r],o=s[r];switch(h){case t.ACTIVE_TEXTURE:break;case t.ARRAY_BUFFER_BINDING:t.bindBuffer(t.ARRAY_BUFFER,o);break;case t.COLOR_CLEAR_VALUE:t.clearColor(o[0],o[1],o[2],o[3]);break;case t.COLOR_WRITEMASK:t.colorMask(o[0],o[1],o[2],o[3]);break;case t.CURRENT_PROGRAM:t.useProgram(o);break;case t.ELEMENT_ARRAY_BUFFER_BINDING:t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,o);break;case t.FRAMEBUFFER_BINDING:t.bindFramebuffer(t.FRAMEBUFFER,o);break;case t.RENDERBUFFER_BINDING:t.bindRenderbuffer(t.RENDERBUFFER,o);break;case t.TEXTURE_BINDING_2D:if((a=i[++r])<t.TEXTURE0||a>t.TEXTURE31)break;t.activeTexture(a),t.bindTexture(t.TEXTURE_2D,o);break;case t.TEXTURE_BINDING_CUBE_MAP:var a;if((a=i[++r])<t.TEXTURE0||a>t.TEXTURE31)break;t.activeTexture(a),t.bindTexture(t.TEXTURE_CUBE_MAP,o);break;case t.VIEWPORT:t.viewport(o[0],o[1],o[2],o[3]);break;case t.BLEND:case t.CULL_FACE:case t.DEPTH_TEST:case t.SCISSOR_TEST:case t.STENCIL_TEST:o?t.enable(h):t.disable(h);break;default:console.log("No GL restore behavior for 0x"+h.toString(16))}n&&t.activeTexture(n)}}else e(t)},l2=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),d2=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");function f2(t,i,e,s){this.gl=t,this.cardboardUI=i,this.bufferScale=e,this.dirtySubmitFrameBindings=s,this.ctxAttribs=t.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=t.drawingBufferWidth,this.bufferHeight=t.drawingBufferHeight,this.realBindFramebuffer=t.bindFramebuffer,this.realEnable=t.enable,this.realDisable=t.disable,this.realColorMask=t.colorMask,this.realClearColor=t.clearColor,this.realViewport=t.viewport,cl()||(this.realCanvasWidth=_.getOwnPropertyDescriptor(t.canvas.__proto__,"width"),this.realCanvasHeight=_.getOwnPropertyDescriptor(t.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=i2(t,l2,d2,this.attribs),this.uniforms=e2(t,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.indexCount=0,this.renderTarget=t.createTexture(),this.framebuffer=t.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=t.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=t.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=t.createRenderbuffer()),this.patch(),this.onResize()}f2.prototype.destroy=function(){var t=this.gl;this.unpatch(),t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer),t.deleteTexture(this.renderTarget),t.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&t.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&t.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&t.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},f2.prototype.onResize=function(){var t=this.gl,i=this,e=[t.RENDERBUFFER_BINDING,t.TEXTURE_BINDING_2D,t.TEXTURE0];c2(t,e,(function(t){i.realBindFramebuffer.call(t,t.FRAMEBUFFER,null),i.scissorTest&&i.realDisable.call(t,t.SCISSOR_TEST),i.realColorMask.call(t,!0,!0,!0,!0),i.realViewport.call(t,0,0,t.drawingBufferWidth,t.drawingBufferHeight),i.realClearColor.call(t,0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),i.realBindFramebuffer.call(t,t.FRAMEBUFFER,i.framebuffer),t.bindTexture(t.TEXTURE_2D,i.renderTarget),t.texImage2D(t.TEXTURE_2D,0,i.ctxAttribs.alpha?t.RGBA:t.RGB,i.bufferWidth,i.bufferHeight,0,i.ctxAttribs.alpha?t.RGBA:t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i.renderTarget,0),i.ctxAttribs.depth&&i.ctxAttribs.stencil?(t.bindRenderbuffer(t.RENDERBUFFER,i.depthStencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,i.bufferWidth,i.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,i.depthStencilBuffer)):i.ctxAttribs.depth?(t.bindRenderbuffer(t.RENDERBUFFER,i.depthBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,i.bufferWidth,i.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,i.depthBuffer)):i.ctxAttribs.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,i.stencilBuffer),t.renderbufferStorage(t.RENDERBUFFER,t.STENCIL_INDEX8,i.bufferWidth,i.bufferHeight),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.STENCIL_ATTACHMENT,t.RENDERBUFFER,i.stencilBuffer)),!t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),i.realBindFramebuffer.call(t,t.FRAMEBUFFER,i.lastBoundFramebuffer),i.scissorTest&&i.realEnable.call(t,t.SCISSOR_TEST),i.realColorMask.apply(t,i.colorMask),i.realViewport.apply(t,i.viewport),i.realClearColor.apply(t,i.clearColor)})),this.cardboardUI&&this.cardboardUI.onResize()},f2.prototype.patch=function(){if(!this.isPatched){var t=this,i=this.gl.canvas,e=this.gl;cl()||(i.width=J4()*this.bufferScale,i.height=$4()*this.bufferScale,_.defineProperty(i,"width",{configurable:!0,enumerable:!0,get:function(){return t.bufferWidth},set:function(e){t.bufferWidth=e,t.realCanvasWidth.set.call(i,e),t.onResize()}}),_.defineProperty(i,"height",{configurable:!0,enumerable:!0,get:function(){return t.bufferHeight},set:function(e){t.bufferHeight=e,t.realCanvasHeight.set.call(i,e),t.onResize()}})),this.lastBoundFramebuffer=e.getParameter(e.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(i,s){t.lastBoundFramebuffer=s||t.framebuffer,t.realBindFramebuffer.call(e,i,t.lastBoundFramebuffer)},this.cullFace=e.getParameter(e.CULL_FACE),this.depthTest=e.getParameter(e.DEPTH_TEST),this.blend=e.getParameter(e.BLEND),this.scissorTest=e.getParameter(e.SCISSOR_TEST),this.stencilTest=e.getParameter(e.STENCIL_TEST),e.enable=function(i){switch(i){case e.CULL_FACE:t.cullFace=!0;break;case e.DEPTH_TEST:t.depthTest=!0;break;case e.BLEND:t.blend=!0;break;case e.SCISSOR_TEST:t.scissorTest=!0;break;case e.STENCIL_TEST:t.stencilTest=!0}t.realEnable.call(e,i)},e.disable=function(i){switch(i){case e.CULL_FACE:t.cullFace=!1;break;case e.DEPTH_TEST:t.depthTest=!1;break;case e.BLEND:t.blend=!1;break;case e.SCISSOR_TEST:t.scissorTest=!1;break;case e.STENCIL_TEST:t.stencilTest=!1}t.realDisable.call(e,i)},this.colorMask=e.getParameter(e.COLOR_WRITEMASK),e.colorMask=function(i,s,n,r){t.colorMask[0]=i,t.colorMask[1]=s,t.colorMask[2]=n,t.colorMask[3]=r,t.realColorMask.call(e,i,s,n,r)},this.clearColor=e.getParameter(e.COLOR_CLEAR_VALUE),e.clearColor=function(i,s,n,r){t.clearColor[0]=i,t.clearColor[1]=s,t.clearColor[2]=n,t.clearColor[3]=r,t.realClearColor.call(e,i,s,n,r)},this.viewport=e.getParameter(e.VIEWPORT),e.viewport=function(i,s,n,r){t.viewport[0]=i,t.viewport[1]=s,t.viewport[2]=n,t.viewport[3]=r,t.realViewport.call(e,i,s,n,r)},this.isPatched=!0,r2(i)}},f2.prototype.unpatch=function(){if(this.isPatched){var t=this.gl,i=this.gl.canvas;cl()||(_.defineProperty(i,"width",this.realCanvasWidth),_.defineProperty(i,"height",this.realCanvasHeight)),i.width=this.bufferWidth,i.height=this.bufferHeight,t.bindFramebuffer=this.realBindFramebuffer,t.enable=this.realEnable,t.disable=this.realDisable,t.colorMask=this.realColorMask,t.clearColor=this.realClearColor,t.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&t.bindFramebuffer(t.FRAMEBUFFER,null),this.isPatched=!1,u((function(){r2(i)}),1)}},f2.prototype.setTextureBounds=function(t,i){t||(t=[0,0,.5,1]),i||(i=[.5,0,.5,1]),this.viewportOffsetScale[0]=t[0],this.viewportOffsetScale[1]=t[1],this.viewportOffsetScale[2]=t[2],this.viewportOffsetScale[3]=t[3],this.viewportOffsetScale[4]=i[0],this.viewportOffsetScale[5]=i[1],this.viewportOffsetScale[6]=i[2],this.viewportOffsetScale[7]=i[3]},f2.prototype.submitFrame=function(){var t=this.gl,i=this,e=[];if(this.dirtySubmitFrameBindings||e.push(t.CURRENT_PROGRAM,t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING,t.TEXTURE_BINDING_2D,t.TEXTURE0),c2(t,e,(function(t){i.realBindFramebuffer.call(t,t.FRAMEBUFFER,null),i.cullFace&&i.realDisable.call(t,t.CULL_FACE),i.depthTest&&i.realDisable.call(t,t.DEPTH_TEST),i.blend&&i.realDisable.call(t,t.BLEND),i.scissorTest&&i.realDisable.call(t,t.SCISSOR_TEST),i.stencilTest&&i.realDisable.call(t,t.STENCIL_TEST),i.realColorMask.call(t,!0,!0,!0,!0),i.realViewport.call(t,0,0,t.drawingBufferWidth,t.drawingBufferHeight),(i.ctxAttribs.alpha||cl())&&(i.realClearColor.call(t,0,0,0,1),t.clear(t.COLOR_BUFFER_BIT)),t.useProgram(i.program),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i.indexBuffer),t.bindBuffer(t.ARRAY_BUFFER,i.vertexBuffer),t.enableVertexAttribArray(i.attribs.position),t.enableVertexAttribArray(i.attribs.texCoord),t.vertexAttribPointer(i.attribs.position,2,t.FLOAT,!1,20,0),t.vertexAttribPointer(i.attribs.texCoord,3,t.FLOAT,!1,20,8),t.activeTexture(t.TEXTURE0),t.uniform1i(i.uniforms.diffuse,0),t.bindTexture(t.TEXTURE_2D,i.renderTarget),t.uniform4fv(i.uniforms.viewportOffsetScale,i.viewportOffsetScale),t.drawElements(t.TRIANGLES,i.indexCount,t.UNSIGNED_SHORT,0),i.cardboardUI&&i.cardboardUI.renderNoState(),i.realBindFramebuffer.call(i.gl,t.FRAMEBUFFER,i.framebuffer),i.ctxAttribs.preserveDrawingBuffer||(i.realClearColor.call(t,0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)),i.dirtySubmitFrameBindings||i.realBindFramebuffer.call(t,t.FRAMEBUFFER,i.lastBoundFramebuffer),i.cullFace&&i.realEnable.call(t,t.CULL_FACE),i.depthTest&&i.realEnable.call(t,t.DEPTH_TEST),i.blend&&i.realEnable.call(t,t.BLEND),i.scissorTest&&i.realEnable.call(t,t.SCISSOR_TEST),i.stencilTest&&i.realEnable.call(t,t.STENCIL_TEST),i.realColorMask.apply(t,i.colorMask),i.realViewport.apply(t,i.viewport),!i.ctxAttribs.alpha&&i.ctxAttribs.preserveDrawingBuffer||i.realClearColor.apply(t,i.clearColor)})),cl()){var s=t.canvas;s.width==i.bufferWidth&&s.height==i.bufferHeight||(i.bufferWidth=s.width,i.bufferHeight=s.height,i.onResize())}},f2.prototype.updateDeviceInfo=function(t){var i=this.gl,e=this,s=[i.ARRAY_BUFFER_BINDING,i.ELEMENT_ARRAY_BUFFER_BINDING];c2(i,s,(function(i){var s=e.h6t(e.meshWidth,e.meshHeight,t);if(i.bindBuffer(i.ARRAY_BUFFER,e.vertexBuffer),i.bufferData(i.ARRAY_BUFFER,s,i.STATIC_DRAW),!e.indexCount){var n=e.o6t(e.meshWidth,e.meshHeight);i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.indexBuffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,n,i.STATIC_DRAW),e.indexCount=n.length}}))},f2.prototype.h6t=function(t,i,e){for(var s=new Float32Array(2*t*i*5),n=e.getLeftEyeVisibleTanAngles(),r=e.getLeftEyeNoLensTanAngles(),h=e.getLeftEyeVisibleScreenRect(r),o=0,a=0;a<2;a++){for(var u=0;u<i;u++)for(var c=0;c<t;c++,o++){var l=c/(t-1),d=u/(i-1),f=l,_=d,g=V4(n[0],n[2],l),w=V4(n[3],n[1],d),A=x.sqrt(g*g+w*w),v=e.distortion.distortInverse(A),m=w*v/A;l=(g*v/A-r[0])/(r[2]-r[0]),d=(m-r[3])/(r[1]-r[3]),l=2*(h.x+l*h.width-.5),d=2*(h.y+d*h.height-.5),s[5*o+0]=l,s[5*o+1]=d,s[5*o+2]=f,s[5*o+3]=_,s[5*o+4]=a}var p=n[2]-n[0];n[0]=-(p+n[0]),n[2]=p-n[2],p=r[2]-r[0],r[0]=-(p+r[0]),r[2]=p-r[2],h.x=1-(h.x+h.width)}return s},f2.prototype.o6t=function(t,i){for(var e=new Uint16Array(2*(t-1)*(i-1)*6),s=t/2,n=i/2,r=0,h=0,o=0;o<2;o++)for(var a=0;a<i;a++)for(var u=0;u<t;u++,r++)0!=u&&0!=a&&(u<=s==a<=n?(e[h++]=r,e[h++]=r-t-1,e[h++]=r-t,e[h++]=r-t-1,e[h++]=r,e[h++]=r-1):(e[h++]=r-1,e[h++]=r-t,e[h++]=r,e[h++]=r-t,e[h++]=r-1,e[h++]=r-t-1));return e},f2.prototype.a6t=function(t,i){var e=_.getOwnPropertyDescriptor(t,i);return void 0!==e.get&&void 0!==e.set||(e.configurable=!0,e.enumerable=!0,e.get=function(){return this.getAttribute(i)},e.set=function(t){this.setAttribute(i,t)}),e};var _2=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),g2=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),w2=x.PI/180,A2=.3125,ph=28;function lh(t){this.gl=t,this.attribs={position:0},this.program=i2(t,_2,g2,this.attribs),this.uniforms=e2(t,this.program),this.vertexBuffer=t.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}function v2(t){this.coefficients=t}lh.prototype.destroy=function(){var t=this.gl;this.listener&&t.canvas.removeEventListener("click",this.listener,!1),t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer)},lh.prototype.listen=function(t,i){var e=this.gl.canvas,s="undefined"!=typeof TouchEvent;this.listener=function(n){var r=e.clientWidth/2,h=s&&n instanceof TouchEvent?(n.preventDefault(),n.changedTouches[0]):n;h.clientX>r-42&&h.clientX<r+42&&h.clientY>e.clientHeight-42?(n.preventDefault(),n.stopImmediatePropagation(),t(n)):h.clientX<42&&h.clientY<42&&(n.preventDefault(),n.stopImmediatePropagation(),i(n))},e.addEventListener("click",this.listener,!1),e.addEventListener("touchstart",this.listener,!1)},lh.prototype.onResize=function(){var t=this.gl,i=this,e=[t.ARRAY_BUFFER_BINDING];c2(t,e,(function(t){var e=[],n=t.drawingBufferWidth/2,r=x.max(screen.width,screen.height)*s.devicePixelRatio,h=t.drawingBufferWidth/r*s.devicePixelRatio,o=4*h/2,a=42*h,u=ph*h/2,c=14*h;function l(t,i){var s=(90-t)*w2,r=x.cos(s),h=x.sin(s);e.push(A2*r*u+n,A2*h*u+u),e.push(i*r*u+n,i*h*u+u)}e.push(n-o,a),e.push(n-o,t.drawingBufferHeight),e.push(n+o,a),e.push(n+o,t.drawingBufferHeight),i.gearOffset=e.length/2;for(var d=0;d<=6;d++){var f=60*d;l(f,1),l(f+12,1),l(f+20,.75),l(f+40,.75),l(f+48,1)}function _(i,s){e.push(c+i,t.drawingBufferHeight-c-s)}i.gearVertexCount=e.length/2-i.gearOffset,i.arrowOffset=e.length/2;var g=o/x.sin(45*w2);_(0,u),_(u,0),_(u+g,g),_(g,u+g),_(g,u-g),_(0,u),_(u,2*u),_(u+g,2*u-g),_(g,u-g),_(0,u),_(g,u-o),_(ph*h,u-o),_(g,u+o),_(ph*h,u+o),i.arrowVertexCount=e.length/2-i.arrowOffset,t.bindBuffer(t.ARRAY_BUFFER,i.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW)}))},lh.prototype.render=function(){var t=this.gl,i=this,e=[t.CULL_FACE,t.DEPTH_TEST,t.BLEND,t.SCISSOR_TEST,t.STENCIL_TEST,t.COLOR_WRITEMASK,t.VIEWPORT,t.CURRENT_PROGRAM,t.ARRAY_BUFFER_BINDING];c2(t,e,(function(t){t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.BLEND),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.colorMask(!0,!0,!0,!0),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),i.renderNoState()}))},lh.prototype.renderNoState=function(){var t,i,e,s,n,r,h,o,a,u,c=this.gl;c.useProgram(this.program),c.bindBuffer(c.ARRAY_BUFFER,this.vertexBuffer),c.enableVertexAttribArray(this.attribs.position),c.vertexAttribPointer(this.attribs.position,2,c.FLOAT,!1,8,0),c.uniform4f(this.uniforms.color,1,1,1,1),t=this.projMat,i=0,e=c.drawingBufferWidth,s=0,n=c.drawingBufferHeight,o=1/(i-e),a=1/(s-n),u=1/((r=.1)-(h=1024)),t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(i+e)*o,t[13]=(n+s)*a,t[14]=(h+r)*u,t[15]=1,c.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),c.drawArrays(c.TRIANGLE_STRIP,0,4),c.drawArrays(c.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),c.drawArrays(c.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},v2.prototype.distortInverse=function(t){for(var i=0,e=1,s=t-this.distort(i);x.abs(e-i)>1e-4;){var n=t-this.distort(e),r=e-n*((e-i)/(n-s));i=e,e=r,s=n}return e},v2.prototype.distort=function(t){for(var i=t*t,e=0,s=0;s<this.coefficients.length;s++)e=i*(e+this.coefficients[s]);return(e+1)*t};var m2=x.PI/180,p2=180/x.PI,Re=function(t,i,e){this.x=t||0,this.y=i||0,this.z=e||0};Re.prototype={constructor:Re,set:function(t,i,e){return this.x=t,this.y=i,this.z=e,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},length:function(){return x.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var t=this.length();if(0!==t){var i=1/t;this.multiplyScalar(i)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(t){this.x*=t,this.y*=t,this.z*=t},applyQuaternion:function(t){var i=this.x,e=this.y,s=this.z,n=t.x,r=t.y,h=t.z,o=t.w,a=o*i+r*s-h*e,u=o*e+h*i-n*s,c=o*s+n*e-r*i,l=-n*i-r*e-h*s;return this.x=a*o+l*-n+u*-h-c*-r,this.y=u*o+l*-r+c*-n-a*-h,this.z=c*o+l*-h+a*-r-u*-n,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},crossVectors:function(t,i){var e=t.x,s=t.y,n=t.z,r=i.x,h=i.y,o=i.z;return this.x=s*o-n*h,this.y=n*r-e*o,this.z=e*h-s*r,this}};var hs=function(t,i,e,s){this.x=t||0,this.y=i||0,this.z=e||0,this.w=void 0!==s?s:1};function y2(t){this.width=t.width||J4(),this.height=t.height||$4(),this.widthMeters=t.widthMeters,this.heightMeters=t.heightMeters,this.bevelMeters=t.bevelMeters}hs.prototype={constructor:hs,set:function(t,i,e,s){return this.x=t,this.y=i,this.z=e,this.w=s,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},setFromEulerXYZ:function(t,i,e){var s=x.cos(t/2),n=x.cos(i/2),r=x.cos(e/2),h=x.sin(t/2),o=x.sin(i/2),a=x.sin(e/2);return this.x=h*n*r+s*o*a,this.y=s*o*r-h*n*a,this.z=s*n*a+h*o*r,this.w=s*n*r-h*o*a,this},setFromEulerYXZ:function(t,i,e){var s=x.cos(t/2),n=x.cos(i/2),r=x.cos(e/2),h=x.sin(t/2),o=x.sin(i/2),a=x.sin(e/2);return this.x=h*n*r+s*o*a,this.y=s*o*r-h*n*a,this.z=s*n*a-h*o*r,this.w=s*n*r+h*o*a,this},setFromAxisAngle:function(t,i){var e=i/2,s=x.sin(e);return this.x=t.x*s,this.y=t.y*s,this.z=t.z*s,this.w=x.cos(e),this},multiply:function(t){return this.multiplyQuaternions(this,t)},multiplyQuaternions:function(t,i){var e=t.x,s=t.y,n=t.z,r=t.w,h=i.x,o=i.y,a=i.z,u=i.w;return this.x=e*u+r*h+s*a-n*o,this.y=s*u+r*o+n*h-e*a,this.z=n*u+r*a+e*o-s*h,this.w=r*u-e*h-s*o-n*a,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var t=x.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},slerp:function(t,i){if(0===i)return this;if(1===i)return this.copy(t);var e=this.x,s=this.y,n=this.z,r=this.w,h=r*t.w+e*t.x+s*t.y+n*t.z;if(h<0?(this.w=-t.w,this.x=-t.x,this.y=-t.y,this.z=-t.z,h=-h):this.copy(t),h>=1)return this.w=r,this.x=e,this.y=s,this.z=n,this;var o=x.acos(h),a=x.sqrt(1-h*h);if(x.abs(a)<.001)return this.w=.5*(r+this.w),this.x=.5*(e+this.x),this.y=.5*(s+this.y),this.z=.5*(n+this.z),this;var u=x.sin((1-i)*o)/a,c=x.sin(i*o)/a;return this.w=r*u+this.w*c,this.x=e*u+this.x*c,this.y=s*u+this.y*c,this.z=n*u+this.z*c,this},setFromUnitVectors:function(){var t,i;return function(e,s){return void 0===t&&(t=new Re),(i=e.dot(s)+1)<1e-6?(i=0,x.abs(e.x)>x.abs(e.z)?t.set(-e.y,e.x,0):t.set(0,-e.z,e.y)):t.crossVectors(e,s),this.x=t.x,this.y=t.y,this.z=t.z,this.w=i,this.normalize(),this}}()};var M2=new y2({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),T2=new y2({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),N2={CardboardV1:new D2({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new D2({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function sa(t){this.viewer=N2.CardboardV2,this.updateDeviceParams(t),this.distortion=new v2(this.viewer.distortionCoefficients)}function D2(t){this.id=t.id,this.label=t.label,this.fov=t.fov,this.interLensDistance=t.interLensDistance,this.baselineLensDistance=t.baselineLensDistance,this.screenLensDistance=t.screenLensDistance,this.distortionCoefficients=t.distortionCoefficients,this.inverseCoefficients=t.inverseCoefficients}sa.prototype.updateDeviceParams=function(t){this.device=this.u6t(t)||this.device},sa.prototype.getDevice=function(){return this.device},sa.prototype.setViewer=function(t){this.viewer=t,this.distortion=new v2(this.viewer.distortionCoefficients)},sa.prototype.u6t=function(t){if(!t)return cl()?(console.warn("Using fallback iOS device measurements."),T2):(console.warn("Using fallback Android device measurements."),M2);var i=.0254,e=i/t.xdpi,s=i/t.ydpi;return new y2({widthMeters:e*J4(),heightMeters:s*$4(),bevelMeters:.001*t.bevelMm})},sa.prototype.getDistortedFieldOfViewLeftEye=function(){var t=this.viewer,i=this.device,e=this.distortion,s=t.screenLensDistance,n=(i.widthMeters-t.interLensDistance)/2,r=t.interLensDistance/2,h=t.baselineLensDistance-i.bevelMeters,o=i.heightMeters-h,a=p2*x.atan(e.distort(n/s)),u=p2*x.atan(e.distort(r/s)),c=p2*x.atan(e.distort(h/s)),l=p2*x.atan(e.distort(o/s));return{leftDegrees:x.min(a,t.fov),rightDegrees:x.min(u,t.fov),downDegrees:x.min(c,t.fov),upDegrees:x.min(l,t.fov)}},sa.prototype.getLeftEyeVisibleTanAngles=function(){var t=this.viewer,i=this.device,e=this.distortion,s=x.tan(-m2*t.fov),n=x.tan(m2*t.fov),r=x.tan(m2*t.fov),h=x.tan(-m2*t.fov),o=i.widthMeters/4,a=i.heightMeters/2,u=t.baselineLensDistance-i.bevelMeters-a,c=t.interLensDistance/2-o,l=-u,d=t.screenLensDistance,f=e.distort((c-o)/d),_=e.distort((l+a)/d),g=e.distort((c+o)/d),w=e.distort((l-a)/d),A=new Float32Array(4);return A[0]=x.max(s,f),A[1]=x.min(n,_),A[2]=x.min(r,g),A[3]=x.max(h,w),A},sa.prototype.getLeftEyeNoLensTanAngles=function(){var t=this.viewer,i=this.device,e=this.distortion,s=new Float32Array(4),n=e.distortInverse(x.tan(-m2*t.fov)),r=e.distortInverse(x.tan(m2*t.fov)),h=e.distortInverse(x.tan(m2*t.fov)),o=e.distortInverse(x.tan(-m2*t.fov)),a=i.widthMeters/4,u=i.heightMeters/2,c=t.baselineLensDistance-i.bevelMeters-u,l=t.interLensDistance/2-a,d=-c,f=t.screenLensDistance,_=(l-a)/f,g=(d+u)/f,w=(l+a)/f,A=(d-u)/f;return s[0]=x.max(n,_),s[1]=x.min(r,g),s[2]=x.min(h,w),s[3]=x.max(o,A),s},sa.prototype.getLeftEyeVisibleScreenRect=function(t){var i=this.viewer,e=this.device,s=i.screenLensDistance,n=(e.widthMeters-i.interLensDistance)/2,r=i.baselineLensDistance-e.bevelMeters,h=(t[0]*s+n)/e.widthMeters,o=(t[1]*s+r)/e.heightMeters,a=(t[2]*s+n)/e.widthMeters,u=(t[3]*s+r)/e.heightMeters;return{x:h,y:u,width:a-h,height:o-u}},sa.prototype.getFieldOfViewLeftEye=function(t){return t?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},sa.prototype.getFieldOfViewRightEye=function(t){var i=this.getFieldOfViewLeftEye(t);return{leftDegrees:i.rightDegrees,rightDegrees:i.leftDegrees,upDegrees:i.upDegrees,downDegrees:i.downDegrees}},sa.prototype.getUndistortedFieldOfViewLeftEye=function(){var t=this.c6t();return{leftDegrees:p2*x.atan(t.outerDist),rightDegrees:p2*x.atan(t.innerDist),downDegrees:p2*x.atan(t.bottomDist),upDegrees:p2*x.atan(t.topDist)}},sa.prototype.getUndistortedViewportLeftEye=function(){var t=this.c6t(),i=this.viewer,e=this.device,s=i.screenLensDistance,n=e.widthMeters/s,r=e.heightMeters/s,h=e.width/n,o=e.height/r,a=x.round((t.eyePosX-t.outerDist)*h),u=x.round((t.eyePosY-t.bottomDist)*o);return{x:a,y:u,width:x.round((t.eyePosX+t.innerDist)*h)-a,height:x.round((t.eyePosY+t.topDist)*o)-u}},sa.prototype.c6t=function(){var t=this.viewer,i=this.device,e=this.distortion,s=t.screenLensDistance,n=t.interLensDistance/2/s,r=i.widthMeters/s,h=i.heightMeters/s,o=r/2-n,a=(t.baselineLensDistance-i.bevelMeters)/s,u=t.fov,c=e.distortInverse(x.tan(m2*u)),l=x.min(o,c),d=x.min(n,c),f=x.min(a,c);return{outerDist:l,innerDist:d,topDist:x.min(h-a,c),bottomDist:f,eyePosX:o,eyePosY:a}},sa.Viewers=N2;var I2={format:1,last_updated:"2018-02-20T22:55:10Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3}]};function S2(t,i){if(this.dpdb=I2,this.l6t(),t){this.onDeviceParamsUpdated=i;var e=new rd,s=this;e.open("GET",t,!0),e.addEventListener("load",(function(){s.loading=!1,e.status>=200&&e.status<=299?(s.dpdb=JSON.parse(e.response),s.l6t()):console.error("Error loading online DPDB!")})),e.send()}}function E2(t){this.xdpi=t.xdpi,this.ydpi=t.ydpi,this.bevelMm=t.bevelMm}function b2(t,i){this.set(t,i)}function Yr(t,i){this.kFilter=t,this.isDebug=i,this.currentAccelMeasurement=new b2,this.currentGyroMeasurement=new b2,this.previousGyroMeasurement=new b2,cl()?this.filterQ=new hs(-1,0,0,1):this.filterQ=new hs(1,0,0,1),this.previousFilterQ=new hs,this.previousFilterQ.copy(this.filterQ),this.accelQ=new hs,this.isOrientationInitialized=!1,this.estimatedGravity=new Re,this.measuredGravity=new Re,this.gyroIntegralQ=new hs}function L2(t,i){this.predictionTimeS=t,this.isDebug=i,this.previousQ=new hs,this.previousTimestampS=null,this.deltaQ=new hs,this.outQ=new hs}function xe(t,i,e,n){this.yawOnly=e,this.accelerometer=new Re,this.gyroscope=new Re,this.filter=new Yr(t,n),this.posePredictor=new L2(i,n),this.isFirefoxAndroid=H4(),this.isIOS=cl();var r=q4();this.isDeviceMotionInRadians=!this.isIOS&&r&&r<66,this.isWithoutDeviceMotion=X4(),this.filterToWorldQ=new hs,cl()?this.filterToWorldQ.setFromAxisAngle(new Re(1,0,0),x.PI/2):this.filterToWorldQ.setFromAxisAngle(new Re(1,0,0),-x.PI/2),this.inverseWorldToScreenQ=new hs,this.worldToScreenQ=new hs,this.originalPoseAdjustQ=new hs,this.originalPoseAdjustQ.setFromAxisAngle(new Re(0,0,1),-s.orientation*x.PI/180),this.d6t(),K4()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new hs,this.f6t=new Float32Array(4),this.start()}S2.prototype.getDeviceParams=function(){return this.deviceParams},S2.prototype.l6t=function(){var t=this._6t();t?(this.deviceParams=t,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},S2.prototype._6t=function(){var t=this.dpdb;if(!t)return console.error("DPDB not available."),null;if(1!=t.format)return console.error("DPDB has unexpected format version."),null;if(!t.devices||!t.devices.length)return console.error("DPDB does not have a devices section."),null;var i=sd.userAgent||sd.vendor||s.opera,e=J4(),n=$4();if(!t.devices)return console.error("DPDB has no devices section."),null;for(var r=null,h=1/0,o=0;o<t.devices.length;o++){var a=t.devices[o];if(a.rules)if("ios"==a.type||"android"==a.type){if(cl()==("ios"==a.type)){for(var u=!1,c=0;c<a.rules.length;c++){var l=a.rules[c],d=this.g6t(l,i,e,n);if(!0===d){h=d,r=a,u=!0;break}!1!==d&&d<h&&(h=d,r=a)}if(u)break}}else console.warn("Device["+o+"] has invalid type.");else console.warn("Device["+o+"] has no rules section.")}return r?new E2({xdpi:r.dpi[0]||r.dpi,ydpi:r.dpi[1]||r.dpi,bevelMm:r.bw}):(console.warn("No DPDB device match."),null)},S2.prototype.g6t=function(t,i,e,s){if(!t.ua&&!t.res)return!1;if(t.ua&&i.indexOf(t.ua)<0)return!1;if(t.res){if(!t.res[0]||!t.res[1])return!1;var n=t.res[0],r=t.res[1],h=x.min(e,s)-x.min(n,r),o=x.max(e,s)-x.max(n,r),a=x.abs(h)+x.abs(o);if(a>0)return a}return!0},b2.prototype.set=function(t,i){this.sample=t,this.timestampS=i},b2.prototype.copy=function(t){this.set(t.sample,t.timestampS)},Yr.prototype.addAccelMeasurement=function(t,i){this.currentAccelMeasurement.set(t,i)},Yr.prototype.addGyroMeasurement=function(t,i){this.currentGyroMeasurement.set(t,i),function(t){return!(j(t)||t<=.001||t>1)}(i-this.previousGyroMeasurement.timestampS)&&this.w6t(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},Yr.prototype.w6t=function(){if(!this.isOrientationInitialized)return this.accelQ=this.A6t(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var t=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,i=this.v6t(this.currentGyroMeasurement.sample,t);this.gyroIntegralQ.multiply(i),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(i);var e=new hs;e.copy(this.filterQ),e.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(e),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var s=new hs;s.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),s.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",p2*function(t){return t.w>1?(console.warn("getQuaternionAngle: w > 1"),0):2*x.acos(t.w)}(s),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var n=new hs;n.copy(this.filterQ),n.multiply(s),this.filterQ.slerp(n,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},Yr.prototype.getOrientation=function(){return this.filterQ},Yr.prototype.A6t=function(t){var i=new Re;i.copy(t),i.normalize();var e=new hs;return e.setFromUnitVectors(new Re(0,0,-1),i),e.inverse(),e},Yr.prototype.v6t=function(t,i){var e=new hs,s=new Re;return s.copy(t),s.normalize(),e.setFromAxisAngle(s,t.length()*i),e},L2.prototype.getPrediction=function(t,i,e){if(!this.previousTimestampS)return this.previousQ.copy(t),this.previousTimestampS=e,t;var s=new Re;s.copy(i),s.normalize();var n=i.length();if(n<20*m2)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(p2*n).toFixed(1)),this.outQ.copy(t),this.previousQ.copy(t),this.outQ;var r=n*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(s,r),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(t),this.previousTimestampS=e,this.outQ},xe.prototype.getPosition=function(){return null},xe.prototype.getOrientation=function(){var t=void 0;if(this.isWithoutDeviceMotion&&this.m6t)return this.deviceOrientationFixQ=this.deviceOrientationFixQ||(i=(new hs).setFromAxisAngle(new Re(0,0,-1),0),e=new hs,-90===s.orientation?e.setFromAxisAngle(new Re(0,1,0),x.PI/-2):e.setFromAxisAngle(new Re(0,1,0),x.PI/2),i.multiply(e)),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||function(){var t=new hs;return t.setFromAxisAngle(new Re(1,0,0),-x.PI/2),t}(),t=this.m6t,(n=new hs).copy(t),n.multiply(this.deviceOrientationFilterToWorldQ),n.multiply(this.resetQ),n.multiply(this.worldToScreenQ),n.multiplyQuaternions(this.deviceOrientationFixQ,n),this.yawOnly&&(n.x=0,n.z=0,n.normalize()),this.f6t[0]=n.x,this.f6t[1]=n.y,this.f6t[2]=n.z,this.f6t[3]=n.w,this.f6t;var i,e,n,r=this.filter.getOrientation();return t=this.posePredictor.getPrediction(r,this.gyroscope,this.previousTimestampS),(n=new hs).copy(this.filterToWorldQ),n.multiply(this.resetQ),n.multiply(t),n.multiply(this.worldToScreenQ),this.yawOnly&&(n.x=0,n.z=0,n.normalize()),this.f6t[0]=n.x,this.f6t[1]=n.y,this.f6t[2]=n.z,this.f6t[3]=n.w,this.f6t},xe.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),K4()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},xe.prototype.p6t=function(t){this.m6t=this.m6t||new hs;var i=t.alpha,e=t.beta,s=t.gamma;i=(i||0)*x.PI/180,e=(e||0)*x.PI/180,s=(s||0)*x.PI/180,this.m6t.setFromEulerYXZ(e,i,-s)},xe.prototype.y6t=function(t){this.M6t(t)},xe.prototype.M6t=function(t){var i=t.accelerationIncludingGravity,e=t.rotationRate,s=t.timeStamp/1e3,n=s-this.previousTimestampS;return n<0?(u2("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),void(this.previousTimestampS=s)):n<=.001||n>1?(u2("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),void(this.previousTimestampS=s)):(this.accelerometer.set(-i.x,-i.y,-i.z),Z4()?this.gyroscope.set(-e.beta,e.alpha,e.gamma):this.gyroscope.set(e.alpha,e.beta,e.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(x.PI/180),this.filter.addAccelMeasurement(this.accelerometer,s),this.filter.addGyroMeasurement(this.gyroscope,s),void(this.previousTimestampS=s))},xe.prototype.T6t=function(t){this.d6t()},xe.prototype.wx=function(t){var i=t.data;i&&i.type&&("devicemotion"===i.type.toLowerCase()&&this.M6t(i.deviceMotionEvent))},xe.prototype.d6t=function(){switch(this.worldToScreenQ.set(0,0,0,1),s.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new Re(0,0,1),-x.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new Re(0,0,1),x.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},xe.prototype.start=function(){var t,i,e;this.N6t=this.y6t.bind(this),this.D6t=this.T6t.bind(this),this.I6t=this.wx.bind(this),this.S6t=this.p6t.bind(this),cl()&&(t=s.self!==s.top,i=a2(h.referrer),e=a2(s.location.href),t&&i!==e)&&s.addEventListener("message",this.I6t),s.addEventListener("orientationchange",this.D6t),this.isWithoutDeviceMotion?s.addEventListener("deviceorientation",this.S6t):s.addEventListener("devicemotion",this.N6t)},xe.prototype.stop=function(){s.removeEventListener("devicemotion",this.N6t),s.removeEventListener("deviceorientation",this.S6t),s.removeEventListener("orientationchange",this.D6t),s.removeEventListener("message",this.I6t)};var k2=new Re(1,0,0),C2=new Re(0,0,1),x2={};screen.orientation?x2=screen.orientation:screen.msOrientation?x2=screen.msOrientation:_.defineProperty(x2,"angle",{get:function(){return s.orientation||0}});var O2=new hs;O2.setFromAxisAngle(k2,-x.PI/2),O2.multiply((new hs).setFromAxisAngle(C2,x.PI/2));var j2=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new k("Cannot call a class as a function")}(this,t),this.config=i,this.sensor=null,this.fusionSensor=null,this.E6t=new Float32Array(4),this.api=null,this.errors=[],this.b6t=new hs,this.L6t=new hs,this.k6t=new hs,this.C6t=this.C6t.bind(this),this.x6t=this.x6t.bind(this),this.O6t=this.O6t.bind(this),this.O6t(),this.init()}return Y4(t,[{key:"init",value:function(){var t=null;try{(t=new RelativeOrientationSensor({frequency:60})).addEventListener("error",this.x6t)}catch(t){this.errors.push(t),"SecurityError"===t.name?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):"ReferenceError"===t.name?this.useDeviceMotion():console.error(t)}t&&(this.api="sensor",this.sensor=t,this.sensor.addEventListener("reading",this.C6t),this.sensor.start()),s.addEventListener("orientationchange",this.O6t)}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new xe(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this.E6t[0]=this.E6t[1]=this.E6t[2]=0,this.E6t[3]=1,this.E6t;var t=this.sensor.quaternion;this.b6t.set(t[0],t[1],t[2],t[3]);var i=this.k6t;return i.copy(O2),i.multiply(this.b6t),i.multiply(this.L6t),this.config.YAW_ONLY&&(i.x=i.z=0,i.normalize()),this.E6t[0]=i.x,this.E6t[1]=i.y,this.E6t[2]=i.z,this.E6t[3]=i.w,this.E6t}},{key:"x6t",value:function(t){this.errors.push(t.error),"NotAllowedError"===t.error.name?console.error("Permission to access sensor was denied"):"NotReadableError"===t.error.name?console.error("Sensor could not be read"):console.error(t.error)}},{key:"C6t",value:function(){}},{key:"O6t",value:function(){var t=-x2.angle*x.PI/180;this.L6t.setFromAxisAngle(C2,t)}}]),t}();function ch(){this.j6t();var t=h.createElement("div");(r=t.style).position="fixed",r.top=0,r.right=0,r.bottom=0,r.left=0,r.backgroundColor="gray",r.fontFamily="sans-serif",r.zIndex=1e6;var i=h.createElement("img");i.src=this.icon,(r=i.style).marginLeft="25%",r.marginTop="25%",r.width="50%",t.appendChild(i);var e=h.createElement("div");(r=e.style).textAlign="center",r.fontSize="16px",r.lineHeight="24px",r.margin="24px 25%",r.width="50%",e.innerHTML="Place your phone into your Cardboard viewer.",t.appendChild(e);var s=h.createElement("div");(r=s.style).backgroundColor="#CFD8DC",r.position="fixed",r.bottom=0,r.width="100%",r.height="48px",r.padding="14px 24px",r.boxSizing="border-box",r.color="#656A6B",t.appendChild(s);var n=h.createElement("div");n.style.float="left",n.innerHTML="No Cardboard viewer?";var r,o=h.createElement("a");o.href="https://www.google.com/get/cardboard/get-cardboard/",o.innerHTML="get one",o.target="Du",(r=o.style).float="right",r.fontWeight=600,r.textTransform="uppercase",r.borderLeft="1px solid gray",r.paddingLeft="24px",r.textDecoration="none",r.color="#656A6B",s.appendChild(n),s.appendChild(o),this.overlay=t,this.text=e,this.hide()}ch.prototype.show=function(t){t||this.overlay.parentElement?t&&(this.overlay.parentElement&&this.overlay.parentElement!=t&&this.overlay.parentElement.removeChild(this.overlay),t.appendChild(this.overlay)):h.body.appendChild(this.overlay),this.overlay.style.display="block";var i=this.overlay.querySelector("img").style;K4()?(i.width="20%",i.marginLeft="40%",i.marginTop="3%"):(i.width="50%",i.marginLeft="25%",i.marginTop="25%")},ch.prototype.hide=function(){this.overlay.style.display="none"},ch.prototype.showTemporarily=function(t,i){this.show(i),this.timer=u(this.hide.bind(this),t)},ch.prototype.disableShowTemporarily=function(){c(this.timer)},ch.prototype.update=function(){this.disableShowTemporarily(),!K4()&&s2()?this.show():this.hide()},ch.prototype.j6t=function(){this.icon="data:"+"image/svg+xml"+";base64,"+"PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"};var z2="CardboardV1",P2="WEBVR_CARDBOARD_VIEWER";function Cs(){try{this.selectedKey=localStorage.getItem(P2)}catch(t){console.error("Failed to load viewer profile: %s",t)}this.selectedKey||(this.selectedKey=z2),this.dialog=this.z6t(sa.Viewers),this.root=null,this.P6t=[]}Cs.prototype.show=function(t){this.root=t,t.appendChild(this.dialog),this.dialog.querySelector("#"+this.selectedKey).checked=!0,this.dialog.style.display="block"},Cs.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},Cs.prototype.getCurrentViewer=function(){return sa.Viewers[this.selectedKey]},Cs.prototype.B6t=function(){var t=this.dialog.querySelector("input[name=field]:checked");return t?t.id:null},Cs.prototype.onChange=function(t){this.P6t.push(t)},Cs.prototype.R6t=function(t){for(var i=0;i<this.P6t.length;i++)this.P6t[i](t)},Cs.prototype.U6t=function(){if(this.selectedKey=this.B6t(),this.selectedKey&&sa.Viewers[this.selectedKey]){this.R6t(sa.Viewers[this.selectedKey]);try{localStorage.setItem(P2,this.selectedKey)}catch(t){console.error("Failed to save viewer profile: %s",t)}this.hide()}else console.error("ViewerSelector.onSave_: this should never happen!")},Cs.prototype.z6t=function(t){var i=h.createElement("div");i.classList.add("webvr-polyfill-viewer-selector"),i.style.display="none";var e=h.createElement("div");(n=e.style).position="fixed",n.left=0,n.top=0,n.width="100%",n.height="100%",n.background="rgba(0, 0, 0, 0.3)",e.addEventListener("click",this.hide.bind(this));var s=h.createElement("div"),n=s.style;for(var r in n.boxSizing="border-box",n.position="fixed",n.top="24px",n.left="50%",n.marginLeft="-140px",n.width="280px",n.padding="24px",n.overflow="hidden",n.background="#fafafa",n.fontFamily="'Roboto', sans-serif",n.boxShadow="0px 5px 20px #666",s.appendChild(this.Q6t("Select your viewer")),t)s.appendChild(this.F6t(r,t[r].label));return s.appendChild(this.Y6t("Save",this.U6t.bind(this))),i.appendChild(e),i.appendChild(s),i},Cs.prototype.Q6t=function(t){var i=h.createElement("h1"),e=i.style;return e.color="black",e.fontSize="20px",e.fontWeight="bold",e.marginTop=0,e.marginBottom="24px",i.innerHTML=t,i},Cs.prototype.F6t=function(t,i){var e=h.createElement("div");e.style.marginTop="8px",e.style.color="black";var s=h.createElement("input");s.style.fontSize="30px",s.setAttribute("id",t),s.setAttribute("type","radio"),s.setAttribute("value",t),s.setAttribute("name","field");var n=h.createElement("label");return n.style.marginLeft="4px",n.setAttribute("for",t),n.innerHTML=i,e.appendChild(s),e.appendChild(n),e},Cs.prototype.Y6t=function(t,i){var e=h.createElement("button");e.innerHTML=t;var s=e.style;return s.float="right",s.textTransform="uppercase",s.color="#1094f7",s.fontSize="14px",s.letterSpacing=0,s.border=0,s.background="none",s.marginTop="16px",e.addEventListener("click",i),e};void 0!==s||("undefined"!=typeof global?global:"undefined"!=typeof self&&self);var B2=function(t,i){return t(i={exports:{}},i.exports),i.exports}((function(t,i){var e;e=function(){return function(t){var i={};function e(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||_.defineProperty(t,i,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return _.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){var n=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),_.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}(),r=e(1),o=void 0!==sd&&S((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(sd.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!s.MSStream,a=function(){function t(){!function(t,i){if(!(t instanceof i))throw new k("Cannot call a class as a function")}(this,t),o?this.noSleepTimer=null:(this.noSleepVideo=h.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",r),this.noSleepVideo.addEventListener("timeupdate",function(t){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=x.random())}.bind(this)))}return n(t,[{key:"enable",value:function(){o?(this.disable(),this.noSleepTimer=s.setInterval((function(){s.location.href="/",s.setTimeout(s.stop,0)}),15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){o?this.noSleepTimer&&(s.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),t}();t.exports=a},function(t,i,e){t.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])},t.exports=e()})),R2=function(t){return t&&t.__esModule?t.default:t}(B2),U2=1e3,Q2=[0,0,.5,1],F2=[.5,0,.5,1],Y2=s.requestAnimationFrame,G2=s.cancelAnimationFrame;function V2(t){_.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:t.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:t.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:t.canPresent},maxLayers:{writable:!1,enumerable:!0,value:t.maxLayers},hasOrientation:{enumerable:!0,get:function(){return Wh("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),t.hasOrientation}}})}function Zi(t){var i=!("wakelock"in(t=t||{}))||t.wakelock;this.isPolyfilled=!0,this.displayId=U2++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,_.defineProperty(this,"isConnected",{get:function(){return Wh("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new V2({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.G6t=!1,this.Hy=null,this.V6t=null,this.pG=null,this.z9=null,this.W6t=null,this.H6t=null,this.q6t=null,this.X6t=null,i&&s2()&&(this.Z6t=new R2)}Zi.prototype.getFrameData=function(t){return o2(t,this.K6t(),this)},Zi.prototype.getPose=function(){return Wh("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this.K6t()},Zi.prototype.resetPose=function(){return Wh("VRDisplay.prototype.resetPose"),this.J6t()},Zi.prototype.getImmediatePose=function(){return Wh("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this.K6t()},Zi.prototype.requestAnimationFrame=function(t){return Y2(t)},Zi.prototype.cancelAnimationFrame=function(t){return G2(t)},Zi.prototype.wrapForFullscreen=function(t){if(cl())return t;if(!this.z9){this.z9=h.createElement("div");var i=["height: "+x.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.z9.setAttribute("style",i.join("; ")+";"),this.z9.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.pG==t)return this.z9;if(this.pG&&(this.V6t?this.V6t.appendChild(this.pG):this.pG.parentElement.removeChild(this.pG)),this.pG=t,this.V6t=t.parentElement,this.V6t||h.body.appendChild(t),!this.z9.parentElement){var e=this.pG.parentElement;e.insertBefore(this.z9,this.pG),e.removeChild(this.pG)}this.z9.insertBefore(this.pG,this.z9.firstChild),this.W6t=this.pG.getAttribute("style");var s=this;return function(){if(s.pG){var t=["position: absolute","top: 0","left: 0","width: "+x.max(screen.width,screen.height)+"px","height: "+x.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];s.pG.setAttribute("style",t.join("; ")+";")}}(),this.z9},Zi.prototype.removeFullscreenWrapper=function(){if(this.pG){var t=this.pG;this.W6t?t.setAttribute("style",this.W6t):t.removeAttribute("style"),this.pG=null,this.W6t=null;var i=this.z9.parentElement;return this.z9.removeChild(t),this.V6t===i?i.insertBefore(t,this.z9):this.V6t&&this.V6t.appendChild(t),i.removeChild(this.z9),t}},Zi.prototype.requestPresent=function(t){var i=this.isPresenting,e=this;return t instanceof Array||(Wh("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),t=[t]),new Promise((function(s,n){if(e.capabilities.canPresent)if(0==t.length||t.length>e.capabilities.maxLayers)n(new b("Invalid number of layers."));else{var r=t[0];if(r.source){var o=r.leftBounds||Q2,a=r.rightBounds||F2;if(i){var u=e.Hy;u.source!==r.source&&(u.source=r.source);for(var c=0;c<4;c++)u.leftBounds[c]=o[c],u.rightBounds[c]=a[c];return e.wrapForFullscreen(e.Hy.source),e.$6t(),void s()}if(e.Hy={predistorted:r.predistorted,source:r.source,leftBounds:o.slice(0),rightBounds:a.slice(0)},e.G6t=!1,e.Hy&&e.Hy.source){var l=e.wrapForFullscreen(e.Hy.source);e.t8t(l,(function(){var t=h.fullscreenElement||h.webkitFullscreenElement||h.mozFullScreenElement||h.msFullscreenElement;e.isPresenting=l===t,e.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch((function(t){console.error("screen.orientation.lock() failed due to",t.message)})),e.G6t=!1,e.i8t(),s()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),e.disableWakeLock(),e.e8t(),e.removeFullscreenWrapper(),e.s8t()),e.n8t()}),(function(){e.G6t&&(e.removeFullscreenWrapper(),e.s8t(),e.disableWakeLock(),e.G6t=!1,e.isPresenting=!1,n(new b("Unable to present.")))})),!function(t){if(h.fullscreenEnabled&&t.requestFullscreen)t.requestFullscreen();else if(h.webkitFullscreenEnabled&&t.webkitRequestFullscreen)t.webkitRequestFullscreen();else if(h.mozFullScreenEnabled&&t.mozRequestFullScreen)t.mozRequestFullScreen();else{if(!h.msFullscreenEnabled||!t.msRequestFullscreen)return!1;t.msRequestFullscreen()}return!0}(l)?(cl()||W4())&&(e.enableWakeLock(),e.isPresenting=!0,e.i8t(),e.n8t(),s()):(e.enableWakeLock(),e.G6t=!0)}e.G6t||cl()||(t2(),n(new b("Unable to present.")))}else s()}else n(new b("VRDisplay is not capable of presenting."))}))},Zi.prototype.exitPresent=function(){var t=this.isPresenting,i=this;return this.isPresenting=!1,this.Hy=null,this.disableWakeLock(),new Promise((function(e,s){t?(t2(),i.e8t(),i.removeFullscreenWrapper(),i.s8t(),i.n8t(),e()):s(new b("Was not presenting to VRDisplay."))}))},Zi.prototype.getLayers=function(){return this.Hy?[this.Hy]:[]},Zi.prototype.n8t=function(){var t=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});s.dispatchEvent(t)},Zi.prototype.r8t=function(){var t=new CustomEvent("vrdisplayconnect",{detail:{display:this}});s.dispatchEvent(t)},Zi.prototype.t8t=function(t,i,e){this.s8t(),this.H6t=t,this.q6t=i,this.X6t=e,i&&(h.fullscreenEnabled?t.addEventListener("fullscreenchange",i,!1):h.webkitFullscreenEnabled?t.addEventListener("webkitfullscreenchange",i,!1):h.mozFullScreenEnabled?h.addEventListener("mozfullscreenchange",i,!1):h.msFullscreenEnabled&&t.addEventListener("msfullscreenchange",i,!1)),e&&(h.fullscreenEnabled?t.addEventListener("fullscreenerror",e,!1):h.webkitFullscreenEnabled?t.addEventListener("webkitfullscreenerror",e,!1):h.mozFullScreenEnabled?h.addEventListener("mozfullscreenerror",e,!1):h.msFullscreenEnabled&&t.addEventListener("msfullscreenerror",e,!1))},Zi.prototype.s8t=function(){if(this.H6t){var t=this.H6t;if(this.q6t){var i=this.q6t;t.removeEventListener("fullscreenchange",i,!1),t.removeEventListener("webkitfullscreenchange",i,!1),h.removeEventListener("mozfullscreenchange",i,!1),t.removeEventListener("msfullscreenchange",i,!1)}if(this.X6t){var e=this.X6t;t.removeEventListener("fullscreenerror",e,!1),t.removeEventListener("webkitfullscreenerror",e,!1),h.removeEventListener("mozfullscreenerror",e,!1),t.removeEventListener("msfullscreenerror",e,!1)}this.H6t=null,this.q6t=null,this.X6t=null}},Zi.prototype.enableWakeLock=function(){this.Z6t&&this.Z6t.enable()},Zi.prototype.disableWakeLock=function(){this.Z6t&&this.Z6t.disable()},Zi.prototype.i8t=function(){},Zi.prototype.e8t=function(){},Zi.prototype.submitFrame=function(t){},Zi.prototype.getEyeParameters=function(t){return null};var W2={MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:3e3,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},H2="left",q2="right";function fo(t){var i=n2({},W2);t=n2(i,t||{}),Zi.call(this,{wakelock:t.MOBILE_WAKE_LOCK}),this.config=t,this.displayName="Cardboard VRDisplay",this.capabilities=new V2({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.h8t=this.config.BUFFER_SCALE,this.o8t=new j2(this.config),this.a8t=null,this.u8t=null,this.j9=null,this.c8t=null,this.l8t=new S2(this.config.DPDB_URL,this.d8t.bind(this)),this.f8t=new sa(this.l8t.getDeviceParams()),this._8t=new Cs,this._8t.onChange(this.g8t.bind(this)),this.f8t.setViewer(this._8t.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.w8t=new ch),cl()&&s.addEventListener("resize",this.rG.bind(this))}fo.prototype=_.create(Zi.prototype),fo.prototype.K6t=function(){return{position:null,orientation:this.o8t.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},fo.prototype.J6t=function(){this.o8t.resetPose&&this.o8t.resetPose()},fo.prototype.n6t=function(t){var i;if(t==H2)i=this.f8t.getFieldOfViewLeftEye();else{if(t!=q2)return console.error("Invalid eye provided: %s",t),null;i=this.f8t.getFieldOfViewRightEye()}return i},fo.prototype.r6t=function(t){var i;if(t==H2)i=[.5*-this.f8t.viewer.interLensDistance,0,0];else{if(t!=q2)return console.error("Invalid eye provided: %s",t),null;i=[.5*this.f8t.viewer.interLensDistance,0,0]}return i},fo.prototype.getEyeParameters=function(t){var i=this.r6t(t),e=this.n6t(t),s={offset:i,renderWidth:.5*this.f8t.device.width*this.h8t,renderHeight:this.f8t.device.height*this.h8t};return _.defineProperty(s,"fieldOfView",{enumerable:!0,get:function(){return Wh("VRFieldOfView","VRFrameData's projection matrices"),e}}),s},fo.prototype.d8t=function(t){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.f8t.updateDeviceParams(t),this.a8t&&this.a8t.updateDeviceInfo(this.f8t)},fo.prototype.A8t=function(){this.Hy&&this.a8t&&(this.Hy.leftBounds||this.Hy.rightBounds)&&this.a8t.setTextureBounds(this.Hy.leftBounds,this.Hy.rightBounds)},fo.prototype.i8t=function(){var t=this.Hy.source.getContext("webgl");if(t||(t=this.Hy.source.getContext("experimental-webgl")),t||(t=this.Hy.source.getContext("webgl2")),t){if(this.j9=t.canvas,this.c8t=t.canvas.getAttribute("style"),this.Hy.predistorted?this.config.CARDBOARD_UI_DISABLED||(t.canvas.width=J4()*this.h8t,t.canvas.height=$4()*this.h8t,this.u8t=new lh(t)):(this.config.CARDBOARD_UI_DISABLED||(this.u8t=new lh(t)),this.a8t=new f2(t,this.u8t,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.a8t.updateDeviceInfo(this.f8t)),this.u8t&&this.u8t.listen(function(t){this._8t.show(this.Hy.source.parentElement),t.stopPropagation(),t.preventDefault()}.bind(this),function(t){this.exitPresent(),t.stopPropagation(),t.preventDefault()}.bind(this)),this.w8t){var i=this.config.ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT;K4()&&s2()&&i?this.w8t.showTemporarily(i,this.Hy.source.parentElement):this.w8t.update()}this.orientationHandler=this.T6t.bind(this),s.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.A8t.bind(this),s.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.rG(),this.v8t()}},fo.prototype.e8t=function(){this.a8t&&(this.a8t.destroy(),this.a8t=null),this.u8t&&(this.u8t.destroy(),this.u8t=null),this.w8t&&this.w8t.hide(),this._8t.hide(),this.j9&&(h2(this.j9),this.c8t?this.j9.setAttribute("style",this.c8t):this.j9.removeAttribute("style"),r2(this.j9),this.j9=null,this.c8t=null),s.removeEventListener("orientationchange",this.orientationHandler),s.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},fo.prototype.$6t=function(){this.e8t(),this.i8t()},fo.prototype.submitFrame=function(t){if(this.a8t)this.A8t(),this.a8t.submitFrame();else if(this.u8t&&this.Hy){var i=this.Hy.source.getContext("webgl").canvas;i.width==this.lastWidth&&i.height==this.lastHeight||this.u8t.onResize(),this.lastWidth=i.width,this.lastHeight=i.height,this.u8t.render()}},fo.prototype.T6t=function(t){this._8t.hide(),this.w8t&&this.w8t.update(),this.rG()},fo.prototype.rG=function(t){if(this.Hy){var i=this.Hy.source.getContext("webgl");h2(i.canvas);i.canvas.setAttribute("style",["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"].join("; ")+";"),r2(i.canvas)}},fo.prototype.g8t=function(t){this.f8t.setViewer(t),this.a8t&&this.a8t.updateDeviceInfo(this.f8t),this.v8t()},fo.prototype.v8t=function(){var t=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.f8t}});s.dispatchEvent(t)},fo.VRFrameData=function(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null},fo.VRDisplay=Zi;var X2={PROVIDE_MOBILE_VRDISPLAY:!0,GET_VR_DISPLAYS_TIMEOUT:1e3,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:3e3,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function Z2(t){this.config=F4(F4({},X2),t),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in sd,this.native={},this.native.getVRDisplays=sd.getVRDisplays,this.native.VRFrameData=s.VRFrameData,this.native.VRDisplay=s.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&U4())&&(this.enable(),this.getVRDisplays().then((function(t){t&&t[0]&&t[0].r8t&&t[0].r8t()})))}Z2.prototype.getPolyfillDisplays=function(){if(this.m8t)return this.polyfillDisplays;if(U4()){var t=new fo({MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,TOUCH_PANNER_DISABLED:this.config.TOUCH_PANNER_DISABLED,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:this.config.ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(t)}return this.m8t=!0,this.polyfillDisplays},Z2.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var t=this.native.VRFrameData,i=new this.native.VRFrameData,e=this.native.VRDisplay.prototype.getFrameData;s.VRDisplay.prototype.getFrameData=function(s){s instanceof t?e.call(this,s):(e.call(this,i),s.pose=i.pose,Q4(i.leftProjectionMatrix,s.leftProjectionMatrix),Q4(i.rightProjectionMatrix,s.rightProjectionMatrix),Q4(i.leftViewMatrix,s.leftViewMatrix),Q4(i.rightViewMatrix,s.rightViewMatrix))}}sd.getVRDisplays=this.getVRDisplays.bind(this),s.VRDisplay=fo.VRDisplay,s.VRFrameData=fo.VRFrameData},Z2.prototype.getVRDisplays=function(){var t,i=this,e=this.config;return this.hasNative?function(t){return Promise.race?Promise.race(t):new Promise((function(i,e){for(var s=0;s<t.length;s++)t[s].then(i,e)}))}([this.native.getVRDisplays.call(sd),new Promise((function(i){t=u((function(){console.warn("Native WebVR implementation detected, but `getVRDisplays()` failed to resolve. Falling back to polyfill."),i([])}),e.GET_VR_DISPLAYS_TIMEOUT)}))]).then((function(e){return c(t),e.length>0?e:i.getPolyfillDisplays()})):Promise.resolve(this.getPolyfillDisplays())},Z2.version="0.10.5-opentelly.3",Z2.VRFrameData=fo.VRFrameData,Z2.VRDisplay=fo.VRDisplay;var K2=_.freeze({default:Z2}),J2=K2&&Z2||K2;void 0!==lr&&lr.window&&(lr.document||(lr.document=lr.window.document),lr.navigator||(lr.navigator=lr.window.navigator));new J2({TOUCH_PANNER_DISABLED:!0,ROTATE_INSTRUCTIONS_LANDSCAPE_TIMEOUT:0,MOBILE_WAKE_LOCK:!wn.oL&&!wn.Ga,DPDB_URL:void 0});r(),r(),r();var $2=class{p8t(t,i){const e=this.y8t;let s;switch(i){case e.VERTEX_SHADER:s=e.createShader(i),this.M8t=s;break;case e.FRAGMENT_SHADER:s=e.createShader(i),this.T8t=s;break;default:return void console.error("Invalid Shader Type:",i)}e.attachShader(this.N8t,s),e.shaderSource(s,t),e.compileShader(s)}D8t(t){const i=this.y8t;if(t){this.I8t={};for(const e in t)i.bindAttribLocation(this.N8t,t[e],e),this.I8t[e]=t[e]}}S8t(){this.y8t.linkProgram(this.N8t)}E8t(){const t=this.y8t;if(this.b8t){if(t.getProgramParameter(this.N8t,t.LINK_STATUS)){if(!this.I8t){this.I8t={};const i=t.getProgramParameter(this.N8t,t.ACTIVE_ATTRIBUTES);for(let e=0;e<i;e++){const i=t.getActiveAttrib(this.N8t,e);this.I8t[i.name]=t.getAttribLocation(this.N8t,i.name)}}this.L8t={};const i=t.getProgramParameter(this.N8t,t.ACTIVE_UNIFORMS);let e="";for(let s=0;s<i;s++){e=t.getActiveUniform(this.N8t,s).name.replace("[0]",""),this.L8t[e]=t.getUniformLocation(this.N8t,e)}}else this.M8t&&!t.getShaderParameter(this.M8t,t.COMPILE_STATUS)?console.error("Vertex shader compile error:",t.getShaderInfoLog(this.M8t)):this.T8t&&!t.getShaderParameter(this.T8t,t.COMPILE_STATUS)?console.error("Fragment shader compile error:",t.getShaderInfoLog(this.T8t)):console.error("Program link error:",t.getProgramInfoLog(this.N8t)),t.deleteProgram(this.N8t),this.N8t=null;t.deleteShader(this.M8t),t.deleteShader(this.T8t),this.b8t=!1}t.useProgram(this.N8t)}constructor(t){this.I8t=null,this.L8t=null,this.b8t=!0,this.M8t=null,this.T8t=null,this.y8t=t,this.N8t=t.createProgram()}},t3=class{pr(t,i,e){let s=this.y8t;this.k8t(t,i,s,e),this.t.hg||this.t.j9.QY(s,s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE),s.drawElements(s.TRIANGLES,this.C8t,s.UNSIGNED_SHORT,0)}x8t(t){this.O8t||(t.bindTexture(t.TEXTURE_2D,this.j8t),this.t.j9.QY(t,t.TEXTURE_2D,0,t.RGB,t.RGB,t.UNSIGNED_BYTE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this.O8t=!0)}k8t(t,i,e,s){const n=this.N8t;n.E8t(),this.x8t(e);const r=n.L8t,h=n.I8t;let o;e.uniformMatrix4fv(r.projectionMat,!1,t),e.uniformMatrix4fv(r.modelViewMat,!1,i),o="right"===s?this.z8t:this.P8t,e.bindBuffer(e.ARRAY_BUFFER,o),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.B8t),e.enableVertexAttribArray(h.position),e.enableVertexAttribArray(h.texCoord),e.vertexAttribPointer(h.position,3,e.FLOAT,!1,20,0),e.vertexAttribPointer(h.texCoord,2,e.FLOAT,!1,20,12),e.activeTexture(e.TEXTURE0),e.uniform1i(r.diffuse,0),e.bindTexture(e.TEXTURE_2D,this.j8t)}constructor(t,i,e){this.O8t=!1,this.y8t=t,this.j8t=t.createTexture();let s=["uniform mat4 projectionMat;","uniform mat4 modelViewMat;","attribute vec3 position;","attribute vec2 texCoord;","varying vec2 vTexCoord;","void main() {","  vTexCoord = texCoord;","  gl_Position = projectionMat * modelViewMat * vec4( position, 1.0 );","}"].join("\n"),n=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");this.N8t=new $2(t),this.N8t.p8t(s,t.VERTEX_SHADER),this.N8t.p8t(n,t.FRAGMENT_SHADER),this.N8t.D8t({position:0,texCoord:1}),this.N8t.S8t();const r=[],h=[],o=[],a=40;for(let t=0;t<=40;++t){const i=t*x.PI/40,s=x.sin(i),n=x.cos(i);for(let i=0;i<=a;++i){const o=2*i*x.PI/a-x.PI,u=x.sin(o)*s,c=n,l=-x.cos(o)*s,d=i/a,f=t/40;switch(e){case"horizontal":r.push(2*u,2*c,2*l,d/2,f),h.push(2*u,2*c,2*l,d/2+.5,f);break;case"vertical":r.push(2*u,2*c,2*l,d,f/2),h.push(2*u,2*c,2*l,d,f/2+.5);break;default:r.push(2*u,2*c,2*l,d,f)}}}for(let t=0;t<40;++t){let i=41*t,e=41*(t+1);for(let t=0;t<a;++t){let s=i+t,n=e+t;o.push(s,n,s+1,n,n+1,s+1)}}switch(this.P8t=t.createBuffer(),this.z8t=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.P8t),t.bufferData(t.ARRAY_BUFFER,new Float32Array(r),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.z8t),e){case"horizontal":case"vertical":t.bufferData(t.ARRAY_BUFFER,new Float32Array(h),t.STATIC_DRAW);break;default:t.bufferData(t.ARRAY_BUFFER,new Float32Array(r),t.STATIC_DRAW)}this.B8t=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.B8t),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(o),t.STATIC_DRAW),this.C8t=o.length,this.t=i}};r();var hr=class extends La{fa(){return new i3}constructor(){super("R8t")}},i3=class extends Ag{constructor(){super("stereochange")}};r();var Vc=class extends La{fa(){return new e3}constructor(){super("U8t")}},e3=class extends Ag{constructor(){super("directionchange")}};r(),r();var Yh=x.PI/180,s3=180/x.PI,Nc=class{zz(t,i){return this.x=t,this.y=i,this}Amt(t){return this.x=t.x,this.y=t.y,this}Q8t(t){return this.zz(t[0],t[1])}F8t(){const t=new Float32Array(2);return t[0]=this.x,t[1]=this.y,t}Y8t(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this}constructor(t,i){this.x=t||0,this.y=i||0}},io=class{zz(t,i,e){return this.x=t,this.y=i,this.z=e,this}Amt(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}Q8t(t){return this.zz(t[0],t[1],t[2])}F8t(){const t=new Float32Array(3);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t}U(){return x.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}G8t(){const t=this.U();if(0!==t){const i=1/t;this.V8t(i)}else this.x=0,this.y=0,this.z=0;return this}V8t(t){this.x*=t,this.y*=t,this.z*=t}W8t(t){const i=this.x,e=this.y,s=this.z,n=t.x,r=t.y,h=t.z,o=t.w,a=o*i+r*s-h*e,u=o*e+h*i-n*s,c=o*s+n*e-r*i,l=-n*i-r*e-h*s;return this.x=a*o+l*-n+u*-h-c*-r,this.y=u*o+l*-r+c*-n-a*-h,this.z=c*o+l*-h+a*-r-u*-n,this}H8t(t){return this.x*t.x+this.y*t.y+this.z*t.z}q8t(t,i){const e=t.x,s=t.y,n=t.z,r=i.x,h=i.y,o=i.z;return this.x=s*o-n*h,this.y=n*r-e*o,this.z=e*h-s*r,this}constructor(t,i,e){this.x=t||0,this.y=i||0,this.z=e||0}},Ya=class{zz(t,i,e,s){return this.x=t,this.y=i,this.z=e,this.w=s,this}Amt(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this}Q8t(t){return this.zz(t[0],t[1],t[2],t[3])}F8t(){const t=new Float32Array(4);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t[3]=this.w,t}H8t(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}KD(t){return this.X8t(this,t)}X8t(t,i){const e=t.x,s=t.y,n=t.z,r=t.w,h=i.x,o=i.y,a=i.z,u=i.w;return this.x=e*u+r*h+s*a-n*o,this.y=s*u+r*o+n*h-e*a,this.z=n*u+r*a+e*o-s*h,this.w=r*u-e*h-s*o-n*a,this}Z8t(){return this.x*=-1,this.y*=-1,this.z*=-1,this.G8t(),this}K8t(){const t=this.x,i=this.y,e=this.z,s=this.w,n=t*i+e*s;let r,h,o;if(n>.499)r=2*x.atan2(t,s),h=x.PI/2,o=0;else if(n<-.499)r=-2*x.atan2(t,s),h=-x.PI/2,o=0;else{const a=t*t,u=i*i,c=e*e;r=x.atan2(2*i*s-2*t*e,1-2*u-2*c),h=x.asin(2*n),o=x.atan2(2*t*s-2*i*e,1-2*a-2*c)}return new Kc(r,o,h)}G8t(){let t=x.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this}constructor(t,i,e,s){this.x=t||0,this.y=i||0,this.z=e||0,this.w=void 0!==s?s:1}},Kc=class{zz(t,i,e){return this.J8t=t,this.$8t=i,this.t9t=e,this}Amt(t){return this.zz(t.J8t,t.$8t,t.t9t)}mN(t){return this.J8t+=t.J8t,this.$8t+=t.$8t,this.t9t+=t.t9t,this}i9t(){const t=this.J8t,i=this.t9t,e=this.$8t,s=x.cos(t/2),n=x.cos(i/2),r=x.cos(e/2),h=x.sin(t/2),o=x.sin(i/2),a=x.sin(e/2),u=s*n,c=h*o;return new Ya(u*a+c*r,h*n*r+s*o*a,s*o*r-h*n*a,u*r-c*a)}constructor(t,i,e){this.J8t=t||0,this.$8t=i||0,this.t9t=e||0}},n3=.15,r3=class{kS(){this.Rt||(this.Rt=!0,this.we.addEventListener("keydown",this.e9t),this.we.addEventListener("mousedown",this.s9t),this.we.addEventListener("touchstart",this.n9t),s.addEventListener("mousemove",this.ir),s.addEventListener("mouseup",this.r9t),this.h9t(s),s.addEventListener("touchmove",this.o9t),s.addEventListener("touchend",this.a9t))}h9t(t){if(iD(t));else if(on(t))try{t.parent.addEventListener("mouseup",this.r9t),this.h9t(t.parent)}catch(i){t.document.documentElement.addEventListener("mouseleave",this.u9t)}}CS(){this.Rt&&(this.Rt=!1,this.c9t=!1,this.l9t&&(Gs(this.l9t),this.l9t=null),this.we.removeEventListener("keydown",this.e9t),this.we.removeEventListener("mousedown",this.s9t),this.we.removeEventListener("touchstart",this.n9t),s.removeEventListener("mousemove",this.ir),s.removeEventListener("mouseup",this.r9t),this.d9t(s),s.removeEventListener("touchmove",this.o9t),s.removeEventListener("touchend",this.a9t))}d9t(t){if(t.document.documentElement.removeEventListener("mouseleave",this.u9t),on(t))try{t.parent.removeEventListener("mouseup",this.r9t),this.d9t(t.parent)}catch(t){}}get f9t(){return new Kc(this._9t,this.g9t,this.w9t)}set f9t(t){this._9t=t.J8t,this.g9t=t.$8t,this.w9t=t.t9t}A9t(t){this.v9t("_9t",t)}m9t(t){t=Sc(t,-x.PI/2,x.PI/2),this.v9t("g9t",t)}v9t(t,i){this.l9t&&Gs(this.l9t);let e=this[t],s=DE(),n=()=>{let r=DE()-s;if(r>=80)return this[t]=i,Gs(this.l9t),void(this.l9t=null);this.l9t=ds(n);let h=r/80;this[t]=e+(i-e)*h};this.l9t=ds(n)}p9t(){this.g9t+=2*x.PI*this.y9t.y/this.we.clientHeight*.3,this._9t+=2*x.PI*this.y9t.x/this.we.clientWidth*.5,this.g9t=Sc(this.g9t,-x.PI/2,x.PI/2)}M9t(){this.c9t=!1}T9t(){return(h.pointerLockElement||h.mozPointerLockElement||h.webkitPointerLockElement)===this.we}resetPose(){this.g9t=0,this._9t=0}gn(){this.CS()}constructor(t){this.Rt=!1,this.g9t=0,this._9t=0,this.w9t=0,this.l9t=null,this.N9t=new Nc,this.D9t=new Nc,this.y9t=new Nc,this.c9t=!1,this.e9t=t=>{38===t.keyCode?this.m9t(this.g9t+n3):39===t.keyCode?this.A9t(this._9t-n3):40===t.keyCode?this.m9t(this.g9t-n3):37===t.keyCode&&this.A9t(this._9t+n3)},this.s9t=t=>{this.N9t.zz(t.clientX,t.clientY),this.c9t=!0,t.preventDefault()},this.n9t=t=>{t.touches&&1===t.touches.length&&(this.N9t.zz(t.touches[0].pageX,t.touches[0].pageY),this.c9t=!0,t.preventDefault())},this.ir=t=>{if(this.c9t||this.T9t()){if(this.T9t()){let i=t.movementX||t.mozMovementX||0,e=t.movementY||t.mozMovementY||0;this.D9t.zz(this.N9t.x-i,this.N9t.y-e)}else this.D9t.zz(t.clientX,t.clientY);this.y9t.Y8t(this.D9t,this.N9t),this.N9t.Amt(this.D9t),this.p9t()}},this.o9t=t=>{this.c9t&&(this.D9t.zz(t.touches[0].pageX,t.touches[0].pageY),this.y9t.Y8t(this.D9t,this.N9t),this.N9t.Amt(this.D9t),this.p9t())},this.r9t=t=>{this.M9t()},this.a9t=t=>{this.M9t()},this.u9t=t=>{this.M9t()},this.we=t}};r();var to=eo(M_()),h3=eo(T_()),o3=(eo(N_()),eo(D_())),a3=(eo(I_()),eo(S_())),u3=eo(E_()),c3=eo(b_()),l3=eo(L_()),d3=eo(k_());r();var st,f3=["U8t","C_t","R8t","error"];function _3(t){let i,e={get stereo(){return t.I9t},set stereo(i){t.I9t=i},get useDeviceMotionControls(){return t.S9t},set useDeviceMotionControls(i){t.S9t=i},get direction(){return t.E9t},set direction(i){t.E9t=i},get verticalFOV(){return t.b9t},set verticalFOV(i){t.b9t=i},get canPresentVR(){return t.L9t},get state(){return t.zvt},addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)}};return i=new $u(t,f3,e),e}r(),function(t){t.Rs="unavailable",t.k9t="available",t.Oa="presenting"}(st||(st={}));var g3=new Kc(0*Yh,0,0);function w3(t){return wl(t+180,360)-180}function A3(t,i){let e=t.H8t(i);return 1-e*e<1e-4}var v3=class extends i{ko(){sd.getVRDisplays?(this.C9t=new VRFrameData,this.x9t(),s.addEventListener("vrdisplayconnect",this.x9t,!1),s.addEventListener("vrdisplaydisconnect",this.x9t,!1),s.addEventListener("vrdisplayactivate",this.O9t,!1),s.addEventListener("vrdisplaydeactivate",this.j9t,!1),s.addEventListener("vrdisplaypresentchange",this.z9t,!1)):sd.getVRDevices?this.P9t("Your browser supports WebVR but not the latest version.",p_.VR_PLATFORM_UNSUPPORTED):this.P9t("Your browser does not support WebVR.",p_.VR_PLATFORM_UNSUPPORTED),this.t.yn(t.lo,this.do),this.do()}B9t(){let t={alpha:!1,antialias:!1,preserveDrawingBuffer:!0};if(!this.R9t){const t=h.createElement("canvas");t.className="theoplayer-vr",ta(t),t.style.zIndex="2",this.t.we.appendChild(t),this.R9t=t}this.y8t=this.R9t.getContext("webgl",t),this.y8t||(this.y8t=this.R9t.getContext("experimental-webgl",t),this.y8t)?(this.y8t.enable(this.y8t.DEPTH_TEST),this.y8t.enable(this.y8t.CULL_FACE)):this.P9t("Your browser does not support WebGL.",p_.VR_PLATFORM_UNSUPPORTED)}U9t(){let t=this.E9t;this.Q9t||(this.B9t(),this.Q9t=!0),this.y8t&&(this.F9t(new t3(this.y8t,this.t,this.Y9t)),this.R9t.style.display="",this.gi||(this.gi=new r3(this.R9t)),this.gi.kS(),this.t.ya.yn(Ac.ra,this.rG),this.t.yn(Zr.pn,this.rG),this.E9t=t,this.rG(),this.G9t=ds(this.V9t))}W9t(){let t=this.E9t;this.F9t(void 0),this.gi&&this.gi.CS(),this.R9t&&(this.R9t.style.display="none"),this.t.ya.fn(Ac.ra,this.rG),this.t.fn(Zr.pn,this.rG),this.G9t&&Gs(this.G9t),this.E9t=t}H9t(){var t;return null==(t=this.t.Wa())?void 0:t.vr}q9t(t){let i=this.zvt,e=this.I9t;this.X9t&&(this.Z9t=void 0,this.j9t()),this.X9t=t,this.X9t&&(this.X9t.depthNear=.1,this.X9t.depthFar=1024),this.I9t=e,this.zvt!==i&&this.Co(new dl),this.I9t!==e&&this.Co(new hr)}K9t(t){let i=this.zvt;this.J9t=t,this.zvt!==i&&this.Co(new dl)}F9t(t){let i=this.zvt;this.$9t=t,this.zvt!==i&&this.Co(new dl)}t7t(t){let i=this.zvt,e=this.I9t;this.i7t=t,this.gi&&(t?this.gi.CS():this.gi.kS()),this.zvt!==i&&this.Co(new dl),this.I9t!==e&&this.Co(new hr)}e7t(t){let i=this.I9t;this.s7t=t,this.I9t!==i&&this.Co(new hr)}n7t(){let t=this.R9t;this.r7t===t.width&&this.h7t===t.height||(t.width=this.r7t,t.height=this.h7t,this.o7t())}a7t(t,i){(0,h3.default)(t,i.F8t()),(0,a3.default)(t,t)}useDeviceOrientation(){return!!this.i7t||this.u7t}c7t(){const t=DeviceMotionEvent.requestPermission;"function"==typeof t&&t().catch(xs)}P9t(t,i){Eu(t),this.Co(new pe(new ce(i,t)))}l7t(){this.Co(new Vc)}get I9t(){return this.L9t?this.i7t:this.s7t}set I9t(t){this.L9t?t?this.O9t():this.j9t():this.e7t(t)}get S9t(){return this.u7t}set S9t(t){this.I9t||(this.u7t=t,t&&wn.Ga&&this.c7t())}get E9t(){let t=this.f9t;return{yaw:w3(t.J8t*s3),pitch:t.$8t*s3,roll:x.round(t.t9t*s3)}}set E9t(t){let i=w3(t&&+t.yaw||0),e=w3(t&&+t.pitch||0),s=w3(t&&+t.roll||0);this.f9t=new Kc(i*Yh,e*Yh,s*Yh)}get f9t(){if(this.zvt===st.Rs)return this.d7t.K8t();let t=this.f7t,i=this._7t,e=new Kc;return t&&e.mN(t),i&&e.mN(i),e}set f9t(t){const i=this.f9t.i9t();if(this.zvt===st.Rs)this.d7t=t.i9t();else{let i=this.X9t;i&&i.resetPose&&i.resetPose(),this.gi&&(this.gi.f9t=t),this.d7t=this.f9t.i9t()}A3(i,this.d7t)||this.l7t()}get f7t(){let t=this.Z9t&&this.Z9t.orientation;if(t)return(new Ya).Q8t(t).K8t()}get _7t(){return this.gi&&this.gi.f9t}get b9t(){return 180*this.g7t}set b9t(t){t&&t>=0&&t<=180&&(this.g7t=+t/180)}get L9t(){return!(!this.X9t||!this.X9t.capabilities.canPresent)}get zvt(){var t;return this.J9t&&((null==(t=this.H9t())?void 0:t.nativeVR)||this.$9t)?this.i7t?st.Oa:st.k9t:st.Rs}gn(){this.Vo(),this.W9t(),this.j9t(),this.t.fn(t.lo,this.do),sd.getVRDisplays&&(s.removeEventListener("vrdisplayconnect",this.x9t,!1),s.removeEventListener("vrdisplaydisconnect",this.x9t,!1),s.removeEventListener("vrdisplayactivate",this.O9t,!1),s.removeEventListener("vrdisplaydeactivate",this.j9t,!1),s.removeEventListener("vrdisplaypresentchange",this.z9t,!1))}constructor(t){super(),this.d7t=new Ya,this.g7t=.4,this.s7t=!1,this.u7t=!1,this.J9t=!1,this.wd=void 0,this.Y9t=Ga.NONE,this.gi=void 0,this.w7t=[],this.X9t=void 0,this.i7t=!1,this.Q9t=!1,this.R9t=void 0,this.$9t=void 0,this.y8t=null,this.G9t=0,this.C9t=void 0,this.Z9t=void 0,this.A7t=(0,to.default)(),this.v7t=(0,to.default)(),this.r7t=0,this.h7t=0,this.m7t=!0,this.p7t=0,this.y7t=()=>{this.t.fn(Ho.Tv,this.y7t);let t=this.H9t();t&&!t.nativeVR&&this.U9t()},this.do=()=>{this.W9t();let t=this.H9t();this.wd=t,t&&t.panoramaMode!==ol.NONE?(t.panoramaMode===ol.PM180&&ji("PanoramaMode is set to '180' while the VR API only supports '360', consider using the WebXR API if you need to play 180 degree content."),this.K9t(!0),t.nativeVR?this.Co(new dl):(this.Y9t=t.stereoMode,this.t.yn(Ho.Tv,this.y7t))):this.K9t(!1)},this.O9t=async()=>{if(this.zvt!==st.Rs&&this.L9t){this.m7t=!1,this.M7t();try{await this.X9t.requestPresent([{source:this.R9t}])}catch(t){this.P9t("Failed to present VR content.",p_.VR_PRESENTATION_ERROR)}finally{this.z9t()}}},this.j9t=async()=>{if(this.X9t)try{await this.X9t.exitPresent()}catch(t){}finally{this.z9t()}},this.x9t=async()=>{try{this.w7t=await sd.getVRDisplays(),this.X9t&&ea(this.w7t,this.X9t)||this.q9t(this.w7t[0])}catch(t){this.w7t=[],this.q9t(void 0)}},this.z9t=()=>{this.t7t(!!this.X9t&&this.X9t.isPresenting),this.rG(),this.m7t=!this.i7t,this.m7t?ds(this.o7t):this.M7t()},this.rG=()=>{if(!this.R9t)return;const t=this.t.we.offsetWidth,i=this.t.we.offsetHeight;let e=this.X9t;if(e&&this.I9t){let t=e.getEyeParameters("left"),i=e.getEyeParameters("right");t&&i&&(this.r7t=2*x.max(t.renderWidth,i.renderWidth),this.h7t=x.max(t.renderHeight,i.renderHeight))}else{let e=lg.Ys.B4;this.r7t=t*e,this.h7t=i*e}},this.o7t=()=>{if(!wn.Ga||!this.R9t||!this.m7t)return;this.M7t();let t=this.R9t,i=t.offsetWidth+1,e=t.offsetHeight;t.style.width=i+"px",t.style.height=e+"px",this.p7t=ds(this.M7t)},this.M7t=()=>{if(!this.p7t)return;let t=this.R9t;t.style.width="100%",t.style.height="100%",Gs(this.p7t),this.p7t=0},this.V9t=()=>{let t=this.X9t,i=this.g7t,e=this.R9t,s=this.$9t,n=this.y8t,r=this.C9t,h=this.A7t,o=this.v7t;this.n7t(),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),t&&this.useDeviceOrientation()&&(t.getFrameData(r),this.Z9t=r.pose);let a=this.f9t.i9t();this.a7t(o,a),t&&t.isPresenting?(this.G9t=t.requestAnimationFrame(this.V9t),n.viewport(0,0,.5*e.width,e.height),s.pr(r.leftProjectionMatrix,o,"left"),n.viewport(.5*e.width,0,.5*e.width,e.height),s.pr(r.rightProjectionMatrix,o,"right"),t.submitFrame()):(this.G9t=ds(this.V9t),(0,c3.default)(h,x.PI*i,e.width/e.height,.1,1024),this.I9t?(n.viewport(0,0,.5*e.width,e.height),s.pr(h,o,"left"),n.viewport(.5*e.width,0,.5*e.width,e.height),s.pr(h,o,"right")):(n.viewport(0,0,e.width,e.height),s.pr(h,o))),A3(a,this.d7t)||(this.d7t.Amt(a),this.l7t())},this.t=t,this.f9t=g3,this.va=_3(this),this.ko()}};r(),ti((function(t){return class extends t{fa(){if(null!==this.T7t){const t=this.T7t.va;return Ru(super.fa(),{vr:t})}return super.fa()}gn(){var t;null==(t=this.T7t)||t.gn(),super.gn()}constructor(t,i){super(t,i),this.T7t=null,i.vr.useWebXR||(this.T7t=new v3(this))}}}),tu.Za),r(),r(),r(),r();var m3=class{kS(){this.Le||(this.Le=!0,this.Us.addEventListener("mousedown",this.s9t),this.Us.addEventListener("touchstart",this.n9t),s.addEventListener("mousemove",this.ir),s.addEventListener("touchmove",this.o9t),s.addEventListener("mouseup",this.r9t),s.addEventListener("touchend",this.a9t),this.h9t(s))}CS(){this.Le&&(this.Le=!1,this.Us.removeEventListener("mousedown",this.s9t),this.Us.removeEventListener("touchstart",this.n9t),s.removeEventListener("mousemove",this.ir),s.removeEventListener("touchmove",this.o9t),s.removeEventListener("mouseup",this.r9t),s.removeEventListener("touchend",this.a9t),this.d9t(s))}h9t(t){if(iD(t));else if(on(t))try{t.parent.addEventListener("mouseup",this.r9t),this.h9t(t.parent)}catch(i){t.document.documentElement.addEventListener("mouseleave",this.u9t)}}d9t(t){if(t.document.documentElement.removeEventListener("mouseleave",this.u9t),on(t))try{t.parent.removeEventListener("mouseup",this.r9t),this.d9t(t.parent)}catch(t){}}M9t(){this.N7t=!1}p9t(){const t=this.I7t.D7t;t.yaw+=2*x.PI*this.S7t.x*.4/this.Us.clientWidth,t.pitch+=2*x.PI*this.S7t.y*.5/this.Us.clientHeight,t.pitch=Sc(t.pitch,-x.PI/2,x.PI/2),this.I7t.D7t=t}T9t(){return(h.pointerLockElement||h.mozPointerLockElement||h.webkitPointerLockElement)===this.Us}gn(){this.CS()}constructor(t,i){this.Le=!1,this.E7t=new Nc,this.b7t=new Nc,this.S7t=new Nc,this.N7t=!1,this.s9t=t=>{this.E7t.zz(t.clientX,t.clientY),this.N7t=!0,t.preventDefault(),t.stopPropagation()},this.n9t=t=>{t.touches&&1===t.touches.length&&(this.E7t.zz(t.touches[0].pageX,t.touches[0].pageY),this.N7t=!0,t.preventDefault())},this.ir=t=>{if(this.N7t||this.T9t()){if(this.T9t()){const i=t.movementX||t.mozMovementX||0,e=t.movementY||t.mozMovementY||0;this.b7t.zz(this.E7t.x-i,this.E7t.y-e)}else this.b7t.zz(t.clientX,t.clientY);this.S7t.Y8t(this.b7t,this.E7t),this.E7t.Amt(this.b7t),this.p9t()}},this.o9t=t=>{this.N7t&&(this.b7t.zz(t.touches[0].pageX,t.touches[0].pageY),this.S7t.Y8t(this.b7t,this.E7t),this.E7t.Amt(this.b7t),this.p9t())},this.r9t=()=>{this.M9t()},this.a9t=()=>{this.M9t()},this.u9t=()=>{this.M9t()},this.I7t=t,this.Us=i}};r();var p3=class{L7t(t){t.clearColor(...this.AH),t.clear(t.COLOR_BUFFER_BIT)}k7t(t,i){t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.DEPTH_BUFFER_BIT),this.C7t.forEach((e=>{e.k7t(t,i)}))}x7t(t){this.C7t.push(t)}O7t(){this.C7t=[]}constructor(){this.AH=[0,0,0,1],this.C7t=[]}};r(),r(),r();var y3=class{j7t(t,i,e){const s=t.createBuffer();return null===s?(ji("Failed to create buffer."),null):(t.bindBuffer(i,s),t.bufferData(i,e,t.STATIC_DRAW),s)}constructor(t,i,e,s,n){this.z7t=t,this.FL=this.j7t(t,i,e),this.P7t=s,this.v0=n,this.B7t=!1,this.R7t=0,this.Zu=0}},M3=class extends y3{kS(t){if(null===this.FL)return void ji("Attempted to enable buffer that failed to initialize.");if(null===t)return void ji("Attempted to enable attribute without location.");const i=this.z7t;i.bindBuffer(i.ARRAY_BUFFER,this.FL),i.vertexAttribPointer(t,this.P7t,this.v0,this.B7t,this.R7t,this.Zu),i.enableVertexAttribArray(t)}CS(t){t&&this.z7t.disableVertexAttribArray(t)}constructor(t,i,e){super(t,t.ARRAY_BUFFER,i,e,t.FLOAT)}};var T3,Gc,vh,N3=class extends y3{U7t(){const t=this.z7t;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.FL),t.drawElements(t.TRIANGLES,this.Q7t,this.v0,this.Zu)}constructor(t,i){super(t,t.ELEMENT_ARRAY_BUFFER,i,1,t.UNSIGNED_SHORT),this.Q7t=i.length}};r(),function(t){t.VertexPos="aVertexPosition",t.VertexUV="aVertexUV",t.VertexColor="aVertexColor"}(T3||(T3={})),function(t){t.ProjectionMat="uProjectionMatrix",t.ModelViewMat="uModelViewMatrix",t.Texture="uTexture"}(Gc||(Gc={})),function(t){t.Normal="vNormal",t.Color="vColor",t.UV="vUV"}(vh||(vh={}));var D3=class{F7t(t,i,e){const s=this.Y7t(t,t.VERTEX_SHADER,i),n=this.Y7t(t,t.FRAGMENT_SHADER,e);if(null===s||null===n)return ji("Failed to create vertex or fragment shader."),null;const r=t.createProgram();return null===r?(ji("Failed to create shader program"),null):(t.attachShader(r,s),t.attachShader(r,n),t.linkProgram(r),t.getProgramParameter(r,t.LINK_STATUS)?r:(ji("Failed to initialize shader program"),null))}Y7t(t,i,e){const s=t.createShader(i);if(null===s)return ji("failed to create shader."),null;if(t.shaderSource(s,e),t.compileShader(s),!t.getShaderParameter(s,t.COMPILE_STATUS)){const i=t.getShaderInfoLog(s);return ji("Failed to compile shader with error: "+i),t.deleteShader(s),null}return s}G7t(){return this.V7t}W7t(t){const i=this.V7t;if(null===i)return ji("Attempted to retrieve attribute location when shader program was not initialized"),null;const e=this.z7t.getAttribLocation(i,t);return-1===e?null:e}H7t(t){const i=this.V7t;if(null===i)return ji("Attempted to retrieve uniform location when shader program was not initialized"),null;const e=this.z7t.getUniformLocation(i,t);return null===e&&Eu("Attempted to retrieve nonexistent uniform: "+t),e}constructor(t,i,e){this.z7t=t,this.V7t=this.F7t(this.z7t,i,e)}},mh=class{q7t(){const t=this.X7t.length,i=x.max(...this.Z7t);return i>=t?(Eu("Created geometry where largest index ("+i+") is larger than/equal to attribute array size ("+t+")"),!1):(i<t-1&&ji("Created geometry where largest index ("+i+") is smaller than attribute buffer - 1 ("+(t-1)+") resulting in unused vertices"),!this.K7t||this.K7t.length===t||(Eu("Created geometry where position ("+t+") and uv ("+this.K7t.length+") buffers have different length."),!1))}J7t(t,i){if(!this.q7t())throw new b("Failed to validate buffers for WebGLGeometry.");const e=function(t,i){const e=[];return i.forEach((t=>{e.push(t.x,t.y,t.z)})),new M3(t,new Float32Array(e),3)}(t,this.X7t),s=function(t,i){return new N3(t,new Uint16Array(i))}(t,this.Z7t),n=function(t,i){const e=[];return i.forEach((t=>{e.push(t.x,t.y)})),new M3(t,new Float32Array(e),2)}(t,this.K7t);return new I3(e,s,n,i)}constructor(t,i,e){this.X7t=t,this.Z7t=i,this.K7t=e}},I3=class{$7t(){this.X7t.kS(this.tti),null!==this.iti&&this.K7t.kS(this.iti)}eti(){this.X7t.CS(this.tti),null!==this.iti&&this.K7t.CS(this.iti)}k7t(){this.Z7t.U7t()}constructor(t,i,e,s){this.X7t=t;const n=s.W7t(T3.VertexPos);if(null===n)throw new b("Failed to get position attribute location.");this.tti=n,this.K7t=e,this.iti=s.W7t(T3.VertexUV),this.Z7t=i}},S3=class extends mh{constructor(t=1,i=32,e=16,s=0,n=2*x.PI,r=0,h=x.PI){let o=0;const a=x.min(r+h,x.PI),u=[],c=[],l=[],d=[];for(let u=0;u<=e;u++){const f=[],_=u/e;let g=0;0===u&&0===r?g=.5/i:u===e&&a===x.PI&&(g=-.5/i);for(let e=0;e<=i;e++){const a=e/i,u=-t*x.cos(s+a*n)*x.sin(r+_*h),d=t*x.cos(r+_*h),w=t*x.sin(s+a*n)*x.sin(r+_*h);c.push(new io(u,d,w)),l.push(new Nc(a+g,1-_)),f.push(o++)}d.push(f)}for(let t=0;t<e;t++)for(let s=0;s<i;s++){const i=d[t][s+1],n=d[t][s],h=d[t+1][s],o=d[t+1][s+1];(0!==t||r>0)&&u.push(i,n,o),(t!==e-1||a<x.PI)&&u.push(n,h,o)}super(c,u,l)}};r(),r();var E3=[0,0,0,255,0,0,0,255,0,0,0,255,0,0,0,255],b3=class{sti(){const t=this.z7t;t.activeTexture(this.nti),t.bindTexture(t.TEXTURE_2D,this.rti)}Qg(){const t=this.z7t;t.activeTexture(this.nti),t.bindTexture(t.TEXTURE_2D,this.rti),t.uniform1i(this.hti,0)}oti(t){const i=this.z7t;i.bindTexture(i.TEXTURE_2D,this.rti),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.texImage2D(i.TEXTURE_2D,this.fK,this.ati,this.uti,this.cti,t),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!1)}lti(t){const i=this.z7t;i.bindTexture(i.TEXTURE_2D,this.rti),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),t.j9.QY(i,i.TEXTURE_2D,this.fK,this.ati,this.uti,this.cti),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!1)}constructor(t,i){if(this.z7t=t,this.rti=t.createTexture(),null===this.rti)throw new b("Failed to create texture");const e=i.H7t(Gc.Texture);if(null===e)throw new b("Failed to get texture location.");this.hti=e,t.bindTexture(t.TEXTURE_2D,this.rti),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),this.nti=t.TEXTURE0,this.fK=0,this.ati=t.RGBA,this.uti=t.RGBA,this.cti=t.UNSIGNED_BYTE,t.texImage2D(t.TEXTURE_2D,this.fK,this.ati,2,2,0,this.uti,this.cti,new T(E3))}},L3="\n    attribute vec4 "+T3.VertexPos+";\n    attribute vec2 "+T3.VertexUV+";\n\n    uniform mat4 "+Gc.ModelViewMat+";\n    uniform mat4 "+Gc.ProjectionMat+";\n    \n    varying mediump vec2 "+vh.UV+";\n    \n    void main() {\n      gl_Position = "+Gc.ProjectionMat+" * "+Gc.ModelViewMat+" * "+T3.VertexPos+";\n      "+vh.UV+" = "+T3.VertexUV+";\n    }\n",k3="\n    varying mediump vec2 "+vh.UV+";\n    \n    uniform sampler2D "+Gc.Texture+";\n\n    void main() {\n      gl_FragColor = texture2D("+Gc.Texture+", "+vh.UV+");\n    }\n",C3=class{G7t(){return this.V7t}kS(){this.z7t.useProgram(this.V7t.G7t()),this.rti.Qg()}dti(t){this.rti.oti(t)}fti(t){this.rti.lti(t)}constructor(t){this.z7t=t,this.V7t=new D3(t,L3,k3),this.rti=new b3(t,this.V7t)}};r();var x3=class{k7t(t,i){if(this._ti(i.gti)){this.wti.$7t(),this.Ati.kS();const e=this.vti,s=i.mti,n=(0,u3.default)(s,s,e);t.uniformMatrix4fv(this.pti,!1,n);const r=i.yti;t.uniformMatrix4fv(this.Mti,!1,r),this.wti.k7t(),this.wti.eti()}}_ti(t){return"none"===this.gti||"right"!==t&&"left"===this.gti||"right"===t&&"right"===this.gti}get vti(){const t=(0,to.default)(),i=this.po;return(0,d3.default)(t,t,i.F8t()),(0,l3.default)(t,t,this.Tti.x,new Float32Array([1,0,0])),(0,l3.default)(t,t,this.Tti.y,new Float32Array([0,1,0])),(0,l3.default)(t,t,this.Tti.z,new Float32Array([0,0,1])),t}constructor(t,i,e,s){this.po=new io,this.Tti=new io,this.gti="none",this.Ati=e;const n=e.G7t();this.wti=i.J7t(t,n),s&&(this.gti=s);const r=n.H7t(Gc.ModelViewMat);if(null===r)throw new b("Failed to get model view matrix location.");this.pti=r;const h=n.H7t(Gc.ProjectionMat);if(null===h)throw new b("Failed to get projection matrix location.");this.Mti=h}};r();var O3=class{Nti(){const t=(0,to.default)();return(0,c3.default)(t,this.Dti,this.Iti,this.Sti,this.Eti)}bti(){this.Lti=this.Nti()}get yti(){return new Float32Array(this.Lti)}set yti(t){this.Lti=t}kti(){const t=(0,to.default)(),i=(0,o3.default)((0,to.default)(),this.Cti.F8t()),e=(0,h3.default)((0,to.default)(),this.xti.F8t());return(0,u3.default)(t,i,e),(0,a3.default)(t,t),t}Oti(){this.jti=this.kti()}get mti(){return new Float32Array(this.jti)}zti(){this.Oti(),this.bti()}Zn(){this.Cti=new io,this.Tti=new Ya,this.zti()}Pti(t){const i=this.xti.K8t();i.mN(t),this.Tti=i.i9t()}Bti(t){this.Tti=t.i9t()}get Rti(){return this.Dti}set Rti(t){this.Dti=t,this.bti()}get Uti(){return this.Iti}set Uti(t){this.Iti=t,this.bti()}get po(){return(new io).Amt(this.Cti)}set po(t){this.Cti=t,this.Oti()}get Tti(){return(new Ya).Amt(this.xti)}set Tti(t){this.xti=t,this.Oti()}constructor(t){this.Dti=72*x.PI/180,this.Iti=1.77,this.Sti=.1,this.Eti=100,this.gti="none",this.Cti=new io,this.xti=new Ya,this.Lti=this.Nti(),this.jti=this.kti(),t&&(this.gti=t)}},j3=1e-4,z3=class extends i{ko(){this.Qti(),this.z7t?sd.xr?(sd.xr.addEventListener("devicechange",this.Fti),this.Yti().then((()=>{this.Gti?(this.Vti(),this.Wti(),this.Hti()):this.P9t("XR: Inline session not available. Panorama functionality will not work.",p_.VR_PRESENTATION_ERROR)}))):this.P9t("Your browser does not support WebXR",p_.VR_PLATFORM_UNSUPPORTED):this.P9t("Your browser does not support webGL",p_.VR_PLATFORM_UNSUPPORTED)}Hti(){this.Qo.ya.yn(Ac.ra,this.mn),this.Qo.yn(Zr.pn,this.mn),this.Qo.yn(t.lo,this.do),this.Qo.yn(t.XA,this.tQ)}Qti(){this.qti=h.createElement("canvas"),this.qti.className="theoplayer-vr",this.qti.style.zIndex="2",this.qti.style.background="black",this.qti.style.display="none",this.Qo.we.appendChild(this.qti),ta(this.qti);let t=this.qti.getContext("webgl2");t||(t=this.qti.getContext("webgl")),t&&(this.z7t=t,this.Xti=new m3(this,this.qti))}async Yti(){sd.xr?await Promise.all([sd.xr.isSessionSupported("inline").then((t=>{this.Gti=t})).catch((t=>{this.Gti=!1,this.P9t("exception when calling xr.isSessionSupported for inline session: "+t,p_.VR_PRESENTATION_ERROR)})),sd.xr.isSessionSupported("immersive-vr").then((t=>{this.Zti=t})).catch((t=>{this.Zti=!1,this.P9t("exception when calling xr.isSessionSupported for immersive-vr session: "+t,p_.VR_PRESENTATION_ERROR)}))]):(this.Gti=!1,this.Zti=!1)}Vti(){const t=this.H9t();this.$x=t,this.J9t=Boolean(t),this.J9t&&(this.Kti=(null==t?void 0:t.stereoMode)||Ga.NONE,this.Jti=(null==t?void 0:t.panoramaMode)||ol.NONE,this.$ti&&(this.tii(this.Jti,this.Kti),this.U9t()))}tii(t,i){if(!this.z7t||t===ol.NONE)return;const e=this.z7t;let s,n;this.eii.O7t(),t===ol.PM360?(s=2*x.PI,n=-x.PI/2):(s=x.PI,n=-x.PI);const r=new S3(16,60,40,0,s),h=[],o=[];for(let t=0;t<r.K7t.length;t++){const e=r.K7t[t];switch(i){case Ga.NONE:h.push(e),o.push(e);break;case Ga.VERTICAL:h.push(new Nc(e.x,.5*e.y)),o.push(new Nc(e.x,.5*e.y+.5));break;case Ga.HORIZONTAL:h.push(new Nc(.5*e.x,e.y)),o.push(new Nc(.5*e.x+.5,e.y))}}r.X7t.forEach((t=>{t.x*=-1}));const a=new mh(r.X7t,r.Z7t,h),u=new mh(r.X7t,r.Z7t,o);this.sii=new C3(e);const c=new x3(e,a,this.sii,"left");c.Tti.y=n,this.eii.x7t(c);const l=new x3(e,u,this.sii,"right");l.Tti.y=n,this.eii.x7t(l)}U9t(){this.qti.style.display="block",this.Gti&&this.Qo.yn(t.jh,this.nii)}W9t(){this.rii(),this.Qo.fn(t.jh,this.nii),this.qti.style.display="none"}hii(){this.oii(),this.aii()}async uii(){if(this.cii||!this.Gti)return;const t={optionalFeatures:["local"]};try{const i=await sd.xr.requestSession("inline",t);let e;e=wn.Qs?wn._b?"viewer":"local":"viewer";const s=await i.requestReferenceSpace(e);i.addEventListener("end",this.oii),this.lii=s,this.cii=i,this.Xti.kS(),this.dii(),await i.updateRenderState({baseLayer:new XRWebGLLayer(i,this.z7t),inlineVerticalFieldOfView:this.Dti*Yh})}catch(t){this.oii(),this.P9t(t,p_.VR_PRESENTATION_ERROR)}}oii(){this.cii&&(this.rii(),this.Xti.CS(),this.cii.removeEventListener("end",this.aii),this.cii.end(),this.cii=null,this.Wti())}async fii(){if(!this._ii&&this.Zti){this.rii();try{const t=await sd.xr.requestSession("immersive-vr"),i=await t.requestReferenceSpace("local");t.addEventListener("end",this.aii),this.gii=i,this._ii=t,await this.wii(),this.dii()}catch(t){this.aii(),this.P9t(t,p_.VR_PRESENTATION_ERROR)}}}async wii(){const t=this.z7t,i=this._ii;this.qti&&t&&i&&!this.Aii&&(this.qti.addEventListener("webglcontextlost",(t=>{t.preventDefault()})),this.qti.addEventListener("webglcontextrestored",(()=>{this.tii(this.Jti,this.Kti)})),this.Aii=!0,await t.makeXRCompatible(),await i.updateRenderState({baseLayer:new XRWebGLLayer(i,t)}))}Wti(){if(!this._ii&&this.z7t){const t=this.z7t,i=this.qti.clientWidth,e=this.qti.clientHeight,s=lg.Ys.B4;this.qti.width=i*s,this.qti.height=e*s,t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)}}dii(){null===this.vii&&(this.mii(),this.pii?this.vii=this.pii.requestAnimationFrame(this.yii):(this.Mii(),ji("XR: Attempted to start animation loop without inline or immersive session.")))}rii(){null!==this.vii&&(this.Mii(),this.pii?this.pii.cancelAnimationFrame(this.vii):ji("XR: Attempted to stop animation loop by cancelAnimationFrame even though there is no session running."),this.vii=null)}mii(){if(null!==this.Tii)return;const t=this.Qo.Ug();if(void 0===t||!(t instanceof HTMLVideoElement))return void ji("No video source.");if("function"!=typeof t.requestVideoFrameCallback)return;const i=()=>{this.sii.fti(this.Qo),this.Tii=t.requestVideoFrameCallback(i)};this.Nii=t,this.Tii=t.requestVideoFrameCallback(i)}Mii(){var t,i;null!==this.Tii&&(null==(i=this.Nii)||null==(t=i.cancelVideoFrameCallback)||t.call(i,this.Tii),this.Nii=null,this.Tii=null)}Dii(){return!!this.Iii||(wn.Ga?this.Sii&&this.Eii:this.Sii)}c7t(){const t=DeviceMotionEvent.requestPermission;"function"==typeof t&&t().then((t=>{this.Eii="granted"===t}))}bii(){return(!this.hg()||Boolean(this.Lii))&&this.kii()}hg(){return this.Qo.hg}kii(){return this.Qo.vg>=2}get J9t(){return this.Cii}set J9t(t){const i=this.zvt;this.Cii=t,this.zvt!==i&&this.Co(new dl)}get $ti(){return this.Jti!==ol.NONE}get Jti(){return this.xii}set Jti(t){const i=this.zvt;this.xii=t,this.zvt!==i&&this.Co(new dl)}get Zti(){return this.Oii}set Zti(t){const i=this.zvt;this.Oii=t,this.zvt!==i&&this.Co(new dl)}get L9t(){return this.Zti}get pii(){return this._ii||this.cii}get _ii(){return this.Iii}set _ii(t){const i=this.zvt;this.Iii=t,this.zvt!==i&&this.Co(new dl)}get jii(){return this.gii||this.lii}get E9t(){const t=this.zii.K8t();return{yaw:t.J8t*s3,pitch:t.$8t*s3,roll:t.t9t*s3}}set E9t(t){const i=P3(t&&t.pitch||0)*Yh,e=P3(t&&t.roll||0)*Yh,s=P3(t&&t.yaw||0)*Yh,n=new Kc(s,i,e);this.zii=n.i9t()}get D7t(){const t=this.Pii.K8t();return{yaw:t.J8t,pitch:t.$8t,roll:t.t9t}}set D7t(t){const i=B3(t&&t.pitch||0),e=B3(t&&t.roll||0),s=B3(t&&t.yaw||0),n=new Kc(s,i,e);this.Pii=n.i9t()}get zvt(){return this.J9t?this._ii?st.Oa:st.k9t:st.Rs}get I9t(){return null!==this._ii}set I9t(t){const i=this.I9t;t&&this.Zti?this.fii():this.aii(),this.I9t!==i&&this.Co(new hr)}get S9t(){return this.Sii}set S9t(t){null===this.Iii&&(this.Sii=t,t&&wn.Ga&&this.c7t())}get b9t(){return this.Dti}set b9t(t){t&&t>=0&&t<=180&&(this.Dti=t,null!==this.cii&&this.cii.updateRenderState({inlineVerticalFieldOfView:this.Dti*Yh}))}P9t(t,i){Eu(t),this.Co(new pe(new ce(i,t)))}H9t(){const t=this.Qo.Wa();return t&&t.vr}gn(){this.hii(),this.Vo()}constructor(t){super(),this.Gti=!1,this.Oii=!1,this.zii=new Ya,this.Bii=new Ya,this.Pii=new Ya,this.Dti=74,this.Sii=!1,this.$x=void 0,this.Kti=Ga.NONE,this.Cii=!1,this.xii=ol.NONE,this.eii=new p3,this.cii=null,this.Iii=null,this.lii=null,this.gii=null,this.Aii=!1,this.vii=null,this.Nii=null,this.Tii=null,this.Lii=0,this.Eii=!1,this.Fti=()=>{this.Yti()},this.do=()=>{this.W9t(),this.hii(),this.Vti()},this.nii=()=>{this.uii()},this.aii=()=>{this._ii&&(Vu("Ending immersive session"),this.rii(),this._ii.removeEventListener("end",this.aii),this._ii.end(),this._ii=null,this.gii=null,this.Aii=!1,this.cii?this.dii():this.uii())},this.mn=()=>{this.Wti()},this.yii=(t,i)=>{if(!this.z7t)return;const e=this.z7t,s=this.pii;if(null===this.Tii&&this.bii()&&(this.sii.fti(this.Qo),this.Lii>0&&(this.Lii-=1)),null===s||void 0===i)return void ji("Attempted to run webXR animation loop without session or xrFrame.");this.vii=s.requestAnimationFrame(this.yii);const n=s.renderState.baseLayer,r=i.getViewerPose(this.jii);if(void 0===n||void 0===r)return void ji("Attempted to run webXR animation loop without glLayer or viewerPose.");e.bindFramebuffer(e.FRAMEBUFFER,n.framebuffer);let h=new Kc,o=0;for(const t of r.views){const i=new O3(t.eye);if(i.yti=t.projectionMatrix,this.Dii()){let e;if(wn.Qs&&wn._b&&null===this.Iii){if(e=t.transform.inverse.orientation,0===e.x&&0===e.y&&0===e.z&&1===e.w)return}else e=t.transform.orientation;i.Tti=new Ya(e.x,e.y,e.z,e.w)}this.cii&&i.Pti(this.Pii.K8t()),h=h.mN(i.Tti.K8t()),o+=1;const s=n.getViewport(t);s&&e.viewport(s.x,s.y,s.width,s.height),this.eii.k7t(e,i)}const a=new Kc(h.J8t/o,h.$8t/o,h.t9t);this.zii=a.i9t(),function(t,i){const e=t.H8t(i);return 1-e*e<j3}(this.zii,this.Bii)||(this.Bii.Amt(this.zii),this.Co(new Vc))},this.tQ=()=>{this.Lii=5},this.Qo=t,this.va=_3(this),this.ko()}};function P3(t){return wl(t+180,360)-180}function B3(t){return wl(t+x.PI,2*x.PI)-x.PI}function R3(t,i){let e=i;for(let i in t)dt(t[i])?(e[i]=e[i]||{},R3(t[i],e[i])):pl.call(e,i)||(e[i]=t[i]);return e}r(),ti((function(t){return class extends t{fa(){return null!==this.I7t?Ru(super.fa(),{vr:this.I7t.va}):super.fa()}gn(){var t;null==(t=this.I7t)||t.gn(),super.gn()}constructor(t,i){super(t,i),this.I7t=null,i.vr.useWebXR&&(this.I7t=new z3(this))}}}),tu.Za),r(),r(),r();var U3=class{getEpochTimeMs(){return Qo()}release(){}};r();var Q3=class{createTimer(t,i,e){let s=v(t,i);return()=>m(s)}release(){}};r();var F3=class{makeRequest(t,i,e,s,n,r){const h=function(t){switch(t.toLowerCase()){case"get":return Yc.GET;case"post":return Yc.POST;case"put":return Yc.PUT;case"delete":return Yc.DELETE;case"head":return Yc.HEAD;case"options":return Yc.OPTIONS;default:throw new b("Request method unknown.")}}(t);if(this.Rii){if(h===Yc.GET)(new Image).src=i+"?"+e;else{const t=e||new ArrayBuffer(0),n=s||void 0;this.gE.CY({zu:i,eE:t,LP:n})}return()=>{}}const o=new Ao,a=s?{"Content-Type":s}:void 0,u=new ec({zu:i,eE:e,uE:!1,rE:er.Ru,NS:n,nE:h,a_:o.a_,sE:a});return this.Uii(u,r),()=>o.c_()}async Uii(t,i){if(i)try{const e=await this.gE.mS(t);if(e.TS>=200&&e.TS<300){i(!0,await e.wE())}else i(!1,"HTTP"+e.TS)}catch(t){i(!1,String(t))}}release(){s.removeEventListener("beforeunload",this.Qii)}constructor(t){this.Rii=!1,this.Qii=()=>{this.Rii=!0},this.gE=t,s.addEventListener("beforeunload",this.Qii)}};r();var Y3=class{saveData(t,i,e,s){try{return localStorage.setItem(t+"/"+i,e),s(!0,null)}catch(t){return s(!1,t.toString())}}loadData(t,i,e){try{return e(!0,localStorage.getItem(t+"/"+i))}catch(t){return e(!1,t.toString())}}release(){}};r();var G3=()=>null,V3=class{getDeviceBrand(){return this.Fii?this.Fii.brand:null}getDeviceCategory(){return wn.iL||wn.sL?this.Yii.Client.DeviceCategory.ANDROID_DEVICE:wn.oL||wn.uL?this.Yii.Client.DeviceCategory.APPLE_DEVICE:wn.lL?this.Yii.Client.DeviceCategory.CHROMECAST:this.Yii.Client.DeviceCategory.WEB}getDeviceManufacturer(){return this.Fii?this.Fii.manufacturer:null}getDeviceModel(){return this.Fii?this.Fii.model:null}getDeviceVersion(){return this.Fii?this.Fii.version:null}getDeviceType(){return null}getFrameworkName(){return wn.iL?"THEOplayer AndroidTV SDK":wn.sL?"THEOplayer Android SDK":wn.oL?"THEOplayer IOS SDK":wn.uL?"THEOplayer tvOS SDK":wn.lL?"THEOplayer Chromecast SDK":"THEOplayer Web SDK"}release(){}constructor(t,i){this.Yii=t,this.Fii=i,this.getBrowserName=G3,this.getBrowserVersion=G3,this.getFrameworkVersion=G3,this.getOperatingSystemName=G3,this.getOperatingSystemVersion=G3}};r();var W3=class{consoleLog(t,i){switch(i){case Conviva.SystemSettings.LogLevel.ERROR:return Eu(t);case Conviva.SystemSettings.LogLevel.WARNING:return ji(t);default:return Vu(t)}}release(){}};r();var Cc=self.theoplayerDeviceMetadata;r();var H3,q3=class{getPHT(){return-1}getBufferLength(){const t=Ki.xn(this.Qo.L_()),i=this.Qo.z_(),e=t.ZB(i);if(e<0)return 0;return Ut(t.jn(e)-i)}getSignalStrength(){return 1e3}getRenderedFrameRate(){return-1}constructor(t){this.Qo=t}},X3="conviva";function Z3(t){return t&&t.integration===X3}function K3(t){if(t)for(let i of t)if(Z3(i))return i}function J3(t,i){if(!i)return t;if(!t)return i;return R3(i,se(t))}var $3=["emptied","play","pause","playing","waiting","ended","error","readystatechange"],t5=class{get va(){return this.Xa||(this.Xa=function(t){return{get client(){return t.Gii},get contentSessionKey(){return t.Vii},createSession:()=>t.vx(),cleanupSession:()=>t.Wii()}}(this)),this.Xa}get Gii(){return this.Hii}get Vii(){return this.qii}Xii(){return this.t.hg?this.Zii.PlayerStateManager.PlayerState.PAUSED:this.Kii||this.t.vg<ov.eN?this.Zii.PlayerStateManager.PlayerState.BUFFERING:this.Zii.PlayerStateManager.PlayerState.PLAYING}T$(t){let i=this.Jii;i&&i.getDuration()!==t&&i.setDuration(t)}$ii(t){let i=this.Jii;i&&i.getPlayerState()!==t&&i.setPlayerState(t)}tei(){this.Kii="none"===this.t.gg||this.t.vg<ov.iN,this.yVt(),this.t.Tg&&this.$U(),this.iei&&this.eei()}TWt(){this.sei&&!this.sei.manualSessionControl&&(this.vx(),this.t._Q.eg||this.nei())}jWt(){this.Jii&&this.$ii(this.Zii.PlayerStateManager.PlayerState.STOPPED),this.sei&&!this.sei.manualSessionControl&&this.Wii()}vx(){if(this.rei&&void 0===this.qii){let t=this.Hii.getPlayerStateManager();this.Jii=t,t.setPlayerVersion&&t.setPlayerVersion("7.0.0"),this.qii=this.Hii.createSession(this.rei),this.tei(),this.Hii.attachPlayer(this.qii,this.Jii);const i=new q3(this.t);t.setClientMeasureInterface(i)}}Wii(){this.lQ=!1,this.Kii=!1,this.Jii&&(this.Hii.releasePlayerStateManager(this.Jii),this.Jii=void 0),void 0!==this.qii&&(this.Hii.cleanupSession(this.qii),this.qii=void 0)}hei(){this.t.yn("durationchange",this.oei),this.t.yn("seeking",this.$U),this.t.yn("seeked",this.tQ),this.t.yn("ended",this.aei),this.t.yn("error",this.K1),this.t.yn("segmentnotfound",this.uei),this.t.yn(["loadstart","waiting"],this.cei),this.t.yn(["emptied","playing"],this.lei),this.t.yn($3,this.yVt),this.t.Oc&&(this.t.Oc.yn("w7",this.dei),this.t.Oc.yn("g7",this.fei)),s.addEventListener("beforeunload",this.aei),this._ei()}gei(){this.t.fn("durationchange",this.oei),this.t.fn("seeking",this.$U),this.t.fn("seeked",this.tQ),this.t.fn("ended",this.aei),this.t.fn("error",this.K1),this.t.fn("segmentnotfound",this.uei),this.t.fn(["loadstart","waiting"],this.cei),this.t.fn(["emptied","playing"],this.lei),this.t.fn($3,this.yVt),this.t.Oc&&(this.t.Oc.fn("w7",this.dei),this.t.Oc.fn("g7",this.fei)),this.t.rt.fn(gt.ew,this._ei),this.iei&&(this.iei.fn(Os.Sw,this.eei),this.iei=void 0),s.removeEventListener("beforeunload",this.aei)}gn(){this.gei(),this.jWt(),this.Wii()}constructor(i,e,s,n){this.t=i,this.Zii=e,this.Hii=s,this.wei=n,this.lQ=!1,this.Kii=!1,this.rei=void 0,this.sei=void 0,this.Jii=void 0,this.qii=void 0,this.iei=void 0,this.dei=t=>{void 0!==this.Vii&&(this.Hii.adStart(this.Vii,function(t){const i=t.Xl.n7().integration;return"theo"===i||"google-ima"===i||"freewheel"===i?Conviva.Client.AdStream.SEPARATE:Conviva.Client.AdStream.CONTENT}(t),this.Zii.Client.AdPlayer.CONTENT,function(t,i){const e=t.Xl.n7().timeOffset;return 0===e?Conviva.Client.AdPosition.PREROLL:-1===e||Va(e,i,.001)?Conviva.Client.AdPosition.POSTROLL:Conviva.Client.AdPosition.MIDROLL}(t,this.t.Td())),this.Hii.detachPlayer(this.Vii))},this.fei=()=>{void 0!==this.Vii&&void 0!==this.Jii&&(this.Hii.attachPlayer(this.Vii,this.Jii),this.Hii.adEnd(this.Vii))},this.cei=()=>{this.Kii=!0},this.lei=()=>{this.Kii=!1},this.oei=()=>{let t=this.t.Td();j(t)||t===1/0||this.T$(t)},this.aei=()=>{this.jWt()},this.K1=()=>{let t=this.t.Q_();t&&this.Jii&&this.Jii.sendError(t.code+": "+t.message,this.Zii.Client.ErrorSeverity.FATAL),this.jWt()},this.Aei=()=>{!this.t._Q.eg&&this.Jii&&this.nei()},this.nei=()=>{var t;null==(t=this.Jii)||t.sendError("A Video Playback Failure has occurred: Waiting for the manifest to come back online",this.Zii.Client.ErrorSeverity.FATAL)},this.uei=()=>{var t;null==(t=this.Jii)||t.sendError("A Video Playback Failure has occurred: Segment not found",this.Zii.Client.ErrorSeverity.FATAL)},this.tQ=()=>{var t;this.lQ&&(this.lQ=!1,(null==(t=this.Jii)?void 0:t.setPlayerSeekEnd)&&this.Jii.setPlayerSeekEnd())},this.$U=()=>{var t;this.lQ||(this.lQ=!0,(null==(t=this.Jii)?void 0:t.setPlayerSeekStart)&&this.Jii.setPlayerSeekStart(-1))},this.do=()=>{this.jWt(),this.sei=void 0,this.rei=void 0,this.vei()},this.vei=()=>{if(this.rei)return;let t=this.t.Wa();if(!t)return;let i=this.t.bt;if(!i)return;let e=function(t){return K3(t.analytics)}(t),s=J3(e,this.wei);if(!s)return;let n=s.contentMetadata;if(n&&this.Zii){let t=i.src;this.Hii||(this.Hii=function(t,i,e){if(!H3){let s=new i.SystemSettings,n=new i.SystemInterface(new U3,new Q3,new F3(e),new Y3,new V3(i,Cc),new W3),r=new i.SystemFactory(n,s),h=new i.ClientSettings(t.customerKey),o=Ih(t.heartbeatInterval);o>0?h.heartbeatInterval=o:void 0===h.heartbeatInterval&&(h.heartbeatInterval=10);let a=Oa(t.gatewayUrl);a&&(h.gatewayUrl=a),H3=new i.Client(h,r)}return H3}(s,this.Zii,this.t.tj)),this.sei=s,this.rei=function(t,i,e){let s=new e.ContentMetadata;return s.assetName=t.assetName,s.streamUrl=i,s.streamType=function(t,i){return t?i.ContentMetadata.StreamType.LIVE:!1===t?i.ContentMetadata.StreamType.VOD:i.ContentMetadata.StreamType.UNKNOWN}(t.live,e),s.defaultBitrateKbps=t.defaultBitrateKbps,s.defaultResource=t.defaultResource,s.duration=t.duration,s.encodedFrameRate=t.encodedFrameRate,s.applicationName=t.applicationName||"THEOplayer",s.viewerId=t.viewerId||$e(),s.custom=t.custom,s}(n,t,this.Zii),this.t.hg||this.nii()}},this.nii=()=>{this.TWt()},this.eei=()=>{if(!this.iei||!this.Jii)return;let t=this.iei.Gw;if(t){let i=this.Jii;i.setBitrateKbps(t.Jz/1e3),i.setEncodedFrameRate&&t.xst&&i.setEncodedFrameRate(t.xst),i.setVideoResolutionWidth&&t.ji&&i.setVideoResolutionWidth(t.ji),i.setVideoResolutionHeight&&t.Ti&&i.setVideoResolutionHeight(t.Ti)}},this._ei=()=>{let t=this.t.rt;t&&t.fn(gt.ew,this._ei),t.U?(this.iei=t.jw(0),this.iei.fn(Os.Sw,this.eei),this.iei.yn(Os.Sw,this.eei)):t.yn(gt.ew,this._ei)},this.yVt=()=>{this.$ii(this.Xii())},this.t.yn("sourcechange",this.do),this.t.yn("currentsourcechange",this.vei),this.t.yn("play",this.nii),this.hei(),this.t._Q.yn(t.YA,this.Aei),this.t._Q.yn(t.GA,this.Aei)}};ti((function(t){return class extends t{gn(){this.p9&&this.p9.gn(),super.gn()}constructor(t,i){super(t,i);const e=s.Conviva;if(e){const t=function(t){return K3(Zv(t).analytics)}(i);this.p9=new t5(this,e,H3,t),this.P9.m9=this.p9}}}}),tu.X9),r(),r();var i5=class extends ra{get va(){return this.Xa||(this.Xa=function(t){let i,e={get status(){return t.TS},get tasks(){return t.B1t},get network(){return t._Q.va},createTask:(i,e)=>t.mei(i,e),addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)}};return i=new pa(t,e),e}(this)),this.Xa}get TS(){return this.pei.TS}get B1t(){return this.pei.B1t.va}get _Q(){return this.b9}mei(t,i,e){let s,n;if(void 0===e&&(e="persistent"),!t)throw new b("Unexpected - The source description is undefined");if(s=il(t),n=Z1(i),xS(s))throw new b("Invalid source description");return this.pei.x1t(s,n).va}constructor(t,i){super(),this.pei=t,this.b9=i,this.pei.yn("C_t",this.Ds)}};var e5=function(){const t=new jb(lg.tj,!1),i=Kn.gL,e=new n4(t),s=new H1(i,e),n=new Pb(t),r=new o1(i.Cet,s,"persistent");return new i5(r,n)}().va;function s5(t,i){if("function"==typeof t.getAll){return n5(void 0===i?t.getAll():t.getAll(i))}return function(t){let i=new Eo,e=[];return t.onsuccess=()=>{let s=t.result;s&&s.value?(e.push(s.value),s.continue()):i.jL(e),xs()},t.onerror=()=>{i.zL(t.error),xs()},i.PL}(void 0===i?t.openCursor():t.openCursor(i))}function n5(t){return new Promise(((i,e)=>{t.onsuccess=()=>{i(t.result),xs()},t.onerror=()=>{e(t.error),xs()}}))}r(),r(),r(),r(),r(),r(),r();var r5=class{c_(){if(this.ro)try{this.Iet.abort(),this.ro=!1}catch(t){}}constructor(t){this.Iet=t,this.ro=!0,this.PL=new Promise(((t,i)=>{this.Iet.oncomplete=()=>{this.ro=!1,t(),xs()},this.Iet.onerror=()=>{this.ro&&(this.ro=!1,i(this.Iet.error||new b("Transaction error")),xs())},this.Iet.onabort=()=>{this.ro=!1,i(new b("Transaction aborted")),xs()}}))}};async function $c(t,i,e){const s=new r5(t);try{const[t]=await Promise.all([i(e),s.PL]);return t}catch(t){if(!s.ro)throw new l1("IDBTransaction committed prematurely",t);throw t}finally{s.c_()}}var h5=class{get l(){return this.fit.l}fet(t){return Promise.resolve("persistent"===t)}_et(t,i){if(void 0===i&&(i="persistent"),"persistent"!==i)return Promise.reject(ot(i));return n5(this.yei(ge.jet).put(t))}async wet(t,i){if(void 0===i&&(i="persistent"),"persistent"!==i)return Promise.reject(ot(i));for(const e of t)await this._et(e,i)}async LL(t){return Boolean(await this.kL(t))}kL(t){return n5(this.yei(ge.Oet).get(t))}Aet(t,i){return n5(this.yei(ge.Oet).index(i).get(t))}async het(t){const i=[];for(let e of t){const t=await this.kL(e);t&&i.push(t)}return i}vet(){return s5(this.yei(ge.Oet))}met(t){return s5(this.yei(ge.Oet),t)}pet(t,i){return s5(this.yei(ge.Oet).index(i),t)}pN(t){return n5(this.yei(ge.jet).delete(t))}async yet(t){for(const i of t)await this.pN(i)}Met(){return n5(this.yei(ge.jet).clear())}yei(t){if(!this.Mei)throw new b("Lock was released");if(!function(t,i){return t===ge.Oet&&i===ge.Oet||i===ge.jet}(t,this.Mei.mode))throw new b("Incompatible transaction mode: "+this.Mei.mode+", expected "+t);return this.Mei.objectStore(this.l)}Tei(){this.fit.Nei(this),this.Mei=void 0}constructor(t,i){this.fit=t,this.Mei=i}};var o5=class{fet(t){return Promise.resolve("persistent"===t)}_et(t,i){return void 0===i&&(i="persistent"),"persistent"!==i?Promise.reject(ot(i)):this.Iet(ge.jet,(i=>i._et(t)))}wet(t,i){return void 0===i&&(i="persistent"),"persistent"!==i?Promise.reject(ot(i)):this.Iet(ge.jet,(i=>i.wet(t)))}LL(t){return this.Iet(ge.Oet,(i=>i.LL(t)))}kL(t){return this.Iet(ge.Oet,(i=>i.kL(t)))}Aet(t,i){return this.Iet(ge.Oet,(e=>e.Aet(t,i)))}het(t){return this.Iet(ge.Oet,(i=>i.het(t)))}vet(){return this.Iet(ge.Oet,(t=>t.vet()))}met(t){return this.Iet(ge.Oet,(i=>i.met(t)))}pet(t,i){return this.Iet(ge.Oet,(e=>e.pet(t,i)))}pN(t){return this.Iet(ge.jet,(i=>i.pN(t)))}yet(t){return this.Iet(ge.jet,(i=>i.yet(t)))}Met(){return this.Iet(ge.jet,(t=>t.Met()))}SNt(t){return this.Dei(),this._Nt=new h5(this,t),this._Nt}Dei(){if(void 0!==this._Nt)throw new b("Already locked")}Nei(t){if(this._Nt!==t)throw new b("Incorrect lock");this._Nt=void 0}oO(t){return this.GH.oO(t)}Iet(t,i){return this.oO((()=>this.Iei(t,i)))}async Iei(t,i){this.Dei();const e=this.Sei.transaction(this.l,t),s=this.SNt(e);try{return await $c(e,i,s)}finally{s.Tei()}}Eei(t){this.Dei();const i=this.Sei.transaction(this.l,t);return this.SNt(i)}static bei(t,i){let e;const s=new Promise((t=>{e=t})),n=t.reduce(((t,i)=>t.then((()=>{let t;const e=new Promise((i=>{t=i}));return i.oO((()=>(t(),s))).catch(xs),e}))),Promise.resolve());return e(n.then(i)),s}constructor(t,i){this._Nt=void 0,this.GH=new Vi,this.Sei=t,this.l=i}};r(),r(),r(),r(),r();var a5={_y:17,Lei:async t=>{const{transaction:i,database:e}=t,s=i.objectStoreNames;if(s&&s.length)for(let t=0;t<s.length;t++)e.deleteObjectStore(s[t]);e.createObjectStore(f5,{keyPath:"id"}),e.createObjectStore(_5,{keyPath:"key"}),e.createObjectStore(g5,{keyPath:"key"});e.createObjectStore(w5,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL");e.createObjectStore(A5,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL")}},u5=class{async kei(t){for(const i of this.Cei)this.xei<i._y&&await i.Lei(t)}constructor(t){this.xei=t}},c5=class extends u5{get Cei(){return[a5]}},l5=new class{Oei(t){this.jei=t}D8(t){return this.jei(t)}constructor(){this.jei=t=>new c5(t)}},d5=18,f5="cachingTask",_5="licences",g5="manifest",w5="segment",A5="segmentMetadata";async function v5(){!function(){if("undefined"==typeof indexedDB)throw new b("Indexed database unavailable")}();const t=indexedDB.open("theoplayer-cache-database",d5);return t.addEventListener("upgradeneeded",m5),await n5(t)}async function m5(t){const i=t.oldVersion<=d5?t.oldVersion:-1,e=t.target,s=e.result,n=e.transaction,r=l5.D8(i),h={database:s,transaction:n};await $c(n,(t=>r.kei(t)),h)}var p5=class{static get gL(){return this.Wet||(this.Wet=v5()),this.Wet}};p5.Wet=void 0,r();var y5=class{Iet(t){return t(this)}Tei(){this.Let.Tei(),this.bet.Tei(),this.ket.Tei(),this.Cet.Tei(),this.xet.Tei()}constructor(t,i){this.Let=t.Let.SNt(i),this.bet=t.bet.SNt(i),this.ket=t.ket.SNt(i),this.Cet=t.Cet.SNt(i),this.xet=t.xet.SNt(i)}};Kn.wa(class t{static async D8(){const i=await p5.gL;return new t(i)}Iet(t){const i=this.allCollections;return o5.bei(i,(()=>this.Iei(i,t)))}async Iei(t,i){const e=t.map((t=>t.l)),s=this.Sei.transaction(e,ge.jet),n=new y5(this,s);try{return await $c(s,i,n)}finally{n.Tei()}}get allCollections(){return[this.bet,this.Let,this.ket,this.Cet,this.xet]}constructor(t){this.Sei=t,this.Let=new o5(t,A5),this.bet=new o5(t,w5),this.ket=new o5(t,g5),this.Cet=new o5(t,f5),this.xet=new o5(t,_5)}}.D8),r(),r(),r();var M5=class{zei(t){const i=this.WV.E_(),e=t.createGain();for(const s of i){t.createMediaElementSource(s).connect(e)}return e}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){const t=this;return{createAudioSourceNode:i=>t.zei(i)}}constructor(t){this.Xa=void 0,this.WV=t}};ti((function(t){return class extends t{fa(){const t=this.Pei.va;return Ru(super.fa(),{get audio(){return t}})}constructor(t,i){super(t,i),this.Pei=new M5(this.T9)}}}),tu.Za),r(),r();ti((function(t){return class i extends t{ga(t){const e=i.Bei(this.wd.analytics),s=i.Bei(t?t.analytics:void 0);e||s?this.Rei(At({},e,s)):this.Uei&&this.Uei.disable(),super.ga(t)}Rei(t){if(this.Uei)this.Uei.enable(),this.Uei.setOptions(t);else{const i=s.youbora;if(!i)throw new b("Youbora JavaScript library not loaded.");if(!i.adapters.TheoPlayer2)throw new b("TheoPlayer2 adapter not available on Youbora JavasScript library");const e=new i.Plugin(t);e.setAdapter(new i.adapters.TheoPlayer2(this.va)),this.Oc&&i.adapters.TheoPlayer2.NativeAdsAdapter&&e.setAdsAdapter(new i.adapters.TheoPlayer2.NativeAdsAdapter(this.va)),this.Uei=e}}static Bei(t){if(t){const i=t.filter((t=>"youbora"===t.integration));if(0===i.length)return;if(i.length>1)throw new b("Only one youbora analytics configuration expected");const e=i[0],{integration:s}=e;return Nw(e,["integration"])}}gn(){this.Uei&&this.Uei.disable(),super.gn()}constructor(t,i){super(t,i)}}}),tu.X9),r(),r(),r();var T5=1,N5=0,D5=1e3,I5=class i extends wg{Qei(){const t=this.ct===1/0,i=t?T5:N5,e=t?-1:this.ct,s=Eh(this.Qo.rt.xw,this.Fei);this.Yei.setPresentationInformation(new this.Gei(i,e,s))}Fei(t){const i=[];for(const e of t.Hw.va){const t=e;t.width&&t.height&&i.push({trackIdx:e.id,bitrate:t.bandwidth,width:t.width,height:t.height,codecIdentifier:t.codecs})}return i}Vei(){return this.Qo.z_()*D5}get ct(){return this.Qo.Td()*D5}get Wei(){return this.Hei}get qei(){return this.Xei}set qei(t){this.Xei=t,t&&this.Yei.reportPlayerState(t)}set Zei(t){this.Kei=t}Jei(){return v((()=>{this.$ei(),this.tsi()}),i.isi)}esi(){this.Qo.Oc&&(this.Qo.Oc.yn("A7",this.ssi),this.Qo.Oc.yn("v7",this.nsi),this.Qo.Oc.yn("fHt",this.rsi),this.Qo.Oc.yn("OJt",this.hsi)),this.Qo.yn(t.kA,this.aei),this.Qo.yn(Bi.ha,this.K1),this.Qo.yn(t.Sh,this.osi),this.Qo.yn(t.jh,this.nii),this.Qo.yn(Ho.Tv,this.JU),this.Qo.yn(t.qA,this.rG),this.Qo.yn(t.XA,this.tQ),this.Qo.yn(Ho.Mv,this.ZU),this.Qo.yn(t.JA,this.asi)}usi(){this.Qo.Oc&&(this.Qo.Oc.fn("A7",this.ssi),this.Qo.Oc.fn("v7",this.nsi),this.Qo.Oc.fn("fHt",this.rsi),this.Qo.Oc.fn("OJt",this.hsi)),this.Qo.fn(t.kA,this.aei),this.Qo.fn(Bi.ha,this.K1),this.Qo.fn(t.Sh,this.osi),this.Qo.fn(t.jh,this.nii),this.Qo.fn(Ho.Tv,this.JU),this.Qo.fn(t.qA,this.rG),this.Qo.fn(t.XA,this.tQ),this.Qo.fn(Ho.Mv,this.ZU),this.Qo.fn(t.JA,this.asi)}gn(){m(this.lsi),this.usi()}constructor(t,i,e,s=MMPlayerState,n=MMAdState,r=MMPresentationInfo){super(),this.Qo=t,this.$x=i,this.Yei=e,this.dsi=s,this.fsi=n,this.Gei=r,this._si=!0,this.Hei=!1,this.Kei=void 0,this.Xei=void 0,this.gsi=void 0,this.ssi=t=>{const i=t.f7;i.MGt();var e;e=i.n7().duration;const s="linear"===i.n7().type;i.TGt(),i.mGt();s&&(this.Hei=!0),this.Zei=this.fsi.AD_IMPRESSION,this.Zei=this.fsi.AD_STARTED},this.nsi=t=>{this.Hei=!1,this.Zei=this.fsi.AD_COMPLETED},this.rsi=t=>{t.pQt===Je.ADBLOCK?this.Zei=this.fsi.AD_BLOCKED:this.Zei=this.fsi.AD_ERROR},this.hsi=()=>{this.Zei=this.fsi.AD_SKIPPED},this.asi=t=>{var i,e,s,n;t.aE===rv.vp&&(this.gsi&&t.QQ!==this.gsi&&this.Yei.reportABRSwitch(this.gsi,t.QQ),this.gsi=t.QQ,this.Yei.reportChunkRequest(new MMChunkInformation(t.Wy,t.QQ,t.fT,t.Wgt.zu,void 0,void 0,null!=(s=null==(i=t.Wgt.lst)?void 0:i[0])?s:0,null!=(n=null==(e=t.Wgt.lst)?void 0:e[1])?n:-1)))},this.aei=t=>{this.qei=this.dsi.STOPPED,this.Co(t)},this.K1=t=>{this.qei=this.dsi.ERROR,this.Yei.reportError(t.error,this.Vei())},this.osi=()=>{this.Wei?this.Zei=this.fsi.AD_PAUSED:this.qei=this.dsi.PAUSED},this.nii=()=>{this.Wei&&(this.Zei=this.fsi.AD_PLAY)},this.JU=()=>{this.Wei?(this.Kei===this.fsi.AD_PAUSED&&(this.Zei=this.fsi.AD_RESUMED),this.Zei=this.fsi.AD_PLAYING):(this._si&&(this._si=!1,this.Qei(),this.qei=this.dsi.STARTED),this.qei!==this.dsi.PAUSED&&this.qei!==this.dsi.BUFFERING||(this.qei=this.dsi.RESUMED))},this.rG=()=>{this.Yei.reportPresentationSize(this.Qo.Lg,this.Qo.Ig)},this.tQ=t=>{this.Wei||this.qei!==this.dsi.PAUSED||this.Yei.reportPlayerSeekCompleted(t.currentTime*D5)},this.ZU=()=>{this.Wei||(this.qei=this.dsi.BUFFERING)},this.tsi=()=>{this.Yei.reportDownloadRate(x.floor(ua.gL.Qz()))},this.$ei=()=>{this.Wei||this.Yei.reportPlaybackPosition(this.Vei())},this.qei=this.dsi.INITIALIZED,this.esi(),this.lsi=this.Jei()}};I5.isi=2e3,ti((function(i){return class extends i{gn(){super.gn(),this.wsi()}constructor(i,e){super(i,e),this.Asi=void 0,this.vsi=void 0,this.msi=()=>{this.vsi=void 0,this.wsi();const t=super.Wa();t&&(this.vsi=function(t,i){const e=function(t,i){if(t&&t.analytics)for(const i of t.analytics)if("smartsight"===i.integration)return i;if(i&&i.analytics)for(const t of i.analytics)if("smartsight"===t.integration)return t;return}(t,i);if(!e)return;return e}(t,this.wd)),this.psi()},this.psi=()=>{if(!this.Asi&&this.vsi&&this.bt&&this.bt.src&&!this.hg){const t=MMSmartStreaming.getInstance();!function(t,i,e){t.registerMMSmartStreaming(e.playerName,e.customerID,e.subscriberID,e.domainName),t.reportComponent("THEOSDK"),t.reportPlayerInfo("THEOplayer","THEOplayer","7.0.0"),t.reportDeviceInfo(void 0,void 0,void 0,void 0,void 0,s.innerWidth,s.innerHeight),t.initializeSession("QBRModeDisabled",i,e.metaURL,e.assetID)}(t,this.bt.src,this.vsi),this.Asi=new I5(this,this.vsi,t),this.Asi.yn("ended",this.wsi)}},this.wsi=()=>{this.Asi&&(this.Asi.gn(),this.Asi=void 0)},this.yn(t.lo,this.msi),this.yn(t.IA,this.psi),this.yn(t.jh,this.psi)}}}),tu.X9),r(),r();var S5=String.fromCharCode(95);var E5=class t{get va(){return this.Xa||(this.Xa=function(t){return{get adsManager(){return t.adsManager},get ids(){return t.ids},get adContainer(){return t.adContainer},get imaSDK(){return t.imaSDK},get sendEvent(){return t.sendEvent},set sendEvent(i){t.sendEvent=i}}}(this)),this.Xa}get id(){return this.NN}get adsManager(){return this.u3t}get ids(){return this.ysi}get adContainer(){return this.CVt}get sendEvent(){return this.Msi}set sendEvent(t){for(let t of this.Tsi)this.u3t.removeEventListener(t.type,t.listener);this.Tsi=[],this.Msi=t,this.Nsi()}get imaSDK(){return!0}Dsi(){for(let t in google.ima.AdEvent.Type)this.u3t.addEventListener(google.ima.AdEvent.Type[t],this.Isi),this.Tsi.push({type:google.ima.AdEvent.Type[t],listener:this.Isi})}Ssi(){Ri(this.Tsi);for(let t in google.ima.AdEvent.Type)this.u3t.removeEventListener(google.ima.AdEvent.Type[t],this.Isi)}Esi(t){this.kR.push({type:t.type,adVolume:this.adsManager.getVolume()})}Nsi(){this.Msi(this.kR),this.kR=[]}static bsi(i){return t.Lsi[i]||i}constructor(i,e,s,n){this.Isi=i=>{this.Esi({type:t.bsi(i.type)})},this.NN=i,this.u3t=e,this.ysi=s,this.CVt=n,this.Tsi=[],this.kR=[]}};E5.Lsi={loaded:"AdLoaded",impression:"AdImpression",start:"AdVideoStart",firstquartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdquartile:"AdVideoThirdQuartile",complete:"AdVideoComplete",pause:"AdPaused",skip:"AdSkipped",volumeChange:"AdVolumeChange"};var b5=class{ksi(t,i){this.Csi=h.createElement("script"),this.Csi.id=t.id,this.Csi.type="text/javascript",t.adContainer.appendChild(this.Csi),this.Csi.src="https://z.moatads.com/"+i+"/moatvideo.js#"+t.id,this.xsi=t.id,s[this.xsi]=t.va}Osi(){this.Csi&&ei(this.Csi),this.xsi&&(s[this.xsi]=void 0)}constructor(){this.Csi=void 0,this.xsi=void 0}};ti((function(t){return class i extends t{ga(t){var e,s,n;this.jsi(),null==(e=this.zsi)||e.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.Psi),null==(s=this.zsi)||s.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.jsi),null==(n=this.zsi)||n.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.Bsi),this.zsi=void 0,this.CVt=void 0,super.ga(t);const r=t&&t.analytics;this.Rsi=i.Usi(r);this.Oc&&this.Rsi&&C0()&&this.Qsi()}gn(){var t,i,e;this.jsi(),null==(t=this.zsi)||t.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.Psi),null==(i=this.zsi)||i.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.jsi),null==(e=this.zsi)||e.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.Bsi),this.zsi=void 0,this.CVt=void 0,this.Oc&&this.Oc.fn("E$t",this.b$t),super.gn()}Qsi(){this.Oc&&this.Oc.yn("E$t",this.b$t)}Fsi(t,i,e){const s=S5+"moatApi"+x.floor(1e8*x.random());this.Ysi=new E5(s,t,i,e),this.Ysi.Dsi(),this.Gsi.ksi(this.Ysi,this.Rsi.partnerCode)}static Usi(t){if(t){const i=t.filter((t=>"moat"===t.integration));if(0===i.length)return;if(i.length>1)throw new b("Only one Moat analytics configuration expected");return i[0]}}constructor(t,i){super(t,i),this.Rsi=void 0,this.Ysi=void 0,this.zsi=void 0,this.CVt=void 0,this.Bsi=()=>{this.Fsi(this.zsi,{partnerCode:this.Rsi.partnerCode,viewMode:google.ima.ViewMode.NORMAL},this.CVt)},this.b$t=t=>{this.zsi=t.a3t,this.CVt=t.d0t,this.jsi(),this.zsi.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.Psi),this.zsi.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.jsi),this.zsi.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.Bsi)},this.Psi=t=>{const i=t.getAd().getAdPodInfo();i.getAdPosition()<i.getTotalAds()&&(this.jsi(),this.Bsi())},this.jsi=()=>{this.Ysi&&(this.Ysi.Ssi(),this.Ysi=void 0),this.Gsi.Osi()},this.Gsi=new b5}}}),tu.X9),r(),r(),r();var ct,fu=class extends Ag{constructor(t,i,e){super(t,new Date),this.Vsi=i,this.f7=e}};!function(t){t.LOADED="DAILoaded",t.AD_BREAK_STARTED="DAIAdBreakStarted",t.AD_BREAK_ENDED="DAIAdBreakEnded",t.AD_PERIOD_STARTED="DAIAdPeriodStarted",t.AD_PERIOD_ENDED="DAIAdPeriodEnded",t.AD_PROGRESS="DAIAdProgress",t.CUEPOINTS_CHANGED="DAICuePointsChanged",t.CLICK="DAIClick",t.ERROR="DAIError",t.STARTED="DAIStarted",t.FIRST_QUARTILE="DAIFirstQuartile",t.MIDPOINT="DAIMidpoint",t.STREAM_INITIALIZED="DAIStreamInitialized",t.THIRD_QUARTILE="DAIThirdQuartile",t.COMPLETE="DAIComplete"}(ct||(ct={}));var L5=class extends fu{constructor(t,i){super("DAILoaded",t,i)}},k5=class extends fu{constructor(t,i){super("DAIAdBreakStarted",t,i)}},C5=class extends fu{constructor(t,i){super("DAIAdBreakEnded",t,i)}},x5=class extends fu{constructor(t,i){super("DAIAdProgress",t,i)}},O5=class extends fu{constructor(t,i){super("DAICuePointsChanged",t,i)}},j5=class extends fu{constructor(t,i){super("DAIClick",t,i)}},z5=class extends fu{constructor(t,i){super("DAIError",t,i)}},P5=class extends fu{constructor(t,i){super("DAIStarted",t,i)}},B5=class extends fu{constructor(t,i){super("DAIFirstQuartile",t,i)}},R5=class extends fu{constructor(t,i){super("DAIMidpoint",t,i)}},U5=class extends fu{constructor(t,i){super("DAIStreamInitialized",t,i)}},Q5=class extends fu{constructor(t,i){super("DAIThirdQuartile",t,i)}},F5=class extends fu{constructor(t,i){super("DAIComplete",t,i)}};var Y5=class extends i{replaceAdTagParameters(t){return this.Wsi.replaceAdTagParameters(null!=t?t:null)}Hsi(t){return this.Wsi.contentTimeForStreamTime(t)}qsi(t){return this.Wsi.streamTimeForContentTime(t)}rCt(t,i){const e=function(t){let i;"vod"===t.availabilityType?(i=new s.google.ima.dai.api.VODStreamRequest,i.contentSourceId=t.contentSourceID,i.videoId=t.videoID):"live"===t.availabilityType&&(i=new s.google.ima.dai.api.LiveStreamRequest,i.assetKey=t.assetKey);const e=google.ima.dai.api.StreamRequest.StreamFormat;var n;return i.format="dash"===t.format?e.DASH:e.HLS,i.apiKey=t.apiKey,i.adTagParameters=t.adTagParameters,i.omidAccessModeRules=null!=(n=t0(t.omidAccessModeRules))?n:{},i}(t);this.Wsi.requestStream(e)}Zn(){this.Xsi(!1),this.Wsi.reset()}gn(){this.Vo();const t=google.ima.dai.api.StreamEvent.Type;this.Wsi.removeEventListener(t.AD_BREAK_STARTED,this.Zsi),this.Wsi.removeEventListener(t.AD_PROGRESS,this.Ksi),this.Wsi.removeEventListener(t.CLICK,this.rVt),this.Wsi.removeEventListener(t.COMPLETE,this.Jsi),this.Wsi.removeEventListener(t.CUEPOINTS_CHANGED,this.$si),this.Wsi.removeEventListener(t.ERROR,this.Ss),this.Wsi.removeEventListener(t.FIRST_QUARTILE,this.tni),this.Wsi.removeEventListener(t.LOADED,this.ini),this.Wsi.removeEventListener(t.MIDPOINT,this.eni),this.Wsi.removeEventListener(t.STARTED,this.sni),this.Wsi.removeEventListener(t.STREAM_INITIALIZED,this.nni),this.Wsi.removeEventListener(t.THIRD_QUARTILE,this.rni),this.Wsi.removeEventListener(t.AD_BREAK_ENDED,this.hni),this.Zn()}oni(t){this.Wsi.onTimedMetadata(t)}ani(t,i,e){this.Wsi.processMetadata(t,i,e)}uni(t){const i=this.Wsi.previousCuePointForStreamTime(t);if(i)return{PN:i.end,zN:i.start,fg:i.played}}cni(t){const i=this.uni(t),e=i&&!i.fg?i.zN:void 0;return Promise.resolve(e)}Xsi(t){this.OVt.style.display=t?"block":"none"}constructor(t,i){super(),this.Wsi=t,this.OVt=i,this.Zsi=t=>{this.Xsi(!0);const i=kt(t),e=ui(t);this.Co(new k5(i,e))},this.hni=t=>{this.Xsi(!1);const i=kt(t),e=ui(t);this.Co(new C5(i,e))},this.Ksi=t=>{const i=kt(t),e=ui(t);this.Co(new x5(i,e))},this.rVt=t=>{const i=kt(t),e=ui(t);this.Co(new j5(i,e))},this.Jsi=t=>{const i=kt(t),e=ui(t);this.Co(new F5(i,e))},this.$si=t=>{const i=kt(t),e=ui(t);this.Co(new O5(i,e))},this.Ss=t=>{const i=kt(t),e=ui(t);this.Co(new z5(i,e))},this.tni=t=>{const i=kt(t),e=ui(t);this.Co(new B5(i,e))},this.ini=t=>{const i=kt(t),e=ui(t);this.Co(new L5(i,e))},this.eni=t=>{const i=kt(t),e=ui(t);this.Co(new R5(i,e))},this.sni=t=>{const i=kt(t),e=ui(t);this.Co(new P5(i,e))},this.nni=t=>{const i=kt(t),e=ui(t);this.Co(new U5(i,e))},this.rni=t=>{const i=kt(t),e=ui(t);this.Co(new Q5(i,e))},this.OVt.style.display="none",this.Wsi.setClickElement(this.OVt);const e=google.ima.dai.api.StreamEvent.Type;this.Wsi.addEventListener(e.AD_BREAK_STARTED,this.Zsi),this.Wsi.addEventListener(e.AD_PROGRESS,this.Ksi),this.Wsi.addEventListener(e.CLICK,this.rVt),this.Wsi.addEventListener(e.COMPLETE,this.Jsi),this.Wsi.addEventListener(e.CUEPOINTS_CHANGED,this.$si),this.Wsi.addEventListener(e.ERROR,this.Ss),this.Wsi.addEventListener(e.FIRST_QUARTILE,this.tni),this.Wsi.addEventListener(e.LOADED,this.ini),this.Wsi.addEventListener(e.MIDPOINT,this.eni),this.Wsi.addEventListener(e.STARTED,this.sni),this.Wsi.addEventListener(e.STREAM_INITIALIZED,this.nni),this.Wsi.addEventListener(e.THIRD_QUARTILE,this.rni),this.Wsi.addEventListener(e.AD_BREAK_ENDED,this.hni)}};function kt(t){const i=t.getStreamData(),e=i.adProgressData;let s;e&&(s={wXt:e.adBreakDuration,lni:e.duration,AXt:e.adPosition,j_:e.currentTime,ct:e.duration,vXt:e.totalAds});return{dni:s,fni:(i.cuepoints||[]).map((t=>({zN:t.start,PN:t.end,fg:t.played}))),_ni:i.errorMessage||void 0,gni:i.manifestFormat||void 0,wni:i.streamId||void 0,Ani:(i.subtitles||[]).map((t=>({vni:t.webvtt,mni:t.ttml,gs:t.language}))),zu:i.url}}function G5(t){return{VRt:t.getAdSlotId(),O:t.getContent(),LP:t.getContentType(),Ti:t.getHeight(),ji:t.getWidth()}}function ui(t){const i=t.getAd();if(!i)return;const e=i.getAdPodInfo(),s=i.getCompanionAds().map(G5);return{vUt:i.getAdId(),gKt:{AXt:e.getAdPosition(),eGt:e.getMaxDuration(),$2t:e.getPodIndex(),pEt:e.getTimeOffset(),vXt:e.getTotalAds()},$Bt:i.getAdSystem(),i3t:i.getAdvertiserName(),YRt:i.getApiFramework(),aRt:s,NRt:i.getCreativeId(),mJt:i.getCreativeAdId(),e3t:i.getDealId(),nM:i.getDescription(),ct:i.getDuration(),OP:i.getTitle(),pni:i.getUniversalAdIdRegistry(),yni:i.getUniversalAdIdValue(),dJt:i.getVastMediaHeight(),lJt:i.getVastMediaWidth(),oJt:i.getWrapperAdIds(),aJt:i.getWrapperAdSystems(),uJt:i.getWrapperCreativeIds()}}r(),r(),r();var V5="theo-dai-clickthrough",W5="urn:google:dai:2018",H5=class{get va(){const t=this,i=this.Mni;return{contentTimeForStreamTime:i=>t.Wsi?t.Wsi.Hsi(i):i,streamTimeForContentTime:i=>t.Wsi?t.Wsi.qsi(i):i,replaceAdTagParameters(i){t.Wsi&&t.Wsi.replaceAdTagParameters(i)},get snapback(){return t.Tni},set snapback(i){t.Tni=i},get sourceTransformer(){return i.Nni},set sourceTransformer(t){i.Nni=t}}}P_(t){this.u2.c_(),this.u2=new Ao,W(this.Dni(t,this.u2.a_))}async Dni(t,i){if(Pi(i),!this.Ini||!this.Wsi)return this.Qo.Sni(t);if(this.Ini.r7)return;if(t>this.Qo.z_()&&this.Tni){const e=await rl(this.Wsi.cni(t),i);if(e){this.Qo.Sni(e),await this.Wsi.D_(ct.AD_BREAK_ENDED,i);if(this.Wsi.uni(t).PN>t)return}}this.Qo.Sni(t)}Mg(){const t=this.Ini&&this.Ini.r7;if(t){const i=Ki.xn(this.Qo.Eni()),e=t.pEt,s=e+t.eGt,n=new Ki([e,s]);return i.Sn(n).ks()}return this.Qo.Eni()}async L7(t,i){if(!t)return this.Qo.bni(t,i);try{this.Qo.nt.yn(gt.ew,this.Lni);const e=await this.Mni.kni(t,i);this.Ini&&this.Wsi&&(this.Cni=!0),await this.Qo.bni(e,i)}catch(t){if(Ht(t),t.code===Bt.LICENSE_INVALID)return;const i=new ce(p_.SOURCE_NOT_SUPPORTED,"Something went wrong while setting up a Google DAI stream.",t);throw this.yP=ne(i),this.MP=i,this.Qo.Co(new pe(i)),i}}Zn(){if(this.Cni){if(this.Qo.nt.fn(gt.ew,this.Lni),this.xni){this.xni.fn(Os.aw,this.Oni);for(const t of this.xni.L.xw)t.fn(Cl.xN,this.F3t);this.xni=void 0}this.yP=void 0,this.MP=void 0,this.u2.c_(),this.Ini&&this.Ini.Zn(),this.Wsi&&this.Wsi.Zn(),this.Cni=!1}}get lt(){return this.yP||this.Qo.jni()}get F_(){return this.MP||this.Qo.zni()}gn(){this.Zn(),this.Qo.Pni(),this.Wsi&&this.Wsi.gn()}constructor(t,i,e,s){this.xni=void 0,this.yP=void 0,this.MP=void 0,this.u2=new Ao,this.Cni=!1,this.Tni=!0,this.Lni=t=>{const i=t.Lt;i.zt===oa.Mp&&(i.hA===Ks.ID3||i.hA===Ks.EVENT_STREAM&&i.iA===W5)&&(i.eA=go.sA,this.xni=i,i.yn(Os.aw,this.Oni))},this.Oni=t=>{t.jN.yn(Cl.xN,this.F3t)},this.F3t=t=>{var i,e;if(this.Wsi)if((null==(i=this.xni)?void 0:i.hA)===Ks.ID3){const i=t.jN.O;"TXXX"===i.id&&this.Wsi.oni({TXXX:i.text})}else if((null==(e=this.xni)?void 0:e.hA)===Ks.EVENT_STREAM){const i=t.jN.O;this.Wsi.ani(W5,i,t.sI)}},this.Qo=t,this.Wsi=i,this.Ini=e,this.Mni=s,e&&i&&this.Qo.Oc&&this.Qo.Oc.y7(e.DJt)}};r(),r();var q5=class extends s0{get Bni(){return this.Rni}get iGt(){return sh.so}constructor(t,i,e,s=!0){super(t,i,e),this.Rni=s}},X5=class extends d0{Uni(){const t=[ct.STARTED,ct.FIRST_QUARTILE,ct.MIDPOINT,ct.THIRD_QUARTILE,ct.COMPLETE];this.Wsi.yn(t,this.Qni),this.Wsi.yn(ct.AD_BREAK_ENDED,this.hni),this.Wsi.yn(ct.AD_PROGRESS,this.Ksi),this.Wsi.yn(ct.CUEPOINTS_CHANGED,this.$si)}get AHt(){return this.SJt}get oHt(){return this.bHt}Fni(t){let i=t.gKt.pEt,e=this.IGt||this.findAdBreakWithPredicate(i,(t=>!t.fg));if(!e){const s=t.gKt.eGt;i=this.Qo.z_(),e=new q5(s,s,i,!1),e.GKt(),this.SGt.push(e)}return e}Yni(t){switch(t){case ct.STARTED:this.SJt=!0;break;case ct.AD_BREAK_ENDED:this.SJt=!1}}Gni(t,i,e){if(i)switch(t){case ct.STARTED:case ct.FIRST_QUARTILE:case ct.MIDPOINT:case ct.THIRD_QUARTILE:case ct.COMPLETE:this.oHt.Co(new ba(this.IGt))}if(e)switch(t){case ct.STARTED:case ct.FIRST_QUARTILE:case ct.MIDPOINT:case ct.THIRD_QUARTILE:case ct.COMPLETE:this.oHt.Co(new Za(this.pGt,this.pGt.sJt))}switch(t){case ct.COMPLETE:this.oHt.Co(new da(this.pGt,this.NJt.sJt));break;case ct.AD_BREAK_ENDED:this.oHt.Co(new Nh(this.r7))}switch(t){case ct.FIRST_QUARTILE:this.oHt.Co(new Yn(this.pGt,this.NJt.sJt));break;case ct.MIDPOINT:this.oHt.Co(new w0(this.pGt,this.NJt.sJt));break;case ct.THIRD_QUARTILE:this.oHt.Co(new or(this.pGt,this.NJt.sJt))}}Vni(t){const i=t.f7,e=this.Fni(i),s=function(t,i){if(t.Oc.length)return!1;for(let e=0;e<i;e++){const i=new a0(t,Vr.bQt);t.WKt(i)}return!0}(e,i.gKt.vXt),n=function(t,i){const e=i.gKt.AXt-1;return t.Oc[e]}(e,i),r=function(t,i){return t.KKt!==e0.READY&&(t.cJt(i),!0)}(n,i);this.pGt=n,this.IGt=e,e.GKt(),this.Gni(t.type,s,r)}Wni(t){for(const i of this.SGt)if(Y_(t,i.pEt))return i}findAdBreakWithPredicate(t,i){for(const e of this.SGt)if(Y_(e.pEt,t)&&i(e))return e}get Hni(){const t=this.findAdBreakWithPredicate(0,(t=>t.Bni));let i=0;return t&&(i=t.eGt),i}qni(t,i){let e;for(const s of this.SGt)s.pEt>=t&&s.pEt<=i&&!s.fg&&(!e||s.pEt>=e.pEt)&&(e=s);return e}Yp(){}p7(t){}Zn(){this.pGt&&(this.oHt.Co(new da(this.pGt,this.pGt.sJt)),this.pGt=void 0),this.IGt&&(this.oHt.Co(new Nh(this.IGt)),this.IGt=void 0),this.SJt=!1,Ri(this.SGt)}gn(){this.Zn(),this.oHt.gn()}constructor(t,i){super(new Zu,sh.so),this.Wsi=t,this.Qo=i,this.Ksi=t=>{const i=this.IGt;if(!i||!this.pGt)return;const e=t.Vsi.dni;this.pGt.sJt=e.j_,function(t,i){const e=i.AXt,s=i.wXt,n=i.j_,r=Fo(t.Oc.slice(0,e-1),(t=>{var i;return null!=(i=t.ct)?i:0}));t.sGt=s-n-r}(i,e)},this.$si=t=>{const i=t.Vsi.fni;if(i)for(const t of i)if(!this.Wni(t.zN)){const i=t.PN-t.zN,e=new q5(i,i,t.zN,!0);this.SGt.push(e)}},this.Qni=t=>{this.Yni(t.type),this.Vni(t)},this.hni=t=>{this.SJt=!1,this.pGt=void 0;const i=this.r7;i&&(i.sGt=0,this.Gni(t.type,!1,!1),this.IGt=void 0)},this.Uni()}};function Z5(t){if(t.sources)if(pi(t.sources)){for(const i of t.sources)if(Ia(i))return!0}else if(Mi(t.sources))return Ia(t.sources);return!1}r();var K5=class{async kni(t,i){const e=[],s=[];for(const i of t.sources)if(Ia(i)){if(!this.Wsi)continue;e.push(i)}else s.push(i);if(0===e.length)return t;let n,r;for(;void 0===n&&0!==e.length;){const{yc:h}=await Ze.gL.NB(e,t),o=h;Pi(i);try{n=await this.Xni(o,i),s.push(n)}catch(t){Ht(t),r=t,Et(e,o)}}if(0!==t.sources.length&&0===s.length)throw new b("Fatal: unable to play DAI streams.");return r&&ji(r.message),At({},t,{sources:s})}async Xni(t,i){if(!this.Wsi)throw new b("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");const e=this.Wsi.D_(ct.LOADED,i),s=this.Wsi.D_(ct.ERROR,i),n=t.type===vi.Qv?"dash":"hls";this.Wsi.rCt(At({},t.ssai,{format:n}));const r=await Promise.race([e,s]);if(r.type===ct.LOADED){const i=t.type===vi.Qv?vi.Qv:vi.Yv;return ka(At({},t,{src:this.Nni?await this.Nni(r.Vsi.zu||""):r.Vsi.zu,type:i}))}throw b(r.Vsi._ni)}constructor(t){this.Wsi=t,this.Nni=t=>t}};ti(function(t){return i=>class extends i{fa(){const t=super.fa(),i=t.ads;if(i){const t=this.Zni.va;Ru(i,{get dai(){return t}})}return t}get Ul(){return this.Kni}Sni(t){super.P_(t)}P_(t){this.Zni.P_(t)}Eni(){return super.Mg()}Mg(){return this.Zni.Mg()}ga(t){return this.Zni.Zn(),super.ga(t)}async bni(t,i){return super.L7(t,i)}async L7(t,i){return this.Zni.L7(t,i)}jni(){return super.Q_()}zni(){return super.Y_()}Q_(){return this.Zni.lt}Y_(){return this.Zni.F_}Pni(){super.gn()}gn(){this.Zni.gn()}constructor(i,e){super(i,e),this.Kni=!1,this.Jni=t=>{13===t.which&&this.OVt.click(),this.Gg()};const s=this.Ug();let n,r;try{this.OVt=h.createElement("button"),this.OVt.className=V5,this.OVt.addEventListener("keydown",this.Jni),this.OVt.addEventListener("click",this.Jni),n=t(s,this.OVt),r=new X5(n,this),this.we.appendChild(this.OVt),this.Kni=!0}catch(t){}const o=new K5(n);this.Zni=new H5(this,n,r,o)}}}((function(t,i){if(!(s.google&&s.google.ima&&Mi(s.google.ima.dai)))throw new b("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");const e=new google.ima.dai.api.StreamManager(t);return new Y5(e,i)})),tu.H9),r(),r(),r();var J5=class{get $ni(){return void 0===this.tri?0:(performance.now()-this.tri)/1e3}iri(t){this.eri=t,this.nri.sri(t),this.Qo.yn("play",this.nii),this.Qo.yn("ended",this.aei),this.Qo.yn("timeupdate",this.rri),this.Qo.yn("error",this.K1),this.Qo.yn("waiting",this.cei),this.Qo.yn(["canplay","canplaythrough","playing"],this.lei),this.Qo.yn("durationchange",this.oei),vs.RY(this.hri)}ari(){this.Qo.fn("play",this.nii),this.Qo.fn("ended",this.aei),this.Qo.fn("timeupdate",this.rri),this.Qo.fn("error",this.K1),this.Qo.fn("waiting",this.cei),this.Qo.fn(["canplay","canplaythrough","playing"],this.lei),this.Qo.fn("durationchange",this.oei),vs.jY(this.hri),this.cri||(this.nri.lri(this.dri),this.nri.fri()),this._ri&&this.gri(),this.eri=void 0,this.wri=!1,this.cri=!1,this.dri=-1/0,Ri(this.Ari)}vri(){this.wri&&this.nri.pri(),this.tri=performance.now(),this.yri=v(this.Mri,6e4)}gri(){this.nri.Tri(this.$ni),this._ri=!1,this.tri=void 0,this.yri&&(m(this.yri),this.yri=void 0)}Nri(){if(j(this.Qo.Td()))return;const t=10*function(t,i){return x.floor(t/i)}(this.Qo.z_()/this.Qo.Td()*100,10);ea(this.Ari,t)||(this.Ari.push(t),this.nri.Dri(t))}constructor(t,i){this.Qo=t,this.nri=i,this.wri=!1,this.cri=!1,this.Ari=[],this.dri=-1/0,this._ri=!1,this.nii=()=>{this.wri||(this.nri.Iri(),this._ri&&this.nri.pri(),this.wri=!0)},this.aei=()=>{this.nri.Sri(),this.cri=!0},this.rri=()=>{this.dri<this.Qo.z_()&&(this.dri=this.Qo.z_()),this.Nri()},this.cei=()=>{this.wri&&(this.Eri=performance.now(),this.nri.bri(this.Qo.z_()))},this.lei=()=>{this.Eri&&(this.nri.Lri((performance.now()-this.Eri)/1e3),this.Eri=void 0)},this.K1=()=>{this.dri<this.Qo.z_()&&(this.dri=this.Qo.z_()),this.nri.Pit(this.Qo.lt.message)},this.oei=()=>{const t=this.Qo.Td()===1/0;t&&!this._ri&&(this._ri=t,this.vri())},this.hri=()=>{this.nri.lri(this.dri),this.nri.kri()},this.Mri=()=>{void 0!==this.tri&&this.nri.Cri(this.$ni)}}};r();var $5=class{sri(t){this.xri(["setDocumentTitle",t.itemTitle]),this.xri(["setCustomUrl","https://content.streamone.net/embed/cust=Xo9oT45EptMG/account="+t.accountID+"/item="+t.itemID]),this.xri(["trackPageView"])}Iri(){this.Ori("item first play","viewing","1")}fri(){this.Ori("item skipped","skipped","1")}Dri(t){this.Ori("item progress","percent",""+t)}kri(){this.Ori("item abandoned","window closed","1")}lri(t){this.Ori("item time","watched",""+t)}Sri(){this.Ori("item finished","ended","1")}bri(t){this.Ori("buffering started","timestamp",""+t)}Lri(t){this.Ori("buffering ended","duration",""+t)}Pit(t){this.Ori("error","message",""+t)}pri(){this.Ori("livestream first play","viewing","1")}Cri(t){this.Ori("livestream progress","duration",""+t)}Tri(t){this.Ori("livestream time","watched",""+t)}Ori(t,i,e){this.xri(["trackEvent","Video",t,i,e])}xri(t){const i="undefined"!=typeof _paq?_paq:void 0;i?i.push(t):console.warn("The Piwik library required for the StreamOne pre-integration was not found. Make sure it is loaded before instantiating THEOplayer.")}};r();var t6=class{get jri(){if(!this.zri)return;const t=this.Qo.z_()/this.zri;return x.floor(4*t)+1}get Pri(){return void 0!==this.zri}iri(){this.Ic.yn("A7",this.ssi),this.Ic.yn("v7",this.nsi),this.Ic.yn("OJt",this.hsi),this.Ic.yn("fHt",this.rsi),this.Qo.yn("timeupdate",this.rri),vs.RY(this.hri)}ari(){this.Ic.fn("A7",this.ssi),this.Ic.fn("v7",this.nsi),this.Ic.fn("OJt",this.hsi),this.Ic.fn("fHt",this.rsi),this.Qo.fn("timeupdate",this.rri),Ri(this.Bri),vs.jY(this.hri),this.zri=void 0}constructor(t,i,e){this.Qo=t,this.Ic=i,this.nri=e,this.Bri=[],this.ssi=()=>{this.zri=this.Qo.Td(),this.nri.Rri(this.zri)},this.nsi=()=>{this.zri&&(this.nri.Uri(this.zri),Ri(this.Bri),this.zri=void 0)},this.hsi=t=>{if(!this.zri)return;const i=this.zri-this.zri*t.CJt;this.nri.Qri(i),this.zri=void 0},this.rsi=()=>{this.zri=this.Qo.Td(),this.nri.Fri()},this.rri=()=>{const t=this.jri;if(this.Pri&&t&&!ea(this.Bri,t)){switch(t){case 1:this.nri.Yri();break;case 2:this.nri.Gri();break;case 3:this.nri.Vri();break;case 4:this.nri.Wri()}this.Bri.push(t)}},this.hri=()=>{this.nri.Hri()}}};r();var i6=class{Rri(t){this.nri.Ori("ad start","duration",""+t)}Uri(t){this.nri.Ori("ad finished","duration",""+t)}Qri(t){this.nri.Ori("ad skipped","remaining time",""+t)}Fri(){this.nri.Ori("ad blocker","detected","1")}Yri(){this.nri.Ori("ad progress","firstQuartile","")}Gri(){this.nri.Ori("ad progress","secondQuartile","")}Vri(){this.nri.Ori("ad progress","thirdQuartile","")}Wri(){this.nri.Ori("ad progress","fourthQuartile","")}Hri(){this.nri.Ori("ad abandoned","window closed","1")}constructor(t){this.nri=t}};function e6(t){return t&&"streamone"===t.integration}ti((function(t){return class extends t{gn(){this.fn("sourcechange",this.do),this.qri&&(this.Xri&&this.Xri.ari(),this.Zri&&this.Zri.ari(),this.qri=!1),super.gn()}constructor(t,i){super(t,i),this.qri=!1,this.do=()=>{this.qri&&(this.Xri.ari(),this.Zri&&this.Zri.ari());const t=this.Wa();if(this.qri=!1,!t)return;const i=function(t){if(t.analytics)for(let i of t.analytics)if(e6(i))return i}(t);i&&(this.qri=!0,this.Xri.iri(i),this.Zri&&this.Zri.iri())};const e=new $5;if(this.Xri=new J5(this,e),this.Oc){const t=new i6(e);this.Zri=new t6(this,this.Oc,t)}this.yn("sourcechange",this.do)}}}),tu.X9),r(),r(),r(),r(),r(),r();var s6=class extends FW{async QK(t,i,e){const s=await n6(t);await super.QK(s,i,e),this.Kri(s,i)}async BK(t,i,e){const s=await n6(t);await super.BK(s,i,e),this.Kri(s,i)}Kri(t,i){const e=this.$ri.Jri;if(void 0===e)return;const s=i.fK;let n;if(this.thi!==s&&(this.thi=s,e.setLevelSwitching(s),e.setContainerFormat(2)),function(t){return pl.call(t,"T8")}(i)){const t=i.T8,r=i.T8+i.ct;n=i.CI,e.newPts(t,r,"video",s)}else 0;e.appendBuffer(t.Cp,"video",s,n)}async pN(t,i,e){var s;await super.pN(t,i,e),null==(s=this.$ri.Jri)||s.flushBuffer(t,i)}constructor(t,i){super(t),this.$ri=i,this.thi=void 0}};async function n6(t){switch(t.hA){case at.CH:return t;case at.zS:{const i=await Ft(t.Cp);return{hA:at.CH,Cp:new T(i)}}case at.xH:throw new b("Opaque initialization segments are not supported on web.")}}var r6=class extends UW{HTt(t){return t.IJ===rv.vp?new s6(t,this.$ri):new FW(t)}constructor(t,i){super(t),this.$ri=i,this.VTt(t)}},h6=class extends ar{get Jri(){return this.ihi}ehi(){this.ihi=new LcevcDil.LcevcDil(this.vP.TP,this.shi,{})}ge(){super.ge(),this.nhi()}be(){super.be(),this.shi.style.display="none"}Zn(){return this.shi.style.display="none",void 0!==this.ihi&&(this.ihi.close(),this.ehi()),super.Zn()}e_(){return this.rhi=!0,void 0!==this.ihi&&(this.ihi.close(),this.ihi=void 0),this.pu.removeChild(this.shi),super.e_()}uB(t){this.Co(new Xk(new uc(Bt.ABORTED,t)))}nhi(){this.vP.TP.style.display="none",this.shi.style.display="block"}get bTt(){return this.vP}QTt(t){return new r6(t,this)}UTt(t){return new xi(t)}constructor(t,i){super(t),this.rhi=!1,this.hhi=t=>{this.rhi||(t||this.uB("LCEVC SDK failed to initialize."),this.ehi())},this.ohi=()=>{this.rhi||this.uB("LCEVC SDK failed to initialize.")},this.pu=i,this.shi=h.createElement("canvas"),this.shi.style.width="100%",this.shi.style.height="100%",this.shi.style.position="absolute",this.shi.style.top="50%",this.shi.style.left="50%",this.shi.style.transform="translate(-50%, -50%)",this.shi.style.display="none",this.pu.appendChild(this.shi),LcevcDil.ready.then(this.hhi,this.ohi)}},o6=class extends ut{cB(t){if(t===rv.vp)return this.ahi=new h6(super.cB(t),this.pu),this.ahi}async WP(t){this.ahi=void 0;const i=t;await i.e_(),await super.WP(i.bTt)}get uhi(){return this.ahi}constructor(t,i){super(t),this.pu=i}},a6=class extends XW{async gn(){for(const t of this.hN.xw)t.fn(Os.Sw,this.lhi);this.rt.fn(gt.ew,this.dhi),this.rt.fn(gt.hw,this.fhi),await super.gn(),await this.vP.e_(),await this.HP.WP(this.vP)}constructor(t,i,e,s,n,r,h){const o=new o6(n,h),a=new HW(o);super(t,i,e,s,a.cB(r),h),this.dhi=t=>{t.Lt.yn(Os.Sw,this.lhi)},this.fhi=t=>{t.Lt.fn(Os.Sw,this.lhi)},this.lhi=t=>{var i;const e=null==(i=this._hi.uhi)?void 0:i.Jri,s=t.nrt.Vw;null==e||e.setCurrentLevel(s)},this.HP=a,this._hi=o,this.hN.yn(gt.ew,this.dhi),this.hN.yn(gt.hw,this.fhi)}};UI(new class extends _U{_m(t,i,e,s,n,r){const h=new ft(Kn.gL.ket,Kn.gL.Let,Kn.gL.bet,Kn.gL.xet);let o=i;return _H.Ux()&&(o=new _H(o)),new a6(e,s,n,h,o,rv.vp,t)}async lB(t){if(!t.lcevc)return!1;if(!await super.lB(t))return!1;if(void 0===s.LcevcDil)throw new ce(p_.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return!0}dB(){return!1}constructor(...t){super(...t),this.fB=yi.Fz}}),r();var ur,u6=class extends aK{async gn(){for(const t of this.hN.xw)t.fn(Os.Sw,this.lhi);this.rt.fn(gt.ew,this.dhi),this.rt.fn(gt.hw,this.fhi),await super.gn(),await this.HP.WP(this.vP)}constructor(t,i,e,s,n,r,h,o){const a=new o6(i,t),u=new HW(a);super(u.cB(rv.vp),e,s,n,r,h,o),this.dhi=t=>{t.Lt.yn(Os.Sw,this.lhi)},this.fhi=t=>{t.Lt.fn(Os.Sw,this.lhi)},this.lhi=t=>{var i;const e=null==(i=this._hi.uhi)?void 0:i.Jri,s=t.nrt.qDt.Vw;null==e||e.setCurrentLevel(s)},this.HP=u,this._hi=a,this.hN.yn(gt.ew,this.dhi),this.hN.yn(gt.hw,this.fhi)}};UI(new class extends cK{_m(t,i,e,s,n,r){return new u6(t,i,e,n,UZ(s.libraryLocation),new oK(s.libraryLocation),new ft(Kn.gL.ket,Kn.gL.Let,Kn.gL.bet,Kn.gL.xet),s)}async lB(t,i){if(!t.lcevc)return!1;if(!await super.lB(t,i))return!1;if(void 0===s.LcevcDil)throw new ce(p_.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return!0}dB(){return!1}constructor(...t){super(...t),this.fB=yi.Wz}}),r(),r(),r(),r(),function(t){t.ghi="Zn",t.whi="Ahi"}(ur||(ur={}));var c6="freewheel-nonlinear-ad",l6=[t.EA,t.ov,t.uv,t.Sh,Ho.Tv,t.jh],d6=class i extends Jn{Yg(){this.HP.mR()}vhi(){this.mhi.yn("w7",this.phi),this.mhi.yn(["A7","v7"],this.yhi),this.mhi.yn("g7",this.I2t)}Mhi(){this.mhi.fn("w7",this.phi),this.mhi.fn(["A7","v7"],this.yhi),this.mhi.fn("g7",this.I2t)}Thi(){this.oHt.Qa(this.mhi.Nhi)}Dhi(){this.mhi.Ihi.yn(l6,this.Ds)}Shi(){this.mhi.Ihi.fn(l6,this.Ds)}get rHt(){return this}static get sHt(){return sh.JYt}get sHt(){return i.sHt}get r7(){var t;return null!=(t=this.mhi.Nhi.r7)?t:null}get s7(){const t=this.mhi.Nhi.NJt;return t?[t]:[]}p7(t){}z_(){return this.mhi.Ihi.j_}P_(t){}Td(){return this.mhi.Ihi.ct}U_(){return this.mhi.Ihi.R_}Q_(){return this.yP}Y_(){return this.MP}Sg(){return 0}Cg(){return 0}Og(){return this.mhi.Ihi.xg}jg(t){this.mhi.Ihi.xg=t}K_(){return this.mhi.Ihi.Z_}J_(t){this.mhi.Ihi.Z_=t}pg(){return this.mhi.Ihi.vg}get h7(){return this.mhi.Nhi.h7}get o7(){return this.mhi.Nhi.o7}Mg(){return this.mhi.Ihi.yg}og(){return this.mhi.Ihi.hg}cHt(i){if(this.AHt||this.mhi.cHt(i),this.mhi.Ehi){if(i.type===t.Sh&&this.Qo.R_)return!0;if(i.type===t.kA)return this.mhi.Lhi.bhi(),!0}return!1}be(){this.mhi.be()}Gg(){this.hg||this.mhi.Ihi.Gg()}async khi(){if(!this.mhi.Chi)try{await this.mhi.hXt()}catch(t){this.xhi(t,Je.GENERAL)}}async Ohi(){if(this.mhi.Ihi.jhi)return this.mhi.Ihi.Vg(),!1;if(this.mhi.zhi)try{await this.mhi.Lhi.Phi()}catch(t){this.xhi(t,Je.PLAYBACK)}return!0}get Bhi(){return j_(this.Q_())}xhi(t,i){t.name!==ur.ghi&&this.oHt.Co(new Na(i,"Ads could not be loaded."))}async Vg(){if(this.hg&&this.Co(new fh(this.j_)),await this.khi(),this.Bhi)return;const t=await this.Ohi();!this.Bhi&&t&&this.I2t()}qJt(t,i,e){i===ro.u7&&this.mhi.qJt(t)}ge(){this.mhi.ge()}Yp(){this.mhi.Ihi.Yp()}Ug(){return this.b8}E_(){return this.HP.NR.map((t=>t.TP))}yHt(t){}async gn(){await this.Wg(),this.mhi.gn(),await this.HP.WP(this.vP),this.Mhi(),this.Shi(),this.oHt.jR(this.mhi.Nhi)}async Wg(){this.mhi.Zn(),this.AHt&&(this.Qo.ge(),this.OWt(),this.be())}constructor(t,i,e,s,n){super(t,i),this.yP=void 0,this.MP=void 0,this.yhi=t=>{const i=t.f7,e="A7"===t.type;if(i.Lqt===Vr.LQt){const t=this.Qo.we.classList;e?t.add(c6):t.remove(c6)}e?this.ge():this.be()},this.phi=()=>{this.LHt(),this.Qo.Gg(),this.Qo.be()},this.I2t=()=>{this.mhi.Chi&&(this.Qo.R_||this.Qo.Vg(),this.be(),this.Qo.ge(),this.OWt())},this.mhi=s,this.HP=e,this.vP=n,this.b8=n.TP,this.b8.controls=!1,this.vhi(),this.Thi(),this.Dhi()}};r(),r(),r();var f6=class extends s0{get Rhi(){return this.Uhi}get Qhi(){return this.Oc[this.Fhi]}set Yhi(t){this.Fhi=t}get Yhi(){return this.Fhi}get Lqt(){return this.JKt}get iGt(){return sh.JYt}constructor(t,i,e,s){super(t,i,e),this.Uhi=s,this.Fhi=0,this.JKt=g6(s)}};r();var _6=class extends cr{get Ghi(){return this.Vhi}set Ghi(t){this.Vhi!==t&&(this.Vhi=t)}get Ti(){return this.Xl.Rhi.getHeight()}get ji(){return this.Xl.Rhi.getWidth()}get tUt(){return this.Ghi.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK)[0]}get iGt(){return sh.JYt}fa(){return r0(this)}constructor(t,i,e){super(t,i),this.Vhi=e}};function g6(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY?Vr.LQt:Vr.bQt}var w6=class t extends ra{async Whi(t,i){this.Hhi=t,this.qhi=i,this.Xhi(t),await i,this.Zhi()}get Khi(){return this.Jhi}get $hi(){return this.toi}get ioi(){return this.eoi}get r7(){return this.IGt}get NJt(){return this.pGt}get h7(){const t=[];if(this.IGt){const i=this.IGt.Yhi;i>=0&&t.push(...this.IGt.Oc.slice(i+1))}for(const i of this.soi)t.push(...i.Oc);return t}get o7(){return this.soi}Zhi(){this.noi()}Xhi(t){t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.roi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.hoi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.ooi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.aoi),t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.uoi)}coi(){this.Hhi&&(this.Hhi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.roi),this.Hhi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.hoi),this.Hhi.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.ooi),this.Hhi.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.aoi),this.Hhi.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.uoi))}noi(){this.Jhi=this.loi(this.doi),this.toi=this.loi(this.foi).concat(this.loi(this._oi)),this.eoi=this.loi(this.goi),this.soi=this.Jhi.concat(this.toi).concat(this.eoi)}loi(t){if(!this.Hhi)return[];const i=this.Hhi.getSlotsByTimePositionClass(t);return this.woi(i)}Aoi(t){if(!this.IGt)return void 0;const i=t.getSlot().getAdInstances().indexOf(t);-1!==i&&(this.IGt.Yhi=i);const e=this.IGt.Qhi;return e&&(e.Ghi=t),e}voi(t){return X_(this.soi,(i=>i.Rhi===t))}woi(i){return i.map((i=>{const e=i.getTotalDuration(),s=t.moi(i);return new f6(e,e,s,i)}))}static poi(t,i){const e=t.getAdInstances(),s=[];for(const t of e){const e=g6(t.getSlot()),n=new _6(i,e,t),r=[];n.XKt(t.getAdId(),t.getSlot().getWidth(),t.getSlot().getHeight(),t.getDuration(),r,0),i.WKt(n),s.push(n)}return s}BVt(){const t=this.NJt;t&&this.Co(new m0(t,this.yoi()))}Moi(){const t=this.NJt;t&&(this.Co(new da(t,t.Ghi.getPlayheadTime())),this.pGt=void 0)}Toi(t){const i=this.r7;i&&(i.sGt=function(t,i,e){void 0===e&&(e=0);let s=0;const n=t.Oc.length;for(let r=i;r<n;r++){const n=t.Oc[r],h=n.ct;if(n){let t=h;r===i&&(t=Sc(h-e,0,h)),s+=t}}return s}(i,i.Yhi,t))}static moi(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL?-1:t.getTimePosition()}yoi(){const t=this.NJt;if(!t)return 0;const i=t.Ghi;return i.getPlayheadTime()/i.getDuration()}Noi(t){Et(this.soi,t),Et(this.Jhi,t),Et(this.toi,t),Et(this.eoi,t)}Zn(){this.coi(),this.Jhi.length=0,this.toi.length=0,this.eoi.length=0,this.soi.length=0,this.pGt=void 0,this.IGt=void 0,this.Hhi=void 0,this.qhi=void 0}gn(){this.Zn(),this.Vo()}constructor(i,e){super(),this.Us=i,this.mO=e,this.doi=tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL,this.foi=tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL,this.goi=tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL,this._oi=tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY,this.Jhi=[],this.toi=[],this.eoi=[],this.soi=[],this.roi=i=>{const e=i.slot,s=this.voi(e);s&&(t.poi(e,s),this.IGt=s,s.GKt(),this.Noi(s),s.Lqt===Vr.bQt&&this.Co(new ba(s)))},this.hoi=()=>{const t=this.r7;t&&t.Lqt===Vr.bQt&&(this.Co(new Nh(t)),this.mO.src=""),this.IGt=void 0},this.ooi=t=>{const i=this.Aoi(t.adInstance);i&&(this.Co(new Za(i,i.Ghi.getPlayheadTime())),this.pGt=i),t.adInstance.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK).length>0&&(this.Us.style.cursor="pointer",this.Us.addEventListener("click",this.Doi))},this.aoi=()=>{this.Us.style.cursor="",this.Us.removeEventListener("click",this.Doi)},this.Doi=()=>{this.NJt&&this.NJt.Ghi.getRendererController().processEvent({name:tv.freewheel.SDK.EVENT_AD_CLICK})},this.uoi=t=>{switch(t.subType){case tv.freewheel.SDK.EVENT_AD_COMPLETE:this.Moi();break;case tv.freewheel.SDK.EVENT_AD_SKIPPED:this.BVt(),this.Moi()}}}};r();var A6=class t extends ra{Ioi(){if(this.gTt){this.gTt.setAdVolume(v6(this.Z_,this.xg))}}Soi(t){this.gTt=t,this.Xhi(t)}Xhi(t){t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.Eoi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.boi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Loi),t.addEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.koi),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.Coi),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.xoi)}Ooi(){const t=this.gTt;t&&(t.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.Eoi),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.boi),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Loi),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.koi),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.Coi),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.xoi))}Vg(){this.Xnt.r7&&(this.Xnt.r7.Rhi.resume(),this.hg=!1)}Gg(){this.Xnt.r7&&(this.Xnt.r7.Rhi.pause(),this.hg=!0)}get j_(){const t=this.Xnt.NJt;return t&&(this.j_=t.Ghi.getPlayheadTime()),this.dR}set j_(t){this.dR=t}get ct(){return this.Rk}get jhi(){return!!this.Xnt&&void 0!==this.Xnt.r7}get hg(){return this.gR}set hg(t){this.gR=t}get xg(){return this.Jk}set xg(t){this.gTt&&this.gTt.setAdVolume(t),this.Jk=t}get Z_(){return this.gTt&&(this.joi=0===this.gTt.getAdVolume()),this.joi}set Z_(t){this.gTt&&this.gTt.setAdVolume(v6(t,this.xg)),this.joi=t}get yg(){return this.I$}get R_(){return this.Y$}set R_(t){this.Y$=t}get vg(){return this.G$}static zoi(t){switch(t){case"pause":return tv.freewheel.SDK.VIDEO_STATE_PAUSED;case"playing":return tv.freewheel.SDK.VIDEO_STATE_PLAYING;case"ended":return tv.freewheel.SDK.VIDEO_STATE_COMPLETED;case"stop":return tv.freewheel.SDK.VIDEO_STATE_STOPPED}}Poi(i){const e=t.zoi(i);this.gTt&&e&&this.gTt.setVideoState(e)}Yp(){const t=this.Xnt.NJt;t&&t.Ghi.skip()}Zn(){if(this.Ooi(),this.gTt){this.Poi("stop"),this.gTt.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED);const t=this.gTt.getTemporalSlots();for(const i of t)i.stop();this.gTt.dispose(),this.gTt=void 0}this.Rk=NaN,this.R_=!1,this.G$=ov.tN,this.j_=0,this.Boi=0,this.hg=!0,void 0!==this.Roi&&(m(this.Roi),this.Roi=void 0)}gn(){this.Zn(),this.Vo(),this.Xnt.fn("w7",this.Md),this.Wu.fn(Zr.pn,this.boi),this.CVt.removeEventListener("click",this.Uoi)}constructor(t,i,e,s){super(),this.Qo=t,this.Wu=i,this.Xnt=e,this.CVt=s,this.I$=Ki.lR().ks(),this.gR=!0,this.Rk=NaN,this.joi=!1,this.Y$=!1,this.G$=ov.tN,this.dR=0,this.Boi=0,this.Eoi=t=>{switch(t.subType){case tv.freewheel.SDK.EVENT_AD_PAUSE:(function(t){if(!t)return!0;const i=t.Ghi,e=i.getPlayheadTime(),s=i.getDuration();return e>=s||Y_(s,e)})(this.Xnt.NJt)||(this.hg=!0,this.Co(new ws(this.j_)));break;case tv.freewheel.SDK.EVENT_AD_RESUME:this.hg=!1,this.Co(new Lr(this.j_));break;case tv.freewheel.SDK.EVENT_AD_VOLUME_CHANGE:if(this.gTt){const t=this.gTt.getAdVolume();0===t?this.joi=!0:this.Jk=t,this.Co(new Oe(this.j_,this.xg))}}},this.Loi=()=>{this.R_=!1;const t=this.hg;if(this.hg=!1,t&&(this.Co(new fh(this.j_)),this.Co(new Lr(this.j_))),this.G$=ov.eN,this.j_=0,!this.Xnt.NJt)return;const i=this.Xnt.NJt.Ghi;this.Rk=i.getDuration(),this.Co(new Tn(this.Rk)),this.Roi=v((()=>{if(!this.jhi)return void this.r$();this.Xnt.Toi(this.j_);const t=i.getPlayheadTime();Va(t,this.Boi,.001)||this.Co(new jc(t,void 0)),this.Boi=t}),250),this.gTt&&this.gTt.setAdVolume(v6(this.Z_,this.xg))},this.Uoi=()=>{const t=this.Xnt.NJt;t&&(t.Lqt===Vr.LQt?this.Qo.Gg():this.hg||this.Gg())},this.r$=()=>{m(this.Roi),this.Roi=void 0},this.koi=()=>{this.r$(),this.R_=!0},this.Coi=()=>{this.Poi("pause")},this.xoi=()=>{this.Poi("playing")},this.Md=t=>{t.Xl.Lqt===Vr.bQt&&(this.hg=!1)},this.boi=()=>{this.gTt&&this.gTt.resize(this.Wu.ku,this.Wu._u)},this.Jk=t.xg,e.yn("w7",this.Md),this.Wu.yn(Zr.pn,this.boi),this.CVt.addEventListener("click",this.Uoi)}};function v6(t,i){return t?0:i}r(),r();var Pc=class extends Xo{get name(){return ur.whi}constructor(){super("A FreeWheel Ad Error occurred")}};r();var m6=class extends Xo{get name(){return ur.ghi}constructor(){super("A FreeWheel Reset Error Occurred")}},p6=0;var y6=class{Qoi(t,i,e){t.setNetwork(i.networkId),t.setServer(i.adServerUrl);const s=this.gTt;if(s.setProfile(i.profile),i.assetId&&i.assetDuration&&s.setVideoAsset(i.assetId,i.assetDuration),i.siteSectionId&&s.setSiteSection(i.siteSectionId),s.registerVideoDisplayBase(e),i.cuePoints&&i.cuePoints.length)for(const t of i.cuePoints)s.addTemporalSlot("cue-"+ ++p6,t.adUnit,t.timeOffset);const n=i.customData;if(Mi(n)){const t=_.keys(n);for(const i of t){const t=n[i];s.addKeyValue(i,t)}}}async Foi(){this.gTt.submitRequest(),await this.Yoi.PL}Zn(){this.gTt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.Goi),this.Yoi.zL(new m6)}constructor(t,i,e,s){this.gTt=i,this.Goi=t=>{this.gTt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.Goi),t.success?this.Yoi.jL(void 0):this.Yoi.zL(new Pc)},this.Qoi(t,e,s),i.addEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.Goi),this.Yoi=new Eo}};r(),r();var M6=class{Voi(){this.Hhi.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.hoi),this.Hhi.removeEventListener(tv.freewheel.SDK.EVENT_ERROR,this.hoi)}get Woi(){return this.u_.PL}DCt(){this.Voi(),this.u_.zL(new m6)}constructor(t){this.Hhi=t,this.hoi=t=>{this.Voi(),this.u_.jL(void 0)},this.eKt=t=>{this.Voi(),this.u_.zL(new Pc)},this.u_=new Eo,t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.hoi),t.addEventListener(tv.freewheel.SDK.EVENT_ERROR,this.eKt)}},T6=class{gN(t){this.Hhi=t}Phi(){return this.Hoi(this.qoi.Khi)}bhi(){this.Hoi(this.qoi.ioi)}async Hoi(t){if(this.Hhi)for(;t.length>0;){this.Xoi=new M6(this.Hhi);const i=this.Xoi.Woi,e=this.qoi.r7;e&&e.Lqt===Vr.LQt&&e.Rhi.stop();t.shift().Rhi.play();try{await i}finally{this.Xoi=void 0}}}Zn(){this.Xoi&&(this.Xoi.DCt(),this.Xoi=void 0),this.Zoi=0}gn(){this.Qo.fn(t.ov,this.Koi)}constructor(i,e){this.Qo=i,this.qoi=e,this.Zoi=0,this.Koi=()=>{const t=this.Qo.z_();for(const i of this.qoi.$hi){const e=new Ki([this.Zoi,t],[!0,!0]),s=i.Rhi.getTimePosition();if(e.gr(s))switch(i.Rhi.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:this.Hoi([i]);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:i.Rhi.play(),i.Rhi.setVisible(!0)}}this.Zoi=t},i.yn(t.ov,this.Koi)}},N6=0,D6=class t extends Zu{static createUniqueDisplayBaseId(){return"theo-freewheel-"+ ++N6}get Ehi(){return 0!==this.Nhi.ioi.length}get zhi(){return 0!==this.Nhi.Khi.length}async hXt(){if(!this.yFt)throw new b("Invalid state");const t=this.Joi,i=t.newContext();i.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),i.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);const e=new y6(t,i,this.yFt,this.$oi),s=this.Nhi.Whi(i,e.Foi());this.tai.gN(i),this.Ihi.Soi(i),this.iai=e;try{await s}finally{this.Ihi.Ioi(),this.eai=!0}}get Ihi(){return this.ZZt}get Nhi(){return this.sai}get Chi(){return this.eai}static nai(t,i,e){const s=h.createElement("div");return s.id=e,s.className="theo-freewheel",i.classList.add("theo-freewheel-video"),s.appendChild(i),t.appendChild(s),s}get Lhi(){return this.tai}cHt(t){this.Ihi.Poi(t.type)}ge(){this.CVt.style.display="block",this.mO.style.display="block"}be(){this.CVt.style.display="none",this.mO.style.display="none"}qJt(t){this.yFt=t}Zn(){this.eai=!1,this.yFt=void 0,this.Nhi.Zn(),this.tai.Zn(),this.iai&&(this.iai.Zn(),this.iai=void 0),this.Ihi.Zn(),this.mO.src=""}gn(){this.Zn(),this.ZZt.gn(),this.tai.gn(),this.Nhi.gn(),this.CVt.remove(),this.Qo.we.removeChild(this.CVt)}constructor(i,e,n){super(),this.Qo=i,this.mO=e,this.eai=!1,this.$oi=t.createUniqueDisplayBaseId(),this.CVt=t.nai(i.we,e,this.$oi),this.Joi=new s.tv.freewheel.SDK.AdManager,this.sai=new w6(this.CVt,this.mO),this.tai=new T6(this.Qo,this.Nhi),this.Qa(this.Nhi),this.ZZt=new A6(i,n,this.Nhi,this.CVt)}};function I6(t){if(s.tv)switch(t){case"preroll":return tv.freewheel.SDK.ADUNIT_PREROLL;case"midroll":return tv.freewheel.SDK.ADUNIT_MIDROLL;case"postroll":return tv.freewheel.SDK.ADUNIT_POSTROLL;case"overlay":return tv.freewheel.SDK.ADUNIT_OVERLAY}}function S6(t,i,e){if(void 0!==i&&j(i)||i<0||i===1/0)return NaN;switch(t){case"preroll":return 0;case"postroll":return e}return TJ(i)}var E6;function Gi(t){return t.navigator&&t.navigator.userAgent||""}Zo.gL.$R(new class{get $Wt(){return sh.JYt}JR(t){return t.integration===uS.FREEWHEEL}tHt(t,i,e){if(!Boolean(s.tv&&s.tv.freewheel&&s.tv.freewheel.SDK&&s.tv.freewheel.SDK.AdManager))return;const n=new Uy(t.Iu,t.Ol,1,[rv.vp]);n.IR(t.we);const r=n.cB(rv.vp),h=new D6(t,r.TP,t.Iu);return new d6(t,i,n,h,r)}_F(t){const i=se(t);pi(i.cuePoints)||(i.cuePoints=[]);const e=[],s=t.assetDuration||0;for(const t of i.cuePoints){const i=S6(t.adUnit,t.timeOffset,s),n=I6(t.adUnit);!j(i)&&ae(n)?(t.adUnit=n,t.timeOffset=i,e.push(t)):lg.Pv("Invalid adUnit/timeOffset combination. Cue was removed.")}return i.cuePoints=e,i}N1(t,i,e,s){e.qJt(t,i,s)}}),r(),r(),r(),r(),r(),r(),r(),r(),function(t){t.rai="Windows 10",t.hai="Windows 8.1",t.oai="Windows 8",t.aai="Windows 7",t.uai="Windows Vista",t.cai="Windows Server 2003",t.lai="Windows XP",t.fai="Windows Phone",t._ai="Mac OS X",t.gai="Mac OS",t.TE="Android",t.DE="iOS",t.wai="Ubuntu",t.Aai="Linux",t.vai="Chrome OS"}(E6||(E6={}));var b6={"Windows 10":/(Windows 10.0|Windows NT 10.0)/i,"Windows 8.1":/(Windows 8.1|Windows NT 6.3)/i,"Windows 8":/(Windows 8|Windows NT 6.2)/i,"Windows 7":/(Windows 7|Windows NT 6.1)/i,"Windows Vista":/Windows NT 6.0/i,"Windows Server 2003":/Windows NT 5.2/i,"Windows XP":/(Windows NT 5.1|Windows XP)/i,"Windows Phone":/Windows Phone/i,Android:/Android/i,Linux:/(Linux(?!.*Ubuntu)|X11)/,Ubuntu:/Ubuntu/i,iOS:/(iPhone|iPad|iPod)/i,"Mac OS X":/Mac OS X/i,"Mac OS":/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/i,"Chrome OS":/CrOS/i};function au(t,i){const e=b6[i];return!!e&&Boolean(Gi(t).match(e))}function L6(t){return au(t,"Android")}function k6(t){return au(t,"Windows Phone")}function C6(t){return au(t,"iOS")&&!k6(t)}function x6(t){return au(t,"Ubuntu")}var O6,co=/Windows (NT|Phone) ([0-9.]+)/i,j6=/Mac.*?(OS |OS X )(\d+(([_.])\d+)?(([_.])\d+)?)/i,z6={"Windows 10":co,"Windows 8.1":co,"Windows 8":co,"Windows 7":co,"Windows Vista":co,"Windows Server 2003":co,"Windows XP":co,"Windows Phone":/Windows Phone ([0-9.]+)/i,Android:/Android (\d+(([_.])\d+)?(([_.])\d+)?)/i,Linux:void 0,Ubuntu:void 0,iOS:/(iPad|iPhone|iPod).*?(OS |os |OS_)(\d+(([_.])\d+)?(([_.])\d+)?)/i,"Mac OS X":j6,"Mac OS":j6,"Chrome OS":void 0};function P6(t,i){const e=z6[i];return e?Gi(t).match(e):null}function B6(t){return t.split(/[_.]/).map((t=>C(t,10)))}function R6(t){if(function(t){return Boolean(Gi(t).match(/Windows/i))}(t)){if(function(t){return au(t,"Windows 10")}(t))return"Windows 10";if(k6(t))return"Windows Phone";if(function(t){return au(t,"Windows 8.1")}(t))return"Windows 8.1";if(function(t){return au(t,"Windows 8")}(t))return"Windows 8";if(function(t){return au(t,"Windows 7")}(t))return"Windows 7";if(function(t){return au(t,"Windows Vista")}(t))return"Windows Vista";if(function(t){return au(t,"Windows Server 2003")}(t))return"Windows Server 2003";if(function(t){return au(t,"Windows XP")}(t))return"Windows XP"}else{if(L6(t))return"Android";if(C6(t))return"iOS";if(function(t){return au(t,"Mac OS X")}(t))return"Mac OS X";if(function(t){return au(t,"Mac OS")}(t))return"Mac OS";if(x6(t))return"Ubuntu";if(function(t){return au(t,"Chrome OS")}(t))return"Chrome OS";if(function(t){return au(t,"Linux")&&!x6(t)}(t))return"Linux"}}function U6(t,i){const e=function(t){const i=P6(t,"Windows 10");return i&&i.length>2?B6(i[2]):void 0}(t),s=function(t){const i=P6(t,"Mac OS X");return i&&i.length>2?B6(i[2]):void 0}(t),n=function(t){const i=P6(t,"Android");return i&&i.length>1?B6(i[1]):void 0}(t),r=function(t){const i=P6(t,"iOS");return i&&i.length>3?B6(i[3]):void 0}(t),h=function(t){const i=P6(t,"Chrome OS");return i&&i.length>0?B6(i[0]):void 0}(t);return e?e.length>i?e[i]:void 0:s?s.length>i?s[i]:void 0:n?n.length>i?n[i]:void 0:r?r.length>i?r[i]:void 0:h&&h.length>i?h[i]:void 0}function Q6(t){const i=function(t){return U6(t,0)}(t),e=function(t){return U6(t,1)}(t),s=function(t){return U6(t,2)}(t);if(void 0!==i)return void 0===e?""+i:void 0===s?i+"."+e:i+"."+e+"."+s}!function(t){t.mai="Chrome",t.pai="Chrome Mobile",t.yai="Chrome iOS",t.Mai="Chromium",t.Tai="Firefox",t.Nai="Seamonkey",t.Dai="Firefox iOS",t.Iai="Firefox Mobile",t.Sai="Safari",t.Eai="Safari Mobile",t.bai="Edge",t.Lai="Edge Chromium",t.kai="Edge Mobile",t.Cai="IE",t.xai="Opera",t.Oai="Opera Mobile",t.jai="Vivaldi",t.zai="HeadlessChrome",t.Pai="Android Browser"}(O6||(O6={}));var F6={Chrome:/Chrome/i,"Chrome Mobile":void 0,"Chrome iOS":/CriOS/i,Chromium:/Chromium/i,HeadlessChrome:/HeadlessChrome/i,Firefox:/Firefox/i,Seamonkey:/Seamonkey/i,"Firefox iOS":/FxiOS/i,Safari:/Safari/i,Edge:/Edge\/\d+/i,"Edge Chromium":/Edg\/\d+/i,IE:/Trident/i,Opera:/Opera|OPR/i,Vivaldi:/Vivaldi/i,"Android Browser":void 0};function X(t,i){const e=F6[i];return!!e&&Boolean(Gi(t).match(e))}function Y6(t){return Boolean(Gi(t).match(/Mobi/i))}function G6(t){return Boolean(t.chrome&&t.navigator&&t.navigator.vendor&&/google/i.test(t.navigator.vendor))||V6(t)}function V6(t){return X(t,"Chrome iOS")}function W6(t){return X(t,"Firefox")&&!q6(t)}function H6(t){return X(t,"Firefox Mobile")&&!q6(t)&&Y6(t)}function q6(t){return X(t,"Seamonkey")}function X6(t){return X(t,"Firefox iOS")&&!q6(t)}function Z6(t){return X(t,"Safari")&&!X(t,"Chrome")&&!wn.QE}function K6(t){return Boolean(h8(t))}function J6(t){return X(t,"Edge")}function $6(t){return X(t,"Edge Chromium")}function t8(t){return X(t,"IE")}function i8(t){return X(t,"Vivaldi")}var e8,s8=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,n8={Chrome:s8,"Chrome Mobile":s8,"Chrome iOS":/CriOS\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,Chromium:s8,HeadlessChrome:s8,Firefox:/Firefox\/([0-9.]+)/i,"Firefox iOS":/FxiOS\/([0-9.]+)/i,Safari:/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/,"Safari Mobile":void 0,Edge:/Edge\/(\d+)/i,"Edge Chromium":/Edg\/(\d+)/i,"Edge Mobile":void 0,IE:/(MSIE |Trident.*?rv:)(\d+)/i,Opera:/(OPR\/(\d+\.\d+))|(Opera(?=.*Version\/((\d+)\.(\d+))))/i,"Opera Mobile":void 0,Vivaldi:/Vivaldi\/((\d+)\.(\d+)\.(\d+)(?:\.(\d+))?)/i,"Android Browser":void 0};function r8(t,i){const e=n8[i];return e?Gi(t).match(e):null}function h8(t){return r8(t,"Opera")}function o8(t){const i=function(t){return r8(t,"Firefox")}(t);return i?S(i[1]):0}function a8(t){const i=function(t){return r8(t,"Firefox iOS")}(t);return i?S(i[1].split(".")[0]):0}function u8(t){const i=function(t){return r8(t,"Safari")}(t);return i?S(i[2].split(".")[0]):0}function c8(t){const i=function(t){return r8(t,"Edge")}(t);return i?S(i[1]):0}function l8(t){const i=function(t){return r8(t,"Edge Chromium")}(t);return i?S(i[1]):0}function d8(t){const i=function(t){return r8(t,"IE")}(t);return i?S(i[2]):0}function f8(t){const i=function(t){return r8(t,"Vivaldi")}(t);return i?S(i[1]):0}function _8(t){if(L6(t))return G6(t)?"Chrome Mobile":W6(t)||H6(t)?"Firefox Mobile":J6(t)?"Edge Mobile":K6(t)?"Opera Mobile":"Android Browser";if(C6(t)){if(G6(t)||V6(t))return"Chrome iOS";if(W6(t)||X6(t))return"Firefox iOS";if(J6(t))return"Edge Mobile";if(Z6(t)||function(t){return Z6(t)&&Y6(t)}(t))return"Safari Mobile";if(K6(t))return"Opera Mobile"}return function(t){return X(t,"Chromium")}(t)?"Chromium":function(t){return X(t,"HeadlessChrome")}(t)?"HeadlessChrome":G6(t)?"Chrome":W6(t)?"Firefox":Z6(t)?"Safari":J6(t)?"Edge":$6(t)?"Edge Chromium":t8(t)?"IE":K6(t)?"Opera":i8(t)?"Vivaldi":void 0}function g8(t){return i8(t)?f8(t):V6(t)?Number(function(t){const i=n8["Chrome iOS"];return i&&i.exec(Gi(t))||[]}(t)[1]):G6(t)?Number(function(t){const i=n8.Chrome;return i&&i.exec(Gi(t))||[]}(t)[1]):W6(t)||H6(t)?o8(t):X6(t)?a8(t):Z6(t)?u8(t):J6(t)?c8(t):$6(t)?l8(t):t8(t)?d8(t):K6(t)?function(t){const i=h8(t);return i&&i[0].indexOf("Opera")>-1?S(i[5]):i?S(i[2].split(".")[0]):0}(t):void 0}function w8(t){const i=Gi(t);return i.match(/CrKey|Roku|AFTS|AppleTV|Nexus Player/i)?"settop":i.match(/Xbox|Playstation|Wii|Nintendo/i)?"console":/(iPad|Tablet|(Android(?!.*Mobi))|(Windows(?!.*Phone)(.*Touch))|Kindle|Playbook|Silk|(Puffin(?!.*(IP|AP|WP))))/i.test(i)?"tablet":/Mobi/.test(i)?"mobile":i.match(/GoogleTV|SmartTV|SMART-TV|Internet TV|NetCast|NETTV|boxee|Kylo|DLNADOC|hbbtv|CE-HTML/i)?"smarttv":i.match(/(nuhk|Googlebot|bingbot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/i)?"searchbot":function(t){return Boolean(_8(t))}(t)?"pc":void 0}!function(t){t.Bai="pc",t.Rai="console",t.Uai="settop",t.Qai="mobile",t.Fai="tablet",t.Yai="smarttv",t.Gai="searchbot"}(e8||(e8={}));var A8=class{fF(t){this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_ID,t.deviceID||function(){let t=Vt.kL("deviceId");if(t)return t;let i=IS();return Vt.zz("deviceId",i),i}()),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER,"THEOplayer"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER_VERSION,"7.0.0"),this.Vai(t),this.Wai(),this.Hai(t),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_VERSION,"3.0"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_BUILDDATE,"2023-04-17 12:00:00"),t.application&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION,t.application),t.applicationVersion&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION_VERSION,t.applicationVersion),t.userAccountID&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.USER_ACCOUNT_ID,t.userAccountID);const i=t.connectionType;i?this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DATA_CONNECTION_TYPE,i):(this.qai(),sd.connection&&sd.connection.addEventListener&&sd.connection.addEventListener("change",this.qai))}Vai(t){this.Xai(t);const i=t.deviceManufacturer||Cc&&Cc.manufacturer;i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MANUFACTURER,i);const e=t.deviceModel||Cc&&Cc.model;e&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MODEL,e)}Xai(t){const i=t.deviceType||function(){const t=w8(self);switch(t){case e8.Rai:return"game-console";case e8.Yai:return"tv";case e8.Uai:return"media-streamer";default:return t}}();i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_TYPE,i)}Wai(){const t=_8(self);t&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER,t);const i=g8(self);void 0!==i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER_VERSION,i.toString())}Hai(t){const i=t.deviceOs||R6(self);i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS,i);const e=t.deviceOsVersion||Q6(self);e&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS_VERSION,e.toString())}gn(){sd.connection&&sd.connection.removeEventListener&&sd.connection.removeEventListener("change",this.qai)}constructor(t,i){this.empClient=t,this.agama=i,this.qai=()=>{const t=lg.Cit;switch(t){case"wifi":this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DATA_CONNECTION_TYPE,"wlan");break;case"ethernet":this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DATA_CONNECTION_TYPE,t);break;case"cellular":const i=function(t){switch(t){case"3g":return"mobile/3G";case"4g":return"mobile/4G";default:return}}(lg.kit);i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DATA_CONNECTION_TYPE,i)}}}};var v8,Zh;ti(function(t){return i=>class extends i{P_(t){this.Zai&&this.Zai.iQ(),super.P_(t)}gn(){this.Zai&&this.Zai.gn(),super.gn()}constructor(i,e){super(i,e),this.GU=new t,this.Zai=new ES(this,this.GU,e)}}}(class extends AS{Yg(t){this.Kai=t,this.Jai&&(this.GU=function(t,i){const e=function(t,i){switch(i){case"info":return t.LogLevel.INFO;case"debug":return t.LogLevel.DEBUG;case"warning":return t.LogLevel.WARNING;case"error":return t.LogLevel.ERROR;default:return t.LogLevel.FATAL}}(i,t.logLevel);i.setLogLevel(e);const s=new i.EMPClient(t.config);return function(t,i){return t.setExternalConfig(i.config),t}(s,t)}(t,this.Jai),this.GU&&(this.$ai=new A8(this.GU,this.Jai),this.bo=!0))}dF(){return this.Jai||console.warn("Please load the Agama Library (empclient.min.js) in order to use the integration"),!!this.Jai}cF(){return this.bo}UQ(t,i){if(this.GU&&this.Jai)switch(t){case bu.cU:this.GU.setMeasurement(this.Jai.Measurement.BUFFER_LENGTH,i);break;case bu.lU:this.GU.setMeasurement(this.Jai.Measurement.BYTES_RECEIVED,i);break;case bu.fU:this.GU.setMeasurement(this.Jai.Measurement.SEGMENT_PROFILE_BITRATE,i);break;case bu._U:this.GU.setMeasurement(this.Jai.Measurement.VIDEO_PROFILE_BITRATE,i);break;case bu.dU:this.GU.setMeasurement(this.Jai.Measurement.SEGMENT_READ_BITRATE,i);break;case bu.rU:this.GU.setMeasurement(this.Jai.Measurement.HTTP_REQUEST_STATUS_CODE_1XX,i);break;case bu.hU:this.GU.setMeasurement(this.Jai.Measurement.HTTP_REQUEST_STATUS_CODE_2XX,i);break;case bu.oU:this.GU.setMeasurement(this.Jai.Measurement.HTTP_REQUEST_STATUS_CODE_3XX,i);break;case bu.aU:this.GU.setMeasurement(this.Jai.Measurement.HTTP_REQUEST_STATUS_CODE_4XX,i);break;case bu.uU:this.GU.setMeasurement(this.Jai.Measurement.HTTP_REQUEST_STATUS_CODE_5XX,i);break;case bu.wU:this.GU.setMeasurement(this.Jai.Measurement.PLAYBACK_POSITION,i);break;case bu.AU:this.GU.setMeasurement(this.Jai.Measurement.NUMBER_OF_FRAMES_DECODED,i);break;case bu.gU:this.GU.setMeasurement(this.Jai.Measurement.NUMBER_OF_FRAMES_DROPPED,i)}}pQ(t,i){if(this.GU&&this.Jai)switch(t){case Wo.MU:this.GU.setSessionMetadata(this.Jai.SessionMetadata.ASSET_DURATION,i);break;case Wo.yU:this.GU.setSessionMetadata(this.Jai.SessionMetadata.MANIFEST_URI,i);break;case Wo.TU:this.GU.setSessionMetadata(this.Jai.SessionMetadata.NUMBER_OF_CONTENT_PROFILES,i);break;case Wo.IU:this.GU.setSessionMetadata(this.Jai.SessionMetadata.SERVICE_NAME,i);break;case Wo.NU:this.GU.setSessionMetadata(this.Jai.SessionMetadata.CDN,i);break;case Wo.DU:this.GU.setSessionMetadata(this.Jai.SessionMetadata.CONTENT_TITLE,i);break;case Wo.SU:this.GU.setSessionMetadata(this.Jai.SessionMetadata.CONTENT_TYPE,i);break;case Wo.EU:this.GU.setSessionMetadata(this.Jai.SessionMetadata.CONTENT_DESCRIPTION,i)}}fF(){this.$ai&&this.Kai&&this.$ai.fF(this.Kai)}lF(t,i){this.Jai&&this.GU&&(this.XQ(),function(t,i,e,s){const n=SS(t,e,s);i.abrSession(n,t.ViewState.INITIAL_BUFFERING)}(this.Jai,this.GU,t,i),this.tui=!0)}gn(){this.$ai&&this.$ai.gn(),this.iui(fS.bU),this.GU=void 0}hQ(t){this.eui(t)}uQ(t,i){this.GU&&this.GU.event(t.code,i)}XQ(){this.GU&&this.tui&&(this.GU.exitSession(),this.tui=!1)}iui(t){if(this.GU&&this.Jai&&(this.XQ(),t===fS.bU))this.GU.shutdown(this.Jai.ShutdownType.NORMAL_SHUTDOWN)}oQ(t,i,e){this.eui(t,i,e)}eui(t,i,e){if(this.GU&&this.Jai)switch(t){case Fc.Tv:this.sui(this.Jai.ViewState.PLAYING,i,e);break;case Fc.eU:this.sui(this.Jai.ViewState.FAILED,i,e);break;case Fc.sU:this.sui(this.Jai.ViewState.INITIAL_BUFFERING,i,e);break;case Fc.Dv:this.sui(this.Jai.ViewState.PAUSED,i,e);break;case Fc.tU:this.sui(this.Jai.ViewState.SEEK,i,e);break;case Fc.iU:this.sui(this.Jai.ViewState.STALLED,i,e);break;case Fc.nU:this.sui(this.Jai.ViewState.NO_ACCESS,i,e)}}sui(t,i,e){if(this.GU)if(i){const s=function(t){return t||""}(e);this.GU.viewStateExtended(t,i.code,s)}else this.GU.viewStateChanged(t)}constructor(){super(),this.bo=!1,this.tui=!1,this.Jai=Ys.Agama}}),tu.X9),r(),r(),r(),r(),r(),function(t){t.PLAY_ALL="play-all",t.PLAY_NONE="play-none",t.PLAY_LAST="play-last"}(v8||(v8={})),r(),function(t){t.VOD="vod",t.LIVE="live"}(Zh||(Zh={}));var m8=class{get va(){return this.nui.va}get lt(){return this.yP}get F_(){return this.MP}rui(t){this.yP=ne(t),this.MP=t,this.Qo.Co(new pe(t))}ga(t){this.hui.Zn(),this.oui.OL(),this.aui=!1,this.Qo.uui(t)}async L7(t,i){if(this.cui.Zn(),this.aui=!1,!t||!function(t){return t.sources.some((t=>t.integration===ms.VERIZON_MEDIA))}(t))return await this.Qo.lui(t,i);try{this.dui=await this.fui.kni(t),await this.Qo.lui(this.dui,i)}catch(t){this.rui(new ce(p_.MANIFEST_LOAD_ERROR,t.message,t))}}gn(){this.u2.c_(),this._ui.c_(),this.Qo.fn("currentsourcechange",this.vei),this.Qo.fn("timeupdate",this.rri),this.Qo.fn("ended",this.aei),this.Qo.fn("loadeddata",this.jd);for(const t of this.hui.hGt.Gu)t.fn("gui",this.wui),t.fn("w7",this.dei),t.fn("g7",this.fei);this.hui.hGt.fn("d7",this.Aui),this.hui.hGt.fn("l7",this.vui),this.hui.gn(),this.OVt&&(this.OVt.e_(),this.OVt=void 0),this.aui=!1}async fetchAssetInfo(t){if(t&&t.integrationData)try{const i=await this.mui.Kat(t.integrationData.source.prefix,t.integrationData.source.id,this._ui.a_,t.integrationData.preplayResponse.sid);this.nui.pui(i),this.oui.yui(i,this.hui.hGt.Gu)}catch(t){0}}Mui(t){this.hui.Tui(t),this.hui.s7.forEach((i=>i.Nui(t))),this.hui.Dui(this.Qo.Mg()),this.xVt()}P_(t){this.hui.r7||(this.u2.c_(),this.u2=new Ao,W(this.Dni(t,this.u2.a_)))}async Dni(t,i){if(Pi(i),t<this.Qo.z_())return void this.Iui(t);let e=[];switch(this.hui.Sui){case v8.PLAY_ALL:e=this.hui.Eui(this.Qo.z_(),t),await this.bui(t,e,i);break;case v8.PLAY_LAST:const s=this.hui.Eui(this.Qo.z_(),t).pop();e=s?[s]:[],await this.bui(t,e,i);break;case v8.PLAY_NONE:this.Lui(t)}}Iui(t){const i=X_(this.hui.hGt.Gu,(i=>i.lst.gr(t)));i?this.Qo.kui(i.zN):this.Qo.kui(t)}Lui(t){const i=this.hui.Eui(this.Qo.z_(),t).pop();i&&i.lst.gr(t)?this.Qo.kui(i.PN):this.Qo.kui(t)}async bui(t,i,e){for(const t of i)await this.Cui(t,e);const s=i[i.length-1];s&&s.lst.gr(t)?this.Qo.z_()<t&&this.Qo.kui(s.PN):this.Qo.kui(t)}async Cui(t,i){t.fn("gui",this.wui);const e=Promise.race([t.D_("g7",i),t.D_("gui",i)]);this.Mui(this.Qo.z_()),t.ro||this.Qo.kui(t.zN),await e,t.yn("gui",this.wui)}xVt(){const t=X_(this.hui.s7,(t=>t.xui.length>0));if(t){const i=t.xui[0];this.OVt||(this.OVt=new On(this.Qo.we),this.OVt.yn("clickstart",this.Oui)),this.OVt.YGt=i}else this.OVt&&(this.OVt.e_(),this.OVt=void 0)}constructor(t,i,e,s,n,r,h){this.Qo=t,this.cui=i,this.fui=e,this.hui=s,this.nui=n,this.mui=r,this.oui=h,this.yP=void 0,this.MP=void 0,this.u2=new Ao,this._ui=new Ao,this.jui=void 0,this.aui=!1,this.OVt=void 0,this.vei=t=>{const i=t.currentSource;if(!i||!i.integrationData)return;const{preplayResponse:e,source:s}=i.integrationData;this.nui.zui(e),e&&e.type===Zh.VOD&&e.ads&&this.hui.yui(e.ads),this.cui.Pui=i.integrationData,s.assetInfo&&W(this.fetchAssetInfo(i))},this.nii=()=>{this.aui=!0},this.rri=()=>{this.aui&&this.Mui(this.Qo.z_())},this.aei=()=>{this.aui&&(this.Mui(1/0),this.aui=!1)},this.jd=()=>{W(this.cui.Cn())},this.wui=t=>{this.u2.c_(),this.u2=new Ao,W(this.Dni(t.Xl.PN,this.u2.a_))},this.dei=()=>{1!==this.Qo.ag&&(this.jui=this.Qo.ag,this.Qo.ag=1)},this.fei=()=>{void 0!==this.jui&&(this.Qo.ag=this.jui,this.jui=void 0)},this.Aui=t=>{t.Xl.yn("gui",this.wui),t.Xl.yn("w7",this.dei),t.Xl.yn("g7",this.fei)},this.vui=t=>{t.Xl.fn("gui",this.wui),t.Xl.fn("w7",this.dei),t.Xl.fn("g7",this.fei)},this.Oui=()=>{this.Qo.Gg()},this.Qo.yn("currentsourcechange",this.vei),this.Qo.yn("play",this.nii),this.Qo.yn("timeupdate",this.rri),this.Qo.yn("ended",this.aei),this.Qo.yn("loadeddata",this.jd),this.hui.hGt.yn("d7",this.Aui),this.hui.hGt.yn("l7",this.vui)}};r(),r();var p8=_r({breaksIndex:Ii,adsIndex:Ii,startTime:Ii,endTime:Ii}),y8=_r({index:Ii,timeOffset:Ii}),M8=_r({duration:Ii,apiFramework:ii(P,uI),creative:P,mimeType:P,width:Ii,height:Ii,companions:ki(aI),extensions:ii(gh,ki(aI)),fw_parameters:ii(gh,Du(P)),events:Du(ki(P))}),T8=_r({type:Kt(["linear","nonlinear"]),position:Kt(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:Ii,duration:Ii,ads:ki(M8),events:Du(ki(P))}),N8=_r({breaks:ki(T8),breakOffsets:ki(y8),placeholderOffsets:ki(p8)}),D8=_r({fairplayCertificateURL:ii(gh,P),widevineLicenseURL:ii(gh,P),playreadyLicenseURL:ii(gh,P)}),I8={type:Kt(lI(Zh)),playURL:P,prefix:P,sid:P,drm:ii(gh,D8)},S8=_r(At({},I8,{type:Kt([Zh.VOD]),ads:N8,interstitialURL:ii(P,uI,gh)})),E8=ii(S8,_r(At({},I8,{type:Kt([Zh.LIVE])})));r();var b8,L8=P,k8=_r({userId:P,externalId:ii(P,ki(P))});!function(t){t[t.AD_IMPRESSIONS=1]="AD_IMPRESSIONS",t[t.FW_VIDEO_VIEWS=2]="FW_VIDEO_VIEWS",t[t.LINEAR_AD_DATA=4]="LINEAR_AD_DATA"}(b8||(b8={}));var C8=class{async Kat(t){try{return this.Bui(t)}catch(t){throw t}}async Bui(t){const i=await async function(t){const i=t.prefix,e=x8[t.assetType],s=function(t){if(ki(L8).mz(t))return 1===t.length?t[0]:t.join(",")+"/multiple";if(L8.mz(t))return t;if(k8.mz(t)&&pi(t.externalId))return 1===t.externalId.length?"ext/"+t.userId+"/"+t.externalId[0]:"ext/"+t.userId+"/"+t.externalId.join(",")+"/multiple";if(k8.mz(t))return"ext/"+t.userId+"/"+t.externalId;throw new k("Invalid asset id")}(t.id),n=await async function(t){if(t&&await lg.kx())return{rmt:"fps",manifest:"m3u8"};if(t&&await lg.Sx())return{rmt:"wv",manifest:"mpd"};if(t&&await lg.Lx())return{rmt:"pr",manifest:"mpd"};return{}}(t.contentProtected),r=function(t,i){const e=O8(t,i);return e?{"ad.cping":"1","ad.pingf":String(e)}:{}}(t.assetType,t.ping);let h={};pi(t.preplayParameters)?t.preplayParameters.forEach((t=>{h[t[0]]=t[1]})):h=t.preplayParameters;const o=i+"/preplay/"+e+s+".json";return na(o,At({v:"2"},h,n,r,h))}(t),e=this.gE.mS({nE:Yc.GET,zu:i,rE:er.jS}),s=await e,n=At({},await s.Cp(),{type:t.assetType===Aa.ASSET?Zh.VOD:Zh.LIVE});return E8.mz(n)||E8.yz(n,"PreplayResponse"),n}constructor(t){this.gE=t}},x8={[Aa.ASSET]:"",[Aa.CHANNEL]:"channel/",[Aa.EVENT]:"event/"};function O8(t,i){const e=t!==Aa.ASSET;return(!e&&i.adImpressions?1:0)+(!e&&i.freeWheelVideoViews?2:0)+(e&&i.linearAdData?4:0)}r(),r();var br,j8=_r({ad_id:P,apiFramework:ii(uI,P),companions:ki(aI),creative:P,duration:Ii,mimeType:P,height:Ii,width:Ii,extensions:ii(gh,ki(aI)),fw_parameters:ii(gh,Du(P))}),z8=_r({breakId:P,ads:ki(j8),type:Kt(["linear","nonlinear"]),position:Kt(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:Ii,duration:Ii,height:ii(gh,Ii),width:ii(gh,Ii),events:Du(ki(P))}),P8=_r({breaks:ki(z8)}),B8=_r({next_time:Ii,ads:ii(gh,P8),extensions:ii(gh,ki(aI)),error:ii(gh,P),currentBreakEnd:ii(gh,Ii)});!function(t){t.act="start",t.tU="seek"}(br||(br={}));var R8=class{async Kat(t,i){try{return this.Bui(t,i)}catch(t){throw t}}async Bui(t,i){const e=function(t){const i={v:"3",pt:String(t.currentTime)};(function(t){return void 0!==t.seekTime})(t)&&t.hasFreeWheelVideoViews&&(i.ft=String(t.seekTime));t.event&&(i.ev=t.event);return na(t.zonePrefix+"/session/ping/"+t.sessionId+".json",At({},i))}(t),s=this.gE.mS({nE:Yc.GET,zu:e,rE:er.jS,a_:i}),n=await s,r=await n.Cp();return B8.mz(r)||B8.yz(r,"PingResponse"),r}constructor(t){this.gE=t}};r(),r();var U8=class extends La{get yS(){return this.MS}fa(){return new Q8(this.MS)}constructor(t){super("Rui"),this.MS=t}},Q8=class extends Ag{constructor(t){super("pingresponse"),this.response=t}};r();var F8=class extends La{get lt(){return this.yP}fa(){return new Y8(this.yP)}constructor(t){super("Uui"),this.yP=t}},Y8=class extends Ag{constructor(t){super("pingerror"),this.error=t}},G8=class extends i{set Pui(t){this.Qui=t}get Fui(){return this.Yui}async Cn(){const t=this.Qui;if(!t)return;0!==O8(t.source.assetType,t.source.ping)&&(this.Yui=this.Qo.Mg().start(0),await this.Gui(br.act),this.Qo.yn("timeupdate",this.Vui),this.Qo.yn("seeking",this.Wui))}async Gui(t,i){const e=this.Qui.preplayResponse,s={};if(j(this.Yui))return void 0;if(j_(this.Hui)&&Y_(this.Hui,this.Qo.z_()-this.Yui))return;void 0!==i&&(s.seekTime=i),void 0!==t&&(s.event=t);let n,r=this.Qo.z_()-this.Yui;t===br.act?r=0:t!==br.tU&&this.qui&&(r=x.min(r,this.qui)),this.Hui=r;try{var h;const t=await this.Xui.Kat(At({zonePrefix:e.prefix,sessionId:e.sid,currentTime:r,hasFreeWheelVideoViews:null==(h=this.Qui)?void 0:h.source.ping.freeWheelVideoViews},s),this.aO.a_);this.Co(new U8(t)),this.qui=-1!==t.next_time?t.next_time:void 0,n=t.error}catch(t){Oi(t)||(n=t.message)}finally{n&&this.Co(new F8(n))}}Zn(){this.qui=void 0,this.Qui=void 0,this.Yui=NaN,this.Zui=!1,this.Kui=NaN,this.Hui=void 0,this.Qo.fn("seeking",this.Wui),this.Qo.fn("timeupdate",this.Vui),this.Jui()}Jui(){this.aO.c_(),this.aO=new Ao}gn(){this.Zn()}constructor(t,i){super(),this.Xui=t,this.Qo=i,this.Yui=NaN,this.qui=void 0,this.Zui=!1,this.Kui=NaN,this.aO=new Ao,this.Hui=void 0,this.Vui=async()=>{const t=this.Qo.z_();if(this.Kui=t,this.Zui||z_(this.qui)||j(this.Yui))return;this.Yui+this.qui<=t&&(this.Zui=!0,await this.Gui(),this.Zui=!1)},this.Wui=()=>{if(this.Qo.z_()===this.Yui)return;this.Zui&&this.Jui(),this.Kui=this.Qo.z_();const t=this.Kui-(this.Yui||0);j(t)?W(this.Gui(br.tU,0)):W(this.Gui(br.tU,t))}}};r();var V8=class{async kni(t){const i=[];for(const e of t.sources)if(W8(e))try{const s=q8({source:e,preplayResponse:await this.$ui.Kat(e)},t,this.eH);s.src&&(s.src=na(s.src,e.playbackUrlParameters)),i.push(s)}catch(t){0}else i.push(e);if(0!==t.sources.length&&0===i.length)throw new b("Fatal: unable to play VerizonMediaSources.");return At({},t,{sources:i})}constructor(t,i){this.$ui=t,this.eH=i}};function W8(t){return"verizon-media"===t.integration}function H8(t){if(t.sources)if(pi(t.sources)){for(const i of t.sources)if(!ae(i)&&"verizon-media"===i.integration)return!0}else if(!ae(t.sources))return"verizon-media"===t.sources.integration;return!1}function q8(t,i,e){const s=t.preplayResponse;let n;t.source.contentProtected&&s.drm&&(n={integration:"uplynk"},s.drm.fairplayCertificateURL&&(n.fairplay={certificateURL:s.drm.fairplayCertificateURL}),s.drm.widevineLicenseURL&&(n.widevine={licenseAcquisitionURL:s.drm.widevineLicenseURL}),s.drm.playreadyLicenseURL&&(n.playready={licenseAcquisitionURL:s.drm.playreadyLicenseURL}));const r=ka({src:s.playURL,contentProtection:n,useNativePlayback:t.source.useNativePlayback,hls:t.source.hls,dash:t.source.dash,seamlessSwitchStrategy:t.source.seamlessSwitchStrategy},i,e);return r.integrationData=t,r}r(),r(),r();var X8=class extends La{fa(){return new Z8(this.Xl.va)}constructor(t,i){super("w7"),this.Xl=t,this.sI=i}},Z8=class extends Ag{constructor(t){super("adbreakbegin"),this.adBreak=t}};r();var K8=class extends La{fa(){return new J8(this.Xl.va)}constructor(t,i){super("g7"),this.Xl=t,this.sI=i}},J8=class extends Ag{constructor(t){super("adbreakend"),this.adBreak=t}};r();var $8=class extends La{fa(){return new t9(this.Xl.va)}constructor(t){super("gui"),this.Xl=t}},t9=class extends Ag{constructor(t){super("adbreakskip"),this.adBreak=t}};r(),r();var i9=class extends La{fa(){return new e9(this.Xl.va)}constructor(t){super("jJt"),this.Xl=t}},e9=class extends Ag{constructor(t){super("updateadbreak"),this.adBreak=t}},s9=class extends ra{get va(){return this.Xa||(this.Xa=function(t){let i;const e={get startTime(){return t.zN},get endTime(){return t.PN},get duration(){return t.ct},get ads(){return t.Oc.va},get skipOffset(){return t.LUt},set skipOffset(i){t.LUt=i},addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)}};return i=new pa(t,e),e}(this)),this.Xa}get zN(){return this.WN}get PN(){return this.Rk?this.WN+this.Rk:void 0}tci(t){this.Rk=t-this.zN;for(const i of this.Oc.Gu)i.zN>t&&this.Oc.pN(i);this.Co(new i9(this))}get ct(){return this.Rk}get lst(){const t=this.PN;return j_(t)?new Ki([this.zN,t]):Ki.lR()}get Oc(){return this.Ic}get ici(){return this.eci}get ro(){return this.ho}get LUt(){return this._ri?-1:this.kUt}set LUt(t){this._ri||(this.kUt=t)}bwt(t){return t>=this.zN&&(z_(this.ct)||t<=this.zN+this.ct)}sci(t){return-1!==this.LUt&&(!!j_(this.PN)&&t-this.zN>=this.LUt)}Yp(){this.Ic.Gu.forEach((t=>t.Yp())),this.Co(new $8(this))}nci(t){const i=j_(this.PN)&&t>=this.PN,e=this.zN<=t&&!i&&!this.ro,s=this.ro&&this.PN&&t>=this.PN;e&&(this.ho=!0,this.Co(new X8(this,this.zN))),this.Ic.Gu.forEach((i=>i.nci(t))),s&&(this.eci=!0,this.ho=!1,this.Co(new K8(this,this.PN)))}constructor(t,i,e,s,n){super(),this.WN=t,this.Rk=i,this.Ic=e,this._ri=s,this.ho=!1,this.eci=!1,this.kUt=n}};r(),r();var n9=class extends La{fa(){return new r9(this.f7.va)}constructor(t,i){super("A7"),this.f7=t,this.sI=i}},r9=class extends Ag{constructor(t){super("adbegin"),this.ad=t}};r();var h9=class extends La{fa(){return new o9(this.f7.va)}constructor(t,i){super("v7"),this.f7=t,this.sI=i}},o9=class extends Ag{constructor(t){super("adend"),this.ad=t}};r(),r();var a9=class extends La{fa(){return new u9(this.f7.va)}constructor(t){super("rci"),this.f7=t}},u9=class extends Ag{constructor(t){super("removead"),this.ad=t}},yh=class extends t1{M1t(t){}I1t(t){this.Co(new a9(t))}constructor(){super()}};r();var c9=class extends La{fa(){return new l9(this.f7.va)}constructor(t){super("bJt"),this.f7=t}},l9=class extends Ag{constructor(t){super("adfirstquartile"),this.ad=t}},d9=class extends La{fa(){return new f9(this.f7.va)}constructor(t){super("LJt"),this.f7=t}},f9=class extends Ag{constructor(t){super("admidpoint"),this.ad=t}},_9=class extends La{fa(){return new g9(this.f7.va)}constructor(t){super("kJt"),this.f7=t}},g9=class extends Ag{constructor(t){super("adthirdquartile"),this.ad=t}},w9=class extends La{fa(){return new A9(this.f7.va)}constructor(t){super("hci"),this.f7=t}},A9=class extends Ag{constructor(t){super("adcomplete"),this.ad=t}};r();var v9=class t extends ra{static aci(i,e){return new t(i,e.duration,e.apiFramework||"",e.creative,e.mimeType,e.width,e.height,e.companions.map((e=>t.aci(i,e))),e.extensions,e.fw_parameters,e.events,void 0)}static uci(i,e){return new t(i,e.duration,e.apiFramework||"",e.creative,e.mimeType,e.width,e.height,e.companions.map((e=>t.uci(i,e))),e.extensions,e.fw_parameters,void 0,e.ad_id)}get va(){return this.Xa||(this.Xa=function(t){let i;const e={get apiFramework(){return t.YRt},get companions(){return t.xRt.va},get creative(){return t.cci},get duration(){return t.ct},get endTime(){return t.PN},get events(){return t.wY},get extensions(){return t.lci},get freeWheelParameters(){return t.dci},get height(){return t.Ti},get mimeType(){return t.gY},get startTime(){return t.zN},get width(){return t.ji},addEventListener(t,e){i.yn(t,e)},removeEventListener(t,e){i.fn(t,e)}};return i=new pa(t,e),e}(this)),this.Xa}get zN(){return this.WN}get PN(){return this.WN+this.Rk}get ct(){return this.Rk}get YRt(){return this.GRt}get cci(){return this.fci}get gY(){return this.LY}get ji(){return this.tC}get Ti(){return this.iC}get wY(){return this.kR}get xRt(){return this.ORt}get lci(){return this._ci}get dci(){return this.gci}get ro(){return this.ho}get xui(){var t;return null!=(t=this.kR.clickthroughs)?t:[]}nci(t){const i=this.zN<=t&&t<this.PN,e=i&&!this.ro,s=!i&&this.ro;e&&(this.wci=!1,this.Aci=!1,this.vci=!1,this.mci=!1,this.ho=!0,this.Co(new n9(this,this.zN))),s&&(this.ho=!1,this.Co(new h9(this,this.PN)))}Nui(t){const i=(t-this.zN)/this.ct;!this.wci&&i>=.25&&(this.wci=!0,this.Co(new c9(this))),!this.Aci&&i>=.5&&(this.Aci=!0,this.Co(new d9(this))),!this.vci&&i>=.75&&(this.vci=!0,this.Co(new _9(this))),!this.mci&&i>=.9999&&(this.mci=!0,this.Co(new w9(this)))}Yp(){this.wci=!0,this.Aci=!0,this.vci=!0,this.mci=!0}gn(){this.fn("A7",this.pci),this.fn("v7",this.yci)}constructor(t,i,e,s,n,r,h,o,a=[],u={},c={},l){super(),this.WN=t,this.Rk=i,this.GRt=e,this.fci=s,this.LY=n,this.tC=r,this.iC=h,this._ci=a,this.gci=u,this.kR=c,this.mUt=l,this.ORt=new yh,this.ho=!1,this.wci=!1,this.Aci=!1,this.vci=!1,this.mci=!1,this.pci=()=>this.Nui(this.WN),this.yci=()=>this.Nui(this.PN),this.ORt.T1t(o),this.yn("A7",this.pci),this.yn("v7",this.yci)}};r(),r();var m9=class extends La{fa(){return new p9(this.Xl.va)}constructor(t){super("d7"),this.Xl=t}},p9=class extends Ag{constructor(t){super("addadbreak"),this.adBreak=t}};r();var y9,M9,T9,N9=class extends La{fa(){return new D9(this.Xl.va)}constructor(t){super("l7"),this.Xl=t}},D9=class extends Ag{constructor(t){super("removeadbreak"),this.adBreak=t}},I9=class extends t1{M1t(t){this.Co(new m9(t))}I1t(t){this.Co(new N9(t))}constructor(){super()}},S9=class{get va(){return this.Xa||(this.Xa=function(t){return{get adBreaks(){return t.hGt.va},get currentAdBreak(){if(t.r7)return t.r7.va},get currentAds(){return t.r7?t.r7.Oc.va:(new yh).va},skip(){t.Yp()}}}(this)),this.Xa}get hGt(){return this.SGt}get r7(){return X_(this.SGt.Gu,(t=>t.ro))}get s7(){return this.r7?this.r7.Oc.Gu.filter((t=>t.ro)):[]}get Mci(){if(0===this.hGt.U||0===this.Tci.Mg().length)return;const t=this.Tci.Mg().end(this.Tci.Mg().length-1);return X_(this.hGt.Gu,(i=>i.bwt(t)))}get Sui(){return this.Nci}Dui(t){if(0===t.length)return;const i=Ki.xn(t);for(const t of this.SGt.Gu.slice())j_(t.PN)&&i.Cn(0)>t.PN&&this.SGt.pN(t)}yui(t){const i=!function(t){return j_(t.breakOffsets)}(t),e=i?this.cui.Fui:0;for(const s of t.breaks){if(0===s.ads.length)continue;let t=s.timeOffset+e;const n=new yh;let r=0;for(const e of s.ads){const s=i?v9.uci(t,e):v9.aci(t,e);n.mN(s),t+=s.ct,r+=s.ct}const h=s.timeOffset+e,o=i?void 0:s.duration,a=new s9(h,o,n,i,this.Dci);i&&this.Ici.push({TRt:a,UIt:h+r}),this.SGt.mN(a)}}Sci(t){const i=this.Mci;i&&i.tci(t+this.cui.Fui)}Tui(t){this.Eci=t,this.SGt.Gu.forEach((i=>i.nci(t)))}Yp(){const t=this.Eci,i=this.r7;t&&i&&i.sci(t)&&i.Yp()}Eui(t,i){let e=[];for(const s of this.hGt.Gu)!s.ici&&s.zN>=t&&s.zN<i&&e.push(s);return e}gn(){this.Tci.fn("timeupdate",this.bci),this.cui.fn("Rui",this.Lci)}Zn(){for(const t of this.hGt.Gu){for(const i of t.Oc.Gu)i.Vo();t.Vo()}this.hGt.OL(),this.Eci=void 0,this.Ici=[]}constructor(t,i,e,s){this.Ici=[],this.Lci=t=>{t.yS.ads&&this.yui(t.yS.ads),t.yS.currentBreakEnd&&this.Sci(t.yS.currentBreakEnd)},this.bci=t=>{if(0===this.Ici.length||0===this.Tci.Mg().length)return;const i=this.Tci.Mg().end(this.Tci.Mg().length-1);for(const t of this.Ici.slice())j_(t.TRt.ct)?Et(this.Ici,t):t.UIt<i&&(t.TRt.tci(t.UIt),Et(this.Ici,t))},this.Tci=t,this.cui=i,this.SGt=new I9,this.Dci=e,this.Nci=s,t.yn("timeupdate",this.bci),this.cui.yn("Rui",this.Lci)}};r(),r(),r(),function(t){t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.G=1]="G",t[t.PG=2]="PG",t[t.PG_13=3]="PG_13",t[t.R=4]="R",t[t.NC_17=5]="NC_17",t[t.X=6]="X",t[t.NOT_RATED=7]="NOT_RATED"}(y9||(y9={})),function(t){t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.TV_Y=1]="TV_Y",t[t.TV_Y7=2]="TV_Y7",t[t.TV_G=3]="TV_G",t[t.TV_PG=4]="TV_PG",t[t.TV_14=5]="TV_14",t[t.TV_MA=6]="TV_MA",t[t.NOT_RATED=7]="NOT_RATED"}(M9||(M9={})),function(t){t[t.ADULT_LANGUAGE=1]="ADULT_LANGUAGE",t[t.SEXUAL_SITUATIONS=2]="SEXUAL_SITUATIONS",t[t.VIOLENCE=4]="VIOLENCE",t[t.DRUGS=8]="DRUGS"}(T9||(T9={}));var E9=class t{static kci(i,e,s){const n=new IA(i.rating_flags);return new t(e,s,i.duration,Boolean(i.audio_only),i.boundary_details,Boolean(i.error),i.tv_rating,i.max_slice,i.thumb_prefix,i.slice_dur,i.movie_rating,i.owner,i.meta,i.rates,i.thumbs,i.poster_url,i.default_poster_url,i.desc,n.Ep(1),n.Ep(2),n.Ep(4),n.Ep(8),i.external_id,Boolean(i.is_ad),i.asset)}get va(){return this.Xa||(this.Xa=function(t){return{startTime:t.zN,endTime:t.PN,duration:t.ct,audioOnly:t.Cci,boundaryDetails:t.xci,error:t.lt,tvRating:t.Oci,maxSlice:t.jci,thumbPrefix:t.zci,sliceDuration:t.Pci,movieRating:t.Bci,ownerId:t.Rci,metadata:t.FI,rates:t.Uci,thumbnailResolutions:t.Qci,posterUrl:t.Fci,defaultPosterUrl:t.Yci,description:t.nM,hasAdultLanguage:t.Gci,hasSexualSituations:t.Vci,hasViolence:t.Wci,hasDrugSituations:t.Hci,externalId:t.qci,isAd:t.Xci,assetId:t.Zci}}(this)),this.Xa}constructor(t,i,e,s,n,r,h,o,a,u,c,l,d,f,_,g,w,A,v,m,p,y,M,T,N){this.zN=t,this.PN=i,this.ct=e,this.Cci=s,this.xci=n,this.lt=r,this.Oci=h,this.jci=o,this.zci=a,this.Pci=u,this.Bci=c,this.Rci=l,this.FI=d,this.Uci=f,this.Qci=_,this.Fci=g,this.Yci=w,this.nM=A,this.Gci=v,this.Vci=m,this.Wci=p,this.Hci=y,this.qci=M,this.Xci=T,this.Zci=N}};var b9=_r({duration:Ii,offset:Ii}),L9=_r({c3:b9}),k9=_r({c7:b9}),C9=_r({halftime:b9}),x9=Kt(lI(M9)),O9=Kt(lI(y9)),j9=_r({width:ii(gh,Ii),prefix:P,bw:Ii,bh:Ii,height:ii(gh,Ii)}),z9=_r({audio_only:Ii,boundary_details:ii(gh,ki(ii(L9,k9,C9))),error:Ii,tv_rating:x9,max_slice:Ii,thumb_prefix:P,slice_dur:Ii,movie_rating:O9,owner:P,meta:aI,rates:ki(Ii),thumbs:ki(j9),poster_url:P,duration:Ii,default_poster_url:P,desc:P,rating_flags:Ii,external_id:P,is_ad:Ii,asset:P}),P9=class{async Kat(t,i,e,s){const n=function(t,i,e){if(L8.mz(i))return[B9(t,i,e)];if(ki(L8).mz(i))return i.map((i=>B9(t,i,e)));if(k8.mz(i)){return(pi(i.externalId)?i.externalId:[i.externalId]).map((s=>B9(t,"ext/"+i.userId+"/"+s,e)))}throw new k("Invalid asset id")}(t,i,s),r=n.map((t=>Ou((()=>this.Bui(t)),e)));return(await Promise.all(r)).filter(j_)}async Bui(t){const i=this.gE.mS({nE:Yc.GET,zu:t,rE:er.jS}),e=await i,s=await e.Cp();return z9.mz(s)||z9.yz(s,"AssetInfoResponse"),s}constructor(t){this.gE=t}};function B9(t,i,e){return e?t+"/player/assetinfo/"+i+".json?pbs="+e:t+"/player/assetinfo/"+i+".json"}r(),r();var R9=class extends La{fa(){return new U9(this.sd.va)}constructor(t){super("Kci"),this.sd=t}},U9=class extends Ag{constructor(t){super("removeasset"),this.asset=t}};r();var Q9=class extends La{fa(){return new F9(this.sd.va)}constructor(t){super("Jci"),this.sd=t}},F9=class extends Ag{constructor(t){super("addasset"),this.asset=t}},Y9=class extends t1{yui(t,i){let e,s=0;for(const n of t){e=s+n.duration;for(const t of i)s<=t.zN&&t.zN<e&&(e+=t.ct||0);this.mN(E9.kci(n,s,e)),s=e}}M1t(t){this.Co(new Q9(t))}I1t(t){this.Co(new R9(t))}constructor(){super()}};r(),r();var G9=class extends La{fa(){return new V9(this.yS)}constructor(t){super("$ci"),this.yS=t}},V9=class extends Ag{constructor(t){super("preplayresponse"),this.response=t}};r();var Ui,W9=class extends La{fa(){return new H9(this.yS)}constructor(t){super("tli"),this.yS=t}},H9=class extends Ag{constructor(t){super("assetinforesponse"),this.response=t}},q9=class extends ra{zui(t){t&&this.Co(new G9(se(t)))}pui(t){t.forEach((t=>this.Co(new W9(t))))}get va(){return this.Xa||(this.Xa=this.fa()),this.Xa}fa(){let t;const i=this,e={get ads(){return i.hui.va},get assets(){return i.oui.va},addEventListener(i,e){t.yn(i,e)},removeEventListener(i,e){t.fn(i,e)}};return t=new pa(i,e),e}constructor(t,i,e){super(),this.hui=t,this.oui=i,this.cui=e,e.yn("Rui",this.Ds),e.yn("Uui",this.Ds)}},X9=class{ili(t,i){const e=new C8(t.tj),s=new R8(t.tj),n=function(t){if(t.verizonMedia&&j_(t.verizonMedia.defaultSkipOffset)){const i=t.verizonMedia.defaultSkipOffset;return R_(i)?i:-1}return-1}(i),r=function(t){const i=t.verizonMedia?t.verizonMedia.onSeekOverAd:void 0;return function(t){if(!t)return"play-none";switch(t.toLowerCase()){case"play-all":return"play-all";case"play-none":default:return"play-none";case"play-last":return"play-last"}}(i)}(i),h=new G8(s,t),o=new V8(e,i),a=new S9(t,h,n,r),u=new P9(t.tj),c=new Y9,l=new q9(a,c,h);return new m8(t,h,o,a,l,u,c)}};ti((function(t){return class extends t{uui(t){super.ga(t)}lui(t,i){return super.L7(t,i)}kui(t){super.P_(t)}Q_(){var t;return null!=(t=this.eli.lt)?t:super.Q_()}Y_(){var t;return null!=(t=this.eli.F_)?t:super.Y_()}P_(t){this.eli.P_(t)}ga(t){this.eli.ga(t)}L7(t,i){return this.eli.L7(t,i)}fa(){const t=this.eli.va;return Ru(super.fa(),{get verizonMedia(){return t}})}gn(){this.eli.gn(),super.gn()}constructor(t,i){super(t,i),this.eli=(new X9).ili(this,i)}}}),tu.H9),r(),r(),r(),r(),function(t){t.CREATIVE_VIEW="creativeView",t.START="start",t.FIRST_QUARTILE="firstQuartile",t.MID_POINT="midpoint",t.THIRD_QUARTILE="thirdQuartile",t.COMPLETE="complete",t.MUTE="mute",t.UNMUTE="unmute",t.PAUSE="pause",t.REWIND="rewind",t.RESUME="resume",t.FULL_SCREEN="fullscreen",t.EXIT_FULL_SCREEN="exitFullscreen",t.EXPAND="expand",t.COLLAPSE="collapse",t.ACCEPT_INVITATION_LINEAR="acceptInvitationLinear",t.ACCEPT_INVITATION="acceptInvitation",t.CLOSE_LINEAR="closeLinear",t.CLOSE="close",t.SKIP="skip",t.SKIP_SHOWN="skipShown",t.PROGRESS="progress",t.ENGAGED_VIEW="engagedView",t.IMPRESSION="impression",t.ERROR="error"}(Ui||(Ui={})),r();var Z9=class extends cr{fa(){return r0(this)}get iGt(){return sh.$Yt}get zN(){return this.WN}get fRt(){return this.KRt}constructor(t,i,e,s){super(t,i),this.KRt=s,this.WN=e}};r();var K9=class extends s0{get bEt(){return this.sli}get iGt(){return sh.$Yt}constructor(t,i,e){if(super(t,t,i),e){const t=new Date(e);FD(t)&&(this.sli=t)}}},J9=class{Qw(){this.Qo.yn(Ho.Tv,this.KP),this.Qo.yn(t.Sh,this.wPt),this.Qo.yn(t.jh,this.APt),this.Qo.yn(t.ZA,this.We),this.Qo.yn(t.kA,this.Mh),this.Qo.yn(t.ov,this.od),this.Qo.yn(t.uv,this.uWt),this.Qo.yn("presentationmodechange",this.nli)}Rw(){this.Qo.fn(Ho.Tv,this.KP),this.Qo.fn(t.Sh,this.wPt),this.Qo.fn(t.jh,this.APt),this.Qo.fn(t.ZA,this.We),this.Qo.fn(t.kA,this.Mh),this.Qo.fn(t.ov,this.od),this.Qo.fn(t.uv,this.uWt),this.Qo.fn("presentationmodechange",this.nli)}get rli(){return this.hli}get s7(){const t=this.rli;if(!t)return[];const i=[],e=this.oli();for(const s of t.Oc)e>=s.zN&&this.Zoi<=s.zN+s.ct&&i.push(s);return i}oli(){return this.Qo.z_()-this.ali}uli(){if(this.cli)return;if(this.Qo.Td()!==1/0)return void(0===this.lli.length&&(this.cli=this.dli()));const t=()=>{var t;null==(t=this.fli)||t.e_(),this.fli=void 0,this.cli=void 0};this.fli=new Ao,this.cli=this._li(this.fli.a_).catch(this.K1).then(t,t)}async gli(){const t=x.min(1e3*2**this.wli,3e4);try{var i;await ye(t,null==(i=this.fli)?void 0:i.a_),this.wli++}catch(t){if(Oi(t))return void(this.wli=0)}this.uli()}async _li(t){for(;Pi(t),!this.Qo.hg;){const i=lg.f_()-this.Ali;if(i>1e4)await this.dli(t),this.Ali=lg.f_(),this.wli=0;else{const e=1e4-i;await ye(e,t)}}}vli(t){const i=t.bEt;if(i&&this.Qo.k_&&0===this.ali&&!this.mli&&0!==x.floor(this.Qo.Mg().start(0))){const e=(this.Qo.k_.getTime()-i.getTime())/1e3,s=this.Qo.z_()-t.pEt;this.ali=s-e}}async dli(t){try{const i=await this.Qo.tj.mS({zu:this.yli}),e=await i.Oj(t);if(0===e.avails.length)return void(0!==this.lli.length&&(this.lli=[]));if(e.avails.length===this.lli.length&&e.avails[0].startTimeInSeconds===this.lli[0].pEt)return void this.vli(this.lli[0]);const s=[];for(const t of e.avails){const i=new K9(t.durationInSeconds,t.startTimeInSeconds,t.availProgramDateTime);for(const e of t.ads){const t=new Z9(i,Vr.bQt,e.startTimeInSeconds,e.trackingEvents);t.XKt(e.adId,e.width,e.height,e.durationInSeconds,[],e.skipoffset),i.WKt(t)}s.push(i),this.vli(i)}this.lli=tl(s,((t,i)=>t.pEt-i.pEt))}catch(t){throw Ht(t),new b("Failed to poll MediaTailor tracking events")}}Mli(){var t;null==(t=this.fli)||t.c_(),this.fli=void 0,this.cli=void 0,this.Ali=-1/0}Tli(){if(0===this.lli.length)return;const t=this.lli[this.lli.length-1],i=this.oli();if(t.pEt+t.eGt<this.Zoi){var e;this.hli&&(null==(e=this.Qo.Oc)||e.Co(new Nh(this.hli)),this.hli=void 0)}else{for(const t of this.lli){const e=t.pEt;if(!(e+t.eGt<this.Zoi)&&(e<=i&&e+t.eGt>this.Zoi)){var s;if(this.rli===t)return;return this.hli=t,void(null==(s=this.Qo.Oc)||s.Co(new ba(this.hli)))}}var n;if(this.hli)null==(n=this.Qo.Oc)||n.Co(new Nh(this.hli)),this.hli=void 0}}Nli(){const t=this.s7;if(0===t.length)return;let i=[];for(const e of t){const t=e.fRt.filter((t=>ea(this.Dli,t.eventType)));i=i.concat(t)}for(const t of i)this.Ili(t.startTimeInSeconds)&&(t.eventType===Ui.COMPLETE&&this.Sli(Ui.ENGAGED_VIEW),this.Eli(t))}bli(t,i){return i.fRt.filter((i=>Wi(i.eventType,t)))[0]}Sli(t){const i=this.s7;if(0===i.length)return;const e=this.bli(t,i[0]);e&&this.Eli(e)}Eli(t){this.Gni(t.eventType);for(const i of t.beaconUrls){const t={nE:Yc.GET,zu:i,eE:"",rE:er.jS};0,W(this.Lli(t))}}Gni(t){let i;const e=this.s7;switch(t){case Ui.START:i=new Za(e[e.length-1],this.Qo.z_());break;case Ui.COMPLETE:i=new da(e[0],this.Qo.z_());break;case Ui.FIRST_QUARTILE:i=new Yn(e[0],this.Qo.z_());break;case Ui.MID_POINT:i=new w0(e[0],this.Qo.z_());break;case Ui.THIRD_QUARTILE:i=new or(e[0],this.Qo.z_())}var s;void 0!==i&&(null==(s=this.Qo.Oc)||s.Co(i))}async Lli(t){const i=await this.Qo.tj.mS(t);i.TS}Ili(t){const i=this.oli();return t>=this.Zoi&&t<i}gn(){this.Rw(),this.Mli(),this.Zoi=-1}constructor(t,i,e){this.Ali=-1/0,this.hli=void 0,this.ali=0,this.lli=[],this.joi=!1,this.YR=!1,this.Zoi=-1,this.fli=void 0,this.cli=void 0,this.wli=0,this.KP=()=>{this.uli()},this.APt=()=>{this.Sli(Ui.RESUME)},this.wPt=()=>{this.Mli(),this.Sli(Ui.PAUSE)},this.We=()=>{this.Mli(),this.Zoi=-1},this.Mh=()=>{this.Mli()},this.od=()=>{-1===this.Zoi&&(this.Zoi=this.oli()),this.Tli(),this.Nli(),this.Zoi=this.oli()},this.uWt=()=>{if(this.joi!==this.Qo.Z_){this.joi=this.Qo.Z_;const t=this.joi?Ui.MUTE:Ui.UNMUTE;this.Sli(t)}},this.nli=()=>{if(this.YR!==this.Qo.cs()){this.YR=this.Qo.cs();const t=this.YR?Ui.FULL_SCREEN:Ui.EXIT_FULL_SCREEN;this.Sli(t)}},this.K1=t=>{Oi(t)||(this.Sli(Ui.ERROR),W(this.gli()))},this.Dli=[Ui.START,Ui.FIRST_QUARTILE,Ui.MID_POINT,Ui.THIRD_QUARTILE,Ui.COMPLETE,Ui.IMPRESSION,Ui.CREATIVE_VIEW],this.Qo=t,this.yli=i,this.mli=e,this.Qw()}};ti((function(t){return class extends t{ga(t){return this.kli&&(this.kli.gn(),this.kli=void 0,this.vft()),super.ga(t)}async L7(t,i){if(!t||!function(t){return t.sources.some((t=>t.integration===ms.MEDIATAILOR))}(t))return super.L7(t,i);try{const e=await this.Cli(t,i);await super.L7(e,i)}catch(t){this.uB(new ce(p_.MANIFEST_LOAD_ERROR,t.message,t))}}P_(t){var i;(null==(i=this.kli)?void 0:i.rli)||super.P_(t)}Q_(){var t;return null!=(t=this.yP)?t:super.Q_()}Y_(){var t;return null!=(t=this.MP)?t:super.Y_()}uB(t){this.yP=ne(t),this.MP=t,this.Co(new pe(t))}vft(){this.yP=void 0,this.MP=void 0}async Cli(t,i){let e=[];for(const s of t.sources){if(!jv(s)){e.push(s);continue}const t=s;if(!t.src){e.push(s);continue}const n=await this.xli(t,i);Pi(i);const r=At({},t,{integration:void 0,src:n});e.push(r)}const s=se(t);return s.sources=e,s}async xli(t,i){const e=t.src||"",s=e.match(/.+?(?=\/v1\/)/);if(!s)throw new b("Could not find MediaTailor session initialization url");const n=s[0],r=oo(e,"?ads."),h=r?{zu:e,rE:er.jS}:{zu:e,nE:Yc.POST,eE:JSON.stringify({adParams:t.adParams}),rE:er.jS},o=await Ou((()=>this.Oli(h,i)),i);let a;try{if(a=n+o.manifestUrl,!r){const t=n+o.trackingUrl,i=bv(a);this.kli=new J9(this,t,i)}}catch(t){throw new b("Something went wrong parsing the MediaTailor session initialization response")}return a}async Oli(t,i){try{const e=await this.tj.mS(t);return await e.Oj(i)}catch(t){throw Ht(t),new b("Failed to initialize MediaTailor session manifest")}}gn(){this.kli&&(this.kli.gn(),this.kli=void 0),this.vft(),super.gn()}constructor(t,i){super(t,i),this.kli=void 0,this.yP=void 0,this.MP=void 0}}}),tu.X9);export{r as a,lg as b,wn as c,j_ as d,pi as e,Mi as f,ae as g,uo as h,Sc as i,iB as j,ei as k,qN as l,ku as m,XN as n,ZN as o,$N as p,tD as q,hB as r,oB as s,At as t,oo as u,rw as v,tl as w,Po as x,Ee as y,X_ as z,Et as A,ea as B,Ri as C,i as D,Ag as E,p_ as F,Th as G,t as H,Dg as I,Ru as J,Ah as K,Ig as L,bg as M,Ih as N,em as O,Q as P,$t as Q,go as R,oa as S,ry as T,cy as U,ov as V,Xc as W,tu as X,ti as Y,Oj as Z,Wv as _,Tn as $,Zv as aa,Ki as ba,Ac as ca,oS as da,aS as ea,cu as fa,cS as ga,dS as ha,Dr as ia,OS as ja,ds as ka,Zr as la,RE as ma,WE as na,ZE as oa,lc as pa,vc as qa,JE as ra,he as sa,Yx as ta,Vx as ua,Wx as va,qx as wa,Xx as xa,Zx as ya,AO as za,vO as Aa,mO as Ba,pO as Ca,$r as Da,Nj as Ea,Dj as Fa,Pj as Ga,ez as Ha,sz as Ia,nz as Ja,rz as Ka,aU as La,uU as Ma,cU as Na,lU as Oa,uV as Pa,cV as Qa,sh as Ra,d$ as Sa,M$ as Ta,z$ as Ua,st as Va,e5 as Wa,V5 as Xa,Z5 as Ya,H8 as Za};
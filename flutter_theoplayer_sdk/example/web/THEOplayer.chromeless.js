/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 6.10.1
 Created: 2024-02-20T14:30:43.308Z
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(t):"function"==typeof define&&define.amd?define([],(function(){return n(t)})):t.THEOplayer=n(t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof a?a:"undefined"!=typeof global?global:this,(function(t){"use strict";var n,i={exports:{}},r=(i.exports,t.window),e=t.document,u=t.location,s=t.navigator,o=t.setTimeout,c=t.clearTimeout,a=t.setInterval,h=t.clearInterval,f=t.Error,v=t.TypeError,d=(t.SyntaxError,t.Object),l=t.Math,_=t.parseInt,g=t.parseFloat,w=t.isNaN,y=t.Uint8Array,m=t.Worker,p=(t.WorkerGlobalScope,t.XMLHttpRequest),k=d.defineProperty,A=d.getOwnPropertyDescriptor,b=d.getOwnPropertyNames,T=d.prototype.hasOwnProperty,S={};function E(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}!function(t,n){for(var i in n)k(t,i,{get:n[i],enumerable:!0})}(S,{ChromelessPlayer:function(){return TM},ErrorCategory:function(){return Nl},ErrorCode:function(){return Rl},Player:function(){return TM},cache:function(){return Y1},cast:function(){return eJ},features:function(){return IM},playerSuiteVersion:function(){return NM},players:function(){return CM},registerContentProtectionIntegration:function(){return DM},utils:function(){return EM},version:function(){return RM}}),i.exports=(n=S,function(t,n,i,r){if(n&&"object"==typeof n||"function"==typeof n)for(var e,u=b(n),s=0,o=u.length;s<o;s++)e=u[s],T.call(t,e)||e===i||k(t,e,{get:function(t){return n[t]}.bind(null,e),enumerable:!(r=A(n,e))||r.enumerable});return t}(k({},"__esModule",{value:!0}),n));var I=o;function R(t){return Boolean(t&&void 0!==t.length)}function N(){}function C(t){if(!(this instanceof C))throw new v("Promises must be constructed via new");if("function"!=typeof t)throw new v("not a function");this.Pa=0,this.N3t=!1,this.Zat=void 0,this.C3t=[],M(t,this)}function D(t,n){for(;3===t.Pa;)t=t.Zat;0!==t.Pa?(t.N3t=!0,C.D3t((function(){var i=1===t.Pa?n.onFulfilled:n.onRejected;if(null!==i){var r;try{r=i(t.Zat)}catch(t){return void O(n.promise,t)}P(n.promise,r)}else(1===t.Pa?P:O)(n.promise,t.Zat)}))):t.C3t.push(n)}function P(t,n){try{if(n===t)throw new v("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof C)return t.Pa=3,t.Zat=n,void B(t);if("function"==typeof i)return void M(function(t,n){return function(){t.apply(n,arguments)}}(i,n),t)}t.Pa=1,t.Zat=n,B(t)}catch(n){O(t,n)}}function O(t,n){t.Pa=2,t.Zat=n,B(t)}function B(t){2===t.Pa&&0===t.C3t.length&&C.D3t((function(){t.N3t||C.O3t(t.Zat)}));for(var n=0,i=t.C3t.length;n<i;n++)D(t,t.C3t[n]);t.C3t=null}function L(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function M(t,n){var i=!1;try{t((function(t){i||(i=!0,P(n,t))}),(function(t){i||(i=!0,O(n,t))}))}catch(t){if(i)return;i=!0,O(n,t)}}C.prototype.catch=function(t){return this.then(null,t)},C.prototype.then=function(t,n){var i=new this.constructor(N);return D(this,new L(t,n,i)),i},C.prototype.finally=function(t){var n=this.constructor;return this.then((function(i){return n.resolve(t()).then((function(){return i}))}),(function(i){return n.resolve(t()).then((function(){return n.reject(i)}))}))},C.all=function(t){return new C((function(n,i){if(!R(t))return i(new v("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,(function(n){u(t,n)}),i)}r[t]=s,0==--e&&n(r)}catch(t){i(t)}}for(var s=0;s<r.length;s++)u(s,r[s])}))},C.allSettled=function(t){return new this((function(n,i){if(!t||void 0===t.length)return i(new v((void 0===t?"undefined":E(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(n){u(t,n)}),(function(i){r[t]={status:"rejected",reason:i},0==--e&&n(r)}))}r[t]={status:"fulfilled",value:i},0==--e&&n(r)}for(var s=0;s<r.length;s++)u(s,r[s])}))},C.resolve=function(t){return t&&"object"==typeof t&&t.constructor===C?t:new C((function(n){n(t)}))},C.reject=function(t){return new C((function(n,i){i(t)}))},C.race=function(t){return new C((function(n,i){if(!R(t))return i(new v("Promise.race accepts an array"));for(var r=0,e=t.length;r<e;r++)C.resolve(t[r]).then(n,i)}))},C.D3t="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){I(t,0)},C.O3t=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var x=function(){var t=self.Promise;if(void 0!==t)try{if(-1!==t.toString().indexOf("[native code]"))return t}catch(t){}}(),U=s?s.userAgent:"",F=U.match(/Firefox\/([0-9]+)/i),H=null!=F,V=F?Number(F[1]):0,X=U.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),z=null!=X,W=X?Number(X[3]):0,G=function(){var t=function(t){this.zC=0,this.ud=0,this.Mx=[],this.B3t=t};return t.prototype.L3t=function(t){var n=this.length();this.M3t(n+1);var i=this.ud+n&this.B3t-1;this.Mx[i]=t,this.zC=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.B3t<n)this.L3t(t);else{var i=this.ud+n-1,r=this.B3t-1;this.Mx[i&r]=t,this.zC=n}},t.prototype.shift=function(){var t=this.ud,n=this.Mx[t];return this.Mx[t]=void 0,this.ud=t+1&this.B3t-1,this.zC--,n},t.prototype.length=function(){return this.zC},t.prototype.M3t=function(t){this.B3t<t&&this.x3t(this.B3t<<1)},t.prototype.x3t=function(t){var n=this.B3t;this.B3t=t;var i=this.ud+this.zC&n-1;!function(t,n,i,r){for(var e=0;e<r;++e)t[e+i]=t[e+n],t[e+n]=void 0}(this.Mx,0,n,i)},t}();var q="unhandledrejection",Y=self.PromiseRejectionEvent,j=self.CustomEvent;function Q(t){return new Y(q,{reason:t,promise:x.reject(t).catch((function(){})),cancelable:!0})}function K(t){var n=new j(q,{detail:{reason:t},cancelable:!0});return d.defineProperty(n,"reason",{value:t}),n}function Z(t){var n=e.createEvent("CustomEvent");return n.initCustomEvent(q,!1,!0,{reason:t}),n}var J,$,tt,nt,it,rt=function(t){return rt=function(){try{var t=x.resolve(),n="error",i=new Y(q,{reason:n,promise:t});return q===i.type&&n===i.reason}catch(t){}return!1}()?Q:function(){try{var t="error",n=new j(q,{detail:{reason:t}});return q===n.type&&t===n.detail.reason}catch(t){}return!1}()?K:Z,rt(t)};x&&!(H&&V<60||z&&W<15)?($=x,tt=function(){}):($=C,nt=null!==(J=function(){var t=self.queueMicrotask;if("function"==typeof t)return function(n){return t(n)};var n=x;if(n&&"function"==typeof n.resolve){var i=n.resolve();return function(t){return i.then(t)}}}())&&void 0!==J?J:C.D3t,it=function(t){var n=new G(16),i=!1,r=function(){for(;n.length()>0;)n.shift()();i=!1};return{m$:function(e){n.push(e),i||(i=!0,t(r))},TV:r}}(nt),tt=it.TV,C.D3t=it.m$,C.O3t=function(t){try{var n=rt(t);if(!self.dispatchEvent(n)||n.defaultPrevented)return}catch(t){}o((function(){throw new f("Unhandled promise rejection: ".concat(t))}),0)});var et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function ut(){}var st=Number.isNaN||function(t){return t!=t},ot=ut;function ct(t){return"object"==typeof t&&null!==t||"function"==typeof t}function at(t){return t.slice()}function ht(t,n,i,r,e){new y(t).set(new y(i,r,e),n)}function ft(t){return!1!==function(t){if("number"!=typeof t)return!1;if(st(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function vt(t,n,i){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function dt(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new v(e+" is not a method");switch(i){case 0:return function(){return _t(e,t,r)};case 1:return function(n){var i=[n].concat(r);return _t(e,t,i)}}}return function(){return bt(void 0)}}function lt(t,n,i){var r=t[n];if(void 0!==r)return vt(r,t,i)}function _t(t,n,i){try{return bt(vt(t,n,i))}catch(t){return Tt(t)}}function gt(t){if(t=Number(t),st(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function wt(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var yt=$,mt=$.prototype.then,pt=$.resolve.bind(yt),kt=$.reject.bind(yt);function At(t){return new yt(t)}function bt(t){return pt(t)}function Tt(t){return kt(t)}function St(t,n,i){return mt.call(t,n,i)}function Et(t,n,i){St(St(t,n,i),void 0,ot)}function It(t,n){Et(t,n)}function Rt(t,n){Et(t,void 0,n)}function Nt(t,n,i){return St(t,n,i)}function Ct(t){St(t,void 0,ot)}var Dt=function(){function t(){this.ul=0,this.hd=0,this.ud={ld:[],dd:void 0},this.fd=this.ud,this.ul=0,this.hd=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.hd},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.fd,i=n;16383===n.ld.length&&(i={ld:[],dd:void 0}),n.ld.push(t),i!==n&&(this.fd=i,n.dd=i),++this.hd},t.prototype.shift=function(){var t=this.ud,n=t,i=this.ul,r=i+1,e=t.ld,u=e[i];return 16384===r&&(n=t.dd,r=0),--this.hd,this.ul=r,t!==n&&(this.ud=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.ul,i=this.ud,r=i.ld;!(n===r.length&&void 0===i.dd||n===r.length&&(n=0,0===(r=(i=i.dd).ld).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.ud,n=this.ul;return t.ld[n]},t}();function Pt(t,n,i){var r=null;!0===i&&(r=d.prototype);var e=d.create(r);return e.value=t,e.done=n,e}function Ot(t,n){t._d=!0,t.vd=n,n.wd=t,"readable"===n.Pa?xt(t):"closed"===n.Pa?function(t){xt(t),Ht(t)}(t):Ut(t,n.md)}function Bt(t,n){return Wi(t.vd,n)}function Lt(t){"readable"===t.vd.Pa?Ft(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Ut(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.vd.wd=void 0,t.vd=void 0}function Mt(t){return new v("Cannot "+t+" a stream using a released reader")}function xt(t){t.pd=At((function(n,i){t.yd=n,t.bd=i}))}function Ut(t,n){xt(t),Ft(t,n)}function Ft(t,n){Ct(t.pd),t.bd(n),t.yd=void 0,t.bd=void 0}function Ht(t){t.yd(void 0),t.yd=void 0,t.bd=void 0}var Vt=et("[[CancelSteps]]"),Xt=et("[[PullSteps]]");function zt(t,n){void 0===n&&(n=!1);var i=new Kt(t);return i._d=n,i}function Wt(t){return At((function(n,i){var r={Td:n,Sd:i};t.wd.kd.push(r)}))}function Gt(t,n,i){var r=t.wd;r.kd.shift().Td(Pt(n,i,r._d))}function qt(t){return t.wd.kd.length}function Yt(t){var n=t.wd;return void 0!==n&&!!Zt(n)}var jt,Qt,Kt=function(){function t(t){if(!1===Xi(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===zi(t))throw new v("This stream has already been locked for exclusive reading by another reader");Ot(this,t),this.kd=new Dt}return d.defineProperty(t.prototype,"closed",{get:function(){return Zt(this)?this.pd:Tt($t("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Zt(this)?void 0===this.vd?Tt(Mt("cancel")):Bt(this,t):Tt($t("cancel"))},t.prototype.read=function(){return Zt(this)?void 0===this.vd?Tt(Mt("read from")):Jt(this):Tt($t("read"))},t.prototype.releaseLock=function(){if(!Zt(this))throw $t("releaseLock");if(void 0!==this.vd){if(this.kd.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Lt(this)}},t}();function Zt(t){return!!ct(t)&&!!d.prototype.hasOwnProperty.call(t,"kd")}function Jt(t){var n=t.vd;return n.Ed=!0,"closed"===n.Pa?bt(Pt(void 0,!0,t._d)):"errored"===n.Pa?Tt(n.md):n.Id[Xt]()}function $t(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof et.asyncIterator&&((jt={})[et.asyncIterator]=function(){return this},Qt=jt,d.defineProperty(Qt,et.asyncIterator,{enumerable:!1}));var tn={next:function(){if(!1===nn(this))return Tt(rn("next"));var t=this.Pd;return void 0===t.vd?Tt(Mt("iterate")):Nt(Jt(t),(function(n){var i=n.done;return i&&Lt(t),Pt(n.value,i,!0)}))},return:function(t){if(!1===nn(this))return Tt(rn("next"));var n=this.Pd;if(void 0===n.vd)return Tt(Mt("finish iterating"));if(n.kd.length>0)return Tt(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Rd){var i=Bt(n,t);return Lt(n),Nt(i,(function(){return Pt(t,!0,!0)}))}return Lt(n),bt(Pt(t,!0,!0))}};function nn(t){return!!ct(t)&&!!d.prototype.hasOwnProperty.call(t,"Pd")}function rn(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function en(t){var n=t.Cd.shift();return t.xd-=n.size,t.xd<0&&(t.xd=0),n.value}function un(t,n,i){if(!ft(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Cd.push({value:n,size:i}),t.xd+=i}function sn(t){t.Cd=new Dt,t.xd=0}void 0!==Qt&&d.setPrototypeOf(tn,Qt),d.defineProperty(tn,"next",{enumerable:!1}),d.defineProperty(tn,"return",{enumerable:!1});var on=et("[[AbortSteps]]"),cn=et("[[ErrorSteps]]"),an=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),fn(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=wt(i);void 0===r&&(r=1),function(t,n,i,r){var e=d.create(Nn.prototype);function u(){return lt(n,"start",[e])}var s=dt(n,"write",1,[e]),o=dt(n,"close",0,[]),c=dt(n,"abort",1,[]);Cn(t,e,u,s,o,c,i,r)}(this,t,r=gt(r),e)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===vn(this))throw xn("locked");return dn(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===vn(this)?Tt(xn("abort")):!0===dn(this)?Tt(new v("Cannot abort a stream that already has a writer")):ln(this,t)},t.prototype.close=function(){return!1===vn(this)?Tt(xn("close")):!0===dn(this)?Tt(new v("Cannot close a stream that already has a writer")):!0===mn(this)?Tt(new v("Cannot close an already-closing stream")):_n(this)},t.prototype.getWriter=function(){if(!1===vn(this))throw xn("getWriter");return hn(this)},t}();function hn(t){return new An(t)}function fn(t){t.Pa="writable",t.md=void 0,t.Dd=void 0,t.Nd=void 0,t.Bd=new Dt,t.Ld=void 0,t.Od=void 0,t.Md=void 0,t.Fd=void 0,t.Ud=!1}function vn(t){return!!ct(t)&&!!d.prototype.hasOwnProperty.call(t,"Nd")}function dn(t){return void 0!==t.Dd}function ln(t,n){var i=t.Pa;if("closed"===i||"errored"===i)return bt(void 0);if(void 0!==t.Fd)return t.Fd.Hd;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=At((function(i,e){t.Fd={Hd:void 0,Td:i,Sd:e,Vd:n,Wd:r}}));return t.Fd.Hd=e,!1===r&&wn(t,n),e}function _n(t){var n=t.Pa;if("closed"===n||"errored"===n)return Tt(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i=At((function(n,i){var r={Td:n,Sd:i};t.Od=r})),r=t.Dd;return void 0!==r&&!0===t.Ud&&"writable"===n&&jn(r),function(t){un(t,"close",0),On(t)}(t.Nd),i}function gn(t,n){"writable"!==t.Pa?yn(t):wn(t,n)}function wn(t,n){var i=t.Nd;t.Pa="erroring",t.md=n;var r=t.Dd;void 0!==r&&En(r,n),!1===function(t){if(void 0===t.Ld&&void 0===t.Md)return!1;return!0}(t)&&!0===i.qd&&yn(t)}function yn(t){t.Pa="errored",t.Nd[cn]();var n=t.md;if(t.Bd.forEach((function(t){t.Sd(n)})),t.Bd=new Dt,void 0!==t.Fd){var i=t.Fd;if(t.Fd=void 0,!0===i.Wd)return i.Sd(n),void pn(t);Et(t.Nd[on](i.Vd),(function(){i.Td(),pn(t)}),(function(n){i.Sd(n),pn(t)}))}else pn(t)}function mn(t){return void 0!==t.Od||void 0!==t.Md}function pn(t){void 0!==t.Od&&(t.Od.Sd(t.md),t.Od=void 0);var n=t.Dd;void 0!==n&&Xn(n,t.md)}function kn(t,n){var i=t.Dd;void 0!==i&&n!==t.Ud&&(!0===n?function(t){Wn(t)}(i):jn(i)),t.Ud=n}var An=function(){function t(t){if(!1===vn(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===dn(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.zd=t,t.Dd=this;var n=t.Pa;if("writable"===n)!1===mn(t)&&!0===t.Ud?Wn(this):qn(this),Hn(this);else if("erroring"===n)Gn(this,t.md),Hn(this);else if("closed"===n)qn(this),function(t){Hn(t),zn(t)}(this);else{var i=t.md;Gn(this,i),Vn(this,i)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===bn(this)?Tt(Un("closed")):this.pd},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===bn(this))throw Un("desiredSize");if(void 0===this.zd)throw Fn("desiredSize");return function(t){var n=t.zd,i=n.Pa;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Pn(n.Nd)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===bn(this)?Tt(Un("ready")):this.Xd},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===bn(this)?Tt(Un("abort")):void 0===this.zd?Tt(Fn("abort")):function(t,n){var i=t.zd;return ln(i,n)}(this,t)},t.prototype.close=function(){if(!1===bn(this))return Tt(Un("close"));var t=this.zd;return void 0===t?Tt(Fn("close")):!0===mn(t)?Tt(new v("Cannot close an already-closing stream")):Tn(this)},t.prototype.releaseLock=function(){if(!1===bn(this))throw Un("releaseLock");void 0!==this.zd&&In(this)},t.prototype.write=function(t){return!1===bn(this)?Tt(Un("write")):void 0===this.zd?Tt(Fn("write to")):Rn(this,t)},t}();function bn(t){return!!ct(t)&&!!d.prototype.hasOwnProperty.call(t,"zd")}function Tn(t){return _n(t.zd)}function Sn(t,n){"pending"===t.Gd?Xn(t,n):function(t,n){Vn(t,n)}(t,n)}function En(t,n){"pending"===t.Qd?Yn(t,n):function(t,n){Gn(t,n)}(t,n)}function In(t){var n=t.zd,i=new v("Writer was released and can no longer be used to monitor the stream's closedness");En(t,i),Sn(t,i),n.Dd=void 0,t.zd=void 0}function Rn(t,n){var i=t.zd,r=i.Nd,e=function(t,n){try{return t.Kd(n)}catch(n){return Bn(t,n),1}}(r,n);if(i!==t.zd)return Tt(Fn("write to"));var u=i.Pa;if("errored"===u)return Tt(i.md);if(!0===mn(i)||"closed"===u)return Tt(new v("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Tt(i.md);var s=function(t){return At((function(n,i){var r={Td:n,Sd:i};t.Bd.push(r)}))}(i);return function(t,n,i){var r={chunk:n};try{un(t,r,i)}catch(n){return void Bn(t,n)}var e=t.jd;if(!1===mn(e)&&"writable"===e.Pa){kn(e,Ln(t))}On(t)}(r,n,e),s}var Nn=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!ct(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"jd"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.jd.Pa&&Mn(this,t)},t.prototype[on]=function(t){var n=this.Yd(t);return Dn(this),n},t.prototype[cn]=function(){sn(this)},t}();function Cn(t,n,i,r,e,u,s,o){n.jd=t,t.Nd=n,n.Cd=void 0,n.xd=void 0,sn(n),n.qd=!1,n.Kd=o,n.Zd=s,n.Jd=r,n.$d=e,n.Yd=u;var c=Ln(n);kn(t,c),Et(bt(i()),(function(){n.qd=!0,On(n)}),(function(i){n.qd=!0,gn(t,i)}))}function Dn(t){t.Jd=void 0,t.$d=void 0,t.Yd=void 0,t.Kd=void 0}function Pn(t){return t.Zd-t.xd}function On(t){var n=t.jd;if(!1!==t.qd&&void 0===n.Ld)if("erroring"!==n.Pa){if(0!==t.Cd.length){var i=function(t){return t.Cd.peek().value}(t);"close"===i?function(t){var n=t.jd;(function(t){t.Md=t.Od,t.Od=void 0})(n),en(t);var i=t.$d();Dn(t),Et(i,(function(){!function(t){t.Md.Td(void 0),t.Md=void 0,"erroring"===t.Pa&&(t.md=void 0,void 0!==t.Fd&&(t.Fd.Td(),t.Fd=void 0)),t.Pa="closed";var n=t.Dd;void 0!==n&&zn(n)}(n)}),(function(t){!function(t,n){t.Md.Sd(n),t.Md=void 0,void 0!==t.Fd&&(t.Fd.Sd(n),t.Fd=void 0),gn(t,n)}(n,t)}))}(t):function(t,n){var i=t.jd;!function(t){t.Ld=t.Bd.shift()}(i);var r=t.Jd(n);Et(r,(function(){!function(t){t.Ld.Td(void 0),t.Ld=void 0}(i);var n=i.Pa;if(en(t),!1===mn(i)&&"writable"===n){var r=Ln(t);kn(i,r)}On(t)}),(function(n){"writable"===i.Pa&&Dn(t),function(t,n){t.Ld.Sd(n),t.Ld=void 0,gn(t,n)}(i,n)}))}(t,i.chunk)}}else yn(n)}function Bn(t,n){"writable"===t.jd.Pa&&Mn(t,n)}function Ln(t){return Pn(t)<=0}function Mn(t,n){var i=t.jd;Dn(t),wn(i,n)}function xn(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Un(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Fn(t){return new v("Cannot "+t+" a stream using a released writer")}function Hn(t){t.pd=At((function(n,i){t.yd=n,t.bd=i,t.Gd="pending"}))}function Vn(t,n){Hn(t),Xn(t,n)}function Xn(t,n){Ct(t.pd),t.bd(n),t.yd=void 0,t.bd=void 0,t.Gd="rejected"}function zn(t){t.yd(void 0),t.yd=void 0,t.bd=void 0,t.Gd="resolved"}function Wn(t){t.Xd=At((function(n,i){t.t_=n,t.e_=i})),t.Qd="pending"}function Gn(t,n){Wn(t),Yn(t,n)}function qn(t){Wn(t),jn(t)}function Yn(t,n){Ct(t.Xd),t.e_(n),t.t_=void 0,t.e_=void 0,t.Qd="rejected"}function jn(t){t.t_(void 0),t.t_=void 0,t.e_=void 0,t.Qd="fulfilled"}function Qn(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Kn="undefined"!=typeof DOMException?DOMException:void 0;var Zn=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Kn)?Kn:function(){var t=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)};return t.prototype=d.create(f.prototype),d.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t}();function Jn(t,n,i,r,e,u){var s=zt(t),o=hn(n);t.Ed=!0;var c=!1,a=bt(void 0);return At((function(h,f){var d,l,_,g;if(void 0!==u){if(d=function(){var i=new Zn("Aborted","AbortError"),u=[];!1===r&&u.push((function(){return"writable"===n.Pa?ln(n,i):bt(void 0)})),!1===e&&u.push((function(){return"readable"===t.Pa?Wi(t,i):bt(void 0)})),p((function(){return $.all(u.map((function(t){return t()})))}),!0,i)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(m(t,s.pd,(function(t){!1===r?p((function(){return ln(n,t)}),!0,t):k(!0,t)})),m(n,o.pd,(function(n){!1===e?p((function(){return Wi(t,n)}),!0,n):k(!0,n)})),l=t,_=s.pd,g=function(){!1===i?p((function(){return function(t){var n=t.zd,i=n.Pa;return!0===mn(n)||"closed"===i?bt(void 0):"errored"===i?Tt(n.md):Tn(t)}(o)})):k()},"closed"===l.Pa?g():It(_,g),!0===mn(n)||"closed"===n.Pa){var w=new v("the destination writable stream closed before all data could be piped to it");!1===e?p((function(){return Wi(t,w)}),!0,w):k(!0,w)}function y(){var t=a;return St(a,(function(){return t!==a?y():void 0}))}function m(t,n,i){"errored"===t.Pa?i(t.md):Rt(n,i)}function p(t,i,r){function e(){Et(t(),(function(){return A(i,r)}),(function(t){return A(!0,t)}))}!0!==c&&(c=!0,"writable"===n.Pa&&!1===mn(n)?It(y(),e):e())}function k(t,i){!0!==c&&(c=!0,"writable"===n.Pa&&!1===mn(n)?It(y(),(function(){return A(t,i)})):A(t,i))}function A(t,n){In(o),Lt(s),void 0!==u&&u.removeEventListener("abort",d),t?f(n):h(void 0)}Ct(At((function(t,n){!function i(r){r?t():St(!0===c?bt(!0):St(o.Xd,(function(){return St(Jt(s),(function(t){return!0===t.done||(a=St(Rn(o,t.value),void 0,ut),!1)}))})),i,n)}(!1)})))}))}var $n=function(){function t(){throw new v}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ti(this))throw hi("desiredSize");return oi(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===ti(this))throw hi("close");if(!1===ci(this))throw new v("The stream is not in a state that permits close");ei(this)},t.prototype.enqueue=function(t){if(!1===ti(this))throw hi("enqueue");if(!1===ci(this))throw new v("The stream is not in a state that permits enqueue");return ui(this,t)},t.prototype.error=function(t){if(!1===ti(this))throw hi("error");si(this,t)},t.prototype[Vt]=function(t){sn(this);var n=this.i_(t);return ri(this),n},t.prototype[Xt]=function(){var t=this.s_;if(this.Cd.length>0){var n=en(this);return!0===this.n_&&0===this.Cd.length?(ri(this),Gi(t)):ni(this),bt(Pt(n,!1,t.wd._d))}var i=Wt(t);return ni(this),i},t}();function ti(t){return!!ct(t)&&!!d.prototype.hasOwnProperty.call(t,"s_")}function ni(t){!1!==ii(t)&&(!0!==t.r_?(t.r_=!0,Et(t.h_(),(function(){t.r_=!1,!0===t.o_&&(t.o_=!1,ni(t))}),(function(n){si(t,n)}))):t.o_=!0)}function ii(t){var n=t.s_;return!1!==ci(t)&&(!1!==t.qd&&(!0===zi(n)&&qt(n)>0||oi(t)>0))}function ri(t){t.h_=void 0,t.i_=void 0,t.Kd=void 0}function ei(t){var n=t.s_;t.n_=!0,0===t.Cd.length&&(ri(t),Gi(n))}function ui(t,n){var i=t.s_;if(!0===zi(i)&&qt(i)>0)Gt(i,n,!1);else{var r=void 0;try{r=t.Kd(n)}catch(n){throw si(t,n),n}try{un(t,n,r)}catch(n){throw si(t,n),n}}ni(t)}function si(t,n){var i=t.s_;"readable"===i.Pa&&(sn(t),ri(t),qi(i,n))}function oi(t){var n=t.s_.Pa;return"errored"===n?null:"closed"===n?0:t.Zd-t.xd}function ci(t){var n=t.s_.Pa;return!1===t.n_&&"readable"===n}function ai(t,n,i,r,e,u,s){n.s_=t,n.Cd=void 0,n.xd=void 0,sn(n),n.qd=!1,n.n_=!1,n.o_=!1,n.r_=!1,n.Kd=s,n.Zd=u,n.h_=r,n.i_=e,t.Id=n,Et(bt(i()),(function(){n.qd=!0,ni(n)}),(function(t){si(n,t)}))}function hi(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var fi=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&l.floor(t)===t},vi=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===_i(this))throw Di("view");return this.Mu},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===_i(this))throw Di("respond");if(void 0===this.a_)throw new v("This BYOB request has been invalidated");this.Mu.buffer,function(t,n){if(n=Number(n),!1===ft(n))throw new RangeError("bytesWritten must be a finite");Si(t,n)}(this.a_,t)},t.prototype.respondWithNewView=function(t){if(!1===_i(this))throw Di("respond");if(void 0===this.a_)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.u_.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Si(t,n.byteLength)}(this.a_,t)},t}(),di=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===li(this))throw Pi("byobRequest");if(void 0===this.c_&&this.u_.length>0){var t=this.u_.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=d.create(vi.prototype);!function(t,n,i){t.a_=n,t.Mu=i}(i,this,n),this.c_=i}return this.c_},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===li(this))throw Pi("desiredSize");return Ni(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===li(this))throw Pi("close");if(!0===this.n_)throw new v("The stream has already been closed; do not close it again!");var t=this.l_.Pa;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.l_;if(t.xd>0)return void(t.n_=!0);if(t.u_.length>0){if(t.u_.peek().bytesFilled>0){var i=new v("Insufficient bytes to fill elements in the given buffer");throw Ri(t,i),i}}Ii(t),Gi(n)}(this)},t.prototype.enqueue=function(t){if(!1===li(this))throw Pi("enqueue");if(!0===this.n_)throw new v("stream is closed or draining");var n=this.l_.Pa;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.l_,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=r;if(!0===Yt(i)){if(0===qt(i))mi(t,s,e,u);else Gt(i,new y(s,e,u),!1)}else!0===Li(i)?(mi(t,s,e,u),Ti(t)):mi(t,s,e,u);gi(t)}(this,t)},t.prototype.error=function(t){if(!1===li(this))throw Pi("error");Ri(this,t)},t.prototype[Vt]=function(t){this.u_.length>0&&(this.u_.peek().bytesFilled=0);sn(this);var n=this.i_(t);return Ii(this),n},t.prototype[Xt]=function(){var t=this.l_;if(this.xd>0){var n=this.Cd.shift();this.xd-=n.byteLength,Ai(this);var i=void 0;try{i=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Tt(t)}return bt(Pt(i,!1,t.wd._d))}var r=this.d_;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return Tt(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.u_.push(u)}var s=Wt(t);return gi(this),s},t}();function li(t){return!!ct(t)&&!!d.prototype.hasOwnProperty.call(t,"l_")}function _i(t){return!!ct(t)&&!!d.prototype.hasOwnProperty.call(t,"a_")}function gi(t){var n=function(t){var n=t.l_;if("readable"!==n.Pa)return!1;if(!0===t.n_)return!1;if(!1===t.qd)return!1;if(!0===Yt(n)&&qt(n)>0)return!0;if(!0===Li(n)&&Bi(n)>0)return!0;var i=Ni(t);if(i>0)return!0;return!1}(t);!1!==n&&(!0!==t.r_?(t.r_=!0,Et(t.h_(),(function(){t.r_=!1,!0===t.o_&&(t.o_=!1,gi(t))}),(function(n){Ri(t,n)}))):t.o_=!0)}function wi(t,n){var i=!1;"closed"===t.Pa&&(i=!0);var r=yi(n);"default"===n.readerType?Gt(t,r,i):function(t,n,i){var r=t.wd,e=r.f_.shift();e.Td(Pt(n,i,r._d))}(t,r,i)}function yi(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function mi(t,n,i,r){t.Cd.push({buffer:n,byteOffset:i,byteLength:r}),t.xd+=r}function pi(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=l.min(t.xd,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,c=!1;s>r&&(o=s-n.bytesFilled,c=!0);for(var a=t.Cd;o>0;){var h=a.peek(),f=l.min(o,h.byteLength),v=n.byteOffset+n.bytesFilled;ht(n.buffer,v,h.buffer,h.byteOffset,f),h.byteLength===f?a.shift():(h.byteOffset+=f,h.byteLength-=f),t.xd-=f,ki(t,f,n),o-=f}return c}function ki(t,n,i){bi(t),i.bytesFilled+=n}function Ai(t){0===t.xd&&!0===t.n_?(Ii(t),Gi(t.l_)):gi(t)}function bi(t){void 0!==t.c_&&(t.c_.a_=void 0,t.c_.Mu=void 0,t.c_=void 0)}function Ti(t){for(;t.u_.length>0;){if(0===t.xd)return;var n=t.u_.peek();!0===pi(t,n)&&(Ei(t),wi(t.l_,n))}}function Si(t,n){var i=t.u_.peek();if("closed"===t.l_.Pa){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=n.buffer;var i=t.l_;if(!0===Li(i))for(;Bi(i)>0;)wi(i,Ei(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(ki(t,n,i),!(i.bytesFilled<i.elementSize)){Ei(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);mi(t,u,0,u.byteLength)}i.buffer=i.buffer,i.bytesFilled-=r,wi(t.l_,i),Ti(t)}}(t,n,i);gi(t)}function Ei(t){var n=t.u_.shift();return bi(t),n}function Ii(t){t.h_=void 0,t.i_=void 0}function Ri(t,n){var i=t.l_;"readable"===i.Pa&&(!function(t){bi(t),t.u_=new Dt}(t),sn(t),Ii(t),qi(i,n))}function Ni(t){var n=t.l_.Pa;return"errored"===n?null:"closed"===n?0:t.Zd-t.xd}function Ci(t,n,i){var r=d.create(di.prototype);var e=dt(n,"pull",0,[r]),u=dt(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===fi(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.l_=t,n.o_=!1,n.r_=!1,n.c_=void 0,n.Cd=n.xd=void 0,sn(n),n.n_=!1,n.qd=!1,n.Zd=gt(u),n.h_=r,n.i_=e,n.d_=s,n.u_=new Dt,t.Id=n,Et(bt(i()),(function(){n.qd=!0,gi(n)}),(function(t){Ri(n,t)}))}(t,r,(function(){return lt(n,"start",[r])}),e,u,i,s)}function Di(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Pi(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Oi(t){return At((function(n,i){var r={Td:n,Sd:i};t.wd.f_.push(r)}))}function Bi(t){return t.wd.f_.length}function Li(t){var n=t.wd;return void 0!==n&&!!xi(n)}var Mi=function(){function t(t){if(!Xi(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===li(t.Id))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(zi(t))throw new v("This stream has already been locked for exclusive reading by another reader");Ot(this,t),this.f_=new Dt}return d.defineProperty(t.prototype,"closed",{get:function(){return xi(this)?this.pd:Tt(Ui("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return xi(this)?void 0===this.vd?Tt(Mt("cancel")):Bt(this,t):Tt(Ui("cancel"))},t.prototype.read=function(t){return xi(this)?void 0===this.vd?Tt(Mt("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Tt(new v("view must have non-zero byteLength")):function(t,n){var i=t.vd;if(i.Ed=!0,"errored"===i.Pa)return Tt(i.md);return function(t,n){var i=t.l_,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.u_.length>0)return t.u_.push(u),Oi(i);if("closed"===i.Pa)return bt(Pt(new e(u.buffer,u.byteOffset,0),!0,i.wd._d));if(t.xd>0){if(!0===pi(t,u)){var s=yi(u);return Ai(t),bt(Pt(s,!1,i.wd._d))}if(!0===t.n_){var o=new v("Insufficient bytes to fill elements in the given buffer");return Ri(t,o),Tt(o)}}t.u_.push(u);var c=Oi(i);return gi(t),c}(i.Id,n)}(this,t)):Tt(new v("view must be an array buffer view")):Tt(Ui("read"))},t.prototype.releaseLock=function(){if(!xi(this))throw Ui("releaseLock");if(void 0!==this.vd){if(this.f_.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Lt(this)}},t}();function xi(t){return!!ct(t)&&!!d.prototype.hasOwnProperty.call(t,"f_")}function Ui(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Fi=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Vi(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Ci(this,t,r=gt(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=wt(i);void 0===r&&(r=1),function(t,n,i,r){var e=d.create($n.prototype),u=dt(n,"pull",0,[e]),s=dt(n,"cancel",1,[]);ai(t,e,(function(){return lt(n,"start",[e])}),u,s,i,r)}(this,t,r=gt(r),u)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Xi(this))throw Yi("locked");return zi(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Xi(this)?Tt(Yi("cancel")):!0===zi(this)?Tt(new v("Cannot cancel a stream that already has a reader")):Wi(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Xi(this))throw Yi("getReader");if(void 0===n)return zt(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Mi(t);return i._d=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,c=e.signal;if(!1===Xi(this))throw Yi("pipeThrough");if(!1===vn(i))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===Xi(r))throw new v("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==c&&!Qn(c))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===zi(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===dn(i))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Ct(Jn(this,i,u,s,o,c)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===Xi(this)?Tt(Yi("pipeTo")):!1===vn(t)?Tt(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||Qn(s)?!0===zi(this)?Tt(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===dn(t)?Tt(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Jn(this,t,r,e,u,s):Tt(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Xi(this))throw Yi("tee");var t=function(t,n){var i,r,e,u,s,o=zt(t),c=!1,a=!1,h=!1,f=At((function(t){s=t}));function v(){return!0===c||(c=!0,Ct(Nt(Jt(o),(function(t){if(c=!1,!0===t.done)return!1===a&&ei(e.Id),void(!1===h&&ei(u.Id));var n=t.value,i=n,r=n;!1===a&&ui(e.Id,i),!1===h&&ui(u.Id,r)})))),bt(void 0)}function d(){}return e=Hi(d,v,(function(n){if(a=!0,i=n,!0===h){var e=at([i,r]),u=Wi(t,e);s(u)}return f})),u=Hi(d,v,(function(n){if(h=!0,r=n,!0===a){var e=at([i,r]),u=Wi(t,e);s(u)}return f})),Rt(o.pd,(function(t){si(e.Id,t),si(u.Id,t)})),[e,u]}(this);return at(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Xi(this))throw Yi("getIterator");return function(t,n){void 0===n&&(n=!1);var i=zt(t),r=d.create(tn);return r.Pd=i,r.Rd=Boolean(n),r}(this,i)},t}();function Hi(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=d.create(Fi.prototype);return Vi(u),ai(u,d.create($n.prototype),t,n,i,r,e),u}function Vi(t){t.Pa="readable",t.wd=void 0,t.md=void 0,t.Ed=!1}function Xi(t){return!!ct(t)&&!!d.prototype.hasOwnProperty.call(t,"Id")}function zi(t){return void 0!==t.wd}function Wi(t,n){return t.Ed=!0,"closed"===t.Pa?bt(void 0):"errored"===t.Pa?Tt(t.md):(Gi(t),Nt(t.Id[Vt](n),ut))}function Gi(t){t.Pa="closed";var n=t.wd;void 0!==n&&(Zt(n)&&(n.kd.forEach((function(t){t.Td(Pt(void 0,!0,n._d))})),n.kd=new Dt),Ht(n))}function qi(t,n){t.Pa="errored",t.md=n;var i=t.wd;void 0!==i&&(Zt(i)?(i.kd.forEach((function(t){t.Sd(n)})),i.kd=new Dt):(i.f_.forEach((function(t){t.Sd(n)})),i.f_=new Dt),Ft(i,n))}function Yi(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof et.asyncIterator&&d.defineProperty(Fi.prototype,et.asyncIterator,{value:Fi.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});!function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}t.prototype.size=function(t){return t.byteLength}}();var ji=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Qi=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=wt(r);if(void 0===e&&(e=1),e=gt(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,a=wt(u);void 0===s&&(s=0),s=gt(s),function(t,n,i,r,e,u){function s(){return n}function o(n){return function(t,n){var i=t.__;if(!0===t.Ud){return Nt(t.g_,(function(){var r=t.v_;if("erroring"===r.Pa)throw r.md;return sr(i,n)}))}return sr(i,n)}(t,n)}function c(n){return function(t,n){return Zi(t,n),bt(void 0)}(t,n)}function a(){return function(t){var n=t.w_,i=t.__,r=i.m_();return er(i),Nt(r,(function(){if("errored"===n.Pa)throw n.md;var t=n.Id;!0===ci(t)&&ei(t)}),(function(i){throw Zi(t,i),n.md}))}(t)}function h(){return function(t){return $i(t,!1),t.g_}(t)}function f(n){return Ji(t,n),bt(void 0)}t.v_=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=d.create(an.prototype);return fn(s),Cn(s,d.create(Nn.prototype),t,n,i,r,e,u),s}(s,o,a,c,i,r),t.w_=Hi(s,h,f,e,u),t.Ud=void 0,t.g_=void 0,t.p_=void 0,$i(t,!0),t.__=void 0}(this,At((function(t){c=t})),e,o,s,a),function(t,n){var i=d.create(ir.prototype),r=function(t){try{return ur(i,t),bt(void 0)}catch(t){return Tt(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new v("transform is not a method");r=function(t){return _t(e,n,[t,i])}}var u=dt(n,"flush",0,[i]);!function(t,n,i,r){n.y_=t,t.__=n,n.A_=i,n.m_=r}(t,i,r,u)}(this,t);var h=lt(t,"start",[this.__]);c(h)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===Ki(this))throw cr("readable");return this.w_},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===Ki(this))throw cr("writable");return this.v_},enumerable:!0,configurable:!0}),t}();function Ki(t){return!!ct(t)&&!!d.prototype.hasOwnProperty.call(t,"__")}function Zi(t,n){si(t.w_.Id,n),Ji(t,n)}function Ji(t,n){er(t.__),Bn(t.v_.Nd,n),!0===t.Ud&&$i(t,!1)}function $i(t,n){void 0!==t.g_&&t.p_(),t.g_=At((function(n){t.p_=n})),t.Ud=n}var tr,nr,ir=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===rr(this))throw or("desiredSize");return oi(this.y_.w_.Id)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===rr(this))throw or("enqueue");ur(this,t)},t.prototype.error=function(t){if(!1===rr(this))throw or("error");!function(t,n){Zi(t.y_,n)}(this,t)},t.prototype.terminate=function(){if(!1===rr(this))throw or("terminate");!function(t){var n=t.y_,i=n.w_.Id;!0===ci(i)&&ei(i);var r=new v("TransformStream terminated");Ji(n,r)}(this)},t}();function rr(t){return!!ct(t)&&!!d.prototype.hasOwnProperty.call(t,"y_")}function er(t){t.A_=void 0,t.m_=void 0}function ur(t,n){var i=t.y_,r=i.w_.Id;if(!1===ci(r))throw new v("Readable side is not in a state that permits enqueue");try{ui(r,n)}catch(t){throw Ji(i,t),i.w_.md}var e=function(t){return!0!==ii(t)}(r);e!==i.Ud&&$i(i,!0)}function sr(t,n){return Nt(t.A_(n),void 0,(function(n){throw Zi(t.y_,n),n}))}function or(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function cr(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}function ar(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function hr(t,n,i){return n&&ar(t.prototype,n),i&&ar(t,i),t}function fr(t,n){return(fr=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function vr(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&fr(t,n)}function dr(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function lr(t,n){if(t){if("string"==typeof t)return dr(t,n);var i=d.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?dr(t,n):void 0}}function _r(t){return function(t){if(Array.isArray(t))return dr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||lr(t)||function(){throw new v("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(t){t.yP="web",t.AP="android",t.bP="android-tv",t.TP="ios",t.SP="tvos",t.kP="chromecast",t.EP="theoliveweb"}(nr||(nr={}));var gr=s?s.userAgent:"",wr=gr.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),yr=gr.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),mr=gr.match(/Android ([0-9\.]+)/i),pr=gr.match(/Windows NT ([0-9\.]+)/i),kr=gr.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Ar=gr.match(/Firefox\/([0-9\.]+)/i),br=gr.match(/OPR\/(\d+\.\d+)/i),Tr=gr.match(/Tizen ([0-9\.]+)/i),Sr=gr.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),Er=function(){function t(){this.IP=Boolean("ontouchstart"in self||self.DocumentTouch&&e instanceof self.DocumentTouch||s&&s.msMaxTouchPoints),this.RP=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(gr)||/(macintosh|mac(?=_powerpc)\s)/i.test(gr),this.xP=/Windows NT/i.test(gr),this.NP=pr?g(pr[1]):0,this.LP=/Android/i.test(gr),this.MP=mr?g(mr[1]):0,this.UP=/windows phone (8|8\.1)/i.test(gr),this.VP=/iPhone/i.test(gr),this.qP=/iPad/i.test(gr),this.XP=this.RP&&this.IP&&!this.qP,this.QP=/iPod/i.test(gr),this.iR=/Mobile Safari/i.test(gr),this.$P=/EOS\d*STB/i.test(gr),this.tR=/APP\d*STB/i.test(gr),this.jP=(this.VP||this.qP||this.XP||this.QP)&&!this.UP,this.ZP=Sr?g(Sr[2]):0,this.sR=this.UP||this.jP||this.LP||this.iR,this.rR=/CriOS/i.test(gr),this.oR=Boolean(self.chrome&&/google/i.test(s.vendor))||this.rR,this.lR=this.oR&&/Edg\//i.test(s.userAgent),this.fR=yr?_(yr[1],10):0,this.cC=Boolean(self.chrome||/Chrome/i.test(gr)||/CriOS/i.test(gr)),this.uR=wr?_(wr[1],10):0,this.gR=/SMART-TV.*Tizen/i.test(gr),this.wR=Tr?g(Tr[1]):0,this.pR=/webos|web0s/i.test(gr),this.AR=/VIZIO/i.test(gr),this.SR=/Edge\/\d+/i.test(gr),this.ER=/Trident/i.test(gr),this.PR=this.ER&&!self.ActiveXObject&&"ActiveXObject"in self,this.xR=/Vivaldi/i.test(gr),this.NR=/Firefox/i.test(gr)&&!/Seamonkey/i.test(gr),this.OR=Ar?g(Ar[1]):0,this.FR=/Safari/i.test(gr)&&!/Chrome/i.test(gr)&&!this.UP&&!this.gR,this.HR=kr?g(kr[2]):0,this.qR=Boolean(br),this.XR=br?g(br[1]):0,this.QR=/CrKey/.test(gr),this.jR=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(gr),this.JR="web"===nr.bP,this.tC="web"===nr.AP,this.iC=this.tC||this.JR,this.nC="web"===nr.TP,this.hC="web"===nr.SP,this.aC="web"===nr.kP}return hr(t,[{key:"Ye",get:function(){return this.IP}},{key:"PP",get:function(){return this.RP}},{key:"CP",get:function(){return this.xP}},{key:"DP",get:function(){return this.NP}},{key:"BP",get:function(){return this.LP}},{key:"OP",get:function(){return this.MP}},{key:"FP",get:function(){return this.UP}},{key:"HP",get:function(){return this.VP}},{key:"WP",get:function(){return this.qP}},{key:"zP",get:function(){return this.XP}},{key:"GP",get:function(){return this.QP}},{key:"KP",get:function(){return this.jP}},{key:"YP",get:function(){return this.ZP}},{key:"JP",get:function(){return this.$P||this.tR}},{key:"eR",get:function(){return this.iR}},{key:"Ks",get:function(){return this.sR}},{key:"nR",get:function(){return this.rR}},{key:"hR",get:function(){return this.oR}},{key:"aR",get:function(){return this.uR}},{key:"cR",get:function(){return this.lR}},{key:"dR",get:function(){return this.fR}},{key:"_R",get:function(){return this.gR}},{key:"vR",get:function(){return this.wR}},{key:"mR",get:function(){return this.pR}},{key:"yR",get:function(){return this.AR}},{key:"bR",get:function(){return this.SR}},{key:"kR",get:function(){return this.ER}},{key:"IR",get:function(){return this.PR}},{key:"RR",get:function(){return this.xR}},{key:"DR",get:function(){return this.NR}},{key:"LR",get:function(){return this.OR}},{key:"MR",get:function(){return this.FR}},{key:"UR",get:function(){return this.HR}},{key:"WR",get:function(){return this.qR}},{key:"zR",get:function(){return this.XR}},{key:"GR",get:function(){return this.QR}},{key:"KR",get:function(){return this.jR}},{key:"YR",get:function(){return!(!this.mR&&!this._R)&&this.aR<=56}},{key:"ZR",get:function(){return this.JR}},{key:"$R",get:function(){return this.tC}},{key:"eC",get:function(){return this.iC}},{key:"sC",get:function(){return this.nC}},{key:"rC",get:function(){return this.hC}},{key:"oC",get:function(){return this.aC}},{key:"uC",get:function(){return this.cC}}]),t}();Er.lC=new Er;var Ir=Er.lC,Rr={}.hasOwnProperty,Nr={}.toString;function Cr(t){return null!=t}function Dr(t){return void 0===t}var Pr=Array.isArray||function(t){return"[object Array]"===Nr.call(t)};function Or(t){return Br(t)&&Rr.call(t,"length")&&Hr(t.length)}function Br(t){return"object"==typeof t&&null!==t}function Lr(t){return Br(t)&&t.constructor&&t.constructor===d}function Mr(t){return"string"==typeof t}function xr(t){return"boolean"==typeof t}function Ur(t){return Cr(t)&&"function"==typeof t.then}function Fr(t){return"[object Date]"===Nr.call(t)}function Hr(t){return"number"==typeof t}var Vr=function(){},Xr=function(t){return t};function zr(t,n){var i=-1/0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=tr.V_();s-i>=n&&(t.apply(this,e),i=s)}}function Wr(t,n){var i=0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=this;0!==i&&tr.W_(i),i=tr.q_((function(){i=0,t.apply(s,e)}),n)}}function Gr(t){var n;return function(){return void 0!==t&&(n=t(),t=void 0),n}}var qr=!(Ir.kR&&!Ir.IR),Yr=self.console;function jr(t){if(Br(t))try{return JSON.stringify(t)}catch(t){}return t}function Qr(t){return t.map(jr).join(" ")}function Kr(t){var n=Yr&&Yr[t];return n?n.bind&&qr?n.bind(Yr):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];Yr[t](Qr(i))}:void 0}var Zr=Kr("log")||Vr,Jr=Kr("warn")||Zr.bind(void 0,"WARNING:"),$r=Kr("error")||Zr.bind(void 0,"ERROR:"),te=function(){var t=Yr&&Yr.assert;return t?t.bind&&qr?t.bind(Yr):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Yr.assert(t,Qr(i))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t||$r.apply(void 0,["Assertion failed:"].concat(_r(i)))}}(),ne=null;try{ne=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(n){}function ie(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function re(t){return!0===(t&&t.Py)}function ee(t){var n=l.clz32(t&-t);return t?31-n:n}ie.prototype.Py,d.defineProperty(ie.prototype,"Py",{value:!0}),ie.isLong=re;var ue={},se={};function oe(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=se[t])?r:(i=ae(t,0,!0),e&&(se[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=ue[t])?r:(i=ae(t,t<0?-1:0,!1),e&&(ue[t]=i),i)}function ce(t,n){if(w(t))return n?ye:we;if(n){if(t<0)return ye;if(t>=le)return be}else{if(t<=-_e)return Te;if(t+1>=_e)return Ae}return t<0?ce(-t,n).neg():ae(t%de|0,t/de|0,n)}function ae(t,n,i){return new ie(t,n,i)}ie.fromInt=oe,ie.fromNumber=ce,ie.fromBits=ae;var he=l.pow;function fe(t,n,i){if(0===t.length)throw f("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?ye:we;if((i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw f("interior hyphen");if(0===r)return fe(t.substring(1),n,i).neg();for(var e=ce(he(i,8)),u=we,s=0;s<t.length;s+=8){var o=l.min(8,t.length-s),c=_(t.substring(s,s+o),i);if(o<8){var a=ce(he(i,o));u=u.mul(a).add(ce(c))}else u=(u=u.mul(e)).add(ce(c))}return u.unsigned=n,u}function ve(t,n){return"number"==typeof t?ce(t,n):"string"==typeof t?fe(t,n):ae(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}ie.fromString=fe,ie.fromValue=ve;var de=4294967296,le=de*de,_e=le/2,ge=oe(1<<24),we=oe(0);ie.ZERO=we;var ye=oe(0,!0);ie.UZERO=ye;var me=oe(1);ie.ONE=me;var pe=oe(1,!0);ie.UONE=pe;var ke=oe(-1);ie.NEG_ONE=ke;var Ae=ae(-1,2147483647,!1);ie.MAX_VALUE=Ae;var be=ae(-1,-1,!0);ie.MAX_UNSIGNED_VALUE=be;var Te=ae(0,-2147483648,!1);ie.MIN_VALUE=Te;var Se=ie.prototype;Se.toInt=function(){return this.unsigned?this.low>>>0:this.low},Se.toNumber=function(){return this.unsigned?(this.high>>>0)*de+(this.low>>>0):this.high*de+(this.low>>>0)},Se.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Te)){var n=ce(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=ce(he(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),c=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},Se.getHighBits=function(){return this.high},Se.getHighBitsUnsigned=function(){return this.high>>>0},Se.getLowBits=function(){return this.low},Se.getLowBitsUnsigned=function(){return this.low>>>0},Se.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Te)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Se.isZero=function(){return 0===this.high&&0===this.low},Se.eqz=Se.isZero,Se.isNegative=function(){return!this.unsigned&&this.high<0},Se.isPositive=function(){return this.unsigned||this.high>=0},Se.isOdd=function(){return 1==(1&this.low)},Se.isEven=function(){return 0==(1&this.low)},Se.equals=function(t){return re(t)||(t=ve(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Se.eq=Se.equals,Se.notEquals=function(t){return!this.eq(t)},Se.neq=Se.notEquals,Se.ne=Se.notEquals,Se.lessThan=function(t){return this.comp(t)<0},Se.lt=Se.lessThan,Se.lessThanOrEqual=function(t){return this.comp(t)<=0},Se.lte=Se.lessThanOrEqual,Se.le=Se.lessThanOrEqual,Se.greaterThan=function(t){return this.comp(t)>0},Se.gt=Se.greaterThan,Se.greaterThanOrEqual=function(t){return this.comp(t)>=0},Se.gte=Se.greaterThanOrEqual,Se.ge=Se.greaterThanOrEqual,Se.compare=function(t){if(re(t)||(t=ve(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Se.comp=Se.compare,Se.negate=function(){return!this.unsigned&&this.eq(Te)?Te:this.not().add(me)},Se.neg=Se.negate,Se.add=function(t){re(t)||(t=ve(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=0,a=0,h=0,f=0;return h+=(f+=e+(65535&t.low))>>>16,a+=(h+=r+o)>>>16,c+=(a+=i+s)>>>16,c+=n+u,ae((h&=65535)<<16|(f&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},Se.subtract=function(t){return re(t)||(t=ve(t)),this.add(t.neg())},Se.sub=Se.subtract,Se.multiply=function(t){if(this.isZero())return this;if(re(t)||(t=ve(t)),ne)return ae(ne.mul(this.low,this.high,t.low,t.high),ne.get_high(),this.unsigned);if(t.isZero())return this.unsigned?ye:we;if(this.eq(Te))return t.isOdd()?Te:we;if(t.eq(Te))return this.isOdd()?Te:we;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(ge)&&t.lt(ge))return ce(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=65535&t.low,a=0,h=0,f=0,v=0;return f+=(v+=e*c)>>>16,h+=(f+=r*c)>>>16,f&=65535,h+=(f+=e*o)>>>16,a+=(h+=i*c)>>>16,h&=65535,a+=(h+=r*o)>>>16,h&=65535,a+=(h+=e*s)>>>16,a+=n*c+i*o+r*s+e*u,ae((f&=65535)<<16|(v&=65535),(a&=65535)<<16|(h&=65535),this.unsigned)},Se.mul=Se.multiply,Se.divide=function(t){if(re(t)||(t=ve(t)),t.isZero())throw f("division by zero");var n,i,r;if(ne)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?ae((this.unsigned?ne.div_u:ne.div_s)(this.low,this.high,t.low,t.high),ne.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?ye:we;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return ye;if(t.gt(this.shru(1)))return pe;r=ye}else{if(this.eq(Te))return t.eq(me)||t.eq(ke)?Te:t.eq(Te)?me:(n=this.shr(1).div(t).shl(1)).eq(we)?t.isNegative()?me:ke:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Te))return this.unsigned?ye:we;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=we}for(i=this;i.gte(t);){n=l.max(1,l.floor(i.toNumber()/t.toNumber()));for(var e=l.ceil(l.log(n)/l.LN2),u=e<=48?1:he(2,e-48),s=ce(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=ce(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=me),r=r.add(s),i=i.sub(o)}return r},Se.div=Se.divide,Se.modulo=function(t){return re(t)||(t=ve(t)),ne?ae((this.unsigned?ne.rem_u:ne.rem_s)(this.low,this.high,t.low,t.high),ne.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Se.mod=Se.modulo,Se.rem=Se.modulo,Se.not=function(){return ae(~this.low,~this.high,this.unsigned)},Se.countLeadingZeros=function(){return this.high?l.clz32(this.high):l.clz32(this.low)+32},Se.clz=Se.countLeadingZeros,Se.countTrailingZeros=function(){return this.low?ee(this.low):ee(this.high)+32},Se.ctz=Se.countTrailingZeros,Se.and=function(t){return re(t)||(t=ve(t)),ae(this.low&t.low,this.high&t.high,this.unsigned)},Se.or=function(t){return re(t)||(t=ve(t)),ae(this.low|t.low,this.high|t.high,this.unsigned)},Se.xor=function(t){return re(t)||(t=ve(t)),ae(this.low^t.low,this.high^t.high,this.unsigned)},Se.shiftLeft=function(t){return re(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?ae(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):ae(0,this.low<<t-32,this.unsigned)},Se.shl=Se.shiftLeft,Se.shiftRight=function(t){return re(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?ae(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):ae(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Se.shr=Se.shiftRight,Se.shiftRightUnsigned=function(t){return re(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?ae(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):ae(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Se.shru=Se.shiftRightUnsigned,Se.shr_u=Se.shiftRightUnsigned,Se.rotateLeft=function(t){var n;return re(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?ae(this.high,this.low,this.unsigned):t<32?(n=32-t,ae(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),ae(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Se.rotl=Se.rotateLeft,Se.rotateRight=function(t){var n;return re(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?ae(this.high,this.low,this.unsigned):t<32?(n=32-t,ae(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),ae(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Se.rotr=Se.rotateRight,Se.toSigned=function(){return this.unsigned?ae(this.low,this.high,!1):this},Se.toUnsigned=function(){return this.unsigned?this:ae(this.low,this.high,!0)},Se.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Se.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Se.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},ie.fromBytes=function(t,n,i){return i?ie.fromBytesLE(t,n):ie.fromBytesBE(t,n)},ie.fromBytesLE=function(t,n){return new ie(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},ie.fromBytesBE=function(t,n){return new ie(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Ee=ie;function Ie(t,n){return t.lessThan(n)?t:n}var Re=9007199254740991,Ne=l.pow(2,-52);function Ce(t,n,i){return l.min(l.max(t,n),i)}function De(t,n,i){return t===n||l.abs(t-n)<=i}function Pe(t){return t!=t}function Oe(t,n){return t===n||Pe(t)&&Pe(n)}function Be(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function Le(t,n){return t.reduce((function(t,i){return t+n(i)}),0)}function Me(t){return!w(t.getTime())}function xe(){return Date.now()||(new Date).getTime()}function Ue(t){return t/1e3}function Fe(t){return 1e3*t}var He=1/6,Ve=Ee.fromNumber(Re);function Xe(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Ve))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}function ze(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function We(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){Ge(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&Ge(i,null,t.length,t),t}function Ge(t,n,i,r){var e,u,s,o,c,a=t.length,h=0,f=2*i;for(e=0;e<a;e+=f)for(s=(u=e+i)+i,u>a&&(u=a),s>a&&(s=a),o=e,c=u;;)if(o<u&&c<s)n(t[o],t[c])<=0?r[h++]=t[o++]:r[h++]=t[c++];else if(o<u)r[h++]=t[o++];else{if(!(c<s))break;r[h++]=t[c++]}}var qe=/[a-zA-Z]/,Ye=/[0-9]/,je=/[0-9a-fA-F]/,Qe=/^0x/i,Ke=/^[0-9]+$/,Ze=/^[0-9a-fA-F]+$/,Je=/^[0-7]+$/,$e=d.prototype.toString,tu=Array.isArray||function(t){return"[object Array]"===$e.call(t)},nu="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function iu(t){return tu(t)?t:Array.from(t)}function ru(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function eu(t){return t>=65&&t<=90}function uu(t){return eu(t)||function(t){return t>=97&&t<=122}(t)}function su(t){return t>=48&&t<=57}function ou(t){return su(t)||uu(t)}function cu(t){return su(t)||t>=65&&t<=70||t>=97&&t<=102}function au(t){return eu(t)?t+32:t}function hu(t){return su(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function fu(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var vu=l.min,du=String.fromCharCode,lu=16384;function _u(t){for(var n=t.length,i=[],r=0;r<n;r+=lu){var e=vu(r+lu,n);i.push(du.apply(null,t.slice(r,e)))}return i.join("")}var gu=2147483647,wu=/[^\0-\x7E]/,yu=/[\x2E\u3002\uFF0E\uFF61]/g,mu={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},pu=l.floor,ku=String.fromCharCode;function Au(t){throw new RangeError(mu[t])}function bu(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var Tu,Su,Eu,Iu=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Ru=function(t,n,i){var r=0;for(t=i?pu(t/700):t>>1,t+=pu(t/n);t>455;r+=36)t=pu(t/35);return pu(r+36*t/(t+38))},Nu=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(yu,".")).split("."),n).join(".");return r+e}(t,(function(t){return wu.test(t)?"xn--"+function(t){for(var n=[],i=(t=bu(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var c=o[s];c<128&&n.push(ku(c))}var a=n.length,h=a;for(a&&n.push("-");h<i;){for(var f=gu,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var _=h+1;f-r>pu((gu-e)/_)&&Au("overflow"),e+=(f-r)*_,r=f;for(var g=0,w=t;g<w.length;g++){var y=w[g];if(y<r&&++e>gu&&Au("overflow"),y==r){for(var m=e,p=36;;p+=36){var k=p<=u?1:p>=u+26?26:p-u;if(m<k)break;var A=m-k,b=36-k;n.push(ku(Iu(k+A%b,0))),m=pu(A/b)}n.push(ku(Iu(m,0))),u=Ru(e,_,h==a),e=0,++h}}++e,++r}return n.join("")}(t):t}))};function Cu(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return _u(n)}function Du(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Pu(t,n){return t>>n&63|128}function Ou(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Du(t),n.push(t>>12&15|224),n.push(Pu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Pu(t,12)),n.push(Pu(t,6))),n.push(63&t|128)):n.push(t)}function Bu(t){for(var n=[],i=0;i<t.length;i++){Ou(t[i],n)}return n}function Lu(){if(Eu>=Su)throw new f("Invalid byte index");var t=255&Tu[Eu];if(Eu++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function Mu(){var t,n;if(Eu>Su)throw new f("Invalid byte index");if(Eu===Su)return!1;if(t=255&Tu[Eu],Eu++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Lu())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Lu()<<6|Lu())>=2048)return Du(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Lu()<<12|Lu()<<6|Lu())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function xu(t){return[37,fu(t>>4),fu(15&t)]}function Uu(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Fu(t){return Uu(t)||32===t||34===t||60===t||62===t||96===t}function Hu(t){return Fu(t)||35===t||63===t||123===t||125===t}function Vu(t){return Hu(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Xu(t){return t<33||t>126||34===t||35===t||60===t||62===t}function zu(t){return Xu(t)||39===t}function Wu(t,n){if(!n(t))return[t];for(var i=Bu([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,xu(u))}return r}function Gu(t,n){for(var i=[],r=0,e=bu(t);r<e.length;r++){var u=e[r];i.push.apply(i,Wu(u,n))}return Cu(i)}function qu(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&cu(t[r+1])&&cu(t[r+2])){var u=hu(t[r+1])<<4|hu(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(Bu(t))}function Yu(t){return Cu(function(t){Tu=t.slice(),Su=Tu.length,Eu=0;for(var n,i=[];!1!==(n=Mu());)i.push(n);return i}(qu(bu(t))))}function ju(t){var n=t.length,i=[0,0,0,0,0,0,0,0],r=0,e=null,u=0;if(u<n&&":"===t[u]){if(!(u+1<n&&":"===t[u+1]))throw new v;u+=2,e=r+=1}for(;u<n;){if(8===r)throw new v("Too many groups");if(":"!==t[u]){for(var s=0,o=0;o<4&&u<n&&je.test(t[u]);)s=s<<4|_(t[u],16),u+=1,o+=1;if("."===t[u]){if(0===o)throw new v;if(u-=o,r>6)throw new v;for(var c=0;u<n;){var a=null;if(c>0){if(!("."===t[u]&&c<4))throw new v;u+=1}if(!Ye.test(t[u]))throw new v;for(;u<n&&Ye.test(t[u]);){var h=_(t[u],10);if(null===a)a=h;else{if(0===a)throw new v;if((a=10*a+h)>255)throw new v}u+=1}i[r]=i[r]<<8|a,2!==(c+=1)&&4!==c||(r+=1)}if(4!==c)throw new v;break}if(":"===t[u]){if((u+=1)===n)throw new v}else if(u<n)throw new v;i[r]=s,r+=1}else{if(null!==e)throw new v("Too many :: groups");u+=1,e=r+=1}}if(null!==e){var f=r-e;for(r=7;0!==r&&f>0;)ru(i,r,e+f-1),r-=1,f-=1}else if(8!==r)throw new v;return i}function Qu(t){var n=10,i=Ke;return Qe.test(t)?(t=t.slice(2),n=16,i=Ze):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Je),""===t?0:i.test(t)?_(t,n):void 0}var Ku={vJ:4},Zu=/[\0\t\n\r #%/:?@\[\\\]]/,Ju=/[\0\t\n\r #/:?@\[\\\]]/;function $u(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{vJ:2,F8:ju(t.slice(1,-1))}}if(!n)return function(t){if(Ju.test(t))throw new v("Invalid code point in opaque host");var n=Gu(t,Uu);return""===n?Ku:{vJ:3,Mx:n}}(t);var i=function(t){var n=function(t){return Nu(t.toLowerCase())}(t);return n}(Yu(t));if(Zu.test(i))throw new v("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=Qu(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new v;if(i[i.length-1]>=l.pow(256,5-i.length))throw new v;for(var o=i.pop(),c=0;c<i.length;c++)o+=i[c]*l.pow(256,3-c);return o}}(i);return void 0!==r?{vJ:1,F8:r}:""===i?Ku:{vJ:0,U8:i}}function ts(t){switch(t.vJ){case 0:return t.U8;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.F8);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.F8)+"]";case 3:return t.Mx;case 4:return""}}var ns=/\+/g;function is(t){return 42===t||45===t||46===t||95===t||ou(t)}function rs(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(ns," "),o=o.replace(ns," ");var c=Yu(s),a=Yu(o);i.push([c,a])}}return i}function es(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=us(Bu(bu(r[0])))+"="+us(Bu(bu(r[1])))}return n}function us(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];32===r?n.push(43):is(r)?n.push(r):n.push.apply(n,xu(r))}return _u(n)}var ss=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function os(t){var n=""+t,i=ss.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(as(u))if(hs(u)||e===i-1)r.push(cs);else{var s=t.charCodeAt(e+1);hs(s)?(r.push(u,s),e++):r.push(cs)}else r.push(u)}return t.slice(0,n)+_u(r)}(n,i.index):n}var cs=65533,as=function(t){return 55296==(63488&t)},hs=function(t){return 0!=(1024&t)};function fs(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function vs(t){t.H8.length=0}function ds(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.H8,rs(n))}function ls(t){if(t.V8){var n=es(t.H8);""===n&&(n=null),t.V8.V8.W8=n}}var _s=function(){function t(t){if(void 0===t&&(t=void 0),this.V8=null,null==t)this.H8=[];else if("object"==typeof t||"function"==typeof t)if(function(t){return t instanceof _s&&!!tu(t.H8)&&(!nu||t[Symbol.iterator]===gs)}(t))this.H8=t.H8.slice();else if(function(t){return null!=t&&(!!tu(t)||!!nu&&"function"==typeof t[Symbol.iterator])}(t)){this.H8=[];for(var n=0,i=iu(t);n<i.length;n++){var r=iu(i[n]);if(2!==r.length)throw new v("Invalid name-value pair");this.H8.push([os(r[0]),os(r[1])])}}else for(var e in this.H8=[],t)d.prototype.hasOwnProperty.call(t,e)&&this.H8.push([os(e),os(t[e])]);else(t=os(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.H8=rs(t)}var n=t.prototype;return n.append=function(t,n){t=os(t),n=os(n),this.H8.push([t,n]),ls(this)},n.delete=function(t){t=os(t);for(var n=this.H8,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}ls(this)},n.get=function(t){t=os(t);for(var n=this.H8,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=os(t);for(var n=this.H8,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=os(t);for(var n=this.H8,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=os(t),n=os(n);for(var i=this.H8,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),ls(this)},n.sort=function(){We(this.H8,fs),ls(this)},n.toString=function(){return es(this.H8)},n.entries=function(){return new ps(this.H8,ws)},n.keys=function(){return new ps(this.H8,ys)},n.values=function(){return new ps(this.H8,ms)},n.forEach=function(t){var n=this;this.H8.forEach((function(i){return t(i[1],i[0],n)}))},t}(),gs=_s.prototype.entries;nu&&(_s.prototype[Symbol.iterator]=gs);var ws=function(t){return[t[0],t[1]]},ys=function(t){return t[0]},ms=function(t){return t[1]},ps=function(){function t(t,n){this.q8=0,this.H8=t,this.z8=n}return t.prototype.next=function(){return this.q8<this.H8.length?{done:!1,value:this.z8(this.H8[this.q8++])}:{done:!0,value:void 0}},t}(),ks="null";var As=d.create(null);As.ftp=21,As.file=0,As.gopher=70,As.http=80,As.https=443,As.ws=80,As.wss=443;var bs=/^(?:\.|%2e)$/i,Ts=/^(?:\.|%2e){2}$/i;function Ss(t){return bs.test(t)}function Es(t){return Ts.test(t)}function Is(t){return void 0!==As[t]}function Rs(t){return Is(t.X8)}function Ns(t){return""!==t.G8||""!==t.Q8}function Cs(t){var n=t.length;if(!(n>=2))return!1;if(!Ps(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ds(t){return 2===t.length&&qe.test(t[0])&&(":"===t[1]||"|"===t[1])}function Ps(t){return 2===t.length&&Ds(_u(t))}function Os(t){return Ds(t)&&":"===t[1]}function Bs(t){var n=t.K8;0!==n.length&&("file"===t.X8&&1===n.length&&Os(n[0])||n.pop())}function Ls(t){return null===t.j8||Ku===t.j8||t.Y8||"file"===t.X8}var Ms=-1,xs=/\t|\n|\r/g,Us=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Fs(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new Vs,t=t.replace(Us,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,c=!1,a=bu(t=t.replace(xs,"")),h=a.length,f=0;f<=h;){var d=f<h?a[f]:Ms;switch(e){case 0:if(!uu(d)){if(null===r){u.length=0,e=2;continue}throw new v("Invalid scheme")}u.push(au(d)),e=1;break;case 1:if(ou(d)||43===d||45===d||46===d)u.push(au(d));else{if(58!==d){if(null===r){u.length=0,e=2,f=0;continue}throw new v("Invalid scheme")}var l=Cu(u);if(null!==r){if(Is(i.X8)&&!Is(l))return;if(!Is(i.X8)&&Is(l))return;if((Ns(i)||null!==i.r6)&&"file"===l)return;if("file"===i.X8&&(i.j8===Ku||null===i.j8))return}if(i.X8=l,null!==r)return void(Rs(i)&&i.r6===As[i.X8]&&(i.r6=null));u.length=0,"file"===i.X8?e=13:Rs(i)&&n&&n.X8===i.X8?e=3:Rs(i)?e=7:47===a[f+1]?(e=4,f+=1):(i.Y8=!0,i.K8.push(""),e=18)}break;case 2:if(!n||n.Y8&&35!==d)throw new v("Invalid scheme");n.Y8&&35===d?(i.X8=n.X8,i.K8=n.K8.slice(),i.W8=n.W8,i.Z8="",i.Y8=!0,e=20):"file"!==n.X8?(e=5,f-=1):(e=13,f-=1);break;case 3:47===d&&47===a[f+1]?e=8:(e=5,f-=1);break;case 4:47===d?e=9:(e=17,f-=1);break;case 5:i.X8=n.X8,Ms===d?(i.G8=n.G8,i.Q8=n.Q8,i.j8=n.j8,i.r6=n.r6,i.K8=n.K8.slice(),i.W8=n.W8):47===d?e=6:63===d?(i.G8=n.G8,i.Q8=n.Q8,i.j8=n.j8,i.r6=n.r6,i.K8=n.K8.slice(),i.W8="",e=19):35===d?(i.G8=n.G8,i.Q8=n.Q8,i.j8=n.j8,i.r6=n.r6,i.K8=n.K8.slice(),i.W8=n.W8,i.Z8="",e=20):92===d&&Rs(i)?e=6:(i.G8=n.G8,i.Q8=n.Q8,i.j8=n.j8,i.r6=n.r6,i.K8=n.K8.slice(),i.K8.pop(),e=17,f-=1);break;case 6:!Rs(i)||47!==d&&92!==d?47===d?e=9:(i.G8=n.G8,i.Q8=n.Q8,i.j8=n.j8,i.r6=n.r6,e=17,f-=1):e=8;break;case 7:if(47!==d||47!==a[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==d&&92!==d&&(e=9,f-=1);break;case 9:if(64===d){s&&u.unshift(37,52,48),s=!0;for(var g=0;g<u.length;g++){var w=u[g];if(58!==w||c){var y=Cu(Wu(w,Vu));c?i.Q8+=y:i.G8+=y}else c=!0}u.length=0}else if(Ms===d||47===d||63===d||35===d||Rs(i)&&92===d){if(s&&0===u.length)throw new v("Invalid host");f-=u.length+1,u.length=0,e=10}else u.push(d);break;case 10:case 11:if(null!==r&&"file"===i.X8)f-=1,e=15;else if(58!==d||o)if(Ms===d||47===d||63===d||35===d||Rs(i)&&92===d){if(f-=1,Rs(i)&&0===u.length)throw new v("Invalid host");if(null!==r&&0===u.length&&(Ns(i)||null!==i.r6))return;var m=$u(Cu(u),Rs(i));if(i.j8=m,u.length=0,e=16,null!==r)return}else 91===d?o=!0:93===d&&(o=!1),u.push(d);else{if(0===u.length)throw new v("Invalid host");var p=$u(Cu(u),Rs(i));if(i.j8=p,u.length=0,e=12,11===r)return}break;case 12:if(su(d))u.push(d);else{if(!(Ms===d||47===d||63===d||35===d||Rs(i)&&92===d||null!==r))throw new v("Invalid port");if(0!==u.length){var k=_(Cu(u),10);if(k>65535)throw new v("Invalid port");i.r6=k===As[i.X8]?null:k,u.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.X8="file",47===d||92===d?e=14:n&&"file"===n.X8?Ms===d?(i.j8=n.j8,i.K8=n.K8.slice(),i.W8=n.W8):63===d?(i.j8=n.j8,i.K8=n.K8.slice(),i.W8="",e=19):35===d?(i.j8=n.j8,i.K8=n.K8.slice(),i.W8=n.W8,i.Z8="",e=20):(Cs(a.slice(f))||(i.j8=n.j8,i.K8=n.K8.slice(),Bs(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===d||92===d?e=15:(n&&"file"===n.X8&&!Cs(a.slice(f))&&(Os(n.K8[0])?i.K8.push(n.K8[0]):i.j8=n.j8),e=17,f-=1);break;case 15:if(Ms===d||47===d||92===d||63===d||35===d)if(f-=1,null===r&&Ps(u))e=17;else if(0===u.length){if(i.j8=Ku,null!==r)return;e=16}else{var A=$u(Cu(u),Rs(i));if(0===A.vJ&&"localhost"===A.U8&&(A=Ku),i.j8=A,null!==r)return;u.length=0,e=16}else u.push(d);break;case 16:Rs(i)?(e=17,47!==d&&92!==d&&(f-=1)):null===r&&63===d?(i.W8="",e=19):null===r&&35===d?(i.Z8="",e=20):Ms!==d&&(e=17,47!==d&&(f-=1));break;case 17:if(Ms===d||47===d||Rs(i)&&92===d||null===r&&(63===d||35===d)){var b=Cu(u);if(Es(b)?(Bs(i),47===d||Rs(i)&&92===d||i.K8.push("")):!Ss(b)||47===d||Rs(i)&&92===d?Ss(b)||("file"===i.X8&&0===i.K8.length&&Ps(u)&&(Ku!==i.j8&&null!==i.j8&&(i.j8=Ku),u[1]=58,b=Cu(u)),i.K8.push(b)):i.K8.push(""),u.length=0,"file"===i.X8&&(Ms===d||63===d||35===d))for(;i.K8.length>1&&""===i.K8[0];)i.K8.shift();63===d?(i.W8="",e=19):35===d&&(i.Z8="",e=20)}else u.push.apply(u,Wu(d,Hu));break;case 18:63===d?(i.W8="",e=19):35===d?(i.Z8="",e=20):Ms!==d&&(i.K8[0]+=Cu(Wu(d,Uu)));break;case 19:null===r&&35===d?(i.Z8="",e=20):Ms!==d&&(i.W8+=Cu(Wu(d,Rs(i)?zu:Xu)));break;case 20:Ms===d||0===d||(i.Z8+=Cu(Wu(d,Fu)))}f++}return i}function Hs(t,n,i,r){try{Fs(t,n,i,r)}catch(t){}}var Vs=function(){this.X8="",this.G8="",this.Q8="",this.j8=null,this.r6=null,this.K8=[],this.W8=null,this.Z8=null,this.Y8=!1};function Xs(t){switch(t.X8){case"blob":var n;try{n=Fs(t.K8[0],null)}catch(t){return ks}return Xs(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return function(t,n,i){return t+"://"+ts(n)+(null===i?"":":"+i)}(t.X8,t.j8,t.r6);default:return ks}}var zs,Ws,Gs,qs,Ys,js,Qs,Ks=function(){function t(t,n){var i,r=null;if(null!=n)if(function(t){return null!=t&&t instanceof Ks&&"object"==typeof t.V8}(n))r=n.V8;else try{r=Fs(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{i=Fs(String(t),r)}catch(t){throw new v("Invalid URL: "+t.message)}var e=i.W8;this.V8=i,this.W8=function(t){var n=new _s;return null!==t&&ds(n,t),n}(e),this.W8.V8=this}var n=t.prototype;return n.toString=function(){return this.href},n.toJSON=function(){return this.href},function(t,n,i){n&&ze(t.prototype,n),i&&ze(t,i)}(t,[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.X8+":";if(null!==t.j8?(i+="//",Ns(t)&&(i+=t.G8,""!==t.Q8&&(i+=":"+t.Q8),i+="@"),i+=ts(t.j8),null!==t.r6&&(i+=":"+t.r6)):null===t.j8&&"file"===t.X8&&(i+="//"),t.Y8)i+=t.K8[0];else for(var r=0,e=t.K8;r<e.length;r++)i+="/"+e[r];return null!==t.W8&&(i+="?"+t.W8),n||null===t.Z8||(i+="#"+t.Z8),i}(this.V8)},set:function(t){var n;try{n=Fs(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.V8=n,vs(this.W8);var i=this.V8.W8;null!==i&&ds(this.W8,i)}},{key:"origin",get:function(){return Xs(this.V8)}},{key:"protocol",get:function(){return this.V8.X8+":"},set:function(t){Hs(t+":",null,this.V8,0)}},{key:"username",get:function(){return this.V8.G8},set:function(t){Ls(this.V8)||(this.V8.G8=Gu(t,Vu))}},{key:"password",get:function(){return this.V8.Q8},set:function(t){Ls(this.V8)||(this.V8.Q8=Gu(t,Vu))}},{key:"host",get:function(){var t=this.V8,n=t.j8;if(null===n)return"";var i=t.r6,r=ts(n);return null!==i&&(r+=":"+i),r},set:function(t){this.V8.Y8||Hs(t,null,this.V8,10)}},{key:"hostname",get:function(){var t=this.V8.j8;return null===t?"":ts(t)},set:function(t){this.V8.Y8||Hs(t,null,this.V8,11)}},{key:"port",get:function(){var t=this.V8.r6;return null===t?"":""+t},set:function(t){Ls(this.V8)||(""===t?this.V8.r6=null:Hs(t,null,this.V8,12))}},{key:"pathname",get:function(){var t=this.V8.K8;return this.V8.Y8?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.V8.Y8||(this.V8.K8.length=0,Hs(t,null,this.V8,16))}},{key:"search",get:function(){var t=this.V8.W8;return null===t||""===t?"":"?"+t},set:function(t){t=os(t);var n=this.V8;if(""===t)return n.W8=null,void vs(this.W8);"?"===t[0]&&(t=t.slice(1)),n.W8="",Hs(t,null,n,19),ds(this.W8,t)}},{key:"searchParams",get:function(){return this.W8}},{key:"hash",get:function(){var t=this.V8.Z8;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.V8.Z8="",Hs(t,null,this.V8,20)):this.V8.Z8=null}}]),t}();function Zs(t){return t.document&&t.document.baseURI||t.location.href||""}function Js(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function $s(t){if(t)for(var n;Cr(n=t.firstChild);)t.removeChild(n)}function to(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}function no(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}function io(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=to(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&no(t,(i+" "+n).trim())}}function ro(t){t.stopPropagation()}function eo(t,n){Ir._R&&Ir.vR<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function uo(t){return new $((function(n,i){var r=e.createElement("script");r.onload=function(){return n()},r.onerror=function(t){return i((null==t?void 0:t.error)||t)},r.type="text/javascript",r.src=t,(e.head||e.documentElement).appendChild(r)}))}function so(t,n){var i=n.style;if(i)for(var r=0,e=d.keys(t);r<e.length;r++){var u=e[r],s=t[u];void 0!==s&&(i[u]=s)}}function oo(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function co(t){t.removeAttribute("title")}function ao(t){return"video"===function(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||""}(t)}function ho(t){t.src&&(t.removeAttribute("src"),t.load()),t.srcObject&&(t.srcObject=null,t.load())}function fo(){return void 0!==e?e.createElement("video"):void 0}function vo(){return Qs||(Qs=fo()),Qs}var lo=!!("ontouchstart"in self||self.DocumentTouch&&e instanceof self.DocumentTouch)||!(!s||!s.msMaxTouchPoints),_o=vo(),go=!(!_o||!_o.webkitShowPlaybackTargetPicker),wo=function(){function t(){this.t9=void 0,this.d9=!1,this.Ye=lo,this.Ks=!1,this.K6=!0}var n=t.prototype;return n.e9=function(){return 0},n.c9=function(t,n){return!0},n.l9=function(t){return t>=2*He},hr(t,[{key:"J8",get:function(){return void 0===this.t9&&(this.t9=this.e9()),this.t9}},{key:"i9",get:function(){return!Ir.KR}},{key:"s9",get:function(){if(r.screen)return{width:r.screen.width,height:r.screen.height}}},{key:"C0",get:function(){return r.devicePixelRatio||1}},{key:"n9",get:function(){return go}},{key:"l0",get:function(){return!1}},{key:"n0",get:function(){return!0}},{key:"Lw",get:function(){return Ir.MR||Ir.KP}},{key:"r9",get:function(){return!Ir.KP}},{key:"wL",get:function(){return!0}},{key:"Mw",get:function(){return!0}},{key:"Ow",get:function(){return!1}},{key:"h9",get:function(){}},{key:"o9",get:function(){return!0}},{key:"bY",get:function(){return!1}},{key:"a9",get:function(){return!1}},{key:"u9",get:function(){return Ir.yR}}]),t}(),yo=function(){var t=fo();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(Ir.zP)return!1;var t=fo();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var mo=function(t){function n(n){var i;return(i=t.call(this)||this).f9=n,i.f9&&(i.d9=i.f9.d9,i.Ye=i.f9.Ye,i.K6=yo&&i.f9.K6),i}vr(n,t);var i=n.prototype;return i.e9=function(){return this.f9?this.f9.J8:t.prototype.e9.call(this)},i.c9=function(n,i){return this.f9?this.f9.c9(n,i):t.prototype.c9.call(this,n,i)},i.l9=function(n){return this.f9?this.f9.l9(n):t.prototype.l9.call(this,n)},hr(n,[{key:"h9",get:function(){var t;return null==(t=this.f9)?void 0:t.h9}},{key:"o9",get:function(){var t,n;return null==(n=null==(t=this.f9)?void 0:t.o9)||n}}]),n}(wo),po=function(t){function n(n){var i;return(i=t.call(this,n)||this).d9=!0,i.Ks=!0,i}return vr(n,t),hr(n,[{key:"Ow",get:function(){return Ir.KP}}]),n}(mo),ko=function(){function t(t){this.AZ=Ao(t)}var n=t.prototype;return n.yZ=function(){return new this.AZ},n.bZ=function(t){return this.AZ.isTypeSupported(t)},t}();function Ao(t){return t&&"function"==typeof qs.ManagedMediaSource?qs.ManagedMediaSource:"function"==typeof qs.MediaSource?qs.MediaSource:void 0}var bo=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),n.prototype.e9=function(){return Ao(!0)?t.prototype.e9.call(this):1},hr(n,[{key:"Ow",get:function(){return!0}}]),n}(po),To=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),n.prototype.c9=function(n,i){return t.prototype.c9.call(this,n,i)},hr(n,[{key:"l0",get:function(){return Ir.vR<3}},{key:"n0",get:function(){return Ir.vR>=3}},{key:"s9",get:function(){var t=this;return r.tizen&&!this._9&&r.tizen.systeminfo.getPropertyValue("DISPLAY",(function(n){var i=n.resolutionWidth,r=n.resolutionHeight;1===i&&1===r||(t._9={width:i,height:r})})),this._9}},{key:"bY",get:function(){return Ir.vR<3}},{key:"a9",get:function(){return!0}}]),n}(mo),So=function(t){function n(){return t.call(this)}return vr(n,t),n}(wo),Eo=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),n.prototype.c9=function(t,n){if(t&&t.g9&&n&&n.g9){var i=Io(t.g9,"mp4a.40.2")&&Io(n.g9,"mp4a.40.5"),r=Io(t.g9,"mp4a.40.5")&&Io(n.g9,"mp4a.40.2"),e=Io(t.g9,"mp4a.40.2")&&Io(n.g9,"mp4a.40.34"),u=Io(t.g9,"mp4a.40.34")&&Io(n.g9,"mp4a.40.2"),s=Io(t.g9,"mp4a.40.5")&&Io(n.g9,"mp4a.40.34"),o=Io(t.g9,"mp4a.40.34")&&Io(n.g9,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},hr(n,[{key:"h9",get:function(){if(Ir.PP)return 4096}}]),n}(So);function Io(t,n){return t.indexOf(n)>-1}var Ro=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),n.prototype.l9=function(t){return t>=2},n}(So),No=function(t){function n(){var n;return(n=t.call(this)||this).d9=Ir.UR>=11,n.K6=Ir.MR&&!(Ir.KP&&Ir.UR<10),n}return vr(n,t),n}(So),Co=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),hr(n,[{key:"s9",get:function(){var t=this;return r.webOS&&!this._9&&r.webOS.deviceInfo((function(n){t._9={width:n.screenWidth,height:n.screenHeight}})),this._9}},{key:"wL",get:function(){return!1}},{key:"a9",get:function(){return!0}}]),n}(mo),Do=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),hr(n,[{key:"o9",get:function(){return!Ir.CP||(Ir.cR?92!==Ir.dR:Ir.aR>=100)}}]),n}(So),Po=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),hr(n,[{key:"Ow",get:function(){return!0}}]),n}(mo),Oo=function(){function t(){this.y9=new Bo,this.b9=function(){var t=function(){if(Ir.DR)return new Eo;if(Ir.bR||Ir.kR)return new Ro;if(Ir.MR)return new No;if(Ir.hR)return new Do;return new So}();return Ir.KP?new bo(t):Ir.Ks?new po(t):Ir._R?new To(t):Ir.mR?new Co(t):Ir.PP?new Po(t):new mo(t)}(),this.A9=function(){if(self.URL)try{var t=new self.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href}catch(t){}return!1}(),self.performance&&self.performance.now?this.V_=function(){return self.performance.now()}:this.V_=xe}var n=t.prototype;return n.v9=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Zr.apply(void 0,_r(n))},n.Um=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Jr.apply(void 0,_r(n))},n.w9=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];$r.apply(void 0,_r(n))},n.m9=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];te.apply(void 0,[t].concat(_r(i)))},n.q_=function(t,n){return o(t,n)},n.hZ=function(t,n){return a(t,n)},n.W_=function(t){c(t)},n.aZ=function(t){h(t)},n.bN=function(){return this.p9.bN()},n.gN=function(){return this.p9.gN()},n.wN=function(){return this.p9.wN()},n.vN=function(){return this.p9.vN()},n.fN=function(){return this.p9.fN()},n.pN=function(t,n){return this.p9.pN(t,n)},n._N=function(t){return this.p9._N(t)},n.Rh=function(t,n){var i;return void 0===n&&(n=Zs(qs)),i="object"!=typeof n||n instanceof Ks?n:n.href,new Ks(t,i)},n.Fm=function(t,n){if(void 0===n&&(n=Zs(qs)),this.A9){var i=Mr(n)?n:n.toString();return new self.URL(t,i).href}return this.Rh(t,n).href},hr(t,[{key:"cL",get:function(){return this.y9}},{key:"Zs",get:function(){return this.b9}},{key:"Uw",get:function(){return{Fw:s&&s.userAgent.match(/Android /i)?"Android":"other",Hw:Boolean(s&&s.userAgent.match(/Android 8.0.0/i))}}},{key:"tq",get:function(){return self&&self.location&&"https:"===self.location.protocol}},{key:"T9",get:function(){return"languages"in s?s.languages.slice():[s.language]}}]),t}(),Bo=function(){function t(){}return hr(t,[{key:"lL",get:function(){return s.oscpu}},{key:"Zs",get:function(){return s.platform}},{key:"dL",get:function(){return s.vendor}},{key:"fL",get:function(){return s.vendorSub}}]),t}();function Lo(t,n,i,r,e,u,s){try{var o=t[u](s),c=o.value}catch(t){return void i(t)}o.done?n(c):$.resolve(c).then(r,e)}function Mo(t){return function(){var n=this,i=arguments;return new $((function(r,e){var u=t.apply(n,i);function s(t){Lo(u,r,e,s,o,"next",t)}function o(t){Lo(u,r,e,s,o,"throw",t)}s(void 0)}))}}function xo(){return xo=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)d.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},xo.apply(this,arguments)}function Uo(t,n){var i,r,e,u,s={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return u={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function o(o){return function(c){return function(o){if(i)throw new v("Generator is already executing.");for(;u&&(u=0,o[0]&&(s=0)),s;)try{if(i=1,r&&(e=2&o[0]?r.return:o[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,o[1])).done)return e;switch(r=0,e&&(o=[2&o[0],e.value]),o[0]){case 0:case 1:e=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(e=s.trys,(e=e.length>0&&e[e.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!e||o[1]>e[0]&&o[1]<e[3])){s.label=o[1];break}if(6===o[0]&&s.label<e[1]){s.label=e[1],e=o;break}if(e&&s.label<e[2]){s.label=e[2],s.ops.push(o);break}e[2]&&s.ops.pop(),s.trys.pop();continue}o=n.call(t,s)}catch(t){o=[6,t],r=0}finally{i=e=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function Fo(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var r,e,u=[],s=!0,o=!1;try{for(i=i.call(t);!(s=(r=i.next()).done)&&(u.push(r.value),!n||u.length!==n);s=!0);}catch(t){o=!0,e=t}finally{try{s||null==i.return||i.return()}finally{if(o)throw e}}return u}}(t,n)||lr(t,n)||function(){throw new v("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ho(){var t=d.create(null);return t.S_=void 0,delete t.S_,t}function Vo(){return new qo}function Xo(){return new jo}function zo(t){var n=Vo();for(var i in t)Rr.call(t,i)&&n.set(i,t[i]);return n}function Wo(t){var n=[];return t.forEach((function(t){return n.push(t)})),n}var Go="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,qo=Go||function(){var t=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=d.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}();return function(){function n(){this.data=Ho(),this.size=0}var i=n.prototype;return i.get=function(t){return this.data[t]},i.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},i.has=function(t){return t in this.data},i.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},i.clear=function(){this.data=Ho(),this.size=0},i.keys=function(){return new t(this.data,(function(t,n){return n}))},i.values=function(){return new t(this.data,(function(t,n){return t[n]}))},i.entries=function(){return new t(this.data,(function(t,n){return[n,t[n]]}))},i.forEach=function(t){for(var n in this.data)t(this.data[n],n)},n}()}();var Yo,jo=Go||function(){var t=function(){function t(t,n){this.k_=t,this.E_=n}return t.prototype.next=function(){var t=this.k_.next();return t.done?t:{value:this.E_(t.value),done:!1}},t}();return function(){function n(){this.I_=Vo()}var i=n.prototype;return i.get=function(t){return this.I_.get(""+t)},i.set=function(t,n){return this.I_.set(""+t,n),this},i.has=function(t){return this.I_.has(""+t)},i.delete=function(t){return this.I_.delete(""+t)},i.clear=function(){this.I_.clear()},i.keys=function(){return new t(this.I_.keys(),(function(t){return Number(t)}))},i.values=function(){return this.I_.values()},i.entries=function(){return new t(this.I_.entries(),(function(t){var n=Fo(t,2),i=n[0],r=n[1];return[Number(i),r]}))},i.forEach=function(t){this.I_.forEach((function(n,i){t(n,Number(i))}))},hr(n,[{key:"size",get:function(){return this.I_.size}}]),n}()}();!function(t){t.jm="9a04f079-9840-4286-ab92-e65be0885f95",t.Ym="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.Jm="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.Zm="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Yo||(Yo={}));var Qo,Ko="urn:mpeg:dash:mp4protection:2011",Zo="cenc",Jo="sinf",$o="skd",tc="9a04f079-9840-4286-ab92-e65be0885f95",nc="urn:uuid:"+tc,ic="com.microsoft.playready",rc="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ec="urn:uuid:"+rc,uc="com.widevine.alpha",sc="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",oc="urn:uuid:"+sc,cc="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",ac="urn:uuid:"+cc,hc="com.apple.fps.1_0",fc="com.apple.streamingkeydelivery",vc="identity";!function(t){t.jm="playready",t.Ym="widevine",t.Zm="fairplay",t.Jm="clearkey",t.$m="aes128"}(Qo||(Qo={}));var dc={Iw:Qo.jm,dC:ic,fC:"cenc",_C:tc,gC:nc,vC:"PlayReady"},lc={Iw:Qo.Ym,dC:uc,fC:"cenc",_C:rc,gC:ec,vC:"Widevine"},_c={Iw:Qo.Zm,dC:hc,fC:"skd",_C:cc,gC:ac,vC:"FairPlay"},gc={Iw:Qo.Zm,dC:"com.apple.fps",fC:"sinf",_C:cc,gC:ac,vC:"FairPlay"},wc={Iw:Qo.Jm,dC:"org.w3.clearkey",fC:"cenc",_C:sc,gC:oc,vC:"ClearKey"},yc=[dc,lc,_c,wc];function mc(t){return yc.filter((function(n){return n.gC===t.toLowerCase()}))}var pc="function"==typeof String.prototype.replaceAll?function(t,n,i){return t.replaceAll(n,i)}:function(t,n,i){return t.split(n).join(i)};function kc(t,n){return Cr(t)&&-1!==t.indexOf(n)}var Ac="function"==typeof String.prototype.startsWith?function(t,n){return Cr(t)&&t.startsWith(n)}:function(t,n){return Cr(t)&&t.substr(0,n.length)===n},bc="function"==typeof String.prototype.endsWith?function(t,n){return Cr(t)&&t.endsWith(n)}:function(t,n){return Cr(t)&&t.substr(t.length-n.length,n.length)===n};function Tc(t,n){return t.length===n.length&&t.toUpperCase()===n.toUpperCase()}var Sc="function"==typeof String.prototype.repeat?function(t,n){return t.repeat(n)}:function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e},Ec="function"==typeof String.prototype.padStart?function(t,n,i){return void 0===i&&(i=" "),t.padStart(n,i)}:function(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=Sc(r,e/r.length)),r.slice(0,e)+t)},Ic=(String.prototype.padEnd,16384),Rc="function"==typeof String.fromCodePoint?function(t){var n;return t.length<=Ic?(n=String).fromCodePoint.apply(n,_r(t)):Cc(t,String.fromCodePoint)}:function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Nc(n)};function Nc(t){var n;return t.length<=Ic?(n=String).fromCharCode.apply(n,_r(t)):Cc(t,String.fromCharCode)}function Cc(t,n){for(var i=[],r=0;r<t.length;r+=Ic)i.push(n.apply(void 0,_r(t.slice(r,r+Ic))));return i.join("")}function Dc(t){return t.replace(/[\\"]/g,(function(t){return"\\"+t}))}var Pc=Ir.hR&&Ir.aR>=42||Ir.DR&&Ir.LR>=38||Ir.bR||Ir.IR||Ir.WR&&Ir.zR>=29;function Oc(t,n){return kc(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[xo({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[xo({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Bc(){return void 0!==s&&"function"==typeof s.requestMediaKeySystemAccess}function Lc(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Mc,xc=function(){function t(t){this.mN=Vo(),this.TN=void 0,this.AN=t}var n=t.prototype;return n.fN=function(){return this._N(lc)},n.gN=function(){return this._N(wc)},n.vN=function(){return this._N(dc)},n.wN=function(){return this._N(_c)},n._N=function(t){var n=t.gC,i=this.mN.get(n);if(i)return i;var r=this.pN(t,'video/mp4; codecs="avc1.42000a"');return this.mN.set(n,r),r},n.pN=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,i.AN.yN(t.dC,[Oc(n,!0)])];case 1:return r.sent(),[2,!0];case 2:r.sent(),r.label=3;case 3:return r.trys.push([3,5,,6]),[4,i.AN.yN(t.dC,[Oc(n,!1)])];case 4:return r.sent(),[2,!0];case 5:return r.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}}))}))()},n.bN=function(){return this.TN||(this.TN=this.SN()),this.TN},n.SN=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return"https:"===Ys.protocol?[2,!1]:Pc?[4,t.gN()]:[2,!1];case 1:return n.sent()?[2,!1]:[2,!0]}}))}))()},t}();function Uc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fc(t,n){return Vc(t.slice(),n)}function Hc(t,n){var i=Vc(t,n);return i!==t&&Xc(i,void 0,t.length,t),t}function Vc(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){Xc(i,n,u,e);var s=i;i=e,e=s}return i}function Xc(t,n,i,r){var e,u,s,o,c,a=t.length,h=0,f=2*i;for(u=0;u<a;u+=f)for(e=(s=u+i)+i,s>a&&(s=a),e>a&&(e=a),o=u,c=s;;)if(o<s&&c<e)n&&n(t[o],t[c])<=0?r[h++]=t[o++]:r[h++]=t[c++];else if(o<s)r[h++]=t[o++];else{if(!(c<e))break;r[h++]=t[c++]}}!function(t){t[t.ih=0]="ih",t[t.b_=1]="b_",t[t.T_=-1]="T_"}(Mc||(Mc={}));var zc=function(t,n){return(0|t)-(0|n)},Wc=function(t,n){return t===n?0:t<n?-1:t>n?1:w(t)?w(n)?0:1:-1};function Gc(t,n,i){return De(t,n,i)?0:Wc(t,n)}var qc=function(t,n){return function(t,n){if(t===n)return!0;var i=l.abs(t-n);return i<Ne||i<l.max(l.abs(t),l.abs(n))*Ne}(t,n)?0:Wc(t,n)};var Yc="function"==typeof Array.prototype.find?function(t,n){return t.find(n)}:function(t,n){var i=Zc(t,n);return-1===i?void 0:t[i]},jc=Yc,Qc="function"==typeof Array.prototype.findLast?function(t,n){return t.findLast(n)}:function(t,n){var i=Jc(t,n);return-1===i?void 0:t[i]},Kc=Qc,Zc="function"==typeof Array.prototype.findIndex?function(t,n){return t.findIndex(n)}:function(t,n){for(var i=0;i<t.length;i+=1){if(n(t[i],i,t))return i}return-1},Jc="function"==typeof Array.prototype.findLastIndex?function(t,n){return t.findLastIndex(n)}:function(t,n){for(var i=t.length-1;i>=0;i-=1){if(n(t[i],i,t))return i}return-1};function $c(t,n){var i=t.indexOf(n);return-1!==i&&(ta(t,i),!0)}function ta(t,n){0===n?t.shift():t.splice(n,1)}function na(t,n){for(var i=new Array(t.length),r=0,e=0;e<t.length;){if(t[e]===n){e++,i.length-=1;break}i[r++]=t[e++]}for(;e<t.length;)i[r++]=t[e++];return i}function ia(t,n){return-1!==t.indexOf(n)}function ra(t,n,i){if(t===n)return!0;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r+=1)if(!i(t[r],n[r]))return!1;return!0}function ea(t){t.length=0}function ua(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!ia(n,t[i]))return!1}return!0}Array.prototype.flat;var sa="function"==typeof Array.prototype.flatMap?function(t,n){return t.flatMap(n)}:function(t,n){for(var i=[],r=0;r<t.length;r++){var e;(e=i).push.apply(e,_r(n(t[r],r)))}return i};function oa(t,n){return aa(t,(function(t,i){return Wc(n(t),n(i))}))}function ca(t,n){return ha(t,(function(t,i){return Wc(n(t),n(i))}))}function aa(t,n){if(0!==t.length)return t.reduce((function(t,i){return n(t,i)<=0?t:i}))}function ha(t,n){return aa(t,(function(t,i){return n(i,t)}))}function fa(t){return t.filter((function(n,i){return t.indexOf(n)===i}))}function va(t,n){return $.all(t.map(n)).then((function(n){return t.filter((function(t,i){return n[i]}))}))}function da(t,n){return la.apply(this,arguments)}function la(){return la=Mo((function(t,n){var i,r;return Uo(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))})),la.apply(this,arguments)}function _a(){return _a=Mo((function(t,n){var i,r;return Uo(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(!e.sent())return[2,!1];e.label=3;case 3:return i++,[3,1];case 4:return[2,!0]}}))})),_a.apply(this,arguments)}function ga(t,n,i){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!i(t[r],n[r]))return!1;return!0}var wa=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];f.apply(this,n)};(wa.prototype=d.create(f.prototype)).constructor=wa;var ya=function(t){function n(n,i){var r;return(r=t.call(this)||this).message=n||"Unknown error",r.cause=i,f.captureStackTrace&&f.captureStackTrace(Uc(r),r.constructor),r}return vr(n,t),hr(n,[{key:"name",get:function(){return"BaseError"}}]),n}(wa),ma=function(){function t(){this.R_=!1,this.C_=!1,this.x_=[],this.D_=[]}var n=t.prototype;return n.P_=function(){if(!this.R_&&!this.C_){this.R_=!0;for(var t=0,n=this.x_.slice();t<n.length;t++){(0,n[t])()}this.Ou()}},n.Ou=function(){if(!this.C_){this.C_=!0;for(var t=0,n=this.D_.slice();t<n.length;t++){(0,n[t])()}ea(this.x_),ea(this.D_)}},n.N_=function(t){this.C_||this.x_.push(t)},n.B_=function(t){this.C_||$c(this.x_,t)},n.L_=function(t){this.C_||this.D_.push(t)},n.O_=function(t){this.C_||$c(this.D_,t)},t}(),pa=function(){function t(){this.F_=new ma}var n=t.prototype;return n.Jl=function(){this.F_.P_()},n.Ou=function(){this.F_.Ou()},n.U_=function(t){var n=this.F_;if(!n.R_)if(t.R_)n.P_();else if(!n.C_&&!t.C_){var i=function(){r(),n.P_()},r=function(){t.B_(i),t.O_(r),n.B_(i),n.O_(r)};t.N_(i),t.L_(r),n.N_(i),n.L_(r)}},n.H_=function(){var n=new t,i=new t,r=n.M_,e=i.M_,u=this.F_,s=function(){r.R_&&e.C_||e.R_&&r.C_?u.P_():r.C_&&e.C_&&u.Ou()};r.N_(s),e.N_(s),r.L_(s),e.L_(s),n.U_(u),i.U_(u);return u.L_((function(){r.B_(s),e.B_(s),r.O_(s),e.O_(s)})),[n,i]},hr(t,[{key:"M_",get:function(){return this.F_}}]),t}(),ka=function(t){function n(n,i){return t.call(this,n||"Aborted",i)}return vr(n,t),hr(n,[{key:"name",get:function(){return"AbortError"}}]),n}(ya);function Aa(t){return t instanceof f&&"AbortError"===t.name}function ba(t){if(t&&t.R_)throw new ka}function Ta(t){if(Aa(t))throw t}function Sa(t){if(!Aa(t))throw t}function Ea(t,n){return n?new $((function(i,r){if(n.R_)return t.catch(Vr),r(new ka);var e=function(){n.B_(e),r(new ka)};n.N_(e),t.then((function(t){n.B_(e),i(t)}),(function(t){n.B_(e),r(t)}))})):t}function Ia(t,n){return t.then((function(t){return n.Ou(),t}),(function(t){throw n.Ou(),t}))}function Ra(t,n){var i=new pa;return n&&i.U_(n),Ia(t(i.M_),i)}var Na=$.resolve(),Ca="function"==typeof queueMicrotask?queueMicrotask:function(t){Na.then(t)};function Da(t){t.then(Vr,Vr)}function Pa(t){return Oa.apply(this,arguments)}function Oa(){return Oa=Mo((function(t){var n;return Uo(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,$.all(t)];case 1:return[2,i.sent()];case 2:return n=i.sent(),[4,$.all(t.map((function(t){return t.catch(Vr)})))];case 3:throw i.sent(),n;case 4:return[2]}}))})),Oa.apply(this,arguments)}function Ba(t,n){return new $((function(i,r){if(void 0!==n&&n.R_)r(new ka);else{var e=tr.q_((function(){void 0!==n&&n.B_(u),i()}),t),u=function(){tr.W_(e),r(new ka)};void 0!==n&&n.N_(u)}}))}function La(t,n){return Ra((function(i){return $.race([t,Ba(n,i).then((function(){throw new f("Timeout")}))])}))}function Ma(t,n,i){if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var xa,Ua=function(){function t(t){var n=this;this.X_=Ho(),this.K_=void 0,this.G_=0,this.Os=function(t){n.To(t)},this.j_=null!=t?t:this}var n=t.prototype;return n.wn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.z_(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.z_(r,n)}},n.z_=function(t,n){var i=this.X_[t];void 0===i?this.X_[t]=n:"function"==typeof i?this.X_[t]=[i,n]:0===this.G_?i.push(n):this.X_[t]=i.concat(n)},n.Q_=function(t){if("function"==typeof t){var n=this.K_;void 0===n?this.K_=t:"function"==typeof n?this.K_=[n,t]:0===this.G_?n.push(t):this.K_=n.concat(t)}},n.Lo=function(){this.X_=Ho(),this.K_=void 0},n.To=function(t){this.G_++;var n=this.X_[t.type],i=this.K_;void 0!==n&&Ma(this.j_,t,n),void 0!==i&&Ma(this.j_,t,i),this.G_--},n.pn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Y_(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Y_(r,n)}},n.Y_=function(t,n){var i=this.X_[t];void 0!==i&&("function"==typeof i?i===n&&(this.X_[t]=void 0):0===this.G_?$c(i,n):this.X_[t]=na(i,n))},n.Z_=function(t){if("string"==typeof t)this.X_[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.X_[i]=void 0}},n.J_=function(t){var n=this.K_;void 0!==n&&("function"==typeof n?n===t&&(this.K_=void 0):0===this.G_?$c(n,t):this.K_=na(n,t))},n.eg=function(t,n){var i=this;return new $((function(r,e){if(n&&n.R_)return e(new ka);var u=function(t){o(),r(t)},s=function(){o(),e(new ka)},o=function(){i.pn(t,u),n&&n.B_(s)};i.wn(t,u),n&&n.N_(s)}))},t}(),Fa=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),n.prototype.To=function(n){var i=this;Ca((function(){t.prototype.To.call(i,n)}))},n}(Ua),Ha=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.Q_=function(n){t.prototype.Q_.call(this,n)},i.J_=function(n){t.prototype.J_.call(this,n)},n}(Ua),Va=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Xa=["cenc"],za=["cbcs","cbcs-1-9"],Wa=function(t){function n(n){var i;return(i=t.call(this,"wC")||this).mC=n,i}return vr(n,t),n}(Va),Ga=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"pC")||this).mC=n,u.yC=i,u.pC=r,u.AC=e,u}return vr(n,t),n}(Va),qa=function(t){function n(){return t.call(this,"lt")}return vr(n,t),n}(Va);!function(t){t.Yw="bC",t.TC="SC"}(xa||(xa={}));var Ya=function(t){function n(n,i){var r;return(r=t.call(this,"bC")||this).fC=n,r.kC=i,r}return vr(n,t),n}(Va),ja=function(t){function n(){return t.call(this,"SC")}return vr(n,t),n}(Va),Qa=new y([0]).buffer,Ka=function(){function t(){this.EC=[]}var n=t.prototype;return n.IC=function(t){for(var n=0,i=this.EC;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.RC=function(t){for(var n=0,i=this.EC;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.xC=function(t,n){this.EC.forEach((function(n){return t(n[1],n[0])}),n)},n.DC=function(t,n){this.EC.push([t,n])},n.NC=function(){ea(this.EC)},hr(t,[{key:"iA",get:function(){return this.EC.length}}]),t}(),Za="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Ja=16383,$a=/[\t\n\f\r ]/g;function th(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:nh()}function nh(){throw new f("Invalid base64 input")}function ih(t){var n=t;$a.test(n)&&(n=n.replace($a,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return nh();for(var e,u=0===r?0:4-r,s=new y(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,c=0,a=0;c<o;c+=4)e=th(n.charCodeAt(c))<<18|th(n.charCodeAt(c+1))<<12|th(n.charCodeAt(c+2))<<6|th(n.charCodeAt(c+3)),s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return 2===u?(e=th(n.charCodeAt(c))<<2|th(n.charCodeAt(c+1))>>4,s[a++]=255&e):1===u&&(e=th(n.charCodeAt(c))<<10|th(n.charCodeAt(c+1))<<4|th(n.charCodeAt(c+2))>>2,s[a++]=e>>8&255,s[a++]=255&e),s}function rh(t,n,i){return Za[t>>2]+Za[(3&t)<<4|n>>4]+Za[(15&n)<<2|i>>6]+Za[63&i]}function eh(t,n,i){for(var r=[],e=n;e<i;e+=3)r.push(rh(t[e],t[e+1],t[e+2]));return r.join("")}function uh(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=Ja)r.push(eh(t,u,l.min(e,u+Ja)));if(1===i){var s=t[n-1];r.push(Za[s>>2]+Za[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],c=t[n-1];r.push(Za[o>>2]+Za[(3&o)<<4|c>>4]+Za[(15&c)<<2]+"=")}return r.join("")}function sh(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]/g,"")}var oh=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],ch=ArrayBuffer.isView||function(t){return t&&ia(oh,Nr.call(t))};function ah(t,n){return t===n||t.byteLength===n.byteLength&&hh(new y(t),new y(n))}function hh(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function fh(t){var n=t.reduce((function(t,n){return t+n.byteLength}),0);return vh(t,n)}function vh(t,n){for(var i=new y(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}function dh(t,n,i){var r=new y(t.byteLength+n.byteLength),e=hf(t,0,i),u=hf(t,i);return r.set(e),r.set(n,i),r.set(u,i+n.byteLength),r}function lh(t){return ih(t).buffer}function _h(t){return uh(new y(t))}function gh(t){return uh(nf(t))}function wh(t,n){var i=n.Au,r=t.getUint8(i>>3),e=1<<7-(7&i);return n.Ey(1),(r&e)===e?1:0}function yh(t,n,i){for(var r=0,e=0;e<i;e++)r=2*r+wh(t,n);return r}var mh=function(){function t(t){void 0===t&&(t=0),this.mc=t}var n=t.prototype;return n.Ey=function(t){this.mc+=t},n.gc=function(t){this.mc=t},n.Iy=function(){return new t(this.Au)},hr(t,[{key:"Au",get:function(){return this.mc}}]),t}();var ph=l.clz32||function(t){var n=32,i=t>>16;return i&&(n-=16,t=i),(i=t>>8)&&(n-=8,t=i),(i=t>>4)&&(n-=4,t=i),(i=t>>2)&&(n-=2,t=i),(i=t>>1)?n-2:n-t};function kh(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ah(t,n){return t>>n&63|128}function bh(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(kh(t),n.push(t>>12&15|224),n.push(Ah(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ah(t,12)),n.push(Ah(t,6))),n.push(63&t|128)):n.push(t)}function Th(t,n){if(n.Au>=t.length)throw new f("Invalid byte index");var i=255&t[n.Au];if(n.Ey(1),128==(192&i))return 63&i;throw new f("Invalid continuation byte")}function Sh(t,n){var i=n.Au;if(i>t.length)throw new f("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.Ey(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|Th(t,n);if(e>=128)return e;throw new f("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|Th(t,n)<<6|Th(t,n);if(u>=2048)return kh(u),u;throw new f("Invalid continuation byte")}if(240==(248&r)){var s=(7&r)<<18|Th(t,n)<<12|Th(t,n)<<6|Th(t,n);if(s>=65536&&s<=1114111)return s}throw new f("Invalid UTF-8 detected")}var Eh=65279;var Ih=[128,64,32,16,8,4,2,1],Rh=function(){function t(t){this.Cy=t}return t.prototype.Ry=function(t){return Nh(this.Cy,t)},t}();function Nh(t,n){return(t&n)===n}function Ch(t,n){return Nh(t,Ih[n])}function Dh(t,n){var i=t.getUint8(n.Au);return n.Ey(1),i}function Ph(t,n,i){t.setUint8(n.Au,i),n.Ey(1)}function Oh(t,n,i){var r=hf(df(t),n.Au,n.Au+i);return n.Ey(r.byteLength),r}function Bh(t,n,i){df(t).set(df(i),n.Au),n.Ey(i.byteLength)}function Lh(t,n,i){return n.Au+i<=t.byteLength}function Mh(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,u=0;u<i;u++)r+=Dh(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+Dh(t,n);return r}(t,n,i)}function xh(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.Au,i);return n.Ey(2),r}function Uh(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.Au,i,r),n.Ey(2)}function Fh(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.Au,i);return n.Ey(4),r}function Hh(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.Au,i,r),n.Ey(4)}function Vh(t,n,i){void 0===i&&(i=!1);var r=Fh(t,n,i),e=Fh(t,n,i),u=i?e:r,s=i?r:e;return Ee.fromBits(s,u,!0)}function Xh(t,n,i,r){void 0===r&&(r=!1);var e=i.getHighBitsUnsigned(),u=i.getLowBitsUnsigned(),s=r?e:u;Hh(t,n,r?u:e,r),Hh(t,n,s,r)}function zh(t,n){return qh(t,n)}function Wh(t,n,i){return Nc(yf(Oh(t,n,i)))}function Gh(t,n){var i,r=Dh(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&Dh(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Dh(t,n))+(63&Dh(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Dh(t,n))+64*(63&Dh(t,n))+(63&Dh(t,n))),i}function qh(t,n){return Yh(t,n,!0)}function Yh(t,n,i){for(var r=[];n.Au<t.byteLength;){var e=Dh(t,n);if(i&&!e)break;r.push(e)}return Nc(r)}function jh(t,n,i){for(var r=i.length,e=0;e<r;e+=1){Ph(t,n,i.charCodeAt(e))}}function Qh(t,n){if(n.Au+2<=t.byteLength){var i=t.getUint8(n.Au),r=t.getUint8(n.Au+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function Kh(t,n){var i=Qh(t,n);return void 0!==i&&n.Ey(2),Zh(t,n,!0===i)}function Zh(t,n,i){return void 0===i&&(i=!1),Jh(t,n,i,!0)}function Jh(t,n,i,r){for(var e=[];n.Au+2<=t.byteLength;){var u=xh(t,n,i);if(r&&!u)break;e.push(u)}return Nc(e)}function $h(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){Uh(t,n,i.charCodeAt(u),r)}}function tf(t){return Yh(vf(t),new mf,!1)}function nf(t){var n=new y(t.length);return jh(vf(n),new mf,t),n}function rf(t,n){return void 0===n&&(n=!1),Jh(vf(t),new mf,n,!1)}function ef(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return $h(vf(i),new mf,t,n),i}function uf(t,n){return n.Au+3<=t.byteLength&&(239===t.getUint8(n.Au)&&187===t.getUint8(n.Au+1)&&191===t.getUint8(n.Au+2))}function sf(t,n){return function(t,n,i){var r=[],e=uf(t,n);e&&n.Ey(3);for(;n.Au<t.byteLength;){var u=Gh(t,n);if(void 0===u)break;if(i&&0===u)break;r.push(u)}return Rc(r)}(t,n,!0)}function of(t){return function(t){return Rc(t)}(function(t,n){var i,r=[],e=new mf;if(!n){if(!1===(i=Sh(t,e)))return r;i===Eh||r.push(i)}for(;!1!==(i=Sh(t,e));)r.push(i);return r}(df(t)))}function cf(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)bh(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function af(t,n){if(uf(t,n))return sf(t,n);if(void 0!==Qh(t,n))return Kh(t,n);if(n.Au+4<=t.byteLength){if(0===t.getUint8(n.Au)&&0===t.getUint8(n.Au+2))return Zh(t,n,!1);if(0===t.getUint8(n.Au+1)&&0===t.getUint8(n.Au+3))return Zh(t,n,!0)}return sf(t,n)}function hf(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function ff(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function vf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function df(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function lf(t){return t instanceof ArrayBuffer||ch(t)}function _f(t){return t instanceof ArrayBuffer?new y(t):df(t)}function gf(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):wf(hf(t,n,i))}function wf(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}function yf(t){return[].slice.call(t)}var mf=function(){function t(t){void 0===t&&(t=0),this.mc=t}var n=t.prototype;return n.Ey=function(t){this.mc+=t},n.gc=function(t){this.mc=t},n.Iy=function(){return new t(this.Au)},n.xy=function(){return new mh(this.Au<<3)},hr(t,[{key:"Au",get:function(){return this.mc}}]),t}();function pf(t){var n=t.toLowerCase(),i=0,r=0;Ac(n,"0x")&&(n=n.substring(2));var e=new y(l.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=_(n[0],16));i<n.length;i+=2)e[r++]=_(n.substr(i,2),16);return e}var kf=function(){function t(){var t=this;this.jf=new $((function(n,i){t.Td=n,t.Sd=i}))}var n=t.prototype;return n.Lf=function(t){this.Td&&(this.Td(t),this.Ou())},n.BC=function(t){this.Sd&&(this.Sd(t),this.Ou())},n.Jl=function(){this.jf.catch(Vr),this.BC(new ka)},n.U_=function(t){var n=this;t.then((function(t){return n.Lf(t)}),(function(t){return n.BC(t)}))},n.Ou=function(){this.Td=void 0,this.Sd=void 0},t}();function Af(){return new y([8,4]).buffer}function bf(t,n){return t===ic?function(t){if(t.byteLength<2*Tf.length)return t;var n=new DataView(t,0,2*Tf.length),i=rf(n,!0);if(i===Tf)return t;return function(t){var n='<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">',i='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',r=""+n+_h(t)+i;return ef(r,!0).buffer}(t)}(n):n}var Tf="<PlayReady";var Sf=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).LC=i,u.OC=r,u}return vr(n,t),n}(ya),Ef=function(t,n){return(Ef=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)d.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function If(t,n){if("function"!=typeof n&&null!==n)throw new v("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Ef(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}function Rf(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}(function(){var t=function(t,n){this.MC=t,this.FC=n};t.prototype.get=function(t){var n=this.MC.get(t);if(0===this.FC||void 0===n)return n;var i=this.MC.get(t+1)||0,r=n&(1<<8-this.FC)-1,e=i>>8-this.FC;return(r<<this.FC)+e},t.prototype.getBit=function(t){if(!(t<0)){var n=this.MC.get(l.floor((t+this.FC)/8));if(void 0!==n)return(n&1<<7-this.FC-t%8)>0?1:0}},d.defineProperty(t.prototype,"bitLength",{get:function(){return this.MC.bitLength-this.FC},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"length",{get:function(){return this.MC.length},enumerable:!1,configurable:!0})})(),l.pow(2,-52);function Nf(t,n,i){return l.min(l.max(t,n),i)}function Cf(t,n){return t>>8-n}function Df(t,n){return t&(1<<n)-1}var Pf=function(){var t=function(t){this.UC=t,this.HC=0,this.VC=0};return d.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.HC+this.VC},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"done",{get:function(){return this.HC===this.UC.length&&0===this.VC},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"location",{get:function(){return{byte:this.HC,bit:this.VC}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.UC);return n.seek(this.HC,this.VC),n},t.prototype.canReadBits=function(t){return 8*this.HC+t+this.VC<=8*this.UC.length},t.prototype.canReadBytes=function(t){return 0===this.VC?this.HC+t<=this.UC.length:this.HC+t<this.UC.length},t.prototype.incBit=function(){this.VC++,this.VC>7&&(this.HC++,this.VC=0)},t.prototype.seek=function(t,n){this.HC=t,this.VC=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new f("Cannot read past end of buffer.");return this.UC.get(this.HC)>>7-this.VC&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new f("Cannot read past end of buffer.");if(0===this.VC)return this.UC.get(this.HC++);var t=Df(this.UC.get(this.HC),8-this.VC),n=Cf(this.UC.get(this.HC+1),this.VC);return this.HC++,t<<this.VC|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=0;if(0===this.VC&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-l.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new f("Skipping over the buffer edge is not allowed.");var n=this.VC+t;this.HC+=n>>3,this.VC=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),Of=function(t,n){return t===n?0:t<n?-1:t>n?1:w(t)?w(n)?0:1:-1},Bf=function(){var t=function(){this.WC=[],this.qC=[],this.zC=0};return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var r=new t,e=0,u=n;e<u.length;e++){var s=u[e];r.pushRange(s)}return r},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new f("The buffer length must be positive.");if(0!==i){if(0===this.qC.length)this.qC.push(0);else{var r=this.qC[this.qC.length-1]+this.WC[this.WC.length-1].length;this.qC.push(r)}this.WC.push(t.subarray(n,n+i)),this.zC+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,r){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=this.length),n<0||i<0||r<0)throw new RangeError;return this.slice(i,r).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,r=n,e=0,u=this.WC;e<u.length;e++){var s=u[e];t.set(s,r),i+=s.length,r+=s.length}return i},t.prototype.clear=function(){this.WC=[],this.qC=[],this.zC=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.qC[n];return this.WC[n][i]}},d.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.WC.length<1)return-1;if(this.WC.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.WC[0];return"number"==typeof t?Rf(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],r=n.length,e=t.length-r,u=0;u<=e&&!((u=Rf(t,i,u))<0||u>e);u++){for(var s=u+1,o=u+r,c=1;s<o&&t[s]===n[c];s++,c++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var r=0,e=t.length-1;if(1!==i(t[r],n)){if(1===i(n,t[e]))return e;for(;r!==e;){var u=l.ceil((r+e)/2);i(t[u],n)<=0?r=u:e=u-1}return r}}}(this.qC,t,Of)},t.prototype.join=function(){if(1===this.WC.length)return this.WC[0];var t=new y(this.length);return this.copyInternal(t,0),t},d.defineProperty(t.prototype,"length",{get:function(){return this.zC},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new f("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new f("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,r=0;r<n;r++)i+=this.get(t+r)*l.pow(2,8*(n-r-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var r=Nf(n,0,this.length),e=Nf(i,0,this.length);if(r>e)return new t;if(r===e)return new t;for(var u=new t,s=this.findContainingBufferIndex(r),o=this.WC[s],c=r,a=c-this.qC[s];c+o.length-a<e;)u.pushRange(o,a,o.length-a),s+=1,a=(c+=o.length-a)-this.qC[s],o=this.WC[s];var h=e-c;return u.pushRange(o,a,h),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.WC.length-1,r=this.WC[i],e=r.length-1;n>=0&&i>=0;){if(0!==r[e])break;if(0===e){if(0===i)return new t;i-=1,e=(r=this.WC[i]).length-1}else e-=1;n-=1}return this.slice(0,n+1)},t}(),Lf=function(){function t(n){this.XC=n||t.BUFFER_CHUNK_SIZE,this.GC=!1,this.QC=new Bf,this.UC=new y(this.XC),this.KC=0,this.jC=0,this.VC=7}return t.prototype.closeByte=function(){this.UC[this.KC++]=this.jC,this.KC>=this.XC&&this.closeBuffer(),this.jC=0,this.VC=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.KC&&(this.QC.pushRange(this.UC,0,this.KC),t&&(this.UC=new y(this.XC)),this.KC=0)},d.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.VC},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.GC)throw new f("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.GC=!0,this.QC},t.prototype.writeBit=function(t){if(this.GC)throw new f("Cannot write to a closed BitWriter.");this.jC|=t<<this.VC,0===this.VC?this.closeByte():this.VC--},t.prototype.writeByte=function(t){if(this.GC)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.jC=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.VC;this.jC|=Cf(t,n+1),this.closeByte(),this.jC=Df(t,8-n)<<n+1,this.VC=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];this.writeBit(r)}},t.prototype.writeBytes=function(t){if(this.GC)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.KC+t.length<=this.XC?(this.UC.set(t,this.KC),this.KC+=t.length,this.KC===this.XC&&this.closeBuffer()):(this.closeBuffer(),this.QC.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.VC;this.jC|=Cf(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var r=Df(t[i-1],8-n),e=Cf(t[i],n+1);this.jC=r<<n+1|e,this.closeByte()}this.jC=Df(t[t.length-1],8-n)<<n+1,this.VC=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new f("Received a negative number.");if(n>32)throw new f("The max bitlength that can be provided is 32.");if(t>=l.pow(2,n))throw new f("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new f("The max bitlength that can be provided is 32.");if(l.abs(t)>=l.pow(2,n-1))throw new f("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+l.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new f("Received a negative number.");for(var n=l.floor(l.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),Mf=function(){var t=function(t){this.rb=new Bf,this.Dd=t};return t.prototype.closeWriter=function(){void 0!==this.Dd&&(this.rb=this.rb.concat(this.Dd.close()),this.Dd=void 0)},d.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Dd&&(this.Dd=new Lf),this.Dd},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),xf=function(){var t=function(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new f("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")};return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),r=i>=t.LARGE_SIZE/8,e=16===this.boxType.length;n.writeUInt(r?1:i,32),n.writeString(e?"uuid":this.boxType),r&&(n.writeUInt(l.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),e&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new Mf;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=l.pow(2,32),t}();function Uf(t,n){return t instanceof Ee?64===n:t<l.pow(2,n)}function Ff(t,n){return l.round(t*l.pow(2,n))}function Hf(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function Vf(t,n){return t/l.pow(2,n)}var Xf=function(t){var n=function(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!Uf(i,8))throw new f("the provided version cannot fit in 8 bits.");return e.flags=r,e};return If(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.YC},set:function(t){this.YC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(xf),zf=function(t){var n=function(n,i){var r=t.call(this,n)||this;return r.data=i,r};return If(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(Bf.from(this.data))},n}(xf),Wf=function(){var t=function(t){void 0===t&&(t=0),this.offset=t};return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();var Gf=16384;function qf(t){var n=t.length;if(n<=Gf)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=Gf)i.push(String.fromCharCode.apply(String,t.slice(r,r+Gf)));return i.join("")}var Yf=function(){var t=function(t){this.raw=t};return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function jf(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Qf(t,n,i){var r=iv(uv(t),n.offset,n.offset+i);return n.shift(r.byteLength),r}function Kf(t,n,i){return n.offset+i<=t.byteLength}function Zf(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.offset,i);return n.shift(4),r}function Jf(t,n,i){void 0===i&&(i=!1);var r=Zf(t,n,i),e=Zf(t,n,i),u=i?e:r,s=i?r:e;return Ee.fromBits(s,u,!0)}function $f(t,n,i){return qf(function(t){return[].slice.call(t)}(Qf(t,n,i)))}function tv(t,n){var i,r=jf(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&jf(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&jf(t,n))+(63&jf(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&jf(t,n))+64*(63&jf(t,n))+(63&jf(t,n))),i}function nv(t,n){return function(t,n,i){var r=[],e=function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)}(t,n);e&&n.shift(3);for(;n.offset<t.byteLength;){var u=tv(t,n);if(void 0===u)break;if(i&&0===u)break;r.push(u)}return function(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return qf(n)}(r)}(t,n,!0)}function iv(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function rv(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function ev(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function uv(t){return new y(t.buffer,t.byteOffset,t.byteLength)}var sv=function(){var t=function(t){void 0===t&&(t=0),this.offset=t};return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Wf(this.offset<<3)},t}(),ov=function(){var t=function(t,n){this.data=t,this.cursor=n};return t.prototype.nextUint8=function(){return jf(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextUint32=function(){return Zf(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.offset,i);return n.shift(4),r}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var r=Zf(t,n,i),e=Zf(t,n,i),u=i?e:r,s=i?r:e;return Ee.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Jf(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return Qf(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(Zf(t,n));return r}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return $f(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return nv(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function cv(t,n){return t.type===n}var av=8;function hv(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var r=fv(t,n);if(!r.complete)return{complete:!1,boxes:i};i.push(r.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new f("Data incomplete");return n.boxes}function fv(t,n){var i=n.offset,r=function(t,n){var i=n.offset;if(!Kf(t,n,av)){return{complete:!1,neededOffset:u=n.offset+av}}var r=Zf(t,n),e=$f(t,n,4);if(1===r){if(!Kf(t,n,8)){var u=n.offset+8;return n.seek(i),{complete:!1,neededOffset:u}}r=Jf(t,n).toNumber()}if("uuid"===e){if(!Kf(t,n,16)){u=n.offset+16;return n.seek(i),{complete:!1,neededOffset:u}}e=$f(t,n,16)}var s=n.offset,o={type:e,size:r,headerSize:s-i};return{complete:!0,header:o}}(t,n);if(!r.complete)return r;var e=r.header,u=e.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var c={type:e.type,offset:i,data:new ov(rv(t,i,s),new sv(e.headerSize))};return n.seek(s),{complete:!0,box:c}}function vv(t){return{version:t>>24,flags:new Yf(16777215&t)}}function dv(t,n){var i,r,e,u;return 1===n?(i=t.nextUint64(),r=t.nextUint64(),e=t.nextUint32(),u=t.nextUint64()):(i=t.nextUint32(),r=t.nextUint32(),e=t.nextUint32(),u=t.nextUint32()),{creation:i,modification:r,scale:e,duration:u}}function lv(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function _v(t){var n=t.nextUint32Array(9);return{a:Vf(n[0],16),b:Vf(n[1],16),u:Vf(n[2],30),c:Vf(n[3],16),d:Vf(n[4],16),v:Vf(n[5],30),x:Vf(n[6],16),y:Vf(n[7],16),w:Vf(n[8],30)}}function gv(t){return new zf(t.type,iv(uv(t.data.data),t.data.cursor.offset))}var wv=function(t){var n=function(n,i,r,e){void 0===r&&(r=0),void 0===e&&(e=0);var u=t.call(this,"hdlr",r,e)||this;return u.name=i,u.handlerType=n,u};return If(n,t),d.defineProperty(n.prototype,"handlerType",{get:function(){return this.ZC},set:function(t){this.ZC=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(Xf);function yv(t){var n=t.data,i=vv(n.nextUint32()),r=i.version,e=i.flags;n.skip(4);var u=n.nextChars(4);n.skip(12);var s=n.nextUTF8String();return new wv(u,s,r,e.raw)}!function(t){var n=function(){return t.call(this,"mdir")||this};If(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(wv);var mv=function(){var t=function(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t};return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},d.defineProperty(t.prototype,"tag",{get:function(){return this.JC},set:function(t){if(!Uf(t,8))throw new f("Provided tag does not fit in 8 bits.");this.JC=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var r=i[n];t.writer.writeByte(r)}this.serializeDescriptorContent(t)},t}(),pv=(function(t){var n=function(n,i,r,e,u,s,o){void 0===o&&(o={});var c=t.call(this,4,o.fixed28BitMode)||this;return c.upStream=r,c.decoderSpecificInfo=s,c.objectTypeIndication=n,c.streamType=i,c.bufferSizeDb=e,c.maxBitrate=u.max,c.avgBitrate=u.avg,c};If(n,t),d.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.$C},set:function(t){if(!Uf(t,8))throw new f("Provided objectTypeIndication does not fit in 8 bits.");this.$C=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamType",{get:function(){return this.tx},set:function(t){if(!Uf(t,6))throw new f("Provided streamType does not fit in 6 bits.");this.tx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.ix},set:function(t){if(!Uf(t,24))throw new f("Provided bufferSizeDb does not fit in 24 bits.");this.ix=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.sx},set:function(t){if(!Uf(t,32))throw new f("Provided maxBitrate does not fit in 32 bits.");this.sx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.nx},set:function(t){if(!Uf(t,32))throw new f("Provided avgBitrate does not fit in 32 bits.");this.nx=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(mv),function(t){var n=function(n,i){void 0===i&&(i={});var r=t.call(this,5,i.fixed28BitMode)||this;return r.data=n,r};If(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(Bf.from(this.data))}}(mv),function(t){var n=function(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i};return If(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(mv)),kv=(function(t){var n=function(n,i,r,e){void 0===e&&(e={});var u=t.call(this,3,e.fixed28BitMode)||this;return u.decoderConfigDescriptor=r,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==e?void 0:e.dependsOnEsId,u.urlString=null==e?void 0:e.url,u.ocrEsId=null==e?void 0:e.ocrEsId,u.slConfigDescriptor=new pv(e.fixed28BitMode),u};If(n,t),d.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"esId",{get:function(){return this.hx},set:function(t){if(!Uf(t,16))throw new f("Provided esId does not fit in 16 bits.");this.hx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamPriority",{get:function(){return this.ox},set:function(t){if(!Uf(t,5))throw new f("Provided streamPriority does not fit in 5 bits.");this.ox=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.ux},set:function(t){if(t&&!Uf(t,16))throw new f("Provided dependsOnEsId does not fit in 16 bits.");this.ux=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.lx},set:function(t){if(t&&!Uf(t,16))throw new f("Provided ocrEsId does not fit in 16 bits.");this.lx=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(mv),function(t){var n=function(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n};return If(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,r=this.boxes;i<r.length;i++){var e=r[i];n=n.concat(e.serialize())}return n},n}(xf)),Av=function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};return If(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(kv),bv=function(t){var n=function(n,i){var r=t.call(this,n)||this;return r.dataReferenceIndex=i,r};return If(n,t),d.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this._x},set:function(t){if(!Uf(t,16))throw new f("Provided dataReferenceIndex does not fit in 16 bits.");this._x=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Av),Tv=function(t){var n=function(n,i,r,e){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=e,o.channelCount=null!==(u=r.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=r.sampleSize)&&void 0!==s?s:16,o.sampleRate=r.sampleRate,o};return If(n,t),d.defineProperty(n.prototype,"channelCount",{get:function(){return this.gx},set:function(t){if(!Uf(t,16))throw new f("Provided channelCount does not fit in 16 bits.");this.gx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleSize",{get:function(){return this.vx},set:function(t){if(!Uf(t,16))throw new f("Provided sampleSize does not fit in 16 bits.");this.vx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleRate",{get:function(){return this.wx},set:function(t){if(!Uf(Ff(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.wx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(Ff(this.sampleRate,16),32),this.extra&&Hf(n.writer,this.extra)},n}(bv),Sv=(function(t){var n=function(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i};If(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){if(!Uf(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Uf(t,32)})))throw new f("Not all entries can be represented in 32 bits.");this.mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(Xf),function(t){var n=function(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i};If(n,t),d.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.yx},set:function(t){if(!Uf(t,32))throw new f("Provided cleanApertureWidthN does not fit in 32 bits.");this.yx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.Ax},set:function(t){if(!Uf(t,32))throw new f("Provided cleanApertureWidthD does not fit in 32 bits.");this.Ax=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.bx},set:function(t){if(!Uf(t,32))throw new f("Provided cleanApertureHeightN does not fit in 32 bits.");this.bx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.Tx},set:function(t){if(!Uf(t,32))throw new f("Provided cleanApertureHeightD does not fit in 32 bits.");this.Tx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Sx},set:function(t){if(!Uf(t,32))throw new f("Provided horizOffN does not fit in 32 bits.");this.Sx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffD",{get:function(){return this.kx},set:function(t){if(!Uf(t,32))throw new f("Provided horizOffD does not fit in 32 bits.");this.kx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Ex},set:function(t){if(!Uf(t,32))throw new f("Provided vertOffN does not fit in 32 bits.");this.Ex=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffD",{get:function(){return this.Ix},set:function(t){if(!Uf(t,32))throw new f("Provided vertOffD does not fit in 32 bits.");this.Ix=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(xf),function(t){var n=function(n,i){var r=t.call(this,"ctts",n,0)||this;return r.entries=i,r};If(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){if(!Uf(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Uf(t.sampleCount,32)||!Uf(t.sampleOffset,32)})))throw new f("Not all entries can be represented in 64 bits.");this.mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),0===this.version?n.writer.writeUInt(e.sampleOffset,32):1===this.version&&n.writer.writeInt(e.sampleOffset,32)}}}(Xf),function(t){var n=function(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i};If(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.Px},set:function(t){this.flags=void 0===t?1:0,this.Px=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Xf),function(t){var n=function(n,i,r){var e=t.call(this,"urn ",0,r)||this;return e.name=n,e.location=i,e};If(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.Px},set:function(t){if(1&this.flags)throw new f("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.Px=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Xf),function(t){var n=function(){return t.call(this,"dinf")||this};If(n,t)}(Av),function(t){var n=function(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!Uf(i,8))throw new f("the provided version cannot fit in 8 bits.");return e.flags=r,e};return If(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.YC},set:function(t){this.YC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(kv)),Ev=(function(t){var n=function(){return t.call(this,"dref",0,0)||this};If(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Sv),function(t){var n=function(n,i,r){void 0===r&&(r=0);var e=t.call(this,"elst",i,r)||this;return e.entries=n,e};return If(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!Uf(r.segmentDuration,this.bitSize))throw new f("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!Uf(r.mediaTime,this.bitSize))throw new f("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!Uf(r.mediaRateInteger,16))throw new f("Provided mediaRateInteger does not fit in 16 bits.");if(r.mediaRateFraction&&!Uf(r.mediaRateFraction,16))throw new f("Provided mediaRateFraction does not fit in 16 bits.")}this.mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(Xf)),Iv=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this};return If(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration,32),t.writer.writeInt(e.mediaTime,32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Ev),Rv=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this};return If(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(e.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(e.mediaTime.getHighBits(),32),t.writer.writeInt(e.mediaTime.getLowBits(),32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Ev);function Nv(t){for(var n=t.data,i=vv(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=[],o=0;o<u;o++){var c=void 0,a=void 0;0===r?(c=n.nextUint32(),a=n.nextInt32()):(c=n.nextUint64(),a=n.nextInt64());var h=n.nextInt16(),f=n.nextInt16();s.push({segmentDuration:c,mediaTime:a,mediaRateFraction:f,mediaRateInteger:h})}return 0===r?new Iv(s,e.raw):new Rv(s,e.raw)}var Cv=function(t){var n=function(){return t.call(this,"edts")||this};return If(n,t),n}(Av);function Dv(t){for(var n=new Cv,i=0,r=hv(t.data);i<r.length;i++){var e=r[i];cv(e,"elst")?n.boxes.push(Nv(e)):n.boxes.push(gv(e))}return n}var Pv=function(t){var n=function(n,i,r,e){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=r,u.compatibleBrands=e,u};return If(n,t),d.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Rx},set:function(t){if(4!==t.length)throw new f("the provided major brand does not conform to the 4 character requirement");this.Rx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Cx},set:function(t){if(!Uf(t,32))throw new f("the provided minor version does not fit in 32 bits.");this.Cx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.xx},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new f("Some of the compatible brands do not conform to the 4 character requirement");this.xx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var r=i[n];t.writer.writeString(r)}},n}(xf),Ov=function(t){var n=function(n,i,r){return t.call(this,"ftyp",n,i,r)||this};return If(n,t),n}(Pv);function Bv(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new Ov(i,r,e)}var Lv=function(t){var n=function(n,i){void 0===i&&(i="free");var r=t.call(this,i)||this;return r.data=n,r};return If(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(Bf.from(this.data))},n}(xf),Mv=function(t){var n=function(n,i,r,e){void 0===e&&(e=0);var u=t.call(this,"mdhd",r,e)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u};return If(n,t),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.Dx},set:function(t){if(!Uf(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Dx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Nx},set:function(t){if(!Uf(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Nx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.Bx},set:function(t){if(!Uf(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.Bx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.Zl},set:function(t){if(!Uf(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Zl=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"language",{get:function(){return this.Lx},set:function(t){if(!Hv(t))throw new f("Expected an ISO-639-2/T language code");this.Lx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,r=this.language;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(Xf),xv=function(t){var n=function(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,0,r)||this};return If(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Mv),Uv=function(t){var n=function(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,1,r)||this};return If(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Mv);function Fv(t){var n=t.data,i=vv(n.nextUint32()),r=i.version,e=i.flags,u=dv(n,r),s=new Pf(Bf.from(n.nextUint8Array(2)));s.skipBits(1);for(var o=[],c=0;c<3;c++)o.push(s.readUInt(5));var a=o.map((function(t){return String.fromCharCode(t+96)})).join("");return Hv(a)||(a="und"),n.skip(2),0===r?new xv(u,a,e.raw):new Uv(u,a,e.raw)}function Hv(t){return/^[a-z]{3}$/.test(t)}var Vv=function(t){var n=function(){return t.call(this,"mdia")||this};return If(n,t),n}(Av);function Xv(t){for(var n=new Vv,i=0,r=hv(t.data);i<r.length;i++){var e=r[i];cv(e,"mdhd")?n.boxes.push(Fv(e)):cv(e,"hdlr")?n.boxes.push(yv(e)):n.boxes.push(gv(e))}return n}var zv=function(t){var n=function(){var n=t.call(this,"mdat")||this;return n.data=new Bf,n};return If(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(xf);function Wv(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),r=new zv;return r.data.pushRange(i),r}var Gv;(function(t){var n=function(){return t.call(this,"minf")||this};If(n,t)})(Av),function(t){var n=function(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i};If(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Sv);!function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Gv||(Gv={}));var qv,Yv,jv={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Qv(t,n){n.writer.writeUInt(Ff(t.a,16),32),n.writer.writeUInt(Ff(t.b,16),32),n.writer.writeUInt(Ff(0,30),32),n.writer.writeUInt(Ff(t.c,16),32),n.writer.writeUInt(Ff(t.d,16),32),n.writer.writeUInt(Ff(0,30),32),n.writer.writeUInt(Ff(t.x,16),32),n.writer.writeUInt(Ff(t.y,16),32),n.writer.writeUInt(Ff(1,30),32)}function Kv(t,n){var i,r,e,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:qv.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleDependsOn)&&void 0!==r?r:Yv.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleIsDependedOn)&&void 0!==e?e:Yv.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:Yv.UNKNOWN,2)}function Zv(t,n){var i,r,e;n.writer.writeUInt(0,4),Kv(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(r=t.sampleIsNonSyncSample)&&void 0!==r&&r),n.writer.writeUInt(null!==(e=t.sampleDegradationPriority)&&void 0!==e?e:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(qv||(qv={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Yv||(Yv={}));var Jv=function(){},$v=function(t){var n=function(n,i,r){var e=t.call(this,"pssh",n,0)||this;return e.systemId=i,e.data=r,e};return If(n,t),d.defineProperty(n.prototype,"systemId",{get:function(){return this.Ox},set:function(t){if(16!==t.length)throw new f("Provided systemId length is not 16.");this.Ox=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"data",{get:function(){return this.Mx},set:function(t){if(!Uf(t.length,32))throw new f("Provided data length does not fit in 32 bits.");this.Mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(Bf.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(Bf.from(this.data))},n}(Xf),td=function(t){var n=function(n,i){return t.call(this,0,n,i)||this};return If(n,t),n}($v),nd=function(t){var n=function(n,i,r){var e=t.call(this,1,n,i)||this;return e.kIds=r,e};return If(n,t),d.defineProperty(n.prototype,"kIds",{get:function(){return this.Fx},set:function(t){if(!Uf(t.length,32))throw new f("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new f("Not all provided key ids are 16 bytes long.");this.Fx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var r=i[n];t.concat(Bf.from(r))}},n}($v);function id(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),r=[];if(1===n)for(var e=t.data.nextUint32(),u=0;u<e;u++)r.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new nd(i,o,r):new td(i,o)}var rd=function(t){var n=function(n,i,r){void 0===r&&(r=0);var e=t.call(this,"mehd",i,r)||this;return e.fragmentDuration=n,e};return If(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Ux},set:function(t){if(!Uf(t,this.bitSize))throw new f("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Ux=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Xf),ed=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this};return If(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(rd),ud=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this};return If(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(rd);function sd(t){var n=t.data,i=vv(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new ed(n.nextUint32(),e.raw):new ud(n.nextUint64(),e.raw)}var od=function(t){var n=function(n,i,r,e){void 0===i&&(i={}),void 0===r&&(r=0),void 0===e&&(e=0);var u,s,o,c=this;return(c=t.call(this,"trex",r,e)||this).trackId=n,c.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,c.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,c.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,c.defaultSampleFlags=i.sampleFlags,c};return If(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Hx},set:function(t){if(!Uf(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Hx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Vx},set:function(t){if(!Uf(t,32))throw new f("Provided default sample description index does not fit in 32 bits.");this.Vx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Wx},set:function(t){if(!Uf(t,32))throw new f("Provided default sample duration does not fit in 32 bits.");this.Wx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.qx},set:function(t){if(!Uf(t,32))throw new f("Provided default sample size does not fit in 32 bits.");this.qx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.zx},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Uf(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Uf(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.zx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Zv(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(Xf);function cd(t){var n=t.data,i=vv(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=n.nextUint32(),o=n.nextUint32(),c=n.nextUint32(),a=lv(new Pf(Bf.from(n.nextUint8Array(4))));return new od(u,{sampleDescriptionIndex:s,sampleDuration:o,sampleSize:c,sampleFlags:a},r,e.raw)}var ad=function(t){var n=function(){return t.call(this,"mvex")||this};return If(n,t),n}(Av);function hd(t){for(var n=new ad,i=0,r=hv(t.data);i<r.length;i++){var e=r[i];cv(e,"mehd")?n.boxes.push(sd(e)):cv(e,"trex")?n.boxes.push(cd(e)):n.boxes.push(gv(e))}return n}var fd=function(t){function n(i,r,e,u,s){void 0===s&&(s=0);var o,c,a,h=this;return(h=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,h.modificationTime=i.modification,h.timescale=i.scale,h.duration=i.duration,h.rate=null!==(o=e.rate)&&void 0!==o?o:n.DEFAULT_RATE,h.volume=null!==(c=e.volume)&&void 0!==c?c:n.DEFAULT_VOLUME,h.matrix=null!==(a=e.matrix)&&void 0!==a?a:jv,h.Xx=r,h}return If(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.Dx},set:function(t){if(!Uf(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Dx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Nx},set:function(t){if(!Uf(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Nx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.Bx},set:function(t){if(!Uf(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.Bx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.Zl},set:function(t){if(!Uf(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Zl=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"rate",{get:function(){return this.Gx},set:function(t){if(!Uf(Ff(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.Gx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.Qx},set:function(t){if(!Uf(Ff(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.Qx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.Kx},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.Kx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Xx},set:function(t){if(0===t)throw new f("NextTrackId cannot be 0.");if(!Uf(t,32))throw new f("NextTrackId cannot exceed 32 bits.");this.Xx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(Ff(this.rate,16),32),n.writer.writeUInt(Ff(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Qv(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(Xf),vd=function(t){var n=function(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,0,e)||this};return If(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(fd),dd=function(t){var n=function(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,1,e)||this};return If(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(fd);function ld(t){var n=t.data,i=vv(n.nextUint32()),r=i.version,e=i.flags,u=dv(n,r),s=Vf(n.nextUint32(),16),o=Vf(n.nextUint16(),8);n.skip(2),n.skip(8);var c=_v(n);n.skip(24);var a=n.nextUint32();return 0===r?new vd(u,a,{rate:s,volume:o,matrix:c},e.raw):new dd(u,a,{rate:s,volume:o,matrix:c},e.raw)}var _d=function(t){var n=function(n,i,r,e,u,s,o){void 0===o&&(o={});var c,a,h,f=this;return f=t.call(this,"tkhd",n,function(t){var n,i,r,e;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(r=null==t?void 0:t.trackInPreview)||void 0===r||r,trackSizeIsAspectRatio:null!==(e=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==e&&e}}(o))||this,f.creationTime=i.creation,f.modificationTime=i.modification,f.trackId=r,f.duration=i.duration,f.volume=e,f.width=u,f.height=s,f.layer=null!==(c=o.layer)&&void 0!==c?c:0,f.alternateGroup=null!==(a=o.alternateGroup)&&void 0!==a?a:0,f.matrix=null!==(h=o.matrix)&&void 0!==h?h:jv,f};return If(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.Dx},set:function(t){if(!Uf(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Dx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Nx},set:function(t){if(!Uf(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Nx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Hx},set:function(t){if(0===t)throw new f("trackId cannot be 0.");if(!Uf(t,32))throw new f("trackId cannot exceed 32 bits.");this.Hx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.Zl},set:function(t){if(!Uf(t,this.bitSize))throw new f("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Zl=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.Qx},set:function(t){if(!Uf(Ff(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.Qx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"width",{get:function(){return this.oc},set:function(t){if(!Uf(Ff(t,16),32))throw new f("Provided width does not fit in 32 bits (fixed 16.16).");this.oc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.uc},set:function(t){if(!Uf(Ff(t,16),32))throw new f("Provided height does not fit in 32 bits (fixed 16.16).");this.uc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"layer",{get:function(){return this.jx},set:function(t){if(!Uf(t,16))throw new f("Provided layer does not fit in 16 bits.");this.jx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Yx},set:function(t){if(!Uf(t,16))throw new f("Provided alternateGroup does not fit in 16 bits.");this.Yx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.Kx},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.Kx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(Ff(this.volume,8),16),n.writer.writeUInt(0,16),Qv(this.matrix,n),n.writer.writeUInt(Ff(this.width,16),32),n.writer.writeUInt(Ff(this.height,16),32)},n}(Xf),gd=function(t){var n=function(n,i,r,e,u,s){return t.call(this,0,n,i,r,e,u,s)||this};return If(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(_d),wd=function(t){var n=function(n,i,r,e,u,s){return t.call(this,1,n,i,r,e,u,s)||this};return If(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(_d);function yd(t){var n,i,r,e,u=t.data,s=vv(u.nextUint32()),o=s.version,c=s.flags,a=c.isSet(8),h=c.isSet(4),f=c.isSet(2),v=c.isSet(1);0===o?(n=u.nextUint32(),i=u.nextUint32(),r=u.nextUint32(),u.skip(4),e=u.nextUint32()):(n=u.nextUint64(),i=u.nextUint64(),r=u.nextUint32(),u.skip(4),e=u.nextUint64()),u.skip(8);var d=u.nextInt16(),l=u.nextInt16(),_=Vf(u.nextInt16(),8);u.skip(2);var g=_v(u),w=Vf(u.nextUint32(),16),y=Vf(u.nextUint32(),16);return 0===o?new gd({creation:n,modification:i,duration:e},r,_,w,y,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:a,trackEnabled:v,trackInPreview:h,trackInMovie:f}):new wd({creation:n,modification:i,duration:e},r,_,w,y,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:a,trackEnabled:v,trackInPreview:h,trackInMovie:f})}var md=function(t){var n=function(){return t.call(this,"trak")||this};return If(n,t),n}(Av);function pd(t){for(var n=new md,i=0,r=hv(t.data);i<r.length;i++){var e=r[i];cv(e,"tkhd")?n.boxes.push(yd(e)):cv(e,"mdia")?n.boxes.push(Xv(e)):cv(e,"edts")?n.boxes.push(Dv(e)):n.boxes.push(gv(e))}return n}var kd=function(t){var n=function(){return t.call(this,"moov")||this};return If(n,t),n}(Av);function Ad(t){for(var n=new kd,i=0,r=hv(t.data);i<r.length;i++){var e=r[i];cv(e,"mvhd")?n.boxes.push(ld(e)):cv(e,"trak")?n.boxes.push(pd(e)):cv(e,"mvex")?n.boxes.push(hd(e)):cv(e,"pssh")?n.boxes.push(id(e)):n.boxes.push(gv(e))}return n}var bd=function(t){var n=function(n,i,r){void 0===r&&(r=0);var e=t.call(this,"tfdt",i,r)||this;return e.baseMediaDecodeTime=n,e};return If(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Zx},set:function(t){if(!Uf(t,this.bitSize))throw new f("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.Zx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Xf),Td=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this};return If(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(bd),Sd=function(t){var n=function(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this};return If(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(bd);function Ed(t){var n=t.data,i=vv(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new Td(n.nextUint32(),e.raw):new Sd(n.nextUint64(),e.raw)}var Id=function(t){var n=function(n,i){void 0===i&&(i=0);var r=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return r.trackId=n.trackId,r.baseDataOffset=n.baseDataOffset,r.sampleDescriptionIndex=n.sampleDescriptionIndex,r.defaultSampleDuration=n.defaultSampleDuration,r.defaultSampleSize=n.defaultSampleSize,r.defaultSampleFlags=n.defaultSampleFlags,r};return If(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Hx},set:function(t){if(!Uf(t,32))throw new f("Provided track id does not fit in 32 bits.");this.Hx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Jx},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is not set.");if(t&&!Uf(t,64))throw new f("Provided baseDataOffset does not fit in 32 bits.");this.Jx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.$x},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is not set.");if(t&&!Uf(t,32))throw new f("Provided sampleDescriptionIndex does not fit in 32 bits.");this.$x=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Wx},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is not set.");if(t&&!Uf(t,32))throw new f("Provided defaultSampleDuration does not fit in 32 bits.");this.Wx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.qx},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is not set.");if(t&&!Uf(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.qx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.zx},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!Uf(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Uf(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.zx=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Zv(this.defaultSampleFlags,n)},n}(Xf);function Rd(t){var n=t.data,i=n.nextUint8(),r=new Pf(Bf.from(n.nextUint8Array(3)));r.skipBits(6);var e=Boolean(r.readBit()),u=Boolean(r.readBit());r.skipBits(10);var s=Boolean(r.readBit()),o=Boolean(r.readBit()),c=Boolean(r.readBit());r.skipBits(1);var a=Boolean(r.readBit()),h=Boolean(r.readBit()),f=n.nextUint32(),v=h?n.nextUint64():void 0,d=a?n.nextUint32():void 0,l=c?n.nextUint32():void 0,_=o?n.nextUint32():void 0,g=s?lv(new Pf(Bf.from(n.nextUint8Array(4)))):void 0;return new Id({trackId:f,defaultBaseIsMoof:e,durationIsEmpty:u,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:_,defaultSampleFlags:g},i)}var Nd=function(t){var n=function(n,i,r){var e=t.call(this,"trun",n,function(t){var n,i,r,e;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(r=t.sampleFlagsPresent)&&void 0!==r&&r,sampleCompositionTimeOffsetsPresent:null!==(e=t.sampleCompositionTimeOffsetsPresent)&&void 0!==e&&e}}(i))||this;return e.dataOffset=i.dataOffset,e.samples=r,e.firstSampleFlags=i.firstSampleFlags,e};return If(n,t),d.defineProperty(n.prototype,"dataOffset",{get:function(){return this.tD},set:function(t){if(t&&!Uf(t,32))throw new f("Provided data offset does not fit in 32 bits.");this.tD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.eD},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Uf(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Uf(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.eD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.iD},set:function(t){var n,i;if(!Uf(t.length,32))throw new f("The sample count cannot be represented in 32 bits.");for(var r=0,e=t;r<e.length;r++){var u=e[r];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new f("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new f("The sample duration present flag is not set.");if(u.duration&&!Uf(u.duration,32))throw new f("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new f("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new f("The sample size present flag is not set.");if(u.size&&!Uf(u.size,32))throw new f("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!Uf(u.flags.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!Uf(u.flags.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!Uf(u.compositionTimeOffset,32))throw new f("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.iD=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Zv(this.firstSampleFlags,n);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(e.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(e.size,32),this.flags.sampleFlagsPresent&&Zv(e.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(e.compositionTimeOffset,32):n.writer.writeInt(e.compositionTimeOffset,32))}},n}(Xf);function Cd(t){var n=t.data,i=n.nextUint8(),r=new Pf(Bf.from(n.nextUint8Array(3)));r.skipBits(12);var e=Boolean(r.readBit()),u=Boolean(r.readBit()),s=Boolean(r.readBit()),o=Boolean(r.readBit());r.skipBits(5);var c=Boolean(r.readBit());r.skipBits(1);var a=Boolean(r.readBit()),h=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:s,sampleFlagsPresent:u,sampleCompositionTimeOffsetsPresent:e};a&&(f.dataOffset=n.nextInt32()),c&&(f.firstSampleFlags=lv(new Pf(Bf.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<h;d++){var l={};o&&(l.duration=n.nextUint32()),s&&(l.size=n.nextUint32()),u&&(l.flags=lv(new Pf(Bf.from(n.nextUint8Array(4))))),e&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new Nd(i,f,v)}var Dd=function(t){var n=function(){return t.call(this,"traf")||this};return If(n,t),n}(Av);function Pd(t){for(var n=new Dd,i=0,r=hv(t.data);i<r.length;i++){var e=r[i];cv(e,"tfhd")?n.boxes.push(Rd(e)):cv(e,"tfdt")?n.boxes.push(Ed(e)):cv(e,"trun")?n.boxes.push(Cd(e)):n.boxes.push(gv(e))}return n}var Od=function(t){var n=function(){return t.call(this,"moof")||this};return If(n,t),n}(Av);function Bd(t){for(var n=new Od,i=0,r=hv(t.data);i<r.length;i++){var e=r[i];cv(e,"traf")?n.boxes.push(Pd(e)):cv(e,"pssh")?n.boxes.push(id(e)):n.boxes.push(gv(e))}return n}!function(t){var n=function(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i};If(n,t),d.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.sD},set:function(t){if(!Uf(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.sD=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(Xf);var Ld=function(t){var n=function(n){var i=t.call(this,"frma")||this;return i.codingName=n,i};return If(n,t),d.defineProperty(n.prototype,"codingName",{get:function(){return this.nD},set:function(t){if(4!==t.length)throw new f("Provided coding name was not 4 characters long.");this.nD=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(xf),Md=(function(t){var n=function(n,i){var r=t.call(this,"pasp")||this;return r.hSpacing=n,r.vSpacing=i,r};If(n,t),d.defineProperty(n.prototype,"hSpacing",{get:function(){return this.rD},set:function(t){if(!Uf(t,32))throw new f("Provided hSpacing does not fit in 32 bits.");this.rD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vSpacing",{get:function(){return this.hD},set:function(t){if(!Uf(t,32))throw new f("Provided vSpacing does not fit in 32 bits.");this.hD=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(xf),function(t){var n=function(n,i,r){var e=t.call(this,n)||this;return e.sample=i,e.sinf=r,e};If(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Av),function(t){var n=function(n,i,r){var e=t.call(this,"sinf")||this;return e.schm=i,e.schi=r,e.frma=new Ld(n),e};If(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,r;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(r=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==r?r:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(xf),function(t){var n=function(n,i,r){var e=t.call(this,"saio",n,void 0===r?0:1)||this;return e.entries=i,e.explicitAuxInfoType=r,e};return If(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){var n=this;if(!Uf(t.length,32))throw new f("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!Uf(t,n.bitSize)})))throw new f("Not all provided entries fit in ".concat(this.bitSize," bits."));this.mx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.oD},set:function(t){if(void 0===t)this.flags=0;else{if(!Uf(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!Uf(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.oD=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(Xf)),xd=(function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};If(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r,32)}}}(Md),function(t){var n=function(){return null!==t&&t.apply(this,arguments)||this};If(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.getHighBitsUnsigned(),32),t.writer.writeUInt(r.getLowBitsUnsigned(),32)}}}(Md),function(t){var n=function(n,i,r){var e=t.call(this,"saiz",0,void 0===r?0:1)||this;return e.defaultSampleInfoSize=n,e.sampleInfoSizes=i,e.explicitAuxInfoType=r,e};If(n,t),d.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.aD},set:function(t){if(!Uf(t,8))throw new f("Provided defaultSampleInfoSize does not fit in a single byte.");this.aD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.uD},set:function(t){if(!Uf(t.length,32))throw new f("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!Uf(t,8)})))throw new f("Not all provided sampleInfoSizes fit in a byte.");this.uD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.oD},set:function(t){if(void 0===t)this.flags=0;else{if(!Uf(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!Uf(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.oD=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new f("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,r=this.sampleInfoSizes;i<r.length;i++){var e=r[i];n.writer.writeByte(e)}}}(Xf),function(t){var n=function(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i};If(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,r=this.samples;i<r.length;i++){Kv(r[i],n)}}}(Xf),function(t){var n=function(n){return t.call(this,"stsd",n,0)||this};If(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Sv),function(t){var n=function(n,i,r){var e=t.call(this,"sgpd",n,0)||this;return e.entries=r,e.groupingType=i,e};return If(n,t),d.defineProperty(n.prototype,"groupingType",{get:function(){return this.cD},set:function(t){if(4!==t.length)throw new f("The provided groupingType does not equal 4 characters.");this.cD=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];this.serializeEntryBoxContent(n,e)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(Xf)),Ud=(function(t){var n=function(n,i){return t.call(this,0,n,i)||this};If(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(xd),function(t){var n=function(n,i,r){var e=t.call(this,1,n,r)||this;return e.defaultLength=i,e};If(n,t),d.defineProperty(n.prototype,"defaultLength",{get:function(){return this.lD},set:function(t){if(!Uf(t,32))throw new f("The provided defaultLength does not fit in 32 bits.");this.lD=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(xd),function(t){var n=function(n,i,r,e){void 0===e&&(e=0);var u=this;if(n<2)throw new f("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,r)||this).defaultSampleDescriptionIndex=e,u};If(n,t),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Vx},set:function(t){if(!Uf(t,32))throw new f("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Vx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(xd),function(t){var n=function(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i};If(n,t),d.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.dD},set:function(t){if(!Uf(t.length,32))throw new f("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!Uf(t,32)})))throw new f("Not all sampleSizes can be represented in 32 bits.");this.dD=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,r=this.sampleSizes;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(Xf),function(t){var n=function(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r=t.call(this,"stsz",0,0)||this;return r.defaultSampleSize=n,r.samples=i,r};If(n,t),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.qx},set:function(t){if(!Uf(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.qx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.iD},set:function(t){if(!Uf(t,32))throw new f("Number of allowed samples cannot fit in 32 bits.");this.iD=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(Xf),function(t){var n=function(){return t.call(this,"stbl")||this};If(n,t)}(Av),function(t){var n=function(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i};If(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){if(!Uf(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Uf(t.firstChunk,32)||!Uf(t.sampleDescriptionIndex,32)||!Uf(t.samplesPerChunk,32)})))throw new f("Not all entries can be represented in 96 bits.");this.mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.firstChunk,32),n.writer.writeUInt(e.samplesPerChunk,32),n.writer.writeUInt(e.sampleDescriptionIndex,32)}}}(Xf),function(t){var n=function(){return t.call(this,"schi")||this};If(n,t)}(Av),function(t){var n=function(n,i,r){var e=t.call(this,"schm",0,void 0===r?0:1)||this;return e.schemeType=n,e.schemeVersion=i,e.schemeUri=r,e};If(n,t),d.defineProperty(n.prototype,"schemeType",{get:function(){return this.fD},set:function(t){if(4!==t.length)throw new f("The provided schemeType does not have a length of 4.");this.fD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeVersion",{get:function(){return this._D},set:function(t){if(!Uf(t,32))throw new f("The provided schemeVersion does not fit in 23 bits.");this._D=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeUri",{get:function(){return this.gD},set:function(t){if(t&&4!==t.length)throw new f("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.gD=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(Xf),function(t){var n=function(n,i,r,e,u,s,o){void 0===o&&(o=0);var c=t.call(this,"sidx",n,o)||this;return c.referenceId=i,c.timescale=r,c.earliestPresentationTime=e,c.firstOffset=u,c.references=s,c};return If(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"referenceId",{get:function(){return this.vD},set:function(t){if(!Uf(t,32))throw new f("Provided referenceId does not fit in 32 bits.");this.vD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.Bx},set:function(t){if(!Uf(t,32))throw new f("Provided timescale does not fit in 32 bits.");this.Bx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.wD},set:function(t){if(!Uf(t,this.bitSize))throw new f("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.wD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstOffset",{get:function(){return this.mD},set:function(t){if(!Uf(t,this.bitSize))throw new f("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.mD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"references",{get:function(){return this.pD},set:function(t){if(!Uf(t.length,16))throw new f("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!Uf(r.referencedSize,31))throw new f("Provided referenced size does not fit in 31 bits.");if(!Uf(r.subsegmentDuration,32))throw new f("Provided subsegment duration does not fit in 31 bits.");if(!Uf(r.sapType,3))throw new f("Provided SAP type does not fit in 3 bits.");if(!Uf(r.sapDeltaTime,28))throw new f("Provided SAP delta time does not fit in 28 bits.")}this.pD=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,r=this.references;i<r.length;i++){var e=r[i];n.writer.writeBit(e.referenceType),n.writer.writeUInt(e.referencedSize,31),n.writer.writeUInt(e.subsegmentDuration,32),n.writer.writeBool(e.startsWithSap),n.writer.writeUInt(e.sapType,3),n.writer.writeUInt(e.sapDeltaTime,28)}},n}(Xf)),Fd=function(t){var n=function(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,r,e,u,s)||this};return If(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(Ud),Hd=function(t){var n=function(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,r,e,u,s)||this};return If(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(Ud);var Vd=function(t){var n=function(n,i,r){return t.call(this,"styp",n,i,r)||this};return If(n,t),n}(Pv);function Xd(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new Vd(i,r,e)}(function(t){var n=function(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i};If(n,t),d.defineProperty(n.prototype,"balance",{get:function(){return this.yD},set:function(t){if(t<-1||t>1)throw new f("Provided balance does not fit in the allowed range [-1, 1].");if(!Uf(Ff(t,8),16))throw new f("Provided balance does not fit in 16 bits (fixed 8.8).");this.yD=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(Ff(this.balance,8),16),n.writer.writeUInt(0,16)}})(Xf),function(t){var n=function(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i};If(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){if(!Uf(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Uf(t,32)})))throw new f("Not all entries can be represented in 32 bits.");this.mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(Xf),function(t){var n=function(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i};If(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.mx},set:function(t){if(!Uf(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!Uf(t.sampleCount,32)||!Uf(t.sampleDelta,32)})))throw new f("Not all entries can be represented in 64 bits.");this.mx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),n.writer.writeUInt(e.sampleDelta,32)}}}(Xf),function(t){var n=function(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i};If(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.Hx},set:function(t){if(!Uf(t,32))throw new f("The provided trackId does not fit in 32 bits.");this.Hx=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Sv),function(t){var n=function(){return t.call(this,"udta")||this};If(n,t)}(Av);var zd={red:0,green:0,blue:0},Wd=(function(t){var n=function(n,i){void 0===n&&(n=0),void 0===i&&(i=zd);var r=t.call(this,"vmhd",0,1)||this;return r.graphicsMode=n,r.opColor=i,r};If(n,t),d.defineProperty(n.prototype,"opColor",{get:function(){return this.bD},set:function(t){if(!Uf(t.red,16)||!Uf(t.green,16)||!Uf(t.blue,16))throw new f("Not all colors could be represented in 16 bits.");this.bD=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(Xf),function(t){var n=function(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s,o,c,a,h,f=this;return(f=t.call(this,n,i)||this).width=r.width,f.height=r.height,f.horizontalResolution=null!==(s=r.horizontal)&&void 0!==s?s:72,f.verticalResolution=null!==(o=r.vertical)&&void 0!==o?o:72,f.compressorName=null!==(c=e.compressorName)&&void 0!==c?c:"",f.frameCount=null!==(a=e.frameCount)&&void 0!==a?a:1,f.depth=null!==(h=e.depth)&&void 0!==h?h:24,f.clap=e.clap,f.pasp=e.pasp,f.extra=u,f};return If(n,t),d.defineProperty(n.prototype,"width",{get:function(){return this.oc},set:function(t){if(!Uf(t,16))throw new f("Provided width does not fit in 16 bits.");this.oc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.uc},set:function(t){if(!Uf(t,16))throw new f("Provided height does not fit in 16 bits.");this.uc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.TD},set:function(t){if(!Uf(Ff(t,16),32))throw new f("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.TD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.SD},set:function(t){if(!Uf(Ff(t,16),32))throw new f("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.SD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compressorName",{get:function(){return this.kD},set:function(t){if(t.length>31)throw new f("The provided compressorName should at most be 31 characters long.");this.kD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"frameCount",{get:function(){return this.ED},set:function(t){if(!Uf(t,16))throw new f("Provided frameCount does not fit in 16 bits.");this.ED=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"depth",{get:function(){return this.PD},set:function(t){if(!Uf(t,16))throw new f("Provided depth does not fit in 16 bits.");this.PD=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,r,e,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(e=null===(r=this.pasp)||void 0===r?void 0:r.getSize())&&void 0!==e?e:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(Ff(this.horizontalResolution,16),32),n.writer.writeUInt(Ff(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&Hf(n.writer,this.extra)},n}(bv)),Gd=(function(t){var n=function(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i};If(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(Bf.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(Xf),function(t){var n=function(n,i,r){var e=t.call(this,"mp4a",n,r)||this;return e.esd=i,e};If(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Tv),function(t){var n=function(n,i,r,e){void 0===e&&(e={});var u=t.call(this,"mp4v",n,i,e)||this;return u.esDescriptor=r,u};If(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Wd),function(t){var n=function(n,i){var r=t.call(this,"mp4s",n)||this;return r.esDescriptor=i,r};If(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(bv),function(t){var n=function(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i};If(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(xf),function(){var t=function(t,n,i,r,e,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=r,this.ppsSets=e};d.defineProperty(t.prototype,"version",{get:function(){return this.RD},set:function(t){if(!Uf(t,8))throw new f("Provided version does not fit in 8 bits.");this.RD=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileIndication",{get:function(){return this.CD},set:function(t){if(!Uf(t,8))throw new f("Provided profileIndication does not fit in 8 bits.");this.CD=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.xD},set:function(t){if(!Uf(t,8))throw new f("Provided profileCompatibility does not fit in 8 bits.");this.xD=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"levelIndication",{get:function(){return this.DD},set:function(t){if(!Uf(t,8))throw new f("Provided levelIndication does not fit in 8 bits.");this.DD=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"spsSets",{get:function(){return this.ND},set:function(t){if(!Uf(t.length,5))throw new f("Provided number of spsSets exceeds the max (32)");this.ND=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"ppsSets",{get:function(){return this.BD},set:function(t){if(!Uf(t.length,8))throw new f("Provided number of ppsSets exceeds the max (256)");this.BD=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,n){return t+n.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,n){return t+n.length}),0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.length,16),t.concat(Bf.from(r))}t.writer.writeByte(this.ppsSets.length);for(var e=0,u=this.ppsSets;e<u.length;e++){var s=u[e];t.writer.writeUInt(s.length,16),t.concat(Bf.from(s))}}}(),function(t){var n=function(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,e)||this;return s.configurationBox=r,s.bitrateBox=u,s};If(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(Wd),function(t){var n=function(n,i,r){var e=t.call(this,"btrt")||this;return e.bufferSizeDb=n,e.max=i,e.avg=r,e};If(n,t),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.ix},set:function(t){if(!Uf(t,32))throw new f("Provided bufferSizeDb does not fit in 32 bits.");this.ix=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"max",{get:function(){return this.LD},set:function(t){if(!Uf(t,32))throw new f("Provided max does not fit in 32 bits.");this.LD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avg",{get:function(){return this.OD},set:function(t){if(!Uf(t,32))throw new f("Provided avg does not fit in 32 bits.");this.OD=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(xf),function(t){var n=function(n,i){var r,e,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(e=null===(r=i.constantIv)||void 0===r?void 0:r.length)&&void 0!==e?e:0)>0)throw new f("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new y(0),o};return If(n,t),d.defineProperty(n.prototype,"isProtected",{get:function(){return this.MD},set:function(t){if(!Uf(t,8))throw new f("Provided isProtected does not fit in 1 byte.");this.MD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.FD},set:function(t){if(![8,16].includes(t))throw new f("Provided perSampleIvSize does not match any allowed value [8, 16].");this.FD=t,this.UD=new y(0)},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"kId",{get:function(){return this.HD},set:function(t){if(16!==t.length)throw new f("Provided kId length is not 16.");this.HD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"constantIv",{get:function(){return this.UD},set:function(t){if(![8,16].includes(t.length))throw new f("Provided constant IV length does not match any allowed value [8, 16].");this.UD=t,this.FD=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),Hf(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),Hf(t.writer,this.constantIv))},n}(Xf)),qd=(function(t){var n=function(n){return t.call(this,0,n)||this};If(n,t)}(Gd),function(t){var n=function(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i};return If(n,t),d.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.VD},set:function(t){if(!Uf(t,4))throw new f("Provided cryptByteBlocks does not fit in 4 bits.");this.VD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.WD},set:function(t){if(!Uf(t,4))throw new f("Provided skipByteBlocks does not fit in 4 bits.");this.WD=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(Gd));!function(t){var n=function(n){var i=t.call(this)||this;return i.tencBox=new qd(n),i};If(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Jv);function Yd(t){return void 0!==t.iv}function jd(t){return void 0!==t.subsamples}(function(t){var n=function(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i};If(n,t),d.defineProperty(n.prototype,"samples",{get:function(){return this.iD},set:function(t){var n;if(!Uf(t.length,32))throw new f("The number of samples provided does not fit in 32 bits.");for(var i=0,r=t;i<r.length;i++){var e=r[i];if(Yd(e)&&![8,16].includes(e.iv.length))throw new f("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=jd(e)),!0===n&&!jd(e)||!1===n&&jd(e))throw new f("Mix of samples with and without subsamples detected.");if(jd(e)){if(!Uf(e.subsamples.length,16))throw new f("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];if(!Uf(o.clearData,16))throw new f("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!Uf(o.protectedData,23))throw new f("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.iD=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,r=this.samples;i<r.length;i++){var e=r[i];Yd(e)&&(n+=e.iv.length),jd(e)&&(n+=2+6*e.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];if(Yd(e)&&Hf(n.writer,e.iv),jd(e)){n.writer.writeUInt(e.subsamples.length,16);for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}})(Xf),function(t){var n=function(n,i,r,e,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=r,s.timescale=e.timescale,s.presentationTimeDelta=e.presentationTimeDelta,s.eventDuration=e.eventDuration,s};If(n,t),d.defineProperty(n.prototype,"timescale",{get:function(){return this.Bx},set:function(t){if(!Uf(t,32))throw new f("The provided timescale does not fit in 32 bits.");this.Bx=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.qD},set:function(t){if(!Uf(t,32))throw new f("The provided presentationTimeDelta does not fit in 32 bits.");this.qD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"eventDuration",{get:function(){return this.zD},set:function(t){if(!Uf(t,32))throw new f("The provided eventDuration does not fit in 32 bits.");this.zD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"id",{get:function(){return this.wS},set:function(t){if(!Uf(t,32))throw new f("The provided id does not fit in 32 bits.");this.wS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(Bf.from(this.data))}}(Xf);var Qd=function(){var t=function(){this.boxes=[]};return t.prototype.serialize=function(){for(var t=new Mf,n=0,i=this.boxes;n<i.length;n++){var r=i[n];t.concat(r.serialize())}return t.toRangedBuffer()},t}();function Kd(t,n){return function(i){var r=function(t,n){for(var i=t.data,r=t.cursor;r.offset<i.byteLength;){var e=fv(i,r);if(!e.complete)return;if(cv(e.box,n))return e.box}}(new ov(ev(i),new sv),t);if(!r)throw new f("".concat(t," box not found"));return n(r)}}var Zd=Kd("moov",Ad),Jd=Kd("sidx",(function(t){var n,i,r=t.data,e=vv(r.nextUint32()),u=e.version,s=e.flags,o=r.nextUint32(),c=r.nextUint32();0===u?(n=r.nextUint32(),i=r.nextUint32()):(n=r.nextUint64(),i=r.nextUint64()),r.skip(2);for(var a=r.nextUint16(),h=[],f=0;f<a;f++){var v=new Pf(Bf.from(r.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),_=v.readUInt(32),g=Boolean(v.readBit()),w=v.readUInt(3),y=v.readUInt(28);h.push({referenceType:d,referencedSize:l,subsegmentDuration:_,startsWithSap:g,sapType:w,sapDeltaTime:y})}return 0===u?new Fd(o,c,n,i,h,s.raw):new Hd(o,c,n,i,h,s.raw)})),$d=Kd("moof",Bd),tl=Kd("pssh",id);function nl(t){return function(t){for(var n=new Qd,i=0,r=hv(t);i<r.length;i++){var e=r[i];cv(e,"ftyp")?n.boxes.push(Bv(e)):cv(e,"styp")?n.boxes.push(Xd(e)):cv(e,"moov")?n.boxes.push(Ad(e)):cv(e,"moof")?n.boxes.push(Bd(e)):cv(e,"mdat")?n.boxes.push(Wv(e)):n.boxes.push(gv(e))}return n}(new ov(ev(t),new sv))}var il=function(t){function n(n,i){var r;(r=t.call(this)||this).QD=n,r.cp=i,r.ZD=!1,r.iN=function(){r.tN()},r.sN=function(t){r.To(new Ga(Uc(r),t.messageType,bf(r.cp,t.message)))},r.nN=function(){r.ZD=!0,r.jD.iA>0&&(r.jD.NC(),r.To(new Wa(Uc(r)))),r.QD.removeEventListener("keystatuseschange",r.iN),r.QD.removeEventListener("message",r.sN)},r.QD.addEventListener("keystatuseschange",r.iN),r.QD.addEventListener("message",r.sN),r.jD=new Ka;var e=[];return r.QD.closed&&e.push($.resolve(r.QD.closed)),r.JD=new kf,e.push(r.JD.jf),r.pd=$.race(e).then(r.nN,r.nN),r.tN(),r}vr(n,t);var i=n.prototype;return i.Xs=function(){if(this.ZD)return this.pd;var t=[];return t.push($.resolve(this.QD.close())),t.push(Ba(1e3)),this.JD.U_($.race(t).catch(rl)),this.ZD=!0,this.pd},i.$D=function(t,n,i){if(Ir.JP){var r=tl(_f(n));if(1===r.version)n=new td(r.systemId,r.data).serialize().join()}return $.resolve(this.QD.generateRequest(t,n)).catch(rl)},i.On=function(t){return $.resolve(this.QD.load(t)).catch(rl)},i.Qu=function(){return $.resolve(this.QD.remove()).catch(rl)},i.Kn=function(t){return $.resolve(this.QD.update(t)).catch(rl)},i.tN=function(){var t=this;this.jD.NC(),this.QD.keyStatuses.forEach((function(n,i){t.eN(i,n)})),this.To(new Wa(this))},i.eN=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=_f(t);if(this.cp===ic&&16===r.byteLength){var e=vf(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.cp===ic&&"status-pending"===n&&(n="usable"),this.jD.DC(r,n)},hr(n,[{key:"XD",get:function(){return this.pd}},{key:"GD",get:function(){return this.QD.expiration}},{key:"KD",get:function(){return this.jD}},{key:"YD",get:function(){return this.QD.sessionId}}]),n}(Ua);function rl(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|_(i[1],16))}throw new Sf(t.message,void 0,n,t)}var el=function(){function t(t,n,i){this.hN=t,this.ap=n,this.xb=i}var n=t.prototype;return n.rN=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){return[2,new il(n.hN.createSession(t),n.ap)]}))}))()},n.oN=function(t){return $.resolve(this.hN.setServerCertificate(t))},n.kn=function(t){return $.resolve(t.setMediaKeys(this.hN))},n.aN=function(t){return $.resolve(t.setMediaKeys(null))},n.ir=function(){return $.resolve()},t}(),ul=function(){function t(t,n,i){this.uN=t,this.cp=n,this.lN=i}var n=t.prototype;return n.cN=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return[4,t.uN.createMediaKeys()];case 1:return n=i.sent(),[2,new el(n,t.cp,t.lN)]}}))}))()},n.dN=function(){return this.lN},hr(t,[{key:"ap",get:function(){return this.uN.keySystem}}]),t}(),sl={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_WEBM:"video/webm",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_WEBM:"audio/webm",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function ol(t){return kc(t,sl.APPLICATION_MP4)||kc(t,sl.VIDEO_MP4)||kc(t,sl.AUDIO_MP4)}function cl(t){return kc(t,sl.VIDEO_WEBM)||kc(t,sl.AUDIO_WEBM)}var al=function(){function t(t,n){this.Iw=t,this.iI=n}return t.prototype.eI=function(t){for(var n=0,i=this.iI;n<i.length;n++){var r=Fo(i[n],2),e=r[0],u=r[1];if(e.toLowerCase()===t.toLowerCase())return u}},t}();function hl(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new al(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),u=[],s=0,o=!1,c=0;c<e.length;c++){var a=e[c];if(o||";"!==a)'"'===a&&(o=!o);else{var h=fl(e.substr(s,c));h&&u.push(h),s=c+1}}if(s!==e.length){var f=fl(e.substr(s));f&&u.push(f)}return new al(r,u)}function fl(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function vl(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function dl(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);if(i){var r=Number(i[1]),e=Number(i[2]);n="avc1."+Ec((r<<16|e).toString(16),6,"0")}return n}function ll(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,kN:r.kN},s=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter((function(t){return Boolean(t.contentType)}));o.length&&(u.audioCapabilities=o.filter((function(r){return _l(t,n,i,r)})),s=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var c=r.videoCapabilities.filter((function(t){return Boolean(t.contentType)}));c.length&&(u.videoCapabilities=c.filter((function(r){return _l(t,n,i,r)})),s=!0,u.videoCapabilities.length&&(e=!0))}return s||(e=t(i,"video/mp4")),e?u:void 0}}function _l(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!ia(n,r.encryptionScheme))&&(!r.robustness&&t(i,vl(r.contentType))))}function gl(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function wl(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function yl(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(ml))||!(!t.videoCapabilities||!t.videoCapabilities.some(ml))}function ml(t){return!t.robustness}function pl(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(xo({},e,{robustness:n}))}return i}var kl=function(){function t(){}return t.prototype.yN=function(t,n){return Mo((function(){var i,r,e,u,o,c,a;return Uo(this,(function(h){switch(h.label){case 0:for(n=n.filter((function(t){return!t.kN})),i=0;i<n.length;i++)(r=n[i]).audioCapabilities&&(r.audioCapabilities=wl(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=wl(r.videoCapabilities));if(t!==uc||!n.some(yl))return[3,4];e=n.map((function(t){return function(t,n){return xo({},t,{videoCapabilities:t.videoCapabilities?pl(t.videoCapabilities,n):void 0,audioCapabilities:t.audioCapabilities?pl(t.audioCapabilities,n):void 0})}(t,"SW_SECURE_CRYPTO")})),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,s.requestMediaKeySystemAccess(t,e)];case 2:return u=h.sent(),o=u.getConfiguration(),[2,new ul(u,t,o)];case 3:return h.sent(),[3,4];case 4:return[4,s.requestMediaKeySystemAccess(t,n)];case 5:return c=h.sent(),a=c.getConfiguration(),[2,new ul(c,t,a)]}}))}))()},t.EN=function(){return Bc()},t}(),Al=function(t){function n(n,i){var r;return(r=t.call(this)||this).NN=n,r.BN=i,r.ZD=!1,r.FN=void 0,r.xN=void 0,r.IN=void 0,r.nN=function(){r.ZD=!0,r.PN.Lf(void 0),r.IN&&(r.IN.removeEventListener("mskeyclose",r.nN),r.IN.removeEventListener("mskeymessage",r.LN),r.IN.removeEventListener("mskeyerror",r.Ps),r.IN.removeEventListener("mskeyadded",r.ON))},r.LN=function(t){r.xN&&(r.xN.Lf(void 0),r.xN=void 0),r.To(new Ga(Uc(r),"license-request",wf(t.message).buffer,t.destinationURL||void 0))},r.Ps=function(){var t=r.IN&&r.IN.error;if(t){var n=new Sf("Unknown CDM error",t.code,t.systemCode);if(r.xN)r.xN.BC(n),r.xN=void 0;else if(r.FN)r.FN.BC(n),r.FN=void 0;else switch(n.LC){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.MN("output-not-allowed");break;default:r.MN("internal-error")}}},r.ON=function(){r.xN&&(r.MN("usable"),r.xN.Lf(void 0),r.xN=void 0),r.FN&&(r.MN("usable"),r.FN.Lf(void 0),r.FN=void 0)},r.PN=new kf,r.RN=new Ka,r}vr(n,t);var i=n.prototype;return i.$D=function(t,n,i){var r=this;return Mo((function(){return Uo(this,(function(t){switch(t.label){case 0:return r.CN(),r.xN=new kf,r.rN(_f(n),i),[4,r.xN.jf];case 1:return t.sent(),[2]}}))}))()},i.rN=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.DN;return(i=n?this.NN.createSession(this.BN,t,r):this.NN.createSession(this.BN,t)).addEventListener("mskeyclose",this.nN),i.addEventListener("mskeymessage",this.LN),i.addEventListener("mskeyerror",this.Ps),i.addEventListener("mskeyadded",this.ON),this.IN=i,this.MN("status-pending"),i},i.On=function(t){var n=this;return Mo((function(){return Uo(this,(function(t){return n.CN(),[2,!0]}))}))()},i.Kn=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:if(n.FN=new kf,n.CN(),!n.IN)return[2,$.resolve()];if(0===(i=_f(t)).byteLength)throw new v("Cannot call update with an empty response.");return n.IN.update(i),[4,n.FN.jf];case 1:return r.sent(),[2]}}))}))()},i.Xs=function(){return!this.ZD&&this.IN&&(this.ZD=!0,this.IN.close()),this.PN.jf},i.Qu=function(){var t=this;return Mo((function(){return Uo(this,(function(n){return t.CN(),[2]}))}))()},i.CN=function(){if(this.ZD)throw new v("Already closing or closed.")},i.MN=function(t){this.RN.NC(),this.RN.DC(Qa,t),this.To(new Wa(this))},hr(n,[{key:"YD",get:function(){return this.IN&&this.IN.sessionId||""}},{key:"GD",get:function(){return NaN}},{key:"XD",get:function(){return this.PN.jf}},{key:"KD",get:function(){return this.RN}}]),n}(Ua),bl=function(){function t(t,n,i){this.NN=t,this.ap=n,this.xb=i;var r=gl(i)||"video/mp4";this.BN=vl(r)}var n=t.prototype;return n.rN=function(t){var n=this;return Mo((function(){return Uo(this,(function(t){return[2,new Al(n.NN,n.BN)]}))}))()},n.oN=function(t){return $.resolve(!1)},n.kn=function(t){var n=this,i=function(){t.msSetMediaKeys(n.NN),t.removeEventListener("loadedmetadata",i)};return t.readyState>=1?t.msSetMediaKeys(this.NN):t.addEventListener("loadedmetadata",i),$.resolve()},n.aN=function(t){return $.resolve()},n.ir=function(){return $.resolve()},t}(),Tl=function(){function t(t,n){this.cp=t,this.al=n}var n=t.prototype;return n.dN=function(){return this.al},n.cN=function(){var t=new qs.MSMediaKeys(this.cp);return $.resolve(new bl(t,this.cp,this.al))},hr(t,[{key:"ap",get:function(){return this.cp}}]),t}(),Sl=function(){function t(){}return t.prototype.yN=function(t,n){try{return $.resolve(function(t,n){if(!El())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=ll(Il,Xa,t,r);if(e)return new Tl(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return $.reject(t)}},t.EN=function(){return El()},t}();function El(){return void 0!==qs.MSMediaKeys&&"function"==typeof qs.MSMediaKeys.isTypeSupported}function Il(t,n){return qs.MSMediaKeys.isTypeSupported(t,n)}var Rl,Nl,Cl=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).WN=n,e.BN=i,e.VN=r,e.PN=new kf,e.zN=void 0,e.RN=new Ka,e.UN=void 0,e.qN=new kf,e.Ps=function(){var t=e.UN&&e.UN.error;if(t){var n=new Sf("Unknown CDM error",t.code,t.systemCode);e.zN?(e.zN.BC(n),e.zN=void 0):n.LC===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.MN("output-not-allowed"):e.MN("internal-error"),e.To(new qa)}},e.LN=function(t){e.To(new Ga(Uc(e),"license-request",wf(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.ON=function(){e.zN&&(e.zN.Lf(void 0),e.zN=void 0),e.MN("usable")},e}vr(n,t);var i=n.prototype;return i.$D=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.HN;if(!r)throw new v("Expected FairPlay contentId to be defined but was "+r+".");var e=function(t,n,i){var r=of(t),e=2*r.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+i.byteLength),o=new DataView(s),c=new mf;return Hh(o,c,e,!0),$h(o,c,r,!0),Hh(o,c,u,!0),$h(o,c,n,!0),Hh(o,c,i.byteLength,!0),Bh(o,c,i),new y(s)}(_f(n),r,this.VN);return this.UN=this.WN.createSession(this.BN,e),this.UN.addEventListener("webkitkeymessage",this.LN,!1),this.UN.addEventListener("webkitkeyadded",this.ON,!1),this.UN.addEventListener("webkitkeyerror",this.Ps,!1),this.MN("status-pending"),this.qN.Lf(this.UN),this.qN=new kf,$.resolve()},i.On=function(t){return $.resolve(!0)},i.Kn=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:if(0===(i=_f(t)).byteLength)throw new v("Cannot call update with an empty response.");return n.zN=new kf,(r=n.UN)?[3,2]:[4,n.qN.jf];case 1:r=e.sent(),e.label=2;case 2:return r.update(i),[4,n.zN.jf];case 3:return e.sent(),[2]}}))}))()},i.Xs=function(){var t,n=this.UN;return n&&(n.removeEventListener("webkitkeymessage",this.LN,!1),n.removeEventListener("webkitkeyadded",this.ON,!1),n.removeEventListener("webkitkeyerror",this.Ps,!1),n.close()),this.qN.Jl(),null==(t=this.zN)||t.Jl(),this.PN.Lf(void 0),this.PN.jf},i.Qu=function(){return $.resolve(void 0)},i.MN=function(t){this.RN.NC(),this.RN.DC(Qa,t),this.To(new Wa(this))},hr(n,[{key:"YD",get:function(){return this.UN?this.UN.sessionId:""}},{key:"GD",get:function(){return NaN}},{key:"XD",get:function(){return this.PN.jf}},{key:"KD",get:function(){return this.RN}}]),n}(Ua);!function(t){t[t.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",t[t.LICENSE_ERROR=2e3]="LICENSE_ERROR",t[t.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",t[t.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",t[t.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",t[t.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",t[t.SOURCE_INVALID=3e3]="SOURCE_INVALID",t[t.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",t[t.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",t[t.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",t[t.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",t[t.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",t[t.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",t[t.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",t[t.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",t[t.MEDIA_ABORTED=5004]="MEDIA_ABORTED",t[t.NETWORK_ERROR=6e3]="NETWORK_ERROR",t[t.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",t[t.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",t[t.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",t[t.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",t[t.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",t[t.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",t[t.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",t[t.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",t[t.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",t[t.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",t[t.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",t[t.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",t[t.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",t[t.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",t[t.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",t[t.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",t[t.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",t[t.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",t[t.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",t[t.AD_ERROR=1e4]="AD_ERROR",t[t.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",t[t.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",t[t.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",t[t.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR"}(Rl||(Rl={})),function(t){t[t.CONFIGURATION=1]="CONFIGURATION",t[t.LICENSE=2]="LICENSE",t[t.SOURCE=3]="SOURCE",t[t.MANIFEST=4]="MANIFEST",t[t.MEDIA=5]="MEDIA",t[t.NETWORK=6]="NETWORK",t[t.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",t[t.SUBTITLE=8]="SUBTITLE",t[t.VR=9]="VR",t[t.AD=10]="AD",t[t.FULLSCREEN=11]="FULLSCREEN",t[t.CACHE=12]="CACHE"}(Nl||(Nl={})),function(t){t.fromCode=function(t){var n=l.floor(t/1e3);if(n in Nl)return n;throw new v("Invalid error code: "+t)}}(Nl||(Nl={}));var Dl=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).code=n,e}return vr(n,t),hr(n,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return Nl.fromCode(this.code)}}]),n}(ya);var Pl=function(){function t(t,n,i){this.WN=t,this.ap=n,this.xb=i,this.VN=void 0;var r=gl(i)||"video/mp4";this.BN=vl(r)}var n=t.prototype;return n.getInternalMediaKeys=function(){return this.WN},n.rN=function(t){var n=this;return Mo((function(){return Uo(this,(function(t){if(!n.VN)throw new Dl(Rl.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new Cl(n.WN,n.BN,n.VN)]}))}))()},n.oN=function(t){return this.VN=_f(t),$.resolve(!0)},n.kn=function(t){return t.webkitSetMediaKeys(this.WN),$.resolve()},n.aN=function(t){return t.webkitSetMediaKeys(null),$.resolve()},n.ir=function(){return $.resolve()},t}(),Ol=function(){function t(t,n){this.cp=t,this.al=n}var n=t.prototype;return n.dN=function(){return this.al},n.cN=function(){var t=new qs.WebKitMediaKeys(this.cp);return $.resolve(new Pl(t,this.cp,this.al))},hr(t,[{key:"ap",get:function(){return this.cp}}]),t}(),Bl=function(){function t(){}return t.prototype.yN=function(t,n){try{return $.resolve(function(t,n){if(t!==hc)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Ll())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=ll(Ml,za,t,r);if(e)return new Ol(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return $.reject(t)}},t.EN=function(){return Ll()},t}();function Ll(){return void 0!==qs.WebKitMediaKeys&&"function"==typeof qs.WebKitMediaKeys.isTypeSupported}function Ml(t,n){return qs.WebKitMediaKeys.isTypeSupported(t,n)}var xl=function(){function t(t){this.XN=t}return t.prototype.yN=function(t,n){var i=this;return Mo((function(){var r,e,u;return Uo(this,(function(s){switch(s.label){case 0:r=0,e=i.XN,s.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],s.label=2;case 2:return s.trys.push([2,4,,5]),[4,u.yN(t,n)];case 3:return[2,s.sent()];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:throw new v("Unsupported key system configuration for "+t)}}))}))()},t}(),Ul=function(){function t(t){var n=this;this.KN=[],this.jN=void 0,this.QN=new pa,this.YN=function(){return 0===n.KN.length?n.JN?Fl(n.JN,n.QN.M_).then(n.$N,n.$N):n.$N():n.KN.shift()().then(n.YN)},this.$N=function(){if(0!==n.KN.length)return n.YN();n.jN=void 0},this.JN=t}var n=t.prototype;return n.GN=function(t,n){var i=this;return new $((function(r){var e=new pa;e.U_(i.QN.M_),n&&e.U_(n);var u=function(){e.Ou()};i.KN.push((function(){var n=Fl(t,e.M_);return r(n),n.then(u,u)})),i.jN||(i.jN=i.YN())}))},n.Jl=function(){return this.ZN(!0)},n.bn=function(){return this.JN=void 0,this.ZN(!1)},n.ZN=function(t){var n=this.jN;return this.QN.Jl(),t&&(this.QN=new pa),$.resolve(n)},t}();function Fl(t,n){return new $((function(i){return i(t(n))}))}var Hl,Vl=new Ul,Xl=function(t){function n(n){var i;return(i=t.call(this)||this).cp=n,i.xN=void 0,i.zN=void 0,i.GC=!1,i.aB=void 0,i.nB=void 0,i.PN=new kf,i.oB="",i.rB=new kf,i.hB=new Ka,i}vr(n,t);var i=n.prototype;return i.tB=function(){this.zN&&(this.MN("usable"),this.zN.Lf(void 0),this.zN=void 0)},i.eB=function(t){var n=new Sf("Unknown CDM error",t.errorCode,t.systemCode);this.zN?(this.zN.BC(n),this.zN=void 0):this.xN?(this.xN.BC(n),this.xN=void 0):n.LC===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.MN("output-restricted"):1===n.OC?this.MN("expired"):this.MN("internal-error")},i.iB=function(t){0!==t.message.byteLength&&(this.xN&&(this.xN.Lf(void 0),this.xN=void 0),this.To(new Ga(this,"license-request",bf(this.cp,wf(t.message).buffer),t.defaultURL||void 0)))},i.sB=function(t){this.nB||(this.nB=t,this.rB.Lf(t))},i.Xs=function(){var t=this;return Mo((function(){return Uo(this,(function(n){return t.throwIfClosed(),t.zN&&(t.zN.BC(void 0),t.zN=void 0),t.GC=!0,t.PN.Lf(void 0),[2]}))}))()},i.$D=function(t,n){var i=this;return Mo((function(){var t;return Uo(this,(function(r){switch(r.label){case 0:return i.throwIfClosed(),i.xN=new kf,i.aB=_f(n),(t=i.nB)?[3,2]:[4,i.rB.jf];case 1:t=r.sent(),r.label=2;case 2:return t.webkitGenerateKeyRequest(i.cp,i.aB),[4,i.xN.jf];case 3:return r.sent(),[2]}}))}))()},i.On=function(t){var n=this;return Mo((function(){return Uo(this,(function(t){return n.throwIfClosed(),[2,!1]}))}))()},i.Qu=function(){var t=this;return Mo((function(){return Uo(this,(function(n){return t.throwIfClosed(),[2]}))}))()},i.Kn=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.throwIfClosed(),n.zN=new kf,Ir.mR||Ir._R?[2,Vl.GN(Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))})))]:[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))}))()},i.doUpdate=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return void 0===n.zN?[2]:(i=n.nB)?[3,2]:[4,n.rB.jf];case 1:i=r.sent(),r.label=2;case 2:return i.webkitAddKey(n.cp,_f(t),n.aB,n.YD),[4,n.zN.jf];case 3:return r.sent(),[2]}}))}))()},i.throwIfClosed=function(){if(this.GC)throw new v("Already closing or closed.")},i.MN=function(t){this.hB.NC(),this.hB.DC(Qa,t),this.To(new Wa(this))},i.uB=function(){var t=this;return Mo((function(){var n,i;return Uo(this,(function(r){switch(r.label){case 0:return(i=t.nB)?[3,2]:[4,t.rB.jf];case 1:i=r.sent(),r.label=2;case 2:if(!(n=i).webkitCancelKeyRequest)return[3,7];r.label=3;case 3:return r.trys.push([3,4,5,7]),n.webkitCancelKeyRequest(t.cp,t.oB),[3,7];case 4:return r.sent(),[3,7];case 5:return[4,Ba(500)];case 6:return r.sent(),[7];case 7:return[2]}}))}))()},hr(n,[{key:"KD",get:function(){return this.hB}},{key:"YD",get:function(){return this.oB},set:function(t){this.oB=t}},{key:"XD",get:function(){return this.PN.jf}},{key:"GD",get:function(){return NaN}}]),n}(Ua),zl=function(){function t(t,n){var i=this;this.ap=t,this.xb=n,this.nB=void 0,this.dB=Vo(),this.fB=[],this.ON=function(t){var n=i._B(t.sessionId);n&&n.tB()},this.cB=function(t){var n=i._B(t.sessionId);n&&n.eB(t)},this.lB=function(t){var n=i._B(t.sessionId);n&&n.iB(t)}}var n=t.prototype;return n.kn=function(t){return this.nB=t,this.nB.addEventListener("webkitkeyadded",this.ON),this.nB.addEventListener("webkitkeyerror",this.cB),this.nB.addEventListener("webkitkeymessage",this.lB),this.dB.forEach((function(n,i){return n.sB(t)})),this.fB.forEach((function(n){return n.sB(t)})),$.resolve()},n.aN=function(t){return t.removeEventListener("webkitkeyadded",this.ON),t.removeEventListener("webkitkeyerror",this.cB),t.removeEventListener("webkitkeymessage",this.lB),this.nB=void 0,$.resolve()},n.ir=function(){var t=this;return Mo((function(){var n,i;return Uo(this,(function(r){switch(r.label){case 0:n=t.dB.entries(),i=n.next(),r.label=1;case 1:return i.done?[3,3]:[4,i.value[1].uB()];case 2:return r.sent(),i=n.next(),[3,1];case 3:return t.dB.clear(),[2]}}))}))()},n.rN=function(t,n,i){var r=this;return Mo((function(){var t;return Uo(this,(function(n){return t=new Xl(r.ap),r.nB&&t.sB(r.nB),r.fB.push(t),[2,t]}))}))()},n.oN=function(t){return $.resolve(!1)},n._B=function(t){if(t){var n=this.dB.get(t);return n||((n=this.fB.shift())?(n.YD=t,this.dB.set(t,n),n):void 0)}},t}(),Wl=function(){function t(t,n){this.ap=t,this.gB=n}var n=t.prototype;return n.cN=function(){return $.resolve(new zl(this.ap,this.gB))},n.dN=function(){return this.gB},t}(),Gl=function(){function t(){}return t.prototype.yN=function(t,n){try{return $.resolve(function(t,n){if(!Gl.EN())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=ll(ql,Xa,t,r);if(e)return new Wl(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return $.reject(t)}},t.EN=function(){return Lc()},t}();function ql(t,n){var i=vo();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Yl(){return Hl||(Hl=function(){var t=[];Bl.EN()&&t.push(new Bl);kl.EN()&&t.push(new kl);Sl.EN()&&t.push(new Sl);Gl.EN()&&t.push(new Gl);return new xl(t)}()),Hl}var jl=function(){function t(){this.hH=Vo()}var n=t.prototype;return n.NC=function(t){this.hH.delete(t)},n.oH=function(){this.hH.clear()},n.RC=function(t){return this.hH.get(t)},n.dO=function(t,n){this.hH.set(t,n)},t}(),Ql=function(){function t(){}return t.aH=function(){return t.lC||(t.lC=Kl.EN()?new Kl:new jl),t.lC},t.NC=function(n){t.aH().NC(n)},t.oH=function(){t.aH().oH()},t.RC=function(n){return t.aH().RC(n)},t.dO=function(n,i){t.aH().dO(n,i)},t}();Ql.lC=void 0;var Kl=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.NC=function(t){self.sessionStorage.removeItem(t)},i.oH=function(){self.sessionStorage.clear()},i.RC=function(t){var n;return null!=(n=self.sessionStorage.getItem(t))?n:void 0},i.dO=function(t,n){self.sessionStorage.setItem(t,n)},n.EN=function(){var t="foobar";try{return self.sessionStorage.setItem(t,t),self.sessionStorage.removeItem(t),!0}catch(t){return!1}},n}(Ql);var Zl=function(){var t=self.Blob;if(t)try{new t;return function(t){return function(n,i){return new t(n,i)}}(t)}catch(t){}var n=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;if(n)return function(t){return function(n,i){var r=new t;if(n)for(var e=0;e<n.length;e++){var u=n[e];r.append(u)}return r.getBlob(i&&i.type||"")}}(n)}();function Jl(t,n,i){var r=Zl([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),s=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}var $l,t_,n_="default";!function(t){t.Vw="Ww",t.qw="zw",t.Xw="contentprotectionerror",t.Gw="contentprotectionsuccess",t.Qw="currentsourcechange",t.Kw="destroy",t.Nf="durationchange",t.jw="emptied",t.Yw="encrypted",t.Pf="ended",t.Zw="Jw",t.$w="tm",t.im="nm",t.hm="um",t.Ef="loadstart",t.lm="manifestupdate",t.dm="nosupportedrepresentationfound",t.fm="offline",t._m="online",t.Ch="pause",t.Ph="play",t.Rf="progress",t.Vu="ratechange",t.gm="representationchange",t.vm="resize",t.Tf="seeked",t.If="seeking",t.wm="segmentnotfound",t.pm="ym",t.Am="Tm",t.do="sourcechange",t.Lu="timeupdate",t.Il="volumechange",t.Sm="Em",t.Im="metricschange"}($l||($l={})),function(t){t.OI="arraybuffer",t.MI="json",t.FI="stream",t.KT="text"}(t_||(t_={}));var i_=function(){function t(n){var i=this;this.I_={},n instanceof t?n.asList().forEach((function(t){var n=Fo(t,2),r=n[0],e=n[1];i.append(r,e)})):Array.isArray(n)?n.forEach((function(t){i.append(t[0],t[1])})):n&&d.getOwnPropertyNames(n).forEach((function(t){i.append(t,n[t])}))}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=r_(i),r=e_(r);var e=i.toLowerCase();if(this.I_.hasOwnProperty(e)){var u=this.I_[e],s=u[1];u[1]=s?s+", "+r:r}else this.I_[e]=[i,r]},n.delete=function(t){var n=r_(t).toLowerCase();delete this.I_[n]},n.get=function(t){var n=r_(t).toLowerCase();return this.I_.hasOwnProperty(n)?this.I_[n][1]:null},n.has=function(t){var n=r_(t).toLowerCase();return this.I_.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=r_(i)).toLowerCase();this.I_[r]=[i,e_(n)]},n.forEach=function(t,n){for(var i in this.I_)this.I_.hasOwnProperty(i)&&t.call(n,this.I_[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.I_)if(this.I_.hasOwnProperty(n)){var i=Fo(this.I_[n],2),r=i[0],e=i[1];t.push([r,e])}return t},n.UI=function(){var t={};return this.forEach((function(n,i){t[i]=n})),t},n.HI=function(t){var n=this;t.forEach((function(t,i){n.append(i,t)}))},n.VI=function(t){var n=this;t.forEach((function(t,i){n.set(i,t)}))},t}();function r_(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function e_(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var u_,s_=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return vr(n,t),hr(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(ya);function o_(t){return function(t){return new Fi({start:function(n){for(var i=0;i<t.length;i++){var r=t[i];n.enqueue(r)}n.close()}})}([t])}function c_(t){return o_(function(t){return new y(t)}(t))}function a_(t,n){return function(t,n){var i=n,r=t.getReader(),e=new kf,u=function(){s();var t=new ka;r.cancel(t).catch(Vr),e.BC(t)},s=function(){i&&(i.B_(u),i=void 0)};i&&(i.R_?u():i.N_(u));var o=[],c=function(t){return t.done?(s(),$.resolve(o)):(o.push(t.value),$.resolve(r.read()).then(c))};return $.resolve(r.read()).then(c).then((function(t){s(),e.Lf(t)}),(function(t){s(),e.BC(t)})),e.jf}(t,n).then((function(t){return fh(t).buffer}))}function h_(t,n){var i=n,r=new Qi,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i.Jl()};return s.closed.then(o,o),t.then((function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(Vr)}),(function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(Vr)})),e}function f_(t){var n=new Qi,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch((function(n){var i;i=Pr(n)?n[0]===n[1]||Aa(n[0])&&Aa(n[1])?n[0]:new s_(n):n,t.cancel(i).catch(Vr)})),i.tee()}function v_(t){return of(new y(t))}function d_(t){return cf(t).buffer}!function(t){t[t.FI=0]="FI",t[t.NW=1]="NW"}(u_||(u_={}));var l_="content-type",__="text/plain;charset=UTF-8",g_=function(){function t(){}var n=t.prototype;return n._L=function(t){return this._P(t).then(JSON.parse)},n.QB=function(t,n){switch(t){case t_.OI:return this.xL(n);case t_.MI:return this._L(n);case t_.FI:return this.BW();case t_.KT:return this._P(n);default:throw new v}},t}();function w_(t,n,i){if(t instanceof g_)return t;if(t instanceof Fi)return function(t,n){return new m_({Iw:0,BW:t,rM:y_(n)})}(t,i);var r=y_(i),e=$.resolve(t).then((function(t){return function(t,n){if(t){if("string"==typeof t)return{Iw:t_.KT,tP:t,rM:n||__};if(t instanceof ArrayBuffer||ch(t))return{Iw:t_.OI,tP:E_(t),rM:n};if(Lr(t)||Pr(t))return{Iw:t_.MI,tP:t,rM:n};throw new v("Unsupported BodyInit type")}return{Iw:t_.KT,tP:null,rM:n}}(t,r)}));return new m_({Iw:1,jf:e,LW:n})}function y_(t){return(t.get(l_)||"").toLowerCase()}var m_=function(t){function n(n){var i;return(i=t.call(this)||this).MW=!1,i.UW=new kf,i.UW.jf.catch(Vr),i.qW(n),i}vr(n,t);var i=n.prototype;return i.FW=function(){return this.UW.jf},i._P=function(t){return this.HW(p_,t)},i._L=function(t){return this.HW(A_,t)},i.xL=function(t){return this.HW(T_,t)},i.BW=function(){return this.VW(function(t){return 0===t.Iw?t.BW:h_(t.jf.then(S_).then(c_),t.LW)}(this.WW))},i.HW=function(t,n){if(this.MW)return $.reject(new v("Already used"));this.MW=!0;var i=t(this.WW,n);return this.UW.U_(i.then(Vr)),i},i.VW=function(t){if(this.MW)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.MW=!0;var n=new Qi,i=$.resolve(t.pipeTo(n.writable));return this.UW.U_(i),n.readable},i.qW=function(t){this.WW=t,1===t.Iw&&t.jf.catch(Vr)},i.zW=function(){if(this.MW)throw new v("Already used");var t=function(t){if(0===t.Iw){var n=Fo(t.BW.tee(),2),i=n[0],r=n[1];return[{Iw:t.Iw,BW:i,rM:t.rM},{Iw:t.Iw,BW:r,rM:t.rM}]}var e=Fo(t.LW.H_(),2),u=e[0],s=e[1];return[{Iw:t.Iw,jf:t.jf,LW:u},{Iw:t.Iw,jf:t.jf,LW:s}]}(this.WW),i=t[0],r=t[1];return this.qW(i),new n(r)},hr(n,[{key:"OW",get:function(){return this.MW}}]),n}(g_);function p_(t,n){return 0===t.Iw?a_(t.BW,n).then(v_):(n&&t.LW.U_(n),Ia(t.jf.then(k_),t.LW))}function k_(t){switch(t.Iw){case t_.KT:return $.resolve(t.tP||"");case t_.OI:return $.resolve(t.tP).then(v_);case t_.MI:return $.resolve(t.tP).then(JSON.stringify)}}function A_(t,n){return 0===t.Iw?p_(t,n).then(JSON.parse):(n&&t.LW.U_(n),Ia(t.jf.then(b_),t.LW))}function b_(t){return t.Iw===t_.MI?$.resolve(t.tP):k_(t).then(JSON.parse)}function T_(t,n){return 0===t.Iw?a_(t.BW,n):(n&&t.LW.U_(n),Ia(t.jf.then(S_),t.LW))}function S_(t){switch(t.Iw){case t_.OI:return $.resolve(t.tP);case t_.KT:case t_.MI:return k_(t).then(d_)}}function E_(t){return t instanceof ArrayBuffer?t:wf(df(t)).buffer}var I_=function(t){function n(n){var i;return(i=t.call(this)||this).XW=n,i}vr(n,t);var i=n.prototype;return i.FW=function(){return this.XW.FW()},i._P=function(t){return this.XW._P(t)},i._L=function(t){return this.XW._L(t)},i.xL=function(t){return this.XW.xL(t)},i.BW=function(){return this.XW.BW()},i.zW=function(){return this.XW.zW()},hr(n,[{key:"OW",get:function(){return this.XW.OW}}]),n}(g_);function R_(t){return t.SI>=200&&t.SI<=299||304===t.SI}var N_,C_,D_,P_,O_=function(t){function n(n,i){var r,e,u,s,o,c;i?(e=i.eP,u=i.sP,s=i.SI,o=i.gL,c=i.GW):(e=[],u=t_.KT,s=200,o="OK",c=!1);var a=n.pI,h=new i_(n.eP||e),f=n.sP||u,v=n.gP||(i&&i.pI===a?i.gP:a.TI),d=i?i.XW:null,l=w_(void 0!==n.Ny?n.Ny:d,n.LW||new pa,h);return(r=t.call(this,l)||this).eP=h,r.pI=a,r.gP=v,r.sP=f,r.SI=void 0!==n.SI?n.SI:s,r.gL=void 0!==n.gL?String(n.gL):o,r.GW=n.GW||c,r}vr(n,t);var i=n.prototype;return i.Ny=function(t){return this.QB(this.sP,t)},i.Iy=function(){return new n({Ny:this.zW(),pI:this.pI},this)},n}(I_);!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(N_||(N_={})),function(t){t.YT="",t.WI="manifest",t.qI="segment",t.zI="preload-hint",t.XI="content-protection"}(C_||(C_={})),function(t){t.YT="",t.GI="initialization-segment",t.QI="fairplay-license",t.KI="fairplay-certificate",t.jI="widevine-license",t.YI="widevine-certificate",t.ZI="playready-license",t.JI="clearkey-license",t.$I="aes128-key"}(D_||(D_={})),function(t){t.YT="",t.yy="audio",t.vl="video",t.KT="text",t.jT="image"}(P_||(P_={}));var B_=function(t,n){var i,r,e,u,s,o,c,a,h,f,v,d,l=t.TI;n?(i=n.tP,r=n.eP,e=n.iP,u=n.sP,s=n.kI,o=n.nP,c=n.M_,a=n.Iw,h=n.rP,f=n.hP,v=n.oP,d=n.aP):(i=null,r={},e="GET",u=t_.KT,s=0,o=0,a="",h="",f="",v=!1),this.TI=l,this.tP=t.tP||i,this.eP=new i_(t.eP||r),this.iP=t.iP||e,this.sP=t.sP||u,this.kI=void 0!==t.kI?Number(t.kI)||0:s,this.nP=void 0!==t.nP?Number(t.nP)||0:o,this.M_=t.M_||c||(new pa).M_,this.Iw=t.Iw||a,this.rP=t.rP||h,this.hP=t.hP||f,this.oP=void 0!==t.oP?Boolean(t.oP):v,this.aP=t.aP||d},L_=function(){function t(){}var n=t.prototype;return n.pI=function(t){var n=function(t){return new O_({Ny:null,eP:{},pI:t,gP:t.TI,sP:t.sP,SI:0,gL:$l.fm})}(new B_(t));return $.resolve(n)},n.PV=function(t){},n.bn=function(){},t}();var M_=function(){function t(t,n){void 0===n&&(n=!0),this.YW=t,this.JW=n}var n=t.prototype;return n.pI=function(t){var n=this.jW(t);return this.YW.pI(n)},n.PV=function(t){return this.YW.PV(this.ZW(t))},n.jW=function(n){var i=new B_(n);if(!this.JW){var r=t.$W(i.TI);i=new B_({TI:r},i)}return i},n.ZW=function(n){var i=n.TI;return this.JW||(i=t.$W(i)),{TI:i,tP:n.tP}},n.bn=function(){this.YW.bn()},t.$W=function(t){return tr.tq&&Ac(t,"http://")?t.replace(":","s:"):t},hr(t,null,[{key:"QW",get:function(){return t.KW||(t.KW=new t(new L_)),t.KW}}]),t}();function x_(t,n){for(var i=0,r=d.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function U_(t,n){var i=tr.Fm(t);return n&&!bc(i,"/")&&(i+="/"),i}M_.KW=void 0;var F_,H_=/cache:(.+)?(?=&|$)/,V_="http://webcache.googleusercontent.com/search?q=cache:";function X_(t){if(!Ac(t,V_))return"";var n=tr.Rh(t).search.match(H_);return n&&n.length>1?n[1]:""}function z_(t){return tr.Rh(".",t)}!function(t){t.vI="HttpOpenError",t.wI="HttpResponseError",t.mI="HttpTimeoutError"}(F_||(F_={}));var W_=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).yI=n,e}return vr(n,t),hr(n,[{key:"pI",get:function(){return this.yI}}]),n}(ya);var G_=function(t){function n(n,i){return t.call(this,n,function(t){return"Error while opening "+t+". Invalid URL."}(n.TI),i)}return vr(n,t),hr(n,[{key:"name",get:function(){return F_.vI}}]),n}(W_);var q_=function(t){function n(n,i,r){var e;return(e=t.call(this,n.pI,null!=r?r:function(t){return"Error while loading "+t.pI.TI+", status code "+t.SI}(n),i)||this).bI=n,e}return vr(n,t),hr(n,[{key:"name",get:function(){return F_.wI}},{key:"AI",get:function(){return this.bI}}]),n}(W_);var Y_=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.TI+" timed out after "+t.kI+" seconds."}(n),i)}return vr(n,t),hr(n,[{key:"name",get:function(){return F_.mI}}]),n}(W_),j_=function(t,n){return(j_=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Q_(t,n){function i(){this.constructor=t}j_(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var K_="object"==typeof r?r:"object"==typeof self?self:"object"==typeof global?global:null;var Z_=function(){var t=K_.Blob;if(t)try{return new t,function(t,n){return new K_.Blob(t,n)}}catch(t){}var n=K_.BlobBuilder||K_.WebKitBlobBuilder||K_.MozBlobBuilder||K_.MSBlobBuilder;return n?function(t){return function(n,i){var r=new t;if(n)for(var e=0,u=n;e<u.length;e++){var s=u[e];r.append(s)}return r.getBlob(i&&i.type||"")}}(n):null}(),J_="function"==typeof Fi?Fi:void 0;function $_(t){return t&&"function"==typeof t.getReader}function tg(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&$_(i)}catch(t){return!1}}var ng=function(){function t(t,n){this.wd=t,this.S9=n}return t.prototype.pull=function(t){var n=this;return this.wd.read().then((function(i){n.S9&&n.S9(i),i.done?t.close():t.enqueue(i.value)}))},t.prototype.cancel=function(t){return this.wd.cancel(t)},t}();function ig(t,n){return n.constructor===t?n:new t(new ng(n.getReader()),{highWaterMark:0})}var rg=function(){function t(t,n){this.k9=t,this.E9=n}return t.prototype.pull=function(t){return this.k9().then((function(n){t.enqueue(new y(n)),t.close()}))},t.prototype.cancel=function(t){this.E9&&this.E9(t)},t}();function eg(t,n,i){return new t(new rg(n,i),{highWaterMark:0})}var ug={searchParams:"URLSearchParams"in K_,iterable:"Symbol"in K_&&"iterator"in Symbol,blob:"FileReader"in K_&&!!Z_,formData:"FormData"in K_,arrayBuffer:"ArrayBuffer"in K_,stream:tg(J_),streamRequest:"Request"in K_&&"body"in K_.Request.prototype,streamResponse:"Response"in K_&&"body"in K_.Response.prototype,abort:"AbortController"in K_&&"Request"in K_&&"signal"in K_.Request.prototype,encoding:"TextEncoder"in K_&&"TextDecoder"in K_,url:"URL"in K_&&function(t){try{return new K_.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in K_&&/Firefox\//.test(K_.navigator.userAgent)};function sg(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function og(t){return"string"!=typeof t&&(t=String(t)),t}function cg(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return ug.iterable&&(n[Symbol.iterator]=function(){return n}),n}var ag=function(){function t(t){var n=this;this.I_={};var i=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};!function(t){return t&&"function"==typeof t.forEach}(t)?!function(t){return ug.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach((function(i){n.append(i,t[i])})):Array.from(t).forEach(i):t.forEach(i)}return t.prototype.append=function(t,n){t=sg(t),n=og(n);var i=t.toLowerCase();if(this.I_.hasOwnProperty(i)){var r=this.I_[i],e=r[1];r[1]=e?e+", "+n:n}else this.I_[i]=[t,n]},t.prototype.delete=function(t){var n=sg(t).toLowerCase();delete this.I_[n]},t.prototype.get=function(t){var n=sg(t).toLowerCase();return this.I_.hasOwnProperty(n)?this.I_[n][1]:null},t.prototype.has=function(t){var n=sg(t).toLowerCase();return this.I_.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=sg(t)).toLowerCase();this.I_[i]=[t,og(n)]},t.prototype.forEach=function(t,n){for(var i in this.I_)this.I_.hasOwnProperty(i)&&t.call(n,this.I_[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach((function(n,i){t.push(i)})),cg(t)},t.prototype.values=function(){var t=[];return this.forEach((function(n){t.push(n)})),cg(t)},t.prototype.entries=function(){var t=[];return this.forEach((function(n,i){t.push([i,n])})),cg(t)},t.prototype.asList=function(){var t=[];for(var n in this.I_)if(this.I_.hasOwnProperty(n)){var i=this.I_[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function hg(){}ug.iterable&&(ag.prototype[Symbol.iterator]=ag.prototype.entries);var fg,vg,dg,lg=l.min,_g=String.fromCharCode,gg=16384;function wg(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=gg){var e=lg(r+gg,n);i.push(_g.apply(null,t.slice(r,e)))}return i.join("")}(n)}function yg(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function mg(t,n){return t>>n&63|128}function pg(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(yg(t),n.push(t>>12&15|224),n.push(mg(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(mg(t,12)),n.push(mg(t,6))),n.push(63&t|128)):n.push(t)}function kg(){if(dg>=vg)throw new f("Invalid byte index");var t=255&fg[dg];if(dg++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function Ag(){var t,n;if(dg>vg)throw new f("Invalid byte index");if(dg===vg)return!1;if(t=255&fg[dg],dg++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|kg())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|kg()<<6|kg())>=2048)return yg(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|kg()<<12|kg()<<6|kg())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var bg=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Tg(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Sg(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Eg(t){return t&&DataView.prototype.isPrototypeOf(t)}var Ig,Rg=ArrayBuffer.isView||function(t){return t&&(bg.indexOf(d.prototype.toString.call(t))>-1||Eg(t))};function Ng(t){if(t.bodyUsed)return $.reject(new v("Already used"));t.bodyUsed=!0}function Cg(t){return new $((function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}}))}function Dg(t){return ug.encoding?new K_.TextDecoder("utf-8").decode(new y(t)):wg(function(t){vg=(fg=t).length,dg=0;for(var n,i=[];!1!==(n=Ag());)i.push(n);return i}(new y(t)))}function Pg(t){return ug.encoding?(new K_.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,r=t;i<r.length;i++)pg(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function Og(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,u=t.value;return e?$.resolve(i):(i.push(u),n.read().then(r))};return n.read().then(r)}function Bg(t){return Og(t).then((function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(c=r[i]).byteLength;for(var e=new y(n),u=0,s=0,o=t;s<o.length;s++){var c=o[s];e.set(c,u),u+=c.byteLength}return e}(t).buffer}))}function Lg(t){return t.slice?t.slice(0):Mg(new y(t))}function Mg(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function xg(t){var n=new FormData;return t.trim().split("&").forEach((function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}})),n}function Ug(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.I9===Ig.P9){if(!n.R9.tee)throw new f("could not clone ReadableStream body");var i=n.R9.tee(),r=i[0],e=i[1];return n.body=r,n.R9=r,n.C9=r,e}return n.I9===Ig.OI?Lg(n.R9):n.I9===Ig.NW?n.R9.then(Ug):n.C9}!function(t){t[t.KT=0]="KT",t[t.x9=1]="x9",t[t.D9=2]="D9",t[t.OI=3]="OI",t[t.P9=4]="P9",t[t.NW=5]="NW"}(Ig||(Ig={}));var Fg=function(){function t(n,i){this.bodyUsed=!1;var r=this;if(this.C9=n||null,n)if("string"==typeof n)this.I9=Ig.KT,this.R9=n;else if(function(t){return t&&"function"==typeof t.then}(n))this.I9=Ig.NW,this.R9=$.resolve(n).then((function(n){return new t(n,i)})),this.R9.catch(hg);else if(ug.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.I9=Ig.x9,this.R9=n;else if(ug.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.I9=Ig.D9,this.R9=n;else if(ug.searchParams&&Tg(n))this.I9=Ig.KT,this.R9=n.toString();else if(ug.arrayBuffer&&(Sg(n)||Rg(n)))Eg(n)&&(this.C9=function(t){return new y(t.buffer,t.byteOffset,t.byteLength)}(n)),this.I9=Ig.OI,this.R9=function(t){return Sg(t)?Lg(t):Mg(t)}(n);else{if(!ug.stream||!$_(n))throw new f("unsupported BodyInit type");n=ig(J_,n),this.I9=Ig.P9,this.R9=n,this.C9=n}else this.I9=Ig.KT,this.R9="";this.N9="",i.has("content-type")?this.N9=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.N9="text/plain;charset=UTF-8":r.I9===Ig.x9&&r.R9.type?this.N9=r.R9.type:ug.searchParams&&Tg(n)&&(this.N9="application/x-www-form-urlencoded;charset=UTF-8"),this.N9&&i.set("content-type",this.N9)),ug.stream&&(null==n?this.body=null:r.I9===Ig.P9?this.body=r.R9:this.body=eg(J_,(function(){return r.arrayBuffer()}),(function(){r.bodyUsed=!0})))}return t.prototype.text=function(){var t=this,n=Ng(t);return n||(t.I9===Ig.x9?function(t){var n=new FileReader,i=Cg(n);return n.readAsText(t),i}(t.R9):t.I9===Ig.OI?$.resolve(t.R9).then(Dg):t.I9===Ig.P9?function(t){return Bg(t).then(Dg)}(t.R9):t.I9===Ig.NW?t.R9.then((function(t){return t.text()})):t.I9===Ig.D9?$.reject(new f("could not read FormData body as text")):$.resolve(t.R9))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();ug.blob&&(Fg.prototype.blob=function(){var t=this,n=Ng(t);return n||(t.I9===Ig.x9?$.resolve(t.R9):t.I9===Ig.OI?$.resolve(Z_([t.R9],{type:t.N9})):t.I9===Ig.P9?function(t,n){return Og(t).then((function(t){return Z_(t,{type:n||""})}))}(t.R9,t.N9):t.I9===Ig.NW?t.R9.then((function(t){return t.blob()})):t.I9===Ig.D9?$.reject(new f("could not read FormData body as Blob")):$.resolve(Z_([t.R9],{type:t.N9})))}),ug.arrayBuffer&&(Fg.prototype.arrayBuffer=function(){var t=this;return t.I9===Ig.OI?Ng(t)||$.resolve(t.R9):t.I9===Ig.x9?Ng(t)||function(t){var n=new FileReader,i=Cg(n);return n.readAsArrayBuffer(t),i}(t.R9):t.I9===Ig.P9?Bg(t.R9):t.I9===Ig.NW?Ng(t)||t.R9.then((function(t){return t.arrayBuffer()})):t.I9===Ig.D9?$.reject(new f("could not read FormData body as ArrayBuffer")):$.resolve(t.R9).then(Pg)}),ug.formData&&(Fg.prototype.formData=function(){var t=this;return t.I9===Ig.D9?Ng(t)||$.resolve(t.R9):t.text().then(xg)});var Hg=[301,302,303,307,308],Vg=function(t){function n(n,i){var r=this,e=new ag((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return Q_(n,t),n.prototype.clone=function(){return new n(Ug(this),{status:this.status,statusText:this.statusText,headers:new ag(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Hg.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Fg);var Xg=function(t,n){return t(n={exports:{}},n.exports),n.exports}((function(t,n){function i(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function s(t){return(s=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function c(t,n){return(c=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,n,i){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(r){var e=d.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}},h(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){o((function(){return i.call(n,t)}))},r=this.listeners[t.type],e=0,u=r.length;e<u;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t;return i(this,n),t=function(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?a(t):n}(this,s(n).call(this)),t.listeners||f.call(a(t)),d.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,t),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),h(s(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(f),_=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=_,n.default=_}));!function(t){t&&t.__esModule&&d.prototype.hasOwnProperty.call(t,"default")&&t.default}(Xg);Xg.AbortSignal;var zg=Xg.AbortController,Wg=K_.DOMException;try{new Wg}catch(n){(Wg=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=d.create(f.prototype),Wg.prototype.constructor=Wg}var Gg=zg;function qg(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Yg(t,n,i){return new $((function(r,e){if(n.signal.aborted)return t.catch(hg),e(jg());var u=function(){n.signal.removeEventListener("abort",u),e(jg())};n.signal.addEventListener("abort",u),t.then((function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()}),(function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()}))}))}function jg(){return new Wg("Aborted","AbortError")}var Qg,Kg="moz-chunked-arraybuffer";function Zg(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Qg||(Qg={}));var Jg=function(){function t(t,n){var i=this;this.B9=!1,this.yI=t,this.L9=n,this.O9=new p,this.M9=new $((function(t,n){i.F9=t,i.U9=n}))}return t.prototype.send=function(){var t=this;return this.H9().then((function(n){return t.V9(n,t.L9),t.M9}))},t.prototype.H9=function(){var t=this.yI;return t.I9===Ig.P9?t.arrayBuffer():$.resolve(t.C9)},t.prototype.W9=function(t){this.yI.onprogress&&this.yI.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.q9=function(t){this.U9(t)},t.prototype.wG=function(){this.q9(new v("Network request failed"))},t.prototype.z9=function(){this.q9(new v("Network request failed"))},t.prototype.X9=function(){this.q9(jg())},t.prototype.V9=function(t,n){var i=this,r=this.yI,e=this.O9,u=function(){return i.G9()};if(r.signal.aborted)return this.X9();e.onreadystatechange=function(){if(e.readyState>=Qg.HEADERS_RECEIVED&&!i.B9){var t=function(t){var n=new ag;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}})),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.B9=!0,i.Q9(n)}},e.onprogress=function(t){return i.W9(t)},e.onload=function(){return i.K9()},e.onerror=function(){return i.wG()},e.ontimeout=function(){return i.z9()},e.onabort=function(){return i.X9()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.forEach((function(t,n){e.setRequestHeader(n,t)})),r.signal.addEventListener("abort",u),e.onloadend=function(){r.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype.G9=function(){this.X9(),this.O9.abort()},t}(),$g=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.j9=void 0,r.Y9=void 0,r}return Q_(n,t),n.prototype.Q9=function(t){var n=this;this.j9=new $((function(t,i){n.Y9=t,n.Z9=i})),this.F9(new Vg(this.j9,t))},n.prototype.K9=function(){var t=this.O9.response;if(null==t){var n=this.L9;""===n||"text"===n?t=this.O9.responseText:"document"===n?t=this.O9.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=Z_([]))}this.Y9(t)},n.prototype.q9=function(n){t.prototype.q9.call(this,n),this.Z9&&this.Z9(n)},n}(Jg),tw=function(t){function n(n){var i=t.call(this,n,Kg)||this;return i.J9=void 0,i.t7=void 0,i.e7=!1,i}return Q_(n,t),n.prototype.Q9=function(t){var n=this;this.J9=new J_({start:function(t){n.t7=t},cancel:function(){n.e7=!0,n.G9()}}),this.F9(new Vg(this.J9,t))},n.prototype.W9=function(n){this.e7||this.t7.enqueue(new y(this.O9.response)),t.prototype.W9.call(this,n)},n.prototype.K9=function(){this.t7.close()},n.prototype.q9=function(n){t.prototype.q9.call(this,n),this.t7&&!this.e7&&(this.e7=!0,this.t7.error(n))},n}(Jg),nw=function(){var t=ug.firefox&&Zg(Kg);return nw=function(){return t},t},iw=function(){var t;return t=ug.arrayBuffer&&Zg("arraybuffer")?"arraybuffer":ug.blob&&Zg("blob")?"blob":"",iw=function(){return t},t};function rw(t){return(ug.stream&&nw()?new tw(t):new $g(t,iw())).send()}var ew=K_.fetch,uw=K_.Request,sw=(K_.Response,K_.AbortController);var ow=["http:","https:"];var cw=function(){try{if(ug.streamRequest){var t=new uw("about:blank",{body:"",method:"POST"}).body;if(t&&tg(t.constructor))return t.constructor}}catch(t){}}();function aw(t){return(t instanceof ag?t:new ag(t)).asList()}function hw(t,n,i){var r;if(ug.stream){var e=void 0;if(ug.streamResponse){var u=t.body;e=u&&ig(J_,u)}else e=eg(J_,(function(){return Yg(t.arrayBuffer(),n,!0)}),(function(){n.abort()}));e&&i&&(e=function(t,n,i){var r=0,e=function(t){var e=t.done,u=t.value;e?i=void 0===i?r:i:r+=u.byteLength,n(r,i)};return function(t,n,i){return new t(new ng(n.getReader(),i),{highWaterMark:0})}(J_,t,e)}(e,i,fw(t.headers))),r=e}else{var s=Yg(t.arrayBuffer(),n,!0);i&&(s=function(t,n,i){return $.resolve().then((function(){return n(0,i),t})).then((function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t}))}(s,i,fw(t.headers))),r=s}return new Vg(r,t)}function fw(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function vw(t){var n=new Gg;return t.signal&&qg(n,t.signal),function(t,n){var i,r,e=t;if(i=e.I9===Ig.P9?ug.streamRequest&&cw?$.resolve(ig(cw,e.R9)):Yg(t.arrayBuffer(),n,!1):Yg($.resolve(t.C9),n,!1),ug.abort){var u=new sw;qg(u,n.signal),r=u.signal}return i.then((function(n){return new uw(t.url,{body:n||void 0,credentials:t.credentials,headers:aw(t.headers),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r})}))}(t,n).then((function(i){return ew(i).then((function(i){return hw(i,n,t.onprogress)}))}))}var dw=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var lw=function(t){function n(i,r){var e,u,s,o,c,a,h,f,d,l=this,_=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new v("Already used");e=i.url,u=i.credentials,r.headers||(s=new ag(i.headers)),o=i.method,c=i.mode,a=i.referrer,h=i.referrerPolicy,f=i.signal,d=i.onprogress,_||null==i.C9||(_=i.C9,i.bodyUsed=!0)}else e=String(i),u="same-origin",o="GET",c="cors",a="about:client",h="",f=null,d=null;if(!r.headers&&s||(s=new ag(r.headers)),r&&(a="about:client",h=""),(l=t.call(this,_,s)||this).url=e,l.headers=s,l.credentials=r.credentials||u,l.method=function(t){var n=t.toUpperCase();return dw.indexOf(n)>-1?n:t}(r.method||o),l.mode=r.mode||c,l.signal=r.signal||f||(new Gg).signal,l.referrer=void 0!==r.referrer?r.referrer:a,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:h,l.onprogress=r.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&_)throw new v("Body not allowed for GET or HEAD requests");return l}return Q_(n,t),n.prototype.clone=function(){return new n(this,{body:Ug(this)})},n}(Fg),_w="function"==typeof ew&&ug.stream&&ug.streamResponse&&ug.url;function gw(t,n){return new $((function(i){var r=new lw(t,n),e=_w&&function(t){try{return ow.indexOf(new K_.URL(t,K_.location.href).protocol)>=0}catch(t){return!1}}(r.url)?vw:rw;i(e(r))}))}gw.polyfill=!0;var ww=function(){function t(t){this.QN=new pa,this.bI=void 0,this.s7=!1,this.yI=t,this.QN.U_(t.M_),this.AI=this.i7()}var n=t.prototype;return n.i7=function(){var t=this;return Mo((function(){var n,i,r,e,u,s,c,a,h;return Uo(this,(function(f){switch(f.label){case 0:(n=t.yI).kI&&o((function(){t.s7=!0,t.QN.Jl()}),n.kI);try{i=gw(n.TI,{method:n.iP,headers:n.eP.UI(),body:n.tP,credentials:n.oP?"include":"same-origin",signal:pw(t.QN.M_),onprogress:n.aP})}catch(t){throw new G_(n,t)}f.label=1;case 1:return f.trys.push([1,3,,4]),[4,i];case 2:return r=f.sent(),[3,4];case 3:throw e=f.sent(),Aa(u=t.n7(e))&&t.QN.Jl(),u;case 4:if(s=r.url||n.TI,c=0===r.status&&"file:"===function(t){return tr.Rh(t).protocol}(s)?200:r.status,a=new yw(t,r,t.QN),h=new O_({Ny:a,pI:n,sP:n.sP,eP:new i_(r.headers.asList()),SI:c,gL:r.statusText,gP:s}),t.bI=h,R_(h))return[2,h];throw new q_(h)}}))}))()},n.n7=function(t){return Aa(t)?this.s7?new Y_(this.yI):new ka(t.message,t):this.bI?new q_(this.bI,t):new G_(this.yI,t)},t}(),yw=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).UW=new kf,e.h7=n,e.r7=i,e.QN=r,e.UW.jf.catch(Vr),e}vr(n,t);var i=n.prototype;return i.FW=function(){return this.UW.jf},i._P=function(t){return this.HW(this.r7.text(),t)},i.xL=function(t){return this.HW(this.r7.arrayBuffer(),t)},i.BW=function(){var t=this.r7.body;return t?this.VW(t):h_(this.xL().then(c_),this.QN)},i.zW=function(){var t=this.r7.clone(),i=Fo(this.QN.H_(),2),r=i[0],e=i[1];return this.QN=r,new n(this.h7,t,e)},i.HW=function(t,n){var i=this;n&&this.QN.U_(n);var r=$.resolve(t).catch((function(t){throw i.h7.n7(t)}));return r=Ia(r,this.QN),this.UW.U_(r.then(Vr)),r},i.VW=function(t){var n=this,i=new Qi,r=$.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch((function(t){var r=n.h7.n7(t);throw i.writable.abort(r).catch(Vr),r}));return r=Ia(r,this.QN),this.UW.U_(r.then(Vr)),i.readable},hr(n,[{key:"OW",get:function(){return this.r7.bodyUsed}}]),n}(g_),mw="abort";function pw(t){var n=new Gg;if(t.R_)n.abort();else if(!t.C_){var i=function(){r(),n.abort()},r=function(){n.signal.removeEventListener(mw,i),t.B_(i),t.O_(r)};n.signal.addEventListener(mw,i),t.N_(i),t.L_(r)}return n.signal}function kw(t,n,i){return new $((function(r,e){if(i&&i.R_)return e(new ka);var u=function(t){o(),r(t)},s=function(){o(),e(new ka)},o=function(){t.removeEventListener(n,u),i&&i.B_(s)};t.addEventListener(n,u),i&&i.N_(s)}))}var Aw,bw=function(){function t(){}var n=t.prototype;return n.pI=function(t){return new ww(t).AI},n.PV=function(t){if(js&&js.sendBeacon)js.sendBeacon(t.TI,Zl([t.tP],{type:t.rM}));else{var n=t.rM?{"Content-type":t.rM}:void 0;Da(this.pI(new B_({iP:N_.POST,TI:t.TI,tP:t.tP,eP:n})))}},n.bn=function(){},t}();function Tw(t){return 1===t.XE}function Sw(t){return 3===t.XE}!function(t){t[t.GE=1]="GE",t[t.QE=2]="QE",t[t.KT=3]="KT",t[t.KE=4]="KE",t[t.jE=9]="jE"}(Aw||(Aw={}));var Ew=function(t){function n(n){return t.call(this,"Invalid XML",n)}return vr(n,t),n}(ya),Iw=function(){function t(){}return t.prototype.oI=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Ew(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Ew;return new Bw(n)},t}(),Rw=function(){function t(t){this.o7=t}var n=t.prototype;return n.zE=function(t){return this.o7.isEqualNode(t.o7)},n.ZE=function(n){return new t(this.o7.cloneNode(n))},hr(t,[{key:"XE",get:function(){return Aw.QE}},{key:"hI",get:function(){var t;return null!=(t=this.o7.localName)?t:xw(this.o7.nodeName)}},{key:"l",get:function(){return this.o7.nodeName}},{key:"a7",get:function(){var t;return null!=(t=this.o7.namespaceURI)?t:void 0}},{key:"u7",get:function(){var t;return null!=(t=this.o7.prefix)?t:void 0}},{key:"kT",get:function(){return this.o7.nodeValue}}]),t}(),Nw=function(){function t(t){this.c7=void 0,this.l7=t}var n=t.prototype;return n.nI=function(t){return this.lI.filter((function(n){return Lw(n)&&n.DL===t}))},n.sI=function(t,n){return this.lI.filter((function(i){return Lw(i)&&i.hI===n&&i.a7===t}))},n.dI=function(t){this.l7.appendChild(t.FE),this.c7&&this.c7.push(t)},n.zE=function(t){return this.l7.isEqualNode(t.FE)},hr(t,[{key:"lI",get:function(){return void 0===this.c7&&(this.c7=function(t){for(var n=[],i=0;i<t.length;i++){var r=Mw(t.item(i));r&&n.push(r)}return n}(this.l7.childNodes)),this.c7}},{key:"m",get:function(){return this.lI.filter(Lw)}},{key:"FE",get:function(){return this.l7}}]),t}(),Cw=function(t){function n(n){return t.call(this,n)}vr(n,t);var i=n.prototype;return i.cI=function(t){if(this.l7.hasAttribute(t))return this.l7.getAttribute(t)},i.uI=function(t,n){if(this.l7.hasAttributeNS(t,n))return this.l7.getAttributeNS(t,n)},i.tI=function(t){this.l7.removeAttribute(t)},i.d7=function(t,n){this.l7.removeAttributeNS(t,n)},i.f7=function(t,n){this.l7.setAttribute(t,n)},i._7=function(t,n,i){this.l7.setAttributeNS(t,n,i)},i.ZE=function(t){return new n(this.l7.cloneNode(t))},hr(n,[{key:"XE",get:function(){return Aw.GE}},{key:"hI",get:function(){var t;return null!=(t=this.l7.localName)?t:xw(this.l7.nodeName)}},{key:"a7",get:function(){var t;return null!=(t=this.l7.namespaceURI)?t:void 0}},{key:"u7",get:function(){var t;return null!=(t=this.l7.prefix)?t:void 0}},{key:"DL",get:function(){return this.l7.nodeName}},{key:"rI",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new Rw(t.item(i)));return n}(this.l7.attributes)}},{key:"kL",get:function(){return this.l7.textContent}}]),n}(Nw),Dw=function(){function t(t){this.l7=t}return t.prototype.zE=function(t){return this.Ny===t.Ny},hr(t,[{key:"Ny",get:function(){return this.l7.nodeValue}},{key:"FE",get:function(){return this.l7}}]),t}(),Pw=function(t){function n(n){return t.call(this,n)}return vr(n,t),n.prototype.ZE=function(t){return new n(this.l7.cloneNode(t))},hr(n,[{key:"XE",get:function(){return Aw.KT}}]),n}(Dw),Ow=function(t){function n(n){return t.call(this,n)}return vr(n,t),n.prototype.ZE=function(t){return new n(this.l7.cloneNode(t))},hr(n,[{key:"XE",get:function(){return Aw.KE}}]),n}(Dw),Bw=function(t){function n(n){return t.call(this,n)}return vr(n,t),n.prototype.ZE=function(t){return new n(this.l7.cloneNode(t))},hr(n,[{key:"XE",get:function(){return Aw.jE}},{key:"aI",get:function(){return new Cw(this.l7.documentElement)}}]),n}(Nw);function Lw(t){return Tw(t)}function Mw(t){switch(t.nodeType){case Aw.GE:return new Cw(t);case Aw.KT:return new Pw(t);case Aw.KE:return new Ow(t)}}function xw(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var Uw=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).g7=void 0,n.w7=function(){if(Ir.JP)return!1;try{return"body"in self.Response.prototype}catch(t){return!1}}(),n.m7=Ir.YR||Ir.JP,n.p7=(Ir.YR||Ir.JP)&&!(Ir._R&&Ir.vR<3),n.k7=void 0,n.E7=new Iw,n}return vr(n,t),n.prototype.oI=function(t){return this.E7.oI(t)},hr(n,[{key:"p9",get:function(){return this.g7||(this.g7=new xc(Yl())),this.g7}},{key:"v7",get:function(){return this.w7}},{key:"JY",get:function(){return this.m7}},{key:"vZ",get:function(){return this.p7}},{key:"y7",get:function(){return!1}},{key:"uO",get:function(){return Ql.aH()}},{key:"A7",get:function(){return{b7:Jl}}},{key:"T7",get:function(){return s.connection&&s.connection.effectiveType||n_}},{key:"S7",get:function(){return s.connection&&s.connection.type||"unknown"}},{key:"Gf",get:function(){return this.k7||(this.k7=new M_(new bw)),this.k7}}]),n}(Oo);!function(t){tr=t}(new Uw);var Fw=function(t){function n(n,i){var r;return(r=t.call(this,$l.Lu)||this).currentTime=n,r.currentProgramDateTime=i,r}return vr(n,t),n}(Va),Hw=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Gu=void 0,r}return vr(n,t),hr(n,[{key:"ma",get:function(){return this.Gu||(this.Gu=this.pa()),this.Gu}}]),n}(Va);function Vw(t){return Boolean(t&&t.ma)}var Xw,zw=function(t){function n(n){return t.call(this,n)}return vr(n,t),n}(Hw),Ww=function(t){function n(n){return t.call(this,n)}return vr(n,t),n}(Va);!function(t){t.bv="Tv",t.Sv="Ev"}(Xw||(Xw={}));var Gw,qw=function(t){function n(n){var i;return(i=t.call(this,Xw.bv)||this).Ht=n,i}return vr(n,t),n.prototype.pa=function(){return new Yw(this.Ht.ma)},n}(zw),Yw=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return vr(n,t),n}(Ww),jw=function(t){function n(n){var i;return(i=t.call(this,Xw.Sv)||this).Ht=n,i}return vr(n,t),n.prototype.pa=function(){return new Qw(this.Ht.ma)},n}(zw),Qw=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return vr(n,t),n}(Ww);!function(t){t.Iv="Pv",t.Rv="Cv",t.xv="Dv",t.Nv="Bv",t.Lv="Ov",t.Mv="Fv",t.oa="Uv",t.Bf="Hv",t.Vv="Wv",t.qv="Kn",t.zv="Xv",t.Gv="Qv",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Gw||(Gw={}));var Kw=function(t){function n(){var n;return(n=t.call(this)||this).Yv=[],n.Gu=void 0,n}vr(n,t);var i=n.prototype;return i.Zv=function(t){return this.Yv[t]},i.tt=function(t){return!(!t||ia(this.Yv,t))&&(this.Yv.push(t),this.Gu&&this.Gu.push(t.ma),t.wn(Gw.oa,this.Os),this.To(new qw(t)),!0)},i.it=function(t){if(!t)return!1;var n=this.Yv.indexOf(t);return!(n<0)&&(ta(this.Yv,n),this.Gu&&ta(this.Gu,n),t.pn(Gw.oa,this.Os),this.To(new jw(t)),!0)},i.Jv=function(t){return ia(this.Yv,t)},i.ir=function(){for(var t=this.Yv,n=t.length-1;n>=0;n-=1)this.it(t[n])},i.bn=function(){this.ir(),this.Lo()},hr(n,[{key:"Kv",get:function(){return this.Yv}},{key:"ma",get:function(){return this.Gu||(this.Gu=this.pa()),this.Gu}},{key:"U",get:function(){return this.Yv.length}}]),n}(Ua),Zw=d.freeze||Xr;function Jw(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function $w(t,n){for(var i=0,r=d.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];d.defineProperty(t,e,d.getOwnPropertyDescriptor(n,e))}return t}function ty(t){if(Lr(t)){var n={};for(var i in t)Rr.call(t,i)&&(n[i]=ty(t[i]));return n}if(Pr(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=ty(t[e]));return r}return t}function ny(t,n){return t===n||!(!t||!n)&&(!(!Br(t)||!Br(n))&&(Or(t)?!!Or(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!ny(t[e],n[e]))return!1;return!0}(t,n):!Or(n)&&function(t,n){var i=d.keys(t),r=d.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!Rr.call(n,u)||!ny(t[u],n[u]))return!1}return!0}(t,n)))}function iy(t,n){return t.constructor===n.constructor}function ry(t){for(var n={},i=0,r=d.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function ey(t){for(var n={},i=0,r=d.keys(t);i<r.length;i++){var e=r[i],u=t[e];if(Or(u)){for(var s=[],o=0;o<u.length;o+=1){var c=u[o];if(null!=c){var a=Br(c)?ey(c):c;s.push(a)}}n[e]=s}else null!=u&&(n[e]=Br(u)?ey(u):u)}return n}function uy(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function sy(t){return Cr(t)?uy(t):void 0}function oy(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function cy(t){var n=oy(t);if(w(n))throw new f("Expected a valid number.");return n}function ay(t){return"string"==typeof t?t:""}function hy(t,n){if(!Or(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}function fy(t,n){return Or(t)?hy(t,n):n(t)}var vy,dy=[Xw.bv,Xw.Sv,Gw.oa];function ly(t){var n,i=t.Kv.map((function(t){return t.ma}));return i.item=function(n){var i=0|n,r=t.Zv(i);return r&&r.ma||void 0},i.addEventListener=function(t,i){n.wn(t,i)},i.removeEventListener=function(t,i){n.pn(t,i)},n=new Fa(i),t.wn(dy,(function(t){return n.To(t.ma)})),i}function _y(t){switch(t){case 0:return"caption";case 2:return"sign";case 1:return"description";case 3:return"enhanced audio intelligibility";case 4:return"easy reader";case 5:return"transcribes spoken dialog";case 6:return"describes music and sound";case 7:return"describes video"}}function gy(){}function wy(t){var n,i=[Gw.qv,Gw.oa,Gw.zv,Gw.Gv,Gw.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.uw&&t.uw.ma},get enabled(){return t.Rt},set enabled(n){t.Rt=uy(n)},get id(){return t.o},get uid(){return t.cw},get kind(){return t.Lt},get label(){return t._h},set label(n){t._h=ay(n)},get accessibility(){var n,i;return null!=(i=null==(n=t.lw)?void 0:n.map(_y))?i:[]},get language(){return t.gs},get qualities(){return t.dw.ma},set targetQuality(n){var i;i=n?function(t,n){for(var i=[],r=0,e=t.dw.Kv;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.ma===o&&i.push(u)}return i}(t,Pr(n)?n:[n]):[],i.length>0?t.fw=i:t.fw=void 0},get targetQuality(){if(t.fw)return 1===t.fw.length?t.fw[0].ma:t.fw.map((function(t){return t.ma}))},addEventListener:function(t,i){var r=fy(t,ay);n.wn(r,i)},removeEventListener:function(t,i){var r=fy(t,ay);n.pn(r,i)}};return n=new Fa(r),t.wn(i,(function(t){return n.To(t.ma)})),d.defineProperty(r,"constructor",{value:gy}),r}function yy(){}function my(t){var n=ly(t);return d.defineProperty(n,"constructor",{value:yy}),n}!function(t){t[t._w=0]="_w",t[t.gw=1]="gw",t[t.ww=2]="ww",t[t.mw=3]="mw",t[t.pw=4]="pw",t[t.TRANSCRIBES_SPOKEN_DIALOG=5]="TRANSCRIBES_SPOKEN_DIALOG",t[t.DESCRIBES_MUSIC_AND_SOUND=6]="DESCRIBES_MUSIC_AND_SOUND",t[t.yw=7]="yw"}(vy||(vy={}));var py,ky=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.pa=function(){return my(this)},n}(Kw);!function(t){t.yy="audio",t.vl="video",t.KT="text",t.jT="image",t.YT="unknown"}(py||(py={}));var Ay,by=function(t){function n(n,i,r,e,u,s,o,c){var a;return(a=t.call(this,n,i,r)||this).url=e,a.status=u,a.statusText=s,a.response=o,a.systemCode=c,a}return vr(n,t),hr(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Dl);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Ay||(Ay={}));var Ty=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,f.captureStackTrace&&f.captureStackTrace(Uc(u),u.constructor),u}return vr(n,t),hr(n,[{key:"name",get:function(){return"MediaError"}}]),n}(wa);function Sy(t){Jw(t,"MEDIA_ERR_ABORTED",1),Jw(t,"MEDIA_ERR_NETWORK",2),Jw(t,"MEDIA_ERR_DECODE",3),Jw(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),Jw(t,"MEDIA_ERR_ENCRYPTED",5)}function Ey(t){var n,i;return function(t){return t.category===Nl.CONTENT_PROTECTION}(t)?new Ty(5,t.message,null==(n=t.cause)?void 0:n.message,t.systemCode):new Ty(function(t){if(t===Rl.MEDIA_ABORTED)return 1;if(t===Rl.MANIFEST_LOAD_ERROR||t===Rl.MEDIA_LOAD_ERROR||t===Rl.SUBTITLE_LOAD_ERROR)return 2;if(t===Rl.MEDIA_DECODE_ERROR)return 3;if(t===Rl.MEDIA_NOT_SUPPORTED)return 4;var n=Nl.fromCode(t);if(n===Nl.NETWORK)return 2;if(n===Nl.SOURCE)return 4;if(n===Nl.LICENSE)return 6;if(n===Nl.CONTENT_PROTECTION)return 5;if(n===Nl.AD)return 7;return 3}(t.code),t.message,null==(i=t.cause)?void 0:i.message)}function Iy(t){return new Dl(Ry(t.code),t.message,t)}function Ry(t){switch(t){case 1:return Rl.MEDIA_ABORTED;case 2:return Rl.NETWORK_ERROR;case 3:return Rl.MEDIA_DECODE_ERROR;case 4:return Rl.SOURCE_NOT_SUPPORTED;case 5:return Rl.CONTENT_PROTECTION_ERROR;case 6:return Rl.LICENSE_ERROR;case 7:return Rl.AD_ERROR}}Sy(Ty),Sy(Ty.prototype);var Ny=function(){function t(){this.dS=[],this.Gu=void 0}var n=t.prototype;return n.fS=function(t){this.dS.push(t),this.Gu&&this.Gu.push(t.ma)},n.Qu=function(t){$c(this.dS,t),this.Gu&&$c(this.Gu,t.ma)},n.Zv=function(t){return this.dS[t]},n._S=function(t){return Pr(t)?function(t,n){for(var i=0;i<n.length;i++)if(!ia(t,n[i]))return!1;return!0}(this.dS,t):ia(this.dS,t)},n.ir=function(){ea(this.dS),this.Gu&&ea(this.Gu)},hr(t,[{key:"Kv",get:function(){return this.dS}},{key:"U",get:function(){return this.dS.length}},{key:"ma",get:function(){return this.Gu||(this.Gu=function(t){var n=t.Kv.map((function(t){return t.ma}));return n.item=function(n){var i=0|n,r=t.Zv(i);return r&&r.ma||void 0},n}(this)),this.Gu}}]),t}(),Cy=function(t){function n(n){var i;return(i=t.call(this,Gw.oa)||this).Ht=n,i}return vr(n,t),n.prototype.pa=function(){return new Dy(this.Ht.ma)},n}(zw),Dy=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return vr(n,t),n}(Ww),Py=function(t){function n(n){var i;return(i=t.call(this,Gw.qv)||this).Ht=n,i}return vr(n,t),n.prototype.pa=function(){return new Oy(this.Ht.ma)},n}(zw),Oy=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return vr(n,t),n}(Ww),By=0;function Ly(){return By++}var My=0;var xy=0;function Uy(){return xy++}var Fy=0;function Hy(){return Fy++}var Vy=0;var Xy=function(t){function n(n){var i;return(i=t.call(this)||this).Iw=py.yy,i.We=!1,i.Gu=void 0,i.vS=n,i.mS=Ly(),i.wS=Vy+++"",i.Yu=n.label,i.dS=new Ny,i.AS(),i}vr(n,t);var i=n.prototype;return i.yS=function(t){this.Rt=t},i.AS=function(){this.Rt=this.gS},hr(n,[{key:"uw",get:function(){}},{key:"Rt",get:function(){return this.We},set:function(t){this.We!==t&&(this.We=t,this.gS=t,this.To(new Cy(this)))}},{key:"gS",get:function(){return this.vS.enabled},set:function(t){this.vS.enabled=t}},{key:"ma",get:function(){return this.Gu||(this.Gu=wy(this)),this.Gu}},{key:"o",get:function(){return this.wS}},{key:"cw",get:function(){return this.mS}},{key:"Lt",get:function(){return this.vS.kind}},{key:"_h",get:function(){return this.Yu},set:function(t){t!==this.Yu&&(this.Yu=t,this.To(new Py(this)))}},{key:"gs",get:function(){return this.vS.language}},{key:"bw",get:function(){return this.Rt?"enabled":"disabled"}},{key:"pS",get:function(){return this.vS}},{key:"dw",get:function(){return this.dS}},{key:"fw",get:function(){},set:function(t){}}]),n}(Ua),zy=0;var Wy,Gy,qy,Yy=function(t){function n(n){var i;return(i=t.call(this)||this).Iw=py.vl,i.We=!1,i.Gu=void 0,i.vS=n,i.mS=Ly(),i.wS=zy+++"",i.dS=new Ny,i.Yu=n.label,i.AS(),i}vr(n,t);var i=n.prototype;return i.AS=function(){this.Rt=this.gS},i.yS=function(t){this.Rt=t},hr(n,[{key:"uw",get:function(){}},{key:"Rt",get:function(){return this.We},set:function(t){this.We!==t&&(this.We=t,this.gS=t,this.To(new Cy(this)))}},{key:"gS",get:function(){return!!this.vS.selected},set:function(t){this.vS.selected=t}},{key:"ma",get:function(){return this.Gu||(this.Gu=wy(this)),this.Gu}},{key:"o",get:function(){return this.wS}},{key:"cw",get:function(){return this.mS}},{key:"Lt",get:function(){return"main"}},{key:"_h",get:function(){return this.Yu},set:function(t){t!==this.Yu&&(this.Yu=t,this.To(new Py(this)))}},{key:"gs",get:function(){return this.vS.language}},{key:"bw",get:function(){return this.Rt?"enabled":"disabled"}},{key:"pS",get:function(){return this.vS}},{key:"dw",get:function(){return this.dS}},{key:"fw",get:function(){},set:function(t){}}]),n}(Ua),jy=function(t){function n(n){var i;return(i=t.call(this,$l.Vw)||this).Eg=n,i}return vr(n,t),n}(Va);function Qy(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":return!0;default:return!1}}!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Wy||(Wy={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Gy||(Gy={})),function(t){t.bS="cue",t.TS="region",t.SS="stylesheet"}(qy||(qy={}));var Ky,Zy={"line-left":"start",center:"middle","line-right":"end"},Jy={start:"line-left",middle:"center",end:"line-right"};function $y(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function tm(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return function(t,n){var i="number"==typeof t?t:g(t);return w(i)?n:i}(t,50)}!function(t){t.kS="bo",t.ES="Co",t.qv="Kn"}(Ky||(Ky={}));var nm=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).IS=i,r}return vr(n,t),n}(zw),im=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return vr(n,t),n}(Ww);function rm(t){var n,i=[Ky.kS,Ky.ES,Ky.qv],r={get track(){return t.Ht.ma},get id(){return t.o},get uid(){return t.cw},get startTime(){return t.PS},set startTime(n){t.PS=n},get endTime(){return t.RS},set endTime(n){t.RS=n},get content(){return t.O},addEventListener:function(t,i){var r=fy(t,ay);n.wn(r,i)},removeEventListener:function(t,i){var r=fy(t,ay);n.pn(r,i)}};return n=new Fa(r),t.wn(i,(function(t){return n.To(t.ma)})),r}function em(){}function um(t){return $w(rm(t),{get align(){return t.CS},get line(){return t.xS},get lineAlign(){return t.DS},get position(){return t.yo},get positionAlign(){return t.NS},get region(){return t.LS?t.LS.ma:null},get size(){return t.iA},get snapToLines(){return t.OS},get text(){return t.O},get vertical(){return t.Mt}})}var sm=function(t){function n(n){return t.call(this,Ky.qv,n)}return vr(n,t),n.prototype.pa=function(){return new om(this.IS.ma)},n}(nm),om=function(t){function n(n){return t.call(this,"update",n)}return vr(n,t),n}(im),cm=function(t){function n(n){var i;return(i=t.call(this,Gw.xv)||this).IS=n,i}return vr(n,t),n.prototype.pa=function(){return new am(this.IS.ma)},n}(zw),am=function(t){function n(n){var i;return(i=t.call(this,"updatecue")||this).cue=n,i}return vr(n,t),n}(Ww),hm=.02;function fm(t,n){return De(t.MS,n.MS,hm)&&De(t.FS,n.FS,hm)&&t.o===n.o}var vm=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Gu=void 0,s.HS=void 0,s.ao=!1,s.jS=-1,s.mS=Hy(),s.US=n,s.WS=i,s.MS=n,s.FS=i,s.qS=r,s.XS=Boolean(e),s.wS=null!=u?u:"",s}vr(n,t);var i=n.prototype;return i.pa=function(){return rm(this)},i.GS=function(t){return this===t||iy(this,t)&&fm(this,t)&&this.QS(t)},i.QS=function(t){return ny(this.O,t.O)},i.KS=function(t,n){this.US=t,this.WS=n,this.MS=t,this.FS=n},i.bn=function(){this.Lo()},hr(n,[{key:"PS",get:function(){return this.US},set:function(t){var n,i;this.US!==t&&(this.US=t,null==(n=this.HS)||n.VS(this),this.To(new sm(this)),null==(i=this.HS)||i.To(new cm(this)))}},{key:"RS",get:function(){return this.WS},set:function(t){var n,i;this.WS!==t&&(this.WS=t,null==(n=this.HS)||n.VS(this),this.To(new sm(this)),null==(i=this.HS)||i.To(new cm(this)))}},{key:"o",get:function(){return this.wS}},{key:"cw",get:function(){return this.mS}},{key:"ma",get:function(){return this.Gu||(this.Gu=this.pa()),this.Gu}},{key:"oo",get:function(){return this.ao},set:function(t){this.ao=t}},{key:"Ht",get:function(){return this.HS},set:function(t){this.HS=t}},{key:"O",get:function(){return this.qS},set:function(t){var n;this.qS!==t&&(this.qS=t,this.To(new sm(this)),null==(n=this.HS)||n.To(new cm(this)))}},{key:"zS",get:function(){return this.XS},set:function(t){this.XS=t}}]),n}(Ua);function dm(t,n){return t.O===n.O&&t.xS===n.xS&&t.DS===n.DS&&t.yo===n.yo&&t.NS===n.NS&&t.LS===n.LS&&t.OS===n.OS&&t.iA===n.iA&&t.CS===n.CS&&t.Mt===n.Mt}var lm=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,u)||this).xS="auto",s.DS="start",s.yo="auto",s.NS="auto",s.LS=void 0,s.OS=!0,s.iA=100,s.CS="center",s.Mt="",s}return vr(n,t),n.prototype.QS=function(t){return dm(this,t)},hr(n,[{key:"ma",get:function(){return this.Gu||(this.Gu=um(this)),this.Gu}},{key:"Iw",get:function(){return qy.bS}}]),n}(vm);function _m(t){var n=t.xS,i=Hr(n);return i&&!t.OS&&(n<0||n>100)?100:i?Number(n):t.OS?-1:100}function gm(t){return tm(t.yo,t.CS)}function wm(t){return $y(t.NS,t.CS)}function ym(t){var n,i=wm(t),r=gm(t);switch(i){case"line-left":n=100-r;break;case"line-right":n=r;break;case"center":n=r<=50?2*r:2*(100-r)}return l.min(t.iA,n)}function mm(t){return{get id(){return t.o},get identifier(){return t.o},get lines(){return t.YS},get regionAnchorX(){return t.ZS},get regionAnchorY(){return t.JS},get scrollValue(){return t.$S},get viewportAnchorX(){return t.ek},get viewportAnchorY(){return t.nk},get width(){return t.Ti}}}var pm=function(){function t(t,n,i,r,e,u,s,o){this.o=t,this.Ti=n,this.YS=i,this.ZS=r,this.JS=e,this.ek=u,this.nk=s,this.$S=o}return hr(t,[{key:"ma",get:function(){return this.Gu||(this.Gu=mm(this)),this.Gu}},{key:"Iw",get:function(){return qy.TS}}]),t}(),km=1e6,Am=function(){function t(){}var n=t.prototype;return n.rk=function(t){return this.hk()*t},n.ck=function(t){return this.lk(t)>0},n.dk=function(t){return this.lk(t)>=0},n.fk=function(t,n){return this.gk(t)._k(n)},n.GS=function(t){return 0===this.lk(t)},n.vk=function(t){return this.lk(t)<0},n._k=function(t){return this.lk(t)<=0},n.wk=function(){return this.pk()?this.yk():this},n.Ak=function(t){return this.fS(t.yk())},n.gk=function(t){return this.Ak(t).wk()},t}();function bm(t,n){return t.bk()?n.bk()?Mc.ih:Mc.b_:n.bk()?Mc.T_:t.Tk()?n.Tk()&&t.pk()===n.pk()?Mc.ih:t.pk()?Mc.T_:Mc.b_:n.pk()?Mc.b_:Mc.T_}var Tm=4294967296,Sm=Tm*Tm,Em=Sm*Sm,Im=Em/2,Rm=function(){function t(t,n){this.Ok=t,this.Bk=n}var n=t.prototype;return n.Nk=function(){return this.Bk.unsigned},n.Lk=function(){return this.Ok.isZero()&&this.Bk.isZero()},n.pk=function(){return this.Bk.isNegative()},n.Mk=function(){return this.Nk()?t.Sk(this.Ok,this.Bk,!1):this},n.Fk=function(){return this.Nk()?this:t.Sk(this.Ok,this.Bk,!0)},n.Uk=function(){return this.Ok},n.hk=function(){return this.pk()?-this.yk().hk():this.Bk.toNumber()*Sm+this.Ok.toUnsigned().toNumber()},n.Hk=function(){return this.Ok.toInt()},n.GS=function(t){return(this.Nk()===t.Nk()||this.Bk.getHighBits()>>>31!=1||t.Bk.getHighBits()>>>31!=1)&&(this.Bk.toUnsigned().eq(t.Bk.toUnsigned())&&this.Ok.toUnsigned().eq(t.Ok.toUnsigned()))},n.lk=function(t){if(this.GS(t))return Mc.ih;var n=this.pk(),i=t.pk();if(n&&!i)return Mc.T_;if(!n&&i)return Mc.b_;if(!this.Nk())return this.Ak(t).pk()?Mc.T_:Mc.b_;var r=this.Fk(),e=t.Fk(),u=e.Bk.comp(r.Bk);return u>0||0===u&&e.Ok.gt(r.Ok)?Mc.T_:Mc.b_},n.vk=function(t){return this.lk(t)<0},n._k=function(t){return this.lk(t)<=0},n.Vk=function(t){return this.lk(t)>0},n.Wk=function(t){return this.lk(t)>=0},n.qk=function(){return new t(this.Ok.not(),this.Bk.not())},n.zk=function(n){return new t(this.Ok.and(n.Ok),this.Bk.and(n.Bk))},n.Xk=function(n){return new t(this.Ok.or(n.Ok),this.Bk.or(n.Bk))},n.Gk=function(n){var i=127&n;return 0===i?this:i<64?t.Sk(this.Ok.shl(i),this.Bk.shl(i).or(this.Ok.shru(64-i)),this.Nk()):t.Sk(Ee.ZERO,this.Ok.shl(i-64),this.Nk())},n.Qk=function(n){var i=127&n;return 0===i?this:i<64?t.Sk(this.Ok.shru(i).or(this.Bk.shl(64-i)),this.Bk.shr(i),this.Nk()):t.Sk(this.Bk.shr(i-64),this.Bk.isNegative()?Ee.NEG_ONE:Ee.ZERO,this.Nk())},n.Kk=function(n){var i=127&n;return 0===i?this:i<64?t.Sk(this.Ok.shru(i).or(this.Bk.shl(64-i)),this.Bk.shru(i),this.Nk()):64===i?t.Sk(this.Bk,Ee.ZERO,this.Nk()):t.Sk(this.Bk.shru(i-64),Ee.ZERO,this.Nk())},n.fS=function(n){var i=this.Bk.high>>>16,r=65535&this.Bk.high,e=this.Bk.low>>>16,u=65535&this.Bk.low,s=this.Ok.high>>>16,o=65535&this.Ok.high,c=this.Ok.low>>>16,a=65535&this.Ok.low,h=n.Bk.high>>>16,f=65535&n.Bk.high,v=n.Bk.low>>>16,d=65535&n.Bk.low,l=n.Ok.high>>>16,_=65535&n.Ok.high,g=n.Ok.low>>>16,w=0,y=0,m=0,p=0,k=0,A=0,b=0,T=0;b+=(T+=a+(65535&n.Ok.low))>>>16,T&=65535,A+=(b+=c+g)>>>16,b&=65535,k+=(A+=o+_)>>>16,A&=65535,p+=(k+=s+l)>>>16,k&=65535,m+=(p+=u+d)>>>16,p&=65535,y+=(m+=e+v)>>>16,m&=65535,w+=(y+=r+f)>>>16,y&=65535,w+=i+h,w&=65535;var S=this.Nk(),E=Ee.fromBits(m<<16|p,w<<16|y,S),I=Ee.fromBits(b<<16|T,k<<16|A,S);return t.Sk(I,E,S)},n.Ak=function(t){return this.fS(t.yk())},n.yk=function(){return this.qk().fS(t.jk)},n.Yk=function(n){if(this.Lk()||n.Lk())return this.Nk()?t.Pk:t.Rk;if(this.pk())return n.pk()?this.yk().Yk(n.yk()):this.yk().Yk(n).yk();if(n.pk())return this.Yk(n.yk()).yk();if(this.Bk.isZero()&&0===this.Ok.high&&n.Bk.isZero()&&0===n.Ok.high)return t.Ek(this.Ok.multiply(n.Ok));var i=Ee.fromBits(4294967295,0,!0),r=this.Ok.and(i),e=this.Ok.shru(32),u=this.Bk.and(i),s=this.Bk.shru(32),o=n.Ok.and(i),c=n.Ok.shru(32),a=n.Bk.and(i),h=n.Bk.shru(32),f=Ee.UZERO,v=Ee.UZERO,d=Ee.UZERO,l=Ee.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(c)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(c)).add(e.mul(a)).add(r.mul(h)).and(i);var _=Ee.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Ee.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Sk(_,g,this.Nk())},n.Zk=function(n){var i,r,e=n;if(e.Lk())throw new RangeError("division by zero");if(this.Lk())return this.Nk()?[t.Pk,t.Pk]:[t.Rk,t.Rk];if(this.Nk()){if(e.Nk()||(e=e.Fk()),e.Vk(this))return[t.Pk,this];if(e.Vk(this.Kk(1)))return[r=t.Jk,i=this.Ak(e)];r=t.Pk}else{if(this.GS(t.xk)){if(e.GS(t.jk)||e.GS(t.$k))return[t.xk,t.Rk];if(e.GS(t.xk))return[t.jk,t.Rk];var u=this.Qk(1).tE(e).Gk(1);return u.GS(t.Rk)?r=e.pk()?t.jk:t.$k:(i=this.Ak(e.Yk(u)),r=u.fS(i.tE(e))),[r,i=this.Ak(e.Yk(r))]}if(e.GS(t.xk))return this.Nk()?[t.Pk,this]:[t.Rk,this];var s,o;if(this.pk())return e.pk()?this.yk().Zk(e.yk()):(r=(s=Fo(this.yk().Zk(e),2))[0],i=s[1],[r.yk(),i.yk()]);if(e.pk())return r=(o=Fo(this.Zk(e.yk()),2))[0],i=o[1],[r.yk(),i.yk()];r=t.Rk}for(i=this;i.Wk(e);){for(var c=l.max(1,l.floor(i.hk()/e.hk())),a=l.ceil(l.log(c)/l.LN2),h=a<=48?1:l.pow(2,a-48),f=t.Ik(c),v=f.Yk(e);v.pk()||v.Vk(i);)c-=h,v=(f=t.Ik(c,this.Nk())).Yk(e);f.Lk()&&(f=t.jk),r=r.fS(f),i=i.Ak(v)}return[r,i]},n.tE=function(t){return this.Zk(t)[0]},n.eE=function(t){return this.Zk(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Lk())return"0";if(this.pk()){if(this.GS(t.xk)){var r=t.Ik(i),e=this.tE(r),u=e.Yk(r).Ak(this);return e.toString(i)+u.Hk().toString(i)}return"-"+this.yk().toString(i)}for(var s=t.Ik(l.pow(i,6),this.Nk()),o=this,c="";;){var a=o.tE(s),h=(o.Ak(a.Yk(s)).Hk()>>>0).toString(i);if((o=a).Lk())return h+c;for(;h.length<6;)h="0"+h;c=String(h)+c}},t.Sk=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Ek=function(n){return n.unsigned?new t(n,Ee.UZERO):new t(n,n.isNegative()?Ee.NEG_ONE:Ee.ZERO)},t.Ik=function(n,i){if(w(n))return i?t.Pk:t.Rk;if(i){if(n<0)return t.Pk;if(n>=Em)return t.Ck}else{if(n<=-Im)return t.xk;if(n+1>=Im)return t.Dk}return n<0?t.Ik(-n,i).yk():t.Sk(Ee.fromNumber(n%Sm),Ee.fromNumber(n/Sm),i)},t}();Rm.Rk=Rm.Ek(Ee.ZERO),Rm.Pk=Rm.Ek(Ee.UZERO),Rm.jk=Rm.Ek(Ee.ONE),Rm.Jk=Rm.Ek(Ee.UONE),Rm.$k=Rm.Ek(Ee.NEG_ONE),Rm.Dk=Rm.Sk(Ee.NEG_ONE,Ee.MAX_VALUE,!1),Rm.Ck=Rm.Sk(Ee.MAX_UNSIGNED_VALUE,Ee.MAX_UNSIGNED_VALUE,!0),Rm.xk=Rm.Sk(Ee.ZERO,Ee.MIN_VALUE,!1);var Nm=function(){function t(t,n){void 0===n&&(n=1),this.iE=t,this.IA=n}var n=t.prototype;return n.fS=function(n){return this.IA>=n.IA?new t(this.iE+n.aE(this.IA).iE,this.IA):new t(this.aE(n.IA).iE+n.iE,n.IA)},n.ck=function(t){return t.vk(this)},n.dk=function(t){return t._k(this)},n.gk=function(n){return this.IA>=n.IA?new t(l.abs(this.iE-n.aE(this.IA).iE),this.IA):n.gk(this)},n.fk=function(t,n){return this.gk(t)._k(n)},n.lk=function(t){return function(t,n){return t.IA>=n.IA?qc(t.iE,n.aE(t.IA).iE):qc(t.aE(n.IA).iE,n.iE)}(this,t)},n.GS=function(t){return 0===this.lk(t)},n.vk=function(t){return this.lk(t)<0},n._k=function(t){return this.lk(t)<=0},n.aE=function(n){return new t(this.iE*(n/this.IA),n)},n.Ak=function(n){return this.IA>=n.IA?new t(this.iE-n.aE(this.IA).iE,this.IA):new t(this.aE(n.IA).iE-n.iE,n.IA)},n.uE=function(n){return new t(this.iE*n,this.IA)},t.nE=function(n){return new t(l.ceil(n.iE),n.IA)},t.rE=function(n){return new t(l.floor(n.iE),n.IA)},t.hE=function(t,n){return t.dk(n)?t:n},t.oE=function(t,n){return t._k(n)?t:n},hr(t,[{key:"Tk",get:function(){return!isFinite(this.iE)}},{key:"sE",get:function(){return this.iE/this.IA}}]),t}();Nm.cE=new Nm(1/6,1),Nm.Rk=new Nm(0),Nm.lE=new Nm(1/0),Nm.dE=1e6;var Cm=function(t){function n(n,i){var r;return(r=t.call(this)||this).kT=n.toSigned(),r.IA=i>>>0,r}vr(n,t);var i=n.prototype;return i.pk=function(){return this.kT.isNegative()},i.Lk=function(){return 0!==this.IA&&this.kT.isZero()},i.Tk=function(){return 0===this.IA&&!this.kT.isZero()},i.bk=function(){return 0===this.IA&&this.kT.isZero()},i.hk=function(){if(0===this.IA)return this.kT.isZero()?NaN:this.kT.isNegative()?-1/0:1/0;var t=this.kT.divide(this.IA),n=this.kT.subtract(t.multiply(this.IA));return t.toNumber()+n.toNumber()/this.IA},i.Uk=function(){if(0===this.IA)throw new f("Failed to convert timestamp");return this.kT},i.yE=function(){return new Date(0===this.IA?NaN:this.aE(1e3).kT.toNumber())},i.AE=function(){return new Nm(0===this.IA?this.hk():this.kT.toNumber(),this.IA)},i.aE=function(t,i){void 0===i&&(i=Dm.bE);var r=this.IA;if(r===t)return this;if(0===r)return this;var e=Be(r,t),u=function(t,n,i){var r=Fo(t.Zk(n),2),e=r[0],u=r[1];if(u.Lk())return e;if(i===Dm.bE)return u.pk()?e.Ak(Rm.jk):e;if(i===Dm.TE)return u.pk()?e:e.fS(Rm.jk);var s=u.Yk(Rm.Ik(2));return s.pk()?s.yk().vk(n)?e:e.Ak(Rm.jk):s.vk(n)?e:e.fS(Rm.jk)}(Rm.Ek(this.kT).Yk(Rm.Ik(t/e)),Rm.Ik(r/e),i);return new n(u.Uk(),t)},i.lk=function(t){if(this===t)return Mc.ih;if(0===this.IA||0===t.IA)return bm(this,t);if(this.Lk())return t.Lk()?Mc.ih:t.pk()?Mc.b_:Mc.T_;if(t.Lk())return this.pk()?Mc.T_:Mc.b_;var n=l.min(this.IA,t.IA),i=this.aE(n,Dm.SE).kT,r=t.aE(n,Dm.SE).kT;return i.compare(r)},i.yk=function(){return 0===this.IA?function(t){0;return t.bk()?t:t.pk()?Cm.gE:Cm.vE}(this):new n(this.kT.negate(),this.IA)},i.fS=function(t){if(0===this.IA||0===t.IA)return function(t,n){0;if(t.bk()||n.bk())return Cm._E;if(t.Tk()&&n.Tk())return t.pk()===n.pk()?t:Cm._E;return t.Tk()?t:n}(this,t);if(this.Lk())return t;if(t.Lk())return this;var i=l.max(this.IA,t.IA),r=this.aE(i,Dm.SE),e=t.aE(i,Dm.SE);return new n(r.kT.add(e.kT),i)},i.Yk=function(t){if(this.bk()||w(t))return n._E;if(this.Tk()||!isFinite(t)){if(this.Lk()||0===t)return n._E;var i=this.pk()?n.vE:n.gE;return t<0?i.yk():i}return this.Lk()?this:new n(0===t?Ee.ZERO:this.kT.multiply(t),this.IA)},i.tE=function(t){if(this.bk()||w(t))return n._E;if(this.Tk())return isFinite(t)?0===t?1/t<0?this.yk():this:t<0?this.yk():this:n._E;if(!isFinite(t))return new n(Ee.ZERO,this.IA);if(this.Lk())return 0===t?n._E:new n(Ee.ZERO,this.IA);if(0===t){var i=this.pk()?n.vE:n.gE;return 1/t<0?i.yk():i}return new n(this.kT.divide(t),this.IA)},i.kE=function(){return[this.kT.low,this.kT.high,this.IA]},n.fE=function(t,i){return void 0===i&&(i=km),n.Ik(t*i,i)},n.Ik=function(t,i){return w(t)?n._E:t===1/0?n.gE:t===-1/0?n.vE:new n(Ee.fromNumber(t),i)},n.Ek=function(t,i){return new n(t,i)},n.wE=function(t){return n.fE(t.sE,km)},n.mE=function(t){return new n(Ee.fromNumber(t.getTime()),1e3)},n.hE=function(t,n){return t.dk(n)?t:n},n.oE=function(t,n){return t._k(n)?t:n},n.pE=function(t,i,r){return n.hE(i,n.oE(r,t))},n}(Am);Cm.Rk=new Cm(Ee.ZERO,km),Cm._E=new Cm(Ee.ZERO,0),Cm.gE=new Cm(Ee.ONE,0),Cm.vE=new Cm(Ee.NEG_ONE,0);var Dm,Pm=function(t){function n(n,i){var r;return(r=t.call(this)||this).kT=BigInt.asIntN(64,n),r.IA=i>>>0,r}vr(n,t);var i=n.prototype;return i.pk=function(){return this.kT<BigInt(0)},i.Lk=function(){return 0!==this.IA&&this.kT===BigInt(0)},i.Tk=function(){return 0===this.IA&&this.kT!==BigInt(0)},i.bk=function(){return 0===this.IA&&this.kT===BigInt(0)},i.hk=function(){if(0===this.IA)return this.kT===BigInt(0)?NaN:this.kT<BigInt(0)?-1/0:1/0;var t=this.kT/BigInt(this.IA),n=this.kT-t*BigInt(this.IA);return Number(t)+Number(n)/this.IA},i.Uk=function(){if(0===this.IA)throw new f("Failed to convert timestamp");return this.CE()},i.CE=function(){var t=this.kT&BigInt(4294967295),n=this.kT>>BigInt(32)&BigInt(4294967295);return Ee.fromBits(Number(t),Number(n))},i.yE=function(){return new Date(0===this.IA?NaN:Number(this.aE(1e3).kT))},i.AE=function(){return new Nm(0===this.IA?this.hk():Number(this.kT),this.IA)},i.aE=function(t,i){void 0===i&&(i=Dm.bE);var r=this.IA;if(r===t)return this;if(0===r)return this;var e=Be(r,t),u=function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===Dm.bE)return e<BigInt(0)?r-BigInt(1):r;if(i===Dm.TE)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.kT*BigInt(t/e),BigInt(r/e),i);return new n(u,t)},i.lk=function(t){if(this===t)return Mc.ih;if(0===this.IA||0===t.IA)return bm(this,t);if(this.Lk())return t.Lk()?Mc.ih:t.pk()?Mc.b_:Mc.T_;if(t.Lk())return this.pk()?Mc.T_:Mc.b_;var n=l.min(this.IA,t.IA),i=this.aE(n,Dm.SE).kT,r=t.aE(n,Dm.SE).kT;return i>r?Mc.b_:i<r?Mc.T_:Mc.ih},i.yk=function(){return 0===this.IA?function(t){0;return t.bk()?t:t.pk()?Pm.gE:Pm.vE}(this):new n(-this.kT,this.IA)},i.fS=function(t){if(0===this.IA||0===t.IA)return function(t,n){0;if(t.bk()||n.bk())return Pm._E;if(t.Tk()&&n.Tk())return t.pk()===n.pk()?t:Pm._E;return t.Tk()?t:n}(this,t);if(this.Lk())return t;if(t.Lk())return this;var i=l.max(this.IA,t.IA),r=this.aE(i,Dm.SE),e=t.aE(i,Dm.SE);return new n(r.kT+e.kT,i)},i.Yk=function(t){if(this.bk()||w(t))return n._E;if(this.Tk()||!isFinite(t)){if(this.Lk()||0===t)return n._E;var i=this.pk()?n.vE:n.gE;return t<0?i.yk():i}return this.Lk()?this:new n(0===t?BigInt(0):this.kT*BigInt(t),this.IA)},i.tE=function(t){if(this.bk()||w(t))return n._E;if(this.Tk())return isFinite(t)?0===t?1/t<0?this.yk():this:t<0?this.yk():this:n._E;if(!isFinite(t))return new n(BigInt(0),this.IA);if(this.Lk())return 0===t?n._E:new n(BigInt(0),this.IA);if(0===t){var i=this.pk()?n.vE:n.gE;return 1/t<0?i.yk():i}return new n(this.kT/BigInt(t),this.IA)},i.kE=function(){var t=this.CE();return[t.low,t.high,this.IA]},n.fE=function(t,i){return void 0===i&&(i=km),n.Ik(t*i,i)},n.Ik=function(t,i){return w(t)?n._E:t===1/0?n.gE:t===-1/0?n.vE:new n(BigInt(l.floor(t)),i)},n.Ek=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.wE=function(t){return n.fE(t.sE,km)},n.mE=function(t){return n.Ik(t.getTime(),1e3)},n.hE=function(t,n){return t.dk(n)?t:n},n.oE=function(t,n){return t._k(n)?t:n},n.pE=function(t,i,r){return n.hE(i,n.oE(r,t))},hr(n,null,[{key:"Rk",get:function(){return n.EE||(n.EE=new n(BigInt(0),km)),n.EE}},{key:"_E",get:function(){return n.IE||(n.IE=new n(BigInt(0),0)),n.IE}},{key:"gE",get:function(){return n.PE||(n.PE=new n(BigInt(1),0)),n.PE}},{key:"vE",get:function(){return n.RE||(n.RE=new n(BigInt(-1),0)),n.RE}}]),n}(Am);Pm.EE=void 0,Pm.IE=void 0,Pm.PE=void 0,Pm.RE=void 0,function(t){t[t.bE=0]="bE",t[t.TE=1]="TE",t[t.SE=2]="SE"}(Dm||(Dm={}));var Om=function(){try{return"function"==typeof BigInt&&"bigint"===E(BigInt(0))}catch(t){return!1}}()?Pm:Cm;function Bm(t,n){return t.lk(n)}function Lm(t,n){return void 0!==t?void 0!==n?Om.oE(t,n):t:n}var Mm=9e4,xm=l.pow(2,33),Um=Gr((function(){return Om.Ik(xm,Mm)})),Fm=Gr((function(){return Um().tE(2)}));var Hm,Vm,Xm,zm,Wm,Gm={xE:0,DE:1/0,NE:0},qm=6,Ym=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],jm=[" ","\t","\n","\f","\r"],Qm=/^\d*$/,Km=/.*[0-9]+.*/,Zm=/^[\d.-]+$/,Jm=/(^\.|\.$)/,$m=/(\D\.|\.\D)/;function tp(t,n){return void 0===n&&(n=Gm),np(af(vf(t),new mf),n)}function np(t,n){void 0===n&&(n=Gm);var i={L:[],BE:[],LE:[]},r=ip(t),e=new mf;if(lp(r),rp(r,(function(t){return"\n"!==t}),e),e.Au>=r.length)return i;(e.Ey(1),"\n"!==r.charAt(e.Au))?cp(ep(r,e,false,!0,i,n),i):e.Ey(1);for(rp(r,(function(t){return"\n"===t}),e);e.Au<r.length;){cp(ep(r,e,false,!1,i,n),i),rp(r,(function(t){return"\n"===t}),e)}return i}function ip(t){var n=pc(t,"\0"," "),i=pc(n,"\r\n","\n");return pc(i,"\r","\n")}function rp(t,n,i){for(var r=i.Au;i.Au<t.length&&n(t.charAt(i.Au));)i.Ey(1);return t.substring(r,i.Au)}function ep(t,n,i,r,e,u){for(var s,o=0,c=n.Au,a="",h=!1,f=!1,v=null,d=null,l=null;!h;)if(s=rp(t,(function(t){return"\n"!==t}),n),o++,n.Au>=t.length?h=!0:n.Ey(1),kc(s,"--\x3e")){if(r||1!==o&&(2!==o||f)){n.gc(c);break}f=!0,c=n.Au,v=new lm(0,0,"",!1,a);try{ap(s,e.BE,v,u),a=""}catch(t){tr.Um(t),v=null}}else{if(""===s)break;r&&Ac(s,"X-TIMESTAMP-MAP")&&(e.OE=up(s)),r||2!==o||i||(Tc("STYLE",a.replace(/ /g,""))?(d={Iw:qy.SS},a=""):Tc("REGION",a.replace(/ /g,""))&&(l=new pm("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=s,c=n.Au}if(v)return v.O=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=":",e=0;e<i.length;e++){var u=i[e];if(0!==u.length&&kc(u,r)&&u.charAt(0)!==r&&u.charAt(u.length-1)!==r){var s=u.indexOf(r),o=u.substring(0,s),c=u.substring(s+1,u.length);switch(o.toUpperCase()){case"ID":Ep(c,n);break;case"WIDTH":Np(c,n);break;case"LINES":Rp(c,n);break;case"REGIONANCHOR":var a=Sp(c);a&&(n.ZS=a[0],n.JS=a[1]);break;case"VIEWPORTANCHOR":var h=Sp(c);h&&(n.ek=h[0],n.nk=h[1]);break;case"SCROLL":Ip(c,n)}}}}(a,l),l;return null}function up(t){var n,i=t.split("=")[1].trim().split(","),r=op(i[0].trim(),"MPEGTS")?i[0]:i[1],e=op(i[0].trim(),"LOCAL")?i[0]:i[1];return{ME:sp(Number(r.split(/:(.*)/)[1].trim())||0),dh:Om.fE(null!=(n=vp(e.split(/:(.*)/)[1].trim(),new mf))?n:0)}}function sp(t){return Om.Ik(t,Mm)}function op(t,n){return Ac(t,n)}function cp(t,n){t&&function(t){return"cue"===t.Iw}(t)?n.L.push(t):t&&function(t){return"region"===t.Iw}(t)?n.BE.push(t):t&&function(t){return"stylesheet"===t.Iw}(t)&&n.LE.push(t)}function ap(t,n,i,r){var e=new mf;gp(t,e);var u=hp(vp(t,e),r);if(gp(t,e),"--\x3e"!==t.substring(e.Au,e.Au+3))throw f("Something went wrong with parsing a WebVTT Cue");e.Ey(3),gp(t,e);var s=hp(vp(t,e),r);i.KS(u,s),function(t,n,i){for(var r=t.split(/\s/),e=":",u=0;u<r.length;u++){var s=r[u];if(0!==s.length&&kc(s,e)&&s.charAt(0)!==e&&s.charAt(s.length-1)!==e){var o=s.indexOf(e),c=s.substring(0,o),a=s.substring(o+1,s.length);switch(c.toUpperCase()){case"REGION":kp(a,n,i);break;case"VERTICAL":bp(a,n);break;case"D":Tp(a,n);break;case"LINE":case"L":mp(a,n);break;case"POSITION":case"T":pp(a,n);break;case"SIZE":case"S":Ap(a,n);break;case"ALIGN":case"A":yp(a,n)}}}}(t.substring(e.Au,t.length),i,n)}function hp(t,n){return t+n.xE}function fp(t){return/^[0-9]$/.test(t)}function vp(t,n){var i,r,e,u=pc(t,",","."),s=!1;if(n.Au>=u.length||!fp(u.charAt(n.Au)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var o=rp(u,fp,n),c=_(o,10);if((o.length>2||c>59)&&(s=!0),n.Au>=u.length||":"!==u.charAt(n.Au))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Ey(1);var a=rp(u,fp,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var h=_(a,10);if(s||n.Au<u.length&&":"===u.charAt(n.Au)){if(n.Au>=u.length||":"!==u.charAt(n.Au))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Ey(1);var v=rp(u,fp,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");i=c,r=h,e=_(v,10)}else i=0,r=c,e=h;if(n.Au>=u.length||"."!==u.charAt(n.Au))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.Ey(1);var d=rp(u,fp,n),l=_(d,10);if(h>59||e>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function dp(t){return lp(ip(t))}function lp(t){if(t.length<qm)return!1;for(var n=0;n<Ym.length;n++){var i=Ym[n];if(Ac(t,i))return!0}return!1}function _p(t){return ia(jm,t)}function gp(t,n){for(;n.Au<t.length&&_p(t.charAt(n.Au));)n.Ey(1)}function wp(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!w(i)&&i>=0&&i<=100)return i}return null}function yp(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.CS=i;break;case"middle":n.CS="center"}}function mp(t,n){var i,r,e=t.indexOf(",");if(e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r=""),Km.test(i)){var u,s;if(bc(i,"%")){var o=wp(i);if(null===o)return;u=o,s=!1}else{if(!Zm.test(i)||i.lastIndexOf("-")>0)return;var c=i.indexOf(".");if(c>=0&&(c!==i.lastIndexOf(".")||!$m.test(i)||Jm.test(i)))return;if(u=g(i),w(u))return;s=!0}switch(n.xS=u,n.OS=s,r=r.toLowerCase()){case"start":case"center":case"end":n.DS=r;break;case"middle":n.DS="center"}}}function pp(t,n){var i,r,e=t.indexOf(",");e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r="");var u=wp(i);if(null!==u)switch(n.yo=u,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.NS=r;break;case"start":n.NS="line-left";break;case"middle":n.NS="center";break;case"end":n.NS="line-right"}}function kp(t,n,i){var r=Kc(i,(function(n){return n.o===t}));void 0!==r&&(n.LS=r)}function Ap(t,n){var i=wp(t);null!==i&&(n.iA=i)}function bp(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Mt="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Mt="lr";break;default:n.Mt=""}}function Tp(t,n){"VERTICAL"===t.toUpperCase()?n.Mt="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Mt="lr")}function Sp(t){if(t.indexOf(",")>=0){var n=wp(t.substring(0,t.indexOf(","))),i=wp(t.substring(t.indexOf(",")+1,t.length));return[Ce(n||0,0,100),Ce(i||100,0,100)]}return null}function Ep(t,n){n.o=t}function Ip(t,n){"up"===t.toLowerCase()&&(n.$S="up")}function Rp(t,n){Qm.test(t)&&(n.YS=_(t))}function Np(t,n){var i=wp(t);null!==i&&(n.Ti=i)}!function(t){t.pp="moov",t.yp="mvhd",t.Ap="trak",t.bp="tkhd",t.Tp="mdia",t.Sp="mdhd",t.kp="hdlr",t.Ep="minf",t.Ip="stbl",t.Pp="stsd",t.Rp="stsc",t.Cp="mvex",t.xp="trex",t.Dp="avc1",t.Np="avcC",t.Bp="hev1",t.Lp="hvc1",t.Op="hvcC",t.Mp="vp09",t.Fp="vpcC",t.Up="av01",t.Hp="av1C",t.Vp="colr",t.Wp="pasp",t.qp="mp4a",t.zp="esds",t.Xp="wvtt",t.Gp="vttC",t.Qp="vlab",t.Kp="enca",t.jp="encv",t.Yp="moof",t.Zp="mfhd",t.Jp="traf",t.$p="tfhd",t.ey="trun",t.iy="tfdt",t.sy="senc",t.oy="mdat",t.uy="pssh",t.ly="emsg",t._y="sidx",t.gy="styp",t.vy="ftyp",t.wy="sinf",t.py="frma"}(Hm||(Hm={})),function(t){t.vl="vide",t.yy="soun",t.Ay="subt",t.by="hint",t.Ty="meta",t.Sy="auxv"}(Vm||(Vm={})),function(t){t.ON_SCREEN_COLOURS="nclx",t.RESTRICTED_ICC_PROFILE="rICC",t.UNRESTRICED_ICC_PROFILE="prof"}(Xm||(Xm={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=65536]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(zm||(zm={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Wm||(Wm={}));var Cp=function(){function t(t,n){this.Ny=t,this.By=n}var n=t.prototype;return n.Dy=function(){return Dh(this.Ny,this.By)},n.Ly=function(){return xh(this.Ny,this.By)},n.Oy=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.Au,i);return n.Ey(2),r}(this.Ny,this.By)},n.My=function(){return Fh(this.Ny,this.By)},n.Fy=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.Au,i);return n.Ey(4),r}(this.Ny,this.By)},n.Uy=function(){return Vh(this.Ny,this.By)},n.Hy=function(t){return Oh(this.Ny,this.By,t)},n.Vy=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(Fh(t,n));return r}(this.Ny,this.By,t)},n.Wy=function(t){return Wh(this.Ny,this.By,t)},n.qy=function(){return sf(this.Ny,this.By)},n.zy=function(t){this.By.Ey(t)},n.Iy=function(){return new t(this.Ny,this.By.Iy())},t}();function Dp(t,n){return t.Iw===n}function Pp(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(Dp(r,n))return r}}var Op=function(t){function n(n,i){var r;return(r=t.call(this)||this).Xy=n,r.Gy=i,r}return vr(n,t),hr(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(ya),Bp=function(){function t(){}return t.Qy=function(n){var i=n.Ny,r=n.By,e=t.Ky(i,r,!1);if(!e.jy)throw new Op(r.Au,e.m);return e.m},t.Ky=function(n,i,r){for(var e=[];i.Au<n.byteLength;){var u=t.Yy(n,i,r);if(!u.jy)return{jy:!1,m:e};e.push(u.Zy)}return{jy:!0,m:e}},t.Jy=function(n,i){var r=t.Yy(n,i,!1);if(!r.jy)throw new Op(i.Au);return r.Zy},t.$y=function(n,i){for(var r=n.Ny,e=n.By;e.Au<r.byteLength;){var u=t.Yy(r,e,!1);if(!u.jy)return;if(u.Zy.Iw===i)return u.Zy}},t.Yy=function(n,i,r){var e=i.Au,u=t.tA(n,i);if(!u.jy)return u;var s=u.eA,o=s.iA;if(0===o){if(r)return i.gc(e),{jy:!1,sA:1/0};o=n.byteLength-e}var c=e+o;if(c>n.byteLength){var a=c;return i.gc(e),{jy:!1,sA:a}}var h={Iw:s.Iw,Au:e,Ny:new Cp(ff(n,e,c),new mf(s.nA))};return i.gc(c),{jy:!0,Zy:h}},t.tA=function(t,n){var i=n.Au;if(!Lh(t,n,8))return{jy:!1,sA:n.Au+8};var r=Fh(t,n),e=Wh(t,n,4);if(1===r){if(!Lh(t,n,8)){var u=n.Au+8;return n.gc(i),{jy:!1,sA:u}}r=Vh(t,n).toNumber()}if("uuid"===e){if(!Lh(t,n,16)){var s=n.Au+16;return n.gc(i),{jy:!1,sA:s}}e=Wh(t,n,16)}return{jy:!0,eA:{Iw:e,iA:r,nA:n.Au-i}}},t.rA=function(t,n,i){var r=t.Ny,e=t.By,u=hf(df(r),e.Au,r.byteLength);return i&&(u=wf(u)),e.Ey(u.byteLength),{Iw:n,Ny:u}},t.hA=function(n,i,r){var e=Up(n.My());return{Iw:i,oA:e.version,aA:e.flags,Ny:t.rA(n,i,r).Ny}},t}();function Lp(t,n){var i=Mp(t,n);if(!i)throw new f("Missing "+n+" atom");return i}function Mp(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Iw===n)return r.Ny}}function xp(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.Iw===n&&i.push(e.Ny)}return i}function Up(t){return{version:t>>24,flags:new Rh(16777215&t)}}var Fp=function(){function t(){}return t.uA=function(n){for(var i=[],r=Bp.Qy(new Cp(n,new mf)),e=0;e<r.length;e++){var u=r[e],s=t.cA(u);s&&i.push(s)}return i},t.lA=function(t){return Bp.Ky(t,new mf,!1).m.some(this.dA)},t.fA=function(n){return xp(Bp.Qy(new Cp(n,new mf)),Hm.uy).map(t._A)},t.gA=function(n){return xp(Bp.Qy(n.Ny),Hm.uy).map(t._A)},t.dA=function(t){return t.Iw===Hm.vy||t.Iw===Hm.gy||t.Iw===Hm.pp||t.Iw===Hm.Yp||t.Iw===Hm.oy||t.Iw===Hm._y||t.Iw===Hm.ly},t.cA=function(n){switch(n.Iw){case Hm.pp:return t.vA(n.Ny);case Hm.Yp:return t.wA(n.Ny,n.Au);case Hm.oy:return t.mA(n.Ny);case Hm._y:return t.pA(n.Ny);case Hm.ly:return t.yA(n.Ny)}},t.vA=function(n){var i=Bp.Qy(n),r=Lp(i,Hm.yp),e=xp(i,Hm.Ap),u=Mp(i,Hm.Cp),s=t.AA(r),o=e.map(t.bA),c=u?t.TA(u):void 0;return{Iw:Hm.pp,eA:s,Z:o,SA:c}},t.AA=function(t){var n=Up(t.My()),i=n.version,r=n.flags,e=1===i?t.Uy():t.My(),u=1===i?t.Uy():t.My(),s=t.My(),o=1===i?t.Uy():t.My(),c=t.My(),a=t.Ly()>>8;t.zy(2),t.zy(8);var h=t.Vy(9);t.zy(24);var f=t.My();return{Iw:Hm.yp,oA:i,aA:r,kA:e,EA:u,IA:s,ct:o,PA:c,_l:a,RA:h,CA:f}},t.bA=function(n){var i=Bp.Qy(n),r=Lp(i,Hm.bp),e=Lp(i,Hm.Tp),u=t.xA(r),s=t.DA(e);return{Iw:Hm.Ap,eA:u,NA:s}},t.xA=function(t){var n=Up(t.My()),i=n.version,r=n.flags,e=1===i?t.Uy():t.My(),u=1===i?t.Uy():t.My(),s=t.My();t.zy(4);var o=1===i?t.Uy():t.My();t.zy(8);var c=t.Oy(),a=t.Oy(),h=t.Oy()/l.pow(2,8);t.zy(2);var f=t.Vy(9),v=t.My()/l.pow(2,16),d=t.My()/l.pow(2,16);return{Iw:Hm.bp,BA:r.Ry(1),LA:r.Ry(2),OA:r.Ry(4),kA:e,EA:u,MA:s,ct:o,FA:c,UA:a,_l:h,RA:f,Ti:v,Ci:d}},t.DA=function(n){var i=Bp.Qy(n),r=Lp(i,Hm.Sp),e=Lp(i,Hm.kp),u=Lp(i,Hm.Ep),s=t.HA(r),o=t.VA(e),c=t.WA(u);return{Iw:Hm.Tp,eA:s,qA:o,zA:c}},t.HA=function(t){var n=Up(t.My()),i=n.version,r=n.flags,e=1===i?t.Uy():t.My(),u=1===i?t.Uy():t.My(),s=t.My(),o=1===i?t.Uy():t.My();t.Ly();return t.zy(2),{Iw:Hm.Sp,oA:i,aA:r,kA:e,EA:u,IA:s,ct:o}},t.VA=function(t){var n=Up(t.My()),i=n.version,r=n.flags;t.zy(4);var e=t.Wy(4);t.zy(12);var u=t.qy();return{Iw:Hm.kp,oA:i,aA:r,XA:e,l:u}},t.WA=function(n){var i=Lp(Bp.Qy(n),Hm.Ip),r=t.GA(i);return{Iw:Hm.Ep,QA:r}},t.GA=function(n){var i=Lp(Bp.Qy(n),Hm.Pp),r=t.KA(i);return{Iw:Hm.Ip,jA:r}},t.KA=function(n){for(var i=Up(n.My()),r=i.version,e=i.flags,u=(n.My(),[]),s=Bp.Qy(n),o=0;o<s.length;o++){var c=s[o],a=t.YA(c.Ny,c.Iw);a&&u.push(a)}return{Iw:Hm.Pp,oA:r,aA:e,ZA:u}},t.YA=function(n,i){var r=t.JA(n,i);return r||((r=t.$A(n,i))||(i===Hm.Xp?t.eb(n):void 0))},t.JA=function(n,i){return i===Hm.qp?t.ib(n):i===Hm.Kp?t.sb(n):void 0},t.$A=function(n,i){return i===Hm.Dp?t.hb(n):i===Hm.Bp||i===Hm.Lp?t.ob(n,i):i===Hm.Mp?t.ub(n,i):i===Hm.Up?t.cb(n,i):i===Hm.jp?t.fb(n):void 0},t._b=function(t,n){return t.zy(6),{Iw:n,gb:t.Ly()}},t.vb=function(n,i){var r=t._b(n,i);n.zy(8);var e=n.Ly(),u=n.Ly();return n.zy(2),n.zy(2),xo({},r,{wb:e,mb:u,pb:n.My()>>>16})},t.yb=function(n,i){var r=t._b(n,i);n.zy(2),n.zy(2),n.zy(12);var e=n.Ly(),u=n.Ly(),s=n.My(),o=n.My();n.zy(4);var c=n.Ly();n.zy(32);var a=n.Ly();return n.zy(2),xo({},r,{Ti:e,Ci:u,Ab:s,bb:o,Tb:c,Sb:a})},t.ib=function(n){var i=t.vb(n,Hm.qp),r=Lp(Bp.Qy(n),Hm.zp);return xo({},i,{kb:t.Eb(r)})},t.eb=function(n){var i=t._b(n,Hm.Xp),r=Bp.Qy(n),e=Lp(r,Hm.Gp),u=t.Ib(e),s=Mp(r,Hm.Qp);return xo({},i,{Pb:u,Rb:s?t.Cb(s):s})},t.Ib=function(t){return{Iw:Hm.Gp,xb:t.qy()}},t.Cb=function(t){return{Iw:Hm.Qp,_h:t.qy()}},t.Eb=function(t){return Bp.hA(t,Hm.zp,!0)},t.hb=function(n){var i=t.yb(n,Hm.Dp),r=Bp.Qy(n),e=Lp(r,Hm.Np),u=Mp(r,Hm.Wp);return xo({},i,{Db:t.Nb(e),Bb:u?t.Lb(u):void 0})},t.ob=function(n,i){var r=t.yb(n,i),e=Lp(Bp.Qy(n),Hm.Op);return xo({},r,{Ob:t.Mb(e)})},t.ub=function(n,i){var r=t.yb(n,i),e=Lp(Bp.Qy(n),Hm.Fp);return xo({},r,{Fb:t.Ub(e)})},t.cb=function(n,i){var r=t.yb(n,i),e=Bp.Qy(n),u=Lp(e,Hm.Hp),s=t.Hb(u),o=Mp(e,Hm.Vp);return xo({},r,{Vb:s,Wb:o?t.qb(o):void 0})},t.fb=function(n){var i=n.Iy(),r=t.yb(n,Hm.jp),e=Lp(Bp.Qy(n),Hm.wy),u=t.zb(e);return xo({},r,{Xb:t.$A(i,u.Qb.Gb),Kb:u})},t.sb=function(n){var i=n.Iy(),r=t.vb(n,Hm.Kp),e=Lp(Bp.Qy(n),Hm.wy),u=t.zb(e);return xo({},r,{Xb:t.JA(i,u.Qb.Gb),Kb:u})},t.zb=function(n){var i=Lp(Bp.Qy(n),Hm.py),r=t.jb(i);return{Iw:Hm.wy,Qb:r}},t.jb=function(t){var n=t.Wy(4);return{Iw:Hm.py,Gb:n}},t.Nb=function(t){return Bp.rA(t,Hm.Np,!0)},t.Mb=function(t){return Bp.rA(t,Hm.Op,!0)},t.Ub=function(t){return Bp.rA(t,Hm.Fp,!0)},t.Hb=function(t){return Bp.rA(t,Hm.Hp,!0)},t.qb=function(t){var n=t.Wy(4);switch(n){case"nclx":return{Yb:Xm.ON_SCREEN_COLOURS,Zb:t.Ly(),Jb:t.Ly(),$b:t.Ly(),tT:0!=(128&t.Dy())};case"rICC":return{Yb:Xm.RESTRICTED_ICC_PROFILE};case"prof":return{Yb:Xm.UNRESTRICED_ICC_PROFILE};default:throw f("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.Lb=function(t){var n=t.My(),i=t.My();return{Iw:Hm.Wp,eT:n,iT:i}},t.TA=function(n){var i=xp(Bp.Qy(n),Hm.xp).map(t.sT);return{Iw:Hm.Cp,Z:i}},t.sT=function(t){var n=Up(t.My()),i=n.version,r=n.flags,e=t.My(),u=t.My(),s=t.My(),o=t.My(),c=t.My();return{Iw:Hm.xp,oA:i,aA:r,MA:e,nT:u,rT:s,hT:o,oT:c}},t.wA=function(n,i){var r=Bp.Qy(n),e=Lp(r,Hm.Zp),u=xp(r,Hm.Jp),s=t.aT(e),o=u.map(t.uT);return{Iw:Hm.Yp,cT:i,eA:s,Z:o}},t.aT=function(t){var n=Up(t.My()),i=n.version,r=n.flags,e=t.My();return{Iw:Hm.Zp,oA:i,aA:r,lT:e}},t.uT=function(n){var i=Bp.Qy(n),r=Lp(i,Hm.$p),e=xp(i,Hm.ey),u=Mp(i,Hm.iy),s=t.dT(r),o=e.map((function(n){return t.fT(n,s)})),c=u?t._T(u):void 0;return{Iw:Hm.Jp,eA:s,gT:o,vT:c}},t.dT=function(t){var n=Up(t.My()),i=n.version,r=n.flags,e=t.My(),u=r.Ry(zm.BASE_DATA_OFFSET_PRESENT)?t.Uy():void 0,s=r.Ry(zm.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.My():void 0,o=r.Ry(zm.DEFAULT_SAMPLE_DURATION_PRESENT)?t.My():void 0,c=r.Ry(zm.DEFAULT_SAMPLE_SIZE_PRESENT)?t.My():void 0,a=r.Ry(zm.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.My():void 0;return{Iw:Hm.$p,oA:i,aA:r,MA:e,wT:u,mT:s,rT:o,hT:c,oT:a}},t.fT=function(n,i){for(var r=Up(n.My()),e=r.version,u=r.flags,s=n.My(),o=u.Ry(Wm.DATA_OFFSET_PRESENT)?n.Fy():void 0,c=u.Ry(Wm.FIRST_SAMPLE_FLAGS_PRESENT)?n.My():void 0,a=[],h=0;h<s;h++){var f=t.pT(n,u,e,i);0===h&&void 0!==c&&(f.aA=c),a.push(f)}return{Iw:Hm.ey,oA:e,aA:u,yT:s,cT:o,AT:c,bT:a}},t.pT=function(t,n,i,r){return{ct:n.Ry(Wm.SAMPLE_DURATION_PRESENT)?t.My():r.rT,iA:n.Ry(Wm.SAMPLE_SIZE_PRESENT)?t.My():r.hT,aA:n.Ry(Wm.SAMPLE_FLAGS_PRESENT)?t.My():r.oT,TT:n.Ry(Wm.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.My():t.Fy():void 0}},t.yA=function(t){var n=t.Ny,i=t.By,r=Up(Fh(n,i)),e=r.version,u=r.flags;if(1===e){var s=Fh(n,i),o=Vh(n,i),c=Fh(n,i),a=Fh(n,i),h=zh(n,i),f=zh(n,i),v=gf(df(n),i.Au,n.byteLength);return i.Ey(v.byteLength),{Iw:Hm.ly,oA:e,aA:u,ST:h,kT:f,IA:s,ET:o,IT:c,o:a,PT:v}}var d=zh(n,i),l=zh(n,i),_=Fh(n,i),g=Fh(n,i),w=Fh(n,i),y=Fh(n,i),m=gf(df(n),i.Au,n.byteLength);return i.Ey(m.byteLength),{Iw:Hm.ly,aA:u,oA:e,ST:d,kT:l,IA:_,RT:g,IT:w,o:y,PT:m}},t.mA=function(t){return Bp.rA(t,Hm.oy,!1)},t._A=function(n){var i=n.Ny,r=n.By,e=wf(df(i)).buffer,u=Up(Fh(i,r)),s=u.version,o=u.flags,c=t.CT(i,r),a=[];if(s>0)for(var h=Fh(i,r),f=0;f<h;f++){var v=Oh(i,r,16);a.push(v)}var d=Fh(i,r),l=new y(e,r.Au,d);return r.Ey(i.byteLength),{Iw:Hm.uy,oA:s,aA:o,xT:c,DT:a,NT:d,Ny:l,BT:e}},t.CT=function(t,n){for(var i="",r=0;r<4;r++){var e=Dh(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=Dh(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var c=Dh(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var a=0;a<2;a++){var h=Dh(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=Dh(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.pA=function(t){var n,i,r=t.Ny,e=t.By,u=Up(Fh(r,e)),s=u.version,o=u.flags,c=Fh(r,e),a=Fh(r,e);0===s?(n=Ee.fromBits(Fh(r,e),0,!0),i=Ee.fromBits(Fh(r,e),0,!0)):(n=Vh(r,e),i=Vh(r,e)),e.Ey(2);for(var h=xh(r,e),f=[],v=0;v<h;v+=1){var d=Fh(r,e),l=d>>31&1,_=2147483647&d,g=Fh(r,e),w=Fh(r,e),y=w>>31&1,m=w>>28&7,p=268435455&w;f.push({LT:l,OT:_,ct:g,MT:y,FT:m,UT:p})}return{Iw:Hm._y,oA:s,aA:o,HT:c,IA:a,VT:n,WT:i,qT:h,zT:f}},t._T=function(t){var n,i=t.Ny,r=t.By,e=Up(Fh(i,r)),u=e.version,s=e.flags;return n=0===u?Ee.fromBits(Fh(i,r),0,!0):Vh(i,r),{Iw:Hm.iy,oA:u,aA:s,vT:n}},t}();function Hp(t){return t&&"FE"in t?t.FE:t}var Vp=function(t){function n(n,i,r,e,u,s,o){var c;return(c=t.call(this,n,i,r,e)||this).HE=u,c.VE=s,c.qE=o||void 0,c}return vr(n,t),n.prototype.QS=function(t){return!!ny(this.UE,t.UE)&&(!!ny(this.BE,t.BE)&&(this.WE&&t.WE?!!this.WE.zE(t.WE)&&(this.O&&t.O?this.O.zE(t.O):this.O===t.O):this.WE===t.WE))},hr(n,[{key:"UE",get:function(){return this.HE}},{key:"BE",get:function(){return this.VE}},{key:"WE",get:function(){return this.qE}},{key:"ma",get:function(){return this.Gu||(this.Gu=function(t){return $w(rm(t),{get styles(){return t.UE},get regions(){return t.BE},get metadata(){return Hp(t.WE)},get content(){return Hp(t.O)}})}(this)),this.Gu}}]),n}(vm),Xp=function(){function t(t,n,i){this.JE=t,this.$E=n,Tw(i)?this.Mu=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.tI(u)}return i}(0,0,i):this.Mu=i}return hr(t,[{key:"YE",get:function(){return this.Mu.ZE(!0)}},{key:"PS",get:function(){return this.JE}},{key:"RS",get:function(){return this.$E}}]),t}();var zp="http://www.w3.org/XML/1998/namespace";function Wp(t,n,i,r){var e=t.sI(i,n);return 0===e.length&&(e=t.nI(r+":"+n)),e}function Gp(t,n){return function(t,n){var i=t.m.slice(),r=[];for(;i.length>0;){var e,u=i.shift();if(n(u))r.push(u);else(e=i).push.apply(e,_r(u.m))}return r}(t,(function(t){return t.DL===n}))}function qp(t){for(var n={},i=0,r=t.rI;i<r.length;i++){var e=r[i];n[e.hI]=e.kT}return n}var Yp,jp,Qp=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Kp=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Zp="http://www.w3.org/ns/ttml";function Jp(t,n,i,r){void 0===i&&(i=Gm),void 0===r&&(r=sl.APPLICATION_TTML_XML);var e=[],u=vf(t);return r===sl.APPLICATION_MP4?e=function(t,n,i){var r=Fp.uA(t),e=Pp(r,Hm.oy);if(!e)return[];return nk(vf(e.Ny),n,i)}(u,n,i):r===sl.APPLICATION_TTML_XML&&(e=nk(u,n,i)),e}function $p(t,n,i){return void 0===i&&(i=Gm),ik(t,n,i)}function tk(t,n){for(var i=ak(n.YE),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function nk(t,n,i){return ik(af(t,new mf),n,i)}function ik(t,n,i){var r,e=[];try{r=tr.oI(t)}catch(t){return e}var u=r.aI;if("tt"!==u.hI)return e;var s=u&&u.sI(Zp,"head")[0],o=u&&u.sI(Zp,"body")[0];if(!o||!s)return e;for(var c=function(t){for(var n={},i=t.sI(Zp,"styling")[0],r=i&&i.sI(Zp,"style")||[],e=0;e<r.length;e++){var u=r[e];n[u.uI(zp,"id")]=qp(u)}return n}(s),a=function(t){for(var n={},i=t.sI(Zp,"layout")[0],r=i&&i.sI(Zp,"region")||[],e=0;e<r.length;e++){var u=r[e],s=u.uI(zp,"id");if(s){n[s]=qp(u);var o=ck(u);for(var c in o)Rr.call(o,c)&&(n[s][c]=o[c])}}return n}(s),h=function(t,n){var i=ty(t),r=uk(n.cI("tts:extent"));if(!r)return i;for(var e=0,u=d.keys(i);e<u.length;e++){var s=u[e],o=uk(i[s].extent);if(o){var c=rk(o[0],r[0]),a=rk(o[1],r[1]);i[s].extent=c+" "+a}var h=uk(i[s].origin);if(h){var f=rk(h[0],r[0]),v=rk(h[1],r[1]);i[s].origin=f+" "+v}}return i}(a,u),f=s.sI(Zp,"metadata")[0],v=sk(o,i.xE,i.DE,i.NE),l=0;l<v.length;l++){var _=v[l],g=tk(h,_);e.push(new Vp(_.PS,_.RS,_.YE,!1,c,g,f))}return e}function rk(t,n){var i=ek(t),r=ek(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-r.length));return w(e)||w(u)?t:e/u*100+"%"}return t}function ek(t){return bc(t,"px")?"px":bc(t,"em")?"em":bc(t,"c")?"c":bc(t,"%")?"%":void 0}function uk(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function sk(t,n,i,r){var e,u=function(n){var i=function(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].PS,s=i[e].RS;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&r.push(i[e])}return r}(l[n],l[n+1],c);if(i.length<=0&&function(t){if(Tw(t)){var n=t.hI.toUpperCase(),i=Boolean(t.cI("smpte:backgroundImage"));return"BR"===n||i}return t.XE===Aw.KT}(t)){var r=t.ZE(!1);a.push(new Xp(l[n],l[n+1],r))}else if(i.length>0){var e=t.ZE(!1);i.forEach((function(t){return e.dI(t.YE)})),a.push(new Xp(l[n],l[n+1],e))}},s=n,o=i,c=[],a=[];if(Tw(t)){var h,f;s=null!=(h=ok(t.cI("begin"),r))?h:s,e=ok(t.cI("dur"),0),o=null!=(f=ok(t.cI("end"),r))?f:void 0!==e?s+e:o;for(var v=t.lI,d=0;d<v.length;d++)("body"===t.hI||"div"===t.hI)&&v[d].XE>1||(c=c.concat(sk(v[d],s,o,r)))}for(var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.PS,u.RS)}r.sort(Wc);for(var s=r.length,o=0;o<s-1;o++)r[o+1]===r[o]&&(ta(r,o+1),o--,s=r.length);return r}(s,o,c),_=0;_<l.length-1;_++)u(_);return a}function ok(t,n){if(t){if(Qp.test(t)){var i=Qp.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*r+60*e+u+(s?Number(s)*l.pow(.1,s.length):0)+n}if(Kp.test(t)){var o=Kp.exec(t);if(!o)return;var c,a=Number(o[1]);switch(o[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;default:c=NaN}return c+n}}}function ck(t){for(var n={},i=t.nI("style")||[],r=0;r<i.length;r++){var e=qp(i[r]);for(var u in e)Rr.call(e,u)&&(n[u]=e[u])}return n}function ak(t){var n,i=[];if(Tw(t)){(n=t.cI("region"))&&i.push(n);for(var r=t.lI,e=0;e<r.length;e++)i=i.concat(ak(r[e]))}return i}function hk(t){var n=function(t){try{return tr.oI(t).aI}catch(t){}}(t);return"tt"===(null==n?void 0:n.hI)}function fk(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case"disabled":case"hidden":case"showing":return n}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}function vk(){}function dk(t){var n,i=[Gw.oa,Gw.qv,Gw.Iv,Gw.Rv,Gw.Nv,Gw.Lv,Gw.xv,Gw.Mv,Gw.Bf,Gw.Vv],r=[jp.aa],e={get kind(){return t.Lt},get label(){return t._h},set label(n){t._h=ay(n)},get language(){return t.gs},get id(){return t.o},get uid(){return t.cw},get inBandMetadataTrackDispatchType(){return t.Aw},get mode(){return t.bw},set mode(n){n!==Yp.Qn&&n!==Yp.Tw&&n!==Yp.Th||t.Sw(n)},get forced(){return Boolean(t.Ew)},get accessibility(){var n,i;return null!=(i=null==(n=t.lw)?void 0:n.map(_y))?i:[]},get type(){return t.Iw},get readyState(){return t.Nc},get cues(){return t.bw===Yp.Th?null:t.L.ma},get activeCues(){return t.bw===Yp.Th?null:t.W.ma},get src(){return t.Pw||""},addEventListener:function(t,i){var r=fy(t,ay);n.wn(r,i)},removeEventListener:function(t,i){var r=fy(t,ay);n.pn(r,i)}};return n=new Fa(t),t.wn(i,(function(t){return n.To(t.ma)})),t.wn(r,(function(t){return n.To(t)})),d.defineProperty(e,"constructor",{value:vk}),e}function lk(){}function _k(t){var n=ly(t);return d.defineProperty(n,"constructor",{value:lk}),n}!function(t){t.Th="disabled",t.Tw="hidden",t.Qn="showing"}(Yp||(Yp={})),function(t){t.aa="error"}(jp||(jp={}));var gk,wk=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.it=function(n){var i=t.prototype.it.call(this,n);return i&&(n.bw=Yp.Th),i},i.pa=function(){return _k(this)},n}(Kw);!function(t){t.Ay="subtitles",t.fI="captions",t._I="descriptions",t.$n="chapters",t.Ty="metadata",t.gI="thumbnails"}(gk||(gk={}));var yk=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function mk(t){return"string"==typeof t&&ia(yk,t)}function pk(t,n){return!(!mk(t)||!mk(n))&&(t===n||"subtitles"===t&&"captions"===n||"captions"===t&&"subtitles"===n)}var kk,Ak=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=r,s.status=e,s}return vr(n,t),n}(Dl);function bk(t){return t instanceof W_}function Tk(t){return t instanceof q_}function Sk(t){return t instanceof Y_}function Ek(t){return t.some(Ik)}function Ik(t){return kc(t,"stpp")}function Rk(t){return t.some(Nk)}function Nk(t){return kc(t,"vtt")||kc(t,"wvtt")}function Ck(t,n){return ol(t)&&Rk(n)}function Dk(t,n){return t===gk.gI||t===gk.Ty&&n===gk.gI}function Pk(t,n,i,r){for(var e=0,u=t.L.Kv;e<u.length;e++){var s=u[e];if(s.PS>i)break;n<=s.RS&&!ia(r,s)&&r.push(s)}}function Ok(t,n){return zc(t.cw,n.cw)}function Bk(t,n,i,r){var e=function(t){switch(t){case Gy.WEBVTT:return"WebVTT";case Gy.SRT:return"SRT";case Gy.TTML:return"TTML";default:return""}}(t);return new Ak(Rl.SUBTITLE_PARSE_ERROR,"Could not parse the "+(e?e+" ":"")+"subtitle file.",n,i,r)}function Lk(t,n){for(var i=[],r=0,e=t.L.Kv;r<e.length;r++){var u=e[r];if(u.RS<=n)i.push(u);else if(u.PS>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.EI(o)}}function Mk(t,n){if(t.U>0)for(var i=t.Tn(0),r=l.max(0,i-10),e=0;e<n.length;e++){n[e].II(r)}}!function(t){t.RI="vtt",t.Xp="wvtt",t.CI="stpp"}(kk||(kk={}));var xk=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Z=new wk,n.xI=function(t){var i=t.Ht;n.DI(i)},n}vr(n,t);var i=n.prototype;return i.tt=function(t){t.wn(Gw.oa,this.xI),this.Z.tt(t),this.DI(t)},i.it=function(t){t.pn(Gw.oa,this.xI),t.bw=Yp.Th,this.Z.it(t)},i.NI=function(t){},i.BI=function(t){},i.DI=function(t){t.bw!==Yp.Th?this.NI(t):this.BI(t)},i.LI=function(){for(var t=0,n=this.Z.Kv;t<n.length;t++){var i=n[t];i.pn(Gw.oa,this.xI),i.bn()}},i.II=function(t){if(t>0)for(var n=0,i=this.Z.Kv;n<i.length;n++){Lk(i[n],t)}},i.ir=function(){return this.LI(),this.Z.ir(),$.resolve()},i.bn=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.Lo(),[4,t.ir()];case 1:return n.sent(),t.Z.bn(),[2]}}))}))()},n}(Ua),Uk=function(t){function n(n){var i;return(i=t.call(this,jp.aa)||this).errorObject=n,i}return vr(n,t),n.prototype.pa=function(){return this},hr(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Hw),Fk=function(t){function n(n,i){var r;return(r=t.call(this)||this).wP=new pa,r.lP=n,r.fP=i,r}vr(n,t);var i=n.prototype;return i.uP=function(t){if(t.src){var n=t.kind||gk.Ay,i=this.lP.cP(n,t.id,t.label,t.srclang,t.default);return i.Pw=U_(t.src),this.tt(i),i}},i.dP=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c,a,h,f,v;return Uo(this,(function(d){switch(d.label){case 0:t.Nc=Wy.LOADING,r=new B_({TI:t.Pw,sP:t_.KT,iP:N_.GET,M_:n}),d.label=1;case 1:return d.trys.push([1,4,,5]),[4,i.fP.pI(r)];case 2:return s=d.sent(),u=s.SI,[4,s._P()];case 3:return e=d.sent(),[3,5];case 4:return Ta(o=d.sent()),t.Nc=Wy.ERROR,t.To(new Uk(function(t,n){var i=n,r=0;if(bk(t)&&t.name===F_.vI)i=t.pI.TI;else if(Tk(t)){var e=t.AI;if(i=e.gP,0===(r=e.SI))return new Ak(Rl.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",i,r,t)}return new Ak(Rl.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",i,r,t)}(o,t.Pw))),[2];case 5:try{for(c=function(t){return dp(t)?Gy.WEBVTT:hk(t)?Gy.TTML:Gy.SRT}(e),t.Iw=c,a=[],c===Gy.WEBVTT||c===Gy.SRT?(h=np(e),a=h.L):c===Gy.TTML&&(a=$p(e,t)),f=0;f<a.length;f++)v=a[f],t.vP(v)}catch(n){return Ta(n),t.Nc=Wy.ERROR,t.To(new Uk(Bk(t.Iw,t.Pw,u,n))),[2]}return t.Nc=Wy.LOADED,[2]}}))}))()},i.NI=function(t){ia(this.Z.Kv,t)&&t.Nc===Wy.NONE&&this.dP(t,this.wP.M_).catch(Sa)},i.On=function(){},i.ir=function(){var n=this;return Mo((function(){var i,r,e;return Uo(this,(function(u){switch(u.label){case 0:for(n.wP.Jl(),n.wP=new pa,i=0,r=n.Z.Kv;i<r.length;i++)e=r[i],n.lP.mP(e);return[4,t.prototype.ir.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(xk);function Hk(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Lt===n&&r.pP)return r}}function Vk(t,n){Xk(Hk(t.Kv,n))}function Xk(t){void 0!==t&&(t.bw=Yp.Qn)}function zk(t,n){var i=Hk(t.Kv,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Lt===n)return r}}(t.Kv,n);Xk(i)}function Wk(t){for(var n=0;n<yk.length;n++){var i=yk[n];i===gk.$n?zk(t,i):Vk(t,i)}}var Gk,qk,Yk=function(t){function n(){return t.call(this,$l.vm)}return vr(n,t),n}(Va);!function(t){t[t.vB=0]="vB",t[t.wB=1]="wB"}(Gk||(Gk={})),function(t){t.pl="canplay",t.ml="canplaythrough",t.gl="loadeddata",t.yl="loadedmetadata",t.Bf="readystatechange",t.Yf="waiting",t.Qf="playing"}(qk||(qk={}));var jk,Qk=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"],Kk=function(t){function n(n,i){var r;return(r=t.call(this,qk.Bf)||this).currentTime=n,r.readyState=i,r}return vr(n,t),n}(Va);!function(t){t[t.zl=0]="zl",t[t.Jn=1]="Jn",t[t.Hf=2]="Hf",t[t._f=3]="_f",t[t.Wl=4]="Wl"}(jk||(jk={}));var Zk=function(t){function n(n,i){var r;return void 0===i&&(i=jk.Jn),(r=t.call(this,qk.yl)||this).currentTime=n,r.readyState=i,r}return vr(n,t),n}(Va),Jk=function(t){function n(n,i){var r;return void 0===i&&(i=jk.Hf),(r=t.call(this,qk.gl)||this).currentTime=n,r.readyState=i,r}return vr(n,t),n}(Va),$k=function(t){function n(n){var i;return(i=t.call(this,qk.Yf)||this).currentTime=n,i}return vr(n,t),n}(Va),tA=function(t){function n(n,i){var r;return void 0===i&&(i=jk._f),(r=t.call(this,qk.pl)||this).currentTime=n,r.readyState=i,r}return vr(n,t),n}(Va),nA=function(t){function n(n,i){var r;return void 0===i&&(i=jk.Wl),(r=t.call(this,qk.ml)||this).currentTime=n,r.readyState=i,r}return vr(n,t),n}(Va),iA=function(t){function n(n){var i;return(i=t.call(this,qk.Qf)||this).currentTime=n,i}return vr(n,t),n}(Va),rA=[qk.Bf,qk.Qf,$l.Ph,$l.Ch],eA=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).yB=n,r.SB=i,r.kB=jk.zl,r.CB=!0,r.bB=!1,r.pB=!1,r.BB=function(t){var n=r.yB.Nc;n!==r.kB&&r.To(new Kk(t.currentTime,n)),n===jk.zl&&(r.bB=!1,r.pB=!1),r.mB(n),r.AB(n),r.RB(n),r.maybeDispatchCanPlayThroughEvent(n),r.TB(n),r.IB(n),r.kB=n},r.DB=function(){r.IB(r.kB),r.TB(r.kB),r.CB=r.yB.Dc},r.NB=function(){r.CB=r.yB.Dc},r.xB=function(t){r.To(new iA(t.currentTime))},r.yB.wn(qk.Bf,r.BB),r.yB.wn($l.Ph,r.DB),r.yB.wn($l.Ch,r.NB),r.SB&&r.yB.wn(qk.Qf,r.xB),r}vr(n,t);var i=n.prototype;return i.mB=function(t){!this.pB&&t>=jk.Jn&&(this.pB=!0,this.To(new Zk(this.yB.Wu,t)))},i.AB=function(t){!this.bB&&t>=jk.Hf&&(this.bB=!0,this.To(new Jk(this.yB.Wu,t)))},i.TB=function(t){this.SB||(t>=jk._f&&this.kB<jk._f&&!this.yB.Dc||this.EB&&t>=jk._f)&&this.To(new iA(this.yB.Wu))},i.IB=function(t){!this.PB(t)||this.yB.Ic||this.yB.lt||this.To(new $k(this.yB.Wu))},i.RB=function(t){this.kB<=jk.Hf&&t>=jk._f&&this.To(new tA(this.yB.Wu,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===jk.Wl&&this.To(new nA(this.yB.Wu,t))},i.PB=function(t){var n=!this.yB.Dc&&t<=jk.Hf,i=!this.CB&&this.kB<=jk.Hf;return n&&!i},i.ir=function(){this.kB=jk.zl,this.CB=!0,this.bB=!1,this.pB=!1},i.bn=function(){this.Lo(),this.SB&&this.yB.pn(qk.Qf,this.xB),this.yB.pn($l.Ph,this.DB),this.yB.pn($l.Ch,this.NB),this.yB.pn(qk.Bf,this.BB)},hr(n,[{key:"EB",get:function(){return!this.yB.Dc&&this.CB}}]),n}(Ua),uA=function(t){function n(n){var i;return(i=t.call(this)||this).yB=n,i.yB.wn(rA,i.Os),i}return vr(n,t),n.prototype.Ou=function(){this.Lo(),this.yB.pn(rA,this.Os)},hr(n,[{key:"Wu",get:function(){return this.yB.Wu}},{key:"Ic",get:function(){return this.yB.Ic}},{key:"lt",get:function(){return this.yB.lt}},{key:"Dc",get:function(){return this.yB.Dc}},{key:"Nc",get:function(){return this.yB.Nc}}]),n}(Ua),sA="titanium",oA="conax",cA="ezdrm",aA="irdeto",hA="vudrm",fA="verimatrix",vA="keyos",dA="drmtoday",lA="expressplay",_A="azure",gA="xstream",wA="vimond",yA="axinom",mA="uplynk",pA="comcast",kA="custom",AA=function(){function t(t,n,i,r,e){this.OB=void 0,this.ap=t,this.sL=n,this.nL=i,this.fP=r,this.iL=e,this.HB=this.rL(n)}var n=t.prototype;return n.LB=function(){return this.OB},n.MB=function(t){this.OB=t},n.VB=function(){return this.HB.licenseAcquisitionURL||this.LB()},n.qB=function(t){return $.resolve()},n.zB=function(t,n){return $.resolve(void 0)},n.XB=function(t,n,i,r){var e=this;return Mo((function(){var u,s;return Uo(this,(function(o){switch(o.label){case 0:if(""===(u=e.GB(t,n,i,r)).TI)throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");o.label=1;case 1:return o.trys.push([1,4,,6]),[4,e.Gf.pI(u)];case 2:return[4,o.sent().QB(n)];case 3:return[2,o.sent()];case 4:return Ta(s=o.sent()),[4,e.KB(s,u.TI,r)];case 5:return o.sent(),[2];case 6:return[2]}}))}))()},n.GB=function(t,n,i,r){var e=this.jB().UI(),u=this.oP,s={TI:this.YB(),sP:n,eP:e,tP:t,oP:u,iP:N_.POST,kI:0,M_:r,Iw:C_.XI,rP:i};return new B_(s)},n.ZB=function(t,n){return $.resolve(t)},n.JB=function(t,n,i,r){return $.resolve(t)},n.jB=function(){return new i_(this.HB.headers||{})},n.KB=function(t,n,i){return Mo((function(){return Uo(this,(function(n){throw new by(Rl.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)}))}))()},n.YB=function(t,n){var i=n,r=this.HB.queryParameters;if(!i){var e=this.VB();if(!e)return"";i=e}if(r||t){var u=tr.Rh(i);t&&x_(u,t),r&&x_(u,r),i=u.href}return i},n.$B=function(t,n){return bA(t)},n.tL=function(t){return new y(t)},n.eL=function(t,n,i){var r=this;return Mo((function(){var e,u;return Uo(this,(function(s){switch(s.label){case 0:return[4,r.$B(t,i)];case 1:return e=s.sent(),[4,r.XB(e,r.iL,n,i)];case 2:return u=s.sent(),[2,r.tL(u)]}}))}))()},n.bn=function(){},hr(t,[{key:"Gf",get:function(){return this.fP}},{key:"FB",get:function(){return!1}},{key:"UB",get:function(){var t=this.HB.certificate;if(t)return Mr(t)?ih(t):_f(t)}},{key:"WB",get:function(){return!1}},{key:"oP",get:function(){return Boolean(this.HB.useCredentials)}}]),t}();function bA(t){return $.resolve(wf(t).buffer)}var TA,SA=function(t){function n(n,i,r,e){return t.call(this,lc,n,i,r,e)}vr(n,t);var i=n.prototype;return i.rL=function(t){return t.widevine||{}},i.hL=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(r){return i.UB?[2,i.UB]:[2,i.oL(new y(t),n)]}))}))()},i.oL=function(n,i){return t.prototype.eL.call(this,n,D_.jI,i)},n}(AA);function EA(t,n,i){return n in t?d.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function IA(t){return Cr(t.token&&t.deviceId)}function RA(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&Cr(i.PreAuthorization)}function NA(t){var n=t;return IA(n)&&""!==n.token&&""!==n.deviceId&&!RA(n)}!function(t){t.tp=!1,t.ep=!1,t.ip=!1,t.sp=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.np=!1,t.rp=!1,t.LOG_LCEVC_DETAILS=!1}(TA||(TA={}));var CA,DA=function(){function t(t,n,i){this.op=t,this.cp=n,this.dp=i}return t.prototype.lp=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.dp.build(t))},hr(t,[{key:"hp",get:function(){return this.op}},{key:"ap",get:function(){return this.cp}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(CA||(CA={}));var PA=function(){function t(){this._p=[]}var n=t.prototype;return n.registerContentProtectionIntegration=function(t,n,i){switch(this.fp(t,n,i)){case CA.FAILED:throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+n+".");case CA.OVERRIDDEN:var r=KA(n);tr.Um("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case CA.SUCCEEDED:KA(n);0}},n.fp=function(t,n,i){var r=KA(n);if(!r)return CA.FAILED;for(var e=CA.SUCCEEDED,u=0,s=this._p.slice();u<s.length;u++){var o=s[u];o.hp===t&&o.ap===r&&(e=CA.OVERRIDDEN,$c(this._p,o))}return this._p.push(new DA(t,r,i)),e},n.gp=function(t,n){return void 0!==this.vp(t,n)},n.wp=function(t,n,i){var r=this.vp(t,n);if(!r)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.lp(i)},n.vp=function(t,n){for(var i=0,r=this._p;i<r.length;i++){var e=r[i];if(e.hp===t&&(!n||e.ap===n))return e}},t}();PA.mp=new PA;var OA={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function BA(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters;return!(n||i||r||e||u||s)}function LA(t){return t&&void 0!==t.licenseAcquisitionURL}var MA,xA=LA,UA=LA;function FA(t){if(!t)return!0;if(zA(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return BA(n)&&BA(i)&&BA(r)&&void 0===e&&BA(u)}function HA(t){var n=NA(t),i=function(t){var n,i=t;return RA(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!IA(i)}(t);return(!n||!i)&&(n||i)}function VA(t){return t.integration===aA}function XA(t){var n=t;if(!n)return!1;if(FA(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(zA(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!xA(r))return!1;if(e&&!UA(e))return!1;if(u&&!function(t){return void 0!==t}(u))return!1;if(n.integration){if(PA.mp.gp(n.integration))return!0;switch(n.integration){case sA:if(!function(t){var n=t,i=n.integration===sA;return i&&(WA(t)||GA(t))}(t))return!1;break;case hA:if(!qA(t))return!1;break;case fA:if(!function(t){var n=t;return n.integration===fA}(t))return!1;break;case aA:if(!VA(t))return!1;break;case oA:if(!HA(t))return!1;break;case cA:if(!function(t){var n=t;return n.integration===cA}(t))return!1;break;case vA:if(!zA(t))return!1;break;case dA:if(!function(t){var n=t;return n.integration===dA&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case lA:if(!function(t){var n=t;return n.integration===lA}(t))return!1;break;case gA:if(!YA(t))return!1;break;case wA:if(!function(t){return t.integration===wA}(t))return!1;break;case yA:if(!jA(t))return!1;break;case _A:if(!function(t){var n=t;return n.integration===_A&&void 0!==n.token}(t))return!1;break;case mA:if(!function(t){var n=t;return n.integration===mA}(t))return!1;break;case pA:if(!function(t){var n=t;return n&&Cr(n.releasePid)&&Cr(n.accountId)&&Cr(n.token)}(t))return!1;break;case kA:return!0;default:return!1}}return!0}function zA(t){return t.integration===vA}function WA(t){return void 0!==t.authToken}function GA(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function qA(t){var n=t;return n.integration===hA&&void 0!==n.token}function YA(t){var n=t;return n&&n.integration===gA&&Mr(n.ticketAcquisitionURL)&&Mr(n.streamId)}function jA(t){var n=t;return n.integration===yA&&void 0!==n.token}function QA(t,n){var i,r,e,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:OA[t],o=null!=(r=null==u?void 0:u.customdata)?r:n.customdata,c=o?{customData:o}:{},a=xo({},null!=(e=null==u?void 0:u.headers)?e:{},c),h=null!=u?u:{},f=(h.customdata,function(t,n){if(null==t)return{};var i,r,e={},u=d.keys(t);for(r=0;r<u.length;r++)i=u[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}(h,["customdata"]));return xo({},f,{licenseAcquisitionURL:s,headers:a})}function KA(t){switch(t.toLowerCase()){case"widevine":case ec:return ec;case"playready":case nc:return nc;case"fairplay":case ac:return ac}}function ZA(t,n){switch(t){case Zo:return function(t){for(var n={},i=Fp.fA(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.xT]=e.BT}return n}(n);case Jo:case $o:return function(t){return EA({},cc,t)}(n);default:throw new Dl(Rl.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.Ym="Widevine",t.aL="PlayreadyV2",t.uL="PlayreadyV3",t.jm="PlayreadyV2",t.Zm="Fairplay"}(MA||(MA={}));var JA={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function $A(t,n){var i,r,e,u,s=JA[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=tr.cL)?void 0:i.Zs,OSVersion:null==(r=tr.cL)?void 0:r.lL,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(e=tr.cL)?void 0:e.dL,DeviceModel:null==(u=tr.cL)?void 0:u.fL}}}function tb(t,n){if(!t.accountName)throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, accountName is not set.");if(!t.customerName)throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, customerName is not set.");if(!t.portalId)throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, portalId is not set.");throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration.")}function nb(t,n,i){var r;if(WA(t))r={AuthToken:t.authToken,Payload:n};else{if(!GA(t))throw tb(t,i);r={LatensRegistration:$A(t,i),Payload:n}}return gh(JSON.stringify(r))}function ib(t,n,i){return rb.apply(this,arguments)}function rb(){return rb=Mo((function(t,n,i){var r,e,u,s;return Uo(this,(function(o){switch(o.label){case 0:if(!(r=t.AI))throw new by(Rl.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n);e=r,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e._L(i)];case 2:return u=o.sent(),s=function(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}return}(u),[3,4];case 3:return o.sent(),s="",[3,4];case 4:throw new by(Rl.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,e.pI.TI,e.SI,e.gL,s)}}))})),rb.apply(this,arguments)}var eb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,t_.MI)||this).mL=void 0,e}vr(n,t);var i=n.prototype;return i.KB=function(t,n,i){return ib(t,n,i)},i.qB=function(t){return this.mL?Ea(this.mL.jf,t):(this.mL=new kf,$.resolve())},i.$B=function(t,n){var i=this;return Mo((function(){var n,r;return Uo(this,(function(e){if(!(n=i.sL))throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return r=uh(t),[2,nb(n,r,MA.Ym)]}))}))()},i.tL=function(t){if(!t.license)throw new by(Rl.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return ih(t.license)},i.pL=function(t){return $.resolve(new y(t))},i.hL=function(t,n){var i=this;return Mo((function(){var r,e;return Uo(this,(function(u){switch(u.label){case 0:return i.yL(),[4,i.$B(t,n)];case 1:return r=u.sent(),[4,i.XB(r,t_.OI,D_.YI,n)];case 2:return e=u.sent(),[4,i.pL(e)];case 3:return[2,u.sent()]}}))}))()},i.oL=function(n,i){var r=this;return Mo((function(){var e;return Uo(this,(function(u){switch(u.label){case 0:return[4,t.prototype.oL.call(r,n,i)];case 1:return e=u.sent(),r.yL(),[2,e]}}))}))()},i.yL=function(){this.mL||(this.mL=new kf),this.mL.Lf()},i.bn=function(){this.mL&&this.mL.Jl(),t.prototype.bn.call(this)},n.vL=function(){return tr.Zs.wL?"required":"optional"},n}(SA),ub=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,t_.OI)||this).MB("https://widevine-proxy.drm.technology/proxy"),e}return vr(n,t),n.prototype.$B=function(t,n){var i=this;return Mo((function(){var n,r,e,u;return Uo(this,(function(s){switch(s.label){case 0:return[4,bA(t)];case 1:if(n=s.sent(),r=i.nL,e=yf(new y(n)),!(u=i.AL))throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return[2,JSON.stringify({token:u,drm_info:e,kid:r})]}}))}))()},hr(n,[{key:"AL",get:function(){if(qA(this.sL))return this.sL.token}}]),n}(SA);function sb(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=xo({},i,{SessionId:t.sessionId,Ticket:t.ticket})),xo({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var ob=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,t_.OI)||this).MB("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}return vr(n,t),n.prototype.YB=function(n,i){var r=n;return VA(this.sL)&&(r=sb(this.sL,r)),t.prototype.YB.call(this,r,i)},n}(SA),cb="Conax-Custom-Data";function ab(t,n,i){var r=t&&HA(t)&&t;if(r&&!i.has(cb)){var e=NA(r)?r.token:void 0,u=NA(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(cb,s)}return i}var hb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,t_.OI)||this).MB("https://connect.conax.com:8094/license"),e}return vr(n,t),n.prototype.jB=function(){var n=t.prototype.jB.call(this);return ab(this.sL,"Widevine",n)},n}(SA);function fb(t){var n=tf(new y(t));return ih(JSON.parse(n).license)}function vb(t){return"string"==typeof t.token?t.token:gh(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function db(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var lb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,t_.OI)||this).MB("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}vr(n,t);var i=n.prototype;return i.tL=function(t){return fb(t)},i.jB=function(){return db(t.prototype.jB.call(this),this.AL,this.sL)},hr(n,[{key:"AL",get:function(){return vb(this.sL)}}]),n}(SA),_b=function(t){function n(n,i,r){return t.call(this,n,i,r,t_.OI)}return vr(n,t),n.prototype.jB=function(){var n=t.prototype.jB.call(this),i=this.sL.token;return n.set("Authorization","Bearer "+i),n},n}(SA);function gb(t,n,i,r){return wb.apply(this,arguments)}function wb(){return wb=Mo((function(t,n,i,r){var e,u,s,o,c,a;return Uo(this,(function(h){switch(h.label){case 0:if(!YA(t))throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");return(e=new i_).append("Cache-Control","no-cache"),e.append("Content-Type","application/json"),(u=t.sessionId)&&e.append("XSSESSION",u),s=t.streamId,o=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",c={drmType:n,licenseType:o,streamId:s},a={TI:t.ticketAcquisitionURL,sP:t_.MI,eP:e,iP:N_.POST,tP:JSON.stringify(c),M_:r},[4,i.pI(a)];case 1:return[4,h.sent()._L()];case 2:return[2,h.sent()]}}))})),wb.apply(this,arguments)}var yb=function(t){function n(n,i,r){return t.call(this,n,i,r,t_.MI)}vr(n,t);var i=n.prototype;return i.jB=function(){var n=t.prototype.jB.call(this);return n.set("Content-Type","application/json"),n},i.$B=function(n,i){var r=this;return Mo((function(){var e,u,s;return Uo(this,(function(o){switch(o.label){case 0:return e=_h(n.buffer),[4,gb(r.sL,"widevine_modular",r.Gf,i)];case 1:return u=o.sent(),r.MB(u.licenseServerUrl),s=nf(JSON.stringify({payload:e,ticket:u.ticket})),[2,t.prototype.$B.call(r,s,i)]}}))}))()},i.tL=function(t){return ih(t.license)},n}(SA),mb=function(t){function n(n,i,r){return t.call(this,n,i,r,t_.OI)}return vr(n,t),n.prototype.jB=function(){if(!jA(this.sL))throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.jB.call(this);return n.set("X-AxDRM-Message",this.sL.token),n},n}(SA);function pb(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var kb=function(t){function n(n,i,r){var e;return(e=t.call(this,dc,n,i,r,t_.OI)||this).bL=void 0,e}vr(n,t);var i=n.prototype;return i.rL=function(t){return t.playready||{}},i.jB=function(){var n=new i_(this.bL);return n.VI(t.prototype.jB.call(this)),n},i.TL=function(t){return t.length>=1&&t[0].lI.length>0},i.zB=function(n){var i=this.sL.playready.customData;if(i){var r=pb(i),e=pb('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+uh(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return $.resolve({playready:{DN:e}})}return t.prototype.zB.call(this,n)},i.$B=function(t,n){var i=this;return Mo((function(){var n;return Uo(this,(function(r){switch(r.label){case 0:return[4,bA(t)];case 1:return n=r.sent(),[2,i.SL(n)]}}))}))()},i.SL=function(t){var n=this;return Mo((function(){var i,r,e,u,s,o,c,a,h,f,v,d,l,_,g,w;return Uo(this,(function(y){e=null,u=new DataView(t),s=Zh(u,new mf,!0);try{o=tr.oI(s)}catch(t){return[2,e]}for(c=null==(i=o.nI("PlayReadyKeyMessage")[0])?void 0:i.nI("LicenseAcquisition")[0],h=null!=(a=null==c?void 0:c.nI("Challenge"))?a:[],n.TL(h)&&(e=lh(h[0].kL)),f=new i_,d=null!=(v=null==(r=null==c?void 0:c.nI("HttpHeaders")[0])?void 0:r.nI("HttpHeader"))?v:[],l=0;l<d.length;l++)_=d[l],g=_.nI("name")[0].kL,w=_.nI("value")[0].kL,f.append(g,w);return n.bL=f,[2,e]}))}))()},i.hL=function(t,n){return $.resolve(t)},i.oL=function(n,i){return t.prototype.eL.call(this,n,D_.ZI,i)},n}(AA),Ab=function(){function t(n){this.PL=n,this.RD=t.EL(n)}return t.prototype.IL=function(){var t={};if(this.RD===MA.uL){var n={LatensRegistration:$A(this.PL,MA.uL)};t["X-TITANIUM-DRM-CDATA"]=gh(JSON.stringify(n))}return t},t.EL=function(t){return"3"===t.version?MA.uL:MA.aL},hr(t,[{key:"RL",get:function(){return this.RD}},{key:"kN",get:function(){return this.RD===MA.aL}}]),t}();var bb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).CL=new Ab(e.sL),e}vr(n,t);var i=n.prototype;return i.zB=function(t){var n=this.sL;if(!this.sL)throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(GA(n)){var i={};return i.playready={DN:Tb(n,this.CL.RL)},$.resolve(i)}return $.reject(tb(n,MA.jm))},i.jB=function(){var n=new i_(this.CL.IL());return n.VI(t.prototype.jB.call(this)),n},i.KB=function(t,n,i){return Mo((function(){var r,e,u,s,o,c,a,h;return Uo(this,(function(f){switch(f.label){case 0:if(!(r=t.AI))throw new by(Rl.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n);f.label=1;case 1:return f.trys.push([1,3,,4]),[4,r.xL(i)];case 2:return s=f.sent(),o=tf(new y(s)),(c=tr.oI(o))&&(a=Gp(c,"CustomData")).length>0&&(e=JSON.parse(a[0].kL),u=null==(h=e.DrmErr)?void 0:h.desc),[3,4];case 3:return f.sent(),[3,4];case 4:throw new by(Rl.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n,r.SI,r.gL,u)}}))}))()},i.TL=function(t){if(1!==t.length)throw new by(Rl.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},n}(kb);function Tb(t,n){var i=$A(t,n),r=i.DeviceInfo.FormatVersion,e=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}(function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}("<TitaniumCustomData>"+gh('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>")+"</TitaniumCustomData>")),u=ef(e,!0);return ef('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+uh(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var Sb,Eb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).MB("https://playready-license.drm.technology/rightsmanager.asmx"),e}vr(n,t);var i=n.prototype;return i.TL=function(t){if(1!==t.length)throw new by(Rl.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},i.YB=function(n,i){var r=xo({},n||{},{token:this.AL});return t.prototype.YB.call(this,r,i)},hr(n,[{key:"AL",get:function(){if(qA(this.sL))return this.sL.token}}]),n}(kb),Ib=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).MB("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return vr(n,t),n.prototype.YB=function(n,i){var r=n;return VA(this.sL)&&(r=sb(this.sL,r)),t.prototype.YB.call(this,r,i)},n}(kb),Rb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).MB("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return vr(n,t),n.prototype.jB=function(){var n=t.prototype.jB.call(this);return ab(this.sL,"PlayReady",n)},n}(kb),Nb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).MB("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}vr(n,t);var i=n.prototype;return i.tL=function(n){var i=function(t){var n=tf(new y(t));return Ac(n,"<?xml")?0:1}(n);return 1===i?fb(n):t.prototype.tL.call(this,new y(n))},i.jB=function(){return db(t.prototype.jB.call(this),this.AL,this.sL)},hr(n,[{key:"AL",get:function(){return vb(this.sL)}}]),n}(kb);!function(t){t[t.NL=0]="NL",t[t._L=1]="_L"}(Sb||(Sb={}));var Cb,Db=function(t){function n(n,i,r){return t.call(this,n,i,r)}vr(n,t);var i=n.prototype;return i.jB=function(){var n=t.prototype.jB.call(this);return this.BL&&n.set("Ticket",this.BL),n.set("Content-Type","text/xml"),n},i.$B=function(n,i){var r=this;return Mo((function(){var e;return Uo(this,(function(u){switch(u.label){case 0:return[4,gb(r.sL,"playready",r.Gf,i)];case 1:return e=u.sent(),r.MB(e.licenseServerUrl),r.BL=e.ticket,[2,t.prototype.$B.call(r,n,i)]}}))}))()},n}(kb),Pb=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),n.prototype.jB=function(){if(!jA(this.sL))throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.jB.call(this);return n.set("X-AxDRM-Message",this.sL.token),n},n}(kb);!function(t){t.MI="application/json",t.LL="application/x-www-form-urlencoded",t.OL="application/octet-stream",t.KT="text/plain;charset=UTF-8"}(Cb||(Cb={}));var Ob=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n.ap,i,r,e,u)||this).VL="",s.FL=void 0,s.zL=n.QL,s}vr(n,t);var i=n.prototype;return i.ML=function(){return this.HB.certificateURL||this.FL},i.UL=function(t){this.FL=t},i.$B=function(t){return $.resolve(this.HL(t,this.VL))},i.HL=function(t,n){return"spc="+encodeURIComponent(uh(t))+"&assetId="+encodeURIComponent(n)},i.rL=function(t){return t.fairplay||{}},i.qL=function(t){var n=t.indexOf("?");if(n>=0)return $.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return $.resolve(i)}var r=t.split("/");return $.resolve(r[r.length-1])},i.zB=function(t){var n=this;return Mo((function(){var i,r,e,u;return Uo(this,(function(s){switch(s.label){case 0:return r=null!=(i=n.zL)?i:of(new y(t)),[4,n.qL(r)];case 1:return e=s.sent(),n.VL=e,(u={}).fairplay={HN:e},[2,u]}}))}))()},i.jB=function(){var n=t.prototype.jB.call(this);return n.set("Content-Type",this.WL),n},i.hL=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(t){switch(t.label){case 0:return i.UB?[2,i.UB]:[4,i.XL(n)];case 1:return[2,t.sent()]}}))}))()},i.oL=function(n,i){return t.prototype.eL.call(this,n,D_.QI,i)},i.GL=function(t){var n=this.ML(),i=this.jB(),r={TI:n,sP:t_.OI,eP:i,iP:N_.GET,oP:!1,tP:null,kI:0,M_:t,Iw:C_.XI,rP:D_.KI};return new B_(r)},i.XL=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:return i=n.GL(t),[4,n.Gf.pI(i)];case 1:return[4,e.sent().xL()];case 2:return r=e.sent(),[2,new y(r)]}}))}))()},i.tL=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=ih(i)}else n=new y(t);return n},i.YB=function(n,i){var r=t.prototype.YB.call(this,n,i);return Ac(r,"skd:")&&(r=r.substr(4)),r},hr(n,[{key:"WB",get:function(){return!0}},{key:"WL",get:function(){return Cb.LL}}]),n}(AA),Bb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,t_.OI)}vr(n,t);var i=n.prototype;return i.qL=function(n){var i=n.split("://",1);return"skd"!==i[0].slice(-3).toLowerCase()?$.resolve(""):(i=n.split(";",2)).length>1?$.resolve(i[1]):$.resolve(t.prototype.qL.call(this,n))},i.$B=function(t){return Mo((function(){return Uo(this,(function(n){return[2,t]}))}))()},i.tL=function(t){return new y(t)},i.YB=function(n,i){var r=n||{};return r.p1=xe(),t.prototype.YB.call(this,r,i)},hr(n,[{key:"WL",get:function(){return Cb.OL}}]),n}(Ob),Lb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,t_.OI)||this).MB("https://fairplay-license.drm.technology/license"),u.UL("https://fairplay-license.drm.technology/certificate"),u}vr(n,t);var i=n.prototype;return i.HL=function(t,n){var i={token:this.AL,contentId:n,payload:uh(t)};return JSON.stringify(i)},i.tL=function(t){return new y(t)},i.jB=function(){var n=t.prototype.jB.call(this);return n.set("x-vudrm-token",this.AL),n},hr(n,[{key:"WL",get:function(){return Cb.MI}},{key:"AL",get:function(){if(!qA(this.sL))throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.sL.token}}]),n}(Ob),Mb="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",xb="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",Ub=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,t_.OI)}return vr(n,t),n.prototype.tL=function(n){var i=function(t){var n;try{n=JSON.parse(t).ckc}catch(t){throw new by(Rl.CONTENT_PROTECTION_LICENSE_INVALID,Mb)}if(!n)throw new by(Rl.CONTENT_PROTECTION_LICENSE_ERROR,xb);return n}(tf(new DataView(n)));return t.prototype.tL.call(this,i)},n}(Ob);var Fb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,t_.MI)}vr(n,t);var i=n.prototype;return i.$B=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){if(!(i=n.sL))throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return r=uh(t),[2,nb(i,r,MA.Zm)]}))}))()},i.tL=function(t){try{var n;if(Mr(t)){var i=t.trim();n=JSON.parse(i)}else n=t;if(n.license){var r=lh(n.license);return new y(r)}throw new by(Rl.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new by(Rl.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},i.KB=function(t,n,i){return ib(t,n,i)},hr(n,[{key:"WL",get:function(){return Cb.MI}}]),n}(Ob),Hb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,t_.OI)||this).MB("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.UL("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}vr(n,t);var i=n.prototype;return i.ML=function(){var n=t.prototype.ML.call(this);if(!n)return n;var i=tr.Rh(n),r=this.sL;return VA(r)&&x_(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.qL=function(n){return VA(this.sL)?$.resolve(this.sL.contentId):t.prototype.qL.call(this,n)},i.$B=function(t){return Mo((function(){return Uo(this,(function(n){return[2,t]}))}))()},i.tL=function(t){return new y(t)},i.YB=function(n,i){var r=n;return VA(this.sL)&&(r=function(t,n){return xo({},sb(t,n),{KeyId:t.keyId})}(this.sL,r)),t.prototype.YB.call(this,r,i)},hr(n,[{key:"WL",get:function(){return Cb.OL}}]),n}(Ob),Vb=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,t_.KT)||this,!HA(i))throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.MB("https://connect.conax.com:8097/license"),u}vr(n,t);var i=n.prototype;return i.jB=function(){var n=t.prototype.jB.call(this);return ab(this.sL,"FairPlay",n)},i.XL=function(t){var n=this;return Mo((function(){var i,r,e;return Uo(this,(function(u){switch(u.label){case 0:return i=n.ML(),r={TI:i,sP:t_.OI,eP:{},iP:N_.GET,oP:!1,tP:null,kI:0,M_:t,Iw:C_.XI,rP:D_.KI},[4,n.Gf.pI(r)];case 1:return[4,u.sent().xL()];case 2:return e=u.sent(),[2,new y(e)]}}))}))()},i.$B=function(t){return Mo((function(){return Uo(this,(function(n){return[2,t]}))}))()},i.qL=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring(6,i):t.substring(6),$.resolve(function(t){return tf(ih(t))}(n))):$.resolve("unknown")},i.tL=function(t){try{var n=JSON.parse(t);return new y(lh(n.CkcMessage))}catch(t){throw new f("CFLRW-66")}},n}(Ob),Xb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,t_.KT)||this).MB(OA[Qo.Zm]),u}vr(n,t);var i=n.prototype;return i.qL=function(t){return Ac(t,"skd://")?$.resolve(t.substring(6,40)):$.reject(new by(Rl.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},i.HL=function(t,n){return"spc="+uh(t)+"&assetId="+n},n}(Ob),zb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,t_.KT)||this).MB("https://lic.drmtoday.com/license-server-fairplay/"),u}vr(n,t);var i=n.prototype;return i.HL=function(t,n){var i="spc="+encodeURIComponent(uh(t))+"&"+encodeURI(n);return"persistent"===this.HB.licenseType?i+"&offline=true":i},i.jB=function(){return db(t.prototype.jB.call(this),this.AL,this.sL)},hr(n,[{key:"AL",get:function(){return vb(this.sL)}}]),n}(Ob),Wb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,t_.OI)}vr(n,t);var i=n.prototype;return i.qL=function(t){var n=t;return Ac(n,"skd:")&&(n="http:"+n.substring(4)),Ac(n,"http:")||Ac(n,"https:")?$.resolve(tr.Rh(n).hostname):$.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},i.$B=function(t){return Mo((function(){return Uo(this,(function(n){return[2,t]}))}))()},i.tL=function(t){return new y(t)},hr(n,[{key:"WL",get:function(){return Cb.OL}}]),n}(Ob),Gb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,t_.KT)}return vr(n,t),n.prototype.jB=function(){var n=t.prototype.jB.call(this),i=this.sL.token;return n.set("Authorization","Bearer "+i),n},n}(Ob),qb=function(t){function n(n,i,r,e){var u=t.call(this,n,i,r,e,t_.MI);if(!YA(i))throw new f("Invalid Xstream DRM configuration");return u}vr(n,t);var i=n.prototype;return i.XL=function(t){var n=this;return Mo((function(){var i,r,e,u;return Uo(this,(function(s){switch(s.label){case 0:return i=n.ML(),r=n.jB(),e={TI:i,sP:t_.MI,eP:r,iP:N_.POST,M_:t,Iw:C_.XI,rP:D_.KI},[4,n.Gf.pI(e)];case 1:return[4,s.sent()._L()];case 2:return u=s.sent(),[2,new y(ih(u.certificate))]}}))}))()},i.oL=function(t,n,i){void 0===i&&(i=t_.KT);var r=this;return Mo((function(){var i,e,u,s;return Uo(this,(function(o){switch(o.label){case 0:return i=uh(t),[4,gb(r.sL,"fairplay",r.Gf,n)];case 1:return e=o.sent(),u=nf(JSON.stringify({spc:i,ticket:e.ticket})),s={TI:r.VB(),sP:t_.MI,eP:r.jB(),iP:N_.POST,tP:u,kI:0,M_:n,Iw:C_.XI,rP:D_.QI},[4,r.Gf.pI(s)];case 2:return[4,o.sent()._L()];case 3:return[2,ih(o.sent().licence)]}}))}))()},hr(n,[{key:"WL",get:function(){return Cb.MI}}]),n}(Ob),Yb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,t_.KT)}vr(n,t);var i=n.prototype;return i.HL=function(t,n){return uh(t)},i.tL=function(n){if(0===n.length)throw new by(Rl.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.tL.call(this,n)},i.jB=function(){var n=t.prototype.jB.call(this);return n.set("Content-Type","text/plain"),n},n}(Ob),jb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,t_.OI)}vr(n,t);var i=n.prototype;return i.HL=function(t,n){return t},i.tL=function(t){return new y(t)},i.jB=function(){if(!jA(this.sL))throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.jB.call(this);return n.set("X-AxDRM-Message",this.sL.token),n},hr(n,[{key:"WL",get:function(){return Cb.MI}}]),n}(Ob),Qb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,t_.MI)||this).KL=void 0,u}vr(n,t);var i=n.prototype;return i.HL=function(t,n){var i={spc:uh(t)};return JSON.stringify(i)},i.qL=function(t){var n=tr.Rh(t);return this.KL=t,n.searchParams.has("b")?$.resolve(n.searchParams.get("b")):$.reject(new by(Rl.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},i.YB=function(n,i){var r=this.VB();return!r&&this.KL&&(r=this.KL),r&&(r=r.replace("skd://","https://")),t.prototype.YB.call(this,n,i||r)},i.tL=function(t){try{var n;if((n=Mr(t)?JSON.parse(t.trim()):t).ckc)return ih(n.ckc)}catch(t){throw new by(Rl.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new by(Rl.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},hr(n,[{key:"WL",get:function(){return Cb.KT}}]),n}(Ob),Kb=function(){function t(t,n){this.YL=t,this.JL=n}var n=t.prototype;return n.jL=function(t){return this.YL(t)},n.ZL=function(t,n){throw new v(n+" must be "+this.JL+". (Received: "+t+")")},t}(),Zb=(new Kb((function(t){return!0}),"any"),new Kb(Hr,"a number")),Jb=new Kb(Mr,"a string"),$b=new Kb(xr,"a boolean");new Kb(Fr,"a date"),new Kb(Dr,"undefined"),new Kb(Br,"an object"),new Kb((function(t){return null===t}),"null"),new Kb((function(t){return null==t}),"null or undefined");var tT=function(t){return{jL:function(n){if(!Br(n))return!1;for(var i=0,r=d.keys(t);i<r.length;i++){var e=r[i];if(!t[e].jL(n[e]))return!1}return!0},ZL:function(n,i){if(!Br(n))throw new v(i+" must be an object.");for(var r=0,e=d.keys(t);r<e.length;r++){var u=e[r],s=t[u];if(!s.jL(n[u]))return s.ZL(n[u],i+"."+String(u))}throw new v}}}({responseCode:Zb,isException:$b,description:Jb,title:Jb,correlationId:Jb});function nT(t,n,i,r,e){return iT.apply(this,arguments)}function iT(){return iT=Mo((function(t,n,i,r,e){var u;return Uo(this,(function(s){switch(s.label){case 0:return u=function(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=tr.Rh(t);return x_(i,n),i.toString()}(i,e)),s=new i_({});s.append("Content-Type","application/json");var o=uh(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{TI:u,sP:t_.KT,eP:s,iP:N_.POST,tP:JSON.stringify(c),M_:r,Iw:C_.XI,rP:D_.QI}}(t,n,i,e),[4,rT(u,r)];case 1:return[2,s.sent()]}}))})),iT.apply(this,arguments)}function rT(t,n){return eT.apply(this,arguments)}function eT(){return eT=Mo((function(t,n){var i;return Uo(this,(function(r){switch(r.label){case 0:return[4,n.pI(t)];case 1:return[4,r.sent()._L()];case 2:if(i=r.sent(),tT.jL(i))throw new by(Rl.CONTENT_PROTECTION_LICENSE_ERROR,i.description,void 0,t.TI,i.responseCode);return[2,ih(i.getFairplayLicenseResponse.ckcResponse)]}}))})),eT.apply(this,arguments)}var uT=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,t_.OI)||this).$L=i,u}vr(n,t);var i=n.prototype;return i.qL=function(n){var i=n.replace("FairPlay",this.$L.releasePid);return t.prototype.qL.call(this,i)},i.oL=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return[4,nT(t,i.$L,i.VB(),i.Gf,n)];case 1:return[2,r.sent()]}}))}))()},n}(Ob),sT=function(t){function n(n,i,r){return t.call(this,wc,n,i,r,t_.OI)}vr(n,t);var i=n.prototype;return i.rL=function(t){return t.clearkey||{}},i.XB=function(n,i,r,e){var u=this;return Mo((function(){var i,s;return Uo(this,(function(o){if(i=u.HB,u.VB())return[2,t.prototype.XB.call(u,n,u.iL,r,e)];if(i.keys&&i.keys.length)return s={keys:i.keys.map((function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}}))},[2,cf(JSON.stringify(s)).buffer];throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")}))}))()},i.hL=function(t,n){return $.resolve(new y(0))},i.oL=function(n,i){var r=this;return Mo((function(){var e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:return[4,t.prototype.eL.call(r,n,D_.JI,i)];case 1:if(e=a.sent(),(u=JSON.parse(of(e))).keys)for(s=0,o=u.keys;s<o.length;s++)(c=o[s]).k&&(c.k=sh(c.k)),c.kid&&(c.kid=sh(c.kid));return[2,cf(JSON.stringify(u))]}}))}))()},n}(AA),oT=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),n}(SA),cT={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function aT(t,n,i){return hT.apply(this,arguments)}function hT(){return hT=Mo((function(t,n,i){var r,e,u;return Uo(this,(function(s){switch(s.label){case 0:return r=TT(n),(e=t.onCertificateRequest)&&"function"==typeof e?[4,Ea($.resolve(e.call(t,r)),i)]:[2,$.resolve(n)];case 1:return lf(u=s.sent())?[2,_f(u)]:[2,bT(xo({},cT,u))]}}))})),hT.apply(this,arguments)}function fT(t,n,i,r,e){return vT.apply(this,arguments)}function vT(){return vT=Mo((function(t,n,i,r,e){var u,s;return Uo(this,(function(o){switch(o.label){case 0:return u=t.onCertificateResponse,s=AT(n,i,r),u&&"function"==typeof u?[4,Ea($.resolve(u.call(t,s)),e)]:[2,$.resolve(n)];case 1:return[2,_f(o.sent())]}}))})),vT.apply(this,arguments)}function dT(t,n,i,r){return lT.apply(this,arguments)}function lT(){return lT=Mo((function(t,n,i,r){var e;return Uo(this,(function(u){switch(u.label){case 0:return[4,wT(t,n,i,r)];case 1:return(e=u.sent())instanceof ArrayBuffer?[2,e]:[2,bT(e)]}}))})),lT.apply(this,arguments)}function _T(t,n,i,r,e,u){return gT.apply(this,arguments)}function gT(){return gT=Mo((function(t,n,i,r,e,u){var s;return Uo(this,(function(o){switch(o.label){case 0:return s=kT(i,e),[4,mT(t,new y(n),s,r,u)];case 1:return[2,_f(o.sent())]}}))})),gT.apply(this,arguments)}function wT(t,n,i,r){return yT.apply(this,arguments)}function yT(){return yT=Mo((function(t,n,i,r){var e,u,s;return Uo(this,(function(o){switch(o.label){case 0:return e=null==t?void 0:t.onLicenseRequest,u=kT(n,i),e&&"function"==typeof e?[4,Ea($.resolve(e.call(t,u)),r)]:[2,$.resolve(u)];case 1:return lf(s=o.sent())?[2,_f(s).buffer]:[2,xo({fairplaySkdUrl:void 0},cT,s)]}}))})),yT.apply(this,arguments)}function mT(t,n,i,r,e){return pT.apply(this,arguments)}function pT(){return pT=Mo((function(t,n,i,r,e){var u,s;return Uo(this,(function(o){switch(o.label){case 0:return u=null==t?void 0:t.onLicenseResponse,s=AT(n,i,r),u&&"function"==typeof u?[4,Ea($.resolve(u.call(t,s)),e)]:[2,$.resolve(n)];case 1:return[2,_f(o.sent())]}}))})),pT.apply(this,arguments)}function kT(t,n){return xo({},TT(t),{fairplaySkdUrl:n})}function AT(t,n,i){return{url:i.gP,status:i.SI,statusText:i.gL,headers:i.eP.UI(),body:t,request:n}}function bT(t){return new B_({TI:t.url,iP:t.method,eP:t.headers,tP:t.body,oP:t.useCredentials})}function TT(t){var n;return{url:t.TI,body:null!=(n=ST(t.tP))?n:null,headers:t.eP.UI(),method:t.iP,useCredentials:t.oP}}function ST(t){if(t)return"string"==typeof t?cf(t):t instanceof ArrayBuffer?new y(t):ch(t)?df(t):void 0}var ET=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).tO=e,u}vr(n,t);var i=n.prototype;return i.hL=function(t,n){return $.resolve(t)},i.oL=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:return[4,i.SL(wf(t).buffer)];case 1:return r=a.sent(),e=i.GB(r,t_.OI,D_.ZI,n),[4,dT(i.tO,e,void 0,n)];case 2:if((u=a.sent())instanceof ArrayBuffer)return[2,new y(u)];if(""===u.TI)throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=3;case 3:return a.trys.push([3,7,,8]),[4,i.Gf.pI(u)];case 4:return[4,(s=a.sent()).xL(n)];case 5:return o=a.sent(),[4,_T(i.tO,o,e,s,void 0,n)];case 6:return[2,a.sent()];case 7:throw Ta(c=a.sent()),new by(Rl.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",c);case 8:return[2]}}))}))()},n}(kb),IT=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,t_.OI)||this).tO=e,u}vr(n,t);var i=n.prototype;return i.hL=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:return i.UB?[2,i.UB]:(r=i.GB(t,t_.OI,D_.YI,n),[4,aT(i.tO,r,n)]);case 1:if((e=a.sent())instanceof y)return[2,e];if(""===e.TI)throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,5,,6]),[4,i.Gf.pI(e)];case 3:return[4,(u=a.sent()).xL(n)];case 4:return s=a.sent(),[3,6];case 5:throw Ta(o=a.sent()),new by(Rl.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",o);case 6:return c=kT(r,void 0),[4,fT(i.tO,new y(s),c,u,n)];case 7:return[2,a.sent()]}}))}))()},i.oL=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o;return Uo(this,(function(c){switch(c.label){case 0:return r=i.GB(t,t_.OI,D_.jI,n),[4,dT(i.tO,r,void 0,n)];case 1:if((e=c.sent())instanceof ArrayBuffer)return[2,new y(e)];if(""===e.TI)throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");c.label=2;case 2:return c.trys.push([2,6,,7]),[4,i.Gf.pI(e)];case 3:return[4,(u=c.sent()).xL(n)];case 4:return s=c.sent(),[4,_T(i.tO,s,r,u,void 0,n)];case 5:return[2,c.sent()];case 6:throw Ta(o=c.sent()),new by(Rl.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o);case 7:return[2]}}))}))()},n}(oT),RT=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,t_.OI)||this).tO=u,s}vr(n,t);var i=n.prototype;return i.hL=function(t,n){var i=this;return Mo((function(){var t,r,e,u,s,o;return Uo(this,(function(c){switch(c.label){case 0:return i.UB?[2,i.UB]:(t=i.GL(n),[4,aT(i.tO,t,n)]);case 1:if(r=c.sent(),ch(r))return[2,r];c.label=2;case 2:return c.trys.push([2,6,,7]),[4,i.Gf.pI(r)];case 3:return[4,(e=c.sent()).xL()];case 4:return u=c.sent(),s=kT(t,void 0),[4,fT(i.tO,new y(u),s,e,n)];case 5:return[2,c.sent()];case 6:throw Ta(o=c.sent()),new by(Rl.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",o);case 7:return[2]}}))}))()},i.oL=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o;return Uo(this,(function(c){switch(c.label){case 0:return r=i.GB(t,t_.OI,D_.QI,n),[4,dT(i.tO,r,i.eO,n)];case 1:if((e=c.sent())instanceof ArrayBuffer)return[2,new y(e)];if(""===e.TI)throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");c.label=2;case 2:return c.trys.push([2,6,,7]),[4,i.Gf.pI(e)];case 3:return[4,(u=c.sent()).xL(n)];case 4:return s=c.sent(),[4,_T(i.tO,s,r,u,i.eO,n)];case 5:return[2,c.sent()];case 6:throw Ta(o=c.sent()),new by(Rl.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o);case 7:return[2]}}))}))()},i.qL=function(n){var i;return this.eO=n,(null==(i=this.tO)?void 0:i.extractFairplayContentId)?$.resolve(this.tO.extractFairplayContentId(n)):t.prototype.qL.call(this,n)},n}(Ob),NT=function(){function t(){}var n=t.prototype;return n.iO=function(t,n,i,r){switch(t.ap.Iw){case Qo.Ym:return this.sO(n,i,r);case Qo.jm:return this.nO(n,i,r);case Qo.Zm:return this.rO(t,n,i,r);case Qo.Jm:default:return this.hO(n,i,r)}},n.sO=function(t,n,i){var r=function(t){return t.integration===kA&&Mr(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(r&&PA.mp.gp(r,ec)){var e=PA.mp.wp(r,ec,t);return new IT(t,n,i,e)}switch(r){case sA:return new eb(t,n,i);case hA:return new ub(t,n,i);case aA:return new ob(t,n,i);case oA:return new hb(t,n,i);case dA:return new lb(t,n,i);case _A:return new _b(t,n,i);case gA:return new yb(t,n,i);case yA:return new mb(t,n,i);default:return new oT(t,n,i,t_.OI)}},n.nO=function(t,n,i){var r=t.integration;if(r&&PA.mp.gp(r,nc)){var e=PA.mp.wp(r,nc,t);return new ET(t,n,i,e)}switch(r){case sA:return new bb(t,n,i);case hA:return new Eb(t,n,i);case aA:return new Ib(t,n,i);case oA:return new Rb(t,n,i);case dA:return new Nb(t,n,i);case gA:return new Db(t,n,i);case yA:return new Pb(t,n,i);default:return new kb(t,n,i)}},n.rO=function(t,n,i,r){var e=n.integration;if(e&&PA.mp.gp(e,ac)){var u=PA.mp.wp(e,ac,n);return new RT(t,n,i,r,u)}switch(e){case cA:return new Bb(t,n,i,r);case hA:return new Lb(t,n,i,r);case fA:return new Ub(t,n,i,r);case sA:return new Fb(t,n,i,r);case aA:return new Hb(t,n,i,r);case oA:return new Vb(t,n,i,r);case vA:return new Xb(t,n,i,r);case dA:return new zb(t,n,i,r);case lA:return new Wb(t,n,i,r);case _A:return new Gb(t,n,i,r);case gA:return new qb(t,n,i,r);case wA:return new Yb(t,n,i,r);case yA:return new jb(t,n,i,r);case mA:return new Qb(t,n,i,r);case pA:return new uT(t,n,i,r);default:return new Ob(t,n,i,r,t_.KT)}},n.hO=function(t,n,i){return new sT(t,n,i)},n.oO=function(t){return t.Iw===Qo.jm||t.Iw===Qo.Ym||t.Iw===Qo.Zm||t.Iw===Qo.Jm},n.kN=function(t,n){var i;if(t.Iw!==Qo.jm)return!1;if(Cr(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!PA.mp.gp(r,ac))&&(r===sA&&new Ab(n).kN)},n.vL=function(t,n){if(t.Iw===Qo.Ym){var i=n.integration;if(!i||!PA.mp.gp(i,ac))return i===sA?eb.vL():void 0}},t}();var CT,DT=function(t){function n(n){var i;return(i=t.call(this,jp.aa)||this).errorObject=n,i}return vr(n,t),n.prototype.pa=function(){return this},hr(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Hw),PT="theoplayer-stored-network-info-v2",OT=25e5,BT=function(){function t(){var t=this;this.cO=n_,this.gO=void 0,this.vO=zr((function(){var n,i=EA({},t.cO,{availableBandwidth:t.gO,storedTimestamp:xe()});null==(n=tr.uO)||n.dO(PT,JSON.stringify(i))}),1e4)}var n=t.prototype;return n.aO=function(t){var n,i=null==(n=tr.uO)?void 0:n.RC(t);if(void 0!==i){var r=JSON.parse(i);if(void 0!==r&&void 0!==r[this.cO]){if(!this.lO(r))return r[this.cO].availableBandwidth;var e;null==(e=tr.uO)||e.dO(t,JSON.stringify({}))}}},n.fO=function(){var t=this.aO(PT);if(void 0!==t)return t;var n=this.aO("theoplayer-stored-network-info");return n?8*n:void 0},n.lO=function(t){var n=t[this.cO].storedTimestamp;return!!n&&xe()-n>36e5},n._O=function(t){this.gO=t,this.vO()},n.wO=function(){var t;return null!=this.gO||(this.gO=null!=(t=this.fO())?t:OT),this.gO},t}();BT.lC=new BT,function(t){t[t.mO=0]="mO",t[t.pO=1]="pO",t[t.yO=2]="yO",t[t.AO=3]="AO",t[t.bO=4]="bO",t[t.zm=5]="zm",t[t.TO=6]="TO",t[t.SO=7]="SO",t[t.Km=8]="Km",t[t.kO=9]="kO",t[t.EO=10]="EO"}(CT||(CT={}));var LT=function(){function t(){}return t.prototype.RO=function(t){},hr(t,[{key:"IO",get:function(){return 0}},{key:"PO",get:function(){return 0}}]),t}(),MT=function(){function t(t,n){void 0===n&&(n=new NT),this.PL=void 0,this.fP=t,this.xO=n}var n=t.prototype;return n.CO=function(t){this.PL=t},n.vL=function(t){var n=this.PL;if(void 0!==n)return this.xO.vL(t,n)},n.kN=function(t){var n=this.PL;return void 0!==n&&this.xO.kN(t,n)},n.DO=function(t){var n={ap:t.ap,BO:t.BO||[],LO:t.LO,QL:t.QL},i=this.xO.iO(n,this.PL||{},t.nL,this.fP);return n.LO&&i.MB(n.LO),new xT(i)},t}(),xT=function(){function t(t){this.OO=t}var n=t.prototype;return n.qB=function(t){return this.OO.qB(t)},n.zB=function(t,n,i){return this.OO.zB(n,i)},n.WB=function(){return this.OO.WB||void 0!==this.OO.UB},n.hL=function(t,n){return this.OO.hL(t,n)},n.oL=function(t,n,i){return n&&this.OO.MB(n),this.OO.oL(t,i)},n.Ou=function(){this.OO.bn()},t}(),UT=function(t){function n(n){var i;(i=t.call(this)||this).FO=[],i.qO=function(t){i.tt(t.Ht)},i.zO=function(t){var n=t.Ht;i.WO(n)||i.it(n)};for(var r=0;r<n.length;r++){var e=n[r];i.MO(e)}return i}vr(n,t);var i=n.prototype;return i.MO=function(t){this.FO.push(t);for(var n=0,i=t.Kv;n<i.length;n++){var r=i[n];this.tt(r)}this.UO(t)},i.HO=function(t){$c(this.FO,t),this.VO(t);for(var n=0,i=t.Kv;n<i.length;n++){var r=i[n];this.WO(r)||this.it(r)}},i.WO=function(t){for(var n=0,i=this.FO;n<i.length;n++){if(i[n].Jv(t))return!0}return!1},i.UO=function(t){t.wn(Xw.bv,this.qO),t.wn(Xw.Sv,this.zO)},i.VO=function(t){t.pn(Xw.bv,this.qO),t.pn(Xw.Sv,this.zO)},i.bn=function(){for(;this.FO.length>0;)this.HO(this.FO[0]);t.prototype.bn.call(this)},i.pa=function(){return _k(this)},n}(Kw);function FT(t){return{get enabled(){return t.Rt},set enabled(n){t.Rt=uy(n)},get currentLatency(){return t.xm},get streamConfiguration(){if(void 0!==t.XO)return function(t){return{get minimumOffset(){return t.Rw},get maximumOffset(){return t.xw},get targetOffset(){return t.Cw},get forceSeekOffset(){return t.Dw},get minimumPlaybackRate(){return t.Nw},get maximumPlaybackRate(){return t.Bw}}}(t.XO)},get configuration(){return function(t){return{get minimumOffset(){return t.Rw},set minimumOffset(n){t.Rw=oy(n)},get maximumOffset(){return t.xw},set maximumOffset(n){t.xw=oy(n)},get targetOffset(){return t.Cw},set targetOffset(n){t.Cw=oy(n)},get forceSeekOffset(){return t.Dw},set forceSeekOffset(n){t.Dw=oy(n)},get minimumPlaybackRate(){return t.Nw},set minimumPlaybackRate(n){t.Nw=oy(n)},get maximumPlaybackRate(){return t.Bw},set maximumPlaybackRate(n){t.Bw=oy(n)},update:function(n){t.Kn(function(t){var n={};void 0!==t.minimumOffset&&(n.Rw=oy(t.minimumOffset));void 0!==t.maximumOffset&&(n.xw=oy(t.maximumOffset));void 0!==t.targetOffset&&(n.Cw=oy(t.targetOffset));void 0!==t.forceSeekOffset&&(n.Dw=oy(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.Nw=oy(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.Bw=oy(t.maximumPlaybackRate));return n}(n))}}}(t.xb)}}}var HT,VT=function(){function t(){this.GO={Dw:0,xw:0,Bw:0,Rw:0,Nw:0,Cw:0,Kn:Vr}}return hr(t,[{key:"ma",get:function(){return null!=this.Gu||(this.Gu=FT(this)),this.Gu}},{key:"Rt",get:function(){return!1},set:function(t){}},{key:"xm",get:function(){}},{key:"XO",get:function(){}},{key:"xb",get:function(){return this.GO}}]),t}();function XT(){return HT||(HT=qs&&qs.document&&qs.document.createElement("video")),HT}var zT=!(!qs||!qs.TextTrack),WT=function(t){function n(n,i,r,e,u,s,o){var c;return void 0===s&&(s=new NT),void 0===o&&(o=Yl()),(c=t.call(this)||this).tM=void 0,c.ZO=void 0,c.Vl=void 0,c.nM=new LT,c.iM=new VT,c.nl=function(t){var n=t.lt,i=n.code,r=new Dl(Ry(i),"Something went wrong during native playback.",n),e=new Ty(i,r.message,n.message);c.OM(r,e)},c.SM=function(){c.To(new Fw(c.Wu,c.qu))},c.Cf=function(t){c.Dc||(c.YO=void 0),c.To(t)},c.Vf=function(t){c.YO=void 0},c.IM=function(){c.To(new jy(c.Eg))},c.kM=function(){c.Kg>0&&c.Xg>0&&c.To(new Yk)},c.CM=function(t){c.$T.tt(new Xy(t.track))},c.xM=function(t){var n=YT(c.$T,t.track);n&&c.$T.it(n)},c.DM=function(){c.hh(c.$T)},c.NM=function(t){c.eS.tt(new Yy(t.track))},c.BM=function(t){var n=YT(c.eS,t.track);n&&c.eS.it(n)},c.LM=function(){c.hh(c.eS)},c.EM=function(t){c.To(t),c.OM(t.errorObject,Ey(t.errorObject))},c.bM=i,c.fP=r,c.AN=o,c.KO=c.bM.MM(py.vl),c.$O=c.KO.JO.preload,c.wM=new eA(c.KO,!0),c.wM.wn(Qk,c.Os),c.cM=new MT(r,s),c.KO.yM=c.cM,c.TM(),c.$T=new ky,c.eS=new ky,c.RM(),c.gM=new Fk(c.KO,c.fP),c.xu=new UT([c.KO.nt]),c.be(),c}vr(n,t);var i=n.prototype;return i.ke=function(){this.KO.ke()},i.be=function(){this.KO.be()},i.ba=function(t,n,i){var r=this;return Mo((function(){var e;return Uo(this,(function(u){switch(u.label){case 0:return ba(i),e={Iw:Gk.vB,Pw:t.src,rM:t.type,hM:r.oM(t),Mg:r.$O,aM:t.crossOrigin,uM:n.metadata&&n.metadata.title},r.cM.CO(t.contentProtection),[4,r.KO.On(e)];case 1:return r.tM=u.sent(),ba(i),n.textTracks&&r.lM(n.textTracks),Wk(r.nt),[2]}}))}))()},i.lM=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.KO.dM()&&Ir.KP&&zT&&!Dk(i.kind,i.label)&&this.fM(i)){var r,e=null!=(r=i.kind)?r:gk.Ay;this.KO._M(i.src,e,i.label,i.srclang,i.default)}else{if(void 0===i.src)continue;this.gM.uP(i)}}},i.fM=function(t){return!t.format||"webvtt"===t.format},i.dl=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.KO.dl()];case 1:case 4:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return t.QO?[3,5]:[4,t.KO.eg($l.Rf)];case 5:return[2]}}))}))()},i.jl=function(){this.KO.jl()},i.fv=function(){return void 0!==this.KO.JO.webkitShowPlaybackTargetPicker},i._v=function(){this.KO.JO.webkitShowPlaybackTargetPicker&&this.KO.JO.webkitShowPlaybackTargetPicker()},i.vv=function(){this.KO.JO.webkitShowPlaybackTargetPicker&&this.KO.JO.webkitShowPlaybackTargetPicker()},i.rv=function(){return this.KO.JO},i.ev=function(){return this.KO.wa},i.ir=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.ZO=void 0,t.Vl=void 0,t.tM=void 0,[4,t.gM.ir()];case 1:return n.sent(),t.KO.vM(),[4,t.KO.ir()];case 2:return n.sent(),t.wM.ir(),t.Mg=t.$O,t.ht.ir(),t.rt.ir(),t.YO=void 0,[2]}}))}))()},i.bn=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return[4,t.ir()];case 1:return n.sent(),t.Lo(),t.mM(),t.pM(),t.wM.bn(),t.KO.yM=void 0,[4,t.bM.AM(t.KO)];case 2:return n.sent(),t.$T.bn(),t.eS.bn(),t.xu.bn(),[4,t.gM.bn()];case 3:return n.sent(),[2]}}))}))()},i.TM=function(){this.KO.wn($l.Ph,this.Os),this.KO.wn($l.Ch,this.Os),this.KO.wn($l.Lu,this.SM),this.KO.wn($l.Rf,this.Os),this.KO.wn($l.Ef,this.Os),this.KO.wn($l.If,this.Os),this.KO.wn($l.Tf,this.Cf),this.KO.wn($l.Pf,this.Os),this.KO.wn($l.Vu,this.Os),this.KO.wn($l.Il,this.Os),this.KO.wn($l.Nf,this.Os),this.KO.wn($l.vm,this.kM),this.KO.wn(qk.Qf,this.Vf),this.KO.wn(jp.aa,this.nl),this.KO.wn($l.Gw,this.Os),this.KO.wn($l.Xw,this.EM),this.KO.JO.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.IM)},i.mM=function(){this.KO.pn($l.Ph,this.Os),this.KO.pn($l.Ch,this.Os),this.KO.pn($l.Lu,this.SM),this.KO.pn($l.Rf,this.Os),this.KO.pn($l.Ef,this.Os),this.KO.pn($l.If,this.Os),this.KO.pn($l.Tf,this.Cf),this.KO.pn($l.Pf,this.Os),this.KO.pn($l.Vu,this.Os),this.KO.pn($l.Il,this.Os),this.KO.pn($l.Nf,this.Os),this.KO.pn($l.vm,this.kM),this.KO.pn(qk.Qf,this.Vf),this.KO.pn(jp.aa,this.nl),this.KO.pn($l.Gw,this.Os),this.KO.pn($l.Xw,this.EM),this.KO.JO.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.IM)},i.oM=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ap:_c,PM:[{initDataTypes:[_c.fC],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.RM=function(){var t=this.KO.JO.audioTracks,n=this.KO.JO.videoTracks;t&&(t.addEventListener("addtrack",this.CM),t.addEventListener("removetrack",this.xM),t.addEventListener("change",this.DM)),n&&(n.addEventListener("addtrack",this.NM),n.addEventListener("removetrack",this.BM),n.addEventListener("change",this.LM))},i.pM=function(){var t=this.KO.JO.audioTracks,n=this.KO.JO.videoTracks;t&&(t.removeEventListener("addtrack",this.CM),t.removeEventListener("removetrack",this.xM),t.removeEventListener("change",this.DM)),n&&(n.removeEventListener("addtrack",this.NM),n.removeEventListener("removetrack",this.BM),n.removeEventListener("change",this.LM))},i.hh=function(t){for(var n=0;n<t.U;n++){t.Zv(n).AS()}},i.wv=function(){this.KO.wv()},i.mv=function(){},i.OM=function(t,n){this.ZO||(this.ZO=n,this.Vl=t,this.To(new DT(t)))},hr(n,[{key:"QO",get:function(){var t=this.KO.bl,n=this.Wu;return t.br(n,.01)}},{key:"ht",get:function(){return this.$T}},{key:"bl",get:function(){return this.KO.bl.ws()}},{key:"qu",get:function(){return this.KO.qu},set:function(t){t&&this.KO.jO(t)}},{key:"Wu",get:function(){return void 0!==this.YO?this.YO:this.KO.Wu},set:function(t){this.Eg&&(this.YO=t),this.KO.gc(t)}},{key:"ct",get:function(){return this.KO.ct}},{key:"Ic",get:function(){return this.KO.Ic}},{key:"lt",get:function(){return this.ZO}},{key:"Ec",get:function(){return this.Vl}},{key:"Tg",get:function(){}},{key:"Eg",get:function(){return this.KO.Eg}},{key:"Pg",get:function(){return xo({},{sS:0,nS:0,rS:0,hS:0,oS:0,aS:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.KO.Rg())}},{key:"Xu",get:function(){return this.KO.Xu},set:function(t){this.KO.Xu=t}},{key:"Dg",get:function(){return!0}},{key:"Dc",get:function(){return this.KO.Dc}},{key:"$u",get:function(){return this.KO.$u},set:function(t){this.KO.$u=t}},{key:"wl",get:function(){return this.KO.JO.played}},{key:"Mg",get:function(){return this.$O},set:function(t){this.$O=t,this.tM&&(this.tM.Mg=t)}},{key:"Nc",get:function(){return this.KO.Nc}},{key:"kl",get:function(){return this.KO.kl.ws()}},{key:"Fc",get:function(){return this.KO.Fc}},{key:"eM",get:function(){return this.KO.eM}},{key:"nt",get:function(){return this.xu}},{key:"rt",get:function(){return this.eS}},{key:"Xg",get:function(){return this.KO.Xg}},{key:"Kg",get:function(){return this.KO.Kg}},{key:"_l",get:function(){return this.KO._l},set:function(t){this.KO._l=t}},{key:"Jg",get:function(){return this.iM}},{key:"tv",get:function(){return this.KO.tv},set:function(t){this.KO.tv=t}},{key:"sM",get:function(){return this.nM}}]),n}(Ha);function GT(t){return!t.type||!(!XT().canPlayType||!XT().canPlayType(t.type))}var qT=function(){function t(){this.HM=CT.EO}var n=t.prototype;return n.lp=function(t,n,i,r,e,u){return new WT(t,n,i,r,e)},n.FM=function(t,n){return GT(t)},n.UM=function(){return!1},t}();function YT(t,n){for(var i=0,r=t.Kv;i<r.length;i++){var e=r[i];if(e.pS===n)return e}}var jT,QT=function(){function t(t,n){var i=this;this.P7=!1,this.R7=function(t){i.C7.wV(t.error,i.Wu)},this.x7=function(){i.C7.fV(i.I7),i.Ko.removeEventListener("playing",i.x7),i.P7=!1},this.As=function(){i.P7||(i.Ko.addEventListener("playing",i.x7),i.P7=!0)},this.C7=n,this.Ko=t,this.Ko.addEventListener("error",this.R7),this.Ko.addEventListener("sourcechange",this.As),this.As()}return t.prototype.ir=function(){},hr(t,[{key:"Wu",get:function(){var t=this.Ko.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"I7",get:function(){return this.Ko.src||""}}]),t}(),KT=function(t){function n(n,i){var r;return(r=t.call(this)||this).Av=function(t){r.yv(t)||r.To(t)},r.Ko=n,r.F5=!i,r.F5&&n.Q_(r.Av),r}vr(n,t);var i=n.prototype;return i.O5=function(){return this.Ko.L5},i.M5=function(){return this.Ko.w5},i.ev=function(){return this.Ko.wa},i.rg=function(){return this.Ko.ht},i.ag=function(){return this.Ko.ag()},i.cg=function(){return this.Ko.qu},i.dg=function(t){this.Ko.qu=t},i.fg=function(){return this.Ko.bt},i._g=function(){return this.Ko._g()},i.gg=function(t){this.Ko.gg(t)},i.k5=function(){return this.Ko.k5()},i.vg=function(){return this.Ko.vg()},i.pg=function(){return this.Ko.Ic},i.yg=function(){return this.Ko.yg()},i.Ag=function(){return this.Ko.Ag()},i.Sg=function(){return this.Ko.Tg},i.Rg=function(){return this.Ko.Pg},i.Cg=function(){return this.Ko.Xu},i.xg=function(t){this.Ko.xg(t)},i.Bg=function(){return this.Ko.Dc},i.Lg=function(){return this.Ko.$u},i.Iu=function(t){this.Ko.$u=t},i.Og=function(){return this.Ko.Og()},i.Fg=function(){return this.Ko.Mg},i.Ug=function(t){this.Ko.Mg=t},i.Hg=function(){return this.Ko.Nc},i.Vg=function(){return this.Ko.Vg()},i.Wg=function(){return this.Ko.Fc},i.zg=function(){return this.Ko.nt},i.Gg=function(){return this.Ko.Xg},i.Qg=function(){return this.Ko.rt},i.jg=function(){return this.Ko.Kg},i.Yg=function(){return this.Ko._l},i.Zg=function(t){this.Ko.Zg(t)},i.uv=function(){this.Ko.uv()},i.jl=function(){this.Ko.jl()},i.dl=function(){this.Ko.dl()},i.be=function(){this.Ko.be()},i.ke=function(){this.Ko.ke()},i.cs=function(){return this.Ko.cs()},i.rv=function(){return this.Ko.rv()},i.wv=function(){this.Ko.wv()},i.mv=function(){this.Ko.mv()},i._a=function(){this.Ko._a()},i.qg=function(){return this.Ko.qg()},i.ba=function(t,n){return this.Ko.ba(t,n)},i.xl=function(){return this.Ko.xl()},i.yv=function(t){return!1},i.bn=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.Lo(),[4,t.Ko.bn()];case 1:return n.sent(),[2]}}))}))()},hr(n,[{key:"g5",get:function(){return this.Ko.g5}},{key:"L5",get:function(){return this.O5()}},{key:"C5",get:function(){return this.Ko.C5}},{key:"x5",get:function(){return this.Ko.x5}},{key:"w5",get:function(){return this.M5()}},{key:"ol",get:function(){return this.Ko.ol},set:function(t){this.Ko.ol=t}},{key:"P5",get:function(){return this.Ko.P5}},{key:"m5",get:function(){return this.Ko.m5}},{key:"S5",get:function(){return this.Ko.S5}},{key:"xb",get:function(){return this.Ko.xb}},{key:"k0",get:function(){return this.Ko.k0}},{key:"wa",get:function(){return this.ev()}},{key:"Gf",get:function(){return this.Ko.Gf}},{key:"Jg",get:function(){return this.Ko.Jg}},{key:"Cz",get:function(){return this.Ko.Cz}},{key:"b5",get:function(){return this.Ko.b5}},{key:"I5",get:function(){return this.Ko.I5}},{key:"y5",get:function(){return this.Ko.y5}},{key:"v5",get:function(){return this.Ko.v5}},{key:"Cu",get:function(){return this.Ko.Cu}},{key:"cw",get:function(){return this.Ko.cw}},{key:"Fo",get:function(){return this.Ko.Fo}},{key:"ht",get:function(){return this.rg()}},{key:"qu",get:function(){return this.cg()},set:function(t){this.dg(t)}},{key:"bt",get:function(){return this.fg()}},{key:"je",get:function(){return this.Ko.je}},{key:"Ic",get:function(){return this.pg()}},{key:"Tg",get:function(){return this.Sg()}},{key:"tv",get:function(){return this.Ko.tv},set:function(t){this.Ko.tv=t}},{key:"Pg",get:function(){return this.Rg()}},{key:"Xu",get:function(){return this.Cg()},set:function(t){this.xg(t)}},{key:"Dc",get:function(){return this.Bg()}},{key:"$u",get:function(){return this.Lg()},set:function(t){this.Iu(t)}},{key:"Mg",get:function(){return this.Fg()},set:function(t){this.Ug(t)}},{key:"Nc",get:function(){return this.Hg()}},{key:"ka",get:function(){return this.Ko.ka},set:function(t){this.Ko.ka=t}},{key:"Fc",get:function(){return this.Wg()}},{key:"nt",get:function(){return this.zg()}},{key:"Xg",get:function(){return this.Gg()}},{key:"rt",get:function(){return this.Qg()}},{key:"Kg",get:function(){return this.jg()}},{key:"_l",get:function(){return this.Yg()},set:function(t){this.Zg(t)}}]),n}(Ha);!function(t){t[t.U5=0]="U5",t[t.H5=1]="H5",t[t.V5=2]="V5",t[t.W5=3]="W5"}(jT||(jT={}));var ZT=[0,1,2,3],JT={};function $T(t,n){(JT[n]||(JT[n]=[])).push(t)}var tS={};function nS(t,n){(tS[n]||(tS[n]=[])).push(t)}var iS=[];!function(t){iS.push(t)}((function(t){new QT(t.ma,t.x5)}));var rS=function(){function t(){}return t.aH=function(){return t.lC||(t.lC=eS.EN()?new eS:new jl),t.lC},t.NC=function(n){t.aH().NC(n)},t.oH=function(){t.aH().oH()},t.RC=function(n){return t.aH().RC(n)},t.dO=function(n,i){t.aH().dO(n,i)},t.Jz=function(n){var i=t.RC(n);if(void 0!==i)return g(i)},t.$z=function(n){return"true"===t.RC(n)},t}();rS.lC=void 0;var eS=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.NC=function(t){self.localStorage.removeItem(t)},i.oH=function(){self.localStorage.clear()},i.RC=function(t){var n;return null!=(n=self.localStorage.getItem(t))?n:void 0},i.dO=function(t,n){self.localStorage.setItem(t,n)},n.EN=function(){var t="foobar";try{return self.localStorage.setItem(t,t),self.localStorage.removeItem(t),!0}catch(t){}return!1},n}(rS),uS="theoplayer-stored-volume",sS="theoplayer-stored-mutedstate";$T((function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=rS.Jz(uS);(void 0===e||w(e))&&(e=1);var u=rS.$z(sS)||!1;r._l=e,r.Xu=u}return r}vr(n,t);var i=n.prototype;return i.xg=function(n){this.xb.persistVolume&&rS.dO(sS,""+Boolean(n)),t.prototype.xg.call(this,n)},i.Zg=function(n){this.xb.persistVolume&&rS.dO(uS,""+Number(n)),t.prototype.Zg.call(this,n)},n}(t)}),jT.U5);var oS=function(t){function n(n){var i;return(i=t.call(this)||this).Av=function(t){i.yv(t)||i.To(t)},i.hg=n,n.Q_(i.Av),i}vr(n,t);var i=n.prototype;return i.rg=function(){return this.hg.ht},i.og=function(){return this.hg.og()},i.ag=function(){return this.hg.bl},i.cg=function(){return this.hg.qu},i.dg=function(t){this.hg.qu=t},i.fg=function(){return this.hg.bt},i._g=function(){return this.hg.Wu},i.gg=function(t){this.hg.Wu=t},i.vg=function(){return this.hg.ct},i.wg=function(){return this.hg.je},i.pg=function(){return this.hg.Ic},i.yg=function(){return this.hg.lt},i.Ag=function(){return this.hg.Ec},i.Sg=function(){return this.hg.Tg},i.Ig=function(){return this.hg.Eg},i.Rg=function(){return this.hg.Pg},i.Cg=function(){return this.hg.Xu},i.xg=function(t){this.hg.Xu=t},i.Ng=function(){return this.hg.Dg},i.Bg=function(){return this.hg.Dc},i.Lg=function(){return this.hg.$u},i.Iu=function(t){this.hg.$u=t},i.Og=function(){return this.hg.wl},i.Fg=function(){return this.hg.Mg},i.Ug=function(t){this.hg.Mg=t},i.Hg=function(){return this.hg.Nc},i.Vg=function(){return this.hg.kl},i.Wg=function(){return this.hg.Fc},i.qg=function(){return this.hg.qg()},i.ba=function(t,n){return this.hg.ba(t,n)},i.zg=function(){return this.hg.nt},i.Gg=function(){return this.hg.Xg},i.Qg=function(){return this.hg.rt},i.jg=function(){return this.hg.Kg},i.$g=function(){return this.hg.Jg},i.Yg=function(){return this.hg._l},i.Zg=function(t){this.hg._l=t},i.ev=function(){return this.hg.ev()},i.rv=function(){return this.hg.rv()},i.hv=function(t){this.hg.hv(t)},i.ov=function(){this.hg.ov()},i.ke=function(){this.hg.ke()},i.uv=function(){this.hg.uv()},i.jl=function(){this.hg.jl()},i.dl=function(){this.hg.dl()},i.be=function(){this.hg.be()},i.xl=function(){return this.hg.xl()},i.fv=function(){return this.hg.fv()},i._v=function(){this.hg._v()},i.vv=function(){this.hg.vv()},i.ir=function(){return this.hg.ir()},i.wv=function(){this.hg.wv()},i.mv=function(){this.hg.mv()},i.pv=function(t){return this.hg.pv(t)},i.yv=function(t){return!1},i.bn=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.Lo(),[4,t.hg.bn()];case 1:return n.sent(),[2]}}))}))()},hr(n,[{key:"ht",get:function(){return this.rg()}},{key:"bl",get:function(){return this.ag()}},{key:"qu",get:function(){return this.cg()},set:function(t){this.dg(t)}},{key:"bt",get:function(){return this.fg()}},{key:"Wu",get:function(){return this._g()},set:function(t){this.gg(t)}},{key:"ct",get:function(){return this.vg()}},{key:"je",get:function(){return this.wg()}},{key:"Ic",get:function(){return this.pg()}},{key:"lt",get:function(){return this.yg()}},{key:"Ec",get:function(){return this.Ag()}},{key:"Tg",get:function(){return this.Sg()}},{key:"Eg",get:function(){return this.Ig()}},{key:"Pg",get:function(){return this.Rg()}},{key:"Xu",get:function(){return this.Cg()},set:function(t){this.xg(t)}},{key:"Dg",get:function(){return this.Ng()}},{key:"Dc",get:function(){return this.Bg()}},{key:"$u",get:function(){return this.Lg()},set:function(t){this.Iu(t)}},{key:"wl",get:function(){return this.Og()}},{key:"Mg",get:function(){return this.Fg()},set:function(t){this.Ug(t)}},{key:"Nc",get:function(){return this.Hg()}},{key:"kl",get:function(){return this.Vg()}},{key:"Fc",get:function(){return this.Wg()}},{key:"nt",get:function(){return this.zg()}},{key:"Xg",get:function(){return this.Gg()}},{key:"rt",get:function(){return this.Qg()}},{key:"Kg",get:function(){return this.jg()}},{key:"_l",get:function(){return this.Yg()},set:function(t){this.Zg(t)}},{key:"Jg",get:function(){return this.$g()}},{key:"tv",get:function(){return this.hg.tv},set:function(t){this.hg.tv=t}}]),n}(Ha),cS=function(t){function n(){var n;return(n=t.call(this)||this).ew=void 0,n.ow=function(t){var i=t.Ht;n.tt(i)},n.aw=function(t){var i=t.Ht;n.it(i)},n}vr(n,t);var i=n.prototype;return i.hw=function(t){t.wn(Xw.bv,this.ow),t.wn(Xw.Sv,this.aw)},i.iw=function(t){t.pn(Xw.bv,this.ow),t.pn(Xw.Sv,this.aw)},i.bn=function(){this.ew&&this.ew.bn(),t.prototype.bn.call(this)},hr(n,[{key:"$v",get:function(){return this.ew},set:function(t){var n=this.ew;if(t!==n){if(n){this.iw(n);for(var i=0,r=n.Kv;i<r.length;i++){var e=r[i];t&&t.Jv(e)||this.it(e)}}if(this.ew=t,t){for(var u=[],s=0,o=t.Kv;s<o.length;s++){var c=o[s];this.tt(c),this.nw(c)&&u.push(c)}this.hw(t);for(var a=0;a<u.length;a++){var h=u[a];h.To(new Cy(h))}}}}}]),n}(Kw),aS=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.pa=function(){return my(this)},i.nw=function(t){return t.Rt},n}(cS),hS=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.pa=function(){return _k(this)},i.nw=function(t){return t.bw===Yp.Qn},n}(cS),fS=.25,vS=400,dS={Rw:.2,Cw:.45,xw:.7,Dw:3,Nw:kS,Bw:AS},lS={Rw:.4,Cw:.65,xw:1,Dw:3,Nw:kS,Bw:AS},_S={Rw:.4,Cw:.7,xw:.9,Dw:3,Nw:kS,Bw:AS},gS={Rw:.2,Cw:.45,xw:1,Dw:3,Nw:kS,Bw:AS},wS={Rw:.5,Cw:1.125,xw:1.75,Dw:2.55,Nw:kS,Bw:AS};function yS(){var t;return t=tr.Zs.Lw?gS:tr.Zs.Ow?lS:tr.Zs.Mw?"Android"===tr.Uw.Fw?_S:dS:wS,tr.Uw.Hw?function(t){if(tr.Uw.Hw){var n=(vS+250)/1e3,i=l.max(n,t.Rw),r=l.max(i+fS,t.Cw),e=l.max(r+fS,t.xw);return{Rw:i,Cw:r,xw:e,Dw:l.max(e+fS,t.Dw),Nw:kS,Bw:AS}}return t}(t):t}function mS(t){return{windowStart:t.Rw,windowEnd:t.xw,target:t.Cw,maxOffset:t.Dw}}var pS,kS=.92,AS=1.08;!function(t){t[t.Th=0]="Th",t[t.Pm=1]="Pm",t[t.Rm=2]="Rm"}(pS||(pS={}));var bS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Om=mS(yS()),n}return vr(n,t),n.prototype.Lm=function(){},hr(n,[{key:"Cm",get:function(){}},{key:"xm",get:function(){}},{key:"Dm",get:function(){}},{key:"Nm",get:function(){return!1}},{key:"Bm",get:function(){}},{key:"ma",get:function(){var t;return null!=(t=this.Gu)?t:this.Gu=TS(this)}}]),n}(Ua);function TS(t){return{goLive:function(){return t.Lm()},get isLive(){return t.Nm},get currentServerLiveTime(){return t.Cm},get currentLatency(){return t.xm},get latencies(){return t.Dm},get latency(){return t.Om},set latency(n){if(!function(t){if(!Br(t))return!1;var n=t,i=Cr(n.target)&&"number"==typeof n.target&&Cr(n.windowEnd)&&"number"==typeof n.windowEnd&&Cr(n.windowStart)&&"number"==typeof n.windowStart&&Cr(n.maxOffset)&&"number"==typeof n.maxOffset,r=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&r}(n))throw new f("Invalid latency configuration");t.Om=n},get manifest(){return t.Bm},addEventListener:function(n,i){t.wn(ES(n),i)},removeEventListener:function(n,i){t.pn(ES(n),i)}}}var SS=["golive","latencyrecoveryseek"];function ES(t){var n=fy(t,ay);return(Mr(n)?[n]:n).filter((function(t){return ia(SS,t)}))}var IS,RS,NS,CS,DS,PS,OS,BS,LS=function(t){function n(){var n;return(n=t.call(this)||this).ew=void 0,n.Gu=void 0,n.Mm=mS(yS()),n.ew=void 0,n}vr(n,t);var i=n.prototype;return i.hw=function(t){t.wn(SS,this.Os)},i.iw=function(t){t.pn(SS,this.Os)},i.Lm=function(){var t;null==(t=this.ew)||t.Lm()},i.bn=function(){this.Lo(),this.ew&&this.iw(this.ew),this.ew=void 0},hr(n,[{key:"$v",get:function(){return this.ew},set:function(t){var n=this.ew;t!==n&&(n&&this.iw(n),t&&this.hw(t),this.ew=t,this.ew&&(this.ew.Om=this.Mm))}},{key:"ma",get:function(){return this.Gu||(this.Gu=TS(this)),this.Gu}},{key:"Cm",get:function(){var t;return null==(t=this.ew)?void 0:t.Cm}},{key:"xm",get:function(){var t;return null==(t=this.ew)?void 0:t.xm}},{key:"Dm",get:function(){var t;return null==(t=this.ew)?void 0:t.Dm}},{key:"Nm",get:function(){return!!this.ew&&this.ew.Nm}},{key:"Om",get:function(){return this.ew?this.ew.Om:this.Mm},set:function(t){this.ew&&(this.ew.Om=t),this.Mm=t}},{key:"Bm",get:function(){var t;return null==(t=this.ew)?void 0:t.Bm}}]),n}(Ua),MS="1ADD53F3";function xS(t){return{appID:t&&t.appID?ay(t.appID):MS}}function US(t){if(null!==t)return t}function FS(t){var n={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:US(t.streamActivityMonitorID),adTagParameters:Br(t.adTagParameters)?t.adTagParameters:{},authToken:US(t.authToken),omidAccessModeRules:US(t.omidAccessModeRules)};if("vod"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.videoID&&n.contentSourceID)}(t)){var i=t.videoID,r=t.contentSourceID;return i?r?xo({},n,{availabilityType:"vod",videoID:i,contentSourceID:r}):void tr.Um("A VOD DAI configuration was provided without valid contentSourceID which is required."):void tr.Um("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.assetKey)}(t)){var e=t.assetKey;return e?xo({},n,{availabilityType:"live",assetKey:e}):void tr.Um("A Live DAI configuration was provided without valid assetKey which is required.")}tr.Um("A DAI configuration was provided without a valid availabilityType which is required.")}function HS(t){switch(t.integration){case"google-dai":return FS(t);case"imagine":return function(t){return{integration:t.integration}}(t);case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}function VS(t,n,i){var r=function(t,n,i){var r,e=function(t,n){var i=RS.Hm;return t.useCredentials?i=RS.Wm:t.crossOrigin&&(i=tE(t.crossOrigin)),i===RS.Hm&&n&&n.vr&&n.vr[360]&&(i=RS.Vm),{useCredentials:i===RS.Wm,crossOrigin:i}}(t,n),u=e.useCredentials,s=e.crossOrigin,o=t.liveOffset;Cr(o)||(o=i&&Cr(i.liveOffset)?i.liveOffset:void 0);var c=t.timeServer;Cr(c)||(c=n&&Cr(n.timeServer)?n.timeServer:void 0);var a=t.hlsDateRange;Cr(a)||(a=i&&Cr(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0);var h,f=Boolean(t.experimentalRendering),v=Boolean(t.nativeUiRendering),d=Boolean(t.lowLatency),l=Boolean(t.useNativePlayback),_=Boolean(t.useManagedMediaSource),g=Cr(t.dash)?zS(t.dash):void 0,w=Cr(t.hls)?WS(t.hls):void 0,y=YS(qS(t.abr),null==i?void 0:i.abr),m=sy(t.lcevc),p=Cr(t.ignoreEmbeddedTextTrackTypes)?gE(t.ignoreEmbeddedTextTrackTypes):[],k=ZS(null!=(h=t.seamlessSwitchStrategy)?h:null==(r=t.dash)?void 0:r.useSeamlessPeriodSwitch);return{crossOrigin:s,useCredentials:u,liveOffset:o,timeServer:c,hlsDateRange:a,experimentalRendering:f,nativeUiRendering:v,lowLatency:d,useNativePlayback:l,useManagedMediaSource:_,dash:g,hls:w,abr:y,lcevc:m,ignoreEmbeddedTextTrackTypes:p,seamlessSwitchStrategy:k}}(t,n,i),e=US(t.src),u=t.type;u||(u=t.src?$S(t.src):void 0);var s=function(t,n){var i;i=Cr(t.contentProtection)?t.contentProtection:Cr(t.drm)?t.drm:Cr(n)&&Cr(n.contentProtection)?n.contentProtection:Cr(n)&&Cr(n.drm)?n.drm:void 0;return XS(i)}(t,n);return xo({},r,{src:e,type:u,contentProtection:s,ssai:Cr(t.ssai)?HS(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function XS(t){return XA(t)&&t.integration&&t.integration===vA?function(t){var n=QA(Qo.Ym,t),i=QA(Qo.jm,t),r=t[Qo.Zm]&&QA(Qo.Zm,t);return xo({integration:"keyos",widevine:n,playready:i},r?{fairplay:r}:{})}(t):t}function zS(t){return{useSeamlessPeriodSwitch:ZS(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:sy(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?oy(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:sy(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:sy(null==t?void 0:t.ignoreAvailabilityWindow),forceHardSwitchWhenSeekingBackwards:sy(null==t?void 0:t.forceHardSwitchWhenSeekingBackwards)}}function WS(t){return{discontinuityAlignment:GS(null==t?void 0:t.discontinuityAlignment)}}function GS(t){if(!t||!Mr(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function qS(t){if(Cr(t))return jS(hy(null==t?void 0:t.preferredAudioCodecs,ay),hy(null==t?void 0:t.preferredVideoCodecs,ay),sy(null==t?void 0:t.restrictToPlayerSize))}function YS(t,n){var i;if(Cr(t)||Cr(n))return jS(QS(null==t?void 0:t.preferredAudioCodecs,null==n?void 0:n.preferredAudioCodecs),QS(null==t?void 0:t.preferredVideoCodecs,null==n?void 0:n.preferredVideoCodecs),null!=(i=null==t?void 0:t.restrictToPlayerSize)?i:null==n?void 0:n.restrictToPlayerSize)}function jS(t,n,i){if(0!==t.length||0!==n.length||void 0!==i)return{preferredAudioCodecs:0===t.length?void 0:t,preferredVideoCodecs:0===n.length?void 0:n,restrictToPlayerSize:i}}function QS(t,n){return void 0!==t&&(null==t?void 0:t.length)>0?t:null!=n?n:[]}function KS(t,n){if(void 0!==n)switch(t){case py.vl:return n.preferredVideoCodecs;case py.yy:return n.preferredAudioCodecs;default:return}}function ZS(t){if(!t||!Mr(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}function JS(t){return!!t&&kc(t,"mpd")}function $S(t){var n=NS.Gm;return JS(t)&&(n=NS.qm),function(t){return!!t&&kc(t,"m3u8")}(t)&&(n=NS.zm),n}function tE(t){switch(t){case RS.Vm:case RS.Wm:return t;default:return RS.Hm}}function nE(t){if(!t)return!1;var n=t.toLowerCase();return Ac(n,NS.qm)}function iE(t){if(!t)return!1;var n=t.toLowerCase();return Ac(n,NS.zm)||Ac(n,NS.Xm)}function rE(t){return Br(t)&&Br(t.ssai)&&"google-dai"===t.ssai.integration}function eE(t){return Br(t)&&Mr(t.integration)&&"verizon-media"===t.integration}function uE(t){return Br(t)&&Mr(t.integration)&&"mediatailor"===t.integration}function sE(t){if(Mr(t))return!t;if(eE(t))return!t.id;if(rE(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function oE(t){return Boolean(Br(t)&&Mr(t.src))}function cE(t){return t.type===NS.Qm||t.type===NS.Km}function aE(t){return Mr(t)||oE(t)||rE(t)||eE(t)}function hE(t){if(t){if(aE(t))return sE(t);for(var n=0;n<t.length;n++){if(!sE(t[n]))return!1}return!0}return!0}function fE(){return{crossOrigin:RS.Hm,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,useManagedMediaSource:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0,ignoreEmbeddedTextTrackTypes:[],seamlessSwitchStrategy:DS.XT}}function vE(){return xo({},fE(),{src:void 0,type:NS.Gm,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function dE(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:OS.ENABLED,googleIma:{useNativeIma:!1,bitrate:-1}};return void 0===t||(void 0!==t.preload&&(n.preload=function(t){return"none"===t?BS.NONE:BS.MIDROLL_AND_POSTROLL}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=uy(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return OS.INSECURE;case"disabled":return OS.DISABLED;default:return OS.ENABLED}}(t.vpaidMode)),Pr(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(Mr)),void 0!==t.googleIma&&(n.googleIma=function(t){return void 0===t?{useNativeIma:!1,bitrate:-1}:{useNativeIma:uy(t.useNativeIma),bitrate:null!=(n=t.bitrate)?n:-1};var n}(t.googleIma))),n}function lE(t){if(!Or(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];Lr(r)&&n.push(r)}return n}function _E(t){return Mr(t.src)}function gE(t){return Pr(t)?t.filter(Qy):[]}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(IS||(IS={})),function(t){t.Hm="",t.Vm="anonymous",t.Wm="use-credentials"}(RS||(RS={})),function(t){t.qm="application/dash+xml",t.zm="application/vnd.apple.mpegurl",t.Xm="application/x-mpegurl",t.Gm="video/mp4",t.Qm="application/vnd.theoplayer.hesp+json",t.Km="application/vnd.theo.hesp+json"}(NS||(NS={})),function(t){t.XT="auto",t.GT="playlist",t.QT="media"}(CS||(CS={})),function(t){t.XT="auto",t.ZT="always",t.JT="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only"}(DS||(DS={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(PS||(PS={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(OS||(OS={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(BS||(BS={}));var wE=function(t){function n(n,i){var r;return void 0===i&&(i=jk.zl),(r=t.call(this,$l.jw)||this).currentTime=n,r.readyState=i,r}return vr(n,t),n}(Va),yE=function(t){function n(n){var i;return(i=t.call(this,$l.Ch)||this).currentTime=n,i}return vr(n,t),n}(Va),mE=function(t){function n(n){var i;return(i=t.call(this,$l.Ph)||this).currentTime=n,i}return vr(n,t),n}(Va),pE=function(t){function n(n){var i;return(i=t.call(this,$l.Nf)||this).duration=n,i}return vr(n,t),n}(Va),kE=function(t){function n(n,i){var r;return(r=t.call(this,$l.Vu)||this).currentTime=n,r.playbackRate=i,r}return vr(n,t),n}(Va),AE=function(t){function n(n){var i;return(i=t.call(this,$l.Pf)||this).currentTime=n,i}return vr(n,t),n}(Va),bE=function(t){function n(n){var i;return(i=t.call(this,$l.If)||this).currentTime=n,i}return vr(n,t),n}(Va),TE=function(t){function n(n){var i;return(i=t.call(this,$l.Tf)||this).currentTime=n,i}return vr(n,t),n}(Va),SE=function(t){function n(n,i){var r;return(r=t.call(this,$l.Il)||this).currentTime=n,r.volume=i,r}return vr(n,t),n}(Va);function EE(t,n){return IE.apply(this,arguments)}function IE(){return IE=Mo((function(t,n,i,r,e){var u,s,o;return Uo(this,(function(c){switch(c.label){case 0:void 0===i&&(i=3),void 0===r&&(r=1e3),void 0===e&&(e=1/0),u=0,c.label=1;case 1:0,c.label=2;case 2:return c.trys.push([2,4,,7]),[4,t(n)];case 3:return[2,c.sent()];case 4:return Ta(s=c.sent()),u<i?(o=l.min(r*l.pow(2,u),e),u++,[4,Ba(o,n)]):[3,6];case 5:return c.sent(),[3,1];case 6:throw s;case 7:return[3,1];case 8:return[2]}}))})),IE.apply(this,arguments)}var RE,NE={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};function CE(t){switch(t){case"all":case"content":return t;default:return"none"}}function DE(t){var n=ty(t||{});return n.libraryLocation&&(n.libraryLocation=U_(n.libraryLocation,!0)),n.isEmbeddable=Boolean(n.isEmbeddable),n.cast=function(t){var n=xS(t?t.chromecast:void 0),i=function(t){switch(t){case"auto":return"auto";case"manual":default:return"manual";case"disabled":return"disabled"}}(t?t.strategy:void 0);return{chromecast:n,strategy:i}}(n.cast),n.ads=dE(n.ads),n.analytics=lE(n.analytics),n.mutedAutoplay=CE(n.mutedAutoplay),n.allowNativeFullscreen=Boolean(n.allowNativeFullscreen),n.allowMixedContent=Boolean(n.allowMixedContent),n.persistVolume=Boolean(n.persistVolume),n.liveOffset=function(t){return Number(t)||void 0}(n.liveOffset),n.hlsDateRange=function(t){return Boolean(t)}(n.hlsDateRange),n.retainPlaybackRateOnSourceChange=Boolean(n.retainPlaybackRateOnSourceChange),n.license=function(t){return Mr(t)?t:void 0}(n.license),n.licenseUrl=function(t){if(!t)return;try{return U_(t)}catch(t){return void tr.Um("Invalid 'licenseUrl', falling back to default URL")}}(n.licenseUrl),n.vr=function(t){return{useWebXR:Boolean(t&&t.useWebXR)}}(n.vr),n.abr=qS(n.abr),n.retryConfiguration=function(t){var n=xo({},NE);return void 0!==t&&(void 0!==t.maxRetries&&(n.maxRetries=Number(t.maxRetries)),void 0!==t.minimumBackoff&&(n.minimumBackoff=Number(t.minimumBackoff)),void 0!==t.maximumBackoff&&(n.maximumBackoff=Number(t.maximumBackoff))),n}(n.retryConfiguration),n.hideDeprecationWarnings=Boolean(n.hideDeprecationWarnings),n}function PE(t){return{Wu:t.Wu,ct:t.ct,Ic:t.Ic,lt:t.lt,Ec:t.Ec,Xu:t.Xu,Dc:t.Dc,$u:t.$u,Nc:t.Nc,Fc:t.Fc,Xg:t.Xg,Kg:t.Kg,_l:t._l}}function OE(t,n){var i=n._l,r=n.Xu;t._l=i,t.Xu=r}function BE(t,n,i){if(n!==i){var r=n.Wu,e=n.ct,u=n.Xu,s=n.Dc,o=n.$u,c=n.Nc,a=n.Fc,h=(n.Kg,n.Xg,n._l),f=i.Wu,v=i.ct,d=i.Ic,l=i.Ec,_=i.Xu,g=i.Dc,y=i.$u,m=i.Nc,p=i.Fc,k=(i.Kg,i.Xg,i._l);c!==jk.zl&&t.To(new wE(f,m)),g&&!s?t.To(new yE(f)):!g&&s&&t.To(new mE(f)),m>=jk.Jn&&t.To(new Zk(f,m)),v===e||w(v)&&w(e)||t.To(new pE(v)),y!==o&&t.To(new kE(f,y)),f!==r&&t.To(new Fw(f,void 0)),d&&t.To(new AE(f)),m>=jk.Hf&&t.To(new Jk(f,m)),p&&!a?t.To(new bE(f)):!p&&a&&t.To(new TE(f)),k===h&&_===u||t.To(new SE(f,k)),m>=jk._f&&t.To(new tA(f,m)),m>=jk.Wl&&t.To(new nA(f,m)),m!==c&&t.To(new Kk(f,m)),l&&t.To(new DT(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(RE||(RE={}));var LE=function(t){function n(n){var i;return(i=t.call(this,$l.Qw)||this).currentSource=n,i}return vr(n,t),n}(Va),ME=function(t){function n(){return t.call(this,$l.Zw)}return vr(n,t),n}(Va),xE=function(t){function n(){return t.call(this,$l.$w)}return vr(n,t),n}(Va),UE=function(t){function n(n){var i;return(i=t.call(this,n)||this).$T=new aS,i.eS=new aS,i.xu=new hS,i.tS=new LS,i.$T.$v=n.ht,i.eS.$v=n.rt,i.xu.$v=n.nt,i.tS.$v=n.Tg,i}vr(n,t);var i=n.prototype;return i.rg=function(){return this.$T},i.Sg=function(){return this.tS},i.zg=function(){return this.xu},i.Qg=function(){return this.eS},i.iS=function(t){var n=this.hg;if(n!==t){n.J_(this.Av);var i=PE(this),r=this.fg(),e=this.ev(),u=this.rv();this.hg=t,this.$T.$v=t.ht,this.eS.$v=t.rt,this.xu.$v=t.nt,this.tS.$v=t.Tg,void 0!==i&&BE(this,i,this);var s=this.fg();s!==r&&this.To(new LE(s)),this.ev()!==e&&this.To(new ME),this.rv()!==u&&this.To(new xE),t.Q_(this.Av)}},i.bn=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,t.prototype.bn.call(n)];case 1:return i.sent(),n.$T.bn(),n.eS.bn(),n.xu.bn(),n.tS.bn(),[2]}}))}))()},hr(n,[{key:"Tg",get:function(){return this.Sg()}}]),n}(oS);var FE=function(t){function n(n){var i;return(i=t.call(this,n)||this).uS=[],i.ko=!1,i.ol=!1,i.cS(n),i}vr(n,t);var i=n.prototype;return i.Rg=function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s=0,o=0,c=0;c<t.length;c++){var a=t[c];n+=a.sS,i+=a.nS,r+=a.rS,e+=a.hS,u+=a.oS,s+=a.aS.amountOfBufferedAudioSegments,o+=a.aS.amountOfBufferedVideoSegments}return{sS:n,nS:i,rS:r,hS:e,oS:u,aS:{amountOfBufferedAudioSegments:s,amountOfBufferedVideoSegments:o}}}(this.uS.map((function(t){return t.Pg})))},i.xl=function(){return Pa(this.uS.map((function(t){return t.xl()}))).then(Vr)},i.ir=function(){return Pa(this.uS.map((function(t){return t.ir()}))).then(Vr)},i.uv=function(){if(!this.ko){for(var t=0,n=this.uS;t<n.length;t++){n[t].uv()}this.ko=!0}},i.og=function(){for(var t=[],n=0,i=this.uS;n<i.length;n++){var r,e=i[n];(r=t).push.apply(r,_r(e.og()))}return t},i.pv=function(t){for(var n=!1,i=0,r=this.uS;i<r.length;i++){n=r[i].pv(t)||n}return n},i.To=function(n){this.pv(n)||t.prototype.To.call(this,n)},i.cS=function(t){this.uS.push(t)},i.lS=function(t){$c(this.uS,t)},i.iS=function(n){if(n!==this.hg){var i=this.hg;i.ov(),t.prototype.iS.call(this,n),n.hv(i)}},i.wv=function(){for(var t=0,n=this.uS;t<n.length;t++){n[t].wv()}},i.bn=function(){var n=this;return Mo((function(){var i,r,e;return Uo(this,(function(u){switch(u.label){case 0:n.Lo(),n.hg.ov(),i=0,r=n.uS,u.label=1;case 1:return i<r.length?(e=r[i],n.hg===e?[3,3]:[4,e.bn()]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[4,t.prototype.bn.call(n)];case 5:return u.sent(),[2]}}))}))()},hr(n,[{key:"$v",get:function(){return this.hg},set:function(t){this.iS(t)}}]),n}(UE),HE=function(){function t(){this.zM=new qT,this.qM=[]}var n=t.prototype;return n.WM=function(t){this.qM.push(t)},n.lp=function(t,n,i,r,e,u){for(var s=this.zM.lp(t,n,i,r,e,u),o=0,c=this.qM;o<c.length;o++){s=(0,c[o])(s,i,r)}return s},n.FM=function(t,n){return this.zM.FM(t,n)},n.UM=function(){return!1},t.VM=function(){return this.lC},hr(t,[{key:"HM",get:function(){return this.zM.HM}}]),t}();function VE(t,n){return zc(t.HM,n.HM)}HE.lC=new HE;var XE=function(){function t(){this.GM=[]}var n=t.prototype;return n.XM=function(t){this.GM.push(t),this.GM.sort(VE)},n.QM=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o;return Uo(this,(function(c){switch(c.label){case 0:r=0,e=i.GM,c.label=1;case 1:return r<e.length?(u=e[r],Ur(s=u.FM(t,n))?[4,s]:[3,3]):[3,6];case 2:return o=c.sent(),[3,4];case 3:o=Boolean(s),c.label=4;case 4:if(o)return[2,u];c.label=5;case 5:return r++,[3,1];case 6:return[2,void 0]}}))}))()},t}();function zE(t){WE.lC.XM(t)}var WE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).jM=HE.VM(),n}vr(n,t);var i=n.prototype;return i.KM=function(t){this.jM=t},i.YM=function(){return this.jM},i.ZM=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:r=0,a.label=1;case 1:return r<t.length?(e=t[r],[4,i.QM(e,n)]):[3,4];case 2:if(u=a.sent())return[2,{JM:e,t:u}];a.label=3;case 3:return r++,[3,1];case 4:for(s=i.jM,o=0;o<t.length;o++)if(c=t[o],s.FM(c,n))return[2,{JM:c,t:s}];return[2,{JM:t[0],t:s}]}}))}))()},n}(XE);WE.lC=new WE;var GE,qE=function(){function t(t){this.Hs=qs&&qs.document&&qs.document.createElement("div"),oo(this.Hs),t.appendChild(this.Hs)}return t.prototype.bn=function(){Js(this.Hs)},t}();!function(t){t.EO="",t.$M="none",t.Ty="metadata",t.XT="auto"}(GE||(GE={}));var YE=[jp.aa,$l.jw,$l.Yw,$l.Im,$l.Vw,$l.Zw,$l.$w,$l.fm,$l._m,$l.pm,$l.Am,qk.pl,qk.ml,qk.gl,qk.yl,qk.Bf,qk.Yf,qk.Qf,$l.Xw,$l.Gw,$l.Nf,$l.Pf,$l.Ef,$l.lm,$l.Ph,$l.Rf,$l.Ch,$l.Vu,$l.vm,$l.If,$l.Tf,$l.Lu,$l.Il,$l.gm,$l.dm,$l.wm],jE=function(t){function n(n,i){var r;return(r=t.call(this)||this).rF=void 0,r.tF=void 0,r.$O=GE.$M,r.sF=void 0,r.oF=!0,r.$T=new aS,r.eS=new aS,r.xu=new hS,r.tS=new LS,r.nF=n,r.Ko=i,r.Ko.Mg=r.Mg,r.eF(),r}vr(n,t);var i=n.prototype;return i.jl=function(){this.Ko.jl()},i.dl=function(){var t=this.Ko.dl();Ur(t)&&Da(t)},i.xl=function(){return this.ba(void 0)},i.uv=function(){},i.eF=function(){this.$T.$v=this.Ko.ht,this.eS.$v=this.Ko.rt,this.xu.$v=this.Ko.nt,this.tS.$v=this.Ko.Tg,this.Ko.wn(YE,this.Os)},i.iF=function(){this.Ko.pn(YE,this.Os),this.$T.$v=void 0,this.eS.$v=void 0,this.xu.$v=void 0,this.tS.$v=void 0},i.qg=function(){return this.sF},i.ba=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:return ba(n),i.sF=t,t?hE(r=t.sources.filter(_E))?[2]:[4,i.nF.ZM(r,t)]:[2];case 1:return e=a.sent(),ba(n),u=e.JM,s=e.t,o=i.ev(),c=PE(i),i.rF!==s||i.lt?(i.iF(),[4,i.Ko.bn()]):[3,3];case 2:a.sent(),ba(n),i.rF=s,i.Ko=i.hF(s,u),function(t,n){t.Xu!==n.Xu&&(t.Xu=n.Xu);t._l!==n._l&&(t._l=n._l);t.$u!==n.$u&&(t.$u=n.$u)}(i.Ko,c),BE(i,c,i),i.eF(),a.label=3;case 3:return i.Ko.Mg=i.Mg,i.oF?i.Ko.be():i.Ko.ke(),[4,i.Ko.ba(u,t,n)];case 4:return a.sent(),ba(n),i.aF(u),i.ev()!==o&&i.To(new ME),[2]}}))}))()},i.aF=function(t){this.tF!==t&&(this.tF=t,this.To(new LE(t)))},i.fv=function(){return this.Ko.fv()},i._v=function(){this.Ko._v()},i.vv=function(){this.Ko.vv()},i.ev=function(){return this.Ko.ev()},i.wv=function(){this.Ko.wv()},i.mv=function(){this.Ko.mv()},i.ir=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.sF=void 0,t.aF(void 0),[4,t.Ko.ir()];case 1:return n.sent(),[2]}}))}))()},i.bn=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.Lo(),[4,t.ir()];case 1:return n.sent(),[4,t.Ko.bn()];case 2:return n.sent(),t.$T.bn(),t.eS.bn(),t.xu.bn(),t.tS.bn(),[2]}}))}))()},i.be=function(){this.oF=!0,this.Ko.be()},i.ke=function(){this.oF=!1,this.Ko.ke()},hr(n,[{key:"ht",get:function(){return this.$T}},{key:"bl",get:function(){return this.Ko.bl}},{key:"lt",get:function(){return this.Ko.lt}},{key:"Ec",get:function(){return this.Ko.Ec}},{key:"qu",get:function(){return this.Ko.qu},set:function(t){this.Ko.qu=t}},{key:"bt",get:function(){return this.tF}},{key:"Wu",get:function(){return this.Ko.Wu},set:function(t){this.Ko.Wu=t}},{key:"ct",get:function(){return this.Ko.ct}},{key:"Ic",get:function(){return this.Ko.Ic}},{key:"Tg",get:function(){return this.tS}},{key:"Eg",get:function(){return this.Ko.Eg}},{key:"Pg",get:function(){return this.Ko.Pg}},{key:"Xu",get:function(){return this.Ko.Xu},set:function(t){this.Ko.Xu=t}},{key:"Dg",get:function(){return this.Ko.Dg}},{key:"Dc",get:function(){return this.Ko.Dc}},{key:"$u",get:function(){return this.Ko.$u},set:function(t){this.Ko.$u=t}},{key:"wl",get:function(){return this.Ko.wl}},{key:"Mg",get:function(){return this.$O},set:function(t){this.$O=t,this.Ko&&(this.Ko.Mg=this.$O)}},{key:"Nc",get:function(){return this.Ko.Nc}},{key:"kl",get:function(){return this.Ko.kl}},{key:"Fc",get:function(){return this.Ko.Fc}},{key:"nt",get:function(){return this.xu}},{key:"Xg",get:function(){return this.Ko.Xg}},{key:"rt",get:function(){return this.eS}},{key:"Kg",get:function(){return this.Ko.Kg}},{key:"_l",get:function(){return this.Ko._l},set:function(t){this.Ko._l=t}},{key:"Jg",get:function(){return this.Ko.Jg}},{key:"sM",get:function(){return this.Ko.sM}}]),n}(Ha);function QE(t,n,i){return i?t<=n:t<n}var KE,ZE=function(){function t(t,n){this.U=t.length>>1,this.cF=t,this.dF=n||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(this.U)}var n=t.prototype;return n.Tn=function(t){return this.cF[2*t]},n.Pn=function(t){return this.cF[2*t+1]},n.lF=function(t){return this.dF[2*t]},n.fF=function(t){return this.dF[2*t+1]},n.ws=function(){var t=this;return{get length(){return t.U},start:function(n){var i=0|n;return t._F(i),t.Tn(i)},end:function(n){var i=0|n;return t._F(i),t.Pn(i)}}},n.gF=function(){for(var n=new Array(2*this.U),i=new Array(2*this.U),r=0;r<this.U;r++)n[2*r]=this.Tn(r),n[2*r+1]=this.Pn(r),i[2*r]=!0,i[2*r+1]=!0;return new t(n,i)},n._F=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.U)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.U+")")},n.vF=function(t){if(0===this.U)return 0;if(this.br(t))return t;if(t<=this.Tn(0))return this.Tn(0);if(t>=this.Pn(this.U-1))return this.Pn(this.U-1);for(var n=0,i=1/0,r=0;r<this.U;r++){var e=this.Tn(r),u=l.abs(e-t);u<i&&(n=e,i=u);var s=this.Pn(r),o=l.abs(s-t);o<i&&(n=s,i=o)}return n},n.Cn=function(n){for(var i=0,r=0,e=[],u=[];i<this.U&&r<n.U;){var s=this.Tn(i),o=this.Pn(i),c=this.lF(i),a=this.fF(i),h=n.Tn(r),f=n.Pn(r),v=n.lF(r),d=n.fF(r),_=l.max(s,h),g=l.min(o,f),w=void 0;w=s===h?c&&v:_===s?c:v;var y=void 0;y=o===f?a&&d:g===o?a:d,(_<g||w&&y&&_===g)&&(e.push(_,g),u.push(w,y)),o===f?(i+=1,r+=1):o<f?i+=1:r+=1}return new t(e,u)},n.wF=function(){var n=this.mF(),i=n.U;if(0===i)return new t([-1/0,1/0],[!1,!1]);var r=[],e=[],u=n.Tn(0);u!==-1/0&&(r.push(-1/0,u),e.push(!1,!n.lF(0)));for(var s=0;s<i-1;s++)r.push(n.Pn(s),n.Tn(s+1)),e.push(!n.fF(s),!n.lF(s+1));var o=n.Pn(i-1);return o!==1/0&&(r.push(o,1/0),e.push(!n.fF(i-1),!1)),new t(r,e)},n.pF=function(n){for(var i=0,r=0,e=this.U,u=n.U,s=new Array(2*(e+u)),o=new Array(2*(e+u)),c=0;i<e&&r<u;){var a=this.Tn(i),h=this.Pn(i),f=n.Tn(r),v=n.Pn(r);a<f||a===f&&h<v?(s[c]=a,s[c+1]=h,o[c]=this.lF(i),o[c+1]=this.fF(i),i++):(s[c]=f,s[c+1]=v,o[c]=n.lF(r),o[c+1]=n.fF(r),r++),c+=2}for(;i<e;)s[c]=this.Tn(i),s[c+1]=this.Pn(i),o[c]=this.lF(i),o[c+1]=this.fF(i),i++,c+=2;for(;r<u;)s[c]=n.Tn(r),s[c+1]=n.Pn(r),o[c]=n.lF(r),o[c+1]=n.fF(r),r++,c+=2;return new t(s,o)},n.yF=function(n){void 0===n&&(n=0);var i=this.U;if(i<2)return this;for(var r=[],e=[],u=this.Tn(0),s=this.Pn(0),o=this.lF(0),c=this.fF(0),a=1;a<i;a++){var h=this.Tn(a),f=this.Pn(a),v=this.lF(a),d=this.fF(a);u<h&&s>f||(u===h&&(o=v=o||v),s===f&&(c=d=c||d),QE(h,s+n,c||v)?(s=f,c=d):(r.push(u,s),e.push(o,c),u=h,s=f,o=v,c=d))}return r.push(u,s),e.push(o,c),new t(r,e).mF()},n.mF=function(){for(var n=[],i=[],r=0;r<this.U;r++){var e=this.Tn(r),u=this.Pn(r),s=this.lF(r),o=this.fF(r);e===u?(s||o)&&(n.push(e,u),i.push(!0,!0)):(n.push(e,u),i.push(s,o))}return new t(n,i)},n.Hl=function(t){return 0===this.U?t:0===t.U?this:this.pF(t).yF()},n.AF=function(t){var n=this.mF(),i=t.mF(),r=n.wF(),e=i.wF(),u=r.Cn(i),s=e.Cn(n);return u.Hl(s)},n.Ey=function(n){if(0===this.U||0===n)return this;for(var i=[],r=[],e=0;e<this.U;e++){var u=this.Tn(e)+n,s=this.Pn(e)+n;i.push(u,s),r.push(this.lF(e),this.fF(e))}return new t(i,r)},n.bF=function(t){return 0===this.U||0===t.U?this:this.mF().Cn(t.mF().wF())},n.br=function(t,n){return this.TF(t,n)>=0},n.SF=function(t,n,i,r,e){return this.kF(t,n,i,r,e)>=0},n.EF=function(t,n,i,r,e){return this.IF(t,n,i,r,e)>=0},n.PF=function(t){if(t.U!==this.U)return!1;for(var n=0;n<this.U;n++)if(this.Tn(n)!==t.Tn(n)||this.Pn(n)!==t.Pn(n)||this.lF(n)!==t.lF(n)||this.fF(n)!==t.fF(n))return!1;return!0},n.RF=function(n){for(var i=[],r=[],e=0;e<this.U;e++){var u=this.Tn(e),s=this.Pn(e),o=this.lF(e),c=this.fF(e);n(u,s,o,c)&&(i.push(u,s),r.push(o,c))}return new t(i,r)},n.IF=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=0);for(var u=t-e,s=n+e,o=0;o<this.U;o+=1)if(QE(this.Tn(o),s,!r||this.lF(o))&&QE(u,this.Pn(o),!i||this.fF(o)))return o;return-1},n.kF=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=0);for(var u=t+e,s=n-e,o=0;o<this.U;o+=1)if(QE(this.Tn(o),u,!i||this.lF(o))&&QE(s,this.Pn(o),!r||this.fF(o)))return o;return-1},n.TF=function(t,n){return this.kF(t,t,!0,!0,n)},n.CF=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=this.U-1;r>=0;r-=1)if(QE(this.Tn(r),i,this.lF(r)))return r;return-1},n.xF=function(t,n){void 0===n&&(n=0);for(var i=t-n,r=0;r<this.U;r+=1)if(QE(i,this.Pn(r),this.fF(r)))return r;return-1},n.DF=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=0;r<this.U;r+=1)if(this.Tn(r)>i)return r;return-1},n.NF=function(n){return this._F(n),new t([this.Tn(n),this.Pn(n)],[this.lF(n),this.fF(n)])},n.BF=function(t,n){var i=this.TF(t,n);return i<0?void 0:this.NF(i)},t.Sn=function(n){for(var i=[],r=0;r<n.length;r++)i.push(n.start(r),n.end(r));return new t(i)},t.OF=function(n){return new t([n,n],[!0,!0])},t.MF=function(n,i){return n<=i?new t([n,i]):t.Nl()},t.Nl=function(){return JE},hr(t,[{key:"uF",get:function(){return this.cF.slice()}},{key:"LF",get:function(){for(var t=0,n=0;n<this.U;n++){t+=this.Pn(n)-this.Tn(n)}return t}}]),t}(),JE=new ZE([]);!function(t){t.oa="fullscreenchange",t.fa="fullscreensupportchange",t.aa="fullscreenerror"}(KE||(KE={}));var $E=function(t){function n(){return t.call(this,KE.aa)}return vr(n,t),n}(Va),tI=(KE.oa,KE.fa,KE.aa,function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.bo=function(){this.To(new $E)},i.Co=function(){},i.bn=function(){this.Lo()},hr(n,[{key:"cs",get:function(){return!1}},{key:"sa",get:function(){return!1}}]),n}(Ua)),nI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).FF=0,n.UF=!1,n.Ql=!0,n.HF=1,n.Yl=!1,n.Qx=1,n.ht=new ky,n.bl=ZE.Nl().ws(),n.ct=NaN,n.Ic=!1,n.lt=void 0,n.Ec=void 0,n.Tg=void 0,n.Eg=!1,n.Dg=!0,n.wl=ZE.Nl().ws(),n.Mg=GE.$M,n.Nc=jk.zl,n.kl=ZE.Nl().ws(),n.eM=void 0,n.nt=new wk,n.Xg=0,n.rt=new ky,n.Kg=0,n.Jg=new VT,n.nM=new LT,n.VF=new tI,n}vr(n,t);var i=n.prototype;return i.be=function(){},i.ke=function(){},i.dl=function(){this.Ql&&(this.Ql=!1,this.To(new mE(this.Wu)),this.To(new $k(this.Wu)))},i.jl=function(){this.Ql||(this.Ql=!0,this.To(new Fw(this.Wu,this.qu)),this.To(new yE(this.Wu)))},i.ba=function(t,n){return $.resolve()},i.fv=function(){return!1},i._v=function(){},i.vv=function(){},i.ev=function(){return this.VF},i.wv=function(){},i.mv=function(){},i.ir=function(){var t=this;return Mo((function(){return Uo(this,(function(n){return t.FF=0,t.Yl=!1,t.jl(),t.To(new wE(t.FF)),[2]}))}))()},i.bn=function(){var t=this;return Mo((function(){return Uo(this,(function(n){return t.Lo(),t.ht.bn(),t.nt.bn(),t.rt.bn(),[2]}))}))()},hr(n,[{key:"qu",get:function(){},set:function(t){}},{key:"Wu",get:function(){return this.FF},set:function(t){this.FF!==t&&(this.FF=t,this.Yl=!0,this.To(new bE(this.Wu)))}},{key:"Pg",get:function(){return{sS:0,nS:0,rS:0,hS:0,oS:0,aS:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Xu",get:function(){return this.UF},set:function(t){this.UF!==t&&(this.UF=t,this.To(new SE(this.Wu,this._l)))}},{key:"Dc",get:function(){return this.Ql}},{key:"$u",get:function(){return this.HF},set:function(t){this.HF!==t&&(this.HF=t,this.To(new kE(this.Wu,this.$u)))}},{key:"Fc",get:function(){return this.Yl}},{key:"_l",get:function(){return this.Qx},set:function(t){this.Qx!==t&&(this.Qx=t,this.To(new SE(this.Wu,this._l)))}},{key:"tv",get:function(){return!1},set:function(t){}},{key:"sM",get:function(){return this.nM}}]),n}(Ua),iI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).bM=void 0,n.KO=void 0,n}vr(n,t);var i=n.prototype;return i.rv=function(){var t;return null==(t=this.KO)?void 0:t.JO},i.bn=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,t.prototype.bn.call(n)];case 1:return i.sent(),n.KO?[4,n.bM.AM(n.KO)]:[3,3];case 2:i.sent(),n.KO=void 0,i.label=3;case 3:return[2]}}))}))()},hr(n,[{key:"WF",set:function(t){this.bM=t,this.KO=t.MM(py.vl)}}]),n}(nI),rI=function(t){function n(n,i,r,e,u,s){var o,c=new iI;return(o=t.call(this,WE.lC,c)||this).qF=n,o.al=i,o.fP=r,o.GF=e,o.Sc=s,o.XF=new zs(u,o.Sc),o.XF.jF(o.qF),c.WF=o.XF,o.KF=new qE(o.qF),o}vr(n,t);var i=n.prototype;return i.uv=function(){t.prototype.uv.call(this),this.XF.zF()},i.hv=function(t){OE(this,t)},i.ov=function(){},i.pv=function(t){return!1},i.ba=function(n,i){var r=this;return Mo((function(){var e,u;return Uo(this,(function(s){switch(s.label){case 0:return e=r.ev(),u=r.rv(),[4,t.prototype.ba.call(r,n,i)];case 1:return s.sent(),r.ev()!==e&&r.To(new ME),r.rv()!==u&&r.To(new xE),[2]}}))}))()},i.hF=function(t,n){return t.lp(this.qF,this.XF,this.fP,this.al,this.GF,this.Sc,n)},i.rv=function(){return this.Ko.rv()},i.og=function(){return this.XF.QF.map((function(t){return t.JO}))},i.bn=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,t.prototype.bn.call(n)];case 1:return i.sent(),n.XF.bn(),n.KF.bn(),[2]}}))}))()},hr(n,[{key:"je",get:function(){return this.qF}},{key:"tv",get:function(){return this.Ko.tv},set:function(t){this.Ko.tv=t}}]),n}(jE),eI=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).VF=new tI,e.iM=new VT,e.qF=n,e.ZF=i,e.YF=new ky,e.tU=new wk,e.JF=r,e}vr(n,t);var i=n.prototype;return i.pv=function(t){return!0},i.ke=function(){},i.dl=function(){throw this.To(new DT(this.JF)),this.ZF},i.jl=function(){},i.qg=function(){},i.ba=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(t){throw ba(n),i.To(new DT(i.JF)),i.ZF}))}))()},i.be=function(){},i.xl=function(){return $.resolve()},i.rv=function(){},i.ev=function(){return this.VF},i.og=function(){return[]},i.uv=function(){},i.hv=function(t){},i.ov=function(){},i.fv=function(){return!1},i._v=function(){},i.vv=function(){},i.wv=function(){},i.mv=function(){},i.ir=function(){return $.resolve()},i.bn=function(){return this.Lo(),this.YF.bn(),this.tU.bn(),$.resolve()},hr(n,[{key:"ht",get:function(){return this.YF}},{key:"bl",get:function(){return ZE.Nl().ws()}},{key:"qu",get:function(){return new Date(NaN)},set:function(t){}},{key:"bt",get:function(){}},{key:"Wu",get:function(){return 0},set:function(t){}},{key:"ct",get:function(){return 0}},{key:"je",get:function(){return this.qF}},{key:"Ic",get:function(){return!0}},{key:"lt",get:function(){return this.ZF}},{key:"Ec",get:function(){return this.JF}},{key:"Tg",get:function(){}},{key:"Pg",get:function(){return{sS:0,nS:0,rS:0,hS:0,oS:0,aS:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Xu",get:function(){return!1},set:function(t){}},{key:"Dg",get:function(){return!0}},{key:"Dc",get:function(){return!0}},{key:"$u",get:function(){return 0},set:function(t){}},{key:"wl",get:function(){return ZE.Nl().ws()}},{key:"Mg",get:function(){return GE.$M},set:function(t){}},{key:"Nc",get:function(){return jk.zl}},{key:"kl",get:function(){return ZE.Nl().ws()}},{key:"Fc",get:function(){return!1}},{key:"nt",get:function(){return this.tU}},{key:"Xg",get:function(){return 0}},{key:"rt",get:function(){return this.YF}},{key:"Kg",get:function(){return 0}},{key:"_l",get:function(){return 1},set:function(t){}},{key:"Jg",get:function(){return this.iM}},{key:"tv",get:function(){return!1},set:function(t){}},{key:"Eg",get:function(){return!1}}]),n}(Ha);function uI(t){if(t&&Br(t))return xo({},t,{integration:sI(t.integration),fairplay:vI(t.fairplay),widevine:oI(t.widevine),playready:cI(t.playready),clearkey:dI(t.clearkey),aes128:lI(t.aes128),integrationParameters:_I(t.integrationParameters),preferredKeySystems:gI(t.preferredKeySystems)})}function sI(t){if(Mr(t))return t}function oI(t){if(t&&Br(t))return{persistentState:aI(t.persistentState),distinctiveIdentifier:aI(t.distinctiveIdentifier),audioRobustness:hI(t.audioRobustness),videoRobustness:hI(t.videoRobustness),licenseAcquisitionURL:Mr(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:fI(t.licenseType),headers:t.headers,useCredentials:!!xr(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:Mr(t.certificate)||lf(t.certificate)?t.certificate:void 0}}function cI(t){if(t){var n=oI(t);if(n)return xo({},n,{customData:Mr(t.customData)?t.customData:void 0})}}function aI(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function hI(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function fI(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function vI(t){if(t){var n=oI(t);if(n)return xo({},n,{certificateURL:Mr(t.certificateURL)?t.certificateURL:void 0})}}function dI(t){if(t){var n=oI(t);if(n){var i=Pr(t.keys)?t.keys.map((function(t){return function(t){if(!t||!Br(t))return;var n=t.id,i=t.value;if(!Mr(n)||!Mr(i))return;return{id:n,value:i}}(t)})).filter(Cr):void 0;return xo({},n,{keys:i})}}}function lI(t){if(Br(t))return{useCredentials:xr(t.useCredentials)?t.useCredentials:void 0}}function _I(t){if(Br(t))return t}function gI(t){return t&&Pr(t)?t.map((function(t){return KA(t)})).filter(Cr):[ec,nc,ac]}var wI,yI=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return vr(n,t),n}(Va),mI=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).sU=[],r.rU=function(t){Ca((function(){r.Os(t)}))},r.iU=i?r.rU:r.Os,r}vr(n,t);var i=n.prototype;return i.eU=function(t){t.Q_(this.iU),this.sU.push(t)},i.nU=function(t){t.J_(this.iU),$c(this.sU,t)},i.bn=function(){this.Lo();for(var t=0,n=this.sU;t<n.length;t++){n[t].J_(this.iU)}ea(this.sU)},n}(Ha);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(wI||(wI={}));var pI,kI=function(t){function n(n){var i;return(i=t.call(this)||this).aU="inline",i.hU="inline",i.oU=!1,i.cU=!1,i.uU="inline",i.lU="inline",i.Gu=void 0,i.fU=function(){return i.ki()},i._U=function(){return i.dU()},i.VF=n,i.VF.wn(KE.oa,i.fU),i.VF.wn(KE.aa,i._U),i.Zr(),i}vr(n,t);var i=n.prototype;return i.pa=function(){return function(t){var n,i={get currentMode(){return t.Go()},requestMode:function(n){var i=bI(n);i&&t.ia(i)},supportsMode:function(n){var i=bI(n);return!!i&&t.Jo(i)},addEventListener:function(t,i){n.wn(t,i)},removeEventListener:function(t,i){n.pn(t,i)}};return(n=new mI(i,!0)).eU(t),i}(this)},i.ia=function(t){this.Qo(t,t)},i.Qo=function(t,n){this.hU!==n&&(this.oU=!0,this.aU=t,this.Yo(n,this.hU),"fullscreen"!==t&&(this.uU=t),this.oU=!1,this.Zr())},i.Go=function(){return this.cU?"fullscreen":"inline"},i.Jo=function(t){switch(t){case"fullscreen":return this.VF.sa;case"inline":return!0}return!1},i.Zr=function(){if(!this.oU){var t=this.hU,n=this.Go();this.hU=n,"fullscreen"!==n&&(this.lU=n),t!==n&&this.To(new yI(n))}},i.Yo=function(t,n){var i="fullscreen"===t;this.cU=i,i!==this.VF.cs&&(i?this.VF.bo():this.VF.Co())},i.ki=function(){if(!this.oU){var t=this.VF.cs;this.cU=t,t?this.Qo("fullscreen","fullscreen"):t||"fullscreen"!==this.aU?this.Zr():this.Qo(this.uU,this.lU)}},i.dU=function(){this.ki(),this.To(new DT(new Dl(Rl.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},i.bn=function(){this.VF.bn(),this.Lo()},hr(n,[{key:"ma",get:function(){return this.Gu||(this.Gu=this.pa()),this.Gu}}]),n}(Ha),AI={Wu:0,ct:NaN,Ic:!1,lt:void 0,Ec:void 0,Xu:!1,Dc:!0,$u:1,Nc:jk.zl,Fc:!1,Xg:0,Kg:0,_l:1};function bI(t){switch(t){case wI.INLINE:case wI.FULLSCREEN:case wI.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor"}(pI||(pI={}));var TI,SI,EI,II,RI,NI,CI,DI,PI=function(){function t(){this.vU=[]}var n=t.prototype;return n.wU=function(t){var n=this.gU.filter((function(n){return n.mU(t)}));if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.pU=function(t){this.vU.push(t)},hr(t,[{key:"gU",get:function(){return this.vU}}]),t}();PI.lC=new PI,function(t){t.Qf="PLAYING",t.Rm="PAUSED",t.yU="SEEK",t.AU="STALLED",t.bU="FAILED",t.TU="INITIAL_BUFFERING",t.SU="NO_ACCESS"}(TI||(TI={})),function(t){t.kU="HTTP_REQUEST_STATUS_CODE_1XX",t.EU="HTTP_REQUEST_STATUS_CODE_2XX",t.IU="HTTP_REQUEST_STATUS_CODE_3XX",t.PU="HTTP_REQUEST_STATUS_CODE_4XX",t.RU="HTTP_REQUEST_STATUS_CODE_5XX",t.CU="BUFFER_LENGTH",t.xU="BYTES_RECEIVED",t.DU="SEGMENT_READ_BITRATE",t.NU="SEGMENT_PROFILE_BITRATE",t.BU="VIDEO_PROFILE_BITRATE",t.LU="NUMBER_OF_FRAMES_DROPPED",t.OU="PLAYBACK_POSITION",t.MU="NUMBER_OF_FRAMES_DECODED",t.FU="PLAYBACK_DELTA_TO_ORIGIN",t.UU="STREAM_DELTA_TO_ORIGIN",t.HU="ORIGIN_TIMESTAMP"}(SI||(SI={})),function(t){t.VU="MANIFEST_URI",t.WU="ASSET_DURATION",t.qU="NUMBER_OF_CONTENT_PROFILES",t.zU="CDN",t.XU="CONTENT_TITLE",t.GU="SERVICE_NAME",t.QU="CONTENT_TYPE",t.KU="CONTENT_DESCRIPTION"}(EI||(EI={})),function(t){t.jU="shutdown_normal_shutdown"}(II||(II={})),function(t){t.YU="session/",t.ZU="content/",t.JU="internalError/",t.$U="drmError/",t.tH="caError/",t.eH="networkError/"}(RI||(RI={})),function(t){t.iH="userAction",t.sH="endOfStreamReached"}(NI||(NI={})),function(t){t.PAUSE="nH",t.RESUME="rH"}(CI||(CI={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(DI||(DI={}));var OI,BI,LI,MI="agama";function xI(t){switch(t){case"":return OI.NONE;case"horizontal":return OI.HORIZONTAL;case"vertical":return OI.VERTICAL;default:throw new v}}function UI(t,n){if(n)return BI.PM360;if(null==t)return BI.NONE;switch(t){case"":return BI.NONE;case"360":return BI.PM360;case"180":return BI.PM180;default:throw new v("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(OI||(OI={})),function(t){t.NONE="",t.PM360="360",t.PM180="180"}(BI||(BI={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(LI||(LI={}));var FI="https://content.uplynk.com";function HI(t){if(!t)return!0;var n=!function(t){return aE(t)||Or(t)&&aE(t[0])}(t.sources)||hE(t.sources),i=!t.ads||function(t){return!t||Pr(t)&&0===t.length}(t.ads),r=""!==t.poster&&!t.poster;return n&&i&&r}function VI(t){if(t&&t.sources)return XI(t.sources)}function XI(t){return Mr(t)?$S(t):oE(t)?t.type||t.src&&$S(t.src):Or(t)&&t.length>0?XI(t[0]):void 0}function zI(t){if(t&&t.sources)return WI(t.sources)}function WI(t){return Mr(t)?t:oE(t)?t.src:Or(t)&&t.length>0?WI(t[0]):void 0}function GI(t,n,i){return eE(t)?function(t,n,i){var r=xo({},fE(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:PS.VERIZON_MEDIA,id:"",prefix:FI,preplayParameters:{},playbackUrlParameters:{},assetType:LI.ASSET,contentProtected:!1,assetInfo:!0});r.id=function(t){if(Mr(t))return t;if(Or(t)&&Mr(t[0]))return t;if(function(t){return Br(t)&&Mr(t.userId)&&(Or(t.externalId)||Mr(t.externalId))}(t))return t;return""}(t.id),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return LI.CHANNEL;case"event":return LI.EVENT;default:return LI.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=uy(t.contentProtected));t.assetInfo?r.assetInfo=uy(t.assetInfo):r.assetInfo="asset"===r.assetType;t.prefix&&(r.prefix=ay(t.prefix)||FI);return r.ping=function(t,n){var i=!1,r=!1,e=!1;n?(i=!!xr(n.adImpressions)&&n.adImpressions,r=!!xr(n.freeWheelVideoViews)&&n.freeWheelVideoViews,e=xr(n.linearAdData)?n.linearAdData:t!==LI.ASSET):t!==LI.ASSET&&(e=!0);return{adImpressions:i,freeWheelVideoViews:r,linearAdData:e}}(r.assetType,t.ping),r=YI(r,t),r=QI(r,n,i),r=jI(r,t,i),r}(t,n,i):uE(t)?function(t,n,i){var r;return xo({},qI(t,n,i),{integration:PS.MEDIATAILOR,adParams:null!=(r=t.adParams)?r:{}})}(t,n,i):qI(t,n,i)}function qI(t,n,i){var r=vE(),e=n&&(n.contentProtection||n.drm);if(Mr(t)){if(r.src=t,r.type=$S(t),e){var u=uI(e);r.contentProtection=XS(u)}}else if(oE(t)||rE(t)){r.src=t.src,r.type=t.type||$S(t.src),r.isAdvertisement=t.isAdvertisement;var s=cE(t)?t.hesp:void 0;void 0!==s&&(r.hesp=s),uE(t)&&(r.integration=t.integration);var o=uI(t.contentProtection||t.drm||e);r.contentProtection=XS(o),t.ssai&&(r.ssai=HS(t.ssai)),r=YI(r,t)}return r=jI(r=QI(r,n,i),t,i)}function YI(t,n){var i,r;n.useCredentials?t.crossOrigin=RS.Wm:n.crossOrigin&&(t.crossOrigin=tE(n.crossOrigin)),Mr(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=uy(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=uy(n.useNativePlayback)),n.useManagedMediaSource&&(t.useManagedMediaSource=uy(n.useManagedMediaSource)),n.dash&&(t.dash=zS(n.dash)),n.hls&&(t.hls=WS(n.hls)),n.lcevc&&(t.lcevc=uy(n.lcevc)),n.ignoreEmbeddedTextTrackTypes&&(t.ignoreEmbeddedTextTrackTypes=gE(n.ignoreEmbeddedTextTrackTypes)),t.seamlessSwitchStrategy=ZS(null!=(r=n.seamlessSwitchStrategy)?r:null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch);var e=sy(n.experimentalRendering);void 0!==e&&(t.experimentalRendering=e);var u=sy(n.nativeUiRendering);return void 0!==u&&(t.nativeUiRendering=u),t}function jI(t,n,i){return t.abr=YS(Mr(n)?void 0:qS(n.abr),null==i?void 0:i.abr),t}function QI(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!Cr(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!Cr(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===RS.Hm&&(null==n||null==(r=n.vr)?void 0:r[360])&&(t.crossOrigin=RS.Vm),t.useCredentials=t.crossOrigin===RS.Wm,Mr(e)&&!t.timeServer&&(t.timeServer=e),t}function KI(t){var n={src:""};if(t&&t.src){if(n.src=ay(t.src),"default"in t&&(n.default=uy(t.default)),n.kind=function(t){var n=String(t||"").toLowerCase();return mk(n)?n:n?"metadata":"subtitles"}(t.kind),Qy(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function ZI(t,n){if(Lr(t))try{return n.wU(t).uH(t)}catch(t){return}}function JI(t){return Mr(t.sources)&&""!==t.sources||Br(t.sources)&&Mr(t.sources.src)}function $I(t){return t.integration===pI.SPOTX&&!w(t.id)}function tR(t){return"freewheel"===t.integration}function nR(t,n,i){if(void 0===i&&(i=PI.lC),HI(t))return{sources:[vE()]};var r=ty(t);if(r.sources=function(t,n,i){if(aE(t))return[GI(t,n,i)];if(Or(t)&&aE(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(GI(u,n,i))}return r}return[vE()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!Or(t))return[];for(var i=[],r=0;r<t.length;r++){var e=t[r];(e=ZI(e,n))&&(JI(e)||$I(e)||tR(e))&&i.push(e)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u=!hE(r.sources),s=r.ads&&r.ads.length>0;if(u&&!s?delete r.ads:s&&!u&&(r.sources=[]),"textTracks"in r){var o=function(t){if(!Or(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];""!==(r=KI(r)).src&&n.push(r)}return n}(r.textTracks);0===o.length?delete r.textTracks:r.textTracks=o}if("poster"in r&&(r.poster=ay(r.poster)),"streamType"in r&&(r.streamType=function(t){switch(t){case"live":case"dvr":case"vod":return t}}(r.streamType)),"vr"in r&&(r.vr=function(t){var n=t||{};return n.stereoMode=function(t){return function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(t)?t:""}(n.stereoMode),{panoramaMode:UI(n.panoramaMode,Boolean(n[360])),stereoMode:n.stereoMode?xI(n.stereoMode):OI.NONE,nativeVR:Boolean(n.nativeVR)}}(r.vr)),"analytics"in r||(null==n?void 0:n.analytics)){var c=lE(r.analytics),a=n&&n.analytics||[];r.analytics=function(t,n){for(var i=function(i){var e=n[i],u=!t.some((function(t){return t.integration===e.integration}));u&&e.integration!==MI&&r.push(e)},r=ty(t),e=0;e<n.length;e++)i(e);return r}(c,a)}return"mutedAutoplay"in r&&(r.mutedAutoplay=CE(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,"playAdsAfterTime"in r&&(r.playAdsAfterTime=oy(r.playAdsAfterTime)),r.blockContentIfAdError=function(t){return void 0!==t&&"boolean"==typeof t&&Boolean(t)}(r.blockContentIfAdError),r}var iR=function(){var t=function(t){this.cH=t};return t.prototype.lH=function(t){var n,i,r,e,u,s,o,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.cH.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.cH.indexOf(t.charAt(n))<<18|this.cH.indexOf(t.charAt(n+1))<<12|(u=this.cH.indexOf(t.charAt(n+2)))<<6|(s=this.cH.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,c[n/4]=String.fromCharCode(i,r,e),64===s&&(c[n/4]=String.fromCharCode(i,r)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.dH=function(t,n){var i,r,e,u,s,o,c,a=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.cH.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,a[o/3]=this.cH.charAt(r)+this.cH.charAt(e)+this.cH.charAt(u)+this.cH.charAt(s);return c=(c=a.join("")).slice(0,c.length-h.length),n||(c+=h),c},t.dh=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.fH=new t(function(t){return t.lH("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")}(t.dh)),t}();function rR(t){return"string"==typeof t}function eR(t){return"number"==typeof t}var uR={}.toString;var sR,oR=Array.isArray||function(t){return"[object Array]"===uR.call(t)};function cR(t,n){return oR(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf",t.THEOLIVEWEB="theoliveweb"}(sR||(sR={}));var aR,hR=d.keys(sR).map((function(t){return sR[t]}));function fR(t){return-1!==hR.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview"}(aR||(aR={}));var vR,dR=d.keys(aR).map((function(t){return aR[t]}));function lR(t){return-1!==dR.indexOf(t)}function _R(t){try{var n=iR.fH.lH(t),i=JSON.parse(n);if(!function(t,n){var i,r=function(t){return"object"==typeof t&&null!==t}(t),e=rR(t.key),u=rR(t.customer_id),s=eR(t.generation_date),o=eR(t.expiration_date),c=cR(t.domains_page,rR),a=cR(t.domains_source,rR),h=cR(t.sdks,n?fR:rR),f=function(t){return"boolean"==typeof t}(t.send_impression);t.features?i=cR(t.features,n?lR:rR):(i=!0,t.features=[]);if(!(r&&e&&u&&s&&o&&c&&a&&h&&f&&i))return!1;return!0}(i,!1))throw new f("The provided license could not be decoded correctly.");return i}catch(t){throw new f("The provided license could not be decoded correctly.")}}function gR(){return vR||(vR={TI:Ys.href,_H:qs.parent&&qs.parent!==r,gH:mR()}),vR}var wR,yR=["http:","https:","ftp:","ws:","wss:"];function mR(){var t;try{if(null==qs?void 0:qs.top)return qs.top.location.href}catch(t){}return null==qs||null==(t=qs.document)?void 0:t.referrer}!function(t){t[t.vH=0]="vH",t[t.wH=1]="wH",t[t.mH=2]="mH"}(wR||(wR={}));var pR,kR=function(t,n,i,r,e,u,s,o,c){void 0===e&&(e=[]),void 0===u&&(u=""),void 0===s&&(s=Date.now()),void 0===o&&(o=[]),void 0===c&&(c=!0),this.pH=t,this.yH=n,this.AH=i,this.bH=r,this.TH=e,this.SH=u,this.kH=s,this.EH=o,this.IH=c};!function(t){t.wH="expired",t.PH="invaliddomain",t.RH="invalidsource",t.CH="invalidfeature",t.aa="error"}(pR||(pR={}));var AR=function(){function t(t,n,i){this.XH=t,this.jH=n,this.Px=i,this.WH=RR(this.Px)}var n=t.prototype;return n.xH=function(t,n){var i=[];aE(t.sources)?i=[t.sources]:Or(t.sources)&&(i=t.sources),this.DH(t,i,n),this.NH(i,n)},n.DH=function(t,n,i){var r=this;if(!HI(t)&&0!==i.AH.length&&!SR(i.AH)&&!n.every((function(t){return r.BH(t,i)}))){var e="invalidsource",u=CR.LH(e);throw new Dl(bR(e),u)}},n.NH=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];oE(r)&&cE(r)&&this.Wf([aR.HESP],n)}},n.OH=function(n){return this.MH(n.EH)&&this.FH(n)?t.UH(n.bH)?0:1:2},n.Wf=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(!ia(n.TH,r)){var e="invalidfeature",u=CR.HH(e,r);throw new Dl(bR(e),u)}}},n.MH=function(t){var n=this;return 0===t.length||t.some((function(t){return n.VH(t)}))},n.VH=function(t){return"web"===function(t){switch(t){case sR.ANDROID:return nr.AP;case sR.ANDROIDTV:case sR.FIRETV:return nr.bP;case sR.IOS:return nr.TP;case sR.TVOS:return nr.SP;case sR.CHROMECAST:case sR.CHROMECASTCAF:return nr.kP;case sR.THEOLIVEWEB:return nr.EP;default:return nr.yP}}(t)},n.FH=function(t){return!(this.WH&&0!==t.yH.length&&!SR(t.yH))||!!(this.WH&&this.qH(t.yH)&&this.zH(t.yH))},n.qH=function(t){return ER(this.Px.TI,t)},n.zH=function(t){if(!this.Px._H)return!0;if(this.XH)return!0;var n=this.GH();return!!n&&ER(n,t)},n.GH=function(){if(this.Px._H){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.Px.gH?this.Px.gH:void 0}},n.BH=function(n,i){return!!t.QH(n,i.AH)},t.UH=function(t){var n=Number(new Date);return!!t&&n<=t},t.QH=function(t,n){return ER(this.KH(t),n)},t.KH=function(t){return Mr(t)?t:oE(t)&&t.src||""},t}();function bR(t){switch(t){case"invaliddomain":return Rl.LICENSE_INVALID_DOMAIN;case"invalidsource":return Rl.LICENSE_INVALID_SOURCE;case"expired":return Rl.LICENSE_EXPIRED;case"invalidfeature":return Rl.LICENSE_INVALID_FEATURE;case"error":return Rl.LICENSE_ERROR}}function TR(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+e+s+e+s+e+s+"\\)"),c=r.match(o),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var h=new RegExp("^"+c[1]+e+a(c[2])+e+a(c[3])+e+a(c[4])+"$");return null!==i.match(h)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function SR(t){return t.some((function(t){return"*"===t}))}function ER(t,n){var i=tr.Rh(t);if(!IR(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(TR(i.hostname,e))return!0;if(TR(X_(t),e))return!0}return!1}function IR(t){return-1!==yR.indexOf(t.protocol)}function RR(t){var n=tr.Rh(t.TI);return IR(n)&&!function(t){return TR(t.hostname,"localhost")}(n)&&!function(t){return TR(t.hostname,"theoplayer.doubleclick.net")}(n)}var NR,CR=function(){function t(){}return t.HH=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.LH=function(t){return"invaliddomain"===t?this.YH:"invalidsource"===t?this.ZH:"expired"===t?this.JH:"invalidfeature"===t?this.$H:this.tV},t}();function DR(t){var n=[t.lT,t.eV,t.iV];switch(t.eV){case 1:n.push(t.Pw);break;case 4:n.push(t.Wu),n.push(t.lt);break;case 5:n.push(t.lt)}return n}CR.tV="The license for this player is invalid.",CR.JH="The usage license for this video player has expired.",CR.YH="The current domain is incompatible with the license for this player.",CR.ZH="The provided video source is incompatible with the license for this player.",CR.$H="The requested feature is not available with the license for this player.",function(t){t[t.sV=1]="sV",t[t.nV=4]="nV",t[t.rV=5]="rV"}(NR||(NR={}));var PR,OR=new Array(256);for(PR=0;PR<256;PR+=1)OR[PR]=(PR<16?"0":"")+PR.toString(16);function BR(){var t=xe(),n=(4294967296*l.random()|0)+t&3029421624,i=(4294967296*l.random()|0)+t&3595553209,r=(4294967296*l.random()|0)+t&1130486254,e=(4294967296*l.random()|0)+t&1284287105;return OR[255&n]+OR[n>>>8&255]+OR[n>>>16&255]+OR[n>>>24&255]+"-"+OR[255&i]+OR[i>>>8&255]+"-"+OR[i>>>16&15|64]+OR[i>>>24&255]+"-"+OR[63&r|128]+OR[r>>>8&255]+"-"+OR[r>>>16&255]+OR[r>>>24&255]+OR[255&e]+OR[e>>>8&255]+OR[e>>>16&255]+OR[e>>>24&255]}function LR(t){return pf(t.replace(/-/g,""))}function MR(){return tr.V_()}var xR,UR="theoplayer-session-id";function FR(){if(!xR){var t=Ql.RC(UR);t?xR=t:(xR=BR(),Ql.dO(UR,xR))}return xR}var HR=/[^\x00-\x7E]/g;function VR(t){return"\\u"+Ec(t.charCodeAt(0).toString(16),4,"0")}var XR="https://license.theoplayer.com";function zR(t){var n=function(t){var n=[];return function(t,n,i){return JSON.stringify(t,n,i).replace(HR,VR)}(t,(function(t,i){if(Br(i)){if(-1!==n.indexOf(i))return null;n.push(i)}return i}))}(function(t){return[t.hV,t.YD,t.pH,t.oA,t.oV,t.aV,t.uV.map(DR)]}(t));return iR.fH.dH(n)}var WR=function(){function t(t,n,i,r,e,u){void 0===r&&(r=iR.dh),void 0===e&&(e=0),void 0===u&&(u=1);var s=this;this.RD=t,this.fP=n,this.gV=i,this.pV=r,this.AV=e,this.EV=u,this.cV=[],this.dV=null,this.CV=0,this.kV="unknown",this.sD=0,this.BV=function(){MR()-s.CV>6e4&&s.TV()},this.DV=function(){s.TV(!0)},Gs.LV(this.DV),this.NV=a(this.BV,6e4)}var n=t.prototype;return n.lV=function(){return Boolean(this.oV)},n.fV=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return[4,n.gV._V()];case 1:return r.sent().IH?(i={eV:NR.sV,iV:xe(),Pw:t},[4,n.vV(i)]):[2];case 2:return r.sent(),[2]}}))}))()},n.wV=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return r={eV:NR.nV,iV:xe(),Wu:n,lt:t},[4,i.vV(r)];case 1:return e.sent(),[2]}}))}))()},n.mV=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return i={eV:NR.rV,iV:xe(),lt:t},[4,n.vV(i)];case 1:return r.sent(),[2]}}))}))()},n.vV=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return[4,n.gV._V()];case 1:return i=r.sent(),"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===n.pV.dH(i.pH)&&t.eV!==NR.rV?[2]:(t.eV===NR.sV?n.yV():n.lV()||n.yV(),t.lT=n.sD++,n.cV.push(t),function(t){return t===NR.sV||t===NR.rV}(t.eV)?[4,n.TV()]:[3,3]);case 2:case 4:return r.sent(),[3,5];case 3:return n.cV.length>n.AV?[4,n.bV()]:[3,5];case 5:return[2]}}))}))()},n.TV=function(t){void 0===t&&(t=!1);var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.cV.length>0?[4,n.bV(t)]:[3,2];case 1:return i.sent(),[3,0];case 2:return[2]}}))}))()},n.SV=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return[4,n.gV._V()];case 1:return i=r.sent(),[2,{hV:xe(),YD:FR(),pH:n.pV.dH(i.pH)||"dev",oA:n.RD,oV:n.dV,aV:n.kV,uV:t}]}}))}))()},n.bV=function(t){void 0===t&&(t=!1);var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:return i=n.cV.splice(0,n.EV),[4,n.SV(i)];case 1:return r=e.sent(),t?n.PV(r):n.RV(r),n.CV=MR(),[2]}}))}))()},n.RV=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:i=zR(t),r=new B_({TI:XR,tP:i,oP:!1,sP:t_.KT,eP:{"Content-Type":Cb.LL},kI:4e3,iP:N_.POST}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,n.fP.pI(r)];case 2:return[4,e.sent().xL()];case 3:return e.sent(),[3,5];case 4:return e.sent(),(new Image).src="https://licensing.theoplayer.com/t?"+i,[3,5];case 5:return[2]}}))}))()},n.PV=function(t){var n=zR(t);this.fP.PV({TI:XR,tP:n,rM:Cb.LL})},n.yV=function(){this.lV()&&this.TV(),this.dV=BR(),this.sD=0},n.bn=function(){Gs.xV(this.DV),h(this.NV),this.TV()},hr(t,[{key:"uV",get:function(){return this.cV}},{key:"oV",get:function(){return this.dV}}]),t}();var GR=0;var qR=c,YR=self.requestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame,jR=self.cancelAnimationFrame||self.webkitCancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelRequestAnimationFrame;YR&&jR||(YR=function(t){var n=MR(),i=l.max(0,16-(n-GR)),r=o((function(){return t(n+i)}),i);return GR=n+i,r},jR=qR),YR=YR.bind(self),jR=jR.bind(self);var QR=Ir.kR||Ir.KP&&Ir.UR<13;function KR(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var ZR,JR=function(){function t(t){var n=this;this.HV=void 0,this.Gu=void 0,this.jV=void 0,this.zV=Xo(),this.WV=1,this.KV=!0,this.ZV=function(){n.KV=!0},this.YV=function(){n.HV=n.t.rv(),n.zV.forEach((function(t,i){t.GV(),t.GV=n.qV(t.XV,i)}))},this.t=t,this.t.wn($l.$w,this.YV),this.t.wn($l.Tf,this.ZV),this.YV()}var n=t.prototype;return n.OV=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e,u=this.HV;return void 0!==u&&((e=t).drawImage.apply(e,[u].concat(_r(i))),!0)},n.MV=function(t,n,i,r,e,u){var s=this.HV;return void 0!==s&&(QR&&(s=this.VV(s)),t.texImage2D(n,i,r,e,u,s),!0)},n.FV=function(t){var n=this.WV++,i=this.qV(t,n);return this.zV.set(n,{XV:t,GV:i}),n},n.UV=function(t){var n=this.zV.get(t);void 0!==n&&(this.zV.delete(t),n.GV())},n.qV=function(t,n){var i=this,r=this.HV;if(void 0===r)return Vr;if(r instanceof HTMLVideoElement&&r.requestVideoFrameCallback){var e=r.requestVideoFrameCallback((function(r,e){i.zV.delete(n),t(r,e)}));return function(){return r.cancelVideoFrameCallback(e)}}var u,s=function(r){i.QV()?(i.zV.delete(n),i.KV=!1,t(r,void 0)):u=YR(s)};return u=YR(s),function(){return jR(u)}},n.QV=function(){return(!this.t.Dc||this.KV)&&!this.t.Fc&&this.t.Nc>=jk.Hf},n.VV=function(t){var n=this.jV;void 0===n&&(n=e.createElement("canvas"),this.jV=n);var i=n.getContext("2d"),r=this.t,u=r.Kg,s=r.Xg,o=n.width,c=n.height;i.clearRect(0,0,n.width,n.height),o===u&&c===s||(n.width=u,n.height=s),i.drawImage(t,0,0,u,s);var a=!1;return u>0&&KR(i,u-1,0)&&(n.width=o,a=!0),s>0&&KR(i,0,s-1)&&(n.height=c,a=!0),a&&i.drawImage(t,0,0,u,s),n},n.bn=function(){this.zV.forEach((function(t){return t.GV()})),this.zV.clear(),this.t.pn($l.$w,this.YV),this.t.pn($l.Tf,this.ZV),this.HV=void 0,this.jV=void 0},hr(t,[{key:"ma",get:function(){var t;return null!=(t=this.Gu)?t:this.Gu=function(t){return{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];var u;return(u=t).OV.apply(u,[n].concat(_r(r)))},texImage2D:function(n,i,r,e,u,s){return t.MV(n,i,r,e,u,s)},requestVideoFrameCallback:function(n){return t.FV(n)},cancelVideoFrameCallback:function(n){return t.UV(n)}}}(this)}}]),t}();!function(t){t.gn="dimensionchange"}(ZR||(ZR={}));var $R,tN=function(t){function n(n,i){var r;return(r=t.call(this,ZR.gn)||this).width=n,r.height=i,r}return vr(n,t),n}(Va),nN=function(t,n){this.je=t,this.XV=n},iN=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).$V=0,r.eW=0,r.sW=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.eW=n.width,r.$V=n.height,r.XV(r.eW,r.$V)}},r.iW=new qs.ResizeObserver(r.sW),r.iW.observe(r.je),r}return vr(n,t),n.prototype.bn=function(){this.iW.disconnect()},hr(n,[{key:"JV",get:function(){return this.$V}},{key:"tW",get:function(){return this.eW}}]),n}(nN);var rN=["Webkit","Moz","O","ms"],eN=function(){var t=!1;try{if(void 0!==qs&&"function"==typeof qs.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});qs.addEventListener("testPassiveEventSupport",Vr,n),qs.removeEventListener("testPassiveEventSupport",Vr,n)}}catch(t){}return t}(),uN=Vo();function sN(t){return uN.has(t)||uN.set(t,function(t){var n=($R||($R=qs&&qs.document&&qs.document.createElement("span")),$R);if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<rN.length;r++){var e=rN[r]+i;if(void 0!==n.style[e])return e}return t}(t)),uN.get(t)}function oN(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.bottom="0",n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function cN(t){var n=t.style;n.position="absolute",n.left="0",n.top="0",n[sN("transition")]="0s"}var aN=function(t){function n(n,i,u){var s;(s=t.call(this,n,i)||this).nW=0,s.eW=NaN,s.$V=NaN,s.cW=void 0,s.ir=function(){var t=1e5;s.lW.style.width=t+"px",s.lW.style.height=t+"px",s.rW.scrollLeft=t,s.rW.scrollTop=t,s.oW.scrollLeft=t,s.oW.scrollTop=t,0===s.oW.scrollTop&&YR(s.ir)},s.dW=function(){var t=s.tW,n=s.JV;s.XV(t,n),s.eW=t,s.$V=n,s.ir(),s.nW=0},s.hW=function(){if(!s.nW){var t=s.tW,n=s.JV;t===s.eW&&n===s.$V||(s.nW=YR(s.dW))}},s.uW=function(){s.cW||(s.cW=o(s.fW,66))},s.fW=function(){s.cW=void 0,s._W()},s._W=function(){s.hW()};var c=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==c||(n.style.position="relative");var a=e.createElement("div");return s.aW=a,s.rW=e.createElement("div"),s.lW=e.createElement("div"),s.oW=e.createElement("div"),s.gW=e.createElement("div"),oN(s.rW),oN(s.oW),cN(s.lW),function(t){cN(t),t.style.width="200%",t.style.height="200%"}(s.gW),a.appendChild(s.rW),a.appendChild(s.oW),s.rW.appendChild(s.lW),s.oW.appendChild(s.gW),n.appendChild(a),s.rW.addEventListener("scroll",s.hW),s.oW.addEventListener("scroll",s.hW),r&&r.addEventListener("resize",s.uW),s.hW(),s}return vr(n,t),n.prototype.bn=function(){jR(this.nW),this.nW=0,this.rW.removeEventListener("scroll",this.hW),this.oW.removeEventListener("scroll",this.hW),Js(this.aW),r&&r.removeEventListener("resize",this.uW)},hr(n,[{key:"JV",get:function(){return this.je.getBoundingClientRect().height||this.$V||0}},{key:"tW",get:function(){return this.je.getBoundingClientRect().width||this.eW||0}}]),n}(nN),hN=function(t){function n(n){var i;return(i=t.call(this)||this).iW=void 0,i.sW=function(t,n){i.To(new tN(t,n))},i.je=n,i}vr(n,t);var i=n.prototype;return i.kn=function(t){this.iW||("function"==typeof qs.ResizeObserver?this.iW=new iN(this.je,this.sW):this.iW=new aN(this.je,this.sW,t))},i.bn=function(){this.Lo(),this.iW&&(this.iW.bn(),this.iW=void 0)},hr(n,[{key:"JV",get:function(){return this.iW?this.iW.JV:0}},{key:"tW",get:function(){return this.iW?this.iW.tW:0}}]),n}(Ua),fN=function(t){function n(){return t.call(this,KE.oa)}return vr(n,t),n}(Va);var vN=function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{Sl:i[0],Tl:i[1],vW:i[2],wW:i[3],Ke:i[4],mW:i[5]}}}(),dN=function(t){function n(){return t.call(this,KE.fa)}return vr(n,t),n}(Va),lN=function(t){function n(i){var r;return(r=t.call(this)||this).cs=!1,r.pW=function(){return r.fU()},r.yW=function(){return r._U()},r.je=i,r.sa=n.ea(i),e.addEventListener(vN.Ke,r.pW),r.fU(),r}vr(n,t);var i=n.prototype;return i.bo=function(){var t=this.je[vN.Sl]();t&&t.then?t.then(this.pW,this.yW):(e.removeEventListener(vN.mW,this.yW),e.addEventListener(vN.mW,this.yW))},i.Co=function(){var t=e[vN.Tl]();t&&t.then?t.then(this.pW,this.yW):(e.removeEventListener(vN.mW,this.yW),e.addEventListener(vN.mW,this.yW))},i.fU=function(){var t=this.cs,n=this.je===e[vN.vW];this.cs=n,t!==n&&this.To(new fN)},i._U=function(){this.To(new $E)},i.bn=function(){this.Lo(),e.removeEventListener(vN.Ke,this.pW),e.removeEventListener(vN.mW,this.yW)},n.ea=function(t){return Boolean(vN&&e[vN.wW]&&vN.Sl in t)},n}(Ua),_N=function(t){function n(i){var r;return(r=t.call(this)||this).cs=!1,r.pW=function(){return r.fU()},r.je=i,r.sa=n.ea(i),r.je.addEventListener("webkitbeginfullscreen",r.pW),r.je.addEventListener("webkitendfullscreen",r.pW),r.je.addEventListener("webkitpresentationmodechanged",r.pW),r.fU(),r}vr(n,t);var i=n.prototype;return i.bo=function(){var t=this;this.je.webkitSupportsPresentationMode&&this.je.webkitSupportsPresentationMode("fullscreen")?Ir.KP?requestAnimationFrame((function(){return t.je.webkitSetPresentationMode("fullscreen")})):this.je.webkitSetPresentationMode("fullscreen"):this.je.webkitEnterFullscreen()},i.Co=function(){this.je.webkitSupportsPresentationMode&&this.je.webkitSupportsPresentationMode("inline")?this.je.webkitSetPresentationMode("inline"):this.je.webkitExitFullscreen()},i.fU=function(){var t,n=this.cs;t=this.je.webkitPresentationMode?"fullscreen"===this.je.webkitPresentationMode:Boolean(this.je.webkitDisplayingFullscreen),this.cs=t,n!==t&&this.To(new fN)},i.bn=function(){this.Lo(),this.je.removeEventListener("webkitbeginfullscreen",this.pW),this.je.removeEventListener("webkitendfullscreen",this.pW),this.je.removeEventListener("webkitpresentationmodechanged",this.pW)},n.ea=function(t){return Ir.KP&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)},n}(Ua),gN=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).bW=[],n.AW=void 0,n.cU=!1,n.fU=function(){var t=n.cU,i=n.EW();t!==i&&(n.cU=i,n.To(new fN))},n}vr(n,t);var i=n.prototype;return i.bo=function(){this.AW?this.AW.bo():this.To(new $E)},i.Co=function(){for(var t=0,n=this.bW;t<n.length;t++){var i=n[t];i.cs&&i.Co()}},i.TW=function(t){this.AW=t},i.SW=function(t){this.bW.push(t),t.wn(KE.oa,this.fU),t.wn(KE.aa,this.Os),this.fU()},i.kW=function(t){$c(this.bW,t),t.pn(KE.oa,this.fU),t.pn(KE.aa,this.Os)},i.EW=function(){for(var t=0,n=this.bW;t<n.length;t++){if(n[t].cs)return!0}return!1},i.ir=function(){this.AW=void 0,this.cU=!1;for(var t=this.bW.slice(),n=0;n<t.length;n++){var i=t[n];this.kW(i),i.bn()}this.fU()},i.bn=function(){this.Lo(),this.ir()},hr(n,[{key:"sa",get:function(){return!!this.AW&&this.AW.sa}},{key:"cs",get:function(){return this.cU}}]),n}(Ua),wN=function(t){function n(n,i){var r;return(r=t.call(this)||this).ua=!1,r.DW=function(){return r.Kn()},r.fU=function(t){r.ua||r.To(t)},r.t=n,r.IW=i,r.PW=new tI,r.RW(),r.t.wn($l.Zw,r.DW),r.Kn(),r}vr(n,t);var i=n.prototype;return i.bo=function(){this.IW&&this.PW.bo()},i.Co=function(){this.PW.Co()},i.RW=function(){this.PW.wn([KE.oa,KE.fa],this.fU),this.PW.wn(KE.aa,this.Os)},i.xW=function(){this.PW.pn([KE.oa,KE.fa],this.fU),this.PW.pn(KE.aa,this.Os)},i.Kn=function(){var t=this.PW,n=this.t.ev();if(t!==n){this.ua=!0;var i=this.cs,r=this.sa;i&&this.Co(),this.xW(),this.PW=n,this.RW(),i&&!this.cs&&this.sa?this.bo():this.Co(),this.ua=!1,r!==this.sa&&this.To(new dN),i!==this.cs&&this.To(new fN)}},i.bn=function(){this.Lo(),this.xW(),this.t.pn($l.Zw,this.DW)},hr(n,[{key:"sa",get:function(){return!!this.IW&&this.PW.sa}},{key:"cs",get:function(){return this.PW.cs}}]),n}(Ua);function yN(t){var n;return{get url(){return t.TI},get method(){return t.iP},get headers(){return n||(n=t.eP.UI()),n},get body(){return t.tP},get useCredentials(){return t.oP},get type(){return t.Iw},get subType(){return t.rP},get mediaType(){return t.hP},get responseType(){return t.sP}}}function mN(t){switch(t.toLowerCase()){case"arraybuffer":return t_.OI;case"json":return t_.MI;case"stream":return t_.FI;default:return t_.KT}}function pN(t){switch(t.toUpperCase()){case"POST":return N_.POST;case"PUT":return N_.PUT;case"DELETE":return N_.DELETE;case"HEAD":return N_.HEAD;case"OPTIONS":return N_.OPTIONS;default:return N_.GET}}function kN(t){switch(t.toLowerCase()){case"manifest":return C_.WI;case"segment":return C_.qI;case"preload-hint":return C_.zI;case"content-protection":return C_.XI;default:return C_.YT}}function AN(t){switch(t.toLowerCase()){case"initialization-segment":return D_.GI;case"fairplay-license":return D_.QI;case"fairplay-certificate":return D_.KI;case"widevine-license":return D_.jI;case"widevine-certificate":return D_.YI;case"playready-license":return D_.ZI;case"clearkey-license":return D_.JI;case"aes128-key":return D_.$I;default:return D_.YT}}function bN(t){switch(t.toLowerCase()){case"audio":return P_.yy;case"video":return P_.vl;case"text":return P_.KT;case"image":return P_.jT;default:return P_.YT}}var TN=function(){function t(t,n){this.pq=t,this.vq=n,this.nq=new kf,this.dq=[],this.Gu=void 0,this.oq=!1,this.bI=void 0,this.cq=0}var n=t.prototype;return n.jy=function(){this.oq=!0,this.nq.Lf(null)},n.lq=function(){this.nq.BC(new s_(this.dq))},n.fq=function(t){if(!this.aq)throw new v("Cannot respond more than once");if(!Br(t))throw new v("Expected valid response");this.bI=this._q(t),this.jy()},n.gq=function(){try{var t=this.vq(this.ma);t?this.wq(t):this.uq||this.hq||this.jy()}catch(t){this.dq.push(t),this.lq()}},n.wq=function(t){if(this.hq)throw new f("Request has been redirected or a response already exists");if(Ur(t))this.mq(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new kf;try{var i=t((function(t){t?n.BC(t):n.Lf(void 0)}));Ur(i)&&n.U_(i)}catch(t){n.BC(t)}this.mq(n.jf)}},n.mq=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),n.cq++,[4,t];case 1:return r.sent(),n.cq--,n.uq||n.hq||(n.dq.length?n.lq():n.jy()),[3,3];case 2:return i=r.sent(),n.cq--,n.dq.push(i),n.uq||n.hq||n.lq(),[3,3];case 3:return[2]}}))}))()},hr(t,[{key:"iq",get:function(){return this.nq.jf}},{key:"ma",get:function(){return this.Gu||(this.Gu=this.rq()),this.Gu}},{key:"hq",get:function(){return this.oq}},{key:"aq",get:function(){return!this.oq}},{key:"uq",get:function(){return this.cq>0}},{key:"AI",get:function(){return this.bI}}]),t}(),SN=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).yq=r,e.gq(),e}vr(n,t);var i=n.prototype;return i.rq=function(){return function(t){var n,i=yN(t.pI);return{get closed(){return!t.aq},get request(){return i},get url(){return t.TI},get status(){return t.SI},get statusText(){return t.gL},get headers(){return n||(n=t.eP.UI()),n},get body(){return t.tP},respondWith:function(n){return t.fq(n)},waitUntil:function(n){return t.wq(n)}}}(this)},i._q=function(t){return n.Aq(t,this.pq,this.yq)},n.Aq=function(t,n,i){var r=void 0===t.body?i:t.body;return new O_({Ny:r,pI:n.pI,sP:n.pI.sP,eP:t.headers,SI:t.status,gL:t.statusText,gP:t.url,GW:!0},n)},hr(n,[{key:"tP",get:function(){return this.yq}},{key:"eP",get:function(){return this.pq.eP}},{key:"pI",get:function(){return this.pq.pI}},{key:"AI",get:function(){return this.bI}},{key:"SI",get:function(){return this.pq.SI}},{key:"gL",get:function(){return this.pq.gL}},{key:"TI",get:function(){return this.pq.gP}}]),n}(TN),EN=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Sq=void 0,e.bq=r,e.gq(),e}vr(n,t);var i=n.prototype;return i.rq=function(){return function(t){var n;return{get url(){return t.TI},get method(){return t.iP},get headers(){return n||(n=t.eP.UI()),n},get body(){return t.tP},get closed(){return!t.aq},get useCredentials(){return t.oP},get type(){return t.Iw},get subType(){return t.rP},get mediaType(){return t.hP},get responseType(){return t.sP},redirect:function(n){return t.kq(n)},respondWith:function(n){return t.fq(n)},waitUntil:function(n){return t.wq(n)}}}(this)},i._q=function(t){var n=this.pq.tP,i=new O_({Ny:n,eP:{},pI:this.pq,gP:this.pq.TI,sP:this.pq.sP,SI:200,gL:"OK"});return SN.Aq(t,i,n)},i.kq=function(t){if(!this.aq)throw new v("Cannot redirect, already redirected or has a response");var n;n=Mr(t)?{url:t}:t,this.Sq=function(t,n){return new B_({TI:void 0===t.url?n.TI:t.url,iP:void 0!==t.method?pN(t.method):void 0,eP:t.headers,tP:t.body,oP:t.useCredentials,Iw:void 0!==t.type?kN(t.type):void 0,rP:void 0!==t.subType?AN(t.subType):void 0,hP:void 0!==t.mediaType?bN(t.mediaType):void 0,sP:void 0!==t.responseType?mN(t.responseType):void 0},n)}(n,this.pq),this.jy()},hr(n,[{key:"tP",get:function(){return this.pq.tP}},{key:"aq",get:function(){return this.bq&&!this.oq}},{key:"eP",get:function(){return this.pq.eP}},{key:"iP",get:function(){return this.pq.iP}},{key:"Tq",get:function(){return this.Sq}},{key:"AI",get:function(){return this.bI}},{key:"sP",get:function(){return this.pq.sP}},{key:"kI",get:function(){return this.pq.kI}},{key:"nP",get:function(){return this.pq.nP}},{key:"M_",get:function(){return this.pq.M_}},{key:"Iw",get:function(){return this.pq.Iw}},{key:"rP",get:function(){return this.pq.rP}},{key:"hP",get:function(){return this.pq.hP}},{key:"TI",get:function(){return this.pq.TI}},{key:"oP",get:function(){return this.pq.oP}},{key:"aP",get:function(){return this.pq.aP}}]),n}(TN);var IN,RN=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new NN(n);return(r=t.call(this,e,i)||this).Iq=e,r}vr(n,t);var i=n.prototype;return i.Eq=function(t){this.Iq.Eq(t)},i.Pq=function(t){this.Iq.Pq(t)},i.Rq=function(t){this.Iq.Rq(t)},i.Cq=function(t){this.Iq.Cq(t)},i.xq=function(t){this.Iq.xq(t)},n}(M_),NN=function(){function t(t){this.Lq=[],this.Oq=[],this.YW=t}var n=t.prototype;return n.pI=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,n.Dq(t,t.M_)];case 1:return i=e.sent(),[3,5];case 2:return(r=e.sent())instanceof W_?[4,n.Nq(r,t.M_)]:[3,4];case 3:return[2,e.sent()];case 4:throw r;case 5:return[4,n.Bq(i,t.M_)];case 6:if(R_(i=e.sent()))return[2,i];throw new q_(i)}}))}))()},n.PV=function(t){return this.YW.PV(t)},n.Dq=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:ba(n),r=t,u=0,s=i.Lq.slice(),a.label=1;case 1:if(!(u<s.length))return[3,7];if(o=s[u],ba(n),(c=new EN(r,o,!e)).hq)return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,c.iq];case 3:return a.sent(),[3,5];case 4:return a.sent(),[3,6];case 5:c.Tq&&!e?r=c.Tq:c.AI&&!e&&(e=c.AI),a.label=6;case 6:return u++,[3,1];case 7:return e?[2,e]:[2,i.YW.pI(r)]}}))}))()},n.Nq=function(t,n){var i=this;return Mo((function(){var r,e;return Uo(this,(function(u){switch(u.label){case 0:return r=t instanceof q_?t.AI:new O_({Ny:null,pI:t.pI,SI:0,gL:""}),[4,i.Bq(r,n)];case 1:if((e=u.sent())===r)throw t;if(R_(e))return[2,e];throw new q_(e)}}))}))()},n.Bq=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:r=t,e=0,u=i.Oq.slice(),a.label=1;case 1:return e<u.length?(s=u[e],ba(n),[4,$.resolve(r.Iy().Ny(n))]):[3,8];case 2:if(o=a.sent(),(c=new SN(r,s,o)).hq)return[3,6];a.label=3;case 3:return a.trys.push([3,5,,6]),[4,c.iq];case 4:return a.sent(),[3,6];case 5:return a.sent(),[3,7];case 6:r=c.AI||r,a.label=7;case 7:return e++,[3,1];case 8:return[2,r]}}))}))()},n.Eq=function(t){this.Lq.unshift(t)},n.Pq=function(t){this.Lq.push(t)},n.Rq=function(t){$c(this.Lq,t)},n.Cq=function(t){this.Oq.unshift(t)},n.xq=function(t){$c(this.Oq,t)},n.bn=function(){this.YW.bn(),ea(this.Lq),ea(this.Oq)},t}(),CN=function(){function t(t){this.fP=t}var n=t.prototype;return n.Eq=function(t){this.fP.Eq(t)},n.Rq=function(t){this.fP.Rq(t)},n.Cq=function(t){this.fP.Cq(t)},n.xq=function(t){this.fP.xq(t)},hr(t,[{key:"ma",get:function(){return this.Gu||(this.Gu=function(t){return{addRequestInterceptor:function(n){t.Eq(n)},removeRequestInterceptor:function(n){t.Rq(n)},addResponseInterceptor:function(n){t.Cq(n)},removeResponseInterceptor:function(n){t.xq(n)}}}(this)),this.Gu}}]),t}(),DN=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).qq=n,e.fP=i,e.GF=r,e.zq=function(t){e.To(t)},e.Xq=function(t){e.To(t)},e.qq.wn($l._m,e.zq),e.qq.wn($l.fm,e.Xq),e}vr(n,t);var i=n.prototype;return i.Fq=function(t){this.GF.Fq(t)},i.Eq=function(t){this.fP.Eq(t)},i.Rq=function(t){this.fP.Rq(t)},i.Cq=function(t){this.fP.Cq(t)},i.xq=function(t){this.fP.xq(t)},i.bn=function(){this.Lo(),this.qq.pn($l._m,this.zq),this.qq.pn($l.fm,this.Xq)},hr(n,[{key:"ma",get:function(){return this.Gu||(this.Gu=function(t){return{get online(){return t.Dg},get estimator(){return function(t){return{get bandwidth(){return t.IO},get roundTripTime(){return t.PO}}}(t.Mq)},setEstimator:function(n){t.Fq(function(t){if(!t)return;return{get IO(){return cy(t.bandwidth)},get PO(){return cy(t.roundTripTime)},RO:function(n){return function(t){if(!t)return;return{Uq:function(n){t.markRequestStart(n)},Hq:function(n){t.markResponseStart(n)},Vq:function(n,i){t.markResponseData(n,i)},Wq:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(yN(n)))}}}(n))},addRequestInterceptor:function(n){t.Eq(n)},removeRequestInterceptor:function(n){t.Rq(n)},addResponseInterceptor:function(n){t.Cq(n)},removeResponseInterceptor:function(n){t.xq(n)},addEventListener:function(n,i){t.wn(n,i)},removeEventListener:function(n,i){t.pn(n,i)}}}(this)),this.Gu}},{key:"Dg",get:function(){return this.qq.Dg}},{key:"Mq",get:function(){return this.GF.Mq}}]),n}(Ua);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(IN||(IN={}));function PN(t,n,i,r,e,u){var s=[],o=t-l.max(u,1),c=t+e;if(n&&i){var a=Ce(i,1,5),h=n-a;o=l.min(o,h);var f=n+i+a;c=l.max(c,f)}return 0!==o&&r.EF(0,o)&&s.push([0,o]),r.EF(c,1/0)&&s.push([c,1/0]),s}function ON(t){return t instanceof f&&"QuotaExceededError"===t.name}var BN={type:IN.BANDWIDTH};function LN(t){var n=ty(BN);return Mr(t)?n.type=MN(t):Br(t)&&function(t){switch(t){case IN.PERFORMANCE:case IN.QUALITY:case IN.BANDWIDTH:return!0;default:return!1}}(t.type)&&(n.type=MN(t.type)),Br(t)&&Br(t.metadata)&&(n.metadata=function(t){var n={},i=oy(t.bitrate);return w(i)||(n.bitrate=i),n}(t.metadata)),n}function MN(t){switch(t){case"bandwidth":return IN.BANDWIDTH;case"performance":return IN.PERFORMANCE;case"quality":return IN.QUALITY}}var xN=function(t){function n(n){var i;return(i=t.call(this,"Gq")||this).Qq=n,i}return vr(n,t),n}(Va),UN=function(t){function n(n){var i;return(i=t.call(this,"Kq")||this).jq=n,i}return vr(n,t),n}(Va),FN=function(t){function n(n){var i;return(i=t.call(this,"Yq")||this).Zq=n,i}return vr(n,t),n}(Va),HN=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Gu=function(t){return{get strategy(){return function(t){return{metadata:t.metadata,type:t.type}}(t.jq)},set strategy(n){t.jq=LN(n)},get targetBuffer(){return t.Qq},set targetBuffer(n){var i=oy(n);w(i)||(t.Qq=i)},get bufferLookbackWindow(){return t.Zq},set bufferLookbackWindow(n){var i=oy(n);w(i)||(t.Zq=i<=0?30:i)},get maxBufferLength(){return t.oz},get clearBufferWhenSettingTargetQuality(){return t.fz},set clearBufferWhenSettingTargetQuality(n){t.fz=uy(n)}}}(Uc(n)),n.ez=BN,n.iz=20,n.rz=30,n.nz=1/0,n._z=!1,n.cz=void 0,n}vr(n,t);var i=n.prototype;return i.Jq=function(t){this.$q=t},i.Fq=function(t){this.cz=t},i.lz=function(t){var n=l.min(t,.8*this.nz);if(n=l.max(10,n),this.nz===n)return!1;var i=this.sz;this.nz=n;var r=this.sz;return r!==i&&this.To(new xN(r)),!0},hr(n,[{key:"tz",get:function(){switch(this.ez.type){case IN.PERFORMANCE:return 0;case IN.QUALITY:return 1/0;case IN.BANDWIDTH:return this.ez.metadata&&void 0!==this.ez.metadata.bitrate?this.ez.metadata.bitrate:BT.lC.wO();default:return BT.lC.wO()}}},{key:"ma",get:function(){return this.Gu}},{key:"jq",get:function(){return this.ez},set:function(t){this.ez=t,this.To(new UN(t))}},{key:"Qq",get:function(){return this.iz},set:function(t){this.iz=t,this.To(new xN(t))}},{key:"sz",get:function(){return l.min(this.iz,this.nz)}},{key:"Zq",get:function(){return this.rz},set:function(t){this.rz=t,this.To(new FN(t))}},{key:"oz",get:function(){return this.nz}},{key:"Mq",get:function(){var t;return null!=(t=this.cz)?t:this.$q.sM}},{key:"fz",get:function(){return this._z},set:function(t){this._z=t}}]),n}(Ua),VN=function(t){function n(){return t.call(this,"Uv")}return vr(n,t),n.prototype.pa=function(){return new XN},n}(Hw),XN=function(t){function n(){return t.call(this,"change")}return vr(n,t),n}(Va),zN=function(t){function n(n,i,r){var e;(e=t.call(this,r)||this).vz=function(t){Vw(t)&&Ca((function(){e.To(t.ma)}))},e.gz=n,e.cV=i;for(var u=0,s=e.cV;u<s.length;u++){var o=s[u];e.gz.wn(o,e.vz)}return e}return vr(n,t),n.prototype.bn=function(){this.Lo();for(var t=0,n=this.cV;t<n.length;t++){var i=n[t];this.gz.pn(i,this.vz)}},n}(Ua),WN=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).vz=function(t){Vw(t)&&Ca((function(){r.To(t.ma)}))},r.gz=n,r.gz.Q_(r.vz),r}return vr(n,t),n.prototype.bn=function(){this.Lo(),this.gz.J_(this.vz)},n}(Ha);var GN=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).US=0,n.WS=1/0,n}vr(n,t);var i=n.prototype;return i.ir=function(){0===this.US&&this.WS===1/0||(this.US=0,this.WS=1/0,this.To(new VN))},i.wz=function(){return new ZE([this.PS,this.RS],[!0,!0])},hr(n,[{key:"PS",get:function(){return this.US},set:function(t){if(this.RS<=t)throw new f("Start time of a clip should be smaller than the end time.");this.US!==t&&(this.US=t,this.To(new VN))}},{key:"RS",get:function(){return this.WS},set:function(t){if(t<=this.PS)throw new f("End time of a clip should be larger than the start time.");this.WS!==t&&(this.WS=t,this.To(new VN))}},{key:"ma",get:function(){return this.Gu||(this.Gu=function(t){var n,i={get startTime(){return t.PS},set startTime(n){t.PS=n},get endTime(){return t.RS},set endTime(n){t.RS=n},addEventListener:function(t,i){n.wn(t,i)},removeEventListener:function(t,i){n.pn(t,i)}};return n=new WN(t,i),i}(this)),this.Gu}}]),n}(Ha),qN=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).pz=!1,e.Iz=void 0,e.Pz=!1,e.bz=function(){e.Az(),e.mz()},e.SM=function(){e.Tz(),e.mz(),e.Ez&&e.Wu>=e.xc.RS-n.Rz&&!e.Ic&&(e.Iz=YR(e.SM))},e.Sz=function(){e.Pz=!0},e.kz=function(){e.Pz&&(e.Pz=!1,e.mz())},e.xc=r,e.xc.wn("Uv",e.bz),e.hg.wn($l.Lu,e.SM),e}vr(n,t);var i=n.prototype;return i.gg=function(n){var i=this.xc.wz().vF(n);t.prototype.gg.call(this,i),this.mz()},i.pg=function(){return t.prototype.pg.call(this)||this.pz},i.Vg=function(){return ZE.Sn(t.prototype.Vg.call(this)).Cn(this.xc.wz()).ws()},i.dl=function(){this.pg()?this.gg(this.yz.start(0)):this.Az(),t.prototype.dl.call(this),this.mz()},i.ba=function(n,i){var r=this;return Mo((function(){return Uo(this,(function(e){switch(e.label){case 0:return ba(i),r.pz=!1,r.xc.ir(),[4,t.prototype.ba.call(r,n,i)];case 1:return e.sent(),[2]}}))}))()},i.bn=function(){return this.xc.pn("Uv",this.bz),this.hg.pn($l.Lu,this.SM),this.Tz(),t.prototype.bn.call(this)},i.yv=function(n){switch(n.type){case $l.If:return this.To(n),this.Sz(),!0;case $l.Tf:case $l.jw:return this.To(n),this.kz(),!0;case $l.Pf:if(this.Ez)return!0}return t.prototype.yv.call(this,n)},i.Tz=function(){this.Iz&&(jR(this.Iz),this.Iz=void 0)},i.mz=function(){var t=this.Wu,i=this.Ez&&t>=this.xc.RS-n.cE;this.pz&&!i?(this.pz=!1,this.Dc&&this.dl()):this.pz||!i||this.Fc||this.Pz||(this.pz=!0,this.To(new AE(t)),this.jl())},i.Az=function(){if(this.ct!==1/0){var t=this.yz,i=ZE.Sn(t).vF(this.Wu);De(this.Wu,i,n.cE)||this.gg(i)}},hr(n,[{key:"yz",get:function(){return this.Vg().length?this.Vg():this.xc.wz().ws()}},{key:"Ez",get:function(){return this.xc.RS<this.ct}}]),n}(oS);qN.Rz=1,qN.cE=.001;var YN=function(){function t(){this.xz=!1}return hr(t,[{key:"Cz",get:function(){return this.xz},set:function(t){this.xz=t}}]),t}(),jN=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Nz=!1,r.Dz=!1,r.xz=i,r}vr(n,t);var i=n.prototype;return i.pg=function(){return!this.xz.Cz&&t.prototype.pg.call(this)},i.jl=function(){this.Dz=!0,t.prototype.jl.call(this)},i.dl=function(){this.Dz=!1,t.prototype.dl.call(this)},i.yv=function(n){if(this.xz.Cz)switch(n.type){case $l.Pf:return this.Wu=0,this.Dz||(this.Fc?this.Nz=!0:this.dl()),!0;case $l.Tf:this.Nz&&(this.Nz=!1,this.dl());break;case $l.Ch:if(this.Nz||t.prototype.pg.call(this))return!0}return t.prototype.yv.call(this,n)},n}(oS);var QN=function(){function t(t){this.Ko=t,this.Gu=function(t){return{get currentBandwidthEstimate(){return t.hS},get corruptedVideoFrames(){return t.nS},get droppedVideoFrames(){return t.sS},get totalBytesLoaded(){return t.oS},get bufferedSegments(){return t.aS}}}(this)}return hr(t,[{key:"ma",get:function(){return this.Gu}},{key:"nS",get:function(){return this.Ko.Pg.nS}},{key:"hS",get:function(){return this.Ko.Pg.hS}},{key:"sS",get:function(){return this.Ko.Pg.sS}},{key:"Bz",get:function(){throw new f("Not implemented")}},{key:"Lz",get:function(){throw new f("Not implemented")}},{key:"oS",get:function(){return this.Ko.Pg.oS}},{key:"rS",get:function(){return this.Ko.Pg.rS}},{key:"aS",get:function(){return this.Ko.Pg.aS}}]),t}();function KN(t){if(!t||!ao(t))return{sS:0,nS:0,rS:0,hS:0,oS:0,aS:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{sS:n.droppedVideoFrames,nS:n.corruptedVideoFrames||0,rS:n.totalVideoFrames}}return{sS:t.webkitDroppedFrameCount||0,nS:0,rS:t.webkitDecodedFrameCount||0}}var ZN=function(t){function n(){return t.call(this,"Oz")}return vr(n,t),n.prototype.pa=function(){return new JN},n}(Hw),JN=function(t){function n(){return t.call(this,"castingchange")}return vr(n,t),n}(Va);var $N=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Fz=void 0,n.Uz=void 0,n.Kz=!1,n.Gu=void 0,n.Gz=function(){var t=n.Kz,i=n.Mz;t!==i&&(n.Kz=i,n.To(new ZN))},n}vr(n,t);var i=n.prototype;return i.qz=function(t){this.Fz=t,this.zz(t)},i.Xz=function(t){this.Uz=t,this.zz(t)},i.zz=function(t){t.wn("statechange",this.Gz)},i.Qz=function(t){t.pn("statechange",this.Gz)},i.bn=function(){this.Lo(),this.Fz&&(this.Qz(this.Fz),this.Fz=void 0),this.Uz&&(this.Qz(this.Uz),this.Uz=void 0)},hr(n,[{key:"Mz",get:function(){var t,n;return(null==(t=this.Fz)?void 0:t.Mz)||(null==(n=this.Uz)?void 0:n.Mz)||!1}},{key:"Vz",get:function(){return this.Fz}},{key:"Wz",get:function(){return this.Uz}},{key:"ma",get:function(){return this.Gu||(this.Gu=function(t){var n,i={get casting(){return t.Mz},get airplay(){var n;return null==(n=t.Vz)?void 0:n.ma},get chromecast(){var n;return null==(n=t.Wz)?void 0:n.ma},addEventListener:function(t,i){n.wn(t,i)},removeEventListener:function(t,i){n.pn(t,i)}};return n=new zN(t,["Oz"],i),i}(this)),this.Gu}}]),n}(Ua),tC=function(){function t(){}return t.jz=function(t,n){return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),i=new B_({TI:t,sP:t_.KT,iP:N_.GET}),[4,n.pI(i)];case 1:return[4,r.sent().Ny()];case 2:return[2,r.sent().trim()];case 3:return Aa(r.sent()),[2,void 0];case 4:return[2]}}))}))()},t.Yz=function(t){try{var n=_R(t);return new kR(n.key,n.domains_page,n.domains_source,n.expiration_date,n.features,n.customer_id,n.generation_date,n.sdks,n.send_impression)}catch(t){throw new Dl(Rl.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.Zz=function(t){void 0===t&&(t=iR.dh),tr.Um("The baked-in license is used. Please update the configuration with your license.");var n=t.lH("F2b-iL'[FL[S"),i=JSON.parse('["F$(:_L50F|aY"]').map((function(n){return t.lH(n)})),r=JSON.parse('[".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.lH(n)})),e=Number(new Date(Number(t.lH('COD|aHpHa:p3Ceo3Co""')))),u=JSON.parse("[]").map((function(n){return t.lH(n)}));return new kR(n,i,r,e,u)},t.convertLicenseToDummyLicense=function(t){return new kR(t.pH,t.yH,t.AH,864e13,t.TH,t.SH,Date.now(),t.EH,t.IH)},t}(),nC="https://validate.theoplayer.com/1/",iC=72e5,rC=l.floor(14399999*l.random()-iC),eC="THEOplayer.license",uC=function(){function t(t,n,i,r,e,u){this.fP=t,this.nX=n,this.uX=i,this.gV=r,this.eX=e,this.Px=u,this.WH=RR(u)}var n=t.prototype;return n.Xf=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return[4,t.tX(t.eX.license,t.eX.licenseUrl)];case 1:return n=i.sent(),t.gV.iX(n),[2]}}))}))()},n.tX=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c,a,h;return Uo(this,(function(f){switch(f.label){case 0:return r=n,t?e=tC.Yz(t):r||(e=tC.Zz()),r||(r=nC+e.pH),u=i.sX(),e?(s=i.nX.OH(e))!==wR.vH?[3,3]:i.rX(e.bH)&&i.rX(null==u?void 0:u.bH)?[4,i.hX(r)]:[3,2]:[3,3];case 1:if(o=f.sent())return[2,o];f.label=2;case 2:return[2,e];case 3:return u?i.nX.OH(u)!==wR.vH?[3,6]:i.rX(null==u?void 0:u.bH)?[4,i.hX(r)]:[3,5]:[3,7];case 4:if(c=f.sent())return[2,c];f.label=5;case 5:return[2,u];case 6:rS.NC(eC),f.label=7;case 7:return[4,tC.jz(r,i.fP)];case 8:if(a=f.sent()){if(h=tC.Yz(a),i.nX.OH(h)===wR.vH)return rS.dO(eC,a),[2,h];rS.NC(eC)}else if(!i.WH&&e&&s===wR.wH&&r===nC+e.pH)return[2,tC.convertLicenseToDummyLicense(e)];if(!e&&!h)throw new Dl(Rl.LICENSE_ERROR,"The given license is invalid!");return i.oX(null!=e?e:h,new Dl(Rl.LICENSE_ERROR,"The given license is invalid!")),[2]}}))}))()},n.xH=function(t){var n=this;return Mo((function(){var i,r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:return[4,n.gV._V()];case 1:return i=a.sent(),n.rX(i.bH)?(e=null!=(r=n.eX.licenseUrl)?r:nC+i.pH,[4,n.hX(e)]):[3,3];case 2:(u=a.sent())&&(n.gV.iX(u),i=u),a.label=3;case 3:try{if((s=n.nX.OH(i))===wR.mH)throw o=pR.PH,new Dl(bR(o),CR.LH(o));if(s===wR.wH)throw c=pR.wH,new Dl(bR(c),CR.LH(c));n.nX.xH(t,i)}catch(t){n.aX(t)}return[2]}}))}))()},n.Wf=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return[4,n.gV._V()];case 1:i=r.sent();try{n.nX.Wf(t,i)}catch(t){n.aX(t)}return[2]}}))}))()},n.hX=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,tC.jz(t,n.fP)];case 1:return void 0===(i=e.sent())?[2,void 0]:(r=tC.Yz(i),n.nX.OH(r)===wR.vH?(rS.dO(eC,i),[2,r]):[2,void 0]);case 2:return e.sent(),[2,void 0];case 3:return[2]}}))}))()},n.rX=function(t){return!t||Number(new Date)+2592e5+rC>=t},n.sX=function(){var t=rS.RC(eC);if(t)return tC.Yz(t)},n.oX=function(t,n){this.gV.iX(t),this.aX(n)},n.aX=function(t){throw $r(t.message),this.uX.mV(t.message),t},t}(),sC=function(){function t(){this.lX=new kf}var n=t.prototype;return n.iX=function(t){this.cX=t,this.lX.Lf()},n._V=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.cX?[2,$.resolve(t.cX)]:[4,t.lX.jf];case 1:return n.sent(),[2,t.cX]}}))}))()},hr(t,[{key:"dX",get:function(){return this.cX}}]),t}(),oC=function(t){function n(){return t.call(this,"Uv")}return vr(n,t),n.prototype.pa=function(){return new cC},n}(Hw),cC=function(t){function n(){return t.call(this,"change")}return vr(n,t),n}(Va);function aC(t){var n,i={get fontFamily(){return t.fX},set fontFamily(n){t.fX=n},get fontColor(){return t._X},set fontColor(n){t._X=n},get fontSize(){return t.gX},set fontSize(n){t.gX=n},get backgroundColor(){return t.vX},set backgroundColor(n){t.vX=n},get windowColor(){return t.wX},set windowColor(n){t.wX=n},get edgeStyle(){return t.mX},set edgeStyle(n){t.mX=n},get marginTop(){return t.pX},set marginTop(n){t.pX=n},get marginBottom(){return t.yX},set marginBottom(n){t.yX=n},get marginLeft(){return t.AX},set marginLeft(n){t.AX=n},get marginRight(){return t.bX},set marginRight(n){t.bX=n},addEventListener:function(t,i){var r=fy(t,ay);n.wn(r,i)},removeEventListener:function(t,i){var r=fy(t,ay);n.pn(r,i)}};return n=new Fa(i),t.wn(["Uv"],(function(t){return n.To(t.ma)})),i}var hC={fX:void 0,_X:void 0,gX:void 0,vX:void 0,wX:void 0,mX:void 0,TX:void 0,pX:void 0,yX:void 0,AX:void 0,bX:void 0},fC="THEOplayer.textTrackStyle.",vC=function(t){function n(){var i;return(i=t.call(this)||this).Gu=void 0,i.kX=n.IX(),i}return vr(n,t),n.prototype.Kn=function(t){this.kX=xo({},this.kX,t),n.EX(this.kX),this.To(new oC)},n.IX=function(){var t=xo({},hC);return t.fX=rS.RC(fC+"fontFamily")||t.fX,t._X=rS.RC(fC+"fontColor")||t._X,t.gX=rS.RC(fC+"fontSize")||t.gX,t.vX=rS.RC(fC+"backgroundColor")||t.vX,t.wX=rS.RC(fC+"windowColor")||t.wX,t.mX=rS.RC(fC+"edgeStyle")||t.mX,t},n.EX=function(t){rS.dO(fC+"fontFamily",t.fX||""),rS.dO(fC+"fontColor",t._X||""),rS.dO(fC+"fontSize",t.gX||""),rS.dO(fC+"backgroundColor",t.vX||""),rS.dO(fC+"windowColor",t.wX||""),rS.dO(fC+"edgeStyle",t.mX||"")},hr(n,[{key:"SX",get:function(){return this.kX}},{key:"fX",get:function(){return this.kX.fX},set:function(t){this.Kn({fX:t})}},{key:"_X",get:function(){return this.kX._X},set:function(t){this.Kn({_X:t})}},{key:"gX",get:function(){return this.kX.gX},set:function(t){this.Kn({gX:t})}},{key:"vX",get:function(){return this.kX.vX},set:function(t){this.Kn({vX:t})}},{key:"wX",get:function(){return this.kX.wX},set:function(t){this.Kn({wX:t})}},{key:"mX",get:function(){return this.kX.mX},set:function(t){this.Kn({mX:t})}},{key:"TX",get:function(){return this.kX.TX}},{key:"pX",get:function(){return this.kX.pX},set:function(t){this.Kn({pX:t})}},{key:"yX",get:function(){return this.kX.yX},set:function(t){this.Kn({yX:t})}},{key:"bX",get:function(){return this.kX.bX},set:function(t){this.Kn({bX:t})}},{key:"AX",get:function(){return this.kX.AX},set:function(t){this.Kn({AX:t})}},{key:"ma",get:function(){return this.Gu||(this.Gu=aC(this)),this.Gu}}]),n}(Ua);function dC(t,n){var i,r;t.style.marginLeft=(null!=(i=n.AX)?i:0)+"px",t.style.marginRight=(null!=(r=n.bX)?r:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}var lC,_C=[$l.Ph,$l.Ch,qk.Qf,$l.Lu,$l.Rf,$l.Ef,$l.If,$l.Tf,$l.Pf,$l.Vu,$l.Il,$l.Nf,qk.Bf,$l.vm,jp.aa,xa.Yw,xa.TC,$l.Gw,$l.Xw,$l.Sm,$l.im,$l.hm,$l.$w,$l.Zw],gC={PX:!1};function wC(t){return t.xb.Iw===Gk.wB}!function(t){t.RX="CX"}(lC||(lC={}));var yC,mC=["CX"];!function(t){t[t.xX=0]="xX",t[t.FI=1]="FI",t[t.DX=2]="DX"}(yC||(yC={}));var pC,kC=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.sH="NX"}(pC||(pC={}));var AC=function(t){function n(n,i,r,e){var u;(u=t.call(this)||this).QX=!1,u.KX=new kf,u.MX=!1,u.qX=new Ul,u.hN=void 0,u.VX=function(){u.MX=!0},u.WX=function(){u.GX(!0)},u.al=n,u.KO=i,u.nB=i.JO,u.UX=r,u.AN=e,u.nB.addEventListener("loadedmetadata",u.VX);for(var s=0;s<kC.length;s++){var o=kC[s];u.nB.addEventListener(o,u.WX)}return u}vr(n,t);var i=n.prototype;return i.BX=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return[4,i.AN.yN(t.dC,n)];case 1:return[4,e.sent().cN()];case 2:return r=e.sent(),[4,i.LX(r)];case 3:return e.sent(),[2,r]}}))}))()},i.OX=function(t){var n=this,i=this.hN;return i?0!==t.hM.length&&t.hM.some((function(t){return t.ap.dC===i.ap})):0!==this.al.hM.length?t.hM.some((function(t){return n.al.hM.some((function(n){return t.ap===n.ap}))})):0===t.hM.length||!this.MX},i.FX=function(t){return this.UX.FX(t),this.al=t,$.resolve()},i.HX=function(t){return!1},i.Ou=function(){var t=this;return Mo((function(){var n,i;return Uo(this,(function(r){switch(r.label){case 0:for(t.Lo(),t.nB.removeEventListener("loadedmetadata",t.VX),n=0;n<kC.length;n++)i=kC[n],t.nB.removeEventListener(i,t.WX);return[4,t.qX.bn()];case 1:return r.sent(),t.zX(),[4,t.UX.ir()];case 2:return r.sent(),[4,t.XX(void 0)];case 3:return r.sent(),[2]}}))}))()},i.GX=function(t){t!==this.QX&&(this.QX=t,t?this.KX.Lf(void 0):this.KX=new kf)},i.LX=function(t){var n=this;return this.qX.GN((function(){return n.XX(t)}))},i.XX=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:if(t&&!n.nB.src)throw new by(Rl.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&n.nB.src)throw new by(Rl.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return!t||n.QX?[3,2]:[4,n.KX.jf];case 1:r.sent(),r.label=2;case 2:return(i=n.hN)?[4,i.aN(n.nB)]:[3,4];case 3:r.sent(),n.hN=void 0,r.label=4;case 4:return t?[4,t.kn(n.nB)]:[3,6];case 5:r.sent(),n.hN=t,r.label=6;case 6:return[2]}}))}))()},i.ba=function(t){var n=this;return this.qX.GN((function(){return n.jX(t)}))},i.jX=function(t){this.GX(!1);var n=this.KO.$u;if(function(t){if(void 0!==r.ManagedMediaSource&&t instanceof r.ManagedMediaSource)return!0;if("undefined"!=typeof MediaSource&&t instanceof MediaSource)return!0;return!1}(t))if(function(t){return"srcObject"in t&&Ir.KP&&Ir.UR>=17}(this.nB))try{this.nB.srcObject=t}catch(n){this.nB.src=URL.createObjectURL(t)}else this.nB.src=URL.createObjectURL(t);else this.nB.src=t;this.KO.$u=n},i.YX=function(t){var n=this;return this.qX.GN((function(){return n.ZX(t)}))},i.ZX=function(t){this.jX(t),this.nB.load()},i.zX=function(){this.GX(!1),ho(this.nB)},i.JX=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.hN?[4,t.hN.ir()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},hr(n,[{key:"ht",get:function(){throw new f("Not implemented")}},{key:"xb",get:function(){return this.al}},{key:"JO",get:function(){return this.nB}},{key:"rt",get:function(){throw new f("Not implemented")}}]),n}(Ua);var bC,TC=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.Jq=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:switch((n=t.xb).aM){case RS.Vm:case RS.Wm:t.nB.setAttribute("crossorigin",n.aM);break;case RS.Hm:default:t.nB.removeAttribute("crossorigin")}return void 0!==n.Mg?t.nB.preload=n.Mg:t.nB.preload=GE.EO,void 0!==n.uM?t.nB.title=n.uM:co(t.nB),[4,t.ba(n.Pw)];case 1:return i.sent(),t.UX.On(t,n),[2]}}))}))()},i.OX=function(t){return!1},i.FX=function(t){return $.resolve(void 0)},i.Ou=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return co(n.nB),[4,t.prototype.Ou.call(n)];case 1:return i.sent(),[2]}}))}))()},n.iG=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.rM))},hr(n,[{key:"bl",get:function(){return ZE.Sn(this.nB.buffered)}},{key:"ct",get:function(){return this.nB.duration}},{key:"$X",get:function(){var t=this.ct;if(!isFinite(t))return!1;var n=this.bl;return 0!==n.U&&t-n.Pn(n.U-1)<He}},{key:"Mg",get:function(){return this.nB.preload},set:function(t){this.nB.preload=t}},{key:"kl",get:function(){return ZE.Sn(this.nB.seekable)}},{key:"tG",get:function(){return this.bl}},{key:"eG",get:function(){if(ao(this.nB)&&(this.nB.videoWidth>0||this.nB.videoHeight>0))return this.bl}}]),n}(AC),SC=function(t){function n(n){var i;return(i=t.call(this,$l.Rf)||this).currentTime=n,i}return vr(n,t),n}(Va),EC=function(t){function n(){return t.call(this,$l.Ef)}return vr(n,t),n}(Va);!function(t){t.sG="nG"}(bC||(bC={}));var IC=function(t){function n(n){var i;return(i=t.call(this,"nG")||this).rG=n,i}return vr(n,t),n}(Va),RC=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).oG=ZE.Nl(),n}vr(n,t);var i=n.prototype;return i.aG=function(t,n){var i=new ZE([t,n]);this.oG=this.oG.Hl(i),this.To(new IC(i))},i.uG=function(t,n){this.oG=this.oG.bF(new ZE([t,n]))},i.ir=function(){this.oG=ZE.Nl()},i.bn=function(){this.Lo()},hr(n,[{key:"hG",get:function(){return this.oG}}]),n}(Ua);var NC,CC=function(){function t(t,n){var i=n.size,r=void 0===i?function(){return 1}:i,e=n.highWaterMark,u=void 0===e?1:e,s=this;this.Cd=[],this.xd=0,this.lX=void 0,this.fG=!1,this.gG=void 0,this.vG=function(t){return t.done?(s.dG(),void s.lX.close()):(s.Cd.push(t.value),s.xd+=s.mG(t.value),s.fG&&s.dG(),s.cG()?s.wd.read().then(s.vG):void 0)},this.wG=function(t){s.dG(),s.lX.error(t)},this.wd=t.getReader(),this.mG=r,this._G=u}var n=t.prototype;return n.start=function(t){this.lX=t,this.cG()&&this.lG()},n.pull=function(){this.Cd.length>0?this.dG():this.fG=!0,this.cG()&&this.lG()},n.cancel=function(t){return ea(this.Cd),this.xd=0,this.fG=!1,this.wd.cancel(t)},n.dG=function(){if(0!==this.Cd.length){var t=this.Cd;this.Cd=[],this.xd=0,this.fG=!1,this.lX.enqueue(t)}},n.cG=function(){return!!this.fG||this._G-this.xd>0},n.lG=function(){var t=this;if(!this.gG){var n=this.wd.read().then(this.vG).catch(this.wG);this.gG=n;var i=function(){t.gG===n&&(t.gG=void 0)};n.then(i,i)}},t}(),DC=function(){function t(){this.yG=[],this.iA=0}var n=t.prototype;return n.pG=function(t){this.yG.push(t),this.iA+=t.byteLength},n.AG=function(t){if(this.iA<=t)return this.bG();for(var n=this.yG,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.slice(0,r);if(r<n.length&&i<t){var u=t-i;0,e.push(hf(n[r],0,u)),i+=u}return{yG:e,iA:i}},n.TG=function(t){var n=this.AG(t);return 1===n.yG.length?n.yG[0]:vh(n.yG,n.iA)},n.bG=function(){return{yG:this.yG,iA:this.iA}},n.SG=function(t){if(this.iA<=t)return this.kG();for(var n=this.yG,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.splice(0,r);if(n.length>0&&i<t){var u=t-i;0,e.push(hf(n[0],0,u)),n[0]=hf(n[0],u),i+=u}return this.iA-=i,{yG:e,iA:i}},n.EG=function(t){var n=this.SG(t);return 1===n.yG.length?n.yG[0]:vh(n.yG,n.iA)},n.kG=function(){var t=this.bG();return this.yG=[],this.iA=0,t},n.IG=function(){var t=1===this.yG.length?this.yG[0]:vh(this.yG,this.iA);return this.yG=[],this.iA=0,t},t}();!function(t){t[t.PG=0]="PG",t[t.CG=1]="CG",t[t.xG=2]="xG"}(NC||(NC={}));var PC=function(){function t(){this.Cd=new DC,this.Pa=0,this.FG=0,this.QG=0,this.WG()}var n=t.prototype;return n.DG=function(t,n){},n.NG=function(){},n.BG=function(t){this.Cd.pG(t),this.LG(!1)},n.OG=function(){this.LG(!0)},n.MG=function(){return 0!==this.Pa||0!==this.Cd.iA},n.LG=function(t){for(;0!==this.Cd.iA;){if(!t&&this.FG>this.Cd.iA)return;switch(this.Pa){case 0:this.UG(t);break;case 1:this.HG(t);break;case 2:this.VG(t)}}},n.WG=function(){this.Pa=0,this.FG=8},n.UG=function(t){var n=vf(this.Cd.TG(this.FG)),i=new mf,r=Bp.tA(n,i);if(!r.jy)return this.FG=r.sA,void(t&&this.FG>this.Cd.iA&&this.qG(this.Cd.iA));var e=r.eA.Iw,u=r.eA.iA;0===u&&(u=1/0),this.DG(e,u),this.zG(e)?this.XG(u):this.qG(u)},n.XG=function(t){this.Pa=1,this.FG=t},n.HG=function(t){var n=vf(this.Cd.EG(this.FG)),i=new mf,r=Bp.Yy(n,i,!t);if(!r.jy)throw new Op(i.Au);this.NG(),this.GG(r.Zy),this.WG()},n.qG=function(t){this.Pa=2,this.FG=0,this.QG=t},n.VG=function(t){var n=this.Cd.SG(this.QG);this.QG-=n.iA;for(var i=0,r=n.yG;i<r.length;i++){var e=r[i];this.KG(e)}(0===this.QG||t&&this.QG===1/0)&&(this.NG(),this.WG())},t}();function OC(t){return t instanceof kd}function BC(t){return t instanceof md}function LC(t){return t instanceof gd||t instanceof wd}function MC(t){return t instanceof Vv}function xC(t){return t instanceof wv}function UC(t){return t instanceof ad}function FC(t){return t instanceof od}function HC(t){return t instanceof Od}function VC(t){return t instanceof Dd}function XC(t){return t instanceof Id}function zC(t){return t instanceof Nd}function WC(t,n){var i=jc(t.boxes,XC);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var r=0,e=t.boxes;r<e.length;r++){var u=e[r];u instanceof Nd&&u.flags.dataOffsetPresent&&(u.dataOffset=u.dataOffset+n)}}var GC=function(t){function n(n){var i;return(i=t.call(this)||this).iQ=Xo(),i.oQ=n,i}vr(n,t);var i=n.prototype;return i.start=function(t){this.lX=t},i.transform=function(t){this.BG(t)},i.flush=function(){this.OG()},i.zG=function(t){return t===Hm.pp||t===Hm.Yp||t===Hm._y},i.GG=function(t){var n=this.jG(t);this.lX.enqueue(n)},i.KG=function(t){this.lX.enqueue(t)},i.jG=function(t){var n=df(t.Ny.Ny);switch(t.Iw){case"moov":return this.YG(n);case"sidx":return this.ZG(n);case"moof":return this.JG(n)}return n},i.eQ=function(t){var n=this.iQ.get(t);if(void 0===n)throw new f("Expected to have found a media header timescale for track ID "+t+".");return n},i.YG=function(t){for(var n=Zd(t),i=0;i<n.boxes.length;i++){var r=n.boxes[i];r instanceof vd?n.boxes[i]=this.sQ(r):r instanceof dd?n.boxes[i]=this.nQ(r):r instanceof md&&this.rQ(r)}for(var e=0,u=n.boxes;e<u.length;e++){var s=u[e];s instanceof ad&&this.hQ(s)}return n.serialize().join()},i.sQ=function(t){this.tQ=t.timescale;var n=jC(Ee.fromNumber(t.duration,!0),this.$G,this.oQ);return 0!==n.getHighBits()?this.nQ(function(t){return new dd({creation:Ee.fromNumber(t.creationTime,!0),modification:Ee.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:Ee.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.oQ,t.duration=n.toInt(),t)},i.nQ=function(t){return this.tQ=t.timescale,t.timescale=this.oQ,t.duration=jC(t.duration,this.$G,this.oQ),t},i.rQ=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof gd?(n=r.trackId,t.boxes[i]=this.aQ(r)):r instanceof wd?(n=r.trackId,t.boxes[i]=this.uQ(r)):r instanceof Vv?this.cQ(r,n):r instanceof Cv&&this.lQ(r)}},i.aQ=function(t){var n=jC(Ee.fromNumber(t.duration,!0),this.$G,this.oQ);return 0!==n.getHighBits()?this.uQ(function(t){return new wd({creation:Ee.fromNumber(t.creationTime,!0),modification:Ee.fromNumber(t.modificationTime,!0),duration:Ee.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.uQ=function(t){return t.duration=jC(t.duration,this.$G,this.oQ),t},i.cQ=function(t,n){for(var i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof xv?t.boxes[i]=this.dQ(r,n):r instanceof Uv&&(t.boxes[i]=this.fQ(r,n))}},i.dQ=function(t,n){this.iQ.set(n,t.timescale);var i=jC(Ee.fromNumber(t.duration,!0),t.timescale,this.oQ);return 0!==i.getHighBits()?this.fQ(function(t){return new Uv({creation:Ee.fromNumber(t.creationTime,!0),modification:Ee.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:Ee.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.oQ,t.duration=i.toInt(),t)},i.fQ=function(t,n){return this.iQ.set(n,t.timescale),t.timescale=this.oQ,t.duration=jC(t.duration,t.timescale,this.oQ),t},i.lQ=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var r=i[n];r instanceof Iv?this._Q(r):r instanceof Rv&&this.gQ(r)}},i._Q=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=YC(r.mediaTime,this.$G,this.oQ),r.segmentDuration=YC(r.segmentDuration,this.$G,this.oQ)}},i.gQ=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=jC(r.mediaTime,this.$G,this.oQ),r.segmentDuration=jC(r.segmentDuration,this.$G,this.oQ)}},i.hQ=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof od?this.vQ(i):i instanceof ed?t.boxes[n]=this.wQ(i):i instanceof ud&&(t.boxes[n]=this.mQ(i))}},i.vQ=function(t){var n=this.eQ(t.trackId);t.defaultSampleDuration=YC(t.defaultSampleDuration,n,this.oQ)},i.wQ=function(t){var n=jC(Ee.fromNumber(t.fragmentDuration,!0),this.$G,this.oQ);return 0!==n.getHighBits()?this.mQ(function(t){return new ud(Ee.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.mQ=function(t){return t.fragmentDuration=jC(t.fragmentDuration,this.$G,this.oQ),t},i.ZG=function(t){var n=Jd(t);return(n=n instanceof Fd?this.pQ(n):this.yQ(n)).serialize().join()},i.pQ=function(t){var n=t.timescale,i=jC(Ee.fromNumber(t.earliestPresentationTime,!0),n,this.oQ);if(0!==i.getHighBits())return this.yQ(function(t){return new Hd(t.referenceId,t.timescale,Ee.fromNumber(t.earliestPresentationTime,!0),Ee.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.oQ,t.earliestPresentationTime=i.toInt();for(var r=0,e=t.references;r<e.length;r++){var u=e[r];u.subsegmentDuration=YC(u.subsegmentDuration,n,this.oQ)}return t},i.yQ=function(t){var n=t.timescale;t.timescale=this.oQ,t.earliestPresentationTime=jC(t.earliestPresentationTime,n,this.oQ);for(var i=0,r=t.references;i<r.length;i++){var e=r[i];e.subsegmentDuration=YC(e.subsegmentDuration,n,this.oQ)}return t},i.JG=function(t){for(var n=$d(t),i=n.getSize(),r=0,e=n.boxes;r<e.length;r++){var u=e[r];u instanceof Dd&&this.AQ(u)}var s=n.getSize();if(s!==i)for(var o=s-i,c=0,a=n.boxes;c<a.length;c++){var h=a[c];h instanceof Dd&&WC(h,o)}return n.serialize().join()},i.AQ=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof Id?(n=this.eQ(r.trackId),this.bQ(r,n)):r instanceof Td?t.boxes[i]=this.TQ(r,n):r instanceof Sd?t.boxes[i]=this.SQ(r,n):r instanceof Nd&&this.kQ(r,n)}},i.bQ=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=YC(t.defaultSampleDuration,n,this.oQ))},i.TQ=function(t,n){var i=jC(Ee.fromNumber(t.baseMediaDecodeTime,!0),n,this.oQ);return 0!==i.getHighBits()?this.SQ(function(t){return new Sd(Ee.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.SQ=function(t,n){return t.baseMediaDecodeTime=jC(t.baseMediaDecodeTime,n,this.oQ),t},i.kQ=function(t,n){for(var i=0,r=0,e=0,u=t.samples;e<u.length;e++){var s=u[e];if(void 0!==s.duration){var o=YC(r+=s.duration,n,this.oQ);s.duration=o-i,i=o}void 0!==s.compositionTimeOffset&&(s.compositionTimeOffset=qC(s.compositionTimeOffset,n,this.oQ))}},hr(n,[{key:"$G",get:function(){if(void 0===this.tQ)throw new f("Expected to have found a movie header timescale.");return this.tQ}}]),n}(PC);function qC(t,n,i){return Ee.fromInt(t,!1).multiply(i).divide(n).toNumber()}function YC(t,n,i){return Ee.fromInt(t,!0).multiply(i).divide(n).toNumber()}function jC(t,n,i){return Rm.Ek(t).Yk(Rm.Ik(i,!0)).tE(Rm.Ik(n,!0)).Uk()}var QC,KC,ZC,JC=function(){function t(t){this.IQ=new GC(t)}return t.prototype.EQ=function(t){return t.pipeThrough(new Qi(this.IQ))},t}();function $C(t,n,i){var r=Dh(t,n);if(r!==i)throw new v("Expected descriptor with tag "+i+", but found "+r)}function tD(t,n){$C(t,n,3);var i,r,e,u=nD(t,n),s=n.Au+u,o=xh(t,n),c=Dh(t,n),a=0!=(64&c),h=0!=(32&c),f=31&c;(0!=(128&c)&&(i=xh(t,n)),a)&&(r=Wh(t,n,Dh(t,n)));h&&(e=Wh(t,n,2));var v=function(t,n){$C(t,n,4);var i,r=nD(t,n),e=n.Au+r,u=Dh(t,n),s=Dh(t,n),o=s>>2,c=0!=(2&s),a=Mh(t,n,3),h=Fh(t,n),f=Fh(t,n);if(n.Au<e){var v=function(t,n){return t.getUint8(n.Au)}(t,n);5===v&&(i=function(t,n){$C(t,n,5);var i=nD(t,n),r=Oh(t,n,i);return{RQ:5,CQ:r}}(t,n))}return n.gc(e),{RQ:4,xQ:u,DQ:o,NQ:c,BQ:a,LQ:h,OQ:f,MQ:i}}(t,n);return n.gc(s),{RQ:3,o:o,FQ:i,TI:r,UQ:f,HQ:e,VQ:v}}function nD(t,n){for(var i=0,r=0;r<4;r++){var e=Dh(t,n);if(i=i<<7|127&e,!(128&e))break}return i}function iD(t,n){for(var i=Dh(t,n),r=Dh(t,n),e=Dh(t,n),u=Dh(t,n),s=3&Dh(t,n),o=31&Dh(t,n),c=[],a=0;a<o;a++){var h=xh(t,n);c.push(Oh(t,n,h))}for(var f=Dh(t,n),v=[],d=0;d<f;d++){var l=xh(t,n);v.push(Oh(t,n,l))}return{WQ:i,qQ:r,zQ:e,XQ:u,GQ:s,QQ:c,KQ:v}}function rD(t,n,i){if(!(i&&n.byte>=i)){var r=t.RC(n.byte);return n.byte+=1,r}}function eD(t,n){return function(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=256*r+rD(t,n);return r}(t,n,2)}!function(t){t[t.jQ=3]="jQ",t[t.YQ=4]="YQ",t[t.ZQ=5]="ZQ"}(QC||(QC={})),function(t){t[t.JQ=64]="JQ",t[t.$Q=103]="$Q",t[t.tK=107]="tK"}(KC||(KC={})),function(t){t[t.eK=0]="eK",t[t.iK=1]="iK",t[t.$Q=2]="$Q",t[t.sK=5]="sK",t[t.nK=34]="nK"}(ZC||(ZC={}));var uD,sD=function(){function t(){this.oK=0,this.hK=[],this.WE={}}var n=t.prototype;return n.rK=function(t){this.hK=this.hK.concat(t.hK),this.oK+=t.U},n.aK=function(t,n,i){var r=this.oK,e=i-n;e>0&&(this.hK.push({uK:n,cK:i,lK:e,dK:r,fK:t}),this.oK+=e)},n.RC=function(t){for(var n=0,i=this.hK;n<i.length;n++){var r=i[n];if(r.dK<=t&&t<r.dK+r.lK)return r.fK[t+r.uK-r.dK]}},n._K=function(t,n){for(var i=n,r=0,e=this.hK;r<e.length;r++)for(var u=e[r],s=u.cK,o=u.uK;o<s;o+=1,i+=1)t[i]=u.fK[o];return i},n.gK=function(){for(var t=new y(this.oK),n=0,i=0,r=this.hK;i<r.length;i++)for(var e=r[i],u=e.cK,s=e.uK;s<u;s+=1,n+=1)t[n]=e.fK[s];return t},n.Iy=function(n){for(var i=new t,r=0,e=this.hK;r<e.length;r++){var u=e[r];i.aK(u.fK,u.uK,u.cK)}return i.WE=n||xo({},this.WE),i},hr(t,[{key:"U",get:function(){return this.oK},set:function(t){var n=this.hK,i=this.oK-t;if(!(t>=this.oK))if(this.oK=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.lK)return e.cK-=i,e.lK-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.lK}else n.length=0}},{key:"Ny",get:function(){for(var t=new Array(this.oK),n=0,i=0,r=this.hK;i<r.length;i++)for(var e=r[i],u=e.cK,s=e.uK;s<u;s+=1,n+=1)t[n]=e.fK[s];return t}}]),t}(),oD=[128,64,32,16,8,4,2,1];function cD(t,n){var i=l.floor(n.bit/8),r=0==(t.RC(i)&oD[n.bit%8])?0:1;return n.bit+=1,r}function aD(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=2*r+cD(t,n);return r}function hD(t,n){for(var i=0;0===cD(t,n)&&i<32;)i+=1;return aD(t,n,i)+l.pow(2,i)-1}function fD(t,n){var i=hD(t,n);return 1&i?l.floor((i+1)/2):-l.floor(i/2)}function vD(t,n){var i,r=[],e={byte:1};do{r.push(lD(t,n,e)),i=n.RC(e.byte)}while(void 0!==i&&128!==i);return r}function dD(t,n){var i,r=0;do{r+=i=rD(t,n)}while(255===i);return r}function lD(t,n,i){var r=dD(n,i),e=dD(n,i),u=i.byte,s=u+e;return i.byte=s,{vK:t,wK:r,mK:e,pK:u,yK:s,AK:n}}!function(t){t[t.bK=1]="bK",t[t.TK=2]="TK",t[t.SK=3]="SK",t[t.kK=4]="kK",t[t.EK=5]="EK",t[t.IK=6]="IK",t[t.PK=7]="PK",t[t.RK=8]="RK",t[t.CK=9]="CK"}(uD||(uD={}));var _D=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function gD(t,n,i){for(var r=8,e=8,u=0;u<i;u+=1){if(0!==e)e=(r+fD(t,n)+256)%256;r=0===e?r:e}}var wD=function(){function t(t){this.DK=[],this.NK=0,this.BK=t}var n=t.prototype;return n.xK=function(){for(var t=this.DK,n=l.max(0,this.NK+t.length-2),i=this.BK,r=i.U,e=0;n<r;n+=1){var u=i.RC(n);0===u?e+=1:(3===u&&e>=2&&t.push(n),e=0)}this.NK=n-t.length},n.LK=function(t){for(var n=this.DK,i=t,r=0;r<n.length;r++){if(!(n[r]<=i))return i;i+=1}return i},n.RC=function(t){if(!(t>this.BK.U))return t>this.NK&&this.xK(),this.BK.RC(this.LK(t))},t}();function yD(t){var n,i,r,e,u,s,o=new wD(t),c=0,a=0,h=0,f=0,v=o.RC(1),d={bit:32};if(hD(o,d),100===v||110===v||122===v||144===v){var _=hD(o,d);if(3===_&&(n=cD(o,d)),hD(o,d),hD(o,d),cD(o,d),1===cD(o,d))for(var g=0;g<(3!==_?8:12);g+=1){1===cD(o,d)&&gD(o,d,g<6?16:64)}}var w=hD(o,d),y=hD(o,d);if(0===y)hD(o,d);else if(1===y){cD(o,d),fD(o,d),fD(o,d);for(var m=hD(o,d),p=0;p<m;p+=1)fD(o,d)}hD(o,d),cD(o,d);var k=hD(o,d),A=hD(o,d),b=cD(o,d);if(0===b&&cD(o,d),cD(o,d),1===cD(o,d)&&(c=hD(o,d),a=hD(o,d),h=hD(o,d),f=hD(o,d)),1===cD(o,d)){if(1===cD(o,d)){var T=aD(o,d,8);if(255===T)i=aD(o,d,16),r=aD(o,d,16);else{var S=_D[T];S&&(i=S[0],r=S[1])}}if(1===cD(o,d)&&cD(o,d),1===cD(o,d))aD(o,d,3),cD(o,d),1===cD(o,d)&&(aD(o,d,8),aD(o,d,8),aD(o,d,8));1===cD(o,d)&&(hD(o,d),hD(o,d)),1===(e=cD(o,d))&&(u=aD(o,d,32),s=aD(o,d,32),cD(o,d))}return{width:l.floor(16*(k+1)-2*c-2*a),height:l.floor((2-b)*(A+1)*16-2*h-2*f),eT:i,iT:r,MK:e?s/(2*u):void 0,FK:n,UK:w}}function mD(t){var n=Pp(Fp.uA(t),Hm.pp);if(n){for(var i=n.eA.IA,r=[],e=0,u=n.Z;e<u.length;e++){for(var s=u[e],o=s.eA.MA,c=s.NA.eA.IA,a=void 0,h=void 0,f=void 0,v=0,d=s.NA.zA.QA.jA.ZA;v<d.length;v++){var l,_,g,w=pD(d[v]);if(w)a=null!=(l=w.HK)?l:a,h=null!=(_=w.VK)?_:h,f=null!=(g=w.WK)?g:f}r.push({MA:o,IA:c,HK:a,VK:h,WK:f})}return{IA:i,Z:r}}}function pD(t){var n,i,r;if(t.Iw===Hm.Dp){var e,u=iD(vf(t.Db.Ny),new mf);n=function(t){return"avc1."+kD(t.qQ,2)+kD(t.zQ,2)+kD(t.XQ,2)}(u),r=null==(e=function(t){if(0===t.QQ.length)return;var n=t.QQ[0],i=new sD;return i.aK(n,0,n.byteLength),yD(i)}(u))?void 0:e.MK}else if(t.Iw===Hm.Bp||t.Iw===Hm.Lp){var s=function(t,n){for(var i=n.xy(),r=yh(t,i,8),e=yh(t,i,2),u=yh(t,i,1),s=yh(t,i,5),o=yh(t,i,32),c=[],a=0;a<6;a++)c.push(yh(t,i,8));var h=yh(t,i,8);i.Ey(4);var f=yh(t,i,12);i.Ey(6);var v=yh(t,i,2);i.Ey(6);var d=yh(t,i,2);i.Ey(5);var l=yh(t,i,3);i.Ey(5);for(var _=yh(t,i,3),g=yh(t,i,16),w=yh(t,i,2),y=yh(t,i,3),m=yh(t,i,1),p=yh(t,i,2),k=yh(t,i,8),A=[],b=0;b<k;b++){var T=yh(t,i,1);i.Ey(1);for(var S=yh(t,i,6),E=yh(t,i,16),I=[],R=0;R<E;R++){var N=yh(t,i,16),C=Oh(t,new mf(i.Au>>3),N);i.Ey(8*N),I.push({qK:N,zK:C})}A.push({XK:T,GK:S,QK:E,KK:I})}return{WQ:r,jK:e,YK:u,ZK:s,JK:c,$K:h,tj:f,ej:v,ij:o,sj:d,nj:l,rj:_,hj:g,aj:y,uj:m,cj:w,GQ:p,lj:k,dj:A}}(vf(t.Ob.Ny),new mf);n=function(t,n){var i=t.toString()+".";switch(n.jK){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.ZK.toString()+".",i+=function(t){var n=t;return n=n>>>1&1431655765|(1431655765&n)<<1,n=n>>>2&858993459|(858993459&n)<<2,n=n>>>4&252645135|(252645135&n)<<4,n=n>>>8&16711935|(16711935&n)<<8,n=n>>>16|n<<16,n}(n.ij).toString(16)+".",n.YK){case 0:i+="L";break;case 1:i+="H";break;default:return}i+=n.$K.toString();for(var r=n.JK.reduce((function(t,n){return 0===t?n:n+1}),0),e=0;e<r;e++)i+="."+n.JK[e].toString(16).toUpperCase();return i}(t.Iw,s)}else if(t.Iw===Hm.Mp){var o=function(t,n){var i=n.xy(),r=yh(t,i,8);i.Ey(24);for(var e=yh(t,i,8),u=yh(t,i,8),s=yh(t,i,4),o=yh(t,i,3),c=wh(t,i),a=yh(t,i,8),h=yh(t,i,8),f=yh(t,i,8),v=yh(t,i,16),d=new Array(8),l=0;l<v;l++)d[l]=yh(t,i,8);return{WQ:r,_j:e,gj:u,vj:s,wj:o,mj:c,Zb:a,Jb:h,$b:f,pj:v,yj:d}}(vf(t.Fb.Ny),new mf);n=function(t,n){var i=t.toString()+".";return i+="0"+n._j+".",i+=Ec(""+n.gj,2,"0")+".",i+=Ec(""+n.vj,2,"0")+".",i+=Ec(""+n.wj,2,"0")+".",i+=Ec(""+n.Zb,2,"0")+".",i+=Ec(""+n.Jb,2,"0")+".",i+=Ec(""+n.$b,2,"0")+".",i+="0"+n.mj,i}(t.Iw,o)}else if(t.Iw===Hm.Up){var c=function(t,n){var i=n.xy();i.Ey(1);var r=yh(t,i,7),e=yh(t,i,3),u=yh(t,i,5),s=wh(t,i),o=wh(t,i),c=wh(t,i),a=wh(t,i),h=wh(t,i),f=wh(t,i),v=yh(t,i,2);i.Ey(3);var d,l=wh(t,i);return l?d=yh(t,i,4):i.Ey(4),{oA:r,Aj:e,bj:u,Tj:s,Sj:o,Ej:c,Ij:a,Pj:h,Rj:f,Cj:v,xj:l,Dj:d}}(vf(t.Vb.Ny),new mf);n=function(t,n,i){var r=t.toString()+".";if(r+=n.Aj+".",r+=""+Ec(""+n.bj,2,"0"),r+=(0===n.Tj?"M":"H")+".",r+=(1===n.Ej?12:10)+".",r+=(1===n.Aj?0:n.Ij)+".",r+=""+n.Pj+n.Rj+(1===n.Pj&&1===n.Rj?n.Cj:"0"),i&&i.Yb===Xm.ON_SCREEN_COLOURS){var e=i;r+="."+Ec(""+e.Zb,2,"0")+"."+Ec(""+e.Jb,2,"0")+"."+Ec(""+e.$b,2,"0")+"."+(e.tT?1:0)}return r}(t.Iw,c,t.Wb)}else{if(t.Iw!==Hm.qp)return(t.Iw===Hm.jp||t.Iw===Hm.Kp)&&t.Xb?pD(t.Xb):void 0;i=function(t){var n=t.VQ;switch(n.xQ){case KC.JQ:return function(t){var n;if(!(null==(n=t.MQ)?void 0:n.CQ))return"mp4a.40";var i=function(t,n){var i=yh(t,n,5);31===i&&(i=32+yh(t,n,6));var r,e=yh(t,n,4);return 15===e&&(r=yh(t,n,24)),{Nj:i,Bj:e,Lj:r,Oj:yh(t,n,4)}}(vf(t.MQ.CQ),new mh);return"mp4a.40."+i.Nj}(n);case KC.$Q:return"mp4a.40.2";case KC.tK:return"mp4a.40.34"}}(tD(vf(t.kb.Ny),new mf))}return{HK:n,VK:i,WK:r}}function kD(t,n){var i=t.toString(16);return Ec(i,n,"0")}function AD(t,n){var i=Fp.uA(vf(t)),r=function(t,n){for(var i,r=function(t,r){var e,u=r[t],s=null==(e=u.vT)?void 0:e.vT;if(s){var o=u.eA.MA,c=jc(n.Z,(function(t){return t.MA===o})),a=Om.Ek(s,c.IA);i&&!a.vk(i)||(i=a)}},e=0,u=t.Z;e<u.length;e++)r(e,u);return i}(Pp(i,Hm.Yp),n),e=Pp(i,Hm.oy);return{PS:r.hk(),Mj:e.Ny}}function bD(t,n){return TD.apply(this,arguments)}function TD(){return TD=Mo((function(t,n){var i;return Uo(this,(function(r){switch(r.label){case 0:switch(t.Iw){case yC.xX:return[3,1];case yC.FI:return[3,2];case yC.DX:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,a_(t.Ny,n)];case 3:return i=r.sent(),ba(n),[2,{Iw:yC.xX,Ny:new y(i)}];case 4:throw new f("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 5:return[2]}}))})),TD.apply(this,arguments)}var SD=Ir.MR,ED=function(t){function n(n,i,r,e,u){var s,o;if((s=t.call(this)||this).iz=20,s.rz=30,s.Fj=!1,s.rY=!1,s.wY=void 0,s.pY=new pa,s.Kj=!1,s.jj=void 0,s.Xj=!1,s.Gj=void 0,s.yY=function(){s.Fj=!1},s.AY=function(t){t.removedRanges&&s.To(new Va(lC.RX))},s.uY=i,s.tY=n,s.Uj=r,s.Uj.addEventListener("updateend",s.yY),s.Uj.addEventListener("bufferedchange",s.AY),s.fY=e,s.gY=u,s.Xj=ID(e.rM,u),null==(o=i.xb)?void 0:o.bY){var c,a=null!=(c=i.xb.TY)?c:1e5;s.Zj=new JC(a)}return s}vr(n,t);var i=n.prototype;return i.Hj=function(t,n,i){var r=this;switch(t.Iw){case yC.xX:case yC.FI:return this.Vj((function(i){return r.Wj(t,n,i)}),i);case yC.DX:throw new f("Opaque segments are not supported on web.")}},i.qj=function(t,n){var i=this;switch(t.Iw){case yC.xX:return this.Vj((function(n){return i.zj(t,n)}),n);case yC.FI:throw new f("Streaming initialization segments are not supported on web.");case yC.DX:throw new f("Opaque initialization segments are not supported on web.")}},i.zj=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return i.Xj?(i.Gj=mD(vf(t.Ny)),[2]):[4,i.Qj(t,void 0,n)];case 1:return r.sent(),SD&&(i.Kj=!1,i.jj=t),[2]}}))}))()},i.Wj=function(t,n,i){var r=this;return Mo((function(){var e,u,s;return Uo(this,(function(o){switch(o.label){case 0:return SD&&r.Kj&&r.jj?[4,r.zj(r.jj,i)]:[3,2];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,,6,7]),ba(i),r.Xj&&r.Gj?[4,bD(t,i)]:[3,4];case 3:e=o.sent(),u=AD(e.Ny,r.Gj),t={Iw:yC.xX,Ny:u.Mj},n=xo({},n,{NE:u.PS+(null!=(s=n.NE)?s:0)}),o.label=4;case 4:return[4,r.Qj(t,n,i)];case 5:return o.sent(),r.To(new Va(lC.RX)),[3,7];case 6:return t.Iw===yC.FI&&t.Ny.cancel(new ka).catch(Vr),[7];case 7:return[2]}}))}))()},i.Qj=function(t,n,i){var r=this;return Mo((function(){var e,u;return Uo(this,(function(s){switch(s.label){case 0:return ba(i),n?[4,r.Yj(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:switch(t.Iw){case yC.xX:return[3,3];case yC.FI:return[3,7]}return[3,11];case 3:return r.Zj?(e=r.Zj.EQ(o_(t.Ny)),[4,r.Jj(e,i)]):[3,5];case 4:return[2,s.sent()];case 5:return[4,r.$j(t.Ny)];case 6:return[2,s.sent()];case 7:return r.Zj?(u=r.Zj.EQ(t.Ny),[4,r.Jj(u,i)]):[3,9];case 8:return[2,s.sent()];case 9:return[4,r.Jj(t.Ny,i)];case 10:return[2,s.sent()];case 11:return[2]}}))}))()},i.Jj=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c,a,h,f;return Uo(this,(function(v){switch(v.label){case 0:r=i.tY.bl,e=function(t,n){return void 0===n&&(n=new ji({highWaterMark:1/0})),new Fi(new CC(t,n),{highWaterMark:0})}(t),u=e.getReader(),s=!1,v.label=1;case 1:v.trys.push([1,6,,12]),v.label=2;case 2:return[4,Ea(u.read(),n)];case 3:return(o=v.sent()).done?(s=!1,[3,5]):(ba(n),c=fh(o.value),s=!0,[4,i.$j(c)]);case 4:return v.sent(),[3,2];case 5:return[3,12];case 6:return a=v.sent(),u.cancel(a).catch(Vr),s?[4,i.eY()]:[3,11];case 7:v.sent(),h=i.tY.bl.Cn(r.wF()),f=0,v.label=8;case 8:return f<h.U?[4,i.iY(h.Tn(f),h.Pn(f))]:[3,11];case 9:v.sent(),v.label=10;case 10:return f++,[3,8];case 11:throw a;case 12:return[2]}}))}))()},i.sY=function(t,n){var i=this;return this.Vj((function(){return i.nY(t,n)}))},i.nY=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return i.Uj.appendWindowStart===t&&i.Uj.appendWindowEnd===n?[3,2]:[4,i.eY()];case 1:r.sent(),i.Uj.appendWindowStart=0,i.Uj.appendWindowEnd=n,i.Uj.appendWindowStart=t,r.label=2;case 2:return[2]}}))}))()},i.Yj=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:if(n.Uj.timestampOffset===t.NE)return[2];i.label=1;case 1:return i.trys.push([1,2,,4]),n.Uj.timestampOffset=t.NE,[3,4];case 2:return i.sent(),[4,n.eY()];case 3:return i.sent(),n.Uj.timestampOffset=t.NE,[3,4];case 4:return[2]}}))}))()},i.$j=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.Uj.appendBuffer(t),n.rY=!0,[4,n.hY()];case 1:return i.sent(),[2]}}))}))()},i.oY=function(t,n,i){var r=this;return this.Vj((function(i){return r.iY(t,n,i)}),i)},i.iY=function(t,n,i){var r=this;return Mo((function(){return Uo(this,(function(e){switch(e.label){case 0:return ba(i),r.Uj.remove(t,n),[4,r.hY()];case 1:return e.sent(),[2]}}))}))()},i.hY=function(){var t=this,n=this.tY.bl;return new $((function(i,r){var e,u=!1,s=function(){u=!0},o=function(){u=!1,e="error"},c=function(){u=!1,e="aborted"},a=function(){h(),u&&!e?(n.PF(t.tY.bl)||t.To(new Va(lC.RX)),i()):r(new f(e))},h=function(){t.Uj.removeEventListener("update",s),t.Uj.removeEventListener("error",o),t.Uj.removeEventListener("abort",c),t.Uj.removeEventListener("updateend",a)};t.Uj.addEventListener("update",s),t.Uj.addEventListener("error",o),t.Uj.addEventListener("abort",c),t.Uj.addEventListener("updateend",a)}))},i.aY=function(){var t=this;return this.Vj((function(){return t.eY()}))},i.eY=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:if(t.uY.Nc!==zD.vI)return[2];SD&&(t.Kj=!0),t.Uj.updating&&(t.Fj=!0);try{t.Uj.abort()}catch(n){0,t.Fj=!1}return t.ua?[4,t.hY().catch(Vr)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},i.cY=function(){return"function"==typeof this.Uj.changeType},i.FX=function(t){if(this.lY(),this.uY.Nc!==zD.dY){var n;this.fY=t;var i=null!=(n=this.uY._Y(t.rM))?n:t.rM;this.Xj=ID(t.rM,this.gY),this.cY()&&!Tc(this.gY,i)&&(this.gY=i,this.Uj.changeType(this.gY))}},i.vY=function(){this.uY.Nc!==zD.Pf||this.wY||this.ua||(this.Uj.timestampOffset=this.Uj.timestampOffset,this.uY.mY())},i.Vj=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:i.lY(),(r=new pa).U_(i.pY.M_),n&&r.U_(n),e.label=1;case 1:return e.trys.push([1,,5,6]),i.wY=t(r.M_),[4,i.wY];case 2:return e.sent(),i.uY.mY(),i.ua?[4,i.hY()]:[3,4];case 3:e.sent(),e.label=4;case 4:return[3,6];case 5:return i.wY=void 0,r.Ou(),[7];case 6:return[2]}}))}))()},i.lY=function(){if(this.wY)throw new f("Internal error")},i.Ou=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.Lo(),t.pY.Jl(),t.wY?[4,t.wY.catch(Vr)]:[3,2];case 1:n.sent(),t.wY=void 0,n.label=2;case 2:return t.Uj.removeEventListener("updateend",t.yY),t.Uj.removeEventListener("bufferedchange",t.AY),[2]}}))}))()},hr(n,[{key:"Qq",get:function(){return this.iz},set:function(t){this.iz=t}},{key:"Zq",get:function(){return this.rz},set:function(t){this.rz=t}},{key:"ua",get:function(){return this.Fj||this.Uj.updating}}]),n}(Ua);function ID(t,n){return Ac(t,"audio/mp4")&&Ac(n,"audio/mpeg")}var RD=function(){function t(t,n){this.kY=void 0,this.SY=n,this.Uj=t}var n=t.prototype;return n.$X=function(){return!!this.kY&&this.bl.gF().br(this.kY)},n.EY=function(){var t=this.bl;this.kY=t.U>0?t.Pn(t.U-1):0,this.SY.IY()},n.vY=function(){this.kY=void 0},hr(t,[{key:"bl",get:function(){if(this.SY.Nc===zD.dY)return ZE.Nl();var t=ZE.Sn(this.Uj.buffered).Cn(new ZE([0,1/0])),n=this.kY;return void 0!==n&&t.U>0&&t.Pn(t.U-1)===n&&(t=t.Hl(ZE.OF(n))),t}}]),t}();function ND(t){var n=t.eI("codecs");return n?n.split(",").map((function(t){return t.trim()})):[]}function CD(t,n){var i=DD(t)||PD(t),r=DD(n)||PD(n);return!i&&!r||t===n}function DD(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function PD(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function OD(t,n){if(t===n)return!0;var i=t.split("."),r=n.split("."),e=i[0];if(e!==r[0])return!1;if("mp4a"===e){var u=Fo(i,3),s=u[1],o=u[2],c=Fo(r,3),a=c[1],h=c[2];if(s!==a)return!1;if(Number(o)!==Number(h))return!1}return!0}function BD(t,n,i,r,e,u,s){var o=new RD(e,t),c=new ED(o,t,e,i,u);return new LD(t,n,i,r,o,c,s)}var LD=function(t){function n(n,i,r,e,u,s,o){var c;return(c=t.call(this)||this).OY=Vo(),c.uY=n,c.al=r,c.BN=r.rM,c.RY=e,c.KO=i,c.tY=u,c.DY=s,c.xY=o,c.DY.wn(lC.RX,c.Os),c}vr(n,t);var i=n.prototype;return i.$X=function(){return this.tY.$X()},i.EY=function(){this.tY.EY()},i.vY=function(){this.tY.vY(),this.DY.vY()},i.NY=function(t,n){this.xY.aG(t,n)},i.BY=function(t,n){this.xY.uG(t,n)},i.LY=function(){return this.DY.aY()},i.Hj=function(t,n,i){return this.DY.Hj(t,n,i)},i.qj=function(t,n,i){return this.DY.qj(t,i)},i.sY=function(t,n){return Ir._R&&Ir.vR<3?this.DY.sY(t,1/0):this.DY.sY(t,n)},i.Qu=function(t,n,i){var r=this;return Mo((function(){var e,u;return Uo(this,(function(s){switch(s.label){case 0:return r.BY(t,n),e=r.bl,[4,r.DY.oY(t,n,i)];case 1:return s.sent(),u=0!==e.U&&0===r.bl.U,(Ir.GR||Ir.mR)&&u&&r.KO.gc(r.KO.Wu),[2]}}))}))()},i.OX=function(t){var n=t.rM;if(this.BN===n)return!0;var i=this.OY.get(n);if(void 0!==i)return i;var r=this.MY(t);return this.OY.set(n,r),r},i.MY=function(t){var n=this.uY._Y(t.rM);if(void 0===n)return!1;var i=hl(this.BN),r=hl(n),e=ND(i),u=ND(r);if(this.DY.cY()){if(!function(t,n){return ga(t,n,CD)}(e,u))return!1}else{if(i.Iw!==r.Iw)return!1;if(!function(t,n){return ga(t,n,OD)}(e,u))return!1}return!0},i.FX=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){return i=t.rM,n.BN!==i&&(n.OY.clear(),n.DY.FX(t),n.BN=i),n.al=t,n.uY.FY(),[2]}))}))()},i.Ou=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:t.OY.clear(),t.Lo(),t.xY.bn(),n.label=1;case 1:return n.trys.push([1,3,,4]),t.DY.pn(lC.RX,t.Os),[4,t.DY.Ou()];case 2:return n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))()},hr(n,[{key:"bl",get:function(){return this.tY.bl}},{key:"xb",get:function(){return this.al}},{key:"rM",get:function(){return this.BN}},{key:"PY",get:function(){return this.RY}},{key:"CY",get:function(){return this.xY.hG}},{key:"Qq",get:function(){return this.DY.Qq},set:function(t){this.DY.Qq=t}},{key:"Zq",get:function(){return this.DY.Zq},set:function(t){this.DY.Zq=t}},{key:"ua",get:function(){return this.DY.ua}}]),n}(Ua),MD=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.Tn=t,this.Pn=n,this.HY=i,this.VY=r,this.WY=tr.V_()}return t.prototype.UY=function(){var t=this.Tn,n=this.Pn;if(this.HY||this.VY){var i=.001*(tr.V_()-this.WY);this.HY&&(t+=i),this.VY&&(n+=i)}return ZE.MF(t,n)},t}(),xD=.5,UD=[$l.Ph,$l.Ch,$l.If,$l.Tf,$l.im,$l.hm,$l.Pf,$l.Vu,qk.Bf,jp.aa],FD=function(){function t(t,n,i,r){var e=this;this.tY=t,this.QY=n,this.KO=i,this.ZY=!1,this.zY=[],this.YY=0,this.iZ=0,this.fZ=0,this.$Y=0,this.uZ=0,this.rZ=0,this._Z=1,this.XY=function(t){var n=e.KO.Wu,i=t.rG.br(n),r=t.rG.br(n,xD)&&e.KO.Nc<=jk.Hf;(i||r)&&e.HX(n)},this.KY=Wr((function(t){if(!e.ZY&&e.QY.Nc<=jk.Hf){var n=e.KO.Wu;e.HX(n)||e.oZ()}}),100),this.sZ=Wr((function(t){e.ZY||0===e.rZ&&e.nZ()}),100),this.jY=function(){e.cZ()?0===e.rZ&&(e.KO.wn($l.Lu,e.sZ),e.iZ=tr.q_((function(){e.nZ()}),3500)):e.GY()},this.oZ=function(){var t=e.fZ,n=e.uZ,i=e.KO.Wu,r=tr.V_(),u=e.tY.bl;if(t!==i)return e.fZ=i,e.uZ=r,e._Z=1,void(e.gZ=tr.vZ?2e3:1e3);if(e.cZ()&&0!==u.U&&n>0&&r>n+e.gZ){var s,o,c=e.hG.gF().bF(u),a=c.xF(i);if(-1!==a){var h=c.Tn(a);if(h-i<1){var f=c.Pn(a);0,s=f}}if(!s)(s=null==(o=e.wZ)?void 0:o.determineStallJumpTarget())||(s=i+.01*e._Z,u.br(s)||(s=e.dZ(i,u)));0,e.fZ=s,e._Z++,e.gZ=l.min(2*e.gZ,1e4),e.tZ(s)}},this.QY.wn(qk.Bf,this.KY),this.KO.wn($l.Rf,this.KY),this.KO.wn(UD,this.jY),this.wZ=r,this.gZ=tr.vZ?2e3:1e3}var n=t.prototype;return n.qY=function(t){this.zY.push(t),t.wn(bC.sG,this.XY)},n.bn=function(){var t=this;this.GY(),this.QY.pn(qk.Bf,this.KY),this.KO.pn($l.Rf,this.KY),this.KO.pn(UD,this.jY),this.zY.forEach((function(n){return n.pn(bC.sG,t.XY)})),0!==this.YY&&(tr.W_(this.YY),this.YY=0),this.ZY=!0},n.HX=function(t){var n=this;if(this.KO.Ic)return!1;if(0!==this.YY)return!1;var i=this.tY.bl,r=i.TF(t);if(r>=0&&t+xD<i.Pn(r))return!1;var e=r>=0?r+1:i.DF(t);if(e<0||e>=i.U)return!1;var u=i.Tn(e);return!(ZE.MF(t,u).bF(this.hG).LF>1)&&(tr.JY?(this.$Y=this.KO.Wu,this.YY=tr.q_((function(){n.$Y===n.KO.Wu&&n.tZ(u),n.YY=0}),250),!0):!(l.abs(u-t)<=.001)&&(this.tZ(u),!0))},n.tZ=function(t){this.KO.gc(t,!1,!0)},n.eZ=function(){0!==this.iZ&&(tr.W_(this.iZ),this.iZ=0),this.KO.pn($l.Lu,this.sZ)},n.nZ=function(){0===this.rZ&&(this.eZ(),this.rZ=tr.hZ(this.oZ,250))},n.GY=function(){0!==this.rZ&&(tr.aZ(this.rZ),this.rZ=0),this.eZ(),this.KO.Fc||(this.uZ=0)},n.cZ=function(){return!this.KO.Dc&&!this.KO.Fc&&0!==this.KO.$u&&!this.KO.Ic&&!this.KO.lt&&(this.lZ()||this.QY.Nc>=jk._f)},n.lZ=function(){var t=this.KO.Wu,n=this.tY.bl,i=n.TF(t);return-1!==i&&n.Pn(i)>t+xD},n.dZ=function(t,n){var i=n.TF(t);return i>-1?n.Pn(i):t},hr(t,[{key:"hG",get:function(){return this.zY.reduce((function(t,n){return t.Hl(n.hG)}),ZE.Nl())}}]),t}();function HD(t){var n=[];if(t.mZ&&n.push(t.mZ.bl),t.pZ&&n.push(t.pZ.bl),0===n.length)return ZE.Nl();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.U>0&&(i=l.max(i,e.Pn(e.U-1)))}for(var u=t.$X,s=new ZE([0,i],[!0,u]),o=0;o<n.length;o++){var c=n[o];u&&c.U>0&&(c=c.Hl(new ZE([c.Pn(c.U-1),i],[!0,!0]))),s=s.Cn(c)}return s}function VD(t,n,i){var r,e=t.bl,u=e.TF(n);if(u>=0){if(!(u+1<e.U))return $.resolve();r=e.Tn(u+1)}else{if(!((u=e.DF(n))>=0))return $.resolve();r=e.Tn(u)}return t.Qu(r,1/0,i)}function XD(t,n,i){if(!t.br(n)){var r=t.TF(n,i);if(r>=0){var e=t.Tn(r);if(n<e)return e}}return n}var zD,WD=Ir.bR||Ir.kR,GD=Ir.DR||Ir.MR&&Ir.UR>=17;!function(t){t.dY="closed",t.vI="open",t.Pf="ended"}(zD||(zD={}));var qD=function(t){function n(n,i,r,e,u,s,o){var c;return void 0===s&&(s=new ko(n.VZ)),(c=t.call(this,n,i,e,u)||this).TZ=void 0,c.BZ=void 0,c.SZ=void 0,c.LZ=void 0,c.RZ=new MD(0,1/0),c.kZ=void 0,c.OZ=!1,c.FZ=function(){c.MZ()},c.AY=function(){c.KO.AY()},c.HZ=s,c.tM=c.HZ.yZ(),c.KO.wn([$l.If,$l.im],c.FZ),c.NZ=new FD(Uc(c),r,c.KO,o),c}vr(n,t);var i=n.prototype;return i.EZ=function(t){if(w(t)||t<0)throw new f("Invalid duration");this.IZ()?this.PZ(t):this.kZ=t},i.PZ=function(t){var n=t===1/0;if(n&&this.tM.setLiveSeekableRange){var i=l.pow(2,39);this.tM.setLiveSeekableRange(0,i)}this.tM.duration=n?GD?1/0:Re:t,this.kZ=void 0},i.CZ=function(t,n,i,r){this.RZ=new MD(t,n,!!i,!!r)},i.Jq=function(){var t=this;return Mo((function(){var n,i,r,e,u,s,o,c,a;return Uo(this,(function(h){switch(h.label){case 0:return n=t.al,i=jc(n.xZ,(function(t){return Ac(t.rM,"audio")})),r=jc(n.xZ,(function(t){return Ac(t.rM,"video")})),t.nB.disableRemotePlayback=!0,[4,t.DZ()];case 1:return h.sent(),i&&(e=new RC,t.NZ.qY(e),s=null!=(u=t._Y(i.rM))?u:i.rM,t.BZ=t.tM.addSourceBuffer(s),t.TZ=BD(t,t.KO,i,py.yy,t.BZ,s,e),t.TZ.wn(lC.RX,t.AY)),r&&(o=new RC,t.NZ.qY(o),a=null!=(c=t._Y(r.rM))?c:r.rM,t.LZ=t.tM.addSourceBuffer(a),t.SZ=BD(t,t.KO,r,py.vl,t.LZ,a,o),t.SZ.wn(lC.RX,t.AY)),t.UX.On(t,n),[2]}}))}))()},i.DZ=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,t.prototype.YX.call(n,n.tM)];case 1:return i.sent(),"open"===n.Nc?[3,3]:[4,kw(n.tM,"sourceopen")];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.IZ=function(){if("open"!==this.Nc)return!1;var t=this.TZ&&this.TZ.ua,n=this.SZ&&this.SZ.ua;return!(t||n)},i.EY=function(){this.OZ=!0,this.TZ&&this.TZ.EY(),this.SZ&&this.SZ.EY(),this.OZ=!1,this.MZ()},i.vY=function(){this.TZ&&this.TZ.vY(),this.SZ&&this.SZ.vY()},i.OX=function(n){var i=jc(n.xZ,(function(t){return Ac(t.rM,"audio")})),r=jc(n.xZ,(function(t){return Ac(t.rM,"video")}));if(this.TZ){if(!i)return!1;if(!this.TZ.OX(i))return!1}else if(i)return!1;if(this.SZ){if(!r)return!1;if(!this.SZ.OX(r))return!1}else if(r)return!1;return!!t.prototype.OX.call(this,n)},i.FX=function(n){var i=this;return Mo((function(){var r,e,u;return Uo(this,(function(s){switch(s.label){case 0:return r=jc(n.xZ,(function(t){return Ac(t.rM,"audio")})),e=jc(n.xZ,(function(t){return Ac(t.rM,"video")})),u=[],i.TZ&&u.push(i.TZ.FX(r)),i.SZ&&u.push(i.SZ.FX(e)),[4,$.all(u)];case 1:return s.sent(),[4,t.prototype.FX.call(i,n)];case 2:return s.sent(),[2]}}))}))()},i.Ou=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return Ir.mR?[4,n.JX()]:[3,2];case 1:i.sent(),i.label=2;case 2:return n.TZ?[4,n.TZ.Ou()]:[3,4];case 3:if(i.sent(),n.TZ=void 0,Lc()&&(Ir.mR||Ir._R))try{n.tM.removeSourceBuffer(n.BZ)}catch(t){}n.BZ=void 0,i.label=4;case 4:return n.SZ?[4,n.SZ.Ou()]:[3,6];case 5:if(i.sent(),n.SZ=void 0,Lc()&&(Ir.mR||Ir._R))try{n.tM.removeSourceBuffer(n.LZ)}catch(t){}n.LZ=void 0,i.label=6;case 6:return n.nB.src&&URL.revokeObjectURL(n.nB.src),n.nB.disableRemotePlayback=!1,n.KO.pn([$l.If,$l.im],n.FZ),n.NZ.bn(),Ir._R?[4,n.JX()]:[3,8];case 7:i.sent(),i.label=8;case 8:return[4,t.prototype.Ou.call(n)];case 9:return i.sent(),[2]}}))}))()},i.FY=function(){var t=this,n=this.al,i=n.xZ.map((function(n){return Ac(n.rM,"audio")&&t.TZ?t.TZ.xb:Ac(n.rM,"video")&&t.SZ?t.SZ.xb:n}));this.al=xo({},n,{xZ:i})},i.IY=function(){this.OZ||this.MZ()},i.MZ=function(){this.UZ&&this.IZ()&&(this.tM.endOfStream(),this.kZ=void 0,this.To(new Va(pC.sH)),this.KO.AY())},i.mY=function(){this.IZ()&&(this.$X?this.MZ():void 0!==this.kZ&&this.PZ(this.kZ))},i.HX=function(t){return this.NZ.HX(t)},i._Y=function(t){return YD(this.HZ,t)},n.iG=function(t){var n=Ao(t.VZ);if(void 0===n)return!1;if("function"!=typeof n.isTypeSupported)return!1;for(var i=new ko(t.VZ),r=0,e=t.xZ;r<e.length;r++){if(void 0===YD(i,e[r].rM))return!1}return!0},hr(n,[{key:"mZ",get:function(){return this.TZ}},{key:"pZ",get:function(){return this.SZ}},{key:"ct",get:function(){if(this.kZ)return this.kZ;var t=this.tM.duration;return t===Re?1/0:t}},{key:"bl",get:function(){return WD?HD(this):function(t,n){var i=n;return i.U>0&&t.$X&&(i=i.Hl(ZE.OF(i.Pn(i.U-1)))),i}(this,ZE.Sn(this.nB.buffered))}},{key:"tG",get:function(){var t;return null==(t=this.TZ)?void 0:t.bl}},{key:"eG",get:function(){var t;return null==(t=this.SZ)?void 0:t.bl}},{key:"kl",get:function(){return this.RZ.UY().Cn(new ZE([0,this.ct],[!0,!0]))}},{key:"$X",get:function(){return(!this.TZ||this.TZ.$X())&&(!this.SZ||this.SZ.$X())}},{key:"Nc",get:function(){return this.tM.readyState}},{key:"UZ",get:function(){if(!this.$X)return!1;var t=this.bl;return 0!==t.U&&t.Tn(t.U-1)<=this.KO.Wu}}]),n}(AC);function YD(t,n){var i=hl(n),r="audio/mp4"===i.Iw&&function(t,n){return ra(t,n,(function(t,n){return t===n}))}(ND(i),["mp4a.40.34"]);if(t.bZ(n)&&(!r||!Ir.MR))return n;if(r){var e=jc(['audio/mp4; codecs="mp3"',"audio/mpeg"],(function(n){return t.bZ(n)}));return void 0!==e?e:void 0}}var jD=function(t){function n(n){var i;return(i=t.call(this,$l.im)||this).currentTime=n,i}return vr(n,t),n}(Va),QD=[$l.Il,$l.Vu,$l.If,$l.im,$l.Ph,$l.Ch],KD=function(t){function n(n,i,r,e,u,s,o,c,a,h,f){var v;return(v=t.call(this)||this).FF=n,v.Zl=i,v.Kl=r,v.Ql=e,v.Yl=u,v.UF=s,v.HF=o,v.Qx=c,v.tf=a,v.qZ=h,v.zZ=f,v}vr(n,t);var i=n.prototype;return i.gc=function(t,n,i){this.FF!==t&&(this.FF=t,this.qZ=n,i&&!this.Yl?(this.zZ=!0,this.To(new jD(this.Wu))):(this.zZ=!1,this.Yl=!0,this.To(new bE(this.Wu))))},i.jl=function(){this.Ql||(this.Ql=!0,this.To(new yE(this.Wu)))},i.dl=function(){this.Ql&&(this.Ql=!1,this.To(new mE(this.Wu)))},i.Ou=function(){this.Lo()},hr(n,[{key:"Wu",get:function(){return this.FF}},{key:"WZ",get:function(){return this.qZ}},{key:"Bc",get:function(){return this.zZ}},{key:"ct",get:function(){return this.Zl}},{key:"Ic",get:function(){return this.Kl}},{key:"Dc",get:function(){return this.Ql}},{key:"Nc",get:function(){return this.tf}},{key:"Fc",get:function(){return this.Yl}},{key:"Xu",get:function(){return this.UF},set:function(t){this.Xu!==t&&(this.UF=t,this.To(new SE(this.Wu,this._l)))}},{key:"$u",get:function(){return this.HF},set:function(t){this.$u!==t&&(this.HF=t,this.To(new kE(this.Wu,this.$u)))}},{key:"_l",get:function(){return this.Qx},set:function(t){this._l!==t&&(this.Qx=t,this.To(new SE(this.Wu,this._l)))}}]),n}(Ua);function ZD(t){return new KD(t.Wu,t.ct,t.Ic,t.Dc,t.Fc,t.Xu,t.$u,t._l,t.Nc,!1,t.Bc)}function JD(t,n){n.ct===t.ct||w(n.ct)&&w(t.ct)||t.To(new pE(t.ct)),t.Xu=n.Xu,t._l=n._l,t.$u=n.$u,n.Dc?t.jl():t.dl().catch(Vr),n.Wu!==t.Wu||n.Nc>jk.zl&&t.Nc===jk.zl?t.gc(n.Wu,n.WZ,n.Bc):!n.Fc&&t.Fc?t.To(new bE(t.Wu)):n.Fc&&!t.Fc&&t.Nc>=jk.Hf&&t.To(new TE(t.Wu)),!n.Ic&&t.Ic&&t.To(new AE(t.Wu))}var $D=function(t){function n(n){var i;return(i=t.call(this)||this).kB=jk.zl,i.QZ=function(){i.GZ()},i.KO=n,i}vr(n,t);var i=n.prototype;return i.XZ=function(t){this.kB!==t&&(this.kB=t,this.To(new Kk(this.KO.Wu,t)))},i.GZ=function(){this.XZ(this.Hg())},i.ir=function(){this.XZ(jk.zl)},i.Ou=function(){this.Lo()},hr(n,[{key:"Nc",get:function(){return this.Hg()}}]),n}(Ua),tP=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],nP=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<tP.length;r++){var e=tP[r];i.KO.JO.addEventListener(e,i.QZ)}return i}vr(n,t);var i=n.prototype;return i.Hg=function(){var t=this.KO.JO.readyState;return t>jk.Hf&&this.KO.KZ?jk.Hf:(this.KO.JO.seeking&&t>jk.Jn&&(t=jk.Jn),t)},i.Ou=function(){for(var n=0;n<tP.length;n++){var i=tP[n];this.KO.JO.removeEventListener(i,this.QZ)}t.prototype.Ou.call(this)},n}($D),iP=function(t){function n(n){var i;(i=t.call(this,n)||this).KO.wn([$l.If,$l.im],i.QZ);for(var r=0;r<tP.length;r++){var e=tP[r];i.KO.JO.addEventListener(e,i.QZ)}return i}vr(n,t);var i=n.prototype;return i.Hg=function(){if(this.KO.JO.readyState===jk.zl)return jk.zl;var t=this.jZ(),n=t?t.Pn-t.Tn:0;if(!t)return jk.Jn;var i=this.KO.$u;return this.YZ()||n>=3*i?jk.Wl:n>=3?jk._f:jk.Hf},i.jZ=function(){var t=this.KO.Wu,n=this.KO.bl.yF(.04),i=n.TF(t);if(!(i<0))return{Tn:t,Pn:n.Pn(i)}},i.YZ=function(){if(this.KO.Ic)return!0;var t=this.KO.ct,n=this.jZ();return!!n&&t-n.Pn<=.16666666666666666},i.Ou=function(){this.KO.pn([$l.If,$l.im],this.QZ);for(var n=0;n<tP.length;n++){var i=tP[n];this.KO.JO.removeEventListener(i,this.QZ)}t.prototype.Ou.call(this)},n}($D),rP=[qk.Bf,$l.Ph,$l.Ch,$l.If,$l.Tf,$l.im,$l.hm,$l.Pf,jp.aa],eP=function(t){function n(n){var i;return(i=t.call(this)||this).$Z=!1,i.DW=function(){i.Kn()},i.yB=n,i.yB.wn(rP,i.DW),i}vr(n,t);var i=n.prototype;return i.ZZ=function(){return(!this.yB.Bc||!this.yB.$c)&&this.yB.Nc<jk._f},i.JZ=function(){return!this.yB.Fc&&!(this.yB.Dc||this.yB.Ic||this.yB.lt||this.ZZ())},i.Kn=function(){var t=this.$Z;this.$Z=this.JZ(),!t&&this.$Z&&this.To(new iA(this.yB.Wu))},i.ir=function(){this.$Z=!1},i.Ou=function(){this.Lo(),this.yB.pn(rP,this.DW)},n}(Ua),uP=function(t){function n(n){var i;return(i=t.call(this,n)||this).tJ=!1,i.xB=function(){i.tJ=!0,i.Kn()},i.nB=n.JO,i.nB.addEventListener(qk.Qf,i.xB),i}vr(n,t);var i=n.prototype;return i.JZ=function(){return this.tJ&&t.prototype.JZ.call(this)},i.Kn=function(){this.tJ&&(this.nB.paused||this.nB.ended||this.nB.error)&&(this.tJ=!1),t.prototype.Kn.call(this)},i.ir=function(){t.prototype.ir.call(this),this.tJ=!1},i.Ou=function(){this.nB.removeEventListener(qk.Qf,this.xB),t.prototype.Ou.call(this)},n}(eP),sP=function(t){function n(n){var i;return(i=t.call(this,jp.aa)||this).lt=n,i}return vr(n,t),n}(Va);function oP(t,n){return t.PS<=n&&t.RS>n}function cP(t,n){return function(t,n){return Gc(t.PS,n.PS,hm)}(t,n)||function(t,n){return Gc(t.RS,n.RS,hm)}(t,n)}function aP(t,n){return function(t,n){return Gc(t.MS,n.MS,hm)}(t,n)||function(t,n){return Gc(t.FS,n.FS,hm)}(t,n)}function hP(t,n,i){var r=function(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,c=s-1;o<=c;){var a=o+(c-o>>1),h=r(i(t[a]),n);if(h<0)o=a+1;else if(h>0)c=a-1;else{if(!(e&&a>u&&0===r(i(t[a-1]),n)))return a;c=a-1}}return~o}(t,n,Xr,i,!0);if(r<0)return r;for(;r<t.length&&i(n,t[r])===Mc.ih;r++)if(t[r].GS(n))return r;return-(r+1)}function fP(t,n,i){var r=hP(t,n,i);return r>=0?r:-(r+1)}function vP(t){var n=t.Ht;if(!n)return-1;if(t instanceof vm)return n.eJ(t);var i=n.L;if(!i)return-1;var r=hP(i.Kv,t,cP);return r>=0?r:-1}function dP(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,u=0,s=0,o=[],c=[];u<r&&s<e;){var a=t[u],h=n[s];a===h?(u++,s++):i(h,a)<=0?(o.push(h),s++):(c.push(a),u++)}for(;u<r;)c.push(t[u]),u++;for(;s<e;)o.push(n[s]),s++;return{iJ:o,sJ:c}}(t,n,cP);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}var lP=function(){function t(t){this.Gu=void 0,this.nJ=t}var n=t.prototype;return n.pa=function(){return function(t){for(var n=[],i=0;i<t.U;i++)n[i]=t.RC(i).ma;return n.item=function(n){var i=0|n,r=t.RC(i);return r&&r.ma||void 0},d.defineProperty(n,"constructor",{value:em}),n}(this)},n._S=function(t){for(var n=this.nJ,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.GS(r))return!0}return!1},n.RC=function(t){return this.nJ[t]},hr(t,[{key:"Kv",get:function(){return this.nJ}},{key:"U",get:function(){return this.nJ.length}},{key:"ma",get:function(){if(this.Gu){var t=this.nJ;this.Gu.length=t.length;for(var n=0;n<t.length;n++)this.Gu[n]=t[n].ma}else this.Gu=this.pa();return this.Gu}}]),t}(),_P=function(t){function n(n,i){var r;return(r=t.call(this,Gw.Bf)||this).Ht=n,r.Nc=i,r}return vr(n,t),n.prototype.pa=function(){return new gP(this.Ht.ma,this.Nc)},n}(zw),gP=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return vr(n,t),n}(Ww),wP=function(t){function n(n){var i;return(i=t.call(this,Gw.Vv)||this).Ht=n,i}return vr(n,t),n.prototype.pa=function(){return new yP(this.Ht.ma)},n}(zw),yP=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return vr(n,t),n}(Ww),mP=function(t){function n(n){var i;return(i=t.call(this,Gw.Iv)||this).IS=n,i}return vr(n,t),n.prototype.pa=function(){return new pP(this.IS.ma)},n}(zw),pP=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return vr(n,t),n}(Ww),kP=function(t){function n(n){var i;return(i=t.call(this,Gw.Rv)||this).IS=n,i}return vr(n,t),n.prototype.pa=function(){return new AP(this.IS.ma)},n}(zw),AP=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return vr(n,t),n}(Ww),bP=function(t){function n(n,i,r,e,u,s,o,c,a){var h;return(h=t.call(this)||this).mS=Ly(),h.aJ=!1,h.aU=Yp.Th,h.tf=Wy.NONE,h.gJ=void 0,h.nJ=[],h.wJ=[],h.fJ=[],h.bJ=0,h._J=0,h.wS=i||"",h.cJ=c||"",h.lJ=n,h.Lx=e||"",h.aJ=Boolean(u),h.uJ=Boolean(o),h.vJ=s||Gy.DEFAULT,h.Yu=r||"",h.dJ=a||[],h.hJ=new lP(h.nJ),h.rJ=new lP(h.fJ),h}vr(n,t);var i=n.prototype;return i.oJ=function(t){return jc(this.hJ.Kv,(function(n){return n.o===t}))},i.pa=function(){return dk(this)},i.Qo=function(t){var n=fk(t);n!==this.bw&&(this.aU=n,n===Yp.Th&&(this.fJ.forEach((function(t){t.oo=!1})),ea(this.fJ),this._J=0),this.To(new Cy(this)))},i.vP=function(t){if(t&&!t.Ht){var n=hP(this.wJ,t,aP);if(!(n>=0)){var i=hP(this.L.Kv,t,cP);t.Ht=this;var r=-(n+1);this.wJ.splice(r,0,t);var e=-(i+1);this.mJ(t,e),this.To(new mP(t))}}},i.mJ=function(t,n){this.nJ.splice(n,0,t),this.pJ(n),t.jS=n,n<this._J&&(this._J=n)},i.EI=function(t){if(t&&t.Ht===this){var n=this.eJ(t);if(!(n<0)){t.oo=!1;var i=this.fJ,r=hP(i,t,cP);r>=0&&ta(i,r);hP(this.wJ,t,aP);r>=0&&ta(this.wJ,r),this.yJ(t,n),this.To(new kP(t))}}},i.yJ=function(t,n){ta(this.nJ,n),this.pJ(n),t.jS=-1,this._J>n&&--this._J},i.VS=function(t){if(t&&t.Ht===this){var n=this.eJ(t);if(!(n<0)){this.yJ(t,n);var i=fP(this.L.Kv,t,cP);this.mJ(t,i);var r=Zc(this.fJ,(function(n){return n===t}));if(r>=0){ta(this.fJ,r);var e=fP(this.fJ,t,cP);this.fJ.splice(e,0,t)}}}},i.AJ=function(t,n){var i=this.fJ,r=this.nJ,e=this._J,u=!1;n&&(e=0);for(var s=i.length-1;s>=0;s--){oP(i[s],t)||(u=!0,ta(i,s))}for(;e<r.length&&r[e].PS<=t;){var o=r[e];if(0===t)break;oP(o,t)&&!ia(i,o)&&(u=!0,i.push(o)),e++}u&&Hc(i,cP),this._J=e},i.eJ=function(t){return(-1===t.jS||t.jS>=this.bJ)&&this.TJ(),t.jS},i.TJ=function(){for(var t=this.nJ,n=this.bJ;n<t.length;n++)t[n].jS=n;this.bJ=t.length},i.pJ=function(t){t<this.bJ&&(this.bJ=t)},i.Sw=function(t){this.Ew||(this.bw=t)},i.bn=function(){this.Lo();for(var t=this.nJ.slice(),n=0;n<t.length;n++){t[n].bn()}ea(this.nJ),ea(this.wJ),ea(this.fJ)},hr(n,[{key:"W",get:function(){return this.rJ}},{key:"L",get:function(){return this.hJ}},{key:"pP",get:function(){return this.aJ},set:function(t){this.aJ=t}},{key:"Ew",get:function(){return this.uJ}},{key:"ma",get:function(){return this.Gu||(this.Gu=this.pa()),this.Gu}},{key:"o",get:function(){return this.wS}},{key:"cw",get:function(){return this.mS}},{key:"Aw",get:function(){return this.cJ},set:function(t){this.cJ=t}},{key:"Lt",get:function(){return this.lJ}},{key:"_h",get:function(){return this.Yu},set:function(t){t!==this.Yu&&(this.Yu=t,this.To(new Py(this)))}},{key:"gs",get:function(){return this.Lx}},{key:"lw",get:function(){return this.dJ}},{key:"bw",get:function(){return this.aU},set:function(t){this.Qo(t)}},{key:"Nc",get:function(){return this.tf},set:function(t){this.tf!==t&&(this.tf=t,this.To(new _P(this,this.tf)))}},{key:"Pw",get:function(){return this.gJ},set:function(t){this.gJ=t}},{key:"Iw",get:function(){return this.vJ},set:function(t){this.vJ!==t&&(this.vJ=t,this.To(new wP(this)))}}]),n}(Ua),TP=function(t){function n(n,i){var r;return(r=t.call(this,Ky.kS,n)||this).iE=i,r}return vr(n,t),n.prototype.pa=function(){return new SP(this.IS.ma)},n}(nm),SP=function(t){function n(n){return t.call(this,"enter",n)}return vr(n,t),n}(im),EP=function(t){function n(n,i){var r;return(r=t.call(this,Ky.ES,n)||this).iE=i,r}return vr(n,t),n.prototype.pa=function(){return new IP(this.IS.ma)},n}(nm),IP=function(t){function n(n){return t.call(this,"exit",n)}return vr(n,t),n}(im),RP=function(t){function n(n){var i;return(i=t.call(this,Gw.Nv)||this).IS=n,i}return vr(n,t),n.prototype.pa=function(){return new NP(this.IS.ma)},n}(zw),NP=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return vr(n,t),n}(Ww),CP=function(t){function n(n){var i;return(i=t.call(this,Gw.Lv)||this).IS=n,i}return vr(n,t),n.prototype.pa=function(){return new DP(this.IS.ma)},n}(zw),DP=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return vr(n,t),n}(Ww),PP=function(t){function n(n){var i;return(i=t.call(this)||this).qS=void 0,i.HS=void 0,i.Gu=void 0,i.ao=!1,i.kJ=function(){i.oo=!0},i.EJ=function(){i.oo=!1},i.mS=Hy(),i.SJ=n,i.MS=n.startTime,i.FS=n.endTime,i.SJ.addEventListener("enter",i.kJ),i.SJ.addEventListener("exit",i.EJ),i}vr(n,t);var i=n.prototype;return i.pa=function(){return rm(this)},i.GS=function(t){return this===t||iy(this,t)&&fm(this,t)&&this.QS(t)},i.QS=function(t){return ny(this.O,t.O)},i.bn=function(){this.Lo(),this.SJ.removeEventListener("enter",this.kJ),this.SJ.removeEventListener("exit",this.EJ)},hr(n,[{key:"cw",get:function(){return this.mS}},{key:"PS",get:function(){return this.SJ.startTime},set:function(t){this.SJ.startTime=t}},{key:"RS",get:function(){return this.SJ.endTime},set:function(t){this.SJ.endTime=t}},{key:"O",get:function(){return this.qS},set:function(t){this.qS=t}},{key:"zS",get:function(){return!!this.SJ.pauseOnExit},set:function(t){this.SJ.pauseOnExit=!!t}},{key:"Ht",get:function(){return this.HS},set:function(t){this.HS=t}},{key:"o",get:function(){return this.SJ.id||""}},{key:"ma",get:function(){return this.Gu||(this.Gu=this.pa()),this.Gu}},{key:"oo",get:function(){return this.ao},set:function(t){this.oo!==t&&(this.ao=t,t?(this.To(new TP(this,this.PS)),this.HS&&this.HS.To(new RP(this))):(this.To(new EP(this,this.RS)),this.HS&&this.HS.To(new CP(this))))}}]),n}(Ha),OP=function(t){function n(n){var i;return(i=t.call(this,Gw.Mv)||this).Ht=n,i}return vr(n,t),n.prototype.pa=function(){return new BP(this.Ht.ma)},n}(zw),BP=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return vr(n,t),n}(Ww);function LP(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new MP(t),t.THEOplayerVTTRegion=n),n}}var MP=function(){function t(t){this.Gu=void 0,this.PJ=t}return hr(t,[{key:"IJ",get:function(){return this.PJ}},{key:"o",get:function(){return this.PJ.id||""}},{key:"Ti",get:function(){return+this.PJ.width||0},set:function(t){this.PJ.width=t||0}},{key:"YS",get:function(){return+this.PJ.lines||0},set:function(t){this.PJ.lines=t||0}},{key:"ZS",get:function(){return+this.PJ.regionAnchorX||0},set:function(t){this.PJ.regionAnchorX=t||0}},{key:"JS",get:function(){return+this.PJ.regionAnchorY||0},set:function(t){this.PJ.regionAnchorY=t||0}},{key:"ek",get:function(){return+this.PJ.viewportAnchorX||0},set:function(t){this.PJ.viewportAnchorX=t||0}},{key:"nk",get:function(){return+this.PJ.viewportAnchorY||0},set:function(t){this.PJ.viewportAnchorY=t||0}},{key:"$S",get:function(){return this.PJ.scroll||""}},{key:"ma",get:function(){return this.Gu||(this.Gu=mm(this)),this.Gu}}]),t}();var xP=function(t){function n(n){return t.call(this,n)}vr(n,t);var i=n.prototype;return i.pa=function(){return um(this)},i.QS=function(t){return dm(this,t)},hr(n,[{key:"O",get:function(){return this.SJ.text},set:function(t){this.SJ.text=t}},{key:"Mt",get:function(){return this.SJ.vertical||""},set:function(t){this.SJ.vertical=t||""}},{key:"OS",get:function(){return this.SJ.snapToLines},set:function(t){this.SJ.snapToLines=t}},{key:"xS",get:function(){return this.SJ.line},set:function(t){this.SJ.line=t}},{key:"iA",get:function(){return+this.SJ.size},set:function(t){this.SJ.size=Ce(t,0,100)}},{key:"ma",get:function(){return this.Gu||(this.Gu=this.pa()),this.Gu}}]),n}(PP),UP=function(t){function n(n){return t.call(this,n)}return vr(n,t),hr(n,[{key:"LS",get:function(){return LP(this.SJ.region)}},{key:"DS",get:function(){return this.SJ.lineAlign||"start"},set:function(t){this.SJ.lineAlign=t||"start"}},{key:"yo",get:function(){return this.SJ.position},set:function(t){this.SJ.position=t}},{key:"NS",get:function(){return this.SJ.positionAlign||"auto"},set:function(t){this.SJ.positionAlign=t||"auto"}},{key:"CS",get:function(){return this.SJ.align||"center"},set:function(t){this.SJ.align=t||"center"}}]),n}(xP),FP=function(t){function n(n){return t.call(this,n)}return vr(n,t),hr(n,[{key:"LS",get:function(){return LP(this.IJ)}},{key:"IJ",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.SJ.track,this.SJ.regionId)}},{key:"DS",get:function(){return function(t){return"middle"===t?"center":t}(this.SJ.lineAlign||"start")},set:function(t){this.SJ.lineAlign=function(t){return"center"===t?"middle":t}(t||"start")}},{key:"yo",get:function(){return this.SJ.position},set:function(t){this.SJ.position=function(t,n){return tm(t,n)}(t,this.CS)}},{key:"NS",get:function(){return function(t){return Jy[t]}(this.SJ.positionAlign||"middle")},set:function(t){this.SJ.positionAlign=function(t,n){return Zy[$y(t,n)]}(t||"center",this.CS)}},{key:"CS",get:function(){return function(t){return"middle"===t?"center":t}(this.SJ.align||"middle")},set:function(t){this.SJ.align=function(t){return"center"===t?"middle":t}(t||"center")}}]),n}(xP);function HP(t,n){return t.O===n.O}function VP(t,n){if(0!==n.length){var i=n.length-1;if(n[i].PS<t.PS)XP(n,i,t.PS);else{var r=n[0];if(r.PS>t.PS)t.RS=r.PS;else{var e=hP(n,t,cP);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0)n[s].PS<t.PS&&XP(n,s,t.PS);if(u<n.length){var o=n[u];t.RS=o.PS}}}}}}function XP(t,n,i){for(var r=t[n].PS,e=n;e>=0&&t[e].PS===r;e--)t[e].RS=i}function zP(t){return rm(t)}var WP,GP,qP=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).RJ=i,r}vr(n,t);var i=n.prototype;return i.pa=function(){return zP(this)},i.QS=function(t){return HP(this,t)},hr(n,[{key:"O",get:function(){return this.RJ}},{key:"ma",get:function(){return this.Gu||(this.Gu=this.pa()),this.Gu}}]),n}(PP);function YP(t){switch(t){case 0:case 1:case 2:case 3:return!0}return!1}function jP(t){switch(t){case 0:return qh;case 1:return Kh;case 2:return Zh;case 3:return sf}}function QP(t,n){var i=n.Au,r=t.byteLength,e=df(t);return n.Ey(r-i),gf(e,i,r).buffer}function KP(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function ZP(t,n,i){var r=Dh(t,n);if(YP(r)){var e=jP(r);return{id:i,language:Wh(t,n,3),description:e(t,n),text:e(t,n)}}}function JP(t,n,i){var r=Dh(t,n);if(YP(r)){var e=jP(r);return{id:i,mimeType:qh(t,n),fileName:e(t,n),description:e(t,n),data:QP(t,n)}}}function $P(t,n,i){var r=Dh(t,n);if(YP(r)){for(var e=jP(r),u=[];n.Au<t.byteLength;)u.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:u}}}function tO(t,n,i){var r=Dh(t,n);if(YP(r)){for(var e=jP(r),u=Wh(t,n,3),s=Dh(t,n),o=Dh(t,n),c=e(t,n),a=!1,h=[];n.Au<t.byteLength;){var f=void 0;if(1===r){var v=Qh(t,n);void 0===v?v=a:a=v,f=Zh(t,n,v)}else f=e(t,n);if(!f||n.Au+4>t.byteLength)break;h.push({text:f,timestamp:Fh(t,n)})}return{id:i,language:u,format:s,contentType:o,description:c,entries:h}}}function nO(t,n,i){return{id:i,ownerIdentifier:qh(t,n),identifier:QP(t,n)}}function iO(t,n,i){var r=Dh(t,n);if(YP(r)){var e=jP(r);return{id:i,language:Wh(t,n,3),description:e(t,n),text:e(t,n)}}}function rO(t,n,i){var r=Dh(t,n);if(YP(r))return{id:i,text:jP(r)(t,n)}}function eO(t,n,i){return{id:i,url:qh(t,n)}}function uO(t,n,i){var r=Dh(t,n);if(YP(r)){var e=jP(r);return{id:i,description:e(t,n),text:e(t,n)}}}function sO(t,n,i){var r=Dh(t,n);if(YP(r))return{id:i,description:jP(r)(t,n),url:qh(t,n)}}function oO(t,n,i){switch(i){case"COM":return ZP(t,n,i);case"GEO":return JP(t,n,i);case"IPL":return $P(t,n,i);case"PIC":return function(t,n,i){var r=Dh(t,n);if(YP(r)){var e,u,s=jP(r),o=Wh(t,n,3),c=Dh(t,n),a=s(t,n);return"--\x3e"===o?(e=o,u=qh(t,n)):(e="image/"+o.toLowerCase(),u=QP(t,n)),{id:i,mimeType:e,pictureType:c,description:a,data:u}}}(t,n,i);case"SLT":return tO(t,n,i);case"TXX":return uO(t,n,i);case"UFI":return nO(t,n,i);case"ULT":return iO(t,n,i);case"WXX":return sO(t,n,i);default:if("T"===i.charAt(0))return rO(t,n,i);if("W"===i.charAt(0))return eO(t,n,i)}}function cO(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=Dh(t,n);if(YP(r)){var e=jP(r),u=qh(t,n);return{id:i,mimeType:u,pictureType:Dh(t,n),description:e(t,n),data:"--\x3e"===u?qh(t,n):QP(t,n)}}}(t,n,i);case"COMM":return ZP(t,n,i);case"COMR":return function(t,n,i){var r=Dh(t,n);if(YP(r)){var e,u,s=jP(r),o=qh(t,n),c=Wh(t,n,8),a=qh(t,n),h=Dh(t,n),f=s(t,n),v=s(t,n);return n.Au<t.byteLength&&(e=qh(t,n)||"image/",u=QP(t,n)),{id:i,price:o,validUntil:c,contactURL:a,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:u}}}(t,n,i);case"GEOB":return JP(t,n,i);case"IPLS":return $P(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:qh(t,n),data:QP(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:Dh(t,n),position:Fh(t,n)}}(t,n,i);case"SYLT":return tO(t,n,i);case"TXXX":return uO(t,n,i);case"UFID":return nO(t,n,i);case"USER":return function(t,n,i){var r=Dh(t,n);if(YP(r)){var e=jP(r);return{id:i,language:Wh(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return iO(t,n,i);case"WXXX":return sO(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return rO(t,n,i);default:var r=i.charAt(0);if("T"===r)return rO(t,n,i);if("W"===r)return eO(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(WP||(WP={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(GP||(GP={}));var aO=10;function hO(t,n){return(127&Dh(t,n))<<21|(127&Dh(t,n))<<14|(127&Dh(t,n))<<7|127&Dh(t,n)}function fO(t,n){switch(t){case 4:return{CJ:Ch(n,0),xJ:Ch(n,1),DJ:Ch(n,2),NJ:Ch(n,3)};case 3:return{CJ:Ch(n,0),xJ:Ch(n,1),DJ:Ch(n,2)};case 2:return{CJ:Ch(n,0),BJ:Ch(n,1)}}}function vO(t,n,i){switch(i.oA){case 3:i.aA.xJ&&function(t,n){var i=n.Au,r=Fh(t,n)+4,e=32768&xh(t,n);n.gc(i+r),e&&Fh(t,n)}(t,n);break;case 4:i.aA.xJ&&function(t,n){var i=n.Au,r=hO(t,n);n.gc(i+r)}(t,n)}}function dO(t,n){if(t.byteLength-n.Au<aO)return null;if(73!==Dh(t,n)||68!==Dh(t,n)||51!==Dh(t,n))return null;var i=Dh(t,n),r=Dh(t,n);if(!function(t){switch(t){case 2:case 3:case 4:return!0}return!1}(i))return null;var e=Dh(t,n),u=hO(t,n);return{oA:i,LJ:r,aA:fO(i,e),OJ:u}}function lO(t,n,i){switch(i){case 2:return function(t,n){if(!(n.Au+6>t.byteLength))return{o:Wh(t,n,3),iA:Mh(t,n,3)}}(t,n);case 3:return function(t,n){if(!(n.Au+10>t.byteLength)){var i=Wh(t,n,4),r=Fh(t,n);Dh(t,n);var e=Dh(t,n);return{o:i,iA:r,aA:{BJ:Ch(e,0),MJ:Ch(e,1),groupingIdentity:Ch(e,2)}}}}(t,n);case 4:return function(t,n){if(!(n.Au+10>t.byteLength)){var i=Wh(t,n,4),r=hO(t,n);Dh(t,n);var e=Dh(t,n);return{o:i,iA:r,aA:{groupingIdentity:Ch(e,1),BJ:Ch(e,4),MJ:Ch(e,5),CJ:Ch(e,6),FJ:Ch(e,7)}}}}(t,n)}}function _O(t){for(var n=df(t),i=new y(n.byteLength),r=0,e=0;e<n.byteLength;e++){var u=n[e];255===u&&e++,i[r]=u,r++}return vf(gf(i,0,r))}function gO(t,n){var i=n||new mf,r=dO(t,i);if(!r)return null;var e=function(t,n,i){var r=[],e=n.Au,u=ff(t,e,e+i.OJ),s=new mf;switch(n.Ey(i.OJ),i.oA){case 2:case 3:i.aA.CJ&&(u=_O(u))}vO(t,n,i);for(;s.Au<u.byteLength;){var o=wO(u,s,i);if(void 0===o)break;r.push(o)}return r}(t,i,r);return{eA:r,UJ:e}}function wO(t,n,i){var r=lO(t,n,i.oA);if(void 0!==r&&0!==r.o.charCodeAt(0)&&0!==r.iA){var e,u,s=n.Au,o=ff(t,s,s+r.iA);switch(n.Ey(r.iA),i.oA){case 2:var c=r;e=oO(u=o,new mf,c.o);break;case 3:var a=r,h=new mf;!function(t,n,i){var r,e,u,s=i.aA;s.BJ&&(r=Fh(t,n)),s.MJ&&(e=Dh(t,n)),s.groupingIdentity&&(u=Dh(t,n))}(o,h,a),e=cO(u=ff(o,h.Au,o.byteLength),new mf,a.o);break;case 4:var f=r,v=new mf;f.aA.CJ&&(o=_O(o)),function(t,n,i){var r,e,u,s,o=i.aA;o.groupingIdentity&&(r=Dh(t,n)),o.BJ&&(e=Fh(t,n)),o.MJ&&(u=Dh(t,n)),o.FJ&&(s=hO(t,n))}(o,v,f),e=cO(u=ff(o,v.Au,o.byteLength),new mf,f.o)}if(!e){var d=wf(df(u));e=KP(r.o,d.buffer)}return e}}function yO(t){return function(t,n,i){return rO(t,n,i)}(new DataView(t.data),new mf,t.key)}function mO(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return yO(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return KP(t.key,t.data)}(t)}var pO=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).nJ=[],e.fJ=[],e.aU=Yp.Th,e.tf=Wy.NONE,e.gJ=void 0,e.vJ=Gy.DEFAULT,e.QJ=!1,e.e$=function(){e.VJ(),e.vS.removeEventListener("cuechange",e.e$)},e.t$=function(){e.bw!==Yp.Th&&(e.$J(),e.AJ(),e.nJ.length&&e.WJ(Wy.LOADING))},e.i$=function(){e.WJ(Wy.LOADED)},e.s$=function(){e.WJ(Wy.ERROR)},e.vS=n,e.GJ=r,e.vS.addEventListener("cuechange",e.e$),e.vS.addEventListener("cuechange",e.t$),e.HJ=i,e.HJ&&(e.gJ=U_(e.HJ.src),e.HJ.addEventListener("load",e.i$),e.HJ.addEventListener("error",e.s$)),e.mS=Ly(),e.Yu=n.label||"",e.hJ=new lP(e.nJ),e.rJ=new lP(e.fJ),e.bw=e.qJ,Ca((function(){e.t$(),e.WJ(Wy.NONE)})),e}vr(n,t);var i=n.prototype;return i.pa=function(){return dk(this)},i.VJ=function(){var t=this.bw;this.XJ||t!==Yp.Qn?this.qJ=t:this.qJ=Yp.Tw},i.KJ=function(){var t=this.bw,n=this.qJ;t!==n&&(this.XJ||t!==Yp.Qn||n!==Yp.Tw)&&("metadata"===this.Lt&&n===Yp.Th?this.bw=t:this.QJ&&n===Yp.Th&&t===Yp.Qn?this.qJ=t:this.bw=n)},i.GZ=function(t){this.tf!==t&&(this.tf=t,this.To(new _P(this,t)))},i.WJ=function(t){var n=l.max(this.tf,this.zJ,t);this.GZ(n)},i.YJ=function(t){var i=n.jJ(t);if(i)return i;if(Or(i=this.ZJ(t)))for(var r=0;r<i.length;r++){i[r].Ht=this}else i.Ht=this;return t.THEOplayerTextTrackCue=i,i},i.ZJ=function(t){return function(t){return!(!t||"org.id3"!==t.type||!t.value)}(t)?(this.Iw=Gy.ID3,function(t){var n;try{n=mO(t.value)}catch(t){n=KP("")}return new qP(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.Iw=Gy.ID3,function(t){var n=[];try{var i=gO(new DataView(t.data));if(i)for(var r=0,e=i.UJ;r<e.length;r++){var u=e[r];n.push(new qP(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.Iw=Gy.WEBVTT,function(t){return"regionId"in t}(t)?new FP(t):new UP(t)):new PP(t)},i.JJ=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e=this.YJ(t[r]||t.item(r));if(Or(e))for(var u=0;u<e.length;u++){var s=e[u];n.push(s)}else n.push(e)}return n},i.$J=function(){for(var t=this.JJ(this.vS.cues),n=dP(this.nJ,t),i=0,r=n.sJ;i<r.length;i++){var e=r[i];e.pn(Ky.ES,this.t$),e.pn(Ky.kS,this.t$),this.To(new kP(e))}for(var u=0,s=n.iJ;u<s.length;u++){var o=s[u];o.wn(Ky.kS,this.t$),o.wn(Ky.ES,this.t$),this.To(new mP(o))}},i.AJ=function(){for(var t=this.JJ(this.vS.activeCues),n=dP(this.fJ,t),i=0,r=n.sJ;i<r.length;i++){r[i].oo=!1}for(var e=0,u=n.iJ;e<u.length;e++){u[e].oo=!0}(n.iJ.length||n.sJ.length)&&this.To(new OP(this))},i.Sw=function(t){this.bw=t},i.bn=function(){this.Lo();for(var t=this.nJ.slice(),n=0;n<t.length;n++){t[n].bn()}ea(this.nJ),ea(this.fJ),this.vS.removeEventListener("cuechange",this.e$),this.vS.removeEventListener("cuechange",this.t$),this.HJ&&(this.HJ.removeEventListener("load",this.i$),this.HJ.removeEventListener("error",this.s$),Js(this.HJ))},n.jJ=function(t){return t&&t.THEOplayerTextTrackCue||void 0},hr(n,[{key:"W",get:function(){return this.rJ}},{key:"pP",get:function(){return this.HJ?this.HJ.default:void 0}},{key:"L",get:function(){return this.hJ}},{key:"ma",get:function(){return this.Gu||(this.Gu=this.pa()),this.Gu}},{key:"o",get:function(){return this.vS.id||this.HJ&&this.HJ.id||""}},{key:"cw",get:function(){return this.mS}},{key:"Aw",get:function(){return this.vS.inBandMetadataTrackDispatchType||""}},{key:"Lt",get:function(){return this.vS.kind||gk.Ay}},{key:"_h",get:function(){return this.Yu},set:function(t){t!==this.Yu&&(this.Yu=t,void 0!==this.HJ&&(this.HJ.label=t),this.To(new Py(this)))}},{key:"gs",get:function(){return this.vS.language||""}},{key:"bw",get:function(){return this.aU},set:function(t){var n=this.bw;this.aU=fk(t),this.VJ();var i=this.bw;n!==i&&this.To(new Cy(this)),i!==Yp.Th&&this.WJ(Wy.LOADING)}},{key:"qJ",get:function(){return fk(this.vS.mode)},set:function(t){this.vS.mode=t}},{key:"pS",get:function(){return this.vS}},{key:"Nc",get:function(){return this.tf}},{key:"zJ",get:function(){return this.HJ?+this.HJ.readyState||Wy.NONE:Wy.LOADED}},{key:"Pw",get:function(){return this.gJ}},{key:"Iw",get:function(){return this.vJ},set:function(t){this.vJ!==t&&(this.vJ=t,this.To(new wP(this)))}},{key:"XJ",get:function(){return this.GJ},set:function(t){var n=this;this.GJ=t,t&&(this.QJ=!0,o((function(){n.QJ=!1}),50)),this.VJ()}}]),n}(Ua);function kO(t,n){return Wc(t.iE,n.iE)||function(t,n){return t.Ht===n.Ht?zc(vP(t),vP(n)):Ok(t.Ht,n.Ht)}(t.IS,n.IS)||function(t,n){return t===n?Mc.ih:t===Ky.kS?Mc.T_:Mc.b_}(t.type,n.type)}var AO=function(){function t(t,n){var i=this;this.xu=[],this.h$=0,this.In=0,this.n$=[],this._$=[],this.o$=!1,this.a$=!1,this.u$=void 0,this.y$=function(){i.h$=0,i.b$(),i.w$()},this.T$=function(){i.b$(),i.w$()},this.S$=function(){i.a$=!0,i.u$=i.Ko.Wu,i.r$()},this.k$=function(){i.b$(),i.w$()},this.f$=function(){i.v$(),i.b$(),i.w$()},this.c$=function(t){var n=t.IS;ia(i._$,n)||i._$.push(n),i.g$()},this.l$=function(t){var n=t.IS;$c(i.n$,n),$c(i._$,n),i.g$()},this.d$=function(t){i.g$()},this.p$=n,this.Ko=t,t.wn($l.Lu,this.T$),t.wn($l.Ph,this.T$),t.wn(qk.Qf,this.T$),t.wn($l.Ch,this.T$),t.wn($l.If,this.S$),t.wn($l.Tf,this.k$),this.g$()}var n=t.prototype;return n.ir=function(){ea(this.n$);for(var t=0,n=this.xu.slice();t<n.length;t++){var i=n[t];this.it(i)}this.r$(),this.h$=0,this.In=0,this.o$=!1,this.a$=!1,this.u$=void 0},n.tt=function(t){if(!ia(this.xu,t)){if(this.xu.push(t),t.wn(Gw.Iv,this.c$),t.wn(Gw.Rv,this.l$),t.wn(Gw.xv,this.d$),t.wn(Gw.oa,this.f$),t.L.U>0){for(var n=0,i=t.L.Kv;n<i.length;n++){var r=i[n];this._$.push(r)}this.g$()}this.v$()}},n.it=function(t){if($c(this.xu,t)){if(t.pn(Gw.Iv,this.c$),t.pn(Gw.Rv,this.l$),t.pn(Gw.xv,this.d$),t.pn(Gw.oa,this.f$),t.L.U>0){for(var n=0,i=t.L.Kv;n<i.length;n++){var r=i[n];$c(this.n$,r),$c(this._$,r)}this.g$()}this.v$()}},n.v$=function(){this.o$=this.xu.some((function(t){return t.bw!==Yp.Th}))},n.w$=function(){this.Ko.Fc||this.Ko.Dc?this.r$():this.g$()},n.g$=function(){this.o$&&(this.h$||(this.h$=this.p$.m$(this.y$)))},n.r$=function(){this.h$&&(this.p$.A$(this.h$),this.h$=0)},n.b$=function(){if(this.o$&&!this.Ko.Fc){var t,n=this.xu,i=this.In,r=null!=(t=this.u$)?t:this.Ko.Wu,e=r-i<-.1,u=this.a$||e;u&&r>i&&r-i<.1&&(u=!1),this.a$=!1,this.u$=void 0;for(var s=[],o=0;o<n.length;o++){var c=n[o];if(c.bw!==Yp.Th){c.AJ(r,u);for(var a=0,h=c.W.Kv;a<h.length;a++){var f=h[a];s.push(f)}}}var v=this.n$.slice();if(u);else for(var d=0;d<n.length;d++){var _=n[d];_.bw!==Yp.Th&&Pk(_,i-He,r,v)}for(var g=v.length-1;g>=0;g--)ia(s,v[g])&&ta(v,g);var w=[];if(!u)for(var y=v.length-1;y>=0;y--){var m=v[y];m.PS>i&&m.RS<=r&&(w.push(m),ta(v,y))}for(var p=0,k=this._$;p<k.length;p++){$c(w,k[p])}ea(this._$);for(var A=[],b=[],T=0;T<w.length;T++){var S=w[T];S.oo||A.push(new TP(S,S.PS)),A.push(new EP(S,l.max(S.PS,S.RS))),S.oo=!1}for(var E=0;E<v.length;E++){var I=v[E];I.oo&&(A.push(new EP(I,l.max(I.PS,I.RS))),I.oo=!1)}for(var R=0;R<s.length;R++){var N=s[R];N.oo||(A.push(new TP(N,N.PS)),N.oo=!0)}A.sort(kO);for(var C=0;C<A.length;C++){var D=A[C],P=D.IS;P.To(D);var O=P.Ht;O&&(D.type===Ky.kS?O.To(new RP(P)):O.To(new CP(P)),ia(b,O)||b.push(O))}b.sort(Ok);for(var B=0;B<b.length;B++){var L=b[B];L.To(new OP(L))}this.In=r,this.n$=s}},n.bn=function(){this.ir(),this.Ko.pn($l.Lu,this.T$),this.Ko.pn($l.Ph,this.T$),this.Ko.pn(qk.Qf,this.T$),this.Ko.pn($l.Ch,this.T$),this.Ko.pn($l.If,this.S$),this.Ko.pn($l.Tf,this.k$)},t}(),bO=function(){function t(){}var n=t.prototype;return n.m$=function(t){return YR(t)},n.A$=function(t){jR(t)},t}(),TO=new bO,SO=function(t){function n(n,i){return void 0===i&&(i=TO),t.call(this,n,i)}return vr(n,t),n}(AO),EO=function(t){function n(n,i,r){return t.call(this,n,1/0,i,!1,r)}return vr(n,t),n.prototype.QS=function(t){return HP(this,t)},hr(n,[{key:"ma",get:function(){return this.Gu||(this.Gu=zP(this)),this.Gu}}]),n}(vm),IO=function(t){function n(n,i,r){return void 0===r&&(r=Gy.DEFAULT),t.call(this,gk.Ty,"",i||"","",!1,r,!1,n)}return vr(n,t),n}(bP),RO=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Iw=Gy.ID3,r}vr(n,t);var i=n.prototype;return i.vP=function(n){VP(n,this.nJ),t.prototype.vP.call(this,n)},i.pa=function(){return dk(this)},n}(IO);function NO(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,r=mO(t.value);return t.THEOplayerTextTrackCue=new EO(i,r),t.THEOplayerTextTrackCue}var CO=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).t$=function(){i.bw!==Yp.Th&&(i.$J(),i.WJ(Wy.LOADED))},i.vS=n,i.vS.addEventListener("cuechange",i.t$),i.bw=i.qJ,Ca((function(){i.t$()})),i}vr(n,t);var i=n.prototype;return i.Qo=function(n){t.prototype.Qo.call(this,n),this.qJ=this.bw},i.WJ=function(t){this.Nc=l.max(this.Nc,t)},i.$J=function(){var t=this.vS.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],r=0;r<n;r++)i.push(NO(t[r]||t.item(r)));return Hc(i,cP),i}(t),i=dP(this.L.Kv.slice(),n),r=0,e=i.sJ;r<e.length;r++){var u=e[r];this.EI(u)}for(var s=0,o=i.iJ;s<o.length;s++){var c=o[s];this.vP(c)}}},i.bn=function(){this.vS.removeEventListener("cuechange",this.t$),t.prototype.bn.call(this)},hr(n,[{key:"o",get:function(){return this.vS.id||""}},{key:"Aw",get:function(){return this.vS.inBandMetadataTrackDispatchType||""}},{key:"gs",get:function(){return this.vS.language||""}},{key:"qJ",get:function(){return fk(this.vS.mode)},set:function(t){this.vS.mode=t}},{key:"pS",get:function(){return this.vS}}]),n}(RO),DO=function(t){function n(n,i){var r;(r=t.call(this)||this).lP=n,r.I$=i,r.x$=Xo();var e=Uc(r);return r.qO=Mo((function(t){var n;return Uo(this,(function(i){switch(i.label){case 0:return(n=t.Ht).Iw?[3,2]:[4,n.eg(Gw.Vv)];case 1:i.sent(),i.label=2;case 2:if(n.Iw!==Gy.ID3)return[2];i.label=3;case 3:return 0!==n.L.U?[3,5]:[4,n.eg(Gw.Iv)];case 4:return i.sent(),[3,3];case 5:return e.R$(n),[2]}}))})),r.zO=function(t){var n=t.Ht;if(n.Iw===Gy.ID3&&r.x$.has(n.cw)){var i=r.x$.get(n.cw);r.it(i),r.lP.mP(i),n.pn(Gw.Iv,r.N$)}},r.N$=function(t){PO(t.IS)&&r.D$(t.IS)},r.E$(),r}vr(n,t);var i=n.prototype;return i.E$=function(){this.I$.wn(Xw.bv,this.qO),this.I$.wn(Xw.Sv,this.zO)},i.P$=function(){this.I$.pn(Xw.bv,this.qO),this.I$.pn(Xw.Sv,this.zO)},i.R$=function(t){var n=t.L.Kv[0];if(PO(n)){var i=function(t){var n=t.match(OO);if(!n)return;return{Ht:n[1],gs:n[2]}}(n.O.description),r=i.Ht,e=i.gs;if(!this.C$(r,e)){var u=this.lP.cP(gk.Ay,t.o,r,e,!1,Gy.TTML);this.tt(u),this.x$.set(t.cw,u);for(var s=0,o=t.L.Kv;s<o.length;s++){var c=o[s];PO(c)&&this.D$(c)}t.wn(Gw.Iv,this.N$)}}},i.C$=function(t,n){return this.Z.Kv.some((function(i){return i._h===t&&i.gs===n}))},i.D$=function(t){if(t.Ht)for(var n=this.x$.get(t.Ht.cw),i=$p(t.O.text,n,{xE:0,DE:1/0,NE:t.PS}),r=0;r<i.length;r++){var e=i[r];n.vP(e)}},i.ir=function(){var n=this;return Mo((function(){var i,r,e,u,s;return Uo(this,(function(o){switch(o.label){case 0:for(i=0,r=n.I$.Kv;i<r.length;i++)r[i].pn(Gw.Iv,n.N$);for(e=0,u=n.Z.Kv;e<u.length;e++)s=u[e],n.lP.mP(s);return n.x$.clear(),[4,t.prototype.ir.call(n)];case 1:return o.sent(),[2]}}))}))()},i.bn=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.P$(),[4,t.prototype.bn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(xk);function PO(t){return function(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(t)&&OO.test(t.description)}(t.O)}var OO=/^Track:(.+),Lang:(.+)$/;var BO=function(t){function n(n){var i;return(i=t.call(this,$l.Xw)||this).errorObject=n,i}return vr(n,t),hr(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Va),LO=function(t){function n(){return t.call(this,$l.Gw)}return vr(n,t),n}(Va),MO=function(t){function n(n){var i;return(i=t.call(this,"Em")||this).B$=n,i}return vr(n,t),n}(Va),xO=new Ul,UO=function(t){function n(n){var i;return(i=t.call(this,"Xs")||this).session=n,i}return vr(n,t),n}(Va),FO=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).U$=n,e.M$=i,e.F$=r,e.L$=!1,e.z$=!1,e.QN=new pa,e.sN=function(t){if(!e.QN.M_.R_)switch(t.yC){case"license-request":case"license-renewal":e.ZB(t.pC,t.AC).catch((function(t){return e.Ps(t)}));break;default:e.Ps(new by(Rl.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.yC))}},e.W$=function(t){e.U$.KD.xC((function(t,n){switch(t){case"usable":tr.q_((function(){e.z$=!0,e.To(new LO)}),100);break;case"expired":case"status-pending":default:break;case"output-restricted":case"internal-error":e.To(new MO(n))}}))},e.q$=function(t){e.Ps(new by(Rl.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},n.wn("pC",e.sN),n.wn("wC",e.W$),n.wn("lt",e.q$),n.XD.then((function(){return e.V$()}),(function(t){return e.Ps(t)})),e}vr(n,t);var i=n.prototype;return i.$D=function(){var t=this;return this.L$=!0,xO.GN((function(n){return t.O$(n)}),this.QN.M_)},i.O$=function(t){var n=this;return Mo((function(){var i,r,e,u;return Uo(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),ba(t),[4,n.M$.qB(t)];case 1:return s.sent(),[4,n.M$.zB(n.F$.fC,n.F$.kC,t)];case 2:return i=s.sent(),[4,n.U$.$D(n.F$.fC,n.F$.kC,i)];case 3:return s.sent(),[3,5];case 4:throw Ta(r=s.sent()),e=r instanceof Sf?r.OC:void 0,u=new by(Rl.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",r,void 0,void 0,void 0,void 0,e),n.Ps(u),u;case 5:return[2]}}))}))()},i.ZB=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),function(t){return ah(t,Af())}(t)?[4,i.M$.hL(new y(t),i.QN.M_)]:[3,2];case 1:return r=a.sent(),[3,4];case 2:return[4,i.M$.oL(new y(t),n,i.QN.M_)];case 3:r=a.sent(),a.label=4;case 4:return[3,6];case 5:if(Aa(e=a.sent()))return[2];throw e;case 6:if(i.QN.M_.R_)return[2];u=i.H$,s=new kf,i.H$=s,a.label=7;case 7:return a.trys.push([7,10,11,14]),[4,i.U$.Kn(r)];case 8:return a.sent(),[4,Ba(100)];case 9:return a.sent(),[3,14];case 10:throw o=a.sent(),c=o instanceof Sf?o.OC:void 0,new by(Rl.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o,void 0,void 0,void 0,void 0,c);case 11:return void 0===u?[3,13]:[4,u.jf];case 12:a.sent(),a.label=13;case 13:return s.Lf(),i.H$===s&&(i.H$=void 0),[7];case 14:return[2]}}))}))()},i.Ps=function(t){var n=t instanceof by?t:new by(Rl.CONTENT_PROTECTION_ERROR,t.message,t);this.To(new BO(n)),this.Xs()},i.V$=function(){this.U$.pn("pC",this.sN),this.U$.pn("wC",this.W$),this.U$.pn("lt",this.q$),this.z$=!1,this.QN.Jl(),this.To(new UO(this))},i.Xs=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:t.Lo(),i.label=1;case 1:return void 0===(n=t.H$)?[3,3]:[4,n.jf];case 2:i.sent(),i.label=3;case 3:if(t.H$!==n)return[3,1];i.label=4;case 4:return t.V$(),[4,t.U$.Xs().catch(Vr)];case 5:return i.sent(),[2]}}))}))()},n}(Ua),HO=[$l.Gw,$l.Xw,$l.Sm],VO=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Z$=[],e.Q$=void 0,e.Y$=[],e.J$=function(t){t.session.pn(HO,e.Os),t.session.pn("Xs",e.J$),$c(e.Z$,t.session)},e.cp=n,e.hN=i,e.X$=r,e}vr(n,t);var i=n.prototype;return i.WB=function(){return this.X$.WB()},i.G$=function(t){return this.Q$||(this.Q$=this.K$(t)),this.Q$},i.K$=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return ba(t),[4,n.X$.hL(new y(Af()),t)];case 1:if(i=r.sent(),ba(t),!n.hN)throw new f("Invalid MediaKeys when setting ServerCertificate");return[4,n.hN.oN(i.buffer)];case 2:return r.sent(),[2]}}))}))()},i.j$=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:if(!n.hN)throw new f("Invalid MediaKeys when creating KeySession");e.label=1;case 1:return e.trys.push([1,,3,4]),n.Y$.push(t),[4,n.hN.rN("temporary")];case 2:return i=e.sent(),r=new FO(i,n.X$,t),n.Z$.push(r),r.wn(HO,n.Os),r.wn("Xs",n.J$),[2,r];case 3:return $c(n.Y$,t),[7];case 4:return[2]}}))}))()},i.t0=function(t){if(t.e0)return!1;for(var n=0,i=this.Z$;n<i.length;n++){if(XO(i[n].F$,t))return!0}for(var r=0,e=this.Y$;r<e.length;r++){if(XO(e[r],t))return!0}return!1},i.bn=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return t.hN=void 0,t.Lo(),n=t.Z$.slice(),ea(t.Z$),[4,$.all(n.map((function(t){return t.Xs()})))];case 1:return i.sent(),t.X$.Ou(),[2]}}))}))()},hr(n,[{key:"ap",get:function(){return this.cp}}]),n}(Ua);function XO(t,n){return!t.e0&&t.fC===n.fC&&ah(t.kC,n.kC)}var zO=function(t){function n(n){var i;return(i=t.call(this)||this).QN=new pa,i.qX=new Ul,i.al=void 0,i.X$=void 0,i.tM=void 0,i.cp=void 0,i.g0=function(t){i.a0(t.fC,t.kC,i.QN.M_).catch((function(t){return i.Ps(t)}))},i.KO=n,i.KO.wn(xa.Yw,i.g0),i}vr(n,t);var i=n.prototype;return i.On=function(t,n){this.tM=t,this.FX(n)},i.FX=function(t){this.al=t,this.s0(this.QN.M_).catch(Sa)},i.s0=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return tr.Zs.n0?[4,n.r0(t)]:[3,2];case 1:if(i.sent())return[2];i.label=2;case 2:return n.al&&n.al.h0?[4,n.o0(t)]:[3,4];case 3:return[2,i.sent()];case 4:return[2]}}))}))()},i.r0=function(t){var n=this;return Mo((function(){var i,r,e,u,s,o,c,a,h,f,v;return Uo(this,(function(d){switch(d.label){case 0:if(!(null==(i=n.al)?void 0:i.hM))return[2,!1];e=!1,s=0,o=null!=(u=null==(r=n.al)?void 0:r.hM)?u:[],d.label=1;case 1:if(!(s<o.length))return[3,9];c=o[s],h=0,f=null!=(a=c.BO)?a:[],d.label=2;case 2:if(!(h<f.length))return[3,7];v=f[h],d.label=3;case 3:return d.trys.push([3,5,,6]),[4,n.a0(c.ap.fC,v,t)];case 4:return d.sent(),e=!0,[3,6];case 5:return Ta(d.sent()),[3,6];case 6:return h++,[3,2];case 7:if(e)return[2,!0];d.label=8;case 8:return s++,[3,1];case 9:return[2,!1]}}))}))()},i.a0=function(t,n,i){var r=this;return Mo((function(){var e,u,s,o,c,a,h,f,v,d;return Uo(this,(function(l){switch(l.label){case 0:if(ba(i),!n.byteLength)return[2];if(!r.al||!r.al.hM.length)throw new by(Rl.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(t!==Zo&&t!==$o&&t!==Jo)return[2];e=ZA(t,n),u=r.al.hM,o=0,l.label=1;case 1:if(!(o<u.length))return[3,11];if(c=u[o],ba(i),!(a=e[c.ap._C])||c.ap.fC!==t)return[3,10];l.label=2;case 2:return l.trys.push([2,9,,10]),[4,r.u0(c,i)];case 3:return(h=l.sent()).WB()?[4,h.G$()]:[3,5];case 4:l.sent(),l.label=5;case 5:return f=r.KO.Eg,v={fC:c.ap.fC,kC:a,e0:f},r.c0(h,v)?[4,h.j$(v)]:[3,8];case 6:return[4,l.sent().$D()];case 7:l.sent(),l.label=8;case 8:return[2];case 9:return Ta(d=l.sent()),s=d,[3,10];case 10:return o++,[3,1];case 11:return[4,tr.bN()];case 12:throw l.sent()?new by(Rl.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s):new by(Rl.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s)}}))}))()},i.o0=function(t){var n=this;return Mo((function(){var i,r,e,u,s;return Uo(this,(function(o){switch(o.label){case 0:if(!(r=null==(i=n.al)?void 0:i.hM))return[2];e=0,o.label=1;case 1:if(!(e<r.length))return[3,8];u=r[e],ba(t),o.label=2;case 2:return o.trys.push([2,6,,7]),[4,n.u0(u,t)];case 3:return(s=o.sent()).WB()?[4,s.G$()]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2];case 6:return Ta(o.sent()),[3,7];case 7:return e++,[3,1];case 8:return[2]}}))}))()},i.c0=function(t,n){return tr.Zs.l0||this.KO.d0.PX||!t.t0(n)},i.u0=function(t,n){var i=this;return this.qX.GN((function(n){return i.f0(t,n)}),n)},i.f0=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:if(ba(n),!i.al||!i.X$||!i.tM)throw new f("Not initialized");if(i.cp){if(i.cp.ap!==t.ap)throw new f("Internal key system error");return[2,i.cp]}return r=i.X$,u=xo({},t,{PM:t.PM.map((function(n){return xo({},n,{persistentState:null!=(e=n.persistentState)?e:r.vL(t.ap),kN:n.kN||r.kN(t.ap)})}))}),[4,i.tM.BX(u.ap,u.PM)];case 1:return s=a.sent(),o=r.DO(u),(c=new VO(u.ap,s,o)).wn([$l.Gw,$l.Xw,$l.Sm],i.Os),i.cp=c,[2,c]}}))}))()},i.Ps=function(t){if(!Aa(t)){var n=t instanceof by?t:new by(Rl.CONTENT_PROTECTION_ERROR,t.message,t);this.To(new BO(n))}},i.ir=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.tM=void 0,t.al=void 0,t.QN.Jl(),t.QN=new pa,[4,t._0()];case 1:return n.sent(),[2]}}))}))()},i._0=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return[4,t.qX.Jl()];case 1:return i.sent(),(n=t.cp)?(n.pn($l.Sm,t.Os),t.cp=void 0,[4,n.bn()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.Ou=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.Lo(),t.KO.pn(xa.Yw,t.g0),[4,t.ir()];case 1:return n.sent(),[4,t.qX.bn()];case 2:return n.sent(),[2]}}))}))()},hr(n,[{key:"i0",get:function(){var t;return null==(t=this.cp)?void 0:t.ap}},{key:"yM",get:function(){return this.X$},set:function(t){this.X$=t}}]),n}(Ua),WO=function(t){function n(n){var i;return(i=t.call(this,$l.hm)||this).currentTime=n,i}return vr(n,t),n}(Va),GO=function(t){function n(n){var i;return(i=t.call(this)||this).m0=n,i}vr(n,t);var i=n.prototype;return i.GZ=function(){var t;null==(t=this.v0)||t.GZ()},i.ir=function(){var t;null==(t=this.v0)||t.ir()},i.Ou=function(){this.Lo(),void 0!==this.v0&&(this.v0.Ou(),this.v0=void 0)},i.w0=function(t){if(this.v0!==t){var n=this.Nc;void 0!==this.v0&&this.v0.Ou(),this.v0=t,void 0!==t&&(t.wn(qk.Bf,this.Os),t.GZ());var i=this.Nc;n!==i&&this.To(new Kk(this.m0.Wu,i))}},hr(n,[{key:"Nc",get:function(){return void 0!==this.v0?this.v0.Nc:jk.zl}}]),n}(Ua),qO=Ir.bR||Ir.kR,YO=Ir.uC,jO=Ir.MR,QO=Ir.MR&&Ir.KP,KO=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).ZO=void 0,u.oF=!0,u.tM=void 0,u.I1=new Ul,u.T0=void 0,u.VF=new tI,u.v1=[],u.S0=void 0,u.i1=0,u.e1=NaN,u.b0=void 0,u.B1=void 0,u.Yl=!1,u.zZ=!1,u.f2=jk.zl,u.D0=0,u.$0=$.resolve(),u.J0=new pa,u.j0=[],u.Ho=ZE.Nl(),u.B0=void 0,u.O0=1,u.U0=!1,u.F0=1,u.y0=!1,u.L1=!1,u.O1=!1,u.s1=!1,u.P0=!1,u.R0=!1,u.A0=!1,u.c2=!1,u.F1=0,u.H0=!1,u.w1=function(t){var n=t.track,i=u.E1(n);u.b1(n,i)},u.m1=function(t){var n=JO(u.g1,t.track);n&&u.g1.it(n)},u.A1=function(){for(var t=0;t<u.g1.U;t++){var n=u.g1.Zv(t);n instanceof pO&&n.KJ()}},u.P1=function(){if(void 0!==u.tM&&wC(u.tM)){var t=u.tM,n=t.mZ,i=t.pZ;if(n&&i)if(t.$X)u.D1();else if(t.Nc!==zD.dY){var r=n.bl,e=i.bl;if(0!==r.U||0!==e.U){var s=u.Wu;if(s<r.Tn(0)||s<e.Tn(0))u.D1();else if(r.br(s)!==e.br(s)){if(t.HX(s))return;u.C1()}else{if(u.D1(),!u.F1&&u.af.JZ())r.AF(e).EF(s,s+.5)&&(u.F1=YR(u._2))}}else u.D1()}}},u._2=function(){u.F1=0,u.P1()},u.R1=function(){if(!u.Fc&&!u.Bc&&!(u.x0.Nc>=jk._f)&&void 0!==u.tM&&wC(u.tM)){var t=u.tM,n=t.mZ,i=t.pZ;if(n&&i){var r=u.Wu,e=n.bl,s=i.bl;if(e.br(r)&&s.br(r))e.AF(s).EF(r-5,r)&&(u.A0?u.D1():u.N1())}}},u.W1=function(){u.To(new mE(u.Wu))},u.q1=function(){u.Z0(new ka),u.To(new yE(u.Wu))},u.g2=function(){u.G0(),u.To(new iA(u.Wu))},u.K1=function(){u.L0()},u.Y1=function(){u.To(new pE(u.ct))},u.X1=function(){u.To(new SC(u.Wu))},u.G1=function(){u.To(new EC)},u.z1=function(){var t=u.Wu,n=u.Fc,i=u.x0.Nc<jk._f&&!u.Ic,r=void 0!==u.B1,e=r&&u.B1!==t;(n||!r||e&&!i)&&u.d1()},u.Q1=function(){!u.y0&&u.Ic&&(u.y0=!0,u.To(new AE(u.Wu)))},u.J1=function(){if(null!==u.nB.error){var t,n=u.nB.error;u.OM(new Ty(null!=(t=n.code)?t:Ay.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},u.t2=function(){u.L1&&(u.U1(),u.O1=!0)},u.w2=function(t){if(tr.W_(u.D0),u.D0=0,t.readyState<=jk.Hf)if(u.Yl||u.zZ){var n=tr.V_()-u.i1;if(n<250)return void(u.D0=tr.q_((function(){return u.w2(t)}),250-n))}else if(void 0!==u.tM&&u.tM.HX(u.Wu))return void(u.D0=tr.q_((function(){return u.w2(t)}),250));u.f2!==t.readyState&&(u.f2=t.readyState,u.To(t))},u.j1=function(){u.N0()},u.Z1=function(){u.Kg>0&&u.Xg>0&&u.To(new Yk)},u.e2=function(t){u.To(new Ya(t.initDataType,t.initData||new ArrayBuffer(0)))},u.i2=function(){u.To(new ja)},u.h2=function(t){var n=t.initData,i=n?wf(n).buffer:new ArrayBuffer(0);u.To(new Ya(Zo,i))},u.s2=function(t){if(t.initData){var n=function(t){try{var n=vf(t),i=new mf;return nf(rf(Oh(n,i,Fh(n,i,!0)),!0))}catch(t){return}}(t.initData);if(!n)return;u.To(new Ya($o,n))}else u.To(new Ya($o,new ArrayBuffer(0)))},u.n2=function(t){var n=t.initData,i=n?wf(n).buffer:new ArrayBuffer(0);u.To(new Ya(Zo,i))},u.z0=function(){u.G0()},u.X0=function(t){u.Z0(t)},u.m2=function(t){u.To(t),t.type===$l.Xw&&u.OM(Ey(t.errorObject))},u.nB=n,u.AN=i,u.E0=r,u.Sc=e,u.x0=new GO(Uc(u)),u.x0.wn(qk.Bf,u.w2),u.x0.w0(new nP(Uc(u))),u.af=new uP(Uc(u)),u.af.wn(qk.Qf,u.g2),u.UX=new zO(Uc(u)),u.UX.wn([$l.Gw,$l.Xw,$l.Sm],u.m2),u.xu=new wk,u.g1=new wk,u.V1=new UT([u.xu,u.g1]),u.H1=new DO(Uc(u),u.V1),u.f1=new UT([u.V1,u.H1.Z]),u._1=new SO(Uc(u)),u.M1(),u.RM(),u}vr(n,t);var i=n.prototype;return i.p0=function(){this.JO.ended||this.Wu===this.ct||(this.y0=!1)},i.I0=function(){return void 0!==this.S0&&this.ct===this.S0},i.L0=function(){var t=this.$u;this.O0!==t&&(this.O0=t,this.To(new kE(this.Wu,t)))},i.N0=function(){var t=this._l,n=this.Xu;this.F0===t&&this.U0===n||(this.F0=t,this.U0=n,this.To(new SE(this.Wu,this._l)))},i.Rg=function(){return KN(this.nB)},i.dl=function(){this.H0||(this.H0=!0);var t=this.V0();return this.W0(),t},i.W0=function(){this.P0?this.R0&&(this.R0=!1,this.To(new mE(this.Wu))):this.q0()},i.q0=function(){if(this.T0)this.T0.dl();else{Ir.MR&&!Ir.KP&&this.nB.preload===GE.$M&&(this.nB.preload=GE.Ty);var t=this.$u,n=this.nB.play();t!==this.JO.playbackRate&&(this.$u=t),Ur(n)?n.then(this.z0,this.X0):this.af.JZ()&&this.G0()}},i.jl=function(){this.P0?this.R0||(this.R0=!0,this.To(new yE(this.Wu))):this.Q0()},i.Q0=function(){this.T0?this.T0.jl():(this.nB.pause(),this.af.Kn()),this.K0(new ka)},i.V0=function(){var t=new kf;return this.j0.push(t),t.jf},i.Y0=function(){for(var t=0,n=this.j0;t<n.length;t++){n[t].Lf(void 0)}ea(this.j0)},i.K0=function(t){for(var n=0,i=this.j0;n<i.length;n++){i[n].BC(t)}ea(this.j0)},i.G0=function(){this.P0||this.T0||this.Y0()},i.Z0=function(t){this.P0||this.T0||this.K0(t)},i.gc=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.T0?this.T0.gc(t,n,i):(this.J0.Jl(),this.J0=new pa,this.$0=this.t1(t,n,i,this.$0,this.J0.M_).catch(Vr))},i.jO=function(t){var n=this.eM;if(n&&!w(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.gc(i)}},i.t1=function(t,n,i,r,e){var u=this;return Mo((function(){var s,o,c,a,h,f,v,d,_,g;return Uo(this,(function(w){switch(w.label){case 0:return w.trys.push([0,16,,17]),u.S0=t,u.e1=t,u.i1=tr.V_(),i&&!u.Yl?u.zZ=!0:(u.Yl=!0,u.zZ=!1),u.y0&&!u.I0()&&(u.y0=!1),u.zZ?u.To(new jD(u.Wu)):u.To(new bE(t)),[4,r.catch(Vr)];case 1:return w.sent(),ba(e),u.s1&&u.n1(),u.x0.Nc!==jk.zl?[3,3]:[4,u.x0.eg(qk.Bf,e)];case 2:w.sent(),w.label=3;case 3:return 0===u.nB.seekable.length||QO&&!u.H0?[4,$.race([kw(u.nB,"timeupdate",e),Ba(100,e)])]:[3,5];case 4:return w.sent(),ba(e),[3,3];case 5:s=XD(u.bl,t,.05),o=u.kl,c=!0,a=!1,w.label=6;case 6:return(o=u.kl).U>0&&!o.br(s)&&(s=o.vF(s),c=!0),n&&!u.nB.fastSeek&&((h=u.bl).br(s)||(f=XD(h,s,1))!==s&&(s=f,c=!0)),jO&&void 0!==(v=u.h1())&&s>v&&(s=v,c=!0),a?[3,9]:void 0!==(d=u.o1())&&s>d?(a=!0,[4,u.a1(d,!1,e)]):[3,9];case 7:return w.sent(),[4,kw(u.nB,"seeked",e)];case 8:w.sent(),ba(e),c=!0,w.label=9;case 9:return c?(c=!1,[4,u.a1(s,n,e)]):[3,13];case 10:w.sent(),ba(e),_=u.Wu,o=u.kl,s=o.vF(s),g=1,w.label=11;case 11:return l.abs(s-_)>=He?(o=u.kl,s=function(t,n,i){void 0===i&&(i=0);if(!n.U)return 0;var r=n.vF(t),e=ZO*i;r===n.Tn(0)?r+=e:r===n.Pn(n.U-1)&&(r-=e);return r}(s,o,g),[4,u.a1(s,n,e)]):[3,13];case 12:return w.sent(),ba(e),_=u.Wu,g++,[3,11];case 13:return u.nB.seeking||u.x0.Nc<jk.Hf?[4,Ra((function(t){var n;return $.race([kw(u.nB,"seeked",t),u.eg([$l.Rf,$l.Nf],t),u.x0.eg(qk.Bf,t),null==(n=u.tM)?void 0:n.eg(pC.sH,t)].filter(Cr))}),e)]:[3,15];case 14:return w.sent(),ba(e),[3,6];case 15:return u.u1(),[3,17];case 16:return Aa(w.sent())?[2]:[3,17];case 17:return[2]}}))}))()},i.a1=function(t,n,i){var r=this;return Mo((function(){var e,u,s;return Uo(this,(function(o){switch(o.label){case 0:if(ba(i),e=r.kl,t=e.vF(t),!r.s1)return[3,4];u=!0,o.label=1;case 1:return u||r.x0.Nc<jk._f?((e=r.kl).br(t)||(t=e.vF(t),u=!0),u?(u=!1,r.S0=t,r.c1(r.Wu),[3,1]):[4,Ra((function(t){return $.race([r.eg($l.Nf,t),r.x0.eg(qk.Bf,t)])}),i)]):[3,3];case 2:return o.sent(),[3,1];case 3:ba(i),o.label=4;case 4:return s=kw(r.nB,"seeking",i),n&&r.nB.fastSeek?r.nB.fastSeek(t):r.nB.currentTime=t,r.S0=void 0,r.c1(r.Wu),r.nB.seeking?[4,s]:[3,6];case 5:o.sent(),o.label=6;case 6:return[2]}}))}))()},i.h1=function(){if(this.tM&&this.tM.$X){var t=this.tM.tG,n=this.tM.eG,i=t&&n?t.Cn(n):t||n;if(i&&0!==i.U){var r=i.Tn(i.U-1),e=i.Pn(i.U-1);return l.max(r,e-.001)}}},i.o1=function(){if(this.tM&&this.tM.$X){var t=this.tM.eG;if(t&&0!==t.U){var n=t.Tn(t.U-1),i=t.Pn(t.U-1)-.02;return i-=.001,l.max(n,i)}}},i.c1=function(t){this.e1!==t&&(this.e1=t,this.zZ?this.To(new jD(t)):this.To(new bE(t)))},i.u1=function(){var t=this.zZ;this.Yl=!1,this.zZ=!1,this.i1=0,this.e1=NaN,this.s1&&this.l1(),t?(this.To(new WO(this.Wu)),this.d1()):this.To(new TE(this.Wu))},i.n1=function(){this.P0||(this.R0=this.Dc,this.P0=!0,this.Q0())},i.l1=function(){this.P0&&(this.P0=!1,this.R0||this.W0())},i.iG=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Iw===Gk.vB&&TC.iG(i,this.nB))return i;if(i.Iw===Gk.wB&&qD.iG(i))return i}},i.ke=function(){this.oF=!1,ao(this.nB)&&(this.nB.style.display="none")},i.be=function(){this.oF=!0,ao(this.nB)&&(this.nB.style.display="block")},i.cP=function(t,n,i,r,e,u,s,o,c){var a=new bP(t,n,i,r,e,u,s,c,o);return this.xu.tt(a),this._1.tt(a),a},i.dM=function(){return!0},i._M=function(t,n,i,r,u){var s=e.createElement("track");s.src=U_(t),s.kind=n,s.label=null!=i?i:"",r&&(s.srclang=r),s.default=!!u,s.id=BR(),this.nB.appendChild(s);var o=this.nB.textTracks.getTrackById(s.id),c=new pO(o,s);return this.g1.tt(c),this.v1.push(c),c},i.mP=function(t){this.xu.it(t),this._1.it(t)},i.vM=function(){for(var t=0,n=this.xu.Kv.slice();t<n.length;t++){n[t].bn()}this.xu.ir();for(var i=0,r=this.v1.slice();i<r.length;i++){var e=r[i];this.g1.it(e),e.bn()}ea(this.v1)},i.RM=function(){var t=this.nB.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.w1),t.addEventListener("removetrack",this.m1),t.addEventListener("change",this.A1))},i.pM=function(){var t=this.nB.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.w1),t.removeEventListener("removetrack",this.m1),t.removeEventListener("change",this.A1))},i.b1=function(t,n){if(Ir.MR){if(t.kind===gk.Ty)return void this.T1(t);if(t.kind===gk.fI&&""===t.label&&""===t.language&&!$O(t))return void this.S1(t,n)}JO(this.g1,t)||this.g1.tt(new pO(t,n))},i.T1=function(t){t.mode=Yp.Tw;var n=new CO(t);this.g1.tt(n),this._1.tt(n)},i.S1=function(t,n){var i=this,r=function(){$O(t)&&(t.removeEventListener("cuechange",r),i.g1.tt(new pO(t,n)))};t.addEventListener("cuechange",r),t.mode=Yp.Tw},i.E1=function(t){for(var n=this.nB.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.On=function(t){var n=this;return this.I1.GN(Mo((function(i){var r,e;return Uo(this,(function(u){switch(u.label){case 0:if(ba(i),n.tM)throw new f("Already loaded a media source");if(t.Iw===Gk.vB)r=new TC(t,n,n.UX,n.AN),n.s1=!1,n.x0.w0(new nP(n));else{if(t.Iw!==Gk.wB)throw new f("Unsupported configuration");e=n.s1?new iP(n):new nP(n),r=new qD(t,n,e,n.UX,n.AN,void 0,n.wZ),n.s1=qO,n.x0.w0(e),YO&&(n.wn($l.Lu,n.P1),n.x0.wn(qk.Bf,n.R1))}return n.tM=r,[4,r.Jq()];case 1:return u.sent(),[2,r]}}))})))},i.C1=function(){if(!this.A0){var t=this.$u;this.A0=!0,this.$u=t,this.nB.playbackRate=0,this.x0&&this.x0.GZ()}},i.D1=function(){if(this.A0){var t=this.$u;this.A0=!1,this.$u=t,this.N1()}},i.N1=function(){this.nB.currentTime=this.nB.currentTime,this.x0&&this.x0.GZ()},i.ir=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.Yl=!1,t.zZ=!1,tr.W_(t.D0),t.D0=0,t.Ho=ZE.Nl(),t.J0.Jl(),t.S0=void 0,t.e1=NaN,t.b0=void 0,t.s1=!1,t.P0=!1,t.ZO=void 0,t.y0=!1,t.B1=void 0,t.L1=!1,t.H0=!1,t.O1&&(t.M1(),t.O1=!1),t.K0(new ka),t.x0.w0(new nP(t)),t.af.ir(),t.g1.ir(),t.D1(),YO&&(jR(t.F1),t.F1=0,t.pn($l.Lu,t.P1)),[4,t.I1.Jl()];case 1:return n.sent(),[4,t.I1.GN(Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.tM?[4,t.tM.Ou()]:[3,2];case 1:n.sent(),t.tM=void 0,n.label=2;case 2:return[2]}}))})))];case 2:return n.sent(),[2]}}))}))()},i.Ou=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.O1=!1,t.U1(),t.pM(),[4,t.ir()];case 1:return n.sent(),[4,t.I1.bn()];case 2:return n.sent(),t.af.Ou(),t.x0.Ou(),[4,t.UX.Ou()];case 3:return n.sent(),t.vM(),t.xu.bn(),t.g1.bn(),[4,t.H1.bn()];case 4:return n.sent(),t.V1.bn(),t.f1.bn(),t.Lo(),[2]}}))}))()},i.M1=function(){this.JO.addEventListener("play",this.W1),this.JO.addEventListener("pause",this.q1),this.JO.addEventListener("timeupdate",this.z1),this.JO.addEventListener("progress",this.X1),this.JO.addEventListener("loadstart",this.G1),this.JO.addEventListener("ended",this.Q1),this.JO.addEventListener("ratechange",this.K1),this.JO.addEventListener("volumechange",this.j1),this.JO.addEventListener("durationchange",this.Y1),this.JO.addEventListener("resize",this.Z1),this.JO.addEventListener("loadedmetadata",this.Z1),this.JO.addEventListener("error",this.J1),this.JO.addEventListener("emptied",this.t2),Bc()?(this.nB.addEventListener("encrypted",this.e2),this.nB.addEventListener("waitingforkey",this.i2)):void 0!==qs.WebKitMediaKeys&&"function"==typeof qs.WebKitMediaKeys.isTypeSupported?this.nB.addEventListener("webkitneedkey",this.s2):Lc()?this.nB.addEventListener("webkitneedkey",this.n2):void 0!==qs.MSMediaKeys&&"function"==typeof qs.MSMediaKeys.isTypeSupported&&this.nB.addEventListener("msneedkey",this.h2)},i.U1=function(){this.JO.removeEventListener("play",this.W1),this.JO.removeEventListener("pause",this.q1),this.JO.removeEventListener("timeupdate",this.z1),this.JO.removeEventListener("progress",this.X1),this.JO.removeEventListener("loadstart",this.G1),this.JO.removeEventListener("ended",this.Q1),this.JO.removeEventListener("ratechange",this.K1),this.JO.removeEventListener("volumechange",this.j1),this.JO.removeEventListener("durationchange",this.Y1),this.JO.removeEventListener("resize",this.Z1),this.JO.removeEventListener("loadedmetadata",this.Z1),this.JO.removeEventListener("error",this.J1),this.JO.removeEventListener("encrypted",this.e2),this.JO.removeEventListener("waitingforkey",this.i2),this.JO.removeEventListener("webkitneedkey",this.s2),this.JO.removeEventListener("webkitneedkey",this.n2),this.JO.removeEventListener("msneedkey",this.h2),this.JO.removeEventListener("emptied",this.t2)},i.o2=function(){this.T0||(this.Ho=this.wl,this.T0=ZD(this),this.U1(),this.T0.wn(QD,this.Os))},i.a2=function(){if(this.T0){var t=this.T0;this.T0=void 0,this.x0.GZ(),JD(this,t),t.Ou(),this.M1()}},i.d1=function(){var t=this.Wu;this.To(new Fw(t,void 0)),this.B1=t},i.OM=function(t){this.ZO=t,this.K0(this.ZO),this.To(new sP(this.ZO))},i.fl=function(){this.u2||(RL(this.nB,tr.Zs),this.c2=!0)},i.l2=function(t){t.appendChild(this.nB)},i.AY=function(){YO&&this.P1(),this.x0.GZ()},i.wv=function(){this.UX._0().catch(Vr),this.g1.ir()},hr(n,[{key:"KZ",get:function(){return this.A0}},{key:"bl",get:function(){return this.tM?this.tM.bl:ZE.Nl()}},{key:"qu",get:function(){var t=this.eM;if(t&&!w(t.getTime())){var n=1e3*this.Wu;return new Date(t.getTime()+n)}}},{key:"eM",get:function(){if(this.JO.getStartDate)return this.Yl&&this.b0||(this.b0=this.JO.getStartDate()),this.b0}},{key:"Wu",get:function(){return this.T0?this.T0.Wu:void 0!==this.S0?this.S0:this.nB.currentTime}},{key:"k0",get:function(){return this.E0}},{key:"ct",get:function(){return this.T0?this.T0.ct:this.tM?this.tM.ct:this.nB.duration}},{key:"Ic",get:function(){return this.Fc?this.I0():this.T0?this.T0.Ic:this.nB.ended||this.y0}},{key:"lt",get:function(){return this.ZO}},{key:"JO",get:function(){return this.nB}},{key:"Dc",get:function(){return this.P0?this.R0:this.T0?this.T0.Dc:this.nB.paused}},{key:"wl",get:function(){return this.Ho.Hl(ZE.Sn(this.nB.played))}},{key:"Ci",get:function(){return this.nB.offsetHeight*tr.Zs.C0}},{key:"Ti",get:function(){return this.nB.offsetWidth*tr.Zs.C0}},{key:"wa",get:function(){return this.VF}},{key:"Nc",get:function(){return this.x0.Nc}},{key:"kl",get:function(){return this.tM?this.tM.kl:ZE.Nl()}},{key:"Fc",get:function(){return this.T0?this.T0.Fc:this.Yl}},{key:"Bc",get:function(){return this.T0?this.T0.Bc:this.zZ}},{key:"$c",get:function(){return 0!==this.D0}},{key:"Xu",get:function(){return this.T0?this.T0.Xu:this.nB.muted},set:function(t){this.T0?this.T0.Xu=t:(this.nB.muted=t,this.N0())}},{key:"$u",get:function(){return this.T0?this.T0.$u:void 0!==this.B0?this.B0:this.nB.playbackRate},set:function(t){this.T0?this.T0.$u=t:this.Dc||this.A0?(this.B0=t,this.L0()):(this.B0=void 0,this.nB.playbackRate=t,this.L0())}},{key:"M0",get:function(){return this.oF}},{key:"_l",get:function(){return this.T0?this.T0._l:this.nB.volume},set:function(t){this.T0?this.T0._l=t:(this.nB.volume=t,this.N0())}},{key:"nt",get:function(){return this.f1}},{key:"Cu",get:function(){return this.Sc}},{key:"Eg",get:function(){return!!this.nB.webkitCurrentPlaybackTargetIsWireless}},{key:"u2",get:function(){return this.c2}},{key:"d0",get:function(){return xo({},gC)}},{key:"yM",get:function(){return this.UX.yM},set:function(t){this.UX.yM=t}},{key:"d2",get:function(){return this.wZ},set:function(t){this.wZ=t}},{key:"i0",get:function(){return this.UX.i0}},{key:"tv",get:function(){return this.L1},set:function(t){this.L1=t,this.O1&&!this.L1&&(this.O1=!1,this.M1())}}]),n}(Ua);var ZO=.01;function JO(t,n){for(var i=0,r=t.Kv;i<r.length;i++){var e=r[i];if(e.pS===n)return e}}function $O(t){return!!t.cues&&t.cues.length>0}var tB={fX:void 0,_X:void 0,gX:void 0,vX:void 0,wX:void 0,mX:void 0,TX:void 0,pX:void 0,yX:void 0,AX:void 0,bX:void 0},nB=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Gu=void 0,n}return vr(n,t),hr(n,[{key:"ma",get:function(){return this.Gu||(this.Gu=aC(this)),this.Gu}},{key:"fX",get:function(){}},{key:"_X",get:function(){}},{key:"gX",get:function(){}},{key:"vX",get:function(){}},{key:"wX",get:function(){}},{key:"mX",get:function(){}},{key:"TX",get:function(){}},{key:"pX",get:function(){}},{key:"yX",get:function(){}},{key:"AX",get:function(){}},{key:"bX",get:function(){}}]),n}(Ua),iB=function(t){function n(n,i,r){return t.call(this,n,i,r,new nB)}return vr(n,t),n.prototype.rv=function(){},hr(n,[{key:"Xg",get:function(){return 0}},{key:"Kg",get:function(){return 0}}]),n}(KO),rB=function(){function t(t){void 0===t&&(t=5);var n=qs.document.createElement("div");n.className="theoplayer-texttracks",n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.A2=n,this.be()}var n=t.prototype;return n.ke=function(){this.A2.style.display="none"},n.be=function(){this.A2.style.display="block"},n.l2=function(t){t.appendChild(this.A2)},n.bn=function(){Js(this.A2)},hr(t,[{key:"je",get:function(){return this.A2}}]),t}();function eB(t,n){return xo({},n,ry(function(t){return{fX:t.fX,_X:t._X,gX:t.gX,vX:t.vX,wX:t.wX,mX:t.mX,TX:t.TX,pX:t.pX,yX:t.yX,AX:t.AX,bX:t.bX}}(t)))}function uB(t){return t.gX&&bc(t.gX,"%")?Number(t.gX.replace("%",""))/100:t.gX&&bc(t.gX,"em")?Number(t.gX.replace("em","")):1}var sB,oB,cB=function(){function t(t,n,i,r,e){var u=this;this.U2=Xo(),this.e3=!0,this.R2=xo({},tB),this.s3=[],this.H2=function(t){return u.vP(t.IS)},this.V2=function(t){return u.EI(t.IS)},this.W2=function(){return u.Z2()},this.X2=function(t){return u.j2(t.IS)},this.G2=function(t){return u.Y2(t.IS)},this.Q2=function(t){return u.i3(t.IS)},this.D2=function(t){u.N2(t.width,t.height)},this.HS=t,this.L2=this.I2=e,this.nB=this.o3(i),this.E0=r,n.appendChild(this.nB)}var n=t.prototype;return n.b2=function(t){var n=this.T2(t);if(!n)return!1;for(var i=0;i<n.length;i++){Js(n[i])}return this.S2(t),!0},n.Jq=function(){var t=this;this.C2(),this.HS.L.Kv.forEach((function(n){return t.vP(n)})),this.k0.wn(ZR.gn,this.D2),this.N2(this.k0.tW,this.k0.JV)},n.B2=function(t){this.R2=t,this.I2=eB(this.R2,this.L2),this.I2.fX&&(this.JO.style.fontFamily=this.I2.fX),this.I2.TX&&(this.JO.style.visibility=this.I2.TX),this.N2(this.k0.tW,this.k0.JV),this.O2(!0)},n.M2=function(){return this.I2},n.F2=function(t){return this.U2.has(t.cw)},n.C2=function(){this.HS.wn(Gw.Iv,this.H2),this.HS.wn(Gw.Rv,this.V2),this.HS.wn(Gw.oa,this.W2)},n.q2=function(){this.HS.pn(Gw.Iv,this.H2),this.HS.pn(Gw.Rv,this.V2),this.HS.pn(Gw.oa,this.W2)},n.z2=function(t){t.wn(Ky.kS,this.X2),t.wn(Ky.ES,this.G2),t.wn(Ky.qv,this.Q2)},n.K2=function(t){t.pn(Ky.kS,this.X2),t.pn(Ky.ES,this.G2),t.pn(Ky.qv,this.Q2)},n.vP=function(t){this.z2(t),t.oo&&this.j2(t)},n.EI=function(t){this.K2(t),this.Y2(t)},n.Z2=function(){this.HS.bw===Yp.Qn?this.J2():this.t3()},n.J2=function(){if(this.e3){this.e3=!1;var t=this.k0.tW,n=this.k0.JV;this.N2(t,n),this.O2(!1)}},n.t3=function(){this.e3||(this.e3=!0,this.O2(!0))},n.j2=function(t){this.e3||t.oo&&!this.F2(t)&&this.O2(!1)},n.Y2=function(t){this.F2(t)&&this.O2(!0)},n.i3=function(t){(t.oo||this.F2(t))&&this.O2(!0)},n.O2=function(t){var n=this.s3,i=this.e3?[]:this.HS.W.Kv.slice();this.n3(i,n,t),this.s3=i},n.T2=function(t){return this.U2.get(t.cw)},n.r3=function(t,n){this.U2.set(t.cw,n)},n.S2=function(t){this.U2.delete(t.cw)},n.h3=function(){return this.s3.slice()},n.bn=function(){var t=this;Js(this.JO),this.U2.clear(),this.q2(),this.HS.L.Kv.forEach((function(n){return t.K2(n)})),this.k0.pn(ZR.gn,this.D2)},hr(t,[{key:"Ht",get:function(){return this.HS}},{key:"JO",get:function(){return this.nB}},{key:"k0",get:function(){return this.E0}},{key:"E2",get:function(){return this.I2}},{key:"P2",get:function(){return this.R2}}]),t}();function aB(t){return hB[t||"none"]}!function(t){t.Fa='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.Ba='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.$a='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.Ra='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(sB||(sB={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(oB||(oB={}));var hB={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},fB=zo({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif"}),vB={_X:oB.WHITE,fX:"Arial, Helvetica, Sans-Serif",gX:"100%",vX:oB.TRANSPARENT,wX:oB.TRANSPARENT,mX:"none",TX:"visible",pX:void 0,yX:void 0,AX:void 0,bX:void 0},dB=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,vB)}vr(n,t);var i=n.prototype;return i.o3=function(t){var n=e.createElement("div");n.className="theoplayer-ttml-texttrack-"+t;var i=n.style;return i.position="absolute",eo(i,"flex"),i.overflow="hidden",i.pointerEvents="none",i.top="0",i.left="0",i.width="100%",i.height="100%",n},i.N2=function(t,n){var i=l.min(t,n)/15;this.JO.style.fontSize=i+"px"},i.n3=function(t,n,i){for(var r=0;r<n.length;r++){var e=n[r];!i&&e.oo||this.b2(e)}for(var u=0;u<t.length;u++){var s=t[u];this.l3(s)}},i.l3=function(t){var n=this.T2(t);n||(n=this.d3(t),this.r3(t,n));for(var i=0;i<n.length;i++){var r=n[i];this.JO.appendChild(r)}},i.d3=function(t){var n=[],i=t.UE,r=t.BE,u=t.O;if(0===d.keys(r).length){var s=e.createElement("div");bB(s),lB(u,i,t.WE,s,s),s.firstChild&&n.push(s)}else for(var o=0,c=d.keys(r);o<c.length;o++){var a=c[o],h=e.createElement("div");h.id=a,bB(h),wB(h,"region",r[a],i),lB(u,i,t.WE,h,h),h.firstChild&&n.push(h)}return n},i.B2=function(t){!function(t,n){var i,r;t.style.marginTop=(null!=(i=n.pX)?i:0)+"px",t.style.marginBottom=(null!=(r=n.yX)?r:0)+"px",t.style.height="calc(100% - "+t.style.marginTop+" - "+t.style.marginBottom+")"}(this.JO,t),dC(this.JO,t)},n}(cB);function lB(t,n,i,r,u){if(Tw(t)&&function(t){return"SPAN"===t.hI.toUpperCase()||"P"===t.hI.toUpperCase()||"BR"===t.hI.toUpperCase()||"DIV"===t.hI.toUpperCase()||"BODY"===t.hI.toUpperCase()}(t)){var s=_B(t);if(!s||(null==u?void 0:u.id)===s){var o;if("BODY"===t.hI.toUpperCase())o=u;else{if(o=function(t){var n;switch(t.hI.toUpperCase()){case"BR":n=e.createElement("br");break;case"SPAN":gB(n=e.createElement("span"),t);break;case"P":(function(t){var n=t.style;n.fontFamily="inherit",n.color="inherit",n.textAlign="inherit",n.padding="0",n.margin="0",n.lineHeight="inherit"})(n=e.createElement("p")),gB(n,t);break;case"DIV":gB(n=e.createElement("div"),t)}return n}(t),!o)return;r.appendChild(o)}!function(t,n,i,r){var e=n.cI("style");pB(t,n.hI,e,i,r),function(t,n,i){for(var r=0,e=n.rI;r<e.length;r++){var u=e[r];kB(t,n.hI,u.hI,u.kT,i)}}(t,n,r)}(o,t,n,u),function(t,n,i){var r=null==n?void 0:n.cI("smpte:backgroundImage");if(r){r=r.replace("#","");var e=i&&yB(i,(function(t){return t.rI.some((function(t){return"id"===t.hI&&t.kT===r}))}));e&&mB(t,e,n,!0)}!function(t,n){var i=Fo(n.m,1),r=i[0];if(!r||"metadata"!==r.hI.toLowerCase())return;var e=Fo(r.m,1),u=e[0];mB(t,u,n)}(t,n)}(o,t,i);for(var c=0,a=t.lI;c<a.length;c++){lB(a[c],n,i,o,u)}}}else if(Sw(t)){var h=e.createTextNode(t.Ny);r.appendChild(h)}}function _B(t){var n=t.cI("region");if("p"===t.hI.toLowerCase())return n;for(var i,r=[],e=0,u=t.m;e<u.length;e++){var s=u[e];r.push(_B(s))}return fa(r),0===r.length?n:1===r.length?null!=(i=r[0])?i:n:void 0}function gB(t,n){var i=n.uI(zp,"id");i&&(t.id=i)}function wB(t,n,i,r){pB(t,n,i.style,r,t);for(var e=0,u=d.keys(i);e<u.length;e++){var s=u[e];kB(t,n,s,i[s],t)}}function yB(t,n){if(n(t))return t;for(var i=0,r=t.m;i<r.length;i++){var e=yB(r[i],n);if(e)return e}return null}function mB(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var u=e.createElement("img");u.src=function(t){var n=t&&t.lI.length>0?t.lI[0]:null;return n&&Sw(n)?"data:image/png;base64,"+n.Ny:""}(n),u.id=t.id,u.style.height="100%",u.style.maxWidth="100%",function(t,n){var i=t.style;eo(i,"flex");var r=n.cI("smpte:backgroundImageVertical");if(r)switch(r.toLowerCase()){case"left":i.alignItems="flex-start";break;case"center":i.alignItems="center";break;case"right":i.alignItems="flex-end";break;case"inherit":i.alignItems="inherit"}else i.alignItems="center";var e=n.cI("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":i.justifyContent="flex-start";break;case"center":i.justifyContent="center";break;case"right":i.justifyContent="flex-end";break;case"inherit":i.justifyContent="inherit"}else i.justifyContent="center"}(t,i),t.appendChild(u)}function pB(t,n,i,r,e){if(i)for(var u=0,s=i.split(" ");u<s.length;u++){var o=s[u];if(r[o])for(var c=0,a=d.keys(r[o]);c<a.length;c++){var h=a[c];"style"===h.toLowerCase()?pB(t,n,r[o][h],r,e):kB(t,n,h,r[o][h],e)}}}function kB(t,n,i,r,e){var u=t.style;switch(i){case"backgroundColor":u.backgroundColor=r;break;case"color":u.color=r;break;case"direction":u.direction=r;break;case"display":"none"===r&&(u.display="none");break;case"fontFamily":var s=fB.get(r);u.fontFamily=s||r;break;case"fontSize":bc(r,"px")?r=_(r)/24+"em":bc(r,"c")&&(r=r.replace("c","em")),u.fontSize=r;break;case"fontStyle":u.fontStyle=r;break;case"fontWeight":u.fontWeight=r;break;case"lineHeight":u.lineHeight=r;break;case"opacity":u.opacity=r;break;case"overflow":u.overflow=r;break;case"padding":u.padding=r;break;case"textAlign":"right"===r?(u.textAlign="right",u.justifyContent="flex-end"):"start"===r?(u.textAlign="start",u.justifyContent="flex-start"):"center"===r?(u.textAlign="center",u.justifyContent="center"):"end"===r?(u.textAlign="end",u.justifyContent="flex-end"):"left"===r&&(u.textAlign="left",u.justifyContent="flex-start");break;case"textDecoration":var o=r;o=(o=(o=(o=o.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough","none")).replace("noOverline","none"),u.textDecoration=o;break;case"unicodeBidi":u.unicodeBidi=r.replace("bidiOverride","bidi-override");break;case"visibility":u.visibility=r;break;case"zIndex":u.zIndex=r;break;case"displayAlign":var c;if("before"===r.toLowerCase())c="flex-start";else if("center"===r.toLowerCase())c="center";else{if("after"!==r.toLowerCase())return;c="flex-end"}u.alignItems=c;break;case"extent":var a,h,f=AB(n.toLowerCase())?e:t,v=r.split(" ");v.length>=2?(a=v[0],h=v[1]):a=h="100%",f&&(f.style.height=h,f.style.width=a);break;case"origin":var d=AB(n.toLowerCase())?e:t,l=Fo(r.split(" "),2),g=l[0],w=l[1];d&&(g||w)&&(g&&(d.style.left=g),w&&(d.style.top=w));break;case"showBackground":case"textOutline":break;case"wrapOption":u.whiteSpace=r.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":var y,m,p,k;switch(r){case"lrtb":case"lr":y="horizontal-tb";break;case"rltb":y="horizontal-tb",m="rtl",k="bidi-override";break;case"tbrl":case"tb":y="vertical-rl",p="upright";break;case"tblr":y="vertical-lr",p="upright";break;case"rl":y="horizontal-tb",m="rtl";break;default:return}u.writingMode=y,u.setProperty("-webkit-writing-mode",y),m&&(u.direction=m),p&&(u.textOrientation=p,u.setProperty("-webkit-text-orientation",p)),k&&(u.unicodeBidi=k);break;case"linePadding":if(bc(r,"c")){var A=r.replace("c","em");u.paddingLeft=u.paddingRight=A}break;case"multiRowAlign":"auto"===r.toLowerCase()?u.textAlign="":u.textAlign=r}}function AB(t){return"div"===t||"p"===t||"span"===t}function bB(t){var n=t.style;eo(n,"flex"),n.top="auto",n.left="5%",n.width="90%",n.height="100%",n.maxHeight="100%",n.maxWidth="100%",n.alignItems="flex-start",n.overflow="visible",n.position="absolute",n.fontFamily="Arial, Helvetica, Sans-Serif",n.color="white",n.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",n.textAlign="start",n.writingMode="horizontal-tb",n.setProperty("-webkit-writing-mode","horizontal-tb"),n.padding="0",n.margin="0",n.lineHeight="1.3em"}var TB,SB,EB=void 0;function IB(t){return EB||(EB=qs.document.createElement("textarea")),EB.innerHTML=t,EB.value}function RB(t,n){for(var i="Data",r="",e=[],u=t.charAt(n.Au),s="",o={Iw:"starttag",DL:"",f3:[]};n.Au<t.length+1;){switch(u=n.Au<t.length?t.charAt(n.Au):"EOF",i){case"Data":switch(u){case"&":var c=t.substring(n.Au).match(/&#?[0-9a-zA-Z]+;/);c?(r+=IB(c[0]),n.Ey(c[0].length-1)):r+="&";break;case"<":if(r)return{Iw:"string",O:r};i="Tag";break;case"EOF":return{Iw:"string",O:r};default:r+=u}break;case"Tag":switch(u){case"\t":case"\n":case"\f":case" ":i="StartTagAnnotation";break;case".":i="StartTagClass";break;case"/":i="EndTag";break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,i="TimestampTag";break;case">":return n.Ey(1),o;case"EOF":return o;default:r=u,i="StartTag"}break;case"StartTag":switch(u){case"\t":case"\f":case" ":i="StartTagAnnotation";break;case"\n":s=u,i="StartTagAnnotation";break;case".":i="StartTagClass";break;case">":return n.Ey(1),{Iw:"starttag",DL:r,f3:[]};case"EOF":return{Iw:"starttag",DL:r,f3:[]};default:r+=u}break;case"StartTagClass":switch(u){case"\t":case"\f":case" ":e.push(s),s="",i="StartTagAnnotation";break;case"\n":e.push(s),s=u,i="StartTagAnnotation";break;case".":e.push(s),s="";break;case">":return n.Ey(1),e.push(s),{Iw:"starttag",DL:r,f3:e};case"EOF":return e.push(s),{Iw:"starttag",DL:r,f3:e};default:s+=u}break;case"StartTagAnnotation":switch(u){case"&":i="CharRefInAnnotation";break;case">":n.Ey(1);var a=s.trim();return{Iw:"starttag",DL:r,f3:e,_3:a=a.replace(/\s/," ")};default:s+=u}break;case"CharRefInAnnotation":for(var h="",f=n.Au;">"===t.charAt(f);f++)h+=t.charAt(f);s+=h||"&",i="StartTagAnnotation";break;case"EndTag":switch(u){case">":return n.Ey(1),{Iw:"endtag",DL:r};case"EOF":return{Iw:"endtag",DL:r};default:r+=u}break;case"TimestampTag":switch(u){case">":return n.Ey(1),{Iw:"timestamp",g3:r};case"EOF":return{Iw:"timestamp",g3:r};default:r+=u}}n.Ey(1)}return o}function NB(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}!function(t){t.v3="Data",t.w3="Tag",t.m3="StartTag",t.y3="StartTagClass",t.A3="StartTagAnnotation",t.b3="CharRefInAnnotation",t.T3="EndTag",t.S3="TimestampTag"}(TB||(TB={})),function(t){t.E3="string",t.I3="starttag",t.P3="endtag",t.R3="timestamp"}(SB||(SB={}));var CB,DB=function(){function t(t,n,i,r){this.x3=t,this.N3=n,this.Ti=i,this.Ci=r}var n=t.prototype;return n.B3=function(t){return this.x3<t.C3&&this.C3>t.x3&&this.N3<t.D3&&this.D3>t.N3},n._S=function(t){return this.x3<=t.x3&&t.C3<=this.C3&&this.N3<=t.N3&&t.D3<=this.D3},n.Iy=function(){return new t(this.x3,this.N3,this.Ti,this.Ci)},n.L3=function(n){return new t(this.x3+n,this.N3+n,l.max(0,this.Ti-2*n),l.max(0,this.Ci-2*n))},hr(t,[{key:"C3",get:function(){return this.x3+this.Ti},set:function(t){this.x3=t-this.Ti}},{key:"D3",get:function(){return this.N3+this.Ci},set:function(t){this.N3=t-this.Ci}}]),t}(),PB={_X:oB.WHITE,fX:"sans-serif",gX:"100%",vX:"rgba(0,0,0,0.8)",wX:oB.TRANSPARENT,mX:"none",TX:"visible",pX:void 0,yX:void 0,AX:void 0,bX:void 0},OB="theoplayer-webvtt-region-",BB="theoplayer-webvtt-styling-",LB="theoplayer-webvtt-default-style",MB=5.23,xB=1.14,UB=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,PB)||this).U3=Vo(),u.F3=WB(3),u}vr(n,t);var i=n.prototype;return i.o3=function(t){var n=e.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,oo(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.E2.fX;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(e.getElementById(LB))return;for(var t=[],n=0;n<$B.length;n++){var i=Fo($B[n],2),r=i[0],u=i[1];t.push("."+BB+r+" { color: "+u+" !important; }"),t.push("."+BB+"O3"+r+" { background-color: "+u+" !important; }"),t.push("video::cue(."+r+") { color: "+u+"; }"),t.push("M3"+r+") { background-color: "+u+"; }")}var s=e.createElement("style");s.id=LB,s.innerHTML=t.join("\n"),e.body.appendChild(s)}(),n},i.Jq=function(){this.JO.appendChild(this.F3),t.prototype.Jq.call(this)},i.N2=function(t,n){var i=this,r=l.min(t/100,n/100),e=uB(this.E2);this.U3.forEach((function(t){var n=t.LS,u=t.H3;i.V3(u,r,e,n)})),this.V3(this.F3,r,e)},i.B2=function(n){dC(this.JO,n),t.prototype.B2.call(this,n)},i.n3=function(t,n,i){for(var r,e=this,u=this.JO,s=this.k0.JV/100,o=[],c=0;c<t.length;c++){var a=t[c];void 0!==a.LS&&(ia(o,a.LS)||o.push(a.LS))}this.U3.forEach((function(t,n){var r=t.LS,u=t.H3;!i&&ia(o,r)||(Js(u),e.U3.delete(n))}));for(var h=0;h<n.length;h++){var f=n[h];!i&&f.oo||this.b2(f)}var v=[],d=jB(this.F3.getBoundingClientRect());(r=v).push.apply(r,_r(this.W3(d)));for(var l=0;l<o.length;l++){var _=o[l],g=void 0;this.U3.has(_.o)?g=this.U3.get(_.o).H3:(g=GB(_,s),u.appendChild(g),this.U3.set(_.o,{LS:_,H3:g})),v.push(jB(g.getBoundingClientRect()))}t.sort(tL);for(var w=0;w<t.length;w++){var y=t[w],m=this.l3(y,v,d);void 0!==m&&v.push(m.L3(.1))}},i.W3=function(t){var n=[],i=this.E2;if(void 0!==i.pX){var r=t.Iy();r.Ci=i.pX,n.push(r)}if(void 0!==i.yX){var e=t.Iy();e.Ci=i.yX,e.D3=t.D3,n.push(e)}return n},i.l3=function(t,n,i){var r,e;t.LS?(e=this.U3.get(t.LS.o).H3,"up"===t.LS.$S&&e.children.length>=1&&(e.style.transitionProperty="top",e.style.transitionDuration="0.433s")):e=this.F3;var u=null==(r=this.T2(t))?void 0:r[0];if(u||(u=this.q3(t),this.r3(t,[u])),e.appendChild(u),t.LS||(FB(u,t),t.OS?function(t,n,i,r){var e=qB(t),u=e?i.Ci:i.Ti,s=g(getComputedStyle(n).lineHeight);if(0===s)return;var o=jB(n.getBoundingClientRect()),c=l.round(_m(t));"rl"===t.Mt&&(c=-(c+1));var a=s*c;"rl"===t.Mt&&(a=a-o.Ti+s);c<0&&(a+=u,s=-s);e?o.N3+=a:o.x3+=a;var h=o.Iy(),f=!1;for(;!i._S(o)||YB(o,r);)if(e)if(s<0&&o.N3<i.N3||s>0&&o.D3>i.D3){if(o.N3=h.N3,f)break;s=-s,f=!0}else o.N3+=s;else if(s<0&&o.x3<i.x3||s>0&&o.C3>i.C3){if(o.x3=h.x3,f)break;s=-s,f=!0}else o.x3+=s;e?n.style.top=(o.N3-i.N3)/i.Ci*100+"%":n.style.left=(o.x3-i.x3)/i.Ti*100+"%"}(t,u,i,n):function(t,n,i,r){var e=jB(n.getBoundingClientRect());if(0===e.Ti||0===e.Ci)return;qB(t)?"center"===t.DS?e.N3-=e.Ci/2:"end"===t.DS&&(e.N3-=e.Ci):"center"===t.DS?e.x3-=e.Ti/2:"end"===t.DS&&(e.x3-=e.Ti);var u,s=e.Iy(),o=s,c=1,a=!1;u=""===t.Mt?[2,3,0,1]:"lr"===t.Mt?[0,1,2,3]:[1,0,2,3];var h=4,f=g(getComputedStyle(n).lineHeight)/h;if(f>0){for(var v=0;v<u.length&&!a;v++){for(;!KB(e,i,u[v],.01)&&(!i._S(e)||YB(e,r));)QB(e,u[v],f);if(i._S(e)){o=e.Iy(),a=!0;break}var d=ZB(e,i);c>d&&(o=e.Iy(),c=d),e=s.Iy()}i._S(e)||(o=s.Iy())}n.style.left=(o.x3-i.x3)/i.Ti*100+"%",n.style.top=(o.N3-i.N3)/i.Ci*100+"%"}(t,u,i,n)),!t.LS)return jB(u.getBoundingClientRect())},i.q3=function(t){for(var n=new mf,i=t.O,r=this.z3(t),u={X3:void 0,je:r},s=u,o="",c="",a=[u],h=[],f=[];n.Au<i.length;){var v=RB(i,n);if(v.Iw===SB.E3){var d=e.createElement("span");NB(d,v.O),HB(d,a),""!==o&&(d.lang=o),this.G3(d,c),s.je.appendChild(d)}else if(v.Iw===SB.I3){var l=v.DL.toLowerCase();switch(l){case"i":case"b":case"u":case"ruby":var _=e.createElement(l);s.je.appendChild(_),s={X3:v,je:_},a.push(s);break;case"rt":var g;if("ruby"===(null==(g=s.X3)?void 0:g.DL.toLowerCase())){var w=e.createElement("rt");s.je.appendChild(w),s={X3:v,je:w},a.push(s)}break;case"c":case"v":s={X3:v,je:s.je},a.push(s);break;case"font":var y,m=null==(y=v._3)?void 0:y.match(/(?:^| )color=["']([^"']+)/i);m&&(c=m[1],f.push(c),s={X3:v,je:s.je},a.push(s));break;case"lang":var p;o=null!=(p=v._3)?p:"",h.push(o)}}else if(v.Iw===SB.P3){var k,A=v.DL.toLowerCase(),b=null==(k=s.X3)?void 0:k.DL.toLowerCase();b===A?(a.pop(),s=a[a.length-1],"font"===A&&(f.pop(),c=f.length>0?f[f.length-1]:"")):"rt"===b&&"ruby"===A?(a.pop(),a.pop(),s=a[a.length-1]):"lang"===A&&(h.pop(),o=h.length>0?h[h.length-1]:"")}else if(v.Iw===SB.R3){var T=v.g3,S=new mf;try{vp(T,S)}catch(t){$r("ERROR collecting timestamp",t)}}}return r},i.G3=function(t,n){var i=this.E2,r=this.P2;i.vX&&(t.style.background=i.vX);var e=r._X||n||i._X;e&&(t.style.color=e)},i.V3=function(t,n,i,r){if(r){var e=VB(r,n);t.style.height=e*i+"px",t.style.left=XB(r)+"%",t.style.top=zB(r,n)+"px"}t.style.fontSize=MB*n*i+"px"},i.z3=function(t){var n=e.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.CS,function(t,n){"rl"===n.Mt?t.style.writingMode="vertical-rl":"lr"===n.Mt?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=ym(n);qB(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),FB(n,t);var i=this.E2.wX;i&&(n.style.background=i);var r=this.E2._X;return r&&(n.style.color=r),n.style.textShadow=aB(this.E2.mX),n},n}(cB);function FB(t,n){var i,r,e=wm(n),u=gm(n),s=ym(n);if(qB(n)){switch(e){case"line-left":i=u;break;case"center":i=u-s/2;break;case"line-right":i=u-s}r=n.OS?0:_m(n)}else{switch(e){case"line-left":r=u;break;case"center":r=u-s/2;break;case"line-right":r=u-s}i=n.OS?0:_m(n)}t.style.left=i+"%",t.style.top=r+"%"}function HB(t,n){for(var i=0;i<n.length;i++){var r=n[i];if(r.X3){for(var e=0,u=r.X3.f3;e<u.length;e++){var s=u[e];io(t,BB+s)}"v"===r.X3.DL.toLowerCase()&&r.X3._3&&io(t,"theoplayer-webvtt-voice-"+r.X3._3)}}}function VB(t,n){return t.YS*(MB*n)*xB}function XB(t){return t.ek-t.ZS*t.Ti/100}function zB(t,n){var i=t.nk,r=t.JS*VB(t,n)/100;return l.max(0,i-r)}function WB(t){var n=e.createElement("div");return n.className=OB+"default",oo(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=MB*t+"px",n.style.lineHeight=xB+"em",n}function GB(t,n){var i=WB(n);i.className=OB+t.o;var r=t.Ti,e=VB(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=XB(t)+"%",i.style.right="",i.style.top=zB(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function qB(t){return""===t.Mt}function YB(t,n){return n.some((function(n){return t.B3(n)}))}function jB(t){return new DB(t.left,t.top,t.width,t.height)}function QB(t,n,i){switch(n){case 0:t.x3+=i;break;case 1:t.x3-=i;break;case 2:t.N3+=i;break;case 3:t.N3-=i}}function KB(t,n,i,r){switch(i){case 0:return t.C3>n.C3+r;case 1:return t.x3<n.x3-r;case 2:return t.D3>n.D3+r;case 3:return t.N3<n.N3-r}}function ZB(t,n){return l.max(0,l.min(t.C3,n.C3)-l.max(t.x3,n.x3))*l.max(0,l.min(t.D3,n.D3)-l.max(t.N3,n.N3))/(t.Ti*t.Ci)}!function(t){t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y"}(CB||(CB={}));var JB,$B=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];function tL(t,n){var i=_m(t),r=_m(n),e=nL(i,t.OS),u=nL(r,n.OS);return e&&u?i-r||cP(n,t)||n.cw-t.cw:cP(t,n)||t.cw-n.cw}function nL(t,n){return n?t<0?t>-8:t>8:t>50}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(JB||(JB={}));var iL={_X:oB.WHITE,fX:sB.$a,gX:"100%",vX:oB.BLACK,wX:"transparent",mX:"none",Q3:"regular",TX:"visible",pX:void 0,yX:void 0,AX:void 0,bX:void 0},rL=[{K3:oB.WHITE,Q3:"regular",j3:0},{K3:oB.WHITE,Q3:"underline",j3:0},{K3:oB.GREEN,Q3:"regular",j3:0},{K3:oB.GREEN,Q3:"underline",j3:0},{K3:oB.BLUE,Q3:"regular",j3:0},{K3:oB.BLUE,Q3:"underline",j3:0},{K3:oB.CYAN,Q3:"regular",j3:0},{K3:oB.CYAN,Q3:"underline",j3:0},{K3:oB.RED,Q3:"regular",j3:0},{K3:oB.RED,Q3:"underline",j3:0},{K3:oB.YELLOW,Q3:"regular",j3:0},{K3:oB.YELLOW,Q3:"underline",j3:0},{K3:oB.MAGENTA,Q3:"regular",j3:0},{K3:oB.MAGENTA,Q3:"underline",j3:0},{K3:oB.WHITE,Q3:"italics",j3:0},{K3:oB.WHITE,Q3:"underline-italics",j3:0},{K3:oB.WHITE,Q3:"regular",j3:0},{K3:oB.WHITE,Q3:"underline",j3:0},{K3:oB.WHITE,Q3:"regular",j3:4},{K3:oB.WHITE,Q3:"underline",j3:4},{K3:oB.WHITE,Q3:"regular",j3:8},{K3:oB.WHITE,Q3:"underline",j3:8},{K3:oB.WHITE,Q3:"regular",j3:12},{K3:oB.WHITE,Q3:"underline",j3:12},{K3:oB.WHITE,Q3:"regular",j3:16},{K3:oB.WHITE,Q3:"underline",j3:16},{K3:oB.WHITE,Q3:"regular",j3:20},{K3:oB.WHITE,Q3:"underline",j3:20},{K3:oB.WHITE,Q3:"regular",j3:24},{K3:oB.WHITE,Q3:"underline",j3:24},{K3:oB.WHITE,Q3:"regular",j3:28},{K3:oB.WHITE,Q3:"underline",j3:28}],eL=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function uL(t,n){return Bm(t.Y3,n.Y3)||zc(t.lT,n.lT)}var sL=32,oL=/CC([1-4])=(.*)/;function cL(t){if(!t)return[];var n=[],i=t.trim().split(";");if(i.every((function(t){return t.match(oL)})))for(var r=0;r<i.length;r++){var e=Fo(i[r].match(oL),3),u=e[1],s=e[2];n.push({Z3:Number(u),J3:s})}else for(var o=0;o<i.length;o++)n.push({Z3:o+1,J3:i[o]});return n}var aL=function(){function t(t,n,i){this.i4=t,this.f4=n,this.I2=i}var n=t.prototype;return n.gr=function(){return this.a4=this.u4(),this.c4(),this.l4(),this.a4},n.u4=function(){var t=e.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.r4/sL*this.f4.d4*100+"%",t.style.height=1.2*this.h4+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.f4._4?"calc(1em - 1ch)":"";var n=this.I2.fX;n&&(t.style.fontFamily=n);var i=this.I2.wX;return i&&(t.style.backgroundColor=i),t},n.c4=function(){if(this.a4){var t=this.t4.o4/15*100,n=this.t4.j3/sL*100,i=(sL-this.s4.j3-1)/sL*100,r=(15-this.s4.o4-1)/15*100;this.f4.g4||(n=i=1,this.a4.style.width="98%"),r<t?this.a4.style.bottom=r*this.f4.d4+"%":this.a4.style.top=t*this.f4.d4+"%",i<n?this.a4.style.right=i+"%":this.a4.style.left=n+"%"}},n.l4=function(){for(var t=this.i4.v4.sort(hL),n=0;n<t.length;n++)this.w4(t[n-1],t[n]),this.m4(t[n]);this.w4(t[t.length-1],void 0)},n.m4=function(n){var i,r=eB(this.I2,n.y4),e=t.A4(r);NB(e,n.b4),null==(i=this.a4)||i.appendChild(e)},n.w4=function(t,n){var i=t?t.n4.o4:this.i4.e4.o4,r=n?n.e4.o4:this.i4.n4.o4,e=t?t.n4.j3:this.i4.e4.j3,u=n?n.e4.j3:this.i4.n4.j3;i<r&&(!n||t&&t.e4.o4!==n.e4.o4?this.T4():this.S4(this.i4.n4.j3-e),e=this.i4.e4.j3),e<u&&(n?this.S4(u-e):this.T4())},n.T4=function(){var t,n=e.createElement("br");null==(t=this.a4)||t.appendChild(n)},n.S4=function(t){var n;if(!(t<=0)){var i=e.createElement("span");i.style.display="inline-block",NB(i,Sc(" ",t)),null==(n=this.a4)||n.appendChild(i)}},t.A4=function(t){var n=e.createElement("span");n.style.display="inline-block",t.Q3!==JB.FONT_ITALICS&&t.Q3!==JB.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.Q3!==JB.FONT_UNDERLINE&&t.Q3!==JB.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t._X;i&&(n.style.color=i);var r=t.vX;return r&&(n.style.backgroundColor=r),n.style.textShadow=aB(t.mX),n.style.height="1.2em",n},hr(t,[{key:"t4",get:function(){return this.i4.e4}},{key:"s4",get:function(){return this.i4.n4}},{key:"r4",get:function(){return this.i4.n4.j3-this.i4.e4.j3+1}},{key:"h4",get:function(){return this.i4.n4.o4-this.i4.e4.o4+1}}]),t}();function hL(t,n){return function(t,n){if(t.o4!==n.o4)return t.o4-n.o4;return t.j3-n.j3}(t.e4,n.e4)}var fL=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,iL)}vr(n,t);var i=n.prototype;return i.o3=function(t){var n=e.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.E2.fX&&(n.style.fontFamily=this.E2.fX),n},i.N2=function(t,n){this.Za()},i.Za=function(){var t=uB(this.E2);this.E4=function(t){return{d4:t/100,_4:t<=100,g4:t<=150}}(100*t);var n=this.I4/sL;this.P4=n*t,this.JO.style.fontSize=this.P4+"px"},i.n3=function(t,n,i){for(var r=0;r<n.length;r++){var e=n[r];!i&&e.oo||this.b2(e)}for(var u=0;u<t.length;u++){var s=t[u];this.l3(s)}},i.l3=function(t){this.E4&&this.E4.g4?this.R4(80):this.R4(100),this.Za();var n=this.T2(t);n||(n=this.d3(t),this.r3(t,n));for(var i=0;i<n.length;i++){var r=n[i];this.JO.appendChild(r)}},i.d3=function(t){var n=this;return t.O.map((function(t){return new aL(t,n.E4,n.E2).gr()}))},i.R4=function(t){var n=(100-t)/2;this.JO.style.left=n+"%",this.JO.style.width=t+"%"},hr(n,[{key:"I4",get:function(){var t=this.JO.offsetWidth;return this.E4&&this.E4.g4||(t*=.8),t}}]),n}(cB),vL=function(){function t(t,n,i,r,e){var u=this;this.x4=[],this.H4=function(t){var n=t.Ht;n.wn(Gw.Bf,u.U4),n.wn(Gw.Vv,u.U4),n instanceof pO&&(n.XJ=u.XJ),u.M4(n)},this.U4=function(t){var n=t.Ht;u.M4(n)},this.V4=function(t){var n=t.Ht;n.pn(Gw.Bf,u.U4),n.pn(Gw.Vv,u.U4),u.O4(n)},this.W4=function(){for(var t=u.XJ,n=0,i=u.xu.Kv;n<i.length;n++){var r=i[n];r instanceof pO&&(r.XJ=t)}},this.q4=function(){for(var t=0,n=u.x4;t<n.length;t++){n[t].B2(u.Sc)}},this.z4=function(){for(var t=0,n=u.x4;t<n.length;t++){var i=n[t];i.B2(xo({},i.M2(),{TX:"hidden"}))}},this.X4=function(){for(var t=0,n=u.x4;t<n.length;t++){var i=n[t];i.B2(xo({},i.M2(),{TX:"visible"}))}},this.B4=t,this.E0=n,this.xu=i,this.F4=e,this.Sc=r,this.xu.wn(Xw.bv,this.H4),this.xu.wn(Xw.Sv,this.V4),this.xu.wn(Gw.oa,this.U4),this.F4.wn(KE.oa,this.W4),this.Sc.wn("Uv",this.q4),this.W4()}var n=t.prototype;return n.C4=function(t){for(var n=0,i=this.x4;n<i.length;n++){var r=i[n];if(r.Ht===t)return r}},n.N4=function(t){switch(t.Iw){case Gy.TTML:return new dB(t,this.B4,t._h,this.E0);case Gy.SRT:case Gy.WEBVTT:return new UB(t,this.B4,t._h,this.E0);case Gy.CEA608:return new fL(t,this.B4,t._h,this.E0)}},n.L4=function(t){var n=this.C4(t);n||(n=this.N4(t))&&(n.Jq(),n.B2(this.Sc),this.x4.push(n),t.bw===Yp.Qn&&n.J2())},n.O4=function(t){for(var n=this.x4,i=n.length-1;i>=0;i-=1){var r=n[i];r.Ht===t&&(r.bn(),ta(n,i))}},n.M4=function(n){(function(t){return t===gk.Ay||t===gk.fI})(n.Lt)&&t.D4(n)&&(n.Nc===Wy.ERROR?this.O4(n):this.L4(n))},n.ir=function(){for(var t=0,n=this.x4;t<n.length;t++){var i=n[t];i.Ht.pn(Gw.Bf,this.U4),i.Ht.pn(Gw.Vv,this.U4),i.bn()}ea(this.x4)},n.bn=function(){this.ir();for(var t=0,n=this.x4;t<n.length;t++){n[t].bn()}this.xu.pn(Xw.bv,this.H4),this.xu.pn(Xw.Sv,this.V4),this.xu.pn(Gw.oa,this.U4),this.F4.pn(KE.oa,this.W4),this.Sc.pn("Uv",this.q4)},t.D4=function(t){switch(t.Iw){case Gy.TTML:case Gy.SRT:case Gy.WEBVTT:case Gy.CEA608:return!0}return!1},hr(t,[{key:"XJ",get:function(){return this.F4.cs}}]),t}();function dL(t){var n=new gN,i=function(t){var n=[];return lN.ea(t)&&n.push(new lN(t)),_N.ea(t)&&n.push(new _N(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.SW(e)}n.TW(i[0])}return n}var lL,_L=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e)||this).G4=dL(n),u.Q4=new rB,u.K4=new vL(u.Q4.je,u.k0,u.nt,u.Cu,u.wa),u}vr(n,t);var i=n.prototype;return i.rv=function(){return this.nB},i.Ou=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.G4.bn(),n.Q4.bn(),n.K4.bn(),[4,t.prototype.Ou.call(n)];case 1:return i.sent(),[2]}}))}))()},i.ke=function(){t.prototype.ke.call(this),this.Q4.ke()},i.be=function(){t.prototype.be.call(this),this.Q4.be()},i.l2=function(n){t.prototype.l2.call(this,n),this.Q4.l2(n)},hr(n,[{key:"JO",get:function(){return this.nB}},{key:"Xg",get:function(){return this.nB.videoHeight}},{key:"Kg",get:function(){return this.nB.videoWidth}},{key:"wa",get:function(){return this.G4}}]),n}(KO),gL=!1;!function(t){t.j4="HELLO",t.Y4="HI_THERE",t.Z4="INITIALIZE",t.J4="APPEND_INIT",t.t6="APPEND_DATA",t.e6="ACK",t.i6="REMOVE",t.s6="DESTROY_SESSION"}(lL||(lL={}));var wL,yL=function(){function t(){this.qX=new Ul}var n=t.prototype;return n.n6=function(t){var n=this;return this.qX.GN(Mo((function(t){var i,r,e,u,o,c,a;return Uo(this,(function(h){switch(h.label){case 0:return ba(t),i=new MessageChannel,r=i.port1,e=i.port2,s.serviceWorker.controller?[3,2]:[4,kw(s.serviceWorker,"install",t)];case 1:h.sent(),h.label=2;case 2:return"activated"===s.serviceWorker.controller.state?[3,4]:[4,kw(s.serviceWorker.controller,"activate",t)];case 3:h.sent(),h.label=4;case 4:u={kind:"HELLO",port:e},s.serviceWorker.controller.postMessage(u,[e]),r.start(),n.r6=r,h.label=5;case 5:return h.trys.push([5,7,,8]),[4,kw(r,"message",t)];case 6:if(o=h.sent(),"HI_THERE"!==(c=o.data).kind)throw new f("Could not set up message channel");return n.oB=c.sessionId,[3,8];case 7:throw Aa(a=h.sent())&&n.h6(),a;case 8:return[2]}}))})),t)},n.o6=function(t,n){this.r6;var i=this;return this.qX.GN(Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:if(!i.r6)throw new f("MessageSession not set up yet or already closed.");return n||(n=[]),i.r6.postMessage(t,n),[4,kw(i.r6,"message")];case 1:return[2,r.sent().data]}}))})))},n.a6=function(){var t=this;return this.qX.GN((function(){return t.h6()}))},n.h6=function(){if(s.serviceWorker.controller&&"activated"===s.serviceWorker.controller.state&&this.r6){var t={kind:"DESTROY_SESSION"};gL,this.r6.postMessage(t),this.r6.close(),this.r6=void 0}},t}(),mL=function(){function t(){this.c6=1/0}var n=t.prototype;return n.l6=function(t,n){var i=t-n;this.c6=i>this.u6?this.c6:i},n.d6=function(t){this.c6=t},hr(t,[{key:"u6",get:function(){return this.c6}}]),t}();!function(t){t.yy="audio",t.vl="video",t.Ty="metadata"}(wL||(wL={}));var pL=function(t){function n(n,i){var r;return(r=t.call(this)||this).kV=n,r.p6=i,r.f6=void 0,r._6=void 0,r.qX=new Ul,r.v6=!1,r.g6=!1,r}vr(n,t);var i=n.prototype;return i.NY=function(t,n){},i.BY=function(t,n){},i.$X=function(){return this.g6},i.LY=function(){return Mo((function(){return Uo(this,(function(t){return[2]}))}))()},i.sY=function(t,n){return Mo((function(){return Uo(this,(function(t){return[2]}))}))()},i.Hj=function(t,n,i){var r=this;return Mo((function(){var e,u;return Uo(this,(function(s){if(t.Iw!==yC.xX)throw new f("Streaming or opaque segments are not supported yet.");return e=t.Ny,u=Mo((function(){var t,i,u;return Uo(this,(function(s){switch(s.label){case 0:return t=e.buffer,i={kind:lL.t6,mediaType:kL(r.kV),segment:e,startPts:n.m6,totalDuration:n.ct},[4,r.p6.o6(i,[t])];case 1:return s.sent(),void 0===r.f6&&(u=n.m6+n.NE,r.f6=u,r._6=u),r._6=r._6+n.ct,r.To(new Va(lC.RX)),[2]}}))})),[2,r.qX.GN(Mo((function(t){return Uo(this,(function(n){switch(n.label){case 0:ba(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.v6=!0,[4,u()];case 2:return n.sent(),[3,4];case 3:return r.v6=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.qj=function(t,n,i){var r=this;return Mo((function(){var n,e;return Uo(this,(function(u){if(t.Iw!==yC.xX)throw new f("Streaming or opaque initialization segments are not supported yet.");return n=t.Ny,e=Mo((function(){var t;return Uo(this,(function(i){switch(i.label){case 0:return t={kind:lL.J4,mediaType:kL(r.kV),segment:n},[4,r.p6.o6(t,[])];case 1:return i.sent(),[2]}}))})),[2,r.qX.GN(Mo((function(t){return Uo(this,(function(n){switch(n.label){case 0:ba(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.v6=!0,[4,e()];case 2:return n.sent(),[3,4];case 3:return r.v6=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.EY=function(){this.g6=!0},i.vY=function(){this.g6=!1},i.Qu=function(t,n,i){var r=this;return Mo((function(){var t;return Uo(this,(function(e){return t=Mo((function(){var t;return Uo(this,(function(i){switch(i.label){case 0:return t={kind:lL.i6,mediaType:kL(r.kV),endTime:n},[4,r.p6.o6(t)];case 1:return i.sent(),r.f6=void 0,r._6=void 0,r.To(new Va(lC.RX)),[2]}}))})),[2,r.qX.GN(Mo((function(n){return Uo(this,(function(i){switch(i.label){case 0:ba(n),i.label=1;case 1:return i.trys.push([1,,3,4]),r.v6=!0,[4,t()];case 2:return i.sent(),[3,4];case 3:return r.v6=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.OX=function(t){return this.kV===t.rM},i.FX=function(t){return this.kV=t.rM,$.resolve()},i.Ou=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.Lo(),[4,t.qX.bn()];case 1:return n.sent(),[2]}}))}))()},hr(n,[{key:"bl",get:function(){return void 0===this.f6||void 0===this._6?ZE.Nl():new ZE([this.f6,this._6])}},{key:"xb",get:function(){return{rM:this.kV}}},{key:"PY",get:function(){return py.YT}},{key:"aV",get:function(){return this.kV}},{key:"CY",get:function(){return ZE.Nl()}},{key:"Qq",get:function(){return 30},set:function(t){}},{key:"Zq",get:function(){return 30},set:function(t){}},{key:"ua",get:function(){return this.v6}},{key:"w6",get:function(){return this.f6}},{key:"RS",get:function(){return this._6}}]),n}(Ua);function kL(t){return t.match(/video/)?wL.vl:wL.yy}var AL=function(){function t(t,n,i,r){this.hN=void 0,this.al=t,this.SZ=jc(n,(function(t){return Boolean(t.aV.match(/video/))})),this.TZ=jc(n,(function(t){return Boolean(t.aV.match(/audio/))})),this.AN=i,this.nB=r,this.A6()}var n=t.prototype;return n.A6=function(){},n.Ou=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return[4,$.all([t.TZ,t.SZ].filter(Cr).map((function(t){return t.Ou()})))];case 1:return n.sent(),[2]}}))}))()},n.EZ=function(t){},n.CZ=function(t,n,i,r){},n.EY=function(){var t,n;null==(t=this.TZ)||t.EY(),null==(n=this.SZ)||n.EY()},n.vY=function(){var t,n;null==(t=this.TZ)||t.vY(),null==(n=this.SZ)||n.vY()},n.OX=function(t){return!0},n.FX=function(t){return this.al=t,$.resolve()},n.BX=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return[4,i.AN.yN(t.dC,n)];case 1:return[4,e.sent().cN()];case 2:return r=e.sent(),[4,i.LX(r)];case 3:return e.sent(),[2,r]}}))}))()},n.LX=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:if(t&&!n.nB.src)throw new by(Rl.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&n.nB.src)throw new by(Rl.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return(i=n.hN)?[4,i.aN(n.nB)]:[3,2];case 1:r.sent(),n.hN=void 0,r.label=2;case 2:return t?[4,t.kn(n.nB)]:[3,4];case 3:r.sent(),n.hN=t,r.label=4;case 4:return[2]}}))}))()},t.y6=function(n,i,r,e){for(var u=[],s=0;s<n.xZ.length;s++){var o=n.xZ[s].rM;u.push(new pL(o,i))}return new t(n,u,r,e)},hr(t,[{key:"b6",get:function(){return[this.TZ,this.SZ].filter(Cr)}},{key:"mZ",get:function(){return this.TZ}},{key:"bl",get:function(){return HD(this)}},{key:"xb",get:function(){return this.al}},{key:"ct",get:function(){return 0}},{key:"$X",get:function(){var t,n,i,r,e=null==(i=null==(t=this.TZ)?void 0:t.$X())||i,u=null==(r=null==(n=this.SZ)?void 0:n.$X())||r;return e&&u}},{key:"kl",get:function(){return new ZE([0,1/0])}},{key:"pZ",get:function(){return this.SZ}},{key:"rt",get:function(){throw new f("Not implemented")}}]),t}(),bL=function(t){function n(n,i){var r;(r=t.call(this)||this).W6=!0,r.p6=new yL,r.F6=new mL,r.z6=!0,r.G6=new kf,r.Yl=!1,r.$0=$.resolve(),r.J0=new pa,r.X6=!0,r.Ho=ZE.Nl(),r.c2=!1,r.k6=function(){r.Dc||r.H6.U<=0||r.bl.U<=0||r.F6.l6(r.bl.Pn(r.bl.U-1),r.H6.Pn(r.H6.U-1))},r.E6=function(){r.To(new AE(r.Wu))},r.I6=function(){r.To(new Fw(r.Wu,r.qu))},r.P6=function(){r.To(new kE(r.Wu,r.$u))},r.R6=function(){r.To(new SE(r.Wu,r._l))},r.C6=function(){r.To(new pE(r.ct))},r.x6=function(){r.To(new iA(r.Wu))},r.D6=function(){r.gc(r.Wu)};var e=Uc(r);return r.N6=Mo((function(){return Uo(this,(function(t){return e.X6&&e.To(new mE(e.Wu)),e.z6=!1,e.X6=!0,[2]}))})),r.B6=function(){r.z6=!0,r.To(new yE(r.Wu))},r.e2=function(t){var n,i=t.initDataType,e=null!=(n=t.initData)?n:new ArrayBuffer(0);r.To(new Ya(i,e))},r.S6=n,r.x0=new nP(Uc(r)),r.S6.playsInline=!0,r.S6.style.width="100%",r.S6.style.height="100%",r.T6(),r.O6(),r.G4=dL(r.S6),r.UX=new zO(Uc(r)),r.AN=i,r.xu=new wk,r._1=new SO(Uc(r)),r}vr(n,t);var i=n.prototype;return i.T6=function(){this.S6.addEventListener("timeupdate",this.k6),this.S6.addEventListener("ended",this.E6),this.S6.addEventListener("timeupdate",this.I6),this.S6.addEventListener("ratechange",this.P6),this.S6.addEventListener("volumechange",this.R6),this.S6.addEventListener("durationchange",this.C6),this.S6.addEventListener("playing",this.x6),this.S6.addEventListener("seeking",this.D6),this.S6.addEventListener("play",this.N6),this.S6.addEventListener("pause",this.B6),this.S6.addEventListener("encrypted",this.e2)},i.L6=function(){this.S6.removeEventListener("timeupdate",this.k6),this.S6.removeEventListener("ended",this.E6),this.S6.removeEventListener("timeupdate",this.I6),this.S6.removeEventListener("ratechange",this.P6),this.S6.removeEventListener("volumechange",this.R6),this.S6.removeEventListener("durationchange",this.C6),this.S6.removeEventListener("playing",this.x6),this.S6.removeEventListener("seeking",this.D6),this.S6.removeEventListener("play",this.N6),this.S6.removeEventListener("pause",this.B6)},i.O6=function(){this.x0.wn(qk.Bf,this.Os)},i.M6=function(){this.x0.pn(qk.Bf,this.Os)},i.gc=function(t,n,i){this.J0.Jl(),this.J0=new pa,this.$0=this.t1(t,this.$0,this.J0.M_).catch(Vr)},i.t1=function(t,n,i){var r=this;return Mo((function(){var e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:return r.Ho=r.wl,(s=null==(u=r.tM)?void 0:u.b6)?(o=(e=l).max.apply(e,_r(s.map((function(t){return t.w6?t.w6:1/0})))),r.Yl=!0,r.To(new bE(t)),[4,n.catch(Vr)]):[2];case 1:a.sent(),ba(i),a.label=2;case 2:return a.trys.push([2,7,8,9]),r.W6||r.q6(),r.S6.load(),r.z6?[3,4]:(r.X6=!1,[4,Ea(r.S6.play(),i)]);case 3:a.sent(),a.label=4;case 4:return r.Nc<jk.Hf?[4,r.x0.eg(qk.Bf,i)]:[3,6];case 5:return a.sent(),[3,4];case 6:return r.G6.Lf(),r.W6=!1,r.Yl=!1,r.To(new TE(r.Wu)),[3,9];case 7:throw c=a.sent(),r.G6.BC(c),c;case 8:return r.Q6(),r.F6.d6(o),[7];case 9:return[2]}}))}))()},i.jl=function(){this.z6=!0,this.S6.pause()},i.dl=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.z6?(t.S6.src||t.fl(),[4,t.G6.jf]):[2];case 1:return n.sent(),[4,t.S6.play()];case 2:return n.sent(),[2]}}))}))()},i.Ou=function(){var t=this;return Mo((function(){return Uo(this,(function(n){return t.p6&&t.p6.a6().catch(Vr),t.J0.Jl(),t.L6(),t.M6(),t.x0.Ou(),t.Lo(),t.xu.bn(),[2]}))}))()},i.ir=function(){var t=this;return Mo((function(){return Uo(this,(function(n){return t.p6&&t.p6.a6().catch(Vr),t.J0.Jl(),t.S6.removeAttribute("src"),t.S6.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),t.S6.removeAttribute("x-airplay-deny"),t.S6.disableRemotePlayback=!1,t.S6.load(),t.x0.ir(),t.Ho=ZE.Nl(),[2]}))}))()},i.fl=function(){this.u2||(RL(this.S6,tr.Zs),this.c2=!0)},i.q6=function(){var t,n=this.S6.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,u=this.S6.videoWidth/this.S6.videoHeight,s=t.height;e/s>u?(i=s*u,r=s):(r=e/u,i=e),this.S6.style.width=i+"px",this.S6.style.height=r+"px",this.S6.style.marginLeft=(e-i)/2+"px",this.S6.style.marginTop=(s-r)/2+"px",this.S6.style.backgroundColor="black"}},i.Q6=function(){this.S6.style.width="100%",this.S6.style.height="100%",this.S6.style.marginLeft="",this.S6.style.marginTop="",this.S6.style.backgroundColor=""},i._M=function(t,n,i,r,e){},i.cP=function(t,n,i,r,e,u,s,o,c){var a=new bP(t,n,i,r,e,u,s,c,o);return this.xu.tt(a),this._1.tt(a),a},i.iG=function(t){},i.Rg=function(){return KN(this.S6)},i.be=function(){this.S6.style.display="block"},i.ke=function(){this.S6.style.display="none"},i.o2=function(){},i.On=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:if(t.Iw===Gk.vB)throw new f("Not yet implemented");return[4,n.p6.n6()];case 1:return e.sent(),i=jc(t.hM,(function(t){return t.ap.Iw===Qo.Zm})),r={kind:lL.Z4,mediaBufferConfigs:t.xZ.map((function(t){return t.rM})),fairPlaySdkUri:null==i?void 0:i.QL},[4,n.p6.o6(r)];case 2:return e.sent(),n.tM=AL.y6(t,n.p6,n.AN,n.S6),n.UX.On(n.tM,t),n.S6.setAttribute("x-webkit-airplay","deny"),n.S6.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),n.S6.disableRemotePlayback=!0,n.S6.preload="none",n.S6.src="https://theo.proxy/"+n.p6.oB+"/master.m3u8",[2,n.tM]}}))}))()},i.a2=function(){},i.mP=function(t){this.xu.it(t),this._1.it(t)},i.vM=function(){for(var t=0,n=this.xu.Kv.slice();t<n.length;t++){n[t].bn()}this.xu.ir()},i.jO=function(t){},i.dM=function(){return!1},i.l2=function(t){t.appendChild(this.S6)},i.rv=function(){return this.S6},i.p0=function(){},i.wv=function(){},hr(n,[{key:"JO",get:function(){return this.S6}},{key:"KZ",get:function(){return!1}},{key:"Wu",get:function(){return this.S6.currentTime+this.F6.u6}},{key:"Dc",get:function(){return this.S6.paused}},{key:"_l",get:function(){return this.S6.volume},set:function(t){this.S6.volume=t}},{key:"$u",get:function(){return this.S6.playbackRate},set:function(t){this.S6.playbackRate=t}},{key:"U6",get:function(){return this.S6.defaultPlaybackRate}},{key:"bl",get:function(){var t,n;return null!=(n=null==(t=this.tM)?void 0:t.bl)?n:ZE.Nl()}},{key:"H6",get:function(){return ZE.Sn(this.S6.buffered)}},{key:"wl",get:function(){var t=this.V6;return this.Ho.Hl(t.Ey(this.F6.u6))}},{key:"V6",get:function(){return ZE.Sn(this.S6.played)}},{key:"Fc",get:function(){return this.Yl}},{key:"Bc",get:function(){return!1}},{key:"$c",get:function(){return!1}},{key:"ct",get:function(){return this.S6.duration}},{key:"Xu",get:function(){return this.S6.muted},set:function(t){this.S6.muted=t}},{key:"y4",get:function(){return this.S6.style}},{key:"d0",get:function(){return xo({},gC,{PX:!0})}},{key:"Nc",get:function(){return this.x0.Nc}},{key:"Xg",get:function(){return this.S6.videoHeight}},{key:"Kg",get:function(){return this.S6.videoWidth}},{key:"Ic",get:function(){return this.S6.ended}},{key:"Ci",get:function(){return this.S6.offsetHeight*tr.Zs.C0}},{key:"Ti",get:function(){return this.S6.offsetWidth*tr.Zs.C0}},{key:"Eg",get:function(){return!1}},{key:"u2",get:function(){return this.c2}},{key:"qu",get:function(){}},{key:"k0",get:function(){}},{key:"lt",get:function(){}},{key:"wa",get:function(){return this.G4}},{key:"kl",get:function(){return this.tM?this.tM.kl:ZE.Nl()}},{key:"eM",get:function(){}},{key:"nt",get:function(){return this.xu}},{key:"Cu",get:function(){}},{key:"tv",get:function(){return!1},set:function(t){}},{key:"M0",get:function(){return"block"===this.S6.style.display}},{key:"yM",get:function(){return this.UX.yM},set:function(t){this.UX.yM=t}},{key:"d2",get:function(){},set:function(t){}},{key:"i0",get:function(){}}]),n}(Ua),TL=[py.yy,py.vl],SL=function(){function t(t,n,i,r,e){void 0===i&&(i=2),void 0===r&&(r=TL),void 0===e&&(e=Yl()),this.q7=i,this.O7=_r(r),this.AN=e,this.E0=t,this.Sc=n,this.M7=Vo(),this.W7()}var n=t.prototype;return n.jF=function(t){for(var n=0,i=this.QF;n<i.length;n++){i[n].l2(t)}},n.MM=function(t){var n=jc(this.M7.get(t),(function(t){return t.H7}));if(n)return n.H7=!1,n.F7},n.V7=function(t){if(!this.U7){var n,i=null==(n=this.M7.get(py.vl))?void 0:n[0].F7.JO;if(!i)throw new f("Error creating iOS Safari MediaController");this.U7=new bL(i,this.AN)}return this.U7},n.AM=function(t){var n=this;return Mo((function(){var i,r,e;return Uo(this,(function(u){switch(u.label){case 0:return i=t.JO,r=i.tagName.toLowerCase(),[4,t.ir()];case 1:return u.sent(),IL(i),(e=jc(n.M7.get(r)||[],(function(n){return t===n.F7})))&&(e.H7=!0),[2]}}))}))()},n.zF=function(){for(var t=0,n=this.QF;t<n.length;t++){n[t].fl()}},n.bn=function(){for(var t=0,n=this.QF;t<n.length;t++){var i=n[t],r=i.JO;i.Ou(),IL(r),Js(r)}this.M7.clear(),this.U7=void 0},n.W7=function(){for(var t=0,n=this.O7;t<n.length;t++){var i=n[t],r=[];this.M7.set(i,r);for(var e=0;e<this.q7;e++){var u=EL(i),s=i===py.yy?new iB(u,this.AN,this.E0):new _L(u,this.AN,this.E0,this.Sc);r.push({F7:s,H7:!0})}}},hr(t,[{key:"QF",get:function(){for(var t=[],n=0,i=this.O7;n<i.length;n++){var r=i[n],e=this.M7.get(r);if(e){var u,s=e.map((function(t){return t.F7}));(u=t).push.apply(u,_r(s))}}return this.U7&&t.push(this.U7),t}}]),t}();function EL(t){var n=e.createElement(t);return ao(n)&&function(t){t.addEventListener("contextmenu",(function(t){t.preventDefault()}))}(n),IL(n),n}function IL(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),$s(t),ho(t),t.pause(),t.playbackRate=1,t.disableRemotePlayback=!1,t.preload=GE.XT,t.controls=!1,t.style.display="none",ao(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function RL(t,n){if(n.K6){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();Ur(r)&&Da(r),t.pause()}}var NL=function(){function t(t){this.fP=t}var n=t.prototype;return n.pI=function(t){return this.fP.pI(t)},n.PV=function(t){this.fP.PV(t)},n.bn=function(){this.fP.bn()},t}(),CL=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).GF=i,r}return vr(n,t),n.prototype.pI=function(t){var n=this;return Mo((function(){var i,r,e,u,s;return Uo(this,(function(o){switch(o.label){case 0:return i=new B_(t),(r=n.GF.Mq.RO(i))?(r.Uq(tr.V_()/1e3),[4,n.fP.pI(t)]):[2,n.fP.pI(i)];case 1:return e=o.sent(),r.Hq(tr.V_()/1e3),u=e.BW().pipeThrough(new Qi(new DL(r))),s={Ny:u,pI:e.pI},[2,new O_(s,e)]}}))}))()},n}(NL),DL=function(){function t(t){this.j6=t}var n=t.prototype;return n.start=function(t){this.lX=t},n.transform=function(t){this.j6.Vq(tr.V_()/1e3,t),this.lX.enqueue(t)},n.flush=function(){this.j6.Wq(tr.V_()/1e3)},t}();function PL(t){return{get ratio(){return t.Wo},get thresholds(){return t.Y6.slice()}}}function OL(t){var n=[],i=l.floor(1/t);if(w(i))return[];for(var r=0;r<=i;r++){var e=Ce(r*t,0,1);n.push(e)}return n}var BL=function(){function t(t,n,i){this.Z6=1,this.Gu=void 0,this.J6=OL(n);var e=this.t5(i);this.e5=new r.IntersectionObserver(e,{root:null,threshold:this.J6}),this.e5.observe(t)}var n=t.prototype;return n.t5=function(t){var n=this;return function(i){var r=i[i.length-1];n.Z6=r.intersectionRatio,t(r.intersectionRatio)}},n.xl=function(){this.e5.disconnect()},hr(t,[{key:"Wo",get:function(){return this.Z6}},{key:"Y6",get:function(){return this.J6}},{key:"ma",get:function(){return this.Gu||(this.Gu=PL(this)),this.Gu}}]),t}(),LL=function(){function t(t,n){this.Z6=1,this.s5=-1,this.Gu=void 0,this.J6=OL(t),this.n5=n}return t.prototype.i5=function(t){this.Z6=t;var n=this.J6,i=0;if(t>0)for(;i<n.length&&n[i]<=t;)++i;this.s5!==i&&(this.s5=i,this.n5(t))},hr(t,[{key:"Wo",get:function(){return this.Z6}},{key:"Y6",get:function(){return this.J6}},{key:"ma",get:function(){return this.Gu||(this.Gu=PL(this)),this.Gu}}]),t}(),ML=function(t){function n(n,i,e){var u;return(u=t.call(this,i,e)||this).h5=zr((function(){return u.i5(u.r5())}),50),u.wo=n,r.addEventListener("scroll",u.h5,!!eN&&{passive:!0}),Ca((function(){return u.i5(u.r5())})),u}vr(n,t);var i=n.prototype;return i.r5=function(){var t=this.wo.getBoundingClientRect();return Ce(l.max(0,l.min(r.innerWidth,t.right)-l.max(0,t.left))*l.max(0,l.min(r.innerHeight,t.bottom)-l.max(0,t.top))/(t.width*t.height),0,1)},i.xl=function(){r.removeEventListener("scroll",this.h5)},n}(LL),xL=function(){function t(t){this.a5=1,this.u5=0,this.d5=[],this.Gu=void 0,this.wo=t,this.$o(.1,this.l5())}var n=t.prototype;return n.l5=function(t){var n=this;return function(i){n.a5=i,null==t||t(n.a5)}},n.$o=function(t,n){if(w(t))throw new v("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");var i;return i="function"==typeof r.IntersectionObserver?new BL(this.wo,t,this.l5(n)):new ML(this.wo,t,this.l5(n)),this.d5.push(i),i},n.Vo=function(t){t.xl(),$c(this.d5,t)},n.c5=function(t){for(var n=0,i=this.d5;n<i.length;n++){var r=i[n];if(r.ma===t)return r}},n.bn=function(){for(var t=0,n=this.d5;t<n.length;t++){n[t].xl()}ea(this.d5)},hr(t,[{key:"o5",get:function(){return this.a5}},{key:"zo",get:function(){return this.u5},set:function(t){if(w(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this.u5=t}},{key:"ma",get:function(){return this.Gu||(this.Gu=function(t){return{get ratio(){return t.o5},get visible(){return t.o5>t.zo},get visibleThreshold(){return t.zo},set visibleThreshold(n){n=oy(n),t.zo=n},addObserver:function(n,i){return n=oy(n),t.$o(n,i).ma},removeObserver:function(n){var i=t.c5(n);i&&t.Vo(i)}}}(this)),this.Gu}}]),t}(),UL=function(t){function n(){return t.call(this,$l.Kw)}return vr(n,t),n}(Va),FL=function(){function t(){}return t.prototype.bn=function(){this._5=void 0},hr(t,[{key:"f5",get:function(){return this._5},set:function(t){this._5=t}},{key:"ma",get:function(){var t;return null!=(t=this.Gu)?t:this.Gu=function(t){return{get conviva(){var n;return null==(n=t.f5)?void 0:n.ma}}}(this)}}]),t}();var HL=function(t){function n(n,i){var r;(r=t.call(this)||this).Rl=!1,r.ko=!1,r.sF=void 0,r.D5=!1,r.C5=new FL,r.ka=void 0,r.E5=function(t){if(!r.D5){r.D5=!0;var n=r.N5,i=Ey(t);r.v5.$v=new eI(r.je,i,t),Da(n.bn())}},r.B5=function(t){t.type!==$l._m&&t.type!==$l.fm&&r.To(t)};var e=oy(i.uid);w(e)?r.mS=My++:r.mS=e,r.xb=i;var u=tr.Gf,s=new sC;r.x5=new WR("6.10.1",u,s),r.GF=new HN;var o=new CL(u,r.GF);r.Gf=new RN(o,i.allowMixedContent),r.nX=new AR(i.isEmbeddable,"6.10.1",gR()),r.qf=new uC(u,r.nX,r.x5,s,i,gR()),r.qf.Xf().catch(r.E5),r.y5=new hN(n),r.y5.wn(ZR.gn,r.Os),r.Sc=new vC,r.xc=new GN,r.xz=new YN;var c=new rI(n,i,r.Gf,r.GF,r.y5,r.Sc);r.GF.Jq(c);var a=c;return a=new qN(a,r.S5),a=new jN(a,r.Cz),r.N5=a,r.v5=new FE(r.N5),r.v5.Q_(r.B5),r.A5=new QN(r.v5),r.T5=new DN(r.v5,r.Gf,r.GF),r.P5=new JR(Uc(r)),r.R5=new wN(r.v5,i.allowNativeFullscreen),r.I5=new kI(r.R5),r.y5.kn(),r.Fo=new xL(n),r.XF=new zs(r.y5,r.Sc,1,[py.vl]),r.ll=new Ws(r.XF),r.p5=new $N,r}vr(n,t);var i=n.prototype;return i.ag=function(){return this.v5.bl},i._g=function(){return this.v5.Wu},i.gg=function(t){this.v5.Wu=t},i.k5=function(){return this._g()},i.vg=function(){return this.v5.ct},i.yg=function(){return this.v5.lt},i.Ag=function(){return this.v5.Ec},i.xg=function(t){this.v5.Xu=t,t||this.Dc||this.uv()},i.Og=function(){return this.v5.wl},i.Vg=function(){return this.v5.kl},i.Zg=function(t){this.v5._l=t},i._a=function(){BE(this,AI,this)},i.dl=function(){this.v5.dl()},i.jl=function(){this.v5.jl()},i.qg=function(){return this.sF},i.ba=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return i.sF=t,t?(i.qf.xH(t).catch(i.E5),r=function(t){t.sources;var n=t.sources.filter((function(t){return Dr(t.integration)}));return t.sources=n,t}(t),[4,i.v5.ba(r,n)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))()},i.uv=function(){if(!this.ko){this.v5.uv(),this.ll.uv();for(var t=this.je.getElementsByTagName("video"),n=0;n<t.length;n++){var i=t[n];"Advertisement"===i.title&&RL(i,tr.Zs)}this.ko=!0}},i.cs=function(){return this.I5.Go()===wI.FULLSCREEN},i.be=function(){this.v5.be()},i.ke=function(){this.v5.ke()},i.rv=function(){return this.v5.rv()},i.wv=function(){this.v5.wv()},i.mv=function(){this.v5.mv()},i.xl=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.sF=void 0,[4,t.v5.xl()];case 1:return n.sent(),[4,t.v5.ir()];case 2:return n.sent(),[2]}}))}))()},i.bn=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.To(new UL),t.Lo(),t.p5.bn(),t.Gf.bn(),t.T5.bn(),t.P5.bn(),t.R5.bn(),t.I5.bn(),t.y5.bn(),t.C5.bn(),t.x5.bn(),t.ll.bn(),t.XF.bn(),[4,t.v5.bn()];case 1:return n.sent(),[2]}}))}))()},hr(n,[{key:"g5",get:function(){return this.GF}},{key:"ol",get:function(){return this.Rl},set:function(t){this.Rl=t,this.v5.ol=t}},{key:"w5",get:function(){return this.ll}},{key:"ht",get:function(){return this.v5.ht}},{key:"m5",get:function(){return this.p5}},{key:"k0",get:function(){return this.y5}},{key:"Tg",get:function(){return this.v5.Tg}},{key:"Pg",get:function(){return this.A5}},{key:"b5",get:function(){return this.T5}},{key:"nt",get:function(){return this.v5.nt}},{key:"Cu",get:function(){return this.Sc}},{key:"rt",get:function(){return this.v5.rt}},{key:"bl",get:function(){return this.ag()}},{key:"S5",get:function(){return this.xc}},{key:"Cz",get:function(){return this.xz}},{key:"Wu",get:function(){return this._g()},set:function(t){this.gg(t)}},{key:"qu",get:function(){return this.v5.qu},set:function(t){this.v5.qu=t}},{key:"bt",get:function(){return this.v5.bt}},{key:"ct",get:function(){return this.vg()}},{key:"je",get:function(){return this.v5.je}},{key:"Ic",get:function(){return this.v5.Ic}},{key:"lt",get:function(){return this.yg()}},{key:"Ec",get:function(){return this.Ag()}},{key:"wa",get:function(){return this.v5.ev()}},{key:"tv",get:function(){return this.v5.tv},set:function(t){this.v5.tv=t}},{key:"Xu",get:function(){return this.v5.Xu},set:function(t){var n=Boolean(t);this.xg(n)}},{key:"Dc",get:function(){return this.v5.Dc}},{key:"$u",get:function(){return this.v5.$u},set:function(t){this.v5.$u=t}},{key:"wl",get:function(){return this.Og()}},{key:"Mg",get:function(){return this.v5.Mg},set:function(t){this.v5.Mg=t}},{key:"Nc",get:function(){return this.v5.Nc}},{key:"kl",get:function(){return this.Vg()}},{key:"Fc",get:function(){return this.v5.Fc}},{key:"cw",get:function(){return this.mS}},{key:"Xg",get:function(){return this.v5.Xg}},{key:"Kg",get:function(){return this.v5.Kg}},{key:"_l",get:function(){return this.v5._l},set:function(t){var n=Ce(Number(t),0,1)||0;this.Zg(n)}},{key:"Jg",get:function(){return this.v5.Jg}}]),n}(Ha);var VL=self.CustomEvent;var XL=function(){try{var t=new VL("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},zL=function(){function t(){this.uS=[],this.Gu=void 0}var n=t.prototype;return n.Zv=function(t){return this.uS[t]},n.pG=function(t){this.uS.push(t),this.ma.push(t.ma)},n.Qu=function(t){var n=this.uS.indexOf(t);n<0||(ta(this.uS,n),this.Gu&&ta(this.Gu,n))},n.q5=function(t){for(var n=0,i=this.uS;n<i.length;n++){var r=i[n];if(r.cw===t)return r}},hr(t,[{key:"U",get:function(){return this.uS.length}},{key:"ma",get:function(){var t;return null!=(t=this.Gu)?t:this.Gu=function(t){for(var n=[],i=0;i<t.U;i++)n[i]=t.Zv(i).ma;return n.getPlayerByUID=function(n){var i=t.q5(n);return i&&i.ma},n}(this)}}]),t}();var WL=new zL;var GL,qL=function(t){function n(n){var i;return(i=t.call(this,$l.do)||this).source=n,i}return vr(n,t),n}(Va),YL=function(t){function n(){var n;return(n=t.call(this)||this).FF=0,n.Ql=!0,n.Yl=!1,n.HF=1,n}vr(n,t);var i=n.prototype;return i._g=function(){return this.FF},i.k5=function(){return this._g()},i.gg=function(t){this.Yl&&this.FF===t||(this.FF=t,this.Yl=!0,this.To(new bE(this.FF)))},i.dl=function(){this.Ql&&(this.Ql=!1,this.To(new mE(this.FF)),this.To(new $k(this.FF)))},i.jl=function(){this.Ql||(this.Ql=!0,this.To(new Fw(this.FF,this.qu)),this.To(new yE(this.FF)))},i.ir=function(){this.FF=0,this.Yl=!1,this.HF=1,this.jl()},i.bn=function(){this.Lo()},i.ke=function(){},i.be=function(){},hr(n,[{key:"qu",get:function(){},set:function(t){}},{key:"Wu",get:function(){return this._g()},set:function(t){this.gg(t)}},{key:"Dc",get:function(){return this.Ql}},{key:"$u",get:function(){return this.HF},set:function(t){this.HF!==t&&(this.HF=t,this.To(new kE(this.FF,this.$u)))}},{key:"Nc",get:function(){return jk.zl}},{key:"Fc",get:function(){return this.Yl}}]),n}(Ha),jL={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},QL={visibility:"hidden"},KL={visibility:"visible"},ZL=function(){function t(t){var n=this;this.Q5=!1,this.K5=function(t){var i;n.Q5=!n.Ko.Dc,n.z5=null==(i=t.source)?void 0:i.poster,n.Kn()},this.DB=function(){n.Q5=!0,n.ke()},this.Ko=t,this.eF(),this.Hs=function(){var t=qs&&qs.document&&qs.document.createElement("div");return t.className="theoplayer-poster",so(jL,t),t}(),t.je.appendChild(this.Hs)}var n=t.prototype;return n.Kn=function(){var t=this.Ko.Dc,n=this.Q5;this.TI?this.Hs.style.backgroundImage='url("'+Dc(this.TI)+'")':this.Hs.style.backgroundImage="",t&&this.TI&&!n?this.be():this.ke()},n.be=function(){so(QL,this.Ko.je),so(KL,this.Hs)},n.ke=function(){so(QL,this.Hs),so(KL,this.Ko.je)},n.eF=function(){this.Ko.wn($l.do,this.K5),this.Ko.wn($l.Ph,this.DB)},n.bn=function(){this.Ko.pn($l.do,this.K5),this.Ko.pn($l.Ph,this.DB),Js(this.Hs)},hr(t,[{key:"TI",get:function(){return void 0!==this.z5?this.z5:void 0!==this.X5?this.X5:void 0}},{key:"G5",set:function(t){this.X5=t,this.Kn()}}]),t}();function JL(t){var n,i={get playing(){return t.j5},get currentAds(){return t.Y5.map((function(t){return t.Z5()}))},get currentAdBreak(){var n,i;return null!=(i=null==(n=t.J5)?void 0:n.Z5())?i:null},get scheduledAds(){return t.t8.map((function(t){return t.Z5()}))},get scheduledAdBreaks(){return t.e8.map((function(t){return t.Z5()}))},skip:function(){t.zy()},schedule:function(n){var i=ZI(n,PI.lC);i?t.m$(i,GL.i8,!1):console.error("Invalid ad description")},addEventListener:function(t,i){n.wn(t,i)},removeEventListener:function(t,i){n.pn(t,i)}};return n=new WN(t,i),i}!function(t){t[t.i8=0]="i8",t[t.s8=1]="s8"}(GL||(GL={}));var $L,tM=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).n8=i,r}return vr(n,t),n}(Hw),nM=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).adBreak=i,r}return vr(n,t),hr(n,[{key:"ad",get:function(){return this.adBreak}}]),n}(Va),iM=function(t){function n(n){return t.call(this,"r8",n)}return vr(n,t),n.prototype.pa=function(){return new rM(this.n8.Z5())},n}(tM),rM=function(t){function n(n){return t.call(this,"removeadbreak",n)}return vr(n,t),n}(nM),eM=function(t){function n(n){return t.call(this,"h8",n)}return vr(n,t),n.prototype.pa=function(){return new uM(this.n8.Z5())},n}(tM),uM=function(t){function n(n){return t.call(this,"addadbreak",n)}return vr(n,t),n}(nM),sM=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).o8=i,r}return vr(n,t),n}(Hw),oM=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ad=i,r}return vr(n,t),n}(Va),cM=function(t){function n(n){return t.call(this,"a8",n)}return vr(n,t),n.prototype.pa=function(){return new aM(this.o8.Z5())},n}(sM),aM=function(t){function n(n){return t.call(this,"addad",n)}return vr(n,t),n}(oM),hM=function(t){function n(n){return t.call(this,"u8",n)}return vr(n,t),n.prototype.pa=function(){return new fM(this.n8.Z5())},n}(tM),fM=function(t){function n(n){return t.call(this,"adbreakend",n)}return vr(n,t),n}(nM),vM=function(t){function n(n){return t.call(this,"c8",n)}return vr(n,t),n.prototype.pa=function(){return new dM(this.n8.Z5())},n}(tM),dM=function(t){function n(n){return t.call(this,"adbreakbegin",n)}return vr(n,t),n}(nM),lM=function(t){function n(n,i){var r;return(r=t.call(this,"l8",n)||this).currentTime=i,r}return vr(n,t),n.prototype.pa=function(){return new _M(this.o8.Z5(),this.currentTime)},n}(sM),_M=function(t){function n(n,i){var r;return(r=t.call(this,"adbegin",n)||this).currentTime=i,r}return vr(n,t),n}(oM),gM=function(t){function n(n,i){var r;return(r=t.call(this,"d8",n)||this).currentTime=i,r}return vr(n,t),n.prototype.pa=function(){return new wM(this.o8.Z5(),this.currentTime)},n}(sM),wM=function(t){function n(n,i){var r;return(r=t.call(this,"adend",n)||this).currentTime=i,r}return vr(n,t),n}(oM),yM=function(t){function n(){return t.call(this,"f8")}return vr(n,t),n.prototype.pa=function(){return new mM},n}(Hw),mM=function(t){function n(){return t.call(this,"adadded")}return vr(n,t),n}(Va),pM=function(t){function n(n){var i;return(i=t.call(this)||this).Gu=void 0,i.Ko=n,i}vr(n,t);var i=n.prototype;return i.m$=function(t,n,i){var r;null==(r=this._8)||r.m$(t,n,i)},i.g8=function(t){var n;null==(n=this._8)||n.g8(t)},i.zy=function(){var t;null==(t=this._8)||t.zy()},i.v8=function(t){var n;null==(n=this._8)||n.v8(t)},i.bn=function(){var t;return this.Lo(),null==(t=this._8)||t.J_(this.Os),this._8=void 0,$.resolve()},hr(n,[{key:"j5",get:function(){return!!this._8&&this._8.j5}},{key:"Y5",get:function(){return this._8?this._8.Y5:[]}},{key:"J5",get:function(){return this._8?this._8.J5:null}},{key:"t8",get:function(){return this._8?this._8.t8:[]}},{key:"e8",get:function(){return this._8?this._8.e8:[]}},{key:"ma",get:function(){var t;return null!=(t=this.Gu)?t:this.Gu=JL(this)}},{key:"$v",get:function(){return this._8},set:function(t){var n=this._8;if(n!==t){var i=this.Y5,r=this.J5,e=this.t8,u=this.e8;null==n||n.J_(this.Os),this._8=t,null==t||t.Q_(this.Os);for(var s=this.Y5,o=this.J5,c=this.t8,a=this.e8,h=[],f=!1,v=0;v<u.length;v++){var d=u[v];ia(a,d)||h.push(new iM(d))}for(var l=0;l<a.length;l++){var _=a[l];ia(u,_)||h.push(new eM(_))}for(var g=0;g<c.length;g++){var w=c[g];ia(e,w)||(h.push(new cM(w)),f=!0)}f&&h.push(new yM),r!==o&&(r&&h.push(new hM(r)),o&&h.push(new vM(o)));for(var y=0;y<i.length;y++){var m=i[y];ia(s,m)||h.push(new gM(m,this.Ko._g()))}for(var p=0;p<s.length;p++){var k=s[p];ia(i,k)||h.push(new lM(k,this.Ko._g()))}for(var A=0;A<h.length;A++){var b=h[A];this.To(b)}}}}]),n}(Ha),kM=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Gu=void 0,n.w8=[],n}vr(n,t);var i=n.prototype;return i.m$=function(t,n,i){this.w8.push({m8:t,p8:n,y8:i})},i.zy=function(){},i.v8=function(t){},i.g8=function(t){var n=this.w8.slice();this.ir();for(var i=0;i<n.length;i++){var r=n[i];t.m$(r.m8,r.p8,r.y8)}},i.A8=function(){var t=this.w8.map((function(t){return t.m8}));return this.ir(),t},i.ir=function(){ea(this.w8)},i.bn=function(){return this.Lo(),this.ir(),$.resolve()},hr(n,[{key:"j5",get:function(){return!1}},{key:"Y5",get:function(){return[]}},{key:"J5",get:function(){return null}},{key:"t8",get:function(){return[]}},{key:"e8",get:function(){return[]}},{key:"ma",get:function(){var t;return null!=(t=this.Gu)?t:this.Gu=JL(this)}}]),n}(Ha);function AM(t){return function(n){function i(i,r){var e;return(e=n.call(this)||this).L8=!0,e.f2=jk.zl,e.D8=!1,e.sF=void 0,e.ZO=void 0,e.ZF=void 0,e.k8=function(t){t.type!==$l.Vu&&e.N8.push(t)},e.O8=function(t){(t.type!==$l.Ph||e.Ko.Dc)&&(t.type===$l.Ch&&e.Ko.Dc||t.type===$l.If&&e.Ko.Fc&&e.Ko._g()===t.currentTime||t.type===$l.Vu&&e.Ko.$u===t.playbackRate||e.To(t))},e.pv=function(t){if(e.D8){if(t.type===qk.Yf)return;t.type!==qk.pl&&t.type!==qk.Qf||(e.D8=!1)}if(t.type===$l.Ph){if(!e.L8)return;e.L8=!1}else if(t.type===$l.Ch){if(e.L8)return;e.L8=!0}else if(t.type===qk.Bf){if(e.f2===t.readyState)return;e.f2=t.readyState}else if(t.type===$l.Kw)return;e.To(t)},e.b8=new t(i,r),e.B8=new YL,e.Ko=e.b8,e.T8=new ZL(Uc(e)),e.b8.L5&&(e._8=new pM(Uc(e)),e._8.$v=e.b8.L5,e.M8=new kM),e.qX=new Ul,e.N8=[],e.oF=!0,e.eF(),e}vr(i,n);var r=i.prototype;return r.GN=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(r){return[2,i.qX.GN(t,n).catch(Sa)]}))}))()},r.S8=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:ba(n),i.b8.Q_(i.k8),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,i.b8.ba(t,n)];case 2:return r.sent(),[3,4];case 3:return i.b8.J_(i.k8),[7];case 4:return[2]}}))}))()},r.hl=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return[4,t.E8()];case 1:return n=i.sent(),t.I8(n),[2]}}))}))()},r.E8=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){return(n=t.qg())&&!HI(n)&&t.ol&&t.Dc?[2,t.w5.cl(t.Xu)]:[2,"none"]}))}))()},r.I8=function(t){var n,i=(null==(n=this.qg())?void 0:n.mutedAutoplay)||this.xb.mutedAutoplay;switch(t){case"all":this.P8();break;case"muted":(this.Xu||i===RE.ALL)&&(this.Xu=!0,this.dl())}},r.ba=function(t){HI(this.sF)||this.To(new wE(0,jk.zl)),this.ir(),this.sF=t;var n=this;Da(this.GN(Mo((function(i){var r,e;return Uo(this,(function(u){switch(u.label){case 0:ba(i),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,n.S8(t,i)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),n.sF=void 0,n.OM(function(t,n){return t instanceof Dl?t:t instanceof f?new Dl(n,t.message,t):new Dl(n,String(t))}(r,Rl.SOURCE_NOT_SUPPORTED)),[2];case 4:return n.C8(n.b8),[7];case 5:return[4,n.E8()];case 6:return e=u.sent(),n.To(new qL(n.qg())),n.I8(e),[2]}}))}))))},r.gg=function(t){this.Ko.gg(t)},r.yg=function(){var t;return null!=(t=this.ZF)?t:this.b8.yg()},r.Ag=function(){var t;return null!=(t=this.ZO)?t:this.b8.Ag()},r.OM=function(t){void 0===this.Ag()&&(this.ZO=t,this.ZF=Ey(t),this.To(new DT(t)))},r.dl=function(){this.Ko.dl()},r.P8=function(){this.Xu||this.uv(),this.dl()},r.uv=function(){this.b8.uv()},r.jl=function(){this.Ko.jl()},r.xl=function(){this.ba(void 0)},r.be=function(){this.oF=!0,this.Ko.be()},r.ke=function(){this.oF=!1,this.Ko.ke()},r._a=function(){this.b8._a()},r.Zg=function(t){this.b8.Zg(t)},r.xg=function(t){this.b8.xg(t)},r.ja=function(t){this.x8=t,t.pG(this)},r.cs=function(){return this.b8.cs()},r.qg=function(){return this.sF},r.rv=function(){return this.b8.rv()},r._g=function(){return this.Ko._g()},r.k5=function(){return this.Ko.k5()},r.vg=function(){return this.b8.vg()},r.ag=function(){return this.b8.ag()},r.Og=function(){return this.b8.Og()},r.Vg=function(){return this.b8.Vg()},r.wv=function(){this.b8.wv()},r.mv=function(){this.b8.mv()},r.ir=function(){this.sF=void 0,this.ZO=void 0,this.ZF=void 0,this.D8=!0,ea(this.N8),this.B8.ir(),this.C8(this.B8),this.qX.Jl();var t=this;Da(this.qX.GN(Mo((function(n){return Uo(this,(function(i){switch(i.label){case 0:return ba(n),[4,t.b8.xl()];case 1:return i.sent(),[2]}}))}))))},r.bn=function(){this.To(new UL),this.T8.bn(),this.iF(),this.ir();var t=this;Da(this.GN(Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return[4,t.b8.bn()];case 1:return n.sent(),t.x8&&(t.x8.Qu(t),t.x8=void 0),t.qX.bn(),[2]}}))})))),this.Lo()},r.C8=function(t){if(this.Ko!==t){var n=this.Ko.Dc,i=this.Ko._g(),r=this.Ko.$u,e=this.Ko.Nc,u=this.Ko.Fc;this.L8=n,this.f2=e,this.iF(),t.Q_(this.O8),t===this.b8?(void 0!==this._8&&(this._8.$v=t.L5,this.M8.g8(this._8)),(u||t._g()!==i)&&t.gg(i),t.$u!==r&&(t.$u=r),n?t.jl():t.dl()):(void 0!==this._8&&(this._8.$v=this.M8,this.M8.ir()),this.xb.retainPlaybackRateOnSourceChange?t.$u=r:1!==r&&this.To(new kE(this._g(),1))),t.J_(this.O8),this.Ko=t,this.eF();for(var s=0,o=this.N8;s<o.length;s++){var c=o[s];this.To(c)}ea(this.N8),this.oF?t.be():t.ke()}},r.eF=function(){this.Ko.Q_(this.pv)},r.iF=function(){this.Ko.J_(this.pv)},r.pa=function(){return function(t){var n,i,r=function(n){i=n;var r=nR(n,t.xb);t.ba(r)},e={get abr(){return t.g5.ma},get ads(){var n;return null==(n=t.L5)?void 0:n.ma},get analytics(){return t.C5.ma},get audioTracks(){return t.ht.ma},get autoplay(){return t.ol},set autoplay(n){t.ol=Boolean(n)},get buffered(){return t.ag()},get canvas(){return t.P5.ma},get cast(){var n;return null==(n=t.m5)?void 0:n.ma},get clip(){return t.S5.ma},get currentProgramDateTime(){var n;return null!=(n=t.qu)?n:null},set currentProgramDateTime(n){t.qu=null!=n?n:void 0},get currentTime(){return t._g()},set currentTime(n){t.gg(Number(n))},get duration(){return t.vg()},get element(){return t.je},get ended(){return t.Ic},get error(){return t.yg()},get errorObject(){return t.Ag()},get loop(){return t.Cz.Cz},set loop(n){t.Cz.Cz=Boolean(n)},get metrics(){return t.Pg.ma},get muted(){return t.Xu},set muted(n){t.xg(n)},get network(){return t.b5.ma},get paused(){return t.Dc},get playbackRate(){return t.$u},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.$u=i},get played(){return t.Og()},get poster(){return t.mi},set poster(n){t.mi=ay(n)},get preload(){return t.Mg},set preload(n){t.Mg=function(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";default:return"none"}}(n)},get presentation(){return t.I5.ma},get readyState(){return t.Nc},get seekable(){return t.Vg()},get seeking(){return t.Fc},get source(){return i},set source(t){r(t)},get src(){return zI(t.qg())},set src(t){r({sources:t})},get textTracks(){return t.nt.ma},get textTrackStyle(){return t.Cu.ma},get uid(){return t.cw},get videoHeight(){return t.Xg},get videoTracks(){return t.rt.ma},get videoWidth(){return t.Kg},get visibility(){return t.Fo.ma},get volume(){return t._l},set volume(n){t.Zg(Number(n))},get latency(){return t.Jg.ma},destroy:function(){t.bn(),t=null,i=void 0},play:function(){t.P8()},pause:function(){t.jl()},stop:function(){i=void 0,t.xl()},prepareWithUserAction:function(){t.uv()},addEventListener:function(t,i){n.wn(t,i)},removeEventListener:function(t,i){n.pn(t,i)},setSource:function(t){r(t)}};return(n=new mI(e,!0)).eU(t),n.wn("destroy",(function(){n.bn()})),e}(this)},hr(i,[{key:"x5",get:function(){return this.b8.x5}},{key:"L5",get:function(){return this._8}},{key:"C5",get:function(){return this.b8.C5}},{key:"P5",get:function(){return this.b8.P5}},{key:"xb",get:function(){return this.b8.xb}},{key:"Gf",get:function(){return this.b8.Gf}},{key:"wa",get:function(){return this.b8.wa}},{key:"I5",get:function(){return this.b8.I5}},{key:"y5",get:function(){return this.b8.y5}},{key:"v5",get:function(){return this.b8.v5}},{key:"g5",get:function(){return this.b8.g5}},{key:"ol",get:function(){return this.b8.ol},set:function(t){this.b8.ol=t,this.hl()}},{key:"w5",get:function(){return this.b8.w5}},{key:"ht",get:function(){return this.b8.ht}},{key:"m5",get:function(){return this.b8.m5}},{key:"k0",get:function(){return this.b8.y5}},{key:"ma",get:function(){return this.Gu||(this.Gu=this.pa()),this.Gu}},{key:"Tg",get:function(){return this.b8.Tg}},{key:"tv",get:function(){return this.b8.tv},set:function(t){this.b8.tv=t}},{key:"Pg",get:function(){return this.b8.Pg}},{key:"b5",get:function(){return this.b8.b5}},{key:"nt",get:function(){return this.b8.nt}},{key:"Cu",get:function(){return this.b8.Cu}},{key:"rt",get:function(){return this.b8.rt}},{key:"S5",get:function(){return this.b8.S5}},{key:"Cz",get:function(){return this.b8.Cz}},{key:"qu",get:function(){return this.Ko.qu},set:function(t){this.Ko.qu=t}},{key:"bt",get:function(){return this.b8.bt}},{key:"je",get:function(){return this.b8.je}},{key:"Ic",get:function(){return this.b8.Ic}},{key:"Xu",get:function(){return this.b8.Xu},set:function(t){this.xg(t)}},{key:"Dc",get:function(){return this.Ko.Dc}},{key:"mi",get:function(){return this.T8.TI||""},set:function(t){this.T8.G5=t}},{key:"$u",get:function(){return this.b8.$u},set:function(t){this.Ko.$u=t}},{key:"Mg",get:function(){return this.b8.Mg},set:function(t){this.b8.Mg=t}},{key:"Nc",get:function(){return this.Ko.Nc}},{key:"ka",get:function(){return this.b8.ka},set:function(t){this.b8.ka=t}},{key:"Fc",get:function(){return this.Ko.Fc}},{key:"cw",get:function(){return this.b8.cw}},{key:"Xg",get:function(){return this.b8.Xg}},{key:"Kg",get:function(){return this.b8.Kg}},{key:"_l",get:function(){return this.b8._l},set:function(t){this.Zg(t)}},{key:"Jg",get:function(){return this.b8.Jg}},{key:"Fo",get:function(){return this.b8.Fo}}]),i}(Ha)}function bM(){if(!$L){var t=HL;t=function(t){return function(n){function i(i,r){for(var e=new t(i,r),u=0;u<ZT.length;u++){var s=ZT[u];if(tS[s])for(var o=0,c=tS[s];o<c.length;o++)e=(0,c[o])(e)}return n.call(this,e)}return vr(i,n),i}(KT)}(t);var n=AM(t);n=function(t){for(var n=t,i=0;i<ZT.length;i++){var r=ZT[i];if(JT[r])for(var e=0,u=JT[r];e<u.length;e++)n=(0,u[e])(n)}return n}(n),$L=n}return $L}function TM(t,n){var i=DE(n),r=new(bM())(t,i);r.ka=r;var e=r.ma;return r._a(),r.ja(WL),d.defineProperty(e,"constructor",{value:TM}),e=function(t){return Zw(t)}(e),function(t){for(var n=0;n<iS.length;n++)(0,iS[n])(t)}(r),e}Ca((function(){self.dispatchEvent&&self.dispatchEvent(XL("theoplayerready"))}));var SM=function(){function t(){}var n=t.prototype;return n.encode=function(t){return uh(t)},n.decode=function(t){return ih(t)},t}(),EM={base64:new SM},IM=JSON.parse('["dash","hls","chromecast","ads","airplay","cache","webaudio","mediatailor"]'),RM="6.10.1",NM="2024.1.2",CM=WL.ma,DM=PA.mp.registerContentProtectionIntegration.bind(PA.mp),PM=function(){function t(t){this.XF=t,this.z7=new Ul}var n=t.prototype;return n.cl=function(t){var n=this;return this.z7.GN((function(){return n.X7(t)}))},n.uv=function(){this.XF.zF()},n.X7=function(n){var i=this;return Mo((function(){var r,e,u;return Uo(this,(function(s){switch(s.label){case 0:return r=i.XF.MM(py.vl),e=r.JO,[4,t.G7(e,n)];case 1:return u=s.sent(),[4,i.XF.AM(r)];case 2:return s.sent(),[2,u]}}))}))()},n.bn=function(){this.z7.bn()},t.G7=function(n,i){return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return Ir.mR||Ir._R?[2,"all"]:(n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),[4,t.Q7()]);case 1:return e.sent(),(r=!i)?[4,t.K7(n,!1)]:[3,3];case 2:r=e.sent(),e.label=3;case 3:return r?[2,"all"]:[4,t.K7(n,!0)];case 4:return e.sent()?[2,"muted"]:[2,"none"]}}))}))()},t.K7=function(t,n){return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:t.muted=n,i=t.play(),e.label=1;case 1:return e.trys.push([1,3,4,5]),Ur(i)?(r=Ba(250),[4,$.race([i,r])]):[2,!Ir.Ks];case 2:return e.sent(),[2,!0];case 3:return e.sent(),[2,!1];case 4:return t.pause(),t.muted=!0,[7];case 5:return[2]}}))}))()},t.Q7=function(){return new $((function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else o(t,0)}))},t}(),OM={LV:function(t){qs.addEventListener("beforeunload",t)},xV:function(t){qs.removeEventListener("beforeunload",t)}};!function(t){zs=t.D7,Ws=t.N7,Gs=t.B7,qs=t.L7,Ys=qs&&qs.location,js=qs&&qs.navigator}({D7:SL,N7:PM,B7:OM,L7:r});var BM=function(){function t(){}return t.prototype.FM=function(n){return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return nE(n.type)?!(i=n.contentProtection)||FA(i)?[3,2]:XA(i)?[4,t.j7(i)]:[2,!1]:[2,!1];case 1:if(!r.sent())return[2,!1];r.label=2;case 2:return[2,!0]}}))}))()},t.j7=function(t){return Mo((function(){var n,i,r;return Uo(this,(function(e){switch(e.label){case 0:return(n=t.playready)?[4,tr.vN()]:[3,2];case 1:n=e.sent(),e.label=2;case 2:return n?[2,!0]:(i=t.widevine)?[4,tr.fN()]:[3,4];case 3:i=e.sent(),e.label=4;case 4:return i?[2,!0]:(r=t.clearkey)?[4,tr.gN()]:[3,6];case 5:r=e.sent(),e.label=6;case 6:return r?[2,!0]:[4,tr.bN()];case 7:return e.sent()?[2,!0]:[2,!1]}}))}))()},t}(),LM=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),n.prototype.FM=function(n){var i=this;return Mo((function(){return Uo(this,(function(r){return Ao(n.useManagedMediaSource)?[2,t.prototype.FM.call(i,n)]:[2,!1]}))}))()},n}(BM);function MM(t){return U_(t)}function xM(t,n){var i=U_(t);return n?""+i+n:""+i}var UM,FM=function(){function t(t,n,i,r){this.J7=t,this.ett=n,this.stt=i,this.ntt=r}var n=t.prototype;return n.Y7=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.J7.Z7(t.map(MM))];case 1:return[2,i.sent().shift()]}}))}))()},n.ttt=function(t,n){var i=xM(t,n);return this.ett.IC(i)},n.itt=function(t,n){var i=this;return Mo((function(){var r,e;return Uo(this,(function(u){switch(u.label){case 0:return e=xM(t,n),[4,i.stt.RC(e)];case 1:return[2,null==(r=u.sent())?void 0:r.data]}}))}))()},n.sX=function(t){return this.ntt.RC(t)},t}(),HM=function(){function t(){}var n=t.prototype;return n.htt=function(t){return $.resolve(!1)},n.ott=function(t){return $.reject(VM)},n.att=function(t){return $.reject(VM)},n.IC=function(t){return $.resolve(!1)},n.RC=function(t){return $.resolve(void 0)},n.utt=function(t,n){return $.resolve(void 0)},n.Z7=function(t){return $.resolve([])},n.ctt=function(){return $.resolve([])},n.ltt=function(t){return $.resolve([])},n.dtt=function(t,n){return $.resolve([])},n.Qu=function(t){return $.reject(VM)},n.ftt=function(t){return $.reject(VM)},n._tt=function(){return $.reject(VM)},t}(),VM="Storage disabled",XM=function(){function t(){this.wtt=new HM,this.mtt=new HM,this.ptt=new HM,this.ytt=new HM,this.Att=new HM}return t.prototype.gtt=function(t){return $.reject(zM)},t.y6=function(){return $.resolve(new t)},t}(),zM="Storage disabled",WM=function(){function t(t){var n=this;this.F_=new kf,this.Ttt=void 0,this.F_.U_(t),this.F_.jf.then((function(t){n.Ttt=t}))}var n=t.prototype;return n.htt=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return(i=n.Ttt)?[3,2]:[4,n.btt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.htt(t)]}}))}))()},n.ott=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return(r=i.Ttt)?[3,2]:[4,i.btt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.ott(t,n)]}}))}))()},n.att=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return(r=i.Ttt)?[3,2]:[4,i.btt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.att(t,n)]}}))}))()},n.IC=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return(i=n.Ttt)?[3,2]:[4,n.btt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.IC(t)]}}))}))()},n.RC=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return(i=n.Ttt)?[3,2]:[4,n.btt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.RC(t)]}}))}))()},n.utt=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return(r=i.Ttt)?[3,2]:[4,i.btt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.utt(t,n)]}}))}))()},n.Z7=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return(i=n.Ttt)?[3,2]:[4,n.btt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Z7(t)]}}))}))()},n.ctt=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return(n=t.Ttt)?[3,2]:[4,t.btt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.ctt()]}}))}))()},n.ltt=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return(i=n.Ttt)?[3,2]:[4,n.btt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.ltt(t)]}}))}))()},n.dtt=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return(r=i.Ttt)?[3,2]:[4,i.btt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.dtt(t,n)]}}))}))()},n.Qu=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return(i=n.Ttt)?[3,2]:[4,n.btt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Qu(t)]}}))}))()},n.ftt=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return(i=n.Ttt)?[3,2]:[4,n.btt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.ftt(t)]}}))}))()},n._tt=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return(n=t.Ttt)?[3,2]:[4,t.btt];case 1:n=i.sent(),i.label=2;case 2:return[2,n._tt()]}}))}))()},hr(t,[{key:"btt",get:function(){return this.F_.jf}}]),t}(),GM=function(){function t(t){var n=this;this.F_=new kf,this.ktt=void 0,this.F_.U_(t);var i=this.F_.jf;i.then((function(t){n.ktt=t})),this.mtt=new WM(i.then((function(t){return t.mtt}))),this.wtt=new WM(i.then((function(t){return t.wtt}))),this.ptt=new WM(i.then((function(t){return t.ptt}))),this.ytt=new WM(i.then((function(t){return t.ytt}))),this.Att=new WM(i.then((function(t){return t.Att})))}return t.prototype.gtt=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return(i=n.ktt)?[3,2]:[4,n.Stt];case 1:i=r.sent(),r.label=2;case 2:return[4,i.gtt(t)];case 3:return[2,r.sent()]}}))}))()},hr(t,[{key:"Stt",get:function(){return this.F_.jf}}]),t}();function qM(t){return new f("This storage cannot handle persistency type "+t)}!function(t){t.Ett="readonly",t.Itt="readwrite"}(UM||(UM={}));var YM=function(){function t(){this.mx=[]}var n=t.prototype;return n.htt=function(t){return $.resolve("temporary"===t)},n.ott=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?$.reject(qM(n)):(this.Ptt(t.key),this.mx.push(t),$.resolve())},n.att=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return $.reject(qM(n));for(var i=0;i<t.length;i++){var r=t[i];this.Ptt(r.key)}for(var e=0;e<t.length;e++){var u=t[e];this.mx.push(u)}return $.resolve()},n.IC=function(t){return $.resolve(Boolean(this.Rtt(t)))},n.RC=function(t){return $.resolve(this.Rtt(t))},n.utt=function(t,n){return $.resolve(this.Ctt(t,n))},n.Z7=function(t){var n=this,i=t?t.map((function(t){return n.Rtt(t)})):this.mx;return $.resolve(i.filter(Cr))},n.ctt=function(){return $.resolve(_r(this.mx))},n.ltt=function(t){return this.dtt(t,"key")},n.dtt=function(t,n){var i=this.mx.filter((function(i){return i[n]===t}));return $.resolve(i)},n.Qu=function(t){return this.Ptt(t),$.resolve()},n.ftt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Ptt(i)}return $.resolve()},n._tt=function(){return ea(this.mx),$.resolve()},n.Rtt=function(t){return this.Ctt(t,"key")},n.Ctt=function(t,n){for(var i=0,r=this.mx;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},n.Ptt=function(t){var n=this.Rtt(t);n&&$c(this.mx,n)},t}(),jM=function(){function t(){this.wtt=new YM,this.mtt=new YM,this.ptt=new YM,this.ytt=new YM,this.Att=new YM}return t.prototype.gtt=function(t){return t(this)},t.y6=function(){return $.resolve(new t)},t}(),QM=function(){function t(t){this.xtt=t}var n=t.prototype;return n.htt=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:i=0,r=n.xtt,e.label=1;case 1:return i<r.length?[4,r[i].htt(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.ott=function(t,n){void 0===n&&(n="persistent");var i=this;return Mo((function(){var r,e,u;return Uo(this,(function(s){switch(s.label){case 0:r=0,e=i.xtt,s.label=1;case 1:return r<e.length?[4,(u=e[r]).htt(n)]:[3,4];case 2:if(s.sent())return[2,u.ott(t)];s.label=3;case 3:return r++,[3,1];case 4:throw qM(n)}}))}))()},n.att=function(t,n){void 0===n&&(n="persistent");var i=this;return Mo((function(){var r,e,u;return Uo(this,(function(s){switch(s.label){case 0:r=0,e=i.xtt,s.label=1;case 1:return r<e.length?[4,(u=e[r]).htt(n)]:[3,4];case 2:if(s.sent())return[2,u.att(t)];s.label=3;case 3:return r++,[3,1];case 4:throw qM(n)}}))}))()},n.IC=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:i=0,r=n.xtt,e.label=1;case 1:return i<r.length?[4,r[i].IC(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.RC=function(t){var n=this;return Mo((function(){var i,r,e;return Uo(this,(function(u){switch(u.label){case 0:i=0,r=n.xtt,u.label=1;case 1:return i<r.length?[4,r[i].RC(t)]:[3,4];case 2:if(e=u.sent())return[2,e];u.label=3;case 3:return i++,[3,1];case 4:return[2,void 0]}}))}))()},n.utt=function(t,n){var i=this;return Mo((function(){var r,e,u;return Uo(this,(function(s){switch(s.label){case 0:r=0,e=i.xtt,s.label=1;case 1:return r<e.length?[4,e[r].utt(t,n)]:[3,4];case 2:if(u=s.sent())return[2,u];s.label=3;case 3:return r++,[3,1];case 4:return[2,void 0]}}))}))()},n.Z7=function(t){var n=this;return Mo((function(){var i,r,e,u,s,o,c,a;return Uo(this,(function(h){switch(h.label){case 0:i=[],r=0,e=n.xtt,h.label=1;case 1:return r<e.length?(u=e[r],c=(o=(s=i).push).apply,a=[s],[4,u.Z7(t)]):[3,4];case 2:c.apply(o,a.concat([_r.apply(void 0,[h.sent()])])),h.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.ctt=function(){var t=this;return Mo((function(){var n,i,r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:n=[],i=0,r=t.xtt,a.label=1;case 1:return i<r.length?(e=r[i],o=(s=(u=n).push).apply,c=[u],[4,e.ctt()]):[3,4];case 2:o.apply(s,c.concat([_r.apply(void 0,[a.sent()])])),a.label=3;case 3:return i++,[3,1];case 4:return[2,n]}}))}))()},n.ltt=function(t){var n=this;return Mo((function(){var i,r,e,u,s,o,c,a;return Uo(this,(function(h){switch(h.label){case 0:i=[],r=0,e=n.xtt,h.label=1;case 1:return r<e.length?(u=e[r],c=(o=(s=i).push).apply,a=[s],[4,u.ltt(t)]):[3,4];case 2:c.apply(o,a.concat([_r.apply(void 0,[h.sent()])])),h.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.dtt=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c,a,h;return Uo(this,(function(f){switch(f.label){case 0:r=[],e=0,u=i.xtt,f.label=1;case 1:return e<u.length?(s=u[e],a=(c=(o=r).push).apply,h=[o],[4,s.dtt(t,n)]):[3,4];case 2:a.apply(c,h.concat([_r.apply(void 0,[f.sent()])])),f.label=3;case 3:return e++,[3,1];case 4:return[2,r]}}))}))()},n.Qu=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:i=0,r=n.xtt,e.label=1;case 1:return i<r.length?[4,r[i].Qu(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.ftt=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:i=0,r=n.xtt,e.label=1;case 1:return i<r.length?[4,r[i].ftt(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n._tt=function(){var t=this;return Mo((function(){var n,i;return Uo(this,(function(r){switch(r.label){case 0:n=0,i=t.xtt,r.label=1;case 1:return n<i.length?[4,i[n]._tt()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))()},t}();function KM(t){return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return[4,$.all(t.map((function(t){return t()})))];case 1:return n=i.sent(),[2,JM.y6(n)]}}))}))}var ZM,JM=function(){function t(t){this.Mtt=t,this.Dtt=new QM(t.map((function(t){return t.ytt}))),this.Ntt=new QM(t.map((function(t){return t.Att}))),this.Btt=new QM(t.map((function(t){return t.ptt}))),this.Ltt=new QM(t.map((function(t){return t.wtt}))),this.Ott=new QM(t.map((function(t){return t.mtt})))}return t.prototype.gtt=function(n){var i=this;if(0===this.Mtt.length)return n(this);var r=[],e=0,u=function(s){return r.push(s),++e<i.Mtt.length?i.Mtt[e].gtt(u):n(new t(r))};return this.Mtt[e].gtt(u)},t.y6=function(n){return $.resolve(new t(n))},hr(t,[{key:"ytt",get:function(){return this.Dtt}},{key:"Att",get:function(){return this.Ntt}},{key:"ptt",get:function(){return this.Btt}},{key:"wtt",get:function(){return this.Ltt}},{key:"mtt",get:function(){return this.Ott}}]),t}(),$M=function(){function t(t){this.Htt=[],this.Utt=!0,this.Vtt=t}var n=t.prototype;return n.y6=function(){return new GM(this.Ftt())},n.Ftt=function(){var t=this;return Mo((function(){var n,i,r;return Uo(this,(function(e){switch(e.label){case 0:return t.Utt?[4,$.resolve()]:[3,2];case 1:e.sent(),t.Utt=!1,e.label=2;case 2:n=0,i=t.Htt,e.label=3;case 3:if(!(n<i.length))return[3,8];r=i[n],e.label=4;case 4:return e.trys.push([4,6,,7]),[4,KM([jM.y6,r])()];case 5:return[2,e.sent()];case 6:return e.sent(),[3,7];case 7:return n++,[3,3];case 8:return[4,KM([jM.y6,t.Vtt])()];case 9:return[2,e.sent()]}}))}))()},n.ja=function(t){if(!this.Utt)throw new f("Registration overdue");this.Htt.push(t)},t}(),tx=function(){function t(){}return t.ja=function(n){t.xO.ja(n)},hr(t,null,[{key:"lC",get:function(){return t.Wtt||(t.Wtt=t.xO.y6()),t.Wtt}}]),t}();function nx(t){return void 0!==t.Xg}tx.xO=new $M(XM.y6),tx.Wtt=void 0,function(t){t.vB="static",t.wB="dynamic"}(ZM||(ZM={}));var ix,rx=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,ex=function(){function t(t){this.ztt=t}var n=t.prototype;return n.Xtt=function(){return this.ztt},n.Gtt=function(){return 1e3*this.ztt},t.uA=function(n){var i=n.match(rx);if(!i)throw new f("The given value could not be parsed as a valid DateTimeInterval");return new t(31536e3*(Number(i[1])||0)+2592e3*(Number(i[2])||0)+86400*(Number(i[3])||0)+3600*(Number(i[4])||0)+60*(Number(i[5])||0)+(Number(i[6])||0))},hr(t,[{key:"qtt",get:function(){return Om.fE(this.ztt,1e3)}}]),t}();!function(t){t.Qtt="progressive",t.Ktt="interlaced",t.YT="unknown"}(ix||(ix={}));var ux=function(){function t(t,n){this.jtt=t,this.Ytt=n}return t.prototype.hk=function(){return this.jtt/this.Ytt},t}(),sx=/^(?:true|false)$/i,ox=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function cx(t){if(void 0!==t)return ex.uA(t)}function ax(t){if(void 0!==t){var n=t.match(ox);if(!n)throw new f("The given value could not be parsed as a valid Date");var i=Fo(n,12),r=i[1],e=i[2],u=i[3],s=i[4],o=i[5],c=i[6],a=i[7],h=i[8],v=i[9],d=i[10],_=i[11],g=("-"===r?-1:1)*Number(e),y=Number(u)-1,m=Number(s),p=Number(o),k=Number(c),A=Number(a),b=Number("0."+(h||"")),T=l.round(1e3*b);if(v)k-=("-"===v?-1:1)*(60*Number(d)+Number(_));var S=new Date(Date.UTC(g,y,m,p,k,A,T));if(w(S.getTime()))throw new f("The given value could not be parsed as a valid Date");return S}}function hx(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[vx(n[1]),vx(n[2])]}}function fx(t){if(void 0!==t){if(!w(Number(t)))try{return Ee.fromString(t,!0)}catch(t){}throw new f("The given value could not be parsed as a valid unsigned long")}}function vx(t){if(void 0!==t){var n=Number(t);if(!w(n))return n;throw new f("The given value could not be parsed as a valid Number")}}function dx(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!w(i)&&!w(r))return new ux(i,r);throw new f("The given value could not be parsed as a valid frame rate")}}function lx(t){if(void 0!==t){if(sx.test(t))return"true"===t.toLowerCase();if(!w(_(t)))return Boolean(_(t));throw new f("The given value could not be parsed as a valid Boolean.")}}function _x(t){return{TI:t.kL,Ztt:lx(t.cI("availabilityTimeComplete")),Jtt:vx(t.cI("availabilityTimeOffset"))}}function gx(t){return t.map(_x)}function wx(t){var n,i=Ix(t),r=function(t,n,i,r){var e=t.uI(i,n);return void 0===e&&(e=t.cI(r+":"+n)),e}(t,"default_KID","urn:mpeg:cenc:2013","cenc"),e=Wp(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==e&&(n=lh(e.kL)),!n){var u=Wp(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==u&&(n=function(t){var n=ih(t.kL),i=new y([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,u=new ArrayBuffer(e),s=new y(u),o=new DataView(u),c=new mf;Hh(o,c,e),Hh(o,c,1886614376),Hh(o,c,0),Bh(o,c,i),Hh(o,c,r),Bh(o,c,n),!1;return s.buffer}(u))}return{nL:r,$tt:n,tet:i.tet,kT:i.kT}}function yx(t){return{eet:t.cI("sourceURL"),iet:hx(t.cI("range"))}}function mx(t,n){var i=t.cI("d"),r=t.cI("t"),e=vx(t.cI("r"));n.push({ct:i,PS:r,net:e})}function px(t){return{ret:t.cI("index"),het:hx(t.cI("indexRange")),NA:t.cI("media"),oet:hx(t.cI("mediaRange"))}}function kx(t){var n=bx(t),i=function(t){var n=t.map(px);return n.length>0?n:void 0}(t.nI("SegmentURL"));return xo({},n,{aet:i,uet:t.cI("xlink:href"),cet:t.cI("xlink:actuate")})}function Ax(t){var n=lx(t.cI("availabilityTimeComplete")),i=vx(t.cI("availabilityTimeOffset")),r=hx(t.cI("indexRange")),e=lx(t.cI("indexRangeExact")),u=t.nI("Initialization");if(u.length>1)throw new f("The provided MPEG-DASH document's "+t.DL+" element can not have more than one Initialization element.");var s=1===u.length?yx(u[0]):void 0,o=fx(t.cI("presentationTimeOffset")),c=t.nI("RepresentationIndex");if(c.length>1)throw new f("The provided MPEG-DASH document's "+t.DL+" element can not have more than one RepresentationIndex element.");return{Ztt:n,Jtt:i,het:r,let:e,det:s,fet:o,_et:1===c.length?yx(c[0]):void 0,vet:cx(t.cI("timeShiftBufferDepth")),IA:vx(t.cI("timescale"))}}function bx(t){var n=Ax(t),i=t.nI("BitstreamSwitching"),r=i.length>0?yx(i[0]):void 0,e=vx(t.cI("duration")),u=t.nI("SegmentTimeline");if(u.length>1)throw new f("The provided MPEG-DASH document's "+t.DL+" element can not have more than one SegmentTimeline element.");var s=1===u.length?function(t){for(var n=[],i=t.nI("S"),r=0;r<i.length;r++)mx(i[r],n);return n}(u[0]):void 0;return xo({},n,{wet:r,ct:e,met:s,pet:vx(t.cI("startNumber")),yet:vx(t.cI("endNumber"))})}function Tx(t){return{Aet:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(vx)):1===n.length?n.map(vx)[0]:void 0}}(t.cI("audioSamplingRate")),bet:t.cI("codecs"),Tet:lx(t.cI("codingDependency")),ket:function(t){if(0!==t.length)return t.map(wx)}(t.nI("ContentProtection")),Eet:function(t){return t.map(Rx)}(t.nI("EssentialProperty")),Iet:dx(t.cI("frameRate")),Ci:vx(t.cI("height")),Pet:vx(t.cI("maxPlayoutRate")),Ret:vx(t.cI("maximumSAPPeriod")),aV:t.cI("mimeType"),Cet:t.cI("profiles"),xet:t.cI("sar"),Det:function(t){switch(t){case ix.Qtt:case ix.Ktt:case ix.YT:return t;default:return}}(t.cI("scanType")),Net:t.cI("segmentProfiles"),Bet:vx(t.cI("startWithSAP")),Ti:vx(t.cI("width"))}}function Sx(t){var n=gx(t.nI("BaseURL")),i=t.nI("SegmentBase");if(i.length>1)throw new f("The provided MPEG-DASH document's "+t.hI+" element can not have more than one SegmentBase element.");var r=1===i.length?Ax(i[0]):void 0,e=function(t){var n=t.map(kx);return n.length>0?n:void 0}(t.nI("SegmentList")),u=t.nI("SegmentTemplate");if(u.length>1)throw new f("The provided MPEG-DASH document's "+t.hI+" element can not have more than one SegmentTemplate element.");var s=1===u.length?function(t){return xo({},bx(t),{Let:t.cI("bitstreamSwitching"),Oet:t.cI("index"),Met:t.cI("initialization"),Fet:t.cI("media")})}(u[0]):void 0;return{Uet:n,Het:r,Vet:e,Wet:s}}function Ex(t){var n=Tx(t),i=Sx(t),r=vx(t.cI("bandwidth")),e=t.cI("dependencyId"),u=t.cI("id"),s=t.cI("mediaStreamStructureId"),o=vx(t.cI("qualityRanking"));if(t.nI("SegmentBase").length>1)throw new f("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");return xo({},n,i,{IO:r,qet:e,o:u,zet:s,Xet:o})}function Ix(t){return{tet:t.cI("schemeIdUri"),kT:t.cI("value")}}function Rx(t){return Ix(t)}function Nx(t){return Ix(t)}function Cx(t){return Ix(t)}function Dx(t){var n,i=Tx(t),r=Sx(t),e=function(t){return t.map(Cx)}(t.nI("Accessibility")),u=lx(t.cI("bitstreamSwitching")),s=t.cI("contentType"),o=vx(t.cI("group")),c=vx(t.cI("id")),a=(null==(n=t.nI("Label")[0])?void 0:n.kL)||"",h=t.cI("lang"),v=vx(t.cI("maxBandwidth")),d=dx(t.cI("maxFrameRate")),l=vx(t.cI("maxHeight")),_=vx(t.cI("maxWidth")),g=vx(t.cI("minBandwidth")),w=dx(t.cI("minFrameRate")),y=vx(t.cI("minHeight")),m=vx(t.cI("minWidth")),p=t.cI("par"),k=function(t){return t.map(Ex)}(t.nI("Representation"));if(0===k.length)throw new f("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var A,b=function(t){return t.map(Nx)}(t.nI("Role")),T=lx(t.cI("segmentAlignment"))||!1,S=vx(t.cI("selectionPriority")),E=S||1,I=lx(t.cI("subsegmentAlignment"))||!1;try{A=vx(t.cI("subsegmentStartsWithSAP"))}catch(t){}return xo({},i,r,{Get:e,wet:u,rM:s,Qet:o,o:c,_h:a,gs:h,Ket:v,jet:d,Yet:l,Zet:_,Jet:g,$et:w,tit:y,eit:m,iit:p,sit:k,nit:b,rit:T,HM:E,hit:I,oit:A,ait:t.cI("xlink:actuate")||"onRequest",uit:t.cI("xlink:href")})}function Px(t){var n=fx(t.cI("presentationTime"))||Ee.ZERO,i=fx(t.cI("duration")),r=vx(t.cI("id")),e=function(t){for(var n=t.rI,i={},r=0;r<n.length;r++)i[n[r].l]=n[r].kT;return i}(t),u=t.kL;return{ET:n,ct:i,o:r,rI:e,Ny:""!==u.trim()?u:t.cI("messageData")||""}}function Ox(t){return{uit:t.cI("xlink:href"),ait:t.cI("xlink:actuate"),tet:t.cI("schemeIdUri"),kT:t.cI("value"),IA:vx(t.cI("timescale")),fet:fx(t.cI("presentationTimeOffset")),uV:t.nI("Event").map(Px)}}function Bx(t){var n=Sx(t),i=t.nI("AssetIdentifier");if(i.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?function(t){return Ix(t)}(i[0]):void 0,e=function(t){return t.map(Dx)}(t.nI("AdaptationSet")),u=lx(t.cI("bitstreamSwitching")),s=cx(t.cI("duration")),o=function(t){return t.map(Ox)}(t.nI("EventStream")),c=t.cI("id"),a=cx(t.cI("start")),h=(t.nI("Subset"),t.cI("xlink:href"));return xo({},n,{cit:e,dit:r,wet:u,ct:s,fit:o,o:c,Tn:a,ait:t.cI("xlink:actuate"),uit:h})}function Lx(t){var n=t.cI("schemeIdUri");if(n)return{tet:n,kT:t.cI("value")}}function Mx(t,n){var i=ax(t.cI("availabilityEndTime")),r=ax(t.cI("availabilityStartTime")),e=gx(t.nI("BaseURL")),u=t.cI("id"),s=function(t){return t.map((function(t){return""+t.kL}))}(t.nI("Location")),o=cx(t.cI("maxSegmentDuration")),c=cx(t.cI("maxSubsegmentDuration")),a=cx(t.cI("mediaPresentationDuration")),h=(t.nI("Metrics"),cx(t.cI("minBufferTime")));if(!h)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var v=cx(t.cI("minimumUpdatePeriod")),d=function(t){return t.map((function(t){return Bx(t)}))}(t.nI("Period"));if(!d.length)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.cI("profiles");if(!l)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");var _=ax(t.cI("publishTime")),g=cx(t.cI("suggestedPresentationDelay")),w=cx(t.cI("timeShiftBufferDepth")),y=function(t){switch(t){case ZM.vB:case ZM.wB:return t;default:return}}(t.cI("type")),m=function(t){for(var n=[],i=0;i<t.length;i++){var r=Lx(t[i]);r&&n.push(r)}return n}(t.nI("UTCTiming"));return{_it:i,git:r,Uet:e,o:u,vit:s,wit:n,mit:o,pit:c,yit:a,Ait:h,Tit:v,Sit:d,Cet:l,kit:_,Eit:g,vet:w,Iw:y,Iit:m}}var xx=function(){function t(){}return t.prototype.Pit=function(t,n){return function(t,n){if(!t)throw new f("The provided MPEG-DASH document does not contain a valid MPD root element.");return Mx(t,n)}(tr.oI(t).aI,n)},t}();function Ux(t){return{get bandwidth(){return t.IO},get codecs(){return t.bet},get id(){return t.o},get uid(){return t.cw},get name(){return t._h},get averageBandwidth(){return t.Rit},get label(){return t._h},set label(n){t._h=ay(n)},get available(){return t.H7},get score(){return t.Cit},addEventListener:function(n,i){t.wn(n,i)},removeEventListener:function(n,i){t.pn(n,i)}}}function Fx(t){return $w(Ux(t),{get height(){return t.Ci},get width(){return t.Ti},get frameRate(){return t.Iet},get firstFrame(){return t.xit}})}function Hx(t){return $w(Ux(t),{get audioSamplingRate(){return t.Aet}})}var Vx=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return vr(n,t),n}(Va),Xx=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).o=n,s.IO=i,s.bet=r,s.Nit=u,s.cw=Uy(),s.Yu=e||"",s.Dit=!0,s}return vr(n,t),n.prototype.BI=function(){this.Dit=!1,this.To(new Vx(this.ma))},hr(n,[{key:"_h",get:function(){return this.Yu},set:function(t){this.Yu!==t&&(this.Yu=t,this.To(new Vx(this.ma)))}},{key:"Rit",get:function(){}},{key:"H7",get:function(){return this.Dit}},{key:"Cit",get:function(){}}]),n}(Ua),zx=function(t){function n(n,i,r,e,u,s,o,c,a){var h;return void 0===a&&(a=0),(h=t.call(this,n,i,r,e,u)||this).Iet=s,h.Ti=o,h.Ci=c,h.xit=a,h.Gu=void 0,h}return vr(n,t),hr(n,[{key:"ma",get:function(){return this.Gu||(this.Gu=Fx(this)),this.Gu}}]),n}(Xx),Wx=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).Aet=s,o.Gu=void 0,o}return vr(n,t),hr(n,[{key:"ma",get:function(){return this.Gu||(this.Gu=Hx(this)),this.Gu}}]),n}(Xx);var Gx,qx=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Mit=function(t){n.To(t)},n}return vr(n,t),hr(n,[{key:"Bit",get:function(){var t=this.Lit();return null==t?void 0:t.Tn}},{key:"Oit",get:function(){var t=this.Lit();return null==t?void 0:t.Pn}}]),n}(Ua);function Yx(t){return Hr(t.Fit)}function jx(t){return Yx(t)?t.Fit:t.ret}!function(t){t.Uit="Hit",t.Vit="Wit"}(Gx||(Gx={}));var Qx=function(t){function n(n,i){var r;if((r=t.call(this)||this).Gu=void 0,r.Kit=void 0,r.nst=!1,r.zit=n,r.Xit=i,r.Xit.wn(Gx.Uit,r.Mit),r.Iw===py.vl){var e,u,s=null!=(u=null==(e=r.Iet)?void 0:e.hk())?u:NaN;r.tst=new zx(r.o,r.IO,r.g9,"","",s,r.Ti,r.Ci)}else r.Iw===py.yy?r.tst=new Wx(r.o,r.IO,r.g9,"","",r.Aet):r.tst=void 0;return r}vr(n,t);var i=n.prototype;return i.rst=function(t){var n=Yx(t)?this.Xit.hst(t):this.Xit.rst(t);return{TI:n.TI,iet:n.iet,oP:this.Zit.oP}},i.ost=function(){return this.Xit.ost()},i.Lit=function(){return this.Xit.Lit()},i.ast=function(){return this.Xit.ast()},i.ust=function(t){return this.Xit.ust(t)},i.cst=function(t,n,i){return this.Xit.cst(t,this.Zit.oP,n,i)},i.lst=function(t){return Yx(t)?this.met.dst(t,this.Xit):this.met.lst(t)},i.fst=function(t){return Yx(t)?this.met._st(t,this.Xit):this.met.fst(t)},i.bn=function(){this.Xit.pn(Gx.Uit,this.Mit)},hr(n,[{key:"qit",get:function(){return this.zit}},{key:"Aet",get:function(){var t;return null!=(t=this.Xit.Ny.Aet)?t:this.qit.Aet}},{key:"IO",get:function(){return this.Xit.Ny.IO||0}},{key:"bet",get:function(){var t=this.Xit.Ny;return t.bet?[t.bet]:this.qit.bet}},{key:"Git",get:function(){var t=this.Xit.Ny;return t.bet?[t.bet]:[]}},{key:"g9",get:function(){return this.Xit.Ny.bet||this.qit.g9}},{key:"Tet",get:function(){return this.Xit.Ny.Tet||this.qit.Tet}},{key:"ket",get:function(){return this.Xit.Ny.ket||this.qit.ket}},{key:"rM",get:function(){return this.aV+'; codecs="'+this.g9+'"'}},{key:"Eet",get:function(){var t=this.Xit.Ny;return t.Eet.length?t.Eet:this.qit.Eet}},{key:"ma",get:function(){return this.Gu||(this.Gu=function(t){return{get id(){return t.o},get type(){return t.Iw},get bandwidth(){return t.IO},get width(){return t.Ti},get height(){return t.Ci},get frameRate(){var n,i;return null!=(i=null==(n=t.Iet)?void 0:n.hk())?i:NaN},get audioSamplingRate(){return t.Aet}}}(this))}},{key:"Iet",get:function(){var t;return null!=(t=this.Xit.Ny.Iet)?t:this.qit.Iet}},{key:"Ci",get:function(){return this.Xit.Ny.Ci||this.qit.Ci}},{key:"o",get:function(){return this.Xit.Ny.o||""}},{key:"Qit",get:function(){return this.Kit},set:function(t){this.Kit=t}},{key:"jit",get:function(){var t=this.Xit.Yit();if(t)return{TI:t.TI,iet:t.iet,oP:this.Zit.oP}}},{key:"Pet",get:function(){return this.Xit.Ny.Pet||this.qit.Pet||1}},{key:"Ret",get:function(){return this.Xit.Ny.Ret||this.qit.Ret}},{key:"Zit",get:function(){return this.Jit.Zit}},{key:"aV",get:function(){return this.Xit.Ny.aV||this.qit.aV}},{key:"Jit",get:function(){return this.qit.Jit}},{key:"Cet",get:function(){return this.Xit.Ny.Cet||this.qit.Cet}},{key:"$it",get:function(){return this.tst}},{key:"xet",get:function(){return this.Xit.Ny.xet||this.qit.xet}},{key:"Det",get:function(){return this.Xit.Ny.Det||this.qit.Det}},{key:"ist",get:function(){return this.Xit.ist}},{key:"Net",get:function(){return this.Xit.Ny.Net||this.qit.Net}},{key:"met",get:function(){return this.Xit.met}},{key:"Bet",get:function(){return this.Xit.Ny.Bet||this.qit.Bet}},{key:"Iw",get:function(){var t=this.aV.split("/")[0];return"application"===t||"text"===t||Ck(this.aV,this.bet)?py.KT:"video"===t?py.vl:"audio"===t?py.yy:"image"===t?py.jT:py.YT}},{key:"Ti",get:function(){return this.Xit.Ny.Ti||this.qit.Ti}},{key:"sst",get:function(){return this.nst},set:function(t){this.nst=t}}]),n}(qx),Kx=function(t){function n(n,i){var r;return(r=t.call(this)||this).gst=[],r.vst=[],r.wst=n,r.Xit=i,r.Xit.wn(Gx.Uit,r.Mit),r}vr(n,t);var i=n.prototype;return i.Kn=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return 0!==i.vst.length?[3,2]:(i.vst=[],r=i.Xit.sit.map((function(r){return i.Ast(r,t,n)})),[4,$.all(r)]);case 1:i.vst=e.sent().filter(Cr),e.label=2;case 2:return i.bst(),[2]}}))}))()},i.Ast=function(t,n,i){var r=this;return Mo((function(){var e,u;return Uo(this,(function(s){switch(s.label){case 0:return e=new Qx(r,t),[4,n(e)];case 1:return u=s.sent(),ba(i),u?[2,e]:[2,void 0]}}))}))()},i.bst=function(){if(!this.vst.length)throw new f("Detected an AdaptationSet without any supported Representations.")},i.Lit=function(){return this.Xit.Lit()},i.ast=function(){return this.Xit.ast()},i.bn=function(){this.Xit.pn(Gx.Uit,this.Mit);for(var t=0,n=this.vst;t<n.length;t++){n[t].bn()}ea(this.vst)},hr(n,[{key:"Get",get:function(){return this.Xit.Ny.Get}},{key:"Aet",get:function(){var t;return null!=(t=this.Xit.Ny.Aet)?t:-1}},{key:"bet",get:function(){if(this.Xit.Ny.bet)return[this.Xit.Ny.bet];for(var t=[],n=0,i=this.sit;n<i.length;n++){var r=i[n];r.Git.length&&-1===t.indexOf(r.g9)&&t.push(r.g9)}return t}},{key:"g9",get:function(){return this.bet.join()}},{key:"Tet",get:function(){return this.Xit.Ny.Tet}},{key:"ket",get:function(){return this.Xit.Ny.ket}},{key:"rM",get:function(){return this.aV+'; codecs="'+this.g9+'"'}},{key:"Eet",get:function(){return this.gst}},{key:"Iet",get:function(){return this.Xit.Ny.Iet}},{key:"Qet",get:function(){return this.Xit.Ny.Qet}},{key:"Ci",get:function(){return this.Xit.Ny.Ci||0}},{key:"o",get:function(){return this.Xit.Ny.o}},{key:"_h",get:function(){return this.Xit.Ny._h||""}},{key:"Pet",get:function(){return this.Xit.Ny.Pet}},{key:"Ret",get:function(){return this.Xit.Ny.Ret}},{key:"Zit",get:function(){return this.Jit.Zit}},{key:"aV",get:function(){return this.Xit.Ny.aV||this.vst[0].aV}},{key:"Jit",get:function(){return this.wst}},{key:"Cet",get:function(){return this.Xit.Ny.Cet}},{key:"sit",get:function(){return this.vst}},{key:"nit",get:function(){return this.Xit.Ny.nit||[]}},{key:"xet",get:function(){return this.Xit.Ny.xet}},{key:"Det",get:function(){return this.Xit.Ny.Det}},{key:"Net",get:function(){return this.Xit.Ny.Net}},{key:"HM",get:function(){return this.Xit.Ny.HM}},{key:"Bet",get:function(){return this.Xit.Ny.Bet}},{key:"Iw",get:function(){var t=(this.Xit.Ny.rM||this.aV).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||Ck(this.aV,this.bet)?py.KT:"video"===t?py.vl:"audio"===t?py.yy:"image"===t?py.jT:py.YT}},{key:"Ti",get:function(){return this.Xit.Ny.Ti||0}},{key:"J3",get:function(){return this.Xit.Ny.gs||""}},{key:"mst",get:function(){return this.Bit}},{key:"pst",get:function(){var t=this.mst,n=this.Oit;if(void 0!==t&&void 0!==n){var i=l.min(n,this.Zit.yst);return l.max(t,i)}}}]),n}(qx);function Zx(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],u=0;u<t.length;u++){var s=t[u];i.push(tr.Rh(s,e))}return i}var Jx=function(){function t(t,n){this.wst=t,this.Gst=n,this.Bx=n.IA,this.qst=n.Jtt,this.$st=n.fet}var n=t.prototype;return n.Tst=function(t){var n=t-this.wst.Tn;if(!(n<0||n>=this.wst.ct)){var i=this.Sst();return void 0!==i&&De(i,n,1e-5)?this.kst():this.Est(n)}},n.Ist=function(t){var n=t-this.wst.Tn;if(!(n<0))return this.Pst(l.min(n,this.wst.ct))},n.kst=function(){return this.Rst(0)},n.Cst=function(){var t=this.wst.ct;if(isFinite(t))return this.Pst(t)},n.ost=function(t){if(this.wst.Nst.Iw===ZM.wB){if(this.xst){var n=this.kst(),i=this.Bst();if(void 0===n||void 0===i)return;return{Lst:t,Ost:n,Mst:i}}var r=this.Fst(t);if(!r)return;return{Lst:t,Ost:this.Ust(t),Mst:r}}var e=this.kst();if(e)return{Lst:t,Ost:e,Mst:this.Cst()}},n.ast=function(t,n){if(n){var i=this.Hst(n.Ost),r=this.Vst(n.Mst);if(r){var e=this.Wst(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var u=this.kst();if(u){var s=this.Wst(u);if(t.getTime()<s.getTime())return s}var o=this.wst.Nst.git;return t.getTime()<o.getTime()?o:void 0},n.Fst=function(t){var n=(t.getTime()-this.wst.Nst.git.getTime())/1e3-this.wst.Tn+this.qst,i=this.Pst(Ce(n,0,this.wst.ct));if(i&&(i=this.zst(i,t))){for(var r=this.Vst(i);r&&this.Xst(r,t);)i=r,r=this.Vst(i);return i}},n.Ust=function(t){var n,i=this.Gst.vet;if(i){var r=(t.getTime()-this.wst.Nst.git.getTime())/1e3-this.wst.Tn-i.Xtt();(n=this.Pst(Ce(r,0,this.wst.ct)))||(n=this.kst())}else n=this.kst();if(n&&(n=this.zst(n,t))){for(var e=this.Qst(n);e&&this.Xst(e,t);)n=e,e=this.Qst(n);return n}},n.zst=function(t,n){for(var i=t;i&&this.Wst(i).getTime()>n.getTime();)i=this.Qst(i);if(i){var r=this.Hst(i);if(r&&r.getTime()<=n.getTime()){var e=this.Qst(i);for(e&&this.Xst(e,n)&&(i=e);i;){if(this.Wst(i).getTime()>n.getTime())return;if(this.Xst(i,n))break;i=this.Vst(i)}if(!i)return}return i}},n.Xst=function(t,n){if(this.xst)return!0;if(this.Wst(t).getTime()>n.getTime())return!1;var i=this.Hst(t);return!(i&&n.getTime()>=i.getTime())},n.Kst=function(t,n){if(this.xst)return!0;if(this.jst(t).getTime()>n.getTime())return!1;var i=this.Hst(t);return!(i&&n.getTime()>=i.getTime())},n.Yst=function(t,n,i){var r=Xe(n,this.Bx)+this.wst.Tn;return{ret:t,Zst:n,PS:r,ct:i,RS:r+i}},n.jst=function(t){return this.wst.Nst.Iw===ZM.wB?new Date(this.wst.Nst.git.getTime()+1e3*(t.PS+t.ct)):this.wst.Nst.git},n.Wst=function(t){var n=this.jst(t);return this.wst.Nst.Iw===ZM.wB?new Date(n.getTime()-1e3*this.qst):n},n.Hst=function(t){var n=1/0;if(this.wst.Nst.Iw===ZM.wB){var i=this.Gst.vet;i&&(n=this.jst(t).getTime()+1e3*t.ct+i.Gtt())}var r=this.wst.Nst._it;return r&&(n=l.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.Jst=function(t,n){return t.ret+n},n.ust=function(t){return!1},n.cst=function(t,n,i,r,e){var u=this.tnt(t);if(!u)return $.reject(new f("Invalid segment"));var s=this.ent(u.ret,n);return s?$.resolve(s):Ea(this.int(u.ret,n,i,r),e)},n.ent=function(t,n){},n.int=function(t,n,i,r){return $.reject(new f("Not supported"))},n.Qst=function(t){var n=this.tnt(t);if(n)return this.Rst(n.ret-1)},n.Vst=function(t){var n=this.tnt(t);if(n)return this.Rst(n.ret+1)},n.tnt=function(t){var n=this.Rst(t.ret);if(n&&n.PS===t.PS)return n;var i=this.Tst(t.PS);return i&&i.PS===t.PS?i:void 0},n.snt=function(t,n){var i=this.nnt(t);if(i&&this.ust(i.ret)){var r=this.ent(i.ret,n);if(r)return r.snt(t)}},n.nnt=function(t){return this.Rst(t.rnt)},n.lst=function(t){var n=this.tnt(t);return!!n&&0===n.ret},n.dst=function(t,n){var i=this.snt(t,n);return!!i&&0===i.Fit},n.fst=function(t){var n=this.tnt(t);if(!n)return!1;var i=this.Cst();return!!i&&n.ret===i.ret},n._st=function(t,n){var i=this.snt(t,n);if(!i)return!1;var r=this.Cst();if(!r||i.rnt!==r.ret)return!1;var e=this.ent(i.rnt,n);return i.Fit+1===e.U},n.Ou=function(){},hr(t,[{key:"xst",get:function(){return this.wst.Nst.Dst&&void 0!==this.Bst()}},{key:"NE",get:function(){return this.wst.Tn-Xe(this.$st,this.Bx)}},{key:"fet",get:function(){return Xe(this.$st,this.Bx)}}]),t}(),$x=function(t){function n(n,i){var r;r=t.call(this,i,n)||this;var e=n.lnt,u=n.ct;if(void 0===e||void 0===u)throw new f("MultipleSegmentBase does not have a segment duration specified.");return r.hnt=e,r.ant=u,r}vr(n,t);var i=n.prototype;return i.Rst=function(t){if(!(t<0)){var n=this.hnt.multiply(t),i=Xe(n,this.Bx),r=this.wst.ct;if(!(i>=r)){var e=this.ont();if(void 0!==e){if(t>e)return;if(t===e&&isFinite(r))return this.Yst(t,n,r-i)}return isFinite(r)&&i+this.ant>r?this.Yst(t,n,r-i):this.Yst(t,n,this.ant)}}},i.Sst=function(){return 0},i.Est=function(t){var n=l.floor(t/this.ant),i=this.ont();return void 0!==i&&n>=i?this.Rst(i):this.Rst(n)},i.Pst=function(t){if(t>=this.wst.ct){var n=l.ceil(this.wst.ct/this.ant)-1,i=this.ont();return void 0!==i&&n>=i?this.Rst(i):this.Rst(n)}return this.Est(t)},i.ont=function(){var t,n=this.Gst.yet;if(void 0!==n)return n-(null!=(t=this.Gst.pet)?t:1);var i=this.Gst.unt;return void 0!==i&&i>0?i-1:void 0},i.Bst=function(){if(isFinite(this.wst.ct))return this.Cst()},i.cnt=function(t,n){return this.hnt.multiply(t.ret+(n-1))},i.Kn=function(){},n}(Jx);function tU(t,n,i){var r=n.length;if(0===r)return-1;for(var e=0,u=r-1,s=t.dnt(n[e]),o=t.fnt(n[u]);e<=u&&t._nt(s,i)<=0&&t._nt(i,o)<0;){var c=e+l.floor(t.gnt(i,s,o)*(u-e)),a=n[c],h=t.dnt(a),f=c+1<r?t.dnt(n[c+1]):t.fnt(a);if(t._nt(f,i)<=0)e=c+1,s=f;else{if(!(t._nt(i,h)<0))return c;u=c-1,o=h}}return-1}function nU(t,n){return tU(iU.lC,t,n)}var iU=function(){function t(){}var n=t.prototype;return n.dnt=function(t){return t.PS},n.fnt=function(t){return t.RS},n._nt=function(t,n){return t.compare(n)},n.gnt=function(t,n,i){return t.subtract(n).toNumber()/i.subtract(n).toNumber()},hr(t,null,[{key:"lC",get:function(){return null!=this.Wtt||(this.Wtt=new t),this.Wtt}}]),t}(),rU=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).vnt=[],r.pnt=void 0,r.Ent=Ee.ZERO,r.Kn(),r}vr(n,t);var i=n.prototype;return i.Rst=function(t){if(!(t<0))return t<this.vnt.length?this.vnt[t].wnt:this.mnt(t-this.vnt.length)},i.Sst=function(){if(this.vnt.length>0)return Xe(this.vnt[0].PS,this.Bx)},i.Est=function(t){if(this.pnt&&Xe(this.pnt.PS,this.Bx)<=t){var n=Xe(this.pnt.PS,this.Bx),i=Xe(this.pnt.ct,this.Bx),r=l.floor((t-n)/i);return this.mnt(r)}if(this.vnt.length>0&&De(t,Xe(this.vnt[0].PS,this.Bx),1e-5))return this.vnt[0].wnt;var e=nU(this.vnt,Ee.fromNumber(t*this.Bx));return e<0?void 0:this.vnt[e].wnt},i.Pst=function(t){if(!this.pnt&&this.vnt.length>0){var n=this.vnt[this.vnt.length-1];if(function(t,n,i){return Gc(t,n,i)>=0}(t,Xe(n.RS,this.Bx),1e-5))return n.wnt}var i=this.Sst();return i&&t<i?this.vnt[0].wnt:this.Est(t)},i.Bst=function(){return isFinite(this.wst.ct)?this.Cst():this.Rst(this.vnt.length-1)},i.cnt=function(t){return this.ynt(t)},i.mnt=function(t){if(this.pnt){var n=this.pnt.PS,i=this.pnt.ct,r=n.add(i.multiply(t)),e=Xe(r,this.Bx),u=this.wst.ct;if(!(e>=u)){var s=this.vnt.length+t,o=l.min(Xe(i,this.Bx),e+u);return this.Yst(s,r,o)}}},i.ynt=function(t){return t.Zst.add(this.$st)},i.Kn=function(){var t=this.Gst.Ny.met;if(!t)throw new f("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.Ant(t)},i.Ant=function(t){var n=this.$st;this.bnt(t,n);var i=this.Tnt(t);this.Snt(t,n,i.knt,i.rnt)},i.bnt=function(t,n){var i=this.vnt;if(0===t.length)ea(i);else{for(var r=t[0],e=r.PS?Ee.fromString(r.PS,!1).subtract(n):Ee.ZERO,u=0;u<i.length&&i[u].PS.lessThan(e);)u++;u>0&&i.splice(0,u)}},i.Tnt=function(t){for(var n=this.vnt,i=this.Ent,r=0,e=0;r<t.length&&e<n.length;){var u=t[r].net||0;if(u<0)break;var s=e+u;if(s>=n.length)break;if(n[s].PS.greaterThanOrEqual(i))break;if(n[e].wnt.ret===e)e=s+1;else for(;e<=s;)n[e].wnt.ret=e,e++;0,r++}return{knt:r,rnt:e}},i.Snt=function(t,n,i,r){for(var e,u=this.vnt,s=i,o=r;s<t.length;){var c=t[s],a=Ee.fromString(c.ct,!1),h=c.net||0,f=void 0;if(c.PS){if(f=Ee.fromString(c.PS,!1).subtract(n),o>0){var v=u[o-1];v.RS.greaterThan(f)&&(v.ct=f.subtract(v.PS),v.RS=v.PS.add(v.ct))}}else f=o>0?u[o-1].RS:Ee.ZERO;if(h<0){if(s+1===t.length){e={PS:f,ct:a};break}for(var d=Ee.fromString(t[s+1].PS,!1).subtract(n);f.lessThan(d);){var l=f.add(a);this.Int(u,o,f,a,l),f=l,o++}}else for(var _=o+h;o<=_;){var g=f.add(a);this.Int(u,o,f,a,g),f=g,o++}s++}o<u.length&&u.splice(o),u.length>0&&(this.Ent=u[u.length-1].PS),this.pnt=e},i.Int=function(t,n,i,r,e){if(n<t.length){var u=t[n];0,u.ct.equals(r)?u.wnt.ret=n:t[n]={PS:i,ct:r,RS:e,wnt:this.Yst(n,i,Xe(r,this.Bx))}}else t.push({PS:i,ct:r,RS:e,wnt:this.Yst(n,i,Xe(r,this.Bx))})},n}(Jx),eU=function(){function t(t,n,i){this.Rnt=void 0,this.xnt=void 0,this.Jit=t,this.Pnt=n,this.Mx=i}var n=t.prototype;return n.Cnt=function(){if(this.xnt=this.Dnt(),this.xnt)return this.xnt;if(this.Pnt)return this.Pnt.met;throw new f("Missing media segment information.")},n.Yit=function(t){var n=this.det;if(n)return{TI:(void 0!==n.eet?tr.Rh(n.eet,t.Uet[0]):t.Uet[0]).href,iet:n.iet};var i=this.het;return i?{TI:t.Uet[0].href,iet:[0,i[0]-1]}:void 0},n.Kn=function(t){this.Mx=t,this.xnt&&this.xnt.Kn()},n.Ou=function(){this.xnt&&(this.xnt.Ou(),this.xnt=void 0)},hr(t,[{key:"Ny",get:function(){return this.Mx}},{key:"Jtt",get:function(){return this.Mx&&void 0!==this.Mx.Jtt?this.Mx.Jtt:this.Pnt?this.Pnt.Jtt:0}},{key:"fet",get:function(){return this.Mx&&void 0!==this.Mx.fet?this.Mx.fet:this.Pnt?this.Pnt.fet:Ee.ZERO}},{key:"vet",get:function(){return this.Mx&&void 0!==this.Mx.vet?this.Mx.vet:this.Pnt?this.Pnt.vet:this.Jit.Nst.vet}},{key:"IA",get:function(){return this.Mx&&void 0!==this.Mx.IA?this.Mx.IA:this.Pnt&&this.Pnt.IA?this.Pnt.IA:1}},{key:"het",get:function(){return this.Mx&&void 0!==this.Mx.het?this.Mx.het:this.Pnt?this.Pnt.het:void 0}},{key:"det",get:function(){return this.Mx&&void 0!==this.Mx.det?this.Mx.det:this.Pnt?this.Pnt.det:void 0}},{key:"met",get:function(){return this.Rnt||(this.Rnt=this.Cnt()),this.Rnt}}]),t}(),uU=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),n.prototype.Dnt=function(){return void 0!==this.Mx.met?new rU(this,this.Jit):void 0!==this.Mx.ct?new $x(this,this.Jit):void 0},hr(n,[{key:"ct",get:function(){return void 0!==this.Mx.ct?this.Mx.ct/this.IA:this.Pnt&&sU(this.Pnt)?this.Pnt.ct:void 0}},{key:"lnt",get:function(){return void 0!==this.Mx.ct?Ee.fromNumber(this.Mx.ct):this.Pnt&&sU(this.Pnt)?this.Pnt.lnt:void 0}},{key:"pet",get:function(){return void 0!==this.Mx.pet?this.Mx.pet:this.Pnt&&sU(this.Pnt)?this.Pnt.pet:void 0}},{key:"yet",get:function(){return void 0!==this.Mx.yet?this.Mx.yet:this.Pnt&&sU(this.Pnt)?this.Pnt.yet:void 0}}]),n}(eU);function sU(t){return t instanceof uU}var oU=function(){function t(t){this.Nnt=t}return t.prototype.Lf=function(t){return this.Nnt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,(function(n,i,r,e){if("$$"===n)return"$";var u=t[i];if(void 0===u)return n;if(void 0===r)return u.toString();var s=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(u,e);return void 0===s?n:s=Ec(s,Number(r),"0")}))},t}();var cU=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Bnt=r.Met?new oU(r.Met):void 0,e.Lnt=r.Fet?new oU(r.Fet):void 0,e}vr(n,t);var i=n.prototype;return i.Yit=function(n){var i=this.Met;if(!i)return t.prototype.Yit.call(this,n);var r=i.Lf({Bandwidth:n.Ny.IO,RepresentationID:n.Ny.o});return{TI:tr.Fm(r,n.Uet[0])}},i.rst=function(t,n){var i,r=null!=(i=n.ist.pet)?i:1,e=this.Fet.Lf({Bandwidth:n.Ny.IO,Number:n.met.Jst(t,r),RepresentationID:n.Ny.o,Time:n.met.cnt(t,r)});return{TI:tr.Fm(e,n.Uet[0])}},i.hst=function(t,n){},hr(n,[{key:"Met",get:function(){return this.Bnt?this.Bnt:this.Pnt&&this.Pnt instanceof n?this.Pnt.Met:void 0}},{key:"Fet",get:function(){return this.Lnt?this.Lnt:this.Pnt&&this.Pnt instanceof n?this.Pnt.Fet:void 0}},{key:"unt",get:function(){}}]),n}(uU),aU=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.rst=function(t,n){var i=this.aet[t.ret],r=n.Uet[0];return{TI:(i.NA?tr.Rh(i.NA,r):r).href,iet:i.oet}},i.hst=function(t,n){},hr(n,[{key:"aet",get:function(){return void 0!==this.Mx.aet?this.Mx.aet:this.Pnt&&this.Pnt instanceof n?this.Pnt.aet:void 0}},{key:"unt",get:function(){var t;return null==(t=this.aet)?void 0:t.length}}]),n}(uU),hU=function(){function t(){}return t.prototype.snt=function(t){var n=this.Ont(t.Fit);if(n&&n.PS===t.PS)return n;var i=this.Mnt(t.PS);return i&&i.PS===t.PS?i:void 0},t}(),fU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).rnt=n,s.IA=i,s.Wnt=r,s.fet=e,s.Fnt=u,s}vr(n,t);var i=n.prototype;return i.Ont=function(t){if(t>=0&&t<this.U)return this.Unt(this.Fnt[t])},i.Mnt=function(t){var n=this.Hnt(t);if(this.Fnt.length>0){var i=this.Fnt[0];if(n<=Xe(i.PS,this.IA))return this.Unt(i)}var r=nU(this.Fnt,Ee.fromNumber(n*this.IA));if(!(r<0))return this.Unt(this.Fnt[r])},i.Vnt=function(t){var n=this.Hnt(t);if(this.Fnt.length>0){var i=this.Fnt[this.Fnt.length-1];if(n>=Xe(i.RS,this.IA))return this.Unt(i)}return this.Mnt(t)},i.Unt=function(t){var n=Xe(t.PS,this.IA)-this.fet,i=n+this.Wnt,r=Xe(t.ct,this.IA);return{rnt:this.rnt,Fit:t.ret,PS:i,Zst:Ee.fromNumber(n*this.IA),ct:r,RS:i+r,qnt:[t.znt,t.Xnt]}},i.Hnt=function(t){return t-this.Wnt+this.fet},hr(n,[{key:"U",get:function(){return this.Fnt.length}}]),n}(hU);var vU=function(){function t(t){this.Ny=t,this.By=new mf}var n=t.prototype;return n.Gnt=function(){return this.By.Au<this.Ny.byteLength},n.Qnt=function(){var n,i=this.Knt(),r=this.jnt(),e=this.By.Au,u=this.Ny.byteLength,s=e+(n=t.Ynt(r)?u-e:t.Znt(r))<=u?n:u-e,o=Oh(this.Ny,this.By,s);return new lU(i,vf(o))},n.Knt=function(){var t=this.jnt();if(t.length>7)throw new RangeError("Invalid EBML ID size");for(var n=0,i=0;i<t.length;i++)n=256*n+t[i];return n},n.jnt=function(){var t=Dh(this.Ny,this.By.Iy());if(0===t)throw new RangeError("EBML variable sized integer is invalid");var n=8-(31-ph(t));return tr.m9(n<=8&&n>=1,"Incorrect log2 value"),Oh(this.Ny,this.By,n)},t.Znt=function(t){if(8===t.length&&224&t[1])throw new v("EBML variable sized integer is too large");for(var n=0,i=0;i<t.length;i++){var r=t[i];if(0===i)n=r&(1<<8-t.length)-1;else n=256*n+r}return n},t.Ynt=function(t){for(var n=0;n<dU.length;n++){var i=dU[n];if(hh(t,new y(i)))return!0}return!1},t}(),dU=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],lU=function(){function t(t,n){this.id=t,this.$nt=n}var n=t.prototype;return n.Jnt=function(){return this.$nt.byteOffset},n.trt=function(){return new vU(this.$nt)},n.ert=function(){var t=this.$nt.byteLength;if(t>8)throw new RangeError("EMBL integer field size is too large");if(8===t&&224&this.$nt.getUint8(0))throw new RangeError("EMBL integer field value is too large");for(var n=0,i=0;i<t;i++){n=256*n+this.$nt.getUint8(i)}return n},n.Jz=function(){if(4===this.$nt.byteLength)return this.$nt.getFloat32(0);if(8===this.$nt.byteLength)return this.$nt.getFloat64(0);throw new RangeError("Invalid size for EMBL floating-point field")},t}();function _U(t,n){var i=function(t){var n=new vU(vf(t)),i=n.Qnt();if(i.id!==wU)throw new v("Missing WebM EBML header");var r=n.Qnt();if(r.id!==yU)throw new v("Missing WebM SegmentElement");var e=r.Jnt(),u=function(t){var n,i=t.trt();for(;i.Gnt();){var r=i.Qnt();if(r.id===mU){n=r;break}}if(!n)throw new v("Missing WebM InfoElement");return function(t){var n,i=t.trt(),r=1e6;for(;i.Gnt();){var e=i.Qnt();e.id===pU?r=e.ert():e.id===kU&&(n=e.Jz())}if(void 0===n)throw new v("Missing Duration in WebM InfoElement");var u=r/1e9,s=n*u;return{timecodeScale:u,duration:s}}(n)}(r);return{segmentOffset:e,timecodeScale:u.timecodeScale,duration:u.duration}}(n),r=new vU(vf(t)).Qnt();if(r.id!==AU)throw new v("Missing WebM CuesElement");var e=function(t,n,i,r){var e,u,s=[],o=t.trt();for(;o.Gnt();){var c=o.Qnt();if(c.id===bU){var a=gU(c);if(a){var h=a.unscaledTime,f=n+a.relativeOffset;void 0!==e&&s.push({ret:s.length,PS:e,ct:h.subtract(e),RS:h,znt:u,Xnt:f-1}),e=h,u=f}}}if(void 0!==e){0;var v=Ee.fromNumber(r/i);s.push({ret:s.length,PS:e,ct:v.subtract(e),RS:v,znt:u,Xnt:void 0})}return s}(r,i.segmentOffset,i.timecodeScale,i.duration);return{IA:l.round(1/i.timecodeScale),irt:e}}function gU(t){var n=t.trt(),i=n.Qnt();if(i.id!==TU)throw new v("Missing CueTime in WebM CuePointElement");var r=Ee.fromNumber(i.ert()),e=n.Qnt();if(e.id!==SU)throw new v("Missing CueTrackPositions in WebM CuePointElement");for(var u=e.trt(),s=0;u.Gnt();){var o=u.Qnt();if(o.id===EU){s=o.ert();break}}return{unscaledTime:r,relativeOffset:s}}var wU=440786851,yU=408125543,mU=357149030,pU=2807729,kU=17545,AU=475249515,bU=187,TU=179,SU=183,EU=241,IU=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).ort=Vo(),r.art=Vo(),r.urt=new pa,r.hrt=n.het,r.nrt=r.Yst(0,Ee.ZERO,r.wst.ct),r}vr(n,t);var i=n.prototype;return i.Rst=function(t){if(0===t)return this.nrt},i.Sst=function(){return 0},i.Est=function(t){return this.nrt},i.Pst=function(t){return this.Est(t)},i.Bst=function(){return this.nrt},i.cnt=function(t,n){return Ee.ZERO},i.ost=function(t){var n=this.rrt(t);return n&&{Lst:t,Ost:n,Mst:n}},i.rrt=function(t){var n=this.nrt;return this.Xst(n,t)?n:void 0},i.Fst=function(t){return this.rrt(t)},i.Ust=function(t){return this.rrt(t)},i.Kn=function(){},i.ust=function(t){return 0===t&&void 0!==this.hrt},i.ent=function(t,n){var i=n.Uet[0].href;return this.ort.get(i)},i.int=function(t,n,i,r){var e=n.Uet[0].href,u=this.art.get(e);if(void 0===u){var s=n.aV,o=this.urt.M_;if(ol(s))u=this.crt(t,e,i,r,o);else{if(!cl(s))throw new Dl(Rl.MEDIA_NOT_SUPPORTED,"Unsupported MIME type for segment index: "+s);u=this.lrt(t,e,n,i,r,o)}this.art.set(e,u)}return u},i.crt=function(t,n,i,r,e){var u=this;return Mo((function(){var s,o,c;return Uo(this,(function(a){switch(a.label){case 0:return s=u.hrt,[4,r.drt(n,s,i,e)];case 1:return o=a.sent(),c=u.frt(t,o),u.ort.set(n,c),[2,c]}}))}))()},i.frt=function(t,n){var i=this.hrt,r=Bp.Jy(new DataView(n),new mf);if(r.Iw!==Hm._y)throw new f("Invalid segment index");var e=Fp.pA(r.Ny),u=function(t,n){for(var i=[],r=t.VT,e=n+t.WT.toNumber(),u=0,s=0,o=t.zT;s<o.length;s++){var c=o[s],a=c.OT,h=Ee.fromNumber(c.ct),f=r.add(h);0===c.LT&&i.push({ret:u++,PS:r,ct:h,RS:f,znt:e,Xnt:e+a-1}),e+=a,r=f}return i}(e,i[1]+1);return new fU(t,e.IA,this.wst.Tn,Xe(this.$st,this.Bx),u)},i.lrt=function(t,n,i,r,e,u){var s=this;return Mo((function(){var o,c,a,h,f,v,d,l;return Uo(this,(function(_){switch(_.label){case 0:return o=i.Yit(),c=s.hrt,a=e.drt(o.TI,o.iet,r,u),h=e.drt(n,c,r,u),[4,$.all([a,h])];case 1:return f=Fo.apply(void 0,[_.sent(),2]),v=f[0],d=f[1],l=s._rt(t,d,v),s.ort.set(n,l),[2,l]}}))}))()},i._rt=function(t,n,i){var r=_U(new y(n),new y(i));return new fU(t,r.IA,this.wst.Tn,Xe(this.$st,this.Bx),r.irt)},i.Ou=function(){t.prototype.Ou.call(this),this.urt.Jl()},n}(Jx),RU=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.rst=function(t,n){return{TI:n.Uet[0].href}},i.hst=function(t,n){return{TI:n.Uet[0].href,iet:t.qnt}},i.Dnt=function(){return new IU(this,this.Jit)},hr(n,[{key:"pet",get:function(){}}]),n}(eU),NU=function(t){function n(){return t.call(this,Gx.Uit)}return vr(n,t),n}(Va);var CU=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Gst=void 0,e.Trt=1/0,e.prt=void 0,e.h7=i,e.mrt(n,r),e}vr(n,t);var i=n.prototype;return i.vrt=function(){var t,n;return null!=(n=this.Gst)?n:null==(t=this.h7)?void 0:t.vrt()},i.wrt=function(t){var n=this.Jit,i=this.h7&&this.h7.vrt();this.Mx.Wet?this.Gst=new cU(n,i,this.Mx.Wet):this.Mx.Vet?this.Gst=new aU(n,i,this.Mx.Vet[0]):this.Mx.Het?this.Gst=new RU(n,i,this.Mx.Het):t&&!i&&(this.Gst=new RU(n,i,void 0))},i.mrt=function(t,n){this.Mx=t,this.grt=t.Uet&&t.Uet.length>0?Zx(t.Uet.map((function(t){return t.TI})),n):n.slice(),this.Gst&&(t.Wet?this.Gst.Kn(t.Wet):t.Vet?this.Gst.Kn(t.Vet[0]):t.Het&&this.Gst.Kn(t.Het))},i.Lit=function(){var t;return null==(t=this.prt)?void 0:t.yrt},i.ast=function(){var t;return null==(t=this.prt)?void 0:t.Art},i.brt=function(t){var n=this.Trt,i=this.Jit.ct,r=this.prt,e=this.Srt(t);r&&De(i,n,1e-5)&&BU(r,e)||(this.Trt=i,this.prt=e,this.To(new NU))},i.Ou=function(){this.Lo(),this.Gst&&(this.Gst.Ou(),this.Gst=void 0)},hr(n,[{key:"Ny",get:function(){return this.Mx}},{key:"Uet",get:function(){return this.grt}}]),n}(Ua);function DU(t){for(var n,i=0;i<t.length;i++){var r=t[i].Lit();if(r){n=r.Tn;break}}if(void 0!==n){for(var e,u=t.length-1;u>=0;u--){var s=t[u].Lit();if(s){e=s.Pn;break}}if(void 0!==e)return{Tn:n,Pn:e}}}function PU(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].Lit();if(!e)return;if((n=l.max(n,e.Tn))>=(i=l.min(i,e.Pn)))return}return{Tn:n,Pn:i}}}function OU(t){for(var n,i=0;i<t.length;i++){var r=t[i].ast();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function BU(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.Art,n.Art)&&function(t,n){return t&&n?De(t.Tn,n.Tn,1e-5)&&De(t.Pn,n.Pn,1e-5):t===n}(t.yrt,n.yrt)}var LU=function(t){function n(n,i,r){var e;(e=t.call(this)||this).wst=n,e.wS=i,e.krt=r.slice();for(var u=0;u<r.length;u++){r[u].wn(Gx.Uit,e.Mit)}return e}vr(n,t);var i=n.prototype;return i.Lit=function(){return PU(this.krt)},i.ast=function(){for(var t,n=0,i=this.krt;n<i.length;n++){var r=i[n].ast();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.bn=function(){this.Lo();for(var t=0,n=this.krt;t<n.length;t++){n[t].pn(Gx.Uit,this.Mit)}},hr(n,[{key:"cit",get:function(){return this.krt}},{key:"bet",get:function(){return this.cit.reduce((function(t,n){for(var i=0,r=n.bet;i<r.length;i++){var e=r[i];ia(t,e)||t.push(e)}return t}),[])}},{key:"g9",get:function(){return this.bet.length>0?this.bet[0]:""}},{key:"Iw",get:function(){return this.krt[0].Iw}},{key:"o",get:function(){return this.wS}},{key:"Zit",get:function(){return this.wst.Zit}},{key:"aV",get:function(){return this.krt[0].aV}},{key:"Jit",get:function(){return this.wst}},{key:"sit",get:function(){return sa(this.cit,(function(t){return t.sit}))}}]),n}(qx),MU=function(t){function n(){return t.call(this,Gx.Vit)}return vr(n,t),n}(Va);function xU(t){for(var n=function(n){var r=t[n],e=void 0,u=r.Qet;void 0===u||(e=jc(i,(function(t){return t.o===u}))),e||(e={o:u,cit:[]},i.push(e)),e.cit.push(r)},i=[],r=0;r<t.length;r++)n(r);return i}var UU,FU=function(t){function n(n,i){var r;return(r=t.call(this)||this).krt=[],r.Irt=[],r.Prt=!1,r.Rrt=n,r.Xit=i,r.Xit.wn(Gx.Uit,r.Mit),r}vr(n,t);var i=n.prototype;return i.Lrt=function(t,n){if(0!==this.Irt.length){for(var i=t,r=0,e=this.Irt;r<e.length;r++){var u=e[r],s=u.Iw;if(s===py.yy||s===py.vl){var o=u.Oit;if(void 0===o)return;i=n(i,o)}}return i}},i.Mrt=function(){this.Prt||(this.Prt=!0,this.To(new MU),this.bn())},i.Kn=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return 0!==i.krt.length?[3,2]:[4,i.Frt(i.Xit.cit,t,n)];case 1:return r.sent(),i.Urt(i.krt),ba(n),[3,4];case 2:return[4,i.Hrt(t,n)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))()},i.Frt=function(t,n,i){var r=this;return Mo((function(){var e,u,s;return Uo(this,(function(o){switch(o.label){case 0:e=0,o.label=1;case 1:if(!(e<t.length))return[3,6];u=t[e],s=new Kx(r,u),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,s.Kn(n,i)];case 3:return o.sent(),r.krt.push(s),[3,5];case 4:return Ta(o.sent()),[3,5];case 5:return e++,[3,1];case 6:return[2]}}))}))()},i.Urt=function(t){for(var n=xU(t),i=0;i<n.length;i++){var r=n[i],e=new LU(this,r.o,r.cit);this.Irt.push(e)}},i.Hrt=function(t,n){var i=this;return Mo((function(){var r,e;return Uo(this,(function(u){switch(u.label){case 0:r=0,e=i.krt,u.label=1;case 1:return r<e.length?[4,e[r].Kn(t,n)]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},i.Lit=function(){return this.Xit.Lit()},i.ast=function(){return this.Xit.ast()},i.bn=function(){this.Lo(),this.Xit.pn(Gx.Uit,this.Mit);for(var t=0,n=this.Irt;t<n.length;t++){n[t].bn()}for(var i=0,r=this.krt;i<r.length;i++){r[i].bn()}ea(this.krt),ea(this.Irt)},hr(n,[{key:"cit",get:function(){return this.krt}},{key:"Ert",get:function(){return this.Irt}},{key:"dit",get:function(){return this.Xit.Ny.dit}},{key:"ct",get:function(){return this.Xit.ct}},{key:"Pn",get:function(){return this.Tn+this.ct}},{key:"fit",get:function(){return this.Xit.Ny.fit||[]}},{key:"o",get:function(){return this.Xit.o}},{key:"Wit",get:function(){return this.Prt}},{key:"Zit",get:function(){return this.Rrt}},{key:"Crt",get:function(){return this.Rrt.xrt(this)}},{key:"Jit",get:function(){return this}},{key:"Drt",get:function(){return this.Rrt.Nrt(this)}},{key:"Brt",get:function(){return this.Lrt(1/0,l.min)}},{key:"Ort",get:function(){return this.Lrt(0,l.max)}},{key:"Tn",get:function(){return this.Xit.Tn}},{key:"oP",get:function(){return this.Zit.oP}}]),n}(qx),HU=function(t){function n(){return t.call(this,$l.lm)}return vr(n,t),n}(Va);!function(t){t.Vrt="Wrt"}(UU||(UU={}));var VU=function(t){function n(){return t.call(this,UU.Vrt)}return vr(n,t),n}(Va),XU=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Uet)||this).qrt=void 0,r.zit=i,r.wrt(!0),r}vr(n,t);var i=n.prototype;return i.ust=function(t){var n=this.aV;return!(!ol(n)&&!cl(n))&&this.met.ust(t.ret)},i.cst=function(t,n,i,r){return this.met.cst(t,this,n,i,r)},i.Yit=function(){return this.ist.Yit(this)},i.rst=function(t){return this.ist.rst(t,this)},i.hst=function(t){return this.ist.hst(t,this)},i.ost=function(){return this.qrt},i.Srt=function(t){var n=this.met,i=n.ost(t),r=i&&function(t,n){var i,r=t.Ost,e=t.Mst,u=t.Lst,s=r.PS,o=n.jst(e);if(o.getTime()<=u.getTime())i=e.RS;else{var c=(o.getTime()-u.getTime())/1e3,a=l.max(e.ct-c,0);i=e.PS+a}return{Tn:s,Pn:i}}(i,n),e=this.met.ast(t,i);return this.qrt=i,{Lst:t,yrt:r,Art:e}},i.Kn=function(t){this.mrt(t,this.zit.Uet)},hr(n,[{key:"qit",get:function(){return this.zit}},{key:"Jit",get:function(){return this.zit.Jit}},{key:"Nst",get:function(){return this.zit.Nst}},{key:"aV",get:function(){return this.Mx.aV||this.zit.aV}},{key:"ist",get:function(){return this.vrt()}},{key:"met",get:function(){return this.ist.met}}]),n}(CU),zU=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Uet)||this).wst=i,r.wrt(!1),r.vst=n.sit.map((function(t){return new XU(t,Uc(r))})),r}vr(n,t);var i=n.prototype;return i.Kn=function(t){this.mrt(t,this.wst.Uet);var n=t.sit||[];if(this.vst.length!==n.length)throw new f("Expected "+this.vst.length+' representations in adaptation set "'+t.o+'", found '+n.length);for(var i=0;i<n.length;i++)this.vst[i].Kn(n[i])},i.brt=function(n){for(var i=0,r=this.vst;i<r.length;i++){r[i].brt(n)}t.prototype.brt.call(this,n)},i.Srt=function(t){return{Lst:t,yrt:PU(this.vst),Art:OU(this.vst)}},i.Ou=function(){for(var n=0,i=this.vst;n<i.length;n++){i[n].Ou()}t.prototype.Ou.call(this)},hr(n,[{key:"sit",get:function(){return this.vst}},{key:"Jit",get:function(){return this.wst}},{key:"Nst",get:function(){return this.wst.Nst}},{key:"Qet",get:function(){return this.Mx.Qet}},{key:"aV",get:function(){var t;return this.Mx.aV||(null==(t=this.vst[0])?void 0:t.Ny.aV)||""}}]),n}(CU),WU=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,void 0,n.Uet)||this).Irt=[],u.zrt=n,u.JE=r,u.Zl=e,u.wrt(!1),u.krt=(i.cit||[]).map((function(t){return new zU(t,Uc(u))})),u.Irt=xU(u.krt),u}vr(n,t);var i=n.prototype;return i.Kn=function(t,n){this.mrt(t,this.zrt.Uet),this.Zl=n;var i=t.cit||[];if(this.krt.length!==i.length)throw new f("Expected "+this.krt.length+' adaptation sets in period "'+t.o+'", found '+i.length);for(var r=0;r<i.length;r++)this.krt[r].Kn(i[r])},i.brt=function(n){for(var i=0,r=this.krt;i<r.length;i++){r[i].brt(n)}t.prototype.brt.call(this,n)},i.Srt=function(t){return{Lst:t,yrt:PU(this.krt),Art:OU(this.krt)}},i.Ou=function(){for(var n=0,i=this.krt;n<i.length;n++){i[n].Ou()}t.prototype.Ou.call(this)},hr(n,[{key:"cit",get:function(){return this.krt}},{key:"Ert",get:function(){return this.Irt}},{key:"Jit",get:function(){return this}},{key:"Nst",get:function(){return this.zrt}},{key:"o",get:function(){return this.Mx.o}},{key:"Tn",get:function(){return this.JE}},{key:"ct",get:function(){return this.Zl}}]),n}(CU),GU=new Date("2000-01-01"),qU=function(t){function n(n,i,r,e,u){var s;if((s=t.call(this)||this).prt=void 0,s.Qrt=void 0,s.Xrt=void 0,s.jrt=[],s.tht=i,s.Grt=u,s.Kn(n,r,e),n.Iw===ZM.wB){var o=s.Bst();o&&o._it&&o._it.getTime()<GU.getTime()&&(s.Xrt=new Date(s.kit.getTime()-1e3*(o.wnt.PS+o.wnt.ct)),s.brt(e))}return s}vr(n,t);var i=n.prototype;return i.Lit=function(){var t;return null==(t=this.prt)?void 0:t.yrt},i.ast=function(){var t;return null==(t=this.prt)?void 0:t.Art},i.Kn=function(t,n,i,r){var e,u=void 0!==this.Mx&&this.Mx.Iw===ZM.wB;this.Mx=t,this.$rt=n,this.Zrt=null!=r?r:i,this.In=i;var s=[z_(n)];this.grt=t.Uet&&t.Uet.length>0?Zx(t.Uet.map((function(t){return t.TI})),s):s,this.Krt=t.vit&&t.vit.length>0?Zx(t.vit,this.grt):[];var o=this.Krt.map((function(t){return t.href})),c=n.href;ia(o,c)||(this.Krt.push(n),o.push(c));var a=this.tht.href;ia(o,a)||(this.Krt.push(this.tht),o.push(a)),this.Qrt=null==(e=t.yit)?void 0:e.Xtt();var h=t.Iw===ZM.wB,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=void 0;if(u.Tn)s=u.Tn.Xtt();else if(e>0&&t[e-1].ct){s=r[e-1]+t[e-1].ct.Xtt()}else{if(0!==e||n)break;s=0}r.push(s)}for(var o=[],c=0;c<r.length-1;c++)o.push({Ny:t[c],Tn:r[c],ct:r[c+1]-r[c]});if(r.length>0){var a=r.length-1,h=t[a],f=r[a],v=1/0;n||(v=h.ct?h.ct.Xtt():i-f),o.push({Ny:h,Tn:f,ct:v})}return o}(t.Sit,h,this.Qrt);this.eht(f,u,h),this.brt(i)},i.eht=function(t,n,i){var r=this.jrt;if(0!==t.length){for(var e=t[0].Ny.o,u=0;u<r.length&&r[u].o!==e;)u++;for(var s=r.splice(0,u),o=0;o<s.length;o++){s[o].Ou()}if(n&&!i&&r.length>0&&t.length>0){var c,a,h=null!=(c=YU(r[0].Ny))?c:Om.Rk,f=null!=(a=YU(t[0].Ny))?a:Om.Rk;if(f.ck(h)){var v=f.Ak(h);void 0!==this.Qrt&&(this.Qrt+=v.hk());for(var d=0;d<t.length;d++){var l=t[d];if(d<r.length){var _=r[d];l.Tn=_.Tn,JU(l.Ny,_.Ny)}d===t.length-1&&(l.ct+=v.hk())}}}for(var g=0;g<t.length;g++){var w=t[g];if(g<r.length){var y=r[g];0,y.Kn(w.Ny,w.ct)}else r.push(new WU(this,w.Ny,w.Tn,w.ct))}}else ea(r)},i.brt=function(t){for(var n=0,i=this.jrt;n<i.length;n++){i[n].brt(t)}var r=this.prt,e=this.Srt(t);r&&BU(r,e)||(this.prt=e,this.To(new NU))},i.Srt=function(t){return{Lst:t,yrt:DU(this.jrt),Art:OU(this.jrt)}},i.Bst=function(){if(0!==this.jrt.length){var t=this.jrt[this.jrt.length-1];if(!isFinite(t.ct)&&0!==t.cit.length){var n=t.cit[0];if(0!==n.sit.length){var i=n.sit[0].met,r=i.Bst();if(r)return{wnt:r,_it:i.Hst(r)}}}}},i.Ou=function(){this.Lo();for(var t=0,n=this.jrt;t<n.length;t++){n[t].Ou()}},hr(n,[{key:"Ny",get:function(){return this.Mx}},{key:"Iw",get:function(){return this.Mx.Iw||ZM.vB}},{key:"git",get:function(){return this.Xrt||this.Mx.git||this.kit}},{key:"_it",get:function(){return this.Mx._it}},{key:"Dst",get:function(){var t,n;return null!=(n=null==(t=this.Grt)?void 0:t.ignoreAvailabilityWindow)&&n}},{key:"yit",get:function(){return this.Qrt}},{key:"Uet",get:function(){return this.grt}},{key:"vit",get:function(){return this.Krt}},{key:"Sit",get:function(){return this.jrt}},{key:"kit",get:function(){return this.Mx.kit||this.In}},{key:"vet",get:function(){return this.Mx.vet}},{key:"Yrt",get:function(){return this.Zrt}},{key:"Jrt",get:function(){return this.In}}]),n}(Ua);function YU(t){for(var n,i,r=KU(t),e=0,u=null!=(n=t.cit)?n:[];e<u.length;e++){r=Lm(r,jU(u[e]))}for(var s=0,o=null!=(i=t.fit)?i:[];s<o.length;s++){r=Lm(r,ZU(o[s]))}return r}function jU(t){for(var n=KU(t),i=0,r=t.sit;i<r.length;i++){n=Lm(n,QU(r[i]))}return n}function QU(t){return KU(t)}function KU(t){var n;if(void 0!==t.Wet&&(n=Lm(n,ZU(t.Wet))),void 0!==t.Het&&(n=Lm(n,ZU(t.Het))),void 0!==t.Vet)for(var i=0,r=t.Vet;i<r.length;i++){n=Lm(n,ZU(r[i]))}return n}function ZU(t){var n,i;return Om.Ek(null!=(n=t.fet)?n:Ee.ZERO,null!=(i=t.IA)?i:1)}function JU(t,n){if(nF(t,n),t.Tn=n.Tn,void 0!==t.cit&&void 0!==n.cit&&t.cit.length===n.cit.length)for(var i=0;i<t.cit.length;i++)$U(t.cit[i],n.cit[i]);if(void 0!==t.fit&&void 0!==n.fit&&t.fit.length===n.fit.length)for(var r=0;r<t.fit.length;r++)iF(t.fit[r],n.fit[r])}function $U(t,n){if(nF(t,n),void 0!==t.sit&&void 0!==n.sit&&t.sit.length===n.sit.length)for(var i=0;i<t.sit.length;i++)tF(t.sit[i],n.sit[i])}function tF(t,n){nF(t,n)}function nF(t,n){if(void 0!==t.Wet&&void 0!==n.Wet&&iF(t.Wet,n.Wet),void 0!==t.Het&&void 0!==n.Het&&iF(t.Het,n.Het),void 0!==t.Vet&&void 0!==n.Vet&&t.Vet.length===n.Vet.length)for(var i=0;i<t.Vet.length;i++)iF(t.Vet[i],n.Vet[i])}function iF(t,n){t.IA=n.IA,t.fet=n.fet}var rF=function(){function t(t,n,i){this.fP=t,this.sht=n,this.nht=i,this.hht=0}var n=t.prototype;return n.Jq=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.iht(t,n.fP,n.sht,n.nht).catch(Sa)];case 1:return i.sent(),[2]}}))}))()},n.rht=function(){return new Date(xe()+this.hht)},n.iht=function(t,n,i,r){var e=this;return Mo((function(){var u,s,o;return Uo(this,(function(c){switch(c.label){case 0:return r?[4,e.oht(n,r,i)]:[3,2];case 1:u=c.sent(),c.label=2;case 2:if(void 0!==u)return[3,6];ba(i),s=0,c.label=3;case 3:return s<t.length?(o=t[s],[4,e.aht(n,o,i)]):[3,6];case 4:if(void 0!==(u=c.sent()))return[3,6];c.label=5;case 5:return s++,[3,3];case 6:return e.hht=void 0===u?0:u-xe(),[2]}}))}))()},n.aht=function(t,n,i){var r=this;return Mo((function(){var e,u,s;return Uo(this,(function(o){switch(o.label){case 0:switch(n.tet){case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2012":case"urn:mpeg:dash:utc:http-iso:2014":return[3,1];case"urn:mpeg:dash:utc:direct:2012":case"urn:mpeg:dash:utc:direct:2014":return[3,4]}return[3,5];case 1:return(e=n.kT)?[4,r.oht(t,e,i)]:[3,3];case 2:return[2,o.sent()];case 3:return[3,6];case 4:return(u=n.kT)&&(s=new Date(u).getTime(),!w(s))?[2,s]:[3,6];case 5:case 6:return[2]}}))}))()},n.oht=function(t,n,i){return Mo((function(){var r,e;return Uo(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,t.pI({TI:n,iP:N_.GET,sP:t_.KT,M_:i})];case 1:return[4,u.sent()._P()];case 2:return r=u.sent(),e=new Date(r).getTime(),w(e)?[3,4]:[2,e];case 3:return Ta(u.sent()),[3,4];case 4:return[2]}}))}))()},t}(),eF=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Xit=void 0,s.fht=!0,s.jrt=[],s.Tht=void 0,s.pht=n,s.dht=n.Pw,s.bht=i,s.fP=r,s.Sht=e,s.Aht=new rF(s.fP,s.Sht,s.pht.kht),s.Grt=u,s}vr(n,t);var i=n.prototype;return i._ht=function(t){var n=this.Dg;this.fht=t,n!==this.Dg&&this.To(new VU)},i.Kn=function(t,n,i){var r=this;return Mo((function(){var e,u,s,o,c,a,h,f,v,d,l,_;return Uo(this,(function(g){switch(g.label){case 0:return u=[],s=[],o=t.wit?tr.Rh(t.wit,r.dht):r.dht,void 0!==r.Xit?[3,2]:[4,r.Aht.Jq(t.Iit)];case 1:return g.sent(),r.Xit=new qU(t,r.dht,o,r.rht(),r.Grt),r.Xit.wn(Gx.Uit,r.Os),[3,3];case 2:r.Xit.Kn(t,o,r.rht(),n),g.label=3;case 3:if(0===(c=r.Xit.Sit).length)a=r.jrt.slice(),ea(r.jrt);else{for(h=c[0].o,f=0;f<r.jrt.length&&r.jrt[f].o!==h;)f++;for(a=r.jrt.splice(0,f),v=0;v<c.length;v++)d=c[v],v<r.jrt.length?l=r.jrt[v]:(l=new FU(r,d),u.push(l)),s.push(l.Kn(r.bht,i))}return[4,$.all(s)];case 4:for(g.sent(),(e=r.jrt).push.apply(e,_r(u)),_=0;_<a.length;_++)a[_].Mrt();return r.To(new HU),[2]}}))}))()},i.rht=function(){return this.Aht.rht()},i.Nrt=function(t){var n=this.jrt.indexOf(t);if(n>0)return this.jrt[n-1]},i.xrt=function(t){var n=this.jrt.indexOf(t);if(n>=0&&n+1<this.jrt.length)return this.jrt[n+1]},i.Lit=function(){return this.Xit?this.Xit.Lit():void 0},i.ast=function(){return this.Xit&&this.Xit.ast()},i.brt=function(t){this.Xit&&this.Xit.brt(t)},i.bn=function(){this.Lo(),this.Tht=void 0,this._ht(!1);for(var t=0,n=this.jrt;t<n.length;t++){n[t].bn()}ea(this.jrt),this.Xit&&this.Xit.Ou()},hr(n,[{key:"_it",get:function(){return this.Xit&&this.Xit._it}},{key:"git",get:function(){return this.Xit&&this.Xit.git}},{key:"Dst",get:function(){return this.Xit&&this.Xit.Dst}},{key:"o",get:function(){return this.Xit&&this.Xit.Ny.o}},{key:"Yrt",get:function(){var t;return null==(t=this.Xit)?void 0:t.Yrt}},{key:"uht",get:function(){var t;return null==(t=this.Xit)?void 0:t.Jrt}},{key:"vit",get:function(){return this.Xit?this.Xit.vit.map((function(t){return t.href})):[this.cht]}},{key:"cht",get:function(){return this.dht.href}},{key:"mit",get:function(){return this.Xit&&this.Xit.Ny.mit}},{key:"pit",get:function(){return this.Xit&&this.Xit.Ny.pit}},{key:"yit",get:function(){return this.Xit&&this.Xit.Ny.yit}},{key:"Ait",get:function(){return this.Xit&&this.Xit.Ny.Ait}},{key:"Tit",get:function(){var t,n,i=(null==(t=null==(n=this.Xit)?void 0:n.Ny.Tit)?void 0:t.Gtt())||0;return l.max(i,sF)}},{key:"Dg",get:function(){return this.fht}},{key:"Sit",get:function(){return this.jrt}},{key:"ght",get:function(){return this.Iw===ZM.wB?this.yst:this.vht}},{key:"wht",get:function(){var t=this.ght;if(void 0!==t)for(var n=0,i=this.Sit;n<i.length;n++){var r=i[n];if(r.Tn<=t&&r.Pn>t)return r}}},{key:"Cet",get:function(){return this.Xit&&this.Xit.Ny.Cet}},{key:"kit",get:function(){return this.Xit&&this.Xit.kit}},{key:"Brt",get:function(){for(var t=this.jrt.length-1;t>=0;t-=1){var n=this.jrt[t].Brt;if(n)return n}}},{key:"yst",get:function(){var t=this.Brt;if(void 0!==t){var n=t-this.mht;return l.max(n,this.vht)}}},{key:"vht",get:function(){for(var t=0,n=this.jrt;t<n.length;t++){var i=n[t].Bit;if(void 0!==i)return i}}},{key:"oP",get:function(){return Boolean(this.pht.oP)}},{key:"mht",get:function(){var t=this.Xit&&this.Xit.Ny.Eit;return t?t.Xtt():this.Iw===ZM.wB?this.yht:0}},{key:"yht",get:function(){return this.pht.yht?this.pht.yht:1.5*this.Ait.Xtt()}},{key:"vet",get:function(){return this.Xit&&this.Xit.vet}},{key:"Iw",get:function(){return this.Xit?this.Xit.Iw:void 0}}]),n}(Ua),uF=function(){function t(t,n,i,r,e){this.Rrt=new eF(t,n,i,r,e)}return hr(t,[{key:"Zit",get:function(){return this.Rrt}}]),t}(),sF=1e3,oF=l.pow(2,31)-1,cF=function(){function t(t,n,i,r,e){this.Iht=new pa;var u=this;this.Pht=Mo((function(t){var n,i,r;return Uo(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),n=u.Xit.Zit.rht(),[4,u.Uht(u.Xit.Zit.vit,t)];case 1:return i=e.sent(),[4,u.Xit.Zit.Kn(i,n,t)];case 2:return e.sent(),[3,4];case 3:throw bk(r=e.sent())&&u.Xit.Zit._ht(!1),r;case 4:return[2]}}))})),this.Vht=r,this.Xit=new uF(t,n,i,this.Iht.M_,e)}var n=t.prototype;return n.i7=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:n.Xit.Zit.To(new EC),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.Pht(t)];case 2:return r.sent(),n.Xit.Zit._ht(!0),[3,4];case 3:throw Ta(i=r.sent()),n.Eht=void 0,n.Xit.Zit._ht(!1),new f("The provided MPEG-DASH document could not be loaded - "+i.message);case 4:return n.Rht=n.Cht(n.Iht.M_),[2]}}))}))()},n.Cht=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:i.trys.push([0,4,,5]),i.label=1;case 1:return n.Xit.Zit.Iw!==ZM.wB?[3,3]:[4,Ea(n.xht,t)];case 2:return i.sent(),[3,1];case 3:return[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},n.Nht=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:return ba(t),(i=n.Bht())>0?[4,Ba(l.min(i,oF),t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,5,6]),[4,n.Pht(t)];case 3:return e.sent(),n.Xit.Zit._ht(!0),[3,6];case 4:throw r=e.sent(),new f("The provided MPEG-DASH manifest could not be loaded - "+r.message);case 5:return n.Lht=void 0,[7];case 6:return[2]}}))}))()},n.Bht=function(){var t=this.Xit.Zit.rht().getTime()-this.Xit.Zit.Yrt.getTime();return this.Xit.Zit.Tit-t},n.Oht=function(t){var n=this.Xit.Zit.ast();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.Xit.Zit.brt(t);var r=this.Xit.Zit.ast();return r?r.getTime()-t.getTime():NaN},n.Dht=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:n.Lht||(n.Lht=n.Nht(t)),(i=new pa).U_(t),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,$.race([n.Lht,n.Mht(i.M_)].filter(Cr))];case 2:return r.sent(),[3,5];case 3:return Sa(r.sent()),[3,5];case 4:return i.Jl(),[7];case 5:return[2]}}))}))()},n.Mht=function(t){var n=this.Xit.Zit.rht(),i=this.Oht(n);if(!w(i)&&!this.Ar.Zit.Dst)return this.Fht(i,t)},n.Fht=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return[4,Ba(t,n)];case 1:return e.sent(),r=i.Xit.Zit.rht(),i.Xit.Zit.brt(r),[2]}}))}))()},n.Uht=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return[4,i.Vht.Hht(t,{},n)];case 1:return r=e.sent(),[2,(new xx).Pit(r.Wht,r.gP)]}}))}))()},n.bn=function(){return this.Iht.Jl(),this.Rht=void 0,this.Eht=void 0,this.Lht=void 0,this.Xit.Zit.bn(),$.resolve()},hr(t,[{key:"Ar",get:function(){return this.Xit}},{key:"q",get:function(){return this.Eht||(this.Eht=this.i7(this.Iht.M_),Da(this.Eht)),this.Eht}},{key:"xht",get:function(){return this.Xit.Zit.uht&&this.Xit.Zit.Iw===ZM.wB?this.Dht(this.Iht.M_):this.q}}]),t}(),aF=function(t){function n(n,i){var r;return(r=t.call(this,"qht")||this).zht=n,r.Xht=i,r}return vr(n,t),n}(Va),hF=function(t){function n(n,i){var r;(r=t.call(this)||this).Ght=void 0,r.vJ=n,r.Yv=i;for(var e=0,u=r.Yv;e<u.length;e++){u[e].Qet=Uc(r)}return r}vr(n,t);var i=n.prototype;return i.NI=function(t){t&&this.Ght!==t&&this.Qht(t)},i.BI=function(t){this.Ght===t&&this.Qht(void 0)},i.Qht=function(t){this.Ght=t,this.To(new aF(this,this.Ght))},i.bn=function(){this.Lo();for(var t=0,n=this.Yv;t<n.length;t++){n[t].Qet=void 0}ea(this.Yv)},hr(n,[{key:"Xht",get:function(){return this.Ght}},{key:"Iw",get:function(){return this.vJ}},{key:"Z",get:function(){return this.Yv.slice()}}]),n}(Ua),fF=function(t){function n(n,i){var r;return(r=t.call(this,Gw.Gv)||this).dw=n||[],r.Ht=i,r}return vr(n,t),n.prototype.pa=function(){return new vF(this.dw.map((function(t){return t.ma})))},n}(Hw),vF=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return vr(n,t),n}(Va),dF=function(t){function n(n){var i;return(i=t.call(this,Gw.QUALITY_UNAVAILABLE)||this).quality=n,i}return vr(n,t),n.prototype.pa=function(){return new lF(this.quality.ma)},n}(zw),lF=function(t){function n(n){var i;return(i=t.call(this,"qualityunavailable")||this).quality=n,i}return vr(n,t),n}(Ww),_F=function(t){function n(){return t.call(this,Gw.NO_QUALITY)}return vr(n,t),n}(Va);function gF(t){return{IO:t.IO,g9:t.bet,Ci:wF(t)?t.Ci:0,Iw:wF(t)?py.vl:py.yy,Ti:wF(t)?t.Ti:0}}function wF(t){var n=t;return void 0!==n.Ci&&void 0!==n.Ti}var yF,mF,pF=0,kF=function(t){function n(n,i,r){var e;void 0===r&&(r="alternative"),(e=t.call(this)||this).Zht=void 0,e.We=!1,e.Gu=void 0,e.$ht=void 0,e.wS="",e.aot=!1,e.dS=new Ny,e.Yht=void 0,e.tot=void 0,e.uot=function(){return e.To(new Py(Uc(e)))},e.zit=n,e.wS=String(pF++),e.mS=Ly(),e.lJ=r,e.Lx=n.J3,e.Yu=n._h,e.hot=n.Iw;for(var u=0;u<i.length;u++){var s=i[u];s.wn("update",e.uot),e.dw.fS(s)}return e}vr(n,t);var i=n.prototype;return i.Kht=function(t){if(this.dS._S(t)){t.BI();var n=this.jht();if(this.Yht&&ia(this.Yht,t)){var i=this.Yht.filter((function(t){return t.H7}));0===i.length&&n.length>0?this.fw=n:this.fw=i}else this.fw=n;this.To(new dF(t))}},i.jht=function(){for(var t=[],n=0,i=this.dS.Kv;n<i.length;n++){var r=i[n];r.H7&&t.push(r)}return t},i.Jht=function(t){this.Zht=t.$it,this.To(t)},i.eot=function(t){if(t&&0!==t.length){for(var n=[],i=0,r=this.sit;i<r.length;i++)for(var e=r[i],u=0;u<t.length;u++){var s=t[u];s===e.$it&&s.H7&&n.push(e)}return n}},i.yS=function(t){this.We=t,this.$ht&&(t?this.$ht.NI(this):this.$ht.BI(this))},i.oot=function(t){this.We=t,this.aot!==t&&(this.aot=t,this.To(new Cy(this)))},i.bn=function(){for(var t=0,n=this.dS.Kv;t<n.length;t++){n[t].pn("update",this.uot)}this.dS.ir()},hr(n,[{key:"lw",get:function(){return this.zit.Get.map(AF).filter(Cr)}},{key:"uw",get:function(){return this.Zht}},{key:"qit",get:function(){return this.zit}},{key:"Rt",get:function(){return this.We},set:function(t){this.yS(t)}},{key:"ma",get:function(){return this.Gu||(this.Gu=wy(this)),this.Gu}},{key:"Qet",get:function(){return this.$ht},set:function(t){this.$ht=t}},{key:"o",get:function(){return this.wS}},{key:"cw",get:function(){return this.mS}},{key:"Lt",get:function(){return this.lJ}},{key:"gs",get:function(){return this.Lx}},{key:"_h",get:function(){return this.Yu},set:function(t){t!==this.Yu&&(this.Yu=t,this.To(new Py(this)))}},{key:"bw",get:function(){return this.Rt?"enabled":"disabled"}},{key:"fw",get:function(){return this.Yht},set:function(t){var n=this,i=[];if(t){var r=(null!=t?t:[]).filter((function(t){var i=n.uw?gF(n.uw):void 0;return tr.Zs.c9(i,gF(t))}));if(0===r.length)return;i=r.filter((function(t){return t.H7}))}else i=this.jht();0===i.length&&this.To(new _F),this.Yht=t&&this.dS._S(t)?t:void 0,this.tot=this.eot(this.Yht),this.To(new fF(t,this))}},{key:"iot",get:function(){return this.tot}},{key:"dw",get:function(){return this.dS}},{key:"sit",get:function(){return this.qit&&this.qit.sit}},{key:"rot",get:function(){return this.hot}}]),n}(Ua);function AF(t){if("urn:mpeg:dash:role:2011"===t.tet)return bF(t);if("urn:tva:metadata:cs:AudioPurposeCS:2007"===t.tet){if("1"===t.kT)return vy.gw;if("2"===t.kT)return vy.mw}}function bF(t){if(void 0!==(null==t?void 0:t.kT))switch(t.kT){case"caption":return vy._w;case"sign":return vy.ww;case"description":return vy.gw;case"enhanced-audio-intelligibility":return vy.mw;default:return}}!function(t){t[t.bU=0]="bU",t[t.cot=1]="cot",t[t.lot=10]="lot",t[t.dot=11]="dot",t[t.fot=12]="fot",t[t._ot=13]="_ot",t[t.got=14]="got",t[t.vot=15]="vot",t[t.wot=20]="wot",t[t.mot=21]="mot",t[t.pot=22]="pot",t[t.yot=23]="yot",t[t.Aot=24]="Aot",t[t.bot=30]="bot",t[t.Tot=31]="Tot",t[t.Sot=32]="Sot",t[t.kot=33]="kot",t[t.Eot=34]="Eot",t[t.Iot=35]="Iot",t[t.Pot=40]="Pot",t[t.Rot=41]="Rot",t[t.Cot=42]="Cot",t[t.xot=43]="xot",t[t.Dot=44]="Dot",t[t.Not=50]="Not",t[t.Bot=51]="Bot",t[t.Lot=60]="Lot",t[t.Oot=61]="Oot",t[t.Mot=62]="Mot",t[t.Fot=63]="Fot",t[t.Uot=70]="Uot",t[t.Hot=71]="Hot",t[t.Vot=72]="Vot",t[t.Wot=73]="Wot",t[t.qot=74]="qot",t[t.zot=75]="zot",t[t.Xot=76]="Xot",t[t.Got=77]="Got",t[t.Qot=90]="Qot",t[t.Kot=91]="Kot"}(yF||(yF={}));EA(mF={},0,"Failed because"),EA(mF,1,"Created"),EA(mF,10,"Starting because unknown reason"),EA(mF,11,"Starting because new track loading"),EA(mF,12,"Starting because manifest changed"),EA(mF,13,"Starting because seek"),EA(mF,14,"Starting because timeupdate"),EA(mF,15,"Starting because buffering is being resumed"),EA(mF,20,"Interrupting because unknown reason"),EA(mF,21,"Interrupting because segment has a gap"),EA(mF,22,"Interrupting because segment is missing"),EA(mF,23,"Interrupting because seeking"),EA(mF,24,"Interrupting because buffer is full"),EA(mF,30,"Pausing because unknown reason"),EA(mF,31,"Pausing because target buffer reached"),EA(mF,32,"Pausing because no target time"),EA(mF,33,"Pausing because no segment selected"),EA(mF,34,"Pausing because end of stream is reached"),EA(mF,35,"Pausing because initialization segment is missing"),EA(mF,40,"Stopping because unknown reason"),EA(mF,41,"Stopping because manifest went offline"),EA(mF,42,"Stopping because seeking"),EA(mF,43,"Stopping because buffering is being paused"),EA(mF,44,"Stopping because unload"),EA(mF,50,"Resetting because unknown reason"),EA(mF,51,"Resetting because player was reset"),EA(mF,63,"Marking gap at"),EA(mF,60,"Target time is"),EA(mF,70,"[Selection 1] Select nothing if the target time has already been appended."),EA(mF,71,"[Selection 2] Select nothing if the time-based lookup failed."),EA(mF,72,"[Selection 3] If the segment has not been appended, select time-based lookup."),EA(mF,73,"[Selection 4A] Select the first unappended segment that occurs before the segment."),EA(mF,74,"[Selection 4B] Notify gap if no previous segment is available."),EA(mF,75,"[Selection 5A] Select the first unappended segment that occurs after the segment."),EA(mF,76,"[Selection 5B] Select nothing if no next segment is available."),EA(mF,77,"[Selection 6] Unreachable"),EA(mF,61,"Selected segment is"),EA(mF,62,"Appended segment is"),EA(mF,90,"Test setup"),EA(mF,91,"Test");var TF,SF,EF=function(t){function n(n,i,r){var e;return(e=t.call(this,$l.Yw)||this).currentTime=n,e.initDataType=i,e.initData=r,e}return vr(n,t),n}(Va);function IF(t,n,i,r,e){for(var u=[],s=[],o=0;o<n.length;o++){var c=n[o];c.Iw===py.yy?u=u.concat(c.Z):c.Iw===py.vl&&(s=s.concat(c.Z))}return[RF(t,u,i,r,null==e?void 0:e.preferredAudioCodecs),NF(t,s,i,r,null==e?void 0:e.preferredVideoCodecs)].filter(Cr)}function RF(t,n,i,r,e){var u=jc(r||[],(function(t){return t.rot===py.yy&&t.Rt})),s=[DF(u,i,t),PF(u),OF(u,e),BF(),function(t){var n=t.filter((function(t){return"main"===t.Lt}));return n.length>0?n:t}];return CF(n,s)}function NF(t,n,i,r,e){var u=jc(r||[],(function(t){return t.rot===py.vl&&t.Rt})),s=[DF(u,i,t),OF(u,e),BF(),function(t){var n=t.filter((function(t){return"main"===t.Lt}));return n.length>0?n:t}];return CF(n,s)}function CF(t,n){if(0!==t.length){for(var i=t,r=0;r<n.length;r++){var e=n[r];if(1===i.length)return i[0];i=e(i)}return i[0]}}function DF(t,n,i){return function(r){var e=t?t.qit.o:void 0;if(!Cr(e))return r;var u=null==n?void 0:n.dit,s=i.dit,o=u&&s&&u.kT===s.kT,c=jc(r,(function(t){return t.qit.o===e}));return o&&c?[c]:r}}function PF(t){return function(n){var i=t?t.gs:"",r=n.some((function(t){return""!==t.gs}))?n.filter((function(t){return""!==t.gs})):n;if(""===i)return r;var e=jc(r,(function(t){return t.gs===i}));return e?[e]:r}}function OF(t,n){return function(i){if(void 0===t&&n&&n.length>0)for(var r=function(t){var r=n[t],e=i.filter((function(t){return t.dw.Kv.some((function(t){return OD(t.bet,r)}))}));if(e.length>0)return{v:e}},e=0;e<n.length;e++){var u=r(e);if("object"===E(u))return u.v}return i}}function BF(){return function(t){for(var n=[],i=-1/0,r=0;r<t.length;r++){var e=t[r],u=e.qit.HM;u>i?(i=u,n=[e]):u===i&&n.push(e)}return n}}!function(t){t.jot="api",t.Yot="start"}(TF||(TF={})),function(t){t.Zot="Jot"}(SF||(SF={}));var LF=function(t){function n(n){var i;return(i=t.call(this,$l.dm)||this).error=n,i}return vr(n,t),n}(Va);function MF(t){return void 0!==t.$u}function xF(t,n){var i=t.Ti&&n.Ti,r=t.Ci&&n.Ci;return i||r?i&&r?t.Ti*t.Ci-n.Ti*n.Ci:i?t.Ti-n.Ti:r?t.Ci-n.Ci:(t.Ti||1)*(t.Ci||1)-(n.Ti||1)*(n.Ci||1):0}function UF(t,n){return xF(t,n)||function(t,n){return t.IO-n.IO}(t,n)}var FF=function(){function t(t,n,i,r,e,u){this._at=t,this.oat=n,this.b9=i,this.fat=r,this.eat=e,this.gat=u}var n=t.prototype;return n.$ot=function(n,i,r,e){var u=t.sortByQuality(n);if(void 0!==this.eat&&void 0===i&&n.length>1){var s=t.iat(u,this.eat);s&&(u=s)}var o=this.sat(u,i,r,e);return o.length?o[o.length-1]:u[0]},n.sat=function(n,i,r,e){for(var u,s=t.sortByQuality(n),o={nat:void 0===e||this.oat.rat?this.oat.nat:e,$u:MF(r)&&r.$u?r.$u:1,aat:r.Ti,uat:r.Ci,dat:null==(u=this.fat)?void 0:u.restrictToPlayerSize},c=s,a=0,h=this._at;a<h.length;a++){c=(0,h[a])(c,i,o,this.b9,this.gat)}return c},t.vat=function(n){return t.sortByQuality(n)[0]},t.wat=function(n,i){var r;return i?t.vat(null!=(r=t.iat(n,i))?r:n):t.vat(n)},t.iat=function(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return OD(t.g9,r)}));if(e.length>0)return{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===E(e))return e.v}},t.sortByQuality=function(t){var n=_r(t);return n.sort(UF),n},t}(),HF={maxRetries:3,minimumBackoff:1e3,maximumBackoff:1/0},VF=function(){function t(t,n,i){void 0===i&&(i=HF),this.fP=t,this.Aat=n,this.pat=i}var n=t.prototype;return n.mat=function(t,n,i){var r=this,e=this.pat.maxRetries===1/0?HF:this.pat;return EE((function(){return r.yat(t,n,i)}),i,e.maxRetries,e.minimumBackoff,e.maximumBackoff)},n.yat=function(t,n,i){var r=this;return Mo((function(){var e,u,s,o,c,a;return Uo(this,(function(h){switch(h.label){case 0:u=0,h.label=1;case 1:if(!(u<t.length))return[3,7];s=t[u],h.label=2;case 2:return h.trys.push([2,5,,6]),o=new B_({TI:s,sP:t_.KT,eP:n,oP:r.Aat,iP:N_.GET,Iw:C_.WI,rP:D_.YT,M_:i,kI:3e4,nP:5e3}),[4,r.fP.pI(o)];case 3:return[4,(c=h.sent())._P(i)];case 4:return[2,{Wht:h.sent(),bat:s,gP:c.gP}];case 5:return a=h.sent(),e=a,[3,6];case 6:return u++,[3,1];case 7:throw e}}))}))()},t}(),XF=function(){function t(t){this.Tat=t}return t.prototype.Hht=function(t,n,i){var r=this;return Mo((function(){var e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:u=0,s=r.Tat,a.label=1;case 1:if(!(u<s.length))return[3,6];o=s[u],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,o.Hht(t,n,i)];case 3:return[2,a.sent()];case 4:return Ta(c=a.sent()),e=c,[3,5];case 5:return u++,[3,1];case 6:throw e}}))}))()},t}(),zF=function(){function t(t){this.Sat=t}return t.prototype.Hht=function(t,n,i){var r=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return[4,r.Sat.Y7(t)];case 1:if(n=i.sent())return[2,{Wht:n.data,bat:n.locationURL,gP:n.responseURL}];throw new f("Manifest fetch from cache unsuccesful")}}))}))()},t}(),WF=function(){function t(t){this.Eat=t}return t.prototype.Hht=function(t,n,i){var r=this;return Mo((function(){return Uo(this,(function(e){switch(e.label){case 0:return[4,r.Eat.mat(t,n,i)];case 1:return[2,e.sent()]}}))}))()},t}();function GF(t,n){return new XF([new zF(n),new WF(t)])}var qF=function(){function t(t,n,i){this.Vht=t,this.Pat=n,this.Rat=i}var n=t.prototype;return n.Hht=function(t,n,i){var r=this;return Mo((function(){var e;return Uo(this,(function(u){switch(u.label){case 0:return[4,r.Vht.Hht(t,n,i)];case 1:return e=u.sent(),[4,r.Iat(e)];case 2:return u.sent(),[2,e]}}))}))()},n.Iat=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.Pat.ott({key:MM(t.bat),locationURL:U_(t.bat),responseURL:U_(t.gP),data:t.Wht,references:[n.Rat.o]})];case 1:return i.sent(),[2]}}))}))()},t}(),YF=function(t){function n(){return t.call(this,$l._m)}return vr(n,t),n}(Va),jF=function(t){function n(){return t.call(this,$l.fm)}return vr(n,t),n}(Va),QF=function(t){function n(){return t.call(this)}vr(n,t);var i=n.prototype;return i.Cat=function(t){return t.Nc=Wy.LOADED,this.tt(t),t},i.xat=function(t){for(var n=0,i=this.Z.Kv;n<i.length;n++){var r=i[n];if(r.Aw===t)return r}},n}(xk);function KF(t,n){return""===n?t:t+" "+n}var ZF=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,!1,null==u?void 0:u.toString())||this).rI=e,s.Dat=u,s}return vr(n,t),n.prototype.QS=function(t){return this.O===t.O},hr(n,[{key:"ma",get:function(){return this.Gu||(this.Gu=function(t){return $w(rm(t),{get attributes(){return t.rI},get eventID(){var n;return""+(null!=(n=t.Dat)?n:"")}})}(this)),this.Gu}}]),n}(vm),JF=function(t){function n(n){var i;return(i=t.call(this)||this).zrt=void 0,i.Lat=function(){var t,n,r=null!=(n=null==(t=i.zrt.Lit())?void 0:t.Tn)?n:0;if(r>0)for(var e=0,u=i.Z.Kv;e<u.length;e++){Lk(u[e],r)}for(var s=0,o=i.zrt.Sit;s<o.length;s++){var c=o[s];if(c.Pn>r)for(var a=0,h=c.fit;a<h.length;a++){var f=h[a];i.Bat(f,c,r)}}},i.lP=n,i}vr(n,t);var i=n.prototype;return i.Nat=function(t){var n=this.lP.cP(gk.Ty,"","","",void 0,Gy.EVENT_STREAM);return n.Aw=t,this.Cat(n),n},i.Bat=function(t,n,i){var r,e,u,s=t.tet,o=null!=(r=t.kT)?r:"",c=null!=(e=t.IA)?e:1,a=null!=(u=t.fet)?u:Ee.ZERO,h=KF(s,o),f=this.xat(h);f||(f=this.Nat(h));for(var v=0,d=t.uV;v<d.length;v++){var l=d[v];if(!$F(l,f)){var _=tH(l,c,a,n);_.RS>i&&f.vP(_)}}},i.On=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.ir()];case 1:return i.sent(),n.zrt=t,n.zrt.wn($l.lm,n.Lat),n.Lat(),[2]}}))}))()},i.ir=function(){var n=this;return Mo((function(){var i,r,e;return Uo(this,(function(u){switch(u.label){case 0:for(n.zrt&&(n.zrt.pn($l.lm,n.Lat),n.zrt=void 0),i=0,r=n.Z.Kv;i<r.length;i++)e=r[i],n.lP.mP(e);return[4,t.prototype.ir.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(QF);function $F(t,n){var i=t.o;if(void 0!==i&&jc(n.L.Kv,(function(n){return n.Dat===i&&n.O===t.Ny})))return!0;return!1}function tH(t,n,i,r){var e=t.o,u=t.ET.toSigned().subtract(i),s=t.ct,o=t.Ny,c=t.rI,a=u.toNumber()/n+r.Tn,h=s?s.toNumber()/n:void 0,f=void 0!==h?a+h:r.Ort;return new ZF(a,f,o,c,e)}function nH(t,n,i,r){var e=[],u=jc(i,(function(t){return t.tet===Ko}));if(void 0!==u){var s=u.kT?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(u.kT.toLowerCase()):"cenc";if(void 0!==s){for(var o=0;o<i.length;o++){var c=i[o];if(c.tet!==Ko)for(var a=0,h=mc(c.tet);a<h.length;a++){var f=h[a];e.push({ap:f,BO:c.$tt?[c.$tt]:[],LO:void 0,QL:void 0})}}if(e.length)return{sL:t,Oat:{Mat:s,nL:u.nL},Fat:e,Uat:n===py.yy?r.slice():[],Hat:n===py.vl?r.slice():[],h0:!1}}}}function iH(t,n){if(!t)return n;if(!n)return t;var i,r=[],e=Vo();return rH(r,e,t.Fat),rH(r,e,n.Fat),{sL:t.sL,Oat:{Mat:t.Oat.Mat,nL:null!=(i=t.Oat.nL)?i:n.Oat.nL},Fat:r,Uat:eH(t.Uat,n.Uat,ia),Hat:eH(t.Hat,n.Hat,ia),h0:t.h0||n.h0||!1}}function rH(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],u=e.ap.gC,s=void 0;n.has(u)?(s=n.get(u)).BO=eH(s.BO,e.BO,uH):(s=xo({},e),t.push(s),n.set(u,s))}}function eH(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var u=n[e];i(r,u)||r.push(u)}return r}function uH(t,n){for(var i=0;i<t.length;i++){if(ah(t[i],n))return!0}return!1}function sH(t,n){var i,r=t.ket;if(r){for(var e=t.aV,u=[],s=0,o=t.bet;s<o.length;s++){var c=o[s];u.push(e+'; codecs="'+c+'"')}i=nH(n||{},t.Iw,r,u)}for(var a=0,h=t.sit;a<h.length;a++){i=iH(i,oH(h[a],n))}return i}function oH(t,n){return nH(n||{},t.Iw,t.ket||[],[t.rM])}function cH(t){return t?t.Fat.map((function(n){var i=aH(t.sL,n.ap),r=t.Oat.Mat;return{ap:n.ap,BO:n.BO,QL:n.QL,PM:[{initDataTypes:[n.ap.fC],audioCapabilities:hH(t.Uat,r,null==i?void 0:i.audioRobustness),videoCapabilities:hH(t.Hat,r,null==i?void 0:i.videoRobustness),persistentState:null==i?void 0:i.persistentState,distinctiveIdentifier:null==i?void 0:i.distinctiveIdentifier}]}})):[]}function aH(t,n){switch(n.Iw){case Qo.Ym:return t.widevine;case Qo.jm:return t.playready;case Qo.Zm:return t.fairplay;case Qo.Jm:return t.clearkey}}function hH(t,n,i){if(0!==t.length)return t.map((function(t){return{contentType:t,encryptionScheme:n,robustness:i}}))}var fH=function(t){function n(n){var i;(i=t.call(this)||this).vst=[],i.Kn=function(){for(var t=[],n=0,r=i.zrt.Sit;n<r.length;n++)for(var e=0,u=r[n].cit;e<u.length;e++){var s=u[e];if(s.Iw===py.jT&&s.sit.length>0){var o=s.sit[0];t.push(o),i.Qat(o)||i.Nat(o),-1===i.vst.indexOf(o)&&(i.vst.push(o),o.wn(Gx.Uit,i.Xat)),i.jat(o)}}i.Vat(t)},i.jat=function(t){var n=i.Kat(t);n&&t&&n.bw!==Yp.Th&&(i.Gat(),function(t,n){var i=t.met,r=t.ost();if(!r)return;var e=r.Ost,u=r.Mst,s=t.Ti,o=t.Ci,c=Fo(function(t){for(var n=0;n<t.length;n++){var i=t[n];if(Tc(i.tet,dH)||Tc(i.tet,lH)){var r=i.kT.match(vH);if(r){var e=Fo(r,3),u=e[1],s=e[2];return[Number(u),Number(s)]}}}return[1,1]}(t.Eet),2),a=c[0],h=c[1],f=e;for(;f&&f.ret<=u.ret;){for(var v=t.ist.ct||f.ct,d=_H(n,f,t.rst(f).TI,s,o,a,h,v),l=0;l<d.length;l++){var _=d[l];n.vP(_)}f=i.Vst(f)}}(t,n))},i.lP=n;var r=Uc(i);return i.Xat=function(){r.jat(this)},i}vr(n,t);var i=n.prototype;return i.Nat=function(t){var n=this.lP.cP(gk.Ty,t.o,"thumbnails","",!1,Gy.DEFAULT);return n.bw=Yp.Qn,this.Cat(n),n},i.On=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.ir()];case 1:return i.sent(),n.zrt=t,n.zrt.wn($l.lm,n.Kn),n.Kn(),[2]}}))}))()},i.Vat=function(t){this.Wat(t),this.qat()},i.qat=function(){for(var t=[],n=0,i=this.Z.Kv;n<i.length;n++){var r=i[n];this.zat(r)||t.push(r)}for(var e=0;e<t.length;e++){var u=t[e];this.it(u)}},i.Wat=function(t){for(var n=[],i=0,r=this.vst;i<r.length;i++){var e=r[i];-1===t.indexOf(e)&&n.push(e)}for(var u=0;u<n.length;u++){var s=n[u];$c(this.vst,s)}},i.ir=function(){var n=this;return Mo((function(){var i,r,e,u,s;return Uo(this,(function(o){switch(o.label){case 0:for(n.zrt&&(n.zrt.pn($l.lm,n.Kn),n.zrt=void 0),i=0,r=n.vst;i<r.length;i++)r[i].pn(Gx.Uit,n.Xat);for(n.vst.length=0,e=0,u=n.Z.Kv;e<u.length;e++)s=u[e],n.lP.mP(s);return[4,t.prototype.ir.call(n)];case 1:return o.sent(),[2]}}))}))()},i.bn=function(){return this.Xat=void 0,t.prototype.bn.call(this)},i.Gat=function(){var t,n,i=null!=(n=null==(t=this.zrt.Lit())?void 0:t.Tn)?n:0;if(i>0)for(var r=0,e=this.Z.Kv;r<e.length;r++){Lk(e[r],i)}},i.Qat=function(t){return this.Z.Kv.some((function(n){return n.o===t.o}))},i.Kat=function(t){return jc(this.Z.Kv,(function(n){return n.o===t.o}))},i.zat=function(t){return this.vst.some((function(n){return t.o===n.o}))},n}(QF),vH=/^(\d+)x(\d+)$/,dH="http://dashif.org/guidelines/thumbnail_tile",lH="http://dashif.org/thumbnail_tile";function _H(t,n,i,r,e,u,s,o){var c=[],a=n.PS,h=u*s,f=r/u,v=e/s,d=l.round(f),_=l.round(v),g=o/h;if(1===h){var w=a+g;return gH(t,a,w,i)?c:[new vm(a,w,i,!1)]}for(var y=0;y<s;y++)for(var m=0;m<u;m++){var p=a+(y*u+m)*g,k=p+g,A=i+"#xywh="+l.round(m*f)+","+l.round(y*v)+","+d+","+_;if(gH(t,p,k,A)||c.push(new vm(p,k,A,!1)),k>=n.RS)return c}return c}function gH(t,n,i,r){return t.L.Kv.some((function(t){return t.PS===n&&t.RS===i&&t.O===r}))}var wH=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,s,!1)||this).Yat=r,o.Zat=e,o.$at=u,o}return vr(n,t),n.prototype.QS=function(t){return hh(this.O,t.O)},hr(n,[{key:"ST",get:function(){return this.Yat}},{key:"kT",get:function(){return this.Zat}},{key:"Jat",get:function(){return this.$at}},{key:"ma",get:function(){return this.Gu||(this.Gu=function(t){return $w(rm(t),{get schemeIDURI(){return t.ST},get value(){return t.kT},get emsgID(){return t.Jat}})}(this)),this.Gu}}]),n}(vm),yH=function(t){function n(n){var i;return(i=t.call(this)||this).lP=n,i}vr(n,t);var i=n.prototype;return i.tut=function(t,i,r){var e=Fp.uA(vf(t));if(e){var u=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];Dp(e,n)&&i.push(e)}return i}(e,Hm.ly);if(u.length){var s=n.eut(e,i,r);this.iut(u,s,r)}}},i.iut=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=void 0,s=(u=1===e.oA?e.ET.toNumber()/e.IA+i:n+e.RT/e.IA)+e.IT/e.IA;"https://aomedia.org/emsg/ID3"===e.ST?this.sut(e,u):this.nut(e,u,s)}},i.nut=function(t,n,i){var r=KF(t.ST,t.kT),e=this.xat(r);e||(e=this.rut(r),this.Cat(e)),e.vP(new wH(n,i,t.ST,t.kT,t.o,t.PT))},i.sut=function(t,n){var i=gO(vf(t.PT));if(i){var r=KF(t.ST,t.kT),e=this.xat(r);e||(e=this.hut(r),this.Cat(e));for(var u=0,s=i.UJ;u<s.length;u++){var o=s[u],c=new EO(n,o);VP(c,e.L.Kv),e.vP(c)}}},i.rut=function(t){var n=this.lP.cP(gk.Ty,"","","",void 0,Gy.EMSG);return n.Aw=t,n.bw=Yp.Tw,n},i.hut=function(t){var n=this.lP.cP(gk.Ty,"","","",void 0,Gy.ID3);return n.Aw=t,n.bw=Yp.Tw,n},i.ir=function(){var n=this;return Mo((function(){var i,r,e;return Uo(this,(function(u){switch(u.label){case 0:for(i=0,r=n.Z.Kv;i<r.length;i++)e=r[i],n.lP.mP(e);return[4,t.prototype.ir.call(n)];case 1:return u.sent(),[2]}}))}))()},n.eut=function(t,n,i){var r=Pp(t,Hm._y);return r?Xe(r.VT,r.IA)+i:n},n}(QF),mH=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Lat=function(){var t,i,r=null!=(i=null==(t=n.zrt.Lit())?void 0:t.Tn)?i:0;n.II(r)},n}vr(n,t);var i=n.prototype;return i.On=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.ir()];case 1:return i.sent(),n.zrt=t,n.zrt.wn($l.lm,n.Lat),n.Lat(),[2]}}))}))()},i.ir=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.zrt&&(n.zrt.pn($l.lm,n.Lat),n.zrt=void 0),[4,t.prototype.ir.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(yH);var pH=function(){function t(t){this.out=!1,this.Sat=t}var n=t.prototype;return n.ttt=function(t,n){return this.out?this.Sat.ttt(t,n):$.resolve(!1)},n.itt=function(t,n){return this.out?this.Sat.itt(t,n):$.resolve(void 0)},n.Y7=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return[4,n.Sat.Y7(t)];case 1:return i=r.sent(),n.out=void 0!==i,[2,i]}}))}))()},n.sX=function(t){return this.Sat.sX(t)},t}(),kH=[$l.Rf,$l.gm,$l.wm,$l.dm,$l.pm],AH=[$l.Vu,$l.Il,$l.$w,$l.Zw],bH=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).but=void 0,s.qut=void 0,s.H0=!1,s.Clt=NaN,s.ZO=void 0,s.Vl=void 0,s.P0=!1,s.zut=void 0,s.S0=void 0,s.Nlt=!1,s.xlt=0,s.Dlt=0,s.nct=!1,s.wP=new pa,s.Aut=new kf,s.Plt=!1,s.Xit=void 0,s.Dct=void 0,s.fht=!0,s.$ut=!0,s.slt=void 0,s.Ho=ZE.Nl(),s.$O=GE.$M,s.Slt=void 0,s.CB=!0,s.cut=void 0,s.flt=void 0,s.Ect=void 0,s._lt=[],s.Yl=!1,s.oF=!0,s.iM=new VT,s._ut=new pa,s.mut=$.resolve(),s.J0=new pa,s.$0=$.resolve(),s.Pct=!1,s.gut=new pa,s.vut=$.resolve(),s.But=void 0,s.blt=void 0,s.Yut=0,s.Zut=0,s.Jut=0,s.nM=new LT,s.VF=new tI,s.Qct=void 0,s.pct=function(){s.fut()},s.SM=function(){s.To(new Fw(s.Wu,s.qu))},s.g0=function(t){s.To(new EF(s.Wu,t.fC,t.kC))},s._ct=function(t){s.Yut+=t.oS,s.To(t)},s.gct=function(t){var n=t.segments.filter((function(t){return t.Olt}));t.track===py.yy?s.Zut=n.length:t.track===py.vl&&(s.Jut=n.length)},s.Y1=function(){var t=s.ct;w(t)||t===s.Clt||(s.Clt=t,s.To(new pE(s.Clt)))},s.Llt=function(){s.lut(),s.ilt()},s.Q1=function(t){s.Ic&&s.To(t)},s.wlt=function(t){s.Os(t),s.nct||(s.nct=!0,s.Blt.Mlt())},s.vlt=function(){s.Xit.Zit.pn($l.Ef,s.vlt),s.To(new EC)},s.wct=function(t){s.OM(t.errorObject),s.To(t)},s.vct=function(t){s.OM(t.errorObject)},s.yut=function(t){Aa(t)||s.OM(new Dl(Rl.MEDIA_DECODE_ERROR,t.message,t))},s.lut=function(){if(!s.Dc)if(s.Gut())if(s.Kut()){var t=s.Xit.Zit.ght;s.gc(t,!0)}else;else{var n=s.Xit.Zit.ght;s.gc(n,!0)}},s.Uc=function(t){s.Nlt=s.Fc,s.To(t)},s.Lc=function(t){var n=s.Nlt,i=s.Fc;s.Nlt=i,n&&!i&&s.To(t)},s.mct=function(){var t=s.Kg,n=s.Xg;s.xlt===t&&s.Dlt===n||(s.xlt=t,s.Dlt=n,s.To(new Yk))},s.Yct=function(t){var n=t.Ht;n.bw===Yp.Qn?(s.Hct(n),s.Wct=n):n===s.Wct&&n.bw===Yp.Th&&(s.Wct=void 0,s.qct())},s.rlt=function(){s.P0||s.slt&&(s.slt.Lf(),s.slt=void 0)},s.tlt=function(t){s.P0||s.slt&&(s.slt.BC(t),s.slt=void 0)},s.plt=function(){s.Tlt().catch(s.yut)},s.fP=n,s.GF=r,s.Sat=new pH(e),s.KO=u,s.$T=new aS,s.eS=new aS,s.KO.wn($l.Nf,s.Y1),s.KO.wn(xa.Yw,s.g0),s.KO.wn($l.Pf,s.Q1),s.KO.wn($l.If,s.Uc),s.KO.wn($l.Tf,s.Lc),s.KO.wn($l.vm,s.mct),s.KO.wn($l.Lu,s.SM),s.KO.wn([$l.Ph,$l.Ch],s.Llt),s.KO.wn(AH,s.Os),s.Blt=new TH(Uc(s),s.KO),s.wM=new eA(s.Blt,!0),s.wM.wn(qk.Yf,s.lut),s.wM.wn(Qk,s.Os),s.jct=new hS,s.jct.wn(Gw.oa,s.Yct),s.Xct=new hS,s.lP=s.Flt(),s.ylt=new JF(s.lP),s.Alt=new fH(s.lP),s.xu=new UT([s.jct,s.ylt.Z,s.Alt.Z]),s.pat=i.retryConfiguration,s}vr(n,t);var i=n.prototype;return i.aut=function(t,n,i,r){var e=this;return Mo((function(){var u;return Uo(this,(function(s){switch(s.label){case 0:return(u=e.uut(e.fP,e.GF,e.Sat,e.cut,t,r)).wn(Gx.Vit,e.lut),u.wn($l.dm,e.Os),[4,u.Jq(n,i)];case 1:return s.sent(),[2,u]}}))}))()},i.fut=function(t){void 0===t&&(t=!1),this._ut.Jl(),this.J0.Jl(),this.gut.Jl(),this.gut=new pa,this.vut=this.wut(this.mut,this.$0,this.vut,t,this.gut.M_).catch(this.yut)},i.wut=function(t,n,i,r,e){var u=this;return Mo((function(){var s,o,c,a,h,f;return Uo(this,(function(v){switch(v.label){case 0:return[4,$.all([t,n,i])];case 1:return v.sent(),ba(e),[4,Ea(u.Aut.jf,e)];case 2:return v.sent(),[4,(s=u.but).Tut()];case 3:return v.sent(),u.vY(),ba(e),o=s.JM,c=s.Sut,a=s.kut,h=u.Eut(o,a,o,c,!1),f=u.Iut(a,h),r||!u.Put(f)?[3,5]:[4,u.Rut(a,h,f)];case 4:return v.sent(),[3,7];case 5:return h=u.Eut(o,a,o,c,!0),f=u.Iut(a,h),[4,u.Cut(a,h,f,e)];case 6:v.sent(),v.label=7;case 7:return ba(e),u.Fc?u.gc(u.Wu):u.xut(),u.Dut(),[2]}}))}))()},i.Rut=function(t,n,i){var r=this;return Mo((function(){var e;return Uo(this,(function(u){switch(u.label){case 0:return e=r.but,[4,r.Nut(i)];case 1:return u.sent(),r.But=i,[4,r.Lut(e,t,n)];case 2:return u.sent(),[4,e.Out(yF.dot)];case 3:return u.sent(),[2]}}))}))()},i.Cut=function(t,n,i,r){var e=this;return Mo((function(){var u,s,o;return Uo(this,(function(c){switch(c.label){case 0:return u=e.but,e.n1(),e.Mut(),s=e.Fut,[4,e.Uut()];case 1:return c.sent(),[4,e.yZ(i)];case 2:return c.sent(),e.But=i,[4,e.Lut(u,t,n)];case 3:c.sent(),c.label=4;case 4:return c.trys.push([4,,7,8]),o=e.Hut(s,!1,!0,r),[4,u.Out(yF.dot)];case 5:return c.sent(),[4,o];case 6:return c.sent(),[3,8];case 7:return e.l1(),e.Vut(),[7];case 8:return[2]}}))}))()},i.Gut=function(){var t,n,i=this.Qut;return 0===i.U||(null!=(n=null==(t=this.QO)?void 0:t.Pn)?n:this.Fut)>=i.Tn(0)},i.Kut=function(){var t;if(!this.Xit)return!1;if(this.Xit.Zit.Iw!==ZM.wB)return!1;var n=null==(t=this.but)?void 0:t.JM;if(n&&n.Wit)return!0;for(var i=[],r=0,e=this.Xit.Zit.Sit;r<e.length;r++){var u=e[r],s=u.Bit,o=u.Ort;void 0!==s&&void 0!==o&&i.push(s,o)}var c=new ZE(i).yF();return function(t,n,i){if(!n.U||!i.U)return ZE.Nl();var r=n.Tn(0),e=n.Pn(n.U-1),u=t.Cn(i).wF().Cn(t).Hl(n);return ZE.MF(u.Tn(0),u.Pn(u.U-1)).AF(u).RF((function(t,n){return t<r&&n<=e&&n-t>He}))}(this.Wut,this.Qut,c).U>0},i.ict=function(t){this.Ho=this.Ho.Hl(t)},i.fct=function(t){t.wn(kH,this.Os),t.wn($l.Am,this._ct),t.wn($l.qw,this.gct),t.wn(jp.aa,this.vct),t.wn($l.Xw,this.wct),t.wn($l.gm,this.mct),t.wn("qht",this.pct),t.wn("yct",this.pct)},i.Act=function(t){t.pn(kH,this.Os),t.pn($l.Am,this._ct),t.pn($l.qw,this.gct),t.pn(jp.aa,this.vct),t.pn($l.Xw,this.wct),t.pn($l.gm,this.mct),t.pn("qht",this.pct),t.pn("yct",this.pct)},i.bct=function(t){t.wn($l.Rf,this.Os)},i.Tct=function(t){t.pn($l.Rf,this.Os)},i.lct=function(){if(this.but){var t=jc(this.but.kut,(function(t){return t.rot===py.vl}));if(t)return t.uw}},i.rct=function(t){var n,i=null==(n=this.Xit)?void 0:n.Zit;if(!i)return ZE.Nl();var r=i.vht,e=t?i.Brt:i.yst;if(void 0===r||void 0===e)return ZE.Nl();if(!t){var u=this.ect;u.U>0&&u.Pn(u.U-1)>e&&(e=l.min(u.Pn(u.U-1),i.Brt))}var s=this.ct;return isFinite(s)&&s>e&&(e=s),ZE.MF(r,e).gF()},i.On=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c,a;return Uo(this,(function(h){switch(h.label){case 0:ba(n);try{r=i.Xit.Zit.wht,e=i.Xit.Zit.ght}catch(t){throw new f("Something went wrong determining the start of the provided MPEG-DASH stream")}if(!r)throw new f("Something went wrong determining the initial Period of the provided MPEG-DASH stream");if(void 0===e)throw new f("Something went wrong determining the start time of the provided MPEG-DASH stream");return t.textTracks&&i.Sct(t.textTracks),i.n1(),u=i.kct(r),s=IF(r,u,void 0,void 0,i.Ect),o=i.Eut(r,s,r,s,!0),s.forEach((function(t){return t.Rt=!0})),c=i.Iut(s,o),[4,i.yZ(c)];case 1:return h.sent(),i.But=c,ba(n),[4,i.aut(r,u,s,o)];case 2:return a=h.sent(),ba(n),i.Ict(a),i.l1(),ba(n),[4,a.Out()];case 3:return h.sent(),ba(n),i.Pct||i.gc(e,!0,TF.Yot),[2]}}))}))()},i.xut=function(){this._ut.Jl(),this._ut=new pa,this.mut=this.Rct(this.mut,this.vut,this._ut.M_).catch(this.yut)},i.Cct=function(){this._ut.Jl()},i.Rct=function(t,n,i){var r=this;return Mo((function(){var e,u;return Uo(this,(function(s){switch(s.label){case 0:return[4,$.all([t,n])];case 1:s.sent(),ba(i),s.label=2;case 2:return(u=null==(e=r.but)?void 0:e.JM)?[4,r.xct(u,i)]:[3,4];case 3:return s.sent()?[3,2]:[3,4];case 4:return[2]}}))}))()},i.xct=function(t,n){var i=this;return Mo((function(){var r,e,u;return Uo(this,(function(s){switch(s.label){case 0:ba(n),e=i.but,s.label=1;case 1:return i.Xit.Zit.Iw!==ZM.wB||void 0!==(null==(r=i.xrt(t))?void 0:r.Bit)?[3,4]:[4,Ea(i.Dct.xht,n)];case 2:return s.sent(),[4,i.Nct()];case 3:return s.sent(),[3,1];case 4:return ba(n),[4,i.Nct()];case 5:s.sent(),ba(n),s.label=6;case 6:return e.Bct()?[3,9]:[4,e.eg(SF.Zot,n)];case 7:return s.sent(),[4,i.Nct()];case 8:return s.sent(),[3,6];case 9:return ba(n),[4,i.Nct()];case 10:return s.sent(),ba(n),(u=i.xrt(t))?i.Lct(u)?[4,i.Oct(u,n)]:[3,12]:(i.EY(),[2,!1]);case 11:return s.sent(),[3,14];case 12:return[4,i.Mct(u,n)];case 13:s.sent(),s.label=14;case 14:return[2,!0]}}))}))()},i.Lct=function(t){var n,i,r,e,u,s=null!=(u=null==(n=this.cut)?void 0:n.seamlessSwitchStrategy)?u:DS.XT;if(s===DS.ZT)return!0;if(s===DS.JT)return!1;var o=this.but,c=null==o?void 0:o.JM,a=null==o?void 0:o.kut,h=IF(t,this.kct(t),c,a,this.Ect),f=this.Eut(t,h,c,a,!1);if(s===DS.CLEAR_ONLY&&((null==(i=this.but)?void 0:i.Fct)||f)||s===DS.SAME_DRM_ONLY&&!((null==(r=this.but)?void 0:r.Fct)&&f||!(null==(e=this.but)?void 0:e.Fct)&&!f))return!1;var v=this.Iut(h,f);return this.Put(v)},i.Uct=function(){return!1},i.Hct=function(t){for(var n=this.Vct(),i=0;i<n.length;i++){var r=n[i];r!==t&&(r.bw=Yp.Th)}},i.Dut=function(){if(void 0!==this.Wct){if(this.Wct.Ew){var t=jc(this.ht.Kv,(function(t){return t.Rt}));void 0!==t&&this.Wct.gs===t.gs||(this.Wct.bw=Yp.Th)}}else this.qct()},i.qct=function(){if(!this.Vct().length){var t=jc(this.ht.Kv,(function(t){return t.Rt}));if(void 0!==t)for(var n=this.nt.Kv.filter((function(t){return t.Ew})),i=0;i<n.length;i++){var r=n[i];if(r.gs===t.gs)return r.bw=Yp.Qn,void(this.Wct=r)}}},i.Vct=function(){return this.nt.Kv.filter((function(t){return t.bw===Yp.Qn&&(t.Lt===gk.fI||t.Lt===gk.Ay)}))},i.zct=function(t){if(t&&this.Wct){var n=function(t,n){if(""!==t.gs)return n.filter((function(n){return n.gs===t.gs}))[0]}(this.Wct,t.nt.Kv);n&&(n.bw=Yp.Qn)}},i.Oct=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c,a,h,f,v,d,l;return Uo(this,(function(_){switch(_.label){case 0:u=i.but,s=i.qut,o=i.But,_.label=1;case 1:return _.trys.push([1,16,,22]),ba(n),c=u.JM,a=u.kut,h=i.kct(t),f=IF(t,h,c,a,i.Ect),v=i.Eut(t,f,c,a,!1),f.forEach((function(t){return t.Rt=!0})),d=i.Iut(f,v),[4,u.Tut()];case 2:return _.sent(),i.vY(),ba(n),s&&s.JM===t?i.Put(d)?[4,i.Nut(d)]:[3,4]:[3,5];case 3:_.sent(),_.label=4;case 4:return i.But=d,[3,11];case 5:return s?[4,s.bn(!0)]:[3,7];case 6:_.sent(),_.label=7;case 7:return i.Put(d)?[4,i.Nut(d)]:[3,9];case 8:_.sent(),_.label=9;case 9:return i.But=d,[4,i.aut(t,h,f,v)];case 10:s=_.sent(),i.qut=s,i.bct(s),i.Xct.$v=s.nt,_.label=11;case 11:return[4,s.Out()];case 12:_.sent(),ba(n),_.label=13;case 13:return i.Fut<t.Tn?[4,i.KO.eg($l.Lu,n)]:[3,15];case 14:return _.sent(),[3,13];case 15:return ba(n),i.Ict(s),[3,22];case 16:return Aa(l=_.sent())?s?[4,s.Tut()]:[3,18]:[3,21];case 17:_.sent(),_.label=18;case 18:return o&&i.But!==o?i.Put(o)?[4,i.Nut(o)]:[3,20]:[3,21];case 19:_.sent(),_.label=20;case 20:i.But=o,_.label=21;case 21:throw l;case 22:return(null==(r=i.cut)||null==(e=r.dash)?void 0:e.forceSeekToSynchronize)?[4,i.Gct(t,n)]:[3,24];case 23:_.sent(),_.label=24;case 24:return[2]}}))}))()},i.Gct=function(t,n){var i=this;return Mo((function(){var r,e;return Uo(this,(function(u){switch(u.label){case 0:return r=Date.now()/1e3,void 0!==i.Qct?[3,1]:(i.Qct=r,[3,5]);case 1:if(!(r-i.Qct>900))return[3,5];i.Qct=r,i.Mut(),e=l.max(i.Fut,t.Tn),u.label=2;case 2:return u.trys.push([2,,4,5]),[4,i.Hut(e,!1,!0,n)];case 3:return u.sent(),[3,5];case 4:return i.Vut(),[7];case 5:return[2]}}))}))()},i.Mct=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c,a,h,f;return Uo(this,(function(v){switch(v.label){case 0:return ba(n),[4,i.but.Tut()];case 1:return v.sent(),i.vY(),[4,i.Kct(t.Tn)];case 2:v.sent(),ba(n),i.EY(),v.label=3;case 3:return!i.KO.Ic&&i.Fut<t.Tn?[4,i.KO.eg([$l.Lu,$l.Pf],n)]:[3,5];case 4:return v.sent(),[3,3];case 5:return ba(n),r=i.but.JM,e=i.but.kut,u=i.kct(t),s=IF(t,u,r,e,i.Ect),o=i.Eut(t,s,r,e,!0),s.forEach((function(t){return t.Rt=!0})),c=i.Iut(s,o),i.but?(i.jct.pn(Gw.oa,i.Yct),[4,i.but.bn()]):[3,7];case 6:v.sent(),i.jct.wn(Gw.oa,i.Yct),i.but=void 0,v.label=7;case 7:return i.qut?[4,i.qut.bn()]:[3,9];case 8:v.sent(),i.qut=void 0,v.label=9;case 9:return i.Mut(),i.n1(),a=l.max(i.Fut,t.Tn),[4,i.Uut()];case 10:return v.sent(),[4,i.yZ(c)];case 11:return v.sent(),i.But=c,[4,i.aut(t,u,s,o)];case 12:h=v.sent(),i.Ict(h),v.label=13;case 13:return v.trys.push([13,,16,17]),f=i.Hut(a,!1,!0,n),[4,h.Out()];case 14:return v.sent(),[4,Ra((function(t){return $.race([f,h.eg([SF.Zot],t)])}),n)];case 15:return v.sent(),[3,17];case 16:return i.l1(),i.Vut(),[7];case 17:return[2]}}))}))()},i.Nct=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return(n=t.qut)?n.JM.Wit?[4,n.bn(!0)]:[3,2]:[2];case 1:i.sent(),t.qut=void 0,i.label=2;case 2:return[2]}}))}))()},i.kct=function(t){for(var i=[],r=[],e=0,u=t.Ert;e<u.length;e++){var s=u[e];if(s.Iw===py.yy||s.Iw===py.vl)if(0===s.sit.length)this.To(new LF("No supported representation found in the AdaptationSet with mimetype : "+s.Iw));else if(s.Iw===py.yy){var o;(o=i).push.apply(o,_r(s.cit))}else{var c;(c=r).push.apply(c,_r(s.cit))}}var a=[];return i.length>0&&a.push(n.Zct(py.yy,i)),r.length>0&&a.push(n.Zct(py.vl,r)),a},i.Iut=function(t,n){var i,r,e,u,s,o,c,a,h,f,v=this,d=t.map((function(t){return FF.wat(null!=(h=t.iot)?h:t.sit,KS(t.rot,v.Ect))})).map((function(t){return{rM:t.rM}})),l=null==(i=this.cut)||null==(r=i.dash)?void 0:r.desiredTimescale,_=(null==(e=this.cut)?void 0:e.seamlessSwitchStrategy)!==DS.JT&&(null==(u=this.cut)?void 0:u.seamlessSwitchStrategy)!==DS.CLEAR_ONLY&&(null==(s=this.cut)?void 0:s.seamlessSwitchStrategy)!==DS.SAME_DRM_ONLY&&(null!=(f=null==(o=this.cut)||null==(c=o.dash)?void 0:c.needsTimescaleShifting)?f:tr.Zs.bY),g=null==(a=this.cut)?void 0:a.useManagedMediaSource;return{Iw:Gk.wB,xZ:d,hM:cH(n),h0:null==n?void 0:n.h0,bY:_,TY:l,VZ:g}},i.Eut=function(t,i,r,e,u){var s,o,c,a=this.cut.contentProtection,h=n.Jct(i,a);if(void 0!==h)return h;var f=null!=(c=null==(s=this.cut)?void 0:s.seamlessSwitchStrategy)?c:DS.XT;if(f!==DS.JT&&f!==DS.CLEAR_ONLY&&f!==DS.SAME_DRM_ONLY){var v=null==(o=this.but)?void 0:o.Fct;if(!u&&void 0!==v){var d=!v.h0;if(f===DS.XT&&d&&!this.Uct())return;return v}var l=!u&&f===DS.XT;if(void 0!==(h=this.$ct(t,a,r,e,l)))return h.h0=!0,h}},i.$ct=function(t,i,r,e,u){for(var s=t,o=!1;;)if(void 0!==(s=o?this.Nrt(s):this.xrt(s))){var c=IF(s,this.kct(s),r,e,this.Ect),a=n.Jct(c,i);if(u){var h=this.Iut(c,a);if(!this.Put(h))return}if(void 0!==a)return a}else{if(o)return;o=!0,s=t}},i.jl=function(){this.Dc||(this.$ut=!0,this.P0||(this.tlt(new ka),this.elt()),this.ilt())},i.dl=function(){this.slt||(this.slt=new kf),this.nlt();var t=this.slt.jf;return Da(t),t},i.nlt=function(){if(this.$ut=!1,this.H0=!0,this.sct(),this.Ic){var t=this.Qut;t.U>0&&this.gc(t.Tn(0))}this.P0||this.W0().then(this.rlt,this.tlt),this.lut(),this.ilt()},i.n1=function(){this.P0||(this.$ut=this.Dc,this.P0=!0,this.elt())},i.l1=function(){this.P0&&(this.P0=!1,this.$ut||this.W0().then(this.rlt,this.tlt),this.lut(),this.ilt())},i.ilt=function(){var t=this.CB,n=this.Dc;t!==n&&(this.CB=n,n?this.To(new yE(this.Wu)):this.To(new mE(this.Wu)))},i.gc=function(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=TF.jot),this.Pct=!0,this._ut.Jl(),this.J0.Jl(),this.Yl=!0,this.S0=t,this.ict(this.ect),this.Uc(new bE(this.Wu)),this.J0=new pa,this.$0=this.t1(t,this.mut,this.$0,this.vut,this.J0.M_,n,i).catch(this.yut),this.$0},i.hlt=function(){this.J0.Jl()},i.t1=function(t,n,i,r,e,u,s,o){void 0===u&&(u=!1),void 0===s&&(s=TF.jot),void 0===o&&(o=!1);var c=this;return Mo((function(){var a,h,f,v,d,l,_,g,w,y,m,p,k,A,b,T,S;return Uo(this,(function(E){switch(E.label){case 0:0,E.label=1;case 1:return E.trys.push([1,30,,31]),[4,$.all([n,i,r])];case 2:return E.sent(),ba(e),[4,Ea(c.Aut.jf,e)];case 3:return E.sent(),f=c.Qut.vF(t),c.S0=f,v=o||(null==(a=c.cut)||null==(h=a.dash)?void 0:h.forceHardSwitchWhenSeekingBackwards)&&f<=c.Wu,d=c.olt(f),l=c.but,v||!l||!l.kl.br(f)&&s!==TF.Yot&&l.JM!==d?[3,8]:!(_=c.qut)||_.ult?[3,7]:[4,_.Tut()];case 4:return E.sent(),c.vY(),g=c.Iut(l.Sut,l.Fct),c.Put(g)?[4,c.Nut(g)]:[3,6];case 5:E.sent(),E.label=6;case 6:c.But=g,E.label=7;case 7:return[3,27];case 8:return d?(w=c.qut,c.n1(),l?[4,l.Tut()]:[3,10]):[3,27];case 9:E.sent(),E.label=10;case 10:return!w||w.JM!==d||v?[3,13]:(y=c.Iut(w.Sut,w.Fct),c.vY(),c.Put(y)?[4,c.Nut(y)]:[3,12]);case 11:E.sent(),E.label=12;case 12:return c.But=y,[3,25];case 13:return w?[4,w.bn(!0)]:[3,15];case 14:E.sent(),E.label=15;case 15:return m=c.kct(d),p=null==l?void 0:l.JM,k=null==l?void 0:l.kut,A=IF(d,m,p,k,c.Ect),b=c.Eut(d,A,p,k,!1),A.forEach((function(t){return t.Rt=!0})),T=c.Iut(A,b),!c.Lct(d)||v?[3,18]:(c.vY(),c.Put(T)?[4,c.Nut(T)]:[3,17]);case 16:E.sent(),E.label=17;case 17:return[3,23];case 18:return b=c.Eut(d,A,p,k,!0),T=c.Iut(A,b),l?(c.jct.pn(Gw.oa,c.Yct),[4,l.bn()]):[3,20];case 19:E.sent(),c.jct.wn(Gw.oa,c.Yct),c.but=void 0,E.label=20;case 20:return[4,c.Uut()];case 21:return E.sent(),[4,c.yZ(T)];case 22:E.sent(),E.label=23;case 23:return c.But=T,[4,c.aut(d,m,A,b)];case 24:w=E.sent(),c.qut=w,c.Xct.$v=w.nt,c.bct(w),E.label=25;case 25:return[4,w.Out(yF._ot)];case 26:return E.sent(),c.Ict(w),[3,27];case 27:return S=c.Hut(f,u,!1,e),c.S0=void 0,[4,c.but.Out(yF._ot)];case 28:return E.sent(),ba(e),c.xut(),[4,S];case 29:return E.sent(),ba(e),c.l1(),c.Yl=!1,c.Lc(new TE(c.Wu)),[3,31];case 30:return Aa(E.sent())?[2]:[3,31];case 31:return[2]}}))}))()},i.Hut=function(t,n,i,r){var e=this;return Mo((function(){var u,s,o,c,a,h;return Uo(this,(function(f){switch(f.label){case 0:u=!0,s=t,f.label=1;case 1:if((a=e.hct).U>0&&(h=a.vF(t),s!==h&&(a.br(s)&&e.Xit.Zit.Iw===ZM.wB||(s=h,u=!0))),u)u=!1,o&&Da(o),null==c||c.Jl(),(c=new pa).U_(r),o=e.clt(s,n,i,c.M_);else if(!e.act&&!e.Bc)return[3,3];return[4,Ra((function(t){return $.race([o,e.eg([$l.wm,$l.Nf],t),e.Xit.Zit.eg(Gx.Uit,t)])}),r)];case 2:return f.sent(),[3,1];case 3:return[2]}}))}))()},i.Mut=function(){void 0===this.zut&&(this.zut=this.Fut,this.KO.pn($l.If,this.Uc),this.KO.pn($l.Tf,this.Lc))},i.Vut=function(){if(void 0!==this.zut){var t=this.Fut;this.zut=void 0,this.KO.wn($l.If,this.Uc),this.KO.wn($l.Tf,this.Lc),this.Fut!==t&&this.SM()}},i.llt=function(t){this.Ho=this.Ho.Hl(t)},i.olt=function(t){var n=this.Xit.Zit,i=n.Sit;if(tr.Zs.a9&&(i=i.filter((function(t){return t.ct>=.2}))),0!==i.length){var r=i[0];if(t<=r.Tn)return r;for(var e=0;e<i.length;e++){var u=i[e];if(u.Pn>t)return u}return n.Iw!==ZM.wB?i[i.length-1]:void 0}},i.Nrt=function(t){var n=t.Drt;if(tr.Zs.a9)for(;n&&n.ct<.2;)n=n.Drt;return n},i.xrt=function(t){var n=t.Crt;if(tr.Zs.a9)for(;n&&n.ct<.2;)n=n.Crt;return n},i.ba=function(t,n,i){var r=this;return Mo((function(){var e,u;return Uo(this,(function(s){switch(s.label){case 0:return r.dlt(),!r.cut||hE(r.cut)?[3,2]:[4,r.ir()];case 1:s.sent(),s.label=2;case 2:return!t||hE(t)?[2]:(r.wP=new pa,i&&r.wP.U_(i),r.cut=t,r.flt=n,r.Ect=t.abr,r._lt=t.ignoreEmbeddedTextTrackTypes,e=new VF(r.fP,Boolean(r.cut.useCredentials),r.pat),u=GF(e,r.Sat),r._ht(!0),r.Dct=new cF({Pw:tr.Rh(r.cut.src),yht:r.cut.liveOffset,kht:r.cut.timeServer,oP:r.cut.useCredentials},r.glt(r.Ect),r.fP,u,r.cut.dash),r.Xit=r.Dct.Ar,r.Xit.Zit.wn($l.Ef,r.vlt),r.Xit.Zit.wn($l.lm,r.wlt),r.Xit.Zit.wn(UU.Vrt,r.plt),r.Xit.Zit.wn(Gx.Uit,r.lut),[4,r.ylt.On(r.Xit.Zit)]);case 3:return s.sent(),[4,r.Alt.On(r.Xit.Zit)];case 4:return s.sent(),ia(r._lt,Gy.EMSG)?[3,6]:(r.blt=new mH(r.lP),r.xu.MO(r.blt.Z),[4,r.blt.On(r.Xit.Zit)]);case 5:s.sent(),s.label=6;case 6:return r.sct(),[2]}}))}))()},i.Tlt=function(){var t=this;return Mo((function(){var n,i,r;return Uo(this,(function(e){switch(e.label){case 0:return n=t.Xit.Zit.Dg,t._ht(n),n?(t.pct(),[3,3]):[3,1];case 1:return[4,$.all([null==(i=t.but)?void 0:i.Tut(yF.Rot),null==(r=t.qut)?void 0:r.Tut(yF.Rot)].filter(Cr))];case 2:e.sent(),t.Cct(),t.hlt(),t.gut.Jl(),e.label=3;case 3:return[2]}}))}))()},i._ht=function(t){this.fht!==t&&(this.fht=t,this.To(t?new YF:new jF))},i.sct=function(){return this.Xit?(this.Slt=this.klt(this.Slt,this.wP.M_),this.Slt.catch(this.yut)):$.resolve()},i.klt=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return t?[4,t]:[3,2];case 1:e.sent(),ba(n),e.label=2;case 2:return e.trys.push([2,7,,8]),i.Mg===GE.XT||i.H0?[4,i.Elt(n)]:[3,4];case 3:return e.sent(),[3,6];case 4:return i.Mg!==GE.Ty?[3,6]:[4,i.Ilt(n)];case 5:return e.sent(),[3,6];case 6:return[3,8];case 7:throw Ta(r=e.sent()),i.OM(new Dl(Rl.MANIFEST_LOAD_ERROR,r.message,r)),r;case 8:return[2]}}))}))()},i.Elt=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return[4,n.Ilt(t)];case 1:r.sent(),n.Plt||(n.Plt=!0,n.Aut.U_(n.On(n.flt,t))),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,n.Aut.jf];case 3:return r.sent(),[3,5];case 4:return Ta(i=r.sent()),n.OM(new Dl(Rl.MEDIA_DECODE_ERROR,i.message,i)),[3,5];case 5:return[2]}}))}))()},i.Ilt=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,Ea(n.Dct.q,t)];case 1:return i.sent(),[2]}}))}))()},i.Ict=function(t){var i=this.but;t!==i&&(this.but&&this.Act(this.but),this.qut&&this.Tct(this.qut),i&&this.ict(this.ect),this.but=t,this.qut=i,this.fct(this.but),this.qut&&this.bct(this.qut),this.$T.$v=t.ht,this.eS.$v=t.rt,this.zct(t),this.jct.pn(Gw.oa,this.Yct),n.Rlt(this.jct),this.jct.wn(Gw.oa,this.Yct),this.jct.$v=t.nt,this.Xct.$v=void 0,this.qct())},i.be=function(){this.oF=!0},i.ke=function(){this.oF=!1},i.OM=function(t){this.ZO||(Da(this.ir()),this.ZO=Ey(t),this.Vl=t,this.To(new DT(t)))},i.dlt=function(){this.ZO=void 0,this.Vl=void 0},i.ir=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.$u=1,t.wP.Jl(),t.hlt(),t.Cct(),t.gut.Jl(),t.Aut.Jl(),t.Pct=!1,t.jl(),t.H0=!1,t.$T.$v=void 0,t.eS.$v=void 0,t.jct.$v=void 0,t.Xct.$v=void 0,t.Slt?[4,t.Slt.catch(Vr)]:[3,2];case 1:n.sent(),t.Slt=void 0,n.label=2;case 2:return[4,$.all([t.mut,t.$0,t.vut,t.Aut.jf.catch(Vr)])];case 3:return n.sent(),t.but?[4,t.but.bn()]:[3,5];case 4:n.sent(),t.but=void 0,n.label=5;case 5:return t.qut?[4,t.qut.bn()]:[3,7];case 6:n.sent(),t.qut=void 0,n.label=7;case 7:return[4,t.Uut()];case 8:return n.sent(),t.But=void 0,t.Wct=void 0,t.wM.ir(),[4,t.ylt.ir()];case 9:return n.sent(),[4,t.Alt.ir()];case 10:return n.sent(),void 0===t.blt?[3,12]:(t.xu.HO(t.blt.Z),[4,t.blt.bn()]);case 11:n.sent(),t.blt=void 0,n.label=12;case 12:return t.lP.ir(),t.Xit?(t.Xit.Zit.pn($l.Ef,t.vlt),t.Xit.Zit.pn($l.lm,t.wlt),t.Xit.Zit.pn(UU.Vrt,t.plt),[4,t.Dct.bn()]):[3,14];case 13:n.sent(),t.Xit=void 0,n.label=14;case 14:return t.nct=!1,t.Clt=NaN,t.xlt=0,t.Dlt=0,t.zut=void 0,t.P0=!1,t.Ho=ZE.Nl(),t.CB=!0,t.S0=void 0,t.Nlt=!1,t.Yl=!1,t.Plt=!1,t.Aut=new kf,t.Yut=0,t.Zut=0,t.Jut=0,t.cut=void 0,t.flt=void 0,t._lt=[],t.Qct=void 0,[2]}}))}))()},i.bn=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.Lo(),t.dlt(),[4,t.ir()];case 1:return n.sent(),t.Lo(),t.$T.bn(),t.eS.bn(),t.but?[4,t.but.bn()]:[3,3];case 2:n.sent(),n.label=3;case 3:return t.qut?(t.Tct(t.qut),[4,t.qut.bn()]):[3,5];case 4:n.sent(),n.label=5;case 5:return t.jct.bn(),t.Xct.bn(),t.xu.bn(),t.wM.bn(),t.Blt.Ou(),[4,t.ylt.bn()];case 6:return n.sent(),[4,t.Alt.bn()];case 7:return n.sent(),t.lP.bn(),t.KO.pn($l.Nf,t.Y1),t.KO.pn(xa.Yw,t.g0),t.KO.pn($l.Pf,t.Q1),t.KO.pn($l.If,t.Uc),t.KO.pn($l.Tf,t.Lc),t.KO.pn($l.vm,t.mct),t.KO.pn($l.Lu,t.SM),t.KO.pn([$l.Ph,$l.Ch],t.Llt),t.KO.pn(AH,t.Os),[2]}}))}))()},i.ev=function(){return this.KO.wa},i.fv=function(){return!1},i._v=function(){},i.vv=function(){},i.wv=function(){},i.mv=function(){this.fut(!0)},n.Zct=function(t,n){var i=n.some((function(t){return t.nit.some((function(t){return"main"===t.kT}))})),r=n.map((function(t,n){var r=function(t,n){var i=t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.tet})).map((function(t){return t.kT})).filter(Cr);if(n||ia(i,"main"))return ia(i,"caption")?"captions":ia(i,"subtitle")?"subtitles":ia(i,"dub")?"translation":"main";if(ia(i,"sign"))return"sign";if(ia(i,"description"))return"descriptions";if(ia(i,"commentary"))return"commentary";return"alternative"}(t.Get.concat(t.nit),!i&&0===n),e=t.sit.map((function(t){return t.$it}));return new kF(t,e,r)}));return new hF(t,r)},n.Jct=function(t,n){if(t.length){for(var i,r=0;r<t.length;r++){i=iH(i,sH(t[r].qit,n))}return(null==n?void 0:n.preferredKeySystems)&&i&&(i.Fat=function(t,n){var i=function(t){var i=n.indexOf(t.ap.gC);return i>=0?i:n.length};return Fc(t,(function(t,n){return i(t)-i(n)}))}(i.Fat,n.preferredKeySystems)),i}},n.Rlt=function(t){for(var n=0,i=t.Kv;n<i.length;n++){i[n].bw=Yp.Th}},hr(n,[{key:"ht",get:function(){return this.$T}},{key:"QO",get:function(){var t=this.Fut,n=this.Wut,i=n.TF(t);if(-1!==i)return{Tn:n.Tn(i),Pn:n.Pn(i)}}},{key:"Wut",get:function(){var t,n,i,r,e=null!=(i=null==(t=this.but)?void 0:t.bl)?i:ZE.Nl(),u=null!=(r=null==(n=this.qut)?void 0:n.bl)?r:ZE.Nl();return e.Hl(u)}},{key:"bl",get:function(){return this.Wut.ws()}},{key:"qu",get:function(){var t,n=null==(t=this.Xit)?void 0:t.Zit,i=null==n?void 0:n.git;if(n&&i){var r=i.getTime(),e=1e3*this.Wu;return new Date(e+r)}},set:function(t){var n,i=null==(n=this.Xit)?void 0:n.Zit,r=null==i?void 0:i.git;if(t&&i&&r){var e=r.getTime()/1e3,u=t.getTime()/1e3;this.gc(u-e)}}},{key:"Fut",get:function(){return void 0!==this.S0?this.S0:void 0!==this.zut?this.zut:this.KO.Wu}},{key:"Wu",get:function(){return this.Fut},set:function(t){this.gc(t,t===1/0)}},{key:"ct",get:function(){var t=NaN;return this.but&&this.but.Xut?t=this.but.Pn:this.Xit&&void 0!==this.Xit.Zit.Iw&&(t=this.Xit.Zit.yit?this.Xit.Zit.yit.Xtt():1/0),t}},{key:"Pn",get:function(){return this.ct}},{key:"Ic",get:function(){return!(!this.but||!this.but.Xut)&&(this.Fc?this.Fut===this.but.Pn:this.KO.Ic)}},{key:"lt",get:function(){return this.ZO}},{key:"Ec",get:function(){return this.Vl}},{key:"Tg",get:function(){}},{key:"Pg",get:function(){return xo({},this.jut,{hS:BT.lC.wO(),oS:this.Yut,aS:{amountOfBufferedAudioSegments:this.Zut,amountOfBufferedVideoSegments:this.Jut}})}},{key:"Dc",get:function(){return this.P0?this.$ut:this.but&&this.but.Xut?this.tct:this.$ut}},{key:"wl",get:function(){var t=this.Ho;return this.but&&(t=t.Hl(this.ect)),t.yF(.1).ws()}},{key:"Mg",get:function(){return this.$O},set:function(t){this.$O=t,this.sct()}},{key:"Nc",get:function(){var t=this.KO.Nc;return this.nct&&(t=l.max(jk.Jn,t)),t}},{key:"Qut",get:function(){return this.rct(!1)}},{key:"hct",get:function(){return this.rct(!0)}},{key:"kl",get:function(){return this.Qut.ws()}},{key:"Fc",get:function(){return this.Yl||this.act}},{key:"eM",get:function(){}},{key:"uct",get:function(){var t,n;return null!=(n=null==(t=this.Xit)?void 0:t.Zit.Iw)?n:ZM.vB}},{key:"nt",get:function(){return this.xu}},{key:"rt",get:function(){return this.eS}},{key:"Xg",get:function(){var t;return this.cct||(null==(t=this.lct())?void 0:t.Ci)||0}},{key:"Kg",get:function(){var t;return this.dct||(null==(t=this.lct())?void 0:t.Ti)||0}},{key:"Jg",get:function(){return this.iM}},{key:"tv",get:function(){return!1},set:function(t){}},{key:"sM",get:function(){return this.nM}},{key:"Dg",get:function(){return this.fht}},{key:"Eg",get:function(){return!1}}]),n}(Ua),TH=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Ko=n,r}return vr(n,t),n.prototype.Mlt=function(){this.To(new Kk(this.Wu,this.Nc))},hr(n,[{key:"Nc",get:function(){return this.Ko.Nc}}]),n}(uA);var SH,EH=function(){function t(){}var n=t.prototype;return n.Ult=function(t,n,i){return $.resolve()},n.Hlt=function(t,n,i,r){var e=[];if(r){var u={xE:n.PS,DE:n.RS,NE:i.met.NE};r.Iw===Gy.TTML?e=Jp(t,r,u,i.aV):r.Iw===Gy.WEBVTT&&(e=tp(t,u).L)}return e},n.ir=function(){},t}();!function(t){t.Gp="vttc",t.Vlt="vsid",t.Wlt="iden",t.qlt="ctim",t.zlt="sttg",t.Xlt="payl",t.Glt="vtte",t.Qlt="vtta"}(SH||(SH={}));var IH=function(){function t(){}return t.Klt=function(n){return Boolean(t.jlt[n])},t.uA=function(n){for(var i=[],r=Bp.Qy(new Cp(n,new mf)),e=0;e<r.length;e++){var u=r[e];t.Klt(u.Iw)&&i.push(t.jlt[u.Iw](u.Ny))}return i},t.Ylt=function(n){var i=Bp.Qy(n),r=Mp(i,SH.Vlt),e=Mp(i,SH.Wlt),u=Mp(i,SH.qlt),s=Mp(i,SH.zlt),o=Mp(i,SH.Xlt);return{Iw:SH.Gp,Zlt:r?t.Jlt(r):void 0,$lt:e?t.tdt(e):void 0,edt:u?t.idt(u):void 0,sdt:s?t.ndt(s):void 0,rdt:o?t.hdt(o):void 0}},t.Jlt=function(t){return{Iw:SH.Vlt,odt:t.Fy()}},t.tdt=function(t){return{Iw:SH.Wlt,$lt:t.qy()}},t.idt=function(t){return{Iw:SH.qlt,adt:t.qy()}},t.ndt=function(t){return{Iw:SH.zlt,udt:t.qy()}},t.hdt=function(t){return{Iw:SH.Xlt,cdt:t.qy()}},t.ldt=function(t){return{Iw:SH.Glt}},t.ddt=function(t){return{Iw:SH.Qlt,fdt:t.qy()}},t}();!function(){var t;IH.jlt=(EA(t={},SH.Gp,IH.Ylt),EA(t,SH.Glt,IH.ldt),EA(t,SH.Qlt,IH.ddt),t)}();var RH=function(){function t(){this.gdt=NaN}var n=t.prototype;return n.Ult=function(t,n,i){var r=new DataView(t._dt),e=Fp.uA(r),u=jc(e,(function(t){return t.Iw===Hm.pp}));return u&&(this.gdt=u.Z[0].NA.eA.IA),$.resolve()},n.Hlt=function(t,n,i){if(w(this.gdt))return[];var r=vf(t),e=Fp.uA(r),u=Pp(e,Hm.Yp),s=Pp(e,Hm.oy);if(!u||0===u.Z.length||!s)return[];var o=function(t,n,i){for(var r=t.Z[0],e=r.vT?r.vT.vT.toNumber()/i:n.PS,u=[],s=0,o=r.gT;s<o.length;s++){var c,a=o[s];(c=u).push.apply(c,_r(a.bT))}return{vdt:e,bT:u}}(u,n,this.gdt),c=i.met.NE;return function(t,n,i,r){for(var e=IH.uA(vf(n.Ny)),u=t.bT,s=t.vdt+r,o=[],c=0,a=0;a<u.length;a++){var h,f=u[a],v=e[a],d=(null!=(h=f.ct)?h:0)/i,l=void 0;v.Iw===SH.Gp&&(l=NH(v,c,d,s)),l&&o.push(l),c+=d}return o}(o,s,this.gdt,c)},n.ir=function(){this.gdt=NaN},t}();function NH(t,n,i,r){if(t.rdt){var e=t.edt?function(t){return vp(t.adt,new mf(0))}(t.edt):n,u=r+e,s=u+i,o=t.rdt.cdt;return new lm(u,s,o,!1)}}var CH=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).bdt=Xo(),n}vr(n,t);var i=n.prototype;return i.On=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.ir()];case 1:return i.sent(),n.wdt=t,n.kct(t),[2]}}))}))()},i.kct=function(t){for(var n=0,i=t.cit;n<i.length;n++){var r=i[n],e=this.mdt(r);this.pdt(e,r),e.Nc=Wy.LOADED,this.tt(e)}},i.it=function(n){this.ydt(n),t.prototype.it.call(this,n)},i.NI=function(t){var n=this.Adt(t);if(n&&this.Xht!==n){this.Xht=n;for(var i=0,r=this.Z.Kv;i<r.length;i++){var e=r[i];e!==n&&(e.bw=Yp.Th)}}},i.BI=function(t){var n=this.Adt(t);n&&this.Xht===n&&(this.Xht=void 0)},i.Adt=function(t){return jc(this.Z.Kv,(function(n){return t.cw===n.cw}))},i.pdt=function(t,n){this.bdt.set(t.cw,n)},i.Tdt=function(t){return this.bdt.get(t.cw)},i.ydt=function(t){this.bdt.delete(t.cw)},i.Sdt=function(){if(this.Xht){var t=this.Tdt(this.Xht);if(t)return n.kdt(t)}},n.kdt=function(t){return t.sit&&t.sit.length>0?t.sit[0]:void 0},hr(n,[{key:"Xht",get:function(){return this.Ght},set:function(t){this.Ght=t}},{key:"Rt",get:function(){for(var t=0,n=this.Z.Kv;t<n.length;t++){if(n[t].bw!==Yp.Th)return!0}return!1}}]),n}(xk);function DH(t,n){var i=n.RF((function(n,i){return t.EF(n,i,!1,!1)}));return t.Hl(i)}function PH(t,n){var i=n.Cn(t.wF()).RF((function(n,i){return t.br(i)}));return t.Hl(i)}var OH,BH=function(t){function n(n,i,r){var e;return(e=t.call(this,"Edt")||this).Tn=n,e.Pn=i,e.$it=r,e}return vr(n,t),n}(ya),LH=function(t){function n(){return t.call(this,"Idt")}return vr(n,t),n}(Va);!function(t){t.Pdt="Rdt",t.Cdt="xdt",t.Ddt="Ndt",t.bU="Bdt"}(OH||(OH={}));var MH=[$l.pm,$l.Am,$l.wm,$l.qw],xH=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).sft=n,s.zit=i,s.Hdt=r,s.Mdt=e,s.m0=u,s.Wdt="Rdt",s.ZO=void 0,s.Kdt=new kf,s.tft=new pa,s.Gdt=new pa,s.Xe=function(t){s.zdt||s.Ydt||!tr.y7&&s.Mdt.nft(t.currentTime)||(s.tft.Jl(),s.tft=new pa,s.ift(s.tft.M_).catch(Sa))},s.Jdt=zr((function(){if(s.Xdt){try{if(s.Mdt.rft(),s.Mdt.hft())return}catch(t){if(!(t instanceof BH))throw t}s.Tn(yF.got)}}),250),s.Zdt(),s}vr(n,t);var i=n.prototype;return i.qdt=function(t){this.Wdt!==t&&(this.Wdt=t,this.To(new LH))},i.Tn=function(t){var n=this;return Mo((function(){var t;return Uo(this,(function(i){switch(i.label){case 0:return n.zdt||n.Xdt?(t=n.eg("Idt"),n.zdt?(n.Gdt.Jl(),n.Gdt=new pa,n.Qdt(n.Gdt.M_)):(n.Kdt.Lf(void 0),n.Kdt=new kf),[4,t]):[2];case 1:return i.sent(),[2]}}))}))()},i.xl=function(t){var n=this;return Mo((function(){return Uo(this,(function(t){switch(t.label){case 0:if(!n.jdt&&!n.Xdt)return[2];0,n.Gdt.Jl(),t.label=1;case 1:return n.zdt||n.Ydt?[3,3]:[4,n.eg("Idt")];case 2:return t.sent(),[3,1];case 3:return[2]}}))}))()},i.ir=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.Ydt?(n.ZO=void 0,n.qdt("Rdt"),[3,3]):[3,1];case 1:return[4,n.xl(t)];case 2:i.sent(),i.label=3;case 3:return n.Mdt.ir(),n.Hdt.ir(),[2]}}))}))()},i.OM=function(t){this.ZO=t,this.qdt("Bdt"),this.To(new DT(t))},i.Zdt=function(){this.m0.wn($l.Lu,this.Jdt),this.m0.wn([$l.If,$l.im],this.Xe),this.Mdt.wn(MH,this.Os),this.zit.wn(Gx.Uit,this.Jdt)},i.$dt=function(){this.m0.pn($l.Lu,this.Jdt),this.m0.pn([$l.If,$l.im],this.Xe),this.Mdt.pn(MH,this.Os),this.zit.pn(Gx.Uit,this.Jdt)},i.Tut=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.$dt(),n.tft.Jl(),[4,n.xl(null!=t?t:yF.xot)];case 1:return i.sent(),n.Mdt.ir(),[2]}}))}))()},i.Out=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.Zdt(),[4,n.Tn(null!=t?t:yF.vot)];case 1:return i.sent(),[2]}}))}))()},i.bn=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.Lo(),t.$dt(),t.tft.Jl(),[4,t.xl(yF.Dot)];case 1:return n.sent(),t.Mdt.bn(),[2]}}))}))()},i.Qdt=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:0,e.label=1;case 1:return e.trys.push([1,4,,5]),ba(t),n.qdt("Ndt"),[4,n.Mdt.eft(t)];case 2:return e.sent(),ba(t),n.qdt("xdt"),[4,Ea(n.Kdt.jf,t)];case 3:return e.sent(),[3,5];case 4:return Aa(i=e.sent())?n.qdt("Rdt"):(r=i instanceof Dl?i:new Dl(Rl.MEDIA_LOAD_ERROR,i.message,i),n.OM(r)),[3,6];case 5:return[3,0];case 6:return[2]}}))}))()},i.ift=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return ba(t),[4,n.xl(yF.Cot)];case 1:return i.sent(),n.Mdt.ir(),ba(t),[4,n.Tn(yF._ot)];case 2:return i.sent(),[2]}}))}))()},hr(n,[{key:"Ldt",get:function(){var t,n;return(null==(t=this.Mdt.Odt)?void 0:t.$it)||(null==(n=this.Mdt.Fdt)?void 0:n.$it)}},{key:"Udt",get:function(){return this.Hdt}},{key:"Vdt",get:function(){return this.Mdt.Vdt},set:function(t){this.Mdt.Vdt=t}},{key:"SI",get:function(){return this.Wdt}},{key:"rot",get:function(){return this.Hdt.Ht.rot}},{key:"lt",get:function(){return this.ZO}},{key:"zdt",get:function(){return"Rdt"===this.Wdt}},{key:"Xdt",get:function(){return"xdt"===this.Wdt}},{key:"jdt",get:function(){return"Ndt"===this.Wdt}},{key:"Ydt",get:function(){return"Bdt"===this.Wdt}}]),n}(Ua),UH=function(){function t(t,n){this.fP=t,this.fft=n}var n=t.prototype;return n.oft=function(t,n,i,r,e){return this.aft(t,n,!1,i,e,r)},n.uft=function(t,n,i,r,e){return this.aft(t,n,!0,i,e,r)},n.aft=function(n,i,r,e,u,s){var o=this;return Mo((function(){var c;return Uo(this,(function(a){switch(a.label){case 0:return ba(s),[4,o.cft(n,r,e,u,s)];case 1:return c=a.sent(),i?[2,t.lft(c)]:[2,o.dft(c)]}}))}))()},n.dft=function(t){return t},n.cft=function(t,n,i,r,e){var u,s=new B_({TI:t.TI,sP:t_.OI,eP:t.iet?{Range:"bytes="+t.iet[0]+"-"+(null!=(u=t.iet[1])?u:"")}:void 0,oP:t.oP,iP:N_.GET,Iw:C_.qI,rP:n?D_.GI:D_.YT,hP:this.fft,kI:i,nP:r,M_:e});return this.fP.pI(s)},t.lft=function(t){return t},t}(),FH=function(){function t(t){this.l6=0,this.vft=0,this.gft=l.exp(l.log(.5)/t)}var n=t.prototype;return n._ft=function(t,n){var i=l.pow(this.gft,t),r=n*(1-i)+i*this.l6;w(r)||(this.l6=r,this.vft+=t)},n.wft=function(){var t=1-l.pow(this.gft,this.vft);return this.l6/t},t}(),HH=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.mft=0,this.Aft=OT,this.pft=new FH(t),this.yft=new FH(n),this.bft=i}var n=t.prototype;return n._ft=function(t,n){var i=8e3*n/t,r=t/1e3;this.mft+=n,this.pft._ft(r,i),this.yft._ft(r,i)},n.wft=function(){return this.rat()?l.min(this.pft.wft(),this.yft.wft()):this.Aft},n.rat=function(){return this.mft>=this.bft},t}(),VH=function(){function t(t,n){this.Eft=n,!n||t!==py.vl&&t!==py.yy?(this.xft=16e3,this.Tft=new HH):t===py.vl?(this.xft=5e3,this.Tft=new HH(.05,1,0)):(this.xft=0,this.Tft=new HH(.005,.1,0))}return t.prototype.Sft=function(t){var n=t.kft,i=this.Eft?t.Ift-t.Pft:t.Ift-t.Rft,r=t.Cft;!r&&n<this.xft||(r?this.Tft._ft(2*i,n):this.Tft._ft(i,n))},hr(t,[{key:"nat",get:function(){return this.Tft.wft()}},{key:"rat",get:function(){return this.Tft.rat()}}]),t}(),XH=["ym","Tm"],zH=function(t){function n(n){var i;(i=t.call(this)||this).Nft=n;for(var r=0,e=i.Nft;r<e.length;r++){e[r].wn(XH,i.Os)}return i}vr(n,t);var i=n.prototype;return i.Dft=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o;return Uo(this,(function(c){switch(c.label){case 0:e=0,u=i.Nft,c.label=1;case 1:if(!(e<u.length))return[3,6];s=u[e],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,s.Dft(t,n)];case 3:return[2,c.sent()];case 4:return Ta(o=c.sent()),r=o,[3,5];case 5:return e++,[3,1];case 6:throw r}}))}))()},i.Bft=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o;return Uo(this,(function(c){switch(c.label){case 0:e=0,u=i.Nft,c.label=1;case 1:if(!(e<u.length))return[3,6];s=u[e],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,s.Bft(t,n)];case 3:return[2,c.sent()];case 4:return Ta(o=c.sent()),r=o,[3,5];case 5:return e++,[3,1];case 6:throw r}}))}))()},i.bn=function(){for(var t=0,n=this.Nft;t<n.length;t++){var i=n[t];i.pn(XH,this.Os),i.bn()}},n}(Ua);var WH=function(){function t(t){this.Dd=t}var n=t.prototype;return n.transform=function(t,n){this.Dd.write(t).catch(Vr),n.enqueue(t)},n.flush=function(){this.Dd.close().catch(Vr)},t}(),GH=function(){function t(t,n,i){this._dt=t,this.Oft=n,this.Mft=i}return t.prototype.Lft=function(){return new qH(c_(this._dt),this.Oft,this.Mft)},t}(),qH=function(){function t(t,n,i){this.Fft=t,this.Oft=n,this.Mft=i}var n=t.prototype;return n.xL=function(t){return a_(this.Fft,t)},n.Iy=function(){var n=Fo(f_(this.Fft),2),i=n[0],r=n[1];return this.Fft=i,new t(r,this.Oft,this.Mft)},n.Uft=function(){var n=Fo(function(t){var n=new Qi,i=n.writable.getWriter(),r=new Qi(new WH(i));return t.pipeTo(r.writable).catch((function(t){i.abort(t).catch(Vr)})),[r.readable,n.readable]}(this.Fft),2),i=n[0],r=n[1];return this.Fft=i,new t(r,this.Oft,this.Mft)},n.Hft=function(t){var n=this;return this.xL(t).then((function(t){return new GH(t,n.Oft,n.Mft)}))},hr(t,[{key:"BW",get:function(){return this.Fft}}]),t}(),YH=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).wnt=n,e}return vr(n,t),n}(ya),jH="Cache lookup failed.",QH=function(t){function n(n){var i;return(i=t.call(this)||this).Sat=n,i}vr(n,t);var i=n.prototype;return i.Dft=function(t,n){var i=this;return Mo((function(){var r,e;return Uo(this,(function(u){switch(u.label){case 0:return ba(n),[4,i.Sat.itt(t.TI.TI,t.TI.iet)];case 1:if(r=u.sent(),ba(n),!r)throw new YH(t,jH);return e=new GH(r.buffer,r.byteLength,r.reference),[2,{wnt:t.wnt,Vft:{Iw:yC.xX,Ny:e},$it:t.$it,TI:t.TI}]}}))}))()},i.Bft=function(t,n){var i=this;return Mo((function(){var r,e;return Uo(this,(function(u){switch(u.label){case 0:return ba(n),[4,i.Sat.itt(t.TI,t.iet)];case 1:if(r=u.sent(),ba(n),!r)throw new YH(t,jH);return e=new GH(r.buffer,r.byteLength,r.reference),[2,{Iw:yC.xX,Ny:e}]}}))}))()},i.bn=function(){this.Lo()},n}(Ua),KH=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n)||this).Wft=i,o.qft=r,o.lT=e,o.MA=u,o.hP=s,o}return vr(n,t),n}(Va),ZH=function(t){function n(n,i,r,e,u){return t.call(this,$l.pm,n,i,r,e,u)}return vr(n,t),n}(KH),JH=function(t,n){this.zft=t,this.Xft=n},$H=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Gft=0,n}vr(n,t);var i=n.prototype;return i.start=function(){},i.transform=function(t,n){this.Gft+=t.byteLength,n.enqueue(t)},i.flush=function(){this.Qft(!1)},i.Jl=function(){this.Qft(!0)},i.Qft=function(t){this.zft(this.Xft,tr.V_(),this.kft,t)},hr(n,[{key:"kft",get:function(){return this.Gft}}]),n}(JH),tV=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Gft=0,n.Kft=!1,n}vr(n,t);var i=n.prototype;return i.start=function(){this.Xft=tr.V_()},i.transform=function(t,n){this.Gft+=t.byteLength,this.Kft||this.jft(t)&&this.Qft(!1),n.enqueue(t)},i.flush=function(){},i.Jl=function(){this.Qft(!0)},i.jft=function(t){var n=this.Yft(t),i=this.Zft(n);return Boolean(jc(i,nV))},i.Yft=function(t){return this.Jft&&void 0!==this.$ft?(this.Jft=fh([this.Jft,t]),new Cp(vf(this.Jft),new mf(this.$ft))):(this.Jft=t,new Cp(vf(t),new mf))},i.Zft=function(t){var n=Bp.Ky(t.Ny,t.By,!0);return n.jy?(this.Jft=void 0,this.$ft=void 0):this.$ft=t.By.Au,n.m},i.Qft=function(t){this.Kft||(this.zft(this.Xft,tr.V_(),this.kft,t),this.Kft=!0)},hr(n,[{key:"kft",get:function(){return this.Gft}}]),n}(JH);function nV(t){return t.Iw===Hm.oy}var iV=function(){function t(t){var n=this;this.h_t=t,this.s_t=new kf,this.Sft=function(t,i,r,e){var u={Rft:n.e_t,Pft:t,Ift:i,kft:r,Cft:e};n.h_t.Sft(u),n.h_t.rat&&BT.lC._O(n.h_t.nat)},this.s_t.jf.catch(Vr),this.e_t=tr.V_()}var n=t.prototype;return n.t_t=function(t){var n=t.GW?this.e_t:tr.V_(),i=this.i_t(n),r=new Qi(i),e=t.BW().pipeTo(r.writable).then((function(){return{Pg:{kft:i.kft}}}),(function(t){throw i.Jl(),t}));return this.s_t.U_(e),r.readable},n.n_t=function(t){var n=this,i=t.GW?this.e_t:tr.V_(),r=t.xL(),e=r.then((function(t){var r=tr.V_();return n.Sft(i,r,t.byteLength,!1),{Pg:{kft:t.byteLength}}}),(function(t){var r=tr.V_();throw n.Sft(i,r,0,!0),t}));return this.s_t.U_(e),r},hr(t,[{key:"r_t",get:function(){return this.s_t.jf}}]),t}(),rV=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),n.prototype.i_t=function(t){return new $H(this.Sft,t)},n}(iV),eV=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),n.prototype.i_t=function(t){return new tV(this.Sft,t)},n}(iV),uV=function(t){function n(n,i,r,e,u,s,o){var c;return(c=t.call(this,$l.Am,n,i,r,e,u)||this).o_t=s,c.oS=o,c}return vr(n,t),n}(KH),sV=function(t){function n(n,i,r){var e;return(e=t.call(this,"Error downloading segment "+jx(i),n)||this).a_t=i.PS,e.u_t=i.RS,e.c_t=r,e}return vr(n,t),n}(ya),oV=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).f_t=n,e.h_t=i,e.Eft=r,e}vr(n,t);var i=n.prototype;return i.l_t=function(){return tr.v7},i.d_t=function(){return this.Eft?new eV(this.h_t):new rV(this.h_t)},i.Dft=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c,a,h,f,v,d,_;return Uo(this,(function(g){switch(g.label){case 0:ba(n),r=t.$it,e=t.TI,u=t.wnt,s=jx(u),o=r.$it?r.$it.cw:-1,c=function(t){return t.sit.reduce((function(t,n){return t.IO<n.IO?t:n}))}(r.qit)===r,a=u.ct*(c?3:1.2),h=1e3*l.max(a,1),i.To(new ZH(e,r.IO,s,o,r.Iw)),g.label=1;case 1:return g.trys.push([1,4,,5]),f=i.d_t(),[4,i.f_t.oft(e,i.l_t(),h,n)];case 2:return v=g.sent(),[4,i.__t(v,i.l_t(),n,f)];case 3:return d=g.sent(),Da(i.g_t(f.r_t,r,e,s,o,v)),[2,{Vft:d,$it:r,wnt:u,TI:e}];case 4:throw Ta(_=g.sent()),new sV(_,u,r);case 5:return[2]}}))}))()},i.Bft=function(t,n){var i=this;return Mo((function(){var r,e;return Uo(this,(function(u){switch(u.label){case 0:return ba(n),r=!1,[4,i.f_t.uft(t,r,1e4,n)];case 1:return e=u.sent(),[4,i.__t(e,r,n)];case 2:return[2,u.sent()]}}))}))()},i.__t=function(t,n,i,r){return Mo((function(){var e,u,s;return Uo(this,(function(o){switch(o.label){case 0:return n?(e=r?r.t_t(t):t.BW(),[2,{Iw:yC.FI,Ny:new qH(e)}]):[3,1];case 1:return r?[4,r.n_t(t)]:[3,3];case 2:return s=o.sent(),[3,5];case 3:return[4,t.xL(i)];case 4:s=o.sent(),o.label=5;case 5:return u=s,[2,{Iw:yC.xX,Ny:new GH(u)}];case 6:return[2]}}))}))()},i.g_t=function(t,n,i,r,e,u){var s=this;return Mo((function(){var o;return Uo(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,t];case 1:return o=c.sent(),s.To(new uV(i,n.IO,r,e,n.Iw,u.SI,o.Pg.kft)),[3,3];case 2:return c.sent(),[3,3];case 3:return[2]}}))}))()},i.bn=function(){this.Lo()},n}(Ua);var cV=function(){function t(){}var n=t.prototype;return n.v_t=function(t,n,i,r,e){var u=new QH(e),s=this.w_t(t,i,r);return new zH([u,s])},n.w_t=function(t,n,i){return new oV(t,n,i)},t}(),aV=.001,hV=function(){function t(t,n,i,r){this.m_t=t,this.m0=n,this.QY=i,this.GF=r}return hr(t,[{key:"bl",get:function(){return this.m_t.bl}},{key:"p_t",get:function(){return this.m_t.p_t}},{key:"hG",get:function(){return this.m_t.hG}},{key:"y_t",get:function(){if(this.QY.Nc<jk.Jn)return!1;if(this.m_t.Pn<=this.A_t&&this.m_t.b_t())return!0;var t=this.m_t.QO;if(!t||0===t.U)return!1;var n=ZE.MF(this.m0.Wu,1/0);return t.Cn(n).bF(this.m_t.hG).LF>=this.GF.sz}},{key:"A_t",get:function(){var t,n=this.m_t.QO;if(n&&n.U>0)t=n.Pn(0);else{t=this.m0.Wu;var i=this.m_t.hG,r=i.TF(t);r>=0&&(t=i.Pn(r))}var e=this.m_t.kl.Tn(0);if(e>t){if(this.m_t.Tn<=t&&this.m_t.Pn>=t&&e>t+aV)throw new BH(t,e);t=e}return t=this.m_t.T_t.vF(t)}}]),t}();var fV=function(){function t(t){this.I_=function(t){for(var n=Vo(),i=0;i<t.length;i++){var r=t[i];n.set(r.o,ZE.Nl())}return n}(t)}var n=t.prototype;return n.k_t=function(){var t=ZE.Nl();return this.I_.forEach((function(n){t=t.Hl(n)})),t},n.E_t=function(t){var n=!1;return this.I_.forEach((function(i){n=n||i.br(t)})),n},n.I_t=function(t,n){var i=this.I_.get(n.o);return!!i&&i.br(t)},n.SF=function(t,n){var i=!1;return this.I_.forEach((function(r){i=i||r.SF(t,n)})),i},n.P_t=function(t,n){var i=this.I_.get(n.o).Hl(t);this.I_.set(n.o,i)},n.R_t=function(t){var n=this;this.I_.forEach((function(i,r){var e=i.Hl(t);n.I_.set(r,e)}))},n.C_t=function(t){var n=this;this.I_.forEach((function(i,r){n.I_.set(r,i.Cn(t))}))},n.ir=function(){var t=this;this.I_.forEach((function(n,i){t.I_.set(i,ZE.Nl())}))},hr(t,[{key:"S_t",get:function(){if(0===this.I_.size)return ZE.Nl();var t=ZE.MF(0,1/0);return this.I_.forEach((function(n){t=t.Cn(n)})),t}}]),t}(),vV=function(){function t(t){this.mtt=[],this.Ht=t,this.D_t=new fV(t.sit),this.oG=new fV(t.sit)}var n=t.prototype;return n.N_t=function(t){for(var n=0,i=this.mtt;n<i.length;n++){var r=i[n];if(r.B_t>t)break;if(r.L_t>t)return r}},n.O_t=function(t){for(var n=0,i=this.mtt;n<i.length;n++){var r=i[n];if(r.M_t>t)break;if(r.F_t>=t)return r}},n.U_t=function(t,n){for(var i=[],r=0,e=this.mtt;r<e.length;r++){var u=e[r];if(u.B_t>t)break;u.L_t>=n&&i.push(u)}return i},n.H_t=function(){return this.mtt},n.V_t=function(t,n){var i=ZE.MF(t.M_t,t.F_t),r=i.wF();this.D_t.C_t(r),this.D_t.P_t(i,n),this.W_t(r);var e=Zc(this.mtt,(function(n){return t.B_t<=n.B_t}));e<0?this.mtt.push(t):this.mtt[e].L_t<=t.L_t?this.mtt.splice(e,1,t):this.mtt.splice(e,0,t)},n.aG=function(t,n){this.oG.P_t(t,n)},n.q_t=function(t){this.oG.R_t(t)},n.C_t=function(t){this.D_t.C_t(t),this.oG.C_t(t);var n=this.D_t.k_t();this.W_t(n)},n.W_t=function(t){this.mtt=this.mtt.filter((function(n){return t.EF(n.M_t,n.F_t)})).map((function(n){return n.Olt&&!t.SF(n.M_t,n.F_t)?function(t,n){return{B_t:t.B_t,L_t:t.L_t,M_t:t.M_t,F_t:t.F_t,Olt:n}}(n,!1):n}))},n.ir=function(){this.D_t.ir(),this.oG.ir(),this.mtt=[]},n.bn=function(){this.ir()},hr(t,[{key:"x_t",get:function(){return this.D_t}},{key:"hG",get:function(){return this.oG}}]),t}(),dV=function(){function t(t,n,i){this.sft=t,this.Hdt=n,this.z8=i}var n=t.prototype;return n.X_t=function(t,n,i){var r=this;return Mo((function(){var e,u,s,o,c,a,h,v;return Uo(this,(function(d){switch(d.label){case 0:return ba(i),u=r.Hdt.O_t(t),e=u&&De(u.F_t,t,1e-5)?l.max(u.L_t,t):t,s=r.G_t(e),o=function(t){return lV.bind(void 0,t)}(e),[4,r.z8.Q_t(o,s,n,i)];case 1:c=d.sent(),ba(i),d.label=2;case 2:return c&&r.K_t(c.wnt)?(a=pV(c.wnt),h=c.$it,[4,r.z8.Q_t(a,[h],n,i)]):[3,4];case 3:return c=d.sent(),ba(i),[3,2];case 4:return c?r.j_t(c.wnt)?(v=r.Y_t(c.wnt),t<v.Tn?[4,r.findFirstNonAppendedSegmentBeforeSegment(c,n,i,v)]:[3,6]):[2,c]:[2,void 0];case 5:return[2,d.sent()];case 6:return t>=v.Pn?[4,r.findFirstNonAppendedSegmentAfterSegment(c,n,i)]:[3,8];case 7:return[2,d.sent()];case 8:if(c.$it.fst(c.wnt))return[2,void 0];throw new f("Fatal buffering error")}}))}))()},n.findFirstNonAppendedSegmentAfterSegment=function(t,n,i){var r=this;return Mo((function(){var e,u,s;return Uo(this,(function(o){switch(o.label){case 0:e=t,o.label=1;case 1:return u=pV(e.wnt),s=t.$it,[4,r.z8.Q_t(u,[s],n,i)];case 2:e=o.sent(),ba(i),o.label=3;case 3:if(e&&r.j_t(e.wnt))return[3,1];o.label=4;case 4:return e?[2,e]:[2,void 0]}}))}))()},n.findFirstNonAppendedSegmentBeforeSegment=function(t,n,i,r){var e=this;return Mo((function(){var u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:u=t,a.label=1;case 1:return s=function(t){return gV.bind(void 0,t)}(u.wnt),o=t.$it,[4,e.z8.Q_t(s,[o],n,i)];case 2:u=a.sent(),ba(i),a.label=3;case 3:if(u&&e.j_t(u.wnt))return[3,1];a.label=4;case 4:if(!u)throw c=t.$it.Jit.Tn,new BH(c,r.Tn,t.$it);return[2,u]}}))}))()},n.Z_t=function(t){return this.Hdt.x_t.E_t(t)},n.J_t=function(t){return this.Hdt.U_t(t.PS,t.RS)},n.j_t=function(t){var n=this.J_t(t);return n.length>0&&function(t,n){return function(t){for(var n=ZE.Nl(),i=0;i<t.length;i++){var r=t[i];n=n.Hl(ZE.MF(r.B_t,r.L_t))}return n}(t).SF(n.PS,n.RS)}(n,t)&&n.every(kV)},n.K_t=function(t){return this.Hdt.hG.SF(t.PS,t.RS)},n.Y_t=function(t){var n=this.J_t(t);return{Tn:n[0].M_t,Pn:n[n.length-1].F_t}},n.G_t=function(t){var n=this.$_t(t);if(0===n.length)return n;var i=n.filter((function(t){return!t.sst}));return i.length>0?i:[n[n.length-1]]},n.$_t=function(t){var n=this;return(this.z_t?this.z_t:this.Hdt.Ht.sit).filter((function(i){return!n.Hdt.hG.I_t(t,i)}))},hr(t,[{key:"Vdt",get:function(){return this.z_t},set:function(t){this.z_t=t}},{key:"rot",get:function(){return this.Hdt.Ht.rot}}]),t}();function lV(t,n,i,r){return _V.apply(this,arguments)}function _V(){return _V=Mo((function(t,n,i,r){var e,u;return Uo(this,(function(s){switch(s.label){case 0:return e=n.met,(u=e.Ist(t))?n.ust(u)?[4,n.cst(u,i,r)]:[3,2]:[2,void 0];case 1:return[2,s.sent().Vnt(t)];case 2:return[2,u]}}))})),_V.apply(this,arguments)}function gV(t,n,i,r){return wV.apply(this,arguments)}function wV(){return wV=Mo((function(t,n,i,r){var e;return Uo(this,(function(u){switch(u.label){case 0:return Yx(t)?0===t.Fit?[2,void 0]:(e=n.met.nnt(t))?[4,n.cst(e,i,r)]:[2,void 0]:[3,2];case 1:return[2,u.sent().Ont(t.Fit-1)];case 2:return[2,n.met.Qst(t)];case 3:return[2]}}))})),wV.apply(this,arguments)}function yV(t,n,i,r){return mV.apply(this,arguments)}function mV(){return mV=Mo((function(t,n,i,r){var e,u;return Uo(this,(function(s){switch(s.label){case 0:return Yx(t)?(e=n.met.nnt(t))?[4,n.cst(e,i,r)]:[2,void 0]:[3,2];case 1:return u=s.sent(),t.Fit+1===u.U?[2,void 0]:[2,u.Ont(t.Fit+1)];case 2:return[2,n.met.Vst(t)];case 3:return[2]}}))})),mV.apply(this,arguments)}function pV(t){return yV.bind(void 0,t)}function kV(t){return t.Olt}var AV=function(){function t(t,n,i,r){this.igt=t,this.m_t=n,this.GF=i,this.egt=r,this.sgt=!1}var n=t.prototype;return n.Q_t=function(t,n,i,r){var e=this;return Mo((function(){var u,s,o;return Uo(this,(function(c){switch(c.label){case 0:return ba(r),(u=e.tgt(n,i))?[4,t(u,e.egt,r)]:[2,void 0];case 1:return(s=c.sent())?(o=u.rst(s),[2,{$it:u,wnt:s,TI:o}]):[2,void 0]}}))}))()},n.tgt=function(t,n){if(0!==t.length){var i=this.igt.$ot(t,this.sgt?n:void 0,this.m_t,this.GF.tz);return this.sgt||(this.sgt=!0),i}},t}(),bV=function(){function t(t,n,i,r){this.igt=t,this.m_t=n,this.Sat=i,this.egt=r}return t.prototype.Q_t=function(t,n,i,r){var e=this;return Mo((function(){var u,s,o,c,a,h,f;return Uo(this,(function(v){switch(v.label){case 0:if(ba(r),!(u=e.igt.sat(n,i,e.m_t)).length)return[2,void 0];o=0,v.label=1;case 1:if(!(o<u.length))return[3,8];c=u[o],v.label=2;case 2:return v.trys.push([2,6,,7]),ba(r),[4,t(c,e.egt,r)];case 3:return(a=v.sent())?(h=c.rst(a),[4,e.Sat.ttt(h.TI,h.iet)]):[3,5];case 4:if(v.sent())return[2,{wnt:a,$it:c,TI:h}];v.label=5;case 5:return[3,7];case 6:return Ta(f=v.sent()),s=f,[3,7];case 7:return o++,[3,1];case 8:if(s)throw s;return[2,void 0]}}))}))()},t}(),TV=function(t,n,i,r,e){return t.filter((function(t){return e.OX(t)&&r.c9(n,t)}))},SV=function(t,n,i){return t.filter((function(t){return function(t,n,i){var r=i.nat;if(r<=0)return!1;return.8*r>t.IO*i.$u}(t,0,i)}))};var EV=function(t,n,i,r,e){var u=i.dat;if(void 0===u&&!r.Ks)return t;if(!1===u)return t;if(t.length>0&&t[0].Iw!==py.vl)return t;for(var s=t.length-1;s>=0;s--){var o=t[s];if(o.Ci===i.uat&&o.Ti===i.aat)return t.slice(0,s+1);if(o.Ci<i.uat||o.Ti<i.aat)return t.slice(0,s+2)}return[]},IV=function(){function t(t){this.ngt=t}return t.prototype.Q_t=function(t,n,i,r){var e=this;return Mo((function(){var u,s,o,c,a,h;return Uo(this,(function(f){switch(f.label){case 0:s=0,o=e.ngt,f.label=1;case 1:if(!(s<o.length))return[3,6];c=o[s],f.label=2;case 2:return f.trys.push([2,4,,5]),[4,c.Q_t(t,n,i,r)];case 3:return(a=f.sent())?[2,a]:[3,5];case 4:return h=f.sent(),u=h,[3,5];case 5:return s++,[3,1];case 6:if(u)throw u;return[2,void 0]}}))}))()},t}(),RV=function(){function t(t){this.rgt=t}return t.prototype.drt=function(t,n,i,r){var e=this;return Mo((function(){var u,s,o,c,a;return Uo(this,(function(h){switch(h.label){case 0:s=0,o=e.rgt,h.label=1;case 1:if(!(s<o.length))return[3,6];c=o[s],h.label=2;case 2:return h.trys.push([2,4,,5]),[4,c.drt(t,n,i,r)];case 3:return[2,h.sent()];case 4:return Ta(a=h.sent()),u=a,[3,5];case 5:return s++,[3,1];case 6:throw u}}))}))()},t}(),NV=function(){function t(t){this.fP=t}return t.prototype.drt=function(t,n,i,r){var e=this;return Mo((function(){var u;return Uo(this,(function(s){switch(s.label){case 0:return[4,e.fP.pI({TI:t,sP:t_.OI,eP:n?{Range:"bytes="+n[0]+"-"+(null!=(u=n[1])?u:"")}:void 0,oP:i,iP:N_.GET,Iw:C_.YT,M_:r})];case 1:return[4,s.sent().xL()];case 2:return[2,s.sent()]}}))}))()},t}(),CV=function(){function t(t){this.Sat=t}return t.prototype.drt=function(t,n,i,r){var e=this;return Mo((function(){var i,r;return Uo(this,(function(u){switch(u.label){case 0:return[4,e.Sat.itt(t,n)];case 1:return(i=u.sent())?[2,i.buffer]:n?[4,e.Sat.itt(t)]:[3,3];case 2:if(r=u.sent())return[2,gf(new y(r.buffer),n[0],n[1])];u.label=3;case 3:throw new YH({TI:t,iet:n,oP:!1})}}))}))()},t}();var DV=1.05,PV=function(t,n,i,r){if(!1===i.dat)return t;if(r.i9)return t;for(var e,u,s=r.s9,o=(null!=(e=null==s?void 0:s.width)?e:i.aat)*DV,c=(null!=(u=null==s?void 0:s.height)?u:i.uat)*DV,a=t.length-1;a>=0;a--){var h=t[a];if(h.Ci<=c&&h.Ti<=o)return t.slice(0,a+1)}return[]},OV=function(){function t(){}return t.y6=function(t,n,i,r,e,u,s,o,c,a){var h=function(t,n){return new RV([new CV(n),new NV(t)])}(u,s),f=new FF([TV],e,tr.Zs,o,c,a),v=new bV(f,n,s,h),d=new FF([SV,TV,EV,PV],e,tr.Zs,o,c,a),l=new AV(d,n,r,h),_=new IV([v,l]);return new dV(t,i,_)},t}(),BV=function(){function t(t){this.m_t=t}var n=t.prototype;return n.tut=function(t,n,i,r){return this.m_t.tut(t,n,i,r)},n.hgt=function(t,n,i){return this.m_t.Ult(t,n,i)},n.ogt=function(t,n,i){return this.m_t.ogt(t,n,i)},n.aG=function(t,n){this.m_t.aG(t,n)},n.uG=function(t,n){this.m_t.uG(t,n)},n.EY=function(){this.m_t.EY()},n.lz=function(){return this.m_t.lz()},t}(),LV=function(t){function n(n,i,r,e,u,s){var o;return void 0===s&&(s=0),(o=t.call(this,$l.wm)||this).segmentStartTime=n,o.error=i,o.trackType=r,o.track=e,o.quality=u,o.retryCount=s,o}return vr(n,t),n}(Va),MV=function(t){function n(n,i){var r;return(r=t.call(this,$l.qw)||this).track=n,r.segments=i,r}return vr(n,t),n}(Va),xV=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).agt=n,r}return vr(n,t),n}(ya),UV=[$l.pm,$l.Am],FV=function(t){function n(n,i,r,e,u,s,o,c){var a;return(a=t.call(this)||this).sft=n,a.Hdt=i,a.fgt=r,a.lgt=e,a.xgt=u,a.Sgt=s,a.gat=o,a.pat=c,a.ugt=void 0,a.jj=void 0,a.cgt=void 0,a.Egt=void 0,a.ygt=0,a.Agt=ZE.Nl(),a.xgt.wn(UV,a.Os),a}vr(n,t);var i=n.prototype;return i.dgt=function(t){return!this.jj||!t||!ah(this.jj._dt,t._dt)},i.nft=function(t){if(!this.ugt)return!1;var n=this.ugt.wnt,i=ZE.MF(n.PS,n.RS),r=this.fgt.p_t,e=r.TF(t);return e<0?i.br(t,aV):i.EF(t,r.Pn(e),!0,!0,aV)},i.eft=function(t){var n=this;return Mo((function(){var i,r,e,u,s,o,c,a,h;return Uo(this,(function(f){switch(f.label){case 0:i=n.Hdt.Ht.sit,f.label=1;case 1:0,f.label=2;case 2:return f.trys.push([2,12,16,17]),ba(t),n.rft(),n.hft()?[3,18]:(r=n._gt(),[4,n.Q_t(r,t)]);case 3:return void 0===(e=f.sent())?[3,18]:(n.ugt=e,function(t){var n=t.$it,i=n.met,r=Yx(t.wnt)?i.nnt(t.wnt):t.wnt;return i.Xst(r,n.Zit.rht())}(n.ugt)?[3,5]:[4,n.ggt(n.ugt,t)]);case 4:return f.sent(),[3,1];case 5:return!n.cgt||OD(n.cgt.$it.rM,n.ugt.$it.rM)?[3,7]:[4,n.gat.FX(n.ugt.$it)];case 6:f.sent(),f.label=7;case 7:return[4,n.vgt(r,n.ugt.wnt,t)];case 8:return f.sent(),[4,n.wgt(n.ugt.$it,t)];case 9:return n.jj=f.sent(),[4,n.Dft(n.ugt,t)];case 10:return u=f.sent(),s=n.fgt.bl,o=n.cgt,[4,n.mgt(u,t)];case 11:return n.cgt=f.sent(),c=n.fgt.bl,n.pgt(o,n.ugt,s,c),i.forEach((function(t){return t.sst=!1})),[3,17];case 12:return(a=f.sent())instanceof BH?(n.NY(a.Tn,a.Pn,a.$it),[3,1]):[3,13];case 13:if(!(a instanceof xV))return[3,15];if(i.every((function(t){return t.sst}))){if(n.ygt===n.pat.maxRetries)throw new Dl(Rl.MEDIA_LOAD_ERROR,a.message,a);n.ygt++,h=l.min(n.pat.minimumBackoff*l.pow(2,n.ygt-1),n.pat.maximumBackoff)}return[4,Ba(null!=h?h:500,t)];case 14:return f.sent(),[3,1];case 15:throw n.Agt=ZE.Nl(),a;case 16:return n.ugt=void 0,[7];case 17:return[3,1];case 18:return[2]}}))}))()},i.pgt=function(t,n,i,r){var e=r.bF(i),u=n.$it.lst(n.wnt),s=n.$it.fst(n.wnt),o=n.wnt.PS,c=n.wnt.RS;u&&(o=l.min(o,l.max(0,n.$it.Jit.Tn-.05))),s&&(c=l.max(c,n.$it.Jit.Pn));var a=ZE.MF(o,c).bF(r);if(0===e.U)return 0===this.Agt.U&&this.Agt.Hl(ZE.MF(i.Pn(i.U-1),o)),this.Agt=this.Agt.Hl(a),void this.Hdt.q_t(this.Agt);if(u||this.Agt.U>0){var h=a.Cn(ZE.MF(o,e.Tn(0)));this.bgt(h)}var f=e.wF().Cn(ZE.MF(e.Tn(0),e.Pn(e.U-1)));if(this.bgt(f),s){var v=a.Cn(ZE.MF(e.Pn(e.U-1),c));this.bgt(v)}if(this.Agt.U>0){var d=this.Agt.bF(e);this.bgt(d),this.Agt=ZE.Nl()}var _,g=n.$it.met,w=Yx(n.wnt)?void 0:g.Qst(n.wnt),y=null!=(_=null==t?void 0:t.wnt)?_:this.Tgt(w)?w:void 0;if(y){var m=this.Hdt.U_t(y.PS,y.RS);if(m.length>0){var p=ZE.MF(m[m.length-1].F_t,e.Tn(0));this.bgt(p)}}var k=Yx(n.wnt)?void 0:g.Vst(n.wnt);if(k&&this.Tgt(k)){var A=this.Hdt.U_t(k.PS,k.RS);if(A.length>0){var b=ZE.MF(e.Pn(e.U-1),A[0].M_t);this.bgt(b)}}},i.Tgt=function(t){return!!t&&this.Hdt.U_t(t.PS,t.RS).length>0},i.bgt=function(t){for(var n=t.bF(this.fgt.bl),i=0;i<n.U;i++)n.Tn(i)!==n.Pn(i)&&this.Sgt.aG(n.Tn(i),n.Pn(i))},i.kgt=function(t,n){throw new xV(t,n)},i.rft=function(){if(!(this.Agt.U>0)){var t,n=this.fgt.p_t.Hl(null!=(t=this.fgt.hG.gF().BF(this.fgt.A_t))?t:ZE.Nl());this.Hdt.C_t(n),this.Egt&&!this.Igt(this.Egt)&&(this.Egt=void 0),this.To(new MV(this.Hdt.Ht.rot,this.Hdt.H_t()))}},i.hft=function(){return this.cgt&&this.cgt.$it.fst(this.cgt.wnt)?(this.Sgt.EY(),!0):(this.Egt&&this.Egt.$it.fst(this.Egt.wnt)&&this.Igt(this.Egt)&&this.Sgt.EY(),!!this.fgt.y_t)},i.Igt=function(t){return this.Hdt.x_t.SF(t.Pgt,t.Rgt)},i.Cgt=function(t,n,i){(!this.Egt||this.Egt.wnt.RS<t.wnt.RS)&&(this.Egt=xo({},t,{Pgt:n,Rgt:i}))},i._gt=function(){var t=this.fgt.A_t;return t},i.Q_t=function(t,n){var i=this;return Mo((function(){var r,e;return Uo(this,(function(u){switch(u.label){case 0:return ba(n),r=i.cgt?i.cgt.$it:void 0,[4,i.lgt.X_t(t,r,n)];case 1:return(e=u.sent())?[2,e]:[2,void 0]}}))}))()},i.ggt=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:return r=t.$it,e=r.met,u=Yx(t.wnt)?e.nnt(t.wnt):t.wnt,s=r.Zit.rht(),(o=e.Hst(u))&&o.getTime()<=s.getTime()?[2,i.kgt(yF.pot,"Segment is not available.")]:(c=e.Wst(u).getTime()-s.getTime(),[4,Ra((function(t){return $.race([Ba(c,t),r.eg(Gx.Uit,t)])}),n)]);case 1:return a.sent(),[2]}}))}))()},i.wgt=function(t,n,i){void 0===i&&(i=0);var r=this;return Mo((function(){var e,u,s,o;return Uo(this,(function(c){switch(c.label){case 0:if(ba(n),!(e=t.jit))return[2,r.jj];c.label=1;case 1:return c.trys.push([1,4,,7]),t.Qit?[3,3]:[4,r.xgt.Bft(e,n)];case 2:u=c.sent(),t.Qit=u.Ny,c.label=3;case 3:return[3,7];case 4:return Ta(s=c.sent()),bk(s)?2===i?(t.sst=!0,[2,r.kgt(yF.Iot,"Could not fetch the initializer.")]):[4,Ba(l.min(r.pat.minimumBackoff*l.pow(2,i),r.pat.maximumBackoff),n)]:[3,6];case 5:return c.sent(),[2,r.wgt(t,n,i+1)];case 6:throw new Dl(Rl.MEDIA_LOAD_ERROR,s.message,s);case 7:ba(n),c.label=8;case 8:return c.trys.push([8,11,,12]),r.dgt(t.Qit)?[4,r.Sgt.hgt(t.Qit,t,n)]:[3,10];case 9:c.sent(),c.label=10;case 10:return[3,12];case 11:if(Ta(o=c.sent()),bk(o))return[2,r.kgt(yF.Iot,"Could not append the initializer.")];throw new Dl(Rl.MEDIA_DECODE_ERROR,o.message,o);case 12:return[2,t.Qit]}}))}))()},i.Dft=function(t,n,i){void 0===i&&(i=0);var r=this;return Mo((function(){var e;return Uo(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,6]),ba(n),[4,r.xgt.Dft(t,n)];case 1:case 4:return[2,u.sent()];case 2:return Ta(e=u.sent()),e instanceof sV?Sk(e.cause)?(r.Dgt(new sV(e,t.wnt,t.$it),i),[2,r.kgt(yF.pot,"Could not append the segment.")]):2===i?(t.$it.sst=!0,r.Dgt(e,i),r.Ngt(t,e),[2,r.kgt(yF.pot,"Could not fetch the segment.")]):[4,Ba(l.min(r.pat.minimumBackoff*l.pow(2,i),r.pat.maximumBackoff),n)]:[3,5];case 3:return u.sent(),[4,r.Dft(t,n,i+1)];case 5:throw new Dl(Rl.MEDIA_LOAD_ERROR,e.message,e);case 6:return[2]}}))}))()},i.vgt=function(t,n,i){var r=this;return Mo((function(){var e,u,s,o,c,a,h,f,v,d;return Uo(this,(function(_){switch(_.label){case 0:for(e=r.Hdt.U_t(n.PS,n.RS),u=r.fgt.p_t.BF(t),s=ZE.Nl(),o=0;o<e.length;o++)c=e[o],ba(i),a=c.M_t,h=c.F_t,(f=u&&u.EF(a,h)?l.max(a,u.Pn(0)):a)<(v=h)&&(s=s.Hl(ZE.MF(f,v)));d=0,_.label=1;case 1:return d<s.U?[4,r.Sgt.ogt(s.Tn(d),s.Pn(d),i)]:[3,4];case 2:_.sent(),_.label=3;case 3:return d++,[3,1];case 4:return r.rft(),[2]}}))}))()},i.mgt=function(t,n){var i=this;return Mo((function(){var r,e;return Uo(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),ba(n),[4,i.Sgt.tut(t.Vft,t.wnt,t.$it,n)];case 1:return r=u.sent(),i.Bgt(t,r.Pgt,r.Rgt),i.Cgt(t,r.Pgt,r.Rgt),[2,t];case 2:if(Ta(e=u.sent()),bk(e))return i.Dgt(new sV(e,t.wnt,t.$it),0),[2,i.kgt(yF.pot,"Could not append the segment.")];if(ON(e)&&i.Sgt.lz())return[2,i.kgt(yF.Aot,"Buffer is full. Could not reduce the buffer.")];throw new Dl(Rl.MEDIA_DECODE_ERROR,e.message,e);case 3:return[2]}}))}))()},i.Bgt=function(t,n,i){var r=t.$it,e=t.wnt;this.V_t(e,r,n,i)},i.V_t=function(t,n,i,r){this.Hdt.V_t({B_t:t.PS,L_t:t.RS,M_t:i,F_t:r,Olt:!0},n),this.Sgt.uG(i,r)},i.NY=function(t,n,i){var r=ZE.MF(t,n);i?this.Hdt.aG(r,i):this.Hdt.q_t(r),this.Sgt.aG(t,n)},i.Ngt=function(t,n){if(n&&n.cause){var i=n.cause;if(Sk(i)||Tk(i)&&i.AI.SI>=400&&i.AI.SI<500){var r=ZE.MF(t.wnt.PS,t.wnt.RS);t.$it?this.Hdt.aG(r,t.$it):this.Hdt.q_t(r);var e=this.fgt.bl;this.pgt(this.cgt,t,e,e)}}},i.Dgt=function(t,n){var i=t.a_t,r=this.Hdt.Ht.rot,e=this.Hdt.Ht.ma,u=t.c_t.$it&&t.c_t.$it.ma,s=new LV(i,t.message,r,e,u,n);this.To(s)},i.ir=function(){this.jj=void 0,this.cgt=void 0},i.bn=function(){this.ir(),this.Egt=void 0,this.xgt.pn(UV,this.Os),this.xgt.bn()},hr(n,[{key:"Odt",get:function(){return this.ugt}},{key:"Fdt",get:function(){return this.cgt}},{key:"Vdt",get:function(){return this.lgt.Vdt},set:function(t){this.lgt.Vdt=t}},{key:"rot",get:function(){return this.Hdt.Ht.rot}}]),n}(Ua);var HV=0,VV=function(){function t(t,n,i,r,e,u,s,o,c,a,h){this.m_t=t,this.m0=n,this.QY=i,this.fP=r,this.GF=e,this.Lgt=u,this.Sat=s,this.fat=o,this.eat=c,this.gat=a,this.pat=h}return t.prototype.y6=function(t){var n=HV++,i=this.m_t.PY,r=new vV(t),e=new VH(i,this.Lgt),u=new hV(this.m_t,this.m0,this.QY,this.GF),s=OV.y6(n,this.m_t,r,this.GF,e,this.fP,this.Sat,this.fat,this.eat,this.gat),o=function(t){switch(t){case py.yy:return P_.yy;case py.vl:return P_.vl;case py.KT:return P_.KT;case py.jT:return P_.jT;default:return P_.YT}}(i),c=new UH(this.fP,o),a=this.v_t(c,e,this.Lgt),h=new BV(this.m_t),f=new FV(n,r,u,s,a,h,this.gat,this.pat);return new xH(n,t.qit,r,f,this.m0)},t}(),XV=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),n.prototype.v_t=function(t,n,i){return(new cV).v_t(t,this.m_t,n,i,this.Sat)},n}(VV),zV=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.Ogt=function(n,i){var r={rot:py.KT,qit:i,sit:i.sit,ma:n.ma};return t.prototype.y6.call(this,r)},i.v_t=function(t,n){return(new cV).v_t(t,this.m_t,n,!1,this.Sat)},n}(VV);var WV=function(){function t(t){this.Mgt=t}var n=t.prototype;return n.OX=function(t){return this.Mgt.OX(t)},n.FX=function(t){return this.Mgt.FX(t)},t}(),GV=function(){function t(){}var n=t.prototype;return n.OX=function(t){return!0},n.FX=function(t){return $.resolve(void 0)},t}(),qV=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).uc=0,s.HF=1,s.Wgt=void 0,s.Ugt={},s.Vgt={},s.oc=0,s.Ggt=function(t){0},s.m0=n,s.fP=i,s.GF=r,s.Xgt=e,s.Sat=u,s}vr(n,t);var i=n.prototype;return i.EY=function(){},i.b_t=function(){return this.p_t.br(this.Pn)},i.tut=function(t,n,i,r){var e=this;return Mo((function(){var u,s,o,c,a,h,f,v,d,l;return Uo(this,(function(_){switch(_.label){case 0:return t.Iw!==yC.xX?[3,1]:(s=t.Ny._dt,[3,3]);case 1:return[4,t.Ny.xL(r)];case 2:s=_.sent(),_.label=3;case 3:for(u=s,o=e.findTrackForRepresentation(i),c=e.Ugt[o.cw],a=n.PS,h=n.RS,f=new ZE([a,h]),c||(e.Ugt[o.cw]=ZE.Nl(),e.Vgt[o.cw]=ZE.Nl()),e.zgt(r),v=e.Hlt(new y(u),n,i,o),d=0;d<v.length;d++)l=v[d],o.vP(l);return e.Ugt[o.cw]=e.Ugt[o.cw].Hl(f),[2,{Pgt:a,Rgt:h}]}}))}))()},i.zgt=function(t){for(var n=PN(this.m0.Wu,void 0,void 0,this.bl,this.GF.sz,this.GF.Zq),i=0;i<n.length;i++){var r=Fo(n[i],2),e=r[0],u=r[1];Da(this.ogt(e,u,t))}},i.Ult=function(t,n,i){return this.Xgt.Ult(t,n,i)},i.Hlt=function(t,n,i,r){return this.Xgt.Hlt(t,n,i,r)},i.ogt=function(t,n,i){for(var r=t,e=n,u=new ZE([t,n]),s=0,o=this.Z.Kv;s<o.length;s++){for(var c=o[s],a=[],h=0,f=c.L.Kv;h<f.length;h++){var v=f[h];v.PS>=r&&v.RS<=e?a.push(v):u=u.bF(new ZE([v.PS,v.RS]))}for(var d=0;d<a.length;d++){var l=a[d];c.EI(l)}var _=this.Ugt[c.cw];_&&(this.Ugt[c.cw]=_.bF(u))}return $.resolve()},i.aG=function(t,n){},i.uG=function(t,n){},i.lz=function(){return!1},i.NI=function(n){if(t.prototype.NI.call(this,n),this.Xgt.ir(),this.Wgt&&(this.Wgt.bn(),this.Wgt=void 0),this.Xht){var i=this.Tdt(this.Xht);this.Wgt=new zV(this,this.m0,this.m0,this.fP,this.GF,!1,this.Sat,void 0,void 0,new GV,NE).Ogt(this.Xht,i),this.Wgt.wn(jp.aa,this.Ggt),this.Wgt.Tn(yF.dot)}},i.BI=function(n){this.Xht===n&&(t.prototype.BI.call(this,n),this.Wgt&&(this.Wgt.bn(),this.Wgt=void 0))},i.mdt=function(t){var n=function(t){var n=t.sit&&t.sit.length>0&&t.sit[0],i=n&&Ek(n.bet),r=Ek(t.bet),e=t.aV===sl.APPLICATION_TTML_XML;return i||r||e?Gy.TTML:t.aV===sl.TEXT_VTT||Ck(t.aV,t.bet)?Gy.WEBVTT:Gy.DEFAULT}(t);if(!n)throw new f("Unknown TextTrack type for Representation");var i=t.nit.concat(t.Get);return this.Qgt(function(t){return ia(t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.tet})).map((function(t){return t.kT})).filter(Cr),"caption")?gk.fI:gk.Ay}(i),t._h,t.J3,!1,n,t,function(t){return t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.tet})).some((function(t){return function(t){return"forced-subtitle"===t||"forced_subtitle"===t}(t.kT)}))}(t.nit),t.Get.map(bF).filter(Cr))},i.ir=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,t.prototype.ir.call(n)];case 1:return i.sent(),n.Wgt?[4,n.Wgt.ir(yF.Bot)]:[3,3];case 2:i.sent(),n.Wgt.pn(jp.aa,n.Ggt),n.Wgt=void 0,i.label=3;case 3:return n.wdt=void 0,n.Ugt={},n.Vgt={},[2]}}))}))()},i.Kgt=function(){this.Ugt={},this.Vgt={}},i.findTrackForRepresentation=function(t){for(var n=0,i=this.Z.Kv;n<i.length;n++){var r=i[n],e=this.Tdt(r);if(e&&CH.kdt(e)===t)return r}},hr(n,[{key:"QO",get:function(){var t=this.m0.Wu;return this.p_t.BF(t,.01)}},{key:"Fgt",get:function(){return this.Xht&&this.Ugt[this.Xht.cw]?this.Ugt[this.Xht.cw]:ZE.Nl()}},{key:"Hgt",get:function(){return this.Xht&&this.Vgt[this.Xht.cw]?this.Vgt[this.Xht.cw]:ZE.Nl()}},{key:"T_t",get:function(){return new ZE([0,1/0])}},{key:"bl",get:function(){return this.Fgt}},{key:"hG",get:function(){return this.Wgt?this.Wgt.Udt.hG.S_t:ZE.Nl()}},{key:"p_t",get:function(){return DH(this.bl,this.hG).yF(2*this.qgt)}},{key:"Tn",get:function(){return this.wdt?this.wdt.Jit.Tn:NaN}},{key:"Pn",get:function(){return this.wdt?this.wdt.Jit.Pn:NaN}},{key:"Ic",get:function(){var t=this.Pn;return!!t&&this.m0.Wu>=t}},{key:"qgt",get:function(){var t,n,i=this.Sdt();return i?1/(null!=(n=this.Xht&&(null==i||null==(t=i.Iet)?void 0:t.hk()))?n:25):.04}},{key:"Ci",get:function(){return this.uc}},{key:"PY",get:function(){return py.KT}},{key:"$u",get:function(){return this.HF},set:function(t){this.HF=t}},{key:"wl",get:function(){return this.Hgt}},{key:"kl",get:function(){if(!this.Xht)return ZE.OF(0);var t=this.Tdt(this.Xht),n=null==t?void 0:t.pst,i=null==t?void 0:t.mst;if(void 0===i||void 0===n)return ZE.OF(0);var r=l.max(n,this.m0.Wu);return new ZE([i,r]).gF()}},{key:"Ti",get:function(){return this.oc}}]),n}(CH),YV=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).lP=s,o}vr(n,t);var i=n.prototype;return i.Qgt=function(t,n,i,r,e,u,s,o){var c,a,h=u.sit.reduce((function(t,n){return t||n.o}),void 0),f=null!=(a=null!=h?h:null==(c=u.o)?void 0:c.toString())?a:"";return this.lP.cP(t,f,n,i,r,e,s,o)},i.bn=function(){for(var n=0,i=this.Z.Kv;n<i.length;n++){var r=i[n];this.lP.mP(r)}return t.prototype.bn.call(this)},n}(qV),jV=function(){function t(t,n,i,r,e){this.Zgt=[],this.xu=new UT([]),this.m0=t,this.fP=n,this.GF=i,this.Sat=r,this.lP=e}var n=t.prototype;return n.dP=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:return t.Iw!==py.KT?[2]:(i=function(t,n){return Ek(n)||t===sl.APPLICATION_TTML_XML||t===sl.TEXT_VTT?new EH:Ck(t,n)?new RH:void 0}(t.aV,t.bet),i?(r=n.jgt(i),n.Ygt(r),[4,r.On(t)]):[3,2]);case 1:return e.sent(),[2,r];case 2:return[2]}}))}))()},n.jgt=function(t){return new YV(this.m0,this.fP,this.GF,t,this.Sat,this.lP)},n.Ygt=function(t){this.Zgt.push(t),this.xu.MO(t.Z)},n.ir=function(){var t=this;return Mo((function(){var n,i;return Uo(this,(function(r){switch(r.label){case 0:n=0,i=t.Zgt.slice(),r.label=1;case 1:return n<i.length?[4,i[n].ir()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return ea(t.Zgt),t.xu.ir(),[2]}}))}))()},n.bn=function(){var t=this;return Mo((function(){var n,i;return Uo(this,(function(r){switch(r.label){case 0:n=0,i=t.Zgt,r.label=1;case 1:return n<i.length?[4,i[n].bn()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return ea(t.Zgt),t.xu.bn(),[2]}}))}))()},hr(t,[{key:"nt",get:function(){return this.xu}}]),t}(),QV=function(t){function n(){return t.call(this,SF.Zot)}return vr(n,t),n}(Va),KV=function(t){function n(n,i,r,e,u,s,o,c,a,h){var f;return(f=t.call(this)||this).$T=new ky,f.eS=new ky,f.dvt=[],f.uvt=new pa,f.avt=!0,f.Zgt=[],f.cvt=void 0,f.svt=zr((function(){f.To(new SC(f.Wu))}),350),f.fvt=function(t){var n=t.zht.Xht;if(n)for(var i=0,r=f.dvt;i<r.length;i++){var e,u=r[i];u.Xht&&u.Xht!==n&&u.Iw===(null==(e=n.Qet)?void 0:e.Iw)&&(u.pn("qht",f.fvt),u.Xht.Rt=!1,u.wn("qht",f.fvt))}f.Os(t)},f.yut=function(t){Aa(t)||f.To(new DT(new Dl(Rl.MEDIA_LOAD_ERROR,t.message,t)))},f.mvt=function(t){var n=t.B$;if(n)for(var i=0,r=f.Sut;i<r.length;i++){if((r[i].qit.ket||[]).some((function(t){return t.nL&&hh(_f(n),LR(t.nL))})))return void f.To(new BO(new by(Rl.CONTENT_PROTECTION_OUTPUT_RESTRICTED,"Content unavailable due to DRM restrictions")))}},f.fP=n,f.GF=i,f.Sat=r,f.KO=e,f.cut=u,f.mS=Ly(),f.dvt=[],f.wst=s,f.ovt=o,f.lP=c,f.tvt=new jV(e,n,i,r,c),f.xu=new UT([f.tvt.nt]),f.pat=a,f._lt=h,f.wst.wn(Gx.Vit,f.Os),f}vr(n,t);var i=n.prototype;return i.Jq=function(t,n){return this.Jgt(t,n)},i.Jgt=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o;return Uo(this,(function(c){switch(c.label){case 0:for(r=0;r<t.length;r++)e=t[r],i.$gt(e);return[4,i.On(n)];case 1:c.sent(),u=0,s=i.wst.Ert,c.label=2;case 2:return u<s.length?(o=s[u]).Iw!==py.KT?[3,5]:o.sit&&0!==o.sit.length?[3,3]:(i.To(new LF("No supported representation found in the AdaptationSet with mimetype : "+o.Iw)),[3,5]):[3,6];case 3:return[4,i.tvt.dP(o)];case 4:c.sent(),c.label=5;case 5:return u++,[3,2];case 6:return[2]}}))}))()},i.jdt=function(){return this.Zgt.some((function(t){return t.jdt()}))},i.b_t=function(){return 0!==this.Zgt.length&&this.Zgt.every((function(t){return t.b_t()}))},i.evt=function(){this.Bct()&&this.To(new QV)},i.ivt=function(t){t.wn([jp.aa,$l.gm,$l.wm,$l.pm,$l.Am,$l.qw],this.Os),t.wn(lC.RX,this.svt),t.wn("yct",this.Os)},i.nvt=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,$.all(n.Zgt.map((function(n){return n.bn(t)})))];case 1:return i.sent(),ea(n.Zgt),[2]}}))}))()},i.Bct=function(){if(this.jdt())return!1;if(!this.b_t())return!1;var t=this.bl;if(0===t.U)return!1;var n=this.Wu;if(this.Xut)return t.Tn(t.U-1)<=n;var i=t.Cn(this.T_t);if(0===i.U)return!0;var r=i.Tn(i.U-1),e=i.Pn(i.U-1)+.1;return r<=n&&n<=e},i.Tut=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.avt?[2]:(n.avt=!0,[4,$.all(n.Zgt.map((function(n){return n.Tut(t)})))]);case 1:return i.sent(),[2]}}))}))()},i.Out=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.avt?(n.avt=!1,[4,$.all(n.Zgt.map((function(n){return n.Out(t)})))]):[2];case 1:return i.sent(),[2]}}))}))()},i.bn=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.Lo(),n.wst.pn(Gx.Vit,n.Os),n.uvt.Jl(),n.cvt?[4,n.cvt.catch(Vr)]:[3,2];case 1:i.sent(),n.cvt=void 0,i.label=2;case 2:return[4,n.nvt(t)];case 3:return i.sent(),[4,n.tvt.bn()];case 4:return i.sent(),n.$T.bn(),n.eS.bn(),n.xu.bn(),n.lvt(),[2]}}))}))()},i.$gt=function(t){this.dvt.push(t),t.wn("qht",this.fvt);for(var n=t.Iw===py.yy?this.$T:this.eS,i=0,r=t.Z;i<r.length;i++){var e=r[i];n.tt(e)}},i._vt=function(t){for(var n=t.Iw===py.yy?this.$T:this.eS,i=0,r=t.Z;i<r.length;i++){var e=r[i];n.it(e),e.bn()}t.bn(),$c(this.dvt,t)},i.lvt=function(){for(var t=this.dvt.length-1;t>=0;t--)this._vt(this.dvt[t])},i.On=function(t,n){return this.uvt.Jl(),this.uvt=new pa,n&&this.uvt.U_(n),this.cvt=Ia(this.i7(t,this.cvt,this.uvt.M_),this.uvt).catch(this.yut),this.cvt},i.i7=function(t,n,i){var r=this;return Mo((function(){var e,u,s,o,c,a,h,f,v;return Uo(this,(function(d){switch(d.label){case 0:return n?[4,n.catch(Vr)]:[3,2];case 1:d.sent(),d.label=2;case 2:ba(i),e=[],u=r.Zgt.slice(),s=t.slice(),ea(r.Zgt),o=0,d.label=3;case 3:return o<u.length?(c=u[o],(a=c.Xht)&&ia(s,a)?(r.Zgt.push(c),e.push(c.On(a,i)),$c(s,a),[3,6]):[3,4]):[3,7];case 4:return r.xu.HO(c.nt),[4,c.bn()];case 5:d.sent(),ba(i),d.label=6;case 6:return o++,[3,3];case 7:for(h=0;h<s.length;h++)f=s[h],v=r.gvt(f.rot),r.xu.MO(v.nt),r.Zgt.push(v),r.ivt(v),e.push(v.On(f,i));return[4,$.all(e)];case 8:return d.sent(),r.vvt(),[2]}}))}))()},i.wvt=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return[4,i.On(t)];case 1:return r.sent(),i.ovt=n,[2]}}))}))()},hr(n,[{key:"cw",get:function(){return this.mS}},{key:"Rt",get:function(){return this.Zgt.some((function(t){return t.Rt}))}},{key:"ht",get:function(){return this.$T}},{key:"bl",get:function(){if(0===this.Zgt.length)return ZE.Nl();for(var t=this.Zgt.map((function(t){return t.bl})),n=ZE.MF(0,1/0),i=0;i<t.length;i++){var r=t[i];n=n.Cn(r)}if(0===n.U)return n;if(this.b_t()){var e=n.Cn(this.T_t);if(0===e.U)return n;for(var u=e.Pn(e.U-1),s=0,o=0,c=this.Zgt;o<c.length;o++){var a=c[o];s=l.max(s,a.rvt)}u<=s&&(n=n.Hl(new ZE([u,s],[!0,!0])))}return n}},{key:"Wu",get:function(){return this.KO.Wu}},{key:"Fct",get:function(){return this.ovt}},{key:"Pn",get:function(){if(this.Xut){var t=this.ct;if(!w(t)&&t!==Re)return t}if(!this.Zgt.length)return NaN;for(var n=0,i=0,r=this.Zgt;i<r.length;i++){var e=r[i];n=l.max(n,e.Pn)}return n}},{key:"Xut",get:function(){var t=this.wst.Zit;if(t.Iw===ZM.wB)return!1;var n=t.Sit;return 0!==n.length&&this.wst===n[n.length-1]}},{key:"kl",get:function(){if(!this.Zgt.length)return ZE.Nl();for(var t=new ZE([0,1/0]),n=0,i=this.Zgt;n<i.length;n++){var r=i[n];t=t.Cn(r.kl)}if(t.U>0&&this.Xut&&isFinite(this.ct)){var e=this.ct,u=t.Pn(t.U-1);e>u&&(t=t.Hl(ZE.MF(u,e).gF()))}return t}},{key:"JM",get:function(){return this.wst}},{key:"nt",get:function(){return this.xu}},{key:"rt",get:function(){return this.eS}},{key:"QO",get:function(){var t=this.Wu,n=this.bl,i=n.TF(t);if(-1!==i)return{Tn:n.Tn(i),Pn:n.Pn(i)}}},{key:"T_t",get:function(){var t=this.wst.Tn,n=this.Xut?1/0:this.wst.Pn;return ZE.MF(t,n)}},{key:"ult",get:function(){return this.avt}},{key:"kut",get:function(){return this.dvt.map((function(t){return t.Xht})).filter(Cr)}},{key:"Sut",get:function(){return this.Zgt.map((function(t){return t.Xht})).filter(Cr)}}]),n}(Ua),ZV=[jp.aa,$l.wm,$l.pm,$l.Am,$l.qw],JV=0;var $V,tX,nX,iX=function(t){function n(n,i){var r;return(r=t.call(this,$l.gm)||this).representation=n,r.previousRepresentation=i,r}return vr(n,t),n}(Va);function rX(t,n,i){return i===$V.pvt?i:n!==tX.yvt&&n!==tX.Avt||i!==$V.bvt&&i!==$V.Tvt?t?n===tX.Svt?$V.kvt:n===tX.Evt?$V.Ivt:$V.pvt:$V.Pvt:$V.Tvt}function eX(t,n,i,r){var e={byte:i},u=$V.bvt,s=[],o=31&rD(n,e,r);e.byte+=1;for(var c=0;c<o;c+=1){var a=rD(n,e,r),h=4&a,f=3&a;u=rX(Boolean(h),f,u);var v=rD(n,e,r),d=rD(n,e,r);s.push({Rvt:t,lT:-1,Cvt:!c,xvt:Boolean(h),Iw:f,Dvt:u,Nvt:v,Bvt:d})}return s}function uX(t,n,i){var r=rD(t,n,i);if(!w(r))return String.fromCharCode(r)}function sX(t){var n=t.AK,i={byte:t.pK},r=t.yK,e=rD(n,i,r);if(255===e&&(i.byte+=1),181===e){var u=eD(n,i);if(47===u||49===u){if(49===u){var s=function(t,n,i){for(var r="",e=i;e>0;)e-=1,r+=uX(t,n);return r}(n,i,4);if("GA94"!==s)return}if(3===rD(n,i,r)){47===u&&(i.byte+=1);var o=t;return o.Lvt=i.byte,o}}}}function oX(t){return 4===t.wK}function cX(t){for(var n=t.filter(oX).map(sX).filter(Cr),i=[],r=0;r<n.length;r++){var e,u=n[r];(e=i).push.apply(e,_r(eX(u.vK,u.AK,u.Lvt,u.yK)))}return i}!function(t){t[t.pvt=0]="pvt",t[t.bvt=1]="bvt",t[t.Tvt=2]="Tvt",t[t.Ivt=3]="Ivt",t[t.kvt=4]="kvt",t[t.Pvt=5]="Pvt"}($V||($V={})),function(t){t[t.yvt=0]="yvt",t[t.Avt=1]="Avt",t[t.Svt=2]="Svt",t[t.Evt=3]="Evt"}(tX||(tX={})),function(t){t[t.Ovt=47]="Ovt",t[t.Mvt=49]="Mvt"}(nX||(nX={}));var aX="und";var hX=[{l:"Abkhaz",dh:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{l:"Afar",dh:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{l:"Afrikaans",dh:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{l:"Akan",dh:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{l:"Albanian",dh:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{l:"Amharic",dh:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{l:"Arabic",dh:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{l:"Aragonese",dh:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{l:"Armenian",dh:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{l:"Assamese",dh:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{l:"Avaric",dh:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{l:"Avestan",dh:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{l:"Aymara",dh:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{l:"Azerbaijani",dh:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{l:"Bambara",dh:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{l:"Bashkir",dh:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{l:"Basque",dh:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{l:"Belarusian",dh:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{l:"Bengali",dh:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{l:"Bihari",dh:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{l:"Bislama",dh:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{l:"Bosnian",dh:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{l:"Breton",dh:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{l:"Bulgarian",dh:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{l:"Burmese",dh:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{l:"Catalan",dh:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{l:"Chamorro",dh:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{l:"Chechen",dh:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{l:"Chichewa",dh:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{l:"Chinese",dh:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{l:"Chuvash",dh:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{l:"Cornish",dh:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{l:"Corsican",dh:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{l:"Cree",dh:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{l:"Croatian",dh:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{l:"Czech",dh:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{l:"Danish",dh:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{l:"Divehi",dh:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{l:"Dutch",dh:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{l:"Dzongkha",dh:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{l:"English",dh:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{l:"Esperanto",dh:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{l:"Estonian",dh:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{l:"Ewe",dh:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{l:"Faroese",dh:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{l:"Fijian",dh:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{l:"Finnish",dh:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{l:"French",dh:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{l:"Fula",dh:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{l:"Galician",dh:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{l:"Georgian",dh:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{l:"German",dh:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{l:"Greek",dh:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{l:"Guaran\xed",dh:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{l:"Gujarati",dh:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{l:"Haitian",dh:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{l:"Hausa",dh:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{l:"Hebrew",dh:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{l:"Herero",dh:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{l:"Hindi",dh:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{l:"Hiri Motu",dh:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{l:"Hungarian",dh:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{l:"Interlingua",dh:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{l:"Indonesian",dh:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{l:"Interlingue",dh:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{l:"Irish",dh:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{l:"Igbo",dh:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{l:"Inupiaq",dh:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{l:"Ido",dh:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{l:"Icelandic",dh:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{l:"Italian",dh:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{l:"Inuktitut",dh:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{l:"Japanese",dh:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{l:"Javanese",dh:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{l:"Kalaallisut",dh:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{l:"Kannada",dh:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{l:"Kanuri",dh:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{l:"Kashmiri",dh:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{l:"Kazakh",dh:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{l:"Khmer",dh:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{l:"Kikuyu",dh:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{l:"Kinyarwanda",dh:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{l:"Kyrgyz",dh:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{l:"Komi",dh:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{l:"Kongo",dh:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{l:"Korean",dh:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{l:"Kurdish",dh:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{l:"Kwanyama",dh:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{l:"Latin",dh:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{l:"Luxembourgish",dh:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{l:"Ganda",dh:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{l:"Limburgish",dh:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{l:"Lingala",dh:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{l:"Lao",dh:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{l:"Lithuanian",dh:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{l:"Luba-Katanga",dh:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{l:"Latvian",dh:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{l:"Manx",dh:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{l:"Macedonian",dh:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{l:"Malagasy",dh:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{l:"Malay",dh:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{l:"Malayalam",dh:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{l:"Maltese",dh:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{l:"M\u0101ori",dh:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{l:"Marathi",dh:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{l:"Marshallese",dh:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{l:"Mongolian",dh:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{l:"Nauru",dh:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{l:"Navajo",dh:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{l:"Northern Ndebele",dh:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{l:"Nepali",dh:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{l:"Ndonga",dh:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{l:"Norwegian Bokm\xe5l",dh:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{l:"Norwegian Nynorsk",dh:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{l:"Norwegian",dh:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{l:"Nuosu",dh:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{l:"Southern Ndebele",dh:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{l:"Occitan",dh:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{l:"Ojibwe",dh:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{l:"Old Church Slavonic",dh:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{l:"Oromo",dh:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{l:"Oriya",dh:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{l:"Ossetian",dh:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{l:"Panjabi",dh:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{l:"P\u0101li",dh:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{l:"Persian",dh:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{l:"Polish",dh:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{l:"Pashto",dh:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{l:"Portuguese",dh:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{l:"Quechua",dh:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{l:"Romansh",dh:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{l:"Kirundi",dh:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{l:"Romanian",dh:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{l:"Russian",dh:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{l:"Sanskrit",dh:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{l:"Sardinian",dh:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{l:"Sindhi",dh:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{l:"Northern Sami",dh:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{l:"Samoan",dh:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{l:"Sango",dh:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{l:"Serbian",dh:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{l:"Gaelic",dh:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{l:"Shona",dh:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{l:"Sinhala",dh:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{l:"Slovak",dh:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{l:"Slovene",dh:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{l:"Somali",dh:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{l:"Southern Sotho",dh:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{l:"Spanish",dh:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{l:"Sundanese",dh:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{l:"Swahili",dh:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{l:"Swati",dh:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{l:"Swedish",dh:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{l:"Tamil",dh:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{l:"Telugu",dh:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{l:"Tajik",dh:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{l:"Thai",dh:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{l:"Tigrinya",dh:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{l:"Tibetan Standard",dh:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{l:"Turkmen",dh:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{l:"Tagalog",dh:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{l:"Tswana",dh:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{l:"Tonga",dh:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{l:"Turkish",dh:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{l:"Tsonga",dh:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{l:"Tatar",dh:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{l:"Twi",dh:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{l:"Tahitian",dh:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{l:"Uyghur",dh:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{l:"Ukrainian",dh:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{l:"Urdu",dh:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{l:"Uzbek",dh:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{l:"Venda",dh:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{l:"Vietnamese",dh:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{l:"Volap\xfck",dh:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{l:"Walloon",dh:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{l:"Welsh",dh:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{l:"Wolof",dh:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{l:"Western Frisian",dh:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{l:"Xhosa",dh:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{l:"Yiddish",dh:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{l:"Yoruba",dh:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{l:"Zhuang",dh:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{l:"Zulu",dh:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}];function fX(t){var n,i=null!=(n=function(t){var n=t.QQ,i=new sD;return i.aK(n,0,n.byteLength),yD(i).MK}(t))?n:24;return t.Fvt/i}function vX(t){return t.Iw===Hm.Yp}var dX;function lX(t,n,i,r,e){for(var u,s=function(t,n,i,r){var e=i.Fvt,u=Ee.fromNumber(t.TT||0),s=r.fS(Om.Ek(u,e));return{qtt:r.hk(),Uvt:r,Hvt:s,Vvt:r}}(t,0,i,r),o=Om.Ik(t.ct||0,i.Fvt),c=t.aA||0,a=!(65536&c)&&1!==(c>>24&3),h=vf(e),f=new mf;f.Au<h.byteLength;){var v=Fh(h,f);if((31&Mh(h,f,1))===uD.IK){var d,l=new sD;l.aK(e,f.Au-1,f.Au+v-1);var _=new wD(l),g=vD(s.Hvt,_);(d=u=u||[]).push.apply(d,_r(cX(g)))}f.Ey(v-1)}return xo({},s,{ct:o.hk(),Wvt:o,qvt:s.Hvt.hk(),zvt:s.qtt,Xvt:a,Gvt:u,Qvt:!1,Kvt:!1})}function _X(t){return{MA:t.eA.MA,Fvt:t.NA.eA.IA}}function gX(t){return t.Iw===Hm.pp}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(dX||(dX={}));var wX=function(){function t(t,n){this.o4=t,this.j3=n}return t.prototype.GS=function(t){return this.o4===t.o4&&this.j3===t.j3},t}(),yX=function(){function t(t,n){this.kX=t,this.Yvt=n,this.jvt=""}var n=t.prototype;return n.Zvt=function(t){this.jvt+=t},n.Jvt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Zvt(i)}},hr(t,[{key:"b4",get:function(){return this.jvt}},{key:"v4",get:function(){return[this]}},{key:"y4",get:function(){return this.kX}},{key:"e4",get:function(){return this.Yvt}},{key:"n4",get:function(){return new wX(this.e4.o4,this.e4.j3+this.b4.length-1)}}]),t}();function mX(t,n){return t===n||t.b4===n.b4&&t.e4.GS(n.e4)&&ny(t.y4,n.y4)}function pX(t,n){return t===n||t.e4.GS(n.e4)&&t.n4.GS(n.n4)&&ra(t.v4,n.v4,mX)}var kX=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)}return vr(n,t),n.prototype.QS=function(t){return ra(this.O,t.O,pX)},n}(vm),AX=function(){function t(){}var n=t.prototype;return n.$vt=function(t){return t.kE(this)},n.twt=function(t){var n=this;return sa(t,(function(t,i){return t.kE(n,i)}))},n.ewt=function(t,n){return new bX(t,n).iwt()},t}(),bX=function(){function t(t,n){this.o4=t,this.uwt=n,this.hwt=[],this.awt=null}var n=t.prototype;return n.iwt=function(){if(this.swt)return[];for(var t=0;t<this.o4.length;t++)this.nwt(t);return this.rwt(),this.hwt},n.owt=function(t){this.awt=new yX(iL,new wX(this.uwt,t))},n.rwt=function(){this.awt&&(this.hwt.push(this.awt),this.awt=null)},n.nwt=function(t){var n=this.o4[t];TX(n)?this.awt&&this.rwt():(this.awt||this.owt(t),this.awt.Zvt(n))},hr(t,[{key:"swt",get:function(){return this.o4.every(TX)}}]),t}();function TX(t){return null==t}var SX=function(){function t(){}return t.cwt=function(t,n,i){if(!(n>=i)){var r=sa(t,(function(t,n){return new bX(t.map((function(t){return t?t.lwt():null})),n).iwt()}));if(0!==r.length)return new kX(n,i,r)}},t}(),EX="black",IX="white",RX=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce((function(t,n){return t[n[0]]=n[1],t}),{}),NX=function(){function t(){this.fwt=[],this.vwt=0;for(var t=0;t<sL;t++)this.fwt.push(null);this.pwt=!1}var n=t.prototype;return n.dwt=function(t){for(var n=0;n<sL;n++)t&&(this.fwt[n]=t.fwt[n])},n.GS=function(t){for(var n=0;n<sL;n++)if(this.fwt[n]!==t.fwt[n])return!1;return!0},n._wt=function(){for(var t=0;t<sL;t++)if(null!==this.fwt[t])return!1;return!0},n.gwt=function(t){this.vwt!==t&&(this.vwt=t),this.vwt<0?this.vwt=0:this.vwt>sL&&(this.vwt=31)},n.wwt=function(t){var n=this.vwt+t;this.gwt(n)},n.mwt=function(){this.wwt(-1),this.fwt[this.vwt]=null},n.Zvt=function(t){t>=144&&this.mwt();var n=function(t){return RX[t]?String.fromCharCode(RX[t]):String.fromCharCode(t)}(t);this.addParsedChar(n)},n.addParsedChar=function(t){this.vwt>=sL||(32===Number(t)?(this.fwt[this.vwt]=this.pwt?"</i>":"<i>",this.pwt=!this.pwt):this.fwt[this.vwt]=t,this.wwt(1))},n.ywt=function(t){for(var n=t;n<sL;n++)this.fwt[n]=null},n.NC=function(){this.ywt(0),this.vwt=0},n.Awt=function(){this.ywt(this.vwt)},n.bwt=function(t,n){for(var i=this.fwt,r=null,e=0;e<sL;e++){var u=i[e];null===u?r=null:(r||(r={Jh:e,Qh:t,Ti:0,Ci:1,fwt:[[]]},n.push(r)),r.fwt[0].push(u),r.Ti++)}},n.kE=function(t,n){return t.ewt(this.fwt,n)},t}();var CX,DX=function(){function t(t,n){this.Ewt=new Array(PX+1);for(var i=0;i<=PX;i++)this.Ewt[i]=new NX;this.Rwt=1,this.Nwt=0,this.Swt=t,this.kwt=n,this.Hwt=!1,this.Wwt=!1,this.zwt=IX,this.Gwt=EX,this.ir()}var n=t.prototype;return n.Twt=function(t,n){var i="CC"+(this.Swt<<1|this.kwt+1);if(t>=n)return null;var r=(new AX).twt(this.Ewt.slice(1));return 0===r.length?null:{IS:new kX(t,n,r),BW:i,Iwt:this.Swt<<1|this.kwt+1}},n.ir=function(){this.Pwt(),this.Rwt=1},n.Cwt=function(){return this.Rwt},n.xwt=function(t){this.Rwt=t},n.gwt=function(t){this.Ewt[this.Rwt].gwt(t)},n.wwt=function(t){this.Ewt[this.Rwt].wwt(t)},n.Dwt=function(){return this.Nwt},n.Bwt=function(t){this.Nwt=t},n.Zvt=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case 0:i=void 0!==BX[n]?BX[n]:String.fromCharCode(n);break;case 1:i=LX[n];break;case 2:this.Lwt(),i=MX[n];break;case 3:this.Lwt(),i=xX[n]}i&&this.Ewt[this.Rwt].addParsedChar(i)}},n.Lwt=function(){this.Ewt[this.Rwt].mwt()},n.Owt=function(t,n,i){if(t>=n)for(var r=i-1;r>=0;r--)this.Ewt[t+r]=this.Ewt[n+r];else for(var e=0;e<i;e++)this.Ewt[t+e]=this.Ewt[n+e]},n.Mwt=function(t,n){for(var i=0;i<=n;i++)this.Ewt[t+i]=new NX},n.Pwt=function(){this.Mwt(0,PX)},n.Fwt=function(){this.Rwt=this.Nwt>0?this.Nwt:0,this.Pwt()},n.Uwt=function(t){this.Hwt=t},n.Vwt=function(t){this.Wwt=t},n.qwt=function(t){this.zwt=t},n.Xwt=function(t){this.Gwt=t},t}(),PX=15;!function(t){t[t.Qwt=0]="Qwt",t[t.Kwt=1]="Kwt",t[t.jwt=2]="jwt",t[t.Ywt=3]="Ywt"}(CX||(CX={}));var OX,BX={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},LX={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},MX={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},xX={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},UX=function(){function t(t,n){this.vJ=0,this.smt=new DX(t,n),this.tmt=new DX(t,n),this.imt=new DX(t,n),this.$wt=this.tmt,this.Jwt=0,this.emt=void 0,this.Zwt=!1}var n=t.prototype;return n.ir=function(){this.Zwt=!0,this.Jwt=0,this.vJ=0,this.$wt=this.tmt,this.emt=void 0,this.tmt.ir(),this.imt.ir(),this.smt.ir()},n.nmt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.rmt=function(t,n){var i=this.nmt(t,n),r=(30&n)>>1,e=IX,u=!1;r<7?e=XX[r]:7===r&&(u=!0);var s=1==(1&n);if(4!==this.vJ){var o=this.$wt;if(3===this.vJ&&i!==o.Cwt()){var c=1+o.Cwt()-o.Dwt(),a=1+i-o.Dwt();o.Owt(a,c,o.Dwt()),o.Mwt(0,a-1),o.Mwt(i+1,PX-i)}o.xwt(i);var h=eL[t<<1&14|n>>5&1]-1;if(!(h<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{K3:rL[i].K3,Q3:rL[i].Q3,j3:rL[i].j3,o4:t}}(h,n);o.gwt(f.j3),this.$wt.Uwt(s),this.$wt.Vwt(u),this.$wt.qwt(e),this.$wt.Xwt(EX)}}},n.hmt=function(t,n){this.$wt.Uwt(!1),this.$wt.Vwt(!1),this.$wt.qwt(IX);var i=this.omt(t,CX.Qwt," ".charCodeAt(0)),r=IX,e=!1,u=1==(1&n);return"white_italics"===(r=XX[(14&n)>>1])&&(r="white",e=!0),this.$wt.Uwt(u),this.$wt.Vwt(e),this.$wt.qwt(r),i},n.omt=function(t,n,i){if(this.$wt.Zvt(n,i),2===this.vJ||3===this.vJ){var r=this.amt(this.$wt,this.Jwt,t);return this.Jwt=t,r}return null},n.amt=function(t,n,i){return this.Zwt?null:2===this.vJ||3===this.vJ?t.Twt(i,i+10):t.Twt(n,i)},n.umt=function(t,n){var i=EX;0==(7&t)&&(i=VX[(14&n)>>1]),this.$wt.Xwt(i)},n.cmt=function(t){var n=FX,i=t.lmt,r=t.dmt,e=null;switch(i){case n.RCL:this.fmt();break;case n.BS:this._mt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:e=this.gmt(2,r);break;case n.RU3:e=this.gmt(3,r);break;case n.RU4:e=this.gmt(4,r);break;case n.FON:e=this.vmt(r);break;case n.RDC:this.wmt(r);break;case n.TR:this.mmt();break;case n.RTD:this.pmt();break;case n.EDM:e=this.ymt(r);break;case n.CR:e=this.Amt(r);break;case n.ENM:this.bmt();break;case n.EOC:e=this.Tmt(r)}return e},n.Amt=function(t){var n=this.$wt;if(3!==this.vJ)return null;var i=this.amt(n,this.Jwt,t),r=n.Cwt()-n.Dwt()+1;return n.Owt(r-1,r,n.Dwt()),n.Mwt(0,r-1),n.Mwt(n.Cwt(),PX-n.Cwt()),this.Jwt=t,i},n.gmt=function(t,n){this.$wt=this.tmt;var i=this.$wt,r=null;return 3!==this.vJ&&4!==this.vJ&&(r=this.amt(i,this.Jwt,n),this.tmt.Fwt(),this.imt.Fwt(),this.Zwt=!1,i.xwt(PX)),this.vJ=3,i.Bwt(t),r},n.vmt=function(t){return this.omt(t,CX.Qwt," ".charCodeAt(0))},n.ymt=function(t){var n=this.tmt,i=null;return 4!==this.vJ&&(i=this.amt(n,this.Jwt,t)),n.Pwt(),this.Zwt=!1,i},n.wmt=function(t){this.vJ=2,this.$wt=this.tmt,this.$wt.Bwt(0),this.Jwt=t},n.bmt=function(){this.imt.Pwt()},n.Tmt=function(t){var n=null;4!==this.vJ&&(n=this.amt(this.tmt,this.Jwt,t));var i=this.imt;return this.imt=this.tmt,this.tmt=i,this.fmt(),this.Jwt=t,n},n.fmt=function(){this.vJ=1,this.$wt=this.imt,this.$wt.Bwt(0)},n._mt=function(){this.$wt.Lwt()},n.mmt=function(){this.smt.ir(),this.Zwt=!1,this.pmt()},n.pmt=function(){this.$wt=this.smt,this.vJ=4},n.Smt=function(t,n,i){return this.$wt.Zvt(CX.Qwt,n),this.omt(t,CX.Qwt,i)},n.kmt=function(t,n,i){var r=1&n?CX.Ywt:CX.jwt;return this.omt(t,r,i)},n.Emt=function(t){var n=t.Imt,i=t.lmt,r=t.dmt;if(this.emt===(n<<8|i))return this.emt=void 0,null;if(this.emt=n<<8|i,this.Pmt(n,i))this.rmt(n,i);else{if(this.Rmt(n,i))return this.hmt(r,i);if(this.Cmt(n,i))this.umt(n,i);else{if(this.xmt(n,i))return this.omt(r,CX.Kwt,i);if(this.Dmt(n,i))return this.kmt(r,n,i);if(this.Nmt(n,i))return this.cmt(t);this.isTabOffset(n)&&this.$wt.wwt(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.Nmt=function(t,n){return 20==(246&t)&&32==(240&n)},n.Pmt=function(t,n){return 16==(240&t)&&64==(192&n)},n.Rmt=function(t,n){return 17==(247&t)&&32==(240&n)},n.Cmt=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.xmt=function(t,n){return 17==(247&t)&&48==(240&n)},n.Dmt=function(t,n){return 18==(246&t)&&32==(224&n)},t.Bmt=function(t){return 16==(112&t)},t}(),FX={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.$M=0]="$M",t[t.Lmt=1]="Lmt",t[t.Omt=2]="Omt",t[t.Mmt=3]="Mmt",t[t.KT=4]="KT"}(OX||(OX={}));var HX,VX=["black","green","blue","cyan","red","yellow","magenta","black"],XX=["white","green","blue","cyan","red","yellow","magenta","white_italics"],zX=function(){function t(t,n,i,r,e){this.Fmt=t,this.Hwt=n,this.Wwt=i,this.Gwt=r,this.zwt=e}var n=t.prototype;return n.lwt=function(){return this.Fmt},n.Umt=function(){return this.Hwt},n.Hmt=function(){return this.Wwt},n.Vmt=function(){return this.Gwt},n.Wmt=function(){return this.zwt},t}(),WX=function(){function t(t){this.wpt=t,this.oF=!1,this.Qmt=!1,this.Xmt=0,this.zmt=0,this.Gmt=0,this.Kmt=0,this.jmt=0,this.gpt=2,this.Zmt=[],this.US=0,this.Rwt=0,this.ept=0,this.Wwt=!1,this.Hwt=!1,this.zwt=IX,this.Gwt=EX,this.Ymt()}var n=t.prototype;return n.qmt=function(t,n,i,r,e,u,s){this.oF=t,this.zmt=n,this.Xmt=i,this.Gmt=r,this.Qmt=e,this.Kmt=u,this.jmt=s},n.Ymt=function(){this.Zmt=[];for(var t=0;t<qX;t++)this.Zmt.push(this.Jmt())},n.Jmt=function(){for(var t=[],n=0;n<GX;n++)t.push(null);return t},n.$mt=function(t){this.tpt()&&(this.Zmt[this.Rwt][this.ept]=new zX(t,this.Hwt,this.Wwt,this.Gwt,this.zwt),this.ept++)},n.ipt=function(){this.tpt()&&(this.ept<=0&&this.Rwt<=0||(this.ept<=0?(this.ept=this.jmt-1,this.Rwt--):this.ept--,this.Zmt[this.Rwt][this.ept]=null))},n.tpt=function(){var t=this.Rwt<this.Kmt&&this.Rwt>=0,n=this.ept<this.jmt&&this.ept>=0;return t&&n},n.spt=function(){return this.oF},n.npt=function(t){for(var n=0,i=t;i<qX;i++,n++)this.Zmt[n]=this.Zmt[i];for(var r=0;r<t;r++,n++)this.Zmt[n]=this.Jmt()},n.rpt=function(){if(this.Rwt+1>=this.Kmt)return this.npt(1),void(this.ept=0);this.Rwt++,this.ept=0},n.hpt=function(){this.Zmt[this.Rwt]=this.Jmt(),this.ept=0},n.Twt=function(t,n){if(this.US>=t)return null;var i=SX.cwt(this.Zmt,this.US,t);return i?(this.opt(t),{IS:i,BW:"svc"+n,Iwt:n}):null},n.apt=function(t,n){this.Rwt=t,this.ept=n},n.upt=function(t){this.Gwt=t},n.cpt=function(t){this.zwt=t},n.lpt=function(t){this.Hwt=t},n.dpt=function(t){this.Wwt=t},n.fpt=function(){this.Rwt=0,this.ept=0,this.Hwt=!1,this.Wwt=!1,this.zwt=IX,this.Gwt=EX},n._pt=function(t){this.gpt=t},n.vpt=function(){this.oF=!0},n.ke=function(){this.oF=!1},n.jh=function(){this.oF=!this.oF},n.opt=function(t){this.US=t},t}();!function(t){t[t.mpt=0]="mpt",t[t.ppt=1]="ppt",t[t.ypt=2]="ypt",t[t.Apt=3]="Apt"}(HX||(HX={}));var GX=42,qX=15,YX=function(){function t(t){this.Npt=t,this.qpt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Dpt=void 0}var n=t.prototype;return n.bpt=function(t){var n=t.Tpt(),i=n.kT,r=n.dmt;i===JX&&(i=i<<16|t.Tpt().kT);return i>=0&&i<=31?this.Spt(i,r):i>=128&&i<=159?this.kpt(t,i,r):(i>=4096&&i<=4127?this.Ept(t,255&i):i>=4224&&i<=4255?this.Ipt(t,255&i):i>=32&&i<=127?this.Ppt(i):i>=160&&i<=255?this.Rpt(i):i>=4128&&i<=4223?this.Cpt(255&i):i>=4256&&i<=4351&&this.xpt(255&i),null)},n.Ppt=function(t){this.Dpt&&(127!==t?this.Dpt.$mt(String.fromCharCode(t)):this.Dpt.$mt("\u266a"))},n.Rpt=function(t){this.Dpt&&this.Dpt.$mt(String.fromCharCode(t))},n.Cpt=function(t){if(this.Dpt)if(void 0!==$X[t]){var n=$X[t];this.Dpt.$mt(n)}else this.Dpt.$mt("_")},n.xpt=function(t){this.Dpt&&(160===t?this.Dpt.$mt("[CC]"):this.Dpt.$mt("_"))},n.Spt=function(t,n){if(!this.Dpt)return null;var i=this.Dpt,r=null;switch(t){case jX:i.ipt();break;case KX:i.spt()&&(r=i.Twt(n,this.Npt)),i.rpt();break;case ZX:i.spt()&&(r=i.Twt(n,this.Npt)),i.hpt();break;case QX:i.spt()&&(r=i.Twt(n,this.Npt)),i.Ymt(),i.apt(0,0)}return r},n.kpt=function(t,n,i){if(n>=128&&n<=135){var r=7&n;this.Bpt(r)}else{if(136===n){var e=t.Tpt().kT;return this.Lpt(e,i)}if(137===n){var u=t.Tpt().kT;this.Opt(u,i)}else{if(138===n){var s=t.Tpt().kT;return this.Mpt(s,i)}if(139===n){var o=t.Tpt().kT;return this.Fpt(o,i)}if(140===n){var c=t.Tpt().kT;return this.Upt(c,i)}if(143===n)return this.ir(i);if(144===n)this.Hpt(t);else if(145===n)this.Vpt(t);else if(146===n)this.apt(t);else if(151===n)this.Wpt(t);else if(n>=152&&n<=159){var a=(15&n)-8;this.qmt(t,a,i)}}}return null},n.Ept=function(t,n){n>=8&&n<=15?t.zy(1):n>=16&&n<=23?t.zy(2):n>=24&&n<=31&&t.zy(3)},n.Ipt=function(t,n){n>=128&&n<=135?t.zy(4):n>=136&&n<=143&&t.zy(5)},n.Bpt=function(t){this.qpt[t]&&(this.Dpt=this.qpt[t])},n.zpt=function(t){var n;return Uo(this,(function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<8?1==(1&t)&&this.qpt[n]?[4,n]:[3,3]:[3,5];case 2:i.sent(),i.label=3;case 3:t>>=1,i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))},n.Lpt=function(t,n){for(var i=null,r=0,e=this.zpt(t);r<e.length;r++){var u=e[r],s=this.qpt[u];s.spt()&&(i=s.Twt(n,this.Npt)),s.Ymt()}return i},n.Opt=function(t,n){for(var i=0,r=this.zpt(t);i<r.length;i++){var e=r[i],u=this.qpt[e];u.spt()||u.opt(n),u.vpt()}},n.Mpt=function(t,n){for(var i=null,r=0,e=this.zpt(t);r<e.length;r++){var u=e[r],s=this.qpt[u];s.spt()&&(i=s.Twt(n,this.Npt)),s.ke()}return i},n.Fpt=function(t,n){for(var i=null,r=0,e=this.zpt(t);r<e.length;r++){var u=e[r],s=this.qpt[u];s.spt()?i=s.Twt(n,this.Npt):s.opt(n),s.jh()}return i},n.Upt=function(t,n){for(var i=null,r=0,e=this.zpt(t);r<e.length;r++){var u=e[r],s=this.qpt[u];s.spt()&&(i=s.Twt(n,this.Npt)),this.qpt[u]=void 0}return i},n.ir=function(t){var n=this.Upt(255,t);return this.NC(),n},n.NC=function(){this.Dpt=void 0,this.qpt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.Hpt=function(t){t.zy(1);var n=t.Tpt().kT;if(this.Dpt){var i=(128&n)>0,r=(64&n)>0;this.Dpt.dpt(i),this.Dpt.lpt(r)}},n.Vpt=function(t){var n=t.Tpt().kT,i=t.Tpt().kT;if(t.zy(1),this.Dpt){var r=3&n,e=(12&n)>>2,u=(48&n)>>4,s=3&i,o=(12&i)>>2,c=(48&i)>>4,a=this.Xpt(u,e,r),h=this.Xpt(c,o,s);this.Dpt.cpt(a),this.Dpt.upt(h)}},n.apt=function(t){var n=t.Tpt().kT,i=t.Tpt().kT;if(this.Dpt){var r=15&n,e=63&i;this.Dpt.apt(r,e)}},n.Wpt=function(t){t.zy(1),t.zy(1);var n=t.Tpt().kT;if(t.zy(1),this.Dpt){var i=3&n;this.Dpt._pt(i)}},n.qmt=function(t,n,i){var r=void 0!==this.qpt[n];if(!r){var e=new WX(n);e.opt(i),this.qpt[n]=e}var u=t.Tpt().kT,s=t.Tpt().kT,o=t.Tpt().kT,c=t.Tpt().kT,a=t.Tpt().kT,h=t.Tpt().kT,f=(32&u)>0,v=127&s,d=(128&s)>0,l=o,_=1+(15&c),g=(240&c)>>4,w=1+(63&a);r&&0===(7&h)||this.qpt[n].fpt(),this.qpt[n].qmt(f,v,l,g,d,_,w),this.Dpt=this.qpt[n]},n.Xpt=function(t,n,i){var r={0:0,1:0,2:1,3:1};return tz[r[t]<<2|r[n]<<1|r[i]]},t}(),jX=8,QX=12,KX=13,ZX=14,JX=16,$X={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},tz=["black","blue","green","cyan","red","magenta","yellow","white"],nz=function(){function t(){this.jpt=[],this.Kpt=null,this.Qpt=0}var n=t.prototype;return n.Gpt=function(t){if(t.Iw===tX.Evt){var n=63&t.kT;return this.Qpt=2*n-1,void(this.Kpt=[])}if(this.Kpt&&(this.Qpt>0&&(this.Kpt.push(t),this.Qpt--),0===this.Qpt)){var i=new iz(this.Kpt);this.jpt.push(i),this.Kpt=null,this.Qpt=0}},n.Ypt=function(){return this.jpt},n.Zpt=function(){this.jpt=[]},n.NC=function(){this.jpt=[],this.Kpt=[],this.Qpt=0},t}(),iz=function(){function t(t){this.Jpt=0,this.$pt=t}var n=t.prototype;return n.Gnt=function(){return this.Jpt<this.$pt.length},n.tyt=function(){return this.Jpt},n.Tpt=function(){if(!this.Gnt())throw new Dl(Rl.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.$pt[this.Jpt++]},n.zy=function(t){if(this.Jpt+t>this.$pt.length)throw new Dl(Rl.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Jpt+=t},t}(),rz=function(){function t(){this.lyt=!1,this.iyt=[],this.syt=[],this.nyt=new nz,this.eyt=0,this.ayt=zo({CC1:new UX(0,0),CC2:new UX(0,1),CC3:new UX(1,0),CC4:new UX(1,1)}),this.hyt=0,this.oyt=0,this.ryt=Xo(),this.ir()}var n=t.prototype;return n.NC=function(){this.eyt=0,this.iyt=[],this.syt=[],this.nyt.NC(),this.ir(),this.ryt.forEach((function(t){t.NC()}))},n.ir=function(){this.hyt=0,this.oyt=0,this.ayt.forEach((function(t){t.ir()}))},n.uyt=function(t,n){if(t.xvt){var i=t.Nvt,r=t.Bvt,e=t.Iw;e===tX.yvt||e===tX.Avt?this.iyt.push({dmt:n,Iw:e,Imt:i,lmt:r,cyt:this.iyt.length}):this.lyt&&(this.syt.push({dmt:n,Iw:e,kT:i,cyt:this.syt.length}),this.syt.push({dmt:n,Iw:tX.Svt,kT:r,cyt:this.syt.length}))}},n.lH=function(){var t=[];this.iyt.sort((function(t,n){return t.dmt-n.dmt||t.cyt-n.cyt})),this.syt.sort((function(t,n){return t.dmt-n.dmt||t.cyt-n.cyt}));for(var n=0,i=this.iyt;n<i.length;n++){var r=i[n],e=this.dyt(r);e&&t.push(e)}for(var u=0,s=this.syt;u<s.length;u++){var o=s[u];this.nyt.Gpt(o)}for(var c=this.nyt.Ypt(),a=0;a<c.length;a++){var h,f=c[a],v=this.fyt(f);(h=t).push.apply(h,_r(v))}return this.nyt.Zpt(),this.iyt=[],this.syt=[],t},n.dyt=function(t){var n=t.Iw;if(UX.Bmt(t.Imt)){var i=t.Imt>>3&1;0===n?this.hyt=i:this.oyt=i}var r="CC"+(n<<1|(n?this.oyt:this.hyt)+1),e=this.ayt.get(r);return 255===t.Imt&&255===t.lmt||!t.Imt&&!t.lmt||!this._yt(t.Imt)||!this._yt(t.lmt)?(++this.eyt>=45&&this.ir(),null):(this.eyt=0,t.Imt&=127,t.lmt&=127,t.Imt||t.lmt?UX.Bmt(t.Imt)?e.Emt(t):e.Smt(t.dmt,t.Imt,t.lmt):null)},n.fyt=function(t){var n=[];try{for(;t.Gnt();){var i=t.Tpt().kT,r=(224&i)>>5,e=31&i;if(7===r&&0!==e)r=63&t.Tpt().kT;if(0!==r){if(!this.ryt.has(r)){var u=new YX(r);this.ryt.set(r,u)}for(var s=this.ryt.get(r),o=t.tyt();t.tyt()-o<e;){var c=s.bpt(t);c&&n.push(c)}}}}catch(t){if(!(t instanceof Dl&&t.code===Rl.SUBTITLE_PARSE_ERROR))throw t}return n},n._yt=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),ez=function(t){function n(n,i){var r;return(r=t.call(this,"gyt")||this).Iwt=n,r.IS=i,r}return vr(n,t),n}(Va),uz=Om.fE(.1),sz=function(t){function n(){var n;return(n=t.call(this)||this).wyt=new rz,n}vr(n,t);var i=n.prototype;return i.vyt=function(t,n){this.wyt.uyt(t,n)},i.lH=function(){for(var t=this.wyt.lH(),n=0;n<t.length;n++){var i=t[n];this.To(new ez(i.Iwt,i.IS))}},i.ir=function(){this.wyt.NC()},i.bn=function(){this.Lo(),this.wyt.NC()},n}(Ua),oz=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Ayt=[],n}vr(n,t);var i=n.prototype;return i.myt=function(t,n,i,r){var e=this.pyt(t,r);this.yyt(e,n,i),this.lH()},i.pyt=function(t,n){var i,r=t.slice().sort(uL),e=this.Ayt;if(0===e.length)return r;if(0===r.length)return e;var u=e[0].Y3,s=e[e.length-1].Y3,o=r[0].Y3,c=e[0].$it===r[0].$it;if(s.Ak(o).wk().vk(Om.fE(2.5*n))&&c)i=e.concat(r).sort(uL);else if(o.dk(u)){for(var a=0;a<e.length&&e[a].Y3.vk(o);)a++;for(var h=!1,f=!1,v=a,d=0;v<e.length&&d<r.length;v++,d++)cz(e[v],r[d])?h=!0:f=!0;var l=h&&!f,_=h&&f;!h&&f?i=e.concat(r).sort(uL):l?i=e.slice(0,a).concat(r):(i=r,_&&this.ir())}else i=r,this.ir();return i},i.yyt=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=e.Y3.hk();if(!i&&n-u<uz.hk())return void(this.Ayt=t.slice(r));this.vyt(e,u)}this.Ayt=[]},n}(sz);function cz(t,n){return t.Y3.GS(n.Y3)&&t.Iw===n.Iw&&t.Nvt===n.Nvt&&t.Bvt===n.Bvt}var az=function(t){function n(n){var i;return(i=t.call(this)||this).Iyt=void 0,i.Ent=NaN,i.Ryt=NaN,i.xyt=function(t){for(var n=i.Syt({Z3:t.Iwt,J3:""}),r=t.IS,e=0,u=n.L.Kv;e<u.length;e++){var s=u[e];r.PS<s.PS&&r.RS>s.PS?r.RS=s.PS:r.PS>s.PS&&s.RS>r.PS?s.RS=r.PS:r.PS===s.PS&&(r.RS=s.RS)}n.vP(r)},i.lP=n,i.Tyt=Xo(),i.Cyt=new oz,i.Cyt.wn("gyt",i.xyt),i}vr(n,t);var i=n.prototype;return i.byt=function(t){return this.Tyt.get(t)},i.Syt=function(t){var n=this.Tyt.get(t.Z3);return n||(n=this.kyt(t),this.Tyt.set(t.Z3,n)),n},i.kyt=function(t){var n,i=[vy._w],r=function(t){if(t!==aX)for(var n=t.toLowerCase(),i=0;i<hX.length;i++){var r=hX[i];if(r[1]===n||r[2]===n||r["2T"]===n||r["2B"]===n||r[3]===n)return r}}(t.J3),e=r?r.l:"";t.Eyt&&(e="easy "+e,i.push(vy.pw)),n=t._h?"CC "+t._h:e?"CC "+e:"CC"+t.Z3;var u=this.lP.cP(gk.fI,n,n,t.J3,!1,Gy.CEA608,void 0,i);return this.tt(u),u},i.Ult=function(t){var n=Fp.uA(vf(t));this.Iyt=function(t){for(var n=0,i=t.Z;n<i.length;n++){var r=i[n],e=_X(r),u=r.NA.zA.QA.jA.ZA,s=jc(u,(function(t){return t.Iw===Hm.Dp}));if(!s){var o=u.filter((function(t){return t.Iw===Hm.jp})),c=jc(o,(function(t){var n;return(null==(n=t.Xb)?void 0:n.Iw)===Hm.Dp}));c&&(s=c.Xb)}if(s){var a=iD(vf(s.Db.Ny),new mf),h=s.Bb;return xo({},e,{MA:r.eA.MA,Db:yf(s.Db.Ny),Ti:s.Ti,Ci:s.Ci,iT:h&&h.iT,eT:h&&h.eT,_j:a.qQ,Pyt:a.zQ,gj:a.XQ,QQ:a.QQ[0],KQ:a.KQ[0]})}}}(jc(n,gX))},i.tut=function(t,n,i,r,e,u){var s;if(this.Iyt&&(w(this.Ent)||!De(this.Ent,n,1e-5))){w(this.Ryt)||De(this.Ryt,n,.1)||this.Cyt.ir();for(var o,c=function(t,n,i,r,e){for(var u=function(n){var r=o[n],u=jc(r.Z,(function(t){return t.eA.MA===i.MA}));if(!u)return"continue";for(var a,h=u.eA.rT||0,f=u.eA.hT||0,v=u.vT?u.vT.vT:Ee.ZERO,d=r.cT+(null!=(a=u.eA.wT)?a:Ee.ZERO).toNumber(),l=0,_=u.gT;l<_.length;l++)for(var g=_[l],w=d+(g.cT||0),y=0,m=g.bT;y<m.length;y++){var p=m[y],k=p.iA||f,A=new sD;A.aK(t,w,w+k);var b=Om.Ek(v,i.Fvt);A.WE=e(p,r,i,b,gf(t,w,w+k)),s.push(A),w+=k,v=v.add(p.ct||h||c)}},s=[],o=n.filter(vX),c=r(i),a=0;a<o.length;a++)u(a);return s}(t,Fp.uA(vf(t)),this.Iyt,fX,lX),a=null!=(o=null==(s=ha(c,(function(t){return t.WE.ct})))?void 0:s.WE.ct)?o:0,h=function(t){for(var n=[],i=0;i<t.length;i++){var r,e=t[i];e.WE.Gvt&&(r=n).push.apply(r,_r(e.WE.Gvt)),delete e.WE.Gvt}for(var u=0;u<n.length;u+=1)n[u].lT=u;return n}(c),f=Om.fE(r),v=[],d=0;d<h.length;d++){var l=h[d];v.push(xo({},l,{$it:e,Y3:l.Rvt.fS(f)}))}this.Cyt.myt(v,i,u,a),this.Ent=n,this.Ryt=i}},i.ir=function(){var n=this;return this.Cyt.ir(),this.Tyt.forEach((function(t){t.bn(),n.it(t),n.lP.mP(t)})),this.Tyt.clear(),this.Iyt=void 0,this.Ent=NaN,this.Ryt=NaN,t.prototype.ir.call(this)},i.bn=function(){return this.Cyt.pn("gyt",this.xyt),this.Cyt.bn(),t.prototype.bn.call(this)},n}(xk),hz=/(.*)=(.*)/,fz=/(.*):(.*)/;function vz(t){if(!t)return[];for(var n=[],i=t.trim().split(";"),r=0;r<i.length;r++){var e=i[r].match(hz);if(e){for(var u=Fo(e,3),s=u[1],o="",c=!1,a=0,h=u[2].trim().split(",");a<h.length;a++){var f=h[a];if(f.match(fz)){var v=Fo(f.match(fz),3),d=v[1],l=v[2];switch(d){case"lang":o=l;break;case"er":c=Boolean(Number(l))}}}n.push({Z3:Number(s),J3:o,Eyt:c})}}return n}var dz={1:1,2:3,3:2,4:4},lz="urn:scte:dash:cc:cea-608:2015",_z="urn:scte:dash:cc:cea-708:2015";var gz=function(t){function n(n,i,r){var e;return(e=t.call(this,Gw.zv)||this).$it=n,e.c_t=i,e.Dyt=r,e}return vr(n,t),n.prototype.pa=function(){return new wz(this.$it&&this.$it.ma)},n}(Hw),wz=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return vr(n,t),n}(Va),yz=[$l.Ph,qk.Bf,$l.Lu],mz=function(t){function n(n,i){var r;return(r=t.call(this)||this).Byt=function(t){var n=r.Lyt,i=r.Nyt(t.currentTime)||r.Wgt.Ldt;i&&n!==i&&(r.Lyt=i,i.$it&&r.To(new gz(i.$it,null==i?void 0:i.ma,null==n?void 0:n.ma)))},r.KO=n,r.KO.wn(yz,r.Byt),r.Wgt=i,r}vr(n,t);var i=n.prototype;return i.Nyt=function(t){for(var n=this.Wgt.Udt,i=0,r=n.Ht.sit;i<r.length;i++){var e=r[i];if(n.x_t.I_t(t,e))return e}},i.bn=function(){this.Lo(),this.KO.pn(yz,this.Byt)},n}(Ua),pz=function(t){function n(n,i,r,e,u,s,o,c,a,h,f){var v;return(v=t.call(this)||this).Ght=void 0,v.Wgt=void 0,v.Kyt=!1,v.wP=new pa,v.cvt=void 0,v.Uyt=void 0,v.Xyt=void 0,v.Oyt=new UT([]),v.evt=function(){!v.jdt()&&v.b_t()&&v.Vyt.evt()},v.Jht=function(t){v.Ght.Jht(t),v.To(new iX(t.c_t,t.Dyt))},v.Zyt=function(t){v.sAt(t)},v.wS=function(){var t=JV;return JV+=1,t}(),v.RY=n,v.fP=e,v.GF=u,v.Vyt=i,v.KO=r,v.Sat=s,v.lP=o,v.blt=c,v.fat=a,v.eat=a?KS(n,a):void 0,v.pat=h,v._lt=f,v}vr(n,t);var i=n.prototype;return i.Wyt=function(){var t;return null==(t=this.Ght)?void 0:t.qit.Jit.Pn},i.jdt=function(){return void 0!==this.Wgt&&this.Wgt.jdt},i.b_t=function(){if(void 0===this.Uyt)return!1;var t=this.Fyt().gF(),n=t.TF(this.Uyt);return!(n<0)&&t.Tn(n)!==this.Uyt},i.EY=function(){var t=this.Vyt.T_t,n=this.Fyt().Cn(t);this.Uyt=n.U>0?n.Pn(n.U-1):0;var i=t.Pn(0);isFinite(i)&&this.Uyt<i&&this.aG(this.Uyt,i),this.evt()},i.tut=function(t,n,i,r){var e=this;return Mo((function(){var u,s,o;return Uo(this,(function(c){switch(c.label){case 0:return u=i.met.NE,s=e.qyt(t,n,i,u,r),[4,Pa([e.zyt(t,n,i,u,r),s])];case 1:return o=Fo.apply(void 0,[c.sent(),1]),[2,o[0]]}}))}))()},i.qyt=function(t,n,i,r,e){var u=this;return Mo((function(){var s,o,c,a;return Uo(this,(function(h){switch(h.label){case 0:return ol(i.aV)?t.Iw!==yC.FI?[3,2]:[4,t.Ny.Uft().xL(e)]:[2];case 1:return o=h.sent(),s=new y(o),[3,3];case 2:s=new y(t.Ny._dt),h.label=3;case 3:return c=[],void 0!==u.blt&&(u.blt.tut(s,n.PS,r),c.push(u.blt)),void 0!==u.Xyt&&(a=i.fst(n),u.Xyt.tut(s,n.PS,n.RS,r,i.$it,a),c.push(u.Xyt)),Mk(u.bl,c),[2]}}))}))()},i.Ult=function(t,n,i){return ba(i),this.Xyt&&this.Xyt.Ult(new y(t._dt)),$.resolve()},i.On=function(t,n){var i=new pa;n&&i.U_(n),this.wP.Jl(),this.wP=i;var r=this.Gyt(t,this.cvt,i.M_);return this.cvt=r,r},i.Qyt=function(t){if(!ia(this._lt,Gy.CEA608)){var n=t.qit.Get;if(function(t){return t.some((function(t){return t.tet===lz||t.tet===_z}))}(n)){this.Xyt=new az(this.lP);for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(r.tet===lz)for(var e=cL(r.kT),u=0;u<e.length;u++){var s=e[u];n.push(s)}else if(r.tet===_z)for(var o=vz(r.kT),c=0;c<o.length;c++){var a=o[c];if(a.Z3<=4){var h=dz[a.Z3];n.push(xo({},a,{Z3:h}))}}}return n}(n),r=0;r<i.length;r++){var e=i[r];this.Xyt.Syt(e)}this.Oyt.MO(this.Xyt.Z)}}},i.Gyt=function(t,n,i){var r=this;return Mo((function(){return Uo(this,(function(e){switch(e.label){case 0:return ba(i),n?[4,n.catch(Vr)]:[3,2];case 1:e.sent(),e.label=2;case 2:return r.Ght===t&&r.Kyt?[2]:[4,r.jyt()];case 3:return e.sent(),ba(i),[4,r.Yyt()];case 4:return e.sent(),ba(i),t?[4,r.dP(t)]:[3,6];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))()},i.jyt=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return n=t.Ght,t.Ght=void 0,t.Kyt=!1,t.Uyt=void 0,n&&(n.pn(Gw.Gv,t.Zyt),n.oot(!1),n.pn(Gw.NO_QUALITY,t.Os)),t.Jyt&&(t.Jyt.bn(),t.Jyt=void 0),t.Wgt?[4,t.Wgt.bn()]:[3,2];case 1:i.sent(),t.Wgt=void 0,i.label=2;case 2:return t.Xyt?(t.Oyt.HO(t.Xyt.Z),[4,t.Xyt.bn()]):[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))()},i.dP=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.Ght=t,n.Qyt(t),t.wn(Gw.Gv,n.Zyt),t.wn(Gw.NO_QUALITY,n.Os),[4,n.$yt(t)];case 1:return i.sent(),n.Wgt=n.tAt(t),n.Wgt.wn(ZV,n.Os),n.Wgt.wn("Idt",n.evt),n.Wgt.Vdt=t.iot,n.Jyt=new mz(n.KO,n.Wgt),n.Jyt.wn(Gw.zv,n.Jht),t.oot(!0),n.Kyt=!0,[2]}}))}))()},i.ir=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.wP.Jl(),n.cvt?[4,n.cvt.catch(Vr)]:[3,2];case 1:i.sent(),n.cvt=void 0,i.label=2;case 2:return[4,n.jyt()];case 3:return i.sent(),t?[3,5]:[4,n.Yyt()];case 4:i.sent(),i.label=5;case 5:return[4,n.eAt()];case 6:return i.sent(),[2]}}))}))()},i.iAt=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return[4,t.jyt()];case 1:return n.sent(),[2]}}))}))()},i.sAt=function(t){this.Wgt&&this.Ght&&this.Ght===t.Ht&&(this.Wgt.Vdt=this.Ght.iot)},i.Tut=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.Wgt?[4,n.Wgt.Tut(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},i.Out=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.Wgt?[4,n.Wgt.Out(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},i.lz=function(){var t=this.bl.LF;return this.GF.lz(t)},i.bn=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:n.Lo(),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,n.ir(t)];case 2:return i.sent(),[4,n.iAt()];case 3:return i.sent(),[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},hr(n,[{key:"Xht",get:function(){return this.Ght}},{key:"o",get:function(){return this.wS}},{key:"PY",get:function(){return this.RY}},{key:"nt",get:function(){return this.Oyt}},{key:"Iet",get:function(){return function(t){var n=29.97,i=1024,r=44100;return t===py.yy?r/i:n}(this.RY)}},{key:"qgt",get:function(){return 1/this.Iet}},{key:"Rt",get:function(){return Boolean(this.Ght&&this.Ght.Rt)}},{key:"hG",get:function(){var t=this.Wgt?this.Wgt.Udt.hG.S_t:ZE.Nl();return this.Myt().Hl(t)}},{key:"bl",get:function(){var t=this.Fyt(),n=this.Uyt;return void 0!==n&&t.gF().br(n)&&(t=t.Hl(ZE.OF(n))),t}},{key:"p_t",get:function(){return DH(this.Fyt(),this.hG.Hl(this.Hyt)).yF(2*this.qgt)}},{key:"Hyt",get:function(){var t=this.Uyt;if(t&&isFinite(t)){var n=this.Vyt.Pn;if(isFinite(n)&&t<n)return new ZE([t,n],[!1,!0])}return ZE.Nl()}},{key:"kl",get:function(){var t=this.Ght;if(!t)return ZE.OF(0);var n=t.qit.pst,i=t.qit.mst;if(void 0===i||void 0===n)return ZE.OF(0);var r=i,e=n>=t.qit.Jit.Pn?l.max(n,this.Pn):n;return e=l.max(r,e),ZE.MF(r,e).gF()}},{key:"QO",get:function(){return this.p_t.BF(this.Wu)}},{key:"T_t",get:function(){return this.Vyt.T_t}},{key:"Wu",get:function(){return this.KO.Wu}},{key:"Tn",get:function(){return this.Ght?this.Ght.qit.Jit.Tn:NaN}},{key:"Pn",get:function(){var t=this.Wyt(),n=this.Uyt;return void 0===t?NaN:void 0!==n?n:t}},{key:"Ci",get:function(){return this.Vyt.Ci}},{key:"Ti",get:function(){return this.Vyt.Ti}},{key:"rvt",get:function(){return this.Uyt}}]),n}(Ua);function kz(t,n,i,r){var e,u,s=n.bF(t.gF());return 0===(s=s.bF(i.bF(n))).U?u=e=r.RS:(e=s.Tn(0),u=s.Pn(0)),{Pgt:e,Rgt:u}}function Az(t,n,i){var r=new Cp(vf(t),new mf),e=Bp.$y(r,Hm.pp);if(e){var u=Bp.Qy(e.Ny),s=jc(u,(function(t){return t.Iw===Hm.Ap})),o=jc(u,(function(t){return t.Iw===Hm.uy}));if(s){var c=Bp.$y(s.Ny,Hm.Tp);if(c){var a=Bp.$y(c.Ny,Hm.Ep);if(a){var h=Bp.$y(a.Ny,Hm.Ip);if(h){var f=Bp.Qy(h.Ny),v=jc(f,(function(t){return t.Iw===Hm.Pp}));if(v){var d=Bp.hA(v.Ny,Hm.Pp,!1),l=new Cp(vf(d.Ny),new mf);l.zy(4);for(var _=Bp.Qy(l),g=[],w=0;w<_.length;w++){var m=_[w];if(m.Iw===Hm.Kp||m.Iw===Hm.jp)return;m.Iw===Hm.Dp?g.push({nAt:m,rAt:Hm.jp}):m.Iw===Hm.qp&&g.push({nAt:m,rAt:Hm.Kp})}if(function(t,n){return void 0===t&&void 0!==n&&n.length>0}(o,n)||0!==g.length){var p=wf(t),k=jc(u,(function(t){return t.Iw===Hm.Cp})),A=k?Bp.$y(k.Ny,Hm.xp):void 0,b=A?function(t){var n=t.Ny.Iy();return n.zy(4),n.zy(4),n.My()}(A):1,T=jc(f,(function(t){return t.Iw===Hm.Rp}));T&&function(t,n,i){var r=Sz(vf(t),n),e=Bp.Jy(r,new mf),u=e.Ny;u.zy(4);for(var s=u.My(),o=0;o<s;o++){u.zy(4),u.zy(4);var c=u.By.Iy(),a=u.My();Hh(u.Ny,c,a+i)}}(p,T,g.length),A&&function(t,n,i){var r=Sz(vf(t),n),e=Bp.Jy(r,new mf),u=e.Ny;u.zy(4),u.zy(4),Hh(u.Ny,u.By,i)}(p,A,1),p=function(t,n,i,r){if(i||!r)return t;for(var e=t,u=0;u<r.length;u++){var s=r[u];e=bz(e,n,new y(s))}return e}(p,e,o,n);for(var S=[e,s,c,a,h,v],E=g.length-1;E>=0;E--){var I=g[E];p=Tz(p,I.nAt,v,S,I.rAt,i)}return{hAt:p,oAt:{aAt:g.length,nT:b}}}}}}}}}}function bz(t,n,i){var r=dh(t,i,n.Ny.Ny.byteOffset+n.Ny.Ny.byteLength);return Ez(Sz(vf(r),n),i.byteLength),r}function Tz(t,n,i,r,e,u){var s=function(t,n,i){0;var r=t.Ny.Ny,e=Dz(),u=new y(r.byteLength+e.byteLength),s=vf(u);u.set(df(r),0),Ez(s,e.byteLength),jh(s,new mf(Bz),n),u.set(e,r.byteLength),jh(s,new mf(r.byteLength+Pz),t.Iw),i&&Bh(s,new mf(r.byteLength+Oz),i);return u}(n,e,u),o=dh(t,s,n.Ny.Ny.byteOffset),c=vf(o);!function(t,n){var i=Bp.Jy(t,new mf),r=Bp.hA(i.Ny,Hm.Pp,!1),e=vf(r.Ny),u=e.getUint32(0);e.setUint32(0,u+n)}(Sz(c,i),1);for(var a=0;a<r.length;a++){Ez(Sz(c,r[a]),s.byteLength)}return o}function Sz(t,n){var i=n.Ny.Ny.byteOffset;return ff(t,i,i+n.Ny.Ny.byteLength)}function Ez(t,n){var i=new mf,r=Fh(t,i);if(0===r);else if(1===r){i.Ey(4);var e=Vh(t,i.Iy());Xh(t,i,e.add(n))}else i.gc(0),Hh(t,i,r+n)}var Iz=function(t){function n(n){var i;return(i=t.call(this)||this).lAt=[],i.cAt=n,i}vr(n,t);var i=n.prototype;return i.start=function(t){this.lX=t},i.transform=function(t){this.BG(t),this.uAt()},i.flush=function(){this.OG(),this.uAt()},i.zG=function(t){return t===Hm.Yp},i.GG=function(t){var n=wf(df(t.Ny.Ny)),i=Bp.Jy(vf(n),new mf);n=Rz(n,i,this.cAt),this.lAt.push(n)},i.KG=function(t){this.lAt.push(t)},i.uAt=function(){for(var t=0,n=function(t){if(t.length<2)return t;for(var n=[],i=t[0],r=i.buffer,e=i.byteOffset,u=i.byteLength,s=1;s<t.length;s++){var o,c=t[s];r===c.buffer&&e+u===c.byteOffset?u+=c.byteLength:(n.push(new y(r,e,u)),r=(o=c).buffer,e=o.byteOffset,u=o.byteLength)}return n.push(new y(r,e,u)),n}(this.lAt);t<n.length;t++){var i=n[t];this.lX.enqueue(i)}ea(this.lAt)},n}(PC);function Rz(t,n,i){for(var r=t,e=Bp.Qy(n.Ny),u=e.length-1;u>=0;u--){var s=e[u];s.Iw===Hm.Jp&&(r=Nz(r,s,n,i))}return r}function Nz(t,n,i,r){var e=Sz(vf(t),n),u=Bp.Jy(e,new mf),s=Bp.Qy(u.Ny),o=jc(s,(function(t){return t.Iw===Hm.$p}));if(!o)return t;var c=o.Ny,a=c.By.Iy(),h=c.My(),f=Up(h).flags;c.zy(4),f.Ry(zm.BASE_DATA_OFFSET_PRESENT)&&c.zy(8);var v=c.By.Iy();if(f.Ry(zm.SAMPLE_DESCRIPTION_INDEX_PRESENT)){var d=Fh(c.Ny,v);return Hh(c.Ny,c.By,d+r.aAt),t}Hh(c.Ny,a,h|zm.SAMPLE_DESCRIPTION_INDEX_PRESENT);var l=new y(4);vf(l).setUint32(0,r.nT+r.aAt);for(var _=c.Ny.byteOffset+v.Au,g=0,w=s.filter((function(t){return t.Iw===Hm.ey}));g<w.length;g++){Cz(w[g],l.byteLength)}for(var m=0,p=[o,n,i];m<p.length;m++){var k=p[m];Ez(Sz(vf(t),k),l.byteLength)}return dh(t,l,_)}function Cz(t,n){var i=t.Ny,r=Up(i.My()).flags;if(i.zy(4),r.Ry(Wm.DATA_OFFSET_PRESENT)){var e=i.Iy().My();Hh(i.Ny,i.By,e+n)}}var Dz=Gr((function(){return new y([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])})),Pz=16,Oz=64,Bz=4,Lz=function(t){function n(n,i,r,e,u,s,o,c,a,h,f,v){var d;return(d=t.call(this,n,i,r,e,u,o,c,a,h,f,v)||this).Mgt=void 0,d.gat=new GV,d.dAt=void 0,d.Lgt=s,d}vr(n,t);var i=n.prototype;return i.Fyt=function(){return this.Mgt?this.Mgt.bl:ZE.Nl()},i.Myt=function(){return this.Mgt?this.Mgt.CY:ZE.Nl()},i.zyt=function(t,n,i,r,e){var u=this;return Mo((function(){var s,o,c,a,h,f,v,d;return Uo(this,(function(l){switch(l.label){case 0:return ba(e),t.Iw===yC.FI?(c=t.Ny.BW,u.dAt&&(c=function(t,n){return t.pipeThrough(new Qi(new Iz(n)))}(c,u.dAt)),o={Iw:yC.FI,Ny:c}):(a=new y(t.Ny._dt),u.dAt&&(a=function(t,n){for(var i=wf(t),r=new Cp(vf(i),new mf),e=Bp.Qy(r),u=e.length-1;u>=0;u--){var s=e[u];s.Iw===Hm.Yp&&(i=Rz(i,s,n))}return i}(a,u.dAt)),o={Iw:yC.xX,Ny:a}),h={m6:n.PS,ct:n.ct,NE:r,gj:null==(s=i.$it)?void 0:s.cw},f=u.Mgt.bl,[4,u.fAt()];case 1:return l.sent(),[4,u.Mgt.Hj(o,h,e)];case 2:return l.sent(),v=u.Mgt.bl,d=u.Mgt.CY,[2,kz(f,v,d,n)]}}))}))()},i.Ult=function(n,i,r){var e=this;return Mo((function(){var u,s,o,c,a,h,f;return Uo(this,(function(v){switch(v.label){case 0:return[4,t.prototype.Ult.call(e,n,i,r)];case 1:return v.sent(),s=new y(n._dt),e._At(i)&&(o=e.Vyt.Fct,c=[],o&&(c=sa(o.Fat,(function(t){return t.BO})),a=o.Oat.nL?LR(o.Oat.nL):void 0),(h=Az(s,c,a))?(e.dAt=h.oAt,s=h.hAt):e.dAt=void 0),f={Iw:yC.xX,Ny:s},[4,e.fAt()];case 2:return v.sent(),[4,e.Mgt.qj(f,{gj:null==(u=i.$it)?void 0:u.cw},r)];case 3:return v.sent(),[2]}}))}))()},i.ogt=function(t,n,i){return this.Mgt.Qu(t,n,i)},i.aG=function(t,n){this.Mgt.NY(t,n)},i.uG=function(t,n){this.Mgt.BY(t,n)},i.$yt=function(t){var n=this;return Mo((function(){var i,r,e;return Uo(this,(function(u){switch(u.label){case 0:return r=FF.wat(null!=(i=t.iot)?i:t.sit,n.eat),e=r.aV,n.Mgt?[3,2]:[4,n.Vyt.gAt(e)];case 1:n.Mgt=u.sent(),n.Mgt.wn(lC.RX,n.Os),n.gat=new WV(n.Mgt),u.label=2;case 2:return[4,n.fAt()];case 3:return u.sent(),[2]}}))}))()},i.sAt=function(n){var i=this,r=n.Ht.iot;return void 0===r||r.some((function(t){return i.gat.OX(t)}))?t.prototype.sAt.call(this,n):void this.To(new Va("yct"))},i.eAt=function(){return this.Mgt&&(this.Mgt.pn(lC.RX,this.Os),this.Mgt=void 0),$.resolve()},i.Yyt=function(){return this.Mgt?this.Mgt.Qu(0,1/0):$.resolve()},i.tAt=function(t){return new XV(this,this.KO,this.KO,this.fP,this.GF,this.Lgt,this.Sat,this.fat,this.eat,this.gat,this.pat).y6(t)},i.fAt=function(){var t=this.Vyt.T_t,n=l.max(0,t.Tn(0)-.1),i=t.Pn(0)+.01;return this.Mgt.sY(n,i)},i._At=function(t){return!!ol(t.aV)&&(!!this.Vyt.i0||void 0!==this.Vyt.Fct)},hr(n,[{key:"Ti",get:function(){return this.Vyt.Ti}}]),n}(pz),Mz=function(t){function n(n,i,r,e,u,s,o,c,a,h,f,v,d){var l;return(l=t.call(this,r,e,u,n,s,o,c,h,v,d)||this).vAt=a,l.uY=i,l.Lgt=s.lowLatency,l.blt=f,l.Ect=s.abr,l.KO.wn($l.Sm,l.mvt),l}vr(n,t);var i=n.prototype;return i.FX=function(n,i,r){var e=this;return Mo((function(){return Uo(this,(function(u){switch(u.label){case 0:return e.uY===r?[3,2]:(e.uY=r,[4,e.nvt(!1)]);case 1:u.sent(),u.label=2;case 2:return[4,t.prototype.wvt.call(e,n,i)];case 3:return u.sent(),[2]}}))}))()},i.gvt=function(t){return new Lz(t,this,this.KO,this.fP,this.GF,this.Lgt,this.Sat,this.lP,this.blt,this.Ect,this.pat,this._lt)},i.vvt=function(){},i.gAt=function(t){if(Ac(t,"audio")){if(this.uY.mZ)return $.resolve(this.uY.mZ)}else if(Ac(t,"video")&&this.uY.pZ)return $.resolve(this.uY.pZ);throw new f("Cannot allocate source buffer for mime type "+t)},i.bn=function(n){return this.KO.pn($l.Sm,this.mvt),t.prototype.bn.call(this,n)},hr(n,[{key:"Ti",get:function(){return this.vAt.Ti}},{key:"Ci",get:function(){return this.vAt.Ci}},{key:"ct",get:function(){return this.KO.ct}},{key:"i0",get:function(){return this.KO.i0}}]),n}(KV),xz=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).tM=void 0,o.yAt={sS:0,nS:0,rS:0},o.TAt=function(t){o.OM(Iy(t.lt))},o.AAt=function(){o.mAt()},o.bAt=function(){o.pAt()},o.KO.wn(jp.aa,o.TAt),o.GF.wn("Gq",o.AAt),o.GF.wn("Yq",o.bAt),o.wAt=s,o.gM=new Fk(o.KO,o.fP),o.xu.MO(o.gM.Z),o.cM=new MT(n),o.KO.yM=o.cM,o.KO.d2=Uc(o),o.KO.wn([$l.Gw,$l.Xw],o.Os),o}vr(n,t);var i=n.prototype;return i.uut=function(t,n,i,r,e,u){var s=this.KO,o=this.tM;return new Mz(s,o,t,n,i,r,e,u,this.wAt,s,this.blt,this.pat,this._lt)},i.Lut=function(t,n,i){return t.FX(n,i,this.tM)},i.Put=function(t){return!!this.tM&&this.tM.OX(t)},i.yZ=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.KO.On(t)];case 1:return n.tM=i.sent(),n.mAt(),n.pAt(),n.tM.EZ(n.ct),[2]}}))}))()},i.Uut=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.yAt=t.jut,t.tM?[4,t.KO.ir()]:[3,2];case 1:n.sent(),t.tM=void 0,n.label=2;case 2:return[2]}}))}))()},i.EY=function(){this.tM.EY()},i.vY=function(){var t=this.ct;this.tM.ct<t&&this.tM.EZ(t),this.tM.vY()},i.Kct=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:return i=n.tM,r=[],i.mZ&&r.push(VD(i.mZ,t)),i.pZ&&r.push(VD(i.pZ,t)),[4,$.all(r)];case 1:return e.sent(),[2]}}))}))()},i.Nut=function(t){return this.tM.FX(t)},i.Uct=function(){return!0},i.W0=function(){return this.KO.dl()},i.elt=function(){this.KO.jl()},i.be=function(){t.prototype.be.call(this),this.KO.be()},i.ke=function(){t.prototype.ke.call(this),this.KO.ke()},i.Sct=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.gM.uP(i)}Wk(this.gM.Z)},i.clt=function(t,n,i,r){var e=this;return Mo((function(){return Uo(this,(function(u){switch(u.label){case 0:e.KO.gc(t,n,i),u.label=1;case 1:return e.act||e.Bc?[4,e.KO.eg([$l.Tf,$l.hm],r)]:[3,3];case 2:return u.sent(),[3,1];case 3:return[2]}}))}))()},i.mAt=function(){var t=this.tM;t&&(t.pZ&&(t.pZ.Qq=this.GF.sz),t.mZ&&(t.mZ.Qq=this.GF.sz))},i.pAt=function(){var t=this.tM;t&&(t.pZ&&(t.pZ.Zq=this.GF.Zq),t.mZ&&(t.mZ.Zq=this.GF.Zq))},i.ba=function(n,i,r){return this.cM.CO(n.contentProtection),t.prototype.ba.call(this,n,i,r)},i.determineStallJumpTarget=function(){if(this.but)return this.but.Bct()&&this.Wu>this.but.Pn-xD&&!this.but.Xut?this.but.Pn:void 0},i.ir=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,t.prototype.ir.call(n)];case 1:return i.sent(),n.yAt={sS:0,nS:0,rS:0},[4,n.gM.ir()];case 2:return i.sent(),n.KO.vM(),[2]}}))}))()},i.bn=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,t.prototype.bn.call(n)];case 1:return i.sent(),[4,n.gM.bn()];case 2:return i.sent(),n.xu.bn(),n.GF.pn("Gq",n.AAt),n.GF.pn("Yq",n.bAt),n.KO.pn(jp.aa,n.TAt),n.KO.pn([$l.Gw,$l.Xw],n.Os),n.KO.yM=void 0,n.KO.d2=void 0,[2]}}))}))()},hr(n,[{key:"tct",get:function(){return this.KO.Dc}},{key:"$u",get:function(){return this.KO.$u},set:function(t){this.KO.$u=t}},{key:"ect",get:function(){return this.KO.wl}},{key:"nt",get:function(){return this.xu}},{key:"Xu",get:function(){return this.KO.Xu},set:function(t){this.KO.Xu=t}},{key:"_l",get:function(){return this.KO._l},set:function(t){this.KO._l=Ce(t,0,1)}},{key:"act",get:function(){return this.KO.Fc}},{key:"Bc",get:function(){return this.KO.Bc}},{key:"jut",get:function(){return function(t,n){return{sS:t.sS+n.sS,nS:t.nS+n.nS,rS:t.rS+n.rS}}(this.yAt,this.KO.Rg())}}]),n}(bH);function Uz(t){var n=Ir.mR||Ir._R,i=void 0!==t&&void 0!==t.preferredAudioCodecs&&t.preferredAudioCodecs.some((function(t){return"ac-3"===t||"ec-3"===t})),r=n&&!i,e=new ko(!0);return Mo((function(t){var n,i,u;return Uo(this,(function(s){switch(s.label){case 0:return n=t.rM,e.bZ(n)||function(t,n){return!!t&&(ol(t)?Ek(n)||Rk(n):kc(t,sl.APPLICATION_TTML_XML)||kc(t,sl.TEXT_VTT)||kc(t,sl.IMAGE_JPEG))}(t.aV,t.bet)?(i=t.bet.some((function(t){return"ac-3"===t||"ec-3"===t})),r&&i?[2,!1]:t.ket?(u=t.ket,[4,da(sa(u,(function(t){return mc(t.tet)})).filter(Cr),(function(t){return tr.pN(t,n)}))]):[3,2]):[2,!1];case 1:if(!s.sent())return[2,!1];s.label=2;case 2:return[2,!0]}}))}))}var Fz=function(){function t(t){this.SAt=t}return hr(t,[{key:"Ci",get:function(){return this.SAt.offsetHeight*tr.Zs.C0}},{key:"Ti",get:function(){return this.SAt.offsetWidth*tr.Zs.C0}}]),t}(),Hz=function(){function t(t,n){this.xu=new wk,this._1=new AO(t,n)}var n=t.prototype;return n.cP=function(t,n,i,r,e,u,s,o){var c=new bP(t,n,i,r,e,u,s,void 0,o);return this.xu.tt(c),this._1.tt(c),c},n.mP=function(t){this.xu.it(t),this._1.it(t),t.bn()},n.ir=function(){for(var t=0,n=this.xu.Kv.slice();t<n.length;t++){n[t].bn()}this.xu.ir(),this._1.ir()},n.bn=function(){this.ir(),this.xu.bn(),this._1.bn()},hr(t,[{key:"nt",get:function(){return this.xu}}]),t}(),Vz=function(){function t(t){this.xO=t}var n=t.prototype;return n.MM=function(t){return this.xO.MM(t)},n.V7=function(t){return this.xO.V7(t)},n.AM=function(t){return this.xO.AM(t)},t}(),Xz=function(t){function n(n){var i;return(i=t.call(this)||this).tM=void 0,i.xAt=new hS,i.FAt=function(t){return i.pv(t)},i.KO=n,i.xAt.$v=n.nt,i.KO.wn(_C,i.FAt),i}vr(n,t);var i=n.prototype;return i.ag=function(){return this.KO.bl},i.cg=function(){return this.KO.qu},i._g=function(){return this.KO.Wu},i.vg=function(){return this.KO.ct},i.EAt=function(){return this.KO.eM},i.IAt=function(){return this.KO.Ic},i.ev=function(){return this.KO.wa},i.PAt=function(){return this.KO.Dc},i.Og=function(){return this.KO.wl},i.Hg=function(){return this.KO.Nc},i.Vg=function(){return this.KO.kl},i.Wg=function(){return this.KO.Fc},i.RAt=function(){return this.KO.Bc},i.CAt=function(){return this.KO.$c},i.zg=function(){return this.xAt},i.M2=function(){return this.KO.Cu},i.DAt=function(){return this.KO.yM},i.NAt=function(t){this.KO.yM=t},i.BAt=function(t){this.KO.d2=t},i.LAt=function(){return this.KO.i0},i.Rg=function(){return this.KO.Rg()},i.dl=function(){return this.KO.dl()},i.jl=function(){this.KO.jl()},i.gc=function(t,n,i){this.KO.gc(t,n,i)},i.jO=function(t){this.KO.jO(t)},i.be=function(){this.KO.be()},i.ke=function(){this.KO.ke()},i.cP=function(t,n,i,r,e,u,s,o){return this.KO.cP(t,n,i,r,e,u,s,o)},i.dM=function(){return this.KO.dM()},i._M=function(t,n,i,r,e){return this.KO._M(t,n,i,r,e)},i.mP=function(t){this.KO.mP(t)},i.vM=function(){this.KO.vM()},i.iG=function(t){return this.KO.iG(t)},i.On=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:return[4,n.KO.On(t)];case 1:return i=e.sent(),r=t.Iw===Gk.vB?n.OAt(i):n.MAt(i),n.tM=r,[2,r]}}))}))()},i.ir=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.tM?[4,t.tM.Ou()]:[3,2];case 1:n.sent(),t.tM=void 0,n.label=2;case 2:return[4,t.KO.ir()];case 3:return n.sent(),[2]}}))}))()},i.o2=function(){this.KO.o2()},i.a2=function(){this.KO.a2()},i.Ou=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.Lo(),t.KO.pn(_C,t.FAt),t.xAt.$v=void 0,t.xAt.bn(),t.tM?[4,t.tM.Ou()]:[3,2];case 1:n.sent(),t.tM=void 0,n.label=2;case 2:return[2]}}))}))()},i.fl=function(){this.KO.fl()},i.UAt=function(t){this.KO.pn(_C,this.FAt),this.KO=t,this.xAt.$v=t.nt,this.KO.wn(_C,this.FAt)},i.pv=function(t){this.To(t)},hr(n,[{key:"kAt",get:function(){return this.KO}},{key:"bl",get:function(){return this.ag()}},{key:"qu",get:function(){return this.cg()}},{key:"Wu",get:function(){return this._g()}},{key:"k0",get:function(){return this.KO.k0}},{key:"ct",get:function(){return this.vg()}},{key:"eM",get:function(){return this.EAt()}},{key:"Ic",get:function(){return this.IAt()}},{key:"lt",get:function(){return this.KO.lt}},{key:"Ci",get:function(){return this.KO.Ci}},{key:"Ti",get:function(){return this.KO.Ti}},{key:"wa",get:function(){return this.ev()}},{key:"Xu",get:function(){return this.KO.Xu},set:function(t){this.KO.Xu=t}},{key:"Dc",get:function(){return this.PAt()}},{key:"$u",get:function(){return this.KO.$u},set:function(t){this.KO.$u=t}},{key:"wl",get:function(){return this.Og()}},{key:"Nc",get:function(){return this.Hg()}},{key:"kl",get:function(){return this.Vg()}},{key:"Fc",get:function(){return this.Wg()}},{key:"Bc",get:function(){return this.RAt()}},{key:"$c",get:function(){return this.CAt()}},{key:"nt",get:function(){return this.zg()}},{key:"Cu",get:function(){return this.M2()}},{key:"M0",get:function(){return this.KO.M0}},{key:"_l",get:function(){return this.KO._l},set:function(t){this.KO._l=t}},{key:"u2",get:function(){return this.KO.u2}},{key:"Eg",get:function(){return this.KO.Eg}},{key:"d0",get:function(){return this.KO.d0}},{key:"yM",get:function(){return this.DAt()},set:function(t){this.NAt(t)}},{key:"d2",get:function(){return this.KO.d2},set:function(t){this.BAt(t)}},{key:"i0",get:function(){return this.LAt()}}]),n}(Ua),zz=function(t){function n(n){return t.call(this,n)}vr(n,t);var i=n.prototype;return i.l2=function(t){this.KO.l2(t)},i.p0=function(){this.KO.p0()},i.wv=function(){this.KO.wv()},hr(n,[{key:"JO",get:function(){return this.KO.JO}},{key:"KZ",get:function(){return this.KO.KZ}},{key:"tv",get:function(){return this.KO.tv},set:function(t){this.KO.tv=t}}]),n}(Xz),Wz=function(){function t(t){this.tM=t}var n=t.prototype;return n.dN=function(){return this.tM.xb},n.Vg=function(){return this.tM.kl},n.OX=function(t){return this.tM.OX(t)},n.FX=function(t){return this.tM.FX(t)},n.Ou=function(){return $.resolve()},hr(t,[{key:"xb",get:function(){return this.dN()}},{key:"kl",get:function(){return this.Vg()}},{key:"rt",get:function(){return this.tM.rt}}]),t}(),Gz=function(t){function n(n){var i;return(i=t.call(this,n)||this).TZ=void 0,i.SZ=void 0,i.zAt=function(t){return i.XAt(t)},i}vr(n,t);var i=n.prototype;return i.ag=function(){return this.tM.bl},i.vg=function(){return this.tM.ct},i.HAt=function(){return this.tM.$X},i.EZ=function(t){this.tM.EZ(t)},i.CZ=function(t,n,i,r){this.tM.CZ(t,n,i,r)},i.EY=function(){this.tM.EY()},i.vY=function(){this.tM.vY()},i.Ou=function(){return this.TZ&&(this.TZ.Ou(),this.TZ=void 0),this.SZ&&(this.SZ.Ou(),this.SZ=void 0),t.prototype.Ou.call(this)},i.VAt=function(t){this.tM=t,this.TZ?t.mZ?this.TZ.WAt(t.mZ):(this.TZ.Ou(),this.TZ=void 0):t.mZ&&(this.TZ=this.qAt(t.mZ),this.TZ.wn(mC,this.zAt)),this.SZ?t.pZ?this.SZ.WAt(t.pZ):(this.SZ.Ou(),this.SZ=void 0):t.pZ&&(this.SZ=this.qAt(t.pZ),this.SZ.wn(mC,this.zAt))},i.XAt=function(t){},hr(n,[{key:"mZ",get:function(){return this.TZ}},{key:"pZ",get:function(){return this.SZ}},{key:"bl",get:function(){return this.ag()}},{key:"ct",get:function(){return this.vg()}},{key:"$X",get:function(){return this.HAt()}}]),n}(Wz),qz=function(t){function n(n){var i;return(i=t.call(this)||this).iz=0,i.rz=0,i.al=n,i}vr(n,t);var i=n.prototype;return i.Hj=function(t,n,i){return $.reject(new f("Invalid media buffer"))},i.LY=function(){return $.reject(new f("Invalid media buffer"))},i.qj=function(t,n,i){return $.reject(new f("Invalid media buffer"))},i.$X=function(){return!1},i.EY=function(){},i.NY=function(t,n){},i.BY=function(t,n){},i.Qu=function(t,n,i){return $.resolve()},i.sY=function(t,n){return $.reject(new f("Invalid media buffer"))},i.yS=function(t,n){return $.reject(new f("Invalid media buffer"))},i.OX=function(t){return!1},i.FX=function(t){return $.reject(new f("Invalid media buffer"))},i.Ou=function(){this.Lo()},hr(n,[{key:"Zq",get:function(){return this.rz},set:function(t){this.rz=t}},{key:"bl",get:function(){return ZE.Nl()}},{key:"xb",get:function(){return this.al}},{key:"PY",get:function(){return py.YT}},{key:"CY",get:function(){return ZE.Nl()}},{key:"GAt",get:function(){return!1}},{key:"Qq",get:function(){return this.iz},set:function(t){this.iz=t}}]),n}(Ua),Yz=function(t){function n(n){var i;return(i=t.call(this)||this).JAt=function(t){return i.pv(t)},i.Mgt=n,i.Mgt.wn(mC,i.JAt),i}vr(n,t);var i=n.prototype;return i.QAt=function(){return this.Mgt.Zq},i.KAt=function(t){this.Mgt.Zq=t},i.ag=function(){return this.Mgt.bl},i.dN=function(){return this.Mgt.xb},i.jAt=function(){return this.Mgt.CY},i.YAt=function(){return this.Mgt.Qq},i.ZAt=function(t){this.Mgt.Qq=t},i.Hj=function(t,n,i){return this.Mgt.Hj(t,n,i)},i.LY=function(){return this.Mgt.LY()},i.qj=function(t,n,i){return this.Mgt.qj(t,n,i)},i.$X=function(){return this.Mgt.$X()},i.EY=function(){this.Mgt.EY()},i.NY=function(t,n){this.Mgt.NY(t,n)},i.BY=function(t,n){this.Mgt.BY(t,n)},i.Qu=function(t,n,i){return this.Mgt.Qu(t,n,i)},i.sY=function(t,n){return this.Mgt.sY(t,n)},i.OX=function(t){return this.Mgt.OX(t)},i.FX=function(t){return this.Mgt.FX(t)},i.pv=function(t){this.To(t)},i.Ou=function(){this.Lo(),this.WAt(new qz(this.xb))},i.WAt=function(t){this.Mgt.pn(mC,this.JAt),this.Mgt=t,this.Mgt.wn(mC,this.JAt)},hr(n,[{key:"Zq",get:function(){return this.QAt()},set:function(t){this.KAt(t)}},{key:"bl",get:function(){return this.ag()}},{key:"xb",get:function(){return this.dN()}},{key:"PY",get:function(){return this.Mgt.PY}},{key:"CY",get:function(){return this.jAt()}},{key:"Qq",get:function(){return this.YAt()},set:function(t){this.ZAt(t)}}]),n}(Ua),jz=function(t){function n(n){var i;return(i=t.call(this,n)||this).KO=void 0,i}vr(n,t);var i=n.prototype;return i.Hj=function(t,n,i){var r=this;return Mo((function(){return Uo(this,(function(e){switch(e.label){case 0:return ba(i),[4,r.zgt(r.KO.Wu,null==n?void 0:n.m6,null==n?void 0:n.ct)];case 1:return e.sent(),ba(i),t.Iw!==yC.FI?[3,3]:[4,r.$At(t,n,i)];case 2:case 4:return[2,e.sent()];case 3:return[4,r.tbt(t,n,i)];case 5:return[2]}}))}))()},i.$At=function(t,n,i){var r=this;return Mo((function(){var e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:e=t,a.label=1;case 1:0,u=Fo(f_(e.Ny),2),s=u[0],o=u[1],e={Iw:yC.FI,Ny:s},a.label=2;case 2:return a.trys.push([2,4,,7]),[4,r.ebt(e,n,i)];case 3:return a.sent(),o.cancel(new ka).catch(Vr),[2];case 4:return ON(c=a.sent())?[4,r.zgt(r.KO.Wu,n.m6,n.ct,i)]:[3,6];case 5:if(a.sent())return e={Iw:yC.FI,Ny:o},[3,1];a.label=6;case 6:throw o.cancel(c).catch(Vr),c;case 7:return[3,1];case 8:return[2]}}))}))()},i.tbt=function(t,n,i){var r=this;return Mo((function(){var e;return Uo(this,(function(u){switch(u.label){case 0:0,u.label=1;case 1:return u.trys.push([1,3,,6]),ba(i),[4,r.ebt(t,n,i)];case 2:return[2,u.sent()];case 3:return ON(e=u.sent())?[4,r.zgt(r.KO.Wu,n.m6,n.ct,i)]:[3,5];case 4:if(u.sent())return[3,0];u.label=5;case 5:throw e;case 6:return[3,0];case 7:return[2]}}))}))()},i.zgt=function(t,n,i,r){var e=this;return Mo((function(){var u,s,o,c,a;return Uo(this,(function(h){switch(h.label){case 0:u=PN(t,n,i,e.bl,e.Qq,e.Zq),s=0,h.label=1;case 1:return s<u.length?(o=Fo(u[s],2),c=o[0],a=o[1],[4,e.ibt(c,a,r)]):[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return[2,u.length>0]}}))}))()},i.ebt=function(n,i,r){return t.prototype.Hj.call(this,n,i,r)},i.ibt=function(n,i,r){return t.prototype.Qu.call(this,n,i,r)},hr(n,[{key:"F7",get:function(){return this.KO},set:function(t){this.KO=t}}]),n}(Yz),Qz=function(t){function n(n){var i;return(i=t.call(this,n)||this).KO=void 0,i.VAt(n),i}return vr(n,t),n.prototype.qAt=function(t){var n=new jz(t);return n.F7=this.KO,n},hr(n,[{key:"F7",get:function(){return this.KO},set:function(t){this.KO=t,this.TZ&&(this.TZ.F7=t),this.SZ&&(this.SZ.F7=t)}}]),n}(Gz),Kz=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),hr(n,[{key:"Mg",get:function(){return this.tM.Mg},set:function(t){this.tM.Mg=t}}]),n}(Wz),Zz=function(t){function n(n){return t.call(this,n)}vr(n,t);var i=n.prototype;return i.l2=function(t){this.KO.l2(t)},i.p0=function(){this.KO.p0()},i.wv=function(){this.KO.wv()},i.rv=function(){return this.KO.rv()},hr(n,[{key:"JO",get:function(){return this.KO.JO}},{key:"KZ",get:function(){return this.KO.KZ}},{key:"Kg",get:function(){return this.KO.Kg}},{key:"Xg",get:function(){return this.KO.Xg}},{key:"tv",get:function(){return this.KO.tv},set:function(t){this.KO.tv=t}}]),n}(Xz),Jz=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.MAt=function(t){var n=new Qz(t);return n.F7=this,n},i.OAt=function(t){return new Kz(t)},hr(n,[{key:"kAt",get:function(){return this.KO}}]),n}(zz),$z=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.MAt=function(t){var n=new Qz(t);return n.F7=this,n},i.OAt=function(t){return new Kz(t)},hr(n,[{key:"kAt",get:function(){return this.KO}}]),n}(Zz),tW=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.MM=function(n){return n===py.vl?new $z(t.prototype.MM.call(this,n)):n===py.yy?new Jz(t.prototype.MM.call(this,n)):void 0},i.AM=function(n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return[4,(r=n).Ou()];case 1:return e.sent(),[4,t.prototype.AM.call(i,r.kAt)];case 2:return e.sent(),[2]}}))}))()},n}(Vz),nW=function(){function t(t){var n=this;this.nbt=function(t){t.persisted&&n.sbt()},this.Ko=t,r.addEventListener("pageshow",this.nbt)}var n=t.prototype;return n.sbt=function(){this.Ko.mv()},n.bn=function(){r.removeEventListener("pageshow",this.nbt)},t}(),iW=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u,new Fz(s))||this).SAt=s,Ir.MR&&(o.rbt=new nW(Uc(o))),o}vr(n,t);var i=n.prototype;return i.rv=function(){if(nx(this.KO))return this.KO.rv()},i.bn=function(){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return[4,t.prototype.bn.call(n)];case 1:return r.sent(),null==(i=n.rbt)||i.bn(),[2]}}))}))()},i.Lct=function(n){var i,r;return((null!=(r=null==(i=this.cut)?void 0:i.seamlessSwitchStrategy)?r:DS.XT)!==DS.XT||!Ir.ZR)&&t.prototype.Lct.call(this,n)},i.Uct=function(){return!(Ir._R&&Ir.vR<3)&&t.prototype.Uct.call(this)},i.Flt=function(){return new Hz(this,new bO)},i.glt=function(t){return Uz(t)},hr(n,[{key:"cct",get:function(){return nx(this.KO)?this.KO.Xg:0}},{key:"dct",get:function(){return nx(this.KO)?this.KO.Kg:0}}]),n}(xz),rW=function(t){function n(n,i,r,e,u,s,o){var c,a=new tW(u),h=a.MM(s);return(c=t.call(this,n,i,r,e,h,o)||this).bM=a,c}return vr(n,t),n.prototype.bn=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,t.prototype.bn.call(n)];case 1:return i.sent(),[4,n.bM.AM(n.KO)];case 2:return i.sent(),[2]}}))}))()},n}(iW),eW=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).h7=n,r}vr(n,t);var i=n.prototype;return i.ag=function(){return t.prototype.ag.call(this).Ey(this.hbt)},i.jAt=function(){return t.prototype.jAt.call(this).Ey(this.hbt)},i.Hj=function(n,i,r){var e=this.hbt;return t.prototype.Hj.call(this,n,{m6:i.m6-e,ct:i.ct,NE:i.NE-e},r)},i.sY=function(n,i){var r=this.hbt;return t.prototype.sY.call(this,l.max(0,n-r),l.max(0,i-r))},i.Qu=function(n,i,r){var e=this.hbt;return t.prototype.Qu.call(this,l.max(0,n-e),l.max(0,i-e),r)},i.NY=function(n,i){var r=this.hbt;t.prototype.NY.call(this,l.max(0,n-r),l.max(0,i-r))},i.BY=function(n,i){var r=this.hbt;t.prototype.BY.call(this,l.max(0,n-r),l.max(0,i-r))},hr(n,[{key:"hbt",get:function(){return this.h7.hbt}}]),n}(Yz),uW=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).VAt(i),r.h7=n,r}vr(n,t);var i=n.prototype;return i.vg=function(){return t.prototype.vg.call(this)+this.hbt},i.EZ=function(n){t.prototype.EZ.call(this,n-this.hbt)},i.Vg=function(){return t.prototype.Vg.call(this).Ey(this.hbt)},i.CZ=function(n,i,r,e){var u=this.hbt;t.prototype.CZ.call(this,n-u,i-u,r,e)},i.qAt=function(t){return new eW(this,t)},hr(n,[{key:"hbt",get:function(){return this.h7.hbt}}]),n}(Gz),sW=function(t){function n(n){var i;return(i=t.call(this,n)||this).obt=0,i.lP=new Hz(Uc(i),new bO),i.xu=new UT([i.lP.nt,t.prototype.zg.call(Uc(i))]),i.Q4=new rB,i.Q4.l2(i.JO.parentElement),i.K4=new vL(i.Q4.je,i.k0,i.xu,i.Cu,i.wa),i}vr(n,t);var i=n.prototype;return i.ag=function(){return t.prototype.ag.call(this).Ey(this.obt)},i.cg=function(){return oW(t.prototype.cg.call(this),this.obt)},i._g=function(){return t.prototype._g.call(this)+this.obt},i.vg=function(){return t.prototype.vg.call(this)+this.obt},i.Og=function(){return t.prototype.Og.call(this).Ey(this.obt)},i.Vg=function(){return t.prototype.Vg.call(this).Ey(this.obt)},i.gc=function(n,i,r){var e=l.max(0,n-this.obt);t.prototype.gc.call(this,e,i,r)},i.jO=function(n){t.prototype.jO.call(this,oW(n,-this.obt))},i.zg=function(){return this.xu},i.cP=function(t,n,i,r,e,u,s,o){return this.lP.cP(t,n,i,r,e,u,s,o)},i.mP=function(t){this.lP.mP(t)},i.vM=function(){this.lP.ir(),t.prototype.vM.call(this)},i.dM=function(){return!1},i._M=function(t,n,i,r,e){throw new f("Not supported")},i.Ou=function(){return this.K4.bn(),this.Q4.bn(),this.lP.bn(),this.xu.bn(),t.prototype.Ou.call(this)},i.MAt=function(t){return new uW(this,t)},i.OAt=function(t){return new Kz(t)},i.pv=function(n){var i;switch(n.type){case $l.Ph:i=new mE(n.currentTime+this.obt);break;case $l.Ch:i=new yE(n.currentTime+this.obt);break;case qk.Qf:i=new iA(n.currentTime+this.obt);break;case $l.Lu:i=new Fw(n.currentTime+this.obt,oW(n.currentProgramDateTime,this.obt));break;case $l.Rf:i=new SC(n.currentTime+this.obt);break;case $l.If:i=new bE(n.currentTime+this.obt);break;case $l.Tf:i=new TE(n.currentTime+this.obt);break;case $l.im:i=new jD(n.currentTime+this.obt);break;case $l.hm:i=new WO(n.currentTime+this.obt);break;case $l.Pf:i=new AE(n.currentTime+this.obt);break;case $l.Vu:i=new kE(n.currentTime+this.obt,n.playbackRate);break;case $l.Il:i=new SE(n.currentTime+this.obt,n.volume);break;case $l.Nf:i=new pE(n.duration+this.obt);break;case qk.Bf:i=new Kk(n.currentTime+this.obt,n.readyState);break;default:i=n}t.prototype.pv.call(this,i)},i.ke=function(){t.prototype.ke.call(this),this.Q4.ke()},i.be=function(){t.prototype.be.call(this),this.Q4.be()},hr(n,[{key:"kAt",get:function(){return this.KO}},{key:"hbt",get:function(){return this.obt},set:function(t){this.obt=t}}]),n}(Zz);function oW(t,n){return t?new Date(t.getTime()+1e3*n):void 0}var cW=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.MM=function(n){if(n===py.vl)return new sW(t.prototype.MM.call(this,n))},i.AM=function(n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return[4,(r=n).Ou()];case 1:return e.sent(),[4,t.prototype.AM.call(i,r.kAt)];case 2:return e.sent(),[2]}}))}))()},n}(Vz),aW=function(t){function n(n,i,r,e,u,s,o){var c,a=new cW(new tW(u)),h=a.MM(s);return(c=t.call(this,n,i,r,e,h,o)||this).bM=a,c.abt=void 0,c}vr(n,t);var i=n.prototype;return i.yZ=function(n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return[4,t.prototype.yZ.call(i,n)];case 1:return r.sent(),void 0===i.abt&&(i.abt=i.ubt(),i.KO.hbt=i.abt),[2]}}))}))()},i.ubt=function(){if(this.ct===1/0){var t=this.Qut;if(t.U>0)return l.max(0,t.Tn(0)-300)}return 0},i.t1=function(n,i,r,e,u,s,o,c){return void 0===s&&(s=!1),void 0===o&&(o=TF.jot),void 0===c&&(c=!1),c||(c=this.ct===1/0&&Ir._R&&Ir.vR<3&&n<=this.Wu),t.prototype.t1.call(this,n,i,r,e,u,s,o,c)},i.ir=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,t.prototype.ir.call(n)];case 1:return i.sent(),n.abt=void 0,n.KO.hbt=0,[2]}}))}))()},i.bn=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,t.prototype.bn.call(n)];case 1:return i.sent(),[4,n.KO.Ou()];case 2:return i.sent(),[4,n.bM.AM(n.KO)];case 3:return i.sent(),[2]}}))}))()},n.EN=function(t){var n;return(!t||"google-dai"!==(null==t||null==(n=t.ssai)?void 0:n.integration))&&(Ir._R&&Ir.vR<4)},n}(iW),hW=function(t){function n(n){return t.call(this,n)}return vr(n,t),hr(n,[{key:"kAt",get:function(){return this.KO}},{key:"Xg",get:function(){return this.KO.Xg}},{key:"Kg",get:function(){return this.KO.Kg}}]),n}(Xz),fW=function(t){function n(n){var i;return(i=t.call(this,n)||this).wY=void 0,i.cbt=void 0,i.rz=0,i.lbt=ZE.Nl(),i.dbt=ZE.Nl(),i.wbt=[],i.g6=!1,i.vbt=!1,i.iz=0,i.al=n.xb,i}vr(n,t);var i=n.prototype;return i.QAt=function(){return this.cbt?this.rz:t.prototype.QAt.call(this)},i.KAt=function(n){this.cbt?this.rz=n:t.prototype.KAt.call(this,n)},i.ag=function(){return this.cbt?this.lbt:t.prototype.ag.call(this)},i.dN=function(){return this.cbt?this.al:t.prototype.dN.call(this)},i.jAt=function(){return this.cbt?this.dbt:t.prototype.jAt.call(this)},i.YAt=function(){return this.cbt?this.iz:t.prototype.YAt.call(this)},i.ZAt=function(n){this.cbt?this.iz=n:t.prototype.ZAt.call(this,n)},i.Hj=function(t,n,i){var r=this;return this.Vj((function(i){return r.fbt(t,n,i)}),i)},i.fbt=function(n,i,r){return t.prototype.Hj.call(this,n,i,r)},i.LY=function(){var t=this;return this.Vj((function(){return t._bt()}))},i._bt=function(){return t.prototype.LY.call(this)},i.qj=function(t,n,i){var r=this;return this.Vj((function(i){return r.gbt(t,n,i)}),i)},i.gbt=function(n,i,r){return t.prototype.qj.call(this,n,i,r)},i.$X=function(){return this.cbt?this.g6:t.prototype.$X.call(this)},i.EY=function(){this.cbt?this.vbt=!0:t.prototype.EY.call(this)},i.NY=function(t,n){this.lY(),this.cbt?(this.dbt=this.dbt.Hl(new ZE([t,n])),this.wbt.push({Iw:"P_t",PS:t,RS:n})):this.mbt(t,n)},i.mbt=function(n,i){t.prototype.NY.call(this,n,i)},i.sY=function(t,n){var i=this;return this.Vj((function(){return i.pbt(t,n)}))},i.pbt=function(n,i){return t.prototype.sY.call(this,n,i)},i.BY=function(t,n){this.lY(),this.cbt?(this.dbt=this.dbt.bF(new ZE([t,n])),this.wbt.push({Iw:"Qu",PS:t,RS:n})):this.ybt(t,n)},i.ybt=function(n,i){t.prototype.BY.call(this,n,i)},i.Qu=function(t,n,i){var r=this;return this.Vj((function(i){return r.Abt(t,n,i)}),i)},i.Abt=function(n,i,r){return t.prototype.Qu.call(this,n,i,r)},i.FX=function(t){var n=this;return this.Vj((function(){return n.bbt(t)}))},i.bbt=function(n){return t.prototype.FX.call(this,n)},i.Vj=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return i.lY(),i.cbt?[4,Ea(i.cbt.jf,n)]:[3,2];case 1:r.sent(),i.lY(),r.label=2;case 2:ba(n),r.label=3;case 3:return r.trys.push([3,,5,6]),i.wY=t(n),[4,i.wY];case 4:return r.sent(),[3,6];case 5:return i.wY=void 0,[7];case 6:return[2]}}))}))()},i.lY=function(){if(this.wY)throw new f("Internal error")},i.Tbt=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:if(t.cbt)throw new v("Already locked");return t.cbt=new kf,t.Sbt(),t.wY?[4,t.wY.catch(Vr)]:[3,2];case 1:n.sent(),t.Sbt(),n.label=2;case 2:return[2]}}))}))()},i.kbt=function(){var t;null==(t=this.cbt)||t.Lf(),this.cbt=void 0,this.Ebt()},i.Sbt=function(){this.al=t.prototype.dN.call(this),this.rz=t.prototype.QAt.call(this),this.iz=t.prototype.YAt.call(this),this.lbt=t.prototype.ag.call(this),this.dbt=t.prototype.jAt.call(this),this.g6=t.prototype.$X.call(this),this.vbt=!1},i.Ebt=function(){this.lY(),t.prototype.KAt.call(this,this.rz),t.prototype.ZAt.call(this,this.iz);var n=this.wbt.slice();ea(this.wbt);for(var i=0;i<n.length;i++){var r=n[i];"P_t"===r.Iw?this.mbt(r.PS,r.RS):this.ybt(r.PS,r.RS)}this.vbt&&t.prototype.EY.call(this),this.lbt.PF(t.prototype.ag.call(this))||this.To(new Va(lC.RX))},i.Ou=function(){var n;null==(n=this.cbt)||n.Jl(),this.cbt=void 0,t.prototype.Ou.call(this)},n}(Yz),vW=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Ibt=void 0,r.h7=n,r}vr(n,t);var i=n.prototype;return i.ag=function(){var n,i;return t.prototype.ag.call(this).Hl(null!=(i=null==(n=this.Ibt)?void 0:n.bl)?i:ZE.Nl())},i.jAt=function(){var n,i;return t.prototype.jAt.call(this).Hl(null!=(i=null==(n=this.Ibt)?void 0:n.CY)?i:ZE.Nl())},i.KAt=function(n){t.prototype.KAt.call(this,n),this.Ibt&&(this.Ibt.Zq=n)},i.ZAt=function(n){t.prototype.ZAt.call(this,n),this.Ibt&&(this.Ibt.Qq=n)},i.mbt=function(n,i){t.prototype.mbt.call(this,n,i),this.Ibt&&this.Ibt.NY(n,i)},i.ybt=function(n,i){t.prototype.ybt.call(this,n,i),this.Ibt&&this.Ibt.BY(n,i)},i.Abt=function(n,i,r){var e=this;return Mo((function(){var u;return Uo(this,(function(s){switch(s.label){case 0:return ba(r),(u=[]).push(t.prototype.Abt.call(e,n,i,r)),e.Ibt&&u.push(e.Ibt.Qu(n,i,r)),[4,$.all(u)];case 1:return s.sent(),[2]}}))}))()},i.OX=function(n){return!!t.prototype.OX.call(this,n)||this.h7.Pbt(n)},i.bbt=function(n){return t.prototype.OX.call(this,n)?t.prototype.bbt.call(this,n):this.h7.Rbt(n)},i.Cbt=function(t){var n,i;null==(n=this.Ibt)||n.pn(mC,this.JAt),this.Ibt=t,null==(i=this.Ibt)||i.wn(mC,this.JAt)},n}(fW),dW=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).xbt=void 0,r.Zl=NaN,r.Mbt=!1,r.Fbt=!1,r.Ubt=void 0,r.VAt(i),r.h7=n,r}vr(n,t);var i=n.prototype;return i.OX=function(n){var i=void 0!==this.TZ,r=void 0!==this.SZ,e=n.xZ.some((function(t){return Ac(t.rM,"audio")})),u=n.xZ.some((function(t){return Ac(t.rM,"video")}));return i===e&&r===u&&(!!t.prototype.OX.call(this,n)||(!(!this.xbt||!this.xbt.OX(n))||this.h7.Dbt(n)))},i.FX=function(n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return t.prototype.OX.call(i,n)?[4,t.prototype.FX.call(i,n)]:[3,2];case 1:case 3:case 6:return[2,r.sent()];case 2:return i.xbt&&i.xbt.OX(n)?(i.Nbt(),[4,i.FX(n)]):[3,4];case 4:return[4,i.h7.Bbt(n)];case 5:return r.sent(),[4,i.FX(n)];case 7:return[2]}}))}))()},i.Pbt=function(t){return this.OX(this.Lbt(t))},i.Rbt=function(t){return this.FX(this.Lbt(t))},i.Lbt=function(t){var n=this.xb,i=n.xZ.map((function(n){return Ac(t.rM,"audio")&&Ac(n.rM,"audio")||Ac(t.rM,"video")&&Ac(n.rM,"video")?t:n}));return xo({},n,{xZ:i})},i.CZ=function(n,i,r,e){t.prototype.CZ.call(this,n,i,r,e),this.xbt&&this.xbt.CZ(n,i,r,e)},i.Obt=function(){return!this.Mbt&&this.Fbt},i.vg=function(){return void 0!==this.Ubt?this.Ubt:this.Obt()?this.Zl:t.prototype.vg.call(this)},i.EZ=function(n){this.Zl=n,this.Ubt=void 0,this.Obt()||t.prototype.EZ.call(this,n)},i.HAt=function(){return!this.Obt()&&t.prototype.HAt.call(this)},i.EY=function(){this.Ubt=l.max(_W(this.tM.mZ),_W(this.tM.pZ)),this.Obt()||t.prototype.EY.call(this)},i.vY=function(){this.Ubt=void 0,this.Obt()||t.prototype.vY.call(this)},i.qAt=function(t){return new vW(this,t)},i.Hbt=function(){this.Mbt=!this.Mbt},i.Nbt=function(){var t=this.tM,n=this.xbt;n&&(this.Mbt=!this.Mbt,this.VAt(n),this.Vbt(t),this.Obt()&&this.Wbt())},i.Vbt=function(t){var n,i;this.xbt=t,null==(n=this.TZ)||n.Cbt(null==t?void 0:t.mZ),null==(i=this.SZ)||i.Cbt(null==t?void 0:t.pZ)},i.qbt=function(t){var n=this.tM,i=this.xbt;if(i){var r=this.Mbt,e=r?n:i,u=(r?i:n).bl.BF(t);if(u){var s=PH(e.bl,this.jAt()).BF(u.Pn(0),He);if(s&&!(u.Pn(0)+He>=s.Pn(0)))return l.max(u.Pn(0),s.Tn(0))}}},i.zbt=function(t,n){var i=this;if(this.Fbt)return $.resolve();var r=this.Mbt?this.xbt:this.tM;return r?(this.Fbt=!0,this.Xbt((function(n){if(ba(n),i.Fbt)return function(t,n,i){return lW.apply(this,arguments)}(r,t,n)}),n)):$.resolve()},i.Wbt=function(){if(this.Fbt){var t=this.Mbt?this.xbt:this.tM;if(t){var n;0,this.Fbt=!1;var i=null!=(n=this.Ubt)?n:this.Zl;t.ct<i&&t.EZ(i),t.vY()}}},i.Gbt=function(t){var n,i=null!=(n=this.Ubt)?n:this.Zl;t.EZ(i),this.Mbt?this.VAt(t):this.Vbt(t)},i.jAt=function(){var t,n,i,r,e=null!=(i=null==(t=this.TZ)?void 0:t.CY)?i:ZE.Nl(),u=null!=(r=null==(n=this.SZ)?void 0:n.CY)?r:ZE.Nl();return e.Hl(u)},i.Xbt=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:r=[],i.TZ&&r.push(i.TZ.Tbt()),i.SZ&&r.push(i.SZ.Tbt()),e.label=1;case 1:return e.trys.push([1,,4,5]),[4,$.all(r)];case 2:return e.sent(),[4,t(n)];case 3:return e.sent(),[3,5];case 4:return i.TZ&&i.TZ.kbt(),i.SZ&&i.SZ.kbt(),[7];case 5:return[2]}}))}))()},i.XAt=function(n){n.type===lC.RX&&this.h7.AY(),t.prototype.XAt.call(this,n)},n}(Gz);function lW(){return lW=Mo((function(t,n,i){var r;return Uo(this,(function(e){switch(e.label){case 0:return ba(i),r=[],t.mZ&&r.push(VD(t.mZ,n,i)),t.pZ&&r.push(VD(t.pZ,n,i)),[4,$.all(r)];case 1:return e.sent(),t.EY(),[2]}}))})),lW.apply(this,arguments)}function _W(t){if(!t)return 0;var n=t.bl;return n.U>0?n.Pn(n.U-1):0}function gW(t){return t.xb.Iw===Gk.wB}var wW,yW=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).jbt=!1,e.S0=void 0,e.e1=NaN,e.Ho=ZE.Nl(),e.Ql=!0,e.hTt=!1,e.oF=!0,e.eTt=void 0,e.Zbt=void 0,e.Ybt=new pa,e.J0=new pa,e.Kbt=i,e.$bt=n,e.KO.be(),e.Kbt.ke(),e.lP=new Hz(Uc(e),r),e.xu=new UT([e.lP.nt,t.prototype.zg.call(Uc(e))]),e}vr(n,t);var i=n.prototype;return i.ag=function(){return t.prototype.ag.call(this).Hl(this.Kbt.bl)},i.vg=function(){if(!this.jbt){var n=this.tM;if(n&&gW(n))return n.ct}return t.prototype.vg.call(this)},i.IAt=function(){return!!t.prototype.IAt.call(this)&&!(!this.jbt&&!this.$X())},i.PAt=function(){return!!t.prototype.PAt.call(this)&&!(!this.jbt&&t.prototype.IAt.call(this)&&!this.$X())},i.$X=function(){var t=this.tM;return!(!t||!gW(t))&&t.$X},i.Og=function(){return this.Ho.Hl(this.KO.wl)},i.Vg=function(){return t.prototype.Vg.call(this).Hl(this.Kbt.kl)},i.Hg=function(){return t.prototype.Hg.call(this)},i.EAt=function(){var n;return null!=(n=t.prototype.EAt.call(this))?n:this.Kbt.eM},i.dl=function(){return this.Ql=!1,t.prototype.dl.call(this)},i.jl=function(){this.Ql=!0,t.prototype.jl.call(this)},i.o2=function(){this.jbt=!0,t.prototype.o2.call(this),this.Kbt.o2()},i.a2=function(){this.jbt=!1,t.prototype.a2.call(this),this.Kbt.o2()},i._g=function(){var n;return null!=(n=this.S0)?n:t.prototype._g.call(this)},i.Wg=function(){return void 0!==this.S0||t.prototype.Wg.call(this)},i.gc=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.Ybt.Jl(),this.J0.Jl(),this.J0=new pa,this.Zbt=this.t1(t,n,i,this.Zbt,this.J0.M_).catch(Vr)},i.t1=function(n,i,r,e,u){var s=this;return Mo((function(){return Uo(this,(function(o){switch(o.label){case 0:return s.S0=n,s.e1=n,s.To(new bE(n)),e?[4,e.catch(Vr)]:[3,2];case 1:o.sent(),o.label=2;case 2:return ba(u),s.tM&&gW(s.tM)&&s.tM.Wbt(),s.S0=void 0,t.prototype.gc.call(s,n,i,r),s.Kbt.gc(n,i,r),s.Jbt(),[2]}}))}))()},i.jO=function(t){var n=this.eM;if(n&&!w(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.gc(i)}},i.fl=function(){t.prototype.fl.call(this),this.Kbt.fl()},i.ke=function(){this.oF&&(this.oF=!1,this.$bt.ke())},i.be=function(){this.oF||(this.oF=!0,this.$bt.be())},i.tTt=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return t.S0=void 0,t.e1=NaN,t.Ho=ZE.Nl(),null==(n=t.eTt)||n.Jl(),t.Ybt.Jl(),t.J0.Jl(),t.Zbt?[4,t.Zbt.catch(Vr)]:[3,2];case 1:i.sent(),t.Zbt=void 0,i.label=2;case 2:return[2]}}))}))()},i.NAt=function(n){t.prototype.NAt.call(this,n),this.Kbt.yM=n},i.BAt=function(n){t.prototype.BAt.call(this,n),this.Kbt.d2=n},i.zg=function(){return this.xu},i.cP=function(t,n,i,r,e,u,s,o){return this.lP.cP(t,n,i,r,e,u,s,o)},i.mP=function(t){this.lP.mP(t)},i.vM=function(){this.lP.ir(),t.prototype.vM.call(this)},i.On=function(n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return[4,t.prototype.On.call(i,n)];case 1:return gW(r=e.sent())&&i.Jbt(),[2,r]}}))}))()},i.ir=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.tTt()];case 1:return i.sent(),[4,t.prototype.ir.call(n)];case 2:return i.sent(),[4,n.Kbt.ir()];case 3:return i.sent(),[2]}}))}))()},i.Ou=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.tTt()];case 1:return i.sent(),n.lP.bn(),n.xu.bn(),[4,t.prototype.Ou.call(n)];case 2:return i.sent(),[2]}}))}))()},i.MAt=function(t){return new dW(this,t)},i.OAt=function(t){return new Kz(t)},i.Jbt=function(){this.Ybt.Jl(),this.Ybt=new pa,this.Zbt=this.iTt(this.Zbt,this.Ybt.M_).catch(Vr)},i.iTt=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return t?[4,t.catch(Vr)]:[3,2];case 1:e.sent(),e.label=2;case 2:if(!i.tM||!gW(i.tM))return[2];e.label=3;case 3:0,ba(n),i.sTt()&&i.Hbt(),i.tM.Wbt(),ba(n),e.label=4;case 4:return ba(n),i.sTt()?[3,8]:void 0===(r=i.tM.qbt(i._g()))?[3,6]:(i.nTt(),[4,i.tM.zbt(r,n)]);case 5:return e.sent(),ba(n),i.Kbt.gc(r),[3,8];case 6:return[4,Ra((function(t){return $.race([i.eg($l.Lu,t),i.rTt(t)])}),n)];case 7:return e.sent(),[3,4];case 8:ba(n),e.label=9;case 9:return i.sTt()?[3,11]:[4,i.KO.eg([$l.Lu,$l.Pf,qk.Bf],n)];case 10:return e.sent(),[3,9];case 11:return[3,3];case 12:return[2]}}))}))()},i.sTt=function(){var t=this.tM;if(void 0===t||!gW(t))return!1;var n=this._g(),i=this.KO.bl;return!(!this.KO.Ic&&i.br(n))&&!!PH(this.Kbt.bl,t.jAt()).EF(n,n+He)},i.Hbt=function(){if(!this.hTt){0,this.hTt=!0,this.Ho=this.Og();var t=ZD(this),n=this.Wg(),i=this.Hg(),r=this.KO,e=this.Kbt,u=this.tM;u.Wbt(),u.Hbt(),JD(e,t),this.UAt(e),this.Kbt=r,r.jl(),r.Xu=!0,this.hTt=!1;var s=this.Wg();n!==s&&(s?this.To(new bE(this.Wu)):this.To(new TE(this.Wu)));var o=this.Hg();i!==o&&this.To(new Kk(this.Wu,o)),s||this.nTt()}},i.nTt=function(){var t=this.KO,n=this.$bt;if(n!==t){0;var i=this.Kg,r=this.Xg;this.$bt=t,this.oF&&(n.ke(),t.be());var e=this.Kg,u=this.Xg;e>0&&u>0&&(i!==e||r!==u)&&this.To(new Yk)}},i.Dbt=function(t){return void 0!==this.Kbt.iG([t])},i.Bbt=function(t){var n=this;return Mo((function(){var i,r,e;return Uo(this,(function(u){switch(u.label){case 0:return n.nTt(),i=n.tM,[4,(r=n.Kbt).ir()];case 1:return u.sent(),[4,r.On(t)];case 2:return e=u.sent(),i.Gbt(e),[2]}}))}))()},i.rTt=function(t){return this.eTt=new kf,Ea(this.eTt.jf,t)},i.AY=function(){var t;null==(t=this.eTt)||t.Lf()},i.pv=function(n){n.type===$l.If&&this.e1===n.currentTime||(n.type===$l.Tf&&(this.e1=NaN,this.nTt()),n.type!==qk.Bf&&n.type!==$l.Ch&&n.type!==$l.Pf||this.hTt||!this.sTt()?(n.type!==$l.Pf||this.Ic)&&t.prototype.pv.call(this,n):this.Jbt())},hr(n,[{key:"Qbt",get:function(){return this.Kbt}},{key:"Xg",get:function(){return this.$bt.Xg}},{key:"Kg",get:function(){return this.$bt.Kg}}]),n}(hW),mW=function(t){function n(n,i){var r;return(r=t.call(this,n,i,new bO)||this).Q4=new rB,r.Q4.l2(n.JO.parentElement),r.K4=new vL(r.Q4.je,r.k0,r.nt,r.Cu,r.wa),r}vr(n,t);var i=n.prototype;return i.ke=function(){t.prototype.ke.call(this),this.Q4.ke()},i.be=function(){t.prototype.be.call(this),this.Q4.be()},i.l2=function(t){this.KO.l2(t),this.Kbt.l2(t)},i.p0=function(){this.KO.p0()},i.wv=function(){this.KO.wv(),this.Kbt.wv()},i.rv=function(){return this.KO.rv()},i.UAt=function(n){var i=this.ev(),r=this.rv();t.prototype.UAt.call(this,n),this.ev()!==i&&this.To(new ME),this.rv()!==r&&this.To(new xE)},i.Ou=function(){return this.K4.bn(),this.Q4.bn(),t.prototype.Ou.call(this)},hr(n,[{key:"kAt",get:function(){return this.KO}},{key:"Qbt",get:function(){return this.Kbt}},{key:"JO",get:function(){return this.KO.JO}},{key:"KZ",get:function(){return this.KO.KZ}},{key:"tv",get:function(){return this.KO.tv},set:function(t){this.KO.tv=t}}]),n}(yW),pW=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.MM=function(n){if(n===py.vl){var i=t.prototype.MM.call(this,n),r=t.prototype.MM.call(this,n);return new mW(i,r)}return t.prototype.MM.call(this,n)},i.AM=function(n){var i=this,r=function(){return t.prototype.AM};return Mo((function(){return Uo(this,(function(t){switch(t.label){case 0:return n instanceof mW?[4,n.Ou()]:[3,4];case 1:return t.sent(),[4,r().call(i,n.kAt)];case 2:return t.sent(),[4,r().call(i,n.Qbt)];case 3:return t.sent(),[3,6];case 4:return[4,r().call(i,n)];case 5:t.sent(),t.label=6;case 6:return[2]}}))}))()},n}(Vz),kW=function(t){function n(n,i,r,e,u,s,o){var c,a=new tW(new pW(u)),h=a.MM(s);return(c=t.call(this,n,i,r,e,h,o)||this).bM=a,c}return vr(n,t),n.prototype.bn=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,t.prototype.bn.call(n)];case 1:return i.sent(),[4,n.bM.AM(n.KO)];case 2:return i.sent(),[2]}}))}))()},n.EN=function(t){var n;return!Ir.Ks&&!Ir.KR&&!(t&&"google-dai"===(null==(n=t.ssai)?void 0:n.integration))},n}(iW),AW=function(t){function n(n){var i;return(i=t.call(this,n)||this).oTt=!1,i.lbt=ZE.Nl(),i.Zl=0,i.aTt=!1,i.g6=!1,i.vbt=void 0,i.RZ=ZE.Nl(),i.uTt=void 0,i.VAt(n),i.al=n.xb,i}vr(n,t);var i=n.prototype;return i.qAt=function(t){return new fW(t)},i.dN=function(){return this.oTt?this.al:t.prototype.dN.call(this)},i.ag=function(){return this.oTt?this.lbt:t.prototype.ag.call(this)},i.vg=function(){return this.oTt?this.Zl:t.prototype.vg.call(this)},i.EZ=function(n){this.oTt?(this.Zl=n,this.aTt=!0):t.prototype.EZ.call(this,n)},i.Vg=function(){return this.oTt?this.uTt?this.uTt.UY():this.RZ:t.prototype.Vg.call(this)},i.CZ=function(n,i,r,e){this.oTt?this.uTt=new MD(n,i,r,e):t.prototype.CZ.call(this,n,i,r,e)},i.HAt=function(){return this.oTt?this.g6&&!1!==this.vbt:t.prototype.HAt.call(this)},i.EY=function(){this.oTt?this.vbt=!0:t.prototype.EY.call(this)},i.vY=function(){this.oTt?this.vbt=!1:t.prototype.vY.call(this)},i.OX=function(n){return!this.oTt&&t.prototype.OX.call(this,n)},i.FX=function(n){return this.oTt?$.reject(new v("Not supported")):t.prototype.FX.call(this,n)},i.Tbt=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:if(t.oTt)throw new v("Already locked");return t.oTt=!0,t.Sbt(),n=[],t.TZ&&n.push(t.TZ.Tbt()),t.SZ&&n.push(t.SZ.Tbt()),[4,$.all(n)];case 1:return i.sent(),[2]}}))}))()},i.kbt=function(){this.oTt=!1,this.TZ&&this.TZ.kbt(),this.SZ&&this.SZ.kbt(),this.Ebt()},i.Sbt=function(){this.al=t.prototype.dN.call(this),this.lbt=t.prototype.ag.call(this),this.Zl=t.prototype.vg.call(this),this.RZ=t.prototype.Vg.call(this),this.aTt=!1,this.vbt=void 0,this.uTt=void 0},i.Ebt=function(){if(this.aTt&&(t.prototype.EZ.call(this,this.Zl),this.aTt=!1),void 0!==this.uTt){var n=this.uTt;t.prototype.CZ.call(this,n.Tn,n.Pn,n.HY,n.VY),this.uTt=void 0}void 0!==this.vbt&&(this.vbt?t.prototype.EY.call(this):t.prototype.vY.call(this),this.vbt=void 0)},n}(Gz),bW=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).lTt=!1,n.fTt=!1,n.mTt=void 0,n.wTt=void 0,n.vTt=new pa,n}vr(n,t);var i=n.prototype;return i.dl=function(){return void 0!==this.tM&&gW(this.tM)&&this.Ic&&this.gc(0),t.prototype.dl.call(this)},i.gc=function(n,i,r){void 0!==this.tM&&gW(this.tM)&&this.Ic&&n<this.ct&&this.cTt(),t.prototype.gc.call(this,n,i,r)},i.o2=function(){this.lTt=!0,t.prototype.o2.call(this)},i.a2=function(){this.lTt=!1,this.dTt()||t.prototype.a2.call(this)},i.dTt=function(){return this.lTt||this.fTt},i._Tt=function(){this.fTt||(this.fTt=!0,t.prototype.o2.call(this))},i.gTt=function(){this.fTt&&(this.fTt=!1,this.dTt()||t.prototype.a2.call(this))},i.On=function(t){this.vTt.Jl();var n=this.i7(t,this.wTt);return this.mTt=n,n},i.i7=function(n,i){var r=this;return Mo((function(){return Uo(this,(function(e){switch(e.label){case 0:return i?[4,i.catch(Vr)]:[3,2];case 1:e.sent(),e.label=2;case 2:return r.gTt(),[4,t.prototype.On.call(r,n)];case 3:return[2,e.sent()]}}))}))()},i.MAt=function(t){return new AW(t)},i.OAt=function(t){return new Kz(t)},i.ir=function(){this.vTt.Jl();var t=this.pTt(this.wTt);return this.mTt=t,t},i.pTt=function(n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return n?[4,n.catch(Vr)]:[3,2];case 1:r.sent(),r.label=2;case 2:return i.gTt(),[4,t.prototype.ir.call(i)];case 3:return[2,r.sent()]}}))}))()},i.cTt=function(){this._Tt(),this.vTt.Jl(),this.vTt=new pa,this.wTt=Ia(this.yTt(this.mTt,this.wTt,this.vTt.M_),this.vTt).catch(Sa)},i.yTt=function(t,n,i){var r=this;return Mo((function(){var e,u,s;return Uo(this,(function(o){switch(o.label){case 0:return t?[4,t.catch(Vr)]:[3,2];case 1:o.sent(),o.label=2;case 2:return n?[4,n.catch(Vr)]:[3,4];case 3:o.sent(),o.label=4;case 4:return ba(i),(e=r.tM)&&gW(e)?(u=e.xb,[4,e.Tbt()]):[2];case 5:return o.sent(),[4,r.KO.ir()];case 6:return o.sent(),[4,r.KO.On(u)];case 7:return(s=o.sent()).EZ(e.ct),e.VAt(s),e.kbt(),r.gTt(),[2]}}))}))()},i.Ou=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.vTt.Jl(),n.wTt?[4,n.wTt.catch(Vr)]:[3,2];case 1:i.sent(),n.wTt=void 0,i.label=2;case 2:return n.dTt()&&t.prototype.a2.call(n),[4,t.prototype.Ou.call(n)];case 3:return i.sent(),[2]}}))}))()},hr(n,[{key:"kAt",get:function(){return this.KO}}]),n}(Zz),TW=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.MM=function(n){if(n===py.vl)return new bW(t.prototype.MM.call(this,n))},i.AM=function(n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return[4,(r=n).Ou()];case 1:return e.sent(),[4,t.prototype.AM.call(i,r.kAt)];case 2:return e.sent(),[2]}}))}))()},n.EN=function(){return Ir.YR},n}(Vz),SW=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).HM=CT.AO,n}vr(n,t);var i=n.prototype;return i.lp=function(t,n,i,r,e,u,s){var o,c=new FM(tx.lC.ptt,tx.lC.wtt,tx.lC.mtt,tx.lC.Att);o=aW.EN(s)?aW:kW.EN(s)?kW:rW;var a=n;return TW.EN()&&(a=new TW(a)),new o(i,r,e,c,a,py.vl,t)},i.UM=function(){return!0},n}(LM);zE(new SW),function(t){t.ATt="currentbufferingrenditionchange",t.bTt="TTt",t.STt="kTt",t.ETt="ITt"}(wW||(wW={}));var EW,IW,RW=function(t,n){var i,r;this.cw=Uy(),this.PTt=n,this.Iw=t.Iw,this.RTt=t.RTt,this.CTt=t.CTt,this.xTt=t.xTt,this.l=t.l,this.gs=t.gs,this.DTt=t.DTt,this.NTt=t.NTt,this.BTt=void 0===t.Nit,this.LTt=null!=(r=null==(i=t.LTt)?void 0:i.split(","))?r:[]};function NW(t,n){return t.Iw===n.Iw&&(t.l===n.l||!(!t.RTt||!n.RTt))}function CW(t,n){return t.PTt===n.PTt&&t.DTt===n.DTt}function DW(t,n){for(var i=0;i<t.length;i++){if(CW(t[i],n))return!0}return!1}!function(t){t.OTt="alternative",t.MTt="main",t.FTt="commentary",t.UTt="",t._I="descriptions",t.HTt="main-desc",t.VTt="translation"}(EW||(EW={})),function(t){t.OTt="alternative",t.MTt="main",t.FTt="commentary",t.UTt="",t.fI="captions",t.ww="sign",t.Ay="subtitles"}(IW||(IW={}));var PW,OW=function(t){function n(n,i,r,e,u){var s,o;(s=t.call(this)||this).vJ=n,s.Ko=i,s.GF=r,s.mh=e,s.dw=u,s.z_t=void 0,s.iSt=void 0,s.sSt=function(){return s.To(new Py(Uc(s)))},s.tSt=function(){var t=s.uw;t&&s.iSt!==t&&(s.iSt=t,s.To(new gz(t)))},s.eSt=function(){var t=s.Rt;s.nSt!==t&&(s.nSt=t,s.mh.To(new Cy(Uc(s))),s.To(new Cy(Uc(s))))},s.iSt=s.uw,s.nSt=s.Rt;var c,a,h=u.Zv(0);s.Yu=null!=(c=null==h?void 0:h.zTt.l)?c:"",s.Lx=null!=(a=null==h?void 0:h.zTt.gs)?a:"",s.WTt=null==h||null==(o=h.zTt)?void 0:o.LTt.map(FW).filter(Cr),s.mS=Ly(),s.Ko.wn(wW.ATt,s.tSt),s.Ko.wn(wW.bTt,s.eSt);for(var f=0;f<s.dw.U;f++){s.dw.Zv(f).wn("update",s.sSt)}return s}vr(n,t);var i=n.prototype;return i.yS=function(t){this.Rt=t},i.bn=function(){this.Lo(),this.Ko.pn(wW.ATt,this.tSt),this.Ko.pn(wW.bTt,this.eSt);for(var t=0,n=this.dw.Kv;t<n.length;t++){n[t].bn()}this.dw.ir()},hr(n,[{key:"lw",get:function(){return this.WTt}},{key:"Rt",get:function(){var t=this.qTt();if(!t)return!1;for(var n=0,i=this.dw.Kv;n<i.length;n++){if(i[n].zTt===t)return!0}return!1},set:function(t){if(t!==this.Rt&&t){for(var n=this.dw.Zv(0).zTt,i=this.Ko.XTt,r=0,e=this.dw.Kv;r<e.length;r++){var u=e[r];if(u.GTt===i){n=u.zTt;break}}this.QTt(n)}}},{key:"uw",get:function(){if(this.Rt)for(var t=this.Ko.KTt,n=0,i=this.dw.Kv;n<i.length;n++){var r=i[n];if(DW(t,r.zTt))return r}}},{key:"ma",get:function(){return this.Gu||(this.Gu=wy(this)),this.Gu}},{key:"o",get:function(){return this.mS.toString()}},{key:"cw",get:function(){return this.mS}},{key:"_h",get:function(){return this.Yu},set:function(t){t!==this.Yu&&(this.Yu=t,this.To(new Py(this)))}},{key:"gs",get:function(){return this.Lx}},{key:"bw",get:function(){return this.Rt?"enabled":"disabled"}},{key:"fw",get:function(){return this.z_t},set:function(t){var n=this,i=[];t?i=t.filter((function(t){var i=n.uw?gF(n.uw):void 0;return tr.Zs.c9(i,gF(t))})).filter((function(i){return n.dw._S(t)&&i.H7})):i=this.dw.Kv.filter((function(t){return t.H7}));if(0!==i.length){if(!(t===this.z_t||this.z_t&&ua(this.z_t,i))){if(this.z_t=t?i:void 0,this.Ko.jTt(i.map((function(t){return t.GTt}))),1===i.length){var r=i[0].GTt,e=this.vJ===py.vl,u=this.GF.fz;Da(this.Ko.YTt(r,{ZTt:!0,JTt:u&&e,$Tt:u&&!e}))}this.To(new fF(i,this))}}else this.To(new _F)}}]),n}(Ua),BW=function(t){function n(n,i,r,e){return t.call(this,py.yy,n,i,r,e)}vr(n,t);var i=n.prototype;return i.qTt=function(){return this.Ko.rSt},i.QTt=function(t){Da(this.Ko.hSt(t))},hr(n,[{key:"Lt",get:function(){return EW.MTt}}]),n}(OW),LW=function(t){function n(n,i,r,e){return t.call(this,py.vl,n,i,r,e)}vr(n,t);var i=n.prototype;return i.qTt=function(){return this.Ko.oSt},i.QTt=function(t){Da(this.Ko.aSt(t))},hr(n,[{key:"Lt",get:function(){return IW.MTt}}]),n}(OW),MW=function(t){function n(n,i){var r;return(r=t.call(this)||this).GTt=n,r.zTt=i,r.Yu="",r.H7=!0,r}vr(n,t);var i=n.prototype;return i.BI=function(){},i.bn=function(){this.Lo()},hr(n,[{key:"o",get:function(){return String(this.GTt.o)}},{key:"cw",get:function(){return this.GTt.o}},{key:"IO",get:function(){return this.GTt.IO}},{key:"Rit",get:function(){return this.GTt.Rit}},{key:"_h",get:function(){var t;return null!=(t=this.Yu)?t:this.zTt.l},set:function(t){this._h!==t&&(this.Yu=t,this.To(new Vx(this.ma)))}},{key:"Nit",get:function(){return this.zTt.PTt.uSt()}},{key:"Cit",get:function(){return this.GTt.Cit}}]),n}(Ua),xW=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Gu=void 0,r}return vr(n,t),n.prototype.pa=function(){return Hx(this)},hr(n,[{key:"Aet",get:function(){return 0}},{key:"bet",get:function(){var t;return(null==(t=this.GTt.bet)?void 0:t.cSt)||""}},{key:"ma",get:function(){return this.Gu||(this.Gu=this.pa()),this.Gu}}]),n}(MW),UW=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Gu=void 0,r.dSt=0,r.fSt=void 0,r}return vr(n,t),n.prototype.pa=function(){return Fx(this)},hr(n,[{key:"bet",get:function(){var t;return(null==(t=this.GTt.bet)?void 0:t.lSt)||""}},{key:"xit",get:function(){return this.dSt},set:function(t){this.dSt!==t&&(this.dSt=t,this.To(new Vx(this.ma)))}},{key:"Iet",get:function(){var t,n;return null!=(n=null!=(t=this.fSt)?t:this.GTt.Iet)?n:0},set:function(t){this.Iet!==t&&(this.fSt=t,this.To(new Vx(this.ma)))}},{key:"Ci",get:function(){var t,n;return null!=(n=null==(t=this.GTt._St)?void 0:t.Ci)?n:0}},{key:"Ti",get:function(){var t,n;return null!=(n=null==(t=this.GTt._St)?void 0:t.Ti)?n:0}},{key:"ma",get:function(){return this.Gu||(this.Gu=this.pa()),this.Gu}}]),n}(MW);function FW(t){return"public.accessibility.describes-video"===t?vy.yw:"public.accessibility.transcribes-spoken-dialog"===t?vy.TRANSCRIBES_SPOKEN_DIALOG:"public.accessibility.describes-music-and-sound"===t?vy.DESCRIBES_MUSIC_AND_SOUND:"public.accessibility.easy-to-read"===t?vy.pw:void 0}!function(t){t.gSt="FATAL",t.aa="ERROR",t.vSt="WARNING",t.wSt="INFO",t.mSt="DEBUG"}(PW||(PW={}));var HW=function(){function t(){this.Rt=function(){return!1}}var n=t.prototype;return n.pSt=function(t){if(!this.Rt())return!1;var n=[];return!(n.length>0)||n.some((function(n){return n.toLowerCase()===t.toLowerCase()}))},n.ySt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.pSt(t)&&(e=tr).v9.apply(e,["DEBUG "+t+" -"].concat(_r(i)))},n.zA=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.pSt(t)&&(e=tr).v9.apply(e,["INFO "+t+" -"].concat(_r(i)))},n.ASt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.pSt(t)&&(e=tr).Um.apply(e,["WARNING "+t+" -"].concat(_r(i)))},n.lt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.pSt(t)&&(e=tr).w9.apply(e,["ERROR "+t+" -"].concat(_r(i)))},n.bSt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.pSt(t)&&(e=tr).w9.apply(e,["FATAL "+t+" -"].concat(_r(i)))},t}(),VW=new HW,XW="HLSPlaylistParser",zW="Discontinuity",WW="Buffering",GW=function(){function t(t,n,i,r){this.Ko=t,this.GF=n,this.ESt=i,this.ISt=r}var n=t.prototype;return n.kct=function(){var t,n=null==(t=this.Ko.Ar)?void 0:t.TSt;if(n&&0!==n.length){for(var i,r=null!=(i=jc(n,(function(t){return 0!==t.SSt.length&&0!==t.kSt.length})))?i:n[0],e=n.filter((function(t){return t!==r})),u=0,s=r.SSt;u<s.length;u++){var o=s[u],c=new Ny,a=[];c.fS(new xW(r,o)),a.push(o);for(var h=0;h<e.length;h++)for(var f=e[h],v=0,d=f.SSt;v<d.length;v++){var l=d[v];if(NW(l,o)&&!DW(a,l)){c.fS(new xW(f,l)),a.push(l);break}}this.ESt.tt(new BW(this.Ko,this.GF,this.ESt,c))}for(var _=0,g=r.kSt;_<g.length;_++){var w=g[_],y=new Ny,m=[];y.fS(new UW(r,w)),m.push(w);for(var p=0;p<e.length;p++)for(var k=e[p],A=0,b=k.kSt;A<b.length;A++){var T=b[A];if(NW(T,w)&&!DW(m,T)){y.fS(new UW(k,T)),m.push(T);break}}this.ISt.tt(new LW(this.Ko,this.GF,this.ISt,y))}}else VW.ASt("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.PSt=function(){this.RSt(this.ESt),this.RSt(this.ISt)},n.RSt=function(t){for(var n=[],i=0,r=t.Kv;i<r.length;i++){for(var e=r[i],u=[],s=0,o=e.dw.Kv;s<o.length;s++){var c=o[s];ia(c.GTt.CSt,c.zTt)||u.push(c)}for(var a=0;a<u.length;a++){var h=u[a];e.dw.Qu(h),h.bn()}0===e.dw.U&&n.push(e)}for(var f=0;f<n.length;f++){var v=n[f];t.it(v),v.bn()}},n.xSt=function(t,n){var i=this.DSt(t);void 0!==i&&(i.Iet=n)},n.NSt=function(t,n){var i=this.DSt(t);void 0!==i&&(i.xit=n)},n.DSt=function(t){for(var n=0,i=this.ISt.Kv;n<i.length;n++){var r=i[n],e=jc(r.dw.Kv,(function(n){return n.zTt===t}));if(void 0!==e)return e}},t}(),qW=function(){function t(t){this.OSt=0,this.LSt=0,this.BSt=l.exp(l.log(.5)/t)}var n=t.prototype;return n._ft=function(t,n){var i=l.pow(this.BSt,t),r=n*(1-i)+i*this.OSt;w(r)||(this.OSt=r,this.LSt+=t)},n.FX=function(t){var n=l.exp(l.log(.5)/t);if(n!==this.BSt)if(0!==this.LSt){var i=this.l6,r=1-l.pow(n,this.LSt);this.OSt=i*r,this.BSt=n}else this.BSt=n},hr(t,[{key:"l6",get:function(){var t=1-l.pow(this.BSt,this.LSt);return this.OSt/t}}]),t}(),YW=function(){function t(n,i,r,e){void 0===n&&(n=t.KSt),void 0===i&&(i=t.jSt),void 0===r&&(r=t.Aft),void 0===e&&(e=!1),this.qSt=0,this.zSt=[],this.VSt=void 0,this.WSt=6e4,this.XSt=10,this.GSt=n,this.QSt=i,this.USt=r,this.HSt=e,this.MSt=new qW(n),this.FSt=new qW(i)}var n=t.prototype;return n._ft=function(t){var n=tr.V_(),i=t;this.HSt&&void 0!==this.VSt&&n-this.VSt>=this.WSt&&this.ir(),this.qSt+=1,this.MSt._ft(1,i),this.FSt._ft(1,i),this.zSt.push(i),this.zSt.length>this.XSt&&this.zSt.shift(),this.VSt=n},n.rat=function(){return void 0!==this.VSt&&tr.V_()-this.VSt<=this.WSt},n.ir=function(){this.MSt=new qW(this.GSt),this.FSt=new qW(this.QSt),this.qSt=0,this.zSt=[],this.VSt=void 0},hr(t,[{key:"l6",get:function(){return this.rat()?l.max(this.MSt.l6,this.FSt.l6):this.USt}}]),t}();YW.KSt=2,YW.jSt=5,YW.Aft=.1;var jW,QW=function(){function t(t){this.YSt=t}var n=t.prototype;return n.Uq=function(t){for(var n=0,i=this.YSt;n<i.length;n++){i[n].Uq(t)}},n.Hq=function(t){for(var n=0,i=this.YSt;n<i.length;n++){i[n].Hq(t)}},n.Vq=function(t,n){for(var i=0,r=this.YSt;i<r.length;i++){r[i].Vq(t,n)}},n.Wq=function(t){for(var n=0,i=this.YSt;n<i.length;n++){i[n].Wq(t)}},t}(),KW=function(){function t(t){this.ZSt=0,this.JSt=t}var n=t.prototype;return n.Uq=function(t){this.ZSt=t},n.Hq=function(t){this.JSt._ft(t-this.ZSt)},n.Vq=function(t){},n.Wq=function(t){},t}(),ZW=function(){function t(t){this.$St=0,this.Tft=t}var n=t.prototype;return n.Hq=function(t){this.$St=t},n.Vq=function(t,n){this.Tft._ft(t-this.$St,n.byteLength),this.$St=t},n.Wq=function(t){},n.Uq=function(t){},t}(),JW=function(){function t(t,n){void 0===n&&(n=0),this.ekt=new $W,this.In=0,this.tkt=0,this.Tft=t,this.skt=n}var n=t.prototype;return n.Uq=function(t){},n.Vq=function(t,n){var i=n.byteLength,r=this.tkt;this.tkt=i;var e=t-this.In;this.In=t,this.ekt.BG(n);var u=!this.ekt.ikt(),s=i>=this.skt;r!==tr.Zs.h9&&u&&s&&this.Tft._ft(e,i)},n.Hq=function(t){this.In=t},n.Wq=function(t){},t}(),$W=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).rkt=void 0,n.nkt=!1,n}vr(n,t);var i=n.prototype;return i.ikt=function(){return this.nkt},i.BG=function(n){this.nkt=!1,t.prototype.BG.call(this,n)},i.DG=function(n,i){this.rkt&&this.rkt!==Hm.oy||(this.nkt=!0),t.prototype.DG.call(this,n,i),this.rkt=n},i.zG=function(t){return!1},i.GG=function(t){},i.KG=function(t){},n}(PC);!function(t){t.hkt="sample"}(jW||(jW={}));var tG=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).okt=0,n}return vr(n,t),n.prototype._O=function(){if(this.rat()){var t=tr.V_();t-this.okt>1e3&&(this.okt=t,BT.lC._O(this.l6))}},n}(Ua),nG=function(t){function n(i,r,e,u){var s;return void 0===i&&(i=n.KSt),void 0===r&&(r=n.jSt),void 0===e&&(e=n.ckt),void 0===u&&(u=n.Aft),(s=t.call(this)||this).akt=0,s.ukt=e,s.MSt=new qW(i),s.FSt=new qW(r),s.USt=u,s}vr(n,t);var i=n.prototype;return i._ft=function(t,n){var i=8*n/t;this.MSt._ft(t,i),this.FSt._ft(t,i),this.akt+=n,this._O(),this.To(new Va(jW.hkt))},i.rat=function(){return this.akt>=this.ukt},hr(n,[{key:"l6",get:function(){return this.rat()?l.min(this.MSt.l6,this.FSt.l6):this.USt}}]),n}(tG);nG.ckt=128e3,nG.Aft=OT,nG.KSt=.5,nG.jSt=5;var iG=function(){function t(t){var n=t.IO>0?t.IO:nG.Aft,i=t.PO>0?t.PO:YW.Aft;this.Tft=new nG(nG.KSt,nG.jSt,1,n),this.lkt=new YW(YW.KSt,YW.jSt,i)}var n=t.prototype;return n.RO=function(t){if("segment"===t.Iw||"preload-hint"===t.Iw){var n=[new KW(this.lkt)];return"stream"!==t.sP||!function(t){return"segment"===t.Iw&&"initialization-segment"!==t.rP}(t)&&"preload-hint"!==t.Iw?n.push(new ZW(this.Tft)):n.push(new JW(this.Tft,1e3)),new QW(n)}},n.dkt=function(t){this.Tft=new nG(nG.KSt,nG.jSt,1,t)},hr(t,[{key:"IO",get:function(){return this.Tft.l6}},{key:"PO",get:function(){return this.lkt.l6}}]),t}();var rG=function(t){function n(n){var i;return(i=t.call(this,wW.ETt)||this).lt=n,i}return vr(n,t),n}(Va),eG=function(){function t(t){this.F7=t}return t.prototype.iG=function(t,n){var i={Iw:Gk.wB,hM:[],xZ:t.map((function(t){return{rM:t}})),VZ:n};return $.resolve(void 0!==this.F7.iG([i]))},t}(),uG=function(t,n,i,r,e){return t.filter((function(t){return!!ia(r,t)||1.1*t.IO<=i.IO}))},sG=function(t,n,i,r,e){return t.filter((function(t){if(ia(r,t))return!0;for(var u=1/0,s=0,o=t.CSt;s<o.length;s++){var c,a,h=o[s];u=l.min(u,null!=(a=null!=(c=h.PTt.fkt)?c:h.PTt._kt)?a:1/0)}u===1/0&&(u=1);var f=2*i.PO+t.IO*u/i.IO;return t.IO<=n.IO||e.gkt>f}))},oG=function(t,n,i,r,e){return Fc(t,(function(t,n){return n.IO-t.IO}))},cG=function(t,n,i,r,e){return t.every((function(t){return t.Cit&&!w(t.Cit)}))?Fc(t,(function(t,n){return n.Cit-t.Cit})):t},aG=function(t,n,i,r,e){return 0===r.length?t:Fc(t,(function(t,n){var i=ia(r,t)?1:0;return(ia(r,n)?1:0)-i}))},hG=function(t,n,i,r,e,u){return t.filter((function(t){return!t.bet||!n.bet||!(void 0!==n.bet.lSt&&void 0!==t.bet.lSt&&!OD(n.bet.lSt,t.bet.lSt)&&!u.vkt({rM:'video/mp4; codecs="'+t.bet.lSt}))&&!(void 0!==n.bet.cSt&&void 0!==t.bet.cSt&&!OD(n.bet.cSt,t.bet.cSt)&&!u.wkt({rM:'audio/mp4; codecs="'+t.bet.cSt}))}))},fG=function(t,n,i,r,e){if(!1===e.dat)return t;if(tr.Zs.i9)return t;for(var u,s,o=tr.Zs.s9,c=(null!=(u=null==o?void 0:o.width)?u:e.Ti)*DV,a=(null!=(s=null==o?void 0:o.height)?s:e.Ci)*DV,h=0;h<t.length;h++){var f=t[h];if(void 0===f._St)return t;var v=f._St.Ci,d=f._St.Ti;if(v<=a&&d<=c)return t.slice(h,t.length)}return[]},vG=function(t,n,i,r,e){return function(t,n){var i=n.dat;if(void 0===i&&!tr.Zs.Ks)return t;if(!1===i)return t;for(var r=0;r<t.length;r++){var e=t[r];if(void 0===e._St)return t;var u=e._St.Ci,s=e._St.Ti;if(u===n.Ci&&s===n.Ti)return t.slice(r,t.length);if(u<n.Ci||s<n.Ti)return t.slice(0===r?r:r-1,t.length)}return[]}(t,e)};var dG,lG,_G,gG,wG="AbrEvaluator",yG=function(){function t(t){this.GF=t,this._at=[hG,uG,sG,oG,fG,vG,cG,aG]}var n=t.prototype;return n.pkt=function(t){this._at=t},n.ykt=function(t,n,i,r,e){var u=this;return Mo((function(){return Uo(this,(function(s){switch(s.label){case 0:return[4,u.Akt(t,n,i,r,e)];case 1:return[2,s.sent()[0]]}}))}))()},n.Akt=function(t,n,i,r,e){var u=this;return Mo((function(){var s,o,c,a,h,v;return Uo(this,(function(d){switch(d.label){case 0:if(0===t.length)throw new f("AbrEvaluator - Unable to select optimal variant stream from an empty list.");VW.ySt(wG,"Performing optimal variant stream selection."),s=u.mkt,o=t,c=0,a=u._at,d.label=1;case 1:return c<a.length?(h=a[c],v=h(o,n,s,i,r,e),Pr(v)?(o=v,[3,4]):[3,2]):[3,5];case 2:return[4,v];case 3:o=d.sent(),d.label=4;case 4:return c++,[3,1];case 5:return 0===o.length?(VW.ASt(wG,"No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),[2,[oa(t,(function(t){return t.IO}))]]):[2,o]}}))}))()},hr(t,[{key:"mkt",get:function(){return this.GF.Mq}}]),t}();function mG(t,n){return[t,void 0!==n?t+n-1:Re]}function pG(t){return Boolean(t.NA)}function kG(t){return Boolean(t.mtt)}function AG(t){return t?t.qnt?t.kT+"@"+t.qnt.Tn+"-"+(null!=(n=t.qnt.U)?n:""):""+t.kT:"";var n}function bG(t,n){if(n===t)return!0;if(n.kT!==t.kT)return!1;if(!t.qnt)return!0;if(n.qnt){var i=mG(t.qnt.Tn,t.qnt.U),r=mG(n.qnt.Tn,n.qnt.U);if(i[0]<=r[0])return void 0===i[1]||void 0!==r[1]&&i[1]>=r[1]}return!1}function TG(t,n){return t===n||t.kT===n.kT&&(t.qnt&&n.qnt?t.qnt.Tn===n.qnt.Tn&&t.qnt.U===n.qnt.U:t.qnt===n.qnt)}function SG(t){var n=!!t.bkt||void 0;return{o:t.o,Tkt:t.Tkt,eM:t.eM,Skt:t.Skt,ct:t.ct,kkt:t.kkt,bkt:n,Ekt:t.Ikt,Pkt:t.Rkt,Ckt:t.Ckt,xkt:t.xkt}}function EG(t,n){var i,r,e;return{cSt:null!=(i=n.cSt)?i:null==t?void 0:t.cSt,lSt:null!=(r=n.lSt)?r:null==t?void 0:t.lSt,Dkt:null!=(e=n.Dkt)?e:null==t?void 0:t.Dkt}}function IG(t,n,i,r,e){return RG.apply(this,arguments)}function RG(){return RG=Mo((function(t,n,i,r,e){var u,s,o,c,a,h,f,v,d,l,_;return Uo(this,(function(g){switch(g.label){case 0:return u=n.filter((function(t){return kc(t,"audio")})),s=n.filter((function(t){return kc(t,"video")})),o=[],c=i.map((function(t){return function(t,n,i){return NG.apply(this,arguments)}(t,r,e)})),[4,$.all(c)];case 1:for(a=g.sent().filter(Cr),f=function(t,n){if(0===n.length)return t;var i=function(t){var i=n.indexOf(t.ap.gC);return i>=0?i:n.length};return Fc(t,(function(t,n){return i(t)-i(n)}))}(a,null!=(h=null==t?void 0:t.preferredKeySystems)?h:[]),v=0;v<f.length;v++)d=f[v],l=aH(null!=t?t:{},d.ap),_="cbcs",o.push({ap:d.ap,BO:d.BO,LO:d.LO,QL:d.QL,PM:[{initDataTypes:[d.ap.fC],audioCapabilities:hH(u,_,null==l?void 0:l.audioRobustness),videoCapabilities:hH(s,_,null==l?void 0:l.videoRobustness),persistentState:null==l?void 0:l.persistentState,distinctiveIdentifier:null==l?void 0:l.distinctiveIdentifier}]});return[2,o]}}))})),RG.apply(this,arguments)}function NG(){return NG=Mo((function(t,n,i){var r,e;return Uo(this,(function(u){switch(u.label){case 0:return t.Nit&&t.Nkt?t.iP!==_G.Bkt?[2]:(r=CG(t.Nkt))?r.gC!==ac?[3,1]:[2,{ap:r,BO:[],LO:void 0,QL:t.Nit}]:[2]:[2];case 1:return r.gC!==oc||t.Nkt!==vc?[3,2]:[2,{ap:r,BO:[],LO:t.Nit,QL:void 0}];case 2:return VW.zA("HLSDrmUtils","Fetching key uri "+t.Nit+"."),[4,n.pI({TI:t.Nit,oP:i})];case 3:return[4,u.sent().xL()];case 4:return e=u.sent(),[2,{ap:r,BO:[e],LO:void 0,QL:void 0}];case 5:return[2]}}))})),NG.apply(this,arguments)}function CG(t){return t===ec?lc:t===ic?dc:t===fc?gc:t===vc?wc:void 0}function DG(t){if("#"!==t[0])throw new f("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function PG(t){return"#"!==t[0]?t:t.split(":",1)[0]}function OG(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new f("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function BG(t){var n=FG(OG(t));if(void 0===n)throw new f("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function LG(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,r=i.exec(t);null!==r;){var e=r[1],u=void 0;u=void 0!==r[3]?r[3]:r[2],null!==e?n[e]=u:VW.ASt(XW,"Ignoring unparsable M3U8 attribute name: "+t+"."),r=i.exec(t)}return n}function MG(t,n){var i,r,e=LG(t);try{i=e.URI?tr.Fm(e.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return dG.yy;case"VIDEO":return dG.vl;case"SUBTITLES":return dG.Ay;case"CLOSED-CAPTIONS":return dG.Lkt}throw new f("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(e.TYPE)}catch(n){throw new f("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=e["GROUP-ID"],s=e.LANGUAGE,o=e["ASSOC-LANGUAGE"],c=e.NAME,a="YES"===e.DEFAULT,h="YES"===e.AUTOSELECT,v="YES"===e.FORCED,d=e["INSTREAM-ID"],l=e.CHARACTERISTICS,_=e.CHANNELS;if(u||VW.ASt(XW,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),s||VW.ASt(XW,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),c||VW.ASt(XW,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===dG.Lkt?(i&&VW.ASt(XW,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),d?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(d)||VW.ASt(XW,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):VW.ASt(XW,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):d&&VW.ASt(XW,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),a&&!h&&(h=!0,e.AUTOSELECT&&VW.ASt(XW,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),e.FORCED&&r!==dG.Ay&&VW.ASt(XW,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===c)throw new f("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{Okt:o,Mkt:_,LTt:l,DTt:u,CTt:h,RTt:a,xTt:v,NTt:d,gs:s,l:c,Iw:r,Nit:i}}function xG(t,n,i){var r,e,u,s=LG(t);try{r=tr.Fm(i,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),r=Number(n[1]);if(w(i)||w(r))throw new f("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{Ti:i,Ci:r}}(s.RESOLUTION),e=function(t){if(!t)return;for(var n,i,r,e=t.split(","),u=0;u<e.length;u++){var s=e[u],o=s.trim();Ac(o,"mp4a")?n="mp4a.40.05"===o?"mp4a.40.5":"mp4a.40.02"===o?"mp4a.40.2":o:"ac-3"===o||"ec-3"===o?n=o:Ac(o,"avc")||Ac(o,"hvc1")||Ac(o,"hev1")||Ac(o,"dvh")||Ac(o,"vp09")||Ac(o,"av01")?i=s:r=r?r+","+o:o}return{cSt:n,lSt:i,Dkt:r}}(s.CODECS)}catch(n){throw new f("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var o=FG(s.BANDWIDTH),c=FG(s["AVERAGE-BANDWIDTH"]),a=FG(s.SCORE),h=FG(s["FRAME-RATE"]),v=s["HDCP-LEVEL"],d=[];if(void 0!==s["ALLOWED-CPC"]){var l,_=s["ALLOWED-CPC"].split(",");(l=d).push.apply(l,_r(_.map((function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))))}var g=s["VIDEO-RANGE"],y=s.AUDIO,m=s.VIDEO,p=s.SUBTITLES,k=s["CLOSED-CAPTIONS"];if(void 0===o?VW.ASt(XW,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==c&&c>o&&VW.ASt(XW,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),e||VW.zA(XW,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),e&&e.lSt&&void 0===u&&VW.zA(XW,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===v||ia(["TYPE-0","TYPE-1","NONE"],v)||VW.ASt(XW,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===g||ia(["SDR","PQ","HLG"],g)||VW.ASt(XW,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===o)throw new f("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{Fkt:d,Ukt:y,Rit:c,IO:o,Hkt:k,bet:e,Iet:h,Vkt:v,_St:u,Cit:a,Wkt:p,Nit:r,qkt:m,zkt:g}}function UG(t,n){var i=LG(t);if(!i.URI)throw new f("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return xG(t,n,i.URI)}catch(n){throw new f("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function FG(t){var n=Number(t);return w(n)?void 0:n}function HG(t,n){var i,r,e=LG(t);try{i=function(t){switch(t){case"NONE":return _G.$M;case"AES-128":return _G.Xkt;case"SAMPLE-AES":return _G.Bkt;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new f("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(e.METHOD),r=e.URI?jG(e.URI,n):void 0}catch(n){throw new f("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var u,s,o,c,a,h=e.KEYFORMAT,v=e.IV,d=e.KEYFORMATVERSIONS;if(i!==_G.$M){if(o=h||vc,"SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(CG(o)!==lc)throw new f("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");u=_G.Bkt}else u=i;s=r,c=v?pf(v):void 0,a=d?d.split("/").map((function(t){return Number(t)})):[1]}else u=_G.$M,(r||h||d||v)&&VW.ASt(XW,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{iP:u,Nit:s,Gkt:c,Nkt:o,Qkt:a}}function VG(t){var n=OG(t);if(!n)return[void 0,""];var i=Fo(n.split(","),2),r=i[0],e=i[1];return[FG(r),e]}function XG(t,n){var i=t.split("@"),r=FG(i[0]),e=i.length>1?FG(i[1]):n;if(void 0===r||void 0===e)throw new f("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{Tn:e,U:r}}function zG(t){if(void 0!==t)return XG(t,void 0)}function WG(t,n){return XG(OG(t),n)}function GG(t,n){var i=LG(t);try{return{kT:jG(i.URI,n),qnt:zG(i.BYTERANGE)}}catch(n){throw new f("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function qG(t){var n=OG(t);if(!n)throw new f("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!Me(i))throw new f("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function YG(t){var n,i,r,e=LG(t),u=e["START-DATE"],s=e["END-DATE"],o=FG(e["PLANNED-DURATION"]),c=FG(e.DURATION);void 0!==e["SCTE35-CMD"]&&(n=pf(e["SCTE35-CMD"]).buffer),e["SCTE35-IN"]&&(i=pf(e["SCTE35-IN"]).buffer),e["SCTE35-OUT"]&&(r=pf(e["SCTE35-OUT"]).buffer);var a,h,v="YES"===e["END-ON-NEXT"],l=function(t){for(var n={},i=0,r=d.keys(t);i<r.length;i++){var e=r[i],u=t[e];void 0!==u&&Ac(e,"X-")&&(n[e]=u)}return n}(e),_=e.ID,g=e.CLASS;if(void 0===u)VW.ASt(XW,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+u+".");else if(a=new Date(u),h=void 0!==s?new Date(s):void 0,Me(a)||VW.ASt(XW,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+a+"."),void 0!==c){var w=new Date(a.getTime()+1e3*c);h?h.getTime()!==w.getTime()&&(VW.ASt(XW,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),h=w):h=w}else h&&(c=(a.getTime()-h.getTime())/1e3);if(v&&(e.CLASS||VW.ASt(XW,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),e.DURATION&&VW.ASt(XW,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),h&&VW.ASt(XW,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===_&&VW.ASt(XW,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===_||void 0===a)throw new f("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{o:_,Tkt:g,eM:a,Skt:h,ct:c,kkt:o,Rkt:n,xkt:i,Ckt:r,bkt:v,Ikt:l}}function jG(t,n){if(void 0===t)throw new f("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return tr.Fm(t,n)}function QG(t,n){var i=LG(t),r=FG(i.DURATION),e=jG(i.URI,n),u=zG(i.BYTERANGE),s="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===r)throw new f("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{ct:r,Nit:{kT:e,qnt:u},Kkt:s,jkt:o}}function KG(t){var n=LG(t);return{Ykt:"YES"===n["CAN-BLOCK-RELOAD"],Zkt:FG(n["CAN-SKIP-UNTIL"]),Jkt:"YES"===n["CAN-SKIP-DATERANGES"],$kt:FG(n["HOLD-BACK"]),tEt:FG(n["PART-HOLD-BACK"])}}function ZG(t,n){var i=LG(t);if(void 0===i.URI)throw new f("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var r=jG(i.URI,n),e=FG(i["LAST-MSN"]),u=FG(i["LAST-PART"]);if(void 0===e)throw new f("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{Nit:r,eEt:e,iEt:u}}function JG(t,n){var i,r=LG(t),e=FG(r["SKIPPED-SEGMENTS"]),u=null==(i=r["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(!e)throw new f("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{sEt:e,nEt:u,rEt:n}}function $G(t){var n=FG(LG(t)["PART-TARGET"]);if(void 0===n)throw new f("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function tq(t){switch(OG(t)){case"VOD":return gG.hEt;case"EVENT":return gG.oEt;default:return VW.ASt(XW,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),gG.YT}}function nq(t,n){var i,r,e=LG(t);try{i=function(t){if(void 0===t)throw new f("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return lG.aEt;if("PART"===t)return lG.uEt;throw new f("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(e.TYPE),r=jG(e.URI,n)}catch(n){throw new f("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var u,s=FG(e["BYTERANGE-START"]),o=FG(e["BYTERANGE-LENGTH"]);return void 0===s&&void 0===o||(u={Tn:s||0,U:o}),{Iw:i,Nit:{kT:r,qnt:u}}}!function(t){t[t.yy=0]="yy",t[t.vl=1]="vl",t[t.Ay=2]="Ay",t[t.Lkt=3]="Lkt"}(dG||(dG={})),function(t){t[t.aEt=0]="aEt",t[t.uEt=1]="uEt"}(lG||(lG={})),function(t){t[t.$M=0]="$M",t[t.Xkt=1]="Xkt",t[t.Bkt=2]="Bkt"}(_G||(_G={})),function(t){t[t.YT=0]="YT",t[t.hEt=1]="hEt",t[t.oEt=2]="oEt"}(gG||(gG={}));var iq=function(){function t(n){this.dEt=0,this.lEt=t._Et(n)}var n=t.prototype;return n.cEt=function(){var t=this.lEt[this.dEt];return this.dEt+=1,t},n.fEt=function(){return this.lEt[this.dEt]},n.Iy=function(){var n=new t("");return n.dEt=0,n.lEt=this.lEt.slice(this.dEt),n},t._Et=function(t){return t?t.split(/[\r\n]+/).map((function(t){return t.trim()})).filter((function(t){return t})):[]},t}();function rq(t,n,i){var r=t.Nit,e=t.oA,u=t.gEt,s=t.Tn;switch(i){case"#EXT-X-VERSION":e=function(t){var n=BG(t);return w(n)?(VW.ASt(XW,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":u=!0;break;case"#EXT-X-START":s=function(t){var n=LG(t),i=FG(n["TIME-OFFSET"]);if(void 0===i)throw new f("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{vEt:i,wEt:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":VW.ASt(XW,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:VW.zA(XW,"Ignoring unrecognized line or comment: "+n+".")}return{Nit:r,oA:e,gEt:u,Tn:s}}function eq(t,n){return t.map((function(t){return t.iP===_G.$M||t.Gkt?t:xo({},t,{Gkt:uq(n)})}))}function uq(t){var n=new DataView(new ArrayBuffer(16)),i=new mf;return i.Ey(8),Xh(n,i,Ee.fromNumber(t)),new y(n.buffer)}function sq(t,n,i){VW.zA(XW,"Parsing M3U8 playlist at "+t+".");var r=new iq(i);if("#EXTM3U"!==r.cEt())throw new f("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(i)?function(t,n){var i;try{i=tr.Fm(t)}catch(n){throw VW.ASt(XW,"The master playlist has no valid base URI: "+t+"."),new f("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var r={Nit:i,gEt:void 0,Tn:void 0,oA:void 0},e=[],u=[],s=[],o=[];;){var c=n.cEt();if(!c)break;try{var a=DG(c);switch(a){case"#EXT-X-MEDIA":var h=MG(c,i);e.push(h);break;case"#EXT-X-STREAM-INF":var v=xG(c,i,n.cEt());u.push(v);break;case"#EXT-X-I-FRAME-STREAM-INF":var d=UG(c,i);s.push(d);break;case"#EXT-X-SESSION-DATA":VW.ASt(XW,"Ignoring unsupported #EXT-X-SESSION-DATA: "+c+".");break;case"#EXT-X-SESSION-KEY":var l=HG(c,i);o.push(l);break;default:r=rq(r,c,a)}}catch(t){VW.ASt(XW,"Ignoring unparsable line: "+c,t)}}var _,g=r.oA,w=null!=(_=r.gEt)&&_,y=r.Tn;return void 0===g&&(VW.ASt(XW,"The playlist has no #EXT-X-VERSION, assuming version is 2."),g=2),g>=8&&(u.some((function(t){return void 0!==t.Cit}))||s.some((function(t){return void 0!==t.Cit})))&&(u.some((function(t){return void 0===t.Cit}))||s.some((function(t){return void 0===t.Cit})))&&VW.ASt(XW,"If one master playlist variant stream has a SCORE, all variants should have it."),{Nit:i,oA:g,gEt:w,Tn:y,mEt:s,pEt:o,NA:e,yEt:u}}(t,r):function(t,n,i){var r,e,u,s,o,c,a,h,v,d,l,_,g,w,y,m,p,k,A={Nit:t,gEt:void 0,Tn:void 0,oA:void 0},b=[],T=!1,S=!1,E=[],I=Vo(),R=[],N=[],C=!1,D=!1,P=[],O=[],B=0,L=!1,M=gG.YT,x=!1,U=0;try{k=tr.Fm(t)}catch(n){throw VW.ASt(XW,"The media playlist has no valid base URI: "+t+".",n),new f("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var F=i.Iy();void 0===y||void 0===m;){var H=F.cEt();if(!H)break;try{switch(PG(H)){case"#EXT-X-MEDIA-SEQUENCE":y=BG(H);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":m=BG(H)}}catch(t){VW.ASt(XW,"Ignoring unparsable line: "+H,t)}}void 0===y&&(VW.zA(XW,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),y=0),void 0===m&&(VW.zA(XW,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),m=0);for(var V=y,X=m;;){var z=i.cEt();if(!z)break;var W=!1;try{var G=PG(z);switch(G){case"#EXTINF":var q;W=!0,o=(q=Fo(VG(z),2))[0],c=q[1];break;case"#EXT-X-BYTERANGE":W=!0,(a=WG(z,B))&&(B=a.Tn+a.U);break;case"#EXT-X-DISCONTINUITY":W=!0,C=!0,X++;break;case"#EXT-X-KEY":var Y;W=!0;var j,Q=HG(z,k);if(Q.iP===_G.$M){I.clear(),g=void 0;break}var K=null!=(j=null==(Y=Q.Nkt)?void 0:Y.toString())?j:"identity";I.set(K,Q),Q.iP===_G.Xkt&&(g=Q);break;case"#EXT-X-MAP":W=!0,v=GG(z,k),d=g;break;case"#EXT-X-PROGRAM-DATE-TIME":W=!0,l=qG(z);break;case"#EXT-X-GAP":W=!0,D=!0;break;case"#EXT-X-BITRATE":W=!0,_=BG(z);break;case"#EXT-X-TARGETDURATION":r=BG(z);break;case"#EXT-X-DATERANGE":var Z=YG(z);b.push(Z);break;case"#EXT-X-PART":W=!0;var J=QG(z,k);N.push(J);break;case"#EXT-X-PRELOAD-HINT":var $=nq(z,k);P.push($);break;case"#EXT-X-SKIP":E.length>0&&VW.ASt(XW,"#EXT-X-SKIP must appear before any #EXTINF tags."),W=!0;var tt=JG(z,V);U=tt.sEt,p=tt.nEt,V+=tt.sEt;break;case"#EXT-X-SERVER-CONTROL":var nt=KG(z);T=nt.Ykt,e=nt.Zkt,S=nt.Jkt,u=nt.$kt,s=nt.tEt;break;case"#EXT-X-RENDITION-REPORT":var it=ZG(z,k);O.push(it);break;case"#EXT-X-PART-INF":w=$G(z);break;case"#EXT-X-MEDIA-SEQUENCE":W&&VW.ASt(XW,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":W&&VW.ASt(XW,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":L=!0;break;case"#EXT-X-PLAYLIST-TYPE":M=tq(z);break;case"#EXT-X-I-FRAMES-ONLY":x=!0;break;default:if(Ac(G,"#"))A=rq(A,z,G);else{h=tr.Fm(z,k);var rt=v?{Nit:v,AEt:d}:void 0,et={pEt:eq(Wo(I),V),WE:R,bEt:N,ct:o,uM:c,TEt:C,Nit:{qnt:a,kT:h},SEt:rt,kEt:l,jkt:D,EEt:_,rEt:V,IEt:X};E.push(et),V++,R=[],N=[],o=void 0,c=void 0,C=!1,a=void 0,h=void 0,l=void 0,D=!1,_=void 0}}}catch(t){VW.ASt(XW,"Ignoring unparsable line: "+z,t)}}if(N.length){var ut=v?{Nit:v,AEt:g}:void 0,st={pEt:eq(Wo(I),V),WE:R,bEt:N,ct:o,uM:c,TEt:C,Nit:void 0,SEt:ut,kEt:l,jkt:D,EEt:_,rEt:V,IEt:X};E.push(st)}var ot,ct=A.oA,at=null!=(ot=A.gEt)&&ot,ht=A.Tn;void 0===ct&&(VW.ASt(XW,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),ct=2),void 0===r&&VW.ASt(XW,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var ft=E.length,vt=ft>0;vt||VW.ASt(XW,"The HLS media playlist contains no segments.");var dt=vt&&E[ft-1].bEt.length>0;return dt&&void 0===w&&VW.ASt(XW,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),dt&&void 0===s&&VW.ASt(XW,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{Ykt:T,Zkt:e,Jkt:S,PEt:b,IEt:m,REt:L,gEt:at,$kt:u,CEt:x,rEt:y,sEt:U,tEt:s,fkt:w,xEt:M,DEt:P,nEt:p,NEt:O,BEt:r,mtt:E,Tn:ht,Nit:k,LEt:n,oA:ct}}(t,n,r)}var oq=function(){function t(t,n,i){var r,e,u,s;this.o=cq++,this.Cit=void 0,this._St=void 0,this.Rit=void 0,this.MEt=!1,this.HEt=[],this.PTt=n,this.IO=t.IO,this.Rit=t.Rit,this.Cit=t.Cit,this.OEt=t.bet?aq(t.bet):void 0,this._St=t._St,this.Iet=t.Iet,this.Ukt=null!=(r=t.Ukt)?r:"QEt"+this.o,this.qkt=null!=(e=t.qkt)?e:"KEt"+this.o,this.Wkt=null!=(u=t.Wkt)?u:"jEt"+this.o,this.Hkt=null!=(s=t.Hkt)?s:"YEt"+this.o,this.HEt=i}var n=t.prototype;return n.zEt=function(t){for(var n=0,i=this.HEt;n<i.length;n++){var r=i[n].PTt.zEt(t);if(void 0!==r)return r}},n.XEt=function(t){for(var n=0,i=this.HEt;n<i.length;n++){var r=i[n].PTt.XEt(t);if(void 0!==r)return r}},n.GEt=function(t){$c(this.HEt,t)},hr(t,[{key:"Nit",get:function(){return this.PTt.Nit}},{key:"bet",get:function(){return this.OEt},set:function(t){this.OEt=t?aq(t):void 0,this.MEt=!0}},{key:"FEt",get:function(){return this.MEt}},{key:"UEt",get:function(){if(!this.HEt.length)return ZE.Nl();var t,n,i=null!=(n=ca(this.HEt,(function(n){return null!=(t=n.PTt.VEt)?t:0})))?n:this.CSt[0],r=i.PTt.mtt;if(!r.length||r.length<2)return ZE.Nl();var e,u,s=i.PTt.REt?r[0].PS:r[1].PS,o=r[r.length-1].RS-this.CSt.reduce((function(t,n){return l.max(null!=(u=null!=(e=n.PTt.tEt)?e:n.PTt.$kt)?u:0,t)}),0);return o<s?ZE.Nl():new ZE([s,o])}},{key:"CSt",get:function(){return this.HEt}},{key:"SSt",get:function(){return this.HEt.filter((function(t){return t.Iw===dG.yy}))}},{key:"kSt",get:function(){return this.HEt.filter((function(t){return t.Iw===dG.vl}))}},{key:"WEt",get:function(){return this.HEt.filter((function(t){return t.Iw===dG.Ay}))}},{key:"qEt",get:function(){return this.HEt.filter((function(t){return t.Iw===dG.Lkt}))}}]),t}(),cq=0;function aq(t){return xo({},t,{lSt:t.lSt?dl(t.lSt):void 0})}var hq,fq=function(){function t(t,n,i,r,e){this.m6=void 0,this.tIt=t,this.iIt=n,this.US=i,this.$Et=r,this.ct=e.ct,this.Nit=e.Nit,this.Kkt=e.Kkt,this.jkt=e.jkt}return t.prototype.eIt=function(t,n){this.US=t,this.$Et=n},hr(t,[{key:"PS",get:function(){var t;return this.US+(null!=(t=this.ZEt)?t:0)}},{key:"JEt",get:function(){return this.$Et}},{key:"pEt",get:function(){return this.tIt.pEt}}]),t}(),vq=function(){function t(t,n,i,r,e){this.m6=void 0,this.aIt=[],this.cIt=0,this.US=t,this.SEt=e.SEt,this.oIt=i,this.$Et=r,this.Zl=e.ct,this.kEt=e.kEt,this.rIt=e.Nit,this.jkt=e.jkt,this.rEt=e.rEt,this.TEt=e.TEt,this.IEt=n,this.pEt=e.pEt,this.gIt(e.bEt)}var n=t.prototype;return n.lIt=function(t){return this.aIt[t]},n.dIt=function(t){for(var n=0;n<this.aIt.length;n++){var i=this.aIt[n],r=i.PS,e=r+i.ct;if(r<=t&&t<=e)return t===e&&n+1<this.aIt.length?this.aIt[n+1]:i}},n.fIt=function(t){for(var n=this.aIt.length-1;n>=0;n--){var i=this.aIt[n];if(i.PS<=t)return i}},n._It=function(t){for(var n=this.fIt(t);n&&!n.Kkt&&n.iIt>0;)n=this.lIt(n.iIt-1);return n},n.eIt=function(t,n,i){var r=t.bEt.length!==this.aIt.length||i!==this.$Et;this.oIt=n,this.$Et=i,this.Zl=t.ct,null!=this.kEt||(this.kEt=t.kEt),void 0===this.rIt&&(this.rIt=t.Nit),r&&this.gIt(t.bEt)},n.gIt=function(t){this.aIt.length>t.length&&(this.aIt.length=t.length);for(var n=0,i=0;i<t.length;i++){var r=t[i],e=this.$Et&&i===t.length-1,u=this.US+n;if(i<this.aIt.length)this.aIt[i].eIt(u,e);else{var s=new fq(this,i,u,e,r);this.aIt.push(s)}n+=r.ct}this.cIt=n},n.vIt=function(){ea(this.aIt),this.cIt=0},hr(t,[{key:"PS",get:function(){var t;return this.US+(null!=(t=this.sIt)?t:0)}},{key:"nIt",get:function(){return this.US}},{key:"ct",get:function(){return this.Zl}},{key:"Nit",get:function(){return this.rIt}},{key:"hIt",get:function(){return this.oIt}},{key:"JEt",get:function(){return this.$Et}},{key:"bEt",get:function(){return this.aIt}},{key:"uIt",get:function(){return this.cIt}},{key:"RS",get:function(){var t;return this.PS+(null!=(t=this.Zl)?t:this.cIt)}},{key:"ZEt",get:function(){return this.sIt},set:function(t){this.sIt=t;for(var n=0,i=this.aIt;n<i.length;n++){i[n].ZEt=t}}}]),t}();!function(t){t.wIt="YES",t.mIt="v2"}(hq||(hq={}));var dq=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),n}(ya);var lq=function(t){function n(n,i){var r,e=_q(i,n.ct,n.eM,n.Skt);return(r=t.call(this,i,e,void 0,!1,n.o)||this).pIt=n.Tkt,r.yIt=n.eM,r.AIt=n.Skt,r.Zl=n.ct,r.bIt=n.kkt,r.TIt=Boolean(n.bkt),r.IIt=n.Ekt||{},r.SIt=n.Pkt,r.kIt=n.Ckt,r.EIt=n.xkt,r.PIt(),r.RIt(),r}vr(n,t);var i=n.prototype;return i.Kn=function(t){var n,i=!1;(void 0===this.pIt&&void 0!==t.Tkt&&(i=!0,this.pIt=t.Tkt),void 0===this.AIt&&void 0!==t.Skt&&(i=!0,this.AIt=t.Skt),void 0===this.Zl&&void 0!==t.ct&&(i=!0,this.Zl=t.ct),void 0===this.bIt&&void 0!==t.kkt&&(i=!0,this.bIt=t.kkt),!this.TIt&&t.bkt&&(i=!0,this.TIt=t.bkt),i=this.updateCustomAttributes(t,i),void 0===this.SIt&&void 0!==t.Pkt&&(i=!0,this.SIt=t.Pkt),void 0===this.kIt&&void 0!==t.Ckt&&(i=!0,this.kIt=t.Ckt),void 0===this.EIt&&void 0!==t.xkt&&(i=!0,this.EIt=t.xkt),this.PIt(),this.RIt(),this.CIt(),i)&&(this.To(new sm(this)),null==(n=this.HS)||n.To(new cm(this)))},i.updateCustomAttributes=function(t,n){var i=n;if(t.Ekt)for(var r=0,e=d.keys(t.Ekt);r<e.length;r++){var u=e[r];void 0===this.IIt[u]&&(i=!0,this.IIt[u]=t.Ekt[u])}return i},i.PIt=function(){this.Zl&&!this.AIt&&(this.AIt=new Date(this.yIt.getTime()+Fe(this.Zl)))},i.RIt=function(){this.AIt&&!this.Zl&&(this.Zl=Ue(this.AIt.getTime()-this.yIt.getTime()))},i.CIt=function(){this.WS===1/0&&(this.AIt||this.Zl)&&(this.WS=_q(this.US,this.Zl,this.yIt,this.AIt))},hr(n,[{key:"ma",get:function(){return this.Gu||(this.Gu=function(t){return $w(rm(t),{get content(){return t.O},get class(){return t.Tkt},get startDate(){return t.eM},get endDate(){return t.Skt},get duration(){return t.ct},get plannedDuration(){return t.kkt},get endOnNext(){return t.bkt},get scte35Cmd(){return t.Pkt},get scte35Out(){return t.Ckt},get scte35In(){return t.xkt},get customAttributes(){return t.Ekt}})}(this)),this.Gu}},{key:"Tkt",get:function(){return this.pIt}},{key:"eM",get:function(){return this.yIt}},{key:"Skt",get:function(){return this.AIt}},{key:"ct",get:function(){return this.Zl}},{key:"kkt",get:function(){return this.bIt}},{key:"bkt",get:function(){return this.TIt}},{key:"Pkt",get:function(){return this.SIt}},{key:"Ckt",get:function(){return this.kIt}},{key:"xkt",get:function(){return this.EIt}},{key:"Ekt",get:function(){return this.IIt}}]),n}(vm);function _q(t,n,i,r){return Cr(n)?t+n:r?t+(Ue(r.getTime())-Ue(i.getTime())):1/0}var gq=function(t){function n(){return t.call(this,void 0,void 0,Gy.DATE_RANGE)}vr(n,t);var i=n.prototype;return i.Kn=function(t,n){wq(this,yq(t),n)},i.vP=function(n){mq(this.L.Kv,n),t.prototype.vP.call(this,n)},n}(IO);function wq(t,n,i){for(var r=function(i){var r=e[i],u=jc(n,(function(t){return t.o===r.o}));u?r.Kn(u):t.EI(r)},e=t.L.Kv,u=e.length-1;u>=0;u--)r(u);for(var s=0;s<n.length;s++){var o=n[s],c=o.eM;if(void 0!==c&&!t.oJ(o.o)){var a=i(c),h=new lq(o,a);mq(t.L.Kv,h),t.vP(h)}}}function yq(t){for(var n=Vo(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.o)){var u=n.get(e.o),s=xo({},u,ry(e),{Ekt:xo({},u.Ekt,e.Ekt)});n.set(e.o,s)}else n.set(e.o,e),i.push(e.o)}return i.map((function(t){return n.get(t)}))}function mq(t,n){var i=Kc(t,(function(t){return t.Tkt===n.Tkt}));i&&i.bkt&&i.Kn({o:i.o,Skt:n.eM})}var pq=String.fromCharCode(95),kq=pq+"HLS_msn",Aq=pq+"HLS_part",bq=pq+"HLS_skip",Tq="HLSMediaPlaylist",Sq=function(){function t(t,n){this.XIt=void 0,this.ePt=void 0,this.iPt=void 0,this.NIt=void 0,this.BIt=void 0,this.LIt=void 0,this.OIt=void 0,this.vnt=[],this.GIt=[],this.FIt=!1,this.UIt=void 0,this.HIt=!1,this.VIt=gG.YT,this.RZ=ZE.Nl(),this.DIt=ZE.Nl(),this.Zl=void 0,this.KIt=-1/0,this.YIt=void 0,this.Nit=t,this.JE=n}var n=t.prototype;return n.uSt=function(t){if(!t)return this.Nit;var n=tr.Rh(this.Nit);return void 0!==t.rEt&&n.searchParams.append(kq,String(t.rEt)),void 0!==t.ZIt&&n.searchParams.append(Aq,String(t.ZIt)),void 0!==t.zy&&n.searchParams.append(bq,t.zy),n.href},n.aft=function(t){var n=this.vnt;if(0!==n.length){var i=t-n[0].rEt;if(!(i<0||i>=n.length))return n[i]}},n.JIt=function(t){if(0!==this.vnt.length){var n=tU(Eq.lC,this.vnt,t);if(!(n<0)){var i=this.vnt[n];return t===i.RS&&n+1<this.vnt.length?this.vnt[n+1]:i}var r=this.vnt[this.vnt.length-1];return t===r.RS?r:void 0}},n.$It=function(t){if(0!==this.vnt.length){var n=this.vnt[0];if(t<n.RS)return n;var i=this.vnt[this.vnt.length-1];return t>=i.PS?i:this.JIt(t)}},n.zEt=function(t){var n=this.$It(t);if(void 0!==n)for(var i=n.rEt-this.vnt[0].rEt;i>=0;i--){var r=this.vnt[i];if(void 0!==r.kEt)return new Date(r.kEt.getTime()+1e3*(t-r.PS))}},n.XEt=function(t){for(var n,i=0,r=this.vnt;i<r.length;i++){var e=r[i];if(Iq(e))if(void 0===n)n=e;else{if(!(e.kEt.getTime()<=t.getTime()))break;n=e}}if(void 0!==n)return n.PS+(t.getTime()-n.kEt.getTime())/1e3},n.tPt=function(t){switch(t){case lG.aEt:return this.ePt;case lG.uEt:return this.iPt;default:return}},n.eIt=function(t){var n;void 0===this.NIt&&(this.NIt=null!=(n=t.BEt)?n:this.sPt(t));void 0===this.LIt&&void 0!==t.$kt&&(this.LIt=t.$kt),void 0===this.BIt&&void 0!==t.fkt&&(this.BIt=t.fkt),void 0===this.OIt&&void 0!==t.tEt&&(this.OIt=t.tEt),this.FIt=t.Ykt,this.UIt=t.Zkt,this.HIt=t.Jkt,this.VIt=t.xEt,this.Ant(t),this.nPt(t);var i=jc(t.DEt,(function(t){return t.Iw===lG.aEt})),r=jc(t.DEt,(function(t){return t.Iw===lG.uEt}));this.ePt=i?{Nit:i.Nit,Iw:i.Iw,IEt:t.IEt}:void 0,this.iPt=r?{Nit:r.Nit,Iw:r.Iw,IEt:t.IEt}:void 0,this.XIt=tr.V_()/1e3,this.rPt(),null!=this.JE||(this.JE=t.Tn)},n.rPt=function(){this.DIt=this.hPt(),this.RZ=this.oPt(this.DIt),this.Zl=this.aPt()},n.hPt=function(){var t=this.mtt;if(0===t.length)return ZE.Nl();var n=t[0].PS,i=t[t.length-1].RS;return new ZE([n,i])},n.oPt=function(t){if(0===t.U||this.REt)return t;var n,i,r=t.Tn(0),e=t.Pn(0)-(null!=(i=null!=(n=this.tEt)?n:this.$kt)?i:0);return e<r?ZE.OF(r):new ZE([r,e])},n.aPt=function(){return 0===this.vnt.length?0:this.REt?Le(this.vnt,(function(n){return null!=(t=n.ct)?t:n.uIt})):1/0;var t},n.sPt=function(t){for(var n,i=0,r=t.mtt;i<r.length;i++){var e=r[i];if(void 0!==e.ct){var u=l.max(1,l.round(e.ct));(void 0===n||n<u)&&(n=u)}}if(void 0===n)throw new f("HLSModel - Could not determine required segment target duration.");return n},n.Ant=function(t){if(0===t.mtt.length)return ea(this.vnt),void this.uPt();var n=this.cPt(t);if(n){var i,r,e;n.lPt>0&&this.vnt.splice(0,n.lPt);var u=t.sEt;if(u>0){if(u>this.vnt.length)throw new dq("New playlist skips over missing segments.");var s=this.vnt[u-1];if(void 0===s.ct)throw new dq("New playlist skips over an incomplete segment.");i=s.nIt+s.ct,e=s.IEt-t.IEt,r=u;for(var o=0;o<u;o++)this.vnt[o].vIt()}else i=n.dPt,e=0,r=0;for(var c=0;c<t.mtt.length;c++,r++){var a=t.mtt[c],h=0===c,f=t.REt&&c===t.mtt.length-1,v=a.ct,d=a.IEt+e;if(r<this.vnt.length){var l=this.vnt[r];0,l.eIt(a,h,f)}else{var _=a;if(this.vnt.length>0&&void 0===_.SEt)_=xo({},_,{SEt:this.vnt[this.vnt.length-1].SEt});var g=new vq(i,d,h,f,_);g.ZEt=this.sIt,this.vnt.push(g)}void 0!==v&&(i+=v)}}},n.cPt=function(t){if(0===this.vnt.length)return{lPt:0,dPt:0};var n=this.vnt[0].rEt,i=this.vnt[this.vnt.length-1].rEt,r=t.mtt[0].rEt-t.sEt,e=t.mtt[t.mtt.length-1].rEt,u=0,s=0;if(r<n){var o=this.mtt[0].kEt,c=t.mtt[0].kEt;if(!(o&&c&&o<c))return void VW.ASt(Tq,"Ignoring older playlist (first media sequence number is "+r+", but previous playlist already started at "+n+")");u=this.vnt.length,this.uPt()}else{if(e<i)return void VW.ASt(Tq,"Ignoring older playlist (last media sequence number is "+e+", but previous playlist already ended at "+i+")");if(i<r){var a;s=null!=(a=function(t,n){var i=Kc(t,(function(t){return void 0!==t.kEt}));if(void 0===i)return;var r=function(t){for(var n=0,i=0;i<t.length;i++){var r,e=t[i];if(e.TEt)return;if(e.kEt)return[e,n];n+=null!=(r=e.ct)?r:0}return}(n.mtt);if(void 0===r)return;var e=Fo(r,2),u=e[0],s=e[1];if(i.IEt!==u.IEt)return;var o=(u.kEt.getTime()-i.kEt.getTime())/1e3;return i.nIt+o-s}(this.vnt,t))?a:function(t,n,i){var r,e=t[t.length-1],u=null!=(r=e.ct)?r:l.max(i,e.uIt),s=i*(n-e.rEt-1);return e.nIt+u+s}(this.vnt,r,this.NIt),VW.ySt(Tq,"New playlist (starting at "+r+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+s+"s"),u=this.vnt.length,this.uPt()}else{0;var h=Zc(this.vnt,(function(t){return t.rEt===r}));0,s=this.vnt[h].nIt,h>0&&(u=h)}}return{lPt:u,dPt:s}},n.nPt=function(t){var n=t.PEt.map(SG);if(t.Jkt&&t.LEt.zy===hq.mIt&&(n=this.GIt.concat(n)),this.GIt=yq(n),t.nEt)for(var i=this,r=function(t,n){var r=n[t],e=Zc(i.GIt,(function(t){return t.o===r}));e>=0&&ta(i.GIt,e)},e=0,u=t.nEt;e<u.length;e++)r(e,u)},n.fPt=function(t,n){if(this.sIt!==t){this.sIt=t;for(var i=0,r=this.vnt;i<r.length;i++){r[i].ZEt=this.sIt}this.rPt()}this.YIt=n},n.uPt=function(){this.sIt=void 0,this.YIt=void 0},hr(t,[{key:"REt",get:function(){return Boolean(jc(this.vnt,(function(t){return t.JEt})))}},{key:"ct",get:function(){return this.Zl}},{key:"kl",get:function(){return this.RZ}},{key:"xIt",get:function(){return this.DIt}},{key:"_kt",get:function(){return this.NIt}},{key:"fkt",get:function(){return this.BIt}},{key:"$kt",get:function(){return this.REt?0:this.LIt?this.LIt:this.NIt?3*this.NIt:void 0}},{key:"tEt",get:function(){var t;return null!=(t=this.OIt)?t:this.BIt?3*this.BIt:void 0}},{key:"MIt",get:function(){if(!this.REt&&0!==this.vnt.length){var t,n,i=this.vnt[this.vnt.length-1],r=null!=(n=null!=(t=this.tEt)?t:this.$kt)?n:0;return i.RS-r}}},{key:"Ykt",get:function(){return this.FIt}},{key:"Zkt",get:function(){return this.UIt}},{key:"Jkt",get:function(){return this.HIt}},{key:"xEt",get:function(){return this.VIt}},{key:"WIt",get:function(){return void 0!==this.fkt}},{key:"qIt",get:function(){if(this.REt)return!0;var t=tr.V_()/1e3,n=this.VEt,i=this.zIt;return void 0!==n&&t-n<i}},{key:"VEt",get:function(){return this.XIt}},{key:"ZEt",get:function(){return this.sIt}},{key:"zIt",get:function(){var t;return null!=(t=this.NIt)?t:void 0===this.XIt?5:1}},{key:"mtt",get:function(){return this.vnt}},{key:"PEt",get:function(){return this.GIt}},{key:"QIt",get:function(){return this.KIt},set:function(t){this.KIt=t}},{key:"Tn",get:function(){return this.JE}},{key:"jIt",get:function(){return this.YIt}}]),t}(),Eq=function(){function t(){}var n=t.prototype;return n.dnt=function(t){return t.PS},n.fnt=function(t){return t.RS},n._nt=function(t,n){return Wc(t,n)},n.gnt=function(t,n,i){return(t-n)/(i-n)},hr(t,null,[{key:"lC",get:function(){return null!=this.Wtt||(this.Wtt=new t),this.Wtt}}]),t}();function Iq(t){return void 0!==t.kEt}function Rq(t){return void 0!==t.bEt}function Nq(t){return Rq(t)?t.hIt:0===t.iIt&&t.tIt.hIt}function Cq(t,n){return Rq(t)?Rq(n)?t.rEt+1===n.rEt:0===n.iIt&&Cq(t,n.tIt):t.iIt===t.tIt.bEt.length-1?Cq(t.tIt,n):!Rq(n)&&t.tIt===n.tIt&&t.iIt+1===n.iIt}var Dq=function(){function t(){this.CPt=[],this.gPt=Xo()}var n=t.prototype;return n._Pt=function(t){var n=this.gPt.get(t);return void 0!==n&&Pq(n)},n.vPt=function(t){return this.mPt(t).wPt.jf},n.pPt=function(t){var n=this.gPt.get(t);if(!n||!Pq(n))throw new f("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.yPt=function(t){return this.pPt(t).NE},n.APt=function(t,n){var i=Rq(n)?n:n.tIt,r=this.pPt(i.IEt),e=t.fS(r.NE);if(r.bPt){var u=Om.fE(n.PS).Ak(e);if(u.wk().ck(Fm())){var s=l.round(u.hk()/Um().hk());e=e.fS(Um().Yk(s))}}return e},n.TPt=function(t,n){return this.APt(t,n).Ak(t)},n.SPt=function(t,n,i,r,e){var u=this.mPt(t);void 0===u.NE&&(u.kPt.some((function(t){return t.rot===n}))||(u.kPt.push({rot:n,EPt:i,IPt:r.aE(i.IA),bPt:e}),this.PPt(u)))},n.PPt=function(t){if(!t.NE&&this.RPt(t)){var n=aa(t.kPt,Oq);ea(t.kPt),t.NE=n.IPt.Ak(n.EPt),t.bPt=n.bPt,t.wPt.Lf()}},n.RPt=function(t){return this.CPt.length>0&&this.CPt.every((function(n){return t.kPt.some((function(t){return t.rot===n}))}))},n.mPt=function(t){if(this.gPt.has(t))return this.gPt.get(t);var n={NE:void 0,bPt:!1,wPt:new kf,kPt:[]};return this.gPt.set(t,n),n},n.xPt=function(t){var n=this;this.CPt=t,this.gPt.forEach((function(t){return n.PPt(t)}))},n.Ou=function(){this.gPt.forEach((function(t){return t.wPt.Jl()})),this.gPt.clear()},t}();function Pq(t){return void 0!==t.NE}function Oq(t,n){return t.bPt||n.bPt?function(t,n){var i=t.Ak(n);return t.Tk()||n.Tk()||(i.dk(Fm())?i=i.Ak(Um()):i.vk(Fm().yk())&&(i=i.fS(Um()))),i}(t.EPt,n.EPt).lk(Om.Rk):t.EPt.lk(n.EPt)}var Bq=function(){function t(t){this.GPt=t,this.BPt=[],this.NPt=[],this.WPt=Vo(),this.LPt=new Dq}var n=t.prototype;return n.eIt=function(t,n){if(kG(t))if(0===this.BPt.length)this.OPt(t);else{if(!n)return void VW.ASt("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.PTt.eIt(t)}else{if(0!==this.BPt.length)return void VW.ASt("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.MPt(t)}},n.OPt=function(t){var n=this.FPt(t.Nit);n.eIt(t);var i=this.UPt(dG.yy,n),r=this.UPt(dG.vl,n),e=new oq({Nit:n.Nit,IO:0,Rit:0,Cit:NaN,bet:void 0,_St:void 0,Iet:0,Fkt:[],Vkt:void 0,zkt:void 0,Ukt:void 0,qkt:void 0,Wkt:void 0,Hkt:void 0},n,[i,r]);this.BPt.push(e)},n.MPt=function(t){var n,i=this,r=function(n,r){var u=r[n],s=e.filter((function(t){return function(t,n){return Lq(t.Iw,t.DTt,n)&&(!t.BTt||t.PTt.Nit===n.Nit)}(t,u)}));i.VPt(u,s);var o=new oq(u,i.FPt(u.Nit,t.Tn),s);i.BPt.push(o)};(n=this.NPt).push.apply(n,_r(t.pEt));for(var e=this.HPt(t),u=0,s=t.yEt;u<s.length;u++)r(u,s)},n.FPt=function(t,n){var i=this.WPt.get(t);return void 0===i&&(i=new Sq(t,n),this.WPt.set(t,i)),i},n.HPt=function(t){for(var n=[],i=0,r=t.NA;i<r.length;i++){var e=r[i];if(void 0===e.Nit)for(var u=0,s=t.yEt;u<s.length;u++){var o=s[u];if(Lq(e.Iw,e.DTt,o)){var c=new RW(e,this.FPt(o.Nit));n.push(c)}}else{var a=new RW(e,this.FPt(e.Nit));n.push(a)}}return n},n.UPt=function(t,n){return new RW({Iw:t,Nit:void 0,DTt:"",gs:void 0,Okt:void 0,l:"",RTt:!0,CTt:!1,xTt:!1,LTt:void 0,NTt:void 0,Mkt:void 0},n)},n.VPt=function(t,n){var i=n.filter((function(t){return t.Iw===dG.yy})),r=n.filter((function(t){return t.Iw===dG.vl})),e=t.bet&&(t.bet.lSt||t.bet.cSt);if((!e||t.bet.lSt)&&0===r.length){var u=this.UPt(dG.vl,this.FPt(t.Nit));n.push(u)}if((!e||t.bet.cSt)&&0===i.length){var s=this.UPt(dG.yy,this.FPt(t.Nit));n.push(s)}t.bet&&t.bet.Dkt},n.qPt=function(t){for(var n=0,i=this.BPt;n<i.length;n++)for(var r=0,e=i[n].CSt;r<e.length;r++){var u=e[r];if(u===t)return u}},n.zPt=function(t){for(var n=0,i=this.BPt;n<i.length;n++){var r=i[n];if(r===t)return r}},n.XPt=function(t){for(var n=0,i=this.BPt;n<i.length;n++){var r=i[n];if(ia(r.CSt,t))return r}},n.Ou=function(){ea(this.BPt),ea(this.NPt),this.WPt.clear(),this.LPt.Ou()},hr(t,[{key:"DPt",get:function(){return this.NPt}},{key:"TSt",get:function(){return this.BPt}},{key:"zT",get:function(){return this.LPt}}]),t}();function Lq(t,n,i){switch(t){case dG.yy:return i.Ukt===n;case dG.vl:return i.qkt===n;case dG.Ay:return i.Wkt===n;case dG.Lkt:return i.Hkt===n}return!1}var Mq,xq=function(t){function n(n){var i;return(i=t.call(this,Mq.QPt)||this).zTt=n,i}return vr(n,t),n}(Va),Uq=function(t){function n(n){var i;return(i=t.call(this,Mq.KPt)||this).zTt=n,i}return vr(n,t),n}(Va),Fq="HlsModelUpdater";!function(t){t.QPt="jPt",t.KPt="YPt"}(Mq||(Mq={}));var Hq=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).fP=n,u.Sat=i,u.Aat=r,u.JPt=!1,u.tRt=!1,u._Rt=void 0,u.iRt=void 0,u.fRt=Xo(),u.Xit=new Bq(e),u}vr(n,t);var i=n.prototype;return i.sRt=function(t){var n=this;return Mo((function(){var i,r,e;return Uo(this,(function(u){switch(u.label){case 0:if(!(i=n.Xit.GPt))throw new f("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");return n.To(new EC),[4,n.nRt(i,{},2,!0,t)];case 1:if(r=u.sent(),!pG(e=r.PTt)&&!kG(e))throw new f("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");return pG(e)||VW.zA(Fq,"Detected media playlist only HLS stream."),n.rRt(e),r.hRt?(n.tRt=!0,[4,n.oRt(t)]):[3,3];case 2:u.sent(),u.label=3;case 3:return n.JPt=!0,[2]}}))}))()},i.aRt=function(t,n,i,r){var e=this;return Mo((function(){var u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:if(!(u=e.Xit.qPt(t)))throw new f("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");s={rEt:n,ZIt:i,zy:Wq(u)},o=Fe(l.max(1,3*t.PTt.zIt)),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.uRt(u,s,r,o)];case 2:return a.sent(),[3,4];case 3:throw Ta(c=a.sent()),e.cRt(u),c;case 4:return[2]}}))}))()},i.lRt=function(t,n){var i=this.Xit.qPt(t);if(!i)throw new f("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var r={rEt:void 0,ZIt:void 0,zy:Wq(i)},e=Fe(l.max(1,3*t.PTt.zIt));return this.uRt(i,r,n,e)},i.dRt=function(t,n){return this.fRt.has(t.cw)||this.fRt.set(t.cw,new kf),Ea(this.fRt.get(t.cw).jf,n)},i.cRt=function(t){this.To(new Uq(t))},i.uRt=function(t,n,i,r){var e=this;return Mo((function(){var u,s,o,c,a;return Uo(this,(function(h){switch(h.label){case 0:u=t.PTt.uSt(n),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.nRt(u,n,0,e.tRt,i,r)];case 2:return o=h.sent(),s=o.PTt,[3,4];case 3:throw Ta(c=h.sent()),t.PTt.QIt=tr.V_(),c;case 4:if(!kG(s))throw new f("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");try{e.rRt(s,t)}catch(u){if(u instanceof dq&&void 0!==n.zy)return a=xo({},n,{zy:void 0}),[2,e.uRt(t,a,i,r)];throw u}if(!e._Rt||t===e._Rt||e._Rt.PTt.qIt)return[3,8];h.label=5;case 5:return h.trys.push([5,7,,8]),[4,e.lRt(e._Rt,i)];case 6:return h.sent(),[3,8];case 7:return Ta(h.sent()),e._Rt=t,e.gRt(),[3,8];case 8:return e.vRt(t),e._Rt=t,[2]}}))}))()},i.nRt=function(t,n,i,r,e,u){var s=this;return Mo((function(){var o;return Uo(this,(function(c){switch(c.label){case 0:return VW.zA(Fq,"Loading HLS playlist at "+t+"."),r?[4,s.wRt(t,e)]:[3,2];case 1:if(void 0!==(o=c.sent()))return[2,{PTt:o,hRt:!0}];c.label=2;case 2:return[4,s.mRt(t,n,i,e,u)];case 3:return[2,{PTt:c.sent(),hRt:!1}]}}))}))()},i.wRt=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.Sat.Y7([t])];case 1:return r=e.sent(),ba(n),void 0!==r?[2,sq(r.responseURL,{},r.data)]:[3,3];case 2:return Ta(e.sent()),[3,3];case 3:return[2]}}))}))()},i.mRt=function(t,n,i,r,e){var u=this;return Mo((function(){var s,o;return Uo(this,(function(c){switch(c.label){case 0:return s={TI:t,sP:t_.KT,oP:u.Aat,iP:N_.GET,Iw:C_.WI,M_:r,kI:e},[4,EE((function(){return u.pRt(s)}),r,i)];case 1:return[2,sq((o=c.sent()).gP,n,o.Ny)]}}))}))()},i.pRt=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return[4,n.fP.pI(t)];case 1:return[4,(i=r.sent())._P()];case 2:return[2,{Ny:r.sent(),gP:i.gP}]}}))}))()},i.oRt=function(t){var n=this;return Mo((function(){var i,r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:for(ba(t),i=[],r=0,e=n.Xit.TSt;r<e.length;r++)for(u=e[r],s=0,o=u.CSt;s<o.length;s++)c=o[s],i.push(n.yRt(c,t));return[4,$.all(i)];case 1:return a.sent(),[2]}}))}))()},i.yRt=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,i.Sat.Y7([t.PTt.Nit])];case 1:return r=e.sent(),ba(n),void 0===r||t.PTt.qIt?[3,3]:[4,i.lRt(t,n)];case 2:e.sent(),e.label=3;case 3:return[3,5];case 4:return Ta(e.sent()),[3,5];case 5:return[2]}}))}))()},i.gRt=function(){for(var t=0,n=this.Xit.TSt;t<n.length;t++)for(var i=0,r=n[t].CSt;i<r.length;i++){var e=r[i];e!==this._Rt&&(void 0!==e.PTt.ZEt&&(e.PTt.qIt?this.vRt(e):e.PTt.uPt()))}},i.vRt=function(t){if(0!==t.PTt.mtt.length){if(!this._Rt)return this._Rt=t,void this._Rt.PTt.fPt(0,void 0);if(this.ARt(this._Rt),!this.ARt(t)&&void 0===t.PTt.ZEt){var n=this.bRt(t,this._Rt);VW.ySt(Fq,"Assuming global timeline offset of "+n+"s for rendition "+t.PTt.Nit+"."),t.PTt.fPt(n,void 0)}}},i.bRt=function(t,n){if(Vq(t)){var i=t.PTt.mtt[0],r=n.PTt.mtt[0];return VW.ySt(Fq,"Synchronizing by start of VOD: "+r.PS+" vs "+i.PS),r.PS-i.nIt}var e=function(t,n){var i=t.length-1,r=n.length-1;for(;i>=0&&r>=0;){var e=t[i],u=n[r];if(e.IEt>u.IEt)i--;else if(e.IEt<u.IEt)r--;else if(e.TEt){if(u.TEt)return{segment:e,referenceSegment:u};r--}else i--}return}(t.PTt.mtt,n.PTt.mtt);if(void 0!==e){var u=e.segment,s=e.referenceSegment;return VW.ySt(Fq,"Synchronizing by start of discontinuity #"+s.IEt+": "+s.PS+" vs "+u.PS),s.PS-u.nIt}var o=zq(t.PTt.mtt);if(void 0!==o){var c=zq(n.PTt.mtt);if(void 0!==c)return VW.ySt(Fq,"Synchronizing by PDT:",c.kEt.toISOString()+" vs "+o.kEt.getTime()),c.PS-o.nIt-(c.kEt.getTime()-o.kEt.getTime())/1e3}var a,h=Xq(n),f=Xq(t),v=null!=(a=t.PTt.ZEt)?a:0;return VW.ySt(Fq,"Synchronizing by last segment:",h+" vs "+f),h-f+v},i.ARt=function(t){var n=this.Xit.qPt(t);if(!n)return!1;if(Vq(n))return!1;var i=function(t,n){return Kc(t,(function(t){return void 0!==t.m6&&n._Pt(t.IEt)}))}(n.PTt.mtt,this.Xit.zT);if(void 0===i)return!1;if(n.PTt.jIt===i.IEt)return!0;var r=this.Xit.zT.APt(i.m6,i).hk()-i.nIt;return VW.ySt(Fq,"Synchronize by media timestamp: "+r+"s for rendition "+t.PTt.Nit+"."),n.PTt.fPt(r,i.IEt),(void 0===this._Rt||void 0===this._Rt.PTt.jIt||this._Rt.PTt.jIt<i.IEt)&&(this._Rt=n),!0},i.rRt=function(t,n){var i;(this.Xit.eIt(t,n),kG(t)&&n)&&(this.iRt=n,this.To(new xq(n)),null==(i=this.fRt.get(n.cw))||i.Lf(),this.fRt.delete(n.cw));this.To(new HU)},i.TRt=function(t,n){for(var i=0,r=this.Xit.TSt;i<r.length;i++){var e=r[i],u=jc(e.kSt,(function(t){return t.PTt===n}));void 0!==u&&void 0===t.lSt&&e.GEt(u);var s=jc(e.SSt,(function(t){return t.PTt===n}));void 0!==s&&void 0===t.cSt&&e.GEt(s),void 0===u&&void 0===s||(e.bet=EG(e.bet,t))}},i.Ou=function(){this.Lo(),this.Xit.Ou(),this.fRt.forEach((function(t){return t.Jl()})),this.fRt.clear()},hr(n,[{key:"ZPt",get:function(){return this.JPt}},{key:"$Pt",get:function(){return this.tRt}},{key:"Ar",get:function(){return this.Xit}},{key:"eRt",get:function(){return this.iRt}}]),n}(Ua);function Vq(t){return t.PTt.REt||t.PTt.xEt===gG.oEt}function Xq(t){var n=t.PTt.mtt;return n[n.length-1].RS}function zq(t){return Kc(t,(function(t){return void 0!==t.kEt}))}function Wq(t){if(void 0!==t.PTt.Zkt&&!t.PTt.REt&&!(void 0===t.PTt.VEt||tr.V_()/1e3-t.PTt.VEt>=t.PTt.Zkt/2))return t.PTt.Jkt?hq.mIt:hq.wIt}var Gq,qq=function(){function t(t,n,i){var r=this;this.kRt=function(t){r.ERt.hlsDateRange&&r.nPt(t.zTt)},this.ERt=t,this.Dct=n,this.KO=i,this.Oyt=new wk,this.Dct.wn(Mq.QPt,this.kRt)}return t.prototype.nPt=function(t){if(0!==t.PTt.PEt.length){var n;this.SRt||(this.SRt=this.KO.cP(gk.Ty,void 0,void 0,void 0,void 0,Gy.DATE_RANGE),this.Oyt.tt(this.SRt));wq(this.SRt,t.PTt.PEt,(function(i){return null!=(n=t.PTt.XEt(i))?n:NaN}))}},hr(t,[{key:"nt",get:function(){return this.Oyt}}]),t}(),Yq=function(t){function n(){return t.call(this,wW.ATt)}return vr(n,t),n}(Va),jq=function(){function t(t){this.Mgt=t,this.vnt=[],this.jj=void 0,this.Uyt=void 0}var n=t.prototype;return n.PRt=function(t){var n;return null==(n=this.RRt(t))?void 0:n.zTt},n.hgt=function(t){this.jj=t,this.CRt()},n.tut=function(t,n,i,r,e,u){this.vnt.push({zTt:t,wnt:n,xRt:ZE.MF(e,u),DRt:ZE.MF(i,r)}),this.CRt()},n.RRt=function(t){return jc(this.vnt,(function(n){return n.DRt.br(t)}))},n.aft=function(t){return jc(this.vnt,(function(n){return n.wnt===t}))},n.Qst=function(t,n){return jc(this.vnt,(function(i){return i.zTt===t&&Cq(i.wnt,n)}))},n.EY=function(){var t=this.bl;t.U>0&&(this.Uyt=t.Pn(t.U-1))},n.CRt=function(){var t=this.Mgt.bl;this.vnt=this.vnt.filter((function(n){return 0!==t.Cn(n.DRt).U}))},hr(t,[{key:"IRt",get:function(){return this.jj}},{key:"bl",get:function(){return DH(this.Mgt.bl,this.Mgt.CY)}},{key:"mtt",get:function(){return this.vnt}},{key:"rvt",get:function(){return this.Uyt}}]),t}(),Qq=function(){function t(t,n,i,r,e){var u=this;this.FRt=void 0,this.QN=new pa,this.ORt=ZE.Nl(),this.XRt=function(t){u.FRt&&(t?ON(t)&&u.NRt?u.jRt.lz(u.Mgt.bl.LF)?u.FRt.Lf():u.FRt.BC(t):Aa(t)?u.FRt.Lf():u.FRt.BC(t):u.FRt.Lf(),u.FRt=void 0)},this.vJ=t,this.zRt=i,this.Mgt=n,this.Hdt=r,this.jRt=e}var n=t.prototype;return n.URt=function(){if(this.MRt)throw new f("Cannot perform new operation while BufferAppender is still busy")},n.WAt=function(t){this.Mgt!==t&&(this.URt(),this.Mgt=t,this.Hdt=new jq(t))},n.HRt=function(){return this.FRt?this.FRt.jf:$.resolve()},n.VRt=function(t){var n,i=this.Hdt.rvt,r=this.Hdt.bl;if(void 0===i)return!1;var e,u=l.min(t,i);return null!=(e=null==(n=r.gF().bF(this.LRt).BF(u))?void 0:n.br(i))&&e},n.WRt=function(t){return this.Hdt.PRt(t)},n.Jl=function(){this.QN.Jl(),this.QN=new pa},n.qj=function(t){var n=this;this.URt(),this.FRt=new kf;var i=function(i){n.zRt.qRt(t),n.XRt(i)};this.zj(t,this.QN.M_).then(i,i)},n.zj=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return VW.ySt(WW,"Appending initializer",AG(t.GRt.Nit)),[4,i.Mgt.qj(t,n)];case 1:return r.sent(),VW.ySt(WW,"Appended initializer",AG(t.GRt.Nit)),i.Hdt.hgt(t),[2]}}))}))()},n.mgt=function(t){var n=this;this.URt(),this.FRt=new kf;var i=function(i){n.zRt.qRt(t),n.XRt(i)};this.QRt(t,this.QN.M_).then(i,i)},n.QRt=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c,a,h,v,d,l,_,g,w,y,m,p,k,A,b,T,S;return Uo(this,(function(E){switch(E.label){case 0:if(void 0===(r=t.zTt).PTt._kt)throw new f("MediaBufferWrapper - Cannot append HLSAsset to "+i.vJ+" MediaBuffer for a HLSRendition with an undefined targetDuration.");return e=i.Hdt.bl.uF,u=i.Mgt.bl,VW.ySt(WW,"Appending",AG(t.GRt.Nit)),[4,i.Mgt.Hj(t,n)];case 1:return E.sent(),VW.ySt(WW,"Appended",AG(t.GRt.Nit),e,i.Hdt.bl.uF),s=t.PS,o=s+t.ct,c=t.GRt,a=c.PS,v=c.PS+(null!=(h=c.ct)?h:0),i.Hdt.tut(r,c,s,o,a,v),d=i.Mgt.bl.bF(u),l=i.Hdt.Qst(r,c),i.Iw===py.vl&&(l?i.KRt(l)?0===d.U?void 0===i.Hdt.aft(c)&&(_=i.Mgt.CY.Cn(new ZE([s,o])),i.ORt=i.ORt.Hl(_)):(g=d.Tn(0),w=new ZE([g,o]),i.ORt=i.ORt.bF(w),g>s&&(y=i.Mgt.CY.Cn(new ZE([s,g])),i.ORt=i.ORt.Hl(y))):(m=d.U>0&&d.Tn(0)<s?d.Tn(0):s,i.ORt=i.ORt.bF(new ZE([m,o]))):0===d.U?(p=i.Mgt.CY.Cn(new ZE([s,o])),i.ORt=i.ORt.Hl(p)):(A=d.Tn(0),b=null==(k=u.BF(s))?void 0:k.Pn(0),A>(T=b&&b>s?b:s)&&(S=i.Mgt.CY.Cn(new ZE([T,d.Tn(0)])),i.ORt=i.ORt.Hl(S)))),t.GRt.JEt&&i.Hdt.EY(),[2]}}))}))()},n.KRt=function(t){var n=t.DRt,i=n.Tn(0),r=n.Pn(n.U-1),e=n.lF(0),u=n.fF(n.U-1);return this.ORt.SF(i,r,e,u)},hr(t,[{key:"Iw",get:function(){return this.vJ}},{key:"NRt",get:function(){return this.vJ===py.yy||this.vJ===py.vl}},{key:"BRt",get:function(){return this.Hdt}},{key:"LRt",get:function(){return this.ORt}},{key:"MRt",get:function(){return void 0!==this.FRt}}]),t}(),Kq=function(){function t(t,n,i){this.JRt=t,this.fP=n,this.Aat=i,this.$Rt=void 0}var n=t.prototype;return n.YRt=function(t,n,i,r){var e=this;return Mo((function(){var u;return Uo(this,(function(s){switch(s.label){case 0:return[4,e.ZRt(n,r)];case 1:return u=s.sent(),[4,e.JRt.YRt(t,u,i)];case 2:return[2,s.sent()]}}))}))()},n.ZRt=function(t,n){var i=this;return Mo((function(){var r,e,u;return Uo(this,(function(s){switch(s.label){case 0:return(null==(r=i.$Rt)?void 0:r.TI)===t?[3,3]:(VW.ySt("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),[4,i.fP.pI({TI:t,sP:t_.OI,iP:N_.GET,M_:n,Iw:C_.XI,rP:D_.$I,oP:i.Aat})]);case 1:return[4,s.sent().xL()];case 2:e=s.sent(),u=new y(e),i.$Rt={TI:t,Ny:u},s.label=3;case 3:return[2,i.$Rt.Ny]}}))}))()},t}(),Zq=function(){function t(t,n,i,r,e){void 0===e&&(e=2),this.fP=t,this.Sat=n,this.fft=i,this.Aat=r,this.iCt=e}var n=t.prototype;return n.pI=function(t,n,i,r,e){var u=this;return Mo((function(){var s,o;return Uo(this,(function(c){switch(c.label){case 0:return[4,u.tCt(t,n,i,t_.OI,r,e)];case 1:return[4,(s=c.sent()).xL(e)];case 2:return o=c.sent(),[2,{httpStatusCode:s.SI,response:new y(o)}]}}))}))()},n.eCt=function(t,n,i,r,e){var u=this;return Mo((function(){return Uo(this,(function(s){switch(s.label){case 0:return[4,u.tCt(t,n,i,t_.FI,r,e)];case 1:return[2,s.sent().BW(e)]}}))}))()},n.tCt=function(t,n,i,r,e,u){var s=this;return Mo((function(){var o,c,a,h;return Uo(this,(function(f){switch(f.label){case 0:t.qnt&&0===(o=mG(t.qnt.Tn,t.qnt.U))[0]&&o[1]===Re&&(o=void 0),c=o?{Range:"bytes="+o[0]+"-"+o[1]}:void 0,a=new B_({TI:t.kT,sP:r,eP:c,oP:s.Aat,iP:N_.GET,Iw:n,rP:i,hP:s.fft,aP:e,M_:u}),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,s.Sat.itt(t.kT,o)];case 2:return h=f.sent(),ba(u),void 0!==h?(null==e||e(h.buffer.byteLength,h.buffer.byteLength),[2,new O_({pI:a,Ny:h.buffer})]):[3,4];case 3:return Ta(f.sent()),[3,4];case 4:return[4,EE((function(){return Ea(s.fP.pI(a),a.M_)}),u,s.iCt)];case 5:return[2,f.sent()]}}))}))()},t}(),Jq=function(){function t(t,n){this.uCt=void 0,this.dCt=new pa,this.In=-1/0,this.cCt=!1,this.Dct=t,this.nCt=n,this.oCt()}var n=t.prototype;return n.sCt=function(){return this.nCt.PTt.Ykt},n.rCt=function(t,n,i){var r=this;return Mo((function(){var e;return Uo(this,(function(u){switch(u.label){case 0:if(!r.sCt())throw new f("Could not perform blocking playlist update.");u.label=1;case 1:return u.trys.push([1,4,,5]),[4,r.hCt()];case 2:return u.sent(),ba(i),[4,r.Dct.aRt(r.nCt,t,n,i)];case 3:return u.sent(),r.In=tr.V_(),[3,5];case 4:throw Aa(e=u.sent())&&r.oCt(),e;case 5:return r.oCt(),[2]}}))}))()},n.aCt=function(t){return this.Dct.dRt(this.nCt,t)},n.oCt=function(){var t=this;if(!this.uCt&&!this.cCt){var n=function(){t.uCt=void 0};this.uCt=this.lCt(this.dCt.M_).then(n,n)}},n.hCt=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.uCt?(t.dCt.Jl(),t.dCt=new pa,[4,t.uCt.catch(Vr)]):[3,2];case 1:n.sent(),t.uCt=void 0,n.label=2;case 2:return[2]}}))}))()},n.lCt=function(t){var n=this;return Mo((function(){var i,r,e;return Uo(this,(function(u){switch(u.label){case 0:return n.nCt.PTt.REt&&n.nCt.PTt.qIt?[2]:(i=tr.V_()-n.In,r=1e3*n.nCt.PTt.zIt,i<r?[4,Ba(r-i,t)]:[3,2]);case 1:u.sent(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,n.Dct.lRt(n.nCt,t)];case 3:return u.sent(),[3,5];case 4:throw Ta(e=u.sent()),n.Dct.cRt(n.nCt),e;case 5:return n.In=tr.V_(),[3,0];case 6:return[2]}}))}))()},n.Ou=function(){this.cCt=!0,Da(this.hCt())},t}();!function(t){t[t.aEt=0]="aEt",t[t.uEt=1]="uEt",t[t.qI=2]="qI",t[t.zI=3]="zI"}(Gq||(Gq={}));var $q="AssetExtractor",tY=function(){function t(){this._Ct=[]}var n=t.prototype;return n.fCt=function(t,n,i){for(var r=n,e=0,u=this._Ct;e<u.length;e++){var s=u[e];if(r>=t)return!0;if(r<s.Tn)return!1;if(r<s.Pn){if(i<=s.Pn)return!0;r=s.Pn}}return r>=t},n.gCt=function(t,n){for(var i=[],r=0;r<this._Ct.length;r+=1){var e=this._Ct[r],u=t-e.Tn,s=e.Ny.length,o=l.min(s,l.max(u,0)),c=l.max(0,n+u),a=gf(e.Ny,o,c);a.length&&(r=this.vCt(r,e,t,o,c),i.push(a))}return i},n.wCt=function(t,n){this._Ct.push({Tn:t,Pn:t+n.length,Ny:n})},n.vCt=function(t,n,i,r,e){var u=t;this._Ct.splice(u,1),u-=1,n.Tn<i&&(u+=1,this._Ct.splice(u,0,{Tn:n.Tn,Pn:i,Ny:gf(n.Ny,0,r)}));var s=i+e-r;return s<n.Pn&&(u+=1,this._Ct.splice(u,0,{Tn:s,Pn:n.Pn,Ny:gf(n.Ny,e)})),u},t}(),nY=function(){function t(t,n){this.pCt=n,this.wd=t.getReader()}var n=t.prototype;return n.yCt=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return[4,t.wd.read()];case 1:if((n=i.sent()).done)throw t.pCt=1/0,new f("No more data can be read from the given stream.");return t.pCt+=n.value.length,[2,n.value]}}))}))()},n.ACt=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.wd.cancel(t)];case 1:return i.sent(),[2]}}))}))()},hr(t,[{key:"mCt",get:function(){return this.pCt}}]),t}(),iY=function(){function t(t,n,i,r){this.RCt=new kf,this.rIt=t,this.wd=n,this.kCt=i,this.PCt=r,this.ECt=new kf,this.TCt=new kf}var n=t.prototype;return n.bCt=function(){this.TCt.Lf(),this.TCt=new kf},n.SCt=function(t){var n=eY(this.rIt.qnt),i=n.znt,r=n.Xnt,e=this.kCt.gCt(i,r-i);VW.ySt($q,"Collected "+e.length+" chunks.");for(var u=0;u<e.length;u++){var s=e[u];t.enqueue(s)}},n.readAndSliceOutAssetBytes=function(t){var n=this;return Mo((function(){var i,r,e,u,s,o,c,a,h,f,v,d,_;return Uo(this,(function(g){switch(g.label){case 0:return[4,n.ECt.jf];case 1:g.sent(),i=eY(n.rIt.qnt),r=i.znt,e=i.Xnt,g.label=2;case 2:g.trys.push([2,11,,12]),g.label=3;case 3:return u=n.wd.mCt,[4,n.wd.yCt()];case 4:return s=g.sent(),o=s.length,VW.ySt($q,"Read "+o+" at "+u+" for extraction of "+AG(n.rIt)),c=l.min(u+o,r),(a=c-u)>0?(h=gf(s,0,a),f=gf(s,a),VW.ySt($q,"Of the read "+o+" bytes, the first "+a+" will be stored locally for extraction of "+AG(n.rIt)),n.kCt.wCt(u,h),f.length>0?(VW.ySt($q,"Extracting "+f.length+" bytes for extraction of "+AG(n.rIt)),t.enqueue(f),n.bCt(),[2,Da(n.readAndSliceOutAssetBytes(t))]):[3,9]):[3,5];case 5:return u+o<=e?(VW.ySt($q,"Extracting the read data range for extraction of "+AG(n.rIt)),t.enqueue(s),n.bCt(),[2,Da(n.readAndSliceOutAssetBytes(t))]):[3,6];case 6:return d=gf(s,0,v=e-u),_=gf(s,v),d.length>0&&(VW.ySt($q,"Extracting "+d.length+" bytes for extraction of "+AG(n.rIt)),t.enqueue(d)),VW.ySt($q,"Of the read "+o+" bytes, the last "+_.length+" will be stored locally for extraction of "+AG(n.rIt)),n.kCt.wCt(u+v,_),VW.ySt($q,"Extraction of "+AG(n.rIt)+" completed as the entire request has been fulfilled."),n.ICt(t),n.PCt?(VW.ySt($q,"Aborting stream upstream as no more bytes are needed from "+AG(n.rIt)+"."),[4,n.wd.ACt("AssetExtraction - AbortOnEnd")]):[3,8];case 7:g.sent(),g.label=8;case 8:return[2];case 9:return[3,3];case 10:return[3,12];case 11:return g.sent(),VW.ySt($q,"Extraction of "+AG(n.rIt)+" completed as the entire source stream has been read."),n.ICt(t),[3,12];case 12:return[2]}}))}))()},n.ICt=function(t){t.close(),this.bCt(),this.RCt.Lf()},n.start=function(t){VW.ySt($q,"Preparing to push all collected data to controller for extraction of "+AG(this.rIt)),this.SCt(t),VW.ySt($q,"Collected data pushed to controller for extraction of "+AG(this.rIt));var n=eY(this.rIt.qnt).Xnt;this.wd.mCt>=n?(VW.ySt($q,"Extraction of "+AG(this.rIt)+" completed as the entire request has been fulfilled."),this.ICt(t)):(VW.ySt($q,"Continuing read from original stream for extraction of "+AG(this.rIt)),Da(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.ECt.Lf(),this.ECt=new kf,this.TCt.jf},hr(t,[{key:"CCt",get:function(){return this.RCt.jf}}]),t}(),rY=function(){function t(t,n){this.rIt=n;var i=eY(this.rIt.qnt).znt;this.xCt=new nY(t,i),this.kCt=new tY}var n=t.prototype;return n._S=function(t){if(!bG(this.rIt,t))return!1;var n=eY(t.qnt),i=n.znt,r=n.Xnt;return this.kCt.fCt(this.xCt.mCt,i,r)},n.uyt=function(t,n){void 0===n&&(n=!1);var i=this;return Mo((function(){var r,e,u;return Uo(this,(function(s){switch(s.label){case 0:return r=i.xCt,e=i.kCt,VW.zA($q,"Extracting data from "+AG(t)+" out of "+AG(i.rIt)),i.DCt?(VW.ySt($q,"Awaiting previous extraction before extracting "+AG(t)+" out of "+AG(i.rIt)),[4,i.DCt]):[3,2];case 1:s.sent(),s.label=2;case 2:if(!i._S(t))throw new f("The extractor does not contain the data requested");return u=new iY(t,r,e,n),i.DCt=u.CCt,[2,new Fi(u)]}}))}))()},t}();function eY(t){if(t){var n=t.Tn;return{znt:n,Xnt:void 0!==t.U?n+t.U:Re}}return{znt:0,Xnt:Re}}var uY=function(){function t(t,n){this.rIt=t,this.NCt=n,this.QN=new pa,this.cvt=this.On()}var n=t.prototype;return n.On=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return[4,t.NCt.eCt(t.rIt,C_.zI,D_.YT,void 0,t.QN.M_)];case 1:return n=i.sent(),[2,new rY(n,t.rIt)]}}))}))()},n._S=function(t){return bG(this.rIt,t)},n.uyt=function(t,n){void 0===n&&(n=!1);var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return[4,i.cvt];case 1:return[4,Ea(r.sent().uyt(t,n),i.QN.M_)];case 2:return[2,r.sent()]}}))}))()},n.Jl=function(){this.cvt.catch(Vr),this.QN.Jl()},t}(),sY=function(t){function n(n){var i;return(i=t.call(this,aY.BCt)||this).hP=n,i}return vr(n,t),n}(Va),oY=function(t){function n(n,i,r,e,u,s,o){var c;return(c=t.call(this,aY.LCt)||this).uri=n,c.OCt=i,c.hP=r,c.mediaSequenceNumeber=e,c.mediaTrackId=u,c.MCt=s,c.httpStatusCode=o,c}return vr(n,t),n}(Va);function cY(t,n,i){var r=Rq(i)?i:i.tIt;if(n._Pt(r.IEt)){if(void 0!==i.m6)return n.APt(i.m6,i).hk();if(i!==r&&void 0!==r.m6){var e=n.APt(r.m6,r).hk();return i.PS+(e-r.PS)}}var u=t.PTt.aft(r.rEt-1);if(void 0!==u&&n._Pt(u.IEt)){if(u.bEt.length>0){var s=u.lIt(u.bEt.length-1);if(void 0!==s.m6){var o=n.APt(s.m6,s).hk();return i.PS+(o-s.PS)}}if(void 0!==u.m6){var c=n.APt(u.m6,u).hk();return i.PS+(c-u.PS)}}var a=t.PTt.aft(r.rEt+1);if(void 0!==a&&n._Pt(a.IEt)){if(a.bEt.length>0){var h=a.lIt(0);if(void 0!==h.m6){var f=n.APt(h.m6,h).hk();return i.PS+(f-h.PS)}}if(void 0!==a.m6){var v=n.APt(a.m6,a).hk();return i.PS+(v-a.PS)}}return i.PS}var aY,hY="HlsPlaylistDownloader";!function(t){t.BCt="segmentdownloadprogress",t.LCt="segmentdownloaded"}(aY||(aY={}));var fY=function(t){function n(n,i,r,e,u,s,o,c){var a;return(a=t.call(this)||this).HCt=void 0,a.zCt=void 0,a.Txt=void 0,a.Sxt=0,a.kxt=0,a.Ext=0,a.QCt=new pa,a.KCt=void 0,a.VCt=0,a.WCt=void 0,a.qCt=void 0,a.YCt=void 0,a.jCt=void 0,a.nxt=function(t){a.HCt&&(a.nCt=a.HCt,a.HCt=void 0,a.VCt=0,a.WCt=void 0,a.qCt=void 0),a.zCt&&(t&&!Aa(t)?a.zCt.BC(t):a.zCt.Lf(),a.zCt=void 0)},a.yxt=function(t,n){a.kxt=t,t>0&&0===a.Sxt&&(a.Sxt=tr.V_()),void 0!==n&&(a.Ext=n),a.To(new sY(a.vJ))},a.vJ=n,a.Dct=r,a.zRt=e,a.nCt=i,a.UCt=new Jq(r,i),a.bxt=new Kq(o,u,c),a.NCt=new Zq(u,s,function(t){switch(t){case dG.vl:return P_.vl;case dG.yy:return P_.yy;case dG.Ay:case dG.Lkt:return P_.KT;default:return P_.YT}}(i.Iw),c),a}vr(n,t);var i=n.prototype;return i.FCt=function(t){this.UCt.Ou(),this.UCt=new Jq(this.Dct,t),this.MRt?this.HCt=t:(this.nCt=t,this.VCt=0,this.WCt=void 0,this.qCt=void 0)},i.HRt=function(){return this.zCt?this.zCt.jf:$.resolve()},i.XCt=function(){return this.zRt.XCt()},i.GCt=function(t){this.zRt.GCt(t)},i.Jl=function(){var t,n,i;this.QCt.Jl(),this.QCt=new pa,null==(t=this.KCt)||t.Jl(),this.KCt=void 0,null==(n=this.jCt)||n.Jl(),null==(i=this.YCt)||i.Jl(),this.jCt=void 0,this.YCt=void 0,this.VCt=0,this.WCt=void 0,this.qCt=void 0},i.Ou=function(){this.UCt.Ou()},i.JCt=function(t){var n=this.nCt.PTt.JIt(t);if(!n)return!1;if(void 0!==this.WCt){var i=n.rEt===this.WCt;return void 0!==this.qCt?n.dIt(t)===n.lIt(this.qCt)&&i:i}return!1},i.$Ct=function(t){var n;if(void 0===this.WCt||t<this.VCt)n=this.txt(t);else if(void 0!==(n=this.ext(this.WCt,this.qCt))){var i=Fo(n,2),r=i[0],e=i[1],u=(null!=e?e:r).PS,s=3*this.nCt.PTt._kt;l.abs(u-t)>=s&&(n=this.txt(t))}else if(this.nCt.PTt.REt){if(this.nCt.PTt.aft(this.WCt).JEt&&void 0!==(n=this.txt(t))&&n[0].rEt===this.WCt)return}if(n){this.VCt=t;var o=Fo(n,2),c=o[0],a=o[1];return 0===(null==a?void 0:a.iIt)&&void 0!==c.ct?[c,void 0]:[c,a]}},i.txt=function(t){var n,i,r=this.nCt.PTt.mtt;if(0!==r.length){var e,u=this.Dct.Ar.zT,s=Om.fE(t),o=Fo(function(t,n,i){var r=t.PTt.mtt;if(0===r.length)return[void 0,void 0];var e=t.PTt.$It(i.hk());if(!n._Pt(e.IEt))return[void 0,void 0];for(var u,s,o,c=e.rEt-r[0].rEt,a=0,h=c;h>=0;h--){var f=r[h];if(f.IEt!==e.IEt)break;if(void 0!==f.m6){u=f,a=h;break}}if(void 0===u){for(var v=c+1;v<r.length;v++){var d=r[v];if(d.IEt!==e.IEt)break;if(void 0!==d.m6){u=d,a=v;break}}if(void 0===u)return[void 0,void 0]}if(n.APt(u.m6,u)._k(i)){s=u;for(var l=a+1;l<r.length;l++){var _=r[l];if(_.IEt!==e.IEt)break;if(void 0!==_.m6){if(!n.APt(_.m6,_)._k(i)){o=_;break}s=_}}}else{o=u;for(var g=a-1;g>=0;g--){var w=r[g];if(w.IEt!==e.IEt)break;if(void 0!==w.m6){if(n.APt(w.m6,w)._k(i)){s=w;break}o=w}}}return[s,o]}(this.nCt,u,s),2),c=o[0],a=o[1];if(void 0!==c&&void 0!==a){var h=u.APt(c.m6,c),f=u.APt(a.m6,a),v=s.Ak(h).hk()/f.Ak(h).hk()*(a.PS-c.PS);e=c.PS+v}else e=t;var d=r[r.length-1];return d.RS<=e?(n=d,i=d._It(e)):i=r[0].PS>e?(n=r[0]).lIt(0):null==(n=this.nCt.PTt.JIt(e))?void 0:n._It(e),n?[n,i]:void 0}},i.ext=function(t,n){var i,r;if((i=this.nCt.PTt.aft(t))&&void 0!==n){if(0===i.bEt.length)return[i,void 0];r=i.lIt(n+1)}return void 0!==i&&void 0!==r||(r=null==(i=this.nCt.PTt.aft(t+1))?void 0:i.lIt(0)),i?[i,r]:void 0},i.URt=function(){if(this.MRt)throw new f("Cannot perform new operation while PlaylistDownloader is still busy")},i.ixt=function(t){this.URt(),this.zCt=new kf,this.sxt(t,this.QCt.M_).then(this.nxt,this.nxt)},i.rxt=function(){this.UCt.oCt()},i.sxt=function(t,n){var i=this;return Mo((function(){var r,e;return Uo(this,(function(u){switch(u.label){case 0:return i.nCt.PTt.REt?[2]:(r=i.$Ct(t))||!i.UCt.sCt()||void 0===i.WCt?[3,2]:[4,i.UCt.rCt(void 0===i.qCt?i.WCt+1:i.WCt,void 0!==i.qCt?i.qCt+1:void 0,n)];case 1:u.sent(),r=i.$Ct(t),u.label=2;case 2:return r||!i.UCt.sCt()||void 0===i.WCt?[3,4]:[4,i.UCt.rCt(i.WCt+1,0,n)];case 3:u.sent(),r=i.$Ct(t),u.label=4;case 4:return r?[3,6]:(VW.zA(hY,"No next segment / part available, need to update playlist before continuing."),[4,i.UCt.aCt(n)]);case 5:return u.sent(),e=i.zTt.PTt.mtt,e[0].PS>t&&(i.qCt=void 0,i.WCt=void 0),e[e.length-1].rEt<i.WCt&&(i.qCt=void 0,i.WCt=void 0),r=i.$Ct(t),[3,4];case 6:return[2]}}))}))()},i.hxt=function(){return this.zRt.oxt()},i.axt=function(){this.URt();try{var t=this.nCt.PTt.tPt(lG.aEt);t&&this.uxt(t);var n=this.nCt.PTt.tPt(lG.uEt);n&&this.cxt(n)}catch(t){throw Ta(t),this.nCt.PTt.QIt=tr.V_(),this.Dct.cRt(this.nCt),t}},i.uxt=function(t){this.YCt&&!this.YCt._S(t.Nit)&&(this.YCt.Jl(),this.YCt=void 0),this.YCt||(this.YCt=new uY(t.Nit,this.NCt))},i.cxt=function(t){this.jCt&&!this.jCt._S(t.Nit)&&(this.jCt.Jl(),this.jCt=void 0),this.jCt||(this.jCt=new uY(t.Nit,this.NCt))},i.oft=function(t,n,i){var r=this;this.URt(),VW.zA(hY,"Starting download of segment "+AG(t.Nit)+" and part "+(null==n?void 0:n.iIt)),this.zCt=new kf,this.lxt(t,n,i,this.QCt.M_).catch((function(t){throw Ta(t),r.nCt.PTt.QIt=tr.V_(),r.Dct.cRt(r.nCt),t})).then(this.nxt,this.nxt)},i.lxt=function(t,n,i,r){var e=this;return Mo((function(){var u,s,o,c,a;return Uo(this,(function(h){switch(h.label){case 0:return t.SEt&&(i&&TG(i.GRt.Nit,null==(s=t.SEt)?void 0:s.Nit)&&t.IEt===i.IEt||(null==(c=e.KCt)||c.Jl(),e.KCt=new kf,a=e.dxt(t.SEt,t,r).then((function(){e.KCt=void 0})),e.KCt.U_(a)),u=null==(o=e.KCt)?void 0:o.jf),[4,e.fxt(t,n,u,r)];case 1:return h.sent(),[2]}}))}))()},i.dxt=function(t,n,i){var r=this;return Mo((function(){var e,u;return Uo(this,(function(s){switch(s.label){case 0:return[4,r._xt(t,n,i)];case 1:return e=s.sent(),u=e.SEt.Ny.Ny.byteLength,r.zRt.gxt(e),r.To(new oY(e.SEt.GRt.Nit,e.Iw,r.vJ,n.rEt,e.zTt.cw,u,e.SEt.o_t)),VW.ySt(WW,"Download initializer complete",AG(t.Nit)),[2]}}))}))()},i.fxt=function(t,n,i,r){var e=this;return Mo((function(){var u,s,o;return Uo(this,(function(c){switch(c.label){case 0:return[4,e.vxt(t,n,r)];case 1:return u=c.sent(),s=u.wnt.Ny.Ny.byteLength,i?[4,Ea(i,r)]:[3,3];case 2:c.sent(),c.label=3;case 3:return e.zRt.gxt(u),e.To(new oY(u.wnt.GRt.Nit,u.Iw,e.vJ,t.rEt,u.zTt.cw,s,u.wnt.o_t)),VW.ySt(WW,"Download complete",AG(null!=(o=null==n?void 0:n.Nit)?o:t.Nit)),[2]}}))}))()},i.vxt=function(t,n,i){var r=this;return Mo((function(){var e,u,s,o;return Uo(this,(function(c){switch(c.label){case 0:return n?r.jCt?r.jCt._S(n.Nit)?[4,r.jCt.uyt(n.Nit)]:[3,4]:[3,5]:[3,8];case 1:return[4,a_(c.sent(),i)];case 2:return u=c.sent(),s=new y(u),[4,r.YRt(s,n.pEt,i)];case 3:return o=c.sent(),e=lY(n,o,200),[3,5];case 4:r.jCt.Jl(),r.jCt=void 0,c.label=5;case 5:return e?[3,7]:(VW.ySt(WW,"Start download",AG(n.Nit)),[4,r.wxt(n,i)]);case 6:e=c.sent(),c.label=7;case 7:return[3,10];case 8:return VW.ySt(WW,"Start download",AG(t.Nit)),[4,r.cft(t,i)];case 9:e=c.sent(),c.label=10;case 10:return r.WCt=t.rEt,r.qCt=null==n?void 0:n.iIt,[2,{Iw:"wnt",wnt:e,zTt:r.nCt,IEt:t.IEt}]}}))}))()},i._xt=function(t,n,i){var r=this;return Mo((function(){var e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:return r.YCt?r.YCt._S(t.Nit)?[4,Ea(r.YCt.uyt(t.Nit),i)]:[3,4]:[3,5];case 1:return[4,a_(a.sent(),i)];case 2:return s=a.sent(),o=new y(s),[4,r.YRt(o,t.AEt?[t.AEt]:[],i)];case 3:c=a.sent(),e=vY(t,n,c,200),a.label=4;case 4:VW.zA(hY,"MAP is required for segment, downloading MAP data."),null==(u=r.YCt)||u.Jl(),r.YCt=void 0,a.label=5;case 5:return e?[3,7]:(VW.ySt(WW,"Start download",AG(t.Nit)),[4,r.mxt(t,n,i)]);case 6:e=a.sent(),a.label=7;case 7:return[2,{Iw:"SEt",SEt:e,zTt:r.nCt,PS:n.PS,IEt:n.IEt,pEt:n.pEt}]}}))}))()},i.mxt=function(t,n,i){var r=this;return Mo((function(){var e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:return[4,r.NCt.pI(t.Nit,C_.qI,D_.GI,void 0,i)];case 1:return e=a.sent(),u=e.response,s=e.httpStatusCode,o=t.AEt?[t.AEt]:[],[4,r.YRt(u,o,i)];case 2:return c=a.sent(),[2,vY(t,n,c,s)]}}))}))()},i.cft=function(t,n){var i=this;return Mo((function(){var r,e,u,s;return Uo(this,(function(o){switch(o.label){case 0:if(!t.Nit)throw new f("Internal error: attempted to download an incomplete segment");o.label=1;case 1:return o.trys.push([1,,3,4]),i.pxt(t),[4,i.NCt.pI(t.Nit,C_.qI,D_.YT,i.yxt,n)];case 2:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,4];case 3:return i.Axt(),[7];case 4:return[4,i.YRt(r,t.pEt,n)];case 5:return s=o.sent(),[2,dY(t,s,e)]}}))}))()},i.wxt=function(t,n){var i=this;return Mo((function(){var r,e,u,s;return Uo(this,(function(o){switch(o.label){case 0:return o.trys.push([0,,2,3]),i.pxt(t),[4,i.NCt.pI(t.Nit,C_.qI,D_.YT,i.yxt,n)];case 1:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,3];case 2:return i.Axt(),[7];case 3:return[4,i.YRt(r,t.pEt,n)];case 4:return s=o.sent(),[2,lY(t,s,e)]}}))}))()},i.YRt=function(t,n,i){var r=this;return Mo((function(){var e;return Uo(this,(function(u){switch(u.label){case 0:return(e=jc(n,(function(t){return t.iP===_G.Xkt})))?e.Nit&&e.Gkt?[4,r.bxt.YRt(t,e.Nit,e.Gkt,i)]:(VW.lt(hY,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),[2,t]):[2,t];case 1:return[2,u.sent()]}}))}))()},i.pxt=function(t){var n,i,r;this.Txt=t,this.Sxt=0,this.kxt=0,this.Ext=null!=(r=null==(n=t.Nit)||null==(i=n.qnt)?void 0:i.U)?r:0},i.Axt=function(){this.Txt=void 0,this.Sxt=0,this.kxt=0,this.Ext=0},i.Ixt=function(){if(void 0!==this.Txt)return{wnt:this.Txt,Pxt:this.kxt,Rxt:this.Ext}},i.Cxt=function(t){return void 0!==this.Txt&&(0!==this.Sxt&&(0!==this.Ext&&(!(this.kxt>=this.Ext)&&!(t-this.Sxt<500))))},hr(n,[{key:"MRt",get:function(){return void 0!==this.zCt}},{key:"zTt",get:function(){var t;return null!=(t=this.HCt)?t:this.nCt}},{key:"ZCt",get:function(){if(!this.nCt.PTt.REt||void 0===this.WCt)return!1;var t=this.nCt.PTt.aft(this.WCt);if(!t.JEt)return!1;if(void 0!==this.qCt&&!t.lIt(this.qCt).JEt)return!1;return!0}}]),n}(Ua);function vY(t,n,i,r){return{Ny:{Ny:i,Iw:yC.xX},Iw:Gq.aEt,o_t:r,GRt:t,IEt:n.IEt}}function dY(t,n,i){return{Ny:{Ny:n,Iw:yC.xX},Iw:Gq.qI,o_t:i,GRt:t,IEt:t.IEt}}function lY(t,n,i){return{Ny:{Ny:n,Iw:yC.xX},o_t:i,Iw:Gq.uEt,GRt:t,IEt:t.tIt.IEt}}var _Y,gY=function(){function t(t){this.Nxt=[],this.Lxt=Vo(),this.Mxt=void 0,this.xxt=void 0,this.LPt=t}var n=t.prototype;return n.gxt=function(t){"SEt"===t.Iw&&(this.xxt=t.SEt),this.Nxt.push(t),this.Mxt&&(this.Mxt.Lf(),this.Mxt=void 0)},n.XCt=function(){return this.Nxt[0]},n.GCt=function(t){$c(this.Nxt,t)},n.oxt=function(){return null!=this.Mxt||(this.Mxt=new kf),this.Mxt.jf},n.Fxt=function(t){this.Uxt(t.rot).Fxt(t)},n.Hxt=function(t){return this.Uxt(t).Hxt()},n.qRt=function(t){this.Uxt(t.rot).qRt(t)},n.Vxt=function(t){var n;null==(n=this.Lxt.get(t))||n.Ou()},n.Wxt=function(t){return this.Uxt(t).Wxt()},n.Uxt=function(t){if(this.Lxt.has(t))return this.Lxt.get(t);var n=new wY;return this.Lxt.set(t,n),n},n.NC=function(){this.qxt(),this.zxt()},n.qxt=function(){this.xxt=void 0,ea(this.Nxt)},n.zxt=function(){this.Lxt.forEach((function(t){return t.NC()}))},n.Ou=function(){this.Lxt.forEach((function(t){return t.Ou()})),this.Lxt.clear(),this.NC(),this.Mxt&&(this.Mxt.Jl(),this.Mxt=void 0)},hr(t,[{key:"IRt",get:function(){return this.xxt}},{key:"Dxt",get:function(){for(var t=[],n=0,i=this.Nxt;n<i.length;n++){var r=i[n];if("wnt"===r.Iw){var e,u=r.wnt.GRt,s=cY(r.zTt,this.LPt,u);t.push({wnt:u,zTt:r.zTt,PS:s,RS:s+(null!=(e=u.ct)?e:0)})}}return t}},{key:"Bxt",get:function(){var t=[];return this.Lxt.forEach((function(n){for(var i=0,r=n.Oxt;i<r.length;i++){var e=r[i];"wnt"===e.Iw&&t.push({wnt:e.GRt,zTt:e.zTt,PS:e.PS,RS:e.PS+e.ct})}})),t}}]),t}(),wY=function(){function t(){this.Xxt=[],this.Gxt=void 0}var n=t.prototype;return n.Fxt=function(t){this.Xxt.push(t),this.Gxt&&(this.Gxt.Lf(),this.Gxt=void 0)},n.Hxt=function(){return this.Xxt[0]},n.qRt=function(t){$c(this.Xxt,t)},n.Wxt=function(){return null!=this.Gxt||(this.Gxt=new kf),this.Gxt.jf},n.NC=function(){ea(this.Xxt)},n.Ou=function(){this.NC(),this.Gxt&&(this.Gxt.Jl(),this.Gxt=void 0)},hr(t,[{key:"Oxt",get:function(){return this.Xxt}}]),t}(),yY=1e-6,mY=function(){function t(t,n){this.lbt=ZE.Nl(),this.dbt=ZE.Nl(),this.Kxt=t,this.LPt=n}var n=t.prototype;return n.qj=function(t,n){var i=this;return Mo((function(){var r,e,u,s;return Uo(this,(function(o){switch(o.label){case 0:return r=t.Ny.Ny,i.Qxt(r),i.Kxt.Iw!==Gy.TTML?[3,3]:i.LPt._Pt(t.IEt)?[3,2]:[4,Ea(i.LPt.vPt(t.IEt),n)];case 1:o.sent(),o.label=2;case 2:for(e=i.jxt(r,t.IEt),u=0;u<e.length;u++)s=e[u],i.Kxt.vP(s);o.label=3;case 3:return[2]}}))}))()},n.Hj=function(t,n){var i=this;return Mo((function(){var r,e;return Uo(this,(function(u){switch(u.label){case 0:return void 0===t.Ny?[2]:(r=t.PS,e=r+t.ct,i.lbt=i.lbt.Hl(ZE.MF(r,e)).yF(yY),i.NY(t.Yxt,t.Zxt),i.BY(r,e),i.LPt._Pt(t.IEt)?[3,2]:[4,Ea(i.LPt.vPt(t.IEt),n)]);case 1:u.sent(),u.label=2;case 2:return i.Wj(t.Ny.Ny,t.IEt,t.GRt),[2]}}))}))()},n.Wj=function(t,n,i){var r;this.Qxt(t),r=this.Kxt.Iw===Gy.WEBVTT?this.Jxt(t,i):this.jxt(t,n);for(var e=0;e<r.length;e++){var u=r[e];this.Kxt.vP(u)}},n.Jxt=function(t,n){for(var i,r=tp(t),e=r.L,u=null!=(i=r.OE)?i:{ME:Om.Rk,dh:Om.Rk},s=0;s<e.length;s++){var o=e[s],c=Om.fE(o.PS).Ak(u.dh).fS(u.ME),a=this.LPt.APt(c,n).hk(),h=a+(o.RS-o.PS);o.KS(a,h)}return e},n.jxt=function(t,n){var i=this.LPt.yPt(n).hk();return Jp(t,this.Kxt,{xE:0,DE:1/0,NE:i},sl.APPLICATION_MP4)},n.Qxt=function(t){this.Kxt.Iw===Gy.DEFAULT&&(this.Kxt.Iw=this.$xt(t)?Gy.WEBVTT:Gy.TTML)},n.$xt=function(t){return dp(af(ff(vf(t),0,l.min(t.byteLength,16)),new mf))},n.NY=function(t,n){this.dbt=this.dbt.Hl(ZE.MF(t,n)).yF(yY)},n.BY=function(t,n){this.dbt=this.dbt.bF(ZE.MF(t,n))},hr(t,[{key:"bl",get:function(){return this.lbt}},{key:"CY",get:function(){return this.dbt}}]),t}(),pY=function(t){function n(n,i){var r;return(r=t.call(this,_Y.tDt)||this).zTt=n,r.bet=i,r}return vr(n,t),n}(Va),kY=function(t){function n(n){var i;return(i=t.call(this,_Y.eDt)||this).zTt=n,i}return vr(n,t),n}(Va),AY=function(t){function n(n,i){var r;return(r=t.call(this,_Y.iDt)||this).zTt=n,r.Iet=i,r}return vr(n,t),n}(Va),bY=function(t){function n(n,i){var r;return(r=t.call(this,_Y.sDt)||this).zTt=n,r.nDt=i,r}return vr(n,t),n}(Va);!function(t){t.tDt="rDt",t.iDt="hDt",t.sDt="oDt",t.eDt="aDt"}(_Y||(_Y={}));var TY=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).dDt=void 0,e.QN=new pa,e.zRt=n,e.LPt=i,e.cDt=r,e}vr(n,t);var i=n.prototype;return i.lDt=function(t){for(var n=0,i=this.cDt;n<i.length;n++){var r=i[n];ia(t,r)||this.zRt.Vxt(r)}this.cDt=t},i.HRt=function(){var t,n;return null!=(n=null==(t=this.dDt)?void 0:t.jf)?n:$.resolve()},i.URt=function(){if(this.MRt)throw new f("Cannot perform new operation while transmuxer is still busy")},i.fDt=function(t,n){},i._Dt=function(t){var n=this;this.URt(),this.dDt=new kf;var i=function(i){n.gDt(t,i)};this.vDt(t,this.QN.M_).then(i,i)},i.wDt=function(t){var n=this;this.URt(),this.dDt=new kf;var i=function(i){n.gDt(t,i)};this.mDt(t,this.QN.M_).then(i,i)},i.gDt=function(t,n){this.dDt&&(!n||Aa(n)?(n||this.zRt.GCt(t),this.dDt.Lf(),this.dDt=void 0):this.dDt.BC(n))},i.pDt=function(t,n){this.To(new pY(t,n))},i.yDt=function(t,n){this.To(new AY(t,n))},i.ADt=function(t,n,i){Nq(n)&&this.To(new bY(t,i))},i.bDt=function(t){this.To(new kY(t))},i.Fxt=function(t){ia(this.cDt,t.rot)&&this.zRt.Fxt(t)},i.TDt=function(t){return this.zRt.Hxt(t)},i.qRt=function(t){this.zRt.qRt(t)},i.SDt=function(t){return this.zRt.Wxt(t)},i.Jl=function(){this.QN.Jl(),this.QN=new pa},hr(n,[{key:"uDt",get:function(){return this.cDt}},{key:"MRt",get:function(){return void 0!==this.dDt}}]),n}(Ua);function SY(t,n){return Nq(t)?0:l.min(t.PS,n)}function EY(t,n){var i;return l.max(t.PS,n)+(null!=(i=t.ct)?i:0)}var IY=function(t){function n(n,i,r){return t.call(this,n,i,[r])}vr(n,t);var i=n.prototype;return i.vDt=function(t,n){ba(n);var i={Iw:"kDt",Ny:t.SEt.Ny,rot:this.uDt[0],IEt:t.IEt,EDt:{bet:"",pEt:t.pEt},PS:t.PS,zTt:t.zTt,GRt:t.SEt.GRt};return this.Fxt(i),$.resolve()},i.mDt=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:return ba(n),void 0===(r=t.wnt.GRt).m6?[3,3]:i.LPt._Pt(t.IEt)?[3,2]:[4,Ea(i.LPt.vPt(t.IEt),n)];case 1:a.sent(),a.label=2;case 2:return e=i.LPt.APt(r.m6,r).hk(),[3,4];case 3:e=r.PS,a.label=4;case 4:return u=SY(r,e),s=EY(r,u),c={Iw:"wnt",Ny:t.wnt.Ny,rot:i.uDt[0],Yxt:u,Zxt:s,PS:e,ct:null!=(o=r.ct)?o:0,NE:0,IEt:t.IEt,zTt:t.zTt,GRt:t.wnt.GRt},i.Fxt(c),[2]}}))}))()},n}(TY);function RY(t,n){for(var i=function(i){var e=t[i],u=e.PS;if(e.zTt.PTt.REt&&Nq(e.wnt))u=0;else{var s=function(t){return e.zTt===t.zTt&&Cq(t.wnt,e.wnt)},o=jc(t,s);if(void 0!==o)u=l.min(u,o.RS);else{var c=jc(n,s);void 0!==c&&(u=l.min(u,c.DRt.Pn(0)))}}r=r.Hl(ZE.MF(u,e.RS))},r=ZE.Nl(),e=0;e<t.length;e++)i(e);return r}var NY=.001,CY=function(){function t(t,n,i,r){this.CDt=t,this.zRt=n,this.DDt=i,this.GF=r,this.PDt=[]}var n=t.prototype;return n.FCt=function(t){this.CDt.FCt(t)},n.BDt=function(t){for(var n=this,i=function(t){var i=n.PDt[t];if(!i.NRt)throw new f("Invalid state");var e=Zc(r,(function(t){return t.Iw===i.Iw}));e>=0?(i.WAt(r[e]),ta(r,e)):ta(n.PDt,t)},r=t.slice(),e=this.PDt.length-1;e>=0;e--)i(e);for(var u=0;u<r.length;u++){var s=r[u],o=new jq(s);this.PDt.push(new Qq(s.Iw,s,this.zRt,o,this))}r.length>0&&this.zRt.NC();var c=t.map((function(t){return t.Iw}));this.DDt.lDt(c)},n.lz=function(t){var n,i=(null==(n=this.GF)?void 0:n.lz(t))||!1;return i&&(this.Jl(),this.NDt.NC()),i},n.LDt=function(t){for(var n=0,i=this.PDt;n<i.length;n++){var r=i[n];if(r.Iw!==py.KT||r.MRt)throw new f("Invalid state")}var e=new jq(t),u=new Qq(py.KT,t,this.zRt,e,this);this.PDt=[u]},n.rft=function(){for(var t=0,n=this.PDt;t<n.length;t++){n[t].BRt.CRt()}},n._gt=function(t){var n=this.ODt.BF(t,NY);return n?n.Pn(n.U-1):t},n.JCt=function(t){return!!this.ODt.BF(t,NY)||this.CDt.JCt(t)},n.FDt=function(t){return this.MDt.br(t,NY)},n.UDt=function(t,n,i){for(var r=0,e=this.PDt;r<e.length;r++){var u=e[r].BRt,s=u.rvt;if(void 0!==s&&n>=s&&!u.bl.gF().br(s))return!0}return n-t<i},n.Jl=function(){this.HDt(),this.VDt()},n.HDt=function(){this.RDt.Jl()},n.VDt=function(){this.xDt.Jl(),this.IDt.forEach((function(t){return t.Jl()}))},n.Ou=function(){this.Jl(),this.RDt.Ou()},hr(t,[{key:"IDt",get:function(){return this.PDt}},{key:"RDt",get:function(){return this.CDt}},{key:"xDt",get:function(){return this.DDt}},{key:"NDt",get:function(){return this.zRt}},{key:"zTt",get:function(){return this.CDt.zTt}},{key:"IRt",get:function(){var t=this.zRt.IRt;if(t)return t;if(this.PDt.length>0){var n=this.PDt[0].BRt.IRt;if(n&&this.PDt.every((function(t){return t.BRt.IRt===n})))return n}}},{key:"ODt",get:function(){if(0===this.PDt.length)return ZE.Nl();for(var t=RY(this.zRt.Dxt.concat(this.zRt.Bxt),sa(this.PDt,(function(t){return t.BRt.mtt}))).gF(),n=new ZE([0,1/0]),i=0,r=this.PDt;i<r.length;i++){var e=r[i];n=n.Cn(e.BRt.bl)}for(var u=0,s=this.PDt;u<s.length;u++){var o=s[u];n=n.bF(o.LRt)}return n=n.Hl(t)}},{key:"MDt",get:function(){if(0===this.PDt.length)return ZE.Nl();for(var t=RY(this.zRt.Bxt,sa(this.PDt,(function(t){return t.BRt.mtt}))).gF(),n=new ZE([0,1/0]),i=0,r=this.PDt;i<r.length;i++){var e=r[i];n=n.Cn(e.BRt.bl)}return n=n.Hl(t)}}]),t}();var DY=function(t){function n(){return t.call(this,wW.STt)}return vr(n,t),n}(Va),PY=function(t){function n(){return t.call(this,wW.bTt)}return vr(n,t),n}(Va),OY="LazyMediaBuffer",BY=function(t){function n(n,i){var r;return(r=t.call(this)||this).vJ=n,r.GDt=i,r.BN=void 0,r.Mgt=void 0,r.zDt=new kf,r.iz=20,r.WDt=!1,r.rz=30,r.xY=new RC,r}vr(n,t);var i=n.prototype;return i.$X=function(){return this.Mgt?this.Mgt.$X():this.WDt},i.NY=function(t,n){VW.ySt(OY,"Marking gap from "+t+" to "+n+"."),this.xY.aG(t,n),this.Mgt&&this.Mgt.NY(t,n)},i.BY=function(t,n){VW.ySt(OY,"Removing gap from "+t+" to "+n+"."),this.xY.uG(t,n),this.Mgt&&this.Mgt.BY(t,n)},i.qDt=function(t){this.Mgt=t,this.Mgt.Zq=this.rz,this.Mgt.Qq=this.iz;for(var n,i=this.xY.hG,r=0;r<i.U;r++)this.Mgt.NY(i.Tn(r),i.Pn(r));this.WDt&&(VW.ySt(OY,"End of stream"),null==(n=this.Mgt)||n.EY());this.Mgt.wn(lC.RX,this.Os),this.zDt.Lf(t)},i.XDt=function(t){return Ea(this.zDt.jf,t)},i.Hj=function(t,n,i){var r=this;return Mo((function(){return Uo(this,(function(e){switch(e.label){case 0:return[4,r.XDt(i)];case 1:return[4,e.sent().Hj(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.LY=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return[4,t.XDt()];case 1:return[4,n.sent().LY()];case 2:return n.sent(),[2]}}))}))()},i.qj=function(t,n,i){var r=this;return Mo((function(){return Uo(this,(function(e){switch(e.label){case 0:return[4,r.XDt(i)];case 1:return[4,e.sent().qj(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.Qu=function(t,n,i){var r=this;return Mo((function(){return Uo(this,(function(e){switch(e.label){case 0:return[4,r.XDt(i)];case 1:return[4,e.sent().Qu(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.sY=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return[4,i.XDt()];case 1:return[4,r.sent().sY(t,n)];case 2:return r.sent(),[2]}}))}))()},i.EY=function(){this.WDt=!0,this.Mgt&&this.Mgt.EY()},i.OX=function(t){return!!this.Mgt&&this.Mgt.OX(t)},i.FX=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.XDt()];case 1:return[4,i.sent().FX(t)];case 2:return i.sent(),[2]}}))}))()},i.bn=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){return t.Lo(),null==(n=t.Mgt)||n.pn(lC.RX,t.Os),[2]}))}))()},hr(n,[{key:"rM",get:function(){return this.BN}},{key:"PY",get:function(){return this.vJ}},{key:"xb",get:function(){if(!this.Mgt)throw new Dl(Rl.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.Mgt.xb}},{key:"Qq",get:function(){return this.iz},set:function(t){this.iz=t,this.Mgt&&(this.Mgt.Qq=t)}},{key:"bl",get:function(){return this.Mgt?this.Mgt.bl:ZE.Nl()}},{key:"CY",get:function(){return this.Mgt?this.Mgt.CY:this.xY.hG}},{key:"Zq",get:function(){return this.rz},set:function(t){this.rz=t,this.Mgt&&(this.Mgt.Zq=t)}}]),n}(Ua),LY="LazyMediaSource",MY=function(){function t(t,n,i){this.KO=t,this.QDt=void 0,this.KDt=void 0,this.tNt=new kf,this.tM=void 0,this.$Dt=!1,this.Zl=NaN,this.g6=!1,this.jDt=0,this.YDt=1/0,this.ZDt=!1,this.JDt=!1,n&&(VW.ySt(LY,"Created lazy media buffer for audio."),this.QDt=new BY(py.yy,this)),i&&(VW.ySt(LY,"Created lazy media buffer for video."),this.KDt=new BY(py.vl,this))}var n=t.prototype;return n.EZ=function(t){this.Zl=t,this.tM&&this.tM.EZ(t)},n.EY=function(){this.g6=!0,this.tM&&this.tM.EY()},n.vY=function(){this.g6=!1,this.tM&&this.tM.vY()},n.CZ=function(t,n,i,r){this.jDt=t,this.YDt=n,this.ZDt=Boolean(i),this.JDt=Boolean(r),this.tM&&this.tM.CZ(t,n,i,r)},n.OX=function(t){return!this.tM||this.tM.OX(t)},n.FX=function(t){var n=this;return Mo((function(){var i,r,e;return Uo(this,(function(u){switch(u.label){case 0:if(!n.OX(t))throw new f("LazyMediaSource - Unable to reconfigure MediaSource.");return n.tM?[3,2]:(n.KO.o2(),[4,n.KO.On(t)]);case 1:return e=u.sent(),w(n.Zl)||e.EZ(n.Zl),n.g6&&e.EY(),e.CZ(n.jDt,n.YDt,n.ZDt,n.JDt),VW.ySt(LY,"The MediaSource has been loaded."),n.$Dt=!0,n.tM=e,null==(i=n.QDt)||i.qDt(n.tM.mZ),null==(r=n.KDt)||r.qDt(n.tM.pZ),n.tNt.Lf(e),n.KO.a2(),[3,4];case 2:return[4,n.tM.FX(t)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))()},n.Ou=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.tM?[4,t.tM.Ou()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},hr(t,[{key:"xb",get:function(){return{Iw:Gk.wB,xZ:[],hM:[]}}},{key:"rt",get:function(){throw new f("Not implemented")}},{key:"mZ",get:function(){return this.QDt}},{key:"pZ",get:function(){return this.KDt}},{key:"bl",get:function(){return this.tM?this.tM.bl:ZE.Nl()}},{key:"ct",get:function(){return this.tM?this.tM.ct:this.Zl}},{key:"$X",get:function(){return!!this.tM&&this.tM.$X}},{key:"kl",get:function(){return this.tM?this.tM.kl:new ZE([0,1/0])}}]),t}();function xY(t,n){void 0===n&&(n=!1);return function(i,r){void 0===r&&(r="*");for(var e,u,s,o=FY(i,"tag"),c=FY(null==r?"*":r,"range"),a=[],h=-1;++h<c.length;)if(e=c[h].toLowerCase(),n||"*"!==e){for(u=-1,s=[];++u<o.length;)if(t(o[u].toLowerCase(),e)){if(!n)return o[u];a.push(o[u])}else s.push(o[u]);o=s}return n?a:void 0}}xY((function(t,n){return"*"===n||t===n||kc(t,n+"-")}),!0),xY((function(t,n){var i=t.split("-"),r=n.split("-"),e=0,u=0;if("*"!==r[u]&&i[e]!==r[u])return!1;for(e++,u++;u<r.length;)if("*"!==r[u]){if(!i[e])return!1;if(i[e]!==r[u]){if(1===i[e].length)return!1;e++}else e++,u++}else u++;return!0}),!0);var UY=xY((function(t,n){for(var i,r=n;;){if("*"===r||t===r)return!0;if((i=r.lastIndexOf("-"))<0)return!1;"-"===r.charAt(i-2)&&(i-=2),r=r.slice(0,i)}}));function FY(t,n){var i=t&&"string"==typeof t?[t]:t;if(!i||"object"!=typeof i||!("length"in i))throw new f("Invalid "+n+" `"+i+"`, expected non-empty string");return i}var HY,VY=16384,XY=71,zY=188,WY=2,GY=3;function qY(t){return YY(t)?1:function(t){return function(t){if(t.length<WY*zY)return-1;for(var n=t.length<GY*zY?WY:GY,i=l.min(1e3,t.length-n*zY),r=0;r<=i;r++){for(var e=!0,u=0;u<n;u++)if(t[r+u*zY]!==XY){e=!1;break}if(e)return r}return-1}(t)>=0}(t)?2:function(t){return null!==dO(vf(t),new mf)}(t)?3:0}function YY(t){var n=hf(t,0,l.min(t.length,VY));return Fp.lA(vf(n))}!function(t){t[t.YT=0]="YT",t[t.Gm=1]="Gm",t[t.eNt=2]="eNt",t[t.iNt=3]="iNt"}(HY||(HY={}));var jY=function(){function t(t,n,i,r){this.vJ=t,this.Mgt=n,this.blt=i,this.nNt=r}var n=t.prototype;return n.sNt=function(t){return this.Mgt===t},n.qj=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return[4,i.Mgt.qj(t.Ny,{gj:t.zTt.cw},n)];case 1:return r.sent(),void 0!==i.nNt&&i.vJ===py.vl&&YY(t.Ny.Ny)&&i.nNt.Ult(t.Ny.Ny),[2]}}))}))()},n.Hj=function(t,n){var i=this;return Mo((function(){var r,e,u;return Uo(this,(function(s){switch(s.label){case 0:return ba(n),VW.zA("HlsMediaBuffer","Got media data, appending to "+i.vJ+" MediaBuffer: "+AG(t.GRt.Nit)),r=t.Yxt,e=t.Zxt,u={m6:t.PS,ct:t.ct,NE:t.NE,gj:t.zTt.cw},void 0===t.Ny?[3,2]:[4,i.Mgt.Hj(t.Ny,u,n)];case 1:s.sent(),i.rNt(t.Ny,t),s.label=2;case 2:return i.hNt(r,e),[2]}}))}))()},n.rNt=function(t,n){var i;if(YY(t.Ny)){var r=n.PS,e=r+n.ct,u=n.NE;if(null==(i=this.blt)||i.tut(t.Ny,r,u),void 0!==this.nNt&&this.vJ===py.vl){var s=n.GRt.JEt;this.nNt.tut(t.Ny,r,e,u,n.zTt,s)}var o=[];void 0!==this.blt&&o.push(this.blt),void 0!==this.nNt&&o.push(this.nNt),Mk(this.bl,o)}},n.hNt=function(t,n){for(var i=this.Mgt.bl,r=new ZE([t,n]).bF(i),e=0;e<r.U;e++)this.Mgt.NY(r.Tn(e),r.Pn(e));for(var u=0;u<i.U;u++)this.Mgt.BY(i.Tn(u),i.Pn(u))},n.NY=function(t,n){this.Mgt.NY(t,n)},n.BY=function(t,n){this.Mgt.BY(t,n)},hr(t,[{key:"Iw",get:function(){return this.vJ}},{key:"bl",get:function(){return this.Mgt.bl}},{key:"CY",get:function(){return this.Mgt.CY}}]),t}();function QY(t){if(t.Iw===dG.Lkt&&void 0!==t.NTt){var n=t.NTt.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.NTt.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}var KY=function(){function t(t){this.tM=t}var n=t.prototype;return n.vkt=function(t){var n,i,r;return null==(r=null==(n=this.tM)||null==(i=n.pZ)?void 0:i.OX(t))||r},n.wkt=function(t){var n,i,r;return null==(r=null==(n=this.tM)||null==(i=n.mZ)?void 0:i.OX(t))||r},t}(),ZY="LLHLSPlayer",JY=[qk.ml,qk.gl,qk.yl,qk.Bf],$Y=[$l.Vu,$l.Gw,$l.$w,$l.Zw],tj=2e3,nj=function(t){function n(n,i,r,e,u,s,o){var c;(c=t.call(this)||this).GF=r,c.JRt=e,c.WNt=u,c.aBt=Xo(),c.BNt=!0,c.NNt=!0,c.kNt=!1,c.ERt=void 0,c.tM=void 0,c.cvt=void 0,c.wP=new pa,c.Dct=void 0,c.xNt=void 0,c.CNt=void 0,c.JNt=void 0,c.cNt=void 0,c.vNt=void 0,c.wNt=void 0,c.yNt=void 0,c.jNt=void 0,c.yBt=[],c.TZ=void 0,c.SZ=void 0,c.MNt=void 0,c.aNt=void 0,c.sBt=void 0,c.DDt=void 0,c.ABt=new pa,c.PNt=void 0,c.J0=new pa,c.$0=void 0,c.mNt=-1,c.QBt=void 0,c.YBt=void 0,c.$Bt=void 0,c.GBt=void 0,c.jBt=void 0,c.JBt=void 0,c.fht=!0,c.uBt=0,c.eBt=!1,c.$O=GE.$M,c.ZO=void 0,c.Vl=void 0,c.RZ=ZE.Nl(),c._Lt=[],c.bNt=void 0,c.TNt=!1,c.Pct=!1,c.H0=!1,c.Clt=void 0,c.xlt=0,c.Dlt=0,c.SNt=void 0,c.ENt=0,c.nct=!1,c.rLt=!1,c.UNt=DS.XT,c._Bt=void 0,c.gLt=void 0,c.iM=new VT,c.Yut=0,c.handleContentProtectionErrorEvent=function(t){c.ZO=Ey(t.errorObject),c.Vl=t.errorObject,c.Os(t)},c.handleBufferingErrorEvent=function(t){c.OM(new Dl(Rl.MEDIA_LOAD_ERROR,t.lt.message,t.lt))},c.cLt=function(){c.rPt();var t=c.ct;t!==c.Clt&&(c.Clt=t,c.To(new pE(c.Clt)))},c.Mh=function(){c.Ic&&c.To(new AE(c.Wu))},c.Mf=function(){c.To(new yE(c.Wu))},c.Af=function(){c.lut(),c.To(new mE(c.Wu))},c.Vf=function(){void 0!==c.gLt&&tr.W_(c.gLt),c.To(new iA(c.Wu))},c.lLt=function(){c.To(new SC(c.Wu))},c.BB=function(){c.To(new Kk(c.Wu,c.Nc))},c.T$=function(){var t=c.KTt;ua(c._Lt,t)||(c.To(new Yq),c._Lt=t),c.To(new Fw(c.Wu,c.qu))},c.DBt=zr((function(t){t.hP===py.vl&&c.oNt()&&Da(c.uNt())}),200),c.NBt=function(t){var n;c.Yut+=t.MCt,"wnt"===t.OCt&&t.hP===py.vl&&Da(c.lBt()),c.To(new uV(function(t){if(t){if(void 0!==t.qnt){var n,i,r=t.qnt.Tn+(null!=(i=t.qnt.U)?i:0);return{TI:t.kT,iet:[null==(n=t.qnt)?void 0:n.Tn,r],oP:!0}}return{TI:t.kT.toString()||"",oP:!0}}return{TI:"",oP:!0}}(t.uri),(null==(n=c.XTt)?void 0:n.IO)||0,t.mediaSequenceNumeber,t.mediaTrackId,t.hP,t.httpStatusCode,t.MCt))},c.Xe=function(){c.To(new bE(c.Wu))},c.Cf=function(){c.To(new TE(c.Wu))},c.dLt=function(){c.mct()},c.fLt=function(){c.To(new SE(c.Wu,c._l))},c.aLt=function(){c.KO.Fc?c.To(new $k(c.Wu)):(null!=c.gLt||(c.gLt=tr.q_((function(){c.rLt&&(c._Bt=void 0,Da(c.dNt()))}),2500)),c.lut(),c.To(new $k(c.Wu)))},c.uLt=function(){c.rLt=!0,c.To(new tA(c.Wu,c.Nc))},c.RNt=function(t){Aa(t)||bk(t)||Tk(t)||(c.TBt(),Da(c.SBt()),c.To(new rG(t)))},c.kRt=function(){c.rPt()},c.HNt=function(t){Da(c.pBt(t.zTt))},c.yut=function(t){if(!Aa(t)){var n=t instanceof Dl?t:new Dl(Rl.MEDIA_DECODE_ERROR,t.message,t);c.OM(n)}},c.onTextTrackChange=function(t){if(c.cNt){var n=t.Ht,i=jc(c.cNt.WEt,(function(t){return n===c.aBt.get(t.cw)}));i&&(n.bw===Yp.Tw||n.bw===Yp.Qn?(Da(c.mBt(i)),c.aBt.forEach((function(t){t!==n&&(t.bw=Yp.Th)}))):c.yNt&&c.yNt===i&&Da(c.FNt(c.vNt,c.wNt,void 0)))}};var a=Uc(c);return c.retryOfflineRenditionsCallback=Mo((function(t,n){return Uo(this,(function(i){switch(i.label){case 0:return a.pNt!==t&&a.rSt!==t&&a.oSt!==t?[2]:[4,a.Dct.lRt(t,n)];case 1:return i.sent(),t.PTt.QIt=-1/0,[2]}}))})),c.AAt=function(){c.mAt()},c.bAt=function(){c.pAt()},c.BBt=function(t){var n=c.cNt;if(!(null==n?void 0:n.FEt)&&(c.Dct.TRt(t.bet,t.zTt.PTt),c.XNt.PSt(),n)){var i=void 0!==c.vNt&&!ia(n.SSt,c.vNt),r=void 0!==c.wNt&&!ia(n.kSt,c.wNt);(i||r)&&c.FNt(i?void 0:c.vNt,r?void 0:c.wNt,c.yNt).catch(Vr)}},c.LBt=function(t){c.XNt.xSt(t.zTt,t.Iet)},c.OBt=function(t){c.XNt.NSt(t.zTt,t.nDt.hk())},c.MBt=function(t){c.Dct.ARt(t.zTt)},c.Sat=new pH(s),c.KO=n,c.fP=i,c.nM=new iG(c.GF.Mq),c.vBt=new eG(c.KO),c.dBt=new yG(c.GF),c.pat=o.retryConfiguration,c.$T=new ky,c.eS=new ky,c.XNt=new GW(Uc(c),c.GF,c.$T,c.eS),c.oBt=new wk,c.gM=new Fk(c.KO,c.fP),c.blt=new yH(c.KO),c.nNt=new az(c.KO),c.xu=new UT([c.oBt,c.gM.Z,c.blt.Z,c.nNt.Z]),c.cM=new MT(c.fP),c.KO.yM=c.cM,c.Blt=new rj(Uc(c),c.KO),c.hf=new eA(c.Blt,!0),c.oLt(),c}vr(n,t);var i=n.prototype;return i.oNt=function(){if(void 0===this.aNt)return!1;var t=tr.V_();if(!this.aNt.RDt.Cxt(t))return!1;var n=this.aNt.RDt.Ixt();if(void 0===n||void 0===n.wnt.ct)return!1;var i=this.Wu,r=this.$u,e=this.aNt.ODt.BF(i);return!((void 0!==e?e.Pn(0)-i:0)>=2*n.wnt.ct*r)&&8*n.Rxt/this.GF.Mq.IO>=1.8*n.wnt.ct},i.uNt=function(){var t=this;return Mo((function(){var n,i,r,e,u,s,o;return Uo(this,(function(c){switch(c.label){case 0:return[4,t.ykt()];case 1:return void 0===(i=c.sent())||void 0===(r=null==(n=t.aNt)?void 0:n.RDt.Ixt())?[2]:(e=t.cNt,u=l.max(0,r.Rxt-r.Pxt),s=r.Rxt*(i.IO/e.IO),u<=s?[2]:(o=i.IO<e.IO,[4,t.YTt(i,{ZTt:o})]));case 2:return c.sent(),[2]}}))}))()},i.lNt=function(t){return oa(t,(function(t){return t.IO}))},i.dNt=function(){var t=this;return Mo((function(){var n,i,r;return Uo(this,(function(e){switch(e.label){case 0:return[4,t.fNt()];case 1:return 0===(n=e.sent()).length?[2]:[4,t._Nt(n)];case 2:return(i=e.sent()).length>0&&(n=i),void 0===(r=t.lNt(n))?[3,4]:[4,t.YTt(r,{ZTt:!0})];case 3:e.sent(),t.nM.dkt(r.IO),e.label=4;case 4:return[2]}}))}))()},i.gc=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var r=this;VW.zA(ZY,"Seeking to "+t+" s."),this.bNt=t,this.TNt=n,this.SNt=!0,this.Pct=!0,this.To(new bE(t)),this.J0.Jl(),this.kNt&&(tr.W_(this.ENt),i?this.ENt=tr.q_((function(){return r.INt(t,n)}),50):this.INt(t,n))},i.INt=function(t,n){tr.W_(this.ENt);var i=[this.cvt,this.PNt,this.$0].filter(Cr);this.J0=new pa,this.$0=this.t1(i,t,n,this.J0.M_).catch(this.RNt)},i.rPt=function(){var t=function(t){if(0===t.length)return ZE.Nl();for(var n=new ZE([0,1/0]),i=0,r=0;r<t.length;r++){var e=t[r].PTt.kl;e.U>0&&(n=n.Cn(e),i=l.max(i,e.Tn(0)))}if(n.U>0)return n;return ZE.OF(i)}([this.vNt,this.wNt].filter(Cr));0!==t.U&&(this.tM&&this.gNt&&this.tM.ct!==1/0&&(t=new ZE([t.Tn(0),this.tM.ct])),this.RZ=t,this.NNt&&this.blt.II(t.Tn(0)),this.BNt&&this.nNt.II(t.Tn(0)))},i.fv=function(){return!1},i.ev=function(){return this.KO.wa},i.ke=function(){VW.zA(ZY,"Hiding the player."),this.KO.ke()},i.jl=function(){VW.zA(ZY,"Pausing the player."),this.KO.jl()},i.dl=function(){var t=this;return Mo((function(){var n,i;return Uo(this,(function(r){switch(r.label){case 0:return t.H0=!0,n=t.KO.dl(),t.Ic&&(i=t.Qut).U>0&&t.gc(i.Tn(0)),t.kNt?[3,2]:[4,t.DNt()];case 1:r.sent(),r.label=2;case 2:return t.lut(),[4,n];case 3:return r.sent(),[2]}}))}))()},i.lut=function(){var t;if(!this.Gut())if(null==(t=this.XTt)?void 0:t.PTt.REt){var n,i=!0,r=0,e=null==(n=this.cNt)?void 0:n.PTt.Tn;if(!this.Pct&&e&&(i=!e.wEt,(r=e.vEt)<0)){var u=this.XTt.PTt.xIt;r+=u.Pn(u.U-1)}this.INt(r,i)}else this.INt(1/0,!0);this.LNt()&&this.INt(1/0,!0)},i.Gut=function(){var t,n=this.Qut;if(0===n.U)return!0;var i=null==(t=this.ONt)?void 0:t.TF(this.Wu);return(i&&i>0?this.ONt.Pn(i):this.Wu)>=n.Tn(0)},i.LNt=function(){return hj(this.Wu,this.vNt)||hj(this.Wu,this.wNt)},i.dlt=function(){this.ZO=void 0,this.Vl=void 0},i.OM=function(t){this.ZO||(Da(this.ir()),this.ZO=Ey(t),this.Vl=t,this.To(new DT(t)))},i.be=function(){VW.zA(ZY,"Showing the player."),this.KO.be()},i._v=function(){throw new f("Not implemented")},i.vv=function(){throw new f("Not implemented")},i.wv=function(){},i.mv=function(){this.kNt&&Da(this.FNt(this.vNt,this.wNt,this.yNt,{mv:!0}))},i.ba=function(t,n,i){var r=this;return Mo((function(){return Uo(this,(function(e){switch(e.label){case 0:return VW.zA(ZY,"Setting the player source to "+t.src+"."),r.dlt(),!r.ERt||hE(r.ERt)?[3,2]:[4,r.ir()];case 1:e.sent(),ba(i),e.label=2;case 2:return!t.src||hE(t)||(r.cM.CO(t.contentProtection),r.ERt=t,r.UNt=t.seamlessSwitchStrategy,r.BNt=!ia(t.ignoreEmbeddedTextTrackTypes,Gy.CEA608),r.NNt=!ia(t.ignoreEmbeddedTextTrackTypes,Gy.EMSG),r.wn(wW.ETt,r.handleBufferingErrorEvent),r.Dct=new Hq(r.fP,r.Sat,t.useCredentials,tr.Fm(t.src)),r.Dct.wn(Mq.QPt,r.kRt),r.Dct.wn(Mq.KPt,r.HNt),r.Dct.wn($l.Ef,r.Os),r.Dct.wn($l.lm,r.Os),r.VNt=new qq(t,r.Dct,r.KO),r.xu.MO(r.VNt.nt),null!=r.DDt||(r.DDt=r.WNt.y6()),n.textTracks&&r.lM(n.textTracks),Wk(r.xu),r.DNt()),[2]}}))}))()},i.DNt=function(){return this.cvt=this.qNt(this.cvt,this.wP.M_).catch(this.yut),this.cvt},i.qNt=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return t?[4,t]:[3,2];case 1:e.sent(),ba(n),e.label=2;case 2:return i.Dct?(r=i.$O)===GE.XT||i.H0?[4,i.i7(n)]:[3,4]:[2];case 3:return e.sent(),[3,6];case 4:return r!==GE.Ty?[3,6]:[4,i.zNt(n)];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))()},i.zNt=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:if(void 0===n.Dct||n.nct)return[2];if(n.Dct.ZPt)return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,n.Dct.sRt(t)];case 2:return e.sent(),[3,4];case 3:throw Ta(i=e.sent()),n.Dg=!1,new Dl(Rl.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+i.message,i);case 4:n.XNt.kct(),e.label=5;case 5:return[4,n.GNt()];case 6:return r=e.sent(),n.QNt(r),[4,n.KNt(r,t)];case 7:return e.sent(),n.nct=!0,n.Blt.Mlt(),[2]}}))}))()},i.GNt=function(){var t=this;return Mo((function(){var n,i;return Uo(this,(function(r){switch(r.label){case 0:if(t.jNt=t.Dct.Ar.TSt,!t.jNt.length)throw new Dl(Rl.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");return[4,t.YNt(t.jNt)];case 1:if(0===(n=r.sent()).length)throw new Dl(Rl.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");return[4,t._Nt(n)];case 2:return(i=r.sent()).length>0&&(n=i),VW.zA(ZY,"Selecting initial active variant stream."),[2,uj(n,t.ERt.abr,t.GF,t.pat.maximumBackoff)]}}))}))()},i.KNt=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o;return Uo(this,(function(c){switch(c.label){case 0:return r=[],(e=oj(t.SSt))&&i.xNt!==e&&(VW.zA(ZY,"Detected initial audio rendition."),i.xNt=e,r.push(i.ZNt(e,n))),(u=ej(t.WEt))&&i.JNt!==u&&(VW.zA(ZY,"Detected initial subtitle rendition."),i.JNt=u,r.push(i.ZNt(u,n))),u||(s=ej(t.qEt))&&(VW.zA(ZY,"Detected initial closed caption rendition."),i.$Nt(t,s)),(o=oj(t.kSt))&&i.CNt!==o&&(VW.zA(ZY,"Detected initial video rendition."),i.CNt=o,e&&CW(o,e)||r.push(i.ZNt(o,n))),[4,$.all(r)];case 1:return c.sent(),[2]}}))}))()},i.ZNt=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,i.Dct.lRt(t,n)];case 1:return e.sent(),[3,5];case 2:return Ta(r=e.sent()),bk(r)||Tk(r)?[4,i.tBt(t,n)]:[3,4];case 3:e.sent(),e.label=4;case 4:return[3,5];case 5:return[2]}}))}))()},i.tBt=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return i.eBt?[2]:t.Iw===dG.vl?[3,2]:[4,i.iBt(t,n)];case 1:return e.sent(),[3,7];case 2:return i.jNt&&i.jNt.length<=1?[4,i.iBt(t,n)]:[3,4];case 3:return e.sent(),[3,7];case 4:return[4,i.GNt()];case 5:return r=e.sent(),i.QNt(r),[4,i.KNt(r,n)];case 6:e.sent(),e.label=7;case 7:return[2]}}))}))()},i.i7=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.zNt(t)];case 1:return i.sent(),n.FNt(n.xNt,n.CNt,n.JNt).catch(Vr),n.kNt=!0,[2]}}))}))()},i.lM=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.gM.uP(i)}},i.$Nt=function(t,n){if(this.BNt){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=QY(r);void 0!==e&&n.push({Z3:e,J3:r.gs||"",_h:r.l})}return n}(t.qEt),r=0;r<i.length;r++){var e=i[r];this.nNt.Syt(e)}if(void 0!==n){var u=QY(n);this.nNt.byt(u).bw=Yp.Qn}}},i.jTt=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.nBt(i))throw new f("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.jNt=t},i.nBt=function(t){var n=this.Ar;return!!n&&ia(n.TSt,t)},i.rBt=function(t){if(this.cNt)return jc(this.cNt.CSt,(function(n){return n===t}))},i.QNt=function(t){if(VW.zA(ZY,"Setting active variant stream."),this.cNt!==t){var n;if((null==(n=this.cNt)?void 0:n.Wkt)!==(null==t?void 0:t.Wkt)){if(this.cNt)for(var i=0,r=this.cNt.WEt;i<r.length;i++){var e=r[i];this.mP(e)}if(t)for(var u=0,s=t.WEt;u<s.length;u++){var o=s[u];this.hBt(o)}}this.cNt=t,this.To(new DY),this.mct()}},i.hBt=function(t){var n=this.KO.cP(gk.Ay,void 0,t.l,t.gs,t.RTt,void 0,void 0,t.LTt.map(FW).filter(Cr));this.oBt.tt(n),this.aBt.set(t.cw,n),n.wn(Gw.oa,this.onTextTrackChange)},i.mP=function(t){var n=this.aBt.get(t.cw);n&&(n.pn(Gw.oa,this.onTextTrackChange),this.oBt.it(n),this.aBt.delete(t.cw),this.KO.mP(n))},i.fNt=function(){var t=this;return Mo((function(){var n,i,r,e;return Uo(this,(function(u){switch(u.label){case 0:return 0!==(i=null!=(n=t.jNt)?n:t.Ar.TSt).length||t.jNt?1!==i.length||t.jNt?[4,t.YNt(i)]:(VW.zA(ZY,"The HLS stream contains only a single variant stream, skipping ABR selection."),[2,[]]):(VW.zA(ZY,"The HLS stream does not contain any variant streams, skipping ABR selection."),[2,[]]);case 1:return 0===(r=u.sent()).length?(VW.ASt(ZY,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),[2,[]]):0!==(e=cj(r,t.pat.maximumBackoff)).length?[3,3]:t.eBt?[2,[]]:(VW.ASt(ZY,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),t.uBt++,[4,t.cBt(r)]);case 2:return u.sent(),[2,[]];case 3:return[2,e]}}))}))()},i.lBt=function(){var t=this;return Mo((function(){var n,i;return Uo(this,(function(r){switch(r.label){case 0:return[4,t.ykt()];case 1:return void 0===(n=r.sent())?[2]:(i=!!t.cNt&&n.IO<t.cNt.IO,[4,t.YTt(n,{ZTt:i})]);case 2:return r.sent(),[2]}}))}))()},i.ykt=function(){var t=this;return Mo((function(){var n,i,r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:return[4,t.fNt()];case 1:return 0===(r=a.sent()).length?[2,void 0]:(e=function(t){var n=t.Wu,i=t.bl.BF(n);return i?i.Pn(0)-n:0}(t.KO),[4,t._Nt(r)]);case 2:return u=a.sent(),s={Ti:t.KO.Ti,Ci:t.KO.Ci,gkt:e,dat:null==(n=t.ERt)||null==(i=n.abr)?void 0:i.restrictToPlayerSize},[4,t.dBt.ykt(r,t.cNt,u,s,new KY(t.tM))];case 3:return o=a.sent(),c=!!t.cNt&&o.IO<t.cNt.IO,[2,c||t.fBt(o,e)?o:void 0]}}))}))()},i.fBt=function(t,n){var i;if(t===this.XTt)return!1;var r=this.XTt&&aj(this.XTt,this.pat.maximumBackoff),e=aj(t,this.pat.maximumBackoff);if(!r&&e)return!0;(!this._Bt||this._Bt.GTt.IO>t.IO)&&(this._Bt={GTt:t,qtt:tr.V_()});var u,s=tr.V_()-this._Bt.qtt,o=null!=(u=null==(i=this.oSt)?void 0:i.PTt._kt)?u:1/0;return n>=l.max(o-1,5)||s>1e3},i.cBt=function(t){var n=this;return Mo((function(){var i,r,e,u;return Uo(this,(function(s){switch(s.label){case 0:n.eBt=!0,i=!1,r=0,s.label=1;case 1:if(!(r<t.length))return[3,6];e=t[r],s.label=2;case 2:return s.trys.push([2,4,,5]),void 0===(u=n.wNt?jc(e.kSt,(function(t){return NW(t,n.wNt)})):void 0)?[3,5]:[4,n.lRt(u)];case 3:return s.sent(),u.PTt.QIt=-1/0,i=!0,[3,5];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:return i?(n.uBt=0,[4,n.gBt()]):[3,8];case 7:return s.sent(),[3,10];case 8:return n.uBt>=n.pat.maxRetries?(n.OM(new Dl(Rl.MEDIA_LOAD_ERROR,"The provided video renditions could not be loaded.")),[2]):[4,Ba(l.min(n.pat.minimumBackoff*l.pow(2,n.uBt-1),n.pat.maximumBackoff))];case 9:s.sent(),s.label=10;case 10:return n.eBt=!1,[4,n.lBt()];case 11:return s.sent(),[2]}}))}))()},i.YNt=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return[4,va(t,Mo((function(t){var i,r,e,u;return Uo(this,(function(s){switch(s.label){case 0:return 0===(u=[(null==(i=t.bet)?void 0:i.cSt)?'audio/mp4; codecs="'+t.bet.cSt+'"':void 0,(null==(r=t.bet)?void 0:r.lSt)?'video/mp4; codecs="'+t.bet.lSt+'"':void 0].filter(Cr)).length?[2,!0]:[4,n.vBt.iG(u,null==(e=n.ERt)?void 0:e.useManagedMediaSource)];case 1:return[2,s.sent()]}}))})))];case 1:return(i=r.sent()).some((function(t){var n;return null==(n=t.bet)?void 0:n.lSt}))&&(i=i.filter((function(t){return!t.bet||t.bet.lSt||0!==t.kSt.length}))),i.some((function(t){var n;return null==(n=t.bet)?void 0:n.cSt}))&&(i=i.filter((function(t){return!t.bet||t.bet.cSt||0!==t.SSt.length}))),[2,i]}}))}))()},i._Nt=function(t){var n=this;return this.Dct.$Pt?va(t,(function(t){return function(t,n){return _a.apply(this,arguments)}([oj(t.SSt),oj(t.kSt),ej(t.WEt),ej(t.qEt)].filter(Cr),(function(t){return n.wBt(t)}))})):$.resolve([])},i.wBt=function(t){var n=this;return Mo((function(){var i,r,e;return Uo(this,(function(u){switch(u.label){case 0:if(0===t.PTt.mtt.length)return[2,!1];if(!(i=t.PTt.mtt[0]).Nit)return[2,!1];r=i.Nit,e=r.qnt?mG(r.qnt.Tn,r.qnt.U):void 0,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.Sat.ttt(r.kT,e)];case 2:return[2,u.sent()];case 3:return u.sent(),[2,!1];case 4:return[2]}}))}))()},i.YTt=function(t,n){var i=this;return Mo((function(){var r,e,u;return Uo(this,(function(s){switch(s.label){case 0:if(!i.kNt)throw new f("LLHLSPlayer - The LLHLSPlayer is not loaded.");if(!t)throw new f("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");if(!i.nBt(t))throw new f("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");return t===i.cNt?(VW.zA(ZY,"Trying to set the already active variant stream, ignoring."),[2]):(r=i.vNt?jc(t.SSt,(function(t){return NW(t,i.vNt)})):void 0,e=i.wNt?jc(t.kSt,(function(t){return NW(t,i.wNt)})):void 0,u=i.yNt?jc(t.WEt,(function(t){return NW(t,i.yNt)})):void 0,i.QNt(t),i._Bt=void 0,[4,i.FNt(r,e,u,n)]);case 1:return s.sent(),[2]}}))}))()},i.hSt=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:if(!n.kNt)throw new f("LLHLSPlayer - The LLHLSPlayer is not loaded");if(!n.cNt)throw new f("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");if(!t)throw new f("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");if(!(i=n.rBt(t)))throw new f("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");return VW.zA(ZY,"Switching audio rendition"),[4,n.FNt(i,n.wNt,n.yNt,{$Tt:!0})];case 1:return r.sent(),[2]}}))}))()},i.aSt=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:if(!n.kNt)throw new f("LLHLSPlayer - The LLHLSPlayer is not loaded");if(!n.cNt)throw new f("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");if(!t)throw new f("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");if(!(i=n.rBt(t)))throw new f("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");return VW.zA(ZY,"Switching video rendition"),[4,n.FNt(n.vNt,i,n.yNt,{JTt:!0})];case 1:return r.sent(),[2]}}))}))()},i.mBt=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:if(!n.kNt)throw new f("LLHLSPlayer - The LLHLSPlayer is not loaded");if(!n.cNt)throw new f("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");if(!t)throw new f("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");if(!(i=n.rBt(t)))throw new f("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");return VW.zA(ZY,"Switching subtitle rendition"),[4,n.FNt(n.vNt,n.wNt,i)];case 1:return r.sent(),[2]}}))}))()},i.pBt=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return i.eBt?[2]:t.Iw===dG.vl?[3,2]:[4,i.iBt(t,n)];case 1:return r.sent(),[3,8];case 2:return i.jNt&&i.jNt.length<=1?i.wNt===t?[3,4]:[4,i.FNt(i.vNt,t,i.yNt)]:[3,6];case 3:r.sent(),r.label=4;case 4:return[4,i.iBt(t,n)];case 5:return r.sent(),[3,8];case 6:return[4,i.lBt()];case 7:r.sent(),r.label=8;case 8:return[2]}}))}))()},i.lRt=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,i.Dct.lRt(t,n)];case 1:return e.sent(),[3,5];case 2:return Ta(r=e.sent()),bk(r)||Tk(r)?[4,i.pBt(t,n)]:[3,4];case 3:e.sent(),e.label=4;case 4:throw r;case 5:return[2]}}))}))()},i.iBt=function(t,n){var i=this;return Mo((function(){var r,e;return Uo(this,(function(u){switch(u.label){case 0:if(ia(i.yBt,t))return[2];i.yBt.push(t),u.label=1;case 1:return u.trys.push([1,3,4,7]),r=t.Iw===dG.Ay||t.Iw===dG.Lkt?1/0:i.pat.maxRetries,[4,EE((function(){return i.retryOfflineRenditionsCallback(t,n)}),n,r,i.pat.minimumBackoff,i.pat.maximumBackoff)];case 2:return u.sent(),[3,7];case 3:return e=u.sent(),i.OM(new Dl(Rl.MEDIA_LOAD_ERROR,e.message,e)),[3,7];case 4:return $c(i.yBt,t),t.PTt.QIt!==-1/0?[3,6]:[4,i.gBt()];case 5:u.sent(),u.label=6;case 6:return[7];case 7:return[2]}}))}))()},i.FNt=function(t,n,i,r){void 0===r&&(r={});var e={ZTt:r.ZTt||!1,$Tt:r.$Tt||!1,JTt:r.JTt||!1,mv:r.mv||!1};return e.mv||this.vNt!==t||this.wNt!==n||this.yNt!==i?void 0===t&&void 0===n?$.reject(new f("Trying to buffer no media renditions.")):(this.vNt=t,this.wNt=n,this.yNt=i,this.rPt(),this.To(new PY),this.J0.Jl(),this.J0=new pa,this.ABt.Jl(),this.ABt=new pa,this.PNt=this.bBt([this.PNt,this.$0].filter(Cr),t,n,i,e,this.ABt.M_).catch(this.RNt),this.PNt):$.resolve()},i.bBt=function(t,n,i,r,e,u){var s=this;return Mo((function(){var o,c,a,h,f,v,d,l,_;return Uo(this,(function(g){switch(g.label){case 0:return[4,$.all(t.map((function(t){return t.catch(Vr)})))];case 1:return g.sent(),s.TBt(),[4,s.SBt()];case 2:return g.sent(),c=[],e.$Tt&&s.tM&&s.tM.mZ&&c.push(s.tM.mZ.Qu(0,1/0)),e.JTt&&s.tM&&s.tM.pZ&&c.push(s.tM.pZ.Qu(0,1/0)),[4,$.all(c)];case 3:return g.sent(),ba(u),[4,s.kBt(n,i,e.mv,u)];case 4:a=g.sent(),s.EBt(n,i,e.ZTt||a),s.IBt(r,e.ZTt),ba(u),h=n&&i&&CW(n,i),f=[i,h?void 0:n,r].filter(Cr),g.label=5;case 5:return g.trys.push([5,7,,8]),[4,$.all(f.filter((function(t){return!t.PTt.qIt})).map((function(t){var n;return null==(n=s.Dct)?void 0:n.dRt(t,u)})))];case 6:return g.sent(),[3,8];case 7:return Ta(g.sent()),[3,8];case 8:return ba(u),s.PZ(),s.rPt(),void 0!==s.bNt?s.INt(s.bNt,s.TNt):!s.Pct&&(null==(o=s.cNt)?void 0:o.PTt.Tn)?(v=s.cNt.PTt,d=v.Tn,l=d.vEt,d.vEt<0&&(_=v.xIt,l+=_.Pn(_.U-1)),s.INt(l,!d.wEt)):!s.Pct&&f.every((function(t){return!t.PTt.REt}))?s.INt(1/0,!0):s.ANt.length>0&&s.PBt(),[2]}}))}))()},i.kBt=function(t,n,i,r){var e=this;return Mo((function(){var u,s,o,c,a,h,f,v,d,l;return Uo(this,(function(_){switch(_.label){case 0:return o=void 0!==t&&t!==n,c=void 0!==n,[4,e.RBt(t,n,e.cNt)];case 1:return a=_.sent(),ba(r),i||!e.tM||a?(h=void 0!==(null==(u=e.tM)?void 0:u.mZ),f=void 0!==(null==(s=e.tM)?void 0:s.pZ),v=o!==h||c!==f,!i&&!v&&a&&e.tM&&e.tM.OX(a)?[4,e.CBt(r)]:[3,4]):[2,!1];case 2:return _.sent(),[4,e.tM.FX(a)];case 3:return _.sent(),[2,!0];case 4:for(d=0,l=e.ANt;d<l.length;d++)l[d].IDt.forEach((function(t){return t.Jl()}));e.KO.o2(),_.label=5;case 5:return _.trys.push([5,,9,10]),e.tM?[4,e.KO.ir()]:[3,7];case 6:_.sent(),_.label=7;case 7:return[4,e.xBt(a,o,c)];case 8:return e.tM=_.sent(),[3,10];case 9:return e.KO.a2(),[7];case 10:return[2,!0]}}))}))()},i.RBt=function(t,n,i){var r=this;return Mo((function(){var e,u,s,o,c,a,h,f,v,d,l,_;return Uo(this,(function(g){switch(g.label){case 0:if(s=i.bet,o=[],void 0!==t){if(!s||!s.cSt)return[2,void 0];c='audio/mp4; codecs="'+s.cSt+'"',VW.zA(ZY,"Configuring MediaSource for initial audio rendition with codec: "+c+"."),o.push(c)}if(void 0!==n){if(!s||!s.lSt)return[2,void 0];a='video/mp4; codecs="'+s.lSt+'"',VW.zA(ZY,"Configuring MediaSource for initial video rendition with codec: "+a+"."),o.push(a)}return 0===o.length?(VW.ASt(ZY,"No codecs found on the active variant stream."),[2,void 0]):(f=null!=(h=null==(e=null==n?void 0:n.PTt.mtt[0])?void 0:e.pEt)?h:[],d=null!=(v=null==(u=null==t?void 0:t.PTt.mtt[0])?void 0:u.pEt)?v:[],l=r.Dct.Ar,[4,IG(r.ERt.contentProtection,o,l.DPt.concat(d).concat(f),r.fP,r.ERt.useCredentials)]);case 1:return _=g.sent(),[2,{Iw:Gk.wB,xZ:o.map((function(t){return{rM:t}})),hM:_,VZ:r.ERt.useManagedMediaSource}]}}))}))()},i.xBt=function(t,n,i){var r=this;return Mo((function(){var e;return Uo(this,(function(u){switch(u.label){case 0:return t?[4,r.KO.On(t)]:[3,2];case 1:return e=u.sent(),[3,3];case 2:e=new MY(r.KO,n,i),u.label=3;case 3:return r.tM=e,r.PZ(),r.mAt(),r.pAt(),[2,e]}}))}))()},i.PZ=function(){var t=this.tM;if(t&&w(t.ct)){var n,i,r,e=null!=(r=null==(n=this.vNt)?void 0:n.PTt.ct)?r:null==(i=this.wNt)?void 0:i.PTt.ct;void 0!==e&&e>0&&t.EZ(e)}this.rPt()},i.mAt=function(){var t=this.tM;t&&(t.pZ&&(t.pZ.Qq=this.GF.sz),t.mZ&&(t.mZ.Qq=this.GF.sz))},i.pAt=function(){var t=this.tM;t&&(t.pZ&&(t.pZ.Zq=this.GF.Zq),t.mZ&&(t.mZ.Zq=this.GF.Zq))},i.EBt=function(t,n,i){if(!this.tM)throw new f("Invalid state");this.tM.mZ?this.TZ&&this.TZ.sNt(this.tM.mZ)||(this.TZ=new jY(py.yy,this.tM.mZ,this.NNt?this.blt:void 0,this.BNt?this.nNt:void 0)):this.TZ=void 0,this.tM.pZ?this.SZ&&this.SZ.sNt(this.tM.pZ)||(this.SZ=new jY(py.vl,this.tM.pZ,this.NNt?this.blt:void 0,this.BNt?this.nNt:void 0)):this.SZ=void 0;var r,e=t&&n&&CW(t,n);if(this.SZ&&n){var u=e&&this.TZ?[this.SZ,this.TZ]:[this.SZ];this.aNt?this.aNt.zTt!==n&&(i&&(this.aNt.Jl(),this.aNt.NDt.NC()),this.aNt.FCt(n)):(this.aNt=function(t,n,i,r,e,u,s,o,c,a){var h=r.Ar.zT,f=new gY(h),v=new fY(py.vl,t,r,f,e,u,s,a),d=n.map((function(t){return t.Iw})),l=o.Nat(f,r.Ar.zT,d),_=new CY(v,f,l,c);return _.BDt(n),_}(n,u,this.KO,this.Dct,this.fP,this.Sat,this.JRt,this.DDt,this.GF,this.ERt.useCredentials),this.aNt.RDt.wn(aY.BCt,this.DBt),this.aNt.RDt.wn(aY.LCt,this.NBt),this.aNt.xDt.wn(_Y.tDt,this.BBt),this.aNt.xDt.wn(_Y.iDt,this.LBt),this.aNt.xDt.wn(_Y.sDt,this.OBt),this.aNt.xDt.wn(_Y.eDt,this.MBt)),this.aNt.BDt(u)}else{var s;null==(s=this.aNt)||s.Ou(),this.aNt=void 0}this.TZ&&t&&!e?(this.MNt?this.MNt.zTt!==t&&(i&&(this.MNt.Jl(),this.MNt.NDt.NC()),this.MNt.FCt(t)):(this.MNt=function(t,n,i,r,e,u,s,o,c,a){var h=r.Ar.zT,f=new gY(h),v=new fY(py.yy,t,r,f,e,u,s,a),d=o.Nat(f,r.Ar.zT,[n.Iw]),l=new CY(v,f,d,c);return l.BDt([n]),l}(t,this.TZ,this.KO,this.Dct,this.fP,this.Sat,this.JRt,this.DDt,this.GF,this.ERt.useCredentials),this.MNt.RDt.wn(aY.LCt,this.NBt),this.MNt.xDt.wn(_Y.tDt,this.BBt),this.MNt.xDt.wn(_Y.eDt,this.MBt)),this.MNt.BDt([this.TZ])):(null==(r=this.MNt)||r.Ou(),this.MNt=void 0);this.FBt()},i.IBt=function(t,n){this.sBt&&(this.sBt.RDt.zTt===t?n&&(this.sBt.Jl(),this.sBt.NDt.NC()):(this.sBt.Ou(),this.sBt=void 0));if(!this.sBt&&t){var i=this.aBt.get(t.cw);i.bw=Yp.Qn,this.sBt=function(t,n,i,r,e,u,s){var o=i.Ar.zT,c=new mY(n,o),a=new gY(o),h=new fY(py.KT,t,i,a,r,e,u,s),f=new IY(a,o,py.KT),v=new CY(h,a,f);return v.LDt(c),v}(t,i,this.Dct,this.fP,this.Sat,this.JRt,this.ERt.useCredentials)}},i.FBt=function(){var t=[this.TZ,this.SZ].filter(Cr).map((function(t){return t.Iw}));this.Dct.Ar.zT.xPt(t)},i.t1=function(t,n,i,r){var e=this;return Mo((function(){var u;return Uo(this,(function(s){switch(s.label){case 0:return[4,$.all(t.map((function(t){return t.catch(Vr)})))];case 1:return s.sent(),ba(r),[4,e.SBt()];case 2:return s.sent(),ba(r),e.bNt=void 0,e.SNt=void 0,e.Pct=!0,u=e.Qut.vF(n),e.KO.gc(u,i),e.kNt&&e.ANt.length>0&&(e.UBt(e.KO.Wu),e.PBt()),[2]}}))}))()},i.UBt=function(t){for(var n=0,i=this.ANt;n<i.length;n++){var r=i[n];r.JCt(t)||(r.HDt(),r.NDt.qxt()),r.FDt(t)||(r.VDt(),r.NDt.zxt())}},i.TBt=function(){for(var t=0,n=this.ANt;t<n.length;t++){n[t].Jl()}},i.SBt=function(){return $.all([this.HBt(),this.VBt(),this.WBt()])},i.PBt=function(){this.qBt(),this.zBt(),this.XBt()},i.gBt=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.kNt&&t.ANt.length>0?(t.ANt.forEach((function(t){return t.HDt()})),[4,t.HBt()]):[3,2];case 1:n.sent(),t.qBt(),t.ANt.forEach((function(t){return t.RDt.rxt()})),n.label=2;case 2:return[2]}}))}))()},i.qBt=function(){var t=this;if(!this.GBt){var n=function(){t.GBt=void 0};this.QBt=new pa,this.GBt=this.KBt(this.QBt.M_).catch(this.RNt).then(n,n)}},i.HBt=function(){var t=this;return Mo((function(){var n,i;return Uo(this,(function(r){switch(r.label){case 0:return null==(n=t.QBt)||n.Jl(),i=t.GBt,t.GBt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.KBt=function(t){var n=this;return Mo((function(){var i,r,e,u,s,o,c,a,h,f,v,d;return Uo(this,(function(l){switch(l.label){case 0:ba(t),i=n.ANt,l.label=1;case 1:for(r=[],e=n.KO.Wu,u=0;u<i.length;u++)if(s=i[u],o=s.RDt,c=s._gt(e),o.MRt)r.push(o.HRt());else if(s.UDt(e,c,n.GF.sz)){if(void 0===(a=o.$Ct(c))){if(o.zTt.PTt.REt)continue;(h=o.zTt.PTt.mtt).length&&h[0].PS>c&&(n.Wu=1/0),o.axt(),o.ixt(c)}else f=Fo(a,2),v=f[0],d=f[1],o.oft(v,d,s.IRt),s.xDt.fDt(v,d);r.push(o.HRt())}return[4,Ra((function(t){if(0===r.length){i.every((function(t){return t.RDt.ZCt}))||r.push(n.KO.eg($l.Lu,t));for(var e=0;e<i.length;e++){var u=i[e];r.push(u.xDt.eg(_Y.eDt,t))}}return Ea($.race(r),t)}),t)];case 2:return l.sent(),[3,1];case 3:return[2]}}))}))()},i.zBt=function(){var t=this;if(!this.jBt){var n=function(){t.jBt=void 0};this.YBt=new pa,this.jBt=this.ZBt(this.YBt.M_).catch(this.RNt).then(n,n)}},i.VBt=function(){var t=this;return Mo((function(){var n,i;return Uo(this,(function(r){switch(r.label){case 0:return null==(n=t.YBt)||n.Jl(),i=t.jBt,t.jBt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.ZBt=function(t){var n=this;return Mo((function(){var i,r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:ba(t),i=n.ANt,a.label=1;case 1:for(r=[],e=0;e<i.length;e++)u=i[e],s=u.RDt,(o=u.xDt).MRt?r.push(o.HRt()):(c=s.XCt())?"wnt"===c.Iw?(o.wDt(c),r.push(o.HRt())):"SEt"===c.Iw&&(o._Dt(c),r.push(o.HRt())):r.push(s.hxt());return 0!==r.length?[3,2]:[3,5];case 2:return[4,Ea($.race(r),t)];case 3:a.sent(),a.label=4;case 4:return[3,1];case 5:return[2]}}))}))()},i.XBt=function(){var t=this;if(!this.JBt){this.$Bt=new pa;var n=function(){t.JBt=void 0};this.JBt=this.tLt(this.$Bt.M_).catch(this.RNt).then(n,n)}},i.WBt=function(){var t=this;return Mo((function(){var n,i;return Uo(this,(function(r){switch(r.label){case 0:return null==(n=t.$Bt)||n.Jl(),i=t.JBt,t.JBt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.tLt=function(t){var n=this;return Mo((function(){var i,r,e,u,s,o,c,a,h,f,v,d,l,_,g,w,y,m,p,k,A,b,T;return Uo(this,(function(S){switch(S.label){case 0:for((i=n.ANt).forEach((function(t){return t.rft()})),r=[],e=[],u=[],s=0;s<i.length;s++)for(o=i[s],c=o.xDt,a=0,h=o.IDt;a<h.length;a++)f=h[a],v=f.NRt?r:e,f.MRt?v.push(f.HRt()):f.VRt(n.KO.Wu)||((d=c.TDt(f.Iw))?"wnt"===d.Iw&&d.IEt===n.mNt?(f.mgt(d),v.push(f.HRt())):"kDt"===d.Iw&&d.IEt===n.mNt&&(f.qj(d),v.push(f.HRt())):u.push(c.SDt(f.Iw)));return 0!==r.length?[3,8]:(l=sa(i,(function(t){return t.IDt.filter((function(t){return t.NRt})).map((function(n){return t.xDt.TDt(n.Iw)}))}))).length>0&&l.every((function(t){return void 0!==t&&"kDt"===t.Iw&&t.IEt!==n.mNt}))?(g=ca(_=l,(function(t){return t.IEt})).IEt,_.every((function(t){return t.IEt===g}))?(w=oa(_,(function(t){return t.PS})).PS,[4,n.eLt(_)]):[3,6]):[3,8];case 1:return y=S.sent(),n.iLt(y)?(VW.ySt(zW,"Seamless switch from",n.tM.xb,"to",y),[4,n.tM.FX(y)]):[3,3];case 2:return S.sent(),VW.ySt(zW,"Seamless switch complete."),[3,5];case 3:return[4,n.sLt(w,y,t)];case 4:S.sent(),S.label=5;case 5:return n.mNt=_[0].IEt,[3,7];case 6:for(m=0;m<i.length;m++)for(p=i[m],k=0,A=p.IDt;k<A.length;k++)for(b=A[k],T=p.xDt.TDt(b.Iw);T&&T.IEt!==g;)p.xDt.qRt(T),T=p.xDt.TDt(b.Iw);S.label=7;case 7:return[3,0];case 8:return 0===r.length&&0===e.length&&0===u.length?(i.every((function(t){return t.IDt.length>0&&t.IDt.every((function(t){return t.VRt(n.KO.Wu)}))}))&&n.tM.EY(),[3,10]):[4,Ea($.race(_r(r).concat(_r(e),_r(u))),t)];case 9:return S.sent(),[3,0];case 10:return[2]}}))}))()},i.iLt=function(t){return this.UNt===DS.ZT||this.UNt!==DS.JT&&this.tM.OX(t)},i.eLt=function(t){var n=this;return Mo((function(){var i,r,e,u,s;return Uo(this,(function(o){switch(o.label){case 0:return r=t.map((function(t){return t.EDt.bet})),e=r.map((function(t){return{rM:t}})),u=sa(t,(function(t){return t.EDt.pEt})),(i=u).push.apply(i,_r(n.Dct.Ar.DPt)),[4,IG(n.ERt.contentProtection,r,u,n.fP,n.ERt.useCredentials)];case 1:return 0===(s=o.sent()).length&&n.tM&&n.tM.xb.hM.length>0&&(s=n.tM.xb.hM),[2,{Iw:Gk.wB,xZ:e,hM:s,VZ:n.ERt.useManagedMediaSource}]}}))}))()},i.sLt=function(t,n,i){var r=this;return Mo((function(){var e,u,s,o,c,a,h;return Uo(this,(function(f){switch(f.label){case 0:if(u=r.tM,s=u.ct,!(o=r.bl.length>0&&r.Wu<t))return[3,6];f.label=1;case 1:f.trys.push([1,5,,6]),VW.ySt(zW,"Marking end of stream and waiting for ended to switch discontinuity."),u.EY(),f.label=2;case 2:return!r.KO.Ic&&r.KO.Wu<t?[4,r.KO.eg([$l.Lu,$l.Pf],i)]:[3,4];case 3:return f.sent(),[3,2];case 4:return[3,6];case 5:throw c=f.sent(),u.vY(),u.EZ(s),c;case 6:VW.ySt(zW,"Perform hard switch from",null==(e=r.tM)?void 0:e.xb,"to",n),f.label=7;case 7:return f.trys.push([7,,10,11]),r.KO.o2(),r.Wu<t&&r.KO.gc(t,!0,!0),r.SZ=void 0,r.TZ=void 0,r.FBt(),[4,r.KO.ir()];case 8:return f.sent(),[4,r.KO.On(n)];case 9:return r.tM=f.sent(),r.PZ(),r.mAt(),r.pAt(),r.tM.pZ&&(r.SZ=new jY(py.vl,r.tM.pZ,r.NNt?r.blt:void 0,r.BNt?r.nNt:void 0)),r.tM.mZ&&(r.TZ=new jY(py.yy,r.tM.mZ,r.NNt?r.blt:void 0,r.BNt?r.nNt:void 0)),r.FBt(),[3,11];case 10:return o&&Da(r.KO.dl()),r.KO.a2(),[7];case 11:return r.aNt&&(a=void 0!==r.TZ&&void 0===r.MNt,h=a?[r.SZ,r.TZ]:[r.SZ],r.aNt.BDt(h)),r.MNt&&r.MNt.BDt([r.TZ]),VW.ySt(zW,"Hard switch complete."),[2]}}))}))()},i.CBt=function(t){return Ea(Pa(sa(this.ANt,(function(t){return t.IDt.map((function(t){return t.HRt()}))}))),t)},i.mct=function(){var t=this.Kg,n=this.Xg;this.xlt===t&&this.Dlt===n||(this.xlt=t,this.Dlt=n,this.To(new Yk))},i.bn=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return VW.zA(ZY,"Unloading the player."),t.nLt(),t.dlt(),[4,t.ir()];case 1:return n.sent(),t.KO.yM=void 0,t.oBt.bn(),[4,t.gM.bn()];case 2:return n.sent(),[4,t.blt.bn()];case 3:return n.sent(),[4,t.nNt.bn()];case 4:return n.sent(),t.$T.bn(),t.eS.bn(),t.xu.bn(),t.hf.bn(),t.Blt.Ou(),t.JRt.Ou(),t.DDt&&(t.DDt.Ou(),t.DDt=void 0),[2]}}))}))()},i.ir=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return VW.zA(ZY,"Resetting the player."),t.pn(wW.ETt,t.handleBufferingErrorEvent),t.mNt=-1,t.wP.Jl(),t.wP=new pa,t.J0.Jl(),t.J0=new pa,t.ABt.Jl(),t.ABt=new pa,n=[t.cvt,t.$0,t.PNt].filter(Cr),[4,$.all(n.map((function(t){return t.catch(Vr)})))];case 1:return i.sent(),t.cvt=void 0,t.$0=void 0,t.PNt=void 0,t.vNt=void 0,t.wNt=void 0,t.yNt=void 0,t.jNt=void 0,t.xNt=void 0,t.CNt=void 0,t.JNt=void 0,t.yBt=[],t.QNt(void 0),t.TBt(),[4,t.SBt()];case 2:return i.sent(),t.MNt&&(t.MNt.Ou(),t.MNt=void 0),t.aNt&&(t.aNt.Ou(),t.aNt=void 0),t.sBt&&(t.sBt.Ou(),t.sBt=void 0),t.TZ=void 0,t.SZ=void 0,t.tM=void 0,t.Dct&&(t.Dct.Ou(),t.Dct=void 0),t.VNt&&(t.xu.HO(t.VNt.nt),t.VNt=void 0),[4,t.gM.ir()];case 3:return i.sent(),[4,t.blt.ir()];case 4:return i.sent(),[4,t.nNt.ir()];case 5:return i.sent(),t.KO.vM(),[4,t.KO.ir()];case 6:return i.sent(),t.ERt=void 0,t.kNt=!1,t.RZ=ZE.Nl(),t.bNt=void 0,t.Clt=void 0,t.xlt=0,t.Dlt=0,t.SNt=void 0,t.Pct=!1,t.H0=!1,tr.W_(t.ENt),t.nct=!1,t.rLt=!1,t.Yut=0,t.UNt=DS.XT,t.hf.ir(),t.hLt(),t.To(new wE(t.Wu,t.Nc)),[2]}}))}))()},i.hLt=function(){for(var t=0,n=this.$T.Kv;t<n.length;t++){n[t].bn()}for(var i=0,r=this.eS.Kv;i<r.length;i++){r[i].bn()}for(var e=0,u=this.xu.Kv;e<u.length;e++){u[e].bn()}this.$T.ir(),this.eS.ir(),this.xu.ir(),this.aBt.clear()},i.oLt=function(){this.hf.wn(JY,this.Os),this.hf.wn(qk.Qf,this.Vf),this.hf.wn(qk.Yf,this.aLt),this.hf.wn(qk.pl,this.uLt),this.GF.wn("Gq",this.AAt),this.GF.wn("Yq",this.bAt),this.KO.wn($Y,this.Os),this.KO.wn($l.Xw,this.handleContentProtectionErrorEvent),this.KO.wn($l.Nf,this.cLt),this.KO.wn($l.Pf,this.Mh),this.KO.wn($l.Ch,this.Mf),this.KO.wn($l.Ph,this.Af),this.KO.wn($l.Rf,this.lLt),this.KO.wn(qk.Bf,this.BB),this.KO.wn($l.Lu,this.T$),this.KO.wn($l.If,this.Xe),this.KO.wn($l.Tf,this.Cf),this.KO.wn($l.vm,this.dLt),this.KO.wn($l.Il,this.fLt)},i.nLt=function(){this.hf.pn(JY,this.Os),this.hf.pn(qk.Qf,this.Vf),this.hf.pn(qk.Yf,this.aLt),this.hf.pn(qk.pl,this.uLt),this.GF.pn("Gq",this.AAt),this.GF.pn("Yq",this.bAt),this.KO.pn($Y,this.Os),this.KO.pn($l.Xw,this.handleContentProtectionErrorEvent),this.KO.pn($l.Nf,this.cLt),this.KO.pn($l.Pf,this.Mh),this.KO.pn($l.Ch,this.Mf),this.KO.pn($l.Ph,this.Af),this.KO.pn($l.Rf,this.lLt),this.KO.pn(qk.Bf,this.BB),this.KO.pn($l.Lu,this.T$),this.KO.pn($l.If,this.Xe),this.KO.pn($l.Tf,this.Cf),this.KO.pn($l.vm,this.dLt),this.KO.pn($l.Il,this.fLt)},hr(n,[{key:"gNt",get:function(){for(var t=[this.vNt,this.wNt].filter(Cr),n=0;n<t.length;n++){var i=t[n];if(!i.PTt.REt)return!1;var r=i.PTt.mtt,e=r[r.length-1];if(e&&e.IEt!==this.mNt)return!1}return!0}},{key:"XTt",get:function(){return this.cNt}},{key:"rSt",get:function(){return this.vNt}},{key:"oSt",get:function(){return this.wNt}},{key:"pNt",get:function(){return this.yNt}},{key:"ht",get:function(){return this.$T}},{key:"bl",get:function(){return this.KO.bl.ws()}},{key:"KTt",get:function(){var t=[];if(this.cNt)for(var n=this.KO.Wu,i=0,r=this.ANt;i<r.length;i++)for(var e=0,u=r[i].IDt;e<u.length;e++){var s=u[e].WRt(n);s&&!ia(t,s)&&t.push(s)}return t}},{key:"qu",get:function(){if(this.cNt){var t=this.KO.Wu;return this.cNt.zEt(t)}},set:function(t){if(t&&this.cNt){var n=this.cNt.XEt(t);void 0!==n&&this.gc(n,!1,!0)}}},{key:"Wu",get:function(){var t;return null!=(t=this.bNt)?t:this.KO.Wu},set:function(t){this.gc(t,t===1/0,!0)}},{key:"ct",get:function(){var t,n,i,r,e,u,s;if(!this.gNt)return null!=(s=null!=(u=null!=(e=null==(t=this.vNt)?void 0:t.PTt.ct)?e:null==(n=this.wNt)?void 0:n.PTt.ct)?u:null==(i=this.Dct)||null==(r=i.eRt)?void 0:r.PTt.ct)?s:1/0;var o=this.KO.ct;if(w(o)){var c,a,h,f=null!=(h=null==(c=this.CNt)?void 0:c.PTt.ct)?h:null==(a=this.xNt)?void 0:a.PTt.ct;if(void 0!==f)return f}return o}},{key:"Ic",get:function(){if(!this.gNt)return!1;if(this.Fc&&this.kNt){var t,n,i=this.Wu,r=null==(t=this.vNt)?void 0:t.PTt.ct,e=null==(n=this.wNt)?void 0:n.PTt.ct;return!(void 0!==r&&i<r)&&!(void 0!==e&&i<e)}return this.KO.Ic}},{key:"lt",get:function(){return this.ZO}},{key:"Ec",get:function(){return this.Vl}},{key:"Tg",get:function(){}},{key:"Eg",get:function(){return!1}},{key:"Pg",get:function(){return xo({},{sS:0,nS:0,rS:0,hS:0,oS:0,aS:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.KO.Rg(),{oS:this.Yut,hS:this.GF.Mq.IO})}},{key:"Ar",get:function(){var t;return null==(t=this.Dct)?void 0:t.Ar}},{key:"Xu",get:function(){return this.KO.Xu},set:function(t){this.KO.Xu=t}},{key:"Dg",get:function(){return this.fht},set:function(t){this.fht!==t&&(this.fht=t,this.To(t?new YF:new jF))}},{key:"Dc",get:function(){return this.KO.Dc}},{key:"$u",get:function(){return this.KO.$u},set:function(t){VW.zA(ZY,"Setting playback rate to "+t+"."),this.KO.$u=t}},{key:"wl",get:function(){return this.ect.ws()}},{key:"ect",get:function(){return this.KO.wl}},{key:"Mg",get:function(){return this.$O},set:function(t){this.$O!==t&&(this.$O=t,this.DNt())}},{key:"Nc",get:function(){var t=this.KO.Nc;return this.nct&&(t=l.max(jk.Jn,t)),t}},{key:"kl",get:function(){return this.Qut.ws()}},{key:"Qut",get:function(){var t=this.RZ,n=[this.vNt,this.wNt].filter(Cr);if(t.U>0&&n.some((function(t){return!t.PTt.REt}))){var i=this.ect,r=t.Pn(t.U-1);if(i.U>0&&i.Pn(i.U-1)>r){var e=i.Pn(i.U-1),u=function(t){return t.reduce((function(t,n){return t.Cn(n.PTt.xIt)}),new ZE([0,1/0]))}(n);u.U>0&&(e=l.min(e,u.Pn(u.U-1))),t=t.Hl(new ZE([r,e]))}}return t}},{key:"Fc",get:function(){var t;return null!=(t=this.SNt)?t:this.KO.Fc}},{key:"eM",get:function(){}},{key:"nt",get:function(){return this.xu}},{key:"rt",get:function(){return this.eS}},{key:"Xg",get:function(){var t,n;return this.KO.Xg||(null==(t=this.cNt)||null==(n=t._St)?void 0:n.Ci)||0}},{key:"Kg",get:function(){var t,n;return this.KO.Kg||(null==(t=this.cNt)||null==(n=t._St)?void 0:n.Ti)||0}},{key:"_l",get:function(){return this.KO._l},set:function(t){VW.zA(ZY,"Setting volume to "+t+"."),this.KO._l=t}},{key:"Jg",get:function(){return this.iM}},{key:"tv",get:function(){return!1},set:function(t){}},{key:"sM",get:function(){return this.nM}},{key:"ONt",get:function(){var t,n,i=null==(t=this.MNt)?void 0:t.ODt,r=null==(n=this.aNt)?void 0:n.ODt;return i?r?r.Cn(i):i:r}},{key:"ANt",get:function(){return[this.MNt,this.aNt,this.sBt].filter(Cr)}}]),n}(Ua),ij=function(){function t(){}var n=t.prototype;return n.FM=function(t,n){var i=this;return Mo((function(){var n;return Uo(this,(function(r){switch(r.label){case 0:return iE(t.type)?t.useNativePlayback?[2,!1]:!(n=t.contentProtection)||FA(n)?[3,2]:XA(n)?[4,i.j7(n)]:[2,!1]:[2,!1];case 1:if(!r.sent())return[2,!1];r.label=2;case 2:return[2,!0]}}))}))()},n.j7=function(t){return Mo((function(){var n,i,r;return Uo(this,(function(e){switch(e.label){case 0:return t.aes128?[2,!0]:(n=t.playready)?[4,tr.vN()]:[3,2];case 1:n=e.sent(),e.label=2;case 2:return n?[2,!0]:(i=t.widevine)?[4,tr.fN()]:[3,4];case 3:i=e.sent(),e.label=4;case 4:return i?[2,!0]:(r=t.clearkey)?[4,tr.gN()]:[3,6];case 5:r=e.sent(),e.label=6;case 6:return r?[2,!0]:t.fairplay?[2,!1]:[4,tr.bN()];case 7:return[2,e.sent()]}}))}))()},t}(),rj=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Ko=n,r}return vr(n,t),n.prototype.Mlt=function(){this.To(new Kk(this.Wu,this.Nc))},hr(n,[{key:"Nc",get:function(){return this.Ko.Nc}}]),n}(uA);function ej(t){var n=jc(t,(function(t){return t.RTt})),i=t.filter((function(t){return t.CTt})),r=tr.T9,e=i.map((function(t){return t.gs})).filter(Cr),u=UY(e,r);return u?jc(i,(function(t){return t.gs===u})):n}function uj(t,n,i,r){void 0===r&&(r=NE.maximumBackoff);var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,r=n.preferredAudioCodecs;if(void 0!==i){for(var e,u=function(n){var u=i[n],s=t.filter((function(t){return t.bet&&t.bet.lSt&&OD(t.bet.lSt,u)}));if(0===s.length)return"continue";if(void 0===r)return{v:s};void 0===e&&(e=s);var o=sj(s,r);return void 0!==o?{v:o}:void 0},s=0;s<i.length;s++){var o=u(s);if("object"===E(o))return o.v}if(void 0!==e)return e}if(void 0!==r){var c=sj(t,r);if(void 0!==c)return c}return t}(t,n),u=cj(e,r);switch(i.jq.type){case IN.BANDWIDTH:var s=i.tz,o=u.filter((function(t){return t.IO<=s}));if(o.length>0)return ca(o,(function(t){return t.IO}));case IN.PERFORMANCE:return oa(u,(function(t){return t.IO}));case IN.QUALITY:return ca(u,(function(t){return t.IO}))}}function sj(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return t.bet&&t.bet.cSt&&OD(t.bet.cSt,r)}));return 0===e.length?"continue":{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===E(e))return e.v}}function oj(t){var n;return null!=(n=ej(t))?n:t[0]}function cj(t,n){return t.filter((function(t){return aj(t,n)}))}function aj(t,n){var i=n+tj;return 0===t.kSt.length||t.kSt.some((function(t){return t.PTt.QIt<tr.V_()-i}))}function hj(t,n){if(!n||n.PTt.REt)return!1;var i=n.PTt.mtt;return 0!==i.length&&i[0].PS>t}var fj=function(){function t(){}var n=t.prototype;return n.YRt=function(t,n,i){return Mo((function(){var r,e;return Uo(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,crypto.subtle.importKey("raw",n,{name:"AES-CBC"},!1,["decrypt"])];case 1:return r=u.sent(),[4,crypto.subtle.decrypt({name:"AES-CBC",iv:i},r,t)];case 2:return e=u.sent(),[2,new y(e)];case 3:throw u.sent(),new Dl(Rl.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 4:return[2]}}))}))()},n.Ou=function(){},t.EN=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}(),vj=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).data=i,r}return vr(n,t),n}(Va),dj=["message","messageerror","error"],lj=function(t){function n(n){var i;return(i=t.call(this,jp.aa)||this).error=n,i}return vr(n,t),n}(Va),_j=function(t){function n(n){var i;return(i=t.call(this)||this).pLt=void 0,i.yLt=[],i.TLt=function(t){if(i.vLt)t.bLt();else{i.pLt=t,i.pLt.wn(dj,i.Os);for(var n=0,r=i.yLt;n<r.length;n++){var e=r[n];t.mLt(e.pC,e.ALt)}ea(i.yLt)}},i.SLt=function(t){if(!i.vLt){var n=t instanceof f?t:new f("Could not create Worker.");i.To(new lj(n)),i.bLt()}},i.wLt=new pa,n(i.wLt.M_).then(i.TLt,i.SLt),i}vr(n,t);var i=n.prototype;return i.mLt=function(t,n){this.vLt||(void 0!==this.pLt?this.pLt.mLt(t,n):this.yLt.push({pC:t,ALt:n}))},i.bLt=function(){this.vLt||(this.wLt.Jl(),ea(this.yLt),void 0!==this.pLt&&this.pLt.bLt())},hr(n,[{key:"vLt",get:function(){return this.wLt.M_.R_}}]),n}(Ua);var gj=function(t){function n(n,i){var r;return(r=t.call(this)||this).kLt=function(t){r.To(new vj("message",t.data))},r.ELt=function(t){r.To(new vj("messageerror",t.data))},r.J1=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof f?t.error:new f(t.message);r.To(new lj(n)),r.bLt()},r.pLt=new m(n,i),r.pLt.addEventListener("message",r.kLt),r.pLt.addEventListener("messageerror",r.ELt),r.pLt.addEventListener("error",r.J1),r}vr(n,t);var i=n.prototype;return i.mLt=function(t,n){n?this.pLt.postMessage(t,n):this.pLt.postMessage(t)},i.bLt=function(){this.Lo(),this.pLt.removeEventListener("message",this.kLt),this.pLt.removeEventListener("messageerror",this.ELt),this.pLt.removeEventListener("error",this.J1),this.pLt.terminate()},n}(Ua),wj=0,yj=function(t){function n(n,i){var r;(r=t.call(this)||this).PLt=function(){r.ILt.removeEventListener("load",r.PLt),r.ILt.contentWindow.postMessage({type:"initialize",id:r.wS,script:r.CLt},"*")},r.RLt=function(t){t.origin===r.xLt&&t.data.id===r.wS&&("initialized"===t.data.type||("error"===t.data.type?(r.To(new lj(new f(t.data.data.message))),r.bLt()):r.To(new vj("message",t.data.data))))},r.wS=wj++,r.CLt=n;var u=tr.Rh("iframe.html",i);return r.ILt=function(t){var n=e.createElement("iframe");return n.width="0",n.height="0",n.style.display="none",n.src=t,e.body.appendChild(n),n}(u.href),r.xLt=u.origin,r.ILt.addEventListener("load",r.PLt),self.addEventListener("message",r.RLt),r}vr(n,t);var i=n.prototype;return i.mLt=function(t,n){n?this.ILt.contentWindow.postMessage({type:"message",data:t},"*",n):this.ILt.contentWindow.postMessage({type:"message",data:t},"*")},i.bLt=function(){var t;this.ILt.removeEventListener("load",this.PLt),self.removeEventListener("message",this.RLt),null==(t=this.ILt.contentWindow)||t.postMessage({type:"terminate"},"*"),Js(this.ILt)},n}(Ua);function mj(t,n,i){var r=tr.Fm(t,n);return new _j((function(t){return function(t,n,i,r){return bj.apply(this,arguments)}(r,n,i,t)}))}var pj,kj,Aj=!0;function bj(){return bj=Mo((function(t,n,i,r){var e,u,s,o,c,a,h;return Uo(this,(function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,Tj(e=new gj(t,i),r)];case 1:return f.sent(),[2,e];case 2:return u=f.sent(),null==e||e.bLt(),Ta(u),[3,3];case 3:if(!Aj||!Zl)return[3,13];f.label=4;case 4:return f.trys.push([4,7,,8]),[4,tr.Gf.pI({TI:t,iP:N_.GET,sP:t_.KT,M_:r})];case 5:return[4,f.sent()._P(r)];case 6:return s=f.sent(),[3,8];case 7:return Ta(f.sent()),[3,8];case 8:if(!s)return[3,13];f.label=9;case 9:return f.trys.push([9,11,12,13]),c=Zl([s],{type:"application/javascript"}),o=URL.createObjectURL(c),[4,Tj(e=new gj(o,i),r)];case 10:return f.sent(),[2,e];case 11:return a=f.sent(),null==e||e.bLt(),Ta(a),Aj=!1,[3,13];case 12:return o&&URL.revokeObjectURL(o),[7];case 13:return f.trys.push([13,15,,16]),[4,Tj(e=new yj(t,n),r)];case 14:return f.sent(),[2,e];case 15:throw h=f.sent(),null==e||e.bLt(),h;case 16:return[2]}}))})),bj.apply(this,arguments)}function Tj(t,n){return Sj.apply(this,arguments)}function Sj(){return Sj=Mo((function(t,n){var i;return Uo(this,(function(r){switch(r.label){case 0:return[4,t.eg(["message","error"],n)];case 1:if("error"===(i=r.sent()).type)throw function(t){return new Dl(Rl.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}(i.error);if(!function(t){return Lr(t)&&"6.10.1"===t.DLt}(i.data))throw new Dl(Rl.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (6.10.1).");return[2,i]}}))})),Sj.apply(this,arguments)}!function(t){t.NLt="YRt",t.BLt="ACt"}(pj||(pj={})),function(t){t.LLt="OLt",t.MLt="FLt"}(kj||(kj={}));var Ej=function(){function t(t){var n=this;this.pLt=void 0,this.qLt=0,this.jLt=Vo(),this.WLt=function(t){var i=t.data,r=i.YLt,e=n.jLt.get(r);e&&(n.jLt.delete(r),i.ZLt===kj.LLt?e.Lf(i.JLt):i.ZLt===kj.MLt&&e.BC(new Dl(Rl.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.")))},this.q9=function(t){var i=new Dl(Rl.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);n.Ou(i)},this.VLt=t;try{this.HLt=tr.Fm("theoplayer.d.js",t)}catch(t){throw new Dl(Rl.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var n=t.prototype;return n.ULt=function(){var t=mj(this.HLt,this.VLt,{name:"THEOplayer decrypt worker"});return t.wn("message",this.WLt),t.wn("error",this.q9),t},n.YRt=function(t,n,i){var r=""+ ++this.qLt,e={zLt:pj.NLt,XLt:r,GLt:t,QLt:n,KLt:i},u=new kf;return this.jLt.set(r,u),null!=this.pLt||(this.pLt=this.ULt()),this.pLt.mLt(e),u.jf},n.Ou=function(t){void 0===t&&(t=new ka),this.jLt.forEach((function(n){return n.BC(t)})),this.jLt.clear(),this.pLt&&(this.pLt.bLt(),this.pLt=void 0)},t}();function Ij(t){var n=jc(t.boxes,MC);if(n){var i=jc(n.boxes,xC);if(i)return i.handlerType}}function Rj(t){var n,i=new Qd;return(n=i.boxes).push.apply(n,_r(t.boxes)),i}function Nj(t){var n,i=new ad;return(n=i.boxes).push.apply(n,_r(t.boxes)),i}var Cj=8;function Dj(t,n){for(var i=function(t){var n,i=new kd;return(n=i.boxes).push.apply(n,_r(t.boxes)),i}(t),r=Oj(n),e=0;e<i.boxes.length;e++){var u=i.boxes[e];if(u===n)i.boxes[e]=new Lv(new y(n.getSize()-Cj));else if(UC(u)){var s=u,o=Zc(s.boxes,(function(t){return t instanceof od&&t.trackId===r}));if(o>=0){var c=s.boxes[o],a=Nj(s);a.boxes[o]=new Lv(new y(c.getSize()-Cj)),i.boxes[e]=a}}}return i}function Pj(t,n){for(var i=function(t){var n,i=new Od;return(n=i.boxes).push.apply(n,_r(t.boxes)),i}(t),r=0;r<i.boxes.length;r++){var e=i.boxes[r];if(VC(e)){var u=jc(e.boxes,XC);u&&u.trackId===n&&(i.boxes[r]=new Lv(new y(e.getSize()-Cj)))}}return i}function Oj(t){return jc(t.boxes,LC).trackId}function Bj(t,n,i,r){for(var e=jc(t.boxes,XC),u=i.aE(n).Uk(),s=Ee.ZERO,o=0,c=t.boxes;o<c.length;o++){var a=c[o];if(a instanceof Sd){s=Ie(a.baseMediaDecodeTime,u),a.baseMediaDecodeTime=a.baseMediaDecodeTime.subtract(s);break}if(a instanceof Td){s=Ie(Ee.fromNumber(a.baseMediaDecodeTime),u),a.baseMediaDecodeTime-=s.toNumber();break}}if(!s.isZero()){var h=jc(t.boxes,zC);if(void 0!==h&&h.samples.length>0){var f=h.samples;if(!h.flags.sampleDurationPresent){h.flags.sampleDurationPresent=!0;for(var v=null!=r?r:e.defaultSampleDuration,d=0;d<f.length;d++){f[d].duration=v}}f[0].duration+=s.toNumber(),h.samples=f}}}var Lj="Mp4Transmuxer",Mj=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Gj=void 0,n.$Lt=void 0,n.sOt=void 0,n.nOt=void 0,n.iOt=void 0,n}vr(n,t);var i=n.prototype;return i.vDt=function(t,n){ba(n);var i=t.zTt,r=mD(vf(t.SEt.Ny.Ny));if(!r)throw new f("Mp4Transmuxer - Unable to parse "+i.Iw+" MP4 initializer.");this.Gj=r;var e=function(t){for(var n,i,r=0,e=t.Z;r<e.length;r++){var u=e[r];n||(n=u.VK),i||(i=u.HK)}if(n||i)return{cSt:n,lSt:i,Dkt:void 0};return}(r);e&&this.pDt(i,e);var u=function(t){for(var n=0,i=t.Z;n<i.length;n++){var r=i[n];if(void 0!==r.WK)return r.WK}return}(r);void 0!==u&&this.yDt(i,u);var s=function(t){var n,i,r,e,u,s=nl(t),o=jc(s.boxes,OC),c=o.boxes.filter(BC),a=jc(c,(function(t){return Ij(t)===Gv.AUDIO})),h=jc(c,(function(t){return Ij(t)===Gv.VIDEO})),f={cSt:{MA:a?Oj(a):void 0},lSt:{MA:h?Oj(h):void 0}},v=null==(n=jc(o.boxes,UC))?void 0:n.boxes.filter(FC),d=v?{cSt:null!=(i=jc(v,(function(t){return t.trackId===f.cSt.MA})))?i:void 0,lSt:null!=(r=jc(v,(function(t){return t.trackId===f.lSt.MA})))?r:void 0}:void 0;if(d&&(f.cSt.rT=null==(e=d.cSt)?void 0:e.defaultSampleDuration,f.lSt.rT=null==(u=d.lSt)?void 0:u.defaultSampleDuration),!a||!h)return{cSt:a?t:void 0,lSt:h?t:void 0,WE:f};var l=Rj(s),_=Rj(s),g=s.boxes.indexOf(o);l.boxes[g]=Dj(o,h),_.boxes[g]=Dj(o,a);var w=l.serialize().join(),y=_.serialize().join();return{cSt:w,lSt:y,WE:f}}(t.SEt.Ny.Ny);if(this.$Lt=s.WE,s.lSt){var o=jc(r.Z,(function(t){return t.MA===s.WE.lSt.MA})),c={Iw:"kDt",Ny:{Iw:yC.xX,Ny:s.lSt},rot:py.vl,IEt:t.IEt,EDt:{bet:'video/mp4; codecs="'+o.HK+'"',pEt:t.pEt},PS:t.PS,zTt:t.zTt,GRt:t.SEt.GRt};this.Fxt(c)}if(s.cSt){var a=jc(r.Z,(function(t){return t.MA===s.WE.cSt.MA})),h={Iw:"kDt",Ny:{Iw:yC.xX,Ny:s.cSt},rot:py.yy,IEt:t.IEt,EDt:{bet:'audio/mp4; codecs="'+a.VK+'"',pEt:t.pEt},PS:t.PS,zTt:t.zTt,GRt:t.SEt.GRt};this.Fxt(h)}return $.resolve()},i.mDt=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c,a,h,f,v,d,l,_,g,w,y,m,p,k,A,b,T,S;return Uo(this,(function(E){switch(E.label){case 0:if(ba(n),r=t.wnt.GRt,VW.zA(Lj,"Transmuxing fMP4: "+AG(r.Nit)),e=t.wnt.Ny,u=xj(e.Ny,i.Gj),void 0!==(s=aa(u.map((function(t){return t.w6})),Bm))&&(r.m6=s,i.bDt(t.zTt)),i.LPt._Pt(t.IEt))return[3,2];if(o=Om.fE(r.PS),u.length>0){for(c=aa(u.map((function(t){return t.tOt})),Bm),a=0,h=i.uDt;a<h.length;a++)f=h[a],i.LPt.SPt(t.IEt,f,c,o,!1);i.bDt(t.zTt)}return i.LPt._Pt(t.IEt)?[3,2]:[4,Ea(i.LPt.vPt(t.IEt),n)];case 1:E.sent(),E.label=2;case 2:return v=i.LPt.yPt(t.IEt),d=r.m6?i.LPt.APt(r.m6,r).hk():r.PS,l=SY(r,d),_=EY(r,l),w={Yxt:l,Zxt:_,PS:d,ct:null!=(g=r.ct)?g:0,NE:v.hk(),IEt:t.IEt,zTt:t.zTt,GRt:t.wnt.GRt},y=function(t,n){if(void 0===n.cSt.MA)return{cSt:void 0,lSt:t};if(void 0===n.lSt.MA)return{cSt:t,lSt:void 0};for(var i=nl(t),r=Rj(i),e=Rj(i),u=0;u<i.boxes.length;u++){var s=i.boxes[u];HC(s)&&(r.boxes[u]=Pj(s,n.lSt.MA),e.boxes[u]=Pj(s,n.cSt.MA))}var o=r.serialize().join(),c=e.serialize().join();return{cSt:o,lSt:c}}(e.Ny,i.$Lt),y.lSt&&(p=i.$Lt.lSt.MA,k=jc(i.Gj.Z,(function(t){return t.MA===p})),A=jc(u,(function(t){return t.MA===p})),b=i.eOt(y.lSt,k,A,null==(m=i.$Lt)?void 0:m.lSt.rT,r),i.iOt=k,i.ADt(t.zTt,r,A.w6.Ak(s)),T=xo({Iw:"wnt",Ny:{Iw:yC.xX,Ny:b},rot:py.vl},w),i.Fxt(T)),y.cSt&&(S=xo({Iw:"wnt",Ny:{Iw:yC.xX,Ny:y.cSt},rot:py.yy},w),i.Fxt(S)),i.sOt=r,i.nOt=u,[2]}}))}))()},i.eOt=function(t,n,i,r,e){if(!function(t){return Rq(t)?t.TEt:0===t.iIt&&t.tIt.TEt}(e))return t;if(!this.sOt||!this.iOt||!this.nOt)return t;var u=this.iOt.MA,s=jc(this.nOt,(function(t){return t.MA===u})),o=this.LPt.APt(s.rOt,this.sOt),c=this.LPt.APt(i.w6,e).Ak(o).aE(n.IA);if(c._k(Om.Rk))return t;if(c.ck(Om.fE(.5)))return t;var a=Rq(e)?e:e.tIt;return VW.ySt(Lj,"Stretching first video frame of segment #"+a.rEt+" to fill gap of "+c.hk()+"s"),function(t,n,i,r){var e=nl(t),u=jc(e.boxes,HC);if(u){for(var s=u.getSize(),o=0,c=u.boxes;o<c.length;o++){var a=c[o];a instanceof Dd&&Bj(a,n,i,r)}var h=u.getSize();if(h!==s)for(var f=h-s,v=0,d=u.boxes;v<d.length;v++){var l=d[v];l instanceof Dd&&WC(l,f)}}return e.serialize().join()}(t,n.IA,c,r)},n}(TY);function xj(t,n){var i=Pp(Fp.uA(vf(t)),Hm.Yp);if(!i)throw new f("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=function(t,i){var e=i[t];if(!e.vT||0===e.gT.length||0===e.gT[0].bT.length)return"continue";for(var u=e.eA.MA,s=jc(n.Z,(function(t){return t.MA===u})),o=0,c=1/0,a=0,h=e.eA.rT||0,f=0,v=e.gT;f<v.length;f++)for(var d=0,l=v[f].bT;d<l.length;d++){var _,g=l[d],w=g.TT||0,y=o+w,m=(o+=null!=(_=g.ct)?_:h)+w;y<c&&(c=y),m>a&&(a=m)}var p=Om.Ek(e.vT.vT,s.IA);r.push({MA:u,tOt:p,w6:p.fS(Om.Ik(c,s.IA)),hOt:p.fS(Om.Ik(o,s.IA)),rOt:p.fS(Om.Ik(a,s.IA))})},r=[],e=0,u=t.Z;e<u.length;e++)i(e,u);return r}(i,n)}var Uj,Fj="MpegtsTransmuxer",Hj=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,r,e)||this).dOt=void 0,u._Ot=void 0,u.vOt=void 0,u.mOt=void 0,u.gOt=0,u.wOt=0,u.cOt=Xo(),u.h7=n,u}vr(n,t);var i=n.prototype;return i.vDt=function(n,i){return t.prototype.vDt.call(this,n,i)},i.fDt=function(n,i){if(t.prototype.fDt.call(this,n,i),!this.h7.oOt()){var r,e=null!=(r=null==i?void 0:i.Nit)?r:n.Nit;if(e)/\.(ts|aac|mp3)/i.test(e.kT)&&this.h7.aOt()}},i.uOt=function(t){var n;return this.cOt.has(t.IEt)?n=this.cOt.get(t.IEt):(n=qY(t.wnt.Ny.Ny),this.cOt.set(t.IEt,n)),n},i.mDt=function(n,i){var r=this;return Mo((function(){var e,u,s,o,c,a,h,f,v,d,l,_,g,w,y,m,p,k,A,b,T,S,E,I,R,N,C,D,P,O,B,L,M;return Uo(this,(function(x){switch(x.label){case 0:if(ba(i),e=r.uOt(n),u=n.wnt,e!==HY.eNt&&e!==HY.iNt)return[2,t.prototype.mDt.call(r,n,i)];if(u.GRt.pEt.some(Xj))throw new Dl(Rl.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");return s=r.h7.aOt(),e!==HY.eNt?[3,2]:(VW.zA(Fj,"Transmuxing MPEG-TS: "+AG(u.GRt.Nit)),[4,s.lOt({data:u.Ny.Ny,metadata:r.dOt})]);case 1:return o=x.sent(),[3,4];case 2:return VW.zA(Fj,"Transmuxing raw audio: "+AG(u.GRt.Nit)),[4,s.fOt({data:u.Ny.Ny,metadata:r.dOt})];case 3:o=x.sent(),x.label=4;case 4:if(ba(i),r.pDt(n.zTt,{cSt:o.metadata.audio_codec,lSt:o.metadata.video_codec,Dkt:void 0}),o.metadata.video_frame_rate&&r.yDt(n.zTt,o.metadata.video_frame_rate),c=zj(o.metadata.first_decode_timestamp),a=zj(o.metadata.first_presentation_timestamp),h=void 0!==o.metadata.first_video_presentation_timestamp?zj(o.metadata.first_video_presentation_timestamp):void 0,u.GRt.m6=a,r.bDt(n.zTt),void 0!==h&&r.ADt(n.zTt,u.GRt,function(t,n){var i=t.Ak(n);return i.vk(Om.Rk)&&(i=i.fS(Um())),i}(h,a)),r.LPt._Pt(n.IEt))return[3,6];for(f=Om.fE(u.GRt.PS),v=0,d=r.uDt;v<d.length;v++)l=d[v],r.LPt.SPt(n.IEt,l,c,f,!0);return r.bDt(n.zTt),r.LPt._Pt(n.IEt)?[3,6]:[4,Ea(r.LPt.vPt(n.IEt),i)];case 5:x.sent(),x.label=6;case 6:if(_=r.LPt.TPt(c,u.GRt),r.dOt=o.metadata,g=r.LPt.APt(a,u.GRt).hk(),w=SY(u.GRt,g),y=EY(u.GRt,w),p={Yxt:w,Zxt:y,PS:g,ct:null!=(m=u.GRt.ct)?m:0,NE:_.hk(),IEt:n.IEt,zTt:n.zTt,GRt:u.GRt},void 0===o.data.audio_media&&void 0===o.data.video_media){for(k=0,A=r.uDt;k<A.length;k++)b=A[k],T=xo({Iw:"wnt",Ny:void 0,rot:b},p),r.Fxt(T);return[2]}return S=[],void 0!==o.data.audio_media?(!o.data.audio_init||r._Ot&&r.gOt===n.IEt&&hh(r._Ot,o.data.audio_init)||(E=r.LPt.APt(u.GRt.m6,u.GRt).hk(),I={Iw:"kDt",Ny:{Iw:yC.xX,Ny:o.data.audio_init},rot:py.yy,IEt:n.IEt,EDt:{bet:'audio/mp4; codecs="'+o.metadata.audio_codec+'"',pEt:u.GRt.pEt},PS:E,zTt:n.zTt,GRt:u.GRt},r._Ot=o.data.audio_init,r.gOt=n.IEt,r.Fxt(I)),R=xo({Iw:"wnt",Ny:{Iw:yC.xX,Ny:o.data.audio_media},rot:py.yy},p),r.Fxt(R)):n.wnt.GRt.JEt&&ia(r.uDt,py.yy)&&(N=xo({Iw:"wnt",Ny:void 0,rot:py.yy},p),r.Fxt(N)),void 0!==o.data.video_media?(!o.data.video_init||r.vOt&&r.wOt===n.IEt&&hh(r.vOt,o.data.video_init)||(C=r.LPt.APt(u.GRt.m6,u.GRt).hk(),D={Iw:"kDt",Ny:{Iw:yC.xX,Ny:o.data.video_init},rot:py.vl,IEt:n.IEt,EDt:{bet:'video/mp4; codecs="'+o.metadata.video_codec+'"',pEt:u.GRt.pEt},PS:C,zTt:n.zTt,GRt:u.GRt},r.vOt=o.data.video_init,r.wOt=n.IEt,r.mOt=mD(vf(o.data.video_init)),r.Fxt(D)),P=r.mOt.Z[0],O=xj(o.data.video_media,r.mOt)[0],B=r.eOt(o.data.video_media,P,O,void 0,u.GRt),r.iOt=P,L=xo({Iw:"wnt",Ny:{Iw:yC.xX,Ny:B},rot:py.vl},p),r.Fxt(L),S.push(O)):n.wnt.GRt.JEt&&ia(r.uDt,py.vl)&&(M=xo({Iw:"wnt",Ny:void 0,rot:py.vl},p),r.Fxt(M)),r.sOt=u.GRt,r.nOt=S,[2]}}))}))()},i.Jl=function(){this._Ot=void 0,this.vOt=void 0,t.prototype.Jl.call(this)},n}(Mj),Vj=function(){function t(){}return t.prototype.Nat=function(t,n,i){return new Hj(this,t,n,i)},t}();function Xj(t){return t.iP===_G.Bkt}function zj(t){return Om.Ek(Ee.fromBits(t.low,t.high),t.base)}!function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(Uj||(Uj={}));var Wj=function(){var t=function(){if("undefined"==typeof WebAssembly)return!1;var t=Ir.aR;if(t>0&&t<=56)return!1;try{return void 0!==new WebAssembly.Module(ih("AGFzbQEAAAA="))}catch(t){return!1}}();return Wj=function(){return t},t};var Gj=function(){function t(t){var n=this;this.qLt=0,this.jLt=Xo(),this.WLt=function(t){var i=t.data;if(void 0!==i.requestId){var r=n.jLt.get(i.requestId);if(!r)return;n.jLt.delete(i.requestId),i.success?r.Lf(i.output):r.BC(new Dl(i.errorCode,i.error))}else i.success||n.Ou(new Dl(i.errorCode,i.error))},this.q9=function(t){var i=new Dl(Rl.MEDIA_DECODE_ERROR,t.error.message,t.error);n.Ou(i)},this.VLt=t;var i=Wj()?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.HLt=tr.Fm(i,t)}catch(t){throw new Dl(Rl.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.pLt=this.ULt()}var n=t.prototype;return n.lOt=function(t){return this.pOt(Uj.MPEGTS_TO_FMP4,t)},n.fOt=function(t){return this.pOt(Uj.RAW_AUDIO_TO_FMP4,t)},n.ULt=function(){var t=mj(this.HLt,this.VLt,{name:"THEOplayer transmux worker"});return t.wn("message",this.WLt),t.wn("error",this.q9),t},n.pOt=function(t,n){var i=++this.qLt,r={type:t,id:i,input:n},e=new kf;return this.jLt.set(i,e),this.pLt.mLt(r),e.jf},n.Ou=function(t){void 0===t&&(t=new ka),this.jLt.forEach((function(n){return n.BC(t)})),this.jLt.clear(),this.pLt.bLt()},t}(),qj=function(t){function n(n){var i;return(i=t.call(this)||this).yOt=n,i.pLt=void 0,i}vr(n,t);var i=n.prototype;return i.oOt=function(){return void 0!==this.pLt},i.aOt=function(){var t;return null!=(t=this.pLt)?t:this.pLt=new Gj(this.yOt)},i.Ou=function(){this.pLt&&(this.pLt.Ou(),this.pLt=void 0)},n}(Vj),Yj=function(){function t(t){this.yOt=t}return t.prototype.y6=function(){return new qj(this.yOt)},t}(),jj=function(t){function n(n,i,r,e,u,s,o){var c;return c=t.call(this,n,i,r,e,u,s,o)||this,Ir.MR&&(c.rbt=new nW(Uc(c))),c}vr(n,t);var i=n.prototype;return i.rv=function(){if(nx(this.KO))return this.KO.rv()},i.bn=function(){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return[4,t.prototype.bn.call(n)];case 1:return r.sent(),null==(i=n.rbt)||i.bn(),[2]}}))}))()},hr(n,[{key:"tv",get:function(){return!1},set:function(t){}}]),n}(nj),Qj=function(t){function n(n,i,r,e,u,s,o){var c,a=new tW(n),h=a.MM(py.vl);return(c=t.call(this,h,i,r,e,u,s,o)||this).bM=a,c}return vr(n,t),n.prototype.bn=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,t.prototype.bn.call(n)];case 1:return i.sent(),[4,n.bM.AM(n.KO)];case 2:return i.sent(),[2]}}))}))()},n}(jj),Kj=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.FM=function(n,i){var r=this;return Mo((function(){return Uo(this,(function(e){return Ao(n.useManagedMediaSource)&&(n.useManagedMediaSource||!Ir.KP&&!Ir.sC)?i.manifestMetadataTrack?[2,!1]:[2,t.prototype.FM.call(r,n,i)]:[2,!1]}))}))()},i.j7=function(n){var i=this;return Mo((function(){return Uo(this,(function(r){return n.clearkey&&Ir.MR?[2,!1]:[2,t.prototype.j7.call(i,n)]}))}))()},n}(ij),Zj=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).HM=CT.zm,n}vr(n,t);var i=n.prototype;return i.lp=function(t,n,i,r,e,u){return new Qj(n,i,e,function(t){return fj.EN()?new fj:new Ej(t)}(r.libraryLocation),new Yj(r.libraryLocation),new FM(tx.lC.ptt,tx.lC.wtt,tx.lC.mtt,tx.lC.Att),r)},i.UM=function(){return!0},n}(Kj);zE(new Zj),VW.Rt=function(){return Boolean(null==r?void 0:r.THEOplayerDebugLogsEnabled)};var Jj=function(){function t(){}var n=t.prototype;return n.ttt=function(t,n){return $.resolve(!1)},n.itt=function(t,n){return $.resolve(void 0)},n.Y7=function(t){return $.resolve(void 0)},n.sX=function(t){return $.resolve(void 0)},t}(),$j=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).bOt=void 0,e.ROt=void 0,e.SOt=void 0,e.COt=function(){e.To(new HU)},e.cut=n,e.Dct=new Hq(r,new Jj,n.useCredentials,n.src),e.Dct.wn($l.lm,e.Os),e.L$=!1,e}vr(n,t);var i=n.prototype;return i.AOt=function(){var t;return null==(t=this.bOt)?void 0:t.PTt},i.Tn=function(t){var n=this;Da(EE((function(){return n.TOt(t)}),t))},i.TOt=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.Dct.sRt(t)];case 1:return i.sent(),n.SOt&&(n.kOt(n.SOt.Ti,n.SOt.Ci),n.SOt=void 0),n.L$=!0,[2]}}))}))()},i.EOt=function(t,n){this.L$?this.kOt(t,n):this.SOt={Ti:t,Ci:n}},i.kOt=function(t,n){var i=this.IOt(t,n),r=null==i?void 0:i.kSt[0];r!==this.bOt&&(this.POt(),void 0!==r&&(this.bOt=r,this.ROt=new Jq(this.Dct,r),this.ROt.oCt()))},i.POt=function(){this.bOt=void 0,this.ROt&&(this.ROt.Ou(),this.ROt=void 0)},i.IOt=function(t,n){var i=jc(this.Dct.Ar.TSt,(function(i){return void 0!==i._St&&i._St.Ti===t&&i._St.Ci===n}));return null!=i?i:this.Dct.Ar.TSt[0]},i.bn=function(){this.Lo(),this.POt(),this.Dct.Ou()},n}(Ua),tQ=function(t){function n(n){var i;(i=t.call(this)||this).v0=n;for(var r=0;r<YE.length;r++){var e=YE[r];i.v0.wn(e,i.Os)}return i}vr(n,t);var i=n.prototype;return i.fv=function(){return this.v0.fv()},i.ev=function(){return this.v0.ev()},i.rv=function(){return this.v0.rv()},i.ke=function(){return this.v0.ke()},i.wv=function(){return this.v0.wv()},i.mv=function(){return this.v0.mv()},i.jl=function(){return this.v0.jl()},i.dl=function(){return this.v0.dl()},i.ir=function(){return this.v0.ir()},i.ba=function(t,n,i){return this.v0.ba(t,n,i)},i.be=function(){return this.v0.be()},i._v=function(){return this.v0._v()},i.vv=function(){return this.v0.vv()},i.bn=function(){this.Lo();for(var t=0;t<YE.length;t++){var n=YE[t];this.v0.pn(n,this.Os)}return this.v0.bn()},hr(n,[{key:"ht",get:function(){return this.v0.ht}},{key:"bl",get:function(){return this.v0.bl}},{key:"qu",get:function(){return this.v0.qu},set:function(t){this.v0.qu=t}},{key:"Wu",get:function(){return this.v0.Wu},set:function(t){this.v0.Wu=t}},{key:"ct",get:function(){return this.v0.ct}},{key:"Ic",get:function(){return this.v0.Ic}},{key:"Ec",get:function(){return this.v0.Ec}},{key:"Tg",get:function(){return this.v0.Tg}},{key:"lt",get:function(){return this.v0.lt}},{key:"Eg",get:function(){return this.v0.Eg}},{key:"Pg",get:function(){return this.v0.Pg}},{key:"Xu",get:function(){return this.v0.Xu},set:function(t){this.v0.Xu=t}},{key:"Dg",get:function(){return this.v0.Dg}},{key:"Dc",get:function(){return this.v0.Dc}},{key:"$u",get:function(){return this.v0.$u},set:function(t){this.v0.$u=t}},{key:"wl",get:function(){return this.v0.wl}},{key:"Mg",get:function(){return this.v0.Mg},set:function(t){this.v0.Mg=t}},{key:"Nc",get:function(){return this.v0.Nc}},{key:"kl",get:function(){return this.v0.kl}},{key:"Fc",get:function(){return this.v0.Fc}},{key:"eM",get:function(){return this.v0.eM}},{key:"nt",get:function(){return this.v0.nt}},{key:"Xg",get:function(){return this.v0.Xg}},{key:"rt",get:function(){return this.v0.rt}},{key:"Kg",get:function(){return this.v0.Kg}},{key:"_l",get:function(){return this.v0._l},set:function(t){this.v0._l=t}},{key:"Jg",get:function(){return this.v0.Jg}},{key:"tv",get:function(){return this.v0.tv},set:function(t){this.v0.tv=t}},{key:"sM",get:function(){return this.v0.sM}}]),n}(Ha),nQ=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).xOt=void 0,e.NOt=!1,e.SRt=void 0,e.handleManifestUpdate=function(){var t=e.xOt.AOt();if(t){var n=e.eM;if(n){var i=n.getTime(),r=e.SRt;r||(r=new gq,e.SRt=r),r.Kn(t.PEt,(function(t){return(t.getTime()-i)/1e3})),!e.NOt&&r.L.U>0&&(e.nt.tt(r),e._1.tt(r),e.NOt=!0)}}},e.dLt=function(){e.xOt&&e.xOt.EOt(e.Kg,e.Xg)},e.DOt=i,e.eX=r,e._1=new SO(Uc(e)),e.wn($l.vm,e.dLt),e}vr(n,t);var i=n.prototype;return i.ba=function(n,i,r){var e=this;return Mo((function(){return Uo(this,(function(u){switch(u.label){case 0:return[4,t.prototype.ba.call(e,n,i,r)];case 1:return u.sent(),n.hlsDateRange&&e.Pit(n,i,r),[2]}}))}))()},i.Pit=function(t,n,i){this.xOt=new $j(t,n,this.DOt),this.xOt.wn($l.lm,this.handleManifestUpdate),this.xOt.Tn(i)},i.ir=function(){return this.SRt&&(this.nt.it(this.SRt),this._1.it(this.SRt),this.SRt.bn(),this.SRt=void 0,this.NOt=!1),this.xOt&&(this.xOt.bn(),this.xOt=void 0),this._1.ir(),t.prototype.ir.call(this)},i.bn=function(){return this.pn($l.vm,this.dLt),this.xOt&&(this.xOt.bn(),this.xOt=void 0),this._1.bn(),t.prototype.bn.call(this)},n}(tQ);!function(t){HE.VM().WM(t)}((function(t,n,i){return new nQ(t,n,i)}));var iQ,rQ=function(t){function n(n,i){var r;return void 0===i&&(i=""),(r=t.call(this,"An error occurred while casting.")||this).errorCode=n,r.description=i,r}return vr(n,t),hr(n,[{key:"name",get:function(){return"CastError"}}]),n}(ya),eQ="//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js";function uQ(){return iQ||(iQ=function(){return sQ.apply(this,arguments)}().catch((function(){throw new rQ("API_NOT_INITIALIZED","The Chromecast library could not be loaded successfully.")}))),iQ}function sQ(){return sQ=Mo((function(){return Uo(this,(function(t){switch(t.label){case 0:return hQ()?[3,2]:[4,oQ()];case 1:t.sent(),t.label=2;case 2:return aQ()?[3,4]:[4,Ba(100)];case 3:t.sent(),t.label=4;case 4:return aQ()?[3,6]:(tr.Um('Detected the Chromecast library was loaded without the CAF framework. It is strongly encouraged to load it with the CAF framework by using this URL: "//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"'),[4,uo(eQ)]);case 5:t.sent(),t.label=6;case 6:return[2]}}))})),sQ.apply(this,arguments)}function oQ(){return cQ.apply(this,arguments)}function cQ(){return cQ=Mo((function(){var t,n;return Uo(this,(function(i){return t=new kf,n=r.__onGCastApiAvailable,r.__onGCastApiAvailable=function(i,e){i?t.Lf():t.BC(new f(e)),r.__onGCastApiAvailable=n,n&&n(i,e)},[2,t.jf]}))})),cQ.apply(this,arguments)}function aQ(){return Boolean("undefined"!=typeof cast&&cast.framework)}function hQ(){return"undefined"!=typeof chrome&&chrome&&chrome.cast&&chrome.cast.isAvailable}function fQ(t,n,i,r){if(Cr(n))for(var e=0,u=d.keys(n);e<u.length;e++){var s=u[e];if("type"!==s&&"images"!==s){var o=n[s];Cr(o)&&(t[s]=o)}}!function(t,n,i,r){if(!Cr(i)&&!Cr(null==n?void 0:n.images))return;t.images=[],i&&t.images.push(new r.Image(i));if(null==n?void 0:n.images)if(Mr(n.images))t.images.push(new r.Image(n.images));else if(Pr(n.images))for(var e=0,u=n.images;e<u.length;e++){var s,o,c=u[e],a=void 0;if(Mr(c))a=new r.Image(c);else(a=new r.Image(c.src)).height=null!=(s=c.height)?s:null,a.width=null!=(o=c.width)?o:null;t.images.push(a)}}(t,n,i,r)}function vQ(t,n,i){return void 0===i&&(i=chrome),function(t,n,i){switch(null==t?void 0:t.type){case"movie":var r=new i.MovieMediaMetadata;return fQ(r,t,n,i),r;case"audio":var e=new i.MusicTrackMediaMetadata;return fQ(e,t,n,i),!Cr(e.artist)&&Cr(t.artistName)&&(e.artist=t.artistName),e;case"tv-show":var u=new i.TvShowMediaMetadata;return fQ(u,t,n,i),!Cr(u.title)&&Cr(t.episodeTitle)&&(u.title=t.episodeTitle),!Cr(u.season)&&Cr(t.seasonNumber)&&(u.season=t.seasonNumber),!Cr(u.episode)&&Cr(t.episodeNumber)&&(u.episode=t.episodeNumber),u;default:var s=new i.GenericMediaMetadata;return fQ(s,t,n,i),s}}(t,n,function(t){return{GenericMediaMetadata:t.cast.media.GenericMediaMetadata,MovieMediaMetadata:t.cast.media.MovieMediaMetadata,TvShowMediaMetadata:t.cast.media.TvShowMediaMetadata,MusicTrackMediaMetadata:t.cast.media.MusicTrackMediaMetadata,Image:t.cast.Image}}(i))}function dQ(t){switch(t){case chrome.cast.ErrorCode.CANCEL:return"CANCEL";case chrome.cast.ErrorCode.TIMEOUT:return"TIMEOUT";case chrome.cast.ErrorCode.API_NOT_INITIALIZED:return"API_NOT_INITIALIZED";case chrome.cast.ErrorCode.INVALID_PARAMETER:return"INVALID_PARAMETER";case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:return"EXTENSION_NOT_COMPATIBLE";case chrome.cast.ErrorCode.EXTENSION_MISSING:return"EXTENSION_MISSING";case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:return"RECEIVER_UNAVAILABLE";case chrome.cast.ErrorCode.SESSION_ERROR:return"SESSION_ERROR";case chrome.cast.ErrorCode.CHANNEL_ERROR:return"CHANNEL_ERROR";case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:return"LOAD_MEDIA_FAILED";default:return"CANCEL"}}function lQ(t){if(t.items&&t.items.length>0&&t.currentItemId>=0)return jc(t.items,(function(n){return n.itemId===t.currentItemId}))}var _Q,gQ="urn:x-cast:com.theoplayer.cast";!function(t){t.BOt="theoplayer_receiver_info",t.LOt="theoplayer_trackpropertychange",t.OOt="theoplayer_propertychange"}(_Q||(_Q={}));var wQ;!function(t){t.SKIP_AD="SKIP_AD"}(wQ||(wQ={}));function yQ(t){e.createElement("img").src=t}var mQ=new RegExp(/^(\d\d):(\d\d):(\d\d)(?:\.(\d{3}))?$/);function pQ(t){if(Mr(t)){var n=t.match(mQ);if(n)return 3600*_(n[1],10)+60*_(n[2],10)+Number(n[3])+(Number(n[4])||0)/1e3}}function kQ(t){if(void 0!==t){var n=t.match(/^([1-9]?\d|100)%$/);if(n)return _(n[1])/100}}function AQ(t,n){return"vmap"===t.type||!Cr(t.type)&&!Cr(n)}function bQ(t,n){return"vast"===t.type||!Cr(t.type)&&Cr(n)}var TQ,SQ=function(){},EQ=function(t){function n(n){var i;return(i=t.call(this)||this)._8=n.sort((function(t,n){return t.lT-n.lT})),i}return vr(n,t),n.prototype.FOt=function(){return null!=this.UOt||(this.UOt=sa(this._8,(function(t){return t.FOt()}))),this.UOt},hr(n,[{key:"MOt",get:function(){return this._8}}]),n}(SQ),IQ=function(t){function n(n,i){var r;return(r=t.call(this)||this).HOt=n,r.VOt=i,r.qOt=!1,r}return vr(n,t),hr(n,[{key:"o",get:function(){return this.HOt}},{key:"lT",get:function(){return this.VOt}},{key:"WOt",get:function(){return this.qOt}}]),n}(SQ),RQ=function(t){function n(n,i,r,e,u,s,o){var c;return(c=t.call(this,n,i)||this).QOt=r,c.jOt=e,c.ZOt=u,c.XOt=s,c.ZO=o,c}return vr(n,t),n.prototype.FOt=function(){if(void 0===this.JOt){for(var t,n,i,r=[],e=0,u=this.XOt;e<u.length;e++){var s=u[e];s.$Ot&&(t=s.$Ot),s.tMt&&(n=s.tMt),s.eMt&&(i=s.eMt),r=r.concat(s.universalAdIds)}this.JOt={YOt:this.YOt,$Ot:t,iMt:n,eMt:i,lt:this.lt,sMt:r}}return[this.JOt]},hr(n,[{key:"zOt",get:function(){return this.XOt}},{key:"GOt",get:function(){return this.QOt}},{key:"KOt",get:function(){return this.jOt}},{key:"YOt",get:function(){return this.ZOt}},{key:"lt",get:function(){return this.ZO}}]),n}(IQ),NQ=function(){function t(t,n){this.rMt=t,this.oMt=n}return hr(t,[{key:"nMt",get:function(){return this.rMt}},{key:"hMt",get:function(){return this.oMt}}]),t}(),CQ=function(){function t(t,n,i,r,e,u){this.uMt=t,this.lMt=n,this.fMt=i,this.gMt=r,this.yMt=!1,this.mMt=e,this.QOt=u}return t.prototype.AMt=function(){this.yMt=!0},hr(t,[{key:"aMt",get:function(){return this.uMt}},{key:"cMt",get:function(){return this.lMt}},{key:"dMt",get:function(){return this.fMt}},{key:"_Mt",get:function(){return this.gMt}},{key:"n8",get:function(){return this.vMt},set:function(t){this.vMt=t}},{key:"wMt",get:function(){return this.mMt}},{key:"pMt",get:function(){return this.yMt}},{key:"GOt",get:function(){return this.QOt}}]),t}();!function(t){t.bMt="all",t.TMt="any",t.$M="none"}(TQ||(TQ={}));var DQ,PQ=function(){function t(t,n){this.kMt=t,this.IMt=n}return hr(t,[{key:"SMt",get:function(){return this.kMt}},{key:"EMt",get:function(){return this.IMt}}]),t}(),OQ=function(){function t(t,n,i,r,e,u,s,o,c,a,h,f,v,d,l,_){this.oc=t,this.uc=n,this.wS=i,this.RMt=r,this.xMt=e,this.NMt=u,this.LMt=s,this.MMt=o,this.UMt=c,this.VMt=a,this.uMt=h,this.lMt=f,this.fMt=v,this.qMt=d,this.zMt=l,this.GMt=_}return hr(t,[{key:"o",get:function(){return this.wS}},{key:"Ti",get:function(){return this.oc}},{key:"Ci",get:function(){return this.uc}},{key:"PMt",get:function(){return this.RMt}},{key:"CMt",get:function(){return this.xMt}},{key:"DMt",get:function(){return this.NMt}},{key:"BMt",get:function(){return this.LMt}},{key:"OMt",get:function(){return this.MMt}},{key:"FMt",get:function(){return this.UMt}},{key:"HMt",get:function(){return this.VMt}},{key:"aMt",get:function(){return this.uMt}},{key:"cMt",get:function(){return this.lMt}},{key:"dMt",get:function(){return this.fMt}},{key:"WMt",get:function(){return this.qMt}},{key:"hMt",get:function(){return this.zMt}},{key:"XMt",get:function(){return this.GMt}}]),t}(),BQ=function(){function t(t,n){this.wS=t,this.rIt=n}return hr(t,[{key:"id",get:function(){return this.wS}},{key:"uri",get:function(){return this.rIt}}]),t}(),LQ=function(){function t(t,n,i,r){this.KMt=t,this.YMt=n,this.JMt=i,this.tFt=r}return hr(t,[{key:"QMt",get:function(){return this.KMt}},{key:"jMt",get:function(){return this.YMt}},{key:"ZMt",get:function(){return this.JMt}},{key:"$Mt",get:function(){return this.tFt}}]),t}(),MQ=function(t){function n(n,i,r,e,u,s,o,c,a){var h;return(h=t.call(this,n,i)||this).ZOt=r,h.iFt=e,h.nFt=u,h.XOt=s,h.hFt=o,h.aFt=c,h.ZO=a,h}vr(n,t);var i=n.prototype;return i.FOt=function(){var t=this;return void 0===this.iFt?[]:(null!=this.UOt||(this.UOt=this.iFt.FOt().map((function(n){return t.uFt(n)}))),this.UOt)},i.uFt=function(t){for(var n,i,r,e=0,u=this.zOt;e<u.length;e++){var s=u[e];s.$Ot&&(n=s.$Ot),s.tMt&&(i=s.tMt),s.eMt&&(r=s.eMt)}var o=t.YOt.concat(this.YOt),c=t.$Ot;if(n&&t.$Ot){var a=new LQ(t.$Ot.cFt.QMt,t.$Ot.cFt.jMt,t.$Ot.cFt.ZMt.concat(n.cFt.ZMt),t.$Ot.cFt.$Mt.concat(n.cFt.$Mt));(c=t.$Ot).cFt=a,c.hMt=c.hMt.concat(n.hMt)}var h=t.iMt;if(i&&i.nMt){for(var f,v,d=[],l=0,_=i.nMt;l<_.length;l++){var g=_[l];d.concat(g._Mt.ZMt)}for(var w,y,m=[],p=0,k=null!=(w=null==(f=t.iMt)?void 0:f.nMt)?w:[];p<k.length;p++){var A,b,T,S=k[p],E=new LQ(S._Mt.QMt,S._Mt.jMt,S._Mt.ZMt.concat(d),(null!=(b=null==(A=t.$Ot)?void 0:A.cFt.$Mt)?b:[]).concat(null!=(T=null==n?void 0:n.cFt.$Mt)?T:[]));m.push(new CQ(S.aMt,S.cMt,S.dMt,E,S.wMt,S.GOt))}h=new NQ(m,(null!=(y=null==(v=t.iMt)?void 0:v.hMt)?y:[]).concat(i.hMt))}var I=t.eMt;if(I){var R,N,C,D=I.SMt;r&&r.SMt&&(D=r.SMt),I=new PQ(D,(null!=(N=null==(R=t.eMt)?void 0:R.EMt)?N:[]).concat(null!=(C=null==r?void 0:r.EMt)?C:[]))}var P=t.lt;return this.lt&&(P=this.lt),{YOt:o,$Ot:c,iMt:h,eMt:I,lt:P,sMt:t.sMt}},hr(n,[{key:"YOt",get:function(){return this.ZOt}},{key:"eFt",get:function(){return this.iFt}},{key:"sFt",get:function(){return this.nFt}},{key:"zOt",get:function(){return this.XOt}},{key:"rFt",get:function(){return this.hFt}},{key:"oFt",get:function(){return this.aFt}},{key:"lt",get:function(){return this.ZO}}]),n}(IQ),xQ=function(){function t(t,n,i,r,e,u,s,o){this.wS=t,this.dFt=n,this._Ft=i,this.MMt=r,this.gFt=e,this.vFt=u,this.wFt=s,this.mFt=o}return hr(t,[{key:"o",get:function(){return this.wS}},{key:"lFt",get:function(){return this.dFt}},{key:"fFt",get:function(){return this._Ft}},{key:"OMt",get:function(){return this.MMt}},{key:"$Ot",get:function(){return this.gFt}},{key:"tMt",get:function(){return this.vFt}},{key:"eMt",get:function(){return this.wFt}},{key:"universalAdIds",get:function(){return this.mFt}}]),t}(),UQ=function(){function t(t,n,i,r,e,u,s){this.pFt=t,this.AFt=n,this.oMt=i,this.bFt=r,this.SFt=e,this.yMt=!1,this.mMt=u,this.QOt=s}return t.prototype.AMt=function(){this.yMt=!0},hr(t,[{key:"ct",get:function(){return this.pFt}},{key:"yFt",get:function(){return this.AFt}},{key:"hMt",get:function(){return this.oMt},set:function(t){this.oMt=t}},{key:"cFt",get:function(){return this.bFt},set:function(t){this.bFt=t}},{key:"TFt",get:function(){return this.SFt},set:function(t){this.SFt=t}},{key:"kFt",get:function(){return this.yMt}},{key:"n8",get:function(){return this.vMt},set:function(t){this.vMt=t}},{key:"wMt",get:function(){return this.mMt}},{key:"GOt",get:function(){return this.QOt}}]),t}();function FQ(t,n){return zQ(t)&&t.getAttribute(n)||void 0}function HQ(t,n){return VQ(t,n,void 0,!1)}function VQ(t,n,i,r){return n===(t.localName?t.localName:t.nodeName)&&(r&&i?i===t.namespaceURI:!i||!t.namespaceURI||i===t.namespaceURI)}function XQ(t,n){for(var i=[],r=0;r<t.childNodes.length;r+=1){var e=t.childNodes.item(r);zQ(e)&&HQ(e,n)&&i.push(e)}return i}function zQ(t){return t&&1===t.nodeType}function WQ(t,n){var i=(new DOMParser).parseFromString(t,n);if(!i||i.getElementsByTagName("parsererror").length>0)throw new f('Invalid document for MIME type "'+n+'"');return i}function GQ(t){return WQ(t,"text/xml")}function qQ(t){return t.replace(/[<>&'"]/g,(function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}}))}function YQ(t){return"data:application/xml,"+encodeURIComponent(t)}function jQ(t){switch(t){case"breakStart":case"breakEnd":case"error":return!0;default:return!1}}!function(t){t.EFt="mute",t.IFt="unmute",t.Ch="pause",t.PFt="resume",t.RFt="rewind",t.CFt="skip",t.xFt="playerExpand",t.DFt="playerCollapse",t.Ih="fullscreen",t.NFt="exitFullscreen",t.BFt="expand",t.COLLAPSE="collapse",t.Yot="start",t.LFt="firstQuartile",t.OFt="thirdQuartile",t.MFt="midpoint",t.FFt="complete",t.UFt="acceptInvitationLinear",t.HFt="acceptInvitation",t.VFt="timeSpentViewing",t.WFt="otherAdInteraction",t.Rf="progress",t.qFt="creativeView",t.zFt="adExpand",t.XFt="adCollapse",t.GFt="minimize",t.QFt="close",t.KFt="closeLinear",t.jFt="overlayViewDuration",t.YFt="breakStart",t.ZFt="breakEnd",t.aa="error"}(DQ||(DQ={}));var QQ=["mute","unmute","pause","resume","rewind","skip","closeLinear","close","playerExpand","playerCollapse","fullscreen","exitFullscreen","expand","collapse","creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","acceptInvitationLinear","acceptInvitation","timeSpentViewing","otherAdInteraction","progress"];function KQ(t){return void 0!==t&&-1!==QQ.indexOf(t)}var ZQ=["start","firstQuartile","midpoint","thirdQuartile","complete","mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","expand","collapse","fullscreen","exitFullscreen","creativeView","acceptInvitation","adExpand","adCollapse","minimize","close","overlayViewDuration","otherAdInteraction","progress"];function JQ(t){return void 0!==t&&-1!==ZQ.indexOf(t)}var $Q=["mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","creativeView"];function tK(t){return void 0!==t&&-1!==$Q.indexOf(t)}function nK(t,n){if(void 0!==t&&""!==t&&void 0!==n){var i=t.match(/^(\d+):(\d+):(\d+)$/);return i?g(i[1]||"0")+60*g(i[2]||"0")+g(i[3]||"0"):(i=t.match(/^(100|[1-9]\d|\d)%$/))?g(i[1]||"0")*n/100:void 0}}var iK,rK,eK=function(){function t(t,n,i){this.$Ft=t,this.tUt=n,this.eUt=i}return hr(t,[{key:"JFt",get:function(){return this.$Ft}},{key:"Au",get:function(){return this.tUt}},{key:"eventURL",get:function(){return this.eUt}}]),t}(),uK=function(){function t(t){this.sUt=t}return hr(t,[{key:"iUt",get:function(){return this.sUt}}]),t}(),sK=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n)||this).rUt=i,u.KMt=r,u.GMt=e,u}return vr(n,t),hr(n,[{key:"QMt",get:function(){return this.KMt}},{key:"XMt",get:function(){return this.GMt}},{key:"nUt",get:function(){return this.rUt}}]),n}(uK),oK=function(t){function n(n){return t.call(this,n)}return vr(n,t),n}(uK),cK=function(t){function n(n){return t.call(this,n)}return vr(n,t),n}(uK),aK={hUt:{LC:100,pC:"XML parsing error."},oUt:{LC:303,pC:"Empty or invalid VAST error."},aUt:{LC:400,pC:"General linear error"},uUt:{LC:403,pC:"Unsupported MIME-type or missing mediafiles error"},cUt:{LC:500,pC:"General nonlinear error"},eH:{LC:900,pC:"Network error"}},hK=function(){function t(t){this.dUt=t}return t.prototype.fUt=function(t){if(this.lUt){var n=this.lUt.replace(/\[ERRORCODE]/,""+t.LC);yQ(n)}},hr(t,[{key:"lUt",get:function(){return this.dUt}}]),t}(),fK=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r||i&&vK[i]||n,e)||this).gUt=n,u.wUt=i,u.mUt=r,u}return vr(n,t),hr(n,[{key:"_Ut",get:function(){return this.gUt}},{key:"vUt",get:function(){var t;return null!=(t=this.wUt)?t:900}}]),n}(ya);!function(t){t.ADBLOCK="adblock",t.NETWORK="network",t.PARSING="parsing",t.PLAYBACK="playback",t.GENERAL="general"}(iK||(iK={})),function(t){t[t.VAST_MALFORMED_RESPONSE=100]="VAST_MALFORMED_RESPONSE",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION",t[t.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR",t[t.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY",t[t.VAST_UNEXPECTED_DURATION_ERROR=202]="VAST_UNEXPECTED_DURATION_ERROR",t[t.UNEXPECTED_SIZE=203]="UNEXPECTED_SIZE",t[t.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR",t[t.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT",t[t.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS",t[t.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.FILE_NOT_FOUND=401]="FILE_NOT_FOUND",t[t.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT",t[t.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH",t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE",t[t.MEZZANINE_FILE_REQUIRES=406]="MEZZANINE_FILE_REQUIRES",t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME=407]="MEZZANINE_FILE_DOWNLOADED_FIRST_TIME",t[t.AD_IN_VAST_REJECTED=408]="AD_IN_VAST_REJECTED",t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED=409]="INTERACTIVE_CREATIVE_NOT_EXECUTED",t[t.VERIFICATION_CODE_NOT_EXECUTED=410]="VERIFICATION_CODE_NOT_EXECUTED",t[t.GENERAL_NON_LINEAR_ERROR=500]="GENERAL_NON_LINEAR_ERROR",t[t.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR",t[t.OVERLAY_AD_LOADING_FAILED=502]="OVERLAY_AD_LOADING_FAILED",t[t.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH",t[t.GENERAL_COMPANION_AD_ERROR=600]="GENERAL_COMPANION_AD_ERROR",t[t.INVALID_DIMENSIONS_COMPANION_AD=601]="INVALID_DIMENSIONS_COMPANION_AD",t[t.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR",t[t.COMPANION_AD_LOADING_FAILED=603]="COMPANION_AD_LOADING_FAILED",t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION=604]="UNABLE_TO_FIND_SUPPORTED_COMPANION",t[t.UNKNOWN_ERROR=900]="UNKNOWN_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",t[t.MALFORMED_URI=1005]="MALFORMED_URI",t[t.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND",t[t.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE",t[t.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE",t[t.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE",t[t.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS",t[t.INVALID_ADX_EXTENSION=1105]="INVALID_ADX_EXTENSION",t[t.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED"}(rK||(rK={}));var vK={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. The video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General wrapper error.",301:"Timeout of VAST URI provided in wrapper element, or of VAST URI provided in a subsequent wrapper element. This includes request errors such as invalid URI, unreachable or request timeout for URI, and security or other exceptions related to requesting a VAST URI.",302:"Wrapper limit reached, as defined by the video player. Too many wrapper responses have been received with no InLine response. This can be caused by a circular loop of daisy chaining (one network bouncing to another and another).",303:"No ads VAST response after one or more wrappers. This also includes the number of empty VAST responses from fallback.",400:"General linear error. The video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Unable to download or timeout of MediaFile URI.",403:"Could not find a media file that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying a media file.",406:"A mezzanine file was required, but not provided.",407:"The mezzanine file was downloaded for the first time, so the ad did not serve. This can occur when an ad insertion is missed because the creative is being transcoded. It continues to occur until the creative is available for insertion.",408:"The ad returned in the VAST response was rejected.",409:"The interactive creative defined in the InteractiveCreativeFile node was not executed.",410:"The code referenced in the Verification node was not executed.",500:"General NonLinearAds error.",501:"Unable to display non-linear ad because creative dimensions do not align with creative display area (in other words, the creative dimension was too large). This can occur if you use CSS styles to set width and height of the video ,content element. You should instead use the width and height HTML attributes.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearResource with supported type. This can occur when a creative size is larger than the player size.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within the companion display area (in other words, space was not available).",602:"Unable to display required companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"VAST 2 error. Even if you request VAST 3 or your DFP network default is VAST 3, this can occur if you have a VAST redirect that returns a VAST 2 response.",901:"General VPAID error",1005:"URI malformed."};function dK(t){if(!t)return!1;switch(t.toLocaleLowerCase()){case NS.zm:case NS.Xm:case NS.qm:return!0;default:return!1}}function lK(t){var n=vo();return!!(dK(t)||t&&n&&(null==n?void 0:n.canPlayType)&&n.canPlayType(t))||(gK("Invalid or unsupported MediaFile Content delivery type, skipping mediafile"),!1)}function _K(t,n){for(var i=0;i<n.length;i++){var r=n[i];new hK(r).fUt(t)}}function gK(t){0}var wK,yK=function(){function t(t,n){this.yUt=t,this.bUt=n}return hr(t,[{key:"pUt",get:function(){return this.yUt}},{key:"AUt",get:function(){return this.bUt}}]),t}();!function(t){t.TUt="linear",t.SUt="nonlinear",t.kUt="companion",t.EUt="vmap"}(wK||(wK={}));var mK,pK=function(){function t(){}var n=t.prototype;return n.IUt=function(n,i){var r=this;return Mo((function(){var e,u,s,o;return Uo(this,(function(c){switch(c.label){case 0:return AQ(n.sources,n.timeOffset)?[4,t.PUt(n.sources.src,i)]:[3,7];case 1:if(e=c.sent(),!(u=e&&e.documentElement))throw new fK(iK.NETWORK,rK.VAST_SCHEMA_VALIDATION_ERROR,"Ad source is not a valid XML document.");return HQ(u,"VMAP")?[4,r.RUt(u,n,i)]:[3,3];case 2:return[2,c.sent()];case 3:return HQ(u,"VAST")?[4,r.CUt(u,i,!1)]:[3,5];case 4:return(s=c.sent())?(o=new EK("",!0,!0,s),[2,[new TK("start",o,mK.TUt,"",[],!1,!0,n)]]):[2,[]];case 5:throw new fK(iK.GENERAL,rK.VAST_MALFORMED_RESPONSE,"Only VMAP and VAST files are allowed as ad source.");case 6:return[3,8];case 7:if(bQ(n.sources,n.timeOffset))return[2,[new SK(String(n.timeOffset),n,i)]];throw new fK(iK.GENERAL,rK.VAST_MALFORMED_RESPONSE,"Something went wrong parsing the ad source; only VMAP and VAST files are allowed as ad source.");case 8:return[2]}}))}))()},n.xUt=function(n,i,r,e){void 0===e&&(e=[]);var u=this;return Mo((function(){var s,o,c;return Uo(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t.PUt(n,i)];case 1:return s=a.sent(),[3,3];case 2:throw o=a.sent(),_K(o instanceof fK&&o.vUt===rK.VAST_MALFORMED_RESPONSE?aK.oUt:aK.eH,e),o;case 3:return(c=s&&s.documentElement)&&HQ(c,"VAST")?[4,u.CUt(c,i,r,e)]:[3,5];case 4:return[2,a.sent()];case 5:return[2,void 0]}}))}))()},n.DUt=function(t,n,i,r){var e=this;return Mo((function(){var u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:if(!(null==(u=t.sources)?void 0:u.src))throw new fK(iK.GENERAL,rK.MALFORMED_URI,"Property src on adSource is missing.");return[4,e.xUt(t.sources.src,r,!1)];case 1:return s=a.sent(),o=new EK("",!0,!0,s),(c=new TK(n,o,mK.TUt,"",[],!1,!0,t)).NUt=i,[2,c]}}))}))()},n.CUt=function(t,n,i,r){void 0===r&&(r=[]);var e=this;return Mo((function(){var u,s,o,c,a,h,f,v,d,l,_,g;return Uo(this,(function(w){switch(w.label){case 0:if(u=[],s=[],o=[],!t||!HQ(t,"VAST")){if(i)throw _K(aK.oUt,r),new fK(iK.PARSING,rK.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");return[2,void 0]}if(0===XQ(t,"Ad").length)return[3,7];c=0,a=XQ(t,"Ad"),w.label=1;case 1:if(!(c<a.length))return[3,6];h=a[c],w.label=2;case 2:return w.trys.push([2,4,,5]),[4,e.BUt(h,n,r)];case 3:return 0===(f=w.sent()).lT?u.push(f):s.push(f),[3,5];case 4:return v=w.sent(),o.push(v),[3,5];case 5:return c++,[3,1];case 6:if(0===u.length&&0===s.length&&o.length>0)throw o[0];return 1===u.length&&0===s.length?[2,u[0]]:0===u.length&&0!==s.length?[2,new EQ(s)]:u.length>0||s.length>0?[2,new EQ(s.concat(u))]:[3,8];case 7:if(0!==XQ(t,"Error").length){for(d=0,l=XQ(t,"Error");d<l.length;d++)_=l[d],gK(aK.hUt.pC),(g=_.textContent)&&r.push(g),_K(aK.hUt,r);throw new fK(iK.GENERAL,rK.VAST_MALFORMED_RESPONSE,"The Ad Server responded with a VAST Error")}if(i)throw _K(aK.oUt,r),new fK(iK.PARSING,rK.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");return[2,void 0];case 8:return[2]}}))}))()},n.RUt=function(t,n,i){var r=this;return Mo((function(){var e,u,s,o,c,a;return Uo(this,(function(h){switch(h.label){case 0:e=[],u=XQ(t,"AdBreak"),s=0,h.label=1;case 1:if(!(s<u.length))return[3,6];o=u[s],h.label=2;case 2:return h.trys.push([2,4,,5]),[4,r.LUt(o,n,i)];case 3:return(c=h.sent())&&e.push(c),[3,5];case 4:return a=h.sent(),tr.v9(a),[3,5];case 5:return s++,[3,1];case 6:return[2,e]}}))}))()},n.BUt=function(n,i,r){var e=this;return Mo((function(){var u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:return u=FQ(n,"id")||"",(s=vx(FQ(n,"sequence")))||(s=0),o=XQ(n,"InLine"),0===(c=XQ(n,"Wrapper")).length?[3,2]:[4,e.OUt(c[0],u,s,i,r)];case 1:return[2,a.sent()];case 2:if(0!==o.length)return[2,t.MUt(o[0],u,s,r)];a.label=3;case 3:throw new fK(iK.PARSING,rK.VAST_SCHEMA_VALIDATION_ERROR,"An Ad tag without a Wrapper or inline element cannot be parsed")}}))}))()},n.OUt=function(n,i,r,e,u){var s=this;return Mo((function(){var o,c,a,h,f,v,d,l,_,g,w,y,m,p,k,A;return Uo(this,(function(b){switch(b.label){case 0:for(o=XQ(n,"Error")[0],c="",o&&o.textContent&&(c=o.textContent,u.push(c)),a=XQ(n,"AdSystem")[0],h="",a&&(h=a.textContent||h),f=[],v=0,d=XQ(n,"Impression");v<d.length;v++)(l=d[v]).textContent&&f.push(l.textContent);return _=XQ(n,"VASTAdTagURI")[0],g="",_&&_.textContent&&(g=_.textContent),[4,s.xUt(g,e,!0,u)];case 1:return w=b.sent(),y=XQ(n,"Creatives")[0],m=[],y&&(m=t.UUt(y,h,u)),(p=lx(FQ(n,"followAdditionalWrappers")))||(p=!0),(k=lx(FQ(n,"allowMultipleAds")))||(k=!0),(A=lx(FQ(n,"fallbackOnNoAd")))||(A=!1),[2,new MQ(i,r,f,w,p,m,k,A,new hK(c))]}}))}))()},n.LUt=function(n,i,r){var e=this;return Mo((function(){var u,s,o,c,a,h,f,v,d,l,_,g,w,y,m,p,k;return Uo(this,(function(A){switch(A.label){case 0:if(u=FQ(n,"timeOffset")||"0",s=FQ(n,"breakType")||mK.YT,o=FQ(n,"breakId"),c=lx(FQ(n,"repeatAfter")),a=void 0!==AK.KUt(u),void 0===o&&(o=""),void 0===c&&(c=!1),!a)throw new fK(iK.PARSING,rK.VAST_SCHEMA_VALIDATION_ERROR,"Invalid TimeOffset type");if(h=XQ(n,"AdSource")[0],f=XQ(n,"TrackingEvents")[0],v=[],f&&(v=t.qUt(f,jQ,"vmap")),(d=FQ(h,"id"))||(d=""),void 0===(l=lx(FQ(h,"allowMultipleAds")))&&(l=!0),(_=lx(FQ(h,"followRedirects")))||(_=!0),g=XQ(h,"AdTagURI")[0],w="",y=XQ(h,"VASTAdData")[0],!g||!g.textContent)return[3,1];try{return w=g.textContent,(m=ty(i)).sources.src=w,[2,new SK(u,m,r)]}catch(t){return[2,void 0]}return[3,6];case 1:return y?y.firstElementChild&&VQ(y.firstElementChild,"VAST")?[4,e.CUt(y.firstElementChild,r,!1)]:[3,3]:[3,5];case 2:return(p=A.sent())?(k=new EK(d,l,_,p),[2,new TK(u,k,s,o,v,c,!1,i)]):[2,void 0];case 3:throw new fK(iK.PARSING,rK.VAST_SCHEMA_VALIDATION_ERROR,"vmap:VASTAdData does not have a VAST-structure as a child element");case 4:return[3,6];case 5:throw new fK(iK.PARSING,rK.VAST_SCHEMA_VALIDATION_ERROR,"Invalid AdTagURI source or invalid VASTAdData in Adbreak Element");case 6:return[2]}}))}))()},t.requestSuccessOnly=function(t,n){return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n.pI(t)];case 1:return i=e.sent(),[3,3];case 2:throw r=e.sent(),new fK(iK.NETWORK,rK.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.",r);case 3:if(!R_(i))throw new fK(iK.NETWORK,rK.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.");return[2,i]}}))}))()},t.PUt=function(t,n){var i=this;return Mo((function(){var r,e;return Uo(this,(function(u){switch(u.label){case 0:return r=new B_({TI:t,sP:t_.KT,iP:N_.GET}),[4,i.requestSuccessOnly(r,n)];case 1:e=u.sent(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,e.Ny()];case 3:return[2,GQ.apply(void 0,[u.sent()])];case 4:throw u.sent(),new fK(iK.NETWORK,rK.VAST_MALFORMED_RESPONSE,"The ad source could not be loaded.");case 5:return[2]}}))}))()},t.MUt=function(n,i,r,e){var u,s=XQ(n,"Error")[0];s&&s.textContent&&(u=s.textContent,e.push(u));var o,c=XQ(n,"AdSystem")[0],a="";c&&(a=c.textContent||a);var h=XQ(n,"AdTitle")[0];h&&(o=h.textContent||void 0);for(var f=[],v=0,d=XQ(n,"Impression");v<d.length;v++){var l=d[v];l.textContent&&f.push(l.textContent)}var _=t.FUt(XQ(n,"Creatives")[0],a,e);return new RQ(i,r,a,o,f,_,new hK(u))},t.UUt=function(n,i,r){for(var e=[],u=0,s=XQ(n,"Creative");u<s.length;u++){var o=s[u],c=FQ(o,"id");c||(c="");var a=vx(FQ(o,"sequence"));a||(a=0);var h=FQ(o,"adId");h||(h="");var f=XQ(o,"Linear")[0],v=void 0;f&&(v=t.HUt(f,"wrapper",c,i,r));var d=XQ(o,"NonLinearAds")[0],l=void 0;if(d)try{l=t.VUt(d,c,i)}catch(t){}var _=XQ(o,"CompanionAds")[0],g=void 0;_&&(g=t.WUt(_)),e.push(new xQ(c,h,a,"",v,l,g,[]))}return e},t.FUt=function(n,i,r){for(var e=[],u=0,s=XQ(n,"Creative");u<s.length;u++){var o=s[u],c=FQ(o,"id");c||(c="");var a=vx(FQ(o,"sequence"));a||(a=0);var h=FQ(o,"adId");h||(h="");var f=FQ(o,"apiFramework");f||(f="");var v=XQ(o,"Linear")[0],d=void 0;if(v)try{d=t.HUt(v,"inline",c,i,r)}catch(t){}var l=XQ(o,"NonLinearAds")[0],_=void 0;if(l)try{_=t.VUt(l,c,i)}catch(t){}var g=XQ(o,"CompanionAds")[0],w=void 0;g&&(w=t.WUt(g));var y=XQ(o,"UniversalAdId"),m=t.parseUniversalAdIds(y);e.push(new xQ(c,h,a,f,d,_,w,m))}return e},t.HUt=function(n,i,r,e,u){var s=XQ(n,"Duration")[0],o=0;if(s)o=pQ(s.textContent)||0;else if(!s&&"inline"===i)throw new fK(iK.PARSING,rK.VAST_SCHEMA_VALIDATION_ERROR,"Missing duration element in inLine linear");var c=FQ(n,"skipoffset"),a=-1;if(c){var h=pQ(c);if(void 0===h&&c.indexOf("%")>-1){var f=l.abs(Number(c.replace(/(?![0-9])./g,"")))/100;w(f)||(h=o*f)}void 0!==h&&(a=h)}var v=XQ(n,"MediaFiles")[0],d=[];if(v&&(d=function(t,n){for(var i=[],r=0,e=XQ(t,"MediaFile");r<e.length;r++){var u=e[r],s=FQ(u,"delivery"),o=FQ(u,"type");if(o){if(n(o)){var c=vx(FQ(u,"width")),a=vx(FQ(u,"height"));c||(gK(),c=0),a||(gK(),a=0);var h={delivery:s,type:o,width:c,height:a,contentURL:""+u.textContent};i.push(h)}}else gK()}return i}(v,lK)),"inline"===i&&(!v||0===d.length))throw _K(aK.uUt,u),new fK(iK.PARSING,rK.VAST_LINEAR_ASSET_MISMATCH,"Missing MediaFiles in linear element");var _=XQ(n,"TrackingEvents")[0],g=[];_&&(g=t.qUt(_,KQ,"linear"));var y=XQ(n,"VideoClicks")[0],m=t.zUt(y);return new UQ(o,d,g,m,a,r,e)},t.zUt=function(n){if(!n)return new LQ("","",[],[]);var i,r=XQ(n,"ClickThrough")[0],e="";r&&(i=r.textContent||void 0,e=FQ(r,"id")||"");var u=t.XUt(XQ(n,"ClickTracking")),s=t.XUt(XQ(n,"CustomClick"));return new LQ(i,e,u,s)},t.XUt=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=r.textContent;if(e){var u=FQ(r,"id")||"";n.push(new BQ(u,e))}}return n},t.qUt=function(t,n,i){for(var r=[],e=0,u=XQ(t,"Tracking");e<u.length;e++){var s=u[e],o=FQ(s,"event");if(n(o)){var c="";"linear"===i&&(c=FQ(t,"offset")||"0");var a=s.textContent;a&&r.push(new eK(o,c,a))}else gK()}return r},t.VUt=function(n,i,r){for(var e=[],u=0,s=XQ(n,"NonLinear");u<s.length;u++){var o=s[u],c=XQ(o,"NonLinearClickThrough")[0],a=void 0;c&&(a=c.textContent||void 0);var h=t.XUt(XQ(o,"NonLinearClickTracking")),f=XQ(o,"StaticResource")[0],v=void 0;if(f&&f.parentNode){var d=FQ(f,"creativeType"),l=f.textContent||"",_=XQ(f.parentNode,"NonLinearClickThrough")[0],g="";_&&(g=_.textContent||""),v=new sK(l,d,g,"")}var w=t.GUt(o),y=t.parseHtmlResource(o);if(v||w||y){var m=new LQ(a,"",h,[]);e.push(new CQ(v,w,y,m,i,r))}else gK()}if(0===e.length)throw new fK(iK.PARSING,rK.VAST_SCHEMA_VALIDATION_ERROR,"nonLinearAds element found with no nonLinear elements");var p=XQ(n,"TrackingEvents")[0],k=[];return p&&(k=t.qUt(p,JQ,"nonlinear")),new NQ(e,k)},t.parseUniversalAdIds=function(t){for(var n=[],i=0;i<t.length;i++){var r,e,u,s=t[i],o=null!=(r=FQ(s,"idRegistry"))?r:"",c=null!=(u=null!=(e=FQ(s,"idValue"))?e:s.textContent)?u:"";n.push(new yK(o,c))}return n},t.WUt=function(n){var i=FQ(n,"requiredType");(function(t){switch(t){case"all":case"any":case"none":return!0;default:return!1}})(i)||(i=TQ.$M);for(var r=[],e=0,u=XQ(n,"Companion");e<u.length;e++){var s=u[e],o=vx(FQ(s,"width")),c=vx(FQ(s,"height")),a=FQ(s,"id"),h=vx(FQ(s,"assetWidth")),f=vx(FQ(s,"assetHeight")),v=vx(FQ(s,"expandedWidth")),d=vx(FQ(s,"rxpandedHeight")),l=FQ(s,"apiFramework"),_=FQ(s,"adSlotId"),g=vx(FQ(s,"pxratio")),w=XQ(s,"AltText")[0],y=w?w.textContent:"";o||(gK(),o=0),c||(gK(),c=0),a||(a=""),h||(h=0),f||(f=0),v||(v=0),d||(d=0),l||(l=""),_||(_=""),g||(g=1),y||(y="");var m=t.QUt(s),p=t.GUt(s),k=t.parseHtmlResource(s),A=XQ(s,"TrackingEvents")[0],b=[];A&&(b=t.qUt(A,tK,"companion"));var T=XQ(s,"CompanionClickThrough")[0],S=void 0;T&&(S=T.textContent||void 0);var E=t.XUt(XQ(s,"CompanionClickTracking"));(m||p||k)&&r.push(new OQ(o,c,a,h,f,v,d,l,_,g,m,p,k,new LQ(S,"",E,[]),b,y))}return new PQ(i,r)},t.QUt=function(t){var n,i=XQ(t,"StaticResource")[0];if(i&&i.parentNode){var r=FQ(i,"creativeType");r||(r="");var e,u=i.textContent,s=XQ(i.parentNode,"AltText")[0],o=XQ(i.parentNode,"CompanionClickThrough")[0],c="";s&&(c=s.textContent||""),o&&(e=o.textContent||void 0),u&&(n=new sK(u,r,e,c))}return n},t.GUt=function(t){var n,i=XQ(t,"IFrameResource")[0];if(i){var r=i.textContent||"";n=new oK(r)}return n},t.parseHtmlResource=function(t){var n,i=XQ(t,"HTMLResource")[0];if(i){var r=i.textContent||"";n=new cK(r)}return n},t}();!function(t){t.YT="",t.TUt="linear",t.jUt="nonlinear",t.YUt="display"}(mK||(mK={}));var kK,AK=function(){function t(){}return t.ZUt=function(t){switch(t){case"linear":case"nonlinear":case"display":return!0;default:return!1}},t.JUt=function(t){},t.$Ut=function(t){if(void 0!==t)return"start"===t?0:"end"===t?-1:void 0},t.tHt=function(t){var n=t.split(":"),i=0;return i+=3600*Number(n[0]),i+=60*Number(n[1]),i+=Number(n[2])},t.eHt=function(t){if(t<=0)return"00:00:00.000";var n=l.floor(t),i=t-n;return this.iHt(n/3600,2)+":"+this.iHt(n/60%60,2)+":"+this.iHt(n%60,2)+"."+this.iHt(1e3*i,3)},t.iHt=function(t,n){return("00"+l.floor(t)).slice(-n)},t.sHt=function(t,n){var i=this.KUt(t);if(0===i)switch(t){case"start":return 0;case"end":return-1}else{if(2===i)return kQ(t)*n;if(1===i)return pQ(t);if(3===i)return this.$Ut(t);if(4===i){var r=Number(t);if(!w(r)&&r>=-1)return r}}},t.KUt=function(t){return"start"===t||"end"===t?0:void 0!==pQ(t.toString())?1:void 0!==kQ(t.toString())?2:void 0!==this.JUt(t.toString())?3:w(Number(t))?void 0:4},t}();!function(t){t[t.E3=0]="E3",t[t.nHt=1]="nHt",t[t.rHt=2]="rHt",t[t.hHt=3]="hHt",t[t.oHt=4]="oHt"}(kK||(kK={}));var bK,TK=function(){function t(t,n,i,r,e,u,s,o){this.SFt=-1,this.uHt=n,this.cHt=t,this.mHt=i,this.dHt=r,this._Ht=u,this.zMt=e,this.pHt=s,this.gHt=o}return t.prototype.On=function(){return $.resolve()},hr(t,[{key:"aHt",get:function(){return this.uHt}},{key:"vEt",get:function(){return this.cHt}},{key:"TFt",get:function(){return this.SFt},set:function(t){this.SFt=t}},{key:"hMt",get:function(){return this.zMt}},{key:"lHt",get:function(){return this.dHt}},{key:"fHt",get:function(){return this._Ht}},{key:"m8",get:function(){return this.gHt}},{key:"vHt",get:function(){return this.NUt.sE}},{key:"q",get:function(){return!0}},{key:"NUt",get:function(){return this.wHt},set:function(t){this.wHt=t}}]),t}(),SK=function(){function t(t,n,i){this.yHt=!1,this.fP=i,this.vMt=new TK(t,void 0,"","",[],!1,!1,n)}var n=t.prototype;return n.On=function(){var t;return null!=(t=this.AHt)?t:this.AHt=this.i7()},n.i7=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return[4,(new pK).DUt(t.m8,t.vEt,t.NUt,t.fP)];case 1:return t.vMt=n.sent(),t.yHt=!0,[2]}}))}))()},hr(t,[{key:"aHt",get:function(){return this.vMt.aHt}},{key:"vEt",get:function(){return this.vMt.vEt}},{key:"TFt",get:function(){return this.vMt.TFt},set:function(t){this.vMt.TFt=t}},{key:"hMt",get:function(){return this.vMt.hMt}},{key:"lHt",get:function(){return this.vMt.lHt}},{key:"fHt",get:function(){return this.vMt.fHt}},{key:"m8",get:function(){return this.vMt.m8}},{key:"vHt",get:function(){return this.vMt.vHt}},{key:"q",get:function(){return this.yHt}},{key:"NUt",get:function(){return this.vMt.NUt},set:function(t){this.vMt.NUt=t}}]),t}(),EK=function(){function t(t,n,i,r){this.wS=t,this.bHt=n,this.kHt=r,this.SHt=i}return hr(t,[{key:"o",get:function(){return this.wS}},{key:"rFt",get:function(){return this.bHt}},{key:"THt",get:function(){return this.SHt}},{key:"MOt",get:function(){return this.kHt}}]),t}();function IK(t,n){var i;if(t.vastAdsRequest&&(i=function(t){if(t.adTagUrl)return t.adTagUrl;if(t.adsResponse)return YQ(t.adsResponse);return}(t.vastAdsRequest)),!i){var r=function(t){var n=t.contentUrl||t.contentId;if(!n)return;var i=t.contentType||"video/mp4",r=JS(i)||iE(t.contentType)?"streaming":"progressive",e=void 0!==t.duration?"<Duration>"+AK.eHt(t.duration)+"</Duration>":"",u=void 0!==t.whenSkippable&&t.whenSkippable>=0?' skipoffset="'+AK.eHt(t.whenSkippable)+'"':"",s='<MediaFile delivery="'+r+'" type="'+i+'">'+qQ(n)+"</MediaFile>",o=t.clickThroughUrl?"<VideoClicks><ClickThrough>"+qQ(t.clickThroughUrl)+"</ClickThrough></VideoClicks>":"",c="<Linear"+u+">"+e+"<MediaFiles>"+s+"</MediaFiles>"+o+"</Linear>",a=t.title?"<AdTitle>"+qQ(t.title)+"</AdTitle>":"";return'<VAST version="3.0"><Ad>'+a+"<InLine><Creatives><Creative>"+c+"</Creative></Creatives></InLine></Ad></VAST>"}(t);r&&(i=YQ(r))}var e=t.customData;if(i){var u={integration:null==e?void 0:e.integration,sources:{src:i,type:"vast"},timeOffset:n};return u.integration&&"theo"!==u.integration||(u.skipOffset=t.whenSkippable),u}}!function(t){t.EHt="error",t.IHt="sourceupdate"}(bK||(bK={}));var RK=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=n,i}return vr(n,t),n}(Va),NK=function(t){function n(n,i){var r;return(r=t.call(this,"sourceupdate")||this).bt=n,r.JM=i,r}return vr(n,t),n}(Va),CK=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).GHt=0,e.HHt=function(t){e.To(new RK(t))},e.UHt=function(t){var n,i=new rQ(dQ(t.code),null!=(n=t.description)?n:void 0);e.HHt(i)},e.FHt=n,e.CHt=i,e.PHt=r,e}vr(n,t);var i=n.prototype;return i.RHt=function(t){this.CHt.RHt(t)},i.xHt=function(t){this.CHt.xHt(t)},i.DHt=function(t){this.CHt.DHt(t)},i.NHt=function(t){this.CHt.NHt(t)},i.BHt=function(t){this.PHt.addUpdateListener(t)},i.LHt=function(t){this.PHt.removeUpdateListener(t)},i.OHt=function(){var t=this,n=new kf,i=new chrome.cast.media.GetStatusRequest;return this.PHt.getStatus(i,(function(){n.Lf({bt:t.fg(),JM:t.qg()})}),(function(t){return n.BC(t)})),n.jf},i.fg=function(){var t;return null==(t=this.PHt.customData)?void 0:t.currentSource},i.qg=function(){var t,n;if(null==(t=this.FHt.MHt())?void 0:t.version){var i;n=null==(i=this.PHt.customData)?void 0:i.sourceDescription}else{var r,e=null==(r=lQ(this.PHt))?void 0:r.customData;(function(t){return Br(t)&&t.theoplayer_version>=1&&Cr(t.streamStart)&&Cr(t.isLive)&&Cr(t.sourceDescription)})(e)&&(n=e.sourceDescription),n||(n=function(t){return{sources:[{src:t.contentId,type:t.contentType}],ads:DK(t)}}(this.PHt.media))}return n},i.jl=function(){var t=new chrome.cast.media.PauseRequest;this.PHt.pause(t,Vr,this.UHt)},i.xl=function(){var t=new chrome.cast.media.StopRequest;this.PHt.stop(t,Vr,this.UHt)},i.dl=function(){var t=new chrome.cast.media.PlayRequest;this.PHt.play(t,Vr,this.UHt)},i.gc=function(t,n){var i=this,r=new chrome.cast.media.SeekRequest;return r.currentTime=t,r.resumeState=n?chrome.cast.media.ResumeState.PLAYBACK_PAUSE:chrome.cast.media.ResumeState.PLAYBACK_START,new $((function(t,n){i.PHt.seek(r,t,(function(t){var i;n(new rQ(dQ(t.code),null!=(i=t.description)?i:void 0))}))}))},i.Iu=function(t){this.CHt.o6(gQ,function(t){return{type:_Q.OOt,properties:{playbackRate:t}}}(t)).catch(this.HHt)},i.VHt=function(t){var n=new chrome.cast.media.EditTracksInfoRequest(t);this.PHt.editTracksInfo(n,Vr,this.UHt)},i.WHt=function(){return this.PHt.getEstimatedTime()},i.qHt=function(){return this.PHt.getEstimatedBreakClipTime()},i.zHt=function(){return this.PHt.getEstimatedBreakTime()},i.XHt=function(){this.CHt.o6("urn:x-cast:com.google.cast.media",{type:wQ.SKIP_AD,requestId:this.GHt++,mediaSessionId:this.PHt.mediaSessionId}).catch(this.HHt)},i.bn=function(){this.Lo()},hr(n,[{key:"NA",get:function(){return this.PHt}}]),n}(Ua);function DK(t){return t.vmapAdsRequest&&t.vmapAdsRequest.adTagUrl?[{sources:{src:t.vmapAdsRequest.adTagUrl,type:"vmap"}}]:t.breaks&&t.breakClips?sa(t.breaks,(function(n){return function(t,n){var i=function(i,e){var u=e[i],s=jc(n,(function(t){return t.id===u}));if(s){var o=IK(s,t.position);o&&r.push(o)}},r=[];if(t.isWatched)return r;for(var e=0,u=t.breakClipIds;e<u.length;e++)i(e,u);return r}(n,t.breakClips)})):[]}var PK,OK=function(){function t(t){this.FHt=t}var n=t.prototype;return n.QHt=function(t,n){this.FHt.addMessageListener(t,n)},n.KHt=function(t,n){this.FHt.removeMessageListener(t,n)},n.o6=function(t,n){var i=this;return new $((function(r,e){i.FHt.sendMessage(t,n,r,(function(t){var n;e(new rQ(dQ(t.code),null!=(n=t.description)?n:void 0))}))}))},n.bn=function(){},t}();function BK(t){return"vmap"===t||"adrule"===t}function LK(t){if(t)return Mr(t)?{src:ay(t),type:void 0}:function(t){return Br(t)&&Boolean(t.src)}(t)?{src:ay(t.src),type:MK(t.type)}:void 0}function MK(t){if(Mr(t)){var n=t.toLowerCase();switch(n){case"vast":case"vmap":case"adrule":return n;default:return void Jr("The ad source type provided in the configuration could not be recognized: '"+t+"'.")}}else t||Jr("For better performance it is highly recommended to add the type to the configuration of your ad sources.")}function xK(t){if(void 0!==t&&""!==t&&("string"==typeof t||"number"==typeof t)){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return 0;case"end":case"100%":return-1}if("string"==typeof t){if(function(t){return mQ.test(t)}(t))return AK.tHt(t);if(UK(t))return t}return Number(t)>=0?Number(t):void 0}}function UK(t){return new RegExp(/^\d{1,2}%$/).test(t)}!function(t){t.BOt="receiver_info",t.oEt="event",t.jHt="propertychange",t.LOt="trackevent"}(PK||(PK={}));var FK,HK=function(){function t(t){var n=this;this.ZHt=[],this.JHt=[],this.iVt=function(t,i){var r=n.YHt(i);if(r)if(r.type===PK.jHt)for(var e=0,u=n.ZHt;e<u.length;e++)for(var s=u[e],o=0,c=d.keys(r.properties);o<c.length;o++){var a=c[o];s(a,r.properties[a])}else if(r.type===PK.oEt)for(var h=0,f=n.JHt;h<f.length;h++){(0,f[h])(r.event)}else r.type===PK.LOt&&n.tVt&&r.event.trackState&&n.tVt(r.event.trackId,r.event.trackState.targetQualityIds)},this.eVt=t,this.eVt.QHt(gQ,this.iVt)}var n=t.prototype;return n.YHt=function(t){var n;try{n=JSON.parse(t)}catch(t){0}return n},n.RHt=function(t){this.ZHt.push(t)},n.xHt=function(t){$c(this.ZHt,t)},n.DHt=function(t){this.JHt.push(t)},n.NHt=function(t){$c(this.JHt,t)},n.$Ht=function(t){this.tVt=t},n.o6=function(t,n){return this.eVt.o6(t,n)},n.bn=function(){this.eVt.KHt(gQ,this.iVt),ea(this.JHt),ea(this.ZHt),this.tVt=void 0},t}();!function(t){t.sVt="medialoadedchange",t.Il="volumechange",t.EHt="casterror",t.nVt="playererror",t.rVt="targetqualitychanged",t.hVt="receiverinfochanged"}(FK||(FK={}));var VK,XK=function(t){function n(){return t.call(this,"medialoadedchange")}return vr(n,t),n}(Va),zK=function(t){function n(n,i){var r;return(r=t.call(this,"volumechange")||this)._l=n,r.Xu=i,r}return vr(n,t),n}(Va),WK=function(t){function n(n){var i;return(i=t.call(this,"casterror")||this).lt=n,i}return vr(n,t),n}(Va),GK=function(t){function n(n){var i;return(i=t.call(this,"playererror")||this).lt=n,i}return vr(n,t),n}(Va),qK=function(t){function n(n,i){var r;return(r=t.call(this,"targetqualitychanged")||this).MA=n,r.oVt=i,r}return vr(n,t),n}(Va),YK=function(t){function n(){return t.call(this,"receiverinfochanged")}return vr(n,t),n}(Va),jK=function(t){function n(n){var i;(i=t.call(this)||this).lVt=void 0,i.HHt=function(t){i.To(new WK(t))},i.SVt=function(t,n){"error"===t&&i.To(new GK(n))},i.kVt=function(t,n){i.To(new qK(t,n))},i.cVt=function(t,n){var r=JSON.parse(n);r.type===PK.BOt&&(i.lVt=r.info,i.To(new YK))},i.gVt=function(){var t=i.dVt().receiver.volume,n=t.level,r=t.muted;i.To(new zK(null!=n?n:void 0,null!=r?r:void 0))},i.TVt=function(){return i.fVt(i.FHt.getMediaSession())},i.vVt=function(t){var n;t||(null==(n=i._Vt)||n.LHt(i.vVt),i._Vt=void 0,i.To(new XK))},i.AVt=function(t){var n,r=new rQ(dQ(t.code),null!=(n=t.description)?n:void 0);i.HHt(r)},i.FHt=n,i.FHt.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,i.TVt),i.eVt=new OK(n.getSessionObj()),i.CHt=new HK(i.eVt),i.CHt.RHt(i.SVt),i.CHt.$Ht(i.kVt),i.dVt().addUpdateListener(i.gVt),i.gVt(),i.uVt();var r=i.FHt.getMediaSession();return r&&i.fVt(r),i}vr(n,t);var i=n.prototype;return i.aVt=function(t,n,i){this.CHt.o6(gQ,function(t,n,i){return{type:_Q.LOt,trackID:t,trackType:n,properties:{targetQuality:i}}}(t,n,i)).catch(this.HHt)},i.uVt=function(){this.eVt.QHt(gQ,this.cVt),this.CHt.o6(gQ,{type:_Q.BOt}).catch(Vr)},i.MHt=function(){return this.lVt},i.dVt=function(){return this.FHt.getSessionObj()},i.fVt=function(t){!this._Vt&&t&&t.idleReason!==chrome.cast.media.IdleReason.FINISHED&&(this._Vt=new CK(this,this.CHt,t),this.gVt(),this.To(new XK),this._Vt.BHt(this.vVt))},i.wVt=function(){return this._Vt},i.mVt=function(t){var n=this;return Mo((function(){var i,r,e;return Uo(this,(function(u){switch(u.label){case 0:i=function(t){var n=function(t,n,i,r){var e=zI(t)||"",u=VI(t)||"",s=new chrome.cast.media.MediaInfo(e,u);return s.metadata=vQ(t.metadata,t.poster),s.streamType=r,function(t,n,i){for(var r,e=function(t){var e=n[t],a=LK(e.sources);if(a)if(AQ(a,e.timeOffset))(r=new chrome.cast.media.VastAdsRequest).adTagUrl=a.src;else if(bQ(a,e.timeOffset)){var h,f,v=null!=(h=e.timeOffset)?h:0,d=e.skipOffset,l=null!=(f=AK.sHt(v,i))?f:0,_=void 0!==d?AK.sHt(d,i):void 0,g=new chrome.cast.media.BreakClip("bc"+c++);g.vastAdsRequest=new chrome.cast.media.VastAdsRequest,g.vastAdsRequest.adTagUrl=a.src,g.whenSkippable=_,g.customData={integration:e.integration};var w=jc(s,(function(t){return t.position===l}));void 0===w&&(w=new chrome.cast.media.Break("b"+o++,[],l),s.push(w)),w.breakClipIds.push(g.id),u.push(g)}else 0;else 0},u=[],s=[],o=0,c=0,a=0;a<n.length;a++)e(a);t.breakClips=u,t.breaks=s,t.vmapAdsRequest=r}(s,n,i),s}(t.pVt,t.L5,t.ct,t.DQ),i=new chrome.cast.media.LoadRequest(n);return i.autoplay=!0,i.currentTime=t.Wu,i.customData=t.yVt,i}(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.FHt.loadMedia(i)];case 2:return r=u.sent(),[3,4];case 3:return e=u.sent(),r=e,[3,4];case 4:if(r)throw new rQ(dQ(r));return[2]}}))}))()},i.xg=function(t){this.dVt().setReceiverMuted(t,Vr,this.AVt)},i.Zg=function(t){this.dVt().setReceiverVolumeLevel(t,Vr,this.AVt)},i.bVt=function(){return this.dVt().receiver.friendlyName},i.bn=function(){this.Lo(),this.FHt.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.TVt),this.dVt().removeUpdateListener(this.gVt),this.eVt.KHt(gQ,this.cVt),this.CHt.bn(),this.eVt.bn()},n}(Ua);!function(t){t.EVt="statechange"}(VK||(VK={}));var QK,KK=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).Dvt=n,i}return vr(n,t),n}(Va),ZK=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).zzt=void 0,n.qzt=void 0,n.Gz=function(){var t=n.Ozt();n.zzt=t===DI.CONNECTED?new jK(n.Xzt.getCurrentSession()):void 0,n.To(new KK(t))},n}vr(n,t);var i=n.prototype;return i.fzt=function(t){this.qzt=t},i._zt=function(){return this.qzt},i.vzt=function(){return this.zzt},i.Ozt=function(){switch(this.Xzt.getCastState()){case cast.framework.CastState.CONNECTED:return DI.CONNECTED;case cast.framework.CastState.CONNECTING:return DI.CONNECTING;case cast.framework.CastState.NOT_CONNECTED:return DI.AVAILABLE;case cast.framework.CastState.NO_DEVICES_AVAILABLE:default:return DI.UNAVAILABLE}},i.Jq=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,uQ()];case 1:return i.sent(),n.Xzt=cast.framework.CastContext.getInstance(),n.Xzt.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,n.Gz),n.Xzt.setOptions({receiverApplicationId:t.appID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),[2]}}))}))()},i.Azt=function(){var t=this;return Mo((function(){var n,i;return Uo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t.Xzt.requestSession()];case 1:if(n=r.sent())throw n;return[3,3];case 2:throw i=r.sent(),new rQ(dQ(i));case 3:return[2]}}))}))()},i.Tzt=function(t){var n;return null==(n=this.qzt)?void 0:n.onStart(t)},i.xzt=function(t){var n;return null==(n=this.qzt)?void 0:n.onStop(t)},i.kzt=function(t){var n;return null==(n=this.qzt)?void 0:n.onJoin(t)},i.Czt=function(t){var n;return null==(n=this.qzt)?void 0:n.onLeave(t)},i.Nzt=function(t){this.Xzt.endCurrentSession(t)},n}(Ua),JK=function(t){function n(n,i,r,e,u,s,o,c,a){var h;return(h=t.call(this)||this).Ko=n,h.IVt=0,h.$T=new ky,h.eS=new ky,h.xu=new wk,h._8=new kM,h.IVt=i,h.FF=r-i,h.Zl=e,h.Kl=u,h.Ql=s,h.HF=o,h.RVt=c,h.CVt=a,h}vr(n,t);var i=n.prototype;return i.O5=function(){return this._8},i.ag=function(){return ZE.Nl()},i._g=function(){return this.FF+this.IVt},i.k5=function(){return this._g()},i.cg=function(){},i.vg=function(){return this.Zl},i.pg=function(){return this.Kl},i.yg=function(){},i.Bg=function(){return this.Ql},i.PVt=function(){},i.Lg=function(){return this.HF},i.Iu=function(t){this.HF!==t&&(this.HF=t,this.To(new kE(this.Ko.Wu,t)))},i.Hg=function(){return jk.zl},i.Og=function(){return ZE.Nl()},i.Vg=function(){return ZE.Nl()},i.Wg=function(){return!1},i.rg=function(){return this.$T},i.Qg=function(){return this.eS},i.zg=function(){return this.xu},i.VHt=function(t){},i.jg=function(){return this.RVt},i.Gg=function(){return this.CVt},i.dl=function(){this.Ql=!1},i.jl=function(){this.Ql=!0},i.gc=function(t){this.FF=t-this.IVt},i.xVt=function(){return this.IVt},i.DVt=function(t){this.IVt=t},i.g8=function(t){this._8.g8(t)},i.xl=function(){},i.bn=function(){this.Lo(),this.$T.bn(),this.eS.bn(),this.xu.bn(),this._8.bn()},n}(Ua);!function(t){t.NVt="ccmodechangerequest",t.BVt="cctargetqualitychangerequest",t.LVt="cctrackchangerequest"}(QK||(QK={}));var $K,tZ,nZ=function(t){function n(n,i,r){var e;return(e=t.call(this,QK.NVt)||this).track=n,e.trackId=i,e.mode=r,e}return vr(n,t),n}(Va);function iZ(t){return"AUDIO"===t.type}function rZ(t){return"VIDEO"===t.type}function eZ(t){return"TEXT"===t.type}!function(t){t.KT="TEXT",t.yy="AUDIO",t.vl="VIDEO"}($K||($K={})),function(t){t.Ay="SUBTITLES",t.fI="CAPTIONS",t._I="DESCRIPTIONS",t.$n="CHAPTERS",t.Ty="METADATA"}(tZ||(tZ={}));var uZ=function(t){function n(n){var i;(i=t.call(this)||this).Gu=void 0;var r=n.customData;return i.cw=Number(n.trackId)||0,i.o=""+(r&&r.id||i.cw),i.Yu=r&&r.label||n.name||"",i.gs=r&&r.language||n.language||"",i.Aw=r&&r.inBandMetadataTrackDispatchType||"",i.Lt=r&&r.kind||function(t){switch(t){case tZ.Ay:return gk.Ay;case tZ.fI:return gk.fI;case tZ._I:return gk._I;case tZ.$n:return gk.$n;case tZ.Ty:return gk.Ty}return}(n.subtype)||"subtitles",i.Nc=Wy.NONE,i.Iw=r&&void 0!==r.type?function(t){return Qy(t)?t:Gy.DEFAULT}(r.type):Gy.WEBVTT,i.nJ=[],i.hJ=new lP(i.nJ),i.fJ=[],i.rJ=new lP(i.fJ),i.aU=fk(r&&r.mode||Yp.Th),i.OVt=i.aU,i}vr(n,t);var i=n.prototype;return i.Sw=function(t){this.bw=t},i.FVt=function(t){},i.bn=function(){},i.ir=function(){},hr(n,[{key:"ma",get:function(){return this.Gu||(this.Gu=dk(this)),this.Gu}},{key:"_h",get:function(){return this.Yu},set:function(t){t!==this.Yu&&(this.Yu=t,this.To(new Py(this)))}},{key:"W",get:function(){return this.rJ}},{key:"L",get:function(){return this.hJ}},{key:"bw",get:function(){return this.aU},set:function(t){var n=fk(t);this.aU!==n&&(this.aU=n,this.OVt!==n&&this.To(new nZ(this,this.cw,n)),this.To(new Cy(this)))}},{key:"MVt",get:function(){return this.OVt},set:function(t){var n=fk(t),i=this.aU!==n;this.aU=n,this.OVt=n,i&&this.To(new Cy(this))}}]),n}(Ua);var sZ,oZ=function(t){function n(n,i){var r;return(r=t.call(this,QK.LVt)||this).trackId=n,r.enabled=i,r}return vr(n,t),n}(Va),cZ=function(t){function n(n,i){var r;return(r=t.call(this,QK.BVt)||this).track=n,r.targetQuality=i,r}return vr(n,t),n}(Va);!function(t){t.yy="audio",t.vl="video",t.KT="text"}(sZ||(sZ={}));var aZ,hZ,fZ=function(t){function n(n){var i;(i=t.call(this)||this).Zht=void 0,i.dS=new Ny,i.Yht=void 0,i.Gu=void 0,i.sSt=function(){return i.To(new Py(Uc(i)))};var r=n.customData;if(i.cw=Number(n.trackId)||0,i.o=""+(r&&r.id||i.cw),i.Yu=r&&r.label||n.name||"",i.gs=r&&r.language||n.language||"",i.Lt=r&&r.kind||"main",i.We=r&&r.enabled,i.HVt=i.We,iZ(n)){i.PY=sZ.yy;var e=n.customData&&n.customData.qualities;if(e)for(var u=0;u<e.length;u++){var s=e[u],o=new Wx(s.id,s.bandwidth,s.codecs,s.name,"",s.audioSamplingRate);o.wn("update",i.sSt),i.dS.fS(o)}}else{i.PY=sZ.vl;var c=n.customData&&n.customData.qualities;if(c)for(var a=0;a<c.length;a++){var h=c[a],f=new zx(h.id,h.bandwidth,h.codecs,h.name,"",h.frameRate,h.width,h.height);f.wn("update",i.sSt),i.dS.fS(f)}}return i}vr(n,t);var i=n.prototype;return i.yS=function(t){this.Rt=t},i.FVt=function(t){if(t.targetQualityIds){for(var n=[],i=0;i<this.dS.U;i++){var r=this.dS.Zv(i);t.targetQualityIds.indexOf(r.o)>-1&&n.push(r)}var e=n.length?n:void 0;this.UVt(e)}},i.UVt=function(t){(function(t,n){return!t&&n||t&&!n||t&&n&&!ua(t,n)})(this.Yht,t)&&(this.Yht=t&&this.dS._S(t)?t:void 0,this.To(new fF(this.Yht,this)))},i.unload=function(){for(var t=0,n=this.dS.Kv;t<n.length;t++){n[t].pn("update",this.sSt)}this.dS.ir()},hr(n,[{key:"uw",get:function(){return this.Zht}},{key:"fw",get:function(){return this.Yht},set:function(t){this.UVt(t),this.To(new cZ(this,t))}},{key:"dw",get:function(){return this.dS}},{key:"_h",get:function(){return this.Yu},set:function(t){t!==this.Yu&&(this.Yu=t,this.To(new Py(this)))}},{key:"Rt",get:function(){return this.We},set:function(t){this.We!==t&&(this.We=t,this.HVt!==t&&this.To(new oZ(this.cw,t)),this.To(new Cy(this)))}},{key:"VVt",get:function(){return this.HVt},set:function(t){var n=this.We!==t;this.We=t,this.HVt=t,n&&this.To(new Cy(this))}},{key:"ma",get:function(){return this.Gu||(this.Gu=wy(this)),this.Gu}},{key:"bw",get:function(){return this.Rt?"enabled":"disabled"}}]),n}(Ua);!function(t){t.WVt="legacy",t.qVt="caf"}(aZ||(aZ={})),function(t){t.zVt="theo",t.XVt="google-ima",t.no="google-dai",t.GVt="freewheel",t.QVt="mediatailor",t.kP="chromecast"}(hZ||(hZ={}));var vZ=function(){function t(t){this.jVt=0,this._8=t}var n=t.prototype;return n.KVt=function(){if(!(this.jVt>=this._8.length)){var t=this._8[this.jVt];return this.jVt+=1,t}},n.lt=function(){return this.KVt()},t}();function dZ(t){var n,i,r;return null!=(r=null==(n=t.aHt)||null==(i=n.MOt)?void 0:i.FOt())?r:[]}var lZ=function(){},_Z=function(){function t(){this.Gu=void 0}return t.prototype.Z5=function(){var t;return null!=(t=this.Gu)?t:this.Gu=function(t){return{get ads(){return t.L5.map((function(t){return t.Z5()}))},get integration(){return t.YVt},get maxDuration(){return t.ZVt},get maxRemainingDuration(){return t.JVt},get timeOffset(){return t.vEt}}}(this)},t}(),gZ=function(){function t(t,n){this.tWt=t,this.Ko=n}return hr(t,[{key:"$Vt",get:function(){return this.tWt}},{key:"t",get:function(){return this.Ko}}]),t}(),wZ=function(t){function n(n,i){var r;return(r=t.call(this)||this).nWt=[],r.hWt=[],r.wHt=n,r.rWt=i,r}vr(n,t);var i=n.prototype;return i.iWt=function(t,n,i,r){var e=jc(this.nWt,(function(n){return n.$Ot===t}));if(void 0!==e)return e;var u=new kZ(t,n,this,this.rWt,i,r);return this.nWt.push(u),u},i.sWt=function(t,n,i,r,e){var u=jc(this.hWt,(function(n){return n.iMt===t}));if(void 0!==u)return u;var s=new pZ(t,n,i,this,this.rWt,r,e);return this.hWt.push(s),s},hr(n,[{key:"NUt",get:function(){return this.wHt}},{key:"L5",get:function(){for(var t=[],n=0,i=this.wHt.eWt;n<i.length;n++)for(var r=i[n],e=0,u=dZ(r);e<u.length;e++){var s,o,c=u[e],a=null!=(o=null==(s=c.eMt)?void 0:s.EMt)?o:[];if(c.$Ot&&t.push(this.iWt(c.$Ot,a,c.sMt,r.m8)),c.iMt)for(var h=0,f=c.iMt.nMt;h<f.length;h++){var v=f[h];t.push(this.sWt(v,a,c.iMt,c.sMt,r.m8))}}return t}},{key:"YVt",get:function(){return hZ.zVt}},{key:"vEt",get:function(){var t=this.wHt.sE;return t>=0?t:this.rWt.t.vg()}},{key:"JVt",get:function(){for(var t=0,n=0,i=this.wHt.eWt;n<i.length;n++)for(var r=0,e=dZ(i[n]);r<e.length;r++){var u=e[r];u.$Ot&&!u.$Ot.kFt&&(t+=u.$Ot.ct)}return this.rWt&&this.rWt.$Vt&&(t+=this.rWt.$Vt.ct-this.rWt.$Vt.Wu),t}},{key:"ZVt",get:function(){for(var t=0,n=0,i=this.wHt.eWt;n<i.length;n++)for(var r=0,e=dZ(i[n]);r<e.length;r++){var u=e[r];u.$Ot&&(t+=u.$Ot.ct)}return t}}]),n}(_Z),yZ={height:0,width:0,clickThrough:"",contentHTML:"",resourceURI:"",altText:""},mZ=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).aWt=!1,o.gWt=n,o.IMt=i,o.vMt=r,o.rWt=e,o.mFt=u,o.gHt=s,o}vr(n,t);var i=n.prototype;return i.oWt=function(){return this.aWt},i.uWt=function(){this.aWt=!0},i.cWt=function(t){return xo({},yZ,{resourceURI:t.iUt||""})},i.lWt=function(t){return xo({},yZ,{contentHTML:t.iUt.trim(),type:"HTMLResource"})},i.dWt=function(t){var n,i;return xo({},yZ,{clickThrough:(null==(n=t.QMt)?void 0:n.trim())||"",resourceURI:(null==(i=t.iUt)?void 0:i.trim())||"",altText:t.XMt||"",type:"StaticResource"})},i.fWt=function(t,n,i){if(t&&n){var r="<img "+(i?"title='"+i+"' ":"")+"src='"+encodeURI(t)+"'>";return"<a href='"+encodeURI(n)+"' target='_blank' rel='noopener'>"+r+"</a>"}},i.eMt=function(t){var n=this;return t?t.map((function(t){var i,r={adSlotId:t.FMt||"",height:t.Ci||0,width:t.Ti||0};if(t.aMt){var e,u=n.dWt(t.aMt),s=u.clickThrough||(null==(e=t.WMt)?void 0:e.QMt);i=xo({},u,{contentHTML:n.fWt(u.resourceURI,s,u.altText)||""})}else if(t.dMt)i=n.lWt(t.dMt);else{if(!t.cMt)return;i=n.cWt(t.cMt)}return $w(i,r)})).filter((function(t){return void 0!==t})):[]},i._Wt=function(){return this.gWt.GOt},hr(n,[{key:"n8",get:function(){return this.vMt}},{key:"m8",get:function(){return this.gHt}},{key:"sMt",get:function(){return this.mFt}}]),n}(lZ),pZ=function(t){function n(n,i,r,e,u,s,o){var c;return(c=t.call(this,n,i,e,u,s,o)||this).vWt=r,c}vr(n,t);var i=n.prototype;return i.pa=function(){var t=this.vMt,n={companions:this.eMt(this.IMt),type:"nonlinear",id:this.gWt.wMt,skipOffset:this.TFt,integration:hZ.zVt,adSystem:this.gWt.GOt,get adBreak(){return t.Z5()},creativeId:this.gWt.wMt,universalAdIds:this.mFt.map((function(t){return{adIdRegistry:t.pUt,adIdValue:t.AUt}}))};return this.gWt.cMt?$w(this.cWt(this.gWt.cMt),n):this.gWt.dMt?$w(this.lWt(this.gWt.dMt),n):this.gWt.aMt?$w(this.dWt(this.gWt.aMt),n):n},i.Z5=function(){var t;return null!=(t=this.Gu)?t:this.Gu=this.pa()},i.wWt=function(){var t,n;return null!=(n=null==(t=this.gWt.aMt)?void 0:t.iUt)?n:""},i.mWt=function(){var t,n,i;return null!=(i=null==(t=this.gWt)||null==(n=t.aMt)?void 0:n.nUt)?i:""},hr(n,[{key:"iMt",get:function(){return this.gWt}},{key:"tMt",get:function(){return this.vWt}},{key:"TFt",get:function(){var t,n=this.gWt.n8;return n&&n.m8&&void 0!==n.m8.skipOffset?AK.sHt(n.m8.skipOffset,this.rWt.$Vt.ct):(null==(t=this.gWt.n8)?void 0:t.TFt)||-1}}]),n}(mZ),kZ=function(t){function n(n,i,r,e,u,s){return t.call(this,n,i,r,e,u,s)}vr(n,t);var i=n.prototype;return i.pa=function(){var t,n=this.vMt;return{companions:this.eMt(this.IMt),duration:this.gWt.ct,id:this.gWt.wMt,mediaFiles:this.gWt.yFt,skipOffset:this.TFt,type:"linear",integration:hZ.zVt,adSystem:this.gWt.GOt,width:void 0,height:void 0,get adBreak(){return n.Z5()},clickThrough:null==(t=this.gWt.cFt)?void 0:t.QMt,creativeId:this.gWt.wMt,universalAdIds:this.mFt.map((function(t){return{adIdRegistry:t.pUt,adIdValue:t.AUt}}))}},i.Z5=function(){var t;return null!=(t=this.Gu)?t:this.Gu=this.pa()},i.wWt=function(){return this.gWt.yFt.length>0?this.gWt.yFt[0].contentURL:""},i.mWt=function(){return this.gWt.yFt.length>0?this.gWt.yFt[0].type:""},hr(n,[{key:"$Ot",get:function(){return this.gWt}},{key:"TFt",get:function(){var t=this.gWt.n8;return t&&t.m8&&void 0!==t.m8.skipOffset?AK.sHt(t.m8.skipOffset,this.rWt.$Vt.ct):this.gWt.TFt||-1}}]),n}(mZ);function AZ(t){return t instanceof kZ}var bZ,TZ=function(t){function n(n){return t.call(this,"pWt",n)}return vr(n,t),n.prototype.pa=function(){return new SZ(this.o8.Z5())},n}(sM),SZ=function(t){function n(n){return t.call(this,"updatead",n)}return vr(n,t),n}(oM),EZ=function(t){function n(n){return t.call(this,"yWt",n)}return vr(n,t),n.prototype.pa=function(){return new IZ(this.o8.Z5())},n}(sM),IZ=function(t){function n(n){return t.call(this,"adloaded",n)}return vr(n,t),n}(oM),RZ=function(t){function n(n,i){var r;return(r=t.call(this)||this).bWt=[],r.AWt=void 0,r.gWt=void 0,r.Gu=void 0,r.Zr=function(t){var n;if(t){var i=r.PHt.NA,e=i.breakStatus,u=i.media,s=u.breakClips,o=u.breaks,c=null==(n=lQ(i))?void 0:n.media,a=[];o&&s&&r.kWt(o,s,c,a),r.RWt(e,a);for(var h=0;h<a.length;h++){var f=a[h];r.To(f)}}},r.Ko=n,r.PHt=i,r.PHt.BHt(r.Zr),r}vr(n,t);var i=n.prototype;return i.m$=function(t,n,i){throw new v("Scheduling ads while casting is not supported.")},i.zy=function(){this.PHt.XHt()},i.v8=function(t){},i.SWt=function(t){return jc(this.bWt,(function(n){return n.o===t}))},i.kWt=function(t,n,i,r){for(var e=this.bWt,u=[],s=!1,o=0;o<t.length;o++){var c=t[o],a=this.SWt(c.id);void 0===a&&(a=new NZ(c),r.push(new eM(a))),!Cr(a.EWt)&&Cr(i)&&(a.EWt=this.IWt(a.PWt,i));var h=a.L5;a.Kn(c,n,i,r);for(var f=a.L5,v=0;v<f.length;v++){var d=f[v];ia(h,d)||(r.push(new cM(d)),s=!0)}u.push(a)}this.bWt=u,s&&r.push(new yM);for(var l=0;l<e.length;l++){var _=e[l];ia(u,_)||r.push(new iM(_))}},i.RWt=function(t,n){var i,r,e=this.AWt,u=this.gWt;if(t){var s,o=t.breakId,c=t.breakClipId;i=o?this.SWt(o):void 0,r=c?null==(s=this.AWt)?void 0:s.CWt(c):void 0}if(this.AWt=i,this.gWt=r,i!==e&&(void 0!==e&&(e.xWt=void 0,n.push(new hM(e))),void 0!==i&&(i.xWt=this.PHt,n.push(new vM(i)))),r!==u){var a=this.Ko._g();void 0!==u&&n.push(new gM(u,a)),void 0!==r&&n.push(new lM(r,a))}},i.IWt=function(t,n){if(n&&n.breaks){var i=jc(n.breaks,(function(n){return n.id===t.id}));return i}},i.g8=function(t){for(var n=[],i=0,r=this.bWt;i<r.length;i++){var e=r[i],u=e.L5;if(e===this.AWt&&void 0!==this.gWt){var s=u.indexOf(this.gWt);s>=0&&(u=u.slice(s))}else if(e.TWt())continue;for(var o=0;o<u.length;o++){var c=u[o].DWt();c&&n.push(c)}}for(var a=0;a<n.length;a++){var h=n[a];t.m$(h,GL.i8,!1)}},i.bn=function(){return this.Lo(),this.PHt.LHt(this.Zr),void 0!==this.AWt&&(this.AWt.xWt=void 0,this.AWt=void 0),this.gWt=void 0,ea(this.bWt),$.resolve(void 0)},hr(n,[{key:"j5",get:function(){return void 0!==this.AWt}},{key:"Y5",get:function(){return this.gWt?[this.gWt]:[]}},{key:"J5",get:function(){var t;return null!=(t=this.AWt)?t:null}},{key:"t8",get:function(){var t=this;return sa(this.bWt,(function(n){var i=n.L5;if(n===t.AWt&&void 0!==t.gWt){var r=i.indexOf(t.gWt);if(r>=0)return i.slice(r+1)}return n.TWt()?[]:i}))}},{key:"e8",get:function(){var t=this;return this.bWt.filter((function(n){return n===t.AWt||!n.TWt()}))}},{key:"ma",get:function(){var t;return null!=(t=this.Gu)?t:this.Gu=JL(this)}}]),n}(Ha),NZ=function(t){function n(n){var i;return(i=t.call(this)||this).EWt=void 0,i._8=[],i.xWt=void 0,i.NWt=n,i}vr(n,t);var i=n.prototype;return i.TWt=function(){return this.NWt.isWatched},i.CWt=function(t){return jc(this._8,(function(n){return n.o===t}))},i.Kn=function(t,n,i,r){for(var e=this,u=function(u){var o=t.breakClipIds[u],c=jc(n,(function(t){return t.id===o}));if(void 0===c)return"continue";var a=u<e._8.length?e._8[u]:new CZ(c,e);!Cr(a.BWt)&&Cr(i)&&(a.BWt=e.LWt(i,o,u)),a.Kn(c,r),s.push(a)},s=[],o=0;o<t.breakClipIds.length;o++)u(o);this.NWt=t,this._8=s},i.LWt=function(t,n,i){if(t&&t.breakClips){var r=jc(t.breakClips,(function(t){return t.id===n}));if(!r){var e,u=null==(e=this.EWt)?void 0:e.breakClipIds[i];u&&(r=jc(t.breakClips,(function(t){return t.id===u})))}return r}},hr(n,[{key:"PWt",get:function(){return this.NWt}},{key:"o",get:function(){return this.NWt.id}},{key:"L5",get:function(){return this._8}},{key:"YVt",get:function(){return hZ.kP}},{key:"ZVt",get:function(){var t=this.NWt.duration;return void 0===t&&this._8.length>0&&(t=Le(this._8,(function(t){return t.ct})),w(t)&&(t=void 0)),t}},{key:"JVt",get:function(){var t=this.ZVt;if(void 0!==t&&void 0!==this.xWt){var n=this.xWt.zHt();if(void 0!==n)return l.max(0,t-n)}return t}},{key:"vEt",get:function(){return this.NWt.position}}]),n}(_Z),CZ=function(){function t(t,n){this.Gu=void 0,this.MWt=t,this.n8=n}var n=t.prototype;return n._Wt=function(){return""},n.mWt=function(){var t;return null!=(t=this.MWt.contentType)?t:""},n.wWt=function(){var t,n;return null!=(n=null!=(t=this.MWt.contentUrl)?t:this.MWt.contentId)?n:""},n.Kn=function(t,n){var i=this.o,r=this.ct,e=this.MWt.contentUrl;this.MWt=t;var u=this.o,s=this.ct,o=this.MWt.contentUrl;i===u&&(r===s||w(r)&&w(s))&&e===o||n.push(new TZ(this)),w(r)&&!w(s)&&n.push(new EZ(this))},n.DWt=function(){var t;return this.BWt&&(t=IK(this.BWt,this.n8.vEt)),t||(t=IK(this.MWt,this.n8.vEt)),t},n.Z5=function(){var t;return null!=(t=this.Gu)?t:this.Gu=this.pa()},n.pa=function(){var t=this;return{get companions(){return t.EMt},get duration(){return t.ct},get id(){return t.o},get mediaFiles(){return t.yFt},get skipOffset(){return t.TFt},type:"linear",integration:hZ.kP,get adSystem(){return t._Wt()},width:void 0,height:void 0,get adBreak(){return t.n8.Z5()},get clickThrough(){return t.QMt},get creativeId(){return t.wMt},get universalAdIds(){return t.sMt.map((function(t){return{adIdRegistry:t.pUt,adIdValue:t.AUt}}))}}},hr(t,[{key:"OWt",get:function(){return this.MWt}},{key:"o",get:function(){return this.MWt.id}},{key:"EMt",get:function(){return[]}},{key:"ct",get:function(){var t;return null!=(t=this.MWt.duration)?t:NaN}},{key:"yFt",get:function(){var t=this.wWt();return t?[{contentURL:t,delivery:"progressive",type:this.mWt(),width:0,height:0}]:[]}},{key:"TFt",get:function(){var t=this.MWt.whenSkippable;return void 0===t?void 0:t<0?-1:t}},{key:"QMt",get:function(){return this.MWt.clickThroughUrl}},{key:"wMt",get:function(){}},{key:"sMt",get:function(){return[]}}]),t}(),DZ=function(t){function n(n,i){var r;return void 0===i&&(i=tr.Zs.Ye),(r=t.call(this)||this).We=!1,r.VWt=function(t){t.stopPropagation(),r.To(new Va("clickstart"))},r.WWt=function(t){t.stopPropagation(),r.To(new Va("click"))},r.h7=n,r.HWt=i,r.Hs=e.createElement("a"),r.Hs.style.position="absolute",r.Hs.style.zIndex="11",r.Hs.target="qWt",r.HWt?(NB(r.Hs,"learn more"),r.Hs.className="theoplayer-ad-overlay-component theoplayer-ad-touch-clickthrough",r.Hs.setAttribute("rel","noopener")):oo(r.Hs),r.h7.appendChild(r.Hs),r.BI(),r}vr(n,t);var i=n.prototype;return i.NI=function(){if(!this.We){this.We=!0,this.Hs.style.display="",this.HWt||(this.h7.style.cursor="pointer");var t=this.HWt?this.Hs:this.h7;tr.Zs.Ye?(t.addEventListener("touchstart",this.VWt),t.addEventListener("touchend",this.WWt)):(t.addEventListener("mousedown",this.VWt),t.addEventListener("click",this.WWt))}},i.BI=function(){if(this.We){this.We=!1,this.Hs.style.display="none",this.HWt||(this.h7.style.cursor="");var t=this.HWt?this.Hs:this.h7;tr.Zs.Ye?(t.removeEventListener("touchstart",this.VWt),t.removeEventListener("touchend",this.WWt)):(t.removeEventListener("mousedown",this.VWt),t.removeEventListener("click",this.WWt))}},i.Ou=function(){this.Lo(),this.BI(),this.h7.removeChild(this.Hs)},hr(n,[{key:"FWt",get:function(){return this.UWt},set:function(t){this.UWt!==t&&(this.UWt=t,this.Hs.href=null!=t?t:"",t?this.NI():this.BI())}}]),n}(Ua);!function(t){t.zWt="theo-size-xs",t.XWt="theo-size-s",t.GWt="theo-size-m",t.QWt="theo-size-l",t.KWt="theo-size-xl"}(bZ||(bZ={}));var PZ=[1200,992,768,576],OZ={1200:"theo-size-xl",992:"theo-size-l",768:"theo-size-m",576:"theo-size-s"},BZ=function(){function t(t,n){var i=this;this.Hs=t,this.E0=n,this.yn=function(t){i.jWt(t.width)},this.YWt=LZ(n.tW),io(this.Hs,this.YWt),n.wn(ZR.gn,this.yn)}var n=t.prototype;return n.jWt=function(t){var n=LZ(t);n!==this.YWt&&(io(this.Hs,n),function(t,n){if(void 0!==t.classList)t.classList.remove(n);else if(void 0!==t.className){for(var i=" "+to(t)+" ",r=" "+n+" ";-1!==i.indexOf(r);)i=i.replace(r," ");no(t,i.trim())}}(this.Hs,this.YWt),this.YWt=n)},n.bn=function(){this.E0.pn(ZR.gn,this.yn)},t}();function LZ(t){for(var n=0;n<PZ.length;n++){var i=PZ[n];if(t>i)return OZ[i]}return"theo-size-xs"}var MZ=function(t){function n(n,i){var r;return(r=t.call(this)||this).iqt=function(){r.To(new Va("zy"))},r.Hs=e.createElement("div"),r.je.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",r.je.style.position="absolute",r.ZWt=e.createElement("span"),r.je.appendChild(r.ZWt),i&&(r.nqt=e.createElement("div"),r.nqt.className="theoplayer-ad-skip-poster",r.nqt.style.backgroundImage='url("'+Dc(i)+'")',r.je.appendChild(r.nqt)),r.aU="countdown",r.sqt=new BZ(r.je,n),r}vr(n,t);var i=n.prototype;return i.JWt=function(t){"countdown"!==this.aU&&(this.aU="countdown",this.$Wt(),this.je.classList.remove("theoplayer-ad-skip-button"),this.je.classList.add("theoplayer-ad-skip-countdown")),this._P="You can skip in "+l.round(t)+" seconds"},i.tqt=function(){"skip"!==this.aU&&(this.aU="skip",this._P="Skip Ad",this.eqt(),this.je.classList.remove("theoplayer-ad-skip-countdown"),this.je.classList.add("theoplayer-ad-skip-button"))},i.eqt=function(){this.je.addEventListener("mouseup",this.iqt),this.je.addEventListener("touchend",this.iqt)},i.$Wt=function(){this.je.removeEventListener("mouseup",this.iqt),this.je.removeEventListener("touchend",this.iqt)},i.bn=function(){this.Lo(),this.$Wt(),this.sqt.bn(),Js(this.Hs),Js(this.ZWt),this.nqt&&Js(this.nqt)},hr(n,[{key:"je",get:function(){return this.Hs}},{key:"bw",get:function(){return this.aU}},{key:"_P",get:function(){return this.ZWt.textContent||""},set:function(t){NB(this.ZWt,t)}}]),n}(Ua),xZ=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).lbt=ZE.Nl(),u.Eqt=void 0,u.Kl=!1,u.ZO=void 0,u.mqt=void 0,u.tf=jk.zl,u.Pqt=!1,u.Ho=ZE.Nl(),u.RZ=void 0,u.Yl=!1,u.$T=new ky,u.eS=new ky,u.xu=new wk,u.Clt=NaN,u.kqt=void 0,u.wqt=!1,u.Sqt=NaN,u.bqt=void 0,u.lqt=0,u.Mqt=function(t,n){switch(t){case"buffered":u.lbt=new ZE(n),u.To(new SC(u._g()));break;case"currentProgramDateTime":u.Eqt=new Date(n).getTime()-u._g();break;case"played":u.Ho=new ZE(n);break;case"seekable":u._qt();break;case"videoHeight":u.Aqt(void 0,n);break;case"videoWidth":u.Aqt(n,void 0)}},u.KY=function(t){switch(t.type){case $l.If:u.Xe(t.currentTime);break;case $l.Tf:u.Cf();break;case $l.gm:u.To(new iX(t.representation,t.previousRepresentation));break;case $l.wm:u.To(new LV(t.segmentStartTime,t.error,t.trackType,t.track,t.quality,t.retryCount));break;case $l.Yw:u.To(new EF(t.currentTime,t.initDataType,t.initData));break;case $l.Xw:u.To(new BO(new by(Rl.CONTENT_PROTECTION_ERROR,t.error,void 0,t.licenseAcquisitionURL,t.status,t.statusText,t.licenseAcquisitionMessage,t.systemCode)));break;case $l.Gw:u.To(new LO)}},u.vVt=function(t){u._qt(),u.vqt(),u.sh(),u.pqt(),u.Tqt(),u.fqt(),u.oqt(),u.rqt(),u.Rqt(),u.xqt(),u.Bqt(),t||UZ(u.PHt.NA)&&u.Mh()},u.Jdt=function(){u.Tqt(),u.Bqt()},u.Fqt=function(t){u.To(t)},u.HHt=function(t){u.kqt=void 0,u.To(new RK(t))},u.Nqt=function(){u.jl()},u.Oqt=function(){u._8.zy()},u.Ko=n,u.FHt=i,u.PHt=r,u._8=new RZ(n,r),u.IVt=e.xVt(),u.Zl=e.vg()-u.IVt,u.Ql=e.Bg(),u.HF=e.Lg(),u.RVt=e.jg(),u.CVt=e.Gg(),u.PHt.DHt(u.KY),u.PHt.RHt(u.Mqt),u.PHt.BHt(u.vVt),u.PHt.wn(bK.EHt,u.Fqt),u.PHt.OHt().then((function(t){u.To(new NK(t.bt,t.JM))}),u.HHt),u}vr(n,t);var i=n.prototype;return i.rqt=function(){var t=this.PHt.NA.activeTrackIds;if(t){if(this.hqt()){var n=this.eS.Kv.map((function(t){return t.o})),i=this.$T.Kv.map((function(t){return t.o}));ia(n.concat(i),"0")&&t.push(0)}XZ(t,this.$T),XZ(t,this.eS),function(t,n){for(var i=!1,r=0,e=n.Kv;r<e.length;r++){var u=e[r];u.MVt=ia(t,u.cw)?Yp.Qn:Yp.Th}}(t,this.xu)}},i.oqt=function(){var t,n=null==(t=this.PHt.NA.media)?void 0:t.tracks;if(n){var i=n.filter(iZ),r=n.filter(rZ),e=n.filter(eZ);if(HZ(this.$T,i.map((function(t){return t.trackId}))),HZ(this.eS,r.map((function(t){return t.trackId}))),HZ(this.xu,e.map((function(t){return t.trackId}))),this.hqt()&&0===r.length&&0!==this.jg()){var u=this.aqt();r.push(u)}if(this.hqt()&&0===i.length){var s=this.uqt();i.push(s)}VZ(i,this.$T),VZ(r,this.eS),function(t,n){for(var i=!1,r=0;r<t.length;r++){var e=t[r],u=FZ(n,e.trackId);u||(u=new uZ(e),n.tt(u),i=!0)}}(e,this.xu)}},i.cqt=function(){this.Ql||(this.lqt=a(this.Jdt,250))},i.dqt=function(){h(this.lqt)},i.fqt=function(){this.dqt(),this.cqt()},i._qt=function(){var t,n,i=this.PHt.NA,r=i.media,e=null!=(n=null==r?void 0:r.duration)?n:NaN,u=(null==r?void 0:r.streamType)===chrome.cast.media.StreamType.LIVE||e<0,s=u?1/0:e;this.Zl=s,this.gqt();var o=i.getEstimatedLiveSeekableRange(),c=null==(t=i.customData)?void 0:t.buffers;if(Cr(o)){var a=o.start,h=o.end,f=o.isMovingWindow,v=void 0===f?u:f,d=o.isLiveDone,l=void 0!==d&&d;this.rPt(a,h,v,l)}else if(Cr(c)){var _=Fo(c.seekable,2),g=_[0],w=_[1];this.rPt(g,w,u,!1)}else u?this.rPt(void 0,void 0,!0,!1):this.rPt(0,s,!1,!1)},i.vqt=function(){var t=this.PHt.NA,n=function(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.PAUSED}(t)||UZ(t);this.wqt=n,this.Ql!==n&&(this.Ql=n,this.Ql?this.To(new yE(this._g())):this.To(new mE(this._g())))},i.sh=function(){var t=this.PHt.NA.playbackRate;this.mqt!==t&&(this.mqt=void 0,this.HF!==t&&(this.HF=t,this.To(new kE(this._g(),t))))},i.pqt=function(){var t;switch(this.PHt.NA.playerState){case chrome.cast.media.PlayerState.IDLE:t=jk.zl;break;case chrome.cast.media.PlayerState.BUFFERING:t=jk.Jn;break;case chrome.cast.media.PlayerState.PAUSED:case chrome.cast.media.PlayerState.PLAYING:t=jk._f}this.GZ(t),this.yqt()},i.rPt=function(t,n,i,r){Cr(t)&&Cr(n)?this.RZ=new MD(t,n,i,i&&!r):this.RZ=void 0},i.Aqt=function(t,n){this.CVt=null!=n?n:this.CVt,this.RVt=null!=t?t:this.RVt,this.To(new Yk)},i.Xe=function(t){this.bqt!==t?(this.Yl=!0,this.To(new bE(this._g()))):this.bqt=void 0},i.Cf=function(){if(this.Yl){this.Yl=!1;var t=this._g();this.To(new Fw(t,this.cg())),this.To(new TE(t))}},i.Mh=function(){this.Kl=!0,this.pg()&&this.To(new AE(this._g()))},i.gqt=function(){var t=this.Clt,n=this.vg();t===n||w(t)&&w(n)||(this.Clt=n,this.To(new pE(n)))},i.Tqt=function(){var t=this._g();this.Yl||this.Sqt===t||(this.Sqt=t,this.To(new Fw(t,this.cg())))},i.PVt=function(){this.Ql&&(this.Ql=!1,this.To(new mE(this._g())),this.GZ(jk.zl))},i.O5=function(){return this._8},i.ag=function(){return this.lbt.Ey(this.IVt)},i._g=function(){if(this._8.j5){var t=this.PHt.qHt();if(void 0!==t)return t}return this.k5()},i.k5=function(){return void 0!==this.kqt?this.IVt+this.kqt:this.Kl?this.vg():this.IVt+this.PHt.WHt()},i.cg=function(){if(this.Eqt)return new Date(this.k5()+this.Eqt)},i.vg=function(){if(this._8.j5){var t,n=null==(t=this._8.Y5[0])?void 0:t.ct;if(void 0!==n&&!w(n))return n}return this.IVt+this.Zl},i.yg=function(){return this.ZO},i.pg=function(){return!this._8.j5&&this.Kl},i.Bg=function(){return this.Ql},i.Lg=function(){return this.HF},i.Iu=function(t){this.HF!==t&&(this.mqt=this.HF,this.HF=t,this.To(new kE(this._g(),t)),this.PHt.Iu(t))},i.Hg=function(){return this.tf},i.Og=function(){return this._8.j5?ZE.MF(0,this._g()):this.Ho.Ey(this.IVt)},i.Vg=function(){var t,n;if(this._8.j5)return ZE.Nl();var i=null!=(n=null==(t=this.RZ)?void 0:t.UY().Ey(this.IVt))?n:ZE.Nl();if(i.U>0){var r=i.Pn(i.U-1);i=i.Hl(ZE.MF(r,this._g()))}return i},i.Wg=function(){return this.Yl},i.rg=function(){return this.$T},i.Qg=function(){return this.eS},i.zg=function(){return this.xu},i.aqt=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",frameRate:0,height:this.Gg(),id:"0",name:"",width:this.jg()},enabled:!0,id:"0",kind:"main",label:"",language:"",qualities:[],uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:$K.vl}},i.uqt=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",id:"0",name:"",audioSamplingRate:0},qualities:[],enabled:!0,id:"0",kind:"main",label:"",language:"",uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:$K.yy}},i.hqt=function(){var t,n;return!(void 0!==(null==(t=this.FHt.MHt())?void 0:t.version))||(null==(n=this.FHt.MHt())?void 0:n.sdkType)===aZ.qVt},i.VHt=function(t){this.hqt()&&$c(t,0),this.PHt.VHt(t)},i.jg=function(){return this.RVt},i.Gg=function(){return this.CVt},i.dl=function(){this.Ql&&(this.Ql=!1,this.wqt=!1,this.To(new mE(this._g()))),this.PHt.dl()},i.jl=function(){this.Ql||(this.Ql=!0,this.wqt=!0,this.To(new yE(this._g()))),this.PHt.jl()},i.gc=function(t){if(!this._8.j5){var n=l.max(0,t-this.IVt);n=l.round(1e6*n)/1e6;var i=this.kqt;this.kqt=n,this.wqt=this.Bg(),this.bqt=n,this.Yl=!0,this.To(new bE(this._g())),void 0===i&&this.t1(n)}},i.t1=function(t){this.PHt.gc(t,this.wqt).then(this.Iqt(t)).catch(this.HHt)},i.Iqt=function(t){var n=this;return function(){void 0!==n.kqt&&(n.kqt===t?n.kqt=void 0:n.t1(n.kqt))}},i.GZ=function(t){this.tf!==t&&(this.tf=t,this.To(new Kk(this._g(),t))),void 0===this.kqt&&this.Yl&&t>=jk.Hf&&this.Cf(),this.yqt()},i.yqt=function(){if(this.Ql)this.Pqt=!1;else{var t=this.tf>=jk._f;this.Pqt!==t&&(this.Pqt=t,t?this.To(new iA(this._g())):this.To(new $k(this._g())))}},i.Rqt=function(){this.Cqt||(this.Cqt=e.createElement("div"),this.Ko.je.appendChild(this.Cqt),this.Cqt.className="theoplayer-ad-linear theoplayer-chromecast-ad",this.Cqt.style.zIndex="10",oo(this.Cqt)),this.Cqt.style.display=this._8.j5?"":"none"},i.xqt=function(){var t,n=null==(t=this._8.Y5[0])?void 0:t.QMt;n&&!this.Dqt?(this.Dqt=new DZ(this.Cqt,!0),this.Dqt.FWt=n,this.Dqt.wn("clickstart",this.Nqt)):this.Dqt&&(this.Dqt.FWt=n)},i.Bqt=function(){var t,n=null==(t=this._8.Y5[0])?void 0:t.TFt;if(void 0===n||n<0)this.Lqt&&(this.Lqt.bn(),this.Lqt=void 0);else{if(!this.Lqt){var i,r=null==(i=this.Ko.ka)?void 0:i.mi;this.Lqt=new MZ(this.Ko.k0,r),this.Cqt.appendChild(this.Lqt.je),this.Lqt.wn("zy",this.Oqt)}var e=this.PHt.qHt();void 0!==e&&(e<n?this.Lqt.JWt(n-e):this.Lqt.tqt())}},i.xVt=function(){return this.IVt},i.DVt=function(t){this.IVt=t},i.g8=function(t){},i.xl=function(){this.PHt.xl()},i.bn=function(){this.Lo(),this._8.bn(),this.Dqt&&(this.Dqt.Ou(),this.Dqt=void 0),this.Lqt&&(this.Lqt.bn(),this.Lqt=void 0),this.Cqt&&(Js(this.Cqt),this.Cqt=void 0),this.PHt.NHt(this.KY),this.PHt.xHt(this.Mqt),this.PHt.LHt(this.vVt),this.PHt.pn(bK.EHt,this.Fqt),this.PHt.bn()},n}(Ua);function UZ(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.IDLE&&t.idleReason===chrome.cast.media.IdleReason.FINISHED}function FZ(t,n){for(var i=0,r=t.Kv;i<r.length;i++){var e=r[i];if(e.cw===n)return e}}function HZ(t,n){for(var i=!1,r=0;r<t.U;r++){var e=t.Zv(r);-1===n.indexOf(e.cw)&&(t.it(e),r--,i=!0)}return i}function VZ(t,n){for(var i=!1,r=0;r<t.length;r++){var e=t[r],u=FZ(n,e.trackId);u||(u=new fZ(e),n.tt(u),i=!0)}return i}function XZ(t,n){for(var i=0,r=n.Kv;i<r.length;i++){var e=r[i];e.VVt=ia(t,e.cw)}return!1}var zZ=function(){function t(){}var n=t.prototype;return n.cl=function(t){return $.resolve("all")},n.uv=function(){},n.bn=function(){},t}();var WZ=[$l.Pf,$l.Nf,$l.Vu,$l.vm,$l.Ch,$l.Ph,$l.Rf,$l.Lu,$l.If,$l.Tf,qk.Yf,qk.Qf,$l.gm,$l.wm,$l.Yw,$l.Xw,$l.Gw],GZ=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).ao=!1,r.nzt=Vr,r.kB=jk.zl,r.pB=!1,r.bB=!1,r.Xqt=!1,r.qqt=void 0,r.ZO=void 0,r.Vl=void 0,r.$T=new aS,r.eS=new aS,r.xu=new hS,r.VF=new tI,r.tS=new bS,r.ll=new zZ,r.ozt=function(t){var n,i;(Cr(t._l)&&!De(t._l,r.Qx,1e-5)||Cr(t.Xu)&&t.Xu!==r.UF)&&(r.Qx=null!=(n=t._l)?n:r.Qx,r.UF=null!=(i=t.Xu)?i:r.UF,r.To(new SE(r.Wu,r.Qx)))},r.azt=function(){var t=r.FHt.wVt();r.Dvt=t?new xZ(Uc(r),r.FHt,t,r.Pa):r.rzt()},r.Vqt=function(t){r.aF(t.bt),r.Uqt(t.JM)},r.uzt=function(t){var n=r.Hqt(t.MA);if(n){var i={targetQualityIds:t.oVt};n.FVt(i)}},r.Fqt=function(t){r.Qqt(t.lt)},r.Qqt=function(t){r.nzt&&r.nzt(t)},r.hzt=function(t){r.ZO=t.lt,r.Vl=Iy(r.ZO),r.To(new DT(r.Vl))},r.$qt=function(t){if(t.enabled)for(var n=0,i=(r.rt.Kv.some((function(n){return n.cw===t.trackId}))?r.rt:r.ht).Kv;n<i.length;n++){var e=i[n];e.Rt&&e.cw!==t.trackId&&(e.Rt=!1)}},r.tzt=function(t){if(t.mode===Yp.Qn)for(var n=0,i=r.nt.Kv;n<i.length;n++){var e=i[n];e.bw===Yp.Qn&&e.cw!==t.trackId&&pk(e.Lt,t.track.Lt)&&(e.bw=Yp.Th)}},r.rqt=Wr((function(){r.ezt()}),50),r.Zyt=function(t){var n=r.izt(t.targetQuality),i=t.track;r.FHt.aVt(i.cw,i.PY,n)},r.BB=function(t){r.To(t);var n=t.readyState;!r.pB&&r.kB===jk.zl&&n>=jk.Jn&&(r.pB=!0,r.To(new Zk(t.currentTime))),!r.bB&&r.kB<=jk.Jn&&n>=jk.Hf&&(r.bB=!0,r.To(new Jk(t.currentTime))),r.kB<=jk.Hf&&n>=jk._f&&r.To(new tA(t.currentTime)),r.kB<=jk._f&&n===jk.Wl&&r.To(new nA(t.currentTime)),r.kB=n},r.Qx=r.Ko._l,r.UF=r.Ko.Xu,r.FHt=i,r.FHt.wn(FK.EHt,r.Fqt),r.FHt.wn(FK.nVt,r.hzt),r.FHt.wn(FK.Il,r.ozt),r.FHt.wn(FK.sVt,r.azt),r.FHt.wn(FK.rVt,r.uzt),r._8=new pM(Uc(r)),r.tF=r.Ko.bt,r.cut=r.Ko.qg(),r.Dvt=new JK(Uc(r),0,r.Ko.k5(),r.Ko.vg(),r.Ko.Ic,r.Ko.Dc,r.Ko.$u,r.Ko.Kg,r.Ko.Xg),r.Kqt(),r}vr(n,t);var i=n.prototype;return i.aF=function(t){t&&(ny(this.tF&&ey(this.tF),t&&ey(t))||(this.tF=t,this.To(new LE(t))))},i.Uqt=function(t){if(t){var n=nR(t,this.Ko.xb);ny(this.cut&&ey(this.cut),n&&ey(n))||(this.Pa.DVt(0),this.cut=n,this.To(new qL(n)),this.Pa.PVt())}},i.Hqt=function(t){for(var n=0,i=this.rt.Kv;n<i.length;n++){var r=i[n];if(r.cw===t)return r}for(var e=0,u=this.ht.Kv;e<u.length;e++){var s=u[e];if(s.cw===t)return s}},i.O5=function(){return this._8},i.M5=function(){return this.ll},i.rg=function(){return this.$T},i.ag=function(){return this.Pa.ag().ws()},i.On=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return t?[4,i.mVt(t,null!=(r=t.ads)?r:[],t.streamType,NaN,0,null!=n?n:0)]:[2];case 1:return e.sent(),[2]}}))}))()},i.zqt=function(t){var n=this;return Mo((function(){var i,r,e,u,s,o,c,a,h;return Uo(this,(function(f){switch(f.label){case 0:return(r=null!=(i=n.qqt)?i:n.cut)?(u=n.qqt?null!=(e=n.qqt.ads)?e:[]:n.A8(),s=n.Ko.vg(),o=n.Ko.Vg(),c=function(t,n,i){return w(t)?i:t===1/0?"live"===i||"dvr"===i?i:n&&n.length>0&&n.end(n.length-1)-n.start(0)>60?"dvr":"live":"vod"}(s,o,r.streamType),a=o.length>0?o.start(0):0,h=null!=t?t:n.k5(),[4,n.mVt(r,u,c,s,a,h)]):[2];case 1:return f.sent(),[2]}}))}))()},i.A8=function(){var t=new kM;return this._8.g8(t),t.A8()},i.cg=function(){return this.Pa.cg()},i.fg=function(){return this.tF},i._g=function(){return this.Pa._g()},i.k5=function(){return this.Pa.k5()},i.gg=function(t){this.Xqt||(this.FHt.wVt()||this.Xqt||!this.cut?this.Pa.gc(t):this.On(this.cut,t))},i.vg=function(){return this.Pa.vg()},i.pg=function(){return this.Pa.pg()},i.yg=function(){return this.ZO},i.Ag=function(){return this.Vl},i.Sg=function(){return this.tS},i.Rg=function(){return this.Ko.Pg},i.Cg=function(){return this.UF},i.xg=function(t){this.UF=t,this.To(new SE(this.Wu,this._l)),this.FHt.xg(t)},i.Bg=function(){return this.Pa.Bg()},i.Lg=function(){return this.Pa.Lg()},i.Iu=function(t){this.Pa.Iu(t)},i.Og=function(){return this.Pa.Og().ws()},i.Fg=function(){return GE.XT},i.Ug=function(t){},i.Hg=function(){return this.Pa.Hg()},i.Vg=function(){return this.Pa.Vg().ws()},i.Wg=function(){return this.Pa.Wg()},i.qg=function(){return this.cut},i.ba=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.cut=t,[4,n.On(t)];case 1:return i.sent(),n.qqt=void 0,n.Pa.PVt(),[2]}}))}))()},i.zg=function(){return this.xu},i.Gg=function(){return this.Pa.Gg()},i.jg=function(){return this.Pa.jg()},i.Qg=function(){return this.eS},i.Yg=function(){return this.Qx},i.Zg=function(t){this.Qx=t,this.To(new SE(this.Wu,this._l)),this.FHt.Zg(t)},i.rv=function(){},i.ev=function(){return this.VF},i.uv=function(){},i.dl=function(){this.FHt.wVt()||this.Xqt||!this.cut?this.Pa.dl():this.On(this.cut)},i.jl=function(){this.Pa.jl()},i.hv=function(){this.ao=!0},i.ov=function(){this.tF=void 0,this.ao=!1},i.be=function(){},i.ke=function(){},i.mVt=function(t,n,i,r,e,u){var s=this;return Mo((function(){var o,c,a,h;return Uo(this,(function(f){switch(f.label){case 0:s.Xqt=!0,s.Gqt(),s.Pa.DVt(e),c=function(t,n,i){return{theoplayer_version:1,streamStart:t,isLive:n,sourceDescription:i}}(e,o="live"===i||"dvr"===i,t),a={pVt:t,L5:n,Wu:l.max(0,u-e),ct:r,DQ:o?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED,yVt:c},f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,s.FHt.mVt(a)];case 2:return f.sent(),[3,5];case 3:return h=f.sent(),s.Qqt(h),[3,5];case 4:return s.Xqt=!1,[7];case 5:return[2]}}))}))()},i.Kqt=function(){this.jqt(this.$T),this.jqt(this.eS),this.Yqt(this.xu)},i.jqt=function(t){for(var n=this,i=0,r=t.Kv;i<r.length;i++){var e=r[i];this.Zqt(e)}t.wn(Xw.bv,(function(t){n.Zqt(t.Ht)}))},i.Yqt=function(t){for(var n=this,i=0,r=t.Kv;i<r.length;i++){var e=r[i];this.Jqt(e)}t.wn(Xw.bv,(function(t){n.Jqt(t.Ht)}))},i.Zqt=function(t){t.wn(QK.BVt,this.Zyt),t.wn(QK.LVt,this.$qt),t.wn(QK.LVt,this.rqt)},i.Jqt=function(t){t.wn(QK.NVt,this.tzt),t.wn(QK.NVt,this.rqt)},i.ezt=function(){for(var t=[],n=0,i=this.rt.Kv;n<i.length;n++){var r=i[n];r.Rt&&t.push(r.cw)}for(var e=0,u=this.ht.Kv;e<u.length;e++){var s=u[e];s.Rt&&t.push(s.cw)}for(var o=0,c=this.nt.Kv;o<c.length;o++){var a=c[o];a.bw===Yp.Qn&&t.push(a.cw)}this.Pa.VHt(t)},i.izt=function(t){var n,i;return!!t&&((null!=(i=null==(n=this.FHt.MHt())?void 0:n.version)?i:-1)>=2?t.map((function(t){return t.o})):[t[0].o])},i.szt=function(t){this.nzt=t},i.wv=function(){},i.mv=function(){},i.xl=function(){var t=this;return Mo((function(){return Uo(this,(function(n){return t.Pa.xl(),t.Gqt(),[2]}))}))()},i.Gqt=function(){this.kB=jk.zl,this.pB=!1,this.bB=!1,this.ZO=void 0,this.Vl=void 0},i.bn=function(){var t=this;return Mo((function(){return Uo(this,(function(n){return t.Gqt(),t.Lo(),t.Dvt=t.rzt(),t.FHt.pn(FK.EHt,t.Fqt),t.FHt.pn(FK.nVt,t.hzt),t.FHt.pn(FK.Il,t.ozt),t.FHt.pn(FK.sVt,t.azt),t.FHt.pn(FK.rVt,t.uzt),t.FHt.bn(),[2]}))}))()},i.rzt=function(){return new JK(this,this.Pa.xVt(),this.Pa._g(),this.Pa.vg(),this.Pa.pg(),this.Pa.Bg(),this.Pa.Lg(),this.Pa.jg(),this.Pa.Gg())},hr(n,[{key:"Dvt",get:function(){return this.Pa},set:function(t){var n=this.Pa;n&&(n.pn(bK.EHt,this.Fqt),n.pn(bK.IHt,this.Vqt),n.pn(WZ,this.Os),n.pn(qk.Bf,this.BB),t.DVt(n.xVt()),n.g8(t.O5())),this.Pa=t,this.$T.$v=t.rg(),this.eS.$v=t.Qg(),this.xu.$v=t.zg(),this._8.$v=t.O5(),n&&n.bn(),t.wn(bK.EHt,this.Fqt),t.wn(bK.IHt,this.Vqt),t.wn(WZ,this.Os),t.wn(qk.Bf,this.BB)}},{key:"oo",get:function(){return this.ao}},{key:"L5",get:function(){return this.O5()}},{key:"Wqt",get:function(){return this.qqt||this.cut},set:function(t){this.qqt=t}},{key:"Wu",get:function(){return this._g()},set:function(t){this.gg(t)}},{key:"tv",get:function(){return!1},set:function(t){}}]),n}(KT),qZ=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=n,i}return vr(n,t),n.prototype.pa=function(){return new YZ(this.lt)},n}(Hw),YZ=function(t){function n(n){var i;return(i=t.call(this,"error")||this).error=n,i}return vr(n,t),n}(Va),jZ=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return vr(n,t),n}(Va);function QZ(t,n){var i=void 0;return{get casting(){return t.Mz},get error(){return t.lt},get receiverName(){return t.czt},get state(){return t.Dvt},start:function(){t.Tn()},stop:function(){t.xl()},join:function(){t.lzt()},leave:function(){t.dzt()},set connectionCallback(t){null==n||n.fzt(t)},get connectionCallback(){return null==n?void 0:n._zt()},get source(){return i||t.JM},set source(n){i=n,t.JM=n},addEventListener:function(n,i){var r=fy(n,ay);t.wn(r,i)},removeEventListener:function(n,i){var r=fy(n,ay);t.pn(r,i)}}}var KZ=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).ZO=void 0,u.Gu=void 0,u.Ko=void 0,u.Pa=DI.UNAVAILABLE,u.mzt=!1,u.Lzt=function(){u.gzt.wn(VK.EVt,u.Bzt),u.Dvt=u.gzt.Ozt()},u.Bzt=function(t){var n=t.Dvt;u.Dvt=n,n!==DI.UNAVAILABLE&&n!==DI.AVAILABLE||u.Szt(!1).catch(u.q$)},u.qqt=void 0,u.q$=function(t){t instanceof rQ&&(u.ZO=t,u.To(new qZ(t).ma))},u.qq=n,u.wzt=i,u.gzt=e,u.al=r.chromecast,u.yzt=u.gzt.Jq(u.al),u.yzt.then(u.Lzt).catch(u.q$),u}vr(n,t);var i=n.prototype;return i.pzt=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:if(!t.yzt)throw new f("Chromecast must be initialized before starting a session");return[4,t.yzt];case 1:return n.sent(),t.gzt.vzt()?[3,3]:[4,t.gzt.Azt()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))()},i.Tn=function(){var t=this;return Mo((function(){var n,i,r;return Uo(this,(function(e){switch(e.label){case 0:t.mzt=!0,e.label=1;case 1:return e.trys.push([1,5,,6]),t.Dvt=DI.CONNECTING,[4,t.pzt()];case 2:return e.sent(),[4,t.bzt()];case 3:return e.sent(),t.Ko&&(n=t.wzt.qg(),i=t.gzt.Tzt(n),t.Ko.Wqt=i?nR(i,t.wzt.xb):t.qqt,t.Ko.zqt()),t.Dvt=DI.CONNECTED,[4,t.wzt.xl()];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),t.Szt(!1).catch(Vr),t.Dvt=DI.AVAILABLE,Aa(r)||t.q$(r),[3,6];case 6:return[2]}}))}))()},i.lzt=function(){var t=this;return Mo((function(){var n,i,r;return Uo(this,(function(e){switch(e.label){case 0:t.mzt=!0,e.label=1;case 1:return e.trys.push([1,5,,7]),t.Dvt=DI.CONNECTING,[4,t.pzt()];case 2:return e.sent(),[4,t.bzt()];case 3:return e.sent(),t.Ko&&(n=t.wzt.qg(),(i=t.gzt.kzt(n))&&(t.Ko.Wqt=nR(i,t.wzt.xb))),t.Dvt=DI.CONNECTED,[4,t.wzt.xl()];case 4:return e.sent(),[3,7];case 5:return r=e.sent(),[4,t.Szt(!0).catch(Vr)];case 6:return e.sent(),t.Dvt=DI.AVAILABLE,Aa(r)||t.q$(r),[3,7];case 7:return[2]}}))}))()},i.Ezt=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.gzt.vzt()?[4,t.Tn()]:[2];case 1:return n.sent(),[2]}}))}))()},i.bzt=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return null!=t.Ko||(t.Ko=t.Izt()),t.ZO=void 0,t.wzt.jl(),[4,t.qq.Pzt(t.Ko)];case 1:return n.sent(),[2]}}))}))()},i.Izt=function(){var t=new GZ(this.wzt,this.gzt.vzt());return t.szt(this.q$),t},i.Rzt=function(){this.Ko&&(this.Ko.bn(),this.Ko=void 0)},i.Szt=function(t){var n=this;return Mo((function(){var i,r,e,u;return Uo(this,(function(s){switch(s.label){case 0:if(n.mzt=!1,!n.Ko)return[2];i=n.Ko.oo,r=n.Ko.qg(),e=n.Ko.k5(),s.label=1;case 1:return s.trys.push([1,,4,5]),i?(null!=(u=t?n.gzt.Czt(r):n.gzt.xzt(r))||(u=r),[4,n.qq.Dzt(u,u===r)]):[3,3];case 2:s.sent(),n.wzt.gg(e),n.wzt.dl(),s.label=3;case 3:return[3,5];case 4:return n.Rzt(),[7];case 5:return[2]}}))}))()},i.dzt=function(){this.Mz&&(this.gzt.Nzt(!1),this.Szt(!0).catch(this.q$))},i.xl=function(){this.Mz&&(this.gzt.Nzt(!0),this.Szt(!1).catch(this.q$))},i.bn=function(){this.gzt.pn(VK.EVt,this.Bzt),this.Lo(),this.Rzt()},hr(n,[{key:"Mz",get:function(){return this.Dvt===DI.CONNECTING||this.Dvt===DI.CONNECTED}},{key:"lt",get:function(){return this.ZO}},{key:"ma",get:function(){return this.Gu||(this.Gu=QZ(this,this.gzt)),this.Gu}},{key:"czt",get:function(){var t;return null==(t=this.gzt.vzt())?void 0:t.bVt()}},{key:"JM",get:function(){return this.Ko?this.Ko.Wqt:this.qqt},set:function(t){this.qqt=t?nR(t,this.wzt.xb):void 0,this.Ko&&(this.Ko.Wqt=this.qqt,this.qqt&&this.Ko.On(this.qqt))}},{key:"Dvt",get:function(){return this.Pa},set:function(t){var n=t;this.mzt||n!==DI.CONNECTING&&n!==DI.CONNECTED||(n=DI.AVAILABLE),this.Pa!==n&&(this.Pa=n,this.To(new jZ(this.Dvt)))}}]),n}(Ha),ZZ=function(t){function n(){return t.apply(this,arguments)}vr(n,t);var i=n.prototype;return i.lzt=function(){tr.Um("Joining a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.dzt=function(){tr.Um("Leaving a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.Tn=function(){tr.Um("Starting a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.xl=function(){tr.Um("Stopping a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.Ezt=function(){return $.resolve()},i.bn=function(){},hr(n,[{key:"Mz",get:function(){return!1}},{key:"lt",get:function(){}},{key:"czt",get:function(){}},{key:"JM",get:function(){},set:function(t){}},{key:"Dvt",get:function(){return DI.UNAVAILABLE}},{key:"ma",get:function(){return this.Gu||(this.Gu=QZ(this)),this.Gu}}]),n}(Ha);function JZ(t){return{Wu:t._g(),ct:t.vg(),Ic:t.Ic,lt:t.yg(),Ec:t.Ag(),Xu:t.Xu,Dc:t.Dc,$u:t.$u,Nc:t.Nc,Fc:t.Fc,Xg:t.Xg,Kg:t.Kg,_l:t._l}}var $Z=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).$T=new aS,r.eS=new aS,r.xu=new hS,r.tS=new LS,r.$T.$v=n.ht,r.eS.$v=n.rt,r.xu.$v=n.nt,r.tS.$v=n.Tg,r._8=new pM(Uc(r)),r._8.$v=n.L5,r}vr(n,t);var i=n.prototype;return i.O5=function(){return this._8},i.rg=function(){return this.$T},i.Sg=function(){return this.tS},i.zg=function(){return this.xu},i.Qg=function(){return this.eS},i.iS=function(t){var n=this.Ko;if(n!==t){var i;this.F5&&(n.J_(this.Av),i=JZ(this));var r=this.fg(),e=this.ev(),u=this.rv();if(this.Ko=t,this.$T.$v=t.ht,this.eS.$v=t.rt,this.xu.$v=t.nt,this.tS.$v=t.Tg,this._8.$v=t.L5,void 0!==i)BE(this,i,JZ(this));var s=this.fg();s!==r&&this.To(new LE(s)),this.ev()!==e&&this.To(new ME),this.rv()!==u&&this.To(new xE),this.F5&&t.Q_(this.Av)}},i.bn=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,t.prototype.bn.call(n)];case 1:return i.sent(),n.$T.bn(),n.eS.bn(),n.xu.bn(),n.tS.bn(),[4,n._8.bn()];case 2:return i.sent(),[2]}}))}))()},hr(n,[{key:"Tg",get:function(){return this.Sg()}}]),n}(KT),tJ=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).qX=new Ul,r.Vzt=n,r.xb.cast.strategy!==IS.DISABLED?r.Mzt=new KZ(Uc(r),n,r.xb.cast,i):r.Mzt=new ZZ,r.m5.Xz(r.Mzt),r}vr(n,t);var i=n.prototype;return i.qg=function(){var n=t.prototype.qg.call(this);return!n&&this.Mzt.Mz&&this.Mzt.JM?this.Mzt.JM:n},i.ba=function(n,i){var r=this;return this.qX.GN((function(i){return r.Fzt=new pa,r.Fzt.U_(i),t.prototype.ba.call(r,n,r.Fzt.M_)}),i)},i.dl=function(){t.prototype.dl.call(this),this.xb.cast.strategy!==IS.AUTO||this.Mzt.Mz||this.Mzt.Ezt()},i.Pzt=function(t){var n=this;return this.qX.GN((function(i){return n.Uzt(t,i)}))},i.Dzt=function(t,n){void 0===t&&(t=void 0),void 0===n&&(n=!1);var i=this;return this.qX.GN((function(r){return i.Hzt(t,n,r)}))},i.Uzt=function(t,n){ba(n),this.Vzt.L5&&this.Vzt.L5.g8(t.L5),this.Wzt=t,this.iS(t),this.Wzt.hv()},i.Hzt=function(t,n,i){var r=this;return Mo((function(){var e,u;return Uo(this,(function(s){switch(s.label){case 0:if(ba(i),void 0===(e=r.Wzt))return[2];s.label=1;case 1:return s.trys.push([1,5,6,7]),t?[4,r.Vzt.xl()]:[3,4];case 2:return s.sent(),ba(i),u=nR(t,r.Vzt.xb),n&&(u.ads=void 0),r.Fzt=new pa,r.Fzt.U_(i),[4,r.Vzt.ba(u,r.Fzt.M_)];case 3:s.sent(),s.label=4;case 4:return n&&r.Vzt.L5&&e.L5.g8(r.Vzt.L5),[3,7];case 5:return Sa(s.sent()),[3,7];case 6:return e.ov(),r.iS(r.Vzt),r.Wzt===e&&(r.Wzt=void 0),[7];case 7:return[2]}}))}))()},i.xl=function(){var n,i=this;return null==(n=this.Fzt)||n.Jl(),this.qX.GN((function(){return t.prototype.xl.call(i)}))},i.bn=function(){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return null==(i=n.Fzt)||i.Jl(),n.Mzt.bn(),[4,n.Dzt()];case 1:return r.sent(),[4,n.qX.bn()];case 2:return r.sent(),[4,t.prototype.bn.call(n)];case 3:return r.sent(),[2]}}))}))()},n}($Z),nJ=function(){function t(t){this.yzt=void 0,this.Gu=void 0,this.gzt=t}var n=t.prototype;return n.Jq=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.yzt||(n.yzt=n.Qzt(t)),[4,n.yzt];case 1:return i.sent(),[2]}}))}))()},n.Qzt=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.gzt.Jq(t)];case 1:return i.sent(),[2]}}))}))()},n.Azt=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:if(!t.yzt)throw new f("Chromecast must be initialized before starting a session");return[4,t.yzt];case 1:return n.sent(),t.gzt.vzt()?[3,3]:[4,t.gzt.Azt()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))()},n.Kzt=function(){this.gzt.Nzt(!1)},n.Gzt=function(){this.gzt.Nzt(!0)},hr(t,[{key:"ma",get:function(){return this.Gu||(this.Gu=function(t){return{initialize:function(n){var i=t.Jq(xS(n));return i.catch(Vr),i},startSession:function(){var n=t.Azt();return n.catch(Vr),n},endSession:function(){t.Gzt()}}}(this)),this.Gu}}]),t}();var iJ=new ZK,rJ=new nJ(iJ),eJ={get chromecast(){return rJ.ma}};nS((function(t){return new tJ(t,iJ)}),jT.V5);var uJ=function(){function t(t){this.nXt=t,this.tXt=Vo(),this.iXt=Vo()}var n=t.prototype;return n.jzt=function(t,n,i,r){var e=this;t.gU.forEach((function(t){if(!e.Yzt(t.Zzt)){var u=t.Jzt(n,i,r);u&&e.$zt(u)}}))},n.Yzt=function(t){return this.tXt.get(t)},n.$zt=function(t){this.tXt.set(t.eXt,t),this.iXt.set(t.eXt,t.sXt),this.nXt.eU(t.rXt)},n.v8=function(t){this.tXt.has(t.eXt)||(this.iXt.set(t.eXt,t),this.nXt.eU(t.rXt))},n.hXt=function(t){return this.iXt.forEach(t)},n.oXt=function(t){return this.tXt.forEach(t)},n.aXt=function(t){var n=!1;return this.tXt.forEach((function(i){n=i.aXt(t)||n})),n},n.bn=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return n=[],t.tXt.forEach((function(t){return n.push(t.bn())})),t.iXt.forEach((function(t){return n.push(t.bn())})),[4,$.all(n)];case 1:return i.sent(),t.tXt.clear(),t.iXt.clear(),[2]}}))}))()},t}(),sJ=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"lXt")||this)._Ut=n,u.pC=i,u.LC=r,u.JM=e,u}return vr(n,t),n.prototype.pa=function(){return new oJ(this._Ut,this.pC,this.LC,this.JM)},n.uXt=function(t){return new n(iK.GENERAL,t.pC,t.vUt)},n.cXt=function(t,i){return new n(t._Ut,t.message,t.vUt,i)},n}(Hw),oJ=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"aderror")||this).problemType=n,u.message=i,u.errorCode=r,u.source=e,u}return vr(n,t),n}(Va),cJ=function(t){function n(n){var i;return(i=t.call(this)||this).mXt=n,i.vXt=!1,i.H0=!1,i.Gu=void 0,i.yXt=function(t){if(i.vXt){var n=new Ty(Ay.ADVERTISEMENT_ERROR,t.pC),r=new Dl(Rl.AD_BLOCKER_DETECTED,t.pC+" Turn off your AdBlocker and try again.",n);i.mXt.OM(r)}},i.N6=function(){i.H0=!0},n.wn($l.Ph,i.N6),i.fXt=new uJ(Uc(i)),i.wn("lXt",i.yXt),i}vr(n,t);var i=n.prototype;return i.g8=function(t){this._Xt((function(n){n.g8(t)}))},i.m$=function(t,n,i){try{this.vXt=i;var r=PI.lC.wU(t),e=this.fXt.Yzt(r.Zzt);if(!e)throw new fK(iK.ADBLOCK,void 0,"Ads could not be loaded.");n!==GL.s8&&this.H0||this.mXt.wXt(e),r.m$(t,n,e,this.vXt)}catch(n){0,this.To(sJ.cXt(n,t.sources))}},i.zy=function(){this._Xt((function(t){t.zy()}))},i.v8=function(t){this.fXt.v8(t)},i.pXt=function(t){this.fXt.oXt((function(n){n.pXt(t)}))},i.aXt=function(t){return this.fXt.aXt(t)},i._Xt=function(t){return this.fXt.hXt(t)},i.uv=function(){this.fXt.oXt((function(t){return t.uv()}))},i.ir=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return t.H0=!1,n=[],t.fXt.oXt((function(t){return n.push(t.xl())})),[4,$.all(n)];case 1:return i.sent(),[2]}}))}))()},i.bn=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.Lo(),t.mXt.pn($l.Ph,t.N6),t.pn("lXt",t.yXt),[4,t.fXt.bn()];case 1:return n.sent(),[2]}}))}))()},hr(n,[{key:"dXt",get:function(){return this.fXt}},{key:"j5",get:function(){var t=!1;return this._Xt((function(n){t=t||n.gXt})),t}},{key:"Y5",get:function(){var t=[];return this._Xt((function(n){var i,r=n.Y5;r.length&&(i=t).push.apply(i,_r(r))})),t}},{key:"J5",get:function(){var t=null;return this._Xt((function(n){null!=t||(t=n.J5)})),t}},{key:"t8",get:function(){var t=[];return this._Xt((function(n){var i;(i=t).push.apply(i,_r(n.t8))})),t}},{key:"e8",get:function(){var t=[];return this._Xt((function(n){var i;(i=t).push.apply(i,_r(n.e8))})),t}},{key:"ma",get:function(){var t;return null!=(t=this.Gu)?t:this.Gu=JL(this)}}]),n}(mI),aJ=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ZO=void 0,r.ZF=void 0,r.oF=!0,r.EXt=1,r.Vzt=n,r.AXt=new cJ(Uc(r)),r.AXt.dXt.jzt(i,n,Uc(r),n.xb),r}vr(n,t);var i=n.prototype;return i.O5=function(){return this.AXt},i.uv=function(){this.Vzt.uv(),this.AXt.uv()},i.dl=function(){void 0===this.ZO?(void 0!==this.SXt&&this.kXt(this.SXt),t.prototype.dl.call(this)):this.To(new DT(this.ZO))},i.ba=function(n,i){var r=this;return Mo((function(){var e,u,s,o;return Uo(this,(function(c){switch(c.label){case 0:return ba(i),[4,t.prototype.ba.call(r,n,i)];case 1:if(c.sent(),ba(i),!n||!n.ads)return[2];for(e=Boolean(n.blockContentIfAdError),r.AXt.pXt(n.playAdsAfterTime),u=0,s=n.ads;u<s.length;u++)o=s[u],r.AXt.m$(o,GL.s8,e);return[2]}}))}))()},i.xl=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.ZO=void 0,n.ZF=void 0,[4,n.AXt.ir()];case 1:return i.sent(),n.Dzt(),[4,t.prototype.xl.call(n)];case 2:return i.sent(),[2]}}))}))()},i.kXt=function(t){this.EXt=this.Ko.$u;var n=this.Ko._l,i=this.Ko.Xu;t.Zg(n),t.xg(i),this.oF&&(this.Vzt.ke(),t.be()),this.TXt=t,this.SXt=void 0,this.iS(t)},i.wXt=function(t){void 0===this.TXt&&(this.SXt=t)},i.Dzt=function(){this.SXt=void 0,void 0!==this.TXt&&(this.Vzt.$u=this.EXt,this.Vzt._l=this._l,this.Vzt.Xu=this.Xu,this.oF&&(this.TXt.ke(),this.Vzt.be()),this.iS(this.Vzt),this.TXt=void 0)},i.yg=function(){var n;return null!=(n=this.ZF)?n:t.prototype.yg.call(this)},i.Ag=function(){var n;return null!=(n=this.ZO)?n:t.prototype.Ag.call(this)},i.OM=function(t){void 0===this.Ag()&&(this.ZO=t,this.ZF=Ey(t),this.To(new DT(t)))},i.be=function(){this.oF=!0,t.prototype.be.call(this)},i.ke=function(){this.oF=!1,t.prototype.ke.call(this)},i.yv=function(t){return void 0===this.TXt&&this.AXt.aXt(t)},i.bn=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.AXt.bn()];case 1:return i.sent(),n.Dzt(),[4,t.prototype.bn.call(n)];case 2:return i.sent(),[2]}}))}))()},hr(n,[{key:"bXt",get:function(){return this.TXt}}]),n}($Z);nS((function(t){return new aJ(t,PI.lC)}),jT.H5);var hJ,fJ=0!==Ir.UR?Ir.UR:Ir.YP,vJ=Ir.KP&&fJ<12,dJ=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).mXt=i,r.xXt=!1,r.eS=new ky,r.$T=new ky,r.xu=new wk,r.tS=new bS,r.IXt=new mI,r.VF=new tI,r.iM=new VT,r.DXt=function(){r.Ko.be()},r.NXt=function(){r.BXt()},r.Ko.wn($l.Qw,r.Os),r}vr(n,t);var i=n.prototype;return i.k5=function(){return this.Ko.k5()},i.ag=function(){return ZE.Nl().ws()},i.cg=function(){},i.dg=function(t){},i.Lg=function(){return 1},i.Iu=function(t){},i.Og=function(){return new ZE([0,this.Wu]).ws()},i.Wg=function(){return!1},i.zg=function(){return this.xu},i.Qg=function(){return this.eS},i.cs=function(){return this.ev().cs},i.ev=function(){return this.VF},i._a=function(){},i.bn=function(){var t=this;return Mo((function(){return Uo(this,(function(n){return t.Lo(),t.$T.bn(),t.eS.bn(),t.xu.bn(),t.IXt.bn(),t.Ko.pn($l.Qw,t.Os),[2]}))}))()},i.PXt=function(){vJ&&this.RXt(),this.gXt||this.mXt.kXt(this)},i.Dzt=function(){this.gXt&&(vJ&&this.CXt(),Ir.sC&&this.je.querySelectorAll("video[src]").forEach((function(t){t.src=""})),tr.Zs.u9&&this.Ko.mv(),this.mXt.Dzt())},i.RXt=function(){this.xXt||(qs.addEventListener("blur",this.DXt),qs.addEventListener("focus",this.NXt),this.xXt=!0)},i.CXt=function(){qs.removeEventListener("blur",this.DXt),qs.removeEventListener("focus",this.NXt),this.xXt=!1},i.BXt=function(){var t=this;requestAnimationFrame((function(){return t.Ko.ke()}))},hr(n,[{key:"Wu",get:function(){return this._g()},set:function(t){this.gg(t)}},{key:"ct",get:function(){return this.vg()}},{key:"Tg",get:function(){return this.tS}},{key:"kl",get:function(){return this.Vg()}},{key:"Jg",get:function(){return this.iM}},{key:"rXt",get:function(){return this.IXt}},{key:"ht",get:function(){return this.$T}},{key:"gXt",get:function(){return this.mXt.bXt===this}}]),n}(KT),lJ=0,_J="theoplayer-wrapper",gJ=function(){function t(n,i,r,e){this.OXt=i,this.Ko=r,this.HXt=e,this.KXt=NaN,this.ZXt=!1,this.$Xt=!1,this.XXt=!1,this.iGt=[],this.Rl=!1,this.UF=!1,this.FXt=[],this.cw=++lJ,this.rGt=n.timeOffset,this.QXt=t.yGt(this.rGt),this.jXt(),this.FXt.push(n)}var n=t.prototype;return n.VXt=function(t){var n=this.WXt===t.timeOffset;return!this.qXt&&n},n.jXt=function(){if(w(this.KXt)){var t=this.WXt;if(void 0===t)return void(this.KXt=0);if("string"==typeof t&&UK(t)){var n=this.Ko.vg();w(n)||n===1/0||(t=kQ(t)*n)}w(t)||(this.KXt=t)}},n.sGt=function(t){this.iGt.push(t)},n.nGt=function(){if(!this.qXt){var t,n,i=this.OXt===GL.s8&&void 0===this.rGt&&1===this.FXt.length,r=this.FXt[0];BK(r.sources.type)||i?t=r.sources.src:n=this.hGt(),this.qXt={oGt:this.Ko.je.offsetWidth,aGt:this.Ko.je.offsetHeight,uGt:this.Ko.je.offsetWidth,cGt:this.Ko.je.offsetHeight,lGt:this.Rl,dGt:this.UF,fGt:t,_Gt:n,gGt:r.omidAccessModeRules}}return this.qXt},n.hGt=function(){var t=this;return'<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">'+this.FXt.map((function(n,i){return t.vGt(n.sources,i)})).join("\n")+"</vmap:VMAP>"},n.vGt=function(t,n){var i=this.wGt(),r=t.src;return'<vmap:AdBreak timeOffset="'+i+'" breakType="linear,nonlinear" breakId="theoplayer-break-'+this.cw+"-"+n+'"><vmap:AdSource allowMultipleAds="true" followRedirects="true"><vmap:VASTAdData><VAST version="3.0"><Ad id="'+_J+"-"+this.cw+"-"+n+'"><Wrapper allowMultipleAds="true" followAdditionalWrappers="true"><VASTAdTagURI><![CDATA['+r+"]]></VASTAdTagURI></Wrapper></Ad></VAST></vmap:VASTAdData></vmap:AdSource></vmap:AdBreak>"},n.wGt=function(){if(0===this.WXt)return"start";if(this.WXt===1/0)return"end";var t=this.WXt;if("string"==typeof t&&UK(t)){var n=kQ(t)*this.Ko.vg();return AK.eHt(n)}return AK.eHt(this.WXt||0)},n.mGt=function(t){this.FXt.push(t)},n.pGt=function(t){for(var n=_J+"-"+this.cw+"-",i=0;i<t.length;i++){var r=t[i];if(Ac(r,n)){var e=Number(r.slice(n.length));if(!w(e)&&e>=0&&e<this.FXt.length)return e}}return-1},n.AGt=function(){this.XXt=!0},t.yGt=function(t){if(void 0!==t)return-1===t?1/0:t},hr(t,[{key:"LXt",get:function(){return this.OXt}},{key:"MXt",get:function(){return this.FXt}},{key:"UXt",get:function(){return this.HXt}},{key:"zXt",get:function(){return this.XXt}},{key:"GXt",get:function(){return UK(this.QXt)&&!this.qXt}},{key:"WXt",get:function(){return this.QXt}},{key:"sE",get:function(){return this.KXt}},{key:"YXt",get:function(){return this.ZXt},set:function(t){this.ZXt=t}},{key:"JXt",get:function(){return this.$Xt},set:function(t){this.$Xt=t,this.tGt=!1}},{key:"eGt",get:function(){return this.iGt}},{key:"ol",get:function(){return this.Rl},set:function(t){this.Rl=t}},{key:"Xu",get:function(){return this.UF},set:function(t){this.UF=t}}]),t}(),wJ=function(){function t(t){this.DGt=!1,this.TGt=t,this.kGt=void 0}var n=t.prototype;return n.pXt=function(t){this.kGt=t},n.EGt=function(t){return!(this.bGt&&!this.bGt.zXt&&"nonlinear"!==this.SGt.IGt)||this.bGt.sE>t.sE&&this.bGt.sE!==t.sE},n.PGt=function(t){if(t.length)return t.sort((function(t,n){return t.sE-n.sE}))[0]},n.RGt=function(){if(this.t8.length)return this.PGt(this.CGt(this.t._g()))},n.xGt=function(){var t=this;if(!(void 0!==this.kGt&&this.kGt>=0))return this.t8.filter((function(n){return!n.YXt&&0===n.sE&&n!==t.bGt}))[0]},n.CGt=function(t){var n=this;if(!this.DGt&&(this.DGt=!this.t8.some((function(t){return w(t.sE)})),!this.DGt))return[];var i=this.t8.filter((function(n){return!n.YXt&&!w(n.sE)&&t<=n.sE}));return void 0===this.kGt?i:i.filter((function(t){return void 0===t.WXt||t.sE>n.kGt}))},hr(t,[{key:"bGt",get:function(){return this.TGt.bGt}},{key:"SGt",get:function(){return this.TGt.SGt}},{key:"t8",get:function(){return this.TGt.t8}},{key:"t",get:function(){return this.TGt.t}}]),t}();!function(t){t[t.NGt=0]="NGt",t[t.BGt=1]="BGt",t[t.LGt=2]="LGt"}(hJ||(hJ={}));var yJ,mJ,pJ,kJ,AJ=function(){function t(t,n,i,r,e){var u=this;this.QGt=0,this.cvt=void 0,this.aQt=!1,this.Ff=function(){for(var t=u.HGt.filter((function(t){return t.GXt})),n=0;n<t.length;n++){var i=t[n];i.jXt();var r=i.WXt;u.qGt.lQt(r,i.sE)}u.ko&&u.uQt&&u.MGt()},this.HGt=[],this.XGt=t,this.ko=!1,this.OGt=!1,this.Ko=n,this.mXt=i,this.bGt=void 0,this.tQt=0,this.hQt=new wJ(this),this.ll=r,this.qGt=e,this.Ko.wn($l.Nf,this.Ff)}var n=t.prototype;return n.uv=function(){this.ko=!0,this.OGt&&this.MGt()},n.FGt=function(t,n){this.UGt(t,n);var i=jc(this.t8,(function(n){return n.VXt(t)}));if(i)i.mGt(t);else{var r,e=new gJ(t,n,this.Ko,null==(r=t.replaceContent)||r);this.HGt.push(e),2===this.VGt&&this.qGt.WGt(e.sE,e,e.WXt),this.zGt(n,e)}},n.KGt=function(){if($c(this.t8,this.bGt),this.bGt){for(var t=0,n=this.bGt.eGt;t<n.length;t++){n[t];this.qGt.jGt()}this.bGt=void 0}},n.YGt=function(){for(var t=0,n=this.HGt;t<n.length;t++)for(var i=0,r=n[t].eGt;i<r.length;i++){var e=r[i];this.qGt.ZGt(e,!0)}ea(this.HGt)},n.JGt=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.KGt(),n.$Gt=!0,n.bGt=t,n.tQt=t.sE,n.cvt=n.eQt(t),[4,n.cvt];case 1:return i.sent(),n.cvt=void 0,[2]}}))}))()},n.eQt=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:n.iQt(t),i=t.nGt(),r=n.XGt.sQt(i),t.YXt=!0,e.label=1;case 1:return e.trys.push([1,3,,5]),[4,r];case 2:return e.sent(),t.LXt===GL.i8&&n.XGt.nQt(),[3,5];case 3:return e.sent(),n.bGt=void 0,[4,n.MGt()];case 4:return e.sent(),[3,5];case 5:return[2]}}))}))()},n.iQt=function(t){this.ko?t.ol=!0:t.ol=this.mXt.ol,t.Xu=this.mXt.Xu},n.rQt=function(){var t;return null!=(t=this.hQt.xGt())?t:this.hQt.RGt()},n.MGt=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return t.bGt&&!t.bGt.zXt?[2,t.cvt]:(n=t.rQt())?[4,t.JGt(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},n.ir=function(){this.KGt(),ea(this.HGt),this.tQt=0,this.bGt=void 0,this.cvt=void 0,this.$Gt=!1},n.JXt=function(){this.$Gt=!1,this.bGt&&(this.bGt.JXt=!0)},n.zGt=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return t===GL.i8&&i.ko&&i.hQt.EGt(n)?i.GGt||"linear"===i.XGt.IGt||!(!i.bGt||i.bGt&&i.bGt.YXt)?[3,3]:[4,$.resolve()]:[3,3];case 1:return r.sent(),[4,i.JGt(n)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))()},n.AGt=function(){this.bGt&&this.bGt.AGt()},n.cQt=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return t.uQt?(n=t.rQt())?[4,t.JGt(n)]:[3,2]:[2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},n.UGt=function(t,n){var i=t.sources.type,r=n===GL.s8&&void 0===t.timeOffset,e=BK(i)||r?1:2;e!==this.QGt&&(this.QGt=e,this.YGt(),this.XGt.$Vt&&!this.GGt&&"linear"!==this.XGt.IGt&&(this.XGt.$Vt.Ou(),this.bGt=void 0,this.cvt=void 0),this.tQt=0,this.OGt=!0)},n.pXt=function(t){this.hQt.pXt(t)},n.bn=function(){this.Ko.pn($l.Nf,this.Ff)},hr(t,[{key:"SGt",get:function(){return this.XGt}},{key:"t8",get:function(){return this.HGt}},{key:"t",get:function(){return this.Ko}},{key:"GGt",get:function(){return Boolean(this.cvt)}},{key:"VGt",get:function(){return this.QGt}},{key:"bGt",get:function(){return this.oQt},set:function(t){this.oQt=t}},{key:"$Gt",get:function(){return this.aQt},set:function(t){this.aQt=t}},{key:"uQt",get:function(){var t=this;return!this.GGt&&!this.$Gt&&(!(this.bGt&&!this.bGt.zXt)&&(!!this.HGt.filter((function(n){return t.bGt!==n})).length&&Boolean(this.rQt())))}}]),t}();function bJ(t,n){if(t===yJ.dQt){var i=n;return{fQt:i.adBreakDuration,_Qt:i.adPosition,Wu:i.currentTime,ct:i.duration,gQt:i.totalAds}}return n}function TJ(t){switch(t){case google.ima.AdError.Type.AD_LOAD:return kJ.vQt;case google.ima.AdError.Type.AD_PLAY:return kJ.wQt}}function SJ(t){return Br(t)&&function(t){return"function"==typeof t}(t.getVastErrorCode)}function EJ(t){var n=t.getInnerError(),i=n&&SJ(n)?EJ(n):void 0;return{pC:t.getMessage(),vUt:t.getErrorCode(),mQt:t.getVastErrorCode(),Iw:TJ(t.getType()),pQt:i}}function IJ(t){if(Cr(t))return t}!function(t){t.yQt="contentResumeRequested",t.AQt="contentPauseRequested",t.bQt="click",t.Nf="durationChange",t.TQt="expandedChanged",t.SQt="start",t.kQt="impression",t.Rm="pause",t.EQt="resume",t.dQt="adProgress",t.IQt="adBuffering",t.PQt="firstQuartile",t.MFt="midpoint",t.RQt="thirdQuartile",t.FFt="complete",t.CQt="userClose",t.xQt="linearChanged",t.DQt="loaded",t.NQt="adCanPlay",t.BQt="adMetadata",t.LQt="adBreakReady",t.OQt="interaction",t.MQt="allAdsCompleted",t.FQt="skip",t.UQt="skippableStateChanged",t.HQt="log",t.VQt="viewableImpression",t.WQt="volumeChange",t.qQt="mute"}(yJ||(yJ={})),function(t){t.zQt="adError"}(mJ||(mJ={})),function(t){t[t.XQt=-1]="XQt",t[t.GQt=-1]="GQt",t[t.QQt=-1]="QQt",t[t.KQt=101]="KQt",t[t.jQt=102]="jQt",t[t.YQt=200]="YQt",t[t.ZQt=201]="ZQt",t[t.JQt=202]="JQt",t[t.$Qt=300]="$Qt",t[t.tKt=301]="tKt",t[t.eKt=302]="eKt",t[t.iKt=303]="iKt",t[t.sKt=400]="sKt",t[t.nKt=402]="nKt",t[t.rKt=403]="rKt",t[t.hKt=405]="hKt",t[t.oKt=500]="oKt",t[t.aKt=501]="aKt",t[t.uKt=-1]="uKt",t[t.cKt=503]="cKt",t[t.lKt=602]="lKt",t[t.dKt=900]="dKt",t[t.fKt=901]="fKt",t[t._Kt=1005]="_Kt",t[t.gKt=1007]="gKt",t[t.vKt=1009]="vKt",t[t.wKt=1010]="wKt",t[t.mKt=1011]="mKt",t[t.pKt=1012]="pKt",t[t.yKt=1013]="yKt",t[t.AKt=1020]="AKt",t[t.bKt=1021]="bKt",t[t.TKt=1101]="TKt",t[t.SKt=1204]="SKt",t[t.kKt=1205]="kKt",t[t.EKt=1300]="EKt",t[t.IKt=-1]="IKt",t[t.PKt=-1]="PKt",t[t.RKt=-1]="RKt",t[t.CKt=-1]="CKt"}(pJ||(pJ={})),function(t){t.vQt="adLoadError",t.wQt="adPlayError"}(kJ||(kJ={}));var RJ,NJ,CJ=function(t){function n(n,i,r){var e;(e=t.call(this)||this).XGt=n,e.Ko=i,e.QKt=r,e.Cjt=!1,e.Ejt=void 0,e.Ijt=void 0,e.sjt=0,e.ojt=function(t){if(t.o8&&t.o8.djt){var n=t.o8.djt;e.QKt.xjt(n.vEt,n.gQt,n.ZVt)}},e.ajt=function(t){var n,i,r;if(!(e.sjt>=5)){e.sjt++;var u=t.jKt;if(function(t){return Br(t)&&void 0!==t.fQt&&void 0!==t.gQt}(u)){var s=null==(n=null==(i=e.tWt)?void 0:i.ujt())||null==(r=n.djt)?void 0:r.vEt;void 0!==s&&e.QKt.xjt(s,u.gQt,u.fQt)}}};var u=Uc(e);e.NKt=Mo((function(t){return Uo(this,(function(n){switch(n.label){case 0:return t.jKt.Djt?[4,u.$Kt(t.jKt.Djt)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}));var s=Uc(e);e.OKt=Mo((function(){return Uo(this,(function(t){switch(t.label){case 0:return s.Cjt=!0,s.XGt.AGt(),[4,s.LKt()];case 1:return t.sent(),[2]}}))})),e.MKt=function(t){if(t.o8){0;var n=t.o8;e.XGt.mjt(n),e.XGt.be(),e.XGt.Njt(),e.QKt.Bjt(n);var i=n.ct;if(e.KKt(i),n.njt){var r=e.XGt.Wu,u=e.XGt.Nc;e.XGt.XZ(jk._f),e.xKt(new Jk(r,u)),e.xKt(new tA(r,u)),e.xKt(new nA(r,u)),e.XGt.Dc||e.xKt(new iA(e.XGt.Wu)),e.setCountdownTimer(),e.zKt(!0)}else e.XGt.Dzt(),e.Ko.be(),e.XGt.Dc||e.Ko.dl()}},e.FKt=function(t){var n;if(t.o8){0;var i=t.o8;if(e.aZ(),e.QKt.wjt(e.XGt.ct,i.njt),e.XGt.Nc!==jk.zl){var r=jk.zl;e.XGt.XZ(r);var u=e.XGt.Wu;e.xKt(new wE(u,r))}e.KKt(NaN),e.XGt.Ljt=!1,null==(n=e.tWt)||n.Zg(e.XGt.rjt())}},e.UKt=function(t){t.o8&&(e.FKt(t),e.QKt.UKt(t.o8,e.XGt.Wu,e.XGt.ct))},e.HKt=function(t){t.o8&&(e.QKt.wjt(-1,t.o8.njt),e.XGt.AGt(),!t.o8.njt&&e.XGt.uQt()&&e.XGt.cQt())},e.VKt=function(t){t.o8&&(t.o8.njt?e.XGt.jl():e.Ko.jl())},e.WKt=function(){var t;(e.XGt.Ljt=!0,e.XGt.Ojt)&&(null==(t=e.tWt)||t.jl(),e.XGt.Ojt=!1)},e.BKt=function(t){var n;if(t.o8){0,e.XGt.kjt&&(e.Ijt=e.Ko._g(),e.Ko.wv(),e.Ko.tv=!0),e.XGt.Mjt=!0;var i=t.o8;e.QKt.Fjt(i);var r=i.ct;e.XGt.mjt(i),e.KKt(r),e.XGt.qKt(!1),e.XGt.be(),e.XGt.PXt(),e.XGt.kjt||e.Ko.ke(),e.Ko.jl(),e.XGt.Ujt(i),0===(null==(n=i.djt)?void 0:n.vEt)||e.XGt.To(new $k(e.XGt.Wu))}};var o=Uc(e);return e.LKt=Mo((function(t){var n,i,r,e,u;return Uo(this,(function(s){switch(s.label){case 0:return n=null==t?void 0:t.o8,o.XGt.Mjt=!1,"linear"===o.XGt.IGt&&o.QKt.Hjt(),n&&n.ct>=0&&o.KKt(n.ct),o.Ko.vg()===1/0&&o.XGt.Vjt(),o.XGt.Ljt=!1,o.Cjt?[4,o.vjt()]:[3,2];case 1:s.sent(),s.label=2;case 2:o.XGt.qKt(!0),s.label=3;case 3:return s.trys.push([3,5,,6]),[4,o.Sjt()];case 4:return s.sent(),[3,6];case 5:return Aa(i=s.sent())||o.To(new lj(i)),[2];case 6:return o.XGt.Dzt(),o.XGt.ke(),o.Ko.Ic||o.Ko.dl(),n&&o.XGt.mjt(n),o.XGt.Ajt&&(o.XGt.kjt&&(e=o.Ko.rv(),u=null==(r=o.Ko.bt)?void 0:r.src,e&&u&&(e.src=u)),o.XGt.bjt=!0),o.Ko.tv=!1,o.XGt.uQt()?[4,o.XGt.cQt()]:[3,8];case 7:s.sent(),s.label=8;case 8:return[2]}}))})),e}vr(n,t);var i=n.prototype;return i.xKt=function(t){this.XGt.To(t)},i.DKt=function(t){var n=this;this.tWt=t,this.tWt.wn(mJ.zQt,this.NKt),this.tWt.wn(yJ.AQt,this.BKt),this.tWt.wn(yJ.yQt,this.LKt),this.tWt.wn(yJ.MQt,this.OKt),this.tWt.wn(yJ.SQt,this.MKt),this.tWt.wn(yJ.FFt,this.FKt),this.tWt.wn(yJ.FQt,this.UKt),this.tWt.wn(yJ.CQt,this.HKt),this.tWt.wn(yJ.bQt,this.VKt),this.tWt.wn(yJ.NQt,this.WKt),this.tWt.wn(yJ.Rm,(function(){n.XGt.Dc||(n.XGt.qKt(!0),n.XGt.To(new yE(n.XGt.Wu))),n.zKt(!0)})),this.tWt.wn(yJ.EQt,(function(){n.XGt.Dc&&(n.XGt.qKt(!1),n.XGt.To(new mE(n.XGt.Wu)))})),this.tWt.wn(yJ.qQt,(function(){var i=t.Yg();i>=0&&n.XKt(i)})),this.tWt.wn(yJ.WQt,(function(){var i=t.Yg();i>=0&&n.XKt(i)})),this.tWt.wn(yJ.BQt,(function(t){n.QKt.GKt(t.type)})),this.tWt.wn(yJ.Nf,(function(t){t.o8&&n.KKt(t.o8.ct)}));var i=this;this.tWt.wn(yJ.HQt,Mo((function(t){var n,r;return Uo(this,(function(e){switch(e.label){case 0:return n=t.jKt.adError,(r=SJ(n)?EJ(n):void 0)?i.YKt(r)?[4,i.ZKt(t)]:[3,2]:[2];case 1:return e.sent(),[3,5];case 2:return i.JKt(r)?[4,i.$Kt(r)]:[3,4];case 3:return e.sent(),[3,5];case 4:i.tjt(r)&&i.ejt(r),e.label=5;case 5:return[2]}}))}))),this.tWt.wn(yJ.DQt,(function(t){if(t.o8&&(n.XGt.JXt(),n.QKt.ijt(t.o8),n.sjt=0,t.o8.njt)){var i,r=n.XGt.Nc,e=jk.zl;n.XGt.XZ(e);var u=n.XGt.Wu,s=n.XGt.Nc;s!==r&&n.xKt(new wE(u,s)),null==(i=n.tWt)||i.Zg(n.XGt.rjt()),n.xKt(new Zk(u,e))}})),this.tWt.wn([yJ.IQt,yJ.kQt,yJ.PQt,yJ.MFt,yJ.RQt],(function(t){t.o8&&n.QKt.hjt(t.o8,t.type,n.XGt.Wu)})),this.tWt.wn(yJ.PQt,this.ojt),this.tWt.wn(yJ.dQt,this.ajt)},i.switchToPlayerIfNoNextAd=function(){var t=this;return Mo((function(){var n,i;return Uo(this,(function(r){switch(r.label){case 0:return t.tWt?(n=t.tWt.ujt())&&t.cjt(n)?[3,3]:t.XGt.uQt()?[4,t.XGt.cQt()]:[3,2]:[3,4];case 1:return r.sent(),[3,3];case 2:t.XGt.ljt(),t.Ko.Dc&&!t.Ko.Ic&&t.Ko.dl(),r.label=3;case 3:return[3,7];case 4:return t.XGt.uQt()?[4,t.XGt.cQt()]:[3,6];case 5:return r.sent(),[3,7];case 6:i=t.XGt.Dc,t.XGt.ljt(),i||t.Ko.dl(),r.label=7;case 7:return[2]}}))}))()},i.cjt=function(t){var n=t.djt,i=null==n?void 0:n.gQt;return(null==n?void 0:n._Qt)!==i},i.aZ=function(){this.XGt.fjt&&(h(this.XGt.fjt),this.XGt.fjt=null)},i.tjt=function(t){return t.Iw===kJ.vQt},i.JKt=function(t){return t.Iw===kJ.wQt},i.YKt=function(t){return t.vUt===pJ.vKt},i.$Kt=function(t){var n=this;return Mo((function(){var i,r,e;return Uo(this,(function(u){switch(u.label){case 0:return n.ejt(t),r=[pJ.sKt,pJ.fKt,pJ.bKt,pJ.kKt],n.XGt.y8||ia(r,t.vUt)||ia(r,null==(i=t.pQt)?void 0:i.vUt)?[3,2]:(n.XGt._jt.$Gt=!1,null==(e=n.XGt._jt.bGt)||e.AGt(),[4,n.switchToPlayerIfNoNextAd()]);case 1:u.sent(),u.label=2;case 2:return[2]}}))}))()},i.ejt=function(t){this.XGt.gjt(t)},i.vjt=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.QKt.jGt(),t.XGt.AGt(),"nonlinear"===t.XGt.IGt&&(t.QKt.wjt(-1,!1),t.XGt.mjt(void 0)),"nonlinear"!==t.XGt.IGt&&"none"!==t.XGt.IGt?[3,2]:t.XGt.uQt()?[4,t.XGt.cQt()]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.XGt.pjt(),t.XGt.gXt?t.XGt.Dzt():t.yjt()&&t.Ko.To(new AE(t.Ko._g())),[2]}}))}))()},i.yjt=function(){return this.XGt.Ajt&&!this.XGt.bjt&&this.Ko.Ic},i.setCountdownTimer=function(){var t=this;this.aZ(),this.XGt.fjt=a((function(){return t.zKt()}),250)},i.ZKt=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return void 0===t.o8?[2]:(n.XGt._jt.$Gt=!1,n.XGt.AGt(),n.XGt.uQt()?[4,n.XGt.cQt()]:[3,2]);case 1:return i.sent(),[3,3];case 2:n.XGt.qKt(!0),i.label=3;case 3:return[2]}}))}))()},i.KKt=function(t){this.XGt.ct!==t&&t>=0&&(this.XGt.EZ(t),this.xKt(new pE(this.XGt.ct)))},i.XKt=function(t){this.XGt.rjt()!==t&&(0===t?this.XGt.Tjt(t,!0,!1):this.XGt.Tjt(t,!1,!1))},i.Sjt=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.XGt.kjt&&void 0!==t.Ko.yg()?(t.Ejt=new pa,[4,t.Ko.ba(t.Ko.qg(),t.Ejt.M_)]):[3,2];case 1:n.sent(),t.Ijt&&t.Ko.gg(t.Ijt),t.Ijt=void 0,n.label=2;case 2:return[2]}}))}))()},i.zKt=function(t){if(this.tWt){var n=this.tWt.Pjt();n>this.XGt.ct&&this.KKt(l.round(n))}var i=this.XGt.Wu;(t||!this.XGt.Dc&&i!==this.XGt.Rjt)&&(this.XGt.To(new Fw(i,void 0)),this.XGt.Rjt=i)},i.ir=function(){this.Ejt&&(this.Ejt.Jl(),this.Ejt=void 0),this.Cjt=!1,this.sjt=0},i.bn=function(){this.ir(),this.Lo()},n}(Ua),DJ=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Wjt=n,e.qjt=i,e.cHt=r,e._8=[],e.Xjt=!1,e}vr(n,t);var i=n.prototype;return i.zjt=function(){this.Xjt=!0},i.Gjt=function(t){this._8.push(t)},hr(n,[{key:"L5",get:function(){return this._8}},{key:"ZVt",get:function(){return this.Wjt},set:function(t){this.Wjt=t}},{key:"JVt",get:function(){return this.qjt},set:function(t){this.qjt=t}},{key:"vEt",get:function(){return this.cHt},set:function(t){this.cHt=t}},{key:"wl",get:function(){return this.Xjt}}]),n}(_Z),PJ=function(t){function n(n,i,r){var e;return(e=t.call(this,-1,-1,n)||this).Qjt=i,e.Kjt=r,e}return vr(n,t),hr(n,[{key:"YVt",get:function(){return hZ.XVt}}]),n}(DJ);!function(t){t.TUt="linear",t.SUt="nonlinear",t.YT="unknown"}(RJ||(RJ={})),function(t){t.NONE="none",t.READY="ready"}(NJ||(NJ={}));var OJ=function(t){function n(n,i){var r;return(r=t.call(this)||this).Jjt=i,r.wS=void 0,r.SFt=void 0,r.oc=void 0,r.uc=void 0,r.Zl=void 0,r.IMt=[],r.Yjt="none",r.n8=n,r}vr(n,t);var i=n.prototype;return i.jjt=function(t,n,i,r,e,u){this.wS=t,this.oc=n,this.uc=i,this.Zl=r,this.IMt=e,this.SFt=u,this.Yjt="ready"},i.Z5=function(){var t;return null!=(t=this.Gu)?t:this.Gu=this.pa()},i._Wt=function(){return""},i.mWt=function(){return""},i.wWt=function(){return""},hr(n,[{key:"Zjt",get:function(){return this.Yjt}},{key:"EMt",get:function(){return this.IMt}},{key:"ct",get:function(){return this.Zl}},{key:"Ci",get:function(){return this.uc}},{key:"o",get:function(){return this.wS}},{key:"TFt",get:function(){return this.SFt}},{key:"Ti",get:function(){return this.oc}},{key:"IGt",get:function(){return this.Jjt}},{key:"QMt",get:function(){}}]),n}(lZ);function BJ(t){return{adSystem:void 0,creativeId:void 0,universalAdIds:[],get readyState(){return t.Zjt},get adBreak(){return t.n8.Z5()},get duration(){return t.ct},get companions(){return t.EMt.map((function(t){return t.Z5()}))},get clickThrough(){return t.QMt},get width(){return t.Ti},get type(){return t.IGt},get height(){return t.Ci},get id(){return t.o},get skipOffset(){return t.TFt},get integration(){return t.YVt}}}var LJ=function(){function t(t){this.Gu=void 0,this.KMt=void 0,this.eYt=void 0,this.oc=t.Ti,this.uc=t.Ci,this.tYt=t.O,this.UMt=t.FMt,this.iYt(t)}var n=t.prototype;return n.Z5=function(){return this.Gu||(this.Gu=function(t){return{get adSlotId(){return t.FMt},get altText(){return t.XMt},get contentHTML(){return t.$jt},get clickThrough(){return t.QMt},get height(){return t.Ci},get resourceURI(){return t.iUt},get width(){return t.Ti}}}(this)),this.Gu},n.iYt=function(t){var n=function(t){try{return WQ(t,"text/html")}catch(t){return}}(t.O);n&&(this.KMt=MJ(n,"a","href"),this.eYt=MJ(n,"img","src"))},hr(t,[{key:"FMt",get:function(){return this.UMt}},{key:"XMt",get:function(){return""}},{key:"$jt",get:function(){return this.tYt}},{key:"QMt",get:function(){return this.KMt}},{key:"Ci",get:function(){return this.uc}},{key:"iUt",get:function(){return this.eYt}},{key:"Ti",get:function(){return this.oc}}]),t}();function MJ(t,n,i){var r=t.querySelector(n);return r&&r.getAttribute(i)||""}var xJ=function(t){function n(n){var i;return(i=t.call(this,n,RJ.YT)||this).dYt=void 0,i.mYt=void 0,i}vr(n,t);var i=n.prototype;return i.pa=function(){return function(t,n){return $w(t,{get adSystem(){return n.GOt},get apiFramework(){return n.sYt},get bitrate(){return n.nYt},get contentType(){return n.rM},get creativeId(){return n.wMt},get mediaUrl(){return n.rYt},get title(){return n.uM},get traffickingParameters(){return n.hYt},get traffickingParametersString(){return n.oYt},get wrapperAdIds(){return n.aYt},get wrapperAdSystems(){return n.uYt},get wrapperCreativeIds(){return n.cYt},get universalAdIds(){return n.sMt}})}(BJ(this),this)},i.lYt=function(t){this.dYt=t,this.jjt(t.lFt,t.fYt,t._Yt,t.ct,function(t){return t.eMt.map((function(t){return new LJ(t)}))}(t),t.gYt),this.Jjt=t.njt?RJ.TUt:RJ.SUt},hr(n,[{key:"YVt",get:function(){return hZ.XVt}},{key:"GOt",get:function(){return this.dYt?UJ(this.dYt.GOt):void 0}},{key:"sYt",get:function(){return this.dYt?UJ(this.dYt.OMt):void 0}},{key:"nYt",get:function(){return this.dYt?this.dYt.vYt:0}},{key:"rM",get:function(){return this.dYt?UJ(this.dYt.rM):void 0}},{key:"wMt",get:function(){return this.dYt?UJ(this.dYt.wMt):void 0}},{key:"wYt",get:function(){return this.dYt?UJ(this.dYt.wYt):void 0}},{key:"rYt",get:function(){var t,n=null==(t=this.dYt)?void 0:t.rYt;return Cr(n)?n:this.mYt},set:function(t){this.mYt=t}},{key:"uM",get:function(){var t;return null==(t=this.dYt)?void 0:t.uM}},{key:"hYt",get:function(){return this.dYt?UJ(this.dYt.hYt):void 0}},{key:"oYt",get:function(){return this.dYt?UJ(this.dYt.oYt):void 0}},{key:"aYt",get:function(){var t,n;return null!=(n=null==(t=this.dYt)?void 0:t.aYt)?n:[]}},{key:"uYt",get:function(){var t,n;return null!=(n=null==(t=this.dYt)?void 0:t.uYt)?n:[]}},{key:"cYt",get:function(){var t,n;return null!=(n=null==(t=this.dYt)?void 0:t.cYt)?n:[]}},{key:"sMt",get:function(){var t,n;return null!=(n=null==(t=this.dYt)?void 0:t.sMt.map((function(t){return{adIdRegistry:t.pYt,adIdValue:t.yYt}})))?n:[]}}]),n}(OJ);function UJ(t){return null===t?void 0:t}var FJ=function(){function t(t,n){this.QKt=t,this.AYt=n}var n=t.prototype;return n.g8=function(t){this.QKt.g8(t)},n.zy=function(){this.QKt.zy()},n.bn=function(){return $.resolve()},hr(t,[{key:"rXt",get:function(){return this.QKt.rXt}},{key:"eXt",get:function(){return this.AYt}},{key:"gXt",get:function(){return this.QKt.gXt}},{key:"J5",get:function(){var t;return null!=(t=this.QKt.J5)?t:null}},{key:"Y5",get:function(){var t=this.QKt.bYt;return t?[t]:[]}},{key:"t8",get:function(){return this.QKt.t8}},{key:"e8",get:function(){return this.QKt.e8}}]),t}(),HJ=function(){function t(t,n){this.IXt=t,this.bWt=[],this.kYt=!1,this.SYt=new FJ(this,n)}return hr(t,[{key:"TYt",get:function(){return this.SYt}},{key:"rXt",get:function(){return this.IXt}},{key:"gXt",get:function(){return this.kYt}},{key:"bYt",get:function(){return this.gWt}},{key:"J5",get:function(){return this.AWt}},{key:"t8",get:function(){var t=this;return sa(this.bWt,(function(n){if(n.wl)return[];var i=n.L5;if(n===t.AWt&&void 0!==t.gWt){var r=i.indexOf(t.gWt);if(r>=0)return i.slice(r+1)}return i}))}},{key:"e8",get:function(){return this.bWt.filter((function(t){return!t.wl}))}}]),t}(),VJ=function(t){function n(n){return t.call(this,"EYt",n)}return vr(n,t),n.prototype.pa=function(){return new XJ(this.o8.Z5())},n}(sM),XJ=function(t){function n(n){return t.call(this,"adimpression",n)}return vr(n,t),n}(oM),zJ=function(t){function n(n,i){var r;return(r=t.call(this,"IYt",n)||this).currentTime=i,r}return vr(n,t),n.prototype.pa=function(){return new WJ(this.o8.Z5(),this.currentTime)},n}(sM),WJ=function(t){function n(n,i){var r;return(r=t.call(this,"adfirstquartile",n)||this).currentTime=i,r}return vr(n,t),n}(oM),GJ=function(t){function n(n,i){var r;return(r=t.call(this,"PYt",n)||this).currentTime=i,r}return vr(n,t),n.prototype.pa=function(){return new qJ(this.o8.Z5(),this.currentTime)},n}(sM),qJ=function(t){function n(n,i){var r;return(r=t.call(this,"admidpoint",n)||this).currentTime=i,r}return vr(n,t),n}(oM),YJ=function(t){function n(n,i){var r;return(r=t.call(this,"RYt",n)||this).currentTime=i,r}return vr(n,t),n.prototype.pa=function(){return new jJ(this.o8.Z5(),this.currentTime)},n}(sM),jJ=function(t){function n(n,i){var r;return(r=t.call(this,"adthirdquartile",n)||this).ad=n,r.currentTime=i,r}return vr(n,t),n}(oM),QJ=function(t){function n(n,i){var r;return(r=t.call(this,"DYt",n)||this).xYt=i,r}return vr(n,t),n.prototype.pa=function(){return new KJ(this.o8.Z5(),this.CYt)},hr(n,[{key:"CYt",get:function(){return this.xYt}}]),n}(sM),KJ=function(t){function n(n,i){var r;return(r=t.call(this,"adskip",n)||this).playedPercentage=i,r}return vr(n,t),n}(oM),ZJ=function(t){function n(n){return t.call(this,"NYt",n)}return vr(n,t),n.prototype.pa=function(){return new JJ(this.n8.Z5())},n}(tM),JJ=function(t){function n(n){return t.call(this,"updateadbreak",n)}return vr(n,t),n}(nM),$J=function(t){function n(n){var i;return(i=t.call(this,"BYt")||this).o8=n,i}return vr(n,t),n.prototype.pa=function(){return new t$(this.o8.Z5())},n}(Hw),t$=function(t){function n(n){var i;return(i=t.call(this,"adbuffering")||this).ad=n,i}return vr(n,t),n}(Va),n$=function(t){function n(){return t.call(this,"LYt")}return vr(n,t),n.prototype.pa=function(){return new i$},n}(Hw),i$=function(t){function n(){return t.call(this,"admetadata")}return vr(n,t),n}(Va),r$=function(t){function n(n,i){var r;return(r=t.call(this,n,hZ.XVt)||this).UYt=i,r.WYt=[],r.VYt=[],r}vr(n,t);var i=n.prototype;return i.OYt=function(t,n){for(var i=0;i<t;i++){var r=new xJ(n);n.Gjt(r),this.rXt.To(new cM(r))}},i.WGt=function(t,n,i){var r=t;r===1/0&&(r=-1);var e=new PJ(r,i,n);this.bWt.push(e),n.sGt(e),this.rXt.To(new eM(e))},i.lQt=function(t,n){for(var i=0,r=this.bWt;i<r.length;i++){var e=r[i];w(e.vEt)&&e.Qjt===t&&(e.vEt=n,this.rXt.To(new ZJ(e)))}},i.ZGt=function(t,n){void 0===n&&(n=!1),n&&$c(this.bWt,t),this.rXt.To(new iM(t))},i.jGt=function(){if(this.J5){this.ZGt(this.J5,!0);var t=Boolean(this.gWt&&this.gWt.IGt===RJ.TUt);this.MYt(void 0,t)}},i.FYt=function(t,n){var i=n.djt;if(i){var r=i._Qt-1,e=t.L5[r];return e.lYt(n),this.rXt.To(new TZ(e)),e.n8.ZVt=i.ZVt,e}},i.HYt=function(t){if(!ia(this.VYt,t)){if(t){if(this.gWt===t)return;this.gWt=t;for(var n=0,i=this.WYt;n<i.length;n++){var r=i[n];0,this.GKt(r,t,this.UYt.Wu)}}else{if(!this.gWt)return;var e=new gM(this.gWt,this.gWt.n8.vEt);this.VYt.push(this.gWt),this.gWt=void 0,this.IXt.To(e)}ea(this.WYt)}},i.MYt=function(t,n){if(t){var i;if((null==(i=this.J5)?void 0:i.vEt)===t.vEt)return;this.AWt=t,n&&this.rXt.To(new vM(this.AWt))}else{if(!this.AWt)return;var r=new hM(this.AWt);this.AWt=void 0,ea(this.VYt),n&&this.IXt.To(r)}},i.qYt=function(t){return this.bWt.filter((function(n){return De(n.vEt,t,.01)}))[0]},i.Fjt=function(t){if(t.djt){var n=t.djt,i=this.qYt(n.vEt);i&&(ea(this.WYt),this.MYt(i,t.njt))}},i.Hjt=function(){this.J5&&this.rXt.To(new hM(this.J5)),ea(this.WYt),this.jGt()},i.Bjt=function(t){if(!this.AWt&&t.djt){var i=this.qYt(t.djt.vEt);this.MYt(i,t.njt)}if(this.AWt){var r=n.zYt(this.AWt,t);if(!r)return;this.FYt(this.AWt,t);var e=t.rYt;Cr(e)&&!Cr(r.rYt)&&(r.rYt=e,this.rXt.To(new TZ(r))),this.HYt(r),this.rXt.To(new lM(this.gWt,r.n8.vEt))}else 0},i.wjt=function(t,n){if(this.HYt(void 0),!n&&this.J5){var i=this.J5;this.MYt(void 0,!1),this.ZGt(i)}},i.ijt=function(t){var n=t.djt;if(n){var i=this.qYt(n.vEt);if(i){this.xjt(n.vEt,n.gQt,n.ZVt);var r=this.FYt(i,t);r&&this.rXt.To(new EZ(r))}}},i.xjt=function(t,n,i){var r=this.qYt(t);if(r){var e=r.L5.length;if(n>e){var u=n-e;this.OYt(u,r),r.ZVt=i,this.rXt.To(new ZJ(r))}}},i.UKt=function(t,i,r){if(this.AWt){var e=n.zYt(this.AWt,t);if(e){var u=i/r;this.rXt.To(new QJ(e,u))}}},i.hjt=function(t,i,r){if(this.AWt){var e=this.gWt;if(!e){var u=n.zYt(this.AWt,t);if(!u||ia(this.VYt,u))return void this.WYt.push(i);e=u,this.FYt(this.AWt,t),this.HYt(e)}this.GKt(i,e,r)}},i.GKt=function(t,n,i){t===yJ.BQt?this.rXt.To(new n$):t===yJ.kQt&&n?this.rXt.To(new VJ(n)):t===yJ.IQt&&n?this.rXt.To(new $J(n)):t===yJ.PQt&&n&&i?this.rXt.To(new zJ(n,i)):t===yJ.MFt&&n&&i?this.rXt.To(new GJ(n,i)):t===yJ.RQt&&n&&i&&this.rXt.To(new YJ(n,i))},i.zy=function(){this.UYt.zy()},i.g8=function(t){this.UYt.g8(t)},i.ir=function(){var t=Boolean(this.gWt&&this.gWt.IGt===RJ.TUt);this.HYt(void 0),this.MYt(void 0,t);for(var n=0,i=this.bWt;n<i.length;n++){var r=i[n];this.ZGt(r)}ea(this.bWt),ea(this.WYt),ea(this.VYt)},i.bn=function(){this.ir()},n.zYt=function(t,n){if(n.djt)return t.L5[n.djt._Qt-1]},hr(n,[{key:"gXt",get:function(){return this.UYt.gXt}}]),n}(HJ);function e$(t){var n=r.google.ima.settings;t.ads&&t.ads.vpaidMode&&r.google.ima.settings.setVpaidMode(function(t){var n=r.google.ima.ImaSdkSettings.VpaidMode;switch(t){case OS.ENABLED:return n.ENABLED;case OS.INSECURE:return n.INSECURE;case OS.DISABLED:default:return n.DISABLED}}(t.ads.vpaidMode)),n.setPlayerVersion("6.10.1"),n.setPlayerType("THEOplayer"),n.setAutoPlayAdBreaks(!0),n.setDisableCustomPlaybackForIOS10Plus(!u$(t));var i=function(t){var n=t.ui&&t.ui.language;return"string"==typeof n?n:void 0}(t);i&&n.setLocale(i)}function u$(t){return Ir.KP&&t.allowNativeFullscreen}var s$=function(t){function n(n,i,r,e,u,s,o){var c;return(c=t.call(this,n,i)||this).ko=!1,c.vXt=!1,c.tZt=void 0,c.eZt=void 0,c.SZt=-1,c.Jjt="none",c.iZt=!1,c.wZt=!1,c.jYt=!1,c.rZt=new pa,c.YYt=!1,c.JYt=!1,c.IZt=function(t){c.rXt.To(t)},c.kZt=function(t){c.tZt=new Ty(Ay.ADVERTISEMENT_ERROR,"Error while recovering from failed IMA ad.",t.error.message),c.eZt=Iy(c.tZt)},c.Rjt=NaN,c.sZt=function(){c.ko||c.uv()},c.eX=r,c.Ql=!0,c.Zl=NaN,c.tf=jk.zl,c.ZYt=!1,c.$Yt=!1,c.qGt=new r$(c.rXt,Uc(c)),c.vZt=new CJ(Uc(c),c.Ko,c.qGt),c.vZt.wn(jp.aa,c.kZt),c.Ko.wn($l.Ph,c.sZt),c.TGt=new AJ(Uc(c),c.Ko,c.mXt,e,c.qGt),c.cZt=o,c.uZt=s,c.lZt=u,c.ke(),c.uZt.wn("EZt",c.IZt),c}vr(n,t);var i=n.prototype;return i.GYt=function(t,n,i){n===GL.s8&&void 0!==i&&(this.vXt=i),this.TGt.FGt(t,n)},i.g8=function(t){for(var n=this.KYt(),i=0;i<n.length;i++){var r=n[i];AQ(r.sources,r.timeOffset)||t.m$(r,GL.i8,!1)}},i.KYt=function(){for(var t=[],n=this.sXt,i=n.Y5,r=n.t8,e=[],u=0,s=i.concat(r);u<s.length;u++){var o=s[u],c=o.n8.Kjt;if(!ia(e,c.cw)){var a,h,f=c.pGt(o.aYt);if(f>=0)(a=t).push.apply(a,_r(c.MXt.slice(f)));else(h=t).push.apply(h,_r(c.MXt));e.push(c.cw)}}for(var v=0,d=this.TGt.t8;v<d.length;v++){var l,_=d[v];if(!_.YXt)(l=t).push.apply(l,_r(_.MXt))}return fa(t)},i._g=function(){if(!this.$Vt)return 0;var t=this.$Vt.Pjt();return w(this.ct)||t<0?0:this.ct-t},i.gg=function(t){},i.vg=function(){return this.Zl||NaN},i.EZ=function(t){this.Zl=t},i.Cg=function(){return this.Ko.Xu},i.xg=function(t){this.Tjt(this._l,t,!0)},i.Bg=function(){return this.Ql},i.qKt=function(t){this.Ql=t},i.Gg=function(){var t,n,i;return null!=(i=null==(t=null==(n=this.$Vt)?void 0:n.ujt())?void 0:t._Yt)?i:0},i.jg=function(){var t,n,i;return null!=(i=null==(t=null==(n=this.$Vt)?void 0:n.ujt())?void 0:t.fYt)?i:0},i.og=function(){return[]},i.pXt=function(t){this.kGt=t,this.TGt.pXt(t)},i.nQt=function(){!this.jYt&&this.$Vt&&(this.$Vt.Tn(),this.jYt=!0)},i.mjt=function(t){this.IGt=t?t.njt?"linear":"nonlinear":"none"},i.Vg=function(){return ZE.Nl().ws()},i.Yg=function(){return this.Ko._l},i.Zg=function(t){this.Tjt(t,this.Xu,!0)},i.rjt=function(){return this.Ko.Xu?0:this.Ko._l},i.Tjt=function(t,n,i){var r=this.Ko._l!==t||this.Ko.Xu!==n;r&&(this.Ko._l=t,this.Ko.Xu=n),this.$Vt&&i&&this.$Vt.Zg(this.rjt()),r&&this.To(new SE(this.Wu,this._l))},i.pg=function(){return!1},i.yg=function(){if(this.tZt&&this.vXt)return this.tZt},i.Ag=function(){if(this.eZt&&this.vXt)return this.eZt},i.Hg=function(){return this.tf},i.XZ=function(t){this.tf=t,this.To(new Kk(this.Wu,t))},i.uv=function(){this.Ko.pn($l.Ph,this.sZt),this.ko||(this.ko=!0,this.TGt.uv(),this.Njt())},i.dl=function(){var t=this;return Mo((function(){var n,i;return Uo(this,(function(r){switch(r.label){case 0:if(t.nZt)return[2];t.rZt.Jl(),t.rZt=new pa,n=t.Dc,t.qKt(!1),t.To(new mE(t.Wu)),t.hZt()||(t.kjt||t.Ko.ke(),t.To(new $k(t.Wu))),t.Ljt||(t.Ojt=!1),i=Boolean(t.$Vt),t.nZt=t.TGt.MGt(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,t.nZt];case 2:return r.sent(),[3,4];case 3:return t.nZt=void 0,[7];case 4:try{ba(t.rZt.M_)}catch(t){return[2]}if(t.ko||t.sZt(),t.tZt&&t.vXt)return[2];if(t.$Vt){if(n)if(i)try{ba(t.rZt.M_),t.$Vt.oZt(),t.To(new iA(t.Wu))}catch(t){return[2]}else t.nQt()}else t.vXt||(t.Dzt(),t.mXt.dl());return[2]}}))}))()},i.jl=function(){var t;this.Dc||(this.qKt(!0),this.To(new yE(this.Wu))),this.rZt.Jl(),this.Ljt?null==(t=this.$Vt)||t.jl():this.Ojt=!0},i.zy=function(){var t;null==(t=this.$Vt)||t.zy()},i.pjt=function(){this.$Vt&&(this.uZt.aZt(),this.$Vt.xl(),this.$Vt.Ou(),this.$Vt=void 0,this.IGt="none",this.jYt=!1)},i.xl=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){return t.Rjt=0,t.TGt.ir(),t.rZt.Jl(),t.qKt(!0),t.ZYt=!1,t.$Yt=!1,t.Ljt=!1,t.qGt.ir(),t.pjt(),t.ljt(),null==(n=t.cZt)||n.ir(),t.Ojt=!1,t.uZt.Ou(),[2]}))}))()},i.be=function(){this.lZt.be(),this.kjt&&this.Ko.be()},i.ke=function(){this.lZt.ke()},i.dZt=function(){return Boolean(this.$Vt)&&ia(this.$Vt.fZt(),-1)&&!this.ZYt},i.JXt=function(){this.TGt.JXt()},i.uQt=function(){return this.TGt.uQt},i.AGt=function(){this.TGt.AGt()},i.cQt=function(){return this.TGt.cQt()},i.aXt=function(t){if(this.dZt()){if(t.type===$l.Ch&&this.Ko.Ic)return!0;if(t.type===$l.Pf)return this.ZYt=!0,this.uZt.aZt(),!0}return!1},i.hZt=function(){return Boolean(this.$Vt&&this.$Vt.ujt())},i.sQt=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n.pjt(),i=n._Zt(),n.lZt.Jq(),[4,n.uZt.sQt(t,n.cZt,i)];case 1:return n.$Vt=e.sent(),n.gZt(n.$Vt),[3,3];case 2:return r=e.sent(),n.vZt.$Kt(r),[3,3];case 3:return[2]}}))}))()},i.gZt=function(t){if(t.Zg(this.rjt()),this.TGt.VGt===hJ.BGt){var n=t.fZt();if(n.length)for(var i=0;i<n.length;i++){var r=n[i];this.qGt.WGt(r,this.TGt.bGt)}else this.qGt.WGt(this.TGt.bGt.sE,this.TGt.bGt)}this.vZt.ir(),this.vZt.DKt(t)},i.rv=function(){if(this.tWt&&this.kjt&&this.hZt())return this.Ko.rv()},i.ev=function(){return this.kjt&&this.gXt?this.Ko.wa:t.prototype.ev.call(this)},i._Zt=function(){var t,n,i=this.TGt.VGt===hJ.BGt,r=!(!this.wZt||!i)&&this.QYt;return this.eX.ads.showCountdown||(t=[]),void 0!==this.eX.ads.allowedMimeTypes&&(n=this.eX.ads.allowedMimeTypes),{mZt:n,pZt:t,yZt:r,nYt:this.eX.ads.googleIma.bitrate,AZt:void 0,bZt:this.kGt}},i.Njt=function(){if(!this.wZt&&!this.Xu&&(this.wZt=!0,this.tWt)){var t=this._Zt();this.tWt.TZt(t)}},i.gjt=function(t){this.tZt=new Ty(Ay.ADVERTISEMENT_ERROR,t.pC),this.eZt=new Dl(Rl.AD_ERROR,"There was a problem playing ads.",this.tZt),this.rXt.To(sJ.uXt(t))},i.ljt=function(){this.gXt&&(this.Ko.be(),this.Dzt(),this.ke())},i.Vjt=function(){var t;this.Ko._g()!==1/0&&0!==this.Ko.Vg().length&&((null==(t=this.TGt.bGt)?void 0:t.UXt)&&-1!==this.SZt&&(this.Ko.gg(this.Ko._g()+this.SZt),this.SZt=-1))},i.Ujt=function(t){var n,i;this.SZt=null!=(i=null==(n=t.djt)?void 0:n.ZVt)?i:-1},i.Dzt=function(){t.prototype.Dzt.call(this),this.Ko.be(),this.kjt&&!this.Ko.Ic&&this.Ko.dl()},i.BXt=function(){this.kjt||t.prototype.BXt.call(this)},i.bn=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.vZt.pn(jp.aa,n.kZt),[4,t.prototype.bn.call(n)];case 1:return i.sent(),n.pjt(),n.uZt.pn("EZt",n.IZt),n.uZt.Ou(),n.lZt.Ou(),n.TGt.bn(),n.vZt.bn(),[2]}}))}))()},hr(n,[{key:"sXt",get:function(){return this.qGt.TYt}},{key:"XYt",get:function(){return this.qGt}},{key:"_jt",get:function(){return this.TGt}},{key:"kjt",get:function(){return u$(this.eX)}},{key:"eXt",get:function(){return n.eXt}},{key:"QYt",get:function(){return this.eX.ads.preload===BS.MIDROLL_AND_POSTROLL}},{key:"IGt",get:function(){return this.Jjt},set:function(t){this.Jjt=t}},{key:"$Vt",get:function(){return this.tWt},set:function(t){this.tWt=t,this.jYt=!1}},{key:"Ljt",get:function(){return this.YYt},set:function(t){this.YYt=t}},{key:"y8",get:function(){return this.vXt}},{key:"Ajt",get:function(){return this.ZYt}},{key:"Ojt",get:function(){return this.JYt},set:function(t){this.JYt=t}},{key:"bjt",get:function(){return this.$Yt},set:function(t){this.$Yt=t}},{key:"Mjt",get:function(){return this.iZt},set:function(t){this.iZt=t}}],[{key:"eXt",get:function(){return hZ.XVt}}]),n}(dJ),o$=function(){function t(){}var n=t.prototype;return n.registerWebImaAdPlayerConstructor=function(t){this.PZt=t},n.createAdPlayer=function(t,n,i){return function(){var t=Boolean(qs.google&&qs.google.ima);if(t){return!(1===d.keys(qs.google.ima).length&&qs.google.ima.dai)}return!1}()&&this.PZt?this.PZt(t,n,i):void 0},t}();o$.lC=new o$;var c$=function(){function t(){}var n=t.prototype;return n.mU=function(t){return t&&t.integration===pI.GOOGLE_IMA},n.Jzt=function(t,n,i){return o$.lC.createAdPlayer(t,n,i)},n.m$=function(t,n,i,r){i.GYt(t,n,r)},n.uH=function(t){var n=LK(t.sources);if(n){var i={integration:pI.GOOGLE_IMA,sources:n,omidAccessModeRules:IJ(t.omidAccessModeRules)},r=xK(t.timeOffset);return void 0!==r&&(i.timeOffset=r),i}},hr(t,[{key:"Zzt",get:function(){return s$.eXt}}]),t}();PI.lC.pU(new c$);var a$,h$=function(t){function n(){return t.call(this,"yWt")}return vr(n,t),n.prototype.pa=function(){return new f$},n}(Hw),f$=function(t){function n(){return t.call(this,"adloaded")}return vr(n,t),n}(Va),v$=-1,d$=function(){function t(t,n){this.bWt=[],this.aWt=!1,this.QXt=t,this.q8=0,this.rWt=n,this.BZt=NaN,this.NZt=!1,this.CZt=new wZ(this,this.rWt)}var n=t.prototype;return n.LZt=function(){return this.q8<this.bWt.length},n.KVt=function(){var t;return this.q8<this.bWt.length&&(t=this.bWt[this.q8],this.q8++),t},n.OZt=function(t){t.NUt=this,this.bWt.push(t)},n.MZt=function(t){var n=this;return Mo((function(){var i,r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:i=!1,r=0,e=n.bWt,a.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,u.On()];case 3:return a.sent(),i=!0,[3,5];case 4:return s=a.sent(),$c(n.bWt,u),o=u.m8.sources,c="string"==typeof o?o:o.src,t.To(sJ.cXt(s,c)),[3,5];case 5:return r++,[3,1];case 6:return n.NZt=!0,[2,i]}}))}))()},n.uWt=function(){this.aWt=!0},n.oWt=function(){return this.aWt},n.FZt=function(){return this.bWt.some((function(t){return dZ(t).some((function(t){return t.$Ot}))}))},hr(t,[{key:"eWt",get:function(){return this.bWt}},{key:"RZt",get:function(){return this.CZt}},{key:"ret",get:function(){return this.q8}},{key:"xZt",get:function(){return this.QXt}},{key:"DZt",get:function(){return this.NZt}},{key:"sE",get:function(){if(w(this.BZt)){var t=AK.sHt(this.QXt,this.rWt.t.vg());void 0===t||w(t)||(this.BZt=t)}return this.BZt}}]),t}(),l$=function(t){function n(n,i,r,e){var u;(u=t.call(this)||this).eJt=!1,u.QZt=function(t){return Da(u.jZt(t))};var s=Uc(u);return u.jZt=Mo((function(t){var n,i,r,e,u,o,c;return Uo(this,(function(a){switch(a.label){case 0:return s.tJt(),n=t.currentTime,i=t.currentTime!==v$?s.JZt(s.fZ,t.currentTime):s.ZZt(t.currentTime,0,0)[0],u=s.Ko.vg()-10,(e=s.YZt(v$)&&l.ceil(n)===l.ceil(u)?s.ZZt(v$,10,0).filter((function(t){return!t.DZt})):s.ZZt(n,10,0).filter((function(t){return!t.DZt}))).length?[4,$.all(e.map((function(t){return t.MZt(s.zZt)})))]:[3,2];case 1:o=a.sent(),(c=o.some((function(t){return!0===t})))&&s.To(new h$),(!c||!s.qZt.uJt||e[0].sE<s.qZt.uJt.sE)&&(r=e[0]),a.label=2;case 2:return i&&(i!==s.qZt.uJt&&(r=i),s.iJt([i])),r?(s.qZt.XZt(),s.qZt.uJt=r,[4,s.qZt.WZt()]):[3,4];case 3:a.sent(),a.label=4;case 4:return w(s.Ko.vg())||(s.fZ=t.currentTime),[2]}}))})),u.Ko=n,u.TXt=i,u.oJt=new gZ(u.TXt,u.Ko),u.kGt=void 0,u.eJt=!1,n.vg()!==1/0?u.US=0:u.US=n._g(),u.fZ=u.US,u.HZt=[],u.zZt=r,u.qZt=e,u.GZt=!1,u}vr(n,t);var i=n.prototype;return i.VZt=function(){this.qZt.WZt()},i.Tn=function(){this.Eo(),this.zZt.wn("d8",this.qZt.XZt)},i.Pn=function(){this.Oo(),this.zZt.pn("d8",this.qZt.XZt),this.fZ=this.US,this.qZt.ir();for(var t=0,n=this.HZt;t<n.length;t++){n[t].uWt()}ea(this.HZt)},i.Eo=function(){this.GZt||(this.Ko.wn($l.Lu,this.QZt),this.GZt=!0)},i.Oo=function(){this.GZt&&(this.Ko.pn($l.Lu,this.QZt),this.GZt=!1)},i.KZt=function(){return this.jZt(new Fw(v$,void 0))},i.YZt=function(t){return this.ZZt(t,0,0).length>0},i.JZt=function(t,n){for(var i,r=0,e=0,u=this.HZt;e<u.length;e++){var s=u[e];if(!s.oWt()){var o=s.sE;o>=t&&o<=n&&o>=r&&!w(o)&&(r=(i=s).sE)}}return i},i.$Zt=function(t){return this.jZt(new Fw(t,void 0))},i.tJt=function(){if(!this.eJt&&void 0!==this.kGt){this.eJt=!this.HZt.some((function(t){return w(t.sE)}));for(var t=0,n=this.HZt;t<n.length;t++){var i=n[t];i.sE!==v$&&i.sE<=this.kGt&&!i.oWt()&&i.uWt()}}},i.iJt=function(t){for(var n=0;n<t.length;n++){t[n].uWt()}this.TXt.sJt(t),0===this.UZt&&this.Oo()},i.ZZt=function(t,n,i){var r=this;return this.HZt.filter((function(e){if(e.oWt())return!1;var u=e.sE;return r.nJt(u,t)||r.rJt(u,t,n,i)}))},i.nJt=function(t,n){switch(n){case 0:return 0===t;case v$:return t===v$;default:return!1}},i.rJt=function(t,n,i,r){if(t<0)return!1;var e=t-n;return-1!==e&&e<=i&&e>=-r},i.hJt=function(t){if(t&&t.length>0){for(var i=0;i<t.length;i++){var r=t[i],e=n.yGt(r.vEt),u=this.tyt(r);-1===u&&(this.eJt=void 0===this.kGt,this.HZt.push(new d$(e,this.oJt)),u=this.HZt.length-1),this.HZt[u].OZt(r)}this.Eo()}},i.tyt=function(t){var i=n.yGt(t.vEt);return Zc(this.HZt,(function(t){return i===n.yGt(t.xZt)}))},i.aJt=function(t){$c(this.HZt,t)},i.pXt=function(t){this.kGt=t,this.eJt=void 0===t},n.yGt=function(t){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return"0";case"end":case"100%":return"-1";default:return t}},hr(n,[{key:"UZt",get:function(){for(var t=0,n=0,i=this.HZt;n<i.length;n++){i[n].oWt()||(t+=1)}return t}},{key:"t8",get:function(){return this.HZt}}]),n}(Ha),_$=function(t){function n(n,i){var r;return(r=t.call(this)||this).wJt=[],r.gJt=[],r.ZO=void 0,r.IXt=new Ha,r.pJt=function(t){t.stopPropagation(),r.yJt()},r.yJt=function(){for(var t=0,n=r.wJt;t<n.length;t++)for(var i=0,e=n[t].ZMt;i<e.length;i++){var u=e[i];yQ(u.uri)}},r.Cqt=e.createElement("div"),r.Cqt.style.display="none",r.AJt=n,r.bJt=i,r}vr(n,t);var i=n.prototype;return i.lJt=function(){this.dJt(),this.fJt(),this.ZO=void 0},i._Jt=function(t){this.gJt=this.gJt.concat(t)},i.vJt=function(t){this.wJt=this.wJt.concat(t)},i.fJt=function(){this.gJt=[]},i.dJt=function(){this.wJt=[]},i.mJt=function(t){for(var n=0,i=this.gJt;n<i.length;n++){var r=i[n];r.JFt===t&&yQ(r.eventURL)}},i.be=function(){this.cJt.style.display=""},i.ke=function(){this.cJt.style.display="none"},i.bn=function(){this.Lo(),this.IXt.Lo(),Js(this.Cqt)},hr(n,[{key:"cJt",get:function(){return this.Cqt}},{key:"rXt",get:function(){return this.IXt}}]),n}(Ha);function g$(t,n){var i=n;if(!function(t){return"ui"in t}(t))return i;var r,e=t.ui.language;if(Mr(e)){var u=t.ui.languages;if(!u)return i;r=u[e]}else r=e;return r&&r[n]&&(i=r[n]),i}var w$=(EA(a$={},NS.qm,1),EA(a$,NS.zm,2),EA(a$,NS.Xm,2),a$);function y$(t,n){var i=n?n.map((function(t){return t.toLowerCase()})):n;return Fc(t.filter((function(t){var n=t.type.toLowerCase();return!!Pr(i)&&-1!==i.indexOf(n)&&dK(n)})),(function(t,n){return w$[t.type]-w$[n.type]})).map(m$)}function m$(t){return VS({src:t.contentURL,type:t.type,isAdvertisement:!0})}function p$(t,n){return xF(k$(t),k$(n))}function k$(t){return{Ci:t.height,Ti:t.width}}function A$(t,n,i,r){var e=function(t,n,i,r){var e,u=1/0,s=t.filter((function(t){return!dK(t.type)})).filter((function(t){return void 0===r||-1!==r.indexOf(t.type)}));if(s.length){for(var o=0;o<s.length;o++){var c=s[o],a=(l.abs(c.width/n-1)+l.abs(c.height/i-1))/2;a<u&&(u=a,e=c)}return m$(e||s.sort(p$)[0])}}(t,n.width,n.height,i),u=y$(t,i);return e&&u.push(e),nR({sources:u},r)}var b$,T$=function(t){function n(n,i,r,e,u,s,o){var c;return(c=t.call(this,n,i)||this).$Jt=r,c.al=e,c.TXt=u,c.E0=s,c.kJt=o,c.SJt=!1,c.ZJt=0,c.fZ=-1,c.QN=new pa,c.PJt=!0,c.XJt=function(){c.DJt()},c.QJt=function(){c.QN=void 0,c.SJt||(c.jJt(),c.SJt=!0),c.PJt&&(c.PJt=!1,c.TXt.VZt()),c.cJt.style.display="block",c.kJt.pn(qk.Qf,c.QJt),c.SJt=!0},c.GJt=function(){var t=c.Wu,n=c.ct,i=t/n;(0===c.ZJt&&i>=.25?(c.mJt(DQ.LFt),c.ZJt=1):1===c.ZJt&&i>=.5?(c.mJt(DQ.MFt),c.ZJt=2):2===c.ZJt&&i>=.75&&(c.mJt(DQ.OFt),c.ZJt=3),c.MJt(t,n),c.i$t(),c.fZ=t,c.gFt)&&(-1!==c.gFt.TFt&&c.gFt.TFt<c.gFt.ct&&(null!=c.Lqt||(c.Lqt=c.NJt()),c.Wu<c.gFt.TFt?c.Lqt.JWt(c.gFt.TFt-c.Wu):c.Lqt.tqt()))},c.zJt=function(){var t,n;c.QN=void 0,c.kJt.pn(jp.aa,c.zJt),c.PJt=!0,null==(t=c.ZO)||t.fUt(aK.aUt),c.SJt=!1,c.kJt.ke();var i=(null==(n=c.kJt.bt)?void 0:n.src)||"";c.AJt(i)},c.VJt=function(){c.Os(new Fw(c.Wu,void 0))},c.WJt=function(){c.Os(new pE(c.ct))},c.qJt=function(){c.Os(new SE(c.Wu,c._l))},c.OJt=function(){c.TXt.jl()},c.BJt=function(){c.IJt&&(c.mJt(DQ.CFt),c.rXt.To(new QJ(c.IJt,c.Wu/c.ct)),c.DJt(!1))},c.cJt.className="theoplayer-ad-linear",c.cJt.style.zIndex="10",oo(c.cJt),c.kJt.ke(),c.JJt=!1,c}vr(n,t);var i=n.prototype;return i.dl=function(){this.kJt.Dc&&(this.kJt.dl(),this.To(new mE(this.Wu)),this.SJt&&this.mJt(DQ.PFt),this.SJt=!0)},i.jl=function(){this.kJt.Dc||(this.kJt.jl(),this.To(new yE(this.Wu)),this.mJt(DQ.Ch))},i.xl=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return null==(n=t.QN)||n.Jl(),t.QN=void 0,t.ke(),t.SJt=!1,t.PJt=!0,t.RJt(),t.CJt(),[4,t.xJt()];case 1:return i.sent(),[2]}}))}))()},i.DJt=function(t){void 0===t&&(t=!0),this.SJt=!1,t&&this.mJt(DQ.FFt),this.ke(),this.bJt()},i.NJt=function(){var t,n=null==(t=this.TXt.ka)?void 0:t.mi,i=new MZ(this.E0,n);return this.cJt.appendChild(i.je),i.wn("zy",this.BJt),i},i.LJt=function(){this.gFt&&this.gFt.cFt.QMt&&(this.Dqt=new DZ(this.cJt),this.Dqt.FWt=this.gFt.cFt.QMt,this.Dqt.wn("clickstart",this.OJt),this.Dqt.wn("click",this.yJt))},i.MJt=function(t,n){for(var i=0,r=this.gJt;i<r.length;i++){var e=r[i];if(e.JFt===DQ.Rf){var u=nK(e.Au,n);void 0!==u&&this.fZ<u&&u<=t&&yQ(e.eventURL)}}},i.FJt=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return t.gFt&&t.UJt?(n=A$(t.gFt.yFt,t.UJt,t.al.ads.allowedMimeTypes,t.al)).sources.length?(t.QN=new pa,t.PJt=!0,[4,t.kJt.ba(n,t.QN.M_)]):[3,2]:[2];case 1:return i.sent(),t.kJt.be(),t.gFt.AMt(),[3,4];case 2:return[4,t.kJt.ir()];case 3:return i.sent(),t.AJt(""),t.gFt.AMt(),[2];case 4:return t.LJt(),[2]}}))}))()},i.HJt=function(t,n,i){var r=this;return Mo((function(){return Uo(this,(function(e){switch(e.label){case 0:return r.IJt=t,r.gFt=t.$Ot,r.kJt.wn($l.Lu,r.VJt),r.kJt.wn($l.Nf,r.WJt),r.kJt.wn($l.Il,r.qJt),r.kJt.wn(Qk,r.Os),r.gFt.hMt&&0!==r.gFt.hMt.length&&r._Jt(r.gFt.hMt),r.gFt.cFt&&r.vJt(r.gFt.cFt),r.ZO=n,r.UJt=i,0===r.gFt.yFt.length?[3,2]:(r.kJt.wn(jp.aa,r.zJt),[4,r.FJt()]);case 1:e.sent(),r.kJt.wn($l.Pf,r.XJt),r.kJt.wn($l.Lu,r.GJt),r.kJt.wn(qk.Qf,r.QJt),r.kJt.wn($l.vm,r.Os),e.label=2;case 2:return[2]}}))}))()},i.XHt=function(){this.TJt&&this.KJt&&this.BJt()},i.jJt=function(){this.mJt(DQ.Yot),this.IJt&&this.rXt.To(new lM(this.IJt,this.Wu))},i.xJt=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.kJt.pn(jp.aa,t.zJt),t.kJt.pn($l.Pf,t.XJt),t.kJt.pn($l.Lu,t.GJt),t.kJt.pn(qk.Qf,t.Os),t.kJt.pn(qk.Qf,t.QJt),t.kJt.pn($l.vm,t.Os),t.kJt.pn($l.Lu,t.VJt),t.kJt.pn($l.Nf,t.WJt),t.kJt.pn($l.Il,t.qJt),t.kJt.pn(Qk,t.Os),t.IJt&&(t.IJt.uWt(),t.rXt.To(new gM(t.IJt,t.Wu))),t.YJt(),t.lJt(),t.RJt(),t.CJt(),t.IJt=void 0,t.gFt=void 0,t.UJt=void 0,[4,t.kJt.ir()];case 1:return n.sent(),t.kJt.ke(),t.cJt.style.cursor="",t.ZJt=0,t.fZ=-1,t.JJt&&(t.$Jt.xJt(),t.JJt=!1),[2]}}))}))()},i.YJt=function(){this.Dqt&&(this.Dqt.Ou(),this.Dqt=void 0)},i.CJt=function(){this.t$t&&(Js(this.t$t),this.t$t=void 0)},i.RJt=function(){this.Lqt&&(this.Lqt.bn(),this.Lqt=void 0)},i.e$t=function(){this.JJt=!0},i.i$t=function(){var t;this.t$t||(this.t$t=e.createElement("div"),this.t$t.className="theoplayer-ad-overlay-component theo-ad-remaining-container",this.cJt.appendChild(this.t$t));var n=null==(t=this.IJt)?void 0:t.n8;if(n){var i=n.L5.filter(AZ),r=g$(this.al,"The content will play in")+" "+l.round(n.JVt)+" "+g$(this.al,"seconds");if(i.length>1){var u=i.filter((function(t){return t.oWt()})).length;r+=". "+g$(this.al,"Ad")+" "+(u+1)+"/"+i.length}NB(this.t$t,r)}},hr(n,[{key:"TJt",get:function(){return this.SJt}},{key:"Wu",get:function(){return this.kJt.Wu}},{key:"ct",get:function(){var t=this.kJt.ct;return w(t)&&this.gFt&&(t=this.gFt.ct||0),t}},{key:"Ic",get:function(){return this.kJt.Ic}},{key:"Xu",get:function(){return this.kJt.Xu},set:function(t){this.kJt.Xu=t,t?this.mJt(DQ.EFt):this.mJt(DQ.IFt)}},{key:"Dc",get:function(){return this.kJt.Dc}},{key:"Nc",get:function(){return this.kJt.Nc}},{key:"_l",get:function(){return this.kJt._l},set:function(t){this.kJt._l=t}},{key:"Xg",get:function(){return this.kJt.Xg}},{key:"Kg",get:function(){return this.kJt.Kg}},{key:"EJt",get:function(){return this.IJt}},{key:"KJt",get:function(){return this.gFt&&-1!==this.gFt.TFt&&this.kJt.Wu>=this.gFt.TFt}}]),n}(_$),S$=function(t){function n(){var i;return(i=t.call(this)||this).iqt=function(t){i.To(new Va("zy")),i.s$t(t)},i.s$t=function(t){t.stopPropagation()},i.Hs=n.lr(),i.eqt(),i}vr(n,t);var i=n.prototype;return i.eqt=function(){this.je.addEventListener("mouseup",this.iqt),this.je.addEventListener("touchend",this.iqt),this.je.addEventListener("mousedown",this.s$t)},i.$Wt=function(){this.je.removeEventListener("mouseup",this.iqt),this.je.removeEventListener("touchend",this.iqt),this.je.removeEventListener("mousedown",this.s$t)},i.bn=function(){this.$Wt(),Js(this.Hs)},n.lr=function(){var t=e.createElement("div");return t.className="theoplayer-ad-nonlinear-close",t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.cursor="pointer",t.style.fontSize="1.7em",t.style.lineHeight="0.75em",t},hr(n,[{key:"je",get:function(){return this.Hs}}]),n}(Ua),E$=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).u$t=function(){e.f$t(),e.mJt(DQ.qFt),e.bJt()},e.a$t=function(t){var n,i;e.f$t(),null==(n=e.ZO)||n.fUt(aK.cUt);var r,u,s,o=null==(i=e.vWt)?void 0:i.nMt[0],c=null!=(u=null!=(r=null==o?void 0:o.cMt)?r:null==o?void 0:o.aMt)?u:null==o?void 0:o.dMt;e.AJt(null!=(s=null==c?void 0:c.iUt)?s:"")},e.d$t=function(){e.ke(),$s(e.cJt),e.bJt(),e.r$t=void 0,e.vWt=void 0},e.g$t=function(){e.o$t||(e.l$t=void 0,e.o$t=new S$,e.cJt.children[0].appendChild(e.o$t.je),e.o$t.wn("zy",e.v$t))},e.v$t=function(){e.mJt(DQ.CFt),e.XHt()},e.cJt.className="theoplayer-ad-nonlinear",e.cJt.style.position="absolute",e.cJt.style.width="100%",e.cJt.style.bottom="3em",e.cJt.style.zIndex="10",e.cJt.style.textAlign="center",e.TXt=r,e}vr(n,t);var i=n.prototype;return i.lJt=function(){t.prototype.lJt.call(this),this.cJt&&$s(this.cJt)},i.HJt=function(t,n,i){var r=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return r.vWt&&r.xJt(),r.r$t=t,r.vWt=t.tMt,0!==r.vWt.hMt.length&&r._Jt(r.vWt.hMt),r.ZO=n,0===r.vWt.nMt.length?[3,2]:(r.vJt(r.vWt.nMt[0]._Mt),r.cJt.addEventListener("error",r.a$t),r.cJt.addEventListener("load",r.u$t),[4,r.FJt()]);case 1:i.sent(),r.c$t(),i.label=2;case 2:return[2]}}))}))()},i.XHt=function(){var t;if(void 0===this.l$t){var n=null==(t=this.vWt)?void 0:t.nMt[0];n&&n.n8&&-1!==n.n8.TFt&&(this.mJt(DQ.CFt),this.rXt.To(new QJ(this.r$t,0)),this.d$t())}},i.jJt=function(){void 0!==this.r$t&&this.rXt.To(new lM(this.r$t,this.TXt.Wu))},i.xl=function(){this.xJt(),this.r$t=void 0,this.vWt=void 0},i.xJt=function(){this.f$t(),void 0!==this.r$t&&(this.r$t.uWt(),this.rXt.To(new gM(this.r$t,this.TXt.Wu))),this.lJt(),this._$t(),void 0!==this.l$t&&(c(this.l$t),this.l$t=void 0)},i.f$t=function(){this.cJt.removeEventListener("load",this.u$t),this.cJt.removeEventListener("error",this.a$t)},i.FJt=function(){var t=this;return Mo((function(){var n,i,r,u,s,o,c,a,h;return Uo(this,(function(f){return(n=e.createElement("div")).className="theoplayer-ad-nonlinear-content",n.style.position="relative",n.style.display="inline-block",i=t.vWt.nMt[0],r=e.createElement("a"),i._Mt.QMt&&(r.href=i._Mt.QMt,r.target="qWt",r.setAttribute("rel","noopener")),i.cMt?(u=i.cMt,(s=e.createElement("iframe")).src=u.iUt,r.appendChild(s)):i.aMt?(o=i.aMt,(c=e.createElement("img")).src=o.iUt,r.appendChild(c)):i.dMt&&(a=i.dMt,(h=e.createElement("iframe")).src=a.iUt,r.appendChild(h)),i.AMt(),r.addEventListener("mousedown",t.pJt),r.addEventListener("touchend",t.pJt),t.cJt.firstChild&&($s(t.cJt),t.xJt()),n.appendChild(r),t.cJt.appendChild(n),t.be(),[2]}))}))()},i.c$t=function(){var t;if(this.vWt){var n=null==(t=this.vWt.nMt[0].n8)?void 0:t.TFt;void 0!==n&&-1!==n&&(this.l$t=qs.setTimeout(this.g$t,1e3*n))}},i._$t=function(){this.o$t&&(this.o$t.pn("zy",this.v$t),this.o$t.bn()),this.o$t=void 0},hr(n,[{key:"n$t",get:function(){return this.r$t}},{key:"h$t",get:function(){return this.o$t}},{key:"w$t",get:function(){return this.TXt.m$t()}}]),n}(_$),I$=function(t){function n(n){return t.call(this,"p$t",n)}return vr(n,t),n.prototype.pa=function(){return new R$(this.n8.Z5())},n}(tM),R$=function(t){function n(n){return t.call(this,"adbreakchange",n)}return vr(n,t),n}(nM),N$=function(){function t(){}return t.y$t=function(t,n,i){return Mo((function(){var r,e,u,s,o;return Uo(this,(function(c){switch(c.label){case 0:r=[],e=t.shift(),c.label=1;case 1:if(!e)return[3,6];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,(new pK).IUt(e,n)];case 3:return u=c.sent(),r=r.concat(u),[3,5];case 4:return s=c.sent(),o=sJ.cXt(s,e.sources.src),i.To(o),[3,5];case 5:return e=t.shift(),[3,1];case 6:return[2,r]}}))}))()},t}(),C$=function(t){function n(){return t.call(this,"Idt")}return vr(n,t),n.prototype.pa=function(){return new D$},n}(Hw),D$=function(t){function n(){return t.call(this,"statechange")}return vr(n,t),n}(Va);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(b$||(b$={}));var P$=function(){function t(){this.EC=[],this.Gu=void 0}var n=t.prototype;return n.Zv=function(t){return this.EC[t]},n.fS=function(t){this.EC.push(t),this.Gu&&this.Gu.push(t.ma),this.b$t(t)},n.T$t=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.fS(i)}},n.S$t=function(t,n){n>=0&&n<=this.EC.length&&(this.EC.splice(n,0,t),this.Gu&&this.Gu.splice(n,0,t.ma),this.b$t(t))},n._S=function(t){return ia(this.EC,t)},n.Qu=function(t){this.k$t(this.EC.indexOf(t))},n.k$t=function(t){if(t>=0&&t<this.EC.length){var n=this.EC[t];ta(this.EC,t),this.Gu&&ta(this.Gu,t),this.E$t(n)}},n.NC=function(){var t=this.EC.slice();ea(this.EC),this.Gu&&ea(this.Gu);for(var n=0;n<t.length;n++){var i=t[n];this.E$t(i)}},hr(t,[{key:"A$t",get:function(){return this.EC}},{key:"U",get:function(){return this.EC.length}},{key:"ma",get:function(){return this.Gu||(this.Gu=this.pa()),this.Gu}}]),t}(),O$=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).I$t=new Ha,n.Os=function(t){n.To(t)},n}vr(n,t);var i=n.prototype;return i.pa=function(){return function(t){var n=function(t){var n=t.A$t.map((function(t){return t.ma}));return n.item=function(n){var i=0|n,r=t.Zv(i);return r&&r.ma||void 0},n}(t),i=new WN(t,n);return n.addEventListener=function(t,n){i.wn(t,n)},n.removeEventListener=function(t,n){i.pn(t,n)},n}(this)},i.wn=function(t,n){this.I$t.wn(t,n)},i.Q_=function(t){this.I$t.Q_(t)},i.Lo=function(){this.I$t.Lo()},i.To=function(t){this.I$t.To(t)},i.pn=function(t,n){this.I$t.pn(t,n)},i.Z_=function(t){this.I$t.Z_(t)},i.J_=function(t){this.I$t.J_(t)},i.eg=function(t,n){return this.I$t.eg(t,n)},n}(P$);var B$,L$=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return vr(n,t),n}(Va),M$=function(t){function n(n){var i;return(i=t.call(this,"R$t")||this).P$t=n,i}return vr(n,t),n.prototype.pa=function(){return new L$(this.P$t.ma)},n}(Hw),x$=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return vr(n,t),n}(Va),U$=function(t){function n(n){var i;return(i=t.call(this,"C$t")||this).task=n,i}return vr(n,t),n.prototype.pa=function(){return new x$(this.task.ma)},n}(Hw),F$=function(t){function n(){return t.call(this)}vr(n,t);var i=n.prototype;return i.b$t=function(t){this.To(new M$(t))},i.E$t=function(t){this.To(new U$(t))},n}(O$);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(B$||(B$={}));var H$=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Wdt="uninitialised",e.KN=new F$,e.B$t=i,e.L$t=r,e.Pat=n,e.uv(),e}vr(n,t);var i=n.prototype;return i.uv=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return[4,t.x$t()];case 1:return n.sent(),t.qdt("initialised"),[2]}}))}))()},i.x$t=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.D$t()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))()},i.D$t=function(){var t=this;return Mo((function(){var n,i,r,e;return Uo(this,(function(u){switch(u.label){case 0:return[4,t.Pat.ctt()];case 1:n=u.sent(),i=0,u.label=2;case 2:return i<n.length?(r=n[i],e=t.B$t.N$t(r.id,r.sourceDescription,r.parameters,t.L$t),t.O$t(e),t.KN.fS(e),[4,e.M$t]):[3,5];case 3:u.sent(),u.label=4;case 4:return i++,[3,2];case 5:return[2]}}))}))()},i.qdt=function(t){this.Wdt=t,this.To(new C$)},i.N$t=function(t,n,i){void 0===i&&(i="persistent");var r=this.B$t.U$t(t,n,i);return this.H$t(r,i),this.KN.fS(r),this.O$t(r),r},i.H$t=function(t,n){var i=this;return Mo((function(){var r;return Uo(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.V$t(t,n)];case 1:return e.sent(),[3,3];case 2:throw r=e.sent(),f("Unable to persist task - "+r);case 3:return[2]}}))}))()},i.V$t=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return[4,i.Pat.ott({key:t.o,id:t.o,sourceDescription:t.JM,parameters:t.iI},n)];case 1:return r.sent(),[2]}}))}))()},i.O$t=function(t){var n=this;t.wn("Idt",(function(){t.SI===b$.EVICTED&&n.KN.Qu(t)}))},hr(n,[{key:"SI",get:function(){return this.Wdt}},{key:"F$t",get:function(){return this.KN}}]),n}(Ua);var V$=function(){function t(t,n,i){if(this.z$t=t,this.dS=n,this.W$t=i,0===this.dS.size)this.K$t=ZE.Nl();else{var r=new ZE([-1/0,1/0]);this.dS.forEach((function(t){r=r.Cn(t.timeRanges)})),this.K$t=r}}return t.prototype.GS=function(t){return!!ny(this.dS,t.dS)&&(!!Oe(this.z$t,t.z$t)&&(!!Oe(this.LF,t.LF)&&(!!Oe(this.X$t,t.X$t)&&this.G$t.PF(t.G$t))))},hr(t,[{key:"LF",get:function(){return this.W$t}},{key:"q$t",get:function(){return this.z$t}},{key:"X$t",get:function(){return this.G$t.LF}},{key:"Q$t",get:function(){var t=0,n=0;return this.dS.forEach((function(i){t+=i.timeRanges.LF,n+=i.totalQualityDurationToCache})),0===n?0:l.min(1,t/n)}},{key:"G$t",get:function(){return this.K$t}}]),t}();V$.QUALITY_TIME_RANGES_NULL_OBJECT=Vo(),V$.CACHE_PROGRESSION_NULL_OBJECT=new V$(0,V$.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),V$.j$t=V$.CACHE_PROGRESSION_NULL_OBJECT;var X$=function(t){function n(){return t.call(this,"progress")}return vr(n,t),n}(Va),z$=function(t){function n(){return t.call(this,"Y$t")}return vr(n,t),n.prototype.pa=function(){return new X$},n}(Hw);var W$,G$=function(t){function n(n,i){return t.call(this,n,i)}return vr(n,t),hr(n,[{key:"name",get:function(){return"Z$t"}}]),n}(ya);function q$(t,n,i){return Y$.apply(this,arguments)}function Y$(){return Y$=Mo((function(t,n,i){var r,e,u,s,o;return Uo(this,(function(c){switch(c.label){case 0:for(r=[],e=0,u=t.Sit;e<u.length;e++)s=u[e],r.push(j$(s,n,i));return[4,$.all(r)];case 1:return o=c.sent(),[2,{ct:t.yit.Xtt(),t0t:[t.cht],Sit:o}]}}))})),Y$.apply(this,arguments)}function j$(t,n,i){return Q$.apply(this,arguments)}function Q$(){return Q$=Mo((function(t,n,i){var r,e,u,s;return Uo(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.Ert;e<u.length;e++)s=u[e],r.push(K$(s,n,i));return[4,$.all(r)];case 1:return[2,{J$t:o.sent()}]}}))})),Q$.apply(this,arguments)}function K$(t,n,i){return Z$.apply(this,arguments)}function Z$(){return Z$=Mo((function(t,n,i){var r,e,u,s;return Uo(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.cit;e<u.length;e++)J$(s=u[e])||r.push(n0(s,n,i));return[4,$.all(r)];case 1:return[2,{Z:o.sent(),Iw:t.Iw}]}}))})),Z$.apply(this,arguments)}function J$(t){return t.sit.every(t0)}!function(t){t[t.qm=0]="qm",t[t.zm=1]="zm"}(W$||(W$={}));var $$=1;function t0(t){return t.Pet!==$$&&Boolean(t.Pet)}function n0(t,n,i){return i0.apply(this,arguments)}function i0(){return i0=Mo((function(t,n,i){var r,e,u,s,o,c,a,h,f;return Uo(this,(function(v){switch(v.label){case 0:for(r=[],e=0,u=t.sit;e<u.length;e++)t0(s=u[e])||r.push(r0(s,i));return[4,$.all(r)];case 1:return o=v.sent(),c=t.bet[0],a=t.ket,h=a?function(t,n){for(var i=[],r=function(t){return t?kc(t,"avc")?sl.VIDEO_H264:kc(t,"hev")||kc(t,"hvc")||kc(t,"hvt")||kc(t,"lhv")||kc(t,"lhe")||kc(t,"lht")?sl.VIDEO_H265:kc(t,"mp4")?sl.VIDEO_MP4:kc(t,"mpeg2")?sl.VIDEO_MPEG2:kc(t,"mpeg")?sl.VIDEO_MPEG:sl.VIDEO_UNKNOWN:sl.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var u=n[e],s=u.tet.split(":").pop(),o=u.$tt;i.push({mimeType:r,uuid:s,data:o})}var c=W$.qm,a=Zo;return{type:c,schemeType:a,schemeDatas:i}}(c,a):void 0,f=sH(t,n),[2,{dw:o,gs:t.J3,Iw:t.Iw,hM:h,Fct:f}]}}))})),i0.apply(this,arguments)}function r0(t,n){return e0.apply(this,arguments)}function e0(){return e0=Mo((function(t,n){var i,r,e,u;return Uo(this,(function(s){switch(s.label){case 0:return[4,u0(t,n)];case 1:switch(i=s.sent(),r={o:c0(t),zT:i,IO:t.IO,g9:t.g9,Ci:t.Ci,Iw:t.Iw,Ti:t.Ti},t.Iw){case py.KT:break;case py.vl:r.Iet=null!=(u=null==(e=t.Iet)?void 0:e.hk())?u:NaN;break;case py.yy:r.audioSamplingRate=t.Aet}return[2,r]}}))})),e0.apply(this,arguments)}function u0(t,n){return s0.apply(this,arguments)}function s0(){return s0=Mo((function(t,n){var i,r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:i=[],r=t.met,t.jit&&i.push({PS:0,ct:0,$$t:t.jit}),e=r.kst(),u=e,a.label=1;case 1:return u?t.ust(u)?[4,t.cst(u,n,(new pa).M_)]:[3,3]:[3,5];case 2:for(s=a.sent(),o=0;o<s.U;o++)i.push(o0(s.Ont(o),t));return[3,4];case 3:i.push(o0(u,t)),a.label=4;case 4:return u=r.Vst(u),[3,1];case 5:return c=r.Cst(),[2,{ct:c.RS-e.PS,mtt:i}]}}))})),s0.apply(this,arguments)}function o0(t,n){return{PS:t.PS,ct:t.ct,$$t:n.rst(t)}}function c0(t){return t.Jit.Tn+"-"+(""+t.o)}function a0(t,n){var i=function(t){var n=function(t){for(var n=Vo(),i=0;i<t.length;i++){var r=t[i],e=n.get(r.DTt);e||(e={Iw:r.Iw,NA:[]},n.set(r.DTt,e)),e.NA.push(r)}return n}(t),i=Xo();return n.forEach((function(t){for(var n=0,r=t.NA;n<r.length;n++){var e=r[n],u=i.get(t.Iw);u||(u=Vo(),i.set(t.Iw,u));var s=u.get(e.l);s||(s=[],u.set(e.l,s)),s.push(e)}})),i}(t);return function(t,n){var i=Xo();return t.forEach((function(t,r){var e=Vo();t.forEach((function(t,i){for(var u=[],s=0;s<t.length;s++){var o=h0(t[s],r,n);u.push(o)}e.set(i,u)})),i.set(r,e)})),i}(i,n)}function h0(t,n,i){for(var r=t.DTt,e={zTt:t,TSt:[]},u=0;u<i.length;u++){var s=i[u];Lq(n,r,s)&&e.TSt.push(s)}return e}function f0(t,n){return v0.apply(this,arguments)}function v0(){return v0=Mo((function(t,n){var i;return Uo(this,(function(r){switch(r.label){case 0:return[4,n.Hht([t],{})];case 1:return[2,sq((i=r.sent()).gP,{},i.Wht)]}}))})),v0.apply(this,arguments)}function d0(t,n){return l0.apply(this,arguments)}function l0(){return l0=Mo((function(t,n){return Uo(this,(function(i){return pG(t)?[2,_0(t,n)]:[2,C0(t)]}))})),l0.apply(this,arguments)}function _0(t,n){return g0.apply(this,arguments)}function g0(){return g0=Mo((function(t,n){var i,r;return Uo(this,(function(e){switch(e.label){case 0:return[4,p0(a0(t.NA,t.yEt),n)];case 1:return i=e.sent(),[4,y0(t.yEt,n)];case 2:return r=e.sent(),i.push(r),[2,{ct:w0(i),t0t:[t.Nit],Sit:[{J$t:i}]}]}}))})),g0.apply(this,arguments)}function w0(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].Z;r<e.length;r++){var u,s=e[r];n=(u=l).max.apply(u,[n].concat(_r(s.dw.map((function(t){return t.zT.ct})))))}return n}function y0(t,n){return m0.apply(this,arguments)}function m0(){return m0=Mo((function(t,n){var i,r,e,u,s,o,c,a;return Uo(this,(function(h){switch(h.label){case 0:i=[],r=0,h.label=1;case 1:return r<t.length?[4,R0((e=t[r]).Nit,n)]:[3,4];case 2:(o=h.sent()).IO=e.IO,o.g9=e.bet?function(t){return[t.cSt,t.lSt,t.Dkt].filter(Cr).join(",")}(e.bet):"",o.Ci=null!=(c=null==(u=e._St)?void 0:u.Ci)?c:0,o.Ti=null!=(a=null==(s=e._St)?void 0:s.Ti)?a:0,i.push(o),h.label=3;case 3:return r++,[3,1];case 4:return[2,{Iw:py.YT,Z:[{gs:aX,Iw:py.YT,dw:i}]}]}}))})),m0.apply(this,arguments)}function p0(t,n){return k0.apply(this,arguments)}function k0(){return k0=Mo((function(t,n){var i,r,e,u,s,o;return Uo(this,(function(c){switch(c.label){case 0:i=[],r=t.entries(),e=r.next(),c.label=1;case 1:return e.done?[3,4]:(u=Fo(e.value,2),s=u[0],[4,A0(u[1],s,n)]);case 2:o=c.sent(),i.push(o),c.label=3;case 3:return e=r.next(),[3,1];case 4:return[2,i]}}))})),k0.apply(this,arguments)}function A0(t,n,i){return b0.apply(this,arguments)}function b0(){return b0=Mo((function(t,n,i){var r,e,u,s,o;return Uo(this,(function(c){switch(c.label){case 0:r=[],e=t.entries(),u=e.next(),c.label=1;case 1:return u.done?[3,4]:(s=Fo(u.value,2),[4,T0(s[1],i)]);case 2:o=c.sent(),r.push(o),c.label=3;case 3:return u=e.next(),[3,1];case 4:return[2,{Iw:E0(n),Z:r}]}}))})),b0.apply(this,arguments)}function T0(t,n){return S0.apply(this,arguments)}function S0(){return S0=Mo((function(t,n){var i,r,e,u;return Uo(this,(function(s){switch(s.label){case 0:i=[],r=t[0].zTt,e=0,s.label=1;case 1:return e<t.length?[4,I0(t[e],n)]:[3,4];case 2:u=s.sent(),i.push(u),s.label=3;case 3:return e++,[3,1];case 4:return[2,{gs:r.gs||aX,Iw:E0(r.Iw),dw:i}]}}))})),S0.apply(this,arguments)}function E0(t){switch(t){case dG.yy:return py.yy;case dG.vl:return py.vl;case dG.Ay:case dG.Lkt:return py.KT;default:return py.YT}}function I0(t,n){var i=function(t){var n=t.zTt.Nit,i=t.TSt.map((function(t){return t.Nit}));return n||(i.length?i[0]:void 0)}(t);return R0(i,n)}function R0(t,n){return N0.apply(this,arguments)}function N0(){return N0=Mo((function(t,n){var i,r;return Uo(this,(function(e){switch(e.label){case 0:return i={ct:0,mtt:[]},t?[4,f0(t,n)]:[3,2];case 1:kG(r=e.sent())&&(i=D0(r)),e.label=2;case 2:return[2,{o:t||"default",e0t:t,zT:i,IO:0,g9:"",Ci:0,Iw:py.YT,Ti:0}]}}))})),N0.apply(this,arguments)}function C0(t){var n=D0(t);return{ct:n.ct,t0t:[t.Nit],Sit:[{J$t:[{Iw:py.YT,Z:[{Iw:py.YT,gs:aX,dw:[{o:t.Nit,zT:n,IO:0,g9:"",Ci:0,Iw:py.YT,Ti:0}]}]}]}]}}function D0(t){for(var n,i=[],r=0,e=0,u=t.mtt;e<u.length;e++){var s=u[e],o=r;!s.SEt||void 0!==n&&TG(s.SEt.Nit,n)||(i.push(P0(s.SEt,o)),n=s.SEt.Nit),i.push(O0(s,o)),r+=s.ct}return{ct:r,mtt:i}}function P0(t,n){return{PS:n,ct:0,$$t:B0(t.Nit)}}function O0(t,n){return{PS:n,ct:t.ct,$$t:B0(t.Nit)}}function B0(t){return{TI:t.kT,iet:t.qnt?[t.qnt.Tn,t.qnt.Tn+t.qnt.U]:void 0,oP:!1}}var L0=function(){function t(t,n,i){this.Vht=t,this.egt=n,this.r0t=i}var n=t.prototype;return n.i0t=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:if(!t.src)throw new f("Invalid typed source");return iE(i=t.type)?[4,n.s0t(t)]:[3,2];case 1:case 3:return[2,r.sent()];case 2:return nE(i)?[4,n.n0t(t)]:[3,4];case 4:throw new f("Unexpected source type");case 5:return[2]}}))}))()},n.s0t=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,f0(t.src,n.Vht)];case 1:return[4,d0(i.sent(),n.Vht)];case 2:return[2,i.sent()];case 3:throw i.sent(),new f("Unable to fetch HLS manifest");case 4:return[2]}}))}))()},n.n0t=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,(i=new cF({Pw:tr.Rh(t.src),yht:t.liveOffset,kht:t.timeServer,oP:t.useCredentials},n.r0t,M_.QW,n.Vht,t.dash)).q];case 1:return r.sent(),[4,q$(i.Ar.Zit,t.contentProtection,n.egt)];case 2:return[2,r.sent()];case 3:throw r.sent(),new f("Unable to fetch DASH manifest");case 4:return[2]}}))}))()},t}(),M0=function(){function t(t){this.o0t=[],this.c0t=0,this.l0t=t}var n=t.prototype;return n.h0t=function(){var t=new kf;return this.o0t.push(t),this.a0t(),t.jf},n.u0t=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,,2,3]),[4,t];case 1:return r.sent(),[3,3];case 2:return i.c0t-=1,i.a0t(),0===i.o0t.length&&0===i.c0t&&n.Lf(!0),[7];case 3:return[2]}}))}))()},n.a0t=function(){this.o0t.length>0&&this.c0t<this.l0t&&(this.o0t.shift().Lf(),this.c0t+=1)},t}();var x0=function(t){function n(n,i,r,e,u,s,o,c){var a;(a=t.call(this)||this).DEFAULT_CACHING_SEGMENT_TIMEOUT=3e4,a.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT=0,a.P0t=new kf,a.w0t=V$.j$t,a.Rat=n,a.ktt=i,a.Vht=r,a.A0t=e,a.f_t=u,a.egt=s,a.r0t=c,a.L$t=o,a._0t=-1;var h=a.Rat.JM.sources[0];return a.f0t=h,a.ko=a.uv(),a.E0t=new M0(a.Rat.iI.parallelTasksThreshold),a}vr(n,t);var i=n.prototype;return i.uv=function(){var t=this;return Mo((function(){var n,i,r,e,u,s,o,c,a,h,v,d,_,w,y,m,p,k,A,b,T,S,E,I,R,N,C,D,P,O,B;return Uo(this,(function(L){switch(L.label){case 0:return[4,new L0(t.Vht,t.egt,t.r0t).i0t(t.f0t)];case 1:return t.d0t=L.sent(),n=t.Rat.iI.amount,i=t.d0t.ct,r=function(t,n){if(Mr(t)){if(kc(t,"%"))return g(t)/100*n;throw new f("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}(n,i),t.W$t=r,u=MM(t.d0t.t0t[0]),[4,t.ktt.wtt.dtt(u,"manifestURL")];case 2:for(s=L.sent().filter((function(n){return ia(n.references,t.Rat.o)})),o=[],c=t.Rat.iI.bandwidth,a=0,h=t.d0t.Sit;a<h.length;a++)for(v=h[a],d=0,_=v.J$t;d<_.length;d++)for(w=_[d],y=0,m=H0(w,t.Rat.iI.preferredTrackSelection);y<m.length;y++)for(p=m[y],k=0,A=X0(p.dw,c);k<A.length;k++)b=A[k],o.push(b);if(t._0t=l.ceil(o.map((function(t){return t.IO*function(t,n){for(var i=0,r=0,e=t.zT.mtt.map((function(t){return t.ct}));r<e.length;r++)if((i+=e[r])>=n)return i;return i}(t,r)/8})).reduce((function(t,n){return t+n}),0)),T=Vo(),s&&0!==s.length){for(S=s.reduce((function(t,n){return t+n.byteSize}),0),E=0;E<s.length;E++)I=s[E],R=I.qualityId,N=new ZE(I.startsAndEnds),T.has(R)?T.get(R).timeRanges=T.get(R).timeRanges.Hl(N).yF(5e-4):(C=jc(o,(function(t){return t.o===R})),P=l.min(t.W$t,null!=(D=null==C?void 0:C.zT.ct)?D:1/0),T.set(R,{timeRanges:N,totalQualityDurationToCache:P}));e=new V$(S,T,t.W$t)}else{for(O=0;O<o.length;O++)B=o[O],T.set(B.o,{timeRanges:ZE.Nl(),totalQualityDurationToCache:l.min(B.zT.ct,t.W$t)});e=new V$(0,T,t.W$t)}return t.g0t=e,[2]}}))}))()},i.pi=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.ko];case 1:return i.sent(),[4,n.m0t(n.d0t,t)];case 2:return i.sent(),[2]}}))}))()},i.m0t=function(t,n){var i=this;return Mo((function(){var r,e,u,s;return Uo(this,(function(o){switch(o.label){case 0:if(!t.t0t)throw new f("Unexpected - manifest is missing locations");return[4,i.p0t()];case 1:for(o.sent(),r=[],e=0,u=t.Sit;e<u.length;e++)s=u[e],r.push(i.y0t(s,t.t0t[0],n));return[2,Pa(r)]}}))}))()},i.p0t=function(){var t=this;return Mo((function(){var n,i,r,e,u;return Uo(this,(function(s){switch(s.label){case 0:return[4,t.A0t.ctt()];case 1:n=s.sent(),i=0,s.label=2;case 2:return i<n.length?(r=n[i],[4,t.ktt.ptt.RC(r.key)]):[3,9];case 3:return(e=s.sent())?[4,U0(e,t.Rat.o,t.ktt.ptt,t.L$t)]:[3,5];case 4:return s.sent(),[3,8];case 5:return s.trys.push([5,7,,8]),[4,t.ktt.ptt.ott(r,t.L$t)];case 6:return s.sent(),[3,8];case 7:throw u=s.sent(),new G$("Unable to store manifest with url: "+r.locationURL,u);case 8:return i++,[3,2];case 9:return[4,t.A0t._tt()];case 10:return s.sent(),[2]}}))}))()},i.y0t=function(t,n,i){for(var r=[],e=0,u=t.J$t;e<u.length;e++)for(var s=H0(u[e],this.Rat.iI.preferredTrackSelection),o=0;o<s.length;o++){var c=s[o];r.push(this.b0t(c,n,i))}return Pa(r)},i.b0t=function(t,n,i){var r=this;return Mo((function(){var e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:return e=r.Rat.iI.bandwidth,u=X0(t.dw,e),t.Iw===py.vl&&t.Fct&&t.Fct.sL.widevine&&"persistent"===t.Fct.sL.widevine.licenseType?[4,r.T0t(t.Fct)]:[3,2];case 1:a.sent(),ba(i),a.label=2;case 2:for(s=[],o=0;o<u.length;o++)c=u[o],s.push(r.S0t(c,n,i));return[2,Pa(s)]}}))}))()},i.S0t=function(t,n,i){var r=this;return Mo((function(){var e,u,s,o,c,a,h;return Uo(this,(function(f){switch(f.label){case 0:ba(i),e=t.zT.mtt[0].PS,u=e+r.W$t,s=[],o=!1,c=0,a=t.zT.mtt,f.label=1;case 1:return c<a.length?(h=a[c]).PS>=u||r.stopIfFailed(o)?[3,5]:[4,r.k0t(i)]:[3,5];case 2:return f.sent(),[4,r.E0t.h0t()];case 3:f.sent(),s.push(r.E0t.u0t(r.I0t(h,t,n),r.P0t).catch((function(t){return o=!0,$.reject(t)}))),f.label=4;case 4:return c++,[3,1];case 5:return[2,Pa(s)]}}))}))()},i.k0t=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return(null==t?void 0:t.R_)?[4,n.P0t.jf]:[3,2];case 1:throw i.sent(),new ka;case 2:return[2]}}))}))()},i.R0t=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return[4,t.ko.catch(Vr)];case 1:return n.sent(),[2,t.d0t]}}))}))()},i.T0t=function(t){return $.resolve()},i.C0t=function(){return tr.Um("License renewal unsupported in this SDK."),$.resolve()},i.I0t=function(t,n,i){var r=this;return Mo((function(){var e,u,s,o,c,a,h,f;return Uo(this,(function(v){switch(v.label){case 0:return e=r.ktt.wtt,u=xM(t.$$t.TI,t.$$t.iet),[4,e.RC(u)];case 1:return(s=v.sent())?[4,U0(s,r.Rat.o,e,r.L$t)]:[3,3];case 2:return v.sent(),r.x0t(s,!1),[3,7];case 3:return v.trys.push([3,6,,7]),[4,r.D0t(t.$$t)];case 4:return o=v.sent(),c=r.N0t(t,n,i,o),a=c.segmentMetadataEntry,h=c.segmentEntry,[4,r.ktt.gtt(Mo((function(t){return Uo(this,(function(n){switch(n.label){case 0:return[4,t.wtt.ott(a,r.L$t)];case 1:return n.sent(),[4,t.mtt.ott(h,r.L$t)];case 2:return n.sent(),[2]}}))})))];case 5:return v.sent(),r.x0t(a,!0),[3,7];case 6:throw f=v.sent(),new G$("Unable to store segment with url: "+t.$$t.TI,f);case 7:return[2]}}))}))()},i.D0t=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return[4,n.f_t.oft(t,!1,n.DEFAULT_CACHING_SEGMENT_TIMEOUT,void 0,n.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT)];case 1:return i=r.sent(),[4,n.__t(i)];case 2:return[2,r.sent()]}}))}))()},i.__t=function(t){return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return[4,t.xL()];case 1:return[2,{buffer:n.sent()}]}}))}))()},i.N0t=function(t,n,i,r){var e=xM(t.$$t.TI,t.$$t.iet),u=t.PS,s=t.ct,o=this.B0t(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:MM(i),qualityId:n.o,byteSize:o,startsAndEnds:new ZE([u,u+s]).uF,references:[this.Rat.o]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:MM(i),data:r,references:[this.Rat.o]}}},i.B0t=function(t){return t.buffer.byteLength},i.x0t=function(t,n){var i=t.qualityId,r=this.w0t,e=r.dS;e.get(i).timeRanges=e.get(i).timeRanges.Hl(new ZE(t.startsAndEnds)).yF(5e-4),this.g0t=new V$(n?r.q$t+t.byteSize:r.q$t,e,this.W$t)},i.stopIfFailed=function(t){return!1},hr(n,[{key:"M$t",get:function(){return this.uv()}},{key:"v0t",get:function(){return this._0t}},{key:"g0t",get:function(){return this.w0t},set:function(t){this.w0t.GS(t)||(this.w0t=t,t.GS(V$.j$t)||this.To(new z$))}}]),n}(Ua);function U0(t,n,i,r){return F0.apply(this,arguments)}function F0(){return F0=Mo((function(t,n,i,r){return Uo(this,(function(e){switch(e.label){case 0:return ia(t.references,n)?[3,2]:(t.references.push(n),[4,i.ott(t,r)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))})),F0.apply(this,arguments)}function H0(t,n){switch(t.Iw){case py.yy:return V0(t.Z,n.audioTrackSelection);case py.KT:return V0(t.Z,n.textTrackSelection);default:return V0(t.Z,[])}}function V0(t,n){if(0===n.length)return t.length?[t[0]]:[];for(var i=[],r=0;r<t.length;r++){var e=t[r];n.indexOf(e.gs)>-1&&i.push(e)}return i}function X0(t,n){if(!t.length)return[];var i=_r(t).sort(UF),r=i.filter((function(t){return t.IO<=n}));return r.length>0?[r.pop()]:[i.shift()]}var z0=function(){function t(t,n,i){this.Rat=t,this.ktt=n,this.d0t=i}var n=t.prototype;return n.L0t=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return[4,t.ktt.gtt(Mo((function(n){return Uo(this,(function(i){switch(i.label){case 0:return[4,t.O0t(n)];case 1:return i.sent(),[4,t.M0t(n)];case 2:return i.sent(),[4,t.F0t(n)];case 3:return i.sent(),[4,t.U0t(n)];case 4:return i.sent(),[2]}}))})))];case 1:return n.sent(),[2]}}))}))()},n.O0t=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:return i=t.ytt,r=n.Rat.o,[4,i.Qu(r)];case 1:return e.sent(),[2]}}))}))()},n.M0t=function(t){var n=this;return Mo((function(){var i,r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:return i=t.wtt,r=t.mtt,oE(e=n.Rat.JM.sources[0])?(u=MM(e.src),[4,i.dtt(u,"manifestURL")]):[2];case 1:s=a.sent().filter((function(t){return ia(t.references,n.Rat.o)})),o=0,a.label=2;case 2:return o<s.length?($c((c=s[o]).references,n.Rat.o),0!==c.references.length?[3,5]:[4,i.Qu(c.key)]):[3,8];case 3:return a.sent(),[4,r.Qu(c.key)];case 4:return a.sent(),[3,7];case 5:return[4,i.ott(c)];case 6:a.sent(),a.label=7;case 7:return o++,[3,2];case 8:return[2]}}))}))()},n.F0t=function(t){var n=this;return Mo((function(){var i,r,e,u,s;return Uo(this,(function(o){switch(o.label){case 0:return i=t.ptt,r=n.H0t(),[4,i.Z7(r)];case 1:e=o.sent().filter((function(t){return ia(t.references,n.Rat.o)})),u=0,o.label=2;case 2:return u<e.length?($c((s=e[u]).references,n.Rat.o),0!==s.references.length?[3,4]:[4,i.Qu(s.key)]):[3,7];case 3:return o.sent(),[3,6];case 4:return[4,i.ott(s)];case 5:o.sent(),o.label=6;case 6:return u++,[3,2];case 7:return[2]}}))}))()},n.H0t=function(){if(!this.d0t)return[];var t=this.Rat.JM.sources[0];if(!oE(t))return[];var n=MM(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,r=t.Sit;i<r.length;i++)for(var e=0,u=r[i].J$t;e<u.length;e++)for(var s=0,o=u[e].Z;s<o.length;s++)for(var c=0,a=o[s].dw;c<a.length;c++){var h=a[c];h.e0t&&n.push(h.e0t)}return function(t){return t.reduce((function(t,n){return t.indexOf(n)<0&&t.push(n),t}),[])}(n)}(this.d0t).map((function(t){return{src:t}})).map((function(t){return MM(t.src)}));return[n].concat(_r(i))},n.U0t=function(t){var n=this;return Mo((function(){var i,r,e,u;return Uo(this,(function(s){switch(s.label){case 0:return[4,(i=t.Att).ctt()];case 1:r=s.sent().filter((function(t){return ia(t.references,n.Rat.o)})),e=0,s.label=2;case 2:return e<r.length?($c((u=r[e]).references,n.Rat.o),0!==u.references.length?[3,4]:[4,i.Qu(u.key)]):[3,7];case 3:return s.sent(),n.V0t(u),[3,6];case 4:return[4,i.ott(u)];case 5:s.sent(),s.label=6;case 6:return e++,[3,2];case 7:return[2]}}))}))()},n.V0t=function(t){},t}(),W0=function(){function t(){}return t.prototype.y6=function(t,n,i){return new z0(t,n,i)},t}(),G0=new W0;var q0=function(){function t(t,n){this.h7=t,this.z0t=n}var n=t.prototype;return n.W0t=function(t){this.q0t(t)},n.q0t=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.z0t.C0t(t)];case 1:return i.sent(),[3,3];case 2:return i.sent(),n.h7.qdt(b$.ERROR),[3,3];case 3:return[2]}}))}))()},hr(t,[{key:"ma",get:function(){return this.Gu||(this.Gu=function(t){return{renew:function(n){t.W0t(n)}}}(this)),this.Gu}}]),t}(),Y0=function(t){function n(n,i,r,e,u,s){var c;(c=t.call(this)||this).$0t=new pa,c.evictOnLoading=function(){c.pn("Idt",c.evictOnLoading),c.t1t()},c.wS=n,c.cut=i,c.Z0t=r,c.ktt=e,c.z0t=u.y6(Uc(c),c.ktt,s),c.Y0t=new q0(Uc(c),c.z0t),c.Wdt=1===c.z0t.g0t.Q$t?b$.DONE:b$.IDLE,c.z0t.wn("Y$t",(function(t){c.Os(t),1===c.Q0t&&c.qdt(b$.DONE)}));var a=new Date,h=c.Z0t.expirationDate.getTime()-a.getTime();return function(t){return t<2147483647}(h)&&o((function(){return c.t1t()}),h),c}vr(n,t);var i=n.prototype;return i.qdt=function(t){this.Wdt!==t&&(this.Wdt=t,this.To(new C$))},i.Tn=function(){this.Wdt===b$.EVICTED||this.Wdt===b$.DONE||this.J0t()},i.J0t=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),t.qdt(b$.LOADING),n=new pa,t.$0t=n,[4,t.z0t.pi(n.M_)];case 1:return i.sent(),t.qdt(b$.DONE),[3,4];case 2:return Aa(i.sent())?t.qdt(b$.IDLE):t.qdt(b$.ERROR),[3,4];case 3:return t.$0t.Ou(),[7];case 4:return[2]}}))}))()},i.jl=function(){this.$0t.Jl()},i.Qu=function(){this.SI===b$.LOADING?(this.wn("Idt",this.evictOnLoading),this.jl()):this.t1t()},i.t1t=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,t.z0t.R0t()];case 1:return n=i.sent(),[4,G0.y6(t,t.ktt,n).L0t()];case 2:return i.sent(),t.z0t.g0t=V$.j$t,t.qdt(b$.EVICTED),[3,4];case 3:return i.sent(),t.qdt(b$.ERROR),[3,4];case 4:return[2]}}))}))()},hr(n,[{key:"M$t",get:function(){return this.z0t.M$t}},{key:"ma",get:function(){return this.Gu||(this.Gu=function(t){var n,i={get id(){return t.o},get status(){return t.SI},get source(){return t.JM},get parameters(){return t.iI},get duration(){return t.ct},get cached(){return t.X0t.ws()},get secondsCached(){return t.G0t},get percentageCached(){return t.Q0t},get bytes(){return t.K0t},get bytesCached(){return t.j0t},get license(){return t._V.ma},start:function(){t.Tn()},pause:function(){t.jl()},remove:function(){t.Qu()},addEventListener:function(t,i){n.wn(t,i)},removeEventListener:function(t,i){n.pn(t,i)}};return n=new zN(t,["Y$t","Idt"],i),i}(this)),this.Gu}},{key:"o",get:function(){return this.wS}},{key:"_V",get:function(){return this.Y0t}},{key:"SI",get:function(){return this.Wdt}},{key:"JM",get:function(){return this.cut}},{key:"iI",get:function(){return this.Z0t}},{key:"ct",get:function(){return this.z0t.g0t.LF}},{key:"X0t",get:function(){return this.z0t.g0t.G$t}},{key:"G0t",get:function(){return this.z0t.g0t.X$t}},{key:"Q0t",get:function(){return this.z0t.g0t.Q$t}},{key:"K0t",get:function(){return this.z0t.v0t}},{key:"j0t",get:function(){return this.z0t.g0t.q$t}}]),n}(Ha);var j0=function(){function t(t,n){this.ktt=t,this.e1t=n}var n=t.prototype;return n.U$t=function(t,n,i){var r=BR();return this.N$t(r,t,n,i)},n.N$t=function(t,n,i,r){return new Y0(t,n,i,this.ktt,this.e1t,r)},t}(),Q0=30,K0=5;function Z0(t){if(!t)throw new f("Unexpected - The cache parameters are undefined");var n=function(t){if(Mr(t)&&!kc(t,"%"))return _(t);return t}(t.amount);!function(t){if(function(t){return Mr(t)&&kc(t,"%")}(t)){var n=g(t);if(w(n)||n<0||n>100)throw new f("The amount as percentage must be between 0 and 100 percent.")}if(!Mr(t)&&w(t))throw new f("The amount must be a number or a string")}(n);var i=function(t){if(!t)return function(){var t=new Date;return t.setMinutes(t.getMinutes()+Q0),t}();return t}(t.expirationDate);!function(t){if(t&&!function(t){return!t||Fr(t)&&t>new Date}(t))throw new f("Invalid expiration date for the cache parameters")}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);!function(t){if(w(t)||t<0)throw new f("The bandwidth must be between zero and infinity.")}(r);var e=function(t){if(!t)return K0;if(w(t))throw new f("The amount must be a number");return t}(t.numberOfParallelTasks);return{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:e,preferredTrackSelection:{audioTrackSelection:[],textTrackSelection:[]}}}var J0=function(){function t(t,n,i,r){var e=this;this.h1t=[],this.s1t=0,this.n1t=0;var u=this;this.WZt=Mo((function(){var t;return Uo(this,(function(n){switch(n.label){case 0:return(t=u.rQt())?[4,u.qNt(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))})),this.XZt=function(){var t=e.h1t.shift();null==t||t.Qu()};var s=this;this.a1t=Mo((function(t,n){var i;return Uo(this,(function(r){switch(r.label){case 0:i=!1,r.label=1;case 1:return i?[3,3]:[4,t.eg("Y$t")];case 2:return r.sent(),i=1===t.g0t.Q$t,[3,1];case 3:return n.ct<5&&s.WZt(),[2]}}))})),this.eX=t,this.fP=n,this.QN=new pa,this.e1t=i,this.GF=r,this.ktt=new jM}var n=t.prototype;return n.rQt=function(){if(this.i1t)for(var t=this.i1t.eWt;this.s1t<t.length;){var n=t[this.s1t];for(void 0===this.r1t&&(this.r1t=dZ(n),this.n1t=0);this.n1t<this.r1t.length;){var i=this.r1t[this.n1t];if(this.n1t++,void 0!==i.$Ot)return i.$Ot}this.s1t++,this.r1t=void 0}},n.ir=function(){for(this.uJt=void 0,this.QN.Jl(),this.QN=new pa;this.h1t.length;)this.XZt()},n.o1t=function(t){return new H$(this.ktt.ytt,t,"temporary")},n.qNt=function(t){var n=this;return Mo((function(){var i,r,e,u,s,o,c;return Uo(this,(function(a){switch(a.label){case 0:return(i=y$(t.yFt,n.eX.ads.allowedMimeTypes)).length?[4,WE.lC.ZM(i,nR({sources:i}))]:[2];case 1:return(r=a.sent()).t.UM()?(n.z0t||(n.z0t=new n.e1t(n.fP)),e=n.ktt,u=new j0(e,n.z0t),s=n.o1t(u),o=s.N$t(nR({sources:r.JM}),Z0({amount:10,bandwidth:BT.lC.wO()||n.GF.tz}),"temporary"),n.h1t.push(o),c=n.z0t.y6(o,e,"temporary"),n.QN.Jl(),n.QN=new pa,c.pi(n.QN.M_).then(Vr),n.a1t(c,t),[2]):[2]}}))}))()},hr(t,[{key:"uJt",get:function(){return this.i1t},set:function(t){this.i1t=t,this.s1t=0,this.n1t=0,this.r1t=void 0}}]),t}(),$0={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new ZE([0,0]).uF,references:[]},t1={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},n1=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n)||this).u1t=new NV(i),s.ktt=r,s.l1t=e,s.L$t=u,s}vr(n,t);var i=n.prototype;return i.drt=function(n,i,r,e){var u=this;return Mo((function(){var s;return Uo(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.prototype.drt.call(u,n,i,r,e)];case 1:return[2,o.sent()];case 2:return Ta(o.sent()),[3,3];case 3:return[4,u.u1t.drt(n,i,r,e)];case 4:return s=o.sent(),[4,u.c1t(n,i,s)];case 5:return o.sent(),[2,s]}}))}))()},i.c1t=function(t,i,r){var e=this;return Mo((function(){var u,s,o,c,a,h,f,v;return Uo(this,(function(d){switch(d.label){case 0:return void 0===e.l1t?[2]:(u=e.ktt.wtt,s=xM(t,i),[4,u.RC(s)]);case 1:return(o=d.sent())?[4,U0(o,e.l1t,u,e.L$t)]:[3,3];case 2:case 4:return d.sent(),[3,6];case 3:return d.trys.push([3,5,,6]),c={buffer:r},a=n.N0t(s,c,e.l1t),h=a.segmentMetadataEntry,f=a.segmentEntry,[4,e.ktt.gtt(Mo((function(t){return Uo(this,(function(n){switch(n.label){case 0:return[4,t.wtt.ott(h,e.L$t)];case 1:return n.sent(),[4,t.mtt.ott(f,e.L$t)];case 2:return n.sent(),[2]}}))})))];case 5:throw v=d.sent(),new G$("Unable to store segment with url: "+t,v);case 6:return[2]}}))}))()},n.N0t=function(t,n,i){return{segmentMetadataEntry:xo({},$0,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:xo({},t1,{key:t,segmentURLsegmentByteRange:t,data:n,references:[i]})}},n}(CV);var i1,r1=function(){function t(t){this.fP=t}return t.prototype.y6=function(t,n,i){void 0===i&&(i="persistent");var r=Boolean(t.JM.sources[0].useCredentials),e=new UH(this.fP,P_.YT),u=new VF(this.fP,r),s=new FM(n.ptt,n.wtt,n.mtt,n.Att),o=function(t,n,i,r,e){return new n1(n,t,i,r,e)}(this.fP,s,n,t.o,i),c=new YM,a=new qF(GF(u,s),c,t);return this.d1t(t,n,a,c,e,o,i)},t}(),e1=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),n.prototype.d1t=function(t,n,i,r,e,u,s){return new x0(t,n,i,r,e,u,s,Uz())},n}(r1),u1=e1;!function(t){t[t.NOT_INITIALISED=0]="NOT_INITIALISED",t[t.f1t=1]="f1t",t[t._1t=2]="_1t",t[t.Qf=3]="Qf",t[t.Rm=4]="Rm",t[t.g1t=5]="g1t"}(i1||(i1={}));var s1=function(t){function n(n,i,r,e,u,s){var o;(o=t.call(this,n,i)||this).b1t=[],o.A1t=0,o.U1t=[],o.I1t=!1,o.H0=!1,o.S1t=!0,o.v1t=[],o.W1t=function(t){t.type===$l.Ph&&o.S1t?o.S1t=!1:o.To(t)},o.p1t=function(){o.H0=!0};var c=Uc(o);o.q1t=Mo((function(){return Uo(this,(function(t){switch(t.label){case 0:return c.A1t=1,[4,c.w1t.xJt()];case 1:return t.sent(),[2,c.HJt(c.D1t.KVt())]}}))}));var a=Uc(o);o.z1t=Mo((function(t){var n;return Uo(this,(function(i){switch(i.label){case 0:return n=new fK(iK.PLAYBACK,rK.GENERAL_LINEAR_ERROR,"There was a problem playing a linear ad."),a.rXt.To(sJ.cXt(n,t)),[4,a.w1t.xJt()];case 1:return i.sent(),[2,a.HJt(a.D1t.KVt())]}}))})),o.X1t=function(){return o.$Jt.xJt(),o.HJt(o.D1t.KVt())},o.G1t=function(t){var n=new fK(iK.PLAYBACK,rK.GENERAL_NON_LINEAR_ERROR,"There was a problem playing a non linear ad.");return o.rXt.To(sJ.cXt(n,t)),o.$Jt.xJt(),o.HJt(o.D1t.KVt())},o.fP=s,o.kJt=r,o.$Jt=new E$(o.G1t,o.X1t,Uc(o)),o.w1t=new T$(o.z1t,o.q1t,o.$Jt,e,Uc(o),n.k0,r),o.H1t(o.$Jt.cJt),o.H1t(o.w1t.cJt);var h=new J0(e,s,e1,u);return o.y1t=new l$(o.Ko,Uc(o),o.rXt,h),o.w1t.Q_(o.W1t),o.$Jt.Q_(o.Os),o.rXt.eU(o.w1t.rXt),o.rXt.eU(o.$Jt.rXt),o.rXt.eU(o.y1t),o.V1t=new gZ(Uc(o),o.Ko),o.k0.wn(ZR.gn,o.Os),o.Ko.wn($l.Ph,o.p1t),o}vr(n,t);var i=n.prototype;return i.GYt=function(t,n,i){n===GL.i8&&this.H0?Da(this.sQt([t])):this.v1t.push(t)},i._g=function(){return this.w1t.TJt?this.w1t.Wu:this.k5()},i.gg=function(t){},i.vg=function(){return this.w1t.ct},i.pg=function(){return this.w1t.Ic},i.yg=function(){},i.Ag=function(){},i.Cg=function(){return this.w1t.Xu},i.xg=function(t){this.Xu!==t&&(this.w1t.Xu=t,this.To(new SE(this.Wu,this._l)))},i.Bg=function(){return this.w1t.Dc},i.Hg=function(){return this.w1t.Nc},i.Vg=function(){return ZE.Nl().ws()},i.Gg=function(){return this.w1t.Xg},i.jg=function(){return this.w1t.Kg},i.Yg=function(){return this.w1t._l},i.Zg=function(t){this._l!==t&&(this.w1t._l=t,this.To(new SE(this.Wu,this._l)))},i.dl=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return t.m1t?[2]:(t.To(new mE(t.Wu)),t.p1t(),t.v1t.length?(t.m1t=t.sQt(t.v1t),[4,t.m1t]):[3,2]);case 1:i.sent(),t.m1t=void 0,i.label=2;case 2:return[4,t.y1t.$Zt(t.Ko._g())];case 3:return i.sent(),4!==(n=t.A1t)&&1!==n&&5!==n||(!t.AWt&&t.b1t.length?t.T1t():t.AWt?(t.S1t=!0,t.w1t.dl()):(t.Dzt(),t.Ko.dl()),t.A1t=3),[2]}}))}))()},i.jl=function(){3===this.A1t&&(this.w1t.jl(),this.A1t=4)},i.VZt=function(){this.y1t.VZt()},i.Tn=function(){this.A1t=1,this.y1t.Tn()},i.xl=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.y1t&&(t.y1t.Pn(),t.k1t(!1),t.$Jt.xl(),t.A1t=5,t.AWt&&(t.y1t.aJt(t.AWt.NUt),t.AWt=void 0)),t.H0=!1,t.S1t=!1,ea(t.b1t),t.gXt&&(t.Dzt(),t.Ko.be()),ea(t.v1t),[4,t.w1t.xl()];case 1:return n.sent(),[4,t.kJt.ir()];case 2:return n.sent(),[2]}}))}))()},i.zy=function(){this.w1t.XHt(),this.$Jt.XHt()},i.uv=function(){this.kJt.uv(),this.p1t()},i.aXt=function(t){return!(t.type!==$l.Pf||!this.y1t||!this.y1t.YZt(-1))&&(this.y1t.KZt().then(Vr),!0)},i.be=function(){void 0!==this.w1t.EJt&&(this.kJt.be(),this.w1t.be()),void 0!==this.$Jt.n$t&&this.$Jt.be()},i.ke=function(){this.kJt.ke(),this.w1t.ke(),this.$Jt.ke()},i.sQt=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return[4,N$.y$t(t,n.fP,n.rXt)];case 1:return(i=r.sent()).length?(n.y1t.hJt(i),n.rXt.To(new yM),n.gXt||n.Ko.Dc||n.y1t.$Zt(n.Ko._g()),0!==n.A1t&&5!==n.A1t||n.Tn(),[2]):("Ads could not be loaded.",n.rXt.To(sJ.cXt(new fK(iK.ADBLOCK,rK.FILE_NOT_FOUND),"Ads could not be loaded.")),n.H0&&!n.AWt&&0===n.b1t.length&&n.E1t(),[2])}}))}))()},i.sJt=function(t){var n;(n=this.b1t).push.apply(n,_r(t));for(var i=0;i<t.length;i++){t[i];this.H0&&!this.gXt&&this.T1t()}},i.T1t=function(){var t=this;return Mo((function(){var n;return Uo(this,(function(i){switch(i.label){case 0:return 2===t.A1t?[2]:t.I1t?[3,4]:(t.I1t=!0,t.A1t=2,n=t.AWt,t.P1t(),t.AWt?[4,t.AWt.NUt.MZt(t.rXt)]:[3,3]);case 1:return i.sent(),t.R1t()||(t.I1t=!1),t.rXt.To(new I$(t.C1t(t.AWt))),[4,t.x1t()];case 2:return i.sent(),[3,4];case 3:(null==n?void 0:n.NUt.FZt())&&t.rXt.To(new hM(t.C1t(n))),t.I1t=!1,t.A1t=1,t.E1t(),i.label=4;case 4:return[2]}}))}))()},i.E1t=function(){this.Dzt(),this.Ko.be(),this.Ko.Ic?this.Ko.To(new AE(this.Ko._g())):this.Ko.dl()},i.P1t=function(){var t;if(this.AWt&&this.R1t())t=this.AWt.NUt;else{if(0===this.b1t.length)return;t=this.b1t.shift()}if(t){var n=t.KVt();n?this.AWt=n:(this.AWt&&(this.y1t.aJt(this.AWt.NUt),this.AWt=void 0),this.AWt=void 0)}},i.x1t=function(){var t=this;return Mo((function(){var n,i;return Uo(this,(function(r){switch(r.label){case 0:return n=t.AWt?function(t){var n,i,r=null==(n=t.aHt)||null==(i=n.MOt)?void 0:i.FOt();return void 0===r?void 0:new vZ(r)}(t.AWt):void 0,n?t.AWt?(t.D1t=n,t.N1t(t.AWt.hMt),t.B1t(DQ.YFt),i=t.D1t.KVt(),t.AWt.NUt.FZt()&&(t.$Jt.xJt(),1===t.AWt.NUt.ret&&t.rXt.To(new vM(t.C1t(t.AWt)))),[4,t.HJt(i)]):[2]:[3,2];case 1:return r.sent(),[3,3];case 2:t.A1t=1,t.I1t=!1,t.AWt=void 0,t.T1t(),r.label=3;case 3:return[2]}}))}))()},i.HJt=function(t){var n=this;return Mo((function(){var i,r,e,u,s,o,c,a,h,f,v,d,l,_,g;return Uo(this,(function(w){switch(w.label){case 0:return t?(r=Cr(t.$Ot),e=Cr(t.iMt),s=null!=(u=null==(i=t.eMt)?void 0:i.EMt)?u:[],o=s.length>0,c=n.AWt,a=n.C1t(c),t.$Ot?(t.$Ot.n8=c,void 0!==c.m8.skipOffset&&(h=AK.sHt(c.m8.skipOffset,t.$Ot.ct))&&h<t.$Ot.ct&&(t.$Ot.TFt=h),f=a.iWt(t.$Ot,s,t.sMt,c.m8),n.$Jt.xJt(),n.PXt(),[4,n.w1t.HJt(f,t.lt,{width:n.Ko.je.offsetWidth,height:n.Ko.je.offsetHeight})]):[3,2]):[3,7];case 1:w.sent(),r=!0,w.label=2;case 2:return t.iMt?((v=t.iMt.nMt[0]).n8=c,void 0!==c.m8.skipOffset&&(d=AK.sHt(c.m8.skipOffset,n.Ko.vg()))&&(v.n8.TFt=d),l=r?[]:s,_=a.sWt(v,l,t.iMt,t.sMt,c.m8),r&&n.w1t.e$t(),[4,n.$Jt.HJt(_,t.lt,{width:n.Ko.je.offsetWidth,height:n.Ko.je.offsetHeight})]):[3,4];case 3:w.sent(),e=!0,w.label=4;case 4:return r&&(n.A1t=3,n.w1t.be(),g=0===a.vEt,n.S1t=g,n.kJt.jl(),n.w1t.dl(),n.Ko.jl(),n.Ko.ke(),n.PXt(),n.w1t.jJt()),e&&(n.A1t=3,n.$Jt.be(),n.$Jt.jJt()),(r||e||o)&&n.L1t(t.YOt),r||e?[3,6]:[4,n.O1t()];case 5:w.sent(),w.label=6;case 6:return!r&&e&&(n.R1t()||n.b1t.length>0?n.T1t():(n.E1t(),n.AWt=c)),[3,10];case 7:return null!==t?[3,9]:[4,n.O1t()];case 8:return w.sent(),[3,10];case 9:n.k1t(!0),w.label=10;case 10:return[2]}}))}))()},i.O1t=function(){var t=this.D1t;return this.HJt(t&&t.KVt())},i.k1t=function(t){this.B1t(DQ.ZFt),this.M1t(),this.A1t=1;var n=void 0!==this.AWt&&this.AWt.NUt.LZt();if(this.I1t=!1,n)t&&(this.A1t=1,this.T1t());else{if(!this.gXt)return;this.Ko.be(),!this.Ko.Ic&&t&&this.Ko.dl(),this.Dzt()}},i.Dzt=function(){this.F1t(),t.prototype.Dzt.call(this)},i.F1t=function(){this.Ko.Ic&&(this.A1t=5),this.AWt&&(this.AWt.NUt.FZt()&&this.rXt.To(new hM(this.C1t(this.AWt))),this.y1t.aJt(this.AWt.NUt),this.AWt=void 0)},i.N1t=function(t){this.U1t=this.U1t.concat(t)},i.M1t=function(){this.U1t=[]},i.H1t=function(t){this.Ko.je.appendChild(t)},i.B1t=function(t){for(var n=0,i=this.U1t;n<i.length;n++){var r=i[n];r.JFt===t&&yQ(r.eventURL)}},i.L1t=function(t){this.w1t.mJt(DQ.qFt);for(var n=0;n<t.length;n++){var i=t[n];yQ(i)}},i.g8=function(t){for(var n=this.KYt(),i=0;i<n.length;i++){var r=n[i];AQ(r.sources,r.timeOffset)||t.m$(r,GL.i8,!1)}},i.KYt=function(){for(var t,n=[],i=0,r=this.Y5.concat(this.t8);i<r.length;i++){var e=r[i];n.push(e.m8)}for(var u=this.b1t.concat(this.y1t.t8.filter((function(t){return!t.oWt()}))),s=0;s<u.length;s++)for(var o=0,c=u[s].eWt;o<c.length;o++){var a=c[o];a.q||n.push(a.m8)}return(t=n).push.apply(t,_r(this.v1t)),fa(n)},i.R1t=function(){return!!this.AWt&&dZ(this.AWt).some((function(t){return t.$Ot}))},i.C1t=function(t){return t.NUt.RZt},i.m$t=function(){return this.V1t},i.rv=function(){return this.kJt.rv()},i.og=function(){return this.kJt.og()},i.pXt=function(t){this.y1t.pXt(t)},i.bn=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,t.prototype.bn.call(n)];case 1:return i.sent(),n.Ko.pn($l.Ph,n.p1t),n.rXt.nU(n.w1t.rXt),n.rXt.nU(n.$Jt.rXt),n.rXt.nU(n.y1t),n.w1t.bn(),n.$Jt.bn(),[4,n.kJt.bn()];case 2:return i.sent(),[2]}}))}))()},hr(n,[{key:"sXt",get:function(){return this}},{key:"eXt",get:function(){return n.eXt}},{key:"J5",get:function(){return this.AWt?this.C1t(this.AWt):null}},{key:"Y5",get:function(){return this.AWt?[this.w1t.EJt,this.$Jt.n$t].filter(Cr):[]}},{key:"t8",get:function(){var t=this.b1t.concat(this.y1t.t8.filter((function(t){return!t.oWt()})));return sa(t,(function(t){return t.RZt.L5.filter((function(t){return!t.oWt()}))}))}},{key:"e8",get:function(){return this.y1t.t8.map((function(t){return t.RZt}))}}],[{key:"eXt",get:function(){return hZ.zVt}}]),n}(dJ),o1=function(){function t(){}var n=t.prototype;return n.mU=function(t){return t&&("string"!=typeof t.integration||t.integration===pI.DEFAULT||t.integration===pI.THEO)},n.Jzt=function(t,n,i){var r=new rI(t.je,i,t.Gf,t.g5,t.y5,t.Cu);return new s1(t,n,r,i,t.g5,t.Gf)},n.m$=function(t,n,i,r){i.GYt(t,n,r)},n.uH=function(t){var n=LK(t.sources);if(n){var i={integration:pI.THEO,sources:n};"vast"===i.sources.type&&void 0===t.timeOffset?t.timeOffset=0:"vmap"===i.sources.type&&void 0!==t.timeOffset&&Jr("property timeOffset will be ignored for vmap ad sources");var r=xK(t.timeOffset);void 0!==r&&(i.timeOffset=r);var e=xK(t.skipOffset);return void 0!==e&&(i.skipOffset=e),i}},hr(t,[{key:"Zzt",get:function(){return s1.eXt}}]),t}();PI.lC.pU(new o1);var c1=function(){function t(t,n){this.lZt=void 0,this.L$=!1,this.S6=t;var i=e.createElement("div");i.className="theoplayer-ima-wrapper",oo(i),i.style.zIndex="10",Ir.Ks&&function(t,n){t.addEventListener(n,ro)}(i,"mousedown"),n.appendChild(i);var r=e.createElement("div");r.className="theoplayer-ima",r.style.height="100%",this.K1t=r,i.appendChild(r),this.Cqt=i,this.lZt=new google.ima.AdDisplayContainer(this.K1t,this.S6)}var n=t.prototype;return n.Jq=function(){var t;this.L$||(null==(t=this.lZt)||t.initialize(),this.L$=!0)},n.Z1t=function(t){"linear"===t?this.Cqt.style.marginTop="0px":"nonlinear"===t&&(this.Cqt.style.marginTop="-45px")},n.be=function(){this.Cqt.style.opacity="1",this.Cqt.style.pointerEvents=""},n.ke=function(){this.Cqt.style.opacity="0",this.Cqt.style.pointerEvents="none"},n.Ou=function(){var t;null==(t=this.lZt)||t.destroy(),this.lZt=void 0},hr(t,[{key:"cJt",get:function(){return this.Cqt}},{key:"Q1t",get:function(){return this.K1t.offsetHeight}},{key:"j1t",get:function(){return this.K1t.offsetWidth}},{key:"Y1t",get:function(){return this.lZt}}]),t}(),a1=function(){function t(t){this.J1t=t;var n=new google.ima.CompanionAdSelectionSettings;n.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.ALL,n.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.ALL,n.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,this.IMt=t.getCompanionAds(0,0,n)}return hr(t,[{key:"lFt",get:function(){return this.J1t.getAdId()}},{key:"djt",get:function(){var t=this.J1t.getAdPodInfo();if(void 0!==t)try{return{_Qt:t.getAdPosition(),ZVt:t.getMaxDuration(),$1t:t.getPodIndex(),vEt:t.getTimeOffset(),gQt:t.getTotalAds(),t2t:t.getIsBumper()}}catch(t){return}}},{key:"GOt",get:function(){return this.J1t.getAdSystem()}},{key:"e2t",get:function(){return this.J1t.getAdvertiserName()}},{key:"OMt",get:function(){var t;return null!=(t=this.J1t.getApiFramework())?t:void 0}},{key:"eMt",get:function(){return this.IMt.map((function(t){return{FMt:t.getAdSlotId(),rM:t.getContentType(),O:t.getContent(),Ci:t.getHeight(),Ti:t.getWidth()}}))}},{key:"rM",get:function(){var t;return null!=(t=this.J1t.getContentType())?t:void 0}},{key:"wMt",get:function(){return this.J1t.getCreativeId()}},{key:"wYt",get:function(){return this.J1t.getCreativeAdId()}},{key:"i2t",get:function(){return this.J1t.getDealId()}},{key:"jA",get:function(){return this.J1t.getDescription()}},{key:"ct",get:function(){return this.J1t.getDuration()}},{key:"Ti",get:function(){return this.J1t.getWidth()}},{key:"Ci",get:function(){return this.J1t.getHeight()}},{key:"rYt",get:function(){var t;return null!=(t=this.J1t.getMediaUrl())?t:void 0}},{key:"s2t",get:function(){return this.J1t.getMinSuggestedDuration()}},{key:"gYt",get:function(){return this.J1t.getSkipTimeOffset()}},{key:"n2t",get:function(){return this.J1t.getSurveyUrl()}},{key:"uM",get:function(){return this.J1t.getTitle()}},{key:"hYt",get:function(){return this.J1t.getTraffickingParameters()}},{key:"oYt",get:function(){return this.J1t.getTraffickingParametersString()}},{key:"sMt",get:function(){return this.J1t.getUniversalAdIds().map((function(t){return{pYt:t.getAdIdRegistry(),yYt:t.getAdIdValue()}}))}},{key:"pZt",get:function(){return this.J1t.getUiElements()}},{key:"vYt",get:function(){return this.J1t.getVastMediaBitrate()}},{key:"_Yt",get:function(){return this.J1t.getVastMediaHeight()}},{key:"fYt",get:function(){return this.J1t.getVastMediaWidth()}},{key:"aYt",get:function(){return this.J1t.getWrapperAdIds()}},{key:"uYt",get:function(){return this.J1t.getWrapperAdSystems()}},{key:"cYt",get:function(){return this.J1t.getWrapperCreativeIds()}},{key:"njt",get:function(){return this.J1t.isLinear()}}]),t}();function h1(){return[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED]}var f1=function(t){function n(n,i,r){var e;return(e=t.call(this)||this)._8=[],e.h2t=function(t){t.getAd().isLinear()?e.lZt.Z1t("linear"):e.lZt.Z1t("nonlinear")},e.r2t=function(){e.tWt.resize(e.lZt.j1t,e.lZt.Q1t,google.ima.ViewMode.NORMAL)},e.forwardAdEventListener=function(t){var n=t.getAd(),i=function(t){var n;return(EA(n={},google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,yJ.yQt),EA(n,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,yJ.AQt),EA(n,google.ima.AdEvent.Type.CLICK,yJ.bQt),EA(n,google.ima.AdEvent.Type.DURATION_CHANGE,yJ.Nf),EA(n,google.ima.AdEvent.Type.EXPANDED_CHANGED,yJ.TQt),EA(n,google.ima.AdEvent.Type.STARTED,yJ.SQt),EA(n,google.ima.AdEvent.Type.IMPRESSION,yJ.kQt),EA(n,google.ima.AdEvent.Type.PAUSED,yJ.Rm),EA(n,google.ima.AdEvent.Type.RESUMED,yJ.EQt),EA(n,google.ima.AdEvent.Type.AD_PROGRESS,yJ.dQt),EA(n,google.ima.AdEvent.Type.AD_BUFFERING,yJ.IQt),EA(n,google.ima.AdEvent.Type.FIRST_QUARTILE,yJ.PQt),EA(n,google.ima.AdEvent.Type.MIDPOINT,yJ.MFt),EA(n,google.ima.AdEvent.Type.THIRD_QUARTILE,yJ.RQt),EA(n,google.ima.AdEvent.Type.COMPLETE,yJ.FFt),EA(n,google.ima.AdEvent.Type.USER_CLOSE,yJ.CQt),EA(n,google.ima.AdEvent.Type.LINEAR_CHANGED,yJ.xQt),EA(n,google.ima.AdEvent.Type.LOADED,yJ.DQt),EA(n,google.ima.AdEvent.Type.AD_CAN_PLAY,yJ.NQt),EA(n,google.ima.AdEvent.Type.AD_METADATA,yJ.BQt),EA(n,google.ima.AdEvent.Type.AD_BREAK_READY,yJ.LQt),EA(n,google.ima.AdEvent.Type.INTERACTION,yJ.OQt),EA(n,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,yJ.MQt),EA(n,google.ima.AdEvent.Type.SKIPPED,yJ.FQt),EA(n,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,yJ.UQt),EA(n,google.ima.AdEvent.Type.LOG,yJ.HQt),EA(n,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,yJ.VQt),EA(n,google.ima.AdEvent.Type.VOLUME_CHANGED,yJ.WQt),EA(n,google.ima.AdEvent.Type.VOLUME_MUTED,yJ.qQt),n)[t]}(t.type),r={type:i,date:new Date,o8:n?e.o2t(n):void 0,jKt:bJ(i,t.getAdData())};e.To(r)},e.forwardAdErrorEventListener=function(t){e.To({date:new Date,o8:void 0,type:mJ.zQt,jKt:{Djt:EJ(t.getError())}})},e.tWt=n,e.lZt=i,e.E0=r,e.E0.wn(ZR.gn,e.r2t),e.tWt.init(e.lZt.j1t,e.lZt.Q1t,google.ima.ViewMode.NORMAL),e.tWt.addEventListener(google.ima.AdEvent.Type.LOADED,e.h2t),e.tWt.addEventListener(h1(),e.forwardAdEventListener),e.tWt.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e.forwardAdErrorEventListener),e}vr(n,t);var i=n.prototype;return i.Zg=function(t){var n;null==(n=this.tWt)||n.setVolume(t)},i.Yg=function(){return this.tWt.getVolume()},i.Pjt=function(){return this.tWt.getRemainingTime()},i.Ou=function(){ea(this._8),this.E0.pn(ZR.gn,this.r2t),this.tWt.removeEventListener(google.ima.AdEvent.Type.LOADED,this.h2t),this.tWt.removeEventListener(h1(),this.forwardAdEventListener),this.tWt.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.forwardAdErrorEventListener),this.tWt.destroy()},i.Tn=function(){this.tWt.start()},i.oZt=function(){this.tWt.resume()},i.jl=function(){this.tWt.pause()},i.zy=function(){this.tWt.skip()},i.xl=function(){this.tWt.stop()},i.ujt=function(){var t=this.tWt.getCurrentAd();if(t)return this.o2t(t)},i.fZt=function(){return this.tWt.getCuePoints()},i.o2t=function(t){var n=jc(this._8,(function(n){return n.J1t===t}));return n||(n=new a1(t),this._8.push(n)),n},i.TZt=function(t){this.tWt.updateAdsRenderingSettings(l1(t))},n}(Ua),v1=function(t){function n(n,i){var r;return(r=t.call(this,"EZt")||this).u2t=n,r.Cqt=i,r}return vr(n,t),n.prototype.pa=function(){return this},hr(n,[{key:"a2t",get:function(){return this.u2t}},{key:"cJt",get:function(){return this.Cqt}}]),n}(Hw),d1=function(t){function n(n,i){var r;return(r=t.call(this)||this).onAdsManagerLoadedListener=function(t){if(r.d2t&&r.f2t&&r.c2t){var n,i=l1(r.f2t),e=r.d2t,u=t.getAdsManager({get currentTime(){return e.Wu},get duration(){return e.ct}},i),s=new f1(u,r.l2t,r.E0);r.To(new v1(u,r.l2t.cJt)),null==(n=r.c2t)||n.Lf(s),r.c2t=void 0}},r.onAdsManagerErrorListener=function(t){var n,i={pC:t.getError().getMessage(),mQt:t.getError().getVastErrorCode(),vUt:t.getError().getErrorCode(),Iw:TJ(t.getError().getType()),pQt:void 0};null==(n=r.c2t)||n.BC(i),r.c2t=void 0},r.E0=i,r.l2t=n,r}vr(n,t);var i=n.prototype;return i.aZt=function(){var t;null==(t=this.uZt)||t.contentComplete()},i.sQt=function(t,n,i){var r=this;return Mo((function(){var e;return Uo(this,(function(u){if(r.c2t)throw new f("Only one ImaAdsRequest can be made at a time.");if(!r.l2t.Y1t)throw new f("AdDisplayContainer is not initialized.");return r.uZt=new google.ima.AdsLoader(r.l2t.Y1t),r.uZt.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,r.onAdsManagerLoadedListener),r.uZt.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r.onAdsManagerErrorListener),r.c2t=new kf,r.d2t=n,r.f2t=i,e=new google.ima.AdsRequest,t.fGt?e.adTagUrl=t.fGt:t._Gt&&(e.adsResponse=t._Gt),e.linearAdSlotWidth=t.oGt,e.linearAdSlotHeight=t.aGt,e.nonLinearAdSlotWidth=t.uGt,e.nonLinearAdSlotHeight=t.cGt,e.setAdWillAutoPlay(t.lGt),e.setAdWillPlayMuted(t.dGt),t.gGt&&(e.omidAccessModeRules=t.gGt),r.uZt.requestAds(e),[2,r.c2t.jf]}))}))()},i.Ou=function(){var t;void 0!==this.uZt&&(this.uZt.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.uZt.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.uZt.destroy(),this.uZt=void 0),null==(t=this.c2t)||t.BC("AdsLoader destroyed"),this.c2t=void 0},n}(Ua);function l1(t){var n=new google.ima.AdsRenderingSettings;return n.enablePreloading=t.yZt,t.pZt&&(n.uiElements=t.pZt),n.mimeTypes=t.mZt,void 0!==t.bZt&&(n.playAdsAfterTime=t.bZt),void 0!==t.AZt&&(n.loadVideoTimeout=t.AZt),void 0!==t.nYt&&(n.bitrate=t.nYt),void 0!==t.bZt&&(n.playAdsAfterTime=t.bZt),n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n}var _1=function(t){function n(n){var i;return(i=t.call(this)||this).Ko=n,i._2t=i.Ko._g(),i.Ko.wn($l.Lu,(function(){i.Ko.Fc||(i._2t=i.Ko._g()),i.To(new Fw(i.Wu,void 0))})),i}return vr(n,t),n.prototype.ir=function(){this._2t=0},hr(n,[{key:"Wu",get:function(){return this.Ko.Fc?this._2t:this.Ko._g()}},{key:"ct",get:function(){return this.Ko.vg()}},{key:"Xu",get:function(){return this.Ko.Xu}},{key:"_l",get:function(){return this.Ko._l}}]),n}(Ua);o$.lC.registerWebImaAdPlayerConstructor((function(t,n,i){e$(i);var r=u$(i)?t.rv():void 0,e=new c1(r,t.je),u=new d1(e,t.k0),s=new _1(t);return new s$(t,n,i,t.w5,e,u,s)}));var g1=function(t){function n(n,i){var r;return(r=t.call(this)||this).Gu=void 0,r.Pa=DI.UNAVAILABLE,r.p2t=new pa,r.handleAirplayChangedEvent=function(){r.Ko&&r.Ko.Eg?r.y2t():r.Dvt===DI.CONNECTED&&r.A2t()},r.Vyt=n,r.qq=i,r}vr(n,t);var i=n.prototype;return i.g2t=function(){this.v2t(),this.Vyt.wn($l.do,this.w2t),tr.Zs.n9&&this.Aa(DI.AVAILABLE)},i.preloadPlayer=function(t){if(ba(t),this.Ko.Nc<jk.Jn){var n=this.Ko.eg(qk.yl,t);return this.Ko.Mg=GE.Ty,n}return $.resolve()},i.Aa=function(t){t!==this.Pa&&(this.Pa=t,this.To(new jZ(this.Pa)))},i.m2t=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.preloadPlayer(t)];case 1:return i.sent(),n.qq._v(),[2]}}))}))()},i.vv=function(){tr.Zs.n9&&this.Ko.vv()},i.bn=function(){this.Lo(),this.Vyt.pn($l.do,this.w2t),this.p2t.Jl()},hr(n,[{key:"Mz",get:function(){return this.Dvt===DI.CONNECTED}},{key:"Dvt",get:function(){return this.Pa}},{key:"ma",get:function(){return this.Gu||(this.Gu=function(t){return{get casting(){return t.Mz},get state(){return t.Dvt},start:function(){t._v()},stop:function(){t.vv()},addEventListener:function(n,i){var r=fy(n,ay);t.wn(r,i)},removeEventListener:function(n,i){var r=fy(n,ay);t.pn(r,i)}}}(this)),this.Gu}}]),n}(Ua),w1=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).w2t=function(){var t,n=null==(t=e.qq.qg())?void 0:t.sources.filter(_E);tr.Zs.n9&&(null==n?void 0:n.some(GT))?e.Aa(DI.AVAILABLE):e.Aa(DI.UNAVAILABLE)},e.handleAirplayPlayerTimeUpdate=function(t){e.S2t=t.currentTime,e.k2t=e.qq.qu},e.T2t=r,e.T2t.ke(),i.cS(r),e.g2t(),e}vr(n,t);var i=n.prototype;return i.v2t=function(){this.Ko&&this.Ko.pn($l.Vw,this.handleAirplayChangedEvent),this.b2t?this.Ko=this.qq:this.Ko=this.T2t,this.Ko.wn($l.Vw,this.handleAirplayChangedEvent)},i.y2t=function(){var t=this;return Mo((function(){var n,i,r;return Uo(this,(function(e){switch(e.label){case 0:return t.Ko?t.b2t?[3,2]:(t.S2t=t.qq.Wu,t.k2t=t.qq.qu,t.T2t.wn($l.Lu,t.handleAirplayPlayerTimeUpdate),t.E2t=t.qq.$v,t.qq.$v=t.T2t,t.E2t.jl(),t.E2t.ke(),t.T2t.be(),t.T2t.Xu=t.E2t.Xu,t.T2t.$u=t.E2t.$u,t.T2t._l=t.E2t._l,n=t.T2t.eg($l.Tf),t.T2t.Wu=t.E2t.Wu,[4,n]):[2];case 1:return e.sent(),t.T2t.dl(),t.T2t.Xu=t.E2t.Xu,t.T2t.$u=t.E2t.$u,t.T2t._l=t.E2t._l,[3,5];case 2:return t.Ko.Dc?[3,4]:(i=new $((function(t){return o(t,800)})),r=t.Ko.eg($l.Ch,t.p2t.M_),[4,$.race([r,i])]);case 3:e.sent(),e.label=4;case 4:t.Ko.dl(),e.label=5;case 5:return t.Aa(DI.CONNECTED),[2]}}))}))()},i.A2t=function(){this.E2t?(this.T2t.pn($l.Lu,this.handleAirplayPlayerTimeUpdate),this.E2t.Xu=this.T2t.Xu,this.E2t.$u=this.T2t.$u,this.E2t._l=this.T2t._l,Ir.MR&&!Ir.KP&&this.qq.ct===1/0?this.k2t?this.E2t.qu=this.k2t:this.E2t.Wu=1/0:this.E2t.Wu=this.S2t,this.k2t=void 0,this.S2t=void 0,this.E2t.be(),this.T2t.ke(),this.T2t.Dc||this.E2t.dl(),this.qq.$v=this.E2t,this.T2t.ir(),this.E2t=void 0):this.Ko&&(this.Ko.Wu=this.Ko.Wu+1e-4);this.Aa(DI.AVAILABLE)},i._v=function(){tr.Zs.n9&&(this.Vyt.uv(),this.p2t.Jl(),this.p2t=new pa,this.b2t?Da(this.m2t(this.p2t.M_)):Da(this.I2t(this.p2t.M_)))},i.I2t=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,n.T2t.ir()];case 1:if(e.sent(),void 0===(i=n.qq.qg()))throw new f("Not possible to start Airplay without a source");return[4,n.T2t.ba(i,t)];case 2:return e.sent(),r=n.T2t.eg(qk.Qf,t),n.T2t.dl(),[4,La(r,3e3)];case 3:return e.sent(),n.T2t.jl(),ba(t),n.T2t._v(),[3,5];case 4:return Aa(e.sent())?[2]:[3,5];case 5:return[2]}}))}))()},i.bn=function(){var n;t.prototype.bn.call(this),this.qq.lS(this.T2t),null==(n=this.T2t)||n.bn()},hr(n,[{key:"b2t",get:function(){return this.qq.fv()}}]),n}(g1),y1=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).tF=void 0,o.cut=void 0,o.$T=new aS,o.eS=new aS,o.xu=new hS,o.Hs=n,o.R2t=new zs(u,s,1,[py.vl]),o.R2t.jF(n),o.P2t=new WT(n,o.R2t,i,r,e),o.P2t.Q_(o.Os),o.$T.$v=o.P2t.ht,o.eS.$v=o.P2t.rt,o.xu.$v=o.P2t.nt,o}vr(n,t);var i=n.prototype;return i.mv=function(){this.P2t.mv()},i.fv=function(){return this.P2t.fv()},i._v=function(){this.P2t._v()},i.vv=function(){this.P2t.vv()},i.dl=function(){Da(this.P2t.dl())},i.jl=function(){this.P2t.jl()},i.xl=function(){return Mo((function(){return Uo(this,(function(t){return[2]}))}))()},i.qg=function(){return this.cut},i.ba=function(t,n){var i=this;return Mo((function(){var r,e,u,s;return Uo(this,(function(o){switch(o.label){case 0:if(ba(n),i.cut=t,hE(t.sources))r=VS({src:""});else for(e=t.sources.filter(_E),u=0;u<e.length;u++)if(GT(s=e[u])){r=s;break}if(!r)throw new f("Unsupported source.");return[4,i.P2t.ba(r,t,n)];case 1:return o.sent(),i.aF(r),[2]}}))}))()},i.aF=function(t){this.tF!==t&&(this.tF=t,this.To(new LE(t)))},i.rv=function(){return this.P2t.rv()},i.og=function(){return[]},i.uv=function(){this.R2t.zF()},i.hv=function(t){OE(this,t)},i.ov=function(){},i.pv=function(t){return!1},i.wv=function(){this.P2t.wv()},i.ir=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.tF=void 0,t.cut=void 0,[4,t.P2t.ir()];case 1:return n.sent(),[2]}}))}))()},i.be=function(){this.P2t.be()},i.ke=function(){this.P2t.ke()},i.ev=function(){return this.P2t.ev()},i.bn=function(){var t=this;return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return t.Lo(),t.R2t.bn(),[4,t.P2t.bn()];case 1:return n.sent(),t.$T.bn(),t.eS.bn(),t.xu.bn(),[2]}}))}))()},hr(n,[{key:"ht",get:function(){return this.P2t.ht}},{key:"bl",get:function(){return this.P2t.bl}},{key:"bt",get:function(){return this.tF}},{key:"Wu",get:function(){return this.P2t.Wu},set:function(t){this.P2t.Wu=t}},{key:"qu",get:function(){return this.P2t.qu}},{key:"ct",get:function(){return this.P2t.ct}},{key:"je",get:function(){return this.Hs}},{key:"Ic",get:function(){return this.P2t.Ic}},{key:"lt",get:function(){return this.P2t.lt}},{key:"Ec",get:function(){return this.P2t.Ec}},{key:"Tg",get:function(){return this.P2t.Tg}},{key:"Eg",get:function(){return this.P2t.Eg}},{key:"tv",get:function(){return this.P2t.tv}},{key:"Jg",get:function(){return this.P2t.Jg}},{key:"Pg",get:function(){return this.P2t.Pg}},{key:"Xu",get:function(){return this.P2t.Xu},set:function(t){this.P2t.Xu=t}},{key:"Dg",get:function(){return this.P2t.Dg}},{key:"Dc",get:function(){return this.P2t.Dc}},{key:"$u",get:function(){return this.P2t.$u},set:function(t){this.P2t.$u=t}},{key:"wl",get:function(){return this.P2t.wl}},{key:"Mg",get:function(){return this.P2t.Mg},set:function(t){this.P2t.Mg=t}},{key:"Nc",get:function(){return this.P2t.Nc}},{key:"kl",get:function(){return this.P2t.kl}},{key:"Fc",get:function(){return this.P2t.Fc}},{key:"nt",get:function(){return this.P2t.nt}},{key:"Xg",get:function(){return this.P2t.Xg}},{key:"Kg",get:function(){return this.P2t.Kg}},{key:"rt",get:function(){return this.P2t.rt}},{key:"_l",get:function(){return this.P2t._l},set:function(t){this.P2t._l=t}}]),n}(Ha),m1=function(t){function n(n){var i;i=t.call(this,n)||this;var r=new y1(i.v5.je,i.Gf,i.xb,i.g5,i.y5,i.Cu);return i.C2t=new w1(Uc(i),i.v5,r),i.m5.qz(i.C2t),i.wn($l.Qw,(function(){i.C2t.v2t()})),i}return vr(n,t),n.prototype.bn=function(){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return n.C2t.bn(),[4,t.prototype.bn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(KT);function p1(t,n){return"function"==typeof t.getAll?k1(void 0===n?t.getAll():t.getAll(n)):function(t){var n=new kf,i=[];return t.onsuccess=function(){var r=t.result;r&&r.value?(i.push(r.value),r.continue()):n.Lf(i),tt()},t.onerror=function(){n.BC(t.error),tt()},n.jf}(void 0===n?t.openCursor():t.openCursor(n))}function k1(t){return new $((function(n,i){t.onsuccess=function(){n(t.result),tt()},t.onerror=function(){i(t.error),tt()}}))}nS((function(t){return new m1(t)}),jT.V5);var A1=function(){function t(t){var n=this;this.gtt=t,this.oo=!0,this.jf=new $((function(t,i){n.gtt.oncomplete=function(){n.oo=!1,t(),tt()},n.gtt.onerror=function(){n.oo&&(n.oo=!1,i(n.gtt.error||new f("Transaction error")),tt())},n.gtt.onabort=function(){n.oo=!1,i(new f("Transaction aborted")),tt()}}))}return t.prototype.Jl=function(){if(this.oo)try{this.gtt.abort(),this.oo=!1}catch(t){}},t}();function b1(t,n,i){return T1.apply(this,arguments)}function T1(){return T1=Mo((function(t,n,i){var r,e,u;return Uo(this,(function(s){switch(s.label){case 0:r=new A1(t),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,$.all([n(i),r.jf])];case 2:return e=Fo.apply(void 0,[s.sent(),1]),[2,e[0]];case 3:if(u=s.sent(),!r.oo)throw new G$("IDBTransaction committed prematurely",u);throw u;case 4:return r.Jl(),[7];case 5:return[2]}}))})),T1.apply(this,arguments)}var S1=function(){function t(t,n){this.h7=t,this.B2t=n}var n=t.prototype;return n.htt=function(t){return $.resolve("persistent"===t)},n.ott=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?$.reject(qM(n)):k1(this.N2t(UM.Itt).put(t))},n.att=function(t,n){void 0===n&&(n="persistent");var i=this;return Mo((function(){var r,e;return Uo(this,(function(u){switch(u.label){case 0:if("persistent"!==n)return[2,$.reject(qM(n))];r=0,u.label=1;case 1:return r<t.length?(e=t[r],[4,i.ott(e,n)]):[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},n.IC=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.RC(t)];case 1:return[2,Boolean.apply(void 0,[i.sent()])]}}))}))()},n.RC=function(t){return k1(this.N2t(UM.Ett).get(t))},n.utt=function(t,n){return k1(this.N2t(UM.Ett).index(n).get(t))},n.Z7=function(t){var n=this;return Mo((function(){var i,r,e,u;return Uo(this,(function(s){switch(s.label){case 0:i=[],r=0,s.label=1;case 1:return r<t.length?(e=t[r],[4,n.RC(e)]):[3,4];case 2:(u=s.sent())&&i.push(u),s.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.ctt=function(){return p1(this.N2t(UM.Ett))},n.ltt=function(t){return p1(this.N2t(UM.Ett),t)},n.dtt=function(t,n){return p1(this.N2t(UM.Ett).index(n),t)},n.Qu=function(t){return k1(this.N2t(UM.Itt).delete(t))},n.ftt=function(t){var n=this;return Mo((function(){var i,r;return Uo(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n.Qu(r)]):[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n._tt=function(){return k1(this.N2t(UM.Itt).clear())},n.N2t=function(t){if(!this.B2t)throw new f("Lock was released");if(!function(t,n){return t===UM.Ett&&n===UM.Ett||n===UM.Itt}(t,this.B2t.mode))throw new f("Incompatible transaction mode: "+this.B2t.mode+", expected "+t);return this.B2t.objectStore(this.l)},n.L2t=function(){this.h7.O2t(this),this.B2t=void 0},hr(t,[{key:"l",get:function(){return this.h7.l}}]),t}();var E1=function(){function t(t,n){this.cbt=void 0,this.qX=new Ul,this.U2t=t,this.l=n}var n=t.prototype;return n.htt=function(t){return $.resolve("persistent"===t)},n.ott=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?$.reject(qM(n)):this.gtt(UM.Itt,(function(n){return n.ott(t)}))},n.att=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?$.reject(qM(n)):this.gtt(UM.Itt,(function(n){return n.att(t)}))},n.IC=function(t){return this.gtt(UM.Ett,(function(n){return n.IC(t)}))},n.RC=function(t){return this.gtt(UM.Ett,(function(n){return n.RC(t)}))},n.utt=function(t,n){return this.gtt(UM.Ett,(function(i){return i.utt(t,n)}))},n.Z7=function(t){return this.gtt(UM.Ett,(function(n){return n.Z7(t)}))},n.ctt=function(){return this.gtt(UM.Ett,(function(t){return t.ctt()}))},n.ltt=function(t){return this.gtt(UM.Ett,(function(n){return n.ltt(t)}))},n.dtt=function(t,n){return this.gtt(UM.Ett,(function(i){return i.dtt(t,n)}))},n.Qu=function(t){return this.gtt(UM.Itt,(function(n){return n.Qu(t)}))},n.ftt=function(t){return this.gtt(UM.Itt,(function(n){return n.ftt(t)}))},n._tt=function(){return this.gtt(UM.Itt,(function(t){return t._tt()}))},n.Tbt=function(t){return this.M2t(),this.cbt=new S1(this,t),this.cbt},n.M2t=function(){if(void 0!==this.cbt)throw new f("Already locked")},n.O2t=function(t){if(this.cbt!==t)throw new f("Incorrect lock");this.cbt=void 0},n.GN=function(t){return this.qX.GN(t)},n.gtt=function(t,n){var i=this;return this.GN((function(){return i.F2t(t,n)}))},n.F2t=function(t,n){var i=this;return Mo((function(){var r,e;return Uo(this,(function(u){switch(u.label){case 0:i.M2t(),r=i.U2t.transaction(i.l,t),e=i.Tbt(r),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,b1(r,n,e)];case 2:return[2,u.sent()];case 3:return e.L2t(),[7];case 4:return[2]}}))}))()},n.H2t=function(t){this.M2t();var n=this.U2t.transaction(this.l,t);return this.Tbt(n)},t.V2t=function(t,n){var i,r=new $((function(t){i=t})),e=t.reduce((function(t,n){return t.then((function(){var t,i=new $((function(n){t=n}));return n.GN((function(){return t(),r})).catch(Vr),i}))}),$.resolve());return i(e.then(n)),r},t}(),I1={oA:17,W2t:Mo((function(t){var n,i,r,e;return Uo(this,(function(u){if(n=t.transaction,i=t.database,(r=n.objectStoreNames)&&r.length)for(e=0;e<r.length;e++)i.deleteObjectStore(r[e]);return i.createObjectStore(B1,{keyPath:"id"}),i.createObjectStore(L1,{keyPath:"key"}),i.createObjectStore(M1,{keyPath:"key"}),i.createObjectStore(x1,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),i.createObjectStore(U1,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),[2]}))}))},R1=function(){function t(t){this.X2t=t}return t.prototype.q2t=function(t){var n=this;return Mo((function(){var i,r,e;return Uo(this,(function(u){switch(u.label){case 0:i=0,r=n.z2t,u.label=1;case 1:return i<r.length?(e=r[i],n.X2t<e.oA?[4,e.W2t(t)]:[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},t}(),N1=function(t){function n(){return t.apply(this,arguments)}return vr(n,t),hr(n,[{key:"z2t",get:function(){return[I1]}}]),n}(R1),C1=function(){function t(){this.Q2t=function(t){return new N1(t)}}var n=t.prototype;return n.G2t=function(t){this.Q2t=t},n.y6=function(t){return this.Q2t(t)},t}(),D1=new C1,P1="theoplayer-cache-database",O1=18,B1="cachingTask",L1="licences",M1="manifest",x1="segment",U1="segmentMetadata";function F1(){return F1=Mo((function(){var t;return Uo(this,(function(n){switch(n.label){case 0:return function(){if("undefined"==typeof indexedDB)throw new f("Indexed database unavailable")}(),(t=indexedDB.open(P1,O1)).addEventListener("upgradeneeded",H1),[4,k1(t)];case 1:return[2,n.sent()]}}))})),F1.apply(this,arguments)}function H1(t){return V1.apply(this,arguments)}function V1(){return V1=Mo((function(t){var n,i,r,e,u;return Uo(this,(function(s){switch(s.label){case 0:return n=t.oldVersion<=O1?t.oldVersion:-1,i=t.target,r=i.result,e=i.transaction,u=D1.y6(n),[4,b1(e,(function(t){return u.q2t(t)}),{database:r,transaction:e})];case 1:return s.sent(),[2]}}))})),V1.apply(this,arguments)}var X1=function(){function t(){}return hr(t,null,[{key:"lC",get:function(){return this.Wtt||(this.Wtt=function(){return F1.apply(this,arguments)}()),this.Wtt}}]),t}();X1.Wtt=void 0;var z1=function(){function t(t,n){this.wtt=t.wtt.Tbt(n),this.mtt=t.mtt.Tbt(n),this.ptt=t.ptt.Tbt(n),this.ytt=t.ytt.Tbt(n),this.Att=t.Att.Tbt(n)}var n=t.prototype;return n.gtt=function(t){return t(this)},n.L2t=function(){this.wtt.L2t(),this.mtt.L2t(),this.ptt.L2t(),this.ytt.L2t(),this.Att.L2t()},t}(),W1=function(){function t(t){this.U2t=t,this.wtt=new E1(t,U1),this.mtt=new E1(t,x1),this.ptt=new E1(t,M1),this.ytt=new E1(t,B1),this.Att=new E1(t,L1)}var n=t.prototype;return n.gtt=function(t){var n=this,i=this.allCollections;return E1.V2t(i,(function(){return n.F2t(i,t)}))},n.F2t=function(t,n){var i=this;return Mo((function(){var r,e,u;return Uo(this,(function(s){switch(s.label){case 0:r=t.map((function(t){return t.l})),e=i.U2t.transaction(r,UM.Itt),u=new z1(i,e),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,b1(e,n,u)];case 2:return[2,s.sent()];case 3:return u.L2t(),[7];case 4:return[2]}}))}))()},t.y6=function(){return Mo((function(){return Uo(this,(function(n){switch(n.label){case 0:return[4,X1.lC];case 1:return[2,new t(n.sent())]}}))}))()},hr(t,[{key:"allCollections",get:function(){return[this.mtt,this.wtt,this.ptt,this.ytt,this.Att]}}]),t}();tx.ja(W1.y6);var G1=function(t){function n(n,i){var r;return(r=t.call(this)||this).D2t=n,r.T5=i,r.D2t.wn("Idt",r.Os),r}return vr(n,t),n.prototype.x2t=function(t,n,i){var r,e;if(void 0===i&&(i="persistent"),!t)throw new f("Unexpected - The source description is undefined");if(r=nR(t),e=Z0(n),HI(r))throw new f("Invalid source description");return this.D2t.N$t(r,e).ma},hr(n,[{key:"ma",get:function(){return this.Gu||(this.Gu=function(t){var n,i={get status(){return t.SI},get tasks(){return t.F$t},get network(){return t.b5.ma},createTask:function(n,i){return t.x2t(n,i)},addEventListener:function(t,i){n.wn(t,i)},removeEventListener:function(t,i){n.pn(t,i)}};return n=new WN(t,i),i}(this)),this.Gu}},{key:"SI",get:function(){return this.D2t.SI}},{key:"F$t",get:function(){return this.D2t.F$t.ma}},{key:"b5",get:function(){return this.T5}}]),n}(Ha);var q1,Y1=function(){var t=new RN(tr.Gf,!1),n=tx.lC,i=new u1(t),r=new j0(n,i),e=new CN(t),u=new H$(n.ytt,r,"persistent");return new G1(u,e)}().ma,j1=function(){function t(t){this.Gu=void 0,this.qq=t}var n=t.prototype;return n.K2t=function(t){for(var n=this.qq.og(),i=t.createGain(),r=0;r<n.length;r++){var e=n[r];t.createMediaElementSource(e).connect(i)}return i},n.pa=function(){var t=this;return{createAudioSourceNode:function(n){return t.K2t(n)}}},hr(t,[{key:"ma",get:function(){return this.Gu||(this.Gu=this.pa()),this.Gu}}]),t}();$T((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).j2t=new j1(r.v5),r}return vr(n,t),n.prototype.pa=function(){var n=this.j2t.ma;return $w(t.prototype.pa.call(this),{get audio(){return n}})},n}(t)}),jT.U5),function(t){t.CREATIVE_VIEW="creativeView",t.START="start",t.FIRST_QUARTILE="firstQuartile",t.MID_POINT="midpoint",t.THIRD_QUARTILE="thirdQuartile",t.COMPLETE="complete",t.MUTE="mute",t.UNMUTE="unmute",t.PAUSE="pause",t.REWIND="rewind",t.RESUME="resume",t.FULL_SCREEN="fullscreen",t.EXIT_FULL_SCREEN="exitFullscreen",t.EXPAND="expand",t.COLLAPSE="collapse",t.ACCEPT_INVITATION_LINEAR="acceptInvitationLinear",t.ACCEPT_INVITATION="acceptInvitation",t.CLOSE_LINEAR="closeLinear",t.CLOSE="close",t.SKIP="skip",t.SKIP_SHOWN="skipShown",t.PROGRESS="progress",t.ENGAGED_VIEW="engagedView",t.IMPRESSION="impression",t.ERROR="error"}(q1||(q1={}));var Q1=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i)||this).zMt=e,u.US=r,u}return vr(n,t),n.prototype.pa=function(){return BJ(this)},hr(n,[{key:"YVt",get:function(){return hZ.QVt}},{key:"PS",get:function(){return this.US}},{key:"hMt",get:function(){return this.zMt}}]),n}(OJ),K1=function(t){function n(n,i,r){var e;if(e=t.call(this,n,n,i)||this,r){var u=new Date(r);Me(u)&&(e.Y2t=u)}return e}return vr(n,t),hr(n,[{key:"kEt",get:function(){return this.Y2t}},{key:"YVt",get:function(){return hZ.QVt}}]),n}(DJ),Z1=function(){function t(t,n,i){var r=this;this.l3t=-1/0,this.$2t=void 0,this.i3t=0,this.r3t=[],this.k3t=!1,this.cU=!1,this.e3t=-1,this.o3t=void 0,this.n3t=void 0,this.c3t=0,this.Vf=function(){r.s3t()},this.Af=function(){r.y3t(q1.RESUME)},this.Mf=function(){r.g3t(),r.y3t(q1.PAUSE)},this.Xe=function(){r.g3t(),r.e3t=-1},this.Mh=function(){r.g3t()},this.Jdt=function(){-1===r.e3t&&(r.e3t=r.t3t()),r.v3t(),r.w3t(),r.e3t=r.t3t()},this.ozt=function(){if(r.k3t!==r.Ko.Xu){r.k3t=r.Ko.Xu;var t=r.k3t?q1.MUTE:q1.UNMUTE;r.y3t(t)}},this.Z2t=function(){if(r.cU!==r.Ko.cs()){r.cU=r.Ko.cs();var t=r.cU?q1.FULL_SCREEN:q1.EXIT_FULL_SCREEN;r.y3t(t)}},this.q$=function(t){Aa(t)||(r.y3t(q1.ERROR),Da(r.u3t()))},this.m3t=[q1.START,q1.FIRST_QUARTILE,q1.MID_POINT,q1.THIRD_QUARTILE,q1.COMPLETE,q1.IMPRESSION,q1.CREATIVE_VIEW],this.Ko=t,this._3t=n,this.f3t=i,this.hw()}var n=t.prototype;return n.hw=function(){this.Ko.wn(qk.Qf,this.Vf),this.Ko.wn($l.Ch,this.Mf),this.Ko.wn($l.Ph,this.Af),this.Ko.wn($l.If,this.Xe),this.Ko.wn($l.Pf,this.Mh),this.Ko.wn($l.Lu,this.Jdt),this.Ko.wn($l.Il,this.ozt),this.Ko.wn("presentationmodechange",this.Z2t)},n.iw=function(){this.Ko.pn(qk.Qf,this.Vf),this.Ko.pn($l.Ch,this.Mf),this.Ko.pn($l.Ph,this.Af),this.Ko.pn($l.If,this.Xe),this.Ko.pn($l.Pf,this.Mh),this.Ko.pn($l.Lu,this.Jdt),this.Ko.pn($l.Il,this.ozt),this.Ko.pn("presentationmodechange",this.Z2t)},n.t3t=function(){return this.Ko._g()-this.i3t},n.s3t=function(){var t=this;if(!this.n3t)if(this.Ko.vg()===1/0){var n=function(){var n;null==(n=t.o3t)||n.Ou(),t.o3t=void 0,t.n3t=void 0};this.o3t=new pa,this.n3t=this.a3t(this.o3t.M_).catch(this.q$).then(n,n)}else 0===this.r3t.length&&(this.n3t=this.h3t())},n.u3t=function(){var t=this;return Mo((function(){var n,i;return Uo(this,(function(r){switch(r.label){case 0:n=l.min(1e3*l.pow(2,t.c3t),3e4),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,Ba(n,null==(i=t.o3t)?void 0:i.M_)];case 2:return r.sent(),t.c3t++,[3,4];case 3:return Aa(r.sent())?(t.c3t=0,[2]):[3,4];case 4:return t.s3t(),[2]}}))}))()},n.a3t=function(t){var n=this;return Mo((function(){var i;return Uo(this,(function(r){switch(r.label){case 0:return ba(t),n.Ko.Dc?[3,5]:(i=tr.V_()-n.l3t)>1e4?[4,n.h3t(t)]:[3,2];case 1:return r.sent(),n.l3t=tr.V_(),n.c3t=0,[3,4];case 2:return[4,Ba(1e4-i,t)];case 3:r.sent(),r.label=4;case 4:return[3,0];case 5:return[2]}}))}))()},n.d3t=function(t){var n=t.kEt;if(n&&this.Ko.qu&&0===this.i3t&&!this.f3t&&0!==l.floor(this.Ko.Vg().start(0))){var i=(this.Ko.qu.getTime()-n.getTime())/1e3,r=this.Ko._g()-t.vEt;this.i3t=r-i}},n.h3t=function(t){var n=this;return Mo((function(){var i,r,e,u,s,o,c,a,h,v;return Uo(this,(function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),[4,n.Ko.Gf.pI({TI:n._3t})];case 1:return[4,d.sent()._L(t)];case 2:if(0===(i=d.sent()).avails.length)return 0!==n.r3t.length&&(n.r3t=[]),[2];if(i.avails.length===n.r3t.length&&i.avails[0].startTimeInSeconds===n.r3t[0].vEt)return n.d3t(n.r3t[0]),[2];for(r=[],e=0,u=i.avails;e<u.length;e++){for(s=u[e],o=new K1(s.durationInSeconds,s.startTimeInSeconds,s.availProgramDateTime),c=0,a=s.ads;c<a.length;c++)h=a[c],(v=new Q1(o,RJ.TUt,h.startTimeInSeconds,h.trackingEvents)).jjt(h.adId,h.width,h.height,h.durationInSeconds,[],h.skipoffset),o.Gjt(v);r.push(o),n.d3t(o)}return n.r3t=Fc(r,(function(t,n){return t.vEt-n.vEt})),[3,4];case 3:throw Ta(d.sent()),new f("Failed to poll MediaTailor tracking events");case 4:return[2]}}))}))()},n.g3t=function(){var t;null==(t=this.o3t)||t.Jl(),this.o3t=void 0,this.n3t=void 0,this.l3t=-1/0},n.v3t=function(){if(0!==this.r3t.length){var t=this.r3t[this.r3t.length-1],n=this.t3t();if(t.vEt+t.ZVt<this.e3t){var i;this.$2t&&(null==(i=this.Ko.L5)||i.To(new hM(this.$2t)),this.$2t=void 0)}else{for(var r=0,e=this.r3t;r<e.length;r++){var u=e[r],s=u.vEt;if(!(s+u.ZVt<this.e3t)&&(s<=n&&s+u.ZVt>this.e3t)){var o;if(this.J2t===u)return;return this.$2t=u,void(null==(o=this.Ko.L5)||o.To(new vM(this.$2t)))}}var c;if(this.$2t)null==(c=this.Ko.L5)||c.To(new hM(this.$2t)),this.$2t=void 0}}},n.w3t=function(){var t=this,n=this.Y5;if(0!==n.length){for(var i=[],r=0;r<n.length;r++){var e=n[r].hMt.filter((function(n){return ia(t.m3t,n.eventType)}));i=i.concat(e)}for(var u=0;u<i.length;u++){var s=i[u];this.p3t(s.startTimeInSeconds)&&(s.eventType===q1.COMPLETE&&this.y3t(q1.ENGAGED_VIEW),this.A3t(s))}}},n.b3t=function(t,n){return n.hMt.filter((function(n){return Tc(n.eventType,t)}))[0]},n.y3t=function(t){var n=this.Y5;if(0!==n.length){var i=this.b3t(t,n[0]);i&&this.A3t(i)}},n.A3t=function(t){this.T3t(t.eventType);for(var n=0,i=t.beaconUrls;n<i.length;n++){var r=i[n],e={iP:N_.GET,TI:r,tP:"",sP:t_.MI};0,Da(this.S3t(e))}},n.T3t=function(t){var n,i,r=this.Y5;switch(t){case q1.START:n=new lM(r[r.length-1],this.Ko._g());break;case q1.COMPLETE:n=new gM(r[0],this.Ko._g());break;case q1.FIRST_QUARTILE:n=new zJ(r[0],this.Ko._g());break;case q1.MID_POINT:n=new GJ(r[0],this.Ko._g());break;case q1.THIRD_QUARTILE:n=new YJ(r[0],this.Ko._g())}void 0!==n&&(null==(i=this.Ko.L5)||i.To(n))},n.S3t=function(t){var n=this;return Mo((function(){return Uo(this,(function(i){switch(i.label){case 0:return[4,n.Ko.Gf.pI(t)];case 1:return i.sent().SI,[2]}}))}))()},n.p3t=function(t){var n=this.t3t();return t>=this.e3t&&t<n},n.bn=function(){this.iw(),this.g3t(),this.e3t=-1},hr(t,[{key:"J2t",get:function(){return this.$2t}},{key:"Y5",get:function(){var t=this.J2t;if(!t)return[];for(var n=[],i=this.t3t(),r=0,e=t.L5;r<e.length;r++){var u=e[r];i>=u.PS&&this.e3t<=u.PS+u.ct&&n.push(u)}return n}}]),t}();return $T((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).E3t=void 0,r.ZO=void 0,r.Vl=void 0,r}vr(n,t);var i=n.prototype;return i.ba=function(n){return this.E3t&&(this.E3t.bn(),this.E3t=void 0,this.dlt()),t.prototype.ba.call(this,n)},i.S8=function(n,i){var r=this,e=function(){return t.prototype.S8};return Mo((function(){var t,u;return Uo(this,(function(s){switch(s.label){case 0:if(!n||!function(t){return t.sources.some((function(t){return t.integration===PS.MEDIATAILOR}))}(n))return[2,e().call(r,n,i)];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,r.I3t(n,i)];case 2:return t=s.sent(),[4,e().call(r,t,i)];case 3:return s.sent(),[3,5];case 4:return u=s.sent(),r.OM(new Dl(Rl.MANIFEST_LOAD_ERROR,u.message,u)),[3,5];case 5:return[2]}}))}))()},i.gg=function(n){var i;(null==(i=this.E3t)?void 0:i.J2t)||t.prototype.gg.call(this,n)},i.yg=function(){var n;return null!=(n=this.ZO)?n:t.prototype.yg.call(this)},i.Ag=function(){var n;return null!=(n=this.Vl)?n:t.prototype.Ag.call(this)},i.OM=function(t){this.ZO=Ey(t),this.Vl=t,this.To(new DT(t))},i.dlt=function(){this.ZO=void 0,this.Vl=void 0},i.I3t=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c,a,h;return Uo(this,(function(f){switch(f.label){case 0:r=[],e=0,u=t.sources,f.label=1;case 1:return e<u.length?uE(s=u[e])&&(o=s).src?[4,i.P3t(o,n)]:(r.push(s),[3,3]):[3,4];case 2:c=f.sent(),ba(n),a=xo({},o,{integration:void 0,src:c}),r.push(a),f.label=3;case 3:return e++,[3,1];case 4:return(h=ty(t)).sources=r,[2,h]}}))}))()},i.P3t=function(t,n){var i=this;return Mo((function(){var r,e,u,s,o,c,a,h,v;return Uo(this,(function(d){switch(d.label){case 0:if(r=t.src||"",!(e=r.match(/.+?(?=\/v1\/)/)))throw new f("Could not find MediaTailor session initialization url");return u=e[0],s=kc(r,"?ads."),o=s?{TI:r,sP:t_.MI}:{TI:r,iP:N_.POST,tP:JSON.stringify({adParams:t.adParams}),sP:t_.MI},[4,EE((function(){return i.R3t(o,n)}),n)];case 1:c=d.sent();try{a=u+c.manifestUrl,s||(h=u+c.trackingUrl,v=JS(a),i.E3t=new Z1(i,h,v))}catch(t){throw new f("Something went wrong parsing the MediaTailor session initialization response")}return[2,a]}}))}))()},i.R3t=function(t,n){var i=this;return Mo((function(){return Uo(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,i.Gf.pI(t)];case 1:return[4,r.sent()._L(n)];case 2:return[2,r.sent()];case 3:throw Ta(r.sent()),new f("Failed to initialize MediaTailor session manifest");case 4:return[2]}}))}))()},i.bn=function(){this.E3t&&(this.E3t.bn(),this.E3t=void 0),this.dlt(),t.prototype.bn.call(this)},n}(t)}),jT.W5),i.exports}));
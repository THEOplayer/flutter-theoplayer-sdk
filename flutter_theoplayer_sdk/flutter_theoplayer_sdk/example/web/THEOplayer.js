/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 9.3.1
 Created: 2025-05-12T14:40:54.701Z
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(t):"function"==typeof define&&define.amd?define([],(function(){return n(t)})):t.THEOplayer=n(t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof s?s:"undefined"!=typeof global?global:this,(function(t){"use strict";var n,i,r,e,u,s,o,a,c,h={exports:{}},f=(h.exports,t.window),v=t.document,l=t.location,d=t.navigator,g=t.setTimeout,m=t.clearTimeout,w=t.setInterval,p=t.clearInterval,y=t.Error,_=t.TypeError,b=t.SyntaxError,k=t.Object,A=t.Math,T=t.parseInt,S=t.parseFloat,E=t.isNaN,I=t.Uint8Array,R=t.Worker,C=(t.WorkerGlobalScope,t.XMLHttpRequest),N=k.create,x=k.defineProperty,D=k.getOwnPropertyDescriptor,P=k.getOwnPropertyNames,M=k.getPrototypeOf,B=k.prototype.hasOwnProperty,O=function(t,n){return function(){return t&&(n=t(t=0)),n}},L=function(t,n){return function(){return n||t((n={exports:{}}).exports,n),n.exports}},F=function(t,n,i,r){if(n&&"object"==typeof n||"function"==typeof n)for(var e,u=P(n),s=0,o=u.length;s<o;s++)e=u[s],B.call(t,e)||e===i||x(t,e,{get:function(t){return n[t]}.bind(null,e),enumerable:!(r=D(n,e))||r.enumerable});return t},V=function(t,n,i){return i=null!=t?N(M(t)):{},F(!n&&t&&t.__esModule?i:x(i,"default",{value:t,enumerable:!0}),t)},U=O((function(){"function"==typeof Symbol&&Symbol.iterator?(n=Symbol,i=null!=(s=Symbol.for)?s:Symbol,r=Symbol.iterator,e=null!=(o=Symbol.dispose)?o:i("Symbol.dispose"),u=null!=(a=Symbol.asyncDispose)?a:i("Symbol.asyncDispose")):(c=0,n=function(t){return"ul"+t+"_"+ ++c},r=(i=function(t){return"ul"+t})("Symbol.iterator"),e=i("Symbol.dispose"),u=i("Symbol.asyncDispose"),n.for=i,n.iterator=r,n.dispose=e,n.asyncDispose=u)}));function W(t){return t&&void 0!==n&&t.constructor===n?"symbol":typeof t}var j,Z,X,G,H,z,Y,K,q,J,Q,tt,nt,it,rt,et,ut,st,ot,at,ct=O((function(){U(),St()}));function ht(t){var n=this.constructor;return this.then((function(i){return n.resolve(t()).then((function(){return i}))}),(function(i){return n.resolve(t()).then((function(){return n.reject(i)}))}))}function ft(t){return new this((function(n,i){if(!t||void 0===t.length)return i(new _((void 0===t?"undefined":W(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,i){if(i&&("object"===(void 0===i?"undefined":W(i))||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(n){u(t,n)}),(function(i){r[t]={status:"rejected",reason:i},0==--e&&n(r)}))}r[t]={status:"fulfilled",value:i},0==--e&&n(r)}for(var s=0;s<r.length;s++)u(s,r[s])}))}function vt(t){return Boolean(t&&void 0!==t.length)}function lt(){}function dt(t){if(!(this instanceof dt))throw new _("Promises must be constructed via new");if("function"!=typeof t)throw new _("not a function");this.Fa=0,this.ttn=!1,this.UTt=void 0,this.ntn=[],_t(t,this)}function gt(t,n){for(;3===t.Fa;)t=t.UTt;0!==t.Fa?(t.ttn=!0,dt.itn((function(){var i=1===t.Fa?n.onFulfilled:n.onRejected;if(null!==i){var r;try{r=i(t.UTt)}catch(t){return void wt(n.promise,t)}mt(n.promise,r)}else(1===t.Fa?mt:wt)(n.promise,t.UTt)}))):t.ntn.push(n)}function mt(t,n){try{if(n===t)throw new _("A promise cannot be resolved with itself.");if(n&&("object"===(void 0===n?"undefined":W(n))||"function"==typeof n)){var i=n.then;if(n instanceof dt)return t.Fa=3,t.UTt=n,void pt(t);if("function"==typeof i)return void _t(function(t,n){return function(){t.apply(n,arguments)}}(i,n),t)}t.Fa=1,t.UTt=n,pt(t)}catch(n){wt(t,n)}}function wt(t,n){t.Fa=2,t.UTt=n,pt(t)}function pt(t){2===t.Fa&&0===t.ntn.length&&dt.itn((function(){t.ttn||dt.rtn(t.UTt)}));for(var n=0,i=t.ntn.length;n<i;n++)gt(t,t.ntn[n]);t.ntn=null}function yt(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function _t(t,n){var i=!1;try{t((function(t){i||(i=!0,mt(n,t))}),(function(t){i||(i=!0,wt(n,t))}))}catch(t){if(i)return;i=!0,wt(n,t)}}function bt(t){return new tt(Q,{reason:t,promise:Z.reject(t).catch((function(){})),cancelable:!0})}function kt(t){var n=new nt(Q,{detail:{reason:t},cancelable:!0});return k.defineProperty(n,"reason",{value:t}),n}function At(t){var n=v.createEvent("CustomEvent");return n.initCustomEvent(Q,!1,!0,{reason:t}),n}var Tt=O((function(){var t,n,i,r;U(),St(),ct(),j=g,dt.prototype.catch=function(t){return this.then(null,t)},dt.prototype.then=function(t,n){var i=new this.constructor(lt);return gt(this,new yt(t,n,i)),i},dt.prototype.finally=ht,dt.all=function(t){return new dt((function(n,i){if(!vt(t))return i(new _("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,s){try{if(s&&("object"===(void 0===s?"undefined":W(s))||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,(function(n){u(t,n)}),i)}r[t]=s,0==--e&&n(r)}catch(t){i(t)}}for(var s=0;s<r.length;s++)u(s,r[s])}))},dt.allSettled=ft,dt.resolve=function(t){return t&&"object"===(void 0===t?"undefined":W(t))&&t.constructor===dt?t:new dt((function(n){n(t)}))},dt.reject=function(t){return new dt((function(n,i){i(t)}))},dt.race=function(t){return new dt((function(n,i){if(!vt(t))return i(new _("Promise.race accepts an array"));for(var r=0,e=t.length;r<e;r++)dt.resolve(t[r]).then(n,i)}))},dt.itn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){j(t,0)},dt.rtn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},Z=function(){var t=self.Promise;if(void 0!==t)try{if(-1!==t.toString().indexOf("[native code]"))return t}catch(t){}}(),X=d?d.userAgent:"",G=X.match(/Firefox\/([0-9]+)/i),H=null!=G,z=G?Number(G[1]):0,Y=X.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),K=null!=Y,q=Y?Number(Y[3]):0,J=function(){function t(t){this.Qb=0,this.Rd=0,this.kp=[],this.etn=t}return t.prototype.utn=function(t){var n=this.length();this.stn(n+1);var i=this.Rd+n&this.etn-1;this.kp[i]=t,this.Qb=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.etn<n)this.utn(t);else{var i=this.Rd+n-1,r=this.etn-1;this.kp[i&r]=t,this.Qb=n}},t.prototype.shift=function(){var t=this.Rd,n=this.kp[t];return this.kp[t]=void 0,this.Rd=t+1&this.etn-1,this.Qb--,n},t.prototype.length=function(){return this.Qb},t.prototype.stn=function(t){this.etn<t&&this.otn(this.etn<<1)},t.prototype.otn=function(t){var n=this.etn;this.etn=t;var i=this.Rd+this.Qb&n-1;!function(t,n,i,r){for(var e=0;e<r;++e)t[e+i]=t[e+n],t[e+n]=void 0}(this.kp,0,n,i)},t}(),Q="unhandledrejection",tt=self.PromiseRejectionEvent,nt=self.CustomEvent,it=function(t){return it=function(){try{var t=Z.resolve(),n="error",i=new tt(Q,{reason:n,promise:t});return Q===i.type&&n===i.reason}catch(t){}return!1}()?bt:function(){try{var t="error",n=new nt(Q,{detail:{reason:t}});return Q===n.type&&t===n.detail.reason}catch(t){}return!1}()?kt:At,it(t)},et=H&&z<60||K&&q<15,Z&&!et?(ut=Z,st=function(){}):(ut=dt,ot=null!==(rt=function(){var t=self.queueMicrotask;if("function"==typeof t)return function(n){return t(n)};var n=Z;if(n&&"function"==typeof n.resolve){var i=n.resolve();return function(t){return i.then(t)}}}())&&void 0!==rt?rt:dt.itn,t=ot,n=new J(16),i=!1,st=(at={g6:function(e){n.push(e),i||(i=!0,t(r))},cY:r=function(){for(;n.length()>0;)n.shift()();i=!1}}).cY,dt.itn=at.g6,dt.rtn=function(t){try{var n=it(t);if(!self.dispatchEvent(n)||n.defaultPrevented)return}catch(t){}g((function(){throw new y("Unhandled promise rejection: ".concat(t))}),0)})})),St=O((function(){Tt()}));function Et(t,n){return(Et=k.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var It=O((function(){U(),St()}));function Rt(t,n){if("function"!=typeof n&&null!==n)throw new _("Super expression must either be null or a function");t.prototype=k.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Et(t,n)}var Ct=O((function(){U(),St(),It()}));function Nt(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),k.defineProperty(t,r.key,r)}}function xt(t,n,i){return n&&Nt(t.prototype,n),i&&Nt(t,i),t}var Dt=O((function(){U(),St()}));function Pt(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}var Mt=O((function(){U(),St()}));var Bt=O((function(){U(),St(),Mt()}));var Ot=O((function(){U(),St()}));var Lt=O((function(){U(),St()}));function Ft(t,n){if(t){if("string"==typeof t)return Pt(t,n);var i=k.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Pt(t,n):void 0}}var Vt=O((function(){U(),St(),Mt()}));function Ut(t){return function(t){if(Array.isArray(t))return Pt(t)}(t)||function(t){if(void 0!==n&&null!=t[r]||null!=t["@@iterator"])return Array.from(t)}(t)||Ft(t)||function(){throw new _("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Wt=O((function(){U(),St(),Bt(),Ot(),Lt(),Vt()}));function jt(t,n,i,r,e,u,s){try{var o=t[u](s),a=o.value}catch(t){return void i(t)}o.done?n(a):ut.resolve(a).then(r,e)}function Zt(t){return function(){var n=this,i=arguments;return new ut((function(r,e){var u=t.apply(n,i);function s(t){jt(u,r,e,s,o,"next",t)}function o(t){jt(u,r,e,s,o,"throw",t)}s(void 0)}))}}var Xt,Gt=O((function(){U(),St()}));function Ht(t,i){var e,u,s,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},a=k.create(("function"==typeof Iterator?Iterator:k).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof n&&(a[r]=function(){return this}),a;function c(n){return function(r){return function(n){if(e)throw new _("Generator is already executing.");for(;a&&(a=0,n[0]&&(o=0)),o;)try{if(e=1,u&&(s=2&n[0]?u.return:n[0]?u.throw||((s=u.return)&&s.call(u),0):u.next)&&!(s=s.call(u,n[1])).done)return s;switch(u=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,u=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==n[0]&&2!==n[0])){o=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){o.label=n[1];break}if(6===n[0]&&o.label<s[1]){o.label=s[1],s=n;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(n);break}s[2]&&o.ops.pop(),o.trys.pop();continue}n=i.call(t,o)}catch(t){n=[6,t],u=0}finally{e=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,r])}}}function zt(t){var i="function"==typeof n&&r,e=i&&t[i],u=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&u>=t.length&&(t=void 0),{value:t&&t[u++],done:!t}}};throw new _(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yt(t,n,i){if(null!=n){if("object"!=typeof n&&"function"!=typeof n)throw new _("Object expected.");var r,s;if(i){if(!u)throw new _("Symbol.asyncDispose is not defined.");r=n[u]}if(void 0===r){if(!e)throw new _("Symbol.dispose is not defined.");r=n[e],i&&(s=r)}if("function"!=typeof r)throw new _("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(t){return ut.reject(t)}}),t.stack.push({value:n,dispose:r,async:i})}else i&&t.stack.push({async:!0});return n}function Kt(t){function n(n){t.error=t.hasError?new Xt(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}var i,r=0;return function e(){for(;i=t.stack.pop();)try{if(!i.async&&1===r)return r=0,t.stack.push(i),ut.resolve().then(e);if(i.dispose){var u=i.dispose.call(i.value);if(i.async)return r|=2,ut.resolve(u).then(e,(function(t){return n(t),e()}))}else r|=1}catch(t){n(t)}if(1===r)return t.hasError?ut.reject(t.error):ut.resolve();if(t.hasError)throw t.error}()}var qt=O((function(){U(),St(),Xt="function"==typeof SuppressedError?SuppressedError:function(t,n,i){var r=new y(i);return r.name="SuppressedError",r.error=t,r.suppressed=n,r}})),Jt=O((function(){U(),St(),qt()}));var Qt=O((function(){U(),St()}));var $t=O((function(){U(),St()}));var tn=O((function(){U(),St()}));function nn(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var e=null==t?null:void 0!==n&&t[r]||t["@@iterator"];if(null!=e){var u,s,o=[],a=!0,c=!1;try{for(e=e.call(t);!(a=(u=e.next()).done)&&(o.push(u.value),!i||o.length!==i);a=!0);}catch(t){c=!0,s=t}finally{try{a||null==e.return||e.return()}finally{if(c)throw s}}return o}}(t,i)||Ft(t,i)||function(){throw new _("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var rn=O((function(){U(),St(),Qt(),$t(),tn(),Vt()})),en=L((function(t,i){var e,u;U(),St(),ct(),e=t,u=function(t){var i="function"==typeof n&&"symbol"===W(r)?n:function(t){return"Symbol("+t+")"};function e(){}var u=Number.isNaN||function(t){return t!=t},s=e;function o(t){return"object"===(void 0===t?"undefined":W(t))&&null!==t||"function"==typeof t}function a(t){return t.slice()}function c(t,n,i,r,e){new I(t).set(new I(i,r,e),n)}function h(t){return!1!==function(t){return"number"==typeof t&&(!u(t)&&!(t<0))}(t)&&t!==1/0}function f(t,n,i){if("function"!=typeof t)throw new _("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function v(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new _(e+" is not a method");switch(i){case 0:return function(){return d(e,t,r)};case 1:return function(n){var i=[n].concat(r);return d(e,t,i)}}}return function(){return E(void 0)}}function l(t,n,i){var r=t[n];if(void 0!==r)return f(r,t,i)}function d(t,n,i){try{return E(f(t,n,i))}catch(t){return R(t)}}function g(t){if(t=Number(t),u(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function m(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new _("size property of a queuing strategy must be a function");return function(n){return t(n)}}var w=ut,p=ut.prototype.then,b=ut.resolve.bind(w),T=ut.reject.bind(w);function S(t){return new w(t)}function E(t){return b(t)}function R(t){return T(t)}function C(t,n,i){return p.call(t,n,i)}function N(t,n,i){C(C(t,n,i),void 0,s)}function x(t,n){N(t,n)}function D(t,n){N(t,void 0,n)}function P(t,n,i){return C(t,n,i)}function M(t){C(t,void 0,s)}var B=function(){function t(){this.hd=0,this.Ed=0,this.Rd={Id:[],Dd:void 0},this.Nd=this.Rd,this.hd=0,this.Ed=0}return k.defineProperty(t.prototype,"length",{get:function(){return this.Ed},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Nd,i=n;16383===n.Id.length&&(i={Id:[],Dd:void 0}),n.Id.push(t),i!==n&&(this.Nd=i,n.Dd=i),++this.Ed},t.prototype.shift=function(){var t=this.Rd,n=t,i=this.hd,r=i+1,e=t.Id,u=e[i];return 16384===r&&(n=t.Dd,r=0),--this.Ed,this.hd=r,t!==n&&(this.Rd=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.hd,i=this.Rd,r=i.Id;!(n===r.length&&void 0===i.Dd||n===r.length&&(n=0,0===(r=(i=i.Dd).Id).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.Rd,n=this.hd;return t.Id[n]},t}();function O(t,n,i){var r=null;!0===i&&(r=k.prototype);var e=k.create(r);return e.value=t,e.done=n,e}function L(t,n){t.Ld=!0,t.Bd=n,n.Od=t,"readable"===n.Fa?j(t):"closed"===n.Fa?function(t){j(t),G(t)}(t):Z(t,n.Fd)}function F(t,n){return Jn(t.Bd,n)}function V(t){"readable"===t.Bd.Fa?X(t,new _("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Z(t,n)}(t,new _("Reader was released and can no longer be used to monitor the stream's closedness")),t.Bd.Od=void 0,t.Bd=void 0}function U(t){return new _("Cannot "+t+" a stream using a released reader")}function j(t){t.Vd=S((function(n,i){t.Wd=n,t.Ud=i}))}function Z(t,n){j(t),X(t,n)}function X(t,n){M(t.Vd),t.Ud(n),t.Wd=void 0,t.Ud=void 0}function G(t){t.Wd(void 0),t.Wd=void 0,t.Ud=void 0}var H=i("[[CancelSteps]]"),z=i("[[PullSteps]]");function Y(t,n){void 0===n&&(n=!1);var i=new nt(t);return i.Ld=n,i}function K(t){return S((function(n,i){var r={Gd:n,Hd:i};t.Od.Zd.push(r)}))}function q(t,n,i){var r=t.Od;r.Zd.shift().Gd(O(n,i,r.Ld))}function J(t){return t.Od.Zd.length}function Q(t){var n=t.Od;return void 0!==n&&!!it(n)}var $,tt,nt=function(){function t(t){if(!1===Kn(t))throw new _("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===qn(t))throw new _("This stream has already been locked for exclusive reading by another reader");L(this,t),this.Zd=new B}return k.defineProperty(t.prototype,"closed",{get:function(){return it(this)?this.Vd:R(et("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return it(this)?void 0===this.Bd?R(U("cancel")):F(this,t):R(et("cancel"))},t.prototype.read=function(){return it(this)?void 0===this.Bd?R(U("read from")):rt(this):R(et("read"))},t.prototype.releaseLock=function(){if(!it(this))throw et("releaseLock");if(void 0!==this.Bd){if(this.Zd.length>0)throw new _("Tried to release a reader lock when that reader has pending read() calls un-settled");V(this)}},t}();function it(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Zd")}function rt(t){var n=t.Bd;return n.Xd=!0,"closed"===n.Fa?E(O(void 0,!0,t.Ld)):"errored"===n.Fa?R(n.Fd):n.zd[z]()}function et(t){return new _("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"===W(i.asyncIterator)&&(($={})[i.asyncIterator]=function(){return this},tt=$,k.defineProperty(tt,i.asyncIterator,{enumerable:!1}));var st={next:function(){if(!1===ot(this))return R(at("next"));var t=this.qd;return void 0===t.Bd?R(U("iterate")):P(rt(t),(function(n){var i=n.done;return i&&V(t),O(n.value,i,!0)}))},return:function(t){if(!1===ot(this))return R(at("next"));var n=this.qd;if(void 0===n.Bd)return R(U("finish iterating"));if(n.Zd.length>0)return R(new _("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Yd){var i=F(n,t);return V(n),P(i,(function(){return O(t,!0,!0)}))}return V(n),E(O(t,!0,!0))}};function ot(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"qd")}function at(t){return new _("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function ct(t){var n=t.Kd.shift();return t.Qd-=n.size,t.Qd<0&&(t.Qd=0),n.value}function ht(t,n,i){if(!h(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Kd.push({value:n,size:i}),t.Qd+=i}function ft(t){t.Kd=new B,t.Qd=0}void 0!==tt&&k.setPrototypeOf(st,tt),k.defineProperty(st,"next",{enumerable:!1}),k.defineProperty(st,"return",{enumerable:!1});var vt=i("[[AbortSteps]]"),lt=i("[[ErrorSteps]]"),dt=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),mt(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=m(i);void 0===r&&(r=1),function(t,n,i,r){var e=k.create(Mt.prototype);function u(){return l(n,"start",[e])}var s=v(n,"write",1,[e]),o=v(n,"close",0,[]),a=v(n,"abort",1,[]);Bt(t,e,u,s,o,a,i,r)}(this,t,r=g(r),e)}return k.defineProperty(t.prototype,"locked",{get:function(){if(!1===wt(this))throw jt("locked");return pt(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===wt(this)?R(jt("abort")):!0===pt(this)?R(new _("Cannot abort a stream that already has a writer")):yt(this,t)},t.prototype.close=function(){return!1===wt(this)?R(jt("close")):!0===pt(this)?R(new _("Cannot close a stream that already has a writer")):!0===Tt(this)?R(new _("Cannot close an already-closing stream")):_t(this)},t.prototype.getWriter=function(){if(!1===wt(this))throw jt("getWriter");return gt(this)},t}();function gt(t){return new It(t)}function mt(t){t.Fa="writable",t.Fd=void 0,t.Jd=void 0,t.$d=void 0,t.tf=new B,t.ef=void 0,t.nf=void 0,t.rf=void 0,t.hf=void 0,t.uf=!1}function wt(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"$d")}function pt(t){return void 0!==t.Jd}function yt(t,n){var i=t.Fa;if("closed"===i||"errored"===i)return E(void 0);if(void 0!==t.hf)return t.hf.cf;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=S((function(i,e){t.hf={cf:void 0,Gd:i,Hd:e,lf:n,df:r}}));return t.hf.cf=e,!1===r&&kt(t,n),e}function _t(t){var n=t.Fa;if("closed"===n||"errored"===n)return R(new _("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i=S((function(n,i){var r={Gd:n,Hd:i};t.nf=r})),r=t.Jd;return void 0!==r&&!0===t.uf&&"writable"===n&&$t(r),function(t){ht(t,"close",0),Ft(t)}(t.$d),i}function bt(t,n){"writable"!==t.Fa?At(t):kt(t,n)}function kt(t,n){var i=t.$d;t.Fa="erroring",t.Fd=n;var r=t.Jd;void 0!==r&&xt(r,n),!1===function(t){return void 0!==t.ef||void 0!==t.rf}(t)&&!0===i._f&&At(t)}function At(t){t.Fa="errored",t.$d[lt]();var n=t.Fd;if(t.tf.forEach((function(t){t.Hd(n)})),t.tf=new B,void 0!==t.hf){var i=t.hf;if(t.hf=void 0,!0===i.df)return i.Hd(n),void St(t);N(t.$d[vt](i.lf),(function(){i.Gd(),St(t)}),(function(n){i.Hd(n),St(t)}))}else St(t)}function Tt(t){return void 0!==t.nf||void 0!==t.rf}function St(t){void 0!==t.nf&&(t.nf.Hd(t.Fd),t.nf=void 0);var n=t.Jd;void 0!==n&&zt(n,t.Fd)}function Et(t,n){var i=t.Jd;void 0!==i&&n!==t.uf&&(!0===n?function(t){Kt(t)}(i):$t(i)),t.uf=n}var It=function(){function t(t){if(!1===wt(t))throw new _("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===pt(t))throw new _("This stream has already been locked for exclusive writing by another writer");this.vf=t,t.Jd=this;var n=t.Fa;if("writable"===n)!1===Tt(t)&&!0===t.uf?Kt(this):Jt(this),Gt(this);else if("erroring"===n)qt(this,t.Fd),Gt(this);else if("closed"===n)Jt(this),function(t){Gt(t),Yt(t)}(this);else{var i=t.Fd;qt(this,i),Ht(this,i)}}return k.defineProperty(t.prototype,"closed",{get:function(){return!1===Rt(this)?R(Zt("closed")):this.Vd},enumerable:!0,configurable:!0}),k.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Rt(this))throw Zt("desiredSize");if(void 0===this.vf)throw Xt("desiredSize");return function(t){var n=t.vf,i=n.Fa;return"errored"===i||"erroring"===i?null:"closed"===i?0:Lt(n.$d)}(this)},enumerable:!0,configurable:!0}),k.defineProperty(t.prototype,"ready",{get:function(){return!1===Rt(this)?R(Zt("ready")):this.mf},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Rt(this)?R(Zt("abort")):void 0===this.vf?R(Xt("abort")):function(t,n){var i=t.vf;return yt(i,n)}(this,t)},t.prototype.close=function(){if(!1===Rt(this))return R(Zt("close"));var t=this.vf;return void 0===t?R(Xt("close")):!0===Tt(t)?R(new _("Cannot close an already-closing stream")):Ct(this)},t.prototype.releaseLock=function(){if(!1===Rt(this))throw Zt("releaseLock");void 0!==this.vf&&Dt(this)},t.prototype.write=function(t){return!1===Rt(this)?R(Zt("write")):void 0===this.vf?R(Xt("write to")):Pt(this,t)},t}();function Rt(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"vf")}function Ct(t){return _t(t.vf)}function Nt(t,n){"pending"===t.gf?zt(t,n):function(t,n){Ht(t,n)}(t,n)}function xt(t,n){"pending"===t.pf?Qt(t,n):function(t,n){qt(t,n)}(t,n)}function Dt(t){var n=t.vf,i=new _("Writer was released and can no longer be used to monitor the stream's closedness");xt(t,i),Nt(t,i),n.Jd=void 0,t.vf=void 0}function Pt(t,n){var i=t.vf,r=i.$d,e=function(t,n){try{return t.wf(n)}catch(n){return Vt(t,n),1}}(r,n);if(i!==t.vf)return R(Xt("write to"));var u=i.Fa;if("errored"===u)return R(i.Fd);if(!0===Tt(i)||"closed"===u)return R(new _("The stream is closing or closed and cannot be written to"));if("erroring"===u)return R(i.Fd);var s=function(t){return S((function(n,i){var r={Gd:n,Hd:i};t.tf.push(r)}))}(i);return function(t,n,i){var r={chunk:n};try{ht(t,r,i)}catch(n){return void Vt(t,n)}var e=t.yf;!1===Tt(e)&&"writable"===e.Fa&&Et(e,Ut(t)),Ft(t)}(r,n,e),s}var Mt=function(){function t(){throw new _("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"yf")}(this))throw new _("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.yf.Fa&&Wt(this,t)},t.prototype[vt]=function(t){var n=this.bf(t);return Ot(this),n},t.prototype[lt]=function(){ft(this)},t}();function Bt(t,n,i,r,e,u,s,o){n.yf=t,t.$d=n,n.Kd=void 0,n.Qd=void 0,ft(n),n._f=!1,n.wf=o,n.Af=s,n.Sf=r,n.Tf=e,n.bf=u;var a=Ut(n);Et(t,a),N(E(i()),(function(){n._f=!0,Ft(n)}),(function(i){n._f=!0,bt(t,i)}))}function Ot(t){t.Sf=void 0,t.Tf=void 0,t.bf=void 0,t.wf=void 0}function Lt(t){return t.Af-t.Qd}function Ft(t){var n=t.yf;if(!1!==t._f&&void 0===n.ef)if("erroring"!==n.Fa){if(0!==t.Kd.length){var i=function(t){return t.Kd.peek().value}(t);"close"===i?function(t){var n=t.yf;(function(t){t.rf=t.nf,t.nf=void 0})(n),ct(t);var i=t.Tf();Ot(t),N(i,(function(){!function(t){t.rf.Gd(void 0),t.rf=void 0,"erroring"===t.Fa&&(t.Fd=void 0,void 0!==t.hf&&(t.hf.Gd(),t.hf=void 0)),t.Fa="closed";var n=t.Jd;void 0!==n&&Yt(n)}(n)}),(function(t){!function(t,n){t.rf.Hd(n),t.rf=void 0,void 0!==t.hf&&(t.hf.Hd(n),t.hf=void 0),bt(t,n)}(n,t)}))}(t):function(t,n){var i=t.yf;!function(t){t.ef=t.tf.shift()}(i);var r=t.Sf(n);N(r,(function(){!function(t){t.ef.Gd(void 0),t.ef=void 0}(i);var n=i.Fa;if(ct(t),!1===Tt(i)&&"writable"===n){var r=Ut(t);Et(i,r)}Ft(t)}),(function(n){"writable"===i.Fa&&Ot(t),function(t,n){t.ef.Hd(n),t.ef=void 0,bt(t,n)}(i,n)}))}(t,i.chunk)}}else At(n)}function Vt(t,n){"writable"===t.yf.Fa&&Wt(t,n)}function Ut(t){return Lt(t)<=0}function Wt(t,n){var i=t.yf;Ot(t),kt(i,n)}function jt(t){return new _("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Zt(t){return new _("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Xt(t){return new _("Cannot "+t+" a stream using a released writer")}function Gt(t){t.Vd=S((function(n,i){t.Wd=n,t.Ud=i,t.gf="pending"}))}function Ht(t,n){Gt(t),zt(t,n)}function zt(t,n){M(t.Vd),t.Ud(n),t.Wd=void 0,t.Ud=void 0,t.gf="rejected"}function Yt(t){t.Wd(void 0),t.Wd=void 0,t.Ud=void 0,t.gf="resolved"}function Kt(t){t.mf=S((function(n,i){t.kf=n,t.Ef=i})),t.pf="pending"}function qt(t,n){Kt(t),Qt(t,n)}function Jt(t){Kt(t),$t(t)}function Qt(t,n){M(t.mf),t.Ef(n),t.kf=void 0,t.Ef=void 0,t.pf="rejected"}function $t(t){t.kf(void 0),t.kf=void 0,t.Ef=void 0,t.pf="fulfilled"}function tn(t){if("object"!==(void 0===t?"undefined":W(t))||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var nn,rn="undefined"!=typeof DOMException?DOMException:void 0,en=function(t){if("function"!=typeof t&&"object"!==(void 0===t?"undefined":W(t)))return!1;try{return new t,!0}catch(t){return!1}}(rn)?rn:((nn=function(t,n){this.message=t||"",this.name=n||"Error",y.captureStackTrace&&y.captureStackTrace(this,this.constructor)}).prototype=k.create(y.prototype),k.defineProperty(nn.prototype,"constructor",{value:nn,writable:!0,configurable:!0}),nn);function un(t,n,i,r,u,s){var o=Y(t),a=gt(n);t.Xd=!0;var c=!1,h=E(void 0);return S((function(f,v){var l,d,g,m;if(void 0!==s){if(l=function(){var i=new en("Aborted","AbortError"),e=[];!1===r&&e.push((function(){return"writable"===n.Fa?yt(n,i):E(void 0)})),!1===u&&e.push((function(){return"readable"===t.Fa?Jn(t,i):E(void 0)})),b((function(){return ut.all(e.map((function(t){return t()})))}),!0,i)},!0===s.aborted)return void l();s.addEventListener("abort",l)}if(y(t,o.Vd,(function(t){!1===r?b((function(){return yt(n,t)}),!0,t):k(!0,t)})),y(n,a.Vd,(function(n){!1===u?b((function(){return Jn(t,n)}),!0,n):k(!0,n)})),d=t,g=o.Vd,m=function(){!1===i?b((function(){return function(t){var n=t.vf,i=n.Fa;return!0===Tt(n)||"closed"===i?E(void 0):"errored"===i?R(n.Fd):Ct(t)}(a)})):k()},"closed"===d.Fa?m():x(g,m),!0===Tt(n)||"closed"===n.Fa){var w=new _("the destination writable stream closed before all data could be piped to it");!1===u?b((function(){return Jn(t,w)}),!0,w):k(!0,w)}function p(){var t=h;return C(h,(function(){return t!==h?p():void 0}))}function y(t,n,i){"errored"===t.Fa?i(t.Fd):D(n,i)}function b(t,i,r){function e(){N(t(),(function(){return A(i,r)}),(function(t){return A(!0,t)}))}!0!==c&&(c=!0,"writable"===n.Fa&&!1===Tt(n)?x(p(),e):e())}function k(t,i){!0!==c&&(c=!0,"writable"===n.Fa&&!1===Tt(n)?x(p(),(function(){return A(t,i)})):A(t,i))}function A(t,n){Dt(a),V(o),void 0!==s&&s.removeEventListener("abort",l),t?v(n):f(void 0)}M(S((function(t,n){!function i(r){r?t():C(!0===c?E(!0):C(a.mf,(function(){return C(rt(o),(function(t){return!0===t.done||(h=C(Pt(a,t.value),void 0,e),!1)}))})),i,n)}(!1)})))}))}var sn=function(){function t(){throw new _}return k.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===on(this))throw wn("desiredSize");return dn(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===on(this))throw wn("close");if(!1===gn(this))throw new _("The stream is not in a state that permits close");fn(this)},t.prototype.enqueue=function(t){if(!1===on(this))throw wn("enqueue");if(!1===gn(this))throw new _("The stream is not in a state that permits enqueue");return vn(this,t)},t.prototype.error=function(t){if(!1===on(this))throw wn("error");ln(this,t)},t.prototype[H]=function(t){ft(this);var n=this.xf(t);return hn(this),n},t.prototype[z]=function(){var t=this.Rf;if(this.Kd.length>0){var n=ct(this);return!0===this.If&&0===this.Kd.length?(hn(this),Qn(t)):an(this),E(O(n,!1,t.Od.Ld))}var i=K(t);return an(this),i},t}();function on(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Rf")}function an(t){!1!==cn(t)&&(!0!==t.Cf?(t.Cf=!0,N(t.Pf(),(function(){t.Cf=!1,!0===t.Df&&(t.Df=!1,an(t))}),(function(n){ln(t,n)}))):t.Df=!0)}function cn(t){var n=t.Rf;return!1!==gn(t)&&!1!==t._f&&(!0===qn(n)&&J(n)>0||dn(t)>0)}function hn(t){t.Pf=void 0,t.xf=void 0,t.wf=void 0}function fn(t){var n=t.Rf;t.If=!0,0===t.Kd.length&&(hn(t),Qn(n))}function vn(t,n){var i=t.Rf;if(!0===qn(i)&&J(i)>0)q(i,n,!1);else{var r=void 0;try{r=t.wf(n)}catch(n){throw ln(t,n),n}try{ht(t,n,r)}catch(n){throw ln(t,n),n}}an(t)}function ln(t,n){var i=t.Rf;"readable"===i.Fa&&(ft(t),hn(t),$n(i,n))}function dn(t){var n=t.Rf.Fa;return"errored"===n?null:"closed"===n?0:t.Af-t.Qd}function gn(t){var n=t.Rf.Fa;return!1===t.If&&"readable"===n}function mn(t,n,i,r,e,u,s){n.Rf=t,n.Kd=void 0,n.Qd=void 0,ft(n),n._f=!1,n.If=!1,n.Df=!1,n.Cf=!1,n.wf=s,n.Af=u,n.Pf=r,n.xf=e,t.zd=n,N(E(i()),(function(){n._f=!0,an(n)}),(function(t){ln(n,t)}))}function wn(t){return new _("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var pn=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&A.floor(t)===t},yn=function(){function t(){throw new _("ReadableStreamBYOBRequest cannot be used directly")}return k.defineProperty(t.prototype,"view",{get:function(){if(!1===kn(this))throw Fn("view");return this.Nf},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===kn(this))throw Fn("respond");if(void 0===this.Mf)throw new _("This BYOB request has been invalidated");this.Nf.buffer,function(t,n){if(!1===h(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Dn(t,n)}(this.Mf,t)},t.prototype.respondWithNewView=function(t){if(!1===kn(this))throw Fn("respond");if(void 0===this.Mf)throw new _("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new _("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Lf.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Dn(t,n.byteLength)}(this.Mf,t)},t}(),_n=function(){function t(){throw new _("ReadableByteStreamController constructor cannot be used directly")}return k.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===bn(this))throw Vn("byobRequest");if(void 0===this.Bf&&this.Lf.length>0){var t=this.Lf.peek(),n=new I(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=k.create(yn.prototype);!function(t,n,i){t.Mf=n,t.Nf=i}(i,this,n),this.Bf=i}return this.Bf},enumerable:!0,configurable:!0}),k.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===bn(this))throw Vn("desiredSize");return On(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===bn(this))throw Vn("close");if(!0===this.If)throw new _("The stream has already been closed; do not close it again!");var t=this.Of.Fa;if("readable"!==t)throw new _("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Of;if(t.Qd>0)t.If=!0;else{if(t.Lf.length>0&&t.Lf.peek().bytesFilled>0){var i=new _("Insufficient bytes to fill elements in the given buffer");throw Bn(t,i),i}Mn(t),Qn(n)}}(this)},t.prototype.enqueue=function(t){if(!1===bn(this))throw Vn("enqueue");if(!0===this.If)throw new _("stream is closed or draining");var n=this.Of.Fa;if("readable"!==n)throw new _("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new _("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Of,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=r;!0===Q(i)?0===J(i)?En(t,s,e,u):q(i,new I(s,e,u),!1):!0===jn(i)?(En(t,s,e,u),xn(t)):En(t,s,e,u),An(t)}(this,t)},t.prototype.error=function(t){if(!1===bn(this))throw Vn("error");Bn(this,t)},t.prototype[H]=function(t){this.Lf.length>0&&(this.Lf.peek().bytesFilled=0),ft(this);var n=this.xf(t);return Mn(this),n},t.prototype[z]=function(){var t=this.Of;if(this.Qd>0){var n=this.Kd.shift();this.Qd-=n.byteLength,Cn(this);var i=void 0;try{i=new I(n.buffer,n.byteOffset,n.byteLength)}catch(t){return R(t)}return E(O(i,!1,t.Od.Ld))}var r=this.Ff;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return R(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:I,readerType:"default"};this.Lf.push(u)}var s=K(t);return An(this),s},t}();function bn(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Of")}function kn(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Mf")}function An(t){var n=function(t){var n=t.Of;if("readable"!==n.Fa)return!1;if(!0===t.If)return!1;if(!1===t._f)return!1;if(!0===Q(n)&&J(n)>0)return!0;if(!0===jn(n)&&Wn(n)>0)return!0;var i=On(t);return i>0}(t);!1!==n&&(!0!==t.Cf?(t.Cf=!0,N(t.Pf(),(function(){t.Cf=!1,!0===t.Df&&(t.Df=!1,An(t))}),(function(n){Bn(t,n)}))):t.Df=!0)}function Tn(t,n){var i=!1;"closed"===t.Fa&&(i=!0);var r=Sn(n);"default"===n.readerType?q(t,r,i):function(t,n,i){var r=t.Od,e=r.Vf.shift();e.Gd(O(n,i,r.Ld))}(t,r,i)}function Sn(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function En(t,n,i,r){t.Kd.push({buffer:n,byteOffset:i,byteLength:r}),t.Qd+=r}function In(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=A.min(t.Qd,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,a=!1;s>r&&(o=s-n.bytesFilled,a=!0);for(var h=t.Kd;o>0;){var f=h.peek(),v=A.min(o,f.byteLength),l=n.byteOffset+n.bytesFilled;c(n.buffer,l,f.buffer,f.byteOffset,v),f.byteLength===v?h.shift():(f.byteOffset+=v,f.byteLength-=v),t.Qd-=v,Rn(t,v,n),o-=v}return a}function Rn(t,n,i){Nn(t),i.bytesFilled+=n}function Cn(t){0===t.Qd&&!0===t.If?(Mn(t),Qn(t.Of)):An(t)}function Nn(t){void 0!==t.Bf&&(t.Bf.Mf=void 0,t.Bf.Nf=void 0,t.Bf=void 0)}function xn(t){for(;t.Lf.length>0;){if(0===t.Qd)return;var n=t.Lf.peek();!0===In(t,n)&&(Pn(t),Tn(t.Of,n))}}function Dn(t,n){var i=t.Lf.peek();if("closed"===t.Of.Fa){if(0!==n)throw new _("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=n.buffer;var i=t.Of;if(!0===jn(i))for(;Wn(i)>0;)Tn(i,Pn(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Rn(t,n,i),!(i.bytesFilled<i.elementSize)){Pn(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);En(t,u,0,u.byteLength)}i.buffer=i.buffer,i.bytesFilled-=r,Tn(t.Of,i),xn(t)}}(t,n,i);An(t)}function Pn(t){var n=t.Lf.shift();return Nn(t),n}function Mn(t){t.Pf=void 0,t.xf=void 0}function Bn(t,n){var i=t.Of;"readable"===i.Fa&&(function(t){Nn(t),t.Lf=new B}(t),ft(t),Mn(t),$n(i,n))}function On(t){var n=t.Of.Fa;return"errored"===n?null:"closed"===n?0:t.Af-t.Qd}function Ln(t,n,i){var r=k.create(_n.prototype),e=v(n,"pull",0,[r]),u=v(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===pn(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.Of=t,n.Df=!1,n.Cf=!1,n.Bf=void 0,n.Kd=n.Qd=void 0,ft(n),n.If=!1,n._f=!1,n.Af=g(u),n.Pf=r,n.xf=e,n.Ff=s,n.Lf=new B,t.zd=n,N(E(i()),(function(){n._f=!0,An(n)}),(function(t){Bn(n,t)}))}(t,r,(function(){return l(n,"start",[r])}),e,u,i,s)}function Fn(t){return new _("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Vn(t){return new _("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Un(t){return S((function(n,i){var r={Gd:n,Hd:i};t.Od.Vf.push(r)}))}function Wn(t){return t.Od.Vf.length}function jn(t){var n=t.Od;return void 0!==n&&!!Xn(n)}var Zn=function(){function t(t){if(!Kn(t))throw new _("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===bn(t.zd))throw new _("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(qn(t))throw new _("This stream has already been locked for exclusive reading by another reader");L(this,t),this.Vf=new B}return k.defineProperty(t.prototype,"closed",{get:function(){return Xn(this)?this.Vd:R(Gn("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Xn(this)?void 0===this.Bd?R(U("cancel")):F(this,t):R(Gn("cancel"))},t.prototype.read=function(t){return Xn(this)?void 0===this.Bd?R(U("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?R(new _("view must have non-zero byteLength")):function(t,n){var i=t.Bd;return i.Xd=!0,"errored"===i.Fa?R(i.Fd):function(t,n){var i=t.Of,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.Lf.length>0)return t.Lf.push(u),Un(i);if("closed"===i.Fa)return E(O(new e(u.buffer,u.byteOffset,0),!0,i.Od.Ld));if(t.Qd>0){if(!0===In(t,u)){var s=Sn(u);return Cn(t),E(O(s,!1,i.Od.Ld))}if(!0===t.If){var o=new _("Insufficient bytes to fill elements in the given buffer");return Bn(t,o),R(o)}}t.Lf.push(u);var a=Un(i);return An(t),a}(i.zd,n)}(this,t)):R(new _("view must be an array buffer view")):R(Gn("read"))},t.prototype.releaseLock=function(){if(!Xn(this))throw Gn("releaseLock");if(void 0!==this.Bd){if(this.Vf.length>0)throw new _("Tried to release a reader lock when that reader has pending read() calls un-settled");V(this)}},t}();function Xn(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Vf")}function Gn(t){return new _("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Hn=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Yn(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Ln(this,t,r=g(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=m(i);void 0===r&&(r=1),function(t,n,i,r){var e=k.create(sn.prototype),u=v(n,"pull",0,[e]),s=v(n,"cancel",1,[]);mn(t,e,(function(){return l(n,"start",[e])}),u,s,i,r)}(this,t,r=g(r),u)}}return k.defineProperty(t.prototype,"locked",{get:function(){if(!1===Kn(this))throw ti("locked");return qn(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Kn(this)?R(ti("cancel")):!0===qn(this)?R(new _("Cannot cancel a stream that already has a reader")):Jn(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Kn(this))throw ti("getReader");if(void 0===n)return Y(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Zn(t);return i.Ld=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,a=e.signal;if(!1===Kn(this))throw ti("pipeThrough");if(!1===wt(i))throw new _("writable argument to pipeThrough must be a WritableStream");if(!1===Kn(r))throw new _("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==a&&!tn(a))throw new _("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===qn(this))throw new _("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===pt(i))throw new _("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return M(un(this,i,u,s,o,a)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===Kn(this)?R(ti("pipeTo")):!1===wt(t)?R(new _("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||tn(s)?!0===qn(this)?R(new _("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===pt(t)?R(new _("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):un(this,t,r,e,u,s):R(new _("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Kn(this))throw ti("tee");var t=function(t,n){var i,r,e,u,s,o=Y(t),c=!1,h=!1,f=!1,v=S((function(t){s=t}));function l(){return!0===c||(c=!0,M(P(rt(o),(function(t){if(c=!1,!0===t.done)return!1===h&&fn(e.zd),void(!1===f&&fn(u.zd));var n=t.value,i=n,r=n;!1===h&&vn(e.zd,i),!1===f&&vn(u.zd,r)})))),E(void 0)}function d(){}return e=zn(d,l,(function(n){if(h=!0,i=n,!0===f){var e=a([i,r]),u=Jn(t,e);s(u)}return v})),u=zn(d,l,(function(n){if(f=!0,r=n,!0===h){var e=a([i,r]),u=Jn(t,e);s(u)}return v})),D(o.Vd,(function(t){ln(e.zd,t),ln(u.zd,t)})),[e,u]}(this);return a(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Kn(this))throw ti("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Y(t),r=k.create(st);return r.qd=i,r.Yd=Boolean(n),r}(this,i)},t}();function zn(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=k.create(Hn.prototype);return Yn(u),mn(u,k.create(sn.prototype),t,n,i,r,e),u}function Yn(t){t.Fa="readable",t.Od=void 0,t.Fd=void 0,t.Xd=!1}function Kn(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"zd")}function qn(t){return void 0!==t.Od}function Jn(t,n){return t.Xd=!0,"closed"===t.Fa?E(void 0):"errored"===t.Fa?R(t.Fd):(Qn(t),P(t.zd[H](n),e))}function Qn(t){t.Fa="closed";var n=t.Od;void 0!==n&&(it(n)&&(n.Zd.forEach((function(t){t.Gd(O(void 0,!0,n.Ld))})),n.Zd=new B),G(n))}function $n(t,n){t.Fa="errored",t.Fd=n;var i=t.Od;void 0!==i&&(it(i)?(i.Zd.forEach((function(t){t.Hd(n)})),i.Zd=new B):(i.Vf.forEach((function(t){t.Hd(n)})),i.Vf=new B),X(i,n))}function ti(t){return new _("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"===W(i.asyncIterator)&&k.defineProperty(Hn.prototype,i.asyncIterator,{value:Hn.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var ni=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(t){return t.byteLength},t}(),ii=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),ri=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=m(r);if(void 0===e&&(e=1),e=g(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=m(u);void 0===s&&(s=0),s=g(s),function(t,n,i,r,e,u){function s(){return n}function o(n){return function(t,n){var i=t.Wf;return!0===t.uf?P(t.Uf,(function(){var r=t.Gf;if("erroring"===r.Fa)throw r.Fd;return vi(i,n)})):vi(i,n)}(t,n)}function a(n){return function(t,n){return ui(t,n),E(void 0)}(t,n)}function c(){return function(t){var n=t.Hf,i=t.Wf,r=i.Zf();return hi(i),P(r,(function(){if("errored"===n.Fa)throw n.Fd;var t=n.zd;!0===gn(t)&&fn(t)}),(function(i){throw ui(t,i),n.Fd}))}(t)}function h(){return function(t){return oi(t,!1),t.Uf}(t)}function f(n){return si(t,n),E(void 0)}t.Gf=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=k.create(dt.prototype);return mt(s),Bt(s,k.create(Mt.prototype),t,n,i,r,e,u),s}(s,o,c,a,i,r),t.Hf=zn(s,h,f,e,u),t.uf=void 0,t.Uf=void 0,t.Xf=void 0,oi(t,!0),t.Wf=void 0}(this,S((function(t){a=t})),e,o,s,c),function(t,n){var i=k.create(ai.prototype),r=function(t){try{return fi(i,t),E(void 0)}catch(t){return R(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new _("transform is not a method");r=function(t){return d(e,n,[t,i])}}var u=v(n,"flush",0,[i]);!function(t,n,i,r){n.zf=t,t.Wf=n,n.qf=i,n.Zf=r}(t,i,r,u)}(this,t);var h=l(t,"start",[this.Wf]);a(h)}return k.defineProperty(t.prototype,"readable",{get:function(){if(!1===ei(this))throw di("readable");return this.Hf},enumerable:!0,configurable:!0}),k.defineProperty(t.prototype,"writable",{get:function(){if(!1===ei(this))throw di("writable");return this.Gf},enumerable:!0,configurable:!0}),t}();function ei(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Wf")}function ui(t,n){ln(t.Hf.zd,n),si(t,n)}function si(t,n){hi(t.Wf),Vt(t.Gf.$d,n),!0===t.uf&&oi(t,!1)}function oi(t,n){void 0!==t.Uf&&t.Xf(),t.Uf=S((function(n){t.Xf=n})),t.uf=n}var ai=function(){function t(){throw new _("TransformStreamDefaultController instances cannot be created directly")}return k.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ci(this))throw li("desiredSize");return dn(this.zf.Hf.zd)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===ci(this))throw li("enqueue");fi(this,t)},t.prototype.error=function(t){if(!1===ci(this))throw li("error");!function(t,n){ui(t.zf,n)}(this,t)},t.prototype.terminate=function(){if(!1===ci(this))throw li("terminate");!function(t){var n=t.zf,i=n.Hf.zd;!0===gn(i)&&fn(i);var r=new _("TransformStream terminated");si(n,r)}(this)},t}();function ci(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"zf")}function hi(t){t.qf=void 0,t.Zf=void 0}function fi(t,n){var i=t.zf,r=i.Hf.zd;if(!1===gn(r))throw new _("Readable side is not in a state that permits enqueue");try{vn(r,n)}catch(t){throw si(i,t),i.Hf.Fd}var e=function(t){return!0!==cn(t)}(r);e!==i.uf&&oi(i,!0)}function vi(t,n){return P(t.qf(n),void 0,(function(n){throw ui(t.zf,n),n}))}function li(t){return new _("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function di(t){return new _("TransformStream.prototype."+t+" can only be used on a TransformStream")}t.ByteLengthQueuingStrategy=ni,t.CountQueuingStrategy=ii,t.ReadableStream=Hn,t.TransformStream=ri,t.WritableStream=dt,k.defineProperty(t,"__esModule",{value:!0})},"object"===(void 0===t?"undefined":W(t))&&void 0!==i?u(t):"function"==typeof define&&define.amd?define(["exports"],u):u((e=e||self).WebStreamsPolyfill={})})),un=L((function(t){function n(){var t=en();return n=function(){return t},t}U(),St(),k.defineProperty(t,"__esModule",{value:!0}),function(t,n){for(var i in n)k.defineProperty(t,i,{enumerable:!0,get:n[i]})}(t,{ByteLengthQueuingStrategy:function(){return n().ByteLengthQueuingStrategy},CountQueuingStrategy:function(){return n().CountQueuingStrategy},ReadableStream:function(){return n().ReadableStream},TransformStream:function(){return n().TransformStream},WritableStream:function(){return n().WritableStream}})}));function sn(t,n,i){return n in t?k.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var on=O((function(){U(),St()})),an=O((function(){U(),St(),qt()}));function cn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(cn=function(){return!!t})()}var hn=O((function(){U(),St()}));function fn(t,n,i){return(fn=cn()?Reflect.construct:function(t,n,i){var r=[null];r.push.apply(r,n);var e=new(Function.bind.apply(t,r));return i&&Et(e,i.prototype),e}).apply(null,arguments)}var vn=O((function(){U(),St(),hn(),It()}));function ln(t){return(ln=k.setPrototypeOf?k.getPrototypeOf:function(t){return t.__proto__||k.getPrototypeOf(t)})(t)}var dn=O((function(){U(),St()}));var gn=O((function(){U(),St()}));function mn(t){var n="function"==typeof Map?new Map:void 0;return mn=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new _("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,i)}function i(){return fn(t,arguments,ln(this).constructor)}return i.prototype=k.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Et(i,t)},mn(t)}var wn,pn=O((function(){U(),St(),vn(),dn(),gn(),It()})),yn=L((function(t,e){var u,s;U(),St(),Gt(),vn(),Dt(),on(),Ct(),rn(),Wt(),ct(),pn(),Jt(),an(),u=t,s=function(t){var e,u=k.defineProperty,s=k.defineProperties,o=k.getOwnPropertyDescriptors,a=k.getOwnPropertySymbols,c=k.prototype.hasOwnProperty,h=k.prototype.propertyIsEnumerable,l=function(t,n,i){return n in t?u(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i},m=function(t,n){for(var i in n||(n={}))c.call(n,i)&&l(t,i,n[i]);if(a)for(var r=0,e=a(n);r<e.length;r++)i=e[r],h.call(n,i)&&l(t,i,n[i]);return t},b=function(t,n){return s(t,o(n))},C=function(t,n){var i={};for(var r in t)c.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&a)for(var e=0,u=a(t);e<u.length;e++)r=u[e],n.indexOf(r)<0&&h.call(t,r)&&(i[r]=t[r]);return i},N=("undefined"==typeof globalThis?"undefined":W(globalThis))<"u"?globalThis:(void 0===f?"undefined":W(f))<"u"?f:("undefined"==typeof global?"undefined":W(global))<"u"?global:("undefined"==typeof self?"undefined":W(self))<"u"?self:{};function x(t){return t&&t.__esModule&&k.prototype.hasOwnProperty.call(t,"default")?t.default:t}var D,P={exports:{}};D=P,function(t){var n,i={VERSION:"1.6.1"},r={},e=function(t,n){return function(){return n.apply(t,arguments)}},u=function(){var t,n,i=arguments,r=i[0];for(n=1;n<i.length;n++)for(t in i[n])!(t in r)&&i[n].hasOwnProperty(t)&&(r[t]=i[n][t]);return r},s=function(t,n){return{value:t,name:n}};i.TRACE=s(1,"TRACE"),i.DEBUG=s(2,"DEBUG"),i.INFO=s(3,"INFO"),i.TIME=s(4,"TIME"),i.WARN=s(5,"WARN"),i.ERROR=s(8,"ERROR"),i.OFF=s(99,"OFF");var o=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};o.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var n=this.context.filterLevel;return t.value>=n.value},trace:function(){this.invoke(i.TRACE,arguments)},debug:function(){this.invoke(i.DEBUG,arguments)},info:function(){this.invoke(i.INFO,arguments)},warn:function(){this.invoke(i.WARN,arguments)},error:function(){this.invoke(i.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(i.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(i.TIME,[t,"end"])},invoke:function(t,i){n&&this.enabledFor(t)&&n(i,u({level:t},this.context))}};var a,c=new o({filterLevel:i.OFF});(a=i).enabledFor=e(c,c.enabledFor),a.trace=e(c,c.trace),a.debug=e(c,c.debug),a.time=e(c,c.time),a.timeEnd=e(c,c.timeEnd),a.info=e(c,c.info),a.warn=e(c,c.warn),a.error=e(c,c.error),a.log=a.info,i.setHandler=function(t){n=t},i.setLevel=function(t){for(var n in c.setLevel(t),r)r.hasOwnProperty(n)&&r[n].setLevel(t)},i.getLevel=function(){return c.getLevel()},i.get=function(t){return r[t]||(r[t]=new o(u({name:t},c.context)))},i.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,n){n.name&&t.unshift("["+n.name+"]")};var n={},r=function(t,n){Function.prototype.apply.call(t,console,n)};return("undefined"==typeof console?"undefined":W(console))>"u"?function(){}:function(e,u){e=Array.prototype.slice.call(e);var s,o=console.log;u.level===i.TIME?(s=(u.name?"["+u.name+"] ":"")+e[0],"start"===e[1]?console.time?console.time(s):n[s]=(new Date).getTime():console.timeEnd?console.timeEnd(s):r(o,[s+": "+((new Date).getTime()-n[s])+"ms"])):(u.level===i.WARN&&console.warn?o=console.warn:u.level===i.ERROR&&console.error?o=console.error:u.level===i.INFO&&console.info?o=console.info:u.level===i.DEBUG&&console.debug?o=console.debug:u.level===i.TRACE&&console.trace&&(o=console.trace),t.formatter(e,u),r(o,e))}},i.useDefaults=function(t){i.setLevel(t&&t.defaultLevel||i.DEBUG),i.setHandler(i.createDefaultHandler(t))},i.setDefaults=i.useDefaults,D.exports?D.exports=i:(i.Yf=t.Logger,i.noConflict=function(){return t.Logger=i.Yf,i},t.Logger=i)}(N);var M=x(P.exports),B="0.3.2",O=(null==(e=null==f?void 0:f.navigator)?void 0:e.userAgent)||"No user agent available",L="",F="",V="",U="",j="",Z="",X="",G=0,H=[],z=function(t){L=""===L?t:L},Y=function(t){F=""===F?t:F},K=function(t){V=""===V?t:V},q=function(t){U=""===U?t:U},J=function(t){j=""===j?t:j},Q=function(t){G=0===G?t:G},tt=function(t){Z=t},nt=function(t){X=""===X?t:X},it=function(t){60===H.length&&H.shift(),H.push(t)},rt=function(t,n){var i;void 0===t&&(t=60),void 0===n&&(n="JSON"),i=!Number.isInteger(t)||t>60||t<=0?60:t;var r={client:"@millicast/millicast-sdk",version:B,timestamp:(new Date).toISOString(),userAgent:O,clusterId:X,accountId:L,streamName:F,subscriberId:V,connection:Z,stats:H.slice(-i),connectionDurationMs:(new Date).getTime()-G};return""!==j?r.feedId=j:""!==U&&(r.streamViewId=U),"CMCD"===n?function(t){function n(t,n){return{ts:A.round(n.timestamp)||"",ot:"audio"===t?"a":"v",bl:n.jitterBufferDelay||0,br:A.round(n.bitrateBitsPerSecond||0),pld:n.packetsLostDeltaPerSecond||0,j:n.jitter||0,mtp:n.packetRate||0,mid:n.mid||"",mimeType:n.mimeType||""}}return t.stats=t.stats.reduce((function(t,i){var r=0!==i.audio.inbounds.length?i.audio.inbounds.map((function(t){return n("audio",t)})):i.audio.outbounds.map((function(t){return n("audio",t)})),e=0!==i.video.inbounds.length?i.video.inbounds.map((function(t){return n("video",t)})):i.video.outbounds.map((function(t){return n("video",t)}));return t.concat(Ut(r).concat(Ut(e)))}),[]),t}(r):r};M.useDefaults({defaultLevel:M.TRACE});var et=["TRACE","DEBUG","INFO","WARN","ERROR"],st=function(t,n){t.unshift("[".concat(n.name||"Global","] ").concat((new Date).toISOString()," - ").concat(n.level.name," -"))},ot=function(t,n){return n?t.value>=lt[n].value:t.value>=vt.value},at=M.createDefaultHandler({formatter:st});M.setHandler((function(t,n){(function(t,n){t=(t=Array.prototype.slice.call(t)).map((function(t){return"object"==(void 0===t?"undefined":W(t))?JSON.stringify(t):t})),st(t,n),0!==ht?(ft.push(t.join(" ")),ft.length>=ht&&(ft=ft.slice(-ht))):ft=[]})(t,n),ot(n.level,n.name)&&at(t,n);for(var i=0;i<dt.length;i++){var r=dt[i],e=r.handler,u=r.level;n.level.value>=u.value&&e(t,n)}}));var ct,ht=1e4,ft=[],vt=M.OFF,lt={},dt=[],gt=b(m({},M),{enabledFor:ot,getHistory:function(){return ft},getHistoryMaxSize:function(){return ht},setHistoryMaxSize:function(t){ht=t},setLevel:function(t){for(var n in vt=t,lt)lt[n]=t},getLevel:function(){return vt},get:function(t){lt[t]||(lt[t]=vt);var n=M.get(t);return n.setLevel=function(n){lt[t]=n},n.getLevel=function(){return lt[t]},n},setHandler:function(t,n){dt.push({handler:t,level:n})},diagnose:function(t){var n;void 0===t&&(t={});var i={statsCount:60,historySize:1e3,minLogLevel:"TRACE",statsFormat:"JSON"};"number"==typeof t?(i.statsCount=t,n=i):n=m(m({},i),t);var r=n.statsCount,e=n.historySize,u=n.minLogLevel,s=n.statsFormat,o=rt(r,s),a=gt.getHistory();if(!Number.isInteger(e)||e<=0)throw new y("Invalid Argument Exception : historySize must be a positive integer.");if(!et.includes(u.toUpperCase()))throw new y('Invalid Argument Exception : the minLogLevel parameter only excepts "trace", "debug", "info", "warn", and "error" as arguments.');if(et.includes(u.toUpperCase())){var c=et.slice(et.indexOf(u.toUpperCase())),h=a.filter((function(t){return c.some((function(n){return t.includes(n)}))}));o.history=h.slice(-e)}return o},JSON:"JSON",CMCD:"CMCD",VERSION:B}),mt={exports:{}},wt="object"==("undefined"==typeof Reflect?"undefined":W(Reflect))?Reflect:null,pt=wt&&"function"==typeof wt.apply?wt.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};ct=wt&&"function"==typeof wt.ownKeys?wt.ownKeys:k.getOwnPropertySymbols?function(t){return k.getOwnPropertyNames(t).concat(k.getOwnPropertySymbols(t))}:function(t){return k.getOwnPropertyNames(t)};var yt=Number.isNaN||function(t){return t!=t};function _t(){_t.init.call(this)}mt.exports=_t,mt.exports.once=function(t,n){return new ut((function(i,r){function e(i){t.removeListener(n,u),r(i)}function u(){"function"==typeof t.removeListener&&t.removeListener("error",e),i([].slice.call(arguments))}Dt(t,n,u,{once:!0}),"error"!==n&&function(t,n,i){"function"==typeof t.on&&Dt(t,"error",n,i)}(t,e,{once:!0})}))},_t.EventEmitter=_t,_t.prototype.Kf=void 0,_t.prototype.jf=0,_t.prototype.Qf=void 0;var bt=10;function kt(t){if("function"!=typeof t)throw new _('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":W(t)))}function At(t){return void 0===t.Qf?_t.defaultMaxListeners:t.Qf}function Tt(t,n,i,r){var e,u,s;if(kt(i),void 0===(u=t.Kf)?(u=t.Kf=k.create(null),t.jf=0):(void 0!==u.newListener&&(t.emit("newListener",n,i.listener?i.listener:i),u=t.Kf),s=u[n]),void 0===s)s=u[n]=i,++t.jf;else if("function"==typeof s?s=u[n]=r?[i,s]:[s,i]:r?s.unshift(i):s.push(i),(e=At(t))>0&&s.length>e&&!s.warned){s.warned=!0;var o=new y("Possible EventEmitter memory leak detected. "+s.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=n,o.count=s.length,function(t){console&&console.warn&&console.warn(t)}(o)}return t}function St(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Et(t,n,i){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},e=St.bind(r);return e.listener=i,r.wrapFn=e,e}function It(t,n,i){var r=t.Kf;if(void 0===r)return[];var e=r[n];return void 0===e?[]:"function"==typeof e?i?[e.listener||e]:[e]:i?function(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}(e):Nt(e,e.length)}function Ct(t){var n=this.Kf;if(void 0!==n){var i=n[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function Nt(t,n){for(var i=new Array(n),r=0;r<n;++r)i[r]=t[r];return i}function Dt(t,n,i,r){if("function"==typeof t.on)r.once?t.once(n,i):t.on(n,i);else{if("function"!=typeof t.addEventListener)throw new _('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":W(t)));t.addEventListener(n,(function e(u){r.once&&t.removeEventListener(n,e),i(u)}))}}k.defineProperty(_t,"defaultMaxListeners",{enumerable:!0,get:function(){return bt},set:function(t){if("number"!=typeof t||t<0||yt(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");bt=t}}),_t.init=function(){(void 0===this.Kf||this.Kf===k.getPrototypeOf(this).Kf)&&(this.Kf=k.create(null),this.jf=0),this.Qf=this.Qf||void 0},_t.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||yt(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.Qf=t,this},_t.prototype.getMaxListeners=function(){return At(this)},_t.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var r="error"===t,e=this.Kf;if(void 0!==e)r=r&&void 0===e.error;else if(!r)return!1;if(r){var u;if(n.length>0&&(u=n[0]),u instanceof y)throw u;var s=new y("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var o=e[t];if(void 0===o)return!1;if("function"==typeof o)pt(o,this,n);else{var a=o.length,c=Nt(o,a);for(i=0;i<a;++i)pt(c[i],this,n)}return!0},_t.prototype.addListener=function(t,n){return Tt(this,t,n,!1)},_t.prototype.on=_t.prototype.addListener,_t.prototype.prependListener=function(t,n){return Tt(this,t,n,!0)},_t.prototype.once=function(t,n){return kt(n),this.on(t,Et(this,t,n)),this},_t.prototype.prependOnceListener=function(t,n){return kt(n),this.prependListener(t,Et(this,t,n)),this},_t.prototype.removeListener=function(t,n){var i,r,e,u,s;if(kt(n),void 0===(r=this.Kf))return this;if(void 0===(i=r[t]))return this;if(i===n||i.listener===n)0==--this.jf?this.Kf=k.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,i.listener||n));else if("function"!=typeof i){for(e=-1,u=i.length-1;u>=0;u--)if(i[u]===n||i[u].listener===n){s=i[u].listener,e=u;break}if(e<0)return this;0===e?i.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(i,e),1===i.length&&(r[t]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||n)}return this},_t.prototype.off=_t.prototype.removeListener,_t.prototype.removeAllListeners=function(t){var n,i,r;if(void 0===(i=this.Kf))return this;if(void 0===i.removeListener)return 0===arguments.length?(this.Kf=k.create(null),this.jf=0):void 0!==i[t]&&(0==--this.jf?this.Kf=k.create(null):delete i[t]),this;if(0===arguments.length){var e,u=k.keys(i);for(r=0;r<u.length;++r)"removeListener"!==(e=u[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.Kf=k.create(null),this.jf=0,this}if("function"==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},_t.prototype.listeners=function(t){return It(this,t,!0)},_t.prototype.rawListeners=function(t){return It(this,t,!1)},_t.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):Ct.call(t,n)},_t.prototype.listenerCount=Ct,_t.prototype.eventNames=function(){return this.jf>0?ct(this.Kf):[]};var Pt=mt.exports,Mt=x(Pt),Bt={exports:{}};Bt.exports=Lt,Bt.exports.filter=function(t,n){var i=new Ot;return Lt(t,i,n),i};var Ot=Pt.EventEmitter;function Lt(t,n,i){Array.isArray(i)||(i=[i]);var r=[];return i.forEach((function(i){var e=function(){var t=[].slice.call(arguments);t.unshift(i),n.emit.apply(n,t)};r.push(e),t.on(i,e)})),function(){i.forEach((function(n,i){t.removeListener(n,r[i])}))}}var Ft=x(Bt.exports),Vt={exports:{}};!function(t,n){var i,r;self,t.exports=(i={7:function(t){var n,i=function(t){if("function"!=typeof t)throw new _('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":W(t)))},r=function(t){return void 0===t.Qf?d.defaultMaxListeners:t.Qf},e=function(t,n,e,u){var s,o,a,c;if(i(e),void 0===(o=t.Kf)?(o=t.Kf=k.create(null),t.jf=0):(void 0!==o.newListener&&(t.emit("newListener",n,e.listener?e.listener:e),o=t.Kf),a=o[n]),void 0===a)a=o[n]=e,++t.jf;else if("function"==typeof a?a=o[n]=u?[e,a]:[a,e]:u?a.unshift(e):a.push(e),(s=r(t))>0&&a.length>s&&!a.warned){a.warned=!0;var h=new y("Possible EventEmitter memory leak detected. "+a.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=n,h.count=a.length,c=h,console&&console.warn&&console.warn(c)}return t},u=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)},s=function(t,n,i){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},e=u.bind(r);return e.listener=i,r.wrapFn=e,e},o=function(t,n,i){var r=t.Kf;if(void 0===r)return[];var e=r[n];return void 0===e?[]:"function"==typeof e?i?[e.listener||e]:[e]:i?function(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}(e):c(e,e.length)},a=function(t){var n=this.Kf;if(void 0!==n){var i=n[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0},c=function(t,n){for(var i=new Array(n),r=0;r<n;++r)i[r]=t[r];return i},h=function(t,n,i,r){if("function"==typeof t.on)r.once?t.once(n,i):t.on(n,i);else{if("function"!=typeof t.addEventListener)throw new _('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":W(t)));t.addEventListener(n,(function e(u){r.once&&t.removeEventListener(n,e),i(u)}))}},f="object"==("undefined"==typeof Reflect?"undefined":W(Reflect))?Reflect:null,v=f&&"function"==typeof f.apply?f.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};n=f&&"function"==typeof f.ownKeys?f.ownKeys:k.getOwnPropertySymbols?function(t){return k.getOwnPropertyNames(t).concat(k.getOwnPropertySymbols(t))}:function(t){return k.getOwnPropertyNames(t)};var l=Number.isNaN||function(t){return t!=t};function d(){d.init.call(this)}t.exports=d,t.exports.once=function(t,n){return new ut((function(i,r){function e(i){t.removeListener(n,u),r(i)}function u(){"function"==typeof t.removeListener&&t.removeListener("error",e),i([].slice.call(arguments))}var s,o;h(t,n,u,{once:!0}),"error"!==n&&(o=e,"function"==typeof(s=t).on&&h(s,"error",o,{once:!0}))}))},d.EventEmitter=d,d.prototype.Kf=void 0,d.prototype.jf=0,d.prototype.Qf=void 0;var g=10;k.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(t){if("number"!=typeof t||t<0||l(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");g=t}}),d.init=function(){void 0!==this.Kf&&this.Kf!==k.getPrototypeOf(this).Kf||(this.Kf=k.create(null),this.jf=0),this.Qf=this.Qf||void 0},d.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||l(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.Qf=t,this},d.prototype.getMaxListeners=function(){return r(this)},d.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var r="error"===t,e=this.Kf;if(void 0!==e)r=r&&void 0===e.error;else if(!r)return!1;if(r){var u;if(n.length>0&&(u=n[0]),u instanceof y)throw u;var s=new y("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var o=e[t];if(void 0===o)return!1;if("function"==typeof o)v(o,this,n);else{var a=o.length,h=c(o,a);for(i=0;i<a;++i)v(h[i],this,n)}return!0},d.prototype.addListener=function(t,n){return e(this,t,n,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(t,n){return e(this,t,n,!0)},d.prototype.once=function(t,n){return i(n),this.on(t,s(this,t,n)),this},d.prototype.prependOnceListener=function(t,n){return i(n),this.prependListener(t,s(this,t,n)),this},d.prototype.removeListener=function(t,n){var r,e,u,s,o;if(i(n),void 0===(e=this.Kf))return this;if(void 0===(r=e[t]))return this;if(r===n||r.listener===n)0==--this.jf?this.Kf=k.create(null):(delete e[t],e.removeListener&&this.emit("removeListener",t,r.listener||n));else if("function"!=typeof r){for(u=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){o=r[s].listener,u=s;break}if(u<0)return this;0===u?r.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(r,u),1===r.length&&(e[t]=r[0]),void 0!==e.removeListener&&this.emit("removeListener",t,o||n)}return this},d.prototype.off=d.prototype.removeListener,d.prototype.removeAllListeners=function(t){var n,i,r;if(void 0===(i=this.Kf))return this;if(void 0===i.removeListener)return 0===arguments.length?(this.Kf=k.create(null),this.jf=0):void 0!==i[t]&&(0==--this.jf?this.Kf=k.create(null):delete i[t]),this;if(0===arguments.length){var e,u=k.keys(i);for(r=0;r<u.length;++r)"removeListener"!==(e=u[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.Kf=k.create(null),this.jf=0,this}if("function"==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},d.prototype.listeners=function(t){return o(this,t,!0)},d.prototype.rawListeners=function(t){return o(this,t,!1)},d.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):a.call(t,n)},d.prototype.listenerCount=a,d.prototype.eventNames=function(){return this.jf>0?n(this.Kf):[]}},586:function(t,n,i){var r,e;!function(u){var s,o={VERSION:"1.6.1"},a={},c=function(t,n){return function(){return n.apply(t,arguments)}},h=function(){var t,n,i=arguments,r=i[0];for(n=1;n<i.length;n++)for(t in i[n])!(t in r)&&i[n].hasOwnProperty(t)&&(r[t]=i[n][t]);return r},f=function(t,n){return{value:t,name:n}};o.TRACE=f(1,"TRACE"),o.DEBUG=f(2,"DEBUG"),o.INFO=f(3,"INFO"),o.TIME=f(4,"TIME"),o.WARN=f(5,"WARN"),o.ERROR=f(8,"ERROR"),o.OFF=f(99,"OFF");var v=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};v.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var n=this.context.filterLevel;return t.value>=n.value},trace:function(){this.invoke(o.TRACE,arguments)},debug:function(){this.invoke(o.DEBUG,arguments)},info:function(){this.invoke(o.INFO,arguments)},warn:function(){this.invoke(o.WARN,arguments)},error:function(){this.invoke(o.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"end"])},invoke:function(t,n){s&&this.enabledFor(t)&&s(n,h({level:t},this.context))}};var l,d=new v({filterLevel:o.OFF});(l=o).enabledFor=c(d,d.enabledFor),l.trace=c(d,d.trace),l.debug=c(d,d.debug),l.time=c(d,d.time),l.timeEnd=c(d,d.timeEnd),l.info=c(d,d.info),l.warn=c(d,d.warn),l.error=c(d,d.error),l.log=l.info,o.setHandler=function(t){s=t},o.setLevel=function(t){for(var n in d.setLevel(t),a)a.hasOwnProperty(n)&&a[n].setLevel(t)},o.getLevel=function(){return d.getLevel()},o.get=function(t){return a[t]||(a[t]=new v(h({name:t},d.context)))},o.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,n){n.name&&t.unshift("["+n.name+"]")};var n={},i=function(t,n){Function.prototype.apply.call(t,console,n)};return("undefined"==typeof console?"undefined":W(console))>"u"?function(){}:function(r,e){r=Array.prototype.slice.call(r);var u,s=console.log;e.level===o.TIME?(u=(e.name?"["+e.name+"] ":"")+r[0],"start"===r[1]?console.time?console.time(u):n[u]=(new Date).getTime():console.timeEnd?console.timeEnd(u):i(s,[u+": "+((new Date).getTime()-n[u])+"ms"])):(e.level===o.WARN&&console.warn?s=console.warn:e.level===o.ERROR&&console.error?s=console.error:e.level===o.INFO&&console.info?s=console.info:e.level===o.DEBUG&&console.debug?s=console.debug:e.level===o.TRACE&&console.trace&&(s=console.trace),t.formatter(r,e),i(s,r))}},o.useDefaults=function(t){o.setLevel(t&&t.defaultLevel||o.DEBUG),o.setHandler(o.createDefaultHandler(t))},o.setDefaults=o.useDefaults,void 0===(e="function"==typeof(r=o)?r.call(n,i,n,t):r)||(t.exports=e)}()},156:function(t,n,i){var r=this&&this.Jf||(k.create?function(t,n,i,r){void 0===r&&(r=i);var e=k.getOwnPropertyDescriptor(n,i);e&&!("get"in e?!n.__esModule:e.writable||e.configurable)||(e={enumerable:!0,get:function(){return n[i]}}),k.defineProperty(t,r,e)}:function(t,n,i,r){void 0===r&&(r=i),t[r]=n[i]}),e=this&&this.$f||function(t,n){for(var i in t)"default"===i||k.prototype.hasOwnProperty.call(n,i)||r(n,t,i)},u=this&&this.t_||function(t){return t&&t.__esModule?t:{default:t}};k.defineProperty(n,"__esModule",{value:!0}),n.Logger=void 0;var s=i(586);k.defineProperty(n,"Logger",{enumerable:!0,get:function(){return u(s).default}}),e(i(284),n),e(i(280),n),e(i(738),n),e(i(767),n)},738:function(t,n){var i,r;k.defineProperty(n,"__esModule",{value:!0}),n.QualityLimitationReason=void 0,(r=i||(n.QualityLimitationReason=i={}))[r.none=0]="none",r[r.cpu=1]="cpu",r[r.bandwidth=2]="bandwidth",r[r.other=3]="other"},280:function(t,n){k.defineProperty(n,"__esModule",{value:!0})},767:function(t,n){k.defineProperty(n,"__esModule",{value:!0})},185:function(t,n){k.defineProperty(n,"__esModule",{value:!0}),n.calculatePacketsLostRatio=n.calculateRate=n.getMediaKind=void 0,n.getMediaKind=function(t){var n=t.kind||t.mediaType;return["audio","video"].includes(n)||"inbound-rtp"!==t.type||(n=t.id.toLocaleLowerCase().includes("video")?"video":"audio"),n},n.calculateRate=function(t,n,i,r){return i&&r?(n-r)/((t-i)/1e3):0},n.calculatePacketsLostRatio=function(t,n,i,r){return 0==n?0:(t-(null!=i?i:0))/(n-(null!=r?r:0))}},284:function(t,n,i){var r,e,u,s,o,a,c,h,f,v,l,d,g,m,y,b,A=this&&this.e_||function(t,n,i,r){return new(i||(i=ut))((function(e,u){function s(t){try{a(r.next(t))}catch(t){u(t)}}function o(t){try{a(r.throw(t))}catch(t){u(t)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,o)}a((r=r.apply(t,n||[])).next())}))},T=this&&this.i_||function(t,n,i,r,e){if("m"===r)throw new _("Private method is not writable");if("a"===r&&!e)throw new _("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!e:!n.has(t))throw new _("Cannot write private member to an object whose class did not declare it");return"a"===r?e.call(t,i):e?e.value=i:n.set(t,i),i},S=this&&this.s_||function(t,n,i,r){if("a"===i&&!r)throw new _("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!r:!n.has(t))throw new _("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(t):r?r.value:n.get(t)},E=this&&this.t_||function(t){return t&&t.__esModule?t:{default:t}};k.defineProperty(n,"__esModule",{value:!0}),n.WebRTCStats=void 0;var I=i(7),R=E(i(586)),C=i(738),N=i(185),x=function(t){function n(n){var i;return i=t.call(this)||this,r.add(i),e.set(i,void 0),u.set(i,void 0),s.set(i,void 0),o.set(i,null),a.set(i,void 0),c.set(i,null),i.start=function(){S(i,a,"f").info("WebRTC statistics collection is starting..."),T(i,c,null,"f"),T(i,o,w(S(i,h,"f"),S(i,u,"f")),"f")},i.stop=function(){S(i,o,"f")&&(p(S(i,o,"f")),T(i,o,null,"f"),S(i,a,"f").info("WebRTC statistics collection has stopped."))},h.set(i,(function(){return A(i,void 0,void 0,(function(){var t,n,i,u,o,h,f,v,g,w,p,_;return Ht(this,(function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),S(this,a,"f").trace("Requesting WebRTC statistics..."),[4,S(this,e,"f").call(this)];case 1:return t=A.sent(),n=(new Date).toISOString(),[3,3];case 2:return i=A.sent(),[2,(S(this,a,"f").error("Problem collecting the WebRTC statistics.",i),void this.emit("error","Problem collecting the WebRTC statistics - ".concat(i)))];case 3:u=Array.from(t.values()),o={timestamp:n,input:{audio:[],video:[]},output:{audio:[],video:[]}},S(this,s,"f")&&(o.rawStats=t),h=0,A.label=4;case 4:if(!(h<k.keys(u).length))return[3,19];switch((f=u[h]).type){case"outbound-rtp":return[3,5];case"inbound-rtp":return[3,11];case"candidate-pair":return[3,17]}return[3,18];case 5:return v=f,"audio"!==(g=(0,N.getMediaKind)(v))?[3,7]:[4,S(this,r,"m",l).call(this,t,v,o)];case 6:return A.sent(),[3,10];case 7:return"video"===g?[4,S(this,r,"m",d).call(this,t,v,o)]:[3,9];case 8:A.sent(),A.label=9;case 9:A.label=10;case 10:return[3,18];case 11:return w=f,"audio"!==(p=(0,N.getMediaKind)(w))?[3,13]:[4,S(this,r,"m",m).call(this,t,w,o)];case 12:return A.sent(),[3,16];case 13:return"video"===p?[4,S(this,r,"m",y).call(this,t,w,o)]:[3,15];case 14:A.sent(),A.label=15;case 15:A.label=16;case 16:return[3,18];case 17:(_=f).nominated&&S(this,r,"m",b).call(this,_,o),A.label=18;case 18:return h++,[3,4];case 19:return T(this,c,o,"f"),this.emit("stats",o),[2]}}))}))})),T(i,a,R.default.get("WebRTCStats"),"f"),T(i,e,n.getStats,"f"),T(i,u,n.getStatsInterval||1e3,"f"),T(i,s,!!n.includeRawStats,"f"),i}return Rt(n,t),n}(I.EventEmitter);n.WebRTCStats=x,e=new WeakMap,u=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,h=new WeakMap,r=new WeakSet,f=function(t,n){if(n){var i=t.get(n);if(i)return{mimeType:i.mimeType}}return{}},v=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o,a,c,h;return Ht(this,(function(v){return a=(0,N.calculateRate)(n.timestamp,n.bytesSent,null==i?void 0:i.timestamp,null==i?void 0:i.totalBytesSent),c=(0,N.calculateRate)(n.timestamp,n.packetsSent,null==i?void 0:i.timestamp,null==i?void 0:i.totalPacketsSent),h=S(this,r,"m",f).call(this,t,n.codecId),[2,k.assign({id:n.id,timestamp:n.timestamp,mid:n.mid,totalBytesSent:n.bytesSent,bytesSentDelta:n.bytesSent-(null!==(e=null==i?void 0:i.totalBytesSent)&&void 0!==e?e:0),totalPacketsSent:n.packetsSent,packetsSentDelta:n.packetsSent-(null!==(u=null==i?void 0:i.totalPacketsSent)&&void 0!==u?u:0),bitrate:a,packetRate:c,targetBitrate:n.targetBitrate,retransmittedPacketsSent:n.retransmittedPacketsSent,retransmittedPacketsSentDelta:n.retransmittedPacketsSent-(null!==(s=null==i?void 0:i.retransmittedPacketsSent)&&void 0!==s?s:0),retransmittedBytesSent:n.retransmittedBytesSent,retransmittedBytesSentDelta:n.retransmittedBytesSent-(null!==(o=null==i?void 0:i.retransmittedBytesSent)&&void 0!==o?o:0)},h)]}))}))},l=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.output.audio.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",v).call(this,t,n,u)];case 1:return s=a.sent(),o=k.assign({},s),i.output.audio.push(o),[2]}}))}))},d=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o,a;return Ht(this,(function(h){switch(h.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.output.video.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",v).call(this,t,n,u)];case 1:return s=h.sent(),o=C.QualityLimitationReason.none,n.qualityLimitationReason&&(o=n.qualityLimitationReason),a=k.assign(k.assign({},s),{frameWidth:n.frameWidth,frameHeight:n.frameHeight,framesPerSecond:n.framesPerSecond,framesSent:n.framesSent,qualityLimitationReason:o,qualityLimitationDurations:n.qualityLimitationDurations}),i.output.video.push(a),[2]}}))}))},g=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o,a,c,h;return Ht(this,(function(v){return s=(0,N.calculateRate)(n.timestamp,n.bytesReceived,null==i?void 0:i.timestamp,null==i?void 0:i.totalBytesReceived),o=(0,N.calculateRate)(n.timestamp,n.packetsReceived,null==i?void 0:i.timestamp,null==i?void 0:i.totalPacketsReceived),a=(0,N.calculatePacketsLostRatio)(n.packetsReceived,n.packetsLost,null==i?void 0:i.totalPacketsReceived,null==i?void 0:i.totalPacketsLost),c=(null!==(e=n.packetsLost)&&void 0!==e?e:0)-(null!==(u=null==i?void 0:i.totalPacketsLost)&&void 0!==u?u:0),h=S(this,r,"m",f).call(this,t,n.codecId),[2,k.assign({id:n.id,timestamp:n.timestamp,mid:n.mid,trackIdentifier:n.trackIdentifier,jitter:n.jitter,jitterBufferDelay:n.jitterBufferDelay,jitterBufferEmittedCount:n.jitterBufferEmittedCount,totalBytesReceived:n.bytesReceived,totalPacketsReceived:n.packetsReceived,totalPacketsLost:n.packetsLost,bitrate:s,packetRate:o,packetLossRatio:a,packetLossDelta:c},h)]}))}))},m=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.input.audio.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",g).call(this,t,n,u)];case 1:return s=o.sent(),i.input.audio.push(s),[2]}}))}))},y=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.input.video.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",g).call(this,t,n,u)];case 1:return s=a.sent(),o=k.assign(k.assign({},s),{keyFramesDecoded:n.keyFramesDecoded,frameHeight:n.frameHeight,frameWidth:n.frameWidth,framesDecoded:n.framesDecoded,framesDropped:n.framesDropped,framesPerSecond:n.framesPerSecond,framesReceived:n.framesReceived}),i.input.video.push(o),[2]}}))}))},b=function(t,n){n.totalRoundTripTime=t.totalRoundTripTime,n.currentRoundTripTime=t.currentRoundTripTime,n.responsesReceived=t.responsesReceived,n.availableOutgoingBitrate=t.availableOutgoingBitrate,n.availableIncomingBitrate=t.availableIncomingBitrate}}},r={},function t(n){var e=r[n];if(void 0!==e)return e.exports;var u=r[n]={exports:{}};return i[n].call(u.exports,u,u.exports,t),u.exports}(156))}(Vt);var Wt=Vt.exports,jt=gt.get("PeerConnectionStats"),Xt="stats",Gt=function(t){function n(n,i){var r;return void 0===i&&(i={statsIntervalMs:1e3,autoInitStats:!0}),(r=t.call(this)||this).peer=n,r.collection=null,r.initialized=!1,i.autoInitStats&&r.init(i.statsIntervalMs),r}Rt(n,t);var i=n.prototype;return i.init=function(t){var n=this;if(this.initialized)jt.warn("PeerConnectionStats.init() has already been called. Automatic initialization occurs when the PeerConnectionStats object is constructed.");else{jt.info("Initializing peer connection stats");var i=this.peer;try{this.collection=new Wt.WebRTCStats({getStatsInterval:t,getStats:function(){return i.getStats()},includeRawStats:!0}),this.collection.on("stats",(function(t){var i=function(t){var n=t,i=(n.input,n.output,n.rawStats,C(n,["input","output","rawStats"]));return b(m({},i),{audio:{inbounds:t.input.audio.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return m({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)})),outbounds:t.output.audio.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return m({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)}))},video:{inbounds:t.input.video.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return m({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)})),outbounds:t.output.video.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return m({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)}))},raw:t.rawStats})}(t);it(i),n.emit(Xt,i)})),this.collection.start(),this.initialized=!0}catch(t){jt.error(t)}}},i.parseStats=function(t){return jt.warn("The parseStats method is deprecated and will be removed in future releases."),null},i.stop=function(){jt.info("Stopping peer connection stats"),this.collection.stop()},n}(Mt),Yt={},Kt={},qt={},Jt={exports:{}},Qt=Jt.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return null!=t.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return null!=t.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return null!=t.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var n="candidate:%s %d %s %d %s %d typ %s";return n+=null!=t.raddr?" raddr %s rport %d":"%v%v",n+=null!=t.tcptype?" tcptype %s":"%v",null!=t.generation&&(n+=" generation %d"),n+=null!=t["network-id"]?" network-id %d":"%v",n+=null!=t["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var n="ssrc:%d";return null!=t.attribute&&(n+=" %s",null!=t.value&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return null!=t.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(null!=t.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var n="mediaclk:";return n+=null!=t.id?"id=%s %s":"%v%s",n+=null!=t.mediaClockValue?"=%s":"",n+=null!=t.rateNumerator?" rate=%s":"",n+=null!=t.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};k.keys(Qt).forEach((function(t){Qt[t].forEach((function(t){t.reg||(t.reg=/(.*)/),t.format||(t.format="%s")}))}));var $t=Jt.exports;!function(t){var n=function(t){return String(Number(t))===t?Number(t):t},i=function(t,i,r){var e=t.name&&t.names;t.push&&!i[t.push]?i[t.push]=[]:e&&!i[t.name]&&(i[t.name]={});var u=t.push?{}:e?i[t.name]:i;(function(t,i,r,e){if(e&&!r)i[e]=n(t[1]);else for(var u=0;u<r.length;u+=1)null!=t[u+1]&&(i[r[u]]=n(t[u+1]))})(r.match(t.reg),u,t.names,t.name),t.push&&i[t.push].push(u)},r=$t,e=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(t){var n={},u=[],s=n;return t.split(/(\r\n|\r|\n)/).filter(e).forEach((function(t){var n=t[0],e=t.slice(2);"m"===n&&(u.push({rtp:[],fmtp:[]}),s=u[u.length-1]);for(var o=0;o<(r[n]||[]).length;o+=1){var a=r[n][o];if(a.reg.test(e))return i(a,s,e)}})),n.media=u,n};var u=function(t,i){var r=i.split(/=(.+)/,2);return 2===r.length?t[r[0]]=n(r[1]):1===r.length&&i.length>1&&(t[r[0]]=void 0),t};t.parseParams=function(t){return t.split(/;\s?/).reduce(u,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(t){return t.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(t){for(var i=[],r=t.split(" ").map(n),e=0;e<r.length;e+=3)i.push({component:r[e],ip:r[e+1],port:r[e+2]});return i},t.parseImageAttributes=function(t){return t.split(" ").map((function(t){return t.substring(1,t.length-1).split(",").reduce(u,{})}))},t.parseSimulcastStreamList=function(t){return t.split(";").map((function(t){return t.split(",").map((function(t){var i,r=!1;return"~"!==t[0]?i=n(t):(i=n(t.substring(1,t.length)),r=!0),{scid:i,paused:r}}))}))}}(qt);var tn=$t,rn=/%[sdv%]/g,en=function(t){var n=1,i=arguments,r=i.length;return t.replace(rn,(function(t){if(n>=r)return t;var e=i[n];switch(n+=1,t){case"%%":return"%";case"%s":return String(e);case"%d":return Number(e);case"%v":return""}}))},un=function(t,n,i){var r=[t+"="+(n.format instanceof Function?n.format(n.push?i:i[n.name]):n.format)];if(n.names)for(var e=0;e<n.names.length;e+=1){var u=n.names[e];n.name?r.push(i[n.name][u]):r.push(i[n.names[e]])}else r.push(i[n.name]);return en.apply(null,r)},on=["v","o","s","i","u","e","p","c","b","t","r","z","a"],an=["i","c","b","a"],cn=qt,hn=function(t,n){n=n||{},null==t.version&&(t.version=0),null==t.name&&(t.name=" "),t.media.forEach((function(t){null==t.payloads&&(t.payloads="")}));var i=n.outerOrder||on,r=n.innerOrder||an,e=[];return i.forEach((function(n){tn[n].forEach((function(i){i.name in t&&null!=t[i.name]?e.push(un(n,i,t)):i.push in t&&null!=t[i.push]&&t[i.push].forEach((function(t){e.push(un(n,i,t))}))}))})),t.media.forEach((function(t){e.push(un("m",tn.m[0],t)),r.forEach((function(n){tn[n].forEach((function(i){i.name in t&&null!=t[i.name]?e.push(un(n,i,t)):i.push in t&&null!=t[i.push]&&t[i.push].forEach((function(t){e.push(un(n,i,t))}))}))}))})),e.join("\r\n")+"\r\n"};Kt.write=hn,Kt.parse=cn.parse,Kt.parseParams=cn.parseParams,Kt.parseFmtpConfig=cn.parseFmtpConfig,Kt.parsePayloads=cn.parsePayloads,Kt.parseRemoteCandidates=cn.parseRemoteCandidates,Kt.parseImageAttributes=cn.parseImageAttributes,Kt.parseSimulcastStreamList=cn.parseSimulcastStreamList;var vn=function(){function t(t,n,i,r,e,u,s,o,a){this.foundation=t,this.componentId=n,this.transport=i,this.priority=r,this.address=e,this.port=u,this.type=s,this.relAddr=o,this.relPort=a}var n=t.prototype;return n.equals=function(t){return t.foundation===this.foundation&&t.componentId===this.componentId&&t.transport===this.transport&&t.priority===this.priority&&t.address===this.address&&t.port===this.port&&t.type===this.type&&t.relAddr===this.relAddr&&t.relPort===this.relPort},n.clone=function(){return new t(this.foundation,this.componentId,this.transport,this.priority,this.address,this.port,this.type,this.relAddr,this.relPort)},n.plain=function(){var t={foundation:this.foundation,componentId:this.componentId,transport:this.transport,priority:this.priority,address:this.address,port:this.port,type:this.type};return this.relAddr&&(t.relAddr=this.relAddr),this.relPort&&(t.relPort=this.relPort),t},n.getFoundation=function(){return this.foundation},n.getComponentId=function(){return this.componentId},n.getTransport=function(){return this.transport},n.getPriority=function(){return this.priority},n.getAddress=function(){return this.address},n.getPort=function(){return this.port},n.getType=function(){return this.type},n.getRelAddr=function(){return this.relAddr},n.getRelPort=function(){return this.relPort},t}();vn.expand=function(t){return"CandidateInfo"===t.constructor.name?t:new vn(t.foundation,t.componentId,t.transport,t.priority,t.address,t.port,t.type,t.relAddr,t.relPort)},vn.clone=function(t){return"CandidateInfo"===t.constructor.name?t.clone():vn.expand(t)};var ln=vn,dn=function(){function t(t,n){this.id=t,this.params=n||[]}var n=t.prototype;return n.clone=function(){return new t(this.id,this.params)},n.plain=function(){return this.params.length?{id:this.id,params:this.params}:{id:this.id}},n.getId=function(){return this.id},n.getParams=function(){return this.params},t}();dn.expand=function(t){return"RTCPFeedbackInfo"===t.constructor.name?t:new dn(t.id,t.params)},dn.clone=function(t){return"RTCPFeedbackInfo"===t.constructor.name?t.clone():dn.expand(t)};var gn=dn,wn=gn,pn=function(){function t(t,n,i){this.codec=t,this.type=n,this.params={},this.rtcpfbs=new Set,i&&this.addParams(i)}var n=t.prototype;return n.clone=function(){var n=new t(this.codec,this.type,this.params);this.hasRTX()&&n.setRTX(this.getRTX());for(var i=0,r=this.rtcpfbs;i<r.length;i++){var e=r[i];n.addRTCPFeedback(e.clone())}return this.hasChannels()&&n.setChannels(this.getChannels()),n},n.plain=function(){var t={codec:this.codec,type:this.type};this.rtx&&(t.rtx=this.rtx),this.channels&&(t.channels=this.channels),k.keys(this.params).length&&(t.params=this.params);for(var n=0,i=this.rtcpfbs;n<i.length;n++){var r=i[n];t.rtcpfbs||(t.rtcpfbs=[]),t.rtcpfbs.push(r.plain())}return t},n.setRTX=function(t){this.rtx=t},n.getType=function(){return this.type},n.setType=function(t){this.type=t},n.getCodec=function(){return this.codec},n.getParams=function(){return this.params},n.addParams=function(t){for(var n in t)this.params[n]=t[n]},n.addParam=function(t,n){this.params[t]=n},n.hasParam=function(t){return k.hasOwnProperty.call(this.params,t)},n.getParam=function(t,n){if(void 0===n&&(n=void 0),this.hasParam(t))return this.params[t];if(void 0===n)throw new y("param ".concat(t," not found and no default value provided"));return""+n},n.hasRTX=function(){return this.rtx},n.getRTX=function(){return this.rtx},n.hasChannels=function(){return this.channels},n.getChannels=function(){return this.channels},n.setChannels=function(t){this.channels=t},n.addRTCPFeedback=function(t){this.rtcpfbs.add(t)},n.getRTCPFeedbacks=function(){return this.rtcpfbs},t}();pn.expand=function(t){if("CodecInfo"===t.constructor.name)return t;var n=new pn(t.codec,t.type,t.params);t.rtx&&n.setRTX(t.rtx),t.channels&&n.setChannels(t.channels);for(var i=0,r=t.rtcpfbs||[];i<r.length;i++){var e=r[i],u=wn.expand(e);n.addRTCPFeedback(u)}return n},pn.clone=function(t){return"CodecInfo"===t.constructor.name?t.clone():pn.expand(t)},pn.MapFromNames=function(t,n,i){for(var r,e=new Map,u=96,s=0;s<t.length;s++){var o=void 0,a=t[s].split(";"),c=a.shift().toLowerCase().trim();o="pcmu"===c?0:"pcma"===c?8:++u;var h=new pn(c,o);"opus"===c?h.setChannels(2):"multiopus"===c&&h.setChannels(6),n&&"ulpfec"!==c&&"flexfec-03"!==c&&"red"!==c&&h.setRTX(++u);for(var f=0,v=i||[];f<v.length;f++){var l=v[f];h.addRTCPFeedback(new wn(l.id,l.params))}for(var d=0;d<a.length;d++){var g=a[d].split("=");h.addParam(g[0].trim(),null===(r=g[1])||void 0===r?void 0:r.trim())}e.set(o,h)}return e};var yn=pn,_n=function t(){var n=this;if(!(this instanceof t))return new(Function.prototype.bind.apply(t,[null].concat(Array.prototype.slice.call(arguments))));Array.from(arguments).forEach((function(t){n[t]=i("n_"+t)}))},bn=_n("ACTIVE","PASSIVE","ACTPASS","INACTIVE");bn.byValue=function(t){switch(t){case bn.ACTIVE:case bn.PASSIVE:case bn.ACTPASS:case bn.INACTIVE:return t}return bn[t.toUpperCase()]},bn.toString=function(t){switch(t){case bn.ACTIVE:return"active";case bn.PASSIVE:return"passive";case bn.ACTPASS:return"actpass";case bn.INACTIVE:return"inactive"}},bn.reverse=function(t,n){switch(t){case bn.ACTIVE:return bn.PASSIVE;case bn.PASSIVE:return bn.ACTIVE;case bn.ACTPASS:return n?bn.ACTIVE:bn.PASSIVE;case bn.INACTIVE:return bn.INACTIVE}};var kn=bn,An=kn,Tn=function(){function t(t,n,i){this.setup=t,this.hash=n,this.fingerprint=i}var n=t.prototype;return n.clone=function(){return new t(this.setup,this.hash,this.fingerprint)},n.plain=function(){return{setup:An.toString(this.setup),hash:this.hash,fingerprint:this.fingerprint}},n.getFingerprint=function(){return this.fingerprint},n.getHash=function(){return this.hash},n.getSetup=function(){return this.setup},n.setSetup=function(t){this.setup=t},t}();Tn.expand=function(t){return"DTLSInfo"===t.constructor.name?t:new Tn(t.setup?An.byValue(t.setup):An.ACTPASS,t.hash,t.fingerprint)},Tn.clone=function(t){return"DTLSInfo"===t.constructor.name?t.clone():Tn.expand(t)};var Sn=Tn,En=function(){function t(t,n,i,r){this.tag=t,this.suite=n,this.keyParams=i,this.sessionParams=r}var n=t.prototype;return n.clone=function(){return new t(this.tag,this.suite,this.keyParams,this.sessionParams)},n.plain=function(){return{tag:this.tag,suite:this.suite,keyParams:this.keyParams,sessionParams:this.sessionParams}},n.getSessionParams=function(){return this.sessionParams},n.getKeyParams=function(){return this.keyParams},n.getSuite=function(){return this.suite},n.getTag=function(){return this.tag},t}();En.expand=function(t){return"CryptoInfo"===t.constructor.name?t:new En(t.tag,t.suite,t.keyParams,t.sessionParams)},En.clone=function(t){return"CryptoInfo"===t.constructor.name?t.clone():En.expand(t)};for(var In=En,Rn={exports:{}},Cn={exports:{}},Nn={},xn={byteLength:function(t){var n=Ln(t),i=n[0],r=n[1];return 3*(i+r)/4-r},toByteArray:function(t){var n,i,r=Ln(t),e=r[0],u=r[1],s=new Mn(function(t,n,i){return 3*(n+i)/4-i}(0,e,u)),o=0,a=u>0?e-4:e;for(i=0;i<a;i+=4)n=Pn[t.charCodeAt(i)]<<18|Pn[t.charCodeAt(i+1)]<<12|Pn[t.charCodeAt(i+2)]<<6|Pn[t.charCodeAt(i+3)],s[o++]=n>>16&255,s[o++]=n>>8&255,s[o++]=255&n;return 2===u&&(n=Pn[t.charCodeAt(i)]<<2|Pn[t.charCodeAt(i+1)]>>4,s[o++]=255&n),1===u&&(n=Pn[t.charCodeAt(i)]<<10|Pn[t.charCodeAt(i+1)]<<4|Pn[t.charCodeAt(i+2)]>>2,s[o++]=n>>8&255,s[o++]=255&n),s},fromByteArray:function(t){for(var n,i=t.length,r=i%3,e=[],u=16383,s=0,o=i-r;s<o;s+=u)e.push(Vn(t,s,s+u>o?o:s+u));return 1===r?(n=t[i-1],e.push(Dn[n>>2]+Dn[n<<4&63]+"==")):2===r&&(n=(t[i-2]<<8)+t[i-1],e.push(Dn[n>>10]+Dn[n>>4&63]+Dn[n<<2&63]+"=")),e.join("")}},Dn=[],Pn=[],Mn=(void 0===I?"undefined":W(I))<"u"?I:Array,Bn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",On=0;On<64;++On)Dn[On]=Bn[On],Pn[Bn.charCodeAt(On)]=On;function Ln(t){var n=t.length;if(n%4>0)throw new y("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=n),[i,i===n?0:4-i%4]}function Fn(t){return Dn[t>>18&63]+Dn[t>>12&63]+Dn[t>>6&63]+Dn[63&t]}function Vn(t,n,i){for(var r,e=[],u=n;u<i;u+=3)r=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),e.push(Fn(r));return e.join("")}Pn[45]=62,Pn[95]=63;var Un={read:function(t,n,i,r,e){var u,s,o=8*e-r-1,a=(1<<o)-1,c=a>>1,h=-7,f=i?e-1:0,v=i?-1:1,l=t[n+f];for(f+=v,u=l&(1<<-h)-1,l>>=-h,h+=o;h>0;u=256*u+t[n+f],f+=v,h-=8);for(s=u&(1<<-h)-1,u>>=-h,h+=r;h>0;s=256*s+t[n+f],f+=v,h-=8);if(0===u)u=1-c;else{if(u===a)return s?NaN:1/0*(l?-1:1);s+=A.pow(2,r),u-=c}return(l?-1:1)*s*A.pow(2,u-r)},write:function(t,n,i,r,e,u){var s,o,a,c=8*u-e-1,h=(1<<c)-1,f=h>>1,v=23===e?A.pow(2,-24)-A.pow(2,-77):0,l=r?0:u-1,d=r?1:-1,g=n<0||0===n&&1/n<0?1:0;for(n=A.abs(n),E(n)||n===1/0?(o=E(n)?1:0,s=h):(s=A.floor(A.log(n)/A.LN2),n*(a=A.pow(2,-s))<1&&(s--,a*=2),(n+=s+f>=1?v/a:v*A.pow(2,1-f))*a>=2&&(s++,a/=2),s+f>=h?(o=0,s=h):s+f>=1?(o=(n*a-1)*A.pow(2,e),s+=f):(o=n*A.pow(2,f-1)*A.pow(2,e),s=0));e>=8;t[i+l]=255&o,l+=d,o/=256,e-=8);for(s=s<<e|o,c+=e;c>0;t[i+l]=255&s,l+=d,s/=256,c-=8);t[i+l-d]|=128*g}};(function(t){var r=xn,e=Un,u="function"==typeof n&&"function"==typeof i?i("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},t.INSPECT_MAX_BYTES=50;var s=2147483647;function o(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=new I(t);return k.setPrototypeOf(n,a.prototype),n}function a(t,n,i){if("number"==typeof t){if("string"==typeof n)throw new _('The "string" argument must be of type string. Received type number');return f(t)}return c(t,n,i)}function c(t,i,r){if("string"==typeof t)return function(t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!a.isEncoding(n))throw new _("Unknown encoding: "+n);var i=0|g(t,n),r=o(i),e=r.write(t,n);return e!==i&&(r=r.slice(0,e)),r}(t,i);if(ArrayBuffer.isView(t))return function(t){if(it(t,I)){var n=new I(t);return l(n.buffer,n.byteOffset,n.byteLength)}return v(t)}(t);if(null==t)throw new _("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":W(t)));if(it(t,ArrayBuffer)||t&&it(t.buffer,ArrayBuffer)||("undefined"==typeof SharedArrayBuffer?"undefined":W(SharedArrayBuffer))<"u"&&(it(t,SharedArrayBuffer)||t&&it(t.buffer,SharedArrayBuffer)))return l(t,i,r);if("number"==typeof t)throw new _('The "value" argument must not be of type number. Received type number');var e=t.valueOf&&t.valueOf();if(null!=e&&e!==t)return a.from(e,i,r);var u=function(t){if(a.isBuffer(t)){var n=0|d(t.length),i=o(n);return 0===i.length||t.copy(i,0,0,n),i}return void 0!==t.length?"number"!=typeof t.length||rt(t.length)?o(0):v(t):"Buffer"===t.type&&Array.isArray(t.data)?v(t.data):void 0}(t);if(u)return u;if((void 0===n?"undefined":W(n))<"u"&&null!=n.toPrimitive&&"function"==typeof t[n.toPrimitive])return a.from(t[n.toPrimitive]("string"),i,r);throw new _("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":W(t)))}function h(t){if("number"!=typeof t)throw new _('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return h(t),o(t<0?0:0|d(t))}function v(t){for(var n=t.length<0?0:0|d(t.length),i=o(n),r=0;r<n;r+=1)i[r]=255&t[r];return i}function l(t,n,i){if(n<0||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(i||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===n&&void 0===i?new I(t):void 0===i?new I(t,n):new I(t,n,i),k.setPrototypeOf(r,a.prototype),r}function d(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,n){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||it(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new _('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===t?"undefined":W(t)));var i=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var e=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return tt(t).length;default:if(e)return r?-1:$(t).length;n=(""+n).toLowerCase(),e=!0}}function m(t,n,i){var r=!1;if((void 0===n||n<0)&&(n=0),n>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0)||(i>>>=0)<=(n>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,n,i);case"utf8":case"utf-8":return D(this,n,i);case"ascii":return M(this,n,i);case"latin1":case"binary":return B(this,n,i);case"base64":return x(this,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,n,i);default:if(r)throw new _("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function w(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function p(t,n,i,r,e){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),rt(i=+i)&&(i=e?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(e)return-1;i=t.length-1}else if(i<0){if(!e)return-1;i=0}if("string"==typeof n&&(n=a.from(n,r)),a.isBuffer(n))return 0===n.length?-1:b(t,n,i,r,e);if("number"==typeof n)return n&=255,"function"==typeof I.prototype.indexOf?e?I.prototype.indexOf.call(t,n,i):I.prototype.lastIndexOf.call(t,n,i):b(t,[n],i,r,e);throw new _("val must be string, number or Buffer")}function b(t,n,i,r,e){var u,s=1,o=t.length,a=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||n.length<2)return-1;s=2,o/=2,a/=2,i/=2}function c(t,n){return 1===s?t[n]:t.readUInt16BE(n*s)}if(e){var h=-1;for(u=i;u<o;u++)if(c(t,u)===c(n,-1===h?0:u-h)){if(-1===h&&(h=u),u-h+1===a)return h*s}else-1!==h&&(u-=u-h),h=-1}else for(i+a>o&&(i=o-a),u=i;u>=0;u--){for(var f=!0,v=0;v<a;v++)if(c(t,u+v)!==c(n,v)){f=!1;break}if(f)return u}return-1}function S(t,n,i,r){i=Number(i)||0;var e=t.length-i;r?(r=Number(r))>e&&(r=e):r=e;var u,s=n.length;for(r>s/2&&(r=s/2),u=0;u<r;++u){var o=T(n.substr(2*u,2),16);if(rt(o))return u;t[i+u]=o}return u}function E(t,n,i,r){return nt($(n,t.length-i),t,i,r)}function R(t,n,i,r){return nt(function(t){for(var n=[],i=0;i<t.length;++i)n.push(255&t.charCodeAt(i));return n}(n),t,i,r)}function C(t,n,i,r){return nt(tt(n),t,i,r)}function N(t,n,i,r){return nt(function(t,n){for(var i,r,e,u=[],s=0;s<t.length&&!((n-=2)<0);++s)i=t.charCodeAt(s),r=i>>8,e=i%256,u.push(e),u.push(r);return u}(n,t.length-i),t,i,r)}function x(t,n,i){return 0===n&&i===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(n,i))}function D(t,n,i){i=A.min(t.length,i);for(var r=[],e=n;e<i;){var u=t[e],s=null,o=u>239?4:u>223?3:u>191?2:1;if(e+o<=i){var a=void 0,c=void 0,h=void 0,f=void 0;switch(o){case 1:u<128&&(s=u);break;case 2:128==(192&(a=t[e+1]))&&(f=(31&u)<<6|63&a)>127&&(s=f);break;case 3:a=t[e+1],c=t[e+2],128==(192&a)&&128==(192&c)&&(f=(15&u)<<12|(63&a)<<6|63&c)>2047&&(f<55296||f>57343)&&(s=f);break;case 4:a=t[e+1],c=t[e+2],h=t[e+3],128==(192&a)&&128==(192&c)&&128==(192&h)&&(f=(15&u)<<18|(63&a)<<12|(63&c)<<6|63&h)>65535&&f<1114112&&(s=f)}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),e+=o}return function(t){var n=t.length;if(n<=P)return String.fromCharCode.apply(String,t);for(var i="",r=0;r<n;)i+=String.fromCharCode.apply(String,t.slice(r,r+=P));return i}(r)}t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=function(){try{var t=new I(1),n={foo:function(){return 42}};return k.setPrototypeOf(n,I.prototype),k.setPrototypeOf(t,n),42===t.foo()}catch(t){return!1}}(),!a.TYPED_ARRAY_SUPPORT&&("undefined"==typeof console?"undefined":W(console))<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),k.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),k.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,n,i){return c(t,n,i)},k.setPrototypeOf(a.prototype,I.prototype),k.setPrototypeOf(a,I),a.alloc=function(t,n,i){return function(t,n,i){return h(t),t<=0?o(t):void 0!==n?"string"==typeof i?o(t).fill(n,i):o(t).fill(n):o(t)}(t,n,i)},a.allocUnsafe=function(t){return f(t)},a.allocUnsafeSlow=function(t){return f(t)},a.isBuffer=function(t){return null!=t&&!0===t.r_&&t!==a.prototype},a.compare=function(t,n){if(it(t,I)&&(t=a.from(t,t.offset,t.byteLength)),it(n,I)&&(n=a.from(n,n.offset,n.byteLength)),!a.isBuffer(t)||!a.isBuffer(n))throw new _('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var i=t.length,r=n.length,e=0,u=A.min(i,r);e<u;++e)if(t[e]!==n[e]){i=t[e],r=n[e];break}return i<r?-1:r<i?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,n){if(!Array.isArray(t))throw new _('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var i;if(void 0===n)for(n=0,i=0;i<t.length;++i)n+=t[i].length;var r=a.allocUnsafe(n),e=0;for(i=0;i<t.length;++i){var u=t[i];if(it(u,I))e+u.length>r.length?(a.isBuffer(u)||(u=a.from(u)),u.copy(r,e)):I.prototype.set.call(r,u,e);else{if(!a.isBuffer(u))throw new _('"list" argument must be an Array of Buffers');u.copy(r,e)}e+=u.length}return r},a.byteLength=g,a.prototype.r_=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)w(this,n,n+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)w(this,n,n+3),w(this,n+1,n+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)w(this,n,n+7),w(this,n+1,n+6),w(this,n+2,n+5),w(this,n+3,n+4);return this},a.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?D(this,0,t):m.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new _("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var n="",i=t.INSPECT_MAX_BYTES;return n=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(n+=" ... "),"<Buffer "+n+">"},u&&(a.prototype[u]=a.prototype.inspect),a.prototype.compare=function(t,n,i,r,e){if(it(t,I)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new _('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(void 0===t?"undefined":W(t)));if(void 0===n&&(n=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===e&&(e=this.length),n<0||i>t.length||r<0||e>this.length)throw new RangeError("out of range index");if(r>=e&&n>=i)return 0;if(r>=e)return-1;if(n>=i)return 1;if(this===t)return 0;for(var u=(e>>>=0)-(r>>>=0),s=(i>>>=0)-(n>>>=0),o=A.min(u,s),c=this.slice(r,e),h=t.slice(n,i),f=0;f<o;++f)if(c[f]!==h[f]){u=c[f],s=h[f];break}return u<s?-1:s<u?1:0},a.prototype.includes=function(t,n,i){return-1!==this.indexOf(t,n,i)},a.prototype.indexOf=function(t,n,i){return p(this,t,n,i,!0)},a.prototype.lastIndexOf=function(t,n,i){return p(this,t,n,i,!1)},a.prototype.write=function(t,n,i,r){if(void 0===n)r="utf8",i=this.length,n=0;else if(void 0===i&&"string"==typeof n)r=n,i=this.length,n=0;else{if(!isFinite(n))throw new y("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var e=this.length-n;if((void 0===i||i>e)&&(i=e),t.length>0&&(i<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var u=!1;;)switch(r){case"hex":return S(this,t,n,i);case"utf8":case"utf-8":return E(this,t,n,i);case"ascii":case"latin1":case"binary":return R(this,t,n,i);case"base64":return C(this,t,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n,i);default:if(u)throw new _("Unknown encoding: "+r);r=(""+r).toLowerCase(),u=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.o_||this,0)}};var P=4096;function M(t,n,i){var r="";i=A.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(127&t[e]);return r}function B(t,n,i){var r="";i=A.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(t[e]);return r}function O(t,n,i){var r=t.length;(!n||n<0)&&(n=0),(!i||i<0||i>r)&&(i=r);for(var e="",u=n;u<i;++u)e+=et[t[u]];return e}function L(t,n,i){for(var r=t.slice(n,i),e="",u=0;u<r.length-1;u+=2)e+=String.fromCharCode(r[u]+256*r[u+1]);return e}function F(t,n,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+n>i)throw new RangeError("Trying to access beyond buffer length")}function V(t,n,i,r,e,u){if(!a.isBuffer(t))throw new _('"buffer" argument must be a Buffer instance');if(n>e||n<u)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function U(t,n,i,r,e){K(n,r,e,t,i,7);var u=Number(n&BigInt(4294967295));t[i++]=u,u>>=8,t[i++]=u,u>>=8,t[i++]=u,u>>=8,t[i++]=u;var s=Number(n>>BigInt(32)&BigInt(4294967295));return t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,i}function j(t,n,i,r,e){K(n,r,e,t,i,7);var u=Number(n&BigInt(4294967295));t[i+7]=u,u>>=8,t[i+6]=u,u>>=8,t[i+5]=u,u>>=8,t[i+4]=u;var s=Number(n>>BigInt(32)&BigInt(4294967295));return t[i+3]=s,s>>=8,t[i+2]=s,s>>=8,t[i+1]=s,s>>=8,t[i]=s,i+8}function Z(t,n,i,r,e,u){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function X(t,n,i,r,u){return n=+n,i>>>=0,u||Z(t,0,i,4),e.write(t,n,i,r,23,4),i+4}function G(t,n,i,r,u){return n=+n,i>>>=0,u||Z(t,0,i,8),e.write(t,n,i,r,52,8),i+8}a.prototype.slice=function(t,n){var i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(n=void 0===n?i:~~n)<0?(n+=i)<0&&(n=0):n>i&&(n=i),n<t&&(n=t);var r=this.subarray(t,n);return k.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(t,n,i){t>>>=0,n>>>=0,i||F(t,n,this.length);for(var r=this[t],e=1,u=0;++u<n&&(e*=256);)r+=this[t+u]*e;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(t,n,i){t>>>=0,n>>>=0,i||F(t,n,this.length);for(var r=this[t+--n],e=1;n>0&&(e*=256);)r+=this[t+--n]*e;return r},a.prototype.readUint8=a.prototype.readUInt8=function(t,n){return t>>>=0,n||F(t,1,this.length),this[t]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(t,n){return t>>>=0,n||F(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(t,n){return t>>>=0,n||F(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(t,n){return t>>>=0,n||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(t,n){return t>>>=0,n||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readBigUInt64LE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=n+this[++t]*A.pow(2,8)+this[++t]*A.pow(2,16)+this[++t]*A.pow(2,24),e=this[++t]+this[++t]*A.pow(2,8)+this[++t]*A.pow(2,16)+i*A.pow(2,24);return BigInt(r)+(BigInt(e)<<BigInt(32))})),a.prototype.readBigUInt64BE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=n*A.pow(2,24)+this[++t]*A.pow(2,16)+this[++t]*A.pow(2,8)+this[++t],e=this[++t]*A.pow(2,24)+this[++t]*A.pow(2,16)+this[++t]*A.pow(2,8)+i;return(BigInt(r)<<BigInt(32))+BigInt(e)})),a.prototype.readIntLE=function(t,n,i){t>>>=0,n>>>=0,i||F(t,n,this.length);for(var r=this[t],e=1,u=0;++u<n&&(e*=256);)r+=this[t+u]*e;return r>=(e*=128)&&(r-=A.pow(2,8*n)),r},a.prototype.readIntBE=function(t,n,i){t>>>=0,n>>>=0,i||F(t,n,this.length);for(var r=n,e=1,u=this[t+--r];r>0&&(e*=256);)u+=this[t+--r]*e;return u>=(e*=128)&&(u-=A.pow(2,8*n)),u},a.prototype.readInt8=function(t,n){return t>>>=0,n||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,n){t>>>=0,n||F(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt16BE=function(t,n){t>>>=0,n||F(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt32LE=function(t,n){return t>>>=0,n||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,n){return t>>>=0,n||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readBigInt64LE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=this[t+4]+this[t+5]*A.pow(2,8)+this[t+6]*A.pow(2,16)+(i<<24);return(BigInt(r)<<BigInt(32))+BigInt(n+this[++t]*A.pow(2,8)+this[++t]*A.pow(2,16)+this[++t]*A.pow(2,24))})),a.prototype.readBigInt64BE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=(n<<24)+this[++t]*A.pow(2,16)+this[++t]*A.pow(2,8)+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*A.pow(2,24)+this[++t]*A.pow(2,16)+this[++t]*A.pow(2,8)+i)})),a.prototype.readFloatLE=function(t,n){return t>>>=0,n||F(t,4,this.length),e.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,n){return t>>>=0,n||F(t,4,this.length),e.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,n){return t>>>=0,n||F(t,8,this.length),e.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,n){return t>>>=0,n||F(t,8,this.length),e.read(this,t,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||V(this,t,n,i,A.pow(2,8*i)-1,0);var e=1,u=0;for(this[n]=255&t;++u<i&&(e*=256);)this[n+u]=t/e&255;return n+i},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||V(this,t,n,i,A.pow(2,8*i)-1,0);var e=i-1,u=1;for(this[n+e]=255&t;--e>=0&&(u*=256);)this[n+e]=t/u&255;return n+i},a.prototype.writeUint8=a.prototype.writeUInt8=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,1,255,0),this[n]=255&t,n+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,2,65535,0),this[n]=255&t,this[n+1]=t>>>8,n+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=255&t,n+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t,n+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},a.prototype.writeBigUInt64LE=ut((function(t,n){return void 0===n&&(n=0),U(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=ut((function(t,n){return void 0===n&&(n=0),j(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var e=A.pow(2,8*i-1);V(this,t,n,i,e-1,-e)}var u=0,s=1,o=0;for(this[n]=255&t;++u<i&&(s*=256);)t<0&&0===o&&0!==this[n+u-1]&&(o=1),this[n+u]=(t/s>>0)-o&255;return n+i},a.prototype.writeIntBE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var e=A.pow(2,8*i-1);V(this,t,n,i,e-1,-e)}var u=i-1,s=1,o=0;for(this[n+u]=255&t;--u>=0&&(s*=256);)t<0&&0===o&&0!==this[n+u+1]&&(o=1),this[n+u]=(t/s>>0)-o&255;return n+i},a.prototype.writeInt8=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=255&t,n+1},a.prototype.writeInt16LE=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,2,32767,-32768),this[n]=255&t,this[n+1]=t>>>8,n+2},a.prototype.writeInt16BE=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=255&t,n+2},a.prototype.writeInt32LE=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,4,2147483647,-2147483648),this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},a.prototype.writeInt32BE=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},a.prototype.writeBigInt64LE=ut((function(t,n){return void 0===n&&(n=0),U(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=ut((function(t,n){return void 0===n&&(n=0),j(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(t,n,i){return X(this,t,n,!0,i)},a.prototype.writeFloatBE=function(t,n,i){return X(this,t,n,!1,i)},a.prototype.writeDoubleLE=function(t,n,i){return G(this,t,n,!0,i)},a.prototype.writeDoubleBE=function(t,n,i){return G(this,t,n,!1,i)},a.prototype.copy=function(t,n,i,r){if(!a.isBuffer(t))throw new _("argument should be a Buffer");if(i||(i=0),!r&&0!==r&&(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&r<i&&(r=i),r===i||0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-i&&(r=t.length-n+i);var e=r-i;return this===t&&"function"==typeof I.prototype.copyWithin?this.copyWithin(n,i,r):I.prototype.set.call(t,this.subarray(i,r),n),e},a.prototype.fill=function(t,n,i,r){if("string"==typeof t){if("string"==typeof n?(r=n,n=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw new _("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new _("Unknown encoding: "+r);if(1===t.length){var e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(n<0||this.length<n||this.length<i)throw new RangeError("Out of range index");if(i<=n)return this;var u;if(n>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(u=n;u<i;++u)this[u]=t;else{var s=a.isBuffer(t)?t:a.from(t,r),o=s.length;if(0===o)throw new _('The value "'+t+'" is invalid for argument "value"');for(u=0;u<i-n;++u)this[u+n]=s[u%o]}return this};var H={};function z(t,n,i){H[t]=function(i){function r(){var r;return r=i.call(this)||this,k.defineProperty(r,"message",{value:n.apply(r,arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(t,"]"),r.stack,delete r.name,r}return Rt(r,i),r.prototype.toString=function(){return"".concat(this.name," [").concat(t,"]: ").concat(this.message)},xt(r,[{key:"code",get:function(){return t},set:function(t){k.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}}]),r}(i)}function Y(t){for(var n="",i=t.length,r="-"===t[0]?1:0;i>=r+4;i-=3)n="_".concat(t.slice(i-3,i)).concat(n);return"".concat(t.slice(0,i)).concat(n)}function K(t,n,i,r,e,u){if(t>i||t<n){var s,o="bigint"==(void 0===n?"undefined":W(n))?"n":"";throw s=0===n||n===BigInt(0)?">= 0".concat(o," and < 2").concat(o," ** ").concat(8*(u+1)).concat(o):">= -(2".concat(o," ** ").concat(8*(u+1)-1).concat(o,") and < 2 ** ")+"".concat(8*(u+1)-1).concat(o),new H.ERR_OUT_OF_RANGE("value",s,t)}!function(t,n,i){q(n,"offset"),(void 0===t[n]||void 0===t[n+i])&&J(n,t.length-(i+1))}(r,e,u)}function q(t,n){if("number"!=typeof t)throw new H.ERR_INVALID_ARG_TYPE(n,"number",t)}function J(t,n,i){throw A.floor(t)!==t?(q(t,i),new H.ERR_OUT_OF_RANGE("offset","an integer",t)):n<0?new H.ERR_BUFFER_OUT_OF_BOUNDS:new H.ERR_OUT_OF_RANGE("offset",">= 0 and <= ".concat(n),t)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?"".concat(t," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(t,n){return'The "'.concat(t,'" argument must be of type number. Received type ').concat(void 0===n?"undefined":W(n))}),_),z("ERR_OUT_OF_RANGE",(function(t,n,i){var r='The value of "'.concat(t,'" is out of range.'),e=i;return Number.isInteger(i)&&A.abs(i)>A.pow(2,32)?e=Y(String(i)):"bigint"==(void 0===i?"undefined":W(i))&&(e=String(i),(i>A.pow(BigInt(2),BigInt(32))||i<-A.pow(BigInt(2),BigInt(32)))&&(e=Y(e)),e+="n"),r+=" It must be ".concat(n,". Received ").concat(e)}),RangeError);var Q=/[^+/0-9A-Za-z-_]/g;function $(t,n){var i;n=n||1/0;for(var r=t.length,e=null,u=[],s=0;s<r;++s){if((i=t.charCodeAt(s))>55295&&i<57344){if(!e){if(i>56319){(n-=3)>-1&&u.push(239,191,189);continue}if(s+1===r){(n-=3)>-1&&u.push(239,191,189);continue}e=i;continue}if(i<56320){(n-=3)>-1&&u.push(239,191,189),e=i;continue}i=65536+(e-55296<<10|i-56320)}else e&&(n-=3)>-1&&u.push(239,191,189);if(e=null,i<128){if((n-=1)<0)break;u.push(i)}else if(i<2048){if((n-=2)<0)break;u.push(i>>6|192,63&i|128)}else if(i<65536){if((n-=3)<0)break;u.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new y("Invalid code point");if((n-=4)<0)break;u.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return u}function tt(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function nt(t,n,i,r){var e;for(e=0;e<r&&!(e+i>=n.length||e>=t.length);++e)n[e+i]=t[e];return e}function it(t,n){return t instanceof n||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===n.name}function rt(t){return t!=t}var et=function(){for(var t="0123456789abcdef",n=new Array(256),i=0;i<16;++i)for(var r=16*i,e=0;e<16;++e)n[r+e]=t[i]+t[e];return n}();function ut(t){return("undefined"==typeof BigInt?"undefined":W(BigInt))>"u"?st:t}function st(){throw new y("BigInt not supported")}})(Nn),function(t,n){var i=Nn,r=i.Buffer;function e(t,n){for(var i in t)n[i]=t[i]}function u(t,n,i){return r(t,n,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(e(i,n),n.Buffer=u),u.prototype=k.create(r.prototype),e(r,u),u.from=function(t,n,i){if("number"==typeof t)throw new _("Argument must not be a number");return r(t,n,i)},u.alloc=function(t,n,i){if("number"!=typeof t)throw new _("Argument must be a number");var e=r(t);return void 0!==n?"string"==typeof i?e.fill(n,i):e.fill(n):e.fill(0),e},u.allocUnsafe=function(t){if("number"!=typeof t)throw new _("Argument must be a number");return r(t)},u.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new _("Argument must be a number");return i.SlowBuffer(t)}}(Cn,Cn.exports);var Wn=65536,jn=Cn.exports.Buffer,Zn=N.crypto||N.msCrypto;Zn&&Zn.getRandomValues?Rn.exports=function(t,n){if(t>4294967295)throw new RangeError("requested too many random bytes");var i=jn.allocUnsafe(t);if(t>0)if(t>Wn)for(var r=0;r<t;r+=Wn)Zn.getRandomValues(i.slice(r,r+Wn));else Zn.getRandomValues(i);return"function"==typeof n?process.nextTick((function(){n(null,i)})):i}:Rn.exports=function(){throw new y("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")};var Xn=Rn.exports,Gn=function(){function t(t,n){this.ufrag=t,this.pwd=n,this.lite=!1,this.endOfCandidates=!1}var n=t.prototype;return n.clone=function(){var n=new t(this.ufrag,this.pwd);return n.setLite(this.lite),n.setEndOfCandidates(this.endOfCandidates),n},n.plain=function(){var t={ufrag:this.ufrag,pwd:this.pwd};return this.lite&&(t.lite=this.lite),this.endOfCandidates&&(t.endOfCandidates=this.endOfCandidates),t},n.getUfrag=function(){return this.ufrag},n.getPwd=function(){return this.pwd},n.isLite=function(){return this.lite},n.setLite=function(t){this.lite=t},n.isEndOfCandidates=function(){return this.endOfCandidates},n.setEndOfCandidates=function(t){this.endOfCandidates=t},t}();Gn.generate=function(t){var n=new Gn,i=Xn(8),r=Xn(24);return n.ufrag=i.toString("hex"),n.pwd=r.toString("hex"),n.lite=t,n},Gn.expand=function(t){if("ICEInfo"===t.constructor.name)return t;var n=new Gn(t.ufrag,t.pwd);return n.setLite(t.lite),n.setEndOfCandidates(t.endOfCandidates),n},Gn.clone=function(t){return"ICEInfo"===t.constructor.name?t.clone():Gn.expand(t)};var Hn=Gn,zn=_n("SEND","RECV");zn.byValue=function(t){return zn[t.toUpperCase()]},zn.toString=function(t){switch(t){case zn.SEND:return"send";case zn.RECV:return"recv"}},zn.reverse=function(t){switch(t){case zn.SEND:return zn.RECV;case zn.RECV:return zn.SEND}};var Yn=zn,Kn=Yn,qn=function(){function t(t,n){this.id=t,this.direction=n,this.formats=[],this.params=new Map}var n=t.prototype;return n.clone=function(){var n=new t(this.id,this.direction);return n.setFormats(this.formats),n.setParams(this.params),n},n.plain=function(){var t={id:this.id,direction:Kn.toString(this.direction)};this.formats&&(t.formats=this.formats);for(var n=0,i=this.params.entries();n<i.length;n++){var r=nn(i[n],2),e=r[0],u=r[1];t.params||(t.params={}),t.params[e]=u}return t},n.getId=function(){return this.id},n.getDirection=function(){return this.direction},n.setDirection=function(t){this.direction=t},n.getFormats=function(){return this.formats},n.setFormats=function(t){this.formats=[];for(var n=0;n<t.length;++n)this.formats.push(T(t[n]))},n.getParams=function(){return this.params},n.setParams=function(t){this.params=new Map(t)},n.addParam=function(t,n){this.params.set(t,n)},t}();qn.expand=function(t){if("RIDInfo"===t.constructor.name)return t;for(var n=new qn(t.id,Kn.byValue(t.direction)),i=0,r=k.entries(t.params||{});i<r.length;i++){var e=nn(r[i],2),u=e[0],s=e[1];n.addParam(u,s)}return t.formats&&n.setFormats(t.formats),n},qn.clone=function(t){return"RIDInfo"===t.constructor.name?t.clone():qn.expand(t)};var Jn=qn,Qn=function(){function t(t,n){this.paused=n,this.id=t}var n=t.prototype;return n.clone=function(){return new t(this.id,this.paused)},n.plain=function(){return{id:this.id,paused:this.paused}},n.isPaused=function(){return this.paused},n.getId=function(){return this.id},t}();Qn.expand=function(t){return"SimulcastStreamInfo"===t.constructor.name?t:new Qn(t.id,t.paused)},Qn.clone=function(t){return"SimulcastStreamInfo"===t.constructor.name?t.clone():Qn.expand(t)};var $n=Qn,ti=$n,ni=Yn,ii=function(){function t(){this.send=[],this.recv=[]}var n=t.prototype;return n.clone=function(){for(var n=new t,i=0,r=this.send;i<r.length;i++){var e=r[i];n.addSimulcastAlternativeStreams(ni.SEND,e.map((function(t){return t.clone()})))}for(var u=0,s=this.recv;u<s.length;u++){var o=s[u];n.addSimulcastAlternativeStreams(ni.RECV,o.map((function(t){return t.clone()})))}return n},n.plain=function(){for(var t={send:[],recv:[]},n=0,i=this.send;n<i.length;n++){var r=i[n];t.send.push(r.map((function(t){return t.plain()})))}for(var e=0,u=this.recv;e<u.length;e++){var s=u[e];t.recv.push(s.map((function(t){return t.plain()})))}return t},n.addSimulcastAlternativeStreams=function(t,n){return t===ni.SEND?this.send.push(n):this.recv.push(n)},n.addSimulcastStream=function(t,n){return t===ni.SEND?this.send.push([n]):this.recv.push([n])},n.getSimulcastStreams=function(t){return t===ni.SEND?this.send:this.recv},t}();ii.expand=function(t){if("SimulcastInfo"===t.constructor.name)return t;for(var n=new ii,i=0,r=t.send||[];i<r.length;i++){var e=r[i];n.addSimulcastAlternativeStreams(ni.SEND,e.map(ti.expand))}for(var u=0,s=t.recv||[];u<s.length;u++){var o=s[u];n.addSimulcastAlternativeStreams(ni.RECV,o.map(ti.expand))}return n},ii.clone=function(t){return"SimulcastInfo"===t.constructor.name?t.clone():ii.expand(t)};var ri=ii,ei=_n("SENDRECV","SENDONLY","RECVONLY","INACTIVE");ei.byValue=function(t){return ei[t.toUpperCase()]},ei.toString=function(t){switch(t){case ei.SENDRECV:return"sendrecv";case ei.SENDONLY:return"sendonly";case ei.RECVONLY:return"recvonly";case ei.INACTIVE:return"inactive"}},ei.reverse=function(t){switch(t){case ei.SENDRECV:return ei.SENDRECV;case ei.SENDONLY:return ei.RECVONLY;case ei.RECVONLY:return ei.SENDONLY;case ei.INACTIVE:return ei.INACTIVE}};var ui=ei,si=function(){function t(t,n){this.port=t,this.maxMessageSize=n}var n=t.prototype;return n.clone=function(){return new t(this.port,this.maxMessageSize)},n.plain=function(){return{port:this.port,maxMessageSize:this.maxMessageSize}},n.getPort=function(){return this.port},n.getMaxMessageSize=function(){return this.maxMessageSize},t}();si.expand=function(t){return"DataChannelInfo"===t.constructor.name?t:new si(t.port,t.maxMessageSize)},si.clone=function(t){return"DataChannelInfo"===t.constructor.name?t.clone():si.expand(t)};var oi=si,ai=yn,ci=Jn,hi=ri,fi=ui,vi=Yn,li=oi,di=function(){function t(t,n){this.id=t,this.type=n,this.direction=fi.SENDRECV,this.extensions=new Map,this.codecs=new Map,this.rids=new Map,this.simulcast=null,this.bitrate=0,this.control=null,this.dataChannel=null}var n=t.prototype;return n.clone=function(){var n=new t(this.id,this.type);n.setDirection(this.direction),n.setBitrate(this.bitrate);for(var i=0,r=this.codecs.values();i<r.length;i++){var e=r[i];n.addCodec(e.clone())}for(var u=0,s=this.extensions.entries();u<s.length;u++){var o=nn(s[u],2),a=o[0],c=o[1];n.addExtension(a,c)}for(var h=0,f=this.rids.values();h<f.length;h++){var v=f[h];n.addRID(v.clone())}return this.simulcast&&n.setSimulcast(this.simulcast.clone()),this.control&&n.setControl(this.control),this.dataChannel&&n.setDataChannel(this.dataChannel.clone()),n},n.plain=function(){var t={id:this.id,type:this.type,direction:fi.toString(this.direction),codecs:[]};this.dataChannel&&(t.dataChannel=this.dataChannel.plain()),this.bitrate&&(t.bitrate=this.bitrate);for(var n=0,i=this.codecs.values();n<i.length;n++){var r=i[n];t.codecs.push(r.plain())}for(var e=0,u=this.extensions.entries();e<u.length;e++){var s=nn(u[e],2),o=s[0],a=s[1];t.extensions||(t.extensions={}),t.extensions[o]=a}for(var c=0,h=this.rids.values();c<h.length;c++){var f=h[c];t.rids||(t.rids=[]),t.rids.push(f.plain())}return this.simulcast&&(t.simulcast=this.simulcast.plain()),this.control&&(t.control=this.control),t},n.getType=function(){return this.type},n.getId=function(){return this.id},n.setId=function(t){this.id=t},n.addExtension=function(t,n){this.extensions.set(t,n)},n.addRID=function(t){this.rids.set(t.getId(),t)},n.addCodec=function(t){this.codecs.set(t.getType(),t)},n.setCodecs=function(t){this.codecs=t},n.getCodecForType=function(t){return this.codecs.get(t)},n.getCodec=function(t){for(var n=0,i=this.codecs.values();n<i.length;n++){var r=i[n];if(r.getCodec().toLowerCase()===t.toLowerCase())return r}return null},n.hasCodec=function(t){return null!==this.getCodec(t)},n.getCodecs=function(){return this.codecs},n.hasRTX=function(){for(var t=0,n=this.codecs.values();t<n.length;t++)if(n[t].hasRTX())return!0;return!1},n.getExtensions=function(){return this.extensions},n.getRIDs=function(){return this.rids},n.getRID=function(t){return this.rids.get(t)},n.getBitrate=function(){return this.bitrate},n.setBitrate=function(t){this.bitrate=t},n.getDirection=function(){return this.direction},n.setDirection=function(t){this.direction=t},n.hasControl=function(){return!!this.control},n.getControl=function(){return this.control},n.setControl=function(t){this.control=t},n.hasDataChannel=function(){return!!this.dataChannel},n.getDataChannel=function(){return this.dataChannel},n.setDataChannel=function(t){this.dataChannel=t},n.answer=function(n){var i=new t(this.id,this.type);if(n){i.setDirection(fi.reverse(this.direction));var r=n.codecs,e=n.dataChannel;if(r){var u;u=Array.isArray(r)?ai.MapFromNames(r,n.rtx,n.rtcpfbs):r;for(var s=0,o=this.codecs.values();s<o.length;s++)for(var a=o[s],c=0,h=u.values();c<h.length;c++){var f=h[c];if(!(f.getCodec().toLowerCase()!==a.getCodec().toLowerCase()||"h264"===f.getCodec()&&f.hasParam("packetization-mode")&&f.getParam("packetization-mode")!=a.getParam("packetization-mode","0")||"h264"===f.getCodec()&&f.hasParam("profile-level-id")&&a.hasParam("profile-level-id")&&f.getParam("profile-level-id")!=a.getParam("profile-level-id")||"multiopus"===f.getCodec()&&f.hasParam("num_streams")&&a.hasParam("num_streams")&&f.getParam("num_streams")!=a.getParam("num_streams"))){var v=f.clone();v.setType(a.getType()),v.hasRTX()&&v.setRTX(a.getRTX()),a.hasChannels()&&v.setChannels(a.getChannels()),v.addParams(a.getParams()),i.addCodec(v);break}}}for(var l=new Set(n.extensions),d=0,g=this.extensions;d<g.length;d++){var m=nn(g[d],2),w=m[0],p=m[1];l.has(p)&&i.addExtension(w,p)}if(n.simulcast&&this.simulcast){var y=new hi,_=this.simulcast.getSimulcastStreams(vi.SEND);if(_)for(var b=0;b<_.length;b++){var k=_[b].map((function(t){return t.clone()}));y.addSimulcastAlternativeStreams(vi.RECV,k)}var A=this.simulcast.getSimulcastStreams(vi.RECV);if(A)for(var T=0;T<A.length;T++){var S=A[T].map((function(t){return t.clone()}));y.addSimulcastAlternativeStreams(vi.SEND,S)}for(var E=0,I=this.rids.values();E<I.length;E++){var R=I[E],C=R.clone();C.setDirection(vi.reverse(R.getDirection())),i.addRID(C)}i.setSimulcast(y)}if(e&&this.dataChannel){var N=new li(this.dataChannel.getPort(),e.maxMessageSize?e.maxMessageSize:this.dataChannel.getMaxMessageSize());i.setDataChannel(N)}}else i.setDirection(fi.INACTIVE);return i},n.getSimulcast=function(){return this.simulcast},n.setSimulcast=function(t){this.simulcast=t},t}();function gi(t){var n=t.toString();if(!/^\d+$/.test(n))throw new y("invalid integer ".concat(n));return T(n)}di.create=function(t,n,i){!i&&"string"!=typeof n&&(i=n,n=t);var r=new di(t,n);if(i){var e=i.codecs;e&&(Array.isArray(e)?r.setCodecs(ai.MapFromNames(e,i.rtx,i.rtcpfbs)):r.setCodecs(e))}else r.setDirection(fi.INACTIVE);return r},di.expand=function(t){if("MediaInfo"===t.constructor.name)return t;var n=new di(t.id,t.type);if(t.direction&&n.setDirection(fi.byValue(t.direction)),n.setBitrate(t.bitrate),t.dataChannel){var i=li.expand(t.dataChannel);i&&n.setDataChannel(i)}for(var r=0,e=k.entries(t.extensions);r<e.length;r++){var u=nn(e[r],2),s=u[0],o=u[1];n.addExtension(gi(s),o)}for(var a=0,c=t.codecs;a<c.length;a++){var h=c[a],f=ai.expand(h);f&&n.addCodec(f)}for(var v=0,l=t.rids||[];v<l.length;v++){var d=l[v],g=ci.expand(d);n.addRID(g)}return t.simulcast&&n.setSimulcast(hi.expand(t.simulcast)),t.control&&n.setControl(t.control),n},di.clone=function(t){return"MediaInfo"===t.constructor.name?t.clone():di.expand(t)};var mi=di,wi=function(){function t(t,n){this.semantics=t,this.ssrcs=[];for(var i=0;i<n.length;++i)this.ssrcs.push(T(n[i]))}var n=t.prototype;return n.clone=function(){return new t(this.semantics,this.ssrcs)},n.plain=function(){for(var t={semantics:this.semantics,ssrcs:[]},n=0;n<this.ssrcs.length;++n)t.ssrcs.push(this.ssrcs[n]);return t},n.getSemantics=function(){return this.semantics},n.getSSRCs=function(){return this.ssrcs},t}();wi.expand=function(t){return"SourceGroupInfo"===t.constructor.name?t:new wi(t.semantics,t.ssrcs)},wi.clone=function(t){return"SourceGroupInfo"===t.constructor.name?t.clone():wi.expand(t)};var pi=wi,yi=function(){function t(t){this.ssrc=t}var n=t.prototype;return n.clone=function(){var n=new t(this.ssrc);return n.setCName(this.cname),n.setStreamId(this.streamId),n.setTrackId(this.trackId),n},n.plain=function(){var t={ssrc:this.ssrc};return this.cname&&(t.cname=this.cname),this.streamId&&(t.streamId=this.streamId),this.trackId&&(t.trackId=this.trackId),t},n.getCName=function(){return this.cname},n.setCName=function(t){this.cname=t},n.getStreamId=function(){return this.streamId},n.setStreamId=function(t){this.streamId=t},n.getTrackId=function(){return this.trackId},n.setTrackId=function(t){this.trackId=t},n.getSSRC=function(){return this.ssrc},t}();yi.expand=function(t){if("SourceInfo"===t.constructor.name)return t;var n=new yi(t.ssrc);return n.setCName(t.cname),n.setStreamId(t.streamId),n.setTrackId(t.trackId),n},yi.clone=function(t){return"SourceInfo"===t.constructor.name?t.clone():yi.expand(t)};var _i=yi,bi=yn,ki=function(){function t(t,n){void 0===n&&(n=!1),this.id=t,this.paused=n,this.codecs=new Map,this.params=new Map}var n=t.prototype;return n.clone=function(){for(var n=new t(this.id,this.paused),i=0,r=this.codecs.values();i<r.length;i++){var e=r[i];n.addCodec(e.clone())}return n.setParams(this.params),n},n.plain=function(){for(var t={id:this.id,paused:this.paused,codecs:{},params:{}},n=0,i=this.codecs.entries();n<i.length;n++){var r=nn(i[n],2),e=r[0],u=r[1];t.codecs[e]=u.plain()}for(var s=0,o=this.params.entries();s<o.length;s++){var a=nn(o[s],2),c=(e=a[0],a[1]);t.params[e]=c}return t},n.getId=function(){return this.id},n.getCodecs=function(){return this.codecs},n.addCodec=function(t){this.codecs.set(t.getType(),t)},n.getParams=function(){return this.params},n.setParams=function(t){this.params=new Map(t)},n.addParam=function(t,n){this.params.set(t,n)},n.isPaused=function(){return this.paused},t}();ki.expand=function(t){if("TrackEncodingInfo"===t.constructor.name)return t;for(var n=new ki(t.id,t.paused),i=0,r=k.values(t.codecs||{});i<r.length;i++){var e=r[i];n.addCodec(bi.expand(e))}for(var u=0,s=k.entries(t.params||{});u<s.length;u++){var o=nn(s[u],2),a=o[0],c=o[1];n.addParam(a,c)}return n},ki.clone=function(t){return"TrackEncodingInfo"===t.constructor.name?t.clone():ki.expand(t)};var Ai=ki,Ti=pi,Si=Ai,Ei=function(){function t(t,n){this.media=t,this.id=n,this.ssrcs=[],this.groups=[],this.encodings=[]}var n=t.prototype;return n.clone=function(){var n=new t(this.media,this.id);this.mediaId&&n.setMediaId(this.mediaId);for(var i=0;i<this.ssrcs.length;++i)n.addSSRC(this.ssrcs[i]);for(var r=0;r<this.groups.length;++r)n.addSourceGroup(this.groups[r].clone());for(var e=0;e<this.encodings.length;++e){for(var u=[],s=0;s<this.encodings[e].length;++s)u.push(this.encodings[e][s].clone());n.addAlternativeEncodings(u)}return n},n.plain=function(){var t={media:this.media,id:this.id,ssrcs:[]};this.mediaId&&(t.mediaId=this.mediaId);for(var n=0;n<this.ssrcs.length;++n)t.ssrcs.push(this.ssrcs[n]);for(var i=0;i<this.groups.length;++i)t.groups||(t.groups=[]),t.groups.push(this.groups[i].plain());for(var r=0;r<this.encodings.length;++r){for(var e=[],u=0;u<this.encodings[r].length;++u)e.push(this.encodings[r][u].plain());e.length&&(t.encodings||(t.encodings=[]),t.encodings.push(e))}return t},n.getMedia=function(){return this.media},n.setMediaId=function(t){this.mediaId=t},n.getMediaId=function(){return this.mediaId},n.getId=function(){return this.id},n.addSSRC=function(t){this.ssrcs.push(t)},n.getSSRCs=function(){return this.ssrcs},n.addSourceGroup=function(t){this.groups.push(t)},n.getSourceGroup=function(t){for(var n=0,i=this.groups;n<i.length;n++){var r=i[n];if(r.getSemantics().toLowerCase()===t.toLowerCase())return r}return null},n.getSourceGroups=function(){return this.groups},n.getSourceGroupsForMediaSSRC=function(t){return this.groups.filter((function(n){return n.getSSRCs()[0]===t}))},n.hasSourceGroup=function(t){for(var n=0,i=this.groups;n<i.length;n++)if(i[n].getSemantics().toLowerCase()===t.toLowerCase())return!0;return!1},n.getEncodings=function(){return this.encodings},n.addEncoding=function(t){this.encodings.push([t])},n.addAlternativeEncodings=function(t){this.encodings.push(t)},n.setEncodings=function(t){this.encodings=t},n.getEncodingSources=function(){var t=[];if(this.encodings.length)for(var n=0,i=this.encodings;n<i.length;n++)for(var r=i[n],e=0;e<r.length;e++){var u=r[e],s={id:u.getId(),rid:u.getId()},o=u.getParams(),a=null==o?void 0:o.get("ssrc");if(void 0!==a){s.media=T(a);for(var c=0,h=this.getSourceGroupsForMediaSSRC(s.media);c<h.length;c++){var f=h[c];switch(f.getSemantics()){case"FID":s.rtx=f.getSSRCs()[1];break;case"FEC-FR":s.fec=f.getSSRCs()[1]}}}t.push(s)}else if(this.hasSourceGroup("SIM")){var v=this.getSourceGroup("SIM").getSSRCs();this.getSourceGroups();for(var l=0;l<v.length;l++){for(var d=v[l],g={id:String(d),media:d},m=0,w=this.getSourceGroupsForMediaSSRC(g.media);m<w.length;m++){var p=w[m];switch(p.getSemantics()){case"FID":g.rtx=p.getSSRCs()[1];break;case"FEC-FR":g.fec=p.getSSRCs()[1]}}t.push(g)}}else{var y={id:""};if(this.ssrcs.length){y.media=this.ssrcs[0];for(var _=0,b=this.getSourceGroupsForMediaSSRC(y.media);_<b.length;_++){var k=b[_];switch(k.getSemantics()){case"FID":y.rtx=k.getSSRCs()[1];break;case"FEC-FR":y.fec=k.getSSRCs()[1]}}}t.push(y)}return t},t}();Ei.expand=function(t){var n,i;if("TrackInfo"===t.constructor.name)return t;var r=new Ei(t.media,t.id);if(t.mediaId&&r.setMediaId(t.mediaId),Array.isArray(t.ssrcs))for(var e=0,u=t.ssrcs;e<u.length;e++){var s=u[e];r.addSSRC(s)}else if(void 0!==(null===(n=t.ssrcs)||void 0===n?void 0:n.media)){var o=t.ssrcs.media;if(r.addSSRC(o),void 0!==t.ssrcs.rtx){var a=t.ssrcs.rtx;r.addSSRC(a),r.addSourceGroup(new Ti("FID",[o,a]))}if(void 0!==t.ssrcs.fec){var c=t.ssrcs.fec;r.addSSRC(c),r.addSourceGroup(new Ti("FEC-FR",[o,c]))}}if(t.rid){var h=new Si(t.rid);void 0!==(null===(i=t.ssrcs)||void 0===i?void 0:i.media)&&h.addParam("ssrc",t.ssrcs.media),r.addAlternativeEncodings([h])}for(var f=0,v=t.groups||[];f<v.length;f++){var l=v[f];r.addSourceGroup(Ti.expand(l))}for(var d=0,g=t.encodings||[];d<g.length;d++){for(var m=g[d],w=[],p=0;p<m.length;p++){var y=m[p];w.push(Si.expand(y))}r.addAlternativeEncodings(w)}return r},Ei.clone=function(t){return"TrackInfo"===t.constructor.name?t.clone():Ei.expand(t)};var Ii=Ei,Ri=Ii,Ci=function(){function t(t){this.id=t,this.tracks=new Map}var n=t.prototype;return n.clone=function(){for(var n=new t(this.id),i=0,r=this.tracks.values();i<r.length;i++){var e=r[i];n.addTrack(e.clone())}return n},n.plain=function(){for(var t={id:this.id,tracks:[]},n=0,i=this.tracks.values();n<i.length;n++){var r=i[n];t.tracks.push(r.plain())}return t},n.getId=function(){return this.id},n.addTrack=function(t){this.tracks.set(t.getId(),t)},n.removeTrack=function(t){return this.tracks.delete(t.getId())},n.removeTrackById=function(t){return this.tracks.delete(t)},n.getFirstTrack=function(t){for(var n=0,i=this.tracks.values();n<i.length;n++){var r=i[n];if(r.getMedia().toLowerCase()===t.toLowerCase())return r}return null},n.getTracks=function(){return this.tracks},n.removeAllTracks=function(){this.tracks.clear()},n.getTrack=function(t){return this.tracks.get(t)},t}();Ci.expand=function(t){if("StreamInfo"===t.constructor.name)return t;for(var n=new Ci(t.id),i=0,r=t.tracks||[];i<r.length;i++){var e=r[i],u=Ri.expand(e);u&&n.addTrack(u)}return n},Ci.clone=function(t){return"StreamInfo"===t.constructor.name?t.clone():Ci.expand(t)};var Ni,xi,Di=Ci,Pi=Kt,Mi=(Ni="en-US",xi=new Intl.Collator(Ni,{sensitivity:"base"}),function(t,n){return 0==xi.compare(t,n)}),Bi=ln,Oi=yn,Li=gn,Fi=Sn,Vi=In,Ui=Hn,Wi=mi,ji=kn,Zi=ui,Xi=Yn,Gi=pi,Hi=_i,zi=Di,Yi=Ii,Ki=Ai,qi=ri,Ji=$n,Qi=Jn,$i=oi,tr=function(){function t(t){this.version=t||1,this.streams=new Map,this.medias=new Array,this.candidates=new Array,this.ice=null,this.dtls=null,this.crypto=null,this.extmapAllowMixed=!0}var n=t.prototype;return n.clone=function(){for(var n=new t(this.version),i=0,r=this.medias;i<r.length;i++){var e=r[i];n.addMedia(e.clone())}for(var u=0,s=this.streams.values();u<s.length;u++){var o=s[u];n.addStream(o.clone())}for(var a=0,c=this.candidates;a<c.length;a++){var h=c[a];n.addCandidate(h.clone())}return n.setICE(this.ice.clone()),this.dtls&&n.setDTLS(this.dtls.clone()),this.crypto&&n.setCrypto(this.crypto.clone()),n.setExtmapAllowMixed(this.extmapAllowMixed),n},n.plain=function(){for(var t={version:this.version,streams:[],medias:[],candidates:[]},n=0,i=this.medias;n<i.length;n++){var r=i[n];t.medias.push(r.plain())}for(var e=0,u=this.streams.values();e<u.length;e++){var s=u[e];t.streams.push(s.plain())}for(var o=0,a=this.candidates;o<a.length;o++){var c=a[o];t.candidates.push(c.plain())}return this.ice&&(t.ice=this.ice.plain()),this.dtls&&(t.dtls=this.dtls.plain()),this.crypto&&(t.crypto=this.crypto.plain()),this.extmapAllowMixed||(t.extmapAllowMixedNotSupported=!this.extmapAllowMixed),t},n.unify=function(){for(var n=new t(this.version),i=0,r=this.medias;i<r.length;i++){var e=r[i];n.addMedia(e.clone())}for(var u={audio:n.getMediasByType("audio"),video:n.getMediasByType("video")},s=0,o=this.streams.values();s<o.length;s++){for(var a=o[s].clone(),c=0,h=a.getTracks().values();c<h.length;c++){var f=h[c],v=u[f.getMedia()].pop();v||((v=this.getMedia(f.getMedia()).clone()).setId(f.getId()),n.addMedia(v)),f.setMediaId(v.getId())}n.addStream(a)}for(var l=0,d=this.candidates;l<d.length;l++){var g=d[l];n.addCandidate(g.clone())}return this.ice&&n.setICE(this.ice.clone()),this.dtls&&n.setDTLS(this.dtls.clone()),this.crypto&&n.setCrypto(this.crypto.clone()),n},n.setVersion=function(t){this.version=t},n.addMedia=function(t){this.medias.push(t)},n.getMedia=function(t){for(var n in this.medias){var i=this.medias[n];if(Mi(i.getType(),t))return i}return null},n.getMediasByType=function(t){var n=[];for(var i in this.medias){var r=this.medias[i];Mi(r.getType(),t)&&n.push(r)}return n},n.getMediaById=function(t){for(var n=0,i=this.medias;n<i.length;n++){var r=i[n];if(Mi(r.getId(),t))return r}return null},n.replaceMedia=function(t){for(var n in this.medias)if(this.medias[n].getId()==t.getId())return this.medias[n]=t,!0;return!1},n.getMedias=function(){return this.medias},n.getVersion=function(){return this.version},n.getDTLS=function(){return this.dtls},n.setDTLS=function(t){this.dtls=t},n.hasCrypto=function(){return!!this.crypto},n.getCrypto=function(){return this.crypto},n.setCrypto=function(t){this.crypto=t},n.hasICE=function(){return!!this.ice},n.getICE=function(){return this.ice},n.setICE=function(t){this.ice=t},n.addCandidate=function(t){for(var n=0,i=this.candidates;n<i.length;n++)if(i[n].equals(t))return;this.candidates.push(t)},n.addCandidates=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.addCandidate(i)}},n.getCandidates=function(){return this.candidates},n.getStream=function(t){return this.streams.get(t)},n.getStreams=function(){return this.streams},n.getFirstStream=function(){for(var t=0,n=this.streams.values();t<n.length;t++)return n[t];return null},n.addStream=function(t){this.streams.set(t.getId(),t)},n.removeStream=function(t){return this.streams.delete(t.getId())},n.removeAllStreams=function(){this.streams.clear()},n.getTracksByMediaType=function(t){for(var n=[],i=0,r=this.streams.values();i<r.length;i++)for(var e=0,u=r[i].getTracks();e<u.length;e++){var s=nn(u[e],2),o=(s[0],s[1]);Mi(o.getMedia(),t)&&n.push(o)}return n},n.getTrackByMediaId=function(t){for(var n=0,i=this.streams.values();n<i.length;n++)for(var r=0,e=i[n].getTracks();r<e.length;r++){var u=nn(e[r],2),s=(u[0],u[1]);if(s.getMediaId()==t)return s}return null},n.getStreamByMediaId=function(t){for(var n=0,i=this.streams.values();n<i.length;n++)for(var r=i[n],e=0,u=r.getTracks();e<u.length;e++){var s=nn(u[e],2);if(s[0],s[1].getMediaId()==t)return r}return null},n.getExtmapAllowMixed=function(){return this.extmapAllowMixed},n.setExtmapAllowMixed=function(t){this.extmapAllowMixed=t},n.answer=function(n){var i=new t;n.ice&&(n.ice instanceof Ui?i.setICE(n.ice.clone()):i.setICE(Ui.expand(n.ice))),n.dtls&&(n.dtls instanceof Fi?i.setDTLS(n.dtls):i.setDTLS(Fi.expand(n.dtls))),n.crypto&&(n.crypto instanceof Vi?i.setCrypto(n.crypto):i.setCrypto(Vi.expand(n.crypto)));for(var r=0;n.candidates&&r<n.candidates.length;++r)n.candidates[r]instanceof Bi?i.addCandidate(n.candidates[r].clone()):i.addCandidate(Bi.expand(n.candidates[r]));for(var e=0,u=this.medias;e<u.length;e++){var s=u[e],o=n&&n.capabilities&&n.capabilities[s.getType()];i.addMedia(s.answer(o))}return i.setExtmapAllowMixed(this.extmapAllowMixed),i},n.toString=function(){var t={version:0,media:[]};t.version=0,t.origin={username:"-",sessionId:(new Date).getTime(),sessionVersion:this.version,netType:"IN",ipVer:4,address:"127.0.0.1"},t.name="semantic-sdp",t.connection={version:4,ip:"0.0.0.0"},t.timing={start:0,stop:0},this.hasICE()&&this.getICE().isLite()&&(t.icelite="ice-lite"),t.msidSemantic={semantic:"WMS",token:"*"},t.groups=[],this.extmapAllowMixed&&(t.extmapAllowMixed="extmap-allow-mixed");for(var n=[],i=0,r=this.medias;i<r.length;i++){var e=r[i],u={type:e.getType(),port:9,protocol:"",fmtp:[],rtp:[],rtcpFb:[],ext:[],bandwidth:[],candidates:[],ssrcGroups:[],ssrcs:[],rids:[]};u.direction=Zi.toString(e.getDirection()),this.extmapAllowMixed&&(u.extmapAllowMixed="extmap-allow-mixed"),u.mid=e.getId(),n.push(e.getId()),e.hasControl()&&(u.control=e.getControl()),e.getBitrate()>0&&(u.bandwidth.push({type:"AS",limit:e.getBitrate()}),u.bandwidth.push({type:"TIAS",limit:1e3*e.getBitrate()}));for(var s=this.getCandidates(),o=0;o<s.length;o++){var a=s[o];u.candidates.push({foundation:a.getFoundation(),component:a.getComponentId(),transport:a.getTransport(),priority:a.getPriority(),ip:a.getAddress(),port:a.getPort(),type:a.getType(),raddr:a.getRelAddr(),rport:a.getRelPort()})}if(this.getICE()&&(u.iceUfrag=this.getICE().getUfrag(),u.icePwd=this.getICE().getPwd()),Mi("audio",e.getType())||Mi("video",e.getType())){u.rtcpMux="rtcp-mux",u.rtcpRsize="rtcp-rsize",this.getDTLS()?(u.protocol="UDP/TLS/RTP/SAVPF",u.fingerprint={type:this.getDTLS().getHash(),hash:this.getDTLS().getFingerprint()},u.setup=ji.toString(this.getDTLS().getSetup())):this.getCrypto()?(u.protocol="RTP/SAVPF",u.crypto=[{id:this.getCrypto().getTag(),suite:this.getCrypto().getSuite(),config:this.getCrypto().getKeyParams()}]):u.protocol="RTP/AVP";for(var c=0,h=e.getCodecs().values();c<h.length;c++){var f=h[c];Mi("video",e.getType())?u.rtp.push({payload:f.getType(),codec:f.getCodec().toUpperCase(),rate:9e4}):Mi("opus",f.getCodec())||Mi("multiopus",f.getCodec())?u.rtp.push({payload:f.getType(),codec:f.getCodec(),rate:48e3,encoding:f.getChannels()}):u.rtp.push({payload:f.getType(),codec:f.getCodec(),rate:8e3});for(var v=0,l=f.getRTCPFeedbacks();v<l.length;v++){var d=l[v];u.rtcpFb.push({payload:f.getType(),type:d.getId(),subtype:d.getParams().join(" ")})}f.hasRTX()&&(u.rtp.push({payload:f.getRTX(),codec:"rtx",rate:9e4}),u.fmtp.push({payload:f.getRTX(),config:"apt="+f.getType()}));var g=f.getParams();if(k.keys(g).length){var m={payload:f.getType(),config:""};for(var w in g)m.config.length&&(m.config+=";"),k.hasOwnProperty.call(g,w)?m.config+=w+"="+g[w]:m.config+=w;u.fmtp.push(m)}}for(var p=[],y=0,_=u.rtp;y<_.length;y++){var b=_[y];p.push(b.payload)}u.payloads=p.join(" ");for(var A=0,T=e.getExtensions().entries();A<T.length;A++){var S=nn(T[A],2),E=S[0],I=S[1];u.ext.push({value:E,uri:I})}for(var R=0,C=e.getRIDs().values();R<C.length;R++){var N=C[R],x={id:N.getId(),direction:Xi.toString(N.getDirection()),params:""};N.getFormats().length&&(x.params="pt="+N.getFormats().join(","));for(var D=0,P=N.getParams().entries();D<P.length;D++){var M=nn(P[D],2),B=M[0],O=M[1];x.params+=(x.params.length?";":"")+B+"="+O}u.rids.push(x)}var L=e.getSimulcast();if(L){var F=1;u.simulcast={};var V=L.getSimulcastStreams(Xi.SEND),U=L.getSimulcastStreams(Xi.RECV);if(V&&V.length){for(var W="",j=0;j<V.length;j++){for(var Z=V[j],X="",G=0;G<Z.length;G++){var H=Z[G];X+=(X.length?",":"")+(H.isPaused()?"~":"")+H.getId()}W+=(W.length?";":"")+X}u.simulcast["dir"+F]="send",u.simulcast["list"+F]=W,F++}if(U&&U.length){for(var z="",Y=0;Y<U.length;Y++){for(var K=U[Y],q="",J=0;J<K.length;J++){var Q=K[J];q+=(q.length?",":"")+(Q.isPaused()?"~":"")+Q.getId()}z+=(z.length?";":"")+q}u.simulcast["dir"+F]="recv",u.simulcast["list"+F]=z,F++}}}else if(e.hasDataChannel()){u.protocol="UDP/DTLS/SCTP",u.payloads="webrtc-datachannel";var $=e.getDataChannel();u.sctpPort=$.getPort(),u.maxMessageSize=$.getMaxMessageSize()}t.media.push(u)}for(var tt=0,nt=this.streams.values();tt<nt.length;tt++)for(var it=nt[tt],rt=0,et=it.getTracks().values();rt<et.length;rt++){var ut=et[rt];for(var st in t.media){var ot=t.media[st];if(ut.getMediaId()){if(ut.getMediaId()==ot.mid){var at=ut.getSourceGroups();for(var ct in at){var ht=at[ct];ot.ssrcGroups.push({semantics:ht.getSemantics(),ssrcs:ht.getSSRCs().join(" ")})}var ft=ut.getSSRCs();for(var vt in ft)ot.ssrcs.push({id:ft[vt],attribute:"cname",value:it.getId()}),ot.ssrcs.push({id:ft[vt],attribute:"msid",value:it.getId()+" "+ut.getId()});ot.msid=it.getId()+" "+ut.getId();break}}else if(Mi(ot.type,ut.getMedia())){var lt=ut.getSourceGroups();for(var dt in lt){var gt=lt[dt];ot.ssrcGroups.push({semantics:gt.getSemantics(),ssrcs:gt.getSSRCs().join(" ")})}var mt=ut.getSSRCs();for(var wt in mt)ot.ssrcs.push({id:mt[wt],attribute:"cname",value:it.getId()}),ot.ssrcs.push({id:mt[wt],attribute:"msid",value:it.getId()+" "+ut.getId()});break}}}var pt={type:"BUNDLE",mids:n.join(" ")};return t.groups.push(pt),Pi.write(t)},n.toIceFragmentString=function(){var t={version:0,media:[],candidates:[]};this.hasICE()&&this.getICE().isLite()&&(t.icelite="ice-lite"),this.getICE()&&(t.iceUfrag=this.getICE().getUfrag(),t.icePwd=this.getICE().getPwd());for(var n=0,i=this.getCandidates();n<i.length;n++){var r=i[n];t.candidates.push({foundation:r.getFoundation(),component:r.getComponentId(),transport:r.getTransport(),priority:r.getPriority(),ip:r.getAddress(),port:r.getPort(),type:r.getType(),raddr:r.getRelAddr(),rport:r.getRelPort()})}return Pi.write(t).slice(10)},t}();tr.create=function(t){var n,i=new tr;if(t.streams)for(var r=0,e=t.streams;r<e.length;r++){var u=e[r];i.addStream(zi.expand(u))}t.ice&&(t.ice instanceof Ui?i.setICE(t.ice.clone()):i.setICE(Ui.expand(t.ice))),t.dtls&&(t.dtls instanceof Fi?i.setDTLS(t.dtls):i.setDTLS(Fi.expand(t.dtls))),t.crypto&&(t.crypto instanceof Vi?i.setCrypto(t.crypto):i.setCrypto(Vi.expand(t.crypto)));for(var s=0,o=t.candidates||[];s<o.length;s++){var a=o[s];a instanceof Bi?i.addCandidate(a.clone()):i.addCandidate(Bi.expand(a))}for(var c=96,h=1,f=0,v=0,l=k.entries(t.capabilities||{});v<l.length;v++){var d=nn(l[v],2),g=d[0],m=d[1];if(t.unified&&null!==(n=t.streams)&&void 0!==n&&n.length)for(var w=0,p=i.getTracksByMediaType(g);w<p.length;w++){for(var y=p[w],_=Wi.create(y.getMediaId(),g,m),b=0,A=_.getCodecs();b<A.length;b++){var T=nn(A[b],2),S=(T[0],T[1]);S.getType()>=96&&S.setType(c++),S.getRTX()&&S.setRTX(c++)}if(m.extensions)for(var E=0,I=m.extensions;E<I.length;E++){var R=I[E];15===h&&h++,_.addExtension(h++,R)}i.addMedia(_)}else{for(var C=Wi.create(t.unified?String(f++):g,g,m),N=0,x=C.getCodecs();N<x.length;N++){var D=nn(x[N],2),P=(D[0],D[1]);P.getType()>=96&&P.setType(c++),P.getRTX()&&P.setRTX(c++)}if(m.extensions)for(var M=0,B=m.extensions;M<B.length;M++){var O=B[M];15===h&&h++,C.addExtension(h++,O)}i.addMedia(C)}}return i},tr.expand=function(t){if("SDPInfo"===t.constructor.name)return t;for(var n=new tr(t.version),i=0,r=t.medias||[];i<r.length;i++){var e=r[i],u=Wi.expand(e);u&&n.addMedia(u)}for(var s=0,o=t.streams||[];s<o.length;s++){var a=o[s],c=zi.expand(a);c&&n.addStream(c)}for(var h=0,f=t.candidates||[];h<f.length;h++){var v=f[h],l=Bi.expand(v);l&&n.addCandidate(l)}return t.ice&&n.setICE(Ui.expand(t.ice)),t.dtls&&n.setDTLS(Fi.expand(t.dtls)),t.crypto&&n.setCrypto(Vi.expand(t.crypto)),t.extmapAllowMixedNotSupported&&(this.extmapAllowMixed=!t.extmapAllowMixedNotSupported),n},tr.clone=function(t){return"SDPInfo"===t.constructor.name?t.clone():tr.expand(t)},tr.process=function(t){return tr.parse(t)},tr.parse=function(t){var n=Pi.parse(t),i=new tr;if(i.setVersion(n.version),n.iceUfrag&&n.icePwd){var r=String(n.iceUfrag),e=String(n.icePwd),u=new Ui(r,e);u.setLite("ice-lite"==n.icelite),u.setEndOfCandidates("end-of-candidates"==n.endOfCandidates),i.setICE(u)}for(var s in n.media){var o=n.media[s],a=o.type,c=o.mid?o.mid.toString():s,h=new Wi(c,a);if(o.iceUfrag&&o.icePwd){var f=String(o.iceUfrag),v=String(o.icePwd),l=new Ui(f,v);l.setLite("ice-lite"==n.icelite),l.setEndOfCandidates("end-of-candidates"==o.endOfCandidates),i.setICE(l)}for(var d=0;o.candidates&&d<o.candidates.length;++d){var g=o.candidates[d],m=new Bi(g.foundation,g.component,g.transport,g.priority,g.ip,g.port,g.type,g.raddr,g.rport);i.addCandidate(m)}var w=o.fingerprint||n.fingerprint;if(w){var p=w.type,y=w.hash,_=ji.ACTPASS;o.setup&&(_=ji.byValue(o.setup)),i.setDTLS(new Fi(_,p,y))}if(o.crypto){var b=o.crypto[0];i.setCrypto(new Vi(b.id,b.suite,b.config,b.sessionConfig))}var k=Zi.SENDRECV;o.direction&&(k=Zi.byValue(o.direction),h.setDirection(k)),o.control&&h.setControl(o.control),i.setExtmapAllowMixed("extmap-allow-mixed"==o.extmapAllowMixed||"extmap-allow-mixed"==n.extmapAllowMixed);var A=new Map;for(var S in o.rtp){var E=o.rtp[S],I=E.payload,R=E.codec;if("RED"!==R.toUpperCase()&&"ULPFEC"!==R.toUpperCase()){var C={};for(var N in o.fmtp){var x=o.fmtp[N];if(x.payload===I){var D=x.config.split(";");for(var P in D){var M=D[P].split("="),B=M[0].trim(),O=M.splice(1).join("=").trim();C[B]=O}}}if("RTX"===R.toUpperCase())A.set(T(C.apt),I);else{var L=new Oi(R,I,C);E.encoding>1&&L.setChannels(E.encoding),h.addCodec(L)}}}for(var F=0,V=A.entries();F<V.length;F++){var U=V[F],W=h.getCodecForType(U[0]);W&&W.setRTX(U[1])}for(var j=0;o.rtcpFb&&j<o.rtcpFb.length;++j){var Z=h.getCodecForType(o.rtcpFb[j].payload);if(Z){var X=o.rtcpFb[j].type,G=o.rtcpFb[j].subtype?o.rtcpFb[j].subtype.split(" "):null;Z.addRTCPFeedback(new Li(X,G))}}var H=o.ext;for(var z in H){var Y=H[z];h.addExtension(Y.value,Y.uri)}var K=o.rids;for(var q in K){var J=K[q],Q=new Qi(J.id,Xi.byValue(J.direction)),$=[],tt=new Map;if(J.params){var nt=Pi.parseParams(J.params);for(var it in nt)"pt"===it?$=nt[it].split(","):tt.set(it,nt[it]);Q.setFormats($),Q.setParams(tt)}h.addRID(Q)}var rt=[];if(o.simulcast){var et=new qi;if(o.simulcast.dir1)for(var ut=Xi.byValue(o.simulcast.dir1),st=Pi.parseSimulcastStreamList(o.simulcast.list1),ot=0;ot<st.length;++ot){for(var at=[],ct=0;ct<st[ot].length;++ct)at.push(new Ji(st[ot][ct].scid,st[ot][ct].paused));et.addSimulcastAlternativeStreams(ut,at)}if(o.simulcast.dir2)for(var ht=Xi.byValue(o.simulcast.dir2),ft=Pi.parseSimulcastStreamList(o.simulcast.list2),vt=0;vt<ft.length;++vt){for(var lt=[],dt=0;dt<ft[vt].length;++dt)lt.push(new Ji(ft[vt][dt].scid,ft[vt][dt].paused));et.addSimulcastAlternativeStreams(ht,lt)}for(var gt=0,mt=et.getSimulcastStreams(Xi.SEND);gt<mt.length;gt++){for(var wt=mt[gt],pt=[],yt=0;yt<wt.length;yt++){var _t=new Ki(wt[yt].getId(),wt[yt].isPaused()),bt=h.getRID(_t.getId());if(bt){for(var kt=bt.getFormats(),At=0;kt&&At<kt.length;++At){var Tt=h.getCodecForType(kt[At]);Tt&&_t.addCodec(Tt)}_t.setParams(bt.getParams()),pt.push(_t)}}pt.length&&rt.push(pt)}h.setSimulcast(et)}var St=new Map;if(o.ssrcs)for(var Et in o.ssrcs){var It=o.ssrcs[Et],Rt=It.id,Ct=It.attribute,Nt=It.value,xt=St.get(Rt);if(xt||(xt=new Hi(Rt),St.set(xt.getSSRC(),xt)),Mi("cname",Ct))xt.setCName(Nt);else if(Mi("msid",Ct)){var Dt=Nt.split(" "),Pt=Dt[0],Mt=Dt[1];xt.setStreamId(Pt),xt.setTrackId(Mt);var Bt=i.getStream(Pt);Bt||(Bt=new zi(Pt),i.addStream(Bt));var Ot=Bt.getTrack(Mt);Ot||((Ot=new Yi(a,Mt)).setMediaId(c),Ot.setEncodings(rt),Bt.addTrack(Ot)),Ot.addSSRC(Rt)}}if(o.msid){var Lt=o.msid.split(" "),Ft=Lt[0],Vt=Lt[1],Ut=i.getStream(Ft);Ut||(Ut=new zi(Ft),i.addStream(Ut));var Wt=Ut.getTrack(Vt);Wt||((Wt=new Yi(a,Vt)).setMediaId(c),Wt.setEncodings(rt),Ut.addTrack(Wt));for(var jt=0,Zt=St.entries();jt<Zt.length;jt++){var Xt=nn(Zt[jt],2),Gt=Xt[0],Ht=Xt[1];Ht.getStreamId()||(Ht.setStreamId(Ft),Ht.setTrackId(Vt),Wt.addSSRC(Gt))}}for(var zt=0,Yt=St.entries();zt<Yt.length;zt++){var Kt=nn(Yt[zt],2),qt=Kt[0],Jt=Kt[1];if(!Jt.getStreamId()){var Qt=Jt.getCName(),$t=c;Jt.setStreamId(Qt),Jt.setTrackId($t);var tn=i.getStream(Qt);tn||(tn=new zi(Qt),i.addStream(tn));var rn=tn.getTrack($t);rn||((rn=new Yi(a,$t)).setMediaId(c),rn.setEncodings(rt),tn.addTrack(rn)),rn.addSSRC(qt)}}if(o.ssrcGroups)for(var en in o.ssrcGroups){var un=o.ssrcGroups[en],sn=un.ssrcs.split(" "),on=new Gi(un.semantics,sn),an=St.get(T(sn[0]));an&&i.getStream(an.getStreamId()).getTrack(an.getTrackId()).addSourceGroup(on)}if("application"==o.type&&"webrtc-datachannel"==o.payloads){var cn=new $i(o.sctpPort,o.maxMessageSize);h.setDataChannel(cn)}i.addMedia(h)}return i};var nr=tr;k.defineProperty(Yt,"__esModule",{value:!0});var ir=Yt.SDPInfo=nr;Yt.CandidateInfo=ln,Yt.CodecInfo=yn,Yt.DTLSInfo=Sn,Yt.CryptoInfo=In,Yt.ICEInfo=Hn;var rr=Yt.MediaInfo=mi;Yt.Setup=kn,Yt.SourceGroupInfo=pi,Yt.SourceInfo=_i,Yt.StreamInfo=Di,Yt.TrackInfo=Ii,Yt.RTCPFeedbackInfo=gn,Yt.TrackEncodingInfo=Ai,Yt.RIDInfo=Jn,Yt.SimulcastInfo=ri,Yt.SimulcastStreamInfo=$n,Yt.DataChannelInfo=oi;var er=Yt.Direction=ui,ur={exports:{}};!function(t,n){!function(i,r){var e="function",u="undefined",s="object",o="string",a="major",c="model",h="name",f="type",v="vendor",l="version",d="architecture",g="console",m="mobile",w="tablet",p="smarttv",y="wearable",_="embedded",b="Amazon",k="Apple",A="ASUS",T="BlackBerry",S="Browser",E="Chrome",I="Firefox",R="Google",C="Huawei",N="LG",x="Microsoft",D="Motorola",P="Opera",M="Samsung",B="Sharp",O="Sony",L="Xiaomi",F="Zebra",V="Facebook",U="Chromium OS",j="Mac OS",Z=" Browser",X=function(t){for(var n={},i=0;i<t.length;i++)n[t[i].toUpperCase()]=t[i];return n},G=function(t,n){return(void 0===t?"undefined":W(t))===o&&-1!==H(n).indexOf(H(t))},H=function(t){return t.toLowerCase()},z=function(t,n){if((void 0===t?"undefined":W(t))===o)return t=t.replace(/^\s\s*/,""),(void 0===n?"undefined":W(n))===u?t:t.substring(0,500)},Y=function(t,n){for(var i,u,o,a,c,h,f=0;f<n.length&&!c;){var v=n[f],l=n[f+1];for(i=u=0;i<v.length&&!c&&v[i];)if(c=v[i++].exec(t))for(o=0;o<l.length;o++)h=c[++u],(void 0===(a=l[o])?"undefined":W(a))===s&&a.length>0?2===a.length?W(a[1])==e?this[a[0]]=a[1].call(this,h):this[a[0]]=a[1]:3===a.length?W(a[1])!==e||a[1].exec&&a[1].test?this[a[0]]=h?h.replace(a[1],a[2]):r:this[a[0]]=h?a[1].call(this,h,a[2]):r:4===a.length&&(this[a[0]]=h?a[3].call(this,h.replace(a[1],a[2])):r):this[a]=h||r;f+=2}},K=function(t,n){for(var i in n)if(W(n[i])===s&&n[i].length>0){for(var e=0;e<n[i].length;e++)if(G(n[i][e],t))return"?"===i?r:i}else if(G(n[i],t))return"?"===i?r:i;return n.hasOwnProperty("*")?n["*"]:t},q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},J={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[l,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[l,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,l],[/opios[\/ ]+([\w\.]+)/i],[l,[h,P+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[l,[h,P+" GX"]],[/\bopr\/([\w\.]+)/i],[l,[h,P]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[l,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,l],[/quark(?:pc)?\/([-\w\.]+)/i],[l,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[l,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[l,[h,"UC"+S]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[l,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[l,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[l,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[l,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[l,[h,"Smart Lenovo "+S]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+S],l],[/\bfocus\/([\w\.]+)/i],[l,[h,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[l,[h,P+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[l,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[l,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[l,[h,P+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[l,[h,"MIUI "+S]],[/fxios\/([-\w\.]+)/i],[l,[h,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360"+Z]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],l],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+Z],l],[/samsungbrowser\/([\w\.]+)/i],[l,[h,M+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],l],[/metasr[\/ ]?([\d\.]+)/i],[l,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],l],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,l],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,V],l],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,l],[/\bgsa\/([\w\.]+) .*safari\//i],[l,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[l,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[l,[h,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,E+" WebView"],l],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[l,[h,"Android "+S]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,l],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[l,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[l,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[l,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,l],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],l],[/(wolvic)\/([\w\.]+)/i],[h,l],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[l,[h,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,[l,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[l,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[d,"amd64"]],[/(ia32(?=;))/i],[[d,H]],[/((?:i[346]|x)86)[;\)]/i],[[d,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[d,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[d,"armhf"]],[/windows (ce|mobile); ppc;/i],[[d,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[d,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[d,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[d,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[v,M],[f,w]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[c,[v,M],[f,m]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[v,k],[f,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[v,k],[f,w]],[/(macintosh);/i],[c,[v,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[v,B],[f,m]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[v,C],[f,w]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[v,C],[f,m]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[c,/_/g," "],[v,L],[f,m]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[v,L],[f,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[v,"OPPO"],[f,m]],[/\b(opd2\d{3}a?) bui/i],[c,[v,"OPPO"],[f,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[v,"Vivo"],[f,m]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[c,[v,"Realme"],[f,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[v,D],[f,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[v,D],[f,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[v,N],[f,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[v,N],[f,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[v,"Lenovo"],[f,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[v,"Nokia"],[f,m]],[/(pixel c)\b/i],[c,[v,R],[f,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[v,R],[f,m]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[v,O],[f,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[v,O],[f,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[v,"OnePlus"],[f,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[v,b],[f,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[v,b],[f,m]],[/(playbook);[-\w\),; ]+(rim)/i],[c,v,[f,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[v,T],[f,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[v,A],[f,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[v,A],[f,m]],[/(nexus 9)/i],[c,[v,"HTC"],[f,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[c,/_/g," "],[f,m]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[c,[v,"TCL"],[f,w]],[/(itel) ((\w+))/i],[[v,H],c,[f,K,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[v,"Acer"],[f,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[v,"Meizu"],[f,m]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[c,[v,"Ulefone"],[f,m]],[/droid.+; (a(?:015|06[35]|142p?))/i],[c,[v,"Nothing"],[f,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,c,[f,m]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,c,[f,w]],[/(surface duo)/i],[c,[v,x],[f,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[v,"Fairphone"],[f,m]],[/(u304aa)/i],[c,[v,"AT&T"],[f,m]],[/\bsie-(\w*)/i],[c,[v,"Siemens"],[f,m]],[/\b(rct\w+) b/i],[c,[v,"RCA"],[f,w]],[/\b(venue[\d ]{2,7}) b/i],[c,[v,"Dell"],[f,w]],[/\b(q(?:mv|ta)\w+) b/i],[c,[v,"Verizon"],[f,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[v,"Barnes & Noble"],[f,w]],[/\b(tm\d{3}\w+) b/i],[c,[v,"NuVision"],[f,w]],[/\b(k88) b/i],[c,[v,"ZTE"],[f,w]],[/\b(nx\d{3}j) b/i],[c,[v,"ZTE"],[f,m]],[/\b(gen\d{3}) b.+49h/i],[c,[v,"Swiss"],[f,m]],[/\b(zur\d{3}) b/i],[c,[v,"Swiss"],[f,w]],[/\b((zeki)?tb.*\b) b/i],[c,[v,"Zeki"],[f,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],c,[f,w]],[/\b(ns-?\w{0,9}) b/i],[c,[v,"Insignia"],[f,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[v,"NextBook"],[f,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],c,[f,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],c,[f,m]],[/\b(ph-1) /i],[c,[v,"Essential"],[f,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[v,"Envizen"],[f,w]],[/\b(trio[-\w\. ]+) b/i],[c,[v,"MachSpeed"],[f,w]],[/\btu_(1491) b/i],[c,[v,"Rotor"],[f,w]],[/(shield[\w ]+) b/i],[c,[v,"Nvidia"],[f,w]],[/(sprint) (\w+)/i],[v,c,[f,m]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[v,x],[f,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[v,F],[f,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[v,F],[f,m]],[/smart-tv.+(samsung)/i],[v,[f,p]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[v,M],[f,p]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,N],[f,p]],[/(apple) ?tv/i],[v,[c,k+" TV"],[f,p]],[/crkey/i],[[c,E+"cast"],[v,R],[f,p]],[/droid.+aft(\w+)( bui|\))/i],[c,[v,b],[f,p]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[v,B],[f,p]],[/(bravia[\w ]+)( bui|\))/i],[c,[v,O],[f,p]],[/(mitv-\w{5}) bui/i],[c,[v,L],[f,p]],[/Hbbtv.*(technisat) (.*);/i],[v,c,[f,p]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,z],[c,z],[f,p]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,p]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,c,[f,g]],[/droid.+; (shield) bui/i],[c,[v,"Nvidia"],[f,g]],[/(playstation [345portablevi]+)/i],[c,[v,O],[f,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[v,x],[f,g]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[c,[v,M],[f,y]],[/((pebble))app/i],[v,c,[f,y]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[v,k],[f,y]],[/droid.+; (glass) \d/i],[c,[v,R],[f,y]],[/droid.+; (wt63?0{2,3})\)/i],[c,[v,F],[f,y]],[/(quest( \d| pro)?)/i],[c,[v,V],[f,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[f,_]],[/(aeobc)\b/i],[c,[v,b],[f,_]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[c,[f,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[f,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,m]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[l,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,l],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[l,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,l],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[l,K,q]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[l,K,q],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[l,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,j],[l,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[l,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,l],[/\(bb(10);/i],[l,[h,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[l,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[l,[h,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[l,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[l,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[l,[h,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,U],l],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,l],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],l],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,l]]},Q=function(t,n){if((void 0===t?"undefined":W(t))===s&&(n=t,t=r),!(this instanceof Q))return new Q(t,n).getResult();var g=(void 0===i?"undefined":W(i))!==u&&i.navigator?i.navigator:r,p=t||(g&&g.userAgent?g.userAgent:""),y=g&&g.userAgentData?g.userAgentData:r,_=n?function(t,n){var i={};for(var r in t)n[r]&&n[r].length%2==0?i[r]=n[r].concat(t[r]):i[r]=t[r];return i}(J,n):J,b=g&&g.userAgent==p;return this.getBrowser=function(){var t={};return t[h]=r,t[l]=r,Y.call(t,p,_.browser),t[a]=function(t){return(void 0===t?"undefined":W(t))===o?t.replace(/[^\d\.]/g,"").split(".")[0]:r}(t[l]),b&&g&&g.brave&&W(g.brave.isBrave)==e&&(t[h]="Brave"),t},this.getCPU=function(){var t={};return t[d]=r,Y.call(t,p,_.cpu),t},this.getDevice=function(){var t={};return t[v]=r,t[c]=r,t[f]=r,Y.call(t,p,_.device),b&&!t[f]&&y&&y.mobile&&(t[f]=m),b&&"Macintosh"==t[c]&&g&&W(g.standalone)!==u&&g.maxTouchPoints&&g.maxTouchPoints>2&&(t[c]="iPad",t[f]=w),t},this.getEngine=function(){var t={};return t[h]=r,t[l]=r,Y.call(t,p,_.engine),t},this.getOS=function(){var t={};return t[h]=r,t[l]=r,Y.call(t,p,_.os),b&&!t[h]&&y&&y.platform&&"Unknown"!=y.platform&&(t[h]=y.platform.replace(/chrome os/i,U).replace(/macos/i,j)),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return p},this.setUA=function(t){return p=(void 0===t?"undefined":W(t))===o&&t.length>500?z(t,500):t,this},this.setUA(p),this};Q.VERSION="0.7.39",Q.BROWSER=X([h,l,a]),Q.CPU=X([d]),Q.DEVICE=X([c,v,f,g,m,p,w,y,_]),Q.ENGINE=Q.OS=X([h,l]),t.exports&&(n=t.exports=Q),n.UAParser=Q;var $=(void 0===i?"undefined":W(i))!==u&&(i.jQuery||i.Zepto);if($&&!$.ua){var tt=new Q;$.ua=tt.getResult(),$.ua.get=function(){return tt.getUA()},$.ua.set=function(t){tt.setUA(t);var n=tt.getResult();for(var i in n)$.ua[i]=n[i]}}}("object"==(void 0===f?"undefined":W(f))?f:N)}(ur,ur.exports);var sr=x(ur.exports),or=["iOS"],ar=function(t){function n(){return t.call(this,f.navigator.userAgent)||this}Rt(n,t);var i=n.prototype;return i.isChromium=function(){return this.getUA().match(/Chrome/i)},i.isChrome=function(){var t=this.getBrowser();if(!t.name)return!1;var n,i=this.getOS();return n=!new RegExp(or.join("|"),"i").test(i.name),t.name.match(/Chrome/i)&&n},i.isFirefox=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Firefox/i)},i.isOpera=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Opera/i)},i.isSafari=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Safari/i)},n}(sr),cr=gt.get("SdpParser"),hr=Array.from({length:31},(function(t,n){return n+35})),fr=Array.from({length:32},(function(t,n){return n+96})),vr=Array.from({length:14},(function(t,n){return n+1})),lr=Array.from({length:240},(function(t,n){return n+16})),dr={setSimulcast:function(t,n){if(cr.info("Setting simulcast. Codec: ",n),!(new ar).isChromium())return cr.warn("Your browser does not appear to support Simulcast. For a better experience, use a Chromium based browser."),t;if("h264"!==n&&"vp8"!==n)return cr.warn("Your selected codec ".concat(n," does not appear to support Simulcast.  To broadcast using simulcast, please use H.264 or VP8.")),t;if(!/m=video/.test(t))return cr.warn("There is no available video for simulcast to be enabled."),t;try{for(var i=new RegExp("m=video.*?a=ssrc:(\\d*) cname:(.+?)\\r\\n","s"),r=new RegExp("m=video.*?a=ssrc:(\\d*) msid:(.+?)\\r\\n","s"),e=i.exec(t),u=e[1],s=e[2],o=r.exec(t)[2],a=[u],c=0;c<2;++c){var h=100+2*c,f=h+1;a.push(h),t+="a=ssrc-group:FID "+h+" "+f+"\r\na=ssrc:"+h+" cname:"+s+"\r\na=ssrc:"+h+" msid:"+o+"\r\na=ssrc:"+f+" cname:"+s+"\r\na=ssrc:"+f+" msid:"+o+"\r\n"}return t+="a=ssrc-group:SIM "+a.join(" ")+"\r\n",cr.info("Simulcast setted"),cr.debug("Simulcast SDP: ",t),t}catch(t){throw cr.error("Error setting SDP for simulcast: ",t),t}},setStereo:function(t){return cr.info("Replacing SDP response for support stereo"),t=t.replace(/useinbandfec=1/g,"useinbandfec=1; stereo=1"),cr.info("Replaced SDP response for support stereo"),cr.debug("New SDP value: ",t),t},setDTX:function(t){return cr.info("Replacing SDP response for support dtx"),t=t.replace("useinbandfec=1","useinbandfec=1; usedtx=1"),cr.info("Replaced SDP response for support dtx"),cr.debug("New SDP value: ",t),t},setAbsoluteCaptureTime:function(t){var n="a=extmap:"+dr.getAvailableHeaderExtensionIdRange(t)[0]+" http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(function(t,i,r){return i+n+r})),cr.info("Replaced SDP response for setting absolute capture time"),cr.debug("New SDP value: ",t),t},setDependencyDescriptor:function(t){var n="a=extmap:"+dr.getAvailableHeaderExtensionIdRange(t)[0]+" https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(function(t,i,r){return i+n+r})),cr.info("Replaced SDP response for setting depency descriptor"),cr.debug("New SDP value: ",t),t},setVideoBitrate:function(t,n){if(n<1)cr.info("Remove bitrate restrictions"),t=t.replace(/b=AS:.*\r\n/,"").replace(/b=TIAS:.*\r\n/,"");else{var i=ir.parse(t),r=i.getMedia("video");cr.info("Setting video bitrate"),r.setBitrate(n),t=i.toString()}return t},removeSdpLine:function(t,n){return cr.debug("SDP before trimming: ",t),t=t.split("\n").filter((function(t){return t.trim()!==n})).join("\n"),cr.debug("SDP trimmed result: ",t),t},adaptCodecName:function(t,n,i){if(!t)return t;var r=new RegExp("".concat(n),"i");return t.replace(r,i)},setMultiopus:function(t,n){if(!(new ar).isFirefox()&&(!n||gr(n)))if(t.includes("multiopus/48000/6"))cr.info("Multiopus already setted");else{cr.info("Setting multiopus");var i=/m=audio 9 UDP\/TLS\/RTP\/SAVPF (.*)\r\n/.exec(t)[0],r=dr.getAvailablePayloadTypeRange(t)[0],e=i.replace("\r\n"," ")+r+"\r\na=rtpmap:"+r+" multiopus/48000/6\r\na=fmtp:"+r+" channel_mapping=0,4,1,2,3,5;coupled_streams=2;minptime=10;num_streams=4;useinbandfec=1\r\n";t=t.replace(i,e),cr.info("Multiopus offer created"),cr.debug("SDP parsed for multioups: ",t)}return t},getAvailablePayloadTypeRange:function(t){for(var n=function(t){var n=i[t][1].split(" ").map((function(t){return T(t)}));r=r.filter((function(t){return!n.includes(t)}))},i=t.matchAll(/m=(?:.*) (?:.*) UDP\/TLS\/RTP\/SAVPF (.*)\r\n/gm),r=fr.concat(hr),e=0;e<i.length;e++)n(e);return r},getAvailableHeaderExtensionIdRange:function(t){for(var n=function(t){var n=i[t][1].split(" ").map((function(t){return T(t)}));r=r.filter((function(t){return!n.includes(t)}))},i=t.matchAll(/a=extmap:(\d+)(?:.*)\r\n/gm),r=vr.concat(lr),e=0;e<i.length;e++)n(e);return r},renegotiate:function(t,n){for(var i=ir.parse(t),r=ir.parse(n),e=0,u=i.getMedias();e<u.length;e++){var s=u[e],o=r.getMediaById(s.getId());if(!o){(o=new rr(s.getId(),s.getType())).setDirection(er.reverse(s.getDirection()));var a=r.getMedia(s.getType());if(a){o.setCodecs(a.getCodecs());for(var c=0,h=a.getExtensions();c<h.length;c++){var f=nn(h[c],2),v=f[0],l=f[1];o.addExtension(v,l)}}r.addMedia(o)}}return r.toString()},updateMissingVideoExtensions:function(t,n){var i,r=ir.parse(t),e=null==(i=ir.parse(n).getMediasByType("video")[0])?void 0:i.getExtensions();if(e||e.length){for(var u=function(n,i){var r=i[n],u=r.getExtensions();e.forEach((function(n,i){if(!u.get(i)){var e=r.getId(),s="a=extmap:"+i+" "+n+"\r\n",o=new RegExp("(a=mid:"+e+"\r\n(?:.*\r\n)*?)","g");t=t.replace(o,(function(t,n,i){return n+s}))}}))},s=0,o=r.getMediasByType("video");s<o.length;s++)u(s,o);return t}},getCodecPayloadType:function(t){for(var n=t.matchAll(/a=rtpmap:(\d+) (\w+)\/\d+/g),i={},r=0;r<n.length;r++){var e=n[r];i[e[1]]=e[2]}return i}},gr=function(t){return t.getAudioTracks().some((function(t){return t.getSettings().channelCount>2}))},mr={VP8:"vp8",VP9:"vp9",H264:"h264",AV1:"av1",H265:"h265"},wr={OPUS:"opus",MULTIOPUS:"multiopus"},pr=gt.get("PeerConnection"),yr="Publisher",_r="Viewer",br={track:"track",connectionStateChange:"connectionStateChange"},kr={stereo:!1,mediaStream:null,codec:"h264",simulcast:!1,scalabilityMode:null,disableAudio:!1,disableVideo:!1,setSDPToPeer:!0},Ar=function(t){function n(){var n;return(n=t.call(this)||this).mode=null,n.sessionDescription=null,n.peer=null,n.peerConnectionStats=null,n.transceiverMap=new Map,n}Rt(n,t);var i=n.prototype;return i.createRTCPeer=function(t,n){void 0===t&&(t={autoInitStats:!0,statsIntervalMs:1e3}),void 0===n&&(n=_r);var i=this;return Zt((function(){return Ht(this,(function(r){return pr.info("Creating new RTCPeerConnection"),pr.debug("RTC configuration provided by user: ",t),i.peer=Er(i,t),i.mode=n,t.autoInitStats&&i.initStats(t),[2]}))}))()},i.getRTCPeer=function(){return pr.info("Getting RTC Peer"),this.peer},i.closeRTCPeer=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return pr.info("Closing RTCPeerConnection"),null==(n=t.peer)||n.close(),t.peer=null,t.stopStats(),t.emit(br.connectionStateChange,"closed"),[2]}))}))()},i.setRTCRemoteSDP=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:pr.info("Setting RTC Remote SDP"),i={type:"answer",sdp:t},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,n.peer.setRemoteDescription(i)];case 2:return e.sent(),pr.info("RTC Remote SDP was set successfully."),pr.debug("RTC Remote SDP new value: ",t),[3,4];case 3:throw r=e.sent(),pr.error("Error while setting RTC Remote SDP: ",r),r;case 4:return[2]}}))}))()},i.getRTCLocalSDP=function(t){void 0===t&&(t=kr);var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return pr.info("Getting RTC Local SDP"),t=m(m({},kr),t),pr.debug("Options: ",t),(i=Sr(t.mediaStream))?Nr(n.peer,i,t):xr(n.peer,t),pr.info("Creating peer offer"),[4,n.peer.createOffer()];case 1:return r=e.sent(),pr.info("Peer offer created"),pr.debug("Peer offer response: ",r.sdp),n.sessionDescription=r,t.disableAudio||(t.stereo&&(n.sessionDescription.sdp=dr.setStereo(n.sessionDescription.sdp)),t.dtx&&(n.sessionDescription.sdp=dr.setDTX(n.sessionDescription.sdp)),n.sessionDescription.sdp=dr.setMultiopus(n.sessionDescription.sdp,i)),!t.disableVideo&&t.simulcast&&(n.sessionDescription.sdp=dr.setSimulcast(n.sessionDescription.sdp,t.codec)),t.absCaptureTime&&(n.sessionDescription.sdp=dr.setAbsoluteCaptureTime(n.sessionDescription.sdp)),t.dependencyDescriptor&&(n.sessionDescription.sdp=dr.setDependencyDescriptor(n.sessionDescription.sdp)),t.setSDPToPeer?[4,n.peer.setLocalDescription(n.sessionDescription)]:[3,3];case 2:e.sent(),pr.info("Peer local description set"),e.label=3;case 3:return[2,n.sessionDescription.sdp]}}))}))()},i.addRemoteTrack=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,new ut((function(r,e){try{var u=i.peer.addTransceiver(t,{direction:"recvonly",streams:n});i.transceiverMap.set(u,r)}catch(t){e(t)}}))]}))}))()},i.updateBandwidthRestriction=function(t,n){if(this.mode===_r)throw pr.error("Viewer attempting to update bitrate, this is not allowed"),new y("It is not possible for a viewer to update the bitrate.");return pr.info("Updating bandwidth restriction, bitrate value: ",n),pr.debug("SDP value: ",t),dr.setVideoBitrate(t,n)},i.updateBitrate=function(t){void 0===t&&(t=0);var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(n.mode===_r)throw pr.error("Viewer attempting to update bitrate, this is not allowed"),new y("It is not possible for a viewer to update the bitrate.");if(!n.peer)throw pr.error("Cannot update bitrate. No peer found."),new y("Cannot update bitrate. No peer found.");return pr.info("Updating bitrate to value: ",t),[4,n.peer.createOffer()];case 1:return n.sessionDescription=r.sent(),[4,n.peer.setLocalDescription(n.sessionDescription)];case 2:return r.sent(),i=n.updateBandwidthRestriction(n.peer.remoteDescription.sdp,t),[4,n.setRTCRemoteSDP(i)];case 3:return r.sent(),pr.info("Bitrate restrictions updated: ","".concat(t>0?t:"unlimited"," kbps")),[2]}}))}))()},i.getRTCPeerStatus=function(){if(pr.info("Getting RTC peer status"),!this.peer)return null;var t=Dr(this.peer);return pr.info("RTC peer status getted, value: ",t),t},i.replaceTrack=function(t){if(this.peer){var n=this.peer.getSenders().find((function(n){return n.track.kind===t.kind}));n?n.replaceTrack(t):pr.error("There is no ".concat(t.kind," track in active broadcast."))}else pr.error("Could not change track if there is not an active connection.")},i.getTracks=function(){var t,n;return null==(n=null==(t=this.peer)?void 0:t.getSenders())?void 0:n.map((function(t){return t.track}))},i.initStats=function(t){this.peerConnectionStats?pr.warn("PeerConnection.initStats() has already been called. Automatic initialization occurs via View.connect(), Publish.connect() or this.createRTCPeer(). See options"):this.peer?(this.peerConnectionStats=new Gt(this.peer,t),Ft(this.peerConnectionStats,this,[Xt])):pr.warn("Cannot init peer stats: RTCPeerConnection not initialized")},i.stopStats=function(){var t;null==(t=this.peerConnectionStats)||t.stop(),this.peerConnectionStats=null},n.getCapabilities=function(t){var n=new ar,i=RTCRtpSender.getCapabilities(t);if(i){var r={},e=new RegExp("^video/(".concat(k.values(mr).join("|"),")x?$"),"i");"audio"===t&&(e=new RegExp("^audio/(".concat(k.values(wr).join("|"),")$"),"i"),n.isChrome()&&(r.multiopus={mimeType:"audio/multiopus",channels:6}));for(var u=0,s=i.codecs;u<s.length;u++){var o=s[u],a=o.mimeType.match(e);if(a){var c=a[1].toLowerCase();if(r[c]=b(m({},r[c]),{mimeType:o.mimeType}),o.scalabilityModes){var h=r[c].scalabilityModes||[];h=Ut(h).concat(Ut(o.scalabilityModes)),r[c].scalabilityModes=Ut(new Set(h))}o.channels&&(r[c].channels=o.channels)}}i.codecs=k.keys(r).map((function(t){return m({codec:t},r[t])}))}return i},n}(Mt),Tr=function(t){return(null==t?void 0:t.getAudioTracks().length)<=1&&(null==t?void 0:t.getVideoTracks().length)<=1},Sr=function(t){if(!t)return null;if(t instanceof MediaStream&&Tr(t))return t;if(!(t instanceof MediaStream)){pr.info("Creating MediaStream to add received tracks.");for(var n=new MediaStream,i=0;i<t.length;i++){var r=t[i];n.addTrack(r)}if(Tr(n))return n}throw pr.error("MediaStream must have 1 audio track and 1 video track, or at least one of them."),new y("MediaStream must have 1 audio track and 1 video track, or at least one of them.")},Er=function(t,n){var i=new RTCPeerConnection(n);return Cr(t,i),i};function Ir(t){return Rr.apply(this,arguments)}function Rr(){return Rr=Zt((function(t){return Ht(this,(function(n){return[2,new ut((function(n){return g(n,t)}))]}))})),Rr.apply(this,arguments)}var Cr=function(t,n){n.ontrack=Zt((function(n){var i;return Ht(this,(function(r){switch(r.label){case 0:if(pr.info("New track from peer."),pr.debug("Track event value: ",n),!(i=t.transceiverMap.get(n.transceiver)))return[3,5];r.label=1;case 1:return n.transceiver.mid?[3,4]:[4,Ir(100)];case 2:r.sent(),r.label=3;case 3:return[3,1];case 4:i(n.transceiver),t.transceiverMap.delete(n.transceiver),r.label=5;case 5:return g((function(){t.emit(br.track,n)}),0),[2]}}))})),n.connectionState?n.onconnectionstatechange=function(i){pr.info("Peer connection state change: ",n.connectionState),t.emit(br.connectionStateChange,n.connectionState)}:n.oniceconnectionstatechange=function(i){pr.info("Peer ICE connection state change: ",n.iceConnectionState),t.emit(br.connectionStateChange,n.iceConnectionState)},n.onnegotiationneeded=Zt((function(t){var i,r;return Ht(this,(function(t){switch(t.label){case 0:return n.remoteDescription?(pr.info("Peer onnegotiationneeded, updating local description"),[4,n.createOffer()]):[2];case 1:return i=t.sent(),pr.info("Peer onnegotiationneeded, got local offer",i.sdp),i.sdp=dr.updateMissingVideoExtensions(i.sdp,n.remoteDescription.sdp),[4,n.setLocalDescription(i)];case 2:return t.sent(),r=dr.renegotiate(i.sdp,n.remoteDescription.sdp),pr.info("Peer onnegotiationneeded, updating remote description",r),[4,n.setRemoteDescription({type:"answer",sdp:r})];case 3:return t.sent(),pr.info("Peer onnegotiationneeded, renegotiation done"),[2]}}))}))},Nr=function(t,n,i){pr.info("Adding mediaStream tracks to RTCPeerConnection");for(var r=0,e=n.getTracks();r<e.length;r++){var u=e[r],s={streams:[n]};"audio"===u.kind&&(s.direction=i.disableAudio?"inactive":"sendonly"),"video"===u.kind&&(s.direction=i.disableVideo?"inactive":"sendonly",i.scalabilityMode&&(new ar).isChrome()?(pr.debug("Video track with scalability mode: ".concat(i.scalabilityMode,".")),s.sendEncodings=[{scalabilityMode:i.scalabilityMode}]):i.scalabilityMode&&pr.warn("SVC is only supported in Google Chrome")),t.addTransceiver(u,s),pr.info("Track '".concat(u.label,"' added: "),"id: ".concat(u.id),"kind: ".concat(u.kind))}},xr=function(t,n){var i=new ar;if(!n.disableVideo){var r=t.addTransceiver("video",{direction:"recvonly"});i.isOpera()&&r.setCodecPreferences(RTCRtpReceiver.getCapabilities("video").codecs.filter((function(t){return"video/H264"!==t.mimeType||t.sdpFmtpLine.includes("profile-level-id=4")})))}n.disableAudio||t.addTransceiver("audio",{direction:"recvonly"});for(var e=0;e<n.multiplexedAudioTracks;e++)t.addTransceiver("audio",{direction:"recvonly"})},Dr=function(t){var n,i=null!=(n=t.connectionState)?n:t.iceConnectionState;switch(i){case"checking":return"connecting";case"completed":return"connected";default:return i}},Pr={};k.defineProperty(Pr,"__esModule",{value:!0}),Pr.TypedEmitter=Pt.EventEmitter;var Mr=Pr.TypedEmitter,Br=function(t){function n(n,i){var r;return(r=t.call(this)||this).namespace=n,r.tm=i,r}Rt(n,t);var i=n.prototype;return i.cmd=function(t,n){return this.tm.cmd(t,n,this.namespace)},i.event=function(t,n){return this.tm.event(t,n,this.namespace)},i.close=function(){return this.tm.namespaces.delete(this.namespace)},n}(Mr),Or=function(t){function n(n){var i;return(i=t.call(this)||this).maxId=0,i.namespaces=new Map,i.transactions=new Map,i.transport=n,i.listener=function(t){var n;try{n=JSON.parse(t.utf8Data||t.data||t)}catch(t){return}switch(n.type){case"cmd":var r=n.transId,e={name:n.name,data:n.data,namespace:n.namespace,accept:function(t){i.h_({type:"response",transId:r,data:t})},reject:function(t){i.h_({type:"error",transId:r,data:t})}};if(e.namespace){var u=i.namespaces.get(e.namespace);u?u.emit("cmd",e):i.emit("cmd",e)}else i.emit("cmd",e);break;case"response":var s=i.transactions.get(n.transId);if(!s)return;i.transactions.delete(n.transId),s.resolve(n.data);break;case"error":var o=i.transactions.get(n.transId);if(!o)return;i.transactions.delete(n.transId),o.reject(n.data);break;case"event":var a={name:n.name,data:n.data,namespace:n.namespace};if(a.namespace){var c=i.namespaces.get(a.namespace);c?c.emit("event",a):i.emit("event",a)}else i.emit("event",a)}},i.transport.addListener?i.transport.addListener("message",i.listener):i.transport.addEventListener("message",i.listener),i}Rt(n,t);var i=n.prototype;return i.h_=function(t){this.transport.send(JSON.stringify(t))},i.cmd=function(t,n,i){var r=this;return void 0===i&&(i=void 0),new ut((function(e,u){if(!t||0===t.length)throw new y("Bad command name");var s={type:"cmd",transId:r.maxId++,name:t,data:n};i&&(s.namespace=i),r.transactions.set(s.transId,b(m({},s),{resolve:e,reject:u}));try{r.h_(s)}catch(t){throw r.transactions.delete(s.transId),t}}))},i.event=function(t,n,i){if(void 0===i&&(i=void 0),!t||0===t.length)throw new y("Bad event name");var r={type:"event",name:t,data:n};i&&(r.namespace=i),this.h_(r)},i.namespace=function(t){var n=this.namespaces.get(t);return n||(n=new Br(t,this),this.namespaces.set(t,n),n)},i.close=function(){for(var t=0,n=this.namespaces.values();t<n.length;t++)n[t].close();this.transport.removeListener?this.transport.removeListener("message",this.listener):this.transport.removeEventListener("message",this.listener)},n}(Mr),Lr=x(Or),Fr=gt.get("Signaling"),Vr="wsConnectionSuccess",Ur="wsConnectionError",Wr="wsConnectionClose",jr="broadcastEvent",Zr=function(t){function n(n){var i;return void 0===n&&(n={streamName:null,url:"ws://localhost:8080/"}),(i=t.call(this)||this).streamName=n.streamName,i.wsUrl=n.url,i.webSocket=null,i.transactionManager=null,i.serverId=null,i.clusterId=null,i.streamViewId=null,i}Rt(n,t);var i=n.prototype;return i.connect=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return[2,(Fr.info("Connecting to Signaling Server"),t.transactionManager&&(null==(n=t.webSocket)?void 0:n.readyState)===WebSocket.OPEN?(Fr.info("Connected to server: ",t.webSocket.url),Fr.debug("WebSocket value: ",{url:t.webSocket.url,protocol:t.webSocket.protocol,readyState:t.webSocket.readyState,binaryType:t.webSocket.binaryType,extensions:t.webSocket.extensions}),t.emit(Vr,{ws:t.webSocket,tm:t.transactionManager}),t.webSocket):new ut((function(n,i){t.webSocket=new WebSocket(t.wsUrl),t.transactionManager=new Lr(t.webSocket),t.webSocket.onopen=function(){Fr.info("WebSocket opened"),t.transactionManager.on("event",(function(n){t.emit(jr,n)})),Fr.info("Connected to server: ",t.webSocket.url),Fr.debug("WebSocket value: ",{url:t.webSocket.url,protocol:t.webSocket.protocol,readyState:t.webSocket.readyState,binaryType:t.webSocket.binaryType,extensions:t.webSocket.extensions}),t.emit(Vr,{ws:t.webSocket,tm:t.transactionManager}),n(t.webSocket)},t.webSocket.onerror=function(){Fr.error("WebSocket not connected: ",t.webSocket.url),t.emit(Ur,t.webSocket.url),i(t.webSocket.url)},t.webSocket.onclose=function(){t.webSocket=null,t.transactionManager=null,Fr.info("Connection closed with Signaling Server."),t.emit(Wr)}})))]}))}))()},i.close=function(){var t;Fr.info("Closing connection with Signaling Server."),null==(t=this.webSocket)||t.close()},i.subscribe=function(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:Fr.info("Starting subscription to streamName: ",e.streamName),Fr.debug("Subcription local description: ",t),c=Xr(n,i,r),t=dr.adaptCodecName(t,"AV1X",mr.AV1),h=["active","inactive","layers","viewercount","vad","updated","migrate","stopped"],f={sdp:t,streamId:e.streamName,pinnedSourceId:c.pinnedSourceId,excludedSourceIds:c.excludedSourceIds,events:h},c.vad&&(f.vad=!0),Array.isArray(c.events)&&(f.events=c.events),c.forcePlayoutDelay&&(f.forcePlayoutDelay=c.forcePlayoutDelay),c.layer&&(f.layer=c.layer),g.label=1;case 1:if(g.trys.push([1,4,,5]),c.disableVideo&&c.disableAudio)throw new y("Not attempting to connect as video and audio are disabled");return[4,e.connect()];case 2:return g.sent(),Fr.info("Sending view command"),[4,e.transactionManager.cmd("view",f)];case 3:return v=g.sent(),l=null==(a=null==(o=null==(s=null==(u=RTCRtpReceiver.getCapabilities)?void 0:u.call(RTCRtpReceiver,"video"))?void 0:s.codecs)?void 0:o.find)?void 0:a.call(o,(function(t){return"video/AV1X"===t.mimeType})),[2,(v.sdp=l?dr.adaptCodecName(v.sdp,mr.AV1,"AV1X"):v.sdp,Fr.info("Command sent, subscriberId: ",v.subscriberId),Fr.debug("Command result: ",v),e.serverId=v.subscriberId,e.clusterId=v.clusterId,e.streamViewId=v.streamViewId,Y(e.streamName),K(e.serverId),q(v.streamViewId),nt(e.clusterId),v.sdp)];case 4:throw d=g.sent(),Fr.error("Error sending view command, error: ",d),d;case 5:return[2]}}))}))()},i.publish=function(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,l,d,g,m,w,p,_;return Ht(this,(function(b){switch(b.label){case 0:if(l=Gr(n,i,r),Fr.info("Starting publishing to streamName: ".concat(e.streamName,", codec: ").concat(l.codec)),Fr.debug("Publishing local description: ",t),d=null!=(a=null==(o=null==(s=null==(u=Ar.getCapabilities)?void 0:u.call(Ar,"video"))?void 0:s.codecs)?void 0:o.map((function(t){return t.codec})))?a:[],-1===(g=k.values(mr)).indexOf(l.codec))throw Fr.error("Invalid codec ".concat(l.codec,". Possible values are: "),g),new y("Invalid codec ".concat(l.codec,". Possible values are: ").concat(g));if(d.length>0&&-1===d.indexOf(l.codec))throw Fr.error("Unsupported codec ".concat(l.codec,". Possible values are: "),d),new y("Unsupported codec ".concat(l.codec,". Possible values are: ").concat(d));if(l.codec===mr.AV1&&(t=dr.adaptCodecName(t,"AV1X",mr.AV1)),m={name:e.streamName,sdp:t,codec:l.codec,sourceId:l.sourceId},l.priority){if(!(Number.isInteger(l.priority)&&l.priority>=-2147483648&&l.priority<=2147483647))throw new y("Invalid value for priority option. It should be a decimal integer between the range [-2^31, +2^31 - 1]");m.priority=l.priority}null!==l.record&&(m.record=l.record),Array.isArray(l.events)&&(m.events=l.events),b.label=1;case 1:if(b.trys.push([1,4,,5]),l.disableVideo&&l.disableAudio)throw new y("Not attempting to connect as video and audio are disabled");return[4,e.connect()];case 2:return b.sent(),Fr.info("Sending publish command"),[4,e.transactionManager.cmd("publish",m)];case 3:return w=b.sent(),l.codec===mr.AV1&&(p=null==(v=null==(f=null==(h=null==(c=RTCRtpSender.getCapabilities)?void 0:c.call(RTCRtpSender,"video"))?void 0:h.codecs)?void 0:f.find)?void 0:v.call(f,(function(t){return"video/AV1X"===t.mimeType})),w.sdp=p?dr.adaptCodecName(w.sdp,mr.AV1,"AV1X"):w.sdp),[2,(Fr.info("Command sent, publisherId: ",w.publisherId),Fr.debug("Command result: ",w),e.serverId=w.publisherId,e.clusterId=w.clusterId,Y(e.streamName),K(e.serverId),J(w.feedId),nt(e.clusterId),w.sdp)];case 4:throw _=b.sent(),Fr.error("Error sending publish command, error: ",_),_;case 5:return[2]}}))}))()},i.cmd=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,(Fr.info("Sending cmd: ".concat(t)),i.transactionManager.cmd(t,n))]}))}))()},n}(Mt),Xr=function(t,n,i){var r="object"==(void 0===t?"undefined":W(t))?t:{};return 0===k.keys(r).length&&(r={vad:t,pinnedSourceId:n,excludedSourceIds:i}),r},Gr=function(t,n,i){var r="object"==(void 0===t?"undefined":W(t))?t:{};return 0===k.keys(r).length&&(r={codec:null!=t?t:mr.H264,record:n,sourceId:i}),r},Hr=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).name="FetchError",r.status=i,r}return Rt(n,t),n}(mn(y)),zr=gt.get("Director"),Yr="WebRtc",Kr="",qr="https://director.millicast.com",Jr={setEndpoint:function(t){qr=t.replace(/\/$/,"")},getEndpoint:function(){return qr},setLiveDomain:function(t){Kr=t.replace(/\/$/,"")},getLiveDomain:function(){return Kr},getPublisher:Zt((function(t,n,i){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:void 0===n&&(n=null),void 0===i&&(i=Yr),r=Qr(t,n,i),zr.info("Getting publisher connection path for stream name: ",r.streamName),e={streamName:r.streamName,streamType:r.streamType},u={"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)},s="".concat(Jr.getEndpoint(),"/api/director/publish"),h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(s,{method:"POST",headers:u,body:JSON.stringify(e)})];case 2:return[4,(o=h.sent()).json()];case 3:if("fail"===(a=h.sent()).status)throw new Hr(a.data.message,o.status);return[2,(a=te(a),zr.debug("Getting publisher response: ",a),z(a.data.streamAccountId),a.data)];case 4:throw c=h.sent(),zr.error("Error while getting publisher connection path. ",c),c;case 5:return[2]}}))})),getSubscriber:Zt((function(t,n,i){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:void 0===n&&(n=null),void 0===i&&(i=null),r=$r(t,n,i),z(r.streamAccountId),zr.info("Getting subscriber connection data for stream name: ".concat(r.streamName," and account id: ").concat(r.streamAccountId)),e={streamAccountId:r.streamAccountId,streamName:r.streamName},u={"Content-Type":"application/json"},r.subscriberToken&&(u=b(m({},u),{Authorization:"Bearer ".concat(r.subscriberToken)})),s="".concat(Jr.getEndpoint(),"/api/director/subscribe"),h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(s,{method:"POST",headers:u,body:JSON.stringify(e)})];case 2:return[4,(o=h.sent()).json()];case 3:if("fail"===(a=h.sent()).status)throw new Hr(a.data.message,o.status);return[2,(a=te(a),zr.debug("Getting subscriber response: ",a),r.subscriberToken&&(a.data.subscriberToken=r.subscriberToken),a.data)];case 4:throw c=h.sent(),zr.error("Error while getting subscriber connection path. ",c),c;case 5:return[2]}}))}))},Qr=function(t,n,i){var r="object"==(void 0===t?"undefined":W(t))?t:{};return 0===k.keys(r).length&&(r={token:t,streamName:n,streamType:i}),r},$r=function(t,n,i){var r="object"==(void 0===t?"undefined":W(t))?t:{};return 0===k.keys(r).length&&(r={streamName:t,streamAccountId:n,subscriberToken:i}),r},te=function(t){if(Jr.getLiveDomain()){var n=/\/\/(.*?)\//,i=t.data.urls.map((function(t){var i=n.exec(t);return t.replace(i[1],Jr.getLiveDomain())}));t.data.urls=i}if(t.data.drmObject){var r=t.data.drmObject.playReadyUrl;r&&(t.data.drmObject.playReadyUrl="".concat(Jr.getEndpoint()).concat(r));var e=t.data.drmObject.widevineUrl;e&&(t.data.drmObject.widevineUrl="".concat(Jr.getEndpoint()).concat(e));var u=t.data.drmObject.fairPlayUrl;u&&(t.data.drmObject.fairPlayUrl="".concat(Jr.getEndpoint()).concat(u));var s=t.data.drmObject.fairPlayCertUrl;s&&(t.data.drmObject.fairPlayCertUrl="".concat(Jr.getEndpoint()).concat(s))}return t};function ne(t){this.message=t}ne.prototype=new y,ne.prototype.name="InvalidCharacterError";var ie=(void 0===f?"undefined":W(f))<"u"&&f.atob&&f.atob.bind(f)||function(t){var n=String(t).replace(/=+$/,"");if(n.length%4==1)throw new ne("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,r,e=0,u=0,s="";r=n.charAt(u++);~r&&(i=e%4?64*i+r:r,e++%4)?s+=String.fromCharCode(255&i>>(-2*e&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function re(t){this.message=t}function ee(t,n){if("string"!=typeof t)throw new re("Invalid token specified");var i=!0===(n=n||{}).header?0:1;try{return JSON.parse(function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(ie(t).replace(/(.)/g,(function(t,n){var i=n.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i})))}(n)}catch(t){return ie(n)}}(t.split(".")[i]))}catch(t){throw new re("Invalid token specified: "+t.message)}}re.prototype=new y,re.prototype.name="InvalidTokenError";var ue={exports:{}};!function(t,n){!function(i){if(null!=n&&"number"!=typeof n.nodeType)t.exports=i();else{var r=i(),e=("undefined"==typeof self?"undefined":W(self))<"u"?self:$.global;"function"!=typeof e.btoa&&(e.btoa=r.btoa),"function"!=typeof e.atob&&(e.atob=r.atob)}}((function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(t){this.message=t}return n.prototype=new y,n.prototype.name="InvalidCharacterError",{btoa:function(i){for(var r,e,u,s,o=String(i),a=0,c="";a<o.length;){if(r=o.charCodeAt(a++),e=o.charCodeAt(a++),u=o.charCodeAt(a++),r>255||e>255||u>255)throw new n("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");c+=t.charAt((s=r<<16|e<<8|u)>>18&63)+t.charAt(s>>12&63)+t.charAt(s>>6&63)+t.charAt(63&s)}switch(o.length%3){case 0:return c;case 1:return c.slice(0,-2)+"==";case 2:return c.slice(0,-1)+"="}},atob:function(i){var r=String(i).replace(/[=]+$/,"");if(r.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,u,s=0,o=0,a="";u=r.charAt(o++);~u&&(e=s%4?64*e+u:u,s++%4)?a+=String.fromCharCode(255&e>>(-2*s&6)):0)u=t.indexOf(u);return a}}}))}(ue,ue.exports);var se=ue.exports,oe={exports:{}};!function(t,e){self,t.exports=function(){return t={7629:function(t,n,i){var r=i(375),e=i(8571),u=i(9474),s=i(1687),o=i(8652),a=i(8160),c=i(3292),h=i(6354),f=i(8901),v=i(9708),l=i(6914),d=i(2294),g=i(6133),m=i(1152),w=i(8863),p=i(2036),_={Base:function(){function t(t){this.type=t,this.$_root=null,this.y_={},this.a_()}var n=t.prototype;return n.a_=function(){this.u_=new d.Ids,this.c_=null,this.l_=new g.Manager,this.d_=null,this.f_=null,this.__=null,this.v_={},this.m_=[],this.g_=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}},n.describe=function(){return r("function"==typeof v.describe,"Manifest functionality disabled"),v.describe(this)},n.allow=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"allow"),this.p_(n,"f_")},n.alter=function(t){r(t&&"object"==(void 0===t?"undefined":W(t))&&!Array.isArray(t),"Invalid targets argument"),r(!this.w_(),"Cannot set alterations inside a ruleset");var n=this.clone();for(var i in n.$_terms.alterations=n.$_terms.alterations||[],t){var e=t[i];r("function"==typeof e,"Alteration adjuster for",i,"must be a function"),n.$_terms.alterations.push({target:i,adjuster:e})}return n.$_temp.ruleset=!1,n},n.artifact=function(t){return r(void 0!==t,"Artifact cannot be undefined"),r(!this.d_,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",t)},n.cast=function(t){return r(!1===t||"string"==typeof t,"Invalid to value"),r(!1===t||this.y_.cast[t],"Type",this.type,"does not support casting to",t),this.$_setFlag("cast",!1===t?void 0:t)},n.default=function(t,n){return this.b_("default",t,n)},n.description=function(t){return r(t&&"string"==typeof t,"Description must be a non-empty string"),this.$_setFlag("description",t)},n.empty=function(t){var n=this.clone();return void 0!==t&&(t=n.$_compile(t,{override:!1})),n.$_setFlag("empty",t,{clone:!1})},n.error=function(t){return r(t,"Missing error"),r(t instanceof y||"function"==typeof t,"Must provide a valid Error object or a function"),this.$_setFlag("error",t)},n.example=function(t,n){return void 0===n&&(n={}),r(void 0!==t,"Missing example"),a.assertOptions(n,["override"]),this.A_("examples",t,{single:!0,override:n.override})},n.external=function(t,n){return"object"==(void 0===t?"undefined":W(t))&&(r(!n,"Cannot combine options with description"),n=t.description,t=t.method),r("function"==typeof t,"Method must be a function"),r(void 0===n||n&&"string"==typeof n,"Description must be a non-empty string"),this.A_("externals",{method:t,description:n},{single:!0})},n.failover=function(t,n){return this.b_("failover",t,n)},n.forbidden=function(){return this.presence("forbidden")},n.id=function(t){return t?(r("string"==typeof t,"id must be a non-empty string"),r(/^[^\.]+$/.test(t),"id cannot contain period character"),this.$_setFlag("id",t)):this.$_setFlag("id",void 0)},n.invalid=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.p_(n,"__")},n.label=function(t){return r(t&&"string"==typeof t,"Label name must be a non-empty string"),this.$_setFlag("label",t)},n.meta=function(t){return r(void 0!==t,"Meta cannot be undefined"),this.A_("metas",t,{single:!0})},n.note=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r(n.length,"Missing notes");for(var e=0;e<n.length;e++){var u=n[e];r(u&&"string"==typeof u,"Notes must be non-empty strings")}return this.A_("notes",n)},n.only=function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"Invalid mode:",t),this.$_setFlag("only",t)},n.optional=function(){return this.presence("optional")},n.prefs=function(t){r(t,"Missing preferences"),r(void 0===t.context,"Cannot override context"),r(void 0===t.externals,"Cannot override externals"),r(void 0===t.warnings,"Cannot override warnings"),r(void 0===t.debug,"Cannot override debug"),a.checkPreferences(t);var n=this.clone();return n.c_=a.preferences(n.c_,t),n},n.presence=function(t){return r(["optional","required","forbidden"].includes(t),"Unknown presence mode",t),this.$_setFlag("presence",t)},n.raw=function(t){return void 0===t&&(t=!0),this.$_setFlag("result",t?"raw":void 0)},n.result=function(t){return r(["raw","strip"].includes(t),"Unknown result mode",t),this.$_setFlag("result",t)},n.required=function(){return this.presence("required")},n.strict=function(t){var n=this.clone(),i=void 0!==t&&!t;return n.c_=a.preferences(n.c_,{convert:i}),n},n.strip=function(t){return void 0===t&&(t=!0),this.$_setFlag("result",t?"strip":void 0)},n.tag=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r(n.length,"Missing tags");for(var e=0;e<n.length;e++){var u=n[e];r(u&&"string"==typeof u,"Tags must be non-empty strings")}return this.A_("tags",n)},n.unit=function(t){return r(t&&"string"==typeof t,"Unit name must be a non-empty string"),this.$_setFlag("unit",t)},n.valid=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a.verifyFlat(n,"valid");var r=this.allow.apply(this,Ut(n));return r.$_setFlag("only",!!r.f_,{clone:!1}),r},n.when=function(t,n){var i=this.clone();i.$_terms.whens||(i.$_terms.whens=[]);var e=c.when(i,t,n);if(!["any","link"].includes(i.type))for(var u=e.is?[e]:e.switch,s=0;s<u.length;s++){var o=u[s];r(!o.then||"any"===o.then.type||o.then.type===i.type,"Cannot combine",i.type,"with",o.then&&o.then.type),r(!o.otherwise||"any"===o.otherwise.type||o.otherwise.type===i.type,"Cannot combine",i.type,"with",o.otherwise&&o.otherwise.type)}return i.$_terms.whens.push(e),i.$_mutateRebuild()},n.cache=function(t){r(!this.w_(),"Cannot set caching inside a ruleset"),r(!this.d_,"Cannot override schema cache"),r(void 0===this.v_.artifact,"Cannot cache a rule with an artifact");var n=this.clone();return n.d_=t||o.provider.provision(),n.$_temp.ruleset=!1,n},n.clone=function(){var t=k.create(k.getPrototypeOf(this));return this.S_(t)},n.concat=function(t){var n=function(t,n){var r=n[t];i.g_.has(r)&&(i.m_=i.m_.filter((function(t){return t.keep||t.name!==r})),i.g_.delete(r))};r(a.isSchema(t),"Invalid schema object"),r("any"===this.type||"any"===t.type||t.type===this.type,"Cannot merge type",this.type,"with another type:",t.type),r(!this.w_(),"Cannot concatenate onto a schema with open ruleset"),r(!t.w_(),"Cannot concatenate a schema with open ruleset");var i=this.clone();if("any"===this.type&&"any"!==t.type){for(var e=t.clone(),u=0,o=k.keys(i);u<o.length;u++){var c=o[u];"type"!==c&&(e[c]=i[c])}i=e}i.u_.concat(t.u_),i.l_.register(t,g.toSibling),i.c_=i.c_?a.preferences(i.c_,t.c_):t.c_,i.f_=p.merge(i.f_,t.f_,t.__),i.__=p.merge(i.__,t.__,t.f_);for(var h=0,f=t.g_.keys();h<f.length;h++)n(h,f);for(var v=0,l=t.m_;v<l.length;v++){var d=l[v];t.y_.rules[d.method].multi||i.g_.set(d.name,d),i.m_.push(d)}if(i.v_.empty&&t.v_.empty){i.v_.empty=i.v_.empty.concat(t.v_.empty);var m=k.assign({},t.v_);delete m.empty,s(i.v_,m)}else if(t.v_.empty){i.v_.empty=t.v_.empty;var w=k.assign({},t.v_);delete w.empty,s(i.v_,w)}else s(i.v_,t.v_);for(var y in t.$_terms){var _=t.$_terms[y];_?i.$_terms[y]?i.$_terms[y]=i.$_terms[y].concat(_):i.$_terms[y]=_.slice():i.$_terms[y]||(i.$_terms[y]=_)}return this.$_root.T_&&this.$_root.T_.k_(i,[this,t]),i.$_mutateRebuild()},n.extend=function(t){return r(!t.base,"Cannot extend type with another base"),f.type(this,t)},n.extract=function(t){return t=Array.isArray(t)?t:t.split("."),this.u_.reach(t)},n.fork=function(t,n){r(!this.w_(),"Cannot fork inside a ruleset");for(var i=this,e=0,u=[].concat(t);e<u.length;e++){var s=u[e];s=Array.isArray(s)?s:s.split("."),i=i.u_.fork(s,n,i)}return i.$_temp.ruleset=!1,i},n.rule=function(t){var n=this.y_;a.assertOptions(t,k.keys(n.modifiers)),r(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");var i=null===this.$_temp.ruleset?this.m_.length-1:this.$_temp.ruleset;r(i>=0&&i<this.m_.length,"Cannot apply rules to empty ruleset");for(var u=this.clone(),s=i;s<u.m_.length;++s){var o=u.m_[s],c=e(o);for(var h in t)n.modifiers[h](c,t[h]),r(c.name===o.name,"Cannot change rule name");u.m_[s]=c,u.g_.get(c.name)===o&&u.g_.set(c.name,c)}return u.$_temp.ruleset=!1,u.$_mutateRebuild()},n.tailor=function(t){t=[].concat(t),r(!this.w_(),"Cannot tailor inside a ruleset");var n=this;if(this.$_terms.alterations)for(var i=0,e=this.$_terms.alterations;i<e.length;i++){var u=e[i],s=u.target,o=u.adjuster;t.includes(s)&&(n=o(n),r(a.isSchema(n),"Alteration adjuster for",s,"failed to return a schema object"))}return(n=n.$_modify({each:function(n){return n.tailor(t)},ref:!1})).$_temp.ruleset=!1,n.$_mutateRebuild()},n.tracer=function(){return m.location?m.location(this):this},n.validate=function(t,n){return w.entry(t,this,n)},n.validateAsync=function(t,n){return w.entryAsync(t,this,n)},n.$_addRule=function(t){for(var n in"string"==typeof t&&(t={name:t}),r(t&&"object"==(void 0===t?"undefined":W(t)),"Invalid options"),r(t.name&&"string"==typeof t.name,"Invalid rule name"),t)r("_"!==n[0],"Cannot set private rule properties");var i=k.assign({},t);i.Gd=[],i.method=i.method||i.name;var e=this.y_.rules[i.method],u=i.args;r(e,"Unknown rule",i.method);var s=this.clone();if(u)for(var o in r(1===k.keys(u).length||k.keys(u).length===this.y_.rules[i.name].args.length,"Invalid rule definition for",this.type,i.name),u){var c=u[o];if(e.argsByName){var h=e.argsByName.get(o);if(h.ref&&a.isResolvable(c))i.Gd.push(o),s.$_mutateRegister(c);else if(h.normalize&&(c=h.normalize(c),u[o]=c),h.assert){var f=a.validateArg(c,o,h);r(!f,f,"or reference")}}void 0!==c?u[o]=c:delete u[o]}return e.multi||(s.E_(i.name,{clone:!1}),s.g_.set(i.name,i)),!1===s.$_temp.ruleset&&(s.$_temp.ruleset=null),e.priority?s.m_.unshift(i):s.m_.push(i),s},n.$_compile=function(t,n){return c.schema(this.$_root,t,n)},n.$_createError=function(t,n,i,r,e,u){void 0===u&&(u={});var s=!1!==u.flags?this.v_:{},o=u.messages?l.merge(this.y_.messages,u.messages):this.y_.messages;return new h.Report(t,n,i,s,o,r,e)},n.$_getFlag=function(t){return this.v_[t]},n.$_getRule=function(t){return this.g_.get(t)},n.$_mapLabels=function(t){return t=Array.isArray(t)?t:t.split("."),this.u_.labels(t)},n.$_match=function(t,n,i,r){(i=k.assign({},i)).abortEarly=!0,i.x_=!1,n.snapshot();var e=!w.validate(t,this,n,i,r).errors;return n.restore(),e},n.$_modify=function(t){return a.assertOptions(t,["each","once","ref","schema"]),d.schema(this,t)||this},n.$_mutateRebuild=function(){var t=this;return r(!this.w_(),"Cannot add this rule inside a ruleset"),this.l_.reset(),this.u_.reset(),this.$_modify({each:function(n,i){var r=i.source,e=i.name,u=(i.path,i.key),s=t.y_[r][e]&&t.y_[r][e].register;!1!==s&&t.$_mutateRegister(n,{family:s,key:u})}}),this.y_.rebuild&&this.y_.rebuild(this),this.$_temp.ruleset=!1,this},n.$_mutateRegister=function(t,n){var i=void 0===n?{}:n,r=i.family,e=i.key;this.l_.register(t,r),this.u_.register(t,{key:e})},n.$_property=function(t){return this.y_.properties[t]},n.$_reach=function(t){return this.u_.reach(t)},n.$_rootReferences=function(){return this.l_.roots()},n.$_setFlag=function(t,n,i){void 0===i&&(i={}),r("_"===t[0]||!this.w_(),"Cannot set flag inside a ruleset");var e=this.y_.flags[t]||{};if(u(n,e.default)&&(n=void 0),u(n,this.v_[t]))return this;var s=!1!==i.clone?this.clone():this;return void 0!==n?(s.v_[t]=n,s.$_mutateRegister(n)):delete s.v_[t],"_"!==t[0]&&(s.$_temp.ruleset=!1),s},n.$_parent=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;return(e=this[t][a.symbols.parent]).call.apply(e,[this].concat(Ut(i)))},n.$_validate=function(t,n,i){return w.validate(t,this,n,i)},n.S_=function(t){for(var n in t.type=this.type,t.$_root=this.$_root,t.$_temp=k.assign({},this.$_temp),t.$_temp.whens={},t.u_=this.u_.clone(),t.c_=this.c_,t.f_=this.f_&&this.f_.clone(),t.__=this.__&&this.__.clone(),t.m_=this.m_.slice(),t.g_=e(this.g_,{shallow:!0}),t.l_=this.l_.clone(),t.v_=k.assign({},this.v_),t.d_=null,t.$_terms={},this.$_terms)t.$_terms[n]=this.$_terms[n]?this.$_terms[n].slice():null;for(var i in t.$_super={},this.$_super)t.$_super[i]=this.R_[i].bind(t);return t},n.I_=function(){var t=this.clone();t.a_();var n=t.y_.terms;for(var i in n){var r=n[i];t.$_terms[i]=r.init}return t.$_mutateRebuild()},n.b_=function(t,n,i){var e;return void 0===i&&(i={}),a.assertOptions(i,"literal"),r(void 0!==n,"Missing",t,"value"),r("function"==typeof n||!i.literal,"Only function value supports literal option"),"function"==typeof n&&i.literal&&(sn(e={},a.symbols.literal,!0),sn(e,"literal",n),n=e),this.$_setFlag(t,n)},n.C_=function(t,n,i){if(!this.$_terms.whens)return{schema:this};for(var r=[],e=[],u=0;u<this.$_terms.whens.length;++u){var s=this.$_terms.whens[u];if(s.concat)r.push(s.concat),e.push("".concat(u,".concat"));else{for(var o=s.ref?s.ref.resolve(t,n,i):t,a=s.is?[s]:s.switch,c=e.length,h=0;h<a.length;++h){var f=a[h],v=f.is,l=f.then,d=f.otherwise,g="".concat(u).concat(s.switch?"."+h:"");if(v.$_match(o,n.nest(v,"".concat(g,".is")),i)){if(l){var m=n.localize(Ut(n.path).concat(["".concat(g,".then")]),n.ancestors,n.schemas),w=l.C_(t,m,i),p=w.schema,y=w.id;r.push(p),e.push("".concat(g,".then").concat(y?"(".concat(y,")"):""));break}}else if(d){var _=n.localize(Ut(n.path).concat(["".concat(g,".otherwise")]),n.ancestors,n.schemas),b=d.C_(t,_,i),k=b.schema,A=b.id;r.push(k),e.push("".concat(g,".otherwise").concat(A?"(".concat(A,")"):""));break}}if(s.break&&e.length>c)break}}var T=e.join(", ");if(n.mainstay.tracer.debug(n,"rule","when",T),!T)return{schema:this};if(!n.mainstay.tracer.active&&this.$_temp.whens[T])return{schema:this.$_temp.whens[T],id:T};var S=this;this.y_.generate&&(S=this.y_.generate(this,t,n,i));for(var E=0;E<r.length;E++){var I=r[E];S=S.concat(I)}return this.$_root.T_&&this.$_root.T_.k_(S,[this].concat(Ut(r))),this.$_temp.whens[T]=S,{schema:S,id:T}},n.A_=function(t,n,i){var e;void 0===i&&(i={}),r(!this.w_(),"Cannot set ".concat(t," inside a ruleset"));var u=this.clone();return u.$_terms[t]&&!i.override||(u.$_terms[t]=[]),i.single?u.$_terms[t].push(n):(e=u.$_terms[t]).push.apply(e,Ut(n)),u.$_temp.ruleset=!1,u},n.w_=function(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset},n.E_=function(t,n){if(void 0===n&&(n={}),!this.g_.has(t))return this;var i=!1!==n.clone?this.clone():this;i.g_.delete(t);for(var r=[],e=0;e<i.m_.length;++e){var u=i.m_[e];u.name!==t||u.keep?r.push(u):i.w_()&&e<i.$_temp.ruleset&&--i.$_temp.ruleset}return i.m_=r,i},n.p_=function(t,n){a.verifyFlat(t,n.slice(1,-1));var i=this.clone(),e=t[0]===a.symbols.override;if(e&&(t=t.slice(1)),!i[n]&&t.length?i[n]=new p:e&&(i[n]=t.length?new p:null,i.$_mutateRebuild()),!i[n])return i;e&&i[n].override();for(var u=0;u<t.length;u++){var s=t[u];r(void 0!==s,"Cannot call allow/valid/invalid with undefined"),r(s!==a.symbols.override,"Override must be the first value");var o="__"===n?"f_":"__";i[o]&&(i[o].remove(s),i[o].length||(r("f_"===n||!i.v_.only,"Setting invalid value",s,"leaves schema rejecting all values due to previous valid rule"),i[o]=null)),i[n].add(s,i.l_)}return i},xt(t,[{key:"ruleset",get:function(){r(!this.w_(),"Cannot start a new ruleset without closing the previous one");var t=this.clone();return t.$_temp.ruleset=t.m_.length,t}},{key:"$",get:function(){return this.ruleset}}]),t}()};_.Base.prototype[a.symbols.any]={version:a.version,compile:c.compile,root:"$_root"},_.Base.prototype.isImmutable=!0,_.Base.prototype.deny=_.Base.prototype.invalid,_.Base.prototype.disallow=_.Base.prototype.invalid,_.Base.prototype.equal=_.Base.prototype.valid,_.Base.prototype.exist=_.Base.prototype.required,_.Base.prototype.not=_.Base.prototype.invalid,_.Base.prototype.options=_.Base.prototype.prefs,_.Base.prototype.preferences=_.Base.prototype.prefs,t.exports=new _.Base},8652:function(t,n,i){var r=i(375),e=i(8571),u=i(8160),s={max:1e3,supported:new Set(["undefined","boolean","number","string"])};n.provider={provision:function(t){return new s.Cache(t)}},s.Cache=function(){function t(t){void 0===t&&(t={}),u.assertOptions(t,["max"]),r(void 0===t.max||t.max&&t.max>0&&isFinite(t.max),"Invalid max cache size"),this.M_=t.max||s.max,this.P_=new Map,this.D_=new s.List}var n=t.prototype;return n.set=function(t,n){if(null===t||s.supported.has(void 0===t?"undefined":W(t))){var i=this.P_.get(t);if(i)return i.value=n,void this.D_.first(i);i=this.D_.unshift({key:t,value:n}),this.P_.set(t,i),this.N_()}},n.get=function(t){var n=this.P_.get(t);if(n)return this.D_.first(n),e(n.value)},n.N_=function(){if(this.P_.size>this.M_){var t=this.D_.pop();this.P_.delete(t.key)}},xt(t,[{key:"length",get:function(){return this.P_.size}}]),t}(),s.List=function(){function t(){this.tail=null,this.head=null}var n=t.prototype;return n.unshift=function(t){return t.next=null,t.prev=this.head,this.head&&(this.head.next=t),this.head=t,this.tail||(this.tail=t),t},n.first=function(t){t!==this.head&&(this.L_(t),this.unshift(t))},n.pop=function(){return this.L_(this.tail)},n.L_=function(t){var n=t.next,i=t.prev;return n.prev=i,i&&(i.next=n),t===this.tail&&(this.tail=n),t.prev=null,t.next=null,t},t}()},8160:function(t,r,e){var u,s,o=e(375),a=e(7916),c=e(5934),h={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};r.version=c.version,r.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},r.symbols={any:i("@hapi/joi/schema"),arraySingle:n("arraySingle"),deepDefault:n("deepDefault"),errors:n("errors"),literal:n("literal"),override:n("override"),parent:n("parent"),prefs:n("prefs"),ref:n("ref"),template:n("template"),values:n("values")},r.assertOptions=function(t,n,i){void 0===i&&(i="Options"),o(t&&"object"==(void 0===t?"undefined":W(t))&&!Array.isArray(t),"Options must be of type object");var r=k.keys(t).filter((function(t){return!n.includes(t)}));o(0===r.length,"".concat(i," contain unknown keys: ").concat(r))},r.checkPreferences=function(t){var n=(s=s||e(3378)).preferences.validate(t);if(n.error)throw new a([n.error.details[0].message])},r.compare=function(t,n,i){switch(i){case"=":return t===n;case">":return t>n;case"<":return t<n;case">=":return t>=n;case"<=":return t<=n}},r.default=function(t,n){return void 0===t?n:t},r.isIsoDate=function(t){return h.isoDate.test(t)},r.isNumber=function(t){return"number"==typeof t&&!E(t)},r.isResolvable=function(t){return!!t&&(t[r.symbols.ref]||t[r.symbols.template])},r.isSchema=function(t,n){void 0===n&&(n={});var i=t&&t[r.symbols.any];return!!i&&(o(n.legacy||i.version===r.version,"Cannot mix different versions of joi schemas"),!0)},r.isValues=function(t){return t[r.symbols.values]},r.limit=function(t){return Number.isSafeInteger(t)&&t>=0},r.preferences=function(t,n){u=u||e(6914),t=t||{},n=n||{};var i=k.assign({},t,n);return n.errors&&t.errors&&(i.errors=k.assign({},t.errors,n.errors),i.errors.wrap=k.assign({},t.errors.wrap,n.errors.wrap)),n.messages&&(i.messages=u.compile(n.messages,t.messages)),delete i[r.symbols.prefs],i},r.tryWithPath=function(t,n,i){void 0===i&&(i={});try{return t()}catch(t){throw void 0!==t.path?t.path=n+"."+t.path:t.path=n,i.append&&(t.message="".concat(t.message," (").concat(t.path,")")),t}},r.validateArg=function(t,n,i){var e=i.assert,u=i.message;if(r.isSchema(e)){var s=e.validate(t);return s.error?s.error.message:void 0}if(!e(t))return n?"".concat(n," ").concat(u):u},r.verifyFlat=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];o(!Array.isArray(r),"Method no longer accepts array arguments:",n)}}},3292:function(t,n,i){var r=i(375),e=i(8160),u=i(6133),s={};n.schema=function(t,n,i){void 0===i&&(i={}),e.assertOptions(i,["appendPath","override"]);try{return s.schema(t,n,i)}catch(t){throw i.appendPath&&void 0!==t.path&&(t.message="".concat(t.message," (").concat(t.path,")")),t}},s.schema=function(t,n,i){var u,o;r(void 0!==n,"Invalid undefined schema"),Array.isArray(n)&&(r(n.length,"Invalid empty array schema"),1===n.length&&(n=n[0]));var a=function(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),s=1;s<r;s++)e[s-1]=arguments[s];return!1!==i.override?(u=n).valid.apply(u,[t.override].concat(Ut(e))):(o=n).valid.apply(o,Ut(e))};if(s.simple(n))return a(t,n);if("function"==typeof n)return t.custom(n);if(r("object"==(void 0===n?"undefined":W(n)),"Invalid schema content:",void 0===n?"undefined":W(n)),e.isResolvable(n))return a(t,n);if(e.isSchema(n))return n;if(Array.isArray(n)){for(var c,h=0;h<n.length;h++){var f=n[h];if(!s.simple(f))return(c=t.alternatives()).try.apply(c,Ut(n))}return a.apply(void 0,[t].concat(Ut(n)))}return n instanceof RegExp?t.string().regex(n):n instanceof Date?a(t.date(),n):(r(k.getPrototypeOf(n)===k.getPrototypeOf({}),"Schema can only contain plain objects"),t.object().keys(n))},n.ref=function(t,n){return u.isRef(t)?t:u.create(t,n)},n.compile=function(t,i,u){void 0===u&&(u={}),e.assertOptions(u,["legacy"]);var o=i&&i[e.symbols.any];if(o)return r(u.legacy||o.version===e.version,"Cannot mix different versions of joi schemas:",o.version,e.version),i;if("object"!=(void 0===i?"undefined":W(i))||!u.legacy)return n.schema(t,i,{appendPath:!0});var a=s.walk(i);return a?a.compile(a.root,i):n.schema(t,i,{appendPath:!0})},s.walk=function(t){if("object"!=(void 0===t?"undefined":W(t)))return null;if(Array.isArray(t)){for(var n=0;n<t.length;n++){var i=t[n],u=s.walk(i);if(u)return u}return null}var o=t[e.symbols.any];if(o)return{root:t[o.root],compile:o.compile};for(var a in r(k.getPrototypeOf(t)===k.getPrototypeOf({}),"Schema can only contain plain objects"),t){var c=s.walk(t[a]);if(c)return c}return null},s.simple=function(t){return null===t||["boolean","string","number"].includes(void 0===t?"undefined":W(t))},n.when=function(t,i,o){if(void 0===o&&(r(i&&"object"==(void 0===i?"undefined":W(i)),"Missing options"),o=i,i=u.create(".")),Array.isArray(o)&&(o={switch:o}),e.assertOptions(o,["is","not","then","otherwise","switch","break"]),e.isSchema(i))return r(void 0===o.is,'"is" can not be used with a schema condition'),r(void 0===o.not,'"not" can not be used with a schema condition'),r(void 0===o.switch,'"switch" can not be used with a schema condition'),s.condition(t,{is:i,then:o.then,otherwise:o.otherwise,break:o.break});if(r(u.isRef(i)||"string"==typeof i,"Invalid condition:",i),r(void 0===o.not||void 0===o.is,'Cannot combine "is" with "not"'),void 0===o.switch){var a=o;void 0!==o.not&&(a={is:o.not,then:o.otherwise,otherwise:o.then,break:o.break});var c=void 0!==a.is?t.$_compile(a.is):t.$_root.invalid(null,!1,0,"").required();return r(void 0!==a.then||void 0!==a.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),r(void 0===a.break||void 0===a.then||void 0===a.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===o.is||u.isRef(o.is)||e.isSchema(o.is)||(c=c.required()),s.condition(t,{ref:n.ref(i),is:c,then:a.then,otherwise:a.otherwise,break:a.break})}r(Array.isArray(o.switch),'"switch" must be an array'),r(void 0===o.is,'Cannot combine "switch" with "is"'),r(void 0===o.not,'Cannot combine "switch" with "not"'),r(void 0===o.then,'Cannot combine "switch" with "then"');for(var h={ref:n.ref(i),switch:[],break:o.break},f=0;f<o.switch.length;++f){var v=o.switch[f],l=f===o.switch.length-1;e.assertOptions(v,l?["is","then","otherwise"]:["is","then"]),r(void 0!==v.is,'Switch statement missing "is"'),r(void 0!==v.then,'Switch statement missing "then"');var d={is:t.$_compile(v.is),then:t.$_compile(v.then)};if(u.isRef(v.is)||e.isSchema(v.is)||(d.is=d.is.required()),l){r(void 0===o.otherwise||void 0===v.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');var g=void 0!==o.otherwise?o.otherwise:v.otherwise;void 0!==g&&(r(void 0===h.break,"Cannot specify both otherwise and break"),d.otherwise=t.$_compile(g))}h.switch.push(d)}return h},s.condition=function(t,n){for(var i=0,r=["then","otherwise"];i<r.length;i++){var e=r[i];void 0===n[e]?delete n[e]:n[e]=t.$_compile(n[e])}return n}},6354:function(t,n,i){var r=i(5688),e=i(8160),u=i(3328);n.Report=function(){function t(t,i,r,e,u,s,o){if(this.code=t,this.flags=e,this.messages=u,this.path=s.path,this.prefs=o,this.state=s,this.value=i,this.message=null,this.template=null,this.local=r||{},this.local.label=n.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){var a=this.path[this.path.length-1];"object"!=(void 0===a?"undefined":W(a))&&(this.local.key=a)}}var i=t.prototype;return i.B_=function(t){if(this.template=t,!this.flags.label&&0===this.path.length){var n=this.O_(this.template,"root");n&&(this.local.label=n)}},i.toString=function(){if(this.message)return this.message;var t=this.code;if(!this.prefs.errors.render)return this.code;var n=this.O_(this.template)||this.O_(this.prefs.messages)||this.O_(this.messages);return void 0===n?'Error code "'.concat(t,'" is not defined, your custom type is missing the correct messages definition'):(this.message=n.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)},i.O_=function(t,i){return n.template(this.value,t,i||this.code,this.state,this.prefs)},t}(),n.path=function(t){for(var n="",i=0;i<t.length;i++){var r=t[i];"object"!=(void 0===r?"undefined":W(r))&&("string"==typeof r?(n&&(n+="."),n+=r):n+="[".concat(r,"]"))}return n},n.template=function(t,n,i,r,s){if(n){if(u.isTemplate(n))return"root"!==i?n:null;var o=s.errors.language;if(e.isResolvable(o)&&(o=o.resolve(t,r,s)),o&&n[o]){if(void 0!==n[o][i])return n[o][i];if(void 0!==n[o]["*"])return n[o]["*"]}return n[i]?n[i]:n["*"]}},n.label=function(t,i,r,e){if(!r.errors.label)return"";if(t.label)return t.label;var u=i.path;return"key"===r.errors.label&&i.path.length>1&&(u=i.path.slice(-1)),n.path(u)||n.template(null,r.messages,"root",i,r)||e&&n.template(null,e,"root",i,r)||"value"},n.process=function(t,i,r){if(!t)return null;var e=n.details(t),u=e.override,s=e.message,o=e.details;if(u)return u;if(r.errors.stack)return new n.ValidationError(s,o,i);var a=y.stackTraceLimit;y.stackTraceLimit=0;var c=new n.ValidationError(s,o,i);return y.stackTraceLimit=a,c},n.details=function(t,n){void 0===n&&(n={});for(var i=[],r=[],e=0;e<t.length;e++){var u=t[e];if(u instanceof y){if(!1!==n.override)return{override:u};var s=u.toString();i.push(s),r.push({message:s,type:"override",context:{error:u}})}else{var o=u.toString();i.push(o),r.push({message:o,path:u.path.filter((function(t){return"object"!=(void 0===t?"undefined":W(t))})),type:u.code,context:u.local})}}return i.length>1&&(i=Ut(new Set(i))),{message:i.join(". "),details:r}},n.ValidationError=function(t){function i(n,i,r){var e;return(e=t.call(this,n)||this).F_=r,e.details=i,e}return Rt(i,t),i.isError=function(t){return t instanceof n.ValidationError},i}(mn(y)),n.ValidationError.prototype.isJoi=!0,n.ValidationError.prototype.name="ValidationError",n.ValidationError.prototype.annotate=r.error},8901:function(t,n,i){var r=i(375),e=i(8571),u=i(8160),s=i(6914),o={};n.type=function(t,n){var i=function(t){var n=v.rules[t];r("object"==(void 0===n?"undefined":W(n)),"Invalid rule definition for",v.type,t);var i=n.method;if(void 0===i&&(i=function(){return this.$_addRule(t)}),i&&(r(!h[t],"Rule conflict in",v.type,t),h[t]=i),r(!w[t],"Rule conflict in",v.type,t),w[t]=n,n.alias)for(var e=[].concat(n.alias),s=0;s<e.length;s++){var o=e[s];h[o]=n.method}n.args&&(n.argsByName=new Map,n.args=n.args.map((function(t){return"string"==typeof t&&(t={name:t}),r(!n.argsByName.has(t.name),"Duplicated argument name",t.name),u.isSchema(t.assert)&&(t.assert=t.assert.strict().label(t.name)),n.argsByName.set(t.name,t),t})))},a=function(t){r(!h[t],"Rule conflict in",v.type,t);var n=v.modifiers[t];r("function"==typeof n,"Invalid modifier definition for",v.type,t);var i=function(n){return this.rule(sn({},t,n))};h[t]=i,y[t]=n},c=k.getPrototypeOf(t),h=e(c),f=t.S_(k.create(h)),v=k.assign({},n);delete v.base,h.y_=v;var l=c.y_||{};v.messages=s.merge(l.messages,v.messages),v.properties=k.assign({},l.properties,v.properties),f.type=v.type,v.flags=k.assign({},l.flags,v.flags);var d=k.assign({},l.terms);if(v.terms)for(var g in v.terms){var m=v.terms[g];r(void 0===f.$_terms[g],"Invalid term override for",v.type,g),f.$_terms[g]=m.init,d[g]=m}v.terms=d,v.args||(v.args=l.args),v.prepare=o.prepare(v.prepare,l.prepare),v.coerce&&("function"==typeof v.coerce&&(v.coerce={method:v.coerce}),v.coerce.from&&!Array.isArray(v.coerce.from)&&(v.coerce={method:v.coerce.method,from:[].concat(v.coerce.from)})),v.coerce=o.coerce(v.coerce,l.coerce),v.validate=o.validate(v.validate,l.validate);var w=k.assign({},l.rules);if(v.rules)for(var p in v.rules)i(p);v.rules=w;var y=k.assign({},l.modifiers);if(v.modifiers)for(var _ in v.modifiers)a(_);if(v.modifiers=y,v.overrides){for(var b in h.R_=c,f.$_super={},v.overrides)r(c[b],"Cannot override missing",b),v.overrides[b][u.symbols.parent]=c[b],f.$_super[b]=c[b].bind(f);k.assign(h,v.overrides)}v.cast=k.assign({},l.cast,v.cast);var A=k.assign({},l.manifest,v.manifest);return A.build=o.build(v.manifest&&v.manifest.build,l.manifest&&l.manifest.build),v.manifest=A,v.rebuild=o.rebuild(v.rebuild,l.rebuild),f},o.build=function(t,n){return t&&n?function(i,r){return n(t(i,r),r)}:t||n},o.coerce=function(t,n){return t&&n?{from:t.from&&n.from?Ut(new Set(Ut(t.from).concat(Ut(n.from)))):null,method:function(i,r){var e;if((!n.from||n.from.includes(void 0===i?"undefined":W(i)))&&(e=n.method(i,r))){if(e.errors||void 0===e.value)return e;i=e.value}if(!t.from||t.from.includes(void 0===i?"undefined":W(i))){var u=t.method(i,r);if(u)return u}return e}}:t||n},o.prepare=function(t,n){return t&&n?function(i,r){var e=t(i,r);if(e){if(e.errors||void 0===e.value)return e;i=e.value}return n(i,r)||e}:t||n},o.rebuild=function(t,n){return t&&n?function(i){n(i),t(i)}:t||n},o.validate=function(t,n){return t&&n?function(i,r){var e=n(i,r);if(e){if(e.errors&&(!Array.isArray(e.errors)||e.errors.length))return e;i=e.value}return t(i,r)||e}:t||n}},5107:function(t,n,i){var r,e,u,s=i(375),o=i(8571),a=i(8652),c=i(8160),h=i(3292),f=i(6354),v=i(8901),l=i(9708),d=i(6133),g=i(3328),m=i(1152),w={types:{alternatives:i(4946),any:i(8068),array:i(546),boolean:i(4937),date:i(7500),function:i(390),link:i(8785),number:i(3832),object:i(8966),string:i(7417),symbol:i(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){for(var t=function(t,n){var r=n[t];i[r]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return s(!n.length||["alternatives","link","object"].includes(r),"The",r,"type does not allow arguments"),w.generate(this,w.types[r],n)}},n=function(t,n){var r=n[t];i[r]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var e;return(e=this.any())[r].apply(e,Ut(n))}},i={V_:new Set(k.keys(w.types))},r=0,e=i.V_;r<e.length;r++)t(r,e);for(var u=0,o=["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"];u<o.length;u++)n(u,o);for(var a in k.assign(i,w.methods),w.aliases){var c=w.aliases[a];i[a]=i[c]}return i.x=i.expression,m.setup&&m.setup(i),i}};w.methods={ValidationError:f.ValidationError,version:c.version,cache:a.provider,assert:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];w.assert(t,n,!0,r)},attempt:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];return w.assert(t,n,!1,r)},build:function(t){return s("function"==typeof l.build,"Manifest functionality disabled"),l.build(this,t)},checkPreferences:function(t){c.checkPreferences(t)},compile:function(t,n){return h.compile(this,t,n)},defaults:function(t){var n=function(n,r){var e=r[n],u=t(i[e]());s(c.isSchema(u),"modifier must return a valid schema object"),i[e]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return w.generate(this,u,n)}};s("function"==typeof t,"modifier must be a function");for(var i=k.assign({},this),r=0,e=i.V_;r<e.length;r++)n(r,e);return i},expression:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return fn(g,Ut(n))},extend:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];c.verifyFlat(n,"extend"),u=u||i(3378),s(n.length,"You need to provide at least one extension"),this.assert(n,u.extensions);var e=k.assign({},this);e.V_=new Set(e.V_);for(var o=0;o<n.length;o++){var a,h=function(t){var n=l[t];s(void 0===e[n.type]||e.V_.has(n.type),"Cannot override name",n.type);var i=n.base||a.any(),r=v.type(i,n);e.V_.add(n.type),e[n.type]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return w.generate(this,r,n)}},f=n[o];"function"==typeof f&&(f=f(e)),this.assert(f,u.extension);for(var l=w.expandExtension(f,e),d=0;d<l.length;d++)a=this,h(d)}return e},isError:f.ValidationError.isError,isExpression:g.isTemplate,isRef:d.isRef,isSchema:c.isSchema,in:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(r=d).in.apply(r,Ut(n))},override:c.symbols.override,ref:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=d).create.apply(e,Ut(n))},types:function(){for(var t={},n=0,i=this.V_;n<i.length;n++){var r=i[n];t[r]=this[r]()}for(var e in w.aliases)t[e]=this[e]();return t}},w.assert=function(t,n,i,r){var e=r[0]instanceof y||"string"==typeof r[0]?r[0]:null,u=null!==e?r[1]:r[0],s=n.validate(t,c.preferences({errors:{stack:!0}},u||{})),a=s.error;if(!a)return s.value;if(e instanceof y)throw e;var h=i&&"function"==typeof a.annotate?a.annotate():a.message;throw a instanceof f.ValidationError==0&&(a=o(a)),a.message=e?"".concat(e," ").concat(h):h,a},w.generate=function(t,n,i){var r;return s(t,"Must be invoked on a Joi instance."),n.$_root=t,n.y_.args&&i.length?(r=n.y_).args.apply(r,[n].concat(Ut(i))):n},w.expandExtension=function(t,n){if("string"==typeof t.type)return[t];for(var i=[],r=0,e=n.V_;r<e.length;r++){var u=e[r];if(t.type.test(u)){var s=k.assign({},t);s.type=u,s.base=n[u](),i.push(s)}}return i},t.exports=w.root()},6914:function(t,n,i){var r=i(375),e=i(8571),u=i(3328);n.compile=function(t,n){var i=function(i){var e=t[i];if("root"===i||u.isTemplate(e))return n[i]=e,"continue";if("string"==typeof e)return n[i]=new u(e),"continue";r("object"==(void 0===e?"undefined":W(e))&&!Array.isArray(e),"Invalid message for",i);var s=i;for(i in n[s]=n[s]||{},e){var o=e[i];"root"===i||u.isTemplate(o)?n[s][i]=o:(r("string"==typeof o,"Invalid message for",i,"in",s),n[s][i]=new u(o))}};if("string"==typeof t)return r(!n,"Cannot set single message string"),new u(t);if(u.isTemplate(t))return r(!n,"Cannot set single message template"),t;for(var s in r("object"==(void 0===t?"undefined":W(t))&&!Array.isArray(t),"Invalid message options"),n=n?e(n):{},t)i(s);return n},n.decompile=function(t){var n=function(n){var r=t[n];if("root"===n)return i.root=r,"continue";if(u.isTemplate(r))return i[n]=r.describe({compact:!0}),"continue";var e=n;for(n in i[e]={},r){var s=r[n];"root"!==n?i[e][n]=s.describe({compact:!0}):i[e].root=s}},i={};for(var r in t)n(r);return i},n.merge=function(t,i){var s=function(t){var n=i[t];if("root"===t||u.isTemplate(n))return o[t]=n,"continue";if("string"==typeof n)return o[t]=new u(n),"continue";r("object"==(void 0===n?"undefined":W(n))&&!Array.isArray(n),"Invalid message for",t);var e=t;for(t in o[e]=o[e]||{},n){var s=n[t];"root"===t||u.isTemplate(s)?o[e][t]=s:(r("string"==typeof s,"Invalid message for",t,"in",e),o[e][t]=new u(s))}};if(!t)return n.compile(i);if(!i)return t;if("string"==typeof i)return new u(i);if(u.isTemplate(i))return i;var o=e(t);for(var a in i)s(a);return o}},2294:function(t,n,i){var r=i(375),e=i(8160),u=i(6133),s={};n.Ids=s.Ids=function(){function t(){this.W_=new Map,this.U_=new Map,this.G_=!1}var n=t.prototype;return n.clone=function(){var t=new s.Ids;return t.W_=new Map(this.W_),t.U_=new Map(this.U_),t.G_=this.G_,t},n.concat=function(t){t.G_&&(this.G_=!0);for(var n=0,i=t.W_.entries();n<i.length;n++){var e=nn(i[n],2),u=e[0],s=e[1];r(!this.U_.has(u),"Schema id conflicts with existing key:",u),this.W_.set(u,s)}for(var o=0,a=t.U_.entries();o<a.length;o++){var c=nn(a[o],2),h=c[0],f=c[1];r(!this.W_.has(h),"Schema key conflicts with existing id:",h),this.U_.set(h,f)}},n.fork=function(t,n,i){var u=this.H_(t);u.push({schema:i});var o=u.shift(),a={id:o.id,schema:n(o.schema)};r(e.isSchema(a.schema),"adjuster function failed to return a joi schema type");for(var c=0;c<u.length;c++){var h=u[c];a={id:h.id,schema:s.fork(h.schema,a.id,a.schema)}}return a.schema},n.labels=function(t,n){void 0===n&&(n=[]);var i=t[0],r=this.Z_(i);if(!r)return Ut(n).concat(Ut(t)).join(".");var e=t.slice(1);return n=Ut(n).concat([r.schema.v_.label||i]),e.length?r.schema.u_.labels(e,n):n.join(".")},n.reach=function(t,n){void 0===n&&(n=[]);var i=t[0],e=this.Z_(i);r(e,"Schema does not contain path",Ut(n).concat(Ut(t)).join("."));var u=t.slice(1);return u.length?e.schema.u_.reach(u,Ut(n).concat([i])):e.schema},n.register=function(t,n){var i=(void 0===n?{}:n).key;if(t&&e.isSchema(t)){(t.$_property("schemaChain")||t.u_.G_)&&(this.G_=!0);var u=t.v_.id;if(u){var s=this.W_.get(u);r(!s||s.schema===t,"Cannot add different schemas with the same id:",u),r(!this.U_.has(u),"Schema id conflicts with existing key:",u),this.W_.set(u,{schema:t,id:u})}i&&(r(!this.U_.has(i),"Schema already contains key:",i),r(!this.W_.has(i),"Schema key conflicts with existing id:",i),this.U_.set(i,{schema:t,id:i}))}},n.reset=function(){this.W_=new Map,this.U_=new Map,this.G_=!1},n.H_=function(t,n,i){void 0===n&&(n=[]),void 0===i&&(i=[]);var e=t[0],u=this.Z_(e);r(u,"Schema does not contain path",Ut(n).concat(Ut(t)).join(".")),i=[u].concat(Ut(i));var s=t.slice(1);return s.length?u.schema.u_.H_(s,Ut(n).concat([e]),i):i},n.Z_=function(t){return this.W_.get(t)||this.U_.get(t)},t}(),s.fork=function(t,i,r){var e=n.schema(t,{each:function(t,n){var e=n.key;if(i===(t.v_.id||e))return r},ref:!1});return e?e.$_mutateRebuild():t},n.schema=function(t,n){var i;for(var r in t.v_)if("_"!==r[0]){var e=s.scan(t.v_[r],{source:"flags",name:r},n);void 0!==e&&((i=i||t.clone()).v_[r]=e)}for(var u=0;u<t.m_.length;++u){var o=t.m_[u],a=s.scan(o.args,{source:"rules",name:o.name},n);if(void 0!==a){i=i||t.clone();var c=k.assign({},o);c.args=a,i.m_[u]=c,i.g_.get(o.name)===o&&i.g_.set(o.name,c)}}for(var h in t.$_terms)if("_"!==h[0]){var f=s.scan(t.$_terms[h],{source:"terms",name:h},n);void 0!==f&&((i=i||t.clone()).$_terms[h]=f)}return i},s.scan=function(t,n,i,r,o){var a=r||[];if(null!==t&&"object"==(void 0===t?"undefined":W(t))){var c;if(Array.isArray(t)){for(var h=0;h<t.length;++h){var f="terms"===n.source&&"keys"===n.name&&t[h].key,v=s.scan(t[h],n,i,[h].concat(Ut(a)),f);void 0!==v&&((c=c||t.slice())[h]=v)}return c}if(!1!==i.schema&&e.isSchema(t)||!1!==i.ref&&u.isRef(t)){var l=i.each(t,b(m({},n),{path:a,key:o}));return l===t?void 0:l}for(var d in t)if("_"!==d[0]){var g=s.scan(t[d],n,i,[d].concat(Ut(a)),o);void 0!==g&&((c=c||k.assign({},t))[d]=g)}return c}}},6133:function(t,i,r){var e,u=r(375),s=r(8571),o=r(9621),a=r(8160),c={symbol:n("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};i.create=function(t,n){void 0===n&&(n={}),u("string"==typeof t,"Invalid reference key:",t),a.assertOptions(n,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),u(!n.prefix||"object"==W(n.prefix),"options.prefix must be of type object");var i=k.assign({},c.defaults,n);delete i.prefix;var r=i.separator,e=c.context(t,r,n.prefix);if(i.type=e.type,t=e.key,"value"===i.type)if(e.root&&(u(!r||t[0]!==r,"Cannot specify relative path with root prefix"),i.ancestor="root",t||(t=null)),r&&r===t)t=null,i.ancestor=0;else if(void 0!==i.ancestor)u(!r||!t||t[0]!==r,"Cannot combine prefix with ancestor option");else{var s=nn(c.ancestor(t,r),2),o=s[0],h=s[1];h&&""===(t=t.slice(h))&&(t=null),i.ancestor=o}return i.path=r?null===t?[]:t.split(r):[t],new c.Ref(i)},i.in=function(t,n){return void 0===n&&(n={}),i.create(t,b(m({},n),{in:!0}))},i.isRef=function(t){return!!t&&!!t[a.symbols.ref]},c.Ref=function(){function t(t){u("object"==(void 0===t?"undefined":W(t)),"Invalid reference construction"),a.assertOptions(t,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),u([!1,void 0].includes(t.separator)||"string"==typeof t.separator&&1===t.separator.length,"Invalid separator"),u(!t.adjust||"function"==typeof t.adjust,"options.adjust must be a function"),u(!t.map||Array.isArray(t.map),"options.map must be an array"),u(!t.map||!t.adjust,"Cannot set both map and adjust options"),k.assign(this,c.defaults,t),u("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}var n=t.prototype;return n.resolve=function(t,n,i,r,e){return void 0===e&&(e={}),u(!this.in||e.in,"Invalid in() reference usage"),"global"===this.type?this.Gd(i.context,n,e):"local"===this.type?this.Gd(r,n,e):this.ancestor?"root"===this.ancestor?this.Gd(n.ancestors[n.ancestors.length-1],n,e):(u(this.ancestor<=n.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this.Gd(n.ancestors[this.ancestor-1],n,e)):this.Gd(t,n,e)},n.Gd=function(t,n,i){var r;if("value"===this.type&&n.mainstay.shadow&&!1!==i.shadow&&(r=n.mainstay.shadow.get(this.absolute(n))),void 0===r&&(r=o(t,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(r=this.adjust(r)),this.map){var e=this.map.get(r);void 0!==e&&(r=e)}return n.mainstay&&n.mainstay.tracer.resolve(n,this,r),r},n.toString=function(){return this.display},n.absolute=function(t){return Ut(t.path.slice(0,-this.ancestor)).concat(Ut(this.path))},n.clone=function(){return new c.Ref(this)},n.describe=function(){var t={path:this.path};"value"!==this.type&&(t.type=this.type),"."!==this.separator&&(t.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(t.ancestor=this.ancestor),this.map&&(t.map=Ut(this.map));for(var n=0,i=["adjust","iterables","render"];n<i.length;n++){var r=i[n];null!==this[r]&&void 0!==this[r]&&(t[r]=this[r])}return!1!==this.in&&(t.in=!0),{ref:t}},n.updateDisplay=function(){var t=null!==this.key?this.key:"";if("value"===this.type)if(this.separator)if(this.ancestor)if("root"!==this.ancestor)if(1!==this.ancestor){var n=new Array(this.ancestor+1).fill(this.separator).join("");this.display="ref:".concat(n).concat(t||"")}else this.display="ref:".concat(t||"..");else this.display="ref:root:".concat(t);else this.display="ref:".concat(this.separator).concat(t);else this.display="ref:".concat(t);else this.display="ref:".concat(this.type,":").concat(t)},t}(),c.Ref.prototype[a.symbols.ref]=!0,i.build=function(t){return"value"===(t=k.assign({},c.defaults,t)).type&&void 0===t.ancestor&&(t.ancestor=1),new c.Ref(t)},c.context=function(t,n,i){if(void 0===i&&(i={}),t=t.trim(),i){var r=void 0===i.global?"$":i.global;if(r!==n&&t.startsWith(r))return{key:t.slice(r.length),type:"global"};var e=void 0===i.local?"#":i.local;if(e!==n&&t.startsWith(e))return{key:t.slice(e.length),type:"local"};var u=void 0===i.root?"/":i.root;if(u!==n&&t.startsWith(u))return{key:t.slice(u.length),type:"value",root:!0}}return{key:t,type:"value"}},c.ancestor=function(t,n){if(!n)return[1,0];if(t[0]!==n)return[1,0];if(t[1]!==n)return[0,1];for(var i=2;t[i]===n;)++i;return[i-1,i]},i.toSibling=0,i.toParent=1,i.Manager=function(){function t(){this.refs=[]}var n=t.prototype;return n.register=function(t,n){if(t)if(n=void 0===n?i.toParent:n,Array.isArray(t))for(var u=0;u<t.length;u++){var s=t[u];this.register(s,n)}else if(a.isSchema(t))for(var o=0,c=t.l_.refs;o<c.length;o++){var h=c[o];h.ancestor-n>=0&&this.refs.push({ancestor:h.ancestor-n,root:h.root})}else i.isRef(t)&&"value"===t.type&&t.ancestor-n>=0&&this.refs.push({ancestor:t.ancestor-n,root:t.root}),(e=e||r(3328)).isTemplate(t)&&this.register(t.refs(),n)},n.clone=function(){var t=new i.Manager;return t.refs=s(this.refs),t},n.reset=function(){this.refs=[]},n.roots=function(){return this.refs.filter((function(t){return!t.ancestor})).map((function(t){return t.root}))},xt(t,[{key:"length",get:function(){return this.refs.length}}]),t}()},3378:function(t,n,i){var r=i(5107),e={};e.wrap=r.string().min(1).max(2).allow(!1),n.preferences=r.object({allowUnknown:r.boolean(),abortEarly:r.boolean(),artifacts:r.boolean(),cache:r.boolean(),context:r.object(),convert:r.boolean(),dateFormat:r.valid("date","iso","string","time","utc"),debug:r.boolean(),errors:{escapeHtml:r.boolean(),label:r.valid("path","key",!1),language:[r.string(),r.object().ref()],render:r.boolean(),stack:r.boolean(),wrap:{label:e.wrap,array:e.wrap,string:e.wrap}},externals:r.boolean(),messages:r.object(),noDefaults:r.boolean(),nonEnumerables:r.boolean(),presence:r.valid("required","optional","forbidden"),skipFunctions:r.boolean(),stripUnknown:r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects").allow(!0,!1),warnings:r.boolean()}).strict(),e.nameRx=/^[a-zA-Z0-9]\w*$/,e.rule=r.object({alias:r.array().items(r.string().pattern(e.nameRx)).single(),args:r.array().items(r.string(),r.object({name:r.string().pattern(e.nameRx).required(),ref:r.boolean(),assert:r.alternatives([r.function(),r.object().schema()]).conditional("ref",{is:!0,then:r.required()}),normalize:r.function(),message:r.string().when("assert",{is:r.function(),then:r.required()})})),convert:r.boolean(),manifest:r.boolean(),method:r.function().allow(!1),multi:r.boolean(),validate:r.function()}),n.extension=r.object({type:r.alternatives([r.string(),r.object().regex()]).required(),args:r.function(),cast:r.object().pattern(e.nameRx,r.object({from:r.function().maxArity(1).required(),to:r.function().minArity(1).maxArity(2).required()})),base:r.object().schema().when("type",{is:r.object().regex(),then:r.forbidden()}),coerce:[r.function().maxArity(3),r.object({method:r.function().maxArity(3).required(),from:r.array().items(r.string()).single()})],flags:r.object().pattern(e.nameRx,r.object({setter:r.string(),default:r.any()})),manifest:{build:r.function().arity(2)},messages:[r.object(),r.string()],modifiers:r.object().pattern(e.nameRx,r.function().minArity(1).maxArity(2)),overrides:r.object().pattern(e.nameRx,r.function()),prepare:r.function().maxArity(3),rebuild:r.function().arity(1),rules:r.object().pattern(e.nameRx,e.rule),terms:r.object().pattern(e.nameRx,r.object({init:r.array().allow(null).required(),manifest:r.object().pattern(/.+/,[r.valid("schema","single"),r.object({mapped:r.object({from:r.string().required(),to:r.string().required()}).required()})])})),validate:r.function().maxArity(3)}).strict(),n.extensions=r.array().items(r.object(),r.function().arity(1)).strict(),e.desc={buffer:r.object({buffer:r.string()}),func:r.object({function:r.function().required(),options:{literal:!0}}),override:r.object({override:!0}),ref:r.object({ref:r.object({type:r.valid("value","global","local"),path:r.array().required(),separator:r.string().length(1).allow(!1),ancestor:r.number().min(0).integer().allow("root"),map:r.array().items(r.array().length(2)).min(1),adjust:r.function(),iterables:r.boolean(),in:r.boolean(),render:r.boolean()}).required()}),regex:r.object({regex:r.string().min(3)}),special:r.object({special:r.valid("deep").required()}),template:r.object({template:r.string().required(),options:r.object()}),value:r.object({value:r.alternatives([r.object(),r.array()]).required()})},e.desc.entity=r.alternatives([r.array().items(r.link("...")),r.boolean(),r.function(),r.number(),r.string(),e.desc.buffer,e.desc.func,e.desc.ref,e.desc.regex,e.desc.special,e.desc.template,e.desc.value,r.link("/")]),e.desc.values=r.array().items(null,r.boolean(),r.function(),r.number().allow(1/0,-1/0),r.string().allow(""),r.symbol(),e.desc.buffer,e.desc.func,e.desc.override,e.desc.ref,e.desc.regex,e.desc.template,e.desc.value),e.desc.messages=r.object().pattern(/.+/,[r.string(),e.desc.template,r.object().pattern(/.+/,[r.string(),e.desc.template])]),n.description=r.object({type:r.string().required(),flags:r.object({cast:r.string(),default:r.any(),description:r.string(),empty:r.link("/"),failover:e.desc.entity,id:r.string(),label:r.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:r.boolean(),unit:r.string()}).unknown(),preferences:{allowUnknown:r.boolean(),abortEarly:r.boolean(),artifacts:r.boolean(),cache:r.boolean(),convert:r.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:r.boolean(),label:["path","key"],language:[r.string(),e.desc.ref],wrap:{label:e.wrap,array:e.wrap}},externals:r.boolean(),messages:e.desc.messages,noDefaults:r.boolean(),nonEnumerables:r.boolean(),presence:["required","optional","forbidden"],skipFunctions:r.boolean(),stripUnknown:r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects").allow(!0,!1),warnings:r.boolean()},allow:e.desc.values,invalid:e.desc.values,rules:r.array().min(1).items({name:r.string().required(),args:r.object().min(1),keep:r.boolean(),message:[r.string(),e.desc.messages],warn:r.boolean()}),keys:r.object().pattern(/.*/,r.link("/")),link:e.desc.ref}).pattern(/^[a-z]\w*$/,r.any())},493:function(t,i,r){var e=r(8571),u=r(9621),s=r(8160),o={value:n("value")};t.exports=o.State=function(){function t(t,n,i){this.path=t,this.ancestors=n,this.mainstay=i.mainstay,this.schemas=i.schemas,this.debug=null}var n=t.prototype;return n.localize=function(t,n,i){void 0===n&&(n=null),void 0===i&&(i=null);var r=new o.State(t,n,this);return i&&r.schemas&&(r.schemas=[o.schemas(i)].concat(Ut(r.schemas))),r},n.nest=function(t,n){var i=new o.State(this.path,this.ancestors,this);return i.schemas=i.schemas&&[o.schemas(t)].concat(Ut(i.schemas)),i.debug=n,i},n.shadow=function(t,n){this.mainstay.shadow=this.mainstay.shadow||new o.Shadow,this.mainstay.shadow.set(this.path,t,n)},n.snapshot=function(){this.mainstay.shadow&&(this.X_=e(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()},n.restore=function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this.X_),this.X_=void 0),this.mainstay.restore()},n.commit=function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this.X_),this.X_=void 0),this.mainstay.commit()},t}(),o.schemas=function(t){return s.isSchema(t)?{schema:t}:t},o.Shadow=function(){function t(){this.p_=null}var n=t.prototype;return n.set=function(t,n,i){if(t.length&&("strip"!==i||"number"!=typeof t[t.length-1])){this.p_=this.p_||new Map;for(var r=this.p_,e=0;e<t.length;++e){var u=t[e],s=r.get(u);s||(s=new Map,r.set(u,s)),r=s}r[o.value]=n}},n.get=function(t){var n=this.node(t);if(n)return n[o.value]},n.node=function(t){if(this.p_)return u(this.p_,t,{iterables:!0})},n.override=function(t,n){if(this.p_){var i=t.slice(0,-1),r=t[t.length-1],e=u(this.p_,i,{iterables:!0});n?e.set(r,n):e&&e.delete(r)}},t}()},3328:function(t,i,r){var e=r(375),u=r(8571),s=r(5277),o=r(1447),a=r(8160),c=r(6354),h=r(6133),f={symbol:n("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join("\x01"),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};t.exports=f.Template=function(){function t(t,n){if(e("string"==typeof t,"Template source must be a string"),e(!t.includes("\0")&&!t.includes("\x01"),"Template source cannot contain reserved control characters"),this.source=t,this.rendered=t,this.O_=null,n){var i=n,r=i.functions,s=C(i,["functions"]);this.Y_=k.keys(s).length?u(s):void 0,this.K_=r,this.K_&&(e(k.keys(this.K_).every((function(t){return"string"==typeof t})),"Functions keys must be strings"),e(k.values(this.K_).every((function(t){return"function"==typeof t})),"Functions values must be functions"))}else this.Y_=void 0,this.K_=void 0;this.z_()}var n=t.prototype;return n.z_=function(){if(this.source.includes("{")){var t=f.encode(this.source),n=f.split(t),i=!1,r=[],e=n.shift();e&&r.push(e);for(var u=0;u<n.length;u++){var s=n[u],o="{"!==s[0],a=o?"}":"}}",c=s.indexOf(a);if(-1!==c&&"{"!==s[1]){var h=s.slice(o?0:1,c),v=":"===h[0];v&&(h=h.slice(1));var l=this.q_(f.decode(h),{raw:o,wrapped:v});r.push(l),"string"!=typeof l&&(i=!0);var d=s.slice(c+a.length);d&&r.push(f.decode(d))}else r.push("{".concat(f.decode(s)))}i?this.O_=r:this.rendered=r.join("")}},n.describe=function(t){if(void 0===t&&(t={}),!this.Y_&&t.compact)return this.source;var n={template:this.source};return this.Y_&&(n.options=this.Y_),this.K_&&(n.functions=this.K_),n},n.isDynamic=function(){return!!this.O_},n.refs=function(){var t;if(this.O_){for(var n=[],i=0,r=this.O_;i<r.length;i++){var e=r[i];"string"!=typeof e&&(t=n).push.apply(t,Ut(e.refs))}return n}},n.resolve=function(t,n,i,r){return this.O_&&1===this.O_.length?this.j_(this.O_[0],t,n,i,r,{}):this.render(t,n,i,r)},n.j_=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;return t.ref?(e=t.ref).resolve.apply(e,Ut(i)):t.formula.evaluate(i)},n.render=function(t,n,i,r,e){if(void 0===e&&(e={}),!this.isDynamic())return this.rendered;for(var u=[],o=0,a=this.O_;o<a.length;o++){var c=a[o];if("string"==typeof c)u.push(c);else{var h=this.j_(c,t,n,i,r,e),v=f.stringify(h,t,n,i,r,e);if(void 0!==v){var l=c.raw||!1===(e.errors&&e.errors.escapeHtml)?v:s(v);u.push(f.wrap(l,c.wrapped&&i.errors.wrap.label))}}}return u.join("")},n.q_=function(t,n){var i=this,r=n.raw,e=n.wrapped,u=[],s=function(t){var n=h.create(t,i.Y_);return u.push(n),function(t){var i,r=(i=n).resolve.apply(i,Ut(t));return void 0!==r?r:null}};try{var a=this.K_?m(m({},f.functions),this.K_):f.functions,c=new o.Parser(t,{reference:s,functions:a,constants:f.constants})}catch(n){throw n.message='Invalid template variable "'.concat(t,'" fails due to: ').concat(n.message),n}if(c.single){if("reference"===c.single.type){var v=u[0];return{ref:v,raw:r,refs:u,wrapped:e||"local"===v.type&&"label"===v.key}}return f.stringify(c.single.value)}return{formula:c,raw:r,refs:u}},n.toString=function(){return this.source},t.date=function(t,n){return f.dateFormat[n.dateFormat].call(t)},t.build=function(t){return new f.Template(t.template,t.options||t.functions?b(m({},t.options),{functions:t.functions}):void 0)},t.isTemplate=function(t){return!!t&&!!t[a.symbols.template]},t}(),f.Template.prototype[a.symbols.template]=!0,f.Template.prototype.isImmutable=!0,f.encode=function(t){return t.replace(/\\(\{+)/g,(function(t,n){return f.opens.slice(0,n.length)})).replace(/\\(\}+)/g,(function(t,n){return f.closes.slice(0,n.length)}))},f.decode=function(t){return t.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},f.split=function(t){for(var n=[],i="",r=0;r<t.length;++r){var e=t[r];if("{"===e){for(var u="";r+1<t.length&&"{"===t[r+1];)u+="{",++r;n.push(i),i=u}else i+=e}return n.push(i),n},f.wrap=function(t,n){return n?1===n.length?"".concat(n).concat(t).concat(n):"".concat(n[0]).concat(t).concat(n[1]):t},f.stringify=function(t,n,i,r,e,u){void 0===u&&(u={});var s=void 0===t?"undefined":W(t),o=r&&r.errors&&r.errors.wrap||{},a=!1;if(h.isRef(t)&&t.render&&(a=t.in,t=t.resolve(n,i,r,e,m({in:t.in},u))),null===t)return"null";if("string"===s)return f.wrap(t,u.arrayItems&&o.string);if("number"===s||"function"===s||"symbol"===s)return t.toString();if("object"!==s)return JSON.stringify(t);if(t instanceof Date)return f.Template.date(t,r);if(t instanceof Map){for(var c=[],v=0,l=t.entries();v<l.length;v++){var d=nn(l[v],2),g=d[0],w=d[1];c.push("".concat(g.toString()," -> ").concat(w.toString()))}t=c}if(!Array.isArray(t))return t.toString();for(var p=[],y=0;y<t.length;y++){var _=t[y];p.push(f.stringify(_,n,i,r,e,m({arrayItems:!0},u)))}return f.wrap(p.join(", "),!a&&o.array)},f.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},f.functions={if:function(t,n,i){return t?n:i},length:function(t){return"string"==typeof t?t.length:t&&"object"==(void 0===t?"undefined":W(t))?Array.isArray(t)?t.length:k.keys(t).length:null},msg:function(t){var n=nn(this,5),i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=s.messages;if(!o)return"";var a=c.template(i,o[0],t,r,e)||c.template(i,o[1],t,r,e);return a?a.render(i,r,e,u,s):""},number:function(t){return"number"==typeof t?t:"string"==typeof t?S(t):"boolean"==typeof t?t?1:0:t instanceof Date?t.getTime():null}}},4946:function(t,n,i){var r,e,u=i(375),s=i(1687),o=i(8068),a=i(8160),c=i(3292),h=i(6354),f=i(6133),v={};t.exports=o.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:f.toSibling}},args:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),u=1;u<n;u++)i[u-1]=arguments[u];return 1===i.length&&Array.isArray(i[0])?(r=t).try.apply(r,Ut(i[0])):(e=t).try.apply(e,Ut(i))},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs;if(i.v_.match){for(var o=[],a=[],c=0;c<i.$_terms.matches.length;++c){var f=i.$_terms.matches[c],l=e.nest(f.schema,"match.".concat(c));l.snapshot();var d=f.schema.$_validate(t,l,u);d.errors?(a.push(d.errors),l.restore()):(o.push(d.value),l.commit())}if(0===o.length)return{errors:r("alternatives.any",{details:a.map((function(t){return h.details(t,{override:!1})}))})};if("one"===i.v_.match)return 1===o.length?{value:o[0]}:{errors:r("alternatives.one")};if(o.length!==i.$_terms.matches.length)return{errors:r("alternatives.all",{details:a.map((function(t){return h.details(t,{override:!1})}))})};var g=function(t){return t.$_terms.matches.some((function(t){return"object"===t.schema.type||"alternatives"===t.schema.type&&g(t.schema)}))};return g(i)?{value:o.reduce((function(t,n){return s(t,n,{mergeArrays:!1})}))}:{value:o[o.length-1]}}for(var m=[],w=0;w<i.$_terms.matches.length;++w){var p=i.$_terms.matches[w];if(p.schema){var y=e.nest(p.schema,"match.".concat(w));y.snapshot();var _=p.schema.$_validate(t,y,u);if(!_.errors)return y.commit(),_;y.restore(),m.push({schema:p.schema,reports:_.errors})}else for(var b=p.ref?p.ref.resolve(t,e,u):t,k=p.is?[p]:p.switch,A=0;A<k.length;++A){var T=k[A],S=T.is,E=T.then,I=T.otherwise,R="match.".concat(w).concat(p.switch?"."+A:"");if(S.$_match(b,e.nest(S,"".concat(R,".is")),u)){if(E)return E.$_validate(t,e.nest(E,"".concat(R,".then")),u)}else if(I)return I.$_validate(t,e.nest(I,"".concat(R,".otherwise")),u)}}return v.errors(m,n)},rules:{conditional:{method:function(t,n){u(!this.v_.Q_,"Unreachable condition"),u(!this.v_.match,"Cannot combine match mode",this.v_.match,"with conditional rule"),u(void 0===n.break,"Cannot use break option with alternatives conditional");for(var i=this.clone(),r=c.when(i,t,n),e=r.is?[r]:r.switch,s=0;s<e.length;s++){var o=e[s];if(o.then&&o.otherwise){i.$_setFlag("Q_",!0,{clone:!1});break}}return i.$_terms.matches.push(r),i.$_mutateRebuild()}},match:{method:function(t){if(u(["any","one","all"].includes(t),"Invalid alternatives match mode",t),"any"!==t)for(var n=0,i=this.$_terms.matches;n<i.length;n++){var r=i[n];u(r.schema,"Cannot combine match mode",t,"with conditional rules")}return this.$_setFlag("match",t)}},try:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];u(n.length,"Missing alternative schemas"),a.verifyFlat(n,"try"),u(!this.v_.Q_,"Unreachable condition");for(var r=this.clone(),e=0;e<n.length;e++){var s=n[e];r.$_terms.matches.push({schema:r.$_compile(s)})}return r.$_mutateRebuild()}}},overrides:{label:function(t){return this.$_parent("label",t).$_modify({each:function(n,i){return"is"!==i.path[0]&&"string"!=typeof n.v_.label?n.label(t):void 0},ref:!1})}},rebuild:function(t){t.$_modify({each:function(n){a.isSchema(n)&&"array"===n.type&&t.$_setFlag("J_",!0,{clone:!1})}})},manifest:{build:function(t,n){if(n.matches)for(var i=0,r=n.matches;i<r.length;i++){var e=r[i],u=e.schema,s=e.ref,o=e.is,a=e.not,c=e.then,h=e.otherwise;t=u?t.try(u):s?t.conditional(s,{is:o,then:c,not:a,otherwise:h,switch:e.switch}):t.conditional(o,{then:c,otherwise:h})}return t}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),v.errors=function(t,n){var i=n.error,r=n.state;if(!t.length)return{errors:i("alternatives.any")};if(1===t.length)return{errors:t[0].reports};for(var e=new Set,u=[],s=0;s<t.length;s++){var o=t[s],a=o.reports,c=o.schema;if(a.length>1)return v.unmatched(t,i);var f=a[0];if(f instanceof h.Report==0)return v.unmatched(t,i);if(f.state.path.length===r.path.length)if("any.only"!==f.code){var l=nn(f.code.split("."),2),d=l[0];"base"!==l[1]?u.push({type:c.type,report:f}):"object.base"===f.code?e.add(f.local.type):e.add(d)}else for(var g=0,m=f.local.valids;g<m.length;g++){var w=m[g];e.add(w)}else u.push({type:c.type,report:f})}return u.length?1===u.length?{errors:u[0].report}:v.unmatched(t,i):{errors:i("alternatives.types",{types:Ut(e)})}},v.unmatched=function(t,n){for(var i,r=[],e=0;e<t.length;e++){var u=t[e];(i=r).push.apply(i,Ut(u.reports))}return{errors:n("alternatives.match",h.details(r,{override:!1}))}}},8068:function(t,n,i){var r=i(375),e=i(7629),u=i(8160),s=i(6914);t.exports=e.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method:function(t,n){return r("function"==typeof t,"Method must be a function"),r(void 0===n||n&&"string"==typeof n,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:t,description:n}})},validate:function(t,n,i){var r=i.method;try{return r(t,n)}catch(t){return n.error("any.custom",{error:t})}},args:["method","description"],multi:!0},messages:{method:function(t){return this.prefs({messages:t})}},shared:{method:function(t){r(u.isSchema(t)&&t.v_.id,"Schema must be a schema with an id");var n=this.clone();return n.$_terms.shared=n.$_terms.shared||[],n.$_terms.shared.push(t),n.$_mutateRegister(t),n}},warning:{method:function(t,n){return r(t&&"string"==typeof t,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:t,local:n},warn:!0})},validate:function(t,n,i){var r=i.code,e=i.local;return n.error(r,e)},args:["code","local"],multi:!0}},modifiers:{keep:function(t,n){void 0===n&&(n=!0),t.keep=n},message:function(t,n){t.message=s.compile(n)},warn:function(t,n){void 0===n&&(n=!0),t.warn=n}},manifest:{build:function(t,n){for(var i in n){var r=n[i];if(["examples","externals","metas","notes","tags"].includes(i))for(var e=0;e<r.length;e++){var u=r[e];t=t[i.slice(0,-1)](u)}else if("alterations"!==i)if("whens"!==i){if("shared"===i)for(var s=0;s<r.length;s++){var o=r[s];t=t.shared(o)}}else for(var a=0;a<r.length;a++){var c=r[a],h=c.ref,f=c.is,v=c.not,l=c.then,d=c.otherwise,g=c.concat;t=g?t.concat(g):h?t.when(h,{is:f,not:v,then:l,otherwise:d,switch:c.switch,break:c.break}):t.when(f,{then:l,otherwise:d,break:c.break})}else{for(var m={},w=0;w<r.length;w++){var p=r[w],y=p.target,_=p.adjuster;m[y]=_}t=t.alter(m)}}return t}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:function(t,n,i){var r,e,u=i(375),s=i(9474),o=i(9621),a=i(8068),c=i(8160),h=i(3292),f={};t.exports=a.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},rv:{init:[]},ov:{init:[]},hv:{init:[]}},coerce:{from:"object",method:function(t,n){var i=n.schema,r=n.state,e=n.prefs;if(Array.isArray(t)){var u=i.$_getRule("sort");return u?f.sort(i,t,u.args.options,r,e):void 0}}},validate:function(t,n){var i=n.schema,r=n.error;if(!Array.isArray(t)){if(i.v_.single){var e=[t];return e[c.symbols.arraySingle]=!0,{value:e}}return{errors:r("array.base")}}if(i.$_getRule("items")||i.$_terms.externals)return{value:t.slice()}},rules:{has:{method:function(t){t=this.$_compile(t,{appendPath:!0});var n=this.$_addRule({name:"has",args:{schema:t}});return n.$_mutateRegister(t),n},validate:function(t,n,i){for(var r=n.state,e=n.prefs,u=n.error,s=i.schema,o=[t].concat(Ut(r.ancestors)),a=0;a<t.length;++a){var c=r.localize(Ut(r.path).concat([a]),o,s);if(s.$_match(t[a],c,e))return t}var h=s.v_.label;return h?u("array.hasKnown",{patternLabel:h}):u("array.hasUnknown",null)},multi:!0},items:{method:function(){for(var t=function(t){var i=c.tryWithPath((function(){return n.$_compile(r[t])}),t,{append:!0});u.$_terms.items.push(i)},n=this,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];c.verifyFlat(r,"items");for(var u=this.$_addRule("items"),s=0;s<r.length;++s)t(s);return u.$_mutateRebuild()},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs,s=n.errorsArray,o=i.$_terms.hv.slice(),a=i.$_terms.ordered.slice(),h=Ut(i.$_terms.ov).concat(Ut(o)),v=!t[c.symbols.arraySingle];delete t[c.symbols.arraySingle];for(var l=s(),d=t.length,g=0;g<d;++g){var m=t[g],w=!1,p=!1,y=v?g:new Number(g),_=Ut(e.path).concat([y]);if(i.v_.sparse||void 0!==m){for(var b=[t].concat(Ut(e.ancestors)),k=0,A=i.$_terms.rv;k<A.length;k++){var T=A[k];if(T.$_match(m,e.localize(_,b,T),u,{presence:"ignore"})){if(l.push(r("array.excludes",{pos:g,value:m},e.localize(_))),u.abortEarly)return l;w=!0,a.shift();break}}if(!w){if(i.$_terms.ordered.length){if(a.length){var S,E=a.shift(),I=E.$_validate(m,e.localize(_,b,E),u);if(I.errors){if((S=l).push.apply(S,Ut(I.errors)),u.abortEarly)return l}else if("strip"===E.v_.result)f.fastSplice(t,g),--g,--d;else{if(!i.v_.sparse&&void 0===I.value){if(l.push(r("array.sparse",{key:y,path:_,pos:g,value:void 0},e.localize(_))),u.abortEarly)return l;continue}t[g]=I.value}continue}if(!i.$_terms.items.length){if(l.push(r("array.orderedLength",{pos:g,limit:i.$_terms.ordered.length})),u.abortEarly)return l;break}}for(var R=[],C=o.length,N=0;N<C;++N){var x=e.localize(_,b,o[N]);x.snapshot();var D=o[N].$_validate(m,x,u);if(R[N]=D,!D.errors){if(x.commit(),t[g]=D.value,p=!0,f.fastSplice(o,N),--N,--C,!i.v_.sparse&&void 0===D.value&&(l.push(r("array.sparse",{key:y,path:_,pos:g,value:void 0},e.localize(_))),u.abortEarly))return l;break}x.restore()}if(!p){var P=u.stripUnknown&&!!u.stripUnknown.arrays||!1;C=h.length;for(var M=0;M<h.length;M++){var B=h[M],O=void 0,L=o.indexOf(B);if(-1!==L)O=R[L];else{var F=e.localize(_,b,B);if(F.snapshot(),!(O=B.$_validate(m,F,u)).errors){F.commit(),"strip"===B.v_.result?(f.fastSplice(t,g),--g,--d):i.v_.sparse||void 0!==O.value?t[g]=O.value:(l.push(r("array.sparse",{key:y,path:_,pos:g,value:void 0},e.localize(_))),w=!0),p=!0;break}F.restore()}if(1===C){var V;if(P){f.fastSplice(t,g),--g,--d,p=!0;break}if((V=l).push.apply(V,Ut(O.errors)),u.abortEarly)return l;w=!0;break}}if(!w&&(i.$_terms.ov.length||i.$_terms.hv.length)&&!p){if(P){f.fastSplice(t,g),--g,--d;continue}if(l.push(r("array.includes",{pos:g,value:m},e.localize(_))),u.abortEarly)return l}}}}else{if(l.push(r("array.sparse",{key:y,path:_,pos:g,value:void 0},e.localize(_))),u.abortEarly)return l;a.shift()}}return o.length&&f.fillMissedErrors(i,l,o,t,e,u),a.length&&(f.fillOrderedErrors(i,l,a,t,e,u),l.length||f.fillDefault(a,t,e,u)),l.length?l:t},priority:!0,manifest:!1},length:{method:function(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:function(t,n,i,r){var e=i.limit,u=r.name,s=r.operator,o=r.args;return c.compare(t.length,e,s)?t:n.error("array."+u,{limit:o.limit,value:t})},args:[{name:"limit",ref:!0,assert:c.limit,message:"must be a positive integer"}]},max:{method:function(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},ordered:{method:function(){for(var t=function(t){var i=c.tryWithPath((function(){return n.$_compile(r[t])}),t,{append:!0});f.validateSingle(i,u),u.$_mutateRegister(i),u.$_terms.ordered.push(i)},n=this,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];c.verifyFlat(r,"ordered");for(var u=this.$_addRule("items"),s=0;s<r.length;++s)t(s);return u.$_mutateRebuild()}},single:{method:function(t){var n=void 0===t||!!t;return u(!n||!this.v_.J_,"Cannot specify single rule when array has array items"),this.$_setFlag("single",n)}},sort:{method:function(t){void 0===t&&(t={}),c.assertOptions(t,["by","order"]);var n={order:t.order||"ascending"};return t.by&&(n.by=h.ref(t.by,{ancestor:0}),u(!n.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:n}})},validate:function(t,n,i){var r=n.error,e=n.state,u=n.prefs,s=n.schema,o=i.options,a=f.sort(s,t,o,e,u),c=a.value,h=a.errors;if(h)return h;for(var v=0;v<t.length;++v)if(t[v]!==c[v])return r("array.sort",{order:o.order,by:o.by?o.by.key:"value"});return t},convert:!0},sparse:{method:function(t){var n=void 0===t||!!t;return this.v_.sparse===n?this:(n?this.clone():this.$_addRule("items")).$_setFlag("sparse",n,{clone:!1})}},unique:{method:function(t,n){void 0===n&&(n={}),u(!t||"function"==typeof t||"string"==typeof t,"comparator must be a function or a string"),c.assertOptions(n,["ignoreUndefined","separator"]);var i={name:"unique",args:{options:n,comparator:t}};if(t)if("string"==typeof t){var r=c.default(n.separator,".");i.path=r?t.split(r):[t]}else i.comparator=t;return this.$_addRule(i)},validate:function(t,n,i,r){for(var e=n.state,a=n.error,c=(n.schema,i.comparator),h=i.options,f=r.comparator,v=r.path,l={string:k.create(null),number:k.create(null),undefined:k.create(null),boolean:k.create(null),bigint:k.create(null),object:new Map,function:new Map,custom:new Map},d=f||s,g=h.ignoreUndefined,m=0;m<t.length;++m){var w=v?o(t[m],v):t[m],p=f?l.custom:l[void 0===w?"undefined":W(w)];if(u(p,"Failed to find unique map container for type",void 0===w?"undefined":W(w)),p instanceof Map){for(var y=p.entries(),_=void 0;!(_=y.next()).done;)if(d(_.value[0],w)){var b=e.localize(Ut(e.path).concat([m]),[t].concat(Ut(e.ancestors))),A={pos:m,value:t[m],dupePos:_.value[1],dupeValue:t[_.value[1]]};return v&&(A.path=c),a("array.unique",A,b)}p.set(w,m)}else{if((!g||void 0!==w)&&void 0!==p[w]){var T={pos:m,value:t[m],dupePos:p[w],dupeValue:t[p[w]]};return v&&(T.path=c),a("array.unique",T,e.localize(Ut(e.path).concat([m]),[t].concat(Ut(e.ancestors))))}p[w]=m}}return t},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:function(t,n){return new Set(t)}}},rebuild:function(t){t.$_terms.ov=[],t.$_terms.rv=[],t.$_terms.hv=[];for(var n=0,i=t.$_terms.items;n<i.length;n++){var r=i[n];f.validateSingle(r,t),"required"===r.v_.presence?t.$_terms.hv.push(r):"forbidden"===r.v_.presence?t.$_terms.rv.push(r):t.$_terms.ov.push(r)}for(var e=0,u=t.$_terms.ordered;e<u.length;e++){var s=u[e];f.validateSingle(s,t)}},manifest:{build:function(t,n){return n.items&&(t=(r=t).items.apply(r,Ut(n.items))),n.ordered&&(t=(e=t).ordered.apply(e,Ut(n.ordered))),t}},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),f.fillMissedErrors=function(t,n,i,r,e,u){for(var s=[],o=0,a=0;a<i.length;a++){var c=i[a].v_.label;c?s.push(c):++o}s.length?o?n.push(t.$_createError("array.includesRequiredBoth",r,{knownMisses:s,unknownMisses:o},e,u)):n.push(t.$_createError("array.includesRequiredKnowns",r,{knownMisses:s},e,u)):n.push(t.$_createError("array.includesRequiredUnknowns",r,{unknownMisses:o},e,u))},f.fillOrderedErrors=function(t,n,i,r,e,u){for(var s=[],o=0;o<i.length;o++){var a=i[o];"required"===a.v_.presence&&s.push(a)}s.length&&f.fillMissedErrors(t,n,s,r,e,u)},f.fillDefault=function(t,n,i,r){for(var e,u=[],s=!0,o=t.length-1;o>=0;--o){var a=t[o],c=[n].concat(Ut(i.ancestors)),h=a.$_validate(void 0,i.localize(i.path,c,a),r).value;if(s){if(void 0===h)continue;s=!1}u.unshift(h)}u.length&&(e=n).push.apply(e,Ut(u))},f.fastSplice=function(t,n){for(var i=n;i<t.length;)t[i++]=t[i];--t.length},f.validateSingle=function(t,n){("array"===t.type||t.v_.J_)&&(u(!n.v_.single,"Cannot specify array item with single rule enabled"),n.$_setFlag("J_",!0,{clone:!1}))},f.sort=function(t,n,i,r,e){var u="ascending"===i.order?1:-1,s=-1*u,o=u,a=function(a,c){var h=f.compare(a,c,s,o);if(null!==h||(i.by&&(a=i.by.resolve(a,r,e),c=i.by.resolve(c,r,e)),null!==(h=f.compare(a,c,s,o))))return h;var v=void 0===a?"undefined":W(a);if(v!==(void 0===c?"undefined":W(c)))throw t.$_createError("array.sort.mismatching",n,null,r,e);if("number"!==v&&"string"!==v)throw t.$_createError("array.sort.unsupported",n,{type:v},r,e);return"number"===v?(a-c)*u:a<c?s:o};try{return{value:n.slice().sort(a)}}catch(t){return{errors:t}}},f.compare=function(t,n,i,r){return t===n?0:void 0===t?1:void 0===n?-1:null===t?r:null===n?i:null}},4937:function(t,n,i){var r,e,u=i(375),s=i(8068),o=i(8160),a=i(2036),c={isBool:function(t){return"boolean"==typeof t}};t.exports=s.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce:function(t,n){var i=n.schema;if("boolean"!=typeof t){if("string"==typeof t){var r=i.v_.sensitive?t:t.toLowerCase();t="true"===r||"false"!==r&&t}return"boolean"!=typeof t&&(t=i.$_terms.truthy&&i.$_terms.truthy.has(t,null,null,!i.v_.sensitive)||(!i.$_terms.falsy||!i.$_terms.falsy.has(t,null,null,!i.v_.sensitive))&&t),{value:t}}},validate:function(t,n){var i=n.error;if("boolean"!=typeof t)return{value:t,errors:i("boolean.base")}},rules:{truthy:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];o.verifyFlat(n,"truthy");var r=this.clone();r.$_terms.truthy=r.$_terms.truthy||new a;for(var e=0;e<n.length;++e){var s=n[e];u(void 0!==s,"Cannot call truthy with undefined"),r.$_terms.truthy.add(s)}return r}},falsy:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];o.verifyFlat(n,"falsy");var r=this.clone();r.$_terms.falsy=r.$_terms.falsy||new a;for(var e=0;e<n.length;++e){var s=n[e];u(void 0!==s,"Cannot call falsy with undefined"),r.$_terms.falsy.add(s)}return r}},sensitive:{method:function(t){return void 0===t&&(t=!0),this.$_setFlag("sensitive",t)}}},cast:{number:{from:c.isBool,to:function(t,n){return t?1:0}},string:{from:c.isBool,to:function(t,n){return t?"true":"false"}}},manifest:{build:function(t,n){return n.truthy&&(t=(r=t).truthy.apply(r,Ut(n.truthy))),n.falsy&&(t=(e=t).falsy.apply(e,Ut(n.falsy))),t}},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s=i(3328),o={isDate:function(t){return t instanceof Date}};t.exports=e.extend({type:"date",coerce:{from:["number","string"],method:function(t,n){var i=n.schema;return{value:o.parse(t,i.v_.format)||t}}},validate:function(t,n){var i=n.schema,r=n.error,e=n.prefs;if(!(t instanceof Date)||E(t.getTime())){var u=i.v_.format;return e.convert&&u&&"string"==typeof t?{value:t,errors:r("date.format",{format:u})}:{value:t,errors:r("date.base")}}},rules:{compare:{method:!1,validate:function(t,n,i,r){var e=i.date,s=r.name,o=r.operator,a=r.args,c="now"===e?Date.now():e.getTime();return u.compare(t.getTime(),c,o)?t:n.error("date."+s,{limit:a.date,value:t})},args:[{name:"date",ref:!0,normalize:function(t){return"now"===t?t:o.parse(t)},assert:function(t){return null!==t},message:"must have a valid date format"}]},format:{method:function(t){return r(["iso","javascript","unix"].includes(t),"Unknown date format",t),this.$_setFlag("format",t)}},greater:{method:function(t){return this.$_addRule({name:"greater",method:"compare",args:{date:t},operator:">"})}},iso:{method:function(){return this.format("iso")}},less:{method:function(t){return this.$_addRule({name:"less",method:"compare",args:{date:t},operator:"<"})}},max:{method:function(t){return this.$_addRule({name:"max",method:"compare",args:{date:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"compare",args:{date:t},operator:">="})}},timestamp:{method:function(t){return void 0===t&&(t="javascript"),r(["javascript","unix"].includes(t),'"type" must be one of "javascript, unix"'),this.format(t)}}},cast:{number:{from:o.isDate,to:function(t,n){return t.getTime()}},string:{from:o.isDate,to:function(t,n){var i=n.prefs;return s.date(t,i)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),o.parse=function(t,n){if(t instanceof Date)return t;if("string"!=typeof t&&(E(t)||!isFinite(t))||/^\s*$/.test(t))return null;if("iso"===n)return u.isIsoDate(t)?o.date(t.toString()):null;var i=t;if("string"==typeof t&&/^[+-]?\d+(\.\d+)?$/.test(t)&&(t=S(t)),n){if("javascript"===n)return o.date(1*t);if("unix"===n)return o.date(1e3*t);if("string"==typeof i)return null}return o.date(t)},o.date=function(t){var n=new Date(t);return E(n.getTime())?null:n}},390:function(t,n,i){var r=i(375),e=i(7824);t.exports=e.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method:function(t){return r(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length===r?t:n.error("function.arity",{n:r})}},class:{method:function(){return this.$_addRule("class")},validate:function(t,n){return/^\s*class\s/.test(t.toString())?t:n.error("function.class",{value:t})}},minArity:{method:function(t){return r(Number.isSafeInteger(t)&&t>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length>=r?t:n.error("function.minArity",{n:r})}},maxArity:{method:function(t){return r(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length<=r?t:n.error("function.maxArity",{n:r})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:function(t,n,i){var r=i(978),e=i(375),u=i(8571),s=i(3652),o=i(8068),a=i(8160),c=i(3292),h=i(6354),f=i(6133),v=i(3328),l={renameDefaults:{alias:!1,multiple:!1,override:!1}};t.exports=o.extend({type:"uv",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:function(t,n){return t.keys(n)},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs;if(!t||(void 0===t?"undefined":W(t))!==i.$_property("typeof")||Array.isArray(t))return{value:t,errors:r("object.base",{type:i.$_property("typeof")})};if(i.$_terms.renames||i.$_terms.dependencies||i.$_terms.keys||i.$_terms.patterns||i.$_terms.externals){t=l.clone(t,u);var s=[];if(i.$_terms.renames&&!l.rename(i,t,e,u,s))return{value:t,errors:s};if(!i.$_terms.keys&&!i.$_terms.patterns&&!i.$_terms.dependencies)return{value:t,errors:s};var o=new Set(k.keys(t));if(i.$_terms.keys)for(var a=[t].concat(Ut(e.ancestors)),c=0,h=i.$_terms.keys;c<h.length;c++){var f=h[c],v=f.key,d=t[v];o.delete(v);var g=e.localize(Ut(e.path).concat([v]),a,f),m=f.schema.$_validate(d,g,u);if(m.errors){var w;if(u.abortEarly)return{value:t,errors:m.errors};void 0!==m.value&&(t[v]=m.value),(w=s).push.apply(w,Ut(m.errors))}else"strip"===f.schema.v_.result||void 0===m.value&&void 0!==d?delete t[v]:void 0!==m.value&&(t[v]=m.value)}if(o.size||i.v_.fv){var p=l.unknown(i,t,o,s,e,u);if(p)return p}if(i.$_terms.dependencies)for(var y=0,_=i.$_terms.dependencies;y<_.length;y++){var b=_[y];if(null===b.key||!1!==l.isPresent(b.options)(b.key.resolve(t,e,u,null,{shadow:!1}))){var A=l.dependencies[b.rel](i,b,t,e,u);if(A){var T=i.$_createError(A.code,t,A.context,e,u);if(u.abortEarly)return{value:t,errors:T};s.push(T)}}}return{value:t,errors:s}}},rules:{and:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"and"),l.dependency(this,"and",null,n)}},append:{method:function(t){return null==t||0===k.keys(t).length?this:this.keys(t)}},assert:{method:function(t,n,i){v.isTemplate(t)||(t=c.ref(t)),e(void 0===i||"string"==typeof i,"Message must be a string"),n=this.$_compile(n,{appendPath:!0});var r=this.$_addRule({name:"assert",args:{subject:t,schema:n,message:i}});return r.$_mutateRegister(t),r.$_mutateRegister(n),r},validate:function(t,n,i){var r=n.error,e=n.prefs,u=n.state,s=i.subject,o=i.schema,a=i.message,c=s.resolve(t,u,e),h=f.isRef(s)?s.absolute(u):[];return o.$_match(c,u.localize(h,[t].concat(Ut(u.ancestors)),o),e)?t:r("object.assert",{subject:s,message:a})},args:["subject","schema","message"],multi:!0},instance:{method:function(t,n){return e("function"==typeof t,"constructor must be a function"),n=n||t.name,this.$_addRule({name:"instance",args:{constructor:t,name:n}})},validate:function(t,n,i){var r=i.constructor,e=i.name;return t instanceof r?t:n.error("object.instance",{type:e,value:t})},args:["constructor","name"]},keys:{method:function(t){var n=this;e(void 0===t||"object"==(void 0===t?"undefined":W(t)),"Object schema must be a valid object"),e(!a.isSchema(t),"Object schema cannot be a joi schema");var i=this.clone();if(t)if(k.keys(t).length){var r=function(r){a.tryWithPath((function(){return i.$_terms.keys.push({key:r,schema:n.$_compile(t[r])})}),r)};for(var u in i.$_terms.keys=i.$_terms.keys?i.$_terms.keys.filter((function(n){return!t.hasOwnProperty(n.key)})):new l.Keys,t)r(u)}else i.$_terms.keys=new l.Keys;else i.$_terms.keys=null;return i.$_mutateRebuild()}},length:{method:function(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:function(t,n,i,r){var e=i.limit,u=r.name,s=r.operator,o=r.args;return a.compare(k.keys(t).length,e,s)?t:n.error("object."+u,{limit:o.limit,value:t})},args:[{name:"limit",ref:!0,assert:a.limit,message:"must be a positive integer"}]},max:{method:function(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},nand:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"nand"),l.dependency(this,"nand",null,n)}},or:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"or"),l.dependency(this,"or",null,n)}},oxor:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return l.dependency(this,"oxor",null,n)}},pattern:{method:function(t,n,i){void 0===i&&(i={});var r=t instanceof RegExp;r||(t=this.$_compile(t,{appendPath:!0})),e(void 0!==n,"Invalid rule"),a.assertOptions(i,["fallthrough","matches"]),r&&e(!t.flags.includes("g")&&!t.flags.includes("y"),"pattern should not use global or sticky mode"),n=this.$_compile(n,{appendPath:!0});var u,s=this.clone();s.$_terms.patterns=s.$_terms.patterns||[];var o=(sn(u={},r?"regex":"schema",t),sn(u,"rule",n),u);return i.matches&&(o.matches=this.$_compile(i.matches),"array"!==o.matches.type&&(o.matches=o.matches.$_root.array().items(o.matches)),s.$_mutateRegister(o.matches),s.$_setFlag("fv",!0,{clone:!1})),i.fallthrough&&(o.fallthrough=!0),s.$_terms.patterns.push(o),s.$_mutateRegister(n),s}},ref:{method:function(){return this.$_addRule("ref")},validate:function(t,n){return f.isRef(t)?t:n.error("object.refType",{value:t})}},regex:{method:function(){return this.$_addRule("regex")},validate:function(t,n){return t instanceof RegExp?t:n.error("object.regex",{value:t})}},rename:{method:function(t,n,i){void 0===i&&(i={}),e("string"==typeof t||t instanceof RegExp,"Rename missing the from argument"),e("string"==typeof n||n instanceof v,"Invalid rename to argument"),e(n!==t,"Cannot rename key to same name:",t),a.assertOptions(i,["alias","ignoreUndefined","override","multiple"]);var u=this.clone();u.$_terms.renames=u.$_terms.renames||[];for(var s=0,o=u.$_terms.renames;s<o.length;s++){var c=o[s];e(c.from!==t,"Cannot rename the same key multiple times")}return n instanceof v&&u.$_mutateRegister(n),u.$_terms.renames.push({from:t,to:n,options:r(l.renameDefaults,i)}),u}},schema:{method:function(t){return void 0===t&&(t="any"),this.$_addRule({name:"schema",args:{type:t}})},validate:function(t,n,i){var r=i.type;return!a.isSchema(t)||"any"!==r&&t.type!==r?n.error("object.schema",{type:r}):t}},unknown:{method:function(t){return this.$_setFlag("unknown",!1!==t)}},with:{method:function(t,n,i){return void 0===i&&(i={}),l.dependency(this,"with",t,n,i)}},without:{method:function(t,n,i){return void 0===i&&(i={}),l.dependency(this,"without",t,n,i)}},xor:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"xor"),l.dependency(this,"xor",null,n)}}},overrides:{default:function(t,n){return void 0===t&&(t=a.symbols.deepDefault),this.$_parent("default",t,n)}},rebuild:function(t){if(t.$_terms.keys){for(var n=function(t,n){var r=n[t];a.tryWithPath((function(){return i.add(r,{after:r.schema.$_rootReferences(),group:r.key})}),r.key)},i=new s.Sorter,r=0,e=t.$_terms.keys;r<e.length;r++)n(r,e);t.$_terms.keys=fn(l.Keys,Ut(i.nodes))}},manifest:{build:function(t,n){if(n.keys&&(t=t.keys(n.keys)),n.dependencies)for(var i=0,r=n.dependencies;i<r.length;i++){var e=r[i],u=e.rel,s=e.key,o=void 0===s?null:s,a=e.peers,c=e.options;t=l.dependency(t,u,o,a,c)}if(n.patterns)for(var h=0,f=n.patterns;h<f.length;h++){var v=f[h],d=v.regex,g=v.schema,m=v.rule,w=v.fallthrough,p=v.matches;t=t.pattern(d||g,m,{fallthrough:w,matches:p})}if(n.renames)for(var y=0,_=n.renames;y<_.length;y++){var b=_[y],k=b.from,A=b.to,T=b.options;t=t.rename(k,A,T)}return t}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),l.clone=function(t,n){if("object"==(void 0===t?"undefined":W(t))){if(n.nonEnumerables)return u(t,{shallow:!0});var i=k.create(k.getPrototypeOf(t));return k.assign(i,t),i}var r=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.apply(this,i)};return r.prototype=u(t.prototype),k.defineProperty(r,"name",{value:t.name,writable:!1}),k.defineProperty(r,"length",{value:t.length,writable:!1}),k.assign(r,t),r},l.dependency=function(t,n,i,r,u){e(null===i||"string"==typeof i,n,"key must be a strings"),u||(u=r.length>1&&"object"==W(r[r.length-1])?r.pop():{}),a.assertOptions(u,["separator","isPresent"]),r=[].concat(r);for(var s=a.default(u.separator,"."),o=[],h=0;h<r.length;h++){var f=r[h];e("string"==typeof f,n,"peers must be strings"),o.push(c.ref(f,{separator:s,ancestor:0,prefix:!1}))}null!==i&&(i=c.ref(i,{separator:s,ancestor:0,prefix:!1}));var v=t.clone();return v.$_terms.dependencies=v.$_terms.dependencies||[],v.$_terms.dependencies.push(new l.Dependency(n,i,o,r,u)),v},l.dependencies={and:function(t,n,i,r,e){for(var u=[],s=[],o=n.peers.length,a=l.isPresent(n.options),c=0,h=n.peers;c<h.length;c++){var f=h[c];!1===a(f.resolve(i,r,e,null,{shadow:!1}))?u.push(f.key):s.push(f.key)}if(u.length!==o&&s.length!==o)return{code:"object.and",context:{present:s,presentWithLabels:l.keysToLabels(t,s),missing:u,missingWithLabels:l.keysToLabels(t,u)}}},nand:function(t,n,i,r,e){for(var u=[],s=l.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(u.length===n.peers.length){var h=n.paths[0],f=n.paths.slice(1);return{code:"object.nand",context:{main:h,mainWithLabel:l.keysToLabels(t,h),peers:f,peersWithLabels:l.keysToLabels(t,f)}}}},or:function(t,n,i,r,e){for(var u=l.isPresent(n.options),s=0,o=n.peers;s<o.length;s++)if(u(o[s].resolve(i,r,e,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:n.paths,peersWithLabels:l.keysToLabels(t,n.paths)}}},oxor:function(t,n,i,r,e){for(var u=[],s=l.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(u.length&&1!==u.length){var h={peers:n.paths,peersWithLabels:l.keysToLabels(t,n.paths)};return h.present=u,h.presentWithLabels=l.keysToLabels(t,u),{code:"object.oxor",context:h}}},with:function(t,n,i,r,e){for(var u=l.isPresent(n.options),s=0,o=n.peers;s<o.length;s++){var a=o[s];if(!1===u(a.resolve(i,r,e,null,{shadow:!1})))return{code:"object.with",context:{main:n.key.key,mainWithLabel:l.keysToLabels(t,n.key.key),peer:a.key,peerWithLabel:l.keysToLabels(t,a.key)}}}},without:function(t,n,i,r,e){for(var u=l.isPresent(n.options),s=0,o=n.peers;s<o.length;s++){var a=o[s];if(u(a.resolve(i,r,e,null,{shadow:!1})))return{code:"object.without",context:{main:n.key.key,mainWithLabel:l.keysToLabels(t,n.key.key),peer:a.key,peerWithLabel:l.keysToLabels(t,a.key)}}}},xor:function(t,n,i,r,e){for(var u=[],s=l.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(1!==u.length){var h={peers:n.paths,peersWithLabels:l.keysToLabels(t,n.paths)};return 0===u.length?{code:"object.missing",context:h}:(h.present=u,h.presentWithLabels=l.keysToLabels(t,u),{code:"object.xor",context:h})}}},l.keysToLabels=function(t,n){return Array.isArray(n)?n.map((function(n){return t.$_mapLabels(n)})):t.$_mapLabels(n)},l.isPresent=function(t){return"function"==typeof t.isPresent?t.isPresent:function(t){return void 0!==t}},l.rename=function(t,n,i,r,e){for(var u={},s=0,o=t.$_terms.renames;s<o.length;s++){var a=o[s],c=[],h="string"!=typeof a.from;if(h){for(var f in n)if(!(void 0===n[f]&&a.options.ignoreUndefined||f===a.to)){var l=a.from.exec(f);l&&c.push({from:f,to:a.to,match:l})}}else!k.prototype.hasOwnProperty.call(n,a.from)||void 0===n[a.from]&&a.options.ignoreUndefined||c.push(a);for(var d=0;d<c.length;d++){var g=c[d],m=g.from,w=g.to;if(w instanceof v&&(w=w.render(n,i,r,g.match)),m!==w){if(!a.options.multiple&&u[w]&&(e.push(t.$_createError("object.rename.multiple",n,{from:m,to:w,pattern:h},i,r)),r.abortEarly)||k.prototype.hasOwnProperty.call(n,w)&&!a.options.override&&!u[w]&&(e.push(t.$_createError("object.rename.override",n,{from:m,to:w,pattern:h},i,r)),r.abortEarly))return!1;void 0===n[m]?delete n[w]:n[w]=n[m],u[w]=!0,a.options.alias||delete n[m]}}}return!0},l.unknown=function(t,n,i,r,e,u){if(t.$_terms.patterns){for(var s=!1,o=t.$_terms.patterns.map((function(t){if(t.matches)return s=!0,[]})),c=[n].concat(Ut(e.ancestors)),f=0;f<i.length;f++)for(var v=i[f],l=n[v],d=Ut(e.path).concat([v]),g=0;g<t.$_terms.patterns.length;++g){var m=t.$_terms.patterns[g];if(m.regex){var w=m.regex.test(v);if(e.mainstay.tracer.debug(e,"rule","pattern.".concat(g),w?"pass":"error"),!w)continue}else if(!m.schema.$_match(v,e.nest(m.schema,"pattern.".concat(g)),u))continue;i.delete(v);var p=e.localize(d,c,{schema:m.rule,key:v}),y=m.rule.$_validate(l,p,u);if(y.errors){var _;if(u.abortEarly)return{value:n,errors:y.errors};(_=r).push.apply(_,Ut(y.errors))}if(m.matches&&o[g].push(v),n[v]=y.value,!m.fallthrough)break}if(s)for(var b=0;b<o.length;++b){var k=o[b];if(k){var A=t.$_terms.patterns[b].matches,T=e.localize(e.path,c,A),S=A.$_validate(k,T,u);if(S.errors){var E=h.details(S.errors,{override:!1});E.matches=k;var I=t.$_createError("object.pattern.match",n,E,e,u);if(u.abortEarly)return{value:n,errors:I};r.push(I)}}}}if(i.size&&(t.$_terms.keys||t.$_terms.patterns)){if(u.stripUnknown&&void 0===t.v_.unknown||u.skipFunctions)for(var R=!(!u.stripUnknown||!0!==u.stripUnknown&&!u.stripUnknown.objects),C=0;C<i.length;C++){var N=i[C];R?(delete n[N],i.delete(N)):"function"==typeof n[N]&&i.delete(N)}if(!a.default(t.v_.unknown,u.allowUnknown))for(var x=0;x<i.length;x++){var D=i[x],P=e.localize(Ut(e.path).concat([D]),[]),M=t.$_createError("object.unknown",n[D],{child:D},P,u,{flags:!1});if(u.abortEarly)return{value:n,errors:M};r.push(M)}}},l.Dependency=function(){function t(t,n,i,r,e){this.rel=t,this.key=n,this.peers=i,this.paths=r,this.options=e}return t.prototype.describe=function(){var t={rel:this.rel,peers:this.paths};return null!==this.key&&(t.key=this.key.key),"."!==this.peers[0].separator&&(t.options=b(m({},t.options),{separator:this.peers[0].separator})),this.options.isPresent&&(t.options=b(m({},t.options),{isPresent:this.options.isPresent})),t},t}(),l.Keys=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.concat=function(t){for(var n=this.slice(),i=new Map,r=0;r<n.length;++r)i.set(n[r].key,r);for(var e=0;e<t.length;e++){var u=t[e],s=u.key,o=i.get(s);void 0!==o?n[o]={key:s,schema:n[o].schema.concat(u.schema)}:n.push(u)}return n},n}(mn(Array))},8785:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s=i(3292),o=i(6354),a={};t.exports=e.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:function(t,n){return t.ref(n)},validate:function(t,n){var i=n.schema,e=n.state,u=n.prefs;r(i.$_terms.link,"Uninitialized link schema");var s=a.generate(i,t,e,u),o=i.$_terms.link[0].ref;return s.$_validate(t,e.nest(s,"link:".concat(o.display,":").concat(s.type)),u)},generate:function(t,n,i,r){return a.generate(t,n,i,r)},rules:{ref:{method:function(t){r(!this.$_terms.link,"Cannot reinitialize schema"),t=s.ref(t),r("value"===t.type||"local"===t.type,"Invalid reference type:",t.type),r("local"===t.type||"root"===t.ancestor||t.ancestor>0,"Link cannot reference itself");var n=this.clone();return n.$_terms.link=[{ref:t}],n}},relative:{method:function(t){return void 0===t&&(t=!0),this.$_setFlag("relative",t)}}},overrides:{concat:function(t){r(this.$_terms.link,"Uninitialized link schema"),r(u.isSchema(t),"Invalid schema object"),r("link"!==t.type,"Cannot merge type link with another link");var n=this.clone();return n.$_terms.whens||(n.$_terms.whens=[]),n.$_terms.whens.push({concat:t}),n.$_mutateRebuild()}},manifest:{build:function(t,n){return r(n.link,"Invalid link description missing link"),t.ref(n.link)}}}),a.generate=function(t,n,i,r){var e=i.mainstay.links.get(t);if(e)return e.C_(n,i,r).schema;var u=t.$_terms.link[0].ref,s=a.perspective(u,i),o=s.perspective,c=s.path;a.assert(o,"which is outside of schema boundaries",u,t,i,r);try{e=c.length?o.$_reach(c):o}catch(n){a.assert(!1,"to non-existing schema",u,t,i,r)}return a.assert("link"!==e.type,"which is another link",u,t,i,r),t.v_.relative||i.mainstay.links.set(t,e),e.C_(n,i,r).schema},a.perspective=function(t,n){if("local"===t.type){for(var i=0,r=n.schemas;i<r.length;i++){var e=r[i],u=e.schema,s=e.key;if((u.v_.id||s)===t.path[0])return{perspective:u,path:t.path.slice(1)};if(u.$_terms.shared)for(var o=0,a=u.$_terms.shared;o<a.length;o++){var c=a[o];if(c.v_.id===t.path[0])return{perspective:c,path:t.path.slice(1)}}}return{perspective:null,path:null}}return"root"===t.ancestor?{perspective:n.schemas[n.schemas.length-1].schema,path:t.path}:{perspective:n.schemas[t.ancestor]&&n.schemas[t.ancestor].schema,path:t.path}},a.assert=function(t,n,i,e,u,s){t||r(!1,'"'.concat(o.label(e.v_,u,s),'" contains link reference "').concat(i.display,'" ').concat(n))}},3832:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces:function(t){var n=t.toString(),i=n.indexOf("."),r=n.indexOf("e");return(i<0?0:(r<0?n.length:r)-i-1)+(r<0?0:A.max(0,-T(n.slice(r+1))))}};t.exports=e.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method:function(t,n){var i=n.schema,r=n.error;if(t.match(s.numberRx)){t=t.trim();var e={value:S(t)};if(0===e.value&&(e.value=0),!i.v_.unsafe)if(t.match(/e/i)){if(s.extractSignificantDigits(t)!==s.extractSignificantDigits(String(e.value)))return e.errors=r("number.unsafe"),e}else{var u=e.value.toString();if(u.match(/e/i))return e;if(u!==s.normalizeDecimal(t))return e.errors=r("number.unsafe"),e}return e}}},validate:function(t,n){var i=n.schema,r=n.error,e=n.prefs;if(t===1/0||t===-1/0)return{value:t,errors:r("number.infinity")};if(!u.isNumber(t))return{value:t,errors:r("number.base")};var s={value:t};if(e.convert){var o=i.$_getRule("precision");if(o){var a=A.pow(10,o.args.limit);s.value=A.round(s.value*a)/a}}return 0===s.value&&(s.value=0),!i.v_.unsafe&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&(s.errors=r("number.unsafe")),s},rules:{compare:{method:!1,validate:function(t,n,i,r){var e=i.limit,s=r.name,o=r.operator,a=r.args;return u.compare(t,e,o)?t:n.error("number."+s,{limit:a.limit,value:t})},args:[{name:"limit",ref:!0,assert:u.isNumber,message:"must be a number"}]},greater:{method:function(t){return this.$_addRule({name:"greater",method:"compare",args:{limit:t},operator:">"})}},integer:{method:function(){return this.$_addRule("integer")},validate:function(t,n){return A.trunc(t)-t==0?t:n.error("number.integer")}},less:{method:function(t){return this.$_addRule({name:"less",method:"compare",args:{limit:t},operator:"<"})}},max:{method:function(t){return this.$_addRule({name:"max",method:"compare",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"compare",args:{limit:t},operator:">="})}},multiple:{method:function(t){var n="number"==typeof t?s.decimalPlaces(t):null,i=A.pow(10,n);return this.$_addRule({name:"multiple",args:{base:t,baseDecimalPlace:n,pfactor:i}})},validate:function(t,n,i,r){var e=i.base,u=i.baseDecimalPlace,o=i.pfactor;return s.decimalPlaces(t)>u?n.error("number.multiple",{multiple:r.args.base,value:t}):A.round(o*t)%A.round(o*e)==0?t:n.error("number.multiple",{multiple:r.args.base,value:t})},args:[{name:"base",ref:!0,assert:function(t){return"number"==typeof t&&isFinite(t)&&t>0},message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method:function(){return this.sign("negative")}},port:{method:function(){return this.$_addRule("port")},validate:function(t,n){return Number.isSafeInteger(t)&&t>=0&&t<=65535?t:n.error("number.port")}},positive:{method:function(){return this.sign("positive")}},precision:{method:function(t){return r(Number.isSafeInteger(t),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:t}})},validate:function(t,n,i){var r=i.limit,e=t.toString().match(s.precisionRx);return A.max((e[1]?e[1].length:0)-(e[2]?T(e[2],10):0),0)<=r?t:n.error("number.precision",{limit:r,value:t})},convert:!0},sign:{method:function(t){return r(["negative","positive"].includes(t),"Invalid sign",t),this.$_addRule({name:"sign",args:{sign:t}})},validate:function(t,n,i){var r=i.sign;return"negative"===r&&t<0||"positive"===r&&t>0?t:n.error("number.".concat(r))}},unsafe:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_setFlag("unsafe",t)}}},cast:{string:{from:function(t){return"number"==typeof t},to:function(t,n){return t.toString()}}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),s.extractSignificantDigits=function(t){return t.replace(s.exponentialPartRegex,"").replace(s.dotRegex,"").replace(s.trailingZerosRegex,"").replace(s.leadingSignAndZerosRegex,"")},s.normalizeDecimal=function(t){return(t=t.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&t.endsWith("0")&&(t=t.replace(/0+$/,"")),"-0"===t?"0":t}},8966:function(t,n,i){var r=i(7824);t.exports=r.extend({type:"object",cast:{map:{from:function(t){return t&&"object"==(void 0===t?"undefined":W(t))},to:function(t,n){return new Map(k.entries(t))}}}})},7417:function(t,n,i){var r=i(375),e=i(5380),u=i(1745),s=i(9959),o=i(6064),a=i(9926),c=i(5752),h=i(8068),f=i(8160),v={tlds:a instanceof Set&&{tlds:{allow:a,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:s.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};t.exports=h.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method:function(t,n){var i=n.schema,r=n.state,e=n.prefs,u=i.$_getRule("normalize");u&&(t=t.normalize(u.args.form));var s=i.$_getRule("case");s&&(t="upper"===s.args.direction?t.toLocaleUpperCase():t.toLocaleLowerCase());var o=i.$_getRule("trim");if(o&&o.args.enabled&&(t=t.trim()),i.$_terms.replacements)for(var a=0,c=i.$_terms.replacements;a<c.length;a++){var h=c[a];t=t.replace(h.pattern,h.replacement)}var l=i.$_getRule("hex");if(l&&l.args.options.byteAligned&&t.length%2!=0&&(t="0".concat(t)),i.$_getRule("isoDate")){var d=v.isoDate(t);d&&(t=d)}if(i.v_.truncate){var g=i.$_getRule("max");if(g){var m=g.args.limit;if(f.isResolvable(m)&&(m=m.resolve(t,r,e),!f.limit(m)))return{value:t,errors:i.$_createError("any.ref",m,{ref:g.args.limit,arg:"limit",reason:"must be a positive integer"},r,e)};t=t.slice(0,m)}}return{value:t}}},validate:function(t,n){var i=n.schema,r=n.error;if("string"!=typeof t)return{value:t,errors:r("string.base")};if(""===t){var e=i.$_getRule("min");return e&&0===e.args.limit?void 0:{value:t,errors:r("string.empty")}}},rules:{alphanum:{method:function(){return this.$_addRule("alphanum")},validate:function(t,n){return/^[a-zA-Z0-9]+$/.test(t)?t:n.error("string.alphanum")}},base64:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["paddingRequired","urlSafe"]),t=m({urlSafe:!1,paddingRequired:!0},t),r("boolean"==typeof t.paddingRequired,"paddingRequired must be boolean"),r("boolean"==typeof t.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:t}})},validate:function(t,n,i){var r=i.options;return v.base64Regex[r.paddingRequired][r.urlSafe].test(t)?t:n.error("string.base64")}},case:{method:function(t){return r(["lower","upper"].includes(t),"Invalid case:",t),this.$_addRule({name:"case",args:{direction:t}})},validate:function(t,n,i){var r=i.direction;return"lower"===r&&t===t.toLocaleLowerCase()||"upper"===r&&t===t.toLocaleUpperCase()?t:n.error("string.".concat(r,"case"))},convert:!0},creditCard:{method:function(){return this.$_addRule("creditCard")},validate:function(t,n){for(var i=t.length,r=0,e=1;i--;){var u=t.charAt(i)*e;r+=u-9*(u>9),e^=3}return r>0&&r%10==0?t:n.error("string.creditCard")}},dataUri:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["paddingRequired"]),t=m({paddingRequired:!0},t),r("boolean"==typeof t.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:t}})},validate:function(t,n,i){var r=i.options,e=t.match(v.dataUriRegex);return!e||e[2]&&"base64"===e[2]&&!v.base64Regex[r.paddingRequired].false.test(e[3])?n.error("string.dataUri"):t}},domain:{method:function(t){t&&f.assertOptions(t,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var n=v.addressOptions(t);return this.$_addRule({name:"domain",args:{options:t},address:n})},validate:function(t,n,i,r){var u=r.address;return e.isValid(t,u)?t:n.error("string.domain")}},email:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),r(void 0===t.multiple||"boolean"==typeof t.multiple,"multiple option must be an boolean");var n=v.addressOptions(t),i=new RegExp("\\s*[".concat(t.separator?o(t.separator):",","]\\s*"));return this.$_addRule({name:"email",args:{options:t},regex:i,address:n})},validate:function(t,n,i,r){for(var e=i.options,s=r.regex,o=r.address,a=e.multiple?t.split(s):[t],c=[],h=0;h<a.length;h++){var f=a[h];u.isValid(f,o)||c.push(f)}return c.length?n.error("string.email",{value:t,invalids:c}):t}},guid:{alias:"uuid",method:function(t){void 0===t&&(t={}),f.assertOptions(t,["version","separator"]);var n="";if(t.version){var i=[].concat(t.version);r(i.length>=1,"version must have at least 1 valid version specified");for(var e=new Set,u=0;u<i.length;++u){var s=i[u];r("string"==typeof s,"version at position "+u+" must be a string");var o=v.guidVersions[s.toLowerCase()];r(o,"version at position "+u+" must be one of "+k.keys(v.guidVersions).join(", ")),r(!e.has(o),"version at position "+u+" must not be a duplicate"),n+=o,e.add(o)}}r(v.guidSeparators.has(t.separator),'separator must be one of true, false, "-", or ":"');var a=void 0===t.separator?"[:-]?":!0===t.separator?"[:-]":!1===t.separator?"[]?":"\\".concat(t.separator),c=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}(".concat(a,")[0-9A-F]{4}\\2?[").concat(n||"0-9A-F","][0-9A-F]{3}\\2?[").concat(n?"89AB":"0-9A-F","][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$"),"i");return this.$_addRule({name:"guid",args:{options:t},regex:c})},validate:function(t,n,i,r){var e=r.regex.exec(t);return e?v.guidBrackets[e[1]]!==e[e.length-1]?n.error("string.guid"):t:n.error("string.guid")}},hex:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["byteAligned","prefix"]),t=m({byteAligned:!1,prefix:!1},t),r("boolean"==typeof t.byteAligned,"byteAligned must be boolean"),r("boolean"==typeof t.prefix||"optional"===t.prefix,'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:t}})},validate:function(t,n,i){var r=i.options;return("optional"===r.prefix?v.hexRegex.withOptionalPrefix:!0===r.prefix?v.hexRegex.withPrefix:v.hexRegex.withoutPrefix).test(t)?r.byteAligned&&t.length%2!=0?n.error("string.hexAlign"):t:n.error("string.hex")}},hostname:{method:function(){return this.$_addRule("hostname")},validate:function(t,n){return e.isValid(t,{minDomainSegments:1})||v.ipRegex.test(t)?t:n.error("string.hostname")}},insensitive:{method:function(){return this.$_setFlag("insensitive",!0)}},ip:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["cidr","version"]);var n=s.regex(t),i=n.cidr,r=n.versions,e=n.regex,u=t.version?r:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:i,version:u}},regex:e})},validate:function(t,n,i,r){var e=i.options;return r.regex.test(t)?t:e.version?n.error("string.ipVersion",{value:t,cidr:e.cidr,version:e.version}):n.error("string.ip",{value:t,cidr:e.cidr})}},isoDate:{method:function(){return this.$_addRule("isoDate")},validate:function(t,n){var i=n.error;return v.isoDate(t)?t:i("string.isoDate")}},isoDuration:{method:function(){return this.$_addRule("isoDuration")},validate:function(t,n){return v.isoDurationRegex.test(t)?t:n.error("string.isoDuration")}},length:{method:function(t,n){return v.length(this,"length",t,"=",n)},validate:function(t,n,i,r){var e=i.limit,u=i.encoding,s=r.name,o=r.operator,a=r.args,c=!u&&t.length;return f.compare(c,e,o)?t:n.error("string."+s,{limit:a.limit,value:t,encoding:u})},args:[{name:"limit",ref:!0,assert:f.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method:function(){return this.case("lower")}},max:{method:function(t,n){return v.length(this,"max",t,"<=",n)},args:["limit","encoding"]},min:{method:function(t,n){return v.length(this,"min",t,">=",n)},args:["limit","encoding"]},normalize:{method:function(t){return void 0===t&&(t="NFC"),r(v.normalizationForms.includes(t),"normalization form must be one of "+v.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:t}})},validate:function(t,n,i){var r=n.error,e=i.form;return t===t.normalize(e)?t:r("string.normalize",{value:t,form:e})},convert:!0},pattern:{alias:"regex",method:function(t,n){void 0===n&&(n={}),r(t instanceof RegExp,"regex must be a RegExp"),r(!t.flags.includes("g")&&!t.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof n&&(n={name:n}),f.assertOptions(n,["invert","name"]);var i=["string.pattern",n.invert?".invert":"",n.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:t,options:n},errorCode:i})},validate:function(t,n,i,r){var e=i.regex,u=i.options,s=r.errorCode;return e.test(t)^u.invert?t:n.error(s,{name:u.name,regex:e,value:t})},args:["regex","options"],multi:!0},replace:{method:function(t,n){"string"==typeof t&&(t=new RegExp(o(t),"g")),r(t instanceof RegExp,"pattern must be a RegExp"),r("string"==typeof n,"replacement must be a String");var i=this.clone();return i.$_terms.replacements||(i.$_terms.replacements=[]),i.$_terms.replacements.push({pattern:t,replacement:n}),i}},token:{method:function(){return this.$_addRule("token")},validate:function(t,n){return/^\w+$/.test(t)?t:n.error("string.token")}},trim:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:t}})},validate:function(t,n,i){return i.enabled&&t!==t.trim()?n.error("string.trim"):t},convert:!0},truncate:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_setFlag("truncate",t)}},uppercase:{method:function(){return this.case("upper")}},uri:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),t.domain&&f.assertOptions(t.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var n=c.regex(t),i=n.regex,r=n.scheme,e=t.domain?v.addressOptions(t.domain):null;return this.$_addRule({name:"uri",args:{options:t},regex:i,domain:e,scheme:r})},validate:function(t,n,i,r){var u=i.options,s=r.regex,o=r.domain,a=r.scheme;if(["http:/","https:/"].includes(t))return n.error("string.uri");var c=s.exec(t);if(!c&&n.prefs.convert&&u.encodeUri){var h=encodeURI(t);(c=s.exec(h))&&(t=h)}if(c){var f=c[1]||c[2];return!o||u.allowRelative&&!f||e.isValid(f,o)?t:n.error("string.domain",{value:f})}return u.relativeOnly?n.error("string.uriRelativeOnly"):u.scheme?n.error("string.uriCustomScheme",{scheme:a,value:t}):n.error("string.uri")}}},manifest:{build:function(t,n){if(n.replacements)for(var i=0,r=n.replacements;i<r.length;i++){var e=r[i],u=e.pattern,s=e.replacement;t=t.replace(u,s)}return t}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),v.addressOptions=function(t){if(!t)return v.tlds||t;if(r(void 0===t.minDomainSegments||Number.isSafeInteger(t.minDomainSegments)&&t.minDomainSegments>0,"minDomainSegments must be a positive integer"),r(void 0===t.maxDomainSegments||Number.isSafeInteger(t.maxDomainSegments)&&t.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),!1===t.tlds)return t;if(!0===t.tlds||void 0===t.tlds)return r(v.tlds,"Built-in TLD list disabled"),k.assign({},t,v.tlds);r("object"==W(t.tlds),"tlds must be true, false, or an object");var n=t.tlds.deny;if(n)return Array.isArray(n)&&(t=k.assign({},t,{tlds:{deny:new Set(n)}})),r(t.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),r(!t.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),v.validateTlds(t.tlds.deny,"tlds.deny"),t;var i=t.tlds.allow;return i?!0===i?(r(v.tlds,"Built-in TLD list disabled"),k.assign({},t,v.tlds)):(Array.isArray(i)&&(t=k.assign({},t,{tlds:{allow:new Set(i)}})),r(t.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),v.validateTlds(t.tlds.allow,"tlds.allow"),t):t},v.validateTlds=function(t,n){for(var i=0;i<t.length;i++){var u=t[i];r(e.isValid(u,{minDomainSegments:1,maxDomainSegments:1}),"".concat(n," must contain valid top level domain names"))}},v.isoDate=function(t){if(!f.isIsoDate(t))return null;/.*T.*[+-]\d\d$/.test(t)&&(t+="00");var n=new Date(t);return E(n.getTime())?null:n.toISOString()},v.length=function(t,n,i,e,u){return r(!u||!1,"Invalid encoding:",u),t.$_addRule({name:n,method:"length",args:{limit:i,encoding:u},operator:e})}},8826:function(t,n,i){var e=i(375),u=i(8068),s={};s.Map=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.slice=function(){return new s.Map(this)},n}(mn(Map)),t.exports=u.extend({type:"symbol",terms:{map:{init:new s.Map}},coerce:{method:function(t,n){var i=n.schema,r=n.error,e=i.$_terms.map.get(t);return e&&(t=e),i.v_.only&&"symbol"!=(void 0===t?"undefined":W(t))?{value:t,errors:r("symbol.map",{map:i.$_terms.map})}:{value:t}}},validate:function(t,n){var i=n.error;if("symbol"!=(void 0===t?"undefined":W(t)))return{value:t,errors:i("symbol.base")}},rules:{map:{method:function(t){var n;t&&!t[r]&&"object"==(void 0===t?"undefined":W(t))&&(t=k.entries(t)),e(t&&t[r],"Iterable must be an iterable or object");for(var i=this.clone(),u=[],s=0;s<t.length;s++){var o=t[s];e(o&&o[r],"Entry must be an iterable");var a=nn(o,2),c=a[0],h=a[1];e("object"!=(void 0===c?"undefined":W(c))&&"function"!=typeof c&&"symbol"!=(void 0===c?"undefined":W(c)),"Key must not be of type object, function, or Symbol"),e("symbol"==(void 0===h?"undefined":W(h)),"Value must be a Symbol"),i.$_terms.map.set(c,h),u.push(h)}return(n=i).valid.apply(n,Ut(u))}}},manifest:{build:function(t,n){return n.map&&(t=t.map(n.map)),t}},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:function(t,i,r){var e=r(375),u=r(8571),s=r(738),o=r(9621),a=r(8160),c=r(6354),h=r(493),f={result:n("result")};i.entry=function(t,n,i){var r=a.defaults;i&&(e(void 0===i.warnings,"Cannot override warnings preference in synchronous validation"),e(void 0===i.artifacts,"Cannot override artifacts preference in synchronous validation"),r=a.preferences(a.defaults,i));var u=f.entry(t,n,r);e(!u.mainstay.externals.length,"Schema with external rules must use validateAsync()");var s={value:u.value};return u.error&&(s.error=u.error),u.mainstay.warnings.length&&(s.warning=c.details(u.mainstay.warnings)),u.mainstay.debug&&(s.debug=u.mainstay.debug),u.mainstay.artifacts&&(s.artifacts=u.mainstay.artifacts),s},i.entryAsync=Zt((function(t,n,i){var r,e,u,s,h,v,l,d,g;return Ht(this,(function(m){switch(m.label){case 0:if(r=a.defaults,i&&(r=a.preferences(a.defaults,i)),e=f.entry(t,n,r),u=e.mainstay,e.error)throw u.debug&&(e.error.debug=u.debug),e.error;if(!u.externals.length)return[3,5];s=function(n,e){var s,l,d,g,m,w,p,y,_,b,k,A,T,S,E,I;return Ht(this,(function(R){switch(R.label){case 0:if(s=e[n],l=s.state.path,d="link"===s.schema.type?u.links.get(s.schema):null,g=void 0,m=void 0,w=h,p=l.length?[h]:[],y=l.length?o(t,l):t,l.length){for(g=l[l.length-1],_=h,b=0,k=l.slice(0,-1);b<k.length;b++)A=k[b],_=_[A],p.unshift(_);m=p[0],w=m[g]}R.label=1;case 1:return R.trys.push([1,3,,4]),T=function(t,n){return(d||s.schema).$_createError(t,w,n,s.state,r)},[4,s.method(w,{schema:s.schema,linked:d,state:s.state,prefs:i,original:y,error:T,errorsArray:f.errorsArray,warn:function(t,n){return u.warnings.push((d||s.schema).$_createError(t,w,n,s.state,r))},message:function(t,n){return(d||s.schema).$_createError("external",w,n,s.state,r,{messages:t})}})];case 2:return void 0===(S=R.sent())||S===w?[2,"continue"]:S instanceof c.Report?(u.tracer.log(s.schema,s.state,"rule","external","error"),v.push(S),r.abortEarly?[2,"break"]:[2,"continue"]):Array.isArray(S)&&S[a.symbols.errors]?(u.tracer.log(s.schema,s.state,"rule","external","error"),(E=v).push.apply(E,Ut(S)),r.abortEarly?[2,"break"]:[2,"continue"]):(m?(u.tracer.value(s.state,"rule",w,S,"external"),m[g]=S):(u.tracer.value(s.state,"rule",h,S,"external"),h=S),[3,4]);case 3:throw I=R.sent(),r.errors.label&&(I.message+=" (".concat(s.label,")")),I;case 4:return[2]}}))},h=e.value,v=[],l=0,d=u.externals,m.label=1;case 1:return l<d.length?[5,zt(s(l,d))]:[3,4];case 2:if("break"===m.sent())return[3,4];m.label=3;case 3:return l++,[3,1];case 4:if(e.value=h,v.length)throw e.error=c.process(v,t,r),u.debug&&(e.error.debug=u.debug),e.error;m.label=5;case 5:return r.warnings||r.debug||r.artifacts?(g={value:e.value},[2,(u.warnings.length&&(g.warning=c.details(u.warnings)),u.debug&&(g.debug=u.debug),u.artifacts&&(g.artifacts=u.artifacts),g)]):[2,e.value]}}))})),f.Mainstay=function(){function t(t,n,i){this.externals=[],this.warnings=[],this.tracer=t,this.debug=n,this.links=i,this.shadow=null,this.artifacts=null,this._v=[]}var n=t.prototype;return n.snapshot=function(){this._v.push({externals:this.externals.slice(),warnings:this.warnings.slice()})},n.restore=function(){var t=this._v.pop();this.externals=t.externals,this.warnings=t.warnings},n.commit=function(){this._v.pop()},t}(),f.entry=function(t,n,r){var e=f.tracer(n,r),u=e.tracer,s=e.cleanup,o=r.debug?[]:null,a=n.u_.G_?new Map:null,v=new f.Mainstay(u,o,a),l=n.u_.G_?[{schema:n}]:null,d=new h([],[],{mainstay:v,schemas:l}),g=i.validate(t,n,d,r);s&&n.$_root.untrace();var m=c.process(g.errors,t,r);return{value:g.value,error:m,mainstay:v}},f.tracer=function(t,n){return t.$_root.T_?{tracer:t.$_root.T_.vv(t)}:n.debug?(e(t.$_root.trace,"Debug mode not supported"),{tracer:t.$_root.trace().vv(t),cleanup:!0}):{tracer:f.ignore}},i.validate=function(t,n,i,r,e){if(void 0===e&&(e={}),n.$_terms.whens&&(n=n.C_(t,i,r).schema),n.c_&&(r=f.prefs(n,r)),n.d_&&r.cache){var u=n.d_.get(t);if(i.mainstay.tracer.debug(i,"validate","cached",!!u),u)return u}var s=function(e,u,s){return n.$_createError(e,t,u,s||i,r)},o={original:t,prefs:r,schema:n,state:i,error:s,errorsArray:f.errorsArray,warn:function(t,n,r){return i.mainstay.warnings.push(s(t,n,r))},message:function(e,u){return n.$_createError("custom",t,u,i,r,{messages:e})}};i.mainstay.tracer.entry(n,i);var c=n.y_;if(c.prepare&&void 0!==t&&r.convert){var h=c.prepare(t,o);if(h){if(i.mainstay.tracer.value(i,"prepare",t,h.value),h.errors)return f.finalize(h.value,[].concat(h.errors),o);t=h.value}}if(c.coerce&&void 0!==t&&r.convert&&(!c.coerce.from||c.coerce.from.includes(void 0===t?"undefined":W(t)))){var v=c.coerce.method(t,o);if(v){if(i.mainstay.tracer.value(i,"coerced",t,v.value),v.errors)return f.finalize(v.value,[].concat(v.errors),o);t=v.value}}var l=n.v_.empty;l&&l.$_match(f.trim(t,n),i.nest(l),a.defaults)&&(i.mainstay.tracer.value(i,"empty",t,void 0),t=void 0);var d=e.presence||n.v_.presence||(n.v_.Q_?null:r.presence);if(void 0===t){if("forbidden"===d)return f.finalize(t,null,o);if("required"===d)return f.finalize(t,[n.$_createError("any.required",t,null,i,r)],o);if("optional"===d){if(n.v_.default!==a.symbols.deepDefault)return f.finalize(t,null,o);i.mainstay.tracer.value(i,"default",t,{}),t={}}}else if("forbidden"===d)return f.finalize(t,[n.$_createError("any.unknown",t,null,i,r)],o);var g=[];if(n.f_){var m=n.f_.get(t,i,r,n.v_.insensitive);if(m)return r.convert&&(i.mainstay.tracer.value(i,"valids",t,m.value),t=m.value),i.mainstay.tracer.filter(n,i,"valid",m),f.finalize(t,null,o);if(n.v_.only){var w=n.$_createError("any.only",t,{valids:n.f_.values({display:!0})},i,r);if(r.abortEarly)return f.finalize(t,[w],o);g.push(w)}}if(n.__){var p=n.__.get(t,i,r,n.v_.insensitive);if(p){i.mainstay.tracer.filter(n,i,"invalid",p);var y=n.$_createError("any.invalid",t,{invalids:n.__.values({display:!0})},i,r);if(r.abortEarly)return f.finalize(t,[y],o);g.push(y)}}if(c.validate){var _=c.validate(t,o);if(_&&(i.mainstay.tracer.value(i,"base",t,_.value),t=_.value,_.errors)){var b;if(!Array.isArray(_.errors))return g.push(_.errors),f.finalize(t,g,o);if(_.errors.length)return(b=g).push.apply(b,Ut(_.errors)),f.finalize(t,g,o)}}return n.m_.length?f.rules(t,g,o):f.finalize(t,g,o)},f.rules=function(t,n,i){for(var r=i.schema,e=i.state,u=i.prefs,s=0,o=r.m_;s<o.length;s++){var c=o[s],h=r.y_.rules[c.method];if(h.convert&&u.convert)e.mainstay.tracer.log(r,e,"rule",c.name,"full");else{var v=void 0,l=c.args;if(c.Gd.length){l=k.assign({},l);for(var d=0,g=c.Gd;d<g.length;d++){var m=g[d],w=h.argsByName.get(m),p=l[m].resolve(t,e,u),y=w.normalize?w.normalize(p):p,_=a.validateArg(y,null,w);if(_){v=r.$_createError("any.ref",p,{arg:m,ref:l[m],reason:_},e,u);break}l[m]=y}}v=v||h.validate(t,i,l,c);var b=f.rule(v,c);if(b.errors){var A;if(e.mainstay.tracer.log(r,e,"rule",c.name,"error"),c.warn){var T;(T=e.mainstay.warnings).push.apply(T,Ut(b.errors));continue}if(u.abortEarly)return f.finalize(t,b.errors,i);(A=n).push.apply(A,Ut(b.errors))}else e.mainstay.tracer.log(r,e,"rule",c.name,"pass"),e.mainstay.tracer.value(e,"rule",t,b.value,c.name),t=b.value}}return f.finalize(t,n,i)},f.rule=function(t,n){return t instanceof c.Report?(f.error(t,n),{errors:[t],value:null}):Array.isArray(t)&&t[a.symbols.errors]?(t.forEach((function(t){return f.error(t,n)})),{errors:t,value:null}):{errors:null,value:t}},f.error=function(t,n){return n.message&&t.B_(n.message),t},f.finalize=function(t,n,i){n=n||[];var r=i.schema,u=i.state,s=i.prefs;if(n.length){var o=f.default("failover",void 0,n,i);void 0!==o&&(u.mainstay.tracer.value(u,"failover",t,o),t=o,n=[])}if(n.length&&r.v_.error)if("function"==typeof r.v_.error){n=r.v_.error(n),Array.isArray(n)||(n=[n]);for(var a=0;a<n.length;a++){var h=n[a];e(h instanceof y||h instanceof c.Report,"error() must return an Error object")}}else n=[r.v_.error];if(void 0===t){var v=f.default("default",t,n,i);u.mainstay.tracer.value(u,"default",t,v),t=v}if(r.v_.cast&&void 0!==t){var l=r.y_.cast[r.v_.cast];if(l.from(t)){var d=l.to(t,i);u.mainstay.tracer.value(u,"cast",t,d,r.v_.cast),t=d}}if(r.$_terms.externals&&s.externals&&!1!==s.x_)for(var g=0,m=r.$_terms.externals;g<m.length;g++){var w=m[g].method;u.mainstay.externals.push({method:w,schema:r,state:u,label:c.label(r.v_,u,s)})}var p={value:t,errors:n.length?n:null};return r.v_.result&&(p.value="strip"===r.v_.result?void 0:i.original,u.mainstay.tracer.value(u,r.v_.result,t,p.value),u.shadow(t,r.v_.result)),r.d_&&!1!==s.cache&&!r.l_.length&&r.d_.set(i.original,p),void 0===t||p.errors||void 0===r.v_.artifact||(u.mainstay.artifacts=u.mainstay.artifacts||new Map,u.mainstay.artifacts.has(r.v_.artifact)||u.mainstay.artifacts.set(r.v_.artifact,[]),u.mainstay.artifacts.get(r.v_.artifact).push(u.path)),p},f.prefs=function(t,n){var i=n===a.defaults;return i&&t.c_[a.symbols.prefs]?t.c_[a.symbols.prefs]:(n=a.preferences(n,t.c_),i&&(t.c_[a.symbols.prefs]=n),n)},f.default=function(t,n,i,r){var e=r.schema,s=r.state,o=r.prefs,c=e.v_[t];if(o.noDefaults||void 0===c)return n;if(s.mainstay.tracer.log(e,s,"rule",t,"full"),!c)return c;if("function"==typeof c){var h=c.length?[u(s.ancestors[0]),r]:[];try{return c.apply(void 0,Ut(h))}catch(n){return void i.push(e.$_createError("any.".concat(t),null,{error:n},s,o))}}return"object"!=(void 0===c?"undefined":W(c))?c:c[a.symbols.literal]?c.literal:a.isResolvable(c)?c.resolve(n,s,o):u(c)},f.trim=function(t,n){if("string"!=typeof t)return t;var i=n.$_getRule("trim");return i&&i.args.enabled?t.trim():t},f.ignore={active:!1,debug:s,entry:s,filter:s,log:s,resolve:s,value:s},f.errorsArray=function(){var t=[];return t[a.symbols.errors]=!0,t}},2036:function(t,n,i){var r=i(375),e=i(9474),u=i(8160),s={};t.exports=s.Values=function(){function t(t,n){this.p_=new Set(t),this.l_=new Set(n),this.mv=s.lowercases(t),this.pv=!1}var n=t.prototype;return n.add=function(t,n){u.isResolvable(t)?this.l_.has(t)||(this.l_.add(t),n&&n.register(t)):this.has(t,null,null,!1)||(this.p_.add(t),"string"==typeof t&&this.mv.set(t.toLowerCase(),t))},n.remove=function(t){u.isResolvable(t)?this.l_.delete(t):(this.p_.delete(t),"string"==typeof t&&this.mv.delete(t.toLowerCase()))},n.has=function(t,n,i,r){return!!this.get(t,n,i,r)},n.get=function(t,n,i,r){if(!this.length)return!1;if(this.p_.has(t))return{value:t};if("string"==typeof t&&t&&r){var u=this.mv.get(t.toLowerCase());if(u)return{value:u}}if(!this.l_.size&&"object"!=(void 0===t?"undefined":W(t)))return!1;if("object"==(void 0===t?"undefined":W(t)))for(var s=0,o=this.p_;s<o.length;s++){var a=o[s];if(e(a,t))return{value:a}}if(n)for(var c=0,h=this.l_;c<h.length;c++){var f=h[c],v=f.resolve(t,n,i,null,{in:!0});if(void 0!==v)for(var l=f.in&&"object"==(void 0===v?"undefined":W(v))?Array.isArray(v)?v:k.keys(v):[v],d=0;d<l.length;d++){var g=l[d];if((void 0===g?"undefined":W(g))==(void 0===t?"undefined":W(t)))if(r&&t&&"string"==typeof t){if(g.toLowerCase()===t.toLowerCase())return{value:g,ref:f}}else if(e(g,t))return{value:g,ref:f}}}return!1},n.override=function(){this.pv=!0},n.values=function(t){if(t&&t.display){for(var n=[],i=0,r=Ut(this.p_).concat(Ut(this.l_));i<r.length;i++){var e=r[i];void 0!==e&&n.push(e)}return n}return Array.from(Ut(this.p_).concat(Ut(this.l_)))},n.clone=function(){var t=new s.Values(this.p_,this.l_);return t.pv=this.pv,t},n.concat=function(t){r(!t.pv,"Cannot concat override set of values");var n=new s.Values(Ut(this.p_).concat(Ut(t.p_)),Ut(this.l_).concat(Ut(t.l_)));return n.pv=this.pv,n},n.describe=function(){var t=[];this.pv&&t.push({override:!0});for(var n=0,i=this.p_.values();n<i.length;n++){var r=i[n];t.push(r&&"object"==(void 0===r?"undefined":W(r))?{value:r}:r)}for(var e=0,u=this.l_.values();e<u.length;e++){var s=u[e];t.push(s.describe())}return t},t.merge=function(t,n,i){if(t=t||new s.Values,n){if(n.pv)return n.clone();for(var r=0,e=Ut(n.p_).concat(Ut(n.l_));r<e.length;r++){var u=e[r];t.add(u)}}if(i)for(var o=0,a=Ut(i.p_).concat(Ut(i.l_));o<a.length;o++){var c=a[o];t.remove(c)}return t.length?t:null},xt(t,[{key:"length",get:function(){return this.p_.size+this.l_.size}}]),t}(),s.Values.prototype[u.symbols.values]=!0,s.Values.prototype.slice=s.Values.prototype.clone,s.lowercases=function(t){var n=new Map;if(t)for(var i=0;i<t.length;i++){var r=t[i];"string"==typeof r&&n.set(r.toLowerCase(),r)}return n}},978:function(t,n,i){var r=i(375),e=i(8571),u=i(1687),s=i(9621),o={};t.exports=function(t,n,i){if(void 0===i&&(i={}),r(t&&"object"==(void 0===t?"undefined":W(t)),"Invalid defaults value: must be an object"),r(!n||!0===n||"object"==(void 0===n?"undefined":W(n)),"Invalid source value: must be true, falsy or an object"),r("object"==(void 0===i?"undefined":W(i)),"Invalid options: must be an object"),!n)return null;if(i.shallow)return o.applyToDefaultsWithShallow(t,n,i);var s=e(t);if(!0===n)return s;var a=void 0!==i.nullOverride&&i.nullOverride;return u(s,n,{nullOverride:a,mergeArrays:!1})},o.applyToDefaultsWithShallow=function(t,n,i){var a=i.shallow;r(Array.isArray(a),"Invalid keys");for(var c=new Map,h=!0===n?null:new Set,f=0;f<a.length;f++){var v=a[f];v=Array.isArray(v)?v:v.split(".");var l=s(t,v);l&&"object"==(void 0===l?"undefined":W(l))?c.set(l,h&&s(n,v)||l):h&&h.add(v)}var d=e(t,{},c);if(!h)return d;for(var g=0;g<h.length;g++){var m=h[g];o.reachCopy(d,n,m)}var w=void 0!==i.nullOverride&&i.nullOverride;return u(d,n,{nullOverride:w,mergeArrays:!1})},o.reachCopy=function(t,n,i){for(var r=0;r<i.length;r++){var e=i[r];if(!(e in n))return;var u=n[e];if("object"!=(void 0===u?"undefined":W(u))||null===u)return;n=u}for(var s=n,o=t,a=0;a<i.length-1;++a){var c=i[a];"object"!=W(o[c])&&(o[c]={}),o=o[c]}o[i[i.length-1]]=s}},375:function(t,n,i){var r=i(7916);t.exports=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];if(!t)throw 1===i.length&&i[0]instanceof y?i[0]:new r(i)}},8571:function(t,n,i){var r=i(9621),e=i(4277),u=i(7043),s={needsProtoHack:new Set([e.set,e.map,e.weakSet,e.weakMap])};t.exports=s.clone=function(t,n,i){if(void 0===n&&(n={}),void 0===i&&(i=null),"object"!=(void 0===t?"undefined":W(t))||null===t)return t;var r=s.clone,o=i;if(n.shallow){if(!0!==n.shallow)return s.cloneWithShallow(t,n);r=function(t){return t}}else if(o){var a=o.get(t);if(a)return a}else o=new Map;var c=e.getInternalProto(t);if(c===e.buffer)return!1;if(c===e.date)return new Date(t.getTime());if(c===e.regex)return new RegExp(t);var h=s.base(t,c,n);if(h===t)return t;if(o&&o.set(t,h),c===e.set)for(var f=0;f<t.length;f++){var v=t[f];h.add(r(v,n,o))}else if(c===e.map)for(var l=0;l<t.length;l++){var d=nn(t[l],2),g=d[0],m=d[1];h.set(g,r(m,n,o))}for(var w=u.keys(t,n),p=0;p<w.length;p++){var y=w[p];if("__proto__"!==y)if(c!==e.array||"length"!==y){var _=k.getOwnPropertyDescriptor(t,y);_?_.get||_.set?k.defineProperty(h,y,_):_.enumerable?h[y]=r(t[y],n,o):k.defineProperty(h,y,{enumerable:!1,writable:!0,configurable:!0,value:r(t[y],n,o)}):k.defineProperty(h,y,{enumerable:!0,writable:!0,configurable:!0,value:r(t[y],n,o)})}else h.length=t.length}return h},s.cloneWithShallow=function(t,n){var i=n.shallow;(n=k.assign({},n)).shallow=!1;for(var e=new Map,u=0;u<i.length;u++){var o=i[u],a=r(t,o);"object"!=(void 0===a?"undefined":W(a))&&"function"!=typeof a||e.set(a,a)}return s.clone(t,n,e)},s.base=function(t,n,i){if(!1===i.prototype)return s.needsProtoHack.has(n)?new n.constructor:n===e.array?[]:{};var r=k.getPrototypeOf(t);if(r&&r.isImmutable)return t;if(n===e.array){var u=[];return r!==n&&k.setPrototypeOf(u,r),u}if(s.needsProtoHack.has(n)){var o=new r.constructor;return r!==n&&k.setPrototypeOf(o,r),o}return k.create(r)}},9474:function(t,n,i){var r=i(4277),e={mismatched:null};t.exports=function(t,n,i){return i=k.assign({prototype:!0},i),!!e.isDeepEqual(t,n,i,[])},e.isDeepEqual=function(t,n,i,u){if(t===n)return 0!==t||1/t==1/n;var s=void 0===t?"undefined":W(t);if(s!==(void 0===n?"undefined":W(n))||null===t||null===n)return!1;if("function"===s){if(!i.deepFunction||t.toString()!==n.toString())return!1}else if("object"!==s)return t!=t&&n!=n;var o=e.getSharedType(t,n,!!i.prototype);switch(o){case r.buffer:return!1;case r.promise:return t===n;case r.regex:return t.toString()===n.toString();case e.mismatched:return!1}for(var a=u.length-1;a>=0;--a)if(u[a].isSame(t,n))return!0;u.push(new e.SeenEntry(t,n));try{return!!e.isDeepEqualObj(o,t,n,i,u)}finally{u.pop()}},e.getSharedType=function(t,n,i){if(i)return k.getPrototypeOf(t)!==k.getPrototypeOf(n)?e.mismatched:r.getInternalProto(t);var u=r.getInternalProto(t);return u!==r.getInternalProto(n)?e.mismatched:u},e.valueOf=function(t){var n=t.valueOf;if(void 0===n)return t;try{return n.call(t)}catch(t){return t}},e.hasOwnEnumerableProperty=function(t,n){return k.prototype.propertyIsEnumerable.call(t,n)},e.isSetSimpleEqual=function(t,n){for(var i=0,r=Set.prototype.values.call(t);i<r.length;i++){var e=r[i];if(!Set.prototype.has.call(n,e))return!1}return!0},e.isDeepEqualObj=function(t,n,i,u,s){var o=e.isDeepEqual,a=e.valueOf,c=e.hasOwnEnumerableProperty,h=k.keys,f=k.getOwnPropertySymbols;if(t===r.array){if(!u.part){if(n.length!==i.length)return!1;for(var v=0;v<n.length;++v)if(!o(n[v],i[v],u,s))return!1;return!0}for(var l=0;l<n.length;l++)for(var d=n[l],g=0;g<i.length;g++)if(o(d,i[g],u,s))return!0}else if(t===r.set){if(n.size!==i.size)return!1;if(!e.isSetSimpleEqual(n,i))for(var m=new Set(Set.prototype.values.call(i)),w=0,p=Set.prototype.values.call(n);w<p.length;w++){var y=p[w];if(!m.delete(y)){for(var _=!1,b=0;b<m.length;b++){var A=m[b];if(o(y,A,u,s)){m.delete(A),_=!0;break}}if(!_)return!1}}}else if(t===r.map){if(n.size!==i.size)return!1;for(var T=0,S=Map.prototype.entries.call(n);T<S.length;T++){var E=nn(S[T],2),I=E[0],R=E[1];if(void 0===R&&!Map.prototype.has.call(i,I)||!o(R,Map.prototype.get.call(i,I),u,s))return!1}}else if(t===r.error&&(n.name!==i.name||n.message!==i.message))return!1;var C=a(n),N=a(i);if((n!==C||i!==N)&&!o(C,N,u,s))return!1;var x=h(n);if(!u.part&&x.length!==h(i).length&&!u.skip)return!1;for(var D=0,P=0;P<x.length;P++){var M=x[P];if(u.skip&&u.skip.includes(M))void 0===i[M]&&++D;else if(!c(i,M)||!o(n[M],i[M],u,s))return!1}if(!u.part&&x.length-D!==h(i).length)return!1;if(!1!==u.symbols){for(var B=f(n),O=new Set(f(i)),L=0;L<B.length;L++){var F=B[L];if(!u.skip||!u.skip.includes(F))if(c(n,F)){if(!c(i,F)||!o(n[F],i[F],u,s))return!1}else if(c(i,F))return!1;O.delete(F)}for(var V=0;V<O.length;V++)if(c(i,O[V]))return!1}return!0},e.SeenEntry=function(){function t(t,n){this.obj=t,this.ref=n}return t.prototype.isSame=function(t,n){return this.obj===t&&this.ref===n},t}()},7916:function(t,n,i){var r=i(8761);t.exports=function(t){function i(i){var e;return e=t.call(this,i.filter((function(t){return""!==t})).map((function(t){return"string"==typeof t?t:t instanceof y?t.message:r(t)})).join(" ")||"Unknown error")||this,"function"==typeof y.captureStackTrace&&y.captureStackTrace(e,n.assert),e}return Rt(i,t),i}(mn(y))},5277:function(t){var n={};t.exports=function(t){if(!t)return"";for(var i="",r=0;r<t.length;++r){var e=t.charCodeAt(r);n.isSafe(e)?i+=t[r]:i+=n.escapeHtmlChar(e)}return i},n.escapeHtmlChar=function(t){return n.namedHtml.get(t)||(t>=256?"&#"+t+";":"&#x".concat(t.toString(16).padStart(2,"0"),";"))},n.isSafe=function(t){return n.safeCharCodes.has(t)},n.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),n.safeCharCodes=function(){for(var t=new Set,n=32;n<123;++n)(n>=97||n>=65&&n<=90||n>=48&&n<=57||32===n||46===n||44===n||45===n||58===n||95===n)&&t.add(n);return t}()},6064:function(t){t.exports=function(t){return t.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:function(t){t.exports=function(){}},1687:function(t,n,i){var r=i(375),e=i(8571),u=i(7043),s={};t.exports=s.merge=function(t,n,i){if(r(t&&"object"==(void 0===t?"undefined":W(t)),"Invalid target value: must be an object"),r(null==n||"object"==(void 0===n?"undefined":W(n)),"Invalid source value: must be null, undefined, or an object"),!n)return t;if(i=k.assign({nullOverride:!0,mergeArrays:!0},i),Array.isArray(n)){r(Array.isArray(t),"Cannot merge array onto an object"),i.mergeArrays||(t.length=0);for(var o=0;o<n.length;++o)t.push(e(n[o],{symbols:i.symbols}));return t}for(var a=u.keys(n,i),c=0;c<a.length;++c){var h=a[c];if("__proto__"!==h&&k.prototype.propertyIsEnumerable.call(n,h)){var f=n[h];if(f&&"object"==(void 0===f?"undefined":W(f))){if(t[h]===f)continue;!t[h]||"object"!=W(t[h])||Array.isArray(t[h])!==Array.isArray(f)||f instanceof Date||f instanceof RegExp?t[h]=e(f,{symbols:i.symbols}):s.merge(t[h],f,i)}else(null!=f||i.nullOverride)&&(t[h]=f)}}return t}},9621:function(t,n,i){var r=i(375),e={};t.exports=function(t,n,i){if(!1===n||null==n)return t;"string"==typeof(i=i||{})&&(i={separator:i});var u=Array.isArray(n);r(!u||!i.separator,"Separator option is not valid for array-based chain");for(var s=u?n:n.split(i.separator||"."),o=t,a=0;a<s.length;++a){var c=s[a],h=i.iterables&&e.iterables(o);if(Array.isArray(o)||"set"===h){var f=Number(c);Number.isInteger(f)&&(c=f<0?o.length+f:f)}if(!o||"function"==typeof o&&!1===i.functions||!h&&void 0===o[c]){r(!i.strict||a+1===s.length,"Missing segment",c,"in reach path ",n),r("object"==(void 0===o?"undefined":W(o))||!0===i.functions||"function"!=typeof o,"Invalid segment",c,"in reach path ",n),o=i.default;break}o=h?"set"===h?Ut(o)[c]:o.get(c):o[c]}return o},e.iterables=function(t){return t instanceof Set?"set":t instanceof Map?"map":void 0}},8761:function(t){t.exports=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];try{var r;return(r=JSON).stringify.apply(r,Ut(n))}catch(t){return"[Cannot display object: "+t.message+"]"}}},4277:function(t,n){var i={};n=t.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:y.prototype,generic:k.prototype,map:Map.prototype,promise:ut.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},i.typeMap=new Map([["[object Error]",n.error],["[object Map]",n.map],["[object Promise]",n.promise],["[object Set]",n.set],["[object WeakMap]",n.weakMap],["[object WeakSet]",n.weakSet]]),n.getInternalProto=function(t){if(Array.isArray(t))return n.array;if(t instanceof Date)return n.date;if(t instanceof RegExp)return n.regex;if(t instanceof y)return n.error;var r=k.prototype.toString.call(t);return i.typeMap.get(r)||n.generic}},7043:function(t,n){n.keys=function(t,n){return void 0===n&&(n={}),!1!==n.symbols?Reflect.ownKeys(t):k.getOwnPropertyNames(t)}},3652:function(t,n,i){var r=i(375),e={};n.Sorter=function(){function t(){this.tc=[],this.nodes=[]}var n=t.prototype;return n.add=function(t,n){var i=[].concat((n=n||{}).before||[]),e=[].concat(n.after||[]),u=n.group||"?",s=n.sort||0;r(!i.includes(u),"Item cannot come before itself: ".concat(u)),r(!i.includes("?"),"Item cannot come before unassociated items"),r(!e.includes(u),"Item cannot come after itself: ".concat(u)),r(!e.includes("?"),"Item cannot come after unassociated items"),Array.isArray(t)||(t=[t]);for(var o=0;o<t.length;o++){var a=t[o],c={seq:this.tc.length,sort:s,before:i,after:e,group:u,node:a};this.tc.push(c)}if(!n.manual){var h=this.yv();r(h,"item","?"!==u?"added into group ".concat(u):"","created a dependencies error")}return this.nodes},n.merge=function(t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var i=t[n];if(i)for(var u=0,s=i.tc;u<s.length;u++){var o=s[u];this.tc.push(k.assign({},o))}}this.tc.sort(e.mergeSort);for(var a=0;a<this.tc.length;++a)this.tc[a].seq=a;var c=this.yv();return r(c,"merge created a dependencies error"),this.nodes},n.sort=function(){var t=this.yv();return r(t,"sort created a dependencies error"),this.nodes},n.yv=function(){for(var t,n={},i=k.create(null),r=k.create(null),e=0,u=this.tc;e<u.length;e++){var s=u[e],o=s.seq,a=s.group;r[a]=r[a]||[],r[a].push(o),n[o]=s.before;for(var c=0,h=s.after;c<h.length;c++){var f=h[c];i[f]=i[f]||[],i[f].push(o)}}for(var v in n){var l=[];for(var d in n[v]){var g,m=n[v][d];r[m]=r[m]||[],(g=l).push.apply(g,Ut(r[m]))}n[v]=l}for(var w in i)if(r[w])for(var p=0,y=r[w];p<y.length;p++)(t=n[y[p]]).push.apply(t,Ut(i[w]));var _={};for(var b in n)for(var A=n[b],T=0;T<A.length;T++){var S=A[T];_[S]=_[S]||[],_[S].push(b)}for(var E={},I=[],R=0;R<this.tc.length;++R){var C=R;if(_[R]){C=null;for(var N=0;N<this.tc.length;++N)if(!0!==E[N]){_[N]||(_[N]=[]);for(var x=_[N].length,D=0,P=0;P<x;++P)E[_[N][P]]&&++D;if(D===x){C=N;break}}}null!==C&&(E[C]=!0,I.push(C))}if(I.length!==this.tc.length)return!1;for(var M={},B=0,O=this.tc;B<O.length;B++){var L=O[B];M[L.seq]=L}this.tc=[],this.nodes=[];for(var F=0;F<I.length;F++){var V=M[I[F]];this.nodes.push(V.node),this.tc.push(V)}return!0},t}(),e.mergeSort=function(t,n){return t.sort===n.sort?0:t.sort<n.sort?-1:1}},5380:function(t,n,i){var r=i(443),e=i(2178),u={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:r.URL||URL};n.analyze=function(t,n){if(void 0===n&&(n={}),!t)return e.code("DOMAIN_NON_EMPTY_STRING");if("string"!=typeof t)throw new y("Invalid input: domain must be a string");if(t.length>256)return e.code("DOMAIN_TOO_LONG");if(u.nonAsciiRx.test(t)){if(!1===n.allowUnicode)return e.code("DOMAIN_INVALID_UNICODE_CHARS");t=t.normalize("NFC")}if(u.domainControlRx.test(t))return e.code("DOMAIN_INVALID_CHARS");t=u.punycode(t),n.allowFullyQualified&&"."===t[t.length-1]&&(t=t.slice(0,-1));var i=n.minDomainSegments||u.minDomainSegments,r=t.split(".");if(r.length<i)return e.code("DOMAIN_SEGMENTS_COUNT");if(n.maxDomainSegments&&r.length>n.maxDomainSegments)return e.code("DOMAIN_SEGMENTS_COUNT_MAX");var s=n.tlds;if(s){var o=r[r.length-1].toLowerCase();if(s.deny&&s.deny.has(o)||s.allow&&!s.allow.has(o))return e.code("DOMAIN_FORBIDDEN_TLDS")}for(var a=0;a<r.length;++a){var c=r[a];if(!c.length)return e.code("DOMAIN_EMPTY_SEGMENT");if(c.length>63)return e.code("DOMAIN_LONG_SEGMENT");if(a<r.length-1){if(!u.domainSegmentRx.test(c))return e.code("DOMAIN_INVALID_CHARS")}else if(!u.tldSegmentRx.test(c))return e.code("DOMAIN_INVALID_TLDS_CHARS")}return null},n.isValid=function(t,i){return!n.analyze(t,i)},u.punycode=function(t){t.includes("%")&&(t=t.replace(/%/g,"%25"));try{return new u.URL("http://".concat(t)).host}catch(n){return t}}},1745:function(t,n,i){var r=i(9848),e=i(5380),u=i(2178),s={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(r.TextEncoder||TextEncoder)};n.analyze=function(t,n){return s.email(t,n)},n.isValid=function(t,n){return!s.email(t,n)},s.email=function(t,n){if(void 0===n&&(n={}),"string"!=typeof t)throw new y("Invalid input: email must be a string");if(!t)return u.code("EMPTY_STRING");var i=!s.nonAsciiRx.test(t);if(!i){if(!1===n.allowUnicode)return u.code("FORBIDDEN_UNICODE");t=t.normalize("NFC")}var r=t.split("@");if(2!==r.length)return r.length>2?u.code("MULTIPLE_AT_CHAR"):u.code("MISSING_AT_CHAR");var o=nn(r,2),a=o[0],c=o[1];if(!a)return u.code("EMPTY_LOCAL");if(!n.ignoreLength){if(t.length>254)return u.code("ADDRESS_TOO_LONG");if(s.encoder.encode(a).length>64)return u.code("LOCAL_TOO_LONG")}return s.local(a,i)||e.analyze(c,n)},s.local=function(t,n){for(var i=t.split("."),r=0;r<i.length;r++){var e=i[r];if(!e.length)return u.code("EMPTY_LOCAL_SEGMENT");if(n){if(!s.atextRx.test(e))return u.code("INVALID_LOCAL_CHARS")}else for(var o=0;o<e.length;o++){var a=e[o];if(!s.atextRx.test(a)){var c=s.binary(a);if(!s.atomRx.test(c))return u.code("INVALID_LOCAL_CHARS")}}}},s.binary=function(t){return Array.from(s.encoder.encode(t)).map((function(t){return String.fromCharCode(t)})).join("")},s.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,s.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:function(t,n){n.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},n.code=function(t){return{code:t,error:n.codes[t]}}},9959:function(t,n,i){var r=i(375),e=i(5752);n.regex=function(t){void 0===t&&(t={}),r(void 0===t.cidr||"string"==typeof t.cidr,"options.cidr must be a string");var n=t.cidr?t.cidr.toLowerCase():"optional";r(["required","optional","forbidden"].includes(n),"options.cidr must be one of required, optional, forbidden"),r(void 0===t.version||"string"==typeof t.version||Array.isArray(t.version),"options.version must be a string or an array of string");var i=t.version||["ipv4","ipv6","ipvfuture"];Array.isArray(i)||(i=[i]),r(i.length>=1,"options.version must have at least 1 version specified");for(var u=0;u<i.length;++u)r("string"==typeof i[u],"options.version must only contain strings"),i[u]=i[u].toLowerCase(),r(["ipv4","ipv6","ipvfuture"].includes(i[u]),"options.version contains unknown version "+i[u]+" - must be one of ipv4, ipv6, ipvfuture");i=Array.from(new Set(i));var s="(?:".concat(i.map((function(t){if("forbidden"===n)return e.ip[t];var i="\\/".concat("ipv4"===t?e.ip.v4Cidr:e.ip.v6Cidr);return"required"===n?"".concat(e.ip[t]).concat(i):"".concat(e.ip[t],"(?:").concat(i,")?")})).join("|"),")"),o=new RegExp("^".concat(s,"$"));return{cidr:n,versions:i,regex:o,raw:s}}},5752:function(t,n,i){var r=i(375),e=i(6064),u={generate:function(){var t={},n="\\dA-Fa-f",i="["+n+"]",r="\\w-\\.~",e="!\\$&'\\(\\)\\*\\+,;=",u="%"+n,s=r+u+e+":@",o="["+s+"]",a="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";t.ipv4address="(?:"+a+"\\.){3}"+a;var c=i+"{1,4}",h="(?:"+c+":"+c+"|"+t.ipv4address+")",f="(?:"+c+":){6}"+h,v="::(?:"+c+":){5}"+h,l="(?:"+c+")?::(?:"+c+":){4}"+h,d="(?:(?:"+c+":){0,1}"+c+")?::(?:"+c+":){3}"+h,g="(?:(?:"+c+":){0,2}"+c+")?::(?:"+c+":){2}"+h,m="(?:(?:"+c+":){0,3}"+c+")?::"+c+":"+h,w="(?:(?:"+c+":){0,4}"+c+")?::"+h,p="(?:(?:"+c+":){0,5}"+c+")?::"+c,y="(?:(?:"+c+":){0,6}"+c+")?::";t.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",t.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",t.ipv6address="(?:"+f+"|"+v+"|"+l+"|"+d+"|"+g+"|"+m+"|"+w+"|"+p+"|"+y+")",t.ipvFuture="v"+i+"+\\.["+r+e+":]+",t.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",t.schemeRegex=new RegExp(t.scheme);var _="["+r+u+e+":]*",b="["+r+u+e+"]{1,255}",k="(?:\\[(?:"+t.ipv6address+"|"+t.ipvFuture+")\\]|"+t.ipv4address+"|"+b+")",A="(?:"+_+"@)?"+k+"(?::\\d*)?",T="(?:"+_+"@)?("+k+")(?::\\d*)?",S=o+"*",E=o+"+",I="(?:\\/"+S+")*",R="\\/(?:"+E+I+")?",C=E+I,N="["+r+u+e+"@]+"+I,x="(?:\\/\\/\\/"+S+I+")";return t.hierPart="(?:(?:\\/\\/"+A+I+")|"+R+"|"+C+"|"+x+")",t.hierPartCapture="(?:(?:\\/\\/"+T+I+")|"+R+"|"+C+")",t.relativeRef="(?:(?:\\/\\/"+A+I+")|"+R+"|"+N+"|)",t.relativeRefCapture="(?:(?:\\/\\/"+T+I+")|"+R+"|"+N+"|)",t.query="["+s+"\\/\\?]*(?=#|$)",t.queryWithSquareBrackets="["+s+"\\[\\]\\/\\?]*(?=#|$)",t.fragment="["+s+"\\/\\?]*",t}};u.rfc3986=u.generate(),n.ip={v4Cidr:u.rfc3986.ipv4Cidr,v6Cidr:u.rfc3986.ipv6Cidr,ipv4:u.rfc3986.ipv4address,ipv6:u.rfc3986.ipv6address,ipvfuture:u.rfc3986.ipvFuture},u.createRegex=function(t){var n=u.rfc3986,i="(?:\\?"+(t.allowQuerySquareBrackets?n.queryWithSquareBrackets:n.query)+")?(?:#"+n.fragment+")?",s=t.domain?n.relativeRefCapture:n.relativeRef;if(t.relativeOnly)return u.wrap(s+i);var o="";if(t.scheme){r(t.scheme instanceof RegExp||"string"==typeof t.scheme||Array.isArray(t.scheme),"scheme must be a RegExp, String, or Array");var a=[].concat(t.scheme);r(a.length>=1,"scheme must have at least 1 scheme specified");for(var c=[],h=0;h<a.length;++h){var f=a[h];r(f instanceof RegExp||"string"==typeof f,"scheme at position "+h+" must be a RegExp or String"),f instanceof RegExp?c.push(f.source.toString()):(r(n.schemeRegex.test(f),"scheme at position "+h+" must be a valid scheme"),c.push(e(f)))}o=c.join("|")}var v="(?:"+(o?"(?:"+o+")":n.scheme)+":"+(t.domain?n.hierPartCapture:n.hierPart)+")",l=t.allowRelative?"(?:"+v+"|"+s+")":v;return u.wrap(l+i,o)},u.wrap=function(t,n){return{raw:t="(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])".concat(t),regex:new RegExp("^".concat(t,"$")),scheme:n}},u.uriRegex=u.createRegex({}),n.regex=function(t){return void 0===t&&(t={}),t.scheme||t.allowRelative||t.relativeOnly||t.allowQuerySquareBrackets||t.domain?u.createRegex(t):u.uriRegex}},1447:function(t,i){var r={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:n("formula"),settings:n("settings")};i.Parser=function(){function t(t,n){if(void 0===n&&(n={}),!n[r.settings]&&n.constants)for(var i in n.constants){var e=n.constants[i];if(null!==e&&!["boolean","number","string"].includes(void 0===e?"undefined":W(e)))throw new y("Formula constant ".concat(i," contains invalid ").concat(void 0===e?"undefined":W(e)," value type"))}var u;this.settings=n[r.settings]?n:k.assign((sn(u={},r.settings,!0),sn(u,"constants",{}),sn(u,"functions",{}),u),n),this.single=null,this.Av=null,this.z_(t)}var n=t.prototype;return n.z_=function(t){for(var n=this,e=[],u="",s=0,o=!1,a=function(t){if(s)throw new y("Formula missing closing parenthesis");var a=e.length?e[e.length-1]:null;if(o||u||t){if(a&&"reference"===a.type&&")"===t)return a.type="function",a.value=n.bv(u,a.value),void(u="");if(")"===t){var c=new i.Parser(u,n.settings);e.push({type:"segment",value:c})}else if(o){if("]"===o)return e.push({type:"reference",value:u}),void(u="");e.push({type:"literal",value:u})}else if(r.operatorCharacters.includes(u))a&&"operator"===a.type&&r.operators.includes(a.value+u)?a.value+=u:e.push({type:"operator",value:u});else if(u.match(r.numberRx))e.push({type:"constant",value:S(u)});else if(void 0!==n.settings.constants[u])e.push({type:"constant",value:n.settings.constants[u]});else{if(!u.match(r.tokenRx))throw new y("Formula contains invalid token: ".concat(u));e.push({type:"reference",value:u})}u=""}},c=0;c<t.length;c++){var h=t[c];o?h===o?(a(),o=!1):u+=h:s?"("===h?(u+=h,++s):")"===h?--s?u+=h:a(h):u+=h:h in r.literals?o=r.literals[h]:"("===h?(a(),++s):r.operatorCharacters.includes(h)?(a(),u=h,a()):" "!==h?u+=h:a()}a(),e=e.map((function(t,n){return"operator"!==t.type||"-"!==t.value||n&&"operator"!==e[n-1].type?t:{type:"operator",value:"n"}}));for(var f=!1,v=0;v<e.length;v++){var l=e[v];if("operator"===l.type){if(r.operatorsPrefix.includes(l.value))continue;if(!f)throw new y("Formula contains an operator in invalid position");if(!r.operators.includes(l.value))throw new y("Formula contains an unknown operator ".concat(l.value))}else if(f)throw new y("Formula missing expected operator");f=!f}if(!f)throw new y("Formula contains invalid trailing operator");1===e.length&&["reference","literal","constant"].includes(e[0].type)&&(this.single={type:"reference"===e[0].type?"reference":"value",value:e[0].value}),this.Av=e.map((function(t){if("operator"===t.type)return r.operatorsPrefix.includes(t.value)?t:t.value;if("reference"!==t.type)return t.value;if(n.settings.tokenRx&&!n.settings.tokenRx.test(t.value))throw new y("Formula contains invalid reference ".concat(t.value));return n.settings.reference?n.settings.reference(t.value):r.reference(t.value)}))},n.bv=function(t,n){var e=this,u=this.settings.functions[n];if("function"!=typeof u)throw new y("Formula contains unknown function ".concat(n));var s=[];if(t){for(var o="",a=0,c=!1,h=function(){if(!o)throw new y("Formula contains function ".concat(n," with invalid arguments ").concat(t));s.push(o),o=""},f=0;f<t.length;++f){var v=t[f];c?(o+=v,v===c&&(c=!1)):v in r.literals&&!a?(o+=v,c=r.literals[v]):","!==v||a?(o+=v,"("===v?++a:")"===v&&--a):h()}h()}return s=s.map((function(t){return new i.Parser(t,e.settings)})),function(t){for(var n,i=[],r=0;r<s.length;r++){var e=s[r];i.push(e.evaluate(t))}return(n=u).call.apply(n,[t].concat(Ut(i)))}},n.evaluate=function(t){for(var n=this.Av.slice(),i=n.length-2;i>=0;--i){var e=n[i];if(e&&"operator"===e.type){var u=n[i+1];n.splice(i+1,1);var s=r.evaluate(u,t);n[i]=r.single(e.value,s)}}return r.operatorsOrder.forEach((function(i){for(var e=1;e<n.length-1;)if(i.includes(n[e])){var u=n[e],s=r.evaluate(n[e-1],t),o=r.evaluate(n[e+1],t);n.splice(e,2);var a=r.calculate(u,s,o);n[e-1]=0===a?0:a}else e+=2})),r.evaluate(n[0],t)},t}(),i.Parser.prototype[r.symbol]=!0,r.reference=function(t){return function(n){return n&&void 0!==n[t]?n[t]:null}},r.evaluate=function(t,n){return null===t?null:"function"==typeof t?t(n):t[r.symbol]?t.evaluate(n):t},r.single=function(t,n){if("!"===t)return!n;var i=-n;return 0===i?0:i},r.calculate=function(t,n,i){if("??"===t)return r.exists(n)?n:i;if("string"==typeof n||"string"==typeof i){if("+"===t)return(n=r.exists(n)?n:"")+(r.exists(i)?i:"")}else switch(t){case"^":return A.pow(n,i);case"*":return n*i;case"/":return n/i;case"%":return n%i;case"+":return n+i;case"-":return n-i}switch(t){case"<":return n<i;case"<=":return n<=i;case">":return n>i;case">=":return n>=i;case"==":return n===i;case"!=":return n!==i;case"&&":return n&&i;case"||":return n||i}return null},r.exists=function(t){return null!=t}},9926:function(){},5688:function(){},9708:function(){},1152:function(){},443:function(){},9848:function(){},5934:function(t){t.exports=JSON.parse('{"version":"17.13.3"}')}},e={},function n(i){var r=e[i];if(void 0!==r)return r.exports;var u=e[i]={exports:{}};return t[i](u,u.exports,n),u.exports}(5107);var t,e}()}(oe);var ae,ce=x(oe.exports),he=function(t){function n(n,i,r,e){var u;if(u=t.call(this)||this,ae=r,!i)throw ae.error("Token generator is required to construct this module."),new y("Token generator is required to construct this module.");return u.webRTCPeer=new Ar,u.signaling=null,u.autoReconnect=e,u.reconnectionInterval=1e3,u.alreadyDisconnected=!1,u.firstReconnection=!0,u.stopReconnection=!1,u.isReconnecting=!1,u.tokenGenerator=i,u.options=null,u}Rt(n,t);var i=n.prototype;return i.getRTCPeerConnection=function(){return this.webRTCPeer?this.webRTCPeer.getRTCPeer():null},i.stop=function(){var t;ae.info("Stopping"),this.webRTCPeer.closeRTCPeer(),null==(t=this.signaling)||t.close(),this.signaling=null,this.stopReconnection=!0,this.webRTCPeer=new Ar},i.isActive=function(){var t=this.webRTCPeer.getRTCPeerStatus();return ae.info("Broadcast status: ",t||"not_established"),"connected"===t},i.setReconnect=function(){var t=this;this.signaling.on("migrate",(function(){return t.replaceConnection()})),this.autoReconnect&&(this.signaling.on(Ur,(function(){(t.firstReconnection||!t.alreadyDisconnected)&&(t.firstReconnection=!1,t.reconnect({error:new y("Signaling error: wsConnectionError")}))})),this.webRTCPeer.on(br.connectionStateChange,(function(n){tt(n),"connected"===n&&Q(new Date),("failed"===n||"disconnected"===n&&t.alreadyDisconnected)&&t.firstReconnection?(t.firstReconnection=!1,t.reconnect({error:new y("Connection state change: RTCPeerConnectionState disconnected")})):"disconnected"===n?(t.alreadyDisconnected=!0,g((function(){return t.reconnect({error:new y("Connection state change: RTCPeerConnectionState disconnected")})}),1500)):t.alreadyDisconnected=!1})))},i.reconnect=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),ae.info("Attempting to reconnect..."),n.isActive()||n.stopReconnection||n.isReconnecting?[3,2]:(n.stop(),n.emit("reconnect",{timeout:fe(n.reconnectionInterval),error:null!=t&&t.error?null==t?void 0:t.error:new y("Attempting to reconnect")}),n.isReconnecting=!0,[4,n.connect(n.options)]);case 1:r.sent(),n.alreadyDisconnected=!1,n.reconnectionInterval=1e3,n.firstReconnection=!0,n.isReconnecting=!1,r.label=2;case 2:return[3,4];case 3:return i=r.sent(),n.isReconnecting=!1,n.reconnectionInterval=fe(n.reconnectionInterval),ae.error("Reconnection failed, retrying in ".concat(n.reconnectionInterval,"ms. "),i),g((function(){return n.reconnect({error:i})}),n.reconnectionInterval),[3,4];case 4:return[2]}}))}))()},n}(Mt),fe=function(t){return t<32e3?2*t:t},ve=f.RTCRtpSender&&!!RTCRtpSender.prototype.createEncodedStreams&&f.RTCRtpReceiver&&!!RTCRtpReceiver.prototype.createEncodedStreams,le="RTCRtpScriptTransform"in f,de="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBGPXR5cGVvZiBnbG9iYWxUaGlzPCJ1Ij9nbG9iYWxUaGlzOnR5cGVvZiB3aW5kb3c8InUiP3dpbmRvdzp0eXBlb2YgZ2xvYmFsPCJ1Ij9nbG9iYWw6dHlwZW9mIHNlbGY8InUiP3NlbGY6e307ZnVuY3Rpb24gVyhuKXtyZXR1cm4gbiYmbi5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobiwiZGVmYXVsdCIpP24uZGVmYXVsdDpufXZhciBCPXtleHBvcnRzOnt9fTsvKiEKICoganMtbG9nZ2VyIC0gaHR0cDovL2dpdGh1Yi5jb20vam9ubnlyZWV2ZXMvanMtbG9nZ2VyCiAqIEpvbm55IFJlZXZlcywgaHR0cDovL2pvbm55cmVldmVzLmNvLnVrLwogKiBqcy1sb2dnZXIgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCiAqLyhmdW5jdGlvbihuKXsoZnVuY3Rpb24odCl7dmFyIGU9e307ZS5WRVJTSU9OPSIxLjYuMSI7dmFyIHMscj17fSxvPWZ1bmN0aW9uKGksdSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHUuYXBwbHkoaSxhcmd1bWVudHMpfX0sYT1mdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cyx1PWlbMF0saCxjO2ZvcihjPTE7YzxpLmxlbmd0aDtjKyspZm9yKGggaW4gaVtjXSkhKGggaW4gdSkmJmlbY10uaGFzT3duUHJvcGVydHkoaCkmJih1W2hdPWlbY11baF0pO3JldHVybiB1fSxkPWZ1bmN0aW9uKGksdSl7cmV0dXJue3ZhbHVlOmksbmFtZTp1fX07ZS5UUkFDRT1kKDEsIlRSQUNFIiksZS5ERUJVRz1kKDIsIkRFQlVHIiksZS5JTkZPPWQoMywiSU5GTyIpLGUuVElNRT1kKDQsIlRJTUUiKSxlLldBUk49ZCg1LCJXQVJOIiksZS5FUlJPUj1kKDgsIkVSUk9SIiksZS5PRkY9ZCg5OSwiT0ZGIik7dmFyIGw9ZnVuY3Rpb24oaSl7dGhpcy5jb250ZXh0PWksdGhpcy5zZXRMZXZlbChpLmZpbHRlckxldmVsKSx0aGlzLmxvZz10aGlzLmluZm99O2wucHJvdG90eXBlPXtzZXRMZXZlbDpmdW5jdGlvbihpKXtpJiYidmFsdWUiaW4gaSYmKHRoaXMuY29udGV4dC5maWx0ZXJMZXZlbD1pKX0sZ2V0TGV2ZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0LmZpbHRlckxldmVsfSxlbmFibGVkRm9yOmZ1bmN0aW9uKGkpe3ZhciB1PXRoaXMuY29udGV4dC5maWx0ZXJMZXZlbDtyZXR1cm4gaS52YWx1ZT49dS52YWx1ZX0sdHJhY2U6ZnVuY3Rpb24oKXt0aGlzLmludm9rZShlLlRSQUNFLGFyZ3VtZW50cyl9LGRlYnVnOmZ1bmN0aW9uKCl7dGhpcy5pbnZva2UoZS5ERUJVRyxhcmd1bWVudHMpfSxpbmZvOmZ1bmN0aW9uKCl7dGhpcy5pbnZva2UoZS5JTkZPLGFyZ3VtZW50cyl9LHdhcm46ZnVuY3Rpb24oKXt0aGlzLmludm9rZShlLldBUk4sYXJndW1lbnRzKX0sZXJyb3I6ZnVuY3Rpb24oKXt0aGlzLmludm9rZShlLkVSUk9SLGFyZ3VtZW50cyl9LHRpbWU6ZnVuY3Rpb24oaSl7dHlwZW9mIGk9PSJzdHJpbmciJiZpLmxlbmd0aD4wJiZ0aGlzLmludm9rZShlLlRJTUUsW2ksInN0YXJ0Il0pfSx0aW1lRW5kOmZ1bmN0aW9uKGkpe3R5cGVvZiBpPT0ic3RyaW5nIiYmaS5sZW5ndGg+MCYmdGhpcy5pbnZva2UoZS5USU1FLFtpLCJlbmQiXSl9LGludm9rZTpmdW5jdGlvbihpLHUpe3MmJnRoaXMuZW5hYmxlZEZvcihpKSYmcyh1LGEoe2xldmVsOml9LHRoaXMuY29udGV4dCkpfX07dmFyIGY9bmV3IGwoe2ZpbHRlckxldmVsOmUuT0ZGfSk7KGZ1bmN0aW9uKCl7dmFyIGk9ZTtpLmVuYWJsZWRGb3I9byhmLGYuZW5hYmxlZEZvciksaS50cmFjZT1vKGYsZi50cmFjZSksaS5kZWJ1Zz1vKGYsZi5kZWJ1ZyksaS50aW1lPW8oZixmLnRpbWUpLGkudGltZUVuZD1vKGYsZi50aW1lRW5kKSxpLmluZm89byhmLGYuaW5mbyksaS53YXJuPW8oZixmLndhcm4pLGkuZXJyb3I9byhmLGYuZXJyb3IpLGkubG9nPWkuaW5mb30pKCksZS5zZXRIYW5kbGVyPWZ1bmN0aW9uKGkpe3M9aX0sZS5zZXRMZXZlbD1mdW5jdGlvbihpKXtmLnNldExldmVsKGkpO2Zvcih2YXIgdSBpbiByKXIuaGFzT3duUHJvcGVydHkodSkmJnJbdV0uc2V0TGV2ZWwoaSl9LGUuZ2V0TGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gZi5nZXRMZXZlbCgpfSxlLmdldD1mdW5jdGlvbihpKXtyZXR1cm4gcltpXXx8KHJbaV09bmV3IGwoYSh7bmFtZTppfSxmLmNvbnRleHQpKSl9LGUuY3JlYXRlRGVmYXVsdEhhbmRsZXI9ZnVuY3Rpb24oaSl7aT1pfHx7fSxpLmZvcm1hdHRlcj1pLmZvcm1hdHRlcnx8ZnVuY3Rpb24ocCxfKXtfLm5hbWUmJnAudW5zaGlmdCgiWyIrXy5uYW1lKyJdIil9O3ZhciB1PXt9LGg9ZnVuY3Rpb24oYyxwKXtGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjLGNvbnNvbGUscCl9O3JldHVybiB0eXBlb2YgY29uc29sZT4idSI/ZnVuY3Rpb24oKXt9OmZ1bmN0aW9uKGMscCl7Yz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjKTt2YXIgXz1jb25zb2xlLmxvZyxnO3AubGV2ZWw9PT1lLlRJTUU/KGc9KHAubmFtZT8iWyIrcC5uYW1lKyJdICI6IiIpK2NbMF0sY1sxXT09PSJzdGFydCI/Y29uc29sZS50aW1lP2NvbnNvbGUudGltZShnKTp1W2ddPW5ldyBEYXRlKCkuZ2V0VGltZSgpOmNvbnNvbGUudGltZUVuZD9jb25zb2xlLnRpbWVFbmQoZyk6aChfLFtnKyI6ICIrKG5ldyBEYXRlKCkuZ2V0VGltZSgpLXVbZ10pKyJtcyJdKSk6KHAubGV2ZWw9PT1lLldBUk4mJmNvbnNvbGUud2Fybj9fPWNvbnNvbGUud2FybjpwLmxldmVsPT09ZS5FUlJPUiYmY29uc29sZS5lcnJvcj9fPWNvbnNvbGUuZXJyb3I6cC5sZXZlbD09PWUuSU5GTyYmY29uc29sZS5pbmZvP189Y29uc29sZS5pbmZvOnAubGV2ZWw9PT1lLkRFQlVHJiZjb25zb2xlLmRlYnVnP189Y29uc29sZS5kZWJ1ZzpwLmxldmVsPT09ZS5UUkFDRSYmY29uc29sZS50cmFjZSYmKF89Y29uc29sZS50cmFjZSksaS5mb3JtYXR0ZXIoYyxwKSxoKF8sYykpfX0sZS51c2VEZWZhdWx0cz1mdW5jdGlvbihpKXtlLnNldExldmVsKGkmJmkuZGVmYXVsdExldmVsfHxlLkRFQlVHKSxlLnNldEhhbmRsZXIoZS5jcmVhdGVEZWZhdWx0SGFuZGxlcihpKSl9LGUuc2V0RGVmYXVsdHM9ZS51c2VEZWZhdWx0cyxuLmV4cG9ydHM/bi5leHBvcnRzPWU6KGUuX3ByZXZMb2dnZXI9dC5Mb2dnZXIsZS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuTG9nZ2VyPWUuX3ByZXZMb2dnZXIsZX0sdC5Mb2dnZXI9ZSl9KShGKX0pKEIpO3ZhciB6PUIuZXhwb3J0cyxEPVcoeik7Y2xhc3Mgd3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmRhdGE9dCx0aGlzLmJpdE9mZnNldD0wfXJlYWRCaXRzKHQpe2lmKHRoaXMuYml0T2Zmc2V0K3Q+dGhpcy5kYXRhLmxlbmd0aCo4KXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIHJlYWQgcGFzdCB0aGUgZW5kIG9mIHRoZSBiaXRzdHJlYW0iKTtsZXQgZT0wO2ZvcihsZXQgcz0wO3M8dDtzKyspe2NvbnN0IHI9TWF0aC5mbG9vcih0aGlzLmJpdE9mZnNldC84KSxvPTctdGhpcy5iaXRPZmZzZXQlOCxhPXRoaXMuZGF0YVtyXT4+byYxO2V8PWE8PHQtMS1zLHRoaXMuYml0T2Zmc2V0Kyt9cmV0dXJuIGV9c2tpcCh0KXt0aGlzLmJpdE9mZnNldCs9dH1yZWFkRXhwR29sb21iVW5zaWduZWQoKXtsZXQgdD0tMTtmb3IobGV0IGU9MDtlPT09MDt0KyspZT10aGlzLnJlYWRCaXRzKDEpO3JldHVybigxPDx0KS0xK3RoaXMucmVhZEJpdHModCl9cmVhZEV4cEdvbG9tYlNpZ25lZCgpe2NvbnN0IHQ9dGhpcy5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtyZXR1cm4gdCUyPT09MD8tKHQvMik6KHQrMSkvMn19Y29uc3QgbT17U0xJQ0VfTk9OX0lEUjoxLFNMSUNFX1BBUlRJVElPTl9BOjIsU0xJQ0VfSURSOjUsU0VJX0gyNjQ6NixTRUlfSDI2NV9QUkVGSVg6MzksU0VJX0gyNjVfU1VGRklYOjQwLFNQU19IMjY0OjcsU1BTX0gyNjU6MzMsUFBTX0gyNjQ6OCxQUFNfSDI2NTozNH0sUj17UElDX1RJTUlORzoxLFVTRVJfREFUQV9VTlJFR0lTVEVSRUQ6NX0sRT17TEVHQUNZOjEsTkVXOjIsVElNRUNPREU6MyxPVEhFUjo0fSxqPSI2ZTljZmQyYS01OTA3LTQ5ZmYtYjM2My04OTc4YTZlODM0MGUiLHE9IjlhMjFmM2JlLTMxZjAtNGI3OC1iMGJlLWM3ZjdkYmI5NzI1MCIsTD0iZDQwZTM4ZWEtZDQxOS00YzYyLTk0ZWQtMjBhYzM3YjRlNGZhIjtjbGFzcyBWe2NvbnN0cnVjdG9yKHQ9IkgyNjQiKXt0aGlzLnNwcz1uZXcgTWFwLHRoaXMucHBzPW5ldyBNYXAsdGhpcy5hY3RpdmVTUFM9bnVsbCx0aGlzLmNvZGVjPXR9Y29sbGVjdFBQUyh0KXt0aGlzLmNvZGVjPT09IkgyNjQiP3RoaXMuY29sbGVjdEgyNjRQUFModCk6dGhpcy5jb2xsZWN0SDI2NVBQUyh0KX1jb2xsZWN0U1BTKHQpe3RoaXMuY29kZWM9PT0iSDI2NCI/dGhpcy5jb2xsZWN0SDI2NFNQUyh0KTp0aGlzLmNvbGxlY3RIMjY1U1BTKHQpfWNvbGxlY3RIMjY0U1BTKHQpe2NvbnN0IGU9bmV3IHcodCkscz1lLnJlYWRCaXRzKDgpLHI9WzEwMCwxMTAsMTIyLDI0NCw0NCw4Myw4NiwxMTgsMTI4LDEzOCwxMzksMTM0LDEzNV07ZS5za2lwKDgpLGUuc2tpcCg4KTtjb25zdCBvPWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7aWYobz4zMXx8bzwwKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzZXFfcGFyYW1ldGVyX3NldF9pZCIpO2lmKHIuaW5jbHVkZXMocykpe2NvbnN0IGw9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtpZihsPT09MyYmZS5za2lwKDEpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnNraXAoMSksZS5yZWFkQml0cygxKSl7Y29uc3QgaT1sIT09Mz84OjEyO2ZvcihsZXQgdT0wO3U8aTt1KyspaWYoZS5yZWFkQml0cygxKSl7Y29uc3QgaD11PDY/MTY6NjQ7bGV0IGM9OCxwPTg7Zm9yKGxldCBfPTA7XzxoO18rKyl7aWYocCE9PTApe2NvbnN0IGc9ZS5yZWFkRXhwR29sb21iU2lnbmVkKCk7cD0oYytnKzI1NiklMjU2fWM9cD09PTA/YzpwfX19fWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7Y29uc3QgYT1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2lmKGE9PT0wKWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7ZWxzZSBpZihhPT09MSl7ZS5za2lwKDEpLGUucmVhZEV4cEdvbG9tYlNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlNpZ25lZCgpO2NvbnN0IGw9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtmb3IobGV0IGY9MDtmPGw7ZisrKWUucmVhZEV4cEdvbG9tYlNpZ25lZCgpfWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5za2lwKDEpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRCaXRzKDEpPT09MCYmZS5za2lwKDEpLGUuc2tpcCgxKSxlLnJlYWRCaXRzKDEpJiYoZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSk7bGV0IGQ7aWYoZS5yZWFkQml0cygxKSl7bGV0IGY9ZnVuY3Rpb24oYyl7Y29uc3QgcD1jLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2Muc2tpcCg0KSxjLnNraXAoNCk7Zm9yKGxldCB4PTA7eDw9cDt4KyspYy5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxjLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGMuc2tpcCgxKTtjLnNraXAoNSk7Y29uc3QgXz1jLnJlYWRCaXRzKDUpLGc9Yy5yZWFkQml0cyg1KSxBPWMucmVhZEJpdHMoNSk7cmV0dXJue2NwYl9yZW1vdmFsX2RlbGF5X2xlbmd0aF9taW51czE6XyxkcGJfb3V0cHV0X2RlbGF5X2xlbmd0aF9taW51czE6Zyx0aW1lX29mZnNldF9sZW5ndGg6QX19O2UucmVhZEJpdHMoMSkmJmUucmVhZEJpdHMoOCk9PT0yNTUmJihlLnNraXAoMTYpLGUuc2tpcCgxNikpLGUucmVhZEJpdHMoMSkmJmUuc2tpcCgxKSxlLnJlYWRCaXRzKDEpJiYoZS5za2lwKDMpLGUuc2tpcCgxKSxlLnJlYWRCaXRzKDEpJiZlLnNraXAoMjQpKSxlLnJlYWRCaXRzKDEpJiYoZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpKTtjb25zdCBsPWUucmVhZEJpdHMoMSk/e251bV91bml0c19pbl90aWNrOmUucmVhZEJpdHMoMzIpLHRpbWVfc2NhbGU6ZS5yZWFkQml0cygzMiksZml4ZWRfZnJhbWVfcmF0ZV9mbGFnOmUucmVhZEJpdHMoMSl9OnZvaWQgMCxpPWUucmVhZEJpdHMoMSk/ZihlKTp2b2lkIDAsdT1lLnJlYWRCaXRzKDEpP2YoZSk6dm9pZCAwOyhpfHx1KSYmZS5za2lwKDEpO2NvbnN0IGg9ZS5yZWFkQml0cygxKTtkPXt0aW1pbmdfaW5mbzpsLG5hbF9ocmRfcGFyYW1ldGVyczppLHZjbF9ocmRfcGFyYW1ldGVyczp1LHBpY19zdHJ1Y3RfcHJlc2VudF9mbGFnOmh9fXRoaXMuc3BzLnNldChvLHt2dWlfcGFyYW1ldGVyczpkfSl9Y29sbGVjdEgyNjVTUFModCl7fWNvbGxlY3RIMjY0UFBTKHQpe2NvbnN0IGU9bmV3IHcodCkscz1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2lmKHM+MjU1fHxzPDApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBpY19wYXJhbWV0ZXJfc2V0X2lkIik7Y29uc3Qgcj1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO3RoaXMucHBzLnNldChzLHtzZXFfcGFyYW1ldGVyX3NldF9pZDpyfSl9Y29sbGVjdEgyNjVQUFModCl7fWZpbmRBY3RpdmVTUFModCl7Y29uc3QgZT1uZXcgdyh0KTtlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7Y29uc3Qgcz1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLHI9dGhpcy5wcHMuZ2V0KHMpO2lmKHIpe2NvbnN0IG89dGhpcy5zcHMuZ2V0KHIuc2VxX3BhcmFtZXRlcl9zZXRfaWQpO2lmKG8pe3RoaXMuYWN0aXZlU1BTPW87cmV0dXJufX10aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBmaW5kIHRoZSBhY3RpdmUgU1BTIil9fWNvbnN0IFM9bmV3IFY7ZnVuY3Rpb24gRyhuLHQpe2Zvcig7dDxuLmJ5dGVMZW5ndGgtNDspe2lmKG5bdF09PT0wJiZuW3QrMV09PT0wJiYoblt0KzJdPT09MXx8blt0KzJdPT09MCYmblt0KzNdPT09MSkpcmV0dXJuIHQ7dCs9MX1yZXR1cm4tMX1mdW5jdGlvbiBVKG4pe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkobi5ieXRlTGVuZ3RoKTtsZXQgZT0wLHM9MDtmb3IobGV0IHI9MjtyPG4uYnl0ZUxlbmd0aDtyKyspbltyXT09PTMmJm5bci0xXT09PTAmJm5bci0yXT09PTAmJih0LnNldChuLnN1YmFycmF5KHMsciksZSksZSs9ci1zLHM9cisxKTtyZXR1cm4gczxuLmJ5dGVMZW5ndGgmJnQuc2V0KG4uc3ViYXJyYXkocyksZSksdH1mdW5jdGlvbiBZKG4sdCl7bGV0IGU9MDtjb25zdCBzPXQ9PT0iSDI2NCI/MToyLHI9W107Zm9yKDtlPG4uYnl0ZUxlbmd0aC00Oyl7Y29uc3Qgbz1HKG4sZSk7aWYobz49ZSl7Y29uc3QgYT1uW28rMl09PT0xPzM6NCxkPUcobixvK2Ercyk7aWYoZD5vKXIucHVzaChuLnN1YmFycmF5KG8sZCkpLGU9ZDtlbHNle3IucHVzaChuLnN1YmFycmF5KG8pKTticmVha319ZWxzZSBicmVha31yZXR1cm4gcn1mdW5jdGlvbiBYKG4sdCl7bGV0IGU9ITA7cmV0dXJuIFkobix0KS5maWx0ZXIocz0+e2NvbnN0IHI9c1syXT09PTE/Mzo0LG89dD09PSJIMjY0Ij8xOjIsYT1zW3JdLGQ9dD09PSJIMjY0Ij9hJjMxOmE+PjEmNjM7aWYoZSlzd2l0Y2goZCl7Y2FzZSBtLlBQU19IMjY0OmNhc2UgbS5QUFNfSDI2NTpTLmNvbGxlY3RQUFMoVShzLnN1YmFycmF5KHIrbykpKTticmVhaztjYXNlIG0uU1BTX0gyNjQ6Y2FzZSBtLlNQU19IMjY1OlMuY29sbGVjdFNQUyhVKHMuc3ViYXJyYXkocitvKSkpO2JyZWFrO2Nhc2UgbS5TTElDRV9JRFI6Y2FzZSBtLlNMSUNFX05PTl9JRFI6Y2FzZSBtLlNMSUNFX1BBUlRJVElPTl9BOnRyeXtTLmZpbmRBY3RpdmVTUFMoVShzLnN1YmFycmF5KHIrbykpKSxlPSExfWNhdGNoKGwpe2NvbnNvbGUuaW5mbygiRmFpbGVkIHRvIGZpbmQgYWN0aXZlIFNQUy4gV2lsbCBub3QgYmUgYWJsZSB0byBleHRyYWN0IFBJQyB0aW1pbmcgbWV0YWRhdGEiKX1icmVha31yZXR1cm5bbS5TRUlfSDI2NCxtLlNFSV9IMjY1X1BSRUZJWCxtLlNFSV9IMjY1X1NVRkZJWF0uaW5jbHVkZXMoZCl9KX1mdW5jdGlvbiAkKG4pe2xldCB0PTAsZT0wO2Zvcig7bltlXT09PTI1NTspdCs9MjU1LGUrKzt0Kz1uW2VdLGUrKztsZXQgcz0wO2Zvcig7bltlXT09PTI1NTspcys9MjU1LGUrKztyZXR1cm4gcys9bltlXSxlKysse3R5cGU6dCxjb250ZW50Om4uc3ViYXJyYXkoZSxlK3MpfX1mdW5jdGlvbiBKKG4pe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoVChxKSksZT1uZXcgVWludDhBcnJheShUKGopKSxzPW5ldyBVaW50OEFycmF5KFQoTCkpO3JldHVybiB0LmV2ZXJ5KChyLG8pPT5yPT09bltvXSk/RS5USU1FQ09ERTplLmV2ZXJ5KChyLG8pPT5yPT09bltvXSk/RS5MRUdBQ1k6cy5ldmVyeSgocixvKT0+cj09PW5bb10pP0UuTkVXOkUuT1RIRVJ9ZnVuY3Rpb24gSyhuLHQpe2xldCBlPTA7bi51dWlkPXQuc3ViYXJyYXkoZSxlKzE2KSxlKz0xNjtjb25zdCBzPUoobi51dWlkKSxyPXQuc3ViYXJyYXkoZSk7c3dpdGNoKHMpe2Nhc2UgRS5MRUdBQ1k6Y2FzZSBFLk9USEVSOm4udW5yZWdpc3RlcmVkPXI7YnJlYWs7Y2FzZSBFLlRJTUVDT0RFOm4udGltZWNvZGU9TyhyKTticmVhaztjYXNlIEUuTkVXOntsZXQgbz0wO2NvbnN0IGE9QyhEYXRlLm5vdygpKS5sZW5ndGgsZD1yLnN1YmFycmF5KG8sYSk7bys9YTtjb25zdCBsPXIuc3ViYXJyYXkobyk7bi50aW1lY29kZT1PKGQpLG4udW5yZWdpc3RlcmVkPWw7YnJlYWt9fX1mdW5jdGlvbiBPKG4pe2NvbnN0IHQ9bi5yZWR1Y2UoKG8sYSk9PihvPDxCaWdJbnQoOCkpK0JpZ0ludChhKSxCaWdJbnQoMCkpLGU9TnVtYmVyKHQpLHM9bmV3IERhdGUoZSk7cmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzLnRvSVNPU3RyaW5nKCkpfWZ1bmN0aW9uIFoobix0KXt2YXIgZixpLHUsaCxjO2lmKCFTLmFjdGl2ZVNQUyl7Y29uc29sZS53YXJuKCJDYW5ub3QgZmluZCB0aGUgYWN0aXZlIFNQUyIpO3JldHVybn1jb25zdCBlPShmPVMuYWN0aXZlU1BTLnZ1aV9wYXJhbWV0ZXJzLm5hbF9ocmRfcGFyYW1ldGVycykhPW51bGw/ZjpTLmFjdGl2ZVNQUy52dWlfcGFyYW1ldGVycy52Y2xfaHJkX3BhcmFtZXRlcnMscz17Y3BiX2RwYl9kZWxheXNfcHJlc2VudF9mbGFnOmU/MTowLGNwYl9yZW1vdmFsX2RlbGF5X2xlbmd0aF9taW51czE6KGk9ZT09bnVsbD92b2lkIDA6ZS5jcGJfcmVtb3ZhbF9kZWxheV9sZW5ndGhfbWludXMxKSE9bnVsbD9pOjIzLGRwYl9vdXRwdXRfZGVsYXlfbGVuZ3RoX21pbnVzMToodT1lPT1udWxsP3ZvaWQgMDplLmRwYl9vdXRwdXRfZGVsYXlfbGVuZ3RoX21pbnVzMSkhPW51bGw/dToyMyx0aW1lX29mZnNldF9sZW5ndGg6ZT8oaD1lLnRpbWVfb2Zmc2V0X2xlbmd0aCkhPW51bGw/aDoyNDp2b2lkIDAscGljX3N0cnVjdF9wcmVzZW50X2ZsYWc6KGM9Uy5hY3RpdmVTUFMudnVpX3BhcmFtZXRlcnMucGljX3N0cnVjdF9wcmVzZW50X2ZsYWcpIT1udWxsP2M6MH07aWYoIXMucGljX3N0cnVjdF9wcmVzZW50X2ZsYWcpe2NvbnNvbGUud2FybigicGljX3N0cnVjdF9wcmVzZW50X2ZsYWcgaXMgbm90IHByZXNlbnQiKTtyZXR1cm59Y29uc3Qgcj1uZXcgdyh0KTtzLmNwYl9kcGJfZGVsYXlzX3ByZXNlbnRfZmxhZyYmKHIuc2tpcChzLmNwYl9yZW1vdmFsX2RlbGF5X2xlbmd0aF9taW51czErMSksci5za2lwKHMuZHBiX291dHB1dF9kZWxheV9sZW5ndGhfbWludXMxKzEpKTtjb25zdCBvPVsxLDEsMSwyLDIsMywzLDIsM10sYT1yLnJlYWRCaXRzKDQpO2lmKGE+PW8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwaWNfc3RydWN0Iik7Y29uc3QgZD1vW2FdLGw9W107Zm9yKGxldCBwPTA7cDxkO3ArKylpZihyLnJlYWRCaXRzKDEpKXtjb25zdCBnPXt9O3Iuc2tpcCgyKSxyLnNraXAoMSksci5za2lwKDUpO2NvbnN0IEE9ci5yZWFkQml0cygxKTtpZihyLnNraXAoMiksZy5uX2ZyYW1lcz1yLnJlYWRCaXRzKDgpLEE/KGcuc2Vjb25kc192YWx1ZT1yLnJlYWRCaXRzKDYpLGcubWludXRlc192YWx1ZT1yLnJlYWRCaXRzKDYpLGcuaG91cnNfdmFsdWU9ci5yZWFkQml0cyg1KSk6ci5yZWFkQml0cygxKSYmKGcuc2Vjb25kc192YWx1ZT1yLnJlYWRCaXRzKDYpLHIucmVhZEJpdHMoMSkmJihnLm1pbnV0ZXNfdmFsdWU9ci5yZWFkQml0cyg2KSxyLnJlYWRCaXRzKDEpJiYoZy5ob3Vyc192YWx1ZT1yLnJlYWRCaXRzKDUpKSkpLHMudGltZV9vZmZzZXRfbGVuZ3RoKXRyeXtnLnRpbWVfb2Zmc2V0PXIucmVhZEJpdHMocy50aW1lX29mZnNldF9sZW5ndGgpfWNhdGNoKHgpe2NvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byByZWFkIHRpbWVfb2Zmc2V0Iix4KSxnLnRpbWVfb2Zmc2V0PTB9ZWxzZSBnLnRpbWVfb2Zmc2V0PTA7bC5wdXNoKGcpfW4uc2VpUGljVGltaW5nVGltZUNvZGVBcnJheT1sfWZ1bmN0aW9uIFEobix0KXtpZih0IT09IkgyNjQiJiZ0IT09IkgyNjUiKXRocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgY29kZWMgIi5jb25jYXQodCkpO2NvbnN0IGU9e307cmV0dXJuIFMuY29kZWM9dCxYKG5ldyBVaW50OEFycmF5KG4uZGF0YSksdCkuZm9yRWFjaChzPT57Y29uc3Qgcj1zWzJdPT09MT8zOjQsbz10PT09IkgyNjQiPzE6MixhPVUocy5zdWJhcnJheShyK28pKSxkPSQoYSk7c3dpdGNoKGQudHlwZSl7Y2FzZSBSLlBJQ19USU1JTkc6WihlLGQuY29udGVudCk7YnJlYWs7Y2FzZSBSLlVTRVJfREFUQV9VTlJFR0lTVEVSRUQ6SyhlLGQuY29udGVudCk7YnJlYWt9fSksZX1mdW5jdGlvbiBlZShuKXtyZXR1cm4vXlswLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezEyfSQvLnRlc3Qobil9ZnVuY3Rpb24gVChuKXtyZXR1cm4gbi5yZXBsYWNlKC8tL2csIiIpLm1hdGNoKC8uezEsMn0vZykubWFwKHQ9PnBhcnNlSW50KHQsMTYpKX1mdW5jdGlvbiB0ZShuLHQsZSl7Y29uc3Qgcz1uZXcgVWludDhBcnJheShUKG4pKSxyPUMoZSksbz1uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoSlNPTi5zdHJpbmdpZnkodCkpLGE9bmV3IFVpbnQ4QXJyYXkocy5sZW5ndGgrci5sZW5ndGgrby5sZW5ndGgpO3JldHVybiBhLnNldChzKSxhLnNldChyLHMubGVuZ3RoKSxhLnNldChvLHIubGVuZ3RoK3MubGVuZ3RoKSxhfWZ1bmN0aW9uIG5lKG4pe2NvbnN0IHQ9W10sZT1NYXRoLmZsb29yKG4uYnl0ZUxlbmd0aC8yNTUpLHM9bi5ieXRlTGVuZ3RoJTI1NTtmb3IobGV0IHI9MDtyPGU7cisrKXQucHVzaCgyNTUpO3JldHVybiB0LnB1c2gocyksbmV3IFVpbnQ4QXJyYXkoWzUsLi4udF0pfWZ1bmN0aW9uIHJlKG4pe2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTxuLmJ5dGVMZW5ndGg7ZSsrKWUrMjxuLmJ5dGVMZW5ndGgmJlswLDEsMiwzXS5pbmNsdWRlcyhuW2UrMl0pJiZuW2VdPT09MCYmbltlKzFdPT09MD8odC5wdXNoKG5bZV0pLHQucHVzaChuW2UrMV0pLGUrPTIsdC5wdXNoKDMpKTp0LnB1c2gobltlXSk7cmV0dXJuIHQucHVzaCgxMjgpLG5ldyBVaW50OEFycmF5KHQpfWZ1bmN0aW9uIEMobil7Y29uc3QgdD1bXTtpZighaXNOYU4obikpe2NvbnN0IGU9QmlnSW50KG4pO2ZvcihsZXQgcz0wO3M8TWF0aC5jZWlsKE1hdGguZmxvb3IoTWF0aC5sb2cyKG5ldyBOdW1iZXIobikpKzEpLzgpO3MrKyl0LnVuc2hpZnQobmV3IE51bWJlcihlPj5CaWdJbnQoOCpzKSZCaWdJbnQoMjU1KSkpfXJldHVybiBuZXcgVWludDhBcnJheSh0KX1mdW5jdGlvbiBzZSh7dXVpZDpuLHBheWxvYWQ6dCx0aW1lY29kZTplfSl7Y29uc3Qgcz1bMCwwLDAsMV0scj1bMTAyXSxvPXRlKG4sdCxlKSxhPW5lKG8pLGQ9cmUobyksbD1uZXcgVWludDhBcnJheShzLmxlbmd0aCtyLmxlbmd0aCthLmxlbmd0aCtkLmxlbmd0aCk7cmV0dXJuIGwuc2V0KHMpLGwuc2V0KHIscy5sZW5ndGgpLGwuc2V0KGEscy5sZW5ndGgrci5sZW5ndGgpLGwuc2V0KGQscy5sZW5ndGgrci5sZW5ndGgrYS5sZW5ndGgpLGx9ZnVuY3Rpb24gaWUoe3V1aWQ6bixwYXlsb2FkOnQsdGltZWNvZGU6ZX0scyl7aWYobj09PSIifHx0PT09IiIpdGhyb3cgbmV3IEVycm9yKCJ1dWlkIGFuZCBwYXlsb2FkIGNhbm5vdCBiZSBlbXB0eSIpO2VlKG4pfHwoY29uc29sZS53YXJuKCJJbnZhbGlkIFVVSUQuIFVzaW5nIGRlZmF1bHQgVVVJRC4iKSxuPUwsZT1EYXRlLm5vdygpKTtjb25zdCByPXNlKHt1dWlkOm4scGF5bG9hZDp0LHRpbWVjb2RlOmV9KSxvPW5ldyBEYXRhVmlldyhzLmRhdGEpLGE9bmV3IEFycmF5QnVmZmVyKHMuZGF0YS5ieXRlTGVuZ3RoK3IuYnl0ZUxlbmd0aCksZD1uZXcgRGF0YVZpZXcoYSk7Zm9yKGxldCBsPTA7bDxzLmRhdGEuYnl0ZUxlbmd0aDtsKyspZC5zZXRVaW50OChsLG8uZ2V0VWludDgobCkpO2ZvcihsZXQgbD0wO2w8ci5ieXRlTGVuZ3RoO2wrKylkLnNldFVpbnQ4KHMuZGF0YS5ieXRlTGVuZ3RoK2wscltsXSk7cy5kYXRhPWF9RC5nZXQoIlRyYW5zZm9ybVdvcmtlciIpLnNldExldmVsKEQuREVCVUcpO2NvbnN0IG9lPTJlMyxiPVtdO2xldCB5PSIiLFA9e307Y29uc3Qgdj17fTtsZXQgST1bXTtmdW5jdGlvbiBIKG4pe3JldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtzdGFydCgpe30sZmx1c2goKXt9LGFzeW5jIHRyYW5zZm9ybSh0LGUpe3ZhciBzLHI7aWYodCBpbnN0YW5jZW9mIFJUQ0VuY29kZWRWaWRlb0ZyYW1lKXtjb25zdCBvPSgocz1QW3QuZ2V0TWV0YWRhdGEoKS5wYXlsb2FkVHlwZV0pPT1udWxsP3ZvaWQgMDpzLnRvVXBwZXJDYXNlKCkpfHwoeT09bnVsbD92b2lkIDA6eS50b1VwcGVyQ2FzZSgpKTtpZihvPT09IkgyNjQiKXtjb25zdCBhPVEodCxvKTsoYS50aW1lY29kZXx8YS51bnJlZ2lzdGVyZWR8fCgocj1hLnNlaVBpY1RpbWluZ1RpbWVDb2RlQXJyYXkpPT1udWxsP3ZvaWQgMDpyLmxlbmd0aCk+MCkmJnNlbGYucG9zdE1lc3NhZ2Uoe2V2ZW50OiJtZXRhZGF0YSIsbWlkOm4sbWV0YWRhdGE6YX0pfXNlbGYucG9zdE1lc3NhZ2Uoe2V2ZW50OiJjb21wbGV0ZSIsZnJhbWU6e3R5cGU6dC50eXBlLHRpbWVzdGFtcDp0LnRpbWVzdGFtcCxkYXRhOnQuZGF0YX19KX1lLmVucXVldWUodCl9fSl9ZnVuY3Rpb24gTSgpe09iamVjdC5rZXlzKHYpLnNvcnQoKS5qb2luKCk9PT1JLnNvcnQoKS5qb2luKCkmJihiLnNoaWZ0KCksST1bXSl9ZnVuY3Rpb24gYWUobil7Y29uc3QgdD1uZXcgRGF0ZSgpLmdldFRpbWUoKTt2W25dPXQsT2JqZWN0LmtleXModikuZmlsdGVyKHM9PnQtdltzXT5vZSkuZm9yRWFjaChzPT57ZGVsZXRlIHZbc10sZGVsZXRlIElbc119KSxNKCl9ZnVuY3Rpb24gTigpe3JldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtzdGFydCgpe30sZmx1c2goKXt9LGFzeW5jIHRyYW5zZm9ybShuLHQpe2lmKG4gaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3Qgcz1uLmdldE1ldGFkYXRhKCkuc3luY2hyb25pemF0aW9uU291cmNlO2lmKGFlKHMpLCFJLmluY2x1ZGVzKHMpJiZiLmxlbmd0aCl0cnl7aWYoIS8oaDI2WzRdKS8udGVzdCh5KSl0aHJvdyBuZXcgRXJyb3IoIlNlbmRpbmcgbWV0YWRhdGEgaXMgbm90IHN1cHBvcnRlZCB3aXRoIGFueSBvdGhlciBjb2RlYyBvdGhlciB0aGFuIEguMjY0Iik7YlswXS51dWlkPT09TCYmKGJbMF0udGltZWNvZGU9RGF0ZS5ub3coKSksaWUoYlswXSxuKSxJLnB1c2gocyl9Y2F0Y2gocil7Y29uc29sZS5lcnJvcihyKX1maW5hbGx5e00oKX19dC5lbnF1ZXVlKG4pfX0pfWZ1bmN0aW9uIGsoe3JlYWRhYmxlOm4sd3JpdGFibGU6dH0sZSl7bi5waXBlVGhyb3VnaChlKS5waXBlVG8odCl9YWRkRXZlbnRMaXN0ZW5lcigicnRjdHJhbnNmb3JtIixuPT57bGV0IHQ7aWYobi50cmFuc2Zvcm1lci5vcHRpb25zLm5hbWU9PT0ic2VuZGVyVHJhbnNmb3JtIil5PW4udHJhbnNmb3JtZXIub3B0aW9ucy5jb2RlYyx0PU4oKTtlbHNlIGlmKG4udHJhbnNmb3JtZXIub3B0aW9ucy5uYW1lPT09InJlY2VpdmVyVHJhbnNmb3JtIilQPW4udHJhbnNmb3JtZXIub3B0aW9ucy5wYXlsb2FkVHlwZUNvZGVjfHx7fSx5PW4udHJhbnNmb3JtZXIub3B0aW9ucy5jb2RlY3x8IiIsdD1IKG4udHJhbnNmb3JtZXIub3B0aW9ucy5taWQpO2Vsc2UgcmV0dXJuO2sobi50cmFuc2Zvcm1lcix0KX0pLGFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG49Pntjb25zdHthY3Rpb246dH09bi5kYXRhO3N3aXRjaCh0KXtjYXNlImluc2VydGFibGUtc3RyZWFtcy1zZW5kZXIiOnk9bi5kYXRhLmNvZGVjLGsobi5kYXRhLE4oKSk7YnJlYWs7Y2FzZSJpbnNlcnRhYmxlLXN0cmVhbXMtcmVjZWl2ZXIiOlA9bi5kYXRhLnBheWxvYWRUeXBlQ29kZWN8fHt9LHk9bi5kYXRhLmNvZGVjfHwiIixrKG4uZGF0YSxIKG4uZGF0YS5taWQpKTticmVhaztjYXNlIm1ldGFkYXRhLXNlaS11c2VyLWRhdGEtdW5yZWdpc3RlcmVkIjpiLnB1c2goe3V1aWQ6bi5kYXRhLnV1aWQscGF5bG9hZDpuLmRhdGEucGF5bG9hZH0pO2JyZWFrfX0pfSkoKTsK",ge=("undefined"==typeof self?"undefined":W(self))<"u"&&self.Blob&&new Blob([function(t){return I.from(atob(t),(function(t){return t.charCodeAt(0)}))}(de)],{type:"text/javascript;charset=utf-8"});function me(t){var n;try{if(!(n=ge&&(self.URL||self.webkitURL).createObjectURL(ge)))throw"";var i=new R(n,{name:null==t?void 0:t.name});return i.addEventListener("error",(function(){(self.URL||self.webkitURL).revokeObjectURL(n)})),i}catch(n){return new R("data:text/javascript;base64,"+de,{name:null==t?void 0:t.name})}finally{n&&(self.URL||self.webkitURL).revokeObjectURL(n)}}var we=gt.get("Publish"),pe={mediaStream:null,bandwidth:0,metadata:!1,disableVideo:!1,disableAudio:!1,codec:mr.H264,simulcast:!1,scalabilityMode:null,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},ye=function(t){function n(n,i,r){return void 0===r&&(r=!0),n&&we.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),t.call(this,null,i,we,r)||this}Rt(n,t);var i=n.prototype;return i.connect=function(t){void 0===t&&(t=pe);var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return r=ce.object({sourceId:ce.string(),stereo:ce.boolean(),dtx:ce.boolean(),absCaptureTime:ce.boolean(),dependencyDescriptor:ce.boolean(),mediaStream:ce.alternatives().try(ce.array().items(ce.object()),ce.object()),bandwidth:ce.number(),metadata:ce.boolean(),disableVideo:ce.boolean(),disableAudio:ce.boolean(),codec:(i=ce.string()).valid.apply(i,Ut(k.values(mr))),simulcast:ce.boolean(),scalabilityMode:ce.string(),peerConfig:ce.object(),record:ce.boolean(),events:ce.array().items(ce.string().valid("active","inactive","viewercount")),priority:ce.number()}),e=r.validate(t),u=e.error,s=e.value,u&&we.warn(u,s),n.options=b(m(m({},pe),t),{peerConfig:m(m({},pe.peerConfig),t.peerConfig),setSDPToPeer:!1}),n.options.metadata=n.options.metadata&&n.options.codec===mr.H264&&!n.options.disableVideo,[4,n.initConnection({migrate:!1})];case 1:return o.sent(),[2]}}))}))()},i.reconnect=function(n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){return i.options.mediaStream=null!=(e=null==(r=i.webRTCPeer)?void 0:r.getTracks())?e:i.options.mediaStream,t.prototype.reconnect.call(i,n),[2]}))}))()},i.replaceConnection=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return we.info("Migrating current connection"),t.options.mediaStream=null!=(i=null==(n=t.webRTCPeer)?void 0:n.getTracks())?i:t.options.mediaStream,[4,t.initConnection({migrate:!0})];case 1:return r.sent(),[2]}}))}))()},i.record=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.recordingAvailable?(t.options.record=!0,[4,null==(n=t.signaling)?void 0:n.cmd("record")]):[3,2];case 1:return i.sent(),we.info("Broadcaster start recording"),[3,3];case 2:we.error("Record not available"),i.label=3;case 3:return[2]}}))}))()},i.unrecord=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.recordingAvailable?(t.options.record=!1,[4,null==(n=t.signaling)?void 0:n.cmd("unrecord")]):[3,2];case 1:return i.sent(),we.info("Broadcaster stop recording"),[3,3];case 2:we.error("Unrecord not available"),i.label=3;case 3:return[2]}}))}))()},i.stop=function(){var n;t.prototype.stop.call(this),null==(n=this.worker)||n.terminate(),this.worker=null},i.initConnection=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d,g,m,w;return Ht(this,(function(p){switch(p.label){case 0:if(we.debug("Broadcast option values: ",n.options),n.stopReconnection=!1,!n.options.mediaStream)throw we.error("Error while broadcasting. MediaStream required"),new y("MediaStream required");if(!t.migrate&&n.isActive())throw we.warn("Broadcast currently working"),new y("Broadcast currently working");p.label=1;case 1:return p.trys.push([1,3,,4]),[4,n.tokenGenerator()];case 2:return u=p.sent(),n.options.peerConfig.iceServers=null==u?void 0:u.iceServers,n.options.peerConfig.encodedInsertableStreams=n.options.metadata,[3,4];case 3:throw s=p.sent(),we.error("Error generating token."),s instanceof Hr&&(401!==s.status&&n.autoReconnect?n.reconnect():n.stopReconnection=!0),s;case 4:if(!u)throw we.error("Error while broadcasting. Publisher data required"),new y("Publisher data required");if(o=ee(u.jwt),n.streamName=o.millicast.streamName,n.recordingAvailable=o[se.atob("bWlsbGljYXN0")].record,n.options.record&&!n.recordingAvailable)throw we.error("Error while broadcasting. Record option detected but recording is not available"),new y("Record option detected but recording is not available");return a=new Zr({streamName:n.streamName,url:"".concat(u.urls[0],"?token=").concat(u.jwt)}),[4,(c=t.migrate?new Ar:n.webRTCPeer).createRTCPeer(n.options.peerConfig,yr)];case 5:return p.sent(),null==(i=n.stopReemitingWebRTCPeerInstanceEvents)||i.call(n),null==(r=n.stopReemitingSignalingInstanceEvents)||r.call(n),n.stopReemitingWebRTCPeerInstanceEvents=Ft(c,n,[br.connectionStateChange]),n.stopReemitingSignalingInstanceEvents=Ft(a,n,[jr]),h=c.getRTCLocalSDP(n.options),f=a.connect(),[4,ut.all([h,f])];case 6:return e=p.sent(),v=e[0],n.options.metadata&&(n.worker||(n.worker=new me),n.getRTCPeerConnection().getSenders().forEach((function(t){if(le)t.transform=new RTCRtpScriptTransform(n.worker,{name:"senderTransform",codec:n.options.codec});else if(ve){var i=t.createEncodedStreams(),r=i.readable,e=i.writable;n.worker.postMessage({action:"insertable-streams-sender",codec:n.options.codec,readable:r,writable:e},[r,e])}}))),l=n.signaling,n.signaling=a,d=n.signaling.publish(v,n.options),g=c.peer.setLocalDescription(c.sessionDescription),[4,ut.all([d,g])];case 7:return e=p.sent(),m=e[0],!n.options.disableVideo&&n.options.bandwidth>0&&(m=c.updateBandwidthRestriction(m,n.options.bandwidth)),[4,c.setRTCRemoteSDP(m)];case 8:return p.sent(),we.info("Broadcasting to streamName: ",n.streamName),w=n.webRTCPeer,n.webRTCPeer=c,n.setReconnect(),t.migrate&&n.webRTCPeer.on(br.connectionStateChange,(function(t){var n,i;["connected","disconnected","failed","closed"].includes(t)&&(null==(n=null==l?void 0:l.close)||n.call(l),null==(i=null==w?void 0:w.closeRTCPeer)||i.call(w),l=w=null)})),[2]}}))}))()},i.sendMetadata=function(t,n){var i;if(void 0===n&&(n="d40e38ea-d419-4c62-94ed-20ac37b4e4fa"),null!=(i=this.options)&&i.metadata&&this.worker)this.worker.postMessage({action:"metadata-sei-user-data-unregistered",uuid:n,payload:t});else{var r="Could not send metadata due to:";this.options?this.options.metadata?this.worker||(r+="\n- Stream not being published."):(r+="\n- Metadata option is not enabled.",this.options.codec!==mr.H264&&(r+="\n- Incompatible codec. Only H264 available."),this.options.disableVideo&&(r+="\n- Video disabled.")):r+="\n- Stream not being published.",we.warn(r)}},n}(he);function _e(t){if(!t)return new I;for(var n=t.length,i=new I(n/2),r=0;r<n;r+=2)i[r/2]=T(t.substr(r,2),16);return i}function be(t,n,i){if(k.prototype.hasOwnProperty.call(t,i)&&k.prototype.hasOwnProperty.call(n,i)){var r=t[i];t[i]=n[i],n[i]=r}else console.error('One or both objects do not have the property "'.concat(i,'"'))}function ke(t,n,i,r){return new(i||(i=ut))((function(e,u){function s(t){try{a(r.next(t))}catch(t){u(t)}}function o(t){try{a(r.throw(t))}catch(t){u(t)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,o)}a((r=r.apply(t,n||[])).next())}))}var Ae,Te=Se;function Se(t,n){var i=Me();return(Se=function(t,n){return i[t-=257]})(t,n)}!function(){for(var t=Se,n=Me();;)try{if(T(t(266))/1*(-T(t(261))/2)+T(t(258))/3*(-T(t(264))/4)+-T(t(267))/5*(T(t(274))/6)+T(t(260))/7*(T(t(268))/8)+T(t(270))/9+-T(t(277))/10+T(t(263))/11==303379)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Ee=d&&d[Te(276)]||"",Ie=d&&d.vendor||"",Re=!(null==f||!f[Te(273)]),Ce=Ee[Te(278)](Te(257)),Ne=!Ce&&Ie[Te(278)](Te(259)),xe=!Ce&&!Ne&&Ee.includes(Te(272)),De=!Ce&&!Ne&&!xe&&Ee[Te(278)](Te(275)),Pe=(null===(Ae=null==d?void 0:d[Te(262)])||void 0===Ae?void 0:Ae[Te(271)])||(null==d?void 0:d[Te(271)])||"";function Me(){var t=["2403660vsbxKa","includes","Firefox","653511krAkNS","Apple","63eEorAu","2iQvmqu","userAgentData","13393182jRLBxS","4fTXBZP","Win32","74923SyWRbn","1345hVdNEb","21688LwGppn","Windows","132498ZoOcLo","platform","Edg","RTCRtpScriptTransform","9372dNMWWf","Chrome","userAgent"];return(Me=function(){return t})()}var Be={supportsRtpScriptTransform:Re,isFirefox:Ce,isSafari:Ne,isEdge:xe,isChrome:De,platform:Pe,isWindows:Pe===Te(269)||Pe===Te(265)},Oe=Le;function Le(t,n){var i=We();return(Le=function(t,n){return i[t-=185]})(t,n)}!function(){for(var t=Le,n=We();;)try{if(-T(t(380))/1+-T(t(354))/2+-T(t(464))/3*(T(t(486))/4)+-T(t(253))/5+T(t(377))/6+T(t(321))/7*(-T(t(285))/8)+-T(t(444))/9*(-T(t(279))/10)==657542)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Fe=Be[Oe(496)];function Ve(t,n){var i=Oe,r=new I((0|t.byteLength)+(0|n[i(442)]));return r[i(311)](t,0),r[i(311)](n,0|t.byteLength),r}var Ue=function(t,n,i,r){var e=Oe,u=r[e(203)]||1;n*=u,i*=u;var s,o=(s=t)instanceof ArrayBuffer?s:s[Oe(492)],a=(t[e(447)]||0)+t[e(442)],c=(t[e(447)]||0)+n,h=A[e(389)](0,A[e(487)](c,a)),f=A[e(487)](h+A[e(389)](i,0),a);return new r(o,h/=u,(f/=u)-h)};function We(){var t=["[MSE] source buffer error","ManagedMediaSource","BYTES_PER_ELEMENT","types","ready","valid","Num frames in chunk: ","readBits","getTrackID","mvhd","parsePPS","encrypted","dependsOn","payload","len","moov","VMHD","mse","volume","h264","setUint16","tfdt","nextDts","avc1.","audioSampleAuxInfo","message","endMSE","width","hdlr","warn","traf","readBoolean","shift","mseReady","revokeObjectURL","smhd","dts","indexOf","<PROTECTINFO>","webkitsourceclose","onMSEClose","[H264Parser] IDR without SPS/PPS, not suitable for recovery",'VALUE="',"createObjectURL","</KID>","mdhd","SMHD","getFramePayload","tkhd","flush","clRtcDrmDebugLog","getBits","2598770DahMdb","dbgQueue","dispatch","DINF","http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader","isReady","sps","nalus","endOfStream","toString","UNKNOWN","Opus","minf","onError","stco","STSC","buffered","</KIDS>","initSegment","dinf","org.w3.clearkey","mp4track","keyFrame","units","mseEnded","videoSampleAuxInfo","41695210Plpuuo","splice","ended","bitLength","seq","url","8YyaFaO","com.apple.fps","[MSE] error: ","bitsAvailable","</WRMHEADER>","trex","setData","buffer error","slice","length","readUByte","mp4a","Unsupported DRM type ","mdia","fromCharCode",'<WRMHEADER xmlns="',"index","string","both","NDR","dOps","cenc","getPayload","bind","PPS","sourceBuffer","set","Checking codec","releaseBuffer","tenc","trak","flags",'/mp4; codecs="',"[H264Parser] Both IDR and non-IDR VCL NALUs found in the same frame","clRtcDrmCreateMediaDump","STSD","6352549TgZLxu","initBrowser","IDR","trun"," - ","start","mediaSource","startsWith","stype","readSPS","addEventListener","schi","encv","createElement","getVideoFrames","onReady","href","sourceopen","setUint32","vmhd","FTYP","schm","getData","toISOString","remuxer","track","skipScalingList","STSZ","getSize","addSourceBuffer","[MSE] buffer error:","appendBufferError","off","2392886zJoPkf","destroy","sdtp","audiosamplerate",": NRI: ","reportDiscontinuity","extractNALUs","No A/V data","pps","senc","saio","concat","config","ftyp","parseNAL","esds","error","feed","Browser does not support codec","4.3.0.0","skipUEG","mp4","end","2232924PKvVOf","updating","options","227868XbMqAn","prototype","createBuffer","info","MediaSource","timestamp","mvex","isfmb","opus","max","stsz","POSITIVE_INFINITY","saiz","timescale","call","encryption","height","jmuxer","bufferControllers","open","patchSampleAuxinfo","queue","stsd","onBufferError","frameCounter","ntype","remux","getPayloadSize","isSupported","</LA_URL>","waitingForIdr","box","idr"," samples - expected 1","tracks","stbl","getNri",'<KID ALGID="AESCTR" ',"download","readUInt","join","com.microsoft.playready.recommendation",'" version="',"remuxController","Received ","frma","resetTrack","disableRemotePlayback","</DATA>","mfhd","pssh","charCodeAt","drm","mediaDuration","video","readyToDecode","from","SPS","skipLZ","data","keySystem","[MSE] sourceclose","byteLength","STTS","9mESMVl","Buffered range ","samples","byteOffset","parseHeader","codec","node","audio","Failure: Browser doesn't support MSE/MMS","subarray","replaceAll","downloadToFile","onBuffer","skipBits","mdat","isKeyframe","moof","mode","push","STCO","9ffcUcC","listener","isReset","map","enca","type","<LA_URL>","parseSPS","getElementById","no video element were found to render, provide a valid video element","sinf","doAppend","HDLR_TYPES","videoElement","stts","keyId","trackTypes","TYPES","remove","size","AUD","src","1376748eVkTXq","min","tfhd","initialized","offAll","appendBuffer","buffer","nri","skipEG","isvcl","isSafari","isTypeSupported","readyState","abort","apply","reduce","assign","calculateExpectedSizeFromSai","duration","generatePlayReadyHeader","readUEG","onMSEOpen","sampleAuxInfo","SEI","irrecoverableError","channelCount","saiIvSize","stsc"];return(We=function(){return t})()}function je(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=1/0),Ue(t,n,i,I)}function Ze(t){var n=Oe,i=Array[n(436)](t)[n(467)]((function(t){return t[n(431)](0)}));return new I(i)}f[Oe(455)]=function(t,n,i){void 0===i&&(i="application/octet-stream");var r=Oe,e=v[r(334)]("a"),u=new Blob([t],{type:i});e[r(337)]=URL[r(244)](u),e[r(418)]=n,e.click(),URL[r(235)](e[r(337)])};var Xe=function(t,n,i,r,e,u,s,o,a,c){function h(t){var n=Oe;this.payload=t,this[n(493)]=(96&this.payload[0])>>5,this[n(405)]=31&this[n(214)][0],this[n(495)]=1==this.ntype||5==this[n(405)],this[n(329)]="",this[n(387)]=!1}var f=h.prototype;return f.toString=function(){var t=Oe;return h[t(469)](this)+t(358)+this[t(416)]()},f.getNri=function(){return this[Oe(493)]},f[u]=function(){return this[Oe(405)]},f[s]=function(){var t=Oe;return this[t(405)]===h[t(323)]},f[o]=function(){return this[Oe(214)]},f[a]=function(){var t=Oe;return this[t(214)][t(442)]},f.getSize=function(){return 4+this[Oe(407)]()},f[c]=function(){var t=Oe,n=new I(this.getSize());return new DataView(n.buffer)[t(339)](0,this.getSize()-4),n[t(311)](this[t(307)](),4),n},h.type=function(t){var n=Oe;return t[n(405)]in h[n(481)]?h[n(481)][t[n(405)]]:n(263)},xt(h,null,[{key:t,get:function(){return 1}},{key:n,get:function(){return 5}},{key:i,get:function(){return 6}},{key:"SPS",get:function(){return 7}},{key:"PPS",get:function(){return 8}},{key:r,get:function(){return 9}},{key:e,get:function(){var t,n=Oe;return sn(t={},h[n(323)],n(323)),sn(t,h.SEI,n(196)),sn(t,h.SPS,n(437)),sn(t,h[n(309)],n(309)),sn(t,h[n(304)],n(304)),sn(t,h[n(484)],n(484)),t}}]),h}(Oe(304),Oe(323),Oe(196),Oe(484),Oe(481),Oe(469),Oe(459),Oe(307),Oe(407),Oe(343)),Ge=function(){function t(t){var n=Oe;this[n(439)]=t,this[n(301)]=0,this.bitLength=8*t[n(442)]}var n=t.prototype;return n[Oe(291)]=function(t){var n=Oe;this.data=t,this[n(301)]=0,this[n(282)]=8*t[n(442)]},n.skipBits=function(t){if(this[Oe(288)]<t)return!1;this.index+=t},n[Oe(208)]=function(t,n){return void 0===n&&(n=!0),this.getBits(t,this.index,n)},n[Oe(252)]=function(t,n,i){void 0===i&&(i=!0);var r=Oe;if(this.bitsAvailable<t)return 0;var e=n%8,u=this[r(439)][n/8|0]&255>>>e,s=8-e;if(s>=t)return i&&(this.index+=t),u>>s-t;i&&(this.index+=s);var o=t-s;return u<<o|this[r(252)](o,n+s,i)},n[Oe(438)]=function(){var t,n=Oe;for(t=0;t<this.bitLength-this[n(301)];++t)if(0!==this.getBits(1,this[n(301)]+t,!1))return this.index+=t,t;return t},n[Oe(374)]=function(){var t=Oe;this[t(457)](1+this[t(438)]())},n[Oe(494)]=function(){var t=Oe;this[t(457)](1+this[t(438)]())},n.readUEG=function(){var t=Oe,n=this[t(438)]();return this[t(208)](n+1)-1},n.readEG=function(){var t=this[Oe(193)]();return 1&t?1+t>>>1:-1*(t>>>1)},n.readBoolean=function(){return 1===this[Oe(208)](1)},n[Oe(295)]=function(t){return void 0===t&&(t=1),this[Oe(208)](8*t)},n.readUShort=function(){return this[Oe(208)](16)},n[Oe(419)]=function(){return this[Oe(208)](32)},xt(t,[{key:Oe(288),get:function(){var t=Oe;return this[t(282)]-this[t(301)]}}]),t}(),He=function(t,n,i,r,e,u){function s(t){var n=Oe;this.remuxer=t,this[n(346)]=t[n(274)]}var o=s.prototype;return o[r]=function(t){var n=Oe,i=s[n(330)](new I(t));this[n(346)][n(228)]=i[n(228)],this[n(346)][n(396)]=i[n(396)],this[n(346)].sps=[new I(t)],this[n(346)][n(449)]=n(224);for(var r=new DataView(t.buffer,t[n(447)]+1,4),e=0;e<3;++e){var u=r.getUint8(e)[n(262)](16);u.length<2&&(u="0"+u),this.track[n(449)]+=u}},o[e]=function(t){this[Oe(346)].pps=[new I(t)]},o[u]=function(t){var n=Oe;if(!t)return!1;var i=!1;switch(t.type()){case Xe[n(323)]:case Xe[n(304)]:i=!0;break;case Xe[n(309)]:!this[n(346)][n(362)]&&(this.parsePPS(t[n(307)]()),!this[n(345)][n(435)]&&this[n(346)][n(362)]&&this[n(346)][n(259)]&&(this[n(345)][n(435)]=!0)),i=!0;break;case Xe[n(437)]:!this[n(346)][n(259)]&&(this[n(471)](t[n(307)]()),!this[n(345)][n(435)]&&this[n(346)][n(362)]&&this.track.sps&&(this[n(345)][n(435)]=!0)),i=!0;break;case Xe[n(484)]:break;case Xe[n(196)]:i=!0}return i},s[t]=function(t,n){for(var i=Oe,r=[],e=!1,u=!1,s=!1,o=!1,a=0,c=0,h=0,f=[];a<=t.byteLength;){if(a<t.byteLength){var v=t[a++];0!==v?(1===v&&c>1&&(h=c>2?4:3,f.push(a)),c=0):++c}else h=0,f.push(a++);if(f.length>1){var l=f.shift(),d=f[0]-h;if(l<d){var g=!1,m=31&t[l];if(m===Xe.NDR?u=!0:m===Xe.IDR?e=!0:m===Xe.SPS?(g=s,s=!0):m===Xe.PPS&&(g=o,o=!0),!g)if(!n||m!==Xe.NDR&&m!==Xe.IDR)r.push(t.subarray(l,d));else{var w=new I(d-l),p=0;for(a=l,c=0;a<d;){var y=t[a++];c>1&&3===y&&(c=0,y=t[a++]),0!==y?c=0:++c,w[p++]=y}r.push(w.subarray(0,p))}}}}var _=!0,b=!1;return u||e?u&&e&&(console[i(230)](i(318)),_=!1):(console[i(230)]("[H264Parser] No VCL NALUs found"),_=!1),e&&(s&&o?b=!0:console[i(230)](i(242))),{valid:_,idr:b,nalus:r}},s.skipScalingList=function(t,n){for(var i=8,r=8,e=0;e<n;e++)0!==r&&(r=(i+t.readEG()+256)%256),i=0===r?i:r},s[n]=function(t){var n,i,r,e,u,o,a=Oe,c=new Ge(t),h=0,f=0,v=0,l=0,d=1;if(c[a(295)](),n=c.readUByte(),c[a(208)](5),c[a(457)](3),c.readUByte(),c[a(374)](),100===n||110===n||122===n||244===n||44===n||83===n||86===n||118===n||128===n){var g=c[a(193)]();if(3===g&&c[a(457)](1),c.skipUEG(),c[a(374)](),c[a(457)](1),c[a(232)]()){o=3!==g?8:12;for(var m=0;m<o;++m)c[a(232)]()&&(m<6?s[a(347)](c,16):s[a(347)](c,64))}}c[a(374)]();var w=c.readUEG();if(0===w)c[a(193)]();else if(1===w){c.skipBits(1),c[a(494)](),c[a(494)](),i=c[a(193)]();for(var p=0;p<i;++p)c.skipEG()}if(c.skipUEG(),c[a(457)](1),r=c[a(193)](),e=c.readUEG(),0===(u=c[a(208)](1))&&c[a(457)](1),c[a(457)](1),c[a(232)]()&&(h=c[a(193)](),f=c[a(193)](),v=c[a(193)](),l=c.readUEG()),c.readBoolean()){if(c[a(232)]()){var y;switch(c[a(295)]()){case 1:y=[1,1];break;case 2:y=[12,11];break;case 3:y=[10,11];break;case 4:y=[16,11];break;case 5:y=[40,33];break;case 6:y=[24,11];break;case 7:y=[20,11];break;case 8:y=[32,11];break;case 9:y=[80,33];break;case 10:y=[18,11];break;case 11:y=[15,11];break;case 12:y=[64,33];break;case 13:y=[160,99];break;case 14:y=[4,3];break;case 15:y=[3,2];break;case 16:y=[2,1];break;case 255:y=[c[a(295)]()<<8|c.readUByte(),c[a(295)]()<<8|c[a(295)]()]}y&&y[0]>0&&y[1]>0&&(d=y[0]/y[1])}c.readBoolean()&&c[a(457)](1),c[a(232)]()&&(c.skipBits(4),c[a(232)]()&&c[a(457)](24)),c.readBoolean()&&(c.skipUEG(),c[a(374)]()),c.readBoolean()&&(c[a(419)](),c[a(419)](),c.readBoolean())}return{width:A.ceil((16*(r+1)-2*h-2*f)*d),height:(2-u)*(e+1)*16-(u?2:4)*(v+l)}},s[i]=function(t){var n=Oe,i=new Ge(t[n(307)]());i.readUByte(),t.isfmb=0===i[n(193)](),t.stype=i[n(193)]()},s}(Oe(360),Oe(330),Oe(448),Oe(471),Oe(211),Oe(368)),ze=function(){function t(t){var n=Oe;this[n(465)]={},this[n(469)]=""|t}var n=t.prototype;return n.on=function(t,n){var i=Oe;return!this[i(465)][t]&&(this[i(465)][t]=[]),this[i(465)][t][i(462)](n),!0},n[Oe(353)]=function(t,n){var i=Oe;if(this[i(465)][t]){var r=this.listener[t][i(238)](n);return r>-1&&this[i(465)][t][i(280)](r,1),!0}return!1},n[Oe(490)]=function(){this[Oe(465)]={}},n[Oe(255)]=function(t,n){var i=Oe;return!!this.listener[t]&&(this[i(465)][t][i(467)]((function(t){t[i(187)](null,[n])})),!0)},t}(),Ye=function(t,n,i,r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b,k,A,T){function S(t){var n,i,r=Oe;for(var e in this[r(432)]=t,this[r(199)]={video:(null==(n=t[r(366)][r(434)])?void 0:n.encryption)===r(306)?16:0,audio:(null==(i=t[r(366)][r(451)])?void 0:i.encryption)===r(306)?16:0},S.types={avc1:[],encv:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],Opus:[],dOps:[],enca:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],pssh:[],sinf:[],frma:[],schm:[],schi:[],tenc:[],saiz:[],saio:[],senc:[]},S[r(204)])S[r(204)][e]=[e[r(431)](0),e[r(431)](1),e.charCodeAt(2),e[r(431)](3)];var u=new I([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),s=new I([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);S[r(476)]={video:u,audio:s};var o=new I([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new I([0,0,0,0,0,0,0,0]);S[r(443)]=S[r(268)]=S[r(463)]=a,S[r(348)]=new I([0,0,0,0,0,0,0,0,0,0,0,0]),S[r(217)]=new I([0,0,0,1,0,0,0,0,0,0,0,0]),S.SMHD=new I([0,0,0,0,0,0,0,0]),S[r(320)]=new I([0,0,0,0,0,0,0,1]);var c=new I([105,115,111,109]),h=new I([97,118,99,49]),f=new I([0,0,0,1]);S[r(341)]=S[r(411)](S[r(204)][r(367)],c,f,c,h),S.DINF=S[r(411)](S[r(204)][r(272)],S[r(411)](S[r(204)].dref,o))}var E=S.prototype;return E.hdlr=function(t){var n=Oe;return S[n(411)](S[n(204)][n(229)],S[n(476)][t])},E.mdat=function(t){var n=Oe;return S.box(S.types[n(458)],t)},E[n]=function(t,n){var i=Oe;return S.box(S[i(204)][i(246)],new I([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t,0,0,0,0,85,196,0,0]))},E[i]=function(t){var n=Oe;return S[n(411)](S[n(204)][n(298)],this[n(246)](t[n(393)],t.duration),this[n(229)](t[n(469)]),this[n(265)](t))},E[r]=function(t){var n=Oe;return S[n(411)](S.types[n(429)],new I([0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t]))},E[e]=function(t){var n=Oe;return t[n(469)]===n(451)?S[n(411)](S[n(204)][n(265)],S.box(S[n(204)][n(236)],S[n(247)]),S.DINF,this[n(415)](t)):S[n(411)](S[n(204)][n(265)],S[n(256)],this[n(415)](t),S[n(411)](S[n(204)][n(340)],S[n(217)]))},E[u]=function(t,n,i){var r=Oe;return S[r(411)](S[r(204)][r(460)],this[r(429)](t),this.traf(i,n))},E.moov=function(t,n,i){for(var r=Oe,e=t[r(294)],u=[];e--;)u[e]=this[r(315)](t[e]);return S[r(411)][r(187)](null,[S[r(204)].moov,this[r(210)](i,n),this[r(430)](t)].concat(u)[r(365)](this[r(386)](t)))},E.mvex=function(t){for(var n=Oe,i=t[n(294)],r=[];i--;)r[i]=this[n(290)](t[i]);return S.box[n(187)](null,[S[n(204)].mvex].concat(r))},E[s]=function(t,n){var i=Oe,r=new I([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return S[i(411)](S[i(204)].mvhd,r)},E[o]=function(t){for(var n=Oe,i=t[n(446)]||[],r=new I(4+i.length),e=0;e<i.length;e++){var u=i[e][n(316)];r[e+4]=u[n(213)]<<4|u.isDependedOn<<2|u.hasRedundancy}return S.box(S.types.sdtp,r)},E[a]=function(t){var n=Oe;return S[n(411)](S.types[n(415)],this[n(402)](t),S.box(S.types[n(478)],S[n(443)]),S.box(S.types[n(200)],S[n(268)]),S[n(411)](S[n(204)][n(390)],S[n(348)]),S[n(411)](S[n(204)][n(267)],S[n(463)]))},E[c]=function(t){var n,i,r,e=Oe,u=[],s=[];for(n=0;n<t[e(259)][e(294)];n++)r=(i=t[e(259)][n])[e(442)],u.push(r>>>8&255),u[e(462)](255&r),u=u[e(365)](Array[e(381)].slice.call(i));for(n=0;n<t.pps.length;n++)r=(i=t.pps[n])[e(442)],s.push(r>>>8&255),s[e(462)](255&r),s=s[e(365)](Array[e(381)][e(293)][e(394)](i));var o=S[e(411)](S[e(204)].avcC,new I([1,u[3],u[4],u[5],255,224|t[e(259)][e(294)]][e(365)](u)[e(365)]([t[e(362)].length]).concat(s))),a=t[e(228)],c=t[e(396)],h=S[e(411)](S[e(204)][e(474)],S[e(411)](S.types[e(425)],new I([97,118,99,49])),S[e(411)](S[e(204)][e(342)],new I([0,0,0,0].concat(Ut(Ze(this[e(432)][e(366)].video[e(395)])),[0,1,0,0]))),S[e(411)](S[e(204)].schi,this[e(314)]("video")));return S[e(411)](S[e(204)][e(333)],new I([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,a>>>8&255,255&a,c>>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,65,86,67,32,67,111,100,105,110,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]),o,h)},E[h]=function(t){var n=Oe,i=t.config[n(442)],r=new I(26+i+3);return r[n(311)]([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5,i]),r[n(311)](t[n(366)],26),r[n(311)]([6,1,2],26+i),r},E[f]=function(t){var n=Oe,i=t.audiosamplerate;return S[n(411)](S[n(204)][n(296)],new I([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t[n(198)],0,16,0,0,0,0,i>>>8&255,255&i,0,0]),S[n(411)](S[n(204)][n(369)],this.esds(t)))},E.dOps=function(t){var n=Oe,i=t[n(357)];return new I([0,t[n(198)],1,56,0,0,i>>>8&255,255&i,0,0,0])},E[v]=function(t){var n=Oe,i=t[n(357)];return S[n(411)](S[n(204)].Opus,new I([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t[n(198)],0,16,0,0,0,0,i>>>8&255,255&i,0,0]),S[n(411)](S.types[n(305)],this[n(305)](t)))},E[l]=function(t){var n=Oe,i=S[n(411)](S[n(204)].dOps,this[n(305)](t)),r=S[n(411)](S[n(204)].sinf,S[n(411)](S[n(204)].frma,new I([79,112,117,115])),S[n(411)](S[n(204)][n(342)],new I([0,0,0,0].concat(Ut(Ze(this.drm[n(366)].audio[n(395)])),[0,1,0,0]))),S[n(411)](S[n(204)][n(332)],this[n(314)](n(451)))),e=t[n(357)];return S[n(411)](S[n(204)][n(468)],new I([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t[n(198)],0,16,0,0,0,0,e>>>8&255,255&e,0,0]),i,r)},E[d]=function(t){var n=Oe;return t[n(469)]===n(451)?S.box(S[n(204)][n(402)],S[n(320)],t[n(212)]?this[n(468)](t):this[n(264)](t)):S.box(S[n(204)][n(402)],S[n(320)],this.encv(t))},E[g]=function(t){var n=Oe,i=t.id,r=t[n(191)],e=t.width,u=t[n(396)],s=t[n(219)];return S[n(411)](S[n(204)][n(249)],new I([0,0,0,7,0,0,0,0,0,0,0,0,i>>>24,i>>>16&255,i>>>8&255,255&i,0,0,0,0,r>>>24,r>>>16&255,r>>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,255&s,s%1*10&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,e>>>8&255,255&e,0,0,u>>>8&255,255&u,0,0]))},E[m]=function(t,n){var i,r=Oe,e=t.id,u=t[r(446)][0][r(483)],s=t[r(446)][0][r(191)],o=t[r(446)][0].flags,a=S[r(411)](S[r(204)][r(488)],new I([0,2,0,58,e>>>24,e>>>16&255,e>>>8&255,255&e,0,0,0,1,s>>>24,e>>>16&255,s>>>8&255,255&s,u>>>24,u>>>16&255,u>>>8&255,255&u,0,o.isNonSync,0,0])),c=S[r(411)](S[r(204)][r(222)],new I([0,0,0,0,n>>>24,n>>>16&255,n>>>8&255,255&n]));if(t[r(212)]){var h,f;if(t[r(469)]===r(434)?(h=!0,f=this[r(199)][r(434)]+(null==(i=t[r(446)][0].sampleAuxInfo)?void 0:i.byteLength)):(h=!1,f=this[r(199)][r(451)]),f>0){var v=this[r(392)](f),l=this[r(363)](t[r(446)],h),d=v.length+20+l.length+a[r(294)]+c[r(294)]+8+16+8+8,g=this[r(324)](t,d);return S[r(411)](S[r(204)][r(231)],a,c,g,v,this[r(364)](d-l[r(294)]+g[r(294)]+8),l)}var m=this[r(363)](null,!1),w=m[r(294)]+a[r(294)]+c.length+8+16+8+8,p=this[r(324)](t,w);return S[r(411)](S[r(204)][r(231)],a,c,p,m)}return S.box(S.types.traf,a,c,this[r(324)](t,a[r(294)]+c[r(294)]+8+16+8+8))},E[w]=function(t){var n=Oe;return t[n(191)]=t[n(191)]||4294967295,S.box(S[n(204)][n(315)],this[n(249)](t),this[n(298)](t))},E.trex=function(t){var n=Oe,i=t.id;return S[n(411)](S[n(204)][n(290)],new I([0,0,0,0,i>>>24,i>>>16&255,i>>>8&255,255&i,0,0,0,1,0,0,0,16,0,0,0,0,0,0,0,0]))},E.trun=function(t,n){var i=Oe,r=(t.samples||[]).length,e=new I(12);return n+=20,e[i(311)]([0,0,0,1,r>>>24,r>>>16&255,r>>>8&255,255&r,n>>>24,n>>>16&255,n>>>8&255,255&n],0),S.box(S.types[i(324)],e)},E[p]=function(t,n){var i,r,e,u=Oe,s=u(373),o=u(257),a=function(t){var n=function(t){for(var n=Oe,i="",r=0;r<t.length;r+=16e3){var e=t[n(453)](r,r+16e3);i+=String[n(299)][n(187)](null,e)}return i}(je(t));return btoa(n)}((i=t,(e=[])[(r=Oe)(462)](i[3]),e[r(462)](i[2]),e[r(462)](i[1]),e[r(462)](i[0]),e.push(i[5]),e.push(i[4]),e.push(i[7]),e.push(i[6]),(i=je(i))[r(311)](e,0),i));return je(function(t,n){for(var i=Oe,r=new I(2*t.length),e=new DataView(r[i(492)]),u=0;u<t[i(294)];++u){var s=t[i(431)](u);e[i(221)](2*u,s,!0)}return r[i(492)]}([u(300)+o+u(422)+s+'">',"<DATA>",u(239),"<KIDS>",u(417),u(243)+a+'"',">",u(245),u(270),"</PROTECTINFO>",n?u(470)+n+u(409):"",u(428),u(289)][u(420)]("")))},E[y]=function(t){var n=Oe;if(this[n(432)][n(440)][n(328)]("com.widevine"))return S[n(411)](S[n(204)][n(430)],new I([0,0,0,0,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,0,0,18,18,16].concat(Ut(this[n(432)][n(366)][t[0][n(469)]][n(479)]))));if(this[n(432)].keySystem===n(421)){var i=this[n(192)](this[n(432)][n(366)][t[0].type][n(479)],this.drm.licenseUrl),r=i[n(442)];return S[n(411)](S[n(204)][n(430)],new I([0,0,0,0,154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149,r>>>24,r>>>16&255,r>>>8&255,255&r].concat(Ut(i))))}return this[n(432)][n(440)]===n(273)?S[n(411)](S[n(204)][n(430)],new I([1,0,0,0,16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75,0,0,0,1].concat(Ut(this.drm.config[t[0][n(469)]][n(479)]),[0,0,0,0]))):this[n(432)][n(440)]===n(286)?null:void console[n(370)](n(297)+this[n(432)].keySystem)},E[_]=function(t){var n,i,r=Oe,e=this[r(432)][r(366)][t];return"cbcs"===e.encryption?(n=new I([16].concat(Ut(e.iv))),i=25):(n=new I([]),i=0),S[r(411)](S[r(204)].tenc,new I([1,0,0,0,0,i,1,this[r(199)][t]].concat(Ut(e[r(479)]),Ut(n))))},E[b]=function(t){return S[Oe(411)](S.types.saiz,new I([0,0,0,0,t,0,0,0,1]))},E[k]=function(t){var n=Oe;return S[n(411)](S[n(204)][n(364)],new I([0,0,0,0,0,0,0,1,t>>>24,t>>>16&255,t>>>8&255,255&t]))},E[A]=function(t,n){var i=Oe,r=null;return t&&(1!==t[i(294)]&&console[i(370)](i(424)+t[i(294)]+i(413)),r=t[0][i(195)]),r&&r[i(442)]?S[i(411)](S[i(204)][i(363)],new I([0,0,0,n?2:0,0,0,0,1].concat(Ut(r)))):S[i(411)](S[i(204)][i(363)],new I([0,0,0,0,0,0,0,1]))},E[T]=function(t,n,i){var r=Oe,e=this[r(216)](t,n,i),u=new I(S[r(341)][r(442)]+e.byteLength);return u.set(S[r(341)]),u[r(311)](e,S[r(341)].byteLength),u},S[t]=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var e,u=Oe,s=8,o=i.length,a=o;o--;)i[o]&&(s+=i[o].byteLength);for((e=new I(s))[0]=s>>>24,e[1]=s>>>16&255,e[2]=s>>>8&255,e[3]=255&s,e[u(311)](t,4),o=0,s=8;o<a;++o)i[o]&&(e[u(311)](i[o],s),s+=i[o][u(442)]);return e},S}(Oe(411),Oe(246),Oe(298),Oe(429),Oe(265),Oe(460),Oe(210),Oe(356),Oe(415),Oe(333),Oe(369),Oe(296),Oe(264),Oe(468),Oe(402),Oe(249),Oe(231),Oe(315),Oe(192),Oe(430),Oe(314),Oe(392),Oe(364),Oe(363),Oe(271)),Ke=1,qe=function(t,n,i){function r(){this[Oe(283)]=1}var e=r.prototype;return e[n]=function(){var t=Oe;this[t(274)][t(215)]=0,this.mp4track[t(446)]=[]},e[i]=function(){var t=Oe;return!(!this.readyToDecode||!this[t(446)][t(294)])},r[t]=function(){return Ke++},r}(Oe(209),Oe(250),Oe(258)),Je=function(t){function n(n){var i,r=Oe;return(i=t.call(this)||this)[r(435)]=!0,i[r(223)]=0,i[r(237)]=0,i[r(274)]={id:qe[r(209)](),type:"audio",channelCount:2,audiosamplerate:48e3,len:0,fragmented:!0,timescale:n,duration:n,samples:[],codec:r(388),encrypted:!0},i[r(446)]=[],i}Rt(n,t);var i=n.prototype;return i.resetTrack=function(){var t=Oe;this[t(283)]=1,this[t(223)]=0,this[t(237)]=0},i[Oe(406)]=function(t,n,i){var r=Oe;if(t.length>0)for(var e=0;e<t[r(294)];e++){var u=t[e],s=u[r(276)],o=s[r(442)];this.samples.push({units:s,size:o,duration:u.duration,sampleAuxInfo:n,timestamp:i}),this[r(274)][r(215)]+=o}},i[Oe(248)]=function(){var t=Oe;if(!this[t(446)])return null;for(var n,i=this[t(274)][t(446)];this.samples[t(294)];){var r=this[t(446)][t(233)](),e=(1e3*r[t(385)]|0)-this.nextDts|0;e<5&&(e=5),this.dts=this.nextDts,this[t(223)]+=e,n={size:r.size,duration:e,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1},sampleAuxInfo:r[t(195)]};var u=new I(r.size);return u[t(311)](r.units,0),i.push(n),new I(u.buffer,0,r[t(483)])}return null},n}(qe),Qe=function(t){function n(n,i){var r,e=Oe;return(r=t.call(this)||this)[e(435)]=!1,r.nextDts=0,r[e(237)]=0,r[e(477)]=i,r.mp4track={id:qe[e(209)](),type:e(434),len:0,fragmented:!0,sps:"",pps:"",width:0,height:0,timescale:n,duration:n,samples:[],encrypted:!0},r[e(446)]=[],r[e(220)]=new He(r),r}Rt(n,t);var i=n.prototype;return i[Oe(426)]=function(){var t=Oe;this[t(283)]=1,this.readyToDecode=!1,this[t(274)].sps="",this[t(274)][t(362)]="",this[t(223)]=0,this[t(237)]=0},i[Oe(406)]=function(t,n,i){for(var r=Oe,e=0;e<t.length;e++){for(var u=t[e],s=[],o=0,a=0,c=u[r(276)];a<c.length;a++){var h=c[a];this.h264[r(368)](h)&&(s[r(462)](h),o+=h.getSize())}s[r(294)]>0&&this[r(435)]&&(this[r(274)][r(215)]+=o,this[r(446)][r(462)]({units:s,size:o,keyFrame:u.keyFrame,duration:u[r(191)],sampleAuxInfo:n,timestamp:i}))}},i[Oe(248)]=function(){var t=Oe;if(!this[t(258)]()||!this.samples)return null;var n,i=this[t(274)][t(446)],r=this.samples[t(233)](),e=r[t(276)],u=(1e3*r.timestamp|0)-this[t(223)]|0;u<5&&(u=5),f[t(251)]&&u>5e3&&console[t(383)]("timestamp gap: "+(u/1e3|0)+" s"),this[t(237)]=this[t(223)],this.nextDts+=u,n={size:r[t(483)],duration:u,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,isNonSync:r[t(275)]?0:1,dependsOn:r.keyFrame?2:1},sampleAuxInfo:r[t(195)]};for(var s=0,o=0;o<e.length;o++)s+=e[o][t(349)]();for(var a=0,c=new I(s),h=0;h<e.length;h++){var v=e[h];c[t(311)](v[t(343)](),a),a+=v[t(349)]()}return i[t(462)](n),new I(c[t(492)],0,s)},n}(qe),$e=function(t){function n(n,i){var r,e=Oe;return(r=t.call(this,e(345))||this).initialized=!1,r.trackTypes=[],r[e(414)]={},r[e(393)]=1e3,r.mediaDuration=0,r[e(477)]=n,r[e(375)]=i,r}Rt(n,t);var i=n.prototype;return i.addTrack=function(t){var n=Oe;(t===n(434)||"both"===t)&&(this[n(414)][n(434)]=new Qe(this[n(393)],this.videoElement),this[n(480)][n(462)](n(434))),(t===n(451)||t===n(303))&&(this[n(414)][n(451)]=new Je(this.timescale),this[n(480)][n(462)](n(451)))},i.reset=function(){for(var t=Oe,n=0,i=this[t(480)];n<i.length;n++){var r=i[n];this[t(414)][r][t(426)]()}this[t(489)]=!1},i[Oe(355)]=function(){var t=Oe;this[t(414)]={},this[t(490)]()},i[Oe(250)]=function(){var t=Oe;if(this[t(489)])for(var n=0,i=this[t(480)];n<i.length;n++)for(var r=i[n],e=this[t(414)][r];;){var u=e.getFramePayload();if(!u||!u[t(442)])break;var s={type:r,payload:Ve(this[t(375)][t(460)](e[t(283)]++,e[t(237)],e[t(274)]),this[t(375)][t(458)](u)),dts:e[t(237)]};this[t(255)](t(492),s),e[t(250)]()}else this[t(258)]()&&(this[t(255)](t(205)),this[t(271)](),this[t(489)]=!0,this[t(250)]())},i.initSegment=function(){for(var t=Oe,n=0,i=this[t(480)];n<i.length;n++){var r=i[n],e=this[t(414)][r],u={type:r,payload:this[t(375)][t(271)]([e[t(274)]],this[t(433)],this[t(393)])};this.dispatch(t(492),u)}},i.isReady=function(){for(var t=Oe,n=0,i=this.trackTypes;n<i.length;n++){var r=i[n];if(!this[t(414)][r][t(435)]||!this[t(414)][r].samples[t(294)])return!1}return!0},i[Oe(406)]=function(t){for(var n=Oe,i=0,r=this[n(480)];i<r.length;i++){var e=r[i],u=t[e];u.length>0&&this[n(414)][e][n(406)](u,e===n(451)?t[n(225)]:t.videoSampleAuxInfo,t[n(385)])}this.flush()},n}(ze),tu=function(t){function n(n,i,r){var e,u=Oe;return(e=t.call(this,u(492))||this)[u(469)]=i,e.queue=new I,f[u(319)]&&(e[u(254)]=new I,e[u(404)]=0),e.sourceBuffer=n,e[u(218)]=r,e[u(197)]=!1,e[u(310)].addEventListener(u(370),(function(t){var n=u;console.warn(n(201),t,e.type),e[n(197)]=!0,e[n(255)](n(370),{type:e[n(469)],name:"buffer",error:n(292)})})),e}Rt(n,t);var i=n.prototype;return i[Oe(355)]=function(){var t=Oe;this[t(401)]=null,this[t(254)]=null;try{this.sourceBuffer&&(this[t(310)][t(186)](),this[t(218)].removeSourceBuffer(this[t(310)]),this[t(310)]=null)}catch(t){}this.offAll()},i[Oe(475)]=function(){var t=Oe;if(this.queue[t(294)]&&this[t(310)]&&!this[t(310)].updating){if(this[t(310)].buffered[t(294)]>1){for(var n=0;n<this[t(310)].buffered[t(294)];++n){var i=n<this[t(310)].buffered[t(294)]-1;f[t(251)]&&console[t(383)](t(445)+n+(i?" (remove)":"")+": "+this[t(310)][t(269)][t(326)](n)+t(325)+this[t(310)][t(269)][t(376)](n)),i&&this.sourceBuffer[t(482)](this[t(310)][t(269)].start(n),this[t(310)].buffered[t(376)](n))}if(this.sourceBuffer[t(378)])return}try{this[t(310)][t(491)](this[t(401)]),this.queue=new I}catch(n){this[t(255)](t(370),{type:this[t(469)],name:t(352),error:n})}}},i[Oe(371)]=function(t){var n=Oe;if(this[n(254)]&&(this.dbgQueue=Ve(this[n(254)],t),100==++this[n(404)])){var i=(new Date)[n(344)]().substring(0,19)[n(454)](":","-"),r=this.type+"-"+i+".mp4";f.downloadToFile(this[n(254)],r),this[n(254)]=null}this[n(197)]||(this[n(401)]=Ve(this[n(401)],t)),this.doAppend()},n}(ze),nu=function(t){function n(n){var i,r=Oe;return(i=t.call(this,r(397))||this)[r(197)]=!1,i[r(410)]=!0,i[r(466)]=!1,i[r(234)]=!1,i.mseEnded=!1,i[r(379)]=k[r(189)]({},{node:"",mode:"video",debug:!1,onReady:function(){},onError:function(t){}},n),i[r(450)]=W(i.options[r(450)])===r(302)?v[r(472)](i.options.node):i[r(379)].node,i[r(432)]=n.drm,i.mp4=new Ye(i.drm),i[r(423)]=new $e(i.node,i[r(375)]),i[r(423)].addTrack(i[r(379)][r(461)]),i[r(423)].on(r(492),i[r(456)].bind(i)),i[r(423)].on(r(205),i[r(382)][r(308)](i)),i.initBrowser(),i}Rt(n,t);var i=n.prototype;return i[Oe(322)]=function(){var t=Oe;W(this.options.node)===t(302)&&""==this.options[t(450)]&&console[t(370)](t(473)),this[t(234)]=!1,this.setupMSE()},i.setupMSE=function(){var t=Oe;if(!f[t(202)]&&!f[t(384)])throw t(452);f.ManagedMediaSource?(this.node[t(427)]=!0,this[t(327)]=new ManagedMediaSource):this[t(327)]=new MediaSource,this[t(284)]=URL[t(244)](this[t(327)]),this.node[t(485)]=this[t(284)],this[t(277)]=!1,this[t(327)][t(331)](t(338),this.onMSEOpen[t(308)](this)),this.mediaSource.addEventListener("sourceclose",this[t(241)][t(308)](this)),this[t(327)][t(331)]("webkitsourceopen",this[t(194)][t(308)](this)),this.mediaSource[t(331)](t(240),this[t(241)].bind(this)),this[t(327)][t(331)]("error",(function(n){var i=t;console[i(370)](i(287),n[i(226)])}))},i[Oe(227)]=function(){var t=Oe;if(!this[t(277)])try{this.mseEnded=!0,this[t(327)][t(185)]===t(399)&&this[t(327)][t(261)]()}catch(n){console[t(370)]("mediasource is not available to end: ",n)}},i[Oe(359)]=function(){this[Oe(410)]=!0},i[Oe(371)]=function(t){var n=Oe,i={video:[],audio:[]};if(this[n(197)]||this[n(277)]||!t||!this[n(423)])return-1;if(t[n(434)]){i.timestamp=t.timestamp;var r=this[n(190)](t.videoSampleAuxInfo,this.mp4[n(199)][n(434)]),e=r!=t[n(434)][n(442)],u=He[n(360)](t[n(434)],e);if(!u[n(206)]||u[n(260)].length<1)return 0;if(this.waitingForIdr){if(!u[n(412)])return 0;this[n(410)]=!1}if(!Fe&&t[n(278)]){var s=u[n(260)][n(188)]((function(t,i){return t+4+i[n(442)]}),0);s!==r&&this[n(400)](t[n(278)],this.mp4[n(199)][n(434)],s-r)}i[n(434)]=this[n(335)](u[n(260)]),i[n(278)]=t[n(278)]}return t[n(451)]&&(i[n(385)]=t[n(385)],i[n(451)]=[{units:t.audio}],i.audioSampleAuxInfo=t[n(225)]),t[n(434)]||t[n(451)]?(this[n(423)][n(406)](i),0):(console.error(n(361)),0)},i[Oe(335)]=function(t){for(var n=Oe,i=[],r=[],e=!1,u=!1,s=0;s<t.length;s++){var o=t[s],a=new Xe(o);a.type()!==Xe.IDR&&a[n(469)]()!==Xe.NDR||He[n(448)](a),i[n(294)]&&u&&(a[n(387)]||!a[n(495)])&&(r[n(462)]({units:i,keyFrame:e}),i=[],e=!1,u=!1),i[n(462)](a),e=e||a[n(459)](),u=u||a[n(495)]}if(i[n(294)])if(u)r[n(462)]({units:i,keyFrame:e});else{var c=r[n(294)]-1;c>=0&&(r[c].units=r[c][n(276)].concat(i))}return 1!==r[n(294)]&&console[n(230)](n(207)+r[n(294)]),r},i[Oe(190)]=function(t,n){var i=Oe;if(!t)return 0;for(var r=(t[0]<<8)+t[1],e=n+2+4,u=0,s=2;0<r&&s+e<=t[i(442)];){var o=(t[s+=n]<<8)+t[s+1],a=(t[s+2]<<24)+(t[s+3]<<16)+(t[s+4]<<8)+t[s+5];s+=6,u+=o+a}return u},i.patchSampleAuxinfo=function(t,n,i){var r=Oe,e=2;if(0<(t[0]<<8)+t[1]&&e+(n+2+4)<=t[r(442)]){var u=(t[e+=n]<<8)+t[e+1];(u+=i)>=0&&(t[e]=u>>>8&255,t[e+1]=255&u)}return 0},i[Oe(382)]=function(){var t=Oe;if(this[t(234)]&&this[t(423)]&&this[t(423)].isReady()&&!this.bufferControllers)for(var i in this.bufferControllers={},this[t(423)][t(414)]){var r=this[t(423)][t(414)][i],e="".concat(i,t(317))[t(365)](r[t(274)][t(449)],'"');if(f.clRtcDrmDebugLog&&console[t(383)](t(312),e),!n[t(408)](e))return console[t(370)](t(372)),!1;var u=this[t(327)][t(350)](e);this[t(398)][i]=new tu(u,i,this[t(327)]),this.bufferControllers[i].on(t(370),this[t(403)][t(308)](this))}},i[Oe(313)]=function(){var t=Oe;for(var n in this[t(398)])this[t(398)][n].doAppend()},i.onBuffer=function(t){var n=Oe;this[n(234)]&&this[n(398)]&&this[n(398)][t.type]&&this[n(398)][t[n(469)]][n(371)](t[n(214)])},i[Oe(194)]=function(){var t=Oe;f[t(251)]&&console.info("[MSE] sourceopen"),this[t(327)][t(185)]!==t(281)&&(this.mediaSource.duration=Number[t(391)],this[t(234)]=!0,"function"==typeof this[t(379)][t(336)]&&this[t(379)].onReady[t(394)](null,this[t(466)]),URL[t(235)](this.url),this[t(382)]())},i[Oe(241)]=function(){var t=Oe;f.clRtcDrmDebugLog&&console[t(383)](t(441)),this.mseReady=!1,this[t(227)]()},i[Oe(403)]=function(t){var n=Oe;console.warn(n(351),t),this.irrecoverableError=!0,this[n(227)](),"function"==typeof this[n(379)][n(266)]&&this[n(379)][n(266)][n(394)](null,t)},n.isSupported=function(t){var n=Oe;return f[n(202)]?f.ManagedMediaSource[n(497)](t):!!f[n(384)]&&f.MediaSource[n(497)](t)},n}(ze);function iu(t,n){var i=ru();return(iu=function(t,n){return i[t-=222]})(t,n)}function ru(){var t=["Sv","1634635aeNfVS","4rWkceo","1051qHPzyB","314juHkBI","7752096GfpyFE","1023208nKrJjX","2137269uUqtNM","303058KNxeBb","1097196nHglzA"];return(ru=function(){return t})()}!function(){for(var t=iu,n=ru();;)try{if(T(t(228))/1*(-T(t(229))/2)+-T(t(222))/3*(T(t(227))/4)+T(t(226))/5+T(t(224))/6+T(t(223))/7+-T(t(231))/8+T(t(230))/9==409100)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var eu=uu;function uu(t,n){var i=cu();return(uu=function(t,n){return i[t-=460]})(t,n)}!function(){for(var t=uu,n=cu();;)try{if(-T(t(471))/1*(-T(t(474))/2)+T(t(479))/3+T(t(473))/4*(T(t(461))/5)+T(t(487))/6+-T(t(467))/7+-T(t(482))/8+-T(t(464))/9==139726)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var su="CrsCCAMSEKDc0WAwLAQT1SB2ogyBJEwYv4Tx7gUijgIwggEKAoIBAQC8Xc/GTRwZDtlnBThq8"+eu(462)+"wyoYOE+M/t1oIbccwlTQ7o+BpV1X6TB7fxFyx1jsBtRsBWphU65w121zqmSiwzZzJ4xsXVQCJ"+eu(460)+eu(476)+eu(480)+eu(484)+eu(485)+"7hyskG5ZLAyJMzTvgnV3D8/I5Y6mCFBPb/+/Ri+9bEvquPF3Ff9ip3yEHu9mcQeEYCeGe9zR/27eI5MATX39gYtCnn7dDXVxo4/rCYK0A4VemC3HRai2X3pSGcsKY7+6we7h4IycjqtuGtYg8A"+eu(475)+"RL9KsD0v7ysBQVdUXEbJotcFz71tI5qc3jwr6GjYIPA3VzusD17PN6AGQniMwxJV12z/EgnUo"+eu(477),ou=I[eu(478)](f[eu(470)](su),(function(t){return t.charCodeAt(0)})),au=function(){function t(t){this[eu(488)]=t}var n=t.prototype;return n[eu(469)]=function(){return this[eu(488)]},n[eu(483)]=function(){var t=eu;switch(this[t(488)]){case t(489):return"https://lic.staging.drmtoday.com";case t(465):return t(481);default:return t(466)}},n.certificate=function(){return ou},t}();function cu(){var t=["development","https://lic.drmtoday.com","462553oMrSQp","Staging","toString","atob","20047HjYCpd","Development","52chMPdC","6mbMcSk","baigovcoURAZcr1d/G0rpREjLdVLG0Gjqk63Gx688W5gh3TKemsK3R1jV0dOfj3e6uV/kTpsN","+vwmV2/NJWxKqHBKdL9JqvOnNiQUF0hDI7Wf8Wb63RYSXKE27Ky31hKgx1wuq7TTWkA+kHnJT","pcFB13osydpD2AaDsgWo5RWJcNf+fzCgtUQx/0Au9+xVm5LQBdv8Ja4f2oiHN3dw","from","146355HhTpSB","UrTEfQxfPR4dJTquE+IDLAi5yeVVxzbAgMBAAE6DGNhc3RsYWJzLmNvbUABEoADMmGXpXg/0q","https://lic.test.drmtoday.com","501688OkVRMl","baseUrl","xUuwokpsqVIHZrJfu62ar+BF8UVUKdK5oYQoiTZd9OzK3kr29kqGGk3lSgM0/p499p/FUL8oH","HzgsJ7Hajdsyzn0Vs3+VysAgaJAkXZ+k+N6Ka0WBiZlCtcunVJDiHQbz1sF9GvcePUUi2fM/h","Production","1063410zFUyaf","name","staging","pQnNI61gzHO42XZOMuxytMm0F6puNHTTqhyY3Z290YqvSDdOB+UY5QJuXJgjhvOUD9+oaLlvT","93365ZJpndd","V382D1oJAM0F/YgCQtNDLz7vTWJ+QskNGi5Dd2qzO4s48Cnx5BLvL4H0xCRSw2Ed6ekHSdrRU","production","2343546YgIYCY"];return(cu=function(){return t})()}function hu(t,n){var i=fu();return(hu=function(t,n){return i[t-=325]})(t,n)}function fu(){var t=["1052499bnJBHn","cenc","4222tSxFth","Unsupported SampleAuxInfo version","12980Tusgux","3160ZwXFcU","40030ewyARR","16lkTHRT","1199124lbwxEr","data","105TSrukA","getUint8","12bBEpge","SampleAuxInfo corrupted (postfix not found)","getUint16","error","85265ZYYyUv","buffer","3616548TKdsLX","subarray","byteLength","SampleAuxInfo corrupted"];return(fu=function(){return t})()}function vu(t,n){var i=mu();return(vu=function(t,n){return i[t-=295]})(t,n)}au[eu(468)]=new au(eu(489)),au[eu(486)]=new au(eu(463)),au[eu(472)]=new au(eu(465)),function(){for(var t=hu,n=fu();;)try{if(T(t(328))/1+-T(t(332))/2*(-T(t(336))/3)+-T(t(338))/4*(-T(t(342))/5)+-T(t(344))/6+-T(t(326))/7*(T(t(333))/8)+T(t(334))/9+T(t(331))/10*(T(t(330))/11)==358550)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(),function(){for(var t=vu,n=mu();;)try{if(T(t(305))/1*(-T(t(297))/2)+-T(t(295))/3+T(t(310))/4*(T(t(309))/5)+-T(t(304))/6*(T(t(296))/7)+T(t(307))/8*(-T(t(298))/9)+-T(t(301))/10*(T(t(302))/11)+-T(t(300))/12*(-T(t(308))/13)==178039)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var lu=[],du=null,gu=0;function mu(){var t=["31476hbBsvr","850RxzAPl","4180KczaCN","push","156MUFuvQ","96571jvhWaB","buffer","26232BkewNd","4303YGAqiP","5yhGpFn","1137036pzCnTd","1035942NcoZLh","94073eTaQjy","2bXtEms","414snfiTE","slice"];return(mu=function(){return t})()}var wu=ku;function pu(){var t=["Data does not seem to be UTF-16 encoded!","No init data available!","getElementsByTagName","min","14BFNrBA","keystatuseschange","catch","childNodes","internal-error","Failed to reuse previous EME session: ","output-downscaled","expired","bind","5576688EKOFOG","has","length","License acquisition failed with error ","arrayBuffer","apply","CDM error generating license request: ","<Challenge","No PR challenge data!","then","license","createSession","warn","[PR] License fetched:","text/xml","clRtcDrmDebugLog","push","encode","max","json"," is not ","replace","target","rtcdrmerror","update","fromCharCode","subarray","2993694njpqat","4002692oINhTV","Content-Type","1347492MkzfDC","Data has an incorrect length, must be even.","addEventListener","buffer","onFetch","generateRequest","initData","dispatchEvent","atob","No clear key test key provided!","Challenge","New lic will be requested","oct","BYTES_PER_ELEMENT","sessionId","usable for decryption (status: ","[WV] License fetched:","Key ","5MtuOVr","byteLength","744563CKOUzg","load","floor","error","decode","indexOf","info","isSafari","edef8ba979d64acea3c827dcd51d21ed","mediaKeys","Previous lic will be reused","charCodeAt","licenseUrl","status","Failed to update the session: ","log","keyStatuses","temporary","9a04f07998404286ab92e65be0885f95","output-restricted","nodeValue","btoa","message","EME createSession() failed - no DRM available","5977680uUTwUr","getUint16","[PR] Challenge node not found","A128KW","3974463jrELhf","Failed to update the session","stringify","[EME]","delete","No media keys for media element!","set","2nMQfRz"];return(pu=function(){return t})()}!function(){for(var t=ku,n=pu();;)try{if(-T(t(419))/1*(T(t(454))/2)+T(t(495))/3+T(t(496))/4*(-T(t(417))/5)+-T(t(498))/6*(-T(t(459))/7)+T(t(468))/8+-T(t(447))/9+T(t(443))/10==555073)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var yu={licenseUrl:"",onFetch:void 0},_u={},bu=function(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=1/0),function(t,n,i){var r=ku,e=I[r(511)];n*=e,i*=e;var u,s=(u=t)instanceof ArrayBuffer?u:u[ku(501)],o=t[r(418)],a=n,c=A[r(486)](0,A[r(458)](a,o)),h=A[r(458)](c+A[r(486)](i,0),o);return new I(s,c/=e,(h/=e)-c)}(t,n,i)};function ku(t,n){var i=pu();return(ku=function(t,n){return i[t-=417]})(t,n)}var Au=function(t){for(var n=ku,i="",r=0;r<t.length;r++){var e=t[r].toString(16);1==e[n(470)]&&(e="0"+e),i+=e}return i},Tu=null,Su=function(t){var n=ku;return f[n(440)](String[n(493)][n(473)](null,t))[n(489)](/\+/g,"-")[n(489)](/\//g,"_")[n(489)](/=*$/,"")},Eu=function(t,n){var i=ku,r=function(t){var n=ku,i=JSON.parse((new TextDecoder)[n(423)](t));if(console[n(434)]("CK license request:",i),null===Tu)throw new y(n(507));for(var r=[],e=0,u=i.kids;e<u.length;e++){var s=u[e],o={kty:n(510),alg:n(446),kid:s,k:Su(Tu)};r[n(484)](o)}return(new TextEncoder)[n(485)](JSON[n(449)]({keys:r}))}(n.message);n[i(490)][i(492)](r)[i(461)]((function(t){var n=i;console[n(422)](n(448),t)}))},Iu=function(t){for(var n=ku,i=f[n(506)](t[n(489)](/-/g,"+")[n(489)](/_/g,"/")),r=new I(i[n(470)]),e=0;e<i.length;++e)r[e]=i[n(430)](e);return r},Ru=function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];return ke(void 0,[t,n].concat(Ut(r)),void 0,(function(t,n,i){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return void 0===i&&(i=!1),r=ku,e=new Headers(_u),i&&e.append(r(497),r(482)),u={method:"POST",headers:e,body:n},[4,yu[r(502)]?yu[r(502)](t,u):fetch(t,u)];case 1:if(!(s=o.sent()).ok)throw new y(r(471)+s[r(432)]);return[2,s]}}))}))},Cu=function(t,n){var i=ku;Ru(yu[i(431)],n[i(441)])[i(477)]((function(t){return t[i(487)]()}))[i(477)]((function(t){var r=i;f[r(483)]&&console.info(r(514),t.license);var e=Iu(t[r(478)])[r(501)];n[r(490)][r(492)](e)[r(461)]((function(t){console[r(422)]("Failed to update the session",t)}))}))[i(461)]((function(n){var r=i;t.dispatchEvent(new CustomEvent(r(491),{detail:{message:""+n}})),console[r(422)](n)}))},Nu=function(t,n){var i=ku,r=function(t,n){var i=ku,r=new DOMParser;try{var e=function(t,n,i){void 0===i&&(i=!1);var r=ku;if(!t)return"";var e=t;if(!i&&e.byteLength%2!=0)throw console[r(422)](r(499)),new y(r(455));var u,s=bu(e);if((255===s[0]&&254===s[1]||254===s[0]&&255===s[1])&&(e=s[r(494)](2)),e instanceof ArrayBuffer)u=e;else{var o=new I(e[r(418)]);o[r(453)](bu(e)),u=o[r(501)]}for(var a=A[r(421)](e.byteLength/2),c=new Uint16Array(a),h=new DataView(u),f=0;f<a;f++)c[f]=h[r(444)](2*f,n);return function(t){for(var n=ku,i="",r=0;r<t[n(470)];r+=16e3){var e=t[n(494)](r,r+16e3);i+=String[n(493)].apply(null,e)}return i}(c)}(n,!0);if(e[i(424)](i(475))>-1){var u=r.parseFromString(e,i(482))[i(457)](i(508))[0][i(462)][0][i(439)];if(null===u)throw new y("No PR challenge data!");return Iu(u)}console[i(480)](i(445))}catch(n){t.dispatchEvent(new CustomEvent(i(491),{detail:{message:""+n}})),console.error(n)}return null}(t,n.message);if(null===r)return t[i(505)](new CustomEvent("rtcdrmerror",{detail:{message:"No PR challenge data!"}})),void console.error(i(476));Ru(yu[i(431)],r[i(501)],!0)[i(477)]((function(t){return t[i(472)]()}))[i(477)]((function(r){var e=i;f[e(483)]&&console[e(425)](e(481),r),n[e(490)].update(r)[e(461)]((function(n){var i=e;t[i(505)](new CustomEvent(i(491),{detail:{message:i(433)+n}})),console[i(422)](i(448),n)}))}))[i(461)]((function(n){var r=i;t.dispatchEvent(new CustomEvent("rtcdrmerror",{detail:{message:""+n}})),console[r(422)](n)}))},xu=function(t,n){var i=ku;Ru(yu[i(431)],n[i(441)])[i(477)]((function(t){var n=i,r=t.text();return f[n(483)]&&console.info("[FPS] License fetched:",t,r),r}))[i(477)]((function(t){var r=i;n[r(490)][r(492)](Iu(t))}))[i(461)]((function(n){var r=i;t.dispatchEvent(new CustomEvent(r(491),{detail:{message:""+n}})),console[r(422)](n)}))},Du=function(t,n){_u[t]=n},Pu=Be[wu(426)],Mu=!Pu,Bu=new Map;function Ou(t){return ke(this,void 0,void 0,(function(){var n,i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(null===t[(n=ku)(504)])throw new y(n(456));if(null===(i=t[n(490)]))throw new y("No media element available!");if(null===(r=i[n(428)]))throw new y(n(452));e=Au(new I(t[n(504)])),u=e+i.id,s=null,Bu[n(469)](u)&&(null!=(s=Bu.get(u))&&s.close(),Bu[n(451)](u)),f[n(483)]&&console[n(425)](n(450),n(s?429:509)),o=null;try{o=r[n(479)](Mu?"persistent-license":"temporary")}catch(t){console[n(434)]("EME createSession(persistent) failed:",t)}if(!o&&Mu){Mu=!1;try{o=r[n(479)](n(436))}catch(t){console[n(422)]("EME createSession(temporary) failed:",t)}}if(!o)return[3,7];if(o[n(500)](n(460),(function(t){var r=n;t[r(490)][r(435)].forEach((function(t,n){var e=r;(t===e(466)||t===e(438)||t===e(465)||t===e(463))&&i[e(505)](new CustomEvent(e(491),{detail:{message:e(515)+Au(new I(n))+e(488)+(e(513)+t+")"),keyId:n}}))}))})),Pu?o.addEventListener(n(441),xu[n(467)](null,i),!1):-1!==e[n(424)](n(427))?o.addEventListener(n(441),Cu[n(467)](null,i),!1):-1!==e[n(424)](n(437))?o[n(500)](n(441),Nu[n(467)](null,i),!1):o.addEventListener("message",Eu[n(467)](null,i),!1),!s)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,o[n(420)](s[n(512)])];case 2:return c.sent()?Bu[n(453)](u,o):i.dispatchEvent(new CustomEvent(n(491),{detail:{message:"Failed to load previous EME session"}})),[3,4];case 3:return a=c.sent(),i[n(505)](new CustomEvent(n(491),{detail:{message:n(464)+a}})),[3,4];case 4:return[3,6];case 5:o[n(503)](t.initDataType,t[n(504)]).then((function(){Mu&&Bu[n(453)](u,o)}))[n(461)]((function(t){var r=n;i[r(505)](new CustomEvent(r(491),{detail:{message:r(474)+t}}))})),c.label=6;case 6:return[3,8];case 7:i[n(505)](new CustomEvent(n(491),{detail:{message:n(442)}})),c.label=8;case 8:return[2]}}))}))}var Lu=us;function Fu(){var t=[" too close to seek, ","fpsCertificateUrl","9880640TWxZrg","H264","ignoreAudio","Unable to create Worker!","createMediaKeys(",", restart required: ","/license-proxy-headerauth/drmtoday/RightsManager.asmx","6236Nwzlef","worker","serverCertificateUrl","serverCertificate","seq",",255]).buffer,idrFrames.push(new Uint8Array([0,0,0,1,39,100,0,13,172,87,5,6,100,0,0,0,1,40,238,60,176,0,0,0,1,37,","ClearKey","No valid DRM config found, call rtcDrmConfigure first.","sessionId","toISOString","indexOf","robustness","isInteger","info","includes","Development","slice","16niaptx"," frame","video/mp4","isArray","Android","end","PlayReady","streamType","1772WtcYWF","]: ","Frame gap: ","nextKeyFrameAllowedTime","use rtcDrmFeedFrame to push frames manually","Error recovery attempted","merchant","FairPlay","requestMediaKeySystemAccess(","pipeThrough","/license-server-fairplay/","isChrome","type","MSE (re)init","const DUMMY_IDR_FRAME_SLICE_HDR0=new Uint8Array([32,0,203]),DUMMY_IDR_FRAME_SLICE_HDR1=new Uint8Array([16,0,50]);","DRM config env value must be one of: ","length","GOP is getting too long, requesting a new key frame","Worker","let brokenFrame=null,idrFrames=[];function initializeDummyFrames(){brokenFrame=new Uint8Array([0,0,0,1,65,154,255","srcObject","RTCRtpScriptTransform","),idrFrames.push(idrFrames[0].slice());let $=new Uint8Array(idrFrames[1]);$.set([16,0,50],27)}let idrPicIdToggle=","now"," to ","join","setServerCertificate","audioCapabilities","lastKeyFrameTime","prevSeqNum"," seeking from ",".experiment","clRtcDrmDebugLog","Server certificate fetch failed with error ","isFirefox","org.w3.clearkey","x-dt-custom-data","jitterBufferTarget","playbackRate","enabled","keyFrameNeeded","createEncodedStreams","wvCertificateUrl","key","sai","Discarding corrupted video frame (too small)",'gle^=1]}function audioTransformFunction($,e){postMessage({streamType:"audio",frame:{timestamp:$.timestamp,data:$.',"H264 is the only supported video codec.","com.microsoft.playready.recommendation"," will be used","DRM config iv must be an instance of 16-byte long Uint8Array.","encryption","0;function generateDummyFrame($){return(brokenFrame||initializeDummyFrames(),$)?brokenFrame:idrFrames[idrPicIdTog","toString","message","status","bytesSinceKey","currentTime","supportsRtpScriptTransform","1585647fRskxG","audioElement","track","sinf","createObjectURL","enqueue","Invalid videoElement, it must be an instance of HTMLVideoElement.","7302558TqFWae","pipeTo","SampleAuxInfo extraction failed (video)","isEdge","keys","not-allowed","rtcdrmerror","btoa","?audioTransformFunction:videoTransformFunction});e.pipeThrough(a).pipeTo(x)}self.RTCTransformEvent&&(self.onrtctr",", a1d1f1 is recommended).","reportDiscontinuity","onFetch","keyId","sessionTypes","). Edge only supports PlayReady, Widevine and ClearKey.","audioEncrypted","audioStartTimestamp","frame","videoStartTimestamp","184,32,0,203,255,38,29,217,24,192,161,96,0,0,12,229,174,166,6,7,20,3,84,0,247,96,193,181,229,128,0,32,32]).buffer","Duplicate/reordered frame, prev seq: ","ClearKey is not supported by Safari.","bind",") not found in [","DRM config robustness can only be one of: ","persistent-license","postMessage","receiver","get","both","jmuxer","Production","Blob","timestamp","cenc","emeConfig","clear","cbcs-1-9","5iKPdqC","isWindows","PlayReady license acquisition might fail without output protection enabled (sessionId is ","). Chrome only supports Widevine and ClearKey.","mediaBufferMs should be an integer.","size","certificate","prLicenseUrl","fpsLicenseUrl","/license-proxy-widevine/cenc/","4572770OAoUlm","BYTES_PER_ELEMENT","then","SW_SECURE_CRYPTO","ansform=$=>{let e=$.transformer;handleTransform(e.options.operation,e.readable,e.writable)}),onmessage=$=>{keyFra","splice","Safari doesn't support 'cenc'/AES-CTR, use 'cbcs' instead if possible.","videoElement","rtcDrmConfigure did not specify audioElement, audio will be dropped",'audio/mp4; codecs="opus"',"object","Invalid audioElement, it must be an instance of HTMLMediaElement.","keyFrameNeededPosted","debugCreateMediaDump","next","play","6591266VeIbXo","userId","jitterBufferDelayHint",'ame(keyFrameNeeded),e.enqueue($)}function handleTransform($,e,x){let a=new TransformStream({transform:"audio"===$',"dispatchEvent","reduce"," bytes, playback at ","offset","arrayBuffer","waitingForIdr","Widevine","DRM config mediaBufferMs should be an integer.","hwSecurity","authToken","audio"," bytes)","push","licenseUrl","Default transform mode enabled, ","RTCRtpScriptTransform/TransformStream will not be created, ","GET","baseUrl","video","trim","7377TdQrIK","3000","playoutDelayHint","catch","fpsCertificate","POSITIVE_INFINITY","/license-server-fairplay/cert/","DRM config:","streams","mediaBufferMs","log","codec","onmessage","Target video element (","Applying pre-configured certificate (","webkitURL","Discarding corrupted video frame (no Annex B startcode)"," requesting a new key frame (latency ","PlayReady might not support '","No target media element!","URL","set","warn","data","config","isSafari","forEach","setMediaKeys","buffered"," - ","keySystem",'data}}),e.enqueue($)}let keyFrameNeeded=!1;function videoTransformFunction($,e){postMessage({streamType:"video",f',"paused","wvCertificate","a1d1f1","2000","keyFrameRequestInterval","Several DRM configs detected, rtcDrmOnTrack have to be called with target DRM config.","error","238HZxcdH","HW_SECURE_ALL","Invalid DRM type (","buffer","x-dt-auth-token","clRtcDrmCreateMediaDump",'rame:{type:$.type,timestamp:$.timestamp,data:$.data}}),"key"===$.type&&(keyFrameNeeded=!1),$.data=generateDummyFr',"addEventListener",") failed","keyFrameLogCntr","feed","byteLength","kind","purchase","environment","videoCapabilities","requestMediaKeySystemAccess","temporary","). It has to be a string containing a JWT.","value",".. ","string"];return(Fu=function(){return t})()}!function(){for(var t=us,n=Fu();;)try{if(T(t(543))/1*(T(t(512))/2)+T(t(473))/3*(T(t(568))/4)+-T(t(672))/5*(-T(t(634))/6)+-T(t(536))/7+T(t(560))/8*(T(t(627))/9)+-T(t(682))/10+-T(t(449))/11==932877)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Vu=Be[Lu(626)],Uu=Be[Lu(602)],Wu=Be[Lu(498)],ju=Be[Lu(637)],Zu=Be[Lu(579)],Xu=Be.platform,Gu=Be[Lu(673)],Hu=ju||Zu&&Xu===Lu(564),zu=1e6*(Uu?82:Wu?220:120),Yu=Uu?5e3:2e3,Ku=Uu?1.5:.5;function qu(t){var n=Lu;return(void 0===t?"undefined":W(t))!==n(692)||null===t||t instanceof Element||t instanceof au?t:function(t){var n=Lu;return!!((null==t?void 0:t[n(515)])instanceof ArrayBuffer&&null!=t&&t[n(683)])}(t)?t[n(559)]():Array[n(563)](t)?t[n(454)]((function(t,n,i){return t[i]=qu(n),t}),[]):t instanceof k?k[n(638)](t)[n(454)]((function(n,i){return n[i]=qu(t[i]),n}),{}):t}var Ju=function(t){var n=Lu;this[n(545)]="",this.licenseUrl="",this[n(503)]="",this[n(669)]=[],this[n(497)]=qu(t),this[n(664)]=null,this[n(521)]=0,this[n(571)]=Date.now(),this.videoStartTimestamp=0,this.audioStartTimestamp=0,this.prevSeqNum=-1,this[n(596)]=0,this[n(624)]=0,this.keyFrameNeeded=!0,this.keyFrameNeededPosted=!1,this.keyFrameRequestInterval=Yu,this.worker=null},Qu=new Map,$u=new I([60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60]),ts=new I([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1]),ns=new I([213,251,214,184,46,217,62,78,249,138,228,9,49,238,51,183]);function is(t){var n=Lu,i=!1;if((t[n(497)].video&&"clear"!==t[n(497)].video[n(619)]&&"HW"===t.config[n(471)][n(554)]||t[n(497)][n(463)]&&t[n(497)][n(463)].encryption!==n(670)&&"HW"===t[n(497)][n(463)][n(554)])&&(i=!0),t.hwSecurity=i,function(t,n){var i=Lu;void 0!==n&&(t[i(497)][i(482)]=n),(void 0===t[i(497)][i(482)]||t[i(497)].mediaBufferMs<0)&&(t.config[i(482)]=100,Uu?t[i(497)][i(482)]=350:!Wu&&Gu&&(t[i(497)][i(580)]===i(566)||t[i(461)])&&(t[i(497)][i(482)]=1400))}(t,t[n(497)][n(482)]),void 0===t.config.authToken){void 0===t.config[n(450)]&&(t[n(497)][n(450)]=n(525)),void 0===t[n(497)][n(551)]&&(t.config[n(551)]=n(507));var r=f[n(641)](JSON.stringify({userId:t.config[n(450)],sessionId:t[n(497)][n(551)],merchant:t.config[n(574)]}));Du(n(604),r)}else Du(n(516),t.config[n(462)]);for(var e=0,u=[t[n(497)].audio,t[n(497)][n(471)]];e<u.length;e++){var s=u[e];s&&s[n(619)]!==n(670)&&(s[n(646)]||(s[n(646)]=ts),s.iv||(s.iv=ns))}t[n(546)]=void 0,t[n(545)]="",t[n(466)]="";var o,a=t.config[n(526)][n(470)]();if(t[n(497)][n(580)]===n(549)?(t.keySystem=n(603),Tu=$u):t.config.type===n(459)?(t[n(503)]="com.widevine.alpha",Gu&&i&&(t[n(503)]+=n(599)),t.config.wvCertificate?t[n(546)]=t[n(497)][n(506)]:t[n(497)][n(610)]?t[n(545)]=t[n(497)][n(610)]:t[n(546)]=t.config[n(526)][n(678)](),t.config.wvLicenseUrl?t[n(466)]=t[n(497)].wvLicenseUrl:t[n(466)]=a+n(681)):t[n(497)][n(580)]===n(566)?(t[n(503)]=n(616),t[n(497)][n(679)]?t.licenseUrl=t[n(497)][n(679)]:t[n(466)]=a+n(542)):t[n(497)].type===n(575)&&(t.keySystem="com.apple.fps",t.config[n(477)]?t[n(546)]=t[n(497)][n(477)]:t[n(497)][n(535)]?t.serverCertificateUrl=t.config[n(535)]:t[n(545)]=a+n(479)+t[n(497)].merchant,t[n(497)][n(680)]?t[n(466)]=t.config.fpsLicenseUrl:t.licenseUrl=a+n(578)),o={licenseUrl:t[n(466)],onFetch:t.config[n(645)]},yu=o,t[n(669)]=[],t.config[n(580)]!==n(575)){t[n(669)][n(465)]({initDataTypes:[n(668)],sessionTypes:["persistent-license",n(529)]});for(var c=0,h=[t[n(497)][n(471)],t[n(497)][n(463)]];c<h.length;c++){var v=h[c];if(v&&v.encryption!==n(670)){var l=v==t[n(497)][n(471)]?n(471):n(463),d=void 0;t[n(497)][n(580)]===n(459)?d="HW"===v[n(554)]?n(513):n(685):"PlayReady"===t[n(497)][n(580)]&&(d="HW"===v.robustness?n(474):n(508)),l===n(471)?t[n(669)][0][n(527)]=[{contentType:'video/mp4; codecs="avc1.640032"',encryptionScheme:"cenc"===v[n(619)]?n(668):"cbcs-1-9",robustness:d||void 0}]:t[n(669)][0][n(595)]=[{contentType:n(691),encryptionScheme:v[n(619)]===n(668)?"cenc":n(671),robustness:d||void 0}]}}}else t[n(669)]=[{initDataTypes:[n(630)],videoCapabilities:[{contentType:n(562),robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:n(639),sessionTypes:["temporary"]}];f[n(600)]&&console.info(n(480),t)}function rs(t){var n=Lu;f[n(600)]&&console[n(556)](n(581));var i=t[n(497)].videoElement;(!t[n(497)][n(471)]||t.config[n(471)][n(619)]===n(670))&&(i=t.config.audioElement),t[n(664)]=null;var r=!t.ignoreAudio&&t[n(497)][n(463)]&&"clear"!==t[n(497)].audio[n(619)],e=t[n(497)][n(471)]&&t.config.video[n(619)]!==n(670);t[n(624)]=0,t[n(608)]=!0,t.keyFrameNeededPosted=!1,t[n(509)]=Yu,t[n(652)]=0,t[n(650)]=0,t[n(597)]=-1,t[n(596)]=0,t.jmuxer=new nu({node:i,mode:r?n(e?663:463):"video",fps:60,drm:t}),Wu&&t[n(497)].videoElement&&t[n(497)][n(689)][n(448)]()[n(684)]((function(){}))[n(476)]((function(){}))}function es(t,n,i){var r=Lu;if(t[r(497)][r(471)]&&"clear"===t.config[r(471)][r(619)])return null==i||i[r(632)](n),!1;var e=Date[r(591)]();if(n.type===r(611)){var u=f[r(600)];++t[r(521)]<(u?Number[r(478)]:5)&&(console[r(556)]((new Date)[r(552)]().slice(11,-1)+" "+n[r(580)]+", "+(n[r(496)].byteLength+r(455)+t[r(497)][r(689)][r(625)])),u&&1===t[r(521)]&&function(t,n,i){void 0===n&&(n=64),void 0===i&&(i=64);for(var r=Lu,e=new I(t[r(496)]),u="",s=0,o=0;o<n&&o<e[r(584)];++o)u+=(e[o]<16?"0":"")+e[o].toString(16)+" ";if(s<e[r(584)])for(s<e[r(584)]-i&&(u+=r(532),s=e[r(584)]-i);s<e[r(584)];s++)u+=(e[s]<16?"0":"")+e[s][r(621)](16)+" ";console.info("["+((t[r(580)]||r(463))+r(561))+r(569)+u[r(472)]())}(n,128,8)),t[r(608)]=!1,t[r(624)]=0,t[r(571)]=e+t[r(509)]}return t[r(624)]+=n.data[r(523)],!t[r(608)]&&t[r(624)]>zu&&(console[r(556)](r(585)),t[r(608)]=!0),t.jmuxer&&(function(t,n){var i=Lu;0===t[i(652)]&&(t[i(652)]=n[i(667)],t[i(509)]=Yu,t[i(571)]=Date[i(591)]()+2e3);var r=null,e=!1;if(n.data[i(523)]<=4)console[i(495)](i(613)),e=!0;else{var u=new I(n[i(496)],0,4);0!=u[0]||0!=u[1]||0!=u[2]||1!=u[3]?(console[i(495)](i(489)),e=!0):!(r=function(t,n){var i=hu,r=new DataView(t[i(335)]),e=t.data[i(346)]-2,u=r[i(340)](e);if(u<e){var s=e-u;if(69!==r[i(337)](e-1))return console[i(341)](i(339)),null;if(r.getUint8(s++)>>>4!=1)return console[i(341)](i(329)),null;for(var o=new I(u-2),a=0,c=0;s<e-1;){var h=r.getUint8(s++);c>1&&3===h&&(c=0,h=r.getUint8(s++)),0!==h?c=0:++c,o[a++]=h}var f=new DataView(o[i(343)]),v=n===i(327)?16:0,l=v+2+6*f.getUint16(v);return l+2>a?(console.error(i(325)),null):{sai:o[i(345)](0,l),offset:e-u,seq:f.getUint16(l)}}return null}(n,t[i(497)][i(471)][i(619)]))&&(console.warn(i(636)),e=!0)}if(r)if(-1===t[i(597)]){if(n[i(580)]!==i(611))return 0;t[i(597)]=r[i(547)]}else{var s=r.seq-t[i(597)];if(s<-32767&&(s+=65536),s<=0)return f[i(600)]&&console[i(495)](i(654)+t[i(597)]+", curr: "+r[i(547)]),0;s>1&&(e=n[i(580)]!==i(611),console[i(495)](i(570)+t[i(597)]+i(502)+r[i(547)]+i(541)+e)),t.prevSeqNum=r[i(547)]}var o=0;e&&!t[i(664)][i(458)]&&(o=-1,t[i(664)][i(644)]());var a=(n[i(667)]-t[i(652)])/9e4;return r&&t[i(664)][i(522)]({video:new I(n.data,0,r[i(456)]),videoSampleAuxInfo:r[i(612)],timestamp:a})<0&&(o=-1,console[i(495)](i(573)),rs(t)),o>=0&&"key"===n[i(580)]&&(t[i(596)]=a,console[i(483)]((new Date)[i(552)]()[i(559)](11,-1)+" kf at "+a+", playback at "+t[i(497)].videoElement[i(625)])),o}(t,n)<0?t[r(608)]=!0:function(t){var n=Lu,i=t.config[n(689)];if(!(!i||i[n(501)][n(584)]<1||i[n(505)]||i[n(625)]<Ku)){var r=t[n(497)].mediaBufferMs;if(void 0===r||r<0)throw new y("targetLatency not set!");var e,u,s,o,a,c=i[n(501)][n(565)](i[n(501)][n(584)]-1),h=1e3*(c-i[n(625)])|0;if(!t[n(649)]&&(a=Lu,(o=(u=h)<3*(s=r)>>>2?.875:u<=s?1:u<7*s>>>2?1.125:u<9*s>>>2?1.25:u<11*s>>>2?1.375:1.5)!==(e=i).playbackRate&&(e[a(606)]=o)),!(h<r+50||h<5*r>>>2))if(t.lastKeyFrameTime>i[n(625)]+.1){var v=1e3*(c-t[n(596)])|0;v>40&&v>r-100?(f[n(600)]&&console.info((new Date).toISOString().slice(11,-1)+n(598)+(i[n(625)]+n(592)+t[n(596)]+" (")+(t.lastKeyFrameTime-i[n(625)])+")"),i[n(625)]=t[n(596)]):console[n(483)]((new Date)[n(552)]().slice(11,-1)+n(534)+v)}else!t[n(608)]&&Date[n(591)]()>t[n(571)]&&h>r+100&&h>3*r>>>1&&(f[n(600)]&&console[n(556)]((new Date).toISOString()[n(559)](11,-1)+n(490)+h+" ms)"),t[n(608)]=!0,t[n(509)]<16e3&&(t[n(509)]<<=1))}}(t)),i?(!t[r(608)]||!Hu)&&(n[r(496)]=function(t){return!du&&function(){var t=vu;du=new I([0,0,0,1,65,154,255,255]).buffer,lu[t(303)](new I([0,0,0,1,39,100,0,13,172,87,5,6,100,0,0,0,1,40,238,60,176,0,0,0,1,37,184,32,0,203,255,38,29,217,24,192,161,96,0,0,12,229,174,166,6,7,20,3,84,0,247,96,193,181,229,128,0,32,32])[t(306)]),lu[t(303)](lu[0][t(299)](0)),new I(lu[1]).set([16,0,50],27)}(),t?du:lu[gu^=1]}(t[r(608)]),i[r(632)](n)):t[r(608)]!=t[r(445)]&&(t.worker&&t[r(544)][r(660)](t[r(608)]),t[r(445)]=t[r(608)]),t[r(608)]}function us(t,n){var i=Fu();return(us=function(t,n){return i[t-=445]})(t,n)}function ss(t,n,i){var r=Lu;return t[r(497)][r(463)]&&t[r(497)].audio[r(619)]!==r(670)?n[r(496)][r(523)]>0&&function(t,n){var i,r=Lu;if(!t.jmuxer||t[r(538)])return 0;0===t[r(650)]&&(t[r(650)]=n[r(667)]);var e=(n[r(667)]-t.audioStartTimestamp)/48e3;if("cbcs"===(null===(i=t.config[r(463)])||void 0===i?void 0:i[r(619)]))return t[r(664)][r(522)]({audio:new I(n[r(496)]),timestamp:e});var u=function(t){var n=hu,i=new DataView(t.data),r=t.data[n(346)]-2,e=i.getUint16(r);if(e<r){var u=r-e;if(69!==i[n(337)](r-1))return console[n(341)](n(339)),null;if(i[n(337)](u++)>>>4!=1)return console[n(341)](n(329)),null;for(var s=new I(e-2),o=0;u<r-1;){var a=i[n(337)](u++);if(s[o++]=a,o>=16)break}return{sai:s,offset:r-e}}return null}(n);u?t[r(664)][r(522)]({audio:new I(n[r(496)],0,u[r(456)]),audioSampleAuxInfo:u[r(612)],timestamp:e}):console[r(511)]("SampleAuxInfo extraction failed (audio)")}(t,n):i&&i[r(632)](n),!1}function os(t){var n=Lu;if(!t||(void 0===t?"undefined":W(t))!==n(692))throw new _("Invalid config argument type, DRM config must be an object.");if(!(t[n(689)]instanceof HTMLVideoElement))throw new _(n(633));if(t[n(628)]&&!(t.audioElement instanceof HTMLMediaElement))throw new _(n(693));if(void 0!==t[n(482)]&&!Number[n(555)](t[n(482)]))throw new _(n(460));for(var i=!1,r=!1,e=!1,u=["cbcs",n(668),n(670)],s=["SW","HW"],o=0,a=[t[n(471)],t[n(463)]];o<a.length;o++){var c=a[o];if(c){if(!u[n(557)](c[n(619)]))throw new RangeError("DRM config encryption value must be one of: "+u[n(593)](", "));if(Wu&&"cenc"===c.encryption)throw new RangeError(n(688));if(c[n(619)]!==n(670)){if(r=!0,c.keyId){if(!(c[n(646)]instanceof I)||16!==c.keyId[n(584)])throw new _("DRM config keyId must be an instance of 16-byte long Uint8Array.");e=!0}else if(Wu)throw new ReferenceError(n(655));if(c.iv&&(!(c.iv instanceof I)||16!==c.iv.length))throw new _(n(618));if(c[n(554)]&&!s[n(557)](c.robustness))throw new RangeError(n(658)+s[n(593)](", "));if(c===t[n(471)]&&c[n(484)]!==n(537))throw new RangeError(n(615));Wu&&c===t.audio&&"opus"===c.codec&&(i=!0,console.warn("Safari does not support Opus, audio will not be rendered.")),"PlayReady"===t[n(580)]&&(c[n(619)]!==n(668)&&console[n(495)](n(491)+c[n(619)]+"', it's safer to use 'cbcs' instead."),void 0===t.sessionId||t.sessionId[n(557)]("f1")||console.warn(n(674)+t.sessionId+n(643)))}}}if(r){var h=[au[n(558)],au.Staging,au[n(665)]];if(!h.includes(t[n(526)]))throw new RangeError(n(583)+h.join(", "));if(t[n(462)]&&W(t[n(462)])!==n(533))throw new _("Invalid authToken type ("+W(t[n(462)])+n(530));if(t.type)if(Wu){if(t[n(580)]!==n(575))throw new RangeError(n(514)+t[n(580)]+"). Safari only supports FairPlay.")}else if(Zu){if(t.type!==n(459)&&"ClearKey"!==t[n(580)])throw new RangeError("Invalid DRM type ("+t.type+n(675))}else if(ju&&t[n(580)]!==n(566)&&"Widevine"!==t[n(580)]&&"ClearKey"!==t[n(580)])throw new RangeError(n(514)+t.type+n(648))}void 0!==t.debugLog&&(f[n(600)]=t.debugLog),void 0!==t[n(446)]&&(f[n(517)]=t[n(446)]);var v=Qu.get(t[n(689)]);!v&&(v=new Ju(t),Qu[n(494)](t[n(689)],v)),v.enabled=r,v[n(538)]=i,v[n(649)]=!i&&v[n(497)][n(463)]&&v[n(497)].audio.encryption!==n(670),r&&(v[n(497)].type||(v[n(497)][n(580)]=n(Wu?575:459)),e||v[n(497)][n(580)]===n(549)||(v[n(497)][n(580)]=n(549)),is(v),function(t){ke(this,void 0,void 0,(function(){var n,i,r,e,u,s,o,a,c,h,v,l,g,m,w,p;return Ht(this,(function(_){switch(_.label){case 0:if(e=t[(n=us)(497)][n(689)],(!t[n(497)][n(471)]||t[n(497)][n(471)].encryption===n(670))&&(e=t[n(497)][n(628)]),!e)throw new y(n(492));return e.src="",e[n(588)]=null,[4,e.setMediaKeys(null)];case 1:_.sent(),u=null,_.label=2;case 2:return _.trys.push([2,4,,5]),[4,d[n(528)](t[n(503)],t.emeConfig)];case 3:return u=_.sent(),[3,5];case 4:return _.sent(),[3,5];case 5:if(u||!t[n(669)][0])return[3,9];if(!(void 0!==(s=null===(i=t[n(669)][0][n(647)])||void 0===i?void 0:i[n(553)](n(659)))&&s>=0))return[3,9];null===(r=t.emeConfig[0].sessionTypes)||void 0===r||r[n(687)](s,1),_.label=6;case 6:return _.trys.push([6,8,,9]),[4,d[n(528)](t[n(503)],t[n(669)])];case 7:return u=_.sent(),[3,9];case 8:return _.sent(),[3,9];case 9:if(!u)return o=n(576)+t[n(503)]+n(520),[2,(e.dispatchEvent(new CustomEvent(n(640),{detail:{message:o}})),void console[n(511)](o))];a=null,_.label=10;case 10:return _.trys.push([10,12,,13]),[4,u.createMediaKeys()];case 11:return a=_.sent(),[3,13];case 12:return _.sent(),[3,13];case 13:return a?t.serverCertificate?(f.clRtcDrmDebugLog&&console[n(556)](n(487)+t[n(546)][n(523)]+n(464)),[4,a[n(594)](t[n(546)])]):[3,15]:(c=n(540)+t[n(503)]+n(520),[2,(e[n(453)](new CustomEvent("rtcdrmerror",{detail:{message:c}})),void console[n(511)](c))]);case 14:return _.sent(),[3,21];case 15:if(!t.serverCertificateUrl)return[3,21];h={method:n(469)},v=t.serverCertificateUrl,_.label=16;case 16:return _.trys.push([16,20,,21]),[4,t[n(497)].onFetch?t.config[n(645)](v,h):fetch(v,h)];case 17:return(l=_.sent()).ok?[4,l[n(457)]()]:(g=n(601)+l[n(623)],[2,void e[n(453)](new CustomEvent(n(640),{detail:{message:g}}))]);case 18:return m=_.sent(),f.clRtcDrmDebugLog&&console[n(556)]("Fetched certificate from "+v+", "+m[n(523)]+" bytes"),[4,a[n(594)](m)];case 19:return _.sent(),[3,21];case 20:return w=_.sent(),p=w.name+": "+w[n(622)],[2,(console.error(p),void e[n(453)](new CustomEvent(n(640),{detail:{message:p}})))];case 21:return[4,e[n(500)](a)];case 22:return _.sent(),e[n(519)]("encrypted",Ou),rs(t),[2]}}))}))}(v)),v[n(497)][n(689)][n(519)](n(448),(function(){var t=n;v[t(497)][t(689)][t(625)]>.5&&(v[t(571)]=Date.now())}))}var as=Lu(582)+Lu(587)+Lu(548)+Lu(653)+Lu(590)+Lu(620)+Lu(614)+Lu(504)+Lu(518)+Lu(452)+Lu(642)+Lu(686)+"meNeeded=$.data};";function cs(t){var n,i=Lu;if(0===Qu[i(677)])throw new _(i(550));if(t&&t[i(689)])n=t[i(689)];else{if(1!==Qu.size)throw new _(i(510));n=Qu[i(638)]()[i(447)]()[i(531)]}var r=Qu[i(662)](n);if(!r){var e="";throw Qu[i(499)]((function(t,n){e+=n.id+", "})),e=e.slice(0,-2),new _(i(486)+n.id+i(657)+e+"]")}return r}function hs(t,n){var i=Lu;if(t&&t[i(497)][i(689)]){var r=t[i(497)][i(689)];if(r[i(501)].length>0){var e=r.buffered[i(565)](r[i(501)][i(584)]-1)-r[i(625)];n.playoutDelayHint=n.jitterBufferDelayHint=n.jitterBufferTarget=e}g(hs,1e3,t,n)}}var fs=gt.get("View");fs.setLevel(gt.DEBUG);var vs={metadata:!1,enableDRM:!1,disableVideo:!1,disableAudio:!1,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},ls=function(t){function n(n,i,r,e){var u;return void 0===r&&(r=null),void 0===e&&(e=!0),n&&fs.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),(u=t.call(this,null,i,fs,e)||this).payloadTypeCodec={},u.tracksMidValues={},u.drmOptionsMap=null,u.eventQueue=[],u.isMainStreamActive=!1,r&&(u.on(br.track,(function(t){r.srcObject=t.streams[0]})),fs.warn("The mediaElement property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, do this in either the `track` or the `active` broadcast event.")),u}Rt(n,t);var i=n.prototype;return i.connect=function(t){void 0===t&&(t=vs);var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.options=b(m(m({},vs),t),{peerConfig:m(m({},vs.peerConfig),t.peerConfig),setSDPToPeer:!1}),n.eventQueue.length=0,[4,n.initConnection({migrate:!1})];case 1:return i.sent(),[2]}}))}))()},i.select=function(t){void 0===t&&(t={});var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return fs.debug("Viewer select layer values: ",t),[4,n.signaling.cmd("select",{layer:t})];case 1:return i.sent(),fs.info("Connected to streamName: ",n.streamName),[2]}}))}))()},i.addRemoteTrack=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return fs.info("Viewer adding remote track",t),[4,i.webRTCPeer.addRemoteTrack(t,n)];case 1:for(r=u.sent(),e=0;e<n.length;e++)n[e].addTrack(r.receiver.track);return[2,r]}}))}))()},i.project=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:for(r=function(t){var r=n[t];if(!r.trackId&&!r.media)throw fs.error("Error in projection mapping, trackId or mediaId must be set"),new y("Error in projection mapping, trackId or mediaId must be set");var e=i.webRTCPeer.getRTCPeer();if(r.mediaId&&!e.getTransceivers().find((function(t){return t.mid===r.mediaId.toString()})))throw fs.error("Error in projection mapping, ".concat(r.mediaId," mid not found in local transceivers")),new y("Error in projection mapping, ".concat(r.mediaId," mid not found in local transceivers"))},e=0;e<n.length;e++)r(e);return fs.debug("Viewer project source: layer mappings: ",t,n),[4,i.signaling.cmd("project",{sourceId:t,mapping:n})];case 1:return u.sent(),fs.info("Projection done"),[2]}}))}))()},i.unproject=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return fs.debug("Viewer unproject mediaIds: ",t),[4,n.signaling.cmd("unproject",{mediaIds:t})];case 1:return i.sent(),fs.info("Unprojection done"),[2]}}))}))()},i.replaceConnection=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return fs.info("Migrating current connection"),[4,t.initConnection({migrate:!0})];case 1:return n.sent(),[2]}}))}))()},i.stop=function(){var n,i;t.prototype.stop.call(this),null==(n=this.drmOptionsMap)||n.clear(),this.DRMProfile=null,null==(i=this.worker)||i.terminate(),this.worker=null,this.payloadTypeCodec={},this.tracksMidValues={},this.eventQueue.length=0},i.initConnection=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d,w,p;return Ht(this,(function(_){switch(_.label){case 0:if(fs.debug("Viewer connect options values: ",n.options),n.stopReconnection=!1,!t.migrate&&n.isActive())throw fs.warn("Viewer currently subscribed"),new y("Viewer currently subscribed");_.label=1;case 1:return _.trys.push([1,3,,4]),[4,n.tokenGenerator()];case 2:return e=_.sent(),n.options.peerConfig.iceServers=null==e?void 0:e.iceServers,n.options.peerConfig.encodedInsertableStreams=ve&&(n.options.enableDRM||n.options.metadata),[3,4];case 3:throw u=_.sent(),fs.error("Error generating token."),u instanceof Hr&&(401!==u.status&&n.autoReconnect?n.reconnect():n.stopReconnection=!0),u;case 4:if(!e)throw fs.error("Error while subscribing. Subscriber data required"),new y("Subscriber data required");return s=ee(e.jwt),n.streamName=s.millicast.streamName,o=new Zr({streamName:n.streamName,url:"".concat(e.urls[0],"?token=").concat(e.jwt)}),e.subscriberToken&&(n.subscriberToken=e.subscriberToken),[4,(a=t.migrate?new Ar:n.webRTCPeer).createRTCPeer(n.options.peerConfig)];case 5:return _.sent(),null==(i=n.stopReemitingWebRTCPeerInstanceEvents)||i.call(n),n.stopReemitingWebRTCPeerInstanceEvents=Ft(a,n,k.values(br).filter((function(t){return t!==br.track}))),n.options.metadata&&(n.worker||(n.worker=new me),n.worker.onmessage=function(t){if("metadata"===t.data.event){var i=new TextDecoder,r=t.data.metadata;if(r.mid=t.data.mid,r.track=n.tracksMidValues[t.data.mid],r.uuid){var e=r.uuid;r.uuid=e.reduce((function(t,n){return t+n.toString(16).padStart(2,"0")}),""),r.uuid=r.uuid.replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}if(r.timecode&&(r.timecode=new Date(i.decode(r.timecode))),r.unregistered){var u=i.decode(r.unregistered);try{var s=JSON.parse(u);r.unregistered=s}catch(t){fs.info("The content could not be converted to JSON, returning raw bytes instead")}}n.emit("metadata",r),n.emit("onMetadata",r)}}),a.on(br.track,(function(t){n.isMainStreamActive?n.onTrackEvent(t):n.eventQueue.push(t)})),o.on(jr,Zt((function(t){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.isMainStreamActive||"active"!==t.name?[3,3]:(n.mainSourceId=t.data.sourceId,n.DRMProfile||!t.data.encryption?[3,2]:[4,n.tokenGenerator()]);case 1:(i=r.sent()).drmObject&&(n.DRMProfile=i.drmObject),r.label=2;case 2:for(n.emit(jr,t),n.isMainStreamActive=!0;n.eventQueue.length>0;)n.onTrackEvent(n.eventQueue.shift());return[2];case 3:return"inactive"===t.name&&n.isMainStreamActive&&n.mainSourceId===t.data.sourceId&&(n.isMainStreamActive=!1),n.emit(jr,t),[2]}}))}))),c=a.getRTCLocalSDP(b(m({},n.options),{stereo:!0})),h=o.connect(),[4,ut.all([c,h])];case 6:return r=_.sent(),f=r[0],v=n.signaling,n.signaling=o,l=n.signaling.subscribe(f,b(m({},n.options),{vad:n.options.multiplexedAudioTracks>0})),d=a.peer.setLocalDescription(a.sessionDescription),[4,ut.all([l,d])];case 7:return r=_.sent(),w=r[0],n.payloadTypeCodec=dr.getCodecPayloadType(w),[4,a.setRTCRemoteSDP(w)];case 8:return _.sent(),fs.info("Connected to streamName: ",n.streamName),p=n.webRTCPeer,n.webRTCPeer=a,n.setReconnect(),t.migrate&&n.webRTCPeer.on(br.connectionStateChange,(function(t){var n,i;"connected"===t?g((function(){var t,n;null==(t=null==v?void 0:v.close)||t.call(v),null==(n=null==p?void 0:p.closeRTCPeer)||n.call(p),v=p=null,fs.info("Current connection migrated")}),1e3):["disconnected","failed","closed"].includes(t)&&(null==(n=null==v?void 0:v.close)||n.call(v),null==(i=null==p?void 0:p.closeRTCPeer)||i.call(p),v=p=null)})),[2]}}))}))()},i.onTrackEvent=function(t){var n,i,r;if(this.tracksMidValues[null==(n=t.transceiver)?void 0:n.mid]=t.track,this.isDRMOn){var e=t.transceiver.mid,u=this.getDRMConfiguration(e);try{!function(t,n){var i,r,e=Lu,u=t[e(629)][e(524)];"video"===u&&(t[e(661)][e(475)]=t[e(661)][e(451)]=t[e(661)][e(605)]=0);var s=cs(n),o=s[e(497)].videoElement,a=s[e(497)][e(628)];if(s[e(607)]){if(s[e(497)].customTransform)f.clRtcDrmDebugLog&&console[e(556)](e(468)+e(572));else if(f[e(600)]&&console[e(556)](e(467)+(e(Vu?589:609)+e(617))),Vu){if(s[e(544)]=function(t){var n=Lu,i=f[n(493)]||f[n(488)],r=f[n(666)],e=f[n(586)];if(!(i&&r&&e&&t))return null;var u=new r([t]);return new e(i[n(631)](u))}(as),null==s[e(544)])throw new y(e(539));s[e(544)][e(485)]=function(t){var n=e;t[n(496)][n(567)]===n(471)?es(s,t[n(496)].frame,null):ss(s,t[n(496)][n(651)],null)},t[e(661)].transform=new RTCRtpScriptTransform(s.worker,{operation:u})}else{var c=u===e(471)?es:ss,h={drm:s,transform:function(t,n){c(s,t,n)}},v=t.receiver.createEncodedStreams(),l=new TransformStream({transform:h.transform[e(656)](h)}),d=v.readable,g=v.writable;d[e(577)](l)[e(635)](g)}if("audio"===u&&(null===(i=s[e(497)][e(463)])||void 0===i?void 0:i.encryption)===e(670)){if(!a)return void console.warn(e(690));a[e(588)]!==t[e(481)][0]&&(a[e(588)]=t[e(481)][0]),s[e(497)].videoElement&&(t[e(661)][e(475)]=t[e(661)].jitterBufferDelayHint=t[e(661)][e(605)]=s[e(497)][e(482)],hs(s,t[e(661)]))}else"video"===u&&"clear"===(null===(r=s.config[e(471)])||void 0===r?void 0:r[e(619)])&&o[e(588)]!==t[e(481)][0]&&(o.srcObject=t.streams[0])}else o[e(588)]!==t[e(481)][0]&&(o.srcObject=t[e(481)][0])}(t,u)}catch(t){fs.error("Failed to apply DRM on media Id:",e,"error is: ",t),this.emit("error",new y("Failed to apply DRM on media Id: "+e+" error is: "+t))}this.worker||(this.worker=new me),this.worker.addEventListener("message",(function(t){"complete"===t.data.event&&function(t,n,i){var r=Lu,e=cs(i);t[r(580)]?es(e,t,n):ss(e,t,n)}(t.data.frame,null,u)}))}if(this.options.metadata)if(le)t.receiver.transform=new RTCRtpScriptTransform(this.worker,{name:"receiverTransform",payloadTypeCodec:m({},this.payloadTypeCodec),codec:this.options.metadata&&"h264",mid:null==(i=t.transceiver)?void 0:i.mid});else if(ve){var s=t.receiver.createEncodedStreams(),o=s.readable,a=s.writable;this.worker.postMessage({action:"insertable-streams-receiver",payloadTypeCodec:m({},this.payloadTypeCodec),codec:this.options.metadata&&"h264",mid:null==(r=t.transceiver)?void 0:r.mid,readable:o,writable:a},[o,a])}this.emit(br.track,t)},i.getDRMConfiguration=function(t){return this.drmOptionsMap?this.drmOptionsMap.get(t):null},i.onRtcDrmFetch=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,(n.headers||(n.headers=new Headers),n.headers.get("x-dt-custom-data")&&n.headers.delete("x-dt-custom-data"),i.subscriberToken?n.headers.append("Authorization","Bearer ".concat(i.subscriberToken)):fs.warn("onRtcDrmFetch: no subscriberToken"),fetch(t,n))]}))}))()},i.configureDRM=function(t){var n=this;if(!t)throw new y("Required DRM options is not provided");this.drmOptionsMap||(this.drmOptionsMap=new Map);var i={merchant:"dolby",environment:au.Production,customTransform:this.options.metadata,videoElement:t.videoElement,audioElement:t.audioElement,video:{codec:"H264",encryption:"cbcs",keyId:_e(t.videoEncryptionParams.keyId),iv:_e(t.videoEncryptionParams.iv)},audio:{codec:"opus",encryption:"clear"},onFetch:this.onRtcDrmFetch.bind(this)};t.mediaBufferMs&&(i.mediaBufferMs=t.mediaBufferMs),this.DRMProfile&&(this.DRMProfile.playReadyUrl&&(i.prLicenseUrl=this.DRMProfile.playReadyUrl),this.DRMProfile.widevineUrl&&(i.wvLicenseUrl=this.DRMProfile.widevineUrl),this.DRMProfile.fairPlayUrl&&(i.fpsLicenseUrl=this.DRMProfile.fairPlayUrl),this.DRMProfile.fairPlayCertUrl&&(i.fpsCertificateUrl=this.DRMProfile.fairPlayCertUrl));try{os(i),this.drmOptionsMap.set(t.videoMid,i),t.audioMid&&this.drmOptionsMap.set(t.audioMid,i),i.videoElement.addEventListener("rtcdrmerror",(function(t){fs.error("DRM error: ",t.detail.message,"in video element:",i.videoElement.id),n.emit("error",new y(t.detail.message))}))}catch(n){fs.error("Failed to configure DRM with options:",t,"error is:",n)}},i.removeDRMConfiguration=function(t){var n;null==(n=this.drmOptionsMap)||n.delete(t)},i.exchangeDRMConfiguration=function(t,n){var i=this.getDRMConfiguration(t),r=this.getDRMConfiguration(n);if(null===i)throw new y("No DRM configuration found for "+t);if(null===r)throw new y("No DRM configuration found for "+n);be(i.video,r.video,"keyId"),be(i.video,r.video,"iv");try{os(i)}catch(t){fs.error("Failed to configure DRM with options:",i,"error is:",t)}try{os(r)}catch(t){fs.error("Failed to configure DRM with options:",r,"error is:",t)}},xt(n,[{key:"isDRMOn",get:function(){return!!this.drmOptionsMap&&this.drmOptionsMap.size>0}}]),n}(he);t.Director=Jr,t.Logger=gt,t.PeerConnection=Ar,t.Publish=ye,t.Signaling=Zr,t.View=ls,k.defineProperty(t,n.toStringTag,{value:"Module"})},"object"==(void 0===t?"undefined":W(t))&&(void 0===e?"undefined":W(e))<"u"?s(t):"function"==typeof define&&define.amd?define(["exports"],s):s((u=("undefined"==typeof globalThis?"undefined":W(globalThis))<"u"?globalThis:u||self).millicast={})})),_n=L((function(t){function n(){var t=yn();return n=function(){return t},t}U(),St(),k.defineProperty(t,"__esModule",{value:!0}),function(t,n){for(var i in n)k.defineProperty(t,i,{enumerable:!0,get:n[i]})}(t,{Director:function(){return n().Director},View:function(){return n().View}})})),bn=L((function(t,n){U(),St(),n.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),kn=L((function(t,n){U(),St(),n.exports=function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=i+i,o=r+r,a=e+e,c=i*s,h=r*s,f=r*o,v=e*s,l=e*o,d=e*a,g=u*s,m=u*o,w=u*a;return t[0]=1-f-d,t[1]=h+w,t[2]=v-m,t[3]=0,t[4]=h-w,t[5]=1-c-d,t[6]=l+g,t[7]=0,t[8]=v+m,t[9]=l-g,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),An=L((function(t,n){U(),St(),n.exports=function(t,n,i){var r,e,u,s=i[0],o=i[1],a=i[2],c=A.sqrt(s*s+o*o+a*a);if(A.abs(c)<1e-6)return null;return s*=c=1/c,o*=c,a*=c,r=A.sin(n),e=A.cos(n),u=1-e,t[0]=s*s*u+e,t[1]=o*s*u+a*r,t[2]=a*s*u-o*r,t[3]=0,t[4]=s*o*u-a*r,t[5]=o*o*u+e,t[6]=a*o*u+s*r,t[7]=0,t[8]=s*a*u+o*r,t[9]=o*a*u-s*r,t[10]=a*a*u+e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),Tn=L((function(t,n){U(),St(),n.exports=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}})),Sn=L((function(t,n){U(),St(),n.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),En=L((function(t,n){U(),St(),n.exports=function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=n[5],a=n[6],c=n[7],h=n[8],f=n[9],v=n[10],l=n[11],d=n[12],g=n[13],m=n[14],w=n[15],p=i*o-r*s,y=i*a-e*s,_=i*c-u*s,b=r*a-e*o,k=r*c-u*o,A=e*c-u*a,T=h*g-f*d,S=h*m-v*d,E=h*w-l*d,I=f*m-v*g,R=f*w-l*g,C=v*w-l*m,N=p*C-y*R+_*I+b*E-k*S+A*T;if(!N)return null;return N=1/N,t[0]=(o*C-a*R+c*I)*N,t[1]=(e*R-r*C-u*I)*N,t[2]=(g*A-m*k+w*b)*N,t[3]=(v*k-f*A-l*b)*N,t[4]=(a*E-s*C-c*S)*N,t[5]=(i*C-e*E+u*S)*N,t[6]=(m*_-d*A-w*y)*N,t[7]=(h*A-v*_+l*y)*N,t[8]=(s*R-o*E+c*T)*N,t[9]=(r*E-i*R-u*T)*N,t[10]=(d*k-g*_+w*p)*N,t[11]=(f*_-h*k-l*p)*N,t[12]=(o*S-s*I-a*T)*N,t[13]=(i*I-r*S+e*T)*N,t[14]=(g*y-d*b-m*p)*N,t[15]=(h*b-f*y+v*p)*N,t}})),In=L((function(t,n){U(),St(),n.exports=function(t,n,i){var r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],l=n[10],d=n[11],g=n[12],m=n[13],w=n[14],p=n[15],y=i[0],_=i[1],b=i[2],k=i[3];return t[0]=y*r+_*o+b*f+k*g,t[1]=y*e+_*a+b*v+k*m,t[2]=y*u+_*c+b*l+k*w,t[3]=y*s+_*h+b*d+k*p,y=i[4],_=i[5],b=i[6],k=i[7],t[4]=y*r+_*o+b*f+k*g,t[5]=y*e+_*a+b*v+k*m,t[6]=y*u+_*c+b*l+k*w,t[7]=y*s+_*h+b*d+k*p,y=i[8],_=i[9],b=i[10],k=i[11],t[8]=y*r+_*o+b*f+k*g,t[9]=y*e+_*a+b*v+k*m,t[10]=y*u+_*c+b*l+k*w,t[11]=y*s+_*h+b*d+k*p,y=i[12],_=i[13],b=i[14],k=i[15],t[12]=y*r+_*o+b*f+k*g,t[13]=y*e+_*a+b*v+k*m,t[14]=y*u+_*c+b*l+k*w,t[15]=y*s+_*h+b*d+k*p,t}})),Rn=L((function(t,n){U(),St(),n.exports=function(t,n,i,r,e){var u=1/A.tan(n/2),s=1/(r-e);return t[0]=u/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(e+r)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*e*r*s,t[15]=0,t}})),Cn=L((function(t,n){U(),St(),n.exports=function(t,n,i,r){var e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b,k,T,S,E,I,R,C=r[0],N=r[1],x=r[2],D=A.sqrt(C*C+N*N+x*x);if(A.abs(D)<1e-6)return null;C*=D=1/D,N*=D,x*=D,e=A.sin(i),u=A.cos(i),s=1-u,o=n[0],a=n[1],c=n[2],h=n[3],f=n[4],v=n[5],l=n[6],d=n[7],g=n[8],m=n[9],w=n[10],p=n[11],y=C*C*s+u,_=N*C*s+x*e,b=x*C*s-N*e,k=C*N*s-x*e,T=N*N*s+u,S=x*N*s+C*e,E=C*x*s+N*e,I=N*x*s-C*e,R=x*x*s+u,t[0]=o*y+f*_+g*b,t[1]=a*y+v*_+m*b,t[2]=c*y+l*_+w*b,t[3]=h*y+d*_+p*b,t[4]=o*k+f*T+g*S,t[5]=a*k+v*T+m*S,t[6]=c*k+l*T+w*S,t[7]=h*k+d*T+p*S,t[8]=o*E+f*I+g*R,t[9]=a*E+v*I+m*R,t[10]=c*E+l*I+w*R,t[11]=h*E+d*I+p*R,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t}})),Nn=L((function(t,n){U(),St(),n.exports=function(t,n,i){var r,e,u,s,o,a,c,h,f,v,l,d,g=i[0],m=i[1],w=i[2];n===t?(t[12]=n[0]*g+n[4]*m+n[8]*w+n[12],t[13]=n[1]*g+n[5]*m+n[9]*w+n[13],t[14]=n[2]*g+n[6]*m+n[10]*w+n[14],t[15]=n[3]*g+n[7]*m+n[11]*w+n[15]):(r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],l=n[10],d=n[11],t[0]=r,t[1]=e,t[2]=u,t[3]=s,t[4]=o,t[5]=a,t[6]=c,t[7]=h,t[8]=f,t[9]=v,t[10]=l,t[11]=d,t[12]=r*g+o*m+f*w+n[12],t[13]=e*g+a*m+v*w+n[13],t[14]=u*g+c*m+l*w+n[14],t[15]=s*g+h*m+d*w+n[15]);return t}})),xn={};!function(t,n){for(var i in n)x(t,i,{get:n[i],enumerable:!0})}(xn,{ChromelessPlayer:function(){return kB},ErrorCategory:function(){return sl},ErrorCode:function(){return ul},Player:function(){return cat},cache:function(){return m6},cast:function(){return J$},features:function(){return SB},players:function(){return IB},registerContentProtectionIntegration:function(){return RB},utils:function(){return TB},version:function(){return EB},videojs:function(){return vst}}),h.exports=(wn=xn,F(x({},"__esModule",{value:!0}),wn)),U(),St(),U(),St(),U(),St(),U(),St(),Ct(),U(),St(),Dt(),U(),St(),U(),St(),U(),St(),Dt(),U(),St();var Dn=function(t){return t.Tv="web",t.Ev="android",t.xv="android-tv",t.Rv="ios",t.Iv="tvos",t.Cv="chromecast",t.Pv="theoliveweb",t}({});var Pn=d?d.userAgent:"",Mn=Pn.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Bn=Pn.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),On=Pn.match(/Android ([0-9\.]+)/i),Ln=Pn.match(/Windows NT ([0-9\.]+)/i),Fn=Pn.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Vn=Pn.match(/Firefox\/([0-9\.]+)/i),Un=Pn.match(/OPR\/(\d+\.\d+)/i),Wn=Pn.match(/Tizen ([0-9\.]+)/i),jn=Pn.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),Zn=Pn.match(/HbbTV\/([0-9.]+)/i),Xn=function(){function t(){this.Dv=Boolean("ontouchstart"in self||self.DocumentTouch&&v instanceof self.DocumentTouch||d&&d.msMaxTouchPoints),this.Mv=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(Pn)||/(macintosh|mac(?=_powerpc)\s)/i.test(Pn),this.Bv=/Windows NT/i.test(Pn),this.Fv=Ln?S(Ln[1]):0,this.Wv=/Android/i.test(Pn),this.Gv=On?S(On[1]):0,this.Zv=/windows phone (8|8\.1)/i.test(Pn),this.zv=/iPhone/i.test(Pn),this.Yv=/iPad/i.test(Pn),this.Qv=this.Mv&&this.Dv&&!this.Yv,this.$v=/iPod/i.test(Pn),this.fm=/Mobile Safari/i.test(Pn),this.lm=/EOS\d*STB/i.test(Pn),this.dm=/APP\d*STB/i.test(Pn),this.im=(this.zv||this.Yv||this.Qv||this.$v)&&!this.Zv,this.hm=jn?S(jn[2]):0,this._m=this.Zv||this.im||this.Wv||this.fm,this.gm=/CriOS/i.test(Pn),this.wm=Boolean(self.chrome&&/google/i.test(d.vendor))||this.gm,this.Em=this.wm&&/Edg\//i.test(d.userAgent),this.Rm=Bn?T(Bn[1],10):0,this.Fg=Boolean(/CriOS/i.test(Pn)),this.Og=Boolean(self.chrome||/Chrome/i.test(Pn)||this.Fg),this.Sm=Mn?T(Mn[1],10):0,this.Pm=/SMART-TV.*Tizen/i.test(Pn),this.Nm=Wn?S(Wn[1]):0,this.Am=this.Nm>0?function(t){return t>=8?108:t>=7?94:t>=6.5?85:t>=6?76:t>=5.5?69:t>=5?63:t>=4?56:t>=3?47:0}(this.Nm):void 0,this.Lm=/webos|web0s/i.test(Pn),this.Om=/HbbTV/i.test(Pn),this.Vm=!!Zn&&function(t){if(!t)return!1;var n=t.split(".").map(Number);return 3===n.length&&1===n[0]&&2===n[1]}(Zn[1]),this.Um=/VIZIO/i.test(Pn),this.Hm=/Edge\/\d+/i.test(Pn),this.Xm=/Trident/i.test(Pn),this.qm=this.Xm&&!self.ActiveXObject&&"ActiveXObject"in self,this.Km=/Vivaldi/i.test(Pn),this.Qm=/Firefox/i.test(Pn)&&!/Seamonkey/i.test(Pn),this.$m=Vn?S(Vn[1]):0,this.rg=/Safari/i.test(Pn)&&!/Chrome/i.test(Pn)&&!this.Zv&&!this.Pm,this.hg=Fn?S(Fn[2]):0,this.cg=Boolean(Un),this.fg=Un?S(Un[1]):0,this.vg=/CrKey/.test(Pn),this.pg=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(Pn),this.Ag=/PlayStation 4/i.test(Pn),this.Tg="web"===Dn.xv,this.xg="web"===Dn.Ev,this.Ig=this.xg||this.Tg,this.Pg="web"===Dn.Rv,this.Ng="web"===Dn.Iv,this.Lg="web"===Dn.Cv}return xt(t,[{key:"Qe",get:function(){return this.Dv}},{key:"Nv",get:function(){return this.Mv}},{key:"Lv",get:function(){return this.Bv}},{key:"Ov",get:function(){return this.Fv}},{key:"Vv",get:function(){return this.Wv}},{key:"Uv",get:function(){return this.Gv}},{key:"Hv",get:function(){return this.Zv}},{key:"Xv",get:function(){return this.zv}},{key:"qv",get:function(){return this.Yv}},{key:"Kv",get:function(){return this.Qv}},{key:"Jv",get:function(){return this.$v}},{key:"su",get:function(){return this.im}},{key:"nm",get:function(){return this.hm}},{key:"um",get:function(){return this.lm||this.dm}},{key:"ud",get:function(){return this.fm}},{key:"Qs",get:function(){return this._m}},{key:"vm",get:function(){return this.gm}},{key:"pm",get:function(){return this.wm}},{key:"ym",get:function(){var t;return null!=(t=this.Am)?t:this.Sm}},{key:"Tm",get:function(){return this.Em}},{key:"xm",get:function(){var t;return(null==(t=f.chrome)?void 0:t.webview)&&this.Rm>0}},{key:"Im",get:function(){return this.Rm}},{key:"Cm",get:function(){return this.Pm}},{key:"Dm",get:function(){return this.Nm}},{key:"Mm",get:function(){return this.Lm}},{key:"Bm",get:function(){return this.Om}},{key:"Fm",get:function(){return this.Vm}},{key:"Wm",get:function(){return this.Um}},{key:"Gm",get:function(){return this.Hm}},{key:"Zm",get:function(){return this.Xm}},{key:"zm",get:function(){return this.qm}},{key:"Ym",get:function(){return this.Km}},{key:"jm",get:function(){return this.Qm}},{key:"Jm",get:function(){return this.$m}},{key:"eg",get:function(){return this.rg}},{key:"og",get:function(){return this.hg}},{key:"ag",get:function(){return this.cg}},{key:"dg",get:function(){return this.fg}},{key:"_g",get:function(){return this.vg}},{key:"gg",get:function(){return this.pg}},{key:"wg",get:function(){return!(!this.Mm&&!this.Cm)&&this.ym<=56}},{key:"yg",get:function(){return this.Ag}},{key:"Sg",get:function(){return this.Tg}},{key:"Eg",get:function(){return this.xg}},{key:"Rg",get:function(){return this.Ig}},{key:"Cg",get:function(){return this.Pg}},{key:"Dg",get:function(){return this.Ng}},{key:"Mg",get:function(){return this.Lg}},{key:"Bg",get:function(){return this.Og}},{key:"IS_IOS_CHROME",get:function(){return this.Fg}}]),t}();Xn.Vg=new Xn;var Gn=Xn.Vg;U(),St(),ct();var Hn={}.hasOwnProperty,zn={}.toString;function Yn(t){return null!=t}function Kn(t){return void 0===t}var qn,Jn=Array.isArray||function(t){return"[object Array]"===zn.call(t)};function Qn(t){return $n(t)&&Hn.call(t,"length")&&ui(t.length)}function $n(t){return"object"===(void 0===t?"undefined":W(t))&&null!==t}function ti(t){return $n(t)&&t.constructor&&t.constructor===k}function ni(t){return"string"==typeof t}function ii(t){return"boolean"==typeof t}function ri(t){return Yn(t)&&"function"==typeof t.then}function ei(t){return"[object Date]"===zn.call(t)}function ui(t){return"number"==typeof t}function si(t){return"function"==typeof t}function oi(t){return si(t)||$n(t)}function ai(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ci(t){for(var n;Yn(n=t.firstChild);)t.removeChild(n)}function hi(t,n){for(var i;Yn(i=t.firstChild);)n.appendChild(i)}function fi(t,n){t.insertBefore(n,t.firstChild)}function vi(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}function li(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}function di(t,n){return void 0!==t.classList?t.classList.contains(n):void 0!==t.className&&-1!==(" "+vi(t)+" ").indexOf(" "+n+" ")}function gi(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=vi(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&li(t,(i+" "+n).trim())}}function mi(t,n){if(void 0!==t.classList)t.classList.remove(n);else if(void 0!==t.className){for(var i=" "+vi(t)+" ",r=" "+n+" ";-1!==i.indexOf(r);)i=i.replace(r," ");li(t,i.trim())}}function wi(t,n,i){void 0===i&&(i=!di(t,n)),i?gi(t,n):mi(t,n)}function pi(t){t.stopPropagation()}function yi(t,n){Gn.Cm&&Gn.Dm<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function _i(t,n){var i=n.style;if(i)for(var r=0,e=k.keys(t);r<e.length;r++){var u=e[r],s=t[u];void 0!==s&&(i[u]=s)}}function bi(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function ki(t){var n=t.style;n.position="",n.left="",n.right="",n.top="",n.bottom="",n.width="",n.height=""}function Ai(t){t.removeAttribute("title")}function Ti(t){try{return Boolean(t)&&t.parent!==t}catch(t){return!1}}U(),St(),U(),St();var Si=function(){},Ei=function(t){return t};function Ii(t,n){var i=-1/0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=qn.Wg();s-i>=n&&(t.apply(this,e),i=s)}}function Ri(t,n){var i=0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=this;0!==i&&qn.Ug(i),i=qn.Gg((function(){i=0,t.apply(s,e)}),n)}}function Ci(t){var n;return function(){return void 0!==t&&(n=t(),t=void 0),n}}function Ni(t){return"video"===function(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||""}(t)}function xi(t){t.src&&(t.removeAttribute("src"),t.load()),t.srcObject&&(t.srcObject=null,t.load())}function Di(){return void 0!==v?v.createElement("video"):void 0}var Pi=Ci(Di),Mi=Ci((function(){return"undefined"!=typeof HTMLVideoElement&&Pi()instanceof HTMLVideoElement}));U(),St(),U(),St(),U(),St();var Bi=null;try{Bi=new WebAssembly.Instance(new WebAssembly.Module(new I([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(wn){}function Oi(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Li(t){return!0===(t&&t.Hg)}function Fi(t){var n=A.clz32(t&-t);return t?31-n:n}Oi.prototype.Hg,k.defineProperty(Oi.prototype,"Hg",{value:!0}),Oi.isLong=Li;var Vi={},Ui={};function Wi(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=Ui[t])?r:(i=Zi(t,0,!0),e&&(Ui[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=Vi[t])?r:(i=Zi(t,t<0?-1:0,!1),e&&(Vi[t]=i),i)}function ji(t,n){if(E(t))return n?Qi:Ji;if(n){if(t<0)return Qi;if(t>=Yi)return rr}else{if(t<=-Ki)return er;if(t+1>=Ki)return ir}return t<0?ji(-t,n).neg():Zi(t%zi|0,t/zi|0,n)}function Zi(t,n,i){return new Oi(t,n,i)}Oi.fromInt=Wi,Oi.fromNumber=ji,Oi.fromBits=Zi;var Xi=A.pow;function Gi(t,n,i){if(0===t.length)throw y("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?Qi:Ji;if((i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw y("interior hyphen");if(0===r)return Gi(t.substring(1),n,i).neg();for(var e=ji(Xi(i,8)),u=Ji,s=0;s<t.length;s+=8){var o=A.min(8,t.length-s),a=T(t.substring(s,s+o),i);if(o<8){var c=ji(Xi(i,o));u=u.mul(c).add(ji(a))}else u=(u=u.mul(e)).add(ji(a))}return u.unsigned=n,u}function Hi(t,n){return"number"==typeof t?ji(t,n):"string"==typeof t?Gi(t,n):Zi(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Oi.fromString=Gi,Oi.fromValue=Hi;var zi=4294967296,Yi=zi*zi,Ki=Yi/2,qi=Wi(1<<24),Ji=Wi(0);Oi.ZERO=Ji;var Qi=Wi(0,!0);Oi.UZERO=Qi;var $i=Wi(1);Oi.ONE=$i;var tr=Wi(1,!0);Oi.UONE=tr;var nr=Wi(-1);Oi.NEG_ONE=nr;var ir=Zi(-1,2147483647,!1);Oi.MAX_VALUE=ir;var rr=Zi(-1,-1,!0);Oi.MAX_UNSIGNED_VALUE=rr;var er=Zi(0,-2147483648,!1);Oi.MIN_VALUE=er;var ur=Oi.prototype;ur.toInt=function(){return this.unsigned?this.low>>>0:this.low},ur.toNumber=function(){return this.unsigned?(this.high>>>0)*zi+(this.low>>>0):this.high*zi+(this.low>>>0)},ur.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(er)){var n=ji(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=ji(Xi(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),a=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},ur.getHighBits=function(){return this.high},ur.getHighBitsUnsigned=function(){return this.high>>>0},ur.getLowBits=function(){return this.low},ur.getLowBitsUnsigned=function(){return this.low>>>0},ur.getNumBitsAbs=function(){if(this.isNegative())return this.eq(er)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},ur.isZero=function(){return 0===this.high&&0===this.low},ur.eqz=ur.isZero,ur.isNegative=function(){return!this.unsigned&&this.high<0},ur.isPositive=function(){return this.unsigned||this.high>=0},ur.isOdd=function(){return 1==(1&this.low)},ur.isEven=function(){return 0==(1&this.low)},ur.equals=function(t){return Li(t)||(t=Hi(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},ur.eq=ur.equals,ur.notEquals=function(t){return!this.eq(t)},ur.neq=ur.notEquals,ur.ne=ur.notEquals,ur.lessThan=function(t){return this.comp(t)<0},ur.lt=ur.lessThan,ur.lessThanOrEqual=function(t){return this.comp(t)<=0},ur.lte=ur.lessThanOrEqual,ur.le=ur.lessThanOrEqual,ur.greaterThan=function(t){return this.comp(t)>0},ur.gt=ur.greaterThan,ur.greaterThanOrEqual=function(t){return this.comp(t)>=0},ur.gte=ur.greaterThanOrEqual,ur.ge=ur.greaterThanOrEqual,ur.compare=function(t){if(Li(t)||(t=Hi(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},ur.comp=ur.compare,ur.negate=function(){return!this.unsigned&&this.eq(er)?er:this.not().add($i)},ur.neg=ur.negate,ur.add=function(t){Li(t)||(t=Hi(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=e+(65535&t.low))>>>16,c+=(h+=r+o)>>>16,a+=(c+=i+s)>>>16,a+=n+u,Zi((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},ur.subtract=function(t){return Li(t)||(t=Hi(t)),this.add(t.neg())},ur.sub=ur.subtract,ur.multiply=function(t){if(this.isZero())return this;if(Li(t)||(t=Hi(t)),Bi)return Zi(Bi.mul(this.low,this.high,t.low,t.high),Bi.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Qi:Ji;if(this.eq(er))return t.isOdd()?er:Ji;if(t.eq(er))return this.isOdd()?er:Ji;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(qi)&&t.lt(qi))return ji(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=e*a)>>>16,h+=(f+=r*a)>>>16,f&=65535,h+=(f+=e*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=r*o)>>>16,h&=65535,c+=(h+=e*s)>>>16,c+=n*a+i*o+r*s+e*u,Zi((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},ur.mul=ur.multiply,ur.divide=function(t){if(Li(t)||(t=Hi(t)),t.isZero())throw y("division by zero");var n,i,r;if(Bi)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Zi((this.unsigned?Bi.div_u:Bi.div_s)(this.low,this.high,t.low,t.high),Bi.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Qi:Ji;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Qi;if(t.gt(this.shru(1)))return tr;r=Qi}else{if(this.eq(er))return t.eq($i)||t.eq(nr)?er:t.eq(er)?$i:(n=this.shr(1).div(t).shl(1)).eq(Ji)?t.isNegative()?$i:nr:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(er))return this.unsigned?Qi:Ji;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Ji}for(i=this;i.gte(t);){n=A.max(1,A.floor(i.toNumber()/t.toNumber()));for(var e=A.ceil(A.log(n)/A.LN2),u=e<=48?1:Xi(2,e-48),s=ji(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=ji(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=$i),r=r.add(s),i=i.sub(o)}return r},ur.div=ur.divide,ur.modulo=function(t){return Li(t)||(t=Hi(t)),Bi?Zi((this.unsigned?Bi.rem_u:Bi.rem_s)(this.low,this.high,t.low,t.high),Bi.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},ur.mod=ur.modulo,ur.rem=ur.modulo,ur.not=function(){return Zi(~this.low,~this.high,this.unsigned)},ur.countLeadingZeros=function(){return this.high?A.clz32(this.high):A.clz32(this.low)+32},ur.clz=ur.countLeadingZeros,ur.countTrailingZeros=function(){return this.low?Fi(this.low):Fi(this.high)+32},ur.ctz=ur.countTrailingZeros,ur.and=function(t){return Li(t)||(t=Hi(t)),Zi(this.low&t.low,this.high&t.high,this.unsigned)},ur.or=function(t){return Li(t)||(t=Hi(t)),Zi(this.low|t.low,this.high|t.high,this.unsigned)},ur.xor=function(t){return Li(t)||(t=Hi(t)),Zi(this.low^t.low,this.high^t.high,this.unsigned)},ur.shiftLeft=function(t){return Li(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Zi(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Zi(0,this.low<<t-32,this.unsigned)},ur.shl=ur.shiftLeft,ur.shiftRight=function(t){return Li(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Zi(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Zi(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},ur.shr=ur.shiftRight,ur.shiftRightUnsigned=function(t){return Li(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Zi(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):Zi(32===t?this.high:this.high>>>t-32,0,this.unsigned)},ur.shru=ur.shiftRightUnsigned,ur.shr_u=ur.shiftRightUnsigned,ur.rotateLeft=function(t){var n;return Li(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Zi(this.high,this.low,this.unsigned):t<32?(n=32-t,Zi(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),Zi(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},ur.rotl=ur.rotateLeft,ur.rotateRight=function(t){var n;return Li(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?Zi(this.high,this.low,this.unsigned):t<32?(n=32-t,Zi(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),Zi(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},ur.rotr=ur.rotateRight,ur.toSigned=function(){return this.unsigned?Zi(this.low,this.high,!1):this},ur.toUnsigned=function(){return this.unsigned?this:Zi(this.low,this.high,!0)},ur.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},ur.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},ur.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Oi.fromBytes=function(t,n,i){return i?Oi.fromBytesLE(t,n):Oi.fromBytesBE(t,n)},Oi.fromBytesLE=function(t,n){return new Oi(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Oi.fromBytesBE=function(t,n){return new Oi(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var sr=Oi;function or(t,n){return t.lessThan(n)?t:n}U(),St();var ar=9007199254740991,cr=A.pow(2,-52);function hr(t,n,i){return A.min(A.max(t,n),i)}function fr(t,n,i){return t===n||A.abs(t-n)<=i}function vr(t,n){if(t===n)return!0;var i=A.abs(t-n);return i<cr||i<A.max(A.abs(t),A.abs(n))*cr}function lr(t,n){return t%n+(t<0?n:0)}function dr(t){return t!=t}function gr(t,n){return t===n||dr(t)&&dr(n)}function mr(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function wr(t,n){return t.reduce((function(t,i){return t+n(i)}),0)}function pr(t){return!E(t.getTime())}function yr(){return Date.now()||(new Date).getTime()}function _r(t){return t/1e3}function br(t){return 1e3*t}var kr=1/6,Ar=sr.fromNumber(ar);function Tr(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Ar))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}var Sr=!!("ontouchstart"in self||self.DocumentTouch&&v instanceof self.DocumentTouch)||!(!d||!d.msMaxTouchPoints),Er=Pi(),Ir=!(!Er||!Er.webkitShowPlaybackTargetPicker),Rr=function(){function t(){this.Xg=void 0,this.vp=!1,this.Qe=Sr,this.Qs=!1,this.mp=!0}var n=t.prototype;return n.zg=function(){return 0},n.dp=function(t,n){return!0},n.fp=function(t){return t>=2*kr},xt(t,[{key:"Zg",get:function(){return void 0===this.Xg&&(this.Xg=this.zg()),this.Xg}},{key:"qg",get:function(){return!Gn.gg}},{key:"Yg",get:function(){if(f.screen)return{width:f.screen.width,height:f.screen.height}}},{key:"Kg",get:function(){return f.devicePixelRatio||1}},{key:"jg",get:function(){return Ir}},{key:"Qg",get:function(){return!1}},{key:"Jg",get:function(){return!0}},{key:"$g",get:function(){return!!(Gn.eg||Gn.su||Gn.xm)||!!Gn.Wm}},{key:"tp",get:function(){return Gn.Wm}},{key:"ep",get:function(){return!Gn.su}},{key:"sp",get:function(){return!0}},{key:"np",get:function(){return!0}},{key:"rp",get:function(){return!1}},{key:"op",get:function(){}},{key:"hp",get:function(){return!0}},{key:"ap",get:function(){return!1}},{key:"cp",get:function(){return Gn.Wm}},{key:"lp",get:function(){return!1}},{key:"_p",get:function(){return!1}}]),t}(),Cr=function(t){function n(){return t.call(this)||this}return Rt(n,t),n}(Rr);U(),St(),Dt(),Ct();var Nr=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.dp=function(t,n){if(t&&t.gp&&n&&n.gp){var i=xr(t.gp,"mp4a.40.2")&&xr(n.gp,"mp4a.40.5"),r=xr(t.gp,"mp4a.40.5")&&xr(n.gp,"mp4a.40.2"),e=xr(t.gp,"mp4a.40.2")&&xr(n.gp,"mp4a.40.34"),u=xr(t.gp,"mp4a.40.34")&&xr(n.gp,"mp4a.40.2"),s=xr(t.gp,"mp4a.40.5")&&xr(n.gp,"mp4a.40.34"),o=xr(t.gp,"mp4a.40.34")&&xr(n.gp,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},xt(n,[{key:"op",get:function(){if(Gn.Nv)return 4096}}]),n}(Cr);function xr(t,n){return t.indexOf(n)>-1}U(),St(),Ct();var Dr=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.fp=function(t){return t>=2},n}(Cr);U(),St(),Dt(),Ct();var Pr=function(t){function n(){var n;return(n=t.call(this)||this).vp=Gn.og>=11,n.mp=Gn.eg&&!(Gn.su&&Gn.og<10),n}return Rt(n,t),xt(n,[{key:"lp",get:function(){return Gn.og<17}},{key:"_p",get:function(){return!0}}]),n}(Cr);U(),St(),Dt(),Ct();var Mr,Br=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),xt(n,[{key:"hp",get:function(){return!Gn.Lv||(Gn.Tm?92!==Gn.Im:Gn.ym>=100)}}]),n}(Cr);U(),St(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St();var Or=function(){var t=Di();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}(),Lr=function(){if(Gn.Kv)return!1;var t=Di();if(!t)return!1;var n=t.volume;return t.volume=n/2+.1,n!==t.volume}();var Fr=function(t){function n(n){var i;return(i=t.call(this)||this).pp=n,i.vp=i.pp.vp,i.Qe=i.pp.Qe,i.mp=Or&&i.pp.mp,i}Rt(n,t);var i=n.prototype;return i.zg=function(){return this.pp.Zg},i.dp=function(t,n){return this.pp.dp(t,n)},i.fp=function(t){return this.pp.fp(t)},xt(n,[{key:"op",get:function(){return this.pp.op}},{key:"hp",get:function(){return this.pp.hp}},{key:"lp",get:function(){return this.pp.lp}}]),n}(Rr),Vr=function(t){function n(n){var i;return(i=t.call(this,n)||this).vp=!0,i.Qs=!0,i}return Rt(n,t),xt(n,[{key:"rp",get:function(){return Gn.su}}]),n}(Fr);U(),St();var Ur=function(){function t(t){this.yp=Wr(t)}var n=t.prototype;return n.wp=function(){return new this.yp},n.bp=function(t){return this.yp.isTypeSupported(t)},t}();function Wr(t){return t&&oi(f.ManagedMediaSource)?f.ManagedMediaSource:oi(f.MediaSource)?f.MediaSource:void 0}var jr=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.zg=function(){return Wr(!0)?t.prototype.zg.call(this):1},xt(n,[{key:"rp",get:function(){return!0}}]),n}(Vr);U(),St(),Dt(),Ct();var Zr=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.dp=function(n,i){return t.prototype.dp.call(this,n,i)},xt(n,[{key:"Qg",get:function(){return Gn.Dm<3}},{key:"Jg",get:function(){return Gn.Dm>=3}},{key:"Yg",get:function(){var t=this;return f.tizen&&!this.Ap&&f.tizen.systeminfo.getPropertyValue("DISPLAY",(function(n){var i=n.resolutionWidth,r=n.resolutionHeight;1===i&&1===r||(t.Ap={width:i,height:r})})),this.Ap}},{key:"ap",get:function(){return Gn.Dm<3}}]),n}(Fr);U(),St(),Dt(),Ct();var Xr=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),xt(n,[{key:"Yg",get:function(){var t=this;return f.webOS&&!this.Ap&&f.webOS.deviceInfo((function(n){t.Ap={width:n.screenWidth,height:n.screenHeight}})),this.Ap}},{key:"sp",get:function(){return!1}}]),n}(Fr);U(),St(),Dt(),Ct();var Gr=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),xt(n,[{key:"rp",get:function(){return!0}},{key:"_p",get:function(){return this.pp._p}}]),n}(Fr);!function(t){Mr=t}(function(){var t=function(){if(Gn.jm)return new Nr;if(Gn.Gm||Gn.Zm)return new Dr;if(Gn.eg)return new Pr;if(Gn.pm)return new Br;return new Cr}();return Gn.su?new jr(t):Gn.Qs?new Vr(t):Gn.Cm?new Zr(t):Gn.Mm?new Xr(t):Gn.Nv?new Gr(t):new Fr(t)}()),U(),St(),Dt(),Ct(),U(),St(),Dt(),Wt(),ct(),U(),St(),Wt();var Hr=!(Gn.Zm&&!Gn.zm),zr=self.console;function Yr(t){if($n(t))try{return JSON.stringify(t)}catch(t){}return t}function Kr(t){return t.map(Yr).join(" ")}function qr(t){var n=zr&&zr[t];return n?n.bind&&Hr?n.bind(zr):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];zr[t](Kr(i))}:void 0}var Jr=qr("log")||Si,Qr=qr("warn")||Jr.bind(void 0,"WARNING:"),$r=qr("error")||Jr.bind(void 0,"ERROR:"),te=function(){var t=zr&&zr.assert;return t?t.bind&&Hr?t.bind(zr):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];zr.assert(t,Kr(i))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t||$r.apply(void 0,["Assertion failed:"].concat(Ut(i)))}}();function ne(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),k.defineProperty(t,r.key,r)}}function ie(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){re(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&re(i,null,t.length,t),t}function re(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(e=0;e<c;e+=f)for(s=(u=e+i)+i,u>c&&(u=c),s>c&&(s=c),o=e,a=u;;)if(o<u&&a<s)n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<u)r[h++]=t[o++];else{if(!(a<s))break;r[h++]=t[a++]}}U(),St();var ee=/[a-zA-Z]/,ue=/[0-9]/,se=/[0-9a-fA-F]/,oe=/^0x/i,ae=/^[0-9]+$/,ce=/^[0-9a-fA-F]+$/,he=/^[0-7]+$/,fe=k.prototype.toString,ve=Array.isArray||function(t){return"[object Array]"===fe.call(t)},le=void 0!==n&&"symbol"==typeof r;function de(t){return ve(t)?t:Array.from(t)}function ge(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function me(t){return t>=65&&t<=90}function we(t){return me(t)||function(t){return t>=97&&t<=122}(t)}function pe(t){return t>=48&&t<=57}function ye(t){return pe(t)||we(t)}function _e(t){return pe(t)||t>=65&&t<=70||t>=97&&t<=102}function be(t){return me(t)?t+32:t}function ke(t){return pe(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Ae(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Te=A.min,Se=String.fromCharCode,Ee=16384;function Ie(t){for(var n=t.length,i=[],r=0;r<n;r+=Ee){var e=Te(r+Ee,n);i.push(Se.apply(null,t.slice(r,e)))}return i.join("")}var Re=2147483647,Ce=/[^\0-\x7E]/,Ne=/[\x2E\u3002\uFF0E\uFF61]/g,xe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},De=A.floor,Pe=String.fromCharCode;function Me(t){throw new RangeError(xe[t])}function Be(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var Oe,Le,Fe,Ve=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Ue=function(t,n,i){var r=0;for(t=i?De(t/700):t>>1,t+=De(t/n);t>455;r+=36)t=De(t/35);return De(r+36*t/(t+38))},We=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Ne,".")).split("."),n).join(".");return r+e}(t,(function(t){return Ce.test(t)?"xn--"+function(t){for(var n=[],i=(t=Be(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var a=o[s];a<128&&n.push(Pe(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=Re,v=0,l=t;v<l.length;v++){var d=l[v];d>=r&&d<f&&(f=d)}var g=h+1;f-r>De((Re-e)/g)&&Me("overflow"),e+=(f-r)*g,r=f;for(var m=0,w=t;m<w.length;m++){var p=w[m];if(p<r&&++e>Re&&Me("overflow"),p==r){for(var y=e,_=36;;_+=36){var b=_<=u?1:_>=u+26?26:_-u;if(y<b)break;var k=y-b,A=36-b;n.push(Pe(Ve(b+k%A,0))),y=De(k/A)}n.push(Pe(Ve(y,0))),u=Ue(e,g,h==c),e=0,++h}}++e,++r}return n.join("")}(t):t}))};function je(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Ie(n)}function Ze(t){if(t>=55296&&t<=57343)throw new y("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Xe(t,n){return t>>n&63|128}function Ge(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ze(t),n.push(t>>12&15|224),n.push(Xe(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Xe(t,12)),n.push(Xe(t,6))),n.push(63&t|128)):n.push(t)}function He(t){for(var n=[],i=0;i<t.length;i++){Ge(t[i],n)}return n}function ze(){if(Fe>=Le)throw new y("Invalid byte index");var t=255&Oe[Fe];if(Fe++,128==(192&t))return 63&t;throw new y("Invalid continuation byte")}function Ye(){var t,n;if(Fe>Le)throw new y("Invalid byte index");if(Fe===Le)return!1;if(t=255&Oe[Fe],Fe++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ze())>=128)return n;throw new y("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ze()<<6|ze())>=2048)return Ze(n),n;throw new y("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ze()<<12|ze()<<6|ze())>=65536&&n<=1114111)return n;throw new y("Invalid UTF-8 detected")}function Ke(t){return[37,Ae(t>>4),Ae(15&t)]}function qe(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Je(t){return qe(t)||32===t||34===t||60===t||62===t||96===t}function Qe(t){return Je(t)||35===t||63===t||123===t||125===t}function $e(t){return Qe(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function tu(t){return t<33||t>126||34===t||35===t||60===t||62===t}function nu(t){return tu(t)||39===t}function iu(t,n){if(!n(t))return[t];for(var i=He([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,Ke(u))}return r}function ru(t,n){for(var i=[],r=0,e=Be(t);r<e.length;r++){var u=e[r];i.push.apply(i,iu(u,n))}return je(i)}function eu(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&_e(t[r+1])&&_e(t[r+2])){var u=ke(t[r+1])<<4|ke(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(He(t))}function uu(t){return je(function(t){Oe=t.slice(),Le=Oe.length,Fe=0;for(var n,i=[];!1!==(n=Ye());)i.push(n);return i}(eu(Be(t))))}function su(t){var n=t.length,i=[0,0,0,0,0,0,0,0],r=0,e=null,u=0;if(u<n&&":"===t[u]){if(!(u+1<n&&":"===t[u+1]))throw new _;u+=2,e=r+=1}for(;u<n;){if(8===r)throw new _("Too many groups");if(":"!==t[u]){for(var s=0,o=0;o<4&&u<n&&se.test(t[u]);)s=s<<4|T(t[u],16),u+=1,o+=1;if("."===t[u]){if(0===o)throw new _;if(u-=o,r>6)throw new _;for(var a=0;u<n;){var c=null;if(a>0){if(!("."===t[u]&&a<4))throw new _;u+=1}if(!ue.test(t[u]))throw new _;for(;u<n&&ue.test(t[u]);){var h=T(t[u],10);if(null===c)c=h;else{if(0===c)throw new _;if((c=10*c+h)>255)throw new _}u+=1}i[r]=i[r]<<8|c,2!==(a+=1)&&4!==a||(r+=1)}if(4!==a)throw new _;break}if(":"===t[u]){if((u+=1)===n)throw new _}else if(u<n)throw new _;i[r]=s,r+=1}else{if(null!==e)throw new _("Too many :: groups");u+=1,e=r+=1}}if(null!==e){var f=r-e;for(r=7;0!==r&&f>0;)ge(i,r,e+f-1),r-=1,f-=1}else if(8!==r)throw new _;return i}function ou(t){var n=10,i=ae;return oe.test(t)?(t=t.slice(2),n=16,i=ce):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=he),""===t?0:i.test(t)?T(t,n):void 0}var au={Sp:4},cu=/[\0\t\n\r #%/:?@\[\\\]]/,hu=/[\0\t\n\r #/:?@\[\\\]]/;function fu(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new _("Invalid IPv6 address");return{Sp:2,Tp:su(t.slice(1,-1))}}if(!n)return function(t){if(hu.test(t))throw new _("Invalid code point in opaque host");var n=ru(t,qe);return""===n?au:{Sp:3,kp:n}}(t);var i=function(t){var n=function(t){return We(t.toLowerCase())}(t);return n}(uu(t));if(cu.test(i))throw new _("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=ou(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new _;if(i[i.length-1]>=A.pow(256,5-i.length))throw new _;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*A.pow(256,3-a);return o}}(i);return void 0!==r?{Sp:1,Tp:r}:""===i?au:{Sp:0,Ep:i}}function vu(t){switch(t.Sp){case 0:return t.Ep;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Tp);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Tp)+"]";case 3:return t.kp;case 4:return""}}var lu=/\+/g;function du(t){return 42===t||45===t||46===t||95===t||ye(t)}function gu(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(lu," "),o=o.replace(lu," ");var a=uu(s),c=uu(o);i.push([a,c])}}return i}function mu(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=wu(He(Be(r[0])))+"="+wu(He(Be(r[1])))}return n}function wu(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];32===r?n.push(43):du(r)?n.push(r):n.push.apply(n,Ke(r))}return Ie(n)}var pu=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function yu(t){var n=""+t,i=pu.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(bu(u))if(ku(u)||e===i-1)r.push(_u);else{var s=t.charCodeAt(e+1);ku(s)?(r.push(u,s),e++):r.push(_u)}else r.push(u)}return t.slice(0,n)+Ie(r)}(n,i.index):n}var _u=65533,bu=function(t){return 55296==(63488&t)},ku=function(t){return 0!=(1024&t)};function Au(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Tu(t){t.D_.length=0}function Su(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.D_,gu(n))}function Eu(t){if(t.ic){var n=mu(t.D_);""===n&&(n=null),t.ic.ic.xp=n}}var Iu=function(){function t(t){if(void 0===t&&(t=void 0),this.ic=null,null==t)this.D_=[];else if("object"==typeof t||"function"==typeof t)if(function(t){return t instanceof Iu&&!!ve(t.D_)&&(!le||t[r]===Ru)}(t))this.D_=t.D_.slice();else if(function(t){return null!=t&&(!!ve(t)||!!le&&"function"==typeof t[r])}(t)){this.D_=[];for(var n=0,i=de(t);n<i.length;n++){var e=de(i[n]);if(2!==e.length)throw new _("Invalid name-value pair");this.D_.push([yu(e[0]),yu(e[1])])}}else for(var u in this.D_=[],t)k.prototype.hasOwnProperty.call(t,u)&&this.D_.push([yu(u),yu(t[u])]);else(t=yu(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.D_=gu(t)}var n=t.prototype;return n.append=function(t,n){t=yu(t),n=yu(n),this.D_.push([t,n]),Eu(this)},n.delete=function(t){t=yu(t);for(var n=this.D_,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Eu(this)},n.get=function(t){t=yu(t);for(var n=this.D_,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=yu(t);for(var n=this.D_,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=yu(t);for(var n=this.D_,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=yu(t),n=yu(n);for(var i=this.D_,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),Eu(this)},n.sort=function(){ie(this.D_,Au),Eu(this)},n.toString=function(){return mu(this.D_)},n.entries=function(){return new Du(this.D_,Cu)},n.keys=function(){return new Du(this.D_,Nu)},n.values=function(){return new Du(this.D_,xu)},n.forEach=function(t){var n=this;this.D_.forEach((function(i){return t(i[1],i[0],n)}))},t}(),Ru=Iu.prototype.entries;le&&(Iu.prototype[r]=Ru);var Cu=function(t){return[t[0],t[1]]},Nu=function(t){return t[0]},xu=function(t){return t[1]},Du=function(){function t(t,n){this.Rp=0,this.D_=t,this.Ip=n}return t.prototype.next=function(){return this.Rp<this.D_.length?{done:!1,value:this.Ip(this.D_[this.Rp++])}:{done:!0,value:void 0}},t}(),Pu="null";var Mu=k.create(null);Mu.ftp=21,Mu.file=0,Mu.gopher=70,Mu.http=80,Mu.https=443,Mu.ws=80,Mu.wss=443;var Bu=/^(?:\.|%2e)$/i,Ou=/^(?:\.|%2e){2}$/i;function Lu(t){return Bu.test(t)}function Fu(t){return Ou.test(t)}function Vu(t){return void 0!==Mu[t]}function Uu(t){return Vu(t.Cp)}function Wu(t){return""!==t.Pp||""!==t.Dp}function ju(t){var n=t.length;if(!(n>=2))return!1;if(!Xu(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Zu(t){return 2===t.length&&ee.test(t[0])&&(":"===t[1]||"|"===t[1])}function Xu(t){return 2===t.length&&Zu(Ie(t))}function Gu(t){return Zu(t)&&":"===t[1]}function Hu(t){var n=t.Np;0!==n.length&&("file"===t.Cp&&1===n.length&&Gu(n[0])||n.pop())}function zu(t){return null===t.Mp||au===t.Mp||t.Lp||"file"===t.Cp}var Yu=-1,Ku=/\t|\n|\r/g,qu=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Ju(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new $u,t=t.replace(qu,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,a=!1,c=Be(t=t.replace(Ku,"")),h=c.length,f=0;f<=h;){var v=f<h?c[f]:Yu;switch(e){case 0:if(!we(v)){if(null===r){u.length=0,e=2;continue}throw new _("Invalid scheme")}u.push(be(v)),e=1;break;case 1:if(ye(v)||43===v||45===v||46===v)u.push(be(v));else{if(58!==v){if(null===r){u.length=0,e=2,f=0;continue}throw new _("Invalid scheme")}var l=je(u);if(null!==r){if(Vu(i.Cp)&&!Vu(l))return;if(!Vu(i.Cp)&&Vu(l))return;if((Wu(i)||null!==i.Bp)&&"file"===l)return;if("file"===i.Cp&&(i.Mp===au||null===i.Mp))return}if(i.Cp=l,null!==r)return void(Uu(i)&&i.Bp===Mu[i.Cp]&&(i.Bp=null));u.length=0,"file"===i.Cp?e=13:Uu(i)&&n&&n.Cp===i.Cp?e=3:Uu(i)?e=7:47===c[f+1]?(e=4,f+=1):(i.Lp=!0,i.Np.push(""),e=18)}break;case 2:if(!n||n.Lp&&35!==v)throw new _("Invalid scheme");n.Lp&&35===v?(i.Cp=n.Cp,i.Np=n.Np.slice(),i.xp=n.xp,i.Op="",i.Lp=!0,e=20):"file"!==n.Cp?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===c[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:i.Cp=n.Cp,Yu===v?(i.Pp=n.Pp,i.Dp=n.Dp,i.Mp=n.Mp,i.Bp=n.Bp,i.Np=n.Np.slice(),i.xp=n.xp):47===v?e=6:63===v?(i.Pp=n.Pp,i.Dp=n.Dp,i.Mp=n.Mp,i.Bp=n.Bp,i.Np=n.Np.slice(),i.xp="",e=19):35===v?(i.Pp=n.Pp,i.Dp=n.Dp,i.Mp=n.Mp,i.Bp=n.Bp,i.Np=n.Np.slice(),i.xp=n.xp,i.Op="",e=20):92===v&&Uu(i)?e=6:(i.Pp=n.Pp,i.Dp=n.Dp,i.Mp=n.Mp,i.Bp=n.Bp,i.Np=n.Np.slice(),i.Np.pop(),e=17,f-=1);break;case 6:!Uu(i)||47!==v&&92!==v?47===v?e=9:(i.Pp=n.Pp,i.Dp=n.Dp,i.Mp=n.Mp,i.Bp=n.Bp,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==c[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){s&&u.unshift(37,52,48),s=!0;for(var d=0;d<u.length;d++){var g=u[d];if(58!==g||a){var m=je(iu(g,$e));a?i.Dp+=m:i.Pp+=m}else a=!0}u.length=0}else if(Yu===v||47===v||63===v||35===v||Uu(i)&&92===v){if(s&&0===u.length)throw new _("Invalid host");f-=u.length+1,u.length=0,e=10}else u.push(v);break;case 10:case 11:if(null!==r&&"file"===i.Cp)f-=1,e=15;else if(58!==v||o)if(Yu===v||47===v||63===v||35===v||Uu(i)&&92===v){if(f-=1,Uu(i)&&0===u.length)throw new _("Invalid host");if(null!==r&&0===u.length&&(Wu(i)||null!==i.Bp))return;var w=fu(je(u),Uu(i));if(i.Mp=w,u.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),u.push(v);else{if(0===u.length)throw new _("Invalid host");var p=fu(je(u),Uu(i));if(i.Mp=p,u.length=0,e=12,11===r)return}break;case 12:if(pe(v))u.push(v);else{if(!(Yu===v||47===v||63===v||35===v||Uu(i)&&92===v||null!==r))throw new _("Invalid port");if(0!==u.length){var y=T(je(u),10);if(y>65535)throw new _("Invalid port");i.Bp=y===Mu[i.Cp]?null:y,u.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.Cp="file",47===v||92===v?e=14:n&&"file"===n.Cp?Yu===v?(i.Mp=n.Mp,i.Np=n.Np.slice(),i.xp=n.xp):63===v?(i.Mp=n.Mp,i.Np=n.Np.slice(),i.xp="",e=19):35===v?(i.Mp=n.Mp,i.Np=n.Np.slice(),i.xp=n.xp,i.Op="",e=20):(ju(c.slice(f))||(i.Mp=n.Mp,i.Np=n.Np.slice(),Hu(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.Cp&&!ju(c.slice(f))&&(Gu(n.Np[0])?i.Np.push(n.Np[0]):i.Mp=n.Mp),e=17,f-=1);break;case 15:if(Yu===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&Xu(u))e=17;else if(0===u.length){if(i.Mp=au,null!==r)return;e=16}else{var b=fu(je(u),Uu(i));if(0===b.Sp&&"localhost"===b.Ep&&(b=au),i.Mp=b,null!==r)return;u.length=0,e=16}else u.push(v);break;case 16:Uu(i)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(i.xp="",e=19):null===r&&35===v?(i.Op="",e=20):Yu!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(Yu===v||47===v||Uu(i)&&92===v||null===r&&(63===v||35===v)){var k=je(u);if(Fu(k)?(Hu(i),47===v||Uu(i)&&92===v||i.Np.push("")):!Lu(k)||47===v||Uu(i)&&92===v?Lu(k)||("file"===i.Cp&&0===i.Np.length&&Xu(u)&&(au!==i.Mp&&null!==i.Mp&&(i.Mp=au),u[1]=58,k=je(u)),i.Np.push(k)):i.Np.push(""),u.length=0,"file"===i.Cp&&(Yu===v||63===v||35===v))for(;i.Np.length>1&&""===i.Np[0];)i.Np.shift();63===v?(i.xp="",e=19):35===v&&(i.Op="",e=20)}else u.push.apply(u,iu(v,Qe));break;case 18:63===v?(i.xp="",e=19):35===v?(i.Op="",e=20):Yu!==v&&(i.Np[0]+=je(iu(v,qe)));break;case 19:null===r&&35===v?(i.Op="",e=20):Yu!==v&&(i.xp+=je(iu(v,Uu(i)?nu:tu)));break;case 20:Yu===v||0===v||(i.Op+=je(iu(v,Je)))}f++}return i}function Qu(t,n,i,r){try{Ju(t,n,i,r)}catch(t){}}var $u=function(){this.Cp="",this.Pp="",this.Dp="",this.Mp=null,this.Bp=null,this.Np=[],this.xp=null,this.Op=null,this.Lp=!1};function ts(t){switch(t.Cp){case"blob":var n;try{n=Ju(t.Np[0],null)}catch(t){return Pu}return ts(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return function(t,n,i){return t+"://"+vu(n)+(null===i?"":":"+i)}(t.Cp,t.Mp,t.Bp);default:return Pu}}var ns=function(){function t(t,n){var i,r=null;if(null!=n)if(function(t){return null!=t&&t instanceof ns&&"object"==typeof t.ic}(n))r=n.ic;else try{r=Ju(String(n),null)}catch(t){throw new _("Invalid base URL: "+t.message)}try{i=Ju(String(t),r)}catch(t){throw new _("Invalid URL: "+t.message)}var e=i.xp;this.ic=i,this.xp=function(t){var n=new Iu;return null!==t&&Su(n,t),n}(e),this.xp.ic=this}var n=t.prototype;return n.toString=function(){return this.href},n.toJSON=function(){return this.href},function(t,n,i){n&&ne(t.prototype,n),i&&ne(t,i)}(t,[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Cp+":";if(null!==t.Mp?(i+="//",Wu(t)&&(i+=t.Pp,""!==t.Dp&&(i+=":"+t.Dp),i+="@"),i+=vu(t.Mp),null!==t.Bp&&(i+=":"+t.Bp)):null===t.Mp&&"file"===t.Cp&&(i+="//"),t.Lp)i+=t.Np[0];else for(var r=0,e=t.Np;r<e.length;r++)i+="/"+e[r];return null!==t.xp&&(i+="?"+t.xp),n||null===t.Op||(i+="#"+t.Op),i}(this.ic)},set:function(t){var n;try{n=Ju(String(t),null)}catch(t){throw new _("Invalid URL: "+t.message)}this.ic=n,Tu(this.xp);var i=this.ic.xp;null!==i&&Su(this.xp,i)}},{key:"origin",get:function(){return ts(this.ic)}},{key:"protocol",get:function(){return this.ic.Cp+":"},set:function(t){Qu(t+":",null,this.ic,0)}},{key:"username",get:function(){return this.ic.Pp},set:function(t){zu(this.ic)||(this.ic.Pp=ru(t,$e))}},{key:"password",get:function(){return this.ic.Dp},set:function(t){zu(this.ic)||(this.ic.Dp=ru(t,$e))}},{key:"host",get:function(){var t=this.ic,n=t.Mp;if(null===n)return"";var i=t.Bp,r=vu(n);return null!==i&&(r+=":"+i),r},set:function(t){this.ic.Lp||Qu(t,null,this.ic,10)}},{key:"hostname",get:function(){var t=this.ic.Mp;return null===t?"":vu(t)},set:function(t){this.ic.Lp||Qu(t,null,this.ic,11)}},{key:"port",get:function(){var t=this.ic.Bp;return null===t?"":""+t},set:function(t){zu(this.ic)||(""===t?this.ic.Bp=null:Qu(t,null,this.ic,12))}},{key:"pathname",get:function(){var t=this.ic.Np;return this.ic.Lp?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.ic.Lp||(this.ic.Np.length=0,Qu(t,null,this.ic,16))}},{key:"search",get:function(){var t=this.ic.xp;return null===t||""===t?"":"?"+t},set:function(t){t=yu(t);var n=this.ic;if(""===t)return n.xp=null,void Tu(this.xp);"?"===t[0]&&(t=t.slice(1)),n.xp="",Qu(t,null,n,19),Su(this.xp,t)}},{key:"searchParams",get:function(){return this.xp}},{key:"hash",get:function(){var t=this.ic.Op;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.ic.Op="",Qu(t,null,this.ic,20)):this.ic.Op=null}}]),t}();function is(t){return t.document&&t.document.baseURI||t.location.href||""}U(),St();var rs=function(){function t(){this.$p=new es,this.nw=Mr,this.iw=us(),self.performance&&self.performance.now?this.Wg=function(){return self.performance.now()}:this.Wg=yr}var n=t.prototype;return n.Fp=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Jr.apply(void 0,Ut(n))},n.Vp=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Qr.apply(void 0,Ut(n))},n.Wp=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];$r.apply(void 0,Ut(n))},n.Up=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];te.apply(void 0,[t].concat(Ut(i)))},n.Gg=function(t,n){return g(t,n)},n.Gp=function(t,n){return w(t,n)},n.Ug=function(t){m(t)},n.Hp=function(t){p(t)},n.Zp=function(){return this.Xp.Zp()},n.zp=function(){return this.Xp.zp()},n.qp=function(){return this.Xp.qp()},n.Yp=function(){return this.Xp.Yp()},n.Kp=function(){return this.Xp.Kp()},n.jp=function(t,n){return this.Xp.jp(t,n)},n.Qp=function(t){return this.Xp.Qp(t)},n.Ih=function(t,n){var i;return void 0===n&&(n=is(f)),i="object"!==(void 0===n?"undefined":W(n))||n instanceof ns?n:n.href,new ns(t,i)},n.ew=function(t,n){if(void 0===n&&(n=is(f)),this.iw){var i=ni(n)?n:n.toString();return new self.URL(t,i).href}return this.Ih(t,n).href},xt(t,[{key:"Jp",get:function(){return this.$p}},{key:"Ys",get:function(){return this.nw}},{key:"ow",get:function(){return{hw:d&&d.userAgent.match(/Android /i)?"Android":"other",aw:Boolean(d&&d.userAgent.match(/Android 8.0.0/i))}}},{key:"uw",get:function(){return self&&self.location&&"https:"===self.location.protocol}},{key:"cw",get:function(){return"languages"in d?d.languages.slice():[d.language]}}]),t}(),es=function(){function t(){}return xt(t,[{key:"lw",get:function(){return d.oscpu}},{key:"Ys",get:function(){return d.platform}},{key:"dw",get:function(){return d.vendor}},{key:"fw",get:function(){return d.vendorSub}}]),t}();function us(){if(self.URL)try{var t=new self.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href}catch(t){}return!1}function ss(){return ss=k.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)k.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},ss.apply(this,arguments)}function os(){var t=k.create(null);return t._w=void 0,delete t._w,t}function as(){return new ls}function cs(){return new ds}function hs(t){var n=as();for(var i in t)Hn.call(t,i)&&n.set(i,t[i]);return n}function fs(t){var n=[];return t.forEach((function(t){return n.push(t)})),n}U(),St(),Gt(),U(),St(),Jt(),U(),St(),Dt(),rn();var vs="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,ls=vs||function(){var t=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=k.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}();return function(){function n(){this.data=os(),this.size=0}var i=n.prototype;return i.get=function(t){return this.data[t]},i.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},i.has=function(t){return t in this.data},i.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},i.clear=function(){this.data=os(),this.size=0},i.keys=function(){return new t(this.data,(function(t,n){return n}))},i.values=function(){return new t(this.data,(function(t,n){return t[n]}))},i.entries=function(){return new t(this.data,(function(t,n){return[n,t[n]]}))},i.forEach=function(t){for(var n in this.data)t(this.data[n],n)},n}()}();var ds=vs||function(){var t=function(){function t(t,n){this.mw=t,this.gw=n}return t.prototype.next=function(){var t=this.mw.next();return t.done?t:{value:this.gw(t.value),done:!1}},t}();return function(){function n(){this.P_=as()}var i=n.prototype;return i.get=function(t){return this.P_.get(""+t)},i.set=function(t,n){return this.P_.set(""+t,n),this},i.has=function(t){return this.P_.has(""+t)},i.delete=function(t){return this.P_.delete(""+t)},i.clear=function(){this.P_.clear()},i.keys=function(){return new t(this.P_.keys(),(function(t){return Number(t)}))},i.values=function(){return this.P_.values()},i.entries=function(){return new t(this.P_.entries(),(function(t){var n=nn(t,2),i=n[0],r=n[1];return[Number(i),r]}))},i.forEach=function(t){this.P_.forEach((function(n,i){t(n,Number(i))}))},xt(n,[{key:"size",get:function(){return this.P_.size}}]),n}()}();U(),St(),U(),St();var gs=function(t){return t.pw="9a04f079-9840-4286-ab92-e65be0885f95",t.ww="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.yw="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.Aw="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",t}({}),ms="urn:mpeg:dash:mp4protection:2011",ws="cenc",ps="sinf",ys="skd",_s="9a04f079-9840-4286-ab92-e65be0885f95",bs="urn:uuid:"+_s,ks="com.microsoft.playready",As="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Ts="urn:uuid:"+As,Ss="com.widevine.alpha",Es="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Is="urn:uuid:"+Es,Rs="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Cs="urn:uuid:"+Rs,Ns="com.apple.fps.1_0",xs="com.apple.streamingkeydelivery",Ds="identity";U(),St();var Ps=function(t){return t.pw="playready",t.ww="widevine",t.Aw="fairplay",t.yw="clearkey",t.Sw="aes128",t}({}),Ms={Tw:Ps.pw,Ew:ks,xw:"cenc",Rw:_s,Iw:bs,Cw:"PlayReady"},Bs={Tw:Ps.ww,Ew:Ss,xw:"cenc",Rw:As,Iw:Ts,Cw:"Widevine"},Os={Tw:Ps.Aw,Ew:Ns,xw:"skd",Rw:Rs,Iw:Cs,Cw:"FairPlay"},Ls={Tw:Ps.Aw,Ew:"com.apple.fps",xw:"sinf",Rw:Rs,Iw:Cs,Cw:"FairPlay"},Fs={Tw:Ps.yw,Ew:"org.w3.clearkey",xw:"cenc",Rw:Es,Iw:Is,Cw:"ClearKey"},Vs=[Ms,Bs,Os,Fs],Us=[Ms,Bs,Ls,Fs];function Ws(t){return Vs.filter((function(n){return n.Iw===t.toLowerCase()}))}U(),St(),Wt();var js="function"==typeof String.prototype.replaceAll?function(t,n,i){return t.replaceAll(n,i)}:function(t,n,i){return t.split(n).join(i)};function Zs(t,n){return Yn(t)&&-1!==t.indexOf(n)}var Xs="function"==typeof String.prototype.startsWith?function(t,n){return Yn(t)&&t.startsWith(n)}:function(t,n){return Yn(t)&&t.substr(0,n.length)===n},Gs="function"==typeof String.prototype.endsWith?function(t,n){return Yn(t)&&t.endsWith(n)}:function(t,n){return Yn(t)&&t.substr(t.length-n.length,n.length)===n};function Hs(t,n){return t.length===n.length&&t.toUpperCase()===n.toUpperCase()}var zs="function"==typeof String.prototype.repeat?function(t,n){return t.repeat(n)}:function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e},Ys="function"==typeof String.prototype.padStart?function(t,n,i){return void 0===i&&(i=" "),t.padStart(n,i)}:function(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=zs(r,e/r.length)),r.slice(0,e)+t)},Ks=(String.prototype.padEnd,16384),qs="function"==typeof String.fromCodePoint?function(t){var n;return t.length<=Ks?(n=String).fromCodePoint.apply(n,Ut(t)):Qs(t,String.fromCodePoint)}:function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Js(n)};function Js(t){var n;return t.length<=Ks?(n=String).fromCharCode.apply(n,Ut(t)):Qs(t,String.fromCharCode)}function Qs(t,n){for(var i=[],r=0;r<t.length;r+=Ks)i.push(n.apply(void 0,Ut(t.slice(r,r+Ks))));return i.join("")}function $s(t){return t.replace(/[\\"]/g,(function(t){return"\\"+t}))}var to=Gn.pm&&Gn.ym>=42||Gn.jm&&Gn.Jm>=38||Gn.Gm||Gn.zm||Gn.ag&&Gn.dg>=29;function no(t,n){return Zs(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[ss({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[ss({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function io(){return void 0!==d&&"function"==typeof d.requestMediaKeySystemAccess}function ro(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var eo=function(){function t(t){this.Pw=as(),this.Mw=void 0,this.Nw=t}var n=t.prototype;return n.Kp=function(){return this.Qp(Bs)},n.zp=function(){return this.Qp(Fs)},n.Yp=function(){return this.Qp(Ms)},n.qp=function(){return this.Qp(Os)},n.Qp=function(t){var n=t.Iw,i=this.Pw.get(n);if(i)return i;var r=this.jp(t,'video/mp4; codecs="avc1.42000a"');return this.Pw.set(n,r),r},n.jp=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,i.Nw.Dw(t.Ew,[no(n,!0)])];case 1:return r.sent(),[2,!0];case 2:r.sent(),r.label=3;case 3:return r.trys.push([3,5,,6]),[4,i.Nw.Dw(t.Ew,[no(n,!1)])];case 4:return r.sent(),[2,!0];case 5:return r.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}}))}))()},n.Zp=function(){return this.Mw||(this.Mw=this.Lw()),this.Mw},n.Lw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return"https:"===f.location.protocol?[2,!1]:to?[4,t.zp()]:[2,!1];case 1:return n.sent()?[2,!1]:[2,!0]}}))}))()},t}();function uo(t,n){return oo(t.slice(),n)}function so(t,n){var i=oo(t,n);return i!==t&&ao(i,void 0,t.length,t),t}function oo(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){ao(i,n,u,e);var s=i;i=e,e=s}return i}function ao(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(u=0;u<c;u+=f)for(e=(s=u+i)+i,s>c&&(s=c),e>c&&(e=c),o=u,a=s;;)if(o<s&&a<e)n&&n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<s)r[h++]=t[o++];else{if(!(a<e))break;r[h++]=t[a++]}}U(),St(),U(),St(),Gt(),Jt(),U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Ct(),U(),St(),Gt(),Wt(),Jt(),U(),St(),U(),St();var co=function(t){return t[t.eh=0]="eh",t[t.Bw=1]="Bw",t[t.Ow=-1]="Ow",t}({}),ho=function(t,n){return(0|t)-(0|n)},fo=function(t,n){return t===n?0:t<n?-1:t>n?1:E(t)?E(n)?0:1:-1};function vo(t,n,i){return fr(t,n,i)?0:fo(t,n)}var lo=function(t,n){return vr(t,n)?0:fo(t,n)};var go="function"==typeof Array.prototype.find?function(t,n){return t.find(n)}:function(t,n){var i=yo(t,n);return-1===i?void 0:t[i]},mo=go,wo="function"==typeof Array.prototype.findLast?function(t,n){return t.findLast(n)}:function(t,n){var i=_o(t,n);return-1===i?void 0:t[i]},po=wo,yo="function"==typeof Array.prototype.findIndex?function(t,n){return t.findIndex(n)}:function(t,n){for(var i=0;i<t.length;i+=1){if(n(t[i],i,t))return i}return-1},_o="function"==typeof Array.prototype.findLastIndex?function(t,n){return t.findLastIndex(n)}:function(t,n){for(var i=t.length-1;i>=0;i-=1){if(n(t[i],i,t))return i}return-1};function bo(t,n){var i=t.indexOf(n);return-1!==i&&(ko(t,i),!0)}function ko(t,n){0===n?t.shift():t.splice(n,1)}function Ao(t,n){for(var i=new Array(t.length),r=0,e=0;e<t.length;){if(t[e]===n){e++,i.length-=1;break}i[r++]=t[e++]}for(;e<t.length;)i[r++]=t[e++];return i}function To(t,n){return-1!==t.indexOf(n)}function So(t,n,i){if(t===n)return!0;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r+=1)if(!i(t[r],n[r]))return!1;return!0}function Eo(t){t.length=0}function Io(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!To(n,t[i]))return!1}return!0}Array.prototype.flat;var Ro="function"==typeof Array.prototype.flatMap?function(t,n){return t.flatMap(n)}:function(t,n){for(var i=[],r=0;r<t.length;r++){var e;(e=i).push.apply(e,Ut(n(t[r],r)))}return i};function Co(t,n){return xo(t,(function(t,i){return fo(n(t),n(i))}))}function No(t,n){return Do(t,(function(t,i){return fo(n(t),n(i))}))}function xo(t,n){if(0!==t.length)return t.reduce((function(t,i){return n(t,i)<=0?t:i}))}function Do(t,n){return xo(t,(function(t,i){return n(i,t)}))}function Po(t){return t.filter((function(n,i){return t.indexOf(n)===i}))}function Mo(t,n){return ut.all(t.map(n)).then((function(n){return t.filter((function(t,i){return n[i]}))}))}function Bo(t,n){return Oo.apply(this,arguments)}function Oo(){return Oo=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))})),Oo.apply(this,arguments)}function Lo(){return Lo=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(!e.sent())return[2,!1];e.label=3;case 3:return i++,[3,1];case 4:return[2,!0]}}))})),Lo.apply(this,arguments)}function Fo(t,n,i){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!i(t[r],n[r]))return!1;return!0}U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),qt(),U(),St(),qt(),U(),St(),Dt(),Ct();var Vo=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];y.apply(this,n)};(Vo.prototype=k.create(y.prototype)).constructor=Vo;var Uo=function(t){function n(n,i){var r;return(r=t.call(this)||this).message=n||"Unknown error",r.cause=i,y.captureStackTrace&&y.captureStackTrace(r,r.constructor),r}return Rt(n,t),xt(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Vo),Wo=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return Rt(n,t),xt(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Uo);function jo(t){return t instanceof y&&"AbortError"===t.name}function Zo(t){if(t&&t.Fw)throw new Wo}function Xo(t){if(jo(t))throw t}function Go(t){if(!jo(t))throw t}function Ho(t,n){return n?new ut((function(i,r){if(n.Fw)return t.catch(Si),r(new Wo);var e=function(){n.Vw(e),r(new Wo)};n.Ww(e),t.then((function(t){n.Vw(e),i(t)}),(function(t){n.Vw(e),r(t)}))})):t}function zo(t,n){return Yo.apply(this,arguments)}function Yo(){return Yo=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i={stack:[],error:void 0,hasError:!1},e.label=1;case 1:return e.trys.push([1,3,4,5]),Yt(i,n,!1),[4,t];case 2:return[2,e.sent()];case 3:return r=e.sent(),i.error=r,i.hasError=!0,[3,5];case 4:return Kt(i),[7];case 5:return[2]}}))})),Yo.apply(this,arguments)}function Ko(t,n){return qo.apply(this,arguments)}function qo(){return qo=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i={stack:[],error:void 0,hasError:!1},e.label=1;case 1:return e.trys.push([1,3,4,5]),Yt(i,n,!1),[4,t(n.Uw)];case 2:return[2,e.sent()];case 3:return r=e.sent(),i.error=r,i.hasError=!0,[3,5];case 4:return Kt(i),[7];case 5:return[2]}}))})),qo.apply(this,arguments)}U(),St(),Gt(),Jt(),U(),St(),Dt();var Jo=function(){function t(){this.Fw=!1,this.Hw=!1,this.Zw=[],this.zw=[]}var n=t.prototype;return n.Gw=function(){if(!this.Fw&&!this.Hw){this.Fw=!0;for(var t=0,n=this.Zw.slice();t<n.length;t++){(0,n[t])()}this.Xw()}},n.Xw=function(){if(!this.Hw){this.Hw=!0;for(var t=0,n=this.zw.slice();t<n.length;t++){(0,n[t])()}Eo(this.Zw),Eo(this.zw)}},n.Ww=function(t){this.Hw||this.Zw.push(t)},n.Vw=function(t){this.Hw||bo(this.Zw,t)},n.qw=function(t){this.Hw||this.zw.push(t)},n.Yw=function(t){this.Hw||bo(this.zw,t)},t}(),Qo=function(){function t(){this.Kw=new Jo}var n=t.prototype;return n.jw=function(){this.Kw.Gw()},n.Xw=function(){this.Kw.Xw()},n.Qw=function(t){var n=this.Kw;if(!n.Fw)if(t.Fw)n.Gw();else if(!n.Hw&&!t.Hw){var i=function(){r(),n.Gw()},r=function(){t.Vw(i),t.Yw(r),n.Vw(i),n.Yw(r)};t.Ww(i),t.qw(r),n.Ww(i),n.qw(r)}},n.Jw=function(){var n=new t,i=new t,r=n.Uw,e=i.Uw,u=this.Kw,s=function(){r.Fw&&e.Hw||e.Fw&&r.Hw?u.Gw():r.Hw&&e.Hw&&u.Xw()};r.Ww(s),e.Ww(s),r.qw(s),e.qw(s),n.Qw(u),i.Qw(u);return u.qw((function(){r.Vw(s),e.Vw(s),r.Yw(s),e.Yw(s)})),[n,i]},n[e]=function(){this.jw()},t.$w=function(n){for(var i=new t,r=0;r<n.length;r++){var e=n[r];void 0!==e&&i.Qw(e)}return i},xt(t,[{key:"Uw",get:function(){return this.Kw}}]),t}(),$o=ut.resolve(),ta="function"==typeof queueMicrotask?queueMicrotask:function(t){$o.then(t)};function na(t){t.then(Si,Si)}function ia(t){return ra.apply(this,arguments)}function ra(){return ra=Zt((function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,ut.all(t)];case 1:return[2,i.sent()];case 2:return n=i.sent(),[4,ut.all(t.map((function(t){return t.catch(Si)})))];case 3:throw i.sent(),n;case 4:return[2]}}))})),ra.apply(this,arguments)}function ea(t,n){return new ut((function(i,r){if(void 0!==n&&n.Fw)r(new Wo);else{var e=qn.Gg((function(){void 0!==n&&n.Vw(u),i()}),t),u=function(){qn.Ug(e),r(new Wo)};void 0!==n&&n.Ww(u)}}))}function ua(t,n){return sa.apply(this,arguments)}function sa(){return sa=Zt((function(t,n){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:i={stack:[],error:void 0,hasError:!1},u.label=1;case 1:return u.trys.push([1,3,4,5]),r=Yt(i,new Qo,!1),[4,ut.race([t,ea(n,r.Uw).then((function(){throw new y("Timeout")}))])];case 2:return[2,u.sent()];case 3:return e=u.sent(),i.error=e,i.hasError=!0,[3,5];case 4:return Kt(i),[7];case 5:return[2]}}))})),sa.apply(this,arguments)}function oa(t,n,i){if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var aa=function(){function t(t){var n=this;this.iy=os(),this.uy=void 0,this.sy=0,this.Ds=function(t){n._o(t)},this.ly=null!=t?t:this}var n=t.prototype;return n.bn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.ey(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.ey(r,n)}},n.ey=function(t,n){var i=this.iy[t];void 0===i?this.iy[t]=n:"function"==typeof i?this.iy[t]=[i,n]:0===this.sy?i.push(n):this.iy[t]=i.concat(n)},n.oy=function(t){if("function"==typeof t){var n=this.uy;void 0===n?this.uy=t:"function"==typeof n?this.uy=[n,t]:0===this.sy?n.push(t):this.uy=n.concat(t)}},n.Ro=function(){this.iy=os(),this.uy=void 0},n._o=function(t){this.sy++;var n=this.iy[t.type],i=this.uy;void 0!==n&&oa(this.ly,t,n),void 0!==i&&oa(this.ly,t,i),this.sy--},n.vn=function(t,n){if("function"==typeof n)if("string"==typeof t)this._y(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this._y(r,n)}},n._y=function(t,n){var i=this.iy[t];void 0!==i&&("function"==typeof i?i===n&&(this.iy[t]=void 0):0===this.sy?bo(i,n):this.iy[t]=Ao(i,n))},n.vy=function(t){if("string"==typeof t)this.iy[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.iy[i]=void 0}},n.gy=function(t){var n=this.uy;void 0!==n&&("function"==typeof n?n===t&&(this.uy=void 0):0===this.sy?bo(n,t):this.uy=Ao(n,t))},n.py=function(t,n){var i=this;return new ut((function(r,e){if(n&&n.Fw)return e(new Wo);var u=function(t){o(),r(t)},s=function(){o(),e(new Wo)},o=function(){i.vn(t,u),n&&n.Vw(s)};i.bn(t,u),n&&n.Ww(s)}))},t}(),ca=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype._o=function(n){var i=this;ta((function(){t.prototype._o.call(i,n)}))},n}(aa),ha=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.oy=function(n){t.prototype.oy.call(this,n)},i.gy=function(n){t.prototype.gy.call(this,n)},n}(aa);U(),St(),Ct(),U(),St();var fa=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n};U(),St();var va=function(t){return t.wy="yy",t.Ay="Sy",t.Ty="contentprotectionerror",t.Ey="contentprotectionsuccess",t.xy="currentsourcechange",t.Ry="destroy",t.Iy="durationchange",t.Cy="emptied",t.Py="encrypted",t.Dy="ended",t.Ny="My",t.Ly="By",t.Oy="Fy",t.Vy="Wy",t.Uy="loadstart",t.Gy="manifestupdate",t.Hy="nosupportedrepresentationfound",t.Zy="offline",t.Xy="online",t.zy="pause",t.ho="play",t.qy="progress",t.Yy="ratechange",t.Ky="representationchange",t.jy="resize",t.Qy="seeked",t.Jy="seeking",t.$y="segmentnotfound",t.eb="ib",t.sb="ob",t.uo="sourcechange",t.hb="timeupdate",t.ub="volumechange",t.fb="_b",t.vb="mb",t.gb="metricschange",t}({}),la=["cenc"],da=["cbcs","cbcs-1-9"],ga=function(t){function n(n){var i;return(i=t.call(this,va.vb)||this).pb=n,i}return Rt(n,t),n}(fa),ma=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"wb")||this).yb=n,u.bb=i,u.wb=r,u.Ab=e,u}return Rt(n,t),n}(fa),wa=function(t){function n(){return t.call(this,"lt")||this}return Rt(n,t),n}(fa),pa=function(t){return t.Py="Sb",t.Tb="kb",t}({}),ya=function(t){function n(n,i){var r;return(r=t.call(this,"Sb")||this).xw=n,r.Eb=i,r}return Rt(n,t),n}(fa),_a=function(t){function n(){return t.call(this,"kb")||this}return Rt(n,t),n}(fa);U(),St(),Dt(),U(),St(),U(),St();var ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ka=16383,Aa=/[\t\n\f\r ]/g;function Ta(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Sa()}function Sa(){throw new y("Invalid base64 input")}function Ea(t){var n=t;Aa.test(n)&&(n=n.replace(Aa,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return Sa();for(var e,u=0===r?0:4-r,s=new I(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,a=0,c=0;a<o;a+=4)e=Ta(n.charCodeAt(a))<<18|Ta(n.charCodeAt(a+1))<<12|Ta(n.charCodeAt(a+2))<<6|Ta(n.charCodeAt(a+3)),s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===u?(e=Ta(n.charCodeAt(a))<<2|Ta(n.charCodeAt(a+1))>>4,s[c++]=255&e):1===u&&(e=Ta(n.charCodeAt(a))<<10|Ta(n.charCodeAt(a+1))<<4|Ta(n.charCodeAt(a+2))>>2,s[c++]=e>>8&255,s[c++]=255&e),s}function Ia(t,n,i){return ba[t>>2]+ba[(3&t)<<4|n>>4]+ba[(15&n)<<2|i>>6]+ba[63&i]}function Ra(t,n,i){for(var r=[],e=n;e<i;e+=3)r.push(Ia(t[e],t[e+1],t[e+2]));return r.join("")}function Ca(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=ka)r.push(Ra(t,u,A.min(e,u+ka)));if(1===i){var s=t[n-1];r.push(ba[s>>2]+ba[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];r.push(ba[o>>2]+ba[(3&o)<<4|a>>4]+ba[(15&a)<<2]+"=")}return r.join("")}function Na(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]/g,"")}function xa(t,n){var i=n.nc,r=t.getUint8(i>>3),e=1<<7-(7&i);return n.xb(1),(r&e)===e?1:0}function Da(t,n,i){for(var r=0,e=0;e<i;e++)r=2*r+xa(t,n);return r}U(),St(),Dt(),U(),St(),Dt();var Pa=function(){function t(t){void 0===t&&(t=0),this.rc=t}var n=t.prototype;return n.xb=function(t){this.rc+=t},n.Rb=function(t){this.rc=t},n.Ib=function(){return new t(this.nc)},xt(t,[{key:"nc",get:function(){return this.rc}}]),t}();var Ma=A.clz32||function(t){var n=32,i=t>>16;return i&&(n-=16,t=i),(i=t>>8)&&(n-=8,t=i),(i=t>>4)&&(n-=4,t=i),(i=t>>2)&&(n-=2,t=i),(i=t>>1)?n-2:n-t};function Ba(t){if(t>=55296&&t<=57343)throw new y("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Oa(t,n){return t>>n&63|128}function La(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ba(t),n.push(t>>12&15|224),n.push(Oa(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Oa(t,12)),n.push(Oa(t,6))),n.push(63&t|128)):n.push(t)}function Fa(t,n){if(n.nc>=t.length)throw new y("Invalid byte index");var i=255&t[n.nc];if(n.xb(1),128==(192&i))return 63&i;throw new y("Invalid continuation byte")}function Va(t,n){var i=n.nc;if(i>t.length)throw new y("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.xb(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|Fa(t,n);if(e>=128)return e;throw new y("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|Fa(t,n)<<6|Fa(t,n);if(u>=2048)return Ba(u),u;throw new y("Invalid continuation byte")}if(240==(248&r)){var s=(7&r)<<18|Fa(t,n)<<12|Fa(t,n)<<6|Fa(t,n);if(s>=65536&&s<=1114111)return s}throw new y("Invalid UTF-8 detected")}U(),St(),U(),St();var Ua=65279;var Wa=[128,64,32,16,8,4,2,1],ja=function(){function t(t){this.Pb=t}return t.prototype.Cb=function(t){return Za(this.Pb,t)},t}();function Za(t,n){return(t&n)===n}function Xa(t,n){return Za(t,Wa[n])}function Ga(t,n){var i=t.getUint8(n.nc);return n.xb(1),i}function Ha(t,n,i){t.setUint8(n.nc,i),n.xb(1)}function za(t,n,i){var r=Tc(Ic(t),n.nc,n.nc+i);return n.xb(r.byteLength),r}function Ya(t,n,i){Ic(t).set(Ic(i),n.nc),n.xb(i.byteLength)}function Ka(t,n,i){return n.nc+i<=t.byteLength}function qa(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,u=0;u<i;u++)r+=Ga(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+Ga(t,n);return r}(t,n,i)}function Ja(t,n){var i=t.getUint8(n.nc);return n.xb(1),i}function Qa(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.nc,i);return n.xb(2),r}function $a(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.nc,i,r),n.xb(2)}function tc(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.nc,i);return n.xb(4),r}function nc(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.nc,i,r),n.xb(4)}function ic(t,n,i){void 0===i&&(i=!1);var r=tc(t,n,i),e=tc(t,n,i),u=i?e:r,s=i?r:e;return sr.fromBits(s,u,!0)}function rc(t,n,i,r){void 0===r&&(r=!1);var e=i.getHighBitsUnsigned(),u=i.getLowBitsUnsigned(),s=r?e:u;nc(t,n,r?u:e,r),nc(t,n,s,r)}function ec(t,n){return oc(t,n)}function uc(t,n,i){return Js(Dc(za(t,n,i)))}function sc(t,n){var i,r=Ga(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&Ga(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Ga(t,n))+(63&Ga(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Ga(t,n))+64*(63&Ga(t,n))+(63&Ga(t,n))),i}function oc(t,n){return ac(t,n,!0)}function ac(t,n,i){for(var r=[];n.nc<t.byteLength;){var e=Ga(t,n);if(i&&!e)break;r.push(e)}return Js(r)}function cc(t,n,i){for(var r=i.length,e=0;e<r;e+=1){Ha(t,n,i.charCodeAt(e))}}function hc(t,n){if(n.nc+2<=t.byteLength){var i=t.getUint8(n.nc),r=t.getUint8(n.nc+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function fc(t,n){var i=hc(t,n);return void 0!==i&&n.xb(2),vc(t,n,!0===i)}function vc(t,n,i){return void 0===i&&(i=!1),lc(t,n,i,!0)}function lc(t,n,i,r){for(var e=[];n.nc+2<=t.byteLength;){var u=Qa(t,n,i);if(r&&!u)break;e.push(u)}return Js(e)}function dc(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){$a(t,n,i.charCodeAt(u),r)}}function gc(t){return ac(Ec(t),new Pc,!1)}function mc(t){var n=new I(t.length);return cc(Ec(n),new Pc,t),n}function wc(t,n){return void 0===n&&(n=!1),lc(Ec(t),new Pc,n,!1)}function pc(t,n){void 0===n&&(n=!1);var i=new I(2*t.length);return dc(Ec(i),new Pc,t,n),i}function yc(t,n){return n.nc+3<=t.byteLength&&(239===t.getUint8(n.nc)&&187===t.getUint8(n.nc+1)&&191===t.getUint8(n.nc+2))}function _c(t,n){return function(t,n,i){var r=[],e=yc(t,n);e&&n.xb(3);for(;n.nc<t.byteLength;){var u=sc(t,n);if(void 0===u)break;if(i&&0===u)break;r.push(u)}return qs(r)}(t,n,!0)}function bc(t){return function(t){return qs(t)}(function(t,n){var i,r=[],e=new Pc;if(!n){if(!1===(i=Va(t,e)))return r;i===Ua||r.push(i)}for(;!1!==(i=Va(t,e));)r.push(i);return r}(Ic(t)))}function kc(t){return new I(function(t){for(var n=[],i=0;i<t.length;i++)La(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Ac(t,n){if(yc(t,n))return _c(t,n);if(void 0!==hc(t,n))return fc(t,n);if(n.nc+4<=t.byteLength){if(0===t.getUint8(n.nc)&&0===t.getUint8(n.nc+2))return vc(t,n,!1);if(0===t.getUint8(n.nc+1)&&0===t.getUint8(n.nc+3))return vc(t,n,!0)}return _c(t,n)}function Tc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new I(t.buffer,t.byteOffset+n,i-n)}function Sc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Ec(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ic(t){return new I(t.buffer,t.byteOffset,t.byteLength)}function Rc(t){return t instanceof ArrayBuffer||Lc(t)}function Cc(t){return t instanceof ArrayBuffer?new I(t):Ic(t)}function Nc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):xc(Tc(t,n,i))}function xc(t){if(t.slice)return t.slice(0);var n=new I(t.byteLength);return n.set(t,0),n}function Dc(t){return[].slice.call(t)}var Pc=function(){function t(t){void 0===t&&(t=0),this.rc=t}var n=t.prototype;return n.xb=function(t){this.rc+=t},n.Rb=function(t){this.rc=t},n.Ib=function(){return new t(this.nc)},n.Db=function(){return new Pa(this.nc<<3)},xt(t,[{key:"nc",get:function(){return this.rc}}]),t}();function Mc(t){var n=t.toLowerCase(),i=0,r=0;Xs(n,"0x")&&(n=n.substring(2));var e=new I(A.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=T(n[0],16));i<n.length;i+=2)e[r++]=T(n.substr(i,2),16);return e}function Bc(t){return.001*t}var Oc=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Lc=ArrayBuffer.isView||function(t){return t&&To(Oc,zn.call(t))};function Fc(t,n){return t===n||t.byteLength===n.byteLength&&Vc(new I(t),new I(n))}function Vc(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Uc(t,n){return t===n||Vc(Cc(t),Cc(n))}function Wc(t){var n=t.reduce((function(t,n){return t+n.byteLength}),0);return jc(t,n)}function jc(t,n){for(var i=new I(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}function Zc(t,n,i){var r=new I(t.byteLength+n.byteLength),e=Tc(t,0,i),u=Tc(t,i);return r.set(e),r.set(n,i),r.set(u,i+n.byteLength),r}function Xc(t){return Ea(t).buffer}function Gc(t){return Ca(new I(t))}function Hc(t){return Ca(mc(t))}var zc=new I([0]).buffer,Yc=function(){function t(){this.tc=[]}var n=t.prototype;return n.Mb=function(t){for(var n=0,i=this.tc;n<i.length;n++){if(Uc(i[n][0],t))return!0}return!1},n.Lb=function(t){for(var n=0,i=this.tc;n<i.length;n++){var r=i[n];if(Uc(r[0],t))return r[1]}},n.Bb=function(t,n){for(var i=0,r=this.tc;i<r.length;i++){var e=r[i];if(Uc(e[0],t))return void(e[1]=n)}this.tc.push([t,n])},n.Ob=function(t,n){this.tc.forEach((function(n){return t(n[1],n[0])}),n)},n.Fb=function(){Eo(this.tc)},xt(t,[{key:"Nb",get:function(){return this.tc.length}}]),t}();U(),St();var Kc=function(){function t(){var t=this;this.Ub=new ut((function(n,i){t.Gd=n,t.Hd=i}))}var n=t.prototype;return n.Vb=function(t){this.Gd&&(this.Gd(t),this.Xw())},n.Wb=function(t){this.Hd&&(this.Hd(t),this.Xw())},n.jw=function(){this.Ub.catch(Si),this.Wb(new Wo)},n.Qw=function(t){var n=this;t.then((function(t){return n.Vb(t)}),(function(t){return n.Wb(t)}))},n.Xw=function(){this.Gd=void 0,this.Hd=void 0},t}();function qc(){return new I([8,4]).buffer}function Jc(t,n){return t===ks?function(t){if(t.byteLength<2*Qc.length)return t;var n=new DataView(t,0,2*Qc.length),i=wc(n,!0);if(i===Qc)return t;return function(t){var n='<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">',i='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',r=""+n+Gc(t)+i;return pc(r,!0).buffer}(t)}(n):n}U(),St();var Qc="<PlayReady";U(),St(),U(),St(),Ct();var $c=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).Gb=i,u.Hb=r,u}return Rt(n,t),n}(Uo);U(),St(),U(),St(),U(),St(),U(),St(),U(),St();var th=function(t,n){return(th=k.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)k.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function nh(t,n){if("function"!=typeof n&&null!==n)throw new _("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}th(t,n),t.prototype=null===n?k.create(n):(i.prototype=n.prototype,new i)}function ih(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St();!function(){function t(t,n){this.Zb=t,this.Xb=n}t.prototype.get=function(t){var n=this.Zb.get(t);if(0===this.Xb||void 0===n)return n;var i=this.Zb.get(t+1)||0,r=n&(1<<8-this.Xb)-1,e=i>>8-this.Xb;return(r<<this.Xb)+e},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Zb.get(A.floor((t+this.Xb)/8));if(void 0!==n)return(n&1<<7-this.Xb-t%8)>0?1:0}},k.defineProperty(t.prototype,"bitLength",{get:function(){return this.Zb.bitLength-this.Xb},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"length",{get:function(){return this.Zb.length},enumerable:!1,configurable:!0})}();U(),St(),U(),St();A.pow(2,-52);function rh(t,n,i){return A.min(A.max(t,n),i)}function eh(t,n){return t>>8-n}function uh(t,n){return t&(1<<n)-1}var sh=function(){function t(t){this.zb=t,this.qb=0,this.Yb=0}return k.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.qb+this.Yb},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"done",{get:function(){return this.qb===this.zb.length&&0===this.Yb},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"location",{get:function(){return{byte:this.qb,bit:this.Yb}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.zb);return n.seek(this.qb,this.Yb),n},t.prototype.canReadBits=function(t){return 8*this.qb+t+this.Yb<=8*this.zb.length},t.prototype.canReadBytes=function(t){return 0===this.Yb?this.qb+t<=this.zb.length:this.qb+t<this.zb.length},t.prototype.incBit=function(){this.Yb++,this.Yb>7&&(this.qb++,this.Yb=0)},t.prototype.seek=function(t,n){this.qb=t,this.Yb=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new y("Cannot read past end of buffer.");return this.zb.get(this.qb)>>7-this.Yb&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new y("Cannot read past end of buffer.");if(0===this.Yb)return this.zb.get(this.qb++);var t=uh(this.zb.get(this.qb),8-this.Yb),n=eh(this.zb.get(this.qb+1),this.Yb);return this.qb++,t<<this.Yb|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new y("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new y("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new y("Cannot read past end of buffer.");var n=0;if(0===this.Yb&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new y("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new y("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-A.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new y("Skipping over the buffer edge is not allowed.");var n=this.Yb+t;this.qb+=n>>3,this.Yb=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new y("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}();U(),St(),U(),St(),U(),St();var oh=function(t,n){return t===n?0:t<n?-1:t>n?1:E(t)?E(n)?0:1:-1},ah=function(){function t(){this.Kb=[],this.jb=[],this.Qb=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var r=new t,e=0,u=n;e<u.length;e++){var s=u[e];r.pushRange(s)}return r},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new y("The buffer length must be positive.");if(0!==i){if(0===this.jb.length)this.jb.push(0);else{var r=this.jb[this.jb.length-1]+this.Kb[this.Kb.length-1].length;this.jb.push(r)}this.Kb.push(t.subarray(n,n+i)),this.Qb+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,r){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=this.length),n<0||i<0||r<0)throw new RangeError;return this.slice(i,r).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,r=n,e=0,u=this.Kb;e<u.length;e++){var s=u[e];t.set(s,r),i+=s.length,r+=s.length}return i},t.prototype.clear=function(){this.Kb=[],this.jb=[],this.Qb=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.jb[n];return this.Kb[n][i]}},k.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.Kb.length<1)return-1;if(this.Kb.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Kb[0];return"number"==typeof t?ih(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],r=n.length,e=t.length-r,u=0;u<=e&&!((u=ih(t,i,u))<0||u>e);u++){for(var s=u+1,o=u+r,a=1;s<o&&t[s]===n[a];s++,a++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var r=0,e=t.length-1;if(1!==i(t[r],n)){if(1===i(n,t[e]))return e;for(;r!==e;){var u=A.ceil((r+e)/2);i(t[u],n)<=0?r=u:e=u-1}return r}}}(this.jb,t,oh)},t.prototype.join=function(){if(1===this.Kb.length)return this.Kb[0];var t=new I(this.length);return this.copyInternal(t,0),t},k.defineProperty(t.prototype,"length",{get:function(){return this.Qb},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new y("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new y("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,r=0;r<n;r++)i+=this.get(t+r)*A.pow(2,8*(n-r-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var r=rh(n,0,this.length),e=rh(i,0,this.length);if(r>e)return new t;if(r===e)return new t;for(var u=new t,s=this.findContainingBufferIndex(r),o=this.Kb[s],a=r,c=a-this.jb[s];a+o.length-c<e;)u.pushRange(o,c,o.length-c),s+=1,c=(a+=o.length-c)-this.jb[s],o=this.Kb[s];var h=e-a;return u.pushRange(o,c,h),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.Kb.length-1,r=this.Kb[i],e=r.length-1;n>=0&&i>=0;){if(0!==r[e])break;if(0===e){if(0===i)return new t;i-=1,e=(r=this.Kb[i]).length-1}else e-=1;n-=1}return this.slice(0,n+1)},t}(),ch=function(){function t(n){this.Jb=n||t.BUFFER_CHUNK_SIZE,this.$b=!1,this.tA=new ah,this.zb=new I(this.Jb),this.eA=0,this.iA=0,this.Yb=7}return t.prototype.closeByte=function(){this.zb[this.eA++]=this.iA,this.eA>=this.Jb&&this.closeBuffer(),this.iA=0,this.Yb=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.eA&&(this.tA.pushRange(this.zb,0,this.eA),t&&(this.zb=new I(this.Jb)),this.eA=0)},k.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Yb},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.$b)throw new y("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.$b=!0,this.tA},t.prototype.writeBit=function(t){if(this.$b)throw new y("Cannot write to a closed BitWriter.");this.iA|=t<<this.Yb,0===this.Yb?this.closeByte():this.Yb--},t.prototype.writeByte=function(t){if(this.$b)throw new y("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.iA=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Yb;this.iA|=eh(t,n+1),this.closeByte(),this.iA=uh(t,8-n)<<n+1,this.Yb=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];this.writeBit(r)}},t.prototype.writeBytes=function(t){if(this.$b)throw new y("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.eA+t.length<=this.Jb?(this.zb.set(t,this.eA),this.eA+=t.length,this.eA===this.Jb&&this.closeBuffer()):(this.closeBuffer(),this.tA.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Yb;this.iA|=eh(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var r=uh(t[i-1],8-n),e=eh(t[i],n+1);this.iA=r<<n+1|e,this.closeByte()}this.iA=uh(t[t.length-1],8-n)<<n+1,this.Yb=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new y("Received a negative number.");if(n>32)throw new y("The max bitlength that can be provided is 32.");if(t>=A.pow(2,n))throw new y("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new y("The max bitlength that can be provided is 32.");if(A.abs(t)>=A.pow(2,n-1))throw new y("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+A.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new y("Received a negative number.");for(var n=A.floor(A.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new I(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}();U(),St();var hh=function(){function t(t){this.rb=new ah,this.Jd=t}return t.prototype.closeWriter=function(){void 0!==this.Jd&&(this.rb=this.rb.concat(this.Jd.close()),this.Jd=void 0)},k.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Jd&&(this.Jd=new ch),this.Jd},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),fh=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new y("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),r=i>=t.LARGE_SIZE/8,e=16===this.boxType.length;n.writeUInt(r?1:i,32),n.writeString(e?"uuid":this.boxType),r&&(n.writeUInt(A.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),e&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new hh;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=A.pow(2,32),t}();function vh(t,n){return t instanceof sr?64===n:t<A.pow(2,n)}function lh(t,n){return A.round(t*A.pow(2,n))}function dh(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function gh(t,n){return t/A.pow(2,n)}U(),St();var mh=function(t){function n(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!vh(i,8))throw new y("the provided version cannot fit in 8 bits.");return e.flags=r,e}return nh(n,t),k.defineProperty(n.prototype,"flags",{get:function(){return this.v_},set:function(t){this.v_=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new y("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(fh);U(),St(),U(),St();var wh=function(t){function n(n,i){var r=t.call(this,n)||this;return r.data=i,r}return nh(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(ah.from(this.data))},n}(fh);U(),St(),U(),St();var ph=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();U(),St();var yh=16384;function _h(t){var n=t.length;if(n<=yh)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=yh)i.push(String.fromCharCode.apply(String,t.slice(r,r+yh)));return i.join("")}var bh=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function kh(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Ah(t,n,i){var r=Nh(Ph(t),n.offset,n.offset+i);return n.shift(r.byteLength),r}function Th(t,n,i){return n.offset+i<=t.byteLength}function Sh(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.offset,i);return n.shift(4),r}function Eh(t,n,i){void 0===i&&(i=!1);var r=Sh(t,n,i),e=Sh(t,n,i),u=i?e:r,s=i?r:e;return sr.fromBits(s,u,!0)}function Ih(t,n,i){return _h(function(t){return[].slice.call(t)}(Ah(t,n,i)))}function Rh(t,n){var i,r=kh(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&kh(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&kh(t,n))+(63&kh(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&kh(t,n))+64*(63&kh(t,n))+(63&kh(t,n))),i}function Ch(t,n){return function(t,n,i){var r=[],e=function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)}(t,n);e&&n.shift(3);for(;n.offset<t.byteLength;){var u=Rh(t,n);if(void 0===u)break;if(i&&0===u)break;r.push(u)}return function(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return _h(n)}(r)}(t,n,!0)}function Nh(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new I(t.buffer,t.byteOffset+n,i-n)}function xh(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Dh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ph(t){return new I(t.buffer,t.byteOffset,t.byteLength)}var Mh=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new ph(this.offset<<3)},t}();U(),St();var Bh=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return kh(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextUint32=function(){return Sh(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.offset,i);return n.shift(4),r}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var r=Sh(t,n,i),e=Sh(t,n,i),u=i?e:r,s=i?r:e;return sr.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Eh(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return Ah(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(Sh(t,n));return r}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Ih(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Ch(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Oh(t,n){return t.type===n}var Lh=8;function Fh(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var r=Vh(t,n);if(!r.complete)return{complete:!1,boxes:i};i.push(r.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new y("Data incomplete");return n.boxes}function Vh(t,n){var i=n.offset,r=function(t,n){var i=n.offset;if(!Th(t,n,Lh)){return{complete:!1,neededOffset:u=n.offset+Lh}}var r=Sh(t,n),e=Ih(t,n,4);if(1===r){if(!Th(t,n,8)){var u=n.offset+8;return n.seek(i),{complete:!1,neededOffset:u}}r=Eh(t,n).toNumber()}if("uuid"===e){if(!Th(t,n,16)){u=n.offset+16;return n.seek(i),{complete:!1,neededOffset:u}}e=Ih(t,n,16)}var s=n.offset,o={type:e,size:r,headerSize:s-i};return{complete:!0,header:o}}(t,n);if(!r.complete)return r;var e=r.header,u=e.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var a={type:e.type,offset:i,data:new Bh(xh(t,i,s),new Mh(e.headerSize))};return n.seek(s),{complete:!0,box:a}}function Uh(t){return{version:t>>24,flags:new bh(16777215&t)}}function Wh(t,n){var i,r,e,u;return 1===n?(i=t.nextUint64(),r=t.nextUint64(),e=t.nextUint32(),u=t.nextUint64()):(i=t.nextUint32(),r=t.nextUint32(),e=t.nextUint32(),u=t.nextUint32()),{creation:i,modification:r,scale:e,duration:u}}function jh(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Zh(t){var n=t.nextUint32Array(9);return{a:gh(n[0],16),b:gh(n[1],16),u:gh(n[2],30),c:gh(n[3],16),d:gh(n[4],16),v:gh(n[5],30),x:gh(n[6],16),y:gh(n[7],16),w:gh(n[8],30)}}function Xh(t){return new wh(t.type,Nh(Ph(t.data.data),t.data.cursor.offset))}var Gh=function(t){function n(n,i,r,e){void 0===r&&(r=0),void 0===e&&(e=0);var u=t.call(this,"hdlr",r,e)||this;return u.name=i,u.handlerType=n,u}return nh(n,t),k.defineProperty(n.prototype,"handlerType",{get:function(){return this.sA},set:function(t){this.sA=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(mh);function Hh(t){var n=t.data,i=Uh(n.nextUint32()),r=i.version,e=i.flags;n.skip(4);var u=n.nextChars(4);n.skip(12);var s=n.nextUTF8String();return new Gh(u,s,r,e.raw)}!function(t){function n(){return t.call(this,"mdir")||this}nh(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Gh);U(),St(),U(),St(),U(),St();var zh=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},k.defineProperty(t.prototype,"tag",{get:function(){return this.nA},set:function(t){if(!vh(t,8))throw new y("Provided tag does not fit in 8 bits.");this.nA=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var r=i[n];t.writer.writeByte(r)}this.serializeDescriptorContent(t)},t}();U(),St();!function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=r,a.decoderSpecificInfo=s,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=e,a.maxBitrate=u.max,a.avgBitrate=u.avg,a}nh(n,t),k.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.rA},set:function(t){if(!vh(t,8))throw new y("Provided objectTypeIndication does not fit in 8 bits.");this.rA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"streamType",{get:function(){return this.oA},set:function(t){if(!vh(t,6))throw new y("Provided streamType does not fit in 6 bits.");this.oA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.hA},set:function(t){if(!vh(t,24))throw new y("Provided bufferSizeDb does not fit in 24 bits.");this.hA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.aA},set:function(t){if(!vh(t,32))throw new y("Provided maxBitrate does not fit in 32 bits.");this.aA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.uA},set:function(t){if(!vh(t,32))throw new y("Provided avgBitrate does not fit in 32 bits.");this.uA=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(zh);U(),St();!function(t){function n(n,i){void 0===i&&(i={});var r=t.call(this,5,i.fixed28BitMode)||this;return r.data=n,r}nh(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(ah.from(this.data))}}(zh);U(),St(),U(),St();var Yh=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return nh(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(zh);!function(t){function n(n,i,r,e){void 0===e&&(e={});var u=t.call(this,3,e.fixed28BitMode)||this;return u.decoderConfigDescriptor=r,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==e?void 0:e.dependsOnEsId,u.urlString=null==e?void 0:e.url,u.ocrEsId=null==e?void 0:e.ocrEsId,u.slConfigDescriptor=new Yh(e.fixed28BitMode),u}nh(n,t),k.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"esId",{get:function(){return this.cA},set:function(t){if(!vh(t,16))throw new y("Provided esId does not fit in 16 bits.");this.cA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"streamPriority",{get:function(){return this.lA},set:function(t){if(!vh(t,5))throw new y("Provided streamPriority does not fit in 5 bits.");this.lA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.dA},set:function(t){if(t&&!vh(t,16))throw new y("Provided dependsOnEsId does not fit in 16 bits.");this.dA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.fA},set:function(t){if(t&&!vh(t,16))throw new y("Provided ocrEsId does not fit in 16 bits.");this.fA=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(zh);U(),St(),U(),St(),U(),St(),U(),St(),U(),St();var Kh=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return nh(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,r=this.boxes;i<r.length;i++){var e=r[i];n=n.concat(e.serialize())}return n},n}(fh),qh=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return nh(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Kh),Jh=function(t){function n(n,i){var r=t.call(this,n)||this;return r.dataReferenceIndex=i,r}return nh(n,t),k.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this._A},set:function(t){if(!vh(t,16))throw new y("Provided dataReferenceIndex does not fit in 16 bits.");this._A=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(qh),Qh=function(t){function n(n,i,r,e){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=e,o.channelCount=null!==(u=r.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=r.sampleSize)&&void 0!==s?s:16,o.sampleRate=r.sampleRate,o}return nh(n,t),k.defineProperty(n.prototype,"channelCount",{get:function(){return this.vA},set:function(t){if(!vh(t,16))throw new y("Provided channelCount does not fit in 16 bits.");this.vA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"sampleSize",{get:function(){return this.mA},set:function(t){if(!vh(t,16))throw new y("Provided sampleSize does not fit in 16 bits.");this.mA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"sampleRate",{get:function(){return this.gA},set:function(t){if(!vh(lh(t,16),32))throw new y("Provided rate does not fit in 32 bits (fixed 16.16).");this.gA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(lh(this.sampleRate,16),32),this.extra&&dh(n.writer,this.extra)},n}(Jh);U(),St();!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}nh(n,t),k.defineProperty(n.prototype,"entries",{get:function(){return this.pA},set:function(t){if(!vh(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!vh(t,32)})))throw new y("Not all entries can be represented in 32 bits.");this.pA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(mh);U(),St();!function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}nh(n,t),k.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.wA},set:function(t){if(!vh(t,32))throw new y("Provided cleanApertureWidthN does not fit in 32 bits.");this.wA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.yA},set:function(t){if(!vh(t,32))throw new y("Provided cleanApertureWidthD does not fit in 32 bits.");this.yA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.bA},set:function(t){if(!vh(t,32))throw new y("Provided cleanApertureHeightN does not fit in 32 bits.");this.bA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.AA},set:function(t){if(!vh(t,32))throw new y("Provided cleanApertureHeightD does not fit in 32 bits.");this.AA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"horizOffN",{get:function(){return this.SA},set:function(t){if(!vh(t,32))throw new y("Provided horizOffN does not fit in 32 bits.");this.SA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"horizOffD",{get:function(){return this.TA},set:function(t){if(!vh(t,32))throw new y("Provided horizOffD does not fit in 32 bits.");this.TA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"vertOffN",{get:function(){return this.kA},set:function(t){if(!vh(t,32))throw new y("Provided vertOffN does not fit in 32 bits.");this.kA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"vertOffD",{get:function(){return this.EA},set:function(t){if(!vh(t,32))throw new y("Provided vertOffD does not fit in 32 bits.");this.EA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(fh);U(),St();!function(t){function n(n,i){var r=t.call(this,"ctts",n,0)||this;return r.entries=i,r}nh(n,t),k.defineProperty(n.prototype,"entries",{get:function(){return this.pA},set:function(t){if(!vh(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!vh(t.sampleCount,32)||!vh(t.sampleOffset,32)})))throw new y("Not all entries can be represented in 64 bits.");this.pA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),0===this.version?n.writer.writeUInt(e.sampleOffset,32):1===this.version&&n.writer.writeInt(e.sampleOffset,32)}}}(mh);U(),St();!function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}nh(n,t),k.defineProperty(n.prototype,"location",{get:function(){return this.xA},set:function(t){this.flags=void 0===t?1:0,this.xA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(mh);U(),St();!function(t){function n(n,i,r){var e=t.call(this,"urn ",0,r)||this;return e.name=n,e.location=i,e}nh(n,t),k.defineProperty(n.prototype,"location",{get:function(){return this.xA},set:function(t){if(1&this.flags)throw new y("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.xA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(mh);U(),St();!function(t){function n(){return t.call(this,"dinf")||this}nh(n,t)}(qh);U(),St(),U(),St();var $h=function(t){function n(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!vh(i,8))throw new y("the provided version cannot fit in 8 bits.");return e.flags=r,e}return nh(n,t),k.defineProperty(n.prototype,"flags",{get:function(){return this.v_},set:function(t){this.v_=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new y("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Kh);!function(t){function n(){return t.call(this,"dref",0,0)||this}nh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}($h);U(),St(),U(),St();var tf=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"elst",i,r)||this;return e.entries=n,e}return nh(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"entries",{get:function(){return this.pA},set:function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!vh(r.segmentDuration,this.bitSize))throw new y("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!vh(r.mediaTime,this.bitSize))throw new y("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!vh(r.mediaRateInteger,16))throw new y("Provided mediaRateInteger does not fit in 16 bits.");if(r.mediaRateFraction&&!vh(r.mediaRateFraction,16))throw new y("Provided mediaRateFraction does not fit in 16 bits.")}this.pA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(mh),nf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return nh(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration,32),t.writer.writeInt(e.mediaTime,32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(tf),rf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return nh(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(e.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(e.mediaTime.getHighBits(),32),t.writer.writeInt(e.mediaTime.getLowBits(),32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(tf);function ef(t){for(var n=t.data,i=Uh(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=[],o=0;o<u;o++){var a=void 0,c=void 0;0===r?(a=n.nextUint32(),c=n.nextInt32()):(a=n.nextUint64(),c=n.nextInt64());var h=n.nextInt16(),f=n.nextInt16();s.push({segmentDuration:a,mediaTime:c,mediaRateFraction:f,mediaRateInteger:h})}return 0===r?new nf(s,e.raw):new rf(s,e.raw)}var uf=function(t){function n(){return t.call(this,"edts")||this}return nh(n,t),n}(qh);function sf(t){for(var n=new uf,i=0,r=Fh(t.data);i<r.length;i++){var e=r[i];Oh(e,"elst")?n.boxes.push(ef(e)):n.boxes.push(Xh(e))}return n}U(),St(),U(),St();var of=function(t){function n(n,i,r,e){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=r,u.compatibleBrands=e,u}return nh(n,t),k.defineProperty(n.prototype,"majorBrand",{get:function(){return this.RA},set:function(t){if(4!==t.length)throw new y("the provided major brand does not conform to the 4 character requirement");this.RA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"minorVersion",{get:function(){return this.IA},set:function(t){if(!vh(t,32))throw new y("the provided minor version does not fit in 32 bits.");this.IA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.CA},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new y("Some of the compatible brands do not conform to the 4 character requirement");this.CA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var r=i[n];t.writer.writeString(r)}},n}(fh),af=function(t){function n(n,i,r){return t.call(this,"ftyp",n,i,r)||this}return nh(n,t),n}(of);function cf(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new af(i,r,e)}U(),St();var hf=function(t){function n(n,i){void 0===i&&(i="free");var r=t.call(this,i)||this;return r.data=n,r}return nh(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(ah.from(this.data))},n}(fh);U(),St(),U(),St();var ff=function(t){function n(n,i,r,e){void 0===e&&(e=0);var u=t.call(this,"mdhd",r,e)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return nh(n,t),k.defineProperty(n.prototype,"creationTime",{get:function(){return this.PA},set:function(t){if(!vh(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.PA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"modificationTime",{get:function(){return this.DA},set:function(t){if(!vh(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.DA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"timescale",{get:function(){return this.NA},set:function(t){if(!vh(t,32))throw new y("Provided sequence number does not fit in 32 bits.");this.NA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"duration",{get:function(){return this.MA},set:function(t){if(!vh(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.MA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"language",{get:function(){return this.LA},set:function(t){if(!gf(t))throw new y("Expected an ISO-639-2/T language code");this.LA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,r=this.language;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(mh),vf=function(t){function n(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,0,r)||this}return nh(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(ff),lf=function(t){function n(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,1,r)||this}return nh(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(ff);function df(t){var n=t.data,i=Uh(n.nextUint32()),r=i.version,e=i.flags,u=Wh(n,r),s=new sh(ah.from(n.nextUint8Array(2)));s.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(s.readUInt(5));var c=o.map((function(t){return String.fromCharCode(t+96)})).join("");return gf(c)||(c="und"),n.skip(2),0===r?new vf(u,c,e.raw):new lf(u,c,e.raw)}function gf(t){return/^[a-z]{3}$/.test(t)}var mf=function(t){function n(){return t.call(this,"mdia")||this}return nh(n,t),n}(qh);function wf(t){for(var n=new mf,i=0,r=Fh(t.data);i<r.length;i++){var e=r[i];Oh(e,"mdhd")?n.boxes.push(df(e)):Oh(e,"hdlr")?n.boxes.push(Hh(e)):n.boxes.push(Xh(e))}return n}U(),St();var pf=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new ah,n}return nh(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(fh);function yf(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),r=new pf;return r.data.pushRange(i),r}U(),St();!function(t){function n(){return t.call(this,"minf")||this}nh(n,t)}(qh);U(),St();var _f;!function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}nh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}($h);U(),St(),U(),St(),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(_f||(_f={})),U(),St();var bf,kf,Af={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Tf(t,n){n.writer.writeUInt(lh(t.a,16),32),n.writer.writeUInt(lh(t.b,16),32),n.writer.writeUInt(lh(0,30),32),n.writer.writeUInt(lh(t.c,16),32),n.writer.writeUInt(lh(t.d,16),32),n.writer.writeUInt(lh(0,30),32),n.writer.writeUInt(lh(t.x,16),32),n.writer.writeUInt(lh(t.y,16),32),n.writer.writeUInt(lh(1,30),32)}function Sf(t,n){var i,r,e,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:bf.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleDependsOn)&&void 0!==r?r:kf.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleIsDependedOn)&&void 0!==e?e:kf.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:kf.UNKNOWN,2)}function Ef(t,n){var i,r,e;n.writer.writeUInt(0,4),Sf(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(r=t.sampleIsNonSyncSample)&&void 0!==r&&r),n.writer.writeUInt(null!==(e=t.sampleDegradationPriority)&&void 0!==e?e:0,16)}U(),St(),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(bf||(bf={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(kf||(kf={})),U(),St(),U(),St();var If=function(){};U(),St(),U(),St(),U(),St();var Rf=function(t){function n(n,i,r){var e=t.call(this,"pssh",n,0)||this;return e.systemId=i,e.data=r,e}return nh(n,t),k.defineProperty(n.prototype,"systemId",{get:function(){return this.BA},set:function(t){if(16!==t.length)throw new y("Provided systemId length is not 16.");this.BA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"data",{get:function(){return this.kp},set:function(t){if(!vh(t.length,32))throw new y("Provided data length does not fit in 32 bits.");this.kp=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(ah.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(ah.from(this.data))},n}(mh),Cf=function(t){function n(n,i){return t.call(this,0,n,i)||this}return nh(n,t),n}(Rf),Nf=function(t){function n(n,i,r){var e=t.call(this,1,n,i)||this;return e.kIds=r,e}return nh(n,t),k.defineProperty(n.prototype,"kIds",{get:function(){return this.OA},set:function(t){if(!vh(t.length,32))throw new y("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new y("Not all provided key ids are 16 bytes long.");this.OA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var r=i[n];t.concat(ah.from(r))}},n}(Rf);function xf(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),r=[];if(1===n)for(var e=t.data.nextUint32(),u=0;u<e;u++)r.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new Nf(i,o,r):new Cf(i,o)}U(),St(),U(),St();var Df=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"mehd",i,r)||this;return e.fragmentDuration=n,e}return nh(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.FA},set:function(t){if(!vh(t,this.bitSize))throw new y("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.FA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(mh),Pf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return nh(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Df),Mf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return nh(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Df);function Bf(t){var n=t.data,i=Uh(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new Pf(n.nextUint32(),e.raw):new Mf(n.nextUint64(),e.raw)}U(),St();var Of=function(t){function n(n,i,r,e){void 0===i&&(i={}),void 0===r&&(r=0),void 0===e&&(e=0);var u,s,o,a=this;return(a=t.call(this,"trex",r,e)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,a.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return nh(n,t),k.defineProperty(n.prototype,"trackId",{get:function(){return this.VA},set:function(t){if(!vh(t,32))throw new y("Provided track id does not fit in 32 bits.");this.VA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.WA},set:function(t){if(!vh(t,32))throw new y("Provided default sample description index does not fit in 32 bits.");this.WA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.UA},set:function(t){if(!vh(t,32))throw new y("Provided default sample duration does not fit in 32 bits.");this.UA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.GA},set:function(t){if(!vh(t,32))throw new y("Provided default sample size does not fit in 32 bits.");this.GA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.HA},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!vh(t.samplePaddingValue,3))throw new y("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!vh(t.sampleDegradationPriority,16))throw new y("Provided sample degradation priority does not fit in 16 bits.");this.HA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Ef(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(mh);function Lf(t){var n=t.data,i=Uh(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),c=jh(new sh(ah.from(n.nextUint8Array(4))));return new Of(u,{sampleDescriptionIndex:s,sampleDuration:o,sampleSize:a,sampleFlags:c},r,e.raw)}var Ff=function(t){function n(){return t.call(this,"mvex")||this}return nh(n,t),n}(qh);function Vf(t){for(var n=new Ff,i=0,r=Fh(t.data);i<r.length;i++){var e=r[i];Oh(e,"mehd")?n.boxes.push(Bf(e)):Oh(e,"trex")?n.boxes.push(Lf(e)):n.boxes.push(Xh(e))}return n}U(),St();var Uf=function(t){function n(i,r,e,u,s){void 0===s&&(s=0);var o,a,c,h=this;return(h=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,h.modificationTime=i.modification,h.timescale=i.scale,h.duration=i.duration,h.rate=null!==(o=e.rate)&&void 0!==o?o:n.DEFAULT_RATE,h.volume=null!==(a=e.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,h.matrix=null!==(c=e.matrix)&&void 0!==c?c:Af,h.ZA=r,h}return nh(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"creationTime",{get:function(){return this.PA},set:function(t){if(!vh(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.PA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"modificationTime",{get:function(){return this.DA},set:function(t){if(!vh(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.DA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"timescale",{get:function(){return this.NA},set:function(t){if(!vh(t,32))throw new y("Provided sequence number does not fit in 32 bits.");this.NA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"duration",{get:function(){return this.MA},set:function(t){if(!vh(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.MA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"rate",{get:function(){return this.XA},set:function(t){if(!vh(lh(t,16),32))throw new y("Provided rate does not fit in 32 bits (fixed 16.16).");this.XA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"volume",{get:function(){return this.zA},set:function(t){if(!vh(lh(t,8),16))throw new y("Provided volume does not fit in 16 bits (fixed 8.8).");this.zA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"matrix",{get:function(){return this.qA},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new y("(u, v, w) does not match the required (0, 0, 1)");this.qA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.ZA},set:function(t){if(0===t)throw new y("NextTrackId cannot be 0.");if(!vh(t,32))throw new y("NextTrackId cannot exceed 32 bits.");this.ZA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(lh(this.rate,16),32),n.writer.writeUInt(lh(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Tf(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(mh),Wf=function(t){function n(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,0,e)||this}return nh(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Uf),jf=function(t){function n(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,1,e)||this}return nh(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Uf);function Zf(t){var n=t.data,i=Uh(n.nextUint32()),r=i.version,e=i.flags,u=Wh(n,r),s=gh(n.nextUint32(),16),o=gh(n.nextUint16(),8);n.skip(2),n.skip(8);var a=Zh(n);n.skip(24);var c=n.nextUint32();return 0===r?new Wf(u,c,{rate:s,volume:o,matrix:a},e.raw):new jf(u,c,{rate:s,volume:o,matrix:a},e.raw)}U(),St(),U(),St();var Xf=function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o={});var a,c,h,f=this;return f=t.call(this,"tkhd",n,function(t){var n,i,r,e;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(r=null==t?void 0:t.trackInPreview)||void 0===r||r,trackSizeIsAspectRatio:null!==(e=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==e&&e}}(o))||this,f.creationTime=i.creation,f.modificationTime=i.modification,f.trackId=r,f.duration=i.duration,f.volume=e,f.width=u,f.height=s,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(c=o.alternateGroup)&&void 0!==c?c:0,f.matrix=null!==(h=o.matrix)&&void 0!==h?h:Af,f}return nh(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"creationTime",{get:function(){return this.PA},set:function(t){if(!vh(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.PA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"modificationTime",{get:function(){return this.DA},set:function(t){if(!vh(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.DA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"trackId",{get:function(){return this.VA},set:function(t){if(0===t)throw new y("trackId cannot be 0.");if(!vh(t,32))throw new y("trackId cannot exceed 32 bits.");this.VA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"duration",{get:function(){return this.MA},set:function(t){if(!vh(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.MA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"volume",{get:function(){return this.zA},set:function(t){if(!vh(lh(t,8),16))throw new y("Provided volume does not fit in 16 bits (fixed 8.8).");this.zA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"width",{get:function(){return this.YA},set:function(t){if(!vh(lh(t,16),32))throw new y("Provided width does not fit in 32 bits (fixed 16.16).");this.YA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"height",{get:function(){return this.KA},set:function(t){if(!vh(lh(t,16),32))throw new y("Provided height does not fit in 32 bits (fixed 16.16).");this.KA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"layer",{get:function(){return this.jA},set:function(t){if(!vh(t,16))throw new y("Provided layer does not fit in 16 bits.");this.jA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.QA},set:function(t){if(!vh(t,16))throw new y("Provided alternateGroup does not fit in 16 bits.");this.QA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"matrix",{get:function(){return this.qA},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new y("(u, v, w) does not match the required (0, 0, 1)");this.qA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(lh(this.volume,8),16),n.writer.writeUInt(0,16),Tf(this.matrix,n),n.writer.writeUInt(lh(this.width,16),32),n.writer.writeUInt(lh(this.height,16),32)},n}(mh),Gf=function(t){function n(n,i,r,e,u,s){return t.call(this,0,n,i,r,e,u,s)||this}return nh(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Xf),Hf=function(t){function n(n,i,r,e,u,s){return t.call(this,1,n,i,r,e,u,s)||this}return nh(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Xf);function zf(t){var n,i,r,e,u=t.data,s=Uh(u.nextUint32()),o=s.version,a=s.flags,c=a.isSet(8),h=a.isSet(4),f=a.isSet(2),v=a.isSet(1);0===o?(n=u.nextUint32(),i=u.nextUint32(),r=u.nextUint32(),u.skip(4),e=u.nextUint32()):(n=u.nextUint64(),i=u.nextUint64(),r=u.nextUint32(),u.skip(4),e=u.nextUint64()),u.skip(8);var l=u.nextInt16(),d=u.nextInt16(),g=gh(u.nextInt16(),8);u.skip(2);var m=Zh(u),w=gh(u.nextUint32(),16),p=gh(u.nextUint32(),16);return 0===o?new Gf({creation:n,modification:i,duration:e},r,g,w,p,{layer:l,matrix:m,alternateGroup:d,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f}):new Hf({creation:n,modification:i,duration:e},r,g,w,p,{layer:l,matrix:m,alternateGroup:d,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f})}var Yf=function(t){function n(){return t.call(this,"trak")||this}return nh(n,t),n}(qh);function Kf(t){for(var n=new Yf,i=0,r=Fh(t.data);i<r.length;i++){var e=r[i];Oh(e,"tkhd")?n.boxes.push(zf(e)):Oh(e,"mdia")?n.boxes.push(wf(e)):Oh(e,"edts")?n.boxes.push(sf(e)):n.boxes.push(Xh(e))}return n}var qf=function(t){function n(){return t.call(this,"moov")||this}return nh(n,t),n}(qh);function Jf(t){for(var n=new qf,i=0,r=Fh(t.data);i<r.length;i++){var e=r[i];Oh(e,"mvhd")?n.boxes.push(Zf(e)):Oh(e,"trak")?n.boxes.push(Kf(e)):Oh(e,"mvex")?n.boxes.push(Vf(e)):Oh(e,"pssh")?n.boxes.push(xf(e)):n.boxes.push(Xh(e))}return n}U(),St(),U(),St(),U(),St();var Qf=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"tfdt",i,r)||this;return e.baseMediaDecodeTime=n,e}return nh(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.JA},set:function(t){if(!vh(t,this.bitSize))throw new y("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.JA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(mh),$f=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return nh(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(Qf),nv=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return nh(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(Qf);function iv(t){var n=t.data,i=Uh(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new $f(n.nextUint32(),e.raw):new nv(n.nextUint64(),e.raw)}U(),St();var rv=function(t){function n(n,i){void 0===i&&(i=0);var r=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return r.trackId=n.trackId,r.baseDataOffset=n.baseDataOffset,r.sampleDescriptionIndex=n.sampleDescriptionIndex,r.defaultSampleDuration=n.defaultSampleDuration,r.defaultSampleSize=n.defaultSampleSize,r.defaultSampleFlags=n.defaultSampleFlags,r}return nh(n,t),k.defineProperty(n.prototype,"trackId",{get:function(){return this.VA},set:function(t){if(!vh(t,32))throw new y("Provided track id does not fit in 32 bits.");this.VA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.$A},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new y("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new y("The base data offset present flag is not set.");if(t&&!vh(t,64))throw new y("Provided baseDataOffset does not fit in 32 bits.");this.$A=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.tS},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new y("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new y("The sample description index flag is not set.");if(t&&!vh(t,32))throw new y("Provided sampleDescriptionIndex does not fit in 32 bits.");this.tS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.UA},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new y("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new y("The default sample duration present flag is not set.");if(t&&!vh(t,32))throw new y("Provided defaultSampleDuration does not fit in 32 bits.");this.UA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.GA},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new y("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new y("The default sample size present flag is not set.");if(t&&!vh(t,32))throw new y("Provided defaultSampleSize does not fit in 32 bits.");this.GA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.HA},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new y("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new y("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!vh(t.samplePaddingValue,3))throw new y("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!vh(t.sampleDegradationPriority,16))throw new y("Provided sample degradation priority does not fit in 16 bits.");this.HA=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Ef(this.defaultSampleFlags,n)},n}(mh);function ev(t){var n=t.data,i=n.nextUint8(),r=new sh(ah.from(n.nextUint8Array(3)));r.skipBits(6);var e=Boolean(r.readBit()),u=Boolean(r.readBit());r.skipBits(10);var s=Boolean(r.readBit()),o=Boolean(r.readBit()),a=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),h=Boolean(r.readBit()),f=n.nextUint32(),v=h?n.nextUint64():void 0,l=c?n.nextUint32():void 0,d=a?n.nextUint32():void 0,g=o?n.nextUint32():void 0,m=s?jh(new sh(ah.from(n.nextUint8Array(4)))):void 0;return new rv({trackId:f,defaultBaseIsMoof:e,durationIsEmpty:u,baseDataOffset:v,sampleDescriptionIndex:l,defaultSampleDuration:d,defaultSampleSize:g,defaultSampleFlags:m},i)}U(),St();var uv=function(t){function n(n,i,r){var e=t.call(this,"trun",n,function(t){var n,i,r,e;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(r=t.sampleFlagsPresent)&&void 0!==r&&r,sampleCompositionTimeOffsetsPresent:null!==(e=t.sampleCompositionTimeOffsetsPresent)&&void 0!==e&&e}}(i))||this;return e.dataOffset=i.dataOffset,e.samples=r,e.firstSampleFlags=i.firstSampleFlags,e}return nh(n,t),k.defineProperty(n.prototype,"dataOffset",{get:function(){return this.eS},set:function(t){if(t&&!vh(t,32))throw new y("Provided data offset does not fit in 32 bits.");this.eS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.iS},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!vh(t.samplePaddingValue,3))throw new y("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!vh(t.sampleDegradationPriority,16))throw new y("Provided sample degradation priority does not fit in 16 bits.");this.iS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"samples",{get:function(){return this.sS},set:function(t){var n,i;if(!vh(t.length,32))throw new y("The sample count cannot be represented in 32 bits.");for(var r=0,e=t;r<e.length;r++){var u=e[r];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new y("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new y("The sample duration present flag is not set.");if(u.duration&&!vh(u.duration,32))throw new y("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new y("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new y("The sample size present flag is not set.");if(u.size&&!vh(u.size,32))throw new y("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new y("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new y("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!vh(u.flags.samplePaddingValue,3))throw new y("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!vh(u.flags.sampleDegradationPriority,16))throw new y("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new y("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new y("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!vh(u.compositionTimeOffset,32))throw new y("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.sS=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Ef(this.firstSampleFlags,n);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(e.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(e.size,32),this.flags.sampleFlagsPresent&&Ef(e.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(e.compositionTimeOffset,32):n.writer.writeInt(e.compositionTimeOffset,32))}},n}(mh);function sv(t){var n=t.data,i=n.nextUint8(),r=new sh(ah.from(n.nextUint8Array(3)));r.skipBits(12);var e=Boolean(r.readBit()),u=Boolean(r.readBit()),s=Boolean(r.readBit()),o=Boolean(r.readBit());r.skipBits(5);var a=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),h=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:s,sampleFlagsPresent:u,sampleCompositionTimeOffsetsPresent:e};c&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=jh(new sh(ah.from(n.nextUint8Array(4)))));for(var v=[],l=0;l<h;l++){var d={};o&&(d.duration=n.nextUint32()),s&&(d.size=n.nextUint32()),u&&(d.flags=jh(new sh(ah.from(n.nextUint8Array(4))))),e&&(d.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(d)}return new uv(i,f,v)}var ov=function(t){function n(){return t.call(this,"traf")||this}return nh(n,t),n}(qh);function av(t){for(var n=new ov,i=0,r=Fh(t.data);i<r.length;i++){var e=r[i];Oh(e,"tfhd")?n.boxes.push(ev(e)):Oh(e,"tfdt")?n.boxes.push(iv(e)):Oh(e,"trun")?n.boxes.push(sv(e)):n.boxes.push(Xh(e))}return n}var cv=function(t){function n(){return t.call(this,"moof")||this}return nh(n,t),n}(qh);function hv(t){for(var n=new cv,i=0,r=Fh(t.data);i<r.length;i++){var e=r[i];Oh(e,"traf")?n.boxes.push(av(e)):Oh(e,"pssh")?n.boxes.push(xf(e)):n.boxes.push(Xh(e))}return n}U(),St();!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}nh(n,t),k.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.nS},set:function(t){if(!vh(t,32))throw new y("Provided sequence number does not fit in 32 bits.");this.nS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(mh);U(),St();var fv=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return nh(n,t),k.defineProperty(n.prototype,"codingName",{get:function(){return this.rS},set:function(t){if(4!==t.length)throw new y("Provided coding name was not 4 characters long.");this.rS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(fh);U(),St();!function(t){function n(n,i){var r=t.call(this,"pasp")||this;return r.hSpacing=n,r.vSpacing=i,r}nh(n,t),k.defineProperty(n.prototype,"hSpacing",{get:function(){return this.oS},set:function(t){if(!vh(t,32))throw new y("Provided hSpacing does not fit in 32 bits.");this.oS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"vSpacing",{get:function(){return this.hS},set:function(t){if(!vh(t,32))throw new y("Provided vSpacing does not fit in 32 bits.");this.hS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(fh);U(),St();!function(t){function n(n,i,r){var e=t.call(this,n)||this;return e.sample=i,e.sinf=r,e}nh(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(qh);U(),St();!function(t){function n(n,i,r){var e=t.call(this,"sinf")||this;return e.schm=i,e.schi=r,e.frma=new fv(n),e}nh(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,r;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(r=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==r?r:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(fh);U(),St();var vv=function(t){function n(n,i,r){var e=t.call(this,"saio",n,void 0===r?0:1)||this;return e.entries=i,e.explicitAuxInfoType=r,e}return nh(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"entries",{get:function(){return this.pA},set:function(t){var n=this;if(!vh(t.length,32))throw new y("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!vh(t,n.bitSize)})))throw new y("Not all provided entries fit in ".concat(this.bitSize," bits."));this.pA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.aS},set:function(t){if(void 0===t)this.flags=0;else{if(!vh(t.auxInfoType,32))throw new y("Provided auxInfoType does not fit in 32 bits.");if(!vh(t.auxInfoTypeParameter,32))throw new y("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.aS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(mh);(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}nh(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r,32)}}})(vv),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}nh(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.getHighBitsUnsigned(),32),t.writer.writeUInt(r.getLowBitsUnsigned(),32)}}}(vv);U(),St();!function(t){function n(n,i,r){var e=t.call(this,"saiz",0,void 0===r?0:1)||this;return e.defaultSampleInfoSize=n,e.sampleInfoSizes=i,e.explicitAuxInfoType=r,e}nh(n,t),k.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.uS},set:function(t){if(!vh(t,8))throw new y("Provided defaultSampleInfoSize does not fit in a single byte.");this.uS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.cS},set:function(t){if(!vh(t.length,32))throw new y("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!vh(t,8)})))throw new y("Not all provided sampleInfoSizes fit in a byte.");this.cS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.aS},set:function(t){if(void 0===t)this.flags=0;else{if(!vh(t.auxInfoType,32))throw new y("Provided auxInfoType does not fit in 32 bits.");if(!vh(t.auxInfoTypeParameter,32))throw new y("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.aS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new y("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,r=this.sampleInfoSizes;i<r.length;i++){var e=r[i];n.writer.writeByte(e)}}}(mh);U(),St();!function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}nh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,r=this.samples;i<r.length;i++){Sf(r[i],n)}}}(mh);U(),St();!function(t){function n(n){return t.call(this,"stsd",n,0)||this}nh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}($h);U(),St();var lv=function(t){function n(n,i,r){var e=t.call(this,"sgpd",n,0)||this;return e.entries=r,e.groupingType=i,e}return nh(n,t),k.defineProperty(n.prototype,"groupingType",{get:function(){return this.lS},set:function(t){if(4!==t.length)throw new y("The provided groupingType does not equal 4 characters.");this.lS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];this.serializeEntryBoxContent(n,e)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(mh);(function(t){function n(n,i){return t.call(this,0,n,i)||this}nh(n,t),n.prototype.serializeVersionBoxContent=function(t){}})(lv),function(t){function n(n,i,r){var e=t.call(this,1,n,r)||this;return e.defaultLength=i,e}nh(n,t),k.defineProperty(n.prototype,"defaultLength",{get:function(){return this.dS},set:function(t){if(!vh(t,32))throw new y("The provided defaultLength does not fit in 32 bits.");this.dS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(lv),function(t){function n(n,i,r,e){void 0===e&&(e=0);var u=this;if(n<2)throw new y("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,r)||this).defaultSampleDescriptionIndex=e,u}nh(n,t),k.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.WA},set:function(t){if(!vh(t,32))throw new y("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.WA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(lv);U(),St();(function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}nh(n,t),k.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.fS},set:function(t){if(!vh(t.length,32))throw new y("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!vh(t,32)})))throw new y("Not all sampleSizes can be represented in 32 bits.");this.fS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,r=this.sampleSizes;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}})(mh),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r=t.call(this,"stsz",0,0)||this;return r.defaultSampleSize=n,r.samples=i,r}nh(n,t),k.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.GA},set:function(t){if(!vh(t,32))throw new y("Provided defaultSampleSize does not fit in 32 bits.");this.GA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"samples",{get:function(){return this.sS},set:function(t){if(!vh(t,32))throw new y("Number of allowed samples cannot fit in 32 bits.");this.sS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(mh);U(),St();!function(t){function n(){return t.call(this,"stbl")||this}nh(n,t)}(qh);U(),St();!function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}nh(n,t),k.defineProperty(n.prototype,"entries",{get:function(){return this.pA},set:function(t){if(!vh(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!vh(t.firstChunk,32)||!vh(t.sampleDescriptionIndex,32)||!vh(t.samplesPerChunk,32)})))throw new y("Not all entries can be represented in 96 bits.");this.pA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.firstChunk,32),n.writer.writeUInt(e.samplesPerChunk,32),n.writer.writeUInt(e.sampleDescriptionIndex,32)}}}(mh);U(),St();!function(t){function n(){return t.call(this,"schi")||this}nh(n,t)}(qh);U(),St();!function(t){function n(n,i,r){var e=t.call(this,"schm",0,void 0===r?0:1)||this;return e.schemeType=n,e.schemeVersion=i,e.schemeUri=r,e}nh(n,t),k.defineProperty(n.prototype,"schemeType",{get:function(){return this._S},set:function(t){if(4!==t.length)throw new y("The provided schemeType does not have a length of 4.");this._S=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.vS},set:function(t){if(!vh(t,32))throw new y("The provided schemeVersion does not fit in 23 bits.");this.vS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"schemeUri",{get:function(){return this.mS},set:function(t){if(t&&4!==t.length)throw new y("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.mS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(mh);U(),St();var dv=function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=r,a.earliestPresentationTime=e,a.firstOffset=u,a.references=s,a}return nh(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"referenceId",{get:function(){return this.gS},set:function(t){if(!vh(t,32))throw new y("Provided referenceId does not fit in 32 bits.");this.gS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"timescale",{get:function(){return this.NA},set:function(t){if(!vh(t,32))throw new y("Provided timescale does not fit in 32 bits.");this.NA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.pS},set:function(t){if(!vh(t,this.bitSize))throw new y("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.pS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"firstOffset",{get:function(){return this.wS},set:function(t){if(!vh(t,this.bitSize))throw new y("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.wS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"references",{get:function(){return this.yS},set:function(t){if(!vh(t.length,16))throw new y("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!vh(r.referencedSize,31))throw new y("Provided referenced size does not fit in 31 bits.");if(!vh(r.subsegmentDuration,32))throw new y("Provided subsegment duration does not fit in 31 bits.");if(!vh(r.sapType,3))throw new y("Provided SAP type does not fit in 3 bits.");if(!vh(r.sapDeltaTime,28))throw new y("Provided SAP delta time does not fit in 28 bits.")}this.yS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,r=this.references;i<r.length;i++){var e=r[i];n.writer.writeBit(e.referenceType),n.writer.writeUInt(e.referencedSize,31),n.writer.writeUInt(e.subsegmentDuration,32),n.writer.writeBool(e.startsWithSap),n.writer.writeUInt(e.sapType,3),n.writer.writeUInt(e.sapDeltaTime,28)}},n}(mh),gv=function(t){function n(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,r,e,u,s)||this}return nh(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(dv),mv=function(t){function n(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,r,e,u,s)||this}return nh(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(dv);U(),St();var wv=function(t){function n(n,i,r){return t.call(this,"styp",n,i,r)||this}return nh(n,t),n}(of);function pv(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new wv(i,r,e)}U(),St();!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}nh(n,t),k.defineProperty(n.prototype,"balance",{get:function(){return this.bS},set:function(t){if(t<-1||t>1)throw new y("Provided balance does not fit in the allowed range [-1, 1].");if(!vh(lh(t,8),16))throw new y("Provided balance does not fit in 16 bits (fixed 8.8).");this.bS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(lh(this.balance,8),16),n.writer.writeUInt(0,16)}}(mh);U(),St();!function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}nh(n,t),k.defineProperty(n.prototype,"entries",{get:function(){return this.pA},set:function(t){if(!vh(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!vh(t,32)})))throw new y("Not all entries can be represented in 32 bits.");this.pA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(mh);U(),St();!function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}nh(n,t),k.defineProperty(n.prototype,"entries",{get:function(){return this.pA},set:function(t){if(!vh(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!vh(t.sampleCount,32)||!vh(t.sampleDelta,32)})))throw new y("Not all entries can be represented in 64 bits.");this.pA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),n.writer.writeUInt(e.sampleDelta,32)}}}(mh);U(),St();!function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}nh(n,t),k.defineProperty(n.prototype,"trackId",{get:function(){return this.VA},set:function(t){if(!vh(t,32))throw new y("The provided trackId does not fit in 32 bits.");this.VA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}($h);U(),St();!function(t){function n(){return t.call(this,"udta")||this}nh(n,t)}(qh);U(),St();var yv={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=yv);var r=t.call(this,"vmhd",0,1)||this;return r.graphicsMode=n,r.opColor=i,r}nh(n,t),k.defineProperty(n.prototype,"opColor",{get:function(){return this.SS},set:function(t){if(!vh(t.red,16)||!vh(t.green,16)||!vh(t.blue,16))throw new y("Not all colors could be represented in 16 bits.");this.SS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(mh);U(),St();var _v=function(t){function n(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s,o,a,c,h,f=this;return(f=t.call(this,n,i)||this).width=r.width,f.height=r.height,f.horizontalResolution=null!==(s=r.horizontal)&&void 0!==s?s:72,f.verticalResolution=null!==(o=r.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=e.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(c=e.frameCount)&&void 0!==c?c:1,f.depth=null!==(h=e.depth)&&void 0!==h?h:24,f.clap=e.clap,f.pasp=e.pasp,f.extra=u,f}return nh(n,t),k.defineProperty(n.prototype,"width",{get:function(){return this.YA},set:function(t){if(!vh(t,16))throw new y("Provided width does not fit in 16 bits.");this.YA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"height",{get:function(){return this.KA},set:function(t){if(!vh(t,16))throw new y("Provided height does not fit in 16 bits.");this.KA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.TS},set:function(t){if(!vh(lh(t,16),32))throw new y("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.TS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.kS},set:function(t){if(!vh(lh(t,16),32))throw new y("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.kS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"compressorName",{get:function(){return this.ES},set:function(t){if(t.length>31)throw new y("The provided compressorName should at most be 31 characters long.");this.ES=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"frameCount",{get:function(){return this.xS},set:function(t){if(!vh(t,16))throw new y("Provided frameCount does not fit in 16 bits.");this.xS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"depth",{get:function(){return this.RS},set:function(t){if(!vh(t,16))throw new y("Provided depth does not fit in 16 bits.");this.RS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,r,e,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(e=null===(r=this.pasp)||void 0===r?void 0:r.getSize())&&void 0!==e?e:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(lh(this.horizontalResolution,16),32),n.writer.writeUInt(lh(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&dh(n.writer,this.extra)},n}(Jh);U(),St(),U(),St();!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}nh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof I?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof I?n.concat(ah.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(mh);U(),St();!function(t){function n(n,i,r){var e=t.call(this,"mp4a",n,r)||this;return e.esd=i,e}nh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Qh);U(),St();!function(t){function n(n,i,r,e){void 0===e&&(e={});var u=t.call(this,"mp4v",n,i,e)||this;return u.esDescriptor=r,u}nh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(_v);U(),St();!function(t){function n(n,i){var r=t.call(this,"mp4s",n)||this;return r.esDescriptor=i,r}nh(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Jh);U(),St(),U(),St();!function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}nh(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(fh);U(),St();!function(){function t(t,n,i,r,e,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=r,this.ppsSets=e}k.defineProperty(t.prototype,"version",{get:function(){return this.IS},set:function(t){if(!vh(t,8))throw new y("Provided version does not fit in 8 bits.");this.IS=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"profileIndication",{get:function(){return this.CS},set:function(t){if(!vh(t,8))throw new y("Provided profileIndication does not fit in 8 bits.");this.CS=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.PS},set:function(t){if(!vh(t,8))throw new y("Provided profileCompatibility does not fit in 8 bits.");this.PS=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"levelIndication",{get:function(){return this.DS},set:function(t){if(!vh(t,8))throw new y("Provided levelIndication does not fit in 8 bits.");this.DS=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"spsSets",{get:function(){return this.NS},set:function(t){if(!vh(t.length,5))throw new y("Provided number of spsSets exceeds the max (32)");this.NS=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"ppsSets",{get:function(){return this.MS},set:function(t){if(!vh(t.length,8))throw new y("Provided number of ppsSets exceeds the max (256)");this.MS=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,n){return t+n.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,n){return t+n.length}),0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.length,16),t.concat(ah.from(r))}t.writer.writeByte(this.ppsSets.length);for(var e=0,u=this.ppsSets;e<u.length;e++){var s=u[e];t.writer.writeUInt(s.length,16),t.concat(ah.from(s))}}}();U(),St();!function(t){function n(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,e)||this;return s.configurationBox=r,s.bitrateBox=u,s}nh(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(_v);U(),St();!function(t){function n(n,i,r){var e=t.call(this,"btrt")||this;return e.bufferSizeDb=n,e.max=i,e.avg=r,e}nh(n,t),k.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.hA},set:function(t){if(!vh(t,32))throw new y("Provided bufferSizeDb does not fit in 32 bits.");this.hA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"max",{get:function(){return this.M_},set:function(t){if(!vh(t,32))throw new y("Provided max does not fit in 32 bits.");this.M_=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"avg",{get:function(){return this.LS},set:function(t){if(!vh(t,32))throw new y("Provided avg does not fit in 32 bits.");this.LS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(fh);U(),St(),U(),St(),U(),St();var bv=function(t){function n(n,i){var r,e,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(e=null===(r=i.constantIv)||void 0===r?void 0:r.length)&&void 0!==e?e:0)>0)throw new y("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new I(0),o}return nh(n,t),k.defineProperty(n.prototype,"isProtected",{get:function(){return this.FS},set:function(t){if(!vh(t,8))throw new y("Provided isProtected does not fit in 1 byte.");this.FS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.VS},set:function(t){if(![8,16].includes(t))throw new y("Provided perSampleIvSize does not match any allowed value [8, 16].");this.VS=t,this.WS=new I(0)},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"kId",{get:function(){return this.US},set:function(t){if(16!==t.length)throw new y("Provided kId length is not 16.");this.US=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"constantIv",{get:function(){return this.WS},set:function(t){if(![8,16].includes(t.length))throw new y("Provided constant IV length does not match any allowed value [8, 16].");this.WS=t,this.VS=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),dh(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),dh(t.writer,this.constantIv))},n}(mh),kv=(function(t){function n(n){return t.call(this,0,n)||this}nh(n,t)}(bv),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return nh(n,t),k.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.GS},set:function(t){if(!vh(t,4))throw new y("Provided cryptByteBlocks does not fit in 4 bits.");this.GS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.HS},set:function(t){if(!vh(t,4))throw new y("Provided skipByteBlocks does not fit in 4 bits.");this.HS=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(bv));!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new kv(n),i}nh(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(If);function Av(t){return void 0!==t.iv}function Tv(t){return void 0!==t.subsamples}U(),St();!function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}nh(n,t),k.defineProperty(n.prototype,"samples",{get:function(){return this.sS},set:function(t){var n;if(!vh(t.length,32))throw new y("The number of samples provided does not fit in 32 bits.");for(var i=0,r=t;i<r.length;i++){var e=r[i];if(Av(e)&&![8,16].includes(e.iv.length))throw new y("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Tv(e)),!0===n&&!Tv(e)||!1===n&&Tv(e))throw new y("Mix of samples with and without subsamples detected.");if(Tv(e)){if(!vh(e.subsamples.length,16))throw new y("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];if(!vh(o.clearData,16))throw new y("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!vh(o.protectedData,23))throw new y("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.sS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,r=this.samples;i<r.length;i++){var e=r[i];Av(e)&&(n+=e.iv.length),Tv(e)&&(n+=2+6*e.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];if(Av(e)&&dh(n.writer,e.iv),Tv(e)){n.writer.writeUInt(e.subsamples.length,16);for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(mh);U(),St(),U(),St();!function(t){function n(n,i,r,e,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=r,s.timescale=e.timescale,s.presentationTimeDelta=e.presentationTimeDelta,s.eventDuration=e.eventDuration,s}nh(n,t),k.defineProperty(n.prototype,"timescale",{get:function(){return this.NA},set:function(t){if(!vh(t,32))throw new y("The provided timescale does not fit in 32 bits.");this.NA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.ZS},set:function(t){if(!vh(t,32))throw new y("The provided presentationTimeDelta does not fit in 32 bits.");this.ZS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"eventDuration",{get:function(){return this.XS},set:function(t){if(!vh(t,32))throw new y("The provided eventDuration does not fit in 32 bits.");this.XS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"id",{get:function(){return this.zS},set:function(t){if(!vh(t,32))throw new y("The provided id does not fit in 32 bits.");this.zS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(ah.from(this.data))}}(mh);U(),St(),U(),St(),U(),St();var Sv=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new hh,n=0,i=this.boxes;n<i.length;n++){var r=i[n];t.concat(r.serialize())}return t.toRangedBuffer()},t}();function Ev(t,n){return function(i){var r=function(t,n){for(var i=t.data,r=t.cursor;r.offset<i.byteLength;){var e=Vh(i,r);if(!e.complete)return;if(Oh(e.box,n))return e.box}}(new Bh(Dh(i),new Mh),t);if(!r)throw new y("".concat(t," box not found"));return n(r)}}var Iv=Ev("moov",Jf),Rv=Ev("sidx",(function(t){var n,i,r=t.data,e=Uh(r.nextUint32()),u=e.version,s=e.flags,o=r.nextUint32(),a=r.nextUint32();0===u?(n=r.nextUint32(),i=r.nextUint32()):(n=r.nextUint64(),i=r.nextUint64()),r.skip(2);for(var c=r.nextUint16(),h=[],f=0;f<c;f++){var v=new sh(ah.from(r.nextUint8Array(12))),l=v.readBit(),d=v.readUInt(31),g=v.readUInt(32),m=Boolean(v.readBit()),w=v.readUInt(3),p=v.readUInt(28);h.push({referenceType:l,referencedSize:d,subsegmentDuration:g,startsWithSap:m,sapType:w,sapDeltaTime:p})}return 0===u?new gv(o,a,n,i,h,s.raw):new mv(o,a,n,i,h,s.raw)})),Cv=Ev("moof",hv),Nv=Ev("pssh",xf);function xv(t){return function(t){for(var n=new Sv,i=0,r=Fh(t);i<r.length;i++){var e=r[i];Oh(e,"ftyp")?n.boxes.push(cf(e)):Oh(e,"styp")?n.boxes.push(pv(e)):Oh(e,"moov")?n.boxes.push(Jf(e)):Oh(e,"moof")?n.boxes.push(hv(e)):Oh(e,"mdat")?n.boxes.push(yf(e)):n.boxes.push(Xh(e))}return n}(new Bh(Dh(t),new Mh))}var Dv=function(t){function n(n,i){var r;(r=t.call(this)||this).KS=n,r.nT=i,r.JS=!1,r.rT=function(){r.iT()},r.oT=function(t){r._o(new ma(r,t.messageType,Jc(r.nT,t.message)))},r.hT=function(){r.JS=!0,r.jS.Nb>0&&(r.jS.Fb(),r._o(new ga(r.jS))),r.KS.removeEventListener("keystatuseschange",r.rT),r.KS.removeEventListener("message",r.oT)},r.KS.addEventListener("keystatuseschange",r.rT),r.KS.addEventListener("message",r.oT),r.jS=new Yc;var e=[];return r.KS.closed&&e.push(ut.resolve(r.KS.closed)),r.$S=new Kc,e.push(r.$S.Ub),r.Vd=ut.race(e).then(r.hT,r.hT),r.iT(),r}Rt(n,t);var i=n.prototype;return i.Ws=function(){if(this.JS)return this.Vd;var t=[];return t.push(ut.resolve(this.KS.close())),t.push(ea(1e3)),this.$S.Qw(ut.race(t).catch(Pv)),this.JS=!0,this.Vd},i.tT=function(t,n,i){if(Gn.um){var r=Nv(Cc(n));if(1===r.version)n=new Cf(r.systemId,r.data).serialize().join()}return ut.resolve(this.KS.generateRequest(t,n)).catch(Pv)},i.$n=function(t){return ut.resolve(this.KS.load(t)).catch(Pv)},i.eT=function(){return ut.resolve(this.KS.remove()).catch(Pv)},i.ir=function(t){return ut.resolve(this.KS.update(t)).catch(Pv)},i.iT=function(){var t=this;this.jS.Fb(),this.KS.keyStatuses.forEach((function(n,i){t.sT(i,n)})),this._o(new ga(this.jS))},i.sT=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Cc(t);if(this.nT===ks&&16===r.byteLength&&(Gn.Tm||Gn.yg)){var e=Ec(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.nT===ks&&"status-pending"===n&&(n="usable"),this.jS.Bb(r,n)},xt(n,[{key:"qS",get:function(){return this.Vd}},{key:"YS",get:function(){return this.KS.expiration}},{key:"pb",get:function(){return this.jS}},{key:"QS",get:function(){return this.KS.sessionId}}]),n}(aa);function Pv(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|T(i[1],16))}throw new $c(t.message,void 0,n,t)}var Mv=function(){function t(t,n,i){this.uT=t,this.cT=n,this.kd=i}var n=t.prototype;return n.aT=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){return[2,new Dv(n.uT.createSession(t),n.cT)]}))}))()},n.lT=function(t){return ut.resolve(this.uT.setServerCertificate(t))},n.kn=function(t){return ut.resolve(t.setMediaKeys(this.uT))},n.dT=function(t){return ut.resolve(t.setMediaKeys(null))},n.nr=function(){return ut.resolve()},t}(),Bv=function(){function t(t,n,i){this.fT=t,this.nT=n,this.vT=i}var n=t.prototype;return n._T=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.fT.createMediaKeys()];case 1:return n=i.sent(),[2,new Mv(n,t.nT,t.vT)]}}))}))()},n.mT=function(){return this.vT},xt(t,[{key:"cT",get:function(){return this.fT.keySystem}}]),t}();U(),St(),U(),St(),rn();var Ov={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_WEBM:"video/webm",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_WEBM:"audio/webm",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Lv(t){return Zs(t,Ov.APPLICATION_MP4)||Zs(t,Ov.VIDEO_MP4)||Zs(t,Ov.AUDIO_MP4)}function Fv(t){return Zs(t,Ov.VIDEO_WEBM)||Zs(t,Ov.AUDIO_WEBM)}var Vv=function(){function t(t,n){this.Tw=t,this.pT=n}return t.prototype.gT=function(t){for(var n=0,i=this.pT;n<i.length;n++){var r=nn(i[n],2),e=r[0],u=r[1];if(e.toLowerCase()===t.toLowerCase())return u}},t}();function Uv(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Vv(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),u=[],s=0,o=!1,a=0;a<e.length;a++){var c=e[a];if(o||";"!==c)'"'===c&&(o=!o);else{var h=Wv(e.substr(s,a));h&&u.push(h),s=a+1}}if(s!==e.length){var f=Wv(e.substr(s));f&&u.push(f)}return new Vv(r,u)}function Wv(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function jv(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function Zv(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);if(i){var r=Number(i[1]),e=Number(i[2]);n="avc1."+Ys((r<<16|e).toString(16),6,"0")}return n}function Xv(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,wT:r.wT},s=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter((function(t){return Boolean(t.contentType)}));o.length&&(u.audioCapabilities=o.filter((function(r){return Gv(t,n,i,r)})),s=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var a=r.videoCapabilities.filter((function(t){return Boolean(t.contentType)}));a.length&&(u.videoCapabilities=a.filter((function(r){return Gv(t,n,i,r)})),s=!0,u.videoCapabilities.length&&(e=!0))}return s||(e=t(i,"video/mp4")),e?u:void 0}}function Gv(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!To(n,r.encryptionScheme))&&(!r.robustness&&t(i,jv(r.contentType))))}function Hv(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function zv(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function Yv(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Kv))||!(!t.videoCapabilities||!t.videoCapabilities.some(Kv))}function Kv(t){return!t.robustness}function qv(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(ss({},e,{robustness:n}))}return i}var Jv=function(){function t(){}return t.prototype.Dw=function(t,n){return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:for(n=n.filter((function(t){return!t.wT})),i=0;i<n.length;i++)(r=n[i]).audioCapabilities&&(r.audioCapabilities=zv(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=zv(r.videoCapabilities));if(t!==Ss||!n.some(Yv))return[3,4];e=n.map((function(t){return function(t,n){return ss({},t,{videoCapabilities:t.videoCapabilities?qv(t.videoCapabilities,n):void 0,audioCapabilities:t.audioCapabilities?qv(t.audioCapabilities,n):void 0})}(t,"SW_SECURE_CRYPTO")})),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,d.requestMediaKeySystemAccess(t,e)];case 2:return u=c.sent(),s=u.getConfiguration(),[2,new Bv(u,t,s)];case 3:return c.sent(),[3,4];case 4:return[4,d.requestMediaKeySystemAccess(t,n)];case 5:return o=c.sent(),a=o.getConfiguration(),[2,new Bv(o,t,a)]}}))}))()},t.yT=function(){return io()},t}();U(),St(),U(),St(),Dt(),U(),St(),Gt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt();var Qv=function(t){function n(n,i){var r;return(r=t.call(this)||this).xT=n,r.IT=i,r.JS=!1,r.NT=void 0,r.kT=void 0,r.bT=void 0,r.hT=function(){r.JS=!0,r.AT.Vb(void 0),r.bT&&(r.bT.removeEventListener("mskeyclose",r.hT),r.bT.removeEventListener("mskeymessage",r.CT),r.bT.removeEventListener("mskeyerror",r.Ss),r.bT.removeEventListener("mskeyadded",r.PT))},r.CT=function(t){r.kT&&(r.kT.Vb(void 0),r.kT=void 0),r._o(new ma(r,"license-request",xc(t.message).buffer,t.destinationURL||void 0))},r.Ss=function(){var t=r.bT&&r.bT.error;if(t){var n=new $c("Unknown CDM error",t.code,t.systemCode);if(r.kT)r.kT.Wb(n),r.kT=void 0;else if(r.NT)r.NT.Wb(n),r.NT=void 0;else switch(n.Gb){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.DT("output-not-allowed");break;default:r.DT("internal-error")}}},r.PT=function(){r.kT&&(r.DT("usable"),r.kT.Vb(void 0),r.kT=void 0),r.NT&&(r.DT("usable"),r.NT.Vb(void 0),r.NT=void 0)},r.AT=new Kc,r.ST=new Yc,r}Rt(n,t);var i=n.prototype;return i.tT=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return r.TT(),r.kT=new Kc,r.aT(Cc(n),i),[4,r.kT.Ub];case 1:return t.sent(),[2]}}))}))()},i.aT=function(t,n){if(!t)throw new _("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.ET;return(i=n?this.xT.createSession(this.IT,t,r):this.xT.createSession(this.IT,t)).addEventListener("mskeyclose",this.hT),i.addEventListener("mskeymessage",this.CT),i.addEventListener("mskeyerror",this.Ss),i.addEventListener("mskeyadded",this.PT),this.bT=i,this.DT("status-pending"),i},i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){return n.TT(),[2,!0]}))}))()},i.ir=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(n.NT=new Kc,n.TT(),!n.bT)return[2,ut.resolve()];if(0===(i=Cc(t)).byteLength)throw new _("Cannot call update with an empty response.");return n.bT.update(i),[4,n.NT.Ub];case 1:return r.sent(),[2]}}))}))()},i.Ws=function(){return!this.JS&&this.bT&&(this.JS=!0,this.bT.close()),this.AT.Ub},i.eT=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.TT(),[2]}))}))()},i.TT=function(){if(this.JS)throw new _("Already closing or closed.")},i.DT=function(t){this.ST.Fb(),this.ST.Bb(zc,t),this._o(new ga(this.ST))},xt(n,[{key:"QS",get:function(){return this.bT&&this.bT.sessionId||""}},{key:"YS",get:function(){return NaN}},{key:"qS",get:function(){return this.AT.Ub}},{key:"pb",get:function(){return this.ST}}]),n}(aa),$v=function(){function t(t,n,i){this.xT=t,this.cT=n,this.kd=i;var r=Hv(i)||"video/mp4";this.IT=jv(r)}var n=t.prototype;return n.aT=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){return[2,new Qv(n.xT,n.IT)]}))}))()},n.lT=function(t){return ut.resolve(!1)},n.kn=function(t){var n=this,i=function(){t.msSetMediaKeys(n.xT),t.removeEventListener("loadedmetadata",i)};return t.readyState>=1?t.msSetMediaKeys(this.xT):t.addEventListener("loadedmetadata",i),ut.resolve()},n.dT=function(t){return ut.resolve()},n.nr=function(){return ut.resolve()},t}(),tl=function(){function t(t,n){this.nT=t,this.MT=n}var n=t.prototype;return n.mT=function(){return this.MT},n._T=function(){var t=new f.MSMediaKeys(this.nT);return ut.resolve(new $v(t,this.nT,this.MT))},xt(t,[{key:"cT",get:function(){return this.nT}}]),t}(),nl=function(){function t(){}return t.prototype.Dw=function(t,n){try{return ut.resolve(function(t,n){if(!il())throw new _("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Xv(rl,la,t,r);if(e)return new tl(t,e)}throw new _("Unsupported key system configuration for "+t)}(t,n))}catch(t){return ut.reject(t)}},t.yT=function(){return il()},t}();function il(){return void 0!==f.MSMediaKeys&&"function"==typeof f.MSMediaKeys.isTypeSupported}function rl(t,n){return f.MSMediaKeys.isTypeSupported(t,n)}U(),St(),U(),St(),Dt(),U(),St(),Gt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt();var el=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).FT=n,e.IT=i,e.OT=r,e.AT=new Kc,e.WT=void 0,e.ST=new Yc,e.LT=void 0,e.VT=new Kc,e.Ss=function(){var t=e.LT&&e.LT.error;if(t){var n=new $c("Unknown CDM error",t.code,t.systemCode);e.WT?(e.WT.Wb(n),e.WT=void 0):n.Gb===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.DT("output-not-allowed"):e.DT("internal-error"),e._o(new wa)}},e.CT=function(t){e._o(new ma(e,"license-request",xc(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.PT=function(){e.WT&&(e.WT.Vb(void 0),e.WT=void 0),e.DT("usable")},e}Rt(n,t);var i=n.prototype;return i.tT=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.BT;if(!r)throw new _("Expected FairPlay contentId to be defined but was "+r+".");var e=function(t,n,i){var r=bc(t),e=2*r.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+i.byteLength),o=new DataView(s),a=new Pc;return nc(o,a,e,!0),dc(o,a,r,!0),nc(o,a,u,!0),dc(o,a,n,!0),nc(o,a,i.byteLength,!0),Ya(o,a,i),new I(s)}(Cc(n),r,this.OT);return this.LT=this.FT.createSession(this.IT,e),this.LT.addEventListener("webkitkeymessage",this.CT,!1),this.LT.addEventListener("webkitkeyadded",this.PT,!1),this.LT.addEventListener("webkitkeyerror",this.Ss,!1),this.DT("status-pending"),this.VT.Vb(this.LT),this.VT=new Kc,ut.resolve()},i.$n=function(t){return ut.resolve(!0)},i.ir=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(0===(i=Cc(t)).byteLength)throw new _("Cannot call update with an empty response.");return n.WT=new Kc,(r=n.LT)?[3,2]:[4,n.VT.Ub];case 1:r=e.sent(),e.label=2;case 2:return r.update(i),[4,n.WT.Ub];case 3:return e.sent(),[2]}}))}))()},i.Ws=function(){var t,n=this.LT;return n&&(n.removeEventListener("webkitkeymessage",this.CT,!1),n.removeEventListener("webkitkeyadded",this.PT,!1),n.removeEventListener("webkitkeyerror",this.Ss,!1),n.close()),this.VT.jw(),null==(t=this.WT)||t.jw(),this.AT.Vb(void 0),this.AT.Ub},i.eT=function(){return ut.resolve(void 0)},i.DT=function(t){this.ST.Fb(),this.ST.Bb(zc,t),this._o(new ga(this.ST))},xt(n,[{key:"QS",get:function(){return this.LT?this.LT.sessionId:""}},{key:"YS",get:function(){return NaN}},{key:"qS",get:function(){return this.AT.Ub}},{key:"pb",get:function(){return this.ST}}]),n}(aa);U(),St(),Dt(),Ct(),U(),St();var ul=function(t){return t[t.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",t[t.LICENSE_ERROR=2e3]="LICENSE_ERROR",t[t.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",t[t.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",t[t.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",t[t.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",t[t.SOURCE_INVALID=3e3]="SOURCE_INVALID",t[t.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",t[t.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",t[t.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",t[t.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",t[t.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",t[t.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",t[t.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",t[t.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",t[t.MEDIA_ABORTED=5004]="MEDIA_ABORTED",t[t.NETWORK_ERROR=6e3]="NETWORK_ERROR",t[t.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",t[t.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",t[t.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",t[t.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",t[t.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",t[t.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",t[t.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",t[t.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",t[t.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",t[t.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",t[t.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",t[t.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",t[t.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",t[t.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",t[t.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",t[t.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",t[t.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",t[t.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",t[t.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",t[t.AD_ERROR=1e4]="AD_ERROR",t[t.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",t[t.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",t[t.PICTURE_IN_PICTURE_ERROR=11001]="PICTURE_IN_PICTURE_ERROR",t[t.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",t[t.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",t[t.THEO_LIVE_UNKNOWN_ERROR=13e3]="THEO_LIVE_UNKNOWN_ERROR",t[t.THEO_LIVE_CHANNEL_NOT_FOUND=13001]="THEO_LIVE_CHANNEL_NOT_FOUND",t[t.THEO_LIVE_END_OF_DEMO=13002]="THEO_LIVE_END_OF_DEMO",t[t.THEO_LIVE_ANALYTICS_ERROR=13003]="THEO_LIVE_ANALYTICS_ERROR",t}({}),sl=function(t){return t[t.CONFIGURATION=1]="CONFIGURATION",t[t.LICENSE=2]="LICENSE",t[t.SOURCE=3]="SOURCE",t[t.MANIFEST=4]="MANIFEST",t[t.MEDIA=5]="MEDIA",t[t.NETWORK=6]="NETWORK",t[t.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",t[t.SUBTITLE=8]="SUBTITLE",t[t.VR=9]="VR",t[t.AD=10]="AD",t[t.FULLSCREEN=11]="FULLSCREEN",t[t.CACHE=12]="CACHE",t[t.THEOLIVE=13]="THEOLIVE",t}({});!function(t){t.fromCode=function(n){var i=A.floor(n/1e3);if(i in t)return i;throw new _("Invalid error code: "+n)}}(sl||(sl={}));var ol=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).code=n,e}return Rt(n,t),xt(n,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return sl.fromCode(this.code)}}]),n}(Uo);function al(t,n){return t instanceof ol?t:t instanceof y?new ol(n,t.message,t):new ol(n,String(t))}var cl=function(){function t(t,n,i){this.FT=t,this.cT=n,this.kd=i,this.OT=void 0;var r=Hv(i)||"video/mp4";this.IT=jv(r)}var n=t.prototype;return n.getInternalMediaKeys=function(){return this.FT},n.aT=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){if(!n.OT)throw new ol(ul.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new el(n.FT,n.IT,n.OT)]}))}))()},n.lT=function(t){return this.OT=Cc(t),ut.resolve(!0)},n.kn=function(t){return t.webkitSetMediaKeys(this.FT),ut.resolve()},n.dT=function(t){return t.webkitSetMediaKeys(null),ut.resolve()},n.nr=function(){return ut.resolve()},t}(),hl=function(){function t(t,n){this.nT=t,this.MT=n}var n=t.prototype;return n.mT=function(){return this.MT},n._T=function(){var t=new f.WebKitMediaKeys(this.nT);return ut.resolve(new cl(t,this.nT,this.MT))},xt(t,[{key:"cT",get:function(){return this.nT}}]),t}(),fl=function(){function t(){}return t.prototype.Dw=function(t,n){try{return ut.resolve(function(t,n){if(t!==Ns)throw new _(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!vl())throw new _("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Xv(ll,da,t,r);if(e)return new hl(t,e)}throw new _("Unsupported key system configuration for "+t)}(t,n))}catch(t){return ut.reject(t)}},t.yT=function(){return vl()},t}();function vl(){return void 0!==f.WebKitMediaKeys&&"function"==typeof f.WebKitMediaKeys.isTypeSupported}function ll(t,n){return f.WebKitMediaKeys.isTypeSupported(t,n)}U(),St(),Gt(),Jt();var dl=function(){function t(t){this.UT=t}return t.prototype.Dw=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=0,e=i.UT,s.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],s.label=2;case 2:return s.trys.push([2,4,,5]),[4,u.Dw(t,n)];case 3:return[2,s.sent()];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:throw new _("Unsupported key system configuration for "+t)}}))}))()},t}();U(),St(),U(),St(),U(),St(),Gt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var gl=function(){function t(t){var n=this;this.HT=[],this.ZT=void 0,this.GT=new Qo,this.XT=function(){return 0===n.HT.length?n.qT?ml(n.qT,n.GT.Uw).then(n.YT,n.YT):n.YT():n.HT.shift()().then(n.XT)},this.YT=function(){if(0!==n.HT.length)return n.XT();n.ZT=void 0},this.qT=t}var n=t.prototype;return n.Qo=function(t,n){var i=this;return new ut((function(r){var e=Qo.$w([i.GT.Uw,n]),u=function(){e.Xw()};i.HT.push((function(){var n=ml(t,e.Uw);return r(n),n.then(u,u)})),i.ZT||(i.ZT=i.XT())}))},n.jw=function(){return this.zT(!0)},n.yn=function(){return this.qT=void 0,this.zT(!1)},n.zT=function(t){var n=this.ZT;return this.GT.jw(),t&&(this.GT=new Qo),ut.resolve(n)},t}();function ml(t,n){return new ut((function(i){return i(t(n))}))}var wl=new gl,pl=function(t){function n(n){var i;return(i=t.call(this)||this).nT=n,i.kT=void 0,i.WT=void 0,i.$b=!1,i.hk=void 0,i.$T=void 0,i.AT=new Kc,i.rk="",i.ek=new Kc,i.nk=new Yc,i}Rt(n,t);var i=n.prototype;return i.KT=function(){this.WT&&(this.DT("usable"),this.WT.Vb(void 0),this.WT=void 0)},i.jT=function(t){var n=new $c("Unknown CDM error",t.errorCode,t.systemCode);this.WT?(this.WT.Wb(n),this.WT=void 0):this.kT?(this.kT.Wb(n),this.kT=void 0):n.Gb===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.DT("output-restricted"):1===n.Hb?this.DT("expired"):this.DT("internal-error")},i.QT=function(t){0!==t.message.byteLength?(this.kT&&(this.kT.Vb(void 0),this.kT=void 0),this._o(new ma(this,"license-request",Jc(this.nT,xc(t.message).buffer),t.defaultURL||void 0))):this.kT&&(this.kT.Wb("Empty key message"),this.kT=void 0)},i.JT=function(t){this.$T||(this.$T=t,this.ek.Vb(t))},i.Ws=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.throwIfClosed(),t.WT&&(t.WT.Wb(void 0),t.WT=void 0),t.$b=!0,t.AT.Vb(void 0),[2]}))}))()},i.tT=function(t,n){var i=this;return Zt((function(){var t;return Ht(this,(function(r){switch(r.label){case 0:return i.throwIfClosed(),i.kT=new Kc,i.hk=Cc(n),(t=i.$T)?[3,2]:[4,i.ek.Ub];case 1:t=r.sent(),r.label=2;case 2:return t.webkitGenerateKeyRequest(i.nT,i.hk),[4,i.kT.Ub];case 3:return r.sent(),[2]}}))}))()},i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){return n.throwIfClosed(),[2,!1]}))}))()},i.eT=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.throwIfClosed(),[2]}))}))()},i.ir=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.throwIfClosed(),n.WT=new Kc,Gn.Mm||Gn.Cm?[2,wl.Qo(Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))})))]:[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))}))()},i.doUpdate=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return void 0===n.WT?[2]:(i=n.$T)?[3,2]:[4,n.ek.Ub];case 1:i=r.sent(),r.label=2;case 2:return i.webkitAddKey(n.nT,Cc(t),n.hk,n.QS),[4,n.WT.Ub];case 3:return r.sent(),Gn.Cm?[4,ea(500)]:[3,5];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))()},i.throwIfClosed=function(){if(this.$b)throw new _("Already closing or closed.")},i.DT=function(t){this.nk.Fb(),this.nk.Bb(zc,t),this._o(new ga(this.nk))},i.ck=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return(i=t.$T)?[3,2]:[4,t.ek.Ub];case 1:i=r.sent(),r.label=2;case 2:if(!(n=i).webkitCancelKeyRequest)return[3,7];r.label=3;case 3:return r.trys.push([3,4,5,7]),n.webkitCancelKeyRequest(t.nT,t.rk),[3,7];case 4:return r.sent(),[3,7];case 5:return[4,ea(500)];case 6:return r.sent(),[7];case 7:return[2]}}))}))()},xt(n,[{key:"pb",get:function(){return this.nk}},{key:"QS",get:function(){return this.rk},set:function(t){this.rk=t}},{key:"qS",get:function(){return this.AT.Ub}},{key:"YS",get:function(){return NaN}}]),n}(aa),yl=function(){function t(t,n){var i=this;this.cT=t,this.kd=n,this.$T=void 0,this.fk=as(),this._k=[],this.PT=function(t){var n=i.vk(t.sessionId);n&&n.KT()},this.lk=function(t){var n=i.vk(t.sessionId);n&&n.jT(t)},this.dk=function(t){var n=i.vk(t.sessionId);n&&n.QT(t)}}var n=t.prototype;return n.kn=function(t){return this.$T=t,this.$T.addEventListener("webkitkeyadded",this.PT),this.$T.addEventListener("webkitkeyerror",this.lk),this.$T.addEventListener("webkitkeymessage",this.dk),this.fk.forEach((function(n,i){return n.JT(t)})),this._k.forEach((function(n){return n.JT(t)})),ut.resolve()},n.dT=function(t){return t.removeEventListener("webkitkeyadded",this.PT),t.removeEventListener("webkitkeyerror",this.lk),t.removeEventListener("webkitkeymessage",this.dk),this.$T=void 0,ut.resolve()},n.nr=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=t.fk.entries(),i=n.next(),r.label=1;case 1:return i.done?[3,3]:[4,i.value[1].ck()];case 2:return r.sent(),i=n.next(),[3,1];case 3:return t.fk.clear(),[2]}}))}))()},n.aT=function(t,n,i){var r=this;return Zt((function(){var t;return Ht(this,(function(n){return t=new pl(r.cT),r.$T&&t.JT(r.$T),r._k.push(t),[2,t]}))}))()},n.lT=function(t){return ut.resolve(!1)},n.vk=function(t){if(t){var n=this.fk.get(t);return n||((n=this._k.shift())?(n.QS=t,this.fk.set(t,n),n):void 0)}},t}(),_l=function(){function t(t,n){this.cT=t,this.gk=n}var n=t.prototype;return n._T=function(){return ut.resolve(new yl(this.cT,this.gk))},n.mT=function(){return this.gk},t}(),bl=function(){function t(){}return t.prototype.Dw=function(t,n){try{return ut.resolve(function(t,n){if(!bl.yT())throw new _("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Xv(kl,la,t,r);if(e)return new _l(t,e)}throw new _("Unsupported key system configuration for "+t)}(t,n))}catch(t){return ut.reject(t)}},t.yT=function(){return ro()},t}();function kl(t,n){var i=Pi();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}U(),St();var Al,Tl=function(){function t(){}return t.prototype.Dw=function(t,n){return t===Ss||t===ks?ut.resolve(void 0):ut.reject(new y("DRM configuration not supported"))},t}();function Sl(){return Al||(Al=function(){var t=[];fl.yT()&&t.push(new fl);Jv.yT()&&t.push(new Jv);nl.yT()&&t.push(new nl);bl.yT()&&t.push(new bl);Gn.Bm&&t.push(new Tl);return new dl(t)}()),Al}U(),St(),Ct(),U(),St();var El=function(){function t(){this.pk=as()}var n=t.prototype;return n.Fb=function(t){this.pk.delete(t)},n.wk=function(){this.pk.clear()},n.Lb=function(t){return this.pk.get(t)},n.Bb=function(t,n){this.pk.set(t,n)},t}(),Il=function(){function t(){}return t.yk=function(){return t.Vg||(t.Vg=Rl.yT()?new Rl:new El),t.Vg},t.Fb=function(n){t.yk().Fb(n)},t.wk=function(){t.yk().wk()},t.Lb=function(n){return t.yk().Lb(n)},t.Bb=function(n,i){t.yk().Bb(n,i)},t}();Il.Vg=void 0;var Rl=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.Fb=function(t){self.sessionStorage.removeItem(t)},i.wk=function(){self.sessionStorage.clear()},i.Lb=function(t){var n;return null!=(n=self.sessionStorage.getItem(t))?n:void 0},i.Bb=function(t,n){self.sessionStorage.setItem(t,n)},n.yT=function(){var t="foobar";try{return self.sessionStorage.setItem(t,t),self.sessionStorage.removeItem(t),!0}catch(t){return!1}},n}(Il);U(),St(),U(),St();var Cl=function(){var t=self.Blob;if(t)try{new t;return function(t){return function(n,i){return new t(n,i)}}(t)}catch(t){}var n=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;if(n)return function(t){return function(n,i){var r=new t;if(n)for(var e=0;e<n.length;e++){var u=n[e];r.append(u)}return r.getBlob(i&&i.type||"")}}(n)}();function Nl(t,n,i){var r=Cl([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),u=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),s=v.createElement("a");s.href=e,s.download=u,v.body.appendChild(s),s.click(),v.body.removeChild(s),URL.revokeObjectURL(e)}U(),St();var xl="default";U(),St(),Dt(),U(),St(),U(),St(),Ct(),U(),St();var Dl=function(t){return t.bk="arraybuffer",t.Ak="json",t.Sk="stream",t.Tk="text",t}({});U(),St(),rn();var Pl=function(){function t(n){var i=this;this.P_={},n instanceof t?n.asList().forEach((function(t){var n=nn(t,2),r=n[0],e=n[1];i.append(r,e)})):Array.isArray(n)?n.forEach((function(t){var n=nn(t,2),r=n[0],e=n[1];i.append(r,e)})):n&&k.getOwnPropertyNames(n).forEach((function(t){i.append(t,n[t])}))}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=Ml(i),r=Bl(r);var e=i.toLowerCase();if(this.P_.hasOwnProperty(e)){var u=this.P_[e],s=u[1];u[1]=s?s+", "+r:r}else this.P_[e]=[i,r]},n.delete=function(t){var n=Ml(t).toLowerCase();delete this.P_[n]},n.get=function(t){var n=Ml(t).toLowerCase();return this.P_.hasOwnProperty(n)?this.P_[n][1]:null},n.has=function(t){var n=Ml(t).toLowerCase();return this.P_.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=Ml(i)).toLowerCase();this.P_[r]=[i,Bl(n)]},n.forEach=function(t,n){for(var i in this.P_)this.P_.hasOwnProperty(i)&&t.call(n,this.P_[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.P_)if(this.P_.hasOwnProperty(n)){var i=nn(this.P_[n],2),r=i[0],e=i[1];t.push([r,e])}return t},n.Ek=function(){var t={};return this.forEach((function(n,i){t[i]=n})),t},n.xk=function(t){var n=this;t.forEach((function(t,i){n.append(i,t)}))},n.Rk=function(t){var n=this;t.forEach((function(t,i){n.set(i,t)}))},t}();function Ml(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new _("Invalid character in header field name");return n}function Bl(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),rn(),U(),St();var Ol=V(un());U(),St(),Dt(),Ct();var Ll=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return Rt(n,t),xt(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(Uo),Fl=t,Vl=oi(Fl.ReadableStream)&&oi(Fl.WritableStream)&&oi(Fl.TransformStream)&&si(Fl.ReadableStream.prototype.pipeThrough)&&!Mr.lp,Ul=Vl?Fl.ReadableStream:Ol.ReadableStream,Wl=(Vl?Fl.WritableStream:Ol.WritableStream,Vl?Fl.TransformStream:Ol.TransformStream),jl=(Vl&&Fl.ByteLengthQueuingStrategy?Fl.ByteLengthQueuingStrategy:Ol.ByteLengthQueuingStrategy,Vl&&Fl.CountQueuingStrategy?Fl.CountQueuingStrategy:Ol.CountQueuingStrategy);function Zl(t){return function(t){return new Ul({start:function(n){for(var i=0;i<t.length;i++){var r=t[i];n.enqueue(r)}n.close()}})}([t])}function Xl(t){return Zl(function(t){return new I(t)}(t))}function Gl(t,n){return function(t,n){var i=n,r=t.getReader(),e=new Kc,u=function(){s();var t=new Wo;r.cancel(t).catch(Si),e.Wb(t)},s=function(){i&&(i.Vw(u),i=void 0)};i&&(i.Fw?u():i.Ww(u));var o=[],a=function(t){return t.done?(s(),ut.resolve(o)):(o.push(t.value),ut.resolve(r.read()).then(a))};return ut.resolve(r.read()).then(a).then((function(t){s(),e.Vb(t)}),(function(t){s(),e.Wb(t)})),e.Ub}(t,n).then((function(t){return Wc(t).buffer}))}function Hl(t,n){var i=n,r=new Wl,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i.jw()};return s.closed.then(o,o),t.then((function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(Si)}),(function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(Si)})),e}function zl(t){var n=new Wl,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch((function(n){var i;i=Jn(n)?n[0]===n[1]||jo(n[0])&&jo(n[1])?n[0]:new Ll(n):n,t.cancel(i).catch(Si)})),i.tee()}function Yl(t){return bc(new I(t))}function Kl(t){return kc(t).buffer}U(),St();var ql="content-type",Jl="text/plain;charset=UTF-8",Ql=function(){function t(){}var n=t.prototype;return n.Ik=function(t){return this.Ck(t).then(JSON.parse)},n.Pk=function(t,n){switch(t){case Dl.bk:return this.Dk(n);case Dl.Ak:return this.Ik(n);case Dl.Sk:return this.Nk();case Dl.Tk:return this.Ck(n);default:throw new _}},t}();function $l(t,n,i){if(t instanceof Ql)return t;if(t instanceof Ul)return function(t,n){return new nd({Tw:0,Nk:t,Mk:td(n)})}(t,i);var r=td(i),e=ut.resolve(t).then((function(t){return function(t,n){if(t){if("string"==typeof t)return{Tw:Dl.Tk,Lk:t,Mk:n||Jl};if(t instanceof ArrayBuffer||Lc(t))return{Tw:Dl.bk,Lk:ad(t),Mk:n};if(ti(t)||Jn(t))return{Tw:Dl.Ak,Lk:t,Mk:n};throw new _("Unsupported BodyInit type")}return{Tw:Dl.Tk,Lk:null,Mk:n}}(t,r)}));return new nd({Tw:1,Ub:e,Bk:n})}function td(t){return(t.get(ql)||"").toLowerCase()}var nd=function(t){function n(n){var i;return(i=t.call(this)||this).Fk=!1,i.Gk=new Kc,i.Gk.Ub.catch(Si),i.Xk(n),i}Rt(n,t);var i=n.prototype;return i.Uk=function(){return this.Gk.Ub},i.Ck=function(t){return this.Hk(id,t)},i.Ik=function(t){return this.Hk(ed,t)},i.Dk=function(t){return this.Hk(sd,t)},i.Nk=function(){return this.Zk(function(t){return 0===t.Tw?t.Nk:Hl(t.Ub.then(od).then(Xl),t.Bk)}(this.Wk))},i.Hk=function(t,n){if(this.Fk)return ut.reject(new _("Already used"));this.Fk=!0;var i=t(this.Wk,n);return this.Gk.Qw(i.then(Si)),i},i.Zk=function(t){if(this.Fk)throw new _("Already used");if(t.locked)throw new _("Body stream is locked");this.Fk=!0;var n=new Wl,i=ut.resolve(t.pipeTo(n.writable));return this.Gk.Qw(i),n.readable},i.Xk=function(t){this.Wk=t,1===t.Tw&&t.Ub.catch(Si)},i.zk=function(){if(this.Fk)throw new _("Already used");var t=function(t){if(0===t.Tw){var n=nn(t.Nk.tee(),2),i=n[0],r=n[1];return[{Tw:t.Tw,Nk:i,Mk:t.Mk},{Tw:t.Tw,Nk:r,Mk:t.Mk}]}var e=nn(t.Bk.Jw(),2),u=e[0],s=e[1];return[{Tw:t.Tw,Ub:t.Ub,Bk:u},{Tw:t.Tw,Ub:t.Ub,Bk:s}]}(this.Wk),i=t[0],r=t[1];return this.Xk(i),new n(r)},xt(n,[{key:"Ok",get:function(){return this.Fk}},{key:"Vk",get:function(){return 0===this.Wk.Tw}}]),n}(Ql);function id(t,n){return 0===t.Tw?Gl(t.Nk,n).then(Yl):(n&&t.Bk.Qw(n),zo(t.Ub.then(rd),t.Bk))}function rd(t){switch(t.Tw){case Dl.Tk:return ut.resolve(t.Lk||"");case Dl.bk:return ut.resolve(t.Lk).then(Yl);case Dl.Ak:return ut.resolve(t.Lk).then(JSON.stringify)}}function ed(t,n){return 0===t.Tw?id(t,n).then(JSON.parse):(n&&t.Bk.Qw(n),zo(t.Ub.then(ud),t.Bk))}function ud(t){return t.Tw===Dl.Ak?ut.resolve(t.Lk):rd(t).then(JSON.parse)}function sd(t,n){return 0===t.Tw?Gl(t.Nk,n):(n&&t.Bk.Qw(n),zo(t.Ub.then(od),t.Bk))}function od(t){switch(t.Tw){case Dl.bk:return ut.resolve(t.Lk);case Dl.Tk:case Dl.Ak:return rd(t).then(Kl)}}function ad(t){return t instanceof ArrayBuffer?t:xc(Ic(t)).buffer}var cd=function(t){function n(n){var i;return(i=t.call(this)||this).qk=n,i}Rt(n,t);var i=n.prototype;return i.Uk=function(){return this.qk.Uk()},i.Ck=function(t){return this.qk.Ck(t)},i.Ik=function(t){return this.qk.Ik(t)},i.Dk=function(t){return this.qk.Dk(t)},i.Nk=function(t){return this.qk.Nk(t)},i.zk=function(){return this.qk.zk()},xt(n,[{key:"Ok",get:function(){return this.qk.Ok}},{key:"Vk",get:function(){return this.qk.Vk}}]),n}(Ql);function hd(t){return t.Yk>=200&&t.Yk<=299||304===t.Yk}var fd=function(t){function n(n,i){var r,e,u,s,o,a;i?(e=i.Jk,u=i.jk,s=i.Yk,o=i.$k,a=i.tE):(e=[],u=Dl.Tk,s=200,o="OK",a=!1);var c=n.Qk,h=new Pl(n.Jk||e),f=n.jk||u,v=n.eE||(i&&i.Qk===c?i.eE:c.Xu),l=i?i.qk:null,d=$l(void 0!==n.Kk?n.Kk:l,n.Bk||new Qo,h);return(r=t.call(this,d)||this).Jk=h,r.Qk=c,r.eE=v,r.jk=f,r.Yk=void 0!==n.Yk?n.Yk:s,r.$k=void 0!==n.$k?String(n.$k):o,r.tE=n.tE||a,r}Rt(n,t);var i=n.prototype;return i.Kk=function(t){return this.Pk(this.jk,t)},i.Ib=function(){return new n({Kk:this.zk(),Qk:this.Qk},this)},n}(cd);U(),St();var vd=function(t){return t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT",t}({}),ld=function(t){return t.iE="",t.sE="manifest",t.nE="segment",t.rE="preload-hint",t.oE="content-protection",t}({}),dd=function(t){return t.iE="",t.hE="initialization-segment",t.aE="fairplay-license",t.uE="fairplay-certificate",t.cE="widevine-license",t.lE="widevine-certificate",t.dE="playready-license",t.fE="clearkey-license",t._E="aes128-key",t}({}),gd=function(t){return t.iE="",t.vE="audio",t.mE="video",t.Tk="text",t.gE="image",t}({}),md=function(t){return t.pE="same-origin",t.wE="no-cors",t.yE="cors",t.bE="navigate",t}({}),wd=function(t,n){var i,r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_=t.Xu;n?(i=n.Lk,r=n.Jk,e=n.AE,u=n.jk,s=n.SE,o=n.TE,a=n.Uw,c=n.Tw,h=n.kE,f=n.EE,v=n.xE,l=n.RE,d=n.CE,g=n.PE,m=n.DE):(i=null,r={},e="GET",u=Dl.Tk,s=0,o=0,c="",h="",f="",v=!1,d=void 0,g=!1,m=void 0),this.Xu=_,this.Lk=t.Lk||i,this.Jk=new Pl(t.Jk||r),this.AE=t.AE||e,this.jk=t.jk||u,this.SE=void 0!==t.SE?Number(t.SE)||0:s,this.TE=void 0!==t.TE?Number(t.TE)||0:o,this.Uw=t.Uw||a||(new Qo).Uw,this.Tw=t.Tw||c,this.kE=t.kE||h,this.EE=t.EE||f,this.xE=void 0!==t.xE?Boolean(t.xE):v,this.RE=t.RE||l,this.CE=null!=(w=t.CE)?w:d,this.PE=null!=(p=t.PE)?p:g,this.DE=null!=(y=t.DE)?y:m},pd=function(){function t(){}var n=t.prototype;return n.Qk=function(t){var n=function(t){return new fd({Kk:null,Jk:{},Qk:t,eE:t.Xu,jk:t.jk,Yk:0,$k:va.Zy})}(new wd(t));return ut.resolve(n)},n.NE=function(t){},n.yn=function(){},t}();var yd=function(){function t(t,n){void 0===n&&(n=!0),this.FE=t,this.WE=n}var n=t.prototype;return n.Qk=function(t){var n=this.OE(t);return this.FE.Qk(n)},n.NE=function(t){return this.FE.NE(this.VE(t))},n.OE=function(n){var i=new wd(n);if(!this.WE){var r=t.UE(i.Xu);i=new wd({Xu:r},i)}return i},n.VE=function(n){var i=n.Xu;return this.WE||(i=t.UE(i)),{Xu:i,Lk:n.Lk}},n.yn=function(){this.FE.yn()},t.UE=function(t){return qn.uw&&Xs(t,"http://")?t.replace(":","s:"):t},xt(t,null,[{key:"LE",get:function(){return t.BE||(t.BE=new t(new pd)),t.BE}}]),t}();function _d(t,n){var i=qn.Ih(t);return bd(i,n),i.toString()}function bd(t,n){for(var i=0,r=k.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function kd(t,n){var i=qn.ew(t);return n&&!Gs(i,"/")&&(i+="/"),i}yd.BE=void 0,U(),St(),U(),St(),Gt(),Dt(),Ct(),rn(),Jt(),U(),St();var Ad=/cache:(.+)?(?=&|$)/,Td="http://webcache.googleusercontent.com/search?q=cache:";function Sd(t){if(!Xs(t,Td))return"";var n=qn.Ih(t).search.match(Ad);return n&&n.length>1?n[1]:""}function Ed(t){return qn.Ih(".",t)}U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var Id=function(t){return t.GE="HttpOpenError",t.HE="HttpResponseError",t.ZE="HttpTimeoutError",t}({}),Rd=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).XE=n,e}return Rt(n,t),xt(n,[{key:"Qk",get:function(){return this.XE}}]),n}(Uo);var Cd=function(t){function n(n,i){return t.call(this,n,function(t){return"Error while opening "+t+". Invalid URL."}(n.Xu),i)||this}return Rt(n,t),xt(n,[{key:"name",get:function(){return Id.GE}}]),n}(Rd);U(),St(),Dt(),Ct();var Nd=function(t){function n(n,i,r){var e;return(e=t.call(this,n.Qk,null!=r?r:function(t){return"Error while loading "+t.Qk.Xu+", status code "+t.Yk}(n),i)||this).qE=n,e}return Rt(n,t),xt(n,[{key:"name",get:function(){return Id.HE}},{key:"zE",get:function(){return this.qE}}]),n}(Rd);U(),St(),Dt(),Ct();var xd=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Xu+" timed out after "+t.SE+" seconds."}(n),i)||this}return Rt(n,t),xt(n,[{key:"name",get:function(){return Id.ZE}}]),n}(Rd);U(),St();var Dd=self.fetch,Pd=self.Request,Md=self.Response,Bd=self.Headers,Od=self.ReadableStream,Ld=self.AbortSignal,Fd=self.AbortController,Vd=Ci((function(){try{return si(Dd)&&oi(Pd)&&oi(Md)&&oi(Bd)&&"forEach"in Bd.prototype&&us()}catch(t){return!1}})),Ud=["http:","https:"];var Wd=Ci((function(){try{return Vd()&&oi(Ld)&&oi(Fd)&&"signal"in Pd.prototype}catch(t){return!1}})),jd=Ci((function(){try{return Vd()&&oi(Od)&&"body"in Md.prototype&&!Gn.um}catch(t){return!1}}));function Zd(t){return t instanceof Rd}function Xd(t){return t instanceof Nd}function Gd(t,n){var i,r=t.Jk.has("content-length")?Number(t.Jk.get("content-length")):void 0;return i=t.Vk?function(t,n,i){return t.pipeThrough(new Wl(new Hd(n,i)))}(t.Nk(),n,r):function(t,n,i){return zd.apply(this,arguments)}(t.Dk(),n,r),new fd({Kk:i,Qk:t.Qk},t)}U(),St(),U(),St(),Gt(),Jt();var Hd=function(){function t(t,n){this.KE=t,this.jE=n,this.YE=0}var n=t.prototype;return n.transform=function(t,n){this.YE+=t.byteLength,this.KE(this.YE,this.jE),n.enqueue(t)},n.flush=function(t){var n;this.KE(this.YE,null!=(n=this.jE)?n:this.YE)},t}();function zd(){return zd=Zt((function(t,n,i){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return[4,ut.resolve()];case 1:return u.sent(),n(0,i),[4,t];case 2:return r=u.sent(),e=r.byteLength,n(e,null!=i?i:e),[2,r]}}))})),zd.apply(this,arguments)}var Yd=function(){function t(t){this.GT=new Qo,this.qE=void 0,this.JE=0,this.$E=!1,this.XE=t,this.GT.Qw(t.Uw),this.zE=this.QE()}var n=t.prototype;return n.QE=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:(n=t.XE).SE&&(t.JE=g((function(){t.$E=!0,t.GT.jw()}),n.SE),t.GT.Uw.qw((function(){m(t.JE)})));try{i=Dd(n.Xu,{method:n.AE,headers:n.Jk.Ek(),body:n.Lk,credentials:n.xE?"include":"same-origin",signal:Jd(t.GT.Uw),mode:n.CE,keepalive:n.DE})}catch(t){throw new Cd(n,t)}h.label=1;case 1:return h.trys.push([1,3,,4]),[4,i];case 2:return r=h.sent(),[3,4];case 3:throw e=h.sent(),jo(u=t.tx(e))&&t.GT.jw(),u;case 4:if(s=r.url||n.Xu,o=0===r.status&&"file:"===function(t){return qn.Ih(t).protocol}(s)?200:r.status,a=new Kd(t,r,t.GT),!hd(c=new fd({Kk:a,Qk:n,jk:n.jk,Jk:Qd(r.headers),Yk:o,$k:r.statusText,eE:s})))throw new Nd(c);return n.RE&&(c=Gd(c,n.RE)),[2,c]}}))}))()},n.tx=function(t){return Zd(t)?t:jo(t)?this.$E?new xd(this.XE):new Wo(t.message,t):this.qE?new Nd(this.qE,t):new Cd(this.XE,t)},t}(),Kd=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Gk=new Kc,e.sx=n,e.ix=i,e.GT=r,e.Gk.Ub.catch(Si),e}Rt(n,t);var i=n.prototype;return i.Uk=function(){return this.Gk.Ub},i.Ck=function(t){return this.Hk(this.ix.text(),t)},i.Dk=function(t){return this.Hk(this.ix.arrayBuffer(),t)},i.Nk=function(){var t=this.ix.body;return t?this.Zk(t):Hl(this.Dk().then(Xl),this.GT)},i.zk=function(){var t=this.ix.clone(),i=nn(this.GT.Jw(),2),r=i[0],e=i[1];return this.GT=r,new n(this.sx,t,e)},i.Hk=function(t,n){var i=this;n&&this.GT.Qw(n);var r=Ho(ut.resolve(t),this.GT.Uw).catch((function(t){throw i.sx.tx(t)}));return r=zo(r,this.GT),this.Gk.Qw(r.then(Si)),r},i.Zk=function(t){var n=this;return new Ul(new $d(t,(function(t){return n.sx.tx(t)}),this.GT,this.Gk),{highWaterMark:0})},xt(n,[{key:"Ok",get:function(){return this.ix.bodyUsed}},{key:"Vk",get:function(){return Yn(this.ix.body)}}]),n}(Ql),qd="abort";function Jd(t){if(Wd()){var n=new Fd;if(t.Fw)n.abort();else if(!t.Hw){var i=function(){r(),n.abort()},r=function(){n.signal.removeEventListener(qd,i),t.Vw(i),t.Yw(r)};n.signal.addEventListener(qd,i),t.Ww(i),t.qw(r)}return n.signal}}function Qd(t){if(function(t){return $n(t)&&"function"==typeof t.forEach}(t)){var n=new Pl;return t.forEach((function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)})),n}return new Pl(t)}var $d=function(){function t(t,n,i,r){this.nx=t,this.ox=n,this.GT=i,this.Gk=r}var n=t.prototype;return n.start=function(t){this.Od=this.nx.getReader()},n.pull=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ho(n.Od.read(),n.GT.Uw)];case 1:return i=u.sent(),[3,3];case 2:return r=u.sent(),e=n.ox(r),n.Gk.Wb(e),n.GT.jw(),n.Od.cancel(e).catch(Si),t.error(e),[2];case 3:return i.done?(n.Gk.Vb(),n.GT.jw(),t.close()):t.enqueue(i.value),[2]}}))}))()},n.cancel=function(t){return this.GT.jw(),this.Gk.Wb(t),this.Od.cancel(t)},t}();U(),St(),Dt();var tg=function(){function t(t){var n=this;this.GT=new Qo,this.qE=void 0,this.hx=new Kc,this.bx=!1,this.yx=function(){var t;n.lx(),null==(t=n.ux)||t.abort()},this.XE=t,this.GT.Qw(t.Uw),this.ux=new C,this.QE()}var n=t.prototype;return n.QE=function(){var t=this,n=this.ux,i=this.XE;if(i.Uw.Fw)return this.lx();n.onreadystatechange=function(){return t._x()},n.onprogress=function(n){return t.KE(n)},n.onload=function(){return t.vx()},n.onloadend=function(){return t.mx()},n.onerror=function(){return t.gx()},n.ontimeout=function(){return t.wx()},n.onabort=function(){return t.lx()},n.open(i.AE,i.Xu,!0),n.withCredentials=Boolean(i.xE),"responseType"in n&&i.jk&&(i.jk===Dl.Tk?n.responseType="text":n.responseType="arraybuffer"),i.Jk.forEach((function(t,i){n.setRequestHeader(i,t)})),i.SE&&(n.timeout=i.SE),this.GT.Uw.Ww(this.yx);var r=i.Lk;r?n.send(r):n.send()},n._x=function(){var t=this.ux;void 0!==t&&t.readyState>=2&&!this.bx&&(this.bx=!0,this.Ax())},n.Ax=function(){var t,n,i=this.ux,r=function(t){var n=new Pl,i=t.replace(/\r?\n[\t ]+/g," ");return i.split(/\r?\n/).forEach((function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}})),n}(i.getAllResponseHeaders()||""),e=this.XE;this.Sx=new Kc,this.qE=new fd({Qk:e,jk:e.jk,Kk:this.Sx.Ub,Yk:i.status,$k:i.statusText,Jk:r,eE:null!=(n=i.responseURL)?n:r.get("X-Request-URL")}),null==(t=this.hx)||t.Vb(this.qE)},n.vx=function(){var t,n=this.ux;if(void 0!==n){var i=n.response;if(!Yn(i)){var r=this.XE.jk;i=r===Dl.Tk?n.responseText:r===Dl.bk?new ArrayBuffer(0):{}}null==(t=this.Sx)||t.Vb(i)}},n.mx=function(){this.yn()},n.KE=function(t){void 0!==this.ux&&(null==this.XE.RE||this.XE.RE.call(this.XE,t.loaded,t.lengthComputable?t.total:void 0))},n.gx=function(){var t=new y("Network request failed");this.qE?this.Ss(new Nd(this.qE,t)):this.Ss(new Cd(this.XE,t))},n.wx=function(){this.Ss(new xd(this.XE))},n.lx=function(){this.Ss(new Wo),this.yn()},n.Ss=function(t){var n,i;null==(n=null!=(i=this.Sx)?i:this.hx)||n.Wb(t)},n.yn=function(){this.ux=void 0,this.qE=void 0,this.hx=void 0,this.Sx=void 0,this.GT.Xw()},xt(t,[{key:"zE",get:function(){return this.hx.Ub}}]),t}();function ng(t,n,i){return new ut((function(r,e){if(i&&i.Fw)return e(new Wo);var u=function(t){o(),r(t)},s=function(){o(),e(new Wo)},o=function(){t.removeEventListener(n,u),i&&i.Vw(s)};t.addEventListener(n,u),i&&i.Ww(s)}))}U(),St();var ig=function(){function t(){}var n=t.prototype;return n.Qk=function(t){return function(t){if(!Vd()||!function(t){try{return Ud.indexOf(new self.URL(t,self.location.href).protocol)>=0}catch(t){return!1}}(t.Xu))return!1;if(!jd()&&t.RE)return!1;if(!t.PE&&t.AE!==vd.POST){if(Gn.Mm&&Gn.ym<=68)return!1;if(Gn.Cm)return!1}return!0}(t)?new Yd(t).zE:new tg(t).zE},n.NE=function(t){var n=f.navigator;if(n&&n.sendBeacon)n.sendBeacon(t.Xu,Cl([t.Lk],{type:t.Mk}));else{var i=t.Mk?{"Content-type":t.Mk}:void 0;this.Qk(new wd({AE:vd.POST,Xu:t.Xu,Lk:t.Lk,Jk:i,CE:md.wE})).then((function(t){na(t.Dk())}),Si)}},n.yn=function(){},t}();U(),St(),Dt(),Ct(),U(),St();var rg=function(t){return t[t.Tx=1]="Tx",t[t.kx=2]="kx",t[t.Tk=3]="Tk",t[t.Ex=4]="Ex",t[t.xx=9]="xx",t}({});function eg(t){return 1===t.Rx}function ug(t){return 3===t.Rx}U(),St(),Ct();var sg=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return Rt(n,t),n}(Uo),og=function(){function t(){}return t.prototype.Ix=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new sg(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new sg;return new dg(n)},t}(),ag=function(){function t(t){this.Px=t}var n=t.prototype;return n.Lx=function(t){return this.Px.isEqualNode(t.Px)},n.Bx=function(n){return new t(this.Px.cloneNode(n))},xt(t,[{key:"Rx",get:function(){return rg.kx}},{key:"Cx",get:function(){var t;return null!=(t=this.Px.localName)?t:wg(this.Px.nodeName)}},{key:"l",get:function(){return this.Px.nodeName}},{key:"Dx",get:function(){var t;return null!=(t=this.Px.namespaceURI)?t:void 0}},{key:"Nx",get:function(){var t;return null!=(t=this.Px.prefix)?t:void 0}},{key:"Mx",get:function(){return this.Px.nodeValue}}]),t}(),cg=function(){function t(t){this.Fx=void 0,this.Vx=t}var n=t.prototype;return n.Wx=function(t){return this.Ox.filter((function(n){return gg(n)&&n.Ux===t}))},n.Gx=function(t,n){return this.Ox.filter((function(i){return gg(i)&&i.Cx===n&&i.Dx===t}))},n.Zx=function(t){this.Vx.appendChild(t.Hx),this.Fx&&this.Fx.push(t)},n.Lx=function(t){return this.Vx.isEqualNode(t.Hx)},xt(t,[{key:"Ox",get:function(){return void 0===this.Fx&&(this.Fx=function(t){for(var n=[],i=0;i<t.length;i++){var r=mg(t.item(i));r&&n.push(r)}return n}(this.Vx.childNodes)),this.Fx}},{key:"m",get:function(){return this.Ox.filter(gg)}},{key:"Hx",get:function(){return this.Vx}}]),t}(),hg=function(t){function n(n){return t.call(this,n)||this}Rt(n,t);var i=n.prototype;return i.qx=function(t){if(this.Vx.hasAttribute(t))return this.Vx.getAttribute(t)},i.Yx=function(t,n){if(this.Vx.hasAttributeNS(t,n))return this.Vx.getAttributeNS(t,n)},i.Kx=function(t){this.Vx.removeAttribute(t)},i.jx=function(t,n){this.Vx.removeAttributeNS(t,n)},i.Qx=function(t,n){this.Vx.setAttribute(t,n)},i.Jx=function(t,n,i){this.Vx.setAttributeNS(t,n,i)},i.Bx=function(t){return new n(this.Vx.cloneNode(t))},xt(n,[{key:"Rx",get:function(){return rg.Tx}},{key:"Cx",get:function(){var t;return null!=(t=this.Vx.localName)?t:wg(this.Vx.nodeName)}},{key:"Dx",get:function(){var t;return null!=(t=this.Vx.namespaceURI)?t:void 0}},{key:"Nx",get:function(){var t;return null!=(t=this.Vx.prefix)?t:void 0}},{key:"Ux",get:function(){return this.Vx.nodeName}},{key:"Xx",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new ag(t.item(i)));return n}(this.Vx.attributes)}},{key:"zx",get:function(){return this.Vx.textContent}}]),n}(cg),fg=function(){function t(t){this.Vx=t}return t.prototype.Lx=function(t){return this.Kk===t.Kk},xt(t,[{key:"Kk",get:function(){return this.Vx.nodeValue}},{key:"Hx",get:function(){return this.Vx}}]),t}(),vg=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),n.prototype.Bx=function(t){return new n(this.Vx.cloneNode(t))},xt(n,[{key:"Rx",get:function(){return rg.Tk}}]),n}(fg),lg=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),n.prototype.Bx=function(t){return new n(this.Vx.cloneNode(t))},xt(n,[{key:"Rx",get:function(){return rg.Ex}}]),n}(fg),dg=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),n.prototype.Bx=function(t){return new n(this.Vx.cloneNode(t))},xt(n,[{key:"Rx",get:function(){return rg.xx}},{key:"$x",get:function(){return new hg(this.Vx.documentElement)}}]),n}(cg);function gg(t){return eg(t)}function mg(t){switch(t.nodeType){case rg.Tx:return new hg(t);case rg.Tk:return new vg(t);case rg.Ex:return new lg(t)}}function wg(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var pg=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).tR=void 0,n.iR=jd(),n.nR=Gn.wg||Gn.um,n.oR=(Gn.wg||Gn.Mm&&Gn.ym<=68||Gn.um)&&!(Gn.Cm&&Gn.Dm<3),n._R=void 0,n.vR=new og,n}return Rt(n,t),n.prototype.Ix=function(t){return this.vR.Ix(t)},xt(n,[{key:"Xp",get:function(){return this.tR||(this.tR=new eo(Sl())),this.tR}},{key:"eR",get:function(){return this.iR}},{key:"sR",get:function(){return this.nR}},{key:"rR",get:function(){return this.oR}},{key:"hR",get:function(){return!1}},{key:"aR",get:function(){return Il.yk()}},{key:"uR",get:function(){return{cR:Nl}}},{key:"lR",get:function(){return d.connection&&d.connection.effectiveType||xl}},{key:"dR",get:function(){return d.connection&&d.connection.type||"unknown"}},{key:"fR",get:function(){return this._R||(this._R=new yd(new ig)),this._R}}]),n}(rs);!function(t){qn=t}(new pg),U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Ct();var yg=function(t){function n(n,i){var r;return(r=t.call(this,va.hb)||this).currentTime=n,r.currentProgramDateTime=i,r}return Rt(n,t),n}(fa);U(),St(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Ct(),U(),St(),Ct(),U(),St(),Dt(),Ct();var _g=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).eu=void 0,r}return Rt(n,t),xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(fa);function bg(t){return Boolean(t&&t.wa)}var kg=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),n}(_g),Ag=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),n}(fa);U(),St();var Tg=function(t){return t.VI="WI",t.UI="GI",t}({}),Sg=function(t){function n(n){var i;return(i=t.call(this,Tg.VI)||this).Ht=n,i}return Rt(n,t),n.prototype.ka=function(){return new Eg(this.Ht.wa)},n}(kg),Eg=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return Rt(n,t),n}(Ag);U(),St(),Ct();var Ig=function(t){function n(n){var i;return(i=t.call(this,Tg.UI)||this).Ht=n,i}return Rt(n,t),n.prototype.ka=function(){return new Rg(this.Ht.wa)},n}(kg),Rg=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return Rt(n,t),n}(Ag);U(),St();var Cg=function(t){return t.HI="ZI",t.XI="zI",t.qI="YI",t.KI="jI",t.QI="JI",t.$I="tC",t.da="eC",t.iC="sC",t.nC="rC",t.oC="ir",t.hC="aC",t.uC="cC",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality",t}({}),Ng=function(t){function n(){var n;return(n=t.call(this)||this).dC=[],n.eu=void 0,n}Rt(n,t);var i=n.prototype;return i.fC=function(t){return this.dC[t]},i.tt=function(t){return!(!t||To(this.dC,t))&&(this.dC.push(t),this.eu&&this.eu.push(t.wa),t.bn(Cg.da,this.Ds),this._o(new Sg(t)),!0)},i.it=function(t){if(!t)return!1;var n=this.dC.indexOf(t);return!(n<0)&&(ko(this.dC,n),this.eu&&ko(this.eu,n),t.vn(Cg.da,this.Ds),this._o(new Ig(t)),!0)},i._C=function(t){return To(this.dC,t)},i.nr=function(){for(var t=this.dC,n=t.length-1;n>=0;n-=1)this.it(t[n])},i.yn=function(){this.nr(),this.Ro()},xt(n,[{key:"lC",get:function(){return this.dC}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}},{key:"V",get:function(){return this.dC.length}}]),n}(aa);U(),St(),U(),St(),U(),St();var xg=k.freeze||Ei;function Dg(t,n,i){k.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Pg(t){return xg(t)}function Mg(t,n){for(var i=0,r=k.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];k.defineProperty(t,e,k.getOwnPropertyDescriptor(n,e))}return t}function Bg(t){if(ti(t)){var n={};for(var i in t)Hn.call(t,i)&&(n[i]=Bg(t[i]));return n}if(Jn(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Bg(t[e]));return r}return t}function Og(t,n){return t===n||!(!t||!n)&&(!(!$n(t)||!$n(n))&&(Qn(t)?!!Qn(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Og(t[e],n[e]))return!1;return!0}(t,n):!Qn(n)&&function(t,n){var i=k.keys(t),r=k.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!Hn.call(n,u)||!Og(t[u],n[u]))return!1}return!0}(t,n)))}function Lg(t,n){if(!$n(t))return!1;for(var i=0;i<n.length;i++){if(!(n[i]in t))return!1}return!0}function Fg(t,n){return t.constructor===n.constructor}function Vg(t){for(var n={},i=0,r=k.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function Ug(t){for(var n={},i=0,r=k.keys(t);i<r.length;i++){var e=r[i],u=t[e];if(Qn(u)){for(var s=[],o=0;o<u.length;o+=1){var a=u[o];if(null!=a){var c=$n(a)?Ug(a):a;s.push(c)}}n[e]=s}else null!=u&&(n[e]=$n(u)?Ug(u):u)}return n}function Wg(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function jg(t){return Yn(t)?Wg(t):void 0}function Zg(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Xg(t){var n=Zg(t);if(E(n))throw new y("Expected a valid number.");return n}function Gg(t){return"string"==typeof t?t:""}function Hg(t,n){if(!Qn(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}function zg(t,n){return Qn(t)?Hg(t,n):n(t)}U(),St();var Yg=[Tg.VI,Tg.UI,Cg.da];function Kg(t){var n,i=t.lC.map((function(t){return t.wa}));return i.item=function(n){var i=0|n,r=t.fC(i);return r&&r.wa||void 0},i.addEventListener=function(t,i){n.bn(t,i)},i.removeEventListener=function(t,i){n.vn(t,i)},n=new ca(i),t.bn(Yg,(function(t){return n._o(t.wa)})),i}U(),St();var qg=function(t){return t[t.AC=0]="AC",t[t.SC=1]="SC",t[t.TC=2]="TC",t[t.kC=3]="kC",t[t.EC=4]="EC",t[t.TRANSCRIBES_SPOKEN_DIALOG=5]="TRANSCRIBES_SPOKEN_DIALOG",t[t.DESCRIBES_MUSIC_AND_SOUND=6]="DESCRIBES_MUSIC_AND_SOUND",t[t.xC=7]="xC",t}({});function Jg(t){switch(t){case 0:return"caption";case 2:return"sign";case 1:return"description";case 3:return"enhanced audio intelligibility";case 4:return"easy reader";case 5:return"transcribes spoken dialog";case 6:return"describes music and sound";case 7:return"describes video"}}function Qg(){}function $g(t){var n,i=[Cg.oC,Cg.da,Cg.hC,Cg.uC,Cg.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.RC&&t.RC.wa},get enabled(){return t.Rt},set enabled(n){t.Rt=Wg(n)},get id(){return t.o},get uid(){return t.IC},get kind(){return t.Lt},get label(){return t.Ch},set label(n){t.Ch=Gg(n)},get accessibility(){var n,i;return null!=(i=null==(n=t.DC)?void 0:n.map(Jg))?i:[]},get language(){return t.gs},get qualities(){return t.NC.wa},set targetQuality(n){var i;i=n?function(t,n){for(var i=[],r=0,e=t.NC.lC;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.wa===o&&i.push(u)}return i}(t,Jn(n)?n:[n]):[],i.length>0?t.MC=i:t.MC=void 0},get targetQuality(){if(t.MC)return 1===t.MC.length?t.MC[0].wa:t.MC.map((function(t){return t.wa}))},addEventListener:function(t,i){var r=zg(t,Gg);n.bn(r,i)},removeEventListener:function(t,i){var r=zg(t,Gg);n.vn(r,i)}};return n=new ca(r),t.bn(i,(function(t){return n._o(t.wa)})),k.defineProperty(r,"constructor",{value:Qg}),r}function tm(){}function nm(t){var n=Kg(t);return k.defineProperty(n,"constructor",{value:tm}),n}var im=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.ka=function(){return nm(this)},n}(Ng);U(),St(),U(),St();var rm=function(t){return t.vE="audio",t.mE="video",t.Tk="text",t.gE="image",t.iE="unknown",t}({});function em(t){return"audio"===t||"video"===t}U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var um=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r)||this).url=e,c.status=u,c.statusText=s,c.response=o,c.systemCode=a,c}return Rt(n,t),xt(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(ol);var sm=function(t){return t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR",t}({}),om=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,y.captureStackTrace&&y.captureStackTrace(u,u.constructor),u}return Rt(n,t),xt(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Vo);function am(t){Dg(t,"MEDIA_ERR_ABORTED",1),Dg(t,"MEDIA_ERR_NETWORK",2),Dg(t,"MEDIA_ERR_DECODE",3),Dg(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),Dg(t,"MEDIA_ERR_ENCRYPTED",5)}function cm(t){var n,i;return function(t){return t.category===sl.CONTENT_PROTECTION}(t)?new om(5,t.message,null==(n=t.cause)?void 0:n.message,t.systemCode):new om(hm(t.code),t.message,null==(i=t.cause)?void 0:i.message)}function hm(t){if(t===ul.MEDIA_ABORTED)return 1;if(t===ul.MANIFEST_LOAD_ERROR||t===ul.MEDIA_LOAD_ERROR||t===ul.SUBTITLE_LOAD_ERROR)return 2;if(t===ul.MEDIA_DECODE_ERROR)return 3;if(t===ul.MEDIA_NOT_SUPPORTED)return 4;var n=sl.fromCode(t);return n===sl.NETWORK?2:n===sl.SOURCE?4:n===sl.LICENSE?6:n===sl.CONTENT_PROTECTION?5:n===sl.AD?7:3}function fm(t){return new ol(vm(t.code),t.message,t)}function vm(t){switch(t){case 1:return ul.MEDIA_ABORTED;case 2:return ul.NETWORK_ERROR;case 3:return ul.MEDIA_DECODE_ERROR;case 4:return ul.SOURCE_NOT_SUPPORTED;case 5:return ul.CONTENT_PROTECTION_ERROR;case 6:return ul.LICENSE_ERROR;case 7:return ul.AD_ERROR}}am(om),am(om.prototype),U(),St(),Dt(),Ct(),U(),St(),Ct();var lm=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n}(ha);U(),St(),Dt(),U(),St();var dm=function(){function t(){this.TO=[],this.eu=void 0}var n=t.prototype;return n.kO=function(t){this.TO.push(t),this.eu&&this.eu.push(t.wa)},n.eT=function(t){bo(this.TO,t),this.eu&&bo(this.eu,t.wa)},n.fC=function(t){return this.TO[t]},n.EO=function(t){return Jn(t)?function(t,n){for(var i=0;i<n.length;i++)if(!To(t,n[i]))return!1;return!0}(this.TO,t):To(this.TO,t)},n.nr=function(){Eo(this.TO),this.eu&&Eo(this.eu)},xt(t,[{key:"lC",get:function(){return this.TO}},{key:"V",get:function(){return this.TO.length}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n=t.lC.map((function(t){return t.wa}));return n.item=function(n){var i=0|n,r=t.fC(i);return r&&r.wa||void 0},n}(this)),this.eu}}]),t}();U(),St(),Ct();var gm=function(t){function n(n){var i;return(i=t.call(this,Cg.da)||this).Ht=n,i}return Rt(n,t),n.prototype.ka=function(){return new mm(this.Ht.wa)},n}(kg),mm=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return Rt(n,t),n}(Ag);U(),St(),Ct();var wm=function(t){function n(n){var i;return(i=t.call(this,Cg.oC)||this).Ht=n,i}return Rt(n,t),n.prototype.ka=function(){return new pm(this.Ht.wa)},n}(kg),pm=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return Rt(n,t),n}(Ag);U(),St();var ym=0;function _m(){return ym++}var bm=0;var km=0;function Am(){return km++}var Tm=0;function Sm(){return Tm++}var Em=0;var Im=function(t){function n(n){var i;return(i=t.call(this)||this).Tw=rm.vE,i.qe=!1,i.eu=void 0,i.RO=n,i.IO=_m(),i.zS=Em+++"",i.CO=n.label,i.TO=new dm,i.MO(),i}Rt(n,t);var i=n.prototype;return i.DO=function(t){this.Rt=t},i.MO=function(){this.Rt=this.xO},xt(n,[{key:"RC",get:function(){}},{key:"Rt",get:function(){return this.qe},set:function(t){this.qe!==t&&(this.qe=t,this.xO=t,this._o(new gm(this)))}},{key:"xO",get:function(){return this.RO.enabled},set:function(t){this.RO.enabled=t}},{key:"wa",get:function(){return this.eu||(this.eu=$g(this)),this.eu}},{key:"o",get:function(){return this.zS}},{key:"IC",get:function(){return this.IO}},{key:"Lt",get:function(){return this.RO.kind}},{key:"Ch",get:function(){return this.CO},set:function(t){t!==this.CO&&(this.CO=t,this._o(new wm(this)))}},{key:"gs",get:function(){return this.RO.language}},{key:"CE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"PO",get:function(){return this.RO}},{key:"NC",get:function(){return this.TO}},{key:"MC",get:function(){},set:function(t){}}]),n}(aa);U(),St(),Dt(),Ct();var Rm=0;var Cm=function(t){function n(n){var i;return(i=t.call(this)||this).Tw=rm.mE,i.qe=!1,i.eu=void 0,i.RO=n,i.IO=_m(),i.zS=Rm+++"",i.TO=new dm,i.CO=n.label,i.MO(),i}Rt(n,t);var i=n.prototype;return i.MO=function(){this.Rt=this.xO},i.DO=function(t){this.Rt=t},xt(n,[{key:"RC",get:function(){}},{key:"Rt",get:function(){return this.qe},set:function(t){this.qe!==t&&(this.qe=t,this.xO=t,this._o(new gm(this)))}},{key:"xO",get:function(){return!!this.RO.selected},set:function(t){this.RO.selected=t}},{key:"wa",get:function(){return this.eu||(this.eu=$g(this)),this.eu}},{key:"o",get:function(){return this.zS}},{key:"IC",get:function(){return this.IO}},{key:"Lt",get:function(){return"main"}},{key:"Ch",get:function(){return this.CO},set:function(t){t!==this.CO&&(this.CO=t,this._o(new wm(this)))}},{key:"gs",get:function(){return this.RO.language}},{key:"CE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"PO",get:function(){return this.RO}},{key:"NC",get:function(){return this.TO}},{key:"MC",get:function(){},set:function(t){}}]),n}(aa);U(),St(),Ct();var Nm=function(t){function n(n){var i;return(i=t.call(this,va.wy)||this).WR=n,i}return Rt(n,t),n}(fa);U(),St(),Gt(),Ct(),Jt(),U(),St();var xm=function(t){return t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR",t}({});U(),St();var Dm=function(t){return t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange",t.MILLICAST="millicast",t}({});function Pm(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":case"millicast":return!0;default:return!1}}U(),St(),U(),St();var Mm=function(t){return t.LO="cue",t.BO="region",t.OO="stylesheet",t}({});U(),St(),Dt(),Ct(),U(),St();var Bm={"line-left":"start",center:"middle","line-right":"end"},Om={start:"line-left",middle:"center",end:"line-right"};function Lm(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Fm(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return function(t,n){var i="number"==typeof t?t:S(t);return E(i)?n:i}(t,50)}U(),St(),U(),St(),U(),St(),Ct();var Vm=function(t){return t.rO="vo",t.oO="xo",t.oC="ir",t}({}),Um=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).FO=i,r}return Rt(n,t),n}(kg),Wm=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return Rt(n,t),n}(Ag);function jm(t){var n,i=[Vm.rO,Vm.oO,Vm.oC],r={get VO(){return t},get track(){return t.Ht.wa},get id(){return t.o},get uid(){return t.IC},get startTime(){return t.WO},set startTime(n){t.WO=n},get endTime(){return t.UO},set endTime(n){t.UO=n},get content(){return t.U},addEventListener:function(t,i){var r=zg(t,Gg);n.bn(r,i)},removeEventListener:function(t,i){var r=zg(t,Gg);n.vn(r,i)}};return n=new ca(r),t.bn(i,(function(t){return n._o(t.wa)})),r}function Zm(){}function Xm(t){return Mg(jm(t),{get align(){return t.GO},get line(){return t.HO},get lineAlign(){return t.ZO},get position(){return t.fo},get positionAlign(){return t.XO},get region(){return t.zO?t.zO.wa:null},get size(){return t.Nb},get snapToLines(){return t.qO},get text(){return t.U},get vertical(){return t.Pt}})}U(),St(),Dt(),Ct(),U(),St(),Ct();var Gm=function(t){function n(n){return t.call(this,Vm.oC,n)||this}return Rt(n,t),n.prototype.ka=function(){return new Hm(this.FO.wa)},n}(Um),Hm=function(t){function n(n){return t.call(this,"update",n)||this}return Rt(n,t),n}(Wm);U(),St(),Ct();var zm=function(t){function n(n){var i;return(i=t.call(this,Cg.qI)||this).FO=n,i}return Rt(n,t),n.prototype.ka=function(){return new Ym(this.FO.wa)},n}(kg),Ym=function(t){function n(n){var i;return(i=t.call(this,"updatecue")||this).cue=n,i}return Rt(n,t),n}(Ag),Km=.02;function qm(t,n){return fr(t.YO,n.YO,Km)&&fr(t.KO,n.KO,Km)&&t.o===n.o}var Jm=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).eu=void 0,s.QO=void 0,s.eo=!1,s.oF=-1,s.IO=Sm(),s.jO=n,s.$O=i,s.YO=n,s.KO=i,s.tF=r,s.iF=Boolean(e),s.zS=null!=u?u:"",s}Rt(n,t);var i=n.prototype;return i.ka=function(){return jm(this)},i.sF=function(t){return this===t||Fg(this,t)&&qm(this,t)&&this.nF(t)},i.nF=function(t){return Og(this.U,t.U)},i.rF=function(t,n){this.jO=t,this.$O=n,this.YO=t,this.KO=n},i.yn=function(){this.Ro()},xt(n,[{key:"WO",get:function(){return this.jO},set:function(t){var n,i;this.jO!==t&&(this.jO=t,null==(n=this.QO)||n.JO(this),this._o(new Gm(this)),null==(i=this.QO)||i._o(new zm(this)))}},{key:"UO",get:function(){return this.$O},set:function(t){var n,i;this.$O!==t&&(this.$O=t,null==(n=this.QO)||n.JO(this),this._o(new Gm(this)),null==(i=this.QO)||i._o(new zm(this)))}},{key:"o",get:function(){return this.zS}},{key:"IC",get:function(){return this.IO}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}},{key:"so",get:function(){return this.eo},set:function(t){this.eo=t}},{key:"Ht",get:function(){return this.QO},set:function(t){this.QO=t}},{key:"U",get:function(){return this.tF},set:function(t){var n;this.tF!==t&&(this.tF=t,this._o(new Gm(this)),null==(n=this.QO)||n._o(new zm(this)))}},{key:"eF",get:function(){return this.iF},set:function(t){this.iF=t}}]),n}(aa);function Qm(t,n){return t.U===n.U&&t.HO===n.HO&&t.ZO===n.ZO&&t.fo===n.fo&&t.XO===n.XO&&t.zO===n.zO&&t.qO===n.qO&&t.Nb===n.Nb&&t.GO===n.GO&&t.Pt===n.Pt}var $m=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,u)||this).HO="auto",s.ZO="start",s.fo="auto",s.XO="auto",s.zO=void 0,s.qO=!0,s.Nb=100,s.GO="center",s.Pt="",s}return Rt(n,t),n.prototype.nF=function(t){return Qm(this,t)},xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=Xm(this)),this.eu}},{key:"Tw",get:function(){return Mm.LO}}]),n}(Jm);function tw(t){var n=t.HO,i=ui(n);return i&&!t.qO&&(n<0||n>100)?100:i?Number(n):t.qO?-1:100}function nw(t){return Fm(t.fo,t.GO)}function iw(t){return Lm(t.XO,t.GO)}function rw(t){var n,i=iw(t),r=nw(t);switch(i){case"line-left":n=100-r;break;case"line-right":n=r;break;case"center":n=r<=50?2*r:2*(100-r)}return A.min(t.Nb,n)}function ew(t){return{get id(){return t.o},get identifier(){return t.o},get lines(){return t.hF},get regionAnchorX(){return t.aF},get regionAnchorY(){return t.uF},get scrollValue(){return t.cF},get viewportAnchorX(){return t.lF},get viewportAnchorY(){return t.dF},get width(){return t.ji}}}U(),St(),Dt(),U(),St();var uw=function(){function t(t,n,i,r,e,u,s,o){this.o=t,this.ji=n,this.hF=i,this.aF=r,this.uF=e,this.lF=u,this.dF=s,this.cF=o}return xt(t,[{key:"wa",get:function(){return this.eu||(this.eu=ew(this)),this.eu}},{key:"Tw",get:function(){return Mm.BO}}]),t}();U(),St(),U(),St();var sw=1e6,ow=function(){function t(){}var n=t.prototype;return n.fF=function(t){return this._F()*t},n.vF=function(t){return this.mF(t)>0},n.gF=function(t){return this.mF(t)>=0},n.pF=function(t,n){return this.yF(t).wF(n)},n.sF=function(t){return 0===this.mF(t)},n.bF=function(t){return this.mF(t)<0},n.wF=function(t){return this.mF(t)<=0},n.AF=function(){return this.SF()?this.TF():this},n.kF=function(t){return this.kO(t.TF())},n.yF=function(t){return this.kF(t).AF()},t}();function aw(t,n){return t.EF()?n.EF()?co.eh:co.Bw:n.EF()?co.Ow:t.xF()?n.xF()&&t.SF()===n.SF()?co.eh:t.SF()?co.Ow:co.Bw:n.SF()?co.Bw:co.Ow}U(),St(),Ct(),rn(),U(),St(),rn();var cw=4294967296,hw=cw*cw,fw=hw*hw,vw=fw/2,lw=function(){function t(t,n){this.VF=t,this.OF=n}var n=t.prototype;return n.BF=function(){return this.OF.unsigned},n.FF=function(){return this.VF.isZero()&&this.OF.isZero()},n.SF=function(){return this.OF.isNegative()},n.WF=function(){return this.BF()?t.RF(this.VF,this.OF,!1):this},n.UF=function(){return this.BF()?this:t.RF(this.VF,this.OF,!0)},n.GF=function(){return this.VF},n._F=function(){return this.SF()?-this.TF()._F():this.OF.toNumber()*hw+this.VF.toUnsigned().toNumber()},n.HF=function(){return this.VF.toInt()},n.sF=function(t){return(this.BF()===t.BF()||this.OF.getHighBits()>>>31!=1||t.OF.getHighBits()>>>31!=1)&&(this.OF.toUnsigned().eq(t.OF.toUnsigned())&&this.VF.toUnsigned().eq(t.VF.toUnsigned()))},n.mF=function(t){if(this.sF(t))return co.eh;var n=this.SF(),i=t.SF();if(n&&!i)return co.Ow;if(!n&&i)return co.Bw;if(!this.BF())return this.kF(t).SF()?co.Ow:co.Bw;var r=this.UF(),e=t.UF(),u=e.OF.comp(r.OF);return u>0||0===u&&e.VF.gt(r.VF)?co.Ow:co.Bw},n.bF=function(t){return this.mF(t)<0},n.wF=function(t){return this.mF(t)<=0},n.ZF=function(t){return this.mF(t)>0},n.XF=function(t){return this.mF(t)>=0},n.zF=function(){return new t(this.VF.not(),this.OF.not())},n.qF=function(n){return new t(this.VF.and(n.VF),this.OF.and(n.OF))},n.YF=function(n){return new t(this.VF.or(n.VF),this.OF.or(n.OF))},n.KF=function(n){var i=127&n;return 0===i?this:i<64?t.RF(this.VF.shl(i),this.OF.shl(i).or(this.VF.shru(64-i)),this.BF()):t.RF(sr.ZERO,this.VF.shl(i-64),this.BF())},n.jF=function(n){var i=127&n;return 0===i?this:i<64?t.RF(this.VF.shru(i).or(this.OF.shl(64-i)),this.OF.shr(i),this.BF()):t.RF(this.OF.shr(i-64),this.OF.isNegative()?sr.NEG_ONE:sr.ZERO,this.BF())},n.QF=function(n){var i=127&n;return 0===i?this:i<64?t.RF(this.VF.shru(i).or(this.OF.shl(64-i)),this.OF.shru(i),this.BF()):64===i?t.RF(this.OF,sr.ZERO,this.BF()):t.RF(this.OF.shru(i-64),sr.ZERO,this.BF())},n.kO=function(n){var i=this.OF.high>>>16,r=65535&this.OF.high,e=this.OF.low>>>16,u=65535&this.OF.low,s=this.VF.high>>>16,o=65535&this.VF.high,a=this.VF.low>>>16,c=65535&this.VF.low,h=n.OF.high>>>16,f=65535&n.OF.high,v=n.OF.low>>>16,l=65535&n.OF.low,d=n.VF.high>>>16,g=65535&n.VF.high,m=n.VF.low>>>16,w=0,p=0,y=0,_=0,b=0,k=0,A=0,T=0;A+=(T+=c+(65535&n.VF.low))>>>16,T&=65535,k+=(A+=a+m)>>>16,A&=65535,b+=(k+=o+g)>>>16,k&=65535,_+=(b+=s+d)>>>16,b&=65535,y+=(_+=u+l)>>>16,_&=65535,p+=(y+=e+v)>>>16,y&=65535,w+=(p+=r+f)>>>16,p&=65535,w+=i+h,w&=65535;var S=this.BF(),E=sr.fromBits(y<<16|_,w<<16|p,S),I=sr.fromBits(A<<16|T,b<<16|k,S);return t.RF(I,E,S)},n.kF=function(t){return this.kO(t.TF())},n.TF=function(){return this.zF().kO(t.JF)},n.tV=function(n){if(this.FF()||n.FF())return this.BF()?t.PF:t.DF;if(this.SF())return n.SF()?this.TF().tV(n.TF()):this.TF().tV(n).TF();if(n.SF())return this.tV(n.TF()).TF();if(this.OF.isZero()&&0===this.VF.high&&n.OF.isZero()&&0===n.VF.high)return t.IF(this.VF.multiply(n.VF));var i=sr.fromBits(4294967295,0,!0),r=this.VF.and(i),e=this.VF.shru(32),u=this.OF.and(i),s=this.OF.shru(32),o=n.VF.and(i),a=n.VF.shru(32),c=n.OF.and(i),h=n.OF.shru(32),f=sr.UZERO,v=sr.UZERO,l=sr.UZERO,d=sr.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),l=l.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),l=l.add(v.shru(32)),v=v.and(i),l=l.add(u.mul(o)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(e.mul(a)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(r.mul(c)),d=d.add(l.shru(32)),l=l.and(i),d=d.add(s.mul(o)).add(u.mul(a)).add(e.mul(c)).add(r.mul(h)).and(i);var g=sr.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),m=sr.fromBits(l.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0);return t.RF(g,m,this.BF())},n.eV=function(n){var i,r,e=n;if(e.FF())throw new RangeError("division by zero");if(this.FF())return this.BF()?[t.PF,t.PF]:[t.DF,t.DF];if(this.BF()){if(e.BF()||(e=e.UF()),e.ZF(this))return[t.PF,this];if(e.ZF(this.QF(1)))return[r=t.iV,i=this.kF(e)];r=t.PF}else{if(this.sF(t.MF)){if(e.sF(t.JF)||e.sF(t.sV))return[t.MF,t.DF];if(e.sF(t.MF))return[t.JF,t.DF];var u=this.jF(1).nV(e).KF(1);return u.sF(t.DF)?r=e.SF()?t.JF:t.sV:(i=this.kF(e.tV(u)),r=u.kO(i.nV(e))),[r,i=this.kF(e.tV(r))]}if(e.sF(t.MF))return this.BF()?[t.PF,this]:[t.DF,this];var s,o;if(this.SF())return e.SF()?this.TF().eV(e.TF()):(r=(s=nn(this.TF().eV(e),2))[0],i=s[1],[r.TF(),i.TF()]);if(e.SF())return r=(o=nn(this.eV(e.TF()),2))[0],i=o[1],[r.TF(),i.TF()];r=t.DF}for(i=this;i.XF(e);){for(var a=A.max(1,A.floor(i._F()/e._F())),c=A.ceil(A.log(a)/A.LN2),h=c<=48?1:A.pow(2,c-48),f=t.CF(a),v=f.tV(e);v.SF()||v.ZF(i);)a-=h,v=(f=t.CF(a,this.BF())).tV(e);f.FF()&&(f=t.JF),r=r.kO(f),i=i.kF(v)}return[r,i]},n.nV=function(t){return this.eV(t)[0]},n.rV=function(t){return this.eV(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.FF())return"0";if(this.SF()){if(this.sF(t.MF)){var r=t.CF(i),e=this.nV(r),u=e.tV(r).kF(this);return e.toString(i)+u.HF().toString(i)}return"-"+this.TF().toString(i)}for(var s=t.CF(A.pow(i,6),this.BF()),o=this,a="";;){var c=o.nV(s),h=(o.kF(c.tV(s)).HF()>>>0).toString(i);if((o=c).FF())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t.RF=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.IF=function(n){return n.unsigned?new t(n,sr.UZERO):new t(n,n.isNegative()?sr.NEG_ONE:sr.ZERO)},t.CF=function(n,i){if(E(n))return i?t.PF:t.DF;if(i){if(n<0)return t.PF;if(n>=fw)return t.NF}else{if(n<=-vw)return t.MF;if(n+1>=vw)return t.LF}return n<0?t.CF(-n,i).TF():t.RF(sr.fromNumber(n%hw),sr.fromNumber(n/hw),i)},t}();lw.DF=lw.IF(sr.ZERO),lw.PF=lw.IF(sr.UZERO),lw.JF=lw.IF(sr.ONE),lw.iV=lw.IF(sr.UONE),lw.sV=lw.IF(sr.NEG_ONE),lw.LF=lw.RF(sr.NEG_ONE,sr.MAX_VALUE,!1),lw.NF=lw.RF(sr.MAX_UNSIGNED_VALUE,sr.MAX_UNSIGNED_VALUE,!0),lw.MF=lw.RF(sr.ZERO,sr.MIN_VALUE,!1),U(),St(),Dt();var dw=function(){function t(t,n){void 0===n&&(n=1),this.oV=t,this.mN=n}var n=t.prototype;return n.kO=function(n){return this.mN>=n.mN?new t(this.oV+n.lV(this.mN).oV,this.mN):new t(this.lV(n.mN).oV+n.oV,n.mN)},n.vF=function(t){return t.bF(this)},n.gF=function(t){return t.wF(this)},n.yF=function(n){return this.mN>=n.mN?new t(A.abs(this.oV-n.lV(this.mN).oV),this.mN):n.yF(this)},n.pF=function(t,n){return this.yF(t).wF(n)},n.mF=function(t){return function(t,n){return t.mN>=n.mN?lo(t.oV,n.lV(t.mN).oV):lo(t.lV(n.mN).oV,n.oV)}(this,t)},n.sF=function(t){return 0===this.mF(t)},n.bF=function(t){return this.mF(t)<0},n.wF=function(t){return this.mF(t)<=0},n.lV=function(n){return new t(this.oV*(n/this.mN),n)},n.kF=function(n){return this.mN>=n.mN?new t(this.oV-n.lV(this.mN).oV,this.mN):new t(this.lV(n.mN).oV-n.oV,n.mN)},n.dV=function(n){return new t(this.oV*n,this.mN)},t.hV=function(n){return new t(A.ceil(n.oV),n.mN)},t.aV=function(n){return new t(A.floor(n.oV),n.mN)},t.uV=function(t,n){return t.gF(n)?t:n},t.cV=function(t,n){return t.wF(n)?t:n},xt(t,[{key:"xF",get:function(){return!isFinite(this.oV)}},{key:"od",get:function(){return this.oV/this.mN}}]),t}();dw.ad=new dw(1/6,1),dw.DF=new dw(0),dw.fV=new dw(1/0),dw._V=1e6;var gw=function(t){function n(n,i){var r;return(r=t.call(this)||this).Mx=n.toSigned(),r.mN=i>>>0,r}Rt(n,t);var i=n.prototype;return i.SF=function(){return this.Mx.isNegative()},i.FF=function(){return 0!==this.mN&&this.Mx.isZero()},i.xF=function(){return 0===this.mN&&!this.Mx.isZero()},i.EF=function(){return 0===this.mN&&this.Mx.isZero()},i._F=function(){if(0===this.mN)return this.Mx.isZero()?NaN:this.Mx.isNegative()?-1/0:1/0;var t=this.Mx.divide(this.mN),n=this.Mx.subtract(t.multiply(this.mN));return t.toNumber()+n.toNumber()/this.mN},i.GF=function(){if(0===this.mN)throw new y("Failed to convert timestamp");return this.Mx},i.AV=function(){return new Date(0===this.mN?NaN:this.lV(1e3).Mx.toNumber())},i.SV=function(){return new dw(0===this.mN?this._F():this.Mx.toNumber(),this.mN)},i.lV=function(t,i){void 0===i&&(i=ww.TV);var r=this.mN;if(r===t)return this;if(0===r)return this;var e=mr(r,t),u=function(t,n,i){var r=nn(t.eV(n),2),e=r[0],u=r[1];if(u.FF())return e;if(i===ww.TV)return u.SF()?e.kF(lw.JF):e;if(i===ww.kV)return u.SF()?e:e.kO(lw.JF);var s=u.tV(lw.CF(2));return s.SF()?s.TF().bF(n)?e:e.kF(lw.JF):s.bF(n)?e:e.kO(lw.JF)}(lw.IF(this.Mx).tV(lw.CF(t/e)),lw.CF(r/e),i);return new n(u.GF(),t)},i.mF=function(t){if(this===t)return co.eh;if(0===this.mN||0===t.mN)return aw(this,t);if(this.FF())return t.FF()?co.eh:t.SF()?co.Bw:co.Ow;if(t.FF())return this.SF()?co.Ow:co.Bw;var n=A.min(this.mN,t.mN),i=this.lV(n,ww.EV).Mx,r=t.lV(n,ww.EV).Mx;return i.compare(r)},i.TF=function(){return 0===this.mN?function(t){0;return t.EF()?t:t.SF()?gw.gV:gw.pV}(this):new n(this.Mx.negate(),this.mN)},i.kO=function(t){if(0===this.mN||0===t.mN)return function(t,n){0;if(t.EF()||n.EF())return gw.mV;if(t.xF()&&n.xF())return t.SF()===n.SF()?t:gw.mV;return t.xF()?t:n}(this,t);if(this.FF())return t;if(t.FF())return this;var i=A.max(this.mN,t.mN),r=this.lV(i,ww.EV),e=t.lV(i,ww.EV);return new n(r.Mx.add(e.Mx),i)},i.tV=function(t){if(this.EF()||E(t))return n.mV;if(this.xF()||!isFinite(t)){if(this.FF()||0===t)return n.mV;var i=this.SF()?n.pV:n.gV;return t<0?i.TF():i}return this.FF()?this:new n(0===t?sr.ZERO:this.Mx.multiply(t),this.mN)},i.nV=function(t){if(this.EF()||E(t))return n.mV;if(this.xF())return isFinite(t)?0===t?1/t<0?this.TF():this:t<0?this.TF():this:n.mV;if(!isFinite(t))return new n(sr.ZERO,this.mN);if(this.FF())return 0===t?n.mV:new n(sr.ZERO,this.mN);if(0===t){var i=this.SF()?n.pV:n.gV;return 1/t<0?i.TF():i}return new n(this.Mx.divide(t),this.mN)},i.xV=function(){return[this.Mx.low,this.Mx.high,this.mN]},n.vV=function(t,i){return void 0===i&&(i=sw),n.CF(t*i,i)},n.CF=function(t,i){return E(t)?n.mV:t===1/0?n.gV:t===-1/0?n.pV:new n(sr.fromNumber(t),i)},n.IF=function(t,i){return new n(t,i)},n.wV=function(t){return n.vV(t.od,sw)},n.yV=function(t){return new n(sr.fromNumber(t.getTime()),1e3)},n.uV=function(t,n){return t.gF(n)?t:n},n.cV=function(t,n){return t.wF(n)?t:n},n.bV=function(t,i,r){return n.uV(i,n.cV(r,t))},n}(ow);gw.DF=new gw(sr.ZERO,sw),gw.mV=new gw(sr.ZERO,0),gw.gV=new gw(sr.ONE,0),gw.pV=new gw(sr.NEG_ONE,0),U(),St(),Dt(),Ct(),ct();var mw=function(t){function n(n,i){var r;return(r=t.call(this)||this).Mx=BigInt.asIntN(64,n),r.mN=i>>>0,r}Rt(n,t);var i=n.prototype;return i.SF=function(){return this.Mx<BigInt(0)},i.FF=function(){return 0!==this.mN&&this.Mx===BigInt(0)},i.xF=function(){return 0===this.mN&&this.Mx!==BigInt(0)},i.EF=function(){return 0===this.mN&&this.Mx===BigInt(0)},i._F=function(){if(0===this.mN)return this.Mx===BigInt(0)?NaN:this.Mx<BigInt(0)?-1/0:1/0;var t=this.Mx/BigInt(this.mN),n=this.Mx-t*BigInt(this.mN);return Number(t)+Number(n)/this.mN},i.GF=function(){if(0===this.mN)throw new y("Failed to convert timestamp");return this.NV()},i.NV=function(){var t=this.Mx&BigInt(4294967295),n=this.Mx>>BigInt(32)&BigInt(4294967295);return sr.fromBits(Number(t),Number(n))},i.AV=function(){return new Date(0===this.mN?NaN:Number(this.lV(1e3).Mx))},i.SV=function(){return new dw(0===this.mN?this._F():Number(this.Mx),this.mN)},i.lV=function(t,i){void 0===i&&(i=ww.TV);var r=this.mN;if(r===t)return this;if(0===r)return this;var e=mr(r,t),u=function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===ww.TV)return e<BigInt(0)?r-BigInt(1):r;if(i===ww.kV)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.Mx*BigInt(t/e),BigInt(r/e),i);return new n(u,t)},i.mF=function(t){if(this===t)return co.eh;if(0===this.mN||0===t.mN)return aw(this,t);if(this.FF())return t.FF()?co.eh:t.SF()?co.Bw:co.Ow;if(t.FF())return this.SF()?co.Ow:co.Bw;var n=A.min(this.mN,t.mN),i=this.lV(n,ww.EV).Mx,r=t.lV(n,ww.EV).Mx;return i>r?co.Bw:i<r?co.Ow:co.eh},i.TF=function(){return 0===this.mN?function(t){0;return t.EF()?t:t.SF()?mw.gV:mw.pV}(this):new n(-this.Mx,this.mN)},i.kO=function(t){if(0===this.mN||0===t.mN)return function(t,n){0;if(t.EF()||n.EF())return mw.mV;if(t.xF()&&n.xF())return t.SF()===n.SF()?t:mw.mV;return t.xF()?t:n}(this,t);if(this.FF())return t;if(t.FF())return this;var i=A.max(this.mN,t.mN),r=this.lV(i,ww.EV),e=t.lV(i,ww.EV);return new n(r.Mx+e.Mx,i)},i.tV=function(t){if(this.EF()||E(t))return n.mV;if(this.xF()||!isFinite(t)){if(this.FF()||0===t)return n.mV;var i=this.SF()?n.pV:n.gV;return t<0?i.TF():i}return this.FF()?this:new n(0===t?BigInt(0):this.Mx*BigInt(t),this.mN)},i.nV=function(t){if(this.EF()||E(t))return n.mV;if(this.xF())return isFinite(t)?0===t?1/t<0?this.TF():this:t<0?this.TF():this:n.mV;if(!isFinite(t))return new n(BigInt(0),this.mN);if(this.FF())return 0===t?n.mV:new n(BigInt(0),this.mN);if(0===t){var i=this.SF()?n.pV:n.gV;return 1/t<0?i.TF():i}return new n(this.Mx/BigInt(t),this.mN)},i.xV=function(){var t=this.NV();return[t.low,t.high,this.mN]},n.vV=function(t,i){return void 0===i&&(i=sw),n.CF(t*i,i)},n.CF=function(t,i){return E(t)?n.mV:t===1/0?n.gV:t===-1/0?n.pV:new n(BigInt(A.floor(t)),i)},n.IF=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.wV=function(t){return n.vV(t.od,sw)},n.yV=function(t){return n.CF(t.getTime(),1e3)},n.uV=function(t,n){return t.gF(n)?t:n},n.cV=function(t,n){return t.wF(n)?t:n},n.bV=function(t,i,r){return n.uV(i,n.cV(r,t))},xt(n,null,[{key:"DF",get:function(){return n.RV||(n.RV=new n(BigInt(0),sw)),n.RV}},{key:"mV",get:function(){return n.CV||(n.CV=new n(BigInt(0),0)),n.CV}},{key:"gV",get:function(){return n.PV||(n.PV=new n(BigInt(1),0)),n.PV}},{key:"pV",get:function(){return n.DV||(n.DV=new n(BigInt(-1),0)),n.DV}}]),n}(ow);mw.RV=void 0,mw.CV=void 0,mw.PV=void 0,mw.DV=void 0;var ww=function(t){return t[t.TV=0]="TV",t[t.kV=1]="kV",t[t.EV=2]="EV",t}({}),pw=function(){try{return"function"==typeof BigInt&&"bigint"===W(BigInt(0))}catch(t){return!1}}()?mw:gw;function yw(t,n){return t.mF(n)}function _w(t,n){return void 0!==t?void 0!==n?pw.cV(t,n):t:n}U(),St();var bw=9e4,kw=A.pow(2,33),Aw=Ci((function(){return pw.CF(kw,bw)})),Tw=Ci((function(){return Aw().nV(2)}));U(),St();var Sw={MV:0,LV:1/0,BV:0},Ew=6,Iw=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],Rw=[" ","\t","\n","\f","\r"],Cw=/^\d*$/,Nw=/.*[0-9]+.*/,xw=/^[\d.-]+$/,Dw=/(^\.|\.$)/,Pw=/(\D\.|\.\D)/;function Mw(t,n,i){return void 0===n&&(n=Sw),void 0===i&&(i=!0),Bw(Ac(Ec(t),new Pc),n,i)}function Bw(t,n,i){void 0===n&&(n=Sw),void 0===i&&(i=!0);var r={L:[],OV:[],FV:[]},e=Ow(t),u=new Pc;if(Yw(e),Lw(e,(function(t){return"\n"!==t}),u),u.nc>=e.length)return r;(u.xb(1),"\n"!==e.charAt(u.nc))?jw(Fw(e,u,false,!0,r,n,i),r):u.xb(1);for(Lw(e,(function(t){return"\n"===t}),u);u.nc<e.length;){jw(Fw(e,u,false,!1,r,n,i),r),Lw(e,(function(t){return"\n"===t}),u)}return r}function Ow(t){var n=js(t,"\0"," "),i=js(n,"\r\n","\n");return js(i,"\r","\n")}function Lw(t,n,i){for(var r=i.nc;i.nc<t.length&&n(t.charAt(i.nc));)i.xb(1);return t.substring(r,i.nc)}function Fw(t,n,i,r,e,u,s){for(var o,a=0,c=n.nc,h="",f=!1,v=!1,l=null,d=null,g=null;!f;)if(o=Lw(t,(function(t){return"\n"!==t}),n),a++,n.nc>=t.length?f=!0:n.xb(1),Zs(o,"--\x3e")){if(r||1!==a&&(2!==a||v)){n.Rb(c);break}v=!0,c=n.nc,l=new $m(0,0,"",!1,h);try{Zw(o,e.OV,l,u,s),h=""}catch(t){qn.Vp(t),l=null}}else{if(""===o)break;r&&Xs(o,"X-TIMESTAMP-MAP")&&(e.VV=Vw(o)),r||2!==a||i||(Hs("STYLE",h.replace(/ /g,""))?(d={Tw:Mm.OO},h=""):Hs("REGION",h.replace(/ /g,""))&&(g=new uw("",100,3,0,100,0,100,""),h="")),h&&(h+="\n"),h+=o,c=n.nc}if(l)return l.U=h,l;if(d);else if(g)return function(t,n){for(var i=t.split(/\s/),r=":",e=0;e<i.length;e++){var u=i[e];if(0!==u.length&&Zs(u,r)&&u.charAt(0)!==r&&u.charAt(u.length-1)!==r){var s=u.indexOf(r),o=u.substring(0,s),a=u.substring(s+1,u.length);switch(o.toUpperCase()){case"ID":sp(a,n);break;case"WIDTH":cp(a,n);break;case"LINES":ap(a,n);break;case"REGIONANCHOR":var c=up(a);c&&(n.aF=c[0],n.uF=c[1]);break;case"VIEWPORTANCHOR":var h=up(a);h&&(n.lF=h[0],n.dF=h[1]);break;case"SCROLL":op(a,n)}}}}(h,g),g;return null}function Vw(t){var n,i=t.split("=")[1].trim().split(","),r=Ww(i[0].trim(),"MPEGTS")?i[0]:i[1],e=Ww(i[0].trim(),"LOCAL")?i[0]:i[1];return{WV:Uw(Number(r.split(/:(.*)/)[1].trim())||0),mh:pw.vV(null!=(n=Hw(e.split(/:(.*)/)[1].trim(),new Pc))?n:0)}}function Uw(t){return pw.CF(t,bw)}function Ww(t,n){return Xs(t,n)}function jw(t,n){t&&function(t){return"cue"===t.Tw}(t)?n.L.push(t):t&&function(t){return"region"===t.Tw}(t)?n.OV.push(t):t&&function(t){return"stylesheet"===t.Tw}(t)&&n.FV.push(t)}function Zw(t,n,i,r,e){var u=new Pc;qw(t,u);var s=Xw(Hw(t,u),r,e);if(qw(t,u),"--\x3e"!==t.substring(u.nc,u.nc+3))throw y("Something went wrong with parsing a WebVTT Cue");u.xb(3),qw(t,u);var o=Xw(Hw(t,u),r,e);i.rF(s,o),function(t,n,i){for(var r=t.split(/\s/),e=":",u=0;u<r.length;u++){var s=r[u];if(0!==s.length&&Zs(s,e)&&s.charAt(0)!==e&&s.charAt(s.length-1)!==e){var o=s.indexOf(e),a=s.substring(0,o),c=s.substring(o+1,s.length);switch(a.toUpperCase()){case"REGION":np(c,n,i);break;case"VERTICAL":rp(c,n);break;case"D":ep(c,n);break;case"LINE":case"L":$w(c,n);break;case"POSITION":case"T":tp(c,n);break;case"SIZE":case"S":ip(c,n);break;case"ALIGN":case"A":Qw(c,n)}}}}(t.substring(u.nc,t.length),i,n)}function Xw(t,n,i){return i?t+n.MV:t}function Gw(t){return/^[0-9]$/.test(t)}function Hw(t,n){var i,r,e,u=js(t,",","."),s=!1;if(n.nc>=u.length||!Gw(u.charAt(n.nc)))throw new y("Something went wrong with parsing a WebVTT Cue timestamp");var o=Lw(u,Gw,n),a=T(o,10);if((o.length>2||a>59)&&(s=!0),n.nc>=u.length||":"!==u.charAt(n.nc))throw new y("Something went wrong with parsing a WebVTT Cue timestamp");n.xb(1);var c=Lw(u,Gw,n);if(2!==c.length)throw new y("Something went wrong with parsing a WebVTT Cue timestamp");var h=T(c,10);if(s||n.nc<u.length&&":"===u.charAt(n.nc)){if(n.nc>=u.length||":"!==u.charAt(n.nc))throw new y("Something went wrong with parsing a WebVTT Cue timestamp");n.xb(1);var f=Lw(u,Gw,n);if(2!==c.length)throw new y("Something went wrong with parsing a WebVTT Cue timestamp");i=a,r=h,e=T(f,10)}else i=0,r=a,e=h;if(n.nc>=u.length||"."!==u.charAt(n.nc))throw new y("Something went wrong with parsing a WebVTT Cue timestamp");n.xb(1);var v=Lw(u,Gw,n),l=T(v,10);if(h>59||e>59)throw new y("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function zw(t){return Yw(Ow(t))}function Yw(t){if(t.length<Ew)return!1;for(var n=0;n<Iw.length;n++){var i=Iw[n];if(Xs(t,i))return!0}return!1}function Kw(t){return To(Rw,t)}function qw(t,n){for(;n.nc<t.length&&Kw(t.charAt(n.nc));)n.xb(1)}function Jw(t){var n=t.lastIndexOf("%");if(n>-1){var i=S(t.substring(0,n));if(!E(i)&&i>=0&&i<=100)return i}return null}function Qw(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.GO=i;break;case"middle":n.GO="center"}}function $w(t,n){var i,r,e=t.indexOf(",");if(e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r=""),Nw.test(i)){var u,s;if(Gs(i,"%")){var o=Jw(i);if(null===o)return;u=o,s=!1}else{if(!xw.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!Pw.test(i)||Dw.test(i)))return;if(u=S(i),E(u))return;s=!0}switch(n.HO=u,n.qO=s,r=r.toLowerCase()){case"start":case"center":case"end":n.ZO=r;break;case"middle":n.ZO="center"}}}function tp(t,n){var i,r,e=t.indexOf(",");e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r="");var u=Jw(i);if(null!==u)switch(n.fo=u,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.XO=r;break;case"start":n.XO="line-left";break;case"middle":n.XO="center";break;case"end":n.XO="line-right"}}function np(t,n,i){var r=po(i,(function(n){return n.o===t}));void 0!==r&&(n.zO=r)}function ip(t,n){var i=Jw(t);null!==i&&(n.Nb=i)}function rp(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Pt="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Pt="lr";break;default:n.Pt=""}}function ep(t,n){"VERTICAL"===t.toUpperCase()?n.Pt="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Pt="lr")}function up(t){if(t.indexOf(",")>=0){var n=Jw(t.substring(0,t.indexOf(","))),i=Jw(t.substring(t.indexOf(",")+1,t.length));return[hr(n||0,0,100),hr(i||100,0,100)]}return null}function sp(t,n){n.o=t}function op(t,n){"up"===t.toLowerCase()&&(n.cF="up")}function ap(t,n){Cw.test(t)&&(n.hF=T(t))}function cp(t,n){var i=Jw(t);null!==i&&(n.ji=i)}U(),St(),rn(),U(),St(),U(),St();var hp=function(t){return t.gP="moov",t.pP="mvhd",t.wP="trak",t.yP="tkhd",t.bP="mdia",t.AP="mdhd",t.SP="hdlr",t.TP="minf",t.kP="stbl",t.EP="stsd",t.xP="stsc",t.RP="mvex",t.IP="trex",t.CP="avc1",t.PP="avcC",t.DP="hev1",t.NP="hvc1",t.MP="hvcC",t.LP="vp09",t.BP="vpcC",t.OP="av01",t.FP="av1C",t.VP="dvcC",t.WP="dvvC",t.UP="dvwC",t.GP="dec3",t.HP="dvav",t.ZP="dva1",t.zP="dvhe",t.qP="dvh1",t.YP="ec-3",t.KP="colr",t.jP="pasp",t.QP="mp4a",t.JP="esds",t.$P="fLaC",t.tD="dfLa",t.eD="wvtt",t.iD="vttC",t.sD="vlab",t.nD="enca",t.rD="encv",t.oD="moof",t.hD="mfhd",t.aD="traf",t.uD="tfhd",t.cD="trun",t.lD="tfdt",t.dD="senc",t.fD="mdat",t._D="pssh",t.vD="emsg",t.mD="sidx",t.gD="styp",t.pD="ftyp",t.wD="sinf",t.yD="frma",t}({}),fp=function(t){return t.ON_SCREEN_COLOURS="nclx",t.RESTRICTED_ICC_PROFILE="rICC",t.UNRESTRICED_ICC_PROFILE="prof",t}({}),vp=function(t){return t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=65536]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF",t}({}),lp=function(t){return t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT",t}({});U(),St();var dp=function(){function t(t,n){this.Kk=t,this.SD=n}var n=t.prototype;return n.bD=function(){return Ga(this.Kk,this.SD)},n.TD=function(){return Qa(this.Kk,this.SD)},n.kD=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.nc,i);return n.xb(2),r}(this.Kk,this.SD)},n.ED=function(){return tc(this.Kk,this.SD)},n.xD=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.nc,i);return n.xb(4),r}(this.Kk,this.SD)},n.RD=function(){return ic(this.Kk,this.SD)},n.CD=function(t){return za(this.Kk,this.SD,t)},n.PD=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(tc(t,n));return r}(this.Kk,this.SD,t)},n.DD=function(t){return uc(this.Kk,this.SD,t)},n.ND=function(){return _c(this.Kk,this.SD)},n.MD=function(t){this.SD.xb(t)},n.Ib=function(){return new t(this.Kk,this.SD.Ib())},t}();U(),St(),Dt(),Ct(),U(),St();function gp(t,n){return t.Tw===n}function mp(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(gp(r,n))return r}}var wp=function(t){function n(n,i){var r;return(r=t.call(this)||this).LD=n,r.BD=i,r}return Rt(n,t),xt(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Uo),pp=function(){function t(){}return t.OD=function(n){var i=n.Kk,r=n.SD,e=t.FD(i,r,!1);if(!e.VD)throw new wp(r.nc,e.m);return e.m},t.FD=function(n,i,r){for(var e=[];i.nc<n.byteLength;){var u=t.WD(n,i,r);if(!u.VD)return{VD:!1,m:e};e.push(u.UD)}return{VD:!0,m:e}},t.GD=function(n,i){var r=t.WD(n,i,!1);if(!r.VD)throw new wp(i.nc);return r.UD},t.HD=function(n,i){for(var r=n.Kk,e=n.SD;e.nc<r.byteLength;){var u=t.WD(r,e,!1);if(!u.VD)return;if(u.UD.Tw===i)return u.UD}},t.WD=function(n,i,r){var e=i.nc,u=t.ZD(n,i);if(!u.VD)return u;var s=u.XD,o=s.Nb;if(0===o){if(r)return i.Rb(e),{VD:!1,zD:1/0};o=n.byteLength-e}var a=e+o;if(a>n.byteLength){var c=a;return i.Rb(e),{VD:!1,zD:c}}var h={Tw:s.Tw,nc:e,Kk:new dp(Sc(n,e,a),new Pc(s.qD))};return i.Rb(a),{VD:!0,UD:h}},t.ZD=function(t,n){var i=n.nc;if(!Ka(t,n,8))return{VD:!1,zD:n.nc+8};var r=tc(t,n),e=uc(t,n,4);if(1===r){if(!Ka(t,n,8)){var u=n.nc+8;return n.Rb(i),{VD:!1,zD:u}}r=ic(t,n).toNumber()}if("uuid"===e){if(!Ka(t,n,16)){var s=n.nc+16;return n.Rb(i),{VD:!1,zD:s}}e=uc(t,n,16)}return{VD:!0,XD:{Tw:e,Nb:r,qD:n.nc-i}}},t.YD=function(t,n,i){var r=t.Kk,e=t.SD,u=Tc(Ic(r),e.nc,r.byteLength);return i&&(u=xc(u)),e.xb(u.byteLength),{Tw:n,Kk:u}},t.KD=function(n,i,r){var e=kp(n.ED());return{Tw:i,jD:e.version,QD:e.flags,Kk:t.YD(n,i,r).Kk}},t}();function yp(t,n){var i=_p(t,n);if(!i)throw new y("Missing "+n+" atom");return i}function _p(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Tw===n)return r.Kk}}function bp(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.Tw===n&&i.push(e.Kk)}return i}function kp(t){return{version:t>>24,flags:new ja(16777215&t)}}var Ap=function(){function t(){}return t.JD=function(n){for(var i=[],r=pp.OD(new dp(n,new Pc)),e=0;e<r.length;e++){var u=r[e],s=t.$D(u);s&&i.push(s)}return i},t.tN=function(t){return pp.FD(t,new Pc,!1).m.some(this.eN)},t.iN=function(n){return bp(pp.OD(new dp(n,new Pc)),hp._D).map(t.sN)},t.nN=function(n){return bp(pp.OD(n.Kk),hp._D).map(t.sN)},t.eN=function(t){return t.Tw===hp.pD||t.Tw===hp.gD||t.Tw===hp.gP||t.Tw===hp.oD||t.Tw===hp.fD||t.Tw===hp.mD||t.Tw===hp.vD},t.$D=function(n){switch(n.Tw){case hp.gP:return t.rN(n.Kk);case hp.oD:return t.oN(n.Kk,n.nc);case hp.fD:return t.hN(n.Kk);case hp.mD:return t.aN(n.Kk);case hp.vD:return t.uN(n.Kk)}},t.rN=function(n){var i=pp.OD(n),r=yp(i,hp.pP),e=bp(i,hp.wP),u=_p(i,hp.RP),s=t.cN(r),o=e.map(t.lN),a=u?t.dN(u):void 0;return{Tw:hp.gP,XD:s,Z:o,fN:a}},t.cN=function(t){var n=kp(t.ED()),i=n.version,r=n.flags,e=1===i?t.RD():t.ED(),u=1===i?t.RD():t.ED(),s=t.ED(),o=1===i?t.RD():t.ED(),a=t.ED(),c=t.TD()>>8;t.MD(2),t.MD(8);var h=t.PD(9);t.MD(24);var f=t.ED();return{Tw:hp.pP,jD:i,QD:r,_N:e,vN:u,mN:s,ct:o,gN:a,gI:c,pN:h,wN:f}},t.lN=function(n){var i=pp.OD(n),r=yp(i,hp.yP),e=yp(i,hp.bP),u=t.yN(r),s=t.bN(e);return{Tw:hp.wP,XD:u,AN:s}},t.yN=function(t){var n=kp(t.ED()),i=n.version,r=n.flags,e=1===i?t.RD():t.ED(),u=1===i?t.RD():t.ED(),s=t.ED();t.MD(4);var o=1===i?t.RD():t.ED();t.MD(8);var a=t.kD(),c=t.kD(),h=t.kD()/A.pow(2,8);t.MD(2);var f=t.PD(9),v=t.ED()/A.pow(2,16),l=t.ED()/A.pow(2,16);return{Tw:hp.yP,SN:r.Cb(1),TN:r.Cb(2),kN:r.Cb(4),_N:e,vN:u,EN:s,ct:o,xN:a,RN:c,gI:h,pN:f,ji:v,Ti:l}},t.bN=function(n){var i=pp.OD(n),r=yp(i,hp.AP),e=yp(i,hp.SP),u=yp(i,hp.TP),s=t.CN(r),o=t.PN(e),a=t.DN(u);return{Tw:hp.bP,XD:s,NN:o,MN:a}},t.CN=function(t){var n=kp(t.ED()),i=n.version,r=n.flags,e=1===i?t.RD():t.ED(),u=1===i?t.RD():t.ED(),s=t.ED(),o=1===i?t.RD():t.ED();t.TD();return t.MD(2),{Tw:hp.AP,jD:i,QD:r,_N:e,vN:u,mN:s,ct:o}},t.PN=function(t){var n=kp(t.ED()),i=n.version,r=n.flags;t.MD(4);var e=t.DD(4);t.MD(12);var u=t.ND();return{Tw:hp.SP,jD:i,QD:r,LN:e,l:u}},t.DN=function(n){var i=yp(pp.OD(n),hp.kP),r=t.BN(i);return{Tw:hp.TP,ON:r}},t.BN=function(n){var i=yp(pp.OD(n),hp.EP),r=t.FN(i);return{Tw:hp.kP,VN:r}},t.FN=function(n){for(var i=kp(n.ED()),r=i.version,e=i.flags,u=(n.ED(),[]),s=pp.OD(n),o=0;o<s.length;o++){var a=s[o],c=t.WN(a.Kk,a.Tw);c&&u.push(c)}return{Tw:hp.EP,jD:r,QD:e,UN:u}},t.WN=function(n,i){var r=t.GN(n,i);return r||((r=t.HN(n,i))||(i===hp.eD?t.ZN(n):void 0))},t.GN=function(n,i){return i===hp.QP?t.XN(n):i===hp.$P||i===hp.$P.toLowerCase()||i===hp.$P.toUpperCase()?t.zN(n):i===hp.nD?t.qN(n):i===hp.YP?t.YN(n):void 0},t.HN=function(n,i){return i===hp.CP?t.KN(n):i===hp.DP||i===hp.NP?t.jN(n,i):i===hp.LP?t.QN(n,i):i===hp.OP?t.JN(n,i):i===hp.rD?t.$N(n):i===hp.HP||i===hp.ZP||i===hp.zP||i===hp.qP?t.tM(n,i):void 0},t.eM=function(t,n){return t.MD(6),{Tw:n,iM:t.TD()}},t.sM=function(n,i){var r=t.eM(n,i);n.MD(8);var e=n.TD(),u=n.TD();return n.MD(2),n.MD(2),ss({},r,{nM:e,rM:u,oM:n.ED()>>>16})},t.hM=function(n,i){var r=t.eM(n,i);n.MD(2),n.MD(2),n.MD(12);var e=n.TD(),u=n.TD(),s=n.ED(),o=n.ED();n.MD(4);var a=n.TD();n.MD(32);var c=n.TD();return n.MD(2),ss({},r,{ji:e,Ti:u,aM:s,uM:o,cM:a,lM:c})},t.XN=function(n){var i=t.sM(n,hp.QP),r=yp(pp.OD(n),hp.JP);return ss({},i,{dM:t.fM(r)})},t.zN=function(n){var i=t.sM(n,hp.$P),r=yp(pp.OD(n),hp.tD);return ss({},i,{_M:t.vM(r)})},t.ZN=function(n){var i=t.eM(n,hp.eD),r=pp.OD(n),e=yp(r,hp.iD),u=t.mM(e),s=_p(r,hp.sD);return ss({},i,{gM:u,pM:s?t.wM(s):void 0})},t.mM=function(t){return{Tw:hp.iD,kd:t.ND()}},t.wM=function(t){return{Tw:hp.sD,Ch:t.ND()}},t.fM=function(t){return pp.KD(t,hp.JP,!0)},t.vM=function(t){return pp.KD(t,hp.tD,!0)},t.KN=function(n){var i=t.hM(n,hp.CP),r=pp.OD(n),e=yp(r,hp.PP),u=_p(r,hp.jP);return ss({},i,{yM:t.bM(e),AM:u?t.SM(u):void 0})},t.jN=function(n,i){var r=t.hM(n,i),e=yp(pp.OD(n),hp.MP);return ss({},r,{TM:t.kM(e)})},t.QN=function(n,i){var r=t.hM(n,i),e=yp(pp.OD(n),hp.BP);return ss({},r,{EM:t.xM(e)})},t.JN=function(n,i){var r=t.hM(n,i),e=pp.OD(n),u=yp(e,hp.FP),s=t.RM(u),o=_p(e,hp.KP);return ss({},r,{IM:s,CM:o?t.PM(o):void 0})},t.$N=function(n){var i=n.Ib(),r=t.hM(n,hp.rD),e=yp(pp.OD(n),hp.wD),u=t.DM(e);return ss({},r,{NM:t.HN(i,u.LM.MM),BM:u})},t.tM=function(n,i){var r=t.hM(n,i),e=pp.OD(n);return ss({},r,{OM:t.FM(e)})},t.YN=function(n){var i=t.sM(n,hp.YP),r=yp(pp.OD(n),hp.GP);return ss({},i,{VM:t.WM(r)})},t.qN=function(n){var i=n.Ib(),r=t.sM(n,hp.nD),e=yp(pp.OD(n),hp.wD),u=t.DM(e);return ss({},r,{NM:t.GN(i,u.LM.MM),BM:u})},t.DM=function(n){var i=yp(pp.OD(n),hp.yD),r=t.UM(i);return{Tw:hp.wD,LM:r}},t.UM=function(t){var n=t.DD(4);return{Tw:hp.yD,MM:n}},t.bM=function(t){return pp.YD(t,hp.PP,!0)},t.kM=function(t){return pp.YD(t,hp.MP,!0)},t.FM=function(t){var n=_p(t,hp.VP);if(void 0!==n)return pp.YD(n,hp.VP,!0);var i=_p(t,hp.WP);if(void 0!==i)return pp.YD(i,hp.WP,!0);var r=_p(t,hp.UP);if(void 0!==r)return pp.YD(r,hp.UP,!0);throw y("Error parsing Dolby Vision configuration box.")},t.WM=function(t){return pp.YD(t,hp.GP,!0)},t.xM=function(t){return pp.YD(t,hp.BP,!0)},t.RM=function(t){return pp.YD(t,hp.FP,!0)},t.PM=function(t){var n=t.DD(4);switch(n){case"nclx":return{GM:fp.ON_SCREEN_COLOURS,HM:t.TD(),ZM:t.TD(),XM:t.TD(),zM:0!=(128&t.bD())};case"rICC":return{GM:fp.RESTRICTED_ICC_PROFILE};case"prof":return{GM:fp.UNRESTRICED_ICC_PROFILE};default:throw y("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.SM=function(t){var n=t.ED(),i=t.ED();return{Tw:hp.jP,qM:n,YM:i}},t.dN=function(n){var i=bp(pp.OD(n),hp.IP).map(t.KM);return{Tw:hp.RP,Z:i}},t.KM=function(t){var n=kp(t.ED()),i=n.version,r=n.flags,e=t.ED(),u=t.ED(),s=t.ED(),o=t.ED(),a=t.ED();return{Tw:hp.IP,jD:i,QD:r,EN:e,jM:u,QM:s,JM:o,$M:a}},t.oN=function(n,i){var r=pp.OD(n),e=yp(r,hp.hD),u=bp(r,hp.aD),s=t.tL(e),o=u.map(t.eL);return{Tw:hp.oD,iL:i,XD:s,Z:o}},t.tL=function(t){var n=kp(t.ED()),i=n.version,r=n.flags,e=t.ED();return{Tw:hp.hD,jD:i,QD:r,sL:e}},t.eL=function(n){var i=pp.OD(n),r=yp(i,hp.uD),e=bp(i,hp.cD),u=_p(i,hp.lD),s=t.nL(r),o=e.map((function(n){return t.rL(n,s)})),a=u?t.oL(u):void 0;return{Tw:hp.aD,XD:s,hL:o,aL:a}},t.nL=function(t){var n=kp(t.ED()),i=n.version,r=n.flags,e=t.ED(),u=r.Cb(vp.BASE_DATA_OFFSET_PRESENT)?t.RD():void 0,s=r.Cb(vp.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.ED():void 0,o=r.Cb(vp.DEFAULT_SAMPLE_DURATION_PRESENT)?t.ED():void 0,a=r.Cb(vp.DEFAULT_SAMPLE_SIZE_PRESENT)?t.ED():void 0,c=r.Cb(vp.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.ED():void 0;return{Tw:hp.uD,jD:i,QD:r,EN:e,uL:u,cL:s,QM:o,JM:a,$M:c}},t.rL=function(n,i){for(var r=kp(n.ED()),e=r.version,u=r.flags,s=n.ED(),o=u.Cb(lp.DATA_OFFSET_PRESENT)?n.xD():void 0,a=u.Cb(lp.FIRST_SAMPLE_FLAGS_PRESENT)?n.ED():void 0,c=[],h=0;h<s;h++){var f=t.lL(n,u,e,i);0===h&&void 0!==a&&(f.QD=a),c.push(f)}return{Tw:hp.cD,jD:e,QD:u,dL:s,iL:o,fL:a,_L:c}},t.lL=function(t,n,i,r){return{ct:n.Cb(lp.SAMPLE_DURATION_PRESENT)?t.ED():r.QM,Nb:n.Cb(lp.SAMPLE_SIZE_PRESENT)?t.ED():r.JM,QD:n.Cb(lp.SAMPLE_FLAGS_PRESENT)?t.ED():r.$M,vL:n.Cb(lp.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.ED():t.xD():void 0}},t.uN=function(t){var n=t.Kk,i=t.SD,r=kp(tc(n,i)),e=r.version,u=r.flags;if(1===e){var s=tc(n,i),o=ic(n,i),a=tc(n,i),c=tc(n,i),h=ec(n,i),f=ec(n,i),v=Nc(Ic(n),i.nc,n.byteLength);return i.xb(v.byteLength),{Tw:hp.vD,jD:e,QD:u,mL:h,Mx:f,mN:s,gL:o,pL:a,o:c,wL:v}}var l=ec(n,i),d=ec(n,i),g=tc(n,i),m=tc(n,i),w=tc(n,i),p=tc(n,i),y=Nc(Ic(n),i.nc,n.byteLength);return i.xb(y.byteLength),{Tw:hp.vD,QD:u,jD:e,mL:l,Mx:d,mN:g,yL:m,pL:w,o:p,wL:y}},t.hN=function(t){return pp.YD(t,hp.fD,!1)},t.sN=function(n){var i=n.Kk,r=n.SD,e=xc(Ic(i)).buffer,u=kp(tc(i,r)),s=u.version,o=u.flags,a=t.bL(i,r),c=[];if(s>0)for(var h=tc(i,r),f=0;f<h;f++){var v=za(i,r,16);c.push(v)}var l=tc(i,r),d=new I(e,r.nc,l);return r.xb(i.byteLength),{Tw:hp._D,jD:s,QD:o,AL:a,SL:c,TL:l,Kk:d,kL:e}},t.bL=function(t,n){for(var i="",r=0;r<4;r++){var e=Ga(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=Ga(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var a=Ga(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=Ga(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=Ga(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.aN=function(t){var n,i,r=t.Kk,e=t.SD,u=kp(tc(r,e)),s=u.version,o=u.flags,a=tc(r,e),c=tc(r,e);0===s?(n=sr.fromBits(tc(r,e),0,!0),i=sr.fromBits(tc(r,e),0,!0)):(n=ic(r,e),i=ic(r,e)),e.xb(2);for(var h=Qa(r,e),f=[],v=0;v<h;v+=1){var l=tc(r,e),d=l>>31&1,g=2147483647&l,m=tc(r,e),w=tc(r,e),p=w>>31&1,y=w>>28&7,_=268435455&w;f.push({EL:d,xL:g,ct:m,RL:p,IL:y,CL:_})}return{Tw:hp.mD,jD:s,QD:o,PL:a,mN:c,DL:n,NL:i,ML:h,LL:f}},t.oL=function(t){var n,i=t.Kk,r=t.SD,e=kp(tc(i,r)),u=e.version,s=e.flags;return n=0===u?sr.fromBits(tc(i,r),0,!0):ic(i,r),{Tw:hp.lD,jD:u,QD:s,aL:n}},t}();function Tp(t){return t&&"Hx"in t?t.Hx:t}U(),St(),Dt(),Ct(),U(),St();var Sp=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r,e)||this).HV=u,c.XV=s,c.zV=o,c.YV=a||void 0,c}return Rt(n,t),n.prototype.nF=function(t){return!!Og(this.GV,t.GV)&&(!!Og(this.ZV,t.ZV)&&(!!Og(this.OV,t.OV)&&(this.qV&&t.qV?!!this.qV.Lx(t.qV)&&(this.U&&t.U?this.U.Lx(t.U):this.U===t.U):this.qV===t.qV)))},xt(n,[{key:"GV",get:function(){return this.HV}},{key:"ZV",get:function(){return this.XV}},{key:"OV",get:function(){return this.zV}},{key:"qV",get:function(){return this.YV}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){return Mg(jm(t),{get extent(){return t.GV},get styles(){return t.ZV},get regions(){return t.OV},get metadata(){return Tp(t.qV)},get content(){return Tp(t.U)}})}(this)),this.eu}}]),n}(Jm);U(),St(),Dt();var Ep=function(){function t(t,n,i){this.jV=t,this.QV=n,eg(i)?this.Nf=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.Kx(u)}return i}(0,0,i):this.Nf=i}return xt(t,[{key:"KV",get:function(){return this.Nf.Bx(!0)}},{key:"WO",get:function(){return this.jV}},{key:"UO",get:function(){return this.QV}}]),t}();U(),St(),Wt();var Ip="http://www.w3.org/XML/1998/namespace";function Rp(t,n,i,r){var e=t.Gx(i,n);return 0===e.length&&(e=t.Wx(r+":"+n)),e}function Cp(t,n){return function(t,n){var i=t.m.slice(),r=[];for(;i.length>0;){var e,u=i.shift();if(n(u))r.push(u);else(e=i).push.apply(e,Ut(u.m))}return r}(t,(function(t){return t.Ux===n}))}function Np(t){for(var n={},i=0,r=t.Xx;i<r.length;i++){var e=r[i];n[e.Cx]=e.Mx}return n}var xp=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Dp=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Pp="http://www.w3.org/ns/ttml";function Mp(t,n,i,r){void 0===i&&(i=Sw),void 0===r&&(r=Ov.APPLICATION_TTML_XML);var e=[],u=Ec(t);return r===Ov.APPLICATION_MP4?e=function(t,n,i){var r=Ap.JD(t),e=mp(r,hp.fD);if(!e)return[];return Lp(Ec(e.Kk),n,i)}(u,n,i):r===Ov.APPLICATION_TTML_XML&&(e=Lp(u,n,i)),e}function Bp(t,n,i){return void 0===i&&(i=Sw),Fp(t,n,i)}function Op(t,n){for(var i=Xp(n.KV),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function Lp(t,n,i){return Fp(Ac(t,new Pc),n,i)}function Fp(t,n,i){var r,e=[];try{r=qn.Ix(t)}catch(t){return e}var u=r.$x;if("tt"!==u.Cx)return e;var s=u.Gx(Pp,"head")[0],o=u.Gx(Pp,"body")[0];if(!o||!s)return e;for(var a=Up(u.qx("tts:extent")),c=a?{width:a[0],height:a[1]}:void 0,h=function(t){for(var n={},i=t.Gx(Pp,"styling")[0],r=i&&i.Gx(Pp,"style")||[],e=0;e<r.length;e++){var u=r[e];n[u.Yx(Ip,"id")]=Np(u)}return n}(s),f=function(t){for(var n={},i=t.Gx(Pp,"layout")[0],r=i&&i.Gx(Pp,"region")||[],e=0;e<r.length;e++){var u=r[e],s=u.Yx(Ip,"id");if(s){n[s]=Np(u);var o=Zp(u);for(var a in o)Hn.call(o,a)&&(n[s][a]=o[a])}}return n}(s),v=a?function(t,n){for(var i=Bg(t),r=0,e=k.keys(i);r<e.length;r++){var u=e[r],s=Up(i[u].extent);if(s){var o=Vp(s[0],n[0]),a=Vp(s[1],n[1]);i[u].extent=o+" "+a}var c=Up(i[u].origin);if(c){var h=Vp(c[0],n[0]),f=Vp(c[1],n[1]);i[u].origin=h+" "+f}}return i}(f,a):f,l=s.Gx(Pp,"metadata")[0],d=Wp(o,i.MV,i.LV,i.BV),g=0;g<d.length;g++){var m=d[g],w=Op(v,m);e.push(new Sp(m.WO,m.UO,m.KV,!1,c,h,w,l))}return e}function Vp(t,n){return t/n*100+"%"}function Up(t){if(t){var n=t.split(" ",2);if(2===n.length){var i=nn(n,2),r=i[0],e=i[1];if(Gs(r,"px")&&Gs(e,"px"))return[Number(r.slice(0,-2)),Number(e.slice(0,-2))]}}}function Wp(t,n,i,r){var e,u=function(n){var i=function(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].WO,s=i[e].UO;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&r.push(i[e])}return r}(d[n],d[n+1],a);if(i.length<=0&&function(t){if(eg(t)){var n=t.Cx.toUpperCase(),i=Boolean(t.qx("smpte:backgroundImage"));return"BR"===n||i}return t.Rx===rg.Tk}(t)){var r=t.Bx(!1);c.push(new Ep(d[n],d[n+1],r))}else if(i.length>0){var e=t.Bx(!1);i.forEach((function(t){return e.Zx(t.KV)})),c.push(new Ep(d[n],d[n+1],e))}},s=n,o=i,a=[],c=[];if(eg(t)){var h,f;s=null!=(h=jp(t.qx("begin"),r))?h:s,e=jp(t.qx("dur"),0),o=null!=(f=jp(t.qx("end"),r))?f:void 0!==e?s+e:o;for(var v=t.Ox,l=0;l<v.length;l++)("body"===t.Cx||"div"===t.Cx)&&v[l].Rx>1||(a=a.concat(Wp(v[l],s,o,r)))}for(var d=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.WO,u.UO)}r.sort(fo);for(var s=r.length,o=0;o<s-1;o++)r[o+1]===r[o]&&(ko(r,o+1),o--,s=r.length);return r}(s,o,a),g=0;g<d.length-1;g++)u(g);return c}function jp(t,n){if(t){if(xp.test(t)){var i=xp.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*r+60*e+u+(s?Number(s)*A.pow(.1,s.length):0)+n}if(Dp.test(t)){var o=Dp.exec(t);if(!o)return;var a,c=Number(o[1]);switch(o[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;default:a=NaN}return a+n}}}function Zp(t){for(var n={},i=t.Wx("style")||[],r=0;r<i.length;r++){var e=Np(i[r]);for(var u in e)Hn.call(e,u)&&(n[u]=e[u])}return n}function Xp(t){var n,i=[];if(eg(t)){(n=t.qx("region"))&&i.push(n);for(var r=t.Ox,e=0;e<r.length;e++)i=i.concat(Xp(r[e]))}return i}function Gp(t){var n=function(t){try{return qn.Ix(t).$x}catch(t){}}(t);return"tt"===(null==n?void 0:n.Cx)}U(),St(),Gt(),Ct(),Jt(),U(),St();var Hp=function(t){return t.Mh="disabled",t.LC="hidden",t.Qn="showing",t}({});function zp(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case"disabled":case"hidden":case"showing":return n}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}U(),St(),Ct(),U(),St(),U(),St();var Yp=function(t){return t.fa="error",t}({});function Kp(){}function qp(t){var n,i=[Cg.da,Cg.oC,Cg.HI,Cg.XI,Cg.KI,Cg.QI,Cg.qI,Cg.$I,Cg.iC,Cg.nC],r=[Yp.fa],e={get kind(){return t.Lt},get label(){return t.Ch},set label(n){t.Ch=Gg(n)},get language(){return t.gs},get id(){return t.o},get uid(){return t.IC},get inBandMetadataTrackDispatchType(){return t.BC},get mode(){return t.CE},set mode(n){n!==Hp.Qn&&n!==Hp.LC&&n!==Hp.Mh||t.OC(n)},get forced(){return Boolean(t.FC)},get accessibility(){var n,i;return null!=(i=null==(n=t.DC)?void 0:n.map(Jg))?i:[]},get type(){return t.Tw},get readyState(){return t.rI},get cues(){return t.CE===Hp.Mh?null:t.L.wa},get activeCues(){return t.CE===Hp.Mh?null:t.q.wa},get src(){return t.VC||""},addEventListener:function(t,i){var r=zg(t,Gg);n.bn(r,i)},removeEventListener:function(t,i){var r=zg(t,Gg);n.vn(r,i)}};return n=new ca(t),t.bn(i,(function(t){return n._o(t.wa)})),t.bn(r,(function(t){return n._o(t)})),k.defineProperty(e,"constructor",{value:Kp}),e}function Jp(){}function Qp(t){var n=Kg(t);return k.defineProperty(n,"constructor",{value:Jp}),n}var $p=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.it=function(n){var i=t.prototype.it.call(this,n);return i&&(n.CE=Hp.Mh),i},i.ka=function(){return Qp(this)},n}(Ng);U(),St(),U(),St();var ty=function(t){return t.JV="subtitles",t.$V="captions",t.tW="descriptions",t.Jn="chapters",t.eW="metadata",t.iW="thumbnails",t}({}),ny=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function iy(t){return"string"==typeof t&&To(ny,t)}function ry(t,n){return!(!iy(t)||!iy(n))&&(t===n||"subtitles"===t&&"captions"===n||"captions"===t&&"subtitles"===n)}U(),St(),Ct();var ey=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=r,s.status=e,s}return Rt(n,t),n}(ol);function uy(t){return t===ty.JV||t===ty.$V}function sy(t){return t.some(oy)}function oy(t){return Zs(t,"stpp")}function ay(t){return t.some(cy)}function cy(t){return Zs(t,"vtt")||Zs(t,"wvtt")}function hy(t,n){return Lv(t)&&ay(n)}function fy(t,n){return t===ty.iW||t===ty.eW&&n===ty.iW}function vy(t,n,i,r){for(var e=0,u=t.L.lC;e<u.length;e++){var s=u[e];if(s.WO>i)break;n<=s.UO&&!To(r,s)&&r.push(s)}}function ly(t,n){return ho(t.IC,n.IC)}function dy(t,n,i,r){var e=function(t){switch(t){case Dm.WEBVTT:return"WebVTT";case Dm.SRT:return"SRT";case Dm.TTML:return"TTML";default:return""}}(t);return new ey(ul.SUBTITLE_PARSE_ERROR,"Could not parse the "+(e?e+" ":"")+"subtitle file.",n,i,r)}function gy(t,n){for(var i=[],r=0,e=t.L.lC;r<e.length;r++){var u=e[r];if(u.UO<=n)i.push(u);else if(u.WO>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.sW(o)}}function my(t,n){if(t.V>0)for(var i=t.Sn(0),r=A.max(0,i-10),e=0;e<n.length;e++){n[e].nW(r)}}var wy=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Z=new $p,n.rW=function(t){var i=t.Ht;n.oW(i)},n}Rt(n,t);var i=n.prototype;return i.tt=function(t){t.bn(Cg.da,this.rW),this.Z.tt(t),this.oW(t)},i.it=function(t){t.vn(Cg.da,this.rW),t.CE=Hp.Mh,this.Z.it(t)},i.hW=function(t){},i.aW=function(t){},i.oW=function(t){t.CE!==Hp.Mh?this.hW(t):this.aW(t)},i.uW=function(){for(var t=0,n=this.Z.lC;t<n.length;t++){var i=n[t];i.vn(Cg.da,this.rW),i.yn()}},i.nW=function(t){if(t>0)for(var n=0,i=this.Z.lC;n<i.length;n++){gy(i[n],t)}},i.nr=function(){return this.uW(),this.Z.nr(),ut.resolve()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),[4,t.nr()];case 1:return n.sent(),t.Z.yn(),[2]}}))}))()},n}(aa);U(),St(),Dt(),Ct();var py=function(t){function n(n){var i;return(i=t.call(this,Yp.fa)||this).errorObject=n,i}return Rt(n,t),n.prototype.ka=function(){return this},xt(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(_g),yy=function(t){function n(n,i){var r;return(r=t.call(this)||this).vW=new Qo,r.lW=n,r.fW=i,r}Rt(n,t);var i=n.prototype;return i.cW=function(t){if(t.src){var n=t.kind||ty.JV,i=this.lW.OI(n,t.id,t.label,t.srclang,t.default);return i.VC=kd(t.src),this.tt(i),i}},i.dW=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v;return Ht(this,(function(l){switch(l.label){case 0:t.rI=xm.LOADING,r=new wd({Xu:t.VC,jk:Dl.Tk,AE:vd.GET,Uw:n}),l.label=1;case 1:return l.trys.push([1,4,,5]),[4,i.fW.Qk(r)];case 2:return s=l.sent(),u=s.Yk,[4,s.Ck()];case 3:return e=l.sent(),[3,5];case 4:return Xo(o=l.sent()),t.rI=xm.ERROR,t._o(new py(function(t,n){var i=n,r=0;if(Zd(t)&&t.name===Id.GE)i=t.Qk.Xu;else if(Xd(t)){var e=t.zE;if(i=e.eE,0===(r=e.Yk))return new ey(ul.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",i,r,t)}return new ey(ul.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",i,r,t)}(o,t.VC))),[2];case 5:try{for(a=function(t){return zw(t)?Dm.WEBVTT:Gp(t)?Dm.TTML:Dm.SRT}(e),t.Tw=a,c=[],a===Dm.WEBVTT||a===Dm.SRT?(h=Bw(e),c=h.L):a===Dm.TTML&&(c=Bp(e,t)),f=0;f<c.length;f++)v=c[f],t._W(v)}catch(n){return Xo(n),t.rI=xm.ERROR,t._o(new py(dy(t.Tw,t.VC,u,n))),[2]}return t.rI=xm.LOADED,[2]}}))}))()},i.hW=function(t){To(this.Z.lC,t)&&t.rI===xm.NONE&&this.dW(t,this.vW.Uw).catch(Go)},i.$n=function(){},i.nr=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:for(n.vW.jw(),n.vW=new Qo,i=0,r=n.Z.lC;i<r.length;i++)e=r[i],n.lW.mW(e);return[4,t.prototype.nr.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(wy);function _y(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Lt===n&&r.gW)return r}}function by(t,n){ky(_y(t.lC,n))}function ky(t){void 0!==t&&(t.CE=Hp.Qn)}function Ay(t,n){var i=_y(t.lC,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Lt===n)return r}}(t.lC,n);ky(i)}function Ty(t){for(var n=0;n<ny.length;n++){var i=ny[n];i===ty.Jn?Ay(t,i):by(t,i)}}U(),St(),U(),St(),Ct();var Sy=function(t){function n(){return t.call(this,va.jy)||this}return Rt(n,t),n}(fa);U(),St(),U(),St();var Ey=function(t){return t[t.pW=0]="pW",t[t.wW=1]="wW",t}({});U(),St();var Iy=function(t){return t.BL="canplay",t.OL="canplaythrough",t.FL="loadeddata",t.VL="loadedmetadata",t.iC="readystatechange",t.WL="waiting",t.UL="playing",t}({}),Ry=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"];U(),St(),Dt(),Ct(),U(),St(),Ct();var Cy=function(t){function n(n,i){var r;return(r=t.call(this,Iy.iC)||this).currentTime=n,r.readyState=i,r}return Rt(n,t),n}(fa);U(),St();var Ny=function(t){return t[t.eO=0]="eO",t[t.Xn=1]="Xn",t[t.iO=2]="iO",t[t.sO=3]="sO",t[t.nO=4]="nO",t}({});U(),St(),Ct();var xy=function(t){function n(n,i){var r;return void 0===i&&(i=Ny.Xn),(r=t.call(this,Iy.VL)||this).currentTime=n,r.readyState=i,r}return Rt(n,t),n}(fa);U(),St(),Ct();var Dy=function(t){function n(n,i){var r;return void 0===i&&(i=Ny.iO),(r=t.call(this,Iy.FL)||this).currentTime=n,r.readyState=i,r}return Rt(n,t),n}(fa);U(),St(),Ct();var Py=function(t){function n(n){var i;return(i=t.call(this,Iy.WL)||this).currentTime=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var My=function(t){function n(n,i){var r;return void 0===i&&(i=Ny.sO),(r=t.call(this,Iy.BL)||this).currentTime=n,r.readyState=i,r}return Rt(n,t),n}(fa);U(),St(),Ct();var By=function(t){function n(n,i){var r;return void 0===i&&(i=Ny.nO),(r=t.call(this,Iy.OL)||this).currentTime=n,r.readyState=i,r}return Rt(n,t),n}(fa);U(),St(),Ct();var Oy=function(t){function n(n){var i;return(i=t.call(this,Iy.UL)||this).currentTime=n,i}return Rt(n,t),n}(fa),Ly=[Iy.iC,Iy.UL,va.ho,va.zy],Fy=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).AW=n,r.xW=i,r.RW=Ny.eO,r.MW=!0,r.kW=!1,r.bW=!1,r.FW=function(t){var n=r.AW.rI;n!==r.RW&&r._o(new Cy(t.currentTime,n)),n===Ny.eO&&(r.kW=!1,r.bW=!1),r.yW(n),r.TW(n),r.NW(n),r.maybeDispatchCanPlayThroughEvent(n),r.EW(n),r.PW(n),r.RW=n},r.BW=function(){r.PW(r.RW),r.EW(r.RW),r.MW=r.AW.KR},r.OW=function(){r.MW=r.AW.KR},r.LW=function(t){r._o(new Oy(t.currentTime))},r.AW.bn(Iy.iC,r.FW),r.AW.bn(va.ho,r.BW),r.AW.bn(va.zy,r.OW),r.xW&&r.AW.bn(Iy.UL,r.LW),r}Rt(n,t);var i=n.prototype;return i.yW=function(t){!this.bW&&t>=Ny.Xn&&(this.bW=!0,this._o(new xy(this.AW.ER,t)))},i.TW=function(t){!this.kW&&t>=Ny.iO&&(this.kW=!0,this._o(new Dy(this.AW.ER,t)))},i.EW=function(t){this.xW||(t>=Ny.sO&&this.RW<Ny.sO&&!this.AW.KR||this.IW&&t>=Ny.sO)&&this._o(new Oy(this.AW.ER))},i.PW=function(t){!this.DW(t)||this.AW.PR||this.AW.lt||this._o(new Py(this.AW.ER))},i.NW=function(t){this.RW<=Ny.iO&&t>=Ny.sO&&this._o(new My(this.AW.ER,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===Ny.nO&&this._o(new By(this.AW.ER,t))},i.DW=function(t){var n=!this.AW.KR&&t<=Ny.iO,i=!this.MW&&this.RW<=Ny.iO;return n&&!i},i.nr=function(){this.RW=Ny.eO,this.MW=!0,this.kW=!1,this.bW=!1},i.yn=function(){this.Ro(),this.xW&&this.AW.vn(Iy.UL,this.LW),this.AW.vn(va.ho,this.BW),this.AW.vn(va.zy,this.OW),this.AW.vn(Iy.iC,this.FW)},xt(n,[{key:"IW",get:function(){return!this.AW.KR&&this.MW}}]),n}(aa),Vy=function(t){function n(n){var i;return(i=t.call(this)||this).AW=n,i.AW.bn(Ly,i.Ds),i}return Rt(n,t),n.prototype.Xw=function(){this.Ro(),this.AW.vn(Ly,this.Ds)},xt(n,[{key:"ER",get:function(){return this.AW.ER}},{key:"PR",get:function(){return this.AW.PR}},{key:"lt",get:function(){return this.AW.lt}},{key:"KR",get:function(){return this.AW.KR}},{key:"rI",get:function(){return this.AW.rI}}]),n}(aa);U(),St(),U(),St();var Uy="titanium",Wy="conax",jy="ezdrm",Zy="irdeto",Xy="vudrm",Gy="verimatrix",Hy="keyos",zy="drmtoday",Yy="expressplay",Ky="azure",qy="xstream",Jy="vimond",Qy="axinom",$y="uplynk",t_="comcast",n_="custom";U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Jt();var i_=function(){function t(t,n,i,r,e){this.WW=void 0,this.cT=t,this.hU=n,this.aU=i,this.fW=r,this.oU=e,this.XW=this.uU(n)}var n=t.prototype;return n.VW=function(){return this.WW},n.UW=function(t){this.WW=t},n.zW=function(){return this.XW.licenseAcquisitionURL||this.VW()},n.YW=function(t){return ut.resolve()},n.KW=function(t,n){return ut.resolve(void 0)},n.jW=function(t,n,i,r){var e=this;return Zt((function(){var u,s;return Ht(this,(function(o){switch(o.label){case 0:if(""===(u=e.QW(t,n,i,r)).Xu)throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");o.label=1;case 1:return o.trys.push([1,4,,6]),[4,e.fR.Qk(u)];case 2:return[4,o.sent().Pk(n)];case 3:return[2,o.sent()];case 4:return Xo(s=o.sent()),[4,e.JW(s,u.Xu,r)];case 5:return o.sent(),[2];case 6:return[2]}}))}))()},n.QW=function(t,n,i,r){var e=this.$W().Ek(),u=this.xE,s={Xu:this.tU(),jk:n,Jk:e,Lk:t,xE:u,AE:vd.POST,SE:0,Uw:r,Tw:ld.oE,kE:i};return new wd(s)},n.eU=function(t,n){return ut.resolve(t)},n.iU=function(t,n,i,r){return ut.resolve(t)},n.$W=function(){return new Pl(this.XW.headers||{})},n.JW=function(t,n,i){return Zt((function(){return Ht(this,(function(n){throw new um(ul.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)}))}))()},n.tU=function(t,n){var i=n,r=this.XW.queryParameters;if(!i){var e=this.zW();if(!e)return"";i=e}if(r||t){var u=qn.Ih(i);t&&bd(u,t),r&&bd(u,r),i=u.href}return i},n.sU=function(t,n){return r_(t)},n.nU=function(t){return new I(t)},n.rU=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,r.sU(t,i)];case 1:return e=s.sent(),[4,r.jW(e,r.oU,n,i)];case 2:return u=s.sent(),[2,r.nU(u)]}}))}))()},n.yn=function(){},xt(t,[{key:"fR",get:function(){return this.fW}},{key:"GW",get:function(){return!1}},{key:"ZW",get:function(){var t=this.XW.certificate;if(t)return ni(t)?Ea(t):Cc(t)}},{key:"qW",get:function(){return!1}},{key:"xE",get:function(){return Boolean(this.XW.useCredentials)}}]),t}();function r_(t){return ut.resolve(xc(t).buffer)}var e_,u_=function(t){function n(n,i,r,e){return t.call(this,Bs,n,i,r,e)||this}Rt(n,t);var i=n.prototype;return i.uU=function(t){return t.widevine||{}},i.cU=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return i.ZW?[2,i.ZW]:[2,i.lU(new I(t),n)]}))}))()},i.lU=function(n,i){return t.prototype.rU.call(this,n,dd.cE,i)},n}(i_);function s_(t,n){if(null==t)return{};var i,r,e={},u=k.keys(t);for(r=0;r<u.length;r++)i=u[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function o_(t){return Yn(t.token&&t.deviceId)}function a_(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&Yn(i.PreAuthorization)}function c_(t){var n=t;return o_(n)&&""!==n.token&&""!==n.deviceId&&!a_(n)}U(),St(),U(),St(),Gt(),on(),U(),St(),Jt(),U(),St(),U(),St(),U(),St(),function(t){t.eP=!1,t.iP=!1,t.sP=!1,t.nP=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.rP=!1,t.oP=!1,t.LOG_LCEVC_DETAILS=!1}(e_||(e_={})),U(),St(),Dt();var h_=function(){function t(t,n,i){this.aP=t,this.nT=n,this.cP=i}return t.prototype.uP=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new _("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new _("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new _("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new _("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new _("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.cP.build(t))},xt(t,[{key:"hP",get:function(){return this.aP}},{key:"cT",get:function(){return this.nT}}]),t}();U(),St();var f_=function(t){return t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED",t}({}),v_=function(){function t(){this.dP=[]}var n=t.prototype;return n.registerContentProtectionIntegration=function(t,n,i){switch(this.lP(t,n,i)){case f_.FAILED:throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+n+".");case f_.OVERRIDDEN:var r=C_(n);qn.Vp("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case f_.SUCCEEDED:C_(n);0}},n.lP=function(t,n,i){var r=C_(n);if(!r)return f_.FAILED;for(var e=f_.SUCCEEDED,u=0,s=this.dP.slice();u<s.length;u++){var o=s[u];o.hP===t&&o.cT===r&&(e=f_.OVERRIDDEN,bo(this.dP,o))}return this.dP.push(new h_(t,r,i)),e},n.fP=function(t,n){return void 0!==this._P(t,n)},n.vP=function(t,n,i){var r=this._P(t,n);if(!r)throw y("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.uP(i)},n._P=function(t,n){for(var i=0,r=this.dP;i<r.length;i++){var e=r[i];if(e.hP===t&&(!n||e.cT===n))return e}},t}();v_.mP=new v_;var l_={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function d_(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters;return!(n||i||r||e||u||s)}function g_(t){return t&&void 0!==t.licenseAcquisitionURL}var m_=g_,w_=g_;function p_(t){if(!t)return!0;if(k_(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return d_(n)&&d_(i)&&d_(r)&&void 0===e&&d_(u)}function y_(t){var n=c_(t),i=function(t){var n,i=t;return a_(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!o_(i)}(t);return(!n||!i)&&(n||i)}function __(t){return t.integration===Zy}function b_(t){var n=t;if(!n)return!1;if(p_(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(k_(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!m_(r))return!1;if(e&&!w_(e))return!1;if(u&&!function(t){return void 0!==t}(u))return!1;if(n.integration){if(v_.mP.fP(n.integration))return!0;switch(n.integration){case Uy:if(!function(t){var n=t,i=n.integration===Uy;return i&&(A_(t)||T_(t))}(t))return!1;break;case Xy:if(!S_(t))return!1;break;case Gy:if(!function(t){var n=t;return n.integration===Gy}(t))return!1;break;case Zy:if(!__(t))return!1;break;case Wy:if(!y_(t))return!1;break;case jy:if(!function(t){var n=t;return n.integration===jy}(t))return!1;break;case Hy:if(!k_(t))return!1;break;case zy:if(!function(t){var n=t;return n.integration===zy&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Yy:if(!function(t){var n=t;return n.integration===Yy}(t))return!1;break;case qy:if(!E_(t))return!1;break;case Jy:if(!function(t){return t.integration===Jy}(t))return!1;break;case Qy:if(!I_(t))return!1;break;case Ky:if(!function(t){var n=t;return n.integration===Ky&&void 0!==n.token}(t))return!1;break;case $y:if(!function(t){var n=t;return n.integration===$y}(t))return!1;break;case t_:if(!function(t){var n=t;return n&&Yn(n.releasePid)&&Yn(n.accountId)&&Yn(n.token)}(t))return!1;break;case n_:return!0;default:return!1}}return!0}function k_(t){return t.integration===Hy}function A_(t){return void 0!==t.authToken}function T_(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function S_(t){var n=t;return n.integration===Xy&&void 0!==n.token}function E_(t){var n=t;return n&&n.integration===qy&&ni(n.ticketAcquisitionURL)&&ni(n.streamId)}function I_(t){var n=t;return n.integration===Qy&&void 0!==n.token}function R_(t,n){var i,r,e,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:l_[t],o=null!=(r=null==u?void 0:u.customdata)?r:n.customdata,a=o?{customData:o}:{},c=ss({},null!=(e=null==u?void 0:u.headers)?e:{},a),h=null!=u?u:{};h.customdata;return ss({},s_(h,["customdata"]),{licenseAcquisitionURL:s,headers:c})}function C_(t){switch(t.toLowerCase()){case"widevine":case Ts:return Ts;case"playready":case bs:return bs;case"fairplay":case Cs:return Cs}}function N_(t,n){switch(t){case ws:return function(t){for(var n={},i=Ap.iN(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.AL]=e.kL}return n}(n);case ps:case ys:return function(t){return sn({},Rs,t)}(n);default:throw new ol(ul.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}function x_(t){return D_.apply(this,arguments)}function D_(){return D_=Zt((function(t,n){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return void 0===n&&(n=!1),(i=t.widevine)?[4,qn.Kp()]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return i?[2,!0]:(r=t.playready)?[4,qn.Yp()]:[3,4];case 3:r=s.sent(),s.label=4;case 4:return r?[2,!0]:(e=t.clearkey)?[4,qn.zp()]:[3,6];case 5:e=s.sent(),s.label=6;case 6:return e?[2,!0]:(u=!n&&t.fairplay)?[4,qn.qp()]:[3,8];case 7:u=s.sent(),s.label=8;case 8:return u?[2,!0]:[2,!1]}}))})),D_.apply(this,arguments)}var P_=function(t){return t.ww="Widevine",t.dU="PlayreadyV2",t.fU="PlayreadyV3",t.pw="PlayreadyV2",t.Aw="Fairplay",t}({}),M_={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function B_(t,n){var i,r,e,u,s=M_[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=qn.Jp)?void 0:i.Ys,OSVersion:null==(r=qn.Jp)?void 0:r.lw,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(e=qn.Jp)?void 0:e.dw,DeviceModel:null==(u=qn.Jp)?void 0:u.fw}}}function O_(t,n){if(!t.accountName)throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, accountName is not set.");if(!t.customerName)throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, customerName is not set.");if(!t.portalId)throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, portalId is not set.");throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration.")}function L_(t,n,i){var r;if(A_(t))r={AuthToken:t.authToken,Payload:n};else{if(!T_(t))throw O_(t,i);r={LatensRegistration:B_(t,i),Payload:n}}return Hc(JSON.stringify(r))}function F_(t,n,i){return V_.apply(this,arguments)}function V_(){return V_=Zt((function(t,n,i){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(!(r=t.zE))throw new um(ul.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n);e=r,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.Ik(i)];case 2:return u=o.sent(),s=function(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}return}(u),[3,4];case 3:return o.sent(),s="",[3,4];case 4:throw new um(ul.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,e.Qk.Xu,e.Yk,e.$k,s)}}))})),V_.apply(this,arguments)}U(),St(),Gt(),Jt();var U_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Dl.Ak)||this).vU=void 0,e}Rt(n,t);var i=n.prototype;return i.JW=function(t,n,i){return F_(t,n,i)},i.YW=function(t){return this.vU?Ho(this.vU.Ub,t):(this.vU=new Kc,ut.resolve())},i.sU=function(t,n){var i=this;return Zt((function(){var n,r;return Ht(this,(function(e){if(!(n=i.hU))throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return r=Ca(t),[2,L_(n,r,P_.ww)]}))}))()},i.nU=function(t){if(!t.license)throw new um(ul.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Ea(t.license)},i.mU=function(t){return ut.resolve(new I(t))},i.cU=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return i.gU(),[4,i.sU(t,n)];case 1:return r=u.sent(),[4,i.jW(r,Dl.bk,dd.lE,n)];case 2:return e=u.sent(),[4,i.mU(e)];case 3:return[2,u.sent()]}}))}))()},i.lU=function(n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return[4,t.prototype.lU.call(r,n,i)];case 1:return e=u.sent(),r.gU(),[2,e]}}))}))()},i.gU=function(){this.vU||(this.vU=new Kc),this.vU.Vb()},i.yn=function(){this.vU&&this.vU.jw(),t.prototype.yn.call(this)},n._U=function(){return qn.Ys.sp?"required":"optional"},n}(u_);U(),St(),Gt(),Dt(),Ct(),Jt();var W_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Dl.bk)||this).UW("https://widevine-proxy.drm.technology/proxy"),e}return Rt(n,t),n.prototype.sU=function(t,n){var i=this;return Zt((function(){var n,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,r_(t)];case 1:if(n=s.sent(),r=i.aU,e=Dc(new I(n)),void 0===(u=i.pU))throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return[2,JSON.stringify({token:u,drm_info:e,kid:r})]}}))}))()},xt(n,[{key:"pU",get:function(){if(S_(this.hU))return this.hU.token}}]),n}(u_);function j_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=ss({},i,{SessionId:t.sessionId,Ticket:t.ticket})),ss({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}U(),St(),Ct(),U(),St();var Z_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Dl.bk)||this).UW("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}return Rt(n,t),n.prototype.tU=function(n,i){var r=n;return __(this.hU)&&(r=j_(this.hU,r)),t.prototype.tU.call(this,r,i)},n}(u_);U(),St(),Ct(),U(),St();var X_="Conax-Custom-Data";function G_(t,n,i){var r=t&&y_(t)&&t;if(r&&!i.has(X_)){var e=c_(r)?r.token:void 0,u=c_(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(X_,s)}return i}var H_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Dl.bk)||this).UW("https://connect.conax.com:8094/license"),e}return Rt(n,t),n.prototype.$W=function(){var n=t.prototype.$W.call(this);return G_(this.hU,"Widevine",n)},n}(u_);function z_(t){var n=gc(new I(t));return Ea(JSON.parse(n).license)}function Y_(t){return"string"==typeof t.token?t.token:Hc(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function K_(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}U(),St(),Dt(),Ct(),U(),St();var q_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Dl.bk)||this).UW("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}Rt(n,t);var i=n.prototype;return i.nU=function(t){return z_(t)},i.$W=function(){return K_(t.prototype.$W.call(this),this.pU,this.hU)},xt(n,[{key:"pU",get:function(){return Y_(this.hU)}}]),n}(u_);U(),St(),Ct();var J_=function(t){function n(n,i,r){return t.call(this,n,i,r,Dl.bk)||this}return Rt(n,t),n.prototype.$W=function(){var n=t.prototype.$W.call(this),i=this.hU.token;return n.set("Authorization","Bearer "+i),n},n}(u_);function Q_(t,n,i,r){return $_.apply(this,arguments)}function $_(){return $_=Zt((function(t,n,i,r){var e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(!E_(t))throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");return(e=new Pl).append("Cache-Control","no-cache"),e.append("Content-Type","application/json"),(u=t.sessionId)&&e.append("XSSESSION",u),s=t.streamId,o=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:n,licenseType:o,streamId:s},c={Xu:t.ticketAcquisitionURL,jk:Dl.Ak,Jk:e,AE:vd.POST,Lk:JSON.stringify(a),Uw:r},[4,i.Qk(c)];case 1:return[4,h.sent().Ik()];case 2:return[2,h.sent()]}}))})),$_.apply(this,arguments)}U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Jt();var tb=function(t){function n(n,i,r){return t.call(this,n,i,r,Dl.Ak)||this}Rt(n,t);var i=n.prototype;return i.$W=function(){var n=t.prototype.$W.call(this);return n.set("Content-Type","application/json"),n},i.sU=function(n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return e=Gc(n.buffer),[4,Q_(r.hU,"widevine_modular",r.fR,i)];case 1:return u=o.sent(),r.UW(u.licenseServerUrl),s=mc(JSON.stringify({payload:e,ticket:u.ticket})),[2,t.prototype.sU.call(r,s,i)]}}))}))()},i.nU=function(t){return Ea(t.license)},n}(u_);U(),St(),Ct();var nb=function(t){function n(n,i,r){return t.call(this,n,i,r,Dl.bk)||this}return Rt(n,t),n.prototype.$W=function(){if(!I_(this.hU))throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.$W.call(this);return n.set("X-AxDRM-Message",this.hU.token),n},n}(u_);function ib(t){for(var n=new I(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}U(),St(),Gt(),Ct(),Jt();var rb=function(t){function n(n,i,r){var e;return(e=t.call(this,Ms,n,i,r,Dl.bk)||this).wU=void 0,e}Rt(n,t);var i=n.prototype;return i.uU=function(t){return t.playready||{}},i.$W=function(){var n=new Pl(this.wU);return n.Rk(t.prototype.$W.call(this)),n},i.yU=function(t){return t.length>=1&&t[0].Ox.length>0},i.KW=function(n){var i=this.hU.playready.customData;if(i){var r=ib(i),e=ib('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Ca(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return ut.resolve({playready:{ET:e}})}return t.prototype.KW.call(this,n)},i.sU=function(t,n){var i=this;return Zt((function(){var n;return Ht(this,(function(r){switch(r.label){case 0:return[4,r_(t)];case 1:return n=r.sent(),[2,i.bU(n)]}}))}))()},i.bU=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d,g,m,w;return Ht(this,(function(p){e=null,u=new DataView(t),s=vc(u,new Pc,!0);try{o=qn.Ix(s)}catch(t){return[2,e]}for(a=null==(i=o.Wx("PlayReadyKeyMessage")[0])?void 0:i.Wx("LicenseAcquisition")[0],h=null!=(c=null==a?void 0:a.Wx("Challenge"))?c:[],n.yU(h)&&(e=Xc(h[0].zx)),f=new Pl,l=null!=(v=null==a||null==(r=a.Wx("HttpHeaders")[0])?void 0:r.Wx("HttpHeader"))?v:[],d=0;d<l.length;d++)g=l[d],m=g.Wx("name")[0].zx,w=g.Wx("value")[0].zx,f.append(m,w);return n.wU=f,[2,e]}))}))()},i.cU=function(t,n){return ut.resolve(t)},i.lU=function(n,i){return t.prototype.rU.call(this,n,dd.dE,i)},n}(i_);U(),St(),Gt(),Ct(),Jt(),U(),St(),Dt();var eb=function(){function t(n){this.TU=n,this.IS=t.AU(n)}return t.prototype.SU=function(){var t={};if(this.IS===P_.fU){var n={LatensRegistration:B_(this.TU,P_.fU)};t["X-TITANIUM-DRM-CDATA"]=Hc(JSON.stringify(n))}return t},t.AU=function(t){return"3"===t.version?P_.fU:P_.dU},xt(t,[{key:"kU",get:function(){return this.IS}},{key:"wT",get:function(){return this.IS===P_.dU}}]),t}();var ub=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).EU=new eb(e.hU),e}Rt(n,t);var i=n.prototype;return i.KW=function(t){var n=this.hU;if(!this.hU)throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(T_(n)){var i={};return i.playready={ET:sb(n,this.EU.kU)},ut.resolve(i)}return ut.reject(O_(n,P_.pw))},i.$W=function(){var n=new Pl(this.EU.SU());return n.Rk(t.prototype.$W.call(this)),n},i.JW=function(t,n,i){return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:if(!(r=t.zE))throw new um(ul.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n);f.label=1;case 1:return f.trys.push([1,3,,4]),[4,r.Dk(i)];case 2:return s=f.sent(),o=gc(new I(s)),(a=qn.Ix(o))&&(c=Cp(a,"CustomData")).length>0&&(e=JSON.parse(c[0].zx),u=null==(h=e.DrmErr)?void 0:h.desc),[3,4];case 3:return f.sent(),[3,4];case 4:throw new um(ul.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n,r.Yk,r.$k,u)}}))}))()},i.yU=function(t){if(1!==t.length)throw new um(ul.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},n}(rb);function sb(t,n){var i=B_(t,n),r=i.DeviceInfo.FormatVersion,e=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}(function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}("<TitaniumCustomData>"+Hc('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>")+"</TitaniumCustomData>")),u=pc(e,!0);return pc('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Ca(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}U(),St(),Dt(),Ct();var ob=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).UW("https://playready-license.drm.technology/rightsmanager.asmx"),e}Rt(n,t);var i=n.prototype;return i.yU=function(t){if(1!==t.length)throw new um(ul.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},i.tU=function(n,i){var r=ss({},n||{},{token:this.pU});return t.prototype.tU.call(this,r,i)},xt(n,[{key:"pU",get:function(){if(S_(this.hU))return this.hU.token}}]),n}(rb);U(),St(),Ct();var ab=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).UW("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return Rt(n,t),n.prototype.tU=function(n,i){var r=n;return __(this.hU)&&(r=j_(this.hU,r)),t.prototype.tU.call(this,r,i)},n}(rb);U(),St(),Ct();var cb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).UW("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return Rt(n,t),n.prototype.$W=function(){var n=t.prototype.$W.call(this);return G_(this.hU,"PlayReady",n)},n}(rb);U(),St(),Dt(),Ct();var hb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).UW("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}Rt(n,t);var i=n.prototype;return i.nU=function(n){var i=function(t){var n=gc(new I(t));return Xs(n,"<?xml")?0:1}(n);return 1===i?z_(n):t.prototype.nU.call(this,new I(n))},i.$W=function(){return K_(t.prototype.$W.call(this),this.pU,this.hU)},xt(n,[{key:"pU",get:function(){return Y_(this.hU)}}]),n}(rb);U(),St(),Gt(),Ct(),Jt();var fb=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}Rt(n,t);var i=n.prototype;return i.$W=function(){var n=t.prototype.$W.call(this);return this.xU&&n.set("Ticket",this.xU),n.set("Content-Type","text/xml"),n},i.sU=function(n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return[4,Q_(r.hU,"playready",r.fR,i)];case 1:return e=u.sent(),r.UW(e.licenseServerUrl),r.xU=e.ticket,[2,t.prototype.sU.call(r,n,i)]}}))}))()},n}(rb);U(),St(),Ct();var vb=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.$W=function(){if(!I_(this.hU))throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.$W.call(this);return n.set("X-AxDRM-Message",this.hU.token),n},n}(rb);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var lb=function(t){return t.Ak="application/json",t.RU="application/x-www-form-urlencoded",t.IU="application/octet-stream",t.Tk="text/plain;charset=UTF-8",t}({}),db=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n.cT,i,r,e,u)||this).MU="",s.PU=void 0,s.OU=n.WU,s}Rt(n,t);var i=n.prototype;return i.CU=function(){return this.XW.certificateURL||this.PU},i.DU=function(t){this.PU=t},i.sU=function(t){return ut.resolve(this.NU(t,this.MU))},i.NU=function(t,n){return"spc="+encodeURIComponent(Ca(t))+"&assetId="+encodeURIComponent(n)},i.uU=function(t){return t.fairplay||{}},i.BU=function(t){var n=t.indexOf("?");if(n>=0)return ut.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return ut.resolve(i)}var r=t.split("/");return ut.resolve(r[r.length-1])},i.KW=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=null!=(i=n.OU)?i:bc(new I(t)),[4,n.BU(r)];case 1:return e=s.sent(),n.MU=e,(u={}).fairplay={BT:e},[2,u]}}))}))()},i.$W=function(){var n=t.prototype.$W.call(this);return n.set("Content-Type",this.LU),n},i.cU=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return i.ZW?[2,i.ZW]:[4,i.FU(n)];case 1:return[2,t.sent()]}}))}))()},i.lU=function(n,i){return t.prototype.rU.call(this,n,dd.aE,i)},i.VU=function(t){var n=this.CU(),i=this.$W(),r={Xu:n,jk:Dl.bk,Jk:i,AE:vd.GET,xE:!1,Lk:null,SE:0,Uw:t,Tw:ld.oE,kE:dd.uE};return new wd(r)},i.FU=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i=n.VU(t),[4,n.fR.Qk(i)];case 1:return[4,e.sent().Dk()];case 2:return r=e.sent(),[2,new I(r)]}}))}))()},i.nU=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Ea(i)}else n=new I(t);return n},i.tU=function(n,i){var r=t.prototype.tU.call(this,n,i);return Xs(r,"skd:")&&(r=r.substr(4)),r},xt(n,[{key:"qW",get:function(){return!0}},{key:"LU",get:function(){return lb.RU}}]),n}(i_);U(),St(),Gt(),Dt(),Ct(),Jt();var gb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Dl.bk)||this}Rt(n,t);var i=n.prototype;return i.BU=function(n){var i=n.split("://",1);return"skd"!==i[0].slice(-3).toLowerCase()?ut.resolve(""):(i=n.split(";",2)).length>1?ut.resolve(i[1]):ut.resolve(t.prototype.BU.call(this,n))},i.sU=function(t){return Zt((function(){return Ht(this,(function(n){return[2,t]}))}))()},i.nU=function(t){return new I(t)},i.tU=function(n,i){var r=n||{};return r.p1=yr(),t.prototype.tU.call(this,r,i)},xt(n,[{key:"LU",get:function(){return lb.IU}}]),n}(db);U(),St(),Dt(),Ct();var mb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Dl.bk)||this).UW("https://fairplay-license.drm.technology/license"),u.DU("https://fairplay-license.drm.technology/certificate"),u}Rt(n,t);var i=n.prototype;return i.NU=function(t,n){var i={token:this.pU,contentId:n,payload:Ca(t)};return JSON.stringify(i)},i.nU=function(t){return new I(t)},i.$W=function(){var n=t.prototype.$W.call(this);return n.set("x-vudrm-token",this.pU),n},xt(n,[{key:"LU",get:function(){return lb.Ak}},{key:"pU",get:function(){if(!S_(this.hU))throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.hU.token}}]),n}(db);U(),St(),Ct();var wb="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",pb="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",yb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Dl.bk)||this}return Rt(n,t),n.prototype.nU=function(n){var i=function(t){var n;try{n=JSON.parse(t).ckc}catch(t){throw new um(ul.CONTENT_PROTECTION_LICENSE_INVALID,wb)}if(!n)throw new um(ul.CONTENT_PROTECTION_LICENSE_ERROR,pb);return n}(gc(new DataView(n)));return t.prototype.nU.call(this,i)},n}(db);U(),St(),Gt(),Dt(),Ct(),Jt();var _b=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Dl.Ak)||this}Rt(n,t);var i=n.prototype;return i.sU=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){if(!(i=n.hU))throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return r=Ca(t),[2,L_(i,r,P_.Aw)]}))}))()},i.nU=function(t){try{var n;if(ni(t)){var i=t.trim();n=JSON.parse(i)}else n=t;if(n.license){var r=Xc(n.license);return new I(r)}throw new um(ul.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new um(ul.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},i.JW=function(t,n,i){return F_(t,n,i)},xt(n,[{key:"LU",get:function(){return lb.Ak}}]),n}(db);U(),St(),Gt(),Dt(),Ct(),Jt();var bb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Dl.bk)||this).UW("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.DU("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}Rt(n,t);var i=n.prototype;return i.CU=function(){var n=t.prototype.CU.call(this);if(!n)return n;var i=qn.Ih(n),r=this.hU;return __(r)&&bd(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.BU=function(n){return __(this.hU)?ut.resolve(this.hU.contentId):t.prototype.BU.call(this,n)},i.sU=function(t){return Zt((function(){return Ht(this,(function(n){return[2,t]}))}))()},i.nU=function(t){return new I(t)},i.tU=function(n,i){var r=n;return __(this.hU)&&(r=function(t,n){return ss({},j_(t,n),{KeyId:t.keyId})}(this.hU,r)),t.prototype.tU.call(this,r,i)},xt(n,[{key:"LU",get:function(){return lb.IU}}]),n}(db);U(),St(),Gt(),Ct(),Jt();var kb=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,Dl.Tk)||this,!y_(i))throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.UW("https://connect.conax.com:8097/license"),u}Rt(n,t);var i=n.prototype;return i.$W=function(){var n=t.prototype.$W.call(this);return G_(this.hU,"FairPlay",n)},i.FU=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return i=n.CU(),r={Xu:i,jk:Dl.bk,Jk:{},AE:vd.GET,xE:!1,Lk:null,SE:0,Uw:t,Tw:ld.oE,kE:dd.uE},[4,n.fR.Qk(r)];case 1:return[4,u.sent().Dk()];case 2:return e=u.sent(),[2,new I(e)]}}))}))()},i.sU=function(t){return Zt((function(){return Ht(this,(function(n){return[2,t]}))}))()},i.BU=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring(6,i):t.substring(6),ut.resolve(function(t){return gc(Ea(t))}(n))):ut.resolve("unknown")},i.nU=function(t){try{var n=JSON.parse(t);return new I(Xc(n.CkcMessage))}catch(t){throw new y("CFLRW-66")}},n}(db);U(),St(),Ct();var Ab=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Dl.Tk)||this).UW(l_[Ps.Aw]),u}Rt(n,t);var i=n.prototype;return i.BU=function(t){return Xs(t,"skd://")?ut.resolve(t.substring(6,40)):ut.reject(new um(ul.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},i.NU=function(t,n){return"spc="+Ca(t)+"&assetId="+n},n}(db);U(),St(),Dt(),Ct();var Tb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Dl.Tk)||this).UW("https://lic.drmtoday.com/license-server-fairplay/"),u}Rt(n,t);var i=n.prototype;return i.NU=function(t,n){var i="spc="+encodeURIComponent(Ca(t))+"&"+encodeURI(n);return"persistent"===this.XW.licenseType?i+"&offline=true":i},i.$W=function(){return K_(t.prototype.$W.call(this),this.pU,this.hU)},xt(n,[{key:"pU",get:function(){return Y_(this.hU)}}]),n}(db);U(),St(),Gt(),Dt(),Ct(),Jt();var Sb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Dl.bk)||this}Rt(n,t);var i=n.prototype;return i.BU=function(t){var n=t;return Xs(n,"skd:")&&(n="http:"+n.substring(4)),Xs(n,"http:")||Xs(n,"https:")?ut.resolve(qn.Ih(n).hostname):ut.reject(new y("Could not parse ExpressPlay FairPlay content ID."))},i.sU=function(t){return Zt((function(){return Ht(this,(function(n){return[2,t]}))}))()},i.nU=function(t){return new I(t)},xt(n,[{key:"LU",get:function(){return lb.IU}}]),n}(db);U(),St(),Ct();var Eb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Dl.Tk)||this}return Rt(n,t),n.prototype.$W=function(){var n=t.prototype.$W.call(this),i=this.hU.token;return n.set("Authorization","Bearer "+i),n},n}(db);U(),St(),Gt(),Dt(),Ct(),Jt();var Ib=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,Dl.Ak)||this,!E_(i))throw new y("Invalid Xstream DRM configuration");return u}Rt(n,t);var i=n.prototype;return i.FU=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return i=n.CU(),r=n.$W(),e={Xu:i,jk:Dl.Ak,Jk:r,AE:vd.POST,Uw:t,Tw:ld.oE,kE:dd.uE},[4,n.fR.Qk(e)];case 1:return[4,s.sent().Ik()];case 2:return u=s.sent(),[2,new I(Ea(u.certificate))]}}))}))()},i.lU=function(t,n,i){void 0===i&&(i=Dl.Tk);var r=this;return Zt((function(){var i,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return i=Ca(t),[4,Q_(r.hU,"fairplay",r.fR,n)];case 1:return e=o.sent(),u=mc(JSON.stringify({spc:i,ticket:e.ticket})),s={Xu:r.zW(),jk:Dl.Ak,Jk:r.$W(),AE:vd.POST,Lk:u,SE:0,Uw:n,Tw:ld.oE,kE:dd.aE},[4,r.fR.Qk(s)];case 2:return[4,o.sent().Ik()];case 3:return[2,Ea(o.sent().licence)]}}))}))()},xt(n,[{key:"LU",get:function(){return lb.Ak}}]),n}(db);U(),St(),Ct();var Rb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Dl.Tk)||this}Rt(n,t);var i=n.prototype;return i.NU=function(t,n){return Ca(t)},i.nU=function(n){if(0===n.length)throw new um(ul.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.nU.call(this,n)},i.$W=function(){var n=t.prototype.$W.call(this);return n.set("Content-Type","text/plain"),n},n}(db);U(),St(),Dt(),Ct();var Cb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Dl.bk)||this}Rt(n,t);var i=n.prototype;return i.NU=function(t,n){return t},i.nU=function(t){return new I(t)},i.$W=function(){if(!I_(this.hU))throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.$W.call(this);return n.set("X-AxDRM-Message",this.hU.token),n},xt(n,[{key:"LU",get:function(){return lb.Ak}}]),n}(db);U(),St(),Dt(),Ct();var Nb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Dl.Ak)||this).UU=void 0,u}Rt(n,t);var i=n.prototype;return i.NU=function(t,n){var i={spc:Ca(t)};return JSON.stringify(i)},i.BU=function(t){var n=qn.Ih(t);return this.UU=t,n.searchParams.has("b")?ut.resolve(n.searchParams.get("b")):ut.reject(new um(ul.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},i.tU=function(n,i){var r=this.zW();return!r&&this.UU&&(r=this.UU),r&&(r=r.replace("skd://","https://")),t.prototype.tU.call(this,n,i||r)},i.nU=function(t){try{var n;if((n=ni(t)?JSON.parse(t.trim()):t).ckc)return Ea(n.ckc)}catch(t){throw new um(ul.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new um(ul.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},xt(n,[{key:"LU",get:function(){return lb.Tk}}]),n}(db);U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Jt(),U(),St();var xb=function(){function t(t,n){this.HU=t,this.XU=n}var n=t.prototype;return n.GU=function(t){return this.HU(t)},n.ZU=function(t,n){throw new _(n+" must be "+this.XU+". (Received: "+t+")")},t}(),Db=(new xb((function(t){return!0}),"any"),new xb(ui,"a number")),Pb=new xb(ni,"a string"),Mb=new xb(ii,"a boolean"),Bb=(new xb(ei,"a date"),new xb(Kn,"undefined")),Ob=new xb($n,"an object"),Lb=new xb((function(t){return null===t}),"null");new xb((function(t){return null==t}),"null or undefined");function Fb(t,n){throw new _(n+" has an incorrect type")}var Vb=function(){function t(t){this.Cp=t}var n=t.prototype;return n.GU=function(t){if(!$n(t))return!1;for(var n=0,i=k.keys(this.Cp);n<i.length;n++){var r=i[n];if(!this.Cp[r].GU(t[r]))return!1}return!0},n.ZU=function(t,n){if(!$n(t))throw new _(n+" must be an object.");for(var i=0,r=k.keys(this.Cp);i<r.length;i++){var e=r[i],u=this.Cp[e];if(!u.GU(t[e]))return u.ZU(t[e],n+"."+String(e))}throw new _},t}();function Ub(t){return new Vb(t)}function Wb(t){return k.keys(t).map((function(n){return t[n]}))}var jb=function(){function t(t){this.p_=t}var n=t.prototype;return n.GU=function(t){return To(this.p_,t)},n.ZU=function(t,n){return Fb(0,n)},t}();function Zb(t){return new jb(t)}var Xb=function(){function t(t){this.zU=t}var n=t.prototype;return n.GU=function(t){return this.zU.some((function(n){return n.GU(t)}))},n.ZU=function(t,n){return Fb(0,n)},t}();function Gb(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return new Xb(n)}var Hb=function(){function t(t){this.qU=t}var n=t.prototype;return n.GU=function(t){var n=this;return Jn(t)&&t.every((function(t){return n.qU.GU(t)}))},n.ZU=function(t,n){if(!Jn(t))throw new _(n+" must be an array.");for(var i=0;i<t.length;i++){var r=t[i];this.qU.GU(r)||this.qU.ZU(r,n+"["+i+"]")}return Fb(0,n)},t}();function zb(t){return new Hb(t)}var Yb=function(){function t(t){this.qU=t}var n=t.prototype;return n.GU=function(t){var n=this;return $n(t)&&k.keys(t).every((function(i){return n.qU.GU(t[i])}))},n.ZU=function(t,n){if(!$n(t))throw new _(n+" must be an object.");for(var i=0,r=k.keys(t);i<r.length;i++){var e=r[i];if(!this.qU.GU(t[e]))return this.qU.ZU(t[e],n+"."+e)}return Fb(0,n)},t}();function Kb(t){return new Yb(t)}var qb=function(){function t(t){this.qU=Ci(t)}var n=t.prototype;return n.GU=function(t){return this.qU().GU(t)},n.ZU=function(t,n){return this.qU().ZU(t,n)},t}();var Jb=Ub({responseCode:Db,isException:Mb,description:Pb,title:Pb,correlationId:Pb});function Qb(t,n,i,r,e){return $b.apply(this,arguments)}function $b(){return $b=Zt((function(t,n,i,r,e){var u;return Ht(this,(function(s){switch(s.label){case 0:return u=function(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(_d(i,e)),s=new Pl({});s.append("Content-Type","application/json");var o=Ca(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{Xu:u,jk:Dl.Tk,Jk:s,AE:vd.POST,Lk:JSON.stringify(a),Uw:r,Tw:ld.oE,kE:dd.aE}}(t,n,i,e),[4,tk(u,r)];case 1:return[2,s.sent()]}}))})),$b.apply(this,arguments)}function tk(t,n){return nk.apply(this,arguments)}function nk(){return nk=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.Qk(t)];case 1:return[4,r.sent().Ik()];case 2:if(i=r.sent(),Jb.GU(i))throw new um(ul.CONTENT_PROTECTION_LICENSE_ERROR,i.description,void 0,t.Xu,i.responseCode);return[2,Ea(i.getFairplayLicenseResponse.ckcResponse)]}}))})),nk.apply(this,arguments)}var ik=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Dl.bk)||this).YU=i,u}Rt(n,t);var i=n.prototype;return i.BU=function(n){var i=n.replace("FairPlay",this.YU.releasePid);return t.prototype.BU.call(this,i)},i.lU=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,Qb(t,i.YU,i.zW(),i.fR,n)];case 1:return[2,r.sent()]}}))}))()},n}(db);U(),St(),Gt(),Ct(),Jt();var rk=function(t){function n(n,i,r){return t.call(this,Fs,n,i,r,Dl.bk)||this}Rt(n,t);var i=n.prototype;return i.uU=function(t){return t.clearkey||{}},i.jW=function(n,i,r,e){var u=this;return Zt((function(){var i,s;return Ht(this,(function(o){if(i=u.XW,u.zW())return[2,t.prototype.jW.call(u,n,u.oU,r,e)];if(i.keys&&i.keys.length)return s={keys:i.keys.map((function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}}))},[2,kc(JSON.stringify(s)).buffer];throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")}))}))()},i.cU=function(t,n){return ut.resolve(new I(0))},i.lU=function(n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,t.prototype.rU.call(r,n,dd.fE,i)];case 1:if(e=c.sent(),(u=JSON.parse(bc(e))).keys)for(s=0,o=u.keys;s<o.length;s++)(a=o[s]).k&&(a.k=Na(a.k)),a.kid&&(a.kid=Na(a.kid));return[2,kc(JSON.stringify(u))]}}))}))()},n}(i_);U(),St(),Ct();var ek=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n}(u_);U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Jt();var uk={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function sk(t,n,i){return ok.apply(this,arguments)}function ok(){return ok=Zt((function(t,n,i){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=bk(n),(e=t.onCertificateRequest)&&"function"==typeof e?[4,Ho(ut.resolve(e.call(t,r)),i)]:[2,ut.resolve(n)];case 1:return Rc(u=s.sent())?[2,Cc(u)]:[2,_k(ss({},uk,u))]}}))})),ok.apply(this,arguments)}function ak(t,n,i,r,e){return ck.apply(this,arguments)}function ck(){return ck=Zt((function(t,n,i,r,e){var u,s;return Ht(this,(function(o){switch(o.label){case 0:return u=t.onCertificateResponse,s=yk(n,i,r),u&&"function"==typeof u?[4,Ho(ut.resolve(u.call(t,s)),e)]:[2,ut.resolve(n)];case 1:return[2,Cc(o.sent())]}}))})),ck.apply(this,arguments)}function hk(t,n,i,r){return fk.apply(this,arguments)}function fk(){return fk=Zt((function(t,n,i,r){var e;return Ht(this,(function(u){switch(u.label){case 0:return[4,dk(t,n,i,r)];case 1:return(e=u.sent())instanceof ArrayBuffer?[2,e]:[2,_k(e)]}}))})),fk.apply(this,arguments)}function vk(t,n,i,r,e,u){return lk.apply(this,arguments)}function lk(){return lk=Zt((function(t,n,i,r,e,u){var s;return Ht(this,(function(o){switch(o.label){case 0:return s=pk(i,e),[4,mk(t,new I(n),s,r,u)];case 1:return[2,Cc(o.sent())]}}))})),lk.apply(this,arguments)}function dk(t,n,i,r){return gk.apply(this,arguments)}function gk(){return gk=Zt((function(t,n,i,r){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return e=null==t?void 0:t.onLicenseRequest,u=pk(n,i),e&&"function"==typeof e?[4,Ho(ut.resolve(e.call(t,u)),r)]:[2,ut.resolve(u)];case 1:return Rc(s=o.sent())?[2,Cc(s).buffer]:[2,ss({fairplaySkdUrl:void 0},uk,s)]}}))})),gk.apply(this,arguments)}function mk(t,n,i,r,e){return wk.apply(this,arguments)}function wk(){return wk=Zt((function(t,n,i,r,e){var u,s;return Ht(this,(function(o){switch(o.label){case 0:return u=null==t?void 0:t.onLicenseResponse,s=yk(n,i,r),u&&"function"==typeof u?[4,Ho(ut.resolve(u.call(t,s)),e)]:[2,ut.resolve(n)];case 1:return[2,Cc(o.sent())]}}))})),wk.apply(this,arguments)}function pk(t,n){return ss({},bk(t),{fairplaySkdUrl:n})}function yk(t,n,i){return{url:i.eE,status:i.Yk,statusText:i.$k,headers:i.Jk.Ek(),body:t,request:n}}function _k(t){return new wd({Xu:t.url,AE:t.method,Jk:t.headers,Lk:t.body,xE:t.useCredentials,Tw:ld.oE})}function bk(t){var n;return{url:t.Xu,body:null!=(n=kk(t.Lk))?n:null,headers:t.Jk.Ek(),method:t.AE,useCredentials:t.xE}}function kk(t){if(t)return"string"==typeof t?kc(t):t instanceof ArrayBuffer?new I(t):Lc(t)?Ic(t):void 0}var Ak=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).KU=e,u}Rt(n,t);var i=n.prototype;return i.cU=function(t,n){return ut.resolve(t)},i.lU=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,i.bU(xc(t).buffer)];case 1:return r=c.sent(),e=i.QW(r,Dl.bk,dd.dE,n),[4,hk(i.KU,e,void 0,n)];case 2:if((u=c.sent())instanceof ArrayBuffer)return[2,new I(u)];if(""===u.Xu)throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");c.label=3;case 3:return c.trys.push([3,7,,8]),[4,i.fR.Qk(u)];case 4:return[4,(s=c.sent()).Dk(n)];case 5:return o=c.sent(),[4,vk(i.KU,o,e,s,void 0,n)];case 6:return[2,c.sent()];case 7:throw Xo(a=c.sent()),new um(ul.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a);case 8:return[2]}}))}))()},n}(rb);U(),St(),Gt(),Ct(),Jt();var Tk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,Dl.bk)||this).KU=e,u}Rt(n,t);var i=n.prototype;return i.cU=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return i.ZW?[2,i.ZW]:(r=i.QW(t,Dl.bk,dd.lE,n),[4,sk(i.KU,r,n)]);case 1:if((e=c.sent())instanceof I)return[2,e];if(""===e.Xu)throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");c.label=2;case 2:return c.trys.push([2,5,,6]),[4,i.fR.Qk(e)];case 3:return[4,(u=c.sent()).Dk(n)];case 4:return s=c.sent(),[3,6];case 5:throw Xo(o=c.sent()),new um(ul.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",o);case 6:return a=pk(r,void 0),[4,ak(i.KU,new I(s),a,u,n)];case 7:return[2,c.sent()]}}))}))()},i.lU=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r=i.QW(t,Dl.bk,dd.cE,n),[4,hk(i.KU,r,void 0,n)];case 1:if((e=a.sent())instanceof ArrayBuffer)return[2,new I(e)];if(""===e.Xu)throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.fR.Qk(e)];case 3:return[4,(u=a.sent()).Dk(n)];case 4:return s=a.sent(),[4,vk(i.KU,s,r,u,void 0,n)];case 5:return[2,a.sent()];case 6:throw Xo(o=a.sent()),new um(ul.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o);case 7:return[2]}}))}))()},n}(ek);U(),St(),Gt(),Ct(),Jt();var Sk=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,Dl.bk)||this).KU=u,s}Rt(n,t);var i=n.prototype;return i.cU=function(t,n){var i=this;return Zt((function(){var t,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return i.ZW?[2,i.ZW]:(t=i.VU(n),[4,sk(i.KU,t,n)]);case 1:if(r=a.sent(),Lc(r))return[2,r];a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.fR.Qk(r)];case 3:return[4,(e=a.sent()).Dk()];case 4:return u=a.sent(),s=pk(t,void 0),[4,ak(i.KU,new I(u),s,e,n)];case 5:return[2,a.sent()];case 6:throw Xo(o=a.sent()),new um(ul.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",o);case 7:return[2]}}))}))()},i.lU=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r=i.QW(t,Dl.bk,dd.aE,n),[4,hk(i.KU,r,i.jU,n)];case 1:if((e=a.sent())instanceof ArrayBuffer)return[2,new I(e)];if(""===e.Xu)throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.fR.Qk(e)];case 3:return[4,(u=a.sent()).Dk(n)];case 4:return s=a.sent(),[4,vk(i.KU,s,r,u,i.jU,n)];case 5:return[2,a.sent()];case 6:throw Xo(o=a.sent()),new um(ul.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o);case 7:return[2]}}))}))()},i.BU=function(n){var i;return this.jU=n,(null==(i=this.KU)?void 0:i.extractFairplayContentId)?ut.resolve(this.KU.extractFairplayContentId(n)):t.prototype.BU.call(this,n)},n}(db),Ek=function(){function t(){}var n=t.prototype;return n.QU=function(t,n,i,r){switch(t.cT.Tw){case Ps.ww:return this.JU(n,i,r);case Ps.pw:return this.$U(n,i,r);case Ps.Aw:return this.tG(t,n,i,r);case Ps.yw:default:return this.eG(n,i,r)}},n.JU=function(t,n,i){var r=function(t){return t.integration===n_&&ni(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(r&&v_.mP.fP(r,Ts)){var e=v_.mP.vP(r,Ts,t);return new Tk(t,n,i,e)}switch(r){case Uy:return new U_(t,n,i);case Xy:return new W_(t,n,i);case Zy:return new Z_(t,n,i);case Wy:return new H_(t,n,i);case zy:return new q_(t,n,i);case Ky:return new J_(t,n,i);case qy:return new tb(t,n,i);case Qy:return new nb(t,n,i);default:return new ek(t,n,i,Dl.bk)}},n.$U=function(t,n,i){var r=t.integration;if(r&&v_.mP.fP(r,bs)){var e=v_.mP.vP(r,bs,t);return new Ak(t,n,i,e)}switch(r){case Uy:return new ub(t,n,i);case Xy:return new ob(t,n,i);case Zy:return new ab(t,n,i);case Wy:return new cb(t,n,i);case zy:return new hb(t,n,i);case qy:return new fb(t,n,i);case Qy:return new vb(t,n,i);default:return new rb(t,n,i)}},n.tG=function(t,n,i,r){var e=n.integration;if(e&&v_.mP.fP(e,Cs)){var u=v_.mP.vP(e,Cs,n);return new Sk(t,n,i,r,u)}switch(e){case jy:return new gb(t,n,i,r);case Xy:return new mb(t,n,i,r);case Gy:return new yb(t,n,i,r);case Uy:return new _b(t,n,i,r);case Zy:return new bb(t,n,i,r);case Wy:return new kb(t,n,i,r);case Hy:return new Ab(t,n,i,r);case zy:return new Tb(t,n,i,r);case Yy:return new Sb(t,n,i,r);case Ky:return new Eb(t,n,i,r);case qy:return new Ib(t,n,i,r);case Jy:return new Rb(t,n,i,r);case Qy:return new Cb(t,n,i,r);case $y:return new Nb(t,n,i,r);case t_:return new ik(t,n,i,r);default:return new db(t,n,i,r,Dl.Tk)}},n.eG=function(t,n,i){return new rk(t,n,i)},n.iG=function(t){return t.Tw===Ps.pw||t.Tw===Ps.ww||t.Tw===Ps.Aw||t.Tw===Ps.yw},n.wT=function(t,n){var i;if(t.Tw!==Ps.pw)return!1;if(Yn(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!v_.mP.fP(r,Cs))&&(r===Uy&&new eb(n).wT)},n._U=function(t,n){if(t.Tw===Ps.ww){var i=n.integration;if(!i||!v_.mP.fP(i,Cs))return i===Uy?U_._U():void 0}},t}();U(),St(),U(),St(),Dt(),Ct();var Ik=function(t){function n(n){var i;return(i=t.call(this,Yp.fa)||this).errorObject=n,i}return Rt(n,t),n.prototype.ka=function(){return this},xt(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(_g);U(),St(),U(),St(),on();var Rk="theoplayer-stored-network-info-v2",Ck=25e5,Nk=function(){function t(){var t=this;this.nG=xl,this.aG=void 0,this.uG=Ii((function(){var n,i=sn({},t.nG,{availableBandwidth:t.aG,storedTimestamp:yr()});null==(n=qn.aR)||n.Bb(Rk,JSON.stringify(i))}),1e4)}var n=t.prototype;return n.sG=function(t){var n,i=null==(n=qn.aR)?void 0:n.Lb(t);if(void 0!==i){var r=JSON.parse(i);if(void 0!==r&&void 0!==r[this.nG]){if(!this.rG(r))return r[this.nG].availableBandwidth;var e;null==(e=qn.aR)||e.Bb(t,JSON.stringify({}))}}},n.oG=function(){var t=this.sG(Rk);if(void 0!==t)return t;var n=this.sG("theoplayer-stored-network-info");return n?8*n:void 0},n.rG=function(t){var n=t[this.nG].storedTimestamp;return!!n&&yr()-n>36e5},n.hG=function(t){this.aG=t,this.uG()},n.cG=function(){var t;return null!=this.aG||(this.aG=null!=(t=this.oG())?t:Ck),this.aG},t}();Nk.Vg=new Nk,U(),St();var xk=function(t){return t[t.lG=0]="lG",t[t.dG=1]="dG",t[t.fG=2]="fG",t[t._G=3]="_G",t[t.vG=4]="vG",t[t.mG=5]="mG",t[t.YC=6]="YC",t[t.gG=7]="gG",t[t.pG=8]="pG",t[t.JC=9]="JC",t[t.wG=10]="wG",t[t.$C=11]="$C",t[t.yG=12]="yG",t}({});U(),St(),Dt();var Dk=function(){function t(){}return t.prototype.SG=function(t){},xt(t,[{key:"bG",get:function(){return 0}},{key:"AG",get:function(){return 0}}]),t}();U(),St(),Ct(),U(),St(),Ct();var Pk=function(t){function n(n){var i;return(i=t.call(this,"contentProtectionsTracked")||this).TG=n,i}return Rt(n,t),n}(fa),Mk=function(t){function n(n,i){var r;return void 0===i&&(i=new Ek),(r=t.call(this)||this).TU=void 0,r.fW=n,r.EG=i,r}Rt(n,t);var i=n.prototype;return i.kG=function(t){this.TU=t},i._U=function(t){var n=this.TU;if(void 0!==n)return this.EG._U(t,n)},i.wT=function(t){var n=this.TU;return void 0!==n&&this.EG.wT(t,n)},i.xG=function(t){var n={cT:t.cT,IG:t.IG||[],CG:t.CG,WU:t.WU},i=this.EG.QU(n,this.TU||{},t.aU,this.fW);return n.CG&&i.UW(n.CG),new Bk(i)},i.DG=function(t){t&&(mo(t,(function(t){return void 0!==t.aU}))&&this._o(new Pk(t)))},n}(aa),Bk=function(){function t(t){this.NG=t}var n=t.prototype;return n.YW=function(t){return this.NG.YW(t)},n.KW=function(t,n,i){return this.NG.KW(n,i)},n.qW=function(){return this.NG.qW||void 0!==this.NG.ZW},n.cU=function(t,n){return this.NG.cU(t,n)},n.lU=function(t,n,i){return n&&this.NG.UW(n),this.NG.lU(t,i)},n.Xw=function(){this.NG.yn()},t}();U(),St(),Ct();var Ok=function(t){function n(n){var i;(i=t.call(this)||this).BG=[],i.UG=function(t){i.tt(t.Ht)},i.GG=function(t){var n=t.Ht;i.WG(n)||i.it(n)};for(var r=0;r<n.length;r++){var e=n[r];i.MG(e)}return i}Rt(n,t);var i=n.prototype;return i.MG=function(t){this.BG.push(t);for(var n=0,i=t.lC;n<i.length;n++){var r=i[n];this.tt(r)}this.OG(t)},i.FG=function(t){bo(this.BG,t),this.VG(t);for(var n=0,i=t.lC;n<i.length;n++){var r=i[n];this.WG(r)||this.it(r)}},i.WG=function(t){for(var n=0,i=this.BG;n<i.length;n++){if(i[n]._C(t))return!0}return!1},i.OG=function(t){t.bn(Tg.VI,this.UG),t.bn(Tg.UI,this.GG)},i.VG=function(t){t.vn(Tg.VI,this.UG),t.vn(Tg.UI,this.GG)},i.yn=function(){for(;this.BG.length>0;)this.FG(this.BG[0]);t.prototype.yn.call(this)},i.ka=function(){return Qp(this)},n}(Ng);U(),St(),Dt(),U(),St();var Lk,Fk={forceSeekOffset:0,maximumOffset:0,maximumPlaybackRate:0,minimumOffset:0,minimumPlaybackRate:0,targetOffset:0},Vk=function(){function t(){}var n=t.prototype;return n.Aa=function(t){this.ZG=t,void 0!==this.qe&&(this.ZG.Rt=this.qe)},n.nr=function(){this.ZG=void 0,this.qe=void 0},xt(t,[{key:"wa",get:function(){return null!=this.eu||(this.eu=function(t){return{get enabled(){return t.Rt},set enabled(n){t.Rt=Wg(n)},get monitoringLivePlayback(){return t.HG},get currentLatency(){return t.KB},get currentConfiguration(){return function(t){if(void 0!==t)return{get minimumOffset(){return t.minimumOffset},get maximumOffset(){return t.maximumOffset},get targetOffset(){return t.targetOffset},get forceSeekOffset(){return t.forceSeekOffset},get minimumPlaybackRate(){return t.minimumPlaybackRate},get maximumPlaybackRate(){return t.maximumPlaybackRate}}}(t.kd)}}}(this)),this.eu}},{key:"Rt",get:function(){var t,n;return null!=(n=this.qe)?n:Boolean(null==(t=this.ZG)?void 0:t.Rt)},set:function(t){this.qe=t,this.ZG&&(this.ZG.Rt=t)}},{key:"HG",get:function(){var t,n;return null!=(n=null==(t=this.ZG)?void 0:t.wB)&&n}},{key:"KB",get:function(){var t;return null==(t=this.ZG)?void 0:t.YB}},{key:"kd",get:function(){return this.ZG?this.ZG.yB:Fk}}]),t}();var Uk=!(!f||!f.TextTrack),Wk=function(t){function n(n,i,r,e,u,s,o,a){var c;return void 0===o&&(o=new Ek),void 0===a&&(a=Sl()),(c=t.call(this)||this).JG=void 0,c.Sc=void 0,c.YG=void 0,c.KG=void 0,c.iH=new Dk,c.tH=new Vk,c.kH=function(t){var n=t.lt,i=n.code,r=new ol(vm(i),"Something went wrong during native playback.",n),e=new om(i,r.message,n.message);c.BH(r,e)},c.Tc=function(){c._o(new yg(c.ER,c.bR))},c.SH=function(t){c.KR||(c.qG=void 0),c._o(t)},c.XB=function(t){c.qG=void 0},c.xH=function(){c._o(new Nm(c.WR))},c.TH=function(){c.vI>0&&c.dI>0&&c._o(new Sy)},c.CH=function(t){var n=c.WB.jG.audioTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];Xk(c.cO,r)||c.cO.tt(new Im(r))}},c.PH=function(t){var n=[],i=c.WB.jG.audioTracks;if(i){for(var r=0,e=c.cO.lC;r<e.length;r++){var u=e[r];Gk(i,u.PO)||n.push(u)}for(var s=0;s<n.length;s++){var o=n[s];c.cO.it(o)}}},c.DH=function(){c.ah(c.cO)},c.NH=function(t){var n=c.WB.jG.videoTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];Xk(c.dO,r)||c.dO.tt(new Cm(r))}},c.MH=function(t){var n=[],i=c.WB.jG.videoTracks;if(i){for(var r=0,e=c.dO.lC;r<e.length;r++){var u=e[r];Gk(i,u.PO)||n.push(u)}for(var s=0;s<n.length;s++){var o=n[s];c.dO.it(o)}}},c.LH=function(){c.ah(c.dO)},c.EH=function(t){c._o(t),c.BH(t.errorObject,cm(t.errorObject))},c.bH=i,c.fW=r,c.Nw=a,c.WB=c.bH.OH(rm.mE),c.QG=c.WB.jG.preload,c.mH=new Fy(c.WB,!0),c.mH.bn(Ry,c.Ds),c.hH=new Mk(r,o),c.WB.wH=c.hH,c.AH(),c.cO=new im,c.dO=new im,c.IH(),c.dH=new yy(c.WB,c.fW),c.Hl=new Ok([c.WB.nt]),c.ge(),c}Rt(n,t);var i=n.prototype;return i.RR=function(t,n){this.WR&&(this.qG=t),this.WB.Rb(t)},i.be=function(){this.WB.be()},i.ge=function(){this.WB.ge()},i.Ca=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return Zo(i),r.Sc=t,e={Tw:Ey.pW,VC:t.src,Mk:t.type,sH:r.nH(t),iI:r.QG,rH:t.crossOrigin,oH:n.metadata&&n.metadata.title},r.hH.kG(t.contentProtection),[4,r.WB.$n(e)];case 1:return r.JG=u.sent(),Zo(i),n.textTracks&&r.aH(n.textTracks),Ty(r.nt),[2]}}))}))()},i.aH=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.WB.uH()&&Gn.su&&Uk&&!fy(i.kind,i.label)&&this.cH(i)){var r,e=null!=(r=i.kind)?r:ty.JV;this.WB.lH(i.src,e,i.label,i.srclang,i.default)}else{if(void 0===i.src)continue;this.dH.cW(i)}}},i.cH=function(t){return!t.format||"webvtt"===t.format},i.xI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.WB.xI()];case 1:case 4:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return t.XG?[3,5]:[4,t.WB.py(va.qy)];case 5:return[2]}}))}))()},i.EI=function(){this.WB.EI()},i.II=function(){return void 0!==this.WB.jG.webkitShowPlaybackTargetPicker},i.CI=function(){this.WB.jG.webkitShowPlaybackTargetPicker&&this.WB.jG.webkitShowPlaybackTargetPicker()},i.DI=function(){this.WB.jG.webkitShowPlaybackTargetPicker&&this.WB.jG.webkitShowPlaybackTargetPicker()},i.TI=function(){return this.WB.jG},i.SI=function(){return this.WB.Sa},i.ja=function(){return this.WB.fH},i.OI=function(t){return this.WB._H(t)},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Sc=void 0,t.YG=void 0,t.KG=void 0,t.JG=void 0,[4,t.dH.nr()];case 1:return n.sent(),t.WB.vH(),[4,t.WB.nr()];case 2:return n.sent(),t.mH.nr(),t.iI=t.QG,t.ht.nr(),t.rt.nr(),t.qG=void 0,[2]}}))}))()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.nr()];case 1:return n.sent(),t.Ro(),t.gH(),t.pH(),t.mH.yn(),t.WB.wH=void 0,[4,t.bH.yH(t.WB)];case 2:return n.sent(),t.cO.yn(),t.dO.yn(),t.Hl.yn(),[4,t.dH.yn()];case 3:return n.sent(),[2]}}))}))()},i.AH=function(){this.WB.bn(va.ho,this.Ds),this.WB.bn(va.zy,this.Ds),this.WB.bn(va.hb,this.Tc),this.WB.bn(va.qy,this.Ds),this.WB.bn(va.Uy,this.Ds),this.WB.bn(va.Jy,this.Ds),this.WB.bn(va.Qy,this.SH),this.WB.bn(va.Dy,this.Ds),this.WB.bn(va.Yy,this.Ds),this.WB.bn(va.ub,this.Ds),this.WB.bn(va.Iy,this.Ds),this.WB.bn(va.jy,this.TH),this.WB.bn(Iy.UL,this.XB),this.WB.bn(Yp.fa,this.kH),this.WB.bn(va.Ey,this.Ds),this.WB.bn(va.Ty,this.EH),this.WB.jG.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.xH)},i.gH=function(){this.WB.vn(va.ho,this.Ds),this.WB.vn(va.zy,this.Ds),this.WB.vn(va.hb,this.Tc),this.WB.vn(va.qy,this.Ds),this.WB.vn(va.Uy,this.Ds),this.WB.vn(va.Jy,this.Ds),this.WB.vn(va.Qy,this.SH),this.WB.vn(va.Dy,this.Ds),this.WB.vn(va.Yy,this.Ds),this.WB.vn(va.ub,this.Ds),this.WB.vn(va.Iy,this.Ds),this.WB.vn(va.jy,this.TH),this.WB.vn(Iy.UL,this.XB),this.WB.vn(Yp.fa,this.kH),this.WB.vn(va.Ey,this.Ds),this.WB.vn(va.Ty,this.EH),this.WB.jG.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.xH)},i.nH=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{cT:Os,RH:[{initDataTypes:[Os.xw],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.IH=function(){var t=this.WB.jG.audioTracks,n=this.WB.jG.videoTracks;t&&(t.addEventListener("addtrack",this.CH),t.addEventListener("removetrack",this.PH),t.addEventListener("change",this.DH)),n&&(n.addEventListener("addtrack",this.NH),n.addEventListener("removetrack",this.MH),n.addEventListener("change",this.LH))},i.pH=function(){var t=this.WB.jG.audioTracks,n=this.WB.jG.videoTracks;t&&(t.removeEventListener("addtrack",this.CH),t.removeEventListener("removetrack",this.PH),t.removeEventListener("change",this.DH)),n&&(n.removeEventListener("addtrack",this.NH),n.removeEventListener("removetrack",this.MH),n.removeEventListener("change",this.LH))},i.ah=function(t){for(var n=0;n<t.V;n++){t.fC(n).MO()}},i.NI=function(){this.WB.NI()},i.MI=function(){},i.BH=function(t,n){this.YG||(this.YG=n,this.KG=t,this._o(new Ik(t)))},xt(n,[{key:"KB",get:function(){}},{key:"XG",get:function(){var t=this.WB.wR,n=this.ER;return t.wr(n,.01)}},{key:"ht",get:function(){return this.cO}},{key:"wR",get:function(){return this.WB.wR.ks()}},{key:"bR",get:function(){return this.WB.bR},set:function(t){t&&this.WB.zG(t)}},{key:"bt",get:function(){return this.Sc}},{key:"ER",get:function(){return void 0!==this.qG?this.qG:this.WB.ER},set:function(t){this.RR(t)}},{key:"ct",get:function(){return this.WB.ct}},{key:"PR",get:function(){return this.WB.PR}},{key:"lt",get:function(){return this.YG}},{key:"MR",get:function(){return this.KG}},{key:"OR",get:function(){}},{key:"WR",get:function(){return this.WB.WR}},{key:"GR",get:function(){return ss({},{_O:0,vO:0,mO:0,gO:0,pO:0,wO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.WB.HR())}},{key:"ZR",get:function(){return this.WB.ZR},set:function(t){this.WB.ZR=t}},{key:"qR",get:function(){return!0}},{key:"KR",get:function(){return this.WB.KR}},{key:"QR",get:function(){return this.WB.QR},set:function(t){this.WB.QR=t}},{key:"tI",get:function(){return this.WB.jG.played}},{key:"iI",get:function(){return this.QG},set:function(t){this.QG=t,this.JG&&(this.JG.iI=t)}},{key:"rI",get:function(){return this.WB.rI}},{key:"hI",get:function(){return this.WB.hI.ks()}},{key:"uI",get:function(){return this.WB.uI}},{key:"$G",get:function(){return this.WB.$G}},{key:"nt",get:function(){return this.Hl}},{key:"rt",get:function(){return this.dO}},{key:"dI",get:function(){return this.WB.dI}},{key:"vI",get:function(){return this.WB.vI}},{key:"gI",get:function(){return this.WB.gI},set:function(t){this.WB.gI=t}},{key:"yI",get:function(){return this.tH}},{key:"AI",get:function(){return this.WB.AI},set:function(t){this.WB.AI=t}},{key:"eH",get:function(){return this.iH}}]),n}(ha);function jk(t){var n,i;if(!(null==(n=(Lk||(Lk=f&&f.document&&f.document.createElement("video")),i=Lk).canPlayType)?void 0:n.call(i,t.type)))return!1;if(t.useNativePlayback)return!0;var r=Gn.su||Gn.Cg;return!t.useManagedMediaSource||!r}var Zk=function(){function t(){this.UH=xk.yG}var n=t.prototype;return n.uP=function(t,n,i,r,e,u,s){return new Wk(t,n,i,r,e,u)},n.FH=function(t,n){return jk(t)},n.VH=function(t){return x_(t)},n.WH=function(){return!1},t}();function Xk(t,n){for(var i=0,r=t.lC;i<r.length;i++){var e=r[i];if(e.PO===n)return e}}function Gk(t,n){for(var i=0;i<t.length;i++)if(t[i]===n)return!0;return!1}U(),St(),U(),St(),Dt();var Hk=function(){function t(t,n){var i=this;this.Hnt=!1,this.Znt=function(t){i.Xnt.nY(t.error,i.ER)},this.znt=function(){i.Xnt.tY(i.Gnt),i.na.removeEventListener("playing",i.znt),i.Hnt=!1},this.js=function(){var t,n,r,e,u,s;(i.Hnt||(i.na.addEventListener("playing",i.znt),i.Hnt=!0),null==(t=i.na.ads)||t.removeEventListener("adbegin",i.qnt),null==(n=i.na.theoads)||n.removeEventListener("interstitialbegin",i.Ynt),null==(e=i.na.source)||null==(r=e.ads)?void 0:r.some((function(t){return"theoads"===t.integration})))&&(null==(u=i.na.ads)||u.addEventListener("adbegin",i.qnt),null==(s=i.na.theoads)||s.addEventListener("interstitialbegin",i.Ynt))},this.qnt=function(t){"theoads"!==t.ad.integration||t.ad.isSlate||i.Xnt.sY("ad")},this.Ynt=function(t){var n=t.interstitial;(function(t){return"adbreak"===t.type})(n)||i.Xnt.sY(function(t){switch(t){case"adbreak":default:return"ad";case"overlay":return"overlay"}}(n.type))},this.Xnt=n,this.na=t,this.na.addEventListener("error",this.Znt),this.na.addEventListener("sourcechange",this.js),this.js()}return t.prototype.nr=function(){},xt(t,[{key:"ER",get:function(){var t=this.na.currentTime;return isFinite(t)?t:"now"}},{key:"Gnt",get:function(){return this.na.src||""}}]),t}();U(),St(),Ct(),U(),St(),Gt(),Dt(),Ct(),Jt();var zk=function(t){function n(n,i){var r;return(r=t.call(this)||this).FI=function(t){r.BI(t)||r._o(t)},r.na=n,r.Ust=!i,r.eZ(),r}Rt(n,t);var i=n.prototype;return i.Mst=function(){return this.na.vst},i.Lst=function(){return this.na.zc},i.Bst=function(){return this.na.gst},i.SI=function(){return this.na.Sa},i.ja=function(){return this.na.fH},i.Fst=function(){return this.na.Ost},i.Wst=function(){return this.na.Vst},i.mR=function(){return this.na.ht},i.yR=function(){return this.na.yR()},i.AR=function(){return this.na.bR},i.SR=function(t){this.na.bR=t},i.kR=function(){return this.na.bt},i.xR=function(){return this.na.xR()},i.RR=function(t,n){this.na.RR(t,n)},i.Tst=function(){return this.na.Tst()},i.jd=function(){return this.na.jd()},i.IR=function(){return this.na.we},i.DR=function(){return this.na.PR},i.NR=function(){return this.na.NR()},i.LR=function(){return this.na.LR()},i.FR=function(){return this.na.OR},i.HR=function(){return this.na.GR},i.XR=function(){return this.na.ZR},i.zR=function(t){this.na.zR(t)},i.jR=function(){return this.na.KR},i.JR=function(){return this.na.QR},i.$R=function(t){this.na.QR=t},i.eI=function(){return this.na.eI()},i.sI=function(){return this.na.iI},i.nI=function(t){this.na.iI=t},i.oI=function(){return this.na.rI},i.aI=function(){return this.na.aI()},i.cI=function(){return this.na.uI},i.lI=function(){return this.na.nt},i.fI=function(){return this.na.dI},i._I=function(){return this.na.rt},i.mI=function(){return this.na.vI},i.pI=function(){return this.na.gI},i.wI=function(t){this.na.wI(t)},i.kI=function(){this.na.kI()},i.EI=function(){this.na.EI()},i.xI=function(){this.na.xI()},i.ge=function(){this.na.ge()},i.be=function(){this.na.be()},i.cs=function(){return this.na.cs()},i.TI=function(){return this.na.TI()},i.NI=function(){this.na.NI()},i.MI=function(){this.na.MI()},i.OI=function(t){return this.na.OI(t)},i.Aa=function(){this.na.Aa()},i.iu=function(){return this.na.iu()},i.Ca=function(t,n){return this.na.Ca(t,n)},i.RI=function(){return this.na.RI()},i.BI=function(t){return!1},i.eZ=function(){this.Ust&&this.na.oy(this.FI)},i.iZ=function(){this.Ust&&this.na.gy(this.FI)},i.yn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Ro(),t?[3,2]:[4,n.na.yn()];case 1:i.sent(),i.label=2;case 2:return n.iZ(),[2]}}))}))()},xt(n,[{key:"vst",get:function(){return this.Mst()}},{key:"zc",get:function(){return this.Lst()}},{key:"Cst",get:function(){return this.na.Cst}},{key:"gst",get:function(){return this.Bst()}},{key:"SO",get:function(){return this.na.SO},set:function(t){this.na.SO=t}},{key:"Rst",get:function(){return this.na.Rst}},{key:"Iz",get:function(){return this.na.Iz}},{key:"Sst",get:function(){return this.na.Sst}},{key:"kd",get:function(){return this.na.kd}},{key:"Hu",get:function(){return this.na.Hu}},{key:"Sa",get:function(){return this.SI()}},{key:"fH",get:function(){return this.ja()}},{key:"fR",get:function(){return this.na.fR}},{key:"yI",get:function(){return this.na.yI}},{key:"kst",get:function(){return this.na.kst}},{key:"iQ",get:function(){return this.na.iQ}},{key:"XX",get:function(){return this.na.XX}},{key:"xst",get:function(){return this.na.xst}},{key:"yst",get:function(){return this.na.yst}},{key:"Ta",get:function(){return this.na.Ta}},{key:"Wl",get:function(){return this.na.Wl}},{key:"Ost",get:function(){return this.Fst()}},{key:"Vst",get:function(){return this.Wst()}},{key:"IC",get:function(){return this.na.IC}},{key:"Eo",get:function(){return this.na.Eo}},{key:"ht",get:function(){return this.mR()}},{key:"bR",get:function(){return this.AR()},set:function(t){this.SR(t)}},{key:"bt",get:function(){return this.kR()}},{key:"we",get:function(){return this.IR()}},{key:"PR",get:function(){return this.DR()}},{key:"OR",get:function(){return this.FR()}},{key:"AI",get:function(){return this.na.AI},set:function(t){this.na.AI=t}},{key:"GR",get:function(){return this.HR()}},{key:"ZR",get:function(){return this.XR()},set:function(t){this.zR(t)}},{key:"KR",get:function(){return this.jR()}},{key:"QR",get:function(){return this.JR()},set:function(t){this.$R(t)}},{key:"iI",get:function(){return this.sI()},set:function(t){this.nI(t)}},{key:"rI",get:function(){return this.oI()}},{key:"Ma",get:function(){return this.na.Ma},set:function(t){this.na.Ma=t}},{key:"uI",get:function(){return this.cI()}},{key:"nt",get:function(){return this.lI()}},{key:"dI",get:function(){return this.fI()}},{key:"rt",get:function(){return this._I()}},{key:"vI",get:function(){return this.mI()}},{key:"gI",get:function(){return this.pI()},set:function(t){this.wI(t)}}]),n}(ha),Yk=function(t){return t[t.au=0]="au",t[t.Gst=1]="Gst",t[t.$C=2]="$C",t[t.Hst=3]="Hst",t[t.Zst=4]="Zst",t[t.Xst=5]="Xst",t}({}),Kk=[0,1,2,3,4,5],qk={};function Jk(t,n){(qk[n]||(qk[n]=[])).push(t)}var Qk={};function $k(t,n){(Qk[n]||(Qk[n]=[])).push(t)}var tA=[];function nA(t){for(var n=0;n<tA.length;n++){(0,tA[n])(t)}}!function(t){tA.push(t)}((function(t){new Hk(t.wa,t.Cst)})),U(),St(),Ct(),U(),St(),Ct();var iA=function(){function t(){}return t.yk=function(){return t.Vg||(t.Vg=rA.yT()?new rA:new El),t.Vg},t.Fb=function(n){t.yk().Fb(n)},t.wk=function(){t.yk().wk()},t.Lb=function(n){return t.yk().Lb(n)},t.Bb=function(n,i){t.yk().Bb(n,i)},t.SQ=function(n){var i=t.Lb(n);if(void 0!==i)return S(i)},t.TQ=function(n){return"true"===t.Lb(n)},t}();iA.Vg=void 0;var rA=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.Fb=function(t){self.localStorage.removeItem(t)},i.wk=function(){self.localStorage.clear()},i.Lb=function(t){var n;return null!=(n=self.localStorage.getItem(t))?n:void 0},i.Bb=function(t,n){self.localStorage.setItem(t,n)},n.yT=function(){var t="foobar";try{return self.localStorage.setItem(t,t),self.localStorage.removeItem(t),!0}catch(t){}return!1},n}(iA),eA="theoplayer-stored-volume",uA="theoplayer-stored-mutedstate";Jk((function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=iA.SQ(eA);(void 0===e||E(e))&&(e=1);var u=iA.TQ(uA)||!1;r.gI=e,r.ZR=u}return r}Rt(n,t);var i=n.prototype;return i.zR=function(n){this.kd.persistVolume&&iA.Bb(uA,""+Boolean(n)),t.prototype.zR.call(this,n)},i.wI=function(n){this.kd.persistVolume&&iA.Bb(eA,""+Number(n)),t.prototype.wI.call(this,n)},n}(t)}),Yk.au),U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt();var sA=function(t){function n(n){var i;return(i=t.call(this)||this).FI=function(t){i.BI(t)||i._o(t)},i.gR=n,n.oy(i.FI),i}Rt(n,t);var i=n.prototype;return i.mR=function(){return this.gR.ht},i.pR=function(){return this.gR.pR()},i.yR=function(){return this.gR.wR},i.AR=function(){return this.gR.bR},i.SR=function(t){this.gR.bR=t},i.kR=function(){return this.gR.bt},i.xR=function(){return this.gR.ER},i.RR=function(t,n){this.gR.RR(t,n)},i.jd=function(){return this.gR.ct},i.IR=function(){return this.gR.we},i.DR=function(){return this.gR.PR},i.NR=function(){return this.gR.lt},i.LR=function(){return this.gR.MR},i.FR=function(){return this.gR.OR},i.UR=function(){return this.gR.WR},i.HR=function(){return this.gR.GR},i.XR=function(){return this.gR.ZR},i.zR=function(t){this.gR.ZR=t},i.YR=function(){return this.gR.qR},i.jR=function(){return this.gR.KR},i.JR=function(){return this.gR.QR},i.$R=function(t){this.gR.QR=t},i.eI=function(){return this.gR.tI},i.sI=function(){return this.gR.iI},i.nI=function(t){this.gR.iI=t},i.oI=function(){return this.gR.rI},i.aI=function(){return this.gR.hI},i.cI=function(){return this.gR.uI},i.iu=function(){return this.gR.iu()},i.Ca=function(t,n){return this.gR.Ca(t,n)},i.lI=function(){return this.gR.nt},i.fI=function(){return this.gR.dI},i._I=function(){return this.gR.rt},i.mI=function(){return this.gR.vI},i.bI=function(){return this.gR.yI},i.pI=function(){return this.gR.gI},i.wI=function(t){this.gR.gI=t},i.SI=function(){return this.gR.SI()},i.ja=function(){return this.gR.ja()},i.TI=function(){return this.gR.TI()},i.pr=function(t){this.gR.pr(t)},i.dr=function(){this.gR.dr()},i.be=function(){this.gR.be()},i.kI=function(){this.gR.kI()},i.EI=function(){this.gR.EI()},i.xI=function(){this.gR.xI()},i.ge=function(){this.gR.ge()},i.RI=function(){return this.gR.RI()},i.II=function(){return this.gR.II()},i.CI=function(){this.gR.CI()},i.DI=function(){this.gR.DI()},i.nr=function(){return this.gR.nr()},i.NI=function(){this.gR.NI()},i.MI=function(){this.gR.MI()},i.LI=function(t){return this.gR.LI(t)},i.BI=function(t){return!1},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),[4,t.gR.yn()];case 1:return n.sent(),[2]}}))}))()},i.OI=function(t){return this.gR.OI(t)},xt(n,[{key:"ht",get:function(){return this.mR()}},{key:"wR",get:function(){return this.yR()}},{key:"bR",get:function(){return this.AR()},set:function(t){this.SR(t)}},{key:"bt",get:function(){return this.kR()}},{key:"ER",get:function(){return this.xR()},set:function(t){this.RR(t)}},{key:"ct",get:function(){return this.jd()}},{key:"we",get:function(){return this.IR()}},{key:"PR",get:function(){return this.DR()}},{key:"lt",get:function(){return this.NR()}},{key:"MR",get:function(){return this.LR()}},{key:"OR",get:function(){return this.FR()}},{key:"WR",get:function(){return this.UR()}},{key:"GR",get:function(){return this.HR()}},{key:"ZR",get:function(){return this.XR()},set:function(t){this.zR(t)}},{key:"qR",get:function(){return this.YR()}},{key:"KR",get:function(){return this.jR()}},{key:"QR",get:function(){return this.JR()},set:function(t){this.$R(t)}},{key:"tI",get:function(){return this.eI()}},{key:"iI",get:function(){return this.sI()},set:function(t){this.nI(t)}},{key:"rI",get:function(){return this.oI()}},{key:"hI",get:function(){return this.aI()}},{key:"uI",get:function(){return this.cI()}},{key:"nt",get:function(){return this.lI()}},{key:"dI",get:function(){return this.fI()}},{key:"rt",get:function(){return this._I()}},{key:"vI",get:function(){return this.mI()}},{key:"gI",get:function(){return this.pI()},set:function(t){this.wI(t)}},{key:"yI",get:function(){return this.bI()}},{key:"AI",get:function(){return this.gR.AI},set:function(t){this.gR.AI=t}}]),n}(ha);U(),St(),Ct(),U(),St(),Dt(),Ct();var oA=function(t){function n(){var n;return(n=t.call(this)||this).mC=void 0,n.yC=function(t){var i=t.Ht;n.tt(i)},n.bC=function(t){var i=t.Ht;n.it(i)},n}Rt(n,t);var i=n.prototype;return i.wC=function(t){t.bn(Tg.VI,this.yC),t.bn(Tg.UI,this.bC)},i.gC=function(t){t.vn(Tg.VI,this.yC),t.vn(Tg.UI,this.bC)},i.yn=function(n){!n&&this.mC&&this.mC.yn(),t.prototype.yn.call(this)},xt(n,[{key:"vC",get:function(){return this.mC},set:function(t){var n=this.mC;if(t!==n){if(n){this.gC(n);for(var i=0,r=n.lC;i<r.length;i++){var e=r[i];t&&t._C(e)||this.it(e)}}if(this.mC=t,t){for(var u=[],s=0,o=t.lC;s<o.length;s++){var a=o[s];this.tt(a),this.pC(a)&&u.push(a)}this.wC(t);for(var c=0;c<u.length;c++){var h=u[c];h._o(new gm(h))}}}}}]),n}(Ng),aA=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.ka=function(){return nm(this)},i.pC=function(t){return t.Rt},n}(oA);U(),St(),Ct();var cA=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.ka=function(){return Qp(this)},i.pC=function(t){return t.CE===Hp.Qn},n}(oA);U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var hA=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.ZC=function(){},xt(n,[{key:"WC",get:function(){}},{key:"GC",get:function(){return!1}},{key:"HC",get:function(){}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=fA(this)}}]),n}(aa);function fA(t){return{goLive:function(){return t.ZC()},get isLive(){return t.GC},get latencies(){return t.WC},get manifest(){return t.HC},addEventListener:function(n,i){t.bn(lA(n),i)},removeEventListener:function(n,i){t.vn(lA(n),i)}}}var vA=["golive","latencyrecoveryseek"];function lA(t){var n=zg(t,Gg);return(ni(n)?[n]:n).filter((function(t){return To(vA,t)}))}var dA=function(t){function n(){var n;return(n=t.call(this)||this).mC=void 0,n.eu=void 0,n.mC=void 0,n}Rt(n,t);var i=n.prototype;return i.wC=function(t){t.bn(vA,this.Ds)},i.gC=function(t){t.vn(vA,this.Ds)},i.ZC=function(){var t;null==(t=this.mC)||t.ZC()},i.yn=function(){this.Ro(),this.mC&&this.gC(this.mC),this.mC=void 0},xt(n,[{key:"vC",get:function(){return this.mC},set:function(t){var n=this.mC;t!==n&&(n&&this.gC(n),t&&this.wC(t),this.mC=t)}},{key:"wa",get:function(){return this.eu||(this.eu=fA(this)),this.eu}},{key:"WC",get:function(){var t;return null==(t=this.mC)?void 0:t.WC}},{key:"GC",get:function(){return!!this.mC&&this.mC.GC}},{key:"HC",get:function(){var t;return null==(t=this.mC)?void 0:t.HC}}]),n}(aa);U(),St(),U(),St();var gA="8E80B9CE",mA=function(t){return t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled",t}({});function wA(t){return{appID:t&&t.appID?Gg(t.appID):gA}}U(),St(),U(),St();var pA=function(t){return t.wE="",t.XC="anonymous",t.zC="use-credentials",t}({}),yA=function(t){return t.qC="application/dash+xml",t.YC="application/vnd.apple.mpegurl",t.KC="application/x-mpegurl",t.jC="video/mp4",t.QC="application/vnd.theoplayer.hesp+json",t.JC="application/vnd.theo.hesp+json",t.$C="millicast",t.tP="theolive",t}({});function _A(t){if(null!==t)return t}function bA(t){var n={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:_A(t.streamActivityMonitorID),adTagParameters:$n(t.adTagParameters)?t.adTagParameters:{},authToken:_A(t.authToken),omidAccessModeRules:_A(t.omidAccessModeRules)};if(t.enableNonce&&(n.enableNonce=!0),"vod"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.videoID&&n.contentSourceID)}(t)){var i=t.videoID,r=t.contentSourceID;return i?r?ss({},n,{availabilityType:"vod",videoID:i,contentSourceID:r}):void qn.Vp("A VOD DAI configuration was provided without valid contentSourceID which is required."):void qn.Vp("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.assetKey)}(t)){var e=t.assetKey;return e?ss({},n,{availabilityType:"live",assetKey:e}):void qn.Vp("A Live DAI configuration was provided without valid assetKey which is required.")}qn.Vp("A DAI configuration was provided without a valid availabilityType which is required.")}function kA(t){return"google-dai"===t.integration?bA(t):ss({},t,{integration:String(t.integration)})}function AA(t,n,i){var r=function(t,n,i){var r,e=function(t,n){var i=pA.wE;return t.useCredentials?i=pA.zC:t.crossOrigin&&(i=$A(t.crossOrigin)),i===pA.wE&&n&&n.vr&&n.vr[360]&&(i=pA.XC),{useCredentials:i===pA.zC,crossOrigin:i}}(t,n),u=e.useCredentials,s=e.crossOrigin,o=t.liveOffset;Yn(o)||(o=i&&Yn(i.liveOffset)?i.liveOffset:void 0);var a=t.timeServer;Yn(a)||(a=n&&Yn(n.timeServer)?n.timeServer:void 0);var c=t.hlsDateRange;Yn(c)||(c=i&&Yn(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0);var h,f=Boolean(t.experimentalRendering),v=Boolean(t.nativeUiRendering),l=Boolean(t.lowLatency),d=Boolean(t.useNativePlayback),g=Boolean(t.useManagedMediaSource),m=Yn(t.dash)?SA(t.dash):void 0,w=Yn(t.hls)?EA(t.hls):void 0,p=CA(RA(t.abr),null==i?void 0:i.abr),y=jg(t.lcevc),_=Yn(t.ignoreEmbeddedTextTrackTypes)?wT(t.ignoreEmbeddedTextTrackTypes):[],b=zA(null!=(h=t.seamlessSwitchStrategy)?h:null==(r=t.dash)?void 0:r.useSeamlessPeriodSwitch),k=XA(t.latencyConfiguration);return{crossOrigin:s,useCredentials:u,liveOffset:o,timeServer:a,hlsDateRange:c,experimentalRendering:f,nativeUiRendering:v,lowLatency:l,useNativePlayback:d,useManagedMediaSource:g,dash:m,hls:w,abr:p,lcevc:y,ignoreEmbeddedTextTrackTypes:_,seamlessSwitchStrategy:b,latencyConfiguration:k}}(t,n,i),e=_A(t.src),u=t.type;u||(u=t.src?QA(t.src):void 0);var s=function(t,n){var i;i=Yn(t.contentProtection)?t.contentProtection:Yn(t.drm)?t.drm:Yn(n)&&Yn(n.contentProtection)?n.contentProtection:Yn(n)&&Yn(n.drm)?n.drm:void 0;return TA(i)}(t,n);return ss({},r,{src:e,type:u,contentProtection:s,ssai:Yn(t.ssai)?kA(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function TA(t){return b_(t)&&t.integration&&t.integration===Hy?function(t){var n=R_(Ps.ww,t),i=R_(Ps.pw,t),r=t[Ps.Aw]&&R_(Ps.Aw,t);return ss({integration:"keyos",widevine:n,playready:i},r?{fairplay:r}:{})}(t):t}function SA(t){return{useSeamlessPeriodSwitch:zA(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:jg(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?Zg(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:jg(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:jg(null==t?void 0:t.ignoreAvailabilityWindow),forceHardSwitchWhenSeekingBackwards:jg(null==t?void 0:t.forceHardSwitchWhenSeekingBackwards),segmentRelativeVttTiming:jg(null==t?void 0:t.segmentRelativeVttTiming),forceRecreateMediaSourceOnAudioSwitch:jg(null==t?void 0:t.forceRecreateMediaSourceOnAudioSwitch)}}function EA(t){return{discontinuityAlignment:IA(null==t?void 0:t.discontinuityAlignment),delaySubtitlePreload:Wg(null==t?void 0:t.delaySubtitlePreload)}}function IA(t){if(!t||!ni(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function RA(t){if(Yn(t))return NA(Hg(null==t?void 0:t.preferredAudioCodecs,Gg),Hg(null==t?void 0:t.preferredVideoCodecs,Gg),jg(null==t?void 0:t.restrictToPlayerSize))}function CA(t,n){var i;if(Yn(t)||Yn(n))return NA(xA(null==t?void 0:t.preferredAudioCodecs,null==n?void 0:n.preferredAudioCodecs),xA(null==t?void 0:t.preferredVideoCodecs,null==n?void 0:n.preferredVideoCodecs),null!=(i=null==t?void 0:t.restrictToPlayerSize)?i:null==n?void 0:n.restrictToPlayerSize)}function NA(t,n,i){if(0!==t.length||0!==n.length||void 0!==i)return{preferredAudioCodecs:0===t.length?void 0:t,preferredVideoCodecs:0===n.length?void 0:n,restrictToPlayerSize:i}}function xA(t,n){return void 0!==t&&(null==t?void 0:t.length)>0?t:null!=n?n:[]}function DA(t,n){if(void 0!==n)switch(t){case rm.mE:return n.preferredVideoCodecs;case rm.vE:return n.preferredAudioCodecs;default:return}}U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),Dt(),Ct(),Wt(),U(),St();var PA=!1;function MA(t,n,i){return i?t<=n:t<n}U(),St(),Dt();var BA=function(){function t(t,n){this.V=t.length>>1,this.HL=t,this.XL=n||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(this.V)}var n=t.prototype;return n.Sn=function(t){return this.HL[2*t]},n.Tn=function(t){return this.HL[2*t+1]},n.ZL=function(t){return this.XL[2*t]},n.zL=function(t){return this.XL[2*t+1]},n.ks=function(){var t=this;return{get length(){return t.V},start:function(n){var i=0|n;return t.qL(i),t.Sn(i)},end:function(n){var i=0|n;return t.qL(i),t.Tn(i)}}},n.YL=function(){for(var n=new Array(2*this.V),i=new Array(2*this.V),r=0;r<this.V;r++)n[2*r]=this.Sn(r),n[2*r+1]=this.Tn(r),i[2*r]=!0,i[2*r+1]=!0;return new t(n,i)},n.qL=function(t){if(t<0)throw new y("The index provided ("+t+") must be non-negative");if(t>=this.V)throw new y("The index provided ("+t+") is greater than the maximum bound ("+this.V+")")},n.KL=function(t){if(0===this.V)return 0;if(this.wr(t))return t;if(t<=this.Sn(0))return this.Sn(0);if(t>=this.Tn(this.V-1))return this.Tn(this.V-1);for(var n=0,i=1/0,r=0;r<this.V;r++){var e=this.Sn(r),u=A.abs(e-t);u<i&&(n=e,i=u);var s=this.Tn(r),o=A.abs(s-t);o<i&&(n=s,i=o)}return n},n.jn=function(n){for(var i=0,r=0,e=[],u=[];i<this.V&&r<n.V;){var s=this.Sn(i),o=this.Tn(i),a=this.ZL(i),c=this.zL(i),h=n.Sn(r),f=n.Tn(r),v=n.ZL(r),l=n.zL(r),d=A.max(s,h),g=A.min(o,f),m=void 0;m=s===h?a&&v:d===s?a:v;var w=void 0;w=o===f?c&&l:g===o?c:l,(d<g||m&&w&&d===g)&&(e.push(d,g),u.push(m,w)),o===f?(i+=1,r+=1):o<f?i+=1:r+=1}return new t(e,u)},n.jL=function(){var n=this.QL(),i=n.V;if(0===i)return new t([-1/0,1/0],[!1,!1]);var r=[],e=[],u=n.Sn(0);u!==-1/0&&(r.push(-1/0,u),e.push(!1,!n.ZL(0)));for(var s=0;s<i-1;s++)r.push(n.Tn(s),n.Sn(s+1)),e.push(!n.zL(s),!n.ZL(s+1));var o=n.Tn(i-1);return o!==1/0&&(r.push(o,1/0),e.push(!n.zL(i-1),!1)),new t(r,e)},n.JL=function(n){for(var i=0,r=0,e=this.V,u=n.V,s=new Array(2*(e+u)),o=new Array(2*(e+u)),a=0;i<e&&r<u;){var c=this.Sn(i),h=this.Tn(i),f=n.Sn(r),v=n.Tn(r);c<f||c===f&&h<v?(s[a]=c,s[a+1]=h,o[a]=this.ZL(i),o[a+1]=this.zL(i),i++):(s[a]=f,s[a+1]=v,o[a]=n.ZL(r),o[a+1]=n.zL(r),r++),a+=2}for(;i<e;)s[a]=this.Sn(i),s[a+1]=this.Tn(i),o[a]=this.ZL(i),o[a+1]=this.zL(i),i++,a+=2;for(;r<u;)s[a]=n.Sn(r),s[a+1]=n.Tn(r),o[a]=n.ZL(r),o[a+1]=n.zL(r),r++,a+=2;return new t(s,o)},n.$L=function(n){void 0===n&&(n=0);var i=this.V;if(i<2)return this;for(var r=[],e=[],u=this.Sn(0),s=this.Tn(0),o=this.ZL(0),a=this.zL(0),c=1;c<i;c++){var h=this.Sn(c),f=this.Tn(c),v=this.ZL(c),l=this.zL(c);u<h&&s>f||(u===h&&(o=v=o||v),s===f&&(a=l=a||l),MA(h,s+n,a||v)?(s=f,a=l):(r.push(u,s),e.push(o,a),u=h,s=f,o=v,a=l))}return r.push(u,s),e.push(o,a),new t(r,e).QL()},n.QL=function(){for(var n=[],i=[],r=0;r<this.V;r++){var e=this.Sn(r),u=this.Tn(r),s=this.ZL(r),o=this.zL(r);e===u?(s||o)&&(n.push(e,u),i.push(!0,!0)):(n.push(e,u),i.push(s,o))}return new t(n,i)},n.tB=function(t){return 0===this.V?t:0===t.V?this:this.JL(t).$L()},n.eB=function(t){var n=this.QL(),i=t.QL(),r=n.jL(),e=i.jL(),u=r.jn(i),s=e.jn(n);return u.tB(s)},n.xb=function(n){if(0===this.V||0===n)return this;for(var i=[],r=[],e=0;e<this.V;e++){var u=this.Sn(e)+n,s=this.Tn(e)+n;i.push(u,s),r.push(this.ZL(e),this.zL(e))}return new t(i,r)},n.iB=function(t){return 0===this.V||0===t.V?this:this.QL().jn(t.QL().jL())},n.wr=function(t,n){return this.sB(t,n)>=0},n.nB=function(t,n,i,r,e){return this.rB(t,n,i,r,e)>=0},n.oB=function(t,n,i,r,e){return this.hB(t,n,i,r,e)>=0},n.aB=function(t){if(t.V!==this.V)return!1;for(var n=0;n<this.V;n++)if(this.Sn(n)!==t.Sn(n)||this.Tn(n)!==t.Tn(n)||this.ZL(n)!==t.ZL(n)||this.zL(n)!==t.zL(n))return!1;return!0},n.uB=function(n){for(var i=[],r=[],e=0;e<this.V;e++){var u=this.Sn(e),s=this.Tn(e),o=this.ZL(e),a=this.zL(e);n(u,s,o,a)&&(i.push(u,s),r.push(o,a))}return new t(i,r)},n.hB=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=0);for(var u=t-e,s=n+e,o=0;o<this.V;o+=1)if(MA(this.Sn(o),s,!r||this.ZL(o))&&MA(u,this.Tn(o),!i||this.zL(o)))return o;return-1},n.rB=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=0);for(var u=t+e,s=n-e,o=0;o<this.V;o+=1)if(MA(this.Sn(o),u,!i||this.ZL(o))&&MA(s,this.Tn(o),!r||this.zL(o)))return o;return-1},n.sB=function(t,n){return this.rB(t,t,!0,!0,n)},n.cB=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=this.V-1;r>=0;r-=1)if(MA(this.Sn(r),i,this.ZL(r)))return r;return-1},n.lB=function(t,n){void 0===n&&(n=0);for(var i=t-n,r=0;r<this.V;r+=1)if(MA(i,this.Tn(r),this.zL(r)))return r;return-1},n.dB=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=0;r<this.V;r+=1)if(this.Sn(r)>i)return r;return-1},n.fB=function(n){return this.qL(n),new t([this.Sn(n),this.Tn(n)],[this.ZL(n),this.zL(n)])},n._B=function(t,n){var i=this.sB(t,n);return i<0?void 0:this.fB(i)},t.Cn=function(n){for(var i=[],r=0;r<n.length;r++)i.push(n.start(r),n.end(r));return new t(i)},t.mB=function(n){return new t([n,n],[!0,!0])},t.gB=function(n,i){return n<=i?new t([n,i]):t.pB()},t.pB=function(){return OA},xt(t,[{key:"GL",get:function(){return this.HL.slice()}},{key:"vB",get:function(){for(var t=0,n=0;n<this.V;n++){t+=this.Tn(n)-this.Sn(n)}return t}}]),t}(),OA=new BA([]),LA=.92,FA=1.08,VA=.25,UA=function(t){function n(n,i,r){var e,u;return(e=t.call(this)||this).eo=!1,e.qe=!1,e.SB=[],e.VB=!1,e.RB=0,e.JE=void 0,e.NB=0,e.DB=1/0,e.ZB=function(){var t=e.WB.wR,n=e.WB.ER,i=t._B(n);i&&(e.RB=hr(i.Tn(0)-n,e.RB,.5),e.TB())},e.XB=function(){e.VB=!0,e.na.vn(Iy.UL,e.XB),e.qe&&e.Sn()},e.xB=function(){e.FB(),e.OB();var t=e.YB;if(t){var n=e.jB();if(t>e.bB.forceSeekOffset)return e._o(new fa("latencyrecoveryseek")),void e.ZC();var i=e.bB,r=i.minimumOffset,u=i.targetOffset,s=i.maximumOffset,o=e.WB.QR;if(n>s&&e.QB()){var a=e.bB.maximumPlaybackRate;PA,e.HB(a)}else if(n<r&&!qn.Ys.$g){var c=e.bB.minimumPlaybackRate;PA,e.HB(c)}else if(o>1&&n<u){PA,e.HB(1)}else if(o<1&&n>u){PA,e.HB(1)}}},e.na=n,e.WB=i,e.IB=r,e.LB=r.targetOffset,e.BB=r.targetOffset+(null!=(u=r.leniency)?u:0),e.CB=r.targetOffset,e.bB=e.EB(),e.na.bn(Iy.WL,e.ZB),e.na.bn(Iy.UL,e.XB),e}Rt(n,t);var i=n.prototype;return i.AB=function(t){this.SB.push(t),this.TB()},i.kB=function(t){bo(this.SB,t),this.TB()},i.TB=function(){this.bB=this.EB(),this.eo&&this.xB()},i.EB=function(){var t=this.RB,n=function(t,n){var i=n-t.targetOffset;return{minimumOffset:t.minimumOffset+i,targetOffset:t.targetOffset+i,maximumOffset:t.maximumOffset+i,forceSeekOffset:t.forceSeekOffset+i,minimumPlaybackRate:t.minimumPlaybackRate,maximumPlaybackRate:t.maximumPlaybackRate,leniency:t.leniency}}(this.IB,this.CB),i=[n].concat(Ut(this.SB)),r=i.reduce((function(t,n){var i;return A.max(t,null!=(i=null==n?void 0:n.minimumOffset)?i:0)}),t),e=i.reduce((function(t,n){var i;return A.max(t,null!=(i=null==n?void 0:n.targetOffset)?i:0)}),r+VA),u=i.reduce((function(t,n){var i;return A.max(t,null!=(i=null==n?void 0:n.maximumOffset)?i:0)}),e+VA);return{minimumOffset:r,targetOffset:e,maximumOffset:u,forceSeekOffset:i.reduce((function(t,n){var i;return A.max(t,null!=(i=null==n?void 0:n.forceSeekOffset)?i:0)}),u+VA),minimumPlaybackRate:i.reduce((function(t,n){var i;return A.min(t,null!=(i=n.minimumPlaybackRate)?i:LA)}),LA),maximumPlaybackRate:i.reduce((function(t,n){var i;return A.max(t,null!=(i=n.maximumPlaybackRate)?i:FA)}),FA)}},i.PB=function(){var t,n=null==(t=BA.Cn(this.na.wR)._B(this.na.ER))?void 0:t.Tn(0),i=void 0!==n?n-this.na.ER:0;this.DB=A.min(this.DB,i),this.NB+=1},i.MB=function(){if(!(this.NB<10)){var t=.25-this.DB,n=hr(this.CB+t,this.CB-.1,this.CB+.1);this.CB=hr(n,this.LB,this.BB),this.DB=1/0,this.NB=0}},i.OB=function(){var t=this;this.FB(),this.JE=qn.Gg((function(){return t.xB()}),500)},i.FB=function(){void 0!==this.JE&&(qn.Ug(this.JE),this.JE=void 0)},i.Sn=function(){var t=this;this.qe&&this.VB&&(this.eo||this.WB.bn(va.hb,this.xB),this.UB=qn.Gp((function(){return t.PB()}),1e3),this.GB=qn.Gp((function(){return t.MB()}),6e4),this.OB(),this.eo=!0)},i.RI=function(){this.eo&&(this.FB(),this.UB&&qn.Hp(this.UB),this.GB&&qn.Hp(this.GB),this.WB.vn(va.hb,this.xB),this.HB(1),this.eo=!1)},i.Xw=function(){this.RI(),this.na.vn(Iy.WL,this.ZB),this.na.vn(Iy.UL,this.XB),this.Ro()},i.HB=function(t){this.WB.qB.zB||this.na.QR!==t&&(this.na.QR=t)},xt(n,[{key:"wB",get:function(){return this.qe&&this.eo}},{key:"yB",get:function(){return this.bB}},{key:"Rt",get:function(){return this.qe},set:function(t){this.qe=t,t?this.Sn():this.RI()}},{key:"YB",get:function(){return this.na.KB}}]),n}(aa),WA=.66,jA=1.5,ZA=3;function XA(t){if(Yn(t)){var n,i,r,e,u,s,o=qn.Ys.tp?10:0,a=t.targetOffset;return{minimumOffset:null!=(n=t.minimumOffset)?n:a*WA,targetOffset:a,maximumOffset:null!=(i=t.maximumOffset)?i:a*jA,forceSeekOffset:A.max(null!=(r=t.forceSeekOffset)?r:a*ZA,o),minimumPlaybackRate:null!=(e=t.minimumPlaybackRate)?e:LA,maximumPlaybackRate:null!=(u=t.maximumPlaybackRate)?u:FA,leniency:null!=(s=t.leniency)?s:void 0}}}var GA=function(t){return t.JB="auto",t.$B="always",t.tO="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only",t}({}),HA=function(t){return t.UPLYNK="uplynk",t.MEDIATAILOR="mediatailor",t}({});function zA(t){if(!t||!ni(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}U(),St(),U(),St();var YA=function(t){return t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled",t}({});U(),St();var KA=!1;U(),St();var qA=function(t){return t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll",t}({});function JA(t){return!!t&&Zs(t,"mpd")}function QA(t){var n=yA.jC;return JA(t)&&(n=yA.qC),function(t){return!!t&&Zs(t,"m3u8")}(t)&&(n=yA.YC),n}function $A(t){switch(t){case pA.XC:case pA.zC:return t;default:return pA.wE}}function tT(t){if(!t)return!1;var n=t.toLowerCase();return Xs(n,yA.qC)}function nT(t){if(!t)return!1;var n=t.toLowerCase();return Xs(n,yA.YC)||Xs(n,yA.KC)}function iT(t){return $n(t)&&$n(t.ssai)&&"google-dai"===t.ssai.integration}function rT(t){return $n(t)&&("verizon-media"===t.integration||"uplynk"===t.integration)}function eT(t){return $n(t)&&("theolive"===t.type||"theolive"===t.integration)}function uT(t){return $n(t)&&"mediatailor"===t.integration}function sT(t){return $n(t)&&"millicast"===t.type}function oT(t){if(ni(t))return!t;if(rT(t))return!t.id;if(iT(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return sT(t)?!t.src||!t.streamAccountId:!t.src}function aT(t){return Boolean($n(t)&&ni(t.src))}function cT(t){return t.type===yA.QC||t.type===yA.JC}function hT(t){return ni(t)||aT(t)||iT(t)||rT(t)||sT(t)}function fT(t){if(t){if(hT(t))return oT(t);for(var n=0;n<t.length;n++){if(!oT(t[n]))return!1}return!0}return!0}function vT(){return{crossOrigin:pA.wE,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,useManagedMediaSource:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0,ignoreEmbeddedTextTrackTypes:[],seamlessSwitchStrategy:GA.JB,latencyConfiguration:void 0}}function lT(){return ss({},vT(),{src:void 0,type:yA.jC,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function dT(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:YA.ENABLED,googleIma:{useNativeIma:!1,useAdUiElementForSsai:!1,bitrate:-1,language:void 0,uiElements:void 0,allowSeekingForGoogleDai:!1},theoads:KA};return void 0===t||(void 0!==t.preload&&(n.preload=function(t){return"none"===t?qA.NONE:qA.MIDROLL_AND_POSTROLL}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Wg(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return YA.INSECURE;case"disabled":return YA.DISABLED;default:return YA.ENABLED}}(t.vpaidMode)),Jn(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(ni)),void 0!==t.googleIma&&(n.googleIma=function(t){return void 0===t?{useNativeIma:!1,useAdUiElementForSsai:!1,bitrate:-1,language:void 0,uiElements:void 0,allowSeekingForGoogleDai:!1}:{useNativeIma:Wg(t.useNativeIma),useAdUiElementForSsai:Wg(t.useAdUiElementForSsai),bitrate:null!=(n=t.bitrate)?n:-1,language:Yn(t.language)?Gg(t.language):void 0,uiElements:t.uiElements,allowSeekingForGoogleDai:Wg(t.allowSeekingForGoogleDai)};var n}(t.googleIma)),void 0!==t.theoads?n.theoads=Wg(t.theoads):n.theoads=KA),n}function gT(t){if(!Qn(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];$n(r)&&n.push(r)}return n}function mT(t){return ni(t.src)||sT(t)}function wT(t){return Jn(t)?t.filter(Pm):[]}U(),St(),Ct();var pT=function(t){function n(n,i){var r;return void 0===i&&(i=Ny.eO),(r=t.call(this,va.Cy)||this).currentTime=n,r.readyState=i,r}return Rt(n,t),n}(fa);U(),St(),Ct();var yT=function(t){function n(n){var i;return(i=t.call(this,va.zy)||this).currentTime=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var _T=function(t){function n(n){var i;return(i=t.call(this,va.ho)||this).currentTime=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var bT=function(t){function n(n){var i;return(i=t.call(this,va.Iy)||this).duration=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var kT=function(t){function n(n,i){var r;return(r=t.call(this,va.Yy)||this).currentTime=n,r.playbackRate=i,r}return Rt(n,t),n}(fa);U(),St(),Ct();var AT=function(t){function n(n){var i;return(i=t.call(this,va.Dy)||this).currentTime=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var TT=function(t){function n(n){var i;return(i=t.call(this,va.Jy)||this).currentTime=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var ST=function(t){function n(n){var i;return(i=t.call(this,va.Qy)||this).currentTime=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var ET=function(t){function n(n,i){var r;return(r=t.call(this,va.ub)||this).currentTime=n,r.volume=i,r}return Rt(n,t),n}(fa);function IT(t,n){return RT.apply(this,arguments)}function RT(){return RT=Zt((function(t,n,i,r,e){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:void 0===i&&(i=3),void 0===r&&(r=1e3),void 0===e&&(e=1/0),u=0,a.label=1;case 1:0,a.label=2;case 2:return a.trys.push([2,4,,7]),[4,t(n)];case 3:return[2,a.sent()];case 4:return Xo(s=a.sent()),u<i?(o=A.min(r*A.pow(2,u),e),u++,[4,ea(o,n)]):[3,6];case 5:return a.sent(),[3,1];case 6:throw s;case 7:return[3,1];case 8:return[2]}}))})),RT.apply(this,arguments)}U(),St(),Gt(),Jt();var CT={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};U(),St();var NT=function(t){return t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture",t.NATIVE_PICTURE_IN_PICTURE="native-picture-in-picture",t}({}),xT=function(t){return t.NONE="none",t.ALL="all",t.CONTENT="content",t}({});function DT(t){switch(t){case"all":case"content":return t;default:return"none"}}function PT(t){var n,i=Bg(t||{});return i.libraryLocation&&(i.libraryLocation=kd(i.libraryLocation,!0)),i.isEmbeddable=Boolean(i.isEmbeddable),i.cast=function(t){var n=wA(t?t.chromecast:void 0),i=function(t){switch(t){case"auto":return"auto";case"manual":default:return"manual";case"disabled":return"disabled"}}(t?t.strategy:void 0);return{chromecast:n,strategy:i}}(i.cast),i.ads=dT(i.ads),i.analytics=gT(i.analytics),i.mutedAutoplay=DT(i.mutedAutoplay),i.allowNativeFullscreen=Boolean(i.allowNativeFullscreen),i.allowMixedContent=Boolean(i.allowMixedContent),i.persistVolume=Boolean(i.persistVolume),i.liveOffset=function(t){return Number(t)||void 0}(i.liveOffset),i.hlsDateRange=function(t){return Boolean(t)}(i.hlsDateRange),i.retainPlaybackRateOnSourceChange=Boolean(i.retainPlaybackRateOnSourceChange),i.license=function(t){return ni(t)?t:void 0}(i.license),i.licenseUrl=function(t){if(!t)return;try{return kd(t)}catch(t){return void qn.Vp("Invalid 'licenseUrl', falling back to default URL")}}(i.licenseUrl),i.abr=RA(i.abr),i.retryConfiguration=function(t){var n=ss({},CT);return void 0!==t&&(void 0!==t.maxRetries&&(n.maxRetries=Number(t.maxRetries)),void 0!==t.minimumBackoff&&(n.minimumBackoff=Number(t.minimumBackoff)),void 0!==t.maximumBackoff&&(n.maximumBackoff=Number(t.maximumBackoff))),n}(i.retryConfiguration),i.hideDeprecationWarnings=Boolean(i.hideDeprecationWarnings),i.theoLive=function(t){if(!t)return t;return ss({},t,{externalSessionId:t.externalSessionId?Gg(t.externalSessionId):void 0,fallbackEnabled:jg(t.fallbackEnabled)})}(i.theoLive),null!=(n=i).uplynk||(n.uplynk=i.verizonMedia),i}function MT(t){return{bt:t.bt,ER:t.ER,ct:t.ct,PR:t.PR,lt:t.lt,MR:t.MR,ZR:t.ZR,KR:t.KR,QR:t.QR,rI:t.rI,uI:t.uI,dI:t.dI,vI:t.vI,gI:t.gI}}function BT(t,n){var i=n.gI,r=n.ZR;t.gI=i,t.ZR=r}function OT(t,n,i){if(n!==i){var r=n.bt!==i.bt,e=n.ER,u=n.ct,s=n.ZR,o=n.KR,a=n.QR,c=n.rI,h=n.uI,f=(n.vI,n.dI,n.gI),v=i.ER,l=i.ct,d=i.PR,g=i.MR,m=i.ZR,w=i.KR,p=i.QR,y=i.rI,_=i.uI,b=(i.vI,i.dI,i.gI);(r||c>Ny.eO&&y===Ny.eO)&&t._o(new pT(v,y)),w&&!o?t._o(new yT(v)):!w&&o&&t._o(new _T(v)),y>=Ny.Xn&&(r||c<Ny.Xn)&&t._o(new xy(v,y)),l===u||E(l)&&E(u)||t._o(new bT(l)),p!==a&&t._o(new kT(v,p)),v!==e&&t._o(new yg(v,void 0)),d&&t._o(new AT(v)),y>=Ny.iO&&(r||c<Ny.iO)&&t._o(new Dy(v,y)),_&&!h?t._o(new TT(v)):!_&&h&&t._o(new ST(v)),b===f&&m===s||t._o(new ET(v,b)),y>=Ny.sO&&(r||c<Ny.sO)&&t._o(new My(v,y)),y>=Ny.nO&&(r||c<Ny.nO)&&t._o(new By(v,y)),y!==c&&t._o(new Cy(v,y)),g&&t._o(new Ik(g))}}function LT(t){switch(t){case NT.INLINE:case NT.FULLSCREEN:case NT.PICTURE_IN_PICTURE:case NT.NATIVE_PICTURE_IN_PICTURE:return t;default:return}}U(),St(),Ct();var FT=function(t){function n(n){var i;return(i=t.call(this,va.xy)||this).currentSource=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var VT=function(t){function n(){return t.call(this,va.Ny)||this}return Rt(n,t),n}(fa);U(),St(),Ct();var UT=function(t){function n(){return t.call(this,va.Ly)||this}return Rt(n,t),n}(fa);U(),St(),Dt(),Ct(),U(),St(),Ct(),U(),St();var WT=function(t){return t.rO="enterpictureinpicture",t.oO="exitpictureinpicture",t.fa="pictureinpictureerror",t}({}),jT=function(t){function n(){return t.call(this,WT.rO)||this}return Rt(n,t),n}(fa);U(),St(),Ct();var ZT=function(t){function n(){return t.call(this,WT.oO)||this}return Rt(n,t),n}(fa),XT=function(t){function n(n){var i;return(i=t.call(this)||this).mC=n,i.wC(i.mC),i}Rt(n,t);var i=n.prototype;return i.wC=function(t){t.bn(WT.rO,this.Ds),t.bn(WT.oO,this.Ds),t.bn(WT.fa,this.Ds)},i.gC=function(t){t.vn(WT.rO,this.Ds),t.vn(WT.oO,this.Ds),t.vn(WT.fa,this.Ds)},i.vo=function(){return this.mC.vo()},i.xo=function(){return this.mC.xo()},i.yn=function(t){this.Ro(),this.gC(this.mC),t||this.mC.yn()},xt(n,[{key:"vC",get:function(){return this.mC},set:function(t){if(t!==this.mC){this.gC(this.mC);var n=this.mC.hO;this.mC=t,this.wC(t),!n&&this.mC.hO?this._o(new jT):n&&!this.mC.hO&&this._o(new ZT)}}},{key:"aO",get:function(){return this.mC.aO}},{key:"hO",get:function(){return this.mC.hO}}]),n}(aa),GT=function(t){function n(n){var i;return(i=t.call(this,n)||this).cO=new aA,i.dO=new aA,i.Hl=new cA,i.lO=new dA,i.uO=new XT(n.ja()),i.cO.vC=n.ht,i.dO.vC=n.rt,i.Hl.vC=n.nt,i.lO.vC=n.OR,i}Rt(n,t);var i=n.prototype;return i.ja=function(){return this.uO},i.mR=function(){return this.cO},i.FR=function(){return this.lO},i.lI=function(){return this.Hl},i._I=function(){return this.dO},i.fO=function(t){var n=this.gR;if(n!==t){n.gy(this.FI);var i=MT(this),r=this.kR(),e=this.SI(),u=this.TI();this.gR=t,this.cO.vC=t.ht,this.dO.vC=t.rt,this.Hl.vC=t.nt,this.uO.vC=t.ja(),this.lO.vC=t.OR,void 0!==i&&OT(this,i,this);var s=this.kR();s!==r&&this._o(new FT(s)),this.SI()!==e&&this._o(new VT),this.TI()!==u&&this._o(new UT),t.oy(this.FI)}},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),n.uO.yn(),n.cO.yn(),n.dO.yn(),n.Hl.yn(),n.lO.yn(),[2]}}))}))()},xt(n,[{key:"OR",get:function(){return this.FR()}}]),n}(sA);U(),St();var HT=function(t){function n(n){var i;return(i=t.call(this,n)||this).yO=[],i.mo=!1,i.SO=!1,i.bO(n),i}Rt(n,t);var i=n.prototype;return i.HR=function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s=0,o=0,a=0;a<t.length;a++){var c=t[a];n+=c._O,i+=c.vO,r+=c.mO,e+=c.gO,u+=c.pO,s+=c.wO.amountOfBufferedAudioSegments,o+=c.wO.amountOfBufferedVideoSegments}return{_O:n,vO:i,mO:r,gO:e,pO:u,wO:{amountOfBufferedAudioSegments:s,amountOfBufferedVideoSegments:o}}}(this.yO.map((function(t){return t.GR})))},i.RI=function(){return ia(this.yO.map((function(t){return t.RI()}))).then(Si)},i.nr=function(){return ia(this.yO.map((function(t){return t.nr()}))).then(Si)},i.kI=function(){if(!this.mo){for(var t=0,n=this.yO;t<n.length;t++){n[t].kI()}this.mo=!0}},i.pR=function(){for(var t=[],n=0,i=this.yO;n<i.length;n++){var r,e=i[n];(r=t).push.apply(r,Ut(e.pR()))}return t},i.LI=function(t){for(var n=!1,i=0,r=this.yO;i<r.length;i++){n=r[i].LI(t)||n}return n},i._o=function(n){this.LI(n)||t.prototype._o.call(this,n)},i.bO=function(t){this.yO.push(t)},i.AO=function(t){bo(this.yO,t)},i.fO=function(n){if(n!==this.gR){var i=this.gR;i.dr(),t.prototype.fO.call(this,n),n.pr(i)}},i.NI=function(){for(var t=0,n=this.yO;t<n.length;t++){n[t].NI()}},i.yn=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:n.Ro(),n.gR.dr(),i=0,r=n.yO,u.label=1;case 1:return i<r.length?(e=r[i],n.gR===e?[3,3]:[4,e.yn()]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[4,t.prototype.yn.call(n)];case 5:return u.sent(),[2]}}))}))()},xt(n,[{key:"vC",get:function(){return this.gR},set:function(t){this.fO(t)}}]),n}(GT);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Dt();var zT=function(){function t(){this.XH=new Zk,this.ZH=[]}var n=t.prototype;return n.HH=function(t){this.ZH.push(t)},n.uP=function(t,n,i,r,e,u,s){for(var o=this.XH.uP(t,n,i,r,e,u,s),a=0,c=this.ZH;a<c.length;a++){o=(0,c[a])(o,i,r)}return o},n.FH=function(t,n){return this.XH.FH(t,n)},n.VH=function(t){return this.XH.VH(t)},n.WH=function(){return!1},t.GH=function(){return this.Vg},xt(t,[{key:"UH",get:function(){return this.XH.UH}}]),t}();function YT(t,n){return ho(t.UH,n.UH)}zT.Vg=new zT,U(),St(),Gt(),Jt(),U(),St();var KT=function(){function t(){this.qH=[]}var n=t.prototype;return n.zH=function(t){this.qH.push(t),this.qH.sort(YT)},n.YH=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:r=0,e=i.qH,a.label=1;case 1:return r<e.length?(u=e[r],ri(s=u.FH(t,n))?[4,s]:[3,3]):[3,6];case 2:return o=a.sent(),[3,4];case 3:o=Boolean(s),a.label=4;case 4:if(o)return[2,u];a.label=5;case 5:return r++,[3,1];case 6:return[2,void 0]}}))}))()},t}();function qT(t){tS.Vg.zH(t)}U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St();var JT,QT,$T,tS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).jH=zT.GH(),n}Rt(n,t);var i=n.prototype;return i.KH=function(t){this.jH=t},i.QH=function(){return this.jH},i.JH=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:r=i.jH,e=!1,u=0,v.label=1;case 1:return u<t.length?(s=t[u],[4,i.YH(s,n)]):[3,12];case 2:return(o=v.sent())?(a=p_(s.contentProtection))?[3,4]:[4,o.VH(s.contentProtection)]:[3,5];case 3:a=v.sent(),v.label=4;case 4:if(a)return[2,{Cc:s,t:o}];s.contentProtection&&(e=!0),v.label=5;case 5:return ri(c=r.FH(s,n))?[4,c]:[3,7];case 6:return h=v.sent(),[3,8];case 7:h=Boolean(c),v.label=8;case 8:return h?(f=p_(s.contentProtection))?[3,10]:[4,r.VH(s.contentProtection)]:[3,11];case 9:f=v.sent(),v.label=10;case 10:if(f)return[2,{Cc:s,t:r}];s.contentProtection&&(e=!0),v.label=11;case 11:return u++,[3,1];case 12:return e?[4,qn.Zp()]:[3,14];case 13:throw v.sent()?new ol(ul.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported."):new ol(ul.CONTENT_PROTECTION_NOT_SUPPORTED,"The DRM configuration is not supported by this platform.");case 14:return[2,{Cc:t[0],t:r}]}}))}))()},n}(KT);tS.Vg=new tS,U(),St(),U(),St();var nS=function(){function t(t){this.Vs=f&&f.document&&f.document.createElement("div"),bi(this.Vs),t.appendChild(this.Vs)}return t.prototype.yn=function(){ai(this.Vs)},t}();U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var iS=function(t){return t.yG="",t.$H="none",t.eW="metadata",t.JB="auto",t}({});var rS=[Yp.fa,va.Cy,va.Py,va.gb,va.wy,va.Ny,va.Ly,va.Zy,va.Xy,va.eb,va.sb,Iy.BL,Iy.OL,Iy.FL,Iy.VL,Iy.iC,Iy.WL,Iy.UL,va.Ty,va.Ey,va.Iy,va.Dy,va.Uy,va.Gy,va.ho,va.qy,va.zy,va.Yy,va.jy,va.Jy,va.Qy,va.hb,va.ub,va.Ky,va.Hy,va.$y],eS=function(t){function n(n,i){var r;return(r=t.call(this)||this).rZ=void 0,r.tZ=void 0,r.QG=iS.$H,r.sZ=void 0,r.hZ=!0,r.cO=new aA,r.dO=new aA,r.Hl=new cA,r.lO=new dA,r.nZ=n,r.na=i,r.na.iI=r.iI,r.uO=new XT(i.ja()),r.eZ(),r}Rt(n,t);var i=n.prototype;return i.EI=function(){this.na.EI()},i.xI=function(){var t=this.na.xI();ri(t)&&na(t)},i.RI=function(){return this.Ca(void 0)},i.kI=function(){},i.eZ=function(){this.uO.vC=this.na.ja(),this.cO.vC=this.na.ht,this.dO.vC=this.na.rt,this.Hl.vC=this.na.nt,this.lO.vC=this.na.OR,this.na.bn(rS,this.Ds)},i.iZ=function(){this.na.vn(rS,this.Ds),this.cO.vC=void 0,this.dO.vC=void 0,this.Hl.vC=void 0,this.lO.vC=void 0},i.iu=function(){return this.sZ},i.Ca=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return Zo(n),i.sZ=t,t?fT(r=t.sources.filter(mT))?[2]:[4,i.nZ.JH(r,t)]:[2];case 1:return e=c.sent(),Zo(n),u=e.Cc,s=e.t,o=i.SI(),a=MT(i),i.rZ!==s||i.lt?(i.iZ(),[4,i.na.yn()]):[3,3];case 2:c.sent(),Zo(n),i.rZ=s,i.na=i.oZ(s,u),function(t,n){t.ZR!==n.ZR&&(t.ZR=n.ZR);t.gI!==n.gI&&(t.gI=n.gI);t.QR!==n.QR&&(t.QR=n.QR)}(i.na,a),OT(i,a,i),i.eZ(),c.label=3;case 3:return i.na.iI=i.iI,i.hZ?i.na.ge():i.na.be(),[4,i.na.Ca(u,t,n)];case 4:return c.sent(),Zo(n),i.aZ(u),i.SI()!==o&&i._o(new VT),[2]}}))}))()},i.aZ=function(t){this.tZ!==t&&(this.tZ=t,this._o(new FT(t)))},i.II=function(){return this.na.II()},i.CI=function(){this.na.CI()},i.DI=function(){this.na.DI()},i.SI=function(){return this.na.SI()},i.ja=function(){return this.uO},i.NI=function(){this.na.NI()},i.MI=function(){this.na.MI()},i.OI=function(t){return this.na.OI(t)},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.sZ=void 0,t.aZ(void 0),[4,t.na.nr()];case 1:return n.sent(),[2]}}))}))()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),[4,t.nr()];case 1:return n.sent(),[4,t.na.yn()];case 2:return n.sent(),t.cO.yn(),t.dO.yn(),t.Hl.yn(),t.uO.yn(),t.lO.yn(),[2]}}))}))()},i.ge=function(){this.hZ=!0,this.na.ge()},i.be=function(){this.hZ=!1,this.na.be()},xt(n,[{key:"ht",get:function(){return this.cO}},{key:"wR",get:function(){return this.na.wR}},{key:"lt",get:function(){return this.na.lt}},{key:"MR",get:function(){return this.na.MR}},{key:"bR",get:function(){return this.na.bR},set:function(t){this.na.bR=t}},{key:"bt",get:function(){return this.tZ}},{key:"ER",get:function(){return this.na.ER},set:function(t){this.na.ER=t}},{key:"ct",get:function(){return this.na.ct}},{key:"PR",get:function(){return this.na.PR}},{key:"OR",get:function(){return this.lO}},{key:"WR",get:function(){return this.na.WR}},{key:"GR",get:function(){return this.na.GR}},{key:"ZR",get:function(){return this.na.ZR},set:function(t){this.na.ZR=t}},{key:"qR",get:function(){return this.na.qR}},{key:"KR",get:function(){return this.na.KR}},{key:"QR",get:function(){return this.na.QR},set:function(t){this.na.QR=t}},{key:"tI",get:function(){return this.na.tI}},{key:"iI",get:function(){return this.QG},set:function(t){this.QG=t,this.na&&(this.na.iI=this.QG)}},{key:"rI",get:function(){return this.na.rI}},{key:"hI",get:function(){return this.na.hI}},{key:"uI",get:function(){return this.na.uI}},{key:"nt",get:function(){return this.Hl}},{key:"dI",get:function(){return this.na.dI}},{key:"rt",get:function(){return this.dO}},{key:"vI",get:function(){return this.na.vI}},{key:"gI",get:function(){return this.na.gI},set:function(t){this.na.gI=t}},{key:"yI",get:function(){return this.na.yI}},{key:"eH",get:function(){return this.na.eH}}]),n}(ha);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt(),Ct(),U(),St();var uS=function(t){return t.da="fullscreenchange",t.ga="fullscreensupportchange",t.fa="fullscreenerror",t}({});U(),St(),Ct();var sS=function(t){function n(){return t.call(this,uS.fa)||this}return Rt(n,t),n}(fa),oS=(uS.da,uS.ga,uS.fa,function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.vo=function(){this._o(new sS)},i.xo=function(){},i.yn=function(){this.Ro()},xt(n,[{key:"cs",get:function(){return!1}},{key:"oa",get:function(){return!1}}]),n}(aa));U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Ct();var aS=function(t){function n(){return t.call(this,WT.fa)||this}return Rt(n,t),n}(fa),cS=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.vo=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t._o(new aS),[2]}))}))()},i.xo=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t._o(new aS),[2]}))}))()},i.yn=function(){this.Ro()},xt(n,[{key:"aO",get:function(){return!1}},{key:"hO",get:function(){return!1}}]),n}(aa),hS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).uZ=0,n.lZ=!1,n.dZ=!0,n.fZ=1,n.cZ=!1,n.zA=1,n.ht=new im,n.wR=BA.pB().ks(),n.ct=NaN,n.PR=!1,n.lt=void 0,n.MR=void 0,n.OR=void 0,n.WR=!1,n.qR=!0,n.tI=BA.pB().ks(),n.iI=iS.$H,n.rI=Ny.eO,n.hI=BA.pB().ks(),n.$G=void 0,n.nt=new $p,n.dI=0,n.rt=new im,n.vI=0,n.yI=new Vk,n.iH=new Dk,n.ea=new oS,n.ta=new cS,n}Rt(n,t);var i=n.prototype;return i.RR=function(t,n){this.uZ!==t&&(this.uZ=t,this.cZ=!0,this._o(new TT(this.ER)))},i.ge=function(){},i.be=function(){},i.xI=function(){this.dZ&&(this.dZ=!1,this._o(new _T(this.ER)),this._o(new Py(this.ER)))},i.EI=function(){this.dZ||(this.dZ=!0,this._o(new yg(this.ER,this.bR)),this._o(new yT(this.ER)))},i.Ca=function(t,n){return ut.resolve()},i.II=function(){return!1},i.CI=function(){},i.DI=function(){},i.SI=function(){return this.ea},i.ja=function(){return this.ta},i.OI=function(t){throw new y("Adding a CustomTextTrack is not supported without setting a source.")},i.NI=function(){},i.MI=function(){},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.uZ=0,t.cZ=!1,t.EI(),t._o(new pT(t.uZ)),[2]}))}))()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.Ro(),t.ht.yn(),t.nt.yn(),t.rt.yn(),[2]}))}))()},xt(n,[{key:"bR",get:function(){},set:function(t){}},{key:"bt",get:function(){}},{key:"ER",get:function(){return this.uZ},set:function(t){this.RR(t)}},{key:"GR",get:function(){return{_O:0,vO:0,mO:0,gO:0,pO:0,wO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"ZR",get:function(){return this.lZ},set:function(t){this.lZ!==t&&(this.lZ=t,this._o(new ET(this.ER,this.gI)))}},{key:"KR",get:function(){return this.dZ}},{key:"QR",get:function(){return this.fZ},set:function(t){this.fZ!==t&&(this.fZ=t,this._o(new kT(this.ER,this.QR)))}},{key:"uI",get:function(){return this.cZ}},{key:"gI",get:function(){return this.zA},set:function(t){this.zA!==t&&(this.zA=t,this._o(new ET(this.ER,this.gI)))}},{key:"AI",get:function(){return!1},set:function(t){}},{key:"eH",get:function(){return this.iH}},{key:"KB",get:function(){}}]),n}(aa),fS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).bH=void 0,n.WB=void 0,n}Rt(n,t);var i=n.prototype;return i.TI=function(){var t;return null==(t=this.WB)?void 0:t.jG},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),n.WB?[4,n.bH.yH(n.WB)]:[3,3];case 2:i.sent(),n.WB=void 0,i.label=3;case 3:return[2]}}))}))()},xt(n,[{key:"_Z",set:function(t){this.bH=t,this.WB=t.OH(rm.mE)}}]),n}(hS),vS=function(t){function n(n,i,r,e,u,s,o){var a,c=new fS;return(a=t.call(this,tS.Vg,c)||this).Cu=n,a.MT=i,a.fW=r,a.gZ=e,a.pZ=u,a.wZ=o,a.mZ=new JT(s,a.wZ),a.mZ.AZ(a.Cu),c._Z=a.mZ,a.bZ=new nS(a.Cu),a}Rt(n,t);var i=n.prototype;return i.kI=function(){t.prototype.kI.call(this),this.mZ.vZ()},i.pr=function(t){BT(this,t)},i.dr=function(){},i.LI=function(t){return!1},i.Ca=function(n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return e=r.SI(),u=r.TI(),[4,t.prototype.Ca.call(r,n,i)];case 1:return s.sent(),r.SI()!==e&&r._o(new VT),r.TI()!==u&&r._o(new UT),[2]}}))}))()},i.RR=function(t,n){this.na.RR(t,n)},i.oZ=function(t,n){return t.uP(this.Cu,this.mZ,this.fW,this.MT,this.gZ,this.pZ,this.wZ,n)},i.TI=function(){return this.na.TI()},i.pR=function(){return this.mZ.yZ.map((function(t){return t.jG}))},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),n.mZ.yn(),n.bZ.yn(),[2]}}))}))()},xt(n,[{key:"we",get:function(){return this.Cu}},{key:"AI",get:function(){return this.na.AI},set:function(t){this.na.AI=t}}]),n}(eS);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var lS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).ea=new oS,e.ta=new cS,e.tH=new Vk,e.Cu=n,e.TZ=i,e.SZ=new im,e.EZ=new $p,e.kZ=r,e}Rt(n,t);var i=n.prototype;return i.RR=function(t,n){},i.LI=function(t){return!0},i.be=function(){},i.xI=function(){throw this._o(new Ik(this.kZ)),this.TZ},i.EI=function(){},i.iu=function(){},i.Ca=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(t){throw Zo(n),i._o(new Ik(i.kZ)),i.TZ}))}))()},i.ge=function(){},i.RI=function(){return ut.resolve()},i.TI=function(){},i.SI=function(){return this.ea},i.ja=function(){return this.ta},i.pR=function(){return[]},i.kI=function(){},i.pr=function(t){},i.dr=function(){},i.II=function(){return!1},i.CI=function(){},i.DI=function(){},i.NI=function(){},i.MI=function(){},i.OI=function(t){},i.nr=function(){return ut.resolve()},i.yn=function(){return this.Ro(),this.SZ.yn(),this.EZ.yn(),ut.resolve()},xt(n,[{key:"ht",get:function(){return this.SZ}},{key:"wR",get:function(){return BA.pB().ks()}},{key:"bR",get:function(){return new Date(NaN)},set:function(t){}},{key:"bt",get:function(){}},{key:"ER",get:function(){return 0},set:function(t){}},{key:"ct",get:function(){return 0}},{key:"we",get:function(){return this.Cu}},{key:"PR",get:function(){return!0}},{key:"lt",get:function(){return this.TZ}},{key:"MR",get:function(){return this.kZ}},{key:"OR",get:function(){}},{key:"GR",get:function(){return{_O:0,vO:0,mO:0,gO:0,pO:0,wO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"ZR",get:function(){return!1},set:function(t){}},{key:"qR",get:function(){return!0}},{key:"KR",get:function(){return!0}},{key:"QR",get:function(){return 0},set:function(t){}},{key:"tI",get:function(){return BA.pB().ks()}},{key:"iI",get:function(){return iS.$H},set:function(t){}},{key:"rI",get:function(){return Ny.eO}},{key:"hI",get:function(){return BA.pB().ks()}},{key:"uI",get:function(){return!1}},{key:"nt",get:function(){return this.EZ}},{key:"dI",get:function(){return 0}},{key:"rt",get:function(){return this.SZ}},{key:"vI",get:function(){return 0}},{key:"gI",get:function(){return 1},set:function(t){}},{key:"yI",get:function(){return this.tH}},{key:"AI",get:function(){return!1},set:function(t){}},{key:"WR",get:function(){return!1}}]),n}(ha);function dS(t){if(t&&$n(t))return ss({},t,{integration:gS(t.integration),fairplay:bS(t.fairplay),widevine:mS(t.widevine),playready:wS(t.playready),clearkey:kS(t.clearkey),aes128:AS(t.aes128),integrationParameters:TS(t.integrationParameters),preferredKeySystems:SS(t.preferredKeySystems),useOipfDrmAgent:Wg(t.useOipfDrmAgent)})}function gS(t){if(ni(t))return t}function mS(t){if(t&&$n(t))return{persistentState:pS(t.persistentState),distinctiveIdentifier:pS(t.distinctiveIdentifier),audioRobustness:yS(t.audioRobustness),videoRobustness:yS(t.videoRobustness),licenseAcquisitionURL:ni(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:_S(t.licenseType),headers:t.headers,useCredentials:!!ii(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:ni(t.certificate)||Rc(t.certificate)?t.certificate:void 0}}function wS(t){if(t){var n=mS(t);if(n)return ss({},n,{customData:ni(t.customData)?t.customData:void 0})}}function pS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function yS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function _S(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function bS(t){if(t){var n=mS(t);if(n)return ss({},n,{certificateURL:ni(t.certificateURL)?t.certificateURL:void 0})}}function kS(t){if(t){var n=mS(t);if(n){var i=Jn(t.keys)?t.keys.map((function(t){return function(t){if(!t||!$n(t))return;var n=t.id,i=t.value;if(!ni(n)||!ni(i))return;return{id:n,value:i}}(t)})).filter(Yn):void 0;return ss({},n,{keys:i})}}}function AS(t){if($n(t))return{useCredentials:ii(t.useCredentials)?t.useCredentials:void 0}}function TS(t){if($n(t))return t}function SS(t){return t&&Jn(t)?t.map((function(t){return C_(t)})).filter(Yn):[Ts,bs,Cs]}U(),St(),U(),St(),U(),St(),U(),St();var ES={bt:void 0,ER:0,ct:NaN,PR:!1,lt:void 0,MR:void 0,ZR:!1,KR:!0,QR:1,rI:Ny.eO,uI:!1,dI:0,vI:0,gI:1};U(),St(),Dt();var IS=function(t){return t.DEFAULT="",t.THEO="theo",t.CSAI="csai",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor",t.THEOADS="theoads",t.UPLYNK="uplynk",t}({}),RS=function(){function t(){this.RZ=[]}var n=t.prototype;return n.IZ=function(t){var n=this.RZ.filter((function(n){return n.CZ(t)}));if(n.length>1)0;else if(0===n.length)throw y("Unknown ad integration: "+t.integration);return n[0]||null},n.PZ=function(t){this.RZ.push(t)},xt(t,[{key:"xZ",get:function(){return this.RZ}}]),t}();RS.Vg=new RS,U(),St(),Ct(),U(),St(),U(),St(),Ct(),U(),St(),Dt(),Ct();var CS=function(t){return t.UL="PLAYING",t.DZ="PAUSED",t.NZ="SEEK",t.MZ="STALLED",t.LZ="FAILED",t.BZ="INITIAL_BUFFERING",t.OZ="NO_ACCESS",t}({}),NS=function(t){return t.FZ="HTTP_REQUEST_STATUS_CODE_1XX",t.VZ="HTTP_REQUEST_STATUS_CODE_2XX",t.WZ="HTTP_REQUEST_STATUS_CODE_3XX",t.UZ="HTTP_REQUEST_STATUS_CODE_4XX",t.GZ="HTTP_REQUEST_STATUS_CODE_5XX",t.HZ="BUFFER_LENGTH",t.ZZ="BYTES_RECEIVED",t.XZ="SEGMENT_READ_BITRATE",t.zZ="SEGMENT_PROFILE_BITRATE",t.qZ="VIDEO_PROFILE_BITRATE",t.YZ="NUMBER_OF_FRAMES_DROPPED",t.KZ="PLAYBACK_POSITION",t.jZ="NUMBER_OF_FRAMES_DECODED",t.QZ="PLAYBACK_DELTA_TO_ORIGIN",t.JZ="STREAM_DELTA_TO_ORIGIN",t.$Z="ORIGIN_TIMESTAMP",t}({}),xS=function(t){return t.tX="MANIFEST_URI",t.eX="ASSET_DURATION",t.iX="NUMBER_OF_CONTENT_PROFILES",t.sX="CDN",t.nX="CONTENT_TITLE",t.rX="SERVICE_NAME",t.oX="CONTENT_TYPE",t.hX="CONTENT_DESCRIPTION",t}({}),DS=function(t){return t.aX="shutdown_normal_shutdown",t}({}),PS=function(t){return t.uX="session/",t.cX="content/",t.lX="internalError/",t.dX="drmError/",t.fX="caError/",t._X="networkError/",t}({}),MS=function(){function t(t,n){this.category=t,this.statusCode=n}return xt(t,[{key:"code",get:function(){return this.category+this.statusCode}}]),t}(),BS=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n}(aa);U(),St(),Ct(),U(),St(),U(),St();var OS=function(t){return t.PAUSE="vX",t.RESUME="mX",t}({}),LS=function(t){function n(){return t.call(this,"gX")||this}return Rt(n,t),n}(fa),FS=function(t){function n(n,i){var r;return(r=t.call(this)||this).na=n,r.bX=i,r.wX=!1,r.AX=function(){r.yX(),r.wX=!1},r.SX=function(){r.wX=!0},r.bX.bn(OS.PAUSE,r.AX),r.bX.bn(OS.RESUME,r.SX),r}Rt(n,t);var i=n.prototype;return i.pX=function(){this.wX=!0},i.yX=function(){},i.yn=function(){this.wX=!1,this.bX.vn(OS.PAUSE,this.AX),this.bX.vn(OS.RESUME,this.SX)},i.TX=function(){return isFinite(this.na.jd())},n}(aa),VS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).NX=!1,n.UX=!1,n.GX=!1,n.xX=function(){n.UX&&!n.GX&&n.BX(CS.MZ)},n.IX=function(){n.na.KR||(n.UX||n.VX(new MS(PS.cX,"firstFrameDisplayed"),"now"),n.UX=!0,n.BX(CS.UL))},n.RX=function(){n.na.KR&&(n.UX=!0,n.BX(CS.DZ))},n.CX=function(){n.NX&&(n.GX=!0,n.NX=!1,n.BX(CS.NZ))},n.PX=function(){n.GX=!1,n.na.KR&&n.BX(CS.DZ)},n}Rt(n,t);var i=n.prototype;return i.pX=function(){t.prototype.pX.call(this),this.kX()},i.yn=function(){this.EX(),t.prototype.yn.call(this)},i.kX=function(){this.na.bn(Iy.WL,this.xX),this.na.bn(va.zy,this.RX),this.na.bn(Iy.UL,this.IX),this.na.bn(va.Jy,this.CX),this.na.bn(va.Qy,this.PX)},i.EX=function(){this.na.vn(Iy.WL,this.xX),this.na.vn(va.zy,this.RX),this.na.vn(Iy.UL,this.IX),this.na.vn(va.Jy,this.CX),this.na.vn(va.Qy,this.PX)},i.DX=function(){this.NX=!0},i.MX=function(){var t=this.na.NR(),n=new MS(PS.lX,String(t.code));this.LX(CS.LZ,n,t.message)},i.BX=function(t){this.wX&&(this.bX.OX(t),this._o(new LS))},i.LX=function(t,n,i){this.bX.FX(t,n,i),this._o(new LS)},i.VX=function(t,n){this.bX.WX(t,n)},n}(FS);U(),St(),Ct();var US=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).qX=function(){n.TX()&&n.jX(xS.eX,A.round(n.na.jd()))},n.zX=function(t){"manifest"===t.request.type&&n.jX(xS.tX,t.url)},n.HX=function(){var t=mo(n.na.rt.lC,(function(t){return t.Rt}));t&&n.jX(xS.iX,t.NC.V)},n}Rt(n,t);var i=n.prototype;return i.pX=function(){t.prototype.pX.call(this),this.HX(),this.kX()},i.yn=function(){this.EX(),t.prototype.yn.call(this)},i.kX=function(){this.na.rt.bn(Cg.da,this.HX),this.na.XX.ZX(this.zX),this.na.bn(va.Iy,this.qX)},i.EX=function(){this.na.rt.vn(Cg.da,this.HX),this.na.XX.YX(this.zX),this.na.vn(va.Iy,this.qX)},i.KX=function(t){t.serviceName&&this.jX(xS.rX,t.serviceName),t.cdn&&this.jX(xS.sX,t.cdn),t.contentTitle&&this.jX(xS.nX,t.contentTitle),t.contentType&&this.jX(xS.oX,t.contentType),t.contentDescription&&this.jX(xS.hX,t.contentDescription)},i.jX=function(t,n){this.wX&&this.bX.QX(t,n)},n}(FS);U(),St(),Ct();var WS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).vz=as(),n.lz=0,n.JX=0,n.$X=0,n.tz=[],n.ez=function(){n.mz(),n.gz(),n.yz()},n.rz=function(t){t.EE===rm.mE&&(n.cz(t.pO),n.pz(),n.wz(t.Az),n.iz())},n.nz=function(t){var i=t.status.toString()[0],r=n.vz.get(i)||0;n.vz.set(i,r+1),n._z(NS.FZ,"1"),n._z(NS.VZ,"2"),n._z(NS.WZ,"3"),n._z(NS.UZ,"4"),n._z(NS.GZ,"5")},n}Rt(n,t);var i=n.prototype;return i.pX=function(){t.prototype.pX.call(this),this.JX=this.na.GR._O,this.$X=this.na.GR.mO,this.kX(),this.tz.push(w(this.ez,1e3))},i.yX=function(){t.prototype.yX.call(this),this.iz()},i.yn=function(){this.iz(),this.EX(),this.tz.forEach(p),Eo(this.tz),t.prototype.yn.call(this)},i.kX=function(){this.na.XX.ZX(this.nz),this.na.bn(va.sb,this.rz)},i.EX=function(){this.na.XX.YX(this.nz),this.na.vn(va.sb,this.rz)},i.oz=function(){this.iz()},i.cz=function(t){this.lz+=t,this.fz(NS.ZZ,this.lz)},i._z=function(t,n){var i=this.vz.get(n)||0;this.fz(t,i)},i.mz=function(){var t=this.na.GR._O-this.JX;this.fz(NS.YZ,t)},i.gz=function(){var t=this.na.GR.mO-this.$X;this.fz(NS.jZ,t)},i.pz=function(){var t=Nk.Vg.cG();this.fz(NS.XZ,Bc(t))},i.wz=function(t){this.fz(NS.zZ,Bc(t)),this.fz(NS.qZ,Bc(t))},i.iz=function(){if(this.TX()){var t=A.round(br(this.na.xR()));this.fz(NS.KZ,t)}},i.yz=function(){var t=BA.Cn(this.na.yR()),n=this.na.xR(),i=t._B(n),r=i?br(i.Tn(0)-n):0;this.fz(NS.HZ,r)},i.fz=function(t,n){this.wX&&this.bX.bz(t,n)},n}(FS);U(),St();function jS(t){return t&&t.integration===KS}function ZS(t){if(!ni(t.asset))throw new _("Agama source configuration: expected 'asset' to be a string");if(!function(t){return!!ni(t)&&("live"===t||"vod"===t)}(t.streamType))throw new _("Agama source configuration: expected 'streamType' to be 'live' or 'vod'");if(void 0!==t.serviceName&&!function(t){return!!ni(t)&&("live"===t||"svod"===t||"nvod"===t||"tvod"===t||"avod"===t||"catchuptv"===t)}(t.serviceName))throw new _("Agama source configuration: expected 'serviceName' to be 'live', 'svod', 'nvod','tvod', 'avod' or 'catchuptv'");if(void 0!==t.cdn&&!ni(t.cdn))throw new _("Agama source configuration: expected 'cdn' to be a string");if(void 0!==t.contentTitle&&!ni(t.contentTitle))throw new _("Agama source configuration: expected 'contentTitle' to be a string");if(void 0!==t.contentType&&!ni(t.contentType))throw new _("Agama source configuration: expected 'contentType' to be a string");if(void 0!==t.contentDescription&&!ni(t.contentDescription))throw new _("Agama source configuration: expected 'contentDescription' to be a string");return t}function XS(t){if(!ni(t.config))throw new _("Agama player configuration: expected 'config' to be a string");if(void 0!==t.logLevel&&!function(t){return!!ni(t)&&("info"===t||"debug"===t||"warning"===t||"error"===t||"fatal"===t)}(t.logLevel))throw new _("Agama player configuration: expected 'logLevel' to be 'info', 'debug', 'warning','error' or 'fatal'");if(void 0!==t.application&&!ni(t.application))throw new _("Agama player configuration: expected 'application' to be a string");if(void 0!==t.applicationVersion&&!ni(t.applicationVersion))throw new _("Agama player configuration: expected 'applicationVersion' to be a string");if(void 0!==t.userAccountID&&!ni(t.userAccountID))throw new _("Agama player configuration: expected 'userAccountID' to be a string");if(void 0!==t.deviceID&&!ni(t.deviceID))throw new _("Agama player configuration: expected 'deviceID' to be a string");return t}function GS(){var t="00000000-0000-0000-0000-000000000000",n=f.navigator,i=f.screen,r=""+n.mimeTypes.length;r+=n.userAgent.replace(/\D+/g,""),r+=n.plugins.length,r+=i.height||"",r+=i.width||"",r+=i.pixelDepth||"";var e=function(t){var n,i=0;if(0===t.length)return"0";for(n=0;n<t.length;n++)i=(i<<5)-i+t.charCodeAt(n),i|=0;return A.abs(i).toString().substring(0,12)}(r+=A.floor(1e3*A.random()));return t=[t.slice(0,t.length-e.length),e].join("")}function HS(t,n,i){var r=n,e=function(t,n){return nT(n)?t.DsProtocol.APPLE_HLS:t.DsProtocol.MPEG_DASH}(t,r.type),u=function(t,n){var i=t.DsPlaylistType.VOD;"live"===n&&(i=t.DsPlaylistType.LIVE);return i}(t,i.streamType);return{asset:i.asset,playlistType:u,protocol:e,uri:r.src}}U(),St();var zS=function(t){return t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected",t}({}),YS=function(){function t(t,n,i){var r=this;this.na=t,this.bX=n,this.co=function(){r.Wz(),r.Nz()},this.Wz=function(){var t=r.na.iu(),n=t&&t.analytics;r.Uz=function(t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++){var i=t[n];if(jS(i))return ZS(i)}}(n)},this.Nz=function(){r.Sz(),r.na.vn(va.ho,r.Dz),!r.Pz()&&r.bX.Gz()&&r.na.bt&&r.Uz&&(r.Mz(),r.na.KR||r.na.PR?r.na.bn(va.ho,r.Dz):r.Dz())},this.Dz=function(){r.na.bt&&r.Uz&&(r.bX.Zz(r.na.bt,r.Uz),r.pX(),r.KX(r.Uz),r.Rz(),r.na.bn(Yp.fa,r.Tz),r.na.vn(va.ho,r.Dz))},this.Cz=function(){r.Pz()&&r.Sz()},this.Tz=function(){r.Vz(),r.Sz()},this.Fz=function(){r.Bz&&r.Bz.oz()};var e=function(t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++){var i=t[n];if(jS(i))return XS(i)}}(i.analytics);e&&this.bX.Xz()&&(this.bX.kI(e),this.bX.Gz()?(this.bX.zz(),this.na.bn(va.uo,this.co),this.na.bn(va.Dy,this.Nz)):console.warn("An error occurred while initializing an Agama EMP client. Please check your configuration"))}var n=t.prototype;return n.Sz=function(){this.na.vn(Yp.fa,this.Tz),this.kz(),this.Ez(),this.bX.xz()},n.Rz=function(){this.na.Iz.wa.chromecast&&this.na.Iz.wa.chromecast.addEventListener("statechange",this.Cz)},n.Ez=function(){this.na.Iz.wa.chromecast&&this.na.Iz.wa.chromecast.removeEventListener("statechange",this.Cz)},n.Pz=function(){return void 0!==this.na.Iz.wa.chromecast&&this.na.Iz.wa.chromecast.state===zS.CONNECTED},n.yn=function(){this.na.vn(va.uo,this.co),this.na.vn(va.ho,this.Dz),this.na.vn(va.Dy,this.Nz),this.Sz(),this.bX.yn()},n.Mz=function(){this.Lz||(this.Lz=new VS(this.na,this.bX)),this.Bz||(this.Bz=new WS(this.na,this.bX)),this.Oz||(this.Oz=new US(this.na,this.bX))},n.pX=function(){this.Lz&&(this.Lz.pX(),this.Lz.bn("gX",this.Fz)),this.Bz&&this.Bz.pX(),this.Oz&&this.Oz.pX()},n.kz=function(){this.Lz&&(this.Lz.vn("gX",this.Fz),this.Lz.yn(),this.Lz=void 0),this.Bz&&(this.Bz.yn(),this.Bz=void 0),this.Oz&&(this.Oz.yn(),this.Oz=void 0)},n.KX=function(t){this.Oz&&this.Oz.KX(t)},n.Vz=function(){this.Lz&&this.Lz.MX()},n.DX=function(){this.Lz&&this.Lz.DX()},t}(),KS="agama";U(),St(),U(),St();var qS=function(t){return t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical",t}({});U(),St();var JS=function(t){return t.NONE="",t.PM360="360",t.PM180="180",t}({});function QS(t){switch(t){case"":return qS.NONE;case"horizontal":return qS.HORIZONTAL;case"vertical":return qS.VERTICAL;default:throw new _}}function $S(t,n){if(n)return JS.PM360;if(null==t)return JS.NONE;switch(t){case"":return JS.NONE;case"360":return JS.PM360;case"180":return JS.PM180;default:throw new _("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}U(),St();var tE=function(t){return t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event",t}({});U(),St();var nE="https://content.uplynk.com";function iE(t){if(!t)return!0;var n=!function(t){return hT(t)||Qn(t)&&hT(t[0])}(t.sources)||fT(t.sources),i=!t.ads||rE(t.ads),r=""!==t.poster&&!t.poster;return n&&i&&r}function rE(t){return!t||Jn(t)&&0===t.length}function eE(t){if(t&&t.sources)return uE(t.sources)}function uE(t){return ni(t)?QA(t):aT(t)?t.type||t.src&&QA(t.src):Qn(t)&&t.length>0?uE(t[0]):void 0}function sE(t){if(t&&t.sources)return oE(t.sources)}function oE(t){return ni(t)?t:aT(t)?t.src:Qn(t)&&t.length>0?oE(t[0]):void 0}function aE(t,n,i){return rT(t)?function(t,n,i){var r=ss({},vT(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:HA.UPLYNK,id:"",prefix:nE,preplayParameters:{},playbackUrlParameters:{},assetType:tE.ASSET,contentProtected:!1,assetInfo:!0});r.id=function(t){if(ni(t))return t;if(Qn(t)&&ni(t[0]))return t;if(function(t){return $n(t)&&ni(t.userId)&&(Qn(t.externalId)||ni(t.externalId))}(t))return t;return""}(t.id),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return tE.CHANNEL;case"event":return tE.EVENT;default:return tE.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Wg(t.contentProtected));t.assetInfo?r.assetInfo=Wg(t.assetInfo):r.assetInfo="asset"===r.assetType;t.prefix&&(r.prefix=Gg(t.prefix)||nE);return r.ping=function(t,n){var i=!1,r=!1,e=!1;n?(i=!!ii(n.adImpressions)&&n.adImpressions,r=!!ii(n.freeWheelVideoViews)&&n.freeWheelVideoViews,e=ii(n.linearAdData)?n.linearAdData:t!==tE.ASSET):t!==tE.ASSET&&(e=!0);return{adImpressions:i,freeWheelVideoViews:r,linearAdData:e}}(r.assetType,t.ping),r=hE(r,t),r=vE(r,n,i),r=fE(r,t,i),r}(t,n,i):uT(t)?function(t,n,i){var r;return ss({},cE(t,n,i),{integration:HA.MEDIATAILOR,adParams:null!=(r=t.adParams)?r:{}})}(t,n,i):eT(t)?function(t,n,i){return ss({},cE(t,n,i),{type:"theolive"})}(t,n,i):sT(t)?function(t,n,i){return ss({},cE(t,n,i),{type:yA.$C,src:t.src,streamAccountId:t.streamAccountId,subscriberToken:t.subscriberToken,connectOptions:gE(t.connectOptions),apiUrl:t.apiUrl})}(t,n,i):cE(t,n,i)}function cE(t,n,i){var r=lT(),e=n&&(n.contentProtection||n.drm);if(ni(t)){if(r.src=t,r.type=QA(t),e){var u=dS(e);r.contentProtection=TA(u)}}else if(aT(t)||iT(t)||sT(t)){r.src=t.src,r.type=t.type||QA(t.src),r.isAdvertisement=t.isAdvertisement;var s=cT(t)?t.hesp:void 0;void 0!==s&&(r.hesp=s),uT(t)&&(r.integration=t.integration);var o=dS(t.contentProtection||t.drm||e);r.contentProtection=TA(o),t.ssai&&(r.ssai=kA(t.ssai)),r=hE(r,t)}return r=fE(r=vE(r,n,i),t,i)}function hE(t,n){var i,r;n.useCredentials?t.crossOrigin=pA.zC:n.crossOrigin&&(t.crossOrigin=$A(n.crossOrigin)),ni(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Wg(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Wg(n.useNativePlayback)),n.useManagedMediaSource&&(t.useManagedMediaSource=Wg(n.useManagedMediaSource)),n.dash&&(t.dash=SA(n.dash)),n.hls&&(t.hls=EA(n.hls)),n.lcevc&&(t.lcevc=Wg(n.lcevc)),n.ignoreEmbeddedTextTrackTypes&&(t.ignoreEmbeddedTextTrackTypes=wT(n.ignoreEmbeddedTextTrackTypes)),n.latencyConfiguration&&(t.latencyConfiguration=XA(n.latencyConfiguration)),t.seamlessSwitchStrategy=zA(null!=(r=n.seamlessSwitchStrategy)?r:null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch);var e=jg(n.experimentalRendering);void 0!==e&&(t.experimentalRendering=e);var u=jg(n.nativeUiRendering);return void 0!==u&&(t.nativeUiRendering=u),t}function fE(t,n,i){return t.abr=CA(ni(n)?void 0:RA(n.abr),null==i?void 0:i.abr),t}function vE(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!Yn(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!Yn(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===pA.wE&&(null==n||null==(r=n.vr)?void 0:r[360])&&(t.crossOrigin=pA.XC),t.useCredentials=t.crossOrigin===pA.zC,ni(e)&&!t.timeServer&&(t.timeServer=e),t}function lE(t){var n={src:""};if(t&&t.src){if(n.src=Gg(t.src),"default"in t&&(n.default=Wg(t.default)),n.kind=function(t){var n=String(t||"").toLowerCase();return iy(n)?n:n?"metadata":"subtitles"}(t.kind),Pm(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function dE(t,n){if($n(t))try{return n.IZ(t).qz(t)}catch(t){return}}function gE(t){if(null==t)return t;if(!$n(t))throw new y("connectOptions must be an object");return t}function mE(t,n,i){if(void 0===i&&(i=RS.Vg),iE(t))return{sources:[lT()]};var r=Bg(t);if(r.sources=function(t,n,i){if(hT(t))return[aE(t,n,i)];if(Qn(t)&&hT(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(aE(u,n,i))}return r}return[lT()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!Qn(t))return[];for(var i=[],r=0;r<t.length;r++){var e=t[r];(e=dE(e,n))&&i.push(e)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u=!fT(r.sources),s=r.ads&&r.ads.length>0;if(u&&!s?delete r.ads:s&&!u&&(r.sources=[]),"textTracks"in r){var o=function(t){if(!Qn(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];""!==(r=lE(r)).src&&n.push(r)}return n}(r.textTracks);0===o.length?delete r.textTracks:r.textTracks=o}if("poster"in r&&(r.poster=Gg(r.poster)),"streamType"in r&&(r.streamType=function(t){switch(t){case"live":case"dvr":case"vod":return t}}(r.streamType)),"vr"in r&&(r.vr=function(t){var n=t||{};return n.stereoMode=function(t){return function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(t)?t:""}(n.stereoMode),{panoramaMode:$S(n.panoramaMode,Boolean(n[360])),stereoMode:n.stereoMode?QS(n.stereoMode):qS.NONE,nativeVR:Boolean(n.nativeVR)}}(r.vr)),"analytics"in r||(null==n?void 0:n.analytics)){var a=gT(r.analytics),c=n&&n.analytics||[];r.analytics=function(t,n){for(var i=function(i){var e=n[i],u=!t.some((function(t){return t.integration===e.integration}));u&&e.integration!==KS&&r.push(e)},r=Bg(t),e=0;e<n.length;e++)i(e);return r}(a,c)}return"mutedAutoplay"in r&&(r.mutedAutoplay=DT(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,"playAdsAfterTime"in r&&(r.playAdsAfterTime=Zg(r.playAdsAfterTime)),r.blockContentIfAdError=function(t){return void 0!==t&&"boolean"==typeof t&&Boolean(t)}(r.blockContentIfAdError),r}U(),St(),U(),St(),U(),St();var wE=function(){function t(t){this.Yz=t}return t.prototype.Kz=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.Yz.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.Yz.indexOf(t.charAt(n))<<18|this.Yz.indexOf(t.charAt(n+1))<<12|(u=this.Yz.indexOf(t.charAt(n+2)))<<6|(s=this.Yz.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.jz=function(t,n){var i,r,e,u,s,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.Yz.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,c[o/3]=this.Yz.charAt(r)+this.Yz.charAt(e)+this.Yz.charAt(u)+this.Yz.charAt(s);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},t.mh=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.Qz=new t(function(t){return t.Kz("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")}(t.mh)),t}();function pE(t){return"string"==typeof t}function yE(t){return"number"==typeof t}U(),St(),U(),St(),U(),St(),ct();var _E={}.toString;var bE,kE=Array.isArray||function(t){return"[object Array]"===_E.call(t)};function AE(t,n){return kE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf",t.THEOLIVEWEB="theoliveweb",t.KEPLER="kepler"}(bE||(bE={}));var TE,SE=k.keys(bE).map((function(t){return bE[t]}));function EE(t){return-1!==SE.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview",t.THEOADS="theoads",t.MILLICAST="millicast"}(TE||(TE={}));var IE,RE=k.keys(TE).map((function(t){return TE[t]}));function CE(t){return-1!==RE.indexOf(t)}function NE(t){try{var n=wE.Qz.Kz(t),i=JSON.parse(n);if(!function(t,n){var i,r=function(t){return"object"===(void 0===t?"undefined":W(t))&&null!==t}(t),e=pE(t.key),u=pE(t.customer_id),s=yE(t.generation_date),o=yE(t.expiration_date),a=AE(t.domains_page,pE),c=AE(t.domains_source,pE),h=AE(t.sdks,n?EE:pE),f=function(t){return"boolean"==typeof t}(t.send_impression);t.features?i=AE(t.features,n?CE:pE):(i=!0,t.features=[]);if(!(r&&e&&u&&s&&o&&a&&c&&h&&f&&i))return!1;return!0}(i,!1))throw new y("The provided license could not be decoded correctly.");return i}catch(t){throw new y("The provided license could not be decoded correctly.")}}function xE(){return IE||(IE={Xu:f.location.href,Jz:f.parent&&f.parent!==f,$z:PE()}),IE}var DE=["http:","https:","ftp:","ws:","wss:"];function PE(){var t,n;try{var i;if(null==(i=f)?void 0:i.top)return f.top.location.href}catch(t){}return null==(n=f)||null==(t=n.document)?void 0:t.referrer}var ME=function(t){return t[t.tq=0]="tq",t[t.iq=1]="iq",t[t.nq=2]="nq",t}({}),BE=function(t,n,i,r,e,u,s,o,a){void 0===e&&(e=[]),void 0===u&&(u=""),void 0===s&&(s=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.rq=t,this.oq=n,this.hq=i,this.aq=r,this.uq=e,this.cq=u,this.lq=s,this.dq=o,this.fq=a},OE=function(t){return t.iq="expired",t._q="invaliddomain",t.vq="invalidsource",t.mq="invalidfeature",t.fa="error",t}({}),LE=function(){function t(t,n,i){this.Dq=t,this.Bq=n,this.xA=i,this.Iq=HE(this.xA)}var n=t.prototype;return n.gq=function(t,n){var i=[];hT(t.sources)?i=[t.sources]:Qn(t.sources)&&(i=t.sources),this.pq(t,i,n),this.wq(i,n)},n.pq=function(t,n,i){var r=this;if(!iE(t)&&0!==i.hq.length&&!ZE(i.hq)&&!n.every((function(t){return r.yq(t,i)}))){var e="invalidsource",u=zE.bq(e);throw new ol(VE(e),u)}},n.wq=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];aT(r)&&cT(r)&&!r.bypassLicense&&this.Aq([TE.HESP],n)}},n.Sq=function(n){return this.Tq(n.dq)&&this.kq(n)?t.Eq(n.aq)?0:1:2},n.Aq=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(!To(n.uq,r)){var e="invalidfeature",u=zE.xq(e,r);throw new ol(VE(e),u)}}},n.Tq=function(t){var n=this;return 0===t.length||t.some((function(t){return n.Rq(t)}))},n.Rq=function(t){return"web"===function(t){switch(t){case bE.ANDROID:return Dn.Ev;case bE.ANDROIDTV:case bE.FIRETV:return Dn.xv;case bE.IOS:return Dn.Rv;case bE.TVOS:return Dn.Iv;case bE.CHROMECAST:case bE.CHROMECASTCAF:return Dn.Cv;case bE.THEOLIVEWEB:return Dn.Pv;default:return Dn.Tv}}(t)},n.kq=function(t){return!(this.Iq&&0!==t.oq.length&&!ZE(t.oq))||!!(this.Iq&&this.Cq(t.oq)&&this.Pq(t.oq))},n.Cq=function(t){return XE(this.xA.Xu,t)},n.Pq=function(t){if(!this.xA.Jz)return!0;if(this.Dq)return!0;var n=this.Nq();return!!n&&XE(n,t)},n.Nq=function(){if(this.xA.Jz){var t=l.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.xA.$z?this.xA.$z:void 0}},n.yq=function(n,i){return!!t.Mq(n,i.hq)},t.Eq=function(t){var n=Number(new Date);return!!t&&n<=t},t.Mq=function(t,n){return XE(this.Lq(t),n)},t.Lq=function(t){return ni(t)?t:aT(t)&&t.src||""},t}(),FE=function(){function t(){}var n=t.prototype;return n.Sq=function(t){return 0},n.gq=function(t,n){},n.Aq=function(t,n){},t}();function VE(t){switch(t){case"invaliddomain":return ul.LICENSE_INVALID_DOMAIN;case"invalidsource":return ul.LICENSE_INVALID_SOURCE;case"expired":return ul.LICENSE_EXPIRED;case"invalidfeature":return ul.LICENSE_INVALID_FEATURE;case"error":return ul.LICENSE_ERROR}}var UE="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",WE=Ci((function(){var t="\\.",n="(\\*|"+UE+")";return new RegExp("ip-range\\("+n+t+n+t+n+t+n+"\\)")}));function jE(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;if(Xs(r,"ip-range(")){var e="\\.",u=r.match(WE()),s=function(t){return"*"===t?"("+UE+")":t};if(null!==u&&5===u.length){var o=new RegExp("^"+u[1]+e+s(u[2])+e+s(u[3])+e+s(u[4])+"$");return null!==i.match(o)}}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function ZE(t){return t.some((function(t){return"*"===t}))}function XE(t,n){var i=qn.Ih(t);if(!GE(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(jE(i.hostname,e))return!0;if(jE(Sd(t),e))return!0}return!1}function GE(t){return-1!==DE.indexOf(t.protocol)}function HE(t){var n=qn.Ih(t.Xu);return GE(n)&&!function(t){return jE(t.hostname,"localhost")}(n)&&!function(t){return jE(t.hostname,"theoplayer.doubleclick.net")}(n)}var zE=function(){function t(){}return t.xq=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.bq=function(t){return"invaliddomain"===t?this.Oq:"invalidsource"===t?this.Fq:"expired"===t?this.Vq:"invalidfeature"===t?this.Wq:this.Uq},t}();zE.Uq="The license for this player is invalid.",zE.Vq="The usage license for this video player has expired.",zE.Oq="The current domain is incompatible with the license for this player.",zE.Fq="The provided video source is incompatible with the license for this player.",zE.Wq="The requested feature is not available with the license for this player.",U(),St(),Gt(),Dt(),Jt(),U(),St();var YE=function(t){return t[t.Gq=1]="Gq",t[t.Hq=4]="Hq",t[t.Zq=5]="Zq",t[t.Xq=9]="Xq",t}({});function KE(t){var n=[t.sL,t.zq,t.qq];switch(t.zq){case 1:n.push(t.VC);break;case 4:n.push(t.ER),n.push(t.lt);break;case 5:n.push(t.lt);break;case 9:n.push(t.Tw)}return n}U(),St();var qE,JE=new Array(256);for(qE=0;qE<256;qE+=1)JE[qE]=(qE<16?"0":"")+qE.toString(16);function QE(){var t=yr(),n=(4294967296*A.random()|0)+t&3029421624,i=(4294967296*A.random()|0)+t&3595553209,r=(4294967296*A.random()|0)+t&1130486254,e=(4294967296*A.random()|0)+t&1284287105;return JE[255&n]+JE[n>>>8&255]+JE[n>>>16&255]+JE[n>>>24&255]+"-"+JE[255&i]+JE[i>>>8&255]+"-"+JE[i>>>16&15|64]+JE[i>>>24&255]+"-"+JE[63&r|128]+JE[r>>>8&255]+"-"+JE[r>>>16&255]+JE[r>>>24&255]+JE[255&e]+JE[e>>>8&255]+JE[e>>>16&255]+JE[e>>>24&255]}function $E(t){return Mc(t.replace(/-/g,""))}function tI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*A.random()|0;return("x"===t?n:3&n|8).toString(16)}))}function nI(){return qn.Wg()}U(),St(),U(),St(),U(),St();var iI,rI="theoplayer-session-id";function eI(){if(!iI){var t=Il.Lb(rI);t?iI=t:(iI=QE(),Il.Bb(rI,iI))}return iI}U(),St(),U(),St();var uI=/[^\x00-\x7E]/g;function sI(t){return"\\u"+Ys(t.charCodeAt(0).toString(16),4,"0")}var oI="https://license.theoplayer.com";function aI(t){var n=function(t){var n=[];return function(t,n,i){return JSON.stringify(t,n,i).replace(uI,sI)}(t,(function(t,i){if($n(i)){if(-1!==n.indexOf(i))return null;n.push(i)}return i}))}(function(t){return[t.Yq,t.QS,t.rq,t.jD,t.Kq,t.jq,t.Qq.map(KE)]}(t));return wE.Qz.jz(n)}var cI=function(){function t(t,n,i,r,e,u){var s=this;void 0===r&&(r=wE.mh),void 0===e&&(e=0),void 0===u&&(u=1),this.IS=t,this.fW=n,this.iY=i,this.oY=r,this.aY=e,this.fY=u,this.Kf=[],this.$q=null,this.vY=0,this.dY="unknown",this.nS=0,this.wY=function(){nI()-s.vY>6e4&&s.cY()},this.gY=function(){s.cY(!0)},$T.yY(this.gY),this.pY=w(this.wY,6e4)}var n=t.prototype;return n.Jq=function(){return Boolean(this.Kq)},n.tY=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.iY.eY()];case 1:return r.sent().fq?(i={zq:YE.Gq,qq:yr(),VC:t},[4,n.VX(i)]):[2];case 2:return r.sent(),[2]}}))}))()},n.sY=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.iY.eY()];case 1:return r.sent().fq?(i={zq:YE.Xq,qq:yr(),Tw:t},[4,n.VX(i)]):[2];case 2:return r.sent(),[2]}}))}))()},n.nY=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return r={zq:YE.Hq,qq:yr(),ER:n,lt:t},[4,i.VX(r)];case 1:return e.sent(),[2]}}))}))()},n.rY=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return i={zq:YE.Zq,qq:yr(),lt:t},[4,n.VX(i)];case 1:return r.sent(),[2]}}))}))()},n.VX=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.iY.eY()];case 1:return i=r.sent(),"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===n.oY.jz(i.rq)&&t.zq!==YE.Zq?[2]:(t.zq===YE.Gq?n.hY():n.Jq()||n.hY(),t.sL=n.nS++,n.Kf.push(t),function(t){return t===YE.Gq||t===YE.Zq}(t.zq)?[4,n.cY()]:[3,3]);case 2:case 4:return r.sent(),[3,5];case 3:return n.Kf.length>n.aY?[4,n.uY()]:[3,5];case 5:return[2]}}))}))()},n.cY=function(t){void 0===t&&(t=!1);var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Kf.length>0?[4,n.uY(t)]:[3,2];case 1:return i.sent(),[3,0];case 2:return[2]}}))}))()},n.lY=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.iY.eY()];case 1:return i=r.sent(),[2,{Yq:yr(),QS:eI(),rq:n.oY.jz(i.rq)||"dev",jD:n.IS,Kq:n.$q,jq:n.dY,Qq:t}]}}))}))()},n.uY=function(t){void 0===t&&(t=!1);var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i=n.Kf.splice(0,n.fY),[4,n.lY(i)];case 1:return r=e.sent(),t?n.NE(r):n._Y(r),n.vY=nI(),[2]}}))}))()},n._Y=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=aI(t),r=new wd({Xu:oI,Lk:i,xE:!1,jk:Dl.Tk,Jk:{"Content-Type":lb.RU},SE:4e3,AE:vd.POST}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,n.fW.Qk(r)];case 2:return[4,e.sent().Dk()];case 3:return e.sent(),[3,5];case 4:return e.sent(),(new Image).src="https://licensing.theoplayer.com/t?"+i,[3,5];case 5:return[2]}}))}))()},n.NE=function(t){var n=aI(t);this.fW.NE({Xu:oI,Lk:n,Mk:lb.RU})},n.hY=function(){this.Jq()&&this.cY(),this.$q=QE(),this.nS=0},n.yn=function(){$T.mY(this.gY),p(this.pY),this.cY()},xt(t,[{key:"Qq",get:function(){return this.Kf}},{key:"Kq",get:function(){return this.$q}}]),t}();U(),St(),Dt(),Wt(),U(),St(),Wt(),U(),St();var hI=0;var fI=m,vI=self.requestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame,lI=self.cancelAnimationFrame||self.webkitCancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelRequestAnimationFrame;vI&&lI||(vI=function(t){var n=nI(),i=A.max(0,16-(n-hI)),r=g((function(){return t(n+i)}),i);return hI=n+i,r},lI=fI),vI=vI.bind(self),lI=lI.bind(self);var dI=Gn.Zm||Gn.su&&Gn.og<13;function gI(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var mI=function(){function t(t){var n=this;this.kY=void 0,this.eu=void 0,this.MY=void 0,this.IY=cs(),this.xY=1,this.NY=!0,this.BY=function(){n.NY=!0},this.LY=function(){n.kY=n.t.TI(),n.IY.forEach((function(t,i){t.PY(),t.PY=n.RY(t.CY,i)}))},this.t=t,this.t.bn(va.Ly,this.LY),this.t.bn(va.Qy,this.BY),this.LY()}var n=t.prototype;return n.bY=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e,u=this.kY;return void 0!==u&&((e=t).drawImage.apply(e,[u].concat(Ut(i))),!0)},n.AY=function(t,n,i,r,e,u){var s=this.kY;return void 0!==s&&(dI&&(s=this.EY(s)),t.texImage2D(n,i,r,e,u,s),!0)},n.SY=function(t){var n=this.xY++,i=this.RY(t,n);return this.IY.set(n,{CY:t,PY:i}),n},n.TY=function(t){var n=this.IY.get(t);void 0!==n&&(this.IY.delete(t),n.PY())},n.RY=function(t,n){var i=this,r=this.kY;if(void 0===r)return Si;if(r instanceof HTMLVideoElement&&r.requestVideoFrameCallback){var e=r.requestVideoFrameCallback((function(r,e){i.IY.delete(n),t(r,e)}));return function(){return r.cancelVideoFrameCallback(e)}}var u,s=function(r){i.DY()?(i.IY.delete(n),i.NY=!1,t(r,void 0)):u=vI(s)};return u=vI(s),function(){return lI(u)}},n.DY=function(){return(!this.t.KR||this.NY)&&!this.t.uI&&this.t.rI>=Ny.iO},n.EY=function(t){var n=this.MY;void 0===n&&(n=v.createElement("canvas"),this.MY=n);var i=n.getContext("2d"),r=this.t,e=r.vI,u=r.dI,s=n.width,o=n.height;i.clearRect(0,0,n.width,n.height),s===e&&o===u||(n.width=e,n.height=u),i.drawImage(t,0,0,e,u);var a=!1;return e>0&&gI(i,e-1,0)&&(n.width=s,a=!0),u>0&&gI(i,0,u-1)&&(n.height=o,a=!0),a&&i.drawImage(t,0,0,e,u),n},n.yn=function(){this.IY.forEach((function(t){return t.PY()})),this.IY.clear(),this.t.vn(va.Ly,this.LY),this.t.vn(va.Qy,this.BY),this.kY=void 0,this.MY=void 0},xt(t,[{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){return{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];var u;return(u=t).bY.apply(u,[n].concat(Ut(r)))},texImage2D:function(n,i,r,e,u,s){return t.AY(n,i,r,e,u,s)},requestVideoFrameCallback:function(n){return t.SY(n)},cancelVideoFrameCallback:function(n){return t.TY(n)}}}(this)}}]),t}();U(),St(),Dt(),Ct(),U(),St(),Ct(),U(),St();var wI=function(t){return t.mn="dimensionchange",t}({}),pI=function(t){function n(n,i){var r;return(r=t.call(this,wI.mn)||this).width=n,r.height=i,r}return Rt(n,t),n}(fa);U(),St(),Dt(),Ct(),U(),St();var yI,_I=function(t,n){this.we=t,this.CY=n},bI=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).OY=0,r.FY=0,r.WY=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.FY=n.width,r.OY=n.height,r.CY(r.FY,r.OY)}},r.VY=new f.ResizeObserver(r.WY),r.VY.observe(r.we),r}return Rt(n,t),n.prototype.yn=function(){this.VY.disconnect()},xt(n,[{key:"Eu",get:function(){return this.OY}},{key:"Au",get:function(){return this.FY}}]),n}(_I);U(),St(),Dt(),Ct(),U(),St();var kI=["Webkit","Moz","O","ms"],AI=function(){var t=!1;try{if(void 0!==f&&"function"==typeof f.addEventListener){var n=k.defineProperty({},"passive",{get:function(){t=!0}});f.addEventListener("testPassiveEventSupport",Si,n),f.removeEventListener("testPassiveEventSupport",Si,n)}}catch(t){}return t}(),TI=as();function SI(t){return TI.has(t)||TI.set(t,function(t){var n=(yI||(yI=f&&f.document&&f.document.createElement("span")),yI);if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<kI.length;r++){var e=kI[r]+i;if(void 0!==n.style[e])return e}return t}(t)),TI.get(t)}function EI(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.bottom="0",n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function II(t){var n=t.style;n.position="absolute",n.left="0",n.top="0",n[SI("transition")]="0s"}var RI=function(t){function n(n,i,r){var e;(e=t.call(this,n,i)||this).UY=0,e.FY=NaN,e.OY=NaN,e.qY=void 0,e.nr=function(){var t=1e5;e.YY.style.width=t+"px",e.YY.style.height=t+"px",e.GY.scrollLeft=t,e.GY.scrollTop=t,e.ZY.scrollLeft=t,e.ZY.scrollTop=t,0===e.ZY.scrollTop&&vI(e.nr)},e.KY=function(){var t=e.Au,n=e.Eu;e.CY(t,n),e.FY=t,e.OY=n,e.nr(),e.UY=0},e.HY=function(){if(!e.UY){var t=e.Au,n=e.Eu;t===e.FY&&n===e.OY||(e.UY=vI(e.KY))}},e.zY=function(){e.qY||(e.qY=g(e.jY,66))},e.jY=function(){e.qY=void 0,e.QY()},e.QY=function(){e.HY()};var u=function(t,n){return f.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");r||"static"!==u||(n.style.position="relative");var s=v.createElement("div");return e.XY=s,e.GY=v.createElement("div"),e.YY=v.createElement("div"),e.ZY=v.createElement("div"),e.JY=v.createElement("div"),EI(e.GY),EI(e.ZY),II(e.YY),function(t){II(t),t.style.width="200%",t.style.height="200%"}(e.JY),s.appendChild(e.GY),s.appendChild(e.ZY),e.GY.appendChild(e.YY),e.ZY.appendChild(e.JY),n.appendChild(s),e.GY.addEventListener("scroll",e.HY),e.ZY.addEventListener("scroll",e.HY),f&&f.addEventListener("resize",e.zY),e.HY(),e}return Rt(n,t),n.prototype.yn=function(){lI(this.UY),this.UY=0,this.GY.removeEventListener("scroll",this.HY),this.ZY.removeEventListener("scroll",this.HY),ai(this.XY),f&&f.removeEventListener("resize",this.zY)},xt(n,[{key:"Eu",get:function(){return this.we.getBoundingClientRect().height||this.OY||0}},{key:"Au",get:function(){return this.we.getBoundingClientRect().width||this.FY||0}}]),n}(_I),CI=function(t){function n(n){var i;return(i=t.call(this)||this).VY=void 0,i.WY=function(t,n){i._o(new pI(t,n))},i.we=n,i}Rt(n,t);var i=n.prototype;return i.kn=function(t){this.VY||("function"==typeof f.ResizeObserver?this.VY=new bI(this.we,this.WY):this.VY=new RI(this.we,this.WY,t))},i.yn=function(){this.Ro(),this.VY&&(this.VY.yn(),this.VY=void 0)},xt(n,[{key:"Eu",get:function(){return this.VY?this.VY.Eu:0}},{key:"Au",get:function(){return this.VY?this.VY.Au:0}}]),n}(aa);U(),St(),Dt(),Ct(),U(),St(),Ct();var NI=function(t){function n(){return t.call(this,uS.da)||this}return Rt(n,t),n}(fa);U(),St();var xI=function(){if(v)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in v)return{$Y:i[0],Zo:i[1],tK:i[2],eK:i[3],Ye:i[4],iK:i[5]}}}();U(),St(),Ct();var DI=function(t){function n(){return t.call(this,uS.ga)||this}return Rt(n,t),n}(fa),PI=function(t){function n(i){var r;return(r=t.call(this)||this).cs=!1,r.sK=function(){return r.rK()},r.nK=function(){return r.oK()},r.we=i,r.oa=n.aa(i),v.addEventListener(xI.Ye,r.sK),r.rK(),r}Rt(n,t);var i=n.prototype;return i.vo=function(){var t=this.we[xI.$Y]();t&&t.then?t.then(this.sK,this.nK):(v.removeEventListener(xI.iK,this.nK),v.addEventListener(xI.iK,this.nK))},i.xo=function(){var t=v[xI.Zo]();t&&t.then?t.then(this.sK,this.nK):(v.removeEventListener(xI.iK,this.nK),v.addEventListener(xI.iK,this.nK))},i.rK=function(){var t=this.cs,n=this.we===v[xI.tK];this.cs=n,t!==n&&this._o(new NI)},i.oK=function(){this._o(new sS)},i.yn=function(){this.Ro(),v.removeEventListener(xI.Ye,this.sK),v.removeEventListener(xI.iK,this.nK)},n.aa=function(t){return Boolean(xI&&v[xI.eK]&&xI.$Y in t)},n}(aa),MI=function(t){function n(i){var r;return(r=t.call(this)||this).cs=!1,r.sK=function(){return r.rK()},r.we=i,r.oa=n.aa(i),r.we.addEventListener("webkitbeginfullscreen",r.sK),r.we.addEventListener("webkitendfullscreen",r.sK),r.we.addEventListener("webkitpresentationmodechanged",r.sK),r.rK(),r}Rt(n,t);var i=n.prototype;return i.vo=function(){var t=this;this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("fullscreen")?Gn.su?requestAnimationFrame((function(){return t.we.webkitSetPresentationMode("fullscreen")})):this.we.webkitSetPresentationMode("fullscreen"):this.we.webkitEnterFullscreen()},i.xo=function(){this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("inline")?this.we.webkitSetPresentationMode("inline"):this.we.webkitExitFullscreen()},i.rK=function(){var t,n=this.cs;t=this.we.webkitPresentationMode?"fullscreen"===this.we.webkitPresentationMode:Boolean(this.we.webkitDisplayingFullscreen),this.cs=t,n!==t&&this._o(new NI)},i.yn=function(){this.Ro(),this.we.removeEventListener("webkitbeginfullscreen",this.sK),this.we.removeEventListener("webkitendfullscreen",this.sK),this.we.removeEventListener("webkitpresentationmodechanged",this.sK)},n.aa=function(t){return Gn.su&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)},n}(aa),BI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).uK=[],n.hK=void 0,n.aK=!1,n.rK=function(){var t=n.aK,i=n.fK();t!==i&&(n.aK=i,n._o(new NI))},n}Rt(n,t);var i=n.prototype;return i.vo=function(){this.hK?this.hK.vo():this._o(new sS)},i.xo=function(){for(var t=0,n=this.uK;t<n.length;t++){var i=n[t];i.cs&&i.xo()}},i.cK=function(t){this.hK=t},i.lK=function(t){this.uK.push(t),t.bn(uS.da,this.rK),t.bn(uS.fa,this.Ds),this.rK()},i.dK=function(t){bo(this.uK,t),t.vn(uS.da,this.rK),t.vn(uS.fa,this.Ds)},i.fK=function(){for(var t=0,n=this.uK;t<n.length;t++){if(n[t].cs)return!0}return!1},i.nr=function(){this.hK=void 0,this.aK=!1;for(var t=this.uK.slice(),n=0;n<t.length;n++){var i=t[n];this.dK(i),i.yn()}this.rK()},i.yn=function(){this.Ro(),this.nr()},xt(n,[{key:"oa",get:function(){return!!this.hK&&this.hK.oa}},{key:"cs",get:function(){return this.aK}}]),n}(aa),OI=function(t){function n(n,i){var r;return(r=t.call(this)||this).va=!1,r.pK=function(){return r.ir()},r.rK=function(t){r.va||r._o(t)},r.t=n,r._K=i,r.vK=new oS,r.mK(),r.t.bn(va.Ny,r.pK),r.ir(),r}Rt(n,t);var i=n.prototype;return i.vo=function(){this._K&&this.vK.vo()},i.xo=function(){this.vK.xo()},i.mK=function(){this.vK.bn([uS.da,uS.ga],this.rK),this.vK.bn(uS.fa,this.Ds)},i.gK=function(){this.vK.vn([uS.da,uS.ga],this.rK),this.vK.vn(uS.fa,this.Ds)},i.ir=function(){var t=this.vK,n=this.t.SI();if(t!==n){this.va=!0;var i=this.cs,r=this.oa;i&&this.xo(),this.gK(),this.vK=n,this.mK(),i&&!this.cs&&this.oa?this.vo():this.xo(),this.va=!1,r!==this.oa&&this._o(new DI),i!==this.cs&&this._o(new NI)}},i.yn=function(){this.Ro(),this.gK(),this.t.vn(va.Ny,this.pK)},xt(n,[{key:"oa",get:function(){return!!this._K&&this.vK.oa}},{key:"cs",get:function(){return this.vK.cs}}]),n}(aa);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Ct(),U(),St();var LI=function(t){return t.MODE_CHANGE="presentationmodechange",t.ERROR="error",t}({}),FI=function(t){function n(n){var i;return(i=t.call(this,LI.MODE_CHANGE)||this).presentationMode=n,i}return Rt(n,t),n}(fa);U(),St(),U(),St(),Ct();var VI=function(t){function n(n,i,r){var e;return void 0===i&&(i=!1),(e=t.call(this,r)||this).yK=[],e.AK=function(t){ta((function(){e.Ds(t)}))},e.Kf=n,e.wK=i?e.AK:e.Ds,e}Rt(n,t);var i=n.prototype;return i.ru=function(t){for(var n=0,i=this.Kf;n<i.length;n++){var r=i[n];t.bn(r,this.wK)}this.yK.push(t)},i.bK=function(t){for(var n=0,i=this.Kf;n<i.length;n++){var r=i[n];t.vn(r,this.wK)}this.yK.push(t)},i.yn=function(){this.Ro();for(var t=0,n=this.yK;t<n.length;t++){var i=n[t];this.bK(i)}Eo(this.yK)},n}(aa),UI=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).yK=[],r.AK=function(t){ta((function(){r.Ds(t)}))},r.SK=i?r.AK:r.Ds,r}Rt(n,t);var i=n.prototype;return i.ru=function(t){t.oy(this.SK),this.yK.push(t)},i.bK=function(t){t.gy(this.SK),bo(this.yK,t)},i.yn=function(){this.Ro();for(var t=0,n=this.yK;t<n.length;t++){n[t].gy(this.SK)}Eo(this.yK)},n}(ha);U(),St(),Dt(),Ct();var WI=function(t){function n(n){var i;return(i=t.call(this,LI.ERROR)||this).errorObject=n,i}return Rt(n,t),n.prototype.ka=function(){return this},xt(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(_g);U(),St(),Ct();var jI=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}return Rt(n,t),n}(ol),ZI=function(t){function n(n,i){var r;return(r=t.call(this)||this).Xo=NT.INLINE,r.sa=!1,r.Yo=new gl,r.eu=void 0,r.rK=function(){r.wi()},r.oK=function(){r.sa||(r._o(new Ik(new ol(ul.FULLSCREEN_ERROR,"Failed to enter fullscreen."))),r.wi())},r.RK=function(){r.sa||(r.Xo!==NT.NATIVE_PICTURE_IN_PICTURE||r.ta.hO?r.Xo!==NT.NATIVE_PICTURE_IN_PICTURE&&r.ta.hO&&r.Wo(NT.NATIVE_PICTURE_IN_PICTURE):r.Wo(NT.INLINE))},r.IK=function(){r.sa||(r._o(new WI(new jI(ul.PICTURE_IN_PICTURE_ERROR,"Unexpected native picture-in-picture error."))),r.RK())},r.ea=n,r.ta=i,r.ea.bn(uS.da,r.rK),r.ea.bn(uS.fa,r.oK),r.ta.bn(WT.rO,r.RK),r.ta.bn(WT.oO,r.RK),r.ta.bn(WT.fa,r.IK),r}Rt(n,t);var i=n.prototype;return i.ka=function(){return function(t){var n,i={get currentMode(){return t.Ho()},requestMode:function(n){var i=LT(n);i&&t.Wo(i)},supportsMode:function(n){var i=LT(n);return!!i&&t.zo(i)},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return(n=new UI(i,!0)).ru(t),i}(this)},i.Wo=function(t){this.Xo!==t&&(this.Xo=t,this.sa=!0,this.Jo(t))},i.Ho=function(){return this.Xo},i.zo=function(t){switch(t){case NT.NATIVE_PICTURE_IN_PICTURE:return this.ta.aO;case NT.FULLSCREEN:return this.ea.oa;case NT.INLINE:return!0}return!1},i.Jo=function(t){var n=this;switch(this.Yo.jw(),t){case NT.FULLSCREEN:na(this.Yo.Qo((function(t){return n.TK(t)})));break;case NT.NATIVE_PICTURE_IN_PICTURE:na(this.Yo.Qo((function(t){return n.kK(t)})));break;case NT.INLINE:na(this.Yo.Qo((function(t){return n.EK(t)})))}},i.TK=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return Zo(t),[4,n.ta.xo().catch(Si)];case 1:r.sent(),Zo(t),r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,n.xK()];case 3:return r.sent(),n._o(new FI(n.Xo)),[3,6];case 4:throw r.sent(),i=new jI(ul.FULLSCREEN_ERROR,"Failed to enter fullscreen."),n._o(new WI(i)),Zo(t),n.Wo(NT.INLINE),i;case 5:return n.sa=!1,[7];case 6:return[2]}}))}))()},i.kK=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return Zo(t),[4,n.Zo().catch(Si)];case 1:r.sent(),Zo(t),r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,n.ta.vo()];case 3:return r.sent(),n._o(new FI(n.Xo)),[3,6];case 4:throw r.sent(),i=new jI(ul.PICTURE_IN_PICTURE_ERROR,"Failed to enter native picture-in-picture."),n._o(new WI(i)),Zo(t),n.Wo(NT.INLINE),i;case 5:return n.sa=!1,[7];case 6:return[2]}}))}))()},i.EK=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return Zo(t),[4,n.Zo().catch(Si)];case 1:return i.sent(),Zo(t),[4,n.ta.xo().catch(Si)];case 2:return i.sent(),n._o(new FI(n.Xo)),n.sa=!1,[2]}}))}))()},i.xK=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.ea.cs?[2]:(n=t.ea.py([uS.da,uS.fa]),t.ea.vo(),[4,n]);case 1:if(i.sent(),!t.ea.cs)throw new y("Failed to enter fullscreen.");return[2]}}))}))()},i.Zo=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.ea.cs?(n=t.ea.py([uS.da,uS.fa]),t.ea.xo(),[4,n]):[2];case 1:if(i.sent(),t.ea.cs)throw new y("Failed to exit fullscreen.");return[2]}}))}))()},i.wi=function(){this.sa||(this.Xo!==NT.FULLSCREEN||this.ea.cs?this.Xo!==NT.FULLSCREEN&&this.ea.cs&&this.Wo(NT.FULLSCREEN):this.Wo(NT.INLINE))},i.yn=function(){this.ea.vn(uS.da,this.rK),this.ea.vn(uS.fa,this.oK),this.ta.vn(WT.rO,this.RK),this.ta.vn(WT.oO,this.RK),this.ta.vn(WT.fa,this.IK),this.Ro()},xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(ha);function XI(t){var n;return{get url(){return t.Xu},get method(){return t.AE},get headers(){return n||(n=t.Jk.Ek()),n},get body(){return t.Lk},get useCredentials(){return t.xE},get type(){return t.Tw},get subType(){return t.kE},get mediaType(){return t.EE},get responseType(){return t.jk}}}function GI(t){switch(t.toLowerCase()){case"arraybuffer":return Dl.bk;case"json":return Dl.Ak;case"stream":return Dl.Sk;default:return Dl.Tk}}function HI(t){switch(t.toUpperCase()){case"POST":return vd.POST;case"PUT":return vd.PUT;case"DELETE":return vd.DELETE;case"HEAD":return vd.HEAD;case"OPTIONS":return vd.OPTIONS;default:return vd.GET}}function zI(t){switch(t.toLowerCase()){case"manifest":return ld.sE;case"segment":return ld.nE;case"preload-hint":return ld.rE;case"content-protection":return ld.oE;default:return ld.iE}}function YI(t){switch(t.toLowerCase()){case"initialization-segment":return dd.hE;case"fairplay-license":return dd.aE;case"fairplay-certificate":return dd.uE;case"widevine-license":return dd.cE;case"widevine-certificate":return dd.lE;case"playready-license":return dd.dE;case"clearkey-license":return dd.fE;case"aes128-key":return dd._E;default:return dd.iE}}function KI(t){switch(t.toLowerCase()){case"audio":return gd.vE;case"video":return gd.mE;case"text":return gd.Tk;case"image":return gd.gE;default:return gd.iE}}U(),St(),Gt(),Ct(),Jt(),U(),St(),Dt(),Ct(),U(),St(),U(),St(),Gt(),Dt(),Jt();var qI=function(){function t(t,n){this.qK=t,this.ZK=n,this.PK=new Kc,this.WK=[],this.eu=void 0,this.MK=!1,this.qE=void 0,this.FK=0}var n=t.prototype;return n.VD=function(){this.MK=!0,this.PK.Vb(null)},n.VK=function(){this.PK.Wb(new Ll(this.WK))},n.UK=function(t){if(!this.LK)throw new _("Cannot respond more than once");if(!$n(t))throw new _("Expected valid response");this.qE=this.GK(t),this.VD()},n.HK=function(){try{var t=this.ZK(this.wa);t?this.XK(t):this.BK||this.NK||this.VD()}catch(t){this.WK.push(t),this.VK()}},n.XK=function(t){if(this.NK)throw new y("Request has been redirected or a response already exists");if(ri(t))this.zK(t);else{if("function"!=typeof t)throw new _("Expected promise or function");var n=new Kc;try{var i=t((function(t){t?n.Wb(t):n.Vb(void 0)}));ri(i)&&n.Qw(i)}catch(t){n.Wb(t)}this.zK(n.Ub)}},n.zK=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),n.FK++,[4,t];case 1:return r.sent(),n.FK--,n.BK||n.NK||(n.WK.length?n.VK():n.VD()),[3,3];case 2:return i=r.sent(),n.FK--,n.WK.push(i),n.BK||n.NK||n.VK(),[3,3];case 3:return[2]}}))}))()},xt(t,[{key:"CK",get:function(){return this.PK.Ub}},{key:"wa",get:function(){return this.eu||(this.eu=this.DK()),this.eu}},{key:"NK",get:function(){return this.MK}},{key:"LK",get:function(){return!this.MK}},{key:"BK",get:function(){return this.FK>0}},{key:"zE",get:function(){return this.qE}}]),t}(),JI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).YK=r,e.HK(),e}Rt(n,t);var i=n.prototype;return i.DK=function(){return function(t){var n,i=XI(t.Qk);return{get closed(){return!t.LK},get request(){return i},get url(){return t.Xu},get status(){return t.Yk},get statusText(){return t.$k},get headers(){return n||(n=t.Jk.Ek()),n},get body(){return t.Lk},respondWith:function(n){return t.UK(n)},waitUntil:function(n){return t.XK(n)}}}(this)},i.GK=function(t){return n.KK(t,this.qK,this.YK)},n.KK=function(t,n,i){var r=void 0===t.body?i:t.body;return new fd({Kk:r,Qk:n.Qk,jk:n.Qk.jk,Jk:t.headers,Yk:t.status,$k:t.statusText,eE:t.url,tE:!0},n)},xt(n,[{key:"Lk",get:function(){return this.YK}},{key:"Jk",get:function(){return this.qK.Jk}},{key:"Qk",get:function(){return this.qK.Qk}},{key:"zE",get:function(){return this.qE}},{key:"Yk",get:function(){return this.qK.Yk}},{key:"$k",get:function(){return this.qK.$k}},{key:"Xu",get:function(){return this.qK.eE}}]),n}(qI);U(),St(),Dt(),Ct();var QI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).JK=void 0,e.jK=r,e.HK(),e}Rt(n,t);var i=n.prototype;return i.DK=function(){return function(t){var n;return{get url(){return t.Xu},get method(){return t.AE},get headers(){return n||(n=t.Jk.Ek()),n},get body(){return t.Lk},get closed(){return!t.LK},get useCredentials(){return t.xE},get type(){return t.Tw},get subType(){return t.kE},get mediaType(){return t.EE},get responseType(){return t.jk},redirect:function(n){return t.$K(n)},respondWith:function(n){return t.UK(n)},waitUntil:function(n){return t.XK(n)}}}(this)},i.GK=function(t){var n=this.qK.Lk,i=new fd({Kk:n,Jk:{},Qk:this.qK,eE:this.qK.Xu,jk:this.qK.jk,Yk:200,$k:"OK"});return JI.KK(t,i,n)},i.$K=function(t){if(!this.LK)throw new _("Cannot redirect, already redirected or has a response");var n;n=ni(t)?{url:t}:t,this.JK=function(t,n){return new wd({Xu:void 0===t.url?n.Xu:t.url,AE:void 0!==t.method?HI(t.method):void 0,Jk:t.headers,Lk:t.body,xE:t.useCredentials,Tw:void 0!==t.type?zI(t.type):void 0,kE:void 0!==t.subType?YI(t.subType):void 0,EE:void 0!==t.mediaType?KI(t.mediaType):void 0,jk:void 0!==t.responseType?GI(t.responseType):void 0},n)}(n,this.qK),this.VD()},xt(n,[{key:"Lk",get:function(){return this.qK.Lk}},{key:"LK",get:function(){return this.jK&&!this.MK}},{key:"Jk",get:function(){return this.qK.Jk}},{key:"AE",get:function(){return this.qK.AE}},{key:"QK",get:function(){return this.JK}},{key:"zE",get:function(){return this.qE}},{key:"jk",get:function(){return this.qK.jk}},{key:"SE",get:function(){return this.qK.SE}},{key:"TE",get:function(){return this.qK.TE}},{key:"Uw",get:function(){return this.qK.Uw}},{key:"Tw",get:function(){return this.qK.Tw}},{key:"kE",get:function(){return this.qK.kE}},{key:"EE",get:function(){return this.qK.EE}},{key:"Xu",get:function(){return this.qK.Xu}},{key:"xE",get:function(){return this.qK.xE}},{key:"PE",get:function(){return this.qK.PE}},{key:"RE",get:function(){return this.qK.RE}},{key:"CE",get:function(){return this.qK.CE}},{key:"DE",get:function(){return this.qK.DE}}]),n}(qI);var $I=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new tR(n);return(r=t.call(this,e,i)||this).ej=e,r}Rt(n,t);var i=n.prototype;return i.tj=function(t){this.ej.tj(t)},i.ij=function(t){this.ej.ij(t)},i.sj=function(t){this.ej.sj(t)},i.ZX=function(t){this.ej.ZX(t)},i.YX=function(t){this.ej.YX(t)},n}(yd),tR=function(){function t(t){this.aj=[],this.uj=[],this.FE=t}var n=t.prototype;return n.Qk=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,n.nj(t,t.Uw)];case 1:return i=e.sent(),[3,5];case 2:return(r=e.sent())instanceof Rd?[4,n.rj(r,t.Uw)]:[3,4];case 3:return[2,e.sent()];case 4:throw r;case 5:return[4,n.hj(i,t.Uw)];case 6:if(hd(i=e.sent()))return[2,i];throw new Nd(i)}}))}))()},n.NE=function(t){return this.FE.NE(t)},n.nj=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:Zo(n),r=t,u=0,s=i.aj.slice(),c.label=1;case 1:if(!(u<s.length))return[3,7];if(o=s[u],Zo(n),(a=new QI(r,o,!e)).NK)return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.CK];case 3:return c.sent(),[3,5];case 4:return c.sent(),[3,6];case 5:a.QK&&!e?r=a.QK:a.zE&&!e&&(e=a.zE),c.label=6;case 6:return u++,[3,1];case 7:return e?[2,e]:[2,i.FE.Qk(r)]}}))}))()},n.rj=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return t instanceof Nd?r=t.zE:(e=t.Qk,r=new fd({Kk:null,Qk:e,jk:e.jk,Yk:0,$k:""})),[4,i.hj(r,n)];case 1:if((u=s.sent())===r)throw t;if(hd(u))return[2,u];throw new Nd(u)}}))}))()},n.hj=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:r=t,e=0,u=i.uj.slice(),c.label=1;case 1:return e<u.length?(s=u[e],Zo(n),[4,ut.resolve(r.Ib().Kk(n))]):[3,8];case 2:if(o=c.sent(),(a=new JI(r,s,o)).NK)return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,a.CK];case 4:return c.sent(),[3,6];case 5:return c.sent(),[3,7];case 6:r=a.zE||r,c.label=7;case 7:return e++,[3,1];case 8:return[2,r]}}))}))()},n.tj=function(t){this.aj.unshift(t)},n.ij=function(t){this.aj.push(t)},n.sj=function(t){bo(this.aj,t)},n.ZX=function(t){this.uj.unshift(t)},n.YX=function(t){bo(this.uj,t)},n.yn=function(){this.FE.yn(),Eo(this.aj),Eo(this.uj)},t}();U(),St(),Dt(),Ct();var nR=function(){function t(t){this.fW=t}var n=t.prototype;return n.tj=function(t){this.fW.tj(t)},n.sj=function(t){this.fW.sj(t)},n.ZX=function(t){this.fW.ZX(t)},n.YX=function(t){this.fW.YX(t)},xt(t,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{addRequestInterceptor:function(n){t.tj(n)},removeRequestInterceptor:function(n){t.sj(n)},addResponseInterceptor:function(n){t.ZX(n)},removeResponseInterceptor:function(n){t.YX(n)}}}(this)),this.eu}}]),t}(),iR=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).gj=n,e.fW=i,e.gZ=r,e.pj=function(t){e._o(t)},e.wj=function(t){e._o(t)},e.gj.bn(va.Xy,e.pj),e.gj.bn(va.Zy,e.wj),e}Rt(n,t);var i=n.prototype;return i.lj=function(t){this.gZ.lj(t)},i.tj=function(t){this.fW.tj(t)},i.sj=function(t){this.fW.sj(t)},i.ZX=function(t){this.fW.ZX(t)},i.YX=function(t){this.fW.YX(t)},i.yn=function(){this.Ro(),this.gj.vn(va.Xy,this.pj),this.gj.vn(va.Zy,this.wj)},xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{get online(){return t.qR},get estimator(){return function(t){return{get bandwidth(){return t.bG},get roundTripTime(){return t.AG}}}(t.cj)},setEstimator:function(n){t.lj(function(t){if(!t)return;return{get bG(){return Xg(t.bandwidth)},get AG(){return Xg(t.roundTripTime)},SG:function(n){return function(t){if(!t)return;return{dj:function(n){t.markRequestStart(n)},_j:function(n){t.markResponseStart(n)},vj:function(n,i){t.markResponseData(n,i)},mj:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(XI(n)))}}}(n))},addRequestInterceptor:function(n){t.tj(n)},removeRequestInterceptor:function(n){t.sj(n)},addResponseInterceptor:function(n){t.ZX(n)},removeResponseInterceptor:function(n){t.YX(n)},addEventListener:function(n,i){t.bn(n,i)},removeEventListener:function(n,i){t.vn(n,i)}}}(this)),this.eu}},{key:"qR",get:function(){return this.gj.qR}},{key:"cj",get:function(){return this.gZ.cj}}]),n}(aa);U(),St(),Dt(),Ct(),U(),St(),U(),St();var rR=function(t){return t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth",t}({});U(),St();function eR(t,n,i,r,e,u){var s=[],o=t-A.max(u,1),a=t+e;if(n&&i){var c=hr(i,1,5),h=n-c;o=A.min(o,h);var f=n+i+c;a=A.max(a,f)}return 0!==o&&r.oB(0,o)&&s.push([0,o]),r.oB(a,1/0)&&s.push([a,1/0]),s}function uR(t){return t instanceof y&&"QuotaExceededError"===t.name}U(),St();var sR={type:rR.BANDWIDTH};function oR(t){var n=Bg(sR);return ni(t)?n.type=aR(t):$n(t)&&function(t){switch(t){case rR.PERFORMANCE:case rR.QUALITY:case rR.BANDWIDTH:return!0;default:return!1}}(t.type)&&(n.type=aR(t.type)),$n(t)&&$n(t.metadata)&&(n.metadata=function(t){var n={},i=Zg(t.bitrate);return E(i)||(n.bitrate=i),n}(t.metadata)),n}function aR(t){switch(t){case"bandwidth":return rR.BANDWIDTH;case"performance":return rR.PERFORMANCE;case"quality":return rR.QUALITY}}U(),St(),Ct();var cR=function(t){function n(n){var i;return(i=t.call(this,"yj")||this).bj=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var hR=function(t){function n(n){var i;return(i=t.call(this,"Aj")||this).Sj=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var fR=function(t){function n(n){var i;return(i=t.call(this,"Tj")||this).Ej=n,i}return Rt(n,t),n}(fa),vR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).eu=function(t){return{get strategy(){return function(t){return{metadata:t.metadata,type:t.type}}(t.Sj)},set strategy(n){t.Sj=oR(n)},get targetBuffer(){return t.bj},set targetBuffer(n){var i=Zg(n);E(i)||(t.bj=i)},get bufferLookbackWindow(){return t.Ej},set bufferLookbackWindow(n){var i=Zg(n);E(i)||(t.Ej=i<=0?30:i)},get maxBufferLength(){return t.Lj},get clearBufferWhenSettingTargetQuality(){return t.Fj},set clearBufferWhenSettingTargetQuality(n){t.Fj=Wg(n)}}}(n),n.Cj=sR,n.Pj=20,n.Mj=30,n.Nj=1/0,n.Vj=!1,n.Bj=void 0,n}Rt(n,t);var i=n.prototype;return i.xj=function(t){this.Rj=t},i.lj=function(t){this.Bj=t},i.Oj=function(t){var n=A.min(t,.8*this.Nj);if(n=A.max(10,n),this.Nj===n)return!1;var i=this.Dj;this.Nj=n;var r=this.Dj;return r!==i&&this._o(new cR(r)),!0},xt(n,[{key:"Ij",get:function(){switch(this.Cj.type){case rR.PERFORMANCE:return 0;case rR.QUALITY:return 1/0;case rR.BANDWIDTH:return this.Cj.metadata&&void 0!==this.Cj.metadata.bitrate?this.Cj.metadata.bitrate:Nk.Vg.cG();default:return Nk.Vg.cG()}}},{key:"wa",get:function(){return this.eu}},{key:"Sj",get:function(){return this.Cj},set:function(t){this.Cj=t,this._o(new hR(t))}},{key:"bj",get:function(){return this.Pj},set:function(t){this.Pj=t,this._o(new cR(t))}},{key:"Dj",get:function(){return A.min(this.Pj,this.Nj)}},{key:"Ej",get:function(){return this.Mj},set:function(t){this.Mj=t,this._o(new fR(t))}},{key:"Lj",get:function(){return this.Nj}},{key:"cj",get:function(){var t;return null!=(t=this.Bj)?t:this.Rj.eH}},{key:"Fj",get:function(){return this.Vj},set:function(t){this.Vj=t}}]),n}(aa);U(),St(),Dt(),Ct(),U(),St(),Ct();var lR=function(t){function n(){return t.call(this,"eC")||this}return Rt(n,t),n.prototype.ka=function(){return new dR},n}(_g),dR=function(t){function n(){return t.call(this,"change")||this}return Rt(n,t),n}(fa);U(),St(),U(),St(),Ct();var gR=function(t){function n(n,i,r){var e;(e=t.call(this,r)||this).Uj=function(t){bg(t)&&ta((function(){e._o(t.wa)}))},e.Wj=n,e.Kf=i;for(var u=0,s=e.Kf;u<s.length;u++){var o=s[u];e.Wj.bn(o,e.Uj)}return e}return Rt(n,t),n.prototype.yn=function(){this.Ro();for(var t=0,n=this.Kf;t<n.length;t++){var i=n[t];this.Wj.vn(i,this.Uj)}},n}(aa),mR=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Uj=function(t){bg(t)&&ta((function(){r._o(t.wa)}))},r.Wj=n,r.Wj.oy(r.Uj),r}return Rt(n,t),n.prototype.yn=function(){this.Ro(),this.Wj.gy(this.Uj)},n}(ha);var wR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).jO=0,n.$O=1/0,n}Rt(n,t);var i=n.prototype;return i.nr=function(){0===this.jO&&this.$O===1/0||(this.jO=0,this.$O=1/0,this._o(new lR))},i.Gj=function(){return new BA([this.WO,this.UO],[!0,!0])},xt(n,[{key:"WO",get:function(){return this.jO},set:function(t){if(this.UO<=t)throw new y("Start time of a clip should be smaller than the end time.");this.jO!==t&&(this.jO=t,this._o(new lR))}},{key:"UO",get:function(){return this.$O},set:function(t){if(t<=this.WO)throw new y("End time of a clip should be larger than the start time.");this.$O!==t&&(this.$O=t,this._o(new lR))}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get startTime(){return t.WO},set startTime(n){t.WO=n},get endTime(){return t.UO},set endTime(n){t.UO=n},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new mR(t,i),i}(this)),this.eu}}]),n}(ha);U(),St(),Gt(),Dt(),Ct(),Jt();var pR=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).Xj=!1,e.$j=void 0,e.tQ=!1,e.Yj=function(){e.qj(),e.Zj()},e.Tc=function(){e.Kj(),e.Zj(),e.Jj&&e.ER>=e.Hj.UO-n.eQ&&!e.PR&&(e.$j=vI(e.Tc))},e.jj=function(){e.tQ=!0},e.Qj=function(){e.tQ&&(e.tQ=!1,e.Zj())},e.Hj=r,e.Hj.bn("eC",e.Yj),e.gR.bn(va.hb,e.Tc),e}Rt(n,t);var i=n.prototype;return i.RR=function(n,i){var r=this.Hj.Gj().KL(n);t.prototype.RR.call(this,r,i),this.Zj()},i.DR=function(){return t.prototype.DR.call(this)||this.Xj},i.aI=function(){return BA.Cn(t.prototype.aI.call(this)).jn(this.Hj.Gj()).ks()},i.xI=function(){this.DR()?this.RR(this.zj.start(0)):this.qj(),t.prototype.xI.call(this),this.Zj()},i.Ca=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return Zo(i),r.Xj=!1,r.Hj.nr(),[4,t.prototype.Ca.call(r,n,i)];case 1:return e.sent(),[2]}}))}))()},i.yn=function(){return this.Hj.vn("eC",this.Yj),this.gR.vn(va.hb,this.Tc),this.Kj(),t.prototype.yn.call(this)},i.BI=function(n){switch(n.type){case va.Jy:return this._o(n),this.jj(),!0;case va.Qy:case va.Cy:return this._o(n),this.Qj(),!0;case va.Dy:if(this.Jj)return!0}return t.prototype.BI.call(this,n)},i.Kj=function(){this.$j&&(lI(this.$j),this.$j=void 0)},i.Zj=function(){var t=this.ER,i=this.Jj&&t>=this.Hj.UO-n.ad;this.Xj&&!i?(this.Xj=!1,this.KR&&this.xI()):this.Xj||!i||this.uI||this.tQ||(this.Xj=!0,this._o(new AT(t)),this.EI())},i.qj=function(){if(this.ct!==1/0){var t=this.zj,i=BA.Cn(t).KL(this.ER);fr(this.ER,i,n.ad)||this.RR(i)}},xt(n,[{key:"zj",get:function(){return this.aI().length?this.aI():this.Hj.Gj().ks()}},{key:"Jj",get:function(){return this.Hj.UO<this.ct}}]),n}(sA);pR.eQ=1,pR.ad=.001,U(),St(),Dt();var yR=function(){function t(){this.sQ=!1}return xt(t,[{key:"iQ",get:function(){return this.sQ},set:function(t){this.sQ=t}}]),t}();U(),St(),Ct();var _R=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).rQ=!1,r.nQ=!1,r.sQ=i,r}Rt(n,t);var i=n.prototype;return i.DR=function(){return!this.sQ.iQ&&t.prototype.DR.call(this)},i.EI=function(){this.nQ=!0,t.prototype.EI.call(this)},i.xI=function(){this.nQ=!1,t.prototype.xI.call(this)},i.BI=function(n){if(this.sQ.iQ)switch(n.type){case va.Dy:return this.ER=0,this.nQ||(this.uI?this.rQ=!0:this.xI()),!0;case va.Qy:this.rQ&&(this.rQ=!1,this.xI());break;case va.zy:if(this.rQ||t.prototype.DR.call(this))return!0}return t.prototype.BI.call(this,n)},n}(sA);U(),St(),Dt(),U(),St();var bR=function(){function t(t){this.na=t,this.eu=function(t){return{get currentBandwidthEstimate(){return t.gO},get corruptedVideoFrames(){return t.vO},get droppedVideoFrames(){return t._O},get totalVideoFrames(){return t.mO},get totalBytesLoaded(){return t.pO},get bufferedSegments(){return t.wO}}}(this)}return xt(t,[{key:"wa",get:function(){return this.eu}},{key:"vO",get:function(){return this.na.GR.vO}},{key:"gO",get:function(){return this.na.GR.gO}},{key:"_O",get:function(){return this.na.GR._O}},{key:"oQ",get:function(){throw new y("Not implemented")}},{key:"hQ",get:function(){throw new y("Not implemented")}},{key:"pO",get:function(){return this.na.GR.pO}},{key:"mO",get:function(){return this.na.GR.mO}},{key:"wO",get:function(){return this.na.GR.wO}}]),t}();function kR(t){if(!t||!Ni(t))return{_O:0,vO:0,mO:0,gO:0,pO:0,wO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{_O:n.droppedVideoFrames,vO:n.corruptedVideoFrames||0,mO:n.totalVideoFrames}}return{_O:t.webkitDroppedFrameCount||0,vO:0,mO:t.webkitDecodedFrameCount||0}}U(),St(),Dt(),Ct(),U(),St(),Ct();var AR=function(t){function n(){return t.call(this,"aQ")||this}return Rt(n,t),n.prototype.ka=function(){return new TR},n}(_g),TR=function(t){function n(){return t.call(this,"castingchange")||this}return Rt(n,t),n}(fa);U(),St();var SR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).cQ=void 0,n.lQ=void 0,n.wQ=!1,n.eu=void 0,n.gQ=function(){var t=n.wQ,i=n.uQ;t!==i&&(n.wQ=i,n._o(new AR))},n}Rt(n,t);var i=n.prototype;return i._Q=function(t){this.cQ=t,this.vQ(t)},i.mQ=function(t){this.lQ=t,this.vQ(t)},i.vQ=function(t){t.bn("statechange",this.gQ)},i.pQ=function(t){t.vn("statechange",this.gQ)},i.yn=function(){this.Ro(),this.cQ&&(this.pQ(this.cQ),this.cQ=void 0),this.lQ&&(this.pQ(this.lQ),this.lQ=void 0)},xt(n,[{key:"uQ",get:function(){var t,n;return(null==(t=this.cQ)?void 0:t.uQ)||(null==(n=this.lQ)?void 0:n.uQ)||!1}},{key:"dQ",get:function(){return this.cQ}},{key:"fQ",get:function(){return this.lQ}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get casting(){return t.uQ},get airplay(){var n;return null==(n=t.dQ)?void 0:n.wa},get chromecast(){var n;return null==(n=t.fQ)?void 0:n.wa},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new gR(t,["aQ"],i),i}(this)),this.eu}}]),n}(aa);U(),St(),Gt(),Jt(),U(),St(),Gt(),Jt();var ER=function(){function t(){}return t.yQ=function(t,n){return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),i=new wd({Xu:t,jk:Dl.Tk,AE:vd.GET}),[4,n.Qk(i)];case 1:return[4,r.sent().Kk()];case 2:return[2,r.sent().trim()];case 3:return jo(r.sent()),[2,void 0];case 4:return[2]}}))}))()},t.bQ=function(t){try{var n=NE(t);return new BE(n.key,n.domains_page,n.domains_source,n.expiration_date,n.features,n.customer_id,n.generation_date,n.sdks,n.send_impression)}catch(t){throw new ol(ul.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.AQ=function(t){void 0===t&&(t=wE.mh),qn.Vp("The baked-in license is used. Please update the configuration with your license.");var n=t.Kz("F2b-iL'[FL[S"),i=JSON.parse('["F$(:_L50F|aY"]').map((function(n){return t.Kz(n)})),r=JSON.parse('[".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.Kz(n)})),e=Number(new Date(Number(t.Kz('COD|aHpHa:p3Ceo3Co""')))),u=JSON.parse("[]").map((function(n){return t.Kz(n)}));return new BE(n,i,r,e,u)},t.convertLicenseToDummyLicense=function(t){return new BE(t.rq,t.oq,t.hq,864e13,t.uq,t.cq,Date.now(),t.dq,t.fq)},t}(),IR="https://validate.theoplayer.com/1/",RR=72e5,CR=A.floor(14399999*A.random()-RR),NR="THEOplayer.license",xR=function(){function t(t,n,i,r,e,u){this.fW=t,this.CQ=n,this.BQ=i,this.iY=r,this.xQ=e,this.xA=u,this.Iq=HE(u)}var n=t.prototype;return n.kQ=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.EQ(t.xQ.license,t.xQ.licenseUrl)];case 1:return n=i.sent(),t.iY.RQ(n),[2]}}))}))()},n.EQ=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return r=n,t?e=ER.bQ(t):r||(e=ER.AQ()),r||(r=IR+e.rq),u=i.IQ(),e?(s=i.CQ.Sq(e))!==ME.tq?[3,3]:i.DQ(e.aq)&&i.DQ(null==u?void 0:u.aq)?[4,i.NQ(r)]:[3,2]:[3,3];case 1:if(o=f.sent())return[2,o];f.label=2;case 2:return[2,e];case 3:return u?i.CQ.Sq(u)!==ME.tq?[3,6]:i.DQ(null==u?void 0:u.aq)?[4,i.NQ(r)]:[3,5]:[3,7];case 4:if(a=f.sent())return[2,a];f.label=5;case 5:return[2,u];case 6:iA.Fb(NR),f.label=7;case 7:return[4,ER.yQ(r,i.fW)];case 8:if(c=f.sent()){if(h=ER.bQ(c),i.CQ.Sq(h)===ME.tq)return iA.Bb(NR,c),[2,h];iA.Fb(NR)}else if(!i.Iq&&e&&s===ME.iq&&r===IR+e.rq)return[2,ER.convertLicenseToDummyLicense(e)];if(!e&&!h)throw new ol(ul.LICENSE_ERROR,"The given license is invalid!");return i.MQ(null!=e?e:h,new ol(ul.LICENSE_ERROR,"The given license is invalid!")),[2]}}))}))()},n.gq=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,n.iY.eY()];case 1:return i=c.sent(),n.DQ(i.aq)?(e=null!=(r=n.xQ.licenseUrl)?r:IR+i.rq,[4,n.NQ(e)]):[3,3];case 2:(u=c.sent())&&(n.iY.RQ(u),i=u),c.label=3;case 3:try{if((s=n.CQ.Sq(i))===ME.nq)throw o=OE._q,new ol(VE(o),zE.bq(o));if(s===ME.iq)throw a=OE.iq,new ol(VE(a),zE.bq(a));n.CQ.gq(t,i)}catch(t){n.LQ(t)}return[2]}}))}))()},n.Aq=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.iY.eY()];case 1:i=r.sent();try{n.CQ.Aq(t,i)}catch(t){n.LQ(t)}return[2]}}))}))()},n.NQ=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,ER.yQ(t,n.fW)];case 1:return void 0===(i=e.sent())?[2,void 0]:(r=ER.bQ(i),n.CQ.Sq(r)===ME.tq?(iA.Bb(NR,i),[2,r]):[2,void 0]);case 2:return e.sent(),[2,void 0];case 3:return[2]}}))}))()},n.DQ=function(t){return!t||Number(new Date)+2592e5+CR>=t},n.IQ=function(){var t=iA.Lb(NR);if(t)return ER.bQ(t)},n.MQ=function(t,n){this.iY.RQ(t),this.LQ(n)},n.LQ=function(t){throw $r(t.message),this.BQ.rY(t.message),t},t}();U(),St(),Gt(),Dt(),Jt();var DR=function(){function t(){this.FQ=new Kc}var n=t.prototype;return n.RQ=function(t){this.OQ=t,this.FQ.Vb()},n.eY=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.OQ?[2,ut.resolve(t.OQ)]:[4,t.FQ.Ub];case 1:return n.sent(),[2,t.OQ]}}))}))()},xt(t,[{key:"VQ",get:function(){return this.OQ}}]),t}();U(),St(),Dt(),Ct(),U(),St(),Ct();var PR=function(t){function n(){return t.call(this,"eC")||this}return Rt(n,t),n.prototype.ka=function(){return new MR},n}(_g),MR=function(t){function n(){return t.call(this,"change")||this}return Rt(n,t),n}(fa);function BR(t){var n,i={get fontFamily(){return t.WQ},set fontFamily(n){t.WQ=n},get fontColor(){return t.UQ},set fontColor(n){t.UQ=n},get fontSize(){return t.GQ},set fontSize(n){t.GQ=n},get backgroundColor(){return t.HQ},set backgroundColor(n){t.HQ=n},get windowColor(){return t.ZQ},set windowColor(n){t.ZQ=n},get edgeStyle(){return t.XQ},set edgeStyle(n){t.XQ=n},get marginTop(){return t.zQ},set marginTop(n){t.zQ=n},get marginBottom(){return t.qQ},set marginBottom(n){t.qQ=n},get marginLeft(){return t.YQ},set marginLeft(n){t.YQ=n},get marginRight(){return t.KQ},set marginRight(n){t.KQ=n},addEventListener:function(t,i){var r=zg(t,Gg);n.bn(r,i)},removeEventListener:function(t,i){var r=zg(t,Gg);n.vn(r,i)}};return n=new ca(i),t.bn(["eC"],(function(t){return n._o(t.wa)})),i}U(),St();var OR={WQ:void 0,UQ:void 0,GQ:void 0,HQ:void 0,ZQ:void 0,XQ:void 0,zQ:void 0,qQ:void 0,YQ:void 0,KQ:void 0},LR="THEOplayer.textTrackStyle.",FR=function(t){function n(){var i;return(i=t.call(this)||this).eu=void 0,i.QQ=n.$Q(),i}return Rt(n,t),n.prototype.ir=function(t){this.QQ=ss({},this.QQ,t),n.JQ(this.QQ),this._o(new PR)},n.$Q=function(){var t=ss({},OR);return t.WQ=iA.Lb(LR+"fontFamily")||t.WQ,t.UQ=iA.Lb(LR+"fontColor")||t.UQ,t.GQ=iA.Lb(LR+"fontSize")||t.GQ,t.HQ=iA.Lb(LR+"backgroundColor")||t.HQ,t.ZQ=iA.Lb(LR+"windowColor")||t.ZQ,t.XQ=iA.Lb(LR+"edgeStyle")||t.XQ,t},n.JQ=function(t){iA.Bb(LR+"fontFamily",t.WQ||""),iA.Bb(LR+"fontColor",t.UQ||""),iA.Bb(LR+"fontSize",t.GQ||""),iA.Bb(LR+"backgroundColor",t.HQ||""),iA.Bb(LR+"windowColor",t.ZQ||""),iA.Bb(LR+"edgeStyle",t.XQ||"")},xt(n,[{key:"jQ",get:function(){return this.QQ}},{key:"WQ",get:function(){return this.QQ.WQ},set:function(t){this.ir({WQ:t})}},{key:"UQ",get:function(){return this.QQ.UQ},set:function(t){this.ir({UQ:t})}},{key:"GQ",get:function(){return this.QQ.GQ},set:function(t){this.ir({GQ:t})}},{key:"HQ",get:function(){return this.QQ.HQ},set:function(t){this.ir({HQ:t})}},{key:"ZQ",get:function(){return this.QQ.ZQ},set:function(t){this.ir({ZQ:t})}},{key:"XQ",get:function(){return this.QQ.XQ},set:function(t){this.ir({XQ:t})}},{key:"zQ",get:function(){return this.QQ.zQ},set:function(t){this.ir({zQ:t})}},{key:"qQ",get:function(){return this.QQ.qQ},set:function(t){this.ir({qQ:t})}},{key:"KQ",get:function(){return this.QQ.KQ},set:function(t){this.ir({KQ:t})}},{key:"YQ",get:function(){return this.QQ.YQ},set:function(t){this.ir({YQ:t})}},{key:"wa",get:function(){return this.eu||(this.eu=BR(this)),this.eu}}]),n}(aa);function VR(t,n){var i,r;t.style.marginLeft=(null!=(i=n.YQ)?i:0)+"px",t.style.marginRight=(null!=(r=n.KQ)?r:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}U(),St(),Gt(),Dt(),Wt(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var UR=[va.ho,va.zy,Iy.UL,va.hb,va.qy,va.Uy,va.Jy,va.Qy,va.Dy,va.Yy,va.ub,va.Iy,Iy.iC,va.jy,Yp.fa,pa.Py,pa.Tb,va.Ey,va.Ty,va.fb,va.vb,va.Oy,va.Vy,va.Ly,va.Ny],WR={zB:!1};function jR(t){return t.kd.Tw===Ey.wW}U(),St();var ZR=function(t){return t.tJ="eJ",t}({}),XR=["eJ"],GR=function(t){return t[t.iJ=0]="iJ",t[t.Sk=1]="Sk",t[t.sJ=2]="sJ",t}({});U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt();var HR=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"],zR=function(t){return t.nJ="rJ",t.oJ="hJ",t.aJ="uJ",t}({}),YR=function(t){function n(n,i,r,e){var u;(u=t.call(this)||this).AJ=!1,u.SJ=new Kc,u.fJ=!1,u.Yo=new gl,u.uT=void 0,u.gJ=function(){u.fJ=!0},u.pJ=function(){u.bJ(!0)},u.MT=n,u.WB=i,u.$T=i.jG,u.vJ=r,u.Nw=e,u.$T.addEventListener("loadedmetadata",u.gJ);for(var s=0;s<HR.length;s++){var o=HR[s];u.$T.addEventListener(o,u.pJ)}return u}Rt(n,t);var i=n.prototype;return i.cJ=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,i.Nw.Dw(t.Ew,n)];case 1:return[4,e.sent()._T()];case 2:return r=e.sent(),[4,i.lJ(r)];case 3:return e.sent(),[2,r]}}))}))()},i.dJ=function(t){var n=this,i=this.uT;return i?0!==t.sH.length&&t.sH.some((function(t){return t.cT.Ew===i.cT})):0!==this.MT.sH.length?t.sH.some((function(t){return n.MT.sH.some((function(n){return t.cT===n.cT}))})):0===t.sH.length||!this.fJ},i._J=function(t){return this.vJ._J(t),this.MT=t,ut.resolve()},i.mJ=function(t){this.vJ.mJ(t)},i.Xw=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:for(t.Ro(),t.$T.removeEventListener("loadedmetadata",t.gJ),n=0;n<HR.length;n++)i=HR[n],t.$T.removeEventListener(i,t.pJ);return[4,t.Yo.yn()];case 1:return r.sent(),t.wJ(),[4,t.vJ.nr()];case 2:return r.sent(),[4,t.yJ(void 0)];case 3:return r.sent(),[2]}}))}))()},i.bJ=function(t){t!==this.AJ&&(this.AJ=t,t?this.SJ.Vb(void 0):this.SJ=new Kc)},i.lJ=function(t){var n=this;return this.Yo.Qo((function(){return n.yJ(t)}))},i.yJ=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(t&&!n.$T.src&&!n.$T.srcObject)throw new um(ul.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&(n.$T.src||n.$T.srcObject))throw new um(ul.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return!t||n.AJ?[3,2]:[4,n.SJ.Ub];case 1:r.sent(),r.label=2;case 2:return(i=n.uT)?[4,i.dT(n.$T)]:[3,4];case 3:r.sent(),n.uT=void 0,r.label=4;case 4:return t?[4,t.kn(n.$T)]:[3,6];case 5:r.sent(),n.uT=t,r.label=6;case 6:return[2]}}))}))()},i.Ca=function(t){var n=this;return this.Yo.Qo((function(){return n.TJ(t)}))},i.TJ=function(t){this.bJ(!1);var n=this.WB.QR;if(ni(t))this.$T.src=t;else if(function(t){if(void 0!==f.ManagedMediaSource&&t instanceof f.ManagedMediaSource)return!0;if("undefined"!=typeof MediaSource&&t instanceof MediaSource)return!0;return!1}(t))if(function(t){return"srcObject"in t&&Gn.su&&Gn.og>=17}(this.$T))try{this.$T.srcObject=t}catch(n){this.$T.src=URL.createObjectURL(t)}else this.$T.src=URL.createObjectURL(t);else KR(t)&&(this.$T.srcObject=t);this.WB.QR=n},i.kJ=function(t){var n=this;return this.Yo.Qo((function(){return n.EJ(t)}))},i.EJ=function(t){this.TJ(t),this.$T.load()},i.wJ=function(){this.bJ(!1),xi(this.$T)},i.xJ=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.uT?[4,t.uT.nr()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},xt(n,[{key:"kd",get:function(){return this.MT}},{key:"jG",get:function(){return this.$T}}]),n}(aa);function KR(t){return"undefined"!=typeof MediaStream&&t instanceof MediaStream}var qR=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.xj=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:switch((n=t.kd).rH){case pA.XC:case pA.zC:t.$T.setAttribute("crossorigin",n.rH);break;case pA.wE:default:t.$T.removeAttribute("crossorigin")}return void 0!==n.iI?t.$T.preload=n.iI:t.$T.preload=iS.yG,void 0!==n.oH?t.$T.title=n.oH:Ai(t.$T),n.PJ?[4,t.kJ(n.PJ)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,t.Ca(n.VC)];case 3:i.sent(),i.label=4;case 4:return t.vJ.$n(t,n),[2]}}))}))()},i.dJ=function(t){return!1},i._J=function(t){return ut.resolve(void 0)},i.DJ=function(t){return!1},i.NJ=function(){return!KR(this.MT.PJ)},i.Xw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return Ai(n.$T),[4,t.prototype.Xw.call(n)];case 1:return i.sent(),[2]}}))}))()},n.MJ=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Mk))},xt(n,[{key:"wR",get:function(){return BA.Cn(this.$T.buffered)}},{key:"ct",get:function(){return this.$T.duration}},{key:"RJ",get:function(){var t=this.ct;if(!isFinite(t))return!1;var n=this.wR;return 0!==n.V&&t-n.Tn(n.V-1)<kr}},{key:"iI",get:function(){return this.$T.preload},set:function(t){this.$T.preload=t}},{key:"hI",get:function(){return BA.Cn(this.$T.seekable)}},{key:"IJ",get:function(){return this.wR}},{key:"CJ",get:function(){if(Ni(this.$T)&&(this.$T.videoWidth>0||this.$T.videoHeight>0))return this.wR}}]),n}(YR);U(),St(),Ct();var JR=function(t){function n(n){var i;return(i=t.call(this,va.qy)||this).currentTime=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var QR=function(t){function n(){return t.call(this,va.Uy)||this}return Rt(n,t),n}(fa);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt(),Ct();var $R=function(t){return t.LJ="BJ",t}({}),tC=function(t){function n(n){var i;return(i=t.call(this,"BJ")||this).OJ=n,i}return Rt(n,t),n}(fa),nC=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).VJ=BA.pB(),n}Rt(n,t);var i=n.prototype;return i.WJ=function(t,n){var i=new BA([t,n]);this.VJ=this.VJ.tB(i),this._o(new tC(i))},i.UJ=function(t,n){this.VJ=this.VJ.iB(new BA([t,n]))},i.nr=function(){this.VJ=BA.pB()},i.yn=function(){this.Ro()},xt(n,[{key:"FJ",get:function(){return this.VJ}}]),n}(aa);function iC(t,n){return void 0===n&&(n=new jl({highWaterMark:1/0})),new Ul(new rC(t,n),{highWaterMark:0})}U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var rC=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,u=n.highWaterMark,s=void 0===u?1:u;this.Kd=[],this.Qd=0,this.FQ=void 0,this.XJ=!1,this.qJ=void 0,this.YJ=function(t){return t.done?(i.ZJ(),void i.FQ.close()):(i.Kd.push(t.value),i.Qd+=i.KJ(t.value),i.XJ&&i.ZJ(),i.GJ()?i.Od.read().then(i.YJ):void 0)},this.gx=function(t){i.ZJ(),i.FQ.error(t)},this.Od=t.getReader(),this.KJ=e,this.zJ=s}var n=t.prototype;return n.start=function(t){this.FQ=t,this.GJ()&&this.HJ()},n.pull=function(){this.Kd.length>0?this.ZJ():this.XJ=!0,this.GJ()&&this.HJ()},n.cancel=function(t){return Eo(this.Kd),this.Qd=0,this.XJ=!1,this.Od.cancel(t)},n.ZJ=function(){if(0!==this.Kd.length){var t=this.Kd;this.Kd=[],this.Qd=0,this.XJ=!1,this.FQ.enqueue(t)}},n.GJ=function(){return!!this.XJ||this.zJ-this.Qd>0},n.HJ=function(){var t=this;if(!this.qJ){var n=this.Od.read().then(this.YJ).catch(this.gx);this.qJ=n;var i=function(){t.qJ===n&&(t.qJ=void 0)};n.then(i,i)}},t}();U(),St(),U(),St(),Dt(),Ct(),U(),St(),U(),St();var eC=function(){function t(){this.QJ=[],this.Nb=0}var n=t.prototype;return n.jJ=function(t){this.QJ.push(t),this.Nb+=t.byteLength},n.JJ=function(t){if(this.Nb<=t)return this.$J();for(var n=this.QJ,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.slice(0,r);if(r<n.length&&i<t){var u=t-i;0,e.push(Tc(n[r],0,u)),i+=u}return{QJ:e,Nb:i}},n.t$=function(t){var n=this.JJ(t);return 1===n.QJ.length?n.QJ[0]:jc(n.QJ,n.Nb)},n.$J=function(){return{QJ:this.QJ,Nb:this.Nb}},n.e$=function(t){if(this.Nb<=t)return this.i$();for(var n=this.QJ,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.splice(0,r);if(n.length>0&&i<t){var u=t-i;0,e.push(Tc(n[0],0,u)),n[0]=Tc(n[0],u),i+=u}return this.Nb-=i,{QJ:e,Nb:i}},n.s$=function(t){var n=this.e$(t);return 1===n.QJ.length?n.QJ[0]:jc(n.QJ,n.Nb)},n.i$=function(){var t=this.$J();return this.QJ=[],this.Nb=0,t},n.n$=function(){var t=1===this.QJ.length?this.QJ[0]:jc(this.QJ,this.Nb);return this.QJ=[],this.Nb=0,t},t}(),uC=function(){function t(){this.Kd=new eC,this.Fa=0,this.l$=0,this.y$=0,this.v$()}var n=t.prototype;return n.r$=function(t,n){},n.o$=function(){},n.h$=function(t){this.Kd.jJ(t),this.a$(!1)},n.u$=function(){this.a$(!0)},n.c$=function(){return 0!==this.Fa||0!==this.Kd.Nb},n.a$=function(t){for(;0!==this.Kd.Nb;){if(!t&&this.l$>this.Kd.Nb)return;switch(this.Fa){case 0:this.d$(t);break;case 1:this.f$(t);break;case 2:this._$(t)}}},n.v$=function(){this.Fa=0,this.l$=8},n.d$=function(t){var n=Ec(this.Kd.t$(this.l$)),i=new Pc,r=pp.ZD(n,i);if(!r.VD)return this.l$=r.zD,void(t&&this.l$>this.Kd.Nb&&this.m$(this.Kd.Nb));var e=r.XD.Tw,u=r.XD.Nb;0===u&&(u=1/0),this.r$(e,u),this.g$(e)?this.p$(u):this.m$(u)},n.p$=function(t){this.Fa=1,this.l$=t},n.f$=function(t){var n=Ec(this.Kd.s$(this.l$)),i=new Pc,r=pp.WD(n,i,!t);if(!r.VD)throw new wp(i.nc);this.o$(),this.w$(r.UD),this.v$()},n.m$=function(t){this.Fa=2,this.l$=0,this.y$=t},n._$=function(t){var n=this.Kd.e$(this.y$);this.y$-=n.Nb;for(var i=0,r=n.QJ;i<r.length;i++){var e=r[i];this.b$(e)}(0===this.y$||t&&this.y$===1/0)&&(this.o$(),this.v$())},t}();function sC(t){return t instanceof qf}function oC(t){return t instanceof Yf}function aC(t){return t instanceof Gf||t instanceof Hf}function cC(t){return t instanceof mf}function hC(t){return t instanceof Gh}function fC(t){return t instanceof Ff}function vC(t){return t instanceof Of}function lC(t){return t instanceof cv}function dC(t){return t instanceof ov}function gC(t){return t instanceof rv}function mC(t){return t instanceof uv}function wC(t,n){var i=mo(t.boxes,gC);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var r=0,e=t.boxes;r<e.length;r++){var u=e[r];u instanceof uv&&u.flags.dataOffsetPresent&&(u.dataOffset=u.dataOffset+n)}}U(),St();var pC=function(t){function n(n){var i;return(i=t.call(this)||this).I$=cs(),i.M$=n,i}Rt(n,t);var i=n.prototype;return i.start=function(t){this.FQ=t},i.transform=function(t){this.h$(t)},i.flush=function(){this.u$()},i.g$=function(t){return t===hp.gP||t===hp.oD||t===hp.mD},i.w$=function(t){var n=this.A$(t);this.FQ.enqueue(n)},i.b$=function(t){this.FQ.enqueue(t)},i.A$=function(t){var n=Ic(t.Kk.Kk);switch(t.Tw){case"moov":return this.S$(n);case"sidx":return this.T$(n);case"moof":return this.k$(n)}return n},i.R$=function(t){var n=this.I$.get(t);if(void 0===n)throw new y("Expected to have found a media header timescale for track ID "+t+".");return n},i.S$=function(t){for(var n=Iv(t),i=0;i<n.boxes.length;i++){var r=n.boxes[i];r instanceof Wf?n.boxes[i]=this.C$(r):r instanceof jf?n.boxes[i]=this.P$(r):r instanceof Yf&&this.D$(r)}for(var e=0,u=n.boxes;e<u.length;e++){var s=u[e];s instanceof Ff&&this.N$(s)}return n.serialize().join()},i.C$=function(t){this.x$=t.timescale;var n=bC(sr.fromNumber(t.duration,!0),this.E$,this.M$);return 0!==n.getHighBits()?this.P$(function(t){return new jf({creation:sr.fromNumber(t.creationTime,!0),modification:sr.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:sr.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.M$,t.duration=n.toInt(),t)},i.P$=function(t){return this.x$=t.timescale,t.timescale=this.M$,t.duration=bC(t.duration,this.E$,this.M$),t},i.D$=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof Gf?(n=r.trackId,t.boxes[i]=this.L$(r)):r instanceof Hf?(n=r.trackId,t.boxes[i]=this.B$(r)):r instanceof mf?this.O$(r,n):r instanceof uf&&this.F$(r)}},i.L$=function(t){var n=bC(sr.fromNumber(t.duration,!0),this.E$,this.M$);return 0!==n.getHighBits()?this.B$(function(t){return new Hf({creation:sr.fromNumber(t.creationTime,!0),modification:sr.fromNumber(t.modificationTime,!0),duration:sr.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.B$=function(t){return t.duration=bC(t.duration,this.E$,this.M$),t},i.O$=function(t,n){for(var i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof vf?t.boxes[i]=this.V$(r,n):r instanceof lf&&(t.boxes[i]=this.W$(r,n))}},i.V$=function(t,n){this.I$.set(n,t.timescale);var i=bC(sr.fromNumber(t.duration,!0),t.timescale,this.M$);return 0!==i.getHighBits()?this.W$(function(t){return new lf({creation:sr.fromNumber(t.creationTime,!0),modification:sr.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:sr.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.M$,t.duration=i.toInt(),t)},i.W$=function(t,n){return this.I$.set(n,t.timescale),t.timescale=this.M$,t.duration=bC(t.duration,t.timescale,this.M$),t},i.F$=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var r=i[n];r instanceof nf?this.U$(r):r instanceof rf&&this.G$(r)}},i.U$=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=_C(r.mediaTime,this.E$,this.M$),r.segmentDuration=_C(r.segmentDuration,this.E$,this.M$)}},i.G$=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=bC(r.mediaTime,this.E$,this.M$),r.segmentDuration=bC(r.segmentDuration,this.E$,this.M$)}},i.N$=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Of?this.H$(i):i instanceof Pf?t.boxes[n]=this.Z$(i):i instanceof Mf&&(t.boxes[n]=this.X$(i))}},i.H$=function(t){var n=this.R$(t.trackId);t.defaultSampleDuration=_C(t.defaultSampleDuration,n,this.M$)},i.Z$=function(t){var n=bC(sr.fromNumber(t.fragmentDuration,!0),this.E$,this.M$);return 0!==n.getHighBits()?this.X$(function(t){return new Mf(sr.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.X$=function(t){return t.fragmentDuration=bC(t.fragmentDuration,this.E$,this.M$),t},i.T$=function(t){var n=Rv(t);return(n=n instanceof gv?this.z$(n):this.q$(n)).serialize().join()},i.z$=function(t){var n=t.timescale,i=bC(sr.fromNumber(t.earliestPresentationTime,!0),n,this.M$);if(0!==i.getHighBits())return this.q$(function(t){return new mv(t.referenceId,t.timescale,sr.fromNumber(t.earliestPresentationTime,!0),sr.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.M$,t.earliestPresentationTime=i.toInt();for(var r=0,e=t.references;r<e.length;r++){var u=e[r];u.subsegmentDuration=_C(u.subsegmentDuration,n,this.M$)}return t},i.q$=function(t){var n=t.timescale;t.timescale=this.M$,t.earliestPresentationTime=bC(t.earliestPresentationTime,n,this.M$);for(var i=0,r=t.references;i<r.length;i++){var e=r[i];e.subsegmentDuration=_C(e.subsegmentDuration,n,this.M$)}return t},i.k$=function(t){for(var n=Cv(t),i=n.getSize(),r=0,e=n.boxes;r<e.length;r++){var u=e[r];u instanceof ov&&this.Y$(u)}var s=n.getSize();if(s!==i)for(var o=s-i,a=0,c=n.boxes;a<c.length;a++){var h=c[a];h instanceof ov&&wC(h,o)}return n.serialize().join()},i.Y$=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof rv?(n=this.R$(r.trackId),this.K$(r,n)):r instanceof $f?t.boxes[i]=this.j$(r,n):r instanceof nv?t.boxes[i]=this.Q$(r,n):r instanceof uv&&this.J$(r,n)}},i.K$=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=_C(t.defaultSampleDuration,n,this.M$))},i.j$=function(t,n){var i=bC(sr.fromNumber(t.baseMediaDecodeTime,!0),n,this.M$);return 0!==i.getHighBits()?this.Q$(function(t){return new nv(sr.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.Q$=function(t,n){return t.baseMediaDecodeTime=bC(t.baseMediaDecodeTime,n,this.M$),t},i.J$=function(t,n){for(var i=0,r=0,e=0,u=t.samples;e<u.length;e++){var s=u[e];if(void 0!==s.duration){var o=_C(r+=s.duration,n,this.M$);s.duration=o-i,i=o}void 0!==s.compositionTimeOffset&&(s.compositionTimeOffset=yC(s.compositionTimeOffset,n,this.M$))}},xt(n,[{key:"E$",get:function(){if(void 0===this.x$)throw new y("Expected to have found a movie header timescale.");return this.x$}}]),n}(uC);function yC(t,n,i){return sr.fromInt(t,!1).multiply(i).divide(n).toNumber()}function _C(t,n,i){return sr.fromInt(t,!0).multiply(i).divide(n).toNumber()}function bC(t,n,i){return lw.IF(t).tV(lw.CF(i,!0)).nV(lw.CF(n,!0)).GF()}var kC=function(){function t(t){this.e0=new pC(t)}return t.prototype.t0=function(t){return t.pipeThrough(new Wl(this.e0))},t}();U(),St(),U(),St();var AC=function(t){return t[t.i0=64]="i0",t[t.s0=103]="s0",t[t.n0=107]="n0",t}({});function TC(t,n,i){var r=Ga(t,n);if(r!==i)throw new _("Expected descriptor with tag "+i+", but found "+r)}function SC(t,n){TC(t,n,3);var i,r,e,u=EC(t,n),s=n.nc+u,o=Qa(t,n),a=Ga(t,n),c=0!=(64&a),h=0!=(32&a),f=31&a;(0!=(128&a)&&(i=Qa(t,n)),c)&&(r=uc(t,n,Ga(t,n)));h&&(e=uc(t,n,2));var v=function(t,n){TC(t,n,4);var i,r=EC(t,n),e=n.nc+r,u=Ga(t,n),s=Ga(t,n),o=s>>2,a=0!=(2&s),c=qa(t,n,3),h=tc(t,n),f=tc(t,n);if(n.nc<e){var v=function(t,n){return t.getUint8(n.nc)}(t,n);5===v&&(i=function(t,n){TC(t,n,5);var i=EC(t,n),r=za(t,n,i);return{r0:5,o0:r}}(t,n))}return n.Rb(e),{r0:4,h0:u,a0:o,u0:a,c0:c,l0:h,d0:f,f0:i}}(t,n);return n.Rb(s),{r0:3,o:o,_0:i,Xu:r,v0:f,m0:e,g0:v}}function EC(t,n){for(var i=0,r=0;r<4;r++){var e=Ga(t,n);if(i=i<<7|127&e,!(128&e))break}return i}function IC(t,n){for(var i=Ga(t,n),r=Ga(t,n),e=Ga(t,n),u=Ga(t,n),s=3&Ga(t,n),o=31&Ga(t,n),a=[],c=0;c<o;c++){var h=Qa(t,n);a.push(za(t,n,h))}for(var f=Ga(t,n),v=[],l=0;l<f;l++){var d=Qa(t,n);v.push(za(t,n,d))}return{p0:i,w0:r,y0:e,b0:u,A0:s,S0:a,T0:v}}function RC(t,n,i){if(!(i&&n.byte>=i)){var r=t.Lb(n.byte);return n.byte+=1,r}}function CC(t,n){return function(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=256*r+RC(t,n);return r}(t,n,2)}U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),Dt();var NC=function(){function t(){this.x0=0,this.E0=[],this.qV={}}var n=t.prototype;return n.k0=function(t){this.E0=this.E0.concat(t.E0),this.x0+=t.V},n.R0=function(t,n,i){var r=this.x0,e=i-n;e>0&&(this.E0.push({I0:n,C0:i,P0:e,D0:r,N0:t}),this.x0+=e)},n.Lb=function(t){for(var n=0,i=this.E0;n<i.length;n++){var r=i[n];if(r.D0<=t&&t<r.D0+r.P0)return r.N0[t+r.I0-r.D0]}},n.M0=function(t,n){for(var i=n,r=0,e=this.E0;r<e.length;r++)for(var u=e[r],s=u.C0,o=u.I0;o<s;o+=1,i+=1)t[i]=u.N0[o];return i},n.L0=function(){for(var t=new I(this.x0),n=0,i=0,r=this.E0;i<r.length;i++)for(var e=r[i],u=e.C0,s=e.I0;s<u;s+=1,n+=1)t[n]=e.N0[s];return t},n.Ib=function(n){for(var i=new t,r=0,e=this.E0;r<e.length;r++){var u=e[r];i.R0(u.N0,u.I0,u.C0)}return i.qV=n||ss({},this.qV),i},xt(t,[{key:"V",get:function(){return this.x0},set:function(t){var n=this.E0,i=this.x0-t;if(!(t>=this.x0))if(this.x0=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.P0)return e.C0-=i,e.P0-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.P0}else n.length=0}},{key:"Kk",get:function(){for(var t=new Array(this.x0),n=0,i=0,r=this.E0;i<r.length;i++)for(var e=r[i],u=e.C0,s=e.I0;s<u;s+=1,n+=1)t[n]=e.N0[s];return t}}]),t}();U(),St();var xC=[128,64,32,16,8,4,2,1];function DC(t,n){var i=A.floor(n.bit/8),r=0==(t.Lb(i)&xC[n.bit%8])?0:1;return n.bit+=1,r}function PC(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=2*r+DC(t,n);return r}function MC(t,n){for(var i=0;0===DC(t,n)&&i<32;)i+=1;return PC(t,n,i)+A.pow(2,i)-1}function BC(t,n){var i=MC(t,n);return 1&i?A.floor((i+1)/2):-A.floor(i/2)}function OC(t,n){var i,r=[],e={byte:1};do{r.push(FC(t,n,e)),i=n.Lb(e.byte)}while(void 0!==i&&128!==i);return r}function LC(t,n){var i,r=0;do{r+=i=RC(t,n)}while(255===i);return r}function FC(t,n,i){var r=LC(n,i),e=LC(n,i),u=i.byte,s=u+e;return i.byte=s,{B0:t,O0:r,F0:e,V0:u,W0:s,U0:n}}var VC=function(t){return t[t.G0=1]="G0",t[t.H0=2]="H0",t[t.Z0=3]="Z0",t[t.X0=4]="X0",t[t.z0=5]="z0",t[t.q0=6]="q0",t[t.Y0=7]="Y0",t[t.K0=8]="K0",t[t.j0=9]="j0",t}({}),UC=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function WC(t,n,i){for(var r=8,e=8,u=0;u<i;u+=1){if(0!==e)e=(r+BC(t,n)+256)%256;r=0===e?r:e}}var jC=function(){function t(t){this.J0=[],this.$0=0,this.t1=t}var n=t.prototype;return n.Q0=function(){for(var t=this.J0,n=A.max(0,this.$0+t.length-2),i=this.t1,r=i.V,e=0;n<r;n+=1){var u=i.Lb(n);0===u?e+=1:(3===u&&e>=2&&t.push(n),e=0)}this.$0=n-t.length},n.e1=function(t){for(var n=this.J0,i=t,r=0;r<n.length;r++){if(!(n[r]<=i))return i;i+=1}return i},n.Lb=function(t){if(!(t>this.t1.V))return t>this.$0&&this.Q0(),this.t1.Lb(this.e1(t))},t}();function ZC(t){var n,i,r,e,u,s,o=new jC(t),a=0,c=0,h=0,f=0,v=o.Lb(1),l={bit:32};if(MC(o,l),100===v||110===v||122===v||144===v){var d=MC(o,l);if(3===d&&(n=DC(o,l)),MC(o,l),MC(o,l),DC(o,l),1===DC(o,l))for(var g=0;g<(3!==d?8:12);g+=1){1===DC(o,l)&&WC(o,l,g<6?16:64)}}var m=MC(o,l),w=MC(o,l);if(0===w)MC(o,l);else if(1===w){DC(o,l),BC(o,l),BC(o,l);for(var p=MC(o,l),y=0;y<p;y+=1)BC(o,l)}MC(o,l),DC(o,l);var _=MC(o,l),b=MC(o,l),k=DC(o,l);if(0===k&&DC(o,l),DC(o,l),1===DC(o,l)&&(a=MC(o,l),c=MC(o,l),h=MC(o,l),f=MC(o,l)),1===DC(o,l)){if(1===DC(o,l)){var T=PC(o,l,8);if(255===T)i=PC(o,l,16),r=PC(o,l,16);else{var S=UC[T];S&&(i=S[0],r=S[1])}}if(1===DC(o,l)&&DC(o,l),1===DC(o,l))PC(o,l,3),DC(o,l),1===DC(o,l)&&(PC(o,l,8),PC(o,l,8),PC(o,l,8));1===DC(o,l)&&(MC(o,l),MC(o,l)),1===(e=DC(o,l))&&(u=PC(o,l,32),s=PC(o,l,32),DC(o,l))}return{width:A.floor(16*(_+1)-2*a-2*c),height:A.floor((2-k)*(b+1)*16-2*h-2*f),qM:i,YM:r,i1:e?s/(2*u):void 0,s1:n,n1:m}}function XC(t){var n=mp(Ap.JD(t),hp.gP);if(n){for(var i=n.XD.mN,r=[],e=0,u=n.Z;e<u.length;e++){for(var s=u[e],o=s.XD.EN,a=s.AN.XD.mN,c=void 0,h=void 0,f=void 0,v=0,l=s.AN.MN.ON.VN.UN;v<l.length;v++){var d,g,m,w=GC(l[v]);if(w)c=null!=(d=w.o1)?d:c,h=null!=(g=w.h1)?g:h,f=null!=(m=w.a1)?m:f}r.push({EN:o,mN:a,o1:c,h1:h,a1:f})}return{mN:i,Z:r}}}function GC(t){var n,i,r;if(t.Tw===hp.CP){var e,u=IC(Ec(t.yM.Kk),new Pc);n=function(t){return"avc1."+HC(t.w0,2)+HC(t.y0,2)+HC(t.b0,2)}(u),r=null==(e=function(t){if(0===t.S0.length)return;var n=t.S0[0],i=new NC;return i.R0(n,0,n.byteLength),ZC(i)}(u))?void 0:e.i1}else if(t.Tw===hp.DP||t.Tw===hp.NP){var s=function(t,n){for(var i=n.Db(),r=Da(t,i,8),e=Da(t,i,2),u=Da(t,i,1),s=Da(t,i,5),o=Da(t,i,32),a=[],c=0;c<6;c++)a.push(Da(t,i,8));var h=Da(t,i,8);i.xb(4);var f=Da(t,i,12);i.xb(6);var v=Da(t,i,2);i.xb(6);var l=Da(t,i,2);i.xb(5);var d=Da(t,i,3);i.xb(5);for(var g=Da(t,i,3),m=Da(t,i,16),w=Da(t,i,2),p=Da(t,i,3),y=Da(t,i,1),_=Da(t,i,2),b=Da(t,i,8),k=[],A=0;A<b;A++){var T=Da(t,i,1);i.xb(1);for(var S=Da(t,i,6),E=Da(t,i,16),I=[],R=0;R<E;R++){var C=Da(t,i,16),N=za(t,new Pc(i.nc>>3),C);i.xb(8*C),I.push({u1:C,c1:N})}k.push({l1:T,d1:S,_1:E,v1:I})}return{p0:r,m1:e,g1:u,w1:s,b1:a,A1:h,S1:f,T1:v,E1:o,R1:l,I1:d,C1:g,P1:m,D1:p,N1:y,M1:w,A0:_,L1:b,B1:k}}(Ec(t.TM.Kk),new Pc);n=function(t,n){var i=t.toString()+".";switch(n.m1){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.w1.toString()+".",i+=function(t){var n=t;return n=n>>>1&1431655765|(1431655765&n)<<1,n=n>>>2&858993459|(858993459&n)<<2,n=n>>>4&252645135|(252645135&n)<<4,n=n>>>8&16711935|(16711935&n)<<8,n=n>>>16|n<<16,n}(n.E1).toString(16)+".",n.g1){case 0:i+="L";break;case 1:i+="H";break;default:return}i+=n.A1.toString();for(var r=n.b1.reduce((function(t,n){return 0===t?n:n+1}),0),e=0;e<r;e++)i+="."+n.b1[e].toString(16).toUpperCase();return i}(t.Tw,s)}else if(t.Tw===hp.HP||t.Tw===hp.ZP||t.Tw===hp.zP||t.Tw===hp.qP){var o=function(t,n){var i=n.Db(),r=Da(t,i,8),e=Da(t,i,8),u=Da(t,i,7),s=Da(t,i,6),o=Boolean(Da(t,i,1)),a=Boolean(Da(t,i,1)),c=Boolean(Da(t,i,1)),h=Da(t,i,4);return Da(t,i,28),Da(t,i,32),Da(t,i,32),Da(t,i,32),Da(t,i,32),{O1:r,F1:e,V1:u,W1:s,U1:o,G1:a,H1:c,Z1:h}}(Ec(t.OM.Kk),new Pc);n=function(t,n){var i=t.toString(),r=Ys(n.V1.toString(),2,"0"),e=Ys(n.W1.toString(),2,"0");return i+"."+r+"."+e}(t.Tw,o)}else if(t.Tw===hp.LP){var a=function(t,n){var i=n.Db(),r=Da(t,i,8);i.xb(24);for(var e=Da(t,i,8),u=Da(t,i,8),s=Da(t,i,4),o=Da(t,i,3),a=xa(t,i),c=Da(t,i,8),h=Da(t,i,8),f=Da(t,i,8),v=Da(t,i,16),l=new Array(8),d=0;d<v;d++)l[d]=Da(t,i,8);return{p0:r,V1:e,W1:u,X1:s,z1:o,q1:a,HM:c,ZM:h,XM:f,Y1:v,K1:l}}(Ec(t.EM.Kk),new Pc);n=function(t,n){var i=t.toString()+".";return i+="0"+n.V1+".",i+=Ys(""+n.W1,2,"0")+".",i+=Ys(""+n.X1,2,"0")+".",i+=Ys(""+n.z1,2,"0")+".",i+=Ys(""+n.HM,2,"0")+".",i+=Ys(""+n.ZM,2,"0")+".",i+=Ys(""+n.XM,2,"0")+".",i+="0"+n.q1,i}(t.Tw,a)}else if(t.Tw===hp.OP){var c=function(t,n){var i=n.Db();i.xb(1);var r=Da(t,i,7),e=Da(t,i,3),u=Da(t,i,5),s=xa(t,i),o=xa(t,i),a=xa(t,i),c=xa(t,i),h=xa(t,i),f=xa(t,i),v=Da(t,i,2);i.xb(3);var l,d=xa(t,i);return d?l=Da(t,i,4):i.xb(4),{jD:r,j1:e,Q1:u,J1:s,t2:o,e2:a,i2:c,s2:h,n2:f,o2:v,h2:d,a2:l}}(Ec(t.IM.Kk),new Pc);n=function(t,n,i){var r=t.toString()+".";if(r+=n.j1+".",r+=""+Ys(""+n.Q1,2,"0"),r+=(0===n.J1?"M":"H")+".",r+=(1===n.e2?12:10)+".",r+=(1===n.j1?0:n.i2)+".",r+=""+n.s2+n.n2+(1===n.s2&&1===n.n2?n.o2:"0"),i&&i.GM===fp.ON_SCREEN_COLOURS){var e=i;r+="."+Ys(""+e.HM,2,"0")+"."+Ys(""+e.ZM,2,"0")+"."+Ys(""+e.XM,2,"0")+"."+(e.zM?1:0)}return r}(t.Tw,c,t.CM)}else if(t.Tw===hp.QP){i=function(t){var n=t.g0;switch(n.h0){case AC.i0:return function(t){var n;if(!(null==(n=t.f0)?void 0:n.o0))return"mp4a.40";var i=function(t,n){var i=Da(t,n,5);31===i&&(i=32+Da(t,n,6));var r,e=Da(t,n,4);return 15===e&&(r=Da(t,n,24)),{u2:i,c2:e,l2:r,d2:Da(t,n,4)}}(Ec(t.f0.o0),new Pa);return"mp4a.40."+i.u2}(n);case AC.s0:return"mp4a.40.2";case AC.n0:return"mp4a.40.34"}}(SC(Ec(t.dM.Kk),new Pc))}else if(t.Tw===hp.$P)i="fLaC";else{if(t.Tw!==hp.YP)return(t.Tw===hp.rD||t.Tw===hp.nD)&&t.NM?GC(t.NM):void 0;i="ec-3"}return{o1:n,h1:i,a1:r}}function HC(t,n){var i=t.toString(16);return Ys(i,n,"0")}function zC(t,n){var i=Ap.JD(Ec(t)),r=function(t,n){for(var i,r=function(t,r){var e,u=r[t],s=null==(e=u.aL)?void 0:e.aL;if(s){var o=u.XD.EN,a=mo(n.Z,(function(t){return t.EN===o})),c=pw.IF(s,a.mN);i&&!c.bF(i)||(i=c)}},e=0,u=t.Z;e<u.length;e++)r(e,u);return i}(mp(i,hp.oD),n),e=mp(i,hp.fD);return{WO:r._F(),f2:e.Kk}}function YC(t,n){return KC.apply(this,arguments)}function KC(){return KC=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:switch(t.Tw){case GR.iJ:return[3,1];case GR.Sk:return[3,2];case GR.sJ:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,Gl(t.Kk,n)];case 3:return i=r.sent(),Zo(n),[2,{Tw:GR.iJ,Kk:new I(i)}];case 4:throw new y("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 5:return[2]}}))})),KC.apply(this,arguments)}U(),St(),U(),St(),Gt(),Jt();var qC=Gn.eg,JC=function(t){function n(n,i,r,e,u){var s,o;if((s=t.call(this)||this).Pj=20,s.Mj=30,s._2=!1,s.U2=!1,s.t3=void 0,s.i3=new Qo,s.I2=!1,s.C2=void 0,s.T2=!1,s.E2=void 0,s.s3=function(){s._2=!1},s.n3=function(t){t.removedRanges&&s._o(new fa(ZR.tJ))},s.Z2=i,s.L2=n,s.m2=r,s.m2.addEventListener("updateend",s.s3),s.m2.addEventListener("bufferedchange",s.n3),s.K2=e,s.Q2=u,s.T2=QC(e.Mk,u),null==(o=i.kd)?void 0:o.ap){var a,c=null!=(a=i.kd.r3)?a:1e5;s.D2=new kC(c)}return s}Rt(n,t);var i=n.prototype;return i.g2=function(t,n,i){var r=this;switch(t.Tw){case GR.iJ:case GR.Sk:return this.w2((function(i){return r.b2(t,n,i)}),i);case GR.sJ:throw new y("Opaque segments are not supported on web.")}},i.A2=function(t,n){var i=this;switch(t.Tw){case GR.iJ:return this.w2((function(n){return i.S2(t,n)}),n);case GR.Sk:throw new y("Streaming initialization segments are not supported on web.");case GR.sJ:throw new y("Opaque initialization segments are not supported on web.")}},i.S2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.T2?(i.E2=XC(Ec(t.Kk)),[2]):[4,i.R2(t,void 0,n)];case 1:return r.sent(),qC&&(i.I2=!1,i.C2=t),[2]}}))}))()},i.b2=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return qC&&r.I2&&r.C2?[4,r.S2(r.C2,i)]:[3,2];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,,6,7]),Zo(i),r.T2&&r.E2?[4,YC(t,i)]:[3,4];case 3:e=o.sent(),u=zC(e.Kk,r.E2),t={Tw:GR.iJ,Kk:u.f2},n=ss({},n,{BV:u.WO+(null!=(s=n.BV)?s:0)}),o.label=4;case 4:return[4,r.R2(t,n,i)];case 5:return o.sent(),r._o(new fa(ZR.tJ)),[3,7];case 6:return t.Tw===GR.Sk&&t.Kk.cancel(new Wo).catch(Si),[7];case 7:return[2]}}))}))()},i.R2=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return Zo(i),n?[4,r.P2(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:switch(t.Tw){case GR.iJ:return[3,3];case GR.Sk:return[3,7]}return[3,11];case 3:return r.D2?(e=r.D2.t0(Zl(t.Kk)),[4,r.N2(e,i)]):[3,5];case 4:return[2,s.sent()];case 5:return[4,r.M2(t.Kk)];case 6:return[2,s.sent()];case 7:return r.D2?(u=r.D2.t0(t.Kk),[4,r.N2(u,i)]):[3,9];case 8:return[2,s.sent()];case 9:return[4,r.N2(t.Kk,i)];case 10:return[2,s.sent()];case 11:return[2]}}))}))()},i.N2=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:r=i.L2.wR,e=iC(t),u=e.getReader(),s=!1,v.label=1;case 1:v.trys.push([1,6,,12]),v.label=2;case 2:return[4,Ho(u.read(),n)];case 3:return(o=v.sent()).done?(s=!1,[3,5]):(Zo(n),a=Wc(o.value),s=!0,[4,i.M2(a)]);case 4:return v.sent(),[3,2];case 5:return[3,12];case 6:return c=v.sent(),u.cancel(c).catch(Si),s?[4,i.B2()]:[3,11];case 7:v.sent(),h=i.L2.wR.jn(r.jL()),f=0,v.label=8;case 8:return f<h.V?[4,i.O2(h.Sn(f),h.Tn(f))]:[3,11];case 9:v.sent(),v.label=10;case 10:return f++,[3,8];case 11:throw c;case 12:return[2]}}))}))()},i.F2=function(t,n){var i=this;return this.w2((function(){return i.W2(t,n)}))},i.W2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.m2.appendWindowStart===t&&i.m2.appendWindowEnd===n?[3,2]:[4,i.B2()];case 1:r.sent(),i.m2.appendWindowStart=0,i.m2.appendWindowEnd=n,i.m2.appendWindowStart=t,r.label=2;case 2:return[2]}}))}))()},i.P2=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:if(n.m2.timestampOffset===t.BV)return[2];i.label=1;case 1:return i.trys.push([1,2,,4]),n.m2.timestampOffset=t.BV,[3,4];case 2:return i.sent(),[4,n.B2()];case 3:return i.sent(),n.m2.timestampOffset=t.BV,[3,4];case 4:return[2]}}))}))()},i.M2=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.m2.appendBuffer(t),n.U2=!0,[4,n.G2()];case 1:return i.sent(),[2]}}))}))()},i.H2=function(t,n,i){var r=this;return this.w2((function(i){return r.O2(t,n,i)}),i)},i.O2=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return Zo(i),r.m2.remove(t,n),[4,r.G2()];case 1:return e.sent(),[2]}}))}))()},i.G2=function(){var t=this,n=this.L2.wR;return new ut((function(i,r){var e,u=!1,s=function(){u=!0},o=function(){u=!1,e="error"},a=function(){u=!1,e="aborted"},c=function(){u=!1,e="sourceclose",h()},h=function(){f(),u&&!e?(n.aB(t.L2.wR)||t._o(new fa(ZR.tJ)),i()):r(new y(e))},f=function(){t.m2.removeEventListener("update",s),t.m2.removeEventListener("error",o),t.m2.removeEventListener("abort",a),t.m2.removeEventListener("updateend",h),t.Z2.vn(zR.oJ,c)};t.m2.addEventListener("update",s),t.m2.addEventListener("error",o),t.m2.addEventListener("abort",a),t.m2.addEventListener("updateend",h),Gn.Cm&&Gn.Dm<3&&t.Z2.bn(zR.oJ,c)}))},i.X2=function(){var t=this;return this.w2((function(){return t.B2()}))},i.B2=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(t.Z2.rI!==yN.GE)return[2];qC&&(t.I2=!0),t.m2.updating&&(t._2=!0);try{t.m2.abort()}catch(n){0,t._2=!1}return t.va?[4,t.G2().catch(Si)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},i.z2=function(){return"function"==typeof this.m2.changeType&&!Gn.xm},i._J=function(t){if(this.q2(),this.Z2.rI!==yN.Y2){var n;this.K2=t;var i=null!=(n=this.Z2.j2(t.Mk))?n:t.Mk;this.T2=QC(t.Mk,this.Q2),this.z2()&&!Hs(this.Q2,i)&&(this.Q2=i,this.m2.changeType(this.Q2))}},i.J2=function(){this.Z2.rI!==yN.Dy||this.t3||this.va||(this.m2.timestampOffset=this.m2.timestampOffset,this.Z2.e3())},i.w2=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:i.q2(),(r=new Qo).Qw(i.i3.Uw),n&&r.Qw(n),e.label=1;case 1:return e.trys.push([1,,5,6]),i.t3=t(r.Uw),[4,i.t3];case 2:return e.sent(),i.Z2.e3(),i.va?[4,i.G2()]:[3,4];case 3:e.sent(),e.label=4;case 4:return[3,6];case 5:return i.t3=void 0,r.Xw(),[7];case 6:return[2]}}))}))()},i.q2=function(){if(this.t3)throw new y("Internal error")},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),t.i3.jw(),t.t3?[4,t.t3.catch(Si)]:[3,2];case 1:n.sent(),t.t3=void 0,n.label=2;case 2:return t.m2.removeEventListener("updateend",t.s3),t.m2.removeEventListener("bufferedchange",t.n3),[2]}}))}))()},xt(n,[{key:"bj",get:function(){return this.Pj},set:function(t){this.Pj=t}},{key:"Ej",get:function(){return this.Mj},set:function(t){this.Mj=t}},{key:"va",get:function(){return this._2||this.m2.updating}}]),n}(aa);function QC(t,n){return Xs(t,"audio/mp4")&&Xs(n,"audio/mpeg")}U(),St(),Dt();var $C=function(){function t(t,n){this.h3=void 0,this.o3=n,this.m2=t}var n=t.prototype;return n.RJ=function(){return!!this.h3&&this.wR.YL().wr(this.h3)},n.a3=function(){var t=this.wR;this.h3=t.V>0?t.Tn(t.V-1):0,this.o3.u3()},n.J2=function(){this.h3=void 0},xt(t,[{key:"wR",get:function(){if(this.o3.rI===yN.Y2)return BA.pB();var t=BA.Cn(this.m2.buffered).jn(new BA([0,1/0])),n=this.h3;return void 0!==n&&t.V>0&&t.Tn(t.V-1)===n&&(t=t.tB(BA.mB(n))),t}}]),t}();function tN(t){var n=t.gT("codecs");return n?n.split(",").map((function(t){return t.trim()})):[]}function nN(t,n){return Fo(t,n,sN)}function iN(t,n){return!("opus"===t)&&!("opus"===n)||t===n}function rN(t,n){var i=eN(t),r=eN(n);if((i||r)&&qn.Ys._p)return!0;var e=i||uN(t),u=r||uN(n);return!e&&!u||t.split(".")[0]===n.split(".")[0]}function eN(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function uN(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function sN(t,n){if(t===n)return!0;var i=t.split("."),r=n.split("."),e=i[0];if(e!==r[0])return!1;if("mp4a"===e){var u=nn(i,3),s=u[1],o=u[2],a=nn(r,3),c=a[1],h=a[2];if(s!==c)return!1;if(Number(o)!==Number(h))return!1}return!0}U(),St(),Dt(),Ct(),rn();var oN=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r)||this).d3=n,u._3=i,u.v3=r,u}return Rt(n,t),xt(n,[{key:"l3",get:function(){return this.d3}},{key:"f3",get:function(){return this._3}}]),n}(Uo);function aN(t,n,i,r,e,u,s){var o=new $C(e,t),a=new JC(o,t,e,i,u);return new cN(t,n,i,r,o,a,s)}var cN=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).E3=as(),a.Z2=n,a.MT=r,a.IT=r.Mk,a.g3=e,a.WB=i,a.L2=u,a.b3=s,a.y3=o,a.b3.bn(ZR.tJ,a.Ds),a}Rt(n,t);var i=n.prototype;return i.RJ=function(){return this.L2.RJ()},i.a3=function(){this.L2.a3()},i.J2=function(){this.L2.J2(),this.b3.J2()},i.A3=function(t,n){this.y3.WJ(t,n)},i.S3=function(t,n){this.y3.UJ(t,n)},i.T3=function(){return this.b3.X2()},i.g2=function(t,n,i){return this.b3.g2(t,n,i)},i.A2=function(t,n,i){return this.b3.A2(t,i)},i.F2=function(t,n){return Gn.Cm&&Gn.Dm<3?this.b3.F2(t,1/0):this.b3.F2(t,n)},i.eT=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return r.S3(t,n),e=r.wR,[4,r.b3.H2(t,n,i)];case 1:return s.sent(),u=0!==e.V&&0===r.wR.V,(Gn._g||Gn.Mm)&&u&&r.WB.Rb(r.WB.ER),[2]}}))}))()},i.dJ=function(t){var n=t.Mk;if(this.IT===n)return!0;var i=this.E3.get(n);if(void 0!==i)return i;var r=this.x3(t);return this.E3.set(n,r),r},i.x3=function(t){var n=this.Z2.j2(t.Mk);if(void 0===n)return!1;var i=Uv(this.IT),r=Uv(n),e=tN(i),u=tN(r);if(this.b3.z2()){if(!function(t,n){return Fo(t,n,rN)}(e,u))return!1;if(Gn.gg&&!function(t,n){return Fo(t,n,iN)}(e,u))return!1}else{if(i.Tw!==r.Tw)return!1;if(!nN(e,u))return!1}return!0},i._J=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){return i=t.Mk,n.IT!==i&&(n.E3.clear(),n.b3._J(t),n.IT=i),n.MT=t,n.Z2.R3(),[2]}))}))()},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:t.E3.clear(),t.Ro(),t.y3.yn(),n.label=1;case 1:return n.trys.push([1,3,,4]),t.b3.vn(ZR.tJ,t.Ds),[4,t.b3.Xw()];case 2:return n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))()},xt(n,[{key:"wR",get:function(){return this.L2.wR}},{key:"kd",get:function(){return this.MT}},{key:"Mk",get:function(){return this.IT}},{key:"m3",get:function(){return this.g3}},{key:"w3",get:function(){return this.y3.FJ}},{key:"bj",get:function(){return this.b3.bj},set:function(t){this.b3.bj=t}},{key:"Ej",get:function(){return this.b3.Ej},set:function(t){this.b3.Ej=t}},{key:"va",get:function(){return this.b3.va}}]),n}(aa);U(),St();var hN=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.Sn=t,this.Tn=n,this.C3=i,this.P3=r,this.D3=qn.Wg()}return t.prototype.I3=function(){var t=this.Sn,n=this.Tn;if(this.C3||this.P3){var i=.001*(qn.Wg()-this.D3);this.C3&&(t+=i),this.P3&&(n+=i)}return BA.gB(t,n)},t}();U(),St(),Dt(),U(),St();var fN=.5,vN=[va.ho,va.zy,va.Jy,va.Qy,va.Oy,va.Vy,va.Dy,va.Yy,Iy.iC,Yp.fa],lN=function(){function t(t,n,i,r){var e=this;this.L2=t,this.O3=n,this.WB=i,this.U3=!1,this.M3=[],this.G3=0,this.Y3=0,this.s4=0,this.X3=0,this.J3=0,this.j3=0,this.n4=1,this.L3=function(t){var n=e.WB.ER,i=t.OJ.wr(n),r=t.OJ.wr(n,fN)&&e.WB.rI<=Ny.iO;(i||r)&&e.DJ(n)},this.F3=Ri((function(t){if(!e.U3)if(e.O3.rI<=Ny.iO){var n=e.WB.ER;e.DJ(n)||e.Q3()}else e.W3()}),100),this.ed=Ri((function(t){e.K3()}),100),this.z3=function(t){t.currentTime!==e.X3&&e.W3()},this.V3=function(){e.t4()?0===e.j3&&(e.WB.bn(va.hb,e.ed),e.Y3=qn.Gg((function(){e.K3()}),3500)):e.B3()},this.Q3=function(){var t=e.s4,n=e.J3,i=e.WB.ER,r=qn.Wg(),u=e.L2.wR;if(t!==i)return e.s4=i,e.J3=r,e.n4=1,void(e.r4=qn.rR?2e3:1e3);if(e.t4()&&0!==u.V&&n>0&&r>n+e.r4){var s,o,a=e.FJ.YL().iB(u),c=a.lB(i);if(-1!==c){var h=a.Sn(c);if(h-i<1){var f=a.Tn(c);0,s=f}}if(!s)(s=null==(o=e.o4)?void 0:o.determineStallJumpTarget())||(s=i+.01*e.n4,u.wr(s)||(s=e.i4(i,u)));0,e.s4=s,e.n4++,e.r4=A.min(2*e.r4,1e4),e.Z3(s)}},this.O3.bn(Iy.iC,this.F3),this.WB.bn(va.qy,this.F3),this.WB.bn(vN,this.V3),this.o4=r,this.r4=qn.rR?2e3:1e3}var n=t.prototype;return n.N3=function(t){this.M3.push(t),t.bn($R.LJ,this.L3)},n.yn=function(){var t=this;this.B3(),this.O3.vn(Iy.iC,this.F3),this.WB.vn(va.qy,this.F3),this.WB.vn(vN,this.V3),this.M3.forEach((function(n){return n.vn($R.LJ,t.L3)})),this.W3(),this.U3=!0},n.DJ=function(t){if(this.WB.PR)return!1;if(0!==this.G3)return!1;var n=this.L2.wR,i=n.sB(t);if(i>=0&&t+fN<n.Tn(i))return!1;var r=i>=0?i+1:n.dB(t);if(r<0||r>=n.V)return!1;var e=n.Sn(r);return!(BA.gB(t,e).iB(this.FJ).vB>1)&&(0!==t||this.WB.uI?qn.sR?(this.H3(t,e,250),!0):!(A.abs(e-t)<=.001)&&(this.Z3(e),!0):(this.H3(t,e,2e3),!0))},n.H3=function(t,n,i){var r=this;this.W3(),this.X3=t,this.WB.bn(va.Jy,this.z3),this.G3=qn.Gg((function(){r.X3===r.WB.ER&&r.Z3(n),r.W3()}),i)},n.W3=function(){0!==this.G3&&(this.WB.vn(va.Jy,this.z3),qn.Ug(this.G3),this.G3=0)},n.Z3=function(t){this.WB.Rb(t,!1,!0)},n.q3=function(){0!==this.Y3&&(qn.Ug(this.Y3),this.Y3=0),this.WB.vn(va.hb,this.ed)},n.K3=function(){this.U3||0===this.j3&&(this.q3(),this.j3=qn.Gp(this.Q3,250))},n.B3=function(){0!==this.j3&&(qn.Hp(this.j3),this.j3=0),this.q3(),this.WB.uI||(this.J3=0)},n.t4=function(){return!this.WB.KR&&!this.WB.uI&&0!==this.WB.QR&&!this.WB.PR&&!this.WB.lt&&(this.e4()||this.O3.rI>=Ny.sO)},n.e4=function(){var t=this.WB.ER,n=this.L2.wR,i=n.sB(t);return-1!==i&&n.Tn(i)>t+fN},n.i4=function(t,n){var i=n.sB(t);return i>-1?n.Tn(i):t},xt(t,[{key:"FJ",get:function(){return this.M3.reduce((function(t,n){return t.tB(n.FJ)}),BA.pB())}}]),t}();function dN(t){var n=[];if(t.h4&&n.push(t.h4.wR),t.a4&&n.push(t.a4.wR),0===n.length)return BA.pB();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.V>0&&(i=A.max(i,e.Tn(e.V-1)))}for(var u=t.RJ,s=new BA([0,i],[!0,u]),o=0;o<n.length;o++){var a=n[o];u&&a.V>0&&(a=a.tB(new BA([a.Tn(a.V-1),i],[!0,!0]))),s=s.jn(a)}return s}function gN(t,n,i){var r,e=t.wR,u=e.sB(n);if(u>=0){if(!(u+1<e.V))return ut.resolve();r=e.Sn(u+1)}else{if(!((u=e.dB(n))>=0))return ut.resolve();r=e.Sn(u)}return t.eT(r,1/0,i)}function mN(t,n,i){if(!t.wr(n)){var r=t.sB(n,i);if(r>=0){var e=t.Sn(r);if(n<e)return e}}return n}U(),St();var wN=Gn.Gm||Gn.Zm,pN=Gn.jm||Gn.eg||Gn.su,yN=function(t){return t.Y2="closed",t.GE="open",t.Dy="ended",t}({}),_N=function(t){function n(n,i,r,e,u,s,o){var a;return void 0===s&&(s=new Ur(n.C4)),(a=t.call(this,n,i,e,u)||this).u4=void 0,a.b4=void 0,a.c4=void 0,a.A4=void 0,a.v4=new hN(0,1/0),a.l4=void 0,a.S4=!1,a.E4=function(){a._o(new fa(zR.oJ))},a.P4=function(){a._o(new fa(zR.aJ))},a.x4=function(){a.T4()},a.n3=function(){a.WB.n3()},a.I4=s,a.JG=a.I4.wp(),a.JG.addEventListener("sourceclose",a.E4),a.JG.addEventListener("sourceopen",a.P4),a.WB.bn([va.Jy,va.Oy],a.x4),a.y4=new lN(a,r,a.WB,o),a}Rt(n,t);var i=n.prototype;return i.d4=function(t){if(E(t)||t<0)throw new y("Invalid duration");this.f4()?this._4(t):this.l4=t},i._4=function(t){var n=t===1/0;if(n&&this.JG.setLiveSeekableRange){var i=A.pow(2,39);this.JG.setLiveSeekableRange(0,i)}this.JG.duration=n?pN?1/0:ar:t,this.l4=void 0},i.m4=function(t,n,i,r){this.v4=new hN(t,n,!!i,!!r)},i.xj=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:return n=t.MT,i=mo(n.g4,(function(t){return Xs(t.Mk,"audio")})),r=mo(n.g4,(function(t){return Xs(t.Mk,"video")})),t.$T.disableRemotePlayback=!0,[4,t.w4()];case 1:return h.sent(),i&&(e=new nC,t.y4.N3(e),s=null!=(u=t.j2(i.Mk))?u:i.Mk,t.b4=t.JG.addSourceBuffer(s),t.u4=aN(t,t.WB,i,rm.vE,t.b4,s,e),t.u4.bn(ZR.tJ,t.n3)),r&&(o=new nC,t.y4.N3(o),c=null!=(a=t.j2(r.Mk))?a:r.Mk,t.A4=t.JG.addSourceBuffer(c),t.c4=aN(t,t.WB,r,rm.mE,t.A4,c,o),t.c4.bn(ZR.tJ,t.n3)),t.vJ.$n(t,n),[2]}}))}))()},i.w4=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.kJ.call(n,n.JG)];case 1:return i.sent(),"open"===n.rI?[3,3]:[4,ng(n.JG,"sourceopen")];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.f4=function(){if("open"!==this.rI)return!1;var t=this.u4&&this.u4.va,n=this.c4&&this.c4.va;return!(t||n)},i.a3=function(){this.S4=!0,this.u4&&this.u4.a3(),this.c4&&this.c4.a3(),this.S4=!1,this.T4()},i.J2=function(){this.u4&&this.u4.J2(),this.c4&&this.c4.J2()},i.dJ=function(n){var i=mo(n.g4,(function(t){return Xs(t.Mk,"audio")})),r=mo(n.g4,(function(t){return Xs(t.Mk,"video")}));if(this.u4){if(!i)return!1;if(!this.u4.dJ(i))return!1}else if(i)return!1;if(this.c4){if(!r)return!1;if(!this.c4.dJ(r))return!1}else if(r)return!1;return!!t.prototype.dJ.call(this,n)},i._J=function(n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=mo(n.g4,(function(t){return Xs(t.Mk,"audio")})),e=mo(n.g4,(function(t){return Xs(t.Mk,"video")})),u=[],i.u4&&u.push(i.u4._J(r)),i.c4&&u.push(i.c4._J(e)),[4,ut.all(u)];case 1:return s.sent(),[4,t.prototype._J.call(i,n)];case 2:return s.sent(),[2]}}))}))()},i.mJ=function(n){t.prototype.mJ.call(this,n)},i.Xw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.JG.removeEventListener("sourceclose",n.E4),Gn.Mm?[4,n.xJ()]:[3,2];case 1:i.sent(),i.label=2;case 2:return n.u4?[4,n.u4.Xw()]:[3,4];case 3:if(i.sent(),n.u4=void 0,ro()&&(Gn.Mm||Gn.Cm))try{n.JG.removeSourceBuffer(n.b4)}catch(t){}n.b4=void 0,i.label=4;case 4:return n.c4?[4,n.c4.Xw()]:[3,6];case 5:if(i.sent(),n.c4=void 0,ro()&&(Gn.Mm||Gn.Cm))try{n.JG.removeSourceBuffer(n.A4)}catch(t){}n.A4=void 0,i.label=6;case 6:return n.$T.src&&URL.revokeObjectURL(n.$T.src),n.$T.disableRemotePlayback=!1,n.WB.vn([va.Jy,va.Oy],n.x4),n.y4.yn(),Gn.Cm?[4,n.xJ()]:[3,8];case 7:i.sent(),i.label=8;case 8:return[4,t.prototype.Xw.call(n)];case 9:return i.sent(),[2]}}))}))()},i.R3=function(){var t=this,n=this.MT,i=n.g4.map((function(n){return Xs(n.Mk,"audio")&&t.u4?t.u4.kd:Xs(n.Mk,"video")&&t.c4?t.c4.kd:n}));this.MT=ss({},n,{g4:i})},i.u3=function(){this.S4||this.T4()},i.T4=function(){this.R4&&this.f4()&&(this.JG.endOfStream(),this.l4=void 0,this._o(new fa(zR.nJ)),this.WB.n3())},i.e3=function(){this.f4()&&(this.RJ?this.T4():void 0!==this.l4&&this._4(this.l4))},i.DJ=function(t){return this.y4.DJ(t)},i.NJ=function(){return!0},i.j2=function(t){return bN(this.I4,t)},n.MJ=function(t){var n=Wr(t.C4);if(void 0===n)return!1;if("function"!=typeof n.isTypeSupported)return!1;for(var i=new Ur(t.C4),r=0,e=t.g4;r<e.length;r++){if(void 0===bN(i,e[r].Mk))return!1}return!0},xt(n,[{key:"h4",get:function(){return this.u4}},{key:"a4",get:function(){return this.c4}},{key:"ct",get:function(){if(this.l4)return this.l4;var t=this.JG.duration;return t===ar?1/0:t}},{key:"wR",get:function(){return wN?dN(this):function(t,n){var i=n;return i.V>0&&t.RJ&&(i=i.tB(BA.mB(i.Tn(i.V-1)))),i}(this,BA.Cn(this.$T.buffered))}},{key:"IJ",get:function(){var t;return null==(t=this.u4)?void 0:t.wR}},{key:"CJ",get:function(){var t;return null==(t=this.c4)?void 0:t.wR}},{key:"hI",get:function(){return this.v4.I3().jn(new BA([0,this.ct],[!0,!0]))}},{key:"RJ",get:function(){return(!this.u4||this.u4.RJ())&&(!this.c4||this.c4.RJ())}},{key:"rI",get:function(){return this.JG.readyState}},{key:"R4",get:function(){if(!this.RJ)return!1;var t=this.wR;return 0!==t.V&&t.Sn(t.V-1)<=this.WB.ER}}]),n}(YR);function bN(t,n){var i=Uv(n),r=tN(i),e="audio/mp4"===i.Tw,u=e&&1===r.length&&"mp4a.40.34"===r[0];if(t.bp(n)&&(!u||!Gn.eg))return n;if(u)for(var s=['audio/mp4; codecs="mp3"',"audio/mpeg"],o=0;o<s.length;o++){var a=s[o];if(t.bp(a))return a}if(e&&1===r.length&&"flac"===r[0].toLowerCase())for(var c=["flac","fLaC","FLAC"],h=0;h<c.length;h++){var f='audio/mp4; codecs="'+c[h]+'"';if(t.bp(n))return f}}U(),St(),Dt(),Ct(),U(),St(),Ct();var kN=function(t){function n(n){var i;return(i=t.call(this,va.Oy)||this).currentTime=n,i}return Rt(n,t),n}(fa),AN=[va.ub,va.Yy,va.Jy,va.Oy,va.ho,va.zy],TN=function(t){function n(n,i,r,e,u,s,o,a,c,h,f){var v;return(v=t.call(this)||this).uZ=n,v.MA=i,v.B4=r,v.dZ=e,v.cZ=u,v.lZ=s,v.fZ=o,v.zA=a,v.O4=c,v.N4=h,v.L4=f,v}Rt(n,t);var i=n.prototype;return i.Rb=function(t,n,i){this.uZ!==t&&(this.uZ=t,this.N4=n,i&&!this.cZ?(this.L4=!0,this._o(new kN(this.ER))):(this.L4=!1,this.cZ=!0,this._o(new TT(this.ER))))},i.EI=function(){this.dZ||(this.dZ=!0,this._o(new yT(this.ER)))},i.xI=function(){this.dZ&&(this.dZ=!1,this._o(new _T(this.ER)))},i.Xw=function(){this.Ro()},xt(n,[{key:"ER",get:function(){return this.uZ}},{key:"D4",get:function(){return this.N4}},{key:"M4",get:function(){return this.L4}},{key:"ct",get:function(){return this.MA}},{key:"PR",get:function(){return this.B4}},{key:"KR",get:function(){return this.dZ}},{key:"rI",get:function(){return this.O4}},{key:"uI",get:function(){return this.cZ}},{key:"ZR",get:function(){return this.lZ},set:function(t){this.ZR!==t&&(this.lZ=t,this._o(new ET(this.ER,this.gI)))}},{key:"QR",get:function(){return this.fZ},set:function(t){this.QR!==t&&(this.fZ=t,this._o(new kT(this.ER,this.QR)))}},{key:"gI",get:function(){return this.zA},set:function(t){this.gI!==t&&(this.zA=t,this._o(new ET(this.ER,this.gI)))}}]),n}(aa);function SN(t){return new TN(t.ER,t.ct,t.PR,t.KR,t.uI,t.ZR,t.QR,t.gI,t.rI,!1,t.M4)}function EN(t,n){n.ct===t.ct||E(n.ct)&&E(t.ct)||t._o(new bT(t.ct)),t.ZR=n.ZR,t.gI=n.gI,t.QR=n.QR,n.KR?t.EI():t.xI().catch(Si),n.ER!==t.ER||n.rI>Ny.eO&&t.rI===Ny.eO?t.Rb(n.ER,n.D4,n.M4):!n.uI&&t.uI?t._o(new TT(t.ER)):n.uI&&!t.uI&&t.rI>=Ny.iO&&t._o(new ST(t.ER)),!n.PR&&t.PR&&t._o(new AT(t.ER))}U(),St(),Ct(),U(),St(),Dt(),Ct();var IN=function(t){function n(n){var i;return(i=t.call(this)||this).RW=Ny.eO,i.W4=function(){i.V4()},i.WB=n,i}Rt(n,t);var i=n.prototype;return i.F4=function(t){this.RW!==t&&(this.RW=t,this._o(new Cy(this.WB.ER,t)))},i.V4=function(){this.F4(this.oI())},i.nr=function(){this.F4(Ny.eO)},i.Xw=function(){this.Ro()},xt(n,[{key:"rI",get:function(){return this.oI()}}]),n}(aa);U(),St(),Ct();var RN=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],CN=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<RN.length;r++){var e=RN[r];i.WB.jG.addEventListener(e,i.W4)}return i}Rt(n,t);var i=n.prototype;return i.oI=function(){var t=this.WB.jG.readyState;return t>Ny.iO&&this.WB.U4?Ny.iO:(this.WB.jG.seeking&&t>Ny.Xn&&(t=Ny.Xn),t)},i.Xw=function(){for(var n=0;n<RN.length;n++){var i=RN[n];this.WB.jG.removeEventListener(i,this.W4)}t.prototype.Xw.call(this)},n}(IN);U(),St();var NN=function(t){function n(n){var i;(i=t.call(this,n)||this).WB.bn([va.Jy,va.Oy],i.W4);for(var r=0;r<RN.length;r++){var e=RN[r];i.WB.jG.addEventListener(e,i.W4)}return i}Rt(n,t);var i=n.prototype;return i.oI=function(){if(this.WB.jG.readyState===Ny.eO)return Ny.eO;var t=this.G4(),n=t?t.Tn-t.Sn:0;if(!t)return Ny.Xn;var i=this.WB.QR;return this.H4()||n>=3*i?Ny.nO:n>=3?Ny.sO:Ny.iO},i.G4=function(){var t=this.WB.ER,n=this.WB.wR.$L(.04),i=n.sB(t);if(!(i<0))return{Sn:t,Tn:n.Tn(i)}},i.H4=function(){if(this.WB.PR)return!0;var t=this.WB.ct,n=this.G4();return!!n&&t-n.Tn<=.16666666666666666},i.Xw=function(){this.WB.vn([va.Jy,va.Oy],this.W4);for(var n=0;n<RN.length;n++){var i=RN[n];this.WB.jG.removeEventListener(i,this.W4)}t.prototype.Xw.call(this)},n}(IN);U(),St(),Ct(),U(),St(),Ct();var xN=[Iy.iC,va.ho,va.zy,va.Jy,va.Qy,va.Oy,va.Vy,va.Dy,Yp.fa],DN=function(t){function n(n){var i;return(i=t.call(this)||this).q4=!1,i.pK=function(){i.ir()},i.AW=n,i.AW.bn(xN,i.pK),i}Rt(n,t);var i=n.prototype;return i.Z4=function(){return(!this.AW.M4||!this.AW.X4)&&this.AW.rI<Ny.sO},i.z4=function(){return!this.AW.uI&&!(this.AW.KR||this.AW.PR||this.AW.lt||this.Z4())},i.ir=function(){var t=this.q4;this.q4=this.z4(),!t&&this.q4&&this._o(new Oy(this.AW.ER))},i.nr=function(){this.q4=!1},i.Xw=function(){this.Ro(),this.AW.vn(xN,this.pK)},n}(aa),PN=function(t){function n(n){var i;return(i=t.call(this,n)||this).Y4=!1,i.LW=function(){i.Y4=!0,i.ir()},i.$T=n.jG,i.$T.addEventListener(Iy.UL,i.LW),i}Rt(n,t);var i=n.prototype;return i.z4=function(){return this.Y4&&t.prototype.z4.call(this)},i.ir=function(){this.Y4&&(this.$T.paused||this.$T.ended||this.$T.error)&&(this.Y4=!1),t.prototype.ir.call(this)},i.nr=function(){t.prototype.nr.call(this),this.Y4=!1},i.Xw=function(){this.$T.removeEventListener(Iy.UL,this.LW),t.prototype.Xw.call(this)},n}(DN);U(),St(),Ct();var MN=function(t){function n(n){var i;return(i=t.call(this,Yp.fa)||this).lt=n,i}return Rt(n,t),n}(fa);function BN(t,n){return t.WO<=n&&t.UO>n}function ON(t,n){return function(t,n){return vo(t.WO,n.WO,Km)}(t,n)||function(t,n){return vo(t.UO,n.UO,Km)}(t,n)}function LN(t,n){return function(t,n){return vo(t.YO,n.YO,Km)}(t,n)||function(t,n){return vo(t.KO,n.KO,Km)}(t,n)}function FN(t,n,i){var r=function(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,a=s-1;o<=a;){var c=o+(a-o>>1),h=r(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(e&&c>u&&0===r(i(t[c-1]),n)))return c;a=c-1}}return~o}(t,n,Ei,i,!0);if(r<0)return r;for(;r<t.length&&i(n,t[r])===co.eh;r++)if(t[r].sF(n))return r;return-(r+1)}function VN(t,n,i){var r=FN(t,n,i);return r>=0?r:-(r+1)}function UN(t){var n=t.Ht;if(!n)return-1;if(t instanceof Jm)return n.K4(t);var i=n.L;if(!i)return-1;var r=FN(i.lC,t,ON);return r>=0?r:-1}function WN(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,u=0,s=0,o=[],a=[];u<r&&s<e;){var c=t[u],h=n[s];c===h?(u++,s++):i(h,c)<=0?(o.push(h),s++):(a.push(c),u++)}for(;u<r;)a.push(t[u]),u++;for(;s<e;)o.push(n[s]),s++;return{j4:o,Q4:a}}(t,n,ON);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}U(),St(),Dt(),Ct(),U(),St(),U(),St(),U(),St(),Dt();var jN=function(){function t(t){this.eu=void 0,this.J4=t}var n=t.prototype;return n.ka=function(){return function(t){for(var n=[],i=0;i<t.V;i++)n[i]=t.Lb(i).wa;return n.item=function(n){var i=0|n,r=t.Lb(i);return r&&r.wa||void 0},k.defineProperty(n,"constructor",{value:Zm}),n}(this)},n.EO=function(t){for(var n=this.J4,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.sF(r))return!0}return!1},n.Lb=function(t){return this.J4[t]},xt(t,[{key:"lC",get:function(){return this.J4}},{key:"V",get:function(){return this.J4.length}},{key:"wa",get:function(){if(this.eu){var t=this.J4;this.eu.length=t.length;for(var n=0;n<t.length;n++)this.eu[n]=t[n].wa}else this.eu=this.ka();return this.eu}}]),t}();U(),St(),Ct();var ZN=function(t){function n(n,i){var r;return(r=t.call(this,Cg.iC)||this).Ht=n,r.rI=i,r}return Rt(n,t),n.prototype.ka=function(){return new XN(this.Ht.wa,this.rI)},n}(kg),XN=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return Rt(n,t),n}(Ag);U(),St(),Ct();var GN=function(t){function n(n){var i;return(i=t.call(this,Cg.nC)||this).Ht=n,i}return Rt(n,t),n.prototype.ka=function(){return new HN(this.Ht.wa)},n}(kg),HN=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return Rt(n,t),n}(Ag);U(),St(),Ct();var zN=function(t){function n(n){var i;return(i=t.call(this,Cg.HI)||this).FO=n,i}return Rt(n,t),n.prototype.ka=function(){return new YN(this.FO.wa)},n}(kg),YN=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return Rt(n,t),n}(Ag);U(),St(),Ct();var KN=function(t){function n(n){var i;return(i=t.call(this,Cg.XI)||this).FO=n,i}return Rt(n,t),n.prototype.ka=function(){return new qN(this.FO.wa)},n}(kg),qN=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return Rt(n,t),n}(Ag),JN=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).IO=_m(),h.b_=!1,h.Xo=Hp.Mh,h.O4=xm.NONE,h.c5=void 0,h.J4=[],h.l5=[],h.a5=[],h.m5=0,h.u5=0,h.zS=i||"",h.n5=a||"",h.r5=n,h.LA=e||"",h.b_=Boolean(u),h.s5=Boolean(o),h.Sp=s||Dm.DEFAULT,h.CO=r||"",h.o5=c||[],h.e5=new jN(h.J4),h.t5=new jN(h.a5),h}Rt(n,t);var i=n.prototype;return i.i5=function(t){return mo(this.e5.lC,(function(n){return n.o===t}))},i.ka=function(){return qp(this)},i.h5=function(t){var n=zp(t);n!==this.CE&&(this.Xo=n,n===Hp.Mh&&(this.a5.forEach((function(t){t.so=!1})),Eo(this.a5),this.u5=0),this._o(new gm(this)))},i._W=function(t){if(t&&!t.Ht){var n=FN(this.l5,t,LN);if(!(n>=0)){t.Ht=this;var i=-(n+1);this.l5.splice(i,0,t);var r=VN(this.L.lC,t,ON);this.d5(t,r),this._o(new zN(t))}}},i.d5=function(t,n){this.J4.splice(n,0,t),this.f5(n),t.oF=n,n<this.u5&&(this.u5=n)},i.sW=function(t){if(t&&t.Ht===this){var n=this.K4(t);if(!(n<0)){t.so=!1;var i=this.a5,r=FN(i,t,ON);r>=0&&ko(i,r);var e=FN(this.l5,t,LN);e>=0&&ko(this.l5,e),this._5(t,n),this._o(new KN(t))}}},i._5=function(t,n){ko(this.J4,n),this.f5(n),t.oF=-1,this.u5>n&&--this.u5},i.JO=function(t){if(t&&t.Ht===this){var n=this.K4(t);if(!(n<0)){this._5(t,n);var i=VN(this.L.lC,t,ON);this.d5(t,i);var r=yo(this.a5,(function(n){return n===t}));if(r>=0){ko(this.a5,r);var e=VN(this.a5,t,ON);this.a5.splice(e,0,t)}}}},i.v5=function(t,n){var i=this.a5,r=this.J4,e=this.u5,u=!1,s=1/0;n&&(e=0);for(var o=i.length-1;o>=0;o--){var a=i[o];BN(a,t)?a.UO<s&&(s=a.UO):(u=!0,ko(i,o))}for(;e<r.length&&r[e].WO<=t;){var c=r[e];BN(c,t)&&(To(i,c)||(u=!0,i.push(c)),c.UO<s&&(s=c.UO)),e++}return e<r.length&&r[e].WO<s&&(s=r[e].WO),u&&so(i,ON),this.u5=e,s},i.K4=function(t){return(-1===t.oF||t.oF>=this.m5)&&this.g5(),t.oF},i.g5=function(){for(var t=this.J4,n=this.m5;n<t.length;n++)t[n].oF=n;this.m5=t.length},i.f5=function(t){t<this.m5&&(this.m5=A.max(t,0))},i.OC=function(t){this.FC||(this.CE=t)},i.yn=function(){this.Ro();for(var t=this.J4.slice(),n=0;n<t.length;n++){t[n].yn()}Eo(this.J4),Eo(this.l5),Eo(this.a5)},xt(n,[{key:"q",get:function(){return this.t5}},{key:"L",get:function(){return this.e5}},{key:"gW",get:function(){return this.b_},set:function(t){this.b_=t}},{key:"FC",get:function(){return this.s5}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}},{key:"o",get:function(){return this.zS}},{key:"IC",get:function(){return this.IO}},{key:"BC",get:function(){return this.n5},set:function(t){this.n5=t}},{key:"Lt",get:function(){return this.r5}},{key:"Ch",get:function(){return this.CO},set:function(t){t!==this.CO&&(this.CO=t,this._o(new wm(this)))}},{key:"gs",get:function(){return this.LA}},{key:"DC",get:function(){return this.o5}},{key:"CE",get:function(){return this.Xo},set:function(t){this.h5(t)}},{key:"rI",get:function(){return this.O4},set:function(t){this.O4!==t&&(this.O4=t,this._o(new ZN(this,this.O4)))}},{key:"VC",get:function(){return this.c5},set:function(t){this.c5=t}},{key:"Tw",get:function(){return this.Sp},set:function(t){this.Sp!==t&&(this.Sp=t,this._o(new GN(this)))}}]),n}(aa);U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Ct();var QN=function(t){function n(n,i){var r;return(r=t.call(this,Vm.rO,n)||this).oV=i,r}return Rt(n,t),n.prototype.ka=function(){return new $N(this.FO.wa)},n}(Um),$N=function(t){function n(n){return t.call(this,"enter",n)||this}return Rt(n,t),n}(Wm);U(),St(),Ct();var tx=function(t){function n(n,i){var r;return(r=t.call(this,Vm.oO,n)||this).oV=i,r}return Rt(n,t),n.prototype.ka=function(){return new nx(this.FO.wa)},n}(Um),nx=function(t){function n(n){return t.call(this,"exit",n)||this}return Rt(n,t),n}(Wm);U(),St(),Ct();var ix=function(t){function n(n){var i;return(i=t.call(this,Cg.KI)||this).FO=n,i}return Rt(n,t),n.prototype.ka=function(){return new rx(this.FO.wa)},n}(kg),rx=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return Rt(n,t),n}(Ag);U(),St(),Ct();var ex=function(t){function n(n){var i;return(i=t.call(this,Cg.QI)||this).FO=n,i}return Rt(n,t),n.prototype.ka=function(){return new ux(this.FO.wa)},n}(kg),ux=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return Rt(n,t),n}(Ag),sx=function(t){function n(n){var i;return(i=t.call(this)||this).tF=void 0,i.QO=void 0,i.eu=void 0,i.eo=!1,i.w5=function(){i.so=!0},i.y5=function(){i.so=!1},i.IO=Sm(),i.p5=n,i.YO=n.startTime,i.KO=n.endTime,i.p5.addEventListener("enter",i.w5),i.p5.addEventListener("exit",i.y5),i}Rt(n,t);var i=n.prototype;return i.ka=function(){return jm(this)},i.sF=function(t){return this===t||Fg(this,t)&&qm(this,t)&&this.nF(t)},i.nF=function(t){return Og(this.U,t.U)},i.yn=function(){this.Ro(),this.p5.removeEventListener("enter",this.w5),this.p5.removeEventListener("exit",this.y5)},xt(n,[{key:"IC",get:function(){return this.IO}},{key:"WO",get:function(){return this.p5.startTime},set:function(t){this.p5.startTime=t}},{key:"UO",get:function(){return this.p5.endTime},set:function(t){this.p5.endTime=t}},{key:"U",get:function(){return this.tF},set:function(t){this.tF=t}},{key:"eF",get:function(){return!!this.p5.pauseOnExit},set:function(t){this.p5.pauseOnExit=!!t}},{key:"Ht",get:function(){return this.QO},set:function(t){this.QO=t}},{key:"o",get:function(){return this.p5.id||""}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}},{key:"so",get:function(){return this.eo},set:function(t){this.so!==t&&(this.eo=t,t?(this._o(new QN(this,this.WO)),this.QO&&this.QO._o(new ix(this))):(this._o(new tx(this,this.UO)),this.QO&&this.QO._o(new ex(this))))}}]),n}(ha);U(),St(),Ct();var ox=function(t){function n(n){var i;return(i=t.call(this,Cg.$I)||this).Ht=n,i}return Rt(n,t),n.prototype.ka=function(){return new ax(this.Ht.wa)},n}(kg),ax=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return Rt(n,t),n}(Ag);function cx(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new hx(t),t.THEOplayerVTTRegion=n),n}}U(),St(),Dt(),Ct(),U(),St(),Dt();var hx=function(){function t(t){this.eu=void 0,this.A5=t}return xt(t,[{key:"b5",get:function(){return this.A5}},{key:"o",get:function(){return this.A5.id||""}},{key:"ji",get:function(){return+this.A5.width||0},set:function(t){this.A5.width=t||0}},{key:"hF",get:function(){return+this.A5.lines||0},set:function(t){this.A5.lines=t||0}},{key:"aF",get:function(){return+this.A5.regionAnchorX||0},set:function(t){this.A5.regionAnchorX=t||0}},{key:"uF",get:function(){return+this.A5.regionAnchorY||0},set:function(t){this.A5.regionAnchorY=t||0}},{key:"lF",get:function(){return+this.A5.viewportAnchorX||0},set:function(t){this.A5.viewportAnchorX=t||0}},{key:"dF",get:function(){return+this.A5.viewportAnchorY||0},set:function(t){this.A5.viewportAnchorY=t||0}},{key:"cF",get:function(){return this.A5.scroll||""}},{key:"wa",get:function(){return this.eu||(this.eu=ew(this)),this.eu}}]),t}();var fx=function(t){function n(n){return t.call(this,n)||this}Rt(n,t);var i=n.prototype;return i.ka=function(){return Xm(this)},i.nF=function(t){return Qm(this,t)},xt(n,[{key:"U",get:function(){return this.p5.text},set:function(t){this.p5.text=t}},{key:"Pt",get:function(){return this.p5.vertical||""},set:function(t){this.p5.vertical=t||""}},{key:"qO",get:function(){return this.p5.snapToLines},set:function(t){this.p5.snapToLines=t}},{key:"HO",get:function(){return this.p5.line},set:function(t){this.p5.line=t}},{key:"Nb",get:function(){return+this.p5.size},set:function(t){this.p5.size=hr(t,0,100)}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(sx),vx=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),xt(n,[{key:"zO",get:function(){return cx(this.p5.region)}},{key:"ZO",get:function(){return this.p5.lineAlign||"start"},set:function(t){this.p5.lineAlign=t||"start"}},{key:"fo",get:function(){return this.p5.position},set:function(t){this.p5.position=t}},{key:"XO",get:function(){return this.p5.positionAlign||"auto"},set:function(t){this.p5.positionAlign=t||"auto"}},{key:"GO",get:function(){return this.p5.align||"center"},set:function(t){this.p5.align=t||"center"}}]),n}(fx),lx=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),xt(n,[{key:"zO",get:function(){return cx(this.b5)}},{key:"b5",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.p5.track,this.p5.regionId)}},{key:"ZO",get:function(){return function(t){return"middle"===t?"center":t}(this.p5.lineAlign||"start")},set:function(t){this.p5.lineAlign=function(t){return"center"===t?"middle":t}(t||"start")}},{key:"fo",get:function(){return this.p5.position},set:function(t){this.p5.position=function(t,n){return Fm(t,n)}(t,this.GO)}},{key:"XO",get:function(){return function(t){return Om[t]}(this.p5.positionAlign||"middle")},set:function(t){this.p5.positionAlign=function(t,n){return Bm[Lm(t,n)]}(t||"center",this.GO)}},{key:"GO",get:function(){return function(t){return"middle"===t?"center":t}(this.p5.align||"middle")},set:function(t){this.p5.align=function(t){return"center"===t?"middle":t}(t||"center")}}]),n}(fx);function dx(t,n){return t.U===n.U}function gx(t,n){if(0!==n.length){var i=n.length-1;if(n[i].WO<t.WO)mx(n,i,t.WO);else{var r=n[0];if(r.WO>t.WO)t.UO=r.WO;else{var e=FN(n,t,ON);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0)n[s].WO<t.WO&&mx(n,s,t.WO);if(u<n.length){var o=n[u];t.UO=o.WO}}}}}}function mx(t,n,i){for(var r=t[n].WO,e=n;e>=0&&t[e].WO===r;e--)t[e].UO=i}function wx(t){return jm(t)}U(),St(),U(),St(),Dt(),Ct(),U(),St(),U(),St();var px=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).S5=i,r}Rt(n,t);var i=n.prototype;return i.ka=function(){return wx(this)},i.nF=function(t){return dx(this,t)},xt(n,[{key:"U",get:function(){return this.S5}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(sx);function yx(t){switch(t){case 0:case 1:case 2:case 3:return!0}return!1}function _x(t){switch(t){case 0:return oc;case 1:return fc;case 2:return vc;case 3:return _c}}function bx(t,n){var i=n.nc,r=t.byteLength,e=Ic(t);return n.xb(r-i),Nc(e,i,r).buffer}function kx(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function Ax(t,n,i){var r=Ga(t,n);if(yx(r)){var e=_x(r);return{id:i,language:uc(t,n,3),description:e(t,n),text:e(t,n)}}}function Tx(t,n,i){var r=Ga(t,n);if(yx(r)){var e=_x(r);return{id:i,mimeType:oc(t,n),fileName:e(t,n),description:e(t,n),data:bx(t,n)}}}function Sx(t,n,i){var r=Ga(t,n);if(yx(r)){for(var e=_x(r),u=[];n.nc<t.byteLength;)u.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:u}}}function Ex(t,n,i){var r=Ga(t,n);if(yx(r)){for(var e=_x(r),u=uc(t,n,3),s=Ga(t,n),o=Ga(t,n),a=e(t,n),c=!1,h=[];n.nc<t.byteLength;){var f=void 0;if(1===r){var v=hc(t,n);void 0===v?v=c:c=v,f=vc(t,n,v)}else f=e(t,n);if(!f||n.nc+4>t.byteLength)break;h.push({text:f,timestamp:tc(t,n)})}return{id:i,language:u,format:s,contentType:o,description:a,entries:h}}}function Ix(t,n,i){return{id:i,ownerIdentifier:oc(t,n),identifier:bx(t,n)}}function Rx(t,n,i){var r=Ga(t,n);if(yx(r)){var e=_x(r);return{id:i,language:uc(t,n,3),description:e(t,n),text:e(t,n)}}}function Cx(t,n,i){var r=Ga(t,n);if(yx(r))return{id:i,text:_x(r)(t,n)}}function Nx(t,n,i){return{id:i,url:oc(t,n)}}function xx(t,n,i){var r=Ga(t,n);if(yx(r)){var e=_x(r);return{id:i,description:e(t,n),text:e(t,n)}}}function Dx(t,n,i){var r=Ga(t,n);if(yx(r))return{id:i,description:_x(r)(t,n),url:oc(t,n)}}function Px(t,n,i){switch(i){case"COM":return Ax(t,n,i);case"GEO":return Tx(t,n,i);case"IPL":return Sx(t,n,i);case"PIC":return function(t,n,i){var r=Ga(t,n);if(yx(r)){var e,u,s=_x(r),o=uc(t,n,3),a=Ga(t,n),c=s(t,n);return"--\x3e"===o?(e=o,u=oc(t,n)):(e="image/"+o.toLowerCase(),u=bx(t,n)),{id:i,mimeType:e,pictureType:a,description:c,data:u}}}(t,n,i);case"SLT":return Ex(t,n,i);case"TXX":return xx(t,n,i);case"UFI":return Ix(t,n,i);case"ULT":return Rx(t,n,i);case"WXX":return Dx(t,n,i);default:if("T"===i.charAt(0))return Cx(t,n,i);if("W"===i.charAt(0))return Nx(t,n,i)}}function Mx(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=Ga(t,n);if(yx(r)){var e=_x(r),u=oc(t,n);return{id:i,mimeType:u,pictureType:Ga(t,n),description:e(t,n),data:"--\x3e"===u?oc(t,n):bx(t,n)}}}(t,n,i);case"COMM":return Ax(t,n,i);case"COMR":return function(t,n,i){var r=Ga(t,n);if(yx(r)){var e,u,s=_x(r),o=oc(t,n),a=uc(t,n,8),c=oc(t,n),h=Ga(t,n),f=s(t,n),v=s(t,n);return n.nc<t.byteLength&&(e=oc(t,n)||"image/",u=bx(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:u}}}(t,n,i);case"GEOB":return Tx(t,n,i);case"IPLS":return Sx(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:oc(t,n),data:bx(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:Ga(t,n),position:tc(t,n)}}(t,n,i);case"SYLT":return Ex(t,n,i);case"TXXX":return xx(t,n,i);case"UFID":return Ix(t,n,i);case"USER":return function(t,n,i){var r=Ga(t,n);if(yx(r)){var e=_x(r);return{id:i,language:uc(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return Rx(t,n,i);case"WXXX":return Dx(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return Cx(t,n,i);default:var r=i.charAt(0);if("T"===r)return Cx(t,n,i);if("W"===r)return Nx(t,n,i)}}U(),St(),U(),St();var Bx=10;function Ox(t,n){return(127&Ga(t,n))<<21|(127&Ga(t,n))<<14|(127&Ga(t,n))<<7|127&Ga(t,n)}function Lx(t,n){switch(t){case 4:return{T5:Xa(n,0),k5:Xa(n,1),E5:Xa(n,2),x5:Xa(n,3)};case 3:return{T5:Xa(n,0),k5:Xa(n,1),E5:Xa(n,2)};case 2:return{T5:Xa(n,0),R5:Xa(n,1)}}}function Fx(t,n,i){switch(i.jD){case 3:i.QD.k5&&function(t,n){var i=n.nc,r=tc(t,n)+4,e=32768&Qa(t,n);n.Rb(i+r),e&&tc(t,n)}(t,n);break;case 4:i.QD.k5&&function(t,n){var i=n.nc,r=Ox(t,n);n.Rb(i+r)}(t,n)}}function Vx(t,n){if(t.byteLength-n.nc<Bx)return null;if(73!==Ga(t,n)||68!==Ga(t,n)||51!==Ga(t,n))return null;var i=Ga(t,n),r=Ga(t,n);if(!function(t){switch(t){case 2:case 3:case 4:return!0}return!1}(i))return null;var e=Ga(t,n),u=Ox(t,n);return{jD:i,I5:r,QD:Lx(i,e),C5:u}}function Ux(t,n,i){switch(i){case 2:return function(t,n){if(!(n.nc+6>t.byteLength))return{o:uc(t,n,3),Nb:qa(t,n,3)}}(t,n);case 3:return function(t,n){if(!(n.nc+10>t.byteLength)){var i=uc(t,n,4),r=tc(t,n);Ga(t,n);var e=Ga(t,n);return{o:i,Nb:r,QD:{R5:Xa(e,0),P5:Xa(e,1),groupingIdentity:Xa(e,2)}}}}(t,n);case 4:return function(t,n){if(!(n.nc+10>t.byteLength)){var i=uc(t,n,4),r=Ox(t,n);Ga(t,n);var e=Ga(t,n);return{o:i,Nb:r,QD:{groupingIdentity:Xa(e,1),R5:Xa(e,4),P5:Xa(e,5),T5:Xa(e,6),D5:Xa(e,7)}}}}(t,n)}}function Wx(t){for(var n=Ic(t),i=new I(n.byteLength),r=0,e=0;e<n.byteLength;e++){var u=n[e];255===u&&e++,i[r]=u,r++}return Ec(Nc(i,0,r))}function jx(t,n){var i=n||new Pc,r=Vx(t,i);if(!r)return null;var e=function(t,n,i){var r=[],e=n.nc,u=Sc(t,e,e+i.C5),s=new Pc;switch(n.xb(i.C5),i.jD){case 2:case 3:i.QD.T5&&(u=Wx(u))}Fx(t,n,i);for(;s.nc<u.byteLength;){var o=Zx(u,s,i);if(void 0===o)break;r.push(o)}return r}(t,i,r);return{XD:r,N5:e}}function Zx(t,n,i){var r=Ux(t,n,i.jD);if(void 0!==r&&0!==r.o.charCodeAt(0)&&0!==r.Nb){var e,u,s=n.nc,o=Sc(t,s,s+r.Nb);switch(n.xb(r.Nb),i.jD){case 2:var a=r;e=Px(u=o,new Pc,a.o);break;case 3:var c=r,h=new Pc;!function(t,n,i){var r,e,u,s=i.QD;s.R5&&(r=tc(t,n)),s.P5&&(e=Ga(t,n)),s.groupingIdentity&&(u=Ga(t,n))}(o,h,c),e=Mx(u=Sc(o,h.nc,o.byteLength),new Pc,c.o);break;case 4:var f=r,v=new Pc;f.QD.T5&&(o=Wx(o)),function(t,n,i){var r,e,u,s,o=i.QD;o.groupingIdentity&&(r=Ga(t,n)),o.R5&&(e=tc(t,n)),o.P5&&(u=Ga(t,n)),o.D5&&(s=Ox(t,n))}(o,v,f),e=Mx(u=Sc(o,v.nc,o.byteLength),new Pc,f.o)}if(!e){var l=xc(Ic(u));e=kx(r.o,l.buffer)}return e}}U(),St();function Xx(t){return Yn(t)&&"org.id3"===t.type&&Yn(t.value)}function Gx(t){return function(t,n,i){return Cx(t,n,i)}(new DataView(t.data),new Pc,t.key)}function Hx(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return Gx(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return kx(t.key,t.data)}(t)}U(),St(),U(),St();var zx=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).J4=[],e.a5=[],e.Xo=Hp.Mh,e.O4=xm.NONE,e.c5=void 0,e.Sp=Dm.DEFAULT,e.U5=!1,e.H5=0,e.j5=function(){e.L5(),e.RO.removeEventListener("cuechange",e.j5)},e.G5=function(){e.CE!==Hp.Mh&&(e.K5(),e.v5(),e.J4.length&&e.B5(xm.LOADING))},e.Q5=function(){e.B5(xm.LOADED)},e.J5=function(){e.B5(xm.ERROR)},e.RO=n,e.W5=r,e.RO.addEventListener("cuechange",e.j5),e.RO.addEventListener("cuechange",e.G5),e.M5=i,e.M5&&(e.c5=kd(e.M5.src),e.M5.addEventListener("load",e.Q5),e.M5.addEventListener("error",e.J5)),e.IO=_m(),e.CO=n.label||"",e.e5=new jN(e.J4),e.t5=new jN(e.a5),e.CE=e.O5,ta((function(){e.G5(),e.B5(xm.NONE)})),e}Rt(n,t);var i=n.prototype;return i.ka=function(){return qp(this)},i._W=function(t){t.Ht!==this&&(t.Ht=this,this.RO.addCue(t.p5),this.G5())},i.sW=function(t){t.Ht===this&&(t.Ht=void 0,this.RO.removeCue(t.p5),this.G5())},i.i5=function(t){var n,i=null==(n=this.RO.cues)?void 0:n.getCueById(t);if(i){var r=Yx(i);return r&&Qn(r)?r[0]:r}},i.nW=function(t){this.H5>=t||(this.H5=t,gy(this,t))},i.L5=function(){var t=this.CE;this.V5||t!==Hp.Qn?this.O5=t:this.O5=Hp.LC},i.Z5=function(){var t=this.CE,n=this.O5;t!==n&&(this.V5||t!==Hp.Qn||n!==Hp.LC)&&("metadata"===this.Lt&&n===Hp.Mh?this.CE=t:this.U5&&n===Hp.Mh&&t===Hp.Qn?this.O5=t:this.CE=n)},i.V4=function(t){this.O4!==t&&(this.O4=t,this._o(new ZN(this,t)))},i.B5=function(t){var n=A.max(this.O4,this.F5,t);this.V4(n)},i.X5=function(t){var n=Yx(t);if(n)return n;if(Qn(n=this.z5(t)))for(var i=0;i<n.length;i++){n[i].Ht=this}else n.Ht=this;return n},i.z5=function(t){var n=this.q5(t);return t.THEOplayerTextTrackCue=n,n},i.q5=function(t){return t.endTime<this.H5?[]:Xx(t)?(this.Tw=Dm.ID3,function(t){var n;try{n=Hx(t.value)}catch(t){n=kx("")}return new px(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.Tw=Dm.ID3,function(t){var n=[];try{var i=jx(new DataView(t.data));if(i)for(var r=0,e=i.N5;r<e.length;r++){var u=e[r];n.push(new px(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.Tw=Dm.WEBVTT,function(t){return"regionId"in t}(t)?new lx(t):new vx(t)):new sx(t)},i.Y5=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e,u=this.X5(null!=(e=t[r])?e:t.item(r));if(Qn(u))for(var s=0;s<u.length;s++){var o=u[s];n.push(o)}else n.push(u)}return n},i.K5=function(){for(var t=this.Y5(this.RO.cues),n=WN(this.J4,t),i=0,r=n.Q4;i<r.length;i++){var e=r[i];e.vn(Vm.oO,this.G5),e.vn(Vm.rO,this.G5),this._o(new KN(e))}for(var u=0,s=n.j4;u<s.length;u++){var o=s[u];o.bn(Vm.rO,this.G5),o.bn(Vm.oO,this.G5),this._o(new zN(o))}},i.v5=function(){for(var t=this.Y5(this.RO.activeCues),n=WN(this.a5,t),i=0,r=n.Q4;i<r.length;i++){r[i].so=!1}for(var e=0,u=n.j4;e<u.length;e++){u[e].so=!0}(n.j4.length||n.Q4.length)&&this._o(new ox(this))},i.OC=function(t){this.CE=t},i.yn=function(){this.Ro();for(var t=this.J4.slice(),n=0;n<t.length;n++){t[n].yn()}Eo(this.J4),Eo(this.a5),this.RO.removeEventListener("cuechange",this.j5),this.RO.removeEventListener("cuechange",this.G5),this.M5&&(this.M5.removeEventListener("load",this.Q5),this.M5.removeEventListener("error",this.J5),ai(this.M5))},xt(n,[{key:"q",get:function(){return this.t5}},{key:"gW",get:function(){return this.M5?this.M5.default:void 0}},{key:"L",get:function(){return this.e5}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}},{key:"o",get:function(){return this.RO.id||this.M5&&this.M5.id||""}},{key:"IC",get:function(){return this.IO}},{key:"BC",get:function(){return this.RO.inBandMetadataTrackDispatchType||""}},{key:"Lt",get:function(){return this.RO.kind||ty.JV}},{key:"Ch",get:function(){return this.CO},set:function(t){t!==this.CO&&(this.CO=t,void 0!==this.M5&&(this.M5.label=t),this._o(new wm(this)))}},{key:"gs",get:function(){return this.RO.language||""}},{key:"CE",get:function(){return this.Xo},set:function(t){var n=this.CE;this.Xo=zp(t),this.L5();var i=this.CE;n!==i&&this._o(new gm(this)),i!==Hp.Mh&&this.B5(xm.LOADING)}},{key:"O5",get:function(){return zp(this.RO.mode)},set:function(t){this.RO.mode=t}},{key:"PO",get:function(){return this.RO}},{key:"rI",get:function(){return this.O4}},{key:"F5",get:function(){return this.M5?+this.M5.readyState||xm.NONE:xm.LOADED}},{key:"VC",get:function(){return this.c5}},{key:"Tw",get:function(){return this.Sp},set:function(t){this.Sp!==t&&(this.Sp=t,this._o(new GN(this)))}},{key:"V5",get:function(){return this.W5},set:function(t){var n=this;this.W5=t,t&&(this.U5=!0,g((function(){n.U5=!1}),50)),this.L5()}}]),n}(aa);function Yx(t){return null==t?void 0:t.THEOplayerTextTrackCue}U(),St(),Ct(),U(),St();function Kx(t,n){return fo(t.oV,n.oV)||function(t,n){return t.Ht===n.Ht?ho(UN(t),UN(n)):ly(t.Ht,n.Ht)}(t.FO,n.FO)||function(t,n){return t===n?co.eh:t===Vm.rO?co.Ow:co.Bw}(t.type,n.type)}var qx=function(){function t(t,n){var i=this;this.Hl=[],this.i6=0,this.Pn=0,this.t6=[],this._6=[],this.s6=[],this.n6=!1,this.r6=!1,this.o6=0,this.w6=function(){i.i6=0,i.A6(),i.m6()},this.S6=function(){i.A6(),i.m6()},this.T6=function(){i.n6=!0,i.S6()},this.k6=function(){i.r6=!0,i.o6=0,i.e6()},this.h6=function(){i.a6(),i.A6(),i.m6()},this.l6=function(t){var n=t.FO;To(i._6,n)||i._6.push(n),i.b6(n),i.v6()},this.d6=function(t){var n=t.FO;bo(i.t6,n),bo(i._6,n),i.b6(n),i.v6()},this.f6=function(t){i.b6(t.FO),i.v6()},this.p6=n,this.na=t,t.bn(va.hb,this.S6),t.bn(va.ho,this.T6),t.bn(Iy.UL,this.S6),t.bn(va.zy,this.S6),t.bn(va.Jy,this.k6),t.bn(va.Qy,this.S6),this.v6()}var n=t.prototype;return n.nr=function(){Eo(this.t6);for(var t=0,n=this.Hl.slice();t<n.length;t++){var i=n[t];this.it(i)}this.e6(),this.i6=0,this.Pn=0,Eo(this.s6),this.n6=!1,this.r6=!1,this.o6=0},n.tt=function(t){To(this.Hl,t)||(this.Hl.push(t),t.bn(Cg.da,this.h6),t.CE!==Hp.Mh&&this.a6())},n.it=function(t){bo(this.Hl,t)&&(t.vn(Cg.da,this.h6),t.CE!==Hp.Mh&&this.a6())},n.a6=function(){var t=this.s6,n=this.Hl.filter((function(t){return t.CE!==Hp.Mh}));this.s6=n;for(var i=0;i<t.length;i++){var r=t[i];To(n,r)||this.u6(r)}for(var e=0;e<n.length;e++){var u=n[e];To(t,u)||this.c6(u)}this.o6=0},n.c6=function(t){if(t.bn(Cg.HI,this.l6),t.bn(Cg.XI,this.d6),t.bn(Cg.qI,this.f6),t.L.V>0){for(var n=0,i=t.L.lC;n<i.length;n++){var r=i[n];this._6.push(r)}this.v6()}},n.u6=function(t){if(t.vn(Cg.HI,this.l6),t.vn(Cg.XI,this.d6),t.vn(Cg.qI,this.f6),t.L.V>0){for(var n=0,i=t.L.lC;n<i.length;n++){var r=i[n];bo(this.t6,r),bo(this._6,r)}this.v6()}},n.m6=function(){this.na.uI||this.na.KR?this.e6():this.v6()},n.v6=function(){this.n6&&0!==this.s6.length&&(this.o6-this.na.ER>.25*this.na.QR||this.i6||(this.i6=this.p6.g6(this.w6)))},n.e6=function(){this.i6&&(this.p6.y6(this.i6),this.i6=0)},n.b6=function(t){0!==this.o6&&(t.so!==BN(t,this.na.ER)?this.o6=0:this.Pn<t.WO&&t.WO<this.o6?this.o6=t.WO:this.Pn<t.UO&&t.UO<this.o6&&(this.o6=t.UO))},n.A6=function(){if(this.n6&&0!==this.s6.length&&!this.na.uI){var t=this.s6,n=this.Pn,i=this.na.ER,r=i-n<-.1,e=this.r6||r;e&&i>n&&i-n<.1&&(e=!1),this.r6=!1;for(var u=[],s=1/0,o=0;o<t.length;o++){var a=t[o],c=a.v5(i,e);c<s&&(s=c);for(var h=0,f=a.q.lC;h<f.length;h++){var v=f[h];u.push(v)}}var l=this.t6.slice();if(e);else for(var d=0;d<t.length;d++){vy(t[d],n-kr,i,l)}for(var g=l.length-1;g>=0;g--)To(u,l[g])&&ko(l,g);var m=[];if(!e)for(var w=l.length-1;w>=0;w--){var p=l[w];p.WO>n&&p.UO<=i&&(m.push(p),ko(l,w))}for(var y=0,_=this._6;y<_.length;y++){var b=_[y];b.WO!==b.UO&&bo(m,b)}Eo(this._6);for(var k=[],T=[],S=0;S<m.length;S++){var E=m[S];E.so||k.push(new QN(E,E.WO)),k.push(new tx(E,A.max(E.WO,E.UO))),E.so=!1}for(var I=0;I<l.length;I++){var R=l[I];R.so&&(k.push(new tx(R,A.max(R.WO,R.UO))),R.so=!1)}for(var C=0;C<u.length;C++){var N=u[C];N.so||(k.push(new QN(N,N.WO)),N.so=!0)}k.sort(Kx);for(var x=0;x<k.length;x++){var D=k[x],P=D.FO;P._o(D);var M=P.Ht;M&&(D.type===Vm.rO?M._o(new ix(P)):M._o(new ex(P)),To(T,M)||T.push(M))}T.sort(ly);for(var B=0;B<T.length;B++){var O=T[B];O._o(new ox(O))}this.Pn=i,this.t6=u,this.o6=s}},n.yn=function(){this.nr(),this.na.vn(va.hb,this.S6),this.na.vn(va.ho,this.T6),this.na.vn(Iy.UL,this.S6),this.na.vn(va.zy,this.S6),this.na.vn(va.Jy,this.k6),this.na.vn(va.Qy,this.S6)},t}();U(),St();var Jx=function(){function t(){}var n=t.prototype;return n.g6=function(t){return vI(t)},n.y6=function(t){lI(t)},t}(),Qx=new Jx,$x=function(t){function n(n,i){return void 0===i&&(i=Qx),t.call(this,n,i)||this}return Rt(n,t),n}(qx);U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var tD=function(t){function n(n,i,r){return t.call(this,n,1/0,i,!1,r)||this}return Rt(n,t),n.prototype.nF=function(t){return dx(this,t)},xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=wx(this)),this.eu}}]),n}(Jm);U(),St(),Ct(),U(),St(),Ct();var nD=function(t){function n(n,i,r){return void 0===r&&(r=Dm.DEFAULT),t.call(this,ty.eW,"",i||"","",!1,r,!1,n)||this}return Rt(n,t),n}(JN),iD=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Tw=Dm.ID3,r}Rt(n,t);var i=n.prototype;return i._W=function(n){gx(n,this.J4),t.prototype._W.call(this,n)},i.ka=function(){return qp(this)},n}(nD),rD=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).H5=0,i.G5=function(){i.CE!==Hp.Mh&&(i.K5(),i.B5(xm.LOADED))},i.RO=n,i.RO.addEventListener("cuechange",i.G5),i.CE=i.O5,ta((function(){i.G5()})),i}Rt(n,t);var i=n.prototype;return i.h5=function(n){t.prototype.h5.call(this,n),this.O5=this.CE},i._W=function(n){t.prototype._W.call(this,n),n.p5.track!==this.RO&&this.RO.addCue(n.p5)},i.sW=function(n){t.prototype.sW.call(this,n),n.p5.track===this.RO&&this.RO.removeCue(n.p5)},i.nW=function(t){this.H5>=t||(this.H5=t,gy(this,t))},i.B5=function(t){this.rI=A.max(this.rI,t)},i.K5=function(){var t=this.RO.cues;if(t){for(var n=t.length,i=[],r=[],e=0;e<n;e++){var u,s=null!=(u=t[e])?u:t.item(e);if(Xx(s)&&s.endTime>=this.H5){var o,a=null!=(o=null==s?void 0:s.THEOplayerTextTrackCue)?o:new eD(s);i.push(a)}else r.push(s)}so(i,ON);for(var c=WN(this.L.lC.slice(),i),h=0;h<r.length;h++){var f=r[h];this.RO.removeCue(f)}for(var v=0,l=c.Q4;v<l.length;v++){var d=l[v];d.yn(),this.sW(d)}for(var g=0,m=c.j4;g<m.length;g++){var w=m[g];this._W(w)}}},i.yn=function(){this.RO.removeEventListener("cuechange",this.G5),t.prototype.yn.call(this)},xt(n,[{key:"o",get:function(){return this.RO.id||""}},{key:"BC",get:function(){return this.RO.inBandMetadataTrackDispatchType||""}},{key:"gs",get:function(){return this.RO.language||""}},{key:"O5",get:function(){return zp(this.RO.mode)},set:function(t){this.RO.mode=t}},{key:"PO",get:function(){return this.RO}}]),n}(iD),eD=function(t){function n(n){var i,r=n.startTime,e=Hx(n.value);return(i=t.call(this,r,e,n.id)||this).p5=n,i.p5.THEOplayerTextTrackCue=i,i}return Rt(n,t),n.prototype.yn=function(){t.prototype.yn.call(this),this.p5.THEOplayerTextTrackCue=void 0},n}(tD);function uD(t){return"TXXX"===t.id||"TXX"===t.id}U(),St(),Gt(),Ct(),Jt(),U(),St();var sD=function(t){function n(n,i){var r,e;return r=t.call(this)||this,e=r,r.lW=n,r.x6=i,r.P6=cs(),r.UG=Zt((function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:return(n=t.Ht).Tw?[3,2]:[4,n.py(Cg.nC)];case 1:i.sent(),i.label=2;case 2:if(n.Tw!==Dm.ID3)return[2];i.label=3;case 3:return 0!==n.L.V?[3,5]:[4,n.py(Cg.HI)];case 4:return i.sent(),[3,3];case 5:return e.I6(n),[2]}}))})),r.GG=function(t){var n=t.Ht;if(n.Tw===Dm.ID3&&r.P6.has(n.IC)){var i=r.P6.get(n.IC);r.it(i),r.lW.mW(i),n.vn(Cg.HI,r.N6)}},r.N6=function(t){oD(t.FO)&&r.D6(t.FO)},r.E6(),r}Rt(n,t);var i=n.prototype;return i.E6=function(){this.x6.bn(Tg.VI,this.UG),this.x6.bn(Tg.UI,this.GG)},i.R6=function(){this.x6.vn(Tg.VI,this.UG),this.x6.vn(Tg.UI,this.GG)},i.I6=function(t){var n=t.L.lC[0];if(oD(n)){var i=function(t){var n=t.match(aD);if(!n)return;return{Ht:n[1],gs:n[2]}}(n.U.description),r=i.Ht,e=i.gs;if(!this.C6(r,e)){var u=this.lW.OI(ty.JV,t.o,r,e,!1,Dm.TTML);this.tt(u),this.P6.set(t.IC,u);for(var s=0,o=t.L.lC;s<o.length;s++){var a=o[s];oD(a)&&this.D6(a)}t.bn(Cg.HI,this.N6)}}},i.C6=function(t,n){return this.Z.lC.some((function(i){return i.Ch===t&&i.gs===n}))},i.D6=function(t){if(t.Ht)for(var n=this.P6.get(t.Ht.IC),i=Bp(t.U.text,n,{MV:0,LV:1/0,BV:t.WO}),r=0;r<i.length;r++){var e=i[r];n._W(e)}},i.nr=function(){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:for(i=0,r=n.x6.lC;i<r.length;i++)r[i].vn(Cg.HI,n.N6);for(e=0,u=n.Z.lC;e<u.length;e++)s=u[e],n.lW.mW(s);return n.P6.clear(),[4,t.prototype.nr.call(n)];case 1:return o.sent(),[2]}}))}))()},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.R6(),[4,t.prototype.yn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(wy);function oD(t){return function(t){return uD(t)&&aD.test(t.description)}(t.U)}var aD=/^Track:(.+),Lang:(.+)$/;U(),St(),Gt(),Dt(),Ct(),ct(),Jt(),an(),U(),St();var cD=[va.Ey,va.Ty,va.fb,va.vb];U(),St(),Dt(),Ct();var hD=function(t){function n(n){var i;return(i=t.call(this,va.Ty)||this).errorObject=n,i}return Rt(n,t),xt(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(fa);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Ct();var fD=function(t){function n(n){var i;return(i=t.call(this,va.Ey)||this).M6=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var vD=function(t){function n(n){var i;return(i=t.call(this,"_b")||this).M6=n,i}return Rt(n,t),n}(fa),lD=new gl,dD=function(t){function n(n){var i;return(i=t.call(this,"Ws")||this).session=n,i}return Rt(n,t),n}(fa),gD=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).U6=n,e.V6=i,e.W6=r,e.O6=!1,e.z6=!1,e.GT=new Qo,e.B6=!1,e.oT=function(t){if(!e.GT.Uw.Fw)switch(t.bb){case"license-request":case"license-renewal":e.eU(t.wb,t.Ab).catch((function(t){return e.Ss(t)}));break;default:e.Ss(new um(ul.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.bb))}},e.Z6=function(t){e.U6.pb.Ob((function(t,n){switch(t){case"usable":qn.Gg((function(){e.z6=!0,e._o(new fD(n))}),100);break;case"expired":case"status-pending":default:break;case"output-restricted":case"internal-error":e._o(new vD(n))}})),e.B6=!0,e._o(t)},e.X6=function(t){e.Ss(new um(ul.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},n.bn("wb",e.oT),n.bn(va.vb,e.Z6),n.bn("lt",e.X6),n.qS.then((function(){return e.H6()}),(function(t){return e.Ss(t)})),e}Rt(n,t);var i=n.prototype;return i.tT=function(){var t=this;return this.O6=!0,lD.Qo((function(n){return t.F6(n)}),this.GT.Uw)},i.F6=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),Zo(t),[4,n.V6.YW(t)];case 1:return s.sent(),[4,n.V6.KW(n.W6.xw,n.W6.Eb,t)];case 2:return i=s.sent(),[4,n.U6.tT(n.W6.xw,n.W6.Eb,i)];case 3:return s.sent(),[3,5];case 4:throw Xo(r=s.sent()),e=r instanceof $c?r.Hb:void 0,u=new um(ul.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",r,void 0,void 0,void 0,void 0,e),n.Ss(u),u;case 5:return[2]}}))}))()},i.eU=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),function(t){return Fc(t,qc())}(t)?[4,i.V6.cU(new I(t),i.GT.Uw)]:[3,2];case 1:return r=c.sent(),[3,4];case 2:return[4,i.V6.lU(new I(t),n,i.GT.Uw)];case 3:r=c.sent(),c.label=4;case 4:return[3,6];case 5:if(jo(e=c.sent()))return[2];throw e;case 6:if(i.GT.Uw.Fw)return[2];u=i.G6,s=new Kc,i.G6=s,c.label=7;case 7:return c.trys.push([7,10,11,14]),[4,i.U6.ir(r)];case 8:return c.sent(),[4,ea(100)];case 9:return c.sent(),[3,14];case 10:throw o=c.sent(),a=o instanceof $c?o.Hb:void 0,new um(ul.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o,void 0,void 0,void 0,void 0,a);case 11:return void 0===u?[3,13]:[4,u.Ub];case 12:c.sent(),c.label=13;case 13:return s.Vb(),i.G6===s&&(i.G6=void 0),[7];case 14:return[2]}}))}))()},i.Ss=function(t){var n=t instanceof um?t:new um(ul.CONTENT_PROTECTION_ERROR,t.message,t);this._o(new hD(n)),this.Ws()},i.H6=function(){this.U6.vn("wb",this.oT),this.U6.vn(va.vb,this.Z6),this.U6.vn("lt",this.X6),this.z6=!1,this.B6=!1,this.GT.jw(),this._o(new dD(this))},i.Ws=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:t.Ro(),i.label=1;case 1:return void 0===(n=t.G6)?[3,3]:[4,n.Ub];case 2:i.sent(),i.label=3;case 3:if(t.G6!==n)return[3,1];i.label=4;case 4:return t.H6(),[4,t.U6.Ws().catch(Si)];case 5:return i.sent(),[2]}}))}))()},xt(n,[{key:"L6",get:function(){return this.B6}}]),n}(aa),mD=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Y6=[],e.Q6=void 0,e.e9=[],e.i9=function(t){if(t.type===va.vb)return null!=e.o9||(e.o9=new Yc),t.pb.Ob((function(t,n){e.o9.Bb(n,t)})),void(e.q6&&e._o(new ga(e.o9)));e.Ds(t)},e.s9=function(t){t.session.vn(cD,e.Ds),t.session.vn("Ws",e.s9),bo(e.Y6,t.session),e.o9=void 0},e.nT=n,e.uT=i,e.K6=r,e}Rt(n,t);var i=n.prototype;return i.qW=function(){return this.K6.qW()},i.j6=function(t){return this.Q6||(this.Q6=this.J6(t)),this.Q6},i.J6=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return Zo(t),[4,n.K6.cU(new I(qc()),t)];case 1:if(i=r.sent(),Zo(t),!n.uT)throw new y("Invalid MediaKeys when setting ServerCertificate");return[4,n.uT.lT(i.buffer)];case 2:return r.sent(),[2]}}))}))()},i.t9=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(!n.uT)throw new y("Invalid MediaKeys when creating KeySession");e.label=1;case 1:return e.trys.push([1,,3,4]),n.e9.push(t),[4,n.uT.aT("temporary")];case 2:return i=e.sent(),r=new gD(i,n.K6,t),n.Y6.push(r),r.bn(cD,n.i9),r.bn("Ws",n.s9),[2,r];case 3:return bo(n.e9,t),[7];case 4:return[2]}}))}))()},i.n9=function(t){if(t.r9)return!1;for(var n=0,i=this.Y6;n<i.length;n++){if(wD(i[n].W6,t))return!0}for(var r=0,e=this.e9;r<e.length;r++){if(wD(e[r],t))return!0}return!1},i.yn=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.uT=void 0,t.Ro(),n=t.Y6.slice(),Eo(t.Y6),[4,ut.all(n.map((function(t){return t.Ws()})))];case 1:return i.sent(),t.o9=void 0,t.K6.Xw(),[2]}}))}))()},xt(n,[{key:"cT",get:function(){return this.nT}},{key:"q6",get:function(){return this.Y6.every((function(t){return t.L6}))}}]),n}(aa);function wD(t,n){return!t.r9&&t.xw===n.xw&&Fc(t.Eb,n.Eb)}var pD=function(t){function n(n){var i;return(i=t.call(this)||this).GT=new Qo,i.Yo=new gl,i.MT=void 0,i.K6=void 0,i.JG=void 0,i.nT=void 0,i.y9=function(t){i.d9(t.xw,t.Eb,i.GT.Uw).catch((function(t){return i.Ss(t)}))},i.WB=n,i.WB.bn(pa.Py,i.y9),i}Rt(n,t);var i=n.prototype;return i.$n=function(t,n){this.JG=t,this._J(n)},i._J=function(t){this.MT=t,this.a9(this.GT.Uw).catch(Go)},i.mJ=function(t){this.u9(t,this.GT.Uw).catch(Go)},i.u9=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(r=function(r,e){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(u=e[r],void 0===(null==(o=mo(t,(function(t){return t.c9===u.cT.Iw})))?void 0:o.l9))return[2,"continue"];if(null==(s=u.IG)?void 0:s.some((function(t){return Fc(o.l9,t)})))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.d9(u.cT.xw,o.l9,n)];case 2:return a.sent(),[2,{v:void 0}];case 3:return Xo(a.sent()),[3,4];case 4:return[2]}}))},Zo(n),!(null==(e=i.MT)?void 0:e.sH))return[2];o=0,a=null!=(s=null==(u=i.MT)?void 0:u.sH)?s:[],h.label=1;case 1:return o<a.length?[5,zt(r(o,a))]:[3,4];case 2:if("object"===W(c=h.sent()))return[2,c.v];h.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))()},i.a9=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return qn.Ys.Jg?[4,n.f9(t)]:[3,2];case 1:if(i.sent())return[2];i.label=2;case 2:return n.MT&&n.MT._9?[4,n.v9(t)]:[3,4];case 3:return[2,i.sent()];case 4:return[2]}}))}))()},i.f9=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v;return Ht(this,(function(l){switch(l.label){case 0:if(!(null==(i=n.MT)?void 0:i.sH))return[2,!1];e=!1,s=0,o=null!=(u=null==(r=n.MT)?void 0:r.sH)?u:[],l.label=1;case 1:if(!(s<o.length))return[3,9];a=o[s],h=0,f=null!=(c=a.IG)?c:[],l.label=2;case 2:if(!(h<f.length))return[3,7];v=f[h],l.label=3;case 3:return l.trys.push([3,5,,6]),[4,n.d9(a.cT.xw,v,t)];case 4:return l.sent(),e=!0,[3,6];case 5:return Xo(l.sent()),[3,6];case 6:return h++,[3,2];case 7:if(e)return[2,!0];l.label=8;case 8:return s++,[3,1];case 9:return[2,!1]}}))}))()},i.d9=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,l;return Ht(this,(function(d){switch(d.label){case 0:if(Zo(i),!n.byteLength)return[2];if(!r.MT||!r.MT.sH.length)throw new um(ul.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(t!==ws&&t!==ys&&t!==ps)return[2];e=N_(t,n),u=r.MT.sH,o=0,d.label=1;case 1:if(!(o<u.length))return[3,11];if(a=u[o],Zo(i),!(c=e[a.cT.Rw])||a.cT.xw!==t)return[3,10];d.label=2;case 2:return d.trys.push([2,9,,10]),[4,r.m9(a,i)];case 3:return(h=d.sent()).qW()?[4,h.j6()]:[3,5];case 4:d.sent(),d.label=5;case 5:return f=r.WB.WR,v={xw:a.cT.xw,Eb:c,r9:f},r.g9(h,v)?[4,h.t9(v)]:[3,8];case 6:return[4,d.sent().tT()];case 7:d.sent(),d.label=8;case 8:return[2];case 9:return Xo(l=d.sent()),s=l,[3,10];case 10:return o++,[3,1];case 11:return[4,qn.Zp()];case 12:throw d.sent()?new um(ul.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s):new um(ul.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s)}}))}))()},i.v9=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(!(r=null==(i=n.MT)?void 0:i.sH))return[2];e=0,o.label=1;case 1:if(!(e<r.length))return[3,8];u=r[e],Zo(t),o.label=2;case 2:return o.trys.push([2,6,,7]),[4,n.m9(u,t)];case 3:return(s=o.sent()).qW()?[4,s.j6()]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2];case 6:return Xo(o.sent()),[3,7];case 7:return e++,[3,1];case 8:return[2]}}))}))()},i.g9=function(t,n){return qn.Ys.Qg||this.WB.qB.zB||!t.n9(n)},i.m9=function(t,n){var i=this;return this.Yo.Qo((function(n){return i.p9(t,n)}),n)},i.p9=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(Zo(n),!i.MT||!i.K6||!i.JG)throw new y("Not initialized");if(i.nT){if(i.nT.cT!==t.cT)throw new y("Internal key system error");return[2,i.nT]}return r=i.K6,e=ss({},t,{RH:t.RH.map((function(n){var i;return ss({},n,{persistentState:null!=(i=n.persistentState)?i:r._U(t.cT),wT:n.wT||r.wT(t.cT)})}))}),[4,i.JG.cJ(e.cT,e.RH)];case 1:return u=a.sent(),s=r.xG(e),(o=new mD(e.cT,u,s)).bn(cD,i.Ds),i.nT=o,[2,o]}}))}))()},i.Ss=function(t){if(!jo(t)){var n=t instanceof um?t:new um(ul.CONTENT_PROTECTION_ERROR,t.message,t);this._o(new hD(n))}},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.JG=void 0,t.MT=void 0,t.GT.jw(),t.GT=new Qo,[4,t.w9()];case 1:return n.sent(),[2]}}))}))()},i.w9=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.Yo.jw()];case 1:return i.sent(),(n=t.nT)?(n.vn(va.fb,t.Ds),t.nT=void 0,[4,n.yn()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),t.WB.vn(pa.Py,t.y9),[4,t.nr()];case 1:return n.sent(),[4,t.Yo.yn()];case 2:return n.sent(),[2]}}))}))()},xt(n,[{key:"h9",get:function(){var t;return null==(t=this.nT)?void 0:t.cT}},{key:"wH",get:function(){return this.K6},set:function(t){this.K6=t}}]),n}(aa);U(),St(),Ct();var yD=function(t){function n(n){var i;return(i=t.call(this,va.Vy)||this).currentTime=n,i}return Rt(n,t),n}(fa);U(),St(),Dt(),Ct();var _D=function(t){function n(n){var i;return(i=t.call(this)||this).S9=n,i}Rt(n,t);var i=n.prototype;return i.V4=function(){var t;null==(t=this.b9)||t.V4()},i.nr=function(){var t;null==(t=this.b9)||t.nr()},i.Xw=function(){this.Ro(),void 0!==this.b9&&(this.b9.Xw(),this.b9=void 0)},i.A9=function(t){if(this.b9!==t){var n=this.rI;void 0!==this.b9&&this.b9.Xw(),this.b9=t,void 0!==t&&(t.bn(Iy.iC,this.Ds),t.V4());var i=this.rI;n!==i&&this._o(new Cy(this.S9.ER,i))}},xt(n,[{key:"rI",get:function(){return void 0!==this.b9?this.b9.rI:Ny.eO}}]),n}(aa);U(),St(),Dt(),Ct();var bD=function(t){function n(n,i,r){return t.call(this,n,i,"",r,void 0,Dm.WEBVTT)||this}Rt(n,t);var i=n.prototype;return i.T9=function(t,n,i){var r=new $m(t,n,i,!1);return this._W(r),r},i.k9=function(t){this.sW(t)},xt(n,[{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=kD(this)}}]),n}(JN);function kD(t){return Mg(qp(t),{get type(){return t.Tw},addCue:function(n,i,r){return t.T9(n,i,r).wa},removeCue:function(n){t.k9(n.VO)}})}U(),St(),Dt(),Ct();var AD=function(t){function n(n,i){var r,e;return(r=t.call(this,n,i)||this).YE=!1,r.E9=[],r.x9=function(){var t;null==(t=r.M5)||t.removeEventListener("load",r.x9),r.YE=!0;for(var n=0,i=r.E9;n<i.length;n++){var e=i[n];r._W(e)}Eo(r.E9)},null==(e=r.M5)||e.addEventListener("load",r.x9),r.Tw=Dm.WEBVTT,r}Rt(n,t);var i=n.prototype;return i.T9=function(t,n,i){var r=this.z5(new f.VTTCue(t,n,i));return this.YE?this._W(r):this.E9.push(r),r},i.k9=function(t){bo(this.E9,t),this.sW(t)},i.yn=function(){var n;t.prototype.yn.call(this),null==(n=this.M5)||n.removeEventListener("load",this.x9),Eo(this.E9)},xt(n,[{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=kD(this)}}]),n}(zx),TD=Gn.Gm||Gn.Zm,SD=Gn.Bg,ED=Gn.eg,ID=Gn.eg&&Gn.su,RD=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).YG=void 0,u.hZ=!0,u.JG=void 0,u.M8=new gl,u.C9=void 0,u.ea=new oS,u.ta=new cS,u.T8=[],u.P9=void 0,u.u8=0,u.a8=NaN,u.I9=void 0,u.w8=!1,u.U8=void 0,u.N8=0,u.cZ=!1,u.L4=!1,u.k7=Ny.eO,u.O9=0,u.o8=ut.resolve(),u.r8=new Qo,u.i8=[],u.Uo=BA.pB(),u.V9=void 0,u.U9=1,u.Z9=!1,u.H9=1,u.N9=!1,u.G8=!1,u.H8=!1,u.l8=!1,u.M9=!1,u.L9=!1,u.R9=!1,u.b7=!1,u.X8=0,u.X9=!1,u.k8=function(t){var n=t.track,i=u.P8(n);if(!ND(u.S8,n)){if(Gn.eg){if(n.kind===ty.eW)return void u.I8(n);if(n.kind===ty.$V&&""===n.label&&""===n.language&&!xD(n))return void u.C8(n,i)}u.S8.tt(new zx(n,i))}},u.E8=function(t){var n=ND(u.S8,t.track);n&&u.S8.it(n)},u.x8=function(){for(var t=0;t<u.S8.V;t++){var n=u.S8.fC(t);n instanceof zx&&n.Z5()}},u.B8=function(){if(void 0!==u.JG&&jR(u.JG)&&!u.KR){var t=u.JG,n=t.h4,i=t.a4;if(n&&i)if(t.RJ)u.V8();else if(t.rI!==yN.Y2){var r=n.wR,e=i.wR;if(0!==r.V||0!==e.V){var s=u.ER;if(s<r.Sn(0)||s<e.Sn(0))u.V8();else if(r.wr(s)!==e.wr(s)){if(t.DJ(s))return;u.F8()}else{if(u.V8(),!u.X8&&u.Q9.z4())r.eB(e).oB(s,s+.5)&&(u.X8=vI(u.E7))}}else u.V8()}}},u.E7=function(){u.X8=0,u.B8()},u.O8=function(){if(!u.uI&&!u.M4&&!(u.B9.rI>=Ny.sO)&&void 0!==u.JG&&jR(u.JG)){var t=u.JG,n=t.h4,i=t.a4;if(n&&i){var r=u.ER,e=n.wR,s=i.wR;if(e.wr(r)&&s.wr(r))e.eB(s).oB(r-5,r)&&(u.R9?u.V8():u.W8())}}},u.Q8=function(){u._o(new _T(u.ER))},u.J8=function(){u.n8(new Wo),u._o(new yT(u.ER))},u.Y8=function(){u.J9(),u._o(new Oy(u.ER))},u.n7=function(){u.W9()},u.o7=function(){u._o(new bT(u.ct))},u.e7=function(){u._o(new JR(u.ER))},u.i7=function(){u._o(new QR)},u.l7=function(){u.cZ||u.L4||u.w8?u.w8=!1:u._o(new ST(u.ER))},u.d7=function(){u.m8(u.ER),u.w8=!1},u.t7=function(){var t=u.ER,n=u.uI,i=u.B9.rI<Ny.sO&&!u.PR,r=void 0!==u.U8,e=r&&u.U8!==t;u.D8(),(n||!r||e&&!i)&&u.p8()},u.s7=function(){u.Zj()},u.a7=function(){if(null!==u.$T.error){var t,n=u.$T.error;u.BH(new om(null!=(t=n.code)?t:sm.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},u.u7=function(){u.G8&&(u.q8(),u.H8=!0)},u.x7=function(t){if(qn.Ug(u.O9),u.O9=0,t.readyState<=Ny.iO)if(u.cZ||u.L4){var n=qn.Wg()-u.u8;if(n<250)return void(u.O9=qn.Gg((function(){return u.x7(t)}),250-n))}else if(void 0!==u.JG&&u.JG.DJ(u.ER))return void(u.O9=qn.Gg((function(){return u.x7(t)}),250));u.k7!==t.readyState&&(u.k7=t.readyState,u._o(t))},u.r7=function(){u.F9()},u.h7=function(){u.vI>0&&u.dI>0&&u._o(new Sy)},u.f7=function(t){u._o(new ya(t.initDataType,t.initData||new ArrayBuffer(0)))},u._7=function(){u._o(new _a)},u.g7=function(t){var n=t.initData,i=n?xc(n).buffer:new ArrayBuffer(0);u._o(new ya(ws,i))},u.v7=function(t){if(t.initData){var n=function(t){try{var n=Ec(t),i=new Pc;return mc(wc(za(n,i,tc(n,i,!0)),!0))}catch(t){return}}(t.initData);if(!n)return;u._o(new ya(ys,n))}else u._o(new ya(ys,new ArrayBuffer(0)))},u.m7=function(t){var n=t.initData,i=n?xc(n).buffer:new ArrayBuffer(0);u._o(new ya(ws,i))},u.K9=function(){u.J9()},u.j9=function(t){u.n8(t)},u.R7=function(t){u._o(t),t.type===va.Ty&&u.BH(cm(t.errorObject))},u.$T=n,u.Nw=i,u.Ku=r,u.wZ=e,u.B9=new _D(u),u.B9.bn(Iy.iC,u.x7),u.B9.A9(new CN(u)),u.Q9=new PN(u),u.Q9.bn(Iy.UL,u.Y8),u.vJ=new pD(u),u.vJ.bn(cD,u.R7),u.Hl=new $p,u.S8=new $p,u.j8=new Ok([u.Hl,u.S8]),u.K8=new sD(u,u.j8),u.y8=new Ok([u.j8,u.K8.Z]),u.b8=new $x(u),u.Z8(),u.IH(),u}Rt(n,t);var i=n.prototype;return i.D9=function(){return void 0!==this.P9&&this.ct===this.P9},i.W9=function(){var t=this.QR;this.U9!==t&&(this.U9=t,this._o(new kT(this.ER,t)))},i.F9=function(){var t=this.gI,n=this.ZR;this.H9===t&&this.Z9===n||(this.H9=t,this.Z9=n,this._o(new ET(this.ER,this.gI)))},i.HR=function(){return kR(this.$T)},i.xI=function(){this.X9||(this.X9=!0);var t=this.z9();return this.q9(),t},i.q9=function(){this.M9?this.L9&&(this.L9=!1,this._o(new _T(this.ER))):this.Y9()},i.Y9=function(){if(this.C9)this.C9.xI();else{Gn.eg&&!Gn.su&&this.$T.preload===iS.$H&&(this.$T.preload=iS.eW);var t=this.QR,n=this.$T.play();t!==this.jG.playbackRate&&(this.QR=t),this.N9=!1,ri(n)?n.then(this.K9,this.j9):this.Q9.z4()&&this.J9()}},i.EI=function(){this.M9?this.L9||(this.L9=!0,this._o(new yT(this.ER))):this.t8()},i.t8=function(){this.C9?this.C9.EI():(this.$T.pause(),this.Q9.ir()),this.e8(new Wo)},i.z9=function(){var t=new Kc;return this.i8.push(t),t.Ub},i.s8=function(){for(var t=0,n=this.i8;t<n.length;t++){n[t].Vb(void 0)}Eo(this.i8)},i.e8=function(t){for(var n=0,i=this.i8;n<i.length;n++){i[n].Wb(t)}Eo(this.i8)},i.J9=function(){this.M9||this.C9||this.s8()},i.n8=function(t){this.M9||this.C9||this.e8(t)},i.Rb=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.C9?this.C9.Rb(t,n,i):(this.r8.jw(),this.r8=new Qo,this.o8=zo(this.h8(t,n,i,this.o8,this.r8.Uw),this.r8).catch(Si))},i.zG=function(t){var n=this.$G;if(n&&!E(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Rb(i)}},i.h8=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b,k;return Ht(this,(function(T){switch(T.label){case 0:return T.trys.push([0,24,,25]),u.P9=t,u.a8=t,u.u8=qn.Wg(),i&&!u.cZ?u.L4=!0:(u.cZ=!0,u.L4=!1),u.N9&&!u.D9()&&(u.N9=!1),u.L4?(u._o(new kN(u.ER)),Gn.Cm&&(t+=.05)):u._o(new TT(t)),[4,r.catch(Si)];case 1:return T.sent(),Zo(e),u.JG&&!u.JG.NJ()?(u.c8(),[2]):(u.l8&&u.d8(),u.B9.rI!==Ny.eO?[3,3]:[4,u.B9.py(Iy.iC,e)]);case 2:T.sent(),T.label=3;case 3:if(0!==u.$T.seekable.length&&(!ID||u.X9))return[3,9];s={stack:[],error:void 0,hasError:!1},T.label=4;case 4:return T.trys.push([4,6,7,8]),o=Yt(s,Qo.$w([e]),!1),[4,ut.race([ng(u.$T,"timeupdate",o.Uw),ea(100,o.Uw)])];case 5:return T.sent(),Zo(e),[3,8];case 6:return a=T.sent(),s.error=a,s.hasError=!0,[3,8];case 7:return Kt(s),[7];case 8:return[3,3];case 9:c=mN(u.wR,t,.05),h=u.hI,f=!0,v=!1,T.label=10;case 10:0,l={stack:[],error:void 0,hasError:!1},T.label=11;case 11:return T.trys.push([11,20,21,22]),(h=u.hI).V>0&&!h.wr(c)&&(c=h.KL(c),f=!0),n&&!u.$T.fastSeek&&((g=u.wR).wr(c)||(m=mN(g,c,1))!==c&&(c=m,f=!0)),ED&&void 0!==(w=u.f8())&&c>w&&(c=w,f=!0),v?[3,14]:void 0!==(p=u._8())&&c>p?(v=!0,[4,u.v8(p,!1,e)]):[3,14];case 12:return T.sent(),[4,ng(u.$T,"seeked",e)];case 13:T.sent(),Zo(e),f=!0,T.label=14;case 14:return f?(f=!1,[4,u.v8(c,n,e)]):[3,18];case 15:T.sent(),Zo(e),y=u.ER,h=u.hI,c=h.KL(c),_=1,T.label=16;case 16:return A.abs(c-y)>=kr?(h=u.hI,c=function(t,n,i){void 0===i&&(i=0);if(!n.V)return 0;var r=n.KL(t),e=CD*i;r===n.Sn(0)?r+=e:r===n.Tn(n.V-1)&&(r-=e);return r}(c,h,_),[4,u.v8(c,n,e)]):[3,18];case 17:return T.sent(),Zo(e),y=u.ER,_++,[3,16];case 18:return u.$T.seeking||u.B9.rI<Ny.iO?(b=Yt(l,Qo.$w([e]),!1),[4,ut.race([ng(u.$T,"seeked",b.Uw),u.py([va.qy,va.Iy],b.Uw),u.B9.py(Iy.iC,b.Uw),null==(d=u.JG)?void 0:d.py(zR.nJ,b.Uw)].filter(Yn))]):[3,23];case 19:return T.sent(),Zo(e),[3,22];case 20:return k=T.sent(),l.error=k,l.hasError=!0,[3,22];case 21:return Kt(l),[7];case 22:return[3,10];case 23:return u.c8(),[3,25];case 24:return jo(T.sent())?[2]:[3,25];case 25:return[2]}}))}))()},i.v8=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(Zo(i),e=r.hI,t=e.KL(t),!r.l8)return[3,8];u=!0,h.label=1;case 1:if(!(u||r.B9.rI<Ny.sO))return[3,7];s={stack:[],error:void 0,hasError:!1},h.label=2;case 2:return h.trys.push([2,4,5,6]),(e=r.hI).wr(t)||(t=e.KL(t),u=!0),u?(u=!1,r.P9=t,r.m8(r.ER),[3,1]):(o=Yt(s,Qo.$w([i]),!1),[4,ut.race([r.py(va.Iy,o.Uw),r.B9.py(Iy.iC,o.Uw)])]);case 3:return h.sent(),[3,6];case 4:return a=h.sent(),s.error=a,s.hasError=!0,[3,6];case 5:return Kt(s),[7];case 6:return[3,1];case 7:Zo(i),h.label=8;case 8:return c=ng(r.$T,"seeking",i),n&&r.$T.fastSeek?r.$T.fastSeek(t):r.$T.currentTime=t,r.P9=void 0,r.m8(r.ER),r.$T.seeking?[4,c]:[3,10];case 9:h.sent(),h.label=10;case 10:return[2]}}))}))()},i.f8=function(){if(this.JG&&this.JG.RJ){var t=this.JG.IJ,n=this.JG.CJ,i=t&&n?t.jn(n):t||n;if(i&&0!==i.V){var r=i.Sn(i.V-1),e=i.Tn(i.V-1);return A.max(r,e-.001)}}},i._8=function(){if(this.JG&&this.JG.RJ){var t=this.JG.CJ;if(t&&0!==t.V){var n=t.Sn(t.V-1),i=t.Tn(t.V-1)-.02;return i-=.001,A.max(n,i)}}},i.m8=function(t){this.a8!==t&&(this.a8=t,this.L4?this._o(new kN(t)):this._o(new TT(t)))},i.c8=function(){var t=this.L4;this.cZ=!1,this.L4=!1,this.u8=0,this.a8=NaN,this.l8&&this.g8(),t?(this._o(new yD(this.ER)),this.p8()):(this._o(new ST(this.ER)),this.w8=!0),this.Zj()},i.d8=function(){this.M9||(this.L9=this.KR,this.M9=!0,this.t8())},i.g8=function(){this.M9&&(this.M9=!1,this.L9||this.q9())},i.MJ=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Tw===Ey.pW&&qR.MJ(i,this.$T))return i;if(i.Tw===Ey.wW&&_N.MJ(i))return i}},i.be=function(){this.hZ=!1,Ni(this.$T)&&(this.$T.style.display="none")},i.ge=function(){this.hZ=!0,Ni(this.$T)&&(this.$T.style.display="block")},i.OI=function(t,n,i,r,e,u,s,o,a){var c=new JN(t,n,i,r,e,u,s,a,o);return this.Hl.tt(c),this.b8.tt(c),c},i._H=function(t){var n=t.Lt,i=t.Ch,r=t.gs;if("function"==typeof this.$T.addTextTrack&&"function"==typeof f.VTTCue){var e=this.A8("data:text/vtt,WEBVTT%0A%0A",n,i,r),u=e.track,s=e.trackElement,o=new AD(u,s);return this.S8.tt(o),this.T8.push(o),o}var a=new bD(n,i,r);return this.Hl.tt(a),this.b8.tt(a),a},i.uH=function(){return!0},i.lH=function(t,n,i,r,e){var u=this.A8(t,n,i,r,e),s=u.track,o=u.trackElement,a=new zx(s,o);return this.S8.tt(a),this.T8.push(a),a},i.A8=function(t,n,i,r,e){var u=v.createElement("track");return u.src=kd(t),u.kind=n,u.label=null!=i?i:"",r&&(u.srclang=r),u.default=!!e,u.id=QE(),this.$T.appendChild(u),{track:this.$T.textTracks.getTrackById(u.id),trackElement:u}},i.mW=function(t){this.Hl.it(t),this.b8.it(t)},i.vH=function(){for(var t=0,n=this.Hl.lC.slice();t<n.length;t++){n[t].yn()}this.Hl.nr();for(var i=0,r=this.T8.slice();i<r.length;i++){var e=r[i];this.S8.it(e),e.yn()}Eo(this.T8)},i.IH=function(){var t=this.$T.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.k8),t.addEventListener("removetrack",this.E8),t.addEventListener("change",this.x8))},i.pH=function(){var t=this.$T.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.k8),t.removeEventListener("removetrack",this.E8),t.removeEventListener("change",this.x8))},i.I8=function(t){t.mode=Hp.LC;var n=new rD(t);this.S8.tt(n),this.b8.tt(n)},i.C8=function(t,n){var i=this,r=function(){xD(t)&&(t.removeEventListener("cuechange",r),i.S8.tt(new zx(t,n)))};t.addEventListener("cuechange",r),t.mode=Hp.LC},i.P8=function(t){for(var n=this.$T.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.D8=function(){if(0!==this.S8.V){var t=this.hI;if(0!==t.V){var n=t.Sn(0);if(this.N8!==n){for(var i=0,r=this.S8.lC;i<r.length;i++){r[i].nW(n)}this.N8=n}}}},i.$n=function(t){var n=this;return this.M8.Qo(Zt((function(i){var r,e;return Ht(this,(function(u){switch(u.label){case 0:if(Zo(i),n.JG)throw new y("Already loaded a media source");if(t.Tw===Ey.pW)r=new qR(t,n,n.vJ,n.Nw),n.l8=!1,n.B9.A9(n.L8());else{if(t.Tw!==Ey.wW)throw new y("Unsupported configuration");n.l8=TD,e=n.L8(),r=new _N(t,n,e,n.vJ,n.Nw,void 0,n.o4),n.B9.A9(e),SD&&(n.bn(va.hb,n.B8),n.B9.bn(Iy.iC,n.O8))}return n.JG=r,[4,r.xj()];case 1:return u.sent(),[2,r]}}))})))},i.L8=function(){return this.l8?new NN(this):new CN(this)},i.F8=function(){if(!this.R9){var t=this.QR;this.R9=!0,this.QR=t,this.$T.playbackRate=0,this.B9&&this.B9.V4()}},i.V8=function(){if(this.R9){var t=this.QR;this.R9=!1,this.QR=t,this.W8()}},i.W8=function(){this.$T.currentTime=this.$T.currentTime,this.B9&&this.B9.V4()},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.cZ=!1,t.L4=!1,t.w8=!1,qn.Ug(t.O9),t.O9=0,t.Uo=BA.pB(),t.r8.jw(),t.P9=void 0,t.a8=NaN,t.I9=void 0,t.l8=!1,t.M9=!1,t.YG=void 0,t.N9=!1,t.U8=void 0,t.N8=0,t.G8=!1,t.X9=!1,t.H8&&(t.Z8(),t.H8=!1),t.e8(new Wo),t.B9.A9(new CN(t)),t.Q9.nr(),t.S8.nr(),t.V8(),SD&&(lI(t.X8),t.X8=0,t.vn(va.hb,t.B8)),[4,t.M8.jw()];case 1:return n.sent(),[4,t.M8.Qo(Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.JG?[4,t.JG.Xw()]:[3,2];case 1:n.sent(),t.JG=void 0,Gn.Cm&&Gn.Dm<3&&t.z8(),n.label=2;case 2:return[2]}}))})))];case 2:return n.sent(),[2]}}))}))()},i.z8=function(){this.q8();var t=this.$T,n=t.parentElement,i=t.tagName.toLowerCase();this.$T=_M(i),this.retainMediaElementState(t),bM(t),null==n||n.replaceChild(this.$T,t),this.Z8(),this.B9.A9(this.L8()),this.Q9.vn(Iy.UL,this.Y8),this.Q9.Xw(),this.Q9=new PN(this),this.Q9.bn(Iy.UL,this.Y8),this.hZ?this.ge():this.be(),this._o(new VT),this._o(new UT)},i.retainMediaElementState=function(t){this.jG.muted=t.muted,this.jG.volume=t.volume},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.H8=!1,t.q8(),t.pH(),[4,t.nr()];case 1:return n.sent(),[4,t.M8.yn()];case 2:return n.sent(),t.Q9.Xw(),t.B9.Xw(),[4,t.vJ.Xw()];case 3:return n.sent(),t.vH(),t.Hl.yn(),t.S8.yn(),[4,t.K8.yn()];case 4:return n.sent(),t.j8.yn(),t.y8.yn(),t.Ro(),[2]}}))}))()},i.Z8=function(){this.jG.addEventListener("play",this.Q8),this.jG.addEventListener("pause",this.J8),this.jG.addEventListener("timeupdate",this.t7),this.jG.addEventListener("progress",this.e7),this.jG.addEventListener("loadstart",this.i7),this.jG.addEventListener("ended",this.s7),this.jG.addEventListener("ratechange",this.n7),this.jG.addEventListener("volumechange",this.r7),this.jG.addEventListener("durationchange",this.o7),this.jG.addEventListener("resize",this.h7),this.jG.addEventListener("loadedmetadata",this.h7),this.jG.addEventListener("error",this.a7),this.jG.addEventListener("emptied",this.u7),this.jG.addEventListener("seeked",this.l7),this.jG.addEventListener("seeking",this.d7),io()?(this.$T.addEventListener("encrypted",this.f7),this.$T.addEventListener("waitingforkey",this._7)):void 0!==f.WebKitMediaKeys&&"function"==typeof f.WebKitMediaKeys.isTypeSupported?this.$T.addEventListener("webkitneedkey",this.v7):ro()?this.$T.addEventListener("webkitneedkey",this.m7):void 0!==f.MSMediaKeys&&"function"==typeof f.MSMediaKeys.isTypeSupported&&this.$T.addEventListener("msneedkey",this.g7)},i.q8=function(){this.jG.removeEventListener("play",this.Q8),this.jG.removeEventListener("pause",this.J8),this.jG.removeEventListener("timeupdate",this.t7),this.jG.removeEventListener("progress",this.e7),this.jG.removeEventListener("loadstart",this.i7),this.jG.removeEventListener("ended",this.s7),this.jG.removeEventListener("ratechange",this.n7),this.jG.removeEventListener("volumechange",this.r7),this.jG.removeEventListener("durationchange",this.o7),this.jG.removeEventListener("resize",this.h7),this.jG.removeEventListener("loadedmetadata",this.h7),this.jG.removeEventListener("error",this.a7),this.jG.removeEventListener("encrypted",this.f7),this.jG.removeEventListener("waitingforkey",this._7),this.jG.removeEventListener("webkitneedkey",this.v7),this.jG.removeEventListener("webkitneedkey",this.m7),this.jG.removeEventListener("msneedkey",this.g7),this.jG.removeEventListener("emptied",this.u7),this.jG.removeEventListener("seeked",this.l7),this.jG.removeEventListener("seeking",this.d7)},i.p7=function(){this.C9||(this.Uo=this.tI,this.C9=SN(this),this.q8(),this.C9.bn(AN,this.Ds))},i.w7=function(){if(this.C9){var t=this.C9;this.C9=void 0,this.B9.V4(),EN(this,t),t.Xw(),this.Z8()}},i.p8=function(){var t=this.ER;this._o(new yg(t,void 0)),this.U8=t},i.Zj=function(){this.N9||!this.PR||this.uI||(this.N9=!0,this._o(new AT(this.ER)))},i.BH=function(t){this.YG=t,this.e8(this.YG),this._o(new MN(this.YG))},i.A7=function(){this.b7||(AM(this.$T,qn.Ys),this.b7=!0)},i.S7=function(t){t.appendChild(this.$T)},i.n3=function(){SD&&this.B8(),this.B9.V4()},i.NI=function(){this.vJ.w9().catch(Si),this.S8.nr()},xt(n,[{key:"U4",get:function(){return this.R9}},{key:"wR",get:function(){return this.JG?this.JG.wR:BA.pB()}},{key:"bR",get:function(){var t=this.$G;if(t&&!E(t.getTime())){var n=1e3*this.ER;return new Date(t.getTime()+n)}}},{key:"$G",get:function(){if(this.jG.getStartDate)return this.cZ&&this.I9||(this.I9=this.jG.getStartDate()),this.I9}},{key:"ER",get:function(){return this.C9?this.C9.ER:void 0!==this.P9?this.P9:this.$T.currentTime}},{key:"Hu",get:function(){return this.Ku}},{key:"ct",get:function(){return this.C9?this.C9.ct:this.JG?this.JG.ct:this.$T.duration}},{key:"PR",get:function(){return this.uI?this.D9():this.C9?this.C9.PR:this.$T.ended||this.N9}},{key:"lt",get:function(){return this.YG}},{key:"jG",get:function(){return this.$T}},{key:"KR",get:function(){return this.M9?this.L9:this.C9?this.C9.KR:this.$T.paused}},{key:"tI",get:function(){return this.Uo.tB(BA.Cn(this.$T.played))}},{key:"Ti",get:function(){return this.$T.offsetHeight*qn.Ys.Kg}},{key:"ji",get:function(){return this.$T.offsetWidth*qn.Ys.Kg}},{key:"Sa",get:function(){return this.ea}},{key:"fH",get:function(){return this.ta}},{key:"rI",get:function(){return this.B9.rI}},{key:"hI",get:function(){return this.JG?this.JG.hI:BA.pB()}},{key:"uI",get:function(){return this.C9?this.C9.uI:this.cZ||this.$T.seeking&&!this.L4}},{key:"M4",get:function(){return this.C9?this.C9.M4:this.L4}},{key:"X4",get:function(){return 0!==this.O9}},{key:"ZR",get:function(){return this.C9?this.C9.ZR:this.$T.muted},set:function(t){this.C9?this.C9.ZR=t:(this.$T.muted=t,this.F9())}},{key:"QR",get:function(){return this.C9?this.C9.QR:void 0!==this.V9?this.V9:this.$T.playbackRate},set:function(t){this.C9?this.C9.QR=t:this.KR||this.R9?(this.V9=t,this.W9()):(this.V9=void 0,this.$T.playbackRate=t,this.W9())}},{key:"G9",get:function(){return this.hZ}},{key:"gI",get:function(){return this.C9?this.C9.gI:this.$T.volume},set:function(t){this.C9?this.C9.gI=t:(this.$T.volume=t,this.F9())}},{key:"nt",get:function(){return this.y8}},{key:"Wl",get:function(){return this.wZ}},{key:"WR",get:function(){return!!this.$T.webkitCurrentPlaybackTargetIsWireless}},{key:"y7",get:function(){return this.b7}},{key:"qB",get:function(){return ss({},WR)}},{key:"wH",get:function(){return this.vJ.wH},set:function(t){this.vJ.wH=t}},{key:"T7",get:function(){return this.o4},set:function(t){this.o4=t}},{key:"h9",get:function(){return this.vJ.h9}},{key:"AI",get:function(){return this.G8},set:function(t){this.G8=t,this.H8&&!this.G8&&(this.H8=!1,this.Z8())}}]),n}(aa);var CD=.01;function ND(t,n){for(var i=0,r=t.lC;i<r.length;i++){var e=r[i];if(e.PO===n)return e}}function xD(t){return!!t.cues&&t.cues.length>0}U(),St(),Dt(),Ct();var DD={WQ:void 0,UQ:void 0,GQ:void 0,HQ:void 0,ZQ:void 0,XQ:void 0,zQ:void 0,qQ:void 0,YQ:void 0,KQ:void 0},PD=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).eu=void 0,n}return Rt(n,t),xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=BR(this)),this.eu}},{key:"WQ",get:function(){}},{key:"UQ",get:function(){}},{key:"GQ",get:function(){}},{key:"HQ",get:function(){}},{key:"ZQ",get:function(){}},{key:"XQ",get:function(){}},{key:"I7",get:function(){}},{key:"zQ",get:function(){}},{key:"qQ",get:function(){}},{key:"YQ",get:function(){}},{key:"KQ",get:function(){}}]),n}(aa),MD=function(t){function n(n,i,r){return t.call(this,n,i,r,new PD)||this}return Rt(n,t),n.prototype.TI=function(){},xt(n,[{key:"dI",get:function(){return 0}},{key:"vI",get:function(){return 0}}]),n}(RD);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt();var BD=function(){function t(t){void 0===t&&(t=5);var n=f.document.createElement("div");n.className="theoplayer-texttracks",n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.C7=n,this.ge()}var n=t.prototype;return n.be=function(){this.C7.style.display="none"},n.ge=function(){this.C7.style.display="block"},n.S7=function(t){t.appendChild(this.C7)},n.yn=function(){ai(this.C7)},xt(t,[{key:"we",get:function(){return this.C7}}]),t}();function OD(t,n){return ss({},n,Vg(function(t){return{WQ:t.WQ,UQ:t.UQ,GQ:t.GQ,HQ:t.HQ,ZQ:t.ZQ,XQ:t.XQ,zQ:t.zQ,qQ:t.qQ,YQ:t.YQ,KQ:t.KQ}}(t)))}function LD(t){return t.GQ&&Gs(t.GQ,"%")?Number(t.GQ.replace("%",""))/100:t.GQ&&Gs(t.GQ,"em")?Number(t.GQ.replace("em","")):1}U(),St(),Dt(),U(),St(),Ct(),rn(),Wt(),U(),St(),Dt(),U(),St(),U(),St(),Dt();var FD=function(){function t(t,n,i,r){this.D7=t,this.M7=n,this.ji=i,this.Ti=r}var n=t.prototype;return n.L7=function(t){return this.D7<t.P7&&this.P7>t.D7&&this.M7<t.N7&&this.N7>t.M7},n.EO=function(t){return this.D7<=t.D7&&t.P7<=this.P7&&this.M7<=t.M7&&t.N7<=this.N7},n.Ib=function(){return new t(this.D7,this.M7,this.ji,this.Ti)},n.B7=function(n){return new t(this.D7+n,this.M7+n,A.max(0,this.ji-2*n),A.max(0,this.Ti-2*n))},n.O7=function(n){var i=A.min(this.D7,n.D7),r=A.max(this.P7,n.P7),e=A.min(this.M7,n.M7);return new t(i,e,r-i,A.max(this.N7,n.N7)-e)},xt(t,[{key:"P7",get:function(){return this.D7+this.ji},set:function(t){this.D7=t-this.ji}},{key:"N7",get:function(){return this.M7+this.Ti},set:function(t){this.M7=t-this.Ti}}]),t}(),VD=function(){function t(t,n,i,r,e){var u=this;this.J7=cs(),this.mtt=!0,this.Z7=ss({},DD),this.ptt=[],this.ttt=function(t){return u._W(t.FO)},this.ett=function(t){return u.sW(t.FO)},this.itt=function(){return u.dtt()},this.ott=function(t){return u.ctt(t.FO)},this.htt=function(t){return u.ltt(t.FO)},this.att=function(t){return u.gtt(t.FO)},this.z7=function(t){return u.re(t.width,t.height)},this.QO=t,this.Y7=this.G7=e,this.$T=this.Stt(i),this.Ku=r,n.appendChild(this.$T)}var n=t.prototype;return n.F7=function(t){var n=this.V7(t);if(!n)return!1;for(var i=0;i<n.length;i++){ai(n[i])}return this.W7(t),!0},n.xj=function(){var t=this;this.X7(),this.QO.L.lC.forEach((function(n){return t._W(n)})),this.Hu.bn(wI.mn,this.z7),this.re(this.Hu.Au,this.Hu.Eu)},n.q7=function(t){this.Z7=t,this.G7=OD(this.Z7,this.Y7),this.G7.WQ&&(this.jG.style.fontFamily=this.G7.WQ),this.re(this.Hu.Au,this.Hu.Eu),this.K7(!0)},n.j7=function(){return this.G7},n.Q7=function(t){return this.J7.has(t.IC)},n.X7=function(){this.QO.bn(Cg.HI,this.ttt),this.QO.bn(Cg.XI,this.ett),this.QO.bn(Cg.da,this.itt)},n.stt=function(){this.QO.vn(Cg.HI,this.ttt),this.QO.vn(Cg.XI,this.ett),this.QO.vn(Cg.da,this.itt)},n.ntt=function(t){t.bn(Vm.rO,this.ott),t.bn(Vm.oO,this.htt),t.bn(Vm.oC,this.att)},n.utt=function(t){t.vn(Vm.rO,this.ott),t.vn(Vm.oO,this.htt),t.vn(Vm.oC,this.att)},n._W=function(t){this.ntt(t),t.so&&this.ctt(t)},n.sW=function(t){this.utt(t),this.ltt(t)},n.dtt=function(){this.QO.CE===Hp.Qn?this.ftt():this._tt()},n.ftt=function(){if(this.mtt){this.mtt=!1;var t=this.Hu.Au,n=this.Hu.Eu;this.re(t,n),this.K7(!1)}},n._tt=function(){this.mtt||(this.mtt=!0,this.K7(!0))},n.ctt=function(t){this.mtt||t.so&&!this.Q7(t)&&this.K7(!1)},n.ltt=function(t){this.Q7(t)&&this.K7(!0)},n.gtt=function(t){(t.so||this.Q7(t))&&this.K7(!0)},n.K7=function(t){var n=this.ptt,i=this.mtt?[]:this.QO.q.lC.slice();this.wtt(i,n,t),this.ptt=i},n.V7=function(t){return this.J7.get(t.IC)},n.ytt=function(t,n){this.J7.set(t.IC,n)},n.W7=function(t){this.J7.delete(t.IC)},n.btt=function(t){var n=[],i=this.G7;if(void 0!==i.zQ){var r=t.Ib();r.Ti=i.zQ,n.push(r)}if(void 0!==i.qQ){var e=t.Ib();e.Ti=i.qQ,e.N7=t.N7,n.push(e)}return n},n.Att=function(){return this.ptt.slice()},n.yn=function(){var t=this;ai(this.jG),this.J7.clear(),this.stt(),this.QO.L.lC.forEach((function(n){return t.utt(n)})),this.Hu.vn(wI.mn,this.z7)},xt(t,[{key:"Ht",get:function(){return this.QO}},{key:"jG",get:function(){return this.$T}},{key:"Hu",get:function(){return this.Ku}},{key:"U7",get:function(){return this.G7}},{key:"H7",get:function(){return this.Z7}}]),t}();function UD(t,n,i,r,e){var u=t.Ib(),s=u,o=1,a=!1,c=S(getComputedStyle(n).lineHeight)/4;if(!E(c)&&c>0){for(var h=0;h<i.length&&!a;h++){for(;!GD(t,r,i[h],.01)&&(!r.EO(t)||WD(t,e));)XD(t,i[h],c);if(r.EO(t)){s=t.Ib(),a=!0;break}var f=HD(t,r);o>f&&(s=t.Ib(),o=f),t=u.Ib()}r.EO(t)||(s=u.Ib())}n.style.left=(s.D7-r.D7)/r.ji*100+"%",n.style.top=(s.M7-r.M7)/r.Ti*100+"%"}function WD(t,n){return n.some((function(n){return t.L7(n)}))}function jD(t){return new FD(t.left,t.top,t.width,t.height)}var ZD=function(t){return t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y",t}({});function XD(t,n,i){switch(n){case 0:t.D7+=i;break;case 1:t.D7-=i;break;case 2:t.M7+=i;break;case 3:t.M7-=i}}function GD(t,n,i,r){switch(i){case 0:return t.P7>n.P7+r;case 1:return t.D7<n.D7-r;case 2:return t.N7>n.N7+r;case 3:return t.M7<n.M7-r}}function HD(t,n){return A.max(0,A.min(t.P7,n.P7)-A.max(t.D7,n.D7))*A.max(0,A.min(t.N7,n.N7)-A.max(t.M7,n.M7))/(t.ji*t.Ti)}U(),St();var zD=function(t){return t.Yc='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.Kc='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.Zc='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.tl='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif',t}({});function YD(t,n){return t?{Ttt:t.Ttt,ktt:t.ktt,Ett:t.Ett,Fl:n}:null}function KD(t){var n=t?t.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i):null;return n?{Ttt:T(n[1],16),ktt:T(n[2],16),Ett:T(n[3],16)}:null}function qD(t){return("0"+t.toString(16)).slice(-2)}function JD(t){var n=t?t.match(/^rgba\(([0-9]+),\s*([0-9]+),\s*([0-9]+),\s*([0-9.]+)\)$/i):null;return n?{Ttt:T(n[1],10),ktt:T(n[2],10),Ett:T(n[3],10),Fl:S(n[4])}:null}var QD=function(t){return t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent",t}({});function $D(t){return tP[t||"none"]}var tP={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},nP="monospace, sans-serif",iP="Arial, Helvetica, sans-serif",rP='"Times New Roman", Times, serif',eP=hs({monospace:"monospace",sansSerif:iP,serif:rP,monospaceSansSerif:nP,monospaceSerif:"monospace, serif",proportionalSansSerif:iP,proportionalSerif:rP,default:nP}),uP=16,sP="1.3em",oP=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,DD)||this}Rt(n,t);var i=n.prototype;return i.Stt=function(t){var n=v.createElement("div");n.className="theoplayer-ttml-texttrack-"+t;var i=n.style;return i.position="absolute",yi(i,"flex"),i.flexDirection=i.webkitFlexDirection="column",i.overflow="hidden",i.pointerEvents="none",i.top="0",i.left="0",i.width="100%",i.height="100%",i.fontSize=uP+"px",i.lineHeight=sP,n},i.re=function(t,n){var i=A.min(t/640,n/360),r=uP*i*LD(this.U7);this.jG.style.fontSize=r+"px"},i.wtt=function(t,n,i){for(var r,e=0;e<n.length;e++){var u=n[e];!i&&u.so||this.F7(u)}var s=[],o=jD(this.jG.getBoundingClientRect());(r=s).push.apply(r,Ut(this.btt(o)));for(var a=0;a<t.length;a++)for(var c=t[a],h=this.xtt(c,s,o),f=0;f<h.length;f++){var v=h[f];s.push(v.B7(.1))}},i.xtt=function(t,n,i){var r=this.V7(t);r||(r=this.Rtt(t),this.ytt(t,r));for(var e=0;e<r.length;e++){var u=r[e];this.jG.appendChild(u)}for(var s=[],o=[ZD.POS_Y,ZD.NEG_Y,ZD.POS_X,ZD.NEG_X],a=0;a<r.length;a++){var c=r[a];UD(_P(c),c,o,i,n),s.push(_P(c))}return s},i.Rtt=function(t){var n=[],i=t.ZV,r=t.OV,e=t.qV,u=t.U,s=t.GV,o=s?A.min(640/s.width,360/s.height):1,a=this.U7;if(0===k.keys(r).length){var c=v.createElement("div");pP(c),aP(u,i,e,c,c,o,a),cP(c,"body",a),c.firstChild&&n.push(c)}else for(var h=0,f=k.keys(r);h<f.length;h++){var l=f[h],d=v.createElement("div");d.id=l,pP(d),vP(d,"region",r[l],i,o),aP(u,i,e,d,d,o,a),cP(d,"body",a),d.firstChild&&n.push(d)}return n},i.q7=function(n){return VR(this.jG,n),t.prototype.q7.call(this,n)},n}(VD);function aP(t,n,i,r,e,u,s){if(eg(t)&&function(t){var n=t.Cx.toUpperCase();return"SPAN"===n||"P"===n||"BR"===n||"DIV"===n||"BODY"===n}(t)){var o=hP(t);if(!o||(null==e?void 0:e.id)===o){var a;if("BODY"===t.Cx.toUpperCase())a=e;else{if(a=function(t){var n;switch(t.Cx.toUpperCase()){case"BR":n=v.createElement("br");break;case"SPAN":yP(n=v.createElement("span")),fP(n,t);break;case"P":(function(t){yP(t);var n=t.style;n.textAlign="inherit",n.padding="0",n.margin="0"})(n=v.createElement("p")),fP(n,t);break;case"DIV":fP(n=v.createElement("div"),t)}return n}(t),!a)return;r.appendChild(a)}!function(t,n,i,r,e){var u=n.qx("style");gP(t,n.Cx,u,i,r,e),function(t,n,i,r){for(var e=0,u=n.Xx;e<u.length;e++){var s=u[e];mP(t,n.Cx,s.Cx,s.Mx,i,r)}}(t,n,r,e)}(a,t,n,e,u),function(t,n,i){var r=null==n?void 0:n.qx("smpte:backgroundImage");if(r){r=r.replace("#","");var e=i&&lP(i,(function(t){return t.Xx.some((function(t){return"id"===t.Cx&&t.Mx===r}))}));e&&dP(t,e,n,!0)}!function(t,n){var i=n.m[0];if(!i||"metadata"!==i.Cx.toLowerCase())return;var r=i.m[0];dP(t,r,n)}(t,n)}(a,t,i),cP(a,t.Cx,s);for(var c=0,h=t.Ox;c<h.length;c++){aP(h[c],n,i,a,e,u,s)}}}else if(ug(t)){var f=v.createTextNode(t.Kk);if("SPAN"!==r.nodeName.toUpperCase()){var l=v.createElement("span");yP(l),cP(l,"span",s),l.appendChild(f),r.appendChild(l)}else r.appendChild(f)}}function cP(t,n,i){var r=t.style;switch(i.WQ&&(r.fontFamily=i.WQ),i.UQ&&(r.color=i.UQ),n.toLowerCase()){case"span":i.HQ&&(r.background=i.HQ);break;case"p":case"div":i.ZQ&&(r.backgroundColor=i.ZQ);break;case"body":i.XQ&&(r.textShadow=$D(i.XQ))}}function hP(t){var n=t.qx("region");if("p"===t.Cx.toLowerCase())return n;for(var i,r=[],e=0,u=t.m;e<u.length;e++){var s=u[e];r.push(hP(s))}return Po(r),0===r.length?n:1===r.length?null!=(i=r[0])?i:n:void 0}function fP(t,n){var i=n.Yx(Ip,"id");i&&(t.id=i)}function vP(t,n,i,r,e){gP(t,n,i.style,r,t,e);for(var u=0,s=k.keys(i);u<s.length;u++){var o=s[u];mP(t,n,o,i[o],t,e)}}function lP(t,n){if(n(t))return t;for(var i=0,r=t.m;i<r.length;i++){var e=lP(r[i],n);if(e)return e}return null}function dP(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e=v.createElement("img");e.src=function(t){var n=t&&t.Ox.length>0?t.Ox[0]:null;return n&&ug(n)?"data:image/png;base64,"+n.Kk:""}(n),e.id=t.id,e.style.height="100%",e.style.maxWidth="100%",function(t,n){var i=t.style;yi(i,"flex"),i.flexDirection=i.webkitFlexDirection="column";var r=n.qx("smpte:backgroundImageVertical"),e="center";if(r)switch(r.toLowerCase()){case"left":e="flex-start";break;case"center":e="center";break;case"right":e="flex-end";break;case"inherit":e="inherit"}i.justifyContent=i.webkitJustifyContent=e;var u=n.qx("smpte:backgroundImageHorizontal"),s="center";if(u)switch(u.toLowerCase()){case"left":s="flex-start";break;case"center":s="center";break;case"right":s="flex-end";break;case"inherit":s="inherit"}i.alignItems=i.webkitAlignItems=s}(t,i),t.appendChild(e)}function gP(t,n,i,r,e,u){if(i)for(var s=0,o=i.split(" ");s<o.length;s++){var a=o[s];if(r[a])for(var c=0,h=k.keys(r[a]);c<h.length;c++){var f=h[c];"style"===f.toLowerCase()?gP(t,n,r[a][f],r,e,u):mP(t,n,f,r[a][f],e,u)}}}function mP(t,n,i,r,e,u){var s=t.style;switch(i){case"backgroundColor":s.backgroundColor=r;break;case"color":s.color=r;break;case"direction":s.direction=r;break;case"display":"none"===r&&(s.display="none");break;case"fontFamily":var o;s.fontFamily=null!=(o=eP.get(r))?o:r;break;case"fontSize":var a=r;if(Gs(a,"px")){var c=Number(a.slice(0,-2));a=c*u/uP+"em"}else Gs(a,"c")&&(a=a.replace("c","em"));s.fontSize=a,s.lineHeight&&"inherit"!==s.lineHeight||(s.lineHeight=sP);break;case"fontStyle":s.fontStyle=r;break;case"fontWeight":s.fontWeight=r;break;case"lineHeight":var h=r;if(Gs(h,"px")){var f=Number(h.slice(0,-2));h=f*u+"px"}s.lineHeight=h;break;case"opacity":s.opacity=r;break;case"overflow":s.overflow=r;break;case"padding":s.padding=r;break;case"textAlign":s.textAlign=r;break;case"textDecoration":switch(r){case"lineThrough":s.textDecoration="line-through";break;case"underline":case"overline":s.textDecoration=r;break;case"noUnderline":case"noLineThrough":case"noOverline":s.textDecoration="none"}break;case"unicodeBidi":switch(r){case"bidiOverride":s.unicodeBidi="bidi-override";break;case"normal":case"embed":case"isolate":s.unicodeBidi=r}break;case"visibility":s.visibility=r;break;case"zIndex":s.zIndex=r;break;case"displayAlign":var v;switch(r.toLowerCase()){case"before":v="flex-start";break;case"center":v="center";break;case"after":v="flex-end";break;case"justify":v="space-between";break;default:return}s.justifyContent=s.webkitJustifyContent=v;break;case"extent":var l,d,g=wP(n.toLowerCase())?e:t,m=r.split(" ",2);2===m.length?(l=m[0],d=m[1]):l=d="100%",g&&(g.style.height=d,g.style.width=l);break;case"origin":var w=wP(n.toLowerCase())?e:t,p=nn(r.split(" ",2),2),y=p[0],_=p[1];w&&(y||_)&&(y&&(w.style.left=y),_&&(w.style.top=_));break;case"showBackground":case"textOutline":break;case"wrapOption":switch(r){case"wrap":s.whiteSpace="normal";break;case"noWrap":s.whiteSpace="nowrap"}break;case"writingMode":var b,k,A,T;switch(r){case"lrtb":case"lr":b="horizontal-tb";break;case"rltb":b="horizontal-tb",k="rtl",T="bidi-override";break;case"tbrl":case"tb":b="vertical-rl",A="upright";break;case"tblr":b="vertical-lr",A="upright";break;case"rl":b="horizontal-tb",k="rtl";break;default:return}s.writingMode=b,s.setProperty("-webkit-writing-mode",b),k&&(s.direction=k),A&&(s.textOrientation=A,s.setProperty("-webkit-text-orientation",A)),T&&(s.unicodeBidi=T);break;case"linePadding":if(Gs(r,"c")){var S=r.replace("c","em");s.paddingLeft=s.paddingRight=S}break;case"multiRowAlign":"auto"===r.toLowerCase()?s.textAlign="":s.textAlign=r}}function wP(t){return"div"===t||"p"===t||"span"===t}function pP(t){var n=t.style;yi(n,"flex"),n.flexDirection=n.webkitFlexDirection="column",n.top="auto",n.left="5%",n.width="90%",n.height="100%",n.maxHeight="100%",n.maxWidth="100%",n.overflow="visible",n.position="absolute",n.fontFamily=iP,n.color=QD.WHITE,n.background=QD.TRANSPARENT,n.textShadow=$D("uniform"),n.textAlign="start",n.writingMode="horizontal-tb",n.setProperty("-webkit-writing-mode","horizontal-tb"),n.padding="0",n.margin="0",n.fontSize="inherit",n.lineHeight="inherit"}function yP(t){var n=t.style;n.fontFamily="inherit",n.color="inherit",n.fontSize="inherit",n.lineHeight="inherit",n.textShadow="inherit"}function _P(t){var n=jD(t.getBoundingClientRect());if("visible"===getComputedStyle(t).overflow&&t.scrollHeight>t.clientHeight)for(var i=t.children,r=0;r<i.length;r++){var e=i[r];n=n.O7(jD(e.getBoundingClientRect()))}return n}U(),St(),Ct(),rn(),Wt(),U(),St();var bP=void 0;function kP(t){return bP||(bP=f.document.createElement("textarea")),bP.innerHTML=t,bP.value}function AP(t,n){for(var i="Data",r="",e=[],u=t.charAt(n.nc),s="",o={Tw:"starttag",Ux:"",Itt:[]};n.nc<t.length+1;){switch(u=n.nc<t.length?t.charAt(n.nc):"EOF",i){case"Data":switch(u){case"&":var a=t.substring(n.nc).match(/&#?[0-9a-zA-Z]+;/);a?(r+=kP(a[0]),n.xb(a[0].length-1)):r+="&";break;case"<":if(r)return{Tw:"string",U:r};i="Tag";break;case"EOF":return{Tw:"string",U:r};default:r+=u}break;case"Tag":switch(u){case"\t":case"\n":case"\f":case" ":i="StartTagAnnotation";break;case".":i="StartTagClass";break;case"/":i="EndTag";break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,i="TimestampTag";break;case">":return n.xb(1),o;case"EOF":return o;default:r=u,i="StartTag"}break;case"StartTag":switch(u){case"\t":case"\f":case" ":i="StartTagAnnotation";break;case"\n":s=u,i="StartTagAnnotation";break;case".":i="StartTagClass";break;case">":return n.xb(1),{Tw:"starttag",Ux:r,Itt:[]};case"EOF":return{Tw:"starttag",Ux:r,Itt:[]};default:r+=u}break;case"StartTagClass":switch(u){case"\t":case"\f":case" ":e.push(s),s="",i="StartTagAnnotation";break;case"\n":e.push(s),s=u,i="StartTagAnnotation";break;case".":e.push(s),s="";break;case">":return n.xb(1),e.push(s),{Tw:"starttag",Ux:r,Itt:e};case"EOF":return e.push(s),{Tw:"starttag",Ux:r,Itt:e};default:s+=u}break;case"StartTagAnnotation":switch(u){case"&":i="CharRefInAnnotation";break;case">":n.xb(1);var c=s.trim();return{Tw:"starttag",Ux:r,Itt:e,Ctt:c=c.replace(/\s/," ")};default:s+=u}break;case"CharRefInAnnotation":for(var h="",f=n.nc;">"===t.charAt(f);f++)h+=t.charAt(f);s+=h||"&",i="StartTagAnnotation";break;case"EndTag":switch(u){case">":return n.xb(1),{Tw:"endtag",Ux:r};case"EOF":return{Tw:"endtag",Ux:r};default:r+=u}break;case"TimestampTag":switch(u){case">":return n.xb(1),{Tw:"timestamp",Ptt:r};case"EOF":return{Tw:"timestamp",Ptt:r};default:r+=u}}n.xb(1)}return o}var TP=function(t){return t.Dtt="string",t.Ntt="starttag",t.Mtt="endtag",t.Ltt="timestamp",t}({});function SP(t){var n;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=v.documentElement,r=v.body,e=i.clientLeft||r.clientLeft||0,u=f.pageXOffset||r.scrollLeft,s=n.left+u-e,o=i.clientTop||r.clientTop||0,a=f.pageYOffset||r.scrollTop,c=n.top+a-o;return{left:A.round(s),top:A.round(c)}}function EP(t,n,i,r){if(void 0===r&&(r=0),t&&n){t.style.left="0px";var e=t.getClientRects(),u=n.getClientRects();if(0!==e.length&&0!==u.length){var s=e[0],o=u[0],a=s.width/2+s.left;IP(t,o.width/2+o.left-a,i,r)}}}function IP(t,n,i,r){void 0===r&&(r=0),RP(t,n,"left","right",i,r)}function RP(t,n,i,r,e,u){void 0===u&&(u=0);var s=t.getClientRects();if(e&&s.length>0){var o=s[0];n=hr(n,e[i]+u-o[i],e[r]-u-o[r])}t.style[i]=n+"px"}function CP(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}U(),St();var NP={UQ:QD.WHITE,WQ:"sans-serif",GQ:"100%",HQ:"rgba(0,0,0,0.8)",ZQ:QD.TRANSPARENT,XQ:"none",zQ:void 0,qQ:void 0,YQ:void 0,KQ:void 0},xP="theoplayer-webvtt-region-",DP="theoplayer-webvtt-styling-",PP="theoplayer-webvtt-default-style",MP=5.23,BP=1.14,OP=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,NP)||this).Vtt=as(),u.Ftt=jP(3),u}Rt(n,t);var i=n.prototype;return i.Stt=function(t){var n=v.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,bi(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.U7.WQ;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(v.getElementById(PP))return;for(var t=[],n=0;n<GP.length;n++){var i=nn(GP[n],2),r=i[0],e=i[1];t.push("."+DP+r+" { color: "+e+" !important; }"),t.push("."+DP+"Btt"+r+" { background-color: "+e+" !important; }"),t.push("video::cue(."+r+") { color: "+e+"; }"),t.push("Ott"+r+") { background-color: "+e+"; }")}var u=v.createElement("style");u.id=PP,u.innerHTML=t.join("\n"),v.body.appendChild(u)}(),n},i.xj=function(){this.jG.appendChild(this.Ftt),t.prototype.xj.call(this)},i.re=function(t,n){var i=this,r=A.min(t/100,n/100),e=LD(this.U7);this.Vtt.forEach((function(t){var n=t.zO,u=t.Wtt;i.Utt(u,r,e,n)})),this.Utt(this.Ftt,r,e)},i.q7=function(n){VR(this.jG,n),t.prototype.q7.call(this,n)},i.wtt=function(t,n,i){for(var r,e=this,u=this.jG,s=this.Hu.Eu/100,o=[],a=0;a<t.length;a++){var c=t[a];void 0!==c.zO&&(To(o,c.zO)||o.push(c.zO))}this.Vtt.forEach((function(t,n){var r=t.zO,u=t.Wtt;!i&&To(o,r)||(ai(u),e.Vtt.delete(n))}));for(var h=0;h<n.length;h++){var f=n[h];!i&&f.so||this.F7(f)}var v=[],l=jD(this.Ftt.getBoundingClientRect());(r=v).push.apply(r,Ut(this.btt(l)));for(var d=0;d<o.length;d++){var g=o[d],m=void 0;this.Vtt.has(g.o)?m=this.Vtt.get(g.o).Wtt:(m=ZP(g,s),u.appendChild(m),this.Vtt.set(g.o,{zO:g,Wtt:m})),v.push(jD(m.getBoundingClientRect()))}t.sort(HP);for(var w=0;w<t.length;w++){var p=t[w],y=this.xtt(p,v,l);void 0!==y&&v.push(y.B7(.1))}},i.xtt=function(t,n,i){var r,e;t.zO?(e=this.Vtt.get(t.zO.o).Wtt,"up"===t.zO.cF&&e.children.length>=1&&(e.style.transitionProperty="top",e.style.transitionDuration="0.433s")):e=this.Ftt;var u=null==(r=this.V7(t))?void 0:r[0];if(u||(u=this.Gtt(t),this.ytt(t,[u])),e.appendChild(u),t.zO||(LP(u,t),t.qO?function(t,n,i,r){var e=XP(t),u=e?i.Ti:i.ji,s=S(getComputedStyle(n).lineHeight);if(0===s||E(s))return;var o=jD(n.getBoundingClientRect()),a=A.round(tw(t));"rl"===t.Pt&&(a=-(a+1));var c=s*a;"rl"===t.Pt&&(c=c-o.ji+s);a<0&&(c+=u,s=-s);e?o.M7+=c:o.D7+=c;var h=o.Ib(),f=!1;for(;!i.EO(o)||WD(o,r);)if(e)if(s<0&&o.M7<i.M7||s>0&&o.N7>i.N7){if(o.M7=h.M7,f)break;s=-s,f=!0}else o.M7+=s;else if(s<0&&o.D7<i.D7||s>0&&o.P7>i.P7){if(o.D7=h.D7,f)break;s=-s,f=!0}else o.D7+=s;e?n.style.top=(o.M7-i.M7)/i.Ti*100+"%":n.style.left=(o.D7-i.D7)/i.ji*100+"%"}(t,u,i,n):function(t,n,i,r){var e,u=jD(n.getBoundingClientRect());if(0===u.ji||0===u.Ti)return;XP(t)?"center"===t.ZO?u.M7-=u.Ti/2:"end"===t.ZO&&(u.M7-=u.Ti):"center"===t.ZO?u.D7-=u.ji/2:"end"===t.ZO&&(u.D7-=u.ji);e=""===t.Pt?[ZD.POS_Y,ZD.NEG_Y,ZD.POS_X,ZD.NEG_X]:"lr"===t.Pt?[ZD.POS_X,ZD.NEG_X,ZD.POS_Y,ZD.NEG_Y]:[ZD.NEG_X,ZD.POS_X,ZD.POS_Y,ZD.NEG_Y];UD(u,n,e,i,r)}(t,u,i,n)),!t.zO)return jD(u.getBoundingClientRect())},i.Gtt=function(t){for(var n=new Pc,i=t.U,r=this.Htt(t),e={Ztt:void 0,we:r},u=e,s="",o="",a=[e],c=[],h=[];n.nc<i.length;){var f=AP(i,n);if(f.Tw===TP.Dtt){var l=v.createElement("span");CP(l,f.U),FP(l,a),""!==s&&(l.lang=s),this.Xtt(l,o),u.we.appendChild(l)}else if(f.Tw===TP.Ntt){var d=f.Ux.toLowerCase();switch(d){case"i":case"b":case"u":case"ruby":var g=v.createElement(d);u.we.appendChild(g),u={Ztt:f,we:g},a.push(u);break;case"rt":var m;if("ruby"===(null==(m=u.Ztt)?void 0:m.Ux.toLowerCase())){var w=v.createElement("rt");u.we.appendChild(w),u={Ztt:f,we:w},a.push(u)}break;case"c":case"v":u={Ztt:f,we:u.we},a.push(u);break;case"font":var p,y=null==(p=f.Ctt)?void 0:p.match(/(?:^| )color=["']([^"']+)/i);y&&(o=y[1],h.push(o),u={Ztt:f,we:u.we},a.push(u));break;case"lang":var _;s=null!=(_=f.Ctt)?_:"",c.push(s)}}else if(f.Tw===TP.Mtt){var b,k=f.Ux.toLowerCase(),A=null==(b=u.Ztt)?void 0:b.Ux.toLowerCase();A===k?(a.pop(),u=a[a.length-1],"font"===k&&(h.pop(),o=h.length>0?h[h.length-1]:"")):"rt"===A&&"ruby"===k?(a.pop(),a.pop(),u=a[a.length-1]):"lang"===k&&(c.pop(),s=c.length>0?c[c.length-1]:"")}else if(f.Tw===TP.Ltt){var T=f.Ptt,S=new Pc;try{Hw(T,S)}catch(t){$r("ERROR collecting timestamp",t)}}}return r},i.Xtt=function(t,n){var i=this.U7,r=this.H7;i.HQ&&(t.style.background=i.HQ);var e=r.UQ||n||i.UQ;e&&(t.style.color=e)},i.Utt=function(t,n,i,r){if(r){var e=VP(r,n);t.style.height=e*i+"px",t.style.left=UP(r)+"%",t.style.top=WP(r,n)+"px"}t.style.fontSize=MP*n*i+"px"},i.Htt=function(t){var n=v.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.GO,function(t,n){"rl"===n.Pt?t.style.writingMode="vertical-rl":"lr"===n.Pt?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=rw(n);XP(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),LP(n,t);var i=this.U7.ZQ;i&&(n.style.background=i);var r=this.U7.UQ;return r&&(n.style.color=r),n.style.textShadow=$D(this.U7.XQ),n},n}(VD);function LP(t,n){var i,r,e=iw(n),u=nw(n),s=rw(n);if(XP(n)){switch(e){case"line-left":i=u;break;case"center":i=u-s/2;break;case"line-right":i=u-s}r=n.qO?0:tw(n)}else{switch(e){case"line-left":r=u;break;case"center":r=u-s/2;break;case"line-right":r=u-s}i=n.qO?0:tw(n)}t.style.left=i+"%",t.style.top=r+"%"}function FP(t,n){for(var i=0;i<n.length;i++){var r=n[i];if(r.Ztt){for(var e=0,u=r.Ztt.Itt;e<u.length;e++){var s=u[e];gi(t,DP+s)}"v"===r.Ztt.Ux.toLowerCase()&&r.Ztt.Ctt&&gi(t,"theoplayer-webvtt-voice-"+r.Ztt.Ctt)}}}function VP(t,n){return t.hF*(MP*n)*BP}function UP(t){return t.lF-t.aF*t.ji/100}function WP(t,n){var i=t.dF,r=t.uF*VP(t,n)/100;return A.max(0,i-r)}function jP(t){var n=v.createElement("div");return n.className=xP+"default",bi(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=MP*t+"px",n.style.lineHeight=BP+"em",n}function ZP(t,n){var i=jP(n);i.className=xP+t.o;var r=t.ji,e=VP(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=UP(t)+"%",i.style.right="",i.style.top=WP(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function XP(t){return""===t.Pt}var GP=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];function HP(t,n){var i=tw(t),r=tw(n),e=zP(i,t.qO),u=zP(r,n.qO);return e&&u?i-r||ON(n,t)||n.IC-t.IC:ON(t,n)||t.IC-n.IC}function zP(t,n){return n?t<0?t>-8:t>8:t>50}U(),St(),Dt(),Ct(),U(),St(),Dt(),U(),St();var YP=function(t){return t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics",t}({}),KP={UQ:QD.WHITE,WQ:zD.Zc,GQ:"100%",HQ:QD.BLACK,ZQ:"transparent",XQ:"none",ztt:"regular",zQ:void 0,qQ:void 0,YQ:void 0,KQ:void 0},qP=[{qtt:QD.WHITE,ztt:"regular",Ytt:0},{qtt:QD.WHITE,ztt:"underline",Ytt:0},{qtt:QD.GREEN,ztt:"regular",Ytt:0},{qtt:QD.GREEN,ztt:"underline",Ytt:0},{qtt:QD.BLUE,ztt:"regular",Ytt:0},{qtt:QD.BLUE,ztt:"underline",Ytt:0},{qtt:QD.CYAN,ztt:"regular",Ytt:0},{qtt:QD.CYAN,ztt:"underline",Ytt:0},{qtt:QD.RED,ztt:"regular",Ytt:0},{qtt:QD.RED,ztt:"underline",Ytt:0},{qtt:QD.YELLOW,ztt:"regular",Ytt:0},{qtt:QD.YELLOW,ztt:"underline",Ytt:0},{qtt:QD.MAGENTA,ztt:"regular",Ytt:0},{qtt:QD.MAGENTA,ztt:"underline",Ytt:0},{qtt:QD.WHITE,ztt:"italics",Ytt:0},{qtt:QD.WHITE,ztt:"underline-italics",Ytt:0},{qtt:QD.WHITE,ztt:"regular",Ytt:0},{qtt:QD.WHITE,ztt:"underline",Ytt:0},{qtt:QD.WHITE,ztt:"regular",Ytt:4},{qtt:QD.WHITE,ztt:"underline",Ytt:4},{qtt:QD.WHITE,ztt:"regular",Ytt:8},{qtt:QD.WHITE,ztt:"underline",Ytt:8},{qtt:QD.WHITE,ztt:"regular",Ytt:12},{qtt:QD.WHITE,ztt:"underline",Ytt:12},{qtt:QD.WHITE,ztt:"regular",Ytt:16},{qtt:QD.WHITE,ztt:"underline",Ytt:16},{qtt:QD.WHITE,ztt:"regular",Ytt:20},{qtt:QD.WHITE,ztt:"underline",Ytt:20},{qtt:QD.WHITE,ztt:"regular",Ytt:24},{qtt:QD.WHITE,ztt:"underline",Ytt:24},{qtt:QD.WHITE,ztt:"regular",Ytt:28},{qtt:QD.WHITE,ztt:"underline",Ytt:28}],JP=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function QP(t,n){return yw(t.Ktt,n.Ktt)||ho(t.sL,n.sL)}U(),St(),rn();var $P=32,tM=/CC([1-4])=(.*)/;function nM(t){if(!t)return[];var n=[],i=t.trim().split(";");if(i.every((function(t){return t.match(tM)})))for(var r=0;r<i.length;r++){var e=nn(i[r].match(tM),3),u=e[1],s=e[2];n.push({jtt:Number(u),Qtt:s})}else for(var o=0;o<i.length;o++)n.push({jtt:o+1,Qtt:i[o]});return n}var iM=function(){function t(t,n,i){this.tet=t,this.det=n,this.G7=i}var n=t.prototype;return n.br=function(){return this.het=this.aet(),this.uet(),this.cet(),this.het},n.aet=function(){var t=v.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.net/$P*this.det.let*100+"%",t.style.height=1.2*this.ret+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.det.fet?"calc(1em - 1ch)":"";var n=this.G7.WQ;n&&(t.style.fontFamily=n);var i=this.G7.ZQ;return i&&(t.style.backgroundColor=i),t},n.uet=function(){if(this.het){var t=this.Jtt.oet/15*100,n=this.Jtt.Ytt/$P*100,i=($P-this.eet.Ytt-1)/$P*100,r=(15-this.eet.oet-1)/15*100;this.det._et||(n=i=1,this.het.style.width="98%"),r<t?this.het.style.bottom=r*this.det.let+"%":this.het.style.top=t*this.det.let+"%",i<n?this.het.style.right=i+"%":this.het.style.left=n+"%"}},n.cet=function(){for(var t=this.tet.vet.sort(rM),n=0;n<t.length;n++)this.met(t[n-1],t[n]),this.pet(t[n]);this.met(t[t.length-1],void 0)},n.pet=function(n){var i,r=OD(this.G7,n.wet),e=t.yet(r);CP(e,n.bet),null==(i=this.het)||i.appendChild(e)},n.met=function(t,n){var i=t?t.iet.oet:this.tet.$tt.oet,r=n?n.$tt.oet:this.tet.iet.oet,e=t?t.iet.Ytt:this.tet.$tt.Ytt,u=n?n.$tt.Ytt:this.tet.iet.Ytt;i<r&&(!n||t&&t.$tt.oet!==n.$tt.oet?this.Aet():this.Tet(this.tet.iet.Ytt-e),e=this.tet.$tt.Ytt),e<u&&(n?this.Tet(u-e):this.Aet())},n.Aet=function(){var t,n=v.createElement("br");null==(t=this.het)||t.appendChild(n)},n.Tet=function(t){var n;if(!(t<=0)){var i=v.createElement("span");i.style.display="inline-block",CP(i,zs(" ",t)),null==(n=this.het)||n.appendChild(i)}},t.yet=function(t){var n=v.createElement("span");n.style.display="inline-block",t.ztt!==YP.FONT_ITALICS&&t.ztt!==YP.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.ztt!==YP.FONT_UNDERLINE&&t.ztt!==YP.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.UQ;i&&(n.style.color=i);var r=t.HQ;return r&&(n.style.backgroundColor=r),n.style.textShadow=$D(t.XQ),n.style.height="1.2em",n},xt(t,[{key:"Jtt",get:function(){return this.tet.$tt}},{key:"eet",get:function(){return this.tet.iet}},{key:"net",get:function(){return this.tet.iet.Ytt-this.tet.$tt.Ytt+1}},{key:"ret",get:function(){return this.tet.iet.oet-this.tet.$tt.oet+1}}]),t}();function rM(t,n){return function(t,n){if(t.oet!==n.oet)return t.oet-n.oet;return t.Ytt-n.Ytt}(t.$tt,n.$tt)}var eM=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,KP)||this}Rt(n,t);var i=n.prototype;return i.Stt=function(t){var n=v.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.U7.WQ&&(n.style.fontFamily=this.U7.WQ),n},i.re=function(t,n){this.yl()},i.yl=function(){var t=LD(this.U7);this.ket=function(t){return{let:t/100,fet:t<=100,_et:t<=150}}(100*t);var n=this.Eet/$P;this.xet=n*t,this.jG.style.fontSize=this.xet+"px"},i.wtt=function(t,n,i){for(var r=0;r<n.length;r++){var e=n[r];!i&&e.so||this.F7(e)}for(var u=0;u<t.length;u++){var s=t[u];this.xtt(s)}},i.xtt=function(t){this.ket&&this.ket._et?this.Ret(80):this.Ret(100),this.yl();var n=this.V7(t);n||(n=this.Rtt(t),this.ytt(t,n));for(var i=0;i<n.length;i++){var r=n[i];this.jG.appendChild(r)}},i.Rtt=function(t){var n=this;return t.U.map((function(t){return new iM(t,n.ket,n.U7).br()}))},i.Ret=function(t){var n=(100-t)/2;this.jG.style.left=n+"%",this.jG.style.width=t+"%"},xt(n,[{key:"Eet",get:function(){var t=this.jG.offsetWidth;return this.ket&&this.ket._et||(t*=.8),t}}]),n}(VD),uM=function(){function t(t,n,i,r,e,u){var s=this;this.Cet=[],this.Vet=function(t){var n=t.Ht;n.bn(Cg.iC,s.Fet),n.bn(Cg.nC,s.Fet),n instanceof zx&&(n.V5=s.V5),s.Bet(n)},this.Fet=function(t){var n=t.Ht;s.Bet(n)},this.Wet=function(t){var n=t.Ht;n.vn(Cg.iC,s.Fet),n.vn(Cg.nC,s.Fet),s.Let(n)},this.Uet=function(){for(var t=s.V5,n=0,i=s.Hl.lC;n<i.length;n++){var r=i[n];r instanceof zx&&(r.V5=t)}},this.Get=function(){for(var t=0,n=s.Cet;t<n.length;t++){n[t].q7(s.wZ)}},this.Net=t,this.Ku=n,this.Hl=i,this.Oet=e,this.ta=u,this.wZ=r,this.Hl.bn(Tg.VI,this.Vet),this.Hl.bn(Tg.UI,this.Wet),this.Hl.bn(Cg.da,this.Fet),this.Oet.bn(uS.da,this.Uet),this.ta.bn([WT.rO,WT.oO],this.Uet),this.wZ.bn("eC",this.Get),this.Uet()}var n=t.prototype;return n.Iet=function(t){for(var n=0,i=this.Cet;n<i.length;n++){var r=i[n];if(r.Ht===t)return r}},n.Det=function(t){switch(t.Tw){case Dm.TTML:return new oP(t,this.Net,t.Ch,this.Ku);case Dm.SRT:case Dm.WEBVTT:return new OP(t,this.Net,t.Ch,this.Ku);case Dm.CEA608:return new eM(t,this.Net,t.Ch,this.Ku)}},n.Met=function(t){var n=this.Iet(t);n||(n=this.Det(t))&&(n.xj(),n.q7(this.wZ),this.Cet.push(n),t.CE===Hp.Qn&&n.ftt())},n.Let=function(t){for(var n=this.Cet,i=n.length-1;i>=0;i-=1){var r=n[i];r.Ht===t&&(r.yn(),ko(n,i))}},n.Bet=function(n){uy(n.Lt)&&t.Pet(n)&&(n.rI===xm.ERROR?this.Let(n):this.Met(n))},n.nr=function(){for(var t=0,n=this.Cet;t<n.length;t++){var i=n[t];i.Ht.vn(Cg.iC,this.Fet),i.Ht.vn(Cg.nC,this.Fet),i.yn()}Eo(this.Cet)},n.yn=function(){this.nr();for(var t=0,n=this.Cet;t<n.length;t++){n[t].yn()}this.Hl.vn(Tg.VI,this.Vet),this.Hl.vn(Tg.UI,this.Wet),this.Hl.vn(Cg.da,this.Fet),this.Oet.vn(uS.da,this.Uet),this.ta.vn([WT.rO,WT.oO],this.Uet),this.wZ.vn("eC",this.Get)},t.Pet=function(t){switch(t.Tw){case Dm.TTML:case Dm.SRT:case Dm.WEBVTT:case Dm.CEA608:return!0}return!1},xt(t,[{key:"V5",get:function(){return this.Oet.cs||this.ta.hO}}]),t}();U(),St(),Gt(),Dt(),Ct(),Jt();var sM=function(t){function n(n){var i;return(i=t.call(this)||this).Zet=!1,i.Xet=function(){i.Zet=!0,i._o(new jT)},i.zet=function(){i.Zet=!1,i._o(new ZT)},i.Het=n,i.Het.addEventListener("enterpictureinpicture",i.Xet),i.Het.addEventListener("leavepictureinpicture",i.zet),i}Rt(n,t);var i=n.prototype;return i.vo=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.aO?t.hO?[3,3]:(n=t.py([WT.rO,WT.fa]),[4,t.Het.requestPictureInPicture()]):[3,4];case 1:return i.sent(),[4,n];case 2:i.sent(),t.Zet||t._o(new aS),i.label=3;case 3:return[3,5];case 4:t._o(new aS),i.label=5;case 5:return[2]}}))}))()},i.xo=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.aO?t.Zet?(n=t.py([WT.oO,WT.fa]),[4,t.Het.ownerDocument.exitPictureInPicture()]):[3,3]:[3,4];case 1:return i.sent(),[4,n];case 2:i.sent(),t.Zet&&t._o(new aS),i.label=3;case 3:return[3,5];case 4:t._o(new aS),i.label=5;case 5:return[2]}}))}))()},i.yn=function(){this.Ro(),this.Het.removeEventListener("enterpictureinpicture",this.Xet),this.Het.removeEventListener("leavepictureinpicture",this.zet)},xt(n,[{key:"aO",get:function(){var t;return null!=(t=this.Het.ownerDocument.pictureInPictureEnabled)&&t}},{key:"hO",get:function(){return this.Zet}}]),n}(aa);function oM(t){var n=new BI,i=function(t){var n=[];return PI.aa(t)&&n.push(new PI(t)),MI.aa(t)&&n.push(new MI(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.lK(e)}n.cK(i[0])}return n}var aM=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e)||this).qet=oM(n),u.Yet=new sM(n),u.Ket=new BD,u.jet=new uM(u.Ket.we,u.Hu,u.nt,u.Wl,u.Sa,u.fH),u}Rt(n,t);var i=n.prototype;return i.TI=function(){return this.$T},i.Xw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Yet.yn(),n.qet.yn(),n.Ket.yn(),n.jet.yn(),[4,t.prototype.Xw.call(n)];case 1:return i.sent(),[2]}}))}))()},i.be=function(){t.prototype.be.call(this),this.Ket.be()},i.ge=function(){t.prototype.ge.call(this),this.Ket.ge()},i.S7=function(n){t.prototype.S7.call(this,n),this.Ket.S7(n)},xt(n,[{key:"jG",get:function(){return this.$T}},{key:"dI",get:function(){return this.$T.videoHeight}},{key:"vI",get:function(){return this.$T.videoWidth}},{key:"Sa",get:function(){return this.qet}},{key:"fH",get:function(){return this.Yet}}]),n}(RD);U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St();U(),St(),Gt(),Jt(),U(),St();var cM=!1,hM=function(t){return t.Qet="HELLO",t.Jet="HI_THERE",t.$et="INITIALIZE",t.tit="APPEND_INIT",t.eit="APPEND_DATA",t.iit="ACK",t.sit="REMOVE",t.nit="DESTROY_SESSION",t}({}),fM=function(){function t(){this.Yo=new gl}var n=t.prototype;return n.rit=function(t){var n=this;return this.Yo.Qo(Zt((function(t){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return Zo(t),i=new MessageChannel,r=i.port1,e=i.port2,d.serviceWorker.controller?[3,2]:[4,ng(d.serviceWorker,"install",t)];case 1:c.sent(),c.label=2;case 2:return"activated"===d.serviceWorker.controller.state?[3,4]:[4,ng(d.serviceWorker.controller,"activate",t)];case 3:c.sent(),c.label=4;case 4:u={kind:"HELLO",port:e},d.serviceWorker.controller.postMessage(u,[e]),r.start(),n.Bp=r,c.label=5;case 5:return c.trys.push([5,7,,8]),[4,ng(r,"message",t)];case 6:if(s=c.sent(),"HI_THERE"!==(o=s.data).kind)throw new y("Could not set up message channel");return n.rk=o.sessionId,[3,8];case 7:throw jo(a=c.sent())&&n.oit(),a;case 8:return[2]}}))})),t)},n.hit=function(t,n){this.Bp;var i=this;return this.Yo.Qo(Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:if(!i.Bp)throw new y("MessageSession not set up yet or already closed.");return n||(n=[]),i.Bp.postMessage(t,n),[4,ng(i.Bp,"message")];case 1:return[2,r.sent().data]}}))})))},n.ait=function(){var t=this;return this.Yo.Qo((function(){return t.oit()}))},n.oit=function(){if(d.serviceWorker.controller&&"activated"===d.serviceWorker.controller.state&&this.Bp){var t={kind:"DESTROY_SESSION"};cM,this.Bp.postMessage(t),this.Bp.close(),this.Bp=void 0}},t}();U(),St(),Dt();var vM=function(){function t(){this.cit=1/0}var n=t.prototype;return n.dit=function(t,n){var i=t-n;this.cit=i>this.uit?this.cit:i},n.fit=function(t){this.cit=t},xt(t,[{key:"uit",get:function(){return this.cit}}]),t}();U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var lM=function(t){return t.vE="audio",t.mE="video",t.eW="metadata",t}({}),dM=function(t){function n(n,i){var r;return(r=t.call(this)||this).dY=n,r.yit=i,r._it=void 0,r.vit=void 0,r.Yo=new gl,r.git=!1,r.mit=!1,r}Rt(n,t);var i=n.prototype;return i.A3=function(t,n){},i.S3=function(t,n){},i.RJ=function(){return this.mit},i.T3=function(){return Zt((function(){return Ht(this,(function(t){return[2]}))}))()},i.F2=function(t,n){return Zt((function(){return Ht(this,(function(t){return[2]}))}))()},i.g2=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){if(t.Tw!==GR.iJ)throw new y("Streaming or opaque segments are not supported yet.");return e=t.Kk,u=Zt((function(){var t,i,u;return Ht(this,(function(s){switch(s.label){case 0:return t=e.buffer,i={kind:hM.eit,mediaType:gM(r.dY),segment:e,startPts:n.wit,totalDuration:n.ct},[4,r.yit.hit(i,[t])];case 1:return s.sent(),void 0===r._it&&(u=n.wit+n.BV,r._it=u,r.vit=u),r.vit=r.vit+n.ct,r._o(new fa(ZR.tJ)),[2]}}))})),[2,r.Yo.Qo(Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:Zo(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.git=!0,[4,u()];case 2:return n.sent(),[3,4];case 3:return r.git=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.A2=function(t,n,i){var r=this;return Zt((function(){var n,e;return Ht(this,(function(u){if(t.Tw!==GR.iJ)throw new y("Streaming or opaque initialization segments are not supported yet.");return n=t.Kk,e=Zt((function(){var t;return Ht(this,(function(i){switch(i.label){case 0:return t={kind:hM.tit,mediaType:gM(r.dY),segment:n},[4,r.yit.hit(t,[])];case 1:return i.sent(),[2]}}))})),[2,r.Yo.Qo(Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:Zo(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.git=!0,[4,e()];case 2:return n.sent(),[3,4];case 3:return r.git=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.a3=function(){this.mit=!0},i.J2=function(){this.mit=!1},i.eT=function(t,n,i){var r=this;return Zt((function(){var t;return Ht(this,(function(e){return t=Zt((function(){var t;return Ht(this,(function(i){switch(i.label){case 0:return t={kind:hM.sit,mediaType:gM(r.dY),endTime:n},[4,r.yit.hit(t)];case 1:return i.sent(),r._it=void 0,r.vit=void 0,r._o(new fa(ZR.tJ)),[2]}}))})),[2,r.Yo.Qo(Zt((function(n){return Ht(this,(function(i){switch(i.label){case 0:Zo(n),i.label=1;case 1:return i.trys.push([1,,3,4]),r.git=!0,[4,t()];case 2:return i.sent(),[3,4];case 3:return r.git=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.dJ=function(t){return this.dY===t.Mk},i._J=function(t){return this.dY=t.Mk,ut.resolve()},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),[4,t.Yo.yn()];case 1:return n.sent(),[2]}}))}))()},xt(n,[{key:"wR",get:function(){return void 0===this._it||void 0===this.vit?BA.pB():new BA([this._it,this.vit])}},{key:"kd",get:function(){return{Mk:this.dY}}},{key:"m3",get:function(){return Xs(this.dY,"audio")?rm.vE:Xs(this.dY,"video")?rm.mE:rm.iE}},{key:"jq",get:function(){return this.dY}},{key:"w3",get:function(){return BA.pB()}},{key:"bj",get:function(){return 30},set:function(t){}},{key:"Ej",get:function(){return 30},set:function(t){}},{key:"va",get:function(){return this.git}},{key:"pit",get:function(){return this._it}},{key:"UO",get:function(){return this.vit}}]),n}(aa);function gM(t){return t.match(/video/)?lM.mE:lM.vE}var mM=function(){function t(t,n,i,r){this.uT=void 0,this.MT=t,this.c4=mo(n,(function(t){return Boolean(t.jq.match(/video/))})),this.u4=mo(n,(function(t){return Boolean(t.jq.match(/audio/))})),this.Nw=i,this.$T=r,this.Sit()}var n=t.prototype;return n.Sit=function(){},n.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,ut.all([t.u4,t.c4].filter(Yn).map((function(t){return t.Xw()})))];case 1:return n.sent(),[2]}}))}))()},n.d4=function(t){},n.m4=function(t,n,i,r){},n.a3=function(){var t,n;null==(t=this.u4)||t.a3(),null==(n=this.c4)||n.a3()},n.J2=function(){var t,n;null==(t=this.u4)||t.J2(),null==(n=this.c4)||n.J2()},n.dJ=function(t){return!0},n._J=function(t){return this.MT=t,ut.resolve()},n.mJ=function(t){},n.cJ=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,i.Nw.Dw(t.Ew,n)];case 1:return[4,e.sent()._T()];case 2:return r=e.sent(),[4,i.lJ(r)];case 3:return e.sent(),[2,r]}}))}))()},n.lJ=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(t&&!n.$T.src)throw new um(ul.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&n.$T.src)throw new um(ul.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return(i=n.uT)?[4,i.dT(n.$T)]:[3,2];case 1:r.sent(),n.uT=void 0,r.label=2;case 2:return t?[4,t.kn(n.$T)]:[3,4];case 3:r.sent(),n.uT=t,r.label=4;case 4:return[2]}}))}))()},t.Ait=function(n,i,r,e){for(var u=[],s=0;s<n.g4.length;s++){var o=n.g4[s].Mk;u.push(new dM(o,i))}return new t(n,u,r,e)},xt(t,[{key:"Tit",get:function(){return[this.u4,this.c4].filter(Yn)}},{key:"h4",get:function(){return this.u4}},{key:"wR",get:function(){return dN(this)}},{key:"kd",get:function(){return this.MT}},{key:"ct",get:function(){return 0}},{key:"RJ",get:function(){var t,n,i,r,e=null==(i=null==(t=this.u4)?void 0:t.RJ())||i,u=null==(r=null==(n=this.c4)?void 0:n.RJ())||r;return e&&u}},{key:"hI",get:function(){return new BA([0,1/0])}},{key:"a4",get:function(){return this.c4}}]),t}(),wM=function(t){function n(n,i,r,e){var u,s;return u=t.call(this)||this,s=u,u.Hit=!0,u.yit=new fM,u.Vit=new vM,u.Xit=!0,u.qit=new Kc,u.cZ=!1,u.o8=ut.resolve(),u.r8=new Qo,u.zit=!0,u.Uo=BA.pB(),u.b7=!1,u.Eit=function(){u.KR||u.Uit.V<=0||u.wR.V<=0||u.Vit.dit(u.wR.Tn(u.wR.V-1),u.Uit.Tn(u.Uit.V-1))},u.xit=function(){u._o(new AT(u.ER))},u.Rit=function(){u._o(new yg(u.ER,u.bR))},u.Iit=function(){u._o(new kT(u.ER,u.QR))},u.Cit=function(){u._o(new ET(u.ER,u.gI))},u.Pit=function(){u._o(new bT(u.ct))},u.Dit=function(){u._o(new Oy(u.ER))},u.Nit=function(){u.Rb(u.ER)},u.Mit=Zt((function(){return Ht(this,(function(t){return s.zit&&s._o(new _T(s.ER)),s.Xit=!1,s.zit=!0,[2]}))})),u.Lit=function(){u.Xit=!0,u._o(new yT(u.ER))},u.f7=function(t){var n,i=t.initDataType,r=null!=(n=t.initData)?n:new ArrayBuffer(0);u._o(new ya(i,r))},u.Het=n,u.B9=new CN(u),u.Kit=r,u.wZ=e,u.Het.playsInline=!0,u.Het.style.width="100%",u.Het.style.height="100%",u.kit(),u.Oit(),u.qet=oM(u.Het),u.ta=new sM(u.Het),u.vJ=new pD(u),u.Nw=i,u.Hl=new $p,u.b8=new $x(u),u.Ket=new BD,u.jet=new uM(u.Ket.we,u.Hu,u.nt,u.Wl,u.Sa,u.fH),u}Rt(n,t);var i=n.prototype;return i.kit=function(){this.Het.addEventListener("timeupdate",this.Eit),this.Het.addEventListener("ended",this.xit),this.Het.addEventListener("timeupdate",this.Rit),this.Het.addEventListener("ratechange",this.Iit),this.Het.addEventListener("volumechange",this.Cit),this.Het.addEventListener("durationchange",this.Pit),this.Het.addEventListener("playing",this.Dit),this.Het.addEventListener("seeking",this.Nit),this.Het.addEventListener("play",this.Mit),this.Het.addEventListener("pause",this.Lit),this.Het.addEventListener("encrypted",this.f7)},i.Bit=function(){this.Het.removeEventListener("timeupdate",this.Eit),this.Het.removeEventListener("ended",this.xit),this.Het.removeEventListener("timeupdate",this.Rit),this.Het.removeEventListener("ratechange",this.Iit),this.Het.removeEventListener("volumechange",this.Cit),this.Het.removeEventListener("durationchange",this.Pit),this.Het.removeEventListener("playing",this.Dit),this.Het.removeEventListener("seeking",this.Nit),this.Het.removeEventListener("play",this.Mit),this.Het.removeEventListener("pause",this.Lit)},i.Oit=function(){this.B9.bn(Iy.iC,this.Ds)},i.Fit=function(){this.B9.vn(Iy.iC,this.Ds)},i.Rb=function(t,n,i){this.r8.jw(),this.r8=new Qo,this.o8=zo(this.h8(t,this.o8,this.r8.Uw),this.r8).catch(Si)},i.h8=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return r.Uo=r.tI,(s=null==(u=r.JG)?void 0:u.Tit)?(o=(e=A).max.apply(e,Ut(s.map((function(t){return t.pit?t.pit:1/0})))),r.cZ=!0,r._o(new TT(t)),[4,n.catch(Si)]):[2];case 1:c.sent(),Zo(i),c.label=2;case 2:return c.trys.push([2,7,8,9]),r.Hit||r.Zit(),r.Het.load(),r.Xit?[3,4]:(r.zit=!1,[4,Ho(r.Het.play(),i)]);case 3:c.sent(),c.label=4;case 4:return r.rI<Ny.iO?[4,r.B9.py(Iy.iC,i)]:[3,6];case 5:return c.sent(),[3,4];case 6:return r.qit.Vb(),r.Hit=!1,r.cZ=!1,r._o(new ST(r.ER)),[3,9];case 7:throw a=c.sent(),r.qit.Wb(a),a;case 8:return r.Yit(),r.Vit.fit(o),[7];case 9:return[2]}}))}))()},i.EI=function(){this.Xit=!0,this.Het.pause()},i.xI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Xit?(t.Het.src||t.A7(),[4,t.qit.Ub]):[2];case 1:return n.sent(),[4,t.Het.play()];case 2:return n.sent(),[2]}}))}))()},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.yit&&t.yit.ait().catch(Si),t.r8.jw(),t.Bit(),t.Fit(),t.B9.Xw(),t.Ro(),t.Hl.yn(),t.Ket.yn(),t.jet.yn(),[2]}))}))()},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.yit&&t.yit.ait().catch(Si),t.r8.jw(),t.Het.removeAttribute("src"),t.Het.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),t.Het.removeAttribute("x-airplay-deny"),t.Het.disableRemotePlayback=!1,t.Het.load(),t.B9.nr(),t.Uo=BA.pB(),[2]}))}))()},i.A7=function(){this.y7||(AM(this.Het,qn.Ys),this.b7=!0)},i.Zit=function(){var t,n=this.Het.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,u=this.Het.videoWidth/this.Het.videoHeight,s=t.height;e/s>u?(i=s*u,r=s):(r=e/u,i=e),this.Het.style.width=i+"px",this.Het.style.height=r+"px",this.Het.style.marginLeft=(e-i)/2+"px",this.Het.style.marginTop=(s-r)/2+"px",this.Het.style.backgroundColor="black"}},i.Yit=function(){this.Het.style.width="100%",this.Het.style.height="100%",this.Het.style.marginLeft="",this.Het.style.marginTop="",this.Het.style.backgroundColor=""},i.lH=function(t,n,i,r,e){},i.OI=function(t,n,i,r,e,u,s,o,a){var c=new JN(t,n,i,r,e,u,s,a,o);return this.Hl.tt(c),this.b8.tt(c),c},i._H=function(t){throw y("Not supported.")},i.MJ=function(t){},i.HR=function(){return kR(this.Het)},i.ge=function(){this.Het.style.display="block",this.Ket.ge()},i.be=function(){this.Het.style.display="none",this.Ket.be()},i.p7=function(){},i.$n=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(t.Tw===Ey.pW)throw new y("Not yet implemented");return[4,n.yit.rit()];case 1:return e.sent(),i=mo(t.sH,(function(t){return t.cT.Tw===Ps.Aw})),r={kind:hM.$et,mediaBufferConfigs:t.g4.map((function(t){return t.Mk})),fairPlaySdkUri:null==i?void 0:i.WU},[4,n.yit.hit(r)];case 2:return e.sent(),n.JG=mM.Ait(t,n.yit,n.Nw,n.Het),n.vJ.$n(n.JG,t),n.Het.setAttribute("x-webkit-airplay","deny"),n.Het.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),n.Het.disableRemotePlayback=!0,n.Het.preload="none",n.Het.src="https://theo.proxy/"+n.yit.rk+"/master.m3u8",[2,n.JG]}}))}))()},i.w7=function(){},i.mW=function(t){this.Hl.it(t),this.b8.it(t)},i.vH=function(){for(var t=0,n=this.Hl.lC.slice();t<n.length;t++){n[t].yn()}this.Hl.nr()},i.zG=function(t){},i.uH=function(){return!1},i.S7=function(t){t.appendChild(this.Het),this.Ket.S7(t)},i.TI=function(){return this.Het},i.NI=function(){},xt(n,[{key:"jG",get:function(){return this.Het}},{key:"U4",get:function(){return!1}},{key:"ER",get:function(){return this.Het.currentTime+this.Vit.uit}},{key:"KR",get:function(){return this.Het.paused}},{key:"gI",get:function(){return this.Het.volume},set:function(t){this.Het.volume=t}},{key:"QR",get:function(){return this.Het.playbackRate},set:function(t){this.Het.playbackRate=t}},{key:"Wit",get:function(){return this.Het.defaultPlaybackRate}},{key:"wR",get:function(){var t,n;return null!=(n=null==(t=this.JG)?void 0:t.wR)?n:BA.pB()}},{key:"Uit",get:function(){return BA.Cn(this.Het.buffered)}},{key:"tI",get:function(){var t=this.Git;return this.Uo.tB(t.xb(this.Vit.uit))}},{key:"Git",get:function(){return BA.Cn(this.Het.played)}},{key:"uI",get:function(){return this.cZ}},{key:"M4",get:function(){return!1}},{key:"X4",get:function(){return!1}},{key:"ct",get:function(){return this.Het.duration}},{key:"ZR",get:function(){return this.Het.muted},set:function(t){this.Het.muted=t}},{key:"wet",get:function(){return this.Het.style}},{key:"qB",get:function(){return ss({},WR,{zB:!0})}},{key:"rI",get:function(){return this.B9.rI}},{key:"dI",get:function(){return this.Het.videoHeight}},{key:"vI",get:function(){return this.Het.videoWidth}},{key:"PR",get:function(){return this.Het.ended}},{key:"Ti",get:function(){return this.Het.offsetHeight*qn.Ys.Kg}},{key:"ji",get:function(){return this.Het.offsetWidth*qn.Ys.Kg}},{key:"WR",get:function(){return!1}},{key:"y7",get:function(){return this.b7}},{key:"bR",get:function(){}},{key:"Hu",get:function(){return this.Kit}},{key:"lt",get:function(){}},{key:"Sa",get:function(){return this.qet}},{key:"fH",get:function(){return this.ta}},{key:"hI",get:function(){return this.JG?this.JG.hI:BA.pB()}},{key:"$G",get:function(){}},{key:"nt",get:function(){return this.Hl}},{key:"Wl",get:function(){return this.wZ}},{key:"AI",get:function(){return!1},set:function(t){}},{key:"G9",get:function(){return"block"===this.Het.style.display}},{key:"wH",get:function(){return this.vJ.wH},set:function(t){this.vJ.wH=t}},{key:"T7",get:function(){},set:function(t){}},{key:"h9",get:function(){}}]),n}(aa),pM=[rm.vE,rm.mE],yM=function(){function t(t,n,i,r,e){void 0===i&&(i=2),void 0===r&&(r=pM),void 0===e&&(e=Sl()),this.nrt=i,this.jnt=Ut(r),this.Nw=e,this.Ku=t,this.wZ=n,this.Qnt=as(),this.irt()}var n=t.prototype;return n.AZ=function(t){for(var n=0,i=this.yZ;n<i.length;n++){i[n].S7(t)}},n.OH=function(t){var n=mo(this.Qnt.get(t),(function(t){return t.trt}));if(n)return n.trt=!1,n.Jnt},n.ert=function(t){if(!this.$nt){var n,i=null==(n=this.Qnt.get(rm.mE))?void 0:n[0].Jnt.jG;if(!i)throw new y("Error creating iOS Safari MediaController");this.$nt=new wM(i,this.Nw,this.Ku,this.wZ),i.parentElement&&this.$nt.S7(i.parentElement)}return this.$nt},n.yH=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return i=t.jG,r=i.tagName.toLowerCase(),[4,t.nr()];case 1:return u.sent(),kM(i),(e=mo(n.Qnt.get(r)||[],(function(n){return t===n.Jnt})))&&(e.trt=!0),[2]}}))}))()},n.vZ=function(){for(var t=0,n=this.yZ;t<n.length;t++){n[t].A7()}},n.yn=function(){for(var t=0,n=this.yZ;t<n.length;t++){var i=n[t],r=i.jG;i.Xw(),bM(r),ai(r)}this.Qnt.clear(),this.$nt=void 0},n.irt=function(){for(var t=0,n=this.jnt;t<n.length;t++){var i=n[t],r=[];this.Qnt.set(i,r);for(var e=0;e<this.nrt;e++){var u=_M(i),s=i===rm.vE?new MD(u,this.Nw,this.Ku):new aM(u,this.Nw,this.Ku,this.wZ);r.push({Jnt:s,trt:!0})}}},xt(t,[{key:"yZ",get:function(){for(var t=[],n=0,i=this.jnt;n<i.length;n++){var r=i[n],e=this.Qnt.get(r);if(e){var u,s=e.map((function(t){return t.Jnt}));(u=t).push.apply(u,Ut(s))}}return this.$nt&&t.push(this.$nt),t}}]),t}();function _M(t){var n=v.createElement(t);return Ni(n)&&n.addEventListener("contextmenu",TM),kM(n),n}function bM(t){kM(t),t.removeEventListener("contextmenu",TM)}function kM(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),ci(t),xi(t),t.pause(),t.playbackRate=1,t.disableRemotePlayback=!1,t.preload=iS.JB,t.controls=!1,t.style.display="none",Ni(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function AM(t,n){if(n.mp){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();ri(r)&&na(r),t.pause()}}function TM(t){t.preventDefault()}U(),St(),Gt(),Ct(),Jt(),U(),St();var SM=function(){function t(t){this.fW=t}var n=t.prototype;return n.Qk=function(t){return this.fW.Qk(t)},n.NE=function(t){this.fW.NE(t)},n.yn=function(){this.fW.yn()},t}(),EM=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).gZ=i,r}Rt(n,t);var i=n.prototype;return i.Qk=function(t){var n=new wd(t),i=this.gZ.cj.SG(n);return i?this.jit(n,i):this.fW.Qk(n)},i.jit=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return n.dj(qn.Wg()/1e3),[4,i.fW.Qk(t)];case 1:return r=s.sent(),n._j(qn.Wg()/1e3),e=r.Vk?r.Nk().pipeThrough(new Wl(new IM(n))):r.Dk().then((function(t){var i=qn.Wg()/1e3;return n.vj(i,new I(t)),n.mj(i),t})),u={Kk:e,Qk:r.Qk},[2,new fd(u,r)]}}))}))()},n}(SM),IM=function(){function t(t){this.Qit=t}var n=t.prototype;return n.start=function(t){this.FQ=t},n.transform=function(t){this.Qit.vj(qn.Wg()/1e3,t),this.FQ.enqueue(t)},n.flush=function(){this.Qit.mj(qn.Wg()/1e3)},t}();function RM(t){return{get ratio(){return t.Vo},get thresholds(){return t.Jit.slice()}}}function CM(t){var n=[],i=A.floor(1/t);if(E(i))return[];for(var r=0;r<=i;r++){var e=hr(r*t,0,1);n.push(e)}return n}U(),St(),Dt(),U(),St(),Dt(),Ct(),U(),St();var NM=function(){function t(t,n,i){this.$it=1,this.eu=void 0,this.tst=CM(n);var r=this.ist(i);this.sst=new f.IntersectionObserver(r,{root:null,threshold:this.tst}),this.sst.observe(t)}var n=t.prototype;return n.ist=function(t){var n=this;return function(i){var r=i[i.length-1];n.$it=r.intersectionRatio,t(r.intersectionRatio)}},n.RI=function(){this.sst.disconnect()},xt(t,[{key:"Vo",get:function(){return this.$it}},{key:"Jit",get:function(){return this.tst}},{key:"wa",get:function(){return this.eu||(this.eu=RM(this)),this.eu}}]),t}(),xM=function(){function t(t,n){this.$it=1,this.rst=-1,this.eu=void 0,this.tst=CM(t),this.ost=n}return t.prototype.nst=function(t){this.$it=t;var n=this.tst,i=0;if(t>0)for(;i<n.length&&n[i]<=t;)++i;this.rst!==i&&(this.rst=i,this.ost(t))},xt(t,[{key:"Vo",get:function(){return this.$it}},{key:"Jit",get:function(){return this.tst}},{key:"wa",get:function(){return this.eu||(this.eu=RM(this)),this.eu}}]),t}(),DM=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).ast=Ii((function(){return e.nst(e.hst())}),50),e.po=n,f.addEventListener("scroll",e.ast,!!AI&&{passive:!0}),ta((function(){return e.nst(e.hst())})),e}Rt(n,t);var i=n.prototype;return i.hst=function(){var t=this.po.getBoundingClientRect();return hr(A.max(0,A.min(f.innerWidth,t.right)-A.max(0,t.left))*A.max(0,A.min(f.innerHeight,t.bottom)-A.max(0,t.top))/(t.width*t.height),0,1)},i.RI=function(){f.removeEventListener("scroll",this.ast)},n}(xM),PM=function(){function t(t){this.cst=1,this.lst=0,this._st=[],this.eu=void 0,this.po=t,this.Io(.1,this.fst())}var n=t.prototype;return n.fst=function(t){var n=this;return function(i){n.cst=i,null==t||t(n.cst)}},n.Io=function(t,n){if(E(t))throw new _("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");var i;return i="function"==typeof f.IntersectionObserver?new NM(this.po,t,this.fst(n)):new DM(this.po,t,this.fst(n)),this._st.push(i),i},n.Do=function(t){t.RI(),bo(this._st,t)},n.dst=function(t){for(var n=0,i=this._st;n<i.length;n++){var r=i[n];if(r.wa===t)return r}},n.yn=function(){for(var t=0,n=this._st;t<n.length;t++){n[t].RI()}Eo(this._st)},xt(t,[{key:"ust",get:function(){return this.cst}},{key:"Oo",get:function(){return this.lst},set:function(t){if(E(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this.lst=t}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{get ratio(){return t.ust},get visible(){return t.ust>t.Oo},get visibleThreshold(){return t.Oo},set visibleThreshold(n){n=Zg(n),t.Oo=n},addObserver:function(n,i){return n=Zg(n),t.Io(n,i).wa},removeObserver:function(n){var i=t.dst(n);i&&t.Do(i)}}}(this)),this.eu}}]),t}();U(),St(),Ct();var MM=function(t){function n(){return t.call(this,va.Ry)||this}return Rt(n,t),n}(fa),BM=function(t){function n(n,i,r){var e;(e=t.call(this)||this).mst=!1,e.mo=!1,e.sZ=void 0,e.Pst=!1,e.Ma=void 0,e.Est=function(t){if(!e.Pst){e.Pst=!0;var n=e.Dst,i=cm(t);e.Ta.vC=new lS(e.we,i,t),na(n.yn())}},e.Nst=function(t){t.type!==va.Xy&&t.type!==va.Zy&&e._o(t)};var u=Zg(i.uid);E(u)?e.IO=bm++:e.IO=u,e.kd=i;var s=qn.fR,o=new DR;e.Cst=new cI("9.3.1",s,o),e.gZ=new vR,e.pZ=new Vk;var a=new EM(s,e.gZ);e.fR=new $I(a,i.allowMixedContent),e.CQ=null!=r?r:new LE(i.isEmbeddable,"9.3.1",xE()),e.kst=new xR(s,e.CQ,e.Cst,o,i,xE()),e.kst.kQ().catch(e.Est),e.yst=new CI(n),e.yst.bn(wI.mn,e.Ds),e.wZ=new FR,e.Hj=new wR,e.sQ=new yR;var c=new vS(n,i,e.fR,e.gZ,e.pZ,e.yst,e.wZ);e.gZ.xj(c);var h=c;return h=new pR(h,e.Sst),h=new _R(h,e.iQ),e.Dst=h,e.Ta=new HT(e.Dst),e.Ta.oy(e.Nst),e.bst=new bR(e.Ta),e.Ast=new iR(e.Ta,e.fR,e.gZ),e.Rst=new mI(e),e.Ist=new OI(e.Ta,i.allowNativeFullscreen),e.xst=new ZI(e.Ist,e.Ta.ja()),e.yst.kn(),e.Eo=new PM(n),e.mZ=new JT(e.yst,e.wZ,1,[rm.mE]),e.pst=new QT(e.mZ),e.wst=new SR,e}Rt(n,t);var i=n.prototype;return i.yR=function(){return this.Ta.wR},i.xR=function(){return this.Ta.ER},i.RR=function(t,n){this.Ta.RR(t,n)},i.Tst=function(){return this.xR()},i.jd=function(){return this.Ta.ct},i.NR=function(){return this.Ta.lt},i.LR=function(){return this.Ta.MR},i.zR=function(t){this.Ta.ZR=t,t||this.KR||this.kI()},i.JR=function(){return this.Ta.QR},i.$R=function(t){this.Ta.QR=t},i.eI=function(){return this.Ta.tI},i.aI=function(){return this.Ta.hI},i.wI=function(t){this.Ta.gI=t},i.Aa=function(){OT(this,ES,this)},i.xI=function(){this.Ta.xI()},i.EI=function(){this.Ta.EI()},i.iu=function(){return this.sZ},i.Ca=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.sZ=t,t?(i.kst.gq(t).catch(i.Est),r=function(t){t.sources;var n=t.sources.filter((function(t){return Kn(t.integration)}));return t.sources=n,t}(t),[4,i.Ta.Ca(r,n)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))()},i.kI=function(){if(!this.mo){this.Ta.kI(),this.pst.kI();for(var t=this.we.getElementsByTagName("video"),n=0;n<t.length;n++){var i=t[n];"Advertisement"===i.title&&AM(i,qn.Ys)}this.mo=!0}},i.cs=function(){return this.xst.Ho()===NT.FULLSCREEN},i.ge=function(){this.Ta.ge()},i.be=function(){this.Ta.be()},i.TI=function(){return this.Ta.TI()},i.NI=function(){this.Ta.NI()},i.MI=function(){this.Ta.MI()},i.OI=function(t){return this.Ta.OI(t)},i.RI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.sZ=void 0,[4,t.Ta.RI()];case 1:return n.sent(),[4,t.Ta.nr()];case 2:return n.sent(),[2]}}))}))()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t._o(new MM),t.Ro(),t.wst.yn(),t.fR.yn(),t.Ast.yn(),t.Rst.yn(),t.Ist.yn(),t.xst.yn(),t.yst.yn(),t.Cst.yn(),t.pst.yn(),t.mZ.yn(),[4,t.Ta.yn()];case 1:return n.sent(),[2]}}))}))()},xt(n,[{key:"vst",get:function(){return this.gZ}},{key:"SO",get:function(){return this.mst},set:function(t){this.mst=t,this.Ta.SO=t}},{key:"gst",get:function(){return this.pst}},{key:"ht",get:function(){return this.Ta.ht}},{key:"Iz",get:function(){return this.wst}},{key:"Hu",get:function(){return this.yst}},{key:"OR",get:function(){return this.Ta.OR}},{key:"GR",get:function(){return this.bst}},{key:"XX",get:function(){return this.Ast}},{key:"nt",get:function(){return this.Ta.nt}},{key:"Wl",get:function(){return this.wZ}},{key:"rt",get:function(){return this.Ta.rt}},{key:"wR",get:function(){return this.yR()}},{key:"Sst",get:function(){return this.Hj}},{key:"iQ",get:function(){return this.sQ}},{key:"ER",get:function(){return this.xR()},set:function(t){this.RR(t)}},{key:"bR",get:function(){return this.Ta.bR},set:function(t){this.Ta.bR=t}},{key:"bt",get:function(){return this.Ta.bt}},{key:"ct",get:function(){return this.jd()}},{key:"we",get:function(){return this.Ta.we}},{key:"PR",get:function(){return this.Ta.PR}},{key:"lt",get:function(){return this.NR()}},{key:"MR",get:function(){return this.LR()}},{key:"Sa",get:function(){return this.Ta.SI()}},{key:"fH",get:function(){return this.Ta.ja()}},{key:"AI",get:function(){return this.Ta.AI},set:function(t){this.Ta.AI=t}},{key:"ZR",get:function(){return this.Ta.ZR},set:function(t){var n=Boolean(t);this.zR(n)}},{key:"KR",get:function(){return this.Ta.KR}},{key:"QR",get:function(){return this.JR()},set:function(t){this.$R(t)}},{key:"tI",get:function(){return this.eI()}},{key:"iI",get:function(){return this.Ta.iI},set:function(t){this.Ta.iI=t}},{key:"rI",get:function(){return this.Ta.rI}},{key:"hI",get:function(){return this.aI()}},{key:"uI",get:function(){return this.Ta.uI}},{key:"IC",get:function(){return this.IO}},{key:"dI",get:function(){return this.Ta.dI}},{key:"vI",get:function(){return this.Ta.vI}},{key:"gI",get:function(){return this.Ta.gI},set:function(t){var n=hr(Number(t),0,1)||0;this.wI(n)}},{key:"yI",get:function(){return this.pZ}}]),n}(ha);U(),St();var OM=self.CustomEvent;var LM=function(){try{var t=new OM("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=v.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i};U(),St(),Dt();var FM=function(){function t(){this.yO=[],this.eu=void 0}var n=t.prototype;return n.fC=function(t){return this.yO[t]},n.jJ=function(t){this.yO.push(t),this.wa.push(t.wa)},n.eT=function(t){var n=this.yO.indexOf(t);n<0||(ko(this.yO,n),this.eu&&ko(this.eu,n))},n.zst=function(t){for(var n=0,i=this.yO;n<i.length;n++){var r=i[n];if(r.IC===t)return r}},xt(t,[{key:"V",get:function(){return this.yO.length}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){for(var n=[],i=0;i<t.V;i++)n[i]=t.fC(i).wa;return n.getPlayerByUID=function(n){var i=t.zst(n);return i&&i.wa},n}(this)}}]),t}();var VM=new FM;function UM(t){var n,i,r=function(n){i=n;var r=mE(n,t.kd);t.Ca(r)},e={get abr(){return t.vst.wa},get ads(){var n;return null==(n=t.zc)?void 0:n.wa},get audioTracks(){return t.ht.wa},get autoplay(){return t.SO},set autoplay(n){t.SO=Boolean(n)},get buffered(){return t.yR()},get canvas(){return t.Rst.wa},get cast(){var n;return null==(n=t.Iz)?void 0:n.wa},get clip(){return t.Sst.wa},get currentProgramDateTime(){var n;return null!=(n=t.bR)?n:null},set currentProgramDateTime(n){t.bR=null!=n?n:void 0},get currentTime(){return t.xR()},set currentTime(n){t.RR(Number(n))},get duration(){return t.jd()},get element(){return t.we},get ended(){return t.PR},get error(){return t.NR()},get errorObject(){return t.LR()},get loop(){return t.iQ.iQ},set loop(n){t.iQ.iQ=Boolean(n)},get metrics(){return t.GR.wa},get muted(){return t.ZR},set muted(n){t.zR(n)},get network(){return t.XX.wa},get paused(){return t.KR},get playbackRate(){return t.QR},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.QR=i},get played(){return t.eI()},get poster(){return t.mi},set poster(n){t.mi=Gg(n)},get preload(){return t.iI},set preload(n){t.iI=function(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";default:return"none"}}(n)},get presentation(){return t.xst.wa},get readyState(){return t.rI},get seekable(){return t.aI()},get seeking(){return t.uI},get source(){return i},set source(t){r(t)},get src(){return sE(t.iu())},set src(t){r({sources:t})},get textTracks(){return t.nt.wa},get textTrackStyle(){return t.Wl.wa},get theoLive(){return t.Ost},get uid(){return t.IC},get videoHeight(){return t.dI},get videoTracks(){return t.rt.wa},get videoWidth(){return t.vI},get visibility(){return t.Eo.wa},get volume(){return t.gI},set volume(n){t.wI(Number(n))},get latency(){return t.yI.wa},get theoads(){return t.Vst},destroy:function(){t.yn(),t=null,i=void 0},play:function(){t.qst()},pause:function(){t.EI()},stop:function(){i=void 0,t.RI()},prepareWithUserAction:function(){t.kI()},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)},setSource:function(t){r(t)},addTextTrack:function(n){return t.OI(function(t){return{Lt:Gg(t.kind),Ch:Gg(t.label),gs:Gg(t.language),Tw:Gg(t.type)}}(n)).wa}};return(n=new UI(e,!0)).ru(t),n.bn("destroy",(function(){n.yn()})),e}U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),U(),St(),U(),St(),Ct();var WM=function(t){function n(n){var i;return(i=t.call(this,va.uo)||this).source=n,i}return Rt(n,t),n}(fa);U(),St(),Dt(),Ct();var jM=function(t){function n(){var n;return(n=t.call(this)||this).uZ=0,n.dZ=!0,n.cZ=!1,n.fZ=1,n}Rt(n,t);var i=n.prototype;return i.xR=function(){return this.uZ},i.Tst=function(){return this.xR()},i.RR=function(t,n){this.cZ&&this.uZ===t||(this.uZ=t,this.cZ=!0,this._o(new TT(this.uZ)))},i.xI=function(){this.dZ&&(this.dZ=!1,this._o(new _T(this.uZ)),this._o(new Py(this.uZ)))},i.EI=function(){this.dZ||(this.dZ=!0,this._o(new yg(this.uZ,this.bR)),this._o(new yT(this.uZ)))},i.nr=function(){this.uZ=0,this.cZ=!1,this.fZ=1,this.EI()},i.yn=function(){this.Ro()},i.be=function(){},i.ge=function(){},xt(n,[{key:"bR",get:function(){},set:function(t){}},{key:"ER",get:function(){return this.xR()},set:function(t){this.RR(t)}},{key:"KR",get:function(){return this.dZ}},{key:"QR",get:function(){return this.fZ},set:function(t){this.fZ!==t&&(this.fZ=t,this._o(new kT(this.uZ,this.QR)))}},{key:"rI",get:function(){return Ny.eO}},{key:"uI",get:function(){return this.cZ}}]),n}(ha);U(),St(),Dt();var ZM={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},XM={visibility:"hidden"},GM={visibility:"visible"},HM=function(){function t(t){var n=this;this.Qst=!1,this.Jst=function(t){var i;n.Qst=!n.na.KR,n.Yst=null==(i=t.source)?void 0:i.poster,n.ir()},this.BW=function(){n.Qst=!0,n.be()},this.na=t,this.eZ(),this.Vs=function(){var t=f&&f.document&&f.document.createElement("div");return t.className="theoplayer-poster",_i(ZM,t),t}(),t.we.appendChild(this.Vs)}var n=t.prototype;return n.ir=function(){var t=this.na.KR,n=this.Qst;this.Xu?this.Vs.style.backgroundImage='url("'+$s(this.Xu)+'")':this.Vs.style.backgroundImage="",t&&this.Xu&&!n?this.ge():this.be()},n.ge=function(){_i(XM,this.na.we),_i(GM,this.Vs)},n.be=function(){_i(XM,this.Vs),_i(GM,this.na.we)},n.eZ=function(){this.na.bn(va.uo,this.Jst),this.na.bn(va.ho,this.BW)},n.yn=function(){this.na.vn(va.uo,this.Jst),this.na.vn(va.ho,this.BW),ai(this.Vs)},xt(t,[{key:"Xu",get:function(){return void 0!==this.Yst?this.Yst:void 0!==this.Kst?this.Kst:void 0}},{key:"jst",set:function(t){this.Kst=t,this.ir()}}]),t}();U(),St(),Dt(),Ct(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),U(),St();var zM=function(t){return t[t.$st=0]="$st",t[t.tnt=1]="tnt",t}({});function YM(t){var n,i={get playing(){return t.Vc},get currentAds(){return t.ent.map((function(t){return t.int()}))},get currentAdBreak(){var n,i;return null!=(i=null==(n=t.snt)?void 0:n.int())?i:null},get scheduledAds(){return t.nnt.map((function(t){return t.int()}))},get scheduledAdBreaks(){return t.rnt.map((function(t){return t.int()}))},skip:function(){t.MD()},schedule:function(n){var i=dE(n,RS.Vg);i?t.g6(i,zM.$st,!1):console.error("Invalid ad description")},registerServerSideIntegration:function(n,i){t.ont(n,i)},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new mR(t,i),i}var KM=function(t){function n(n){var i,r;return(i=t.call(this)||this).eu=void 0,i.Oc=n,null==(r=i.Oc)||r.oy(i.Ds),i}Rt(n,t);var i=n.prototype;return i.g6=function(t,n,i){var r;null==(r=this.Oc)||r.g6(t,n,i)},i.hnt=function(t){var n;null==(n=this.Oc)||n.hnt(t)},i.MD=function(){var t;null==(t=this.Oc)||t.MD()},i.ant=function(t){var n;null==(n=this.Oc)||n.ant(t)},i.ont=function(t,n){var i;null==(i=this.Oc)||i.ont(t,n)},i.yn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Ro(),void 0===n.Oc?[3,3]:(n.Oc.gy(n.Ds),t?[3,2]:[4,n.Oc.yn()]);case 1:i.sent(),i.label=2;case 2:n.Oc=void 0,i.label=3;case 3:return[2]}}))}))()},xt(n,[{key:"Vc",get:function(){return!!this.Oc&&this.Oc.Vc}},{key:"ent",get:function(){return this.Oc?this.Oc.ent:[]}},{key:"snt",get:function(){return this.Oc?this.Oc.snt:null}},{key:"nnt",get:function(){return this.Oc?this.Oc.nnt:[]}},{key:"rnt",get:function(){return this.Oc?this.Oc.rnt:[]}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=YM(this)}}]),n}(ha);U(),St(),Ct(),U(),St(),Dt(),Ct();var qM=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).sd=i,r}return Rt(n,t),n}(_g),JM=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).adBreak=i,r}return Rt(n,t),xt(n,[{key:"ad",get:function(){return this.adBreak}}]),n}(fa),QM=function(t){function n(n){return t.call(this,"unt",n)||this}return Rt(n,t),n.prototype.ka=function(){return new $M(this.sd.int())},n}(qM),$M=function(t){function n(n){return t.call(this,"removeadbreak",n)||this}return Rt(n,t),n}(JM);U(),St(),Ct();var tB=function(t){function n(n){return t.call(this,"cnt",n)||this}return Rt(n,t),n.prototype.ka=function(){return new nB(this.sd.int())},n}(qM),nB=function(t){function n(n){return t.call(this,"addadbreak",n)||this}return Rt(n,t),n}(JM);U(),St(),Ct(),U(),St(),Ct();var iB=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).lnt=i,r}return Rt(n,t),n}(_g),rB=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ad=i,r}return Rt(n,t),n}(fa),eB=function(t){function n(n){return t.call(this,"dnt",n)||this}return Rt(n,t),n.prototype.ka=function(){return new uB(this.lnt.int())},n}(iB),uB=function(t){function n(n){return t.call(this,"addad",n)||this}return Rt(n,t),n}(rB);U(),St(),Ct();var sB=function(t){function n(n){return t.call(this,"fnt",n)||this}return Rt(n,t),n.prototype.ka=function(){return new oB(this.sd.int())},n}(qM),oB=function(t){function n(n){return t.call(this,"adbreakend",n)||this}return Rt(n,t),n}(JM);U(),St(),Ct();var aB=function(t){function n(n){return t.call(this,"_nt",n)||this}return Rt(n,t),n.prototype.ka=function(){return new cB(this.sd.int())},n}(qM),cB=function(t){function n(n){return t.call(this,"adbreakbegin",n)||this}return Rt(n,t),n}(JM);U(),St(),Ct();var hB=function(t){function n(n,i){var r;return(r=t.call(this,"vnt",n)||this).currentTime=i,r}return Rt(n,t),n.prototype.ka=function(){return new fB(this.lnt.int(),this.currentTime)},n}(iB),fB=function(t){function n(n,i){var r;return(r=t.call(this,"adbegin",n)||this).currentTime=i,r}return Rt(n,t),n}(rB);U(),St(),Ct();var vB=function(t){function n(n,i){var r;return(r=t.call(this,"mnt",n)||this).currentTime=i,r}return Rt(n,t),n.prototype.ka=function(){return new lB(this.lnt.int(),this.currentTime)},n}(iB),lB=function(t){function n(n,i){var r;return(r=t.call(this,"adend",n)||this).currentTime=i,r}return Rt(n,t),n}(rB);U(),St(),Ct();var dB=function(t){function n(){return t.call(this,"gnt")||this}return Rt(n,t),n.prototype.ka=function(){return new gB},n}(_g),gB=function(t){function n(){return t.call(this,"adadded")||this}return Rt(n,t),n}(fa),mB=function(t){function n(n){var i;return(i=t.call(this,void 0)||this).na=n,i}return Rt(n,t),xt(n,[{key:"vC",get:function(){return this.Oc},set:function(t){var n=this.Oc;if(n!==t){var i=this.ent,r=this.snt,e=this.nnt,u=this.rnt;null==n||n.gy(this.Ds),this.Oc=t,null==t||t.oy(this.Ds);for(var s=this.ent,o=this.snt,a=this.nnt,c=this.rnt,h=[],f=!1,v=0;v<u.length;v++){var l=u[v];To(c,l)||h.push(new QM(l))}for(var d=0;d<c.length;d++){var g=c[d];To(u,g)||h.push(new tB(g))}for(var m=0;m<a.length;m++){var w=a[m];To(e,w)||(h.push(new eB(w)),f=!0)}f&&h.push(new dB),r!==o&&(r&&h.push(new sB(r)),o&&h.push(new aB(o)));for(var p=0;p<i.length;p++){var y=i[p];To(s,y)||h.push(new vB(y,this.na.xR()))}for(var _=0;_<s.length;_++){var b=s[_];To(i,b)||h.push(new hB(b,this.na.xR()))}for(var k=0;k<h.length;k++){var A=h[k];this._o(A)}}}}]),n}(KM);U(),St(),Gt(),Ct(),Jt(),U(),St(),Dt(),Ct();var wB=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Vc=!1,n.snt=null,n.ent=[],n.rnt=[],n.nnt=[],n.eu=void 0,n}Rt(n,t);var i=n.prototype;return i.ant=function(t){},i.ont=function(t,n){},i.g6=function(t,n,i){},i.MD=function(){},i.hnt=function(t){},i.yn=function(){return this.Ro(),ut.resolve()},xt(n,[{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=YM(this)}}]),n}(ha),pB=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Ant=[],n.pnt=[],n}Rt(n,t);var i=n.prototype;return i.g6=function(t,n,i){this.pnt.push({wnt:t,ynt:n,bnt:i})},i.MD=function(){},i.ant=function(t){},i.ont=function(t,n){this.Ant.push({hP:t,Snt:n})},i.hnt=function(t){var n=this.Ant.slice(),i=this.pnt.slice();this.nr();for(var r=0;r<n.length;r++){var e=n[r];t.ont(e.hP,e.Snt)}for(var u=0;u<i.length;u++){var s=i[u];t.g6(s.wnt,s.ynt,s.bnt)}},i.Tnt=function(){var t=this.pnt.map((function(t){return t.wnt}));return this.nr(),t},i.nr=function(){Eo(this.Ant),Eo(this.pnt)},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.nr(),[4,t.prototype.yn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(wB);U(),St(),Ct();var yB,_B=function(t){function n(n){var i;return(i=t.call(this,"tizen2retry")||this).originalErrorEvent=n,i}return Rt(n,t),n}(fa);function bB(){if(!yB){var t=BM;t=function(t){return function(n){function i(i,r){for(var e=new t(i,r),u=0;u<Kk.length;u++){var s=Kk[u];if(Qk[s])for(var o=0,a=Qk[s];o<a.length;o++)e=(0,a[o])(e)}return n.call(this,e)||this}return Rt(i,n),i}(zk)}(t);var n=function(t){return function(n){function i(i,r){var e;return(e=n.call(this)||this).Fnt=!0,e.k7=Ny.eO,e.Lnt=!1,e.sZ=void 0,e.YG=void 0,e.TZ=void 0,e.Int=function(t){t.type!==va.Yy&&e.Bnt.push(t)},e.Vnt=function(t){(t.type!==va.ho||e.na.KR)&&(t.type===va.zy&&e.na.KR||t.type===va.Jy&&e.na.uI&&e.na.xR()===t.currentTime||t.type===va.Yy&&e.na.QR===t.playbackRate||e._o(t))},e.LI=function(t){if(e.Lnt){if(t.type===Iy.WL)return;t.type!==Iy.BL&&t.type!==Iy.UL||(e.Lnt=!1)}if(t.type===va.ho){if(!e.Fnt)return;e.Fnt=!1}else if(t.type===va.zy){if(e.Fnt)return;e.Fnt=!0}else if(t.type===Iy.iC){if(e.k7===t.readyState)return;e.k7=t.readyState}else if(t.type===va.Ry)return;e._o(t)},e.knt=new t(i,r),e.Ont=new jM,e.na=e.knt,e.xnt=new HM(e),e.knt.zc&&(e.Oc=new mB(e),e.Oc.vC=e.knt.zc,e.Wnt=new pB),e.Yo=new gl,e.Bnt=[],e.hZ=!0,e.eZ(),e}Rt(i,n);var r=i.prototype;return r.JR=function(){return this.knt.QR},r.$R=function(t){this.na.QR=t},r.Qo=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,i.Yo.Qo(t,n).catch(Go)]}))}))()},r.Rnt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:Zo(n),i.knt.oy(i.Int),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,i.knt.Ca(t,n)];case 2:return r.sent(),[3,4];case 3:return i.knt.gy(i.Int),[7];case 4:return[2]}}))}))()},r.Ent=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.Cnt()];case 1:return n=i.sent(),t.Pnt(n),[2]}}))}))()},r.Cnt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return(n=t.iu())&&!iE(n)&&t.SO&&t.KR?[2,t.gst.Dnt(t.ZR)]:[2,"none"]}))}))()},r.Pnt=function(t){var n,i=(null==(n=this.iu())?void 0:n.mutedAutoplay)||this.kd.mutedAutoplay;switch(t){case"all":this.qst();break;case"muted":(this.ZR||i===xT.ALL)&&(this.ZR=!0,this.xI())}},r.Ca=function(t){iE(this.sZ)||this._o(new pT(0,Ny.eO)),this.nr(),this.sZ=t;var n=this;na(this.Qo(Zt((function(i){var r,e;return Ht(this,(function(u){switch(u.label){case 0:Zo(i),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,n.Rnt(t,i)];case 2:return u.sent(),[3,5];case 3:return Xo(r=u.sent()),n.sZ=void 0,n.BH(al(r,ul.SOURCE_NOT_SUPPORTED)),[2];case 4:return n.Nnt(n.knt),[7];case 5:return[4,n.Cnt()];case 6:return e=u.sent(),n._o(new WM(n.iu())),n.Pnt(e),[2]}}))}))))},r.RR=function(t,n){this.na.RR(t,n)},r.NR=function(){var t;return null!=(t=this.TZ)?t:this.knt.NR()},r.LR=function(){var t;return null!=(t=this.YG)?t:this.knt.LR()},r.BH=function(t){void 0===this.LR()&&(this.YG=t,this.TZ=cm(t),this._o(new Ik(t)))},r.xI=function(){this.na.xI()},r.qst=function(){this.ZR||this.kI(),this.xI()},r.kI=function(){this.knt.kI()},r.EI=function(){this.na.EI()},r.RI=function(){this.Ca(void 0)},r.ge=function(){this.hZ=!0,this.na.ge()},r.be=function(){this.hZ=!1,this.na.be()},r.Aa=function(){this.knt.Aa()},r.wI=function(t){this.knt.wI(t)},r.zR=function(t){this.knt.zR(t)},r.Pa=function(t){this.Mnt=t,t.jJ(this)},r.cs=function(){return this.knt.cs()},r.iu=function(){return this.sZ},r.TI=function(){return this.knt.TI()},r.xR=function(){return this.na.xR()},r.Tst=function(){return this.na.Tst()},r.jd=function(){return this.knt.jd()},r.yR=function(){return this.knt.yR()},r.eI=function(){return this.knt.eI()},r.aI=function(){return this.knt.aI()},r.NI=function(){this.knt.NI()},r.MI=function(){this.knt.MI()},r.OI=function(t){return this.knt.OI(t)},r.nr=function(){this.sZ=void 0,this.YG=void 0,this.TZ=void 0,this.Lnt=!0,Eo(this.Bnt),this.Ont.nr(),this.Nnt(this.Ont),this.Yo.jw();var t=this;na(this.Yo.Qo(Zt((function(n){return Ht(this,(function(i){switch(i.label){case 0:return Zo(n),[4,t.knt.RI()];case 1:return i.sent(),[2]}}))}))))},r.yn=function(){this._o(new MM),this.xnt.yn(),this.iZ(),this.nr();var t=this;na(this.Qo(Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.knt.yn()];case 1:return n.sent(),t.Mnt&&(t.Mnt.eT(t),t.Mnt=void 0),t.Yo.yn(),[2]}}))})))),this.Ro()},r.Nnt=function(t){if(this.na!==t){var n=this.na.KR,i=this.na.xR(),r=this.na.QR,e=this.na.rI,u=this.na.uI;this.Fnt=n,this.k7=e,this.iZ(),t.oy(this.Vnt),t===this.knt?(void 0!==this.Oc&&(this.Oc.vC=t.zc,this.Wnt.hnt(this.Oc)),(u||t.xR()!==i)&&t.RR(i),t.QR!==r&&(t.QR=r),n?t.EI():t.xI()):(void 0!==this.Oc&&(this.Oc.vC=this.Wnt,this.Wnt.nr()),this.kd.retainPlaybackRateOnSourceChange?t.QR=r:1!==r&&this._o(new kT(this.xR(),1))),t.gy(this.Vnt),this.na=t,this.eZ();for(var s=0,o=this.Bnt;s<o.length;s++){var a=o[s];this._o(a)}Eo(this.Bnt),this.hZ?t.ge():t.be()}},r.eZ=function(){this.na.oy(this.LI)},r.iZ=function(){this.na.gy(this.LI)},r.ka=function(){return UM(this)},xt(i,[{key:"Cst",get:function(){return this.knt.Cst}},{key:"zc",get:function(){return this.Oc}},{key:"Rst",get:function(){return this.knt.Rst}},{key:"kd",get:function(){return this.knt.kd}},{key:"fR",get:function(){return this.knt.fR}},{key:"Sa",get:function(){return this.knt.Sa}},{key:"fH",get:function(){return this.knt.fH}},{key:"xst",get:function(){return this.knt.xst}},{key:"yst",get:function(){return this.knt.yst}},{key:"Ta",get:function(){return this.knt.Ta}},{key:"vst",get:function(){return this.knt.vst}},{key:"SO",get:function(){return this.knt.SO},set:function(t){this.knt.SO=t,this.Ent()}},{key:"gst",get:function(){return this.knt.gst}},{key:"ht",get:function(){return this.knt.ht}},{key:"Iz",get:function(){return this.knt.Iz}},{key:"Hu",get:function(){return this.knt.yst}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}},{key:"OR",get:function(){return this.knt.OR}},{key:"AI",get:function(){return this.knt.AI},set:function(t){this.knt.AI=t}},{key:"GR",get:function(){return this.knt.GR}},{key:"XX",get:function(){return this.knt.XX}},{key:"nt",get:function(){return this.knt.nt}},{key:"Wl",get:function(){return this.knt.Wl}},{key:"rt",get:function(){return this.knt.rt}},{key:"Sst",get:function(){return this.knt.Sst}},{key:"iQ",get:function(){return this.knt.iQ}},{key:"bR",get:function(){return this.na.bR},set:function(t){this.na.bR=t}},{key:"bt",get:function(){return this.knt.bt}},{key:"we",get:function(){return this.knt.we}},{key:"PR",get:function(){return this.knt.PR}},{key:"ZR",get:function(){return this.knt.ZR},set:function(t){this.zR(t)}},{key:"KR",get:function(){return this.na.KR}},{key:"mi",get:function(){return this.xnt.Xu||""},set:function(t){this.xnt.jst=t}},{key:"QR",get:function(){return this.JR()},set:function(t){this.$R(t)}},{key:"iI",get:function(){return this.knt.iI},set:function(t){this.knt.iI=t}},{key:"rI",get:function(){return this.na.rI}},{key:"Ma",get:function(){return this.knt.Ma},set:function(t){this.knt.Ma=t}},{key:"uI",get:function(){return this.na.uI}},{key:"Ost",get:function(){return this.knt.Ost}},{key:"Vst",get:function(){return this.knt.Vst}},{key:"IC",get:function(){return this.knt.IC}},{key:"dI",get:function(){return this.knt.dI}},{key:"vI",get:function(){return this.knt.vI}},{key:"gI",get:function(){return this.knt.gI},set:function(t){this.wI(t)}},{key:"yI",get:function(){return this.knt.yI}},{key:"kst",get:function(){return this.knt.kst}},{key:"Eo",get:function(){return this.knt.Eo}}]),i}(ha)}(t);Gn.Cm&&Gn.Dm<3&&(n=function(t){return function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Unt=0,n}Rt(n,t);var i=n.prototype;return i.Ca=function(n){this.Unt=0,t.prototype.Ca.call(this,n)},i._o=function(n){if(n.type===Yp.fa&&this.Unt<3)return this.Unt++,t.prototype._o.call(this,new _B(n)),void t.prototype.Ca.call(this,this.iu());t.prototype._o.call(this,n)},n}(t)}(n)),n=function(t){for(var n=t,i=0;i<Kk.length;i++){var r=Kk[i];if(qk[r])for(var e=0,u=qk[r];e<u.length;e++)n=(0,u[e])(n)}return n}(n),yB=n}return yB}function kB(t,n){var i=PT(n),r=new(bB())(t,i);r.Ma=r;var e=r.wa;return r.Aa(),r.Pa(VM),k.defineProperty(e,"constructor",{value:kB}),e=Pg(e),nA(r),e}ta((function(){self.dispatchEvent&&self.dispatchEvent(LM("theoplayerready"))})),U(),St();var AB=function(){function t(){}var n=t.prototype;return n.encode=function(t){return Ca(t)},n.decode=function(t){return Ea(t)},t}(),TB={base64:new AB};U(),St();var SB=JSON.parse('["hbbtv","dash","hesp","millicast","hls","chromecast","ads","theoads","airplay","spotx","vr","cache","webaudio","youbora","mediamelon","moat","google-dai","streamone","lcevc","freewheel","agama","uplynk","mediatailor","ui","relatedcontent","social","upnext","contextmenu","texttrackstyle-ui","activequalitylabel","upcomingadnotification"]'),EB="9.3.1",IB=VM.wa,RB=v_.mP.registerContentProtectionIntegration.bind(v_.mP);U(),St(),U(),St(),U(),St(),U(),St(),Gt(),Jt();var CB=function(){function t(t){this.mZ=t,this.ort=new gl}var n=t.prototype;return n.Dnt=function(t){var n=this;return this.ort.Qo((function(){return n.hrt(t)}))},n.kI=function(){this.mZ.vZ()},n.hrt=function(n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=i.mZ.OH(rm.mE),e=r.jG,[4,t.art(e,n)];case 1:return u=s.sent(),[4,i.mZ.yH(r)];case 2:return s.sent(),[2,u]}}))}))()},n.yn=function(){this.ort.yn()},t.art=function(n,i){return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return Gn.Mm||Gn.Cm?[2,"all"]:(n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),[4,t.urt()]);case 1:return e.sent(),(r=!i)?[4,t.crt(n,!1)]:[3,3];case 2:r=e.sent(),e.label=3;case 3:return r?[2,"all"]:[4,t.crt(n,!0)];case 4:return e.sent()?[2,"muted"]:[2,"none"]}}))}))()},t.crt=function(t,n){return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:t.muted=n,i=t.play(),e.label=1;case 1:return e.trys.push([1,3,4,5]),ri(i)?(r=ea(250),[4,ut.race([i,r])]):[2,!Gn.Qs];case 2:return e.sent(),[2,!0];case 3:return e.sent(),[2,!1];case 4:return t.pause(),t.muted=!0,[7];case 5:return[2]}}))}))()},t.urt=function(){return new ut((function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else g(t,0)}))},t}(),NB={yY:function(t){f.addEventListener("beforeunload",t)},mY:function(t){f.removeEventListener("beforeunload",t)}},xB={Knt:yM,rrt:CB,lrt:NB};U(),St();var DB=function(){function t(){}var n=t.prototype;return n.Dnt=function(t){return ut.resolve("all")},n.kI=function(){},n.yn=function(){},t}();(function(t){JT=t.Knt,QT=t.rrt,$T=t.lrt})(Gn.Bm&&Gn.Fm?ss({},xB,{rrt:DB}):xB),U(),St(),U(),St(),Ct(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Jt();var PB=function(){function t(){}var n=t.prototype;return n.FH=function(t){return Zt((function(){return Ht(this,(function(n){return[2,tT(t.type)]}))}))()},n.VH=function(t){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,x_(t,!0)];case 1:return n.sent()?[2,!0]:[2,!1]}}))}))()},t}(),MB=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.FH=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){return Wr(n.useManagedMediaSource)?[2,t.prototype.FH.call(i,n)]:[2,!1]}))}))()},n}(PB);function BB(t){return kd(t)}function OB(t,n){var i=kd(t);return n?""+i+n:""+i}U(),St(),Gt(),Jt(),U(),St();var LB=function(){function t(t,n,i,r){this._rt=t,this.mrt=n,this.prt=i,this.wrt=r}var n=t.prototype;return n.drt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n._rt.frt(t.map(BB))];case 1:return[2,i.sent().shift()]}}))}))()},n.vrt=function(t,n){var i=OB(t,n);return this.mrt.Mb(i)},n.grt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return e=OB(t,n),[4,i.prt.Lb(e)];case 1:return[2,null==(r=u.sent())?void 0:r.data]}}))}))()},n.IQ=function(t){return this.wrt.Lb(t)},t}();U(),St(),Dt(),U(),St(),U(),St();var FB=function(){function t(){}var n=t.prototype;return n.yrt=function(t){return ut.resolve(!1)},n.brt=function(t){return ut.reject(VB)},n.Art=function(t){return ut.reject(VB)},n.Mb=function(t){return ut.resolve(!1)},n.Lb=function(t){return ut.resolve(void 0)},n.Srt=function(t,n){return ut.resolve(void 0)},n.frt=function(t){return ut.resolve([])},n.Trt=function(){return ut.resolve([])},n.krt=function(t){return ut.resolve([])},n.Ert=function(t,n){return ut.resolve([])},n.eT=function(t){return ut.reject(VB)},n.xrt=function(t){return ut.reject(VB)},n.Rrt=function(){return ut.reject(VB)},t}(),VB="Storage disabled",UB=function(){function t(){this.Lrt=new FB,this.Mrt=new FB,this.Brt=new FB,this.Ort=new FB,this.Frt=new FB}return t.prototype.Drt=function(t){return ut.reject(WB)},t.Ait=function(){return ut.resolve(new t)},t}(),WB="Storage disabled";U(),St(),Gt(),Jt(),U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),Dt(),Jt();var jB=function(){function t(t){var n=this;this.Kw=new Kc,this.Crt=void 0,this.Kw.Qw(t),this.Kw.Ub.then((function(t){n.Crt=t}))}var n=t.prototype;return n.yrt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Crt)?[3,2]:[4,n.Irt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.yrt(t)]}}))}))()},n.brt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return(r=i.Crt)?[3,2]:[4,i.Irt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.brt(t,n)]}}))}))()},n.Art=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return(r=i.Crt)?[3,2]:[4,i.Irt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.Art(t,n)]}}))}))()},n.Mb=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Crt)?[3,2]:[4,n.Irt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Mb(t)]}}))}))()},n.Lb=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Crt)?[3,2]:[4,n.Irt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Lb(t)]}}))}))()},n.Srt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return(r=i.Crt)?[3,2]:[4,i.Irt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.Srt(t,n)]}}))}))()},n.frt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Crt)?[3,2]:[4,n.Irt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.frt(t)]}}))}))()},n.Trt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(n=t.Crt)?[3,2]:[4,t.Irt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.Trt()]}}))}))()},n.krt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Crt)?[3,2]:[4,n.Irt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.krt(t)]}}))}))()},n.Ert=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return(r=i.Crt)?[3,2]:[4,i.Irt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.Ert(t,n)]}}))}))()},n.eT=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Crt)?[3,2]:[4,n.Irt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.eT(t)]}}))}))()},n.xrt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Crt)?[3,2]:[4,n.Irt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.xrt(t)]}}))}))()},n.Rrt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(n=t.Crt)?[3,2]:[4,t.Irt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.Rrt()]}}))}))()},xt(t,[{key:"Irt",get:function(){return this.Kw.Ub}}]),t}(),ZB=function(){function t(t){var n=this;this.Kw=new Kc,this.Nrt=void 0,this.Kw.Qw(t);var i=this.Kw.Ub;i.then((function(t){n.Nrt=t})),this.Mrt=new jB(i.then((function(t){return t.Mrt}))),this.Lrt=new jB(i.then((function(t){return t.Lrt}))),this.Brt=new jB(i.then((function(t){return t.Brt}))),this.Ort=new jB(i.then((function(t){return t.Ort}))),this.Frt=new jB(i.then((function(t){return t.Frt})))}return t.prototype.Drt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Nrt)?[3,2]:[4,n.Prt];case 1:i=r.sent(),r.label=2;case 2:return[4,i.Drt(t)];case 3:return[2,r.sent()]}}))}))()},xt(t,[{key:"Prt",get:function(){return this.Kw.Ub}}]),t}();function XB(t){return new y("This storage cannot handle persistency type "+t)}U(),St(),U(),St(),Wt(),U(),St();var GB=function(t){return t.Vrt="readonly",t.Wrt="readwrite",t}({}),HB=function(){function t(){this.pA=[]}var n=t.prototype;return n.yrt=function(t){return ut.resolve("temporary"===t)},n.brt=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?ut.reject(XB(n)):(this.Urt(t.key),this.pA.push(t),ut.resolve())},n.Art=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return ut.reject(XB(n));for(var i=0;i<t.length;i++){var r=t[i];this.Urt(r.key)}for(var e=0;e<t.length;e++){var u=t[e];this.pA.push(u)}return ut.resolve()},n.Mb=function(t){return ut.resolve(Boolean(this.Grt(t)))},n.Lb=function(t){return ut.resolve(this.Grt(t))},n.Srt=function(t,n){return ut.resolve(this.Hrt(t,n))},n.frt=function(t){var n=this,i=t?t.map((function(t){return n.Grt(t)})):this.pA;return ut.resolve(i.filter(Yn))},n.Trt=function(){return ut.resolve(Ut(this.pA))},n.krt=function(t){return this.Ert(t,"key")},n.Ert=function(t,n){var i=this.pA.filter((function(i){return i[n]===t}));return ut.resolve(i)},n.eT=function(t){return this.Urt(t),ut.resolve()},n.xrt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Urt(i)}return ut.resolve()},n.Rrt=function(){return Eo(this.pA),ut.resolve()},n.Grt=function(t){return this.Hrt(t,"key")},n.Hrt=function(t,n){for(var i=0,r=this.pA;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},n.Urt=function(t){var n=this.Grt(t);n&&bo(this.pA,n)},t}(),zB=function(){function t(){this.Lrt=new HB,this.Mrt=new HB,this.Brt=new HB,this.Ort=new HB,this.Frt=new HB}return t.prototype.Drt=function(t){return t(this)},t.Ait=function(){return ut.resolve(new t)},t}();U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),Wt(),Jt();var YB=function(){function t(t){this.Zrt=t}var n=t.prototype;return n.yrt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,r=n.Zrt,e.label=1;case 1:return i<r.length?[4,r[i].yrt(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.brt=function(t,n){void 0===n&&(n="persistent");var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=0,e=i.Zrt,s.label=1;case 1:return r<e.length?[4,(u=e[r]).yrt(n)]:[3,4];case 2:if(s.sent())return[2,u.brt(t)];s.label=3;case 3:return r++,[3,1];case 4:throw XB(n)}}))}))()},n.Art=function(t,n){void 0===n&&(n="persistent");var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=0,e=i.Zrt,s.label=1;case 1:return r<e.length?[4,(u=e[r]).yrt(n)]:[3,4];case 2:if(s.sent())return[2,u.Art(t)];s.label=3;case 3:return r++,[3,1];case 4:throw XB(n)}}))}))()},n.Mb=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,r=n.Zrt,e.label=1;case 1:return i<r.length?[4,r[i].Mb(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.Lb=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:i=0,r=n.Zrt,u.label=1;case 1:return i<r.length?[4,r[i].Lb(t)]:[3,4];case 2:if(e=u.sent())return[2,e];u.label=3;case 3:return i++,[3,1];case 4:return[2,void 0]}}))}))()},n.Srt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=0,e=i.Zrt,s.label=1;case 1:return r<e.length?[4,e[r].Srt(t,n)]:[3,4];case 2:if(u=s.sent())return[2,u];s.label=3;case 3:return r++,[3,1];case 4:return[2,void 0]}}))}))()},n.frt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:i=[],r=0,e=n.Zrt,h.label=1;case 1:return r<e.length?(u=e[r],a=(o=(s=i).push).apply,c=[s],[4,u.frt(t)]):[3,4];case 2:a.apply(o,c.concat([Ut.apply(void 0,[h.sent()])])),h.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.Trt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:n=[],i=0,r=t.Zrt,c.label=1;case 1:return i<r.length?(e=r[i],o=(s=(u=n).push).apply,a=[u],[4,e.Trt()]):[3,4];case 2:o.apply(s,a.concat([Ut.apply(void 0,[c.sent()])])),c.label=3;case 3:return i++,[3,1];case 4:return[2,n]}}))}))()},n.krt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:i=[],r=0,e=n.Zrt,h.label=1;case 1:return r<e.length?(u=e[r],a=(o=(s=i).push).apply,c=[s],[4,u.krt(t)]):[3,4];case 2:a.apply(o,c.concat([Ut.apply(void 0,[h.sent()])])),h.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.Ert=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:r=[],e=0,u=i.Zrt,f.label=1;case 1:return e<u.length?(s=u[e],c=(a=(o=r).push).apply,h=[o],[4,s.Ert(t,n)]):[3,4];case 2:c.apply(a,h.concat([Ut.apply(void 0,[f.sent()])])),f.label=3;case 3:return e++,[3,1];case 4:return[2,r]}}))}))()},n.eT=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,r=n.Zrt,e.label=1;case 1:return i<r.length?[4,r[i].eT(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.xrt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,r=n.Zrt,e.label=1;case 1:return i<r.length?[4,r[i].xrt(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.Rrt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=0,i=t.Zrt,r.label=1;case 1:return n<i.length?[4,i[n].Rrt()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))()},t}();function KB(t){return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,ut.all(t.map((function(t){return t()})))];case 1:return n=i.sent(),[2,qB.Ait(n)]}}))}))}var qB=function(){function t(t){this.jrt=t,this.Xrt=new YB(t.map((function(t){return t.Ort}))),this.zrt=new YB(t.map((function(t){return t.Frt}))),this.qrt=new YB(t.map((function(t){return t.Brt}))),this.Yrt=new YB(t.map((function(t){return t.Lrt}))),this.Krt=new YB(t.map((function(t){return t.Mrt})))}return t.prototype.Drt=function(n){var i=this;if(0===this.jrt.length)return n(this);var r=[],e=0,u=function(s){return r.push(s),++e<i.jrt.length?i.jrt[e].Drt(u):n(new t(r))};return this.jrt[e].Drt(u)},t.Ait=function(n){return ut.resolve(new t(n))},xt(t,[{key:"Ort",get:function(){return this.Xrt}},{key:"Frt",get:function(){return this.zrt}},{key:"Brt",get:function(){return this.qrt}},{key:"Lrt",get:function(){return this.Yrt}},{key:"Mrt",get:function(){return this.Krt}}]),t}(),JB=function(){function t(t){this.eot=[],this.tot=!0,this.iot=t}var n=t.prototype;return n.Ait=function(){return new ZB(this.$rt())},n.$rt=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return t.tot?[4,ut.resolve()]:[3,2];case 1:e.sent(),t.tot=!1,e.label=2;case 2:n=0,i=t.eot,e.label=3;case 3:if(!(n<i.length))return[3,8];r=i[n],e.label=4;case 4:return e.trys.push([4,6,,7]),[4,KB([zB.Ait,r])()];case 5:return[2,e.sent()];case 6:return e.sent(),[3,7];case 7:return n++,[3,3];case 8:return[4,KB([zB.Ait,t.iot])()];case 9:return[2,e.sent()]}}))}))()},n.Pa=function(t){if(!this.tot)throw new y("Registration overdue");this.eot.push(t)},t}(),QB=function(){function t(){}return t.Pa=function(n){t.EG.Pa(n)},xt(t,null,[{key:"Vg",get:function(){return t.Qrt||(t.Qrt=t.EG.Ait()),t.Qrt}}]),t}();function $B(t){return void 0!==t.dI}function tO(t){var n=Gn.Mm||Gn.Cm,i=void 0!==t&&void 0!==t.preferredAudioCodecs&&t.preferredAudioCodecs.some((function(t){return"ac-3"===t||"ec-3"===t})),r=n&&!i,e=new Ur(!0);return Zt((function(t){var n,i,u;return Ht(this,(function(s){switch(s.label){case 0:return n=t.Mk,e.bp(n)||function(t,n){return!!t&&(Lv(t)?sy(n)||ay(n):Zs(t,Ov.APPLICATION_TTML_XML)||Zs(t,Ov.TEXT_VTT)||Zs(t,Ov.IMAGE_JPEG))}(t.jq,t.Jrt)?(i=t.Jrt.some((function(t){return"ac-3"===t||"ec-3"===t})),r&&i?[2,!1]:t.TG?(u=t.TG,[4,Bo(Ro(u,(function(t){return Ws(t.c9)})).filter(Yn),(function(t){return qn.jp(t,n)}))]):[3,2]):[2,!1];case 1:if(!s.sent())return[2,!1];s.label=2;case 2:return[2,!0]}}))}))}QB.EG=new JB(UB.Ait),QB.Qrt=void 0,U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),U(),St(),Gt(),Jt(),U(),St(),Dt();var nO=function(){function t(t){this.rot=t}return xt(t,[{key:"Ti",get:function(){return this.rot.offsetHeight*qn.Ys.Kg}},{key:"ji",get:function(){return this.rot.offsetWidth*qn.Ys.Kg}}]),t}();U(),St(),Dt();var iO=function(){function t(t,n){this.Hl=new $p,this.b8=new qx(t,n)}var n=t.prototype;return n.OI=function(t,n,i,r,e,u,s,o){var a=new JN(t,n,i,r,e,u,s,void 0,o);return this.Hl.tt(a),this.b8.tt(a),a},n.mW=function(t){this.Hl.it(t),this.b8.it(t),t.yn()},n._H=function(t){var n=new bD(t.Lt,t.Ch,t.gs);return this.Hl.tt(n),this.b8.tt(n),n},n.nr=function(){for(var t=0,n=this.Hl.lC.slice();t<n.length;t++){n[t].yn()}this.Hl.nr(),this.b8.nr()},n.yn=function(){this.nr(),this.Hl.yn(),this.b8.yn()},xt(t,[{key:"nt",get:function(){return this.Hl}}]),t}();U(),St(),Gt(),Ct(),Jt(),U(),St();var rO=function(){function t(t){this.EG=t}var n=t.prototype;return n.OH=function(t){return this.EG.OH(t)},n.ert=function(t){return this.EG.ert(t)},n.yH=function(t){return this.EG.yH(t)},t}();U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Gt(),Dt(),Ct(),Jt();var eO=function(t){function n(n){var i;return(i=t.call(this)||this).JG=void 0,i.dot=new cA,i.wot=function(t){return i.LI(t)},i.WB=n,i.dot.vC=n.nt,i.WB.bn(UR,i.wot),i}Rt(n,t);var i=n.prototype;return i.yR=function(){return this.WB.wR},i.AR=function(){return this.WB.bR},i.xR=function(){return this.WB.ER},i.jd=function(){return this.WB.ct},i.hot=function(){return this.WB.$G},i.aot=function(){return this.WB.PR},i.SI=function(){return this.WB.Sa},i.ja=function(){return this.WB.fH},i.uot=function(){return this.WB.KR},i.eI=function(){return this.WB.tI},i.oI=function(){return this.WB.rI},i.aI=function(){return this.WB.hI},i.cI=function(){return this.WB.uI},i.cot=function(){return this.WB.M4},i.lot=function(){return this.WB.X4},i.lI=function(){return this.dot},i.j7=function(){return this.WB.Wl},i.fot=function(){return this.WB.wH},i._ot=function(t){this.WB.wH=t},i.vot=function(t){this.WB.T7=t},i.mot=function(){return this.WB.h9},i.HR=function(){return this.WB.HR()},i.xI=function(){return this.WB.xI()},i.EI=function(){this.WB.EI()},i.Rb=function(t,n,i){this.WB.Rb(t,n,i)},i.zG=function(t){this.WB.zG(t)},i.ge=function(){this.WB.ge()},i.be=function(){this.WB.be()},i.OI=function(t,n,i,r,e,u,s,o){return this.WB.OI(t,n,i,r,e,u,s,o)},i._H=function(t){return this.WB._H(t)},i.uH=function(){return this.WB.uH()},i.lH=function(t,n,i,r,e){return this.WB.lH(t,n,i,r,e)},i.mW=function(t){this.WB.mW(t)},i.vH=function(){this.WB.vH()},i.MJ=function(t){return this.WB.MJ(t)},i.$n=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return[4,n.WB.$n(t)];case 1:return i=e.sent(),r=t.Tw===Ey.pW?n.got(i):n.pot(i),n.JG=r,[2,r]}}))}))()},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.JG?[4,t.JG.Xw()]:[3,2];case 1:n.sent(),t.JG=void 0,n.label=2;case 2:return[4,t.WB.nr()];case 3:return n.sent(),[2]}}))}))()},i.p7=function(){this.WB.p7()},i.w7=function(){this.WB.w7()},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),t.WB.vn(UR,t.wot),t.dot.vC=void 0,t.dot.yn(),t.JG?[4,t.JG.Xw()]:[3,2];case 1:n.sent(),t.JG=void 0,n.label=2;case 2:return[2]}}))}))()},i.A7=function(){this.WB.A7()},i.yot=function(t){this.WB.vn(UR,this.wot),this.WB=t,this.dot.vC=t.nt,this.WB.bn(UR,this.wot)},i.LI=function(t){this._o(t)},xt(n,[{key:"oot",get:function(){return this.WB}},{key:"wR",get:function(){return this.yR()}},{key:"bR",get:function(){return this.AR()}},{key:"ER",get:function(){return this.xR()}},{key:"Hu",get:function(){return this.WB.Hu}},{key:"ct",get:function(){return this.jd()}},{key:"$G",get:function(){return this.hot()}},{key:"PR",get:function(){return this.aot()}},{key:"lt",get:function(){return this.WB.lt}},{key:"Ti",get:function(){return this.WB.Ti}},{key:"ji",get:function(){return this.WB.ji}},{key:"Sa",get:function(){return this.SI()}},{key:"fH",get:function(){return this.ja()}},{key:"ZR",get:function(){return this.WB.ZR},set:function(t){this.WB.ZR=t}},{key:"KR",get:function(){return this.uot()}},{key:"QR",get:function(){return this.WB.QR},set:function(t){this.WB.QR=t}},{key:"tI",get:function(){return this.eI()}},{key:"rI",get:function(){return this.oI()}},{key:"hI",get:function(){return this.aI()}},{key:"uI",get:function(){return this.cI()}},{key:"M4",get:function(){return this.cot()}},{key:"X4",get:function(){return this.lot()}},{key:"nt",get:function(){return this.lI()}},{key:"Wl",get:function(){return this.j7()}},{key:"G9",get:function(){return this.WB.G9}},{key:"gI",get:function(){return this.WB.gI},set:function(t){this.WB.gI=t}},{key:"y7",get:function(){return this.WB.y7}},{key:"WR",get:function(){return this.WB.WR}},{key:"qB",get:function(){return this.WB.qB}},{key:"wH",get:function(){return this.fot()},set:function(t){this._ot(t)}},{key:"T7",get:function(){return this.WB.T7},set:function(t){this.vot(t)}},{key:"h9",get:function(){return this.mot()}}]),n}(aa),uO=function(t){function n(n){return t.call(this,n)||this}Rt(n,t);var i=n.prototype;return i.S7=function(t){this.WB.S7(t)},i.NI=function(){this.WB.NI()},xt(n,[{key:"jG",get:function(){return this.WB.jG}},{key:"U4",get:function(){return this.WB.U4}},{key:"AI",get:function(){return this.WB.AI},set:function(t){this.WB.AI=t}}]),n}(eO);U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Dt();var sO=function(){function t(t){this.JG=t}var n=t.prototype;return n.mT=function(){return this.JG.kd},n.aI=function(){return this.JG.hI},n.dJ=function(t){return this.JG.dJ(t)},n._J=function(t){return this.JG._J(t)},n.Xw=function(){return ut.resolve()},xt(t,[{key:"kd",get:function(){return this.mT()}},{key:"hI",get:function(){return this.aI()}}]),t}(),oO=function(t){function n(n){var i;return(i=t.call(this,n)||this).u4=void 0,i.c4=void 0,i.kot=function(t){return i.Eot(t)},i}Rt(n,t);var i=n.prototype;return i.yR=function(){return this.JG.wR},i.jd=function(){return this.JG.ct},i.bot=function(){return this.JG.RJ},i.d4=function(t){this.JG.d4(t)},i.m4=function(t,n,i,r){this.JG.m4(t,n,i,r)},i.a3=function(){this.JG.a3()},i.J2=function(){this.JG.J2()},i.Xw=function(){return this.u4&&(this.u4.Xw(),this.u4=void 0),this.c4&&(this.c4.Xw(),this.c4=void 0),t.prototype.Xw.call(this)},i.Aot=function(t){this.JG=t,this.u4?t.h4?this.u4.Sot(t.h4):(this.u4.Xw(),this.u4=void 0):t.h4&&(this.u4=this.Tot(t.h4),this.u4.bn(XR,this.kot)),this.c4?t.a4?this.c4.Sot(t.a4):(this.c4.Xw(),this.c4=void 0):t.a4&&(this.c4=this.Tot(t.a4),this.c4.bn(XR,this.kot))},i.mJ=function(t){this.JG.mJ(t)},i.Eot=function(t){},xt(n,[{key:"h4",get:function(){return this.u4}},{key:"a4",get:function(){return this.c4}},{key:"wR",get:function(){return this.yR()}},{key:"ct",get:function(){return this.jd()}},{key:"RJ",get:function(){return this.bot()}}]),n}(sO);U(),St(),Gt(),Dt(),Ct(),rn(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var aO=function(t){function n(n){var i;return(i=t.call(this)||this).Pj=0,i.Mj=0,i.MT=n,i}Rt(n,t);var i=n.prototype;return i.g2=function(t,n,i){return ut.reject(new y("Invalid media buffer"))},i.T3=function(){return ut.reject(new y("Invalid media buffer"))},i.A2=function(t,n,i){return ut.reject(new y("Invalid media buffer"))},i.RJ=function(){return!1},i.a3=function(){},i.A3=function(t,n){},i.S3=function(t,n){},i.eT=function(t,n,i){return ut.resolve()},i.F2=function(t,n){return ut.reject(new y("Invalid media buffer"))},i.DO=function(t,n){return ut.reject(new y("Invalid media buffer"))},i.dJ=function(t){return!1},i._J=function(t){return ut.reject(new y("Invalid media buffer"))},i.Xw=function(){this.Ro()},xt(n,[{key:"Ej",get:function(){return this.Mj},set:function(t){this.Mj=t}},{key:"wR",get:function(){return BA.pB()}},{key:"kd",get:function(){return this.MT}},{key:"m3",get:function(){return rm.iE}},{key:"w3",get:function(){return BA.pB()}},{key:"xot",get:function(){return!1}},{key:"bj",get:function(){return this.Pj},set:function(t){this.Pj=t}}]),n}(aa),cO=function(t){function n(n){var i;return(i=t.call(this)||this).Mot=function(t){return i.LI(t)},i.Cot=n,i.Cot.bn(XR,i.Mot),i}Rt(n,t);var i=n.prototype;return i.Rot=function(){return this.Cot.Ej},i.Iot=function(t){this.Cot.Ej=t},i.yR=function(){return this.Cot.wR},i.mT=function(){return this.Cot.kd},i.Pot=function(){return this.Cot.w3},i.Dot=function(){return this.Cot.bj},i.Not=function(t){this.Cot.bj=t},i.g2=function(t,n,i){return this.Cot.g2(t,n,i)},i.T3=function(){return this.Cot.T3()},i.A2=function(t,n,i){return this.Cot.A2(t,n,i)},i.RJ=function(){return this.Cot.RJ()},i.a3=function(){this.Cot.a3()},i.A3=function(t,n){this.Cot.A3(t,n)},i.S3=function(t,n){this.Cot.S3(t,n)},i.eT=function(t,n,i){return this.Cot.eT(t,n,i)},i.F2=function(t,n){return this.Cot.F2(t,n)},i.dJ=function(t){return this.Cot.dJ(t)},i._J=function(t){return this.Cot._J(t)},i.LI=function(t){this._o(t)},i.Xw=function(){this.Ro(),this.Sot(new aO(this.kd))},i.Sot=function(t){this.Cot.vn(XR,this.Mot),this.Cot=t,this.Cot.bn(XR,this.Mot)},xt(n,[{key:"Ej",get:function(){return this.Rot()},set:function(t){this.Iot(t)}},{key:"wR",get:function(){return this.yR()}},{key:"kd",get:function(){return this.mT()}},{key:"m3",get:function(){return this.Cot.m3}},{key:"w3",get:function(){return this.Pot()}},{key:"bj",get:function(){return this.Dot()},set:function(t){this.Not(t)}}]),n}(aa),hO=function(t){function n(n){var i;return(i=t.call(this,n)||this).WB=void 0,i}Rt(n,t);var i=n.prototype;return i.g2=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return Zo(i),[4,r.Lot(r.WB.ER,null==n?void 0:n.wit,null==n?void 0:n.ct)];case 1:return e.sent(),Zo(i),t.Tw!==GR.Sk?[3,3]:[4,r.Bot(t,n,i)];case 2:case 4:return[2,e.sent()];case 3:return[4,r.Oot(t,n,i)];case 5:return[2]}}))}))()},i.Bot=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:e=t,c.label=1;case 1:0,u=nn(zl(e.Kk),2),s=u[0],o=u[1],e={Tw:GR.Sk,Kk:s},c.label=2;case 2:return c.trys.push([2,4,,7]),[4,r.Fot(e,n,i)];case 3:return c.sent(),o.cancel(new Wo).catch(Si),[2];case 4:return uR(a=c.sent())?[4,r.Lot(r.WB.ER,n.wit,n.ct,i)]:[3,6];case 5:if(c.sent())return e={Tw:GR.Sk,Kk:o},[3,1];c.label=6;case 6:throw o.cancel(a).catch(Si),a;case 7:return[3,1];case 8:return[2]}}))}))()},i.Oot=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:0,u.label=1;case 1:return u.trys.push([1,3,,6]),Zo(i),[4,r.Fot(t,n,i)];case 2:return[2,u.sent()];case 3:return uR(e=u.sent())?[4,r.Lot(r.WB.ER,n.wit,n.ct,i)]:[3,5];case 4:if(u.sent())return[3,0];u.label=5;case 5:throw e;case 6:return[3,0];case 7:return[2]}}))}))()},i.Lot=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:u=eR(t,n,i,e.wR,e.bj,e.Ej),s=0,h.label=1;case 1:return s<u.length?(o=nn(u[s],2),a=o[0],c=o[1],[4,e.Vot(a,c,r)]):[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return[2,u.length>0]}}))}))()},i.Fot=function(n,i,r){return t.prototype.g2.call(this,n,i,r)},i.Vot=function(n,i,r){return t.prototype.eT.call(this,n,i,r)},xt(n,[{key:"Jnt",get:function(){return this.WB},set:function(t){this.WB=t}}]),n}(cO),fO=function(t){function n(n){var i;return(i=t.call(this,n)||this).WB=void 0,i.Aot(n),i}return Rt(n,t),n.prototype.Tot=function(t){var n=new hO(t);return n.Jnt=this.WB,n},xt(n,[{key:"Jnt",get:function(){return this.WB},set:function(t){this.WB=t,this.u4&&(this.u4.Jnt=t),this.c4&&(this.c4.Jnt=t)}}]),n}(oO);U(),St(),Dt(),Ct();var vO=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),xt(n,[{key:"iI",get:function(){return this.JG.iI},set:function(t){this.JG.iI=t}}]),n}(sO);U(),St(),Dt(),Ct();var lO=function(t){function n(n){return t.call(this,n)||this}Rt(n,t);var i=n.prototype;return i.S7=function(t){this.WB.S7(t)},i.NI=function(){this.WB.NI()},i.TI=function(){return this.WB.TI()},xt(n,[{key:"jG",get:function(){return this.WB.jG}},{key:"U4",get:function(){return this.WB.U4}},{key:"vI",get:function(){return this.WB.vI}},{key:"dI",get:function(){return this.WB.dI}},{key:"AI",get:function(){return this.WB.AI},set:function(t){this.WB.AI=t}}]),n}(eO),dO=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.pot=function(t){var n=new fO(t);return n.Jnt=this,n},i.got=function(t){return new vO(t)},xt(n,[{key:"oot",get:function(){return this.WB}}]),n}(uO),gO=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.pot=function(t){var n=new fO(t);return n.Jnt=this,n},i.got=function(t){return new vO(t)},xt(n,[{key:"oot",get:function(){return this.WB}}]),n}(lO),mO=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.OH=function(n){return n===rm.mE?new gO(t.prototype.OH.call(this,n)):n===rm.vE?new dO(t.prototype.OH.call(this,n)):void 0},i.yH=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,(r=n).Xw()];case 1:return e.sent(),[4,t.prototype.yH.call(i,r.oot)];case 2:return e.sent(),[2]}}))}))()},n}(rO);U(),St();var wO=function(){function t(t){var n=this;this.Uot=function(t){t.persisted&&n.Wot()},this.na=t,f.addEventListener("pageshow",this.Uot)}var n=t.prototype;return n.Wot=function(){this.na.MI()},n.yn=function(){f.removeEventListener("pageshow",this.Uot)},t}();U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Gt(),Dt(),Jt(),U(),St(),U(),St();var pO=function(){function t(t){this.Xot=t}var n=t.prototype;return n.Got=function(t,n,i){return ut.resolve()},n.Hot=function(t,n,i,r){var e=[];if(r){var u={MV:n.WO,LV:n.UO,BV:i.Zot.BV};r.Tw===Dm.TTML?e=Mp(t,r,u,i.jq):r.Tw===Dm.WEBVTT&&(e=Mw(t,u,this.Xot).L)}return e},n.nr=function(){},t}();U(),St(),Wt(),U(),St(),on(),U(),St();var yO,_O=function(t){return t.iD="vttc",t.zot="vsid",t.qot="iden",t.Yot="ctim",t.Kot="sttg",t.jot="payl",t.Qot="vtte",t.Jot="vtta",t}({}),bO=function(){function t(){}return t.$ot=function(n){return Boolean(t.tht[n])},t.JD=function(n){for(var i=[],r=pp.OD(new dp(n,new Pc)),e=0;e<r.length;e++){var u=r[e];t.$ot(u.Tw)&&i.push(t.tht[u.Tw](u.Kk))}return i},t.eht=function(n){var i=pp.OD(n),r=_p(i,_O.zot),e=_p(i,_O.qot),u=_p(i,_O.Yot),s=_p(i,_O.Kot),o=_p(i,_O.jot);return{Tw:_O.iD,iht:r?t.sht(r):void 0,nht:e?t.rht(e):void 0,oht:u?t.hht(u):void 0,aht:s?t.uht(s):void 0,cht:o?t.dht(o):void 0}},t.sht=function(t){return{Tw:_O.zot,fht:t.xD()}},t.rht=function(t){return{Tw:_O.qot,nht:t.ND()}},t.hht=function(t){return{Tw:_O.Yot,_ht:t.ND()}},t.uht=function(t){return{Tw:_O.Kot,vht:t.ND()}},t.dht=function(t){return{Tw:_O.jot,mht:t.ND()}},t.ght=function(t){return{Tw:_O.Qot}},t.pht=function(t){return{Tw:_O.Jot,wht:t.ND()}},t}();bO.tht=(sn(yO={},_O.iD,bO.eht),sn(yO,_O.Qot,bO.ght),sn(yO,_O.Jot,bO.pht),yO);var kO=function(){function t(){this.bht=NaN}var n=t.prototype;return n.Got=function(t,n,i){var r=new DataView(t.yht),e=Ap.JD(r),u=mo(e,(function(t){return t.Tw===hp.gP}));return u&&(this.bht=u.Z[0].AN.XD.mN),ut.resolve()},n.Hot=function(t,n,i){if(E(this.bht))return[];var r=Ec(t),e=Ap.JD(r),u=mp(e,hp.oD),s=mp(e,hp.fD);if(!u||0===u.Z.length||!s)return[];var o=function(t,n,i){for(var r=t.Z[0],e=r.aL?r.aL.aL.toNumber()/i:n.WO,u=[],s=0,o=r.hL;s<o.length;s++){var a,c=o[s];(a=u).push.apply(a,Ut(c._L))}return{Aht:e,_L:u}}(u,n,this.bht),a=i.Zot.BV;return function(t,n,i,r){for(var e=bO.JD(Ec(n.Kk)),u=t._L,s=t.Aht+r,o=[],a=0,c=0;c<u.length;c++){var h,f=u[c],v=e[c],l=(null!=(h=f.ct)?h:0)/i,d=void 0;v.Tw===_O.iD&&(d=AO(v,a,l,s)),d&&o.push(d),a+=l}return o}(o,s,this.bht,a)},n.nr=function(){this.bht=NaN},t}();function AO(t,n,i,r){if(t.cht){var e=t.oht?function(t){return Hw(t._ht,new Pc(0))}(t.oht):n,u=r+e,s=u+i,o=t.cht.mht;return new $m(u,s,o,!1)}}U(),St(),Gt(),Dt(),Ct(),rn(),Jt(),U(),St(),on();var TO,SO=function(t){return t[t.LZ=0]="LZ",t[t.Sht=1]="Sht",t[t.Tht=10]="Tht",t[t.kht=11]="kht",t[t.Eht=12]="Eht",t[t.xht=13]="xht",t[t.Rht=14]="Rht",t[t.Iht=15]="Iht",t[t.Cht=20]="Cht",t[t.Pht=21]="Pht",t[t.Dht=22]="Dht",t[t.Nht=23]="Nht",t[t.Mht=24]="Mht",t[t.Lht=30]="Lht",t[t.Bht=31]="Bht",t[t.Oht=32]="Oht",t[t.Fht=33]="Fht",t[t.Vht=34]="Vht",t[t.Wht=35]="Wht",t[t.Uht=40]="Uht",t[t.Ght=41]="Ght",t[t.Hht=42]="Hht",t[t.Zht=43]="Zht",t[t.Xht=44]="Xht",t[t.zht=50]="zht",t[t.qht=51]="qht",t[t.Yht=52]="Yht",t[t.Kht=60]="Kht",t[t.jht=61]="jht",t[t.Qht=62]="Qht",t[t.Jht=63]="Jht",t[t.$ht=70]="$ht",t[t.eat=71]="eat",t[t.iat=72]="iat",t[t.sat=73]="sat",t[t.nat=74]="nat",t[t.rat=75]="rat",t[t.oat=76]="oat",t[t.aat=77]="aat",t[t.uat=90]="uat",t[t.dat=91]="dat",t}({});sn(TO={},0,"Failed because"),sn(TO,1,"Created"),sn(TO,10,"Starting because unknown reason"),sn(TO,11,"Starting because new track loading"),sn(TO,12,"Starting because manifest changed"),sn(TO,13,"Starting because seek"),sn(TO,14,"Starting because timeupdate"),sn(TO,15,"Starting because buffering is being resumed"),sn(TO,20,"Interrupting because unknown reason"),sn(TO,21,"Interrupting because segment has a gap"),sn(TO,22,"Interrupting because segment is missing"),sn(TO,23,"Interrupting because seeking"),sn(TO,24,"Interrupting because buffer is full"),sn(TO,30,"Pausing because unknown reason"),sn(TO,31,"Pausing because target buffer reached"),sn(TO,32,"Pausing because no target time"),sn(TO,33,"Pausing because no segment selected"),sn(TO,34,"Pausing because end of stream is reached"),sn(TO,35,"Pausing because initialization segment is missing"),sn(TO,40,"Stopping because unknown reason"),sn(TO,41,"Stopping because manifest went offline"),sn(TO,42,"Stopping because seeking"),sn(TO,43,"Stopping because buffering is being paused"),sn(TO,44,"Stopping because unload"),sn(TO,50,"Resetting because unknown reason"),sn(TO,51,"Resetting because player was reset"),sn(TO,52,"Resetting because disallowed segment was added"),sn(TO,63,"Marking gap at"),sn(TO,60,"Target time is"),sn(TO,70,"[Selection 1] Select nothing if the target time has already been appended."),sn(TO,71,"[Selection 2] Select nothing if the time-based lookup failed."),sn(TO,72,"[Selection 3] If the segment has not been appended, select time-based lookup."),sn(TO,73,"[Selection 4A] Select the first unappended segment that occurs before the segment."),sn(TO,74,"[Selection 4B] Notify gap if no previous segment is available."),sn(TO,75,"[Selection 5A] Select the first unappended segment that occurs after the segment."),sn(TO,76,"[Selection 5B] Select nothing if no next segment is available."),sn(TO,77,"[Selection 6] Unreachable"),sn(TO,61,"Selected segment is"),sn(TO,62,"Appended segment is"),sn(TO,90,"Test setup"),sn(TO,91,"Test");function EO(t,n){var i=n.uB((function(n,i){return t.oB(n,i,!1,!1)}));return t.tB(i)}function IO(t,n){var i=n.jn(t.jL()).uB((function(n,i){return t.wr(i)}));return t.tB(i)}U(),St(),U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var RO=function(t){return t.fat="_at",t.vat="mat",t}({});U(),St(),Ct();var CO=function(t){function n(n,i,r){var e;return(e=t.call(this,"gat")||this).Sn=n,e.Tn=i,e.pat=r,e}return Rt(n,t),n}(Uo),NO=function(t){function n(){return t.call(this,"wat")||this}return Rt(n,t),n}(fa),xO=[va.eb,va.sb,va.$y,va.Ay],DO=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).sut=n,s.Hat=i,s.Eat=r,s.Aat=e,s.S9=u,s.Rat="Bat",s.YG=void 0,s.Lat=new Kc,s.zat=new Qo,s.Nat=new Qo,s.Ge=function(t){s.Pat||s.Wat||(!qn.hR&&s.Aat.nut(t.currentTime)||(s.zat.jw(),s.zat=new Qo,zo(s.iut(s.zat.Uw),s.zat).catch(Go)))},s.pd=Ii((function(){if(s.Dat){try{if(s.Aat.rut(),s.Aat.out())return}catch(t){if(!(t instanceof CO))throw t}s.Sn(SO.Rht)}}),250),s.Gat(),s}Rt(n,t);var i=n.prototype;return i.Iat=function(t){this.Rat!==t&&(this.Rat=t,this._o(new NO))},i.Sn=function(t){var n=this;return Zt((function(){var t;return Ht(this,(function(i){switch(i.label){case 0:return n.Pat||n.Dat?(t=n.py("wat"),n.Pat?(n.Nat.jw(),n.Nat=new Qo,zo(n.Mat(n.Nat.Uw),n.Nat)):(n.Lat.Vb(void 0),n.Lat=new Kc),[4,t]):[2];case 1:return i.sent(),[2]}}))}))()},i.RI=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:if(!n.Fat&&!n.Dat)return[2];0,n.Nat.jw(),t.label=1;case 1:return n.Pat||n.Wat?[3,3]:[4,n.py("wat")];case 2:return t.sent(),[3,1];case 3:return[2]}}))}))()},i.nr=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Wat?(n.YG=void 0,n.Iat("Bat"),[3,3]):[3,1];case 1:return[4,n.RI(t)];case 2:i.sent(),i.label=3;case 3:return n.Aat.nr(),n.Eat.nr(),[2]}}))}))()},i.BH=function(t){this.YG=t,this.Iat("Uat"),this._o(new Ik(t))},i.Gat=function(){this.S9.bn(va.hb,this.pd),this.S9.bn([va.Jy,va.Oy],this.Ge),this.Aat.bn(xO,this.Ds),this.Hat.bn(RO.fat,this.pd)},i.Zat=function(){this.S9.vn(va.hb,this.pd),this.S9.vn([va.Jy,va.Oy],this.Ge),this.Aat.vn(xO,this.Ds),this.Hat.vn(RO.fat,this.pd)},i.Xat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Zat(),n.zat.jw(),[4,n.RI(null!=t?t:SO.Zht)];case 1:return i.sent(),n.Aat.nr(),[2]}}))}))()},i.qat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Gat(),[4,n.Sn(null!=t?t:SO.Iht)];case 1:return i.sent(),[2]}}))}))()},i.Yat=function(t,n,i){var r,e=function(t,e){var u=e[t];u.jat<=i&&n<=u.Qat&&r.Hat.Jat.some((function(t){return t.o===u.$at}))&&r.Eat.tut(u)};if(this.Pat)for(var u=0,s=t.Eat.Kat();u<s.length;u++)r=this,e(u,s)},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),t.Zat(),t.zat.jw(),[4,t.RI(SO.Xht)];case 1:return n.sent(),t.Aat.yn(),[2]}}))}))()},i.Mat=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:0,e.label=1;case 1:return e.trys.push([1,4,,5]),Zo(t),n.Iat("Vat"),[4,n.Aat.eut(t)];case 2:return e.sent(),Zo(t),n.Iat("Oat"),[4,Ho(n.Lat.Ub,t)];case 3:return e.sent(),[3,5];case 4:return jo(i=e.sent())?n.Iat("Bat"):(r=i instanceof ol?i:new ol(ul.MEDIA_LOAD_ERROR,i.message,i),n.BH(r)),[3,6];case 5:return[3,0];case 6:return[2]}}))}))()},i.iut=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return Zo(t),[4,n.RI(SO.Hht)];case 1:return i.sent(),n.Aat.nr(),Zo(t),[4,n.Sn(SO.xht)];case 2:return i.sent(),[2]}}))}))()},xt(n,[{key:"yat",get:function(){var t,n;return(null==(t=this.Aat.bat)?void 0:t.pat)||(null==(n=this.Aat.Sat)?void 0:n.pat)}},{key:"Tat",get:function(){return this.Eat}},{key:"xat",get:function(){return this.Aat.xat},set:function(t){this.Aat.xat=t}},{key:"Yk",get:function(){return this.Rat}},{key:"Cat",get:function(){return this.Eat.Ht.Cat}},{key:"lt",get:function(){return this.YG}},{key:"Pat",get:function(){return"Bat"===this.Rat}},{key:"Dat",get:function(){return"Oat"===this.Rat}},{key:"Fat",get:function(){return"Vat"===this.Rat}},{key:"Wat",get:function(){return"Uat"===this.Rat}}]),n}(aa);U(),St(),Gt(),Jt(),U(),St();var PO=function(){function t(t,n){this.fW=t,this.vut=n}var n=t.prototype;return n.hut=function(t,n){return this.aut(t,!1,n)},n.uut=function(t,n){return this.aut(t,!0,n)},n.aut=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return Zo(r.Uw),[4,e.cut(n,i,r)];case 1:return(u=s.sent()).Vk?[2,t.lut(u)]:[2,e.fut(u)]}}))}))()},n.fut=function(t){return t},n.cut=function(t,n,i){var r,e=new wd({Xu:t.Xu,jk:Dl.bk,Jk:t._ut?{Range:"bytes="+t._ut[0]+"-"+(null!=(r=t._ut[1])?r:"")}:void 0,xE:t.xE,AE:vd.GET,Tw:ld.nE,kE:n?dd.hE:dd.iE,EE:this.vut,SE:i.mut,TE:i.TE,Uw:i.Uw,PE:i.PE});return this.fW.Qk(e)},t.lut=function(t){return t},t}();U(),St(),Dt(),U(),St();var MO=function(){function t(t){this.dit=0,this.yut=0,this.wut=A.exp(A.log(.5)/t)}var n=t.prototype;return n.gut=function(t,n){var i=A.pow(this.wut,t),r=n*(1-i)+i*this.dit;E(r)||(this.dit=r,this.yut+=t)},n.but=function(){var t=1-A.pow(this.wut,this.yut);return this.dit/t},t}(),BO=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.Aut=0,this.Eut=Ck,this.Sut=new MO(t),this.Tut=new MO(n),this.xut=i}var n=t.prototype;return n.gut=function(t,n){var i=8e3*n/t,r=t/1e3;this.Aut+=n,this.Sut.gut(r,i),this.Tut.gut(r,i)},n.but=function(){return this.kut()?A.min(this.Sut.but(),this.Tut.but()):this.Eut},n.kut=function(){return this.Aut>=this.xut},t}(),OO=function(){function t(t,n){this.Dut=n,n&&em(t)?t===rm.mE?(this.Out=5e3,this.Iut=new BO(.05,1,0)):(this.Out=0,this.Iut=new BO(.005,.1,0)):(this.Out=16e3,this.Iut=new BO)}return t.prototype.Cut=function(t){var n=t.Put,i=this.Dut?t.Nut-t.Mut:t.Nut-t.Lut,r=t.But;!r&&n<this.Out||(r?this.Iut.gut(2*i,n):this.Iut.gut(i,n))},xt(t,[{key:"Rut",get:function(){return this.Iut.but()}},{key:"kut",get:function(){return this.Iut.kut()}}]),t}();U(),St(),Gt(),Ct(),Jt(),U(),St(),Dt(),rn(),U(),St();var LO=function(){function t(t){this.Jd=t}var n=t.prototype;return n.transform=function(t,n){this.Jd.write(t).catch(Si),n.enqueue(t)},n.flush=function(){this.Jd.close().catch(Si)},t}(),FO=function(){function t(t,n,i){this.yht=t,this.Vut=n,this.Wut=i}return t.prototype.Fut=function(){return new VO(Xl(this.yht),this.Vut,this.Wut)},t}(),VO=function(){function t(t,n,i){this.Uut=t,this.Vut=n,this.Wut=i}var n=t.prototype;return n.Dk=function(t){return Gl(this.Uut,t)},n.Ib=function(){var n=nn(zl(this.Uut),2),i=n[0],r=n[1];return this.Uut=i,new t(r,this.Vut,this.Wut)},n.Gut=function(){var n=nn(function(t){var n=new Wl,i=n.writable.getWriter(),r=new Wl(new LO(i));return t.pipeTo(r.writable).catch((function(t){i.abort(t).catch(Si)})),[r.readable,n.readable]}(this.Uut),2),i=n[0],r=n[1];return this.Uut=i,new t(r,this.Vut,this.Wut)},n.Hut=function(t){var n=this;return this.Dk(t).then((function(t){return new FO(t,n.Vut,n.Wut)}))},xt(t,[{key:"Nk",get:function(){return this.Uut}}]),t}();U(),St(),Ct();var UO=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Zut=n,e}return Rt(n,t),n}(Uo),WO="Cache lookup failed.",jO=function(t){function n(n){var i;return(i=t.call(this)||this).zut=n,i}Rt(n,t);var i=n.prototype;return i.Xut=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return Zo(n),[4,i.zut.grt(t.Xu.Xu,t.Xu._ut)];case 1:if(r=u.sent(),Zo(n),!r)throw new UO(t,WO);return e=new FO(r.buffer,r.byteLength,r.reference),[2,{Zut:t.Zut,qut:{Tw:GR.iJ,Kk:e},pat:t.pat,Xu:t.Xu}]}}))}))()},i.Yut=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return Zo(n),[4,i.zut.grt(t.Xu,t._ut)];case 1:if(r=u.sent(),Zo(n),!r)throw new UO(t,WO);return e=new FO(r.buffer,r.byteLength,r.reference),[2,{Tw:GR.iJ,Kk:e}]}}))}))()},i.yn=function(){this.Ro()},n}(aa);U(),St(),Gt(),Ct(),Jt();var ZO=["ib","ob"],XO=function(t){function n(n){var i;(i=t.call(this)||this).Kut=n;for(var r=0,e=i.Kut;r<e.length;r++){e[r].bn(ZO,i.Ds)}return i}Rt(n,t);var i=n.prototype;return i.Xut=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:e=0,u=i.Kut,a.label=1;case 1:if(!(e<u.length))return[3,6];s=u[e],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s.Xut(t,n)];case 3:return[2,a.sent()];case 4:return Xo(o=a.sent()),r=o,[3,5];case 5:return e++,[3,1];case 6:throw r}}))}))()},i.Yut=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:e=0,u=i.Kut,a.label=1;case 1:if(!(e<u.length))return[3,6];s=u[e],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s.Yut(t,n)];case 3:return[2,a.sent()];case 4:return Xo(o=a.sent()),r=o,[3,5];case 5:return e++,[3,1];case 6:throw r}}))}))()},i.yn=function(){for(var t=0,n=this.Kut;t<n.length;t++){var i=n[t];i.vn(ZO,this.Ds),i.yn()}},n}(aa);function GO(t){return ui(t.jut)}function HO(t){return GO(t)?t.jut:t.Qut}U(),St(),Gt(),Ct(),Jt(),U(),St(),U(),St(),Ct(),U(),St(),Ct();var zO=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n)||this).Jut=i,o.Az=r,o.sL=e,o.EN=u,o.EE=s,o}return Rt(n,t),n}(fa),YO=function(t){function n(n,i,r,e,u){return t.call(this,va.eb,n,i,r,e,u)||this}return Rt(n,t),n}(zO);U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var KO=function(t,n){this.$ut=t,this.tct=n},qO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).ect=0,n}Rt(n,t);var i=n.prototype;return i.start=function(){},i.transform=function(t,n){this.ect+=t.byteLength,n.enqueue(t)},i.flush=function(){this.ict(!1)},i.jw=function(){this.ict(!0)},i.ict=function(t){this.$ut(this.tct,qn.Wg(),this.Put,t)},xt(n,[{key:"Put",get:function(){return this.ect}}]),n}(KO),JO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).ect=0,n.sct=!1,n}Rt(n,t);var i=n.prototype;return i.start=function(){this.tct=qn.Wg()},i.transform=function(t,n){this.ect+=t.byteLength,this.sct||this.nct(t)&&this.ict(!1),n.enqueue(t)},i.flush=function(){},i.jw=function(){this.ict(!0)},i.nct=function(t){var n=this.rct(t),i=this.hct(n);return Boolean(mo(i,QO))},i.rct=function(t){return this.act&&void 0!==this.uct?(this.act=Wc([this.act,t]),new dp(Ec(this.act),new Pc(this.uct))):(this.act=t,new dp(Ec(t),new Pc))},i.hct=function(t){var n=pp.FD(t.Kk,t.SD,!0);return n.VD?(this.act=void 0,this.uct=void 0):this.uct=t.SD.nc,n.m},i.ict=function(t){this.sct||(this.$ut(this.tct,qn.Wg(),this.Put,t),this.sct=!0)},xt(n,[{key:"Put",get:function(){return this.ect}}]),n}(KO);function QO(t){return t.Tw===hp.fD}var $O=function(){function t(t){var n=this;this.mct=t,this.fct=new Kc,this.Cut=function(t,i,r,e){var u={Lut:n.lct,Mut:t,Nut:i,Put:r,But:e};n.mct.Cut(u),n.mct.kut&&Nk.Vg.hG(n.mct.Rut)},this.fct.Ub.catch(Si),this.lct=qn.Wg()}var n=t.prototype;return n.cct=function(t){var n=t.tE?this.lct:qn.Wg(),i=this.dct(n),r=new Wl(i),e=t.Nk().pipeTo(r.writable).then((function(){return{GR:{Put:i.Put}}}),(function(t){throw i.jw(),t}));return this.fct.Qw(e),r.readable},n._ct=function(t){var n=this,i=t.tE?this.lct:qn.Wg(),r=t.Dk(),e=r.then((function(t){var r=qn.Wg();return n.Cut(i,r,t.byteLength,!1),{GR:{Put:t.byteLength}}}),(function(t){var r=qn.Wg();throw n.Cut(i,r,0,!0),t}));return this.fct.Qw(e),r},xt(t,[{key:"vct",get:function(){return this.fct.Ub}}]),t}(),tL=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.dct=function(t){return new qO(this.Cut,t)},n}($O),nL=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.dct=function(t){return new JO(this.Cut,t)},n}($O);U(),St(),Ct();var iL=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,va.sb,n,i,r,e,u)||this).gct=s,a.pO=o,a}return Rt(n,t),n}(zO);U(),St(),Ct();var rL=function(t){function n(n,i,r){var e;return(e=t.call(this,"Error downloading segment "+HO(i),n)||this).pct=i.WO,e.wct=i.UO,e.yct=r,e}return Rt(n,t),n}(Uo),eL=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Sct=n,e.mct=i,e.Dut=r,e}Rt(n,t);var i=n.prototype;return i.bct=function(){return this.Dut?new nL(this.mct):new tL(this.mct)},i.Xut=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v;return Ht(this,(function(l){switch(l.label){case 0:Zo(n),r=t.pat,e=t.Xu,u=t.Zut,s=HO(u),o=r.pat?r.pat.IC:-1,a=function(t){var n,i=t.pat;n=i===function(t){return t.Jat.reduce((function(t,n){return t.bG<n.bG?t:n}))}(i.Act)?br(5*t.Zut.ct):br(1.2*t.Zut.ct);return hr(n,1e3,18e3)}(t),i._o(new YO(e,r.bG,s,o,r.Tw)),l.label=1;case 1:return l.trys.push([1,4,,5]),c=i.bct(),[4,i.Sct.hut(e,{PE:i.Dut,mut:a,Uw:n})];case 2:return h=l.sent(),[4,i.Tct(h,h.Vk,n,c)];case 3:return f=l.sent(),na(i.kct(c.vct,r,e,s,o,h)),[2,{qut:f,pat:r,Zut:u,Xu:e}];case 4:throw Xo(v=l.sent()),new rL(v,u,r);case 5:return[2]}}))}))()},i.Yut=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return Zo(n),r=!1,[4,i.Sct.uut(t,{PE:r,mut:1e4,Uw:n})];case 1:return e=u.sent(),[4,i.Tct(e,r,n)];case 2:return[2,u.sent()]}}))}))()},i.Tct=function(t,n,i,r){return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return n?(e=r?r.cct(t):t.Nk(),[2,{Tw:GR.Sk,Kk:new VO(e)}]):[3,1];case 1:return r?[4,r._ct(t)]:[3,3];case 2:return s=o.sent(),[3,5];case 3:return[4,t.Dk(i)];case 4:s=o.sent(),o.label=5;case 5:return u=s,[2,{Tw:GR.iJ,Kk:new FO(u)}];case 6:return[2]}}))}))()},i.kct=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o;return Ht(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t];case 1:return o=a.sent(),s._o(new iL(i,n.bG,r,e,n.Tw,u.Yk,o.GR.Put)),[3,3];case 2:return a.sent(),[3,3];case 3:return[2]}}))}))()},i.yn=function(){this.Ro()},n}(aa);U(),St(),Dt();var uL=.001,sL=function(){function t(t,n,i,r){this.Ect=t,this.S9=n,this.O3=i,this.gZ=r}return xt(t,[{key:"wR",get:function(){return this.Ect.wR}},{key:"xct",get:function(){return this.Ect.xct}},{key:"FJ",get:function(){return this.Ect.FJ}},{key:"Rct",get:function(){if(this.O3.rI<Ny.Xn)return!1;if(this.Ect.Tn<=this.Ict&&this.Ect.Cct())return!0;var t=this.Ect.XG;if(!t||0===t.V)return!1;var n=BA.gB(this.S9.ER,1/0);return t.jn(n).iB(this.Ect.FJ).vB>=this.gZ.Dj}},{key:"Ict",get:function(){var t,n=this.Ect.XG;if(n&&n.V>0)t=n.Tn(0);else{t=this.S9.ER;var i=this.Ect.FJ,r=i.sB(t);r>=0&&(t=i.Tn(r))}var e=this.Ect.hI.Sn(0);if(e>t){if(this.Ect.Sn<=t&&this.Ect.Tn>=t&&e>t+uL)throw new CO(t,e);t=e}return t=this.Ect.Pct.KL(t)}}]),t}();U(),St(),Dt();var oL=function(){function t(){this.P_=as(),this.Nct=BA.pB()}var n=t.prototype;return n.Mct=function(t){return this.P_.get(t.o)},n.Lct=function(){var t=this.Nct;return this.P_.forEach((function(n){t=t.tB(n)})),t},n.Bct=function(t){if(this.Nct.wr(t))return!0;var n=!1;return this.P_.forEach((function(i){n=n||i.wr(t)})),n},n.Oct=function(t,n){var i=this.P_.get(n.o);return!!i&&i.wr(t)},n.nB=function(t,n){if(this.Nct.nB(t,n))return!0;var i=!1;return this.P_.forEach((function(r){i=i||r.nB(t,n)})),i},n.Fct=function(t,n){var i=this.P_.get(n),r=i?i.tB(t):t;this.P_.set(n,r),this.Nct=this.Nct.tB(t)},n.Vct=function(t){var n=this;this.P_.forEach((function(i,r){n.P_.set(r,i.tB(t))})),this.Nct=this.Nct.tB(t)},n.Wct=function(t){var n=this;this.P_.forEach((function(i,r){n.P_.set(r,i.jn(t))})),this.Nct=this.Nct.jn(t)},n.nr=function(){var t=this;this.P_.forEach((function(n,i){t.P_.set(i,BA.pB())})),this.Nct=BA.pB()},xt(t,[{key:"Dct",get:function(){if(0===this.P_.size)return this.Nct;var t=BA.gB(0,1/0);return t=t.jn(this.Nct),this.P_.forEach((function(n){t=t.jn(n)})),t}}]),t}(),aL=function(){function t(t){this.Mrt=[],this.Ht=t,this.Gct=new oL,this.VJ=new oL}var n=t.prototype;return n.Hct=function(t){for(var n=0,i=this.Mrt;n<i.length;n++){var r=i[n];if(r.jat>t)break;if(r.Qat>t)return r}},n.Zct=function(t){for(var n=0,i=this.Mrt;n<i.length;n++){var r=i[n];if(r.Xct>t)break;if(r.zct>=t)return r}},n.qct=function(t,n){for(var i=[],r=0,e=this.Mrt;r<e.length;r++){var u=e[r];if(u.jat>t)break;u.Qat>=n&&i.push(u)}return i},n.Kat=function(){return this.Mrt},n.tut=function(t){var n=BA.gB(t.Xct,t.zct),i=n.jL();this.Gct.Wct(i),this.Gct.Fct(n,t.$at),this.Yct(i);var r=yo(this.Mrt,(function(n){return t.jat<=n.jat}));r<0?this.Mrt.push(t):this.Mrt[r].Qat<=t.Qat?this.Mrt.splice(r,1,t):this.Mrt.splice(r,0,t)},n.WJ=function(t,n){this.VJ.Fct(t,n)},n.Kct=function(t){this.VJ.Vct(t)},n.Wct=function(t){this.Gct.Wct(t),this.VJ.Wct(t);var n=this.Gct.Lct();this.Yct(n)},n.Yct=function(t){this.Mrt=this.Mrt.filter((function(n){return t.oB(n.Xct,n.zct)})).map((function(n){return n.jct&&!t.nB(n.Xct,n.zct)?function(t,n){return{$at:t.$at,jat:t.jat,Qat:t.Qat,Xct:t.Xct,zct:t.zct,jct:n}}(n,!1):n}))},n.nr=function(){this.Gct.nr(),this.VJ.nr(),this.Mrt=[]},n.yn=function(){this.nr()},xt(t,[{key:"Uct",get:function(){return this.Gct}},{key:"FJ",get:function(){return this.VJ}}]),t}();U(),St(),U(),St(),Gt(),Dt(),Jt();var cL=function(){function t(t,n,i){this.sut=t,this.Eat=n,this.Ip=i}var n=t.prototype;return n.Jct=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return Zo(i),u=r.Eat.Zct(t),e=u&&fr(u.zct,t,1e-5)?u.Qat:t,s=r.$ct(e),o=function(t){return hL.bind(void 0,t)}(e),[4,r.Ip.tlt(o,s,n,i)];case 1:a=v.sent(),Zo(i),v.label=2;case 2:return a&&r.elt(a.Zut)?(c=mL(a.Zut),h=a.pat,[4,r.Ip.tlt(c,[h],n,i)]):[3,4];case 3:return a=v.sent(),Zo(i),[3,2];case 4:return a?r.ilt(a.Zut)?(f=r.slt(a.Zut),t<f.Sn?[4,r.findFirstNonAppendedSegmentBeforeSegment(a,n,i,f)]:[3,6]):[2,a]:[2,void 0];case 5:return[2,v.sent()];case 6:return t>=f.Tn?[4,r.findFirstNonAppendedSegmentAfterSegment(a,n,i)]:[3,8];case 7:return[2,v.sent()];case 8:if(a.pat.nlt(a.Zut))return[2,void 0];throw new y("Fatal buffering error")}}))}))()},n.findFirstNonAppendedSegmentAfterSegment=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:e=t,o.label=1;case 1:return u=mL(e.Zut),s=t.pat,[4,r.Ip.tlt(u,[s],n,i)];case 2:e=o.sent(),Zo(i),o.label=3;case 3:if(e&&r.ilt(e.Zut))return[3,1];o.label=4;case 4:return e?[2,e]:[2,void 0]}}))}))()},n.findFirstNonAppendedSegmentBeforeSegment=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:u=t,c.label=1;case 1:return s=function(t){return vL.bind(void 0,t)}(u.Zut),o=t.pat,[4,e.Ip.tlt(s,[o],n,i)];case 2:u=c.sent(),Zo(i),c.label=3;case 3:if(u&&e.ilt(u.Zut))return[3,1];c.label=4;case 4:if(!u)throw a=t.pat.rlt.Sn,new CO(a,r.Sn,t.pat);return[2,u]}}))}))()},n.olt=function(t){return this.Eat.Uct.Bct(t)},n.hlt=function(t){return this.Eat.qct(t.WO,t.UO)},n.ilt=function(t){var n=this.hlt(t);return n.length>0&&function(t,n){return function(t){for(var n=BA.pB(),i=0;i<t.length;i++){var r=t[i];n=n.tB(BA.gB(r.jat,r.Qat))}return n}(t).nB(n.WO,n.UO)}(n,t)&&n.every(wL)},n.elt=function(t){return this.Eat.FJ.nB(t.WO,t.UO)},n.slt=function(t){var n=this.hlt(t);return{Sn:n[0].Xct,Tn:n[n.length-1].zct}},n.$ct=function(t){var n=this.ult(t);if(0===n.length){var i=this.Qct?this.Qct:this.Eat.Ht.Jat;return[i[i.length-1]]}var r=n.filter((function(t){var n;return(null==(n=t.pat)?void 0:n.trt)&&!t.clt}));return r.length>0?r:[n[n.length-1]]},n.ult=function(t){var n=this;return(this.Qct?this.Qct:this.Eat.Ht.Jat).filter((function(i){return!n.Eat.FJ.Oct(t,i)}))},xt(t,[{key:"xat",get:function(){return this.Qct},set:function(t){this.Qct=t}},{key:"Cat",get:function(){return this.Eat.Ht.Cat}}]),t}();function hL(t,n,i,r){return fL.apply(this,arguments)}function fL(){return fL=Zt((function(t,n,i,r){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return e=n.Zot,(u=e.llt(t))?n.dlt(u)?[4,n._lt(u,i,r)]:[3,2]:[2,void 0];case 1:return[2,s.sent().flt(t)];case 2:return[2,u]}}))})),fL.apply(this,arguments)}function vL(t,n,i,r){return lL.apply(this,arguments)}function lL(){return lL=Zt((function(t,n,i,r){var e;return Ht(this,(function(u){switch(u.label){case 0:return GO(t)?0===t.jut?[2,void 0]:(e=n.Zot.vlt(t))?[4,n._lt(e,i,r)]:[2,void 0]:[3,2];case 1:return[2,u.sent().glt(t.jut-1)];case 2:return[2,n.Zot.plt(t)];case 3:return[2]}}))})),lL.apply(this,arguments)}function dL(t,n,i,r){return gL.apply(this,arguments)}function gL(){return gL=Zt((function(t,n,i,r){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return GO(t)?(e=n.Zot.vlt(t))?[4,n._lt(e,i,r)]:[2,void 0]:[3,2];case 1:return u=s.sent(),t.jut+1===u.V?[2,void 0]:[2,u.glt(t.jut+1)];case 2:return[2,n.Zot.wlt(t)];case 3:return[2]}}))})),gL.apply(this,arguments)}function mL(t){return dL.bind(void 0,t)}function wL(t){return t.jct}U(),St(),Gt(),Jt();var pL=function(){function t(t,n,i,r){this.Tlt=t,this.Ect=n,this.gZ=i,this.blt=r,this.klt=!1}var n=t.prototype;return n.tlt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return Zo(r),(u=e.ylt(n,i))?[4,t(u,e.blt,r)]:[2,void 0];case 1:return(s=a.sent())?(o=u.Alt(s),[2,{pat:u,Zut:s,Xu:o}]):[2,void 0]}}))}))()},n.ylt=function(t,n){if(0!==t.length){var i=this.Tlt.Slt(t,this.klt?n:void 0,this.Ect,this.gZ.Ij);return this.klt||(this.klt=!0),i}},t}();U(),St(),Gt(),Jt();var yL=function(){function t(t,n,i,r){this.Tlt=t,this.Ect=n,this.zut=i,this.blt=r}return t.prototype.tlt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:if(Zo(r),!(u=e.Tlt.Elt(n,i,e.Ect)).length)return[2,void 0];o=0,v.label=1;case 1:if(!(o<u.length))return[3,8];a=u[o],v.label=2;case 2:return v.trys.push([2,6,,7]),Zo(r),[4,t(a,e.blt,r)];case 3:return(c=v.sent())?(h=a.Alt(c),[4,e.zut.vrt(h.Xu,h._ut)]):[3,5];case 4:if(v.sent())return[2,{Zut:c,pat:a,Xu:h}];v.label=5;case 5:return[3,7];case 6:return Xo(f=v.sent()),s=f,[3,7];case 7:return o++,[3,1];case 8:if(s)throw s;return[2,void 0]}}))}))()},t}();function _L(t){return void 0!==t.QR}function bL(t,n){var i=t.ji&&n.ji,r=t.Ti&&n.Ti;return i||r?i&&r?t.ji*t.Ti-n.ji*n.Ti:i?t.ji-n.ji:r?t.Ti-n.Ti:(t.ji||1)*(t.Ti||1)-(n.ji||1)*(n.Ti||1):0}function kL(t,n){return bL(t,n)||function(t,n){return t.bG-n.bG}(t,n)}U(),St(),Wt(),ct(),U(),St();var AL=function(){function t(t,n,i,r,e,u){this.m_=t,this.Ilt=n,this.nw=i,this.Nlt=r,this.xlt=e,this.Mlt=u}var n=t.prototype;return n.Slt=function(n,i,r,e){var u=t.sortByQuality(n);if(void 0!==this.xlt&&void 0===i&&n.length>1){var s=t.Rlt(u,this.xlt);s&&(u=s)}var o=this.Elt(u,i,r,e);return o.length?o[o.length-1]:u[0]},n.Elt=function(n,i,r,e){for(var u,s=t.sortByQuality(n),o={Rut:void 0===e||this.Ilt.kut?this.Ilt.Rut:e,QR:_L(r)&&r.QR?r.QR:1,Clt:r.ji,Plt:r.Ti,Dlt:null==(u=this.Nlt)?void 0:u.restrictToPlayerSize},a=s,c=0,h=this.m_;c<h.length;c++){a=(0,h[c])(a,i,o,this.nw,this.Mlt)}return a},t.Llt=function(n){return t.sortByQuality(n)[0]},t.Blt=function(n,i){var r;return i?t.Llt(null!=(r=t.Rlt(n,i))?r:n):t.Llt(n)},t.Rlt=function(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return sN(t.gp,r)}));if(e.length>0)return{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===W(e))return e.v}},t.sortByQuality=function(t){var n=Ut(t);return n.sort(kL),n},t}();U(),St();var TL=function(t,n,i,r,e){return t.filter((function(t){return e.dJ(t)&&r.dp(n,t)}))};U(),St();var SL=function(t,n,i){return t.filter((function(t){return function(t,n,i){var r=i.Rut;if(r<=0)return!1;return.8*r>t.bG*i.QR}(t,0,i)}))};U(),St();var EL=function(t,n,i,r,e){var u=i.Dlt;if(void 0===u&&!r.Qs)return t;if(!1===u)return t;if(t.length>0&&t[0].Tw!==rm.mE)return t;for(var s=t.length-1;s>=0;s--){var o=t[s];if(o.Ti===i.Plt&&o.ji===i.Clt)return t.slice(0,s+1);if(o.Ti<i.Plt||o.ji<i.Clt)return t.slice(0,s+2)}return[]};U(),St(),Gt(),Jt();var IL=function(){function t(t){this.Olt=t}return t.prototype.tlt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:s=0,o=e.Olt,f.label=1;case 1:if(!(s<o.length))return[3,6];a=o[s],f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.tlt(t,n,i,r)];case 3:return(c=f.sent())?[2,c]:[3,5];case 4:return h=f.sent(),u=h,[3,5];case 5:return s++,[3,1];case 6:if(u)throw u;return[2,void 0]}}))}))()},t}();U(),St(),U(),St(),Gt(),Jt();var RL=function(){function t(t){this.Vlt=t}return t.prototype.Flt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:s=0,o=e.Vlt,h.label=1;case 1:if(!(s<o.length))return[3,6];a=o[s],h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.Flt(t,n,i,r)];case 3:return[2,h.sent()];case 4:return Xo(c=h.sent()),u=c,[3,5];case 5:return s++,[3,1];case 6:throw u}}))}))()},t}();U(),St(),Gt(),Jt();var CL=function(){function t(t){this.fW=t}return t.prototype.Flt=function(t,n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,e.fW.Qk({Xu:t,jk:Dl.bk,Jk:n?{Range:"bytes="+n[0]+"-"+(null!=(u=n[1])?u:"")}:void 0,xE:i,AE:vd.GET,Tw:ld.iE,Uw:r})];case 1:return[4,s.sent().Dk()];case 2:return[2,s.sent()]}}))}))()},t}();U(),St(),Gt(),Jt();var NL=function(){function t(t){this.zut=t}return t.prototype.Flt=function(t,n,i,r){var e=this;return Zt((function(){var i,r;return Ht(this,(function(u){switch(u.label){case 0:return[4,e.zut.grt(t,n)];case 1:return(i=u.sent())?[2,i.buffer]:n?[4,e.zut.grt(t)]:[3,3];case 2:if(r=u.sent())return[2,Nc(new I(r.buffer),n[0],n[1])];u.label=3;case 3:throw new UO({Xu:t,_ut:n,xE:!1})}}))}))()},t}();U(),St();var xL=1.05,DL=function(t,n,i,r){if(!1===i.Dlt)return t;if(r.qg)return t;for(var e,u,s=r.Yg,o=(null!=(e=null==s?void 0:s.width)?e:i.Clt)*xL,a=(null!=(u=null==s?void 0:s.height)?u:i.Plt)*xL,c=t.length-1;c>=0;c--){var h=t[c];if(h.Ti<=a&&h.ji<=o)return t.slice(0,c+1)}return[]},PL=function(){function t(){}return t.Ait=function(t,n,i,r,e,u,s,o,a,c){var h=function(t,n){return new RL([new NL(n),new CL(t)])}(u,s),f=new AL([TL],e,qn.Ys,o,a,c),v=new yL(f,n,s,h),l=new AL([SL,TL,EL,DL],e,qn.Ys,o,a,c),d=new pL(l,n,r,h),g=new IL([v,d]);return new cL(t,i,g)},t}();U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Ct();var ML=function(t){function n(n,i,r,e,u,s){var o;return void 0===s&&(s=0),(o=t.call(this,va.$y)||this).segmentStartTime=n,o.error=i,o.trackType=r,o.track=e,o.quality=u,o.retryCount=s,o}return Rt(n,t),n}(fa);U(),St(),Ct();var BL=function(t){function n(n,i){var r;return(r=t.call(this,va.Ay)||this).track=n,r.segments=i,r}return Rt(n,t),n}(fa),OL=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Wlt=n,r}return Rt(n,t),n}(Uo),LL=[va.eb,va.sb],FL=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).sut=n,h.Eat=i,h.Xlt=r,h.Hlt=e,h.ydt=u,h.hdt=s,h.Mlt=o,h.edt=a,h.hH=c,h.Ult=void 0,h.C2=void 0,h.Glt=void 0,h.udt=void 0,h.Jlt=0,h.$lt=0,h.idt=BA.pB(),h.ydt.bn(LL,h.Ds),h}Rt(n,t);var i=n.prototype;return i.Zlt=function(t){return!this.C2||!t||!Fc(this.C2.yht,t.yht)},i.nut=function(t){if(!this.Ult)return!1;var n=this.Ult.Zut,i=BA.gB(n.WO,n.UO),r=this.Xlt.xct,e=r.sB(t);return e<0?i.wr(t,uL):i.oB(t,r.Tn(e),!0,!0,uL)},i.eut=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:i=n.Eat.Ht.Jat,g.label=1;case 1:0,r=void 0,g.label=2;case 2:return g.trys.push([2,12,16,17]),Zo(t),n.rut(),n.out()?[3,18]:(r=n.zlt(),[4,n.tlt(r,t)]);case 3:return void 0===(u=g.sent())?[3,18]:(n.Ult=u,function(t){var n=t.pat,i=n.Zot,r=GO(t.Zut)?i.vlt(t.Zut):t.Zut;return i.kdt(r,n.vdt._dt())}(n.Ult)?[3,5]:[4,n.qlt(n.Ult,t)]);case 4:return g.sent(),[3,1];case 5:return!n.Glt||nN(n.Glt.pat.Jrt,n.Ult.pat.Jrt)?[3,7]:[4,n.Mlt._J(n.Ult.pat)];case 6:g.sent(),g.label=7;case 7:return!n.Ult.pat.TG||n.Sat&&(null==(e=n.Glt)?void 0:e.pat)===n.Ult.pat||null==(s=n.hH)||s.DG(n.Ult.pat.TG),[4,n.Ylt(r,n.Ult.Zut,t)];case 8:return g.sent(),[4,n.Klt(n.Ult.pat,t)];case 9:return n.C2=g.sent(),[4,n.Xut(n.Ult,t)];case 10:return o=g.sent(),a=n.Xlt.wR,c=n.Glt,[4,n.jlt(o,t)];case 11:return n.Glt=g.sent(),h=n.Xlt.wR,n.Qlt(c,n.Ult,a,h,r),i.forEach((function(t){return t.clt=!1})),n.Jlt=0,n.$lt=0,[3,17];case 12:return(f=g.sent())instanceof CO?(n.A3(f.Sn,f.Tn,f.pat),[3,1]):[3,13];case 13:if(!(f instanceof OL))return[3,15];if(v=500,i.every((function(t){return t.clt}))){if(2===n.Jlt){if(l=n.Xlt.wR,n.tdt(n.Ult),n.Qlt(n.Glt,n.Ult,l,l,r),i.forEach((function(t){return t.clt=!1})),n.$lt+=1,n.Jlt=0,n.$lt===n.edt.maxRetries)throw new ol(ul.MEDIA_LOAD_ERROR,"The segments could not be loaded.",f);return[3,1]}n.Jlt++,d=n.edt.minimumBackoff*A.pow(2,n.Jlt-1),v=A.min(d,n.edt.maximumBackoff)}return[4,ea(v,t)];case 14:return g.sent(),[3,1];case 15:throw n.idt=BA.pB(),f;case 16:return n.Ult=void 0,[7];case 17:return[3,1];case 18:return[2]}}))}))()},i.Qlt=function(t,n,i,r,e){var u=r.iB(i),s=n.pat,o=s.sdt(n.Zut),a=s.nlt(n.Zut),c=n.Zut.WO,h=n.Zut.UO;o&&(c=A.min(c,A.max(0,s.rlt.Sn-.05))),a&&(h=A.max(h,s.rlt.Tn));var f=BA.gB(c,h).iB(r);if(0!==u.V){if(o||this.idt.V>0){var v=f.jn(BA.gB(c,u.Sn(0)));this.rdt(v)}var l=u.jL().jn(BA.gB(u.Sn(0),u.Tn(u.V-1)));if(this.rdt(l),a){var d=f.jn(BA.gB(u.Tn(u.V-1),h));this.rdt(d)}if(this.idt.V>0){var g=this.idt.iB(u);this.rdt(g),this.idt=BA.pB()}var m,w=s.Zot,p=GO(n.Zut)?void 0:w.plt(n.Zut),y=null!=(m=null==t?void 0:t.Zut)?m:this.odt(p)?p:void 0;if(y){var _=this.Eat.qct(y.WO,y.UO);if(_.length>0){var b=BA.gB(_[_.length-1].zct,u.Sn(0));this.rdt(b)}}var k=GO(n.Zut)?void 0:w.wlt(n.Zut);if(k&&this.odt(k)){var T=this.Eat.qct(k.WO,k.UO);if(T.length>0){var S=BA.gB(u.Tn(u.V-1),T[0].Xct);this.rdt(S)}}}else this.ndt(i,f,c,e)},i.ndt=function(t,n,i,r){var e=n;0===this.idt.V&&(this.idt=BA.gB(t.Tn(t.V-1),i)),0===e.V&&void 0!==r&&(e=BA.mB(r)),this.idt=this.idt.tB(e),this.Eat.Kct(this.idt)},i.odt=function(t){return!!t&&this.Eat.qct(t.WO,t.UO).length>0},i.rdt=function(t){for(var n=t.iB(this.Xlt.wR),i=0;i<n.V;i++)n.Sn(i)!==n.Tn(i)&&this.hdt.WJ(n.Sn(i),n.Tn(i))},i.adt=function(t,n){throw new OL(t,n)},i.rut=function(){if(!(this.idt.V>0)){var t,n=this.Xlt.xct.tB(null!=(t=this.Xlt.FJ.YL()._B(this.Xlt.Ict))?t:BA.pB());this.Eat.Wct(n),this.udt&&!this.cdt(this.udt)&&(this.udt=void 0),this._o(new BL(this.Eat.Ht.Cat,this.Eat.Kat()))}},i.out=function(){return this.Glt&&this.Glt.pat.nlt(this.Glt.Zut)?(this.hdt.a3(),!0):(this.udt&&this.udt.pat.nlt(this.udt.Zut)&&this.cdt(this.udt)&&this.hdt.a3(),!!this.Xlt.Rct)},i.cdt=function(t){return this.Eat.Uct.nB(t.ldt,t.ddt)},i.fdt=function(t,n,i){(!this.udt||this.udt.Zut.UO<t.Zut.UO)&&(this.udt=ss({},t,{ldt:n,ddt:i}))},i.zlt=function(){var t=this.Xlt.Ict;return t},i.tlt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return Zo(n),r=i.Glt?i.Glt.pat:void 0,[4,i.Hlt.Jct(t,r,n)];case 1:return(e=u.sent())?[2,e]:[2,void 0]}}))}))()},i.qlt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:r={stack:[],error:void 0,hasError:!1},v.label=1;case 1:return v.trys.push([1,3,4,5]),e=t.pat,u=e.Zot,s=GO(t.Zut)?u.vlt(t.Zut):t.Zut,o=e.vdt._dt(),(a=u.mdt(s))&&a.getTime()<=o.getTime()?[2,i.adt(SO.Dht,"Segment is not available.")]:(c=u.gdt(s).getTime()-o.getTime(),h=Yt(r,Qo.$w([n]),!1),[4,ut.race([ea(c,h.Uw),e.py(RO.fat,h.Uw)])]);case 2:return v.sent(),[3,5];case 3:return f=v.sent(),r.error=f,r.hasError=!0,[3,5];case 4:return Kt(r),[7];case 5:return[2]}}))}))()},i.Klt=function(t,n,i){void 0===i&&(i=0);var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(Zo(n),!(e=t.pdt))return[2,r.C2];a.label=1;case 1:return a.trys.push([1,4,,7]),t.wdt?[3,3]:[4,r.ydt.Yut(e,n)];case 2:u=a.sent(),t.wdt=u.Kk,a.label=3;case 3:return[3,7];case 4:return Xo(s=a.sent()),Zd(s)?2===i?(t.clt=!0,[2,r.adt(SO.Wht,"Could not fetch the initializer.")]):[4,ea(A.min(r.edt.minimumBackoff*A.pow(2,i),r.edt.maximumBackoff),n)]:[3,6];case 5:return a.sent(),[2,r.Klt(t,n,i+1)];case 6:throw new ol(ul.MEDIA_LOAD_ERROR,s.message,s);case 7:Zo(n),a.label=8;case 8:return a.trys.push([8,11,,12]),r.Zlt(t.wdt)?[4,r.hdt.Got(t.wdt,t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(Xo(o=a.sent()),Zd(o))return[2,r.adt(SO.Wht,"Could not append the initializer.")];throw new ol(ul.MEDIA_DECODE_ERROR,o.message,o);case 12:return[2,t.wdt]}}))}))()},i.Xut=function(t,n,i){void 0===i&&(i=0);var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,6]),Zo(n),[4,r.ydt.Xut(t,n)];case 1:case 4:return[2,u.sent()];case 2:return Xo(e=u.sent()),e instanceof rL?function(t){return t instanceof xd}(e.cause)?(r.bdt(new rL(e,t.Zut,t.pat),i),[2,r.adt(SO.Dht,"Could not append the segment.")]):2===i?(t.pat.clt=!0,r.bdt(e,i),[2,r.adt(SO.Dht,"Could not fetch the segment.")]):[4,ea(A.min(r.edt.minimumBackoff*A.pow(2,i),r.edt.maximumBackoff),n)]:[3,5];case 3:return u.sent(),[4,r.Xut(t,n,i+1)];case 5:throw new ol(ul.MEDIA_LOAD_ERROR,e.message,e);case 6:return[2]}}))}))()},i.Ylt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,l;return Ht(this,(function(d){switch(d.label){case 0:for(e=r.Eat.qct(n.WO,n.UO),u=r.Xlt.xct._B(t),s=BA.pB(),o=0;o<e.length;o++)a=e[o],Zo(i),c=a.Xct,h=a.zct,(f=u&&u.oB(c,h)?A.max(c,u.Tn(0)):c)<(v=h)&&(s=s.tB(BA.gB(f,v)));l=0,d.label=1;case 1:return l<s.V?[4,r.hdt.Adt(s.Sn(l),s.Tn(l),i)]:[3,4];case 2:d.sent(),d.label=3;case 3:return l++,[3,1];case 4:return r.rut(),[2]}}))}))()},i.jlt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),Zo(n),[4,i.hdt.Sdt(t.qut,t.Zut,t.pat,n)];case 1:return r=u.sent(),i.Tdt(t,r.ldt,r.ddt),i.fdt(t,r.ldt,r.ddt),[2,t];case 2:if(Xo(e=u.sent()),Zd(e))return i.bdt(new rL(e,t.Zut,t.pat),0),[2,i.adt(SO.Dht,"Could not append the segment.")];if(uR(e)&&i.hdt.Oj())return[2,i.adt(SO.Mht,"Buffer is full. Could not reduce the buffer.")];throw new ol(ul.MEDIA_DECODE_ERROR,e.message,e);case 3:return[2]}}))}))()},i.Tdt=function(t,n,i){var r=t.pat,e=t.Zut;this.tut(e,r,n,i)},i.tut=function(t,n,i,r){this.Eat.tut({$at:n.o,jat:t.WO,Qat:t.UO,Xct:i,zct:r,jct:!0}),this.hdt.UJ(i,r)},i.A3=function(t,n,i){var r=BA.gB(t,n);i?this.Eat.WJ(r,i.o):this.Eat.Kct(r),this.hdt.WJ(t,n)},i.tdt=function(t){var n=BA.gB(t.Zut.WO,t.Zut.UO);t.pat?this.Eat.WJ(n,t.pat.o):this.Eat.Kct(n)},i.bdt=function(t,n){var i=t.pct,r=this.Eat.Ht.Cat,e=this.Eat.Ht.wa,u=t.yct.pat&&t.yct.pat.wa,s=new ML(i,t.message,r,e,u,n);this._o(s)},i.nr=function(){this.C2=void 0,this.Glt=void 0},i.yn=function(){this.nr(),this.udt=void 0,this.ydt.vn(LL,this.Ds),this.ydt.yn()},xt(n,[{key:"bat",get:function(){return this.Ult}},{key:"Sat",get:function(){return this.Glt}},{key:"xat",get:function(){return this.Hlt.xat},set:function(t){this.Hlt.xat=t}},{key:"Cat",get:function(){return this.Eat.Ht.Cat}}]),n}(aa);var VL=0,UL=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f){this.Ect=t,this.S9=n,this.O3=i,this.fW=r,this.gZ=e,this.Edt=u,this.zut=s,this.Nlt=o,this.xlt=a,this.Mlt=c,this.edt=h,this.hH=f}var n=t.prototype;return n.Ait=function(t){var n=VL++,i=this.Ect.m3,r=new aL(t),e=this.Edt&&em(i),u=new OO(i,e),s=new sL(this.Ect,this.S9,this.O3,this.gZ),o=PL.Ait(n,this.Ect,r,this.gZ,u,this.fW,this.zut,this.Nlt,this.xlt,this.Mlt),a=function(t){switch(t){case rm.vE:return gd.vE;case rm.mE:return gd.mE;case rm.Tk:return gd.Tk;case rm.gE:return gd.gE;default:return gd.iE}}(i),c=function(t,n,i,r){var e=new jO(r),u=new eL(t,n,i);return new XO([e,u])}(new PO(this.fW,a),u,e,this.zut),h=new FL(n,r,s,o,c,this.Ect,this.Mlt,this.edt,this.hH);return new DO(n,t.Act,r,h,this.S9)},n.xdt=function(t,n){var i={Cat:rm.Tk,Act:n,Jat:n.Jat,wa:t.wa};return this.Ait(i)},t}();U(),St();var WL=function(){function t(t){this.Cot=t}var n=t.prototype;return n.dJ=function(t){return this.Cot.dJ(t)},n._J=function(t){return this.Cot._J(t)},t}(),jL=function(){function t(){}var n=t.prototype;return n.dJ=function(t){return!0},n._J=function(t){return ut.resolve(void 0)},t}();U(),St(),Dt(),Ct(),Wt(),U(),St(),Ct();var ZL=function(t){function n(n,i){var r;return(r=t.call(this,Cg.uC)||this).NC=n||[],r.Ht=i,r}return Rt(n,t),n.prototype.ka=function(){return new XL(this.NC.map((function(t){return t.wa})))},n}(_g),XL=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return Rt(n,t),n}(fa);U(),St(),Ct();var GL=function(t){function n(n){var i;return(i=t.call(this,Cg.QUALITY_UNAVAILABLE)||this).quality=n,i}return Rt(n,t),n.prototype.ka=function(){return new HL(this.quality.wa)},n}(kg),HL=function(t){function n(n){var i;return(i=t.call(this,"qualityunavailable")||this).quality=n,i}return Rt(n,t),n}(Ag);U(),St(),Ct();var zL=function(t){function n(){return t.call(this,Cg.NO_QUALITY)||this}return Rt(n,t),n}(fa);function YL(t){return{bG:t.bG,gp:t.Jrt,Ti:KL(t)?t.Ti:0,Tw:KL(t)?rm.mE:rm.vE,ji:KL(t)?t.ji:0}}function KL(t){var n=t;return void 0!==n.Ti&&void 0!==n.ji}U(),St();var qL=0,JL=function(t){function n(n,i,r){var e;return void 0===r&&(r="alternative"),(e=t.call(this)||this).Ldt=void 0,e.qe=!1,e.eu=void 0,e.Fdt=void 0,e.zS="",e.Kdt=!1,e.TO=new dm,e.Gdt=[],e.Ndt=void 0,e.Vdt=void 0,e.Cdt=function(){return e._o(new wm(e))},e.Zdt=[],e.Hat=n,e.zS=String(qL++),e.IO=_m(),e.r5=r,e.LA=n.Qtt,e.CO=n.Ch,e.Xdt=n.Tw,e.Gdt=n.Jat,e.Idt(i),e}Rt(n,t);var i=n.prototype;return i.Idt=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.bn("update",this.Cdt),this.TO.kO(i)}},i.Pdt=function(t){if(this.TO.EO(t)){t.aW();var n=this.Ddt();if(this.Ndt&&To(this.Ndt,t)){var i=this.Ndt.filter((function(t){return t.trt}));0===i.length&&n.length>0?this.MC=n:this.MC=i}else this.MC=n;this._o(new GL(t))}},i.Mdt=function(t){if(this.TO.EO(t)){var n=this.Ddt();t.hW(),this.Ndt&&!function(t,n){return So(t,n,(function(t,n){return t===n}))}(this.Ndt,n)||(this.MC=this.Ddt())}},i.Ddt=function(){return this.TO.lC.filter((function(t){return t.trt}))},i.Bdt=function(t){this.Ldt=t.pat,this._o(t)},i.Wdt=function(t){if(t&&0!==t.length){for(var n=[],i=0,r=this.Jat;i<r.length;i++)for(var e=r[i],u=0;u<t.length;u++){var s=t[u];s===e.pat&&s.trt&&n.push(e)}return n}},i.Hdt=function(t){var n;this.Zdt.push(t),(n=this.Gdt).push.apply(n,Ut(t.Jat));var i=t.Jat.map((function(t){return t.pat}));this.Idt(i)},i.DO=function(t){this.qe=t,this.Fdt&&(t?this.Fdt.hW(this):this.Fdt.aW(this))},i.Ydt=function(t){this.qe=t,this.Kdt!==t&&(this.Kdt=t,this._o(new gm(this)))},i.yn=function(){for(var t=0,n=this.TO.lC;t<n.length;t++){n[t].vn("update",this.Cdt)}this.TO.nr()},xt(n,[{key:"DC",get:function(){return this.Hat.Rdt.map(QL).filter(Yn)}},{key:"RC",get:function(){return this.Ldt}},{key:"Act",get:function(){return this.Hat}},{key:"Rt",get:function(){return this.qe},set:function(t){this.DO(t)}},{key:"wa",get:function(){return this.eu||(this.eu=$g(this)),this.eu}},{key:"Odt",get:function(){return this.Fdt},set:function(t){this.Fdt=t}},{key:"o",get:function(){return this.zS}},{key:"IC",get:function(){return this.IO}},{key:"Lt",get:function(){return this.r5}},{key:"gs",get:function(){return this.LA}},{key:"Ch",get:function(){return this.CO},set:function(t){t!==this.CO&&(this.CO=t,this._o(new wm(this)))}},{key:"CE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"MC",get:function(){return this.Ndt},set:function(t){var n;if(t){var i=this.RC?YL(this.RC):void 0;n=t.filter((function(t){return t.trt&&qn.Ys.dp(i,YL(t))}))}else n=this.Ddt();0!==n.length?(this.Ndt=t&&this.TO.EO(t)?t:void 0,this.Vdt=this.Wdt(this.Ndt),this._o(new ZL(t,this))):this._o(new zL)}},{key:"Udt",get:function(){return this.Vdt}},{key:"NC",get:function(){return this.TO}},{key:"Jat",get:function(){return this.Gdt}},{key:"Cat",get:function(){return this.Xdt}},{key:"zdt",get:function(){return this.Zdt}},{key:"qdt",get:function(){return this.Jat.every((function(t){return t.qdt}))}}]),n}(aa);function QL(t){if("urn:mpeg:dash:role:2011"===t.c9)return $L(t);if("urn:tva:metadata:cs:AudioPurposeCS:2007"===t.c9){if("1"===t.Mx)return qg.SC;if("2"===t.Mx)return qg.kC}}function $L(t){if(void 0!==(null==t?void 0:t.Mx))switch(t.Mx){case"caption":return qg.AC;case"sign":return qg.TC;case"description":return qg.SC;case"enhanced-audio-intelligibility":return qg.kC;default:return}}var tF=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).KA=0,o.fZ=1,o.ift=void 0,o.$dt={},o.eft={},o.YA=0,o.pft=cs(),o.dft=function(t){0},o.S9=n,o.fW=i,o.gZ=r,o.cft=e,o.zut=u,o.lW=s,o}Rt(n,t);var i=n.prototype;return i.a3=function(){},i.Cct=function(){return this.xct.wr(this.Tn)},i.Sdt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:return t.Tw!==GR.iJ?[3,1]:(s=t.Kk.yht,[3,3]);case 1:return[4,t.Kk.Dk(r)];case 2:s=g.sent(),g.label=3;case 3:for(u=s,o=e.findTrackForRepresentation(i),a=e.$dt[o.IC],c=n.WO,h=n.UO,f=new BA([c,h]),a||(e.$dt[o.IC]=BA.pB(),e.eft[o.IC]=BA.pB()),e.Lot(r),v=e.Hot(new I(u),n,i,o),l=0;l<v.length;l++)d=v[l],o._W(d);return e.$dt[o.IC]=e.$dt[o.IC].tB(f),[2,{ldt:c,ddt:h}]}}))}))()},i.Lot=function(t){for(var n=eR(this.S9.ER,void 0,void 0,this.wR,this.gZ.Dj,this.gZ.Ej),i=0;i<n.length;i++){var r=nn(n[i],2),e=r[0],u=r[1];na(this.Adt(e,u,t))}},i.Got=function(t,n,i){return this.cft.Got(t,n,i)},i.Hot=function(t,n,i,r){return this.cft.Hot(t,n,i,r)},i.Adt=function(t,n,i){for(var r=t,e=n,u=new BA([t,n]),s=0,o=this.Z.lC;s<o.length;s++){for(var a=o[s],c=[],h=0,f=a.L.lC;h<f.length;h++){var v=f[h];v.WO>=r&&v.UO<=e?c.push(v):u=u.iB(new BA([v.WO,v.UO]))}for(var l=0;l<c.length;l++){var d=c[l];a.sW(d)}var g=this.$dt[a.IC];g&&(this.$dt[a.IC]=g.iB(u))}return ut.resolve()},i.WJ=function(t,n){},i.UJ=function(t,n){},i.Oj=function(){return!1},i.hW=function(t){var n=this.lft(t);if(n&&this.jdt!==n){this.jdt=n;for(var i=0,r=this.Z.lC;i<r.length;i++){var e=r[i];e!==n&&(e.CE=Hp.Mh)}if(this.cft.nr(),this.ift&&(this.ift.yn(),this.ift=void 0),this.jdt){var u=this.hft(this.jdt);this.ift=new UL(this,this.S9,this.S9,this.fW,this.gZ,!1,this.zut,void 0,void 0,new jL,CT,void 0).xdt(this.jdt,u),this.ift.bn(Yp.fa,this.dft),this.ift.Sn(SO.kht)}}},i.aW=function(t){if(this.jdt===t){var n=this.lft(t);n&&this.jdt===n&&(this.jdt=void 0),this.ift&&(this.ift.yn(),this.ift=void 0)}},i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.nr()];case 1:return i.sent(),n.nft=t,n.fft(t),[2]}}))}))()},i._ft=function(t){var n=function(t){var n=t.Jat&&t.Jat.length>0&&t.Jat[0],i=n&&sy(n.Jrt),r=sy(t.Jrt),e=t.jq===Ov.APPLICATION_TTML_XML;return i||r||e?Dm.TTML:t.jq===Ov.TEXT_VTT||hy(t.jq,t.Jrt)?Dm.WEBVTT:Dm.DEFAULT}(t);if(!n)throw new y("Unknown TextTrack type for Representation");var i=t.vft.concat(t.Rdt);return this.mft(function(t){return To(t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.c9})).map((function(t){return t.Mx})).filter(Yn),"caption")?ty.$V:ty.JV}(i),t.Ch,t.Qtt,!1,n,t,function(t){return t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.c9})).some((function(t){return function(t){return"forced-subtitle"===t||"forced_subtitle"===t}(t.Mx)}))}(t.vft),t.Rdt.map($L).filter(Yn))},i.fft=function(t){for(var n=0,i=t.gft;n<i.length;n++){var r=i[n],e=this._ft(r);this.pft.set(e.IC,r),e.rI=xm.LOADED,this.tt(e)}},i.it=function(n){this.pft.delete(n.IC),t.prototype.it.call(this,n)},i.mft=function(t,n,i,r,e,u,s,o){var a,c,h=u.Jat.reduce((function(t,n){return t||n.o}),void 0),f=null!=(c=null!=h?h:null==(a=u.o)?void 0:a.toString())?c:"";return this.lW.OI(t,f,n,i,r,e,s,o)},i.nr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.nr.call(n)];case 1:return i.sent(),n.ift?[4,n.ift.nr(SO.qht)]:[3,3];case 2:i.sent(),n.ift.vn(Yp.fa,n.dft),n.ift=void 0,i.label=3;case 3:return n.nft=void 0,n.$dt={},n.eft={},[2]}}))}))()},i.wft=function(){this.$dt={},this.eft={}},i.findTrackForRepresentation=function(t){for(var i=0,r=this.Z.lC;i<r.length;i++){var e=r[i],u=this.hft(e);if(u&&n.yft(u)===t)return e}},i.lft=function(t){return mo(this.Z.lC,(function(n){return t.IC===n.IC}))},i.hft=function(t){return this.pft.get(t.IC)},i.rft=function(){if(this.jdt){var t=this.hft(this.jdt);if(t)return n.yft(t)}},i.yn=function(){for(var n=0,i=this.Z.lC;n<i.length;n++){var r=i[n];this.lW.mW(r)}return t.prototype.yn.call(this)},n.yft=function(t){return t.Jat&&t.Jat.length>0?t.Jat[0]:void 0},xt(n,[{key:"jdt",get:function(){return this.Qdt},set:function(t){this.Qdt=t}},{key:"Rt",get:function(){for(var t=0,n=this.Z.lC;t<n.length;t++){if(n[t].CE!==Hp.Mh)return!0}return!1}},{key:"XG",get:function(){var t=this.S9.ER;return this.xct._B(t,.01)}},{key:"Jdt",get:function(){return this.jdt&&this.$dt[this.jdt.IC]?this.$dt[this.jdt.IC]:BA.pB()}},{key:"tft",get:function(){return this.jdt&&this.eft[this.jdt.IC]?this.eft[this.jdt.IC]:BA.pB()}},{key:"Pct",get:function(){return new BA([0,1/0])}},{key:"wR",get:function(){return this.Jdt}},{key:"FJ",get:function(){return this.ift?this.ift.Tat.FJ.Dct:BA.pB()}},{key:"xct",get:function(){return EO(this.wR,this.FJ).$L(2*this.sft)}},{key:"Sn",get:function(){return this.nft?this.nft.rlt.Sn:NaN}},{key:"Tn",get:function(){return this.nft?this.nft.rlt.Tn:NaN}},{key:"PR",get:function(){var t=this.Tn;return!!t&&this.S9.ER>=t}},{key:"sft",get:function(){var t,n,i=this.rft();return i?1/(null!=(n=this.jdt&&(null==i||null==(t=i.oft)?void 0:t._F()))?n:25):.04}},{key:"Ti",get:function(){return this.KA}},{key:"m3",get:function(){return rm.Tk}},{key:"QR",get:function(){return this.fZ},set:function(t){this.fZ=t}},{key:"tI",get:function(){return this.tft}},{key:"hI",get:function(){if(!this.jdt)return BA.mB(0);var t=this.hft(this.jdt),n=null==t?void 0:t.aft,i=null==t?void 0:t.uft;if(void 0===i||void 0===n)return BA.mB(0);var r=A.max(n,this.S9.ER);return new BA([i,r]).YL()}},{key:"ji",get:function(){return this.YA}}]),n}(wy),nF=function(){function t(t,n,i,r,e,u){this.Sft=[],this.Hl=new Ok([]),this.S9=t,this.fW=n,this.gZ=i,this.zut=r,this.lW=e,this.Xot=u}var n=t.prototype;return n.dW=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return t.Tw!==rm.Tk?[2]:(i=function(t,n,i){return sy(n)||t===Ov.APPLICATION_TTML_XML||t===Ov.TEXT_VTT?new pO(i):hy(t,n)?new kO:void 0}(t.jq,t.Jrt,n.Xot),i?(r=n.bft(i),n.Aft(r),[4,r.$n(t)]):[3,2]);case 1:return e.sent(),[2,r];case 2:return[2]}}))}))()},n.bft=function(t){return new tF(this.S9,this.fW,this.gZ,t,this.zut,this.lW)},n.Aft=function(t){this.Sft.push(t),this.Hl.MG(t.Z)},n.nr=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=0,i=t.Sft.slice(),r.label=1;case 1:return n<i.length?[4,i[n].nr()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return Eo(t.Sft),t.Hl.nr(),[2]}}))}))()},n.yn=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=0,i=t.Sft,r.label=1;case 1:return n<i.length?[4,i[n].yn()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return Eo(t.Sft),t.Hl.yn(),[2]}}))}))()},xt(t,[{key:"nt",get:function(){return this.Hl}}]),t}();U(),St(),Ct();var iF=function(t){function n(n){var i;return(i=t.call(this,va.Hy)||this).error=n,i}return Rt(n,t),n}(fa);U(),St();var rF=function(t){return t.pW="static",t.wW="dynamic",t}({});U(),St(),Ct(),U(),St();var eF=function(t){return t.Tft="kft",t}({}),uF=function(t){function n(){return t.call(this,eF.Tft)||this}return Rt(n,t),n}(fa);U(),St(),Gt(),Dt(),Ct(),rn(),Jt(),U(),St(),Ct();var sF=function(t){function n(n,i){var r;return(r=t.call(this,va.Ky)||this).representation=n,r.previousRepresentation=i,r}return Rt(n,t),n}(fa);U(),St(),Ct(),U(),St(),Wt(),U(),St();var oF=function(t){return t[t.Eft=0]="Eft",t[t.xft=1]="xft",t[t.Rft=2]="Rft",t[t.Ift=3]="Ift",t[t.Cft=4]="Cft",t[t.Pft=5]="Pft",t}({}),aF=function(t){return t[t.Dft=0]="Dft",t[t.Nft=1]="Nft",t[t.Mft=2]="Mft",t[t.Lft=3]="Lft",t}({});function cF(t,n,i){return i===oF.Eft?i:n!==aF.Dft&&n!==aF.Nft||i!==oF.xft&&i!==oF.Rft?t?n===aF.Mft?oF.Cft:n===aF.Lft?oF.Ift:oF.Eft:oF.Pft:oF.Rft}function hF(t,n,i,r){var e={byte:i},u=oF.xft,s=[],o=31&RC(n,e,r);e.byte+=1;for(var a=0;a<o;a+=1){var c=RC(n,e,r),h=4&c,f=3&c;u=cF(Boolean(h),f,u);var v=RC(n,e,r),l=RC(n,e,r);s.push({Bft:t,sL:-1,Oft:!a,Fft:Boolean(h),Tw:f,Vft:u,Wft:v,Uft:l})}return s}function fF(t,n,i){var r=RC(t,n,i);if(!E(r))return String.fromCharCode(r)}function vF(t){var n=t.U0,i={byte:t.V0},r=t.W0,e=RC(n,i,r);if(255===e&&(i.byte+=1),181===e){var u=CC(n,i);if(47===u||49===u){if(49===u){var s=function(t,n,i){for(var r="",e=i;e>0;)e-=1,r+=fF(t,n);return r}(n,i,4);if("GA94"!==s)return}if(3===RC(n,i,r)){47===u&&(i.byte+=1);var o=t;return o.Gft=i.byte,o}}}}function lF(t){return 4===t.O0}function dF(t){for(var n=t.filter(lF).map(vF).filter(Yn),i=[],r=0;r<n.length;r++){var e,u=n[r];(e=i).push.apply(e,Ut(hF(u.B0,u.U0,u.Gft,u.W0)))}return i}U(),St();var gF="und";function mF(t){if(t!==gF)for(var n=t.toLowerCase(),i=0;i<wF.length;i++){var r=wF[i];if(r[1]===n||r[2]===n||r["2T"]===n||r["2B"]===n||r[3]===n)return r}}var wF=[{l:"Abkhaz",mh:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{l:"Afar",mh:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{l:"Afrikaans",mh:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{l:"Akan",mh:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{l:"Albanian",mh:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{l:"Amharic",mh:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{l:"Arabic",mh:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{l:"Aragonese",mh:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{l:"Armenian",mh:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{l:"Assamese",mh:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{l:"Avaric",mh:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{l:"Avestan",mh:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{l:"Aymara",mh:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{l:"Azerbaijani",mh:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{l:"Bambara",mh:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{l:"Bashkir",mh:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{l:"Basque",mh:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{l:"Belarusian",mh:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{l:"Bengali",mh:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{l:"Bihari",mh:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{l:"Bislama",mh:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{l:"Bosnian",mh:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{l:"Breton",mh:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{l:"Bulgarian",mh:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{l:"Burmese",mh:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{l:"Catalan",mh:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{l:"Chamorro",mh:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{l:"Chechen",mh:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{l:"Chichewa",mh:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{l:"Chinese",mh:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{l:"Chuvash",mh:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{l:"Cornish",mh:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{l:"Corsican",mh:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{l:"Cree",mh:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{l:"Croatian",mh:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{l:"Czech",mh:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{l:"Danish",mh:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{l:"Divehi",mh:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{l:"Dutch",mh:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{l:"Dzongkha",mh:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{l:"English",mh:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{l:"Esperanto",mh:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{l:"Estonian",mh:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{l:"Ewe",mh:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{l:"Faroese",mh:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{l:"Fijian",mh:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{l:"Finnish",mh:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{l:"French",mh:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{l:"Fula",mh:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{l:"Galician",mh:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{l:"Georgian",mh:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{l:"German",mh:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{l:"Greek",mh:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{l:"Guaran\xed",mh:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{l:"Gujarati",mh:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{l:"Haitian",mh:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{l:"Hausa",mh:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{l:"Hebrew",mh:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{l:"Herero",mh:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{l:"Hindi",mh:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{l:"Hiri Motu",mh:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{l:"Hungarian",mh:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{l:"Interlingua",mh:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{l:"Indonesian",mh:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{l:"Interlingue",mh:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{l:"Irish",mh:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{l:"Igbo",mh:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{l:"Inupiaq",mh:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{l:"Ido",mh:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{l:"Icelandic",mh:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{l:"Italian",mh:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{l:"Inuktitut",mh:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{l:"Japanese",mh:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{l:"Javanese",mh:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{l:"Kalaallisut",mh:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{l:"Kannada",mh:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{l:"Kanuri",mh:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{l:"Kashmiri",mh:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{l:"Kazakh",mh:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{l:"Khmer",mh:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{l:"Kikuyu",mh:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{l:"Kinyarwanda",mh:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{l:"Kyrgyz",mh:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{l:"Komi",mh:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{l:"Kongo",mh:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{l:"Korean",mh:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{l:"Kurdish",mh:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{l:"Kwanyama",mh:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{l:"Latin",mh:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{l:"Luxembourgish",mh:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{l:"Ganda",mh:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{l:"Limburgish",mh:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{l:"Lingala",mh:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{l:"Lao",mh:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{l:"Lithuanian",mh:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{l:"Luba-Katanga",mh:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{l:"Latvian",mh:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{l:"Manx",mh:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{l:"Macedonian",mh:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{l:"Malagasy",mh:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{l:"Malay",mh:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{l:"Malayalam",mh:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{l:"Maltese",mh:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{l:"M\u0101ori",mh:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{l:"Marathi",mh:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{l:"Marshallese",mh:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{l:"Mongolian",mh:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{l:"Nauru",mh:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{l:"Navajo",mh:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{l:"Northern Ndebele",mh:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{l:"Nepali",mh:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{l:"Ndonga",mh:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{l:"Norwegian Bokm\xe5l",mh:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{l:"Norwegian Nynorsk",mh:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{l:"Norwegian",mh:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{l:"Nuosu",mh:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{l:"Southern Ndebele",mh:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{l:"Occitan",mh:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{l:"Ojibwe",mh:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{l:"Old Church Slavonic",mh:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{l:"Oromo",mh:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{l:"Oriya",mh:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{l:"Ossetian",mh:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{l:"Panjabi",mh:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{l:"P\u0101li",mh:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{l:"Persian",mh:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{l:"Polish",mh:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{l:"Pashto",mh:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{l:"Portuguese",mh:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{l:"Quechua",mh:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{l:"Romansh",mh:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{l:"Kirundi",mh:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{l:"Romanian",mh:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{l:"Russian",mh:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{l:"Sanskrit",mh:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{l:"Sardinian",mh:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{l:"Sindhi",mh:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{l:"Northern Sami",mh:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{l:"Samoan",mh:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{l:"Sango",mh:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{l:"Serbian",mh:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{l:"Gaelic",mh:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{l:"Shona",mh:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{l:"Sinhala",mh:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{l:"Slovak",mh:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{l:"Slovene",mh:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{l:"Somali",mh:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{l:"Southern Sotho",mh:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{l:"Spanish",mh:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{l:"Sundanese",mh:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{l:"Swahili",mh:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{l:"Swati",mh:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{l:"Swedish",mh:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{l:"Tamil",mh:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{l:"Telugu",mh:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{l:"Tajik",mh:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{l:"Thai",mh:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{l:"Tigrinya",mh:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{l:"Tibetan Standard",mh:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{l:"Turkmen",mh:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{l:"Tagalog",mh:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{l:"Tswana",mh:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{l:"Tonga",mh:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{l:"Turkish",mh:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{l:"Tsonga",mh:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{l:"Tatar",mh:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{l:"Twi",mh:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{l:"Tahitian",mh:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{l:"Uyghur",mh:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{l:"Ukrainian",mh:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{l:"Urdu",mh:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{l:"Uzbek",mh:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{l:"Venda",mh:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{l:"Vietnamese",mh:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{l:"Volap\xfck",mh:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{l:"Walloon",mh:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{l:"Welsh",mh:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{l:"Wolof",mh:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{l:"Western Frisian",mh:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{l:"Xhosa",mh:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{l:"Yiddish",mh:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{l:"Yoruba",mh:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{l:"Zhuang",mh:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{l:"Zulu",mh:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}];U(),St(),Wt();function pF(t){var n,i=null!=(n=function(t){var n=t.S0,i=new NC;return i.R0(n,0,n.byteLength),ZC(i).i1}(t))?n:24;return t.Hft/i}function yF(t){return t.Tw===hp.oD}function _F(t,n,i,r,e){for(var u,s=function(t,n,i,r){var e=i.Hft,u=sr.fromNumber(t.vL||0),s=r.kO(pw.IF(u,e));return{Zft:r._F(),Xft:r,zft:s,qft:r}}(t,0,i,r),o=pw.CF(t.ct||0,i.Hft),a=t.QD||0,c=!(65536&a)&&1!==(a>>24&3),h=Ec(e),f=new Pc;f.nc<h.byteLength;){var v=tc(h,f);if((31&qa(h,f,1))===VC.q0){var l,d=new NC;d.R0(e,f.nc-1,f.nc+v-1);var g=new jC(d),m=OC(s.zft,g);(l=u=u||[]).push.apply(l,Ut(dF(m)))}f.xb(v-1)}return ss({},s,{ct:o._F(),Yft:o,Kft:s.zft._F(),jft:s.Zft,Qft:c,Jft:u,$ft:!1,t_t:!1})}function bF(t){return{EN:t.XD.EN,Hft:t.AN.XD.mN}}function kF(t){return t.Tw===hp.gP}U(),St(),Ct(),U(),St(),Ct(),U(),St(),Wt(),U(),St(),U(),St(),U(),St(),Ct(),U(),St(),U(),St();var AF=function(){function t(t,n){this.oet=t,this.Ytt=n}return t.prototype.sF=function(t){return this.oet===t.oet&&this.Ytt===t.Ytt},t}();U(),St(),Dt();var TF=function(){function t(t,n){this.QQ=t,this.i_t=n,this.e_t=""}var n=t.prototype;return n.s_t=function(t){this.e_t+=t},n.n_t=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.s_t(i)}},xt(t,[{key:"bet",get:function(){return this.e_t}},{key:"vet",get:function(){return[this]}},{key:"wet",get:function(){return this.QQ}},{key:"$tt",get:function(){return this.i_t}},{key:"iet",get:function(){return new AF(this.$tt.oet,this.$tt.Ytt+this.bet.length-1)}}]),t}();function SF(t,n){return t===n||t.bet===n.bet&&t.$tt.sF(n.$tt)&&Og(t.wet,n.wet)}function EF(t,n){return t===n||t.$tt.sF(n.$tt)&&t.iet.sF(n.iet)&&So(t.vet,n.vet,SF)}var IF=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return Rt(n,t),n.prototype.nF=function(t){return So(this.U,t.U,EF)},n}(Jm);U(),St(),Dt();var RF=function(){function t(){}var n=t.prototype;return n.r_t=function(t){return t.xV(this)},n.o_t=function(t){var n=this;return Ro(t,(function(t,i){return t.xV(n,i)}))},n.h_t=function(t,n){return new CF(t,n).a_t()},t}(),CF=function(){function t(t,n){this.oet=t,this.v_t=n,this.d_t=[],this.__t=null}var n=t.prototype;return n.a_t=function(){if(this.u_t)return[];for(var t=0;t<this.oet.length;t++)this.c_t(t);return this.l_t(),this.d_t},n.f_t=function(t){this.__t=new TF(KP,new AF(this.v_t,t))},n.l_t=function(){this.__t&&(this.d_t.push(this.__t),this.__t=null)},n.c_t=function(t){var n=this.oet[t];NF(n)?this.__t&&this.l_t():(this.__t||this.f_t(t),this.__t.s_t(n))},xt(t,[{key:"u_t",get:function(){return this.oet.every(NF)}}]),t}();function NF(t){return null==t}var xF=function(){function t(){}return t.m_t=function(t,n,i){if(!(n>=i)){var r=Ro(t,(function(t,n){return new CF(t.map((function(t){return t?t.g_t():null})),n).a_t()}));if(0!==r.length)return new IF(n,i,r)}},t}(),DF="black",PF="white";U(),St(),U(),St();var MF=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce((function(t,n){return t[n[0]]=n[1],t}),{}),BF=function(){function t(){this.w_t=[],this.A_t=0;for(var t=0;t<$P;t++)this.w_t.push(null);this.k_t=!1}var n=t.prototype;return n.p_t=function(t){for(var n=0;n<$P;n++)t&&(this.w_t[n]=t.w_t[n])},n.sF=function(t){for(var n=0;n<$P;n++)if(this.w_t[n]!==t.w_t[n])return!1;return!0},n.y_t=function(){for(var t=0;t<$P;t++)if(null!==this.w_t[t])return!1;return!0},n.b_t=function(t){this.A_t!==t&&(this.A_t=t),this.A_t<0?this.A_t=0:this.A_t>$P&&(this.A_t=31)},n.S_t=function(t){var n=this.A_t+t;this.b_t(n)},n.T_t=function(){this.S_t(-1),this.w_t[this.A_t]=null},n.s_t=function(t){t>=144&&this.T_t();var n=function(t){return MF[t]?String.fromCharCode(MF[t]):String.fromCharCode(t)}(t);this.addParsedChar(n)},n.addParsedChar=function(t){this.A_t>=$P||(32===Number(t)?(this.w_t[this.A_t]=this.k_t?"</i>":"<i>",this.k_t=!this.k_t):this.w_t[this.A_t]=t,this.S_t(1))},n.E_t=function(t){for(var n=t;n<$P;n++)this.w_t[n]=null},n.Fb=function(){this.E_t(0),this.A_t=0},n.x_t=function(){this.E_t(this.A_t)},n.R_t=function(t,n){for(var i=this.w_t,r=null,e=0;e<$P;e++){var u=i[e];null===u?r=null:(r||(r={qh:e,zh:t,ji:0,Ti:1,w_t:[[]]},n.push(r)),r.w_t[0].push(u),r.ji++)}},n.xV=function(t,n){return t.h_t(this.w_t,n)},t}();var OF=function(){function t(t,n){this.D_t=new Array(LF+1);for(var i=0;i<=LF;i++)this.D_t[i]=new BF;this.L_t=1,this.V_t=0,this.C_t=t,this.P_t=n,this.z_t=!1,this.Y_t=!1,this.j_t=PF,this.J_t=DF,this.nr()}var n=t.prototype;return n.I_t=function(t,n){var i="CC"+(this.C_t<<1|this.P_t+1);if(t>=n)return null;var r=(new RF).o_t(this.D_t.slice(1));return 0===r.length?null:{FO:new IF(t,n,r),Nk:i,N_t:this.C_t<<1|this.P_t+1}},n.nr=function(){this.M_t(),this.L_t=1},n.B_t=function(){return this.L_t},n.O_t=function(t){this.L_t=t},n.b_t=function(t){this.D_t[this.L_t].b_t(t)},n.S_t=function(t){this.D_t[this.L_t].S_t(t)},n.F_t=function(){return this.V_t},n.W_t=function(t){this.V_t=t},n.s_t=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case 0:i=void 0!==VF[n]?VF[n]:String.fromCharCode(n);break;case 1:i=UF[n];break;case 2:this.U_t(),i=WF[n];break;case 3:this.U_t(),i=jF[n]}i&&this.D_t[this.L_t].addParsedChar(i)}},n.U_t=function(){this.D_t[this.L_t].T_t()},n.G_t=function(t,n,i){if(t>=n)for(var r=i-1;r>=0;r--)this.D_t[t+r]=this.D_t[n+r];else for(var e=0;e<i;e++)this.D_t[t+e]=this.D_t[n+e]},n.H_t=function(t,n){for(var i=0;i<=n;i++)this.D_t[t+i]=new BF},n.M_t=function(){this.H_t(0,LF)},n.Z_t=function(){this.L_t=this.V_t>0?this.V_t:0,this.M_t()},n.X_t=function(t){this.z_t=t},n.q_t=function(t){this.Y_t=t},n.K_t=function(t){this.j_t=t},n.Q_t=function(t){this.J_t=t},t}(),LF=15,FF=function(t){return t[t.$_t=0]="$_t",t[t.tvt=1]="tvt",t[t.evt=2]="evt",t[t.ivt=3]="ivt",t}({}),VF={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},UF={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},WF={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},jF={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},ZF=function(){function t(t,n){this.Sp=0,this.cvt=new OF(t,n),this.ovt=new OF(t,n),this.uvt=new OF(t,n),this.rvt=this.ovt,this.nvt=0,this.avt=void 0,this.svt=!1}var n=t.prototype;return n.nr=function(){this.svt=!0,this.nvt=0,this.Sp=0,this.rvt=this.ovt,this.avt=void 0,this.ovt.nr(),this.uvt.nr(),this.cvt.nr()},n.lvt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.dvt=function(t,n){var i=this.lvt(t,n),r=(30&n)>>1,e=PF,u=!1;r<7?e=HF[r]:7===r&&(u=!0);var s=1==(1&n);if(4!==this.Sp){var o=this.rvt;if(3===this.Sp&&i!==o.B_t()){var a=1+o.B_t()-o.F_t(),c=1+i-o.F_t();o.G_t(c,a,o.F_t()),o.H_t(0,c-1),o.H_t(i+1,LF-i)}o.O_t(i);var h=JP[t<<1&14|n>>5&1]-1;if(!(h<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{qtt:qP[i].qtt,ztt:qP[i].ztt,Ytt:qP[i].Ytt,oet:t}}(h,n);o.b_t(f.Ytt),this.rvt.X_t(s),this.rvt.q_t(u),this.rvt.K_t(e),this.rvt.Q_t(DF)}}},n.fvt=function(t,n){this.rvt.X_t(!1),this.rvt.q_t(!1),this.rvt.K_t(PF);var i=this._vt(t,FF.$_t," ".charCodeAt(0)),r=PF,e=!1,u=1==(1&n);return"white_italics"===(r=HF[(14&n)>>1])&&(r="white",e=!0),this.rvt.X_t(u),this.rvt.q_t(e),this.rvt.K_t(r),i},n._vt=function(t,n,i){if(this.rvt.s_t(n,i),2===this.Sp||3===this.Sp){var r=this.vvt(this.rvt,this.nvt,t);return this.nvt=t,r}return null},n.vvt=function(t,n,i){return this.svt?null:2===this.Sp||3===this.Sp?t.I_t(i,i+10):t.I_t(n,i)},n.mvt=function(t,n){var i=DF;0==(7&t)&&(i=GF[(14&n)>>1]),this.rvt.Q_t(i)},n.gvt=function(t){var n=XF,i=t.pvt,r=t.wvt,e=null;switch(i){case n.RCL:this.yvt();break;case n.BS:this.bvt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:e=this.Avt(2,r);break;case n.RU3:e=this.Avt(3,r);break;case n.RU4:e=this.Avt(4,r);break;case n.FON:e=this.Svt(r);break;case n.RDC:this.Tvt(r);break;case n.TR:this.kvt();break;case n.RTD:this.Evt();break;case n.EDM:e=this.xvt(r);break;case n.CR:e=this.Rvt(r);break;case n.ENM:this.Ivt();break;case n.EOC:e=this.Cvt(r)}return e},n.Rvt=function(t){var n=this.rvt;if(3!==this.Sp)return null;var i=this.vvt(n,this.nvt,t),r=n.B_t()-n.F_t()+1;return n.G_t(r-1,r,n.F_t()),n.H_t(0,r-1),n.H_t(n.B_t(),LF-n.B_t()),this.nvt=t,i},n.Avt=function(t,n){this.rvt=this.ovt;var i=this.rvt,r=null;return 3!==this.Sp&&4!==this.Sp&&(r=this.vvt(i,this.nvt,n),this.ovt.Z_t(),this.uvt.Z_t(),this.svt=!1,i.O_t(LF)),this.Sp=3,i.W_t(t),r},n.Svt=function(t){return this._vt(t,FF.$_t," ".charCodeAt(0))},n.xvt=function(t){var n=this.ovt,i=null;return 4!==this.Sp&&(i=this.vvt(n,this.nvt,t)),n.M_t(),this.svt=!1,i},n.Tvt=function(t){this.Sp=2,this.rvt=this.ovt,this.rvt.W_t(0),this.nvt=t},n.Ivt=function(){this.uvt.M_t()},n.Cvt=function(t){var n=null;4!==this.Sp&&(n=this.vvt(this.ovt,this.nvt,t));var i=this.uvt;return this.uvt=this.ovt,this.ovt=i,this.yvt(),this.nvt=t,n},n.yvt=function(){this.Sp=1,this.rvt=this.uvt,this.rvt.W_t(0)},n.bvt=function(){this.rvt.U_t()},n.kvt=function(){this.cvt.nr(),this.svt=!1,this.Evt()},n.Evt=function(){this.rvt=this.cvt,this.Sp=4},n.Pvt=function(t,n,i){return this.rvt.s_t(FF.$_t,n),this._vt(t,FF.$_t,i)},n.Dvt=function(t,n,i){var r=1&n?FF.ivt:FF.evt;return this._vt(t,r,i)},n.Nvt=function(t){var n=t.Mvt,i=t.pvt,r=t.wvt;if(this.avt===(n<<8|i))return this.avt=void 0,null;if(this.avt=n<<8|i,this.Lvt(n,i))this.dvt(n,i);else{if(this.Bvt(n,i))return this.fvt(r,i);if(this.Ovt(n,i))this.mvt(n,i);else{if(this.Fvt(n,i))return this._vt(r,FF.tvt,i);if(this.Vvt(n,i))return this.Dvt(r,n,i);if(this.Wvt(n,i))return this.gvt(t);this.isTabOffset(n)&&this.rvt.S_t(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.Wvt=function(t,n){return 20==(246&t)&&32==(240&n)},n.Lvt=function(t,n){return 16==(240&t)&&64==(192&n)},n.Bvt=function(t,n){return 17==(247&t)&&32==(240&n)},n.Ovt=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.Fvt=function(t,n){return 17==(247&t)&&48==(240&n)},n.Vvt=function(t,n){return 18==(246&t)&&32==(224&n)},t.Uvt=function(t){return 16==(112&t)},t}(),XF={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47},GF=["black","green","blue","cyan","red","yellow","magenta","black"],HF=["white","green","blue","cyan","red","yellow","magenta","white_italics"];U(),St(),Jt(),U(),St(),U(),St();var zF=function(){function t(t,n,i,r,e){this.Gvt=t,this.z_t=n,this.Y_t=i,this.J_t=r,this.j_t=e}var n=t.prototype;return n.g_t=function(){return this.Gvt},n.Hvt=function(){return this.z_t},n.Zvt=function(){return this.Y_t},n.Xvt=function(){return this.J_t},n.zvt=function(){return this.j_t},t}(),YF=function(){function t(t){this.bmt=t,this.hZ=!1,this.Qvt=!1,this.Kvt=0,this.Yvt=0,this.jvt=0,this.Jvt=0,this.$vt=0,this.wmt=2,this.emt=[],this.jO=0,this.L_t=0,this.omt=0,this.Y_t=!1,this.z_t=!1,this.j_t=PF,this.J_t=DF,this.tmt()}var n=t.prototype;return n.qvt=function(t,n,i,r,e,u,s){this.hZ=t,this.Yvt=n,this.Kvt=i,this.jvt=r,this.Qvt=e,this.Jvt=u,this.$vt=s},n.tmt=function(){this.emt=[];for(var t=0;t<qF;t++)this.emt.push(this.imt())},n.imt=function(){for(var t=[],n=0;n<KF;n++)t.push(null);return t},n.smt=function(t){this.nmt()&&(this.emt[this.L_t][this.omt]=new zF(t,this.z_t,this.Y_t,this.J_t,this.j_t),this.omt++)},n.hmt=function(){this.nmt()&&(this.omt<=0&&this.L_t<=0||(this.omt<=0?(this.omt=this.$vt-1,this.L_t--):this.omt--,this.emt[this.L_t][this.omt]=null))},n.nmt=function(){var t=this.L_t<this.Jvt&&this.L_t>=0,n=this.omt<this.$vt&&this.omt>=0;return t&&n},n.De=function(){return this.hZ},n.amt=function(t){for(var n=0,i=t;i<qF;i++,n++)this.emt[n]=this.emt[i];for(var r=0;r<t;r++,n++)this.emt[n]=this.imt()},n.umt=function(){if(this.L_t+1>=this.Jvt)return this.amt(1),void(this.omt=0);this.L_t++,this.omt=0},n.cmt=function(){this.emt[this.L_t]=this.imt(),this.omt=0},n.I_t=function(t,n){if(this.jO>=t)return null;var i=xF.m_t(this.emt,this.jO,t);return i?(this.lmt(t),{FO:i,Nk:"svc"+n,N_t:n}):null},n.dmt=function(t,n){this.L_t=t,this.omt=n},n.fmt=function(t){this.J_t=t},n._mt=function(t){this.j_t=t},n.vmt=function(t){this.z_t=t},n.mmt=function(t){this.Y_t=t},n.gmt=function(){this.L_t=0,this.omt=0,this.z_t=!1,this.Y_t=!1,this.j_t=PF,this.J_t=DF},n.pmt=function(t){this.wmt=t},n.ymt=function(){this.hZ=!0},n.be=function(){this.hZ=!1},n.Sh=function(){this.hZ=!this.hZ},n.lmt=function(t){this.jO=t},t}(),KF=42,qF=15,JF=function(){function t(t){this.Nmt=t,this.Hmt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Dmt=void 0}var n=t.prototype;return n.Amt=function(t){var n=t.Smt(),i=n.Mx,r=n.wvt;i===iV&&(i=i<<16|t.Smt().Mx);return i>=0&&i<=31?this.Tmt(i,r):i>=128&&i<=159?this.kmt(t,i,r):(i>=4096&&i<=4127?this.Emt(t,255&i):i>=4224&&i<=4255?this.xmt(t,255&i):i>=32&&i<=127?this.Rmt(i):i>=160&&i<=255?this.Imt(i):i>=4128&&i<=4223?this.Cmt(255&i):i>=4256&&i<=4351&&this.Pmt(255&i),null)},n.Rmt=function(t){this.Dmt&&(127!==t?this.Dmt.smt(String.fromCharCode(t)):this.Dmt.smt("\u266a"))},n.Imt=function(t){this.Dmt&&this.Dmt.smt(String.fromCharCode(t))},n.Cmt=function(t){if(this.Dmt)if(void 0!==rV[t]){var n=rV[t];this.Dmt.smt(n)}else this.Dmt.smt("_")},n.Pmt=function(t){this.Dmt&&(160===t?this.Dmt.smt("[CC]"):this.Dmt.smt("_"))},n.Tmt=function(t,n){if(!this.Dmt)return null;var i=this.Dmt,r=null;switch(t){case QF:i.hmt();break;case tV:i.De()&&(r=i.I_t(n,this.Nmt)),i.umt();break;case nV:i.De()&&(r=i.I_t(n,this.Nmt)),i.cmt();break;case $F:i.De()&&(r=i.I_t(n,this.Nmt)),i.tmt(),i.dmt(0,0)}return r},n.kmt=function(t,n,i){if(n>=128&&n<=135){var r=7&n;this.Mmt(r)}else{if(136===n){var e=t.Smt().Mx;return this.Lmt(e,i)}if(137===n){var u=t.Smt().Mx;this.Bmt(u,i)}else{if(138===n){var s=t.Smt().Mx;return this.Omt(s,i)}if(139===n){var o=t.Smt().Mx;return this.Fmt(o,i)}if(140===n){var a=t.Smt().Mx;return this.Vmt(a,i)}if(143===n)return this.nr(i);if(144===n)this.Wmt(t);else if(145===n)this.Umt(t);else if(146===n)this.dmt(t);else if(151===n)this.Gmt(t);else if(n>=152&&n<=159){var c=(15&n)-8;this.qvt(t,c,i)}}}return null},n.Emt=function(t,n){n>=8&&n<=15?t.MD(1):n>=16&&n<=23?t.MD(2):n>=24&&n<=31&&t.MD(3)},n.xmt=function(t,n){n>=128&&n<=135?t.MD(4):n>=136&&n<=143&&t.MD(5)},n.Mmt=function(t){this.Hmt[t]&&(this.Dmt=this.Hmt[t])},n.Zmt=function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<8?1==(1&t)&&this.Hmt[n]?[4,n]:[3,3]:[3,5];case 2:i.sent(),i.label=3;case 3:t>>=1,i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))},n.Lmt=function(t,n){for(var i=null,r=0,e=this.Zmt(t);r<e.length;r++){var u=e[r],s=this.Hmt[u];s.De()&&(i=s.I_t(n,this.Nmt)),s.tmt()}return i},n.Bmt=function(t,n){for(var i=0,r=this.Zmt(t);i<r.length;i++){var e=r[i],u=this.Hmt[e];u.De()||u.lmt(n),u.ymt()}},n.Omt=function(t,n){for(var i=null,r=0,e=this.Zmt(t);r<e.length;r++){var u=e[r],s=this.Hmt[u];s.De()&&(i=s.I_t(n,this.Nmt)),s.be()}return i},n.Fmt=function(t,n){for(var i=null,r=0,e=this.Zmt(t);r<e.length;r++){var u=e[r],s=this.Hmt[u];s.De()?i=s.I_t(n,this.Nmt):s.lmt(n),s.Sh()}return i},n.Vmt=function(t,n){for(var i=null,r=0,e=this.Zmt(t);r<e.length;r++){var u=e[r],s=this.Hmt[u];s.De()&&(i=s.I_t(n,this.Nmt)),this.Hmt[u]=void 0}return i},n.nr=function(t){var n=this.Vmt(255,t);return this.Fb(),n},n.Fb=function(){this.Dmt=void 0,this.Hmt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.Wmt=function(t){t.MD(1);var n=t.Smt().Mx;if(this.Dmt){var i=(128&n)>0,r=(64&n)>0;this.Dmt.mmt(i),this.Dmt.vmt(r)}},n.Umt=function(t){var n=t.Smt().Mx,i=t.Smt().Mx;if(t.MD(1),this.Dmt){var r=3&n,e=(12&n)>>2,u=(48&n)>>4,s=3&i,o=(12&i)>>2,a=(48&i)>>4,c=this.Xmt(u,e,r),h=this.Xmt(a,o,s);this.Dmt._mt(c),this.Dmt.fmt(h)}},n.dmt=function(t){var n=t.Smt().Mx,i=t.Smt().Mx;if(this.Dmt){var r=15&n,e=63&i;this.Dmt.dmt(r,e)}},n.Gmt=function(t){t.MD(1),t.MD(1);var n=t.Smt().Mx;if(t.MD(1),this.Dmt){var i=3&n;this.Dmt.pmt(i)}},n.qvt=function(t,n,i){var r=void 0!==this.Hmt[n];if(!r){var e=new YF(n);e.lmt(i),this.Hmt[n]=e}var u=t.Smt().Mx,s=t.Smt().Mx,o=t.Smt().Mx,a=t.Smt().Mx,c=t.Smt().Mx,h=t.Smt().Mx,f=(32&u)>0,v=127&s,l=(128&s)>0,d=o,g=1+(15&a),m=(240&a)>>4,w=1+(63&c);r&&0===(7&h)||this.Hmt[n].gmt(),this.Hmt[n].qvt(f,v,d,m,l,g,w),this.Dmt=this.Hmt[n]},n.Xmt=function(t,n,i){var r={0:0,1:0,2:1,3:1};return eV[r[t]<<2|r[n]<<1|r[i]]},t}(),QF=8,$F=12,tV=13,nV=14,iV=16,rV={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},eV=["black","blue","green","cyan","red","magenta","yellow","white"];U(),St();var uV=function(){function t(){this.Kmt=[],this.Ymt=null,this.qmt=0}var n=t.prototype;return n.zmt=function(t){if(t.Tw===aF.Lft){var n=63&t.Mx;return this.qmt=2*n-1,void(this.Ymt=[])}if(this.Ymt&&(this.qmt>0&&(this.Ymt.push(t),this.qmt--),0===this.qmt)){var i=new sV(this.Ymt);this.Kmt.push(i),this.Ymt=null,this.qmt=0}},n.jmt=function(){return this.Kmt},n.Qmt=function(){this.Kmt=[]},n.Fb=function(){this.Kmt=[],this.Ymt=[],this.qmt=0},t}(),sV=function(){function t(t){this.$mt=0,this.tgt=t}var n=t.prototype;return n.Jmt=function(){return this.$mt<this.tgt.length},n.egt=function(){return this.$mt},n.Smt=function(){if(!this.Jmt())throw new ol(ul.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.tgt[this.$mt++]},n.MD=function(t){if(this.$mt+t>this.tgt.length)throw new ol(ul.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.$mt+=t},t}(),oV=function(){function t(){this.dgt=!1,this.sgt=[],this.ngt=[],this.rgt=new uV,this.igt=0,this.ugt=hs({CC1:new ZF(0,0),CC2:new ZF(0,1),CC3:new ZF(1,0),CC4:new ZF(1,1)}),this.hgt=0,this.agt=0,this.ogt=cs(),this.nr()}var n=t.prototype;return n.Fb=function(){this.igt=0,this.sgt=[],this.ngt=[],this.rgt.Fb(),this.nr(),this.ogt.forEach((function(t){t.Fb()}))},n.nr=function(){this.hgt=0,this.agt=0,this.ugt.forEach((function(t){t.nr()}))},n.cgt=function(t,n){if(t.Fft){var i=t.Wft,r=t.Uft,e=t.Tw;e===aF.Dft||e===aF.Nft?this.sgt.push({wvt:n,Tw:e,Mvt:i,pvt:r,lgt:this.sgt.length}):this.dgt&&(this.ngt.push({wvt:n,Tw:e,Mx:i,lgt:this.ngt.length}),this.ngt.push({wvt:n,Tw:aF.Mft,Mx:r,lgt:this.ngt.length}))}},n.Kz=function(){var t=[];this.sgt.sort((function(t,n){return t.wvt-n.wvt||t.lgt-n.lgt})),this.ngt.sort((function(t,n){return t.wvt-n.wvt||t.lgt-n.lgt}));for(var n=0,i=this.sgt;n<i.length;n++){var r=i[n],e=this.fgt(r);e&&t.push(e)}for(var u=0,s=this.ngt;u<s.length;u++){var o=s[u];this.rgt.zmt(o)}for(var a=this.rgt.jmt(),c=0;c<a.length;c++){var h,f=a[c],v=this._gt(f);(h=t).push.apply(h,Ut(v))}return this.rgt.Qmt(),this.sgt=[],this.ngt=[],t},n.fgt=function(t){var n=t.Tw;if(ZF.Uvt(t.Mvt)){var i=t.Mvt>>3&1;0===n?this.hgt=i:this.agt=i}var r="CC"+(n<<1|(n?this.agt:this.hgt)+1),e=this.ugt.get(r);return 255===t.Mvt&&255===t.pvt||!t.Mvt&&!t.pvt||!this.vgt(t.Mvt)||!this.vgt(t.pvt)?(++this.igt>=45&&this.nr(),null):(this.igt=0,t.Mvt&=127,t.pvt&=127,t.Mvt||t.pvt?ZF.Uvt(t.Mvt)?e.Nvt(t):e.Pvt(t.wvt,t.Mvt,t.pvt):null)},n._gt=function(t){var n=[];try{for(;t.Jmt();){var i=t.Smt().Mx,r=(224&i)>>5,e=31&i;if(7===r&&0!==e)r=63&t.Smt().Mx;if(0!==r){if(!this.ogt.has(r)){var u=new JF(r);this.ogt.set(r,u)}for(var s=this.ogt.get(r),o=t.egt();t.egt()-o<e;){var a=s.Amt(t);a&&n.push(a)}}}}catch(t){if(!(t instanceof ol&&t.code===ul.SUBTITLE_PARSE_ERROR))throw t}return n},n.vgt=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}();U(),St(),Ct();var aV=function(t){function n(n,i){var r;return(r=t.call(this,"mgt")||this).N_t=n,r.FO=i,r}return Rt(n,t),n}(fa),cV=pw.vV(.1),hV=function(t){function n(){var n;return(n=t.call(this)||this).pgt=new oV,n}Rt(n,t);var i=n.prototype;return i.ggt=function(t,n){this.pgt.cgt(t,n)},i.Kz=function(){for(var t=this.pgt.Kz(),n=0;n<t.length;n++){var i=t[n];this._o(new aV(i.N_t,i.FO))}},i.nr=function(){this.pgt.Fb()},i.yn=function(){this.Ro(),this.pgt.Fb()},n}(aa),fV=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Agt=[],n}Rt(n,t);var i=n.prototype;return i.wgt=function(t,n,i,r){var e=this.ygt(t,r);this.bgt(e,n,i),this.Kz()},i.ygt=function(t,n){var i,r=t.slice().sort(QP),e=this.Agt;if(0===e.length)return r;if(0===r.length)return e;var u=e[0].Ktt,s=e[e.length-1].Ktt,o=r[0].Ktt,a=e[0].pat===r[0].pat;if(s.kF(o).AF().bF(pw.vV(2.5*n))&&a)i=e.concat(r).sort(QP);else if(o.gF(u)){for(var c=0;c<e.length&&e[c].Ktt.bF(o);)c++;for(var h=!1,f=!1,v=c,l=0;v<e.length&&l<r.length;v++,l++)vV(e[v],r[l])?h=!0:f=!0;var d=h&&!f,g=h&&f;!h&&f?i=e.concat(r).sort(QP):d?i=e.slice(0,c).concat(r):(i=r,g&&this.nr())}else i=r,this.nr();return i},i.bgt=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=e.Ktt._F();if(!i&&n-u<cV._F())return void(this.Agt=t.slice(r));this.ggt(e,u)}this.Agt=[]},n}(hV);function vV(t,n){return t.Ktt.sF(n.Ktt)&&t.Tw===n.Tw&&t.Wft===n.Wft&&t.Uft===n.Uft}var lV=function(t){function n(n){var i;return(i=t.call(this)||this).Rgt=void 0,i.Cgt=NaN,i.Pgt=NaN,i.Ngt=function(t){for(var n=i.kgt({jtt:t.N_t,Qtt:""}),r=t.FO,e=0,u=n.L.lC;e<u.length;e++){var s=u[e];r.WO<s.WO&&r.UO>s.WO?r.UO=s.WO:r.WO>s.WO&&s.UO>r.WO?s.UO=r.WO:r.WO===s.WO&&(r.UO=s.UO)}n._W(r)},i.lW=n,i.Tgt=cs(),i.Dgt=new fV,i.Dgt.bn("mgt",i.Ngt),i}Rt(n,t);var i=n.prototype;return i.Sgt=function(t){return this.Tgt.get(t)},i.kgt=function(t){var n=this.Tgt.get(t.jtt);return n||(n=this.Egt(t),this.Tgt.set(t.jtt,n)),n},i.Egt=function(t){var n=[qg.AC],i=mF(t.Qtt),r=i?i.l:"";t.xgt&&(r="easy "+r,n.push(qg.EC));var e=t.Ch||r||"CC"+t.jtt,u=this.lW.OI(ty.$V,e,e,t.Qtt,!1,Dm.CEA608,void 0,n);return this.tt(u),u},i.Got=function(t){var n=Ap.JD(Ec(t));this.Rgt=function(t){for(var n=0,i=t.Z;n<i.length;n++){var r=i[n],e=bF(r),u=r.AN.MN.ON.VN.UN,s=mo(u,(function(t){return t.Tw===hp.CP}));if(!s){var o=u.filter((function(t){return t.Tw===hp.rD})),a=mo(o,(function(t){var n;return(null==(n=t.NM)?void 0:n.Tw)===hp.CP}));a&&(s=a.NM)}if(s){var c=IC(Ec(s.yM.Kk),new Pc),h=s.AM;return ss({},e,{EN:r.XD.EN,yM:Dc(s.yM.Kk),ji:s.ji,Ti:s.Ti,YM:h&&h.YM,qM:h&&h.qM,V1:c.w0,Igt:c.y0,W1:c.b0,S0:c.S0[0],T0:c.T0[0]})}}}(mo(n,kF))},i.Sdt=function(t,n,i,r,e,u){var s;if(this.Rgt&&(E(this.Cgt)||!fr(this.Cgt,n,1e-5))){E(this.Pgt)||fr(this.Pgt,n,.1)||this.Dgt.nr();for(var o,a=function(t,n,i,r,e){for(var u=[],s=n.filter(yF),o=r(i),a=0;a<s.length;a++){var c=s[a],h=mo(c.Z,(function(t){return t.XD.EN===i.EN}));if(h)for(var f,v=h.XD.QM||0,l=h.XD.JM||0,d=h.aL?h.aL.aL:sr.ZERO,g=c.iL+(null!=(f=h.XD.uL)?f:sr.ZERO).toNumber(),m=0,w=h.hL;m<w.length;m++)for(var p=w[m],y=g+(p.iL||0),_=0,b=p._L;_<b.length;_++){var k=b[_],A=k.Nb||l,T=new NC;T.R0(t,y,y+A);var S=pw.IF(d,i.Hft);T.qV=e(k,c,i,S,Nc(t,y,y+A)),u.push(T),y+=A,d=d.add(k.ct||v||o)}}return u}(t,Ap.JD(Ec(t)),this.Rgt,pF,_F),c=null!=(o=null==(s=Do(a,(function(t){return t.qV.ct})))?void 0:s.qV.ct)?o:0,h=function(t){for(var n=[],i=0;i<t.length;i++){var r,e=t[i];e.qV.Jft&&(r=n).push.apply(r,Ut(e.qV.Jft)),delete e.qV.Jft}for(var u=0;u<n.length;u+=1)n[u].sL=u;return n}(a),f=pw.vV(r),v=[],l=0;l<h.length;l++){var d=h[l];v.push(ss({},d,{pat:e,Ktt:d.Bft.kO(f)}))}this.Dgt.wgt(v,i,u,c),this.Cgt=n,this.Pgt=i}},i.nr=function(){var n=this;return this.Dgt.nr(),this.Tgt.forEach((function(t){t.yn(),n.it(t),n.lW.mW(t)})),this.Tgt.clear(),this.Rgt=void 0,this.Cgt=NaN,this.Pgt=NaN,t.prototype.nr.call(this)},i.yn=function(){return this.Dgt.vn("mgt",this.Ngt),this.Dgt.yn(),t.prototype.yn.call(this)},n}(wy);U(),St(),U(),St(),rn();var dV=/(.*)=(.*)/,gV=/(.*):(.*)/;function mV(t){if(!t)return[];for(var n=[],i=t.trim().split(";"),r=0;r<i.length;r++){var e=i[r].match(dV);if(e){for(var u=nn(e,3),s=u[1],o="",a=!1,c=0,h=u[2].trim().split(",");c<h.length;c++){var f=h[c];if(f.match(gV)){var v=nn(f.match(gV),3),l=v[1],d=v[2];switch(l){case"lang":o=d;break;case"er":a=Boolean(Number(d))}}}n.push({jtt:Number(s),Qtt:o,xgt:a})}}return n}var wV={1:1,2:3,3:2,4:4},pV="urn:scte:dash:cc:cea-608:2015",yV="urn:scte:dash:cc:cea-708:2015";U(),St(),Ct(),U(),St(),Ct();var _V=function(t){function n(n,i,r){var e;return(e=t.call(this,Cg.hC)||this).pat=n,e.yct=i,e.Mgt=r,e}return Rt(n,t),n.prototype.ka=function(){return new bV(this.pat&&this.pat.wa)},n}(_g),bV=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return Rt(n,t),n}(fa),kV=[va.ho,Iy.iC,va.hb],AV=function(t){function n(n,i){var r;return(r=t.call(this)||this).Bgt=function(t){var n=r.Ogt,i=r.Lgt(t.currentTime)||r.ift.yat;i&&n!==i&&(r.Ogt=i,i.pat&&r._o(new _V(i.pat,null==i?void 0:i.wa,null==n?void 0:n.wa)))},r.WB=n,r.WB.bn(kV,r.Bgt),r.ift=i,r}Rt(n,t);var i=n.prototype;return i.Lgt=function(t){for(var n=this.ift.Tat,i=0,r=n.Ht.Jat;i<r.length;i++){var e=r[i];if(n.Uct.Oct(t,e))return e}},i.yn=function(){this.Ro(),this.WB.vn(kV,this.Bgt)},n}(aa);function TV(t,n,i){var r=new dp(Ec(t),new Pc),e=pp.HD(r,hp.gP);if(e){var u=pp.OD(e.Kk),s=mo(u,(function(t){return t.Tw===hp.wP})),o=mo(u,(function(t){return t.Tw===hp._D}));if(s){var a=pp.HD(s.Kk,hp.bP);if(a){var c=pp.HD(a.Kk,hp.TP);if(c){var h=pp.HD(c.Kk,hp.kP);if(h){var f=pp.OD(h.Kk),v=mo(f,(function(t){return t.Tw===hp.EP}));if(v){var l=pp.KD(v.Kk,hp.EP,!1),d=new dp(Ec(l.Kk),new Pc);d.MD(4);for(var g=pp.OD(d),m=[],w=0;w<g.length;w++){var p=g[w];if(p.Tw===hp.nD||p.Tw===hp.rD)return;p.Tw===hp.CP?m.push({Fgt:p,Vgt:hp.rD}):p.Tw===hp.QP&&m.push({Fgt:p,Vgt:hp.nD})}if(function(t,n){return void 0===t&&void 0!==n&&n.length>0}(o,n)||0!==m.length){var y=xc(t),_=mo(u,(function(t){return t.Tw===hp.RP})),b=_?pp.HD(_.Kk,hp.IP):void 0,k=b?function(t){var n=t.Kk.Ib();return n.MD(4),n.MD(4),n.ED()}(b):1,A=mo(f,(function(t){return t.Tw===hp.xP}));A&&function(t,n,i){var r=IV(Ec(t),n),e=pp.GD(r,new Pc),u=e.Kk;u.MD(4);for(var s=u.ED(),o=0;o<s;o++){u.MD(4),u.MD(4);var a=u.SD.Ib(),c=u.ED();nc(u.Kk,a,c+i)}}(y,A,m.length),b&&function(t,n,i){var r=IV(Ec(t),n),e=pp.GD(r,new Pc),u=e.Kk;u.MD(4),u.MD(4),nc(u.Kk,u.SD,i)}(y,b,1),y=function(t,n,i,r){if(i||!r)return t;for(var e=t,u=0;u<r.length;u++){var s=r[u];e=SV(e,n,new I(s))}return e}(y,e,o,n);for(var T=[e,s,a,c,h,v],S=m.length-1;S>=0;S--){var E=m[S];y=EV(y,E.Fgt,v,T,E.Vgt,i)}return{Wgt:y,Ugt:{Ggt:m.length,jM:k}}}}}}}}}}function SV(t,n,i){var r=Zc(t,i,n.Kk.Kk.byteOffset+n.Kk.Kk.byteLength);return RV(IV(Ec(r),n),i.byteLength),r}function EV(t,n,i,r,e,u){var s=function(t,n,i){0;var r=t.Kk.Kk,e=PV(),u=new I(r.byteLength+e.byteLength),s=Ec(u);u.set(Ic(r),0),RV(s,e.byteLength),cc(s,new Pc(OV),n),u.set(e,r.byteLength),cc(s,new Pc(r.byteLength+MV),t.Tw),i&&Ya(s,new Pc(r.byteLength+BV),i);return u}(n,e,u),o=Zc(t,s,n.Kk.Kk.byteOffset),a=Ec(o);!function(t,n){var i=pp.GD(t,new Pc),r=pp.KD(i.Kk,hp.EP,!1),e=Ec(r.Kk),u=e.getUint32(0);e.setUint32(0,u+n)}(IV(a,i),1);for(var c=0;c<r.length;c++){RV(IV(a,r[c]),s.byteLength)}return o}function IV(t,n){var i=n.Kk.Kk.byteOffset;return Sc(t,i,i+n.Kk.Kk.byteLength)}function RV(t,n){var i=new Pc,r=tc(t,i);if(0===r);else if(1===r){i.xb(4);var e=ic(t,i.Ib());rc(t,i,e.add(n))}else i.Rb(0),nc(t,i,r+n)}U(),St(),Ct();var CV=function(t){function n(n){var i;return(i=t.call(this)||this).Xgt=[],i.Zgt=n,i}Rt(n,t);var i=n.prototype;return i.start=function(t){this.FQ=t},i.transform=function(t){this.h$(t),this.Hgt()},i.flush=function(){this.u$(),this.Hgt()},i.g$=function(t){return t===hp.oD},i.w$=function(t){var n=xc(Ic(t.Kk.Kk)),i=pp.GD(Ec(n),new Pc);n=NV(n,i,this.Zgt),this.Xgt.push(n)},i.b$=function(t){this.Xgt.push(t)},i.Hgt=function(){for(var t=0,n=function(t){if(t.length<2)return t;for(var n=[],i=t[0],r=i.buffer,e=i.byteOffset,u=i.byteLength,s=1;s<t.length;s++){var o,a=t[s];r===a.buffer&&e+u===a.byteOffset?u+=a.byteLength:(n.push(new I(r,e,u)),r=(o=a).buffer,e=o.byteOffset,u=o.byteLength)}return n.push(new I(r,e,u)),n}(this.Xgt);t<n.length;t++){var i=n[t];this.FQ.enqueue(i)}Eo(this.Xgt)},n}(uC);function NV(t,n,i){for(var r=t,e=pp.OD(n.Kk),u=e.length-1;u>=0;u--){var s=e[u];s.Tw===hp.aD&&(r=xV(r,s,n,i))}return r}function xV(t,n,i,r){var e=IV(Ec(t),n),u=pp.GD(e,new Pc),s=pp.OD(u.Kk),o=mo(s,(function(t){return t.Tw===hp.uD}));if(!o)return t;var a=o.Kk,c=a.SD.Ib(),h=a.ED(),f=kp(h).flags;a.MD(4),f.Cb(vp.BASE_DATA_OFFSET_PRESENT)&&a.MD(8);var v=a.SD.Ib();if(f.Cb(vp.SAMPLE_DESCRIPTION_INDEX_PRESENT)){var l=tc(a.Kk,v);return nc(a.Kk,a.SD,l+r.Ggt),t}nc(a.Kk,c,h|vp.SAMPLE_DESCRIPTION_INDEX_PRESENT);var d=new I(4);Ec(d).setUint32(0,r.jM+r.Ggt);for(var g=a.Kk.byteOffset+v.nc,m=0,w=s.filter((function(t){return t.Tw===hp.cD}));m<w.length;m++){DV(w[m],d.byteLength)}for(var p=0,y=[o,n,i];p<y.length;p++){var _=y[p];RV(IV(Ec(t),_),d.byteLength)}return Zc(t,d,g)}function DV(t,n){var i=t.Kk,r=kp(i.ED()).flags;if(i.MD(4),r.Cb(lp.DATA_OFFSET_PRESENT)){var e=i.Ib().ED();nc(i.Kk,i.SD,e+n)}}var PV=Ci((function(){return new I([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])})),MV=16,BV=64,OV=4,LV=[Yp.fa,va.$y,va.eb,va.sb,va.Ay],FV=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,l){var d;return(d=t.call(this)||this).Qdt=void 0,d.ift=void 0,d.ypt=!1,d.vW=new Qo,d.gpt=void 0,d.Kgt=void 0,d.Cot=void 0,d.Mlt=new jL,d.rpt=void 0,d.npt=void 0,d.zgt=new Ok([]),d.tpt=function(){!d.Fat()&&d.Cct()&&d.Qgt.tpt()},d.Bdt=function(t){d.Qdt.Bdt(t),d._o(new sF(t.yct,t.Mgt))},d.Apt=function(t){d.Ept(t)},d.zS=function(){var t=UV;return UV+=1,t}(),d.g3=n,d.fW=e,d.gZ=u,d.Qgt=i,d.WB=r,d.zut=s,d.lW=o,d.spt=a,d.Nlt=c,d.xlt=c?DA(n,c):void 0,d.edt=h,d.wpt=f,d.Edt=v,d.hH=l,d}Rt(n,t);var i=n.prototype;return i.Jgt=function(){var t;return null==(t=this.Qdt)?void 0:t.Act.rlt.Tn},i.Fat=function(){return void 0!==this.ift&&this.ift.Fat},i.Cct=function(){if(void 0===this.Kgt)return!1;var t=this.Ygt().YL(),n=t.sB(this.Kgt);return!(n<0)&&t.Sn(n)!==this.Kgt},i.a3=function(){var t=this.Qgt.Pct,n=this.Ygt().jn(t);this.Kgt=n.V>0?n.Tn(n.V-1):0;var i=t.Tn(0);isFinite(i)&&this.Kgt<i&&this.WJ(this.Kgt,i),this.tpt()},i.Sdt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return u=i.Zot.BV,s=e.ept(t,n,i,u,r),[4,ia([e.ipt(t,n,i,u,r),s])];case 1:return o=nn.apply(void 0,[a.sent(),1]),[2,o[0]]}}))}))()},i.ept=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:return Lv(i.jq)?t.Tw!==GR.Sk?[3,2]:[4,t.Kk.Gut().Dk(e)]:[2];case 1:return o=h.sent(),s=new I(o),[3,3];case 2:s=new I(t.Kk.yht),h.label=3;case 3:return a=[],void 0!==u.spt&&(u.spt.Sdt(s,n.WO,r),a.push(u.spt)),void 0!==u.npt&&(c=i.nlt(n),u.npt.Sdt(s,n.WO,n.UO,r,i.pat,c),a.push(u.npt)),my(u.wR,a),[2]}}))}))()},i.ipt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c,h,f,v,l;return Ht(this,(function(d){switch(d.label){case 0:return Zo(e),t.Tw===GR.Sk?(a=t.Kk.Nk,u.rpt&&(a=function(t,n){return t.pipeThrough(new Wl(new CV(n)))}(a,u.rpt)),o={Tw:GR.Sk,Kk:a}):(c=new I(t.Kk.yht),u.rpt&&(c=function(t,n){for(var i=xc(t),r=new dp(Ec(i),new Pc),e=pp.OD(r),u=e.length-1;u>=0;u--){var s=e[u];s.Tw===hp.oD&&(i=NV(i,s,n))}return i}(c,u.rpt)),o={Tw:GR.iJ,Kk:c}),h={wit:n.WO,ct:n.ct,BV:r,W1:null==(s=i.pat)?void 0:s.IC},f=u.Cot.wR,[4,u.opt()];case 1:return d.sent(),[4,u.Cot.g2(o,h,e)];case 2:return d.sent(),v=u.Cot.wR,l=u.Cot.w3,[2,VV(f,v,l,n)]}}))}))()},i.Got=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return Zo(i),r.npt&&r.npt.Got(new I(t.yht)),u=new I(t.yht),r.hpt(n)&&(s=r.Qgt.upt,o=[],s&&(o=Ro(s.cpt,(function(t){return t.IG})),a=s.lpt.aU?$E(s.lpt.aU):void 0),(c=TV(u,o,a))?(r.rpt=c.Ugt,u=c.Wgt):r.rpt=void 0),h={Tw:GR.iJ,Kk:u},[4,r.opt()];case 1:return f.sent(),[4,r.Cot.A2(h,{W1:null==(e=n.pat)?void 0:e.IC},i)];case 2:return f.sent(),[2]}}))}))()},i.Adt=function(t,n,i){return this.Cot.eT(t,n,i)},i.WJ=function(t,n){this.Cot.A3(t,n)},i.UJ=function(t,n){this.Cot.S3(t,n)},i.Ygt=function(){return this.Cot?this.Cot.wR:BA.pB()},i.qgt=function(){return this.Cot?this.Cot.w3:BA.pB()},i.dpt=function(){return this.Cot?this.Cot.eT(0,1/0):ut.resolve()},i.fpt=function(){return this.Cot&&(this.Cot.vn(ZR.tJ,this.Ds),this.Cot=void 0),ut.resolve()},i._pt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return r=AL.Blt(null!=(i=t.Udt)?i:t.Jat,n.xlt),e=r.jq,n.Cot||(n.Cot=n.Qgt.vpt(e),n.Cot.bn(ZR.tJ,n.Ds),n.Mlt=new WL(n.Cot)),[4,n.opt()];case 1:return u.sent(),[2]}}))}))()},i.$n=function(t,n){var i=Qo.$w([n]);this.vW.jw(),this.vW=i;var r=this.mpt(t,this.gpt,i.Uw);return this.gpt=r,r},i.ppt=function(t){if(!To(this.wpt,Dm.CEA608)){var n=t.Act.Rdt;if(function(t){return t.some((function(t){return t.c9===pV||t.c9===yV}))}(n)){this.npt=new lV(this.lW);for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(r.c9===pV)for(var e=nM(r.Mx),u=0;u<e.length;u++){var s=e[u];n.push(s)}else if(r.c9===yV)for(var o=mV(r.Mx),a=0;a<o.length;a++){var c=o[a];if(c.jtt<=4){var h=wV[c.jtt];n.push(ss({},c,{jtt:h}))}}}return n}(n),r=0;r<i.length;r++){var e=i[r];this.npt.kgt(e)}this.zgt.MG(this.npt.Z)}}},i.mpt=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return Zo(i),n?[4,n.catch(Si)]:[3,2];case 1:e.sent(),e.label=2;case 2:return r.Qdt===t&&r.ypt?[2]:[4,r.bpt()];case 3:return e.sent(),Zo(i),[4,r.dpt()];case 4:return e.sent(),Zo(i),t?[4,r.dW(t)]:[3,6];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))()},i.bpt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return n=t.Qdt,t.Qdt=void 0,t.ypt=!1,t.Kgt=void 0,n&&(n.vn(Cg.uC,t.Apt),n.Ydt(!1),n.vn(Cg.NO_QUALITY,t.Ds)),t.Spt&&(t.Spt.yn(),t.Spt=void 0),t.ift?[4,t.ift.yn()]:[3,2];case 1:i.sent(),t.ift=void 0,i.label=2;case 2:return t.npt?(t.zgt.FG(t.npt.Z),[4,t.npt.yn()]):[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))()},i.dW=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Qdt=t,n.ppt(t),t.bn(Cg.uC,n.Apt),t.bn(Cg.NO_QUALITY,n.Ds),[4,n._pt(t)];case 1:return i.sent(),n.ift=n.Tpt(t),n.ift.bn(LV,n.Ds),n.ift.bn("wat",n.tpt),n.ift.xat=t.Udt,n.Spt=new AV(n.WB,n.ift),n.Spt.bn(Cg.hC,n.Bdt),t.Ydt(!0),n.ypt=!0,[2]}}))}))()},i.Tpt=function(t){return new UL(this,this.WB,this.WB,this.fW,this.gZ,this.Edt,this.zut,this.Nlt,this.xlt,this.Mlt,this.edt,this.hH).Ait(t)},i.nr=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.vW.jw(),n.gpt?[4,n.gpt.catch(Si)]:[3,2];case 1:i.sent(),n.gpt=void 0,i.label=2;case 2:return[4,n.bpt()];case 3:return i.sent(),t?[3,5]:[4,n.dpt()];case 4:i.sent(),i.label=5;case 5:return[4,n.fpt()];case 6:return i.sent(),[2]}}))}))()},i.kpt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.bpt()];case 1:return n.sent(),[2]}}))}))()},i.Mdt=function(t){var n;null==(n=this.jdt)||n.Mdt(t)},i.Pdt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,i.Xat()];case 1:if(a.sent(),null==(r=i.jdt)||r.Pdt(n),!((u=null==(e=i.ift)?void 0:e.Tat.Uct.Mct(t))&&u.V>0))return[3,5];s=0,a.label=2;case 2:return s<u.V?[4,null==(o=i.Cot)?void 0:o.eT(u.Sn(s),u.Tn(s))]:[3,5];case 3:a.sent(),a.label=4;case 4:return s++,[3,2];case 5:return[4,i.qat()];case 6:return a.sent(),[2]}}))}))()},i.Ept=function(t){var n=this,i=t.Ht.Udt;return void 0===i||i.some((function(t){return n.Mlt.dJ(t)}))?this.xpt(t):void this._o(new fa("Rpt"))},i.xpt=function(t){this.ift&&this.Qdt&&this.Qdt===t.Ht&&(this.ift.xat=this.Qdt.Udt)},i.Xat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.ift?[4,n.ift.Xat(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},i.qat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.ift?[4,n.ift.qat(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},i.Oj=function(){var t=this.wR.vB;return this.gZ.Oj(t)},i.opt=function(){var t=this.Qgt.Pct,n=A.max(0,t.Sn(0)-.1),i=t.Tn(0)+.01;return this.Cot.F2(n,i)},i.hpt=function(t){return!!Lv(t.jq)&&(!!this.Qgt.h9||void 0!==this.Qgt.upt)},i.Yat=function(t){if(em(this.g3)){var n=this.ift,i=t.ift;void 0!==n&&void 0!==i&&n.Yat(i,this.Sn,this.Tn)}},i.yn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:n.Ro(),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,n.nr(t)];case 2:return i.sent(),[4,n.kpt()];case 3:return i.sent(),[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},xt(n,[{key:"jdt",get:function(){return this.Qdt}},{key:"o",get:function(){return this.zS}},{key:"m3",get:function(){return this.g3}},{key:"nt",get:function(){return this.zgt}},{key:"oft",get:function(){return function(t){var n=29.97,i=1024,r=44100;return t===rm.vE?r/i:n}(this.g3)}},{key:"sft",get:function(){return 1/this.oft}},{key:"Rt",get:function(){return Boolean(this.Qdt&&this.Qdt.Rt)}},{key:"FJ",get:function(){var t=this.ift?this.ift.Tat.FJ.Dct:BA.pB();return this.qgt().tB(t)}},{key:"wR",get:function(){var t=this.Ygt(),n=this.Kgt;return void 0!==n&&t.YL().wr(n)&&(t=t.tB(BA.mB(n))),t}},{key:"xct",get:function(){return EO(this.Ygt(),this.FJ.tB(this.jgt)).$L(2*this.sft)}},{key:"jgt",get:function(){var t=this.Kgt;if(t&&isFinite(t)){var n=this.Qgt.Tn;if(isFinite(n)&&t<n)return new BA([t,n],[!1,!0])}return BA.pB()}},{key:"hI",get:function(){var t=this.Qdt;if(!t)return BA.mB(0);var n=t.Act.aft,i=t.Act.uft;if(void 0===i||void 0===n)return BA.mB(0);var r=i,e=n>=t.Act.rlt.Tn?A.max(n,this.Tn):n;return e=A.max(r,e),BA.gB(r,e).YL()}},{key:"XG",get:function(){return this.xct._B(this.ER)}},{key:"Pct",get:function(){return this.Qgt.Pct}},{key:"ER",get:function(){return this.WB.ER}},{key:"Sn",get:function(){return this.Qdt?this.Qdt.Act.rlt.Sn:NaN}},{key:"Tn",get:function(){var t=this.Jgt(),n=this.Kgt;return void 0===t?NaN:void 0!==n?n:t}},{key:"Ti",get:function(){return this.Qgt.Ti}},{key:"ji",get:function(){return this.Qgt.ji}},{key:"$gt",get:function(){return this.Kgt}}]),n}(aa);function VV(t,n,i,r){var e,u,s=n.iB(t.YL());return 0===(s=s.iB(i.iB(n))).V?u=e=r.UO:(e=s.Sn(0),u=s.Tn(0)),{ldt:e,ddt:u}}var UV=0;var WV=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,l,d){var g,m,w;return(g=t.call(this)||this).cO=new im,g.dO=new im,g.Kpt=[],g.qpt=new Qo,g.Zpt=!0,g.Sft=[],g.gpt=void 0,g.Fpt=Ii((function(){g._o(new JR(g.ER))}),350),g.Qpt=function(t){var n=t.hwt.jdt;if(n)for(var i=0,r=g.Kpt;i<r.length;i++){var e,u=r[i];u.jdt&&u.jdt!==n&&u.Tw===(null==(e=n.Odt)?void 0:e.Tw)&&(u.vn("jpt",g.Qpt),u.jdt.Rt=!1,u.bn("jpt",g.Qpt))}g.Ds(t)},g.ewt=function(t){jo(t)||g._o(new Ik(al(t,ul.MEDIA_LOAD_ERROR)))},g.Xpt=function(t){var n=t.M6;n&&g.iwt(n).catch(g.ewt)},g.awt=function(t){g.swt(t).catch(g.ewt)},g.zpt=function(t){var n=t.M6;if(n)for(var i=0,r=g.twt;i<r.length;i++)for(var e=r[i],u=0,s=e.Act.Jat;u<s.length;u++){var o=s[u],a=(o.TG||[]).some((function(t){return t.aU&&Vc(Cc(n),$E(t.aU))}));o.qdt&&a&&(o.qdt=!1,o.pat&&e.Mdt(o.pat))}},g.fW=r,g.gZ=e,g.zut=u,g.WB=n,g.IO=_m(),g.Kpt=[],g.Dpt=o,g.Wpt=a,g.hH=d,g.lW=h,g.Npt=new nF(n,r,e,u,h,null==(w=null==s||null==(m=s.dash)?void 0:m.segmentRelativeVttTiming)||w),g.Hl=new Ok([g.Npt.nt]),g.edt=v,g.wpt=l,g.Dpt.bn(RO.vat,g.Ds),g.xu=c,g.Z2=i,g.Edt=s.lowLatency,g.spt=f,g.Lpt=s.abr,g.WB.bn(va.fb,g.Xpt),g.WB.bn(va.Ey,g.zpt),g}Rt(n,t);var i=n.prototype;return i.xj=function(t,n){return this.Ipt(t,n)},i.Ipt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:for(r=0;r<t.length;r++)e=t[r],i.Cpt(e);return[4,i.$n(n)];case 1:a.sent(),u=0,s=i.Dpt.Ppt,a.label=2;case 2:return u<s.length?(o=s[u]).Tw!==rm.Tk?[3,5]:o.Jat&&0!==o.Jat.length?[3,3]:(i._o(new iF("No supported representation found in the AdaptationSet with mimetype : "+o.Tw)),[3,5]):[3,6];case 3:return[4,i.Npt.dW(o)];case 4:a.sent(),a.label=5;case 5:return u++,[3,2];case 6:return[2]}}))}))()},i.Mpt=function(t){return new FV(t,this,this.WB,this.fW,this.gZ,this.zut,this.lW,this.spt,this.Lpt,this.edt,this.wpt,this.Edt,this.hH)},i.Fat=function(){return this.Sft.some((function(t){return t.Fat()}))},i.Cct=function(){return 0!==this.Sft.length&&this.Sft.every((function(t){return t.Cct()}))},i.tpt=function(){this.Bpt()&&this._o(new uF)},i.vpt=function(t){if(Xs(t,"audio")){if(this.Z2.h4)return this.Z2.h4}else if(Xs(t,"video")&&this.Z2.a4)return this.Z2.a4;throw new y("Cannot allocate source buffer for mime type "+t)},i.Opt=function(t){t.bn([Yp.fa,va.Ky,va.$y,va.eb,va.sb,va.Ay],this.Ds),t.bn(ZR.tJ,this.Fpt),t.bn("Rpt",this.Ds)},i.Vpt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,ut.all(n.Sft.map((function(n){return n.yn(t)})))];case 1:return i.sent(),Eo(n.Sft),[2]}}))}))()},i.Bpt=function(){if(this.Fat())return!1;if(!this.Cct())return!1;var t=this.wR;if(0===t.V)return!1;var n=this.ER;if(this.Upt)return t.Sn(t.V-1)<=n;var i=t.jn(this.Pct);if(0===i.V)return!0;var r=i.Sn(i.V-1),e=i.Tn(i.V-1)+.1;return r<=n&&n<=e},i.Xat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Zpt?[2]:(n.Zpt=!0,[4,ut.all(n.Sft.map((function(n){return n.Xat(t)})))]);case 1:return i.sent(),[2]}}))}))()},i.qat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Zpt?(n.Zpt=!1,[4,ut.all(n.Sft.map((function(n){return n.qat(t)})))]):[2];case 1:return i.sent(),[2]}}))}))()},i.yn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.WB.vn(va.fb,n.Xpt),n.WB.vn(va.Ey,n.zpt),n.Ro(),n.Dpt.vn(RO.vat,n.Ds),n.qpt.jw(),n.gpt?[4,n.gpt.catch(Si)]:[3,2];case 1:i.sent(),n.gpt=void 0,i.label=2;case 2:return[4,n.Vpt(t)];case 3:return i.sent(),[4,n.Npt.yn()];case 4:return i.sent(),n.cO.yn(),n.dO.yn(),n.Hl.yn(),n.Ypt(),[2]}}))}))()},i.Cpt=function(t){this.Kpt.push(t),t.bn("jpt",this.Qpt);for(var n=t.Tw===rm.vE?this.cO:this.dO,i=0,r=t.Z;i<r.length;i++){var e=r[i];n.tt(e)}},i.Jpt=function(t){for(var n=t.Tw===rm.vE?this.cO:this.dO,i=0,r=t.Z;i<r.length;i++){var e=r[i];n.it(e),e.yn()}t.yn(),bo(this.Kpt,t)},i.Ypt=function(){for(var t=this.Kpt.length-1;t>=0;t--)this.Jpt(this.Kpt[t])},i.$n=function(t,n){return this.qpt.jw(),this.qpt=Qo.$w([n]),this.gpt=zo(this.QE(t,this.gpt,this.qpt.Uw),this.qpt).catch(this.ewt),this.gpt},i.QE=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v;return Ht(this,(function(l){switch(l.label){case 0:return n?[4,n.catch(Si)]:[3,2];case 1:l.sent(),l.label=2;case 2:Zo(i),e=[],u=r.Sft.slice(),s=t.slice(),Eo(r.Sft),o=0,l.label=3;case 3:return o<u.length?(a=u[o],(c=a.jdt)&&To(s,c)?(r.Sft.push(a),e.push(a.$n(c,i)),bo(s,c),[3,6]):[3,4]):[3,7];case 4:return r.Hl.FG(a.nt),[4,a.yn()];case 5:l.sent(),Zo(i),l.label=6;case 6:return o++,[3,3];case 7:for(h=0;h<s.length;h++)f=s[h],v=r.Mpt(f.Cat),r.Hl.MG(v.nt),r.Sft.push(v),r.Opt(v),e.push(v.$n(f,i));return[4,ut.all(e)];case 8:return l.sent(),[2]}}))}))()},i._J=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return r.Z2===i?[3,2]:(r.Z2=i,[4,r.Vpt(!1)]);case 1:e.sent(),e.label=2;case 2:return[4,r.$n(t)];case 3:return e.sent(),r.Wpt=n,[2]}}))}))()},i.iwt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:i=0,r=n.Sft,h.label=1;case 1:if(!(i<r.length))return[3,6];if(e=r[i],void 0===(u=e.jdt))return[3,5];s=0,o=u.Act.Jat,h.label=2;case 2:return s<o.length?(a=o[s],c=a.TG||[],!c.some((function(n){return n.aU&&Vc(Cc(t),$E(n.aU))}))||a.qdt?[3,4]:(a.qdt=!0,[4,e.Pdt(a,a.pat)])):[3,5];case 3:h.sent(),n._o(new hD(new um(ul.CONTENT_PROTECTION_OUTPUT_RESTRICTED,"Content unavailable due to DRM restrictions"))),h.label=4;case 4:return s++,[3,2];case 5:return i++,[3,1];case 6:return[2]}}))}))()},i.swt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:i=0,r=n.Sft,v.label=1;case 1:if(!(i<r.length))return[3,7];if(e=r[i],void 0===(u=e.jdt))return[3,6];s=0,o=u.Jat,v.label=2;case 2:return s<o.length?(a=o[s],c=a.TG,h=a.pat,void 0===c||0===c.length||void 0===h?[3,5]:(f=n.nwt(c,t.pb),h.trt===f?[3,5]:f?(e.Mdt(h),[3,5]):[3,3])):[3,6];case 3:return[4,e.Pdt(a,h)];case 4:v.sent(),v.label=5;case 5:return s++,[3,2];case 6:return i++,[3,1];case 7:return[2]}}))}))()},i.nwt=function(t,n){var i=!1,r=t.reduce((function(t,n){return!n.aU||To(t,n.aU)?t:Ut(t).concat([n.aU])}),[]);return n.Ob((function(e,u){"usable"===e&&((t.some((function(t){return t.aU&&Vc(Cc(u),$E(t.aU))}))||Uc(u,zc)&&1===r.length&&1===n.Nb)&&(i=!0))})),i},i.Yat=function(t){var n=function(n,i){var r=i[n],e=mo(t.Sft,(function(t){return t.m3===r.m3}));void 0!==e&&r.Yat(e)};if(void 0!==t){var i=t.Dpt;if(this.Dpt.rwt===i||this.Dpt.owt===i)for(var r=0,e=this.Sft;r<e.length;r++)n(r,e)}},xt(n,[{key:"IC",get:function(){return this.IO}},{key:"ct",get:function(){return this.WB.ct}},{key:"Rt",get:function(){return this.Sft.some((function(t){return t.Rt}))}},{key:"ht",get:function(){return this.cO}},{key:"wR",get:function(){if(0===this.Sft.length)return BA.pB();for(var t=this.Sft.map((function(t){return t.wR})),n=BA.gB(0,1/0),i=0;i<t.length;i++){var r=t[i];n=n.jn(r)}if(0===n.V)return n;if(this.Cct()){var e=n.jn(this.Pct);if(0===e.V)return n;for(var u=e.Tn(e.V-1),s=0,o=0,a=this.Sft;o<a.length;o++){var c=a[o];s=A.max(s,c.$gt)}u<=s&&(n=n.tB(new BA([u,s],[!0,!0])))}return n}},{key:"h9",get:function(){return this.WB.h9}},{key:"ER",get:function(){return this.WB.ER}},{key:"upt",get:function(){return this.Wpt}},{key:"Tn",get:function(){if(this.Upt){var t=this.ct;if(!E(t)&&t!==ar)return t}if(!this.Sft.length)return NaN;for(var n=0,i=0,r=this.Sft;i<r.length;i++){var e=r[i];n=A.max(n,e.Tn)}return n}},{key:"Upt",get:function(){var t=this.Dpt.vdt;if(t.Tw===rF.wW)return!1;var n=t.Gpt;return 0!==n.length&&this.Dpt===n[n.length-1]}},{key:"hI",get:function(){if(!this.Sft.length)return BA.pB();for(var t=new BA([0,1/0]),n=0,i=this.Sft;n<i.length;n++){var r=i[n];t=t.jn(r.hI)}if(t.V>0&&this.Upt&&isFinite(this.ct)){var e=this.ct,u=t.Tn(t.V-1);e>u&&(t=t.tB(BA.gB(u,e).YL()))}return t}},{key:"Cc",get:function(){return this.Dpt}},{key:"nt",get:function(){return this.Hl}},{key:"rt",get:function(){return this.dO}},{key:"ji",get:function(){return this.xu.ji}},{key:"Ti",get:function(){return this.xu.Ti}},{key:"XG",get:function(){var t=this.ER,n=this.wR,i=n.sB(t);if(-1!==i)return{Sn:n.Sn(i),Tn:n.Tn(i)}}},{key:"Pct",get:function(){var t=this.Dpt.Sn,n=this.Upt?1/0:this.Dpt.Tn;return BA.gB(t,n)}},{key:"Hpt",get:function(){return this.Zpt}},{key:"$pt",get:function(){return this.Kpt.map((function(t){return t.jdt})).filter(Yn)}},{key:"twt",get:function(){return this.Sft.map((function(t){return t.jdt})).filter(Yn)}}]),n}(aa);U(),St(),Gt(),Dt(),Jt(),U(),St(),rn(),U(),St(),Dt();var jV=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,ZV=function(){function t(t){this.uwt=t}var n=t.prototype;return n.cwt=function(){return this.uwt},n.lwt=function(){return 1e3*this.uwt},t.JD=function(n){var i=n.match(jV);if(!i)throw new y("The given value could not be parsed as a valid DateTimeInterval");return new t(31536e3*(Number(i[1])||0)+2592e3*(Number(i[2])||0)+86400*(Number(i[3])||0)+3600*(Number(i[4])||0)+60*(Number(i[5])||0)+(Number(i[6])||0))},xt(t,[{key:"Zft",get:function(){return pw.vV(this.uwt,1e3)}}]),t}();U(),St();var XV=function(t){return t.dwt="progressive",t.fwt="interlaced",t.iE="unknown",t}({});U(),St();var GV=function(){function t(t,n){this._wt=t,this.vwt=n}return t.prototype._F=function(){return this._wt/this.vwt},t}(),HV=/^(?:true|false)$/i,zV=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function YV(t){if(void 0!==t)return ZV.JD(t)}function KV(t){if(void 0!==t){var n=t.match(zV);if(!n)throw new y("The given value could not be parsed as a valid Date");var i=nn(n,12),r=i[1],e=i[2],u=i[3],s=i[4],o=i[5],a=i[6],c=i[7],h=i[8],f=i[9],v=i[10],l=i[11],d=("-"===r?-1:1)*Number(e),g=Number(u)-1,m=Number(s),w=Number(o),p=Number(a),_=Number(c),b=Number("0."+(h||"")),k=A.round(1e3*b);if(f)p-=("-"===f?-1:1)*(60*Number(v)+Number(l));var T=new Date(Date.UTC(d,g,m,w,p,_,k));if(E(T.getTime()))throw new y("The given value could not be parsed as a valid Date");return T}}function qV(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[QV(n[1]),QV(n[2])]}}function JV(t){if(void 0!==t){if(!E(Number(t)))try{return sr.fromString(t,!0)}catch(t){}throw new y("The given value could not be parsed as a valid unsigned long")}}function QV(t){if(void 0!==t){var n=Number(t);if(!E(n))return n;throw new y("The given value could not be parsed as a valid Number")}}function $V(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!E(i)&&!E(r))return new GV(i,r);throw new y("The given value could not be parsed as a valid frame rate")}}function tU(t){if(void 0!==t){if(HV.test(t))return"true"===t.toLowerCase();if(!E(T(t)))return Boolean(T(t));throw new y("The given value could not be parsed as a valid Boolean.")}}function nU(t){return{Xu:t.zx,mwt:tU(t.qx("availabilityTimeComplete")),gwt:QV(t.qx("availabilityTimeOffset"))}}function iU(t){return t.map(nU)}function rU(t){var n,i=lU(t),r=function(t,n,i,r){var e=t.Yx(i,n);return void 0===e&&(e=t.qx(r+":"+n)),e}(t,"default_KID","urn:mpeg:cenc:2013","cenc"),e=Rp(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==e&&(n=Xc(e.zx)),!n){var u=Rp(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==u&&(n=function(t){var n=Ea(t.zx),i=new I([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,u=new ArrayBuffer(e),s=new I(u),o=new DataView(u),a=new Pc;nc(o,a,e),nc(o,a,1886614376),nc(o,a,0),Ya(o,a,i),nc(o,a,r),Ya(o,a,n),!1;return s.buffer}(u))}return{aU:r,l9:n,c9:i.c9,Mx:i.Mx}}function eU(t){return{pwt:t.qx("sourceURL"),_ut:qV(t.qx("range"))}}function uU(t,n){var i=t.qx("d"),r=t.qx("t"),e=QV(t.qx("r"));n.push({ct:i,WO:r,wwt:e})}function sU(t){return{Qut:t.qx("index"),ywt:qV(t.qx("indexRange")),AN:t.qx("media"),bwt:qV(t.qx("mediaRange"))}}function oU(t){var n=cU(t),i=function(t){var n=t.map(sU);return n.length>0?n:void 0}(t.Wx("SegmentURL"));return ss({},n,{Awt:i,Swt:t.qx("xlink:href"),Twt:t.qx("xlink:actuate")})}function aU(t){var n=tU(t.qx("availabilityTimeComplete")),i=QV(t.qx("availabilityTimeOffset")),r=qV(t.qx("indexRange")),e=tU(t.qx("indexRangeExact")),u=t.Wx("Initialization");if(u.length>1)throw new y("The provided MPEG-DASH document's "+t.Ux+" element can not have more than one Initialization element.");var s=1===u.length?eU(u[0]):void 0,o=JV(t.qx("presentationTimeOffset")),a=t.Wx("RepresentationIndex");if(a.length>1)throw new y("The provided MPEG-DASH document's "+t.Ux+" element can not have more than one RepresentationIndex element.");return{mwt:n,gwt:i,ywt:r,kwt:e,Ewt:s,xwt:o,Rwt:1===a.length?eU(a[0]):void 0,Iwt:YV(t.qx("timeShiftBufferDepth")),mN:QV(t.qx("timescale"))}}function cU(t){var n=aU(t),i=t.Wx("BitstreamSwitching"),r=i.length>0?eU(i[0]):void 0,e=QV(t.qx("duration")),u=t.Wx("SegmentTimeline");if(u.length>1)throw new y("The provided MPEG-DASH document's "+t.Ux+" element can not have more than one SegmentTimeline element.");var s=1===u.length?function(t){for(var n=[],i=t.Wx("S"),r=0;r<i.length;r++)uU(i[r],n);return n}(u[0]):void 0;return ss({},n,{Cwt:r,ct:e,Zot:s,Pwt:QV(t.qx("startNumber")),Dwt:QV(t.qx("endNumber"))})}function hU(t){return{Nwt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(QV)):1===n.length?n.map(QV)[0]:void 0}}(t.qx("audioSamplingRate")),Jrt:t.qx("codecs"),Mwt:tU(t.qx("codingDependency")),TG:function(t){if(0!==t.length)return t.map(rU)}(t.Wx("ContentProtection")),Lwt:function(t){return t.map(dU)}(t.Wx("EssentialProperty")),Bwt:function(t){return t.map(gU)}(t.Wx("SupplementalProperty")),oft:$V(t.qx("frameRate")),Ti:QV(t.qx("height")),Owt:QV(t.qx("maxPlayoutRate")),Fwt:QV(t.qx("maximumSAPPeriod")),jq:t.qx("mimeType"),Vwt:t.qx("profiles"),Wwt:t.qx("sar"),Uwt:function(t){switch(t){case XV.dwt:case XV.fwt:case XV.iE:return t;default:return}}(t.qx("scanType")),Gwt:t.qx("segmentProfiles"),Hwt:QV(t.qx("startWithSAP")),ji:QV(t.qx("width"))}}function fU(t){var n=iU(t.Wx("BaseURL")),i=t.Wx("SegmentBase");if(i.length>1)throw new y("The provided MPEG-DASH document's "+t.Cx+" element can not have more than one SegmentBase element.");var r=1===i.length?aU(i[0]):void 0,e=function(t){var n=t.map(oU);return n.length>0?n:void 0}(t.Wx("SegmentList")),u=t.Wx("SegmentTemplate");if(u.length>1)throw new y("The provided MPEG-DASH document's "+t.Cx+" element can not have more than one SegmentTemplate element.");var s=1===u.length?function(t){return ss({},cU(t),{Zwt:t.qx("bitstreamSwitching"),Xwt:t.qx("index"),zwt:t.qx("initialization"),qwt:t.qx("media")})}(u[0]):void 0;return{Ywt:n,Kwt:r,Qwt:e,Jwt:s}}function vU(t){var n=hU(t),i=fU(t),r=QV(t.qx("bandwidth")),e=t.qx("dependencyId"),u=t.qx("id"),s=t.qx("mediaStreamStructureId"),o=QV(t.qx("qualityRanking"));if(t.Wx("SegmentBase").length>1)throw new y("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");return ss({},n,i,{bG:r,$wt:e,o:u,tyt:s,eyt:o})}function lU(t){return{c9:t.qx("schemeIdUri"),Mx:t.qx("value")}}function dU(t){return lU(t)}function gU(t){return lU(t)}function mU(t){return lU(t)}function wU(t){return lU(t)}function pU(t){var n,i=hU(t),r=fU(t),e=function(t){return t.map(wU)}(t.Wx("Accessibility")),u=tU(t.qx("bitstreamSwitching")),s=t.qx("contentType"),o=QV(t.qx("group")),a=QV(t.qx("id")),c=(null==(n=t.Wx("Label")[0])?void 0:n.zx)||"",h=t.qx("lang"),f=QV(t.qx("maxBandwidth")),v=$V(t.qx("maxFrameRate")),l=QV(t.qx("maxHeight")),d=QV(t.qx("maxWidth")),g=QV(t.qx("minBandwidth")),m=$V(t.qx("minFrameRate")),w=QV(t.qx("minHeight")),p=QV(t.qx("minWidth")),_=t.qx("par"),b=function(t){return t.map(vU)}(t.Wx("Representation"));if(0===b.length)throw new y("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k,A=function(t){return t.map(mU)}(t.Wx("Role")),T=tU(t.qx("segmentAlignment"))||!1,S=QV(t.qx("selectionPriority")),E=S||1,I=tU(t.qx("subsegmentAlignment"))||!1;try{k=QV(t.qx("subsegmentStartsWithSAP"))}catch(t){}return ss({},i,r,{Rdt:e,Cwt:u,Mk:s,Odt:o,o:a,Ch:c,gs:h,iyt:f,syt:v,nyt:l,ryt:d,oyt:g,hyt:m,ayt:w,uyt:p,cyt:_,Jat:b,vft:A,lyt:T,UH:E,dyt:I,fyt:k,_yt:t.qx("xlink:actuate")||"onRequest",vyt:t.qx("xlink:href")})}function yU(t){var n=JV(t.qx("presentationTime"))||sr.ZERO,i=JV(t.qx("duration")),r=QV(t.qx("id")),e=function(t){for(var n=t.Xx,i={},r=0;r<n.length;r++)i[n[r].l]=n[r].Mx;return i}(t),u=t.zx;return{gL:n,ct:i,o:r,Xx:e,Kk:""!==u.trim()?u:t.qx("messageData")||""}}function _U(t){return{vyt:t.qx("xlink:href"),_yt:t.qx("xlink:actuate"),c9:t.qx("schemeIdUri"),Mx:t.qx("value"),mN:QV(t.qx("timescale")),xwt:JV(t.qx("presentationTimeOffset")),Qq:t.Wx("Event").map(yU)}}function bU(t){var n=fU(t),i=t.Wx("AssetIdentifier");if(i.length>1)throw new y("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?function(t){return lU(t)}(i[0]):void 0,e=function(t){return t.map(pU)}(t.Wx("AdaptationSet")),u=tU(t.qx("bitstreamSwitching")),s=YV(t.qx("duration")),o=function(t){return t.map(_U)}(t.Wx("EventStream")),a=t.qx("id"),c=YV(t.qx("start")),h=(t.Wx("Subset"),t.qx("xlink:href"));return ss({},n,{gft:e,myt:r,Cwt:u,ct:s,gyt:o,o:a,Sn:c,_yt:t.qx("xlink:actuate"),vyt:h})}function kU(t){var n=t.qx("schemeIdUri");if(n)return{c9:n,Mx:t.qx("value")}}function AU(t,n){var i=KV(t.qx("availabilityEndTime")),r=KV(t.qx("availabilityStartTime")),e=iU(t.Wx("BaseURL")),u=t.qx("id"),s=function(t){return t.map((function(t){return""+t.zx}))}(t.Wx("Location")),o=YV(t.qx("maxSegmentDuration")),a=YV(t.qx("maxSubsegmentDuration")),c=YV(t.qx("mediaPresentationDuration")),h=(t.Wx("Metrics"),YV(t.qx("minBufferTime")));if(!h)throw new y("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=YV(t.qx("minimumUpdatePeriod")),v=function(t){return t.map((function(t){return bU(t)}))}(t.Wx("Period"));if(!v.length)throw new y("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.qx("profiles");if(!l)throw new y("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");var d=KV(t.qx("publishTime")),g=YV(t.qx("suggestedPresentationDelay")),m=YV(t.qx("timeShiftBufferDepth")),w=function(t){switch(t){case rF.pW:case rF.wW:return t;default:return}}(t.qx("type")),p=function(t){for(var n=[],i=0;i<t.length;i++){var r=kU(t[i]);r&&n.push(r)}return n}(t.Wx("UTCTiming")),_=function(t){if(0===t.length)return;var n=t[0],i=n.Wx("Latency");if(0===i.length)return;var r=function(t){var n=t[0],i=QV(n.qx("target"));if(void 0===i)return;var r=QV(n.qx("min")),e=QV(n.qx("max"));return{pyt:i,cV:r,uV:e}}(i);if(void 0===r)return;var e=function(t){if(0===t.length)return;var n=t[0],i=QV(n.qx("max")),r=QV(n.qx("min"));return{cV:r,uV:i}}(n.Wx("PlaybackRate"));return{wyt:r,QR:e}}(t.Wx("ServiceDescription"));return{yyt:i,byt:r,Ywt:e,o:u,Ayt:s,Syt:n,Tyt:o,kyt:a,Eyt:c,xyt:h,Ryt:f,Gpt:v,Vwt:l,Iyt:d,Cyt:g,Iwt:m,Tw:w,Pyt:p,Dyt:_}}var TU=function(){function t(){}return t.prototype.Nyt=function(t,n){return function(t,n){if(!t)throw new y("The provided MPEG-DASH document does not contain a valid MPD root element.");return AU(t,n)}(qn.Ix(t).$x,n)},t}();function SU(t){return{get bandwidth(){return t.bG},get codecs(){return t.Jrt},get id(){return t.o},get uid(){return t.IC},get name(){return t.Ch},get averageBandwidth(){return t.Myt},get label(){return t.Ch},set label(n){t.Ch=Gg(n)},get available(){return t.trt},get score(){return t.Lyt},addEventListener:function(n,i){t.bn(n,i)},removeEventListener:function(n,i){t.vn(n,i)}}}function EU(t){return Mg(SU(t),{get height(){return t.Ti},get width(){return t.ji},get frameRate(){return t.oft},get firstFrame(){return t.Byt}})}function IU(t){return Mg(SU(t),{get audioSamplingRate(){return t.Nwt}})}U(),St(),Dt(),U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),U(),St(),Ct();var RU=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return Rt(n,t),n}(fa),CU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).o=n,s.bG=i,s.Jrt=r,s.Fyt=u,s.IC=Am(),s.CO=e||"",s.Oyt=!0,s}Rt(n,t);var i=n.prototype;return i.aW=function(){this.Oyt=!1,this._o(new RU(this.wa))},i.hW=function(){this.Oyt=!0,this._o(new RU(this.wa))},xt(n,[{key:"Ch",get:function(){return this.CO},set:function(t){this.CO!==t&&(this.CO=t,this._o(new RU(this.wa)))}},{key:"Myt",get:function(){}},{key:"trt",get:function(){return this.Oyt}},{key:"Lyt",get:function(){}}]),n}(aa),NU=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,r,e,u)||this).oft=s,h.ji=o,h.Ti=a,h.Byt=c,h.eu=void 0,h}return Rt(n,t),xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=EU(this)),this.eu}}]),n}(CU),xU=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).Nwt=s,o.eu=void 0,o}return Rt(n,t),xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=IU(this)),this.eu}}]),n}(CU);U(),St(),U(),St(),Dt(),Ct();var DU=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Gyt=function(t){n._o(t)},n}return Rt(n,t),xt(n,[{key:"Vyt",get:function(){var t=this.Wyt();return null==t?void 0:t.Sn}},{key:"Uyt",get:function(){var t=this.Wyt();return null==t?void 0:t.Tn}}]),n}(aa),PU=function(t){function n(n,i){var r;if((r=t.call(this)||this).eu=void 0,r.Xyt=void 0,r.Kyt=!1,r.jyt=!1,r.Hat=n,r.Hyt=i,r.Hyt.bn(RO.fat,r.Gyt),r.Tw===rm.mE){var e,u,s=null!=(u=null==(e=r.oft)?void 0:e._F())?u:NaN;r.qyt=new NU(r.o,r.bG,r.gp,"","",s,r.ji,r.Ti)}else r.Tw===rm.vE?r.qyt=new xU(r.o,r.bG,r.gp,"","",r.Nwt):r.qyt=void 0;return r}Rt(n,t);var i=n.prototype;return i.Alt=function(t){var n=GO(t)?this.Hyt.Qyt(t):this.Hyt.Alt(t);return{Xu:n.Xu,_ut:n._ut,xE:this.vdt.xE}},i.Jyt=function(){return this.Hyt.Jyt()},i.Wyt=function(){return this.Hyt.Wyt()},i.$yt=function(){return this.Hyt.$yt()},i.dlt=function(t){return this.Hyt.dlt(t)},i._lt=function(t,n,i){return this.Hyt._lt(t,this.vdt.xE,n,i)},i.sdt=function(t){return GO(t)?this.Zot.tbt(t,this.Hyt):this.Zot.sdt(t)},i.nlt=function(t){return GO(t)?this.Zot.ebt(t,this.Hyt):this.Zot.nlt(t)},i.yn=function(){this.Hyt.vn(RO.fat,this.Gyt)},xt(n,[{key:"Act",get:function(){return this.Hat}},{key:"Nwt",get:function(){var t;return null!=(t=this.Hyt.Kk.Nwt)?t:this.Act.Nwt}},{key:"bG",get:function(){return this.Hyt.Kk.bG||0}},{key:"Jrt",get:function(){var t=this.Hyt.Kk;return t.Jrt?[t.Jrt]:this.Act.Jrt}},{key:"Zyt",get:function(){var t=this.Hyt.Kk;return t.Jrt?[t.Jrt]:[]}},{key:"gp",get:function(){return this.Hyt.Kk.Jrt||this.Act.gp}},{key:"Mwt",get:function(){return this.Hyt.Kk.Mwt||this.Act.Mwt}},{key:"TG",get:function(){return this.Hyt.Kk.TG||this.Act.TG}},{key:"Mk",get:function(){return this.jq+'; codecs="'+this.gp+'"'}},{key:"Lwt",get:function(){var t=this.Hyt.Kk;return t.Lwt.length?t.Lwt:this.Act.Lwt}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{get id(){return t.o},get type(){return t.Tw},get bandwidth(){return t.bG},get width(){return t.ji},get height(){return t.Ti},get frameRate(){var n,i;return null!=(i=null==(n=t.oft)?void 0:n._F())?i:NaN},get audioSamplingRate(){return t.Nwt}}}(this))}},{key:"oft",get:function(){var t;return null!=(t=this.Hyt.Kk.oft)?t:this.Act.oft}},{key:"Ti",get:function(){return this.Hyt.Kk.Ti||this.Act.Ti}},{key:"o",get:function(){return this.Hyt.Kk.o||""}},{key:"wdt",get:function(){return this.Xyt},set:function(t){this.Xyt=t}},{key:"pdt",get:function(){var t=this.Hyt.zyt();if(t)return{Xu:t.Xu,_ut:t._ut,xE:this.vdt.xE}}},{key:"Owt",get:function(){return this.Hyt.Kk.Owt||this.Act.Owt||1}},{key:"Fwt",get:function(){return this.Hyt.Kk.Fwt||this.Act.Fwt}},{key:"vdt",get:function(){return this.rlt.vdt}},{key:"jq",get:function(){return this.Hyt.Kk.jq||this.Act.jq}},{key:"rlt",get:function(){return this.Act.rlt}},{key:"Vwt",get:function(){return this.Hyt.Kk.Vwt||this.Act.Vwt}},{key:"pat",get:function(){return this.qyt}},{key:"Wwt",get:function(){return this.Hyt.Kk.Wwt||this.Act.Wwt}},{key:"Uwt",get:function(){return this.Hyt.Kk.Uwt||this.Act.Uwt}},{key:"Yyt",get:function(){return this.Hyt.Yyt}},{key:"Gwt",get:function(){return this.Hyt.Kk.Gwt||this.Act.Gwt}},{key:"Zot",get:function(){return this.Hyt.Zot}},{key:"Hwt",get:function(){return this.Hyt.Kk.Hwt||this.Act.Hwt}},{key:"Tw",get:function(){var t=this.jq.split("/")[0];return"application"===t||"text"===t||hy(this.jq,this.Jrt)?rm.Tk:"video"===t?rm.mE:"audio"===t?rm.vE:"image"===t?rm.gE:rm.iE}},{key:"ji",get:function(){return this.Hyt.Kk.ji||this.Act.ji}},{key:"clt",get:function(){return this.Kyt},set:function(t){this.Kyt=t}},{key:"qdt",get:function(){return this.jyt},set:function(t){this.jyt=t}}]),n}(DU),MU=function(t){function n(n,i){var r;return(r=t.call(this)||this).Gdt=[],r.Dpt=n,r.Hyt=i,r.Hyt.bn(RO.fat,r.Gyt),r}Rt(n,t);var i=n.prototype;return i.ir=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return 0!==i.Gdt.length?[3,2]:(r=i.Hyt.Jat.map((function(r){return i.sbt(r,t,n)})),[4,ut.all(r)]);case 1:i.Gdt=e.sent().filter(Yn),e.label=2;case 2:return i.nbt(),[2]}}))}))()},i.sbt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return e=new PU(r,t),[4,n(e)];case 1:return u=s.sent(),Zo(i),u?[2,e]:[2,void 0]}}))}))()},i.nbt=function(){if(!this.Gdt.length)throw new y("Detected an AdaptationSet without any supported Representations.")},i.Wyt=function(){return this.Hyt.Wyt()},i.$yt=function(){return this.Hyt.$yt()},i.yn=function(){this.Hyt.vn(RO.fat,this.Gyt);for(var t=0,n=this.Gdt;t<n.length;t++){n[t].yn()}Eo(this.Gdt)},xt(n,[{key:"Rdt",get:function(){return this.Hyt.Kk.Rdt}},{key:"Nwt",get:function(){var t;return null!=(t=this.Hyt.Kk.Nwt)?t:-1}},{key:"Jrt",get:function(){if(this.Hyt.Kk.Jrt)return[this.Hyt.Kk.Jrt];for(var t=[],n=0,i=this.Jat;n<i.length;n++){var r=i[n];r.Zyt.length&&-1===t.indexOf(r.gp)&&t.push(r.gp)}return t}},{key:"gp",get:function(){return this.Jrt.join()}},{key:"Mwt",get:function(){return this.Hyt.Kk.Mwt}},{key:"TG",get:function(){return this.Hyt.Kk.TG}},{key:"Mk",get:function(){return this.jq+'; codecs="'+this.gp+'"'}},{key:"Lwt",get:function(){return this.Hyt.Lwt}},{key:"Bwt",get:function(){return this.Hyt.Bwt}},{key:"oft",get:function(){return this.Hyt.Kk.oft}},{key:"Odt",get:function(){return this.Hyt.Kk.Odt}},{key:"Ti",get:function(){return this.Hyt.Kk.Ti||0}},{key:"o",get:function(){return this.Hyt.Kk.o}},{key:"Ch",get:function(){return this.Hyt.Kk.Ch||""}},{key:"Owt",get:function(){return this.Hyt.Kk.Owt}},{key:"Fwt",get:function(){return this.Hyt.Kk.Fwt}},{key:"vdt",get:function(){return this.rlt.vdt}},{key:"jq",get:function(){return this.Hyt.Kk.jq||this.Gdt[0].jq}},{key:"rlt",get:function(){return this.Dpt}},{key:"Vwt",get:function(){return this.Hyt.Kk.Vwt}},{key:"Jat",get:function(){return this.Gdt}},{key:"vft",get:function(){return this.Hyt.Kk.vft||[]}},{key:"Wwt",get:function(){return this.Hyt.Kk.Wwt}},{key:"Uwt",get:function(){return this.Hyt.Kk.Uwt}},{key:"Gwt",get:function(){return this.Hyt.Kk.Gwt}},{key:"UH",get:function(){return this.Hyt.Kk.UH}},{key:"Hwt",get:function(){return this.Hyt.Kk.Hwt}},{key:"Tw",get:function(){var t=(this.Hyt.Kk.Mk||this.jq).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||hy(this.jq,this.Jrt)?rm.Tk:"video"===t?rm.mE:"audio"===t?rm.vE:"image"===t?rm.gE:rm.iE}},{key:"ji",get:function(){return this.Hyt.Kk.ji||0}},{key:"Qtt",get:function(){return this.Hyt.Kk.gs||""}},{key:"uft",get:function(){return this.Vyt}},{key:"aft",get:function(){var t=this.uft,n=this.Uyt;if(void 0!==t&&void 0!==n){var i=A.min(n,this.vdt.ibt);return A.max(t,i)}}}]),n}(DU);function BU(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],u=0;u<t.length;u++){var s=t[u];i.push(qn.Ih(s,e))}return i}U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Ct(),U(),St(),Dt();var OU=function(){function t(t,n){this.Dpt=t,this.Sbt=n,this.NA=n.mN,this.bbt=n.gwt,this.Ibt=n.xwt}var n=t.prototype;return n.rbt=function(t){var n=t-this.Dpt.Sn;if(!(n<0||n>=this.Dpt.ct)){var i=this.obt();return void 0!==i&&fr(i,n,1e-5)?this.hbt():this.abt(n)}},n.llt=function(t){var n=t-this.Dpt.Sn;if(!(n<0))return this.ubt(A.min(n,this.Dpt.ct))},n.hbt=function(){return this.cbt(0)},n.lbt=function(){var t=this.Dpt.ct;if(isFinite(t))return this.ubt(t)},n.Jyt=function(t){if(this.Dpt._bt.Tw===rF.wW){if(this.dbt){var n=this.hbt(),i=this.vbt();if(void 0===n||void 0===i)return;return{mbt:t,gbt:n,pbt:i}}var r=this.wbt(t);if(!r)return;return{mbt:t,gbt:this.ybt(t),pbt:r}}var e=this.hbt();if(e)return{mbt:t,gbt:e,pbt:this.lbt()}},n.$yt=function(t,n){if(n){var i=this.mdt(n.gbt),r=this.wlt(n.pbt);if(r){var e=this.gdt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var u=this.hbt();if(u){var s=this.gdt(u);if(t.getTime()<s.getTime())return s}var o=this.Dpt._bt.byt;return t.getTime()<o.getTime()?o:void 0},n.wbt=function(t){var n=(t.getTime()-this.Dpt._bt.byt.getTime())/1e3-this.Dpt.Sn+this.bbt,i=this.ubt(hr(n,0,this.Dpt.ct));if(i&&(i=this.Abt(i,t))){for(var r=this.wlt(i);r&&this.kdt(r,t);)i=r,r=this.wlt(i);return i}},n.ybt=function(t){var n,i=this.Sbt.Iwt;if(i){var r=(t.getTime()-this.Dpt._bt.byt.getTime())/1e3-this.Dpt.Sn-i.cwt();(n=this.ubt(hr(r,0,this.Dpt.ct)))||(n=this.hbt())}else n=this.hbt();if(n&&(n=this.Abt(n,t))){for(var e=this.plt(n);e&&this.kdt(e,t);)n=e,e=this.plt(n);return n}},n.Abt=function(t,n){for(var i=t;i&&this.gdt(i).getTime()>n.getTime();)i=this.plt(i);if(i){var r=this.mdt(i);if(r&&r.getTime()<=n.getTime()){var e=this.plt(i);for(e&&this.kdt(e,n)&&(i=e);i;){if(this.gdt(i).getTime()>n.getTime())return;if(this.kdt(i,n))break;i=this.wlt(i)}if(!i)return}return i}},n.kdt=function(t,n){if(this.dbt)return!0;if(this.gdt(t).getTime()>n.getTime())return!1;var i=this.mdt(t);return!(i&&n.getTime()>=i.getTime())},n.Tbt=function(t,n){if(this.dbt)return!0;if(this.kbt(t).getTime()>n.getTime())return!1;var i=this.mdt(t);return!(i&&n.getTime()>=i.getTime())},n.Ebt=function(t,n,i){var r=Tr(n,this.NA)+this.Dpt.Sn;return{Qut:t,xbt:n,WO:r,ct:i,UO:r+i}},n.kbt=function(t){return this.Dpt._bt.Tw===rF.wW?new Date(this.Dpt._bt.byt.getTime()+1e3*(t.WO+t.ct)):this.Dpt._bt.byt},n.gdt=function(t){var n=this.kbt(t);return this.Dpt._bt.Tw===rF.wW?new Date(n.getTime()-1e3*this.bbt):n},n.mdt=function(t){var n=1/0;if(this.Dpt._bt.Tw===rF.wW){var i=this.Sbt.Iwt;i&&(n=this.kbt(t).getTime()+1e3*t.ct+i.lwt())}var r=this.Dpt._bt.yyt;return r&&(n=A.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.Rbt=function(t,n){return t.Qut+n},n.dlt=function(t){return!1},n._lt=function(t,n,i,r,e){var u=this.Cbt(t);if(!u)return ut.reject(new y("Invalid segment"));var s=this.Pbt(u.Qut,n);return s?ut.resolve(s):Ho(this.Dbt(u.Qut,n,i,r),e)},n.Pbt=function(t,n){},n.Dbt=function(t,n,i,r){return ut.reject(new y("Not supported"))},n.plt=function(t){var n=this.Cbt(t);if(n)return this.cbt(n.Qut-1)},n.wlt=function(t){var n=this.Cbt(t);if(n)return this.cbt(n.Qut+1)},n.Cbt=function(t){var n=this.cbt(t.Qut);if(n&&n.WO===t.WO)return n;var i=this.rbt(t.WO);return i&&i.WO===t.WO?i:void 0},n.Nbt=function(t,n){var i=this.vlt(t);if(i&&this.dlt(i.Qut)){var r=this.Pbt(i.Qut,n);if(r)return r.Nbt(t)}},n.vlt=function(t){return this.cbt(t.Mbt)},n.sdt=function(t){var n=this.Cbt(t);return!!n&&0===n.Qut},n.tbt=function(t,n){var i=this.Nbt(t,n);return!!i&&0===i.jut},n.nlt=function(t){var n=this.Cbt(t);if(!n)return!1;var i=this.lbt();return!!i&&n.Qut===i.Qut},n.ebt=function(t,n){var i=this.Nbt(t,n);if(!i)return!1;var r=this.lbt();if(!r||i.Mbt!==r.Qut)return!1;var e=this.Pbt(i.Mbt,n);return i.jut+1===e.V},n.Xw=function(){},xt(t,[{key:"dbt",get:function(){return this.Dpt._bt.fbt&&void 0!==this.vbt()}},{key:"BV",get:function(){return this.Dpt.Sn-Tr(this.Ibt,this.NA)}},{key:"xwt",get:function(){return Tr(this.Ibt,this.NA)}}]),t}(),LU=function(t){function n(n,i){var r;r=t.call(this,i,n)||this;var e=n.Wbt,u=n.ct;if(void 0===e||void 0===u)throw new y("MultipleSegmentBase does not have a segment duration specified.");return r.Lbt=e,r.Obt=u,r}Rt(n,t);var i=n.prototype;return i.cbt=function(t){if(!(t<0)){var n=this.Lbt.multiply(t),i=Tr(n,this.NA),r=this.Dpt.ct;if(!(i>=r)){var e=this.Bbt();if(void 0!==e){if(t>e)return;if(t===e&&isFinite(r))return this.Ebt(t,n,r-i)}return isFinite(r)&&i+this.Obt>r?this.Ebt(t,n,r-i):this.Ebt(t,n,this.Obt)}}},i.obt=function(){return 0},i.abt=function(t){var n=A.floor(t/this.Obt),i=this.Bbt();return void 0!==i&&n>=i?this.cbt(i):this.cbt(n)},i.ubt=function(t){if(t>=this.Dpt.ct){var n=A.ceil(this.Dpt.ct/this.Obt)-1,i=this.Bbt();return void 0!==i&&n>=i?this.cbt(i):this.cbt(n)}return this.abt(t)},i.Bbt=function(){var t,n=this.Sbt.Dwt;if(void 0!==n)return n-(null!=(t=this.Sbt.Pwt)?t:1);var i=this.Sbt.Fbt;return void 0!==i&&i>0?i-1:void 0},i.vbt=function(){if(isFinite(this.Dpt.ct))return this.lbt()},i.Vbt=function(t,n){return this.Lbt.multiply(t.Qut+(n-1))},i.ir=function(){},n}(OU);function FU(t,n,i){var r=n.length;if(0===r)return-1;for(var e=0,u=r-1,s=t.Ubt(n[e]),o=t.Gbt(n[u]);e<=u&&t.Hbt(s,i)<=0&&t.Hbt(i,o)<0;){var a=e+A.floor(t.Zbt(i,s,o)*(u-e)),c=n[a],h=t.Ubt(c),f=a+1<r?t.Ubt(n[a+1]):t.Gbt(c);if(t.Hbt(f,i)<=0)e=a+1,s=f;else{if(!(t.Hbt(i,h)<0))return a;u=a-1,o=h}}return-1}function VU(t,n){return FU(UU.Vg,t,n)}U(),St(),Ct(),U(),St(),Dt(),U(),St();var UU=function(){function t(){}var n=t.prototype;return n.Ubt=function(t){return t.WO},n.Gbt=function(t){return t.UO},n.Hbt=function(t,n){return t.compare(n)},n.Zbt=function(t,n,i){return t.subtract(n).toNumber()/i.subtract(n).toNumber()},xt(t,null,[{key:"Vg",get:function(){return null!=this.Qrt||(this.Qrt=new t),this.Qrt}}]),t}(),WU=.01,jU=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).Xbt=[],r.qbt=void 0,r.Cgt=sr.ZERO,r.ir(),r}Rt(n,t);var i=n.prototype;return i.cbt=function(t){if(!(t<0))return t<this.Xbt.length?this.Xbt[t].Zut:this.zbt(t-this.Xbt.length)},i.obt=function(){if(this.Xbt.length>0)return Tr(this.Xbt[0].WO,this.NA)},i.abt=function(t){if(this.qbt&&Tr(this.qbt.WO,this.NA)<=t){var n=Tr(this.qbt.WO,this.NA),i=Tr(this.qbt.ct,this.NA),r=A.floor((t-n)/i);return this.zbt(r)}if(this.Xbt.length>0&&fr(t,Tr(this.Xbt[0].WO,this.NA),1e-5))return this.Xbt[0].Zut;var e=VU(this.Xbt,sr.fromNumber(t*this.NA));return e<0?void 0:this.Xbt[e].Zut},i.ubt=function(t){if(!this.qbt&&this.Xbt.length>0){var n=this.Xbt[this.Xbt.length-1];if(function(t,n,i){return vo(t,n,i)>=0}(t,Tr(n.UO,this.NA),1e-5))return n.Zut}var i=this.obt();return i&&t<i?this.Xbt[0].Zut:this.abt(t)},i.vbt=function(){return isFinite(this.Dpt.ct)?this.lbt():this.cbt(this.Xbt.length-1)},i.Vbt=function(t){return this.Ybt(t)},i.zbt=function(t){if(this.qbt){var n=this.qbt.WO,i=this.qbt.ct,r=n.add(i.multiply(t)),e=Tr(r,this.NA),u=this.Dpt.ct;if(!(e>=u)){var s=this.Xbt.length+t,o=A.min(Tr(i,this.NA),e+u);return this.Ebt(s,r,o)}}},i.Ybt=function(t){return t.xbt.add(this.Ibt)},i.ir=function(){var t=this.Sbt.Kk.Zot;if(!t)throw new y("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.Kbt(t)},i.Kbt=function(t){var n=this.Ibt;this.jbt(t,n);var i=this.Qbt(t);this.Jbt(t,n,i.$bt,i.Mbt)},i.jbt=function(t,n){var i=this.Xbt;if(0===t.length)Eo(i);else{for(var r=t[0],e=0,u=Tr(r.WO?sr.fromString(r.WO,!1).subtract(n):sr.ZERO,this.NA);e<i.length&&Tr(i[e].WO,this.NA)<u-WU;)e++;e>0&&i.splice(0,e)}},i.Qbt=function(t){for(var n=this.Xbt,i=this.Cgt,r=0,e=0;r<t.length&&e<n.length;){var u=t[r].wwt||0;if(u<0)break;var s=e+u;if(s>=n.length)break;if(n[s].WO.greaterThanOrEqual(i))break;if(n[e].Zut.Qut===e)e=s+1;else for(;e<=s;)n[e].Zut.Qut=e,e++;0,r++}return{$bt:r,Mbt:e}},i.Jbt=function(t,n,i,r){for(var e,u=this.Xbt,s=i,o=r;s<t.length;){var a=t[s],c=sr.fromString(a.ct,!1),h=a.wwt||0,f=void 0;if(a.WO){if(f=sr.fromString(a.WO,!1).subtract(n),o>0){var v=u[o-1];v.UO.greaterThan(f)&&(v.ct=f.subtract(v.WO),v.UO=v.WO.add(v.ct))}}else f=o>0?u[o-1].UO:sr.ZERO;if(h<0){if(s+1===t.length){e={WO:f,ct:c};break}for(var l=sr.fromString(t[s+1].WO,!1).subtract(n);f.lessThan(l);){var d=f.add(c);this.tAt(u,o,f,c,d),f=d,o++}}else for(var g=o+h;o<=g;){var m=f.add(c);this.tAt(u,o,f,c,m),f=m,o++}s++}o<u.length&&u.splice(o),u.length>0&&(this.Cgt=u[u.length-1].WO),this.qbt=e},i.tAt=function(t,n,i,r,e){if(n<t.length){var u=t[n];u.ct.equals(r)?u.Zut.Qut=n:t[n]={WO:i,ct:r,UO:e,Zut:this.Ebt(n,i,Tr(r,this.NA))}}else t.push({WO:i,ct:r,UO:e,Zut:this.Ebt(n,i,Tr(r,this.NA))})},n}(OU);U(),St(),Dt();var ZU=function(){function t(t,n,i){this.iAt=void 0,this.nAt=void 0,this.rlt=t,this.eAt=n,this.kp=i}var n=t.prototype;return n.sAt=function(){if(this.nAt=this.rAt(),this.nAt)return this.nAt;if(this.eAt)return this.eAt.Zot;throw new y("Missing media segment information.")},n.zyt=function(t){var n=this.Ewt;if(n)return{Xu:(void 0!==n.pwt?qn.Ih(n.pwt,t.Ywt[0]):t.Ywt[0]).href,_ut:n._ut};var i=this.ywt;return i?{Xu:t.Ywt[0].href,_ut:[0,i[0]-1]}:void 0},n.ir=function(t){this.kp=t,this.nAt&&this.nAt.ir()},n.Xw=function(){this.nAt&&(this.nAt.Xw(),this.nAt=void 0)},xt(t,[{key:"Kk",get:function(){return this.kp}},{key:"gwt",get:function(){return this.kp&&void 0!==this.kp.gwt?this.kp.gwt:this.eAt?this.eAt.gwt:0}},{key:"xwt",get:function(){return this.kp&&void 0!==this.kp.xwt?this.kp.xwt:this.eAt?this.eAt.xwt:sr.ZERO}},{key:"Iwt",get:function(){return this.kp&&void 0!==this.kp.Iwt?this.kp.Iwt:this.eAt?this.eAt.Iwt:this.rlt._bt.Iwt}},{key:"mN",get:function(){return this.kp&&void 0!==this.kp.mN?this.kp.mN:this.eAt&&this.eAt.mN?this.eAt.mN:1}},{key:"ywt",get:function(){return this.kp&&void 0!==this.kp.ywt?this.kp.ywt:this.eAt?this.eAt.ywt:void 0}},{key:"Ewt",get:function(){return this.kp&&void 0!==this.kp.Ewt?this.kp.Ewt:this.eAt?this.eAt.Ewt:void 0}},{key:"Zot",get:function(){return this.iAt||(this.iAt=this.sAt()),this.iAt}}]),t}(),XU=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.rAt=function(){return void 0!==this.kp.Zot?new jU(this,this.rlt):void 0!==this.kp.ct?new LU(this,this.rlt):void 0},xt(n,[{key:"ct",get:function(){return void 0!==this.kp.ct?this.kp.ct/this.mN:this.eAt&&GU(this.eAt)?this.eAt.ct:void 0}},{key:"Wbt",get:function(){return void 0!==this.kp.ct?sr.fromNumber(this.kp.ct):this.eAt&&GU(this.eAt)?this.eAt.Wbt:void 0}},{key:"Pwt",get:function(){return void 0!==this.kp.Pwt?this.kp.Pwt:this.eAt&&GU(this.eAt)?this.eAt.Pwt:void 0}},{key:"Dwt",get:function(){return void 0!==this.kp.Dwt?this.kp.Dwt:this.eAt&&GU(this.eAt)?this.eAt.Dwt:void 0}}]),n}(ZU);function GU(t){return t instanceof XU}U(),St();var HU=function(){function t(t){this.oAt=t}return t.prototype.Vb=function(t){return this.oAt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,(function(n,i,r,e){if("$$"===n)return"$";var u=t[i];if(void 0===u)return n;if(void 0===r)return u.toString();var s=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(u,e);return void 0===s?n:s=Ys(s,Number(r),"0")}))},t}();var zU=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).hAt=r.zwt?new HU(r.zwt):void 0,e.aAt=r.qwt?new HU(r.qwt):void 0,e}Rt(n,t);var i=n.prototype;return i.zyt=function(n){var i=this.zwt;if(!i)return t.prototype.zyt.call(this,n);var r=i.Vb({Bandwidth:n.Kk.bG,RepresentationID:n.Kk.o});return{Xu:qn.ew(r,n.Ywt[0])}},i.Alt=function(t,n){var i,r=null!=(i=n.Yyt.Pwt)?i:1,e=this.qwt.Vb({Bandwidth:n.Kk.bG,Number:n.Zot.Rbt(t,r),RepresentationID:n.Kk.o,Time:n.Zot.Vbt(t,r)});return{Xu:qn.ew(e,n.Ywt[0])}},i.Qyt=function(t,n){},xt(n,[{key:"zwt",get:function(){return this.hAt?this.hAt:this.eAt&&this.eAt instanceof n?this.eAt.zwt:void 0}},{key:"qwt",get:function(){return this.aAt?this.aAt:this.eAt&&this.eAt instanceof n?this.eAt.qwt:void 0}},{key:"Fbt",get:function(){}}]),n}(XU);U(),St(),Dt(),Ct();var YU=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.Alt=function(t,n){var i=this.Awt[t.Qut],r=n.Ywt[0];return{Xu:(i.AN?qn.Ih(i.AN,r):r).href,_ut:i.bwt}},i.Qyt=function(t,n){},xt(n,[{key:"Awt",get:function(){return void 0!==this.kp.Awt?this.kp.Awt:this.eAt&&this.eAt instanceof n?this.eAt.Awt:void 0}},{key:"Fbt",get:function(){var t;return null==(t=this.Awt)?void 0:t.length}}]),n}(XU);U(),St(),Dt(),Ct(),U(),St(),Gt(),Ct(),rn(),Jt(),U(),St(),Dt(),Ct(),U(),St();var KU=function(){function t(){}return t.prototype.Nbt=function(t){var n=this.glt(t.jut);if(n&&n.WO===t.WO)return n;var i=this.uAt(t.WO);return i&&i.WO===t.WO?i:void 0},t}(),qU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Mbt=n,s.mN=i,s.fAt=r,s.xwt=e,s.cAt=u,s}Rt(n,t);var i=n.prototype;return i.glt=function(t){if(t>=0&&t<this.V)return this.lAt(this.cAt[t])},i.uAt=function(t){var n=this.dAt(t);if(this.cAt.length>0){var i=this.cAt[0];if(n<=Tr(i.WO,this.mN))return this.lAt(i)}var r=VU(this.cAt,sr.fromNumber(n*this.mN));if(!(r<0))return this.lAt(this.cAt[r])},i.flt=function(t){var n=this.dAt(t);if(this.cAt.length>0){var i=this.cAt[this.cAt.length-1];if(n>=Tr(i.UO,this.mN))return this.lAt(i)}return this.uAt(t)},i.lAt=function(t){var n=Tr(t.WO,this.mN)-this.xwt,i=n+this.fAt,r=Tr(t.ct,this.mN);return{Mbt:this.Mbt,jut:t.Qut,WO:i,xbt:sr.fromNumber(n*this.mN),ct:r,UO:i+r,_At:[t.vAt,t.mAt]}},i.dAt=function(t){return t-this.fAt+this.xwt},xt(n,[{key:"V",get:function(){return this.cAt.length}}]),n}(KU);U(),St(),U(),St(),U(),St();var JU=function(){function t(t){this.Kk=t,this.SD=new Pc}var n=t.prototype;return n.Jmt=function(){return this.SD.nc<this.Kk.byteLength},n.gAt=function(){var n,i=this.pAt(),r=this.wAt(),e=this.SD.nc,u=this.Kk.byteLength,s=e+(n=t.yAt(r)?u-e:t.bAt(r))<=u?n:u-e,o=za(this.Kk,this.SD,s);return new $U(i,Ec(o))},n.pAt=function(){var t=this.wAt();if(t.length>7)throw new RangeError("Invalid EBML ID size");for(var n=0,i=0;i<t.length;i++)n=256*n+t[i];return n},n.wAt=function(){var t=Ga(this.Kk,this.SD.Ib());if(0===t)throw new RangeError("EBML variable sized integer is invalid");var n=8-(31-Ma(t));return qn.Up(n<=8&&n>=1,"Incorrect log2 value"),za(this.Kk,this.SD,n)},t.bAt=function(t){if(8===t.length&&224&t[1])throw new _("EBML variable sized integer is too large");for(var n=0,i=0;i<t.length;i++){var r=t[i];if(0===i)n=r&(1<<8-t.length)-1;else n=256*n+r}return n},t.yAt=function(t){for(var n=0;n<QU.length;n++){var i=QU[n];if(Vc(t,new I(i)))return!0}return!1},t}(),QU=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],$U=function(){function t(t,n){this.id=t,this.SAt=n}var n=t.prototype;return n.AAt=function(){return this.SAt.byteOffset},n.TAt=function(){return new JU(this.SAt)},n.kAt=function(){var t=this.SAt.byteLength;if(t>8)throw new RangeError("EMBL integer field size is too large");if(8===t&&224&this.SAt.getUint8(0))throw new RangeError("EMBL integer field value is too large");for(var n=0,i=0;i<t;i++){n=256*n+this.SAt.getUint8(i)}return n},n.SQ=function(){if(4===this.SAt.byteLength)return this.SAt.getFloat32(0);if(8===this.SAt.byteLength)return this.SAt.getFloat64(0);throw new RangeError("Invalid size for EMBL floating-point field")},t}();function tW(t,n){var i=function(t){var n=new JU(Ec(t)),i=n.gAt();if(i.id!==iW)throw new _("Missing WebM EBML header");var r=n.gAt();if(r.id!==rW)throw new _("Missing WebM SegmentElement");var e=r.AAt(),u=function(t){var n,i=t.TAt();for(;i.Jmt();){var r=i.gAt();if(r.id===eW){n=r;break}}if(!n)throw new _("Missing WebM InfoElement");return function(t){var n,i=t.TAt(),r=1e6;for(;i.Jmt();){var e=i.gAt();e.id===uW?r=e.kAt():e.id===sW&&(n=e.SQ())}if(void 0===n)throw new _("Missing Duration in WebM InfoElement");var u=r/1e9,s=n*u;return{timecodeScale:u,duration:s}}(n)}(r);return{segmentOffset:e,timecodeScale:u.timecodeScale,duration:u.duration}}(n),r=new JU(Ec(t)).gAt();if(r.id!==oW)throw new _("Missing WebM CuesElement");var e=function(t,n,i,r){var e,u,s=[],o=t.TAt();for(;o.Jmt();){var a=o.gAt();if(a.id===aW){var c=nW(a);if(c){var h=c.unscaledTime,f=n+c.relativeOffset;void 0!==e&&s.push({Qut:s.length,WO:e,ct:h.subtract(e),UO:h,vAt:u,mAt:f-1}),e=h,u=f}}}if(void 0!==e){0;var v=sr.fromNumber(r/i);s.push({Qut:s.length,WO:e,ct:v.subtract(e),UO:v,vAt:u,mAt:void 0})}return s}(r,i.segmentOffset,i.timecodeScale,i.duration);return{mN:A.round(1/i.timecodeScale),EAt:e}}function nW(t){var n=t.TAt(),i=n.gAt();if(i.id!==cW)throw new _("Missing CueTime in WebM CuePointElement");var r=sr.fromNumber(i.kAt()),e=n.gAt();if(e.id!==hW)throw new _("Missing CueTrackPositions in WebM CuePointElement");for(var u=e.TAt(),s=0;u.Jmt();){var o=u.gAt();if(o.id===fW){s=o.kAt();break}}return{unscaledTime:r,relativeOffset:s}}var iW=440786851,rW=408125543,eW=357149030,uW=2807729,sW=17545,oW=475249515,aW=187,cW=179,hW=183,fW=241,vW=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).CAt=as(),r.PAt=as(),r.DAt=new Qo,r.IAt=n.ywt,r.xAt=r.Ebt(0,sr.ZERO,r.Dpt.ct),r}Rt(n,t);var i=n.prototype;return i.cbt=function(t){if(0===t)return this.xAt},i.obt=function(){return 0},i.abt=function(t){return this.xAt},i.ubt=function(t){return this.abt(t)},i.vbt=function(){return this.xAt},i.Vbt=function(t,n){return sr.ZERO},i.Jyt=function(t){var n=this.RAt(t);return n&&{mbt:t,gbt:n,pbt:n}},i.RAt=function(t){var n=this.xAt;return this.kdt(n,t)?n:void 0},i.wbt=function(t){return this.RAt(t)},i.ybt=function(t){return this.RAt(t)},i.ir=function(){},i.dlt=function(t){return 0===t&&void 0!==this.IAt},i.Pbt=function(t,n){var i=n.Ywt[0].href;return this.CAt.get(i)},i.Dbt=function(t,n,i,r){var e=n.Ywt[0].href,u=this.PAt.get(e);if(void 0===u){var s=n.jq,o=this.DAt.Uw;if(Lv(s))u=this.NAt(t,e,i,r,o);else{if(!Fv(s))throw new ol(ul.MEDIA_NOT_SUPPORTED,"Unsupported MIME type for segment index: "+s);u=this.MAt(t,e,n,i,r,o)}this.PAt.set(e,u)}return u},i.NAt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return s=u.IAt,[4,r.Flt(n,s,i,e)];case 1:return o=c.sent(),a=u.LAt(t,o),u.CAt.set(n,a),[2,a]}}))}))()},i.LAt=function(t,n){var i=this.IAt,r=pp.GD(new DataView(n),new Pc);if(r.Tw!==hp.mD)throw new y("Invalid segment index");var e=Ap.aN(r.Kk),u=function(t,n){for(var i=[],r=t.DL,e=n+t.NL.toNumber(),u=0,s=0,o=t.LL;s<o.length;s++){var a=o[s],c=a.xL,h=sr.fromNumber(a.ct),f=r.add(h);0===a.EL&&i.push({Qut:u++,WO:r,ct:h,UO:f,vAt:e,mAt:e+c-1}),e+=c,r=f}return i}(e,i[1]+1);return new qU(t,e.mN,this.Dpt.Sn,Tr(this.Ibt,this.NA),u)},i.MAt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:return o=i.zyt(),a=s.IAt,c=e.Flt(o.Xu,o._ut,r,u),h=e.Flt(n,a,r,u),[4,ut.all([c,h])];case 1:return f=nn.apply(void 0,[g.sent(),2]),v=f[0],l=f[1],d=s.BAt(t,l,v),s.CAt.set(n,d),[2,d]}}))}))()},i.BAt=function(t,n,i){var r=tW(new I(n),new I(i));return new qU(t,r.mN,this.Dpt.Sn,Tr(this.Ibt,this.NA),r.EAt)},i.Xw=function(){t.prototype.Xw.call(this),this.DAt.jw()},n}(OU),lW=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.Alt=function(t,n){return{Xu:n.Ywt[0].href}},i.Qyt=function(t,n){return{Xu:n.Ywt[0].href,_ut:t._At}},i.rAt=function(){return new vW(this,this.rlt)},xt(n,[{key:"Pwt",get:function(){}}]),n}(ZU);U(),St(),Ct();var dW=function(t){function n(){return t.call(this,RO.fat)||this}return Rt(n,t),n}(fa);U(),St();var gW=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Sbt=void 0,e.XAt=1/0,e.UAt=void 0,e.sx=i,e.WAt(n,r),e}Rt(n,t);var i=n.prototype;return i.FAt=function(){var t,n;return null!=(n=this.Sbt)?n:null==(t=this.sx)?void 0:t.FAt()},i.VAt=function(t){var n=this.rlt,i=this.sx&&this.sx.FAt();this.kp.Jwt?this.Sbt=new zU(n,i,this.kp.Jwt):this.kp.Qwt?this.Sbt=new YU(n,i,this.kp.Qwt[0]):this.kp.Kwt?this.Sbt=new lW(n,i,this.kp.Kwt):t&&!i&&(this.Sbt=new lW(n,i,void 0))},i.WAt=function(t,n){this.kp=t,this.OAt=t.Ywt&&t.Ywt.length>0?BU(t.Ywt.map((function(t){return t.Xu})),n):n.slice(),this.Sbt&&(t.Jwt?this.Sbt.ir(t.Jwt):t.Qwt?this.Sbt.ir(t.Qwt[0]):t.Kwt&&this.Sbt.ir(t.Kwt))},i.Wyt=function(){var t;return null==(t=this.UAt)?void 0:t.GAt},i.$yt=function(){var t;return null==(t=this.UAt)?void 0:t.HAt},i.ZAt=function(t){var n=this.XAt,i=this.rlt.ct,r=this.UAt,e=this.zAt(t);r&&fr(i,n,1e-5)&&yW(r,e)||(this.XAt=i,this.UAt=e,this._o(new dW))},i.Xw=function(){this.Ro(),this.Sbt&&(this.Sbt.Xw(),this.Sbt=void 0)},xt(n,[{key:"Kk",get:function(){return this.kp}},{key:"Ywt",get:function(){return this.OAt}}]),n}(aa);function mW(t){for(var n,i=0;i<t.length;i++){var r=t[i].Wyt();if(r){n=r.Sn;break}}if(void 0!==n){for(var e,u=t.length-1;u>=0;u--){var s=t[u].Wyt();if(s){e=s.Tn;break}}if(void 0!==e)return{Sn:n,Tn:e}}}function wW(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].Wyt();if(!e)return;if((n=A.max(n,e.Sn))>=(i=A.min(i,e.Tn)))return}return{Sn:n,Tn:i}}}function pW(t){for(var n,i=0;i<t.length;i++){var r=t[i].$yt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function yW(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.HAt,n.HAt)&&function(t,n){return t&&n?fr(t.Sn,n.Sn,1e-5)&&fr(t.Tn,n.Tn,1e-5):t===n}(t.GAt,n.GAt)}var _W=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Dpt=n,e.zS=i,e.qAt=r.slice();for(var u=0;u<r.length;u++){r[u].bn(RO.fat,e.Gyt)}return e}Rt(n,t);var i=n.prototype;return i.Wyt=function(){return wW(this.qAt)},i.$yt=function(){for(var t,n=0,i=this.qAt;n<i.length;n++){var r=i[n].$yt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.yn=function(){this.Ro();for(var t=0,n=this.qAt;t<n.length;t++){n[t].vn(RO.fat,this.Gyt)}},xt(n,[{key:"gft",get:function(){return this.qAt}},{key:"Jrt",get:function(){return this.gft.reduce((function(t,n){for(var i=0,r=n.Jrt;i<r.length;i++){var e=r[i];To(t,e)||t.push(e)}return t}),[])}},{key:"gp",get:function(){return this.Jrt.length>0?this.Jrt[0]:""}},{key:"Tw",get:function(){return this.qAt[0].Tw}},{key:"o",get:function(){return this.zS}},{key:"vdt",get:function(){return this.Dpt.vdt}},{key:"jq",get:function(){return this.qAt[0].jq}},{key:"rlt",get:function(){return this.Dpt}},{key:"Jat",get:function(){return Ro(this.gft,(function(t){return t.Jat}))}}]),n}(DU);U(),St(),Ct();var bW=function(t){function n(){return t.call(this,RO.vat)||this}return Rt(n,t),n}(fa);function kW(t){for(var n=function(n){var r=t[n],e=void 0,u=r.Odt;void 0===u||(e=mo(i,(function(t){return t.o===u}))),e||(e={o:u,gft:[]},i.push(e)),e.gft.push(r)},i=[],r=0;r<t.length;r++)n(r);return i}U(),St();var AW=function(t){function n(n,i){var r;return(r=t.call(this)||this).qAt=[],r.YAt=[],r.KAt=!1,r.jAt=n,r.Hyt=i,r.Hyt.bn(RO.fat,r.Gyt),r}Rt(n,t);var i=n.prototype;return i.tSt=function(t,n){if(0!==this.YAt.length){for(var i=t,r=0,e=this.YAt;r<e.length;r++){var u=e[r];if(em(u.Tw)){var s=u.Uyt;if(void 0===s)return;i=n(i,s)}}return i}},i.iSt=function(){this.KAt||(this.KAt=!0,this._o(new bW),this.yn())},i.ir=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return 0!==i.qAt.length?[3,2]:[4,i.sSt(i.Hyt.gft,t,n)];case 1:return r.sent(),i.nSt(i.qAt),Zo(n),[3,4];case 2:return[4,i.rSt(t,n)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))()},i.sSt=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:e=0,o.label=1;case 1:if(!(e<t.length))return[3,6];u=t[e],s=new MU(r,u),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,s.ir(n,i)];case 3:return o.sent(),r.qAt.push(s),[3,5];case 4:return Xo(o.sent()),[3,5];case 5:return e++,[3,1];case 6:return[2]}}))}))()},i.nSt=function(t){for(var n=kW(t),i=0;i<n.length;i++){var r=n[i],e=new _W(this,r.o,r.gft);this.YAt.push(e)}},i.rSt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:r=0,e=i.qAt,u.label=1;case 1:return r<e.length?[4,e[r].ir(t,n)]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},i.Wyt=function(){return this.Hyt.Wyt()},i.$yt=function(){return this.Hyt.$yt()},i.yn=function(){this.Ro(),this.Hyt.vn(RO.fat,this.Gyt);for(var t=0,n=this.YAt;t<n.length;t++){n[t].yn()}for(var i=0,r=this.qAt;i<r.length;i++){r[i].yn()}Eo(this.qAt),Eo(this.YAt)},xt(n,[{key:"gft",get:function(){return this.qAt}},{key:"Ppt",get:function(){return this.YAt}},{key:"myt",get:function(){return this.Hyt.Kk.myt}},{key:"ct",get:function(){return this.Hyt.ct}},{key:"Tn",get:function(){return this.Sn+this.ct}},{key:"gyt",get:function(){return this.Hyt.Kk.gyt||[]}},{key:"o",get:function(){return this.Hyt.o}},{key:"mat",get:function(){return this.KAt}},{key:"vdt",get:function(){return this.jAt}},{key:"owt",get:function(){return this.jAt.QAt(this)}},{key:"rlt",get:function(){return this}},{key:"rwt",get:function(){return this.jAt.JAt(this)}},{key:"$At",get:function(){return this.tSt(1/0,A.min)}},{key:"eSt",get:function(){return this.tSt(0,A.max)}},{key:"Sn",get:function(){return this.Hyt.Sn}},{key:"xE",get:function(){return this.vdt.xE}}]),n}(DU);U(),St(),Ct();var TW=function(t){function n(){return t.call(this,va.Gy)||this}return Rt(n,t),n}(fa);U(),St(),Ct(),U(),St();var SW=function(t){return t.oSt="hSt",t}({}),EW=function(t){function n(){return t.call(this,SW.oSt)||this}return Rt(n,t),n}(fa);U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var IW=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Ywt)||this).aSt=void 0,r.Hat=i,r.VAt(!0),r}Rt(n,t);var i=n.prototype;return i.dlt=function(t){var n=this.jq;return!(!Lv(n)&&!Fv(n))&&this.Zot.dlt(t.Qut)},i._lt=function(t,n,i,r){return this.Zot._lt(t,this,n,i,r)},i.zyt=function(){return this.Yyt.zyt(this)},i.Alt=function(t){return this.Yyt.Alt(t,this)},i.Qyt=function(t){return this.Yyt.Qyt(t,this)},i.Jyt=function(){return this.aSt},i.zAt=function(t){var n=this.Zot,i=n.Jyt(t),r=i&&function(t,n){var i,r=t.gbt,e=t.pbt,u=t.mbt,s=r.WO,o=n.kbt(e);if(o.getTime()<=u.getTime())i=e.UO;else{var a=(o.getTime()-u.getTime())/1e3,c=A.max(e.ct-a,0);i=e.WO+c}return{Sn:s,Tn:i}}(i,n),e=this.Zot.$yt(t,i);return this.aSt=i,{mbt:t,GAt:r,HAt:e}},i.ir=function(t){this.WAt(t,this.Hat.Ywt)},xt(n,[{key:"Act",get:function(){return this.Hat}},{key:"rlt",get:function(){return this.Hat.rlt}},{key:"_bt",get:function(){return this.Hat._bt}},{key:"jq",get:function(){return this.kp.jq||this.Hat.jq}},{key:"Yyt",get:function(){return this.FAt()}},{key:"Zot",get:function(){return this.Yyt.Zot}}]),n}(gW),RW=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Ywt)||this).Dpt=i,r.VAt(!1),r.Gdt=n.Jat.map((function(t){return new IW(t,r)})),r}Rt(n,t);var i=n.prototype;return i.ir=function(t){this.WAt(t,this.Dpt.Ywt);var n=t.Jat||[];if(this.Gdt.length!==n.length)throw new y("Expected "+this.Gdt.length+' representations in adaptation set "'+t.o+'", found '+n.length);for(var i=0;i<n.length;i++)this.Gdt[i].ir(n[i])},i.ZAt=function(n){for(var i=0,r=this.Gdt;i<r.length;i++){r[i].ZAt(n)}t.prototype.ZAt.call(this,n)},i.zAt=function(t){return{mbt:t,GAt:wW(this.Gdt),HAt:pW(this.Gdt)}},i.Xw=function(){for(var n=0,i=this.Gdt;n<i.length;n++){i[n].Xw()}t.prototype.Xw.call(this)},xt(n,[{key:"Jat",get:function(){return this.Gdt}},{key:"rlt",get:function(){return this.Dpt}},{key:"_bt",get:function(){return this.Dpt._bt}},{key:"Odt",get:function(){return this.kp.Odt}},{key:"jq",get:function(){var t;return this.kp.jq||(null==(t=this.Gdt[0])?void 0:t.Kk.jq)||""}},{key:"Lwt",get:function(){return this.Kk.Lwt}},{key:"Bwt",get:function(){return this.Kk.Bwt}}]),n}(gW),CW=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,void 0,n.Ywt)||this).YAt=[],u.uSt=n,u.jV=r,u.MA=e,u.VAt(!1),u.qAt=(i.gft||[]).map((function(t){return new RW(t,u)})),u.YAt=kW(u.qAt),u}Rt(n,t);var i=n.prototype;return i.ir=function(t,n){this.WAt(t,this.uSt.Ywt),this.MA=n;var i=t.gft||[];if(this.qAt.length!==i.length)throw new y("Expected "+this.qAt.length+' adaptation sets in period "'+t.o+'", found '+i.length);for(var r=0;r<i.length;r++)this.qAt[r].ir(i[r])},i.ZAt=function(n){for(var i=0,r=this.qAt;i<r.length;i++){r[i].ZAt(n)}t.prototype.ZAt.call(this,n)},i.zAt=function(t){return{mbt:t,GAt:wW(this.qAt),HAt:pW(this.qAt)}},i.Xw=function(){for(var n=0,i=this.qAt;n<i.length;n++){i[n].Xw()}t.prototype.Xw.call(this)},xt(n,[{key:"gft",get:function(){return this.qAt}},{key:"Ppt",get:function(){return this.YAt}},{key:"rlt",get:function(){return this}},{key:"_bt",get:function(){return this.uSt}},{key:"o",get:function(){return this.kp.o}},{key:"Sn",get:function(){return this.jV}},{key:"ct",get:function(){return this.MA}}]),n}(gW);U(),St(),Dt();var NW=function(){function t(t){this.lSt=t}return xt(t,[{key:"cSt",get:function(){return this.lSt.wyt.cV}},{key:"dSt",get:function(){return this.lSt.wyt.uV}},{key:"fSt",get:function(){return this.lSt.wyt.pyt}},{key:"_St",get:function(){var t;return null==(t=this.lSt.QR)?void 0:t.cV}},{key:"vSt",get:function(){var t;return null==(t=this.lSt.QR)?void 0:t.cV}}]),t}(),xW=new Date("2000-01-01"),DW=function(t){function n(n,i,r,e,u){var s;if((s=t.call(this)||this).UAt=void 0,s.pSt=void 0,s.mSt=void 0,s.ySt=[],s.TSt=i,s.gSt=u,s.ir(n,r,e),n.Tw===rF.wW){var o=s.vbt();o&&o.yyt&&o.yyt.getTime()<xW.getTime()&&(s.mSt=new Date(s.Iyt.getTime()-1e3*(o.Zut.WO+o.Zut.ct)),s.ZAt(e))}return s}Rt(n,t);var i=n.prototype;return i.Wyt=function(){var t;return null==(t=this.UAt)?void 0:t.GAt},i.$yt=function(){var t;return null==(t=this.UAt)?void 0:t.HAt},i.ir=function(t,n,i,r){var e,u=void 0!==this.kp&&this.kp.Tw===rF.wW;this.kp=t,this.ASt=null!=r?r:i,this.Pn=i;var s=[Ed(n)];this.OAt=t.Ywt&&t.Ywt.length>0?BU(t.Ywt.map((function(t){return t.Xu})),s):s,this.wSt=t.Ayt&&t.Ayt.length>0?BU(t.Ayt,this.OAt):[];var o=this.wSt.map((function(t){return t.href})),a=n.href;To(o,a)||(this.wSt.push(n),o.push(a));var c=this.TSt.href;To(o,c)||(this.wSt.push(this.TSt),o.push(c)),this.pSt=null==(e=t.Eyt)?void 0:e.cwt(),t.Dyt&&(this.lSt=new NW(t.Dyt));var h=t.Tw===rF.wW,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=void 0;if(u.Sn)s=u.Sn.cwt();else if(e>0&&t[e-1].ct){s=r[e-1]+t[e-1].ct.cwt()}else{if(0!==e||n)break;s=0}r.push(s)}for(var o=[],a=0;a<r.length-1;a++)o.push({Kk:t[a],Sn:r[a],ct:r[a+1]-r[a]});if(r.length>0){var c=r.length-1,h=t[c],f=r[c],v=1/0;n||(v=h.ct?h.ct.cwt():i-f),o.push({Kk:h,Sn:f,ct:v})}return o}(t.Gpt,h,this.pSt);this.kSt(f,u,h),this.ZAt(i)},i.kSt=function(t,n,i){var r=this.ySt;if(0!==t.length){for(var e=t[0].Kk.o,u=0;u<r.length&&r[u].o!==e;)u++;for(var s=r.splice(0,u),o=0;o<s.length;o++){s[o].Xw()}if(n&&!i&&r.length>0&&t.length>0){var a,c,h=null!=(a=PW(r[0].Kk))?a:pw.DF,f=null!=(c=PW(t[0].Kk))?c:pw.DF;if(f.vF(h)){var v=f.kF(h);void 0!==this.pSt&&(this.pSt+=v._F());for(var l=0;l<t.length;l++){var d=t[l];if(l<r.length){var g=r[l];d.Sn=g.Sn,FW(d.Kk,g.Kk)}l===t.length-1&&(d.ct+=v._F())}}}for(var m=0;m<t.length;m++){var w=t[m];if(m<r.length){var p=r[m];0,p.ir(w.Kk,w.ct)}else r.push(new CW(this,w.Kk,w.Sn,w.ct))}}else Eo(r)},i.ZAt=function(t){for(var n=0,i=this.ySt;n<i.length;n++){i[n].ZAt(t)}var r=this.UAt,e=this.zAt(t);r&&yW(r,e)||(this.UAt=e,this._o(new dW))},i.zAt=function(t){return{mbt:t,GAt:mW(this.ySt),HAt:pW(this.ySt)}},i.vbt=function(){if(0!==this.ySt.length){var t=this.ySt[this.ySt.length-1];if(!isFinite(t.ct)&&0!==t.gft.length){var n=t.gft[0];if(0!==n.Jat.length){var i=n.Jat[0].Zot,r=i.vbt();if(r)return{Zut:r,yyt:i.mdt(r)}}}}},i.Xw=function(){this.Ro();for(var t=0,n=this.ySt;t<n.length;t++){n[t].Xw()}},xt(n,[{key:"Kk",get:function(){return this.kp}},{key:"Tw",get:function(){return this.kp.Tw||rF.pW}},{key:"byt",get:function(){return this.mSt||this.kp.byt||this.Iyt}},{key:"yyt",get:function(){return this.kp.yyt}},{key:"fbt",get:function(){var t,n;return null!=(n=null==(t=this.gSt)?void 0:t.ignoreAvailabilityWindow)&&n}},{key:"Eyt",get:function(){return this.pSt}},{key:"Ywt",get:function(){return this.OAt}},{key:"Ayt",get:function(){return this.wSt}},{key:"Gpt",get:function(){return this.ySt}},{key:"Iyt",get:function(){return this.kp.Iyt||this.Pn}},{key:"Iwt",get:function(){return this.kp.Iwt}},{key:"bSt",get:function(){return this.ASt}},{key:"SSt",get:function(){return this.Pn}},{key:"Dyt",get:function(){return this.lSt}}]),n}(aa);function PW(t){for(var n,i,r=OW(t),e=0,u=null!=(n=t.gft)?n:[];e<u.length;e++){r=_w(r,MW(u[e]))}for(var s=0,o=null!=(i=t.gyt)?i:[];s<o.length;s++){r=_w(r,LW(o[s]))}return r}function MW(t){for(var n=OW(t),i=0,r=t.Jat;i<r.length;i++){n=_w(n,BW(r[i]))}return n}function BW(t){return OW(t)}function OW(t){var n;if(void 0!==t.Jwt&&(n=_w(n,LW(t.Jwt))),void 0!==t.Kwt&&(n=_w(n,LW(t.Kwt))),void 0!==t.Qwt)for(var i=0,r=t.Qwt;i<r.length;i++){n=_w(n,LW(r[i]))}return n}function LW(t){var n,i;return pw.IF(null!=(n=t.xwt)?n:sr.ZERO,null!=(i=t.mN)?i:1)}function FW(t,n){if(WW(t,n),t.Sn=n.Sn,void 0!==t.gft&&void 0!==n.gft&&t.gft.length===n.gft.length)for(var i=0;i<t.gft.length;i++)VW(t.gft[i],n.gft[i]);if(void 0!==t.gyt&&void 0!==n.gyt&&t.gyt.length===n.gyt.length)for(var r=0;r<t.gyt.length;r++)jW(t.gyt[r],n.gyt[r])}function VW(t,n){if(WW(t,n),void 0!==t.Jat&&void 0!==n.Jat&&t.Jat.length===n.Jat.length)for(var i=0;i<t.Jat.length;i++)UW(t.Jat[i],n.Jat[i])}function UW(t,n){WW(t,n)}function WW(t,n){if(void 0!==t.Jwt&&void 0!==n.Jwt&&jW(t.Jwt,n.Jwt),void 0!==t.Kwt&&void 0!==n.Kwt&&jW(t.Kwt,n.Kwt),void 0!==t.Qwt&&void 0!==n.Qwt&&t.Qwt.length===n.Qwt.length)for(var i=0;i<t.Qwt.length;i++)jW(t.Qwt[i],n.Qwt[i])}function jW(t,n){t.mN=n.mN,t.xwt=n.xwt}U(),St(),Gt(),Jt();var ZW=function(){function t(t,n,i){this.fW=t,this.xSt=n,this.RSt=i,this.ISt=0}var n=t.prototype;return n.xj=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.ESt(t,n.fW,n.xSt,n.RSt).catch(Go)];case 1:return i.sent(),[2]}}))}))()},n._dt=function(){return new Date(yr()+this.ISt)},n.ESt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r?[4,e.CSt(n,r,i)]:[3,2];case 1:u=a.sent(),a.label=2;case 2:if(void 0!==u)return[3,6];Zo(i),s=0,a.label=3;case 3:return s<t.length?(o=t[s],[4,e.PSt(n,o,i)]):[3,6];case 4:if(void 0!==(u=a.sent()))return[3,6];a.label=5;case 5:return s++,[3,3];case 6:return e.ISt=void 0===u?0:u-yr(),[2]}}))}))()},n.PSt=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:switch(n.c9){case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2012":case"urn:mpeg:dash:utc:http-iso:2014":return[3,1];case"urn:mpeg:dash:utc:direct:2012":case"urn:mpeg:dash:utc:direct:2014":return[3,4]}return[3,5];case 1:return(e=n.Mx)?[4,r.CSt(t,e,i)]:[3,3];case 2:return[2,o.sent()];case 3:return[3,6];case 4:return(u=n.Mx)&&(s=new Date(u).getTime(),!E(s))?[2,s]:[3,6];case 5:case 6:return[2]}}))}))()},n.CSt=function(t,n,i){return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,t.Qk({Xu:n,AE:vd.GET,jk:Dl.Tk,Uw:i})];case 1:return[4,u.sent().Ck()];case 2:return r=u.sent(),e=new Date(r).getTime(),E(e)?[3,4]:[2,e];case 3:return Xo(u.sent()),[3,4];case 4:return[2]}}))}))()},t}(),XW=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Hyt=void 0,s.LSt=!0,s.ySt=[],s.XSt=void 0,s.USt=n,s.MSt=n.VC,s.ZSt=i,s.fW=r,s.zSt=e,s.HSt=new ZW(s.fW,s.zSt,s.USt.qSt),s.gSt=u,s}Rt(n,t);var i=n.prototype;return i.BSt=function(t){var n=this.qR;this.LSt=t,n!==this.qR&&this._o(new EW)},i.ir=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,l,d,g;return Ht(this,(function(m){switch(m.label){case 0:return u=[],s=[],o=t.Syt?qn.Ih(t.Syt,r.MSt):r.MSt,void 0!==r.Hyt?[3,2]:[4,r.HSt.xj(t.Pyt)];case 1:return m.sent(),r.Hyt=new DW(t,r.MSt,o,r._dt(),r.gSt),r.Hyt.bn(RO.fat,r.Ds),[3,3];case 2:r.Hyt.ir(t,o,r._dt(),n),m.label=3;case 3:if(0===(a=r.Hyt.Gpt).length)c=r.ySt.slice(),Eo(r.ySt);else{for(h=a[0].o,f=0;f<r.ySt.length&&r.ySt[f].o!==h;)f++;for(c=r.ySt.splice(0,f),v=0;v<a.length;v++)l=a[v],d=void 0,v<r.ySt.length?d=r.ySt[v]:(d=new AW(r,l),u.push(d)),s.push(d.ir(r.ZSt,i))}return[4,ut.all(s)];case 4:for(m.sent(),(e=r.ySt).push.apply(e,Ut(u)),g=0;g<c.length;g++)c[g].iSt();return r._o(new TW),[2]}}))}))()},i._dt=function(){return this.HSt._dt()},i.JAt=function(t){var n=this.ySt.indexOf(t);if(n>0)return this.ySt[n-1]},i.QAt=function(t){var n=this.ySt.indexOf(t);if(n>=0&&n+1<this.ySt.length)return this.ySt[n+1]},i.Wyt=function(){return this.Hyt?this.Hyt.Wyt():void 0},i.$yt=function(){return this.Hyt&&this.Hyt.$yt()},i.ZAt=function(t){this.Hyt&&this.Hyt.ZAt(t)},i.yn=function(){this.Ro(),this.XSt=void 0,this.BSt(!1);for(var t=0,n=this.ySt;t<n.length;t++){n[t].yn()}Eo(this.ySt),this.Hyt&&this.Hyt.Xw()},xt(n,[{key:"yyt",get:function(){return this.Hyt&&this.Hyt.yyt}},{key:"byt",get:function(){return this.Hyt&&this.Hyt.byt}},{key:"fbt",get:function(){return this.Hyt&&this.Hyt.fbt}},{key:"o",get:function(){return this.Hyt&&this.Hyt.Kk.o}},{key:"bSt",get:function(){var t;return null==(t=this.Hyt)?void 0:t.bSt}},{key:"DSt",get:function(){var t;return null==(t=this.Hyt)?void 0:t.SSt}},{key:"Ayt",get:function(){return this.Hyt?this.Hyt.Ayt.map((function(t){return t.href})):[this.NSt]}},{key:"NSt",get:function(){return this.MSt.href}},{key:"Tyt",get:function(){return this.Hyt&&this.Hyt.Kk.Tyt}},{key:"kyt",get:function(){return this.Hyt&&this.Hyt.Kk.kyt}},{key:"Eyt",get:function(){return this.Hyt&&this.Hyt.Kk.Eyt}},{key:"xyt",get:function(){return this.Hyt&&this.Hyt.Kk.xyt}},{key:"Ryt",get:function(){var t,n,i=(null==(n=this.Hyt)||null==(t=n.Kk.Ryt)?void 0:t.lwt())||0;return A.max(i,HW)}},{key:"qR",get:function(){return this.LSt}},{key:"Gpt",get:function(){return this.ySt}},{key:"OSt",get:function(){return this.Tw===rF.wW?this.ibt:this.FSt}},{key:"VSt",get:function(){var t=this.OSt;if(void 0!==t)for(var n=0,i=this.Gpt;n<i.length;n++){var r=i[n];if(r.Sn<=t&&r.Tn>t)return r}}},{key:"Vwt",get:function(){return this.Hyt&&this.Hyt.Kk.Vwt}},{key:"Iyt",get:function(){return this.Hyt&&this.Hyt.Iyt}},{key:"$At",get:function(){for(var t=this.ySt.length-1;t>=0;t-=1){var n=this.ySt[t].$At;if(n)return n}}},{key:"ibt",get:function(){var t=this.$At;if(void 0!==t){var n=t-this.WSt;return A.max(n,this.FSt)}}},{key:"FSt",get:function(){for(var t=0,n=this.ySt;t<n.length;t++){var i=n[t].Vyt;if(void 0!==i)return i}}},{key:"xE",get:function(){return Boolean(this.USt.xE)}},{key:"WSt",get:function(){var t,n;if(this.USt.GSt&&this.Tw===rF.wW)return this.USt.GSt;var i=null==(n=this.Hyt)||null==(t=n.Kk.Cyt)?void 0:t.cwt();return void 0!==i?i:this.Tw===rF.wW?1.5*this.xyt.cwt():0}},{key:"Iwt",get:function(){return this.Hyt&&this.Hyt.Iwt}},{key:"Tw",get:function(){return this.Hyt?this.Hyt.Tw:void 0}},{key:"Dyt",get:function(){var t;return null==(t=this.Hyt)?void 0:t.Dyt}}]),n}(aa),GW=function(){function t(t,n,i,r,e){this.jAt=new XW(t,n,i,r,e)}return xt(t,[{key:"vdt",get:function(){return this.jAt}}]),t}(),HW=1e3,zW=A.pow(2,31)-1,YW=function(){function t(t,n,i,r,e){var u=this;this.KSt=new Qo,this.jSt=Zt((function(t){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),n=u.Hyt.vdt._dt(),[4,u.hTt(u.Hyt.vdt.Ayt,t)];case 1:return i=e.sent(),[4,u.Hyt.vdt.ir(i,n,t)];case 2:return e.sent(),[3,4];case 3:throw Zd(r=e.sent())&&u.Hyt.vdt.BSt(!1),r;case 4:return[2]}}))})),this.uTt=r,this.Hyt=new GW(t,n,i,this.KSt.Uw,e)}var n=t.prototype;return n.QE=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:n.Hyt.vdt._o(new QR),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.jSt(t)];case 2:return r.sent(),n.Hyt.vdt.BSt(!0),[3,4];case 3:throw Xo(i=r.sent()),n.YSt=void 0,n.Hyt.vdt.BSt(!1),new y("The provided MPEG-DASH document could not be loaded - "+i.message);case 4:return n.QSt=n.JSt(n.KSt.Uw),[2]}}))}))()},n.JSt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:i.trys.push([0,4,,5]),i.label=1;case 1:return n.Hyt.vdt.Tw!==rF.wW?[3,3]:[4,Ho(n.$St,t)];case 2:return i.sent(),[3,1];case 3:return[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},n.eTt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return Zo(t),(i=n.iTt())>0?[4,ea(A.min(i,zW),t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,5,6]),[4,n.jSt(t)];case 3:return e.sent(),n.Hyt.vdt.BSt(!0),[3,6];case 4:throw r=e.sent(),new y("The provided MPEG-DASH manifest could not be loaded - "+r.message);case 5:return n.sTt=void 0,[7];case 6:return[2]}}))}))()},n.iTt=function(){var t=this.Hyt.vdt._dt().getTime()-this.Hyt.vdt.bSt.getTime();return this.Hyt.vdt.Ryt-t},n.nTt=function(t){var n=this.Hyt.vdt.$yt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.Hyt.vdt.ZAt(t);var r=this.Hyt.vdt.$yt();return r?r.getTime()-t.getTime():NaN},n.tTt=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:i={stack:[],error:void 0,hasError:!1},s.label=1;case 1:return s.trys.push([1,3,4,5]),null!=n.sTt||(n.sTt=n.eTt(t)),r=Yt(i,Qo.$w([t]),!1),e=[n.sTt,n.rTt(r.Uw)].filter(Yn),[4,ut.race(e).catch(Go)];case 2:return s.sent(),[3,5];case 3:return u=s.sent(),i.error=u,i.hasError=!0,[3,5];case 4:return Kt(i),[7];case 5:return[2]}}))}))()},n.rTt=function(t){var n=this.Hyt.vdt._dt(),i=this.nTt(n);if(!E(i)&&!this.Er.vdt.fbt)return this.oTt(i,t)},n.oTt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,ea(t,n)];case 1:return e.sent(),r=i.Hyt.vdt._dt(),i.Hyt.vdt.ZAt(r),[2]}}))}))()},n.hTt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,i.uTt.aTt(t,{},n)];case 1:return r=e.sent(),[2,(new TU).Nyt(r.cTt,r.eE)]}}))}))()},n.yn=function(){return this.KSt.jw(),this.QSt=void 0,this.YSt=void 0,this.sTt=void 0,this.Hyt.vdt.yn(),ut.resolve()},xt(t,[{key:"Er",get:function(){return this.Hyt}},{key:"W",get:function(){return this.YSt||(this.YSt=this.QE(this.KSt.Uw),na(this.YSt)),this.YSt}},{key:"$St",get:function(){return this.Hyt.vdt.DSt&&this.Hyt.vdt.Tw===rF.wW?this.tTt(this.KSt.Uw):this.W}}]),t}();U(),St(),Dt(),Ct(),U(),St(),Ct();var KW=function(t){function n(n,i){var r;return(r=t.call(this,"jpt")||this).hwt=n,r.jdt=i,r}return Rt(n,t),n}(fa),qW=function(t){function n(n,i){var r;(r=t.call(this)||this).Qdt=void 0,r.Sp=n,r.dC=i;for(var e=0,u=r.dC;e<u.length;e++){u[e].Odt=r}return r}Rt(n,t);var i=n.prototype;return i.hW=function(t){t&&this.Qdt!==t&&this.lTt(t)},i.aW=function(t){this.Qdt===t&&this.lTt(void 0)},i.lTt=function(t){this.Qdt=t,this._o(new KW(this,this.Qdt))},i.yn=function(){this.Ro();for(var t=0,n=this.dC;t<n.length;t++){n[t].Odt=void 0}Eo(this.dC)},xt(n,[{key:"jdt",get:function(){return this.Qdt}},{key:"Tw",get:function(){return this.Sp}},{key:"Z",get:function(){return this.dC.slice()}}]),n}(aa);U(),St(),U(),St(),U(),St(),Ct();var JW=function(t){function n(n,i,r){var e;return(e=t.call(this,va.Py)||this).currentTime=n,e.initDataType=i,e.initData=r,e}return Rt(n,t),n}(fa);function QW(t,n,i,r,e){for(var u=[],s=[],o=0;o<n.length;o++){var a=n[o];a.Tw===rm.vE?u=u.concat(a.Z):a.Tw===rm.mE&&(s=s.concat(a.Z))}return[$W(t,u,i,r,null==e?void 0:e.preferredAudioCodecs),tj(t,s,i,r,null==e?void 0:e.preferredVideoCodecs)].filter(Yn)}function $W(t,n,i,r,e){var u=mo(r||[],(function(t){return t.Cat===rm.vE&&t.Rt})),s=[ij(u,i,t),rj(u),ej(u),uj(u,e),sj(),function(t){var n=t.filter((function(t){return"main"===t.Lt}));return n.length>0?n:t}];return nj(n,s)}function tj(t,n,i,r,e){var u=mo(r||[],(function(t){return t.Cat===rm.mE&&t.Rt})),s=[ij(u,i,t),uj(u,e),sj(),function(t){var n=t.filter((function(t){return"main"===t.Lt}));return n.length>0?n:t}];return nj(n,s)}function nj(t,n){if(0!==t.length){for(var i=t,r=0;r<n.length;r++){var e=n[r];if(1===i.length)return i[0];i=e(i)}return i[0]}}function ij(t,n,i){return function(r){var e=t?t.Act.o:void 0;if(!Yn(e))return r;var u=null==n?void 0:n.myt,s=i.myt,o=u&&s&&u.Mx===s.Mx,a=mo(r,(function(t){return t.Act.o===e}));return o&&a?[a]:r}}function rj(t){return function(n){var i=t?t.gs:"",r=n.some((function(t){return""!==t.gs}))?n.filter((function(t){return""!==t.gs})):n;if(""===i)return r;var e=r.filter((function(t){return t.gs===i}));return e.length>0?e:r}}function ej(t){return function(n){var i=t?t.Lt:"";if(""===i)return n;var r=n.filter((function(t){return t.Lt===i}));return r.length>0?r:n}}function uj(t,n){return function(t){if(n&&n.length>0)for(var i=function(i){var r=n[i],e=t.filter((function(t){return t.NC.lC.some((function(t){return sN(t.Jrt,r)}))}));if(e.length>0)return{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===W(e))return e.v}return t}}function sj(){return function(t){for(var n=[],i=-1/0,r=0;r<t.length;r++){var e=t[r],u=e.Act.UH;u>i?(i=u,n=[e]):u===i&&n.push(e)}return n}}U(),St(),ct(),U(),St();var oj=function(t){return t.dTt="api",t.fTt="start",t}({});U(),St(),Gt(),Jt();var aj={maxRetries:3,minimumBackoff:1e3,maximumBackoff:1/0},cj=function(){function t(t,n,i){void 0===i&&(i=aj),this.fW=t,this.mTt=n,this.edt=i}var n=t.prototype;return n._Tt=function(t,n,i){var r=this,e=this.edt.maxRetries===1/0?aj:this.edt;return IT((function(){return r.vTt(t,n,i)}),i,e.maxRetries,e.minimumBackoff,e.maximumBackoff)},n.vTt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:u=0,h.label=1;case 1:if(!(u<t.length))return[3,7];s=t[u],h.label=2;case 2:return h.trys.push([2,5,,6]),o=new wd({Xu:s,jk:Dl.Tk,Jk:n,xE:r.mTt,AE:vd.GET,Tw:ld.sE,kE:dd.iE,Uw:i,SE:15e3,TE:5e3}),[4,r.fW.Qk(o)];case 3:return[4,(a=h.sent()).Ck(i)];case 4:return[2,{cTt:h.sent(),gTt:s,eE:a.eE}];case 5:return c=h.sent(),e=c,[3,6];case 6:return u++,[3,1];case 7:throw e}}))}))()},t}();U(),St(),Gt(),Jt();var hj=function(){function t(t){this.pTt=t}return t.prototype.aTt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:u=0,s=r.pTt,c.label=1;case 1:if(!(u<s.length))return[3,6];o=s[u],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.aTt(t,n,i)];case 3:return[2,c.sent()];case 4:return Xo(a=c.sent()),e=a,[3,5];case 5:return u++,[3,1];case 6:throw e}}))}))()},t}(),fj=function(){function t(t){this.zut=t}return t.prototype.aTt=function(t,n,i){var r=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,r.zut.drt(t)];case 1:if(n=i.sent())return[2,{cTt:n.data,gTt:n.locationURL,eE:n.responseURL}];throw new y("Manifest fetch from cache unsuccesful")}}))}))()},t}(),vj=function(){function t(t){this.wTt=t}return t.prototype.aTt=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,r.wTt._Tt(t,n,i)];case 1:return[2,e.sent()]}}))}))()},t}();function lj(t,n){return new hj([new fj(n),new vj(t)])}var dj=function(){function t(t,n,i){this.uTt=t,this.d_=n,this.bTt=i}var n=t.prototype;return n.aTt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return[4,r.uTt.aTt(t,n,i)];case 1:return e=u.sent(),[4,r.yTt(e)];case 2:return u.sent(),[2,e]}}))}))()},n.yTt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.d_.brt({key:BB(t.gTt),locationURL:kd(t.gTt),responseURL:kd(t.eE),data:t.cTt,references:[n.bTt.o]})];case 1:return i.sent(),[2]}}))}))()},t}();U(),St(),Ct();var gj=function(t){function n(){return t.call(this,va.Xy)||this}return Rt(n,t),n}(fa);U(),St(),Ct();var mj=function(t){function n(){return t.call(this,va.Zy)||this}return Rt(n,t),n}(fa);U(),St(),Gt(),Ct(),Jt(),U(),St(),Ct();var wj=function(t){function n(){return t.call(this)||this}Rt(n,t);var i=n.prototype;return i.ATt=function(t){return t.rI=xm.LOADED,this.tt(t),t},i.STt=function(t){for(var n=0,i=this.Z.lC;n<i.length;n++){var r=i[n];if(r.BC===t)return r}},n}(wy);function pj(t,n){return""===n?t:t+" "+n}U(),St(),U(),St(),Dt(),Ct(),U(),St();var yj=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,!1,null==u?void 0:u.toString())||this).Xx=e,s.TTt=u,s}return Rt(n,t),n.prototype.nF=function(t){return this.U===t.U},xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return Mg(jm(t),{get attributes(){return t.Xx},get eventID(){var n;return""+(null!=(n=t.TTt)?n:"")}})}(this)),this.eu}}]),n}(Jm),_j=function(t){function n(n){var i;return(i=t.call(this)||this).uSt=void 0,i.xTt=function(){var t,n,r=null!=(n=null==(t=i.uSt.Wyt())?void 0:t.Sn)?n:0;if(r>0)for(var e=0,u=i.Z.lC;e<u.length;e++){gy(u[e],r)}for(var s=0,o=i.uSt.Gpt;s<o.length;s++){var a=o[s];if(a.Tn>r)for(var c=0,h=a.gyt;c<h.length;c++){var f=h[c];i.ETt(f,a,r)}}},i.lW=n,i}Rt(n,t);var i=n.prototype;return i.kTt=function(t){var n=this.lW.OI(ty.eW,"","","",void 0,Dm.EVENT_STREAM);return n.BC=t,this.ATt(n),n},i.ETt=function(t,n,i){var r,e,u,s=t.c9,o=null!=(r=t.Mx)?r:"",a=null!=(e=t.mN)?e:1,c=null!=(u=t.xwt)?u:sr.ZERO,h=pj(s,o),f=this.STt(h);f||(f=this.kTt(h));for(var v=0,l=t.Qq;v<l.length;v++){var d=l[v];if(!bj(d,f)){var g=kj(d,a,c,n);g.UO>i&&f._W(g)}}},i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.nr()];case 1:return i.sent(),n.uSt=t,n.uSt.bn(va.Gy,n.xTt),n.xTt(),[2]}}))}))()},i.nr=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:for(n.uSt&&(n.uSt.vn(va.Gy,n.xTt),n.uSt=void 0),i=0,r=n.Z.lC;i<r.length;i++)e=r[i],n.lW.mW(e);return[4,t.prototype.nr.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(wj);function bj(t,n){var i=t.o;if(void 0!==i&&mo(n.L.lC,(function(n){return n.TTt===i&&n.U===t.Kk})))return!0;return!1}function kj(t,n,i,r){var e=t.o,u=t.gL.toSigned().subtract(i),s=t.ct,o=t.Kk,a=t.Xx,c=u.toNumber()/n+r.Sn,h=s?s.toNumber()/n:void 0,f=void 0!==h?c+h:r.eSt;return new yj(c,f,o,a,e)}function Aj(t,n,i,r,e){var u=[],s=mo(i,(function(t){return t.c9===ms}));if(void 0!==s){var o=s.Mx?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.Mx.toLowerCase()):"cenc";if(void 0!==o){for(var a=0;a<i.length;a++){var c=i[a];if(c.c9!==ms)for(var h=0,f=Ws(c.c9);h<f.length;h++){var v=f[h],l=e&&c.l9?[c.l9]:[];u.push({cT:v,IG:l,CG:void 0,WU:void 0})}}if(u.length)return{hU:t,lpt:{RTt:o,aU:s.aU},cpt:u,ITt:n===rm.vE?r.slice():[],CTt:n===rm.mE?r.slice():[],_9:!1}}}}function Tj(t,n){if(!t)return n;if(!n)return t;var i,r=[],e=as();return Sj(r,e,t.cpt),Sj(r,e,n.cpt),{hU:t.hU,lpt:{RTt:t.lpt.RTt,aU:null!=(i=t.lpt.aU)?i:n.lpt.aU},cpt:r,ITt:Ej(t.ITt,n.ITt,To),CTt:Ej(t.CTt,n.CTt,To),_9:t._9||n._9||!1}}function Sj(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],u=e.cT.Iw,s=void 0;n.has(u)?(s=n.get(u)).IG=Ej(s.IG,e.IG,Ij):(s=ss({},e),t.push(s),n.set(u,s))}}function Ej(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var u=n[e];i(r,u)||r.push(u)}return r}function Ij(t,n){for(var i=0;i<t.length;i++){if(Fc(t[i],n))return!0}return!1}function Rj(t,n,i){var r,e=t.TG;if(e){for(var u=t.jq,s=[],o=0,a=t.Jrt;o<a.length;o++){var c=a[o];s.push(u+'; codecs="'+c+'"')}r=Aj(n||{},t.Tw,e,s,i)}for(var h=0,f=t.Jat;h<f.length;h++){r=Tj(r,Cj(f[h],n,i))}return r}function Cj(t,n,i){return Aj(n||{},t.Tw,t.TG||[],[t.Mk],i)}function Nj(t){return t?t.cpt.map((function(n){var i=xj(t.hU,n.cT),r=t.lpt.RTt;return{cT:n.cT,IG:n.IG,WU:n.WU,RH:[{initDataTypes:[n.cT.xw],audioCapabilities:Dj(t.ITt,r,null==i?void 0:i.audioRobustness),videoCapabilities:Dj(t.CTt,r,null==i?void 0:i.videoRobustness),persistentState:null==i?void 0:i.persistentState,distinctiveIdentifier:null==i?void 0:i.distinctiveIdentifier}]}})):[]}function xj(t,n){switch(n.Tw){case Ps.ww:return t.widevine;case Ps.pw:return t.playready;case Ps.Aw:return t.fairplay;case Ps.yw:return t.clearkey}}function Dj(t,n,i){if(0!==t.length)return t.map((function(t){return{contentType:t,encryptionScheme:n,robustness:i}}))}function Pj(t,n){var i=function(t){var i=n.indexOf(t.cT.Iw);return i>=0?i:n.length};return uo(t,(function(t,n){return i(t)-i(n)}))}U(),St(),U(),St(),Gt(),Ct(),rn(),Jt();var Mj=function(t){function n(n){var i;(i=t.call(this)||this).Gdt=[],i.ir=function(){for(var t=[],n=0,r=i.uSt.Gpt;n<r.length;n++)for(var e=0,u=r[n].gft;e<u.length;e++){var s=u[e];if(s.Tw===rm.gE&&s.Jat.length>0){var o=s.Jat[0];t.push(o),i.OTt(o)||i.kTt(o),-1===i.Gdt.indexOf(o)&&(i.Gdt.push(o),o.bn(RO.fat,i.LTt)),i.VTt(o)}}i.PTt(t)},i.VTt=function(t){var n=i.FTt(t);n&&t&&n.CE!==Hp.Mh&&(i.BTt(),function(t,n){var i=t.Zot,r=t.Jyt();if(!r)return;var e=r.gbt,u=r.pbt,s=t.ji,o=t.Ti,a=nn(function(t){for(var n=0;n<t.length;n++){var i=t[n];if(Hs(i.c9,Oj)||Hs(i.c9,Lj)){var r=i.Mx.match(Bj);if(r){var e=nn(r,3),u=e[1],s=e[2];return[Number(u),Number(s)]}}}return[1,1]}(t.Lwt),2),c=a[0],h=a[1],f=e;for(;f&&f.Qut<=u.Qut;){for(var v=t.Yyt.ct||f.ct,l=Fj(n,f,t.Alt(f).Xu,s,o,c,h,v),d=0;d<l.length;d++){var g=l[d];n._W(g)}f=i.wlt(f)}}(t,n))},i.lW=n;var r=i;return i.LTt=function(){r.VTt(this)},i}Rt(n,t);var i=n.prototype;return i.kTt=function(t){var n=this.lW.OI(ty.eW,t.o,"thumbnails","",!1,Dm.DEFAULT);return n.CE=Hp.Qn,this.ATt(n),n},i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.nr()];case 1:return i.sent(),n.uSt=t,n.uSt.bn(va.Gy,n.ir),n.ir(),[2]}}))}))()},i.PTt=function(t){this.DTt(t),this.NTt()},i.NTt=function(){for(var t=[],n=0,i=this.Z.lC;n<i.length;n++){var r=i[n];this.MTt(r)||t.push(r)}for(var e=0;e<t.length;e++){var u=t[e];this.it(u)}},i.DTt=function(t){for(var n=[],i=0,r=this.Gdt;i<r.length;i++){var e=r[i];-1===t.indexOf(e)&&n.push(e)}for(var u=0;u<n.length;u++){var s=n[u];bo(this.Gdt,s)}},i.nr=function(){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:for(n.uSt&&(n.uSt.vn(va.Gy,n.ir),n.uSt=void 0),i=0,r=n.Gdt;i<r.length;i++)r[i].vn(RO.fat,n.LTt);for(n.Gdt.length=0,e=0,u=n.Z.lC;e<u.length;e++)s=u[e],n.lW.mW(s);return[4,t.prototype.nr.call(n)];case 1:return o.sent(),[2]}}))}))()},i.yn=function(){return this.LTt=void 0,t.prototype.yn.call(this)},i.BTt=function(){var t,n,i=null!=(n=null==(t=this.uSt.Wyt())?void 0:t.Sn)?n:0;if(i>0)for(var r=0,e=this.Z.lC;r<e.length;r++){gy(e[r],i)}},i.OTt=function(t){return this.Z.lC.some((function(n){return n.o===t.o}))},i.FTt=function(t){return mo(this.Z.lC,(function(n){return n.o===t.o}))},i.MTt=function(t){return this.Gdt.some((function(n){return t.o===n.o}))},n}(wj),Bj=/^(\d+)x(\d+)$/,Oj="http://dashif.org/guidelines/thumbnail_tile",Lj="http://dashif.org/thumbnail_tile";function Fj(t,n,i,r,e,u,s,o){var a=[],c=n.WO,h=u*s,f=r/u,v=e/s,l=A.round(f),d=A.round(v),g=o/h;if(1===h){var m=c+g;return Vj(t,c,m,i)?a:[new Jm(c,m,i,!1)]}for(var w=0;w<s;w++)for(var p=0;p<u;p++){var y=c+(w*u+p)*g,_=y+g,b=i+"#xywh="+A.round(p*f)+","+A.round(w*v)+","+l+","+d;if(Vj(t,y,_,b)||a.push(new Jm(y,_,b,!1)),_>=n.UO)return a}return a}function Vj(t,n,i,r){return t.L.lC.some((function(t){return t.WO===n&&t.UO===i&&t.U===r}))}U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Dt(),Ct(),U(),St();var Uj=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,s,!1)||this).WTt=r,o.UTt=e,o.HTt=u,o}return Rt(n,t),n.prototype.nF=function(t){return Vc(this.U,t.U)},xt(n,[{key:"mL",get:function(){return this.WTt}},{key:"Mx",get:function(){return this.UTt}},{key:"GTt",get:function(){return this.HTt}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){return Mg(jm(t),{get schemeIDURI(){return t.mL},get value(){return t.Mx},get emsgID(){return t.GTt}})}(this)),this.eu}}]),n}(Jm),Wj=function(t){function n(n){var i;return(i=t.call(this)||this).lW=n,i}Rt(n,t);var i=n.prototype;return i.Sdt=function(t,i,r){var e=Ap.JD(Ec(t));if(e){var u=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];gp(e,n)&&i.push(e)}return i}(e,hp.vD);if(u.length){var s=n.ZTt(e,i,r);this.XTt(u,s,r)}}},i.XTt=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=void 0,s=(u=1===e.jD?e.gL.toNumber()/e.mN+i:n+e.yL/e.mN)+e.pL/e.mN;"https://aomedia.org/emsg/ID3"===e.mL||"https://developer.apple.com/streaming/emsg-id3"===e.mL?this.zTt(e,u):this.qTt(e,u,s)}},i.qTt=function(t,n,i){var r=pj(t.mL,t.Mx),e=this.STt(r);e||(e=this.YTt(r),this.ATt(e)),e._W(new Uj(n,i,t.mL,t.Mx,t.o,t.wL))},i.zTt=function(t,n){var i=jx(Ec(t.wL));if(i){var r=pj(t.mL,t.Mx),e=this.STt(r);e||(e=this.KTt(r),this.ATt(e));for(var u=0,s=i.N5;u<s.length;u++){var o=s[u],a=new tD(n,o);gx(a,e.L.lC),e._W(a)}}},i.YTt=function(t){var n=this.lW.OI(ty.eW,"","","",void 0,Dm.EMSG);return n.BC=t,n.CE=Hp.LC,n},i.KTt=function(t){var n=this.lW.OI(ty.eW,"","","",void 0,Dm.ID3);return n.BC=t,n.CE=Hp.LC,n},i.nr=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:for(i=0,r=n.Z.lC;i<r.length;i++)e=r[i],n.lW.mW(e);return[4,t.prototype.nr.call(n)];case 1:return u.sent(),[2]}}))}))()},n.ZTt=function(t,n,i){var r=mp(t,hp.mD);return r?Tr(r.DL,r.mN)+i:n},n}(wj),jj=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).xTt=function(){var t,i,r=null!=(i=null==(t=n.uSt.Wyt())?void 0:t.Sn)?i:0;n.nW(r)},n}Rt(n,t);var i=n.prototype;return i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.nr()];case 1:return i.sent(),n.uSt=t,n.uSt.bn(va.Gy,n.xTt),n.xTt(),[2]}}))}))()},i.nr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.uSt&&(n.uSt.vn(va.Gy,n.xTt),n.uSt=void 0),[4,t.prototype.nr.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(Wj);U(),St(),U(),St(),Gt(),Jt();var Zj=function(){function t(t){this.jTt=!1,this.zut=t}var n=t.prototype;return n.vrt=function(t,n){return this.jTt?this.zut.vrt(t,n):ut.resolve(!1)},n.grt=function(t,n){return this.jTt?this.zut.grt(t,n):ut.resolve(void 0)},n.drt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.zut.drt(t)];case 1:return i=r.sent(),n.jTt=void 0!==i,[2,i]}}))}))()},n.IQ=function(t){return this.zut.IQ(t)},t}();U(),St(),Ct();var Xj=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}Rt(n,t);var i=n.prototype;return i.jB=function(){var t;return null!=(t=this.YB)?t:0},i.ZC=function(){this.na.ER=1/0},i.QB=function(){return!0},n}(UA),Gj=[va.qy,va.Ky,va.$y,va.Hy,va.eb],Hj=[va.Yy,va.ub,va.Ly,va.Ny],zj=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).pkt=void 0,a.Pkt=void 0,a.X9=!1,a.lxt=NaN,a.YG=void 0,a.KG=void 0,a.M9=!1,a.Dkt=void 0,a.P9=void 0,a._xt=!1,a.dxt=0,a.fxt=0,a.Zkt=!1,a.vW=new Qo,a.gkt=new Kc,a.hxt=!1,a.Hyt=void 0,a.vEt=void 0,a.LSt=!0,a.Vkt=!0,a.OEt=void 0,a.Uo=BA.pB(),a.QG=iS.$H,a.sxt=void 0,a.MW=!0,a.Sc=void 0,a.YEt=void 0,a.Lpt=void 0,a.wpt=[],a.cZ=!1,a.dkt=new Qo,a.mkt=ut.resolve(),a.r8=new Qo,a.o8=ut.resolve(),a.cEt=!1,a.VEt=!1,a.fkt=new Qo,a._kt=ut.resolve(),a.kkt=void 0,a.spt=void 0,a.Bkt=0,a.Okt=0,a.Fkt=0,a.iH=new Dk,a.REt=void 0,a.skt={_O:0,vO:0,mO:0},a.JG=void 0,a.ZG=void 0,a.nEt=function(t){var n,i,r,e;"jpt"===(null==t?void 0:t.type)&&(e=t.jdt),e&&(null==(n=e.Odt)?void 0:n.Tw)===rm.vE&&(null==(r=a.bt)||null==(i=r.dash)?void 0:i.forceRecreateMediaSourceOnAudioSwitch)?a.lkt(!0):a.lkt()},a.awt=function(t){var n;null==(n=a.pkt)||n.awt(t)},a.Tc=function(){a._o(new yg(a.ER,a.bR))},a.y9=function(t){a._o(new JW(a.ER,t.xw,t.Eb))},a.$kt=function(t){a.Bkt+=t.pO,a._o(t)},a.tEt=function(t){var n=t.segments.filter((function(t){return t.jct}));t.track===rm.vE?a.Okt=n.length:t.track===rm.mE&&(a.Fkt=n.length)},a.o7=function(){var t=a.ct;E(t)||t===a.lxt||(a.lxt=t,a._o(new bT(a.lxt)))},a.pxt=function(){a.ckt(),a.BEt()},a.gxt=function(t){a.VEt||!a.PR||a.uI||(a.VEt=!0,a._o(null!=t?t:new AT(a.ER)))},a.QEt=function(t){a.Ds(t),a.Zkt||(a.Zkt=!0,a.mxt.Sxt())},a.jEt=function(){a.Hyt.vdt.vn(va.Uy,a.jEt),a._o(new QR)},a.iEt=function(t){var n;if(t.errorObject.code===ul.CONTENT_PROTECTION_OUTPUT_RESTRICTED&&(null==(n=a.pkt)?void 0:n.twt.every((function(t){return!t.qdt}))))return;a.BH(t.errorObject),a._o(t)},a.eEt=function(t){a.BH(t.errorObject)},a.ewt=function(t){jo(t)||a.BH(new ol(ul.MEDIA_DECODE_ERROR,t.message,t))},a.ckt=function(){if(!a.KR)if(a.Nkt())if(a.Lkt()){var t=a.Hyt.vdt.OSt;a.Rb(t,!0)}else;else{var n=a.Hyt.vdt.OSt;a.Rb(n,!0)}},a.UEt=function(t){a._xt=a.uI,a._o(t)},a.ZEt=function(t){var n=a._xt,i=a.uI;a._xt=i,n&&!i&&a._o(t),a.gxt()},a.sEt=function(){var t=a.vI,n=a.dI;a.dxt===t&&a.fxt===n||(a.dxt=t,a.fxt=n,a._o(new Sy))},a.CEt=function(t){var n=t.Ht;n.CE===Hp.Qn?(a.bEt(n),a.SEt=n):n===a.SEt&&n.CE===Hp.Mh&&(a.SEt=void 0,a.TEt())},a.WEt=function(){a.M9||a.OEt&&(a.OEt.Vb(),a.OEt=void 0)},a.MEt=function(t){a.M9||a.OEt&&(a.OEt.Wb(t),a.OEt=void 0)},a.JEt=function(){a.ixt().catch(a.ewt)},a.bxt=function(t){a.BH(fm(t.lt))},a.wxt=function(){a.JTt()},a.yxt=function(){a.$Tt()},a.Axt=function(t){a.ekt(t.TG)},a.fW=n,a.zut=new Zj(u),a.WB=s,a.hkt=o,a.gZ=r,a.gZ.bn("yj",a.wxt),a.gZ.bn("Tj",a.yxt),a.tH=e,a.edt=i.retryConfiguration,a.cO=new aA,a.dO=new aA,a.hH=new Mk(n),a.hH.bn("contentProtectionsTracked",a.Axt),a.WB.bn(va.Iy,a.o7),a.WB.bn(pa.Py,a.y9),a.WB.bn(va.Dy,a.gxt),a.WB.bn(va.Jy,a.UEt),a.WB.bn(va.Qy,a.ZEt),a.WB.bn(va.jy,a.sEt),a.WB.bn(va.hb,a.Tc),a.WB.bn([va.ho,va.zy],a.pxt),a.WB.bn(Hj,a.Ds),a.WB.bn(Yp.fa,a.bxt),a.WB.wH=a.hH,a.WB.T7=a,a.WB.bn([va.Ey,va.Ty],a.Ds),a.WB.bn(va.vb,a.awt),a.mxt=new Yj(a,a.WB),a.mH=new Fy(a.mxt,!0),a.mH.bn(Iy.WL,a.ckt),a.mH.bn(Ry,a.Ds),a.IEt=new cA,a.IEt.bn(Cg.da,a.CEt),a.EEt=new cA,a.lW=a.Txt(),a.$Et=new _j(a.lW),a.txt=new Mj(a.lW),a.dH=new yy(a.WB,a.fW),a.vxt=new $p,a.Hl=new Ok([a.IEt,a.$Et.Z,a.txt.Z,a.dH.Z,a.vxt]),a}Rt(n,t);var i=n.prototype;return i.QTt=function(t){return!!this.JG&&this.JG.dJ(t)},i.wp=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.WB.$n(t)];case 1:return n.JG=i.sent(),n.JTt(),n.$Tt(),n.JG.d4(n.ct),[2]}}))}))()},i.tkt=function(t){return this.JG._J(t)},i.ekt=function(t){return this.JG.mJ(t)},i.ikt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.skt=t.nkt,t.JG?[4,t.WB.nr()]:[3,2];case 1:n.sent(),t.JG=void 0,n.label=2;case 2:return[2]}}))}))()},i.a3=function(){this.JG.a3()},i.J2=function(){var t=this.ct;this.JG.ct<t&&this.JG.d4(t),this.JG.J2()},i.rkt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i=n.JG,r=[],i.h4&&r.push(gN(i.h4,t)),i.a4&&r.push(gN(i.a4,t)),[4,ut.all(r)];case 1:return e.sent(),[2]}}))}))()},i.okt=function(t,n,i,r,e,u){var s=this.WB,o=this.JG;return new WV(s,o,t,n,i,r,e,u,this.hkt,s,this.spt,this.edt,this.wpt,this.hH)},i.akt=function(t,n,i){return t._J(n,i,this.JG)},i.ukt=function(t,n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return(u=e.okt(e.fW,e.gZ,e.zut,e.Sc,t,r)).bn(RO.vat,e.ckt),u.bn(va.Hy,e.Ds),[4,u.xj(n,i)];case 1:return s.sent(),[2,u]}}))}))()},i.lkt=function(t){void 0===t&&(t=!1),this.dkt.jw(),this.r8.jw(),this.fkt.jw(),this.fkt=new Qo,this._kt=zo(this.vkt(this.mkt,this.o8,this._kt,t,this.fkt.Uw),this.fkt).catch(this.ewt)},i.vkt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return[4,ut.all([t,n,i])];case 1:return v.sent(),Zo(e),[4,Ho(u.gkt.Ub,e)];case 2:return v.sent(),[4,(s=u.pkt).Xat()];case 3:return v.sent(),u.J2(),Zo(e),o=s.Cc,a=s.twt,c=s.$pt,h=u.wkt(o,c,o,a,!1),f=u.ykt(c,h),r||!u.QTt(f)?[3,5]:[4,u.bkt(c,h,f)];case 4:return v.sent(),[3,7];case 5:return h=u.wkt(o,c,o,a,!0),f=u.ykt(c,h),[4,u.Akt(c,h,f,e)];case 6:v.sent(),v.label=7;case 7:return Zo(e),u.uI?u.Rb(u.ER):u.Skt(),u.Tkt(),[2]}}))}))()},i.bkt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return e=r.pkt,[4,r.tkt(i)];case 1:return u.sent(),r.kkt=i,[4,r.akt(e,t,n)];case 2:return u.sent(),[4,e.qat(SO.kht)];case 3:return u.sent(),[2]}}))}))()},i.Akt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return u=e.pkt,e.d8(),e.Ekt(),s=e.xkt,[4,e.ikt()];case 1:return a.sent(),[4,e.wp(i)];case 2:return a.sent(),e.kkt=i,[4,e.akt(u,t,n)];case 3:a.sent(),a.label=4;case 4:return a.trys.push([4,,7,8]),na(o=e.Rkt(s,!1,!0,r)),[4,u.qat(SO.kht)];case 5:return a.sent(),[4,o];case 6:return a.sent(),[3,8];case 7:return e.g8(),e.Ikt(),[7];case 8:return[2]}}))}))()},i.RR=function(t,n){this.Rb(t,t===1/0)},i.D9=function(){return!!this.uI&&(!(!this.pkt||!this.pkt.Upt)&&this.xkt===this.pkt.Tn)},i.Nkt=function(){var t,n,i=this.Mkt;if(0===i.V)return!0;var r=null!=(n=null==(t=this.XG)?void 0:t.Tn)?n:this.xkt,e=i.Sn(0);return r>=e||fr(r,e,.001)},i.Lkt=function(){var t;if(!this.Hyt)return!1;if(this.Hyt.vdt.Tw!==rF.wW)return!1;var n=null==(t=this.pkt)?void 0:t.Cc;if(n&&n.mat)return!0;for(var i=[],r=0,e=this.Hyt.vdt.Gpt;r<e.length;r++){var u=e[r],s=u.Vyt,o=u.eSt;void 0!==s&&void 0!==o&&i.push(s,o)}var a=new BA(i).$L();return function(t,n,i){if(!n.V||!i.V)return BA.pB();var r=n.Sn(0),e=n.Tn(n.V-1),u=t.jn(i).jL().jn(t).tB(n);return BA.gB(u.Sn(0),u.Tn(u.V-1)).eB(u).uB((function(t,n){return t<r&&n<=e&&n-t>kr}))}(this.Ckt,this.Mkt,a).V>0},i.Gkt=function(t){this.Uo=this.Uo.tB(t)},i.Jkt=function(t){t.bn(Gj,this.Ds),t.bn(va.sb,this.$kt),t.bn(va.Ay,this.tEt),t.bn(Yp.fa,this.eEt),t.bn(va.Ty,this.iEt),t.bn(va.Ky,this.sEt),t.bn("jpt",this.nEt),t.bn("Rpt",this.nEt)},i.rEt=function(t){t.vn(Gj,this.Ds),t.vn(va.sb,this.$kt),t.vn(va.Ay,this.tEt),t.vn(Yp.fa,this.eEt),t.vn(va.Ty,this.iEt),t.vn(va.Ky,this.sEt),t.vn("jpt",this.nEt),t.vn("Rpt",this.nEt)},i.oEt=function(t){t.bn(va.qy,this.Ds)},i.hEt=function(t){t.vn(va.qy,this.Ds)},i.jkt=function(){if(this.pkt){var t=mo(this.pkt.$pt,(function(t){return t.Cat===rm.mE}));if(t)return t.RC}},i.Xkt=function(t){var n,i=null==(n=this.Hyt)?void 0:n.vdt;if(!i)return BA.pB();var r=i.FSt,e=t?i.$At:i.ibt;if(void 0===r||void 0===e)return BA.pB();if(!t){var u=this.Ukt;u.V>0&&u.Tn(u.V-1)>e&&(e=A.min(u.Tn(u.V-1),i.$At))}var s=this.ct;return isFinite(s)&&s>e&&(e=s),BA.gB(r,e).YL()},i.$n=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:Zo(n),u=i.Hyt.vdt;try{r=u.VSt,e=u.OSt}catch(t){throw new y("Something went wrong determining the start of the provided MPEG-DASH stream")}if(!r)throw new y("Something went wrong determining the initial Period of the provided MPEG-DASH stream");if(void 0===e)throw new y("Something went wrong determining the start time of the provided MPEG-DASH stream");return t.textTracks&&i.aEt(t.textTracks),i.d8(),s=i.fft(r),o=QW(r,s,void 0,void 0,i.Lpt),a=i.wkt(r,o,r,o,!0),o.forEach((function(t){return t.Rt=!0})),c=i.ykt(o,a),[4,i.wp(c)];case 1:return f.sent(),i.kkt=c,Zo(n),[4,i.ukt(r,s,o,a)];case 2:return h=f.sent(),Zo(n),i.uEt(h),i.g8(),Zo(n),[4,h.qat()];case 3:return f.sent(),Zo(n),!i.cEt&&e>0&&i.Rb(e,!0,oj.fTt),i.cZ||(i.Skt(),i.lEt()),[2]}}))}))()},i.Skt=function(){this.dkt.jw(),this.dkt=new Qo,this.mkt=zo(this.dEt(this.mkt,this._kt,this.dkt.Uw),this.dkt).catch(this.ewt)},i.fEt=function(){this.dkt.jw()},i.dEt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,ut.all([t,n])];case 1:s.sent(),Zo(i),s.label=2;case 2:return(u=null==(e=r.pkt)?void 0:e.Cc)?[4,r._Et(u,i)]:[3,4];case 3:return s.sent()?[3,2]:[3,4];case 4:return[2]}}))}))()},i._Et=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:Zo(n),e=i.pkt,s.label=1;case 1:return i.Hyt.vdt.Tw!==rF.wW||void 0!==(null==(r=i.QAt(t))?void 0:r.Vyt)?[3,4]:[4,Ho(i.vEt.$St,n)];case 2:return s.sent(),[4,i.mEt()];case 3:return s.sent(),[3,1];case 4:return Zo(n),[4,i.mEt()];case 5:s.sent(),Zo(n),s.label=6;case 6:return e.Bpt()?[3,9]:[4,e.py(eF.Tft,n)];case 7:return s.sent(),[4,i.mEt()];case 8:return s.sent(),[3,6];case 9:return Zo(n),[4,i.mEt()];case 10:return s.sent(),Zo(n),(u=i.QAt(t))?i.gEt(u)?[4,i.pEt(u,n)]:[3,12]:(i.a3(),[2,!1]);case 11:return s.sent(),[3,14];case 12:return[4,i.wEt(u,n)];case 13:s.sent(),s.label=14;case 14:return[2,!0]}}))}))()},i.gEt=function(t){var n,i,r,e,u,s=null!=(u=null==(n=this.Sc)?void 0:n.seamlessSwitchStrategy)?u:GA.JB;if(s===GA.$B)return!0;if(s===GA.tO)return!1;var o=this.pkt,a=null==o?void 0:o.Cc,c=null==o?void 0:o.$pt,h=QW(t,this.fft(t),a,c,this.Lpt),f=this.wkt(t,h,a,c,!1);if(s===GA.CLEAR_ONLY&&((null==(i=this.pkt)?void 0:i.upt)||f)||s===GA.SAME_DRM_ONLY&&!((null==(r=this.pkt)?void 0:r.upt)&&f||!(null==(e=this.pkt)?void 0:e.upt)&&!f))return!1;var v=this.ykt(h,f);return this.QTt(v)},i.yEt=function(){return!0},i.bEt=function(t){for(var n=this.AEt(),i=0;i<n.length;i++){var r=n[i];r!==t&&(r.CE=Hp.Mh)}},i.Tkt=function(){if(void 0!==this.SEt){if(this.SEt.FC){var t=mo(this.ht.lC,(function(t){return t.Rt}));void 0!==t&&this.SEt.gs===t.gs||(this.SEt.CE=Hp.Mh)}}else this.TEt()},i.TEt=function(){if(!this.AEt().length){var t=mo(this.ht.lC,(function(t){return t.Rt}));if(void 0!==t)for(var n=this.nt.lC.filter((function(t){return t.FC})),i=0;i<n.length;i++){var r=n[i];if(r.gs===t.gs)return r.CE=Hp.Qn,void(this.SEt=r)}}},i.AEt=function(){return this.nt.lC.filter((function(t){return t.CE===Hp.Qn&&(t.Lt===ty.$V||t.Lt===ty.JV)}))},i.kEt=function(t){if(t&&this.SEt){var n=function(t,n){if(""!==t.gs)return n.filter((function(n){return n.gs===t.gs}))[0]}(this.SEt,t.nt.lC);n&&(n.CE=Hp.Qn)}},i.pEt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:u=i.pkt,s=i.Pkt,o=i.kkt,g.label=1;case 1:return g.trys.push([1,16,,22]),Zo(n),a=u.Cc,c=u.$pt,h=i.fft(t),f=QW(t,h,a,c,i.Lpt),v=i.wkt(t,f,a,c,!1),f.forEach((function(t){return t.Rt=!0})),l=i.ykt(f,v),[4,u.Xat()];case 2:return g.sent(),i.J2(),Zo(n),s&&s.Cc===t?i.QTt(l)?[4,i.tkt(l)]:[3,4]:[3,5];case 3:g.sent(),g.label=4;case 4:return i.kkt=l,[3,11];case 5:return s?[4,s.yn(!0)]:[3,7];case 6:g.sent(),g.label=7;case 7:return i.QTt(l)?[4,i.tkt(l)]:[3,9];case 8:g.sent(),g.label=9;case 9:return i.kkt=l,[4,i.ukt(t,h,f,v)];case 10:s=g.sent(),i.Pkt=s,i.oEt(s),i.EEt.vC=s.nt,s.Yat(u),g.label=11;case 11:return[4,s.qat()];case 12:g.sent(),Zo(n),g.label=13;case 13:return i.xkt<t.Sn?[4,i.WB.py(va.hb,n)]:[3,15];case 14:return g.sent(),[3,13];case 15:return Zo(n),i.uEt(s),[3,22];case 16:return jo(d=g.sent())?s?[4,s.Xat()]:[3,18]:[3,21];case 17:g.sent(),g.label=18;case 18:return o&&i.kkt!==o?i.QTt(o)?[4,i.tkt(o)]:[3,20]:[3,21];case 19:g.sent(),g.label=20;case 20:i.kkt=o,g.label=21;case 21:throw d;case 22:return(null==(e=i.Sc)||null==(r=e.dash)?void 0:r.forceSeekToSynchronize)?[4,i.xEt(t,n)]:[3,24];case 23:g.sent(),g.label=24;case 24:return[2]}}))}))()},i.xEt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return r=Date.now()/1e3,void 0!==i.REt?[3,1]:(i.REt=r,[3,5]);case 1:if(!(r-i.REt>900))return[3,5];i.REt=r,i.Ekt(),e=A.max(i.xkt,t.Sn),u.label=2;case 2:return u.trys.push([2,,4,5]),[4,i.Rkt(e,!1,!0,n)];case 3:return u.sent(),[3,5];case 4:return i.Ikt(),[7];case 5:return[2]}}))}))()},i.wEt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:return Zo(n),[4,i.pkt.Xat()];case 1:return g.sent(),i.J2(),[4,i.rkt(t.Sn)];case 2:g.sent(),Zo(n),i.a3(),g.label=3;case 3:return!i.WB.PR&&i.xkt<t.Sn?[4,i.WB.py([va.hb,va.Dy],n)]:[3,5];case 4:return g.sent(),[3,3];case 5:return Zo(n),r=i.pkt.Cc,e=i.pkt.$pt,u=i.fft(t),s=QW(t,u,r,e,i.Lpt),o=i.wkt(t,s,r,e,!0),s.forEach((function(t){return t.Rt=!0})),a=i.ykt(s,o),i.pkt?(i.IEt.vn(Cg.da,i.CEt),[4,i.pkt.yn()]):[3,7];case 6:g.sent(),i.IEt.bn(Cg.da,i.CEt),i.pkt=void 0,g.label=7;case 7:return i.Pkt?[4,i.Pkt.yn()]:[3,9];case 8:g.sent(),i.Pkt=void 0,g.label=9;case 9:return i.Ekt(),i.d8(),c=A.max(i.xkt,t.Sn),[4,i.ikt()];case 10:return g.sent(),[4,i.wp(a)];case 11:return g.sent(),i.kkt=a,[4,i.ukt(t,u,s,o)];case 12:h=g.sent(),i.uEt(h),g.label=13;case 13:g.trys.push([13,,20,21]),f={stack:[],error:void 0,hasError:!1},g.label=14;case 14:return g.trys.push([14,17,18,19]),na(v=i.Rkt(c,!1,!0,n)),[4,h.qat()];case 15:return g.sent(),l=Yt(f,Qo.$w([n]),!1),[4,ut.race([v,h.py([eF.Tft],l.Uw)])];case 16:return g.sent(),[3,19];case 17:return d=g.sent(),f.error=d,f.hasError=!0,[3,19];case 18:return Kt(f),[7];case 19:return[3,21];case 20:return i.g8(),i.Ikt(),[7];case 21:return[2]}}))}))()},i.mEt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(n=t.Pkt)?n.Cc.mat?[4,n.yn(!0)]:[3,2]:[2];case 1:i.sent(),t.Pkt=void 0,i.label=2;case 2:return[2]}}))}))()},i.fft=function(t){for(var i=[],r=[],e=0,u=t.Ppt;e<u.length;e++){var s=u[e];if(em(s.Tw))if(0===s.Jat.length)this._o(new iF("No supported representation found in the AdaptationSet with mimetype : "+s.Tw));else if(s.Tw===rm.vE){var o;(o=i).push.apply(o,Ut(s.gft))}else{var a;(a=r).push.apply(a,Ut(s.gft))}}var c=[];return i.length>0&&c.push(n.PEt(rm.vE,i)),r.length>0&&c.push(n.PEt(rm.mE,r)),c},i.ykt=function(t,n){var i,r,e,u,s,o,a,c,h,f=this,v=t.map((function(t){var n;return AL.Blt(null!=(n=t.Udt)?n:t.Jat,DA(t.Cat,f.Lpt))})).map((function(t){return{Mk:t.Mk}})),l=null==(r=this.Sc)||null==(i=r.dash)?void 0:i.desiredTimescale,d=(null==(e=this.Sc)?void 0:e.seamlessSwitchStrategy)!==GA.tO&&(null==(u=this.Sc)?void 0:u.seamlessSwitchStrategy)!==GA.CLEAR_ONLY&&(null==(s=this.Sc)?void 0:s.seamlessSwitchStrategy)!==GA.SAME_DRM_ONLY&&(null!=(h=null==(a=this.Sc)||null==(o=a.dash)?void 0:o.needsTimescaleShifting)?h:qn.Ys.ap),g=null==(c=this.Sc)?void 0:c.useManagedMediaSource;return{Tw:Ey.wW,g4:v,sH:Nj(n),_9:null==n?void 0:n._9,ap:d,r3:l,C4:g}},i.wkt=function(t,i,r,e,u){var s,o,a,c=this.Sc.contentProtection,h=n.DEt(i,c);if(void 0!==h)return h;var f=null!=(a=null==(s=this.Sc)?void 0:s.seamlessSwitchStrategy)?a:GA.JB;if(f!==GA.tO&&f!==GA.CLEAR_ONLY&&f!==GA.SAME_DRM_ONLY){var v=null==(o=this.pkt)?void 0:o.upt;if(!u&&void 0!==v){var l=!v._9;if(f===GA.JB&&l&&!this.yEt())return;return v}var d=!u&&f===GA.JB;if(void 0!==(h=this.NEt(t,c,r,e,d)))return h._9=!0,h}},i.NEt=function(t,i,r,e,u){for(var s=t,o=!1;;)if(void 0!==(s=o?this.JAt(s):this.QAt(s))){var a=QW(s,this.fft(s),r,e,this.Lpt),c=n.DEt(a,i);if(u){var h=this.ykt(a,c);if(!this.QTt(h))return}if(void 0!==c)return c}else{if(o)return;o=!0,s=t}},i.aEt=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.dH.cW(i)}Ty(this.dH.Z)},i.EI=function(){var t,n=this.KR;this.Vkt=!0,n||(this.M9||(this.MEt(new Wo),this.LEt()),(null==(t=this.ZG)?void 0:t.wB)&&this.ZG.RI(),this.BEt())},i.xI=function(){this.OEt||(this.OEt=new Kc),this.FEt();var t=this.OEt.Ub;return na(t),t},i.FEt=function(){if(this.Vkt=!1,this.X9=!0,this.VEt=!1,this.Hkt(),this.PR){var t=this.Mkt;t.V>0&&this.Rb(t.Sn(0))}this.M9||this.q9().then(this.WEt,this.MEt),this.ckt(),this.BEt()},i.q9=function(){return this.WB.xI()},i.LEt=function(){this.WB.EI()},i.d8=function(){this.M9||(this.Vkt=this.KR,this.M9=!0,this.LEt())},i.g8=function(){this.M9&&(this.M9=!1,this.Vkt||this.q9().then(this.WEt,this.MEt),this.ckt(),this.BEt())},i.BEt=function(){var t=this.MW,n=this.KR;t!==n&&(this.MW=n,n?this._o(new yT(this.ER)):this._o(new _T(this.ER)))},i.Rb=function(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=oj.dTt),this.cEt=!0,this.dkt.jw(),this.r8.jw(),this.cZ=!0,this.P9=t,this.VEt=this.VEt&&this.D9(),this.Gkt(this.Ukt),this.UEt(new TT(this.ER)),this.r8=new Qo,this.o8=zo(this.h8(t,this.mkt,this.o8,this._kt,this.r8.Uw,n,i),this.r8).catch(this.ewt),this.o8},i.GEt=function(){this.r8.jw()},i.h8=function(t,n,i,r,e,u,s,o){void 0===u&&(u=!1),void 0===s&&(s=oj.dTt),void 0===o&&(o=!1);var a=this;return Zt((function(){var c,h,f,v,l,d,g,m,w,p,y,_,b,k,A,T,S,E;return Ht(this,(function(I){switch(I.label){case 0:null==(c=a.ZG)||c.RI(),0,I.label=1;case 1:return I.trys.push([1,30,,31]),[4,ut.all([n,i,r])];case 2:return I.sent(),Zo(e),[4,Ho(a.gkt.Ub,e)];case 3:return I.sent(),v=a.Mkt.KL(t),a.P9=v,l=o||(null==(f=a.Sc)||null==(h=f.dash)?void 0:h.forceHardSwitchWhenSeekingBackwards)&&v<=a.ER,d=a.HEt(v),g=a.pkt,l||!g||!g.hI.wr(v)&&s!==oj.fTt&&g.Cc!==d?[3,8]:!(m=a.Pkt)||m.Hpt?[3,7]:[4,m.Xat()];case 4:return I.sent(),a.J2(),w=a.ykt(g.twt,g.upt),a.QTt(w)?[4,a.tkt(w)]:[3,6];case 5:I.sent(),I.label=6;case 6:a.kkt=w,I.label=7;case 7:return[3,27];case 8:return d?(p=a.Pkt,a.d8(),g?[4,g.Xat()]:[3,10]):[3,27];case 9:I.sent(),I.label=10;case 10:return!p||p.Cc!==d||l?[3,13]:(y=a.ykt(p.twt,p.upt),a.J2(),a.QTt(y)?[4,a.tkt(y)]:[3,12]);case 11:I.sent(),I.label=12;case 12:return a.kkt=y,[3,25];case 13:return p?[4,p.yn(!0)]:[3,15];case 14:I.sent(),I.label=15;case 15:return _=a.fft(d),b=null==g?void 0:g.Cc,k=null==g?void 0:g.$pt,A=QW(d,_,b,k,a.Lpt),T=a.wkt(d,A,b,k,!1),A.forEach((function(t){return t.Rt=!0})),S=a.ykt(A,T),!a.gEt(d)||l?[3,18]:(a.J2(),a.QTt(S)?[4,a.tkt(S)]:[3,17]);case 16:I.sent(),I.label=17;case 17:return[3,23];case 18:return T=a.wkt(d,A,b,k,!0),S=a.ykt(A,T),g?(a.IEt.vn(Cg.da,a.CEt),[4,g.yn()]):[3,20];case 19:I.sent(),a.IEt.bn(Cg.da,a.CEt),a.pkt=void 0,I.label=20;case 20:return[4,a.ikt()];case 21:return I.sent(),[4,a.wp(S)];case 22:I.sent(),I.label=23;case 23:return a.kkt=S,[4,a.ukt(d,_,A,T)];case 24:p=I.sent(),a.Pkt=p,a.EEt.vC=p.nt,a.oEt(p),p.Yat(a.pkt),I.label=25;case 25:return[4,p.qat(SO.xht)];case 26:return I.sent(),a.uEt(p),[3,27];case 27:return na(E=a.Rkt(v,u,!1,e)),a.P9=void 0,[4,a.pkt.qat(SO.xht)];case 28:return I.sent(),Zo(e),a.Skt(),[4,E];case 29:return I.sent(),Zo(e),a.g8(),a.cZ=!1,a.ZEt(new ST(a.ER)),a.lEt(),[3,31];case 30:return jo(I.sent())?[2]:[3,31];case 31:return[2]}}))}))()},i.lEt=function(){if(!this.KR&&!this.uI&&void 0!==this.KB){var t,n,i=this.ER;if(this.ER+this.KB-this.yI.kd.maximumOffset<i)null==(t=this.ZG)||t.Sn();else null==(n=this.ZG)||n.RI()}},i.Rkt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,l;return Ht(this,(function(d){switch(d.label){case 0:u=!0,s=t,d.label=1;case 1:0,c={stack:[],error:void 0,hasError:!1},d.label=2;case 2:if(d.trys.push([2,4,5,6]),(h=e.zkt).V>0&&(f=h.KL(t),s!==f&&(h.wr(s)&&e.Hyt.vdt.Tw===rF.wW||(s=f,u=!0))),u)u=!1,null==a||a.jw(),(a=new Qo).Qw(r),na(o=zo(e.XEt(s,n,i,a.Uw),a));else if(!e.qkt&&!e.M4)return[3,7];return v=Yt(c,Qo.$w([r]),!1),[4,ut.race([o,e.py([va.$y,va.Iy],v.Uw),e.Hyt.vdt.py(RO.fat,v.Uw)])];case 3:return d.sent(),[3,6];case 4:return l=d.sent(),c.error=l,c.hasError=!0,[3,6];case 5:return Kt(c),[7];case 6:return[3,1];case 7:return[2]}}))}))()},i.XEt=function(t,n,i,r){var e=this;return Zt((function(){return Ht(this,(function(u){switch(u.label){case 0:e.WB.Rb(t,n,i),u.label=1;case 1:return e.qkt||e.M4?[4,e.WB.py([va.Qy,va.Vy],r)]:[3,3];case 2:return u.sent(),[3,1];case 3:return[2]}}))}))()},i.Ekt=function(){void 0===this.Dkt&&(this.Dkt=this.xkt,this.WB.vn(va.Jy,this.UEt),this.WB.vn(va.Qy,this.ZEt))},i.Ikt=function(){if(void 0!==this.Dkt){var t=this.xkt;this.Dkt=void 0,this.WB.bn(va.Jy,this.UEt),this.WB.bn(va.Qy,this.ZEt),this.xkt!==t&&this.Tc()}},i.zEt=function(t){this.Uo=this.Uo.tB(t)},i.HEt=function(t){var n=this.Hyt.vdt,i=n.Gpt.filter((function(t){return t.ct>=.2}));if(0!==i.length){var r=i[0];if(t<=r.Sn)return r;for(var e=0;e<i.length;e++){var u=i[e];if(u.Tn>t)return u}return n.Tw!==rF.wW?i[i.length-1]:void 0}},i.JAt=function(t){for(var n=t.rwt;n&&n.ct<.2;)n=n.rwt;return n},i.QAt=function(t){for(var n=t.owt;n&&n.ct<.2;)n=n.owt;return n},i.Ca=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:e={stack:[],error:void 0,hasError:!1},v.label=1;case 1:return v.trys.push([1,8,9,10]),r.hH.kG(t.contentProtection),r.qEt(),!r.Sc||fT(r.Sc)?[3,3]:[4,r.nr()];case 2:v.sent(),v.label=3;case 3:return!t||fT(t)?[2]:(s=Yt(e,Qo.$w([i]),!1),r.vW=Qo.$w([s.Uw]),r.Sc=t,r.YEt=n,r.Lpt=t.abr,r.wpt=t.ignoreEmbeddedTextTrackTypes,o=new cj(r.fW,Boolean(r.Sc.useCredentials),r.edt),a=lj(o,r.zut),r.BSt(!0),r.vEt=new YW({VC:qn.Ih(r.Sc.src),GSt:null!=(c=null==(u=r.Sc.latencyConfiguration)?void 0:u.targetOffset)?c:r.Sc.liveOffset,qSt:r.Sc.timeServer,xE:r.Sc.useCredentials},r.KEt(r.Lpt),r.fW,a,r.Sc.dash),r.Hyt=r.vEt.Er,r.Hyt.vdt.bn(va.Uy,r.jEt),r.Hyt.vdt.bn(va.Gy,r.QEt),r.Hyt.vdt.bn(SW.oSt,r.JEt),r.Hyt.vdt.bn(RO.fat,r.ckt),[4,r.$Et.$n(r.Hyt.vdt)]);case 4:return v.sent(),[4,r.txt.$n(r.Hyt.vdt)];case 5:return v.sent(),To(r.wpt,Dm.EMSG)?[3,7]:(r.spt=new jj(r.lW),r.Hl.MG(r.spt.Z),[4,r.spt.$n(r.Hyt.vdt)]);case 6:v.sent(),v.label=7;case 7:return t.latencyConfiguration&&(h=t.latencyConfiguration,r.ZG=new Xj(r,r.WB,h),r.ZG.Rt=!0,r.tH.Aa(r.ZG)),r.Hkt(),s.Xw(),[3,10];case 8:return f=v.sent(),e.error=f,e.hasError=!0,[3,10];case 9:return Kt(e),[7];case 10:return[2]}}))}))()},i.ixt=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return n=t.Hyt.vdt.qR,t.BSt(n),n?(t.nEt(),[3,3]):[3,1];case 1:return[4,ut.all([null==(i=t.pkt)?void 0:i.Xat(SO.Ght),null==(r=t.Pkt)?void 0:r.Xat(SO.Ght)].filter(Yn))];case 2:e.sent(),t.fEt(),t.GEt(),t.fkt.jw(),e.label=3;case 3:return[2]}}))}))()},i.BSt=function(t){this.LSt!==t&&(this.LSt=t,this._o(t?new gj:new mj))},i.Hkt=function(){this.Hyt&&(this.sxt=this.nxt(this.sxt,this.vW.Uw).catch(this.ewt))},i.nxt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return t?[4,t]:[3,2];case 1:e.sent(),Zo(n),e.label=2;case 2:return e.trys.push([2,7,,8]),i.iI===iS.JB||i.X9?[4,i.rxt(n)]:[3,4];case 3:return e.sent(),[3,6];case 4:return i.iI!==iS.eW?[3,6]:[4,i.oxt(n)];case 5:return e.sent(),[3,6];case 6:return[3,8];case 7:throw Xo(r=e.sent()),i.BH(new ol(ul.MANIFEST_LOAD_ERROR,r.message,r)),r;case 8:return[2]}}))}))()},i.rxt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.oxt(t)];case 1:r.sent(),n.hxt||(n.hxt=!0,n.gkt.Qw(n.$n(n.YEt,t))),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,n.gkt.Ub];case 3:return r.sent(),[3,5];case 4:return Xo(i=r.sent()),n.BH(new ol(ul.MEDIA_DECODE_ERROR,i.message,i)),[3,5];case 5:return[2]}}))}))()},i.oxt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,Ho(n.vEt.W,t)];case 1:return a.sent(),i=n.Hyt.vdt,void 0===n.ZG&&i.Tw===rF.wW&&(r=i.Dyt,e=(null==r?void 0:r.fSt)?(null==r?void 0:r.fSt)/1e3:i.WSt,u=(null==r?void 0:r.cSt)?(null==r?void 0:r.cSt)/1e3:.5*e,s=(null==r?void 0:r.dSt)?(null==r?void 0:r.dSt)/1e3:1.5*e,o={minimumOffset:u,maximumOffset:s,targetOffset:e,forceSeekOffset:2.5*e,minimumPlaybackRate:LA,maximumPlaybackRate:FA},n.ZG=new Xj(n,n.WB,o),n.tH.Aa(n.ZG)),[2]}}))}))()},i.uEt=function(t){var i=this.pkt;t!==i&&(this.pkt&&this.rEt(this.pkt),this.Pkt&&this.hEt(this.Pkt),i&&this.Gkt(this.Ukt),this.pkt=t,this.Pkt=i,this.Jkt(this.pkt),this.Pkt&&this.oEt(this.Pkt),this.cO.vC=t.ht,this.dO.vC=t.rt,this.kEt(t),this.IEt.vn(Cg.da,this.CEt),n.axt(this.IEt),this.IEt.bn(Cg.da,this.CEt),this.IEt.vC=t.nt,this.EEt.vC=void 0,this.TEt())},i.ge=function(){this.WB.ge()},i.be=function(){this.WB.be()},i.BH=function(t){this.YG||(na(this.nr()),this.YG=cm(t),this.KG=t,this._o(new Ik(t)))},i.qEt=function(){this.YG=void 0,this.KG=void 0},i.JTt=function(){var t=this.JG;t&&(t.a4&&(t.a4.bj=this.gZ.Dj),t.h4&&(t.h4.bj=this.gZ.Dj))},i.$Tt=function(){var t=this.JG;t&&(t.a4&&(t.a4.Ej=this.gZ.Ej),t.h4&&(t.h4.Ej=this.gZ.Ej))},i.determineStallJumpTarget=function(){if(this.pkt)return this.pkt.Bpt()&&this.ER>this.pkt.Tn-fN&&!this.pkt.Upt?this.pkt.Tn:void 0},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(t.uxt)return[2,t.uxt];n.label=1;case 1:return n.trys.push([1,,3,4]),t.uxt=t.cxt(),[4,t.uxt];case 2:return n.sent(),[3,4];case 3:return t.uxt=void 0,[7];case 4:return[2]}}))}))()},i.cxt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.QR=1,t.vW.jw(),t.GEt(),t.fEt(),t.fkt.jw(),t.gkt.jw(),t.cEt=!1,t.EI(),t.X9=!1,t.VEt=!1,t.cO.vC=void 0,t.dO.vC=void 0,t.IEt.vC=void 0,t.EEt.vC=void 0,t.sxt?[4,t.sxt.catch(Si)]:[3,2];case 1:n.sent(),t.sxt=void 0,n.label=2;case 2:return[4,ut.all([t.mkt,t.o8,t._kt,t.gkt.Ub.catch(Si)])];case 3:return n.sent(),t.pkt?[4,t.pkt.yn(!0)]:[3,5];case 4:n.sent(),t.pkt=void 0,n.label=5;case 5:return t.Pkt?(t.hEt(t.Pkt),[4,t.Pkt.yn(!0)]):[3,7];case 6:n.sent(),t.Pkt=void 0,n.label=7;case 7:return[4,t.ikt()];case 8:return n.sent(),t.kkt=void 0,t.SEt=void 0,t.mH.nr(),[4,t.$Et.nr()];case 9:return n.sent(),[4,t.txt.nr()];case 10:return n.sent(),void 0===t.spt?[3,12]:(t.Hl.FG(t.spt.Z),[4,t.spt.yn()]);case 11:n.sent(),t.spt=void 0,n.label=12;case 12:return t.lW.nr(),t.Hyt?(t.Hyt.vdt.vn(va.Uy,t.jEt),t.Hyt.vdt.vn(va.Gy,t.QEt),t.Hyt.vdt.vn(SW.oSt,t.JEt),[4,t.vEt.yn()]):[3,14];case 13:n.sent(),t.Hyt=void 0,n.label=14;case 14:return t.Zkt=!1,t.lxt=NaN,t.dxt=0,t.fxt=0,t.Dkt=void 0,t.M9=!1,t.Uo=BA.pB(),t.MW=!0,t.P9=void 0,t._xt=!1,t.cZ=!1,t.hxt=!1,t.gkt=new Kc,t.Bkt=0,t.Okt=0,t.Fkt=0,t.Sc=void 0,t.YEt=void 0,t.wpt=[],t.REt=void 0,t.tH.nr(),t.ZG=void 0,t.skt={_O:0,vO:0,mO:0},[4,t.dH.nr()];case 15:return n.sent(),t.WB.vH(),t.vxt.nr(),[2]}}))}))()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),t.qEt(),[4,t.nr()];case 1:return n.sent(),t.Ro(),t.cO.yn(),t.dO.yn(),t.IEt.yn(),t.EEt.yn(),t.Hl.yn(),t.mH.yn(),t.mxt.Xw(),[4,t.$Et.yn()];case 2:return n.sent(),[4,t.txt.yn()];case 3:return n.sent(),t.lW.yn(),t.vxt.yn(),t.WB.vn(va.Iy,t.o7),t.WB.vn(pa.Py,t.y9),t.WB.vn(va.Dy,t.gxt),t.WB.vn(va.Jy,t.UEt),t.WB.vn(va.Qy,t.ZEt),t.WB.vn(va.jy,t.sEt),t.WB.vn(va.hb,t.Tc),t.WB.vn([va.ho,va.zy],t.pxt),t.WB.vn(Hj,t.Ds),[4,t.dH.yn()];case 4:return n.sent(),t.Hl.yn(),t.gZ.vn("yj",t.wxt),t.gZ.vn("Tj",t.yxt),t.WB.vn(Yp.fa,t.bxt),t.WB.vn([va.Ey,va.Ty],t.Ds),t.WB.vn(va.vb,t.awt),t.WB.wH=void 0,t.hH.vn("contentProtectionsTracked",t.Axt),t.WB.T7=void 0,[2]}}))}))()},i.SI=function(){return this.WB.Sa},i.ja=function(){return this.WB.fH},i.II=function(){return!1},i.CI=function(){},i.DI=function(){},i.NI=function(){},i.MI=function(){this.lkt(!0)},i.OI=function(t){var n=this.WB._H(t);return this.vxt.tt(n),n},n.PEt=function(t,n){for(var i=[],r=[],e=!n.some((function(t){return t.vft.some((function(t){return"main"===t.Mx}))})),u=0;u<n.length;u++){var s=n[u];if(-1===i.indexOf(s)){var o=Kj(s.Rdt.concat(s.vft),e);e=!1;for(var a=s.Jat.map((function(t){return t.pat})),c=new JL(s,a,o),h=qj(s,n),f=0;f<h.length;f++){var v=h[f];c.Hdt(v),i.push(v)}r.push(c)}}return new qW(t,r)},n.DEt=function(t,n){if(t.length){for(var i,r=0;r<t.length;r++){var e=t[r],u=0===e.zdt.length;i=Tj(i,Rj(e.Act,n,u))}return(null==n?void 0:n.preferredKeySystems)&&i&&(i.cpt=Pj(i.cpt,n.preferredKeySystems)),i}},n.axt=function(t){for(var n=0,i=t.lC;n<i.length;n++){i[n].CE=Hp.Mh}},xt(n,[{key:"ht",get:function(){return this.cO}},{key:"XG",get:function(){var t=this.xkt,n=this.Ckt,i=n.sB(t);if(-1!==i)return{Sn:n.Sn(i),Tn:n.Tn(i)}}},{key:"Ckt",get:function(){var t,n,i,r,e=null!=(i=null==(t=this.pkt)?void 0:t.wR)?i:BA.pB(),u=null!=(r=null==(n=this.Pkt)?void 0:n.wR)?r:BA.pB();return e.tB(u)}},{key:"wR",get:function(){return this.Ckt.ks()}},{key:"bR",get:function(){var t,n=null==(t=this.Hyt)?void 0:t.vdt,i=null==n?void 0:n.byt;if(n&&i){var r=i.getTime(),e=1e3*this.ER;return new Date(e+r)}},set:function(t){var n,i=null==(n=this.Hyt)?void 0:n.vdt,r=null==i?void 0:i.byt;if(t&&i&&r){var e=r.getTime()/1e3,u=t.getTime()/1e3;this.Rb(u-e)}}},{key:"bt",get:function(){return this.Sc}},{key:"xkt",get:function(){return void 0!==this.P9?this.P9:void 0!==this.Dkt?this.Dkt:this.WB.ER}},{key:"ER",get:function(){return this.xkt},set:function(t){this.RR(t)}},{key:"ct",get:function(){var t=NaN;return this.pkt&&this.pkt.Upt?t=this.pkt.Tn:this.Hyt&&void 0!==this.Hyt.vdt.Tw&&(t=this.Hyt.vdt.Eyt?this.Hyt.vdt.Eyt.cwt():1/0),t}},{key:"Tn",get:function(){return this.ct}},{key:"PR",get:function(){return this.uI?this.D9():!(!this.pkt||!this.pkt.Upt)&&this.WB.PR}},{key:"lt",get:function(){return this.YG}},{key:"MR",get:function(){return this.KG}},{key:"OR",get:function(){}},{key:"GR",get:function(){return ss({},this.nkt,{gO:Nk.Vg.cG(),pO:this.Bkt,wO:{amountOfBufferedAudioSegments:this.Okt,amountOfBufferedVideoSegments:this.Fkt}})}},{key:"nkt",get:function(){return function(t,n){return{_O:t._O+n._O,vO:t.vO+n.vO,mO:t.mO+n.mO}}(this.skt,this.WB.HR())}},{key:"ZR",get:function(){return this.WB.ZR},set:function(t){this.WB.ZR=t}},{key:"KR",get:function(){return this.M9?this.Vkt:this.pkt&&this.pkt.Upt?this.Wkt:this.Vkt}},{key:"QR",get:function(){return this.WB.QR},set:function(t){this.WB.QR=t}},{key:"tI",get:function(){var t=this.Uo;return this.pkt&&(t=t.tB(this.Ukt)),t.$L(.1).ks()}},{key:"Ukt",get:function(){return this.WB.tI}},{key:"iI",get:function(){return this.QG},set:function(t){this.QG=t,this.Hkt()}},{key:"rI",get:function(){var t=this.WB.rI;return this.Zkt&&(t=A.max(Ny.Xn,t)),t}},{key:"Mkt",get:function(){return this.Xkt(!1)}},{key:"zkt",get:function(){return this.Xkt(!0)}},{key:"hI",get:function(){return this.Mkt.ks()}},{key:"uI",get:function(){return this.cZ||this.qkt}},{key:"qkt",get:function(){return this.WB.uI}},{key:"M4",get:function(){return this.WB.M4}},{key:"$G",get:function(){}},{key:"Ykt",get:function(){var t,n;return null!=(n=null==(t=this.Hyt)?void 0:t.vdt.Tw)?n:rF.pW}},{key:"nt",get:function(){return this.Hl}},{key:"rt",get:function(){return this.dO}},{key:"dI",get:function(){var t;return this.Kkt||(null==(t=this.jkt())?void 0:t.Ti)||0}},{key:"vI",get:function(){var t;return this.Qkt||(null==(t=this.jkt())?void 0:t.ji)||0}},{key:"gI",get:function(){return this.WB.gI},set:function(t){this.WB.gI=hr(t,0,1)}},{key:"yI",get:function(){return this.tH}},{key:"AI",get:function(){return!1},set:function(t){}},{key:"eH",get:function(){return this.iH}},{key:"Wkt",get:function(){return this.WB.KR}},{key:"qR",get:function(){return this.LSt}},{key:"WR",get:function(){return!1}},{key:"KB",get:function(){var t,n=null==(t=this.Hyt)?void 0:t.vdt;if(n&&n.Tw===rF.wW&&n.byt)return n._dt().getTime()/1e3-n.byt.getTime()/1e3-this.ER}}]),n}(aa),Yj=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).na=n,r}return Rt(n,t),n.prototype.Sxt=function(){this._o(new Cy(this.ER,this.rI))},xt(n,[{key:"rI",get:function(){return this.na.rI}}]),n}(Vy);function Kj(t,n){var i=t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.c9})).map((function(t){return t.Mx})).filter(Yn);return n||To(i,"main")?To(i,"caption")?"captions":To(i,"subtitle")?"subtitles":To(i,"dub")?"translation":"main":To(i,"sign")?"sign":To(i,"description")?"descriptions":To(i,"commentary")?"commentary":"alternative"}function qj(t,n){for(var i,r,e=function(t){var i=s[t],r=Number(i),e=mo(n,(function(t){return t.o===r}));e&&o.push(e)},u=mo(Ut(t.Lwt).concat(Ut(t.Bwt)),(function(t){return"urn:mpeg:dash:adaptation-set-switching:2016"===t.c9})),s=null!=(r=null==u||null==(i=u.Mx)?void 0:i.split(","))?r:[],o=[],a=0;a<s.length;a++)e(a);return o}var Jj=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,r,e,u,s,new nO(o))||this).rot=o,Gn.eg&&(a.kxt=new wO(a)),a}Rt(n,t);var i=n.prototype;return i.TI=function(){if($B(this.WB))return this.WB.TI()},i.yn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return r.sent(),null==(i=n.kxt)||i.yn(),[2]}}))}))()},i.gEt=function(n){var i,r;return((null!=(r=null==(i=this.Sc)?void 0:i.seamlessSwitchStrategy)?r:GA.JB)!==GA.JB||!Gn.Sg)&&t.prototype.gEt.call(this,n)},i.yEt=function(){return!(Gn.Cm&&Gn.Dm<3)&&t.prototype.yEt.call(this)},i.Txt=function(){return new iO(this,new Jx)},i.KEt=function(t){return tO(t)},xt(n,[{key:"Kkt",get:function(){return $B(this.WB)?this.WB.dI:0}},{key:"Qkt",get:function(){return $B(this.WB)?this.WB.vI:0}}]),n}(zj),Qj=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new mO(s),f=h.OH(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).bH=h,c}return Rt(n,t),n.prototype.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),[4,n.bH.yH(n.WB)];case 2:return i.sent(),[2]}}))}))()},n}(Jj);function $j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt(),U(),St(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var tZ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).sx=n,r}Rt(n,t);var i=n.prototype;return i.yR=function(){return t.prototype.yR.call(this).xb(this.Ext)},i.Pot=function(){return t.prototype.Pot.call(this).xb(this.Ext)},i.g2=function(n,i,r){var e=this.Ext;return t.prototype.g2.call(this,n,{wit:i.wit-e,ct:i.ct,BV:i.BV-e},r)},i.F2=function(n,i){var r=this.Ext;return t.prototype.F2.call(this,A.max(0,n-r),A.max(0,i-r))},i.eT=function(n,i,r){var e=this.Ext;return t.prototype.eT.call(this,A.max(0,n-e),A.max(0,i-e),r)},i.A3=function(n,i){var r=this.Ext;t.prototype.A3.call(this,A.max(0,n-r),A.max(0,i-r))},i.S3=function(n,i){var r=this.Ext;t.prototype.S3.call(this,A.max(0,n-r),A.max(0,i-r))},xt(n,[{key:"Ext",get:function(){return this.sx.Ext}}]),n}(cO),nZ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Aot(i),r.sx=n,r}Rt(n,t);var i=n.prototype;return i.jd=function(){return t.prototype.jd.call(this)+this.Ext},i.d4=function(n){t.prototype.d4.call(this,n-this.Ext)},i.aI=function(){return t.prototype.aI.call(this).xb(this.Ext)},i.m4=function(n,i,r,e){var u=this.Ext;t.prototype.m4.call(this,n-u,i-u,r,e)},i.Tot=function(t){return new tZ(this,t)},xt(n,[{key:"Ext",get:function(){return this.sx.Ext}}]),n}(oO),iZ=function(t){function n(n){var i;return(i=t.call(this,n)||this).xxt=0,i.lW=new iO(i,new Jx),i.Hl=new Ok([i.lW.nt,t.prototype.lI.call($j(i))]),i.Ket=new BD,i.Ket.S7(i.jG.parentElement),i.jet=new uM(i.Ket.we,i.Hu,i.Hl,i.Wl,i.Sa,i.fH),i}Rt(n,t);var i=n.prototype;return i.yR=function(){return t.prototype.yR.call(this).xb(this.xxt)},i.AR=function(){return rZ(t.prototype.AR.call(this),this.xxt)},i.xR=function(){return t.prototype.xR.call(this)+this.xxt},i.jd=function(){return t.prototype.jd.call(this)+this.xxt},i.eI=function(){return t.prototype.eI.call(this).xb(this.xxt)},i.aI=function(){return t.prototype.aI.call(this).xb(this.xxt)},i.Rb=function(n,i,r){var e=A.max(0,n-this.xxt);t.prototype.Rb.call(this,e,i,r)},i.zG=function(n){t.prototype.zG.call(this,rZ(n,-this.xxt))},i.lI=function(){return this.Hl},i.OI=function(t,n,i,r,e,u,s,o){return this.lW.OI(t,n,i,r,e,u,s,o)},i._H=function(t){return this.lW._H(t)},i.mW=function(t){this.lW.mW(t)},i.vH=function(){this.lW.nr(),t.prototype.vH.call(this)},i.uH=function(){return!1},i.lH=function(t,n,i,r,e){throw new y("Not supported")},i.Xw=function(){return this.jet.yn(),this.Ket.yn(),this.lW.yn(),this.Hl.yn(),t.prototype.Xw.call(this)},i.pot=function(t){return new nZ(this,t)},i.got=function(t){return new vO(t)},i.LI=function(n){var i;switch(n.type){case va.ho:i=new _T(n.currentTime+this.xxt);break;case va.zy:i=new yT(n.currentTime+this.xxt);break;case Iy.UL:i=new Oy(n.currentTime+this.xxt);break;case va.hb:i=new yg(n.currentTime+this.xxt,rZ(n.currentProgramDateTime,this.xxt));break;case va.qy:i=new JR(n.currentTime+this.xxt);break;case va.Jy:i=new TT(n.currentTime+this.xxt);break;case va.Qy:i=new ST(n.currentTime+this.xxt);break;case va.Oy:i=new kN(n.currentTime+this.xxt);break;case va.Vy:i=new yD(n.currentTime+this.xxt);break;case va.Dy:i=new AT(n.currentTime+this.xxt);break;case va.Yy:i=new kT(n.currentTime+this.xxt,n.playbackRate);break;case va.ub:i=new ET(n.currentTime+this.xxt,n.volume);break;case va.Iy:i=new bT(n.duration+this.xxt);break;case Iy.iC:i=new Cy(n.currentTime+this.xxt,n.readyState);break;default:i=n}t.prototype.LI.call(this,i)},i.be=function(){t.prototype.be.call(this),this.Ket.be()},i.ge=function(){t.prototype.ge.call(this),this.Ket.ge()},xt(n,[{key:"oot",get:function(){return this.WB}},{key:"Ext",get:function(){return this.xxt},set:function(t){this.xxt=t}}]),n}(lO);function rZ(t,n){return t?new Date(t.getTime()+1e3*n):void 0}var eZ=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.OH=function(n){if(n===rm.mE)return new iZ(t.prototype.OH.call(this,n))},i.yH=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,(r=n).Xw()];case 1:return e.sent(),[4,t.prototype.yH.call(i,r.oot)];case 2:return e.sent(),[2]}}))}))()},n}(rO),uZ=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new eZ(new mO(s)),f=h.OH(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).bH=h,c.Rxt=void 0,c}Rt(n,t);var i=n.prototype;return i.wp=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.wp.call(i,n)];case 1:return r.sent(),void 0===i.Rxt&&(i.Rxt=i.Ixt(),i.WB.Ext=i.Rxt),[2]}}))}))()},i.Ixt=function(){if(this.ct===1/0){var t=this.Mkt;if(t.V>0)return A.max(0,t.Sn(0)-300)}return 0},i.h8=function(n,i,r,e,u,s,o,a){return void 0===s&&(s=!1),void 0===o&&(o=oj.dTt),void 0===a&&(a=!1),a||(a=this.ct===1/0&&Gn.Cm&&Gn.Dm<3&&n<=this.ER),t.prototype.h8.call(this,n,i,r,e,u,s,o,a)},i.nr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.nr.call(n)];case 1:return i.sent(),n.Rxt=void 0,n.WB.Ext=0,[2]}}))}))()},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),[4,n.WB.Xw()];case 2:return i.sent(),[4,n.bH.yH(n.WB)];case 3:return i.sent(),[2]}}))}))()},n.yT=function(t){var n;return(!t||"google-dai"!==(null==t||null==(n=t.ssai)?void 0:n.integration))&&(Gn.Cm&&Gn.Dm<4)},n}(Jj);U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt(),Ct();var sZ=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),xt(n,[{key:"oot",get:function(){return this.WB}},{key:"dI",get:function(){return this.WB.dI}},{key:"vI",get:function(){return this.WB.vI}}]),n}(eO);U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt();var oZ=function(t){function n(n){var i;return(i=t.call(this,n)||this).t3=void 0,i.Cxt=void 0,i.Mj=0,i.Pxt=BA.pB(),i.Dxt=BA.pB(),i.Oxt=[],i.mit=!1,i.Bxt=!1,i.Pj=0,i.MT=n.kd,i}Rt(n,t);var i=n.prototype;return i.Rot=function(){return this.Cxt?this.Mj:t.prototype.Rot.call(this)},i.Iot=function(n){this.Cxt?this.Mj=n:t.prototype.Iot.call(this,n)},i.yR=function(){return this.Cxt?this.Pxt:t.prototype.yR.call(this)},i.mT=function(){return this.Cxt?this.MT:t.prototype.mT.call(this)},i.Pot=function(){return this.Cxt?this.Dxt:t.prototype.Pot.call(this)},i.Dot=function(){return this.Cxt?this.Pj:t.prototype.Dot.call(this)},i.Not=function(n){this.Cxt?this.Pj=n:t.prototype.Not.call(this,n)},i.g2=function(t,n,i){var r=this;return this.w2((function(i){return r.Nxt(t,n,i)}),i)},i.Nxt=function(n,i,r){return t.prototype.g2.call(this,n,i,r)},i.T3=function(){var t=this;return this.w2((function(){return t.Mxt()}))},i.Mxt=function(){return t.prototype.T3.call(this)},i.A2=function(t,n,i){var r=this;return this.w2((function(i){return r.Lxt(t,n,i)}),i)},i.Lxt=function(n,i,r){return t.prototype.A2.call(this,n,i,r)},i.RJ=function(){return this.Cxt?this.mit:t.prototype.RJ.call(this)},i.a3=function(){this.Cxt?this.Bxt=!0:t.prototype.a3.call(this)},i.A3=function(t,n){this.Cxt?(this.Dxt=this.Dxt.tB(new BA([t,n])),this.Oxt.push({Tw:"Fct",WO:t,UO:n})):this.Fxt(t,n)},i.Fxt=function(n,i){t.prototype.A3.call(this,n,i)},i.F2=function(t,n){var i=this;return this.w2((function(){return i.Vxt(t,n)}))},i.Vxt=function(n,i){return t.prototype.F2.call(this,n,i)},i.S3=function(t,n){this.Cxt?(this.Dxt=this.Dxt.iB(new BA([t,n])),this.Oxt.push({Tw:"eT",WO:t,UO:n})):this.Wxt(t,n)},i.Wxt=function(n,i){t.prototype.S3.call(this,n,i)},i.eT=function(t,n,i){var r=this;return this.w2((function(i){return r.Uxt(t,n,i)}),i)},i.Uxt=function(n,i,r){return t.prototype.eT.call(this,n,i,r)},i._J=function(t){var n=this;return this.w2((function(){return n.Gxt(t)}))},i.Gxt=function(n){return t.prototype._J.call(this,n)},i.w2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.q2(),i.Cxt?[4,Ho(i.Cxt.Ub,n)]:[3,2];case 1:r.sent(),i.q2(),r.label=2;case 2:Zo(n),r.label=3;case 3:return r.trys.push([3,,5,6]),i.t3=t(n),[4,i.t3];case 4:return r.sent(),[3,6];case 5:return i.t3=void 0,[7];case 6:return[2]}}))}))()},i.q2=function(){if(this.t3)throw new y("Internal error")},i.Hxt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(t.Cxt)throw new _("Already locked");return t.Cxt=new Kc,t.Zxt(),t.t3?[4,t.t3.catch(Si)]:[3,2];case 1:n.sent(),t.Zxt(),n.label=2;case 2:return[2]}}))}))()},i.Xxt=function(){var t;null==(t=this.Cxt)||t.Vb(),this.Cxt=void 0,this.zxt()},i.Zxt=function(){this.MT=t.prototype.mT.call(this),this.Mj=t.prototype.Rot.call(this),this.Pj=t.prototype.Dot.call(this),this.Pxt=t.prototype.yR.call(this),this.Dxt=t.prototype.Pot.call(this),this.mit=t.prototype.RJ.call(this),this.Bxt=!1},i.zxt=function(){this.q2(),t.prototype.Iot.call(this,this.Mj),t.prototype.Not.call(this,this.Pj);var n=this.Oxt.slice();Eo(this.Oxt);for(var i=0;i<n.length;i++){var r=n[i];"Fct"===r.Tw?this.Fxt(r.WO,r.UO):this.Wxt(r.WO,r.UO)}this.Bxt&&t.prototype.a3.call(this),this.Pxt.aB(t.prototype.yR.call(this))||this._o(new fa(ZR.tJ))},i.Xw=function(){var n;null==(n=this.Cxt)||n.jw(),this.Cxt=void 0,t.prototype.Xw.call(this)},n}(cO),aZ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).qxt=void 0,r.sx=n,r}Rt(n,t);var i=n.prototype;return i.yR=function(){var n,i;return t.prototype.yR.call(this).tB(null!=(i=null==(n=this.qxt)?void 0:n.wR)?i:BA.pB())},i.Pot=function(){var n,i;return t.prototype.Pot.call(this).tB(null!=(i=null==(n=this.qxt)?void 0:n.w3)?i:BA.pB())},i.Iot=function(n){t.prototype.Iot.call(this,n),this.qxt&&(this.qxt.Ej=n)},i.Not=function(n){t.prototype.Not.call(this,n),this.qxt&&(this.qxt.bj=n)},i.Fxt=function(n,i){t.prototype.Fxt.call(this,n,i),this.qxt&&this.qxt.A3(n,i)},i.Wxt=function(n,i){t.prototype.Wxt.call(this,n,i),this.qxt&&this.qxt.S3(n,i)},i.Uxt=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return Zo(r),(u=[]).push(t.prototype.Uxt.call(e,n,i,r)),e.qxt&&u.push(e.qxt.eT(n,i,r)),[4,ut.all(u)];case 1:return s.sent(),[2]}}))}))()},i.dJ=function(n){return!!t.prototype.dJ.call(this,n)||this.sx.Yxt(n)},i.Gxt=function(n){return t.prototype.dJ.call(this,n)?t.prototype.Gxt.call(this,n):this.sx.Kxt(n)},i.jxt=function(t){var n,i;null==(n=this.qxt)||n.vn(XR,this.Mot),this.qxt=t,null==(i=this.qxt)||i.bn(XR,this.Mot)},n}(oZ),cZ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Qxt=void 0,r.MA=NaN,r.sRt=!1,r.nRt=!1,r.rRt=void 0,r.Aot(i),r.sx=n,r}Rt(n,t);var i=n.prototype;return i.dJ=function(n){var i=void 0!==this.u4,r=void 0!==this.c4,e=n.g4.some((function(t){return Xs(t.Mk,"audio")})),u=n.g4.some((function(t){return Xs(t.Mk,"video")}));return i===e&&r===u&&(!!t.prototype.dJ.call(this,n)||(!(!this.Qxt||!this.Qxt.dJ(n))||this.sx.Jxt(n)))},i._J=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return t.prototype.dJ.call(i,n)?[4,t.prototype._J.call(i,n)]:[3,2];case 1:case 3:case 6:return[2,r.sent()];case 2:return i.Qxt&&i.Qxt.dJ(n)?(i.$xt(),[4,i._J(n)]):[3,4];case 4:return[4,i.sx.tRt(n)];case 5:return r.sent(),[4,i._J(n)];case 7:return[2]}}))}))()},i.Yxt=function(t){return this.dJ(this.eRt(t))},i.Kxt=function(t){return this._J(this.eRt(t))},i.eRt=function(t){var n=this.kd,i=n.g4.map((function(n){return Xs(t.Mk,"audio")&&Xs(n.Mk,"audio")||Xs(t.Mk,"video")&&Xs(n.Mk,"video")?t:n}));return ss({},n,{g4:i})},i.m4=function(n,i,r,e){t.prototype.m4.call(this,n,i,r,e),this.Qxt&&this.Qxt.m4(n,i,r,e)},i.iRt=function(){return!this.sRt&&this.nRt},i.jd=function(){return void 0!==this.rRt?this.rRt:this.iRt()?this.MA:t.prototype.jd.call(this)},i.d4=function(n){this.MA=n,this.rRt=void 0,this.iRt()||t.prototype.d4.call(this,n)},i.bot=function(){return!this.iRt()&&t.prototype.bot.call(this)},i.a3=function(){this.rRt=A.max(fZ(this.JG.h4),fZ(this.JG.a4)),this.iRt()||t.prototype.a3.call(this)},i.J2=function(){this.rRt=void 0,this.iRt()||t.prototype.J2.call(this)},i.Tot=function(t){return new aZ(this,t)},i.oRt=function(){this.sRt=!this.sRt},i.$xt=function(){var t=this.JG,n=this.Qxt;n&&(this.sRt=!this.sRt,this.Aot(n),this.hRt(t),this.iRt()&&this.aRt())},i.hRt=function(t){var n,i;this.Qxt=t,null==(n=this.u4)||n.jxt(null==t?void 0:t.h4),null==(i=this.c4)||i.jxt(null==t?void 0:t.a4)},i.uRt=function(t){var n=this.JG,i=this.Qxt;if(i){var r=this.sRt,e=r?n:i,u=(r?i:n).wR._B(t);if(u){var s=IO(e.wR,this.Pot())._B(u.Tn(0),kr);if(s&&!(u.Tn(0)+kr>=s.Tn(0)))return A.max(u.Tn(0),s.Sn(0))}}},i.cRt=function(t,n){var i=this;if(this.nRt)return ut.resolve();var r=this.sRt?this.Qxt:this.JG;return r?(this.nRt=!0,this.lRt((function(n){if(Zo(n),i.nRt)return function(t,n,i){return hZ.apply(this,arguments)}(r,t,n)}),n)):ut.resolve()},i.aRt=function(){if(this.nRt){var t=this.sRt?this.Qxt:this.JG;if(t){var n;0,this.nRt=!1;var i=null!=(n=this.rRt)?n:this.MA;t.ct<i&&t.d4(i),t.J2()}}},i.dRt=function(t){var n,i=null!=(n=this.rRt)?n:this.MA;t.d4(i),this.sRt?this.Aot(t):this.hRt(t)},i.Pot=function(){var t,n,i,r,e=null!=(i=null==(t=this.u4)?void 0:t.w3)?i:BA.pB(),u=null!=(r=null==(n=this.c4)?void 0:n.w3)?r:BA.pB();return e.tB(u)},i.lRt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:r=[],i.u4&&r.push(i.u4.Hxt()),i.c4&&r.push(i.c4.Hxt()),e.label=1;case 1:return e.trys.push([1,,4,5]),[4,ut.all(r)];case 2:return e.sent(),[4,t(n)];case 3:return e.sent(),[3,5];case 4:return i.u4&&i.u4.Xxt(),i.c4&&i.c4.Xxt(),[7];case 5:return[2]}}))}))()},i.Eot=function(n){n.type===ZR.tJ&&this.sx.n3(),t.prototype.Eot.call(this,n)},n}(oO);function hZ(){return hZ=Zt((function(t,n,i){var r;return Ht(this,(function(e){switch(e.label){case 0:return Zo(i),r=[],t.h4&&r.push(gN(t.h4,n,i)),t.a4&&r.push(gN(t.a4,n,i)),[4,ut.all(r)];case 1:return e.sent(),t.a3(),[2]}}))})),hZ.apply(this,arguments)}function fZ(t){if(!t)return 0;var n=t.wR;return n.V>0?n.Tn(n.V-1):0}function vZ(t){return t.kd.Tw===Ey.wW}U(),St();var lZ=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).vRt=!1,e.P9=void 0,e.a8=NaN,e.Uo=BA.pB(),e.dZ=!0,e.ERt=!1,e.hZ=!0,e.bRt=void 0,e.gRt=void 0,e.mRt=new Qo,e.r8=new Qo,e._Rt=i,e.wRt=n,e.WB.ge(),e._Rt.be(),e.lW=new iO(e,r),e.Hl=new Ok([e.lW.nt,t.prototype.lI.call($j(e))]),e}Rt(n,t);var i=n.prototype;return i.yR=function(){return t.prototype.yR.call(this).tB(this._Rt.wR)},i.jd=function(){if(!this.vRt){var n=this.JG;if(n&&vZ(n))return n.ct}return t.prototype.jd.call(this)},i.aot=function(){return!!t.prototype.aot.call(this)&&!(!this.vRt&&!this.RJ())},i.uot=function(){return!!t.prototype.uot.call(this)&&!(!this.vRt&&t.prototype.aot.call(this)&&!this.RJ())},i.RJ=function(){var t=this.JG;return!(!t||!vZ(t))&&t.RJ},i.eI=function(){return this.Uo.tB(this.WB.tI)},i.aI=function(){return t.prototype.aI.call(this).tB(this._Rt.hI)},i.oI=function(){return t.prototype.oI.call(this)},i.hot=function(){var n;return null!=(n=t.prototype.hot.call(this))?n:this._Rt.$G},i.xI=function(){return this.dZ=!1,t.prototype.xI.call(this)},i.EI=function(){this.dZ=!0,t.prototype.EI.call(this)},i.p7=function(){this.vRt=!0,t.prototype.p7.call(this),this._Rt.p7()},i.w7=function(){this.vRt=!1,t.prototype.w7.call(this),this._Rt.p7()},i.xR=function(){var n;return null!=(n=this.P9)?n:t.prototype.xR.call(this)},i.cI=function(){return void 0!==this.P9||t.prototype.cI.call(this)},i.Rb=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.mRt.jw(),this.r8.jw(),this.r8=new Qo,this.gRt=zo(this.h8(t,n,i,this.gRt,this.r8.Uw),this.r8).catch(Si)},i.h8=function(n,i,r,e,u){var s=this;return Zt((function(){return Ht(this,(function(o){switch(o.label){case 0:return s.P9=n,s.a8=n,s._o(new TT(n)),e?[4,e.catch(Si)]:[3,2];case 1:o.sent(),o.label=2;case 2:return Zo(u),s.JG&&vZ(s.JG)&&s.JG.aRt(),s.P9=void 0,t.prototype.Rb.call(s,n,i,r),s._Rt.Rb(n,i,r),s.pRt(),[2]}}))}))()},i.zG=function(t){var n=this.$G;if(n&&!E(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Rb(i)}},i.A7=function(){t.prototype.A7.call(this),this._Rt.A7()},i.be=function(){this.hZ&&(this.hZ=!1,this.wRt.be())},i.ge=function(){this.hZ||(this.hZ=!0,this.wRt.ge())},i.yRt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.P9=void 0,t.a8=NaN,t.Uo=BA.pB(),null==(n=t.bRt)||n.jw(),t.mRt.jw(),t.r8.jw(),t.gRt?[4,t.gRt.catch(Si)]:[3,2];case 1:i.sent(),t.gRt=void 0,i.label=2;case 2:return[2]}}))}))()},i._ot=function(n){t.prototype._ot.call(this,n),this._Rt.wH=n},i.vot=function(n){t.prototype.vot.call(this,n),this._Rt.T7=n},i.lI=function(){return this.Hl},i.OI=function(t,n,i,r,e,u,s,o){return this.lW.OI(t,n,i,r,e,u,s,o)},i._H=function(t){return this.lW._H(t)},i.lH=function(t,n,i,r,e){throw new y("Not implemented yet")},i.uH=function(){return!1},i.mW=function(t){this.lW.mW(t)},i.vH=function(){this.lW.nr(),t.prototype.vH.call(this)},i.$n=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,t.prototype.$n.call(i,n)];case 1:return vZ(r=e.sent())&&i.pRt(),[2,r]}}))}))()},i.nr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.yRt()];case 1:return i.sent(),[4,t.prototype.nr.call(n)];case 2:return i.sent(),[4,n._Rt.nr()];case 3:return i.sent(),[2]}}))}))()},i.Xw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.yRt()];case 1:return i.sent(),n.lW.yn(),n.Hl.yn(),[4,t.prototype.Xw.call(n)];case 2:return i.sent(),[2]}}))}))()},i.pot=function(t){return new cZ(this,t)},i.got=function(t){return new vO(t)},i.pRt=function(){this.mRt.jw(),this.mRt=new Qo,this.gRt=zo(this.ARt(this.gRt,this.mRt.Uw),this.mRt).catch(Si)},i.ARt=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return t?[4,t.catch(Si)]:[3,2];case 1:o.sent(),o.label=2;case 2:if(!i.JG||!vZ(i.JG))return[2];o.label=3;case 3:0,Zo(n),i.SRt()&&i.oRt(),r=void 0,i.JG.aRt(),Zo(n),o.label=4;case 4:0,e={stack:[],error:void 0,hasError:!1},o.label=5;case 5:return o.trys.push([5,9,10,11]),Zo(n),i.SRt()?[3,12]:void 0===(r=i.JG.uRt(i.xR()))?[3,7]:(i.TRt(),[4,i.JG.cRt(r,n)]);case 6:return o.sent(),Zo(n),i._Rt.Rb(r),[3,12];case 7:return u=Yt(e,Qo.$w([n]),!1),[4,ut.race([i.py(va.hb,u.Uw),i.kRt(u.Uw)])];case 8:return o.sent(),[3,11];case 9:return s=o.sent(),e.error=s,e.hasError=!0,[3,11];case 10:return Kt(e),[7];case 11:return[3,4];case 12:Zo(n),o.label=13;case 13:return i.SRt()?[3,15]:[4,i.WB.py([va.hb,va.Dy,Iy.iC],n)];case 14:return o.sent(),[3,13];case 15:return[3,3];case 16:return[2]}}))}))()},i.SRt=function(){var t=this.JG;if(void 0===t||!vZ(t))return!1;var n=this.xR(),i=this.WB.wR;return!(!this.WB.PR&&i.wr(n))&&!!IO(this._Rt.wR,t.Pot()).oB(n,n+kr)},i.oRt=function(){if(!this.ERt){0,this.ERt=!0,this.Uo=this.eI();var t=SN(this),n=this.cI(),i=this.oI(),r=this.WB,e=this._Rt,u=this.JG;u.aRt(),u.oRt(),EN(e,t),this.yot(e),this._Rt=r,r.EI(),r.ZR=!0,this.ERt=!1;var s=this.cI();n!==s&&(s?this._o(new TT(this.ER)):this._o(new ST(this.ER)));var o=this.oI();i!==o&&this._o(new Cy(this.ER,o)),s||this.TRt()}},i.TRt=function(){var t=this.WB,n=this.wRt;if(n!==t){0;var i=this.vI,r=this.dI;this.wRt=t,this.hZ&&(n.be(),t.ge());var e=this.vI,u=this.dI;e>0&&u>0&&(i!==e||r!==u)&&this._o(new Sy)}},i.Jxt=function(t){return void 0!==this._Rt.MJ([t])},i.tRt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return n.TRt(),i=n.JG,[4,(r=n._Rt).nr()];case 1:return u.sent(),[4,r.$n(t)];case 2:return e=u.sent(),i.dRt(e),[2]}}))}))()},i.kRt=function(t){return this.bRt=new Kc,Ho(this.bRt.Ub,t)},i.n3=function(){var t;null==(t=this.bRt)||t.Vb()},i.LI=function(n){n.type===va.Jy&&this.a8===n.currentTime||(n.type===va.Qy&&(this.a8=NaN,this.TRt()),n.type!==Iy.iC&&n.type!==va.zy&&n.type!==va.Dy||this.ERt||!this.SRt()?(n.type!==va.Dy||this.PR)&&t.prototype.LI.call(this,n):this.pRt())},xt(n,[{key:"fRt",get:function(){return this._Rt}},{key:"dI",get:function(){return this.wRt.dI}},{key:"vI",get:function(){return this.wRt.vI}}]),n}(sZ),dZ=function(t){function n(n,i){var r;return(r=t.call(this,n,i,new Jx)||this).uO=new XT(n.fH),r.Ket=new BD,r.Ket.S7(n.jG.parentElement),r.jet=new uM(r.Ket.we,r.Hu,r.nt,r.Wl,r.Sa,r.fH),r}Rt(n,t);var i=n.prototype;return i.be=function(){t.prototype.be.call(this),this.Ket.be()},i.ge=function(){t.prototype.ge.call(this),this.Ket.ge()},i.S7=function(t){this.WB.S7(t),this._Rt.S7(t)},i.NI=function(){this.WB.NI(),this._Rt.NI()},i.TI=function(){return this.WB.TI()},i.ja=function(){return this.uO},i.yot=function(n){var i=this.SI(),r=this.TI();t.prototype.yot.call(this,n),this.uO.vC=n.fH,this.SI()!==i&&this._o(new VT),this.TI()!==r&&this._o(new UT)},i.Xw=function(){return this.uO.yn(),this.jet.yn(),this.Ket.yn(),t.prototype.Xw.call(this)},xt(n,[{key:"oot",get:function(){return this.WB}},{key:"fRt",get:function(){return this._Rt}},{key:"jG",get:function(){return this.WB.jG}},{key:"U4",get:function(){return this.WB.U4}},{key:"AI",get:function(){return this.WB.AI},set:function(t){this.WB.AI=t}}]),n}(lZ),gZ=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.OH=function(n){if(n===rm.mE){var i=t.prototype.OH.call(this,n),r=t.prototype.OH.call(this,n);return new dZ(i,r)}return t.prototype.OH.call(this,n)},i.yH=function(n){var i=this,r=function(){return t.prototype.yH};return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return n instanceof dZ?[4,n.Xw()]:[3,4];case 1:return t.sent(),[4,r().call(i,n.oot)];case 2:return t.sent(),[4,r().call(i,n.fRt)];case 3:return t.sent(),[3,6];case 4:return[4,r().call(i,n)];case 5:t.sent(),t.label=6;case 6:return[2]}}))}))()},n}(rO),mZ=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new mO(new gZ(s)),f=h.OH(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).bH=h,c}return Rt(n,t),n.prototype.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),[4,n.bH.yH(n.WB)];case 2:return i.sent(),[2]}}))}))()},n.yT=function(t){var n;return!Gn.Qs&&!Gn.gg&&!(t&&"google-dai"===(null==(n=t.ssai)?void 0:n.integration))},n}(Jj);U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt();var wZ=function(t){function n(n){var i;return(i=t.call(this,n)||this).xRt=!1,i.Pxt=BA.pB(),i.MA=0,i.RRt=!1,i.mit=!1,i.Bxt=void 0,i.v4=BA.pB(),i.IRt=void 0,i.Aot(n),i.MT=n.kd,i}Rt(n,t);var i=n.prototype;return i.Tot=function(t){return new oZ(t)},i.mT=function(){return this.xRt?this.MT:t.prototype.mT.call(this)},i.yR=function(){return this.xRt?this.Pxt:t.prototype.yR.call(this)},i.jd=function(){return this.xRt?this.MA:t.prototype.jd.call(this)},i.d4=function(n){this.xRt?(this.MA=n,this.RRt=!0):t.prototype.d4.call(this,n)},i.aI=function(){return this.xRt?this.IRt?this.IRt.I3():this.v4:t.prototype.aI.call(this)},i.m4=function(n,i,r,e){this.xRt?this.IRt=new hN(n,i,r,e):t.prototype.m4.call(this,n,i,r,e)},i.bot=function(){return this.xRt?this.mit&&!1!==this.Bxt:t.prototype.bot.call(this)},i.a3=function(){this.xRt?this.Bxt=!0:t.prototype.a3.call(this)},i.J2=function(){this.xRt?this.Bxt=!1:t.prototype.J2.call(this)},i.dJ=function(n){return!this.xRt&&t.prototype.dJ.call(this,n)},i._J=function(n){return this.xRt?ut.reject(new _("Not supported")):t.prototype._J.call(this,n)},i.Hxt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:if(t.xRt)throw new _("Already locked");return t.xRt=!0,t.Zxt(),n=[],t.u4&&n.push(t.u4.Hxt()),t.c4&&n.push(t.c4.Hxt()),[4,ut.all(n)];case 1:return i.sent(),[2]}}))}))()},i.Xxt=function(){this.xRt=!1,this.u4&&this.u4.Xxt(),this.c4&&this.c4.Xxt(),this.zxt()},i.Zxt=function(){this.MT=t.prototype.mT.call(this),this.Pxt=t.prototype.yR.call(this),this.MA=t.prototype.jd.call(this),this.v4=t.prototype.aI.call(this),this.RRt=!1,this.Bxt=void 0,this.IRt=void 0},i.zxt=function(){if(this.RRt&&(t.prototype.d4.call(this,this.MA),this.RRt=!1),void 0!==this.IRt){var n=this.IRt;t.prototype.m4.call(this,n.Sn,n.Tn,n.C3,n.P3),this.IRt=void 0}void 0!==this.Bxt&&(this.Bxt?t.prototype.a3.call(this):t.prototype.J2.call(this),this.Bxt=void 0)},n}(oO),pZ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).PRt=!1,n.NRt=!1,n.FRt=void 0,n.ORt=void 0,n.BRt=new Qo,n}Rt(n,t);var i=n.prototype;return i.xI=function(){return void 0!==this.JG&&vZ(this.JG)&&this.PR&&this.Rb(0),t.prototype.xI.call(this)},i.Rb=function(n,i,r){void 0!==this.JG&&vZ(this.JG)&&this.PR&&n<this.ct&&this.CRt(),t.prototype.Rb.call(this,n,i,r)},i.p7=function(){this.PRt=!0,t.prototype.p7.call(this)},i.w7=function(){this.PRt=!1,this.DRt()||t.prototype.w7.call(this)},i.DRt=function(){return this.PRt||this.NRt},i.MRt=function(){this.NRt||(this.NRt=!0,t.prototype.p7.call(this))},i.LRt=function(){this.NRt&&(this.NRt=!1,this.DRt()||t.prototype.w7.call(this))},i.$n=function(t){this.BRt.jw();var n=this.QE(t,this.ORt);return this.FRt=n,n},i.QE=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return i?[4,i.catch(Si)]:[3,2];case 1:e.sent(),e.label=2;case 2:return r.LRt(),[4,t.prototype.$n.call(r,n)];case 3:return[2,e.sent()]}}))}))()},i.pot=function(t){return new wZ(t)},i.got=function(t){return new vO(t)},i.nr=function(){this.BRt.jw();var t=this.cxt(this.ORt);return this.FRt=t,t},i.cxt=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return n?[4,n.catch(Si)]:[3,2];case 1:r.sent(),r.label=2;case 2:return i.LRt(),[4,t.prototype.nr.call(i)];case 3:return[2,r.sent()]}}))}))()},i.CRt=function(){this.MRt(),this.BRt.jw(),this.BRt=new Qo,this.ORt=zo(this.VRt(this.FRt,this.ORt,this.BRt.Uw),this.BRt).catch(Go)},i.VRt=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return t?[4,t.catch(Si)]:[3,2];case 1:o.sent(),o.label=2;case 2:return n?[4,n.catch(Si)]:[3,4];case 3:o.sent(),o.label=4;case 4:return Zo(i),(e=r.JG)&&vZ(e)?(u=e.kd,[4,e.Hxt()]):[2];case 5:return o.sent(),[4,r.WB.nr()];case 6:return o.sent(),[4,r.WB.$n(u)];case 7:return(s=o.sent()).d4(e.ct),e.Aot(s),e.Xxt(),r.LRt(),[2]}}))}))()},i.Xw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.BRt.jw(),n.ORt?[4,n.ORt.catch(Si)]:[3,2];case 1:i.sent(),n.ORt=void 0,i.label=2;case 2:return n.DRt()&&t.prototype.w7.call(n),[4,t.prototype.Xw.call(n)];case 3:return i.sent(),[2]}}))}))()},xt(n,[{key:"oot",get:function(){return this.WB}}]),n}(lO),yZ=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.OH=function(n){if(n===rm.mE)return new pZ(t.prototype.OH.call(this,n))},i.yH=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,(r=n).Xw()];case 1:return e.sent(),[4,t.prototype.yH.call(i,r.oot)];case 2:return e.sent(),[2]}}))}))()},n.yT=function(){return Gn.wg},n}(rO),_Z=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).UH=xk.vG,n}Rt(n,t);var i=n.prototype;return i.uP=function(t,n,i,r,e,u,s,o){var a,c=new LB(QB.Vg.Brt,QB.Vg.Lrt,QB.Vg.Mrt,QB.Vg.Frt);a=uZ.yT(o)?uZ:mZ.yT(o)?mZ:Qj;var h=n;return yZ.yT()&&(h=new yZ(h)),new a(i,r,e,u,c,h,rm.mE,t)},i.WH=function(){return!0},n}(MB);qT(new _Z),U(),St(),U(),St(),Ct(),Jk((function(t){return function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.ka=function(){var n=this.OR.wa;return Mg(t.prototype.ka.call(this),{get hesp(){return n}})},n}(t)}),Yk.au),U(),St(),Ct(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Jt(),U(),St(),Wt();var bZ=0;function kZ(t,n){if(void 0===n&&(n=!0),t){var i=t;return"/"===i.charAt(0)&&(i=i.substring(1)),n&&"/"!==i.charAt(i.length-1)&&(i+="/"),i}}function AZ(t){var n,i,r;return ss({},t,{baseUrl:kZ(t.baseUrl),id:null!=(n=t.id)?n:String(bZ++),timeBounds:ss({},t.timeBounds,{scale:null!=(i=t.timeBounds.timescale)?i:1e3}),currentTime:t.currentTime?{value:t.currentTime.timestamp,scale:null!=(r=t.currentTime.timescale)?r:1e3}:void 0,audio:t.audio.map(CZ),video:t.video.map(xZ),metadata:t.metadata.map(PZ),events:t.events.map(FZ)})}var TZ=0;function SZ(t){var n,i=kZ(t.initPattern,!1),r=kZ(t.contPattern,!1);return ss({},t,{id:null!=(n=t.id)?n:String(TZ++),continuationPattern:r?js(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:i?js(i,"${initId}","{initId}"):void 0})}function EZ(t){var n,i=kZ(t.initPattern,!1),r=kZ(t.contPattern,!1);return ss({},t,{continuationPattern:r?js(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:i?js(i,"${initId}","{initId}"):void 0,segmentDuration:t.segmentDuration?{value:t.segmentDuration.duration,scale:t.segmentDuration.timescale}:void 0,segments:t.segments.map(IZ),activeSegment:null==(n=mo(t.segments,(function(t){return t.active})))?void 0:n.id})}function IZ(t){var n;return ss({},t,{timeBounds:ss({},t.timeBounds,{endTime:void 0!==t.timeBounds.duration?t.timeBounds.startTime+t.timeBounds.duration:void 0,scale:null!=(n=t.timeBounds.timescale)?n:1e3})})}function RZ(t){return t&&"-"===t.charAt(0)}function CZ(t){var n;try{var i;n=T(null!=(i=t.channels)?i:"2")}catch(t){n=2}return RZ(t.contPattern)||RZ(t.initPattern)?function(t,n){var i=t.initPattern,r=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,ss({},SZ(t),{baseUrl:kZ(t.baseUrl),language:"eng",channels:n,sampleRate:t.samplerate,tracks:t.tracks.map((function(t){var n,e;return t.initPattern=null!=(n=t.initPattern)?n:i,t.contPattern=null!=(e=t.contPattern)?e:r,NZ(t)}))})}(t,n):ss({},SZ(t),{baseUrl:kZ(t.baseUrl),language:"eng",channels:n,sampleRate:t.samplerate,tracks:t.tracks.map(NZ)})}function NZ(t){var n;try{var i;n=T(null!=(i=t.channels)?i:"2")}catch(t){n=2}return RZ(t.contPattern)||RZ(t.initPattern)?function(t,n){return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,ss({},EZ(t),{baseUrl:"./",channels:n,sampleRate:t.samplerate})}(t,n):ss({},EZ(t),{baseUrl:kZ(t.baseUrl),channels:n,sampleRate:t.samplerate})}function xZ(t){return RZ(t.contPattern)||RZ(t.initPattern)?function(t){var n=t.initPattern,i=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,ss({},SZ(t),{baseUrl:kZ(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map((function(t){return t.initPattern=n,t.contPattern=i,DZ(t)}))})}(t):ss({},SZ(t),{baseUrl:kZ(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map(DZ)})}function DZ(t){var n,i;return RZ(t.contPattern)||RZ(t.initPattern)?function(t){var n,i;return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,ss({},EZ(t),{baseUrl:"./",frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:ss({},t.resolution,{sarWidth:null==(n=t.resolution.sar)?void 0:n.width,sarHeight:null==(i=t.resolution.sar)?void 0:i.height})})}(t):ss({},EZ(t),{baseUrl:kZ(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:ss({},t.resolution,{sarWidth:null==(n=t.resolution.sar)?void 0:n.width,sarHeight:null==(i=t.resolution.sar)?void 0:i.height})})}function PZ(t){var n;return ss({},t,{id:null!=(n=t.id)?n:String(TZ++),schemeId:"",tracks:t.tracks.map(MZ)})}function MZ(t){return ss({},t,{segments:t.segments.map(OZ)})}var BZ=0;function OZ(t){return{id:BZ++,timeBounds:ss({},t.timeBounds,{scale:t.timeBounds.timescale})}}var LZ=0;function FZ(t){var n,i;return ss({},t,{id:null!=(n=t.id)?n:String(LZ++),timeBounds:ss({},t.timestamp,{scale:null!=(i=t.timestamp.timescale)?i:1e3})})}var VZ=function(){function t(t){this.fR=t}return t.prototype.WRt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r={Xu:t,Uw:n},[4,i.fR.Qk(r)];case 1:return[4,s.sent().Ik(n)];case 2:return e=s.sent(),function(t){var n,i,r=t;if(ni(r.manifestVersion)&&Zs(r.manifestVersion,"alpha"))return!0;for(var e=0,u=r.presentations;e<u.length;e++){for(var s=u[e],o=0,a=Ut(s.video).concat(Ut(s.audio));o<a.length;o++){var c=a[o];if(c.tracks.length>0){n=c.tracks[0],i=c;break}}if(Yn(n))break}return(ni(null==i?void 0:i.initPattern)||ni(null==n?void 0:n.initPattern))&&!ni(null==n?void 0:n.initializationPattern)&&!ni(null==i?void 0:i.initializationPattern)}(u=e)&&(u=function(t){return ss({},t,{availabilityDuration:{value:t.dvrDuration?t.dvrDuration.duration/t.dvrDuration.timescale:0},manifestVersion:"1.0.0",presentations:t.presentations.map(AZ),contentBaseUrl:t.contentBaseUrl||"./"})}(u)),[2,u]}}))}))()},t}();U(),St(),Dt(),Ct();var UZ=function(t){function n(n){var i;return(i=t.call(this)||this).URt=n,i}Rt(n,t);var i=n.prototype;return i.ZC=function(){return this.URt.ZC()},i.bn=function(t,n){this.URt.bn(t,n)},i.vn=function(t,n){this.URt.vn(t,n)},xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=fA(this)),this.eu}},{key:"WC",get:function(){return this.URt.WC}},{key:"GC",get:function(){return this.URt.GC}},{key:"HC",get:function(){return this.URt.HC}}]),n}(aa);U(),St(),Dt(),U(),St(),Dt(),U(),St(),Dt();var WZ=function(){function t(t){this.ZRt=0,this.HRt=0,this.GRt=A.exp(A.log(.5)/t)}var n=t.prototype;return n.gut=function(t,n){var i=A.pow(this.GRt,t),r=n*(1-i)+i*this.ZRt;E(r)||(this.ZRt=r,this.HRt+=t)},n._J=function(t){var n=A.exp(A.log(.5)/t);if(n!==this.GRt)if(0!==this.HRt){var i=this.dit,r=1-A.pow(n,this.HRt);this.ZRt=i*r,this.GRt=n}else this.GRt=n},xt(t,[{key:"dit",get:function(){var t=1-A.pow(this.GRt,this.HRt);return this.ZRt/t}}]),t}(),jZ=function(){function t(n,i,r,e){void 0===n&&(n=t.iIt),void 0===i&&(i=t.sIt),void 0===r&&(r=t.Eut),void 0===e&&(e=!1),this.QRt=0,this.JRt=[],this.KRt=void 0,this.jRt=6e4,this.$Rt=10,this.tIt=n,this.eIt=i,this.qRt=r,this.YRt=e,this.XRt=new WZ(n),this.zRt=new WZ(i)}var n=t.prototype;return n.gut=function(t){var n=qn.Wg(),i=t;this.YRt&&void 0!==this.KRt&&n-this.KRt>=this.jRt&&this.nr(),this.QRt+=1,this.XRt.gut(1,i),this.zRt.gut(1,i),this.JRt.push(i),this.JRt.length>this.$Rt&&this.JRt.shift(),this.KRt=n},n.kut=function(){return void 0!==this.KRt&&qn.Wg()-this.KRt<=this.jRt},n.nr=function(){this.XRt=new WZ(this.tIt),this.zRt=new WZ(this.eIt),this.QRt=0,this.JRt=[],this.KRt=void 0},xt(t,[{key:"dit",get:function(){return this.kut()?A.max(this.XRt.dit,this.zRt.dit):this.qRt}}]),t}();jZ.iIt=2,jZ.sIt=5,jZ.Eut=.1,U(),St();var ZZ=function(){function t(t){this.nIt=t}var n=t.prototype;return n.dj=function(t){for(var n=0,i=this.nIt;n<i.length;n++){i[n].dj(t)}},n._j=function(t){for(var n=0,i=this.nIt;n<i.length;n++){i[n]._j(t)}},n.vj=function(t,n){for(var i=0,r=this.nIt;i<r.length;i++){r[i].vj(t,n)}},n.mj=function(t){for(var n=0,i=this.nIt;n<i.length;n++){i[n].mj(t)}},t}();U(),St();var XZ=function(){function t(t){this.rIt=0,this.oIt=t}var n=t.prototype;return n.dj=function(t){this.rIt=t},n._j=function(t){this.oIt.gut(t-this.rIt)},n.vj=function(t){},n.mj=function(t){},t}();U(),St();var GZ=function(){function t(t){this.hIt=0,this.Iut=t}var n=t.prototype;return n._j=function(t){this.hIt=t},n.vj=function(t,n){this.Iut.gut(t-this.hIt,n.byteLength),this.hIt=t},n.mj=function(t){},n.dj=function(t){},t}();U(),St(),Ct();var HZ=function(){function t(t,n){void 0===n&&(n=0),this.uIt=new zZ,this.Pn=0,this.aIt=0,this.Iut=t,this.lIt=n}var n=t.prototype;return n.dj=function(t){},n.vj=function(t,n){var i=n.byteLength,r=this.aIt;this.aIt=i;var e=t-this.Pn;this.Pn=t,this.uIt.h$(n);var u=!this.uIt.cIt(),s=i>=this.lIt;r!==qn.Ys.op&&u&&s&&this.Iut.gut(e,i)},n._j=function(t){this.Pn=t},n.mj=function(t){},t}(),zZ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).fIt=void 0,n.dIt=!1,n}Rt(n,t);var i=n.prototype;return i.cIt=function(){return this.dIt},i.h$=function(n){this.dIt=!1,t.prototype.h$.call(this,n)},i.r$=function(n,i){this.fIt&&this.fIt!==hp.fD||(this.dIt=!0),t.prototype.r$.call(this,n,i),this.fIt=n},i.g$=function(t){return!1},i.w$=function(t){},i.b$=function(t){},n}(uC);U(),St(),Ct();var YZ=function(t){return t._It="sample",t}({}),KZ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).vIt=0,n}return Rt(n,t),n.prototype.hG=function(){if(this.kut()){var t=qn.Wg();t-this.vIt>1e3&&(this.vIt=t,Nk.Vg.hG(this.dit))}},n}(aa);U(),St(),Dt(),Ct();var qZ=function(t){function n(n){var i;return(i=t.call(this)||this).sS=[],i.pIt=0,i.mIt=n,i.ZRt=n,i}Rt(n,t);var i=n.prototype;return i.kut=function(){return this.sS.length>=3},i.gut=function(t,n){if(0!==t){var i={bG:8*n/t,gIt:n};if(this.sS.push(i),this.pIt+=i.gIt,this.sS.length>30){var r=this.sS.shift();this.pIt-=r.gIt}for(var e=this.sS.slice().sort((function(t,n){return t.bG-n.bG})),u=0,s=0;s<e.length;s++){var o=e[s];if(u+=o.gIt/this.pIt,this.ZRt=o.bG,u>=.5)break}this.hG(),this._o(new fa(YZ._It))}},xt(n,[{key:"dit",get:function(){return this.kut()?this.ZRt:this.mIt}}]),n}(KZ);U(),St(),Dt(),Ct();var JZ=function(t){function n(i,r,e,u){var s;return void 0===i&&(i=n.iIt),void 0===r&&(r=n.sIt),void 0===e&&(e=n.bIt),void 0===u&&(u=n.Eut),(s=t.call(this)||this).wIt=0,s.yIt=e,s.XRt=new WZ(i),s.zRt=new WZ(r),s.qRt=u,s}Rt(n,t);var i=n.prototype;return i.gut=function(t,n){var i=8*n/t;this.XRt.gut(t,i),this.zRt.gut(t,i),this.wIt+=n,this.hG(),this._o(new fa(YZ._It))},i.kut=function(){return this.wIt>=this.yIt},xt(n,[{key:"dit",get:function(){return this.kut()?A.min(this.XRt.dit,this.zRt.dit):this.qRt}}]),n}(KZ);JZ.bIt=128e3,JZ.Eut=Ck,JZ.iIt=.5,JZ.sIt=5;var QZ=function(){function t(t,n){var i=this;this.kIt=[],this.SIt=function(){for(var t=0,n=i.kIt;t<n.length;t++){(0,n[t])()}},this.xIt=t>0?t:JZ.Eut,this.RIt=new jZ(jZ.iIt,jZ.sIt,n>0?n:jZ.Eut),this.AIt(this.xIt)}var n=t.prototype;return n.AIt=function(t){var n;null==(n=this.Iut)||n.vn(YZ._It,this.SIt),this.Iut=new qZ(t),this.Iut.bn(YZ._It,this.SIt)},n.TIt=function(t){this.kIt.push(t)},n.EIt=function(t){bo(this.kIt,t)},n.SG=function(t){if("segment"===t.Tw&&"video"===t.EE){var n=[new XZ(this.RIt)];return this.Iut&&("stream"===t.jk&&"initialization-segment"!==t.kE?n.push(new HZ(this.Iut,1e3)):n.push(new GZ(this.Iut))),new ZZ(n)}},xt(t,[{key:"bG",get:function(){var t,n;return null!=(n=null==(t=this.Iut)?void 0:t.dit)?n:this.xIt}},{key:"AG",get:function(){return this.RIt.dit}}]),t}();U(),St(),Dt();var $Z=function(){function t(){}var n=t.prototype;return n.IIt=function(t,n){var i=n-t;(!this.CIt||i<this.CIt)&&(this.CIt=i)},n.PIt=function(t,n){this.DIt=n-t},n.NIt=function(t,n){this.MIt=n-t},n.LIt=function(t,n){this.BIt=n-t},n.FIt=function(t){var n=this.OIt;if(void 0!==n)return n-t},n.nr=function(){this.CIt=void 0,this.DIt=void 0,this.BIt=void 0,this.MIt=void 0},xt(t,[{key:"OIt",get:function(){var t=Co([this.MIt,this.BIt].filter(Yn),Ei);return void 0!==t?qn.Wg()/1e3+t:void 0!==this.DIt?qn.Wg()/1e3+this.DIt:void 0!==this.CIt?qn.Wg()/1e3+this.CIt:void 0}}]),t}();U(),St();var tX=.25,nX=400,iX={minimumOffset:.2,targetOffset:.45,maximumOffset:.7,forceSeekOffset:3,minimumPlaybackRate:LA,maximumPlaybackRate:FA},rX={minimumOffset:.4,targetOffset:.65,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:LA,maximumPlaybackRate:FA},eX={minimumOffset:.4,targetOffset:.7,maximumOffset:.9,forceSeekOffset:3,minimumPlaybackRate:LA,maximumPlaybackRate:FA},uX={minimumOffset:.2,targetOffset:.45,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:LA,maximumPlaybackRate:FA},sX={minimumOffset:.5,targetOffset:1.125,maximumOffset:1.75,forceSeekOffset:2.55,minimumPlaybackRate:LA,maximumPlaybackRate:FA};function oX(t){if(qn.ow.aw){var n=(nX+250)/1e3,i=A.max(n,t.minimumOffset),r=A.max(i+tX,t.targetOffset),e=A.max(r+tX,t.maximumOffset);return{minimumOffset:i,targetOffset:r,maximumOffset:e,forceSeekOffset:A.max(e+tX,t.forceSeekOffset),minimumPlaybackRate:LA,maximumPlaybackRate:FA}}return t}function aX(){var t;return t=qn.Ys.$g?uX:qn.Ys.rp?rX:qn.Ys.np?"Android"===qn.ow.hw?eX:iX:sX,qn.ow.aw?oX(t):t}U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),rn(),Jt(),U(),St();var cX=function(){function t(){this.Pxt=[]}var n=t.prototype;return n.VIt=function(t){for(var n=0,i=this.Pxt;n<i.length;n++){var r=i[n];r[1]=r[1].jn(t)}},n.WIt=function(t,n){for(var i=!0,r=0,e=this.Pxt;r<e.length;r++){var u=e[r],s=u[1];s=s.iB(n),t===u[0]&&(s=s.tB(n),i=!1),u[1]=s.$L(1e-5)}i&&this.Pxt.push([t,n])},n.UIt=function(t){for(var n=0,i=this.Pxt;n<i.length;n++){var r=i[n];r[1]=r[1].iB(t)}},n.GIt=function(t){for(var n=0;n<this.Pxt.length;n++)if(this.Pxt[n][1].wr(t))return this.Pxt[n][0]},t}(),hX=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).HIt=[],u.zIt=void 0,u.i3=new Qo,u.WB=i,u.Cot=n,u.qyt=r,u.jIt=e,u.ZIt=new cX,u.Cot.bn(ZR.tJ,u.Ds),u}Rt(n,t);var i=n.prototype;return i.GIt=function(t){return this.ZIt.GIt(t)},i.appendStream=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,l,d,g,m;return Ht(this,(function(w){switch(w.label){case 0:if(r.XIt)throw new y("Concurrent appends are not supported.");w.label=1;case 1:w.trys.push([1,,10,11]),e={stack:[],error:void 0,hasError:!1},w.label=2;case 2:w.trys.push([2,7,8,9]),u=Yt(e,Qo.$w([i,r.i3.Uw]),!1),s=u.Uw,r.ZIt.VIt(r.wR),r.zIt=new Kc,o=iC(t),a=o.getReader(),w.label=3;case 3:return[4,Ho(a.read(),s)];case 4:return(c=w.sent()).done?[3,6]:(h=c.value,f={Tw:GR.iJ,Kk:Wc(h.map((function(t){return t.Zut})))},v={ct:wr(h,(function(t){return t.ct})),wit:h[0].wvt,BV:-n.pat.YIt},[4,r.b2(f,v,s)]);case 5:return w.sent(),l=v.wit+v.BV,d=l+v.ct,r.ZIt.WIt(n.pat,BA.gB(l,d)),[3,3];case 6:return[3,9];case 7:return g=w.sent(),e.error=g,e.hasError=!0,[3,9];case 8:return Kt(e),[7];case 9:return[3,11];case 10:return n.KIt(),m=r.zIt,r.zIt=void 0,null==m||m.Vb(),[7];case 11:return[2]}}))}))()},i.g2=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:if(e.XIt)throw new y("Concurrent appends are not supported.");v.label=1;case 1:v.trys.push([1,,7,8]),u={stack:[],error:void 0,hasError:!1},v.label=2;case 2:return v.trys.push([2,4,5,6]),s=Yt(u,Qo.$w([r,e.i3.Uw]),!1),o=s.Uw,e.zIt=new Kc,[4,e.b2(t,n,o)];case 3:return v.sent(),a=n.wit+n.BV,c=a+n.ct,e.ZIt.VIt(e.wR),e.ZIt.WIt(i,BA.gB(a,c)),[3,6];case 4:return h=v.sent(),u.error=h,u.hasError=!0,[3,6];case 5:return Kt(u),[7];case 6:return[3,8];case 7:return f=e.zIt,e.zIt=void 0,null==f||f.Vb(),[7];case 8:return[2]}}))}))()},i.b2=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return r.Cot.m3===rm.mE&&r.jIt.Sdt(t.Kk,n.wit,n.wit+n.ct,n.BV,r.qyt,!1),e=r.WB.qB.zB,u=r.Cot.wR.wr(r.WB.ER),e||u?[4,r.QIt(i)]:[3,3];case 1:return o.sent(),[4,r.Cot.g2(t,n,i)];case 2:case 4:return[2,o.sent()];case 3:return r.HIt.push([t,n]),s=r.HIt[0][1].wit,r.HIt[r.HIt.length-1][1].wit-s>=.4?[4,r.QIt(i)]:[3,5];case 5:return[2]}}))}))()},i.A2=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(i.XIt)throw new y("Concurrent appends are not supported.");a.label=1;case 1:a.trys.push([1,,8,9]),r={stack:[],error:void 0,hasError:!1},a.label=2;case 2:return a.trys.push([2,5,6,7]),e=Yt(r,Qo.$w([n,i.i3.Uw]),!1),u=e.Uw,i.zIt=new Kc,[4,i.QIt(u)];case 3:return a.sent(),[4,i.Cot.A2(t,{},u)];case 4:return a.sent(),i.Cot.m3===rm.mE&&i.jIt.Got(t.Kk),[3,7];case 5:return s=a.sent(),r.error=s,r.hasError=!0,[3,7];case 6:return Kt(r),[7];case 7:return[3,9];case 8:return o=i.zIt,i.zIt=void 0,null==o||o.Vb(),[7];case 9:return[2]}}))}))()},i.eT=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(r.XIt)throw new y("Concurrent appends are not supported.");c.label=1;case 1:c.trys.push([1,,8,9]),e={stack:[],error:void 0,hasError:!1},c.label=2;case 2:return c.trys.push([2,5,6,7]),u=Yt(e,Qo.$w([i,r.i3.Uw]),!1),s=u.Uw,r.zIt=new Kc,[4,r.QIt(s)];case 3:return c.sent(),[4,r.Cot.eT(t,n,s)];case 4:return c.sent(),r.ZIt.UIt(BA.gB(t,n)),[3,7];case 5:return o=c.sent(),e.error=o,e.hasError=!0,[3,7];case 6:return Kt(e),[7];case 7:return[3,9];case 8:return a=r.zIt,r.zIt=void 0,null==a||a.Vb(),[7];case 9:return[2]}}))}))()},i.cY=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(n.XIt)throw new y("Concurrent appends are not supported.");o.label=1;case 1:o.trys.push([1,,7,8]),i={stack:[],error:void 0,hasError:!1},o.label=2;case 2:return o.trys.push([2,4,5,6]),r=Yt(i,Qo.$w([t,n.i3.Uw]),!1),e=r.Uw,n.zIt=new Kc,[4,n.QIt(e)];case 3:return o.sent(),[3,6];case 4:return u=o.sent(),i.error=u,i.hasError=!0,[3,6];case 5:return Kt(i),[7];case 6:return[3,8];case 7:return s=n.zIt,n.zIt=void 0,null==s||s.Vb(),[7];case 8:return[2]}}))}))()},i.QIt=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:i=0,r=n.HIt,o.label=1;case 1:return i<r.length?(e=nn(r[i],2),u=e[0],s=e[1],[4,n.Cot.g2(u,s,t)]):[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return Eo(n.HIt),[2]}}))}))()},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:t.i3.Xw(),n.label=1;case 1:return t.XIt?[4,t.qIt]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2]}}))}))()},xt(n,[{key:"wR",get:function(){for(var t=BA.pB(),n=0,i=this.HIt;n<i.length;n++){var r=nn(i[n],2)[1],e=r.wit+r.BV,u=e+r.ct;t=t.tB(BA.gB(e,u))}return this.Cot.wR.tB(t)}},{key:"XIt",get:function(){return void 0!==this.zIt}},{key:"qIt",get:function(){return this.zIt?this.zIt.Ub:ut.resolve()}}]),n}(aa);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Jt();var fX=function(){function t(t){this.$It=0,this.tCt=t}var n=t.prototype;return n.JIt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:if(i.$It>=i.tCt.maxRetries)throw t;return[4,ea(i.eCt(i.$It++),n)];case 1:return r.sent(),[2]}}))}))()},n.eCt=function(t){var n=0;return 0!==t&&(n+=A.min(this.tCt.maximumBackoff,this.tCt.minimumBackoff*A.pow(2,t-1))),n},t}();U(),St(),Ct(),U(),St(),Ct();var vX=function(t){return t.iCt="emsgdata",t}({}),lX=function(t){function n(n,i){var r;return(r=t.call(this,"emsgdata")||this).value=n,r.data=i,r}return Rt(n,t),n}(fa);U(),St();var dX=function(){function t(){}var n=t.prototype;return n.start=function(t){this.FQ=t},n.sCt=function(t){this.FQ.enqueue(t)},t}();U(),St(),U(),St();var gX=function(t){return t.nCt="initdata",t.MANIFEST_UPDATE="manifestupdate",t.rCt="timestamps:v1",t}({});var mX="urn:theo:hesp:2020";function wX(t){if(t.mL===mX){var n=t.Mx;if(n===gX.nCt)return function(t){if(t&&$n(t)){var n=t;if(ui(n.index)&&ui(n.offset)&&!(n.index<0&&n.offset<0))return{Tw:"initdata",index:n.index,offset:n.offset}}}(JSON.parse(_c(Ec(t.wL),new Pc)));if(n===gX.MANIFEST_UPDATE)return function(t){if(t&&$n(t)){var n=t;if(!Yn(n.url)||ni(n.url))return{Tw:"manifestupdate",url:n.url}}}(JSON.parse(_c(Ec(t.wL),new Pc)));if(n===gX.rCt){var i,r=Ec(t.wL),e=new Pc,u=ic(r,e).toNumber()/t.mN,s=ic(r,e).toNumber()/1e3,o=tc(r,e)/1e3;return e.nc+8<=r.byteLength&&(i={hours:tc(r,e),minutes:Ja(r,e),seconds:Ja(r,e),frames:Qa(r,e)}),{Tw:gX.rCt,oCt:u,hCt:s,aCt:o,uCt:i}}}}var pX=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).cCt=new aa,n}Rt(n,t);var i=n.prototype;return i.transform=function(t){if(t.Tw===hp.vD)try{var n=wX(Ap.uN(t.Kk));n&&this.cCt._o(new lX(n.Tw,n))}catch(t){false}this.sCt(t)},i.Xw=function(){this.cCt.Ro()},n}(dX);U(),St(),Ct();var yX=function(){function t(){}var n=t.prototype;return n.start=function(t){this.A_=new _X(t)},n.transform=function(t){this.A_.h$(t)},n.flush=function(){this.A_.u$()},t}(),_X=function(t){function n(n){var i;return(i=t.call(this)||this).FQ=n,i}Rt(n,t);var i=n.prototype;return i.g$=function(t){return!0},i.w$=function(t){this.FQ.enqueue(t)},i.b$=function(t){},n}(uC);U(),St(),Gt(),Ct(),Jt(),U(),St();var bX=sr.fromNumber(ar);var kX=function(t){function n(n,i){var r;return(r=t.call(this)||this).fW=n,r.lCt=i,r}return Rt(n,t),n.prototype.Qk=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:0,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,n.fW.Qk(t)];case 2:return[2,r.sent()];case 3:if(jo(i=r.sent()))throw i;return[4,n.lCt.JIt(i,t.Uw)];case 4:return r.sent(),[3,5];case 5:return[3,0];case 6:return[2]}}))}))()},n}(aa);function AX(t,n,i,r,e,u,s,o){var a=new Pl;return e&&a.Rk(function(t,n){return void 0===n&&(n=bX),new Pl({Range:"bytes="+t.toString()+"-"+n.toString()})}(e.start,e.end)),{Xu:t,Jk:a,xE:!1,Uw:o,Tw:ld.nE,kE:i,EE:r,SE:u,TE:s,jk:n,PE:n===Dl.Sk}}U(),St(),Ct(),U(),St();var TX=function(t){return t[t.INITIALIZER=0]="INITIALIZER",t[t.FRAMES=1]="FRAMES",t}({}),SX=function(t){function n(n,i){var r;return(r=t.call(this)||this).dCt=[],r.dY=n,r.vut=r.dY.match(/video/)?lM.mE:lM.vE,r.NA=i,r}Rt(n,t);var i=n.prototype;return i.transform=function(t){this.dCt.push(t),t.Tw===hp.fD&&this.fCt(this.dCt.splice(0),TX.FRAMES)},i.fCt=function(t,n){var i={mN:this.NA,jq:this.dY},r=Wc(t.map((function(t){return Ic(t.Kk.Kk)}))),e=mo(t,EX),u=Ap.JD(e.Kk.Kk)[0],s={EE:this.vut,Eb:i,Zut:r,Tw:n,ct:this.jd(u)/this.NA,wvt:Tr(this._Ct(u),this.NA)};this.sCt(s)},i.jd=function(t){var n,i=t.Z[0];if(!i||0===i.hL.length)return 0;var r=null!=(n=i.XD.QM)?n:0;return i.hL[0]._L.reduce((function(t,n){var i;return t+(null!=(i=n.ct)?i:r)}),0)},i._Ct=function(t){var n,i;return null!=(i=null==(n=t.Z[0].aL)?void 0:n.aL)?i:sr.UZERO},n}(dX);function EX(t){return t.Tw===hp.oD}U(),St();var IX=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).pCt="now",e.ECt=new Qo,e.zIt=void 0,e.vCt=n,e.lCt=new fX(r),e.DCt=new pX,e.DCt.cCt.bn(vX.iCt,e.Ds),e.fW=i,e.vut=function(t){switch(t){case lM.vE:return gd.vE;case lM.mE:return gd.mE;default:return gd.iE}}(n.Tw),e.xCt=new kX(e.fW,e.lCt),e}Rt(n,t);var i=n.prototype;return i.wlt=function(t){return t+1},i.Rb=function(t){this.pCt=t,this.wCt=void 0,this.yCt=void 0},i.bCt=function(){return void 0!==this.wCt},i.ACt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:if(t.XIt)throw new y("Concurrent downloads are not supported.");g.label=1;case 1:return g.trys.push([1,,4,5]),t.zIt=new Kc,"now"===t.pCt?n=qn.ew(t.vCt.SCt("now"),t.vCt.TCt):(i=t.pCt,r=0===i?1:t.vCt.kCt(i),n=qn.ew(t.vCt.SCt(r),t.vCt.TCt)),e=AX(n,Dl.bk,dd.hE,t.vut,void 0,3e3,1e3,t.ECt.Uw),[4,t.xCt.Qk(e)];case 2:return[4,g.sent().Dk(t.ECt.Uw)];case 3:return u=g.sent(),s=new I(u),o=function(t){var n=pp.OD(new dp(Ec(t),new Pc)),i=mo(n,(function(t){return t.Tw===hp.gD||t.Tw===hp.oD}));if(void 0===i)return{RCt:t,AN:void 0};var r=Tc(t,0,i.nc),e=Tc(t,i.nc);return{RCt:r,AN:0===e.byteLength?void 0:e}}(s),a=o.RCt,c=o.AN,h=Ap.JD(Ec(s)),t.NA=function(t){var n=mo(t,(function(t){return t.Tw===hp.gP}));return n.Z[0].AN.XD.mN}(h),f=function(t){var n=t.filter((function(t){return t.Tw===hp.vD})),i=n.map((function(t){return wX(t)})),r=mo(i,(function(t){return(null==t?void 0:t.Tw)===gX.nCt}));if(!r)throw new y("No init data in init response");return r}(h),t.wCt=f.index,t.yCt=f.offset,c&&(l=Ap.JD(Ec(s)),v=function(t,n,i){var r,e,u,s=mo(t,(function(t){return t.Tw===hp.oD})),o=Tr(null!=(e=null==(r=s.Z[0].aL)?void 0:r.aL)?e:sr.UZERO,i),a=s.Z[0],c=null!=(u=a.XD.QM)?u:0,h=a.hL[0],f=h._L.reduce((function(t,n){var i;return t+(null!=(i=n.ct)?i:c)}),0)/i;return{wit:o,ct:f,BV:n}}(l,-t.pat.YIt,t.NA)),[2,{initialization:a,data:c,metadata:v}];case 4:return d=t.zIt,t.zIt=void 0,null==d||d.Vb(),[7];case 5:return[2]}}))}))()},i.ICt=function(){if(this.XIt)throw new y("Concurrent downloads are not supported.");this.zIt=new Kc;var t=void 0!==this.yCt?sr.fromNumber(this.yCt):void 0;return Hl(this.CCt(this.wCt,t,this.ECt.Uw)).pipeThrough(new Wl(new SX(this.pat.jq,this.NA))).pipeThrough(new Wl(new RX(this.ECt.Uw)))},i.CCt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return e=r.PCt(t,n,i),[4,r.xCt.Qk(e)];case 1:return[2,u.sent().Nk().pipeThrough(new Wl(new yX)).pipeThrough(new Wl(r.DCt))]}}))}))()},i.PCt=function(t,n,i){var r=this.vCt.NCt(t),e=void 0!==n?{start:n,end:void 0}:void 0;return AX(qn.ew(r,this.vCt.TCt),Dl.Sk,dd.iE,this.vut,e,25e3,1e3,i)},i.KIt=function(){void 0!==this.wCt&&(this.wCt=this.wlt(this.wCt)),this.yCt=void 0;var t=this.zIt;this.zIt=void 0,null==t||t.Vb()},i.cancelDownload=function(){var t;this.ECt.jw(),this.ECt=new Qo,this.zIt=null!=(t=this.zIt)?t:new Kc,this.wCt=void 0,this.yCt=void 0;var n=this.zIt;this.zIt=void 0,null==n||n.Vb()},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),t.DCt.Xw(),t.ECt.jw(),[4,t.qIt];case 1:return n.sent(),t.wCt=void 0,t.yCt=void 0,[2]}}))}))()},xt(n,[{key:"pat",get:function(){return this.vCt}},{key:"mCt",get:function(){return!1}},{key:"gCt",get:function(){return this.pCt}},{key:"XIt",get:function(){return void 0!==this.zIt}},{key:"qIt",get:function(){return this.zIt?this.zIt.Ub:ut.resolve()}}]),n}(aa);var RX=function(){function t(t){var n=this;this.MCt=function(){n.FQ.error(new Wo)},this.Kw=t}var n=t.prototype;return n.start=function(t){this.FQ=t,this.Kw.Ww(this.MCt)},n.flush=function(){this.Kw.Vw(this.MCt)},t}();function CX(t){var n;return t.value/(null!=(n=t.scale)?n:1)}U(),St(),Dt(),U(),St(),Dt(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St();var NX="{initId}",xX=/{initId(?::0(?:\d+)d)?}/,DX=/{segmentId(?::0(?:\d+)d)?}/,PX=function(){function t(t,n,i){var r,e,u,s;this.Xbt=[],this.QO=t,this.KCt=i,this.zS=t.id,this.aG=t.bandwidth,this.LCt=t.averageBandwidth,this.WCt=null!=(r=t.baseUrl)?r:"",this.GCt=null!=(e=t.codecs)?e:n.codecs,this.ZCt=null!=(u=t.continuationPattern)?u:n.continuationPattern,this.zCt=null!=(s=t.initializationPattern)?s:n.initializationPattern,this.CO=t.label,this.qCt=t.mediaTimeOffset?CX(t.mediaTimeOffset):0,this.Obt=t.segmentDuration?CX(t.segmentDuration):0,this.ir(t)}return t.prototype.ir=function(t){this.OCt=t.activeSegment,this.VCt=t.activeSequenceNumber,this.Xbt=t.segments},xt(t,[{key:"o",get:function(){return this.zS}},{key:"bG",get:function(){return this.aG}},{key:"Myt",get:function(){return this.LCt}},{key:"Mrt",get:function(){return this.Xbt}},{key:"BCt",get:function(){return this.OCt}},{key:"FCt",get:function(){return this.VCt}},{key:"TCt",get:function(){return qn.ew(this.WCt,this.UCt.TCt)}},{key:"Jrt",get:function(){return this.GCt}},{key:"Ch",get:function(){return this.CO}},{key:"HCt",get:function(){return this.ZCt}},{key:"XCt",get:function(){return this.zCt}},{key:"YIt",get:function(){return this.qCt}},{key:"YCt",get:function(){return this.Obt}}]),t}(),MX=function(t){function n(n,i,r){var e,u,s,o,a;return(e=t.call(this,n,i,r)||this).QCt=null!=(u=n.channels)?u:1,e.JCt=null!=(o=null!=(s=n.frameRate)?s:i.frameRate)?o:1024,e.gA=null!=(a=n.sampleRate)?a:i.sampleRate,e}return Rt(n,t),xt(n,[{key:"Tw",get:function(){return lM.vE}},{key:"UCt",get:function(){return this.KCt}},{key:"jCt",get:function(){return this.QCt}},{key:"oft",get:function(){return this.JCt}},{key:"oM",get:function(){return this.gA}},{key:"jq",get:function(){return'audio/mp4; codecs="'+this.Jrt+'"'}}]),n}(PX),BX=function(t){function n(n,i,r){var e,u;return(e=t.call(this,n,i,r)||this).Ap=n.resolution,e.JCt=CX(null!=(u=n.frameRate)?u:i.frameRate),e}return Rt(n,t),xt(n,[{key:"Tw",get:function(){return lM.mE}},{key:"UCt",get:function(){return this.KCt}},{key:"$Ct",get:function(){return this.Ap}},{key:"oft",get:function(){return this.JCt}},{key:"jq",get:function(){return'video/mp4; codecs="'+this.Jrt+'"'}}]),n}(PX);function OX(t,n){var i=String(n);if(t===NX||"now"===n)return i;var r=T(t.substring(9,t.lastIndexOf("d")));return Ys(i,r,"0")}function LX(t,n){var i=String(n);if(t===NX)return i;var r=T(t.substring(12,t.lastIndexOf("d")));return Ys(i,r,"0")}var FX=function(){function t(t,n,i){var r;this.KCt=t,this.dC=i,this.tPt=n,this.zS=t.id,this.iPt=t.alignId,this.WCt=null!=(r=t.baseUrl)?r:"",this.CO=t.label,this.qCt=t.mediaTimeOffset?CX(t.mediaTimeOffset):0,this.nPt=t.protection,this.ir(t)}return t.prototype.ir=function(t){for(var n=function(n,i){var r=i[n],e=mo(t.tracks,(function(t){return r.o===t.id}));e&&r.ir(e)},i=0,r=this.dC;i<r.length;i++)n(i,r)},xt(t,[{key:"xst",get:function(){return this.tPt}},{key:"o",get:function(){return this.zS}},{key:"ePt",get:function(){return this.iPt}},{key:"TCt",get:function(){return qn.ew(this.WCt,this.xst.TCt)}},{key:"Ch",get:function(){return this.CO}},{key:"YIt",get:function(){return this.qCt}},{key:"sPt",get:function(){return this.nPt}}]),t}(),VX=function(t){function n(n,i){var r,e=[];r=t.call(this,n,i,e)||this;for(var u=0,s=n.tracks;u<s.length;u++){var o=s[u];e.push(new MX(o,n,r))}return r}return Rt(n,t),n.prototype.ir=function(n){var i,r;t.prototype.ir.call(this,n),this.LA=n.language,this.QCt=null!=(i=n.channels)?i:1,this.dY=null!=(r=n.mimeType)?r:"audio/mp4"},xt(n,[{key:"UCt",get:function(){return this.KCt}},{key:"Z",get:function(){return this.dC}},{key:"gs",get:function(){return this.LA}},{key:"jCt",get:function(){return this.QCt}}]),n}(FX),UX=function(t){function n(n,i){var r,e=[];r=t.call(this,n,i,e)||this;for(var u=0,s=n.tracks;u<s.length;u++){var o=s[u];e.push(new BX(o,n,r))}return r}return Rt(n,t),n.prototype.ir=function(n){var i;t.prototype.ir.call(this,n),this.dY=null!=(i=n.mimeType)?i:"video/mp4"},xt(n,[{key:"UCt",get:function(){return this.KCt}},{key:"Z",get:function(){return this.dC}},{key:"rPt",get:function(){return this.KCt.captions}}]),n}(FX),WX=function(){function t(t,n){var i,r,e;this.lPt=[],this.fPt=[],this.hPt=t,this.zS=n.id,this.WCt=null!=(i=n.baseUrl)?i:"";for(var u=0,s=null!=(r=n.audio)?r:[];u<s.length;u++){var o=s[u];this.lPt.push(new VX(o,this))}for(var a=0,c=null!=(e=n.video)?e:[];a<c.length;a++){var h=c[a];this.fPt.push(new UX(h,this))}this.ir(n)}return t.prototype.ir=function(t){var n;this.uPt=t.timeBounds,this.Kf=null!=(n=t.events)?n:[],this.uZ=t.currentTime?CX(t.currentTime):void 0},xt(t,[{key:"o",get:function(){return this.zS}},{key:"TCt",get:function(){return qn.ew(this.WCt,this.hPt.oPt)}},{key:"aPt",get:function(){return this.uPt}},{key:"ER",get:function(){return this.uZ}},{key:"Qq",get:function(){return this.Kf}},{key:"cPt",get:function(){return this.lPt}},{key:"dPt",get:function(){return this.fPt}}]),t}(),jX=function(){function t(t,n){this.SPt=[],this.xPt=t,this.hPt=n,this.ir(n)}return t.prototype.ir=function(t){var n,i,r=function(t,i){var r=i[t],e=mo(n.SPt,(function(t){return t.o===r.id}));e?e.ir(r):n.SPt.push(new WX(n,r))};this.vPt=CX(t.availabilityDuration),this.gPt=t.creationDate,this.wPt=t.fallbackPollRate,this.bPt=t.manifestVersion,this.oA=t.streamType,this.kPt=t.activePresentation,this.EPt=t.contentBaseUrl,this.IPt=null==(i=t.timeSource)?void 0:i.url,this.hPt=t;for(var e=0,u=t.presentations;e<u.length;e++)n=this,r(e,u);this.SPt=this.SPt.filter((function(n){return t.presentations.some((function(t){return t.id===n.o}))}))},xt(t,[{key:"HC",get:function(){return this.hPt}},{key:"_Pt",get:function(){return this.vPt}},{key:"mPt",get:function(){return this.gPt}},{key:"pPt",get:function(){return this.wPt}},{key:"yPt",get:function(){return this.bPt}},{key:"APt",get:function(){return this.SPt}},{key:"a0",get:function(){return this.oA}},{key:"TPt",get:function(){return this.kPt}},{key:"oPt",get:function(){var t;return qn.ew(null!=(t=this.EPt)?t:"",this.xPt)}},{key:"RPt",get:function(){return this.IPt}}]),t}();U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var ZX=0,XX=function(t){function n(n){var i;return(i=t.call(this)||this).IO=ZX++,i.CPt=n,i}Rt(n,t);var i=n.prototype;return i.kCt=function(t){var n=(t-this.CPt.UCt.xst.ER)*this.framesPerSecond();return A.round(this.CPt.FCt+n)},i.PPt=function(t){return t+1},i.SCt=function(t){for(var n,i,r=this.CPt.XCt;i=null==(n=r.match(xX))?void 0:n.pop();)r=r.split(i).join(OX(i,t));return r+("now"===t?"?uuid="+tI():"")},i.NCt=function(t){for(var n,i,r=this.CPt.HCt;i=null==(n=r.match(DX))?void 0:n.pop();)r=r.split(i).join(LX(i,t));return r},i.aW=function(){},i.hW=function(){},xt(n,[{key:"trt",get:function(){return!0}},{key:"Myt",get:function(){return this.CPt.Myt}},{key:"bG",get:function(){return this.CPt.bG}},{key:"Jrt",get:function(){return this.CPt.Jrt}},{key:"o",get:function(){return this.CPt.o}},{key:"Ch",get:function(){var t;return null!=(t=this.CPt.Ch)?t:""}},{key:"IC",get:function(){return this.IO}},{key:"Fyt",get:function(){return this.CPt.TCt}},{key:"Lyt",get:function(){}},{key:"jq",get:function(){return this.CPt.jq}},{key:"YIt",get:function(){return this.CPt.YIt}},{key:"TCt",get:function(){return this.CPt.TCt}},{key:"Tw",get:function(){return this.CPt.Tw}}]),n}(aa),GX=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).eu=void 0,r.QO=i,r}return Rt(n,t),n.prototype.framesPerSecond=function(){return this.CPt.oM/this.CPt.oft},xt(n,[{key:"DPt",get:function(){return this.CPt}},{key:"Nwt",get:function(){return this.CPt.oM}},{key:"Ht",get:function(){return this.QO}},{key:"wa",get:function(){return this.eu||(this.eu=IU(this)),this.eu}}]),n}(XX),HX=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).eu=void 0,r.QO=i,r}return Rt(n,t),n.prototype.framesPerSecond=function(){return this.CPt.oft},xt(n,[{key:"DPt",get:function(){return this.CPt}},{key:"Byt",get:function(){return 0}},{key:"oft",get:function(){return this.CPt.oft}},{key:"Ti",get:function(){return this.CPt.$Ct.height}},{key:"ji",get:function(){return this.CPt.$Ct.width}},{key:"$Ct",get:function(){return this.CPt.$Ct}},{key:"Ht",get:function(){return this.QO}},{key:"wa",get:function(){return this.eu||(this.eu=EU(this)),this.eu}}]),n}(XX);U(),St();var zX=function(t){return t.NPt="alternative",t.MPt="main",t.LPt="commentary",t.BPt="",t.tW="descriptions",t.OPt="main-desc",t.FPt="translation",t}({}),YX=function(t){return t.NPt="alternative",t.MPt="main",t.LPt="commentary",t.BPt="",t.$V="captions",t.TC="sign",t.JV="subtitles",t}({}),KX=0,qX=function(t){function n(n,i,r,e){var u;(u=t.call(this)||this).TO=new dm,u.IO=KX++,u.qe=!1,u.Qct=void 0,u.KCt=i,u.GPt=r,u.HPt=new qW(n,[]);var s=i.Z.filter((function(t){return!(qn.Ys.Qs&&void 0!==e&&t.bG>e)}));if(0===s.length){var o=xo(i.Z,(function(t){return t.bG}));void 0!==o&&s.push(o)}for(var a=0;a<s.length;a++){var c=s[a];u.TO.kO(u.createQuality(c))}return u}Rt(n,t);var i=n.prototype;return i.DO=function(t){this.Rt=t},i.ZPt=function(t){for(var n=0,i=this.TO.lC;n<i.length;n++){var r=i[n];r===t&&this._o(new _V(r))}},xt(n,[{key:"RC",get:function(){return this.VPt()}},{key:"Rt",get:function(){return this.qe},set:function(t){this.Rt!==t&&(this.qe=t,t&&this.WPt(),this.GPt.UPt(),this._o(new gm(this)))}},{key:"wa",get:function(){return this.eu||(this.eu=$g(this)),this.eu}},{key:"Odt",get:function(){return this.HPt}},{key:"o",get:function(){return this.KCt.o}},{key:"IC",get:function(){return this.IO}},{key:"Ch",get:function(){var t;return null!=(t=this.KCt.Ch)?t:""}},{key:"CE",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){"enabled"===t?this.Rt=!0:"disabled"===t&&(this.Rt=!1)}},{key:"NC",get:function(){return this.TO}},{key:"MC",get:function(){return this.Qct},set:function(t){this.Qct=t,this.GPt.UPt(),this._o(new ZL(t,this))}}]),n}(aa),JX=function(t){function n(n,i,r){return t.call(this,rm.vE,n,i,r)||this}Rt(n,t);var i=n.prototype;return i.WPt=function(){this.GPt.XPt(this)},i.VPt=function(){var t=this.GPt.zPt;return(null==t?void 0:t.Ht)===this?t:void 0},i.createQuality=function(t){return new GX(t,this)},xt(n,[{key:"Tw",get:function(){return lM.vE}},{key:"Lt",get:function(){return zX.MPt}},{key:"gs",get:function(){return this.KCt.gs}},{key:"UCt",get:function(){return this.KCt}}]),n}(qX),QX=function(t){function n(n,i,r){return t.call(this,rm.mE,n,i,r)||this}Rt(n,t);var i=n.prototype;return i.WPt=function(){this.GPt.qPt(this)},i.VPt=function(){var t=this.GPt.YPt;return(null==t?void 0:t.Ht)===this?t:void 0},i.createQuality=function(t){return new HX(t,this)},xt(n,[{key:"Tw",get:function(){return lM.mE}},{key:"Lt",get:function(){return YX.MPt}},{key:"gs",get:function(){return""}},{key:"UCt",get:function(){return this.KCt}},{key:"rPt",get:function(){return this.KCt.rPt}}]),n}(qX);function $X(t,n,i,r){if(t){var e=function(t,n,i){for(var r=[],e=0;e<n.length;e++){var u,s,o=n[e],a=null!=(u=o.mimeType)?u:"audio/mp4",c=null!=(s=o.codecs)?s:o.tracks.map((function(t){return t.codecs}))[0];r.push(a+'; codecs="'+c+'"')}return tG(t,n,r,[],i)}(t,n?[n]:[],!r),u=function(t,n,i){for(var r=[],e=0;e<n.length;e++){var u,s,o=n[e],a=null!=(u=o.mimeType)?u:"video/mp4",c=null!=(s=o.codecs)?s:o.tracks.map((function(t){return t.codecs}))[0];r.push(a+'; codecs="'+c+'"')}return tG(t,n,[],r,i)}(t,i?[i]:[],!r),s=Tj(e,u);return t.preferredKeySystems&&(null==s?void 0:s.cpt)&&(s.cpt=Pj(s.cpt,t.preferredKeySystems)),s}}function tG(t,n,i,r,e){var u=n.map((function(t){return t.protection})).filter(Yn);if(u.length){var s=u[0].type,o=Ro(u,(function(t){return t.systems})),a=Ro(o,(function(t){return function(t,n){void 0===n&&(n=!0);for(var i=[],r=n?function(t){return Us.filter((function(n){return n.Rw===t.toLowerCase()}))}(t.schemeId):function(t){return Vs.filter((function(n){return n.Rw===t.toLowerCase()}))}(t.schemeId),e=0;e<r.length;e++){var u=r[e];i.push({WU:nG(t)?t.uri:void 0,cT:u,CG:void 0,IG:t.pssh?[Ea(t.pssh).buffer]:[]})}return i}(t,e)}));return{hU:t,lpt:{RTt:s},cpt:a,ITt:i,CTt:r}}}function nG(t){return t.schemeId===gs.Aw&&void 0!==t.keyFormat&&void 0!==t.keyFormatVersions}U(),St(),U(),St(),Gt(),Dt(),Jt(),U(),St();var iG;function rG(t){var n=t.ER,i=t.wR._B(n);return i?i.Tn(0)-n:0}iG="Android"===qn.ow.hw?200:300;var eG=qn.Ys.rp?1:.5,uG=function(){function t(t,n,i,r,e){var u=this;this.WB=t,this.ZG=n,this.nDt=i,this.pDt=r,this.QPt=e,this.Fa=0,this.rDt=ut.resolve(),this.dDt=[],this.fDt=void 0,this.eDt=function(){var t,n;if(!u.pDt.uI){var i=null==(t=u.nDt.zPt)?void 0:t.Ht,r=null==(n=u.nDt.YPt)?void 0:n.Ht,e=Co(u.aDt(i,r),(function(t){return t.uDt}));e&&(na(u.cDt(e,!0)),u.WB.qB.zB&&u.pDt.ZC())}},this.tDt=function(){u.$Pt.bn(Iy.WL,u.eDt),u.$Pt.vn(Iy.UL,u.tDt)},this.JPt=function(){if(u.dDt.unshift(u.QPt.bG),u.dDt=u.dDt.slice(0,3),u.iDt){var t=u.iDt.lDt.uDt;u.QPt.bG<t&&(u.iDt=void 0,u.kB())}},this.$Pt=new Fy(this.WB)}var n=t.prototype;return n.Sn=function(){var t=this;1!==this.Fa&&(this.Fa=1,this.KPt=qn.Gp((function(){t.jPt()}),iG),this.QPt.TIt(this.JPt),this.WB.KR?this.$Pt.bn(Iy.UL,this.tDt):this.tDt())},n.RI=function(){0!==this.Fa&&(this.Fa=0,void 0!==this.KPt&&qn.Hp(this.KPt),this.QPt.EIt(this.JPt),this.$Pt.vn(Iy.WL,this.eDt),this.$Pt.vn(Iy.UL,this.tDt),this.iDt=void 0,this.kB())},n.jPt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.rDt];case 1:return n.sent(),t.rDt=t.oDt(),[4,t.rDt];case 2:return n.sent(),[2]}}))}))()},n.hDt=function(t,n){for(var i=this.aDt(t,n),r=this.QPt.bG,e=0;e<i.length;e++){var u=i[e];if(u.uDt<=r)return u}return i[i.length-1]},n.oDt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r=null==(n=t.nDt.zPt)?void 0:n.Ht,e=null==(i=t.nDt.YPt)?void 0:i.Ht,0===(u=t.aDt(r,e)).length?[2]:(s=t.maybeSwitchToTargetQuality(u))?[4,t.cDt(s)]:[3,2];case 1:case 3:return a.sent(),[2];case 2:return(o=t.maybeGetUpSwitch(u))?[4,t.cDt(o)]:[3,4];case 4:return[2]}}))}))()},n.maybeSwitchToTargetQuality=function(t){var n=this.sDt;if(!t.some((function(t){return oG(t,n)}))){for(var i=this.QPt.bG,r=0;r<t.length;r++){var e=t[r];if(e.uDt<=i)return e}return t[t.length-1]}},n.maybeGetUpSwitch=function(t){for(var n,i,r,e,u,s=this.QPt.bG,o=(null!=(r=null==(n=this.nDt.zPt)?void 0:n.bG)?r:0)+(null!=(e=null==(i=this.nDt.YPt)?void 0:i.bG)?e:0),a=0;a<t.length;a++){var c=t[a];if(c.uDt<s&&c.uDt>o){u={lDt:c,Zft:qn.Wg()};break}}if(this.iDt&&oG(this.iDt.lDt,null==u?void 0:u.lDt)){var h=qn.Wg()-this.iDt.Zft,f=this.iDt.lDt.uDt,v=this.dDt.length>=3&&this.dDt.every((function(t){return t>f}));if(h>1e3&&v){if(this.WB.qB.zB||qn.Ys.$g){var l=2*this.QPt.AG;if(!(rG(this.WB)>l))return}else{var d=A.max(2*this.QPt.AG+eG,this.ZG.yB.minimumOffset);if(!(rG(this.WB)>d))return void(this.fDt&&this.fDt.minimumOffset===d||(this.kB(),this.fDt={minimumOffset:d},this.ZG.AB(this.fDt)))}return this.iDt.lDt}}else this.iDt=u},n.cDt=function(t,n){void 0===n&&(n=!1);var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return i.iDt=void 0,i.kB(),(r=i.sDt)._Dt===t._Dt&&r.vDt===t.vDt?[2]:(e=t._Dt,u=t.vDt,r.vDt&&u&&r.vDt.bG>u.bG&&n&&(i.QPt.AIt(t.uDt),i.dDt=[]),[4,i.nDt.mDt(u,e)]);case 1:return s.sent(),[2]}}))}))()},n.kB=function(){this.fDt&&(this.ZG.kB(this.fDt),this.fDt=void 0)},n.aDt=function(t,n){var i,r=[],e=[];t&&(r=(null==(i=t.MC)?void 0:i.length)?t.MC:t.NC.lC);if(n){var u,s=(null==(u=n.MC)?void 0:u.length)?n.MC:n.NC.lC,o=s.slice().sort((function(t,n){return t.bG-n.bG})),a=this.gDt(o);0===a.length&&s.length>0&&a.push(Co(s,(function(t){return t.bG}))),e=a}for(var c=[],h=r.length>0?r:[void 0],f=e.length>0?e:[void 0],v=0;v<h.length;v++)for(var l=h[v],d=0;d<f.length;d++){var g=f[d];c.push(sG(l,g))}return function(t){return t.sort((function(t,n){return n.uDt-t.uDt}))}(c)},n.gDt=function(t){for(var n=0;n<t.length;n++){var i=t[n].$Ct;if(i.height>=this.WB.Ti&&i.width>=this.WB.ji)return t.slice(0,n+1)}return t.slice()},n.Xw=function(){this.iDt=void 0,this.$Pt.nr(),this.kB()},xt(t,[{key:"sDt",get:function(){return sG(this.nDt.zPt,this.nDt.YPt)}}]),t}();function sG(t,n){var i,r;return{_Dt:t,vDt:n,uDt:(null!=(i=null==t?void 0:t.bG)?i:0)+(null!=(r=null==n?void 0:n.bG)?r:0)}}function oG(t,n){var i,r,e,u;return void 0===t||void 0===n?t===n:(null==(i=t._Dt)?void 0:i.o)===(null==(r=n._Dt)?void 0:r.o)&&(null==(e=t.vDt)?void 0:e.o)===(null==(u=n.vDt)?void 0:u.o)&&t.uDt===n.uDt}U(),St(),Gt(),Dt(),rn(),Jt();var aG=20,cG=function(){function t(t,n,i){this.GT=new Qo,this.wDt=t,this.ARt(n,i,this.GT.Uw).catch(Si)}var n=t.prototype;return n.ARt=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return i.Fw?[3,6]:[4,ea(6e5,i)];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,hG(t,n,i)];case 3:return r.wDt=e.sent(),[3,5];case 4:return Xo(e.sent()),[3,5];case 5:return[3,0];case 6:return[2]}}))}))()},n.Xw=function(){this.GT.jw()},t.create=function(n,i,r){return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,hG(n,i,r)];case 1:return[2,new t(e.sent(),n,i)]}}))}))()},xt(t,[{key:"mbt",get:function(){return(this.wDt.serverTimeMs+(qn.Wg()-this.wDt.localTimeMs))/1e3}},{key:"yDt",get:function(){return(this.wDt.localTimeMs-this.wDt.serverTimeMs)/1e3}}]),t}();function hG(t,n,i){return fG.apply(this,arguments)}function fG(){return fG=Zt((function(t,n,i){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,vG(t,n,i)];case 1:return r=nn.apply(void 0,[a.sent(),3]),e=r[0],u=r[1],s=r[2],u>aG?[4,vG(t,n,i)]:[3,3];case 2:o=nn.apply(void 0,[a.sent(),3]),e=o[0],u=o[1],s=o[2],a.label=3;case 3:return[2,{localTimeMs:e,serverTimeMs:s-u/2}]}}))})),fG.apply(this,arguments)}function vG(t,n,i){return lG.apply(this,arguments)}function lG(){return lG=Zt((function(t,n,i){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r=qn.Wg(),[4,n.Qk({AE:vd.GET,Xu:t,Uw:i})];case 1:return e=a.sent(),u=qn.Wg()-r,[4,e.Ck(i)];case 2:return s=a.sent(),o=1e3*Number(s),[2,[r,u,o]]}}))})),lG.apply(this,arguments)}var dG=function(t){function n(){return t.call(this,"seek")||this}return Rt(n,t),n}(fa),gG=function(t){return t.NZ="seek",t}({}),mG=[va.ho,Iy.iC,va.hb],wG=function(t){function n(n,i,r,e,u,s,o,a,c,h){var f;return(f=t.call(this)||this).ODt=!1,f.eNt=!1,f.cO=new im,f.dO=new im,f.iNt=void 0,f.SDt=void 0,f.TDt=void 0,f.EDt=new Kc,f.JG=void 0,f.gpt=void 0,f.xDt=new Kc,f.vW=new Qo,f.zDt=void 0,f.XDt=new Qo,f.o8=void 0,f.r8=new Qo,f.GDt=void 0,f.bDt=void 0,f.JDt=void 0,f.HDt=void 0,f.ADt=void 0,f.QDt=void 0,f.$Dt=void 0,f.XB=function(){f.eNt=!0},f.updateActiveQualities=function(){var t,n,i=f.WB.ER,r=null==(t=f.bDt)?void 0:t.GIt(i),e=null==(n=f.ADt)?void 0:n.GIt(i);if(f.SDt!==r&&(f.SDt=r,r))for(var u=0,s=f.cO.lC;u<s.length;u++){s[u].ZPt(r)}if(f.TDt!==e&&(f.TDt=e,e))for(var o=0,a=f.dO.lC;o<a.length;o++){a[o].ZPt(e)}},f.jDt=function(t,n){var i=n.data;if(i.Tw===gX.rCt){var r,e=i.hCt,u=i.aCt,s=i.oCt,o=i.uCt;if(f.PDt){var a=f.PDt.mbt,c=f.WB.ER;if(f.eNt&&0!==c){var h={theolive:a-e+s-c,engine:u,distribution:a-(e+u),player:s-c};t===rm.vE?(f.LDt=h,f.RDt.LIt(f.PDt.yDt+e,s)):(f.MDt=h,f.RDt.NIt(f.PDt.yDt+e,s))}}if(o)null!=f.iNt||(f.iNt=f.WB.OI(ty.eW,"timecode","timecode",void 0,!1,Dm.DEFAULT,!1,void 0)),f.iNt._W(new Jm(s,s,o,!1,void 0)),gy(f.iNt,null!=(r=f.WB.wR.Sn(0))?r:-1)}f._o(n)},f.X6=function(t){jo(t)||(f.RI(),f._o(new Ik(new ol(ul.MEDIA_LOAD_ERROR,t.message))))},f.Sc=n,f.CDt=i,f.WB=r,f.fW=u,f.RDt=s,f.gZ=new uG(r,o,f,c,e),f.edt=a,f.NDt=h,f.WB.bn(Iy.UL,f.XB),f.WB.bn(mG,f.updateActiveQualities),f}Rt(n,t);var i=n.prototype;return i.IDt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.bDt?[4,t.bDt.eT(0,1/0)]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.ADt?[4,t.ADt.eT(0,1/0)]:[3,4];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))()},i.$n=function(){if(!this.Sc.src)throw new ol(ul.SOURCE_INVALID,"No src property found in given source.");this.gpt||(this.gpt=this.QE(this.vW.Uw).catch(this.X6))},i.QE=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return n._o(new QR),i=n.Sc.src,[4,n.CDt.WRt(i,t)];case 1:return r=u.sent(),n.hPt=new jX(i,r),n.hPt.RPt?[4,cG.create(n.hPt.RPt,n.fW,t)]:[3,3];case 2:n.PDt=u.sent(),u.label=3;case 3:return n.DDt(),e=n.hPt.APt[n.hPt.APt.length-1],n.createTracksForPresentation(e),n.EDt.Vb(),n.UPt(),[2]}}))}))()},i.XPt=function(t){for(var n=0,i=this.cO.lC;n<i.length;n++){var r=i[n];r.DO(r===t)}},i.qPt=function(t){for(var n=0,i=this.dO.lC;n<i.length;n++){var r=i[n];r.DO(r===t)}},i.UPt=function(){for(var t,n=mo(this.cO.lC,(function(t){return t.Rt})),i=mo(this.dO.lC,(function(t){return t.Rt})),r=0,e=null!=(t=null==i?void 0:i.rPt)?t:[];r<e.length;r++){var u=e[r];this.NDt.kgt({jtt:u.channel,Qtt:u.language,Ch:u.label})}var s=this.gZ.hDt(n,i);na(this.mDt(s.vDt,s._Dt))},i.DDt=function(){var t=this;if(this.hPt&&"live"===this.hPt.a0&&this.PDt){var n=this.hPt.APt.filter((function(n){return n.o===t.hPt.TPt}))[0].ER,i=this.PDt.yDt+new Date(this.hPt.mPt).getTime()/1e3;this.RDt.PIt(i,n)}},i.createTracksForPresentation=function(t){for(var n,i,r,e,u,s=null==(n=this.Sc.hesp)?void 0:n.maxMobileBitrate,o=0,a=null!=(e=t.cPt)?e:[];o<a.length;o++){var c=a[o];this.cO.tt(new JX(c,this,s))}for(var h=0,f=null!=(u=t.dPt)?u:[];h<f.length;h++){var v=f[h];this.dO.tt(new QX(v,this,s))}null==(i=this.cO.fC(0))||i.DO(!0),null==(r=this.dO.fC(0))||r.DO(!0)},i.Sn=function(){this.ODt=!0,this.FDt()},i.RI=function(){var t;this.ODt=!1,this.VDt().catch(this.X6),"live"===(null==(t=this.HC)?void 0:t.a0)&&(this.WDt(),this.UDt())},i.WDt=function(){this.GDt&&this.GDt.cancelDownload()},i.UDt=function(){this.HDt&&this.HDt.cancelDownload()},i.ZC=function(t){var n=this;this.r8.jw(),this.r8=new Qo,this.o8=Ko((function(i){return n.ZDt(t,n.o8,i)}),this.r8).catch(this.X6)},i.ZDt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return n?[4,n]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,Ho(r.W,i)];case 3:if(s.sent(),"live"!==r.hPt.a0)throw new y("The current video source does not support Live playback.");return Zo(i),[4,r.VDt()];case 4:if(s.sent(),Zo(i),!r.GDt||!r.GDt.bCt()&&r.GDt.gCt===(null!=t?t:"now"))return[3,10];if(r.WDt(),!r.bDt)return[3,9];s.label=5;case 5:return r.bDt.XIt?[4,Ho(r.bDt.qIt,i)]:[3,7];case 6:return s.sent(),[3,5];case 7:return[4,r.bDt.eT(0,1/0)];case 8:s.sent(),s.label=9;case 9:null==(e=r.GDt)||e.Rb(null!=t?t:"now"),s.label=10;case 10:if(!r.HDt||!r.HDt.bCt()&&r.HDt.gCt===(null!=t?t:"now"))return[3,16];if(r.UDt(),!r.ADt)return[3,15];s.label=11;case 11:return r.ADt.XIt?[4,Ho(r.ADt.qIt,i)]:[3,13];case 12:return s.sent(),[3,11];case 13:return[4,r.ADt.eT(0,1/0)];case 14:s.sent(),s.label=15;case 15:null==(u=r.HDt)||u.Rb(null!=t?t:"now"),s.label=16;case 16:return r._o(new dG),Zo(i),r.o8=void 0,r.FDt(),[2]}}))}))()},i.Rb=function(t){var n=this;this.r8.jw(),this.r8=new Qo,this.o8=Ko((function(i){return n.h8(t,n.o8,i)}),this.r8).catch(this.X6)},i.h8=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return n?[4,n]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,Ho(r.W,i)];case 3:return s.sent(),Zo(i),[4,r.VDt()];case 4:return s.sent(),Zo(i),r.GDt&&(r.GDt.bCt()||r.GDt.gCt!==t)&&r.WDt(),r.HDt&&(r.HDt.bCt()||r.HDt.gCt!==t)&&r.UDt(),r._o(new dG),Zo(i),null==(e=r.GDt)||e.Rb(t),null==(u=r.HDt)||u.Rb(t),r.o8=void 0,r.FDt(),[2]}}))}))()},i.mDt=function(t,n){var i,r,e=this;return(null==(i=this.GDt)?void 0:i.pat)===n&&(null==(r=this.HDt)?void 0:r.pat)===t?ut.resolve():(this.XDt.jw(),this.XDt=new Qo,this.zDt=Ko((function(i){return e.qDt(t,n,e.zDt,i)}),this.XDt).catch(this.X6),this.zDt)},i.qDt=function(t,n,i,r){var e=this;return Zt((function(){return Ht(this,(function(u){switch(u.label){case 0:return i?[4,i]:[3,2];case 1:u.sent(),u.label=2;case 2:return[4,Ho(e.EDt.Ub,r)];case 3:return u.sent(),Zo(r),[4,e.VDt()];case 4:return u.sent(),Zo(r),[4,e.YDt(t,n)];case 5:return u.sent(),[4,e.KDt(t,n)];case 6:return u.sent(),Zo(r),e.zDt=void 0,e.FDt(),[2]}}))}))()},i.YDt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_;return Ht(this,(function(b){switch(b.label){case 0:return s=null!=(u=i.BDt)?u:"now",(null==(r=i.GDt)?void 0:r.pat)===n?[3,5]:(a=i.GDt&&!i.GDt.bCt(),c=null==(o=i.GDt)?void 0:o.gCt,i.GDt?[4,i.GDt.Xw()]:[3,2]);case 1:b.sent(),i.GDt=void 0,b.label=2;case 2:return i.bDt?[4,i.bDt.qIt]:[3,4];case 3:b.sent(),b.label=4;case 4:n&&(v=null!=(f=null==(h=i.bDt)?void 0:h.wR)?f:BA.pB(),l=a?c:v.Tn(v.V-1),i.GDt=new IX(n,i.fW,i.edt),i.GDt.bn(vX.iCt,(function(t){return i.jDt(rm.vE,t)})),i.GDt.Rb(null!=l?l:s)),b.label=5;case 5:return(null==(e=i.HDt)?void 0:e.pat)===t?[3,10]:(g=i.HDt&&!i.HDt.bCt(),m=null==(d=i.HDt)?void 0:d.gCt,i.HDt?[4,i.HDt.Xw()]:[3,7]);case 6:b.sent(),i.HDt=void 0,b.label=7;case 7:return i.ADt?[4,i.ADt.qIt]:[3,9];case 8:b.sent(),b.label=9;case 9:t&&(y=null!=(p=null==(w=i.ADt)?void 0:w.wR)?p:BA.pB(),_=g?m:y.Tn(y.V-1),i.HDt=new IX(t,i.fW,i.edt),i.HDt.bn(vX.iCt,(function(t){return i.jDt(rm.mE,t)})),i.HDt.Rb(null!=_?_:s)),b.label=10;case 10:return[2]}}))}))()},i.KDt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(r=function(t,n,i,r,e){var u=$X(t,null==n?void 0:n.Ht.UCt.UCt,null==i?void 0:i.Ht.UCt.UCt,r),s=Nj(u),o=[];n&&o.push({Mk:n.jq});i&&o.push({Mk:i.jq});return{Tw:Ey.wW,g4:o,sH:s,C4:e&&!r}}(i.Sc.contentProtection,n,t,i.WB.qB.zB,i.Sc.useManagedMediaSource),!i.JG||!i.JG.dJ(r))return[3,12];if(s=!(null==(e=i.GDt)?void 0:e.bCt()),!i.bDt||!s)return[3,5];h.label=1;case 1:return i.bDt.XIt?[4,i.bDt.qIt]:[3,3];case 2:return h.sent(),[3,1];case 3:return[4,i.bDt.cY()];case 4:h.sent(),h.label=5;case 5:if(o=!(null==(u=i.HDt)?void 0:u.bCt()),!i.ADt||!o)return[3,10];h.label=6;case 6:return(null==(a=i.ADt)?void 0:a.XIt)?[4,i.ADt.qIt]:[3,8];case 7:return h.sent(),[3,6];case 8:return[4,null==(c=i.ADt)?void 0:c.cY()];case 9:h.sent(),h.label=10;case 10:return[4,i.JG._J(r)];case 11:return h.sent(),[3,21];case 12:return i.WDt(),i.UDt(),i.bDt?[4,i.bDt.Xw()]:[3,14];case 13:h.sent(),i.bDt=void 0,h.label=14;case 14:return i.ADt?[4,i.ADt.Xw()]:[3,16];case 15:h.sent(),i.ADt=void 0,h.label=16;case 16:i.WB.p7(),h.label=17;case 17:return h.trys.push([17,,20,21]),[4,i.WB.nr()];case 18:return h.sent(),[4,i.WB.$n(r)];case 19:return i.JG=h.sent(),i.xDt.Vb(),i.JG.h4&&i.GDt&&(i.JG.h4.bn(ZR.tJ,i.Ds),i.bDt=new hX(i.JG.h4,i.WB,n,i.NDt)),i.JG.a4&&i.HDt&&(i.JG.a4.bn(ZR.tJ,i.Ds),i.ADt=new hX(i.JG.a4,i.WB,t,i.NDt)),"live"===i.hPt.a0&&i.JG.d4(1/0),[3,21];case 20:return i.WB.w7(),[7];case 21:return[2]}}))}))()},i.FDt=function(){!this.ODt||this.o8||this.zDt||this.QDt||this.JDt||(this.gZ.Sn(),this.$Dt=new Qo,this.HDt&&this.ADt&&(this.QDt=this.tNt(this.HDt,this.ADt,this.$Dt.Uw).catch(this.X6)),this.GDt&&this.bDt&&(this.JDt=this.tNt(this.GDt,this.bDt,this.$Dt.Uw).catch(this.X6)))},i.VDt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.gZ.RI(),t.$Dt&&(t.$Dt.jw(),t.$Dt=void 0),t.QDt?[4,t.QDt]:[3,2];case 1:n.sent(),t.QDt=void 0,n.label=2;case 2:return t.JDt?[4,t.JDt]:[3,4];case 3:n.sent(),t.JDt=void 0,n.label=4;case 4:return[2]}}))}))()},i.tNt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:return[4,r.W];case 1:g.sent(),g.label=2;case 2:return t.XIt?[4,Ho(t.qIt,i)]:[3,4];case 3:return g.sent(),[3,2];case 4:return n.XIt?[4,Ho(n.qIt,i)]:[3,6];case 5:return g.sent(),[3,4];case 6:return t.bCt()?[3,13]:(e=qn.Wg()/1e3,u="now"===t.gCt,[4,t.ACt()]);case 7:return s=g.sent(),o=s.initialization,a=s.data,c=s.metadata,h={Tw:GR.iJ,Kk:o},f=a?{Tw:GR.iJ,Kk:a}:void 0,v=n.wR,!qn.Ys.ep&&!r.WB.qB.zB&&c&&v.Tn(v.V-1)>c.wit?[4,n.eT(c.wit,1/0)]:[3,9];case 8:g.sent(),g.label=9;case 9:return[4,n.A2(h)];case 10:return g.sent(),f?[4,n.g2(f,c,t.pat)]:[3,12];case 11:g.sent(),g.label=12;case 12:l=n.wR.iB(v),u&&l.V>0&&r.RDt.IIt(e,l.Tn(l.V-1)),g.label=13;case 13:return t.mCt?[3,15]:(Zo(i),d=t.ICt(),[4,Ho(n.appendStream(d,t),i)]);case 14:return g.sent(),[3,13];case 15:return[2]}}))}))()},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.vW.jw(),t.gpt?[4,t.gpt.catch(Si)]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.o8?(t.r8.jw(),t.WDt(),t.UDt(),[4,t.o8.catch(Si)]):[3,4];case 3:n.sent(),n.label=4;case 4:return t.zDt?(t.XDt.jw(),t.WDt(),t.UDt(),[4,t.zDt.catch(Si)]):[3,6];case 5:n.sent(),n.label=6;case 6:return[4,t.VDt()];case 7:return n.sent(),t.GDt?[4,t.GDt.Xw()]:[3,9];case 8:n.sent(),n.label=9;case 9:return t.HDt?[4,t.HDt.Xw()]:[3,11];case 10:n.sent(),n.label=11;case 11:return t.GDt=void 0,t.HDt=void 0,t.xDt.jw(),t.EDt.jw(),t.JG?[4,t.WB.nr()]:[3,13];case 12:n.sent(),t.JG=void 0,n.label=13;case 13:return t.bDt=void 0,t.ADt=void 0,t.WB.vn(Iy.UL,t.XB),t.WB.vn(mG,t.updateActiveQualities),t.cO.nr(),t.SDt=void 0,t.dO.nr(),t.TDt=void 0,t.hPt=void 0,t.PDt&&(t.PDt.Xw(),t.PDt=void 0),t.ODt=!1,[2]}}))}))()},xt(n,[{key:"HC",get:function(){return this.hPt}},{key:"wR",get:function(){return this.bDt&&this.ADt?this.bDt.wR.jn(this.ADt.wR):this.bDt?this.bDt.wR:this.ADt?this.ADt.wR:BA.pB()}},{key:"zPt",get:function(){return this.SDt}},{key:"YPt",get:function(){return this.TDt}},{key:"ht",get:function(){return this.cO}},{key:"rt",get:function(){return this.dO}},{key:"kDt",get:function(){return this.EDt.Ub}},{key:"W",get:function(){return this.xDt.Ub}},{key:"hI",get:function(){return this.hPt?function(t,n,i){var r,e=null==(r=t.APt[0])?void 0:r.ER,u=t._Pt;if(void 0===e||void 0===u)return i>0&&i<ar?new BA([0,i],[!0,!0]):BA.pB();var s=n.OIt;if(!s){var o=KV(t.mPt).getTime()/1e3;s=e+(Date.now()/1e3-o)}return new BA([s-u,s],[!0,!0])}(this.hPt,this.RDt,this.WB.ct):BA.pB()}},{key:"WC",get:function(){return Co([this.MDt,this.LDt].filter(Yn),(function(t){return t.theolive}))}},{key:"BDt",get:function(){var t=this.RDt.OIt;if(void 0!==t)return t}}]),n}(aa);U(),St(),Ct();var pG=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}Rt(n,t);var i=n.prototype;return i.jB=function(){var t=this.WB.wR;return 0===t.V?0:t.Tn(t.V-1)-this.WB.ER},i.ZC=function(){this.na.ZC()},i.EB=function(){return oX(t.prototype.EB.call(this))},i.QB=function(){return!qn.Ys.$g},n}(UA),yG=[va.jy,va.qy,va.hb,va.Dy,va.Yy,va.ub,va.Iy,va.Ly,va.Ny],_G=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).nDt=void 0,s.cZ=!1,s.r8=new Qo,s.o8=void 0,s.uxt=void 0,s.wNt=new Qo,s.Xit=!0,s.eNt=!1,s.cO=new aA,s.dO=new aA,s.KG=void 0,s.YG=void 0,s.aNt=iS.$H,s.pd=function(){var t=s.wR;t.length>0&&s.NDt.nW(t.start(0))},s.sNt=function(){s.WB.KR!==s.Xit&&(s.WB.KR?s.EI():s.xI().catch(Si))},s.IX=function(){s.eNt=!0},s.fNt=function(t){s.KG=t.errorObject,s.YG=cm(s.KG),s.cNt(s.KG)},s.nNt=function(t){s.KG=fm(t.lt),s.YG=t.lt,s.cNt(s.KG)},s.WB=n,s.mH=new Fy(s.WB,!0),s.fW=i,s.iH=new QZ(r.Ij,r.cj.AG),s.hH=new Mk(i),s.WB.wH=s.hH,s.NDt=new lV(s.WB),s.Hl=new Ok([s.WB.nt,s.NDt.Z]),s.RDt=new $Z,s.hNt=new UZ(s),s.pZ=e,s.edt=u.retryConfiguration,s.wC(),s}Rt(n,t);var i=n.prototype;return i.wC=function(){this.WB.bn(yG,this.Ds),this.WB.bn(Iy.UL,this.IX),this.WB.bn([va.ho,va.zy],this.sNt),this.WB.bn(Yp.fa,this.nNt),this.WB.bn(va.hb,this.pd),this.mH.bn(Ry,this.Ds)},i.gC=function(){this.WB.vn(yG,this.Ds),this.WB.vn(Iy.UL,this.IX),this.WB.vn([va.ho,va.zy],this.sNt),this.WB.vn(Yp.fa,this.nNt),this.WB.vn(va.hb,this.pd),this.mH.vn(Ry,this.Ds)},i.II=function(){return!1},i.SI=function(){return this.WB.Sa},i.ja=function(){return this.WB.fH},i.OI=function(t){return this.WB._H(t)},i.be=function(){this.WB.be()},i.ge=function(){return this.WB.ge()},i.NI=function(){},i.MI=function(){},i.CI=function(){},i.DI=function(){},i.RR=function(t,n){var i=this;this.r8.jw(),this.r8=new Qo,this.o8=Ko((function(n){return i.h8(t,n,i.o8)}),this.r8)},i.oNt=function(){var t=this.HC;if(t){for(var n=new Date(t.creationDate).getTime(),i=NaN,r=0,e=t.presentations;r<e.length;r++){var u=e[r];u.currentTime&&(i=u.currentTime.value/(u.currentTime.scale||1)*1e3)}if(!E(i))return new Date(n-i)}},i.uNt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.aNt!==iS.$H&&t.nDt?(t.nDt.$n(),t.aNt!==iS.JB&&t.aNt!==iS.yG?[3,2]:[4,t.nDt.kDt]):[2];case 1:n.sent(),"vod"===t.nDt.HC.a0&&t.nDt.Sn(),n.label=2;case 2:return[2]}}))}))()},i.Ca=function(t,n,i){var r=this;return Zt((function(){var n,e;return Ht(this,(function(u){switch(u.label){case 0:return Zo(i),[4,r.nr()];case 1:return u.sent(),Zo(i),cT(t)?(n=t,r.Sc=n,e=new VZ(r.fW),r.lNt=r.dNt(t),r.ZG=new pG(r,r.WB,r.lNt),r.ZG.Rt=!0,r.ZG.bn("latencyrecoveryseek",r.Ds),r.yI.Aa(r.ZG),r.nDt=new wG(n,e,r.WB,r.iH,r.fW,r.RDt,r.ZG,r.edt,r,r.NDt),r.nDt.bn(va.Uy,r.Ds),r.nDt.bn(Yp.fa,r.fNt),r.cO.vC=r.nDt.ht,r.dO.vC=r.nDt.rt,r.hH.kG(t.contentProtection),na(r.uNt()),[2]):(r.KG=new ol(ul.SOURCE_INVALID,"HESP source incorrectly configured"),r.YG=cm(r.KG),r.cNt(r.KG),[2,ut.resolve()])}}))}))()},i.dNt=function(t){return t.latencyConfiguration?t.latencyConfiguration:aX()},i.xI=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return t.nDt?(t.Xit=!1,t.nDt.$n(),[4,t.nDt.W]):[2];case 1:return r.sent(),t._o(new _T(t.ER)),i=t.nDt.py(gG.NZ),t.ZC(),[4,i];case 2:return r.sent(),t.nDt.Sn(),[4,t.WB.xI()];case 3:return r.sent(),null==(n=t.ZG)||n.Sn(),[2]}}))}))()},i.EI=function(){var t;this.nDt&&(this.Xit=!0,this._o(new yT(this.ER)),this.nDt.RI(),null==(t=this.ZG)||t.RI(),this.WB.EI())},i.ZC=function(){var t=this;if(this.uxt)throw new y("Cannot seek while resetting");this.r8.jw(),this.r8=new Qo,this.o8=Ko((function(n){return t.ZDt(t.o8,n)}),this.r8)},i._Nt=function(){var t;null==(t=this.nDt)||t.RI()},i.cNt=function(t){this._o(new Ik(t)),this._Nt()},i.h8=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(r.uxt)throw new y("Cannot seek while resetting");return u=t,r.vNt(u),r.hI.length>0&&(u=BA.Cn(r.hI).KL(u),r.vNt(u)),r.nDt?i?[4,i.catch(Si)]:[3,2]:[2];case 1:a.sent(),Zo(n),a.label=2;case 2:(null==(e=r.ZG)?void 0:e.wB)&&r.ZG.RI(),a.label=3;case 3:return a.trys.push([3,5,,6]),s=r.WB.py(va.Qy,n),r.WB.Rb(u),r.nDt.Rb(u),[4,s];case 4:return a.sent(),[3,6];case 5:throw Xo(o=a.sent()),r.nDt.RI(),r.mNt(),o;case 6:return r.gNt(),[2]}}))}))()},i.ZDt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return i._o(new fa("golive")),r=i.BDt,i.vNt(r),i.nDt?t?[4,t.catch(Si)]:[3,2]:[2];case 1:f.sent(),Zo(n),f.label=2;case 2:return f.trys.push([2,11,,13]),e=i.ZG.yB.targetOffset,[4,i.nDt.kDt];case 3:f.sent(),r&&e>=1?(i.ZG.QB()||(s=A.min(1,.5*e),e-=s),u=r-e):u=i.BDt?i.BDt-.2:void 0,i.nDt.ZC(u),f.label=4;case 4:return i.Ckt.V>0?[4,i.nDt.py(ZR.tJ,n)]:[3,6];case 5:return f.sent(),[3,4];case 6:o=i.Ckt,f.label=7;case 7:return 0!==i.Ckt.iB(o).V?[3,9]:[4,i.nDt.py(ZR.tJ,n)];case 8:return f.sent(),[3,7];case 9:return u=i.Ckt.Sn(i.Ckt.V-1),u=i.pNt(u),i.vNt(u),a=i.WB.py(va.Qy,n),i.WB.Rb(u,!0),[4,a];case 10:return f.sent(),[3,13];case 11:if(jo(c=f.sent()))throw null==(h=i.ZG)||h.Sn(),c;return i.nDt.RI(),[4,i.nDt.IDt()];case 12:throw f.sent(),i.mNt(),c;case 13:return i.gNt(),[2]}}))}))()},i.vNt=function(t){this.cZ=!0,this.rNt=t,this._o(new TT(this.ER))},i.gNt=function(){this.cZ&&(this.rNt=void 0,this.cZ=!1,this._o(new ST(this.ER)))},i.mNt=function(){this.rNt=void 0,this.cZ=!1},i.pNt=function(t){return t},i.cxt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return Zo(i),t?[4,t.catch(Si)]:[3,2];case 1:u.sent(),u.label=2;case 2:return n?[4,n.catch(Si)]:[3,4];case 3:u.sent(),u.label=4;case 4:return[4,r.NDt.nr()];case 5:return u.sent(),null==(e=r.ZG)||e.RI(),r.nDt?[4,r.nDt.Xw()]:[3,7];case 6:u.sent(),r.nDt=void 0,u.label=7;case 7:return Zo(i),[4,r.WB.nr()];case 8:return u.sent(),Zo(i),r.WB.vH(),r.dO.nr(),r.cO.nr(),r.mNt(),r.mH.nr(),r.RDt.nr(),r.KG=void 0,r.YG=void 0,r.Xit=!0,r.eNt=!1,r.Sc=void 0,r.uxt=void 0,r.lNt=void 0,[2]}}))}))()},i.nr=function(){return this.r8.jw(),this.r8=new Qo,this.wNt.jw(),this.wNt=new Qo,this.uxt=this.cxt(this.o8,this.uxt,this.wNt.Uw),this.uxt},i.yn=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return t.gC(),t.mH.yn(),t.Sc?[4,t.nr()]:[3,2];case 1:r.sent(),r.label=2;case 2:return t.Ro(),t.WB.wH=void 0,null==(n=t.ZG)||n.vn("latencyrecoveryseek",t.Ds),null==(i=t.ZG)||i.Xw(),[4,t.NDt.yn()];case 3:return r.sent(),t.Hl.yn(),t.cO.yn(),t.dO.yn(),[2]}}))}))()},xt(n,[{key:"ht",get:function(){return this.cO}},{key:"rt",get:function(){return this.dO}},{key:"HC",get:function(){var t,n;return null==(n=this.nDt)||null==(t=n.HC)?void 0:t.HC}},{key:"gI",get:function(){return this.WB.gI},set:function(t){this.WB.gI=t}},{key:"AI",get:function(){return!1},set:function(t){}},{key:"eH",get:function(){return this.iH}},{key:"ZR",get:function(){return this.WB.ZR},set:function(t){this.WB.ZR=t}},{key:"ER",get:function(){var t;return null!=(t=this.rNt)?t:this.WB.ER},set:function(t){this.RR(t)}},{key:"bR",get:function(){var t=this.oNt();if(t)return new Date(t.getTime()+1e3*this.ER)},set:function(t){var n=this.oNt();t&&n&&(this.ER=n.getTime()-t.getTime())}},{key:"bt",get:function(){return this.Sc}},{key:"QR",get:function(){return this.WB.QR},set:function(t){this.WB.QR=t}},{key:"ct",get:function(){var t=this.WB.ct;return t===ar?1/0:t}},{key:"PR",get:function(){return!1}},{key:"MR",get:function(){return this.KG}},{key:"lt",get:function(){return this.YG}},{key:"OR",get:function(){return this.hNt}},{key:"WR",get:function(){return!1}},{key:"GR",get:function(){return ss({},{_O:0,vO:0,mO:0,gO:0,pO:0,wO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.WB.HR())}},{key:"qR",get:function(){return!0}},{key:"uI",get:function(){return this.cZ}},{key:"$G",get:function(){}},{key:"nt",get:function(){return this.Hl}},{key:"dI",get:function(){return this.WB.dI}},{key:"vI",get:function(){return this.WB.vI}},{key:"wR",get:function(){return this.Ckt.ks()}},{key:"Ckt",get:function(){return this.nDt?this.nDt.wR:BA.pB()}},{key:"tI",get:function(){return this.WB.tI.ks()}},{key:"hI",get:function(){var t,n;return null!=(n=null==(t=this.nDt)?void 0:t.hI.ks())?n:BA.pB().ks()}},{key:"KR",get:function(){return this.Xit}},{key:"GC",get:function(){return!0}},{key:"yI",get:function(){return this.pZ}},{key:"BDt",get:function(){var t;return null==(t=this.nDt)?void 0:t.BDt}},{key:"KB",get:function(){if(!this.KR&&this.eNt){var t=this.ER,n=this.RDt.FIt(t);if(void 0!==n){var i=this.Ckt,r=0;if(i.V>0){var e=i.Tn(i.V-1);r=A.max(e-t,0)}return A.max(n,r)}}}},{key:"WC",get:function(){var t;return null==(t=this.nDt)?void 0:t.WC}},{key:"rI",get:function(){return this.WB.rI}},{key:"iI",get:function(){return this.aNt},set:function(t){this.aNt=t,this.uNt()}}]),n}(aa),bG=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,s)||this).TNt=!1,o.yNt=!1,o.ANt=[],o.SNt=void 0,o.kNt=function(){var n=o.ZR||0===o.gI;"hidden"===v.visibilityState&&!o.KR&&n?(o.EI(),o.TNt=!0):"visible"===v.visibilityState&&o.TNt&&(o.yNt=!0,o.SNt=qn.Gg((function(){for(var n=0,i=o.ANt;n<i.length;n++){var r=i[n];t.prototype._o.call($j(o),r)}o.SNt=void 0,o.yNt=!1}),2e3),na(o.xI()),o.TNt=!1)},o.bH=u,o.ENt=n,Gn.Bg&&v.addEventListener("visibilitychange",o.kNt),o}Rt(n,t);var i=n.prototype;return i._o=function(n){if(this.yNt){if(n.type===va.Qy)return void this.bNt();if(n.type===Iy.WL||n.type===va.Jy||n.type===Iy.UL)return void this.ANt.push(n)}t.prototype._o.call(this,n)},i.bNt=function(){this.yNt=!1,void 0!==this.SNt&&qn.Ug(this.SNt);var n=mo(this.ANt,(function(t){return t.type===Iy.UL}));n&&t.prototype._o.call(this,n),Eo(this.ANt)},i.TI=function(){if($B(this.WB))return this.WB.TI()},i.nr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.TNt=!1,n.bNt(),[4,t.prototype.nr.call(n)];case 1:return i.sent(),[2]}}))}))()},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return v.removeEventListener("visibilitychange",n.kNt),n.bNt(),[4,t.prototype.yn.call(n)];case 1:return i.sent(),[4,n.WB.Xw()];case 2:return i.sent(),[4,n.bH.yH(n.ENt)];case 3:return i.sent(),[2]}}))}))()},i.pNt=function(t){return Gn.eg&&Gn.og>=15&&Gn.Kv?t+.25:t},n}(_G);U(),St(),Gt(),Dt(),Jt();var kG=function(){function t(){}var n=t.prototype;return n.FH=function(t,n){return Zt((function(){return Ht(this,(function(n){return[2,AG(t.type)]}))}))()},n.VH=function(t){return Zt((function(){return Ht(this,(function(n){return[2,x_(t)]}))}))()},xt(t,[{key:"UH",get:function(){return xk.JC}}]),t}();function AG(t){if(!t)return!1;var n=t.toLowerCase();return Xs(n,yA.QC)||Xs(n,yA.JC)}var TG=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.uP=function(t,n,i,r,e,u,s){var o=new mO(n),a=o.OH(rm.mE);return new bG(a,i,e,u,o,r)},i.FH=function(n,i){return qn.eR&&Vl?Gn.IS_IOS_CHROME||Gn.Cm&&Gn.Dm<6?ut.resolve(!1):Wr(n.useManagedMediaSource)?t.prototype.FH.call(this,n,i):ut.resolve(!1):ut.resolve(!1)},i.WH=function(){return!1},n}(kG);qT(new TG),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt();var SG=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,s)||this).bH=u,o}Rt(n,t);var i=n.prototype;return i.TI=function(){if($B(this.WB))return this.WB.TI()},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),[4,n.bH.yH(n.WB)];case 2:return i.sent(),[2]}}))}))()},n}(_G),EG=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.FH=function(n,i){var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return Gn.IS_IOS_CHROME?[2,!1]:[4,t.prototype.FH.call(r,n,i)];case 1:if(s=a.sent(),!(null!=(o=null==(u=Pi())||null==(e=u.canPlayType)?void 0:e.call(u,yA.YC))?o:"")||!s||!("serviceWorker"in d))return[2,!1];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,ua(d.serviceWorker.ready,1e3)];case 3:return a.sent(),[2,!0];case 4:return a.sent(),[2,!1];case 5:return[2]}}))}))()},i.VH=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return n.fairplay?[4,t.prototype.VH.call(i,n)]:[2,!1];case 1:return[2,r.sent()]}}))}))()},i.uP=function(t,n,i,r,e,u,s){if(t instanceof HTMLDivElement){var o=n.ert(rm.mE);return new SG(o,i,e,u,n,r)}throw new ol(ul.CONFIGURATION_ERROR,"Container Div element expected.")},i.WH=function(){return!1},xt(n,[{key:"UH",get:function(){return xk.wG}}]),n}(kG);Gn.eg&&Gn.su&&qT(new EG),U(),St(),U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt();var IG="theo_live_user_id",RG=function(){function t(t){this.externalId=t,this.id=tI(),this.userId=CG(),this.nS=0}return t.prototype.incrementSequenceNumber=function(){this.nS+=1},xt(t,[{key:"sequenceNumber",get:function(){return this.nS}}]),t}();function CG(){try{var t=localStorage.getItem(IG);if(t)return t;var n=tI();return localStorage.setItem(IG,n),n}catch(t){return tI()}}U(),St(),Gt(),Dt(),Ct(),Jt();var NG=function(){function t(t,n){this.fW=t,this.xNt=new Map,this.RNt=n}return t.prototype.Sgt=function(t){var n=this.xNt.get(t.id);if(n)return n;var i=new xG(t,this.fW,this.RNt);return this.xNt.set(t.id,i),i},t}(),xG=function(){function t(t,n,i){this.zS=t,this.fW=n,this.MNt=new Pl,i.discoveryHeader&&this.MNt.append("x-theolive-discovery",i.discoveryHeader),this.ir()}var n=t.prototype;return n.ir=function(){var t=this;this.PNt=!1,this.CNt=yr(),this.DNt=this.aTt(),this.DNt.catch((function(){return t.PNt=!0}))},n.aTt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return n=t.zS,i=n.id,r=n.discovery,e=n.devDiscovery,Gs(r.pathname,"manifest.json")?[2,DG(t.zS)]:[4,t.NNt(i,r,t.MNt)];case 1:return(u=v.sent())||void 0===e?[3,3]:[4,t.NNt(i,e,t.MNt)];case 2:u=v.sent(),v.label=3;case 3:if(!u)throw new MG(i);if(s=u.mode,o=u.status,a=u.fallback,c=u.metadata,"locked"===s)throw new BG(i);if("deleted"===o)throw new OG(i);return h={id:t.zS,name:c.name,mode:s,status:o,source:LG(u)},a?[4,t.LNt(a,r,e,t.MNt)]:[3,5];case 4:return f=v.sent(),[3,6];case 5:f=void 0,v.label=6;case 6:return[2,(h.fallback=f,h.insights=null==c?void 0:c.insights,h.enhancedLogging=null==c?void 0:c.enhancedLogging,h.customization=null==c?void 0:c.customization,h.sseEndpoint=u.sseEndpoint,h)]}}))}))()},n.LNt=function(t,n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return"theo.live"!==t.type?[2,{src:t.src,type:t.type}]:[4,e.NNt(t.src,n,r)];case 1:return(u=s.sent())||void 0===i?[3,3]:[4,e.NNt(t.src,i,e.MNt)];case 2:u=s.sent(),s.label=3;case 3:return u?[2,LG(u)]:[2,void 0]}}))}))()},n.NNt=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,r.fW.Qk({Xu:qn.Ih(t,n.toString()).toString(),Jk:i})];case 1:return[4,e.sent().Ik()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))()},xt(t,[{key:"INt",get:function(){return yr()-this.CNt>36e5}},{key:"jtt",get:function(){return(this.PNt||this.INt)&&this.ir(),this.DNt}}]),t}();function DG(t){return{id:{id:t.id,discovery:qn.Ih("dev://"),devDiscovery:void 0},name:"demo",mode:"demo",status:"playing",source:{src:t.id,type:"theo.live"},customization:{autoplay:!0}}}var PG=function(t){function n(n,i,r){var e;return(e=t.call(this,n,"Could not load channel with id "+i+": "+r)||this).channelId=i,e.reason=r,e}return Rt(n,t),n}(ol),MG=function(t){function n(n){return t.call(this,ul.THEO_LIVE_CHANNEL_NOT_FOUND,n,"The channel could not be found")||this}return Rt(n,t),n}(PG),BG=function(t){function n(n){return t.call(this,ul.THEO_LIVE_CHANNEL_NOT_FOUND,n,"This account has been locked")||this}return Rt(n,t),n}(PG),OG=function(t){function n(n){return t.call(this,ul.THEO_LIVE_CHANNEL_NOT_FOUND,n,"The channel got deleted")||this}return Rt(n,t),n}(PG);function LG(t){var n;return{src:t.hespSrc,type:"theo.live",hlsSrc:t.hlsSrc,maxMobileBitrate:t.maxMobileBitrate,targetLatency:null==(n=t.metadata.customization)?void 0:n.targetLatency,contentProtection:t.drmConfig?FG(t.drmConfig):void 0}}function FG(t){var n=t.integration,i=t.widevine,r=t.playready,e=t.fairplay;return ss({integration:n},i&&{widevine:{licenseAcquisitionURL:i.licenseUrl}},r&&{playready:{licenseAcquisitionURL:r.licenseUrl}},e&&{fairplay:{licenseAcquisitionURL:e.licenseUrl,certificateURL:e.certificateUrl}})}function VG(t,n,i){return{id:t,discovery:qn.Ih(t,n),devDiscovery:i?qn.Ih(t,i):void 0}}U(),St(),ct(),U(),St();var UG=function(t){return t.STARTING="s",t.PLAYING="p",t.SEEKING="k",t.REBUFFERING="r",t.PAUSED="a",t.ENDED="e",t.QUIT="q",t}({}),WG=function(t){return t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.OTHER="o",t}({});function jG(t){return 100*A.round(t/100)}function ZG(t){for(var n=t.xR(),i=t.yR(),r=0;r<i.length;r++)if(i.start(r)<=n&&n<=i.end(r))return 1e3*(i.end(r)-n);return 0}function XG(t){return mo(t.lC,(function(t){return t.Rt}))}function GG(t){return t.NC.fC(0)}function HG(t){return t.NC.fC(t.NC.V-1)}U(),St(),Dt(),U(),St();var zG=function(){function t(t,n,i,r){var e,u,s,o;this.BNt=Date.now(),this.VNt=0,this.UNt=0,this.tH=0,this.GNt=0,this.FNt=0,this.Sp=t,this.na=n,this.HNt=null==(u=XG(this.na.rt))||null==(e=u.RC)?void 0:e.o,this.ZNt=null==(o=XG(this.na.ht))||null==(s=o.RC)?void 0:s.o,this.lf=i,this.YG=r}var n=t.prototype;return n.ONt=function(){var t=this.na.XX.cj.bG,n=this.na.yI.KB,i=ZG(this.na);t>0&&void 0!==i&&void 0!==n&&(this.FNt+=1,this.VNt=this.WNt(this.VNt,i),this.UNt=this.WNt(this.UNt,1e3*this.na.yI.kd.targetOffset),this.tH=this.WNt(this.tH,1e3*n),this.GNt=this.WNt(this.GNt,t/1e3))},n.WNt=function(t,n){return t+(n-t)/this.FNt},n.uP=function(){var t={sta:this.Sp,ts:this.BNt,"theo-vt":this.HNt,"theo-at":this.ZNt,"theo-d":this.ct,"theo-r":this.lf};return this.FNt>0?ss({},t,{bl:jG(this.VNt),tbl:jG(this.UNt),ltc:jG(this.tH),mtp:jG(this.GNt),"theo-w":this.FNt}):t},n.XNt=function(){return new t(this.Sp,this.na,this.lf)},t.starting=function(n,i,r){return new t(UG.STARTING,n,i,r)},t.playing=function(n){return new t(UG.PLAYING,n)},t.seeking=function(n,i){return new t(UG.SEEKING,n,i)},t.rebuffering=function(n,i){return new t(UG.REBUFFERING,n,i)},t.paused=function(n){return new t(UG.PAUSED,n)},t.ended=function(n){return new t(UG.ENDED,n)},t.quit=function(n){return new t(UG.QUIT,n)},xt(t,[{key:"ct",get:function(){return Date.now()-this.BNt}}]),t}(),YG=function(){function t(t,n,i){var r=this;this.tMt=[],this.eNt=!1,this.GX=!1,this.oMt=function(){var t;r.eMt(zG.starting(r.na,"fallback",null==(t=r.na.LR())?void 0:t.message))},this.hMt=function(){r.eMt(zG.starting(r.na,"loadChannel"))},this.aMt=function(){r.eMt(zG.ended(r.na))},this.UG=function(t){t.Ht.bn(Cg.hC,r.Zr)},this.Zr=function(){var t,n,i,e,u=null==(n=XG(r.na.rt))||null==(t=n.RC)?void 0:t.o,s=null==(e=XG(r.na.ht))||null==(i=e.RC)?void 0:i.o;u&&s&&(r.qNt&&r.qNt.Sp===UG.PLAYING&&r.qNt.HNt===u&&r.qNt.ZNt===s||r.eMt(zG.playing(r.na)))},this.XB=function(){r.eNt=!0,r.GX=!1,r.eMt(zG.playing(r.na))},this.nMt=function(){r.eNt&&!r.GX&&(r.GX=!0,r.eMt(zG.seeking(r.na,"latencyRecovery")))},this.rMt=function(){r.eNt&&!r.GX&&(r.GX=!0,r.eMt(zG.seeking(r.na,"goLive")))},this.ZB=function(){r.na.uI||r.eMt(zG.rebuffering(r.na,"visible"===v.visibilityState?void 0:"invisible"))},this.sMt=function(){r.eMt(zG.paused(r.na))},this.uMt=function(t){var n=qn.Ih(t.url),i=function(t){var n=t.pathname;if(Gs(n,"manifest.json"))return WG.MANIFEST;if(Zs(n,"/video/"))return WG.VIDEO;if(Zs(n,"/audio/"))return WG.AUDIO;return WG.OTHER}(n);if("o"!==i){r.YNt.incrementSequenceNumber();var e=ss({},t.headers,{"CMCD-Request":r.zNt(),"CMCD-Object":r.KNt(i),"CMCD-Status":r.jNt(),"CMCD-Session":r.QNt()});i===WG.VIDEO&&Gs(n.pathname,".hspc")&&r.qNt&&(r.eMt(r.qNt.XNt()),e=ss({},e,r.$Nt())),t.redirect(ss({},t,{headers:e}))}},this.iMt=function(){r.qNt&&(r.tMt.push(r.qNt.uP()),r.qNt=void 0),r.tMt.push(zG.quit(r.na).uP()),na(r.na.fR.Qk({Xu:r.lMt,Jk:r.$Nt(),DE:!0}))},this.na=t,this.JNt=n,this.YNt=i,this.lMt=qn.Ih("bye",n.source.src).href,f.addEventListener("beforeunload",this.iMt),this.na.bn(Iy.UL,this.XB),this.na.bn(Iy.WL,this.ZB),this.na.bn(va.zy,this.sMt),this.na.OR.bn("latencyrecoveryseek",this.nMt),this.na.OR.bn("golive",this.rMt),this.na.XX.tj(this.uMt),this.na.rt.bn(Tg.VI,this.UG),this.na.ht.bn(Tg.VI,this.UG),this.na.Ost.addEventListener("intenttofallback",this.oMt),this.na.Ost.addEventListener("publicationloadstart",this.hMt),this.na.Ost.addEventListener("publicationoffline",this.aMt),this.qNt=zG.starting(this.na,"loadchannel"),this.cMt=qn.Gp((function(){var t;null==(t=r.qNt)||t.ONt()}),1e3)}var n=t.prototype;return n.zNt=function(){var t,n=this.na.yI.KB,i=ZG(this.na),r=this.na.XX.cj.bG;return KG({bl:i?jG(i):void 0,tbl:jG(1e3*this.na.yI.kd.targetOffset),ltc:n?jG(n):void 0,mtp:r?jG(r/1e3):void 0,sta:null==(t=this.qNt)?void 0:t.Sp,su:!this.eNt||void 0,"theo-sq":this.YNt.sequenceNumber})},n.KNt=function(t){var n,i,r=function(t,n){switch(n){case WG.VIDEO:return XG(t.rt);case WG.AUDIO:return XG(t.ht)}}(this.na,t);return KG({br:(null==r||null==(n=r.RC)?void 0:n.bG)?jG((null==r||null==(i=r.RC)?void 0:i.bG)/1e3):void 0,ot:t,tb:r?jG(HG(r).bG/1e3):void 0,lb:r?jG(GG(r).bG/1e3):void 0})},n.jNt=function(){return KG({"theo-cw":this.na.we.clientWidth,"theo-ch":this.na.we.clientHeight})},n.QNt=function(){var t;return KG({sf:"e",sid:this.YNt.id,st:"l",v:2,"theo-eid":null==(t=this.YNt.externalId)?void 0:t.substring(0,128),"theo-cn":this.JNt.name.substring(0,128),"theo-v":"9.3.1","theo-t":"web","theo-u":this.YNt.userId})},n.$Nt=function(){var t={"CMCD-States":btoa(JSON.stringify(this.tMt))};return this.tMt=[],t},n.eMt=function(t){this.qNt&&this.tMt.push(this.qNt.uP()),this.qNt=t},n.destroy=function(){var t=this;this.iMt(),f.removeEventListener("beforeunload",this.iMt),this.na.vn(Iy.UL,this.XB),this.na.vn(Iy.WL,this.ZB),this.na.vn(va.zy,this.sMt),this.na.OR.vn("latencyrecoveryseek",this.nMt),this.na.OR.vn("golive",this.rMt),this.na.rt.vn(Tg.VI,this.UG),this.na.ht.vn(Tg.VI,this.UG),this.na.rt.lC.forEach((function(n){return n.vn(Cg.hC,t.Zr)})),this.na.ht.lC.forEach((function(n){return n.vn(Cg.hC,t.Zr)})),this.na.Ost.removeEventListener("intenttofallback",this.oMt),this.na.Ost.removeEventListener("publicationloadstart",this.hMt),this.na.Ost.removeEventListener("publicationoffline",this.aMt),this.na.XX.sj(this.uMt),qn.Hp(this.cMt)},t}();function KG(t){return k.keys(t).map((function(n){return function(t,n){switch(void 0===n?"undefined":W(n)){case"boolean":return n?t:t+"=false";case"number":return t+"="+n;case"string":return t+'="'+n+'"';default:return}}(n,t[n])})).filter(Boolean).sort().join(",")}U(),St(),Gt(),Dt(),Ct(),Jt();var qG=function(t){function n(n){var i;return(i=t.call(this,"publicationloadstart")||this).publicationId=n,i}return Rt(n,t),n}(fa),JG=function(t){function n(n){var i;return(i=t.call(this,"publicationoffline")||this).publicationId=n,i}return Rt(n,t),n}(fa),QG=function(t){function n(n,i){var r;return(r=t.call(this,"publicationloaded")||this).publicationId=n,r.channelName=i,r}return Rt(n,t),n}(fa),$G=function(t){function n(){return t.call(this,"intenttofallback")||this}return Rt(n,t),n}(fa),tH=function(t){function n(){return t.call(this,"enterbadnetworkmode")||this}return Rt(n,t),n}(fa),nH=function(t){function n(){return t.call(this,"exitbadnetworkmode")||this}return Rt(n,t),n}(fa),iH=function(t){function n(n){var i;return(i=t.call(this)||this).na=n,i}return Rt(n,t),n.prototype.fMt=function(t){return this.na.fMt(t)},xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{addEventListener:function(n,i){t.bn(n,i)},removeEventListener:function(n,i){t.vn(n,i)},get badNetworkMode(){return t.dMt},set badNetworkMode(n){t.dMt=n},preloadPublications:function(n){return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.fMt(n)];case 1:return[2,i.sent().map((function(t){return{name:t.name}}))]}}))}))()}}}(this)),this.eu}},{key:"dMt",get:function(){return this.na.dMt},set:function(t){this.na.dMt=t}}]),n}(aa);var rH=8e5,eH=function(t){function n(n,i){var r,e,u,s;r=t.call(this,n,i)||this,e=r,r.ODt=!1,r.GT=new Qo,r.mMt=void 0,r.eNt=!1,r.LMt=[],r.wMt=!1,r.UG=function(t){var n,i=t.Ht;i.bn(Cg.hC,r.Zr);var e=uH(null!=(n=i.MC)?n:i.NC.lC);i.MC=e.length>0?e:uH(i.NC.lC)},r.Zr=function(t){var n,i=t.pat;(!i||(null!=(n=i.Myt)?n:i.bG)>=rH)&&r.bMt()},r.nMt=Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return e.yMt(),e.LMt.push(qn.Wg()),e.LMt=e.LMt.filter((function(t){return qn.Wg()-t<=3e5})),e.LMt.length>=3?(e.LMt=[],[4,e.xMt(!0)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))})),r.gMt=Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return e.TMt?[4,e.TMt.jtt]:[2];case 1:return"demo"!==t.sent().mode?[3,3]:(e.TMt.ir(),[4,e.TMt.jtt]);case 2:if("playing"!==t.sent().status)return e._o(new Ik(new ol(ul.THEO_LIVE_END_OF_DEMO,"This demo channel has been stopped automatically after 5 minutes"))),[2];t.label=3;case 3:return[4,e.xMt(!0)];case 4:return t.sent(),[2]}}))})),r.kMt=function(t){if("manifest"===t.type||"segment"===t.type||""===t.type){var n=qn.Ih(t.url);n.searchParams.append("enhancedLogging","true"),t.redirect({url:n.toString()})}},r.pMt=new iH(r);var o,a,c,h=n.kd.theoLive;return r.SMt={sessionId:null!=(o=null==h?void 0:h.sessionId)?o:tI(),userId:null!=(a=null==h?void 0:h.userId)?a:CG(),externalSessionId:null==h?void 0:h.externalSessionId,analyticsEnabled:!1!==(null==h?void 0:h.analyticsEnabled),fallbackEnabled:!1!==(null==h?void 0:h.fallbackEnabled),discoveryUrl:null!=(c=null==h?void 0:h.discoveryUrl)?c:"https://discovery.theo.live/channels/",devDiscoveryUrl:undefined},r.YNt=new RG(null==(u=r.SMt)?void 0:u.externalSessionId),r.AMt=new NG(n.fR,{discoveryHeader:null==(s=r.SMt)?void 0:s.discoveryHeader}),r.na.OR.bn("latencyrecoveryseek",r.nMt),r}Rt(n,t);var i=n.prototype;return i._Mt=function(){this.na.OR.bn("latencyrecoveryseek",this.nMt),this.na.rt.bn(Tg.VI,this.UG)},i.vMt=function(){this.na.OR.vn("latencyrecoveryseek",this.nMt),this.na.rt.vn(Tg.VI,this.UG)},i.BI=function(n){var i=this;return this.ODt?n.type===Iy.UL?(void 0!==this.mMt?(qn.Ug(this.mMt),this.mMt=void 0,this.eNt||this._o(new Oy(this.xR()))):this._o(new Oy(this.xR())),this.eNt=!0,!0):n.type===Iy.WL?(this.mMt||(this.mMt=qn.Gg((function(){i._o(new Py(i.xR())),i.mMt=void 0}),100)),!0):"error"===n.type?(na(this.gMt()),!0):t.prototype.BI.call(this,n):t.prototype.BI.call(this,n)},i.Fst=function(){return this.pMt.wa},i.yMt=function(){if(!this.wMt&&(this.wMt=!0,this.pMt._o(new tH),0!==this.na.rt.V)){var t,n=this.rt.fC(0),i=xo(n.NC.lC,(function(t){return t.bG}));(null!=(t=i.Myt)?t:i.bG)<rH?(n.MC=[i],ut.resolve().then((function(){return n.MC=n.NC.lC.slice()}))):this.bMt()}},i.bMt=function(){if(this.wMt&&(this.wMt=!1,this.pMt._o(new nH),0!==this.na.rt.V)){var t,n=this.na.rt.fC(0),i=uH(null!=(t=n.MC)?t:n.NC.lC);n.MC=i.length>0?i:uH(n.NC.lC)}},i.fMt=function(t){var n=this;return ut.all(t.map(Zt((function(t){return Ht(this,(function(i){switch(i.label){case 0:return[4,Ho(n.AMt.Sgt(VG(t,n.SMt.discoveryUrl,n.SMt.devDiscoveryUrl)).jtt,n.GT.Uw)];case 1:return[2,i.sent()]}}))}))))},i.addSseEndpointToSource=function(t){var n;if(t&&(null==(n=this.Sc)?void 0:n.ads))for(var i=0,r=this.Sc.ads;i<r.length;i++){var e,u=r[i];if("theoads"===u.integration)null!=(e=u).sseEndpoint||(e.sseEndpoint=t)}},i.Ca=function(n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,l;return Ht(this,(function(d){switch(d.label){case 0:r.ODt=!1,u=0,s=null!=(e=null==n?void 0:n.sources)?e:[],d.label=1;case 1:if(!(u<s.length))return[3,10];if(!mT(o=s[u])||o.type!==yA.tP)return[3,8];if(void 0===o.src)return[3,9];r._Mt(),r.ODt=!0,r.pMt._o(new qG(o.src)),a=VG(o.src,r.SMt.discoveryUrl,r.SMt.devDiscoveryUrl),c=r.pMt.py("publicationloaded"),d.label=2;case 2:return d.trys.push([2,5,,6]),r.Sc=n,r.tZ=o,r.TMt=r.AMt.Sgt(a),[4,r.TMt.jtt];case 3:return h=d.sent(),r.addSseEndpointToSource(h.sseEndpoint),(null==(f=h.enhancedLogging)?void 0:f.enabled)&&A.random()<=f.percentage&&r.na.XX.tj(r.kMt),r.SMt.analyticsEnabled&&"theo.live"===h.source.type&&(r.EMt=new YG(r,h,r.YNt)),[4,Ho(r.xMt(r.na.SO),i)];case 4:return d.sent(),[3,6];case 5:throw v=d.sent(),r.w9(),r.dispatchErrorEvent(v),v;case 6:return[4,Ho(c,i).catch(Xo)];case 7:return d.sent(),[2];case 8:if("web"===Dn.Pv&&(null==n?void 0:n.contentProtection)&&(!mT(o)||o.type!==yA.JC))throw l=new ol(ul.CONFIGURATION_ERROR,"Content protection is not supported for this source type"),r.dispatchErrorEvent(l),l;d.label=9;case 9:return u++,[3,1];case 10:return[4,t.prototype.Ca.call(r,n,i)];case 11:return[2,d.sent()]}}))}))()},i.xMt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return n.w9(),n.TMt?[4,n.TMt.jtt]:[2];case 1:return i=e.sent().source,[4,n.RMt(i)];case 2:if("live"!==(r=e.sent()))return[3,11];if("primary"!==n.IMt)return[3,8];e.label=3;case 3:return e.trys.push([3,5,,7]),[4,n.CMt(t)];case 4:return e.sent(),[3,7];case 5:return e.sent(),[4,n.PMt(t)];case 6:return e.sent(),[3,7];case 7:return[3,10];case 8:return[4,n.PMt(t)];case 9:e.sent(),e.label=10;case 10:return[3,17];case 11:return"offline"!==r?[3,13]:[4,n.aMt()];case 12:return e.sent(),[3,17];case 13:return e.trys.push([13,15,,17]),[4,n.CMt(t)];case 14:return e.sent(),[3,17];case 15:return e.sent(),[4,n.aMt()];case 16:return e.sent(),[3,17];case 17:return[2]}}))}))()},i.RMt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n.na.fR.Qk({Xu:t.src})];case 1:return(i=r.sent()).Yk>=200&&i.Yk<300?[2,"live"]:404===i.Yk||503===i.Yk?[2,"offline"]:[2,"error"];case 2:return r.sent(),[2,"error"];case 3:return[2]}}))}))()},i.PMt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.TMt?[4,n.TMt.jtt]:[2];case 1:return i=r.sent(),n.IMt="primary",n.TJ(i.source,i.name,t),[2]}}))}))()},i.aMt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.TMt?[4,t.TMt.jtt]:[2];case 1:return n=i.sent(),t.pMt._o(new JG(n.id.id)),t.DMt=qn.Gg((function(){return t.xMt(t.na.SO)}),15e3),[2]}}))}))()},i.TJ=function(t,n,i){var r,e,u,s,o=this,a=this.TMt.zS.id,c=mE({sources:[{type:sH(t.type),src:t.src,contentProtection:t.contentProtection,useManagedMediaSource:!0,latencyConfiguration:null!=(s=null==(r=this.tZ)?void 0:r.latencyConfiguration)?s:oH(t.targetLatency),hesp:{maxMobileBitrate:t.maxMobileBitrate}},t.hlsSrc?{type:"application/x-mpegurl",src:t.hlsSrc,contentProtection:t.contentProtection}:void 0].filter(Yn),ads:this.eNt?[]:null==(e=this.Sc)?void 0:e.ads,blockContentIfAdError:null==(u=this.Sc)?void 0:u.blockContentIfAdError,streamType:"live"});c.sources[0].bypassLicense=!0,this.na.Ca(c,(new Qo).Uw).then((function(){o.pMt._o(new QG(a,n)),i&&o.na.xI()})).catch(this.dispatchErrorEvent)},i.CMt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.pMt._o(new $G),[4,n.NMt()];case 1:if(!i.sent())throw new y("fallback not live");return[4,n.MMt(t)];case 2:return i.sent(),[2]}}))}))()},i.MMt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return[4,null==(i=n.TMt)?void 0:i.jtt];case 1:return(null==(r=e.sent())?void 0:r.fallback)?(n.IMt="fallback",n.TJ(r.fallback,r.name,t),[2]):[2]}}))}))()},i.NMt=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return[4,null==(n=t.TMt)?void 0:n.jtt];case 1:return r=u.sent(),(null==(i=t.SMt)?void 0:i.fallbackEnabled)&&(null==r?void 0:r.fallback)?[4,t.na.fR.Qk({Xu:r.fallback.src})]:[2,!1];case 2:return[2,(e=u.sent()).Yk>=200&&e.Yk<300]}}))}))()},i.dispatchErrorEvent=function(t){if(t instanceof ol)return this._o(new Ik(t));this._o(new Ik(new ol(ul.THEO_LIVE_UNKNOWN_ERROR,t.message,t)))},i.w9=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.na.RI()];case 1:return n.sent(),void 0!==t.DMt&&(qn.Ug(t.DMt),t.DMt=void 0),[2]}}))}))()},i.RI=function(){var n;return this.GT.jw(),this.GT=new Qo,this.vMt(),void 0!==this.mMt&&(qn.Ug(this.mMt),this.mMt=void 0),this.ODt=!1,this.eNt=!1,null==(n=this.EMt)||n.destroy(),this.EMt=void 0,this.Sc=void 0,this.tZ=void 0,this.TMt=void 0,this.IMt=void 0,this.LMt=[],this.na.XX.sj(this.kMt),this.wMt&&this.bMt(),t.prototype.RI.call(this)},i.yn=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.GT.jw(),void 0!==i.mMt&&(qn.Ug(i.mMt),i.mMt=void 0),i.Ro(),i.vMt(),null==(r=i.EMt)||r.destroy(),i.na.OR.vn("latencyrecoveryseek",i.nMt),[4,t.prototype.yn.call(i,n)];case 1:return e.sent(),[2]}}))}))()},xt(n,[{key:"dMt",get:function(){return this.wMt},set:function(t){this.ODt&&(t?this.yMt():this.bMt())}}]),n}(zk);function uH(t){return t.filter((function(t){var n;return(null!=(n=t.Myt)?n:t.bG)>=rH}))}function sH(t){switch(t){case"theo.live":return"application/vnd.theo.hesp+json";case"hls":return"application/x-mpegurl";case"dash":return"application/dash+xml";default:throw new y("Unknown source type: "+t)}}function oH(t){return void 0===t?aX():{minimumOffset:t-VA,targetOffset:t,maximumOffset:t+VA,forceSeekOffset:t+2.5,minimumPlaybackRate:LA,maximumPlaybackRate:FA}}$k((function(t){return new eH(t)}),Yk.au),U(),St(),U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt();var aH=V(_n());U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var cH=function(t){function n(n,i){var r;return(r=t.call(this)||this).IO=Am(),r.eu=void 0,r.jA=n,r.BMt=i,r}Rt(n,t);var i=n.prototype;return i.ir=function(t,n){this.jA=t,this.BMt=n,this.eu&&this._o(new RU(this.eu))},i.hW=function(){throw new y("Method not implemented.")},i.aW=function(){throw new y("Method not implemented.")},i.yn=function(){this.Ro()},xt(n,[{key:"xN",get:function(){return this.BMt}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=this.ka()}},{key:"o",get:function(){return this.jA.id}},{key:"IC",get:function(){return this.IO}},{key:"bG",get:function(){return this.jA.bitrate}},{key:"Myt",get:function(){}},{key:"Jrt",get:function(){return""}},{key:"Ch",get:function(){return""}},{key:"Fyt",get:function(){return""}},{key:"trt",get:function(){return!0}},{key:"Lyt",get:function(){}}]),n}(aa),hH=function(t){function n(n,i){return t.call(this,n,i)||this}return Rt(n,t),n.prototype.ka=function(){return EU(this)},xt(n,[{key:"oft",get:function(){return 0}},{key:"ji",get:function(){return this.jA.targetWidth}},{key:"Ti",get:function(){return this.jA.targetHeight}},{key:"Byt",get:function(){return 0}}]),n}(cH);U(),St(),Dt(),Ct();var fH=function(t){function n(n,i){var r;return(r=t.call(this)||this).IO=_m(),r.TO=new dm,r.zS=n,r.r5=i,r}Rt(n,t);var i=n.prototype;return i.DO=function(t){this.Rt=t},i.yn=function(){this.Ro();for(var t=0,n=this.TO.lC;t<n.length;t++){n[t].yn()}this.TO.nr()},xt(n,[{key:"Rt",get:function(){return!0},set:function(t){}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=$g(this)}},{key:"Odt",get:function(){}},{key:"Lt",get:function(){return this.r5}},{key:"o",get:function(){return this.zS||"millitrack"}},{key:"IC",get:function(){return this.IO}},{key:"Ch",get:function(){return""}},{key:"gs",get:function(){return""}},{key:"CE",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){this.DO("enabled"===t)}},{key:"RC",get:function(){}},{key:"NC",get:function(){return this.TO}},{key:"MC",get:function(){return this.OMt},set:function(t){if(this.OMt=t,this.Rt){var n=1===(null==t?void 0:t.length)?t[0].xN:void 0;this.FMt(n)}this._o(new ZL(this.TO.lC.slice(),this)),((null==t?void 0:t.length)||this.TO.V)&&this._o(new _V((null==t?void 0:t[0])||this.TO.fC(0)))}},{key:"DC",get:function(){}}]),n}(aa),vH=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).VMt=r,e}Rt(n,t);var i=n.prototype;return i.ir=function(t){for(var n,i=function(i,r){var e=r[i],u=mo(t.layers,(function(t){return t.encodingId===e.id})),s=mo(n.TO.lC,(function(t){return t.o===e.id}));s?s.ir(e,u):n.TO.kO(new hH(e,u))},r=0,e=t.active;r<e.length;r++)n=this,i(r,e);this._o(new wm(this))},i.FMt=function(t){var n;null==(n=this.VMt)||n.WMt(t)},i.yn=function(){this.VMt=void 0,t.prototype.yn.call(this)},xt(n,[{key:"Tw",get:function(){return rm.mE}}]),n}(fH);U(),St(),Dt();var lH=function(){function t(){}var n=t.prototype;return n.ir=function(t){this.UMt=t},n.SG=function(t){},xt(t,[{key:"bG",get:function(){var t,n,i,r,e,u;return(null!=(e=null==(n=this.UMt)||null==(t=n.video.inbounds)?void 0:t.reduce((function(t,n){return t+n.bitrateBitsPerSecond}),0))?e:0)+(null!=(u=null==(r=this.UMt)||null==(i=r.audio.inbounds)?void 0:i.reduce((function(t,n){return t+n.bitrateBitsPerSecond}),0))?u:0)}},{key:"AG",get:function(){var t,n;return null!=(n=null==(t=this.UMt)?void 0:t.currentRoundTripTime)?n:0}}]),t}();U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var dH=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).GMt=0,r}return Rt(n,t),n.prototype.ka=function(){return IU(this)},xt(n,[{key:"Nwt",get:function(){return this.GMt}}]),n}(cH),gH=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).VMt=r,e}Rt(n,t);var i=n.prototype;return i.ir=function(t){for(var n,i=function(i,r){var e=r[i],u=mo(t.layers,(function(t){return t.encodingId===e.id})),s=mo(n.TO.lC,(function(t){return t.o===e.id}));s?s.ir(e,u):n.TO.kO(new dH(e,u))},r=0,e=t.active;r<e.length;r++)n=this,i(r,e);this._o(new wm(this))},i.FMt=function(t){var n;null==(n=this.VMt)||n.HMt(t)},i.yn=function(){this.VMt=void 0,t.prototype.yn.call(this)},xt(n,[{key:"Tw",get:function(){return rm.vE}}]),n}(fH);U(),St(),Ct();var mH=function(t){function n(n,i){var r;return(r=t.call(this,n,n,void 0,!1)||this).qV=i,r}return Rt(n,t),n.prototype.ka=function(){return function(t){return Mg(jm(t),{get mid(){return t.qV.mid},get uuid(){return t.qV.uuid},get timecode(){return t.qV.timecode},get unregistered(){return t.qV.unregistered}})}(this)},n}(Jm);U(),St();var wH=[va.ho,va.zy,Iy.UL,va.hb,va.qy,va.Uy,va.Jy,va.Qy,va.Dy,va.Yy,va.ub,va.Iy,va.jy,va.Ey,va.Ty,va.Ly,va.Ny],pH=["active","inactive","stopped","vad","layers","migrate","viewercount"],yH=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).mZ=n,e.gZ=i,e.pZ=r,e.GT=new Qo,e.gpt=void 0,e.XMt=void 0,e.dO=new im,e.cO=new im,e.qMt=0,e.iH=new lH,e.Ss=function(t){e.BH(fm(t.lt))},e.ewt=function(t){jo(t)||e.BH(new ol(ul.MEDIA_DECODE_ERROR,t.message,t))},e.WB=e.mZ.OH(rm.mE),e.mH=new Fy(e.WB,!0),e.WB.bn(wH,e.Ds),e.WB.bn(Yp.fa,e.Ss),e.mH.bn(Ry,e.Ds),e}Rt(n,t);var i=n.prototype;return i.WMt=function(t){var n;null==(n=this.Nf)||n.select(t).catch(this.ewt)},i.HMt=function(t){var n;null==(n=this.Nf)||n.select(t).catch(this.ewt)},i.TI=function(){return this.WB.TI()},i.RR=function(t,n){},i.ge=function(){this.WB.ge()},i.be=function(){this.WB.be()},i.xI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.$n(),[4,t.WB.xI()];case 1:return n.sent(),[2]}}))}))()},i.EI=function(){this.WB.EI()},i.nr=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return t.Sc=void 0,t.GT.jw(),null==(n=t.Nf)||n.stop(),t.Nf=void 0,t.gpt?[4,t.gpt.catch(Si)]:[3,2];case 1:e.sent(),t.gpt=void 0,e.label=2;case 2:return t.XMt=void 0,[4,t.WB.nr()];case 3:for(e.sent(),t.zMt=void 0,t.qMt=0,t.WB.vH(),i=0,r=t.dO.lC;i<r.length;i++)r[i].yn();return t.cO.nr(),t.dO.nr(),[2]}}))}))()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),[4,t.nr()];case 1:return n.sent(),t.cO.yn(),t.dO.yn(),t.mH.yn(),t.WB.vn(wH,t.Ds),t.WB.vn(Yp.fa,t.Ss),[4,t.mZ.yH(t.WB)];case 2:return n.sent(),[2]}}))}))()},i.Ca=function(t,n,i){var r=this;return Zt((function(){var n,e;return Ht(this,(function(u){return Zo(i),r.qEt(),n=t,r.Sc=n,r.GT=new Qo,n.apiUrl&&aH.Director.setEndpoint(n.apiUrl),e=function(){return aH.Director.getSubscriber({streamName:n.src,streamAccountId:n.streamAccountId,subscriberToken:n.subscriberToken})},r.Nf=new aH.View(void 0,e,void 0,!0),r.YMt=ss({},n.connectOptions,{events:pH}),r.KMt(),[2]}))}))()},i.$n=function(){if(void 0===this.gpt){var t=this.Nf;void 0!==t&&(this.gpt=this.QE(t,this.YMt,this.GT.Uw).catch(this.ewt))}},i.QE=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:Zo(i),u.label=1;case 1:return u.trys.push([1,3,,6]),[4,Ho(t.connect(n),i)];case 2:return u.sent(),t.webRTCPeer.initStats({autoInitStats:!0,statsIntervalMs:1e3}),[3,6];case 3:return Xo(e=u.sent()),function(t){return $n(t)&&"FetchError"===t.name}(e)&&400===e.status?(qn.Vp("[THEOplayer] Millicast connect error, reconnecting.",e),[4,Ho(t.reconnect(),i)]):[3,5];case 4:u.sent(),u.label=5;case 5:return r.BH(new ol(ul.NETWORK_ERROR,e.message,e)),[3,6];case 6:return[2]}}))}))()},i.jMt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:Zo(n),r.label=1;case 1:return r.trys.push([1,,4,5]),i.WB.p7(),i.XMt=t,[4,i.WB.nr()];case 2:return r.sent(),[4,i.WB.$n({Tw:Ey.pW,VC:"",PJ:t,Mk:yA.$C,sH:[]})];case 3:return r.sent(),[3,5];case 4:return i.WB.w7(),[7];case 5:return[2]}}))}))()},i.KMt=function(){var t,n=this,i=this.Nf;i.on("track",(function(t){return n.QMt(t)})),i.on("broadcastEvent",(function(t){return n.JMt(t)})),i.webRTCPeer.on("stats",(function(t){n.ZMt=t,n.iH.ir(t)})),(null==(t=this.YMt)?void 0:t.metadata)&&i.on("metadata",(function(t){return n.$Mt(t)}))},i.QMt=function(t){var n=this.cO.V>0,i=this.dO.V>0,r=n&&!i;if(i&&t.track.kind===rm.mE||r&&t.track.kind===rm.vE){var e=t.streams[0];if(r)for(var u=e.getVideoTracks().slice(),s=0;s<u.length;s++){var o=u[s];e.removeTrack(o)}this.jMt(e,this.GT.Uw).catch(this.ewt)}},i.JMt=function(t){switch(t.name){case"active":this._o(new gj);for(var n=0,i=t.data.tracks;n<i.length;n++){var r=i[n];r.media===rm.mE?this.dO.tt(new vH(r.trackId,this.dO.V?YX.NPt:YX.MPt,this)):r.media===rm.vE&&this.cO.tt(new gH(r.trackId,this.cO.V?zX.NPt:zX.MPt,this))}break;case"inactive":this._o(new mj),this.dO.nr(),this.cO.nr();break;case"stopped":this._o(new mj);break;case"viewercount":default:break;case"layers":var e=t.data;if(0===this.dO.V){var u=new vH("",YX.MPt,this);u.ir(e.medias[0]),this.dO.tt(u)}else{var s=mo(this.dO.lC,(function(t){return t.Lt===YX.MPt}));null==s||s.ir(e.medias[0])}}},i.$Mt=function(t){var n=this.zMt;void 0===n&&((n=this.WB.OI(ty.eW,void 0,void 0,void 0,void 0,Dm.MILLICAST)).CE=Hp.LC,this.zMt=n);var i=this.ER,r=A.max(0,i-10);this.qMt<r&&(gy(n,r),this.qMt=r);var e=new mH(i+.001,t);n._W(e)},i.BH=function(t){this.YG||(na(this.nr()),this.YG=cm(t),this.KG=t,this._o(new Ik(t)))},i.qEt=function(){this.YG=void 0,this.KG=void 0},i.II=function(){return!1},i.CI=function(){},i.DI=function(){},i.NI=function(){this.WB.NI()},i.MI=function(){var t=this.XMt;void 0!==t&&this.jMt(t,this.GT.Uw).catch(this.ewt)},i.SI=function(){return this.WB.Sa},i.ja=function(){return this.WB.fH},i.OI=function(t){return this.WB._H(t)},xt(n,[{key:"AI",get:function(){return!1}},{key:"ht",get:function(){return this.cO}},{key:"wR",get:function(){return this.WB.wR.ks()}},{key:"bR",get:function(){return this.WB.bR},set:function(t){}},{key:"bt",get:function(){return this.Sc}},{key:"ER",get:function(){return this.WB.ER},set:function(t){this.RR(t)}},{key:"ct",get:function(){return this.WB.ct}},{key:"PR",get:function(){return this.WB.PR}},{key:"lt",get:function(){return this.YG}},{key:"MR",get:function(){return this.KG}},{key:"OR",get:function(){}},{key:"WR",get:function(){return this.WB.WR}},{key:"GR",get:function(){var t,n,i,r,e,u,s=this.ZMt,o=null==s||null==(t=s.video.inbounds)?void 0:t[0],a=null==s||null==(n=s.audio.inbounds)?void 0:n[0];return{gO:this.gZ.cj.bG,_O:null!=(i=null==o?void 0:o.framesDropped)?i:0,vO:0,mO:null!=(r=null==o?void 0:o.framesReceived)?r:0,pO:(null!=(e=null==o?void 0:o.totalBytesReceived)?e:0)+(null!=(u=null==a?void 0:a.totalBytesReceived)?u:0),wO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"ZR",get:function(){return this.WB.ZR},set:function(t){this.WB.ZR=t}},{key:"qR",get:function(){var t,n;return null!=(n=null==(t=this.Nf)?void 0:t.isActive())&&n}},{key:"KR",get:function(){return this.WB.KR}},{key:"QR",get:function(){return 1},set:function(t){}},{key:"tI",get:function(){return this.WB.tI.ks()}},{key:"iI",get:function(){return iS.$H},set:function(t){}},{key:"rI",get:function(){return this.WB.rI}},{key:"hI",get:function(){return this.WB.hI.ks()}},{key:"uI",get:function(){return this.WB.uI}},{key:"$G",get:function(){return this.WB.$G}},{key:"nt",get:function(){return this.WB.nt}},{key:"dI",get:function(){return this.WB.dI}},{key:"rt",get:function(){return this.dO}},{key:"vI",get:function(){return this.WB.vI}},{key:"gI",get:function(){return this.WB.gI},set:function(t){this.WB.gI=t}},{key:"yI",get:function(){return this.pZ}},{key:"eH",get:function(){return this.iH}},{key:"KB",get:function(){return this.pZ.KB}}]),n}(aa),_H=function(){function t(){}var n=t.prototype;return n.uP=function(t,n,i,r,e,u,s,o){return new yH(n,e,u)},n.FH=function(t,n){return t.type===yA.$C},n.VH=function(t){return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,x_(t)];case 1:return(n=i.sent())&&(n=Boolean(t.widevine||t.fairplay)),[2,n&&!1]}}))}))()},n.WH=function(){return!1},xt(t,[{key:"UH",get:function(){return xk.$C}}]),t}();qT(new _H),U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),rn(),Wt(),ct(),Jt(),an(),U(),St();var bH=function(t){return t.tLt="currentbufferingrenditionchange",t.eLt="iLt",t.sLt="nLt",t.rLt="oLt",t}({});U(),St(),Dt(),Ct(),U(),St();var kH=function(t,n){var i,r;this.Jrt=void 0,this.IC=Am(),this.hLt=n,this.Tw=t.Tw,this.aLt=t.aLt,this.uLt=t.uLt,this.cLt=t.cLt,this.l=t.l,this.gs=t.gs,this.lLt=t.lLt,this.dLt=t.dLt,this.fLt=void 0===t.Fyt,this._Lt=null!=(r=null==(i=t._Lt)?void 0:i.split(","))?r:[]};function AH(t,n){return t.Tw===n.Tw&&(t.l===n.l||!(!t.aLt||!n.aLt))}function TH(t,n){return void 0!==t&&void 0!==n&&SH(t,n)}function SH(t,n){return t.hLt===n.hLt}function EH(t,n){return SH(t,n)&&t.lLt===n.lLt}function IH(t,n){for(var i=0;i<t.length;i++){if(EH(t[i],n))return!0}return!1}var RH=function(t){function n(n,i,r,e,u){var s,o;(s=t.call(this)||this).Sp=n,s.na=i,s.gZ=r,s.yh=e,s.NC=u,s.Qct=void 0,s.ILt=void 0,s.CLt=function(){return s._o(new wm(s))},s.xLt=function(){var t=s.RC;t&&s.ILt!==t&&(s.ILt=t,s._o(new _V(t)))},s.RLt=function(){var t=s.Rt;s.PLt!==t&&(s.PLt=t,s.yh._o(new gm(s)),s._o(new gm(s)))},s.ILt=s.RC,s.PLt=s.Rt;var a,c,h=u.fC(0);s.CO=null!=(a=null==h?void 0:h.gLt.l)?a:"",s.LA=null!=(c=null==h?void 0:h.gLt.gs)?c:"",s.vLt=null==h||null==(o=h.gLt)?void 0:o._Lt.map(MH).filter(Yn),s.IO=_m(),s.na.bn(bH.tLt,s.xLt),s.na.bn(bH.eLt,s.RLt);for(var f=0;f<s.NC.V;f++){s.NC.fC(f).bn("update",s.CLt)}return s}Rt(n,t);var i=n.prototype;return i.DO=function(t){this.Rt=t},i.yn=function(){this.Ro(),this.na.vn(bH.tLt,this.xLt),this.na.vn(bH.eLt,this.RLt);for(var t=0,n=this.NC.lC;t<n.length;t++){n[t].yn()}this.NC.nr()},xt(n,[{key:"DC",get:function(){return this.vLt}},{key:"Rt",get:function(){var t=this.mLt();if(!t)return!1;for(var n=0,i=this.NC.lC;n<i.length;n++){if(i[n].gLt===t)return!0}return!1},set:function(t){if(t!==this.Rt)if(t){for(var n,i=null==(n=this.NC.fC(0))?void 0:n.gLt,r=this.na.pLt,e=0,u=this.NC.lC;e<u.length;e++){var s=u[e];if(s.wLt===r){i=s.gLt;break}}this.yLt(i)}else this.yLt(void 0)}},{key:"RC",get:function(){if(this.Rt)for(var t=this.na.bLt,n=0,i=this.NC.lC;n<i.length;n++){var r=i[n];if(IH(t,r.gLt))return r}}},{key:"wa",get:function(){return this.eu||(this.eu=$g(this)),this.eu}},{key:"o",get:function(){return this.IO.toString()}},{key:"IC",get:function(){return this.IO}},{key:"Ch",get:function(){return this.CO},set:function(t){t!==this.CO&&(this.CO=t,this._o(new wm(this)))}},{key:"gs",get:function(){return this.LA}},{key:"CE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"MC",get:function(){return this.Qct},set:function(t){var n=this,i=[];t?i=t.filter((function(t){var i=n.RC?YL(n.RC):void 0;return qn.Ys.dp(i,YL(t))})).filter((function(i){return n.NC.EO(t)&&i.trt})):i=this.NC.lC.filter((function(t){return t.trt}));if(0!==i.length){if(!(t===this.Qct||this.Qct&&Io(this.Qct,i))){if(this.Qct=t?i:void 0,this.na.ALt(i.map((function(t){return t.wLt}))),1===i.length){var r=i[0].wLt,e=this.Sp===rm.mE,u=this.gZ.Fj;na(this.na.SLt(r,{TLt:!0,kLt:u&&e,ELt:u&&!e}))}this._o(new ZL(i,this))}}else this._o(new zL)}}]),n}(aa),CH=function(t){function n(n,i,r,e){return t.call(this,rm.vE,n,i,r,e)||this}Rt(n,t);var i=n.prototype;return i.mLt=function(){return this.na.DLt},i.yLt=function(t){na(this.na.NLt(t))},xt(n,[{key:"Lt",get:function(){return zX.MPt}}]),n}(RH),NH=function(t){function n(n,i,r,e){return t.call(this,rm.mE,n,i,r,e)||this}Rt(n,t);var i=n.prototype;return i.mLt=function(){return this.na.MLt},i.yLt=function(t){na(this.na.LLt(t))},xt(n,[{key:"Lt",get:function(){return YX.MPt}}]),n}(RH),xH=function(t){function n(n,i){var r;return(r=t.call(this)||this).wLt=n,r.gLt=i,r.CO="",r.trt=!0,r}Rt(n,t);var i=n.prototype;return i.aW=function(){},i.hW=function(){},i.yn=function(){this.Ro()},xt(n,[{key:"o",get:function(){return String(this.wLt.o)}},{key:"IC",get:function(){return this.wLt.o}},{key:"bG",get:function(){return this.wLt.bG}},{key:"Myt",get:function(){return this.wLt.Myt}},{key:"Ch",get:function(){var t;return null!=(t=this.CO)?t:this.gLt.l},set:function(t){this.Ch!==t&&(this.CO=t,this._o(new RU(this.wa)))}},{key:"Fyt",get:function(){return this.gLt.hLt.BLt()}},{key:"Lyt",get:function(){return this.wLt.Lyt}}]),n}(aa),DH=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).eu=void 0,r}return Rt(n,t),n.prototype.ka=function(){return IU(this)},xt(n,[{key:"Nwt",get:function(){return 0}},{key:"Jrt",get:function(){var t;return(null==(t=this.wLt.Jrt)?void 0:t.cPt)||""}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(xH),PH=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).eu=void 0,r.OLt=0,r.JCt=void 0,r}return Rt(n,t),n.prototype.ka=function(){return EU(this)},xt(n,[{key:"Jrt",get:function(){var t;return(null==(t=this.wLt.Jrt)?void 0:t.dPt)||""}},{key:"Byt",get:function(){return this.OLt},set:function(t){this.OLt!==t&&(this.OLt=t,this._o(new RU(this.wa)))}},{key:"oft",get:function(){var t,n;return null!=(n=null!=(t=this.JCt)?t:this.wLt.oft)?n:0},set:function(t){this.oft!==t&&(this.JCt=t,this._o(new RU(this.wa)))}},{key:"Ti",get:function(){var t,n;return null!=(n=null==(t=this.wLt.$Ct)?void 0:t.Ti)?n:0}},{key:"ji",get:function(){var t,n;return null!=(n=null==(t=this.wLt.$Ct)?void 0:t.ji)?n:0}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(xH);function MH(t){return"public.accessibility.describes-video"===t?qg.xC:"public.accessibility.transcribes-spoken-dialog"===t?qg.TRANSCRIBES_SPOKEN_DIALOG:"public.accessibility.describes-music-and-sound"===t?qg.DESCRIBES_MUSIC_AND_SOUND:"public.accessibility.easy-to-read"===t?qg.EC:void 0}U(),St(),U(),St(),Wt();var BH=function(){function t(){this.Rt=function(){return!1}}var n=t.prototype;return n.FLt=function(t){if(!this.Rt())return!1;var n=[];return!(n.length>0)||n.some((function(n){return n.toLowerCase()===t.toLowerCase()}))},n.VLt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.FLt(t)&&(e=qn).Fp.apply(e,["DEBUG "+t+" -"].concat(Ut(i)))},n.MN=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.FLt(t)&&(e=qn).Fp.apply(e,["INFO "+t+" -"].concat(Ut(i)))},n.WLt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.FLt(t)&&(e=qn).Vp.apply(e,["WARNING "+t+" -"].concat(Ut(i)))},n.lt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.FLt(t)&&(e=qn).Wp.apply(e,["ERROR "+t+" -"].concat(Ut(i)))},n.ULt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.FLt(t)&&(e=qn).Wp.apply(e,["FATAL "+t+" -"].concat(Ut(i)))},t}(),OH=new BH,LH="HLSPlaylistParser",FH="Discontinuity",VH="Buffering",UH=function(){function t(t,n,i,r){this.na=t,this.gZ=n,this.XLt=i,this.zLt=r}var n=t.prototype;return n.fft=function(){var t,n=null==(t=this.na.Er)?void 0:t.GLt;if(n&&0!==n.length){for(var i,r=null!=(i=mo(n,(function(t){return 0!==t.HLt.length&&0!==t.ZLt.length})))?i:n[0],e=n.filter((function(t){return t!==r})),u=0,s=r.HLt;u<s.length;u++){var o=s[u],a=new dm,c=[];a.kO(new DH(r,o)),c.push(o);for(var h=0;h<e.length;h++)for(var f=e[h],v=0,l=f.HLt;v<l.length;v++){var d=l[v];if(AH(d,o)&&!IH(c,d)){a.kO(new DH(f,d)),c.push(d);break}}this.XLt.tt(new CH(this.na,this.gZ,this.XLt,a))}for(var g=0,m=r.ZLt;g<m.length;g++){var w=m[g],p=new dm,y=[];p.kO(new PH(r,w)),y.push(w);for(var _=0;_<e.length;_++)for(var b=e[_],k=0,A=b.ZLt;k<A.length;k++){var T=A[k];if(AH(T,w)&&!IH(y,T)){p.kO(new PH(b,T)),y.push(T);break}}this.zLt.tt(new NH(this.na,this.gZ,this.zLt,p))}}else OH.WLt("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.qLt=function(){this.YLt(this.XLt),this.YLt(this.zLt)},n.YLt=function(t){for(var n=[],i=0,r=t.lC;i<r.length;i++){for(var e=r[i],u=[],s=0,o=e.NC.lC;s<o.length;s++){var a=o[s];To(a.wLt.KLt,a.gLt)||u.push(a)}for(var c=0;c<u.length;c++){var h=u[c];e.NC.eT(h),h.yn()}0===e.NC.V&&n.push(e)}for(var f=0;f<n.length;f++){var v=n[f];t.it(v),v.yn()}},n.jLt=function(t,n){var i=this.QLt(t);void 0!==i&&(i.oft=n)},n.JLt=function(t,n){var i=this.QLt(t);void 0!==i&&(i.Byt=n)},n.QLt=function(t){for(var n=0,i=this.zLt.lC;n<i.length;n++){var r=i[n],e=mo(r.NC.lC,(function(n){return n.gLt===t}));if(void 0!==e)return e}},t}();U(),St(),Dt();var WH=function(){function t(t){var n=t.bG>0?t.bG:JZ.Eut,i=t.AG>0?t.AG:jZ.Eut;this.Iut=new JZ(JZ.iIt,JZ.sIt,1,n),this.RIt=new jZ(jZ.iIt,jZ.sIt,i)}var n=t.prototype;return n.SG=function(t){if("segment"===t.Tw||"preload-hint"===t.Tw){var n=[new XZ(this.RIt)];return"stream"!==t.jk||!function(t){return"segment"===t.Tw&&"initialization-segment"!==t.kE}(t)&&"preload-hint"!==t.Tw?n.push(new GZ(this.Iut)):n.push(new HZ(this.Iut,1e3)),new ZZ(n)}},n.AIt=function(t){this.Iut=new JZ(JZ.iIt,JZ.sIt,1,t)},xt(t,[{key:"bG",get:function(){return this.Iut.dit}},{key:"AG",get:function(){return this.RIt.dit}}]),t}();U(),St(),Ct();var jH=function(t){function n(n){var i;return(i=t.call(this,bH.rLt)||this).lt=n,i}return Rt(n,t),n}(fa);U(),St();var ZH=function(){function t(t){this.Jnt=t}return t.prototype.MJ=function(t,n){var i={Tw:Ey.wW,sH:[],g4:t.map((function(t){return{Mk:t}})),C4:n};return ut.resolve(void 0!==this.Jnt.MJ([i]))},t}();U(),St(),Gt(),Dt(),Jt(),U(),St();var XH=function(t,n,i,r,e){return t.filter((function(t){return!!To(r,t)||1.1*t.bG<=i.bG}))},GH=function(t,n,i,r,e){return t.filter((function(t){if(To(r,t))return!0;for(var u=1/0,s=0,o=t.KLt;s<o.length;s++){var a,c,h=o[s];u=A.min(u,null!=(c=null!=(a=h.hLt.$Lt)?a:h.hLt.tBt)?c:1/0)}u===1/0&&(u=1);var f=2*i.AG+t.bG*u/i.bG;return t.bG<=n.bG||e.eBt>f}))},HH=function(t,n,i,r,e){return uo(t,(function(t,n){return n.bG-t.bG}))},zH=function(t,n,i,r,e){return t.every((function(t){return t.Lyt&&!E(t.Lyt)}))?uo(t,(function(t,n){return n.Lyt-t.Lyt})):t},YH=function(t,n,i,r,e){return 0===r.length?t:uo(t,(function(t,n){var i=To(r,t)?1:0;return(To(r,n)?1:0)-i}))},KH=function(t,n,i,r,e,u){return t.filter((function(t){return!t.Jrt||!n.Jrt||!(void 0!==n.Jrt.dPt&&void 0!==t.Jrt.dPt&&!sN(n.Jrt.dPt,t.Jrt.dPt)&&!u.iBt({Mk:'video/mp4; codecs="'+t.Jrt.dPt+'"'}))&&!(void 0!==n.Jrt.cPt&&void 0!==t.Jrt.cPt&&!sN(n.Jrt.cPt,t.Jrt.cPt)&&!u.sBt({Mk:'audio/mp4; codecs="'+t.Jrt.cPt+'"'}))}))},qH=function(t,n,i,r,e){if(!1===e.Dlt)return t;if(qn.Ys.qg)return t;for(var u,s,o=qn.Ys.Yg,a=(null!=(u=null==o?void 0:o.width)?u:e.ji)*xL,c=(null!=(s=null==o?void 0:o.height)?s:e.Ti)*xL,h=0;h<t.length;h++){var f=t[h];if(void 0===f.$Ct)return t;var v=f.$Ct.Ti,l=f.$Ct.ji;if(v<=c&&l<=a)return t.slice(h,t.length)}return[]},JH=function(t,n,i,r,e){return function(t,n){var i=n.Dlt;if(void 0===i&&!qn.Ys.Qs)return t;if(!1===i)return t;for(var r=0;r<t.length;r++){var e=t[r];if(void 0===e.$Ct)return t;var u=e.$Ct.Ti,s=e.$Ct.ji;if(u===n.Ti&&s===n.ji)return t.slice(r,t.length);if(u<n.Ti||s<n.ji)return t.slice(0===r?r:r-1,t.length)}return[]}(t,e)};var QH="AbrEvaluator",$H=function(){function t(t){this.gZ=t,this.m_=[KH,XH,GH,HH,qH,JH,zH,YH]}var n=t.prototype;return n.rBt=function(t){this.m_=t},n.oBt=function(t,n,i,r,e){var u=this;return Zt((function(){return Ht(this,(function(s){switch(s.label){case 0:return[4,u.hBt(t,n,i,r,e)];case 1:return[2,s.sent()[0]]}}))}))()},n.hBt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:if(0===t.length)throw new y("AbrEvaluator - Unable to select optimal variant stream from an empty list.");OH.VLt(QH,"Performing optimal variant stream selection."),s=u.nBt,o=t,a=0,c=u.m_,v.label=1;case 1:return a<c.length?(h=c[a],f=h(o,n,s,i,r,e),Jn(f)?(o=f,[3,4]):[3,2]):[3,5];case 2:return[4,f];case 3:o=v.sent(),v.label=4;case 4:return a++,[3,1];case 5:return 0===o.length?(OH.WLt(QH,"No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),[2,[Co(t,(function(t){return t.bG}))]]):[2,o]}}))}))()},xt(t,[{key:"nBt",get:function(){return this.gZ.cj}}]),t}();function tz(t,n){return[t,void 0!==n?t+n-1:ar]}function nz(t){return Boolean(t.AN)}function iz(t){return Boolean(t.Mrt)}U(),St(),Dt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),rn(),U(),St(),U(),St();var rz=function(t){return t[t.vE=0]="vE",t[t.mE=1]="mE",t[t.JV=2]="JV",t[t.aBt=3]="aBt",t}({}),ez=function(t){return t[t.uBt=0]="uBt",t[t.cBt=1]="cBt",t}({}),uz=function(t){return t[t.$H=0]="$H",t[t.lBt=1]="lBt",t[t.dBt=2]="dBt",t}({}),sz=function(t){return t[t.iE=0]="iE",t[t.fBt=1]="fBt",t[t._Bt=2]="_Bt",t}({});function oz(t){return t?t._At?t.Mx+"@"+t._At.Sn+"-"+(null!=(n=t._At.V)?n:""):""+t.Mx:"";var n}function az(t,n){if(n===t)return!0;if(n.Mx!==t.Mx)return!1;if(!t._At)return!0;if(n._At){var i=tz(t._At.Sn,t._At.V),r=tz(n._At.Sn,n._At.V);if(i[0]<=r[0])return void 0===i[1]||void 0!==r[1]&&i[1]>=r[1]}return!1}function cz(t,n){return t===n||t.Mx===n.Mx&&(t._At&&n._At?t._At.Sn===n._At.Sn&&t._At.V===n._At.V:t._At===n._At)}function hz(t){var n=!!t.vBt||void 0;return{o:t.o,mBt:t.mBt,$G:t.$G,gBt:t.gBt,ct:t.ct,pBt:t.pBt,vBt:n,wBt:t.yBt,bBt:t.ABt,SBt:t.SBt,TBt:t.TBt}}function fz(t,n){var i,r,e;return{cPt:null!=(i=n.cPt)?i:null==t?void 0:t.cPt,dPt:null!=(r=n.dPt)?r:null==t?void 0:t.dPt,kBt:null!=(e=n.kBt)?e:null==t?void 0:t.kBt}}function vz(t,n,i,r,e){return lz.apply(this,arguments)}function lz(){return lz=Zt((function(t,n,i,r,e){var u,s,o,a,c,h,f,v,l,d,g;return Ht(this,(function(m){switch(m.label){case 0:return u=n.filter((function(t){return Zs(t,"audio")})),s=n.filter((function(t){return Zs(t,"video")})),o=[],a=i.map((function(t){return function(t,n,i){return dz.apply(this,arguments)}(t,r,e)})),[4,ut.all(a)];case 1:for(c=m.sent().filter(Yn),f=function(t,n){if(0===n.length)return t;var i=function(t){var i=n.indexOf(t.cT.Iw);return i>=0?i:n.length};return uo(t,(function(t,n){return i(t)-i(n)}))}(c,null!=(h=null==t?void 0:t.preferredKeySystems)?h:[]),v=0;v<f.length;v++)l=f[v],d=xj(null!=t?t:{},l.cT),g="cbcs",o.push({cT:l.cT,IG:l.IG,CG:l.CG,WU:l.WU,RH:[{initDataTypes:[l.cT.xw],audioCapabilities:Dj(u,g,null==d?void 0:d.audioRobustness),videoCapabilities:Dj(s,g,null==d?void 0:d.videoRobustness),persistentState:null==d?void 0:d.persistentState,distinctiveIdentifier:null==d?void 0:d.distinctiveIdentifier}]});return[2,o]}}))})),lz.apply(this,arguments)}function dz(){return dz=Zt((function(t,n,i){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return t.Fyt&&t.EBt?t.AE!==uz.dBt?[2]:(r=gz(t.EBt))?r.Iw!==Cs?[3,1]:[2,{cT:r,IG:[],CG:void 0,WU:t.Fyt}]:[2]:[2];case 1:return r.Iw!==Is||t.EBt!==Ds?[3,2]:[2,{cT:r,IG:[],CG:t.Fyt,WU:void 0}];case 2:return OH.MN("HLSDrmUtils","Fetching key uri "+t.Fyt+"."),[4,n.Qk({Xu:t.Fyt,xE:i})];case 3:return[4,u.sent().Dk()];case 4:return e=u.sent(),[2,{cT:r,IG:[e],CG:void 0,WU:void 0}];case 5:return[2]}}))})),dz.apply(this,arguments)}function gz(t){return t===Ts?Bs:t===ks?Ms:t===xs?Ls:t===Ds?Fs:void 0}function mz(t){if("#"!==t[0])throw new y("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function wz(t){return"#"!==t[0]?t:t.split(":",1)[0]}function pz(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new y("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function yz(t){var n=Tz(pz(t));if(void 0===n)throw new y("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function _z(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,r=i.exec(t);null!==r;){var e=r[1],u=void 0;u=void 0!==r[3]?r[3]:r[2],null!==e?n[e]=u:OH.WLt(LH,"Ignoring unparsable M3U8 attribute name: "+t+"."),r=i.exec(t)}return n}function bz(t,n){var i,r,e=_z(t);try{i=e.URI?qn.ew(e.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return rz.vE;case"VIDEO":return rz.mE;case"SUBTITLES":return rz.JV;case"CLOSED-CAPTIONS":return rz.aBt}throw new y("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(e.TYPE)}catch(n){throw new y("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=e["GROUP-ID"],s=e.LANGUAGE,o=e["ASSOC-LANGUAGE"],a=e.NAME,c="YES"===e.DEFAULT,h="YES"===e.AUTOSELECT,f="YES"===e.FORCED,v=e["INSTREAM-ID"],l=e.CHARACTERISTICS,d=e.CHANNELS;if(u||OH.WLt(LH,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),s||OH.WLt(LH,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),a||OH.WLt(LH,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===rz.aBt?(i&&OH.WLt(LH,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),v?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(v)||OH.WLt(LH,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):OH.WLt(LH,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):v&&OH.WLt(LH,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!h&&(h=!0,e.AUTOSELECT&&OH.WLt(LH,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),e.FORCED&&r!==rz.JV&&OH.WLt(LH,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===a)throw new y("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{xBt:o,jCt:d,_Lt:l,lLt:u,uLt:h,aLt:c,cLt:f,dLt:v,gs:s,l:a,Tw:r,Fyt:i}}function kz(t,n,i){var r,e,u,s=_z(t);try{r=qn.ew(i,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),r=Number(n[1]);if(E(i)||E(r))throw new y("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{ji:i,Ti:r}}(s.RESOLUTION),e=function(t){if(!t)return;for(var n,i,r,e=t.split(","),u=0;u<e.length;u++){var s=e[u].trim();Xs(s,"mp4a")?n="mp4a.40.05"===s?"mp4a.40.5":"mp4a.40.02"===s?"mp4a.40.2":s:"ac-3"===s||"ec-3"===s||"flac"===s.toLowerCase()?n=s:Xs(s,"avc")||Xs(s,"hvc1")||Xs(s,"hev1")||Xs(s,"dvh")||Xs(s,"vp09")||Xs(s,"av01")?i=s:r=r?r+","+s:s}return{cPt:n,dPt:i,kBt:r}}(s.CODECS)}catch(n){throw new y("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var o=Tz(s.BANDWIDTH),a=Tz(s["AVERAGE-BANDWIDTH"]),c=Tz(s.SCORE),h=Tz(s["FRAME-RATE"]),f=s["HDCP-LEVEL"],v=[];if(void 0!==s["ALLOWED-CPC"]){var l,d=s["ALLOWED-CPC"].split(",");(l=v).push.apply(l,Ut(d.map((function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))))}var g=s["VIDEO-RANGE"],m=s.AUDIO,w=s.VIDEO,p=s.SUBTITLES,_=s["CLOSED-CAPTIONS"];if(void 0===o?OH.WLt(LH,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==a&&a>o&&OH.WLt(LH,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),e||OH.MN(LH,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),e&&e.dPt&&void 0===u&&OH.MN(LH,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===f||To(["TYPE-0","TYPE-1","NONE"],f)||OH.WLt(LH,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===g||To(["SDR","PQ","HLG"],g)||OH.WLt(LH,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===o)throw new y("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{RBt:v,IBt:m,Myt:a,bG:o,CBt:_,Jrt:e,oft:h,PBt:f,$Ct:u,Lyt:c,DBt:p,Fyt:r,NBt:w,MBt:g}}function Az(t,n){var i=_z(t);if(!i.URI)throw new y("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return kz(t,n,i.URI)}catch(n){throw new y("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function Tz(t){var n=Number(t);return E(n)?void 0:n}function Sz(t,n){var i,r,e=_z(t);try{i=function(t){switch(t){case"NONE":return uz.$H;case"AES-128":return uz.lBt;case"SAMPLE-AES":return uz.dBt;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new y("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(e.METHOD),r=e.URI?Pz(e.URI,n):void 0}catch(n){throw new y("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var u,s,o,a,c,h=e.KEYFORMAT,f=e.IV,v=e.KEYFORMATVERSIONS;if(i!==uz.$H){if(o=h||Ds,"SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(gz(o)!==Bs)throw new y("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");u=uz.dBt}else u=i;s=r,a=f?Mc(f):void 0,c=v?v.split("/").map((function(t){return Number(t)})):[1]}else u=uz.$H,(r||h||v||f)&&OH.WLt(LH,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{AE:u,Fyt:s,LBt:a,EBt:o,BBt:c}}function Ez(t){var n=pz(t);if(!n)return[void 0,""];var i=nn(n.split(","),2),r=i[0],e=i[1];return[Tz(r),e]}function Iz(t,n){var i=t.split("@"),r=Tz(i[0]),e=i.length>1?Tz(i[1]):n;if(void 0===r||void 0===e)throw new y("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{Sn:e,V:r}}function Rz(t){if(void 0!==t)return Iz(t,void 0)}function Cz(t,n){return Iz(pz(t),n)}function Nz(t,n){var i=_z(t);try{return{Mx:Pz(i.URI,n),_At:Rz(i.BYTERANGE)}}catch(n){throw new y("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function xz(t){var n=pz(t);if(!n)throw new y("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!pr(i))throw new y("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function Dz(t){var n,i,r,e=_z(t),u=e["START-DATE"],s=e["END-DATE"],o=Tz(e["PLANNED-DURATION"]),a=Tz(e.DURATION);void 0!==e["SCTE35-CMD"]&&(n=Mc(e["SCTE35-CMD"]).buffer),e["SCTE35-IN"]&&(i=Mc(e["SCTE35-IN"]).buffer),e["SCTE35-OUT"]&&(r=Mc(e["SCTE35-OUT"]).buffer);var c,h,f="YES"===e["END-ON-NEXT"],v=function(t){for(var n={},i=0,r=k.keys(t);i<r.length;i++){var e=r[i],u=t[e];void 0!==u&&Xs(e,"X-")&&(n[e]=u)}return n}(e),l=e.ID,d=e.CLASS;if(void 0===u)OH.WLt(LH,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+u+".");else if(c=new Date(u),h=void 0!==s?new Date(s):void 0,pr(c)||OH.WLt(LH,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+c+"."),void 0!==a){var g=new Date(c.getTime()+1e3*a);h?h.getTime()!==g.getTime()&&(OH.WLt(LH,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),h=g):h=g}else h&&(a=(c.getTime()-h.getTime())/1e3);if(f&&(e.CLASS||OH.WLt(LH,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),e.DURATION&&OH.WLt(LH,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),h&&OH.WLt(LH,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===l&&OH.WLt(LH,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===l||void 0===c)throw new y("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{o:l,mBt:d,$G:c,gBt:h,ct:a,pBt:o,ABt:n,TBt:i,SBt:r,vBt:f,yBt:v}}function Pz(t,n){if(void 0===t)throw new y("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return qn.ew(t,n)}function Mz(t,n){var i=_z(t),r=Tz(i.DURATION),e=Pz(i.URI,n),u=Rz(i.BYTERANGE),s="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===r)throw new y("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{ct:r,Fyt:{Mx:e,_At:u},OBt:s,FBt:o}}function Bz(t){var n=_z(t);return{VBt:"YES"===n["CAN-BLOCK-RELOAD"],WBt:Tz(n["CAN-SKIP-UNTIL"]),UBt:"YES"===n["CAN-SKIP-DATERANGES"],GBt:Tz(n["HOLD-BACK"]),HBt:Tz(n["PART-HOLD-BACK"])}}function Oz(t,n){var i=_z(t);if(void 0===i.URI)throw new y("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var r=Pz(i.URI,n),e=Tz(i["LAST-MSN"]),u=Tz(i["LAST-PART"]);if(void 0===e)throw new y("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{Fyt:r,ZBt:e,XBt:u}}function Lz(t,n){var i,r=_z(t),e=Tz(r["SKIPPED-SEGMENTS"]),u=null==(i=r["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(void 0===e)throw new y("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{zBt:e,qBt:u,YBt:n}}function Fz(t){var n=Tz(_z(t)["PART-TARGET"]);if(void 0===n)throw new y("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function Vz(t){switch(pz(t)){case"VOD":return sz.fBt;case"EVENT":return sz._Bt;default:return OH.WLt(LH,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),sz.iE}}function Uz(t,n){var i,r,e=_z(t);try{i=function(t){if(void 0===t)throw new y("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return ez.uBt;if("PART"===t)return ez.cBt;throw new y("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(e.TYPE),r=Pz(e.URI,n)}catch(n){throw new y("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var u,s=Tz(e["BYTERANGE-START"]),o=Tz(e["BYTERANGE-LENGTH"]);return void 0===s&&void 0===o||(u={Sn:s||0,V:o}),{Tw:i,Fyt:{Mx:r,_At:u}}}U(),St(),rn(),Wt(),U(),St(),Gt(),Jt(),U(),St();var Wz=function(){function t(n){this.QBt=0,this.jBt=t.$Bt(n)}var n=t.prototype;return n.KBt=function(){var t=this.jBt[this.QBt];return this.QBt+=1,t},n.JBt=function(){return this.jBt[this.QBt]},n.Ib=function(){var n=new t("");return n.QBt=0,n.jBt=this.jBt.slice(this.QBt),n},t.$Bt=function(t){return t?t.split(/[\r\n]+/).map((function(t){return t.trim()})).filter((function(t){return t})):[]},t}();function jz(t,n,i){var r=t.Fyt,e=t.jD,u=t.tOt,s=t.Sn;switch(i){case"#EXT-X-VERSION":e=function(t){var n=yz(t);return E(n)?(OH.WLt(LH,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":u=!0;break;case"#EXT-X-START":s=function(t){var n=_z(t),i=Tz(n["TIME-OFFSET"]);if(void 0===i)throw new y("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{eOt:i,iOt:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":OH.WLt(LH,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:OH.MN(LH,"Ignoring unrecognized line or comment: "+n+".")}return{Fyt:r,jD:e,tOt:u,Sn:s}}function Zz(t,n){return t.map((function(t){return t.AE===uz.$H||t.LBt?t:ss({},t,{LBt:Xz(n)})}))}function Xz(t){var n=new DataView(new ArrayBuffer(16)),i=new Pc;return i.xb(8),rc(n,i,sr.fromNumber(t)),new I(n.buffer)}function Gz(t,n,i){OH.MN(LH,"Parsing M3U8 playlist at "+t+".");var r=new Wz(i);if("#EXTM3U"!==r.KBt())throw new y("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(i)?function(t,n){var i;try{i=qn.ew(t)}catch(n){throw OH.WLt(LH,"The master playlist has no valid base URI: "+t+"."),new y("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var r={Fyt:i,tOt:void 0,Sn:void 0,jD:void 0},e=[],u=[],s=[],o=[];;){var a=n.KBt();if(!a)break;try{var c=mz(a);switch(c){case"#EXT-X-MEDIA":var h=bz(a,i);e.push(h);break;case"#EXT-X-STREAM-INF":var f=kz(a,i,n.KBt());u.push(f);break;case"#EXT-X-I-FRAME-STREAM-INF":var v=Az(a,i);s.push(v);break;case"#EXT-X-SESSION-DATA":OH.WLt(LH,"Ignoring unsupported #EXT-X-SESSION-DATA: "+a+".");break;case"#EXT-X-SESSION-KEY":var l=Sz(a,i);o.push(l);break;default:r=jz(r,a,c)}}catch(t){OH.WLt(LH,"Ignoring unparsable line: "+a,t)}}var d,g=r.jD,m=null!=(d=r.tOt)&&d,w=r.Sn;return void 0===g&&(OH.WLt(LH,"The playlist has no #EXT-X-VERSION, assuming version is 2."),g=2),g>=8&&(u.some((function(t){return void 0!==t.Lyt}))||s.some((function(t){return void 0!==t.Lyt})))&&(u.some((function(t){return void 0===t.Lyt}))||s.some((function(t){return void 0===t.Lyt})))&&OH.WLt(LH,"If one master playlist variant stream has a SCORE, all variants should have it."),{Fyt:i,jD:g,tOt:m,Sn:w,sOt:s,nOt:o,AN:e,rOt:u}}(t,r):function(t,n,i){var r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,_,b,k={Fyt:t,tOt:void 0,Sn:void 0,jD:void 0},A=[],T=!1,S=!1,E=[],I=as(),R=[],C=[],N=!1,x=!1,D=[],P=[],M=0,B=!1,O=sz.iE,L=!1,F=0;try{b=qn.ew(t)}catch(n){throw OH.WLt(LH,"The media playlist has no valid base URI: "+t+".",n),new y("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var V=i.Ib();void 0===w||void 0===p;){var U=V.KBt();if(!U)break;try{switch(wz(U)){case"#EXT-X-MEDIA-SEQUENCE":w=yz(U);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":p=yz(U)}}catch(t){OH.WLt(LH,"Ignoring unparsable line: "+U,t)}}void 0===w&&(OH.MN(LH,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),w=0),void 0===p&&(OH.MN(LH,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),p=0);for(var W=w,j=p;;){var Z=i.KBt();if(!Z)break;var X=!1;try{var G=wz(Z);switch(G){case"#EXTINF":var H;X=!0,o=(H=nn(Ez(Z),2))[0],a=H[1];break;case"#EXT-X-BYTERANGE":X=!0,(c=Cz(Z,M))&&(M=c.Sn+c.V);break;case"#EXT-X-DISCONTINUITY":X=!0,N=!0,j++;break;case"#EXT-X-KEY":var z;X=!0;var Y,K=Sz(Z,b);if(K.AE===uz.$H){I.clear(),g=void 0;break}var q=null!=(Y=null==(z=K.EBt)?void 0:z.toString())?Y:"identity";I.set(q,K),K.AE===uz.lBt&&(g=K);break;case"#EXT-X-MAP":X=!0,f=Nz(Z,b),v=g;break;case"#EXT-X-PROGRAM-DATE-TIME":X=!0,l=xz(Z);break;case"#EXT-X-GAP":X=!0,x=!0;break;case"#EXT-X-BITRATE":X=!0,d=yz(Z);break;case"#EXT-X-TARGETDURATION":r=yz(Z);break;case"#EXT-X-DATERANGE":var J=Dz(Z);A.push(J);break;case"#EXT-X-PART":X=!0;var Q=Mz(Z,b);C.push(Q);break;case"#EXT-X-PRELOAD-HINT":var $=Uz(Z,b);D.push($);break;case"#EXT-X-SKIP":E.length>0&&OH.WLt(LH,"#EXT-X-SKIP must appear before any #EXTINF tags."),X=!0;var tt=Lz(Z,W);F=tt.zBt,_=tt.qBt,W+=tt.zBt;break;case"#EXT-X-SERVER-CONTROL":var nt=Bz(Z);T=nt.VBt,e=nt.WBt,S=nt.UBt,u=nt.GBt,s=nt.HBt;break;case"#EXT-X-RENDITION-REPORT":var it=Oz(Z,b);P.push(it);break;case"#EXT-X-PART-INF":m=Fz(Z);break;case"#EXT-X-MEDIA-SEQUENCE":X&&OH.WLt(LH,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":X&&OH.WLt(LH,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":B=!0;break;case"#EXT-X-PLAYLIST-TYPE":O=Vz(Z);break;case"#EXT-X-I-FRAMES-ONLY":L=!0;break;default:if(Xs(G,"#"))k=jz(k,Z,G);else{h=qn.ew(Z,b);var rt=f?{Fyt:f,oOt:v}:void 0,et={nOt:Zz(fs(I),W),qV:R,hOt:C,ct:o,oH:a,aOt:N,Fyt:{_At:c,Mx:h},uOt:rt,cOt:l,FBt:x,lOt:d,YBt:W,dOt:j};E.push(et),W++,R=[],C=[],o=void 0,a=void 0,N=!1,c=void 0,h=void 0,l=void 0,x=!1,d=void 0}}}catch(t){OH.WLt(LH,"Ignoring unparsable line: "+Z,t)}}if(C.length){var ut=f?{Fyt:f,oOt:g}:void 0,st={nOt:Zz(fs(I),W),qV:R,hOt:C,ct:o,oH:a,aOt:N,Fyt:void 0,uOt:ut,cOt:l,FBt:x,lOt:d,YBt:W,dOt:j};E.push(st)}var ot,at=k.jD,ct=null!=(ot=k.tOt)&&ot,ht=k.Sn;void 0===at&&(OH.WLt(LH,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),at=2),void 0===r&&OH.WLt(LH,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var ft=E.length,vt=ft>0;vt||OH.WLt(LH,"The HLS media playlist contains no segments.");var lt=vt&&E[ft-1].hOt.length>0;return lt&&void 0===m&&OH.WLt(LH,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),lt&&void 0===s&&OH.WLt(LH,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{VBt:T,WBt:e,UBt:S,fOt:A,dOt:p,_Ot:B,tOt:ct,GBt:u,vOt:L,YBt:w,zBt:F,HBt:s,$Lt:m,mOt:O,gOt:D,qBt:_,pOt:P,wOt:r,Mrt:E,Sn:ht,Fyt:b,yOt:n,jD:at}}(t,n,r)}U(),St(),Dt(),Wt(),U(),St(),Dt();var Hz=function(){function t(t,n,i){var r,e,u,s;this.o=zz++,this.Lyt=void 0,this.$Ct=void 0,this.Myt=void 0,this.bOt=!1,this.TOt=[],this.hLt=n,this.bG=t.bG,this.Myt=t.Myt,this.Lyt=t.Lyt,this.AOt=t.Jrt?Yz(t.Jrt):void 0,this.GCt=this.AOt,this.$Ct=t.$Ct,this.oft=t.oft,this.IBt=null!=(r=t.IBt)?r:"COt"+this.o,this.NBt=null!=(e=t.NBt)?e:"POt"+this.o,this.DBt=null!=(u=t.DBt)?u:"DOt"+this.o,this.CBt=null!=(s=t.CBt)?s:"NOt"+this.o,this.TOt=i}var n=t.prototype;return n.xOt=function(t){for(var n=0,i=this.TOt;n<i.length;n++){var r=i[n].hLt.xOt(t);if(void 0!==r)return r}},n.ROt=function(t){for(var n=0,i=this.TOt;n<i.length;n++){var r=i[n].hLt.ROt(t);if(void 0!==r)return r}},n.IOt=function(t){bo(this.TOt,t)},xt(t,[{key:"Fyt",get:function(){return this.hLt.Fyt}},{key:"Jrt",get:function(){return this.GCt},set:function(t){this.GCt=t?Yz(t):void 0,this.bOt=function(t,n){return!(void 0!==(null==t?void 0:t.cPt)&&void 0===(null==n?void 0:n.cPt)||void 0!==(null==t?void 0:t.dPt)&&void 0===(null==n?void 0:n.dPt))}(this.AOt,this.GCt)}},{key:"SOt",get:function(){return this.bOt}},{key:"KLt",get:function(){return this.TOt}},{key:"HLt",get:function(){return this.TOt.filter((function(t){return t.Tw===rz.vE}))}},{key:"ZLt",get:function(){return this.TOt.filter((function(t){return t.Tw===rz.mE}))}},{key:"kOt",get:function(){return this.TOt.filter((function(t){return t.Tw===rz.JV}))}},{key:"EOt",get:function(){return this.TOt.filter((function(t){return t.Tw===rz.aBt}))}}]),t}(),zz=0;function Yz(t){return ss({},t,{dPt:t.dPt?Zv(t.dPt):void 0})}U(),St(),Dt(),rn(),U(),St(),Dt(),U(),St(),Dt();var Kz=function(){function t(t,n,i,r,e,u){this.wit=void 0,this.VOt=t,this.UOt=n,this.jO=i,this.BOt=r,this.FOt=e,this.ct=u.ct,this.Fyt=u.Fyt,this.OBt=u.OBt,this.FBt=u.FBt}return t.prototype.WOt=function(t,n,i){this.jO=t,this.BOt=n,this.FOt=i},xt(t,[{key:"WO",get:function(){var t;return this.jO+(null!=(t=this.MOt)?t:0)}},{key:"LOt",get:function(){return this.BOt}},{key:"OOt",get:function(){return this.FOt}},{key:"nOt",get:function(){return this.VOt.nOt}}]),t}(),qz=function(){function t(t,n,i,r,e){this.wit=void 0,this.Av=[],this.zOt=0,this.jO=t,this.uOt=e.uOt,this.BOt=i,this.FOt=r,this.MA=e.ct,this.cOt=e.cOt,this.ZOt=e.Fyt,this.FBt=e.FBt,this.YBt=e.YBt,this.aOt=e.aOt,this.dOt=n,this.nOt=e.nOt,this.QOt(e.hOt)}var n=t.prototype;return n.qOt=function(t){return this.Av[t]},n.YOt=function(t){for(var n=0;n<this.Av.length;n++){var i=this.Av[n],r=i.WO,e=r+i.ct;if(r<=t&&t<=e)return t===e&&n+1<this.Av.length?this.Av[n+1]:i}},n.KOt=function(t){for(var n=this.Av.length-1;n>=0;n--){var i=this.Av[n];if(i.WO<=t)return i}},n.jOt=function(t){for(var n=this.KOt(t);n&&!n.OBt&&n.UOt>0;)n=this.qOt(n.UOt-1);return n},n.WOt=function(t,n,i){var r=t.hOt.length!==this.Av.length||i!==this.FOt;this.BOt=n,this.FOt=i,this.MA=t.ct,null!=this.cOt||(this.cOt=t.cOt),void 0===this.ZOt&&(this.ZOt=t.Fyt),r&&this.QOt(t.hOt)},n.QOt=function(t){this.Av.length>t.length&&(this.Av.length=t.length);for(var n=0,i=0;i<t.length;i++){var r=t[i],e=this.BOt&&0===i,u=this.FOt&&i===t.length-1,s=this.jO+n;if(i<this.Av.length)this.Av[i].WOt(s,e,u);else{var o=new Kz(this,i,s,e,u,r);o.MOt=this.GOt,this.Av.push(o)}n+=r.ct}this.zOt=n},n.JOt=function(){Eo(this.Av),this.zOt=0},xt(t,[{key:"WO",get:function(){var t;return this.jO+(null!=(t=this.GOt)?t:0)}},{key:"HOt",get:function(){return this.jO}},{key:"ct",get:function(){return this.MA}},{key:"Fyt",get:function(){return this.ZOt}},{key:"LOt",get:function(){return this.BOt}},{key:"OOt",get:function(){return this.FOt}},{key:"hOt",get:function(){return this.Av}},{key:"XOt",get:function(){return this.zOt}},{key:"UO",get:function(){var t;return this.WO+(null!=(t=this.MA)?t:this.zOt)}},{key:"MOt",get:function(){return this.GOt},set:function(t){this.GOt=t;for(var n=0,i=this.Av;n<i.length;n++){i[n].MOt=t}}}]),t}();U(),St();var Jz=function(t){return t.$Ot="YES",t.tFt="v2",t}({});U(),St(),Ct();var Qz=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n}(Uo);U(),St(),Ct(),U(),St(),Dt(),Ct(),U(),St();var $z=function(t){function n(n,i){var r,e=tY(i,n.ct,n.$G,n.gBt);return(r=t.call(this,i,e,void 0,!1,n.o)||this).eFt=n.mBt,r.iFt=n.$G,r.sFt=n.gBt,r.MA=n.ct,r.nFt=n.pBt,r.rFt=Boolean(n.vBt),r.uFt=n.wBt||{},r.oFt=n.bBt,r.hFt=n.SBt,r.aFt=n.TBt,r.cFt(),r.lFt(),r}Rt(n,t);var i=n.prototype;return i.ir=function(t){var n,i=!1;(void 0===this.eFt&&void 0!==t.mBt&&(i=!0,this.eFt=t.mBt),void 0===this.sFt&&void 0!==t.gBt&&(i=!0,this.sFt=t.gBt),void 0===this.MA&&void 0!==t.ct&&(i=!0,this.MA=t.ct),void 0===this.nFt&&void 0!==t.pBt&&(i=!0,this.nFt=t.pBt),!this.rFt&&t.vBt&&(i=!0,this.rFt=t.vBt),i=this.updateCustomAttributes(t,i),void 0===this.oFt&&void 0!==t.bBt&&(i=!0,this.oFt=t.bBt),void 0===this.hFt&&void 0!==t.SBt&&(i=!0,this.hFt=t.SBt),void 0===this.aFt&&void 0!==t.TBt&&(i=!0,this.aFt=t.TBt),this.cFt(),this.lFt(),this.dFt(),i)&&(this._o(new Gm(this)),null==(n=this.QO)||n._o(new zm(this)))},i.updateCustomAttributes=function(t,n){var i=n;if(t.wBt)for(var r=0,e=k.keys(t.wBt);r<e.length;r++){var u=e[r];void 0===this.uFt[u]&&(i=!0,this.uFt[u]=t.wBt[u])}return i},i.cFt=function(){this.MA&&!this.sFt&&(this.sFt=new Date(this.iFt.getTime()+br(this.MA)))},i.lFt=function(){this.sFt&&!this.MA&&(this.MA=_r(this.sFt.getTime()-this.iFt.getTime()))},i.dFt=function(){this.$O===1/0&&(this.sFt||this.MA)&&(this.$O=tY(this.jO,this.MA,this.iFt,this.sFt))},xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return Mg(jm(t),{get content(){return t.U},get class(){return t.mBt},get startDate(){return t.$G},get endDate(){return t.gBt},get duration(){return t.ct},get plannedDuration(){return t.pBt},get endOnNext(){return t.vBt},get scte35Cmd(){return t.bBt},get scte35Out(){return t.SBt},get scte35In(){return t.TBt},get customAttributes(){return t.wBt}})}(this)),this.eu}},{key:"mBt",get:function(){return this.eFt}},{key:"$G",get:function(){return this.iFt}},{key:"gBt",get:function(){return this.sFt}},{key:"ct",get:function(){return this.MA}},{key:"pBt",get:function(){return this.nFt}},{key:"vBt",get:function(){return this.rFt}},{key:"bBt",get:function(){return this.oFt}},{key:"SBt",get:function(){return this.hFt}},{key:"TBt",get:function(){return this.aFt}},{key:"wBt",get:function(){return this.uFt}}]),n}(Jm);function tY(t,n,i,r){return Yn(n)?t+n:r?t+(_r(r.getTime())-_r(i.getTime())):1/0}var nY=function(t){function n(){return t.call(this,void 0,void 0,Dm.DATE_RANGE)||this}Rt(n,t);var i=n.prototype;return i.ir=function(t,n){iY(this,rY(t),n)},i._W=function(n){eY(this.L.lC,n),t.prototype._W.call(this,n)},n}(nD);function iY(t,n,i){for(var r=function(i){var r=e[i],u=mo(n,(function(t){return t.o===r.o}));u?r.ir(u):t.sW(r)},e=t.L.lC,u=e.length-1;u>=0;u--)r(u);for(var s=0;s<n.length;s++){var o=n[s],a=o.$G;if(void 0!==a&&!t.i5(o.o)){var c=i(a),h=new $z(o,c);eY(t.L.lC,h),t._W(h)}}}function rY(t){for(var n=as(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.o)){var u=n.get(e.o),s=ss({},u,Vg(e),{wBt:ss({},u.wBt,e.wBt)});n.set(e.o,s)}else n.set(e.o,e),i.push(e.o)}return i.map((function(t){return n.get(t)}))}function eY(t,n){var i=po(t,(function(t){return t.mBt===n.mBt}));i&&i.vBt&&i.ir({o:i.o,gBt:n.$G})}var uY=String.fromCharCode(95),sY=uY+"HLS_msn",oY=uY+"HLS_part",aY=uY+"HLS_skip",cY="HLSMediaPlaylist",hY=function(){function t(t,n,i){this.xFt=void 0,this.IFt=void 0,this.VFt=void 0,this.WFt=void 0,this.vFt=void 0,this.mFt=void 0,this.gFt=void 0,this.pFt=void 0,this.Xbt=[],this.CFt=[],this.wFt=!1,this.yFt=void 0,this.bFt=!1,this.AFt=sz.iE,this.v4=BA.pB(),this._Ft=BA.pB(),this.MA=void 0,this.DFt=-1/0,this.MFt=void 0,this.Fyt=t,this.jV=n,this.qFt=i}var n=t.prototype;return n.BLt=function(t){if(!t)return this.Fyt;var n=qn.Ih(this.Fyt);return void 0!==t.YBt&&n.searchParams.append(sY,String(t.YBt)),void 0!==t.LFt&&n.searchParams.append(oY,String(t.LFt)),void 0!==t.MD&&n.searchParams.append(aY,t.MD),n.href},n.aut=function(t){var n=this.Xbt;if(0!==n.length){var i=t-n[0].YBt;if(!(i<0||i>=n.length))return n[i]}},n.BFt=function(t){if(0!==this.Xbt.length){var n=FU(fY.Vg,this.Xbt,t);if(!(n<0)){var i=this.Xbt[n];return t===i.UO&&n+1<this.Xbt.length?this.Xbt[n+1]:i}var r=this.Xbt[this.Xbt.length-1];return t===r.UO?r:void 0}},n.OFt=function(t){if(0!==this.Xbt.length){var n=this.Xbt[0];if(t<n.UO)return n;var i=this.Xbt[this.Xbt.length-1];return t>=i.WO?i:this.BFt(t)}},n.xOt=function(t){var n=this.OFt(t);if(void 0!==n)for(var i=n.YBt-this.Xbt[0].YBt;i>=0;i--){var r=this.Xbt[i];if(void 0!==r.cOt)return new Date(r.cOt.getTime()+1e3*(t-r.WO))}},n.ROt=function(t){for(var n,i=0,r=this.Xbt;i<r.length;i++){var e=r[i];if(vY(e))if(void 0===n)n=e;else{if(!(e.cOt.getTime()<=t.getTime()))break;n=e}}if(void 0!==n)return n.WO+(t.getTime()-n.cOt.getTime())/1e3},n.FFt=function(t){switch(t){case ez.uBt:return this.VFt;case ez.cBt:return this.WFt;default:return}},n.WOt=function(t){var n;void 0===this.vFt&&(this.vFt=null!=(n=t.wOt)?n:this.UFt(t));void 0===this.gFt&&void 0!==t.GBt&&(this.gFt=t.GBt),void 0===this.mFt&&void 0!==t.$Lt&&(this.mFt=t.$Lt),void 0===this.pFt&&void 0!==t.HBt&&(this.pFt=t.HBt),this.wFt=t.VBt,this.yFt=t.WBt,this.bFt=t.UBt,this.AFt=t.mOt,this.Kbt(t),this.GFt(t);var i=mo(t.gOt,(function(t){return t.Tw===ez.uBt})),r=mo(t.gOt,(function(t){return t.Tw===ez.cBt}));this.VFt=i?{Fyt:i.Fyt,Tw:i.Tw,dOt:t.dOt}:void 0,this.WFt=r?{Fyt:r.Fyt,Tw:r.Tw,dOt:t.dOt}:void 0,this.xFt=qn.Wg()/1e3;var e=this.v4.Tn(this.v4.V-1);this.HFt();var u=this.v4.Tn(this.v4.V-1);(!this.IFt||u-e>0)&&(this.IFt=this.xFt),null!=this.jV||(this.jV=t.Sn)},n.HFt=function(){this._Ft=this.ZFt(),this.v4=this.XFt(this._Ft),this.MA=this.zFt()},n.ZFt=function(){var t=this.Mrt;if(0===t.length)return BA.pB();var n=t[0].WO,i=t[t.length-1].UO;return new BA([n,i])},n.XFt=function(t){if(0===t.V||this._Ot)return t;var n=t.Sn(0),i=t.Tn(0)-this.GSt;return i<n?BA.mB(n):new BA([n,i])},n.zFt=function(){return 0===this.Xbt.length?0:this._Ot?wr(this.Xbt,(function(t){var n;return null!=(n=t.ct)?n:t.XOt})):1/0},n.UFt=function(t){for(var n,i=0,r=t.Mrt;i<r.length;i++){var e=r[i];if(void 0!==e.ct){var u=A.max(1,A.round(e.ct));(void 0===n||n<u)&&(n=u)}}if(void 0===n)throw new y("HLSModel - Could not determine required segment target duration.");return n},n.Kbt=function(t){if(0===t.Mrt.length)return Eo(this.Xbt),void this.YFt();var n=this.KFt(t);if(n){var i,r,e;n.jFt>0&&this.Xbt.splice(0,n.jFt);var u=t.zBt;if(u>0){if(u>this.Xbt.length)throw new Qz("New playlist skips over missing segments.");var s=this.Xbt[u-1];if(void 0===s.ct)throw new Qz("New playlist skips over an incomplete segment.");i=s.HOt+s.ct,e=s.dOt-t.dOt,r=u;for(var o=0;o<u;o++)this.Xbt[o].JOt()}else i=n.QFt,e=0,r=0;for(var a=0;a<t.Mrt.length;a++,r++){var c=t.Mrt[a],h=0===a,f=t._Ot&&a===t.Mrt.length-1,v=c.ct,l=c.dOt+e;if(r<this.Xbt.length){var d=this.Xbt[r];0,d.WOt(c,h,f)}else{var g=c;if(this.Xbt.length>0&&void 0===g.uOt)g=ss({},g,{uOt:this.Xbt[this.Xbt.length-1].uOt});var m=new qz(i,l,h,f,g);m.MOt=this.GOt,this.Xbt.push(m)}void 0!==v&&(i+=v)}}},n.KFt=function(t){if(0===this.Xbt.length)return{jFt:0,QFt:0};var n=this.Xbt[0].YBt,i=this.Xbt[this.Xbt.length-1].YBt,r=t.Mrt[0].YBt-t.zBt,e=t.Mrt[t.Mrt.length-1].YBt,u=0,s=0;if(r<n){var o=this.Mrt[0].cOt,a=t.Mrt[0].cOt;if(!(o&&a&&o<a))return void OH.WLt(cY,"Ignoring older playlist (first media sequence number is "+r+", but previous playlist already started at "+n+")");u=this.Xbt.length,this.YFt()}else{if(e<i)return void OH.WLt(cY,"Ignoring older playlist (last media sequence number is "+e+", but previous playlist already ended at "+i+")");if(i<r){var c;s=null!=(c=function(t,n){var i=po(t,(function(t){return void 0!==t.cOt}));if(void 0===i)return;var r=function(t){for(var n=0,i=0;i<t.length;i++){var r,e=t[i];if(e.aOt)return;if(e.cOt)return[e,n];n+=null!=(r=e.ct)?r:0}return}(n.Mrt);if(void 0===r)return;var e=nn(r,2),u=e[0],s=e[1];if(i.dOt!==u.dOt)return;var o=(u.cOt.getTime()-i.cOt.getTime())/1e3;return i.HOt+o-s}(this.Xbt,t))?c:function(t,n,i){var r,e=t[t.length-1],u=null!=(r=e.ct)?r:A.max(i,e.XOt),s=i*(n-e.YBt-1);return e.HOt+u+s}(this.Xbt,r,this.vFt),OH.VLt(cY,"New playlist (starting at "+r+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+s+"s"),u=this.Xbt.length,this.YFt()}else{0;var h=yo(this.Xbt,(function(t){return t.YBt===r}));0,s=this.Xbt[h].HOt,h>0&&(u=h)}}return{jFt:u,QFt:s}},n.GFt=function(t){var n=t.fOt.map(hz);if(t.UBt&&t.yOt.MD===Jz.tFt&&(n=this.CFt.concat(n)),this.CFt=rY(n),t.qBt)for(var i,r=function(t,n){var r=n[t],e=yo(i.CFt,(function(t){return t.o===r}));e>=0&&ko(i.CFt,e)},e=0,u=t.qBt;e<u.length;e++)i=this,r(e,u)},n.JFt=function(t,n){if(this.GOt!==t){this.GOt=t;for(var i=0,r=this.Xbt;i<r.length;i++){r[i].MOt=this.GOt}this.HFt()}this.MFt=n},n.YFt=function(){this.GOt=void 0,this.MFt=void 0},xt(t,[{key:"_Ot",get:function(){return 0!==this.Xbt.length&&this.Xbt[this.Xbt.length-1].OOt}},{key:"ct",get:function(){return this.MA}},{key:"hI",get:function(){return this.v4}},{key:"fFt",get:function(){return this._Ft}},{key:"tBt",get:function(){return this.vFt}},{key:"$Lt",get:function(){return this.mFt}},{key:"GBt",get:function(){return this._Ot?0:this.gFt?this.gFt:this.vFt?3*this.vFt:void 0}},{key:"HBt",get:function(){var t;return null!=(t=this.pFt)?t:this.mFt?3*this.mFt:void 0}},{key:"VBt",get:function(){return this.wFt}},{key:"WBt",get:function(){return this.yFt}},{key:"UBt",get:function(){return this.bFt}},{key:"mOt",get:function(){return this.AFt}},{key:"SFt",get:function(){return void 0!==this.$Lt}},{key:"TFt",get:function(){if(this._Ot)return!0;var t=qn.Wg()/1e3,n=this.kFt,i=this.EFt;return void 0!==n&&t-n<i}},{key:"kFt",get:function(){return this.xFt}},{key:"RFt",get:function(){if(this.IFt)return qn.Wg()/1e3-this.IFt}},{key:"MOt",get:function(){return this.GOt}},{key:"EFt",get:function(){var t;return null!=(t=this.vFt)?t:void 0===this.xFt?5:1}},{key:"Mrt",get:function(){return this.Xbt}},{key:"fOt",get:function(){return this.CFt}},{key:"PFt",get:function(){return this.DFt},set:function(t){this.DFt=t}},{key:"Sn",get:function(){return this.jV}},{key:"NFt",get:function(){return this.MFt}},{key:"GSt",get:function(){return this._Ot?0:null!=(i=null!=(n=null!=(t=this.qFt)?t:this.HBt)?n:this.GBt)?i:0;var t,n,i}}]),t}(),fY=function(){function t(){}var n=t.prototype;return n.Ubt=function(t){return t.WO},n.Gbt=function(t){return t.UO},n.Hbt=function(t,n){return fo(t,n)},n.Zbt=function(t,n,i){return(t-n)/(i-n)},xt(t,null,[{key:"Vg",get:function(){return null!=this.Qrt||(this.Qrt=new t),this.Qrt}}]),t}();function vY(t){return void 0!==t.cOt}function lY(t){return void 0!==t.hOt}function dY(t){return lY(t)?t.LOt:0===t.UOt&&t.VOt.LOt}function gY(t,n){return lY(t)?lY(n)?t.YBt+1===n.YBt:0===n.UOt&&gY(t,n.VOt):t.UOt===t.VOt.hOt.length-1?gY(t.VOt,n):!lY(n)&&t.VOt===n.VOt&&t.UOt+1===n.UOt}U(),St(),U(),St(),U(),St(),Dt(),Ct();var mY=function(t){function n(){return t.call(this,"Tried to wait for multiple discontinuity mappings at the same time")||this}return Rt(n,t),xt(n,[{key:"name",get:function(){return"DiscontinuityMisalignmentError"}}]),n}(Uo);var wY=function(){function t(){this.wVt=[],this.tVt=cs(),this.sVt=[],this.dVt=-1}var n=t.prototype;return n.$Ft=function(t){var n=this.tVt.get(t);return void 0!==n&&pY(n)},n.eVt=function(t){if(this.iVt()>t)return ut.reject(new mY);for(var n=[],i=0,r=this.sVt;i<r.length;i++){var e,u=r[i];if(u<t)null==(e=this.tVt.get(u))||e.nVt.Wb(new mY),this.tVt.delete(u);else n.push(u)}return this.sVt=n,-1===this.sVt.indexOf(t)&&this.sVt.push(t),this.rVt(t).nVt.Ub},n.oVt=function(t){var n=this.tVt.get(t);if(!n||!pY(n))throw new y("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.hVt=function(t){return this.oVt(t).BV},n.aVt=function(t,n){var i=lY(n)?n:n.VOt,r=this.oVt(i.dOt),e=t.kO(r.BV);if(r.uVt){var u=pw.vV(n.WO).kF(e);if(u.AF().vF(Tw())){var s=A.round(u._F()/Aw()._F());e=e.kO(Aw().tV(s))}}return e},n.cVt=function(t,n){return this.aVt(t,n).kF(t)},n.lVt=function(t,n,i,r,e,u){this.dVt<t&&(this.dVt=t);var s=this.rVt(t);void 0===s.BV&&(s.fVt.some((function(t){return t.Cat===n}))||(s.fVt.push({Cat:n,_Vt:i,vVt:r.lV(i.mN),mVt:e,uVt:u}),this.gVt(s,t)))},n.gVt=function(t,n){if(!t.BV&&this.pVt(t)){var i=function(t){return Do(t,yY)}(t.fVt);t.BV=i.vVt.kF(i._Vt),t.uVt=t.fVt.some((function(t){return t.uVt})),t.nVt.Vb(),Eo(t.fVt),bo(this.sVt,n)}},n.pVt=function(t){return this.wVt.length>0&&this.wVt.every((function(n){return t.fVt.some((function(t){return t.Cat===n}))}))},n.rVt=function(t){if(this.tVt.has(t))return this.tVt.get(t);var n={BV:void 0,uVt:!1,nVt:new Kc,fVt:[]};return this.tVt.set(t,n),n},n.yVt=function(t){var n=this;this.wVt=t,this.tVt.forEach((function(t,i){return n.gVt(t,i)}))},n.bVt=function(){this.dVt=-1},n.iVt=function(){return this.dVt},n.Xw=function(){this.tVt.forEach((function(t){return t.nVt.jw()})),this.tVt.clear()},t}();function pY(t){return void 0!==t.BV}function yY(t,n){return-function(t,n){if(t.uVt||n.uVt)return function(t,n){var i=t.kF(n);return t.xF()||n.xF()||(i.gF(Tw())?i=i.kF(Aw()):i.bF(Tw().TF())&&(i=i.kO(Aw()))),i}(t._Vt,n._Vt).mF(pw.DF);return t._Vt.mF(n._Vt)}(t,n)||function(t,n){return t.mVt===n.mVt?co.eh:t.mVt?co.Bw:co.Ow}(t,n)||function(t,n){return t.vVt.mF(n.vVt)}(t,n)}var _Y=function(){function t(t,n){this.TVt=[],this.SVt=[],this.DVt=as(),this.kVt=new wY,this.BVt=t,this.qFt=n}var n=t.prototype;return n.WOt=function(t,n){if(iz(t))if(0===this.TVt.length)this.EVt(t);else{if(!n)return void OH.WLt("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.hLt.WOt(t)}else{if(0!==this.TVt.length)return void OH.WLt("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.xVt(t)}},n.EVt=function(t){var n=this.RVt(t.Fyt);n.WOt(t);var i=this.IVt(rz.vE,n),r=this.IVt(rz.mE,n),e=new Hz({Fyt:n.Fyt,bG:0,Myt:0,Lyt:NaN,Jrt:void 0,$Ct:void 0,oft:0,RBt:[],PBt:void 0,MBt:void 0,IBt:void 0,NBt:void 0,DBt:void 0,CBt:void 0},n,[i,r]);this.TVt.push(e)},n.xVt=function(t){var n,i,r=function(i,r){var u=r[i],s=e.filter((function(t){return function(t,n){return bY(t.Tw,t.lLt,n)&&(!t.fLt||t.hLt.Fyt===n.Fyt)}(t,u)}));n.PVt(u,s);var o=new Hz(u,n.RVt(u.Fyt,t.Sn),s);n.TVt.push(o)};(i=this.SVt).push.apply(i,Ut(t.nOt));for(var e=this.CVt(t),u=0,s=t.rOt;u<s.length;u++)n=this,r(u,s)},n.RVt=function(t,n){var i=this.DVt.get(t);return void 0===i&&(i=new hY(t,n,this.qFt),this.DVt.set(t,i)),i},n.CVt=function(t){for(var n=[],i=0,r=t.AN;i<r.length;i++){var e=r[i];if(void 0===e.Fyt)for(var u=0,s=t.rOt;u<s.length;u++){var o=s[u];if(bY(e.Tw,e.lLt,o)){var a=new kH(e,this.RVt(o.Fyt));n.push(a)}}else{var c=new kH(e,this.RVt(e.Fyt));n.push(c)}}return n},n.IVt=function(t,n){return new kH({Tw:t,Fyt:void 0,lLt:"",gs:void 0,xBt:void 0,l:"",aLt:!0,uLt:!1,cLt:!1,_Lt:void 0,dLt:void 0,jCt:void 0},n)},n.PVt=function(t,n){var i=n.filter((function(t){return t.Tw===rz.vE})),r=n.filter((function(t){return t.Tw===rz.mE})),e=t.Jrt&&(t.Jrt.dPt||t.Jrt.cPt);if((!e||t.Jrt.dPt)&&0===r.length){var u=this.IVt(rz.mE,this.RVt(t.Fyt));n.push(u)}if((!e||t.Jrt.cPt)&&0===i.length){var s=this.IVt(rz.vE,this.RVt(t.Fyt));n.push(s)}t.Jrt&&t.Jrt.kBt},n.NVt=function(t){for(var n=0,i=this.TVt;n<i.length;n++)for(var r=0,e=i[n].KLt;r<e.length;r++){var u=e[r];if(u===t)return u}},n.MVt=function(t){for(var n=0,i=this.TVt;n<i.length;n++){var r=i[n];if(r===t)return r}},n.LVt=function(t){for(var n=0,i=this.TVt;n<i.length;n++){var r=i[n];if(To(r.KLt,t))return r}},n.Xw=function(){Eo(this.TVt),Eo(this.SVt),this.DVt.clear(),this.kVt.Xw()},xt(t,[{key:"AVt",get:function(){return this.SVt}},{key:"GLt",get:function(){return this.TVt}},{key:"LL",get:function(){return this.kVt}}]),t}();function bY(t,n,i){switch(t){case rz.vE:return i.IBt===n;case rz.mE:return i.NBt===n;case rz.JV:return i.DBt===n;case rz.aBt:return i.CBt===n}return!1}U(),St(),Ct();var kY=function(t){function n(n){var i;return(i=t.call(this,SY.OVt)||this).gLt=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var AY=function(t){function n(n){var i;return(i=t.call(this,SY.FVt)||this).gLt=n,i}return Rt(n,t),n}(fa),TY="HlsModelUpdater",SY=function(t){return t.OVt="VVt",t.FVt="WVt",t}({}),EY=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).fW=n,s.zut=i,s.mTt=r,s.GVt=!1,s.ZVt=!1,s.nWt=void 0,s.zVt=void 0,s.sWt=cs(),s.Hyt=new _Y(e,u),s}Rt(n,t);var i=n.prototype;return i.qVt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(!(i=n.Hyt.BVt))throw new y("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");return n._o(new QR),[4,n.YVt(i,{},2,!0,t)];case 1:if(r=u.sent(),!nz(e=r.hLt)&&!iz(e))throw new y("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");return nz(e)||OH.MN(TY,"Detected media playlist only HLS stream."),n.KVt(e),r.jVt?(n.ZVt=!0,[4,n.QVt(t)]):[3,3];case 2:u.sent(),u.label=3;case 3:return n.GVt=!0,[2]}}))}))()},i.JVt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(!(u=e.Hyt.NVt(t)))throw new y("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");s={YBt:n,LFt:i,MD:NY(u)},o=br(A.max(1,3*t.hLt.EFt)),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,e.$Vt(u,s,r,o)];case 2:return c.sent(),[3,4];case 3:throw Xo(a=c.sent()),e.tWt(u),a;case 4:return[2]}}))}))()},i.eWt=function(t,n){var i=this.Hyt.NVt(t);if(!i)throw new y("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var r={YBt:void 0,LFt:void 0,MD:NY(i)},e=br(A.max(1,3*t.hLt.EFt));return this.$Vt(i,r,n,e)},i.iWt=function(t,n){return this.sWt.has(t.IC)||this.sWt.set(t.IC,new Kc),Ho(this.sWt.get(t.IC).Ub,n)},i.tWt=function(t){this._o(new AY(t))},i.$Vt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:u=t.hLt.BLt(n),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.YVt(u,n,0,e.ZVt,i,r)];case 2:return o=h.sent(),s=o.hLt,[3,4];case 3:throw Xo(a=h.sent()),t.hLt.PFt=qn.Wg(),a;case 4:if(!iz(s))throw new y("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");if(!e.nWt||t===e.nWt||e.nWt.hLt.TFt)return[3,8];h.label=5;case 5:return h.trys.push([5,7,,8]),[4,e.eWt(e.nWt,i)];case 6:return h.sent(),[3,8];case 7:return Xo(h.sent()),e.nWt=t,e.rWt(),[3,8];case 8:try{e.KVt(s,t)}catch(u){if(u instanceof Qz&&void 0!==n.MD)return c=ss({},n,{MD:void 0}),[2,e.$Vt(t,c,i,r)];throw u}return e.nWt=t,[2]}}))}))()},i.YVt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o;return Ht(this,(function(a){switch(a.label){case 0:return OH.MN(TY,"Loading HLS playlist at "+t+"."),r?[4,s.oWt(t,e)]:[3,2];case 1:if(void 0!==(o=a.sent()))return[2,{hLt:o,jVt:!0}];a.label=2;case 2:return[4,s.hWt(t,n,i,e,u)];case 3:return[2,{hLt:a.sent(),jVt:!1}]}}))}))()},i.oWt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.zut.drt([t])];case 1:return r=e.sent(),Zo(n),void 0!==r?[2,Gz(r.responseURL,{},r.data)]:[3,3];case 2:return Xo(e.sent()),[3,3];case 3:return[2]}}))}))()},i.hWt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o;return Ht(this,(function(a){switch(a.label){case 0:return s={Xu:t,jk:Dl.Tk,xE:u.mTt,AE:vd.GET,Tw:ld.sE,Uw:r,SE:e},[4,IT((function(){return u.aWt(s)}),r,i)];case 1:return[2,Gz((o=a.sent()).eE,n,o.Kk)]}}))}))()},i.aWt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.fW.Qk(t)];case 1:return[4,(i=r.sent()).Ck()];case 2:return[2,{Kk:r.sent(),eE:i.eE}]}}))}))()},i.QVt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:for(Zo(t),i=[],r=0,e=n.Hyt.GLt;r<e.length;r++)for(u=e[r],s=0,o=u.KLt;s<o.length;s++)a=o[s],i.push(n.uWt(a,t));return[4,ut.all(i)];case 1:return c.sent(),[2]}}))}))()},i.uWt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,i.zut.drt([t.hLt.Fyt])];case 1:return r=e.sent(),Zo(n),void 0===r||t.hLt.TFt?[3,3]:[4,i.eWt(t,n)];case 2:e.sent(),e.label=3;case 3:return[3,5];case 4:return Xo(e.sent()),[3,5];case 5:return[2]}}))}))()},i.rWt=function(){for(var t=0,n=this.Hyt.GLt;t<n.length;t++)for(var i=0,r=n[t].KLt;i<r.length;i++){var e=r[i];e!==this.nWt&&(void 0!==e.hLt.MOt&&(e.hLt.TFt?this.cWt(e):e.hLt.YFt()))}},i.cWt=function(t){if(0!==t.hLt.Mrt.length){if(!this.nWt)return this.nWt=t,void this.nWt.hLt.JFt(0,void 0);if(this.lWt(this.nWt),!this.lWt(t)&&void 0===t.hLt.MOt){var n=this.dWt(t,this.nWt);OH.VLt(TY,"Assuming global timeline offset of "+n+"s for rendition "+t.hLt.Fyt+"."),t.hLt.JFt(n,void 0)}}},i.dWt=function(t,n){if(IY(t)){var i=t.hLt.Mrt[0],r=n.hLt.Mrt[0];return OH.VLt(TY,"Synchronizing by start of VOD: "+r.WO+" vs "+i.WO),r.WO-i.HOt}var e=function(t,n){var i=t.length-1,r=n.length-1;for(;i>=0&&r>=0;){var e=t[i],u=n[r];if(e.dOt>u.dOt)i--;else if(e.dOt<u.dOt)r--;else if(e.aOt){if(u.aOt)return{segment:e,referenceSegment:u};r--}else i--}return}(t.hLt.Mrt,n.hLt.Mrt);if(void 0!==e){var u=e.segment,s=e.referenceSegment;return OH.VLt(TY,"Synchronizing by start of discontinuity #"+s.dOt+": "+s.WO+" vs "+u.WO),s.WO-u.HOt}var o=CY(t.hLt.Mrt);if(void 0!==o){var a=CY(n.hLt.Mrt);if(void 0!==a)return OH.VLt(TY,"Synchronizing by PDT:",a.cOt.toISOString()+" vs "+o.cOt.getTime()),a.WO-o.HOt-(a.cOt.getTime()-o.cOt.getTime())/1e3}var c,h=RY(n),f=RY(t),v=null!=(c=t.hLt.MOt)?c:0;return OH.VLt(TY,"Synchronizing by last segment:",h+" vs "+f),h-f+v},i.lWt=function(t){var n=this.Hyt.NVt(t);if(!n)return!1;if(IY(n))return!1;var i=function(t,n){return po(t,(function(t){return void 0!==t.wit&&n.$Ft(t.dOt)}))}(n.hLt.Mrt,this.Hyt.LL);if(void 0===i)return!1;if(n.hLt.NFt===i.dOt)return!0;var r=this.Hyt.LL.aVt(i.wit,i)._F()-i.HOt;return OH.VLt(TY,"Synchronize by media timestamp: "+r+"s for rendition "+t.hLt.Fyt+"."),n.hLt.JFt(r,i.dOt),(void 0===this.nWt||void 0===this.nWt.hLt.NFt||this.nWt.hLt.NFt<i.dOt)&&(this.nWt=n),!0},i.KVt=function(t,n){var i;(this.Hyt.WOt(t,n),iz(t)&&n)&&(this.zVt=n,this.cWt(n),this._o(new kY(n)),null==(i=this.sWt.get(n.IC))||i.Vb(),this.sWt.delete(n.IC));this._o(new TW)},i.fWt=function(t,n){for(var i=0,r=this.Hyt.GLt;i<r.length;i++){var e=r[i],u=mo(e.ZLt,(function(t){return t.hLt===n}));void 0!==u&&void 0!==t.dPt&&(u.Jrt=fz(u.Jrt,t));var s=mo(e.HLt,(function(t){return t.hLt===n}));void 0!==s&&void 0!==t.cPt&&(s.Jrt=fz(s.Jrt,t)),e.SOt||void 0===u&&void 0===s||(e.Jrt=fz(e.Jrt,t))}},i._Wt=function(t,n){for(var i=0,r=this.Hyt.GLt;i<r.length;i++){var e=r[i],u=mo(e.ZLt,(function(t){return t.hLt===n}));void 0!==u&&void 0===t.dPt&&e.IOt(u);var s=mo(e.HLt,(function(t){return t.hLt===n}));void 0!==s&&void 0===t.cPt&&e.IOt(s)}},i.Xw=function(){this.Ro(),this.Hyt.Xw(),this.sWt.forEach((function(t){return t.jw()})),this.sWt.clear()},xt(n,[{key:"UVt",get:function(){return this.GVt}},{key:"HVt",get:function(){return this.ZVt}},{key:"Er",get:function(){return this.Hyt}},{key:"XVt",get:function(){return this.zVt}}]),n}(aa);function IY(t){return t.hLt._Ot||t.hLt.mOt===sz._Bt}function RY(t){var n=t.hLt.Mrt;return n[n.length-1].UO}function CY(t){return po(t,(function(t){return void 0!==t.cOt}))}function NY(t){if(void 0!==t.hLt.WBt&&!t.hLt._Ot&&!(void 0===t.hLt.kFt||qn.Wg()/1e3-t.hLt.kFt>=t.hLt.WBt/2))return t.hLt.UBt?Jz.tFt:Jz.$Ot}var xY=function(){function t(t,n){var i=this;this.mWt=function(t){i.GFt(t.gLt)},this.vEt=t,this.WB=n,this.zgt=new $p,this.vEt.bn(SY.OVt,this.mWt)}return t.prototype.GFt=function(t){if(0!==t.hLt.fOt.length){this.vWt||(this.vWt=this.WB.OI(ty.eW,void 0,void 0,void 0,void 0,Dm.DATE_RANGE),this.zgt.tt(this.vWt));iY(this.vWt,t.hLt.fOt,(function(n){var i;return null!=(i=t.hLt.ROt(n))?i:NaN}))}},xt(t,[{key:"nt",get:function(){return this.zgt}}]),t}();U(),St(),Ct();var DY=function(t){function n(){return t.call(this,bH.tLt)||this}return Rt(n,t),n}(fa);U(),St(),Dt(),U(),St(),Gt(),Dt(),Jt(),U(),St(),Dt();var PY=function(){function t(t){this.Cot=t,this.Xbt=[],this.C2=void 0,this.Kgt=void 0}var n=t.prototype;return n.pWt=function(t){var n;return null==(n=this.wWt(t))?void 0:n.gLt},n.yWt=function(t){this.C2=t,this.bWt()},n.Sdt=function(t,n,i,r,e,u){this.Xbt.push({gLt:t,Zut:n,AWt:BA.gB(e,u),SWt:BA.gB(i,r)}),this.bWt()},n.wWt=function(t){return mo(this.Xbt,(function(n){return n.SWt.wr(t)}))},n.aut=function(t){return mo(this.Xbt,(function(n){return n.Zut===t}))},n.plt=function(t,n){return mo(this.Xbt,(function(i){return i.gLt===t&&gY(i.Zut,n)}))},n.a3=function(){var t=this.wR;t.V>0&&(this.Kgt=t.Tn(t.V-1))},n.bWt=function(){var t=this.Cot.wR;this.Xbt=this.Xbt.filter((function(n){return 0!==t.jn(n.SWt).V}))},xt(t,[{key:"gWt",get:function(){return this.C2}},{key:"wR",get:function(){return EO(this.Cot.wR,this.Cot.w3)}},{key:"Mrt",get:function(){return this.Xbt}},{key:"$gt",get:function(){return this.Kgt}}]),t}(),MY=function(){function t(t,n,i,r,e){var u=this;this.RWt=void 0,this.GT=new Qo,this.xWt=BA.pB(),this.CWt=!1,this.FWt=function(t){u.RWt&&(t?uR(t)&&u.TWt?u.GWt.Oj(u.Cot.wR.vB)?u.RWt.Vb():u.RWt.Wb(t):jo(t)?u.RWt.Vb():(u.CWt=!0,u.RWt.Wb(t)):u.RWt.Vb(),u.RWt=void 0)},this.Sp=t,this.OWt=i,this.Cot=n,this.Eat=r,this.GWt=e}var n=t.prototype;return n.PWt=function(){if(this.XIt)throw new y("Cannot perform new operation while BufferAppender is still busy")},n.Sot=function(t){this.Cot!==t&&(this.PWt(),this.Cot=t,this.Eat=new PY(t))},n.DWt=function(){return this.RWt?this.RWt.Ub:ut.resolve()},n.NWt=function(t){var n=this.Eat.$gt;return void 0!==n&&this.MWt(t,n)},n.MWt=function(t,n){var i,r,e=A.min(t,n);return null!=(r=null==(i=this.Eat.wR.YL().iB(this.EWt)._B(e))?void 0:i.wr(n))&&r},n.LWt=function(t){return this.Eat.pWt(t)},n.jw=function(){this.GT.jw(),this.GT=new Qo},n.A2=function(t){var n=this;this.PWt(),this.RWt=new Kc;var i=function(i){n.OWt.BWt(t),n.FWt(i)};this.S2(t,this.GT.Uw).then(i,i)},n.S2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return OH.VLt(VH,"Appending initializer",oz(t.VWt.Fyt)),[4,i.Cot.A2(t,n)];case 1:return r.sent(),OH.VLt(VH,"Appended initializer",oz(t.VWt.Fyt)),i.Eat.yWt(t),[2]}}))}))()},n.jlt=function(t){var n=this;this.PWt(),this.RWt=new Kc;var i=function(i){n.OWt.BWt(t),n.FWt(i)};this.WWt(t,this.GT.Uw).then(i,i)},n.WWt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,_,b,k,A,T,S;return Ht(this,(function(E){switch(E.label){case 0:if(void 0===(r=t.gLt).hLt.tBt)throw new y("MediaBufferWrapper - Cannot append HLSAsset to "+i.Sp+" MediaBuffer for a HLSRendition with an undefined targetDuration.");return e=i.Eat.wR.GL,u=i.Cot.wR,OH.VLt(VH,"Appending",oz(t.VWt.Fyt)),[4,i.Cot.g2(t,n)];case 1:if(E.sent(),OH.VLt(VH,"Appended",oz(t.VWt.Fyt),e,i.Eat.wR.GL),s=t.WO,o=s+t.ct,a=t.VWt,c=a.WO,f=a.WO+(null!=(h=a.ct)?h:0),i.Eat.Sdt(r,a,s,o,c,f),v=i.Cot.wR.iB(u),l=i.Eat.plt(r,a),i.Tw===rm.mE)if(l)i.UWt(l)?0===v.V?void 0===i.Eat.aut(a)&&(d=i.Cot.w3.jn(new BA([s,o])),i.xWt=i.xWt.tB(d)):(g=v.Sn(0),m=new BA([g,o]),i.xWt=i.xWt.iB(m),g>s&&(w=i.Cot.w3.jn(new BA([s,g])),i.xWt=i.xWt.tB(w))):(p=v.V>0&&v.Sn(0)<s?v.Sn(0):s,i.xWt=i.xWt.iB(new BA([p,o])));else if(0===v.V)_=i.Cot.w3.jn(new BA([s,o])),i.xWt=i.xWt.tB(_);else{if(t.VWt.LOt)return[2];k=v.Sn(0),A=null==(b=u._B(s))?void 0:b.Tn(0),k>(T=A&&A>s?A:s)&&(S=i.Cot.w3.jn(new BA([T,v.Sn(0)])),i.xWt=i.xWt.tB(S))}return t.VWt.OOt&&i.Eat.a3(),[2]}}))}))()},n.UWt=function(t){var n=t.SWt,i=n.Sn(0),r=n.Tn(n.V-1),e=n.ZL(0),u=n.zL(n.V-1);return this.xWt.nB(i,r,e,u)},xt(t,[{key:"Tw",get:function(){return this.Sp}},{key:"TWt",get:function(){return em(this.Sp)}},{key:"kWt",get:function(){return this.Eat}},{key:"EWt",get:function(){return this.xWt}},{key:"XIt",get:function(){return void 0!==this.RWt}},{key:"IWt",get:function(){return this.CWt}}]),t}();U(),St(),Gt(),Dt(),Ct(),rn(),Jt(),U(),St(),Gt(),Jt();var BY=function(){function t(t,n,i){this.XWt=t,this.fW=n,this.mTt=i,this.zWt=void 0}var n=t.prototype;return n.HWt=function(t,n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,e.ZWt(n,r)];case 1:return u=s.sent(),[4,e.XWt.HWt(t,u,i)];case 2:return[2,s.sent()]}}))}))()},n.ZWt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return(null==(r=i.zWt)?void 0:r.Xu)===t?[3,3]:(OH.VLt("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),[4,i.fW.Qk({Xu:t,jk:Dl.bk,AE:vd.GET,Uw:n,Tw:ld.oE,kE:dd._E,xE:i.mTt})]);case 1:return[4,s.sent().Dk()];case 2:e=s.sent(),u=new I(e),i.zWt={Xu:t,Kk:u},s.label=3;case 3:return[2,i.zWt.Kk]}}))}))()},t}();U(),St(),Gt(),Jt();var OY=function(){function t(t,n,i,r,e){void 0===e&&(e=2),this.fW=t,this.zut=n,this.vut=i,this.mTt=r,this.Unt=e}var n=t.prototype;return n.Qk=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,u.qWt(t,n,i,Dl.bk,r,e)];case 1:return[4,(s=a.sent()).Dk(e)];case 2:return o=a.sent(),[2,{httpStatusCode:s.Yk,response:new I(o)}]}}))}))()},n.YWt=function(t,n,i,r,e){var u=this;return Zt((function(){return Ht(this,(function(s){switch(s.label){case 0:return[4,u.qWt(t,n,i,Dl.Sk,r,e)];case 1:return[2,s.sent().Nk(e)]}}))}))()},n.qWt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:t._At&&0===(o=tz(t._At.Sn,t._At.V))[0]&&o[1]===ar&&(o=void 0),a=o?{Range:"bytes="+o[0]+"-"+o[1]}:void 0,c=new wd({Xu:t.Mx,jk:r,Jk:a,xE:s.mTt,AE:vd.GET,Tw:n,kE:i,EE:s.vut,PE:r===Dl.Sk,RE:e,Uw:u}),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,s.zut.grt(t.Mx,o)];case 2:return h=f.sent(),Zo(u),void 0!==h?(null==e||e(h.buffer.byteLength,h.buffer.byteLength),[2,new fd({Qk:c,jk:c.jk,Kk:h.buffer})]):[3,4];case 3:return Xo(f.sent()),[3,4];case 4:return[4,IT((function(){return Ho(s.fW.Qk(c),c.Uw)}),u,s.Unt)];case 5:return[2,f.sent()]}}))}))()},t}();U(),St(),Gt(),Jt();var LY=function(){function t(t,n){this.iUt=void 0,this.rUt=new Qo,this.Pn=-1/0,this.JWt=void 0,this.sUt=!1,this.vEt=t,this.jWt=n,this.tUt()}var n=t.prototype;return n.KWt=function(){return this.jWt.hLt.VBt},n.QWt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:if(!r.KWt())throw new y("Could not perform blocking playlist update.");return e=r.JWt,u={YBt:t,LFt:n},void 0!==e&&function(t,n,i){if(t.YBt===n.YBt){if(t.LFt===n.LFt)return!0;if(0===t.LFt&&void 0===n.LFt)return!0}if(t.YBt===n.YBt+1&&0===t.LFt&&void 0!==n.LFt){var r=i.aut(n.YBt);if(r&&r.Fyt&&n.LFt>=r.hOt.length)return!0}return!1}(e,u,r.jWt.hLt)?[3,2]:[4,r.$Wt()];case 1:s.sent(),r.tUt(u),s.label=2;case 2:return[2,r.vEt.iWt(r.jWt,i)]}}))}))()},n.eUt=function(t){return this.tUt(),this.vEt.iWt(this.jWt,t)},n.tUt=function(t){var n=this;if(!this.iUt&&!this.sUt){var i=function(){n.iUt=void 0};this.iUt=this.nUt(t,this.rUt.Uw).then(i,i)}},n.$Wt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.iUt?(t.rUt.jw(),t.rUt=new Qo,[4,t.iUt.catch(Si)]):[3,2];case 1:n.sent(),t.iUt=void 0,n.label=2;case 2:return[2]}}))}))()},n.nUt=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:r=t,o.label=1;case 1:if(Zo(n),i.jWt.hLt._Ot&&i.jWt.hLt.TFt)return[2];null!=r||(r=i.oUt()),i.JWt=r,o.label=2;case 2:return o.trys.push([2,9,,10]),r?[4,i.vEt.JVt(i.jWt,r.YBt,r.LFt,n)]:[3,4];case 3:return o.sent(),[3,8];case 4:return e=qn.Wg()-i.Pn,u=1e3*i.jWt.hLt.EFt,e<u?[4,ea(u-e,n)]:[3,6];case 5:o.sent(),o.label=6;case 6:return[4,i.vEt.eWt(i.jWt,n)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:throw s=o.sent(),i.JWt=void 0,Xo(s),i.vEt.tWt(i.jWt),s;case 10:return r=void 0,i.Pn=qn.Wg(),[3,1];case 11:return[2]}}))}))()},n.oUt=function(){var t=this.jWt.hLt;if(t.VBt&&!t._Ot&&0!==t.Mrt.length){var n=t.Mrt[t.Mrt.length-1];return n.Fyt?{YBt:n.YBt+1,LFt:t.SFt?0:void 0}:{YBt:n.YBt,LFt:n.hOt.length}}},n.Xw=function(){this.sUt=!0,na(this.$Wt())},t}();U(),St();var FY=function(t){return t[t.uBt=0]="uBt",t[t.cBt=1]="cBt",t[t.nE=2]="nE",t[t.rE=3]="rE",t}({});U(),St(),Gt(),Jt(),U(),St(),Gt(),Dt(),Jt();var VY="AssetExtractor",UY=function(){function t(){this.aUt=[]}var n=t.prototype;return n.hUt=function(t,n,i){for(var r=n,e=0,u=this.aUt;e<u.length;e++){var s=u[e];if(r>=t)return!0;if(r<s.Sn)return!1;if(r<s.Tn){if(i<=s.Tn)return!0;r=s.Tn}}return r>=t},n.uUt=function(t,n){for(var i=[],r=0;r<this.aUt.length;r+=1){var e=this.aUt[r],u=t-e.Sn,s=e.Kk.length,o=A.min(s,A.max(u,0)),a=A.max(0,n+u),c=Nc(e.Kk,o,a);c.length&&(r=this.cUt(r,e,t,o,a),i.push(c))}return i},n.lUt=function(t,n){this.aUt.push({Sn:t,Tn:t+n.length,Kk:n})},n.cUt=function(t,n,i,r,e){var u=t;this.aUt.splice(u,1),u-=1,n.Sn<i&&(u+=1,this.aUt.splice(u,0,{Sn:n.Sn,Tn:i,Kk:Nc(n.Kk,0,r)}));var s=i+e-r;return s<n.Tn&&(u+=1,this.aUt.splice(u,0,{Sn:s,Tn:n.Tn,Kk:Nc(n.Kk,e)})),u},t}(),WY=function(){function t(t,n){this.fUt=n,this.Od=t.getReader()}var n=t.prototype;return n._Ut=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.Od.read()];case 1:if((n=i.sent()).done)throw t.fUt=1/0,new y("No more data can be read from the given stream.");return t.fUt+=n.value.length,[2,n.value]}}))}))()},n.vUt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.Od.cancel(t)];case 1:return i.sent(),[2]}}))}))()},xt(t,[{key:"dUt",get:function(){return this.fUt}}]),t}(),jY=function(){function t(t,n,i,r){this.SUt=new Kc,this.ZOt=t,this.Od=n,this.wUt=i,this.AUt=r,this.yUt=new Kc,this.gUt=new Kc}var n=t.prototype;return n.mUt=function(){this.gUt.Vb(),this.gUt=new Kc},n.pUt=function(t){var n=XY(this.ZOt._At),i=n.vAt,r=n.mAt,e=this.wUt.uUt(i,r-i);OH.VLt(VY,"Collected "+e.length+" chunks.");for(var u=0;u<e.length;u++){var s=e[u];t.enqueue(s)}},n.readAndSliceOutAssetBytes=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:return[4,n.yUt.Ub];case 1:g.sent(),i=XY(n.ZOt._At),r=i.vAt,e=i.mAt,g.label=2;case 2:g.trys.push([2,11,,12]),g.label=3;case 3:return u=n.Od.dUt,[4,n.Od._Ut()];case 4:return s=g.sent(),o=s.length,OH.VLt(VY,"Read "+o+" at "+u+" for extraction of "+oz(n.ZOt)),a=A.min(u+o,r),(c=a-u)>0?(h=Nc(s,0,c),f=Nc(s,c),OH.VLt(VY,"Of the read "+o+" bytes, the first "+c+" will be stored locally for extraction of "+oz(n.ZOt)),n.wUt.lUt(u,h),f.length>0?(OH.VLt(VY,"Extracting "+f.length+" bytes for extraction of "+oz(n.ZOt)),t.enqueue(f),n.mUt(),[2,na(n.readAndSliceOutAssetBytes(t))]):[3,9]):[3,5];case 5:return u+o<=e?(OH.VLt(VY,"Extracting the read data range for extraction of "+oz(n.ZOt)),t.enqueue(s),n.mUt(),[2,na(n.readAndSliceOutAssetBytes(t))]):[3,6];case 6:return l=Nc(s,0,v=e-u),d=Nc(s,v),l.length>0&&(OH.VLt(VY,"Extracting "+l.length+" bytes for extraction of "+oz(n.ZOt)),t.enqueue(l)),OH.VLt(VY,"Of the read "+o+" bytes, the last "+d.length+" will be stored locally for extraction of "+oz(n.ZOt)),n.wUt.lUt(u+v,d),OH.VLt(VY,"Extraction of "+oz(n.ZOt)+" completed as the entire request has been fulfilled."),n.bUt(t),n.AUt?(OH.VLt(VY,"Aborting stream upstream as no more bytes are needed from "+oz(n.ZOt)+"."),[4,n.Od.vUt("AssetExtraction - AbortOnEnd")]):[3,8];case 7:g.sent(),g.label=8;case 8:return[2];case 9:return[3,3];case 10:return[3,12];case 11:return g.sent(),OH.VLt(VY,"Extraction of "+oz(n.ZOt)+" completed as the entire source stream has been read."),n.bUt(t),[3,12];case 12:return[2]}}))}))()},n.bUt=function(t){t.close(),this.mUt(),this.SUt.Vb()},n.start=function(t){OH.VLt(VY,"Preparing to push all collected data to controller for extraction of "+oz(this.ZOt)),this.pUt(t),OH.VLt(VY,"Collected data pushed to controller for extraction of "+oz(this.ZOt));var n=XY(this.ZOt._At).mAt;this.Od.dUt>=n?(OH.VLt(VY,"Extraction of "+oz(this.ZOt)+" completed as the entire request has been fulfilled."),this.bUt(t)):(OH.VLt(VY,"Continuing read from original stream for extraction of "+oz(this.ZOt)),na(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.yUt.Vb(),this.yUt=new Kc,this.gUt.Ub},xt(t,[{key:"TUt",get:function(){return this.SUt.Ub}}]),t}(),ZY=function(){function t(t,n){this.ZOt=n;var i=XY(this.ZOt._At).vAt;this.kUt=new WY(t,i),this.wUt=new UY}var n=t.prototype;return n.EO=function(t){if(!az(this.ZOt,t))return!1;var n=XY(t._At),i=n.vAt,r=n.mAt;return this.wUt.hUt(this.kUt.dUt,i,r)},n.cgt=function(t,n){void 0===n&&(n=!1);var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=i.kUt,e=i.wUt,OH.MN(VY,"Extracting data from "+oz(t)+" out of "+oz(i.ZOt)),i.EUt?(OH.VLt(VY,"Awaiting previous extraction before extracting "+oz(t)+" out of "+oz(i.ZOt)),[4,i.EUt]):[3,2];case 1:s.sent(),s.label=2;case 2:if(!i.EO(t))throw new y("The extractor does not contain the data requested");return u=new jY(t,r,e,n),i.EUt=u.TUt,[2,new Ul(u)]}}))}))()},t}();function XY(t){if(t){var n=t.Sn;return{vAt:n,mAt:void 0!==t.V?n+t.V:ar}}return{vAt:0,mAt:ar}}var GY=function(){function t(t,n){this.ZOt=t,this.xUt=n,this.GT=new Qo,this.gpt=this.$n()}var n=t.prototype;return n.$n=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.xUt.YWt(t.ZOt,ld.rE,dd.iE,void 0,t.GT.Uw)];case 1:return n=i.sent(),[2,new ZY(n,t.ZOt)]}}))}))()},n.EO=function(t){return az(this.ZOt,t)},n.cgt=function(t,n){void 0===n&&(n=!1);var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,i.gpt];case 1:return[4,Ho(r.sent().cgt(t,n),i.GT.Uw)];case 2:return[2,r.sent()]}}))}))()},n.jw=function(){this.gpt.catch(Si),this.GT.jw()},t}();U(),St(),Ct();var HY=function(t){function n(n){var i;return(i=t.call(this,$Y.RUt)||this).EE=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var zY=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,$Y.IUt)||this).uri=n,a.CUt=i,a.EE=r,a.mediaSequenceNumeber=e,a.mediaTrackId=u,a.PUt=s,a.httpStatusCode=o,a}return Rt(n,t),n}(fa);function YY(t,n,i){var r=lY(i)?i:i.VOt;if(n.$Ft(r.dOt)){if(void 0!==i.wit)return n.aVt(i.wit,i)._F();if(i!==r&&void 0!==r.wit){var e=n.aVt(r.wit,r)._F();return i.WO+(e-r.WO)}}var u=t.hLt.aut(r.YBt-1);if(void 0!==u&&n.$Ft(u.dOt)){if(u.hOt.length>0){var s=u.qOt(u.hOt.length-1);if(void 0!==s.wit){var o=n.aVt(s.wit,s)._F();return i.WO+(o-s.WO)}}if(void 0!==u.wit){var a=n.aVt(u.wit,u)._F();return i.WO+(a-u.WO)}}var c=t.hLt.aut(r.YBt+1);if(void 0!==c&&n.$Ft(c.dOt)){if(c.hOt.length>0){var h=c.qOt(0);if(void 0!==h.wit){var f=n.aVt(h.wit,h)._F();return i.WO+(f-h.WO)}}if(void 0!==c.wit){var v=n.aVt(c.wit,c)._F();return i.WO+(v-c.WO)}}return i.WO}function KY(t){return void 0!==t.wit}function qY(t,n,i,r){for(var e=n;e<t.length;e++){var u=t[e];if(u.dOt!==i)break;if(KY(u))if(r(u,e))break}}function JY(t,n,i,r){for(var e=n;e>=0;e--){var u=t[e];if(u.dOt!==i)break;if(KY(u))if(r(u,e))break}}U(),St();var QY="HlsPlaylistDownloader",$Y=function(t){return t.RUt="segmentdownloadprogress",t.IUt="segmentdownloaded",t}({}),tK=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this)||this).MUt=void 0,c.FUt=void 0,c.mGt=void 0,c.gGt=0,c.pGt=0,c.wGt=0,c.yGt=0,c.UUt=new Qo,c.GUt=void 0,c.LUt=0,c.BUt=void 0,c.OUt=void 0,c.ZUt=void 0,c.HUt=void 0,c.QUt=function(t){c.MUt&&(c.jWt=c.MUt,c.MUt=void 0,c.LUt=0,c.BUt=void 0,c.OUt=void 0),c.FUt&&(t&&!jo(t)?c.FUt.Wb(t):c.FUt.Vb(),c.FUt=void 0)},c.fGt=function(t,n){c.wGt=t,t>0&&0===c.gGt&&(c.gGt=qn.Wg()),void 0!==n&&(c.yGt=n),c._o(new HY(c.Sp))},c.Sp=n,c.vEt=r,c.OWt=e,c.jWt=i,c.NUt=new LY(r,i),c.vGt=new BY(o,u,a),c.xUt=new OY(u,s,function(t){switch(t){case rz.mE:return gd.mE;case rz.vE:return gd.vE;case rz.JV:case rz.aBt:return gd.Tk;default:return gd.iE}}(i.Tw),a),c}Rt(n,t);var i=n.prototype;return i.DUt=function(t){this.NUt.Xw(),this.NUt=new LY(this.vEt,t),this.XIt?this.MUt=t:(this.jWt=t,this.LUt=0,this.BUt=void 0,this.OUt=void 0)},i.DWt=function(){return this.FUt?this.FUt.Ub:ut.resolve()},i.VUt=function(){return this.OWt.VUt()},i.WUt=function(t){this.OWt.WUt(t)},i.jw=function(){var t,n,i;this.UUt.jw(),this.UUt=new Qo,null==(t=this.GUt)||t.jw(),this.GUt=void 0,null==(n=this.HUt)||n.jw(),null==(i=this.ZUt)||i.jw(),this.HUt=void 0,this.ZUt=void 0,this.LUt=0,this.BUt=void 0,this.OUt=void 0},i.Xw=function(){this.NUt.Xw()},i.XUt=function(t){var n=this.jWt.hLt.BFt(t);if(!n)return!1;if(void 0!==this.BUt){var i=n.YBt===this.BUt;return void 0!==this.OUt?n.YOt(t)===n.qOt(this.OUt)&&i:i}return!1},i.zUt=function(t){var n;if(void 0===this.BUt||t<this.LUt-1e-6)n=this.qUt(t);else if(void 0!==(n=this.YUt(this.BUt,this.OUt))){var i=nn(n,2),r=i[0],e=i[1],u=YY(this.jWt,this.vEt.Er.LL,null!=e?e:r),s=3*this.jWt.hLt.tBt;A.abs(u-t)>=s&&(n=this.qUt(t))}else if(this.jWt.hLt._Ot){if(this.jWt.hLt.aut(this.BUt).OOt&&void 0!==(n=this.qUt(t))&&n[0].YBt===this.BUt)return}if(n){this.LUt=t;var o=nn(n,2),a=o[0],c=o[1];return 0===(null==c?void 0:c.UOt)&&void 0!==a.ct?[a,void 0]:[a,c]}},i.qUt=function(t){var n,i,r=this.jWt.hLt.Mrt;if(0!==r.length){var e,u=this.vEt.Er.LL,s=pw.vV(t),o=function(t,n,i){var r=t.hLt.Mrt;if(0!==r.length){var e=t.hLt.OFt(i._F());if(n.$Ft(e.dOt)){var u,s,o,a=e.YBt-r[0].YBt,c=e.dOt,h=0;if(!(JY(r,a,c,(function(t,n){return u=t,h=n,!0})),void 0===u&&(qY(r,a+1,c,(function(t,n){return u=t,h=n,!0})),void 0===u)||(n.aVt(u.wit,u).wF(i)?(s=u,qY(r,h+1,c,(function(t){return n.aVt(t.wit,t).vF(i)?(o=t,!0):(s=t,!1)}))):(o=u,JY(r,h-1,c,(function(t){return n.aVt(t.wit,t).wF(i)?(s=t,!0):(o=t,!1)}))),void 0===s||void 0===o)))return[s,o]}}}(this.jWt,u,s);if(void 0!==o){var a=nn(o,2),c=a[0],h=a[1],f=u.aVt(c.wit,c),v=u.aVt(h.wit,h),l=s.kF(f)._F()/v.kF(f)._F()*(h.WO-c.WO);e=c.WO+l}else e=t;var d=r[r.length-1];return d.UO<=e?(n=d,i=d.jOt(e)):i=r[0].WO>e?(n=r[0]).qOt(0):null==(n=this.jWt.hLt.BFt(e))?void 0:n.jOt(e),n?[n,i]:void 0}},i.YUt=function(t,n){var i,r;if((i=this.jWt.hLt.aut(t))&&void 0!==n){if(0===i.hOt.length)return[i,void 0];r=i.qOt(n+1)}return void 0!==i&&void 0!==r||(r=null==(i=this.jWt.hLt.aut(t+1))?void 0:i.qOt(0)),i?[i,r]:void 0},i.PWt=function(){if(this.XIt)throw new y("Cannot perform new operation while PlaylistDownloader is still busy")},i.KUt=function(t){this.PWt(),this.FUt=new Kc,this.jUt(t,this.UUt.Uw).then(this.QUt,this.QUt)},i.JUt=function(){this.NUt.tUt()},i.jUt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return i.jWt.hLt._Ot?[2]:(r=i.zUt(t))||!i.NUt.KWt()||void 0===i.BUt?[3,2]:[4,i.NUt.QWt(void 0===i.OUt?i.BUt+1:i.BUt,void 0!==i.OUt?i.OUt+1:void 0,n)];case 1:u.sent(),r=i.zUt(t),u.label=2;case 2:return r||!i.NUt.KWt()||void 0===i.BUt?[3,4]:[4,i.NUt.QWt(i.BUt+1,0,n)];case 3:u.sent(),r=i.zUt(t),u.label=4;case 4:return r?[3,6]:(OH.MN(QY,"No next segment / part available, need to update playlist before continuing."),[4,i.NUt.eUt(n)]);case 5:return u.sent(),e=i.gLt.hLt.Mrt,e[0].WO>t&&(i.OUt=void 0,i.BUt=void 0),e[e.length-1].YBt<i.BUt&&(i.OUt=void 0,i.BUt=void 0),r=i.zUt(t),[3,4];case 6:return[2]}}))}))()},i.$Ut=function(){return this.OWt.tGt()},i.eGt=function(){this.PWt();try{var t=this.jWt.hLt.FFt(ez.uBt);t&&this.iGt(t);var n=this.jWt.hLt.FFt(ez.cBt);n&&this.sGt(n)}catch(t){throw Xo(t),this.jWt.hLt.PFt=qn.Wg(),this.vEt.tWt(this.jWt),t}},i.iGt=function(t){this.ZUt&&!this.ZUt.EO(t.Fyt)&&(this.ZUt.jw(),this.ZUt=void 0),this.ZUt||(this.ZUt=new GY(t.Fyt,this.xUt))},i.sGt=function(t){this.HUt&&!this.HUt.EO(t.Fyt)&&(this.HUt.jw(),this.HUt=void 0),this.HUt||(this.HUt=new GY(t.Fyt,this.xUt))},i.hut=function(t,n,i){var r=this;this.PWt(),OH.MN(QY,"Starting download of segment "+oz(t.Fyt)+" and part "+(null==n?void 0:n.UOt)),this.FUt=new Kc,this.nGt(t,n,i,this.UUt.Uw).catch((function(t){throw Xo(t),r.jWt.hLt.PFt=qn.Wg(),r.vEt.tWt(r.jWt),t})).then(this.QUt,this.QUt)},i.nGt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:return t.uOt&&(i&&cz(i.VWt.Fyt,null==(s=t.uOt)?void 0:s.Fyt)&&t.dOt===i.dOt||(null==(a=e.GUt)||a.jw(),e.GUt=new Kc,c=e.rGt(t.uOt,t,r).then((function(){e.GUt=void 0})),e.GUt.Qw(c)),u=null==(o=e.GUt)?void 0:o.Ub),[4,e.oGt(t,n,u,r)];case 1:return h.sent(),[2]}}))}))()},i.rGt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,r.hGt(t,n,i)];case 1:return e=s.sent(),u=e.uOt.Kk.Kk.byteLength,r.OWt.aGt(e),r._o(new zY(e.uOt.VWt.Fyt,e.Tw,r.Sp,n.YBt,e.gLt.IC,u,e.uOt.gct)),OH.VLt(VH,"Download initializer complete",oz(t.Fyt)),[2]}}))}))()},i.oGt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,e.uGt(t,n,r)];case 1:return u=a.sent(),s=u.Zut.Kk.Kk.byteLength,i?[4,Ho(i,r)]:[3,3];case 2:a.sent(),a.label=3;case 3:return e.OWt.aGt(u),e._o(new zY(u.Zut.VWt.Fyt,u.Tw,e.Sp,t.YBt,u.gLt.IC,s,u.Zut.gct)),OH.VLt(VH,"Download complete",oz(null!=(o=null==n?void 0:n.Fyt)?o:t.Fyt)),[2]}}))}))()},i.uGt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return n?r.HUt?r.HUt.EO(n.Fyt)?[4,r.HUt.cgt(n.Fyt)]:[3,4]:[3,5]:[3,8];case 1:return[4,Gl(a.sent(),i)];case 2:return u=a.sent(),s=new I(u),[4,r.HWt(s,n.nOt,i)];case 3:return o=a.sent(),e=rK(n,o,200),[3,5];case 4:r.HUt.jw(),r.HUt=void 0,a.label=5;case 5:return e?[3,7]:(OH.VLt(VH,"Start download",oz(n.Fyt)),[4,r.cGt(n,i)]);case 6:e=a.sent(),a.label=7;case 7:return[3,10];case 8:return OH.VLt(VH,"Start download",oz(t.Fyt)),[4,r.cut(t,i)];case 9:e=a.sent(),a.label=10;case 10:return r.BUt=t.YBt,r.OUt=null==n?void 0:n.UOt,[2,{Tw:"Zut",Zut:e,gLt:r.jWt,dOt:t.dOt}]}}))}))()},i.hGt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return r.ZUt?r.ZUt.EO(t.Fyt)?[4,Ho(r.ZUt.cgt(t.Fyt),i)]:[3,4]:[3,5];case 1:return[4,Gl(c.sent(),i)];case 2:return s=c.sent(),o=new I(s),[4,r.HWt(o,t.oOt?[t.oOt]:[],i)];case 3:a=c.sent(),e=nK(t,n,a,200),c.label=4;case 4:OH.MN(QY,"MAP is required for segment, downloading MAP data."),null==(u=r.ZUt)||u.jw(),r.ZUt=void 0,c.label=5;case 5:return e?[3,7]:(OH.VLt(VH,"Start download",oz(t.Fyt)),[4,r.lGt(t,n,i)]);case 6:e=c.sent(),c.label=7;case 7:return[2,{Tw:"uOt",uOt:e,gLt:r.jWt,WO:n.WO,dOt:n.dOt,nOt:n.nOt}]}}))}))()},i.lGt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,r.xUt.Qk(t.Fyt,ld.nE,dd.hE,void 0,i)];case 1:return e=c.sent(),u=e.response,s=e.httpStatusCode,o=t.oOt?[t.oOt]:[],[4,r.HWt(u,o,i)];case 2:return a=c.sent(),[2,nK(t,n,a,s)]}}))}))()},i.cut=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(!t.Fyt)throw new y("Internal error: attempted to download an incomplete segment");o.label=1;case 1:return o.trys.push([1,,3,4]),i.dGt(t),[4,i.xUt.Qk(t.Fyt,ld.nE,dd.iE,i.fGt,n)];case 2:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,4];case 3:return i._Gt(),[7];case 4:return[4,i.HWt(r,t.nOt,n)];case 5:return s=o.sent(),[2,iK(t,s,e)]}}))}))()},i.cGt=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return o.trys.push([0,,2,3]),i.dGt(t),[4,i.xUt.Qk(t.Fyt,ld.nE,dd.iE,i.fGt,n)];case 1:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,3];case 2:return i._Gt(),[7];case 3:return[4,i.HWt(r,t.nOt,n)];case 4:return s=o.sent(),[2,rK(t,s,e)]}}))}))()},i.HWt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return(e=mo(n,(function(t){return t.AE===uz.lBt})))?e.Fyt&&e.LBt?[4,r.vGt.HWt(t,e.Fyt,e.LBt,i)]:(OH.lt(QY,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),[2,t]):[2,t];case 1:return[2,u.sent()]}}))}))()},i.dGt=function(t){var n,i,r;this.mGt=t,this.gGt=0,this.pGt=qn.Wg(),this.wGt=0,this.yGt=null!=(r=null==(i=t.Fyt)||null==(n=i._At)?void 0:n.V)?r:0},i._Gt=function(){this.mGt=void 0,this.gGt=0,this.pGt=0,this.wGt=0,this.yGt=0},i.bGt=function(){if(void 0!==this.mGt)return{Zut:this.mGt,AGt:this.wGt,SGt:this.yGt,TGt:qn.Wg()-this.pGt}},i.kGt=function(t){return void 0!==this.mGt&&(0!==this.gGt&&(!(this.yGt>0&&this.wGt>=this.yGt)&&!(t-this.gGt<500)))},xt(n,[{key:"XIt",get:function(){return void 0!==this.FUt}},{key:"gLt",get:function(){var t;return null!=(t=this.MUt)?t:this.jWt}},{key:"mCt",get:function(){if(!this.jWt.hLt._Ot||void 0===this.BUt)return!1;var t=this.jWt.hLt.aut(this.BUt);if(!t.OOt)return!1;if(void 0!==this.OUt&&!t.qOt(this.OUt).OOt)return!1;return!0}}]),n}(aa);function nK(t,n,i,r){return{Kk:{Kk:i,Tw:GR.iJ},Tw:FY.uBt,gct:r,VWt:t,dOt:n.dOt}}function iK(t,n,i){return{Kk:{Kk:n,Tw:GR.iJ},Tw:FY.nE,gct:i,VWt:t,dOt:t.dOt}}function rK(t,n,i){return{Kk:{Kk:n,Tw:GR.iJ},gct:i,Tw:FY.cBt,VWt:t,dOt:t.VOt.dOt}}U(),St(),Dt();var eK=function(){function t(t){this.RGt=[],this.CGt=as(),this.DGt=void 0,this.EGt=void 0,this.kVt=t}var n=t.prototype;return n.aGt=function(t){"uOt"===t.Tw&&(this.EGt=t.uOt),this.RGt.push(t),this.DGt&&(this.DGt.Vb(),this.DGt=void 0)},n.VUt=function(){return this.RGt[0]},n.WUt=function(t){bo(this.RGt,t)},n.tGt=function(){return null!=this.DGt||(this.DGt=new Kc),this.DGt.Ub},n.NGt=function(t){this.MGt(t.Cat).NGt(t)},n.LGt=function(t){return this.MGt(t).LGt()},n.BWt=function(t){this.MGt(t.Cat).BWt(t)},n.BGt=function(t){var n;null==(n=this.CGt.get(t))||n.Xw()},n.OGt=function(t){return this.MGt(t).OGt()},n.MGt=function(t){if(this.CGt.has(t))return this.CGt.get(t);var n=new uK;return this.CGt.set(t,n),n},n.Fb=function(){this.FGt(),this.VGt()},n.FGt=function(){this.EGt=void 0,Eo(this.RGt)},n.VGt=function(){this.CGt.forEach((function(t){return t.Fb()}))},n.Xw=function(){this.CGt.forEach((function(t){return t.Xw()})),this.CGt.clear(),this.Fb(),this.DGt&&(this.DGt.jw(),this.DGt=void 0)},xt(t,[{key:"gWt",get:function(){return this.EGt}},{key:"xGt",get:function(){for(var t=[],n=0,i=this.RGt;n<i.length;n++){var r=i[n];if("Zut"===r.Tw){var e,u=r.Zut.VWt,s=YY(r.gLt,this.kVt,u);t.push({Zut:u,gLt:r.gLt,WO:s,UO:s+(null!=(e=u.ct)?e:0)})}}return t}},{key:"IGt",get:function(){var t=[];return this.CGt.forEach((function(n){for(var i=0,r=n.PGt;i<r.length;i++){var e=r[i];"Zut"===e.Tw&&t.push({Zut:e.VWt,gLt:e.gLt,WO:e.WO,UO:e.WO+e.ct})}})),t}}]),t}(),uK=function(){function t(){this.WGt=[],this.UGt=void 0}var n=t.prototype;return n.NGt=function(t){this.WGt.push(t),this.UGt&&(this.UGt.Vb(),this.UGt=void 0)},n.LGt=function(){return this.WGt[0]},n.BWt=function(t){bo(this.WGt,t)},n.OGt=function(){return null!=this.UGt||(this.UGt=new Kc),this.UGt.Ub},n.Fb=function(){Eo(this.WGt)},n.Xw=function(){this.Fb(),this.UGt&&(this.UGt.jw(),this.UGt=void 0)},xt(t,[{key:"PGt",get:function(){return this.WGt}}]),t}();U(),St(),Gt(),Dt(),Jt();var sK=1e-6,oK=function(){function t(t,n){this.Pxt=BA.pB(),this.Dxt=BA.pB(),this.HGt=t,this.kVt=n}var n=t.prototype;return n.A2=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return r=t.Kk.Kk,i.GGt(r),i.HGt.Tw!==Dm.TTML?[3,3]:i.kVt.$Ft(t.dOt)?[3,2]:[4,Ho(i.kVt.eVt(t.dOt),n)];case 1:o.sent(),o.label=2;case 2:for(e=i.ZGt(r,t.dOt),u=0;u<e.length;u++)s=e[u],i.HGt._W(s);o.label=3;case 3:return[2]}}))}))()},n.g2=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return void 0===t.Kk?[2]:(r=t.WO,e=r+t.ct,i.Pxt=i.Pxt.tB(BA.gB(r,e)).$L(sK),i.A3(t.XGt,t.zGt),i.S3(r,e),i.kVt.$Ft(t.dOt)?[3,2]:[4,Ho(i.kVt.eVt(t.dOt),n)]);case 1:u.sent(),u.label=2;case 2:return i.b2(t.Kk.Kk,t.dOt,t.VWt),[2]}}))}))()},n.b2=function(t,n,i){var r;this.GGt(t),r=this.HGt.Tw===Dm.WEBVTT?this.qGt(t,i):this.ZGt(t,n);for(var e=0;e<r.length;e++){var u=r[e];this.HGt._W(u)}},n.qGt=function(t,n){for(var i,r=Mw(t),e=r.L,u=null!=(i=r.VV)?i:{WV:pw.DF,mh:pw.DF},s=0;s<e.length;s++){var o=e[s],a=pw.vV(o.WO).kF(u.mh).kO(u.WV),c=this.kVt.aVt(a,n)._F(),h=c+(o.UO-o.WO);o.rF(c,h)}return e},n.ZGt=function(t,n){var i=this.kVt.hVt(n)._F();return Mp(t,this.HGt,{MV:0,LV:1/0,BV:i},Ov.APPLICATION_MP4)},n.GGt=function(t){this.HGt.Tw===Dm.DEFAULT&&(this.HGt.Tw=this.YGt(t)?Dm.WEBVTT:Dm.TTML)},n.YGt=function(t){return zw(Ac(Sc(Ec(t),0,A.min(t.byteLength,16)),new Pc))},n.A3=function(t,n){this.Dxt=this.Dxt.tB(BA.gB(t,n)).$L(sK)},n.S3=function(t,n){this.Dxt=this.Dxt.iB(BA.gB(t,n))},xt(t,[{key:"wR",get:function(){return this.Pxt}},{key:"w3",get:function(){return this.Dxt}}]),t}();U(),St(),Gt(),Ct(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Ct();var aK=function(t){function n(n,i){var r;return(r=t.call(this,vK.KGt)||this).gLt=n,r.Jrt=i,r}return Rt(n,t),n}(fa);U(),St(),Ct();var cK=function(t){function n(n){var i;return(i=t.call(this,vK.jGt)||this).gLt=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var hK=function(t){function n(n,i){var r;return(r=t.call(this,vK.QGt)||this).gLt=n,r.oft=i,r}return Rt(n,t),n}(fa);U(),St(),Ct();var fK=function(t){function n(n,i){var r;return(r=t.call(this,vK.JGt)||this).gLt=n,r.$Gt=i,r}return Rt(n,t),n}(fa),vK=function(t){return t.KGt="tHt",t.QGt="eHt",t.JGt="iHt",t.jGt="sHt",t}({}),lK=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).hHt=void 0,e.GT=new Qo,e.OWt=n,e.kVt=i,e.rHt=r,e}Rt(n,t);var i=n.prototype;return i.oHt=function(t){for(var n=0,i=this.rHt;n<i.length;n++){var r=i[n];To(t,r)||this.OWt.BGt(r)}this.rHt=t},i.DWt=function(){var t,n;return null!=(n=null==(t=this.hHt)?void 0:t.Ub)?n:ut.resolve()},i.PWt=function(){if(this.XIt)throw new y("Cannot perform new operation while transmuxer is still busy")},i.aHt=function(t,n){},i.uHt=function(t){var n=this;this.PWt(),this.hHt=new Kc;var i=function(i){n.cHt(t,i)};this.lHt(t,this.GT.Uw).then(i,i)},i.dHt=function(t){var n=this;this.PWt(),this.hHt=new Kc;var i=function(i){n.cHt(t,i)};this.fHt(t,this.GT.Uw).then(i,i)},i.cHt=function(t,n){this.hHt&&(!n||jo(n)||function(t){return t instanceof mY}(n)?(jo(n)||this.OWt.WUt(t),this.hHt.Vb(),this.hHt=void 0):this.hHt.Wb(n))},i._Ht=function(t,n){this._o(new aK(t,n))},i.vHt=function(t,n){this._o(new hK(t,n))},i.mHt=function(t,n,i){dY(n)&&this._o(new fK(t,i))},i.gHt=function(t){this._o(new cK(t))},i.NGt=function(t){To(this.rHt,t.Cat)&&this.OWt.NGt(t)},i.pHt=function(t){return this.OWt.LGt(t)},i.BWt=function(t){this.OWt.BWt(t)},i.wHt=function(t){return this.OWt.OGt(t)},i.jw=function(){this.GT.jw(),this.GT=new Qo},xt(n,[{key:"nHt",get:function(){return this.rHt}},{key:"XIt",get:function(){return void 0!==this.hHt}}]),n}(aa);function dK(t,n){return dY(t)?0:A.min(t.WO,n)}function gK(t,n){var i;return A.max(t.WO,n)+(null!=(i=t.ct)?i:0)}var mK=function(t){function n(n,i,r){return t.call(this,n,i,[r])||this}Rt(n,t);var i=n.prototype;return i.lHt=function(t,n){Zo(n);var i={Tw:"RCt",Kk:t.uOt.Kk,Cat:this.nHt[0],dOt:t.dOt,yHt:{Jrt:"",nOt:t.nOt},WO:t.WO,gLt:t.gLt,VWt:t.uOt.VWt};return this.NGt(i),ut.resolve()},i.fHt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return Zo(n),void 0===(r=t.Zut.VWt).wit?[3,3]:i.kVt.$Ft(t.dOt)?[3,2]:[4,Ho(i.kVt.eVt(t.dOt),n)];case 1:c.sent(),c.label=2;case 2:return e=i.kVt.aVt(r.wit,r)._F(),[3,4];case 3:e=r.WO,c.label=4;case 4:return u=dK(r,e),s=gK(r,u),a={Tw:"Zut",Kk:t.Zut.Kk,Cat:i.nHt[0],XGt:u,zGt:s,WO:e,ct:null!=(o=r.ct)?o:0,BV:0,dOt:t.dOt,gLt:t.gLt,VWt:t.Zut.VWt},i.NGt(a),[2]}}))}))()},n}(lK);function wK(t,n){for(var i=function(i){var e=t[i],u=e.WO;if(e.gLt.hLt._Ot&&dY(e.Zut))u=0;else{var s=function(t){return e.gLt===t.gLt&&gY(t.Zut,e.Zut)},o=mo(t,s);if(void 0!==o)u=A.min(u,o.UO);else{var a=mo(n,s);void 0!==a&&(u=A.min(u,a.SWt.Tn(0)))}}r=r.tB(BA.gB(u,e.UO))},r=BA.pB(),e=0;e<t.length;e++)i(e);return r}U(),St();var pK=.001,yK=function(){function t(t,n,i,r){this.SHt=t,this.EHt=n,this.THt=i,this.gZ=r,this.AHt=[]}var n=t.prototype;return n.DUt=function(t){this.SHt.DUt(t)},n.kHt=function(t){for(var n,i=function(t){var i=n.AHt[t];if(!i.TWt)throw new y("Invalid state");var e=yo(r,(function(t){return t.Tw===i.Tw}));e>=0&&!i.IWt?(i.Sot(r[e]),ko(r,e)):ko(n.AHt,t)},r=t.slice(),e=this.AHt.length-1;e>=0;e--)n=this,i(e);for(var u=0;u<r.length;u++){var s=r[u],o=new PY(s);this.AHt.push(new MY(s.Tw,s,this.EHt,o,this))}r.length>0&&this.EHt.Fb();var a=t.map((function(t){return t.Tw}));this.THt.oHt(a)},n.Oj=function(t){var n,i=(null==(n=this.gZ)?void 0:n.Oj(t))||!1;return i&&(this.jw(),this.EHt.Fb()),i},n.xHt=function(t){for(var n=0,i=this.AHt;n<i.length;n++){var r=i[n];if(r.Tw!==rm.Tk||r.XIt)throw new y("Invalid state")}var e=new PY(t),u=new MY(rm.Tk,t,this.EHt,e,this);this.AHt=[u]},n.rut=function(){for(var t=0,n=this.AHt;t<n.length;t++){n[t].kWt.bWt()}},n.zlt=function(t){var n=this.RHt._B(t,pK);return n?n.Tn(n.V-1):t},n.XUt=function(t){return!!this.RHt._B(t,pK)||this.SHt.XUt(t)},n.CHt=function(t){return this.IHt.wr(t,pK)},n.PHt=function(t,n,i){for(var r=0,e=this.AHt;r<e.length;r++){var u=e[r].kWt,s=u.$gt;if(void 0!==s&&n>=s&&!u.wR.YL().wr(s))return!0}return n-t<i},n.jw=function(){this.DHt(),this.NHt()},n.DHt=function(){this.SHt.jw()},n.NHt=function(){this.THt.jw(),this.bHt.forEach((function(t){return t.jw()}))},n.Xw=function(){this.jw(),this.SHt.Xw()},xt(t,[{key:"bHt",get:function(){return this.AHt}},{key:"gLt",get:function(){return this.SHt.gLt}},{key:"XIt",get:function(){return this.SHt.XIt||this.THt.XIt||this.AHt.some((function(t){return t.XIt}))}},{key:"gWt",get:function(){var t=this.EHt.gWt;if(t)return t;if(this.AHt.length>0){var n=this.AHt[0].kWt.gWt;if(n&&this.AHt.every((function(t){return t.kWt.gWt===n})))return n}}},{key:"RHt",get:function(){if(0===this.AHt.length)return BA.pB();for(var t=wK(this.EHt.xGt.concat(this.EHt.IGt),Ro(this.AHt,(function(t){return t.kWt.Mrt}))).YL(),n=new BA([0,1/0]),i=0,r=this.AHt;i<r.length;i++){var e=r[i];n=n.jn(e.kWt.wR)}for(var u=0,s=this.AHt;u<s.length;u++){var o=s[u];n=n.iB(o.EWt)}return(n=n.tB(t)).$L(pK)}},{key:"IHt",get:function(){if(0===this.AHt.length)return BA.pB();for(var t=wK(this.EHt.IGt,Ro(this.AHt,(function(t){return t.kWt.Mrt}))).YL(),n=new BA([0,1/0]),i=0,r=this.AHt;i<r.length;i++){var e=r[i];n=n.jn(e.kWt.wR)}return n=n.tB(t)}}]),t}();U(),St(),Ct();var _K=function(t){function n(){return t.call(this,bH.sLt)||this}return Rt(n,t),n}(fa);U(),St(),Ct();var bK=function(t){function n(){return t.call(this,bH.eLt)||this}return Rt(n,t),n}(fa);U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt();var kK="LazyMediaBuffer",AK=function(t){function n(n,i){var r;return(r=t.call(this)||this).Sp=n,r.FHt=i,r.IT=void 0,r.Cot=void 0,r.BHt=new Kc,r.Pj=20,r.MHt=!1,r.Mj=30,r.y3=new nC,r}Rt(n,t);var i=n.prototype;return i.RJ=function(){return this.Cot?this.Cot.RJ():this.MHt},i.A3=function(t,n){OH.VLt(kK,"Marking gap from "+t+" to "+n+"."),this.y3.WJ(t,n),this.Cot&&this.Cot.A3(t,n)},i.S3=function(t,n){OH.VLt(kK,"Removing gap from "+t+" to "+n+"."),this.y3.UJ(t,n),this.Cot&&this.Cot.S3(t,n)},i.LHt=function(t){this.Cot=t,this.Cot.Ej=this.Mj,this.Cot.bj=this.Pj;for(var n,i=this.y3.FJ,r=0;r<i.V;r++)this.Cot.A3(i.Sn(r),i.Tn(r));this.MHt&&(OH.VLt(kK,"End of stream"),null==(n=this.Cot)||n.a3());this.Cot.bn(ZR.tJ,this.Ds),this.BHt.Vb(t)},i.OHt=function(t){return Ho(this.BHt.Ub,t)},i.g2=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,r.OHt(i)];case 1:return[4,e.sent().g2(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.T3=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.OHt()];case 1:return[4,n.sent().T3()];case 2:return n.sent(),[2]}}))}))()},i.A2=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,r.OHt(i)];case 1:return[4,e.sent().A2(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.eT=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,r.OHt(i)];case 1:return[4,e.sent().eT(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.F2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,i.OHt()];case 1:return[4,r.sent().F2(t,n)];case 2:return r.sent(),[2]}}))}))()},i.a3=function(){this.MHt=!0,this.Cot&&this.Cot.a3()},i.dJ=function(t){return!!this.Cot&&this.Cot.dJ(t)},i._J=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.OHt()];case 1:return[4,i.sent()._J(t)];case 2:return i.sent(),[2]}}))}))()},i.yn=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return t.Ro(),null==(n=t.Cot)||n.vn(ZR.tJ,t.Ds),[2]}))}))()},xt(n,[{key:"Mk",get:function(){return this.IT}},{key:"m3",get:function(){return this.Sp}},{key:"kd",get:function(){if(!this.Cot)throw new ol(ul.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.Cot.kd}},{key:"bj",get:function(){return this.Pj},set:function(t){this.Pj=t,this.Cot&&(this.Cot.bj=t)}},{key:"wR",get:function(){return this.Cot?this.Cot.wR:BA.pB()}},{key:"w3",get:function(){return this.Cot?this.Cot.w3:this.y3.FJ}},{key:"Ej",get:function(){return this.Mj},set:function(t){this.Mj=t,this.Cot&&(this.Cot.Ej=t)}}]),n}(aa),TK="LazyMediaSource",SK=function(){function t(t,n,i){this.WB=t,this.VHt=void 0,this.WHt=void 0,this.zHt=new Kc,this.JG=void 0,this.XHt=!1,this.MA=NaN,this.mit=!1,this.UHt=0,this.GHt=1/0,this.HHt=!1,this.ZHt=!1,n&&(OH.VLt(TK,"Created lazy media buffer for audio."),this.VHt=new AK(rm.vE,this)),i&&(OH.VLt(TK,"Created lazy media buffer for video."),this.WHt=new AK(rm.mE,this))}var n=t.prototype;return n.d4=function(t){this.MA=t,this.JG&&this.JG.d4(t)},n.a3=function(){this.mit=!0,this.JG&&this.JG.a3()},n.J2=function(){this.mit=!1,this.JG&&this.JG.J2()},n.m4=function(t,n,i,r){this.UHt=t,this.GHt=n,this.HHt=Boolean(i),this.ZHt=Boolean(r),this.JG&&this.JG.m4(t,n,i,r)},n.dJ=function(t){return!this.JG||this.JG.dJ(t)},n._J=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(!n.dJ(t))throw new y("LazyMediaSource - Unable to reconfigure MediaSource.");return n.JG?[3,2]:(n.WB.p7(),[4,n.WB.$n(t)]);case 1:return e=u.sent(),E(n.MA)||e.d4(n.MA),n.mit&&e.a3(),e.m4(n.UHt,n.GHt,n.HHt,n.ZHt),OH.VLt(TK,"The MediaSource has been loaded."),n.XHt=!0,n.JG=e,null==(i=n.VHt)||i.LHt(n.JG.h4),null==(r=n.WHt)||r.LHt(n.JG.a4),n.zHt.Vb(e),n.WB.w7(),[3,4];case 2:return[4,n.JG._J(t)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))()},n.mJ=function(t){this.JG.mJ(t)},n.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.JG?[4,t.JG.Xw()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},xt(t,[{key:"kd",get:function(){return{Tw:Ey.wW,g4:[],sH:[]}}},{key:"h4",get:function(){return this.VHt}},{key:"a4",get:function(){return this.WHt}},{key:"wR",get:function(){return this.JG?this.JG.wR:BA.pB()}},{key:"ct",get:function(){return this.JG?this.JG.ct:this.MA}},{key:"RJ",get:function(){return!!this.JG&&this.JG.RJ}},{key:"hI",get:function(){return this.JG?this.JG.hI:new BA([0,1/0])}}]),t}();function EK(t,n){return void 0===n&&(n=!1),function(i,r){void 0===r&&(r="*");var e,u,s,o=RK(i,"tag"),a=RK(null==r?"*":r,"range"),c=[],h=-1;for(;++h<a.length;)if(e=a[h].toLowerCase(),n||"*"!==e){for(u=-1,s=[];++u<o.length;)if(t(o[u].toLowerCase(),e)){if(!n)return o[u];c.push(o[u])}else s.push(o[u]);o=s}return n?c:void 0}}U(),St(),ct();EK((function(t,n){return"*"===n||t===n||Zs(t,n+"-")}),!0),EK((function(t,n){var i=t.split("-"),r=n.split("-"),e=0,u=0;if("*"!==r[u]&&i[e]!==r[u])return!1;for(e++,u++;u<r.length;)if("*"!==r[u]){if(!i[e])return!1;if(i[e]!==r[u]){if(1===i[e].length)return!1;e++}else e++,u++}else u++;return!0}),!0);var IK=EK((function(t,n){for(var i,r=n;;){if("*"===r||t===r)return!0;if((i=r.lastIndexOf("-"))<0)return!1;"-"===r.charAt(i-2)&&(i-=2),r=r.slice(0,i)}}));function RK(t,n){var i=t&&"string"==typeof t?[t]:t;if(!i||"object"!==(void 0===i?"undefined":W(i))||!("length"in i))throw new y("Invalid "+n+" `"+i+"`, expected non-empty string");return i}U(),St(),Gt(),Dt(),Jt(),U(),St();var CK=16384,NK=71,xK=188,DK=2,PK=3,MK=function(t){return t[t.iE=0]="iE",t[t.jC=1]="jC",t[t.qHt=2]="qHt",t[t.YHt=3]="YHt",t}({});function BK(t){return OK(t)?1:function(t){return function(t){if(t.length<DK*xK)return-1;for(var n=t.length<PK*xK?DK:PK,i=A.min(1e3,t.length-n*xK),r=0;r<=i;r++){for(var e=!0,u=0;u<n;u++)if(t[r+u*xK]!==NK){e=!1;break}if(e)return r}return-1}(t)>=0}(t)?2:function(t){return null!==Vx(Ec(t),new Pc)}(t)?3:0}function OK(t){var n=Tc(t,0,A.min(t.length,CK));return Ap.tN(Ec(n))}var LK=function(){function t(t,n,i,r){this.Sp=t,this.Cot=n,this.spt=i,this.NDt=r}var n=t.prototype;return n.KHt=function(t){return this.Cot===t},n.A2=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.Cot.kd.Mk===t.yHt.Jrt?[3,3]:(r={Mk:t.yHt.Jrt},i.Cot.dJ(r)?[4,i.Cot._J(r)]:[3,2]);case 1:return e.sent(),Zo(n),[3,3];case 2:throw new oN(i.Cot.kd.Mk,t.yHt.Jrt);case 3:return[4,i.Cot.A2(t.Kk,{W1:t.gLt.IC},n)];case 4:return e.sent(),void 0!==i.NDt&&i.Sp===rm.mE&&OK(t.Kk.Kk)&&i.NDt.Got(t.Kk.Kk),[2]}}))}))()},n.g2=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return Zo(n),OH.MN("HlsMediaBuffer","Got media data, appending to "+i.Sp+" MediaBuffer: "+oz(t.VWt.Fyt)),r=t.XGt,e=t.zGt,u={wit:t.WO,ct:t.ct,BV:t.BV,W1:t.gLt.IC},void 0===t.Kk?[3,2]:[4,i.Cot.g2(t.Kk,u,n)];case 1:s.sent(),i.jHt(t.Kk,t),s.label=2;case 2:return i.QHt(r,e),[2]}}))}))()},n.jHt=function(t,n){var i;if(OK(t.Kk)){var r=n.WO,e=r+n.ct,u=n.BV;if(null==(i=this.spt)||i.Sdt(t.Kk,r,u),void 0!==this.NDt&&this.Sp===rm.mE){var s=n.VWt.OOt;this.NDt.Sdt(t.Kk,r,e,u,n.gLt,s)}var o=[];void 0!==this.spt&&o.push(this.spt),void 0!==this.NDt&&o.push(this.NDt),my(this.wR,o)}},n.QHt=function(t,n){for(var i=this.Cot.wR,r=new BA([t,n]).iB(i),e=0;e<r.V;e++)this.Cot.A3(r.Sn(e),r.Tn(e));for(var u=0;u<i.V;u++)this.Cot.S3(i.Sn(u),i.Tn(u))},n.A3=function(t,n){this.Cot.A3(t,n)},n.S3=function(t,n){this.Cot.S3(t,n)},xt(t,[{key:"Tw",get:function(){return this.Sp}},{key:"wR",get:function(){return this.Cot.wR}},{key:"w3",get:function(){return this.Cot.w3}}]),t}();function FK(t){if(t.Tw===rz.aBt&&void 0!==t.dLt){var n=t.dLt.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.dLt.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}U(),St(),U(),St(),U(),St();var VK=function(){function t(t){this.JG=t}var n=t.prototype;return n.iBt=function(t){var n,i,r;return null==(r=null==(i=this.JG)||null==(n=i.a4)?void 0:n.dJ(t))||r},n.sBt=function(t){var n,i,r;return null==(r=null==(i=this.JG)||null==(n=i.h4)?void 0:n.dJ(t))||r},t}(),UK="LLHLSPlayer",WK=[Iy.OL,Iy.FL,Iy.VL,Iy.iC],jK=[va.Yy,va.Ey,va.Ly,va.Ny],ZK=2e3,XK=function(t){function n(n,i,r,e,u,s,o,a){var c,h;return c=t.call(this)||this,h=c,c.gZ=r,c.pZ=e,c.XWt=u,c.LZt=s,c.tXt=cs(),c.EZt=!0,c.kZt=!0,c.wZt=!1,c.vZt=void 0,c.JG=void 0,c.gpt=void 0,c.vW=new Qo,c.vEt=void 0,c.KZt=void 0,c.QZt=void 0,c.JZt=void 0,c.sZt=void 0,c.$Ht=void 0,c.JHt=void 0,c.lZt=void 0,c.qZt=void 0,c.gXt=[],c.u4=void 0,c.c4=void 0,c.IZt=void 0,c.eZt=void 0,c.eXt=void 0,c.MZt=void 0,c.pXt=new Qo,c.AZt=void 0,c.r8=new Qo,c.o8=void 0,c.uZt=-1,c.XXt=void 0,c.qXt=void 0,c.jXt=void 0,c.ZXt=void 0,c.zXt=void 0,c.KXt=void 0,c.LSt=!0,c.oXt=0,c.rXt=!1,c.QG=iS.$H,c.YG=void 0,c.KG=void 0,c.v4=BA.pB(),c._zt=[],c.mZt=void 0,c.gZt=void 0,c.cEt=!1,c.X9=!1,c.lxt=void 0,c.dxt=0,c.fxt=0,c.pZt=void 0,c.yZt=0,c.Zkt=!1,c.nzt=!1,c.PZt=GA.JB,c.iDt=void 0,c.vzt=void 0,c.Bkt=0,c.handleContentProtectionErrorEvent=function(t){c.YG=cm(t.errorObject),c.KG=t.errorObject,c.Ds(t)},c.handleBufferingErrorEvent=function(t){!function(t){return t instanceof oN}(t.lt)?c.BH(new ol(ul.MEDIA_LOAD_ERROR,t.lt.message,t.lt)):na(c.CZt(c.DLt,c.MLt,c.lZt,{MI:!0}))},c.bxt=function(t){c.BH(fm(t.lt))},c.uzt=function(){c.HFt();var t=c.ct;t!==c.lxt&&(c.lxt=t,c._o(new bT(c.lxt)))},c.Ah=function(){c.PR&&c._o(new AT(c.ER))},c.sMt=function(){c._o(new yT(c.ER))},c.czt=function(){c.ckt(),c._o(new _T(c.ER))},c.XB=function(){void 0!==c.vzt&&(qn.Ug(c.vzt),c.vzt=void 0),c._o(new Oy(c.ER))},c.lzt=function(){c._o(new JR(c.ER))},c.FW=function(){c._o(new Cy(c.ER,c.rI))},c.S6=function(){var t=c.bLt;Io(c._zt,t)||(c._o(new DY),c._zt=t),c._o(new yg(c.ER,c.bR))},c.DXt=Ii((function(t){t.EE===rm.mE&&c.tZt()&&na(c.iZt())}),200),c.NXt=function(t){var n;c.Bkt+=t.PUt;var i=c.rt.V>0?t.EE===rm.mE:t.EE===rm.vE;"Zut"===t.CUt&&i&&na(c.aXt()),c._o(new iL(function(t){if(t){if(void 0!==t._At){var n,i,r=t._At.Sn+(null!=(i=t._At.V)?i:0);return{Xu:t.Mx,_ut:[null==(n=t._At)?void 0:n.Sn,r],xE:!0}}return{Xu:t.Mx.toString()||"",xE:!0}}return{Xu:"",xE:!0}}(t.uri),(null==(n=c.pLt)?void 0:n.bG)||0,t.mediaSequenceNumeber,t.mediaTrackId,t.EE,t.httpStatusCode,t.PUt))},c.Ge=function(){c._o(new TT(c.ER))},c.SH=function(){c._o(new ST(c.ER))},c.dzt=function(){c.sEt()},c.fzt=function(){c._o(new ET(c.ER,c.gI))},c.hzt=function(){c.WB.uI?c._o(new Py(c.ER)):(null!=c.vzt||(c.vzt=qn.Gg((function(){c.nzt&&(c.iDt=void 0,na(c.rZt()))}),2500)),c.ckt(),c._o(new Py(c.ER)))},c.azt=function(){c.nzt=!0,c._o(new My(c.ER,c.rI))},c.SZt=function(t){jo(t)||Zd(t)||Xd(t)||(c.SXt(),na(c.kXt()),c._o(new jH(t)))},c.mWt=function(){c.HFt()},c.DZt=function(t){na(c.vXt(t.gLt,c.vW.Uw))},c.ewt=function(t){if(!jo(t)){var n=t instanceof ol?t:new ol(ul.MEDIA_DECODE_ERROR,t.message,t);c.BH(n)}},c.onTextTrackChange=function(t){if(c.sZt){var n=t.Ht,i=c.$Zt(n);i&&(n.CE===Hp.LC||n.CE===Hp.Qn?(na(c._Xt(i)),c.tXt.forEach((function(t){t!==n&&(t.CE=Hp.Mh)}))):c.lZt&&c.lZt===i&&na(c.CZt(c.$Ht,c.JHt,void 0)))}},c.retryOfflineRenditionsCallback=Zt((function(t,n){return Ht(this,(function(i){switch(i.label){case 0:return h.cZt!==t&&h.DLt!==t&&h.MLt!==t?[2]:[4,h.vEt.eWt(t,n)];case 1:return i.sent(),t.hLt.PFt=-1/0,[2]}}))})),c.wxt=function(){c.JTt()},c.yxt=function(){c.$Tt()},c.MXt=function(t){var n=c.sZt,i=null==n?void 0:n.SOt;if(c.vEt.fWt(t.Jrt,t.gLt.hLt),!i&&(c.vEt._Wt(t.Jrt,t.gLt.hLt),c.FZt.qLt(),n)){var r=void 0!==c.$Ht&&!To(n.HLt,c.$Ht),e=void 0!==c.JHt&&!To(n.ZLt,c.JHt);(r||e)&&c.CZt(r?void 0:c.$Ht,e?void 0:c.JHt,c.lZt).catch(Si)}},c.LXt=function(t){c.FZt.jLt(t.gLt,t.oft)},c.BXt=function(t){c.FZt.JLt(t.gLt,t.$Gt._F())},c.OXt=function(t){c.vEt.lWt(t.gLt)},c.zut=new Zj(o),c.WB=n,c.fW=i,c.iH=new WH(c.gZ.cj),c.dXt=new ZH(c.WB),c.uXt=new $H(c.gZ),c.edt=a.retryConfiguration,c.cO=new im,c.dO=new im,c.FZt=new UH(c,c.gZ,c.cO,c.dO),c.nXt=new $p,c.dH=new yy(c.WB,c.fW),c.spt=new Wj(c.WB),c.NDt=new lV(c.WB),c.Hl=new Ok([c.nXt,c.dH.Z,c.spt.Z,c.NDt.Z,c.WB.nt]),c.hH=new Mk(c.fW),c.WB.wH=c.hH,c.mxt=new HK(c,c.WB),c.szt=new Fy(c.mxt,!0),c.ozt(),c}Rt(n,t);var i=n.prototype;return i.tZt=function(){if(void 0===this.eZt)return!1;var t=qn.Wg();if(!this.eZt.SHt.kGt(t))return!1;var n=this.eZt.SHt.bGt();if(void 0===n||void 0===n.Zut.ct)return!1;var i=this.ER,r=this.QR,e=this.eZt.RHt._B(i);return!((void 0!==e?e.Tn(0)-i:0)>=2*n.Zut.ct*r)&&(n.AGt>0&&0===n.SGt?n.TGt>1e3*n.Zut.ct*.8:8*n.SGt/this.gZ.cj.bG>=1.8*n.Zut.ct)},i.iZt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,t.oBt()];case 1:return void 0===(i=a.sent())||void 0===(r=null==(n=t.eZt)?void 0:n.SHt.bGt())?[2]:(e=t.sZt,r.SGt>0&&(u=A.max(0,r.SGt-r.AGt),s=r.SGt*(i.bG/e.bG),u<=s)?[2]:(o=i.bG<e.bG,[4,t.SLt(i,{TLt:o})]));case 2:return a.sent(),[2]}}))}))()},i.nZt=function(t){return Co(t,(function(t){return t.bG}))},i.rZt=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return[4,t.oZt()];case 1:return 0===(n=e.sent()).length?[2]:[4,t.hZt(n)];case 2:return(i=e.sent()).length>0&&(n=i),void 0===(r=t.nZt(n))?[3,4]:[4,t.SLt(r,{TLt:!0})];case 3:e.sent(),t.iH.AIt(r.bG),e.label=4;case 4:return[2]}}))}))()},i.RR=function(t,n){var i,r,e,u,s=this;OH.MN(UK,"Seeking to "+t+" s.");var o={fZt:null!=(r=null==n?void 0:n.fZt)?r:t===1/0,_Zt:null==(e=null==n?void 0:n._Zt)||e,iOt:null!=(u=null==n?void 0:n.iOt)&&u};this.mZt=t,this.gZt=o,this.pZt=!0,this.cEt=!0,null==(i=this.ZG)||i.RI(),this._o(new TT(t)),this.r8.jw(),this.wZt&&(qn.Ug(this.yZt),o._Zt?this.yZt=qn.Gg((function(){return s.bZt(t,o)}),50):this.bZt(t,o))},i.bZt=function(t,n){qn.Ug(this.yZt);var i=[this.gpt,this.AZt,this.o8].filter(Yn);this.r8=new Qo,this.r8.Qw(this.vW.Uw),this.o8=zo(this.h8(i,t,n,this.r8.Uw),this.r8).catch(this.SZt)},i.HFt=function(){var t=function(t){if(0===t.length)return BA.pB();for(var n=new BA([0,1/0]),i=0,r=0;r<t.length;r++){var e=t[r].hLt.hI;e.V>0&&(n=n.jn(e),i=A.max(i,e.Sn(0)))}if(n.V>0)return n;return BA.mB(i)}([this.$Ht,this.JHt].filter(Yn));0!==t.V&&(this.JG&&this.aZt&&this.JG.ct!==1/0&&(t=new BA([t.Sn(0),this.JG.ct])),this.v4=t,this.kZt&&this.spt.nW(t.Sn(0)),this.EZt&&this.NDt.nW(t.Sn(0)))},i.II=function(){return!1},i.SI=function(){return this.WB.Sa},i.ja=function(){return this.WB.fH},i.OI=function(t){return this.WB._H(t)},i.be=function(){OH.MN(UK,"Hiding the player."),this.WB.be()},i.EI=function(){var t;OH.MN(UK,"Pausing the player."),this.WB.EI(),(null==(t=this.ZG)?void 0:t.wB)&&this.ZG.RI()},i.xI=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return t.X9=!0,n=t.WB.xI(),t.PR&&(i=t.Mkt).V>0&&t.RR(i.Sn(0),{_Zt:!1}),t.wZt?[3,2]:[4,t.TZt()];case 1:r.sent(),r.label=2;case 2:return t.ckt(),[4,n];case 3:return r.sent(),t.lEt(),[2]}}))}))()},i.ckt=function(){var t;if(!this.Nkt())if(null==(t=this.pLt)?void 0:t.hLt._Ot){var n,i=!0,r=0,e=null==(n=this.sZt)?void 0:n.hLt.Sn;if(!this.cEt&&e&&(i=!e.iOt,(r=e.eOt)<0)){var u=this.pLt.hLt.fFt;r+=u.Tn(u.V-1)}this.bZt(r,{fZt:i})}else this.bZt(1/0,{fZt:!0});this.xZt()&&this.bZt(1/0,{fZt:!0})},i.Nkt=function(){var t,n=this.Mkt;if(0===n.V)return!0;var i=null==(t=this.RZt)?void 0:t.sB(this.ER);return(i&&i>0?this.RZt.Tn(i):this.ER)>=n.Sn(0)},i.xZt=function(){return tq(this.ER,this.$Ht)||tq(this.ER,this.JHt)},i.qEt=function(){this.YG=void 0,this.KG=void 0},i.BH=function(t){this.YG||(na(this.nr()),this.YG=cm(t),this.KG=t,this._o(new Ik(t)))},i.ge=function(){OH.MN(UK,"Showing the player."),this.WB.ge()},i.CI=function(){throw new y("Not implemented")},i.DI=function(){throw new y("Not implemented")},i.NI=function(){},i.MI=function(){this.wZt&&na(this.CZt(this.$Ht,this.JHt,this.lZt,{MI:!0}))},i.Ca=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:e={stack:[],error:void 0,hasError:!1},f.label=1;case 1:return f.trys.push([1,4,5,6]),OH.MN(UK,"Setting the player source to "+t.src+"."),r.qEt(),!r.vZt||fT(r.vZt)?[3,3]:[4,r.nr()];case 2:f.sent(),Zo(i),f.label=3;case 3:return!t.src||fT(t)?[2]:(s=Yt(e,Qo.$w([i]),!1),r.vW=Qo.$w([s.Uw]),r.hH.kG(t.contentProtection),r.vZt=t,r.PZt=t.seamlessSwitchStrategy,r.EZt=!To(t.ignoreEmbeddedTextTrackTypes,Dm.CEA608),r.kZt=!To(t.ignoreEmbeddedTextTrackTypes,Dm.EMSG),r.bn(bH.rLt,r.handleBufferingErrorEvent),a=null!=(o=null==(u=t.latencyConfiguration)?void 0:u.targetOffset)?o:t.liveOffset,r.vEt=new EY(r.fW,r.zut,t.useCredentials,qn.ew(t.src),a),r.vEt.bn(SY.OVt,r.mWt),r.vEt.bn(SY.FVt,r.DZt),r.vEt.bn(va.Uy,r.Ds),r.vEt.bn(va.Gy,r.Ds),t.hlsDateRange&&(r.NZt=new xY(r.vEt,r.WB),r.Hl.MG(r.NZt.nt)),null!=r.MZt||(r.MZt=r.LZt.Ait()),n.textTracks&&r.aH(n.textTracks),t.latencyConfiguration&&(c=t.latencyConfiguration,r.ZG=new Xj(r,r.WB,c),r.ZG.Rt=!0,r.yI.Aa(r.ZG)),Ty(r.Hl),r.TZt(),s.Xw(),[3,6]);case 4:return h=f.sent(),e.error=h,e.hasError=!0,[3,6];case 5:return Kt(e),[7];case 6:return[2]}}))}))()},i.TZt=function(){return this.gpt=this.BZt(this.gpt,this.vW.Uw).catch(this.ewt),this.gpt},i.BZt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return t?[4,t]:[3,2];case 1:e.sent(),Zo(n),e.label=2;case 2:return i.vEt?(r=i.QG)===iS.JB||i.X9?[4,i.QE(n)]:[3,4]:[2];case 3:return e.sent(),[3,6];case 4:return r!==iS.eW?[3,6]:[4,i.OZt(n)];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))()},i.OZt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(void 0===n.vEt||n.Zkt)return[2];if(n.vEt.UVt)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.vEt.qVt(t)];case 2:return a.sent(),[3,4];case 3:throw Xo(i=a.sent()),n.qR=!1,new ol(ul.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+i.message,i);case 4:n.FZt.fft(),a.label=5;case 5:return[4,n.VZt()];case 6:return r=a.sent(),n.WZt(r),e=n.UZt(r.HLt),u=n.GZt(r.ZLt),(s=n.HZt(r.kOt))||(o=YK(r.EOt))&&(OH.MN(UK,"Detected initial closed caption rendition."),n.ZZt(r,o)),[4,n.CZt(e,u,s,{XZt:!0})];case 7:return a.sent(),n.Zkt=!0,n.mxt.Sxt(),n.zZt(),[2]}}))}))()},i.zZt=function(){var t,n=[this.$Ht,this.JHt].filter(Yn);if(!n.some((function(t){return t.hLt._Ot}))&&!this.ZG){var i=(t=A).max.apply(t,Ut(n.map((function(t){var n;return null!=(n=t.hLt.GSt)?n:0})))),r={minimumOffset:.66*i,maximumOffset:2*i,targetOffset:1*i,forceSeekOffset:3*i,minimumPlaybackRate:LA,maximumPlaybackRate:FA};this.ZG=new Xj(this,this.WB,r),this.pZ.Aa(this.ZG)}},i.VZt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:if(t.qZt=t.vEt.Er.GLt,!t.qZt.length)throw new ol(ul.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");return[4,t.YZt(t.qZt)];case 1:if(0===(n=r.sent()).length)throw new ol(ul.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");return[4,t.hZt(n)];case 2:return(i=r.sent()).length>0&&(n=i),OH.MN(UK,"Selecting initial active variant stream."),[2,KK(n,t.vZt.abr,t.gZ,t.edt.maximumBackoff)]}}))}))()},i.UZt=function(t){if(this.KZt){var n=this.jZt(this.KZt);if(n)return n}return JK(t)},i.GZt=function(t){if(this.QZt){var n=this.jZt(this.QZt);if(n)return n}return JK(t)},i.HZt=function(t){for(var n=0,i=this.Hl.lC;n<i.length;n++){var r=i[n];r.CE===Hp.Qn&&(this.JZt=this.$Zt(r))}if(this.JZt){var e=this.jZt(this.JZt);if(e)return e}return YK(t)},i.$Zt=function(t){var n=this;return mo(this.sZt.kOt,(function(i){return t===n.tXt.get(i.IC)}))},i.QE=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.wZt?[2]:[4,n.OZt(t)];case 1:return i.sent(),Zo(t),n.wZt=!0,[4,n.CZt(n.$Ht,n.JHt,n.lZt,{XZt:!0})];case 2:return i.sent(),[2]}}))}))()},i.aH=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.dH.cW(i)}},i.ZZt=function(t,n){if(this.EZt){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=FK(r);void 0!==e&&n.push({jtt:e,Qtt:r.gs||"",Ch:r.l})}return n}(t.EOt),r=0;r<i.length;r++){var e=i[r];this.NDt.kgt(e)}if(void 0!==n){var u=FK(n);this.NDt.Sgt(u).CE=Hp.Qn}}},i.ALt=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.iXt(i))throw new y("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.qZt=t},i.iXt=function(t){var n=this.Er;return!!n&&To(n.GLt,t)},i.jZt=function(t){if(t&&this.sZt)return mo(this.sZt.KLt,(function(n){return n===t}))},i.WZt=function(t){var n;if(OH.MN(UK,"Setting active variant stream."),this.sZt!==t){var i=(null==(n=this.sZt)?void 0:n.DBt)!==(null==t?void 0:t.DBt);if(this.sZt&&i)for(var r=0,e=this.sZt.kOt;r<e.length;r++){var u=e[r];this.mW(u)}if(this.sZt=t,this._o(new _K),this.sEt(),t&&i)for(var s=0,o=t.kOt;s<o.length;s++){var a=o[s];this.sXt(a)}}},i.sXt=function(t){var n=this.WB.OI(ty.JV,void 0,t.l,t.gs,t.aLt,void 0,void 0,t._Lt.map(MH).filter(Yn));n.bn(Cg.da,this.onTextTrackChange),this.tXt.set(t.IC,n),this.nXt.tt(n)},i.mW=function(t){var n=this.tXt.get(t.IC);n&&(n.vn(Cg.da,this.onTextTrackChange),this.nXt.it(n),this.tXt.delete(t.IC),this.WB.mW(n))},i.oZt=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return 0!==(i=null!=(n=t.qZt)?n:t.Er.GLt).length||t.qZt?1!==i.length||t.qZt?[4,t.YZt(i)]:(OH.MN(UK,"The HLS stream contains only a single variant stream, skipping ABR selection."),[2,[]]):(OH.MN(UK,"The HLS stream does not contain any variant streams, skipping ABR selection."),[2,[]]);case 1:return 0===(r=u.sent()).length?(OH.WLt(UK,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),[2,[]]):0!==(e=QK(r,t.edt.maximumBackoff)).length?[3,3]:t.rXt?[2,[]]:(OH.WLt(UK,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),t.oXt++,[4,t.hXt(r)]);case 2:return u.sent(),[2,[]];case 3:return[2,e]}}))}))()},i.aXt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.oBt()];case 1:return void 0===(n=r.sent())?[2]:(i=!!t.sZt&&n.bG<t.sZt.bG,[4,t.SLt(n,{TLt:i})]);case 2:return r.sent(),[2]}}))}))()},i.oBt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,t.oZt()];case 1:return 0===(r=c.sent()).length?[2,void 0]:(e=rG(t.WB),[4,t.hZt(r)]);case 2:return u=c.sent(),s={ji:t.WB.ji,Ti:t.WB.Ti,eBt:e,Dlt:null==(i=t.vZt)||null==(n=i.abr)?void 0:n.restrictToPlayerSize},[4,t.uXt.oBt(r,t.sZt,u,s,new VK(t.JG))];case 3:return o=c.sent(),a=!!t.sZt&&o.bG<t.sZt.bG,[2,a||t.cXt(o,e)?o:void 0]}}))}))()},i.cXt=function(t,n){var i;if(t===this.pLt)return!1;var r=this.pLt&&$K(this.pLt,this.edt.maximumBackoff),e=$K(t,this.edt.maximumBackoff);if(!r&&e)return!0;(!this.iDt||this.iDt.wLt.bG>t.bG)&&(this.iDt={wLt:t,Zft:qn.Wg()});var u,s=qn.Wg()-this.iDt.Zft,o=null!=(u=null==(i=this.MLt)?void 0:i.hLt.tBt)?u:1/0;return n>=A.max(o-1,5)||s>1e3},i.hXt=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:n.rXt=!0,i=!1,r=0,s.label=1;case 1:if(!(r<t.length))return[3,6];e=t[r],s.label=2;case 2:return s.trys.push([2,4,,5]),void 0===(u=n.JHt?mo(e.ZLt,(function(t){return AH(t,n.JHt)})):void 0)?[3,5]:[4,n.eWt(u)];case 3:return s.sent(),u.hLt.PFt=-1/0,i=!0,[3,5];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:return i?(n.oXt=0,[4,n.lXt()]):[3,8];case 7:return s.sent(),[3,10];case 8:return n.oXt>=n.edt.maxRetries?(n.BH(new ol(ul.MEDIA_LOAD_ERROR,"The provided video renditions could not be loaded.")),[2]):[4,ea(A.min(n.edt.minimumBackoff*A.pow(2,n.oXt-1),n.edt.maximumBackoff))];case 9:s.sent(),s.label=10;case 10:return n.rXt=!1,[4,n.aXt()];case 11:return s.sent(),[2]}}))}))()},i.YZt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,Mo(t,Zt((function(t){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return 0===(u=[(null==(i=t.Jrt)?void 0:i.cPt)?'audio/mp4; codecs="'+t.Jrt.cPt+'"':void 0,(null==(r=t.Jrt)?void 0:r.dPt)?'video/mp4; codecs="'+t.Jrt.dPt+'"':void 0].filter(Yn)).length?[2,!0]:[4,n.dXt.MJ(u,null==(e=n.vZt)?void 0:e.useManagedMediaSource)];case 1:return[2,s.sent()]}}))})))];case 1:return(i=r.sent()).some((function(t){var n;return null==(n=t.Jrt)?void 0:n.dPt}))&&(i=i.filter((function(t){return!t.Jrt||t.Jrt.dPt||0!==t.ZLt.length}))),i.some((function(t){var n;return null==(n=t.Jrt)?void 0:n.cPt}))&&(i=i.filter((function(t){return!t.Jrt||t.Jrt.cPt||0!==t.HLt.length}))),[2,i]}}))}))()},i.hZt=function(t){var n=this;return this.vEt.HVt?Mo(t,(function(t){return function(t,n){return Lo.apply(this,arguments)}([JK(t.HLt),JK(t.ZLt),YK(t.kOt),YK(t.EOt)].filter(Yn),(function(t){return n.fXt(t)}))})):ut.resolve([])},i.fXt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(0===t.hLt.Mrt.length)return[2,!1];if(!(i=t.hLt.Mrt[0]).Fyt)return[2,!1];r=i.Fyt,e=r._At?tz(r._At.Sn,r._At.V):void 0,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.zut.vrt(r.Mx,e)];case 2:return[2,u.sent()];case 3:return u.sent(),[2,!1];case 4:return[2]}}))}))()},i.SLt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:if(!i.wZt)throw new y("LLHLSPlayer - The LLHLSPlayer is not loaded.");if(!t)throw new y("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");if(!i.iXt(t))throw new y("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");return t===i.sZt?(OH.MN(UK,"Trying to set the already active variant stream, ignoring."),[2]):(r=i.$Ht?mo(t.HLt,(function(t){return AH(t,i.$Ht)})):void 0,e=i.JHt?mo(t.ZLt,(function(t){return AH(t,i.JHt)})):void 0,u=i.lZt?mo(t.kOt,(function(t){return AH(t,i.lZt)})):void 0,i.WZt(t),i.iDt=void 0,[4,i.CZt(r,e,u,n)]);case 1:return s.sent(),[2]}}))}))()},i.NLt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(!n.sZt)return n.KZt=t,[2];if(i=n.jZt(t),t&&!i)throw new y("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");return n.DLt===i?[2]:(r=Yn(i)!==Yn(n.$Ht),OH.MN(UK,"Switching audio rendition"),[4,n.CZt(i,n.JHt,n.lZt,{ELt:!0,TLt:r})]);case 1:return e.sent(),[2]}}))}))()},i.LLt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(!n.sZt)return n.QZt=t,[2];if(i=n.jZt(t),t&&!i)throw new y("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");return n.MLt===i?[2]:(r=Yn(i)!==Yn(n.JHt),OH.MN(UK,"Switching video rendition"),[4,n.CZt(n.$Ht,i,n.lZt,{kLt:!0,TLt:r})]);case 1:return e.sent(),[2]}}))}))()},i._Xt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(!t)throw new y("LLHLSPlayer - Cannot explicitly set the active subtitle rendition to undefined.");if(!n.Zkt)return n.JZt=t,[2];if(!(i=n.jZt(t)))throw new y("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");return OH.MN(UK,"Switching subtitle rendition"),[4,n.CZt(n.$Ht,n.JHt,i)];case 1:return r.sent(),[2]}}))}))()},i.vXt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.rXt?[2]:(r=0===i.rt.V,t.Tw===rz.mE||t.Tw===rz.vE&&r?[3,2]:[4,i.mXt(t,n)]);case 1:return e.sent(),[3,10];case 2:return i.qZt&&i.qZt.length<=1?t.Tw!==rz.mE||i.JHt===t?[3,4]:[4,i.CZt(i.$Ht,t,i.lZt)]:[3,8];case 3:return e.sent(),[3,6];case 4:return t.Tw===rz.vE&&r&&i.$Ht!==t?[4,i.CZt(t,i.JHt,i.lZt)]:[3,6];case 5:e.sent(),e.label=6;case 6:return[4,i.mXt(t,n)];case 7:return e.sent(),[3,10];case 8:return[4,i.aXt()];case 9:e.sent(),e.label=10;case 10:return[2]}}))}))()},i.eWt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,i.vEt.eWt(t,n)];case 1:return e.sent(),[3,5];case 2:return Xo(r=e.sent()),Zd(r)||Xd(r)?[4,i.vXt(t,n)]:[3,4];case 3:e.sent(),e.label=4;case 4:throw r;case 5:return[2]}}))}))()},i.mXt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:if(To(i.gXt,t))return[2];i.gXt.push(t),u.label=1;case 1:return u.trys.push([1,3,4,7]),r=t.Tw===rz.JV||t.Tw===rz.aBt?1/0:i.edt.maxRetries,[4,IT((function(){return i.retryOfflineRenditionsCallback(t,n)}),n,r,i.edt.minimumBackoff,i.edt.maximumBackoff)];case 2:return u.sent(),[3,7];case 3:return e=u.sent(),i.BH(new ol(ul.MEDIA_LOAD_ERROR,e.message,e)),[3,7];case 4:return bo(i.gXt,t),t.hLt.PFt!==-1/0?[3,6]:[4,i.lXt()];case 5:u.sent(),u.label=6;case 6:return[7];case 7:return[2]}}))}))()},i.CZt=function(t,n,i,r){void 0===r&&(r={});var e={TLt:r.TLt||!1,ELt:r.ELt||!1,kLt:r.kLt||!1,MI:r.MI||!1,XZt:r.XZt||!1};return e.XZt||e.MI||this.$Ht!==t||this.JHt!==n||this.lZt!==i?void 0===t&&void 0===n?ut.reject(new y("Trying to buffer no media renditions.")):(this.$Ht=t,this.JHt=n,this.lZt=i,this.HFt(),this._o(new bK),this.r8.jw(),this.r8=new Qo,this.r8.Qw(this.vW.Uw),this.pXt.jw(),this.pXt=new Qo,this.pXt.Qw(this.vW.Uw),this.AZt=zo(this.wXt([this.AZt,this.o8].filter(Yn),t,n,i,e,this.pXt.Uw),this.pXt).catch(this.SZt),this.AZt):ut.resolve()},i.yXt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){return(o=[]).push(e.bXt(n,r)),TH(t,n)||o.push(e.bXt(t,r)),(null==(s=e.vZt)||null==(u=s.hls)?void 0:u.delaySubtitlePreload)?[2,ut.all(o).then((function(){return e.bXt(i,r)}))]:(a=e.bXt(i,r),[2,ut.all(Ut(o).concat([a]))])}))}))()},i.bXt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:if(!t)return[2];e.label=1;case 1:return e.trys.push([1,3,,6]),[4,i.vEt.eWt(t,n)];case 2:return e.sent(),[3,6];case 3:return Xo(r=e.sent()),Zd(r)||Xd(r)?[4,i.AXt(t,n)]:[3,5];case 4:e.sent(),e.label=5;case 5:return[3,6];case 6:return[2]}}))}))()},i.AXt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return i.rXt?[2]:(r=0===i.rt.V,t.Tw===rz.mE||t.Tw===rz.vE&&r?[3,2]:[4,i.mXt(t,n)]);case 1:return a.sent(),[3,7];case 2:return i.qZt&&i.qZt.length<=1?[4,i.mXt(t,n)]:[3,4];case 3:return a.sent(),[3,7];case 4:return[4,i.VZt()];case 5:return e=a.sent(),i.WZt(e),u=i.UZt(e.HLt),s=i.GZt(e.ZLt),o=i.HZt(e.kOt),[4,i.CZt(u,s,o)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))()},i.wXt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:return s.wZt?[3,2]:[4,s.yXt(n,i,r,u)];case 1:return g.sent(),[2];case 2:return[4,ut.all(t.map((function(t){return t.catch(Si)})))];case 3:return g.sent(),s.SXt(),[4,s.TXt(u)];case 4:return g.sent(),[4,s.kXt()];case 5:return g.sent(),a=[],e.ELt&&s.JG&&s.JG.h4&&a.push(s.JG.h4.eT(0,1/0)),e.kLt&&s.JG&&s.JG.a4&&a.push(s.JG.a4.eT(0,1/0)),[4,ut.all(a)];case 6:return g.sent(),Zo(u),[4,s.EXt(n,i,e.MI,u)];case 7:c=g.sent(),s.xXt(n,i,e.TLt||c),s.RXt(r,e.TLt),Zo(u),h=[i,TH(n,i)?void 0:n,r].filter(Yn),g.label=8;case 8:return g.trys.push([8,10,,11]),[4,ut.all(h.filter((function(t){return!t.hLt.TFt})).map((function(t){var n;return null==(n=s.vEt)?void 0:n.iWt(t,u)})))];case 9:return g.sent(),[3,11];case 10:return Xo(g.sent()),[3,11];case 11:return Zo(u),s._4(),s.HFt(),void 0!==s.mZt?s.bZt(s.mZt,s.gZt):!s.cEt&&(null==(o=s.sZt)?void 0:o.hLt.Sn)?(f=s.sZt.hLt,v=f.Sn,l=v.eOt,v.eOt<0&&(d=f.fFt,l+=d.Tn(d.V-1)),s.bZt(l,{fZt:!v.iOt})):!s.cEt&&h.every((function(t){return!t.hLt._Ot}))?s.bZt(1/0,{fZt:!0}):s.dZt.length>0&&s.IXt(),[2]}}))}))()},i.EXt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:return o=void 0!==t&&t!==n,a=void 0!==n,[4,e.CXt(t,n,e.sZt)];case 1:return c=g.sent(),Zo(r),i||!e.JG||c?(h=void 0!==(null==(u=e.JG)?void 0:u.h4),f=void 0!==(null==(s=e.JG)?void 0:s.a4),v=o!==h||a!==f,!i&&!v&&c&&e.JG&&e.JG.dJ(c)?[4,e.TXt(r)]:[3,4]):[2,!1];case 2:return g.sent(),[4,e.JG._J(c)];case 3:return g.sent(),[2,!0];case 4:for(l=0,d=e.dZt;l<d.length;l++)d[l].bHt.forEach((function(t){return t.jw()}));e.WB.p7(),g.label=5;case 5:return g.trys.push([5,,9,10]),e.JG?[4,e.WB.nr()]:[3,7];case 6:g.sent(),g.label=7;case 7:return[4,e.PXt(c,o,a)];case 8:return e.JG=g.sent(),[3,10];case 9:return e.WB.w7(),[7];case 10:return[2,!0]}}))}))()},i.CXt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b;return Ht(this,(function(k){switch(k.label){case 0:if(s=i.Jrt,o=[],void 0!==t){if(!(h=null!=(c=null==(a=t.Jrt)?void 0:a.cPt)?c:null==s?void 0:s.cPt))return[2,void 0];f='audio/mp4; codecs="'+h+'"',OH.MN(UK,"Configuring MediaSource for initial audio rendition with codec: "+f+"."),o.push(f)}if(void 0!==n){if(!(d=null!=(l=null==(v=n.Jrt)?void 0:v.dPt)?l:null==s?void 0:s.dPt))return[2,void 0];g='video/mp4; codecs="'+d+'"',OH.MN(UK,"Configuring MediaSource for initial video rendition with codec: "+g+"."),o.push(g)}return 0===o.length?(OH.WLt(UK,"No codecs found on the active variant stream."),[2,void 0]):(w=null!=(m=null==n||null==(e=n.hLt.Mrt[0])?void 0:e.nOt)?m:[],y=null!=(p=null==t||null==(u=t.hLt.Mrt[0])?void 0:u.nOt)?p:[],_=r.vEt.Er,[4,vz(r.vZt.contentProtection,o,_.AVt.concat(y).concat(w),r.fW,r.vZt.useCredentials)]);case 1:return b=k.sent(),[2,{Tw:Ey.wW,g4:o.map((function(t){return{Mk:t}})),sH:b,C4:r.vZt.useManagedMediaSource}]}}))}))()},i.PXt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return t?[4,r.WB.$n(t)]:[3,2];case 1:return e=u.sent(),[3,3];case 2:e=new SK(r.WB,n,i),u.label=3;case 3:return r.JG=e,r._4(),r.JTt(),r.$Tt(),[2,e]}}))}))()},i._4=function(){var t=this.JG;if(t&&E(t.ct)){var n,i,r,e=null!=(r=null==(n=this.$Ht)?void 0:n.hLt.ct)?r:null==(i=this.JHt)?void 0:i.hLt.ct;void 0!==e&&e>0&&t.d4(e)}this.HFt()},i.JTt=function(){var t=this.JG;t&&(t.a4&&(t.a4.bj=this.gZ.Dj),t.h4&&(t.h4.bj=this.gZ.Dj))},i.$Tt=function(){var t=this.JG;t&&(t.a4&&(t.a4.Ej=this.gZ.Ej),t.h4&&(t.h4.Ej=this.gZ.Ej))},i.xXt=function(t,n,i){if(!this.JG)throw new y("Invalid state");this.JG.h4?this.u4&&this.u4.KHt(this.JG.h4)||(this.u4=new LK(rm.vE,this.JG.h4,this.kZt?this.spt:void 0,this.EZt?this.NDt:void 0)):this.u4=void 0,this.JG.a4?this.c4&&this.c4.KHt(this.JG.a4)||(this.c4=new LK(rm.mE,this.JG.a4,this.kZt?this.spt:void 0,this.EZt?this.NDt:void 0)):this.c4=void 0;var r,e=TH(t,n);if(this.c4&&n){var u=e&&this.u4?[this.c4,this.u4]:[this.c4];this.eZt?(i&&(this.eZt.jw(),this.eZt.EHt.Fb()),this.eZt.gLt!==n&&this.eZt.DUt(n)):(this.eZt=function(t,n,i,r,e,u,s,o,a,c){var h=r.Er.LL,f=new eK(h),v=new tK(rm.mE,t,r,f,e,u,s,c),l=n.map((function(t){return t.Tw})),d=o.kTt(f,r.Er.LL,l),g=new yK(v,f,d,a);return g.kHt(n),g}(n,u,this.WB,this.vEt,this.fW,this.zut,this.XWt,this.MZt,this.gZ,this.vZt.useCredentials),this.eZt.SHt.bn($Y.RUt,this.DXt),this.eZt.SHt.bn($Y.IUt,this.NXt),this.eZt.THt.bn(vK.KGt,this.MXt),this.eZt.THt.bn(vK.QGt,this.LXt),this.eZt.THt.bn(vK.JGt,this.BXt),this.eZt.THt.bn(vK.jGt,this.OXt)),this.eZt.kHt(u)}else{var s;null==(s=this.eZt)||s.Xw(),this.eZt=void 0}this.u4&&t&&!e?(this.IZt?(i&&(this.IZt.jw(),this.IZt.EHt.Fb()),this.IZt.gLt!==t&&this.IZt.DUt(t)):(this.IZt=function(t,n,i,r,e,u,s,o,a,c){var h=r.Er.LL,f=new eK(h),v=new tK(rm.vE,t,r,f,e,u,s,c),l=o.kTt(f,r.Er.LL,[n.Tw]),d=new yK(v,f,l,a);return d.kHt([n]),d}(t,this.u4,this.WB,this.vEt,this.fW,this.zut,this.XWt,this.MZt,this.gZ,this.vZt.useCredentials),this.IZt.SHt.bn($Y.IUt,this.NXt),this.IZt.THt.bn(vK.KGt,this.MXt),this.IZt.THt.bn(vK.jGt,this.OXt)),this.IZt.kHt([this.u4])):(null==(r=this.IZt)||r.Xw(),this.IZt=void 0);this.FXt()},i.RXt=function(t,n){this.eXt&&(this.eXt.SHt.gLt===t?n&&(this.eXt.jw(),this.eXt.EHt.Fb()):(this.eXt.Xw(),this.eXt=void 0));if(!this.eXt&&t){var i=this.tXt.get(t.IC);i.CE=Hp.Qn,this.eXt=function(t,n,i,r,e,u,s){var o=i.Er.LL,a=new oK(n,o),c=new eK(o),h=new tK(rm.Tk,t,i,c,r,e,u,s),f=new mK(c,o,rm.Tk),v=new yK(h,c,f);return v.xHt(a),v}(t,i,this.vEt,this.fW,this.zut,this.XWt,this.vZt.useCredentials)}},i.FXt=function(){var t=[this.u4,this.c4].filter(Yn).map((function(t){return t.Tw}));this.vEt.Er.LL.yVt(t)},i.h8=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,ut.all(t.map((function(t){return t.catch(Si)})))];case 1:return c.sent(),Zo(r),[4,e.kXt()];case 2:return c.sent(),Zo(r),e.mZt=void 0,e.pZt=void 0,e.cEt=!0,i.iOt?(s=[e.$Ht,e.JHt].filter(Yn),u=zK(s)):u=e.Mkt,o=u.KL(n),a=e.WB.py(va.Qy,r),e.WB.Rb(o,i.fZt),e.wZt&&e.dZt.length>0&&(e.vEt.Er.LL.bVt(),e.VXt(e.WB.ER),e.IXt()),[4,a];case 3:return c.sent(),e.lEt(),[2]}}))}))()},i.lEt=function(){var t=this.KB;if(!this.KR&&!this.uI&&void 0!==t){var n,i,r=this.ER;if(t+this.ER-this.yI.kd.maximumOffset<r)null==(n=this.ZG)||n.Sn();else null==(i=this.ZG)||i.RI()}},i.VXt=function(t){for(var n=0,i=this.dZt;n<i.length;n++){var r=i[n];r.XUt(t)||(r.DHt(),r.EHt.FGt()),r.CHt(t)||(r.NHt(),r.EHt.VGt())}},i.SXt=function(){for(var t=0,n=this.dZt;t<n.length;t++){n[t].jw()}},i.kXt=function(){return ut.all([this.VDt(),this.WXt(),this.UXt()])},i.IXt=function(){this.FDt(),this.GXt(),this.HXt()},i.lXt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.wZt&&t.dZt.length>0?(t.dZt.forEach((function(t){return t.DHt()})),[4,t.VDt()]):[3,2];case 1:n.sent(),t.FDt(),t.dZt.forEach((function(t){return t.SHt.JUt()})),n.label=2;case 2:return[2]}}))}))()},i.FDt=function(){var t=this;if(!this.ZXt){var n=function(){t.ZXt=void 0};this.XXt=new Qo,this.XXt.Qw(this.vW.Uw),this.ZXt=zo(this.tNt(this.XXt.Uw),this.XXt).catch(this.SZt).then(n,n)}},i.VDt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return null==(n=t.XXt)||n.jw(),i=t.ZXt,t.ZXt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.tNt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p;return Ht(this,(function(y){switch(y.label){case 0:Zo(t),i=n.dZt,y.label=1;case 1:0,r={stack:[],error:void 0,hasError:!1},y.label=2;case 2:for(y.trys.push([2,4,5,6]),e=[],u=n.WB.ER,s=0;s<i.length;s++)if(o=i[s],a=o.SHt,c=o.zlt(u),a.XIt)e.push(a.DWt());else if(o.PHt(u,c,n.gZ.Dj)){if(void 0===(h=a.zUt(c))){if(a.gLt.hLt._Ot)continue;(f=a.gLt.hLt.Mrt).length&&f[0].WO>c&&(n.ER=1/0),a.eGt(),a.KUt(c)}else v=nn(h,2),l=v[0],d=v[1],a.hut(l,d,o.gWt),o.THt.aHt(l,d);e.push(a.DWt())}if(g=Yt(r,Qo.$w([t]),!1),0===e.length)for(i.every((function(t){return t.SHt.mCt}))||e.push(n.WB.py(va.hb,g.Uw)),m=0;m<i.length;m++)w=i[m],e.push(w.THt.py(vK.jGt,g.Uw));return[4,Ho(ut.race(e),g.Uw)];case 3:return y.sent(),[3,6];case 4:return p=y.sent(),r.error=p,r.hasError=!0,[3,6];case 5:return Kt(r),[7];case 6:return[3,1];case 7:return[2]}}))}))()},i.GXt=function(){var t=this;if(!this.zXt){var n=function(){t.zXt=void 0};this.qXt=new Qo,this.qXt.Qw(this.vW.Uw),this.zXt=zo(this.YXt(this.qXt.Uw),this.qXt).catch(this.SZt).then(n,n)}},i.WXt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return null==(n=t.qXt)||n.jw(),i=t.zXt,t.zXt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.YXt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:Zo(t),i=n.dZt,c.label=1;case 1:for(r=[],e=0;e<i.length;e++)u=i[e],s=u.SHt,(o=u.THt).XIt?r.push(o.DWt()):(a=s.VUt())?"Zut"===a.Tw?(o.dHt(a),r.push(o.DWt())):"uOt"===a.Tw&&(o.uHt(a),r.push(o.DWt())):r.push(s.$Ut());return 0!==r.length?[3,2]:[3,5];case 2:return[4,Ho(ut.race(r),t)];case 3:c.sent(),c.label=4;case 4:return[3,1];case 5:return[2]}}))}))()},i.HXt=function(){var t=this;if(!this.KXt){this.jXt=new Qo,this.jXt.Qw(this.vW.Uw);var n=function(){t.KXt=void 0};this.KXt=zo(this.QXt(this.jXt.Uw),this.jXt).catch(this.SZt).then(n,n)}},i.UXt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return null==(n=t.jXt)||n.jw(),i=t.KXt,t.KXt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.QXt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:i=function(){var i,r,e,u,s,o,a,c,h,f,v,l;return Ht(this,(function(d){switch(d.label){case 0:for((i=n.dZt).forEach((function(t){return t.rut()})),r=n.WB.ER,e=[],u=[],s=0;s<i.length;s++)for(o=i[s],a=o.THt,c=0,h=o.bHt;c<h.length;c++)f=h[c],v=f.TWt?e:u,f.XIt?v.push(f.DWt()):f.NWt(r)||((l=a.pHt(f.Tw))?"Zut"===l.Tw&&l.dOt===n.uZt?(f.jlt(l),v.push(f.DWt())):"RCt"===l.Tw&&l.dOt===n.uZt&&(f.A2(l),v.push(f.DWt())):u.push(a.wHt(f.Tw)));return 0!==e.length?[3,2]:[4,n.JXt(i,r,t)];case 1:if(d.sent())return[2,"continue"];d.label=2;case 2:return 0===e.length&&0===u.length?(i.every((function(t){return t.bHt.length>0&&t.bHt.every((function(t){return t.NWt(r)}))}))&&n.JG.a3(),[2,"break"]):[4,Ho(ut.race(Ut(e).concat(Ut(u))),t)];case 3:return d.sent(),[2]}}))},r.label=1;case 1:return[5,zt(i())];case 2:return"break"===r.sent()?[3,3]:[3,1];case 3:return[2]}}))}))()},i.JXt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b,k,A;return Ht(this,(function(T){switch(T.label){case 0:for(e=[],u=[],s=0;s<t.length;s++)for(o=t[s],a=o.zlt(n),c=0,h=o.bHt;c<h.length;c++)if((f=h[c]).TWt)if(void 0!==(v=o.THt.pHt(f.Tw))){if(v.dOt===r.uZt)return[2,!1];e.push(v)}else{if(o.XIt||o.PHt(n,a,r.gZ.Dj)||!f.MWt(n,a))return[2,!1];void 0!==(l=f.kWt.gWt)&&u.push(l)}return 0===e.length?[2,!1]:(d=No(e,(function(t){return t.dOt})).dOt,e.every((function(t){return"RCt"===t.Tw&&t.dOt===d}))?(g=Co(e,(function(t){return t.WO})).WO,m=Ut(e).concat(Ut(u)),[4,r.$Xt(m)]):[3,6]);case 1:return w=T.sent(),r.tzt(w)?(OH.VLt(FH,"Seamless switch from",r.JG.kd,"to",w),[4,r.JG._J(w)]):[3,3];case 2:return T.sent(),OH.VLt(FH,"Seamless switch complete."),[3,5];case 3:return[4,r.ezt(g,w,i)];case 4:T.sent(),T.label=5;case 5:return r.uZt=e[0].dOt,[3,7];case 6:for(p=0;p<t.length;p++)for(y=t[p],_=0,b=y.bHt;_<b.length;_++)for(k=b[_],A=y.THt.pHt(k.Tw);void 0!==A&&("RCt"!==A.Tw||A.dOt!==d);)OH.VLt(FH,"Removing append for other discontinuity, expecting "+d,A),y.THt.BWt(A),A=y.THt.pHt(k.Tw);T.label=7;case 7:return[2,!0]}}))}))()},i.tzt=function(t){return this.PZt===GA.$B||this.PZt!==GA.tO&&this.JG.dJ(t)},i.$Xt=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return r=t.map((function(t){return t.yHt.Jrt})),e=r.map((function(t){return{Mk:t}})),u=Ro(t,(function(t){return t.yHt.nOt})),(i=u).push.apply(i,Ut(n.vEt.Er.AVt)),[4,vz(n.vZt.contentProtection,r,u,n.fW,n.vZt.useCredentials)];case 1:return 0===(s=o.sent()).length&&n.JG&&n.JG.kd.sH.length>0&&(s=n.JG.kd.sH),[2,{Tw:Ey.wW,g4:e,sH:s,C4:n.vZt.useManagedMediaSource}]}}))}))()},i.ezt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:if(u=r.JG,s=u.ct,!(o=r.wR.length>0&&r.ER<t))return[3,6];f.label=1;case 1:f.trys.push([1,5,,6]),OH.VLt(FH,"Marking end of stream and waiting for ended to switch discontinuity."),u.a3(),f.label=2;case 2:return!r.WB.PR&&r.WB.ER<t?[4,r.WB.py([va.hb,va.Dy],i)]:[3,4];case 3:return f.sent(),[3,2];case 4:return[3,6];case 5:throw a=f.sent(),u.J2(),u.d4(s),a;case 6:OH.VLt(FH,"Perform hard switch from",null==(e=r.JG)?void 0:e.kd,"to",n),f.label=7;case 7:return f.trys.push([7,,10,11]),r.WB.p7(),r.ER<t&&r.WB.Rb(t,!0,!0),r.c4=void 0,r.u4=void 0,r.FXt(),[4,r.WB.nr()];case 8:return f.sent(),[4,r.WB.$n(n)];case 9:return r.JG=f.sent(),r._4(),r.JTt(),r.$Tt(),r.JG.a4&&(r.c4=new LK(rm.mE,r.JG.a4,r.kZt?r.spt:void 0,r.EZt?r.NDt:void 0),r.c4.A3(t-1,t)),r.JG.h4&&(r.u4=new LK(rm.vE,r.JG.h4,r.kZt?r.spt:void 0,r.EZt?r.NDt:void 0),r.u4.A3(t-1,t)),r.FXt(),[3,11];case 10:return o&&na(r.WB.xI()),r.WB.w7(),[7];case 11:return r.eZt&&(c=void 0!==r.u4&&void 0===r.IZt,h=c?[r.c4,r.u4]:[r.c4],r.eZt.kHt(h)),r.IZt&&r.IZt.kHt([r.u4]),OH.VLt(FH,"Hard switch complete."),[2]}}))}))()},i.TXt=function(t){return Ho(ia(Ro(this.dZt,(function(t){return t.bHt.map((function(t){return t.DWt()}))}))),t)},i.sEt=function(){var t=this.vI,n=this.dI;this.dxt===t&&this.fxt===n||(this.dxt=t,this.fxt=n,this._o(new Sy))},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return OH.MN(UK,"Unloading the player."),t.izt(),t.qEt(),[4,t.nr()];case 1:return n.sent(),t.WB.wH=void 0,t.nXt.yn(),[4,t.dH.yn()];case 2:return n.sent(),[4,t.spt.yn()];case 3:return n.sent(),[4,t.NDt.yn()];case 4:return n.sent(),t.cO.yn(),t.dO.yn(),t.Hl.yn(),t.szt.yn(),t.mxt.Xw(),t.XWt.Xw(),t.MZt&&(t.MZt.Xw(),t.MZt=void 0),[2]}}))}))()},i.nr=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return OH.MN(UK,"Resetting the player."),t.vn(bH.rLt,t.handleBufferingErrorEvent),t.uZt=-1,t.vW.jw(),t.r8.jw(),t.r8=new Qo,t.r8.Qw(t.vW.Uw),t.pXt.jw(),t.pXt=new Qo,t.pXt.Qw(t.vW.Uw),n=[t.gpt,t.o8,t.AZt].filter(Yn),[4,ut.all(n.map((function(t){return t.catch(Si)})))];case 1:return i.sent(),t.gpt=void 0,t.o8=void 0,t.AZt=void 0,t.$Ht=void 0,t.JHt=void 0,t.lZt=void 0,t.qZt=void 0,t.KZt=void 0,t.QZt=void 0,t.JZt=void 0,t.KZt=void 0,t.QZt=void 0,t.JZt=void 0,t.ZG=void 0,t.pZ.nr(),t.gXt=[],t.WZt(void 0),t.SXt(),[4,t.kXt()];case 2:return i.sent(),t.IZt&&(t.IZt.Xw(),t.IZt=void 0),t.eZt&&(t.eZt.Xw(),t.eZt=void 0),t.eXt&&(t.eXt.Xw(),t.eXt=void 0),t.u4=void 0,t.c4=void 0,t.JG=void 0,t.vEt&&(t.vEt.Xw(),t.vEt=void 0),t.NZt&&(t.Hl.FG(t.NZt.nt),t.NZt=void 0),[4,t.dH.nr()];case 3:return i.sent(),[4,t.spt.nr()];case 4:return i.sent(),[4,t.NDt.nr()];case 5:return i.sent(),t.WB.vH(),[4,t.WB.nr()];case 6:return i.sent(),t.vZt=void 0,t.wZt=!1,t.v4=BA.pB(),t.mZt=void 0,t.lxt=void 0,t.dxt=0,t.fxt=0,t.pZt=void 0,t.cEt=!1,t.X9=!1,qn.Ug(t.yZt),t.Zkt=!1,t.nzt=!1,t.Bkt=0,t.PZt=GA.JB,t.szt.nr(),t.rzt(),t._o(new pT(t.ER,t.rI)),[2]}}))}))()},i.rzt=function(){for(var t=0,n=this.cO.lC;t<n.length;t++){n[t].yn()}for(var i=0,r=this.dO.lC;i<r.length;i++){r[i].yn()}for(var e=0,u=this.Hl.lC;e<u.length;e++){u[e].yn()}this.cO.nr(),this.dO.nr(),this.Hl.nr(),this.tXt.clear()},i.ozt=function(){this.szt.bn(WK,this.Ds),this.szt.bn(Iy.UL,this.XB),this.szt.bn(Iy.WL,this.hzt),this.szt.bn(Iy.BL,this.azt),this.gZ.bn("yj",this.wxt),this.gZ.bn("Tj",this.yxt),this.WB.bn(jK,this.Ds),this.WB.bn(Yp.fa,this.bxt),this.WB.bn(va.Ty,this.handleContentProtectionErrorEvent),this.WB.bn(va.Iy,this.uzt),this.WB.bn(va.Dy,this.Ah),this.WB.bn(va.zy,this.sMt),this.WB.bn(va.ho,this.czt),this.WB.bn(va.qy,this.lzt),this.WB.bn(Iy.iC,this.FW),this.WB.bn(va.hb,this.S6),this.WB.bn(va.Jy,this.Ge),this.WB.bn(va.Qy,this.SH),this.WB.bn(va.jy,this.dzt),this.WB.bn(va.ub,this.fzt)},i.izt=function(){this.szt.vn(WK,this.Ds),this.szt.vn(Iy.UL,this.XB),this.szt.vn(Iy.WL,this.hzt),this.szt.vn(Iy.BL,this.azt),this.gZ.vn("yj",this.wxt),this.gZ.vn("Tj",this.yxt),this.WB.vn(jK,this.Ds),this.WB.vn(Yp.fa,this.bxt),this.WB.vn(va.Ty,this.handleContentProtectionErrorEvent),this.WB.vn(va.Iy,this.uzt),this.WB.vn(va.Dy,this.Ah),this.WB.vn(va.zy,this.sMt),this.WB.vn(va.ho,this.czt),this.WB.vn(va.qy,this.lzt),this.WB.vn(Iy.iC,this.FW),this.WB.vn(va.hb,this.S6),this.WB.vn(va.Jy,this.Ge),this.WB.vn(va.Qy,this.SH),this.WB.vn(va.jy,this.dzt),this.WB.vn(va.ub,this.fzt)},xt(n,[{key:"KB",get:function(){var t,n=[this.JHt,this.$Ht].filter(Yn);if(0!==n.length&&this.ct===1/0){var i,r=null==(t=this.bR)?void 0:t.getTime();if(r)return(Date.now()-r)/1e3;for(var e=0;e<n.length;e++){var u=n[e],s=u.hLt.hI;if(0!==s.V){var o=s.Tn(s.V-1)+u.hLt.GSt,a=u.hLt.RFt,c=o+(null!=a?a:0)-this.ER;(!i||i<c)&&(i=c)}}return i}}},{key:"aZt",get:function(){for(var t=[this.$Ht,this.JHt].filter(Yn),n=0;n<t.length;n++){var i=t[n];if(!i.hLt._Ot)return!1;var r=i.hLt.Mrt,e=r[r.length-1];if(e&&e.dOt!==this.uZt)return!1}return!0}},{key:"pLt",get:function(){return this.sZt}},{key:"DLt",get:function(){return this.$Ht}},{key:"MLt",get:function(){return this.JHt}},{key:"cZt",get:function(){return this.lZt}},{key:"ht",get:function(){return this.cO}},{key:"wR",get:function(){return this.WB.wR.ks()}},{key:"bLt",get:function(){var t=[];if(this.sZt)for(var n=this.WB.ER,i=0,r=this.dZt;i<r.length;i++)for(var e=0,u=r[i].bHt;e<u.length;e++){var s=u[e].LWt(n);s&&!To(t,s)&&t.push(s)}return t}},{key:"bR",get:function(){if(this.sZt){var t=this.WB.ER;return this.sZt.xOt(t)}},set:function(t){if(t&&this.sZt){var n=this.sZt.ROt(t);void 0!==n&&this.RR(n,{fZt:!1,_Zt:!0})}}},{key:"bt",get:function(){return this.vZt}},{key:"ER",get:function(){var t;return null!=(t=this.mZt)?t:this.WB.ER},set:function(t){this.RR(t)}},{key:"ct",get:function(){var t,n,i,r,e,u,s;if(!this.aZt)return null!=(s=null!=(u=null!=(e=null==(t=this.$Ht)?void 0:t.hLt.ct)?e:null==(n=this.JHt)?void 0:n.hLt.ct)?u:null==(r=this.vEt)||null==(i=r.XVt)?void 0:i.hLt.ct)?s:[this.$Ht,this.JHt].filter(Yn).every((function(t){return function(t){if(void 0===t)return!1;return t.hLt.Mrt.length>0&&!t.hLt._Ot}(t)}))?1/0:NaN;var o=this.WB.ct;if(E(o)){var a,c,h=null==(c=this.vEt)||null==(a=c.XVt)?void 0:a.hLt.ct;if(void 0!==h)return h}return o}},{key:"PR",get:function(){if(!this.aZt)return!1;if(this.uI&&this.wZt){var t,n,i=this.ER,r=null==(t=this.$Ht)?void 0:t.hLt.ct,e=null==(n=this.JHt)?void 0:n.hLt.ct;return!(void 0!==r&&i<r)&&!(void 0!==e&&i<e)}return this.WB.PR}},{key:"lt",get:function(){return this.YG}},{key:"MR",get:function(){return this.KG}},{key:"OR",get:function(){}},{key:"WR",get:function(){return!1}},{key:"GR",get:function(){return ss({},{_O:0,vO:0,mO:0,gO:0,pO:0,wO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.WB.HR(),{pO:this.Bkt,gO:this.gZ.cj.bG})}},{key:"Er",get:function(){var t;return null==(t=this.vEt)?void 0:t.Er}},{key:"ZR",get:function(){return this.WB.ZR},set:function(t){this.WB.ZR=t}},{key:"qR",get:function(){return this.LSt},set:function(t){this.LSt!==t&&(this.LSt=t,this._o(t?new gj:new mj))}},{key:"KR",get:function(){return this.WB.KR}},{key:"QR",get:function(){return this.WB.QR},set:function(t){OH.MN(UK,"Setting playback rate to "+t+"."),this.WB.QR=t}},{key:"tI",get:function(){return this.Ukt.ks()}},{key:"Ukt",get:function(){return this.WB.tI}},{key:"iI",get:function(){return this.QG},set:function(t){this.QG!==t&&(this.QG=t,this.TZt())}},{key:"rI",get:function(){var t=this.WB.rI;return this.Zkt&&(t=A.max(Ny.Xn,t)),t}},{key:"hI",get:function(){return this.Mkt.ks()}},{key:"Mkt",get:function(){var t=this.v4,n=[this.$Ht,this.JHt].filter(Yn);if(t.V>0&&n.some((function(t){return!t.hLt._Ot}))){var i=this.Ukt,r=t.Tn(t.V-1);if(i.V>0&&i.Tn(i.V-1)>r){var e=i.Tn(i.V-1),u=zK(n);u.V>0&&(e=A.min(e,u.Tn(u.V-1))),t=t.tB(new BA([r,e]))}}return t}},{key:"uI",get:function(){var t;return null!=(t=this.pZt)?t:this.WB.uI}},{key:"$G",get:function(){}},{key:"nt",get:function(){return this.Hl}},{key:"rt",get:function(){return this.dO}},{key:"dI",get:function(){var t,n;return this.WB.dI||(null==(n=this.sZt)||null==(t=n.$Ct)?void 0:t.Ti)||0}},{key:"vI",get:function(){var t,n;return this.WB.vI||(null==(n=this.sZt)||null==(t=n.$Ct)?void 0:t.ji)||0}},{key:"gI",get:function(){return this.WB.gI},set:function(t){OH.MN(UK,"Setting volume to "+t+"."),this.WB.gI=t}},{key:"yI",get:function(){return this.pZ}},{key:"AI",get:function(){return!1},set:function(t){}},{key:"eH",get:function(){return this.iH}},{key:"RZt",get:function(){var t,n,i=null==(t=this.IZt)?void 0:t.RHt,r=null==(n=this.eZt)?void 0:n.RHt;return i?r?r.jn(i):i:r}},{key:"dZt",get:function(){return[this.IZt,this.eZt,this.eXt].filter(Yn)}}]),n}(aa),GK=function(){function t(){}var n=t.prototype;return n.FH=function(t,n){return Zt((function(){return Ht(this,(function(n){return nT(t.type)?[2,!t.useNativePlayback]:[2,!1]}))}))()},n.VH=function(t){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.aes128?[2,!0]:[4,x_(t,!0)];case 1:return[2,n.sent()]}}))}))()},t}(),HK=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).na=n,r}return Rt(n,t),n.prototype.Sxt=function(){this._o(new Cy(this.ER,this.rI))},xt(n,[{key:"rI",get:function(){return this.na.rI}}]),n}(Vy);function zK(t){return t.reduce((function(t,n){return t.jn(n.hLt.fFt)}),new BA([0,1/0]))}function YK(t){var n=mo(t,(function(t){return t.aLt})),i=t.filter((function(t){return t.uLt})),r=qn.cw,e=i.map((function(t){return t.gs})).filter(Yn),u=IK(e,r);return u?mo(i,(function(t){return t.gs===u})):n}function KK(t,n,i,r){void 0===r&&(r=CT.maximumBackoff);var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,r=n.preferredAudioCodecs;if(void 0!==i){for(var e,u=function(n){var u=i[n],s=t.filter((function(t){return t.Jrt&&t.Jrt.dPt&&sN(t.Jrt.dPt,u)}));if(0===s.length)return"continue";if(void 0===r)return{v:s};void 0===e&&(e=s);var o=qK(s,r);return void 0!==o?{v:o}:void 0},s=0;s<i.length;s++){var o=u(s);if("object"===W(o))return o.v}if(void 0!==e)return e}if(void 0!==r){var a=qK(t,r);if(void 0!==a)return a}return t}(t,n),u=QK(e,r);switch(i.Sj.type){case rR.BANDWIDTH:var s=i.Ij,o=u.filter((function(t){return t.bG<=s}));if(o.length>0)return No(o,(function(t){return t.bG}));case rR.PERFORMANCE:return Co(u,(function(t){return t.bG}));case rR.QUALITY:return No(u,(function(t){return t.bG}))}}function qK(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return t.Jrt&&t.Jrt.cPt&&sN(t.Jrt.cPt,r)}));return 0===e.length?"continue":{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===W(e))return e.v}}function JK(t){var n;return null!=(n=YK(t))?n:t[0]}function QK(t,n){return t.filter((function(t){return $K(t,n)}))}function $K(t,n){var i=n+ZK,r=0===t.ZLt.length||t.ZLt.some((function(t){return t.hLt.PFt<qn.Wg()-i})),e=0===t.HLt.length||t.HLt.some((function(t){return t.hLt.PFt<qn.Wg()-i}));return r&&e}function tq(t,n){if(!n||n.hLt._Ot)return!1;var i=n.hLt.Mrt;return 0!==i.length&&i[0].WO>t}U(),St(),U(),St(),Gt(),Jt();var nq=function(){function t(){}var n=t.prototype;return n.HWt=function(t,n,i){return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,crypto.subtle.importKey("raw",n,{name:"AES-CBC"},!1,["decrypt"])];case 1:return r=u.sent(),[4,crypto.subtle.decrypt({name:"AES-CBC",iv:i},r,t)];case 2:return e=u.sent(),[2,new I(e)];case 3:throw u.sent(),new ol(ul.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 4:return[2]}}))}))()},n.Xw=function(){},t.yT=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}();U(),St(),U(),St(),Gt(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Ct();var iq=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).data=i,r}return Rt(n,t),n}(fa),rq=["message","messageerror","error"];U(),St(),Ct();var eq=function(t){function n(n){var i;return(i=t.call(this,Yp.fa)||this).error=n,i}return Rt(n,t),n}(fa),uq=function(t){function n(n){var i;return(i=t.call(this)||this).wzt=void 0,i.yzt=[],i.Szt=function(t){if(i.mzt)t.Azt();else{i.wzt=t,i.wzt.bn(rq,i.Ds);for(var n=0,r=i.yzt;n<r.length;n++){var e=r[n];t.pzt(e.wb,e.bzt)}Eo(i.yzt)}},i.Tzt=function(t){if(!i.mzt){var n=t instanceof y?t:new y("Could not create Worker.");i._o(new eq(n)),i.Azt()}},i.gzt=new Qo,n(i.gzt.Uw).then(i.Szt,i.Tzt),i}Rt(n,t);var i=n.prototype;return i.pzt=function(t,n){this.mzt||(void 0!==this.wzt?this.wzt.pzt(t,n):this.yzt.push({wb:t,bzt:n}))},i.Azt=function(){this.mzt||(this.gzt.jw(),Eo(this.yzt),void 0!==this.wzt&&this.wzt.Azt())},xt(n,[{key:"mzt",get:function(){return this.gzt.Uw.Fw}}]),n}(aa);U(),St(),U(),St(),Ct();var sq=function(t){function n(n,i){var r;return(r=t.call(this)||this).kzt=function(t){r._o(new iq("message",t.data))},r.Ezt=function(t){r._o(new iq("messageerror",t.data))},r.a7=function(t){null==t.preventDefault||t.preventDefault.call(t);var n=t.error instanceof y?t.error:new y(t.message);r._o(new eq(n)),r.Azt()},r.wzt=new R(n,i),r.wzt.addEventListener("message",r.kzt),r.wzt.addEventListener("messageerror",r.Ezt),r.wzt.addEventListener("error",r.a7),r}Rt(n,t);var i=n.prototype;return i.pzt=function(t,n){n?this.wzt.postMessage(t,n):this.wzt.postMessage(t)},i.Azt=function(){this.Ro(),this.wzt.removeEventListener("message",this.kzt),this.wzt.removeEventListener("messageerror",this.Ezt),this.wzt.removeEventListener("error",this.a7),this.wzt.terminate()},n}(aa);U(),St(),Ct();var oq=0,aq=function(t){function n(n,i){var r;(r=t.call(this)||this).Rzt=function(){r.xzt.removeEventListener("load",r.Rzt),r.xzt.contentWindow.postMessage({type:"initialize",id:r.zS,script:r.Czt},"*")},r.Izt=function(t){t.origin===r.Pzt&&t.data.id===r.zS&&("initialized"===t.data.type||("error"===t.data.type?(r._o(new eq(new y(t.data.data.message))),r.Azt()):r._o(new iq("message",t.data.data))))},r.zS=oq++,r.Czt=n;var e=qn.Ih("iframe.html",i);return r.xzt=function(t){var n=v.createElement("iframe");return n.width="0",n.height="0",n.style.display="none",n.role="",n.src=t,v.body.appendChild(n),n}(e.href),r.Pzt=e.origin,r.xzt.addEventListener("load",r.Rzt),self.addEventListener("message",r.Izt),r}Rt(n,t);var i=n.prototype;return i.pzt=function(t,n){n?this.xzt.contentWindow.postMessage({type:"message",data:t},"*",n):this.xzt.contentWindow.postMessage({type:"message",data:t},"*")},i.Azt=function(){var t;this.xzt.removeEventListener("load",this.Rzt),self.removeEventListener("message",this.Izt),null==(t=this.xzt.contentWindow)||t.postMessage({type:"terminate"},"*"),ai(this.xzt)},n}(aa);function cq(t,n,i){var r=qn.ew(t,n);return new uq((function(t){return function(t,n,i,r){return fq.apply(this,arguments)}(r,n,i,t)}))}var hq=!0;function fq(){return fq=Zt((function(t,n,i,r){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,vq(e=new sq(t,i),r)];case 1:return f.sent(),[2,e];case 2:return u=f.sent(),null==e||e.Azt(),Xo(u),[3,3];case 3:if(!hq||!Cl)return[3,13];f.label=4;case 4:return f.trys.push([4,7,,8]),[4,qn.fR.Qk({Xu:t,AE:vd.GET,jk:Dl.Tk,Uw:r})];case 5:return[4,f.sent().Ck(r)];case 6:return s=f.sent(),[3,8];case 7:return Xo(f.sent()),[3,8];case 8:if(!s)return[3,13];f.label=9;case 9:return f.trys.push([9,11,12,13]),a=Cl([s],{type:"application/javascript"}),o=URL.createObjectURL(a),[4,vq(e=new sq(o,i),r)];case 10:return f.sent(),[2,e];case 11:return c=f.sent(),null==e||e.Azt(),Xo(c),hq=!1,[3,13];case 12:return o&&URL.revokeObjectURL(o),[7];case 13:return f.trys.push([13,15,,16]),[4,vq(e=new aq(t,n),r)];case 14:return f.sent(),[2,e];case 15:throw h=f.sent(),null==e||e.Azt(),h;case 16:return[2]}}))})),fq.apply(this,arguments)}function vq(t,n){return lq.apply(this,arguments)}function lq(){return lq=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.py(["message","error"],n)];case 1:if("error"===(i=r.sent()).type)throw function(t){return new ol(ul.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}(i.error);if(!function(t){return ti(t)&&"9.3.1"===t.Dzt}(i.data))throw new ol(ul.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (9.3.1).");return[2,i]}}))})),lq.apply(this,arguments)}U(),St();var dq=function(t){return t.Nzt="HWt",t.Mzt="vUt",t}({}),gq=function(t){return t.Lzt="Bzt",t.Ozt="Fzt",t}({}),mq=function(){function t(t){var n=this;this.wzt=void 0,this.Zzt=0,this.jzt=as(),this.Gzt=function(t){var i=t.data,r=i.Qzt,e=n.jzt.get(r);if(e)if(n.jzt.delete(r),i.Jzt===gq.Lzt)e.Vb(i.$zt);else if(i.Jzt===gq.Ozt){var u=i.tqt,s=i.eqt?new y(i.eqt):void 0,o=new ol(ul.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt. (code: "+u+")",s);e.Wb(o)}},this.Hzt=function(t){var i=new ol(ul.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);n.Xw(i)},this.Uzt=t;try{this.Wzt=qn.ew("theoplayer.d.js",t)}catch(t){throw new ol(ul.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var n=t.prototype;return n.Vzt=function(){var t=cq(this.Wzt,this.Uzt,{name:"THEOplayer decrypt worker"});return t.bn("message",this.Gzt),t.bn("error",this.Hzt),t},n.HWt=function(t,n,i){var r=""+ ++this.Zzt,e={Xzt:dq.Nzt,zzt:r,qzt:t,Yzt:n,Kzt:i},u=new Kc;return this.jzt.set(r,u),null!=this.wzt||(this.wzt=this.Vzt()),this.wzt.pzt(e),u.Ub},n.Xw=function(t){void 0===t&&(t=new Wo),this.jzt.forEach((function(n){return n.Wb(t)})),this.jzt.clear(),this.wzt&&(this.wzt.Azt(),this.wzt=void 0)},t}();function wq(t){return nq.yT()?new nq:new mq(t)}function pq(t){var n=mo(t.boxes,cC);if(n){var i=mo(n.boxes,hC);if(i)return i.handlerType}}function yq(t){var n,i=new Sv;return(n=i.boxes).push.apply(n,Ut(t.boxes)),i}function _q(t){var n,i=new Ff;return(n=i.boxes).push.apply(n,Ut(t.boxes)),i}U(),St(),Ct(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Wt();var bq=8;function kq(t,n){for(var i=function(t){var n,i=new qf;return(n=i.boxes).push.apply(n,Ut(t.boxes)),i}(t),r=Tq(n),e=0;e<i.boxes.length;e++){var u=i.boxes[e];if(u===n)i.boxes[e]=new hf(new I(n.getSize()-bq));else if(fC(u)){var s=u,o=yo(s.boxes,(function(t){return t instanceof Of&&t.trackId===r}));if(o>=0){var a=s.boxes[o],c=_q(s);c.boxes[o]=new hf(new I(a.getSize()-bq)),i.boxes[e]=c}}}return i}function Aq(t,n){for(var i=function(t){var n,i=new cv;return(n=i.boxes).push.apply(n,Ut(t.boxes)),i}(t),r=0;r<i.boxes.length;r++){var e=i.boxes[r];if(dC(e)){var u=mo(e.boxes,gC);u&&u.trackId===n&&(i.boxes[r]=new hf(new I(e.getSize()-bq)))}}return i}function Tq(t){return mo(t.boxes,aC).trackId}function Sq(t,n,i,r){for(var e=mo(t.boxes,gC),u=i.lV(n).GF(),s=sr.ZERO,o=0,a=t.boxes;o<a.length;o++){var c=a[o];if(c instanceof nv){s=or(c.baseMediaDecodeTime,u),c.baseMediaDecodeTime=c.baseMediaDecodeTime.subtract(s);break}if(c instanceof $f){s=or(sr.fromNumber(c.baseMediaDecodeTime),u),c.baseMediaDecodeTime-=s.toNumber();break}}if(!s.isZero()){var h=mo(t.boxes,mC);if(void 0!==h&&h.samples.length>0){var f=h.samples;if(!h.flags.sampleDurationPresent){h.flags.sampleDurationPresent=!0;for(var v=null!=r?r:e.defaultSampleDuration,l=0;l<f.length;l++){f[l].duration=v}}f[0].duration+=s.toNumber(),h.samples=f}}}U(),St();var Eq="Mp4Transmuxer",Iq=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).E2=void 0,n.iqt=void 0,n.oqt=void 0,n.hqt=void 0,n.rqt=void 0,n}Rt(n,t);var i=n.prototype;return i.lHt=function(t,n){Zo(n);var i=t.gLt,r=XC(Ec(t.uOt.Kk.Kk));if(!r)throw new y("Mp4Transmuxer - Unable to parse "+i.Tw+" MP4 initializer.");this.E2=r;var e=function(t){for(var n,i,r=0,e=t.Z;r<e.length;r++){var u=e[r];n||(n=u.h1),i||(i=u.o1)}if(n||i)return{cPt:n,dPt:i,kBt:void 0};return}(r);e&&this._Ht(i,e);var u=function(t){for(var n=0,i=t.Z;n<i.length;n++){var r=i[n];if(void 0!==r.a1)return r.a1}return}(r);void 0!==u&&this.vHt(i,u);var s=function(t){var n,i,r,e,u,s=xv(t),o=mo(s.boxes,sC),a=o.boxes.filter(oC),c=mo(a,(function(t){return pq(t)===_f.AUDIO})),h=mo(a,(function(t){return pq(t)===_f.VIDEO})),f={cPt:{EN:c?Tq(c):void 0},dPt:{EN:h?Tq(h):void 0}},v=null==(n=mo(o.boxes,fC))?void 0:n.boxes.filter(vC),l=v?{cPt:null!=(i=mo(v,(function(t){return t.trackId===f.cPt.EN})))?i:void 0,dPt:null!=(r=mo(v,(function(t){return t.trackId===f.dPt.EN})))?r:void 0}:void 0;if(l&&(f.cPt.QM=null==(e=l.cPt)?void 0:e.defaultSampleDuration,f.dPt.QM=null==(u=l.dPt)?void 0:u.defaultSampleDuration),!c||!h)return{cPt:c?t:void 0,dPt:h?t:void 0,qV:f};var d=yq(s),g=yq(s),m=s.boxes.indexOf(o);d.boxes[m]=kq(o,h),g.boxes[m]=kq(o,c);var w=d.serialize().join(),p=g.serialize().join();return{cPt:w,dPt:p,qV:f}}(t.uOt.Kk.Kk);if(this.iqt=s.qV,s.dPt){var o=mo(r.Z,(function(t){return t.EN===s.qV.dPt.EN})),a={Tw:"RCt",Kk:{Tw:GR.iJ,Kk:s.dPt},Cat:rm.mE,dOt:t.dOt,yHt:{Jrt:'video/mp4; codecs="'+o.o1+'"',nOt:t.nOt},WO:t.WO,gLt:t.gLt,VWt:t.uOt.VWt};this.NGt(a)}if(s.cPt){var c=mo(r.Z,(function(t){return t.EN===s.qV.cPt.EN})),h={Tw:"RCt",Kk:{Tw:GR.iJ,Kk:s.cPt},Cat:rm.vE,dOt:t.dOt,yHt:{Jrt:'audio/mp4; codecs="'+c.h1+'"',nOt:t.nOt},WO:t.WO,gLt:t.gLt,VWt:t.uOt.VWt};this.NGt(h)}return ut.resolve()},i.fHt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b,k,A,T,S;return Ht(this,(function(E){switch(E.label){case 0:if(Zo(n),r=t.Zut.VWt,OH.MN(Eq,"Transmuxing fMP4: "+oz(r.Fyt)),e=t.Zut.Kk,u=Rq(e.Kk,i.E2),void 0!==(s=xo(u.map((function(t){return t.pit})),yw))&&(r.wit=s,i.gHt(t.gLt)),i.kVt.$Ft(t.dOt))return[3,2];if(o=pw.vV(r.WO),u.length>0){for(a=xo(u.map((function(t){return t.sqt})),yw),c=0,h=i.nHt;c<h.length;c++)f=h[c],i.kVt.lVt(t.dOt,f,a,o,Cq(r),!1);i.gHt(t.gLt)}return i.kVt.$Ft(t.dOt)?[3,2]:[4,Ho(i.kVt.eVt(t.dOt),n)];case 1:E.sent(),E.label=2;case 2:return v=i.kVt.hVt(t.dOt),l=r.wit?i.kVt.aVt(r.wit,r)._F():r.WO,d=dK(r,l),g=gK(r,d),w={XGt:d,zGt:g,WO:l,ct:null!=(m=r.ct)?m:0,BV:v._F(),dOt:t.dOt,gLt:t.gLt,VWt:t.Zut.VWt},p=function(t,n){if(void 0===n.cPt.EN)return{cPt:void 0,dPt:t};if(void 0===n.dPt.EN)return{cPt:t,dPt:void 0};for(var i=xv(t),r=yq(i),e=yq(i),u=0;u<i.boxes.length;u++){var s=i.boxes[u];lC(s)&&(r.boxes[u]=Aq(s,n.dPt.EN),e.boxes[u]=Aq(s,n.cPt.EN))}var o=r.serialize().join(),a=e.serialize().join();return{cPt:o,dPt:a}}(e.Kk,i.iqt),p.dPt&&(_=i.iqt.dPt.EN,b=mo(i.E2.Z,(function(t){return t.EN===_})),k=mo(u,(function(t){return t.EN===_})),A=i.nqt(p.dPt,b,k,null==(y=i.iqt)?void 0:y.dPt.QM,r),i.rqt=b,i.mHt(t.gLt,r,k.pit.kF(s)),T=ss({Tw:"Zut",Kk:{Tw:GR.iJ,Kk:A},Cat:rm.mE},w),i.NGt(T)),p.cPt&&(S=ss({Tw:"Zut",Kk:{Tw:GR.iJ,Kk:p.cPt},Cat:rm.vE},w),i.NGt(S)),i.oqt=r,i.hqt=u,[2]}}))}))()},i.nqt=function(t,n,i,r,e){if(!Cq(e))return t;if(!this.oqt||!this.rqt||!this.hqt)return t;var u=this.rqt.EN,s=mo(this.hqt,(function(t){return t.EN===u})),o=this.kVt.aVt(s.aqt,this.oqt),a=this.kVt.aVt(i.pit,e).kF(o).lV(n.mN);if(a.wF(pw.DF))return t;if(a.vF(pw.vV(.5)))return t;var c=lY(e)?e:e.VOt;return OH.VLt(Eq,"Stretching first video frame of segment #"+c.YBt+" to fill gap of "+a._F()+"s"),function(t,n,i,r){var e=xv(t),u=mo(e.boxes,lC);if(u){for(var s=u.getSize(),o=0,a=u.boxes;o<a.length;o++){var c=a[o];c instanceof ov&&Sq(c,n,i,r)}var h=u.getSize();if(h!==s)for(var f=h-s,v=0,l=u.boxes;v<l.length;v++){var d=l[v];d instanceof ov&&wC(d,f)}}return e.serialize().join()}(t,n.mN,a,r)},n}(lK);function Rq(t,n){var i=mp(Ap.JD(Ec(t)),hp.oD);if(!i)throw new y("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=function(t,i){var e=i[t];if(!e.aL||0===e.hL.length||0===e.hL[0]._L.length)return"continue";for(var u=e.XD.EN,s=mo(n.Z,(function(t){return t.EN===u})),o=0,a=1/0,c=0,h=e.XD.QM||0,f=0,v=e.hL;f<v.length;f++)for(var l=0,d=v[f]._L;l<d.length;l++){var g,m=d[l],w=m.vL||0,p=o+w,y=(o+=null!=(g=m.ct)?g:h)+w;p<a&&(a=p),y>c&&(c=y)}var _=pw.IF(e.aL.aL,s.mN);r.push({EN:u,sqt:_,pit:_.kO(pw.CF(a,s.mN)),uqt:_.kO(pw.CF(o,s.mN)),aqt:_.kO(pw.CF(c,s.mN))})},r=[],e=0,u=t.Z;e<u.length;e++)i(e,u);return r}(i,n)}function Cq(t){return lY(t)?t.aOt:0===t.UOt&&t.VOt.aOt}var Nq="MpegtsTransmuxer",xq=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,r,e)||this).mqt=void 0,u.pqt=void 0,u.yqt=void 0,u.Aqt=void 0,u.wqt=-1,u.bqt=-1,u.fqt=void 0,u._qt=cs(),u.sx=n,u}Rt(n,t);var i=n.prototype;return i.lHt=function(n,i){return t.prototype.lHt.call(this,n,i)},i.aHt=function(n,i){if(t.prototype.aHt.call(this,n,i),!this.sx.cqt()){var r,e=null!=(r=null==i?void 0:i.Fyt)?r:n.Fyt;if(e)/\.(ts|aac|mp3)/i.test(e.Mx)&&this.sx.lqt()}},i.dqt=function(t){var n;return t.gLt===this.fqt&&this._qt.has(t.dOt)?n=this._qt.get(t.dOt):(n=BK(t.Zut.Kk.Kk),this.fqt=t.gLt,this._qt.set(t.dOt,n)),n},i.fHt=function(n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b,k,A,T,S,E,I,R,C,N,x,D,P,M,B,O;return Ht(this,(function(L){switch(L.label){case 0:if(Zo(i),e=r.dqt(n),u=n.Zut,e!==MK.qHt&&e!==MK.YHt)return[2,t.prototype.fHt.call(r,n,i)];if(u.VWt.nOt.some(Pq))throw new ol(ul.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");return s=r.sx.lqt(),e!==MK.qHt?[3,2]:(OH.MN(Nq,"Transmuxing MPEG-TS: "+oz(u.VWt.Fyt)),[4,s.vqt({data:u.Kk.Kk,metadata:r.mqt})]);case 1:return o=L.sent(),[3,4];case 2:return OH.MN(Nq,"Transmuxing raw audio: "+oz(u.VWt.Fyt)),[4,s.gqt({data:u.Kk.Kk,metadata:r.mqt})];case 3:o=L.sent(),L.label=4;case 4:if(Zo(i),r._Ht(n.gLt,{cPt:o.metadata.audio_codec,dPt:o.metadata.video_codec,kBt:void 0}),o.metadata.video_frame_rate&&r.vHt(n.gLt,o.metadata.video_frame_rate),a=Mq(o.metadata.first_decode_timestamp),c=Mq(o.metadata.first_presentation_timestamp),h=void 0!==o.metadata.first_video_presentation_timestamp?Mq(o.metadata.first_video_presentation_timestamp):void 0,u.VWt.wit=c,r.gHt(n.gLt),void 0!==h&&r.mHt(n.gLt,u.VWt,function(t,n){var i=t.kF(n);return i.bF(pw.DF)&&(i=i.kO(Aw())),i}(h,c)),r.kVt.$Ft(n.dOt))return[3,6];for(f=pw.vV(u.VWt.WO),v=0,l=r.nHt;v<l.length;v++)d=l[v],r.kVt.lVt(n.dOt,d,a,f,Cq(u.VWt),!0);return r.gHt(n.gLt),r.kVt.$Ft(n.dOt)?[3,6]:[4,Ho(r.kVt.eVt(n.dOt),i)];case 5:L.sent(),L.label=6;case 6:if(g=r.kVt.cVt(a,u.VWt),r.mqt=o.metadata,m=r.kVt.aVt(c,u.VWt)._F(),w=dK(u.VWt,m),p=gK(u.VWt,w),_={XGt:w,zGt:p,WO:m,ct:null!=(y=u.VWt.ct)?y:0,BV:g._F(),dOt:n.dOt,gLt:n.gLt,VWt:u.VWt},void 0===o.data.audio_media&&void 0===o.data.video_media){for(b=0,k=r.nHt;b<k.length;b++)A=k[b],T=ss({Tw:"Zut",Kk:void 0,Cat:A},_),r.NGt(T);return[2]}return S=[],void 0!==o.data.audio_media?(!o.data.audio_init||r.pqt&&r.wqt===n.dOt&&Vc(r.pqt,o.data.audio_init)||(E=r.kVt.aVt(u.VWt.wit,u.VWt)._F(),I={Tw:"RCt",Kk:{Tw:GR.iJ,Kk:o.data.audio_init},Cat:rm.vE,dOt:n.dOt,yHt:{Jrt:'audio/mp4; codecs="'+o.metadata.audio_codec+'"',nOt:u.VWt.nOt},WO:E,gLt:n.gLt,VWt:u.VWt},r.pqt=o.data.audio_init,r.wqt=n.dOt,r.NGt(I)),R=ss({Tw:"Zut",Kk:{Tw:GR.iJ,Kk:o.data.audio_media},Cat:rm.vE},_),r.NGt(R)):n.Zut.VWt.OOt&&To(r.nHt,rm.vE)&&(C=ss({Tw:"Zut",Kk:void 0,Cat:rm.vE},_),r.NGt(C)),void 0!==o.data.video_media?(!o.data.video_init||r.yqt&&r.bqt===n.dOt&&Vc(r.yqt,o.data.video_init)||(N=r.kVt.aVt(u.VWt.wit,u.VWt)._F(),x={Tw:"RCt",Kk:{Tw:GR.iJ,Kk:o.data.video_init},Cat:rm.mE,dOt:n.dOt,yHt:{Jrt:'video/mp4; codecs="'+o.metadata.video_codec+'"',nOt:u.VWt.nOt},WO:N,gLt:n.gLt,VWt:u.VWt},r.yqt=o.data.video_init,r.bqt=n.dOt,r.Aqt=XC(Ec(o.data.video_init)),r.NGt(x)),D=r.Aqt.Z[0],P=Rq(o.data.video_media,r.Aqt)[0],M=r.nqt(o.data.video_media,D,P,void 0,u.VWt),r.rqt=D,B=ss({Tw:"Zut",Kk:{Tw:GR.iJ,Kk:M},Cat:rm.mE},_),r.NGt(B),S.push(P)):n.Zut.VWt.OOt&&To(r.nHt,rm.mE)&&(O=ss({Tw:"Zut",Kk:void 0,Cat:rm.mE},_),r.NGt(O)),r.oqt=u.VWt,r.hqt=S,[2]}}))}))()},i.jw=function(){this.pqt=void 0,this.yqt=void 0,this.wqt=-1,this.bqt=-1,t.prototype.jw.call(this)},n}(Iq),Dq=function(){function t(){}return t.prototype.kTt=function(t,n,i){return new xq(this,t,n,i)},t}();function Pq(t){return t.AE===uz.dBt}function Mq(t){return pw.IF(sr.fromBits(t.low,t.high),t.base)}U(),St(),U(),St();var Bq=function(t){return t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4",t}({}),Oq=function(){var t=function(){if("undefined"==typeof WebAssembly)return!1;var t=Gn.ym;if(t>0&&t<=56)return!1;try{return void 0!==new WebAssembly.Module(Ea("AGFzbQEAAAA="))}catch(t){return!1}}();return Oq=function(){return t},t};var Lq=function(){function t(t){var n=this;this.Zzt=0,this.jzt=cs(),this.Gzt=function(t){var i=t.data;if(void 0!==i.requestId){var r=n.jzt.get(i.requestId);if(!r)return;n.jzt.delete(i.requestId),i.success?r.Vb(i.output):r.Wb(new ol(i.errorCode,i.error))}else i.success||n.Xw(new ol(i.errorCode,i.error))},this.Hzt=function(t){var i=new ol(ul.MEDIA_DECODE_ERROR,t.error.message,t.error);n.Xw(i)},this.Uzt=t;var i=Oq()?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.Wzt=qn.ew(i,t)}catch(t){throw new ol(ul.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.wzt=this.Vzt()}var n=t.prototype;return n.vqt=function(t){return this.Sqt(Bq.MPEGTS_TO_FMP4,t)},n.gqt=function(t){return this.Sqt(Bq.RAW_AUDIO_TO_FMP4,t)},n.Vzt=function(){var t=cq(this.Wzt,this.Uzt,{name:"THEOplayer transmux worker"});return t.bn("message",this.Gzt),t.bn("error",this.Hzt),t},n.Sqt=function(t,n){var i=++this.Zzt,r={type:t,id:i,input:n},e=new Kc;return this.jzt.set(i,e),this.wzt.pzt(r),e.Ub},n.Xw=function(t){void 0===t&&(t=new Wo),this.jzt.forEach((function(n){return n.Wb(t)})),this.jzt.clear(),this.wzt.Azt()},t}(),Fq=function(t){function n(n){var i;return(i=t.call(this)||this).Tqt=n,i.wzt=void 0,i}Rt(n,t);var i=n.prototype;return i.cqt=function(){return void 0!==this.wzt},i.lqt=function(){var t;return null!=(t=this.wzt)?t:this.wzt=new Lq(this.Tqt)},i.Xw=function(){this.wzt&&(this.wzt.Xw(),this.wzt=void 0)},n}(Dq),Vq=function(){function t(t){this.Tqt=t}return t.prototype.Ait=function(){return new Fq(this.Tqt)},t}(),Uq=function(t){function n(n,i,r,e,u,s,o,a){var c;return c=t.call(this,n,i,r,e,u,s,o,a)||this,Gn.eg&&(c.kxt=new wO(c)),c}Rt(n,t);var i=n.prototype;return i.TI=function(){return this.WB.TI()},i.yn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return r.sent(),null==(i=n.kxt)||i.yn(),[2]}}))}))()},xt(n,[{key:"AI",get:function(){return this.WB.AI},set:function(t){this.WB.AI=t}}]),n}(XK),Wq=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new mO(n),f=h.OH(rm.mE);return(c=t.call(this,f,i,r,e,u,s,o,a)||this).bH=h,c}return Rt(n,t),n.prototype.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),[4,n.bH.yH(n.WB)];case 2:return i.sent(),[2]}}))}))()},n}(Uq),jq=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.FH=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){return Wr(n.useManagedMediaSource)&&(n.useManagedMediaSource||!Gn.su&&!Gn.Cg)?[2,t.prototype.FH.call(r,n,i)]:[2,!1]}))}))()},i.VH=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){return n.clearkey&&!n.fairplay&&Gn.eg?[2,!1]:[2,t.prototype.VH.call(i,n)]}))}))()},n}(GK),Zq=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).UH=xk.YC,n}Rt(n,t);var i=n.prototype;return i.uP=function(t,n,i,r,e,u,s){return new Wq(n,i,e,u,wq(r.libraryLocation),new Vq(r.libraryLocation),new LB(QB.Vg.Brt,QB.Vg.Lrt,QB.Vg.Mrt,QB.Vg.Frt),r)},i.WH=function(){return!0},n}(jq);qT(new Zq),OH.Rt=function(){var t;return Boolean(null==(t=f)?void 0:t.THEOplayerDebugLogsEnabled)},U(),St(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt(),U(),St();var Xq=function(){function t(){}var n=t.prototype;return n.vrt=function(t,n){return ut.resolve(!1)},n.grt=function(t,n){return ut.resolve(void 0)},n.drt=function(t){return ut.resolve(void 0)},n.IQ=function(t){return ut.resolve(void 0)},t}(),Gq=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Eqt=void 0,e.Nqt=void 0,e.Rqt=void 0,e.GT=new Qo,e.Mqt=function(){e._o(new TW)},e.Sc=n,e.vEt=new EY(r,new Xq,n.useCredentials,n.src,n.liveOffset),e.vEt.bn(va.Gy,e.Ds),e.O6=!1,e}Rt(n,t);var i=n.prototype;return i.kqt=function(){var t;return null==(t=this.Eqt)?void 0:t.hLt},i.Sn=function(){var t=this;na(IT((function(){return t.xqt(t.GT.Uw)}),this.GT.Uw))},i.xqt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.vEt.qVt(t)];case 1:return i.sent(),n.Rqt&&(n.Iqt(n.Rqt.ji,n.Rqt.Ti),n.Rqt=void 0),n.O6=!0,[2]}}))}))()},i.Cqt=function(t,n){this.O6?this.Iqt(t,n):this.Rqt={ji:t,Ti:n}},i.Iqt=function(t,n){var i=this.Pqt(t,n),r=null==i?void 0:i.ZLt[0];r!==this.Eqt&&(this.Dqt(),void 0!==r&&(this.Eqt=r,this.Nqt=new LY(this.vEt,r),this.Nqt.tUt()))},i.Dqt=function(){this.Eqt=void 0,this.Nqt&&(this.Nqt.Xw(),this.Nqt=void 0)},i.Pqt=function(t,n){var i=mo(this.vEt.Er.GLt,(function(i){return void 0!==i.$Ct&&i.$Ct.ji===t&&i.$Ct.Ti===n}));return null!=i?i:this.vEt.Er.GLt[0]},i.yn=function(){this.Ro(),this.GT.jw(),this.GT.Xw(),this.Dqt(),this.vEt.Xw()},n}(aa);U(),St(),Dt(),Ct();var Hq=function(t){function n(n){var i;(i=t.call(this)||this).b9=n;for(var r=0;r<rS.length;r++){var e=rS[r];i.b9.bn(e,i.Ds)}return i}Rt(n,t);var i=n.prototype;return i.RR=function(t,n){this.ER=t},i.II=function(){return this.b9.II()},i.SI=function(){return this.b9.SI()},i.ja=function(){return this.b9.ja()},i.OI=function(t){return this.b9.OI(t)},i.TI=function(){return this.b9.TI()},i.be=function(){return this.b9.be()},i.NI=function(){return this.b9.NI()},i.MI=function(){return this.b9.MI()},i.EI=function(){return this.b9.EI()},i.xI=function(){return this.b9.xI()},i.nr=function(){return this.b9.nr()},i.Ca=function(t,n,i){return this.b9.Ca(t,n,i)},i.ge=function(){return this.b9.ge()},i.CI=function(){return this.b9.CI()},i.DI=function(){return this.b9.DI()},i.yn=function(){this.Ro();for(var t=0;t<rS.length;t++){var n=rS[t];this.b9.vn(n,this.Ds)}return this.b9.yn()},xt(n,[{key:"ht",get:function(){return this.b9.ht}},{key:"wR",get:function(){return this.b9.wR}},{key:"bR",get:function(){return this.b9.bR},set:function(t){this.b9.bR=t}},{key:"bt",get:function(){return this.b9.bt}},{key:"ER",get:function(){return this.b9.ER},set:function(t){this.b9.ER=t}},{key:"ct",get:function(){return this.b9.ct}},{key:"PR",get:function(){return this.b9.PR}},{key:"MR",get:function(){return this.b9.MR}},{key:"OR",get:function(){return this.b9.OR}},{key:"lt",get:function(){return this.b9.lt}},{key:"WR",get:function(){return this.b9.WR}},{key:"GR",get:function(){return this.b9.GR}},{key:"ZR",get:function(){return this.b9.ZR},set:function(t){this.b9.ZR=t}},{key:"qR",get:function(){return this.b9.qR}},{key:"KR",get:function(){return this.b9.KR}},{key:"QR",get:function(){return this.b9.QR},set:function(t){this.b9.QR=t}},{key:"tI",get:function(){return this.b9.tI}},{key:"iI",get:function(){return this.b9.iI},set:function(t){this.b9.iI=t}},{key:"rI",get:function(){return this.b9.rI}},{key:"hI",get:function(){return this.b9.hI}},{key:"uI",get:function(){return this.b9.uI}},{key:"$G",get:function(){return this.b9.$G}},{key:"nt",get:function(){return this.b9.nt}},{key:"dI",get:function(){return this.b9.dI}},{key:"rt",get:function(){return this.b9.rt}},{key:"vI",get:function(){return this.b9.vI}},{key:"gI",get:function(){return this.b9.gI},set:function(t){this.b9.gI=t}},{key:"yI",get:function(){return this.b9.yI}},{key:"AI",get:function(){return this.b9.AI},set:function(t){this.b9.AI=t}},{key:"eH",get:function(){return this.b9.eH}},{key:"KB",get:function(){}}]),n}(ha),zq=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).Lqt=void 0,e.Oqt=!1,e.vWt=void 0,e.handleManifestUpdate=function(){var t=e.Lqt.kqt();if(t){var n=e.$G;if(n){var i=n.getTime(),r=e.vWt;r||(r=new nY,e.vWt=r),r.ir(t.fOt,(function(t){return(t.getTime()-i)/1e3})),!e.Oqt&&r.L.V>0&&(e.nt.tt(r),e.b8.tt(r),e.Oqt=!0)}}},e.dzt=function(){e.Lqt&&e.Lqt.Cqt(e.vI,e.dI)},e.Bqt=i,e.b8=new $x(e),e.bn(va.jy,e.dzt),e}Rt(n,t);var i=n.prototype;return i.Ca=function(n,i,r){var e=this;return Zt((function(){return Ht(this,(function(u){switch(u.label){case 0:return[4,t.prototype.Ca.call(e,n,i,r)];case 1:return u.sent(),n.hlsDateRange&&e.Nyt(n,i),[2]}}))}))()},i.Nyt=function(t,n){this.Lqt=new Gq(t,n,this.Bqt),this.Lqt.bn(va.Gy,this.handleManifestUpdate),this.Lqt.Sn()},i.nr=function(){return this.vWt&&(this.nt.it(this.vWt),this.b8.it(this.vWt),this.vWt.yn(),this.vWt=void 0,this.Oqt=!1),this.Lqt&&(this.Lqt.yn(),this.Lqt=void 0),this.b8.nr(),t.prototype.nr.call(this)},i.yn=function(){return this.vn(va.jy,this.dzt),this.Lqt&&(this.Lqt.yn(),this.Lqt=void 0),this.b8.yn(),t.prototype.yn.call(this)},n}(Hq);!function(t){zT.GH().HH(t)}((function(t,n,i){return new zq(t,n,i)})),U(),St(),U(),St(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Jt(),U(),St(),Dt(),Ct();var Yq=function(t){function n(n,i){var r;return void 0===i&&(i=""),(r=t.call(this,"An error occurred while casting.")||this).errorCode=n,r.description=i,r}return Rt(n,t),xt(n,[{key:"name",get:function(){return"CastError"}}]),n}(Uo);function Kq(t){return qq.apply(this,arguments)}function qq(){return qq=Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:return nJ()?[3,2]:[4,Jq(t)];case 1:n.sent(),n.label=2;case 2:return tJ()?[3,4]:[4,ea(100,t)];case 3:n.sent(),n.label=4;case 4:return tJ()?[3,6]:(qn.Vp('Detected the Chromecast library was loaded without the CAF framework. It is strongly encouraged to load it with the CAF framework by using this URL: "//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"'),[4,$q()]);case 5:n.sent(),n.label=6;case 6:return[2]}}))})),qq.apply(this,arguments)}function Jq(t){return Qq.apply(this,arguments)}function Qq(){return Qq=Zt((function(t){var n,i,r,e,u,s;return Ht(this,(function(o){return(null==t?void 0:t.Fw)?[2,ut.reject(new Wo)]:(n=function(){var t,n;return{Ub:new ut((function(i,r){t=i,n=r})),Vb:t,Wb:n}}(),i=n.Ub,r=n.Vb,e=n.Wb,u=f.__onGCastApiAvailable,s=function(){f.__onGCastApiAvailable=u,e(new Wo)},f.__onGCastApiAvailable=function(n,i){n?r():e(new y(i)),null==t||t.Vw(s),f.__onGCastApiAvailable=u,u&&u(n,i)},null==t||t.Ww(s),[2,i])}))})),Qq.apply(this,arguments)}var $q=Ci((function(){return function(t){return new ut((function(n,i){var r=v.createElement("script");r.onload=function(){return n()},r.onerror=function(t){return i((null==t?void 0:t.error)||t)},r.type="text/javascript",r.src=t,(v.head||v.documentElement).appendChild(r)}))}("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js").catch((function(){throw new Yq("API_NOT_INITIALIZED","The Chromecast library could not be loaded successfully.")}))}));function tJ(){return Boolean("undefined"!=typeof cast&&cast.framework)}function nJ(){return"undefined"!=typeof chrome&&chrome&&chrome.cast&&chrome.cast.isAvailable}function iJ(t,n,i,r){if(Yn(n))for(var e=0,u=k.keys(n);e<u.length;e++){var s=u[e];if("type"!==s&&"images"!==s){var o=n[s];Yn(o)&&(t[s]=o)}}!function(t,n,i,r){if(!Yn(i)&&!Yn(null==n?void 0:n.images))return;t.images=[],i&&t.images.push(new r.Image(i));if(null==n?void 0:n.images)if(ni(n.images))t.images.push(new r.Image(n.images));else if(Jn(n.images))for(var e=0,u=n.images;e<u.length;e++){var s,o,a=u[e],c=void 0;if(ni(a))c=new r.Image(a);else(c=new r.Image(a.src)).height=null!=(s=a.height)?s:null,c.width=null!=(o=a.width)?o:null;t.images.push(c)}}(t,n,i,r)}function rJ(t,n,i){return void 0===i&&(i=chrome),function(t,n,i){switch(null==t?void 0:t.type){case"movie":var r=new i.MovieMediaMetadata;return iJ(r,t,n,i),r;case"audio":var e=new i.MusicTrackMediaMetadata;return iJ(e,t,n,i),!Yn(e.artist)&&Yn(t.artistName)&&(e.artist=t.artistName),e;case"tv-show":var u=new i.TvShowMediaMetadata;return iJ(u,t,n,i),!Yn(u.title)&&Yn(t.episodeTitle)&&(u.title=t.episodeTitle),!Yn(u.season)&&Yn(t.seasonNumber)&&(u.season=t.seasonNumber),!Yn(u.episode)&&Yn(t.episodeNumber)&&(u.episode=t.episodeNumber),u;default:var s=new i.GenericMediaMetadata;return iJ(s,t,n,i),s}}(t,n,function(t){return{GenericMediaMetadata:t.cast.media.GenericMediaMetadata,MovieMediaMetadata:t.cast.media.MovieMediaMetadata,TvShowMediaMetadata:t.cast.media.TvShowMediaMetadata,MusicTrackMediaMetadata:t.cast.media.MusicTrackMediaMetadata,Image:t.cast.Image}}(i))}function eJ(t){switch(t){case chrome.cast.ErrorCode.CANCEL:return"CANCEL";case chrome.cast.ErrorCode.TIMEOUT:return"TIMEOUT";case chrome.cast.ErrorCode.API_NOT_INITIALIZED:return"API_NOT_INITIALIZED";case chrome.cast.ErrorCode.INVALID_PARAMETER:return"INVALID_PARAMETER";case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:return"EXTENSION_NOT_COMPATIBLE";case chrome.cast.ErrorCode.EXTENSION_MISSING:return"EXTENSION_MISSING";case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:return"RECEIVER_UNAVAILABLE";case chrome.cast.ErrorCode.SESSION_ERROR:return"SESSION_ERROR";case chrome.cast.ErrorCode.CHANNEL_ERROR:return"CHANNEL_ERROR";case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:return"LOAD_MEDIA_FAILED";default:return"CANCEL"}}function uJ(t){if(t.items&&t.items.length>0&&t.currentItemId>=0)return mo(t.items,(function(n){return n.itemId===t.currentItemId}))}U(),St(),Gt(),Ct(),rn(),Jt(),U(),St(),Dt(),Ct(),U(),St(),U(),St(),U(),St();var sJ="urn:x-cast:com.theoplayer.cast";U(),St(),U(),St();var oJ=function(t){return t.Fqt="theoplayer_receiver_info",t.Vqt="theoplayer_trackpropertychange",t.Wqt="theoplayer_propertychange",t}({});U(),St();var aJ=function(t){return t.SKIP_AD="SKIP_AD",t}({});U(),St();function cJ(t){v.createElement("img").src=t}U(),St(),U(),St(),Gt(),Dt(),Jt(),U(),St();var hJ=new RegExp(/^(\d\d):(\d\d):(\d\d)(?:\.(\d{3}))?$/);function fJ(t){if(ni(t)){var n=t.match(hJ);if(n)return 3600*T(n[1],10)+60*T(n[2],10)+Number(n[3])+(Number(n[4])||0)/1e3}}function vJ(t){if(void 0!==t){var n=t.match(/^([1-9]?\d|100)%$/);if(n)return T(n[1])/100}}function lJ(t,n){return"vmap"===t.type||!Yn(t.type)&&!Yn(n)}function dJ(t,n){return"vast"===t.type||!Yn(t.type)&&Yn(n)}U(),St(),Gt(),Jt(),U(),St(),Dt(),Ct(),U(),St();var gJ=function(){},mJ=function(t){function n(n){var i;return(i=t.call(this)||this).Oc=n.sort((function(t,n){return t.sL-n.sL})),i}return Rt(n,t),n.prototype.Gqt=function(){return null!=this.Hqt||(this.Hqt=Ro(this.Oc,(function(t){return t.Gqt()}))),this.Hqt},xt(n,[{key:"Uqt",get:function(){return this.Oc}}]),n}(gJ);U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var wJ=function(t){function n(n,i){var r;return(r=t.call(this)||this).Zqt=n,r.Xqt=i,r.qqt=!1,r}return Rt(n,t),xt(n,[{key:"o",get:function(){return this.Zqt}},{key:"sL",get:function(){return this.Xqt}},{key:"zqt",get:function(){return this.qqt}}]),n}(gJ),pJ=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).Qqt=r,a.$qt=e,a.eYt=u,a.Kqt=s,a.YG=o,a}return Rt(n,t),n.prototype.Gqt=function(){if(void 0===this.iYt){for(var t,n,i,r=[],e=0,u=this.Kqt;e<u.length;e++){var s=u[e];s.sYt&&(t=s.sYt),s.nYt&&(n=s.nYt),s.rYt&&(i=s.rYt),r=r.concat(s.universalAdIds)}this.iYt={tYt:this.tYt,sYt:t,oYt:n,rYt:i,lt:this.lt,hYt:r}}return[this.iYt]},xt(n,[{key:"Yqt",get:function(){return this.Kqt}},{key:"jqt",get:function(){return this.Qqt}},{key:"Jqt",get:function(){return this.$qt}},{key:"tYt",get:function(){return this.eYt}},{key:"lt",get:function(){return this.YG}}]),n}(wJ);U(),St(),Dt(),Ct(),U(),St(),Dt();var yJ=function(){function t(t,n){this.uYt=t,this.lYt=n}return xt(t,[{key:"aYt",get:function(){return this.uYt}},{key:"cYt",get:function(){return this.lYt}}]),t}(),_J=function(){function t(t,n,i,r,e,u){this.fYt=t,this.vYt=n,this.gYt=i,this.wYt=r,this.TYt=!1,this.AYt=e,this.Qqt=u}return t.prototype.kYt=function(){this.TYt=!0},xt(t,[{key:"dYt",get:function(){return this.fYt}},{key:"_Yt",get:function(){return this.vYt}},{key:"mYt",get:function(){return this.gYt}},{key:"pYt",get:function(){return this.wYt}},{key:"sd",get:function(){return this.yYt},set:function(t){this.yYt=t}},{key:"bYt",get:function(){return this.AYt}},{key:"SYt",get:function(){return this.TYt}},{key:"jqt",get:function(){return this.Qqt}}]),t}();U(),St(),Dt();var bJ=function(t){return t.EYt="all",t.xYt="any",t.$H="none",t}({});var kJ=function(){function t(t,n){this.IYt=t,this.PYt=n}return xt(t,[{key:"RYt",get:function(){return this.IYt}},{key:"CYt",get:function(){return this.PYt}}]),t}(),AJ=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f,v,l,d,g){this.YA=t,this.KA=n,this.zS=i,this.NYt=r,this.LYt=e,this.OYt=u,this.VYt=s,this.UYt=o,this.HYt=a,this.XYt=c,this.fYt=h,this.vYt=f,this.gYt=v,this.qYt=l,this.YYt=d,this.jYt=g}return xt(t,[{key:"o",get:function(){return this.zS}},{key:"ji",get:function(){return this.YA}},{key:"Ti",get:function(){return this.KA}},{key:"DYt",get:function(){return this.NYt}},{key:"MYt",get:function(){return this.LYt}},{key:"BYt",get:function(){return this.OYt}},{key:"FYt",get:function(){return this.VYt}},{key:"WYt",get:function(){return this.UYt}},{key:"GYt",get:function(){return this.HYt}},{key:"ZYt",get:function(){return this.XYt}},{key:"dYt",get:function(){return this.fYt}},{key:"_Yt",get:function(){return this.vYt}},{key:"mYt",get:function(){return this.gYt}},{key:"zYt",get:function(){return this.qYt}},{key:"cYt",get:function(){return this.YYt}},{key:"KYt",get:function(){return this.jYt}}]),t}();U(),St(),Dt();var TJ=function(){function t(t,n){this.zS=t,this.ZOt=n}return xt(t,[{key:"id",get:function(){return this.zS}},{key:"uri",get:function(){return this.ZOt}}]),t}(),SJ=function(){function t(t,n,i,r){this.JYt=t,this.tKt=n,this.iKt=i,this.nKt=r}return xt(t,[{key:"QYt",get:function(){return this.JYt}},{key:"$Yt",get:function(){return this.tKt}},{key:"eKt",get:function(){return this.iKt}},{key:"sKt",get:function(){return this.nKt}}]),t}(),EJ=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,n,i)||this).eYt=r,h.oKt=e,h.aKt=u,h.Kqt=s,h.cKt=o,h.dKt=a,h.YG=c,h}Rt(n,t);var i=n.prototype;return i.Gqt=function(){var t=this;return void 0===this.oKt?[]:(null!=this.Hqt||(this.Hqt=this.oKt.Gqt().map((function(n){return t.fKt(n)}))),this.Hqt)},i.fKt=function(t){for(var n,i,r,e=0,u=this.Yqt;e<u.length;e++){var s=u[e];s.sYt&&(n=s.sYt),s.nYt&&(i=s.nYt),s.rYt&&(r=s.rYt)}var o=t.tYt.concat(this.tYt),a=t.sYt;if(n&&t.sYt){var c=new SJ(t.sYt._Kt.QYt,t.sYt._Kt.$Yt,t.sYt._Kt.eKt.concat(n._Kt.eKt),t.sYt._Kt.sKt.concat(n._Kt.sKt));(a=t.sYt)._Kt=c,a.cYt=a.cYt.concat(n.cYt)}var h=t.oYt;if(i&&i.aYt){for(var f,v,l=[],d=0,g=i.aYt;d<g.length;d++){var m=g[d];l.concat(m.pYt.eKt)}for(var w,p,y=[],_=0,b=null!=(w=null==(f=t.oYt)?void 0:f.aYt)?w:[];_<b.length;_++){var k,A,T,S=b[_],E=new SJ(S.pYt.QYt,S.pYt.$Yt,S.pYt.eKt.concat(l),(null!=(A=null==(k=t.sYt)?void 0:k._Kt.sKt)?A:[]).concat(null!=(T=null==n?void 0:n._Kt.sKt)?T:[]));y.push(new _J(S.dYt,S._Yt,S.mYt,E,S.bYt,S.jqt))}h=new yJ(y,(null!=(p=null==(v=t.oYt)?void 0:v.cYt)?p:[]).concat(i.cYt))}var I=t.rYt;if(I){var R,C,N,x=I.RYt;r&&r.RYt&&(x=r.RYt),I=new kJ(x,(null!=(C=null==(R=t.rYt)?void 0:R.CYt)?C:[]).concat(null!=(N=null==r?void 0:r.CYt)?N:[]))}var D=t.lt;return this.lt&&(D=this.lt),{tYt:o,sYt:a,oYt:h,rYt:I,lt:D,hYt:t.hYt}},xt(n,[{key:"tYt",get:function(){return this.eYt}},{key:"rKt",get:function(){return this.oKt}},{key:"hKt",get:function(){return this.aKt}},{key:"Yqt",get:function(){return this.Kqt}},{key:"uKt",get:function(){return this.cKt}},{key:"lKt",get:function(){return this.dKt}},{key:"lt",get:function(){return this.YG}}]),n}(wJ);U(),St(),Dt();var IJ=function(){function t(t,n,i,r,e,u,s,o){this.zS=t,this.mKt=n,this.pKt=i,this.UYt=r,this.wKt=e,this.yKt=u,this.bKt=s,this.AKt=o}return xt(t,[{key:"o",get:function(){return this.zS}},{key:"vKt",get:function(){return this.mKt}},{key:"gKt",get:function(){return this.pKt}},{key:"WYt",get:function(){return this.UYt}},{key:"sYt",get:function(){return this.wKt}},{key:"nYt",get:function(){return this.yKt}},{key:"rYt",get:function(){return this.bKt}},{key:"universalAdIds",get:function(){return this.AKt}}]),t}();U(),St(),Dt();var RJ=function(){function t(t,n,i,r,e,u,s,o){this.SKt=t,this.kKt=n,this.lYt=i,this.EKt=r,this.RKt=e,this.TYt=!1,this.AYt=u,this.Qqt=s,this.NKt=o}return t.prototype.kYt=function(){this.TYt=!0},xt(t,[{key:"ct",get:function(){return this.SKt}},{key:"TKt",get:function(){return this.kKt}},{key:"cYt",get:function(){return this.lYt},set:function(t){this.lYt=t}},{key:"_Kt",get:function(){return this.EKt},set:function(t){this.EKt=t}},{key:"xKt",get:function(){return this.RKt},set:function(t){this.RKt=t}},{key:"IKt",get:function(){return this.TYt}},{key:"sd",get:function(){return this.yYt},set:function(t){this.yYt=t}},{key:"bYt",get:function(){return this.AYt}},{key:"jqt",get:function(){return this.Qqt}},{key:"CKt",get:function(){return this.PKt},set:function(t){this.PKt=t}},{key:"DKt",get:function(){return this.NKt}}]),t}();function CJ(t,n){return PJ(t)&&t.getAttribute(n)||void 0}function NJ(t,n){return xJ(t,n,void 0,!1)}function xJ(t,n,i,r){return n===(t.localName?t.localName:t.nodeName)&&(r&&i?i===t.namespaceURI:!i||!t.namespaceURI||i===t.namespaceURI)}function DJ(t,n){for(var i=[],r=0;r<t.childNodes.length;r+=1){var e=t.childNodes.item(r);PJ(e)&&NJ(e,n)&&i.push(e)}return i}function PJ(t){return t&&1===t.nodeType}function MJ(t,n){var i=(new DOMParser).parseFromString(t,n);if(!i||i.getElementsByTagName("parsererror").length>0)throw new y('Invalid document for MIME type "'+n+'"');return i}function BJ(t){return MJ(t,"text/xml")}function OJ(t){return t.replace(/[<>&'"]/g,(function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}}))}function LJ(t){return"data:application/xml,"+encodeURIComponent(t)}U(),St(),U(),St(),Dt();var FJ=function(t){return t.MKt="mute",t.LKt="unmute",t.zy="pause",t.BKt="resume",t.OKt="rewind",t.FKt="skip",t.VKt="playerExpand",t.WKt="playerCollapse",t.UKt="fullscreen",t.GKt="exitFullscreen",t.HKt="expand",t.COLLAPSE="collapse",t.fTt="start",t.ZKt="firstQuartile",t.XKt="thirdQuartile",t.zKt="midpoint",t.qKt="complete",t.YKt="acceptInvitationLinear",t.KKt="acceptInvitation",t.jKt="timeSpentViewing",t.QKt="otherAdInteraction",t.qy="progress",t.JKt="creativeView",t.$Kt="adExpand",t.tjt="adCollapse",t.ejt="minimize",t.ijt="close",t.sjt="closeLinear",t.njt="overlayViewDuration",t.rjt="breakStart",t.ojt="breakEnd",t.fa="error",t}({});function VJ(t){switch(t){case"breakStart":case"breakEnd":case"error":return!0;default:return!1}}var UJ=["mute","unmute","pause","resume","rewind","skip","closeLinear","close","playerExpand","playerCollapse","fullscreen","exitFullscreen","expand","collapse","creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","acceptInvitationLinear","acceptInvitation","timeSpentViewing","otherAdInteraction","progress"];function WJ(t){return void 0!==t&&-1!==UJ.indexOf(t)}var jJ=["start","firstQuartile","midpoint","thirdQuartile","complete","mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","expand","collapse","fullscreen","exitFullscreen","creativeView","acceptInvitation","adExpand","adCollapse","minimize","close","overlayViewDuration","otherAdInteraction","progress"];function ZJ(t){return void 0!==t&&-1!==jJ.indexOf(t)}var XJ=["mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","creativeView"];function GJ(t){return void 0!==t&&-1!==XJ.indexOf(t)}function HJ(t,n){if(void 0!==t&&""!==t&&void 0!==n){var i=t.match(/^(\d+):(\d+):(\d+)$/);return i?S(i[1]||"0")+60*S(i[2]||"0")+S(i[3]||"0"):(i=t.match(/^(100|[1-9]\d|\d)%$/))?S(i[1]||"0")*n/100:void 0}}var zJ=function(){function t(t,n,i){this.hjt=t,this.ajt=n,this.ujt=i}return xt(t,[{key:"WX",get:function(){return this.hjt}},{key:"nc",get:function(){return this.ajt}},{key:"eventURL",get:function(){return this.ujt}}]),t}();U(),St(),Dt(),Ct();var YJ=function(){function t(t){this.ljt=t}return xt(t,[{key:"cjt",get:function(){return this.ljt}}]),t}(),KJ=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n)||this).fjt=i,u.JYt=r,u.jYt=e,u}return Rt(n,t),xt(n,[{key:"QYt",get:function(){return this.JYt}},{key:"KYt",get:function(){return this.jYt}},{key:"djt",get:function(){return this.fjt}}]),n}(YJ),qJ=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),n}(YJ),JJ=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),n}(YJ);U(),St(),Dt();var QJ={_jt:{Gb:100,wb:"XML parsing error."},vjt:{Gb:303,wb:"Empty or invalid VAST error."},mjt:{Gb:400,wb:"General linear error"},gjt:{Gb:403,wb:"Unsupported MIME-type or missing mediafiles error"},pjt:{Gb:500,wb:"General nonlinear error"},_X:{Gb:900,wb:"Network error"}},$J=function(){function t(t){this.yjt=t}return t.prototype.bjt=function(t){if(this.wjt){var n=this.wjt.replace(/\[ERRORCODE]/,""+t.Gb);cJ(n)}},xt(t,[{key:"wjt",get:function(){return this.yjt}}]),t}();U(),St(),Dt(),Ct();var tQ=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r||i&&rQ[i]||n,e)||this).Sjt=n,u.kjt=i,u.v3=r,u}return Rt(n,t),xt(n,[{key:"Ajt",get:function(){return this.Sjt}},{key:"Tjt",get:function(){var t;return null!=(t=this.kjt)?t:900}}]),n}(Uo),nQ=function(t){return t.ADBLOCK="adblock",t.NETWORK="network",t.PARSING="parsing",t.PLAYBACK="playback",t.GENERAL="general",t}({}),iQ=function(t){return t[t.VAST_MALFORMED_RESPONSE=100]="VAST_MALFORMED_RESPONSE",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION",t[t.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR",t[t.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY",t[t.VAST_UNEXPECTED_DURATION_ERROR=202]="VAST_UNEXPECTED_DURATION_ERROR",t[t.UNEXPECTED_SIZE=203]="UNEXPECTED_SIZE",t[t.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR",t[t.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT",t[t.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS",t[t.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.FILE_NOT_FOUND=401]="FILE_NOT_FOUND",t[t.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT",t[t.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH",t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE",t[t.MEZZANINE_FILE_REQUIRES=406]="MEZZANINE_FILE_REQUIRES",t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME=407]="MEZZANINE_FILE_DOWNLOADED_FIRST_TIME",t[t.AD_IN_VAST_REJECTED=408]="AD_IN_VAST_REJECTED",t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED=409]="INTERACTIVE_CREATIVE_NOT_EXECUTED",t[t.VERIFICATION_CODE_NOT_EXECUTED=410]="VERIFICATION_CODE_NOT_EXECUTED",t[t.GENERAL_NON_LINEAR_ERROR=500]="GENERAL_NON_LINEAR_ERROR",t[t.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR",t[t.OVERLAY_AD_LOADING_FAILED=502]="OVERLAY_AD_LOADING_FAILED",t[t.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH",t[t.GENERAL_COMPANION_AD_ERROR=600]="GENERAL_COMPANION_AD_ERROR",t[t.INVALID_DIMENSIONS_COMPANION_AD=601]="INVALID_DIMENSIONS_COMPANION_AD",t[t.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR",t[t.COMPANION_AD_LOADING_FAILED=603]="COMPANION_AD_LOADING_FAILED",t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION=604]="UNABLE_TO_FIND_SUPPORTED_COMPANION",t[t.UNKNOWN_ERROR=900]="UNKNOWN_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",t[t.MALFORMED_URI=1005]="MALFORMED_URI",t[t.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND",t[t.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE",t[t.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE",t[t.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE",t[t.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS",t[t.INVALID_ADX_EXTENSION=1105]="INVALID_ADX_EXTENSION",t[t.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED",t}({}),rQ={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. The video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General wrapper error.",301:"Timeout of VAST URI provided in wrapper element, or of VAST URI provided in a subsequent wrapper element. This includes request errors such as invalid URI, unreachable or request timeout for URI, and security or other exceptions related to requesting a VAST URI.",302:"Wrapper limit reached, as defined by the video player. Too many wrapper responses have been received with no InLine response. This can be caused by a circular loop of daisy chaining (one network bouncing to another and another).",303:"No ads VAST response after one or more wrappers. This also includes the number of empty VAST responses from fallback.",400:"General linear error. The video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Unable to download or timeout of MediaFile URI.",403:"Could not find a media file that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying a media file.",406:"A mezzanine file was required, but not provided.",407:"The mezzanine file was downloaded for the first time, so the ad did not serve. This can occur when an ad insertion is missed because the creative is being transcoded. It continues to occur until the creative is available for insertion.",408:"The ad returned in the VAST response was rejected.",409:"The interactive creative defined in the InteractiveCreativeFile node was not executed.",410:"The code referenced in the Verification node was not executed.",500:"General NonLinearAds error.",501:"Unable to display non-linear ad because creative dimensions do not align with creative display area (in other words, the creative dimension was too large). This can occur if you use CSS styles to set width and height of the video ,content element. You should instead use the width and height HTML attributes.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearResource with supported type. This can occur when a creative size is larger than the player size.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within the companion display area (in other words, space was not available).",602:"Unable to display required companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"VAST 2 error. Even if you request VAST 3 or your DFP network default is VAST 3, this can occur if you have a VAST redirect that returns a VAST 2 response.",901:"General VPAID error",1005:"URI malformed."};function eQ(t){if(!t)return!1;switch(t.toLocaleLowerCase()){case yA.YC:case yA.KC:case yA.qC:return!0;default:return!1}}function uQ(t){var n=Pi();return!!(eQ(t)||t&&n&&(null==n?void 0:n.canPlayType)&&n.canPlayType(t))||(oQ("Invalid or unsupported MediaFile Content delivery type, skipping mediafile"),!1)}function sQ(t,n){for(var i=0;i<n.length;i++){var r=n[i];new $J(r).bjt(t)}}function oQ(t){0}U(),St(),U(),St(),Dt();var aQ=function(){function t(t,n){this.xjt=t,this.Ijt=n}return xt(t,[{key:"Ejt",get:function(){return this.xjt}},{key:"Rjt",get:function(){return this.Ijt}}]),t}(),cQ=function(){function t(){}var n=t.prototype;return n.Cjt=function(n,i){var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return lJ(n.sources,n.timeOffset)?[4,t.Pjt(n.sources.src,i)]:[3,7];case 1:if(e=a.sent(),!(u=e&&e.documentElement))throw new tQ(nQ.NETWORK,iQ.VAST_SCHEMA_VALIDATION_ERROR,"Ad source is not a valid XML document.");return NJ(u,"VMAP")?[4,r.Djt(u,n,i)]:[3,3];case 2:return[2,a.sent()];case 3:return NJ(u,"VAST")?[4,r.Njt(u,i,!1)]:[3,5];case 4:return(s=a.sent())?(o=new dQ("",!0,!0,s),[2,[new vQ("start",o,hQ.Mjt,"",[],!1,!0,n)]]):[2,[]];case 5:throw new tQ(nQ.GENERAL,iQ.VAST_MALFORMED_RESPONSE,"Only VMAP and VAST files are allowed as ad source.");case 6:return[3,8];case 7:if(dJ(n.sources,n.timeOffset))return[2,[new lQ(String(n.timeOffset),n,i)]];throw new tQ(nQ.GENERAL,iQ.VAST_MALFORMED_RESPONSE,"Something went wrong parsing the ad source; only VMAP and VAST files are allowed as ad source.");case 8:return[2]}}))}))()},n.Ljt=function(n,i,r,e){void 0===e&&(e=[]);var u=this;return Zt((function(){var s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,t.Pjt(n,i)];case 1:return s=c.sent(),[3,3];case 2:throw o=c.sent(),sQ(o instanceof tQ&&o.Tjt===iQ.VAST_MALFORMED_RESPONSE?QJ.vjt:QJ._X,e),o;case 3:return(a=s&&s.documentElement)&&NJ(a,"VAST")?[4,u.Njt(a,i,r,e)]:[3,5];case 4:return[2,c.sent()];case 5:a&&NJ(a,"VMAP")&&Qr("Received VMAP ad when expecting VAST. Please set the type of your ad source in the configuration, or make sure to not set a timeOffset for VMAP ad sources. VMAP ads have their own offsets included."),c.label=6;case 6:return[2,void 0]}}))}))()},n.Bjt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(!(null==(u=t.sources)?void 0:u.src))throw new tQ(nQ.GENERAL,iQ.MALFORMED_URI,"Property src on adSource is missing.");return[4,e.Ljt(t.sources.src,r,!1)];case 1:return s=c.sent(),o=new dQ("",!0,!0,s),(a=new vQ(n,o,hQ.Mjt,"",[],!1,!0,t)).Ojt=i,[2,a]}}))}))()},n.Njt=function(t,n,i,r){void 0===r&&(r=[]);var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,l,d,g,m;return Ht(this,(function(w){switch(w.label){case 0:if(u=[],s=[],o=[],!t||!NJ(t,"VAST")){if(sQ(QJ.vjt,r),i)throw new tQ(nQ.PARSING,iQ.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");throw new tQ(nQ.PARSING,iQ.VAST_EMPTY_RESPONSE,"The VAST element was empty.")}if(0===DJ(t,"Ad").length)return[3,7];a=0,c=DJ(t,"Ad"),w.label=1;case 1:if(!(a<c.length))return[3,6];h=c[a],w.label=2;case 2:return w.trys.push([2,4,,5]),[4,e.Fjt(h,n,r)];case 3:return 0===(f=w.sent()).sL?u.push(f):s.push(f),[3,5];case 4:return v=w.sent(),o.push(v),[3,5];case 5:return a++,[3,1];case 6:if(0===u.length&&0===s.length&&o.length>0)throw o[0];if(1===u.length&&0===s.length)return[2,u[0]];if(0===u.length&&0!==s.length)return[2,new mJ(s)];if(u.length>0||s.length>0)return[2,new mJ(s.concat(u))];w.label=7;case 7:if(0!==DJ(t,"Error").length)for(l=0,d=DJ(t,"Error");l<d.length;l++)g=d[l],oQ(QJ.vjt.wb),(m=g.textContent)&&r.push(m.trim());if(sQ(QJ.vjt,r),i)throw new tQ(nQ.PARSING,iQ.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");throw new tQ(nQ.PARSING,iQ.VAST_EMPTY_RESPONSE,"The VAST element was empty.")}}))}))()},n.Djt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:e=[],u=DJ(t,"AdBreak"),s=0,h.label=1;case 1:if(!(s<u.length))return[3,6];o=u[s],h.label=2;case 2:return h.trys.push([2,4,,5]),[4,r.Vjt(o,n,i)];case 3:return(a=h.sent())&&e.push(a),[3,5];case 4:return c=h.sent(),qn.Fp(c),[3,5];case 5:return s++,[3,1];case 6:return[2,e]}}))}))()},n.Fjt=function(n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return u=CJ(n,"id")||"",(s=QV(CJ(n,"sequence")))||(s=0),o=DJ(n,"InLine"),0===(a=DJ(n,"Wrapper")).length?[3,2]:[4,e.Wjt(a[0],u,s,i,r)];case 1:return[2,c.sent()];case 2:if(0!==o.length)return[2,t.Ujt(o[0],u,s,r)];c.label=3;case 3:throw new tQ(nQ.PARSING,iQ.VAST_SCHEMA_VALIDATION_ERROR,"An Ad tag without a Wrapper or inline element cannot be parsed")}}))}))()},n.Wjt=function(n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h,f,v,l,d,g,m,w,p,y,_,b,k;return Ht(this,(function(A){switch(A.label){case 0:for(o=DJ(n,"Error")[0],a="",o&&o.textContent&&(a=o.textContent,u.push(a)),c=DJ(n,"AdSystem")[0],h="",c&&(h=c.textContent||h),f=[],v=0,l=DJ(n,"Impression");v<l.length;v++)(d=l[v]).textContent&&f.push(d.textContent);return g=DJ(n,"VASTAdTagURI")[0],m="",g&&g.textContent&&(m=g.textContent),[4,s.Ljt(m,e,!0,u)];case 1:return w=A.sent(),p=DJ(n,"Creatives")[0],y=[],p&&(y=t.Hjt(p,h,u)),(_=tU(CJ(n,"followAdditionalWrappers")))||(_=!0),(b=tU(CJ(n,"allowMultipleAds")))||(b=!0),(k=tU(CJ(n,"fallbackOnNoAd")))||(k=!1),[2,new EJ(i,r,f,w,_,y,b,k,new $J(a))]}}))}))()},n.Vjt=function(n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b;return Ht(this,(function(k){switch(k.label){case 0:if(u=CJ(n,"timeOffset")||"0",s=CJ(n,"breakType")||hQ.iE,o=CJ(n,"breakId"),a=tU(CJ(n,"repeatAfter")),c=void 0!==fQ.Jjt(u),void 0===o&&(o=""),void 0===a&&(a=!1),!c)throw new tQ(nQ.PARSING,iQ.VAST_SCHEMA_VALIDATION_ERROR,"Invalid TimeOffset type");if(h=DJ(n,"AdSource")[0],f=DJ(n,"TrackingEvents")[0],v=[],f&&(v=t.qjt(f,VJ,"vmap")),(l=CJ(h,"id"))||(l=""),void 0===(d=tU(CJ(h,"allowMultipleAds")))&&(d=!0),(g=tU(CJ(h,"followRedirects")))||(g=!0),m=DJ(h,"AdTagURI")[0],w="",p=DJ(h,"VASTAdData")[0],!m||!m.textContent)return[3,1];try{return w=m.textContent,(y=Bg(i)).sources.src=w,[2,new lQ(u,y,r)]}catch(t){return[2,void 0]}return[3,6];case 1:return p?p.firstElementChild&&xJ(p.firstElementChild,"VAST")?[4,e.Njt(p.firstElementChild,r,!1)]:[3,3]:[3,5];case 2:return(_=k.sent())?(b=new dQ(l,d,g,_),[2,new vQ(u,b,s,o,v,a,!1,i)]):[2,void 0];case 3:throw new tQ(nQ.PARSING,iQ.VAST_SCHEMA_VALIDATION_ERROR,"vmap:VASTAdData does not have a VAST-structure as a child element");case 4:return[3,6];case 5:throw new tQ(nQ.PARSING,iQ.VAST_SCHEMA_VALIDATION_ERROR,"Invalid AdTagURI source or invalid VASTAdData in Adbreak Element");case 6:return[2]}}))}))()},t.requestSuccessOnly=function(t,n){return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n.Qk(t)];case 1:return i=e.sent(),[3,3];case 2:throw r=e.sent(),new tQ(nQ.NETWORK,iQ.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.",r);case 3:if(!hd(i))throw new tQ(nQ.NETWORK,iQ.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.");return[2,i]}}))}))()},t.Pjt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return r=new wd({Xu:t,jk:Dl.Tk,AE:vd.GET}),[4,i.requestSuccessOnly(r,n)];case 1:e=u.sent(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,e.Kk()];case 3:return[2,BJ.apply(void 0,[u.sent()])];case 4:throw u.sent(),new tQ(nQ.NETWORK,iQ.VAST_MALFORMED_RESPONSE,"The ad source could not be loaded.");case 5:return[2]}}))}))()},t.Ujt=function(n,i,r,e){var u,s=DJ(n,"Error")[0];s&&s.textContent&&(u=s.textContent,e.push(u));var o,a=DJ(n,"AdSystem")[0],c="";a&&(c=a.textContent||c);var h=DJ(n,"AdTitle")[0];h&&(o=h.textContent||void 0);for(var f=[],v=0,l=DJ(n,"Impression");v<l.length;v++){var d=l[v];d.textContent&&f.push(d.textContent)}var g=t.Gjt(DJ(n,"Creatives")[0],c,e);return new pJ(i,r,c,o,f,g,new $J(u))},t.Hjt=function(n,i,r){for(var e=[],u=0,s=DJ(n,"Creative");u<s.length;u++){var o=s[u],a=CJ(o,"id");a||(a="");var c=QV(CJ(o,"sequence"));c||(c=0);var h=CJ(o,"adId");h||(h="");var f=DJ(o,"Linear")[0],v=void 0;f&&(v=t.Zjt(f,"wrapper",a,i,r));var l=DJ(o,"NonLinearAds")[0],d=void 0;if(l)try{d=t.Xjt(l,a,i)}catch(t){}var g=DJ(o,"CompanionAds")[0],m=void 0;g&&(m=t.zjt(g)),e.push(new IJ(a,h,c,"",v,d,m,[]))}return e},t.Gjt=function(n,i,r){for(var e=[],u=0,s=DJ(n,"Creative");u<s.length;u++){var o=s[u],a=CJ(o,"id");a||(a="");var c=QV(CJ(o,"sequence"));c||(c=0);var h=CJ(o,"adId");h||(h="");var f=CJ(o,"apiFramework");f||(f="");var v=DJ(o,"Linear")[0],l=void 0;if(v)try{l=t.Zjt(v,"inline",a,i,r)}catch(t){}if(0===(null==l?void 0:l.ct))throw new tQ(nQ.PARSING,iQ.VAST_UNEXPECTED_DURATION_ERROR,"The VAST response had a duration of 0 seconds, so skipping the ad(s).");var d=DJ(o,"NonLinearAds")[0],g=void 0;if(d)try{g=t.Xjt(d,a,i)}catch(t){}var m=DJ(o,"CompanionAds")[0],w=void 0;m&&(w=t.zjt(m));var p=DJ(o,"UniversalAdId"),y=t.parseUniversalAdIds(p);e.push(new IJ(a,h,c,f,l,g,w,y))}return e},t.Zjt=function(n,i,r,e,u){var s=DJ(n,"Duration")[0],o=0;if(s)o=fJ(s.textContent)||0;else if(!s&&"inline"===i)throw new tQ(nQ.PARSING,iQ.VAST_SCHEMA_VALIDATION_ERROR,"Missing duration element in inLine linear");var a=CJ(n,"skipoffset"),c=-1;if(a){var h=fJ(a);if(void 0===h&&a.indexOf("%")>-1){var f=A.abs(Number(a.replace(/(?![0-9])./g,"")))/100;E(f)||(h=o*f)}void 0!==h&&(c=h)}var v=DJ(n,"MediaFiles")[0],l=[],d=[];if(v&&(l=function(t,n){for(var i=[],r=0,e=DJ(t,"MediaFile");r<e.length;r++){var u=e[r],s=CJ(u,"delivery"),o=CJ(u,"type");if(o){if(n(o)){var a=QV(CJ(u,"width")),c=QV(CJ(u,"height"));a||(oQ(),a=0),c||(oQ(),c=0);var h={delivery:s,type:o,width:a,height:c,contentURL:""+u.textContent};i.push(h)}}else oQ()}return i}(v,uQ),d=function(t){var n=DJ(t,"ClosedCaptionFiles");if(0===n.length)return[];for(var i=[],r=0,e=DJ(n[0],"ClosedCaptionFile");r<e.length;r++){var u=e[r],s=CJ(u,"type");s||oQ();var o=CJ(u,"language");o||oQ();var a={type:null!=s?s:"",language:null!=o?o:"",contentURL:(""+u.textContent).trim()};i.push(a)}return i}(v)),"inline"===i&&(!v||0===l.length))throw sQ(QJ.gjt,u),new tQ(nQ.PARSING,iQ.VAST_LINEAR_ASSET_MISMATCH,"Missing MediaFiles in linear element");var g=DJ(n,"TrackingEvents")[0],m=[];g&&(m=t.qjt(g,WJ,"linear"));var w=DJ(n,"VideoClicks")[0],p=t.Yjt(w);return new RJ(o,l,m,p,c,r,e,d)},t.Yjt=function(n){if(!n)return new SJ("","",[],[]);var i,r=DJ(n,"ClickThrough")[0],e="";r&&(i=r.textContent||void 0,e=CJ(r,"id")||"");var u=t.Kjt(DJ(n,"ClickTracking")),s=t.Kjt(DJ(n,"CustomClick"));return new SJ(i,e,u,s)},t.Kjt=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=r.textContent;if(e){var u=CJ(r,"id")||"";n.push(new TJ(u,e))}}return n},t.qjt=function(t,n,i){for(var r=[],e=0,u=DJ(t,"Tracking");e<u.length;e++){var s=u[e],o=CJ(s,"event");if(n(o)){var a="";"linear"===i&&(a=CJ(t,"offset")||"0");var c=s.textContent;c&&r.push(new zJ(o,a,c))}else oQ()}return r},t.Xjt=function(n,i,r){for(var e=[],u=0,s=DJ(n,"NonLinear");u<s.length;u++){var o=s[u],a=DJ(o,"NonLinearClickThrough")[0],c=void 0;a&&(c=a.textContent||void 0);var h=t.Kjt(DJ(o,"NonLinearClickTracking")),f=DJ(o,"StaticResource")[0],v=void 0;if(f&&f.parentNode){var l=CJ(f,"creativeType"),d=f.textContent||"",g=DJ(f.parentNode,"NonLinearClickThrough")[0],m="";g&&(m=g.textContent||""),v=new KJ(d,l,m,"")}var w=t.jjt(o),p=t.parseHtmlResource(o);if(v||w||p){var y=new SJ(c,"",h,[]);e.push(new _J(v,w,p,y,i,r))}else oQ()}if(0===e.length)throw new tQ(nQ.PARSING,iQ.VAST_SCHEMA_VALIDATION_ERROR,"nonLinearAds element found with no nonLinear elements");var _=DJ(n,"TrackingEvents")[0],b=[];return _&&(b=t.qjt(_,ZJ,"nonlinear")),new yJ(e,b)},t.parseUniversalAdIds=function(t){for(var n=[],i=0;i<t.length;i++){var r,e,u,s=t[i],o=null!=(r=CJ(s,"idRegistry"))?r:"",a=null!=(u=null!=(e=CJ(s,"idValue"))?e:s.textContent)?u:"";n.push(new aQ(o,a))}return n},t.zjt=function(n){var i=CJ(n,"requiredType");(function(t){switch(t){case"all":case"any":case"none":return!0;default:return!1}})(i)||(i=bJ.$H);for(var r=[],e=0,u=DJ(n,"Companion");e<u.length;e++){var s=u[e],o=QV(CJ(s,"width")),a=QV(CJ(s,"height")),c=CJ(s,"id"),h=QV(CJ(s,"assetWidth")),f=QV(CJ(s,"assetHeight")),v=QV(CJ(s,"expandedWidth")),l=QV(CJ(s,"rxpandedHeight")),d=CJ(s,"apiFramework"),g=CJ(s,"adSlotId"),m=QV(CJ(s,"pxratio")),w=DJ(s,"AltText")[0],p=w?w.textContent:"";o||(oQ(),o=0),a||(oQ(),a=0),c||(c=""),h||(h=0),f||(f=0),v||(v=0),l||(l=0),d||(d=""),g||(g=""),m||(m=1),p||(p="");var y=t.Qjt(s),_=t.jjt(s),b=t.parseHtmlResource(s),k=DJ(s,"TrackingEvents")[0],A=[];k&&(A=t.qjt(k,GJ,"companion"));var T=DJ(s,"CompanionClickThrough")[0],S=void 0;T&&(S=T.textContent||void 0);var E=t.Kjt(DJ(s,"CompanionClickTracking"));(y||_||b)&&r.push(new AJ(o,a,c,h,f,v,l,d,g,m,y,_,b,new SJ(S,"",E,[]),A,p))}return new kJ(i,r)},t.Qjt=function(t){var n,i=DJ(t,"StaticResource")[0];if(i&&i.parentNode){var r=CJ(i,"creativeType");r||(r="");var e,u=i.textContent,s=DJ(i.parentNode,"AltText")[0],o=DJ(i.parentNode,"CompanionClickThrough")[0],a="";s&&(a=s.textContent||""),o&&(e=o.textContent||void 0),u&&(n=new KJ(u,r,e,a))}return n},t.jjt=function(t){var n,i=DJ(t,"IFrameResource")[0];if(i){var r=i.textContent||"";n=new qJ(r)}return n},t.parseHtmlResource=function(t){var n,i=DJ(t,"HTMLResource")[0];if(i){var r=i.textContent||"";n=new JJ(r)}return n},t}(),hQ=function(t){return t.iE="",t.Mjt="linear",t.$jt="nonlinear",t.tQt="display",t}({}),fQ=function(){function t(){}return t.eQt=function(t){switch(t){case"linear":case"nonlinear":case"display":return!0;default:return!1}},t.iQt=function(t){},t.sQt=function(t){if(void 0!==t)return"start"===t?0:"end"===t?-1:void 0},t.nQt=function(t){var n=t.split(":"),i=0;return i+=3600*Number(n[0]),i+=60*Number(n[1]),i+=Number(n[2])},t.rQt=function(t){if(t<=0)return"00:00:00.000";var n=A.floor(t),i=t-n;return this.oQt(n/3600,2)+":"+this.oQt(n/60%60,2)+":"+this.oQt(n%60,2)+"."+this.oQt(1e3*i,3)},t.oQt=function(t,n){return("00"+A.floor(t)).slice(-n)},t.hQt=function(t,n){var i=this.Jjt(t);if(0===i)switch(t){case"start":return 0;case"end":return-1}else{if(2===i)return vJ(t)*n;if(1===i)return fJ(t);if(3===i)return this.sQt(t);if(4===i){var r=Number(t);if(!E(r)&&r>=-1)return r}}},t.Jjt=function(t){return"start"===t||"end"===t?0:void 0!==fJ(t.toString())?1:void 0!==vJ(t.toString())?2:void 0!==this.iQt(t.toString())?3:E(Number(t))?void 0:4},t}(),vQ=function(){function t(t,n,i,r,e,u,s,o){this.RKt=-1,this.lQt=n,this.dQt=t,this.wQt=i,this._Qt=r,this.mQt=u,this.YYt=e,this.yQt=s,this.uQt=o}return t.prototype.$n=function(){return ut.resolve()},xt(t,[{key:"aQt",get:function(){return this.uQt.integration}},{key:"cQt",get:function(){return this.lQt}},{key:"eOt",get:function(){return this.dQt}},{key:"xKt",get:function(){return this.RKt},set:function(t){this.RKt=t}},{key:"cYt",get:function(){return this.YYt}},{key:"fQt",get:function(){return this._Qt}},{key:"vQt",get:function(){return this.mQt}},{key:"wnt",get:function(){return this.uQt}},{key:"gQt",get:function(){return this.Ojt.od}},{key:"W",get:function(){return!0}},{key:"Ojt",get:function(){return this.pQt},set:function(t){this.pQt=t}}]),t}(),lQ=function(){function t(t,n,i){this.YE=!1,this.fW=i,this.yYt=new vQ(t,void 0,"","",[],!1,!1,n)}var n=t.prototype;return n.$n=function(){var t;return null!=(t=this.bQt)?t:this.bQt=this.QE()},n.QE=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,(new cQ).Bjt(t.wnt,t.eOt,t.Ojt,t.fW)];case 1:return t.yYt=n.sent(),t.YE=!0,[2]}}))}))()},xt(t,[{key:"aQt",get:function(){return this.yYt.aQt}},{key:"cQt",get:function(){return this.yYt.cQt}},{key:"eOt",get:function(){return this.yYt.eOt}},{key:"xKt",get:function(){return this.yYt.xKt},set:function(t){this.yYt.xKt=t}},{key:"cYt",get:function(){return this.yYt.cYt}},{key:"fQt",get:function(){return this.yYt.fQt}},{key:"vQt",get:function(){return this.yYt.vQt}},{key:"wnt",get:function(){return this.yYt.wnt}},{key:"gQt",get:function(){return this.yYt.gQt}},{key:"W",get:function(){return this.YE}},{key:"Ojt",get:function(){return this.yYt.Ojt},set:function(t){this.yYt.Ojt=t}}]),t}(),dQ=function(){function t(t,n,i,r){this.zS=t,this.AQt=n,this.kQt=r,this.TQt=i}return xt(t,[{key:"o",get:function(){return this.zS}},{key:"uKt",get:function(){return this.AQt}},{key:"SQt",get:function(){return this.TQt}},{key:"Uqt",get:function(){return this.kQt}}]),t}();function gQ(t,n){var i;if(t.vastAdsRequest&&(i=function(t){if(t.adTagUrl)return t.adTagUrl;if(t.adsResponse)return LJ(t.adsResponse);return}(t.vastAdsRequest)),!i){var r=function(t){var n=t.contentUrl||t.contentId;if(!n)return;var i=t.contentType||"video/mp4",r=JA(i)||nT(t.contentType)?"streaming":"progressive",e=void 0!==t.duration?"<Duration>"+fQ.rQt(t.duration)+"</Duration>":"",u=void 0!==t.whenSkippable&&t.whenSkippable>=0?' skipoffset="'+fQ.rQt(t.whenSkippable)+'"':"",s='<MediaFile delivery="'+r+'" type="'+i+'">'+OJ(n)+"</MediaFile>",o=t.clickThroughUrl?"<VideoClicks><ClickThrough>"+OJ(t.clickThroughUrl)+"</ClickThrough></VideoClicks>":"",a="<Linear"+u+">"+e+"<MediaFiles>"+s+"</MediaFiles>"+o+"</Linear>",c=t.title?"<AdTitle>"+OJ(t.title)+"</AdTitle>":"";return'<VAST version="3.0"><Ad>'+c+"<InLine><Creatives><Creative>"+a+"</Creative></Creatives></InLine></Ad></VAST>"}(t);r&&(i=LJ(r))}var e=t.customData;if(i){var u={integration:null==e?void 0:e.integration,sources:{src:i,type:"vast"},timeOffset:n};return u.integration&&"csai"!==u.integration&&"theo"!==u.integration||(u.skipOffset=t.whenSkippable),u}}var mQ=function(t){return t.EQt="error",t.xQt="sourceupdate",t}({}),wQ=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=n,i}return Rt(n,t),n}(fa),pQ=function(t){function n(n,i){var r;return(r=t.call(this,"sourceupdate")||this).bt=n,r.Cc=i,r}return Rt(n,t),n}(fa),yQ=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).XQt=0,e.VQt=function(t){e._o(new wQ(t))},e.FQt=function(t){var n,i=new Yq(eJ(t.code),null!=(n=t.description)?n:void 0);e.VQt(i)},e.YNt=n,e.CQt=i,e.RQt=r,e}Rt(n,t);var i=n.prototype;return i.IQt=function(t){this.CQt.IQt(t)},i.PQt=function(t){this.CQt.PQt(t)},i.DQt=function(t){this.CQt.DQt(t)},i.NQt=function(t){this.CQt.NQt(t)},i.MQt=function(t){this.RQt.addUpdateListener(t)},i.LQt=function(t){this.RQt.removeUpdateListener(t)},i.BQt=function(){var t=this,n=new Kc,i=new chrome.cast.media.GetStatusRequest;return this.RQt.getStatus(i,(function(){n.Vb({bt:t.kR(),Cc:t.iu()})}),(function(t){return n.Wb(t)})),n.Ub},i.kR=function(){var t;return null==(t=this.RQt.customData)?void 0:t.currentSource},i.iu=function(){var t,n;if(null==(t=this.YNt.OQt())?void 0:t.version){var i;n=null==(i=this.RQt.customData)?void 0:i.sourceDescription}else{var r,e=null==(r=uJ(this.RQt))?void 0:r.customData;(function(t){return $n(t)&&t.theoplayer_version>=1&&Yn(t.streamStart)&&Yn(t.isLive)&&Yn(t.sourceDescription)})(e)&&(n=e.sourceDescription),n||(n=function(t){return{sources:[{src:t.contentId,type:t.contentType}],ads:_Q(t)}}(this.RQt.media))}return n},i.EI=function(){var t=new chrome.cast.media.PauseRequest;this.RQt.pause(t,Si,this.FQt)},i.RI=function(){var t=new chrome.cast.media.StopRequest;this.RQt.stop(t,Si,this.FQt)},i.xI=function(){var t=new chrome.cast.media.PlayRequest;this.RQt.play(t,Si,this.FQt)},i.Rb=function(t,n){var i=this,r=new chrome.cast.media.SeekRequest;return r.currentTime=t,r.resumeState=n?chrome.cast.media.ResumeState.PLAYBACK_PAUSE:chrome.cast.media.ResumeState.PLAYBACK_START,new ut((function(t,n){i.RQt.seek(r,t,(function(t){var i;n(new Yq(eJ(t.code),null!=(i=t.description)?i:void 0))}))}))},i.$R=function(t){this.CQt.hit(sJ,function(t){return{type:oJ.Wqt,properties:{playbackRate:t}}}(t)).catch(this.VQt)},i.WQt=function(t){var n=new chrome.cast.media.EditTracksInfoRequest(t);this.RQt.editTracksInfo(n,Si,this.FQt)},i.UQt=function(){return this.RQt.getEstimatedTime()},i.GQt=function(){return this.RQt.getEstimatedBreakClipTime()},i.HQt=function(){return this.RQt.getEstimatedBreakTime()},i.ZQt=function(){this.CQt.hit("urn:x-cast:com.google.cast.media",{type:aJ.SKIP_AD,requestId:this.XQt++,mediaSessionId:this.RQt.mediaSessionId}).catch(this.VQt)},i.yn=function(){this.Ro()},xt(n,[{key:"AN",get:function(){return this.RQt}}]),n}(aa);function _Q(t){return t.vmapAdsRequest&&t.vmapAdsRequest.adTagUrl?[{sources:{src:t.vmapAdsRequest.adTagUrl,type:"vmap"}}]:t.breaks&&t.breakClips?Ro(t.breaks,(function(n){return function(t,n){var i=function(i,e){var u=e[i],s=mo(n,(function(t){return t.id===u}));if(s){var o=gQ(s,t.position);o&&r.push(o)}},r=[];if(t.isWatched)return r;for(var e=0,u=t.breakClipIds;e<u.length;e++)i(e,u);return r}(n,t.breakClips)})):[]}U(),St();var bQ=function(){function t(t){this.YNt=t}var n=t.prototype;return n.zQt=function(t,n){this.YNt.addMessageListener(t,n)},n.qQt=function(t,n){this.YNt.removeMessageListener(t,n)},n.hit=function(t,n){var i=this;return new ut((function(r,e){i.YNt.sendMessage(t,n,r,(function(t){var n;e(new Yq(eJ(t.code),null!=(n=t.description)?n:void 0))}))}))},n.yn=function(){},t}();function kQ(t){return"vmap"===t||"adrule"===t}function AQ(t){if(t)return ni(t)&&""!==t?{src:Gg(t),type:void 0}:function(t){return $n(t)&&Boolean(t.src)}(t)&&""!==t.src?{src:Gg(t.src),type:TQ(t.type)}:void 0}function TQ(t){if(ni(t)){var n=t.toLowerCase();switch(n){case"vast":case"vmap":case"adrule":return n;default:return void Qr("The ad source type provided in the configuration could not be recognized: '"+t+"'.")}}else t||Qr("For better performance it is highly recommended to add the type to the configuration of your ad sources.")}function SQ(t){if(void 0!==t&&""!==t&&("string"==typeof t||"number"==typeof t)){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return 0;case"end":case"100%":return-1}if("string"==typeof t){if(function(t){return hJ.test(t)}(t))return fQ.nQt(t);if(EQ(t))return t}return Number(t)>=0?Number(t):void 0}}function EQ(t){return new RegExp(/^\d{1,2}%$/).test(t)}function IQ(t){for(var n=[],i=function(t,r){if(Jn(r))for(var e=0,u=r.length;e<u;e++){var s=$n(r[e])&&r[e]?String(e):"";i(t+"["+encodeURIComponent(s)+"]",r[e])}else if($n(r))for(var o=0,a=k.keys(r);o<a.length;o++){var c=a[o];i(t+"["+encodeURIComponent(c)+"]",r[c])}else!function(t,i){n.push(t+"="+encodeURIComponent(null!=i?i:""))}(t,String(r))},r=0,e=k.keys(t);r<e.length;r++){var u=e[r];i(encodeURIComponent(u),t[u])}return n.join("&")}U(),St(),U(),St(),U(),St();var RQ=function(t){return t.Fqt="receiver_info",t._Bt="event",t.YQt="propertychange",t.Vqt="trackevent",t}({}),CQ=function(){function t(t){var n=this;this.jQt=[],this.QQt=[],this.eJt=function(t,i){var r=n.KQt(i);if(r)if(r.type===RQ.YQt)for(var e=0,u=n.jQt;e<u.length;e++)for(var s=u[e],o=0,a=k.keys(r.properties);o<a.length;o++){var c=a[o];s(c,r.properties[c])}else if(r.type===RQ._Bt)for(var h=0,f=n.QQt;h<f.length;h++){(0,f[h])(r.event)}else r.type===RQ.Vqt&&n.$Qt&&r.event.trackState&&n.$Qt(r.event.trackId,r.event.trackState.targetQualityIds)},this.tJt=t,this.tJt.zQt(sJ,this.eJt)}var n=t.prototype;return n.KQt=function(t){var n;try{n=JSON.parse(t)}catch(t){0}return n},n.IQt=function(t){this.jQt.push(t)},n.PQt=function(t){bo(this.jQt,t)},n.DQt=function(t){this.QQt.push(t)},n.NQt=function(t){bo(this.QQt,t)},n.JQt=function(t){this.$Qt=t},n.hit=function(t,n){return this.tJt.hit(t,n)},n.yn=function(){this.tJt.qQt(sJ,this.eJt),Eo(this.QQt),Eo(this.jQt),this.$Qt=void 0},t}();U(),St(),U(),St();var NQ=function(t){return t.iJt="medialoadedchange",t.ub="volumechange",t.EQt="casterror",t.sJt="playererror",t.nJt="targetqualitychanged",t.rJt="receiverinfochanged",t}({}),xQ=function(t){function n(){return t.call(this,"medialoadedchange")||this}return Rt(n,t),n}(fa),DQ=function(t){function n(n,i){var r;return(r=t.call(this,"volumechange")||this).gI=n,r.ZR=i,r}return Rt(n,t),n}(fa),PQ=function(t){function n(n){var i;return(i=t.call(this,"casterror")||this).lt=n,i}return Rt(n,t),n}(fa),MQ=function(t){function n(n){var i;return(i=t.call(this,"playererror")||this).lt=n,i}return Rt(n,t),n}(fa),BQ=function(t){function n(n,i){var r;return(r=t.call(this,"targetqualitychanged")||this).EN=n,r.oJt=i,r}return Rt(n,t),n}(fa),OQ=function(t){function n(){return t.call(this,"receiverinfochanged")||this}return Rt(n,t),n}(fa),LQ=function(t){function n(n){var i;(i=t.call(this)||this).cJt=void 0,i.VQt=function(t){i._o(new PQ(t))},i.SJt=function(t,n){"error"===t&&i._o(new MQ(n))},i.TJt=function(t,n){i._o(new BQ(t,n))},i.uJt=function(t,n){var r=JSON.parse(n);r.type===RQ.Fqt&&(i.cJt=r.info,i._o(new OQ))},i._Jt=function(){var t=i.lJt().receiver.volume,n=t.level,r=t.muted;i._o(new DQ(null!=n?n:void 0,null!=r?r:void 0))},i.AJt=function(){return i.dJt(i.YNt.getMediaSession())},i.vJt=function(t){var n;t||(null==(n=i.fJt)||n.LQt(i.vJt),i.fJt=void 0,i._o(new xQ))},i.yJt=function(t){var n,r=new Yq(eJ(t.code),null!=(n=t.description)?n:void 0);i.VQt(r)},i.YNt=n,i.YNt.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,i.AJt),i.tJt=new bQ(n.getSessionObj()),i.CQt=new CQ(i.tJt),i.CQt.IQt(i.SJt),i.CQt.JQt(i.TJt),i.lJt().addUpdateListener(i._Jt),i._Jt(),i.aJt();var r=i.YNt.getMediaSession();return r&&i.dJt(r),i}Rt(n,t);var i=n.prototype;return i.hJt=function(t,n,i){this.CQt.hit(sJ,function(t,n,i){return{type:oJ.Vqt,trackID:t,trackType:n,properties:{targetQuality:i}}}(t,n,i)).catch(this.VQt)},i.aJt=function(){this.tJt.zQt(sJ,this.uJt),this.CQt.hit(sJ,{type:oJ.Fqt}).catch(Si)},i.OQt=function(){return this.cJt},i.lJt=function(){return this.YNt.getSessionObj()},i.dJt=function(t){!this.fJt&&t&&t.idleReason!==chrome.cast.media.IdleReason.FINISHED&&(this.fJt=new yQ(this,this.CQt,t),this._Jt(),this._o(new xQ),this.fJt.MQt(this.vJt))},i.mJt=function(){return this.fJt},i.gJt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:i=function(t){var n=function(t,n,i,r){var e=nn(function(t){for(var n=0,i=t.sources;n<i.length;n++){var r=i[n];if(aT(r)){var e=r.src;if(e){var u,s=null!=(u=r.type)?u:QA(e);if(FQ(s))return[e,s]}}}var o,a;return[null!=(o=sE(t))?o:"",null!=(a=eE(t))?a:""]}(t),2),u=e[0],s=e[1],o=new chrome.cast.media.MediaInfo(u,s);return o.metadata=rJ(t.metadata,t.poster),o.streamType=r,function(t,n,i){for(var r,e=function(t){var e=n[t],c=AQ(e.sources);if(c)if(lJ(c,e.timeOffset))(r=new chrome.cast.media.VastAdsRequest).adTagUrl=c.src;else if(dJ(c,e.timeOffset)){var h,f,v=null!=(h=e.timeOffset)?h:0,l=e.skipOffset,d=null!=(f=fQ.hQt(v,i))?f:0,g=void 0!==l?fQ.hQt(l,i):void 0,m=new chrome.cast.media.BreakClip("bc"+a++);m.vastAdsRequest=new chrome.cast.media.VastAdsRequest,m.vastAdsRequest.adTagUrl=c.src,m.whenSkippable=g,m.customData={integration:e.integration};var w=mo(s,(function(t){return t.position===d}));void 0===w&&(w=new chrome.cast.media.Break("b"+o++,[],d),s.push(w)),w.breakClipIds.push(m.id),u.push(m)}else 0;else 0},u=[],s=[],o=0,a=0,c=0;c<n.length;c++)e(c);t.breakClips=u,t.breaks=s,t.vmapAdsRequest=r}(o,n,i),o}(t.pJt,t.zc,t.ct,t.a0),i=new chrome.cast.media.LoadRequest(n);return i.autoplay=!0,i.currentTime=t.ER,i.customData=t.wJt,i}(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.YNt.loadMedia(i)];case 2:return r=u.sent(),[3,4];case 3:return e=u.sent(),r=e,[3,4];case 4:if(r)throw new Yq(eJ(r));return[2]}}))}))()},i.zR=function(t){this.lJt().setReceiverMuted(t,Si,this.yJt)},i.wI=function(t){this.lJt().setReceiverVolumeLevel(t,Si,this.yJt)},i.bJt=function(){return this.lJt().receiver.friendlyName},i.yn=function(){this.Ro(),this.YNt.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this.AJt),this.lJt().removeUpdateListener(this._Jt),this.tJt.qQt(sJ,this.uJt),this.CQt.yn(),this.tJt.yn()},n}(aa);function FQ(t){switch(t){case yA.YC:case yA.qC:case yA.KC:case yA.jC:return!0}return!1}var VQ=function(t){return t.kJt="statechange",t}({}),UQ=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).Vft=n,i}return Rt(n,t),n}(fa),WQ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).z1t=void 0,n.X1t=void 0,n.gQ=function(){var t=n.P1t();n.z1t=t===zS.CONNECTED?new LQ(n.q1t.getCurrentSession()):void 0,n._o(new UQ(t))},n}Rt(n,t);var i=n.prototype;return i.a1t=function(t){this.X1t=t},i.u1t=function(){return this.X1t},i.l1t=function(){return this.z1t},i.P1t=function(){switch(this.q1t.getCastState()){case cast.framework.CastState.CONNECTED:return zS.CONNECTED;case cast.framework.CastState.CONNECTING:return zS.CONNECTING;case cast.framework.CastState.NOT_CONNECTED:return zS.AVAILABLE;case cast.framework.CastState.NO_DEVICES_AVAILABLE:default:return zS.UNAVAILABLE}},i.xj=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,Kq(n)];case 1:return r.sent(),i.q1t=cast.framework.CastContext.getInstance(),i.q1t.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,i.gQ),i.q1t.setOptions({receiverApplicationId:t.appID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),[2]}}))}))()},i.m1t=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t.q1t.requestSession()];case 1:if(n=r.sent())throw n;return[3,3];case 2:throw i=r.sent(),new Yq(eJ(i));case 3:return[2]}}))}))()},i.p1t=function(t){var n;return null==(n=this.X1t)?void 0:n.onStart(t)},i.E1t=function(t){var n;return null==(n=this.X1t)?void 0:n.onStop(t)},i.y1t=function(t){var n;return null==(n=this.X1t)?void 0:n.onJoin(t)},i.k1t=function(t){var n;return null==(n=this.X1t)?void 0:n.onLeave(t)},i.R1t=function(t){this.q1t.endCurrentSession(t)},n}(aa);U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Ct();var jQ=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).na=n,h.EJt=0,h.cO=new im,h.dO=new im,h.Hl=new $p,h.Oc=new pB,h.EJt=i,h.uZ=r-i,h.MA=e,h.B4=u,h.dZ=s,h.fZ=o,h.RJt=a,h.IJt=c,h}Rt(n,t);var i=n.prototype;return i.Lst=function(){return this.Oc},i.yR=function(){return BA.pB()},i.xR=function(){return this.uZ+this.EJt},i.Tst=function(){return this.xR()},i.AR=function(){},i.jd=function(){return this.MA},i.DR=function(){return this.B4},i.NR=function(){},i.jR=function(){return this.dZ},i.xJt=function(){},i.JR=function(){return this.fZ},i.$R=function(t){this.fZ!==t&&(this.fZ=t,this._o(new kT(this.na.ER,t)))},i.oI=function(){return Ny.eO},i.eI=function(){return BA.pB()},i.aI=function(){return BA.pB()},i.cI=function(){return!1},i.mR=function(){return this.cO},i._I=function(){return this.dO},i.lI=function(){return this.Hl},i.WQt=function(t){},i.mI=function(){return this.RJt},i.fI=function(){return this.IJt},i.xI=function(){this.dZ=!1},i.EI=function(){this.dZ=!0},i.Rb=function(t){this.uZ=t-this.EJt},i.CJt=function(){return this.EJt},i.PJt=function(t){this.EJt=t},i.hnt=function(t){this.Oc.hnt(t)},i.RI=function(){},i.yn=function(){this.Ro(),this.cO.yn(),this.dO.yn(),this.Hl.yn(),this.Oc.yn()},n}(aa);U(),St(),Ct(),rn(),U(),St(),Dt(),Ct(),U(),St(),Ct(),U(),St();var ZQ=function(t){return t.DJt="ccmodechangerequest",t.NJt="cctargetqualitychangerequest",t.MJt="cctrackchangerequest",t}({}),XQ=function(t){function n(n,i,r){var e;return(e=t.call(this,ZQ.DJt)||this).track=n,e.trackId=i,e.mode=r,e}return Rt(n,t),n}(fa);U(),St();var GQ=function(t){return t.Tk="TEXT",t.vE="AUDIO",t.mE="VIDEO",t}({}),HQ=function(t){return t.JV="SUBTITLES",t.$V="CAPTIONS",t.tW="DESCRIPTIONS",t.Jn="CHAPTERS",t.eW="METADATA",t}({});function zQ(t){return"AUDIO"===t.type}function YQ(t){return"VIDEO"===t.type}function KQ(t){return"TEXT"===t.type}var qQ=function(t){function n(n){var i;(i=t.call(this)||this).eu=void 0;var r=n.customData;return i.IC=Number(n.trackId)||0,i.o=""+(r&&r.id||i.IC),i.CO=r&&r.label||n.name||"",i.gs=r&&r.language||n.language||"",i.BC=r&&r.inBandMetadataTrackDispatchType||"",i.Lt=r&&r.kind||function(t){switch(t){case HQ.JV:return ty.JV;case HQ.$V:return ty.$V;case HQ.tW:return ty.tW;case HQ.Jn:return ty.Jn;case HQ.eW:return ty.eW}return}(n.subtype)||"subtitles",i.rI=xm.NONE,i.Tw=r&&void 0!==r.type?function(t){return Pm(t)?t:Dm.DEFAULT}(r.type):Dm.WEBVTT,i.J4=[],i.e5=new jN(i.J4),i.a5=[],i.t5=new jN(i.a5),i.Xo=zp(r&&r.mode||Hp.Mh),i.LJt=i.Xo,i}Rt(n,t);var i=n.prototype;return i.i5=function(t){return mo(this.e5.lC,(function(n){return n.o===t}))},i.OC=function(t){this.CE=t},i.OJt=function(t){},i.yn=function(){},i.nr=function(){},xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=qp(this)),this.eu}},{key:"Ch",get:function(){return this.CO},set:function(t){t!==this.CO&&(this.CO=t,this._o(new wm(this)))}},{key:"q",get:function(){return this.t5}},{key:"L",get:function(){return this.e5}},{key:"CE",get:function(){return this.Xo},set:function(t){var n=zp(t);this.Xo!==n&&(this.Xo=n,this.LJt!==n&&this._o(new XQ(this,this.IC,n)),this._o(new gm(this)))}},{key:"BJt",get:function(){return this.LJt},set:function(t){var n=zp(t),i=this.Xo!==n;this.Xo=n,this.LJt=n,i&&this._o(new gm(this))}}]),n}(aa);U(),St(),Dt(),Ct(),U(),St(),Ct();var JQ=function(t){function n(n,i){var r;return(r=t.call(this,ZQ.MJt)||this).trackId=n,r.enabled=i,r}return Rt(n,t),n}(fa);U(),St(),Ct();var QQ=function(t){function n(n,i){var r;return(r=t.call(this,ZQ.NJt)||this).track=n,r.targetQuality=i,r}return Rt(n,t),n}(fa);U(),St();var $Q=function(t){return t.vE="audio",t.mE="video",t.Tk="text",t}({}),t$=function(t){function n(n){var i;(i=t.call(this)||this).Ldt=void 0,i.TO=new dm,i.Ndt=void 0,i.eu=void 0,i.CLt=function(){return i._o(new wm(i))};var r=n.customData;if(i.IC=Number(n.trackId)||0,i.o=""+(r&&r.id||i.IC),i.CO=r&&r.label||n.name||"",i.gs=r&&r.language||n.language||"",i.Lt=r&&r.kind||"main",i.qe=r&&r.enabled,i.VJt=i.qe,zQ(n)){i.m3=$Q.vE;var e=n.customData&&n.customData.qualities;if(e)for(var u=0;u<e.length;u++){var s=e[u],o=new xU(s.id,s.bandwidth,s.codecs,s.name,"",s.audioSamplingRate);o.bn("update",i.CLt),i.TO.kO(o)}}else{i.m3=$Q.mE;var a=n.customData&&n.customData.qualities;if(a)for(var c=0;c<a.length;c++){var h=a[c],f=new NU(h.id,h.bandwidth,h.codecs,h.name,"",h.frameRate,h.width,h.height);f.bn("update",i.CLt),i.TO.kO(f)}}return i}Rt(n,t);var i=n.prototype;return i.DO=function(t){this.Rt=t},i.OJt=function(t){if(t.targetQualityIds){for(var n=[],i=0,r=this.TO.lC;i<r.length;i++){var e=r[i];t.targetQualityIds.indexOf(e.o)>-1&&n.push(e)}var u=n.length?n:void 0;this.FJt(u)}},i.FJt=function(t){(function(t,n){return!t&&n||t&&!n||t&&n&&!Io(t,n)})(this.Ndt,t)&&(this.Ndt=t&&this.TO.EO(t)?t:void 0,this._o(new ZL(this.Ndt,this)))},i.unload=function(){for(var t=0,n=this.TO.lC;t<n.length;t++){n[t].vn("update",this.CLt)}this.TO.nr()},xt(n,[{key:"RC",get:function(){return this.Ldt}},{key:"MC",get:function(){return this.Ndt},set:function(t){this.FJt(t),this._o(new QQ(this,t))}},{key:"NC",get:function(){return this.TO}},{key:"Ch",get:function(){return this.CO},set:function(t){t!==this.CO&&(this.CO=t,this._o(new wm(this)))}},{key:"Rt",get:function(){return this.qe},set:function(t){this.qe!==t&&(this.qe=t,this.VJt!==t&&this._o(new JQ(this.IC,t)),this._o(new gm(this)))}},{key:"WJt",get:function(){return this.VJt},set:function(t){var n=this.qe!==t;this.qe=t,this.VJt=t,n&&this._o(new gm(this))}},{key:"wa",get:function(){return this.eu||(this.eu=$g(this)),this.eu}},{key:"CE",get:function(){return this.Rt?"enabled":"disabled"}}]),n}(aa);U(),St();var n$=function(t){return t.UJt="legacy",t.GJt="caf",t}({});U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),U(),St();var i$=function(){function t(t){this.HJt=0,this.Oc=t}var n=t.prototype;return n.Bc=function(){if(!(this.HJt>=this.Oc.length)){var t=this.Oc[this.HJt];return this.HJt+=1,t}},n.lt=function(){return this.Bc()},t}();function r$(t){var n,i,r;return null!=(r=null==(i=t.cQt)||null==(n=i.Uqt)?void 0:n.Gqt())?r:[]}var e$=function(){},u$=function(){function t(){this.eu=void 0}return t.prototype.int=function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){return{get ads(){return t.zc.map((function(t){return t.int()}))},get integration(){return t.aQt},get maxDuration(){return t.ZJt},get maxRemainingDuration(){return t.XJt},get timeOffset(){return t.eOt},get customData(){return t.wJt}}}(this)},t}(),s$=function(){function t(t,n){this.qJt=t,this.na=n}return xt(t,[{key:"zJt",get:function(){return this.qJt}},{key:"t",get:function(){return this.na}}]),t}(),o$=function(t){function n(n,i){var r;return(r=t.call(this)||this).QJt=[],r.$Jt=[],r.pQt=n,r.JJt=i,r}Rt(n,t);var i=n.prototype;return i.KJt=function(t,n,i,r){var e=mo(this.QJt,(function(n){return n.sYt===t}));if(void 0!==e)return e;var u=new f$(t,n,this,this.JJt,i,r);return this.QJt.push(u),u},i.jJt=function(t,n,i,r,e){var u=mo(this.$Jt,(function(n){return n.oYt===t}));if(void 0!==u)return u;var s=new h$(t,n,i,this,this.JJt,r,e);return this.$Jt.push(s),s},xt(n,[{key:"Ojt",get:function(){return this.pQt}},{key:"zc",get:function(){for(var t=[],n=0,i=this.pQt.YJt;n<i.length;n++)for(var r=i[n],e=0,u=r$(r);e<u.length;e++){var s,o,a=u[e],c=null!=(o=null==(s=a.rYt)?void 0:s.CYt)?o:[];if(a.sYt&&t.push(this.KJt(a.sYt,c,a.hYt,r.wnt)),a.oYt)for(var h=0,f=a.oYt.aYt;h<f.length;h++){var v=f[h];t.push(this.jJt(v,c,a.oYt,a.hYt,r.wnt))}}return t}},{key:"aQt",get:function(){return IS.CSAI}},{key:"eOt",get:function(){var t=this.pQt.od;return t>=0?t:this.JJt.t.jd()}},{key:"XJt",get:function(){for(var t=0,n=0,i=this.pQt.YJt;n<i.length;n++)for(var r=0,e=r$(i[n]);r<e.length;r++){var u=e[r];u.sYt&&!u.sYt.IKt&&(t+=u.sYt.ct)}return this.JJt&&this.JJt.zJt&&(t+=this.JJt.zJt.ct-this.JJt.zJt.ER),t}},{key:"ZJt",get:function(){for(var t=0,n=0,i=this.pQt.YJt;n<i.length;n++)for(var r=0,e=r$(i[n]);r<e.length;r++){var u=e[r];u.sYt&&(t+=u.sYt.ct)}return t}},{key:"wJt",get:function(){}}]),n}(u$),a$={height:0,width:0,clickThrough:"",contentHTML:"",resourceURI:"",altText:""},c$=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).e$t=!1,o.a$t=n,o.PYt=i,o.yYt=r,o.JJt=e,o.AKt=u,o.uQt=s,o}Rt(n,t);var i=n.prototype;return i.t$t=function(){return this.e$t},i.i$t=function(){this.e$t=!0},i.s$t=function(t){return ss({},a$,{resourceURI:t.cjt||""})},i.n$t=function(t){return ss({},a$,{contentHTML:t.cjt.trim(),type:"HTMLResource"})},i.r$t=function(t){var n,i;return ss({},a$,{clickThrough:(null==(n=t.QYt)?void 0:n.trim())||"",resourceURI:(null==(i=t.cjt)?void 0:i.trim())||"",altText:t.KYt||"",type:"StaticResource"})},i.o$t=function(t,n,i){if(t&&n){var r="<img "+(i?"title='"+i+"' ":"")+"src='"+encodeURI(t)+"'>";return"<a href='"+encodeURI(n)+"' target='_blank' rel='noopener'>"+r+"</a>"}},i.rYt=function(t){var n=this;return t?t.map((function(t){var i,r={adSlotId:t.GYt||"",height:t.Ti||0,width:t.ji||0};if(t.dYt){var e,u=n.r$t(t.dYt),s=u.clickThrough||(null==(e=t.zYt)?void 0:e.QYt);i=ss({},u,{contentHTML:n.o$t(u.resourceURI,s,u.altText)||""})}else if(t.mYt)i=n.n$t(t.mYt);else{if(!t._Yt)return;i=n.s$t(t._Yt)}return Mg(i,r)})).filter((function(t){return void 0!==t})):[]},i.h$t=function(){return this.a$t.jqt},xt(n,[{key:"sd",get:function(){return this.yYt}},{key:"wnt",get:function(){return this.uQt}},{key:"hYt",get:function(){return this.AKt}}]),n}(e$),h$=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,e,u,s,o)||this).u$t=r,a}Rt(n,t);var i=n.prototype;return i.ka=function(){var t=this.yYt,n={companions:this.rYt(this.PYt),type:"nonlinear",id:this.a$t.bYt,skipOffset:this.xKt,integration:this.uQt.integration,adSystem:this.a$t.jqt,get adBreak(){return t.int()},creativeId:this.a$t.bYt,universalAdIds:this.AKt.map((function(t){return{adIdRegistry:t.Ejt,adIdValue:t.Rjt}}))};return this.a$t._Yt?Mg(this.s$t(this.a$t._Yt),n):this.a$t.mYt?Mg(this.n$t(this.a$t.mYt),n):this.a$t.dYt?Mg(this.r$t(this.a$t.dYt),n):n},i.int=function(){var t;return null!=(t=this.eu)?t:this.eu=this.ka()},i.c$t=function(){var t,n;return null!=(n=null==(t=this.a$t.dYt)?void 0:t.cjt)?n:""},i.l$t=function(){var t,n,i;return null!=(i=null==(n=this.a$t)||null==(t=n.dYt)?void 0:t.djt)?i:""},xt(n,[{key:"oYt",get:function(){return this.a$t}},{key:"nYt",get:function(){return this.u$t}},{key:"xKt",get:function(){var t,n=this.a$t.sd;return n&&n.wnt&&void 0!==n.wnt.skipOffset?fQ.hQt(n.wnt.skipOffset,this.JJt.zJt.ct):(null==(t=this.a$t.sd)?void 0:t.xKt)||-1}}]),n}(c$),f$=function(t){function n(n,i,r,e,u,s){return t.call(this,n,i,r,e,u,s)||this}Rt(n,t);var i=n.prototype;return i.ka=function(){var t,n=this.yYt,i=this.a$t;return{companions:this.rYt(this.PYt),duration:i.ct,id:i.bYt,mediaFiles:i.TKt,get mediaUrl(){return i.CKt},skipOffset:this.xKt,type:"linear",integration:this.uQt.integration,adSystem:i.jqt,width:void 0,height:void 0,get adBreak(){return n.int()},clickThrough:null==(t=i._Kt)?void 0:t.QYt,creativeId:i.bYt,universalAdIds:this.AKt.map((function(t){return{adIdRegistry:t.Ejt,adIdValue:t.Rjt}})),closedCaptionFiles:i.DKt}},i.int=function(){var t;return null!=(t=this.eu)?t:this.eu=this.ka()},i.c$t=function(){return this.a$t.TKt.length>0?this.a$t.TKt[0].contentURL:""},i.l$t=function(){return this.a$t.TKt.length>0?this.a$t.TKt[0].type:""},xt(n,[{key:"sYt",get:function(){return this.a$t}},{key:"xKt",get:function(){var t=this.a$t.sd;return t&&t.wnt&&void 0!==t.wnt.skipOffset?fQ.hQt(t.wnt.skipOffset,this.JJt.zJt.ct):this.a$t.xKt||-1}}]),n}(c$);function v$(t){return t instanceof f$}U(),St();var l$=function(t){return t.d$t="csai",t.f$t="google-ima",t.Kh="google-dai",t._$t="freewheel",t.v$t="mediatailor",t.Cv="chromecast",t.Hst="theoads",t}({});U(),St(),Ct();var d$=function(t){function n(n){return t.call(this,"m$t",n)||this}return Rt(n,t),n.prototype.ka=function(){return new g$(this.lnt.int())},n}(iB),g$=function(t){function n(n){return t.call(this,"updatead",n)||this}return Rt(n,t),n}(rB);U(),St(),Ct();var m$=function(t){function n(n){return t.call(this,"g$t",n)||this}return Rt(n,t),n.prototype.ka=function(){return new w$(this.lnt.int())},n}(iB),w$=function(t){function n(n){return t.call(this,"adloaded",n)||this}return Rt(n,t),n}(rB),p$=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).w$t=[],e.p$t=void 0,e.a$t=void 0,e.eu=void 0,e.ih=function(t){var n;if(t){var i=e.RQt.AN,r=i.breakStatus,u=i.media,s=u.breakClips,o=u.breaks,a=null==(n=uJ(i))?void 0:n.media,c=[];o&&s&&e.S$t(o,s,a,c),e.x$t(r,c);for(var h=0;h<c.length;h++){var f=c[h];e._o(f)}}},e.na=n,e.RQt=i,e.b$t=r,e.RQt.MQt(e.ih),e}Rt(n,t);var i=n.prototype;return i.g6=function(t,n,i){throw new _("Scheduling ads while casting is not supported.")},i.MD=function(){this.RQt.ZQt()},i.ant=function(t){var n;null==(n=this.b$t)||n.ant(t)},i.ont=function(t,n){var i;null==(i=this.b$t)||i.ont(t,n)},i.A$t=function(t){return mo(this.w$t,(function(n){return n.o===t}))},i.S$t=function(t,n,i,r){for(var e=this.w$t,u=[],s=!1,o=0;o<t.length;o++){var a=t[o],c=this.A$t(a.id);void 0===c&&(c=new y$(a),r.push(new tB(c))),!Yn(c.T$t)&&Yn(i)&&(c.T$t=this.k$t(c.E$t,i));var h=c.zc;c.ir(a,n,i,r);for(var f=c.zc,v=0;v<f.length;v++){var l=f[v];To(h,l)||(r.push(new eB(l)),s=!0)}u.push(c)}this.w$t=u,s&&r.push(new dB);for(var d=0;d<e.length;d++){var g=e[d];To(u,g)||r.push(new QM(g))}},i.x$t=function(t,n){var i,r,e=this.p$t,u=this.a$t;if(t){var s,o=t.breakId,a=t.breakClipId;i=o?this.A$t(o):void 0,r=a?null==(s=this.p$t)?void 0:s.R$t(a):void 0}if(this.p$t=i,this.a$t=r,i!==e&&(void 0!==e&&(e.I$t=void 0,n.push(new sB(e))),void 0!==i&&(i.I$t=this.RQt,n.push(new aB(i)))),r!==u){var c=this.na.xR();void 0!==u&&n.push(new vB(u,c)),void 0!==r&&n.push(new hB(r,c))}},i.k$t=function(t,n){if(n&&n.breaks){var i=mo(n.breaks,(function(n){return n.id===t.id}));return i}},i.hnt=function(t){for(var n=[],i=0,r=this.w$t;i<r.length;i++){var e=r[i],u=e.zc;if(e===this.p$t&&void 0!==this.a$t){var s=u.indexOf(this.a$t);s>=0&&(u=u.slice(s))}else if(e.y$t())continue;for(var o=0;o<u.length;o++){var a=u[o].C$t();a&&n.push(a)}}for(var c=0;c<n.length;c++){var h=n[c];t.g6(h,zM.$st,!1)}},i.yn=function(){return this.Ro(),this.RQt.LQt(this.ih),void 0!==this.p$t&&(this.p$t.I$t=void 0,this.p$t=void 0),this.a$t=void 0,Eo(this.w$t),ut.resolve(void 0)},xt(n,[{key:"Vc",get:function(){return void 0!==this.p$t}},{key:"ent",get:function(){return this.a$t?[this.a$t]:[]}},{key:"snt",get:function(){var t;return null!=(t=this.p$t)?t:null}},{key:"nnt",get:function(){var t=this;return Ro(this.w$t,(function(n){var i=n.zc;if(n===t.p$t&&void 0!==t.a$t){var r=i.indexOf(t.a$t);if(r>=0)return i.slice(r+1)}return n.y$t()?[]:i}))}},{key:"rnt",get:function(){var t=this;return this.w$t.filter((function(n){return n===t.p$t||!n.y$t()}))}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=YM(this)}}]),n}(ha),y$=function(t){function n(n){var i;return(i=t.call(this)||this).T$t=void 0,i.Oc=[],i.I$t=void 0,i.P$t=n,i}Rt(n,t);var i=n.prototype;return i.y$t=function(){return this.P$t.isWatched},i.R$t=function(t){return mo(this.Oc,(function(n){return n.o===t}))},i.ir=function(t,n,i,r){for(var e,u=function(u){var o=t.breakClipIds[u],a=mo(n,(function(t){return t.id===o}));if(void 0===a)return"continue";var c=u<e.Oc.length?e.Oc[u]:new _$(a,e);!Yn(c.D$t)&&Yn(i)&&(c.D$t=e.N$t(i,o,u)),c.ir(a,r),s.push(c)},s=[],o=0;o<t.breakClipIds.length;o++)e=this,u(o);this.P$t=t,this.Oc=s},i.N$t=function(t,n,i){if(t&&t.breakClips){var r=mo(t.breakClips,(function(t){return t.id===n}));if(!r){var e,u=null==(e=this.T$t)?void 0:e.breakClipIds[i];u&&(r=mo(t.breakClips,(function(t){return t.id===u})))}return r}},xt(n,[{key:"E$t",get:function(){return this.P$t}},{key:"o",get:function(){return this.P$t.id}},{key:"zc",get:function(){return this.Oc}},{key:"aQt",get:function(){return l$.Cv}},{key:"ZJt",get:function(){var t=this.P$t.duration;return void 0===t&&this.Oc.length>0&&(t=wr(this.Oc,(function(t){return t.ct})),E(t)&&(t=void 0)),t}},{key:"XJt",get:function(){var t=this.ZJt;if(void 0!==t&&void 0!==this.I$t){var n=this.I$t.HQt();if(void 0!==n)return A.max(0,t-n)}return t}},{key:"eOt",get:function(){return this.P$t.position}},{key:"wJt",get:function(){}}]),n}(u$),_$=function(){function t(t,n){this.eu=void 0,this.L$t=t,this.sd=n}var n=t.prototype;return n.h$t=function(){return""},n.l$t=function(){var t;return null!=(t=this.L$t.contentType)?t:""},n.c$t=function(){var t,n;return null!=(n=null!=(t=this.L$t.contentUrl)?t:this.L$t.contentId)?n:""},n.ir=function(t,n){var i=this.o,r=this.ct,e=this.L$t.contentUrl;this.L$t=t;var u=this.o,s=this.ct,o=this.L$t.contentUrl;i===u&&(r===s||E(r)&&E(s))&&e===o||n.push(new d$(this)),E(r)&&!E(s)&&n.push(new m$(this))},n.C$t=function(){var t;return this.D$t&&(t=gQ(this.D$t,this.sd.eOt)),t||(t=gQ(this.L$t,this.sd.eOt)),t},n.int=function(){var t;return null!=(t=this.eu)?t:this.eu=this.ka()},n.ka=function(){var t=this;return{get companions(){return t.CYt},get duration(){return t.ct},get id(){return t.o},get mediaFiles(){return t.TKt},get mediaUrl(){return t.CKt},get closedCaptionFiles(){return[]},get skipOffset(){return t.xKt},type:"linear",integration:l$.Cv,get adSystem(){return t.h$t()},width:void 0,height:void 0,get adBreak(){return t.sd.int()},get resourceURI(){return t.c$t()},get clickThrough(){return t.QYt},get creativeId(){return t.bYt},get customData(){return t.wJt},get isSlate(){return!1},get universalAdIds(){return t.hYt.map((function(t){return{adIdRegistry:t.Ejt,adIdValue:t.Rjt}}))}}},xt(t,[{key:"M$t",get:function(){return this.L$t}},{key:"o",get:function(){return this.L$t.id}},{key:"CYt",get:function(){return[]}},{key:"ct",get:function(){var t;return null!=(t=this.L$t.duration)?t:NaN}},{key:"TKt",get:function(){var t=this.c$t();return t?[{contentURL:t,delivery:"progressive",type:this.l$t(),width:0,height:0}]:[]}},{key:"CKt",get:function(){return this.c$t()}},{key:"xKt",get:function(){var t=this.L$t.whenSkippable;return void 0===t?void 0:t<0?-1:t}},{key:"QYt",get:function(){return this.L$t.clickThroughUrl}},{key:"bYt",get:function(){}},{key:"hYt",get:function(){return[]}},{key:"wJt",get:function(){}}]),t}();U(),St(),Dt(),Ct();var b$=function(t){function n(n,i){var r;return void 0===i&&(i=qn.Ys.Qe),(r=t.call(this)||this).qe=!1,r.V$t=function(t){t.stopPropagation(),r._o(new fa("clickstart"))},r.W$t=function(t){t.stopPropagation(),r._o(new fa("click"))},r.sx=n,r.F$t=i,r.Vs=v.createElement("a"),r.Vs.style.position="absolute",r.Vs.style.zIndex="11",r.Vs.target="zu",r.F$t?(CP(r.Vs,"learn more"),r.Vs.className="theoplayer-ad-overlay-component theoplayer-ad-touch-clickthrough",r.Vs.setAttribute("rel","noopener")):bi(r.Vs),r.sx.appendChild(r.Vs),r.aW(),r}Rt(n,t);var i=n.prototype;return i.hW=function(){if(!this.qe){this.qe=!0,this.Vs.style.display="",this.F$t||(this.sx.style.cursor="pointer");var t=this.F$t?this.Vs:this.sx;qn.Ys.Qe?(t.addEventListener("touchstart",this.V$t),t.addEventListener("touchend",this.W$t)):(t.addEventListener("mousedown",this.V$t),t.addEventListener("click",this.W$t))}},i.aW=function(){if(this.qe){this.qe=!1,this.Vs.style.display="none",this.F$t||(this.sx.style.cursor="");var t=this.F$t?this.Vs:this.sx;qn.Ys.Qe?(t.removeEventListener("touchstart",this.V$t),t.removeEventListener("touchend",this.W$t)):(t.removeEventListener("mousedown",this.V$t),t.removeEventListener("click",this.W$t))}},i.Xw=function(){this.Ro(),this.aW(),this.sx.removeChild(this.Vs)},xt(n,[{key:"B$t",get:function(){return this.O$t},set:function(t){this.O$t!==t&&(this.O$t=t,this.Vs.href=null!=t?t:"",t?this.hW():this.aW())}}]),n}(aa);U(),St(),Dt(),Ct(),U(),St();var k$=[1200,992,768,576],A$={1200:"theo-size-xl",992:"theo-size-l",768:"theo-size-m",576:"theo-size-s"},T$=function(){function t(t,n){var i=this;this.Vs=t,this.Ku=n,this.gn=function(t){i.U$t(t.width)},this.G$t=S$(n.Au),gi(this.Vs,this.G$t),n.bn(wI.mn,this.gn)}var n=t.prototype;return n.U$t=function(t){var n=S$(t);n!==this.G$t&&(gi(this.Vs,n),mi(this.Vs,this.G$t),this.G$t=n)},n.yn=function(){this.Ku.vn(wI.mn,this.gn)},t}();function S$(t){for(var n=0;n<k$.length;n++){var i=k$[n];if(t>i)return A$[i]}return"theo-size-xs"}var E$=function(t){function n(n,i){var r;return(r=t.call(this)||this).q$t=function(){r._o(new fa("MD"))},r.Vs=v.createElement("div"),r.we.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",r.we.style.position="absolute",r.nd=v.createElement("span"),r.we.appendChild(r.nd),i&&(r.Y$t=v.createElement("div"),r.Y$t.className="theoplayer-ad-skip-poster",r.Y$t.style.backgroundImage='url("'+$s(i)+'")',r.we.appendChild(r.Y$t)),r.Xo="countdown",r.Yu=new T$(r.we,n),r}Rt(n,t);var i=n.prototype;return i.H$t=function(t){"countdown"!==this.Xo&&(this.Xo="countdown",this.Z$t(),this.we.classList.remove("theoplayer-ad-skip-button"),this.we.classList.add("theoplayer-ad-skip-countdown")),this.Ck="You can skip in "+A.round(t)+" seconds"},i.X$t=function(){"skip"!==this.Xo&&(this.Xo="skip",this.Ck="Skip Ad",this.z$t(),this.we.classList.remove("theoplayer-ad-skip-countdown"),this.we.classList.add("theoplayer-ad-skip-button"))},i.z$t=function(){this.we.addEventListener("mouseup",this.q$t),this.we.addEventListener("touchend",this.q$t)},i.Z$t=function(){this.we.removeEventListener("mouseup",this.q$t),this.we.removeEventListener("touchend",this.q$t)},i.yn=function(){this.Ro(),this.Z$t(),this.Yu.yn(),ai(this.Vs),ai(this.nd),this.Y$t&&ai(this.Y$t)},xt(n,[{key:"we",get:function(){return this.Vs}},{key:"CE",get:function(){return this.Xo}},{key:"Ck",get:function(){return this.nd.textContent||""},set:function(t){CP(this.nd,t)}}]),n}(aa),I$=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Pxt=BA.pB(),s.m0t=void 0,s.B4=!1,s.YG=void 0,s.a0t=void 0,s.O4=Ny.eO,s.w0t=!1,s.Uo=BA.pB(),s.v4=void 0,s.cZ=!1,s.cO=new im,s.dO=new im,s.Hl=new $p,s.lxt=NaN,s.v0t=void 0,s.h0t=!1,s._0t=NaN,s.d0t=void 0,s.e0t=0,s.R0t=function(t,n){switch(t){case"buffered":s.Pxt=new BA(n),s._o(new JR(s.xR()));break;case"currentProgramDateTime":s.m0t=new Date(n).getTime()-s.xR();break;case"played":s.Uo=new BA(n);break;case"seekable":s.n0t();break;case"videoHeight":s.l0t(void 0,n);break;case"videoWidth":s.l0t(n,void 0)}},s.F3=function(t){switch(t.type){case va.Jy:s.Ge(t.currentTime);break;case va.Qy:s.SH();break;case va.Ky:s._o(new sF(t.representation,t.previousRepresentation));break;case va.$y:s._o(new ML(t.segmentStartTime,t.error,t.trackType,t.track,t.quality,t.retryCount));break;case va.Py:s._o(new JW(t.currentTime,t.initDataType,t.initData));break;case va.Ty:s._o(new hD(new um(ul.CONTENT_PROTECTION_ERROR,t.error,void 0,t.licenseAcquisitionURL,t.status,t.statusText,t.licenseAcquisitionMessage,t.systemCode)));break;case va.Ey:s._o(new fD)}},s.vJt=function(t){s.n0t(),s.o0t(),s.nh(),s.u0t(),s.f0t(),s.s0t(),s.Q$t(),s.K$t(),s.y0t(),s.A0t(),s.k0t(),t||R$(s.RQt.AN)&&s.Ah()},s.pd=function(){s.f0t(),s.k0t()},s.I0t=function(t){s._o(t)},s.g0t=Ri((function(t){return s.h8(t)}),50),s.VQt=function(t){s.v0t=void 0,s._o(new wQ(t))},s.T0t=function(){s.EI()},s.x0t=function(){s.Oc.MD()},s.na=n,s.YNt=r,s.RQt=e,s.Oc=new p$(n,e,i.zc),s.EJt=u.CJt(),s.MA=u.jd()-s.EJt,s.dZ=u.jR(),s.fZ=u.JR(),s.RJt=u.mI(),s.IJt=u.fI(),s.RQt.DQt(s.F3),s.RQt.IQt(s.R0t),s.RQt.MQt(s.vJt),s.RQt.bn(mQ.EQt,s.I0t),s.RQt.BQt().then((function(t){s._o(new pQ(t.bt,t.Cc))}),s.VQt),s}Rt(n,t);var i=n.prototype;return i.K$t=function(){var t=this.RQt.AN.activeTrackIds;if(t){if(this.j$t()){var n=this.dO.lC.map((function(t){return t.o})),i=this.cO.lC.map((function(t){return t.o}));To(n.concat(i),"0")&&t.push(0)}D$(t,this.cO),D$(t,this.dO),function(t,n){for(var i=!1,r=0,e=n.lC;r<e.length;r++){var u=e[r];u.BJt=To(t,u.IC)?Hp.Qn:Hp.Mh}}(t,this.Hl)}},i.Q$t=function(){var t,n=null==(t=this.RQt.AN.media)?void 0:t.tracks;if(n){var i=n.filter(zQ),r=n.filter(YQ),e=n.filter(KQ);if(this.j$t()&&0===r.length&&0!==this.mI()){var u=this.J$t();r.push(u)}if(this.j$t()&&0===i.length){var s=this.$$t();i.push(s)}N$(this.cO,i.map((function(t){return t.trackId}))),N$(this.dO,r.map((function(t){return t.trackId}))),N$(this.Hl,e.map((function(t){return t.trackId}))),x$(i,this.cO),x$(r,this.dO),function(t,n){for(var i=!1,r=0;r<t.length;r++){var e=t[r],u=C$(n,e.trackId);u||(u=new qQ(e),n.tt(u),i=!0)}}(e,this.Hl)}},i.t0t=function(){this.dZ||(this.e0t=w(this.pd,250))},i.i0t=function(){p(this.e0t)},i.s0t=function(){this.i0t(),this.t0t()},i.n0t=function(){var t,n,i=this.RQt.AN,r=i.media,e=null!=(n=null==r?void 0:r.duration)?n:NaN,u=(null==r?void 0:r.streamType)===chrome.cast.media.StreamType.LIVE||e<0,s=u?1/0:e;this.MA=s,this.r0t();var o=i.getEstimatedLiveSeekableRange(),a=null==(t=i.customData)?void 0:t.buffers;if(Yn(o)){var c=o.start,h=o.end,f=o.isMovingWindow,v=void 0===f?u:f,l=o.isLiveDone,d=void 0!==l&&l;this.HFt(c,h,v,d)}else if(Yn(a)){var g=nn(a.seekable,2),m=g[0],w=g[1];this.HFt(m,w,u,!1)}else u?this.HFt(void 0,void 0,!0,!1):this.HFt(0,s,!1,!1)},i.o0t=function(){var t=this.RQt.AN,n=function(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.PAUSED}(t)||R$(t);this.h0t=n,this.dZ!==n&&(this.dZ=n,this.dZ?this._o(new yT(this.xR())):this._o(new _T(this.xR())))},i.nh=function(){var t=this.RQt.AN.playbackRate;this.a0t!==t&&(this.a0t=void 0,this.fZ!==t&&(this.fZ=t,this._o(new kT(this.xR(),t))))},i.u0t=function(){var t;switch(this.RQt.AN.playerState){case chrome.cast.media.PlayerState.IDLE:t=Ny.eO;break;case chrome.cast.media.PlayerState.BUFFERING:t=Ny.Xn;break;case chrome.cast.media.PlayerState.PAUSED:case chrome.cast.media.PlayerState.PLAYING:t=Ny.sO}this.V4(t),this.c0t()},i.HFt=function(t,n,i,r){Yn(t)&&Yn(n)?this.v4=new hN(t,n,i,i&&!r):this.v4=void 0},i.l0t=function(t,n){this.IJt=null!=n?n:this.IJt,this.RJt=null!=t?t:this.RJt,this._o(new Sy)},i.Ge=function(t){this.d0t!==t?(this.cZ=!0,this._o(new TT(this.xR()))):this.d0t=void 0},i.SH=function(){if(this.cZ){this.cZ=!1;var t=this.xR();this._o(new yg(t,this.AR())),this._o(new ST(t))}},i.Ah=function(){this.B4=!0,this.DR()&&this._o(new AT(this.xR()))},i.r0t=function(){var t=this.lxt,n=this.jd();t===n||E(t)&&E(n)||(this.lxt=n,this._o(new bT(n)))},i.f0t=function(){var t=this.xR();this.cZ||this._0t===t||(this._0t=t,this._o(new yg(t,this.AR())))},i.xJt=function(){this.dZ&&(this.dZ=!1,this._o(new _T(this.xR())),this.V4(Ny.eO))},i.Lst=function(){return this.Oc},i.yR=function(){return this.Pxt.xb(this.EJt)},i.xR=function(){if(this.Oc.Vc){var t=this.RQt.GQt();if(void 0!==t)return t}return this.Tst()},i.Tst=function(){return void 0!==this.v0t?this.EJt+this.v0t:this.B4?this.jd():this.EJt+this.RQt.UQt()},i.AR=function(){if(this.m0t)return new Date(this.Tst()+this.m0t)},i.jd=function(){if(this.Oc.Vc){var t,n=null==(t=this.Oc.ent[0])?void 0:t.ct;if(void 0!==n&&!E(n))return n}return this.EJt+this.MA},i.NR=function(){return this.YG},i.DR=function(){return!this.Oc.Vc&&this.B4},i.jR=function(){return this.dZ},i.JR=function(){return this.fZ},i.$R=function(t){this.fZ!==t&&(this.a0t=this.fZ,this.fZ=t,this._o(new kT(this.xR(),t)),this.RQt.$R(t))},i.oI=function(){return this.O4},i.eI=function(){return this.Oc.Vc?BA.gB(0,this.xR()):this.Uo.xb(this.EJt)},i.aI=function(){var t,n;if(this.Oc.Vc)return BA.pB();var i=null!=(n=null==(t=this.v4)?void 0:t.I3().xb(this.EJt))?n:BA.pB();if(i.V>0){var r=i.Tn(i.V-1);i=i.tB(BA.gB(r,this.xR()))}return i},i.cI=function(){return this.cZ},i.mR=function(){return this.cO},i._I=function(){return this.dO},i.lI=function(){return this.Hl},i.J$t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",frameRate:0,height:this.fI(),id:"0",name:"",width:this.mI()},enabled:!0,id:"0",kind:"main",label:"",language:"",qualities:[],uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:GQ.mE}},i.$$t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",id:"0",name:"",audioSamplingRate:0},qualities:[],enabled:!0,id:"0",kind:"main",label:"",language:"",uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:GQ.vE}},i.j$t=function(){var t,n;return!(void 0!==(null==(t=this.YNt.OQt())?void 0:t.version))||(null==(n=this.YNt.OQt())?void 0:n.sdkType)===n$.GJt},i.WQt=function(t){this.j$t()&&bo(t,0),this.RQt.WQt(t)},i.mI=function(){return this.RJt},i.fI=function(){return this.IJt},i.xI=function(){this.dZ&&(this.dZ=!1,this.h0t=!1,this._o(new _T(this.xR()))),this.RQt.xI()},i.EI=function(){this.dZ||(this.dZ=!0,this.h0t=!0,this._o(new yT(this.xR()))),this.RQt.EI()},i.Rb=function(t){if(!this.Oc.Vc){var n=A.max(0,t-this.EJt);n=A.round(1e6*n)/1e6;var i=this.v0t;this.v0t=n,this.h0t=this.jR(),this.d0t=n,this.cZ=!0,this._o(new TT(this.xR())),void 0===i&&(this.j$t()?this.g0t(n):this.h8(n))}},i.h8=function(t){this.RQt.Rb(t,this.h0t).then(this.p0t(t)).catch(this.VQt)},i.p0t=function(t){var n=this;return function(){void 0!==n.v0t&&(n.v0t===t?n.v0t=void 0:n.h8(n.v0t))}},i.V4=function(t){this.O4!==t&&(this.O4=t,this._o(new Cy(this.xR(),t))),void 0===this.v0t&&this.cZ&&t>=Ny.iO&&this.SH(),this.c0t()},i.c0t=function(){if(this.dZ)this.w0t=!1;else{var t=this.O4>=Ny.sO;this.w0t!==t&&(this.w0t=t,t?this._o(new Oy(this.xR())):this._o(new Py(this.xR())))}},i.y0t=function(){this.b0t||(this.b0t=v.createElement("div"),this.na.we.appendChild(this.b0t),this.b0t.className="theoplayer-ad-linear theoplayer-chromecast-ad",this.b0t.style.zIndex="10",bi(this.b0t)),this.b0t.style.display=this.Oc.Vc?"":"none"},i.A0t=function(){var t,n=null==(t=this.Oc.ent[0])?void 0:t.QYt;n&&!this.S0t?(this.S0t=new b$(this.b0t,!0),this.S0t.B$t=n,this.S0t.bn("clickstart",this.T0t)):this.S0t&&(this.S0t.B$t=n)},i.k0t=function(){var t,n=null==(t=this.Oc.ent[0])?void 0:t.xKt;if(void 0===n||n<0)this.E0t&&(this.E0t.yn(),this.E0t=void 0);else{if(!this.E0t){var i,r=null==(i=this.na.Ma)?void 0:i.mi;this.E0t=new E$(this.na.Hu,r),this.b0t.appendChild(this.E0t.we),this.E0t.bn("MD",this.x0t)}var e=this.RQt.GQt();void 0!==e&&(e<n?this.E0t.H$t(n-e):this.E0t.X$t())}},i.CJt=function(){return this.EJt},i.PJt=function(t){this.EJt=t},i.hnt=function(t){},i.RI=function(){this.RQt.RI()},i.yn=function(){this.Ro(),this.Oc.yn(),this.S0t&&(this.S0t.Xw(),this.S0t=void 0),this.E0t&&(this.E0t.yn(),this.E0t=void 0),this.b0t&&(ai(this.b0t),this.b0t=void 0),this.RQt.NQt(this.F3),this.RQt.PQt(this.R0t),this.RQt.LQt(this.vJt),this.RQt.vn(mQ.EQt,this.I0t),this.RQt.yn()},n}(aa);function R$(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.IDLE&&t.idleReason===chrome.cast.media.IdleReason.FINISHED}function C$(t,n){for(var i=0,r=t.lC;i<r.length;i++){var e=r[i];if(e.IC===n)return e}}function N$(t,n){for(var i=!1,r=0;r<t.V;r++){var e=t.fC(r);-1===n.indexOf(e.IC)&&(t.it(e),r--,i=!0)}return i}function x$(t,n){for(var i=!1,r=0;r<t.length;r++){var e=t[r],u=C$(n,e.trackId);u||(u=new t$(e),n.tt(u),i=!0)}return i}function D$(t,n){for(var i=0,r=n.lC;i<r.length;i++){var e=r[i];e.WJt=To(t,e.IC)}return!1}U(),St();var P$=function(){function t(){}var n=t.prototype;return n.Dnt=function(t){return ut.resolve("all")},n.kI=function(){},n.yn=function(){},t}();U(),St();var M$=60;function B$(t,n,i){return E(t)?i:t===1/0?"live"===i||"dvr"===i?i:n&&n.length>0&&n.end(n.length-1)-n.start(0)>M$?"dvr":"live":"vod"}var O$=[va.Dy,va.Iy,va.Yy,va.jy,va.zy,va.ho,va.qy,va.hb,va.Jy,va.Qy,Iy.WL,Iy.UL,va.Ky,va.$y,va.Py,va.Ty,va.Ey],L$=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).eo=!1,r.t1t=Si,r.RW=Ny.eO,r.bW=!1,r.kW=!1,r.B0t=!1,r.M0t=void 0,r.YG=void 0,r.KG=void 0,r.cO=new aA,r.dO=new aA,r.Hl=new cA,r.ea=new oS,r.lO=new hA,r.pst=new P$,r.K0t=void 0,r.j0t=void 0,r.Q0t=void 0,r.i1t=function(t){var n,i;(Yn(t.gI)&&!fr(t.gI,r.zA,1e-5)||Yn(t.ZR)&&t.ZR!==r.lZ)&&(r.zA=null!=(n=t.gI)?n:r.zA,r.lZ=null!=(i=t.ZR)?i:r.lZ,r._o(new ET(r.ER,r.zA)))},r.s1t=function(){var t=r.YNt.mJt();r.Vft=t?new I$(r,r.na,r.YNt,t,r.Fa):r.e1t()},r.D0t=function(t){r.aZ(t.bt),r.C0t(t.Cc)},r.n1t=function(t){var n=r.P0t(t.EN);if(n){var i={targetQualityIds:t.oJt};n.OJt(i)}},r.I0t=function(t){r.F0t(t.lt)},r.F0t=function(t){r.t1t&&r.t1t(t)},r.gMt=function(t){r.YG=t.lt,r.KG=fm(r.YG),r._o(new Ik(r.KG))},r.X0t=function(t){if(t.enabled)for(var n=0,i=(r.rt.lC.some((function(n){return n.IC===t.trackId}))?r.rt:r.ht).lC;n<i.length;n++){var e=i[n];e.Rt&&e.IC!==t.trackId&&(e.Rt=!1)}},r.z0t=function(t){if(t.mode===Hp.Qn)for(var n=0,i=r.nt.lC;n<i.length;n++){var e=i[n];e.CE===Hp.Qn&&e.IC!==t.trackId&&ry(e.Lt,t.track.Lt)&&(e.CE=Hp.Mh)}},r.K$t=Ri((function(){r.q0t()}),50),r.H0t=function(){var t,n,i=[],e=null!=(t=mo(r.ht.lC,(function(t){return z$(t,r.K0t)})))?t:mo(r.ht.lC,(function(t){return t.Rt}));e&&i.push(e.IC);var u,s=null!=(n=mo(r.nt.lC,(function(t){return z$(t,r.j0t)})))?n:mo(r.nt.lC,(function(t){return t.CE===Hp.Qn}));s&&i.push(s.IC);var o=null!=(u=mo(r.rt.lC,(function(t){return z$(t,r.Q0t)})))?u:mo(r.rt.lC,(function(t){return t.Rt}));o&&i.push(o.IC),0!==i.length&&r.Fa.WQt(i)},r.Apt=function(t){var n=r.J0t(t.targetQuality),i=t.track;r.YNt.hJt(i.IC,i.m3,n)},r.FW=function(t){r._o(t);var n=t.readyState;!r.bW&&r.RW===Ny.eO&&n>=Ny.Xn&&(r.bW=!0,r._o(new xy(t.currentTime))),!r.kW&&r.RW<=Ny.Xn&&n>=Ny.iO&&(r.kW=!0,r._o(new Dy(t.currentTime))),r.RW<=Ny.iO&&n>=Ny.sO&&r._o(new My(t.currentTime)),r.RW<=Ny.sO&&n===Ny.nO&&r._o(new By(t.currentTime)),r.RW=n},r.zA=r.na.gI,r.lZ=r.na.ZR,r.YNt=i,r.YNt.bn(NQ.EQt,r.I0t),r.YNt.bn(NQ.sJt,r.gMt),r.YNt.bn(NQ.ub,r.i1t),r.YNt.bn(NQ.iJt,r.s1t),r.YNt.bn(NQ.nJt,r.n1t),r.Oc=new mB(r),r.tZ=r.na.bt,r.Sc=r.na.iu(),r.Vft=new jQ(r,0,r.na.Tst(),r.na.jd(),r.na.PR,r.na.KR,r.na.QR,r.na.vI,r.na.dI),r.V0t(),r}Rt(n,t);var i=n.prototype;return i.aZ=function(t){t&&(Og(this.tZ&&Ug(this.tZ),t&&Ug(t))||(this.tZ=t,this._o(new FT(t))))},i.C0t=function(t){if(t){var n=mE(t,this.na.kd);Og(this.Sc&&Ug(this.Sc),n&&Ug(n))||(this.Fa.PJt(0),this.Sc=n,this._o(new WM(n)),this.Fa.xJt())}},i.P0t=function(t){for(var n=0,i=this.rt.lC;n<i.length;n++){var r=i[n];if(r.IC===t)return r}for(var e=0,u=this.ht.lC;e<u.length;e++){var s=u[e];if(s.IC===t)return s}},i.Lst=function(){return this.Oc},i.Bst=function(){return this.pst},i.mR=function(){return this.cO},i.yR=function(){return this.Fa.yR().ks()},i.$n=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return t?[4,i.gJt(t,null!=(r=t.ads)?r:[],t.streamType,NaN,0,null!=n?n:0)]:[2];case 1:return e.sent(),[2]}}))}))()},i.L0t=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return(r=null!=(i=n.M0t)?i:n.Sc)?(u=n.M0t?null!=(e=n.M0t.ads)?e:[]:n.Tnt(),s=n.na.jd(),o=n.na.aI(),a=B$(s,o,r.streamType),c=o.length>0?o.start(0):0,h=null!=t?t:n.Tst(),[4,n.gJt(r,u,a,s,c,h)]):[2];case 1:return f.sent(),[2]}}))}))()},i.Tnt=function(){var t=new pB;return this.Oc.hnt(t),t.Tnt()},i.AR=function(){return this.Fa.AR()},i.kR=function(){return this.tZ},i.xR=function(){return this.Fa.xR()},i.Tst=function(){return this.Fa.Tst()},i.RR=function(t,n){this.B0t||(this.YNt.mJt()||this.B0t||!this.Sc?this.Fa.Rb(t):this.$n(this.Sc,t))},i.jd=function(){return this.Fa.jd()},i.DR=function(){return this.Fa.DR()},i.NR=function(){return this.YG},i.LR=function(){return this.KG},i.FR=function(){return this.lO},i.HR=function(){return this.na.GR},i.XR=function(){return this.lZ},i.zR=function(t){this.lZ=t,this._o(new ET(this.ER,this.gI)),this.YNt.zR(t)},i.jR=function(){return this.Fa.jR()},i.JR=function(){return this.Fa.JR()},i.$R=function(t){this.Fa.$R(t)},i.eI=function(){return this.Fa.eI().ks()},i.sI=function(){return iS.JB},i.nI=function(t){},i.oI=function(){return this.Fa.oI()},i.aI=function(){return this.Fa.aI().ks()},i.cI=function(){return this.Fa.cI()},i.iu=function(){return this.Sc},i.Ca=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Sc=t,[4,n.$n(t)];case 1:return i.sent(),n.M0t=void 0,n.Fa.xJt(),[2]}}))}))()},i.lI=function(){return this.Hl},i.fI=function(){return this.Fa.fI()},i.mI=function(){return this.Fa.mI()},i._I=function(){return this.dO},i.pI=function(){return this.zA},i.wI=function(t){this.zA=t,this._o(new ET(this.ER,this.gI)),this.YNt.wI(t)},i.TI=function(){},i.SI=function(){return this.ea},i.kI=function(){},i.xI=function(){this.YNt.mJt()||this.B0t||!this.Sc?this.Fa.xI():this.$n(this.Sc)},i.EI=function(){this.Fa.EI()},i.pr=function(){this.eo=!0},i.dr=function(){this.tZ=void 0,this.eo=!1},i.ge=function(){},i.be=function(){},i.gJt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:s.B0t=!0,s.O0t(),s.Fa.PJt(e),a=function(t,n,i){return{theoplayer_version:1,streamStart:t,isLive:n,sourceDescription:i}}(e,o="live"===i||"dvr"===i,t),c={pJt:t,zc:n,ER:A.max(0,u-e),ct:r,a0:o?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED,wJt:a},f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,s.YNt.gJt(c)];case 2:return f.sent(),[3,5];case 3:return h=f.sent(),s.F0t(h),[3,5];case 4:return s.B0t=!1,[7];case 5:return[2]}}))}))()},i.V0t=function(){this.W0t(this.cO),this.W0t(this.dO),this.U0t(this.Hl)},i.W0t=function(t){for(var n=this,i=0,r=t.lC;i<r.length;i++){var e=r[i];this.G0t(e)}t.bn(Tg.VI,(function(t){n.G0t(t.Ht),n.H0t()}))},i.U0t=function(t){for(var n=this,i=0,r=t.lC;i<r.length;i++){var e=r[i];this.Z0t(e)}t.bn(Tg.VI,(function(t){n.Z0t(t.Ht),n.H0t()}))},i.G0t=function(t){t.bn(ZQ.NJt,this.Apt),t.bn(ZQ.MJt,this.X0t),t.bn(ZQ.MJt,this.K$t)},i.Z0t=function(t){t.bn(ZQ.DJt,this.z0t),t.bn(ZQ.DJt,this.K$t)},i.q0t=function(){for(var t=[],n=0,i=this.rt.lC;n<i.length;n++){var r=i[n];r.Rt&&t.push(r.IC)}for(var e=0,u=this.ht.lC;e<u.length;e++){var s=u[e];s.Rt&&t.push(s.IC)}for(var o=0,a=this.nt.lC;o<a.length;o++){var c=a[o];c.CE===Hp.Qn&&t.push(c.IC)}this.Fa.WQt(t)},i.Y0t=function(t,n,i){this.K0t=t,this.j0t=n,this.Q0t=i},i.J0t=function(t){var n,i;return!!t&&((null!=(i=null==(n=this.YNt.OQt())?void 0:n.version)?i:-1)>=2?t.map((function(t){return t.o})):[t[0].o])},i.$0t=function(t){this.t1t=t},i.NI=function(){},i.MI=function(){},i.OI=function(t){throw new y("Can't add a track while casting.")},i.RI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.Fa.RI(),t.O0t(),[2]}))}))()},i.O0t=function(){this.RW=Ny.eO,this.bW=!1,this.kW=!1,this.YG=void 0,this.KG=void 0},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.O0t(),t.Ro(),t.Vft=t.e1t(),t.YNt.vn(NQ.EQt,t.I0t),t.YNt.vn(NQ.sJt,t.gMt),t.YNt.vn(NQ.ub,t.i1t),t.YNt.vn(NQ.iJt,t.s1t),t.YNt.vn(NQ.nJt,t.n1t),t.YNt.yn(),[2]}))}))()},i.e1t=function(){return new jQ(this,this.Fa.CJt(),this.Fa.xR(),this.Fa.jd(),this.Fa.DR(),this.Fa.jR(),this.Fa.JR(),this.Fa.mI(),this.Fa.fI())},xt(n,[{key:"Vft",get:function(){return this.Fa},set:function(t){var n=this.Fa;n&&(n.vn(mQ.EQt,this.I0t),n.vn(mQ.xQt,this.D0t),n.vn(O$,this.Ds),n.vn(Iy.iC,this.FW),t.PJt(n.CJt()),n.hnt(t.Lst())),this.Fa=t,this.cO.vC=t.mR(),this.dO.vC=t._I(),this.Hl.vC=t.lI(),this.Oc.vC=t.Lst(),n&&n.yn(),t.bn(mQ.EQt,this.I0t),t.bn(mQ.xQt,this.D0t),t.bn(O$,this.Ds),t.bn(Iy.iC,this.FW)}},{key:"so",get:function(){return this.eo}},{key:"zc",get:function(){return this.Lst()}},{key:"N0t",get:function(){return this.M0t||this.Sc},set:function(t){this.M0t=t}},{key:"ER",get:function(){return this.xR()},set:function(t){this.RR(t)}},{key:"AI",get:function(){return!1},set:function(t){}}]),n}(zk);U(),St(),Ct();var F$=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=n,i}return Rt(n,t),n.prototype.ka=function(){return new V$(this.lt)},n}(_g),V$=function(t){function n(n){var i;return(i=t.call(this,"error")||this).error=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var U$=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return Rt(n,t),n}(fa);function W$(t,n){var i=void 0;return{get casting(){return t.uQ},get error(){return t.lt},get receiverName(){return t.r1t},get state(){return t.Vft},start:function(){t.Sn()},stop:function(){t.RI()},join:function(){t.o1t()},leave:function(){t.h1t()},set connectionCallback(t){null==n||n.a1t(t)},get connectionCallback(){return null==n?void 0:n.u1t()},get source(){return i||t.Cc},set source(n){i=n,t.Cc=n},addEventListener:function(n,i){var r=zg(n,Gg);t.bn(r,i)},removeEventListener:function(n,i){var r=zg(n,Gg);t.vn(r,i)}}}U(),St();var j$=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).YG=void 0,u.eu=void 0,u.na=void 0,u.Fa=zS.UNAVAILABLE,u.f1t=!1,u.vW=new Qo,u.C1t=function(){u.c1t.bn(VQ.kJt,u.I1t),u.Vft=u.c1t.P1t()},u.I1t=function(t){var n=t.Vft;u.Vft=n,n!==zS.UNAVAILABLE&&n!==zS.AVAILABLE||u.w1t(!1).catch(u.X6)},u.M0t=void 0,u.X6=function(t){jo(t)||t instanceof Yq&&(u.YG=t,u._o(new F$(t).wa))},u.gj=n,u.d1t=i,u.c1t=e,u.MT=r.chromecast,u.v1t=zo(u.c1t.xj(u.MT,u.vW.Uw),u.vW),u.v1t.then(u.C1t).catch(u.X6),u}Rt(n,t);var i=n.prototype;return i._1t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(!t.v1t)throw new y("Chromecast must be initialized before starting a session");return[4,t.v1t];case 1:return n.sent(),t.c1t.l1t()?[3,3]:[4,t.c1t.m1t()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))()},i.Sn=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:t.f1t=!0,e.label=1;case 1:return e.trys.push([1,5,,6]),t.Vft=zS.CONNECTING,[4,t._1t()];case 2:return e.sent(),[4,t.g1t()];case 3:return e.sent(),t.na&&(n=t.d1t.iu(),i=t.c1t.p1t(n),t.na.N0t=i?mE(i,t.d1t.kd):t.M0t,t.na.L0t()),t.Vft=zS.CONNECTED,[4,t.d1t.RI()];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),t.w1t(!1).catch(Si),t.Vft=zS.AVAILABLE,jo(r)||t.X6(r),[3,6];case 6:return[2]}}))}))()},i.o1t=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:t.f1t=!0,e.label=1;case 1:return e.trys.push([1,5,,7]),t.Vft=zS.CONNECTING,[4,t._1t()];case 2:return e.sent(),[4,t.g1t()];case 3:return e.sent(),t.na&&(n=t.d1t.iu(),(i=t.c1t.y1t(n))&&(t.na.N0t=mE(i,t.d1t.kd))),t.Vft=zS.CONNECTED,[4,t.d1t.RI()];case 4:return e.sent(),[3,7];case 5:return r=e.sent(),[4,t.w1t(!0).catch(Si)];case 6:return e.sent(),t.Vft=zS.AVAILABLE,jo(r)||t.X6(r),[3,7];case 7:return[2]}}))}))()},i.b1t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.c1t.l1t()?[4,t.Sn()]:[2];case 1:return n.sent(),[2]}}))}))()},i.g1t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return null!=t.na||(t.na=t.A1t()),t.YG=void 0,t.d1t.EI(),[4,t.gj.S1t(t.na)];case 1:return n.sent(),[2]}}))}))()},i.A1t=function(){var t=new L$(this.d1t,this.c1t.l1t());return t.$0t(this.X6),t},i.T1t=function(){this.na&&(this.na.yn(),this.na=void 0)},i.w1t=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:if(n.f1t=!1,!n.na)return[2];i=n.na.so,r=n.na.iu(),e=n.na.Tst(),s.label=1;case 1:return s.trys.push([1,,4,5]),i?(null!=(u=t?n.c1t.k1t(r):n.c1t.E1t(r))||(u=r),[4,n.gj.x1t(u,u===r)]):[3,3];case 2:s.sent(),n.d1t.RR(e),n.d1t.xI(),s.label=3;case 3:return[3,5];case 4:return n.T1t(),[7];case 5:return[2]}}))}))()},i.h1t=function(){this.uQ&&(this.c1t.R1t(!1),this.w1t(!0).catch(this.X6))},i.RI=function(){this.uQ&&(this.c1t.R1t(!0),this.w1t(!1).catch(this.X6))},i.yn=function(){this.vW.jw(),this.c1t.vn(VQ.kJt,this.I1t),this.Ro(),this.T1t()},xt(n,[{key:"uQ",get:function(){return this.Vft===zS.CONNECTING||this.Vft===zS.CONNECTED}},{key:"lt",get:function(){return this.YG}},{key:"wa",get:function(){return this.eu||(this.eu=W$(this,this.c1t)),this.eu}},{key:"r1t",get:function(){var t;return null==(t=this.c1t.l1t())?void 0:t.bJt()}},{key:"Cc",get:function(){return this.na?this.na.N0t:this.M0t},set:function(t){this.M0t=t?mE(t,this.d1t.kd):void 0,this.na&&(this.na.N0t=this.M0t,this.M0t&&this.na.$n(this.M0t))}},{key:"Vft",get:function(){return this.Fa},set:function(t){var n=t;this.f1t||n!==zS.CONNECTING&&n!==zS.CONNECTED||(n=zS.AVAILABLE),this.Fa!==n&&(this.Fa=n,this._o(new U$(this.Vft)))}}]),n}(ha);U(),St(),Dt(),Ct();var Z$=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.o1t=function(){qn.Vp("Joining a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.h1t=function(){qn.Vp("Leaving a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.Sn=function(){qn.Vp("Starting a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.RI=function(){qn.Vp("Stopping a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.b1t=function(){return ut.resolve()},i.yn=function(){},xt(n,[{key:"uQ",get:function(){return!1}},{key:"lt",get:function(){}},{key:"r1t",get:function(){}},{key:"Cc",get:function(){},set:function(t){}},{key:"Vft",get:function(){return zS.UNAVAILABLE}},{key:"wa",get:function(){return this.eu||(this.eu=W$(this)),this.eu}}]),n}(ha);function X$(t){return{bt:t.bt,ER:t.xR(),ct:t.jd(),PR:t.PR,lt:t.NR(),MR:t.LR(),ZR:t.ZR,KR:t.KR,QR:t.QR,rI:t.rI,uI:t.uI,dI:t.dI,vI:t.vI,gI:t.gI}}U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var G$=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).cO=new aA,r.dO=new aA,r.Hl=new cA,r.lO=new dA,r.uO=new XT(n.fH),r.cO.vC=n.ht,r.dO.vC=n.rt,r.Hl.vC=n.nt,r.lO.vC=n.OR,r.Oc=new mB(r),r.Oc.vC=n.zc,r}Rt(n,t);var i=n.prototype;return i.Lst=function(){return this.Oc},i.mR=function(){return this.cO},i.FR=function(){return this.lO},i.ja=function(){return this.uO},i.lI=function(){return this.Hl},i._I=function(){return this.dO},i.switchContexts=function(t){this.na=t,this.cO.vC=t.ht,this.dO.vC=t.rt,this.Hl.vC=t.nt,this.uO.vC=t.fH,this.lO.vC=t.OR,this.Oc.vC=t.zc},i.D1t=function(t){this.na!==t&&(this.iZ(),this.switchContexts(t),this.eZ())},i.fO=function(t){if(this.na!==t){var n;this.iZ(),this.Ust&&(n=X$(this));var i=this.kR(),r=this.SI(),e=this.TI();if(this.switchContexts(t),void 0!==n)OT(this,n,X$(this));var u=this.kR();u!==i&&this._o(new FT(u)),this.SI()!==r&&this._o(new VT),this.TI()!==e&&this._o(new UT),this.eZ()}},i.yn=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.yn.call(i,n)];case 1:return r.sent(),i.uO.yn(n),i.cO.yn(n),i.dO.yn(n),i.Hl.yn(n),i.lO.yn(),[4,i.Oc.yn(n)];case 2:return r.sent(),[2]}}))}))()},xt(n,[{key:"OR",get:function(){return this.FR()}}]),n}(zk),H$=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Yo=new gl,r.V1t=void 0,r.SEt=void 0,r.W1t=void 0,r.G1t=function(t){var n=t.Ht;z$(r.V1t,n)&&(n.Rt=!0)},r.H1t=function(t){var n=t.Ht;z$(r.SEt,n)&&(n.CE=Hp.Qn)},r.Z1t=function(t){var n=t.Ht;z$(r.W1t,n)&&(n.Rt=!0)},r.F1t=function(){r.O1t.ht.vn(Tg.VI,r.G1t),r.O1t.nt.vn(Tg.VI,r.H1t),r.O1t.rt.vn(Tg.VI,r.Z1t)},r.O1t=n,r.kd.cast.strategy!==mA.DISABLED?r.N1t=new j$(r,n,r.kd.cast,i):r.N1t=new Z$,r.Iz.mQ(r.N1t),r}Rt(n,t);var i=n.prototype;return i.iu=function(){var n=t.prototype.iu.call(this);return!n&&this.N1t.uQ&&this.N1t.Cc?this.N1t.Cc:n},i.Ca=function(n,i){var r=this;return this.Yo.Qo((function(i){return r.M1t=new Qo,r.M1t.Qw(i),zo(t.prototype.Ca.call(r,n,r.M1t.Uw),r.M1t)}),i)},i.xI=function(){t.prototype.xI.call(this),this.kd.cast.strategy!==mA.AUTO||this.N1t.uQ||this.N1t.b1t()},i.S1t=function(t){var n=this;return this.Yo.Qo((function(i){return n.L1t(t,i)}))},i.x1t=function(t,n){var i=this;return void 0===t&&(t=void 0),void 0===n&&(n=!1),this.Yo.Qo((function(r){return i.B1t(t,n,r)}))},i.L1t=function(t,n){Zo(n),this.O1t.zc&&this.O1t.zc.hnt(t.zc),this.F1t(),this.V1t=mo(this.O1t.ht.lC,(function(t){return t.Rt})),this.SEt=mo(this.O1t.nt.lC,(function(t){return"showing"===t.CE})),this.W1t=mo(this.O1t.rt.lC,(function(t){return t.Rt})),this.U1t=t,this.U1t.Y0t(this.V1t,this.SEt,this.W1t),this.fO(t),this.U1t.pr()},i.B1t=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:if(Zo(i),void 0===(e=r.U1t))return[2];s.label=1;case 1:return s.trys.push([1,5,6,7]),t?[4,r.O1t.RI()]:[3,4];case 2:return s.sent(),Zo(i),u=mE(t,r.O1t.kd),n&&(u.ads=void 0),r.M1t=new Qo,r.M1t.Qw(i),[4,zo(r.O1t.Ca(u,r.M1t.Uw),r.M1t)];case 3:s.sent(),s.label=4;case 4:return n&&r.O1t.zc&&e.zc.hnt(r.O1t.zc),[3,7];case 5:return Go(s.sent()),[3,7];case 6:return e.dr(),r.fO(r.O1t),r.V1t=mo(r.U1t.ht.lC,(function(t){return t.Rt})),r.SEt=mo(r.U1t.nt.lC,(function(t){return"showing"===t.CE})),r.W1t=mo(r.U1t.rt.lC,(function(t){return t.Rt})),r.O1t.ht.bn(Tg.VI,r.G1t),r.O1t.nt.bn(Tg.VI,r.H1t),r.O1t.rt.bn(Tg.VI,r.Z1t),r.O1t.bn(Iy.VL,r.F1t),r.U1t===e&&(r.U1t=void 0),[7];case 7:return[2]}}))}))()},i.RI=function(){var n,i=this;return this.V1t=void 0,this.SEt=void 0,this.W1t=void 0,this.F1t(),null==(n=this.M1t)||n.jw(),this.Yo.Qo((function(){return t.prototype.RI.call(i)}))},i.yn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return null==(i=n.M1t)||i.jw(),n.N1t.yn(),[4,n.x1t()];case 1:return r.sent(),[4,n.Yo.yn()];case 2:return r.sent(),[4,t.prototype.yn.call(n)];case 3:return r.sent(),[2]}}))}))()},n}(G$);function z$(t,n){return void 0!==t&&void 0!==n&&(t.gs===n.gs&&n.Ch===t.Ch)}U(),St(),Gt(),Dt(),Jt();var Y$=function(){function t(t){this.v1t=void 0,this.eu=void 0,this.c1t=t}var n=t.prototype;return n.xj=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.v1t||(n.v1t=n.K1t(t)),[4,n.v1t];case 1:return i.sent(),[2]}}))}))()},n.K1t=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.c1t.xj(t)];case 1:return i.sent(),[2]}}))}))()},n.m1t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(!t.v1t)throw new y("Chromecast must be initialized before starting a session");return[4,t.v1t];case 1:return n.sent(),t.c1t.l1t()?[3,3]:[4,t.c1t.m1t()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))()},n.j1t=function(){this.c1t.R1t(!1)},n.Y1t=function(){this.c1t.R1t(!0)},xt(t,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{initialize:function(n){var i=t.xj(wA(n));return i.catch(Si),i},startSession:function(){var n=t.m1t();return n.catch(Si),n},endSession:function(){t.Y1t()}}}(this)),this.eu}}]),t}();var K$=new WQ,q$=new Y$(K$),J$={get chromecast(){return q$.wa}};$k((function(t){return new H$(t,K$)}),Yk.Zst),U(),St(),U(),St(),U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Gt(),Jt();var Q$=function(){function t(t){this.o2t=t,this.i2t=as(),this.n2t=as()}var n=t.prototype;return n.Q1t=function(t,n,i,r){var e=this;t.xZ.forEach((function(t){if(!e.J1t(t.$1t)){var u=t.t2t(n,i,r);u&&e.e2t(u)}}))},n.J1t=function(t){return this.i2t.get(t)},n.e2t=function(t){this.i2t.set(t.s2t,t),this.n2t.set(t.s2t,t.r2t),this.o2t.ru(t.h2t)},n.ant=function(t){this.n2t.has(t.s2t)||(this.n2t.set(t.s2t,t),this.o2t.ru(t.h2t))},n.a2t=function(t){return this.n2t.forEach(t)},n.u2t=function(t){return this.i2t.forEach(t)},n.c2t=function(t){var n=!1;return this.i2t.forEach((function(i){n=i.c2t(t)||n})),n},n.yn=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return n=[],t.i2t.forEach((function(t){return n.push(t.yn())})),t.n2t.forEach((function(t){return n.push(t.yn())})),[4,ut.all(n)];case 1:return i.sent(),t.i2t.clear(),t.n2t.clear(),[2]}}))}))()},t}();U(),St(),Ct();var $$=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"f2t")||this).Ajt=n,u.wb=i,u.Gb=r,u.Cc=e,u}return Rt(n,t),n.prototype.ka=function(){return new t0(this.Ajt,this.wb,this.Gb,this.Cc)},n.l2t=function(t){return new n(nQ.GENERAL,t.wb,t.Tjt)},n.d2t=function(t,i){return new n(t.Ajt,t.message,t.Tjt,i)},n}(_g),t0=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"aderror")||this).problemType=n,u.message=i,u.errorCode=r,u.source=e,u}return Rt(n,t),n}(fa),n0=function(t){function n(n){var i;return(i=t.call(this)||this).p2t=!1,i.X9=!1,i.eu=void 0,i.A2t=function(t){if(i.p2t){var n=new om(sm.ADVERTISEMENT_ERROR,t.wb),r=new ol(ul.AD_BLOCKER_DETECTED,t.wb+" Turn off your AdBlocker and try again.",n);i.y2t.BH(r)}},i.Mit=function(){i.X9=!0},i.y2t=n,i.v2t=new Q$(i),i.bn("f2t",i.A2t),n.bn(va.ho,i.Mit),i}Rt(n,t);var i=n.prototype;return i.hnt=function(t){this.m2t((function(n){n.hnt(t)}))},i.g6=function(t,n,i){try{this.p2t=i;var r=RS.Vg.IZ(t);if(r.$1t===l$.Hst)return;var e=this.v2t.J1t(r.$1t);if(!e)throw new tQ(nQ.ADBLOCK,void 0,"Ads could not be loaded.");n!==zM.tnt&&this.X9||this.y2t.w2t(e),r.g6(t,n,e,this.p2t)}catch(n){0,this._o($$.d2t(n,t.sources))}},i.MD=function(){this.m2t((function(t){t.MD()}))},i.ant=function(t){this.v2t.ant(t)},i.ont=function(t,n){return this.y2t.ont(t,n)},i.b2t=function(t){this.v2t.u2t((function(n){n.b2t(t)}))},i.c2t=function(t){return this.v2t.c2t(t)},i.m2t=function(t){return this.v2t.a2t(t)},i.kI=function(){this.v2t.u2t((function(t){return t.kI()}))},i.nr=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.X9=!1,n=[],t.v2t.u2t((function(t){return n.push(t.RI())})),[4,ut.all(n)];case 1:return i.sent(),[2]}}))}))()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),[4,t.v2t.yn()];case 1:return n.sent(),t.y2t.vn(va.ho,t.Mit),t.vn("f2t",t.A2t),[2]}}))}))()},xt(n,[{key:"_2t",get:function(){return this.v2t}},{key:"Vc",get:function(){var t=!1;return this.m2t((function(n){t=t||n.g2t})),t}},{key:"ent",get:function(){var t=[];return this.m2t((function(n){var i,r=n.ent;r.length&&(i=t).push.apply(i,Ut(r))})),t}},{key:"snt",get:function(){var t=null;return this.m2t((function(n){null!=t||(t=n.snt)})),t}},{key:"nnt",get:function(){var t=[];return this.m2t((function(n){var i;(i=t).push.apply(i,Ut(n.nnt))})),t}},{key:"rnt",get:function(){var t=[];return this.m2t((function(n){var i;(i=t).push.apply(i,Ut(n.rnt))})),t}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=YM(this)}}]),n}(UI);U(),St(),Gt(),Dt(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var i0=function(t){function n(n){var i;return(i=t.call(this)||this).dQt=n,i.Oc=[],i.S2t=-1,i.T2t=-1,i.k2t=void 0,i.x2t=!1,i}Rt(n,t);var i=n.prototype;return i.E2t=function(){this.x2t=!0},i.R2t=function(t){this.Oc.push(t),this.x2t=!1},i.I2t=function(t){bo(this.Oc,t)},xt(n,[{key:"zc",get:function(){return this.Oc}},{key:"ZJt",get:function(){return this.S2t},set:function(t){this.S2t=t}},{key:"XJt",get:function(){return this.T2t},set:function(t){this.T2t=t}},{key:"eOt",get:function(){return this.dQt},set:function(t){this.dQt=t}},{key:"wJt",get:function(){return this.k2t}},{key:"tI",get:function(){return this.x2t}}]),n}(u$),r0=function(t){function n(n,i){var r;return(r=t.call(this,i.timeOffset)||this).P2t=[],r.C2t=n,r.ir(i),r}Rt(n,t);var i=n.prototype;return i.ir=function(t){void 0!==t.maxDuration&&(this.S2t=t.maxDuration),void 0!==t.customData&&(this.k2t=t.customData)},i.D2t=function(t){var n=this.Oc.indexOf(t);return n>=0&&n<this.Oc.length-1},i.R2t=function(n){t.prototype.R2t.call(this,n),this.P2t.push(n)},i.N2t=function(t){bo(this.P2t,t)},i.I2t=function(n){t.prototype.I2t.call(this,n),bo(this.P2t,n)},xt(n,[{key:"aQt",get:function(){return this.C2t}},{key:"nnt",get:function(){return this.P2t}}]),n}(i0);U(),St(),Dt(),Ct(),Wt(),U(),St(),Dt(),Ct();var e0=function(t){return t.Mjt="linear",t.M2t="nonlinear",t.iE="unknown",t}({}),u0=function(t){return t.NONE="none",t.READY="ready",t}({}),s0=function(t){function n(n,i){var r;return(r=t.call(this)||this).V2t=i,r.zS=void 0,r.RKt=void 0,r.YA=void 0,r.KA=void 0,r.MA=void 0,r.AKt=[],r.PYt=[],r.B2t="none",r.k2t=void 0,r.U2t=!1,r.sd=n,r}Rt(n,t);var i=n.prototype;return i.L2t=function(t,n,i,r,e,u){this.zS=t,this.YA=n,this.KA=i,this.MA=r,this.PYt=e,this.RKt=u,this.B2t="ready"},i.int=function(){var t;return null!=(t=this.eu)?t:this.eu=this.ka()},i.h$t=function(){},i.l$t=function(){return""},i.c$t=function(){return this.G2t},xt(n,[{key:"O2t",get:function(){return this.B2t}},{key:"CYt",get:function(){return this.PYt}},{key:"ct",get:function(){return this.MA}},{key:"Ti",get:function(){return this.KA}},{key:"o",get:function(){return this.zS}},{key:"xKt",get:function(){return this.RKt}},{key:"ji",get:function(){return this.YA}},{key:"F2t",get:function(){return this.V2t}},{key:"QYt",get:function(){return this.JYt}},{key:"bYt",get:function(){return this.AYt}},{key:"hYt",get:function(){return this.AKt}},{key:"wJt",get:function(){return this.k2t}},{key:"W2t",get:function(){return this.U2t}}]),n}(e$);function o0(t){return{get adSystem(){return t.h$t()},get readyState(){return t.O2t},get adBreak(){return t.sd.int()},get duration(){return t.ct},get companions(){return t.CYt.map((function(t){return t.wa}))},get resourceURI(){return t.c$t()},get clickThrough(){return t.QYt},get width(){return t.ji},get type(){return function(t){switch(t){case"linear":case"unknown":return"linear";case"nonlinear":return"nonlinear"}}(t.F2t)},get height(){return t.Ti},get id(){return t.o},get skipOffset(){return t.xKt},get integration(){return t.aQt},get creativeId(){return t.bYt},get universalAdIds(){return t.hYt},get customData(){return t.wJt},get isSlate(){return t.W2t}}}U(),St(),Dt();var a0=function(){function t(t){var n;this.eu=void 0,this.JYt=void 0,this.G2t=void 0,this.HYt=t.GYt,this.YA=t.ji,this.KA=t.Ti,this.Z2t=t.H2t,this.JYt=t.QYt,this.G2t=t.cjt,this.jYt=null!=(n=t.KYt)?n:"",this.X2t(t)}return t.prototype.X2t=function(t){if(!t.QYt||!t.cjt){var n=function(t){try{return MJ(t,"text/html")}catch(t){return}}(t.H2t);n&&(this.JYt=c0(n,"a","href"),this.G2t=c0(n,"img","src"))}},xt(t,[{key:"GYt",get:function(){return this.HYt}},{key:"KYt",get:function(){return this.jYt}},{key:"H2t",get:function(){return this.Z2t}},{key:"QYt",get:function(){return this.JYt}},{key:"Ti",get:function(){return this.KA}},{key:"cjt",get:function(){return this.G2t}},{key:"ji",get:function(){return this.YA}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){return{get adSlotId(){return t.GYt},get altText(){return t.KYt},get contentHTML(){return t.H2t},get clickThrough(){return t.QYt},get height(){return t.Ti},get resourceURI(){return t.cjt},get width(){return t.ji}}}(this)}}]),t}();function c0(t,n,i){var r=t.querySelector(n);return r&&r.getAttribute(i)||""}var h0=function(t){function n(n,i,r){var e;return(e=t.call(this,r,function(t){return"linear"===t?e0.Mjt:"nonlinear"===t?e0.M2t:e0.iE}(i.type))||this).q2t=0,e.C2t=n,e.ir(i),e}Rt(n,t);var i=n.prototype;return i.ka=function(){return o0(this)},i.ir=function(t){t.id&&(this.zS=t.id),void 0!==t.skipOffset&&(this.RKt=t.skipOffset),void 0!==t.width&&(this.YA=t.width),void 0!==t.height&&(this.KA=t.height),void 0!==t.duration&&(this.MA=t.duration),void 0!==t.readyState&&(this.B2t=function(t){return"ready"===t?u0.READY:u0.NONE}(t.readyState)),void 0!==t.resourceURI&&(this.G2t=t.resourceURI),void 0!==t.clickThrough&&(this.JYt=t.clickThrough),void 0!==t.companions&&(this.PYt=Ut(t.companions).map(f0)),void 0!==t.creativeId&&(this.AYt=t.creativeId),void 0!==t.universalAdIds&&(this.AKt=t.universalAdIds),void 0!==t.customData&&(this.k2t=t.customData)},xt(n,[{key:"aQt",get:function(){return this.C2t}},{key:"z2t",get:function(){return this.q2t},set:function(t){this.q2t=t}}]),n}(s0);function f0(t){var n={GYt:t.adSlotId,KYt:t.altText,H2t:t.contentHTML,Mk:void 0,QYt:t.clickThrough,Ti:t.height,cjt:t.resourceURI,ji:t.width};return new a0(n)}U(),St(),Dt(),Ct();var v0=function(t){function n(n,i){var r;return(r=t.call(this,"j2t",n)||this).K2t=i,r}return Rt(n,t),n.prototype.ka=function(){return new l0(this.lnt.int(),this.Y2t)},xt(n,[{key:"Y2t",get:function(){return this.K2t}}]),n}(iB),l0=function(t){function n(n,i){var r;return(r=t.call(this,"adskip",n)||this).playedPercentage=i,r}return Rt(n,t),n}(rB);U(),St(),Ct();var d0=function(t){function n(n){return t.call(this,"Q2t",n)||this}return Rt(n,t),n.prototype.ka=function(){return new g0(this.sd.int())},n}(qM),g0=function(t){function n(n){return t.call(this,"updateadbreak",n)||this}return Rt(n,t),n}(JM);U(),St(),Ct();var m0=function(t){function n(n){return t.call(this,"J2t",n)||this}return Rt(n,t),n.prototype.ka=function(){return new w0(this.sd.int())},n}(qM),w0=function(t){function n(n){return t.call(this,"adbreakchange",n)||this}return Rt(n,t),n}(JM);U(),St(),Ct();var p0=function(t){function n(n,i){var r;return(r=t.call(this,"$2t",n)||this).currentTime=i,r}return Rt(n,t),n.prototype.ka=function(){return new y0(this.lnt.int(),this.currentTime)},n}(iB),y0=function(t){function n(n,i){var r;return(r=t.call(this,"adfirstquartile",n)||this).currentTime=i,r}return Rt(n,t),n}(rB);U(),St(),Ct();var _0=function(t){function n(n,i){var r;return(r=t.call(this,"t3t",n)||this).currentTime=i,r}return Rt(n,t),n.prototype.ka=function(){return new b0(this.lnt.int(),this.currentTime)},n}(iB),b0=function(t){function n(n,i){var r;return(r=t.call(this,"admidpoint",n)||this).currentTime=i,r}return Rt(n,t),n}(rB);U(),St(),Ct();var k0=function(t){function n(n,i){var r;return(r=t.call(this,"e3t",n)||this).currentTime=i,r}return Rt(n,t),n.prototype.ka=function(){return new A0(this.lnt.int(),this.currentTime)},n}(iB),A0=function(t){function n(n,i){var r;return(r=t.call(this,"adthirdquartile",n)||this).ad=n,r.currentTime=i,r}return Rt(n,t),n}(rB),T0=function(){function t(t,n){this.h2t=new UI,this.Oc=[],this.w$t=[],this._3t=[],this.aQt=t,this.y2t=n}var n=t.prototype;return n.MD=function(){var t;if(0!==this._3t.length){var n=this._3t[0];(null==(t=this.K6)?void 0:t.skipAd)?this.K6.skipAd(n.int()):this.ZQt(n)}},n.hnt=function(t){},n.i3t=function(t,n){var i,r=null!=n?n:this.v3t({timeOffset:null!=(i=t.timeOffset)?i:0}),e=new h0(this.aQt,t,r);return r.R2t(e),this.Oc.push(e),this.h2t._o(new eB(e)),e},n.n3t=function(t,n){t.ir(n),this.h2t._o(new d$(t))},n.o3t=function(t,n){if(!To(this._3t,t))throw new y("Cannot update ad progress on a non-started ad");var i=t.z2t,r=A.max(i,n);t.z2t=r;var e=this.y2t.xR();i<.25&&r>=.25&&this.h2t._o(new p0(t,e)),i<.5&&r>=.5&&this.h2t._o(new _0(t,e)),i<.75&&r>=.75&&this.h2t._o(new k0(t,e))},n.N2t=function(t){To(this._3t,t)||(this._3t.push(t),t.sd.N2t(t),this.m3t(t.sd),this.h2t._o(new hB(t,this.y2t.xR())))},n.ZQt=function(t){if(To(this._3t,t)){var n=t.sd.D2t(t);this.h2t._o(new v0(t,t.z2t)),this.g3t(t,n)}},n.h3t=function(t){if(To(this._3t,t)){var n=t.sd.D2t(t);this.h2t._o(new vB(t,this.y2t.xR())),this.g3t(t,n)}},n.I2t=function(t){if(To(this.Oc,t)){var n=t.sd.D2t(t);bo(this.Oc,t),t.sd.I2t(t),this.h2t._o(new m0(t.sd)),this.g3t(t,n)}},n.a3t=function(t){var n=new r0(this.aQt,t);return this.w$t.push(n),this.h2t._o(new tB(n)),n},n.u3t=function(t,n){t.ir(n),this.h2t._o(new d0(t))},n.c3t=function(t){if(To(this.w$t,t)){for(var n=0,i=t.zc.slice();n<i.length;n++){var r=i[n];this.I2t(r)}bo(this.w$t,t),this.h2t._o(new QM(t))}},n.l3t=function(){for(var t=0,n=this.w$t.slice();t<n.length;t++){var i=n[t];this.c3t(i)}},n.d3t=function(t){this.h2t._o(new $$(nQ.GENERAL,t.message))},n.f3t=function(t,n){var i=new ol(null!=n?n:ul.AD_ERROR,t.message,t);this.y2t.BH(i)},n.p3t=function(t){return mo(this.w$t,(function(n){return n.eOt===t}))},n.v3t=function(t){var n;return null!=(n=this.p3t(t.timeOffset))?n:this.a3t(t)},n.g3t=function(t,n){bo(this._3t,t);var i=t.sd;0!==this._3t.length||this.p$t!==i||n||(i.E2t(),this.m3t(void 0))},n.m3t=function(t){this.p$t!==t&&(void 0!==this.p$t&&this.h2t._o(new sB(this.p$t)),this.p$t=t,void 0!==t&&this.h2t._o(new aB(t)))},n.r3t=function(t){var n=mo(this.Oc,(function(n){return n.int()===t}));if(void 0===n)throw new y('Invalid ad for integration "'+this.aQt+'"');return n},n.s3t=function(t){var n=mo(this.w$t,(function(n){return n.int()===t}));if(void 0===n)throw new y('Invalid ad break for integration "'+this.aQt+'"');return n},n.Ca=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return Zo(n),(null==(r=i.K6)?void 0:r.setSource)?[4,ut.resolve(i.K6.setSource(t))]:[3,2];case 1:return iE(e=u.sent())&&(e=t),[2,mE(e,i.y2t.kd)];case 2:return[2,t];case 3:return[2]}}))}))()},n.w3t=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(null==(n=t.K6)?void 0:n.resetSource)?[4,ut.resolve(t.K6.resetSource())]:[3,2];case 1:return i.sent(),[3,3];case 2:t.l3t(),i.label=3;case 3:return[2]}}))}))()},n.yn=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(null==(n=t.K6)?void 0:n.destroy)?[4,ut.resolve(t.K6.destroy()).catch(Si)]:[3,2];case 1:i.sent(),i.label=2;case 2:return t.l3t(),t.m3t(void 0),t.K6=void 0,t.h2t.yn(),[2]}}))}))()},xt(t,[{key:"zc",get:function(){return this.Oc}},{key:"YJt",get:function(){return this.w$t}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){return{get integration(){return t.aQt},get ads(){return t.zc.map((function(t){return t.int()}))},get adBreaks(){return t.YJt.map((function(t){return t.int()}))},createAd:function(n,i){return t.i3t(n,i?t.s3t(i):void 0).int()},updateAd:function(n,i){t.n3t(t.r3t(n),i)},updateAdProgress:function(n,i){var r=hr(Number(i),0,1);t.o3t(t.r3t(n),r)},beginAd:function(n){t.N2t(t.r3t(n))},endAd:function(n){t.h3t(t.r3t(n))},skipAd:function(n){t.ZQt(t.r3t(n))},removeAd:function(n){t.I2t(t.r3t(n))},createAdBreak:function(n){return t.a3t(n).int()},updateAdBreak:function(n,i){t.u3t(t.s3t(n),i)},removeAdBreak:function(n){t.c3t(t.s3t(n))},removeAllAds:function(){t.l3t()},error:function(n){t.d3t(n)},fatalError:function(n,i){var r=i?Number(i):void 0;t.f3t(n,r)}}}(this)}},{key:"NN",get:function(){return this.K6},set:function(t){this.K6=t}},{key:"g2t",get:function(){return this._3t.some((function(t){return t.F2t===e0.Mjt}))}},{key:"s2t",get:function(){return this.aQt}},{key:"ent",get:function(){return this._3t}},{key:"snt",get:function(){var t;return null!=(t=this.p$t)?t:null}},{key:"nnt",get:function(){return Ro(this.w$t,(function(t){return t.nnt}))}},{key:"rnt",get:function(){return this.w$t.filter((function(t){return!t.tI}))}}]),t}();U(),St(),Dt();var S0=function(){function t(t){var n=this;this.V9=void 0,this.y3t=!1,this.Td=function(t){1!==n.na.QR&&(n.V9=n.na.QR,n.na.QR=1),n.y3t=!0},this.Md=function(t){n.y3t=!1,void 0!==n.V9&&(n.na.QR=n.V9,n.V9=void 0)},this.na=t,this.addAdListeners()}var n=t.prototype;return n.destroy=function(){this.removeAdListeners()},n.addAdListeners=function(){var t,n;null==(t=this.na.zc)||t.bn("_nt",this.Td),null==(n=this.na.zc)||n.bn("fnt",this.Md)},n.removeAdListeners=function(){var t,n;null==(t=this.na.zc)||t.vn("_nt",this.Td),null==(n=this.na.zc)||n.vn("fnt",this.Md)},xt(t,[{key:"player",get:function(){return this.na},set:function(t){this.na&&this.removeAdListeners(),this.na=t,this.addAdListeners()}},{key:"inAdBreak",get:function(){return this.y3t}}]),t}(),E0=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).E3t=[],r.YG=void 0,r.TZ=void 0,r.x3t=1,r.O1t=n,r.b3t=new n0(r),r.b3t._2t.Q1t(i,n,r,n.kd),r}Rt(n,t);var i=n.prototype;return i.Lst=function(){return this.b3t},i.kI=function(){this.O1t.kI(),this.b3t.kI()},i.xI=function(){void 0===this.YG?(void 0!==this.T3t&&this.k3t(this.T3t),t.prototype.xI.call(this)):this._o(new Ik(this.YG))},i.Ca=function(n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:if(Zo(i),!(e=n))return[3,4];u=0,s=r.E3t,f.label=1;case 1:return u<s.length?[4,s[u].Ca(e,i)]:[3,4];case 2:e=f.sent(),f.label=3;case 3:return u++,[3,1];case 4:return[4,t.prototype.Ca.call(r,e,i)];case 5:if(f.sent(),Zo(i),null==e?void 0:e.ads)for(o=Boolean(e.blockContentIfAdError),r.b3t.b2t(e.playAdsAfterTime),a=0,c=e.ads;a<c.length;a++)h=c[a],r.b3t.g6(h,zM.tnt,o);return[2]}}))}))()},i.RI=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return n.YG=void 0,n.TZ=void 0,[4,n.b3t.nr()];case 1:return e.sent(),n.x1t(),[4,t.prototype.RI.call(n)];case 2:e.sent(),i=0,r=n.E3t,e.label=3;case 3:return i<r.length?[4,r[i].w3t()]:[3,6];case 4:e.sent(),e.label=5;case 5:return i++,[3,3];case 6:return[2]}}))}))()},i.k3t=function(t){this.x3t=this.na.QR;var n=this.na.gI,i=this.na.ZR;t.wI(n),t.zR(i),this.S3t=t,this.T3t=void 0,this.fO(t)},i.w2t=function(t){void 0===this.S3t&&(this.T3t=t)},i.x1t=function(){this.T3t=void 0,void 0!==this.S3t&&(this.O1t.QR=this.x3t,this.O1t.gI=this.gI,this.O1t.ZR=this.ZR,this.fO(this.O1t),this.S3t=void 0)},i.NR=function(){var n;return null!=(n=this.TZ)?n:t.prototype.NR.call(this)},i.LR=function(){var n;return null!=(n=this.YG)?n:t.prototype.LR.call(this)},i.BH=function(t){void 0===this.LR()&&(this.YG=t,this.TZ=cm(t),this._o(new Ik(t)))},i.BI=function(t){return void 0===this.S3t&&this.b3t.c2t(t)},i.ont=function(t,n){try{var i=new T0(t,this);i.NN=n(i.wa),this.b3t.ant(i),this.E3t.push(i),t!==IS.UPLYNK&&(this.R3t=new S0(this))}catch(n){this.b3t._o(new $$(nQ.GENERAL,'Error while constructing ad integration "'+t+'": '+n+'"'))}},i.$R=function(n){var i;(null==(i=this.R3t)?void 0:i.inAdBreak)||t.prototype.$R.call(this,n)},i.yn=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:r=0,e=n.E3t,u.label=1;case 1:return r<e.length?[4,e[r].yn().catch(Si)]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[4,n.b3t.yn()];case 5:return u.sent(),n.x1t(),null==(i=n.R3t)||i.destroy(),n.R3t=void 0,[4,t.prototype.yn.call(n)];case 6:return u.sent(),[2]}}))}))()},xt(n,[{key:"A3t",get:function(){return this.S3t}}]),n}(G$);$k((function(t){return new E0(t,RS.Vg)}),Yk.Gst),U(),St(),Dt(),U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt();var I0=0!==Gn.og?Gn.og:Gn.nm,R0=Gn.su&&I0<12,C0=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).y2t=i,r.N3t=!1,r.dO=new im,r.cO=new im,r.Hl=new $p,r.lO=new hA,r.I3t=new UI,r.ea=new oS,r.tH=new Vk,r.M3t=function(){r.na.ge()},r.L3t=function(){r.B3t()},r.na.bn(va.xy,r.Ds),r}Rt(n,t);var i=n.prototype;return i.Tst=function(){return this.na.Tst()},i.yR=function(){return BA.pB().ks()},i.AR=function(){},i.SR=function(t){},i.JR=function(){return 1},i.$R=function(t){},i.eI=function(){return new BA([0,this.ER]).ks()},i.cI=function(){return!1},i.lI=function(){return this.Hl},i._I=function(){return this.dO},i.cs=function(){return this.SI().cs},i.SI=function(){return this.ea},i.Aa=function(){},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.Ro(),t.cO.yn(),t.dO.yn(),t.Hl.yn(),t.I3t.yn(),t.na.vn(va.xy,t.Ds),[2]}))}))()},i.C3t=function(){R0&&this.P3t(),this.g2t||this.y2t.k3t(this)},i.x1t=function(){this.g2t&&(R0&&this.D3t(),Gn.Cg&&this.we.querySelectorAll("video[src]").forEach((function(t){t.src=""})),qn.Ys.cp&&this.na.MI(),this.y2t.x1t())},i.P3t=function(){this.N3t||(f.addEventListener("blur",this.M3t),f.addEventListener("focus",this.L3t),this.N3t=!0)},i.D3t=function(){f.removeEventListener("blur",this.M3t),f.removeEventListener("focus",this.L3t),this.N3t=!1},i.B3t=function(){var t=this;requestAnimationFrame((function(){return t.na.be()}))},xt(n,[{key:"ER",get:function(){return this.xR()},set:function(t){this.RR(t)}},{key:"ct",get:function(){return this.jd()}},{key:"OR",get:function(){return this.lO}},{key:"hI",get:function(){return this.aI()}},{key:"yI",get:function(){return this.tH}},{key:"h2t",get:function(){return this.I3t}},{key:"ht",get:function(){return this.cO}},{key:"g2t",get:function(){return this.y2t.A3t===this}}]),n}(zk);U(),St(),Gt(),Dt(),Jt(),U(),St(),Dt();var N0=0,x0="theoplayer-wrapper",D0=function(){function t(n,i,r,e){this.F3t=i,this.na=r,this.H3t=e,this.Q3t=NaN,this.t4t=!1,this.i4t=!1,this.Y3t=!1,this.r4t=[],this.mst=!1,this.lZ=!1,this.W3t=[],this.IC=++N0,this.a4t=n.timeOffset,this.j3t=t.T4t(this.a4t),this.J3t(),this.W3t.push(n)}var n=t.prototype;return n.Z3t=function(t){var n=this.X3t===t.timeOffset;return!this.z3t&&n},n.J3t=function(){if(E(this.Q3t)){var t=this.X3t;if(void 0===t)return void(this.Q3t=0);if("string"==typeof t&&EQ(t)){var n=this.na.jd();E(n)||n===1/0||(t=vJ(t)*n)}E(t)||(this.Q3t=t)}},n.o4t=function(t){this.r4t.push(t)},n.h4t=function(){if(!this.z3t){var t,n,i=this.F3t===zM.tnt&&void 0===this.a4t&&1===this.W3t.length,r=this.W3t[0];if(!i&&1===this.W3t.length){var e=qn.Ih(r.sources.src).searchParams.get("output");e&&e.toLowerCase().indexOf("vmap")>-1&&(i=!0,void 0!==this.a4t&&Qr("Do not set a timeOffset for VMAP ad sources. VMAP ads have their own offsets included."))}if(kQ(r.sources.type)||i)t=r.sources.src;else{if(E(this.na.jd())&&"end"===this.u4t())return;n=this.c4t()}var u=this.na.jd();(E(u)||u===1/0)&&(u=-3),this.z3t={l4t:this.na.we.offsetWidth,d4t:this.na.we.offsetHeight,f4t:this.na.we.offsetWidth,_4t:this.na.we.offsetHeight,v4t:this.mst,m4t:this.lZ,g4t:t,p4t:n,w4t:r.omidAccessModeRules,y4t:u}}return this.z3t},n.c4t=function(){var t=this;return'<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">'+this.W3t.map((function(n,i){return t.b4t(n.sources,i)})).join("\n")+"</vmap:VMAP>"},n.b4t=function(t,n){var i=this.u4t(),r=t.src;return'<vmap:AdBreak timeOffset="'+i+'" breakType="linear,nonlinear" breakId="theoplayer-break-'+this.IC+"-"+n+'"><vmap:AdSource allowMultipleAds="true" followRedirects="true"><vmap:VASTAdData><VAST version="3.0"><Ad id="'+x0+"-"+this.IC+"-"+n+'"><Wrapper allowMultipleAds="true" followAdditionalWrappers="true"><VASTAdTagURI><![CDATA['+r+"]]></VASTAdTagURI></Wrapper></Ad></VAST></vmap:VASTAdData></vmap:AdSource></vmap:AdBreak>"},n.u4t=function(){if(0===this.X3t)return"start";if(this.X3t===1/0)return"end";var t=this.X3t;if("string"==typeof t&&EQ(t)){var n=vJ(t)*this.na.jd();return fQ.rQt(n)}return fQ.rQt(this.X3t||0)},n.A4t=function(t){this.W3t.push(t)},n.S4t=function(t){for(var n=x0+"-"+this.IC+"-",i=0;i<t.length;i++){var r=t[i];if(Xs(r,n)){var e=Number(r.slice(n.length));if(!E(e)&&e>=0&&e<this.W3t.length)return e}}return-1},n.k4t=function(){this.Y3t=!0},t.T4t=function(t){if(void 0!==t)return-1===t?1/0:t},xt(t,[{key:"O3t",get:function(){return this.F3t}},{key:"V3t",get:function(){return this.W3t}},{key:"U3t",get:function(){return 1===this.W3t.length&&kQ(this.W3t[0].sources.type)}},{key:"G3t",get:function(){return this.H3t}},{key:"q3t",get:function(){return this.Y3t}},{key:"K3t",get:function(){return EQ(this.j3t)&&!this.z3t}},{key:"X3t",get:function(){return this.j3t}},{key:"od",get:function(){return this.Q3t}},{key:"$3t",get:function(){return this.t4t},set:function(t){this.t4t=t}},{key:"e4t",get:function(){return this.i4t},set:function(t){this.i4t=t,this.s4t=!1}},{key:"n4t",get:function(){return this.r4t}},{key:"SO",get:function(){return this.mst},set:function(t){this.mst=t}},{key:"ZR",get:function(){return this.lZ},set:function(t){this.lZ=t}}]),t}();U(),St(),Dt();var P0=function(){function t(t){this.L4t=!1,this.x4t=t,this.I4t=void 0}var n=t.prototype;return n.b2t=function(t){this.I4t=t},n.C4t=function(t){return!(this.E4t&&!this.E4t.q3t&&"nonlinear"!==this.R4t.F2t)||this.E4t.od>t.od&&this.E4t.od!==t.od},n.P4t=function(t){if(t.length)return t.sort((function(t,n){return t.od-n.od}))[0]},n.D4t=function(){if(this.nnt.length)return this.P4t(this.N4t(this.t.xR()))},n.M4t=function(){var t=this;if(!(void 0!==this.I4t&&this.I4t>=0))return this.nnt.filter((function(n){return!n.$3t&&0===n.od&&n!==t.E4t}))[0]},n.N4t=function(t){var n=this;if(!this.L4t&&(this.L4t=!this.nnt.some((function(t){return E(t.od)})),!this.L4t))return[];var i=this.nnt.filter((function(n){return!n.$3t&&(n.U3t||!E(n.od)&&t<=n.od)}));return void 0===this.I4t?i:i.filter((function(t){return t.U3t||void 0===t.X3t||t.od>n.I4t}))},xt(t,[{key:"E4t",get:function(){return this.x4t.E4t}},{key:"R4t",get:function(){return this.x4t.R4t}},{key:"nnt",get:function(){return this.x4t.nnt}},{key:"t",get:function(){return this.x4t.t}}]),t}(),M0=function(t){return t[t.B4t=0]="B4t",t[t.O4t=1]="O4t",t[t.F4t=2]="F4t",t}({}),B0=function(){function t(t,n,i,r,e){var u=this;this.q4t=0,this.gpt=void 0,this.a5t=!1,this.qX=function(){for(var t=u.P2t.filter((function(t){return t.K3t})),n=0;n<t.length;n++){var i=t[n];i.J3t();var r=i.X3t;u.Z4t.l5t(r,i.od)}u.mo&&u.u5t&&u.W4t()},this.P2t=[],this.z4t=t,this.mo=!1,this.V4t=!1,this.na=n,this.y2t=i,this.E4t=void 0,this.t5t=0,this.o5t=new P0(this),this.pst=r,this.Z4t=e,this.na.bn(va.Iy,this.qX)}var n=t.prototype;return n.kI=function(){this.mo=!0,this.V4t&&this.W4t()},n.U4t=function(t,n){this.G4t(t,n);var i=mo(this.nnt,(function(n){return n.Z3t(t)}));if(i)i.A4t(t);else{var r,e=new D0(t,n,this.na,null==(r=t.replaceContent)||r);this.P2t.push(e),2===this.H4t&&this.Z4t.a3t(e.od,e,e.X3t),this.X4t(n,e)}},n.Y4t=function(){if(bo(this.nnt,this.E4t),this.E4t){for(var t=0,n=this.E4t.n4t;t<n.length;t++){n[t];this.Z4t.K4t()}this.E4t=void 0}},n.j4t=function(){for(var t=0,n=this.P2t;t<n.length;t++)for(var i=0,r=n[t].n4t;i<r.length;i++){var e=r[i];this.Z4t.Q4t(e,!0)}Eo(this.P2t)},n.J4t=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Y4t(),n.$4t=!0,n.E4t=t,n.t5t=t.od,n.gpt=n.e5t(t),[4,n.gpt];case 1:return i.sent(),n.gpt=void 0,[2]}}))}))()},n.e5t=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(n.i5t(t),!(i=t.h4t()))return n.$4t=!1,n.E4t=void 0,[2];r=n.z4t.s5t(i),t.$3t=!0,e.label=1;case 1:return e.trys.push([1,3,,5]),[4,r];case 2:return e.sent(),t.O3t===zM.$st&&n.z4t.n5t(),[3,5];case 3:return e.sent(),n.E4t=void 0,[4,n.W4t()];case 4:return e.sent(),[3,5];case 5:return[2]}}))}))()},n.i5t=function(t){this.mo?t.SO=!0:t.SO=this.y2t.SO,t.ZR=this.y2t.ZR},n.r5t=function(){var t;return null!=(t=this.o5t.M4t())?t:this.o5t.D4t()},n.W4t=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.E4t&&!t.E4t.q3t?[2,t.gpt]:(n=t.r5t())?[4,t.J4t(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},n.nr=function(){this.Y4t(),Eo(this.P2t),this.t5t=0,this.E4t=void 0,this.gpt=void 0,this.$4t=!1},n.e4t=function(){this.$4t=!1,this.E4t&&(this.E4t.e4t=!0)},n.X4t=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return t===zM.$st&&i.mo&&i.o5t.C4t(n)?i.XZt||"linear"===i.z4t.F2t||!(!i.E4t||i.E4t&&i.E4t.$3t)?[3,3]:[4,ut.resolve()]:[3,3];case 1:return r.sent(),[4,i.J4t(n)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))()},n.k4t=function(){this.E4t&&this.E4t.k4t()},n.c5t=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.u5t?(n=t.r5t())?[4,t.J4t(n)]:[3,2]:[2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},n.G4t=function(t,n){var i=t.sources.type,r=n===zM.tnt&&void 0===t.timeOffset,e=kQ(i)||r?1:2;e!==this.q4t&&(this.q4t=e,this.j4t(),this.z4t.zJt&&!this.XZt&&"linear"!==this.z4t.F2t&&(this.z4t.zJt.Xw(),this.E4t=void 0,this.gpt=void 0),this.t5t=0,this.V4t=!0)},n.b2t=function(t){this.o5t.b2t(t)},n.yn=function(){this.na.vn(va.Iy,this.qX)},xt(t,[{key:"R4t",get:function(){return this.z4t}},{key:"nnt",get:function(){return this.P2t}},{key:"t",get:function(){return this.na}},{key:"XZt",get:function(){return Boolean(this.gpt)}},{key:"H4t",get:function(){return this.q4t}},{key:"E4t",get:function(){return this.h5t},set:function(t){this.h5t=t}},{key:"$4t",get:function(){return this.a5t},set:function(t){this.a5t=t}},{key:"u5t",get:function(){var t=this;return!this.XZt&&!this.$4t&&(!(this.E4t&&!this.E4t.q3t)&&(!!this.P2t.filter((function(n){return t.E4t!==n})).length&&Boolean(this.r5t())))}}]),t}();U(),St(),Gt(),Ct(),Jt(),U(),St();var O0=function(t){return t.d5t="contentResumeRequested",t.f5t="contentPauseRequested",t._5t="click",t.Iy="durationChange",t.v5t="expandedChanged",t.m5t="start",t.g5t="impression",t.DZ="pause",t.p5t="resume",t.w5t="adProgress",t.y5t="adBuffering",t.b5t="firstQuartile",t.zKt="midpoint",t.A5t="thirdQuartile",t.qKt="complete",t.S5t="userClose",t.T5t="linearChanged",t.k5t="loaded",t.E5t="adCanPlay",t.x5t="adMetadata",t.R5t="adBreakReady",t.I5t="interaction",t.C5t="allAdsCompleted",t.P5t="skip",t.D5t="skippableStateChanged",t.N5t="log",t.M5t="viewableImpression",t.L5t="volumeChange",t.B5t="mute",t}({});U(),St();var L0=function(t){return t.O5t="adError",t}({});U(),St();var F0=function(t){return t[t.F5t=-1]="F5t",t[t.V5t=-1]="V5t",t[t.W5t=-1]="W5t",t[t.U5t=101]="U5t",t[t.G5t=102]="G5t",t[t.H5t=200]="H5t",t[t.Z5t=201]="Z5t",t[t.X5t=202]="X5t",t[t.z5t=300]="z5t",t[t.q5t=301]="q5t",t[t.Y5t=302]="Y5t",t[t.K5t=303]="K5t",t[t.j5t=400]="j5t",t[t.Q5t=402]="Q5t",t[t.J5t=403]="J5t",t[t.$5t=405]="$5t",t[t.t6t=500]="t6t",t[t.e6t=501]="e6t",t[t.i6t=-1]="i6t",t[t.s6t=503]="s6t",t[t.n6t=602]="n6t",t[t.r6t=900]="r6t",t[t.o6t=901]="o6t",t[t.h6t=1005]="h6t",t[t.a6t=1007]="a6t",t[t.u6t=1009]="u6t",t[t.c6t=1010]="c6t",t[t.l6t=1011]="l6t",t[t.d6t=1012]="d6t",t[t.f6t=1013]="f6t",t[t._6t=1020]="_6t",t[t.v6t=1021]="v6t",t[t.m6t=1101]="m6t",t[t.g6t=1204]="g6t",t[t.p6t=1205]="p6t",t[t.w6t=1300]="w6t",t[t.y6t=-1]="y6t",t[t.b6t=-1]="b6t",t[t.A6t=-1]="A6t",t[t.S6t=-1]="S6t",t}({}),V0=function(t){return t.T6t="adLoadError",t.k6t="adPlayError",t}({});function U0(t,n){if(t===O0.w5t){var i=n;return{E6t:i.adBreakDuration,x6t:i.adPosition,ER:i.currentTime,ct:i.duration,R6t:i.totalAds}}return n}function W0(t){switch(t){case google.ima.AdError.Type.AD_LOAD:return V0.T6t;case google.ima.AdError.Type.AD_PLAY:return V0.k6t}}function j0(t){return $n(t)&&si(t.getVastErrorCode)}function Z0(t){var n=t.getInnerError(),i=n&&j0(n)?Z0(n):void 0;return{wb:t.getMessage(),Tjt:t.getErrorCode(),I6t:t.getVastErrorCode(),Tw:W0(t.getType()),C6t:i}}function X0(t){if(Yn(t))return t}U(),St(),on(),U(),St();var G0=function(t){function n(n,i,r){var e,u;return e=t.call(this)||this,u=e,e.z4t=n,e.na=i,e.q6t=r,e.R9t=!1,e.T9t=void 0,e.k9t=void 0,e.s9t=0,e.h9t=function(t){if(t.lnt&&t.lnt.d9t){var n=t.lnt.d9t;e.q6t.u3t(n.eOt,n.R6t,n.ZJt)}},e.a9t=function(t){var n,i,r;if(!(e.s9t>=5)){e.s9t++;var u=t.K6t;if(function(t){return $n(t)&&void 0!==t.E6t&&void 0!==t.R6t}(u)){var s=null==(r=e.qJt)||null==(i=r.u9t())||null==(n=i.d9t)?void 0:n.eOt;void 0!==s&&e.q6t.u3t(s,u.R6t,u.E6t)}}},e.N6t=Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:return t.K6t.I9t?[4,u.$6t(t.K6t.I9t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))})),e.B6t=Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return u.R9t=!0,u.z4t.k4t(),[4,u.L6t()];case 1:return t.sent(),[2]}}))})),e.O6t=function(t){if(t.lnt){0;var n=t.lnt;e.z4t.m9t(n),e.z4t.ge(),e.z4t.C9t(),e.z4t.P9t=!0,e.q6t.D9t(n);var i=n.ct;if(e.Y6t(i),n.n9t){var r=e.z4t.ER,u=e.z4t.rI;e.z4t.F4(Ny.sO),e.P6t(new Dy(r,u)),e.P6t(new My(r,u)),e.P6t(new By(r,u)),e.z4t.KR||e.P6t(new Oy(e.z4t.ER)),e.setCountdownTimer(),e.Z6t(!0)}else e.z4t.x1t(),e.na.ge(),e.z4t.KR||e.na.xI()}},e.F6t=function(t){var n;if(t.lnt){0;var i=t.lnt;if(e.Hp(),e.q6t.v9t(e.z4t.ct,i.n9t),e.z4t.rI!==Ny.eO){var r=Ny.eO;e.z4t.F4(r);var u=e.z4t.ER;e.P6t(new pT(u,r))}e.Y6t(NaN),e.z4t.P9t=!1,null==(n=e.qJt)||n.wI(e.z4t.r9t())}},e.V6t=function(t){t.lnt&&(e.F6t(t),e.q6t.V6t(t.lnt,e.z4t.ER,e.z4t.ct))},e.W6t=function(t){t.lnt&&(e.q6t.v9t(-1,t.lnt.n9t),e.z4t.k4t(),!t.lnt.n9t&&e.z4t.u5t()&&e.z4t.c5t())},e.U6t=function(t){t.lnt&&(t.lnt.n9t?e.z4t.EI():e.na.EI())},e.G6t=function(){var t;(e.z4t.P9t=!0,e.z4t.N9t)&&(null==(t=e.qJt)||t.EI(),e.z4t.N9t=!1)},e.M6t=function(t){var n;if(t.lnt){0,e.z4t.S9t&&(e.k9t=e.na.xR(),e.na.NI(),e.na.AI=!0),e.z4t.M9t=!0;var i=t.lnt;e.q6t.Td(i);var r=i.ct;e.z4t.m9t(i),e.Y6t(r),e.z4t.H6t(!1),e.z4t.ge(),e.z4t.C3t(),e.z4t.S9t||e.na.be(),e.na.EI(),e.z4t.L9t(i),0===(null==(n=i.d9t)?void 0:n.eOt)||e.z4t._o(new Py(e.z4t.ER))}},e.L6t=Zt((function(t){var n,i,r,e,s;return Ht(this,(function(o){switch(o.label){case 0:return n=null==t?void 0:t.lnt,u.z4t.M9t=!1,"linear"===u.z4t.F2t&&u.q6t.Md(),n&&n.ct>=0&&u.Y6t(n.ct),u.na.jd()===1/0&&u.z4t.B9t(),u.z4t.P9t=!1,u.R9t?[4,u._9t()]:[3,2];case 1:o.sent(),o.label=2;case 2:u.z4t.H6t(!0),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,u.A9t()];case 4:return o.sent(),[3,6];case 5:return jo(i=o.sent())||u._o(new eq(i)),[2];case 6:return u.z4t.x1t(),u.z4t.be(),u.na.PR||u.na.xI(),n&&u.z4t.m9t(n),u.z4t.w9t&&(u.z4t.S9t&&(e=u.na.TI(),s=null==(r=u.na.bt)?void 0:r.src,e&&s&&(e.src=s)),u.z4t.y9t=!0),u.na.AI=!1,u.z4t.u5t()?[4,u.z4t.c5t()]:[3,8];case 7:o.sent(),o.label=8;case 8:return[2]}}))})),e}Rt(n,t);var i=n.prototype;return i.P6t=function(t){this.z4t._o(t)},i.D6t=function(t){var n=this;this.qJt=t,this.qJt.bn(L0.O5t,this.N6t),this.qJt.bn(O0.f5t,this.M6t),this.qJt.bn(O0.d5t,this.L6t),this.qJt.bn(O0.C5t,this.B6t),this.qJt.bn(O0.m5t,this.O6t),this.qJt.bn(O0.qKt,this.F6t),this.qJt.bn(O0.P5t,this.V6t),this.qJt.bn(O0.S5t,this.W6t),this.qJt.bn(O0._5t,this.U6t),this.qJt.bn(O0.E5t,this.G6t),this.qJt.bn(O0.DZ,(function(){n.z4t.KR||(n.z4t.H6t(!0),n.z4t._o(new yT(n.z4t.ER))),n.Z6t(!0)})),this.qJt.bn(O0.p5t,(function(){n.z4t.KR&&(n.z4t.H6t(!1),n.z4t._o(new _T(n.z4t.ER)))})),this.qJt.bn(O0.B5t,(function(){var i=t.pI();i>=0&&n.X6t(i)})),this.qJt.bn(O0.L5t,(function(){var i=t.pI();i>=0&&n.X6t(i)})),this.qJt.bn(O0.x5t,(function(t){n.q6t.z6t(t.type)})),this.qJt.bn(O0.Iy,(function(t){t.lnt&&n.Y6t(t.lnt.ct)}));var i=this;this.qJt.bn(O0.N5t,Zt((function(t){var n,r;return Ht(this,(function(e){switch(e.label){case 0:return n=t.K6t.adError,(r=j0(n)?Z0(n):void 0)?i.j6t(r)?[4,i.Q6t(t)]:[3,2]:[2];case 1:return e.sent(),[3,5];case 2:return i.J6t(r)?[4,i.$6t(r)]:[3,4];case 3:return e.sent(),[3,5];case 4:i.t9t(r)&&i.e9t(r),e.label=5;case 5:return[2]}}))}))),this.qJt.bn(O0.k5t,(function(t){if(t.lnt&&(n.z4t.e4t(),n.q6t.i9t(t.lnt),n.s9t=0,t.lnt.n9t)){var i,r=n.z4t.rI,e=Ny.eO;n.z4t.F4(e);var u=n.z4t.ER,s=n.z4t.rI;s!==r&&n.P6t(new pT(u,s)),null==(i=n.qJt)||i.wI(n.z4t.r9t()),n.P6t(new xy(u,e))}})),this.qJt.bn([O0.y5t,O0.g5t,O0.b5t,O0.zKt,O0.A5t],(function(t){t.lnt&&n.q6t.o9t(t.lnt,t.type,n.z4t.ER)})),this.qJt.bn(O0.b5t,this.h9t),this.qJt.bn(O0.w5t,this.a9t)},i.switchToPlayerIfNoNextAd=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return t.qJt?(n=t.qJt.u9t())&&t.c9t(n)?[3,3]:t.z4t.u5t()?[4,t.z4t.c5t()]:[3,2]:[3,4];case 1:return r.sent(),[3,3];case 2:t.z4t.l9t(),t.na.KR&&!t.na.PR&&t.na.xI(),r.label=3;case 3:return[3,7];case 4:return t.z4t.u5t()?[4,t.z4t.c5t()]:[3,6];case 5:return r.sent(),[3,7];case 6:i=t.z4t.KR,t.z4t.l9t(),i||t.na.xI(),r.label=7;case 7:return[2]}}))}))()},i.c9t=function(t){var n=t.d9t,i=null==n?void 0:n.R6t;return(null==n?void 0:n.x6t)!==i},i.Hp=function(){this.z4t.Nc&&(p(this.z4t.Nc),this.z4t.Nc=null)},i.t9t=function(t){return t.Tw===V0.T6t},i.J6t=function(t){return t.Tw===V0.k6t},i.j6t=function(t){return t.Tjt===F0.u6t},i.$6t=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return n.e9t(t),r=[F0.j5t,F0.o6t,F0.v6t,F0.p6t],n.z4t.bnt||To(r,t.Tjt)||To(r,null==(i=t.C6t)?void 0:i.Tjt)?[3,2]:(n.z4t.f9t.$4t=!1,null==(e=n.z4t.f9t.E4t)||e.k4t(),[4,n.switchToPlayerIfNoNextAd()]);case 1:u.sent(),u.label=2;case 2:return[2]}}))}))()},i.e9t=function(t){this.z4t.d3t(t)},i._9t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.q6t.K4t(),t.z4t.k4t(),"nonlinear"===t.z4t.F2t&&(t.q6t.v9t(-1,!1),t.z4t.m9t(void 0)),"nonlinear"!==t.z4t.F2t&&"none"!==t.z4t.F2t?[3,2]:t.z4t.u5t()?[4,t.z4t.c5t()]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.z4t.g9t(),t.z4t.g2t?t.z4t.x1t():t.p9t()&&t.na._o(new AT(t.na.xR())),[2]}}))}))()},i.p9t=function(){return this.z4t.w9t&&!this.z4t.y9t&&this.na.PR},i.setCountdownTimer=function(){var t=this;this.Hp(),this.z4t.Nc=w((function(){return t.Z6t()}),250)},i.Q6t=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return void 0===t.lnt?[2]:(n.z4t.f9t.$4t=!1,n.z4t.k4t(),n.z4t.u5t()?[4,n.z4t.c5t()]:[3,2]);case 1:return i.sent(),[3,3];case 2:n.z4t.H6t(!0),i.label=3;case 3:return[2]}}))}))()},i.Y6t=function(t){this.z4t.ct!==t&&t>=0&&(this.z4t.d4(t),this.P6t(new bT(this.z4t.ct)))},i.X6t=function(t){this.z4t.r9t()!==t&&(0===t?this.z4t.b9t(t,!0,!1):this.z4t.b9t(t,!1,!1))},i.A9t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.z4t.S9t&&void 0!==t.na.NR()?(t.T9t=new Qo,[4,zo(t.na.Ca(t.na.iu(),t.T9t.Uw),t.T9t)]):[3,2];case 1:n.sent(),t.k9t&&t.na.RR(t.k9t),t.k9t=void 0,n.label=2;case 2:return[2]}}))}))()},i.Z6t=function(t){if(this.qJt){var n=this.qJt.E9t();n>this.z4t.ct&&this.Y6t(A.round(n))}var i=this.z4t.ER;(t||!this.z4t.KR&&i!==this.z4t.x9t)&&(this.z4t._o(new yg(i,void 0)),this.z4t.x9t=i)},i.nr=function(){this.T9t&&(this.T9t.jw(),this.T9t=void 0),this.R9t=!1,this.s9t=0},i.yn=function(){this.nr(),this.Ro()},n}(aa);U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var H0=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).O9t=i,e.F9t=r,e}return Rt(n,t),xt(n,[{key:"aQt",get:function(){return l$.f$t}}]),n}(i0);U(),St(),Dt(),Ct(),U(),St(),U(),St(),Dt(),Ct();var z0=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).W9t=0,r.U9t=void 0,r}Rt(n,t);var i=n.prototype;return i.h$t=function(){var t;return null==(t=this.U9t)?void 0:t.jqt},i.ka=function(){return function(t,n){return Mg(t,{bitrate:0,contentType:void 0,mediaUrl:void 0,traffickingParameters:void 0,traffickingParametersString:void 0,universalAdIds:[],get description(){return n.VN},get apiFramework(){return n.G9t},get creativeId(){return n.bYt},get title(){return n.oH},get wrapperAdIds(){return n.H9t},get wrapperAdSystems(){return n.Z9t},get wrapperCreativeIds(){return n.X9t}})}(o0(this),this)},i.z9t=function(t){this.U9t=t;var n=Y0(t);this.L2t(t.vKt,t.q9t,t.Y9t,t.ct,n,-1)},xt(n,[{key:"V9t",get:function(){return this.W9t},set:function(t){this.W9t=t}},{key:"aQt",get:function(){return l$.Kh}},{key:"G9t",get:function(){var t;return null==(t=this.U9t)?void 0:t.WYt}},{key:"bYt",get:function(){var t;return null==(t=this.U9t)?void 0:t.bYt}},{key:"VN",get:function(){var t;return null==(t=this.U9t)?void 0:t.VN}},{key:"oH",get:function(){var t;return null==(t=this.U9t)?void 0:t.oH}},{key:"H9t",get:function(){var t,n;return null!=(n=null==(t=this.U9t)?void 0:t.H9t)?n:[]}},{key:"Z9t",get:function(){var t,n;return null!=(n=null==(t=this.U9t)?void 0:t.Z9t)?n:[]}},{key:"X9t",get:function(){var t,n;return null!=(n=null==(t=this.U9t)?void 0:t.X9t)?n:[]}}]),n}(s0);function Y0(t){return t.rYt.map((function(t){return new a0(t)}))}var K0=function(t){function n(n){var i;return(i=t.call(this,n,e0.iE)||this).U9t=void 0,i.PKt=void 0,i}Rt(n,t);var i=n.prototype;return i.ka=function(){return function(t,n){return Mg(t,{get adSystem(){return n.h$t()},get apiFramework(){return n.G9t},get bitrate(){return n.K9t},get contentType(){return n.Mk},get creativeId(){return n.bYt},get description(){return n.VN},get mediaUrl(){return n.CKt},get title(){return n.oH},get traffickingParameters(){return n.j9t},get traffickingParametersString(){return n.Q9t},get wrapperAdIds(){return n.H9t},get wrapperAdSystems(){return n.Z9t},get wrapperCreativeIds(){return n.X9t},get universalAdIds(){return n.hYt}})}(o0(this),this)},i.z9t=function(t){this.U9t=t,this.L2t(t.vKt,t.q9t,t.Y9t,t.ct,Y0(t),t.J9t),this.V2t=t.n9t?e0.Mjt:e0.M2t},i.h$t=function(){return this.U9t?q0(this.U9t.jqt):void 0},xt(n,[{key:"aQt",get:function(){return l$.f$t}},{key:"G9t",get:function(){return this.U9t?q0(this.U9t.WYt):void 0}},{key:"K9t",get:function(){return this.U9t?this.U9t.$9t:0}},{key:"Mk",get:function(){return this.U9t?q0(this.U9t.Mk):void 0}},{key:"bYt",get:function(){return this.U9t?q0(this.U9t.bYt):void 0}},{key:"t8t",get:function(){return this.U9t?q0(this.U9t.t8t):void 0}},{key:"VN",get:function(){var t;return null==(t=this.U9t)?void 0:t.VN}},{key:"CKt",get:function(){var t,n=null==(t=this.U9t)?void 0:t.CKt;return Yn(n)?n:this.PKt},set:function(t){this.PKt=t}},{key:"oH",get:function(){var t;return null==(t=this.U9t)?void 0:t.oH}},{key:"j9t",get:function(){return this.U9t?q0(this.U9t.j9t):void 0}},{key:"Q9t",get:function(){return this.U9t?q0(this.U9t.Q9t):void 0}},{key:"H9t",get:function(){var t,n;return null!=(n=null==(t=this.U9t)?void 0:t.H9t)?n:[]}},{key:"Z9t",get:function(){var t,n;return null!=(n=null==(t=this.U9t)?void 0:t.Z9t)?n:[]}},{key:"X9t",get:function(){var t,n;return null!=(n=null==(t=this.U9t)?void 0:t.X9t)?n:[]}},{key:"hYt",get:function(){var t,n;return null!=(n=null==(t=this.U9t)?void 0:t.hYt.map((function(t){return{adIdRegistry:t.e8t,adIdValue:t.i8t}})))?n:[]}}]),n}(s0);function q0(t){return null===t?void 0:t}U(),St(),Dt(),U(),St(),Dt();var J0=function(){function t(t,n){this.q6t=t,this.s8t=n}var n=t.prototype;return n.hnt=function(t){this.q6t.hnt(t)},n.MD=function(){this.q6t.MD()},n.yn=function(){return ut.resolve()},xt(t,[{key:"h2t",get:function(){return this.q6t.h2t}},{key:"s2t",get:function(){return this.s8t}},{key:"g2t",get:function(){return this.q6t.g2t}},{key:"snt",get:function(){var t;return null!=(t=this.q6t.snt)?t:null}},{key:"ent",get:function(){var t=this.q6t.n8t;return t?[t]:[]}},{key:"nnt",get:function(){return this.q6t.nnt}},{key:"rnt",get:function(){return this.q6t.rnt}}]),t}(),Q0=function(){function t(t,n){this.I3t=t,this.w$t=[],this.h8t=!1,this.o8t=new J0(this,n)}return xt(t,[{key:"r8t",get:function(){return this.o8t}},{key:"h2t",get:function(){return this.I3t}},{key:"g2t",get:function(){return this.h8t}},{key:"n8t",get:function(){return this.a$t}},{key:"snt",get:function(){return this.p$t}},{key:"nnt",get:function(){var t=this;return Ro(this.w$t,(function(n){if(n.tI)return[];var i=n.zc;if(n===t.p$t&&void 0!==t.a$t){var r=i.indexOf(t.a$t);if(r>=0)return i.slice(r+1)}return i}))}},{key:"rnt",get:function(){return this.w$t.filter((function(t){return!t.tI}))}}]),t}();U(),St(),Ct();var $0=function(t){function n(n){return t.call(this,"a8t",n)||this}return Rt(n,t),n.prototype.ka=function(){return new t1(this.lnt.int())},n}(iB),t1=function(t){function n(n){return t.call(this,"adimpression",n)||this}return Rt(n,t),n}(rB);U(),St(),Ct();var n1=function(t){function n(n){var i;return(i=t.call(this,"u8t")||this).lnt=n,i}return Rt(n,t),n.prototype.ka=function(){return new i1(this.lnt.int())},n}(_g),i1=function(t){function n(n){var i;return(i=t.call(this,"adbuffering")||this).ad=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var r1=function(t){function n(){return t.call(this,"c8t")||this}return Rt(n,t),n.prototype.ka=function(){return new e1},n}(_g),e1=function(t){function n(){return t.call(this,"admetadata")||this}return Rt(n,t),n}(fa),u1=function(t){function n(n,i){var r;return(r=t.call(this,n,l$.f$t)||this).f8t=i,r.m8t=[],r.v8t=[],r}Rt(n,t);var i=n.prototype;return i.l8t=function(t,n){for(var i=0;i<t;i++){var r=new K0(n);n.R2t(r),this.h2t._o(new eB(r))}},i.a3t=function(t,n,i){var r=t;r===1/0&&(r=-1);var e=new H0(r,i,n);this.w$t.push(e),n.o4t(e),this.h2t._o(new tB(e))},i.l5t=function(t,n){for(var i=0,r=this.w$t;i<r.length;i++){var e=r[i];E(e.eOt)&&e.O9t===t&&(e.eOt=n,this.h2t._o(new d0(e)))}},i.Q4t=function(t,n){void 0===n&&(n=!1),n&&bo(this.w$t,t),this.h2t._o(new QM(t))},i.K4t=function(){if(this.snt){this.Q4t(this.snt,!0);var t=Boolean(this.a$t&&this.a$t.F2t===e0.Mjt);this.d8t(void 0,t)}},i.n3t=function(t,n){var i=n.d9t;if(i){var r=i.x6t-1,e=t.zc[r];return e.z9t(n),this.h2t._o(new d$(e)),e.sd.ZJt=i.ZJt,e}},i._8t=function(t){if(!To(this.v8t,t)){if(t){if(this.a$t===t)return;this.a$t=t;for(var n=0,i=this.m8t;n<i.length;n++){var r=i[n];0,this.z6t(r,t,this.f8t.ER)}}else{if(!this.a$t)return;var e=new vB(this.a$t,this.a$t.sd.eOt);this.v8t.push(this.a$t),this.a$t=void 0,this.I3t._o(e)}Eo(this.m8t)}},i.d8t=function(t,n){if(t){var i;if((null==(i=this.snt)?void 0:i.eOt)===t.eOt)return;this.p$t=t,n&&this.h2t._o(new aB(this.p$t))}else{if(!this.p$t)return;var r=new sB(this.p$t);this.p$t=void 0,Eo(this.v8t),n&&this.I3t._o(r)}},i.g8t=function(t){return this.w$t.filter((function(n){return fr(n.eOt,t,.01)}))[0]},i.Td=function(t){if(t.d9t){var n=t.d9t,i=this.g8t(n.eOt);i&&(Eo(this.m8t),this.d8t(i,t.n9t))}},i.Md=function(){this.snt&&this.h2t._o(new sB(this.snt)),Eo(this.m8t),this.K4t()},i.D9t=function(t){if(!this.p$t&&t.d9t){var i=this.g8t(t.d9t.eOt);this.d8t(i,t.n9t)}if(this.p$t){var r=n.p8t(this.p$t,t);if(!r)return;this.n3t(this.p$t,t);var e=t.CKt;Yn(e)&&!Yn(r.CKt)&&(r.CKt=e,this.h2t._o(new d$(r))),this._8t(r),this.h2t._o(new hB(this.a$t,r.sd.eOt))}else 0},i.v9t=function(t,n){if(this._8t(void 0),!n&&this.snt){var i=this.snt;this.d8t(void 0,!1),this.Q4t(i)}},i.i9t=function(t){var n=t.d9t;if(n){var i=this.g8t(n.eOt);if(i){this.u3t(n.eOt,n.R6t,n.ZJt);var r=this.n3t(i,t);r&&this.h2t._o(new m$(r))}}},i.u3t=function(t,n,i){var r=this.g8t(t);if(r){var e=r.zc.length;if(n>e){var u=n-e;this.l8t(u,r),r.ZJt=i,this.h2t._o(new d0(r))}}},i.V6t=function(t,i,r){if(this.p$t){var e=n.p8t(this.p$t,t);if(e){var u=i/r;this.h2t._o(new v0(e,u))}}},i.o9t=function(t,i,r){if(this.p$t){var e=this.a$t;if(!e){var u=n.p8t(this.p$t,t);if(!u||To(this.v8t,u))return void this.m8t.push(i);e=u,this.n3t(this.p$t,t),this._8t(e)}this.z6t(i,e,r)}},i.z6t=function(t,n,i){t===O0.x5t?this.h2t._o(new r1):t===O0.g5t&&n?this.h2t._o(new $0(n)):t===O0.y5t&&n?this.h2t._o(new n1(n)):t===O0.b5t&&n&&i?this.h2t._o(new p0(n,i)):t===O0.zKt&&n&&i?this.h2t._o(new _0(n,i)):t===O0.A5t&&n&&i&&this.h2t._o(new k0(n,i))},i.MD=function(){this.f8t.MD()},i.hnt=function(t){this.f8t.hnt(t)},i.nr=function(){var t=Boolean(this.a$t&&this.a$t.F2t===e0.Mjt);this._8t(void 0),this.d8t(void 0,t);for(var n=0,i=this.w$t;n<i.length;n++){var r=i[n];this.Q4t(r)}Eo(this.w$t),Eo(this.m8t),Eo(this.v8t)},i.yn=function(){this.nr()},n.p8t=function(t,n){if(n.d9t)return t.zc[n.d9t.x6t-1]},xt(n,[{key:"g2t",get:function(){return this.f8t.g2t}}]),n}(Q0);function s1(t){var n=f.google.ima.settings;t.ads&&t.ads.vpaidMode&&f.google.ima.settings.setVpaidMode(function(t){var n=f.google.ima.ImaSdkSettings.VpaidMode;switch(t){case YA.ENABLED:return n.ENABLED;case YA.INSECURE:return n.INSECURE;case YA.DISABLED:default:return n.DISABLED}}(t.ads.vpaidMode)),n.setPlayerVersion("9.3.1"),n.setPlayerType("THEOplayer"),n.setAutoPlayAdBreaks(!0),n.setDisableCustomPlaybackForIOS10Plus(!o1(t));var i=function(t){var n,i,r,e=null==(i=t.ads)||null==(n=i.googleIma)?void 0:n.language;if(void 0!==e)return e;var u=null==(r=t.ui)?void 0:r.language;if(ni(u))return u;return}(t);i&&n.setLocale(i)}function o1(t){return Gn.su&&t.allowNativeFullscreen}U(),St();var a1=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).mo=!1,a.p2t=!1,a.R8t=void 0,a.I8t=void 0,a.Q8t=-1,a.V2t="none",a.C8t=!1,a.S8t=!1,a.N8t=new Qo,a.T8t=!1,a.E8t=!1,a.t7t=function(t){a.h2t._o(t)},a.J8t=function(t){a.R8t=new om(sm.ADVERTISEMENT_ERROR,"Error while recovering from failed IMA ad.",t.error.message),a.I8t=fm(a.R8t)},a.x9t=NaN,a.P8t=function(){a.mo||a.kI()},a.xQ=r,a.dZ=!0,a.MA=NaN,a.O4=Ny.eO,a.k8t=!1,a.x8t=!1,a.Z4t=new u1(a.h2t,a),a.Z8t=new G0(a,a.na,a.Z4t),a.Z8t.bn(Yp.fa,a.J8t),a.na.bn(va.ho,a.P8t),a.x4t=new B0(a,a.na,a.y2t,e,a.Z4t),a.F8t=o,a.O8t=s,a.V8t=u,a.be(),a.O8t.bn("$8t",a.t7t),a}Rt(n,t);var i=n.prototype;return i.y8t=function(t,n,i){n===zM.tnt&&void 0!==i&&(this.p2t=i),this.x4t.U4t(t,n)},i.hnt=function(t){for(var n=this.A8t(),i=0;i<n.length;i++){var r=n[i];lJ(r.sources,r.timeOffset)||t.g6(r,zM.$st,!1)}},i.A8t=function(){for(var t=[],n=this.r2t,i=n.ent,r=n.nnt,e=[],u=0,s=i.concat(r);u<s.length;u++){var o=s[u],a=o.sd.F9t;if(!To(e,a.IC)){var c,h,f=a.S4t(o.H9t);if(f>=0)(c=t).push.apply(c,Ut(a.V3t.slice(f)));else(h=t).push.apply(h,Ut(a.V3t));e.push(a.IC)}}for(var v=0,l=this.x4t.nnt;v<l.length;v++){var d,g=l[v];if(!g.$3t)(d=t).push.apply(d,Ut(g.V3t))}return Po(t)},i.xR=function(){if(!this.zJt)return 0;var t=this.zJt.E9t();return E(this.ct)||t<0?0:this.ct-t},i.RR=function(t,n){},i.jd=function(){return this.MA||NaN},i.d4=function(t){this.MA=t},i.XR=function(){return this.na.ZR},i.zR=function(t){this.b9t(this.gI,t,!0)},i.jR=function(){return this.dZ},i.H6t=function(t){this.dZ=t},i.fI=function(){var t,n,i;return null!=(i=null==(n=this.zJt)||null==(t=n.u9t())?void 0:t.Y9t)?i:0},i.mI=function(){var t,n,i;return null!=(i=null==(n=this.zJt)||null==(t=n.u9t())?void 0:t.q9t)?i:0},i.pR=function(){return[]},i.b2t=function(t){this.I4t=t,this.x4t.b2t(t)},i.n5t=function(){!this.S8t&&this.zJt&&(this.zJt.Sn(),this.S8t=!0)},i.m9t=function(t){this.F2t=t?t.n9t?"linear":"nonlinear":"none"},i.aI=function(){return BA.pB().ks()},i.pI=function(){return this.na.gI},i.wI=function(t){this.b9t(t,this.ZR,!0)},i.r9t=function(){return this.na.ZR?0:this.na.gI},i.b9t=function(t,n,i){var r=this.na.gI!==t||this.na.ZR!==n;r&&(this.na.gI=t,this.na.ZR=n),this.zJt&&i&&this.zJt.wI(this.r9t()),r&&this._o(new ET(this.ER,this.gI))},i.DR=function(){return!1},i.NR=function(){if(this.R8t&&this.p2t)return this.R8t},i.LR=function(){if(this.I8t&&this.p2t)return this.I8t},i.oI=function(){return this.O4},i.F4=function(t){this.O4=t,this._o(new Cy(this.ER,t))},i.kI=function(){this.na.vn(va.ho,this.P8t),this.mo||(this.mo=!0,this.x4t.kI(),this.C9t())},i.xI=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:if(t.D8t)return[2];t.N8t.jw(),t.N8t=new Qo,n=t.KR,t.H6t(!1),t._o(new _T(t.ER)),t.M8t()||(t.S9t||t.na.be(),t._o(new Py(t.ER))),t.P9t||(t.N9t=!1),i=Boolean(t.zJt),t.D8t=t.x4t.W4t(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,t.D8t];case 2:return r.sent(),[3,4];case 3:return t.D8t=void 0,[7];case 4:try{Zo(t.N8t.Uw)}catch(t){return[2]}if(t.mo||t.P8t(),t.R8t&&t.p2t)return[2];if(t.zJt){if(n)if(i)try{Zo(t.N8t.Uw),t.zJt.L8t(),t._o(new Oy(t.ER))}catch(t){return[2]}else t.n5t()}else t.p2t||(t.x1t(),t.y2t.xI());return[2]}}))}))()},i.EI=function(){var t;this.KR||(this.H6t(!0),this._o(new yT(this.ER))),this.N8t.jw(),this.P9t?null==(t=this.zJt)||t.EI():this.N9t=!0},i.MD=function(){var t;null==(t=this.zJt)||t.MD()},i.g9t=function(){this.zJt&&(this.O8t.B8t(),this.zJt.RI(),this.zJt.Xw(),this.zJt=void 0,this.F2t="none",this.S8t=!1)},i.RI=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return t.x9t=0,t.x4t.nr(),t.N8t.jw(),t.H6t(!0),t.k8t=!1,t.x8t=!1,t.P9t=!1,t.Z4t.nr(),t.g9t(),t.l9t(),null==(n=t.F8t)||n.nr(),t.N9t=!1,t.O8t.Xw(),[2]}))}))()},i.ge=function(){this.V8t.ge(),this.S9t&&this.na.ge()},i.be=function(){this.V8t.be()},i.W8t=function(){return Boolean(this.zJt)&&To(this.zJt.U8t(),-1)&&!this.k8t},i.e4t=function(){this.x4t.e4t()},i.u5t=function(){return this.x4t.u5t},i.k4t=function(){this.x4t.k4t()},i.c5t=function(){return this.x4t.c5t()},i.c2t=function(t){if(this.W8t()){if(t.type===va.zy&&this.na.PR)return!0;if(t.type===va.Dy)return this.k8t=!0,this.O8t.B8t(),!0}return!1},i.M8t=function(){return Boolean(this.zJt&&this.zJt.u9t())},i.s5t=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n.g9t(),i=n.G8t(),n.V8t.xj(),[4,n.O8t.s5t(t,n.F8t,i)];case 1:return n.zJt=e.sent(),n.H8t(n.zJt),[3,3];case 2:return r=e.sent(),n.Z8t.$6t(r),[3,3];case 3:return[2]}}))}))()},i.H8t=function(t){if(t.wI(this.r9t()),this.x4t.H4t===M0.O4t){var n=t.U8t();if(n.length)for(var i=0;i<n.length;i++){var r=n[i];this.Z4t.a3t(r,this.x4t.E4t)}else this.Z4t.a3t(this.x4t.E4t.od,this.x4t.E4t)}this.Z8t.nr(),this.Z8t.D6t(t)},i.TI=function(){if(this.qJt&&this.S9t&&this.M8t())return this.na.TI()},i.SI=function(){return this.S9t&&this.g2t?this.na.Sa:t.prototype.SI.call(this)},i.G8t=function(){var t,n,i=!!(this.x4t.H4t===M0.O4t)&&this.b8t;return void 0!==this.xQ.ads.googleIma.uiElements?t=this.xQ.ads.googleIma.uiElements:this.xQ.ads.showCountdown||(t=[]),void 0!==this.xQ.ads.allowedMimeTypes&&(n=this.xQ.ads.allowedMimeTypes),{X8t:n,z8t:t,q8t:i,K9t:this.xQ.ads.googleIma.bitrate,Y8t:void 0,K8t:this.I4t}},i.C9t=function(){if(this.qJt){var t=this.G8t();this.qJt.j8t(t)}},i.d3t=function(t){this.R8t=new om(sm.ADVERTISEMENT_ERROR,t.wb),this.I8t=new ol(ul.AD_ERROR,"There was a problem playing ads.",this.R8t),this.h2t._o($$.l2t(t))},i.l9t=function(){this.g2t&&(this.na.ge(),this.x1t(),this.be())},i.B9t=function(){var t;this.na.xR()!==1/0&&0!==this.na.aI().length&&((null==(t=this.x4t.E4t)?void 0:t.G3t)&&-1!==this.Q8t&&(this.na.RR(this.na.xR()+this.Q8t),this.Q8t=-1))},i.L9t=function(t){var n,i;this.Q8t=null!=(i=null==(n=t.d9t)?void 0:n.ZJt)?i:-1},i.x1t=function(){t.prototype.x1t.call(this),this.na.ge(),this.S9t&&!this.na.PR&&this.na.xI()},i.B3t=function(){this.S9t||t.prototype.B3t.call(this)},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Z8t.vn(Yp.fa,n.J8t),[4,t.prototype.yn.call(n)];case 1:return i.sent(),n.g9t(),n.O8t.vn("$8t",n.t7t),n.O8t.Xw(),n.V8t.Xw(),n.x4t.yn(),n.Z8t.yn(),[2]}}))}))()},xt(n,[{key:"r2t",get:function(){return this.Z4t.r8t}},{key:"w8t",get:function(){return this.Z4t}},{key:"f9t",get:function(){return this.x4t}},{key:"S9t",get:function(){return o1(this.xQ)}},{key:"s2t",get:function(){return n.s2t}},{key:"b8t",get:function(){return this.xQ.ads.preload===qA.MIDROLL_AND_POSTROLL}},{key:"F2t",get:function(){return this.V2t},set:function(t){this.V2t=t}},{key:"zJt",get:function(){return this.qJt},set:function(t){this.qJt=t,this.S8t=!1}},{key:"P9t",get:function(){return this.T8t},set:function(t){this.T8t=t}},{key:"bnt",get:function(){return this.p2t}},{key:"w9t",get:function(){return this.k8t}},{key:"N9t",get:function(){return this.E8t},set:function(t){this.E8t=t}},{key:"y9t",get:function(){return this.x8t},set:function(t){this.x8t=t}},{key:"M9t",get:function(){return this.C8t},set:function(t){this.C8t=t}}],[{key:"s2t",get:function(){return l$.f$t}}]),n}(C0);U(),St();var c1=function(){function t(){}var n=t.prototype;return n.registerWebImaAdPlayerConstructor=function(t){this.e7t=t},n.createAdPlayer=function(t,n,i){return h1()&&this.e7t?this.e7t(t,n,i):void 0},t}();function h1(){return!!Boolean(f.google&&f.google.ima)&&!(1===k.keys(f.google.ima).length&&f.google.ima.dai)}c1.Vg=new c1;var f1=function(){function t(){}var n=t.prototype;return n.CZ=function(t){return t&&t.integration===IS.GOOGLE_IMA},n.t2t=function(t,n,i){return c1.Vg.createAdPlayer(t,n,i)},n.g6=function(t,n,i,r){i.y8t(t,n,r)},n.qz=function(t){var n=AQ(t.sources);if(n){var i={integration:IS.GOOGLE_IMA,sources:n,omidAccessModeRules:X0(t.omidAccessModeRules)},r=SQ(t.timeOffset);return void 0!==r&&(i.timeOffset=r),i}},xt(t,[{key:"$1t",get:function(){return a1.s2t}}]),t}();RS.Vg.PZ(new f1),U(),St(),Dt(),U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Ct();var v1=function(t){function n(){return t.call(this,"g$t")||this}return Rt(n,t),n.prototype.ka=function(){return new l1},n}(_g),l1=function(t){function n(){return t.call(this,"adloaded")||this}return Rt(n,t),n}(fa),d1=-1,g1=function(){function t(t,n){this.w$t=[],this.e$t=!1,this.j3t=t,this.Rp=0,this.JJt=n,this.h7t=NaN,this.o7t=!1,this.s7t=new o$(this,this.JJt)}var n=t.prototype;return n.a7t=function(){return this.Rp<this.w$t.length},n.Bc=function(){var t;return this.Rp<this.w$t.length&&(t=this.w$t[this.Rp],this.Rp++),t},n.u7t=function(t){t.Ojt=this,this.w$t.push(t)},n.c7t=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:i=!1,r=0,e=n.w$t,c.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,u.$n()];case 3:return c.sent(),i=!0,[3,5];case 4:return s=c.sent(),bo(n.w$t,u),o=u.wnt.sources,a="string"==typeof o?o:o.src,t._o($$.d2t(s,a)),[3,5];case 5:return r++,[3,1];case 6:return n.o7t=!0,[2,i]}}))}))()},n.i$t=function(){this.e$t=!0},n.t$t=function(){return this.e$t},n.l7t=function(){return this.w$t.some((function(t){return r$(t).some((function(t){return t.sYt}))}))},xt(t,[{key:"YJt",get:function(){return this.w$t}},{key:"i7t",get:function(){return this.s7t}},{key:"Qut",get:function(){return this.Rp}},{key:"n7t",get:function(){return this.j3t}},{key:"r7t",get:function(){return this.o7t}},{key:"od",get:function(){if(E(this.h7t)){var t=fQ.hQt(this.j3t,this.JJt.t.jd());void 0===t||E(t)||(this.h7t=t)}return this.h7t}}]),t}(),m1=function(t){function n(n,i,r,e){var u,s;return u=t.call(this)||this,s=u,u.R7t=!1,u.y7t=function(t){return na(u.A7t(t))},u.A7t=Zt((function(t){var n,i,r,e,u,o,a;return Ht(this,(function(c){switch(c.label){case 0:return s.x7t(),n=t.currentTime,i=t.currentTime!==d1?s.k7t(s.s4,t.currentTime):s.T7t(t.currentTime,0,0)[0],u=s.na.jd()-10,(e=s.S7t(d1)&&A.ceil(n)===A.ceil(u)?s.T7t(d1,10,0).filter((function(t){return!t.r7t})):s.T7t(n,10,0).filter((function(t){return!t.r7t}))).length?[4,ut.all(e.map((function(t){return t.c7t(s.g7t)})))]:[3,2];case 1:o=c.sent(),(a=o.some((function(t){return!0===t})))&&s._o(new v1),(!a||!s.m7t.B7t||e[0].od<s.m7t.B7t.od)&&(r=e[0]),c.label=2;case 2:return i&&(i!==s.m7t.B7t&&(r=i),s.I7t([i])),r?(s.m7t.p7t(),s.m7t.B7t=r,[4,s.m7t.v7t()]):[3,4];case 3:c.sent(),c.label=4;case 4:return E(s.na.jd())||(s.s4=t.currentTime),[2]}}))})),u.na=n,u.S3t=i,u.M7t=new s$(u.S3t,u.na),u.I4t=void 0,u.R7t=!1,n.jd()!==1/0?u.jO=0:u.jO=n.xR(),u.s4=u.jO,u.f7t=[],u.g7t=r,u.m7t=e,u.w7t=!1,u}Rt(n,t);var i=n.prototype;return i._7t=function(){this.m7t.v7t()},i.Sn=function(){this.Mo(),this.g7t.bn("mnt",this.m7t.p7t)},i.Tn=function(){this.Fo(),this.g7t.vn("mnt",this.m7t.p7t),this.s4=this.jO,this.m7t.nr();for(var t=0,n=this.f7t;t<n.length;t++){n[t].i$t()}Eo(this.f7t)},i.Mo=function(){this.w7t||(this.na.bn(va.hb,this.y7t),this.w7t=!0)},i.Fo=function(){this.w7t&&(this.na.vn(va.hb,this.y7t),this.w7t=!1)},i.b7t=function(){return this.A7t(new yg(d1,void 0))},i.S7t=function(t){return this.T7t(t,0,0).length>0},i.k7t=function(t,n){for(var i,r=0,e=0,u=this.f7t;e<u.length;e++){var s=u[e];if(!s.t$t()){var o=s.od;o>=t&&o<=n&&o>=r&&!E(o)&&(r=(i=s).od)}}return i},i.E7t=function(t){return this.A7t(new yg(t,void 0))},i.x7t=function(){if(!this.R7t&&void 0!==this.I4t){this.R7t=!this.f7t.some((function(t){return E(t.od)}));for(var t=0,n=this.f7t;t<n.length;t++){var i=n[t];i.od!==d1&&i.od<=this.I4t&&!i.t$t()&&i.i$t()}}},i.I7t=function(t){for(var n=0;n<t.length;n++){t[n].i$t()}this.S3t.C7t(t),0===this.d7t&&this.Fo()},i.T7t=function(t,n,i){var r=this;return this.f7t.filter((function(e){if(e.t$t())return!1;var u=e.od;return r.P7t(u,t)||r.D7t(u,t,n,i)}))},i.P7t=function(t,n){switch(n){case 0:return 0===t;case d1:return t===d1;default:return!1}},i.D7t=function(t,n,i,r){if(t<0)return!1;var e=t-n;return-1!==e&&e<=i&&e>=-r},i.N7t=function(t){if(t&&t.length>0){for(var i=0;i<t.length;i++){var r=t[i],e=n.T4t(r.eOt),u=this.egt(r);-1===u&&(this.R7t=void 0===this.I4t,this.f7t.push(new g1(e,this.M7t)),u=this.f7t.length-1),this.f7t[u].u7t(r)}this.Mo()}},i.egt=function(t){var i=n.T4t(t.eOt);return yo(this.f7t,(function(t){return i===n.T4t(t.n7t)}))},i.L7t=function(t){bo(this.f7t,t)},i.b2t=function(t){this.I4t=t,this.R7t=void 0===t},n.T4t=function(t){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return"0";case"end":case"100%":return"-1";default:return t}},xt(n,[{key:"d7t",get:function(){for(var t=0,n=0,i=this.f7t;n<i.length;n++){i[n].t$t()||(t+=1)}return t}},{key:"nnt",get:function(){return this.f7t}}]),n}(ha);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt(),Ct();var w1,p1=function(t){function n(n,i){var r;return(r=t.call(this)||this).Z7t=[],r.G7t=[],r.YG=void 0,r.I3t=new ha,r.z7t=function(t){t.stopPropagation(),r.q7t()},r.q7t=function(){for(var t=0,n=r.Z7t;t<n.length;t++)for(var i=0,e=n[t].eKt;i<e.length;i++){var u=e[i];cJ(u.uri)}},r.b0t=v.createElement("div"),r.b0t.style.display="none",r.Y7t=n,r.K7t=i,r}Rt(n,t);var i=n.prototype;return i.F7t=function(){this.V7t(),this.W7t(),this.YG=void 0},i.U7t=function(t){this.G7t=this.G7t.concat(t)},i.H7t=function(t){this.Z7t=this.Z7t.concat(t)},i.W7t=function(){this.G7t=[]},i.V7t=function(){this.Z7t=[]},i.X7t=function(t){for(var n=0,i=this.G7t;n<i.length;n++){var r=i[n];r.WX===t&&cJ(r.eventURL)}},i.ge=function(){this.O7t.style.display=""},i.be=function(){this.O7t.style.display="none"},i.yn=function(){this.Ro(),this.I3t.Ro(),ai(this.b0t)},xt(n,[{key:"O7t",get:function(){return this.b0t}},{key:"h2t",get:function(){return this.I3t}}]),n}(ha);function y1(t,n){var i=n;if(!function(t){return"ui"in t}(t))return i;var r,e=t.ui.language;if(ni(e)){var u=t.ui.languages;if(!u)return i;r=u[e]}else r=e;return r&&r[n]&&(i=r[n]),i}U(),St(),U(),St(),on();var _1=(sn(w1={},yA.qC,1),sn(w1,yA.YC,2),sn(w1,yA.KC,2),w1);function b1(t,n){var i=n?n.map((function(t){return t.toLowerCase()})):n;return uo(t.filter((function(t){var n=t.type.toLowerCase();return!!Jn(i)&&-1!==i.indexOf(n)&&eQ(n)})),(function(t,n){return _1[t.type]-_1[n.type]})).map(k1)}function k1(t){return AA({src:t.contentURL,type:t.type,isAdvertisement:!0})}function A1(t,n){return bL(T1(t),T1(n))}function T1(t){return{Ti:t.height,ji:t.width}}function S1(t,n,i,r){var e,u=function(t,n,i,r){var e,u=1/0,s=t.filter((function(t){return!eQ(t.type)})).filter((function(t){return void 0===r||-1!==r.indexOf(t.type)}));if(s.length){for(var o=0;o<s.length;o++){var a=s[o],c=(A.abs(a.width/n-1)+A.abs(a.height/i-1))/2;c<u&&(u=c,e=a)}return e||s.sort(A1)[0]}}(t.TKt,n.width,n.height,i),s=b1(t.TKt,i);if(u){var o=k1(u);o&&s.push(o)}s.length>0&&(t.CKt=null==(e=s[0].src)?void 0:e.trim());return mE({sources:s},r)}var E1=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).Rte=r,a.MT=e,a.S3t=u,a.Ku=s,a.J7t=o,a.Q7t=!1,a.Ete=0,a.s4=-1,a.GT=new Qo,a.ete=!0,a.yte=function(){a.rte()},a.Ate=function(){a.GT=void 0,a.Q7t||(a.Tte(),a.Q7t=!0),a.ete&&(a.ete=!1,a.S3t._7t()),a.O7t.style.display="block",a.J7t.vn(Iy.UL,a.Ate),a.Q7t=!0},a.bte=function(){var t=a.ER,n=a.ct,i=t/n;(0===a.Ete&&i>=.25?(a.X7t(FJ.ZKt),a.Ete=1):1===a.Ete&&i>=.5?(a.X7t(FJ.zKt),a.Ete=2):2===a.Ete&&i>=.75&&(a.X7t(FJ.XKt),a.Ete=3),a.cte(t,n),a.Pte(),a.s4=t,a.wKt)&&(-1!==a.wKt.xKt&&a.wKt.xKt<a.wKt.ct&&(null!=a.E0t||(a.E0t=a.ote()),a.ER<a.wKt.xKt?a.E0t.H$t(a.wKt.xKt-a.ER):a.E0t.X$t()))},a.wte=function(){var t,n;a.GT=void 0,a.J7t.vn(Yp.fa,a.wte),a.ete=!0,null==(t=a.YG)||t.bjt(QJ.mjt),a.Q7t=!1,a.J7t.be();var i=(null==(n=a.J7t.bt)?void 0:n.src)||"";a.Y7t(i)},a.vte=function(){a.Ds(new yg(a.ER,void 0))},a.mte=function(){a.Ds(new bT(a.ct))},a.pte=function(){a.Ds(new ET(a.ER,a.gI))},a.ute=function(){a.S3t.EI()},a.hte=function(){a.tte&&(a.X7t(FJ.FKt),a.h2t._o(new v0(a.tte,a.ER/a.ct)),a.rte(!1))},a.O7t.className="theoplayer-ad-linear",a.O7t.style.zIndex="10",bi(a.O7t),a.J7t.be(),a.xte=!1,a}Rt(n,t);var i=n.prototype;return i.xI=function(){this.J7t.KR&&(this.J7t.xI(),this._o(new _T(this.ER)),this.Q7t&&this.X7t(FJ.BKt),this.Q7t=!0)},i.EI=function(){this.J7t.KR||(this.J7t.EI(),this._o(new yT(this.ER)),this.X7t(FJ.zy))},i.RI=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return null==(n=t.GT)||n.jw(),t.GT=void 0,t.be(),t.Q7t=!1,t.ete=!0,t.ite(),t.ste(),[4,t.nte()];case 1:return i.sent(),[2]}}))}))()},i.rte=function(t){void 0===t&&(t=!0),this.Q7t=!1,t&&this.X7t(FJ.qKt),this.be(),this.K7t()},i.ote=function(){var t,n=null==(t=this.S3t.Ma)?void 0:t.mi,i=new E$(this.Ku,n);return this.O7t.appendChild(i.we),i.bn("MD",this.hte),i},i.ate=function(){this.wKt&&this.wKt._Kt.QYt&&(this.S0t=new b$(this.O7t),this.S0t.B$t=this.wKt._Kt.QYt,this.S0t.bn("clickstart",this.ute),this.S0t.bn("click",this.q7t))},i.cte=function(t,n){for(var i=0,r=this.G7t;i<r.length;i++){var e=r[i];if(e.WX===FJ.qy){var u=HJ(e.nc,n);void 0!==u&&this.s4<u&&u<=t&&cJ(e.eventURL)}}},i.dte=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.wKt&&t.fte?(n=S1(t.wKt,t.fte,t.MT.ads.allowedMimeTypes,t.MT)).sources.length?(t.GT=new Qo,t.ete=!0,[4,zo(t.J7t.Ca(n,t.GT.Uw),t.GT)]):[3,2]:[2];case 1:return i.sent(),t.J7t.ge(),t.wKt.kYt(),[3,4];case 2:return[4,t.J7t.nr()];case 3:return i.sent(),t.Y7t(""),t.wKt.kYt(),[2];case 4:return t.ate(),[2]}}))}))()},i._te=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return r.tte=t,r.wKt=t.sYt,r.J7t.bn(va.hb,r.vte),r.J7t.bn(va.Iy,r.mte),r.J7t.bn(va.ub,r.pte),r.J7t.bn(Ry,r.Ds),r.wKt.cYt&&0!==r.wKt.cYt.length&&r.U7t(r.wKt.cYt),r.wKt._Kt&&r.H7t(r.wKt._Kt),r.YG=n,r.fte=i,0===r.wKt.TKt.length?[3,2]:(r.J7t.bn(Yp.fa,r.wte),[4,r.dte()]);case 1:e.sent(),r.J7t.bn(va.Dy,r.yte),r.J7t.bn(va.hb,r.bte),r.J7t.bn(Iy.UL,r.Ate),r.J7t.bn(va.jy,r.Ds),e.label=2;case 2:return[2]}}))}))()},i.ZQt=function(){this.j7t&&this.Ste&&this.hte()},i.Tte=function(){this.X7t(FJ.fTt),this.tte&&this.h2t._o(new hB(this.tte,this.ER))},i.nte=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.J7t.vn(Yp.fa,t.wte),t.J7t.vn(va.Dy,t.yte),t.J7t.vn(va.hb,t.bte),t.J7t.vn(Iy.UL,t.Ds),t.J7t.vn(Iy.UL,t.Ate),t.J7t.vn(va.jy,t.Ds),t.J7t.vn(va.hb,t.vte),t.J7t.vn(va.Iy,t.mte),t.J7t.vn(va.ub,t.pte),t.J7t.vn(Ry,t.Ds),t.tte&&(t.tte.i$t(),t.h2t._o(new vB(t.tte,t.ER))),t.kte(),t.F7t(),t.ite(),t.ste(),t.tte=void 0,t.wKt=void 0,t.fte=void 0,[4,t.J7t.nr()];case 1:return n.sent(),t.J7t.be(),t.O7t.style.cursor="",t.Ete=0,t.s4=-1,t.xte&&(t.Rte.nte(),t.xte=!1),[2]}}))}))()},i.kte=function(){this.S0t&&(this.S0t.Xw(),this.S0t=void 0)},i.ste=function(){this.Ite&&(ai(this.Ite),this.Ite=void 0)},i.ite=function(){this.E0t&&(this.E0t.yn(),this.E0t=void 0)},i.Cte=function(){this.xte=!0},i.Pte=function(){var t;this.Ite||(this.Ite=v.createElement("div"),this.Ite.className="theoplayer-ad-overlay-component theo-ad-remaining-container",this.O7t.appendChild(this.Ite));var n=null==(t=this.tte)?void 0:t.sd;if(n){var i=n.zc.filter(v$),r=y1(this.MT,"The content will play in")+" "+A.round(n.XJt)+" "+y1(this.MT,"seconds");if(i.length>1){var e=i.filter((function(t){return t.t$t()})).length;r+=". "+y1(this.MT,"Ad")+" "+(e+1)+"/"+i.length}CP(this.Ite,r)}},xt(n,[{key:"j7t",get:function(){return this.Q7t}},{key:"ER",get:function(){return this.J7t.ER}},{key:"ct",get:function(){var t=this.J7t.ct;return E(t)&&this.wKt&&(t=this.wKt.ct||0),t}},{key:"PR",get:function(){return this.J7t.PR}},{key:"ZR",get:function(){return this.J7t.ZR},set:function(t){this.J7t.ZR=t,t?this.X7t(FJ.MKt):this.X7t(FJ.LKt)}},{key:"KR",get:function(){return this.J7t.KR}},{key:"rI",get:function(){return this.J7t.rI}},{key:"gI",get:function(){return this.J7t.gI},set:function(t){this.J7t.gI=t}},{key:"dI",get:function(){return this.J7t.dI}},{key:"vI",get:function(){return this.J7t.vI}},{key:"$7t",get:function(){return this.tte}},{key:"Ste",get:function(){return this.wKt&&-1!==this.wKt.xKt&&this.J7t.ER>=this.wKt.xKt}}]),n}(p1);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt(),Ct();var I1=function(t){function n(){var i;return(i=t.call(this)||this).q$t=function(t){i._o(new fa("MD")),i.Dte(t)},i.Dte=function(t){t.stopPropagation()},i.Vs=n.mr(),i.z$t(),i}Rt(n,t);var i=n.prototype;return i.z$t=function(){this.we.addEventListener("mouseup",this.q$t),this.we.addEventListener("touchend",this.q$t),this.we.addEventListener("mousedown",this.Dte)},i.Z$t=function(){this.we.removeEventListener("mouseup",this.q$t),this.we.removeEventListener("touchend",this.q$t),this.we.removeEventListener("mousedown",this.Dte)},i.yn=function(){this.Z$t(),ai(this.Vs)},n.mr=function(){var t=v.createElement("div");return t.className="theoplayer-ad-nonlinear-close",t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.cursor="pointer",t.style.fontSize="1.7em",t.style.lineHeight="0.75em",t},xt(n,[{key:"we",get:function(){return this.Vs}}]),n}(aa),R1=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Ote=function(){e.Ute(),e.X7t(FJ.JKt),e.K7t()},e.Bte=function(t){var n,i;e.Ute(),null==(n=e.YG)||n.bjt(QJ.pjt);var r,u,s,o=null==(i=e.u$t)?void 0:i.aYt[0],a=null!=(u=null!=(r=null==o?void 0:o._Yt)?r:null==o?void 0:o.dYt)?u:null==o?void 0:o.mYt;e.Y7t(null!=(s=null==a?void 0:a.cjt)?s:"")},e.Wte=function(){e.be(),ci(e.O7t),e.K7t(),e.Mte=void 0,e.u$t=void 0},e.Hte=function(){e.pu||(e.Vte=void 0,e.pu=new I1,e.O7t.children[0].appendChild(e.pu.we),e.pu.bn("MD",e.Zte))},e.Zte=function(){e.X7t(FJ.FKt),e.ZQt()},e.O7t.className="theoplayer-ad-nonlinear",e.O7t.style.position="absolute",e.O7t.style.width="100%",e.O7t.style.bottom="3em",e.O7t.style.zIndex="10",e.O7t.style.textAlign="center",e.S3t=r,e}Rt(n,t);var i=n.prototype;return i.F7t=function(){t.prototype.F7t.call(this),this.O7t&&ci(this.O7t)},i._te=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return r.u$t&&r.nte(),r.Mte=t,r.u$t=t.nYt,0!==r.u$t.cYt.length&&r.U7t(r.u$t.cYt),r.YG=n,0===r.u$t.aYt.length?[3,2]:(r.H7t(r.u$t.aYt[0].pYt),r.O7t.addEventListener("error",r.Bte),r.O7t.addEventListener("load",r.Ote),[4,r.dte()]);case 1:i.sent(),r.Fte(),i.label=2;case 2:return[2]}}))}))()},i.ZQt=function(){var t;if(void 0===this.Vte){var n=null==(t=this.u$t)?void 0:t.aYt[0];n&&n.sd&&-1!==n.sd.xKt&&(this.X7t(FJ.FKt),this.h2t._o(new v0(this.Mte,0)),this.Wte())}},i.Tte=function(){void 0!==this.Mte&&this.h2t._o(new hB(this.Mte,this.S3t.ER))},i.RI=function(){this.nte(),this.Mte=void 0,this.u$t=void 0},i.nte=function(){this.Ute(),void 0!==this.Mte&&(this.Mte.i$t(),this.h2t._o(new vB(this.Mte,this.S3t.ER))),this.F7t(),this.Gte(),void 0!==this.Vte&&(m(this.Vte),this.Vte=void 0)},i.Ute=function(){this.O7t.removeEventListener("load",this.Ote),this.O7t.removeEventListener("error",this.Bte)},i.dte=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c;return Ht(this,(function(h){return(n=v.createElement("div")).className="theoplayer-ad-nonlinear-content",n.style.position="relative",n.style.display="inline-block",i=t.u$t.aYt[0],r=v.createElement("a"),i.pYt.QYt&&(r.href=i.pYt.QYt,r.target="zu",r.setAttribute("rel","noopener")),i._Yt?(e=i._Yt,(u=v.createElement("iframe")).src=e.cjt,r.appendChild(u)):i.dYt?(s=i.dYt,(o=v.createElement("img")).src=s.cjt,r.appendChild(o)):i.mYt&&(a=i.mYt,(c=v.createElement("iframe")).src=a.cjt,r.appendChild(c)),i.kYt(),r.addEventListener("mousedown",t.z7t),r.addEventListener("touchend",t.z7t),t.O7t.firstChild&&(ci(t.O7t),t.nte()),n.appendChild(r),t.O7t.appendChild(n),t.ge(),[2]}))}))()},i.Fte=function(){var t;if(this.u$t){var n=null==(t=this.u$t.aYt[0].sd)?void 0:t.xKt;void 0!==n&&-1!==n&&(this.Vte=f.setTimeout(this.Hte,1e3*n))}},i.Gte=function(){this.pu&&(this.pu.vn("MD",this.Zte),this.pu.yn()),this.pu=void 0},xt(n,[{key:"Nte",get:function(){return this.Mte}},{key:"Lte",get:function(){return this.pu}},{key:"Xte",get:function(){return this.S3t.zte()}}]),n}(p1);U(),St(),Gt(),Jt();var C1=function(){function t(){}return t.qte=function(t,n,i){return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:r=[],e=t.shift(),a.label=1;case 1:if(!e)return[3,6];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,(new cQ).Cjt(e,n)];case 3:return u=a.sent(),r=r.concat(u),[3,5];case 4:return s=a.sent(),o=$$.d2t(s,e.sources.src),i._o(o),[3,5];case 5:return e=t.shift(),[3,1];case 6:return[2,r]}}))}))()},t}();U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Ct();var N1=function(t){function n(){return t.call(this,"wat")||this}return Rt(n,t),n.prototype.ka=function(){return new x1},n}(_g),x1=function(t){function n(){return t.call(this,"statechange")||this}return Rt(n,t),n}(fa);U(),St();var D1=function(t){return t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted",t}({});U(),St(),Ct(),U(),St(),Dt(),Ct();var P1=function(){function t(){this.tc=[],this.eu=void 0}var n=t.prototype;return n.fC=function(t){return this.tc[t]},n.kO=function(t){this.tc.push(t),this.eu&&this.eu.push(t.wa),this.Yte(t)},n.Kte=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.kO(i)}},n.jte=function(t,n){n>=0&&n<=this.tc.length&&(this.tc.splice(n,0,t),this.eu&&this.eu.splice(n,0,t.wa),this.Yte(t))},n.EO=function(t){return To(this.tc,t)},n.eT=function(t){this.Qte(this.tc.indexOf(t))},n.Qte=function(t){if(t>=0&&t<this.tc.length){var n=this.tc[t];ko(this.tc,t),this.eu&&ko(this.eu,t),this.Jte(n)}},n.Fb=function(){var t=this.tc.slice();Eo(this.tc),this.eu&&Eo(this.eu);for(var n=0;n<t.length;n++){var i=t[n];this.Jte(i)}},xt(t,[{key:"Zu",get:function(){return this.tc}},{key:"V",get:function(){return this.tc.length}},{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),t}(),M1=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).$te=new ha,n.Ds=function(t){n._o(t)},n}Rt(n,t);var i=n.prototype;return i.ka=function(){return function(t){var n=function(t){var n=t.Zu.map((function(t){return t.wa}));return n.item=function(n){var i=0|n,r=t.fC(i);return r&&r.wa||void 0},n}(t),i=new mR(t,n);return n.addEventListener=function(t,n){i.bn(t,n)},n.removeEventListener=function(t,n){i.vn(t,n)},n}(this)},i.bn=function(t,n){this.$te.bn(t,n)},i.oy=function(t){this.$te.oy(t)},i.Ro=function(){this.$te.Ro()},i._o=function(t){this.$te._o(t)},i.vn=function(t,n){this.$te.vn(t,n)},i.vy=function(t){this.$te.vy(t)},i.gy=function(t){this.$te.gy(t)},i.py=function(t,n){return this.$te.py(t,n)},n}(P1);U(),St(),Ct();var B1=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return Rt(n,t),n}(fa),O1=function(t){function n(n){var i;return(i=t.call(this,"iee")||this).eee=n,i}return Rt(n,t),n.prototype.ka=function(){return new B1(this.eee.wa)},n}(_g);U(),St(),Ct();var L1=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return Rt(n,t),n}(fa),F1=function(t){function n(n){var i;return(i=t.call(this,"see")||this).task=n,i}return Rt(n,t),n.prototype.ka=function(){return new L1(this.task.wa)},n}(_g),V1=function(t){function n(){return t.call(this)||this}Rt(n,t);var i=n.prototype;return i.Yte=function(t){this._o(new O1(t))},i.Jte=function(t){this._o(new F1(t))},n}(M1),U1=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Rat="uninitialised",e.HT=new V1,e.hee=i,e.aee=r,e.d_=n,e.kI(),e}Rt(n,t);var i=n.prototype;return i.kI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.nee()];case 1:return n.sent(),t.Iat("initialised"),[2]}}))}))()},i.nee=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.ree()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))()},i.ree=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return[4,t.d_.Trt()];case 1:n=u.sent(),i=0,u.label=2;case 2:return i<n.length?(r=n[i],e=t.hee.oee(r.id,r.sourceDescription,r.parameters,t.aee),t.uee(e),t.HT.kO(e),[4,e.cee]):[3,5];case 3:u.sent(),u.label=4;case 4:return i++,[3,2];case 5:return[2]}}))}))()},i.Iat=function(t){this.Rat=t,this._o(new N1)},i.oee=function(t,n,i){void 0===i&&(i="persistent");var r=this.hee.dee(t,n,i);return this.fee(r,i),this.HT.kO(r),this.uee(r),r},i.fee=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i._ee(t,n)];case 1:return e.sent(),[3,3];case 2:throw r=e.sent(),y("Unable to persist task - "+r);case 3:return[2]}}))}))()},i._ee=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,i.d_.brt({key:t.o,id:t.o,sourceDescription:t.Cc,parameters:t.pT},n)];case 1:return r.sent(),[2]}}))}))()},i.uee=function(t){var n=this;t.bn("wat",(function(){t.Yk===D1.EVICTED&&n.HT.eT(t)}))},xt(n,[{key:"Yk",get:function(){return this.Rat}},{key:"lee",get:function(){return this.HT}}]),n}(aa);U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),U(),St(),Dt();var W1=function(){function t(t,n,i){if(this.gee=t,this.TO=n,this.vee=i,0===this.TO.size)this.bee=BA.pB();else{var r=new BA([-1/0,1/0]);this.TO.forEach((function(t){r=r.jn(t.timeRanges)})),this.bee=r}}return t.prototype.sF=function(t){return!!Og(this.TO,t.TO)&&(!!gr(this.gee,t.gee)&&(!!gr(this.vB,t.vB)&&(!!gr(this.pee,t.pee)&&this.wee.aB(t.wee))))},xt(t,[{key:"vB",get:function(){return this.vee}},{key:"mee",get:function(){return this.gee}},{key:"pee",get:function(){return this.wee.vB}},{key:"yee",get:function(){var t=0,n=0;return this.TO.forEach((function(i){t+=i.timeRanges.vB,n+=i.totalQualityDurationToCache})),0===n?0:A.min(1,t/n)}},{key:"wee",get:function(){return this.bee}}]),t}();W1.QUALITY_TIME_RANGES_NULL_OBJECT=as(),W1.CACHE_PROGRESSION_NULL_OBJECT=new W1(0,W1.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),W1.Aee=W1.CACHE_PROGRESSION_NULL_OBJECT,U(),St(),U(),St(),Gt(),Wt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Ct();var j1=function(t){function n(){return t.call(this,"progress")||this}return Rt(n,t),n}(fa),Z1=function(t){function n(){return t.call(this,"z2t")||this}return Rt(n,t),n.prototype.ka=function(){return new j1},n}(_g);U(),St(),U(),St(),Dt(),Ct();var X1=function(t){function n(n,i){return t.call(this,n,i)||this}return Rt(n,t),xt(n,[{key:"name",get:function(){return"See"}}]),n}(Uo);U(),St(),Gt(),Jt(),U(),St(),Gt(),Jt(),U(),St();var G1=function(t){return t[t.qC=0]="qC",t[t.YC=1]="YC",t}({});function H1(t,n,i){return z1.apply(this,arguments)}function z1(){return z1=Zt((function(t,n,i){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:for(r=[],e=0,u=t.Gpt;e<u.length;e++)s=u[e],r.push(Y1(s,n,i));return[4,ut.all(r)];case 1:return o=a.sent(),[2,{ct:t.Eyt.cwt(),Eee:[t.NSt],Gpt:o}]}}))})),z1.apply(this,arguments)}function Y1(t,n,i){return K1.apply(this,arguments)}function K1(){return K1=Zt((function(t,n,i){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.Ppt;e<u.length;e++)s=u[e],r.push(q1(s,n,i));return[4,ut.all(r)];case 1:return[2,{Tee:o.sent()}]}}))})),K1.apply(this,arguments)}function q1(t,n,i){return J1.apply(this,arguments)}function J1(){return J1=Zt((function(t,n,i){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.gft;e<u.length;e++)Q1(s=u[e])||r.push(n2(s,n,i));return[4,ut.all(r)];case 1:return[2,{Z:o.sent(),Tw:t.Tw}]}}))})),J1.apply(this,arguments)}function Q1(t){return t.Jat.every(t2)}var $1=1;function t2(t){return t.Owt!==$1&&Boolean(t.Owt)}function n2(t,n,i){return i2.apply(this,arguments)}function i2(){return i2=Zt((function(t,n,i){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:for(r=[],e=0,u=t.Jat;e<u.length;e++)t2(s=u[e])||r.push(r2(s,i));return[4,ut.all(r)];case 1:return o=v.sent(),a=t.Jrt[0],c=t.TG,h=c?function(t,n){for(var i=[],r=function(t){return t?Zs(t,"avc")?Ov.VIDEO_H264:Zs(t,"hev")||Zs(t,"hvc")||Zs(t,"hvt")||Zs(t,"lhv")||Zs(t,"lhe")||Zs(t,"lht")?Ov.VIDEO_H265:Zs(t,"mp4")?Ov.VIDEO_MP4:Zs(t,"mpeg2")?Ov.VIDEO_MPEG2:Zs(t,"mpeg")?Ov.VIDEO_MPEG:Ov.VIDEO_UNKNOWN:Ov.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var u=n[e],s=u.c9.split(":").pop(),o=u.l9;i.push({mimeType:r,uuid:s,data:o})}var a=G1.qC,c=ws;return{type:a,schemeType:c,schemeDatas:i}}(a,c):void 0,f=Rj(t,n,!0),[2,{NC:o,gs:t.Qtt,Tw:t.Tw,sH:h,upt:f}]}}))})),i2.apply(this,arguments)}function r2(t,n){return e2.apply(this,arguments)}function e2(){return e2=Zt((function(t,n){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:i={stack:[],error:void 0,hasError:!1},c.label=1;case 1:return c.trys.push([1,3,4,5]),r=Yt(i,new Qo,!1),[4,u2(t,n,r.Uw)];case 2:switch(e=c.sent(),u={o:a2(t),LL:e,bG:t.bG,gp:t.gp,Ti:t.Ti,Tw:t.Tw,ji:t.ji},t.Tw){case rm.Tk:break;case rm.mE:u.oft=null!=(o=null==(s=t.oft)?void 0:s._F())?o:NaN;break;case rm.vE:u.audioSamplingRate=t.Nwt}return[2,u];case 3:return a=c.sent(),i.error=a,i.hasError=!0,[3,5];case 4:return Kt(i),[7];case 5:return[2]}}))})),e2.apply(this,arguments)}function u2(t,n,i){return s2.apply(this,arguments)}function s2(){return s2=Zt((function(t,n,i){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:r=[],e=t.Zot,t.pdt&&r.push({WO:0,ct:0,kee:t.pdt}),u=e.hbt(),s=u,h.label=1;case 1:return s?t.dlt(s)?[4,t._lt(s,n,i)]:[3,3]:[3,5];case 2:for(o=h.sent(),a=0;a<o.V;a++)r.push(o2(o.glt(a),t));return[3,4];case 3:r.push(o2(s,t)),h.label=4;case 4:return s=e.wlt(s),[3,1];case 5:return c=e.lbt(),[2,{ct:c.UO-u.WO,Mrt:r}]}}))})),s2.apply(this,arguments)}function o2(t,n){return{WO:t.WO,ct:t.ct,kee:n.Alt(t)}}function a2(t){return t.rlt.Sn+"-"+(""+t.o)}function c2(t,n){var i=function(t){var n=function(t){for(var n=as(),i=0;i<t.length;i++){var r=t[i],e=n.get(r.lLt);e||(e={Tw:r.Tw,AN:[]},n.set(r.lLt,e)),e.AN.push(r)}return n}(t),i=cs();return n.forEach((function(t){for(var n=0,r=t.AN;n<r.length;n++){var e=r[n],u=i.get(t.Tw);u||(u=as(),i.set(t.Tw,u));var s=u.get(e.l);s||(s=[],u.set(e.l,s)),s.push(e)}})),i}(t);return function(t,n){var i=cs();return t.forEach((function(t,r){var e=as();t.forEach((function(t,i){for(var u=[],s=0;s<t.length;s++){var o=h2(t[s],r,n);u.push(o)}e.set(i,u)})),i.set(r,e)})),i}(i,n)}function h2(t,n,i){for(var r=t.lLt,e={gLt:t,GLt:[]},u=0;u<i.length;u++){var s=i[u];bY(n,r,s)&&e.GLt.push(s)}return e}function f2(t,n){return v2.apply(this,arguments)}function v2(){return v2=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.aTt([t],{})];case 1:return[2,Gz((i=r.sent()).eE,{},i.cTt)]}}))})),v2.apply(this,arguments)}function l2(t,n){return d2.apply(this,arguments)}function d2(){return d2=Zt((function(t,n){return Ht(this,(function(i){return nz(t)?[2,g2(t,n)]:[2,N2(t)]}))})),d2.apply(this,arguments)}function g2(t,n){return m2.apply(this,arguments)}function m2(){return m2=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return[4,_2(c2(t.AN,t.rOt),n)];case 1:return i=e.sent(),[4,p2(t.rOt,n)];case 2:return r=e.sent(),i.push(r),[2,{ct:w2(i),Eee:[t.Fyt],Gpt:[{Tee:i}]}]}}))})),m2.apply(this,arguments)}function w2(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].Z;r<e.length;r++){var u,s=e[r];n=(u=A).max.apply(u,[n].concat(Ut(s.NC.map((function(t){return t.LL.ct})))))}return n}function p2(t,n){return y2.apply(this,arguments)}function y2(){return y2=Zt((function(t,n){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:i=[],r=0,h.label=1;case 1:return r<t.length?[4,R2((e=t[r]).Fyt,n)]:[3,4];case 2:(o=h.sent()).bG=e.bG,o.gp=e.Jrt?function(t){return[t.cPt,t.dPt,t.kBt].filter(Yn).join(",")}(e.Jrt):"",o.Ti=null!=(a=null==(u=e.$Ct)?void 0:u.Ti)?a:0,o.ji=null!=(c=null==(s=e.$Ct)?void 0:s.ji)?c:0,i.push(o),h.label=3;case 3:return r++,[3,1];case 4:return[2,{Tw:rm.iE,Z:[{gs:gF,Tw:rm.iE,NC:i}]}]}}))})),y2.apply(this,arguments)}function _2(t,n){return b2.apply(this,arguments)}function b2(){return b2=Zt((function(t,n){var i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:i=[],r=t.entries(),e=r.next(),a.label=1;case 1:return e.done?[3,4]:(u=nn(e.value,2),s=u[0],[4,k2(u[1],s,n)]);case 2:o=a.sent(),i.push(o),a.label=3;case 3:return e=r.next(),[3,1];case 4:return[2,i]}}))})),b2.apply(this,arguments)}function k2(t,n,i){return A2.apply(this,arguments)}function A2(){return A2=Zt((function(t,n,i){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:r=[],e=t.entries(),u=e.next(),a.label=1;case 1:return u.done?[3,4]:(s=nn(u.value,2),[4,T2(s[1],i)]);case 2:o=a.sent(),r.push(o),a.label=3;case 3:return u=e.next(),[3,1];case 4:return[2,{Tw:E2(n),Z:r}]}}))})),A2.apply(this,arguments)}function T2(t,n){return S2.apply(this,arguments)}function S2(){return S2=Zt((function(t,n){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:i=[],r=t[0].gLt,e=0,s.label=1;case 1:return e<t.length?[4,I2(t[e],n)]:[3,4];case 2:u=s.sent(),i.push(u),s.label=3;case 3:return e++,[3,1];case 4:return[2,{gs:r.gs||gF,Tw:E2(r.Tw),NC:i}]}}))})),S2.apply(this,arguments)}function E2(t){switch(t){case rz.vE:return rm.vE;case rz.mE:return rm.mE;case rz.JV:case rz.aBt:return rm.Tk;default:return rm.iE}}function I2(t,n){var i=function(t){var n=t.gLt.Fyt,i=t.GLt.map((function(t){return t.Fyt}));return n||(i.length?i[0]:void 0)}(t);return R2(i,n)}function R2(t,n){return C2.apply(this,arguments)}function C2(){return C2=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i={ct:0,Mrt:[]},t?[4,f2(t,n)]:[3,2];case 1:iz(r=e.sent())&&(i=x2(r)),e.label=2;case 2:return[2,{o:t||"default",xee:t,LL:i,bG:0,gp:"",Ti:0,Tw:rm.iE,ji:0}]}}))})),C2.apply(this,arguments)}function N2(t){var n=x2(t);return{ct:n.ct,Eee:[t.Fyt],Gpt:[{Tee:[{Tw:rm.iE,Z:[{Tw:rm.iE,gs:gF,NC:[{o:t.Fyt,LL:n,bG:0,gp:"",Ti:0,Tw:rm.iE,ji:0}]}]}]}]}}function x2(t){for(var n,i=[],r=0,e=0,u=t.Mrt;e<u.length;e++){var s=u[e],o=r;!s.uOt||void 0!==n&&cz(s.uOt.Fyt,n)||(i.push(D2(s.uOt,o)),n=s.uOt.Fyt),i.push(P2(s,o)),r+=s.ct}return{ct:r,Mrt:i}}function D2(t,n){return{WO:n,ct:0,kee:M2(t.Fyt)}}function P2(t,n){return{WO:n,ct:t.ct,kee:M2(t.Fyt)}}function M2(t){return{Xu:t.Mx,_ut:t._At?[t._At.Sn,t._At.Sn+t._At.V]:void 0,xE:!1}}U(),St(),Gt(),rn(),Wt(),Jt(),U(),St();var B2=function(){function t(t,n,i){this.uTt=t,this.blt=n,this.Pee=i}var n=t.prototype;return n.Ree=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(!t.src)throw new y("Invalid typed source");return nT(i=t.type)?[4,n.Iee(t)]:[3,2];case 1:case 3:return[2,r.sent()];case 2:return tT(i)?[4,n.Cee(t)]:[3,4];case 4:throw new y("Unexpected source type");case 5:return[2]}}))}))()},n.Iee=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,f2(t.src,n.uTt)];case 1:return[4,l2(i.sent(),n.uTt)];case 2:return[2,i.sent()];case 3:throw i.sent(),new y("Unable to fetch HLS manifest");case 4:return[2]}}))}))()},n.Cee=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,(i=new YW({VC:qn.Ih(t.src),GSt:t.liveOffset,qSt:t.timeServer,xE:t.useCredentials},n.Pee,yd.LE,n.uTt,t.dash)).W];case 1:return r.sent(),[4,H1(i.Er.vdt,t.contentProtection,n.blt)];case 2:return[2,r.sent()];case 3:throw r.sent(),new y("Unable to fetch DASH manifest");case 4:return[2]}}))}))()},t}();U(),St(),Gt(),Jt();var O2=function(){function t(t){this.Nee=[],this.Bee=0,this.Oee=t}var n=t.prototype;return n.Dee=function(){var t=new Kc;return this.Nee.push(t),this.Mee(),t.Ub},n.Lee=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,,2,3]),[4,t];case 1:return r.sent(),[3,3];case 2:return i.Bee-=1,i.Mee(),0===i.Nee.length&&0===i.Bee&&n.Vb(!0),[7];case 3:return[2]}}))}))()},n.Mee=function(){this.Nee.length>0&&this.Bee<this.Oee&&(this.Nee.shift().Vb(),this.Bee+=1)},t}();var L2=function(t){function n(n,i,r,e,u,s,o,a){var c;(c=t.call(this)||this).DEFAULT_CACHING_SEGMENT_TIMEOUT=3e4,c.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT=0,c.$ee=new Kc,c.Gee=W1.Aee,c.bTt=n,c.Nrt=i,c.uTt=r,c.zee=e,c.Sct=u,c.blt=s,c.Pee=a,c.aee=o,c.Vee=-1;var h=c.bTt.Cc.sources[0];return c.Fee=h,c.mo=c.kI(),c.Qee=new O2(c.bTt.pT.parallelTasksThreshold),c}Rt(n,t);var i=n.prototype;return i.kI=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,_,b,k,T,E,I,R,C;return Ht(this,(function(N){switch(N.label){case 0:return[4,new B2(t.uTt,t.blt,t.Pee).Ree(t.Fee)];case 1:return t.hPt=N.sent(),n=t.bTt.pT.amount,i=t.hPt.ct,r=function(t,n){if(ni(t)){if(Zs(t,"%"))return S(t)/100*n;throw new y("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}(n,i),t.vee=r,u=BB(t.hPt.Eee[0]),[4,t.Nrt.Lrt.Ert(u,"manifestURL")];case 2:for(s=N.sent().filter((function(n){return To(n.references,t.bTt.o)})),o=[],a=t.bTt.pT.bandwidth,c=0,h=t.hPt.Gpt;c<h.length;c++)for(f=h[c],v=0,l=f.Tee;v<l.length;v++)for(d=l[v],g=0,m=U2(d,t.bTt.pT.preferredTrackSelection);g<m.length;g++)for(w=m[g],p=0,_=j2(w.NC,a);p<_.length;p++)b=_[p],o.push(b);if(t.Vee=A.ceil(o.map((function(t){return t.bG*function(t,n){for(var i=0,r=0,e=t.LL.Mrt.map((function(t){return t.ct}));r<e.length;r++)if((i+=e[r])>=n)return i;return i}(t,r)/8})).reduce((function(t,n){return t+n}),0)),k=as(),s&&0!==s.length){for(T=function(n){var i=s[n],r=i.qualityId,e=new BA(i.startsAndEnds);if(k.has(r))k.get(r).timeRanges=k.get(r).timeRanges.tB(e).$L(5e-4);else{var u,a=mo(o,(function(t){return t.o===r})),c=A.min(t.vee,null!=(u=null==a?void 0:a.LL.ct)?u:1/0);k.set(r,{timeRanges:e,totalQualityDurationToCache:c})}},E=s.reduce((function(t,n){return t+n.byteSize}),0),I=0;I<s.length;I++)T(I);e=new W1(E,k,t.vee)}else{for(R=0;R<o.length;R++)C=o[R],k.set(C.o,{timeRanges:BA.pB(),totalQualityDurationToCache:A.min(C.LL.ct,t.vee)});e=new W1(0,k,t.vee)}return t.Wee=e,[2]}}))}))()},i.pi=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.mo];case 1:return i.sent(),[4,n.Hee(n.hPt,t)];case 2:return i.sent(),[2]}}))}))()},i.Hee=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(!t.Eee)throw new y("Unexpected - manifest is missing locations");return[4,i.Zee()];case 1:for(o.sent(),r=[],e=0,u=t.Gpt;e<u.length;e++)s=u[e],r.push(i.Xee(s,t.Eee[0],n));return[2,ia(r)]}}))}))()},i.Zee=function(){var t=this;return Zt((function(){var n,i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,t.zee.Trt()];case 1:n=s.sent(),i=0,s.label=2;case 2:return i<n.length?(r=n[i],[4,t.Nrt.Brt.Lb(r.key)]):[3,9];case 3:return(e=s.sent())?[4,F2(e,t.bTt.o,t.Nrt.Brt,t.aee)]:[3,5];case 4:return s.sent(),[3,8];case 5:return s.trys.push([5,7,,8]),[4,t.Nrt.Brt.brt(r,t.aee)];case 6:return s.sent(),[3,8];case 7:throw u=s.sent(),new X1("Unable to store manifest with url: "+r.locationURL,u);case 8:return i++,[3,2];case 9:return[4,t.zee.Rrt()];case 10:return s.sent(),[2]}}))}))()},i.Xee=function(t,n,i){for(var r=[],e=0,u=t.Tee;e<u.length;e++)for(var s=U2(u[e],this.bTt.pT.preferredTrackSelection),o=0;o<s.length;o++){var a=s[o];r.push(this.qee(a,n,i))}return ia(r)},i.qee=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return e=r.bTt.pT.bandwidth,u=j2(t.NC,e),t.Tw===rm.mE&&t.upt&&t.upt.hU.widevine&&"persistent"===t.upt.hU.widevine.licenseType?[4,r.Yee(t.upt)]:[3,2];case 1:c.sent(),Zo(i),c.label=2;case 2:for(s=[],o=0;o<u.length;o++)a=u[o],s.push(r.Kee(a,n,i));return[2,ia(s)]}}))}))()},i.Kee=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:Zo(i),e=t.LL.Mrt[0].WO,u=e+r.vee,s=[],o=!1,a=0,c=t.LL.Mrt,f.label=1;case 1:return a<c.length?(h=c[a]).WO>=u||r.stopIfFailed(o)?[3,5]:[4,r.jee(i)]:[3,5];case 2:return f.sent(),[4,r.Qee.Dee()];case 3:f.sent(),s.push(r.Qee.Lee(r.Jee(h,t,n),r.$ee).catch((function(t){return o=!0,ut.reject(t)}))),f.label=4;case 4:return a++,[3,1];case 5:return[2,ia(s)]}}))}))()},i.jee=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return(null==t?void 0:t.Fw)?[4,n.$ee.Ub]:[3,2];case 1:throw i.sent(),new Wo;case 2:return[2]}}))}))()},i.tie=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.mo.catch(Si)];case 1:return n.sent(),[2,t.hPt]}}))}))()},i.Yee=function(t){return ut.resolve()},i.eie=function(){return qn.Vp("License renewal unsupported in this SDK."),ut.resolve()},i.Jee=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return e=r.Nrt.Lrt,u=OB(t.kee.Xu,t.kee._ut),[4,e.Lb(u)];case 1:return(s=v.sent())?[4,F2(s,r.bTt.o,e,r.aee)]:[3,3];case 2:return v.sent(),r.iie(s,!1),[3,7];case 3:return v.trys.push([3,6,,7]),[4,r.sie(t.kee)];case 4:return o=v.sent(),a=r.nie(t,n,i,o),c=a.segmentMetadataEntry,h=a.segmentEntry,[4,r.Nrt.Drt(Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.Lrt.brt(c,r.aee)];case 1:return n.sent(),[4,t.Mrt.brt(h,r.aee)];case 2:return n.sent(),[2]}}))})))];case 5:return v.sent(),r.iie(c,!0),[3,7];case 6:throw f=v.sent(),new X1("Unable to store segment with url: "+t.kee.Xu,f);case 7:return[2]}}))}))()},i.sie=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.Sct.hut(t,{mut:n.DEFAULT_CACHING_SEGMENT_TIMEOUT,TE:n.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT})];case 1:return i=r.sent(),[4,n.Tct(i)];case 2:return[2,r.sent()]}}))}))()},i.Tct=function(t){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.Dk()];case 1:return[2,{buffer:n.sent()}]}}))}))()},i.nie=function(t,n,i,r){var e=OB(t.kee.Xu,t.kee._ut),u=t.WO,s=t.ct,o=this.rie(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:BB(i),qualityId:n.o,byteSize:o,startsAndEnds:new BA([u,u+s]).GL,references:[this.bTt.o]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:BB(i),data:r,references:[this.bTt.o]}}},i.rie=function(t){return t.buffer.byteLength},i.iie=function(t,n){var i=t.qualityId,r=this.Gee,e=r.TO;e.get(i).timeRanges=e.get(i).timeRanges.tB(new BA(t.startsAndEnds)).$L(5e-4),this.Wee=new W1(n?r.mee+t.byteSize:r.mee,e,this.vee)},i.stopIfFailed=function(t){return!1},xt(n,[{key:"cee",get:function(){return this.kI()}},{key:"Uee",get:function(){return this.Vee}},{key:"Wee",get:function(){return this.Gee},set:function(t){this.Gee.sF(t)||(this.Gee=t,t.sF(W1.Aee)||this._o(new Z1))}}]),n}(aa);function F2(t,n,i,r){return V2.apply(this,arguments)}function V2(){return V2=Zt((function(t,n,i,r){return Ht(this,(function(e){switch(e.label){case 0:return To(t.references,n)?[3,2]:(t.references.push(n),[4,i.brt(t,r)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))})),V2.apply(this,arguments)}function U2(t,n){switch(t.Tw){case rm.vE:return W2(t.Z,n.audioTrackSelection);case rm.Tk:return W2(t.Z,n.textTrackSelection);default:return W2(t.Z,[])}}function W2(t,n){if(0===n.length)return t.length?[t[0]]:[];for(var i=[],r=0;r<t.length;r++){var e=t[r];n.indexOf(e.gs)>-1&&i.push(e)}return i}function j2(t,n){if(!t.length)return[];var i=Ut(t).sort(kL),r=i.filter((function(t){return t.bG<=n}));return r.length>0?[r.pop()]:[i.shift()]}var Z2=function(){function t(t,n,i){this.bTt=t,this.Nrt=n,this.hPt=i}var n=t.prototype;return n.oie=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.Nrt.Drt(Zt((function(n){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.hie(n)];case 1:return i.sent(),[4,t.aie(n)];case 2:return i.sent(),[4,t.uie(n)];case 3:return i.sent(),[4,t.cie(n)];case 4:return i.sent(),[2]}}))})))];case 1:return n.sent(),[2]}}))}))()},n.hie=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i=t.Ort,r=n.bTt.o,[4,i.eT(r)];case 1:return e.sent(),[2]}}))}))()},n.aie=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return i=t.Lrt,r=t.Mrt,aT(e=n.bTt.Cc.sources[0])?(u=BB(e.src),[4,i.Ert(u,"manifestURL")]):[2];case 1:s=c.sent().filter((function(t){return To(t.references,n.bTt.o)})),o=0,c.label=2;case 2:return o<s.length?(bo((a=s[o]).references,n.bTt.o),0!==a.references.length?[3,5]:[4,i.eT(a.key)]):[3,8];case 3:return c.sent(),[4,r.eT(a.key)];case 4:return c.sent(),[3,7];case 5:return[4,i.brt(a)];case 6:c.sent(),c.label=7;case 7:return o++,[3,2];case 8:return[2]}}))}))()},n.uie=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return i=t.Brt,r=n.lie(),[4,i.frt(r)];case 1:e=o.sent().filter((function(t){return To(t.references,n.bTt.o)})),u=0,o.label=2;case 2:return u<e.length?(bo((s=e[u]).references,n.bTt.o),0!==s.references.length?[3,4]:[4,i.eT(s.key)]):[3,7];case 3:return o.sent(),[3,6];case 4:return[4,i.brt(s)];case 5:o.sent(),o.label=6;case 6:return u++,[3,2];case 7:return[2]}}))}))()},n.lie=function(){if(!this.hPt)return[];var t=this.bTt.Cc.sources[0];if(!aT(t))return[];var n=BB(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,r=t.Gpt;i<r.length;i++)for(var e=0,u=r[i].Tee;e<u.length;e++)for(var s=0,o=u[e].Z;s<o.length;s++)for(var a=0,c=o[s].NC;a<c.length;a++){var h=c[a];h.xee&&n.push(h.xee)}return function(t){return t.reduce((function(t,n){return t.indexOf(n)<0&&t.push(n),t}),[])}(n)}(this.hPt).map((function(t){return{src:t}})).map((function(t){return BB(t.src)}));return[n].concat(Ut(i))},n.cie=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,(i=t.Frt).Trt()];case 1:r=s.sent().filter((function(t){return To(t.references,n.bTt.o)})),e=0,s.label=2;case 2:return e<r.length?(bo((u=r[e]).references,n.bTt.o),0!==u.references.length?[3,4]:[4,i.eT(u.key)]):[3,7];case 3:return s.sent(),n.die(u),[3,6];case 4:return[4,i.brt(u)];case 5:s.sent(),s.label=6;case 6:return e++,[3,2];case 7:return[2]}}))}))()},n.die=function(t){},t}(),X2=function(){function t(){}return t.prototype.Ait=function(t,n,i){return new Z2(t,n,i)},t}(),G2=new X2;U(),St(),Gt(),Dt(),Jt(),U(),St();var H2=function(){function t(t,n){this.sx=t,this.mie=n}var n=t.prototype;return n.fie=function(t){this._ie(t)},n._ie=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.mie.eie(t)];case 1:return i.sent(),[3,3];case 2:return i.sent(),n.sx.Iat(D1.ERROR),[3,3];case 3:return[2]}}))}))()},xt(t,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{renew:function(n){t.fie(n)}}}(this)),this.eu}}]),t}(),z2=function(t){function n(n,i,r,e,u,s){var o;(o=t.call(this)||this).kie=new Qo,o.evictOnLoading=function(){o.vn("wat",o.evictOnLoading),o.Eie()},o.zS=n,o.Sc=i,o.Sie=r,o.Nrt=e,o.mie=u.Ait(o,o.Nrt,s),o.Aie=new H2(o,o.mie),o.Rat=1===o.mie.Wee.yee?D1.DONE:D1.IDLE,o.mie.bn("z2t",(function(t){o.Ds(t),1===o.wie&&o.Iat(D1.DONE)}));var a=new Date,c=o.Sie.expirationDate.getTime()-a.getTime();return function(t){return t<2147483647}(c)&&g((function(){return o.Eie()}),c),o}Rt(n,t);var i=n.prototype;return i.Iat=function(t){this.Rat!==t&&(this.Rat=t,this._o(new N1))},i.Sn=function(){this.Rat===D1.EVICTED||this.Rat===D1.DONE||this.Tie()},i.Tie=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),t.Iat(D1.LOADING),n=new Qo,t.kie=n,[4,t.mie.pi(n.Uw)];case 1:return i.sent(),t.Iat(D1.DONE),[3,4];case 2:return jo(i.sent())?t.Iat(D1.IDLE):t.Iat(D1.ERROR),[3,4];case 3:return t.kie.Xw(),[7];case 4:return[2]}}))}))()},i.EI=function(){this.kie.jw()},i.eT=function(){this.Yk===D1.LOADING?(this.bn("wat",this.evictOnLoading),this.EI()):this.Eie()},i.Eie=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,t.mie.tie()];case 1:return n=i.sent(),[4,G2.Ait(t,t.Nrt,n).oie()];case 2:return i.sent(),t.mie.Wee=W1.Aee,t.Iat(D1.EVICTED),[3,4];case 3:return i.sent(),t.Iat(D1.ERROR),[3,4];case 4:return[2]}}))}))()},xt(n,[{key:"cee",get:function(){return this.mie.cee}},{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get id(){return t.o},get status(){return t.Yk},get source(){return t.Cc},get parameters(){return t.pT},get duration(){return t.ct},get cached(){return t.gie.ks()},get secondsCached(){return t.pie},get percentageCached(){return t.wie},get bytes(){return t.yie},get bytesCached(){return t.bie},get license(){return t.eY.wa},start:function(){t.Sn()},pause:function(){t.EI()},remove:function(){t.eT()},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new gR(t,["z2t","wat"],i),i}(this)),this.eu}},{key:"o",get:function(){return this.zS}},{key:"eY",get:function(){return this.Aie}},{key:"Yk",get:function(){return this.Rat}},{key:"Cc",get:function(){return this.Sc}},{key:"pT",get:function(){return this.Sie}},{key:"ct",get:function(){return this.mie.Wee.vB}},{key:"gie",get:function(){return this.mie.Wee.wee}},{key:"pie",get:function(){return this.mie.Wee.pee}},{key:"wie",get:function(){return this.mie.Wee.yee}},{key:"yie",get:function(){return this.mie.Uee}},{key:"bie",get:function(){return this.mie.Wee.mee}}]),n}(ha);var Y2=function(){function t(t,n){this.Nrt=t,this.xie=n}var n=t.prototype;return n.dee=function(t,n,i){var r=QE();return this.oee(r,t,n,i)},n.oee=function(t,n,i,r){return new z2(t,n,i,this.Nrt,this.xie,r)},t}();U(),St();var K2=30,q2=5;function J2(t){if(!t)throw new y("Unexpected - The cache parameters are undefined");var n=function(t){if(ni(t)&&!Zs(t,"%"))return T(t);return t}(t.amount);!function(t){if(function(t){return ni(t)&&Zs(t,"%")}(t)){var n=S(t);if(E(n)||n<0||n>100)throw new y("The amount as percentage must be between 0 and 100 percent.")}if(!ni(t)&&E(t))throw new y("The amount must be a number or a string")}(n);var i=function(t){if(!t)return function(){var t=new Date;return t.setMinutes(t.getMinutes()+K2),t}();return t}(t.expirationDate);!function(t){if(t&&!function(t){return!t||ei(t)&&t>new Date}(t))throw new y("Invalid expiration date for the cache parameters")}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);!function(t){if(E(t)||t<0)throw new y("The bandwidth must be between zero and infinity.")}(r);var e=function(t){if(!t)return q2;if(E(t))throw new y("The amount must be a number");return t}(t.numberOfParallelTasks);return{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:e,preferredTrackSelection:{audioTrackSelection:[],textTrackSelection:[]}}}var Q2=function(){function t(t,n,i,r){var e=this,u=this;this.Die=[],this.Iie=0,this.Cie=0,this.v7t=Zt((function(){var t;return Ht(this,(function(n){switch(n.label){case 0:return(t=u.r5t())?[4,u.BZt(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))})),this.p7t=function(){var t=e.Die.shift();null==t||t.eT()},this.Mie=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:i=!1,r.label=1;case 1:return i?[3,3]:[4,t.py("z2t")];case 2:return r.sent(),i=1===t.Wee.yee,[3,1];case 3:return n.ct<5&&u.v7t(),[2]}}))})),this.xQ=t,this.fW=n,this.GT=new Qo,this.xie=i,this.gZ=r,this.Nrt=new zB}var n=t.prototype;return n.r5t=function(){if(this.Rie)for(var t=this.Rie.YJt;this.Iie<t.length;){var n=t[this.Iie];for(void 0===this.Pie&&(this.Pie=r$(n),this.Cie=0);this.Cie<this.Pie.length;){var i=this.Pie[this.Cie];if(this.Cie++,void 0!==i.sYt)return i.sYt}this.Iie++,this.Pie=void 0}},n.nr=function(){for(this.B7t=void 0,this.GT.jw(),this.GT=new Qo;this.Die.length;)this.p7t()},n.Nie=function(t){return new U1(this.Nrt.Ort,t,"temporary")},n.BZt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return(i=b1(t.TKt,n.xQ.ads.allowedMimeTypes)).length?[4,tS.Vg.JH(i,mE({sources:i}))]:[2];case 1:return(r=c.sent()).t.WH()?(n.mie||(n.mie=new n.xie(n.fW)),e=n.Nrt,u=new Y2(e,n.mie),s=n.Nie(u),o=s.oee(mE({sources:r.Cc}),J2({amount:10,bandwidth:Nk.Vg.cG()||n.gZ.Ij}),"temporary"),n.Die.push(o),a=n.mie.Ait(o,e,"temporary"),n.GT.jw(),n.GT=new Qo,zo(a.pi(n.GT.Uw),n.GT).then(Si),n.Mie(a,t),[2]):[2]}}))}))()},xt(t,[{key:"B7t",get:function(){return this.Rie},set:function(t){this.Rie=t,this.Iie=0,this.Cie=0,this.Pie=void 0}}]),t}();U(),St(),Ct(),U(),St(),Gt(),Ct(),Jt();var $2={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new BA([0,0]).GL,references:[]},t3={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},n3=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n)||this).Lie=new CL(i),s.Nrt=r,s.Oie=e,s.aee=u,s}Rt(n,t);var i=n.prototype;return i.Flt=function(n,i,r,e){var u=this;return Zt((function(){var s;return Ht(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.prototype.Flt.call(u,n,i,r,e)];case 1:return[2,o.sent()];case 2:return Xo(o.sent()),[3,3];case 3:return[4,u.Lie.Flt(n,i,r,e)];case 4:return s=o.sent(),[4,u.Bie(n,i,s)];case 5:return o.sent(),[2,s]}}))}))()},i.Bie=function(t,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v;return Ht(this,(function(l){switch(l.label){case 0:return void 0===e.Oie?[2]:(u=e.Nrt.Lrt,s=OB(t,i),[4,u.Lb(s)]);case 1:return(o=l.sent())?[4,F2(o,e.Oie,u,e.aee)]:[3,3];case 2:case 4:return l.sent(),[3,6];case 3:return l.trys.push([3,5,,6]),a={buffer:r},c=n.nie(s,a,e.Oie),h=c.segmentMetadataEntry,f=c.segmentEntry,[4,e.Nrt.Drt(Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.Lrt.brt(h,e.aee)];case 1:return n.sent(),[4,t.Mrt.brt(f,e.aee)];case 2:return n.sent(),[2]}}))})))];case 5:throw v=l.sent(),new X1("Unable to store segment with url: "+t,v);case 6:return[2]}}))}))()},n.nie=function(t,n,i){return{segmentMetadataEntry:ss({},$2,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:ss({},t3,{key:t,segmentURLsegmentByteRange:t,data:n,references:[i]})}},n}(NL);var i3=function(){function t(t){this.fW=t}return t.prototype.Ait=function(t,n,i){void 0===i&&(i="persistent");var r=t.Cc.sources[0];if(eT(r))throw new y("Caching THEOlive sources is not supported");var e=Boolean(r.useCredentials),u=new PO(this.fW,gd.iE),s=new cj(this.fW,e),o=new LB(n.Brt,n.Lrt,n.Mrt,n.Frt),a=function(t,n,i,r,e){return new n3(n,t,i,r,e)}(this.fW,o,n,t.o,i),c=new HB,h=new dj(lj(s,o),c,t);return this.Fie(t,n,h,c,u,a,i)},t}(),r3=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.Fie=function(t,n,i,r,e,u,s){return new L2(t,n,i,r,e,u,s,tO())},n}(i3),e3=r3,u3=function(t){function n(n,i,r,e,u,s){var o,a;o=t.call(this,n,i)||this,a=o,o.Xie=[],o.Zie=0,o.ase=[],o.jie=!1,o.X9=!1,o.qie=!0,o.Vie=[],o.lse=function(t){t.type===va.ho&&o.qie?o.qie=!1:o._o(t)},o.Gie=function(){o.X9=!0},o.dse=Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return a.Zie=1,[4,a.Wie.nte()];case 1:return t.sent(),[2,a._te(a.ese.Bc())]}}))})),o.fse=Zt((function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:return n=new tQ(nQ.PLAYBACK,iQ.GENERAL_LINEAR_ERROR,"There was a problem playing a linear ad."),a.h2t._o($$.d2t(n,t)),[4,a.Wie.nte()];case 1:return i.sent(),[2,a._te(a.ese.Bc())]}}))})),o._se=function(){return o.Rte.nte(),o._te(o.ese.Bc())},o.vse=function(t){var n=new tQ(nQ.PLAYBACK,iQ.GENERAL_NON_LINEAR_ERROR,"There was a problem playing a non linear ad.");return o.h2t._o($$.d2t(n,t)),o.Rte.nte(),o._te(o.ese.Bc())},o.fW=s,o.J7t=r,o.Rte=new R1(o.vse,o._se,o),o.Wie=new E1(o.fse,o.dse,o.Rte,e,o,n.Hu,r),o.use(o.Rte.O7t),o.use(o.Wie.O7t);var c=new Q2(e,s,r3,u);return o.Hie=new m1(o.na,o,o.h2t,c),o.Wie.oy(o.lse),o.Rte.oy(o.Ds),o.h2t.ru(o.Wie.h2t),o.h2t.ru(o.Rte.h2t),o.h2t.ru(o.Hie),o.cse=new s$(o,o.na),o.Hu.bn(wI.mn,o.Ds),o.na.bn(va.ho,o.Gie),o}Rt(n,t);var i=n.prototype;return i.y8t=function(t,n,i){n===zM.$st&&this.X9?na(this.s5t([t])):this.Vie.push(t)},i.xR=function(){return this.Wie.j7t?this.Wie.ER:this.Tst()},i.RR=function(t,n){},i.jd=function(){return this.Wie.ct},i.DR=function(){return this.Wie.PR},i.NR=function(){},i.LR=function(){},i.XR=function(){return this.Wie.ZR},i.zR=function(t){this.ZR!==t&&(this.Wie.ZR=t,this._o(new ET(this.ER,this.gI)))},i.jR=function(){return this.Wie.KR},i.oI=function(){return this.Wie.rI},i.aI=function(){return BA.pB().ks()},i.fI=function(){return this.Wie.dI},i.mI=function(){return this.Wie.vI},i.pI=function(){return this.Wie.gI},i.wI=function(t){this.gI!==t&&(this.Wie.gI=t,this._o(new ET(this.ER,this.gI)))},i.xI=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.Uie?[2]:(t._o(new _T(t.ER)),t.Gie(),t.Vie.length?(t.Uie=t.s5t(t.Vie),[4,t.Uie]):[3,2]);case 1:i.sent(),t.Uie=void 0,i.label=2;case 2:return[4,t.Hie.E7t(t.na.xR())];case 3:return i.sent(),4!==(n=t.Zie)&&1!==n&&5!==n||(!t.p$t&&t.Xie.length?t.zie():t.p$t?(t.qie=!0,t.Wie.xI()):(t.x1t(),t.na.xI()),t.Zie=3),[2]}}))}))()},i.EI=function(){3===this.Zie&&(this.Wie.EI(),this.Zie=4)},i._7t=function(){this.Hie._7t()},i.Sn=function(){this.Zie=1,this.Hie.Sn()},i.RI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Hie&&(t.Hie.Tn(),t.Yie(!1),t.Rte.RI(),t.Zie=5,t.p$t&&(t.Hie.L7t(t.p$t.Ojt),t.p$t=void 0)),t.X9=!1,t.qie=!1,Eo(t.Xie),t.g2t&&(t.x1t(),t.na.ge()),Eo(t.Vie),[4,t.Wie.RI()];case 1:return n.sent(),[4,t.J7t.nr()];case 2:return n.sent(),[2]}}))}))()},i.MD=function(){this.Wie.ZQt(),this.Rte.ZQt()},i.kI=function(){this.J7t.kI(),this.Gie()},i.c2t=function(t){return!(t.type!==va.Dy||!this.Hie||!this.Hie.S7t(-1))&&(this.Hie.b7t().then(Si),!0)},i.ge=function(){void 0!==this.Wie.$7t&&(this.J7t.ge(),this.Wie.ge()),void 0!==this.Rte.Nte&&this.Rte.ge()},i.be=function(){this.J7t.be(),this.Wie.be(),this.Rte.be()},i.s5t=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,C1.qte(t,n.fW,n.h2t)];case 1:return(i=r.sent()).length?(n.Hie.N7t(i),n.h2t._o(new dB),n.g2t||n.na.KR||n.Hie.E7t(n.na.xR()),0!==n.Zie&&5!==n.Zie||n.Sn(),[2]):("Ads could not be loaded.",n.h2t._o($$.d2t(new tQ(nQ.ADBLOCK,iQ.FILE_NOT_FOUND),"Ads could not be loaded.")),n.X9&&!n.p$t&&0===n.Xie.length&&n.Kie(),[2])}}))}))()},i.C7t=function(t){var n;(n=this.Xie).push.apply(n,Ut(t));for(var i=0;i<t.length;i++){t[i];this.X9&&!this.g2t&&this.zie()}},i.zie=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return 2===t.Zie?[2]:t.jie?[3,4]:(t.jie=!0,t.Zie=2,n=t.p$t,t.Qie(),t.p$t?[4,t.p$t.Ojt.c7t(t.h2t)]:[3,3]);case 1:return i.sent(),t.Jie()||(t.jie=!1),t.h2t._o(new m0(t.$ie(t.p$t))),[4,t.tse()];case 2:return i.sent(),[3,4];case 3:(null==n?void 0:n.Ojt.l7t())&&t.h2t._o(new sB(t.$ie(n))),t.jie=!1,t.Zie=1,t.Kie(),i.label=4;case 4:return[2]}}))}))()},i.Kie=function(){this.x1t(),this.na.ge(),this.na.PR?this.na._o(new AT(this.na.xR())):this.na.xI()},i.Qie=function(){var t;if(this.p$t&&this.Jie())t=this.p$t.Ojt;else{if(0===this.Xie.length)return;t=this.Xie.shift()}if(t){var n=t.Bc();n?this.p$t=n:(this.p$t&&(this.Hie.L7t(this.p$t.Ojt),this.p$t=void 0),this.p$t=void 0)}},i.tse=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return n=t.p$t?function(t){var n,i,r=null==(i=t.cQt)||null==(n=i.Uqt)?void 0:n.Gqt();return void 0===r?void 0:new i$(r)}(t.p$t):void 0,n?t.p$t?(t.ese=n,t.ise(t.p$t.cYt),t.sse(FJ.rjt),i=t.ese.Bc(),t.p$t.Ojt.l7t()&&(t.Rte.nte(),1===t.p$t.Ojt.Qut&&t.h2t._o(new aB(t.$ie(t.p$t)))),[4,t._te(i)]):[2]:[3,2];case 1:return r.sent(),[3,3];case 2:t.Zie=1,t.jie=!1,t.p$t=void 0,t.zie(),r.label=3;case 3:return[2]}}))}))()},i._te=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d,g,m;return Ht(this,(function(w){switch(w.label){case 0:return t?(r=Yn(t.sYt),e=Yn(t.oYt),s=null!=(u=null==(i=t.rYt)?void 0:i.CYt)?u:[],o=s.length>0,a=n.p$t,c=n.$ie(a),t.sYt?(t.sYt.sd=a,void 0!==a.wnt.skipOffset&&void 0!==(h=fQ.hQt(a.wnt.skipOffset,t.sYt.ct))&&h<t.sYt.ct&&(t.sYt.xKt=h),f=c.KJt(t.sYt,s,t.hYt,a.wnt),n.Rte.nte(),n.C3t(),[4,n.Wie._te(f,t.lt,{width:n.na.we.offsetWidth,height:n.na.we.offsetHeight})]):[3,2]):[3,7];case 1:w.sent(),r=!0,w.label=2;case 2:return t.oYt?((v=t.oYt.aYt[0]).sd=a,void 0!==a.wnt.skipOffset&&(l=fQ.hQt(a.wnt.skipOffset,n.na.jd()))&&(v.sd.xKt=l),d=r?[]:s,g=c.jJt(v,d,t.oYt,t.hYt,a.wnt),r&&n.Wie.Cte(),[4,n.Rte._te(g,t.lt,{width:n.na.we.offsetWidth,height:n.na.we.offsetHeight})]):[3,4];case 3:w.sent(),e=!0,w.label=4;case 4:return r&&(n.Zie=3,n.Wie.ge(),m=0===c.eOt,n.qie=m,n.J7t.EI(),n.Wie.xI(),n.na.EI(),n.na.be(),n.C3t(),n.Wie.Tte()),e&&(n.Zie=3,n.Rte.ge(),n.Rte.Tte()),(r||e||o)&&n.nse(t.tYt),r||e?[3,6]:[4,n.rse()];case 5:w.sent(),w.label=6;case 6:return!r&&e&&(n.Jie()||n.Xie.length>0?n.zie():(n.Kie(),n.p$t=a)),[3,10];case 7:return null!==t?[3,9]:[4,n.rse()];case 8:return w.sent(),[3,10];case 9:n.Yie(!0),w.label=10;case 10:return[2]}}))}))()},i.rse=function(){var t=this.ese;return this._te(t&&t.Bc())},i.Yie=function(t){this.sse(FJ.ojt),this.ose(),this.Zie=1;var n=void 0!==this.p$t&&this.p$t.Ojt.a7t();if(this.jie=!1,n)t&&(this.Zie=1,this.zie());else{if(!this.g2t)return;this.na.ge(),!this.na.PR&&t&&this.na.xI(),this.x1t()}},i.x1t=function(){this.hse(),t.prototype.x1t.call(this)},i.hse=function(){if(this.na.PR&&(this.Zie=5),this.p$t){var t=this.p$t.Ojt;t.l7t()&&this.h2t._o(new sB(this.$ie(this.p$t))),this.Hie.L7t(t),this.p$t=void 0}},i.ise=function(t){this.ase=this.ase.concat(t)},i.ose=function(){this.ase=[]},i.use=function(t){this.na.we.appendChild(t)},i.sse=function(t){for(var n=0,i=this.ase;n<i.length;n++){var r=i[n];r.WX===t&&cJ(r.eventURL)}},i.nse=function(t){this.Wie.X7t(FJ.JKt);for(var n=0;n<t.length;n++){var i=t[n];cJ(i)}},i.hnt=function(t){for(var n=this.A8t(),i=0;i<n.length;i++){var r=n[i];lJ(r.sources,r.timeOffset)||t.g6(r,zM.$st,!1)}},i.A8t=function(){for(var t,n=[],i=0,r=this.ent.concat(this.nnt);i<r.length;i++){var e=r[i];n.push(e.wnt)}for(var u=this.Xie.concat(this.Hie.nnt.filter((function(t){return!t.t$t()}))),s=0;s<u.length;s++)for(var o=0,a=u[s].YJt;o<a.length;o++){var c=a[o];c.W||n.push(c.wnt)}return(t=n).push.apply(t,Ut(this.Vie)),Po(n)},i.Jie=function(){return!!this.p$t&&r$(this.p$t).some((function(t){return t.sYt}))},i.$ie=function(t){return t.Ojt.i7t},i.zte=function(){return this.cse},i.TI=function(){return this.J7t.TI()},i.pR=function(){return this.J7t.pR()},i.b2t=function(t){this.Hie.b2t(t)},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return i.sent(),n.na.vn(va.ho,n.Gie),n.h2t.bK(n.Wie.h2t),n.h2t.bK(n.Rte.h2t),n.h2t.bK(n.Hie),n.Wie.yn(),n.Rte.yn(),[4,n.J7t.yn()];case 2:return i.sent(),[2]}}))}))()},xt(n,[{key:"r2t",get:function(){return this}},{key:"s2t",get:function(){return n.s2t}},{key:"snt",get:function(){return this.p$t?this.$ie(this.p$t):null}},{key:"ent",get:function(){return this.p$t?[this.Wie.$7t,this.Rte.Nte].filter(Yn):[]}},{key:"nnt",get:function(){var t=this.Xie.concat(this.Hie.nnt.filter((function(t){return!t.t$t()})));return Ro(t,(function(t){return t.i7t.zc.filter((function(t){return!t.t$t()}))}))}},{key:"rnt",get:function(){return this.Hie.nnt.map((function(t){return t.i7t}))}}],[{key:"s2t",get:function(){return l$.d$t}}]),n}(C0),s3=function(){function t(){}var n=t.prototype;return n.CZ=function(t){return t&&("string"!=typeof t.integration||t.integration===IS.DEFAULT||t.integration===IS.CSAI||t.integration===IS.THEO)},n.t2t=function(t,n,i){var r=new vS(t.we,i,t.fR,t.vst,t.yI,t.yst,t.Wl);return new u3(t,n,r,i,t.vst,t.fR)},n.g6=function(t,n,i,r){i.y8t(t,n,r)},n.qz=function(t){var n=AQ(t.sources);if(n){var i={integration:IS.CSAI,sources:n};"vast"===i.sources.type&&void 0===t.timeOffset?t.timeOffset=0:"vmap"===i.sources.type&&void 0!==t.timeOffset&&Qr("Do not set timeOffset for VMAP ad sources. VMAP ads have their own offsets included.");var r=SQ(t.timeOffset);void 0!==r&&(i.timeOffset=r);var e=SQ(t.skipOffset);return void 0!==e&&(i.skipOffset=e),i}},xt(t,[{key:"$1t",get:function(){return u3.s2t}}]),t}();RS.Vg.PZ(new s3),U(),St(),U(),St(),Dt();var o3=function(){function t(t,n){this.V8t=void 0,this.O6=!1,this.Het=t;var i=v.createElement("div");i.className="theoplayer-ima-wrapper",bi(i),i.style.zIndex="10",Gn.Qs&&function(t,n){t.addEventListener(n,pi)}(i,"mousedown"),n.appendChild(i);var r=v.createElement("div");r.className="theoplayer-ima",r.style.height="100%",this.pse=r,i.appendChild(r),this.b0t=i,this.V8t=new google.ima.AdDisplayContainer(this.pse,this.Het)}var n=t.prototype;return n.xj=function(){var t;this.O6||(null==(t=this.V8t)||t.initialize(),this.O6=!0)},n.bse=function(t){"linear"===t?this.b0t.style.marginTop="0px":"nonlinear"===t&&(this.b0t.style.marginTop="-45px")},n.ge=function(){this.b0t.style.opacity="1",this.b0t.style.pointerEvents=""},n.be=function(){this.b0t.style.opacity="0",this.b0t.style.pointerEvents="none"},n.Xw=function(){var t;null==(t=this.V8t)||t.destroy(),this.V8t=void 0},xt(t,[{key:"O7t",get:function(){return this.b0t}},{key:"gse",get:function(){return this.pse.offsetHeight}},{key:"wse",get:function(){return this.pse.offsetWidth}},{key:"yse",get:function(){return this.V8t}}]),t}();U(),St(),Gt(),Ct(),Jt(),U(),St(),Ct(),U(),St(),Dt();var a3=function(){function t(t){this.Ase=t;var n=new google.ima.CompanionAdSelectionSettings;n.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.ALL,n.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.ALL,n.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,this.PYt=t.getCompanionAds(0,0,n)}return xt(t,[{key:"vKt",get:function(){return this.Ase.getAdId()}},{key:"d9t",get:function(){var t=this.Ase.getAdPodInfo();if(void 0!==t)try{return{x6t:t.getAdPosition(),ZJt:t.getMaxDuration(),Sse:t.getPodIndex(),eOt:t.getTimeOffset(),R6t:t.getTotalAds(),Tse:t.getIsBumper()}}catch(t){return}}},{key:"jqt",get:function(){return this.Ase.getAdSystem()}},{key:"kse",get:function(){return this.Ase.getAdvertiserName()}},{key:"WYt",get:function(){var t;return null!=(t=this.Ase.getApiFramework())?t:void 0}},{key:"rYt",get:function(){return this.PYt.map((function(t){return{GYt:t.getAdSlotId(),Mk:t.getContentType(),H2t:t.getContent(),Ti:t.getHeight(),ji:t.getWidth()}}))}},{key:"Mk",get:function(){var t;return null!=(t=this.Ase.getContentType())?t:void 0}},{key:"bYt",get:function(){return this.Ase.getCreativeId()}},{key:"t8t",get:function(){return this.Ase.getCreativeAdId()}},{key:"Ese",get:function(){return this.Ase.getDealId()}},{key:"VN",get:function(){return this.Ase.getDescription()}},{key:"ct",get:function(){return this.Ase.getDuration()}},{key:"ji",get:function(){return this.Ase.getWidth()}},{key:"Ti",get:function(){return this.Ase.getHeight()}},{key:"CKt",get:function(){var t;return null!=(t=this.Ase.getMediaUrl())?t:void 0}},{key:"xse",get:function(){return this.Ase.getMinSuggestedDuration()}},{key:"J9t",get:function(){return this.Ase.getSkipTimeOffset()}},{key:"Rse",get:function(){return this.Ase.getSurveyUrl()}},{key:"oH",get:function(){return this.Ase.getTitle()}},{key:"j9t",get:function(){return this.Ase.getTraffickingParameters()}},{key:"Q9t",get:function(){return this.Ase.getTraffickingParametersString()}},{key:"hYt",get:function(){return this.Ase.getUniversalAdIds().map((function(t){return{e8t:t.getAdIdRegistry(),i8t:t.getAdIdValue()}}))}},{key:"z8t",get:function(){return this.Ase.getUiElements()}},{key:"$9t",get:function(){return this.Ase.getVastMediaBitrate()}},{key:"Y9t",get:function(){return this.Ase.getVastMediaHeight()}},{key:"q9t",get:function(){return this.Ase.getVastMediaWidth()}},{key:"H9t",get:function(){return this.Ase.getWrapperAdIds()}},{key:"Z9t",get:function(){return this.Ase.getWrapperAdSystems()}},{key:"X9t",get:function(){return this.Ase.getWrapperCreativeIds()}},{key:"n9t",get:function(){return this.Ase.isLinear()}}]),t}();function c3(){return[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED]}var h3=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Oc=[],e.Cse=function(t){t.getAd().isLinear()?e.V8t.bse("linear"):e.V8t.bse("nonlinear")},e.Ise=function(){e.qJt.resize(e.V8t.wse,e.V8t.gse,google.ima.ViewMode.NORMAL)},e.forwardAdEventListener=function(t){var n=t.getAd(),i=function(t){var n;return(sn(n={},google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,O0.d5t),sn(n,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,O0.f5t),sn(n,google.ima.AdEvent.Type.CLICK,O0._5t),sn(n,google.ima.AdEvent.Type.DURATION_CHANGE,O0.Iy),sn(n,google.ima.AdEvent.Type.EXPANDED_CHANGED,O0.v5t),sn(n,google.ima.AdEvent.Type.STARTED,O0.m5t),sn(n,google.ima.AdEvent.Type.IMPRESSION,O0.g5t),sn(n,google.ima.AdEvent.Type.PAUSED,O0.DZ),sn(n,google.ima.AdEvent.Type.RESUMED,O0.p5t),sn(n,google.ima.AdEvent.Type.AD_PROGRESS,O0.w5t),sn(n,google.ima.AdEvent.Type.AD_BUFFERING,O0.y5t),sn(n,google.ima.AdEvent.Type.FIRST_QUARTILE,O0.b5t),sn(n,google.ima.AdEvent.Type.MIDPOINT,O0.zKt),sn(n,google.ima.AdEvent.Type.THIRD_QUARTILE,O0.A5t),sn(n,google.ima.AdEvent.Type.COMPLETE,O0.qKt),sn(n,google.ima.AdEvent.Type.USER_CLOSE,O0.S5t),sn(n,google.ima.AdEvent.Type.LINEAR_CHANGED,O0.T5t),sn(n,google.ima.AdEvent.Type.LOADED,O0.k5t),sn(n,google.ima.AdEvent.Type.AD_CAN_PLAY,O0.E5t),sn(n,google.ima.AdEvent.Type.AD_METADATA,O0.x5t),sn(n,google.ima.AdEvent.Type.AD_BREAK_READY,O0.R5t),sn(n,google.ima.AdEvent.Type.INTERACTION,O0.I5t),sn(n,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,O0.C5t),sn(n,google.ima.AdEvent.Type.SKIPPED,O0.P5t),sn(n,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,O0.D5t),sn(n,google.ima.AdEvent.Type.LOG,O0.N5t),sn(n,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,O0.M5t),sn(n,google.ima.AdEvent.Type.VOLUME_CHANGED,O0.L5t),sn(n,google.ima.AdEvent.Type.VOLUME_MUTED,O0.B5t),n)[t]}(t.type),r={type:i,date:new Date,lnt:n?e.Pse(n):void 0,K6t:U0(i,t.getAdData())};e._o(r)},e.forwardAdErrorEventListener=function(t){e._o({date:new Date,lnt:void 0,type:L0.O5t,K6t:{I9t:Z0(t.getError())}})},e.qJt=n,e.V8t=i,e.Ku=r,e.Ku.bn(wI.mn,e.Ise),e.qJt.init(e.V8t.wse,e.V8t.gse,google.ima.ViewMode.NORMAL),e.qJt.addEventListener(google.ima.AdEvent.Type.LOADED,e.Cse),e.qJt.addEventListener(c3(),e.forwardAdEventListener),e.qJt.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e.forwardAdErrorEventListener),e}Rt(n,t);var i=n.prototype;return i.wI=function(t){var n;null==(n=this.qJt)||n.setVolume(t)},i.pI=function(){return this.qJt.getVolume()},i.E9t=function(){return this.qJt.getRemainingTime()},i.Xw=function(){Eo(this.Oc),this.Ku.vn(wI.mn,this.Ise),this.qJt.removeEventListener(google.ima.AdEvent.Type.LOADED,this.Cse),this.qJt.removeEventListener(c3(),this.forwardAdEventListener),this.qJt.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.forwardAdErrorEventListener),this.qJt.destroy()},i.Sn=function(){this.qJt.start()},i.L8t=function(){this.qJt.resume()},i.EI=function(){this.qJt.pause()},i.MD=function(){this.qJt.skip()},i.RI=function(){this.qJt.stop()},i.u9t=function(){var t=this.qJt.getCurrentAd();if(t)return this.Pse(t)},i.U8t=function(){return this.qJt.getCuePoints()},i.Pse=function(t){var n=mo(this.Oc,(function(n){return n.Ase===t}));return n||(n=new a3(t),this.Oc.push(n)),n},i.j8t=function(t){this.qJt.updateAdsRenderingSettings(d3(t))},n}(aa);U(),St(),Dt(),Ct();var f3=function(t){function n(n,i){var r;return(r=t.call(this,"$8t")||this).Nse=n,r.b0t=i,r}return Rt(n,t),n.prototype.ka=function(){return new v3(this.Nse)},xt(n,[{key:"Dse",get:function(){return this.Nse}},{key:"O7t",get:function(){return this.b0t}}]),n}(_g),v3=function(t){function n(n){var i;return(i=t.call(this,"adsmanagerloaded")||this).Nse=n,i}return Rt(n,t),xt(n,[{key:"adsManager",get:function(){return this.Nse}}]),n}(fa),l3=function(t){function n(n,i){var r;return(r=t.call(this)||this).onAdsManagerLoadedListener=function(t){if(r.Bse&&r.Ose&&r.Mse){var n,i=d3(r.Ose),e=r.Bse,u=t.getAdsManager({get currentTime(){return e.ER},get duration(){return e.ct}},i),s=new h3(u,r.Lse,r.Ku);r._o(new f3(u,r.Lse.O7t)),null==(n=r.Mse)||n.Vb(s),r.Mse=void 0}},r.onAdsManagerErrorListener=function(t){var n,i={wb:t.getError().getMessage(),I6t:t.getError().getVastErrorCode(),Tjt:t.getError().getErrorCode(),Tw:W0(t.getError().getType()),C6t:void 0};null==(n=r.Mse)||n.Wb(i),r.Mse=void 0},r.Ku=i,r.Lse=n,r}Rt(n,t);var i=n.prototype;return i.B8t=function(){var t;null==(t=this.O8t)||t.contentComplete()},i.s5t=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){if(r.Mse)throw new y("Only one ImaAdsRequest can be made at a time.");if(!r.Lse.yse)throw new y("AdDisplayContainer is not initialized.");return r.O8t=new google.ima.AdsLoader(r.Lse.yse),r.O8t.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,r.onAdsManagerLoadedListener),r.O8t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r.onAdsManagerErrorListener),r.Mse=new Kc,r.Bse=n,r.Ose=i,e=new google.ima.AdsRequest,t.g4t?e.adTagUrl=t.g4t:t.p4t&&(e.adsResponse=t.p4t),e.linearAdSlotWidth=t.l4t,e.linearAdSlotHeight=t.d4t,e.nonLinearAdSlotWidth=t.f4t,e.nonLinearAdSlotHeight=t._4t,e.contentDuration=t.y4t,e.setAdWillAutoPlay(t.v4t),e.setAdWillPlayMuted(t.m4t),t.w4t&&(e.omidAccessModeRules=t.w4t),r.O8t.requestAds(e),[2,r.Mse.Ub]}))}))()},i.Xw=function(){var t;void 0!==this.O8t&&(this.O8t.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.O8t.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.O8t.destroy(),this.O8t=void 0),null==(t=this.Mse)||t.Wb("AdsLoader destroyed"),this.Mse=void 0},n}(aa);function d3(t){var n=new google.ima.AdsRenderingSettings;return n.enablePreloading=t.q8t,t.z8t&&(n.uiElements=t.z8t),n.mimeTypes=t.X8t,void 0!==t.K8t&&(n.playAdsAfterTime=t.K8t),void 0!==t.Y8t&&(n.loadVideoTimeout=t.Y8t),void 0!==t.K9t&&(n.bitrate=t.K9t),void 0!==t.K8t&&(n.playAdsAfterTime=t.K8t),n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n}U(),St(),Dt(),Ct();var g3=function(t){function n(n){var i;return(i=t.call(this)||this).na=n,i.Fse=i.na.xR(),i.na.bn(va.hb,(function(){i.na.uI||(i.Fse=i.na.xR()),i._o(new yg(i.ER,void 0))})),i}return Rt(n,t),n.prototype.nr=function(){this.Fse=0},xt(n,[{key:"ER",get:function(){return this.na.uI?this.Fse:this.na.xR()}},{key:"ct",get:function(){return this.na.jd()}},{key:"ZR",get:function(){return this.na.ZR}},{key:"gI",get:function(){return this.na.gI}}]),n}(aa);c1.Vg.registerWebImaAdPlayerConstructor((function(t,n,i){s1(i);var r=o1(i)?t.TI():void 0,e=new o3(r,t.we),u=new l3(e,t.Hu),s=new g3(t);return new a1(t,n,i,t.gst,e,u,s)})),U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt();var m3=function(t){function n(n,i,r){var e;return(e=t.call(this,r)||this).Kse=!0,e.Dst=n,e.S3t=i,e.Yse=n.bR,e}Rt(n,t);var i=n.prototype;return i.pr=function(t,n,i,r,e){this.na===this.S3t&&this.S3t.Wse(),(e||!r.KR||r.PR)&&this.na.xI()},i.RR=function(t,n){},i.SR=function(t){},i.Use=function(n,i){var r=n-this.S3t.Gse;return t.prototype.RR.call(this,r,i)},i.Hse=function(n){return t.prototype.SR.call(this,n)},i.kR=function(){return this.Dst.bt},i.iu=function(){return this.Dst.iu()},i.jd=function(){return this.Dst.jd()},i.aI=function(){var t=BA.Cn(this.Dst.aI()).xb(this.S3t.Gse);if(this.Zse())return t.ks();var n=BA.Cn(this.S3t.aI()),i=n;return H4(this.Dst)||(i=t.tB(n)),(i=i.jn(BA.gB(0,this.xR()))).ks()},i.xR=function(){return this.Xse(t.prototype.xR.call(this))},i.Xse=function(t){return this.na===this.S3t?this.S3t.zse+t:this.S3t.Gse+t},i.AR=function(){return this.qse(t.prototype.xR.call(this))},i.qse=function(t){return this.na===this.S3t&&this.Yse?new Date(this.Yse.getTime()+1e3*t):this.Dst.bR},i.yR=function(){var t=BA.Cn(this.Dst.yR()).xb(this.S3t.Gse);if(this.Zse())return t.ks();var n=BA.Cn(this.S3t.yR());return t.Tn(t.V-1)<n.Sn(0)?n.ks():t.tB(n).ks()},i.BI=function(n){switch(n.type){case va.hb:return this._o(new yg(this.Xse(n.currentTime),n.currentProgramDateTime)),!0;case va.qy:return this._o(new JR(this.Xse(n.currentTime))),!0;case va.ho:return this._o(new _T(this.Xse(n.currentTime))),!0;case va.zy:return this._o(new yT(this.Xse(n.currentTime))),!0;case va.Dy:return this._o(new AT(this.Xse(n.currentTime))),!0;case va.Jy:return this._o(new TT(this.Xse(n.currentTime))),!0;case va.Qy:return this._o(new ST(this.Xse(n.currentTime))),!0;case va.Yy:return this._o(new kT(this.Xse(n.currentTime),n.playbackRate)),!0;case va.ub:return this.Kse?(this._o(new ET(this.Xse(n.currentTime),n.volume)),!0):(this.Kse=!0,!0);case va.Cy:return this._o(new pT(this.Xse(n.currentTime),n.readyState)),!0;case Iy.BL:return this._o(new My(this.Xse(n.currentTime),n.readyState)),!0;case Iy.OL:return this._o(new By(this.Xse(n.currentTime),n.readyState)),!0;case Iy.FL:return this._o(new Dy(this.Xse(n.currentTime),n.readyState)),!0;case Iy.VL:return this._o(new xy(this.Xse(n.currentTime),n.readyState)),!0;case Iy.iC:return this._o(new Cy(this.Xse(n.currentTime),n.readyState)),!0;case Iy.WL:return this._o(new Py(this.Xse(n.currentTime))),!0;case Iy.UL:return this._o(new Oy(this.Xse(n.currentTime))),!0;case va.Py:return this._o(new JW(this.Xse(n.currentTime),n.initDataType,n.initData)),!0}return t.prototype.BI.call(this,n)},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.yn.call(n,!0)];case 1:return i.sent(),[2]}}))}))()},xt(n,[{key:"Vse",get:function(){return this.na===this.Dst?this.S3t:this.Dst}}]),n}(zk);function w3(t,n){n.ZR=t.ZR,n.gI=t.gI,n.QR=t.QR}U(),St(),Ct();var p3=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}Rt(n,t);var i=n.prototype;return i.pr=function(n,i,r,e,u){t.prototype.pr.call(this,n,i,r,e,u),this.Vse.EI(),this.jse(i,r).style.flex="1"},i.dr=function(t,n,i){this.jse(n,i).style.flex="0"},n}(m3),y3=function(t){function n(n,i){return t.call(this,n,i,n)||this}Rt(n,t);var i=n.prototype;return i.Zse=function(){return!0},i.jse=function(t,n){return t},i.Qse=function(t,n){return n},i.RR=function(n,i){return t.prototype.Use.call(this,n,i)},i.SR=function(n){return t.prototype.Hse.call(this,n)},n}(p3),_3=function(t){function n(n,i){return t.call(this,n,i,i)||this}Rt(n,t);var i=n.prototype;return i.Zse=function(){return!1},i.pr=function(n,i,r,e,u){t.prototype.pr.call(this,n,i,r,e,u),this.Kse=!1,this.na.Jse(),i.style.flex="1"},i.dr=function(t,n,i){this.na.$se(),n.style.flex="0"},i.jd=function(){return this.na.jd()},n}(m3),b3=function(t){function n(n,i){return t.call(this,n,i,i)||this}Rt(n,t);var i=n.prototype;return i.Zse=function(){return!1},i.jse=function(t,n){return n},i.Qse=function(t,n){return t},i.pr=function(n,i,r,e,u){t.prototype.pr.call(this,n,i,r,e,u);for(var s=0,o=[i,r];s<o.length;s++){o[s].style.transition=""}},i.dr=function(n,i,r){t.prototype.dr.call(this,n,i,r)},n}(p3);U(),St(),Dt(),Ct(),U(),St(),Ct();var k3=function(t){function n(n){var i;return(i=t.call(this,"tne")||this).interstitial=n,i}return Rt(n,t),n.prototype.ka=function(){return new A3(this.interstitial.int())},n}(_g),A3=function(t){function n(n){var i;return(i=t.call(this,"interstitialupdate")||this).interstitial=n,i}return Rt(n,t),n}(fa),T3=function(t){return t.SINGLE="SINGLE",t.DOUBLE="DOUBLE",t.LSHAPE_AD="LSHAPE_AD",t.LSHAPE_CONTENT="LSHAPE_CONTENT",t}({}),S3=function(t){function n(n){var i;return(i=t.call(this)||this).nne=0,i.tI=!1,i.o=n.o,i.WO=n.WO,i.$O=n.UO,i.nFt=n.pBt,i.MA=n.ct,i.ine=n.rne,i.wvt=n.wvt,i.une=n.une,i.ane(),i}Rt(n,t);var i=n.prototype;return i.sne=function(t){if(this.ct){var n=(t-(this.WO+this.nne))/this.ct;n<this.z2t||(this.q2t=A.min(n,1),1===this.q2t&&(this.tI=!0))}},i.ir=function(t){var n,i,r,e;this.MA=null!=(n=t.ct)?n:this.MA,this.$O=null!=(i=t.UO)?i:this.$O,this.ine=null!=(r=t.rne)?r:this.ine,this.nne=null!=(e=t.hne)?e:this.nne,this.ane(),this._o(new k3(this))},i.ane=function(){void 0===this.MA&&void 0!==this.$O?this.MA=this.$O-this.WO:void 0===this.$O&&void 0!==this.MA&&(this.$O=this.WO+this.MA)},xt(n,[{key:"ene",get:function(){var t,n,i=null!=(n=null!=(t=this.ine)?t:this.MA)?n:this.nFt;return void 0!==i?this.WO+i:this.$O?this.$O:void 0}},{key:"ct",get:function(){var t=this.ene;return void 0===t?void 0:t-this.WO}},{key:"z2t",get:function(){var t;return null!=(t=this.q2t)?t:0}}]),n}(aa);U(),St(),Ct();var E3=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,i)||this).lne=void 0,e.cne=r,e}Rt(n,t);var i=n.prototype;return i.Zse=function(){return!0},i.pr=function(n,i,r,e,u){t.prototype.pr.call(this,n,i,r,e,u),w3(this.na,this.Vse),this.Vse.ZR=!0,n.style.backgroundImage="url('"+this.cne+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center",this.lne=this.Dst.nt.lC.filter((function(t){return t.CE===Hp.Qn}));for(var s=0,o=this.lne;s<o.length;s++){o[s].CE=Hp.Mh}for(var a=0,c=[i,r];a<c.length;a++){var h=c[a];h.style.flex="1",h.style.borderWidth="20px",h.style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", ")}},i.dr=function(t,n,i){for(var r=0,e=[n,i];r<e.length;r++){var u=e[r];u.style.flex="0",u.style.borderWidth="0px"}for(var s,o=0,a=null!=(s=this.lne)?s:[];o<a.length;o++){a[o].CE=Hp.Qn}this.lne=void 0},i.NR=function(){return this.Dst.NR()||this.S3t.NR()},i.LR=function(){return this.Dst.LR()||this.S3t.LR()},i.oI=function(){return A.min(this.Dst.rI,this.S3t.rI)},i.xI=function(){this.Dst.xI(),this.S3t.xI()},i.EI=function(){this.Dst.EI(),this.S3t.EI()},n}(m3);U(),St(),Ct();var I3=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).cne=e,u}Rt(n,t);var i=n.prototype;return i.pr=function(n,i,r,e,u){t.prototype.pr.call(this,n,i,r,e,u),this.Qse(i,r).style.visibility="hidden",this.Vse.EI(),n.style.backgroundImage="url('"+this.cne+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center";var s=this.jse(i,r);s.style.flex="1",s.style.transform="\n          translate(-50%, -50%)\n          scale(calc(43/60))\n          translate(calc(50% + 100%/30), calc(50% + 100%/30))\n        ";for(var o=0,a=[i,r];o<a.length;o++){a[o].style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", ")}},i.dr=function(t,n,i){var r=this.jse(n,i);r.style.flex="0",r.style.transform="",this.Qse(n,i).style.visibility=""},n}(m3),R3=function(t){function n(n,i,r){return t.call(this,n,i,n,r)||this}Rt(n,t);var i=n.prototype;return i.Zse=function(){return!0},i.jse=function(t,n){return t},i.Qse=function(t,n){return n},n}(I3),C3=function(t){function n(n,i,r){return t.call(this,n,i,i,r)||this}Rt(n,t);var i=n.prototype;return i.Zse=function(){return!1},i.jse=function(t,n){return n},i.Qse=function(t,n){return t},n}(I3);U(),St();function N3(t){var n=t.style;n.position="relative",n.backgroundColor="transparent",n.backgroundRepeat="no-repeat",n.backgroundAttachment="scroll",n.border="0 solid transparent",n.borderWidth="0px",n.flex="0"}function x3(t){var n=t.style;n.display="",n.backgroundColor="",n.backgroundRepeat="",n.backgroundAttachment="",n.border="",n.borderWidth="",n.flex="",n.transform="",n.transition="",n.backgroundImage="",n.backgroundSize="",n.backgroundPosition="",n.alignItems="",n.position=""}function D3(t){return!Xs(t.Fyt,"theo-ads://dai.break")}U(),St(),Gt(),Ct(),Jt(),U(),St(),Ct(),U(),St(),Ct();var P3=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n}(zk),M3=function(t){function n(n){return t.call(this,n)||this}Rt(n,t);var i=n.prototype;return i.pr=function(t,n){t.style.flex="1"},i.dr=function(t){t.style.flex="0"},n}(P3);U(),St(),Ct();var B3=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cne=i,r}Rt(n,t);var i=n.prototype;return i.pr=function(t,n){n.style.backgroundImage="url('"+this.cne+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center",t.style.flex="1",t.style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", "),t.style.transform="\n          translate(-50%, -50%)\n          scale(calc(43/60))\n          translate(calc(50% + 100%/30), calc(50% + 100%/30))\n        "},i.dr=function(t){t.style.flex="0",t.style.transform=""},n}(P3);U(),St(),Ct();var O3=function(t){function n(n){var i;return(i=t.call(this,"dne")||this).interstitial=n,i}return Rt(n,t),n.prototype.ka=function(){return new L3(this.interstitial.int())},n}(_g),L3=function(t){function n(n){var i;return(i=t.call(this,"interstitialbegin")||this).interstitial=n,i}return Rt(n,t),n}(fa);function F3(t){return{get id(){return t.o},get duration(){return t.ct},get startTime(){return t.WO},get type(){return"adbreak"},get layout(){return function(t){switch(t){case T3.SINGLE:return"single";case T3.DOUBLE:return"double";case T3.LSHAPE_CONTENT:case T3.LSHAPE_AD:return"l-shape"}}(t.fne)},get ads(){return t.zc.map((function(t){return t.int()}))},get backdropUri(){return t._ne}}}U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Dt(),U(),St(),Dt(),Ct(),U(),St();var V3=function(t){return t.image="image",t}({}),U3=function(t){return t.png="png",t.svg="svg",t}({}),W3=function(t){function n(n){var i;return(i=t.call(this,n)||this).pne=n.Tw,i.fo=n.fo,i.Nb=n.Nb,i.wne=n.wne,i.yne=n.yne,i.cjt=n.cjt,i.vne=n.bne,i}Rt(n,t);var i=n.prototype;return i.ir=function(n){var i,r;this.gne=null!=(i=n.imageUrl)?i:this.gne,this.vne=null!=(r=n.clickThrough)?r:this.vne,t.prototype.ir.call(this,n)},i.int=function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){return{get type(){return"overlay"},get id(){return t.o},get duration(){return t.ct},get startTime(){return t.WO},get clickThrough(){return t.QYt},get imageUrl(){return t.mne},get position(){return function(t){return{get top(){return t.M7},get bottom(){return t.N7},get left(){return t.D7},get right(){return t.P7}}}(t.fo)},get size(){return function(t){return{get width(){return t.ji},get height(){return t.Ti}}}(t.Nb)}}}(this)},xt(n,[{key:"Tw",get:function(){return"overlay"}},{key:"QYt",get:function(){return this.vne}},{key:"mne",get:function(){return this.gne}}]),n}(S3);U(),St(),Dt(),Ct();var j3=function(t){function n(n){var i;return(i=t.call(this,n)||this).Oc=[],i.Fyt=n.Fyt,i.fne=n.fne||T3.SINGLE,i.Ane=n.Ane,i.Sne=n.Sne,i._ne=n.Tne,i.kne=n.kne,i}Rt(n,t);var i=n.prototype;return i.ir=function(n){var i;n.ad&&this.Oc.push(n.ad),this._ne=null!=(i=n.backdropUri)?i:this._ne,t.prototype.ir.call(this,n)},i.int=function(){var t;return null!=(t=this.eu)?t:this.eu=F3(this)},xt(n,[{key:"Tw",get:function(){return"adbreak"}},{key:"zc",get:function(){return this.Oc}}]),n}(S3),Z3="com.theoplayer.theoads.interstitial",X3="com.theoplayer.theoads.overlay",G3=function(){function t(t){var n=this;this.One=!1,this.xne=[],this.lre=[],this.ore=cs(),this.Nne=[],this.qn=function(t){n.Mne(t.Ht)},this.zn=function(t){n.Bne(t.Ht)},this.Hne=function(t){n.qne(t.FO)},this.Yne=function(t){n.Kne(t.FO)},this.Xne=function(t){n.rre(t.FO)},this.zne=function(t){n.Gne(t.FO)},this.Zne=function(t){n.dre(t.FO)},this.Cne=function(t){n.$ne(t)},this.Pne=function(t){n.jne(t)},this.Jne=t}var n=t.prototype;return n.Rne=function(t){this.Ine=new EventSource(t),this.Ine.addEventListener("adbreak",this.Cne),this.Ine.addEventListener("streaminfo",this.Pne)},n.Dne=function(t){if(!To(this.Nne,t)){this.Nne.push(t);for(var n=0,i=t.lC;n<i.length;n++){var r=i[n];this.Mne(r)}t.bn(Tg.VI,this.qn),t.bn(Tg.UI,this.zn)}},n.Lne=function(t){if(To(this.Nne,t)){bo(this.Nne,t),t.vn(Tg.VI,this.qn),t.vn(Tg.UI,this.zn);for(var n=0,i=t.lC;n<i.length;n++){var r=i[n];this.Bne(r)}}},n.Mne=function(t){!this.One&&function(t){return t.Lt===ty.eW&&t.Tw===Dm.DATE_RANGE}(t)&&this.Fne!==t?this.Vne(t):this.One&&function(t){return t.Lt===ty.eW&&t.Tw===Dm.ID3}(t)&&this.Wne!==t&&this.Une(t)},n.Bne=function(t){this.Fne===t?this.Vne(void 0):this.Wne===t&&this.Une(void 0)},n.Vne=function(t){var n=this.Fne;if(void 0!==n){if(n.L)for(var i=0,r=n.L.lC;i<r.length;i++){var e=r[i];this.Gne(e)}n.vn(Cg.HI,this.Hne),n.vn(Cg.qI,this.Zne),n.vn(Cg.KI,this.Xne),n.vn(Cg.XI,this.zne),n.CE=Hp.LC}if(this.Fne=t,void 0!==t){if(t.L)for(var u=0,s=t.L.lC;u<s.length;u++){var o=s[u];this.qne(o)}t.bn(Cg.HI,this.Hne),t.bn(Cg.qI,this.Zne),t.bn(Cg.KI,this.Xne),t.bn(Cg.XI,this.zne),t.CE=Hp.LC}},n.Une=function(t){var n=this.Wne;if(void 0!==n){if(n.L)for(var i=0,r=n.L.lC;i<r.length;i++){var e=r[i];this.Gne(e)}n.vn(Cg.HI,this.Yne),n.vn(Cg.KI,this.Xne),n.vn(Cg.XI,this.zne),n.CE=Hp.LC}if(this.Wne=t,void 0!==t){if(t.L)for(var u=0,s=t.L.lC;u<s.length;u++){var o=s[u];this.Kne(o)}t.bn(Cg.HI,this.Yne),t.bn(Cg.KI,this.Xne),t.bn(Cg.XI,this.zne),t.CE=Hp.LC}},n.jne=function(t){try{var n,i,r=JSON.parse(t.data),e=r.networkCode,u=null==(n=r.assetKeys)?void 0:n[0];this.Jne.Qne(e,u),null==(i=this.Ine)||i.removeEventListener("streaminfo",this.Pne)}catch(t){qn.Wp("Error parsing the Server sent stream info",t)}},n.$ne=function(t){var n=this.Jne.bR;if(void 0!==n)try{var i,r=JSON.parse(t.data),e=null!=(i=r.podDuration)?i:r.adBreakDuration;if(void 0===e)return void qn.Wp("Tried to schedule an ad break without knowing the duration");var u=(Date.parse(r.startDate)-n.getTime())/1e3;if(u<=-e)return;var s,o="theo-ads://dai.break/?d="+e,a=this.Jne.xR()+u,c=r.networkCode,h=r.assetKey,f=r.podId?T(r.podId):void 0,v=new j3({o:r.id,WO:a,Fyt:null!=(s=r.assetURI)?s:o,fne:this.tre||T3[r.layout],Ane:c,Sne:h,pBt:e,une:f,Tne:r.backdropURI,wvt:r.startPTS,kne:r.eabnVersion});this.ere(v,void 0)}catch(t){qn.Wp("Error parsing the Server sent event",t)}else qn.Wp("Tried to schedule an ad break without knowing the Program Date Time of the player")},n.qne=function(t){if((t.mBt===Z3||t.mBt===X3)&&t.wBt["X-ASSET-URI"])switch(t.mBt){case X3:try{var n,i=atob(t.wBt["X-COM-THEOPLAYER-THEOADS-OVERLAY-PROPERTIES"]),r=JSON.parse(i),e=V3[r.type],u=this.Jne.ire(t.WO),s=isFinite(t.UO)?this.Jne.ire(t.UO):void 0,o=new W3({o:t.o,Tw:e||V3.image,WO:u,UO:s,ct:t.ct,pBt:t.pBt,fo:z3(r.position),Nb:Y3(r.size),wne:r.opacity,yne:H3(r.gamProperties),cjt:null==(n=r.resourceURI)?void 0:n.map((function(t){return function(t){var n=U3[t.type],i=t.default;Gn.Qs&&t.phone?i=t.phone:Gn.gg&&t.tv&&(i=t.tv);return{Tw:n,Fyt:i}}(t)})),bne:r.clickThroughURI});this.ere(o,t)}catch(t){qn.Wp(t)}break;case Z3:var a,c,h,f=t.wBt["X-RESUME-OFFSET"],v=this.sre||t.wBt["X-ASSET-URI"],l=qn.Ih(v),d=null!=(a=l.searchParams.get("n"))?a:void 0,g=null!=(c=l.searchParams.get("k"))?c:void 0,m=this.Jne.ire(t.WO),w=isFinite(t.UO)?this.Jne.ire(t.UO):void 0;(function(t){return Xs(t,"theo-ads://dai.break")})(v)&&(h=function(t){var n=t.split("?")[1],i={},r=new URLSearchParams(n);return i.d=Number(r.get("d"))||void 0,i.k=r.get("k")||void 0,i.n=r.get("n")||void 0,i.p=Number(r.get("p"))||void 0,i}(v));var p=new j3({o:t.o,WO:m,Fyt:v,fne:this.tre||T3[t.wBt["X-COM-THEOPLAYER-THEOADS-LAYOUT"]]||T3.SINGLE,Ane:d,Sne:g,Tne:t.wBt["X-COM-THEOPLAYER-THEOADS-BACKDROP"],UO:w,ct:t.ct,pBt:t.pBt,une:null==h?void 0:h.p,rne:void 0!==f?Number(f):void 0});this.ere(p,t),this.nre=p}},n.Kne=function(t){var n=t.U;if(function(t){return"GEO"===t.id||"GEOB"===t.id}(n)&&function(t){return"Anvatos"===t.description&&"application/json"===t.mimeType}(n)){var i=_c(new DataView(n.data),new Pc),r=new Iu(i),e=r.get("type");if("cue"===e){var u=Number(r.get("duration"))/1e3||void 0,s=new Iu(r.get("payload")),o=Number(s.get("dur"))||void 0,a=Number(s.get("s_bd"))||void 0;if(void 0!==o?u=o:void 0!==a&&(u=a/10),!u)return void 0;var c="theo-ads://dai.break/?d="+u,h=Number(r.get("pts"))||void 0,f=this.Jne.ire(t.WO),v=new j3({o:this.sre||t.o,WO:f,Fyt:c,fne:this.tre||T3.SINGLE,pBt:u,wvt:h});this.ere(v,t)}else if("cue_end"===e){var l=this.nre;l&&l.ir({ct:this.Jne.ire(t.WO)-l.WO})}}},n.rre=function(t){var n=this.ore.get(t.IC);n&&this.Jne.hre(n.WO)},n.are=function(t){for(var n=0,i=this.xne;n<i.length;n++){var r=i[n];if(t.o===r.o&&t.Tw===r.Tw)return!0}return!1},n.ure=function(t){for(var n=[],i=this.Jne.aI().start(0),r=0,e=this.lre;r<e.length;r++){var u=e[r];if(u.ene<i)n.push(u);else if(t.o===u.o&&t.Tw===u.Tw)return!0}for(var s=0;s<n.length;s++){var o=n[s];bo(this.lre,o)}return!1},n.ere=function(t,n){var i,r=t.WO+(null!=(i=t.ct)?i:1/0);this.are(t)||this.ure(t)||this.Jne.xR()>=r||(this.xne.push(t),n?this.ore.set(n.IC,t):this.lre.push(t),this.Jne.ere(t))},n.dre=function(t){var n=this.ore.get(t.IC);if(void 0!==n){var i=t.wBt["X-RESUME-OFFSET"],r=isFinite(t.UO)?this.Jne.ire(t.UO):void 0;n.ir({ct:t.ct,UO:r,rne:void 0!==i?Number(i):void 0})}},n.Gne=function(t){this._re(t)},n._re=function(t){void 0!==this.ore.get(t.IC)&&this.ore.delete(t.IC)},n.vre=function(t){var n=this;t.forEach((function(t){return n.mre(t)}))},n.mre=function(t){bo(this.xne,t)},n.nr=function(){var t,n,i;this.nre=void 0,this.Vne(void 0),this.Une(void 0);for(var r=0,e=this.Nne.slice();r<e.length;r++){var u=e[r];this.Lne(u)}Eo(this.Nne),Eo(this.xne),Eo(this.lre),this.ore.clear(),null==(t=this.Ine)||t.removeEventListener("adbreak",this.Cne),null==(n=this.Ine)||n.removeEventListener("streaminfo",this.Pne),null==(i=this.Ine)||i.close(),this.Ine=void 0},n.yn=function(){this.nr()},xt(t,[{key:"Ene",get:function(){return this.xne}}]),t}();function H3(t){if(t){var n=t.sz.default;return Gn.Qs&&t.sz.phone?n=t.sz.phone:Gn.gg&&t.sz.tv&&(n=t.sz.tv),{wre:t.iu,yre:n}}}function z3(t){var n,i,r,e;return t.top&&t.top>=0&&t.top<=100?n=t.top:t.bottom&&t.bottom>=0&&t.bottom<=100?i=t.bottom:n=10,t.left&&t.left>=0&&t.left<=100?r=t.left:t.right&&t.right>=0&&t.right<=100?e=t.right:r=10,{M7:n,N7:i,D7:r,P7:e}}function Y3(t){return{ji:t.width&&t.width>=0&&t.width<=100?t.width:10,Ti:t.height&&t.height>=0&&t.height<=100?t.height:10}}U(),St(),Dt(),Ct();var K3=function(t){function n(n){var i;return(i=t.call(this)||this).na=n,i}return Rt(n,t),n.prototype.Tre=function(t){this.na.kre(t)},xt(n,[{key:"Are",get:function(){return this.na.Are.map((function(t){return t.int()}))}},{key:"Sre",get:function(){return this.na.Sre.map((function(t){return t.int()}))}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=function(t){return{get currentInterstitials(){return t.Are},get scheduledInterstitials(){return t.Sre},replaceAdTagParameters:function(n){t.Tre(n)},addEventListener:function(n,i){t.bn(n,i)},removeEventListener:function(n,i){t.vn(n,i)}}}(this)}}]),n}(aa);U(),St(),Gt(),Dt(),Ct(),Jt(),Tt(),U(),St(),Dt(),Ct();var q3=function(t){function n(n){var i,r;return(i=t.call(this,n.WO)||this).xre=n,i.XJt=null!=(r=i.xre.ct)?r:-1,i}return Rt(n,t),n.prototype.Ere=function(t){this.Oc.push(t)},xt(n,[{key:"tI",get:function(){return this.xre.tI}},{key:"aQt",get:function(){return l$.Hst}},{key:"ZJt",get:function(){var t;return null!=(t=this.xre.ct)?t:-1}},{key:"eOt",get:function(){return this.xre.WO}},{key:"wJt",get:function(){}},{key:"Rre",get:function(){return this.xre}}]),n}(i0),J3=function(t){return t[t.GOOGLE=0]="GOOGLE",t[t.DEFAULT=1]="DEFAULT",t}({}),Q3=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).I3t=new UI,e.w$t=[],e.S6=function(t){e.pd(t)},e.Bre=function(){e.Dre()},e.Mre=function(){e._o(new fa("adloading"))},e.Lre=function(){e._o(new fa("adloaded"))},e.S3t=n,e.Fre=i,e.w$t=r,e.Fre.Vre(e),e.I3t=i.h2t,e}Rt(n,t);var i=n.prototype;return i.Pre=function(){this.Dre()},i.ere=function(t){var n=new q3(t);this.w$t.push(n)},i.mre=function(t){var n=this.p3t(t);bo(this.w$t,n)},i.p3t=function(t){return mo(this.w$t,(function(n){return n.Rre===t}))},i.Nre=function(){this.S3t.bn(va.Uy,this.Mre),this.S3t.bn(Iy.OL,this.Lre),this.S3t.bn(va.Dy,this.Bre),this.S3t.bn(va.hb,this.S6)},i.Dre=function(){this.S3t.vn(va.Uy,this.Mre),this.S3t.vn(Iy.OL,this.Lre),this.S3t.vn(va.Dy,this.Bre),this.S3t.vn(va.hb,this.S6)},i.pd=function(t){var n;null==(n=this.Cre)||n.sne(this.Xse(t.currentTime))},i.Ore=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:u={stack:[],error:void 0,hasError:!1},h.label=1;case 1:return h.trys.push([1,4,5,6]),e.Nre(),null==(s=e.vW)||s.jw(),o=Yt(u,Qo.$w([n]),!1),e.vW=o,Zo(a=o.Uw),[4,e.S3t.Ca(mE(t),a)];case 2:return h.sent(),Gn.su&&Gn.eg&&(e.S3t.xI(),e.S3t.EI()),i&&e.S3t.RR(i),r&&e.S3t.xI(),[4,ut.race([e.py("aderror",a).then(ut.reject),e.py("adloaded",a).then((function(){return ut.resolve()}))])];case 3:return[2,h.sent()];case 4:return c=h.sent(),u.error=c,u.hasError=!0,[3,6];case 5:return Kt(u),[7];case 6:return[2]}}))}))()},i.Md=function(t){this.Cre&&(this.Cre.sne(t),this.Cre.tI=!0,this.mre(this.Cre),this.Cre=void 0),this.a$t&&(this.I3t._o(new vB(this.a$t,t)),this.a$t=void 0),this.p$t&&(this.I3t._o(new sB(this.p$t)),this.p$t=void 0),this.Dre()},i.Xse=function(t){var n,i;return(null!=(i=null==(n=this.Cre)?void 0:n.WO)?i:0)+t},i.nr=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return null==(n=t.vW)||n.jw(),t.vW=void 0,t.Dre(),t.w$t=[],t.a$t=void 0,t.p$t=void 0,t.Cre=void 0,[2]}))}))()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.nr()];case 1:return n.sent(),[4,t.Fre.yn()];case 2:return n.sent(),[2]}}))}))()},xt(n,[{key:"YJt",get:function(){return this.w$t}},{key:"Ire",get:function(){return this.Cre}},{key:"snt",get:function(){return this.p$t}},{key:"n8t",get:function(){return this.a$t}}]),n}(aa);U(),St(),Dt();var $3=function(){function t(){this.I3t=new UI}var n=t.prototype;return n.Vre=function(t){this.Wre=t},n.MD=function(){},n.hnt=function(t){},n.yn=function(){return this.Wre=void 0,ut.resolve()},xt(t,[{key:"h2t",get:function(){return this.I3t}},{key:"g2t",get:function(){var t;return void 0!==(null==(t=this.Wre)?void 0:t.snt)}},{key:"s2t",get:function(){return l$.Hst}},{key:"ent",get:function(){var t;return(null==(t=this.Wre)?void 0:t.n8t)?[this.Wre.n8t]:[]}},{key:"snt",get:function(){var t,n;return null!=(n=null==(t=this.Wre)?void 0:t.snt)?n:null}},{key:"nnt",get:function(){var t=this;return this.Wre?Ro(this.Wre.YJt,(function(n){var i,r=n.zc;if(n===(null==(i=t.Wre)?void 0:i.snt)&&void 0!==t.Wre.n8t){var e=r.indexOf(t.Wre.n8t);if(e>=0)return r.slice(e+1)}return n.tI?[]:r})):[]}},{key:"rnt",get:function(){var t=this;return this.Wre?this.Wre.YJt.filter((function(n){var i;return n===(null==(i=t.Wre)?void 0:i.snt)||!n.tI})):[]}}]),t}();U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),Tt(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var t4=function(t){function n(n){var i;return i=t.call(this,n,function(t){return t===T3.LSHAPE_CONTENT?e0.M2t:e0.Mjt}(n.Rre.fne))||this,n.Ere(i),i}return Rt(n,t),n.prototype.ka=function(){return o0(this)},xt(n,[{key:"aQt",get:function(){return l$.Hst}}]),n}(s0);var n4=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Ure=i,r}Rt(n,t);var i=n.prototype;return i.h$t=function(){return this.Ure.getAdSystem()},i.c$t=function(){return this.sd.Rre.Fyt},xt(n,[{key:"o",get:function(){return this.Ure.getAdId()}},{key:"ct",get:function(){return this.Ure.getDuration()}},{key:"QYt",get:function(){var t,n;return null==(n=this.Ure)||null==(t=n.ad)?void 0:t.clickThroughUrl}},{key:"bYt",get:function(){return this.Ure.getCreativeId()}},{key:"xKt",get:function(){return this.Ure.getSkipTimeOffset()}}]),n}(t4);U(),St(),Ct();var i4=function(t){function n(n){var i;return(i=t.call(this,n)||this).U2t=!0,i.MA=n.XJt,i}return Rt(n,t),n}(t4);U(),St(),Ct(),U(),St(),Ct();var r4=function(t){function n(n,i,r){var e;return(e=t.call(this,n,new Date)||this).Gre=i,e.lnt=r,e}return Rt(n,t),n}(fa),e4=function(t){return t.LOADED="DAILoaded",t.AD_BREAK_STARTED="DAIAdBreakStarted",t.AD_BREAK_ENDED="DAIAdBreakEnded",t.AD_PERIOD_STARTED="DAIAdPeriodStarted",t.AD_PERIOD_ENDED="DAIAdPeriodEnded",t.AD_PROGRESS="DAIAdProgress",t.CUEPOINTS_CHANGED="DAICuePointsChanged",t.CLICK="DAIClick",t.ERROR="DAIError",t.STARTED="DAIStarted",t.FIRST_QUARTILE="DAIFirstQuartile",t.MIDPOINT="DAIMidpoint",t.STREAM_INITIALIZED="DAIStreamInitialized",t.THIRD_QUARTILE="DAIThirdQuartile",t.COMPLETE="DAIComplete",t}({}),u4=function(t){function n(n,i){return t.call(this,"DAILoaded",n,i)||this}return Rt(n,t),n}(r4),s4=function(t){function n(n,i){return t.call(this,"DAIAdBreakStarted",n,i)||this}return Rt(n,t),n}(r4),o4=function(t){function n(n,i){return t.call(this,"DAIAdBreakEnded",n,i)||this}return Rt(n,t),n}(r4),a4=function(t){function n(n,i){return t.call(this,"DAIAdProgress",n,i)||this}return Rt(n,t),n}(r4),c4=function(t){function n(n,i){return t.call(this,"DAICuePointsChanged",n,i)||this}return Rt(n,t),n}(r4),h4=function(t){function n(n,i){return t.call(this,"DAIClick",n,i)||this}return Rt(n,t),n}(r4),f4=function(t){function n(n,i){return t.call(this,"DAIError",n,i)||this}return Rt(n,t),n}(r4),v4=function(t){function n(n,i){return t.call(this,"DAIStarted",n,i)||this}return Rt(n,t),n}(r4),l4=function(t){function n(n,i){return t.call(this,"DAIFirstQuartile",n,i)||this}return Rt(n,t),n}(r4),d4=function(t){function n(n,i){return t.call(this,"DAIMidpoint",n,i)||this}return Rt(n,t),n}(r4),g4=function(t){function n(n,i){return t.call(this,"DAIStreamInitialized",n,i)||this}return Rt(n,t),n}(r4),m4=function(t){function n(n,i){return t.call(this,"DAIThirdQuartile",n,i)||this}return Rt(n,t),n}(r4),w4=function(t){function n(n,i){return t.call(this,"DAIComplete",n,i)||this}return Rt(n,t),n}(r4);var p4=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Hre=n,e.S0t=i,e.noe=r,e.qre=function(t){e.zre(!0);var n=_4(t),i=k4(t);e._o(new s4(n,i))},e.soe=function(t){e.zre(!1);var n=_4(t),i=k4(t);e._o(new o4(n,i))},e.Yre=function(t){var n=_4(t),i=k4(t);e._o(new a4(n,i))},e.q$t=function(t){var n=_4(t),i=k4(t);e._o(new h4(n,i))},e.Kre=function(t){var n=_4(t),i=k4(t);e._o(new w4(n,i))},e.jre=function(t){var n=_4(t),i=k4(t);e._o(new c4(n,i))},e.Ss=function(t){var n=_4(t),i=k4(t);e._o(new f4(n,i))},e.Qre=function(t){var n=_4(t),i=k4(t);e._o(new l4(n,i))},e.Jre=function(t){var n=_4(t),i=k4(t);e._o(new u4(n,i))},e.$re=function(t){var n=_4(t),i=k4(t);e._o(new d4(n,i))},e.toe=function(t){var n=_4(t),i=k4(t);e._o(new v4(n,i))},e.eoe=function(t){var n=_4(t),i=k4(t);e._o(new g4(n,i))},e.ioe=function(t){var n=_4(t),i=k4(t);e._o(new m4(n,i))},e.S0t&&(e.S0t.style.display="none",e.Hre.setClickElement(e.S0t));var u=google.ima.dai.api.StreamEvent.Type;return e.Hre.addEventListener(u.AD_BREAK_STARTED,e.qre),e.Hre.addEventListener(u.AD_PROGRESS,e.Yre),e.Hre.addEventListener(u.CLICK,e.q$t),e.Hre.addEventListener(u.COMPLETE,e.Kre),e.Hre.addEventListener(u.CUEPOINTS_CHANGED,e.jre),e.Hre.addEventListener(u.ERROR,e.Ss),e.Hre.addEventListener(u.FIRST_QUARTILE,e.Qre),e.Hre.addEventListener(u.LOADED,e.Jre),e.Hre.addEventListener(u.MIDPOINT,e.$re),e.Hre.addEventListener(u.STARTED,e.toe),e.Hre.addEventListener(u.STREAM_INITIALIZED,e.eoe),e.Hre.addEventListener(u.THIRD_QUARTILE,e.ioe),e.Hre.addEventListener(u.AD_BREAK_ENDED,e.soe),e}Rt(n,t);var i=n.prototype;return i.replaceAdTagParameters=function(t){return this.Hre.replaceAdTagParameters(null!=t?t:null)},i.Zre=function(t){return this.Hre.contentTimeForStreamTime(t)},i.Xre=function(t){return this.Hre.streamTimeForContentTime(t)},i.YWt=function(t,n){var i=function(t){return"vod"===t.availabilityType?new f.google.ima.dai.api.VODStreamRequest(ss({},y4(t),{contentSourceId:t.contentSourceID,videoId:t.videoID})):new f.google.ima.dai.api.LiveStreamRequest(ss({},y4(t),{assetKey:t.assetKey}))}(t);t.enableNonce&&(i.enableNonce=!0),this.Hre.requestStream(i)},i.nr=function(){this.zre(!1),this.Hre.reset()},i.yn=function(){this.Ro();var t=google.ima.dai.api.StreamEvent.Type;this.Hre.removeEventListener(t.AD_BREAK_STARTED,this.qre),this.Hre.removeEventListener(t.AD_PROGRESS,this.Yre),this.Hre.removeEventListener(t.CLICK,this.q$t),this.Hre.removeEventListener(t.COMPLETE,this.Kre),this.Hre.removeEventListener(t.CUEPOINTS_CHANGED,this.jre),this.Hre.removeEventListener(t.ERROR,this.Ss),this.Hre.removeEventListener(t.FIRST_QUARTILE,this.Qre),this.Hre.removeEventListener(t.LOADED,this.Jre),this.Hre.removeEventListener(t.MIDPOINT,this.$re),this.Hre.removeEventListener(t.STARTED,this.toe),this.Hre.removeEventListener(t.STREAM_INITIALIZED,this.eoe),this.Hre.removeEventListener(t.THIRD_QUARTILE,this.ioe),this.Hre.removeEventListener(t.AD_BREAK_ENDED,this.soe),this.nr(),this.noe&&ai(this.noe)},i.roe=function(t){this.Hre.onTimedMetadata(t)},i.ooe=function(t,n,i){this.Hre.processMetadata(t,n,i)},i.hoe=function(t){var n=this.Hre.previousCuePointForStreamTime(t);if(n)return{UO:n.end,WO:n.start,tI:n.played}},i.aoe=function(t,n){var i=this.hoe(t);if(i){var r=t>n&&i.UO>n,e=i.UO>t&&i.WO<=t;return i.tI||!r&&!e?void 0:i.WO}},i.zre=function(t){this.S0t&&(this.S0t.style.display=t?"block":"none")},n}(aa);function y4(t){var n,i=google.ima.dai.api.StreamRequest.StreamFormat;return{apiKey:t.apiKey,authToken:t.authToken,format:"dash"===t.format?i.DASH:i.HLS,networkCode:t.networkCode,streamActivityMonitorId:t.streamActivityMonitorID,adTagParameters:t.adTagParameters,omidAccessModeRules:null!=(n=X0(t.omidAccessModeRules))?n:{}}}function _4(t){var n,i=t.getStreamData(),r=i.adProgressData;return r&&(n={E6t:r.adBreakDuration,uoe:r.duration,x6t:r.adPosition,ER:r.currentTime,ct:r.duration,R6t:r.totalAds}),{coe:n,loe:(i.cuepoints||[]).map((function(t){return{WO:t.start,UO:t.end,tI:t.played}})),doe:i.errorMessage||void 0,foe:i.manifestFormat||void 0,_oe:i.streamId||void 0,voe:(i.subtitles||[]).map((function(t){return{moe:t.webvtt,goe:t.ttml,gs:t.language}})),Xu:i.url}}function b4(t){return{GYt:t.getAdSlotId(),H2t:t.getContent(),Mk:t.getContentType(),Ti:t.getHeight(),ji:t.getWidth()}}function k4(t){var n=t.getAd();if(n){var i=n.getAdPodInfo(),r=n.getCompanionAds().map(b4);return{vKt:n.getAdId(),d9t:{x6t:i.getAdPosition(),ZJt:i.getMaxDuration(),Sse:i.getPodIndex(),eOt:i.getTimeOffset(),R6t:i.getTotalAds()},jqt:n.getAdSystem(),kse:n.getAdvertiserName(),WYt:n.getApiFramework(),rYt:r,bYt:n.getCreativeId(),t8t:n.getCreativeAdId(),Ese:n.getDealId(),VN:n.getDescription(),ct:n.getDuration(),oH:n.getTitle(),poe:n.getUniversalAdIdRegistry(),woe:n.getUniversalAdIdValue(),Y9t:n.getVastMediaHeight(),q9t:n.getVastMediaWidth(),H9t:n.getWrapperAdIds(),Z9t:n.getWrapperAdSystems(),X9t:n.getWrapperCreativeIds()}}}function A4(){var t=v.body.lastElementChild;if(t instanceof HTMLIFrameElement&&"Advertisement"===t.title)return t}var T4="ott_placement",S4="theoads_slot",E4="urn:google:dai:2018",I4=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,e)||this).Doe=!0,a.Foe=function(){a.Md(a.Xse(a.S3t.xR()))},a.qn=function(t){var n=t.Ht;if(n.Lt===ty.eW&&!(n.Tw!==Dm.ID3&&n.Tw!==Dm.EVENT_STREAM||n.Tw===Dm.EVENT_STREAM&&n.BC!==E4)){if(n.bn(Cg.HI,a.Goe),n.bn(Cg.XI,a.zne),n.L)for(var i=0,r=n.L.lC;i<r.length;i++){var e=r[i];a.Goe(new zN(e))}n.CE=Hp.LC,a.Uoe=n}},a.Goe=function(t){t.FO.bn(Vm.rO,a.Hoe)},a.zne=function(t){t.FO.vn(Vm.rO,a.Hoe)},a.Hoe=function(t){var n,i;if(a.Ioe)if((null==(n=a.Uoe)?void 0:n.Tw)===Dm.ID3){var r,e=t.FO.U;if(uD(e))if(a.Woe!==e.text)a.Woe=e.text,null==(r=a.Hre)||r.processMetadata("ID3",e.text,t.FO.WO)}else if((null==(i=a.Uoe)?void 0:i.Tw)===Dm.EVENT_STREAM){var u,s=t.FO.U;null==(u=a.Hre)||u.processMetadata(E4,s,t.FO.WO)}},a.Voe=function(t){switch(a.p$t&&(a.p$t.XJt=a.S3t.jd()-a.S3t.xR()),t.type){case google.ima.dai.api.StreamEvent.Type.ERROR:a.I3t._o(new $$(nQ.GENERAL));break;case google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED:a.p$t=a.p3t(a.Cre),a.I3t._o(new aB(a.p$t)),a.Zoe=qn.Gg(a.Xoe,250);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:qn.Ug(a.Zoe);break;case google.ima.dai.api.StreamEvent.Type.STARTED:var n,i=t.getAd();a.a$t=new n4(a.p$t,i),null==(n=a.Cre)||n.ir({ad:a.a$t}),a.I3t._o(new hB(a.a$t,a.Xse(a.S3t.xR())));break;case google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE:a.I3t._o(new p0(a.a$t,a.Xse(a.S3t.xR())));break;case google.ima.dai.api.StreamEvent.Type.MIDPOINT:a.I3t._o(new _0(a.a$t,a.Xse(a.S3t.xR())));break;case google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE:a.I3t._o(new k0(a.a$t,a.Xse(a.S3t.xR())));break;case google.ima.dai.api.StreamEvent.Type.COMPLETE:a.I3t._o(new vB(a.a$t,a.Xse(a.S3t.xR()))),a.a$t=void 0;break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:if(!a.p$t)break;a.p$t.XJt>1&&a.Xoe()}},a.Xoe=function(){var t;a.a$t=new i4(a.p$t),null==(t=a.Cre)||t.ir({ad:a.a$t}),a.I3t._o(new hB(a.a$t,a.Xse(a.S3t.xR())))},a.koe=r,a.Toe=null!=u?u:{},a.Doe=!a.Toe[T4],a.xoe=s,a.Moe=o,a}Rt(n,t);var i=n.prototype;return i.boe=function(t,n,i,r){var e=this;return Zt((function(){return Ht(this,(function(u){switch(u.label){case 0:return!t||!n||t===e.Aoe&&n===e.Soe?(i!==e.Toe&&e.kre(i),[2]):[4,e._J(t,n,i,r)];case 1:return u.sent(),[2]}}))}))()},i._J=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(void 0===e.Hre){if(void 0===(null==(s=f.google)||null==(u=s.ima)?void 0:u.dai))throw new y("IMA DAI SDK missing for THEOads");e.Hre=new google.ima.dai.api.StreamManager(e.S3t.we.querySelector("video"),e.koe)}return e.Aoe=t,e.Soe=n,e.Toe=i,o=e.Hre,e.Eoe(),o.reset(),(a=new google.ima.dai.api.PodStreamRequest).networkCode=e.Aoe,a.customAssetKey=e.Soe,a.adTagParameters=e.Toe,e.xoe&&(a.streamActivityMonitorId=e.xoe),a.format="hls",c=e.Roe([google.ima.dai.api.StreamEvent.Type.STREAM_INITIALIZED,google.ima.dai.api.StreamEvent.Type.ERROR]).then((function(t){if(t.type===google.ima.dai.api.StreamEvent.Type.ERROR)throw new y("DAI stream request failed");e.Ioe=t.getStreamData(),e.Coe()})),e.Hre.requestStream(a),e.Poe=Ho(c,r),[4,e.Poe];case 1:return h.sent(),[2]}}))}))()},i.Roe=function(t,n){var i=this;return new ut((function(r,e){if(n&&n.Fw)return e(new Wo);for(var u=function(t){o(),r(t)},s=function(){o(),e(new Wo)},o=function(){for(var r=0;r<t.length;r++){var e,o=t[r];null==(e=i.Hre)||e.removeEventListener(o,u)}n&&n.Vw(s)},a=0;a<t.length;a++){var c,h=t[a];null==(c=i.Hre)||c.addEventListener(h,u)}n&&n.Ww(s)}))},i.kre=function(t){var n;this.Toe=t,this.Doe=!this.Toe[T4],null==(n=this.Hre)||n.replaceAdTagParameters(t)},i.Noe=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return(null==(i=n.Cre)?void 0:i.une)&&!E(n.Cre.une)?[2,n.Cre.une]:n.Moe&&(null==(r=n.Cre)?void 0:r.wvt)?[4,IT((function(){return n.Loe()}),t,4,500,5e3)]:[2,void 0];case 1:return[2,e.sent()]}}))}))()},i.Loe=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:n=t.Moe+"/"+t.Aoe+"/"+t.Soe+"/"+t.Cre.wvt+".json",i=new wd({Xu:n,jk:Dl.Ak,AE:vd.GET,SE:1e3}),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,t.S3t.fR.Qk(i)];case 2:return r=u.sent(),[3,4];case 3:throw u.sent(),new tQ(nQ.NETWORK,iQ.UNKNOWN_AD_RESPONSE,"The ad's PodId could not be loaded.");case 4:if(!hd(r))throw new tQ(nQ.NETWORK,iQ.UNKNOWN_ERROR,"Something went wrong while requesting JSON from server.");return[4,r.Kk()];case 5:return(e=u.sent())?[2,e.podid]:[2,void 0]}}))}))()},i.Boe=function(t,n,i,r){void 0===r&&(r=!1);var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,e.Ooe(t,n,i)];case 1:return u=s.sent(),[2,e.Ore({sources:{src:u}},i,void 0,r)]}}))}))()},i.Ooe=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return r.Cre=t,u=t.Ane,s=t.Sne,function(t,n,i){var r=new Iu(t.cust_params);r.set(S4,function(t){switch(t){case T3.DOUBLE:return"double";case T3.SINGLE:return"single";case T3.LSHAPE_AD:case T3.LSHAPE_CONTENT:return"l-shape"}}(n)),t.cust_params=r.toString(),i&&(t[T4]=function(t){switch(t){case T3.DOUBLE:return"3";case T3.SINGLE:return"99";case T3.LSHAPE_AD:case T3.LSHAPE_CONTENT:return"4"}}(n))}(r.Toe,t.fne,r.Doe),[4,r.boe(u,s,r.Toe,i)];case 1:return v.sent(),o=qn.Ih(t.Fyt),a=Number(o.searchParams.get("d")),c=A.floor(1e3*A.min(a,t.ene-n)),[4,r.Noe(i)];case 2:if(!(h=v.sent()))throw new y("Something went wrong with retrieving the PodID from the server.");return(null==(e=r.Ioe)?void 0:e.streamId)?[4,r.Poe]:[3,4];case 3:v.sent(),v.label=4;case 4:return f=qn.Ih("https://dai.google.com/linear/pods/v1/hls/network/"+r.Aoe+"/custom_asset/"+r.Soe),"V2"===t.kne?f.pathname+="/ad_break_id/"+h+".m3u8":f.pathname+="/pod/"+h+".m3u8",f.searchParams.set("stream_id",r.Ioe.streamId),f.searchParams.set("pd",String(c)),[2,f.toString()]}}))}))()},i.Nre=function(){this.S3t.bn(va.Dy,this.Foe),this.S3t.nt.bn(Tg.VI,this.qn),t.prototype.Nre.call(this)},i.Dre=function(){t.prototype.Dre.call(this),this.S3t.vn(va.Dy,this.Foe),this.S3t.nt.vn(Tg.VI,this.qn)},i.Coe=function(){this.Hre&&(this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.ERROR,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.CLICK,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.STARTED,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.MIDPOINT,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.COMPLETE,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,this.Voe),this.Hre.addEventListener(google.ima.dai.api.StreamEvent.Type.RESUMED,this.Voe))},i.Eoe=function(){this.Hre&&(this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.ERROR,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.CLICK,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.STARTED,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.MIDPOINT,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.COMPLETE,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,this.Voe),this.Hre.removeEventListener(google.ima.dai.api.StreamEvent.Type.RESUMED,this.Voe))},i.Md=function(n){t.prototype.Md.call(this,n),this.Woe=void 0},i.nr=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return[4,t.prototype.nr.call(n)];case 1:return e.sent(),n.Eoe(),null==(i=n.Hre)||i.reset(),n.Hre=void 0,n.Ioe=void 0,n.Poe=void 0,n.xoe=void 0,n.Soe=void 0,n.Aoe=void 0,n.Doe=!0,void 0!==(r=A4())&&ai(r),[2]}}))}))()},i.yn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.yn.call(n)];case 1:return r.sent(),null==(i=n.Uoe)||i.yn(),[2]}}))}))()},xt(n,[{key:"yoe",get:function(){return J3.GOOGLE}}]),n}(Q3);var R4=function(){function t(t,n,i){var r=this;this.zoe=[],this.Qoe=as(),this.rhe=(new Date).getTime(),this.ohe=function(){r.zoe.forEach((function(t){r.Qoe.get(t.o).style.cssText=r.$oe(t)}))},this.z7t=function(t){t.stopPropagation()},this.na=t,this.na.bn(wI.mn,this.ohe);var e=v.createElement("div");e.style.display="none",e.className="theoads-image-overlays-container",n.appendChild(e),bi(e),this.Yoe=e,this.hhe=i,this.fW=qn.fR}var n=t.prototype;return n.joe=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return n.zoe.push(t),n.Yoe.style.display="",(i=v.createElement("div")).className="theoplayer-theoads-overlay",i.style.display="",n.Qoe.set(t.o,i),r=v.createElement("a"),[4,n.Joe(t)];case 1:return(e=s.sent()).clickThroughURI&&(n.Yoe.style.zIndex="11",r.href=e.clickThroughURI,r.target="zu",r.setAttribute("rel","noopener"),r.addEventListener("mousedown",n.z7t),r.addEventListener("touchend",n.z7t)),t.pne===V3.image&&(r.style.backgroundImage="url("+e.resourceURI+")",r.style.backgroundSize="contain",r.style.backgroundPosition="center",r.style.backgroundRepeat="no-repeat",e.impressionURI&&((u=v.createElement("img")).src=e.impressionURI,u.style.display="none",r.appendChild(u))),bi(r),i.appendChild(r),i.style.cssText=n.$oe(t),n.Yoe.appendChild(i),[2]}}))}))()},n.the=function(t){var n=this.Qoe.get(t.o);n&&(this.Yoe.contains(n)&&this.Yoe.removeChild(n),this.Qoe.delete(t.o),0===this.Qoe.size&&(this.Yoe.style.display="none"),bo(this.zoe,t))},n.ehe=function(){var t=this;this.Qoe.forEach((function(n,i){t.Yoe.contains(n)&&t.Yoe.removeChild(n)})),this.Qoe.clear(),this.zoe=[]},n.$oe=function(t){var n=t.fo,i=0,r=1;if(this.Yoe.clientWidth>0&&this.Yoe.clientHeight>0){var e=this.na.vI/this.na.dI,u=this.qoe.clientWidth,s=this.qoe.clientHeight,o=u/e,a=(s-o)/2;i=0===s?0:A.floor(a/s*100),r=0===s?1:A.floor(100*(1-(s-o)/s))/100}var c="position:absolute;zIndex:10;";(n.D7&&(c+="left:"+n.D7+"%;"),n.P7&&(c+="right:"+n.P7+"%;"),n.M7)&&(c+="top:"+(n.M7*r+i)+"%;");n.N7&&(c+="bottom:"+(n.N7*r+i)+"%;");var h=t.Nb;return h.ji&&(c+="width:"+h.ji+"%;"),h.Ti&&(c+="height:"+h.Ti*r+"%;"),t.wne&&t.wne>0&&t.wne<=100&&(c+="opacity:"+t.wne/100+";"),c},n.ihe=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return t?(i=n.she(t))?[4,n.nhe(i,n.fW)]:[2,void 0]:[2];case 1:return[2,r.sent()]}}))}))()},n.Joe=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return i={resourceURI:""},[4,n.ihe(t.yne)];case 1:return(r=o.sent())?(i.resourceURI=r.image,i.impressionURI=r.impression):t.cjt&&((e=mo(t.cjt,(function(t){return t.Tw===U3.svg})))&&(i.resourceURI=e.Fyt),(u=mo(t.cjt,(function(t){return t.Tw===U3.png})))&&(i.resourceURI=u.Fyt)),i.clickThroughURI=null!=(s=null==r?void 0:r.clickThrough)?s:t.QYt,t.ir({imageUrl:i.resourceURI,clickThrough:i.clickThroughURI}),[2,i]}}))}))()},n.she=function(t){var n=new Iu(this.Toe);return n.set("iu",t.wre),n.set("sz",t.yre),n.set("c",String(this.rhe)),n.get(T4)||n.set(T4,"5"),"https://securepubads.g.doubleclick.net/gampad/adx?"+n.toString()},n.nhe=function(t,n){return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=new wd({Xu:t,jk:Dl.Ak,AE:vd.GET}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,n.Qk(i)];case 2:return[4,e.sent().Kk()];case 3:return[2,e.sent()];case 4:throw r=e.sent(),new tQ(nQ.NETWORK,iQ.UNKNOWN_AD_RESPONSE,"The ad source could not be loaded.",r);case 5:return[2]}}))}))()},n.nr=function(){this.ehe(),this.Yoe.style.display="none"},xt(t,[{key:"Are",get:function(){return this.zoe}},{key:"qoe",get:function(){return this.Yoe}},{key:"Koe",get:function(){return this.Toe},set:function(t){this.Toe=t}}]),t}();U(),St(),Dt();var C4=function(){function t(){}var n=t.prototype;return n.CZ=function(t){return N4(t)},n.t2t=function(t,n,i){},n.g6=function(t,n,i,r){},n.qz=function(t){var n={integration:IS.THEOADS,adTagParameters:$n(t.adTagParameters)?t.adTagParameters:{},useId3:Boolean(t.useId3)};return ni(t.networkCode)&&(n.networkCode=Gg(t.networkCode)),ni(t.customAssetKey)&&(n.customAssetKey=Gg(t.customAssetKey)),ni(t.backdropDoubleBox)&&(n.backdropDoubleBox=Gg(t.backdropDoubleBox)),ni(t.backdropLShape)&&(n.backdropLShape=Gg(t.backdropLShape)),ni(t.overrideLayout)&&(n.overrideLayout=function(t){switch(t){case"single":case"l-shape":case"double":case"single-if-mobile":return t;default:return}}(t.overrideLayout)),ni(t.overrideAdSrc)&&(n.overrideAdSrc=Gg(t.overrideAdSrc)),ni(t.retrievePodIdURI)&&(n.retrievePodIdURI=Gg(t.retrievePodIdURI)),ni(t.sseEndpoint)&&(n.sseEndpoint=Gg(t.sseEndpoint)),ni(t.streamActivityMonitorId)&&(n.streamActivityMonitorId=Gg(t.streamActivityMonitorId)),n},xt(t,[{key:"$1t",get:function(){return l$.Hst}}]),t}();function N4(t){return t&&t.integration===IS.THEOADS}RS.Vg.PZ(new C4),U(),St(),Ct();var x4=function(t){function n(n){var i;return(i=t.call(this,"addinterstitial")||this).interstitial=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var D4=function(t){function n(n){var i;return(i=t.call(this,"ahe")||this).interstitial=n,i}return Rt(n,t),n.prototype.ka=function(){return new P4(this.interstitial.int())},n}(_g),P4=function(t){function n(n){var i;return(i=t.call(this,"interstitialend")||this).interstitial=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var M4=function(t){function n(n,i){var r;return(r=t.call(this,"uhe")||this).interstitial=n,r.wb=i,r}return Rt(n,t),n.prototype.ka=function(){return new B4(this.interstitial.int(),this.wb)},n}(_g),B4=function(t){function n(n,i){var r;return(r=t.call(this,"interstitialerror")||this).interstitial=n,r.message=i,r}return Rt(n,t),n}(fa);U(),St(),Gt(),Dt(),Ct(),Jt(),Tt(),U(),St(),Ct();var O4=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).MA=A.min(i,r.sd.ZJt),r}return Rt(n,t),n}(t4),L4=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).X9=!1,n.Hzt=function(){n._o(new $$(nQ.GENERAL))},n.dhe=function(t){!n.X9&&n.Cre&&(n.X9=!0,n.p$t=n.p3t(n.Cre),n.a$t=new O4(n.p$t,n.S3t.jd()),n.Cre.ir({ad:n.n8t}),n.I3t._o(new aB(n.p$t)),n.I3t._o(new hB(n.a$t,n.Xse(t.currentTime))))},n.s7=function(t){n.Md(n.Xse(t.currentTime))},n}Rt(n,t);var i=n.prototype;return i.boe=function(t,n,i,r){return ut.resolve()},i._J=function(t,n,i,r){return ut.resolve()},i.kre=function(t){},i.Boe=function(t,n,i,r){var e;if(void 0===r&&(r=!1),this.Cre=t,t.WO<n){var u=A.min(t.ct,t.ene-n);e=t.ct-u,t.ir({ct:u,hne:e})}return this.Ore({sources:{src:t.Fyt}},i,e,r)},i.Ooe=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(n){return r.Cre=t,[2,t.Fyt]}))}))()},i.Nre=function(){t.prototype.Nre.call(this),this.S3t.bn(Iy.UL,this.dhe),this.S3t.bn(va.Dy,this.s7),this.S3t.bn(Yp.fa,this.Hzt)},i.Dre=function(){this.S3t.vn(Iy.UL,this.dhe),this.S3t.vn(va.Dy,this.s7),this.S3t.vn(Yp.fa,this.Hzt),t.prototype.Dre.call(this)},i.pd=function(t){var n,i=this.Xse(t.currentTime),r=this.Cre.z2t;this.Cre.sne(i);var e=this.Cre.z2t;r<.25&&e>=.25?this.I3t._o(new p0(this.a$t,i)):r<.5&&e>.5?this.I3t._o(new _0(this.a$t,i)):r<.75&&e>=.75?this.I3t._o(new k0(this.a$t,i)):(null==(n=this.Cre)?void 0:n.tI)&&this.Md(i)},i.Md=function(n){t.prototype.Md.call(this,n),this.X9=!1},i.nr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.nr.call(n)];case 1:return i.sent(),n.X9=!1,[2]}}))}))()},xt(n,[{key:"yoe",get:function(){return J3.DEFAULT}}]),n}(Q3),F4="theo-ads-sgai-container",V4=function(t){function n(n){var i,r,e;return i=t.call(this,n)||this,r=i,i.YG=void 0,i.TZ=void 0,i.Vhe=as(),i.jhe=!0,i.Qhe=NaN,i.Ohe=NaN,i.Bhe=NaN,i.Khe=!1,i.Sd=function(){i.Dst.vn(Iy.FL,i.bhe),i._he.Dne(i.na.nt)},i.ghe=Zt((function(){var t;return Ht(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,r.kst.Aq([TE.THEOADS])];case 1:return n.sent(),[3,4];case 2:return t=n.sent(),[4,r.RI().catch(Si)];case 3:return n.sent(),r.BH(al(t,ul.LICENSE_INVALID_FEATURE)),[3,4];case 4:return[2]}}))})),i.bhe=function(){var t;i.Dst.vn(Iy.VL,i.bhe),(null==(t=i.mhe)?void 0:t.sseEndpoint)&&i._he.Rne(i.mhe.sseEndpoint)},i.Ihe=function(){i.Whe(i.xR()),i.Uhe()},i.CX=function(){i.Whe(i.xR()),i.Uhe()},i.RE=function(){i.Hhe(i.xR())},i.Dhe=function(){i.x1t()},i.Fhe=function(t){i.vhe._o(t.wa)},i.Dst=n,i.Vs=n.we,i.khe=function(){var t=v.createElement("div");return gi(t,"theo-ads-sgai-content-player"),t}(),i.vhe=new K3(i),i.hhe=new $3,null==(e=i.Dst.zc)||e.ant(i.hhe),i._he=new G3(i),i.fhe=new R4(i,i.khe,i.hhe),i}Rt(n,t);var i=n.prototype;return i.Lst=function(){return this.Dst.zc},i.Wst=function(){return this.vhe.wa},i.IR=function(){return this.Vs},i.Mst=function(){return this.Dst.vst},i.NR=function(){var n;return null!=(n=this.TZ)?n:t.prototype.NR.call(this)},i.LR=function(){var n;return null!=(n=this.YG)?n:t.prototype.LR.call(this)},i.kI=function(){this.Dst.kI()},i.ire=function(t){return t},i.Ca=function(n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,t.prototype.Ca.call(r,n,i)];case 1:return s.sent(),void 0===n||void 0===n.ads?[2]:void 0===(e=mo(n.ads,N4))?[2]:(r.ghe(),r.phe(),r.whe(),r.mhe=e,r.yhe=e.backdropLShape,r.fhe.Koe=e.adTagParameters,r.Dst.bn(Iy.VL,r.bhe),r.Dst.bn(Iy.FL,r.Sd),r.Ahe(),r._he.tre=function(t){switch(t){case"single":return T3.SINGLE;case"l-shape":return T3.LSHAPE_AD;case"double":return T3.DOUBLE;case"single-if-mobile":return Gn.Qs?T3.SINGLE:void 0;default:return}}(r.mhe.overrideLayout),r._he.sre=r.mhe.overrideAdSrc,r._he.One=r.mhe.useId3,u=void 0===e.networkCode||void 0===e.customAssetKey,[4,r.She(u)]);case 2:return s.sent(),[2]}}))}))()},i.phe=function(){gi(this.Vs,F4),hi(this.Vs,this.khe),bi(this.khe),this.Vs.appendChild(this.khe)},i.Ehe=function(){mi(this.Vs,F4),hi(this.khe,this.Vs),ki(this.khe),ai(this.khe)},i.She=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b;return Ht(this,(function(k){switch(k.label){case 0:return u=n.J1t(),s=n.xhe(),a=null!=(o=null==(i=n.Wre)?void 0:i.YJt)?o:[],t&&(null==(r=n.Wre)?void 0:r.yoe)!==J3.DEFAULT?[4,null==(c=n.Wre)?void 0:c.nr()]:[3,2];case 1:k.sent(),n.Wre=new L4(u,n.hhe,a),k.label=2;case 2:return t||(null==(e=n.Wre)?void 0:e.yoe)===J3.GOOGLE?[3,5]:[4,null==(h=n.Wre)?void 0:h.nr()];case 3:return k.sent(),n.Wre=new I4(u,n.hhe,s,a,n.Koe,null==(f=n.mhe)?void 0:f.streamActivityMonitorId,null==(v=n.mhe)?void 0:v.retrievePodIdURI),y=null!=(p=null==(l=n.Rhe)?void 0:l.Ane)?p:null==(d=n.mhe)?void 0:d.networkCode,b=null!=(_=null==(g=n.Rhe)?void 0:g.Sne)?_:null==(m=n.mhe)?void 0:m.customAssetKey,[4,null==(w=n.Wre)?void 0:w.boe(y,b,n.Koe)];case 4:k.sent(),k.label=5;case 5:return[2]}}))}))()},i.Qne=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return i.Rhe||void 0===t||void 0===n?[2]:(null==(r=i.Wre)?void 0:r.yoe)===J3.GOOGLE?[3,2]:[4,i.She(!1)];case 1:u.sent(),u.label=2;case 2:return[4,null==(e=i.Wre)?void 0:e.boe(t,n,i.Koe)];case 3:return u.sent(),[2]}}))}))()},i.BH=function(t){void 0===this.LR()&&(this.YG=t,this.TZ=cm(t),this._o(new Ik(t)))},i.Ahe=function(){this.Dst.bn(va.hb,this.Ihe),this.Dst.bn(va.Jy,this.CX),this.Dst.bn(va.qy,this.RE)},i.Che=function(){this.Dst.vn(va.hb,this.Ihe),this.Dst.vn(va.Jy,this.CX),this.Dst.vn(va.qy,this.RE)},i.Phe=function(){this.hhe.h2t.bn("fnt",this.Dhe)},i.Nhe=function(){this.hhe.h2t.vn("fnt",this.Dhe)},i.x1t=function(){this.Mhe()},i.Lhe=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.Mhe(),[2]}))}))()},i.Mhe=function(){var t=this.na.dI,n=this.na.vI;t===this.Bhe&&n===this.Ohe||(this.Bhe=t,this.Ohe=n,this._o(new Sy))},i.ere=function(t){var n;U4(t)&&(null==(n=this.Wre)||n.ere(t),this.hre(this.xR()));t.bn("tne",this.Fhe),this.vhe._o(new x4(t.int()))},i.mre=function(t){var n;(this._he.mre(t),U4(t))?null==(n=this.Wre)||n.mre(t):W4(t)&&(this.fhe.the(t),this.Vhe.delete(t.o));t.vn("tne",this.Fhe),this.vhe._o(new D4(t).wa)},i.hre=function(t){this.Whe(t),this.Uhe()},i.Whe=function(t){this.Ghe(t),this.Hhe(t),this.Zhe(t)},i.Ghe=function(t){for(var n,i=[],r=0,e=this._he.Ene.filter(U4);r<e.length;r++){var u=e[r];if(u.tI)i.push(u);else{var s=u.ene;void 0!==s&&t>=s?(u.tI=!0,i.push(u)):void 0!==n&&n.WO<u.WO||(n=u)}}for(var o=0;o<i.length;o++){var a=i[o];this.mre(a)}this.Rhe!==n&&(this.Rhe=n,this.Xhe())},i.Xhe=function(){var t,n;null==(t=this.Wre)||t.Pre(),null==(n=this.zhe)||n.jw(),this.qhe=void 0,this.Yhe=void 0},i.Hhe=function(t){var n=this;if(void 0!==this.Rhe&&void 0===this.qhe&&!this.Khe){var i=!1,r=BA.Cn(this.Dst.yR())._B(t);if(void 0!==r&&(i=r.Tn(0)>=this.Rhe.WO),U4(this.Rhe)){var e=this.Rhe,u=e.ene,s=t>=e.WO&&(void 0===u||t<u);(i||s)&&(this.zhe=new Qo,this.qhe=zo(this.Boe(e,t,this.zhe.Uw),this.zhe).catch((function(t){jo(t)||(n.vhe._o(new M4(e,"Could not load the ad break.").wa),e.tI=!0,n.Rhe=void 0)})))}}},i.Zhe=function(t){var n=this;if(void 0!==this.Rhe&&void 0===this.Yhe&&!this.Khe){var i,r=this.Rhe.ene;if(t>=this.Rhe.WO&&(void 0===r||t<r))this.Yhe=null==(i=this.qhe)?void 0:i.then((function(){return n.Lhe()}))}},i.kre=function(t){var n,i,r;this.Toe=t,null==(i=this.Wre)||i.kre(null!=(r=null!=t?t:null==(n=this.mhe)?void 0:n.adTagParameters)?r:{}),this.fhe.Koe=t},i.Uhe=function(){var t,n=function(n,e){var u=e[n],s=u.ene;if(void 0!==s&&r>=s)return"continue";var o=u.WO,a=u.WO+u.ct;r>=o&&r<=a&&!t.Vhe.has(u.o)&&(t.fhe.joe(u).catch((function(t){i.vhe._o(new M4(u,"Could not load the overlay.").wa)})),t.vhe._o(new O3(u).wa),t.Vhe.set(u.o,u))},i=this,r=this.xR(),e=[];this.Vhe.forEach((function(t){r>=t.WO&&(void 0===t.ene||r<t.ene)||e.push(t)})),e.forEach((function(t){return i.mre(t)}));for(var u=0,s=this._he.Ene.filter(W4);u<s.length;u++)t=this,n(u,s)},i.RI=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return n.YG=void 0,n.TZ=void 0,n.mhe=void 0,n.jhe=!0,n.Qhe=NaN,n.Ohe=NaN,n.Bhe=NaN,n.Rhe=void 0,null==(i=n.zhe)||i.jw(),n.qhe=void 0,n.Yhe=void 0,[4,null==(r=n.Wre)?void 0:r.nr()];case 1:return e.sent(),n.Wre=void 0,n._he.nr(),n.fhe.nr(),n.Vhe.clear(),n.Dst.vn(Iy.VL,n.bhe),n.Dst.vn(Iy.FL,n.Sd),n.Che(),n.Nhe(),n.Ehe(),n.Xhe(),[4,t.prototype.RI.call(n)];case 2:return e.sent(),[2]}}))}))()},i.yn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.RI().catch(Si)];case 1:return r.sent(),n._he.yn(),[4,null==(i=n.Wre)?void 0:i.yn()];case 2:return r.sent(),[4,t.prototype.yn.call(n)];case 3:return r.sent(),[2]}}))}))()},i.BI=function(n){switch(n.type){case va.Uy:case va.xy:case Iy.VL:return!this.jhe;case Iy.FL:return!this.jhe||(this.jhe=!1,!1);case va.Iy:var i=this.jd();return i!==this.Qhe&&(this.Qhe=i,this._o(new bT(i))),!0;case va.jy:return this.Mhe(),!0}return t.prototype.BI.call(this,n)},xt(n,[{key:"Are",get:function(){var t;return[null==(t=this.Wre)?void 0:t.Ire].concat(Ut(this.fhe.Are)).filter(Yn)}},{key:"Sre",get:function(){return this._he.Ene}},{key:"Koe",get:function(){var t,n,i;return null!=(i=null!=(n=this.Toe)?n:null==(t=this.mhe)?void 0:t.adTagParameters)?i:{}}}]),n}(G$);function U4(t){return"adbreak"===t.Tw}function W4(t){return"overlay"===t.Tw}var j4=function(t){function n(n){var i;return(i=t.call(this,n)||this).Jhe=0,i.aae=!0,i.tae=!1,i.oae=new Qo,i.eae=!0,i.iae=!0,i.lae=!0,i.uzt=function(t){i.MA=t.duration},i.LW=function(){i.Dst.vn(Iy.UL,i.LW),i.aae=!1},i.uae=function(){i.Dst.vn(Iy.FL,i.uae),i.hae&&(i.Dst.bR=i.hae,i.hae=void 0),i.Dst.xR()>0&&(i.Jhe-=i.Dst.xR())},i.Nrt=QB.Vg,i.nae=new r3(qn.fR),i}Rt(n,t);var i=n.prototype;return i.jd=function(){var n;return null!=(n=this.MA)?n:t.prototype.jd.call(this)},i.iu=function(){var n;return null!=(n=this.Sc)?n:t.prototype.iu.call(this)},i.xR=function(){return this.ire(t.prototype.xR.call(this))},i.yR=function(){var n=t.prototype.yR.call(this);return BA.Cn(n).xb(this.Jhe).ks()},i.aI=function(){var n=t.prototype.aI.call(this);return BA.Cn(n).xb(this.Jhe).ks()},i.ire=function(t){return t+this.Jhe},i.Ca=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,t.prototype.Ca.call(r,n,i)];case 1:return e.sent(),r.mhe?(r.Sc=n,r.$he=new M3(r.Dst),r.$he.pr(r.Dst.we,r.Dst.we.parentElement),r.fO(r.$he),[2]):[2]}}))}))()},i.whe=function(){},i.Ahe=function(){t.prototype.Ahe.call(this),this.Dst.bn(va.Iy,this.uzt),this.Dst.bn(Iy.UL,this.LW)},i.Che=function(){t.prototype.Che.call(this),this.Dst.vn(va.Iy,this.uzt),this.Dst.vn(Iy.UL,this.LW)},i.J1t=function(){return this.Dst},i.xhe=function(){return this.khe},i.RR=function(n,i){this.tae=!0,t.prototype.RR.call(this,n,i)},i.Phe=function(){t.prototype.Phe.call(this),this.Dst.bn(va.Dy,this.Dhe)},i.Nhe=function(){t.prototype.Nhe.call(this),this.Dst.vn(va.Dy,this.Dhe)},i.xI=function(){t.prototype.xI.call(this),this._o(new _T(this.xR())),this.eae=!0,this.iae=!1},i.EI=function(){this.iae=!0,t.prototype.EI.call(this)},i.Boe=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return u=D3(t),[4,r.She(u)];case 1:return a.sent(),[4,null==(e=r.Wre)?void 0:e.Ooe(t,n,i)];case 2:return r.sae=a.sent(),s=new Y2(r.Nrt,r.nae),o=new U1(r.Nrt.Ort,s,"temporary"),r.rae=o.oee(mE(mE({sources:{src:r.sae}})),J2({amount:30,bandwidth:Nk.Vg.cG()||r.vst.Ij}),"temporary"),r.oae.jw(),r.oae=new Qo,[4,r.nae.Ait(r.rae,r.Nrt,"temporary").pi(r.oae.Uw)];case 3:return a.sent(),[2]}}))}))()},i.Lhe=function(){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return void 0===n.Rhe||void 0===n.sae?[2]:(n.Che(),null==(i=n.zhe)||i.jw(),n.zhe=new Qo,u=D3(n.Rhe),[4,n.She(u)]);case 1:return s.sent(),n.hae=n.Dst.bR,null==(r=n.$he)||r.dr(n.Dst.we),n.aae=!0,n.Jhe=n.xR(),n.Dst.bn(Iy.FL,n.uae),n.Dst.bn(Iy.UL,n.LW),n.vhe._o(new O3(n.Rhe).wa),[4,null==(e=n.Wre)?void 0:e.Ore({sources:{src:n.sae}},n.zhe.Uw,void 0,!0)];case 2:return s.sent(),n.$he=n.cae(n.Rhe.fne,n.yhe),n.D1t(n.$he),n.$he.pr(n.we,n.Dst.we.parentElement),n.Phe(),n.Khe=!0,n.lae=!1,[2,t.prototype.Lhe.call(n)]}}))}))()},i.cae=function(t,n){switch(t){case T3.LSHAPE_AD:return new B3(this.Dst,n);case T3.SINGLE:default:return new M3(this.Dst)}},i.x1t=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return n.Rhe?(n.hae=n.hae?new Date(Number(n.hae)+1e3*n.Rhe.ct):void 0,null==(i=n.rae)||i.eT(),n.rae=void 0,n.Rhe=void 0,n.Nhe(),n.aae=!0,n.Jhe=n.xR(),n._he.Lne(n.Dst.nt),n.Dst.bn(Iy.FL,n.uae),n.Dst.bn(Iy.FL,n.Sd),n.Dst.bn(Iy.UL,n.LW),[4,n.Dst.Ca(n.Sc,(new Qo).Uw)]):[2];case 1:return e.sent(),null==(r=n.$he)||r.dr(n.Dst.we),n.$he=new M3(n.Dst),n.$he.pr(n.Dst.we,n.Dst.we.parentElement),n.D1t(n.$he),n.Dst.xI(),n.lae=!0,n.Khe=!1,n.Ahe(),t.prototype.x1t.call(n),[2]}}))}))()},i.RI=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.$he=void 0,n.MA=void 0,n.Jhe=0,n.sae=void 0,n.hae=void 0,n.lae=!0,n.aae=!1,n.eae=!0,n.iae=!0,n.oae.jw(),n.oae=new Qo,null==(i=n.rae)||i.eT(),n.rae=void 0,n.Dst.vn(Iy.FL,n.uae),[4,t.prototype.RI.call(n)];case 1:return r.sent(),[2]}}))}))()},i.BI=function(n){if(void 0!==this.$he)switch(n.type){case va.ho:return!0;case va.zy:if(!this.iae)return!0;this.iae=!1;break;case Iy.UL:if(!this.eae)return!0;this.eae=!1;break;case Iy.WL:if(this.aae)return!0;this.eae=!0;break;case va.Qy:if(this.aae&&!this.tae)return!0;this.tae=!1;break;case va.Jy:if(this.aae&&!this.tae)return!0;break;case va.Dy:if(!this.lae)return!0}return t.prototype.BI.call(this,n)},n}(V4);U(),St(),Gt(),Dt(),Ct(),Jt();var Z4=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).dae=0,r.fae=0,r.kae=0,r.Eae=function(){if(r.Dst.vn(Iy.VL,r.Eae),r.Tae){var t=r.Tae;t.setSeconds(r.Tae.getSeconds()+r.kae),r.Dst.bR=t,r.Tae=void 0}r.fae-=r.Dst.xR()},r.Dst=n,r.S3t=i,r}Rt(n,t);var i=n.prototype;return i.Wse=function(){this.dae=this.Dst.xR()+this.fae},i.Jse=function(){var t;if(void 0===this._ae){var n=this.vae;this.vae=void 0,null==(t=this.mae)||t.jw(),H4(this.Dst)&&(this.gae=new Qo,this._ae=zo(this.pae(n,this.gae.Uw),this.gae).catch(Go))}},i.$se=function(){var t,n=this._ae;this._ae=void 0,null==(t=this.gae)||t.jw(),this.mae=new Qo,this.vae=zo(this.wae(n,this.mae.Uw),this.mae).catch(Go)},i.ja=function(){return this.Dst.fH},i.yae=function(){this.bae={source:this.Dst.iu(),duration:this.Dst.jd(),currentTime:this.Dst.xR(),preload:this.Dst.iI,autoplay:this.Dst.SO}},i.Aae=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.Dst.iI=iS.JB,n.Dst.SO=!1,n.S3t.ZR=!0,i=n.S3t.iu(),[4,n.Dst.Ca(i,t)];case 1:return r.sent(),n.Dst.RR(n.S3t.xR()),[2]}}))}))()},i.Sae=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.bae?(n.Dst.iI=n.bae.preload,n.Dst.SO=n.bae.autoplay,[4,n.Dst.Ca(n.bae.source,t)]):[2];case 1:return i.sent(),n.bae=void 0,[2]}}))}))()},i.pae=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,null==t?void 0:t.catch(Si)];case 1:return r.sent(),i.yae(),i.Tae=i.Dst.bR,[4,i.Dst.RI()];case 2:return r.sent(),[4,i.Aae(n)];case 3:return r.sent(),i.D1t(i.Dst),i.Dst.xI(),[2]}}))}))()},i.wae=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,null==t?void 0:t.catch(Si)];case 1:return r.sent(),i.kae=i.S3t.xR(),i.fae=i.kae+i.zse,[4,i.Dst.RI()];case 2:return r.sent(),[4,i.S3t.RI()];case 3:return r.sent(),[4,i.Sae(n)];case 4:return r.sent(),i.D1t(i.S3t),i.Dst.bn(Iy.VL,i.Eae),i.Dst.xI(),[2]}}))}))()},i.iu=function(){return this.bae?this.bae.source:t.prototype.iu.call(this)},i.jd=function(){return this.bae?this.bae.duration:t.prototype.jd.call(this)},i.aI=function(){var n=t.prototype.aI.call(this);return BA.Cn(n).xb(this.zse).ks()},i.yR=function(){var n=t.prototype.yR.call(this);return BA.Cn(n).xb(this.zse).ks()},i.nr=function(){this.fae=0,this.dae=0,this.kae=0,this.Tae=void 0,this.Dst.vn(Iy.VL,this.Eae)},i.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.nr(),[4,t.prototype.yn.call(n)];case 1:return i.sent(),[2]}}))}))()},xt(n,[{key:"zse",get:function(){return this.dae}},{key:"Gse",get:function(){return this.fae}}]),n}(G$);U(),St(),Ct();var X4=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.Ca=function(n,i){var r;return void 0!==mo(null!=(r=null==n?void 0:n.ads)?r:[],N4)?ut.reject(new ol(ul.CONFIGURATION_ERROR,"THEOads must be enabled in the player configuration.")):t.prototype.Ca.call(this,n,i)},n}(zk),G4=function(t){function n(n){var i;return(i=t.call(this,n)||this).Uae=!0,i.eae=!0,i.Oae=!0,i.Lae=!1,i.Rae=function(t){if(i.Mae&&!function(t){return t instanceof _3}(i.Mae)&&i.S3t&&i.Khe)switch(t.presentationMode){case"native-picture-in-picture":i.Dae(new _3(i.Dst,i.S3t),!1,!1);break;case"fullscreen":o1(i.kd)&&i.Dae(new _3(i.Dst,i.S3t),!1,!1)}},i.Fae=function(t){H4(i.Dst)||i.Wae()},i.Vae=function(t){H4(i.Dst)||i.Wae()},i.xae(),i}Rt(n,t);var i=n.prototype;return i.xae=function(){this.Dst.xst.bn("presentationmodechange",this.Rae)},i.Iae=function(){this.Dst.xst.vn("presentationmodechange",this.Rae)},i.zR=function(n){n||this.KR||this.kI(),t.prototype.zR.call(this,n)},i.Ca=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,t.prototype.Ca.call(r,n,i)];case 1:return e.sent(),r.mhe?(r.Cae=r.mhe.backdropDoubleBox,r.Pae(),r.Dae(new y3(r.Dst,r.S3t),!1,!0),[2]):[2]}}))}))()},i.whe=function(){var t=new E0(new BM(this.Nae,this.na.kd,new FE),RS.Vg);t.iI=iS.JB,t.SO=!1,this.S3t=new Z4(this.Dst,t)},i.phe=function(){t.prototype.phe.call(this),this.Nae=function(){var t=v.createElement("div");return gi(t,"theo-ads-sgai-ad-player"),t}(),bi(this.Nae),this.Vs.appendChild(this.Nae),this.koe=function(t){var n=v.createElement("div");return gi(n,"theo-ads-sgai-ima-container"),function(t){t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%"}(n),t.appendChild(n),n}(this.Nae)},i.Ehe=function(){t.prototype.Ehe.call(this),this.Nae&&(ki(this.Nae),ai(this.Nae),this.Nae=void 0)},i.Dae=function(t,n,i){var r;void 0!==this.Mae&&(this.Mae.dr(this.we,this.khe,this.Nae),this.Mae.yn());var e=null!=(r=this.Mae)?r:this,u=null!=t?t:this.Dst;w3(e,u),null==t||t.pr(this.we,this.khe,this.Nae,e,n),this.Mae=t,i?this.fO(u):this.D1t(u)},i.Pae=function(){this.Lae||(this.Lae=!0,ki(this.khe),ki(this.Nae),N3(this.Vs),N3(this.khe),N3(this.Nae),function(t){var n=t.style;n.display="flex",n.alignItems="center"}(this.Vs))},i.Bae=function(){this.Lae&&(this.Lae=!1,x3(this.Vs),x3(this.khe),x3(this.Nae),bi(this.khe),bi(this.Nae))},i.J1t=function(){return this.S3t},i.xhe=function(){return this.koe},i.kI=function(){var n;t.prototype.kI.call(this),null==(n=this.S3t)||n.kI()},i.RR=function(n,i){this.Oae=!0,t.prototype.RR.call(this,n,i)},i.ire=function(t){var n,i;return t+(null!=(i=null==(n=this.S3t)?void 0:n.Gse)?i:0)},i.Phe=function(){var n,i;t.prototype.Phe.call(this),null==(n=this.S3t)||n.bn(va.qy,this.Fae),null==(i=this.S3t)||i.bn(va.Dy,this.Dhe),this.Dst.bn(va.Gy,this.Vae)},i.Nhe=function(){var n,i;t.prototype.Nhe.call(this),null==(n=this.S3t)||n.vn(va.qy,this.Fae),null==(i=this.S3t)||i.vn(va.Dy,this.Dhe),this.Dst.vn(va.Gy,this.Vae)},i.Wae=function(){var t,n,i=null==(t=this.Rhe)?void 0:t.ene;if(void 0!==i&&!(null==(n=this.Mae)?void 0:n.Zse())&&!fr(this.Dst.xR(),i,.001)){var r=BA.Cn(this.S3t.yR()),e=this.S3t.aI(),u=A.min(e.end(e.length-1),i);r.YL().wr(u)&&this.Dst.RR(i,{iOt:!0})}},i.Boe=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return u=D3(t),[4,r.She(u)];case 1:return s.sent(),[4,null==(e=r.Wre)?void 0:e.Boe(t,n,i)];case 2:return s.sent(),[2]}}))}))()},i.Lhe=function(){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){return void 0===(i=n.Rhe)?[2]:(r=i.fne,e=n.cae(r,i),n.Che(),Gn.eg&&Gn.og>=16&&Gn.og<18&&(null==(u=n.S3t)||u.RR(n.S3t.xR())),Gn.Xv&&!e.Zse()&&(x3(n.khe),bi(n.khe)),n.Dae(e,n.eae,!1),n.vhe._o(new O3(i).wa),n.Phe(),n.Khe=!0,n.Uae=!1,n.Yhe=void 0,[2,t.prototype.Lhe.call(n)])}))}))()},i.cae=function(t,n){if(H4(this.Dst))return new _3(this.Dst,this.S3t);switch(t){case T3.DOUBLE:return n._ne||n.ir({backdropUri:this.Cae}),new E3(this.Dst,this.S3t,n._ne);case T3.LSHAPE_AD:return n._ne||n.ir({backdropUri:this.yhe}),new C3(this.Dst,this.S3t,n._ne);case T3.LSHAPE_CONTENT:return n._ne||n.ir({backdropUri:this.yhe}),new R3(this.Dst,this.S3t,n._ne);case T3.SINGLE:default:return new b3(this.Dst,this.S3t)}},i.x1t=function(){var n,i;if(void 0!==this.Rhe){this.Nhe(),Gn.Xv&&(ki(this.khe),N3(this.khe)),function(t){return t instanceof _3}(this.Mae)&&(this._he.Lne(this.Dst.nt),this.Dst.bn(Iy.FL,this.Sd));var r=null==(n=this.Mae)?void 0:n.Zse();this.Dae(new y3(this.Dst,this.S3t),!0,!1),r||(this.Oae=!1,this.Dst.RR(this.Rhe.ene,{iOt:!0})),null==(i=this.S3t)||i.RI(),this.Ahe(),this.Khe=!1,this.Uae=!1,this.Rhe=void 0,t.prototype.x1t.call(this)}},i.RI=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.eae=!0,n.Oae=!0,n.Uae=!0,n.Khe=!1,n.Dae(void 0,!1,!0),n.Bae(),[4,null==(i=n.S3t)?void 0:i.yn()];case 1:return r.sent(),n.S3t=void 0,n.koe=void 0,[4,t.prototype.RI.call(n)];case 2:return r.sent(),[2]}}))}))()},i.yn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.Iae(),[4,null==(i=n.S3t)?void 0:i.yn()];case 1:return r.sent(),[4,t.prototype.yn.call(n)];case 2:return r.sent(),[2]}}))}))()},i.BI=function(n){if(void 0!==this.Mae)switch(n.type){case va.ho:if(!this.Uae)return this.Uae=!0,!0;this.eae=!0;break;case va.zy:if(this.PR&&this.Khe)return!0;break;case Iy.UL:if(!this.eae)return!0;this.eae=!1;break;case Iy.WL:this.eae=!0;break;case va.Jy:if(!this.Oae)return!0;break;case va.Qy:if(!this.Oae)return this.Oae=!0,!0}return t.prototype.BI.call(this,n)},xt(n,[{key:"xst",get:function(){return this.Dst.xst}}]),n}(V4);function H4(t){var n=t.xst.Ho()===NT.FULLSCREEN&&o1(t.kd);return t.fH.hO||n}$k((function(t){return t.kd.ads.theoads?Gn.Cm||Gn.Mm||Gn.Wm?new j4(t):new G4(t):new X4(t)}),Yk.Hst),U(),St(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt(),Ct(),U(),St();var z4=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).eu=void 0,n}return Rt(n,t),xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{get casting(){return t.uQ},get state(){return t.Vft},start:function(){t.CI()},stop:function(){t.DI()},addEventListener:function(n,i){var r=zg(n,Gg);t.bn(r,i)},removeEventListener:function(n,i){var r=zg(n,Gg);t.vn(r,i)}}}(this)),this.eu}}]),n}(aa),Y4=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Fa=zS.UNAVAILABLE,e.Yae=new Qo,e.Zae=function(){var t,n=null==(t=e.gj.iu())?void 0:t.sources.filter(mT);(null==n?void 0:n.some(jk))?e.Da(zS.AVAILABLE):e.Da(zS.UNAVAILABLE)},e.handleAirplayChangedEvent=function(){e.na&&e.na.WR?e.qae():e.Vft===zS.CONNECTED&&e.Jae()},e.handleAirplayPlayerTimeUpdate=function(t){e.Kae=t.currentTime,e.jae=e.gj.bR},e.Qgt=n,e.gj=i,e.zae=r,e.zae.be(),i.bO(r),e.Gae(),e}Rt(n,t);var i=n.prototype;return i.Gae=function(){this.Hae(),this.Qgt.bn(va.uo,this.Zae),this.Da(zS.AVAILABLE)},i.Hae=function(){this.na&&this.na.vn(va.wy,this.handleAirplayChangedEvent),this.Xae?this.na=this.gj:this.na=this.zae,this.na.bn(va.wy,this.handleAirplayChangedEvent)},i.qae=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return t.na?t.Xae?[3,2]:(t.Kae=t.gj.ER,t.jae=t.gj.bR,t.zae.bn(va.hb,t.handleAirplayPlayerTimeUpdate),t.Qae=t.gj.vC,t.gj.vC=t.zae,t.Qae.EI(),t.Qae.be(),t.zae.ge(),t.zae.ZR=t.Qae.ZR,t.zae.QR=t.Qae.QR,t.zae.gI=t.Qae.gI,n=t.zae.py(va.Qy),t.zae.ER=t.Qae.ER,[4,n]):[2];case 1:return e.sent(),t.zae.xI(),t.zae.ZR=t.Qae.ZR,t.zae.QR=t.Qae.QR,t.zae.gI=t.Qae.gI,[3,5];case 2:return t.na.KR?[3,4]:(i=new ut((function(t){return g(t,800)})),r=t.na.py(va.zy,t.Yae.Uw),[4,ut.race([r,i])]);case 3:e.sent(),e.label=4;case 4:t.na.xI(),e.label=5;case 5:return t.Da(zS.CONNECTED),[2]}}))}))()},i.Jae=function(){this.Qae?(this.zae.vn(va.hb,this.handleAirplayPlayerTimeUpdate),this.Qae.ZR=this.zae.ZR,this.Qae.QR=this.zae.QR,this.Qae.gI=this.zae.gI,Gn.eg&&!Gn.su&&this.gj.ct===1/0?this.jae?this.Qae.bR=this.jae:this.Qae.ER=1/0:this.Qae.ER=this.Kae,this.jae=void 0,this.Kae=void 0,this.Qae.ge(),this.zae.be(),this.zae.KR||this.Qae.xI(),this.gj.vC=this.Qae,this.zae.nr(),this.Qae=void 0):this.na&&(this.na.ER=this.na.ER+1e-4);this.Da(zS.AVAILABLE)},i.preloadPlayer=function(t){if(Zo(t),this.na.rI<Ny.Xn){var n=this.na.py(Iy.VL,t);return this.na.iI=iS.eW,n}return ut.resolve()},i.Da=function(t){t!==this.Fa&&(this.Fa=t,this._o(new U$(this.Fa)))},i.CI=function(){this.Qgt.kI(),this.Yae.jw(),this.Yae=new Qo,na(zo(this.Xae?this.$ae(this.Yae.Uw):this.tue(this.Yae.Uw),this.Yae))},i.$ae=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.preloadPlayer(t)];case 1:return i.sent(),n.gj.CI(),[2]}}))}))()},i.tue=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,n.zae.nr()];case 1:if(e.sent(),void 0===(i=n.gj.iu()))throw new y("Not possible to start Airplay without a source");return[4,n.zae.Ca(i,t)];case 2:return e.sent(),r=n.zae.py(Iy.UL,t),n.zae.xI(),[4,ua(r,3e3)];case 3:return e.sent(),n.zae.EI(),Zo(t),n.zae.CI(),[3,5];case 4:return jo(e.sent())?[2]:[3,5];case 5:return[2]}}))}))()},i.DI=function(){this.na.DI()},i.yn=function(){var t;this.Ro(),this.Qgt.vn(va.uo,this.Zae),this.Yae.jw(),this.gj.AO(this.zae),null==(t=this.zae)||t.yn()},xt(n,[{key:"uQ",get:function(){return this.Vft===zS.CONNECTED}},{key:"Vft",get:function(){return this.Fa}},{key:"Xae",get:function(){return this.gj.II()}}]),n}(z4);U(),St(),Dt(),Ct();var K4=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.CI=function(){},i.DI=function(){},xt(n,[{key:"uQ",get:function(){return!1}},{key:"Vft",get:function(){return zS.UNAVAILABLE}}]),n}(z4);U(),St(),Gt(),Dt(),Ct(),Jt();var q4=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).tZ=void 0,a.Sc=void 0,a.cO=new aA,a.dO=new aA,a.Hl=new cA,a.Vs=n,a.iue=new JT(s,o,1,[rm.mE]),a.iue.AZ(n),a.eue=new Wk(n,a.iue,i,r,e,u),a.eue.oy(a.Ds),a.cO.vC=a.eue.ht,a.dO.vC=a.eue.rt,a.Hl.vC=a.eue.nt,a}Rt(n,t);var i=n.prototype;return i.MI=function(){this.eue.MI()},i.OI=function(t){throw new y("Can't add a track while using AirPlay.")},i.RR=function(t,n){this.eue.RR(t,n)},i.II=function(){return this.eue.II()},i.CI=function(){this.eue.CI()},i.DI=function(){this.eue.DI()},i.xI=function(){na(this.eue.xI())},i.EI=function(){this.eue.EI()},i.RI=function(){return Zt((function(){return Ht(this,(function(t){return[2]}))}))()},i.iu=function(){return this.Sc},i.Ca=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(Zo(n),i.Sc=t,fT(t.sources))r=AA({src:""});else for(e=t.sources.filter(mT),u=0;u<e.length;u++)if(jk(s=e[u])){r=s;break}if(!r)throw new y("Unsupported source.");return[4,i.eue.Ca(r,t,n)];case 1:return o.sent(),i.aZ(r),[2]}}))}))()},i.aZ=function(t){this.tZ!==t&&(this.tZ=t,this._o(new FT(t)))},i.TI=function(){return this.eue.TI()},i.pR=function(){return[]},i.kI=function(){this.iue.vZ()},i.pr=function(t){BT(this,t)},i.dr=function(){},i.LI=function(t){return!1},i.NI=function(){this.eue.NI()},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.tZ=void 0,t.Sc=void 0,[4,t.eue.nr()];case 1:return n.sent(),[2]}}))}))()},i.ge=function(){this.eue.ge()},i.be=function(){this.eue.be()},i.SI=function(){return this.eue.SI()},i.ja=function(){return this.eue.ja()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ro(),t.iue.yn(),[4,t.eue.yn()];case 1:return n.sent(),t.cO.yn(),t.dO.yn(),t.Hl.yn(),[2]}}))}))()},xt(n,[{key:"ht",get:function(){return this.eue.ht}},{key:"wR",get:function(){return this.eue.wR}},{key:"bt",get:function(){return this.tZ}},{key:"ER",get:function(){return this.eue.ER},set:function(t){this.RR(t)}},{key:"bR",get:function(){return this.eue.bR}},{key:"ct",get:function(){return this.eue.ct}},{key:"we",get:function(){return this.Vs}},{key:"PR",get:function(){return this.eue.PR}},{key:"lt",get:function(){return this.eue.lt}},{key:"MR",get:function(){return this.eue.MR}},{key:"OR",get:function(){return this.eue.OR}},{key:"WR",get:function(){return this.eue.WR}},{key:"AI",get:function(){return this.eue.AI}},{key:"yI",get:function(){return this.eue.yI}},{key:"GR",get:function(){return this.eue.GR}},{key:"ZR",get:function(){return this.eue.ZR},set:function(t){this.eue.ZR=t}},{key:"qR",get:function(){return this.eue.qR}},{key:"KR",get:function(){return this.eue.KR}},{key:"QR",get:function(){return this.eue.QR},set:function(t){this.eue.QR=t}},{key:"tI",get:function(){return this.eue.tI}},{key:"iI",get:function(){return this.eue.iI},set:function(t){this.eue.iI=t}},{key:"rI",get:function(){return this.eue.rI}},{key:"hI",get:function(){return this.eue.hI}},{key:"uI",get:function(){return this.eue.uI}},{key:"nt",get:function(){return this.eue.nt}},{key:"dI",get:function(){return this.eue.dI}},{key:"vI",get:function(){return this.eue.vI}},{key:"rt",get:function(){return this.eue.rt}},{key:"gI",get:function(){return this.eue.gI},set:function(t){this.eue.gI=t}}]),n}(ha),J4=function(t){function n(n){var i;i=t.call(this,n)||this;var r=new q4(i.Ta.we,i.fR,i.kd,i.vst,i.yI,i.yst,i.Wl);return i.sue=new Y4(i,i.Ta,r),i.Iz._Q(i.sue),i.bn(va.xy,(function(){i.sue.Hae()})),i}return Rt(n,t),n.prototype.yn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.sue.yn(),[4,t.prototype.yn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(zk);$k((function(t){return qn.Ys.jg?new J4(t):(t.Iz._Q(new K4),t)}),Yk.Zst),U(),St(),U(),St(),Dt();var Q4="VPAID",$4=function(){function t(){this.nue=new f1}var n=t.prototype;return n.CZ=function(t){return t5(t)},n.t2t=function(n,i,r){return r.ads||(r.ads=dT({})),r.ads.vpaidMode=r.ads.vpaidMode||t.rue(),this.nue.t2t(n,i,r)},n.g6=function(n,i,r,e){!function(t){if(!t5(t))throw new y("Unknown ad integration: "+t.integration)}(n);var u=t.oue(n,r.we);this.nue.g6(u,i,r,e)},n.qz=function(t){var n=Bg(t);if(!E(n.id))return n.queryParameters||(n.queryParameters={}),n.custom&&(n.queryParameters.custom?Qr('"custom" parameter is redefined in queryParameters! Please use "queryParameters.custom" only!'):(n.queryParameters.custom=n.custom,delete n.custom)),n.app&&(n.queryParameters.app?Qr('"app" parameter is redefined in queryParameters! Please use "queryParameters.app" only!'):(n.queryParameters.app=n.app,delete n.app)),n.device&&(n.queryParameters.device?Qr('"device" parameter is redefined in queryParameters! Please use "queryParameters.device" only!'):(n.queryParameters.device=n.device,delete n.device)),n.user&&(n.queryParameters.user?Qr('"user" parameter is redefined in queryParameters! Please use "queryParameters.user" only!'):(n.queryParameters.user=n.user,delete n.user)),n.ipAddress&&(n.queryParameters.ip_addr?Qr('"ipAddress" parameter is redefined in queryParameters! Please use "queryParameters.ip_addr" or "ipAddress" only!'):(n.queryParameters.ip_addr=n.ipAddress,delete n.ipAddress)),n.maximumAdDuration&&(n.queryParameters.VMaxd?Qr('"maximumAdDuration" parameter is redefined in queryParameters! Please use "queryParameters.VMaxd" or "maximumAdDuration" only!'):(n.queryParameters.VMaxd=n.maximumAdDuration,delete n.maximumAdDuration)),n},t.oue=function(n,i){return{integration:IS.SPOTX,sources:{src:t.hue(n,f.location.href,i.offsetWidth,i.offsetHeight,Gn.Cg)}}},t.hue=function(n,i,r,e,u){if(n.sources)return n.sources;var s=e,o=r;u&&0===o&&(o=320,s=180);var a={custom_skin:1,player_width:o,player_height:s};n.cacheBuster&&(a.cb=A.random()),t.aue(i)&&(a.content_page_url=i);var c=ss({},a,n.queryParameters);return c[Q4]||c.VPI||(c[Q4]="js"),"https://search.spotxchange.com/vast/2.0/"+n.id+"?"+t.uue(c)},t.aue=function(t){return Xs(t,"http://")||Xs(t,"https://")},t.uue=function(t){return IQ(t)},t.rue=function(){return Gn.Gm?YA.ENABLED:YA.INSECURE},xt(t,[{key:"$1t",get:function(){return this.nue.$1t}}]),t}();function t5(t){return"spotx"===t.integration}RS.Vg.PZ(new $4),U(),St(),U(),St(),Ct(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var n5=A.PI/180,i5=180/A.PI,r5=function(){function t(t,n){this.x=t||0,this.y=n||0}var n=t.prototype;return n.Bb=function(t,n){return this.x=t,this.y=n,this},n.p_t=function(t){return this.x=t.x,this.y=t.y,this},n.lue=function(t){return this.Bb(t[0],t[1])},n.due=function(){var t=new Float32Array(2);return t[0]=this.x,t[1]=this.y,t},n.fue=function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this},t}(),e5=function(){function t(t,n,i){this.x=t||0,this.y=n||0,this.z=i||0}var n=t.prototype;return n.Bb=function(t,n,i){return this.x=t,this.y=n,this.z=i,this},n.p_t=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},n.lue=function(t){return this.Bb(t[0],t[1],t[2])},n.due=function(){var t=new Float32Array(3);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t},n.V=function(){return A.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},n._ue=function(){var t=this.V();if(0!==t){var n=1/t;this.vue(n)}else this.x=0,this.y=0,this.z=0;return this},n.vue=function(t){this.x*=t,this.y*=t,this.z*=t},n.mue=function(t){var n=this.x,i=this.y,r=this.z,e=t.x,u=t.y,s=t.z,o=t.w,a=o*n+u*r-s*i,c=o*i+s*n-e*r,h=o*r+e*i-u*n,f=-e*n-u*i-s*r;return this.x=a*o+f*-e+c*-s-h*-u,this.y=c*o+f*-u+h*-e-a*-s,this.z=h*o+f*-s+a*-u-c*-e,this},n.gue=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},n.pue=function(t,n){var i=t.x,r=t.y,e=t.z,u=n.x,s=n.y,o=n.z;return this.x=r*o-e*s,this.y=e*u-i*o,this.z=i*s-r*u,this},t}(),u5=function(){function t(t,n,i,r){this.x=t||0,this.y=n||0,this.z=i||0,this.w=void 0!==r?r:1}var n=t.prototype;return n.Bb=function(t,n,i,r){return this.x=t,this.y=n,this.z=i,this.w=r,this},n.p_t=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},n.lue=function(t){return this.Bb(t[0],t[1],t[2],t[3])},n.due=function(){var t=new Float32Array(4);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t[3]=this.w,t},n.gue=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},n.tV=function(t){return this.wue(this,t)},n.wue=function(t,n){var i=t.x,r=t.y,e=t.z,u=t.w,s=n.x,o=n.y,a=n.z,c=n.w;return this.x=i*c+u*s+r*a-e*o,this.y=r*c+u*o+e*s-i*a,this.z=e*c+u*a+i*o-r*s,this.w=u*c-i*s-r*o-e*a,this},n.yue=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this._ue(),this},n.bue=function(){var t,n,i,r=this.x,e=this.y,u=this.z,s=this.w,o=r*e+u*s;if(o>.499)t=2*A.atan2(r,s),n=A.PI/2,i=0;else if(o<-.499)t=-2*A.atan2(r,s),n=-A.PI/2,i=0;else{var a=r*r,c=e*e,h=u*u;t=A.atan2(2*e*s-2*r*u,1-2*c-2*h),n=A.asin(2*o),i=A.atan2(2*r*s-2*e*u,1-2*a-2*h)}return new s5(t,i,n)},n._ue=function(){var t=A.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},t}(),s5=function(){function t(t,n,i){this.Aue=t||0,this.Sue=n||0,this.Tue=i||0}var n=t.prototype;return n.Bb=function(t,n,i){return this.Aue=t,this.Sue=n,this.Tue=i,this},n.p_t=function(t){return this.Bb(t.Aue,t.Sue,t.Tue)},n.kO=function(t){return this.Aue+=t.Aue,this.Sue+=t.Sue,this.Tue+=t.Tue,this},n.kF=function(t){return this.Aue-=t.Aue,this.Sue-=t.Sue,this.Tue-=t.Tue,this},n.kue=function(){var t=this.Aue,n=this.Tue,i=this.Sue,r=A.cos(t/2),e=A.cos(n/2),u=A.cos(i/2),s=A.sin(t/2),o=A.sin(n/2),a=A.sin(i/2),c=r*e,h=s*o;return new u5(c*a+h*u,s*e*u+r*o*a,r*o*u-s*e*a,c*u-h*a)},t}();U(),St();var o5=["Eue","wat","xue","error"];U(),St();var a5=function(t){return t.Rs="unavailable",t.Rue="available",t.Xa="presenting",t}({});U(),St();var c5=function(){function t(t,n){var i=this;this.qe=!1,this.Zue=new r5,this.Xue=new r5,this.Gue=new r5,this.Fue=!1,this.Iue=function(t){i.Zue.Bb(t.clientX,t.clientY),i.Fue=!0,t.preventDefault(),t.stopPropagation()},this.Cue=function(t){t.touches&&1===t.touches.length&&(i.Zue.Bb(t.touches[0].pageX,t.touches[0].pageY),i.Fue=!0,t.preventDefault())},this.ar=function(t){if(i.Fue||i.Hue()){if(i.Hue()){var n=t.movementX||t.mozMovementX||0,r=t.movementY||t.mozMovementY||0;i.Xue.Bb(i.Zue.x-n,i.Zue.y-r)}else i.Xue.Bb(t.clientX,t.clientY);i.Gue.fue(i.Xue,i.Zue),i.Zue.p_t(i.Xue),i.Vue()}},this.Pue=function(t){i.Fue&&(i.Xue.Bb(t.touches[0].pageX,t.touches[0].pageY),i.Gue.fue(i.Xue,i.Zue),i.Zue.p_t(i.Xue),i.Vue())},this.Due=function(){i.Oue()},this.Nue=function(){i.Oue()},this.Bue=function(){i.Oue()},this.Uue=t,this.Vs=n}var n=t.prototype;return n.hW=function(){this.qe||(this.qe=!0,this.Vs.addEventListener("mousedown",this.Iue),this.Vs.addEventListener("touchstart",this.Cue),f.addEventListener("mousemove",this.ar),f.addEventListener("touchmove",this.Pue),f.addEventListener("mouseup",this.Due),f.addEventListener("touchend",this.Nue),this.Mue(f))},n.aW=function(){this.qe&&(this.qe=!1,this.Vs.removeEventListener("mousedown",this.Iue),this.Vs.removeEventListener("touchstart",this.Cue),f.removeEventListener("mousemove",this.ar),f.removeEventListener("touchmove",this.Pue),f.removeEventListener("mouseup",this.Due),f.removeEventListener("touchend",this.Nue),this.Lue(f))},n.Mue=function(t){if(function(t){try{return Boolean(t)&&t===t.top}catch(t){return!1}}(t));else if(Ti(t))try{t.parent.addEventListener("mouseup",this.Due),this.Mue(t.parent)}catch(n){t.document.documentElement.addEventListener("mouseleave",this.Bue)}},n.Lue=function(t){if(t.document.documentElement.removeEventListener("mouseleave",this.Bue),Ti(t))try{t.parent.removeEventListener("mouseup",this.Due),this.Lue(t.parent)}catch(t){}},n.Oue=function(){this.Fue=!1},n.Vue=function(){var t=this.Uue.Wue;t.yaw+=2*A.PI*this.Gue.x*.4/this.Vs.clientWidth,t.pitch+=2*A.PI*this.Gue.y*.5/this.Vs.clientHeight,t.pitch=hr(t.pitch,-A.PI/2,A.PI/2),this.Uue.Wue=t},n.Hue=function(){return(v.pointerLockElement||v.mozPointerLockElement||v.webkitPointerLockElement)===this.Vs},n.yn=function(){this.aW()},t}();U(),St(),Ct();var h5=function(t){function n(){return t.call(this,"xue")||this}return Rt(n,t),n.prototype.ka=function(){return new f5},n}(_g),f5=function(t){function n(){return t.call(this,"stereochange")||this}return Rt(n,t),n}(fa);U(),St(),Wt();var v5=function(){function t(){this.HQ=[0,0,0,1],this.Kue=[]}var n=t.prototype;return n.zue=function(t){var n;(n=t).clearColor.apply(n,Ut(this.HQ)),t.clear(t.COLOR_BUFFER_BIT)},n.Yue=function(t,n){t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.DEPTH_BUFFER_BIT),this.Kue.forEach((function(i){i.Yue(t,n)}))},n.jue=function(t){this.Kue.push(t)},n.Que=function(){this.Kue=[]},t}();U(),St(),Ct(),U(),St(),Wt(),U(),St(),Ct();var l5=function(){function t(t,n,i,r,e){this.$ue=t,this.zb=this.Jue(t,n,i),this.tce=r,this.Sp=e,this.ece=!1,this.sce=0,this.rc=0}return t.prototype.Jue=function(t,n,i){var r=t.createBuffer();return null===r?(Qr("Failed to create buffer."),null):(t.bindBuffer(n,r),t.bufferData(n,i,t.STATIC_DRAW),r)},t}(),d5=function(t){function n(n,i,r){return t.call(this,n,n.ARRAY_BUFFER,i,r,n.FLOAT)||this}Rt(n,t);var i=n.prototype;return i.hW=function(t){if(null!==this.zb)if(null!==t){var n=this.$ue;n.bindBuffer(n.ARRAY_BUFFER,this.zb),n.vertexAttribPointer(t,this.tce,this.Sp,this.ece,this.sce,this.rc),n.enableVertexAttribArray(t)}else Qr("Attempted to enable attribute without location.");else Qr("Attempted to enable buffer that failed to initialize.")},i.aW=function(t){t&&this.$ue.disableVertexAttribArray(t)},n}(l5);var g5=function(t){function n(n,i){var r;return(r=t.call(this,n,n.ELEMENT_ARRAY_BUFFER,i,1,n.UNSIGNED_SHORT)||this).rce=i.length,r}return Rt(n,t),n.prototype.nce=function(){var t=this.$ue;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.zb),t.drawElements(t.TRIANGLES,this.rce,this.Sp,this.rc)},n}(l5);U(),St();var m5=function(t){return t.VertexPos="aVertexPosition",t.VertexUV="aVertexUV",t.VertexColor="aVertexColor",t}({}),w5=function(t){return t.ProjectionMat="uProjectionMatrix",t.ModelViewMat="uModelViewMatrix",t.Texture="uTexture",t}({}),p5=function(t){return t.Normal="vNormal",t.Color="vColor",t.UV="vUV",t}({}),y5=function(){function t(t,n,i){this.$ue=t,this.uce=this.oce(this.$ue,n,i)}var n=t.prototype;return n.oce=function(t,n,i){var r=this.hce(t,t.VERTEX_SHADER,n),e=this.hce(t,t.FRAGMENT_SHADER,i);if(null===r||null===e)return Qr("Failed to create vertex or fragment shader."),null;var u=t.createProgram();return null===u?(Qr("Failed to create shader program"),null):(t.attachShader(u,r),t.attachShader(u,e),t.linkProgram(u),t.getProgramParameter(u,t.LINK_STATUS)?u:(Qr("Failed to initialize shader program"),null))},n.hce=function(t,n,i){var r=t.createShader(n);if(null===r)return Qr("failed to create shader."),null;if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var e=t.getShaderInfoLog(r);return Qr("Failed to compile shader with error: "+e),t.deleteShader(r),null}return r},n.ace=function(){return this.uce},n.cce=function(t){var n=this.uce;if(null===n)return Qr("Attempted to retrieve attribute location when shader program was not initialized"),null;var i=this.$ue.getAttribLocation(n,t);return-1===i?null:i},n.lce=function(t){var n=this.uce;if(null===n)return Qr("Attempted to retrieve uniform location when shader program was not initialized"),null;var i=this.$ue.getUniformLocation(n,t);return null===i&&$r("Attempted to retrieve nonexistent uniform: "+t),i},t}(),_5=function(){function t(t,n,i){this.fce=t,this._ce=n,this.vce=i}var n=t.prototype;return n.dce=function(){var t,n=this.fce.length,i=(t=A).max.apply(t,Ut(this._ce));return i>=n?($r("Created geometry where largest index ("+i+") is larger than/equal to attribute array size ("+n+")"),!1):(i<n-1&&Qr("Created geometry where largest index ("+i+") is smaller than attribute buffer - 1 ("+(n-1)+") resulting in unused vertices"),!this.vce||this.vce.length===n||($r("Created geometry where position ("+n+") and uv ("+this.vce.length+") buffers have different length."),!1))},n.mce=function(t,n){if(!this.dce())throw new y("Failed to validate buffers for WebGLGeometry.");var i=function(t,n){var i=[];return n.forEach((function(t){i.push(t.x,t.y,t.z)})),new d5(t,new Float32Array(i),3)}(t,this.fce),r=function(t,n){return new g5(t,new Uint16Array(n))}(t,this._ce),e=function(t,n){var i=[];return n.forEach((function(t){i.push(t.x,t.y)})),new d5(t,new Float32Array(i),2)}(t,this.vce);return new b5(i,r,e,n)},t}(),b5=function(){function t(t,n,i,r){this.fce=t;var e=r.cce(m5.VertexPos);if(null===e)throw new y("Failed to get position attribute location.");this.pce=e,this.vce=i,this.wce=r.cce(m5.VertexUV),this._ce=n}var n=t.prototype;return n.gce=function(){this.fce.hW(this.pce),null!==this.wce&&this.vce.hW(this.wce)},n.yce=function(){this.fce.aW(this.pce),null!==this.wce&&this.vce.aW(this.wce)},n.Yue=function(){this._ce.nce()},t}(),k5=function(t){function n(n,i,r,e,u,s,o){void 0===n&&(n=1),void 0===i&&(i=32),void 0===r&&(r=16),void 0===e&&(e=0),void 0===u&&(u=2*A.PI),void 0===s&&(s=0),void 0===o&&(o=A.PI);for(var a=0,c=A.min(s+o,A.PI),h=[],f=[],v=[],l=[],d=0;d<=r;d++){var g=[],m=d/r,w=0;0===d&&0===s?w=.5/i:d===r&&c===A.PI&&(w=-.5/i);for(var p=0;p<=i;p++){var y=p/i,_=-n*A.cos(e+y*u)*A.sin(s+m*o),b=n*A.cos(s+m*o),k=n*A.sin(e+y*u)*A.sin(s+m*o);f.push(new e5(_,b,k)),v.push(new r5(y+w,1-m)),g.push(a++)}l.push(g)}for(var T=0;T<r;T++)for(var S=0;S<i;S++){var E=l[T][S+1],I=l[T][S],R=l[T+1][S],C=l[T+1][S+1];(0!==T||s>0)&&h.push(E,I,C),(T!==r-1||c<A.PI)&&h.push(I,R,C)}return t.call(this,f,h,v)||this}return Rt(n,t),n}(_5);U(),St(),U(),St();var A5=[0,0,0,255,0,0,0,255,0,0,0,255,0,0,0,255],T5=function(){function t(t,n){if(this.$ue=t,this.Sce=t.createTexture(),null===this.Sce)throw new y("Failed to create texture");var i=n.lce(w5.Texture);if(null===i)throw new y("Failed to get texture location.");this.Tce=i,t.bindTexture(t.TEXTURE_2D,this.Sce),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),this.Ace=t.TEXTURE0,this.W1=0,this.Ece=t.RGBA,this.xce=t.RGBA,this.Rce=t.UNSIGNED_BYTE,t.texImage2D(t.TEXTURE_2D,this.W1,this.Ece,2,2,0,this.xce,this.Rce,new I(A5))}var n=t.prototype;return n.bce=function(){var t=this.$ue;t.activeTexture(this.Ace),t.bindTexture(t.TEXTURE_2D,this.Sce)},n.pr=function(){var t=this.$ue;t.activeTexture(this.Ace),t.bindTexture(t.TEXTURE_2D,this.Sce),t.uniform1i(this.Tce,0)},n.kce=function(t){var n=this.$ue;n.bindTexture(n.TEXTURE_2D,this.Sce),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,this.W1,this.Ece,this.xce,this.Rce,t),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1)},n.Ice=function(t){var n=this.$ue;n.bindTexture(n.TEXTURE_2D,this.Sce),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),t.Rst.AY(n,n.TEXTURE_2D,this.W1,this.Ece,this.xce,this.Rce),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1)},t}(),S5="\n    attribute vec4 "+m5.VertexPos+";\n    attribute vec2 "+m5.VertexUV+";\n\n    uniform mat4 "+w5.ModelViewMat+";\n    uniform mat4 "+w5.ProjectionMat+";\n    \n    varying mediump vec2 "+p5.UV+";\n    \n    void main() {\n      gl_Position = "+w5.ProjectionMat+" * "+w5.ModelViewMat+" * "+m5.VertexPos+";\n      "+p5.UV+" = "+m5.VertexUV+";\n    }\n",E5="\n    varying mediump vec2 "+p5.UV+";\n    \n    uniform sampler2D "+w5.Texture+";\n\n    void main() {\n      gl_FragColor = texture2D("+w5.Texture+", "+p5.UV+");\n    }\n",I5=function(){function t(t){this.$ue=t,this.uce=new y5(t,S5,E5),this.Sce=new T5(t,this.uce)}var n=t.prototype;return n.ace=function(){return this.uce},n.hW=function(){this.$ue.useProgram(this.uce.ace()),this.Sce.pr()},n.Cce=function(t){this.Sce.kce(t)},n.Pce=function(t){this.Sce.Ice(t)},t}();U(),St(),Dt(),U(),St();var R5=V(bn()),C5=V(kn()),N5=(V(An()),V(Tn())),x5=(V(Sn()),V(En())),D5=V(In()),P5=V(Rn()),M5=V(Cn()),B5=V(Nn()),O5=function(){function t(t,n,i,r){this.fo=new e5,this.Uce=new e5,this.Nce="none",this.Lce=i;var e=i.ace();this.Mce=n.mce(t,e),r&&(this.Nce=r);var u=e.lce(w5.ModelViewMat);if(null===u)throw new y("Failed to get model view matrix location.");this.Fce=u;var s=e.lce(w5.ProjectionMat);if(null===s)throw new y("Failed to get projection matrix location.");this.Wce=s}var n=t.prototype;return n.Yue=function(t,n){if(this.Dce(n.Nce)){this.Mce.gce(),this.Lce.hW();var i=this.Bce,r=n.Oce,e=(0,D5.default)(r,r,i);t.uniformMatrix4fv(this.Fce,!1,e);var u=n.Vce;t.uniformMatrix4fv(this.Wce,!1,u),this.Mce.Yue(),this.Mce.yce()}},n.Dce=function(t){return"none"===this.Nce||"right"!==t&&"left"===this.Nce||"right"===t&&"right"===this.Nce},xt(t,[{key:"Bce",get:function(){var t=(0,R5.default)(),n=this.fo;return(0,B5.default)(t,t,n.due()),(0,M5.default)(t,t,this.Uce.x,new Float32Array([1,0,0])),(0,M5.default)(t,t,this.Uce.y,new Float32Array([0,1,0])),(0,M5.default)(t,t,this.Uce.z,new Float32Array([0,0,1])),t}}]),t}();U(),St(),Dt();var L5=function(){function t(t){this.Hce=72*A.PI/180,this.Zce=1.77,this.Xce=.1,this.zce=100,this.Nce="none",this.jce=new e5,this.Qce=new u5,this.Yce=this.Gce(),this.$ce=this.Kce(),t&&(this.Nce=t)}var n=t.prototype;return n.Gce=function(){var t=(0,R5.default)();return(0,P5.default)(t,this.Hce,this.Zce,this.Xce,this.zce)},n.qce=function(){this.Yce=this.Gce()},n.Kce=function(){var t=(0,R5.default)(),n=(0,N5.default)((0,R5.default)(),this.jce.due()),i=(0,C5.default)((0,R5.default)(),this.Qce.due());return(0,D5.default)(t,n,i),(0,x5.default)(t,t),t},n.Jce=function(){this.$ce=this.Kce()},n.tle=function(){this.Jce(),this.qce()},n.nr=function(){this.jce=new e5,this.Uce=new u5,this.tle()},n.ele=function(t){var n=this.Qce.bue();n.kO(t),this.Uce=n.kue()},n.sle=function(t){this.Uce=t.kue()},xt(t,[{key:"Vce",get:function(){return new Float32Array(this.Yce)},set:function(t){this.Yce=t}},{key:"Oce",get:function(){return new Float32Array(this.$ce)}},{key:"nle",get:function(){return this.Hce},set:function(t){this.Hce=t,this.qce()}},{key:"rle",get:function(){return this.Zce},set:function(t){this.Zce=t,this.qce()}},{key:"fo",get:function(){return(new e5).p_t(this.jce)},set:function(t){this.jce=t,this.Jce()}},{key:"Uce",get:function(){return(new u5).p_t(this.Qce)},set:function(t){this.Qce=t,this.Jce()}}]),t}();U(),St(),Ct();var F5=function(t){function n(){return t.call(this,"Eue")||this}return Rt(n,t),n.prototype.ka=function(){return new V5},n}(_g),V5=function(t){function n(){return t.call(this,"directionchange")||this}return Rt(n,t),n}(fa),U5=1e-4,W5=function(t){function n(n){var i;return(i=t.call(this)||this).vW=new Qo,i.fle=!1,i.rde=!1,i.ude=new u5,i.vde=new u5,i.cde=new u5,i.Hce=74,i.Kle=!1,i.MT=void 0,i.yle=qS.NONE,i.ide=!1,i.sde=JS.NONE,i.Ale=new v5,i.Dle=null,i.Yle=null,i.Nle=null,i.Ole=null,i.Vle=!1,i.Wle=null,i.zle=null,i.Xle=null,i.$le=0,i.jle=!1,i.hle=function(){var t=i.fle;i.dle().then((function(){i.fle?t||i.Dle||i.Yle||i.vle():i.cNt("Inline session not available. Panorama functionality will not work.",ul.VR_PRESENTATION_ERROR)}))},i.co=function(){var t;i.Ele(),i.Rle(),null==(t=d.xr)||t.removeEventListener("devicechange",i.hle);var n=i._de();i.MT=n,i.ede=Yn(n),i.yle=(null==n?void 0:n.stereoMode)||qS.NONE,i.wle=(null==n?void 0:n.panoramaMode)||JS.NONE,n&&(i.ule(),i.vle(),i.ole())},i.kle=function(){i.Ple()},i.Cle=function(){i.Ble&&(i.xle(),i.Ble.removeEventListener("end",i.Cle),i.Ble.end().catch(Si),i.Ble=null,i.Ole=null,i.Vle=!1,i.Dle?i.Mle():i.Ple())},i.gn=function(){i.Tle()},i.Hle=function(t,n){if(i.$ue){var r=i.$ue,e=i.Gle;if(null===i.Xle&&i.Jle()&&(i.Sle.Pce(i.na),i.$le>0&&(i.$le-=1)),null!==e&&void 0!==n){i.Wle=e.requestAnimationFrame(i.Hle);var u=e.renderState.baseLayer,s=n.getViewerPose(i.hde);if(void 0!==u&&void 0!==s){r.bindFramebuffer(r.FRAMEBUFFER,u.framebuffer);for(var o=new s5,a=0,c=0,h=s.views;c<h.length;c++){var f=h[c],v=new L5(f.eye);if(v.Vce=f.projectionMatrix,i.qle()){var l=void 0;if(Gn.Qs&&Gn.pm&&null===i.Yle){if(0===(l=f.transform.inverse.orientation).x&&0===l.y&&0===l.z&&1===l.w)return}else l=f.transform.orientation;v.Uce=new u5(l.x,l.y,l.z,l.w)}i.Dle&&v.ele(i.cde.bue()),o=o.kO(v.Uce.bue()),a+=1;var d=u.getViewport(f);d&&r.viewport(d.x,d.y,d.width,d.height),i.Ale.Yue(r,v)}var g=new s5(o.Aue/a,o.Sue/a,o.Tue);i.ude=g.kue(),function(t,n){var i=t.gue(n);return 1-i*i<U5}(i.ude,i.vde)||(i.vde.p_t(i.ude),i._o(new F5))}}}},i.PX=function(){i.$le=5},i.na=n,i.wa=function(t){var n,i={get stereo(){return t.lde},set stereo(n){t.lde=n},get useDeviceMotionControls(){return t.dde},set useDeviceMotionControls(n){t.dde=n},get direction(){return t.ade},set direction(n){t.ade=n},get verticalFOV(){return t.fde},set verticalFOV(n){t.fde=n},get canPresentVR(){return t.ode},get state(){return t.Vft},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new gR(t,o5,i),i}(i),i.ale(),i}Rt(n,t);var i=n.prototype;return i.ole=function(){d.xr?(d.xr.addEventListener("devicechange",this.hle),this.hle()):this.cNt("Your browser does not support WebXR",ul.VR_PLATFORM_UNSUPPORTED)},i.ale=function(){this.na.Sa.bn(uS.da,this.gn),this.na.bn(wI.mn,this.gn),this.na.bn(va.uo,this.co),this.na.bn(va.Qy,this.PX)},i.ule=function(){var t;this.cle||(this.cle=v.createElement("canvas"),this.cle.className="theoplayer-vr",this.cle.style.zIndex="2",this.cle.style.background="black",this.cle.style.display="none",this.na.we.appendChild(this.cle),bi(this.cle));var n=null!=(t=this.cle.getContext("webgl2"))?t:this.cle.getContext("webgl");n?(this.$ue=n,this.lle=new c5(this,this.cle)):this.cNt("Your browser does not support WebGL",ul.VR_PLATFORM_UNSUPPORTED)},i.dle=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return d.xr?[4,ut.all([d.xr.isSessionSupported("inline").then((function(n){t.fle=n})).catch((function(n){t.fle=!1,t.cNt("exception when calling xr.isSessionSupported for inline session: "+n,ul.VR_PRESENTATION_ERROR)})),d.xr.isSessionSupported("immersive-vr").then((function(n){t._le=n})).catch((function(n){t._le=!1,t.cNt("exception when calling xr.isSessionSupported for immersive-vr session: "+n,ul.VR_PRESENTATION_ERROR)}))])]:(t.fle=!1,t._le=!1,[2]);case 1:return n.sent(),[2]}}))}))()},i.vle=function(){this.mle&&(this.ple(this.wle,this.yle),this.ble())},i.ple=function(t,n){var i=this.$ue;if(i&&t!==JS.NONE){var r,e;this.Ale.Que(),t===JS.PM360?(r=2*A.PI,e=-A.PI/2):(r=A.PI,e=-A.PI);for(var u=new k5(16,60,40,0,r),s=[],o=[],a=0;a<u.vce.length;a++){var c=u.vce[a];switch(n){case qS.NONE:s.push(c),o.push(c);break;case qS.VERTICAL:s.push(new r5(c.x,.5*c.y)),o.push(new r5(c.x,.5*c.y+.5));break;case qS.HORIZONTAL:s.push(new r5(.5*c.x,c.y)),o.push(new r5(.5*c.x+.5,c.y))}}u.fce.forEach((function(t){t.x*=-1}));var h=new _5(u.fce,u._ce,s),f=new _5(u.fce,u._ce,o);this.Sle=new I5(i);var v=new O5(i,h,this.Sle,"left");v.Uce.y=e,this.Ale.jue(v);var l=new O5(i,f,this.Sle,"right");l.Uce.y=e,this.Ale.jue(l)}},i.ble=function(){this.$ue&&(this.cle.style.display="block",this.Tle(),this.na.vn(va.ho,this.kle),this.fle&&(this.na.KR?this.na.bn(va.ho,this.kle):this.kle()))},i.Ele=function(){this.xle(),this.na.vn(va.ho,this.kle),this.cle&&(this.cle.style.display="none")},i.Rle=function(){this.Ile(),this.Cle()},i.Ple=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(t.Dle||!t.fle)return[2];u.label=1;case 1:return u.trys.push([1,5,,6]),[4,Ho(d.xr.requestSession("inline"),t.vW.Uw)];case 2:return n=u.sent(),i=Gn.Qs?Gn.pm?"viewer":"local":"viewer",[4,n.requestReferenceSpace(i)];case 3:return r=u.sent(),n.addEventListener("end",t.Ile),t.Nle=r,t.Dle=n,t.lle.hW(),t.Mle(),[4,n.updateRenderState({baseLayer:new XRWebGLLayer(n,t.$ue),inlineVerticalFieldOfView:t.Hce*n5})];case 4:return u.sent(),[3,6];case 5:return e=u.sent(),t.Ile(),t.cNt(e,ul.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}}))}))()},i.Ile=function(){this.Dle&&(this.xle(),this.lle.aW(),this.Dle.removeEventListener("end",this.Ile),this.Dle.end().catch(Si),this.Dle=null,this.Tle())},i.Lle=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:if(t.Ble||!t._le)return[2];t.xle(),e.label=1;case 1:return e.trys.push([1,5,,6]),[4,Ho(d.xr.requestSession("immersive-vr"),t.vW.Uw)];case 2:return[4,(n=e.sent()).requestReferenceSpace("local")];case 3:return i=e.sent(),n.addEventListener("end",t.Cle),t.Ole=i,t.Ble=n,[4,t.Fle()];case 4:return e.sent(),t.Mle(),[3,6];case 5:return r=e.sent(),t.Cle(),t.cNt(r,ul.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}}))}))()},i.Fle=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return n=t.$ue,i=t.Ble,t.cle&&n&&i&&!t.Vle?(t.cle.addEventListener("webglcontextlost",(function(t){t.preventDefault()})),t.cle.addEventListener("webglcontextrestored",(function(){t.ple(t.wle,t.yle)})),t.Vle=!0,[4,n.makeXRCompatible()]):[2];case 1:return r.sent(),[4,i.updateRenderState({baseLayer:new XRWebGLLayer(i,n)})];case 2:return r.sent(),[2]}}))}))()},i.Tle=function(){if(!this.Ble&&this.$ue){var t=this.$ue,n=this.cle.clientWidth,i=this.cle.clientHeight;if(0===n||0===i)return;var r=qn.Ys.Kg;this.cle.width=n*r,this.cle.height=i*r,t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)}},i.Mle=function(){null===this.Wle&&(this.Ule(),this.Gle?this.Wle=this.Gle.requestAnimationFrame(this.Hle):this.Zle())},i.xle=function(){null!==this.Wle&&(this.Zle(),this.Gle&&this.Gle.cancelAnimationFrame(this.Wle),this.Wle=null)},i.Ule=function(){var t=this;if(null===this.Xle){var n=this.na.TI();if(void 0!==n&&n instanceof HTMLVideoElement&&"function"==typeof n.requestVideoFrameCallback){var i=function(){t.Sle.Pce(t.na),t.Xle=n.requestVideoFrameCallback(i)};this.zle=n,this.Xle=n.requestVideoFrameCallback(i)}}},i.Zle=function(){var t,n;null!==this.Xle&&(null==(n=this.zle)||null==(t=n.cancelVideoFrameCallback)||t.call(n,this.Xle),this.zle=null,this.Xle=null)},i.qle=function(){return!!this.Yle||(Gn.su?this.Kle&&this.jle:this.Kle)},i.Qle=function(){var t=this,n=DeviceMotionEvent.requestPermission;"function"==typeof n&&n().then((function(n){t.jle="granted"===n}))},i.Jle=function(){return(!this.KR()||Boolean(this.$le))&&this.tde()},i.KR=function(){return this.na.KR},i.tde=function(){return this.na.rI>=2},i.cNt=function(t,n){this._o(new Ik(new ol(n,t)))},i._de=function(){var t=this.na.iu();return t&&t.vr},i.yn=function(){this.vW.jw(),this.Rle(),this.Ro(),this.cle&&(ai(this.cle),this.cle=void 0),this.$ue=void 0,this.lle&&(this.lle.yn(),this.lle=void 0),this.na=void 0},xt(n,[{key:"ede",get:function(){return this.ide},set:function(t){var n=this.Vft;this.ide=t,this.Vft!==n&&this._o(new N1)}},{key:"mle",get:function(){return this.wle!==JS.NONE}},{key:"wle",get:function(){return this.sde},set:function(t){var n=this.Vft;this.sde=t,this.Vft!==n&&this._o(new N1)}},{key:"_le",get:function(){return this.rde},set:function(t){var n=this.rde;this.rde=t,this.rde!==n&&this._o(new N1)}},{key:"ode",get:function(){return this._le}},{key:"Gle",get:function(){return this.Ble||this.Dle}},{key:"Ble",get:function(){return this.Yle},set:function(t){var n=this.Vft;this.Yle=t,this.Vft!==n&&this._o(new N1)}},{key:"hde",get:function(){return this.Ole||this.Nle}},{key:"ade",get:function(){var t=this.ude.bue();return{yaw:t.Aue*i5,pitch:t.Sue*i5,roll:t.Tue*i5}},set:function(t){var n=j5(t&&t.pitch||0)*n5,i=j5(t&&t.roll||0)*n5,r=j5(t&&t.yaw||0)*n5,e=new s5(r,n,i),u=this.ude.bue(),s=this.cde.bue();this.ude=e.kue(),this.cde=e.kF(u).kO(s).kue()}},{key:"Wue",get:function(){var t=this.cde.bue();return{yaw:t.Aue,pitch:t.Sue,roll:t.Tue}},set:function(t){var n=Z5(t&&t.pitch||0),i=Z5(t&&t.roll||0),r=Z5(t&&t.yaw||0),e=new s5(r,n,i);this.cde=e.kue()}},{key:"Vft",get:function(){return this.ede?this.Ble?a5.Xa:a5.Rue:a5.Rs}},{key:"lde",get:function(){return null!==this.Ble},set:function(t){var n=this.lde;t&&this._le?this.Lle():this.Cle(),this.lde!==n&&this._o(new h5)}},{key:"dde",get:function(){return this.Kle},set:function(t){null===this.Yle&&(this.Kle=t,t&&Gn.su&&this.Qle())}},{key:"fde",get:function(){return this.Hce},set:function(t){t&&t>=0&&t<=180&&(this.Hce=t,null!==this.Dle&&this.Dle.updateRenderState({inlineVerticalFieldOfView:this.Hce*n5}))}}]),n}(aa);function j5(t){return lr(t+180,360)-180}function Z5(t){return lr(t+A.PI,2*A.PI)-A.PI}function X5(t,n){return"function"==typeof t.getAll?G5(void 0===n?t.getAll():t.getAll(n)):function(t){var n=new Kc,i=[];return t.onsuccess=function(){var r=t.result;r&&r.value?(i.push(r.value),r.continue()):n.Vb(i),st()},t.onerror=function(){n.Wb(t.error),st()},n.Ub}(void 0===n?t.openCursor():t.openCursor(n))}function G5(t){return new ut((function(n,i){t.onsuccess=function(){n(t.result),st()},t.onerror=function(){i(t.error),st()}}))}Jk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Uue=new W5(r),r}Rt(n,t);var i=n.prototype;return i.ka=function(){return Mg(t.prototype.ka.call(this),{vr:this.Uue.wa})},i.yn=function(){this.Uue.yn(),t.prototype.yn.call(this)},n}(t)}),Yk.au),U(),St(),U(),St(),U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),Jt(),U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),rn(),Jt(),Tt();var H5=function(){function t(t){var n=this;this.Drt=t,this.so=!0,this.Ub=new ut((function(t,i){n.Drt.oncomplete=function(){n.so=!1,t(),st()},n.Drt.onerror=function(){n.so&&(n.so=!1,i(n.Drt.error||new y("Transaction error")),st())},n.Drt.onabort=function(){n.so=!1,i(new y("Transaction aborted")),st()}}))}return t.prototype.jw=function(){if(this.so)try{this.Drt.abort(),this.so=!1}catch(t){}},t}();function z5(t,n,i){return Y5.apply(this,arguments)}function Y5(){return Y5=Zt((function(t,n,i){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=new H5(t),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,ut.all([n(i),r.Ub])];case 2:return e=nn.apply(void 0,[s.sent(),1]),[2,e[0]];case 3:if(u=s.sent(),!r.so)throw new X1("IDBTransaction committed prematurely",u);throw u;case 4:return r.jw(),[7];case 5:return[2]}}))})),Y5.apply(this,arguments)}var K5=function(){function t(t,n){this.sx=t,this.wde=n}var n=t.prototype;return n.yrt=function(t){return ut.resolve("persistent"===t)},n.brt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?ut.reject(XB(n)):G5(this.pde(GB.Wrt).put(t))},n.Art=function(t,n){void 0===n&&(n="persistent");var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:if("persistent"!==n)return[2,ut.reject(XB(n))];r=0,u.label=1;case 1:return r<t.length?(e=t[r],[4,i.brt(e,n)]):[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},n.Mb=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.Lb(t)];case 1:return[2,Boolean.apply(void 0,[i.sent()])]}}))}))()},n.Lb=function(t){return G5(this.pde(GB.Vrt).get(t))},n.Srt=function(t,n){return G5(this.pde(GB.Vrt).index(n).get(t))},n.frt=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:i=[],r=0,s.label=1;case 1:return r<t.length?(e=t[r],[4,n.Lb(e)]):[3,4];case 2:(u=s.sent())&&i.push(u),s.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.Trt=function(){return X5(this.pde(GB.Vrt))},n.krt=function(t){return X5(this.pde(GB.Vrt),t)},n.Ert=function(t,n){return X5(this.pde(GB.Vrt).index(n),t)},n.eT=function(t){return G5(this.pde(GB.Wrt).delete(t))},n.xrt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n.eT(r)]):[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.Rrt=function(){return G5(this.pde(GB.Wrt).clear())},n.pde=function(t){if(!this.wde)throw new y("Lock was released");if(!function(t,n){return t===GB.Vrt&&n===GB.Vrt||n===GB.Wrt}(t,this.wde.mode))throw new y("Incompatible transaction mode: "+this.wde.mode+", expected "+t);return this.wde.objectStore(this.l)},n.yde=function(){this.sx.bde(this),this.wde=void 0},xt(t,[{key:"l",get:function(){return this.sx.l}}]),t}();var q5=function(){function t(t,n){this.Cxt=void 0,this.Yo=new gl,this.Tde=t,this.l=n}var n=t.prototype;return n.yrt=function(t){return ut.resolve("persistent"===t)},n.brt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?ut.reject(XB(n)):this.Drt(GB.Wrt,(function(n){return n.brt(t)}))},n.Art=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?ut.reject(XB(n)):this.Drt(GB.Wrt,(function(n){return n.Art(t)}))},n.Mb=function(t){return this.Drt(GB.Vrt,(function(n){return n.Mb(t)}))},n.Lb=function(t){return this.Drt(GB.Vrt,(function(n){return n.Lb(t)}))},n.Srt=function(t,n){return this.Drt(GB.Vrt,(function(i){return i.Srt(t,n)}))},n.frt=function(t){return this.Drt(GB.Vrt,(function(n){return n.frt(t)}))},n.Trt=function(){return this.Drt(GB.Vrt,(function(t){return t.Trt()}))},n.krt=function(t){return this.Drt(GB.Vrt,(function(n){return n.krt(t)}))},n.Ert=function(t,n){return this.Drt(GB.Vrt,(function(i){return i.Ert(t,n)}))},n.eT=function(t){return this.Drt(GB.Wrt,(function(n){return n.eT(t)}))},n.xrt=function(t){return this.Drt(GB.Wrt,(function(n){return n.xrt(t)}))},n.Rrt=function(){return this.Drt(GB.Wrt,(function(t){return t.Rrt()}))},n.Hxt=function(t){return this.Ade(),this.Cxt=new K5(this,t),this.Cxt},n.Ade=function(){if(void 0!==this.Cxt)throw new y("Already locked")},n.bde=function(t){if(this.Cxt!==t)throw new y("Incorrect lock");this.Cxt=void 0},n.Qo=function(t){return this.Yo.Qo(t)},n.Drt=function(t,n){var i=this;return this.Qo((function(){return i.Sde(t,n)}))},n.Sde=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:i.Ade(),r=i.Tde.transaction(i.l,t),e=i.Hxt(r),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,z5(r,n,e)];case 2:return[2,u.sent()];case 3:return e.yde(),[7];case 4:return[2]}}))}))()},n.kde=function(t){this.Ade();var n=this.Tde.transaction(this.l,t);return this.Hxt(n)},t.Ede=function(t,n){var i,r=new ut((function(t){i=t})),e=t.reduce((function(t,n){return t.then((function(){var t,i=new ut((function(n){t=n}));return n.Qo((function(){return t(),r})).catch(Si),i}))}),ut.resolve());return i(e.then(n)),r},t}();U(),St(),Dt(),U(),St(),Gt(),Jt(),U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Jt();var J5={jD:17,xde:Zt((function(t){var n,i,r,e;return Ht(this,(function(u){if(n=t.transaction,i=t.database,(r=n.objectStoreNames)&&r.length)for(e=0;e<r.length;e++)i.deleteObjectStore(r[e]);return i.createObjectStore(e6,{keyPath:"id"}),i.createObjectStore(u6,{keyPath:"key"}),i.createObjectStore(s6,{keyPath:"key"}),i.createObjectStore(o6,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),i.createObjectStore(a6,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),[2]}))}))},Q5=function(){function t(t){this.Cde=t}return t.prototype.Rde=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:i=0,r=n.Ide,u.label=1;case 1:return i<r.length?(e=r[i],n.Cde<e.jD?[4,e.xde(t)]:[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},t}(),$5=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),xt(n,[{key:"Ide",get:function(){return[J5]}}]),n}(Q5),t6=function(){function t(){this.Dde=function(t){return new $5(t)}}var n=t.prototype;return n.Pde=function(t){this.Dde=t},n.Ait=function(t){return this.Dde(t)},t}(),n6=new t6,i6="theoplayer-cache-database",r6=18,e6="cachingTask",u6="licences",s6="manifest",o6="segment",a6="segmentMetadata";function c6(){return c6=Zt((function(){var t;return Ht(this,(function(n){switch(n.label){case 0:return function(){if("undefined"==typeof indexedDB)throw new y("Indexed database unavailable")}(),(t=indexedDB.open(i6,r6)).addEventListener("upgradeneeded",h6),[4,G5(t)];case 1:return[2,n.sent()]}}))})),c6.apply(this,arguments)}function h6(t){return f6.apply(this,arguments)}function f6(){return f6=Zt((function(t){var n,i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return n=t.oldVersion<=r6?t.oldVersion:-1,i=t.target,r=i.result,e=i.transaction,u=n6.Ait(n),[4,z5(e,(function(t){return u.Rde(t)}),{database:r,transaction:e})];case 1:return s.sent(),[2]}}))})),f6.apply(this,arguments)}var v6=function(){function t(){}return xt(t,null,[{key:"Vg",get:function(){return this.Qrt||(this.Qrt=function(){return c6.apply(this,arguments)}()),this.Qrt}}]),t}();v6.Qrt=void 0,U(),St();var l6=function(){function t(t,n){this.Lrt=t.Lrt.Hxt(n),this.Mrt=t.Mrt.Hxt(n),this.Brt=t.Brt.Hxt(n),this.Ort=t.Ort.Hxt(n),this.Frt=t.Frt.Hxt(n)}var n=t.prototype;return n.Drt=function(t){return t(this)},n.yde=function(){this.Lrt.yde(),this.Mrt.yde(),this.Brt.yde(),this.Ort.yde(),this.Frt.yde()},t}(),d6=function(){function t(t){this.Tde=t,this.Lrt=new q5(t,a6),this.Mrt=new q5(t,o6),this.Brt=new q5(t,s6),this.Ort=new q5(t,e6),this.Frt=new q5(t,u6)}var n=t.prototype;return n.Drt=function(t){var n=this,i=this.allCollections;return q5.Ede(i,(function(){return n.Sde(i,t)}))},n.Sde=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=t.map((function(t){return t.l})),e=i.Tde.transaction(r,GB.Wrt),u=new l6(i,e),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,z5(e,n,u)];case 2:return[2,s.sent()];case 3:return u.yde(),[7];case 4:return[2]}}))}))()},t.Ait=function(){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,v6.Vg];case 1:return[2,new t(n.sent())]}}))}))()},xt(t,[{key:"allCollections",get:function(){return[this.Mrt,this.Lrt,this.Brt,this.Ort,this.Frt]}}]),t}();QB.Pa(d6.Ait),U(),St(),Dt(),Ct(),U(),St();var g6=function(t){function n(n,i){var r;return(r=t.call(this)||this).gde=n,r.Ast=i,r.gde.bn("wat",r.Ds),r}return Rt(n,t),n.prototype.mde=function(t,n,i){var r,e;if(void 0===i&&(i="persistent"),!t)throw new y("Unexpected - The source description is undefined");if(r=mE(t),e=J2(n),iE(r))throw new y("Invalid source description");return this.gde.oee(r,e).wa},xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get status(){return t.Yk},get tasks(){return t.lee},get network(){return t.XX.wa},createTask:function(n,i){return t.mde(n,i)},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new mR(t,i),i}(this)),this.eu}},{key:"Yk",get:function(){return this.gde.Yk}},{key:"lee",get:function(){return this.gde.lee.wa}},{key:"XX",get:function(){return this.Ast}}]),n}(ha);var m6=function(){var t=new $I(qn.fR,!1),n=QB.Vg,i=new e3(t),r=new Y2(n,i),e=new nR(t),u=new U1(n.Ort,r,"persistent");return new g6(u,e)}().wa;U(),St(),U(),St(),Ct(),U(),St(),Dt();var w6=function(){function t(t){this.eu=void 0,this.gj=t}var n=t.prototype;return n.Nde=function(t){for(var n=this.gj.pR(),i=t.createGain(),r=0;r<n.length;r++){var e=n[r];t.createMediaElementSource(e).connect(i)}return i},n.ka=function(){var t=this;return{createAudioSourceNode:function(n){return t.Nde(n)}}},xt(t,[{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),t}();Jk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Mde=new w6(r.Ta),r}return Rt(n,t),n.prototype.ka=function(){var n=this.Mde.wa;return Mg(t.prototype.ka.call(this),{get audio(){return n}})},n}(t)}),Yk.au),U(),St(),U(),St(),Ct();Jk((function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}Rt(n,t);var i=n.prototype;return i.Ca=function(i){var r=n.Lde(this.kd.analytics),e=n.Lde(i?i.analytics:void 0);r||e?this.Bde(ss({},r,e)):this.Ode&&this.Ode.disable(),t.prototype.Ca.call(this,i)},i.Bde=function(t){if(this.Ode)this.Ode.enable(),this.Ode.setOptions(t);else{var n=f.youbora;if(!n)throw new y("Youbora JavaScript library not loaded.");if(!n.adapters.TheoPlayer2)throw new y("TheoPlayer2 adapter not available on Youbora JavasScript library");var i=new n.Plugin(t);i.setAdapter(new n.adapters.TheoPlayer2(this.wa)),this.zc&&n.adapters.TheoPlayer2.NativeAdsAdapter&&i.setAdsAdapter(new n.adapters.TheoPlayer2.NativeAdsAdapter(this.wa)),this.Ode=i}},i.yn=function(){this.Ode&&this.Ode.disable(),t.prototype.yn.call(this)},n.Lde=function(t){if(t){var n=t.filter((function(t){return"youbora"===t.integration}));if(0===n.length)return;if(n.length>1)throw new y("Only one youbora analytics configuration expected");var i=n[0];i.integration;return s_(i,["integration"])}},n}(t)}),Yk.Xst),U(),St(),U(),St(),Ct(),U(),St(),Dt(),Ct();var p6=1,y6=0,_6=1e3,b6=function(t){function n(n,i,r,e,u,s){var o;return void 0===e&&(e=MMPlayerState),void 0===u&&(u=MMAdState),void 0===s&&(s=MMPresentationInfo),(o=t.call(this)||this).na=n,o.MT=i,o.Wde=r,o.ofe=e,o.hfe=u,o.Ude=s,o.afe=!0,o.Zde=!1,o.Yde=void 0,o.zde=void 0,o.ufe=void 0,o.$de=function(t){var n,i=t.lnt,r=(i.c$t(),n=i.int().duration,"linear"===i.int().type);i.l$t(),i.h$t();r&&(o.Zde=!0),o.qde=o.hfe.AD_IMPRESSION,o.qde=o.hfe.AD_STARTED},o.tfe=function(t){o.Zde=!1,o.qde=o.hfe.AD_COMPLETED},o.efe=function(t){t.Ajt===nQ.ADBLOCK?o.qde=o.hfe.AD_BLOCKED:o.qde=o.hfe.AD_ERROR},o.ife=function(){o.qde=o.hfe.AD_SKIPPED},o.nfe=function(t){var n,i,r,e;t.EE===rm.mE&&(o.ufe&&t.Az!==o.ufe&&o.Wde.reportABRSwitch(o.ufe,t.Az),o.ufe=t.Az,o.Wde.reportChunkRequest(new MMChunkInformation(t.EN,t.Az,t.sL,t.Jut.Xu,void 0,void 0,null!=(r=null==(n=t.Jut._ut)?void 0:n[0])?r:0,null!=(e=null==(i=t.Jut._ut)?void 0:i[1])?e:-1)))},o.Foe=function(t){o.Xde=o.ofe.STOPPED,o._o(t)},o.X6=function(t){o.Xde=o.ofe.ERROR,o.Wde.reportError(t.error,o.Gde())},o.sfe=function(){o.Hde?o.qde=o.hfe.AD_PAUSED:o.Xde=o.ofe.PAUSED},o.kle=function(){o.Hde&&(o.qde=o.hfe.AD_PLAY)},o.IX=function(){o.Hde?(o.Yde===o.hfe.AD_PAUSED&&(o.qde=o.hfe.AD_RESUMED),o.qde=o.hfe.AD_PLAYING):(o.afe&&(o.afe=!1,o.Fde(),o.Xde=o.ofe.STARTED),o.Xde!==o.ofe.PAUSED&&o.Xde!==o.ofe.BUFFERING||(o.Xde=o.ofe.RESUMED))},o.WY=function(){o.Wde.reportPresentationSize(o.na.vI,o.na.dI)},o.PX=function(t){o.Hde||o.Xde!==o.ofe.PAUSED||o.Wde.reportPlayerSeekCompleted(t.currentTime*_6)},o.xX=function(){o.Hde||(o.Xde=o.ofe.BUFFERING)},o.Qde=function(){o.Wde.reportDownloadRate(A.floor(Nk.Vg.cG()))},o.jde=function(){o.Hde||o.Wde.reportPlaybackPosition(o.Gde())},o.Xde=o.ofe.INITIALIZED,o._Mt(),o.rfe=o.Kde(),o}Rt(n,t);var i=n.prototype;return i.Fde=function(){var t=this.ct===1/0,n=t?p6:y6,i=t?-1:this.ct,r=Ro(this.na.rt.lC,this.Vde);this.Wde.setPresentationInformation(new this.Ude(n,i,r))},i.Vde=function(t){for(var n=t.NC.lC,i=[],r=0;r<n.length;r++){var e=n[r];e.ji&&e.Ti&&i.push({trackIdx:r,bitrate:e.bG,width:e.ji,height:e.Ti,codecIdentifier:e.Jrt})}return i},i.Gde=function(){return this.na.xR()*_6},i.Kde=function(){var t=this;return w((function(){t.jde(),t.Qde()}),n.Jde)},i._Mt=function(){this.na.zc&&(this.na.zc.bn("vnt",this.$de),this.na.zc.bn("mnt",this.tfe),this.na.zc.bn("f2t",this.efe),this.na.zc.bn("j2t",this.ife)),this.na.bn(va.Dy,this.Foe),this.na.bn(Yp.fa,this.X6),this.na.bn(va.zy,this.sfe),this.na.bn(va.ho,this.kle),this.na.bn(Iy.UL,this.IX),this.na.bn(va.jy,this.WY),this.na.bn(va.Qy,this.PX),this.na.bn(Iy.WL,this.xX),this.na.bn(va.eb,this.nfe)},i.vMt=function(){this.na.zc&&(this.na.zc.vn("vnt",this.$de),this.na.zc.vn("mnt",this.tfe),this.na.zc.vn("f2t",this.efe),this.na.zc.vn("j2t",this.ife)),this.na.vn(va.Dy,this.Foe),this.na.vn(Yp.fa,this.X6),this.na.vn(va.zy,this.sfe),this.na.vn(va.ho,this.kle),this.na.vn(Iy.UL,this.IX),this.na.vn(va.jy,this.WY),this.na.vn(va.Qy,this.PX),this.na.vn(Iy.WL,this.xX),this.na.vn(va.eb,this.nfe)},i.yn=function(){p(this.rfe),this.vMt()},xt(n,[{key:"ct",get:function(){return this.na.jd()*_6}},{key:"Hde",get:function(){return this.Zde}},{key:"Xde",get:function(){return this.zde},set:function(t){this.zde=t,t&&this.Wde.reportPlayerState(t)}},{key:"qde",set:function(t){this.Yde=t}}]),n}(lm);b6.Jde=2e3,Jk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).lfe=void 0,r.dfe=void 0,r.ffe=function(){r.dfe=void 0,r.cfe();var n=t.prototype.iu.call($j(r));n&&(r.dfe=function(t,n){var i=function(t,n){if(t&&t.analytics)for(var i=0,r=t.analytics;i<r.length;i++){var e=r[i];if("smartsight"===e.integration)return e}if(n&&n.analytics)for(var u=0,s=n.analytics;u<s.length;u++){var o=s[u];if("smartsight"===o.integration)return o}return}(t,n);if(!i)return;return i}(n,r.kd)),r._fe()},r._fe=function(){if(!r.lfe&&r.dfe&&r.bt&&r.bt.src&&!r.KR){var t=MMSmartStreaming.getInstance();!function(t,n,i){t.registerMMSmartStreaming(i.playerName,i.customerID,i.subscriberID,i.domainName),t.reportComponent("THEOSDK"),t.reportPlayerInfo("THEOplayer","THEOplayer","9.3.1"),t.reportDeviceInfo(void 0,void 0,void 0,void 0,void 0,f.innerWidth,f.innerHeight),t.initializeSession("QBRModeDisabled",n,i.metaURL,i.assetID)}(t,r.bt.src,r.dfe),r.lfe=new b6(r,r.dfe,t),r.lfe.bn("ended",r.cfe)}},r.cfe=function(){r.lfe&&(r.lfe.yn(),r.lfe=void 0)},r.bn(va.uo,r.ffe),r.bn(va.xy,r._fe),r.bn(va.ho,r._fe),r}return Rt(n,t),n.prototype.yn=function(){t.prototype.yn.call(this),this.cfe()},n}(t)}),Yk.Xst),U(),St(),U(),St(),Dt(),Ct();var k6=String.fromCharCode(95);var A6=function(){function t(n,i,r,e){var u=this;this.wfe=function(n){u.bfe({type:t.Afe(n.type)})},this.zS=n,this.Nse=i,this.u_=r,this.b0t=e,this.mfe=[],this.Kf=[]}var n=t.prototype;return n.pfe=function(){for(var t in google.ima.AdEvent.Type){var n=google.ima.AdEvent.Type[t];this.Nse.addEventListener(n,this.wfe),this.mfe.push({type:n,listener:this.wfe})}},n.yfe=function(){for(var t in Eo(this.mfe),google.ima.AdEvent.Type){var n=google.ima.AdEvent.Type[t];this.Nse.removeEventListener(n,this.wfe)}},n.bfe=function(t){this.Kf.push({type:t.type,adVolume:this.adsManager.getVolume()})},n.gfe=function(){null==this.vfe||this.vfe.call(this,this.Kf),this.Kf=[]},t.Afe=function(n){return t.Sfe[n]||n},xt(t,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{get adsManager(){return t.adsManager},get ids(){return t.ids},get adContainer(){return t.adContainer},get imaSDK(){return t.imaSDK},get sendEvent(){return t.sendEvent},set sendEvent(n){t.sendEvent=n}}}(this)),this.eu}},{key:"id",get:function(){return this.zS}},{key:"adsManager",get:function(){return this.Nse}},{key:"ids",get:function(){return this.u_}},{key:"adContainer",get:function(){return this.b0t}},{key:"sendEvent",get:function(){return this.vfe},set:function(t){for(var n=0,i=this.mfe;n<i.length;n++){var r=i[n];this.Nse.removeEventListener(r.type,r.listener)}this.mfe=[],this.vfe=t,this.gfe()}},{key:"imaSDK",get:function(){return!0}}]),t}();A6.Sfe={loaded:"AdLoaded",impression:"AdImpression",start:"AdVideoStart",firstQuartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdQuartile:"AdVideoThirdQuartile",complete:"AdVideoComplete",pause:"AdPaused",skip:"AdSkipped",volumeChange:"AdVolumeChange"};var T6=function(){function t(){this.kfe=void 0,this.Efe=void 0}var n=t.prototype;return n.Tfe=function(t,n){this.kfe=v.createElement("script"),this.kfe.id=t.id,this.kfe.type="text/javascript",t.adContainer.appendChild(this.kfe),this.kfe.src="https://z.moatads.com/"+n+"/moatvideo.js#"+t.id,this.Efe=t.id,f[this.Efe]=t.wa},n.xfe=function(){this.kfe&&ai(this.kfe),this.Efe&&(f[this.Efe]=void 0)},t}();Jk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Dfe=void 0,r.Bfe=void 0,r.Ife=void 0,r.b0t=void 0,r.Pfe=function(){r.Lfe(r.Ife,{partnerCode:r.Dfe.partnerCode,viewMode:google.ima.ViewMode.NORMAL},r.b0t)},r.t7t=function(t){r.Ife=t.Dse,r.b0t=t.O7t,r.Rfe(),r.Ife.addEventListener(google.ima.AdEvent.Type.COMPLETE,r.Cfe),r.Ife.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,r.Rfe),r.Ife.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,r.Pfe)},r.Cfe=function(t){var n=t.getAd().getAdPodInfo();n.getAdPosition()<n.getTotalAds()&&(r.Rfe(),r.Pfe())},r.Rfe=function(){r.Bfe&&(r.Bfe.yfe(),r.Bfe=void 0),r.Ofe.xfe()},r.Ofe=new T6,r}Rt(n,t);var i=n.prototype;return i.Ca=function(i){var r,e,u;this.Rfe(),null==(r=this.Ife)||r.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.Cfe),null==(e=this.Ife)||e.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.Rfe),null==(u=this.Ife)||u.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.Pfe),this.Ife=void 0,this.b0t=void 0,t.prototype.Ca.call(this,i);var s=i&&i.analytics;this.Dfe=n.Nfe(s),this.zc&&this.Dfe&&h1()&&this.Mfe()},i.yn=function(){var n,i,r;this.Rfe(),null==(n=this.Ife)||n.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.Cfe),null==(i=this.Ife)||i.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.Rfe),null==(r=this.Ife)||r.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.Pfe),this.Ife=void 0,this.b0t=void 0,this.zc&&this.zc.vn("$8t",this.t7t),t.prototype.yn.call(this)},i.Mfe=function(){this.zc&&this.zc.bn("$8t",this.t7t)},i.Lfe=function(t,n,i){var r=k6+"moatApi"+A.floor(1e8*A.random());this.Bfe=new A6(r,t,n,i),this.Bfe.pfe(),this.Ofe.Tfe(this.Bfe,this.Dfe.partnerCode)},n.Nfe=function(t){if(t){var n=t.filter((function(t){return"moat"===t.integration}));if(0===n.length)return;if(n.length>1)throw new y("Only one Moat analytics configuration expected");return n[0]}},n}(t)}),Yk.Xst),U(),St(),U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Jt();var S6="theo-dai-clickthrough",E6="urn:google:dai:2018",I6=function(){function t(t,n,i,r,e){var u=this;this.Uoe=void 0,this.YG=void 0,this.KG=void 0,this.r8=new Qo,this.Yfe=!1,this.Vfe=!0,this.zfe=function(t){var n=t.Ht;n.Lt===ty.eW&&(n.Tw===Dm.ID3||n.Tw===Dm.EVENT_STREAM&&n.BC===E6)&&(n.CE=Hp.LC,u.Uoe=n,n.bn(Cg.HI,u.Kfe))},this.Kfe=function(t){t.FO.bn(Vm.rO,u.jfe)},this.jfe=function(t){var n,i;if(u.Hre)if((null==(n=u.Uoe)?void 0:n.Tw)===Dm.ID3){var r=t.FO.U;"TXXX"===r.id&&u.Hre.roe({TXXX:r.text})}else if((null==(i=u.Uoe)?void 0:i.Tw)===Dm.EVENT_STREAM){var e=t.FO.U;u.Hre.ooe(E6,e,t.oV)}},this.na=t,this.Hre=n,this.Ufe=i,this.Ffe=r,this.Hfe=e,i&&n&&this.na.zc&&this.na.zc.ant(i.r8t)}var n=t.prototype;return n.RR=function(t){this.r8.jw(),this.r8=new Qo,na(zo(this.Use(t,this.r8.Uw),this.r8))},n.Use=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return Zo(n),i.Ufe&&i.Hre?i.Ufe.snt&&!i.Hfe?[2]:(r=i.na.xR(),i.Vfe&&(e=i.Hre.aoe(t,r))?(i.na.Gfe(e),[4,i.Hre.py(e4.AD_BREAK_ENDED,n)]):[3,2]):[2,i.na.Gfe(t)];case 1:if(u.sent(),i.Hre.hoe(t).UO>t)return[2];u.label=2;case 2:return i.na.Gfe(t),[2]}}))}))()},n.aI=function(){var t=this.Ufe&&this.Ufe.snt;if(t){var n=BA.Cn(this.na.Zfe()),i=t.eOt,r=i+t.ZJt,e=new BA([i,r]);return n.jn(e).ks()}return this.na.Zfe()},n.Rnt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:if(!t)return[2,i.na.Xfe(t,n)];r=t,s.label=1;case 1:return s.trys.push([1,3,,4]),i.na.nt.bn(Tg.VI,i.zfe),[4,i.Ffe.qfe(t,n)];case 2:return r=s.sent(),i.Ufe&&i.Hre&&(i.Yfe=!0),[3,4];case 3:if(Xo(e=s.sent()),e.code===sm.LICENSE_INVALID)return[2];throw u=new ol(ul.SOURCE_NOT_SUPPORTED,"Something went wrong while setting up a Google DAI stream.",e),i.YG=cm(u),i.KG=u,i.na._o(new Ik(u)),u;case 4:return[4,i.na.Xfe(r,n)];case 5:return s.sent(),[2]}}))}))()},n.nr=function(){if(this.Yfe){if(this.na.nt.vn(Tg.VI,this.zfe),this.Uoe){this.Uoe.vn(Cg.HI,this.Kfe);for(var t=0,n=this.Uoe.L.lC;t<n.length;t++){n[t].vn(Vm.rO,this.jfe)}this.Uoe=void 0}this.YG=void 0,this.KG=void 0,this.r8.jw(),this.Ufe&&this.Ufe.nr(),this.Hre&&this.Hre.nr(),this.Yfe=!1}},n.yn=function(){this.nr(),this.na.$fe(),this.Hre&&this.Hre.yn()},xt(t,[{key:"wa",get:function(){var t=this,n=this.Ffe;return{contentTimeForStreamTime:function(n){return t.Hre?t.Hre.Zre(n):n},streamTimeForContentTime:function(n){return t.Hre?t.Hre.Xre(n):n},replaceAdTagParameters:function(n){t.Hre&&t.Hre.replaceAdTagParameters(n)},get snapback(){return t.Vfe},set snapback(n){t.Vfe=n},get sourceTransformer(){return n.Wfe},set sourceTransformer(t){n.Wfe=t}}}},{key:"lt",get:function(){return this.YG||this.na.Qfe()}},{key:"MR",get:function(){return this.KG||this.na.Jfe()}}]),t}();U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var R6=function(t){function n(n,i,r,e){var u;return void 0===e&&(e=!0),(u=t.call(this,r)||this).e_e=e,u.S2t=n,u.T2t=i,u}return Rt(n,t),xt(n,[{key:"t_e",get:function(){return this.e_e}},{key:"aQt",get:function(){return l$.Kh}}]),n}(i0),C6=function(t){function n(n,i){var r;return(r=t.call(this,new UI,l$.Kh)||this).Hre=n,r.na=i,r.Yre=function(t){var n=r.p$t;if(n&&r.a$t){var i=t.Gre.coe;r.a$t.V9t=i.ER,function(t,n){var i=n.x6t,r=n.E6t,e=n.ER,u=wr(t.zc.slice(0,i-1),(function(t){var n;return null!=(n=t.ct)?n:0}));t.XJt=r-e-u}(n,i)}},r.jre=function(t){var n=t.Gre.loe;if(n)for(var i=0;i<n.length;i++){var e=n[i];if(!r.a_e(e.WO)){var u=e.UO-e.WO,s=new R6(u,u,e.WO,!0);r.w$t.push(s)}}},r.s_e=function(t){r.r_e(t.type),r.h_e(t)},r.soe=function(t){r.h8t=!1,r.a$t=void 0;var n=r.snt;n&&(n.XJt=0,r.o_e(t.type,!1,!1),r.p$t=void 0)},r.i_e(),r}Rt(n,t);var i=n.prototype;return i.i_e=function(){var t=[e4.STARTED,e4.FIRST_QUARTILE,e4.MIDPOINT,e4.THIRD_QUARTILE,e4.COMPLETE];this.Hre.bn(t,this.s_e),this.Hre.bn(e4.AD_BREAK_ENDED,this.soe),this.Hre.bn(e4.AD_PROGRESS,this.Yre),this.Hre.bn(e4.CUEPOINTS_CHANGED,this.jre)},i.n_e=function(t){var n=t.d9t.eOt,i=this.p$t||this.findAdBreakWithPredicate(n,(function(t){return!t.tI}));if(!i){var r=t.d9t.ZJt;n=this.na.xR(),(i=new R6(r,r,n,!1)).E2t(),this.w$t.push(i)}return i},i.r_e=function(t){switch(t){case e4.STARTED:this.h8t=!0;break;case e4.AD_BREAK_ENDED:this.h8t=!1}},i.o_e=function(t,n,i){if(n)switch(t){case e4.STARTED:case e4.FIRST_QUARTILE:case e4.MIDPOINT:case e4.THIRD_QUARTILE:case e4.COMPLETE:this.h2t._o(new aB(this.p$t))}if(i)switch(t){case e4.STARTED:case e4.FIRST_QUARTILE:case e4.MIDPOINT:case e4.THIRD_QUARTILE:case e4.COMPLETE:this.h2t._o(new hB(this.a$t,this.a$t.V9t))}switch(t){case e4.COMPLETE:this.h2t._o(new vB(this.a$t,this.n8t.V9t));break;case e4.AD_BREAK_ENDED:this.h2t._o(new sB(this.snt))}switch(t){case e4.FIRST_QUARTILE:this.h2t._o(new p0(this.a$t,this.n8t.V9t));break;case e4.MIDPOINT:this.h2t._o(new _0(this.a$t,this.n8t.V9t));break;case e4.THIRD_QUARTILE:this.h2t._o(new k0(this.a$t,this.n8t.V9t))}},i.h_e=function(t){var n=t.lnt,i=this.n_e(n),r=function(t,n){if(t.zc.length)return!1;for(var i=0;i<n;i++){var r=new z0(t,e0.Mjt);t.R2t(r)}return!0}(i,n.d9t.R6t),e=function(t,n){var i=n.d9t.x6t-1;return t.zc[i]}(i,n),u=function(t,n){return t.O2t!==u0.READY&&(t.z9t(n),!0)}(e,n);this.a$t=e,this.p$t=i,i.E2t(),this.o_e(t.type,r,u)},i.a_e=function(t){for(var n=0,i=this.w$t;n<i.length;n++){var r=i[n];if(vr(t,r.eOt))return r}},i.findAdBreakWithPredicate=function(t,n){for(var i=0,r=this.w$t;i<r.length;i++){var e=r[i];if(vr(e.eOt,t)&&n(e))return e}},i.c_e=function(t,n){for(var i,r=0,e=this.w$t;r<e.length;r++){var u=e[r];u.eOt>=t&&u.eOt<=n&&!u.tI&&(!i||u.eOt>=i.eOt)&&(i=u)}return i},i.MD=function(){},i.hnt=function(t){},i.nr=function(){this.a$t&&(this.h2t._o(new vB(this.a$t,this.a$t.V9t)),this.a$t=void 0),this.p$t&&(this.h2t._o(new sB(this.p$t)),this.p$t=void 0),this.h8t=!1,Eo(this.w$t)},i.yn=function(){this.nr(),this.h2t.yn()},xt(n,[{key:"g2t",get:function(){return this.h8t}},{key:"h2t",get:function(){return this.I3t}},{key:"u_e",get:function(){var t=this.findAdBreakWithPredicate(0,(function(t){return t.t_e})),n=0;return t&&(n=t.ZJt),n}}]),n}(Q0);U(),St(),Gt(),Jt();var N6=function(){function t(t){this.Hre=t,this.Wfe=function(t){return t}}var n=t.prototype;return n.qfe=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v;return Ht(this,(function(l){switch(l.label){case 0:for(r=[],e=[],u=0,s=t.sources;u<s.length;u++)if(iT(o=s[u])){if(!i.Hre)continue;r.push(o)}else e.push(o);if(0===r.length)return[2,t];l.label=1;case 1:return void 0!==a||0===r.length?[3,7]:[4,tS.Vg.JH(r,t)];case 2:h=l.sent().Cc,f=h,Zo(n),l.label=3;case 3:return l.trys.push([3,5,,6]),[4,i.l_e(f,n)];case 4:return a=l.sent(),e.push(a),[3,6];case 5:return Xo(v=l.sent()),c=v,bo(r,f),[3,6];case 6:return[3,1];case 7:if(0!==t.sources.length&&0===e.length)throw new y("Fatal: unable to play DAI streams.");return c&&Qr(c.message),[2,ss({},t,{sources:e})]}}))}))()},n.l_e=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(!i.Hre)throw new y("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");return r=i.Hre.py(e4.LOADED,n),e=i.Hre.py(e4.ERROR,n),u=t.type===yA.qC?"dash":"hls",i.Hre.YWt(ss({},t.ssai,{format:u})),[4,ut.race([r,e])];case 1:return(s=c.sent()).type!==e4.LOADED?[3,5]:(o=t.type===yA.qC?yA.qC:yA.KC,i.Wfe?[4,i.Wfe(s.Gre.Xu||"")]:[3,3]);case 2:return a=c.sent(),[3,4];case 3:a=s.Gre.Xu,c.label=4;case 4:return[2,AA(ss({},t,{src:a,type:o}))];case 5:throw y(s.Gre.doe);case 6:return[2]}}))}))()},t}();Jk(function(t){return function(n){return function(n){function i(i,r){var e;(e=n.call(this,i,r)||this).f_e=!1,e.__e=function(t){13===t.which&&e.S0t.click(),e.EI()};var u,s,o,a=e.TI(),c=r.ads.googleIma.useAdUiElementForSsai,h=null!=(u=r.ads.googleIma.allowSeekingForGoogleDai)&&u;try{var f;c?(e.v_e=v.createElement("div"),bi(e.v_e),e.v_e.className="theo-dai-ad-ui"):(e.S0t=v.createElement("button"),e.S0t.className=S6),s=t(a,e.S0t,e.v_e),o=new C6(s,e);var l=null!=(f=e.S0t)?f:e.v_e;l&&e.we.appendChild(l),e.f_e=!0}catch(t){e.S0t=void 0,e.v_e=void 0}var d=new N6(s);return e.d_e=new I6(e,s,o,d,h),e.S0t&&(e.S0t.addEventListener("keydown",e.__e),e.S0t.addEventListener("click",e.__e)),e}Rt(i,n);var r=i.prototype;return r.ka=function(){var t=n.prototype.ka.call(this),i=t.ads;if(i){var r=this.d_e.wa;Mg(i,{get dai(){return r}})}return t},r.Gfe=function(t){n.prototype.RR.call(this,t)},r.RR=function(t,n){this.d_e.RR(t)},r.Zfe=function(){return n.prototype.aI.call(this)},r.aI=function(){return this.d_e.aI()},r.Ca=function(t){return this.d_e.nr(),n.prototype.Ca.call(this,t)},r.Xfe=function(t,i){var r=this;return Zt((function(){return Ht(this,(function(e){return[2,n.prototype.Rnt.call(r,t,i)]}))}))()},r.Rnt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,i.d_e.Rnt(t,n)]}))}))()},r.Qfe=function(){return n.prototype.NR.call(this)},r.Jfe=function(){return n.prototype.LR.call(this)},r.NR=function(){return this.d_e.lt},r.LR=function(){return this.d_e.MR},r.$fe=function(){n.prototype.yn.call(this)},r.yn=function(){this.d_e.yn(),this.S0t&&(ai(this.S0t),this.S0t.removeEventListener("keydown",this.__e),this.S0t.removeEventListener("click",this.__e),this.S0t=void 0),this.v_e&&(ai(this.v_e),this.v_e=void 0)},xt(i,[{key:"Xl",get:function(){return this.f_e}}]),i}(n)}}((function(t,n,i){if(!(f.google&&f.google.ima&&$n(f.google.ima.dai)))throw new y("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");var r=A4(),e=new google.ima.dai.api.StreamManager(t,i),u=A4();return new p4(e,n,u&&u!==r?u:void 0)})),Yk.Gst),U(),St(),U(),St(),Ct(),U(),St(),Dt();var x6=function(){function t(t,n){var i=this;this.na=t,this.b_e=n,this.D_e=!1,this.E_e=!1,this.N_e=[],this.R_e=-1/0,this.C_e=!1,this.kle=function(){i.D_e||(i.b_e.U_e(),i.C_e&&i.b_e.L_e(),i.D_e=!0)},this.Foe=function(){i.b_e.G_e(),i.E_e=!0},this.Ihe=function(){i.R_e<i.na.xR()&&(i.R_e=i.na.xR()),i.V_e()},this.A_e=function(){i.D_e&&(i.H_e=performance.now(),i.b_e.Z_e(i.na.xR()))},this.S_e=function(){i.H_e&&(i.b_e.X_e((performance.now()-i.H_e)/1e3),i.H_e=void 0)},this.X6=function(){i.R_e<i.na.xR()&&(i.R_e=i.na.xR()),i.b_e.Znt(i.na.NR().message)},this.T_e=function(){var t=i.na.jd()===1/0;t&&!i.C_e&&(i.C_e=t,i.M_e())},this.iMt=function(){i.b_e.x_e(i.R_e),i.b_e.z_e()},this.O_e=function(){void 0!==i.g_e&&i.b_e.q_e(i.m_e)}}var n=t.prototype;return n.p_e=function(t){this.w_e=t,this.b_e.y_e(t),this.na.bn(va.ho,this.kle),this.na.bn(va.Dy,this.Foe),this.na.bn(va.hb,this.Ihe),this.na.bn(Yp.fa,this.X6),this.na.bn(Iy.WL,this.A_e),this.na.bn([Iy.BL,Iy.OL,Iy.UL],this.S_e),this.na.bn(va.Iy,this.T_e),$T.yY(this.iMt)},n.k_e=function(){this.na.vn(va.ho,this.kle),this.na.vn(va.Dy,this.Foe),this.na.vn(va.hb,this.Ihe),this.na.vn(Yp.fa,this.X6),this.na.vn(Iy.WL,this.A_e),this.na.vn([Iy.BL,Iy.OL,Iy.UL],this.S_e),this.na.vn(va.Iy,this.T_e),$T.mY(this.iMt),this.E_e||(this.b_e.x_e(this.R_e),this.b_e.I_e()),this.C_e&&this.P_e(),this.w_e=void 0,this.D_e=!1,this.E_e=!1,this.R_e=-1/0,Eo(this.N_e)},n.M_e=function(){this.D_e&&this.b_e.L_e(),this.g_e=performance.now(),this.B_e=w(this.O_e,6e4)},n.P_e=function(){this.b_e.F_e(this.m_e),this.C_e=!1,this.g_e=void 0,this.B_e&&(p(this.B_e),this.B_e=void 0)},n.V_e=function(){if(!E(this.na.jd())){var t=10*function(t,n){return A.floor(t/n)}(this.na.xR()/this.na.jd()*100,10);To(this.N_e,t)||(this.N_e.push(t),this.b_e.W_e(t))}},xt(t,[{key:"m_e",get:function(){return void 0===this.g_e?0:(performance.now()-this.g_e)/1e3}}]),t}();U(),St();var D6=function(){function t(){}var n=t.prototype;return n.y_e=function(t){this.Y_e(["setDocumentTitle",t.itemTitle]),this.Y_e(["setCustomUrl","https://content.streamone.net/embed/cust=Xo9oT45EptMG/account="+t.accountID+"/item="+t.itemID]),this.Y_e(["trackPageView"])},n.U_e=function(){this.K_e("item first play","viewing","1")},n.I_e=function(){this.K_e("item skipped","skipped","1")},n.W_e=function(t){this.K_e("item progress","percent",""+t)},n.z_e=function(){this.K_e("item abandoned","window closed","1")},n.x_e=function(t){this.K_e("item time","watched",""+t)},n.G_e=function(){this.K_e("item finished","ended","1")},n.Z_e=function(t){this.K_e("buffering started","timestamp",""+t)},n.X_e=function(t){this.K_e("buffering ended","duration",""+t)},n.Znt=function(t){this.K_e("error","message",""+t)},n.L_e=function(){this.K_e("livestream first play","viewing","1")},n.q_e=function(t){this.K_e("livestream progress","duration",""+t)},n.F_e=function(t){this.K_e("livestream time","watched",""+t)},n.K_e=function(t,n,i){this.Y_e(["trackEvent","Video",t,n,i])},n.Y_e=function(t){var n="undefined"!=typeof _paq?_paq:void 0;n?n.push(t):console.warn("The Piwik library required for the StreamOne pre-integration was not found. Make sure it is loaded before instantiating THEOplayer.")},t}();U(),St(),Dt();var P6=function(){function t(t,n,i){var r=this;this.na=t,this.Oc=n,this.b_e=i,this.$_e=[],this.$de=function(){r.Q_e=r.na.jd(),r.b_e.tve(r.Q_e)},this.tfe=function(){r.Q_e&&(r.b_e.eve(r.Q_e),Eo(r.$_e),r.Q_e=void 0)},this.ife=function(t){if(r.Q_e){var n=r.Q_e-r.Q_e*t.Y2t;r.b_e.ive(n),r.Q_e=void 0}},this.efe=function(){r.Q_e=r.na.jd(),r.b_e.sve()},this.Ihe=function(){var t=r.j_e;if(r.J_e&&t&&!To(r.$_e,t)){switch(t){case 1:r.b_e.nve();break;case 2:r.b_e.rve();break;case 3:r.b_e.ove();break;case 4:r.b_e.hve()}r.$_e.push(t)}},this.iMt=function(){r.b_e.uve()}}var n=t.prototype;return n.p_e=function(){this.Oc.bn("vnt",this.$de),this.Oc.bn("mnt",this.tfe),this.Oc.bn("j2t",this.ife),this.Oc.bn("f2t",this.efe),this.na.bn(va.hb,this.Ihe),$T.yY(this.iMt)},n.k_e=function(){this.Oc.vn("vnt",this.$de),this.Oc.vn("mnt",this.tfe),this.Oc.vn("j2t",this.ife),this.Oc.vn("f2t",this.efe),this.na.vn(va.hb,this.Ihe),Eo(this.$_e),$T.mY(this.iMt),this.Q_e=void 0},xt(t,[{key:"j_e",get:function(){if(this.Q_e){var t=this.na.xR()/this.Q_e;return A.floor(4*t)+1}}},{key:"J_e",get:function(){return void 0!==this.Q_e}}]),t}();U(),St();var M6=function(){function t(t){this.b_e=t}var n=t.prototype;return n.tve=function(t){this.b_e.K_e("ad start","duration",""+t)},n.eve=function(t){this.b_e.K_e("ad finished","duration",""+t)},n.ive=function(t){this.b_e.K_e("ad skipped","remaining time",""+t)},n.sve=function(){this.b_e.K_e("ad blocker","detected","1")},n.nve=function(){this.b_e.K_e("ad progress","firstQuartile","")},n.rve=function(){this.b_e.K_e("ad progress","secondQuartile","")},n.ove=function(){this.b_e.K_e("ad progress","thirdQuartile","")},n.hve=function(){this.b_e.K_e("ad progress","fourthQuartile","")},n.uve=function(){this.b_e.K_e("ad abandoned","window closed","1")},t}();function B6(t){return t&&"streamone"===t.integration}Jk((function(t){return function(t){function n(n,i){var r;(r=t.call(this,n,i)||this).cve=!1,r.co=function(){r.cve&&(r.lve.k_e(),r.dve&&r.dve.k_e());var t=r.iu();if(r.cve=!1,t){var n=function(t){if(t.analytics)for(var n=0,i=t.analytics;n<i.length;n++){var r=i[n];if(B6(r))return r}}(t);n&&(r.cve=!0,r.lve.p_e(n),r.dve&&r.dve.p_e())}};var e=new D6;if(r.lve=new x6(r,e),r.zc){var u=new M6(e);r.dve=new P6(r,r.zc,u)}return r.bn(va.uo,r.co),r}return Rt(n,t),n.prototype.yn=function(){this.vn(va.uo,this.co),this.cve&&(this.lve&&this.lve.k_e(),this.dve&&this.dve.k_e(),this.cve=!1),t.prototype.yn.call(this)},n}(t)}),Yk.Xst),U(),St(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Ct(),U(),St(),Gt(),Ct(),Jt();var O6=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).vve=i,r.mve=void 0,r}Rt(n,t);var i=n.prototype;return i.A2=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,L6(n)];case 1:return u=s.sent(),[4,t.prototype.A2.call(e,u,i,r)];case 2:return s.sent(),e.fve(u,i),[2]}}))}))()},i.g2=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,L6(n)];case 1:return u=s.sent(),[4,t.prototype.g2.call(e,u,i,r)];case 2:return s.sent(),e.fve(u,i),[2]}}))}))()},i.fve=function(t,n){var i=this.vve._ve;if(void 0!==i){var r,e=n.W1;if(this.mve!==e&&(this.mve=e,i.setLevelSwitching(e),i.setContainerFormat(2)),function(t){return Hn.call(t,"wit")}(n)){var u=n.wit,s=n.wit+n.ct;r=n.BV,i.newPts(u,s,"video",e)}else 0;i.appendBuffer(t.Kk,"video",e,r)}},i.eT=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,t.prototype.eT.call(e,n,i,r)];case 1:return s.sent(),null==(u=e.vve._ve)||u.flushBuffer(n,i),[2]}}))}))()},n}(cO);function L6(t){return F6.apply(this,arguments)}function F6(){return F6=Zt((function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:switch(t.Tw){case GR.iJ:return[3,1];case GR.Sk:return[3,2];case GR.sJ:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,Gl(t.Kk)];case 3:return n=i.sent(),[2,{Tw:GR.iJ,Kk:new I(n)}];case 4:throw new y("Opaque initialization segments are not supported on web.");case 5:return[2]}}))})),F6.apply(this,arguments)}var V6=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).vve=i,r.Aot(n),r}return Rt(n,t),n.prototype.Tot=function(t){return t.m3===rm.mE?new O6(t,this.vve):new cO(t)},n}(oO),U6=function(t){function n(n){var i;(i=t.call(this,n)||this).bve=!1,i.Ave=function(t){i.bve||(t||i.BH("LCEVC SDK failed to initialize."),i.pve())},i.Sve=function(){i.bve||i.BH("LCEVC SDK failed to initialize.")},i.wve=v.createElement("canvas"),bi(i.wve),i.wve.style.display="none";var r,e=n.jG;return e.parentElement.insertBefore(i.wve,null!=(r=e.nextSibling)?r:null),LCEVCdec.ready.then(i.Ave,i.Sve),i}Rt(n,t);var i=n.prototype;return i.pve=function(){this.gve=new LCEVCdec.LCEVCdec(this.WB.jG,this.wve,{})},i.ge=function(){t.prototype.ge.call(this),this.yve()},i.be=function(){t.prototype.be.call(this),this.wve.style.display="none"},i.nr=function(){return this.wve.style.display="none",void 0!==this.gve&&(this.gve.close(),this.pve()),t.prototype.nr.call(this)},i.Xw=function(){return this.bve=!0,void 0!==this.gve&&(this.gve.close(),this.gve=void 0),ai(this.wve),t.prototype.Xw.call(this)},i.BH=function(t){this._o(new MN(new om(sm.ABORTED,t)))},i.yve=function(){this.WB.jG.style.display="none",this.wve.style.display="block"},i.pot=function(t){return new V6(t,this)},i.got=function(t){return new vO(t)},xt(n,[{key:"_ve",get:function(){return this.gve}},{key:"oot",get:function(){return this.WB}}]),n}(lO),W6=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.OH=function(n){if(n===rm.mE)return this.Tve=new U6(t.prototype.OH.call(this,n)),this.Tve},i.yH=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.Tve=void 0,[4,(r=n).Xw()];case 1:return e.sent(),[4,t.prototype.yH.call(i,r.oot)];case 2:return e.sent(),[2]}}))}))()},xt(n,[{key:"kve",get:function(){return this.Tve}}]),n}(rO),j6=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new W6(s),f=new mO(h),v=f.OH(o);return(c=t.call(this,n,i,r,e,u,v,a)||this).xve=function(t){t.Ht.bn(Cg.hC,c.Eve)},c.Rve=function(t){t.Ht.vn(Cg.hC,c.Eve)},c.Eve=function(t){var n,i=null==(n=c.Ive.kve)?void 0:n._ve,r=t.pat.IC;null==i||i.setCurrentLevel(r)},c.bH=f,c.Ive=h,c.dO.bn(Tg.VI,c.xve),c.dO.bn(Tg.UI,c.Rve),c}return Rt(n,t),n.prototype.yn=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:for(i=0,r=n.dO.lC;i<r.length;i++)r[i].vn(Cg.hC,n.Eve);return n.rt.vn(Tg.VI,n.xve),n.rt.vn(Tg.UI,n.Rve),[4,t.prototype.yn.call(n)];case 1:return e.sent(),[4,n.WB.Xw()];case 2:return e.sent(),[4,n.bH.yH(n.WB)];case 3:return e.sent(),[2]}}))}))()},n}(Jj),Z6=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).UH=xk.dG,n}Rt(n,t);var i=n.prototype;return i.uP=function(t,n,i,r,e,u,s){var o=new LB(QB.Vg.Brt,QB.Vg.Lrt,QB.Vg.Mrt,QB.Vg.Frt),a=n;return yZ.yT()&&(a=new yZ(a)),new j6(i,r,e,u,o,a,rm.mE,t)},i.FH=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return n.lcevc?[4,t.prototype.FH.call(i,n)]:[2,!1];case 1:if(!r.sent())return[2,!1];if(void 0===f.LCEVCdec)throw new ol(ul.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return[2,!0]}}))}))()},i.WH=function(){return!1},n}(MB);qT(new Z6),U(),St(),Gt(),Ct(),Jt();var X6=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new W6(n),f=new mO(h),v=f.OH(rm.mE);return(c=t.call(this,v,i,r,e,u,s,o,a)||this).xve=function(t){t.Ht.bn(Cg.hC,c.Eve)},c.Rve=function(t){t.Ht.vn(Cg.hC,c.Eve)},c.Eve=function(t){var n,i=null==(n=c.Ive.kve)?void 0:n._ve,r=t.pat.gLt.IC;null==i||i.setCurrentLevel(r)},c.bH=f,c.Ive=h,c.dO.bn(Tg.VI,c.xve),c.dO.bn(Tg.UI,c.Rve),c}return Rt(n,t),n.prototype.yn=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:for(i=0,r=n.dO.lC;i<r.length;i++)r[i].vn(Cg.hC,n.Eve);return n.rt.vn(Tg.VI,n.xve),n.rt.vn(Tg.UI,n.Rve),[4,t.prototype.yn.call(n)];case 1:return e.sent(),[4,n.bH.yH(n.WB)];case 2:return e.sent(),[2]}}))}))()},n}(Uq),G6=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).UH=xk.mG,n}Rt(n,t);var i=n.prototype;return i.uP=function(t,n,i,r,e,u,s){return new X6(n,i,e,u,wq(r.libraryLocation),new Vq(r.libraryLocation),new LB(QB.Vg.Brt,QB.Vg.Lrt,QB.Vg.Mrt,QB.Vg.Frt),r)},i.FH=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return n.lcevc?[4,t.prototype.FH.call(r,n,i)]:[2,!1];case 1:if(!e.sent())return[2,!1];if(void 0===f.LCEVCdec)throw new ol(ul.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return[2,!0]}}))}))()},i.WH=function(){return!1},n}(jq);qT(new G6),U(),St(),U(),St(),Dt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var H6=function(t){return t.Cve="nr",t.Pve="Dve",t}({}),z6="freewheel-nonlinear-ad",Y6=[va.Iy,va.hb,va.ub,va.zy,Iy.UL,va.ho],K6=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i)||this).YG=void 0,s.KG=void 0,s.Bve=function(t){var n=t.lnt,i="vnt"===t.type;if(n.F2t===e0.M2t){var r=s.na.we.classList;i?r.add(z6):r.remove(z6)}i?s.ge():s.be()},s.Lve=function(){s.C3t(),s.na.EI(),s.na.be()},s.Kie=function(){s.Mve.qve&&(s.na.PR||s.na.xI(),s.be(),s.na.ge(),s.x1t())},s.Mve=e,s.bH=r,s.WB=u,s.Het=u.jG,s.Het.controls=!1,s.Nve(),s.Fve(),s.Wve(),s}Rt(n,t);var i=n.prototype;return i.kI=function(){this.bH.vZ()},i.Nve=function(){this.Mve.bn("_nt",this.Lve),this.Mve.bn(["vnt","mnt"],this.Bve),this.Mve.bn("fnt",this.Kie)},i.Ove=function(){this.Mve.vn("_nt",this.Lve),this.Mve.vn(["vnt","mnt"],this.Bve),this.Mve.vn("fnt",this.Kie)},i.Fve=function(){this.h2t.ru(this.Mve.Vve)},i.Wve=function(){this.Mve.Uve.bn(Y6,this.Ds)},i.Gve=function(){this.Mve.Uve.vn(Y6,this.Ds)},i.hnt=function(t){},i.xR=function(){return this.Mve.Uve.ER},i.RR=function(t,n){},i.jd=function(){return this.Mve.Uve.ct},i.DR=function(){return this.Mve.Uve.PR},i.NR=function(){return this.YG},i.LR=function(){return this.KG},i.fI=function(){return 0},i.mI=function(){return 0},i.pI=function(){return this.Mve.Uve.gI},i.wI=function(t){this.Mve.Uve.gI=t},i.XR=function(){return this.Mve.Uve.ZR},i.zR=function(t){this.Mve.Uve.ZR=t},i.oI=function(){return this.Mve.Uve.rI},i.aI=function(){return this.Mve.Uve.hI},i.jR=function(){return this.Mve.Uve.KR},i.c2t=function(t){if(this.g2t||this.Mve.c2t(t),this.Mve.Hve){if(t.type===va.zy&&this.na.PR)return!0;if(t.type===va.Dy)return this.Mve.Xve.Zve(),!0}return!1},i.be=function(){this.Mve.be()},i.EI=function(){this.KR||this.Mve.Uve.EI()},i.zve=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:if(t.Mve.qve)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.Mve.s5t()];case 2:return i.sent(),[3,4];case 3:return n=i.sent(),t.Yve(n,nQ.GENERAL),[3,4];case 4:return[2]}}))}))()},i.Kve=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.Mve.Uve.jve?(t.Mve.Uve.xI(),[2,!1]):[3,1];case 1:if(!t.Mve.Qve)return[3,5];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t.Mve.Xve.Jve()];case 3:return i.sent(),[3,5];case 4:return n=i.sent(),t.Yve(n,nQ.PLAYBACK),[3,5];case 5:return[2,!0]}}))}))()},i.Yve=function(t,n){t.name!==H6.Cve&&this.h2t._o(new $$(n,"Ads could not be loaded."))},i.xI=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.KR&&t._o(new _T(t.ER)),[4,t.zve()];case 1:return i.sent(),t.$ve?[2]:[4,t.Kve()];case 2:return n=i.sent(),!t.$ve&&n&&t.Kie(),[2]}}))}))()},i.y8t=function(t,n,i){n===zM.tnt&&this.Mve.y8t(t)},i.ge=function(){this.Mve.ge()},i.MD=function(){this.Mve.Uve.MD()},i.TI=function(){return this.Het},i.pR=function(){return this.bH.yZ.map((function(t){return t.jG}))},i.b2t=function(t){},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.RI()];case 1:return n.sent(),t.Mve.yn(),[4,t.bH.yH(t.WB)];case 2:return n.sent(),t.Ove(),t.Gve(),t.h2t.bK(t.Mve.Vve),[2]}}))}))()},i.RI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.Mve.nr(),t.g2t&&(t.na.ge(),t.x1t(),t.be()),[2]}))}))()},xt(n,[{key:"r2t",get:function(){return this}},{key:"s2t",get:function(){return n.s2t}},{key:"snt",get:function(){var t;return null!=(t=this.Mve.Vve.snt)?t:null}},{key:"ent",get:function(){var t=this.Mve.Vve.n8t;return t?[t]:[]}},{key:"nnt",get:function(){return this.Mve.Vve.nnt}},{key:"rnt",get:function(){return this.Mve.Vve.rnt}},{key:"$ve",get:function(){return Yn(this.NR())}}],[{key:"s2t",get:function(){return l$._$t}}]),n}(C0);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Dt(),Ct();var q6=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r)||this).eme=e,u.nme=0,u.V2t=Q6(e),u.S2t=n,u.T2t=i,u}return Rt(n,t),xt(n,[{key:"tme",get:function(){return this.eme}},{key:"ime",get:function(){return this.zc[this.nme]}},{key:"rme",get:function(){return this.nme},set:function(t){this.nme=t}},{key:"F2t",get:function(){return this.V2t}},{key:"aQt",get:function(){return l$._$t}}]),n}(i0);U(),St(),Dt(),Ct();var J6=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).hme=r,e}return Rt(n,t),n.prototype.ka=function(){return o0(this)},xt(n,[{key:"ome",get:function(){return this.hme},set:function(t){this.hme!==t&&(this.hme=t)}},{key:"Ti",get:function(){return this.sd.tme.getHeight()}},{key:"ji",get:function(){return this.sd.tme.getWidth()}},{key:"QYt",get:function(){return this.ome.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK)[0]}},{key:"aQt",get:function(){return l$._$t}}]),n}(s0);function Q6(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY?e0.M2t:e0.Mjt}var $6=function(t){function n(i,r){var e;return(e=t.call(this)||this).Vs=i,e.$T=r,e.Rme=tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL,e.Ime=tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL,e.Pme=tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL,e.Cme=tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY,e._me=[],e.mme=[],e.pme=[],e.wme=[],e.bme=function(t){var i=t.slot,r=e.Mme(i);r&&(n.Bme(i,r),e.p$t=r,r.E2t(),e.Wme(r),r.F2t===e0.Mjt&&e._o(new aB(r)))},e.Ame=function(){var t=e.snt;t&&t.F2t===e0.Mjt&&(e._o(new sB(t)),e.$T.src=""),e.p$t=void 0},e.Sme=function(t){var n=e.Nme(t.adInstance);n&&(e._o(new hB(n,n.ome.getPlayheadTime())),e.a$t=n),t.adInstance.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK).length>0&&(e.Vs.style.cursor="pointer",e.Vs.addEventListener("click",e.Ume))},e.Tme=function(){e.Vs.style.cursor="",e.Vs.removeEventListener("click",e.Ume)},e.Ume=function(){e.n8t&&e.n8t.ome.getRendererController().processEvent({name:tv.freewheel.SDK.EVENT_AD_CLICK})},e.kme=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_COMPLETE:e.Fme();break;case tv.freewheel.SDK.EVENT_AD_SKIPPED:e.x0t(),e.Fme()}},e}Rt(n,t);var i=n.prototype;return i.ame=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.ume=t,i.cme=n,i.lme(t),[4,n];case 1:return r.sent(),i.dme(),[2]}}))}))()},i.dme=function(){this.yme()},i.lme=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.bme),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Ame),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Sme),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.Tme),t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.kme)},i.Eme=function(){this.ume&&(this.ume.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.bme),this.ume.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Ame),this.ume.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Sme),this.ume.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.Tme),this.ume.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.kme))},i.yme=function(){this._me=this.xme(this.Rme),this.mme=this.xme(this.Ime).concat(this.xme(this.Cme)),this.pme=this.xme(this.Pme),this.wme=this._me.concat(this.mme).concat(this.pme)},i.xme=function(t){if(!this.ume)return[];var n=this.ume.getSlotsByTimePositionClass(t);return this.Dme(n)},i.Nme=function(t){if(this.p$t){var n=t.getSlot().getAdInstances().indexOf(t);-1!==n&&(this.p$t.rme=n);var i=this.p$t.ime;return i&&(i.ome=t),i}},i.Mme=function(t){return mo(this.wme,(function(n){return n.tme===t}))},i.Dme=function(t){return t.map((function(t){var i=t.getTotalDuration(),r=n.Lme(t);return new q6(i,i,r,t)}))},i.x0t=function(){var t=this.n8t;t&&this._o(new v0(t,this.Ome()))},i.Fme=function(){var t=this.n8t;t&&(this._o(new vB(t,t.ome.getPlayheadTime())),this.a$t=void 0)},i.Vme=function(t){var n=this.snt;n&&(n.XJt=function(t,n,i){void 0===i&&(i=0);for(var r=0,e=t.zc.length,u=n;u<e;u++){var s=t.zc[u],o=s.ct;if(s){var a=o;u===n&&(a=hr(o-i,0,o)),r+=a}}return r}(n,n.rme,t))},i.Ome=function(){var t=this.n8t;if(!t)return 0;var n=t.ome;return n.getPlayheadTime()/n.getDuration()},i.Wme=function(t){bo(this.wme,t),bo(this._me,t),bo(this.mme,t),bo(this.pme,t)},i.nr=function(){this.Eme(),this._me.length=0,this.mme.length=0,this.pme.length=0,this.wme.length=0,this.a$t=void 0,this.p$t=void 0,this.ume=void 0,this.cme=void 0},i.yn=function(){this.nr(),this.Ro()},n.Bme=function(t,n){for(var i=t.getAdInstances(),r=[],e=0;e<i.length;e++){var u=i[e],s=Q6(u.getSlot()),o=new J6(n,s,u);o.L2t(u.getAdId(),u.getSlot().getWidth(),u.getSlot().getHeight(),u.getDuration(),[],0),n.R2t(o),r.push(o)}return r},n.Lme=function(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL?-1:t.getTimePosition()},xt(n,[{key:"fme",get:function(){return this._me}},{key:"vme",get:function(){return this.mme}},{key:"gme",get:function(){return this.pme}},{key:"snt",get:function(){return this.p$t}},{key:"n8t",get:function(){return this.a$t}},{key:"nnt",get:function(){var t=[];if(this.p$t){var n,i=this.p$t.rme;if(i>=0)(n=t).push.apply(n,Ut(this.p$t.zc.slice(i+1)))}for(var r=0,e=this.wme;r<e.length;r++){var u,s=e[r];(u=t).push.apply(u,Ut(s.zc))}return t}},{key:"rnt",get:function(){return this.wme}}]),n}(ha);U(),St(),Dt(),Ct();var t9=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).na=n,u.Ku=i,u.Hyt=r,u.b0t=e,u.v4=BA.pB().ks(),u.dZ=!0,u.MA=NaN,u.Qme=!1,u.B4=!1,u.O4=Ny.eO,u.uZ=0,u.tge=0,u.Zme=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_PAUSE:(function(t){if(!t)return!0;var n=t.ome,i=n.getPlayheadTime(),r=n.getDuration();return i>=r||vr(r,i)})(u.Hyt.n8t)||(u.KR=!0,u._o(new yT(u.ER)));break;case tv.freewheel.SDK.EVENT_AD_RESUME:u.KR=!1,u._o(new Oy(u.ER));break;case tv.freewheel.SDK.EVENT_AD_VOLUME_CHANGE:if(u.Zgt){var n=u.Zgt.getAdVolume();0===n?u.Qme=!0:u.zA=n,u._o(new ET(u.ER,u.gI))}}},u.zme=function(){u.PR=!1;var t=u.KR;if(u.KR=!1,t&&(u._o(new _T(u.ER)),u._o(new Oy(u.ER))),u.O4=Ny.sO,u.ER=0,u.Hyt.n8t){var n=u.Hyt.n8t.ome;u.MA=n.getDuration(),u._o(new bT(u.MA)),u.ege=w((function(){if(u.jve){u.Hyt.Vme(u.ER);var t=n.getPlayheadTime();fr(t,u.tge,.001)||u._o(new yg(t,void 0)),u.tge=t}else u.Hp()}),250),u.Zgt&&u.Zgt.setAdVolume(n9(u.ZR,u.gI))}},u.ige=function(){var t=u.Hyt.n8t;t&&(t.F2t===e0.M2t?u.na.EI():u.KR||u.EI())},u.Hp=function(){p(u.ege),u.ege=void 0},u.qme=function(){u.Hp(),u.PR=!0},u.Yme=function(){u.$me("pause")},u.Kme=function(){u.$me("playing")},u.Td=function(t){t.sd.F2t===e0.Mjt&&(u.KR=!1)},u.Xme=function(){u.Zgt&&u.Zgt.resize(u.Ku.Au,u.Ku.Eu)},u.zA=n.gI,r.bn("_nt",u.Td),u.Ku.bn(wI.mn,u.Xme),u.b0t.addEventListener("click",u.ige),u}Rt(n,t);var i=n.prototype;return i.Gme=function(){this.Zgt&&this.Zgt.setAdVolume(n9(this.ZR,this.gI))},i.Hme=function(t){this.Zgt=t,this.lme(t)},i.lme=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.Zme),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.Xme),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.zme),t.addEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.qme),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.Yme),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.Kme)},i.jme=function(){var t=this.Zgt;t&&(t.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.Zme),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.Xme),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.zme),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.qme),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.Yme),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.Kme))},i.xI=function(){this.Hyt.snt&&(this.Hyt.snt.tme.resume(),this.KR=!1)},i.EI=function(){this.Hyt.snt&&(this.Hyt.snt.tme.pause(),this.KR=!0)},i.$me=function(t){var i=n.Jme(t);this.Zgt&&i&&this.Zgt.setVideoState(i)},i.MD=function(){var t=this.Hyt.n8t;t&&t.ome.skip()},i.nr=function(){if(this.jme(),this.Zgt){this.$me("stop"),this.Zgt.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED);for(var t=this.Zgt.getTemporalSlots(),n=0;n<t.length;n++){t[n].stop()}this.Zgt.dispose(),this.Zgt=void 0}this.MA=NaN,this.PR=!1,this.O4=Ny.eO,this.ER=0,this.tge=0,this.KR=!0,void 0!==this.ege&&(p(this.ege),this.ege=void 0)},i.yn=function(){this.nr(),this.Ro(),this.Hyt.vn("_nt",this.Td),this.Ku.vn(wI.mn,this.Xme),this.b0t.removeEventListener("click",this.ige)},n.Jme=function(t){switch(t){case"pause":return tv.freewheel.SDK.VIDEO_STATE_PAUSED;case"playing":return tv.freewheel.SDK.VIDEO_STATE_PLAYING;case"ended":return tv.freewheel.SDK.VIDEO_STATE_COMPLETED;case"stop":return tv.freewheel.SDK.VIDEO_STATE_STOPPED}},xt(n,[{key:"ER",get:function(){var t=this.Hyt.n8t;return t&&(this.ER=t.ome.getPlayheadTime()),this.uZ},set:function(t){this.uZ=t}},{key:"ct",get:function(){return this.MA}},{key:"jve",get:function(){return!!this.Hyt&&void 0!==this.Hyt.snt}},{key:"KR",get:function(){return this.dZ},set:function(t){this.dZ=t}},{key:"gI",get:function(){return this.zA},set:function(t){this.Zgt&&this.Zgt.setAdVolume(t),this.zA=t}},{key:"ZR",get:function(){return this.Zgt&&(this.Qme=0===this.Zgt.getAdVolume()),this.Qme},set:function(t){this.Zgt&&this.Zgt.setAdVolume(n9(t,this.gI)),this.Qme=t}},{key:"hI",get:function(){return this.v4}},{key:"PR",get:function(){return this.B4},set:function(t){this.B4=t}},{key:"rI",get:function(){return this.O4}}]),n}(ha);function n9(t,n){return t?0:n}U(),St(),Gt(),Jt(),U(),St(),Dt(),Ct();var i9=function(t){function n(){return t.call(this,"A FreeWheel Ad Error occurred")||this}return Rt(n,t),xt(n,[{key:"name",get:function(){return H6.Pve}}]),n}(Uo);U(),St(),Dt(),Ct();var r9=function(t){function n(){return t.call(this,"A FreeWheel Reset Error Occurred")||this}return Rt(n,t),xt(n,[{key:"name",get:function(){return H6.Cve}}]),n}(Uo),e9=0;var u9=function(){function t(t,n,i,r){var e=this;this.Zgt=n,this.oge=function(t){e.Zgt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,e.oge),t.success?e.rge.Vb(void 0):e.rge.Wb(new i9)},this.sge(t,i,r),n.addEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.oge),this.rge=new Kc}var n=t.prototype;return n.sge=function(t,n,i){t.setNetwork(n.networkId),t.setServer(n.adServerUrl);var r=this.Zgt;if(r.setProfile(n.profile),n.assetId&&n.assetDuration&&r.setVideoAsset(n.assetId,n.assetDuration),n.siteSectionId&&r.setSiteSection(n.siteSectionId),r.registerVideoDisplayBase(i),n.cuePoints&&n.cuePoints.length)for(var e=0,u=n.cuePoints;e<u.length;e++){var s=u[e];r.addTemporalSlot("cue-"+ ++e9,s.adUnit,s.timeOffset)}var o=n.customData;if($n(o))for(var a=k.keys(o),c=0;c<a.length;c++){var h=a[c],f=o[h];r.addKeyValue(h,f)}},n.nge=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Zgt.submitRequest(),[4,t.rge.Ub];case 1:return n.sent(),[2]}}))}))()},n.nr=function(){this.Zgt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.oge),this.rge.Wb(new r9)},t}();U(),St(),Gt(),Jt(),U(),St(),Dt();var s9=function(){function t(t){var n=this;this.ume=t,this.Ame=function(t){n.hge(),n.Kw.Vb(void 0)},this.$6t=function(t){n.hge(),n.Kw.Wb(new i9)},this.Kw=new Kc,t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Ame),t.addEventListener(tv.freewheel.SDK.EVENT_ERROR,this.$6t)}var n=t.prototype;return n.hge=function(){this.ume.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.Ame),this.ume.removeEventListener(tv.freewheel.SDK.EVENT_ERROR,this.Ame)},n.vUt=function(){this.hge(),this.Kw.Wb(new r9)},xt(t,[{key:"age",get:function(){return this.Kw.Ub}}]),t}(),o9=function(){function t(t,n){var i=this;this.na=t,this.cge=n,this.dge=0,this.fge=function(){for(var t=i.na.xR(),n=0,r=i.cge.vme;n<r.length;n++){var e=r[n],u=new BA([i.dge,t],[!0,!0]),s=e.tme.getTimePosition();if(u.wr(s))switch(e.tme.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:i.uge([e]);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:e.tme.play(),e.tme.setVisible(!0)}}i.dge=t},t.bn(va.hb,this.fge)}var n=t.prototype;return n.bO=function(t){this.ume=t},n.Jve=function(){return this.uge(this.cge.fme)},n.Zve=function(){this.uge(this.cge.gme)},n.uge=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(!n.ume)return[2];e.label=1;case 1:if(!(t.length>0))return[3,6];n.lge=new s9(n.ume),i=n.lge.age,(r=n.cge.snt)&&r.F2t===e0.M2t&&r.tme.stop(),t.shift().tme.play(),e.label=2;case 2:return e.trys.push([2,,4,5]),[4,i];case 3:return e.sent(),[3,5];case 4:return n.lge=void 0,[7];case 5:return[3,1];case 6:return[2]}}))}))()},n.nr=function(){this.lge&&(this.lge.vUt(),this.lge=void 0),this.dge=0},n.yn=function(){this.na.vn(va.hb,this.fge)},t}(),a9=0,c9=function(t){function n(i,r,e){var u;return(u=t.call(this)||this).na=i,u.$T=r,u.pge=!1,u.vge=n.createUniqueDisplayBaseId(),u.b0t=n.yge(i.we,r,u.vge),u._ge=new f.tv.freewheel.SDK.AdManager,u.wge=new $6(u.b0t,u.$T),u.mge=new o9(u.na,u.Vve),u.ru(u.Vve),u.q6t=new t9(i,e,u.Vve,u.b0t),u}Rt(n,t);var i=n.prototype;return i.s5t=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(!t.uQt)throw new y("Invalid state");n=t._ge,(i=n.newContext()).setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),i.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),r=new u9(n,i,t.uQt,t.vge),e=t.Vve.ame(i,r.nge()),t.mge.bO(i),t.Uve.Hme(i),t.gge=r,u.label=1;case 1:return u.trys.push([1,,3,4]),[4,e];case 2:return u.sent(),[3,4];case 3:return t.Uve.Gme(),t.pge=!0,[7];case 4:return[2]}}))}))()},i.c2t=function(t){this.Uve.$me(t.type)},i.ge=function(){this.b0t.style.display="block",this.$T.style.display="block"},i.be=function(){this.b0t.style.display="none",this.$T.style.display="none"},i.y8t=function(t){this.uQt=t},i.nr=function(){this.pge=!1,this.uQt=void 0,this.Vve.nr(),this.mge.nr(),this.gge&&(this.gge.nr(),this.gge=void 0),this.Uve.nr(),this.$T.src=""},i.yn=function(){this.nr(),this.q6t.yn(),this.mge.yn(),this.Vve.yn(),this.b0t.remove(),ai(this.b0t)},n.createUniqueDisplayBaseId=function(){return"theo-freewheel-"+ ++a9},n.yge=function(t,n,i){var r=v.createElement("div");return r.id=i,r.className="theo-freewheel",n.classList.add("theo-freewheel-video"),r.appendChild(n),t.appendChild(r),r},xt(n,[{key:"Hve",get:function(){return 0!==this.Vve.gme.length}},{key:"Qve",get:function(){return 0!==this.Vve.fme.length}},{key:"Uve",get:function(){return this.q6t}},{key:"Vve",get:function(){return this.wge}},{key:"qve",get:function(){return this.pge}},{key:"Xve",get:function(){return this.mge}}]),n}(UI);function h9(t){if(f.tv)switch(t){case"preroll":return tv.freewheel.SDK.ADUNIT_PREROLL;case"midroll":return tv.freewheel.SDK.ADUNIT_MIDROLL;case"postroll":return tv.freewheel.SDK.ADUNIT_POSTROLL;case"overlay":return tv.freewheel.SDK.ADUNIT_OVERLAY}}function f9(t,n,i){if(void 0!==n&&E(n)||n<0||n===1/0)return NaN;switch(t){case"preroll":return 0;case"postroll":return i}return SQ(n)}var v9=function(){function t(){}var n=t.prototype;return n.CZ=function(t){return t.integration===IS.FREEWHEEL},n.t2t=function(t,n,i){if(Boolean(f.tv&&f.tv.freewheel&&f.tv.freewheel.SDK&&f.tv.freewheel.SDK.AdManager)){var r=new JT(t.Hu,t.Wl,1,[rm.mE]);r.AZ(t.we);var e=r.OH(rm.mE),u=new c9(t,e.jG,t.Hu);return new K6(t,n,r,u,e)}},n.qz=function(t){var n=Bg(t);Jn(n.cuePoints)||(n.cuePoints=[]);for(var i=[],r=t.assetDuration||0,e=0,u=n.cuePoints;e<u.length;e++){var s=u[e],o=f9(s.adUnit,s.timeOffset,r),a=h9(s.adUnit);!E(o)&&ni(a)?(s.adUnit=a,s.timeOffset=o,i.push(s)):qn.Vp("Invalid adUnit/timeOffset combination. Cue was removed.")}return n.cuePoints=i,n},n.g6=function(t,n,i,r){i.y8t(t,n,r)},xt(t,[{key:"$1t",get:function(){return l$._$t}}]),t}();RS.Vg.PZ(new v9),U(),St(),U(),St(),U(),St(),Ct(),U(),St(),U(),St();var l9,d9=self.theoplayerDeviceMetadata;function g9(t){return t.navigator&&t.navigator.userAgent||""}U(),St(),U(),St(),U(),St(),on(),U(),St(),on();var m9=(sn(l9={},"Windows 10",/(Windows 10.0|Windows NT 10.0)/i),sn(l9,"Windows 8.1",/(Windows 8.1|Windows NT 6.3)/i),sn(l9,"Windows 8",/(Windows 8|Windows NT 6.2)/i),sn(l9,"Windows 7",/(Windows 7|Windows NT 6.1)/i),sn(l9,"Windows Vista",/Windows NT 6.0/i),sn(l9,"Windows Server 2003",/Windows NT 5.2/i),sn(l9,"Windows XP",/(Windows NT 5.1|Windows XP)/i),sn(l9,"Windows Phone",/Windows Phone/i),sn(l9,"Android",/Android/i),sn(l9,"Linux",/(Linux(?!.*Ubuntu)|X11)/),sn(l9,"Ubuntu",/Ubuntu/i),sn(l9,"iOS",/(iPhone|iPad|iPod)/i),sn(l9,"Mac OS X",/Mac OS X/i),sn(l9,"Mac OS",/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/i),sn(l9,"Chrome OS",/CrOS/i),l9);function w9(t,n){var i=m9[n];return!!i&&Boolean(g9(t).match(i))}function p9(t){return w9(t,"Android")}function y9(t){return w9(t,"Windows Phone")}function _9(t){return w9(t,"iOS")&&!y9(t)}function b9(t){return w9(t,"Ubuntu")}var k9,A9,T9=/Windows (NT|Phone) ([0-9.]+)/i,S9=/Mac.*?(OS |OS X )(\d+(([_.])\d+)?(([_.])\d+)?)/i,E9=(sn(k9={},"Windows 10",T9),sn(k9,"Windows 8.1",T9),sn(k9,"Windows 8",T9),sn(k9,"Windows 7",T9),sn(k9,"Windows Vista",T9),sn(k9,"Windows Server 2003",T9),sn(k9,"Windows XP",T9),sn(k9,"Windows Phone",/Windows Phone ([0-9.]+)/i),sn(k9,"Android",/Android (\d+(([_.])\d+)?(([_.])\d+)?)/i),sn(k9,"Linux",void 0),sn(k9,"Ubuntu",void 0),sn(k9,"iOS",/(iPad|iPhone|iPod).*?(OS |os |OS_)(\d+(([_.])\d+)?(([_.])\d+)?)/i),sn(k9,"Mac OS X",S9),sn(k9,"Mac OS",S9),sn(k9,"Chrome OS",void 0),k9);function I9(t,n){var i=E9[n];return i?g9(t).match(i):null}function R9(t){return t.split(/[_.]/).map((function(t){return T(t,10)}))}function C9(t){if(function(t){return Boolean(g9(t).match(/Windows/i))}(t)){if(function(t){return w9(t,"Windows 10")}(t))return"Windows 10";if(y9(t))return"Windows Phone";if(function(t){return w9(t,"Windows 8.1")}(t))return"Windows 8.1";if(function(t){return w9(t,"Windows 8")}(t))return"Windows 8";if(function(t){return w9(t,"Windows 7")}(t))return"Windows 7";if(function(t){return w9(t,"Windows Vista")}(t))return"Windows Vista";if(function(t){return w9(t,"Windows Server 2003")}(t))return"Windows Server 2003";if(function(t){return w9(t,"Windows XP")}(t))return"Windows XP"}else{if(p9(t))return"Android";if(_9(t))return"iOS";if(function(t){return w9(t,"Mac OS X")}(t))return"Mac OS X";if(function(t){return w9(t,"Mac OS")}(t))return"Mac OS";if(b9(t))return"Ubuntu";if(function(t){return w9(t,"Chrome OS")}(t))return"Chrome OS";if(function(t){return w9(t,"Linux")&&!b9(t)}(t))return"Linux"}}function N9(t,n){var i=function(t){var n=I9(t,"Windows 10");return n&&n.length>2?R9(n[2]):void 0}(t),r=function(t){var n=I9(t,"Mac OS X");return n&&n.length>2?R9(n[2]):void 0}(t),e=function(t){var n=I9(t,"Android");return n&&n.length>1?R9(n[1]):void 0}(t),u=function(t){var n=I9(t,"iOS");return n&&n.length>3?R9(n[3]):void 0}(t),s=function(t){var n=I9(t,"Chrome OS");return n&&n.length>0?R9(n[0]):void 0}(t);return i?i.length>n?i[n]:void 0:r?r.length>n?r[n]:void 0:e?e.length>n?e[n]:void 0:u?u.length>n?u[n]:void 0:s&&s.length>n?s[n]:void 0}function x9(t){var n=function(t){return N9(t,0)}(t),i=function(t){return N9(t,1)}(t),r=function(t){return N9(t,2)}(t);if(void 0!==n)return void 0===i?""+n:void 0===r?n+"."+i:n+"."+i+"."+r}var D9=(sn(A9={},"Chrome",/Chrome/i),sn(A9,"Chrome Mobile",void 0),sn(A9,"Chrome iOS",/CriOS/i),sn(A9,"Chromium",/Chromium/i),sn(A9,"HeadlessChrome",/HeadlessChrome/i),sn(A9,"Firefox",/Firefox/i),sn(A9,"Seamonkey",/Seamonkey/i),sn(A9,"Firefox iOS",/FxiOS/i),sn(A9,"Safari",/Safari/i),sn(A9,"Edge",/Edge\/\d+/i),sn(A9,"Edge Chromium",/Edg\/\d+/i),sn(A9,"IE",/Trident/i),sn(A9,"Opera",/Opera|OPR/i),sn(A9,"Vivaldi",/Vivaldi/i),sn(A9,"Android Browser",void 0),A9);function P9(t,n){var i=D9[n];return!!i&&Boolean(g9(t).match(i))}function M9(t){return Boolean(g9(t).match(/Mobi/i))}function B9(t){return Boolean(t.chrome&&t.navigator&&t.navigator.vendor&&/google/i.test(t.navigator.vendor))||O9(t)}function O9(t){return P9(t,"Chrome iOS")}function L9(t){return P9(t,"Firefox")&&!V9(t)}function F9(t){return P9(t,"Firefox Mobile")&&!V9(t)&&M9(t)}function V9(t){return P9(t,"Seamonkey")}function U9(t){return P9(t,"Firefox iOS")&&!V9(t)}function W9(t){return P9(t,"Safari")&&!P9(t,"Chrome")&&!Gn.Hv}function j9(t){return Boolean(J9(t))}function Z9(t){return P9(t,"Edge")}function X9(t){return P9(t,"Edge Chromium")}function G9(t){return P9(t,"IE")}function H9(t){return P9(t,"Vivaldi")}var z9,Y9=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,K9=(sn(z9={},"Chrome",Y9),sn(z9,"Chrome Mobile",Y9),sn(z9,"Chrome iOS",/CriOS\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),sn(z9,"Chromium",Y9),sn(z9,"HeadlessChrome",Y9),sn(z9,"Firefox",/Firefox\/([0-9.]+)/i),sn(z9,"Firefox iOS",/FxiOS\/([0-9.]+)/i),sn(z9,"Safari",/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),sn(z9,"Safari Mobile",void 0),sn(z9,"Edge",/Edge\/(\d+)/i),sn(z9,"Edge Chromium",/Edg\/(\d+)/i),sn(z9,"Edge Mobile",void 0),sn(z9,"IE",/(MSIE |Trident.*?rv:)(\d+)/i),sn(z9,"Opera",/(OPR\/(\d+\.\d+))|(Opera(?=.*Version\/((\d+)\.(\d+))))/i),sn(z9,"Opera Mobile",void 0),sn(z9,"Vivaldi",/Vivaldi\/((\d+)\.(\d+)\.(\d+)(?:\.(\d+))?)/i),sn(z9,"Android Browser",void 0),z9);function q9(t,n){var i=K9[n];return i?g9(t).match(i):null}function J9(t){return q9(t,"Opera")}function Q9(t){var n=function(t){return q9(t,"Firefox")}(t);return n?S(n[1]):0}function $9(t){var n=function(t){return q9(t,"Firefox iOS")}(t);return n?S(n[1].split(".")[0]):0}function t8(t){var n=function(t){return q9(t,"Safari")}(t);return n?S(n[2].split(".")[0]):0}function n8(t){var n=function(t){return q9(t,"Edge")}(t);return n?S(n[1]):0}function i8(t){var n=function(t){return q9(t,"Edge Chromium")}(t);return n?S(n[1]):0}function r8(t){var n=function(t){return q9(t,"IE")}(t);return n?S(n[2]):0}function e8(t){var n=function(t){return q9(t,"Vivaldi")}(t);return n?S(n[1]):0}function u8(t){if(p9(t))return B9(t)?"Chrome Mobile":L9(t)||F9(t)?"Firefox Mobile":Z9(t)?"Edge Mobile":j9(t)?"Opera Mobile":"Android Browser";if(_9(t)){if(B9(t)||O9(t))return"Chrome iOS";if(L9(t)||U9(t))return"Firefox iOS";if(Z9(t))return"Edge Mobile";if(W9(t)||function(t){return W9(t)&&M9(t)}(t))return"Safari Mobile";if(j9(t))return"Opera Mobile"}return function(t){return P9(t,"Chromium")}(t)?"Chromium":function(t){return P9(t,"HeadlessChrome")}(t)?"HeadlessChrome":B9(t)?"Chrome":L9(t)?"Firefox":W9(t)?"Safari":Z9(t)?"Edge":X9(t)?"Edge Chromium":G9(t)?"IE":j9(t)?"Opera":H9(t)?"Vivaldi":void 0}function s8(t){return H9(t)?e8(t):O9(t)?Number(function(t){var n=K9["Chrome iOS"];return n&&n.exec(g9(t))||[]}(t)[1]):B9(t)?Number(function(t){var n=K9.Chrome;return n&&n.exec(g9(t))||[]}(t)[1]):L9(t)||F9(t)?Q9(t):U9(t)?$9(t):W9(t)?t8(t):Z9(t)?n8(t):X9(t)?i8(t):G9(t)?r8(t):j9(t)?function(t){var n=J9(t);return n&&n[0].indexOf("Opera")>-1?S(n[5]):n?S(n[2].split(".")[0]):0}(t):void 0}var o8=function(t){return t.bge="pc",t.Age="console",t.Sge="settop",t.Tge="mobile",t.kge="tablet",t.Ege="smarttv",t.xge="searchbot",t}({});function a8(t){var n=g9(t);return n.match(/CrKey|Roku|AFTS|AppleTV|Nexus Player/i)?"settop":n.match(/Xbox|Playstation|Wii|Nintendo/i)?"console":/(iPad|Tablet|(Android(?!.*Mobi))|(Windows(?!.*Phone)(.*Touch))|Kindle|Playbook|Silk|(Puffin(?!.*(IP|AP|WP))))/i.test(n)?"tablet":/Mobi/.test(n)?"mobile":n.match(/GoogleTV|SmartTV|SMART-TV|Internet TV|NetCast|NETTV|boxee|Kylo|DLNADOC|hbbtv|CE-HTML/i)?"smarttv":n.match(/(nuhk|Googlebot|bingbot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/i)?"searchbot":function(t){return Boolean(u8(t))}(t)?"pc":void 0}var c8=function(){function t(t,n){var i=this;this.empClient=t,this.agama=n,this.Pge=function(){var t=qn.dR;switch(t){case"wifi":i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,"wlan");break;case"ethernet":i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,t);break;case"cellular":var n=function(t){switch(t){case"3g":return"mobile/3G";case"4g":return"mobile/4G";default:return}}(qn.lR);n&&i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,n)}}}var n=t.prototype;return n.zz=function(t){this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_ID,t.deviceID||function(){var t=Il.Lb("deviceId");if(t)return t;var n=GS();return Il.Bb("deviceId",n),n}()),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER,"THEOplayer"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER_VERSION,"9.3.1"),this.Rge(t),this.Ige(),this.Cge(t),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_VERSION,"3.0"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_BUILDDATE,"2023-04-17 12:00:00"),t.application&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION,t.application),t.applicationVersion&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION_VERSION,t.applicationVersion),t.userAccountID&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.USER_ACCOUNT_ID,t.userAccountID);var n=t.connectionType;n?this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DATA_CONNECTION_TYPE,n):(this.Pge(),d.connection&&d.connection.addEventListener&&d.connection.addEventListener("change",this.Pge))},n.Rge=function(t){this.Dge(t);var n=t.deviceManufacturer||d9&&d9.manufacturer;n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MANUFACTURER,n);var i=t.deviceModel||d9&&d9.model;i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MODEL,i)},n.Dge=function(t){var n=t.deviceType||function(){var t=a8(self);switch(t){case o8.Age:return"game-console";case o8.Ege:return"tv";case o8.Sge:return"media-streamer";default:return t}}();n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_TYPE,n)},n.Ige=function(){var t=u8(self);t&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER,t);var n=s8(self);void 0!==n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER_VERSION,n.toString())},n.Cge=function(t){var n=t.deviceOs||C9(self);n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS,n);var i=t.deviceOsVersion||x9(self);i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS_VERSION,i.toString())},n.yn=function(){d.connection&&d.connection.removeEventListener&&d.connection.removeEventListener("change",this.Pge)},t}();var h8=function(t){function n(){var n;return(n=t.call(this)||this).mo=!1,n.Oge=!1,n.Lge=f.Agama,n}Rt(n,t);var i=n.prototype;return i.kI=function(t){this.Mge=t,this.Lge&&(this.bX=function(t,n){var i=function(t,n){switch(n){case"info":return t.LogLevel.INFO;case"debug":return t.LogLevel.DEBUG;case"warning":return t.LogLevel.WARNING;case"error":return t.LogLevel.ERROR;default:return t.LogLevel.FATAL}}(n,t.logLevel);n.setLogLevel(i);var r=new n.EMPClient(t.config);return function(t,n){return t.setExternalConfig(n.config),t}(r,t)}(t,this.Lge),this.bX&&(this.Bge=new c8(this.bX,this.Lge),this.mo=!0))},i.Xz=function(){return this.Lge||console.warn("Please load the Agama Library (empclient.min.js) in order to use the integration"),!!this.Lge},i.Gz=function(){return this.mo},i.bz=function(t,n){if(this.bX&&this.Lge)switch(t){case NS.HZ:this.bX.setMeasurement(this.Lge.Measurement.BUFFER_LENGTH,n);break;case NS.ZZ:this.bX.setMeasurement(this.Lge.Measurement.BYTES_RECEIVED,n);break;case NS.zZ:this.bX.setMeasurement(this.Lge.Measurement.SEGMENT_PROFILE_BITRATE,n);break;case NS.qZ:this.bX.setMeasurement(this.Lge.Measurement.VIDEO_PROFILE_BITRATE,n);break;case NS.XZ:this.bX.setMeasurement(this.Lge.Measurement.SEGMENT_READ_BITRATE,n);break;case NS.FZ:this.bX.setMeasurement(this.Lge.Measurement.HTTP_REQUEST_STATUS_CODE_1XX,n);break;case NS.VZ:this.bX.setMeasurement(this.Lge.Measurement.HTTP_REQUEST_STATUS_CODE_2XX,n);break;case NS.WZ:this.bX.setMeasurement(this.Lge.Measurement.HTTP_REQUEST_STATUS_CODE_3XX,n);break;case NS.UZ:this.bX.setMeasurement(this.Lge.Measurement.HTTP_REQUEST_STATUS_CODE_4XX,n);break;case NS.GZ:this.bX.setMeasurement(this.Lge.Measurement.HTTP_REQUEST_STATUS_CODE_5XX,n);break;case NS.KZ:this.bX.setMeasurement(this.Lge.Measurement.PLAYBACK_POSITION,n);break;case NS.jZ:this.bX.setMeasurement(this.Lge.Measurement.NUMBER_OF_FRAMES_DECODED,n);break;case NS.YZ:this.bX.setMeasurement(this.Lge.Measurement.NUMBER_OF_FRAMES_DROPPED,n)}},i.QX=function(t,n){if(this.bX&&this.Lge)switch(t){case xS.eX:this.bX.setSessionMetadata(this.Lge.SessionMetadata.ASSET_DURATION,n);break;case xS.tX:this.bX.setSessionMetadata(this.Lge.SessionMetadata.MANIFEST_URI,n);break;case xS.iX:this.bX.setSessionMetadata(this.Lge.SessionMetadata.NUMBER_OF_CONTENT_PROFILES,n);break;case xS.rX:this.bX.setSessionMetadata(this.Lge.SessionMetadata.SERVICE_NAME,n);break;case xS.sX:this.bX.setSessionMetadata(this.Lge.SessionMetadata.CDN,n);break;case xS.nX:this.bX.setSessionMetadata(this.Lge.SessionMetadata.CONTENT_TITLE,n);break;case xS.oX:this.bX.setSessionMetadata(this.Lge.SessionMetadata.CONTENT_TYPE,n);break;case xS.hX:this.bX.setSessionMetadata(this.Lge.SessionMetadata.CONTENT_DESCRIPTION,n)}},i.zz=function(){this.Bge&&this.Mge&&this.Bge.zz(this.Mge)},i.Zz=function(t,n){this.Lge&&this.bX&&(this.xz(),function(t,n,i,r){var e=HS(t,i,r);n.abrSession(e,t.ViewState.INITIAL_BUFFERING)}(this.Lge,this.bX,t,n),this.Oge=!0)},i.yn=function(){this.Bge&&this.Bge.yn(),this.Fge(DS.aX),this.bX=void 0},i.OX=function(t){this.Vge(t)},i.WX=function(t,n){this.bX&&this.bX.event(t.code,n)},i.xz=function(){this.bX&&this.Oge&&(this.bX.exitSession(),this.Oge=!1)},i.Fge=function(t){if(this.bX&&this.Lge&&(this.xz(),t===DS.aX))this.bX.shutdown(this.Lge.ShutdownType.NORMAL_SHUTDOWN)},i.FX=function(t,n,i){this.Vge(t,n,i)},i.Vge=function(t,n,i){if(this.bX&&this.Lge)switch(t){case CS.UL:this.Wge(this.Lge.ViewState.PLAYING,n,i);break;case CS.LZ:this.Wge(this.Lge.ViewState.FAILED,n,i);break;case CS.BZ:this.Wge(this.Lge.ViewState.INITIAL_BUFFERING,n,i);break;case CS.DZ:this.Wge(this.Lge.ViewState.PAUSED,n,i);break;case CS.NZ:this.Wge(this.Lge.ViewState.SEEK,n,i);break;case CS.MZ:this.Wge(this.Lge.ViewState.STALLED,n,i);break;case CS.OZ:this.Wge(this.Lge.ViewState.NO_ACCESS,n,i)}},i.Wge=function(t,n,i){if(this.bX)if(n){var r=function(t){return t||""}(i);this.bX.viewStateExtended(t,n.code,r)}else this.bX.viewStateChanged(t)},n}(BS);Jk(function(t){return function(n){return function(n){function i(i,r){var e;return(e=n.call(this,i,r)||this).bX=new t,e.Nge=new YS(e,e.bX,r),e}Rt(i,n);var r=i.prototype;return r.RR=function(t,i){this.Nge&&this.Nge.DX(),n.prototype.RR.call(this,t)},r.yn=function(){this.Nge&&this.Nge.yn(),n.prototype.yn.call(this)},i}(n)}}(h8),Yk.Xst),U(),St(),U(),St(),Ct(),U(),St(),U(),St(),Gt(),Dt(),Jt(),U(),St();var f8=function(t){return t.PLAY_ALL="play-all",t.PLAY_NONE="play-none",t.PLAY_LAST="play-last",t}({});U(),St();var v8=function(t){return t.VOD="vod",t.LIVE="live",t}({}),l8=function(){function t(t,n,i,r,e,u,s){var o=this;this.na=t,this.qge=n,this.jge=i,this.Hge=r,this.Uge=e,this.rpe=u,this.Zge=s,this.YG=void 0,this.KG=void 0,this.r8=new Qo,this.Qge=new Qo,this.bpe=void 0,this.Xge=!1,this.S0t=void 0,this.Jge=function(t){var n=t.currentSource;if(n&&n.integrationData){var i=n.integrationData,r=i.preplayResponse,e=i.source;o.Uge.Ape(r),r&&r.type===v8.VOD&&r.ads&&o.Hge.hpe(r.ads),o.qge.Spe=n.integrationData,e.assetInfo&&na(o.fetchAssetInfo(n))}},this.kle=function(){o.Xge=!0},this.Ihe=function(){o.Xge&&o.ape(o.na.xR())},this.Foe=function(){o.Xge&&(o.ape(1/0),o.Xge=!1)},this.Sd=function(){na(o.qge.Sn())},this.tpe=function(t){o.r8.jw(),o.r8=new Qo,na(zo(o.Use(t.sd.UO,o.r8.Uw),o.r8))},this.epe=function(){1!==o.na.QR&&(o.bpe=o.na.QR,o.na.QR=1)},this.ipe=function(){void 0!==o.bpe&&(o.na.QR=o.bpe,o.bpe=void 0)},this.spe=function(t){t.sd.bn("$ge",o.tpe),t.sd.bn("_nt",o.epe),t.sd.bn("fnt",o.ipe)},this.npe=function(t){t.sd.vn("$ge",o.tpe),t.sd.vn("_nt",o.epe),t.sd.vn("fnt",o.ipe)},this.ype=function(){o.na.EI()},this.na.bn(va.xy,this.Jge),this.na.bn(va.ho,this.kle),this.na.bn(va.hb,this.Ihe),this.na.bn(va.Dy,this.Foe),this.na.bn(Iy.FL,this.Sd),this.Hge.YJt.bn("cnt",this.spe),this.Hge.YJt.bn("unt",this.npe)}var n=t.prototype;return n.Gge=function(t){this.YG=cm(t),this.KG=t,this.na._o(new Ik(t))},n.Ca=function(t){this.Hge.resetSource(),this.Zge.Fb(),this.Xge=!1,this.na.zge(t)},n.Rnt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.qge.nr(),i.Xge=!1,t&&function(t){return t.sources.some((function(t){return t.integration===HA.UPLYNK}))}(t)?[3,2]:[4,i.na.Yge(t,n)];case 1:return[2,e.sent()];case 2:return e.trys.push([2,5,,6]),[4,i.jge.qfe(t)];case 3:return i.Kge=e.sent(),[4,i.na.Yge(i.Kge,n)];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),i.Gge(new ol(ul.MANIFEST_LOAD_ERROR,r.message,r)),[3,6];case 6:return[2]}}))}))()},n.yn=function(){this.r8.jw(),this.Qge.jw(),this.na.vn(va.xy,this.Jge),this.na.vn(va.ho,this.kle),this.na.vn(va.hb,this.Ihe),this.na.vn(va.Dy,this.Foe),this.na.vn(Iy.FL,this.Sd);for(var t=0,n=this.Hge.YJt.Zu;t<n.length;t++){var i=n[t];i.vn("$ge",this.tpe),i.vn("_nt",this.epe),i.vn("fnt",this.ipe)}this.Hge.YJt.vn("cnt",this.spe),this.Hge.YJt.vn("unt",this.npe),this.Hge.destroy(),this.S0t&&(this.S0t.Xw(),this.S0t=void 0),this.Xge=!1},n.fetchAssetInfo=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(!t||!t.integrationData)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.rpe.aTt(t.integrationData.source.prefix,t.integrationData.source.id,n.Qge.Uw,t.integrationData.preplayResponse.sid)];case 2:return i=r.sent(),n.Uge.ope(i),n.Zge.hpe(i,n.Hge.YJt.Zu),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))()},n.ape=function(t){this.Hge.upe(t),this.Hge.ent.forEach((function(n){return n.cpe(t)})),this.Hge.lpe(this.na.aI()),this.A0t()},n.RR=function(t){this.Hge.snt||(this.r8.jw(),this.r8=new Qo,na(zo(this.Use(t,this.r8.Uw),this.r8)))},n.Use=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:if(Zo(n),t<i.na.xR())return i.dpe(t),[2];switch(r=[],i.Hge.fpe){case f8.PLAY_ALL:return[3,1];case f8.PLAY_LAST:return[3,3];case f8.PLAY_NONE:return[3,5]}return[3,6];case 1:return r=i.Hge._pe(i.na.xR(),t),[4,i.vpe(t,r,n)];case 2:case 4:return u.sent(),[3,6];case 3:return e=i.Hge._pe(i.na.xR(),t).pop(),r=e?[e]:[],[4,i.vpe(t,r,n)];case 5:return i.mpe(t),[3,6];case 6:return[2]}}))}))()},n.dpe=function(t){var n=mo(this.Hge.YJt.Zu,(function(n){return n._ut.wr(t)}));n?this.na.gpe(n.WO):this.na.gpe(t)},n.mpe=function(t){var n=this.Hge._pe(this.na.xR(),t).pop();n&&n._ut.wr(t)?this.na.gpe(n.UO):this.na.gpe(t)},n.vpe=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:e=0,o.label=1;case 1:return e<n.length?(u=n[e],[4,r.ppe(u,i)]):[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return(s=n[n.length-1])&&s._ut.wr(t)?(r.na.xR()<t&&r.na.gpe(s.UO),[2]):(r.na.gpe(t),[2])}}))}))()},n.ppe=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return t.vn("$ge",i.tpe),r=ut.race([t.py("fnt",n),t.py("$ge",n)]),i.ape(i.na.xR()),t.so||i.na.gpe(t.WO),[4,r];case 1:return e.sent(),t.bn("$ge",i.tpe),[2]}}))}))()},n.A0t=function(){var t=mo(this.Hge.ent,(function(t){return t.wpe.length>0}));if(t){var n=t.wpe[0];this.S0t||(this.S0t=new b$(this.na.we),this.S0t.bn("clickstart",this.ype)),this.S0t.B$t=n}else this.S0t&&(this.S0t.Xw(),this.S0t=void 0)},xt(t,[{key:"wa",get:function(){return this.Uge.wa}},{key:"lt",get:function(){return this.YG}},{key:"MR",get:function(){return this.KG}}]),t}();U(),St(),Gt(),on(),Jt(),U(),St();var d8=Ub({breaksIndex:Db,adsIndex:Db,startTime:Db,endTime:Db}),g8=Ub({index:Db,timeOffset:Db}),m8=Ub({duration:Db,apiFramework:Gb(Pb,Lb),creative:Pb,mimeType:Pb,width:Db,height:Db,companions:zb(function(t){return new qb(t)}((function(){return m8}))),extensions:Gb(Bb,zb(Ob)),fw_parameters:Gb(Bb,Kb(Pb)),events:Kb(zb(Pb))}),w8=Ub({type:Zb(["linear","nonlinear"]),position:Zb(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:Db,duration:Db,ads:zb(m8),events:Kb(zb(Pb))}),p8=Ub({breaks:zb(w8),breakOffsets:Gb(Bb,zb(g8)),placeholderOffsets:Gb(Bb,zb(d8))}),y8=Ub({required:Gb(Bb,Mb),fairplayCertificateURL:Gb(Bb,Pb),widevineLicenseURL:Gb(Bb,Pb),playreadyLicenseURL:Gb(Bb,Pb)}),_8={type:Zb(Wb(v8)),playURL:Pb,prefix:Pb,sid:Pb,drm:Gb(Bb,y8)},b8=Ub(ss({},_8,{type:Zb([v8.VOD]),ads:p8,interstitialURL:Gb(Pb,Lb,Bb)})),k8=Gb(b8,Ub(ss({},_8,{type:Zb([v8.LIVE])})));U(),St();var A8,T8=Pb,S8=Ub({userId:Pb,externalId:Gb(Pb,zb(Pb))}),E8=function(){function t(t){this.fW=t}var n=t.prototype;return n.aTt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){try{return[2,n.Tpe(t)]}catch(t){throw t}return[2]}))}))()},n.Tpe=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return[4,R8(t)];case 1:return i=u.sent(),[4,n.fW.Qk({AE:vd.GET,Xu:i,jk:Dl.Ak})];case 2:return[4,u.sent().Kk()];case 3:return r=u.sent(),e=ss({},r,{type:t.assetType===tE.ASSET?v8.VOD:v8.LIVE}),k8.GU(e)||k8.ZU(e,"PreplayResponse"),[2,e]}}))}))()},t}(),I8=(sn(A8={},tE.ASSET,""),sn(A8,tE.CHANNEL,"channel/"),sn(A8,tE.EVENT,"event/"),A8);function R8(t){return C8.apply(this,arguments)}function C8(){return C8=Zt((function(t){var n,i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return n=t.prefix,i=I8[t.assetType],r=function(t){if(zb(T8).GU(t))return 1===t.length?t[0]:t.join(",")+"/multiple";if(T8.GU(t))return t;if(S8.GU(t)&&Jn(t.externalId))return 1===t.externalId.length?"ext/"+t.userId+"/"+t.externalId[0]:"ext/"+t.userId+"/"+t.externalId.join(",")+"/multiple";if(S8.GU(t))return"ext/"+t.userId+"/"+t.externalId;throw new _("Invalid asset id")}(t.id),[4,N8(t.contentProtected)];case 1:return e=o.sent(),u=function(t,n){var i=D8(t,n);return i?{"ad.cping":"1","ad.pingf":String(i)}:{}}(t.assetType,t.ping),s={},Jn(t.preplayParameters)?t.preplayParameters.forEach((function(t){s[t[0]]=t[1]})):s=t.preplayParameters,[2,_d(n+"/preplay/"+i+r+".json",ss({v:"2"},s,e,u,s))]}}))})),C8.apply(this,arguments)}function N8(t){return x8.apply(this,arguments)}function x8(){return x8=Zt((function(t){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return(n=t)?[4,qn.qp()]:[3,2];case 1:n=e.sent(),e.label=2;case 2:return n?[2,{rmt:"fps",manifest:"m3u8"}]:[3,3];case 3:return(i=t)?[4,qn.Kp()]:[3,5];case 4:i=e.sent(),e.label=5;case 5:return i?[2,{rmt:"wv",manifest:"mpd"}]:[3,6];case 6:return(r=t)?[4,qn.Yp()]:[3,8];case 7:r=e.sent(),e.label=8;case 8:if(r)return[2,{rmt:"pr",manifest:"mpd"}];e.label=9;case 9:return[2,{}]}}))})),x8.apply(this,arguments)}function D8(t,n){var i=t!==tE.ASSET;return(!i&&n.adImpressions?1:0)+(!i&&n.freeWheelVideoViews?2:0)+(i&&n.linearAdData?4:0)}U(),St(),Gt(),Jt(),U(),St();var P8=Ub({ad_id:Pb,apiFramework:Gb(Lb,Pb),companions:zb(Ob),creative:Pb,duration:Db,mimeType:Pb,height:Db,width:Db,extensions:Gb(Bb,zb(Ob)),fw_parameters:Gb(Bb,Kb(Pb))}),M8=Ub({breakId:Pb,ads:zb(P8),type:Zb(["linear","nonlinear"]),position:Zb(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:Db,duration:Db,height:Gb(Bb,Db),width:Gb(Bb,Db),events:Kb(zb(Pb))}),B8=Ub({breaks:zb(M8)}),O8=Ub({next_time:Db,ads:Gb(Bb,B8),extensions:Gb(Bb,zb(Ob)),error:Gb(Bb,Pb),currentBreakEnd:Gb(Bb,Db)}),L8=function(t){return t.fTt="start",t.NZ="seek",t}({}),F8=function(){function t(t){this.fW=t}var n=t.prototype;return n.aTt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){try{return[2,i.Tpe(t,n)]}catch(t){throw t}return[2]}))}))()},n.Tpe=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return r=function(t){var n={v:"3",pt:String(t.currentTime)};(function(t){return void 0!==t.seekTime})(t)&&t.hasFreeWheelVideoViews&&(n.ft=String(t.seekTime));t.event&&(n.ev=t.event);return _d(t.zonePrefix+"/session/ping/"+t.sessionId+".json",ss({},n))}(t),[4,i.fW.Qk({AE:vd.GET,Xu:r,jk:Dl.Ak,Uw:n})];case 1:return[4,u.sent().Kk()];case 2:return e=u.sent(),O8.GU(e)||O8.ZU(e,"PingResponse"),[2,e]}}))}))()},t}();U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt(),Ct();var V8=function(t){function n(n){var i;return(i=t.call(this,"kpe")||this).qE=n,i}return Rt(n,t),n.prototype.ka=function(){return new U8(this.qE)},xt(n,[{key:"zE",get:function(){return this.qE}}]),n}(_g),U8=function(t){function n(n){var i;return(i=t.call(this,"pingresponse")||this).response=n,i}return Rt(n,t),n}(fa);U(),St(),Dt(),Ct();var W8=function(t){function n(n){var i;return(i=t.call(this,"Epe")||this).YG=n,i}return Rt(n,t),n.prototype.ka=function(){return new j8(this.YG)},xt(n,[{key:"lt",get:function(){return this.YG}}]),n}(_g),j8=function(t){function n(n){var i;return(i=t.call(this,"pingerror")||this).error=n,i}return Rt(n,t),n}(fa),Z8=function(t){function n(n,i){var r,e;return r=t.call(this)||this,e=r,r.Lpe=n,r.na=i,r.Ipe=NaN,r.Mpe=void 0,r.Bpe=!1,r.Ope=NaN,r.GT=new Qo,r.Npe=void 0,r.Ppe=Zt((function(){var t;return Ht(this,(function(n){switch(n.label){case 0:return t=e.na.xR(),e.Ope=t,e.Bpe||Kn(e.Mpe)||E(e.Ipe)?[2]:e.Ipe+e.Mpe<=t?(e.Bpe=!0,[4,e.Cpe()]):[3,2];case 1:n.sent(),e.Bpe=!1,n.label=2;case 2:return[2]}}))})),r.Dpe=function(){if(r.na.xR()!==r.Ipe){r.Bpe&&r.Fpe(),r.Ope=r.na.xR();var t=r.Ope-(r.Ipe||0);E(t)?na(r.Cpe(L8.NZ,0)):na(r.Cpe(L8.NZ,t))}},r}Rt(n,t);var i=n.prototype;return i.Sn=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return(n=t.xpe)?(i=D8(n.source.assetType,n.source.ping),0!==i?(t.Ipe=t.na.aI().start(0),[4,t.Cpe(L8.fTt)]):[2]):[2];case 1:return r.sent(),t.na.bn("timeupdate",t.Ppe),t.na.bn("seeking",t.Dpe),[2]}}))}))()},i.Cpe=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(r=i.xpe.preplayResponse,e={},E(i.Ipe))return[2];if(Yn(i.Npe)&&vr(i.Npe,i.na.xR()-i.Ipe))return[2];void 0!==n&&(e.seekTime=n),void 0!==t&&(e.event=t),u=i.na.xR()-i.Ipe,t===L8.fTt?u=0:t!==L8.NZ&&i.Mpe&&(u=A.min(u,i.Mpe)),i.Npe=u,h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,i.Lpe.aTt(ss({zonePrefix:r.prefix,sessionId:r.sid,currentTime:u,hasFreeWheelVideoViews:null==(o=i.xpe)?void 0:o.source.ping.freeWheelVideoViews},e),i.GT.Uw)];case 2:return a=h.sent(),i._o(new V8(a)),i.Mpe=-1!==a.next_time?a.next_time:void 0,s=a.error,[3,5];case 3:return jo(c=h.sent())||(s=c.message),[3,5];case 4:return s&&i._o(new W8(s)),[7];case 5:return[2]}}))}))()},i.nr=function(){this.Mpe=void 0,this.xpe=void 0,this.Ipe=NaN,this.Bpe=!1,this.Ope=NaN,this.Npe=void 0,this.na.vn("seeking",this.Dpe),this.na.vn("timeupdate",this.Ppe),this.Fpe()},i.Fpe=function(){this.GT.jw(),this.GT=new Qo},i.yn=function(){this.nr()},xt(n,[{key:"Spe",set:function(t){this.xpe=t}},{key:"Rpe",get:function(){return this.Ipe}}]),n}(aa);U(),St(),Gt(),Jt();var X8=function(){function t(t,n){this.Vpe=t,this.xQ=n}return t.prototype.qfe=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:i=[],r=0,e=t.sources,a.label=1;case 1:return r<e.length?rT(u=e[r])?[3,2]:(i.push(u),[3,5]):[3,6];case 2:return a.trys.push([2,4,,5]),[4,n.Vpe.aTt(u)];case 3:return s=a.sent(),o=function(t,n,i){var r,e=t.preplayResponse;t.source.contentProtected&&e.drm&&(r={integration:"uplynk"},e.drm.fairplayCertificateURL&&(r.fairplay={certificateURL:e.drm.fairplayCertificateURL}),e.drm.widevineLicenseURL&&(r.widevine={licenseAcquisitionURL:e.drm.widevineLicenseURL}),e.drm.playreadyLicenseURL&&(r.playready={licenseAcquisitionURL:e.drm.playreadyLicenseURL}));var u=AA({src:e.playURL,contentProtection:r,useNativePlayback:t.source.useNativePlayback,hls:t.source.hls,dash:t.source.dash,seamlessSwitchStrategy:t.source.seamlessSwitchStrategy},n,i);return u.integrationData=t,u}({source:u,preplayResponse:s},t,n.xQ),o.src&&(o.src=_d(o.src,u.playbackUrlParameters)),i.push(o),[3,5];case 4:return a.sent(),[3,5];case 5:return r++,[3,1];case 6:if(0!==t.sources.length&&0===i.length)throw new y("Fatal: unable to play UplynkSources.");return[2,ss({},t,{sources:i})]}}))}))()},t}();U(),St(),Dt(),U(),St(),Dt(),Ct(),U(),St(),Ct();var G8=function(t){function n(n,i){var r;return(r=t.call(this,"_nt")||this).sd=n,r.oV=i,r}return Rt(n,t),n.prototype.ka=function(){return new H8(this.sd.wa)},n}(_g),H8=function(t){function n(n){var i;return(i=t.call(this,"adbreakbegin")||this).adBreak=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var z8=function(t){function n(n,i){var r;return(r=t.call(this,"fnt")||this).sd=n,r.oV=i,r}return Rt(n,t),n.prototype.ka=function(){return new Y8(this.sd.wa)},n}(_g),Y8=function(t){function n(n){var i;return(i=t.call(this,"adbreakend")||this).adBreak=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var K8=function(t){function n(n){var i;return(i=t.call(this,"$ge")||this).sd=n,i}return Rt(n,t),n.prototype.ka=function(){return new q8(this.sd.wa)},n}(_g),q8=function(t){function n(n){var i;return(i=t.call(this,"adbreakskip")||this).adBreak=n,i}return Rt(n,t),n}(fa);U(),St(),U(),St(),Ct();var J8=function(t){function n(n){var i;return(i=t.call(this,"Q2t")||this).sd=n,i}return Rt(n,t),n.prototype.ka=function(){return new Q8(this.sd.wa)},n}(_g),Q8=function(t){function n(n){var i;return(i=t.call(this,"updateadbreak")||this).adBreak=n,i}return Rt(n,t),n}(fa),$8=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).jO=n,s.MA=i,s.Oc=r,s.C_e=e,s.eo=!1,s.Gpe=!1,s.RKt=u,s}Rt(n,t);var i=n.prototype;return i.Wpe=function(t){this.MA=t-this.WO;for(var n=0,i=this.zc.Zu;n<i.length;n++){var r=i[n];r.WO>t&&this.zc.eT(r)}this._o(new J8(this))},i.Bct=function(t){return t>=this.WO&&(Kn(this.ct)||t<=this.WO+this.ct)},i.Hpe=function(t){return-1!==this.xKt&&(!!Yn(this.UO)&&t-this.WO>=this.xKt)},i.MD=function(){this.Oc.Zu.forEach((function(t){return t.MD()})),this._o(new K8(this))},i.Zpe=function(t){var n=Yn(this.UO)&&t>=this.UO,i=this.WO<=t&&!n&&!this.so,r=this.so&&this.UO&&t>=this.UO;i&&(this.eo=!0,this._o(new G8(this,this.WO))),this.Oc.Zu.forEach((function(n){return n.Zpe(t)})),r&&(this.Gpe=!0,this.eo=!1,this._o(new z8(this,this.UO)))},xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get startTime(){return t.WO},get endTime(){return t.UO},get duration(){return t.ct},get ads(){return t.zc.wa},get skipOffset(){return t.xKt},set skipOffset(n){t.xKt=n},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new mR(t,i),i}(this)),this.eu}},{key:"WO",get:function(){return this.jO}},{key:"UO",get:function(){return this.MA?this.jO+this.MA:void 0}},{key:"ct",get:function(){return this.MA}},{key:"_ut",get:function(){var t=this.UO;return Yn(t)?new BA([this.WO,t]):BA.pB()}},{key:"zc",get:function(){return this.Oc}},{key:"Upe",get:function(){return this.Gpe}},{key:"so",get:function(){return this.eo}},{key:"xKt",get:function(){return this.C_e?-1:this.RKt},set:function(t){this.C_e||(this.RKt=t)}}]),n}(ha);U(),St(),Dt(),Ct(),U(),St(),Ct();var t7=function(t){function n(n,i){var r;return(r=t.call(this,"vnt")||this).lnt=n,r.oV=i,r}return Rt(n,t),n.prototype.ka=function(){return new n7(this.lnt.wa)},n}(_g),n7=function(t){function n(n){var i;return(i=t.call(this,"adbegin")||this).ad=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var i7=function(t){function n(n,i){var r;return(r=t.call(this,"mnt")||this).lnt=n,r.oV=i,r}return Rt(n,t),n.prototype.ka=function(){return new r7(this.lnt.wa)},n}(_g),r7=function(t){function n(n){var i;return(i=t.call(this,"adend")||this).ad=n,i}return Rt(n,t),n}(fa);U(),St(),Ct(),U(),St(),Ct();var e7=function(t){function n(n){var i;return(i=t.call(this,"Xpe")||this).lnt=n,i}return Rt(n,t),n.prototype.ka=function(){return new u7(this.lnt.wa)},n}(_g),u7=function(t){function n(n){var i;return(i=t.call(this,"removead")||this).ad=n,i}return Rt(n,t),n}(fa),s7=function(t){function n(){return t.call(this)||this}Rt(n,t);var i=n.prototype;return i.Yte=function(t){},i.Jte=function(t){this._o(new e7(t))},n}(M1);U(),St(),Ct();var o7=function(t){function n(n){var i;return(i=t.call(this,"$2t")||this).lnt=n,i}return Rt(n,t),n.prototype.ka=function(){return new a7(this.lnt.wa)},n}(_g),a7=function(t){function n(n){var i;return(i=t.call(this,"adfirstquartile")||this).ad=n,i}return Rt(n,t),n}(fa),c7=function(t){function n(n){var i;return(i=t.call(this,"t3t")||this).lnt=n,i}return Rt(n,t),n.prototype.ka=function(){return new h7(this.lnt.wa)},n}(_g),h7=function(t){function n(n){var i;return(i=t.call(this,"admidpoint")||this).ad=n,i}return Rt(n,t),n}(fa),f7=function(t){function n(n){var i;return(i=t.call(this,"e3t")||this).lnt=n,i}return Rt(n,t),n.prototype.ka=function(){return new v7(this.lnt.wa)},n}(_g),v7=function(t){function n(n){var i;return(i=t.call(this,"adthirdquartile")||this).ad=n,i}return Rt(n,t),n}(fa),l7=function(t){function n(n){var i;return(i=t.call(this,"zpe")||this).lnt=n,i}return Rt(n,t),n.prototype.ka=function(){return new d7(this.lnt.wa)},n}(_g),d7=function(t){function n(n){var i;return(i=t.call(this,"adcomplete")||this).ad=n,i}return Rt(n,t),n}(fa);U(),St();var g7=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v){var l;return void 0===c&&(c=[]),void 0===h&&(h={}),void 0===f&&(f={}),(l=t.call(this)||this).jO=n,l.MA=i,l.UYt=r,l.Jpe=e,l.dY=u,l.YA=s,l.KA=o,l.$pe=c,l.twe=h,l.Kf=f,l.mKt=v,l.PYt=new s7,l.eo=!1,l.iwe=!1,l.nwe=!1,l.rwe=!1,l.owe=!1,l.hwe=function(){return l.cpe(l.jO)},l.awe=function(){return l.cpe(l.UO)},l.PYt.Kte(a),l.bn("vnt",l.hwe),l.bn("mnt",l.awe),l}Rt(n,t);var i=n.prototype;return i.Zpe=function(t){var n=this.WO<=t&&t<this.UO,i=n&&!this.so,r=!n&&this.so;i&&(this.iwe=!1,this.nwe=!1,this.rwe=!1,this.owe=!1,this.eo=!0,this._o(new t7(this,this.WO))),r&&(this.eo=!1,this._o(new i7(this,this.UO)))},i.cpe=function(t){var n=(t-this.WO)/this.ct;!this.iwe&&n>=.25&&(this.iwe=!0,this._o(new o7(this))),!this.nwe&&n>=.5&&(this.nwe=!0,this._o(new c7(this))),!this.rwe&&n>=.75&&(this.rwe=!0,this._o(new f7(this))),!this.owe&&n>=.9999&&(this.owe=!0,this._o(new l7(this)))},i.MD=function(){this.iwe=!0,this.nwe=!0,this.rwe=!0,this.owe=!0},i.yn=function(){this.vn("vnt",this.hwe),this.vn("mnt",this.awe)},n.qpe=function(t,i){return new n(t,i.duration,i.apiFramework||"",i.creative,i.mimeType,i.width,i.height,i.companions.map((function(i){return n.qpe(t,i)})),i.extensions,i.fw_parameters,i.events,void 0)},n.Ype=function(t,i){return new n(t,i.duration,i.apiFramework||"",i.creative,i.mimeType,i.width,i.height,i.companions.map((function(i){return n.Ype(t,i)})),i.extensions,i.fw_parameters,void 0,i.ad_id)},xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get apiFramework(){return t.WYt},get companions(){return t.CYt.wa},get creative(){return t.Kpe},get duration(){return t.ct},get endTime(){return t.UO},get events(){return t.Qq},get extensions(){return t.jpe},get freeWheelParameters(){return t.Qpe},get height(){return t.Ti},get mimeType(){return t.jq},get startTime(){return t.WO},get width(){return t.ji},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new mR(t,i),i}(this)),this.eu}},{key:"WO",get:function(){return this.jO}},{key:"UO",get:function(){return this.jO+this.MA}},{key:"ct",get:function(){return this.MA}},{key:"WYt",get:function(){return this.UYt}},{key:"Kpe",get:function(){return this.Jpe}},{key:"jq",get:function(){return this.dY}},{key:"ji",get:function(){return this.YA}},{key:"Ti",get:function(){return this.KA}},{key:"Qq",get:function(){return this.Kf}},{key:"CYt",get:function(){return this.PYt}},{key:"jpe",get:function(){return this.$pe}},{key:"Qpe",get:function(){return this.twe}},{key:"so",get:function(){return this.eo}},{key:"wpe",get:function(){var t;return null!=(t=this.Kf.clickthroughs)?t:[]}}]),n}(ha);U(),St(),Ct(),U(),St(),Ct();var m7=function(t){function n(n){var i;return(i=t.call(this,"cnt")||this).sd=n,i}return Rt(n,t),n.prototype.ka=function(){return new w7(this.sd.wa)},n}(_g),w7=function(t){function n(n){var i;return(i=t.call(this,"addadbreak")||this).adBreak=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var p7=function(t){function n(n){var i;return(i=t.call(this,"unt")||this).sd=n,i}return Rt(n,t),n.prototype.ka=function(){return new y7(this.sd.wa)},n}(_g),y7=function(t){function n(n){var i;return(i=t.call(this,"removeadbreak")||this).adBreak=n,i}return Rt(n,t),n}(fa),_7=function(t){function n(){return t.call(this)||this}Rt(n,t);var i=n.prototype;return i.Yte=function(t){this._o(new m7(t))},i.Jte=function(t){this._o(new p7(t))},n}(M1),b7=function(){function t(t,n,i,r){var e,u=this;this.dwe=[],this.gwe=void 0,this.wwe=function(t){return u.gwe=t,u},this.mwe=function(t){t.zE.ads&&u.hpe(t.zE.ads),t.zE.currentBreakEnd&&u.fwe(t.zE.currentBreakEnd)},this.vwe=function(t){if(0!==u.dwe.length&&0!==u.na.aI().length)for(var n=u.na.aI().end(u.na.aI().length-1),i=0,r=u.dwe.slice();i<r.length;i++){var e=r[i];Yn(e.yYt.ct)?bo(u.dwe,e):e.ZRt<n&&(e.yYt.Wpe(e.ZRt),bo(u.dwe,e))}},this._d=function(t){var n,i=null==(n=u.gwe)?void 0:n.createAdBreak({timeOffset:t.sd.WO,maxDuration:t.sd.ct,customData:t.sd});t.sd.bn("$ge",u.ywe);for(var r=0,e=t.sd.zc.Zu;r<e.length;r++){var s,o,a=e[r],c={type:"linear",timeOffset:a.WO,duration:a.ct,creativeId:a.Kpe,skipOffset:t.sd.xKt,clickThrough:null==(s=a.wpe)?void 0:s[0],customData:a};null==(o=u.gwe)||o.createAd(c,i),a.bn("vnt",u.D9t),a.bn("mnt",u.bwe),a.bn("$2t",u.Awe),a.bn("t3t",u.Swe),a.bn("e3t",u.Twe),a.bn("zpe",u.Fme)}},this.ywe=function(t){for(var n=0,i=t.sd.zc.Zu;n<i.length;n++){var r,e,s=i[n],o=u.pwe(s);if(o)null==(r=u.gwe)||r.beginAd(o),null==(e=u.gwe)||e.skipAd(o)}},this.xd=function(t){for(var n=0,i=t.sd.zc.Zu;n<i.length;n++){i[n].Ro()}t.sd.Ro()},this.D9t=function(t){var n,i=u.pwe(t.lnt);i&&(null==(n=u.gwe)||n.beginAd(i))},this.bwe=function(t){var n,i=u.pwe(t.lnt);i&&(null==(n=u.gwe)||n.endAd(i))},this.Awe=function(t){var n,i=u.pwe(t.lnt);i&&(null==(n=u.gwe)||n.updateAdProgress(i,.25))},this.Swe=function(t){var n,i=u.pwe(t.lnt);i&&(null==(n=u.gwe)||n.updateAdProgress(i,.5))},this.Twe=function(t){var n,i=u.pwe(t.lnt);i&&(null==(n=u.gwe)||n.updateAdProgress(i,.75))},this.Fme=function(t){var n,i=u.pwe(t.lnt);i&&(null==(n=u.gwe)||n.updateAdProgress(i,1))},this.na=t,this.qge=n,this.w$t=new _7,this.w$t.bn("cnt",this._d),this.w$t.bn("unt",this.xd),this.lwe=i,this.cwe=r,t.bn("timeupdate",this.vwe),this.qge.bn("kpe",this.mwe),null==(e=this.na.zc)||e.ont(IS.UPLYNK,this.wwe)}var n=t.prototype;return n.lpe=function(t){if(0!==t.length)for(var n=BA.Cn(t),i=0,r=this.w$t.Zu.slice();i<r.length;i++){var e=r[i];Yn(e.UO)&&n.Sn(0)>e.UO&&this.w$t.eT(e)}},n.hpe=function(t){for(var n=!function(t){return Yn(t.breakOffsets)}(t),i=n?this.qge.Rpe:0,r=0,e=t.breaks;r<e.length;r++){var u=e[r];if(0!==u.ads.length){for(var s=u.timeOffset+i,o=new s7,a=0,c=0,h=u.ads;c<h.length;c++){var f=h[c],v=n?g7.Ype(s,f):g7.qpe(s,f);o.kO(v),s+=v.ct,a+=v.ct}var l=u.timeOffset+i,d=n?void 0:u.duration,g=new $8(l,d,o,n,this.lwe);n&&this.dwe.push({yYt:g,ZRt:l+a}),this.w$t.kO(g)}}},n.fwe=function(t){var n=this.uwe;n&&n.Wpe(t+this.qge.Rpe)},n.upe=function(t){this._we=t,this.w$t.Zu.forEach((function(n){return n.Zpe(t)}))},n.MD=function(){var t=this._we,n=this.snt;t&&n&&n.Hpe(t)&&n.MD()},n.skipAd=function(t){this.MD()},n._pe=function(t,n){for(var i=[],r=0,e=this.YJt.Zu;r<e.length;r++){var u=e[r];!u.Upe&&u.WO>=t&&u.WO<n&&i.push(u)}return i},n.destroy=function(){this.na.vn("timeupdate",this.vwe),this.qge.vn("kpe",this.mwe)},n.resetSource=function(){for(var t,n=0,i=this.YJt.Zu;n<i.length;n++){for(var r=i[n],e=0,u=r.zc.Zu;e<u.length;e++){u[e].Ro()}r.Ro()}this.YJt.Fb(),null==(t=this.gwe)||t.removeAllAds(),this._we=void 0,this.dwe=[]},n.pwe=function(t){return mo(this.gwe.ads,(function(n){return n.creativeId===t.Kpe}))},xt(t,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{get adBreaks(){return t.YJt.wa},get currentAdBreak(){if(t.snt)return t.snt.wa},get currentAds(){return t.snt?t.snt.zc.wa:(new s7).wa},skip:function(){t.MD()}}}(this)),this.eu}},{key:"YJt",get:function(){return this.w$t}},{key:"snt",get:function(){return mo(this.w$t.Zu,(function(t){return t.so}))}},{key:"ent",get:function(){return this.snt?this.snt.zc.Zu.filter((function(t){return t.so})):[]}},{key:"uwe",get:function(){if(0!==this.YJt.V&&0!==this.na.aI().length){var t=this.na.aI().end(this.na.aI().length-1);return mo(this.YJt.Zu,(function(n){return n.Bct(t)}))}}},{key:"fpe",get:function(){return this.cwe}}]),t}();U(),St(),Gt(),Jt(),U(),St(),U(),St(),Dt();var k7=function(t){return t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.G=1]="G",t[t.PG=2]="PG",t[t.PG_13=3]="PG_13",t[t.R=4]="R",t[t.NC_17=5]="NC_17",t[t.X=6]="X",t[t.NOT_RATED=7]="NOT_RATED",t}({}),A7=function(t){return t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.TV_Y=1]="TV_Y",t[t.TV_Y7=2]="TV_Y7",t[t.TV_G=3]="TV_G",t[t.TV_PG=4]="TV_PG",t[t.TV_14=5]="TV_14",t[t.TV_MA=6]="TV_MA",t[t.NOT_RATED=7]="NOT_RATED",t}({}),T7=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b,k,A,T){this.WO=t,this.UO=n,this.ct=i,this.xwe=r,this.Rwe=e,this.lt=u,this.Iwe=s,this.Cwe=o,this.Pwe=a,this.Dwe=c,this.Nwe=h,this.Mwe=f,this.qV=v,this.Lwe=l,this.Bwe=d,this.Owe=g,this.Fwe=m,this.VN=w,this.Vwe=p,this.Wwe=y,this.Uwe=_,this.Gwe=b,this.Hwe=k,this.Zwe=A,this.Xwe=T}return t.kwe=function(n,i,r){var e=new ja(n.rating_flags);return new t(i,r,n.duration,Boolean(n.audio_only),n.boundary_details,Boolean(n.error),n.tv_rating,n.max_slice,n.thumb_prefix,n.slice_dur,n.movie_rating,n.owner,n.meta,n.rates,n.thumbs,n.poster_url,n.default_poster_url,n.desc,e.Cb(1),e.Cb(2),e.Cb(4),e.Cb(8),n.external_id,Boolean(n.is_ad),n.asset)},xt(t,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){return{startTime:t.WO,endTime:t.UO,duration:t.ct,audioOnly:t.xwe,boundaryDetails:t.Rwe,error:t.lt,tvRating:t.Iwe,maxSlice:t.Cwe,thumbPrefix:t.Pwe,sliceDuration:t.Dwe,movieRating:t.Nwe,ownerId:t.Mwe,metadata:t.qV,rates:t.Lwe,thumbnailResolutions:t.Bwe,posterUrl:t.Owe,defaultPosterUrl:t.Fwe,description:t.VN,hasAdultLanguage:t.Vwe,hasSexualSituations:t.Wwe,hasViolence:t.Uwe,hasDrugSituations:t.Gwe,externalId:t.Hwe,isAd:t.Zwe,assetId:t.Xwe}}(this)),this.eu}}]),t}();var S7=Ub({duration:Db,offset:Db}),E7=Ub({c3:S7}),I7=Ub({c7:S7}),R7=Ub({halftime:S7}),C7=Zb(Wb(A7)),N7=Zb(Wb(k7)),x7=Ub({width:Gb(Bb,Db),prefix:Pb,bw:Db,bh:Db,height:Gb(Bb,Db)}),D7=Ub({audio_only:Db,boundary_details:Gb(Bb,zb(Gb(E7,I7,R7))),error:Db,tv_rating:C7,max_slice:Db,thumb_prefix:Pb,slice_dur:Db,movie_rating:N7,owner:Pb,meta:Ob,rates:zb(Db),thumbs:zb(x7),poster_url:Pb,duration:Db,default_poster_url:Pb,desc:Pb,rating_flags:Db,external_id:Pb,is_ad:Db,asset:Pb}),P7=function(){function t(t){this.fW=t}var n=t.prototype;return n.aTt=function(t,n,i,r){var e=this;return Zt((function(){var u,s;return Ht(this,(function(o){switch(o.label){case 0:return u=function(t,n,i){if(T8.GU(n))return[M7(t,n,i)];if(zb(T8).GU(n))return n.map((function(n){return M7(t,n,i)}));if(S8.GU(n)){return(Jn(n.externalId)?n.externalId:[n.externalId]).map((function(r){return M7(t,"ext/"+n.userId+"/"+r,i)}))}throw new _("Invalid asset id")}(t,n,r),s=u.map((function(t){return IT((function(){return e.Tpe(t)}),i)})),[4,ut.all(s)];case 1:return[2,o.sent().filter(Yn)]}}))}))()},n.Tpe=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.fW.Qk({AE:vd.GET,Xu:t,jk:Dl.Ak})];case 1:return[4,r.sent().Kk()];case 2:return i=r.sent(),D7.GU(i)||D7.ZU(i,"AssetInfoResponse"),[2,i]}}))}))()},t}();function M7(t,n,i){return i?t+"/player/assetinfo/"+n+".json?pbs="+i:t+"/player/assetinfo/"+n+".json"}U(),St(),Ct(),U(),St(),Ct();var B7=function(t){function n(n){var i;return(i=t.call(this,"zwe")||this).ld=n,i}return Rt(n,t),n.prototype.ka=function(){return new O7(this.ld.wa)},n}(_g),O7=function(t){function n(n){var i;return(i=t.call(this,"removeasset")||this).asset=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var L7=function(t){function n(n){var i;return(i=t.call(this,"qwe")||this).ld=n,i}return Rt(n,t),n.prototype.ka=function(){return new F7(this.ld.wa)},n}(_g),F7=function(t){function n(n){var i;return(i=t.call(this,"addasset")||this).asset=n,i}return Rt(n,t),n}(fa),V7=function(t){function n(){return t.call(this)||this}Rt(n,t);var i=n.prototype;return i.hpe=function(t,n){for(var i,r=0,e=0;e<t.length;e++){var u=t[e];i=r+u.duration;for(var s=0;s<n.length;s++){var o=n[s];r<=o.WO&&o.WO<i&&(i+=o.ct||0)}this.kO(T7.kwe(u,r,i)),r=i}},i.Yte=function(t){this._o(new L7(t))},i.Jte=function(t){this._o(new B7(t))},n}(M1);U(),St(),Dt(),Ct(),U(),St(),Ct();var U7=function(t){function n(n){var i;return(i=t.call(this,"Ywe")||this).zE=n,i}return Rt(n,t),n.prototype.ka=function(){return new W7(this.zE)},n}(_g),W7=function(t){function n(n){var i;return(i=t.call(this,"preplayresponse")||this).response=n,i}return Rt(n,t),n}(fa);U(),St(),Ct();var j7=function(t){function n(n){var i;return(i=t.call(this,"Kwe")||this).zE=n,i}return Rt(n,t),n.prototype.ka=function(){return new Z7(this.zE)},n}(_g),Z7=function(t){function n(n){var i;return(i=t.call(this,"assetinforesponse")||this).response=n,i}return Rt(n,t),n}(fa),X7=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Hge=n,e.Zge=i,e.qge=r,r.bn("kpe",e.Ds),r.bn("Epe",e.Ds),e}Rt(n,t);var i=n.prototype;return i.Ape=function(t){t&&this._o(new U7(Bg(t)))},i.ope=function(t){var n=this;t.forEach((function(t){return n._o(new j7(t))}))},i.ka=function(){var t,n=this,i={get ads(){return n.Hge.wa},get assets(){return n.Zge.wa},addEventListener:function(n,i){t.bn(n,i)},removeEventListener:function(n,i){t.vn(n,i)}};return t=new mR(n,i),i},xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=this.ka()),this.eu}}]),n}(ha),G7=function(){function t(){}return t.prototype.jwe=function(t,n){var i=new E8(t.fR),r=new F8(t.fR),e=function(t){if(t.uplynk&&Yn(t.uplynk.defaultSkipOffset))return function(t){return ui(t)?t:-1}(t.uplynk.defaultSkipOffset);return-1}(n),u=function(t){var n,i,r=null!=(i=null==(n=t.uplynk)?void 0:n.onSeekOverAd)?i:void 0;return function(t){if(!t)return"play-none";switch(t.toLowerCase()){case"play-all":return"play-all";case"play-none":default:return"play-none";case"play-last":return"play-last"}}(r)}(n),s=new Z8(r,t),o=new X8(i,n),a=new b7(t,s,e,u),c=new P7(t.fR),h=new V7,f=new X7(a,h,s);return new l8(t,s,o,a,f,c,h)},t}();Jk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Qwe=(new G7).jwe(r,i),r}Rt(n,t);var i=n.prototype;return i.zge=function(n){t.prototype.Ca.call(this,n)},i.Yge=function(n,i){return t.prototype.Rnt.call(this,n,i)},i.gpe=function(n){t.prototype.RR.call(this,n)},i.NR=function(){var n;return null!=(n=this.Qwe.lt)?n:t.prototype.NR.call(this)},i.LR=function(){var n;return null!=(n=this.Qwe.MR)?n:t.prototype.LR.call(this)},i.RR=function(t,n){this.Qwe.RR(t)},i.Ca=function(t){this.Qwe.Ca(t)},i.Rnt=function(t,n){return this.Qwe.Rnt(t,n)},i.ka=function(){var n=this.Qwe.wa;return Mg(t.prototype.ka.call(this),{get uplynk(){return n}})},i.yn=function(){this.Qwe.yn(),t.prototype.yn.call(this)},n}(t)}),Yk.Gst),U(),St(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Jt(),U(),St();var H7=function(t){return t.CREATIVE_VIEW="creativeView",t.START="start",t.FIRST_QUARTILE="firstQuartile",t.MID_POINT="midpoint",t.THIRD_QUARTILE="thirdQuartile",t.COMPLETE="complete",t.MUTE="mute",t.UNMUTE="unmute",t.PAUSE="pause",t.REWIND="rewind",t.RESUME="resume",t.FULL_SCREEN="fullscreen",t.EXIT_FULL_SCREEN="exitFullscreen",t.EXPAND="expand",t.COLLAPSE="collapse",t.ACCEPT_INVITATION_LINEAR="acceptInvitationLinear",t.ACCEPT_INVITATION="acceptInvitation",t.CLOSE_LINEAR="closeLinear",t.CLOSE="close",t.SKIP="skip",t.SKIP_SHOWN="skipShown",t.PROGRESS="progress",t.ENGAGED_VIEW="engagedView",t.IMPRESSION="impression",t.ERROR="error",t}({});U(),St(),Dt(),Ct();var z7=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i)||this).YYt=e,u.jO=r,u}return Rt(n,t),n.prototype.ka=function(){return o0(this)},xt(n,[{key:"aQt",get:function(){return l$.v$t}},{key:"WO",get:function(){return this.jO}},{key:"cYt",get:function(){return this.YYt}}]),n}(s0);U(),St(),Dt(),Ct();var Y7=function(t){function n(n,i,r){var e;if((e=t.call(this,i)||this).S2t=n,e.T2t=n,r){var u=new Date(r);pr(u)&&(e.Jwe=u)}return e}return Rt(n,t),xt(n,[{key:"cOt",get:function(){return this.Jwe}},{key:"aQt",get:function(){return l$.v$t}}]),n}(i0),K7=function(){function t(t,n,i){var r=this;this._ye=-1/0,this.iye=void 0,this.nye=0,this.aye=[],this.Qme=!1,this.aK=!1,this.dge=-1,this.cye=void 0,this.oye=void 0,this.fye=0,this.XB=function(){r.rye()},this.czt=function(){r.Tye(H7.RESUME)},this.sMt=function(){r.pye(),r.Tye(H7.PAUSE)},this.Ge=function(){r.pye(),r.dge=-1},this.Ah=function(){r.pye()},this.pd=function(){-1===r.dge&&(r.dge=r.sye()),r.wye(),r.yye(),r.dge=r.sye()},this.i1t=function(){if(r.Qme!==r.na.ZR){r.Qme=r.na.ZR;var t=r.Qme?H7.MUTE:H7.UNMUTE;r.Tye(t)}},this.$we=function(){if(r.aK!==r.na.cs()){r.aK=r.na.cs();var t=r.aK?H7.FULL_SCREEN:H7.EXIT_FULL_SCREEN;r.Tye(t)}},this.X6=function(t){jo(t)||(r.Tye(H7.ERROR),na(r.dye()))},this.Aye=[H7.START,H7.FIRST_QUARTILE,H7.MID_POINT,H7.THIRD_QUARTILE,H7.COMPLETE,H7.IMPRESSION,H7.CREATIVE_VIEW],this.na=t,this.gye=n,this.mye=i,this.wC()}var n=t.prototype;return n.wC=function(){this.na.bn(Iy.UL,this.XB),this.na.bn(va.zy,this.sMt),this.na.bn(va.ho,this.czt),this.na.bn(va.Jy,this.Ge),this.na.bn(va.Dy,this.Ah),this.na.bn(va.hb,this.pd),this.na.bn(va.ub,this.i1t),this.na.bn(LI.MODE_CHANGE,this.$we)},n.gC=function(){this.na.vn(Iy.UL,this.XB),this.na.vn(va.zy,this.sMt),this.na.vn(va.ho,this.czt),this.na.vn(va.Jy,this.Ge),this.na.vn(va.Dy,this.Ah),this.na.vn(va.hb,this.pd),this.na.vn(va.ub,this.i1t),this.na.vn(LI.MODE_CHANGE,this.$we)},n.sye=function(){return this.na.xR()-this.nye},n.rye=function(){var t=this;if(!this.oye)if(this.na.jd()===1/0){var n=function(){var n;null==(n=t.cye)||n.Xw(),t.cye=void 0,t.oye=void 0};this.cye=new Qo,this.oye=this.lye(this.cye.Uw).catch(this.X6).then(n,n)}else 0===this.aye.length&&(this.oye=this.uye())},n.dye=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=A.min(1e3*A.pow(2,t.fye),3e4),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,ea(n,null==(i=t.cye)?void 0:i.Uw)];case 2:return r.sent(),t.fye++,[3,4];case 3:return jo(r.sent())?(t.fye=0,[2]):[3,4];case 4:return t.rye(),[2]}}))}))()},n.lye=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return Zo(t),n.na.KR?[3,5]:(i=qn.Wg()-n._ye)>1e4?[4,n.uye(t)]:[3,2];case 1:return r.sent(),n._ye=qn.Wg(),n.fye=0,[3,4];case 2:return[4,ea(1e4-i,t)];case 3:r.sent(),r.label=4;case 4:return[3,0];case 5:return[2]}}))}))()},n.vye=function(t){var n=t.cOt;if(n&&this.na.bR&&0===this.nye&&!this.mye&&0!==A.floor(this.na.aI().start(0))){var i=(this.na.bR.getTime()-n.getTime())/1e3,r=this.na.xR()-t.eOt;this.nye=r-i}},n.uye=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return v.trys.push([0,3,,4]),[4,n.na.fR.Qk({Xu:n.gye})];case 1:return[4,v.sent().Ik(t)];case 2:if(0===(i=v.sent()).avails.length)return 0!==n.aye.length&&(n.aye=[]),[2];if(i.avails.length===n.aye.length&&i.avails[0].startTimeInSeconds===n.aye[0].eOt)return n.vye(n.aye[0]),[2];for(r=[],e=0,u=i.avails;e<u.length;e++){for(s=u[e],o=new Y7(s.durationInSeconds,s.startTimeInSeconds,s.availProgramDateTime),a=0,c=s.ads;a<c.length;a++)h=c[a],(f=new z7(o,e0.Mjt,h.startTimeInSeconds,h.trackingEvents)).L2t(h.adId,h.width,h.height,h.durationInSeconds,[],h.skipoffset),o.R2t(f);r.push(o),n.vye(o)}return n.aye=uo(r,(function(t,n){return t.eOt-n.eOt})),[3,4];case 3:throw Xo(v.sent()),new y("Failed to poll MediaTailor tracking events");case 4:return[2]}}))}))()},n.pye=function(){var t;null==(t=this.cye)||t.jw(),this.cye=void 0,this.oye=void 0,this._ye=-1/0},n.wye=function(){if(0!==this.aye.length){var t=this.aye[this.aye.length-1],n=this.sye();if(t.eOt+t.ZJt<this.dge){var i;this.iye&&(null==(i=this.na.zc)||i._o(new sB(this.iye)),this.iye=void 0)}else{for(var r=0,e=this.aye;r<e.length;r++){var u=e[r],s=u.eOt;if(!(s+u.ZJt<this.dge)&&(s<=n&&s+u.ZJt>this.dge)){var o;if(this.tye===u)return;return this.iye=u,void(null==(o=this.na.zc)||o._o(new aB(this.iye)))}}var a;if(this.iye)null==(a=this.na.zc)||a._o(new sB(this.iye)),this.iye=void 0}}},n.yye=function(){var t=this,n=this.ent;if(0!==n.length){for(var i=[],r=0;r<n.length;r++){var e=n[r].cYt.filter((function(n){return To(t.Aye,n.eventType)}));i=i.concat(e)}for(var u=0;u<i.length;u++){var s=i[u];this.Sye(s.startTimeInSeconds)&&(s.eventType===H7.COMPLETE&&this.Tye(H7.ENGAGED_VIEW),this.kye(s))}}},n.Eye=function(t,n){return n.cYt.filter((function(n){return Hs(n.eventType,t)}))[0]},n.Tye=function(t){var n=this.ent;if(0!==n.length){var i=this.Eye(t,n[0]);i&&this.kye(i)}},n.kye=function(t){this.o_e(t.eventType);for(var n=0,i=t.beaconUrls;n<i.length;n++){var r=i[n],e={AE:vd.GET,Xu:r,Lk:"",jk:Dl.Ak};0,na(this.xye(e))}},n.o_e=function(t){var n,i,r=this.ent;switch(t){case H7.START:n=new hB(r[r.length-1],this.na.xR());break;case H7.COMPLETE:n=new vB(r[0],this.na.xR());break;case H7.FIRST_QUARTILE:n=new p0(r[0],this.na.xR());break;case H7.MID_POINT:n=new _0(r[0],this.na.xR());break;case H7.THIRD_QUARTILE:n=new k0(r[0],this.na.xR())}void 0!==n&&(null==(i=this.na.zc)||i._o(n))},n.xye=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.na.fR.Qk(t)];case 1:return i.sent().Yk,[2]}}))}))()},n.Sye=function(t){var n=this.sye();return t>=this.dge&&t<n},n.yn=function(){this.gC(),this.pye(),this.dge=-1},xt(t,[{key:"tye",get:function(){return this.iye}},{key:"ent",get:function(){var t=this.tye;if(!t)return[];for(var n=[],i=this.sye(),r=0,e=t.zc;r<e.length;r++){var u=e[r];i>=u.WO&&this.dge<=u.WO+u.ct&&n.push(u)}return n}}]),t}();Jk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Rye=void 0,r.YG=void 0,r.KG=void 0,r.Cye=void 0,r}Rt(n,t);var i=n.prototype;return i.Ca=function(n){return this.Rye&&(this.Rye.yn(),this.Rye=void 0,this.qEt()),t.prototype.Ca.call(this,n)},i.Rnt=function(n,i){var r=this,e=function(){return t.prototype.Rnt};return Zt((function(){var t,u;return Ht(this,(function(s){switch(s.label){case 0:if(!n||!function(t){return t.sources.some((function(t){return t.integration===HA.MEDIATAILOR}))}(n))return[2,e().call(r,n,i)];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,r.Iye(n,i)];case 2:return t=s.sent(),r.Cye=new S0(r),[4,e().call(r,t,i)];case 3:return s.sent(),[3,5];case 4:return u=s.sent(),r.BH(new ol(ul.MANIFEST_LOAD_ERROR,u.message,u)),[3,5];case 5:return[2]}}))}))()},i.$R=function(n){var i;(null==(i=this.Cye)?void 0:i.inAdBreak)||t.prototype.$R.call(this,n)},i.RR=function(n,i){var r;(null==(r=this.Rye)?void 0:r.tye)||t.prototype.RR.call(this,n,i)},i.NR=function(){var n;return null!=(n=this.YG)?n:t.prototype.NR.call(this)},i.LR=function(){var n;return null!=(n=this.KG)?n:t.prototype.LR.call(this)},i.BH=function(t){this.YG=cm(t),this.KG=t,this._o(new Ik(t))},i.qEt=function(){this.YG=void 0,this.KG=void 0},i.Iye=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:r=[],e=0,u=t.sources,f.label=1;case 1:return e<u.length?uT(s=u[e])&&(o=s).src?[4,i.Pye(o,n)]:(r.push(s),[3,3]):[3,4];case 2:a=f.sent(),Zo(n),c=ss({},o,{integration:void 0,src:a}),r.push(c),f.label=3;case 3:return e++,[3,1];case 4:return(h=Bg(t)).sources=r,[2,h]}}))}))()},i.Pye=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:if(r=t.src||"",!(e=r.match(/.+?(?=\/v1\/)/)))throw new y("Could not find MediaTailor session initialization url");return u=e[0],s=Zs(r,"?ads."),o=s?{Xu:r,jk:Dl.Ak}:{Xu:r,AE:vd.POST,Lk:JSON.stringify({adParams:t.adParams}),jk:Dl.Ak},[4,IT((function(){return i.Dye(o,n)}),n)];case 1:a=v.sent();try{c=u+a.manifestUrl,s||(h=u+a.trackingUrl,f=JA(c),i.Rye=new K7(i,h,f))}catch(t){throw new y("Something went wrong parsing the MediaTailor session initialization response")}return[2,c]}}))}))()},i.Dye=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,i.fR.Qk(t)];case 1:return[4,r.sent().Ik(n)];case 2:return[2,r.sent()];case 3:throw Xo(r.sent()),new y("Failed to initialize MediaTailor session manifest");case 4:return[2]}}))}))()},i.yn=function(){var n;this.Rye&&(this.Rye.yn(),this.Rye=void 0),this.qEt(),null==(n=this.Cye)||n.destroy(),this.Cye=void 0,t.prototype.yn.call(this)},n}(t)}),Yk.Xst),U(),St(),U(),St(),Gt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var q7=function(t){return t[t.Nye=0]="Nye",t[t.UL=1]="UL",t[t.DZ=2]="DZ",t[t.Mye=3]="Mye",t[t.Lye=4]="Lye",t[t.Bye=5]="Bye",t[t.fa=6]="fa",t}({});U(),St(),Dt(),Ct();var J7=function(t){function n(n,i,r,e,u){var s;return void 0===u&&(u=!1),(s=t.call(this)||this).IO=_m(),s.TO=new dm,s.lu=n,s.CO=i,s.r5=r,s.qe=u,s.VMt=e,s}return Rt(n,t),n.prototype.DO=function(t){this.qe=t,t?this.VMt.Oye(this.lu):this.VMt.Fye(this.lu)},xt(n,[{key:"RC",get:function(){}},{key:"Rt",get:function(){return this.qe},set:function(t){this.DO(t)}},{key:"wa",get:function(){var t;return null!=(t=this.eu)?t:this.eu=$g(this)}},{key:"o",get:function(){return String(this.lu.componentTag)||"hbbtvaudiotrack"}},{key:"Lt",get:function(){return this.r5}},{key:"Ch",get:function(){return this.CO}},{key:"gs",get:function(){return""}},{key:"CE",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){this.DO("enabled"===t)}},{key:"NC",get:function(){return this.TO}},{key:"MC",get:function(){},set:function(t){}},{key:"IC",get:function(){return this.IO}}]),n}(aa);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt(),U(),St();var Q7=function(t){return t.pw="urn:dvb:casystemid:19219",t.ww="urn:dvb:casystemid:19156",t}({}),$7=function(t){return t.pw="application/vnd.ms-playready.initiator+xml",t.ww="application/widevine+xml",t}({});function ttt(t,n,i){switch(t){case"urn:dvb:casystemid:19219":return function(t){return'<?xml version="1.0" encoding="utf-8"?><PlayReadyInitiator xmlns="http://schemas.microsoft.com/DRM/2007/03/protocols/"><LicenseServerUriOverride><LA_URL>'+(null!=t?t:"")+"</LA_URL></LicenseServerUriOverride></PlayReadyInitiator>"}(n);case"urn:dvb:casystemid:19156":if(!i)throw new y("Content URL is needed for Widevine license request");return function(t,n){return'<?xml version="1.0" encoding="utf-8"?><WidevineCredentialsInfo xmlns="http://www.smarttv-alliance.org/DRM/widevine/2012/protocols/"><ContentURL>'+OJ(null!=n?n:"")+"</ContentURL><DeviceID></DeviceID><StreamID></StreamID><ClientIP></ClientIP><DRMServerURL>"+OJ(null!=t?t:"")+"</DRMServerURL><DRMAckServerURL></DRMAckServerURL><DRMHeartBeatURL></DRMHeartBeatURL><DRMHeartBeatPeriod></DRMHeartBeatPeriod><UserData></UserData><Portal></Portal><StoreFront></StoreFront><BandwidthCheckURL></BandwidthCheckURL><BandwidthCheckInterval></BandwidthCheckInterval></WidevineCredentialsInfo>"}(n,i);default:throw new y("DRM key system is not supported")}}var ntt=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Gye=void 0,n.Xye=void 0,n.Cu=void 0,n.qye=void 0,n.zye=void 0,n.Hye=function(t,i,r){var e,u;if(0!==r){var s=n.Yye(r),o=n.Kye(r),a=new um(s,o);null==(u=n.zye)||null==(e=u.Wb)||e.call(u,a)}else{var c,h;null==(h=n.zye)||null==(c=h.Vb)||c.call(h,t)}},n.Zye=function(t,i,r,e){var u=n.jye(t),s=n.Qye(t),o=new um(u,s);n._o(new hD(o))},n}Rt(n,t);var i=n.prototype;return i.Vye=function(t){this.Wye(),this.Cu=t},i.Uye=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(!t.sH.length)return n.Wye(),[2];if(!n.Cu)throw new y("The OIPF DRM agent has to be attached to the DOM");n.Gye||(n.Gye=v.createElement("object"),n.Gye.type="application/oipfDrmAgent",n.Cu.appendChild(n.Gye),n.Gye.onDRMMessageResult=n.Hye,n.Gye.onDRMRightsError=n.Zye,n.Xye=v.createElement("object"),n.Xye.type="application/oipfCapabilities",n.Cu.appendChild(n.Xye)),r=0,e=t.sH,h.label=1;case 1:if(!(r<e.length))return[3,6];if(u=e[r],s=void 0,o=void 0,a=void 0,u.cT===Ms)s=Q7.pw,o=$7.pw,a=ttt(Q7.pw,u.CG);else{if(u.cT!==Bs)return[3,5];s=Q7.ww,o=$7.ww,a=ttt(Q7.ww,u.CG,t.VC)}h.label=2;case 2:return h.trys.push([2,4,,5]),[4,n.hit(o,a,s)];case 3:return h.sent(),n._o(new fD),[2];case 4:return c=h.sent(),i=c,[3,5];case 5:return r++,[3,1];case 6:return i&&n._o(new hD(i)),[2]}}))}))()},i.Xw=function(){return this.zye=void 0,this.Cu=void 0,t.prototype.Xw.call(this)},i.hit=function(t,n,i){var r,e;return this.zye=new Kc,this.qye=null==(e=this.Gye)||null==(r=e.sendDRMMessage)?void 0:r.call(e,t,n,i),this.qye||null==this.zye.Wb||this.zye.Wb.call(this.zye,new um(ul.CONTENT_PROTECTION_INTERNAL_ERROR,"No DRM message returned by OIPF DRM agent")),this.zye.Ub},i.Yye=function(t){switch(t){case 5:return ul.CONTENT_PROTECTION_NOT_SUPPORTED;case 2:case 1:case 3:case 4:case 6:return ul.CONTENT_PROTECTION_INTERNAL_ERROR;default:return ul.CONTENT_PROTECTION_ERROR}},i.Kye=function(t){switch(t){case 2:return"The DRM agent was unable to complete the request";case 3:return"The specified MIME type is unknown for the specified DRM system";case 4:return"User consent is needed for that action";case 5:return"The specified DRM System is unknown";case 6:return"The license message has the wrong format";default:return"Unspecified error occurred"}},i.jye=function(t){return 0===t?ul.CONTENT_PROTECTION_LICENSE_ERROR:1===t?ul.CONTENT_PROTECTION_LICENSE_INVALID:ul.CONTENT_PROTECTION_ERROR},i.Qye=function(t){switch(t){case 0:return"No license, consumption of the content is blocked";case 1:return"Invalid license, consumption of the content is blocked";case 2:return"Valid license, consumption of the content is unblocked";default:return"Unknown error occurred"}},i.Wye=function(){this.Gye&&(ai(this.Gye),this.Gye=void 0),this.Xye&&(ai(this.Xye),this.Xye=void 0)},i.d9=function(t,n,i){return Zt((function(){return Ht(this,(function(t){return[2]}))}))()},n}(pD);U(),St(),Gt(),Dt(),Jt(),U(),St();var itt=ut,rtt=function(){function t(t,n,i){this.MT=t,this.WB=n,this.vJ=i}var n=t.prototype;return n.dJ=function(t){return!1},n._J=function(t){return itt.resolve(void 0)},n.Uye=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return[4,n.vJ.Uye(n.MT)];case 1:return t.sent(),[2]}}))}))()},n.Xw=function(){return itt.resolve(void 0)},xt(t,[{key:"hI",get:function(){return BA.gB(0,this.WB.ct)}},{key:"iI",get:function(){return iS.$H},set:function(t){}},{key:"kd",get:function(){return this.MT}}]),t}(),ett=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ku=n,r.wZ=i,r.ea=new oS,r.ta=new cS,r.Hl=new $p,r.JG=void 0,r.cZ=!1,r.YG=void 0,r.RW=Ny.eO,r.hZ=!0,r.tbe=void 0,r.ibe=function(){var t,n,i,e;(null==(t=r.sbe)?void 0:t.playState)&&((null==(n=r.tbe)?void 0:n.Ub)||2!==r.sbe.playState||r.$ye().catch(Si),3===r.sbe.playState&&(null==(e=r.tbe)||null==(i=e.Vb)||i.call(e,String(r.sbe.playState)),r.tbe=void 0))},r.vJ=new ntt(r),r.vJ.bn(cD,r.Ds),r.y8=new Ok([r.Hl]),r.b8=new $x(r),r.Ket=new BD,r.jet=new uM(r.Ket.we,r.Hu,r.nt,r.Wl,r.Sa,r.fH),r.sbe=r.ebe(),r.$ye().catch(Si),r}Rt(n,t);var i=n.prototype;return i.S7=function(t){this.vJ.Vye(t),this.Ket.S7(t)},i.MJ=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Tw===Ey.pW)return i}},i.$n=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:if(n.JG)throw new y("Already loaded a media source");return t.Tw!==Ey.pW?[3,2]:(n.JG=new rtt(t,n,n.vJ),[4,n.JG.Uye(t)]);case 1:return i.sent(),[2,n.JG];case 2:throw new y("Unsupported media source configuration for HbbTV");case 3:return[2]}}))}))()},i.Jye=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return[4,n.$ye()];case 1:return t.sent(),[2]}}))}))()},i.xI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.$ye()];case 1:return n.sent(),[2]}}))}))()},i.zG=function(t){},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.JG=void 0,t.tbe=void 0,[2]}))}))()},i.Xw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.nr()];case 1:return n.sent(),t.Hl.yn(),t.y8.yn(),t.Ket.yn(),t.jet.yn(),t.vJ.vn(cD,t.Ds),[4,t.vJ.Xw()];case 2:return n.sent(),[2]}}))}))()},i.ge=function(){this.hZ=!0,this.Ket.ge()},i.be=function(){this.hZ=!1,this.Ket.be()},i.uH=function(){return!1},i.lH=function(t,n,i,r,e){throw new y("Adding native sideloaded text tracks is not supported on HbbTV")},i.p7=function(){},i.w7=function(){},i.A7=function(){},i.HR=function(){return{_O:0,vO:0,mO:0}},i.NI=function(){},i._H=function(t){throw new y("Adding custom text tracks is not supported on HbbTV")},i.TI=function(){},i.OI=function(t,n,i,r,e,u,s,o,a){var c=new JN(t,n,i,r,e,u,s,a,o);return this.Hl.tt(c),this.b8.tt(c),c},i.vH=function(){for(var t=0,n=this.Hl.lC.slice();t<n.length;t++){n[t].yn()}this.Hl.nr()},i.mW=function(t){this.Hl.it(t),this.b8.it(t)},i.ebe=function(){for(var t=v.getElementsByTagName("object"),n=0;n<t.length;n++){var i=t.item(n);if("video/broadcast"===i.type){var r=i;return r.onPlayStateChange=this.ibe,0===r.playState&&(null==r.bindToCurrentChannel||r.bindToCurrentChannel.call(r)),r}}},i.$ye=function(){var t,n;if(!this.sbe||3===this.sbe.playState||0===this.sbe.playState)return ut.resolve("");if(null==(t=this.tbe)?void 0:t.Ub)return null==(n=this.tbe)?void 0:n.Ub;this.tbe=new Kc;try{null==this.sbe.stop||this.sbe.stop.call(this.sbe)}catch(t){qn.Wp("Unable to stop broadcast for HbbTV",t),this.tbe.Wb(new y("Unable to stop broadcast for HbbTV"))}return this.tbe.Ub},xt(n,[{key:"wR",get:function(){return BA.pB()}},{key:"bR",get:function(){}},{key:"$G",get:function(){}},{key:"Hu",get:function(){return this.Ku}},{key:"hI",get:function(){var t,n;return null!=(n=null==(t=this.JG)?void 0:t.hI)?n:BA.pB()}},{key:"uI",get:function(){return this.cZ}},{key:"X4",get:function(){return!1}},{key:"WR",get:function(){return!1}},{key:"qB",get:function(){return ss({},WR)}},{key:"lt",get:function(){return this.YG}},{key:"U4",get:function(){return!1}},{key:"Sa",get:function(){return this.ea}},{key:"y7",get:function(){return!0}},{key:"M4",get:function(){return!1}},{key:"AI",get:function(){return!0},set:function(t){}},{key:"Wl",get:function(){return this.wZ}},{key:"nt",get:function(){return this.y8}},{key:"G9",get:function(){return this.hZ}},{key:"fH",get:function(){return this.ta}}]),n}(aa),utt=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).nbe=n,e.fZ=1,e.cO=new im,e.dO=new im,e.O4=Ny.eO,e.vbe=void 0,e.obe=void 0,e.rbe=function(){if(e.nbe.playState){e.RW=e.O4,e.mbe=e.gbe,e.gbe=e.nbe.playState;var t=e.ct;switch(t!==e.vbe&&(e._o(new bT(t)),e.vbe=t),e.obe&&e.gbe!==q7.UL&&(qn.Hp(e.obe),e.obe=void 0),e.gbe){case q7.Mye:e.O4=Ny.eO;break;case q7.Lye:if(e.mbe===q7.Mye){var n,i,r=null!=(n=null==e.nbe.getComponents?void 0:e.nbe.getComponents.call(e.nbe,1))?n:e.abe(),u=null!=(i=null==e.nbe.getComponents?void 0:e.nbe.getComponents.call(e.nbe,0))?i:e.abe();if(0===r.length&&0===u.length)break;e.cbe(r),e.dbe(u)}e.O4=Ny.Xn;break;case q7.UL:e.cZ&&(e.cZ=!1,e._o(new ST(e.ER))),e._o(new Oy(e.ER)),e.O4=Ny.sO,e.obe=qn.Gp(e.pbe,250);break;case q7.fa:e.O4=Ny.eO,e._o(new MN(new om(e._be(e.nbe.error))));break;case q7.Bye:e._o(new AT(e.ER));case q7.DZ:case q7.Nye:}e.O4!==e.RW&&e._o(new Cy(e.ER,e.O4))}},e.pbe=function(){e._o(new yg(e.ER,void 0))},e}Rt(n,t);var i=n.prototype;return i.S7=function(n){t.prototype.S7.call(this,n),n.appendChild(this.nbe)},i.$n=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return n.Tw!==Ey.pW?[3,3]:[4,t.prototype.$n.call(i,n)];case 1:return r=e.sent(),[4,i.Jye(n)];case 2:return e.sent(),i.nbe.onPlayStateChange=i.rbe,[2,r];case 3:throw new y("Unsupported media source configuration for HbbTV")}}))}))()},i.Jye=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.nbe.type=QA(n.VC),i.nbe.data=n.VC,[4,t.prototype.Jye.call(i,n)];case 1:return r.sent(),[2]}}))}))()},i.xI=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.xI.call(n)];case 1:return i.sent(),n.nbe.play(n.fZ),n._o(new _T(n.ER)),[2]}}))}))()},i.EI=function(){this.nbe.play(0),this._o(new yT(this.ER))},i.Rb=function(t,n,i){this.nbe.seek(1e3*t),this.cZ=!0,this._o(new TT(this.ER))},i.nr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return void 0!==n.JG&&n.nbe.stop(),n.obe&&(qn.Hp(n.obe),n.obe=void 0),[4,t.prototype.nr.call(n)];case 1:return i.sent(),ci(n.nbe),n.nbe.data&&n.nbe.removeAttribute("data"),n.cO.nr(),n.dO.nr(),[2]}}))}))()},i.Xw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.Xw.call(n)];case 1:return i.sent(),ai(n.nbe),[2]}}))}))()},i.ge=function(){t.prototype.ge.call(this),this.nbe.style.display="block"},i.be=function(){t.prototype.be.call(this),this.nbe.style.display="none"},i.Oye=function(t){var n=this.hbe(t);if(!n)throw new y("Selected track does not exist on HbbTV");null==this.nbe.selectComponent||this.nbe.selectComponent.call(this.nbe,n)},i.Fye=function(t){var n=this.hbe(t);if(!n)throw new y("Selected track does not exist on HbbTV");null==this.nbe.unselectComponent||this.nbe.unselectComponent.call(this.nbe,n)},i.hbe=function(t){var n,i=null!=(n=null==this.nbe.getComponents?void 0:this.nbe.getComponents.call(this.nbe,t.type))?n:this.abe();return this.ube(i,t)},i.cbe=function(t){var n,i=null!=(n=null==this.nbe.getCurrentActiveComponents?void 0:this.nbe.getCurrentActiveComponents.call(this.nbe,1))?n:this.abe();this.cO.nr();for(var r=0;r<t.length;r++){var e=t.item(r);this.cO.tt(new J7(e,e.language,this.cO.V?zX.NPt:zX.MPt,this,this.lbe(i,e)))}},i.dbe=function(t){var n,i=null!=(n=null==this.nbe.getCurrentActiveComponents?void 0:this.nbe.getCurrentActiveComponents.call(this.nbe,0))?n:this.abe();this.dO.nr();for(var r=0;r<t.length;r++){var e=t.item(r);this.dO.tt(new J7(e,String(e.aspectRatio),this.dO.V?YX.NPt:YX.MPt,this,this.lbe(i,e)))}},i.abe=function(){return{length:0,item:function(t){}}},i.lbe=function(t,n){return void 0!==this.ube(t,n)},i.ube=function(t,n){for(var i=0;i<t.length;i++){var r=t.item(i);if(this.fbe(r,n))return r}},i.fbe=function(t,n){return t.pid===n.pid&&t.componentTag===n.componentTag&&t.type===n.type&&t.encoding===n.encoding&&t.encrypted===n.encrypted},i._be=function(t){switch(t){case 0:return sm.SRC_NOT_SUPPORTED;case 1:case 5:case 6:return sm.NETWORK;default:return sm.DECODE}},xt(n,[{key:"jG",get:function(){}},{key:"ht",get:function(){return this.cO}},{key:"rt",get:function(){return this.dO}},{key:"QR",get:function(){return this.fZ},set:function(t){this.fZ=t,this.KR||this.nbe.play(t)}},{key:"ZR",get:function(){return this.nbe.muted},set:function(t){this.nbe.muted=t}},{key:"gI",get:function(){var t,n;return(null!=(n=null!=(t=this.nbe.volume)?t:null==this.nbe.getVolume?void 0:this.nbe.getVolume.call(this.nbe))?n:100)/100},set:function(t){null==this.nbe.setVolume||this.nbe.setVolume.call(this.nbe,100*t)}},{key:"ER",get:function(){return this.nbe.playPosition?this.nbe.playPosition/1e3:0}},{key:"ct",get:function(){return!this.nbe.playTime||this.nbe.playTime<0?1/0:this.nbe.playTime/1e3}},{key:"PR",get:function(){return this.nbe.playState===q7.Bye}},{key:"Ti",get:function(){return this.nbe.offsetHeight*qn.Ys.Kg}},{key:"ji",get:function(){return this.nbe.offsetWidth*qn.Ys.Kg}},{key:"KR",get:function(){return this.nbe.playState===q7.DZ}},{key:"tI",get:function(){return BA.pB()}},{key:"rI",get:function(){return this.O4}},{key:"dI",get:function(){return 0}},{key:"vI",get:function(){return 0}}]),n}(ett);U(),St(),Gt(),Dt(),Ct(),Jt();var stt=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).$T=n,e.cO=new im,e.dO=new im,e.Dbe=void 0,e.BW=function(){e._o(new _T(e.ER))},e.OW=function(){e._o(new yT(e.ER))},e.Tc=function(){var t=e.ER,n=e.uI,i=void 0!==e.Dbe,r=i&&e.Dbe!==t;(n||!i||r)&&(e._o(new yg(t,void 0)),e.Dbe=t)},e.wbe=function(){e._o(new JR(e.ER))},e.Ts=function(){e._o(new QR)},e.Mc=function(){e._o(new AT(e.ER))},e.ybe=function(){e._o(new kT(e.ER,e.QR))},e.fzt=function(){e._o(new ET(e.ER,e.gI))},e.uzt=function(){e._o(new bT(e.ct))},e.bbe=function(){},e.Abe=function(){},e.Sbe=function(){e.cZ&&(e.cZ=!1),e._o(new ST(e.ER))},e.Tbe=function(){e._o(new TT(e.ER))},e.FW=function(t){e.RW!==t.readyState&&(e.RW=t.readyState,e._o(t))},e.LW=function(){e._o(new Oy(e.ER))},e.kbe=function(){if(null!==e.$T.error){var t,n=e.$T.error;e.BH(new om(null!=(t=n.code)?t:sm.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},e.y9=function(t){e._o(new ya(t.initDataType,t.initData||new ArrayBuffer(0)))},e.Ibe=function(t){var n=e.$T.videoTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];Xk(e.dO,r)||e.dO.tt(new Cm(r))}},e.Cbe=function(t){var n=[],i=e.$T.videoTracks;if(i){for(var r=0,u=e.dO.lC;r<u.length;r++){var s=u[r];Gk(i,s.PO)||n.push(s)}for(var o=0;o<n.length;o++){var a=n[o];e.dO.it(a)}}},e.Pbe=function(t){e.ah(e.dO)},e.Ebe=function(t){var n=e.$T.audioTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];Xk(e.cO,r)||e.cO.tt(new Im(r))}},e.xbe=function(t){var n=[],i=e.$T.audioTracks;if(i){for(var r=0,u=e.cO.lC;r<u.length;r++){var s=u[r];Gk(i,s.PO)||n.push(s)}for(var o=0;o<n.length;o++){var a=n[o];e.cO.it(a)}}},e.Rbe=function(t){e.ah(e.cO)},e.B9=new _D(e),e.B9.bn(Iy.iC,e.FW),e.B9.A9(new CN(e)),e.Q9=new PN(e),e.Q9.bn(Iy.UL,e.LW),e.Z8(),e.IH(),e}Rt(n,t);var i=n.prototype;return i.S7=function(n){t.prototype.S7.call(this,n),n.appendChild(this.$T)},i.$n=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return n.Tw!==Ey.pW?[3,3]:[4,t.prototype.$n.call(i,n)];case 1:return r=e.sent(),[4,i.Jye(n)];case 2:return e.sent(),[2,r];case 3:throw new y("Unsupported media source configuration for HbbTV")}}))}))()},i.Jye=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:switch(n.rH){case pA.XC:case pA.zC:i.$T.setAttribute("crossorigin",n.rH);break;case pA.wE:default:i.$T.removeAttribute("crossorigin")}return void 0!==n.iI?i.$T.preload=n.iI:i.$T.preload=iS.yG,void 0!==n.oH?i.$T.title=n.oH:Ai(i.$T),r=i.QR,i.$T.src=n.VC,i.QR=r,[4,t.prototype.Jye.call(i,n)];case 1:return e.sent(),[2]}}))}))()},i.xI=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.xI.call(n)];case 1:return i.sent(),[4,n.$T.play()];case 2:return i.sent(),[2]}}))}))()},i.EI=function(){this.$T.pause()},i.Rb=function(t,n,i){n&&this.$T.fastSeek?this.$T.fastSeek(t):this.$T.currentTime=t,this.cZ=!0,this._o(new TT(this.ER))},i.nr=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.nr.call(n)];case 1:return i.sent(),ci(n.$T),n.$T.src&&n.$T.removeAttribute("src"),n.cO.nr(),n.dO.nr(),[2]}}))}))()},i.Xw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.Xw.call(n)];case 1:return i.sent(),n.Q9.Xw(),n.B9.Xw(),n.q8(),n.pH(),ai(n.$T),[2]}}))}))()},i.ge=function(){t.prototype.ge.call(this),this.$T.style.display="block",this.$T.style.height="100%",this.$T.style.width="100%"},i.be=function(){t.prototype.be.call(this),this.$T.style.display="none"},i.Z8=function(){this.jG.addEventListener("play",this.BW),this.jG.addEventListener("pause",this.OW),this.jG.addEventListener("timeupdate",this.Tc),this.jG.addEventListener("progress",this.wbe),this.jG.addEventListener("loadstart",this.Ts),this.jG.addEventListener("ended",this.Mc),this.jG.addEventListener("ratechange",this.ybe),this.jG.addEventListener("volumechange",this.fzt),this.jG.addEventListener("durationchange",this.uzt),this.jG.addEventListener("loadedmetadata",this.bbe),this.jG.addEventListener("emptied",this.Abe),this.jG.addEventListener("seeked",this.Sbe),this.jG.addEventListener("seeking",this.Tbe),this.jG.addEventListener("error",this.kbe),io()&&this.jG.addEventListener("encrypted",this.y9)},i.q8=function(){this.jG.removeEventListener("play",this.BW),this.jG.removeEventListener("pause",this.OW),this.jG.removeEventListener("timeupdate",this.Tc),this.jG.removeEventListener("progress",this.wbe),this.jG.removeEventListener("loadstart",this.Ts),this.jG.removeEventListener("ended",this.Mc),this.jG.removeEventListener("ratechange",this.ybe),this.jG.removeEventListener("volumechange",this.fzt),this.jG.removeEventListener("durationchange",this.uzt),this.jG.removeEventListener("loadedmetadata",this.bbe),this.jG.removeEventListener("emptied",this.Abe),this.jG.removeEventListener("seeked",this.Sbe),this.jG.removeEventListener("seeking",this.Tbe),this.jG.removeEventListener("error",this.kbe),this.jG.removeEventListener("encrypted",this.y9)},i.BH=function(t){this.YG=t,this._o(new MN(this.YG))},i.IH=function(){var t=this.$T.audioTracks,n=this.$T.videoTracks;t&&(t.addEventListener("addtrack",this.Ebe),t.addEventListener("removetrack",this.xbe),t.addEventListener("change",this.Rbe)),n&&(n.addEventListener("addtrack",this.Ibe),n.addEventListener("removetrack",this.Cbe),n.addEventListener("change",this.Pbe))},i.pH=function(){var t=this.$T.audioTracks,n=this.$T.videoTracks;t&&(t.removeEventListener("addtrack",this.Ebe),t.removeEventListener("removetrack",this.xbe),t.removeEventListener("change",this.Rbe)),n&&(n.removeEventListener("addtrack",this.Ibe),n.removeEventListener("removetrack",this.Cbe),n.removeEventListener("change",this.Pbe))},i.ah=function(t){for(var n=0;n<t.V;n++){t.fC(n).MO()}},xt(n,[{key:"jG",get:function(){return this.$T}},{key:"ht",get:function(){return this.cO}},{key:"rt",get:function(){return this.dO}},{key:"QR",get:function(){return this.$T.playbackRate},set:function(t){this.$T.playbackRate=t}},{key:"ZR",get:function(){return this.$T.muted},set:function(t){this.$T.muted=t}},{key:"gI",get:function(){return this.$T.volume},set:function(t){this.$T.volume=t}},{key:"ER",get:function(){return this.$T.currentTime}},{key:"ct",get:function(){return this.$T.duration}},{key:"PR",get:function(){return this.$T.ended}},{key:"Ti",get:function(){return this.$T.offsetHeight*qn.Ys.Kg}},{key:"ji",get:function(){return this.$T.offsetWidth*qn.Ys.Kg}},{key:"KR",get:function(){return this.$T.paused}},{key:"tI",get:function(){return BA.Cn(this.$T.played)}},{key:"rI",get:function(){return this.B9.rI}},{key:"dI",get:function(){return this.$T.videoHeight}},{key:"vI",get:function(){return this.$T.videoWidth}}]),n}(ett),ott=[va.ho,va.zy,Iy.UL,va.Jy,va.Qy,va.Dy,va.Iy,va.Ey,va.Ty,va.hb,va.qy,va.Uy,va.Yy,va.ub,va.jy,va.Ly,va.Ny],att=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).JG=void 0,u.iH=new Dk,u.Sc=void 0,u.YG=void 0,u.KG=void 0,u.QG=iS.$H,u.kH=function(t){var n=t.lt,i=n.code,r=new ol(vm(i),"Something went wrong during HbbTV playback.",n),e=cm(r);u.BH(r,e)},u.pn=new CI(n),u.pn.kn(),u.WB=Mi()?new stt(v.createElement(rm.mE),u.pn,e):new utt(v.createElement("object"),u.pn,e),u.WB.S7(n),u.WB.bn(ott,u.Ds),u.WB.bn(Yp.fa,u.kH),u.mH=new Fy(u.WB,!0),u.mH.bn(Ry,u.Ds),u.dH=new yy(u.WB,i),u.Hl=new Ok([u.WB.nt,u.dH.Z]),u.pZ=r,u}Rt(n,t);var i=n.prototype;return i.OI=function(t){return this.WB._H(t)},i.II=function(){return!1},i.SI=function(){return this.WB.Sa},i.TI=function(){},i.be=function(){this.WB.be()},i.NI=function(){this.WB.NI()},i.EI=function(){this.WB.EI()},i.xI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.WB.xI()];case 1:return n.sent(),[2]}}))}))()},i.MI=function(){throw new y("Recreate media source is not supported on HbbTV")},i.RR=function(t,n){this.WB.Rb(t)},i.Ca=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return Zo(i),r.Sc=t,u={Tw:Ey.pW,VC:t.src,Mk:t.type,sH:r.nH(t),iI:r.QG,rH:t.crossOrigin,oH:null==(e=n.metadata)?void 0:e.title},[4,r.WB.$n(u)];case 1:return r.JG=s.sent(),n.textTracks&&r.aH(n.textTracks),Ty(r.nt),[2]}}))}))()},i.ge=function(){this.WB.ge()},i.CI=function(){},i.DI=function(){},i.ja=function(){return this.WB.fH},i.nr=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Sc=void 0,t.YG=void 0,t.KG=void 0,t.JG=void 0,[4,t.dH.nr()];case 1:return n.sent(),t.WB.vH(),[4,t.WB.nr()];case 2:return n.sent(),[2]}}))}))()},i.yn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.nr()];case 1:return n.sent(),t.mH.yn(),t.WB.vn(ott,t.Ds),t.WB.vn(Yp.fa,t.kH),[4,t.WB.Xw()];case 2:return n.sent(),t.pn.yn(),t.Hl.yn(),[4,t.dH.yn()];case 3:return n.sent(),[2]}}))}))()},i.BH=function(t,n){this.YG||(this.YG=n,this.KG=t,this._o(new Ik(t)))},i.aH=function(t){for(var n=0;n<t.length;n++){var i=t[n];void 0!==i.src&&this.dH.cW(i)}},i.nH=function(t){if(!t.contentProtection)return[];var n=[];return t.contentProtection.widevine&&n.push({cT:Bs,CG:t.contentProtection.widevine.licenseAcquisitionURL,RH:[]}),t.contentProtection.playready&&n.push({cT:Ms,CG:t.contentProtection.playready.licenseAcquisitionURL,RH:[]}),this.Nbe(n,t.contentProtection.preferredKeySystems)},i.Nbe=function(t,n){if(void 0===n||0===n.length)return t;var i=function(t){var i=n.indexOf(t.cT.Iw);return i>=0?i:n.length};return uo(t,(function(t,n){return i(t)-i(n)}))},xt(n,[{key:"ht",get:function(){return this.WB.ht}},{key:"wR",get:function(){return this.WB.wR.ks()}},{key:"KB",get:function(){}},{key:"bR",get:function(){return this.WB.bR},set:function(t){t&&this.WB.zG(t)}},{key:"bt",get:function(){return this.Sc}},{key:"ER",get:function(){return this.WB.ER},set:function(t){this.WB.Rb(t)}},{key:"eH",get:function(){return this.iH}},{key:"ct",get:function(){return this.WB.ct}},{key:"PR",get:function(){return this.WB.PR}},{key:"MR",get:function(){return this.KG}},{key:"lt",get:function(){return this.YG}},{key:"OR",get:function(){}},{key:"WR",get:function(){return!1}},{key:"AI",get:function(){return this.WB.AI},set:function(t){this.WB.AI=t}},{key:"yI",get:function(){return this.pZ}},{key:"GR",get:function(){return ss({},{_O:0,vO:0,mO:0,gO:0,pO:0,wO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.WB.HR())}},{key:"ZR",get:function(){return this.WB.ZR},set:function(t){this.WB.ZR=t}},{key:"qR",get:function(){return!0}},{key:"KR",get:function(){return this.WB.KR}},{key:"QR",get:function(){return this.WB.QR},set:function(t){this.WB.QR=t}},{key:"tI",get:function(){return this.WB.tI.ks()}},{key:"iI",get:function(){return this.QG},set:function(t){this.QG=t,this.JG&&(this.JG.iI=t)}},{key:"rI",get:function(){return this.WB.rI}},{key:"hI",get:function(){return this.WB.hI.ks()}},{key:"uI",get:function(){return this.WB.uI}},{key:"$G",get:function(){return this.WB.$G}},{key:"nt",get:function(){return this.Hl}},{key:"dI",get:function(){return this.WB.dI}},{key:"rt",get:function(){return this.WB.rt}},{key:"vI",get:function(){return this.WB.vI}},{key:"gI",get:function(){return this.WB.gI},set:function(t){this.WB.gI=t}}]),n}(aa),ctt=function(){function t(){this.UH=xk.lG}var n=t.prototype;return n.uP=function(t,n,i,r,e,u,s,o){return new att(t,i,u,s)},n.FH=function(t,n){var i;return!(!Gn.Bm||t.type!==yA.jC&&!tT(t.type)&&!nT(t.type))&&!(Mi()&&!(null==(i=t.contentProtection)?void 0:i.useOipfDrmAgent)&&(!t.contentProtection||io()))},n.VH=function(t){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,x_(t,!0)];case 1:return n.sent()?[2,!0]:[2,!1]}}))}))()},n.WH=function(){return!1},t}();qT(new ctt),U(),St(),U(),St(),U(),St();var htt=[];function ftt(t){htt.push(t)}var vtt=[];function ltt(t){vtt.push(t)}U(),St(),Dt(),Ct(),U(),St(),on(),U(),St(),U(),St();var dtt=void 0!==f?f:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},gtt=void 0!==v?v:{createElement:function(){}};function mtt(t,n){return n||(n=t.slice(0)),t.raw=n,t}var wtt=1;function ptt(){return wtt++}var ytt,_tt=k.prototype.toString,btt=function(t){return Ttt(t)?k.keys(t):[]};function ktt(t,n){btt(t).forEach((function(i){return n(t[i],i)}))}function Att(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return k.assign?k.assign.apply(k,[t].concat(i)):(i.forEach((function(n){n&&ktt(n,(function(n,i){t[i]=n}))})),t)}function Ttt(t){return!!t&&"object"==typeof t}function Stt(t){return Ttt(t)&&"[object Object]"===_tt.call(t)&&t.constructor===k}var Ett=function(t,n,i){void 0===i&&(i=!!Tnt&&Tnt<11),"log"!==t&&n.unshift(t.toUpperCase()+":"),ytt.history.push(n),n.unshift("VIDEOJS:");var r=dtt.console&&dtt.console[t];r&&(i&&(n=n.map((function(t){if(Ttt(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(n){return String(t)}return String(t)})).join(" ")),r.apply?r[Array.isArray(n)?"apply":"call"](dtt.console,n):r(n))};ytt=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Ett("log",n)},ytt.history=[],ytt.error=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Ett("error",n)},ytt.warn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Ett("warn",n)};var Itt=ytt,Rtt="undefined"!=typeof globalThis?globalThis:void 0!==f?f:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ctt(t){return t.replace(/\n\r?\s*/g,"")}var Ntt,xtt=function(t){for(var n="",i=0;i<arguments.length;i++)n+=Ctt(t[i])+(arguments[i+1]||"");return n};function Dtt(t){return"string"==typeof t&&/\S/.test(t)}function Ptt(t){if(/\s/.test(t))throw new y("class has illegal whitespace characters")}function Mtt(){return gtt===dtt.document&&void 0!==gtt.createElement}function Btt(t){return Ttt(t)&&1===t.nodeType}function Ott(t){return function(n,i){if(!Dtt(n))return gtt[t](null);Dtt(i)&&(i=gtt.querySelector(i));var r=Btt(i)?i:gtt;return r[t]&&r[t](n)}}function Ltt(t,n,i,r){void 0===t&&(t="div"),void 0===n&&(n={}),void 0===i&&(i={});var e=gtt.createElement(t);return k.getOwnPropertyNames(n).forEach((function(t){var i=n[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(Itt.warn(xtt(Ntt||(Ntt=mtt(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."])),t,i)),e.setAttribute(t,i)):"textContent"===t?Ftt(e,i):e[t]=i})),k.getOwnPropertyNames(i).forEach((function(t){e.setAttribute(t,i[t])})),r&&rnt(e,r),e}function Ftt(t,n){return void 0===t.textContent?t.innerText=n:t.textContent=n,t}function Vtt(t,n){n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)}var Utt={},Wtt="vdata"+(new Date).getTime();function jtt(t){var n=t[Wtt];return n||(n=t[Wtt]=ptt()),Utt[n]||(Utt[n]={}),Utt[n]}function Ztt(t){var n=t[Wtt];return!!n&&!!k.getOwnPropertyNames(Utt[n]).length}function Xtt(t){var n=t[Wtt];if(n){delete Utt[n];try{delete t[Wtt]}catch(n){t.removeAttribute?t.removeAttribute(Wtt):t[Wtt]=null}}}function Gtt(t,n){return Ptt(n),t.classList?t.classList.contains(n):function(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}(n).test(t.className)}function Htt(t,n){return t.classList?t.classList.add(n):Gtt(t,n)||(t.className=(t.className+" "+n).trim()),t}function ztt(t,n){return t.classList?t.classList.remove(n):(Ptt(n),t.className=t.className.split(/\s+/).filter((function(t){return t!==n})).join(" ")),t}function Ytt(t,n,i){var r=Gtt(t,n);if("function"==typeof i&&(i=i(t,n)),"boolean"!=typeof i&&(i=!r),i!==r)return i?Htt(t,n):ztt(t,n),t}function Ktt(t,n){k.getOwnPropertyNames(n).forEach((function(i){var r=n[i];null==r||!1===r?t.removeAttribute(i):t.setAttribute(i,!0===r?"":r)}))}function qtt(t){var n={};if(t&&t.attributes&&t.attributes.length>0)for(var i=t.attributes,r=i.length-1;r>=0;r--){var e=i[r].name,u=i[r].value;"boolean"!=typeof t[e]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+e+",")||(u=null!==u),n[e]=u}return n}function Jtt(t,n,i){t.setAttribute(n,i)}function Qtt(t,n){t.removeAttribute(n)}function $tt(t){var n;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=gtt.documentElement,r=gtt.body,e=i.clientLeft||r.clientLeft||0,u=dtt.pageXOffset||r.scrollLeft,s=n.left+u-e,o=i.clientTop||r.clientTop||0,a=dtt.pageYOffset||r.scrollTop,c=n.top+a-o;return{left:A.round(s),top:A.round(c)}}function tnt(t,n){var i={},r=$tt(t),e=t.offsetWidth,u=t.offsetHeight,s=r.top,o=r.left,a=n.pageY,c=n.pageX;return n.changedTouches&&(c=n.changedTouches[0].pageX,a=n.changedTouches[0].pageY),i.y=A.max(0,A.min(1,(s-a+u)/u)),i.x=A.max(0,A.min(1,(c-o)/e)),i}function nnt(t){return Ttt(t)&&3===t.nodeType}function int(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function rnt(t,n){return function(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return"function"==typeof t&&(t=t()),Btt(t)||nnt(t)?t:"string"==typeof t&&/\S/.test(t)?gtt.createTextNode(t):void 0})).filter((function(t){return t}))}(n).forEach((function(n){return t.appendChild(n)})),t}function ent(t,n){return rnt(int(t),n)}var unt=Ott("querySelector"),snt=Ott("querySelectorAll"),ont=dtt.navigator&&dtt.navigator.userAgent||"",ant=/AppleWebKit\/([\d.]+)/i.exec(ont),cnt=ant?S(ant.pop()):null,hnt=/iPad/i.test(ont),fnt=/iPhone/i.test(ont)&&!hnt,vnt=/iPod/i.test(ont),lnt=fnt||hnt||vnt,dnt=function(){var t=ont.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),gnt=/Android/i.test(ont),mnt=function(){var t=ont.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var n=t[1]&&S(t[1]),i=t[2]&&S(t[2]);return n&&i?S(t[1]+"."+t[2]):n||null}(),wnt=gnt&&/webkit/i.test(ont)&&mnt<2.3,pnt=gnt&&mnt<5&&cnt<537,ynt=/Firefox/i.test(ont),_nt=/Edge/i.test(ont),bnt=!_nt&&/Chrome/i.test(ont),knt=function(){var t=ont.match(/Chrome\/(\d+)/);return t&&t[1]?S(t[1]):null}(),Ant=/MSIE\s8\.0/.test(ont),Tnt=function(){var t=/MSIE\s(\d+)\.\d/.exec(ont),n=t&&S(t[1]);return!n&&/Trident\/7.0/i.test(ont)&&/rv:11.0/.test(ont)&&(n=11),n}(),Snt=/Safari/i.test(ont)&&!bnt&&!gnt&&!_nt,Ent=Snt||lnt,Int=Mtt()&&("ontouchstart"in dtt||dtt.DocumentTouch&&dtt.document instanceof dtt.DocumentTouch),Rnt=Mtt()&&"backgroundSize"in dtt.document.createElement("video").style,Cnt=k.freeze({__proto__:null,IS_IPAD:hnt,IS_IPHONE:fnt,IS_IPOD:vnt,IS_IOS:lnt,IOS_VERSION:dnt,IS_ANDROID:gnt,ANDROID_VERSION:mnt,IS_OLD_ANDROID:wnt,IS_NATIVE_ANDROID:pnt,IS_FIREFOX:ynt,IS_EDGE:_nt,IS_CHROME:bnt,CHROME_VERSION:knt,IS_IE8:Ant,IE_VERSION:Tnt,IS_SAFARI:Snt,IS_ANY_SAFARI:Ent,TOUCH_ENABLED:Int,BACKGROUND_SIZE_SUPPORTED:Rnt});function Nnt(t,n){var i=jtt(t);0===i.handlers[n].length&&(delete i.handlers[n],t.removeEventListener?t.removeEventListener(n,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+n,i.dispatcher)),k.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===k.getOwnPropertyNames(i).length&&Xtt(t)}function xnt(t,n,i,r){i.forEach((function(i){t(n,i,r)}))}function Dnt(t){function n(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var r=t||dtt.event;for(var e in t={},r)"layerX"!==e&&"layerY"!==e&&"keyLocation"!==e&&"webkitMovementX"!==e&&"webkitMovementY"!==e&&"path"!==e&&("returnValue"===e&&r.preventDefault||(t[e]=r[e]));if(t.target||(t.target=t.srcElement||gtt),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,r.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,r.cancelBubble=!0,t.isPropagationStopped=n},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=n,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX){var u=gtt.documentElement,s=gtt.body;t.pageX=t.clientX+(u&&u.scrollLeft||s&&s.scrollLeft||0)-(u&&u.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(u&&u.scrollTop||s&&s.scrollTop||0)-(u&&u.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var Pnt=!1;!function(){try{var t=k.defineProperty({},"passive",{get:function(){Pnt=!0}});dtt.addEventListener("test",null,t)}catch(t){}}();var Mnt=["touchstart","touchmove"];function Bnt(t,n,i){if(Array.isArray(n))return xnt(Bnt,t,n,i);var r=jtt(t);if(r.handlers||(r.handlers={}),r.handlers[n]||(r.handlers[n]=[]),i.guid||(i.guid=ptt()),r.handlers[n].push(i),r.dispatcher||(r.disabled=!1,r.dispatcher=function(n,i){if(!r.disabled){n=Dnt(n);var e=r.handlers[n.type];if(e)for(var u=e.slice(0),s=0,o=u.length;s<o&&!n.isImmediatePropagationStopped();s++)try{u[s].call(t,n,i)}catch(t){Itt.error(t)}}}),1===r.handlers[n].length)if(t.addEventListener){var e=!1;Pnt&&Mnt.indexOf(n)>-1&&(e={passive:!0}),t.addEventListener(n,r.dispatcher,e)}else t.attachEvent&&t.attachEvent("on"+n,r.dispatcher)}function Ont(t,n,i){if(Ztt(t)){var r=jtt(t);if(r.handlers){if(Array.isArray(n))return xnt(Ont,t,n,i);var e=function(n){r.handlers[n]=[],Nnt(t,n)};if(n){var u=r.handlers[n];if(u)if(i){if(i.guid)for(var s=0;s<u.length;s++)u[s].guid===i.guid&&u.splice(s--,1);Nnt(t,n)}else e(n)}else for(var o in r.handlers)e(o)}}}function Lnt(t,n,i){var r=Ztt(t)?jtt(t):{},e=t.parentNode||t.ownerDocument;if("string"==typeof n&&(n={type:n,target:t}),n=Dnt(n),r.dispatcher&&r.dispatcher.call(t,n,i),e&&!n.isPropagationStopped()&&!0===n.bubbles)Lnt.call(null,e,n,i);else if(!e&&!n.defaultPrevented){var u=jtt(n.target);n.target[n.type]&&(u.disabled=!0,"function"==typeof n.target[n.type]&&n.target[n.type](),u.disabled=!1)}return!n.defaultPrevented}function Fnt(t,n,i){if(Array.isArray(n))return xnt(Fnt,t,n,i);var r=function r(){Ont(t,n,r),i.apply(this,arguments)};r.guid=i.guid=i.guid||ptt(),Bnt(t,n,r)}var Vnt,Unt=!1,Wnt=function(){if(Mtt()){var t=gtt.getElementsByTagName("video"),n=gtt.getElementsByTagName("audio"),i=[];if(t&&t.length>0)for(var r=0,e=t.length;r<e;r++)i.push(t[r]);if(n&&n.length>0)for(var u=0,s=n.length;u<s;u++)i.push(n[u]);if(i&&i.length>0)for(var o=0,a=i.length;o<a;o++){var c=i[o];if(!c||!c.getAttribute){jnt(1);break}void 0===c.player&&null!==c.getAttribute("data-setup")&&Vnt(c)}else Unt||jnt(1)}};function jnt(t,n){n&&(Vnt=n),dtt.setTimeout(Wnt,t)}Mtt()&&"complete"===gtt.readyState?Unt=!0:Fnt(dtt,"load",(function(){Unt=!0}));var Znt=function(t){var n=gtt.createElement("style");return n.className=t,n},Xnt=function(t,n){t.styleSheet?t.styleSheet.cssText=n:t.textContent=n},Gnt=function(t,n,i){n.guid||(n.guid=ptt());var r=function(){return n.apply(t,arguments)};return r.guid=i?i+"_"+n.guid:n.guid,r};function Hnt(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function znt(){for(var t={},n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return i.forEach((function(n){n&&ktt(n,(function(n,i){Stt(n)?(Stt(t[i])||(t[i]={}),t[i]=znt(t[i],n)):t[i]=n}))})),t}var Ynt=function(){function t(t,n,i){if(!t&&this.play?this.t=t=this:this.t=t,this.h=znt({},this.h),n=this.h=znt(this.h,n),this.o=n.id||n.el&&n.el.id,!this.o){var r=t&&t.id&&t.id()||"no_player";this.o=r+"u"+ptt()}this.l=n.name||null,n.el?this.v=n.el:!1!==n.createEl&&(this.v=this.createEl()),this.m=[],this.k={},this.C={},!1!==n.initChildren&&this.initChildren(),this.ready(i),!1!==n.reportTouchActivity&&this.enableTouchActivity()}var n=t.prototype;return n.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.m)for(var t=this.m.length-1;t>=0;t--)this.m[t].dispose&&this.m[t].dispose();this.m=null,this.k=null,this.C=null,this.off(),this.v.parentNode&&this.v.parentNode.removeChild(this.v),Xtt(this.v),this.v=null},n.player=function(){return this.t},n.options=function(t){return Itt.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.h=znt(this.h,t),this.h):this.h},n.el=function(){return this.v},n.createEl=function(t,n,i){return Ltt(t,n,i)},n.localize=function(t){var n=this.t.language&&this.t.language(),i=this.t.languages&&this.t.languages();if(!n||!i)return t;var r=i[n];if(r&&r[t])return r[t];var e=i[n.split("-")[0]];return e&&e[t]?e[t]:t},n.contentEl=function(){return this.S||this.v},n.id=function(){return this.o},n.name=function(){return this.l},n.children=function(){return this.m},n.getChildById=function(t){return this.k[t]},n.getChild=function(t){if(t)return t=Hnt(t),this.C[t]},n.addChild=function(n,i,r){var e,u;if(void 0===i&&(i={}),void 0===r&&(r=this.m.length),"string"==typeof n){u=Hnt(n),i||(i={}),!0===i&&(Itt.warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),i={});var s=i.componentClass||u;i.name=u;var o=t.getComponent(s);if(!o)throw new y("Component "+s+" does not exist");if("function"!=typeof o)return null;e=new o(this.t||this,i)}else e=n;if(this.m.splice(r,0,e),"function"==typeof e.id&&(this.k[e.id()]=e),(u=u||e.name&&Hnt(e.name()))&&(this.C[u]=e),"function"==typeof e.el&&e.el()){var a=this.contentEl().children[r]||null;this.contentEl().insertBefore(e.el(),a)}return e},n.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.m){for(var n=!1,i=this.m.length-1;i>=0;i--)if(this.m[i]===t){n=!0,this.m.splice(i,1);break}if(n){this.k[t.id()]=null,this.C[t.name()]=null;var r=t.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},n.initChildren=function(){var n=this,i=this.h.children;if(i){var r,e=this.h,u=t.getComponent("Tech");(r=Array.isArray(i)?i:k.keys(i)).concat(k.keys(this.h).filter((function(t){return!r.some((function(n){return"string"==typeof n?t===n:t===n.name}))}))).map((function(t){var r,e;return"string"==typeof t?e=i[r=t]||n.h[r]||{}:(r=t.name,e=t),{name:r,opts:e}})).filter((function(n){var i=t.getComponent(n.opts.componentClass||Hnt(n.name));return i&&!u.isTech(i)})).forEach((function(t){var i=t.name,r=t.opts;if(void 0!==e[i]&&(r=e[i]),!1!==r){!0===r&&(r={}),r.playerOptions=n.h.playerOptions;var u=n.addChild(i,r);u&&(n[i]=u)}}))}},n.buildCSSClass=function(){return""},n.on=function(t,n,i){var r=this;if("string"==typeof t||Array.isArray(t))Bnt(this.v,t,Gnt(this,n));else{var e=t,u=n,s=Gnt(this,i),o=function(){return r.off(e,u,s)};o.guid=s.guid,this.on("dispose",o);var a=function(){return r.off("dispose",o)};a.guid=s.guid,t.nodeName?(Bnt(e,u,s),Bnt(e,"dispose",a)):"function"==typeof t.on&&(e.on(u,s),e.on("dispose",a))}return this},n.off=function(t,n,i){if(!t||"string"==typeof t||Array.isArray(t))Ont(this.v,t,n);else{var r=t,e=n,u=Gnt(this,i);this.off("dispose",u),t.nodeName?(Ont(r,e,u),Ont(r,"dispose",u)):(r.off(e,u),r.off("dispose",u))}return this},n.one=function(t,n,i){var r=arguments,e=this;if("string"==typeof t||Array.isArray(t))Fnt(this.v,t,Gnt(this,n));else{var u=t,s=n,o=Gnt(this,i),a=function t(){e.off(u,s,t),o.apply(null,r)};a.guid=o.guid,this.on(u,s,a)}return this},n.trigger=function(t,n){return Lnt(this.v,t,n),this},n.ready=function(t,n){return void 0===n&&(n=!1),t&&(this.j?n?t.call(this):this.setTimeout(t,1):(this.T=this.T||[],this.T.push(t))),this},n.triggerReady=function(){this.j=!0,this.setTimeout((function(){var t=this.T;this.T=[],t&&t.length>0&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},n.$=function(t,n){return unt(t,n||this.contentEl())},n.$$=function(t,n){return snt(t,n||this.contentEl())},n.hasClass=function(t){return Gtt(this.v,t)},n.addClass=function(t){return Htt(this.v,t),this},n.removeClass=function(t){return ztt(this.v,t),this},n.toggleClass=function(t,n){return Ytt(this.v,t,n),this},n.show=function(){return this.removeClass("vjs-hidden"),this},n.hide=function(){return this.addClass("vjs-hidden"),this},n.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},n.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},n.getAttribute=function(t){return function(t,n){return t.getAttribute(n)}(this.v,t)},n.setAttribute=function(t,n){return Jtt(this.v,t,n),this},n.removeAttribute=function(t){return Qtt(this.v,t),this},n.width=function(t,n){return this.dimension("width",t,n)},n.height=function(t,n){return this.dimension("height",t,n)},n.dimensions=function(t,n){return this.width(t,!0).height(n)},n.dimension=function(t,n,i){if(void 0!==n)return null!==n&&n==n||(n=0),-1!==(""+n).indexOf("%")||-1!==(""+n).indexOf("px")?this.v.style[t]=n:this.v.style[t]="auto"===n?"":n+"px",i||this.trigger("resize"),this;if(!this.v)return 0;var r=this.v.style[t],e=r.indexOf("px");return T(-1!==e?r.slice(0,e):this.v["offset"+Hnt(t)],10)},n.currentDimension=function(t){var n=0;if("width"!==t&&"height"!==t)throw new y("currentDimension only accepts width or height value");if("function"==typeof dtt.getComputedStyle){var i=dtt.getComputedStyle(this.v);n=i.getPropertyValue(t)||i[t]}if(0===(n=S(n))){var r="offset"+Hnt(t);n=this.v[r]}return n},n.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},n.currentWidth=function(){return this.currentDimension("width")},n.currentHeight=function(){return this.currentDimension("height")},n.focus=function(){this.v.focus()},n.blur=function(){this.v.blur()},n.emitTapEvents=function(){var t,n=0,i=null;this.on("touchstart",(function(r){1===r.touches.length&&(i={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},n=(new Date).getTime(),t=!0)})),this.on("touchmove",(function(n){if(n.touches.length>1)t=!1;else if(i){var r=n.touches[0].pageX-i.pageX,e=n.touches[0].pageY-i.pageY;A.sqrt(r*r+e*e)>10&&(t=!1)}}));var r=function(){t=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",(function(r){(i=null,!0===t)&&((new Date).getTime()-n<200&&(r.preventDefault(),this.trigger("tap")))}))},n.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,n=Gnt(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){n(),this.clearInterval(t),t=this.setInterval(n,250)}));var i=function(i){n(),this.clearInterval(t)};this.on("touchmove",n),this.on("touchend",i),this.on("touchcancel",i)}},n.setTimeout=function(t,n){t=Gnt(this,t);var i=dtt.setTimeout(t,n),r=function(){this.clearTimeout(i)};return r.guid="vjs-timeout-"+i,this.on("dispose",r),i},n.clearTimeout=function(t){dtt.clearTimeout(t);var n=function(){};return n.guid="vjs-timeout-"+t,this.off("dispose",n),t},n.setInterval=function(t,n){t=Gnt(this,t);var i=dtt.setInterval(t,n),r=function(){this.clearInterval(i)};return r.guid="vjs-interval-"+i,this.on("dispose",r),i},n.clearInterval=function(t){dtt.clearInterval(t);var n=function(){};return n.guid="vjs-interval-"+t,this.off("dispose",n),t},t.registerComponent=function(n,i){if(n){if(n=Hnt(n),t.M||(t.M={}),"Player"===n&&t.M[n]){var r=t.M[n];if(r.players&&k.keys(r.players).length>0&&k.keys(r.players).map((function(t){return r.players[t]})).every(Boolean))throw new y("Can not register Player component after player has been created")}return t.M[n]=i,i}},t.getComponent=function(n){if(n)return n=Hnt(n),t.M&&t.M[n]?t.M[n]:dtt&&dtt.videojs&&dtt.videojs[n]?(Itt.warn("The "+n+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),dtt.videojs[n]):void 0},t.extend=function(n){n=n||{},Itt.warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var i=n.init||n.init||this.prototype.init||this.prototype.init||function(){},r=function(){i.apply(this,arguments)};for(var e in(r.prototype=k.create(this.prototype)).constructor=r,r.extend=t.extend,n)n.hasOwnProperty(e)&&(r.prototype[e]=n[e]);return r},t}();Ynt.registerComponent("Component",Ynt);var Knt=function(){};function qnt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jnt(t,n){return(Jnt=k.setPrototypeOf?k.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function Qnt(t,n){t.prototype=k.create(n.prototype),t.prototype.constructor=t,Jnt(t,n)}function $nt(t,n,i,r){return void 0===r&&(Itt.warn("DEPRECATED: Function '"+t+"' on 'TimeRanges' called without an index argument."),r=0),function(t,n,i){if(n<0||n>i)throw new y("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+n+") is greater than or equal to the maximum bound ("+i+").")}(t,r,i.length-1),i[r][n]}function tit(t){return void 0===t||0===t.length?{length:0,start:function(){throw new y("This TimeRanges object is empty")},end:function(){throw new y("This TimeRanges object is empty")}}:{length:t.length,start:$nt.bind(null,"start",0,t),end:$nt.bind(null,"end",1,t)}}function nit(t,n){return Array.isArray(t)?tit(t):void 0===t||void 0===n?tit():tit([[t,n]])}function iit(t,n){var i,r,e=0;if(!n)return 0;t&&t.length||(t=nit(0,0));for(var u=0;u<t.length;u++)i=t.start(u),(r=t.end(u))>n&&(r=n),e+=r-i;return e/n}Knt.prototype.A={},Knt.prototype.on=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},Bnt(this,t,n),this.addEventListener=i},Knt.prototype.addEventListener=Knt.prototype.on,Knt.prototype.off=function(t,n){Ont(this,t,n)},Knt.prototype.removeEventListener=Knt.prototype.off,Knt.prototype.one=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},Fnt(this,t,n),this.addEventListener=i},Knt.prototype.trigger=function(t){var n=t.type||t;"string"==typeof t&&(t={type:n}),t=Dnt(t),this.A[n]&&this["on"+n]&&this["on"+n](t),Lnt(this,t)},Knt.prototype.dispatchEvent=Knt.prototype.trigger;var rit,eit,uit,sit,oit={prefixed:!0},ait=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],cit=ait[0];for(eit=0;eit<ait.length;eit++)if(ait[eit][1]in gtt){rit=ait[eit];break}if(rit){for(uit=0;uit<rit.length;uit++)oit[cit[uit]]=rit[uit];oit.prefixed=rit[0]!==cit[0]}function hit(t){if(t instanceof hit)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:Ttt(t)&&("number"==typeof t.code&&(this.code=t.code),Att(this,t)),this.message||(this.message=hit.defaultMessages[this.code]||"")}for(hit.prototype.code=0,hit.prototype.message="",hit.prototype.status=null,hit.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],hit.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},sit=0;sit<hit.errorTypes.length;sit++)hit[hit.errorTypes[sit]]=sit,hit.prototype[hit.errorTypes[sit]]=sit;var fit=function(t,n){var i,r=null;try{i=JSON.parse(t,n)}catch(t){r=t}return[r,i]};var vit=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(n,i,r){return t[i]&&(n[i]=t[i]),n}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))})},lit=function(t){var n=t.$$("track"),i=Array.prototype.map.call(n,(function(t){return t.track}));return Array.prototype.map.call(n,(function(t){var n=vit(t.track);return t.src&&(n.src=t.src),n})).concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===i.indexOf(t)})).map(vit))},dit=function(t,n){return t.forEach((function(t){var i=n.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return i.addCue(t)}))})),n.textTracks()},git="vjs-modal-dialog",mit=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).P=r.N=r.I=!1,r.closeable(!r.h.uncloseable),r.content(r.h.content),r.S=Ltt("div",{className:git+"-content"},{role:"document"}),r.B=Ltt("p",{className:git+"-description vjs-offscreen",id:r.el().getAttribute("aria-describedby")}),Ftt(r.B,r.description()),r.v.appendChild(r.B),r.v.appendChild(r.S),r.on(n,"languagechange",r.handleLanguagechange),r}Qnt(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"F","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.buildCSSClass=function(){return git+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},i.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},i.label=function(){return this.h.label||this.localize("Modal Window")},i.description=function(){var t=this.h.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},i.open=function(){if(!this.P){var t=this.player();this.trigger("beforemodalopen"),this.P=!0,(this.h.fillAlways||!this.N&&!this.I)&&this.fill(),this.D=!t.paused(),this.h.pauseOnOpen&&this.D&&t.pause(),this.closeable()&&this.on(this.v.ownerDocument,"keydown",Gnt(this,this.handleKeyPress)),t.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.N=!0}return this},i.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.P},i.close=function(){if(this.P){var t=this.player();this.trigger("beforemodalclose"),this.P=!1,this.D&&this.h.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.v.ownerDocument,"keydown",Gnt(this,this.handleKeyPress)),t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.h.temporary&&this.dispose()}return this},i.closeable=function(t){if("boolean"==typeof t){var n=this.R=!!t,i=this.getChild("closeButton");if(n&&!i){var r=this.S;this.S=this.v,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.S=r,this.on(i,"close",this.close)}!n&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.R},i.fill=function(){return this.fillWith(this.content())},i.fillWith=function(t){var n=this.contentEl(),i=n.parentNode,r=n.nextSibling;return this.trigger("beforemodalfill"),this.I=!0,i.removeChild(n),this.empty(),ent(n,t),this.trigger("modalfill"),r?i.insertBefore(n,r):i.appendChild(n),this},i.empty=function(){return this.trigger("beforemodalempty"),int(this.contentEl()),this.trigger("modalempty"),this},i.content=function(t){return void 0!==t&&(this.U=t),this.U},i.handleLanguagechange=function(){this.v.setAttribute("aria-label",this.label()),Ftt(this.B,this.description()),this.opened()?this.fill():(this.N||this.I)&&(this.N=!1,this.I=!1,this.empty())},n}(Ynt);mit.prototype.h={pauseOnOpen:!0,temporary:!0},Ynt.registerComponent("ModalDialog",mit);var wit=function(){function t(n){var i=this;if(Ant)for(var r in i=gtt.createElement("custom"),t.prototype)"constructor"!==r&&(i[r]=t.prototype[r]);if(t.prototype.O.call(i,n),k.defineProperty(i,"length",{get:function(){return this.V}}),Ant)return i}var n=t.prototype;return n.O=function(t){var n=this.length||0,i=0,r=t.length;this.L=t,this.V=t.length;var e=function(t){""+t in this||k.defineProperty(this,""+t,{get:function(){return this.L[t]}})};if(n<r)for(i=n;i<r;i++)e.call(this,i)},n.getCueById=function(t){for(var n=null,i=0,r=this.length;i<r;i++){var e=this[i];if(e.id===t){n=e;break}}return n},t}(),pit={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},yit={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},_it={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},bit={disabled:"disabled",hidden:"hidden",showing:"showing"},kit=function(t){function n(i){var r;void 0===i&&(i={});var e=qnt(r=t.call(this)||this);if(Ant)for(var u in e=gtt.createElement("custom"),n.prototype)"constructor"!==u&&(e[u]=n.prototype[u]);var s={id:i.id||["vjs_track",ptt()].join("_"),kind:i.kind||"",label:i.label||"",language:i.language||""},o=function(t){k.defineProperty(e,t,{get:function(){return s[t]},set:function(){}})};for(var a in s)o(a);return e||qnt(r)}return Qnt(n,t),n}(Knt),Ait=function(t){var n=["protocol","hostname","port","pathname","search","hash","host"],i=gtt.createElement("a");i.href=t;var r,e=""===i.host&&"file:"!==i.protocol;e&&((r=gtt.createElement("div")).innerHTML='<a href="'+t+'"></a>',i=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),gtt.body.appendChild(r));for(var u={},s=0;s<n.length;s++)u[n[s]]=i[n[s]];return"http:"===u.protocol&&(u.host=u.host.replace(/:80$/,"")),"https:"===u.protocol&&(u.host=u.host.replace(/:443$/,"")),e&&gtt.body.removeChild(r),u},Tit=function(t){var n=dtt.location,i=Ait(t);return(":"===i.protocol?n.protocol:i.protocol)+i.host!==n.protocol+n.host},Sit={exports:{}};void 0!==f?Sit.exports=f:void 0!==Rtt?Sit.exports=Rtt:"undefined"!=typeof self?Sit.exports=self:Sit.exports={};var Eit=function(t){var n=Iit.call(t);return"[object Function]"===n||"function"==typeof t&&"[object RegExp]"!==n||void 0!==f&&(t===f.setTimeout||t===f.alert||t===f.confirm||t===f.prompt)},Iit=k.prototype.toString;var Rit,Cit,Nit,xit,Dit,Pit,Mit,Bit,Oit,Lit,Fit,Vit,Uit=Array.prototype.slice,Wit=k.prototype.toString,jit=function(t){var n=this;if("function"!=typeof n||"[object Function]"!==Wit.call(n))throw new _("Function.prototype.bind called on incompatible "+n);for(var i,r=Uit.call(arguments,1),e=A.max(0,n.length-r.length),u=[],s=0;s<e;s++)u.push("$"+s);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var e=n.apply(this,r.concat(Uit.call(arguments)));return k(e)===e?e:this}return n.apply(t,r.concat(Uit.call(arguments)))})),n.prototype){var o=function(){};o.prototype=n.prototype,i.prototype=new o,o.prototype=null}return i},Zit=Function.prototype.bind||jit,Xit=k.prototype.toString,Git=function(t){var n=Xit.call(t),i="[object Arguments]"===n;return i||(i="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===Xit.call(t.callee)),i};k.keys||(Cit=k.prototype.hasOwnProperty,Nit=k.prototype.toString,xit=Git,Dit=k.prototype.propertyIsEnumerable,Pit=!Dit.call({toString:null},"toString"),Mit=Dit.call((function(){}),"prototype"),Bit=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Oit=function(t){var n=t.constructor;return n&&n.prototype===t},Lit={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Fit=function(){if(void 0===f)return!1;for(var t in f)try{if(!Lit["$"+t]&&Cit.call(f,t)&&null!==f[t]&&"object"==typeof f[t])try{Oit(f[t])}catch(t){return!0}}catch(t){return!0}return!1}(),Vit=function(t){if(void 0===f||!Fit)return Oit(t);try{return Oit(t)}catch(t){return!1}},Rit=function(t){var n=null!==t&&"object"==typeof t,i="[object Function]"===Nit.call(t),r=xit(t),e=n&&"[object String]"===Nit.call(t),u=[];if(!n&&!i&&!r)throw new _("Object.keys called on a non-object");var s=Mit&&i;if(e&&t.length>0&&!Cit.call(t,0))for(var o=0;o<t.length;++o)u.push(String(o));if(r&&t.length>0)for(var a=0;a<t.length;++a)u.push(String(a));else for(var c in t)s&&"prototype"===c||!Cit.call(t,c)||u.push(String(c));if(Pit)for(var h=Vit(t),f=0;f<Bit.length;++f)h&&"constructor"===Bit[f]||!Cit.call(t,Bit[f])||u.push(Bit[f]);return u});var Hit=Rit,zit=Array.prototype.slice,Yit=Git,Kit=k.keys,qit=Kit?function(t){return Kit(t)}:Hit,Jit=k.keys;qit.shim=function(){if(k.keys){var t=function(){var t=k.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(k.keys=function(t){return Yit(t)?Jit(zit.call(t)):Jit(t)})}else k.keys=qit;return k.keys||qit};var Qit=qit,$it="function"==typeof n&&"symbol"==typeof n("foo"),trt=k.prototype.toString,nrt=Array.prototype.concat,irt=k.defineProperty,rrt=irt&&function(){var t={};try{for(var n in irt(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),ert=function(t,n,i,r){(!(n in t)||function(t){return"function"==typeof t&&"[object Function]"===trt.call(t)}(r)&&r())&&(rrt?irt(t,n,{configurable:!0,enumerable:!1,value:i,writable:!0}):t[n]=i)},urt=function(t,n){var i=arguments.length>2?arguments[2]:{},r=Qit(n);$it&&(r=nrt.call(r,k.getOwnPropertySymbols(n)));for(var e=0;e<r.length;e+=1)ert(t,r[e],n[r[e]],i[r[e]])};urt.supportsDescriptors=!!rrt;var srt,ort=urt,art=k.getOwnPropertyDescriptor?function(){return k.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new _},crt="function"==typeof n&&"symbol"==typeof r,hrt=k.getPrototypeOf||function(t){return t.__proto__},frt=void 0===I?srt:hrt(I),vrt={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?srt:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?srt:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":crt?hrt([][r]()):srt,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":srt,"$ %AsyncFunction%":undefined,"$ %AsyncFunctionPrototype%":srt,"$ %AsyncGenerator%":srt,"$ %AsyncGeneratorFunction%":undefined,"$ %AsyncGeneratorPrototype%":srt,"$ %AsyncIteratorPrototype%":srt,"$ %Atomics%":"undefined"==typeof Atomics?srt:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?srt:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?srt:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":y,"$ %ErrorPrototype%":y.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?srt:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?srt:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?srt:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?srt:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":srt,"$ %GeneratorFunction%":undefined,"$ %GeneratorPrototype%":srt,"$ %Int8Array%":"undefined"==typeof Int8Array?srt:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?srt:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?srt:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?srt:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?srt:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?srt:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":E,"$ %IteratorPrototype%":crt?hrt(hrt([][r]())):srt,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?srt:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&crt?hrt((new Map)[r]()):srt,"$ %MapPrototype%":"undefined"==typeof Map?srt:Map.prototype,"$ %Math%":A,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":k,"$ %ObjectPrototype%":k.prototype,"$ %ObjProto_toString%":k.prototype.toString,"$ %ObjProto_valueOf%":k.prototype.valueOf,"$ %parseFloat%":S,"$ %parseInt%":T,"$ %Promise%":void 0===ut?srt:ut,"$ %PromisePrototype%":void 0===ut?srt:ut.prototype,"$ %PromiseProto_then%":void 0===ut?srt:ut.prototype.then,"$ %Promise_all%":void 0===ut?srt:ut.all,"$ %Promise_reject%":void 0===ut?srt:ut.reject,"$ %Promise_resolve%":void 0===ut?srt:ut.resolve,"$ %Proxy%":"undefined"==typeof Proxy?srt:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?srt:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?srt:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&crt?hrt((new Set)[r]()):srt,"$ %SetPrototype%":"undefined"==typeof Set?srt:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?srt:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?srt:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":crt?hrt(""[r]()):srt,"$ %StringPrototype%":String.prototype,"$ %Symbol%":crt?n:srt,"$ %SymbolPrototype%":crt?n.prototype:srt,"$ %SyntaxError%":b,"$ %SyntaxErrorPrototype%":b.prototype,"$ %ThrowTypeError%":art,"$ %TypedArray%":frt,"$ %TypedArrayPrototype%":frt?frt.prototype:srt,"$ %TypeError%":_,"$ %TypeErrorPrototype%":_.prototype,"$ %Uint8Array%":void 0===I?srt:I,"$ %Uint8ArrayPrototype%":void 0===I?srt:I.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?srt:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?srt:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?srt:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?srt:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?srt:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?srt:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?srt:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?srt:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?srt:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?srt:WeakSet.prototype},lrt=function(t,n){if(arguments.length>1&&"boolean"!=typeof n)throw new _('"allowMissing" argument must be a boolean');var i="$ "+t;if(!(i in vrt))throw new b("intrinsic "+t+" does not exist!");if(void 0===vrt[i]&&!n)throw new _("intrinsic "+t+" exists, but is not available. Please file an issue!");return vrt[i]},drt=Zit.call(Function.call,k.prototype.hasOwnProperty),grt=lrt,mrt=grt("%TypeError%"),wrt=grt("%SyntaxError%"),prt=drt,yrt={"Property Descriptor":function(t,n){if("Object"!==t.Type(n))return!1;var i={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in n)if(prt(n,r)&&!i[r])return!1;var e=prt(n,"[[Value]]"),u=prt(n,"[[Get]]")||prt(n,"[[Set]]");if(e&&u)throw new mrt("Property Descriptors may not be both accessor and data descriptors");return!0}},_rt=Number.isNaN||function(t){return t!=t},brt=Number.isNaN||function(t){return t!=t},krt=Number.isFinite||function(t){return"number"==typeof t&&!brt(t)&&t!==1/0&&t!==-1/0},Art=Function.prototype.toString,Trt=/^\s*class\b/,Srt=function(t){try{var n=Art.call(t);return Trt.test(n)}catch(t){return!1}},Ert=k.prototype.toString,Irt="function"==typeof n&&"symbol"==typeof n.toStringTag,Rrt=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(Irt)return function(t){try{return!Srt(t)&&(Art.call(t),!0)}catch(t){return!1}}(t);if(Srt(t))return!1;var n=Ert.call(t);return"[object Function]"===n||"[object GeneratorFunction]"===n},Crt=k.prototype.toString,Nrt=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t},xrt=Rrt,Drt=function(t){var n;if((n=arguments.length>1?arguments[1]:"[object Date]"===Crt.call(t)?String:Number)===String||n===Number){var i,r,e=n===String?["toString","valueOf"]:["valueOf","toString"];for(r=0;r<e.length;++r)if(xrt(t[e[r]])&&(i=t[e[r]](),Nrt(i)))return i;throw new _("No default value")}throw new _("invalid [[DefaultValue]] hint supplied")},Prt=lrt,Mrt=Prt("%Object%"),Brt=Prt("%TypeError%"),Ort=Prt("%String%"),Lrt=function(t,n,i,r){var e=yrt[n];if("function"!=typeof e)throw new wrt("unknown record type: "+n);if(!e(t,r))throw new mrt(i+" must be a "+n);console.log(e(t,r),r)},Frt=_rt,Vrt=krt,Urt=function(t){return t>=0?1:-1},Wrt=function(t,n){var i=t%n;return A.floor(i>=0?i:i+n)},jrt=function(t){return Nrt(t)?t:arguments.length>1?Drt(t,arguments[1]):Drt(t)},Zrt=drt,Xrt={ToPrimitive:jrt,ToBoolean:function(t){return!!t},ToNumber:function(t){return+t},ToInteger:function(t){var n=this.ToNumber(t);return Frt(n)?0:0!==n&&Vrt(n)?Urt(n)*A.floor(A.abs(n)):n},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var n=this.ToNumber(t);if(Frt(n)||0===n||!Vrt(n))return 0;var i=Urt(n)*A.floor(A.abs(n));return Wrt(i,65536)},ToString:function(t){return Ort(t)},ToObject:function(t){return this.CheckObjectCoercible(t),Mrt(t)},CheckObjectCoercible:function(t,n){if(null==t)throw new Brt(n||"Cannot call method on "+t);return t},IsCallable:Rrt,SameValue:function(t,n){return t===n?0!==t||1/t==1/n:Frt(t)&&Frt(n)},Type:function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0},IsPropertyDescriptor:function(t){if("Object"!==this.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var i in t)if(Zrt(t,i)&&!n[i])return!1;var r=Zrt(t,"[[Value]]"),e=Zrt(t,"[[Get]]")||Zrt(t,"[[Set]]");if(r&&e)throw new Brt("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(t){return void 0!==t&&(Lrt(this,"Property Descriptor","Desc",t),!(!Zrt(t,"[[Get]]")&&!Zrt(t,"[[Set]]")))},IsDataDescriptor:function(t){return void 0!==t&&(Lrt(this,"Property Descriptor","Desc",t),!(!Zrt(t,"[[Value]]")&&!Zrt(t,"[[Writable]]")))},IsGenericDescriptor:function(t){return void 0!==t&&(Lrt(this,"Property Descriptor","Desc",t),!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t))},FromPropertyDescriptor:function(t){if(void 0===t)return t;if(Lrt(this,"Property Descriptor","Desc",t),this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new Brt("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(t){if("Object"!==this.Type(t))throw new Brt("ToPropertyDescriptor requires an object");var n={};if(Zrt(t,"enumerable")&&(n["[[Enumerable]]"]=this.ToBoolean(t.enumerable)),Zrt(t,"configurable")&&(n["[[Configurable]]"]=this.ToBoolean(t.configurable)),Zrt(t,"value")&&(n["[[Value]]"]=t.value),Zrt(t,"writable")&&(n["[[Writable]]"]=this.ToBoolean(t.writable)),Zrt(t,"get")){var i=t.get;if(void 0!==i&&!this.IsCallable(i))throw new _("getter must be a function");n["[[Get]]"]=i}if(Zrt(t,"set")){var r=t.set;if(void 0!==r&&!this.IsCallable(r))throw new Brt("setter must be a function");n["[[Set]]"]=r}if((Zrt(n,"[[Get]]")||Zrt(n,"[[Set]]"))&&(Zrt(n,"[[Value]]")||Zrt(n,"[[Writable]]")))throw new Brt("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return n}},Grt=Zit.call(Function.call,String.prototype.replace),Hrt=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,zrt=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,Yrt=function(){var t=Xrt.ToString(Xrt.CheckObjectCoercible(this));return Grt(Grt(t,Hrt,""),zrt,"")},Krt=Yrt,qrt=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()?String.prototype.trim:Krt},Jrt=ort,Qrt=qrt,$rt=ort,tet=Yrt,net=qrt,iet=function(){var t=Qrt();return Jrt(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t},ret=Zit.call(Function.call,net());$rt(ret,{getPolyfill:net,implementation:tet,shim:iet});var eet=ret,uet=Rrt,set=k.prototype.toString,oet=k.prototype.hasOwnProperty,aet=function(t,n,i){if(!uet(n))throw new _("iterator must be a function");var r;arguments.length>=3&&(r=i),"[object Array]"===set.call(t)?function(t,n,i){for(var r=0,e=t.length;r<e;r++)oet.call(t,r)&&(null==i?n(t[r],r,t):n.call(i,t[r],r,t))}(t,n,r):"string"==typeof t?function(t,n,i){for(var r=0,e=t.length;r<e;r++)null==i?n(t.charAt(r),r,t):n.call(i,t.charAt(r),r,t)}(t,n,r):function(t,n,i){for(var r in t)oet.call(t,r)&&(null==i?n(t[r],r,t):n.call(i,t[r],r,t))}(t,n,r)},cet=eet,het=aet,fet=function(){for(var t={},n=0;n<arguments.length;n++){var i=arguments[n];for(var r in i)vet.call(i,r)&&(t[r]=i[r])}return t},vet=k.prototype.hasOwnProperty;var det=Sit.exports,get=Eit,met=function(t){if(!t)return{};var n={};return het(cet(t).split("\n"),(function(t){var i=t.indexOf(":"),r=cet(t.slice(0,i)).toLowerCase(),e=cet(t.slice(i+1));void 0===n[r]?n[r]=e:!function(t){return"[object Array]"===k.prototype.toString.call(t)}(n[r])?n[r]=[n[r],e]:n[r].push(e)})),n},wet=fet,pet=_et;function yet(t,n,i){var r=t;return get(n)?(i=n,"string"==typeof t&&(r={uri:t})):r=wet(n,{uri:t}),r.callback=i,r}function _et(t,n,i){return bet(n=yet(t,n,i))}function bet(t){if(void 0===t.callback)throw new y("callback argument missing");var n=!1,i=function(i,r,e){n||(n=!0,t.callback(i,r,e))};function r(){var t=void 0;if(t=c.response?c.response:c.responseText||function(t){if("document"===t.responseType)return t.responseXML;var n=204===t.status&&t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!n)return t.responseXML;return null}(c),p)try{t=JSON.parse(t)}catch(t){}return t}var e={body:void 0,headers:{},statusCode:0,method:v,url:f,rawRequest:c};function u(t){return m(h),t instanceof y||(t=new y(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,e)}function s(){if(!a){var n;m(h),n=t.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var u=e,s=null;return 0!==n?(u={body:r(),statusCode:n,method:v,headers:{},url:f,rawRequest:c},c.getAllResponseHeaders&&(u.headers=met(c.getAllResponseHeaders()))):s=new y("Internal XMLHttpRequest Error"),i(s,u,u.body)}}var o,a,c=t.xhr||null;c||(c=t.cors||t.useXDR?new _et.XDomainRequest:new _et.XMLHttpRequest);var h,f=c.url=t.uri||t.url,v=c.method=t.method||"GET",l=t.body||t.data||null,d=c.headers=t.headers||{},w=!!t.sync,p=!1;if("json"in t&&(p=!0,d.accept||d.Accept||(d.Accept="application/json"),"GET"!==v&&"HEAD"!==v&&(d["content-type"]||d["Content-Type"]||(d["Content-Type"]="application/json"),l=JSON.stringify(t.json))),c.onreadystatechange=function(){4===c.readyState&&s()},c.onload=s,c.onerror=u,c.onprogress=function(){},c.ontimeout=u,c.open(v,f,!w,t.username,t.password),w||(c.withCredentials=!!t.withCredentials),!w&&t.timeout>0&&(h=g((function(){a=!0,c.abort("timeout");var t=new y("XMLHttpRequest timeout");t.code="ETIMEDOUT",u(t)}),t.timeout)),c.setRequestHeader)for(o in d)d.hasOwnProperty(o)&&c.setRequestHeader(o,d[o]);else if(t.headers&&!function(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0}(t.headers))throw new y("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(c.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(c),c.send(l),c}_et.XMLHttpRequest=det.XMLHttpRequest||function(){},_et.XDomainRequest="withCredentials"in new _et.XMLHttpRequest?_et.XMLHttpRequest:det.XDomainRequest,function(t,n){for(var i=0;i<t.length;i++)n(t[i])}(["get","put","post","patch","head","delete"],(function(t){_et["delete"===t?"del":t]=function(n,i,r){return(i=yet(n,i,r)).method=t.toUpperCase(),bet(i)}}));var ket=function(t,n){var i=new dtt.WebVTT.Parser(dtt,dtt.vttjs,dtt.WebVTT.StringDecoder()),r=[];i.oncue=function(t){n.addCue(t)},i.onparsingerror=function(t){r.push(t)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(t),r.length>0&&(dtt.console&&dtt.console.groupCollapsed&&dtt.console.groupCollapsed("Text Track parsing errors for "+n.src),r.forEach((function(t){return Itt.error(t)})),dtt.console&&dtt.console.groupEnd&&dtt.console.groupEnd()),i.flush()},Aet=function(t){function n(i){var r;if(void 0===i&&(i={}),!i.tech)throw new y("A tech was not provided.");var e=znt(i,{kind:_it[i.kind]||"subtitles",language:i.language||i.srclang||""}),u=bit[e.mode]||"disabled",s=e.default;"metadata"!==e.kind&&"chapters"!==e.kind||(u="hidden");var o=r=t.call(this,e)||this;if(o.H=e.tech,Ant)for(var a in n.prototype)"constructor"!==a&&(o[a]=n.prototype[a]);o.L=[],o.q=[];var c=new wit(o.L),h=new wit(o.q),f=!1,v=Gnt(o,(function(){this.activeCues,f&&(this.trigger("cuechange"),f=!1)}));return"disabled"!==u&&o.H.ready((function(){o.H.on("timeupdate",v)}),!0),k.defineProperty(o,"default",{get:function(){return s},set:function(){}}),k.defineProperty(o,"mode",{get:function(){return u},set:function(t){var n=this;bit[t]&&("showing"===(u=t)&&this.H.ready((function(){n.H.on("timeupdate",v)}),!0),this.trigger("modechange"))}}),k.defineProperty(o,"cues",{get:function(){return this.W?c:null},set:function(){}}),k.defineProperty(o,"activeCues",{get:function(){if(!this.W)return null;if(0===this.cues.length)return h;for(var t=this.H.currentTime(),n=[],i=0,r=this.cues.length;i<r;i++){var e=this.cues[i];(e.startTime<=t&&e.endTime>=t||e.startTime===e.endTime&&e.startTime<=t&&e.startTime+.5>=t)&&n.push(e)}if(f=!1,n.length!==this.q.length)f=!0;else for(var u=0;u<n.length;u++)-1===this.q.indexOf(n[u])&&(f=!0);return this.q=n,h.O(this.q),h},set:function(){}}),e.src?(o.src=e.src,function(t,n){var i={uri:t},r=Tit(t);r&&(i.cors=r),pet(i,Gnt(this,(function(t,i,r){if(t)return Itt.error(t,i);if(n.W=!0,"function"!=typeof dtt.WebVTT){if(n.H){var e=function(){return ket(r,n)};n.H.on("vttjsloaded",e),n.H.on("vttjserror",(function(){Itt.error("vttjs failed to load, stopping trying to process "+n.src),n.H.off("vttjsloaded",e)}))}}else ket(r,n)})))}(e.src,o)):o.W=!0,o||qnt(r)}Qnt(n,t);var i=n.prototype;return i.addCue=function(t){var n=t;if(dtt.vttjs&&!(t instanceof dtt.vttjs.VTTCue)){for(var i in n=new dtt.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)i in n||(n[i]=t[i]);n.id=t.id,n.G=t}var r=this.H.textTracks();if(r)for(var e=0;e<r.length;e++)r[e]!==this&&r[e].removeCue(n);this.L.push(n),this.cues.O(this.L)},i.removeCue=function(t){for(var n=this.L.length;n--;){var i=this.L[n];if(i===t||i.G&&i.G===t){this.L.splice(n,1),this.cues.O(this.L);break}}},n}(kit);Aet.prototype.A={cuechange:"cuechange"};var Tet=function(t){function n(i){var r,e;void 0===i&&(i={});var u=qnt(r=t.call(this)||this);if(Ant)for(var s in u=gtt.createElement("custom"),n.prototype)"constructor"!==s&&(u[s]=n.prototype[s]);var o=new Aet(i);return u.kind=o.kind,u.src=o.src,u.srclang=o.language,u.label=o.label,u.default=o.default,k.defineProperty(u,"readyState",{get:function(){return e}}),k.defineProperty(u,"track",{get:function(){return o}}),e=0,o.addEventListener("loadeddata",(function(){e=2,u.trigger({type:"load",target:u})})),Ant?u||qnt(r):r}return Qnt(n,t),n}(Knt);Tet.prototype.A={load:"load"},Tet.NONE=0,Tet.LOADING=1,Tet.LOADED=2,Tet.ERROR=3;var Eet,Iet=function(){function t(n){void 0===n&&(n=[]);var i=this;if(Ant)for(var r in i=gtt.createElement("custom"),t.prototype)"constructor"!==r&&(i[r]=t.prototype[r]);i.X=[],k.defineProperty(i,"length",{get:function(){return this.X.length}});for(var e=0,u=n.length;e<u;e++)i.J(n[e]);if(Ant)return i}var n=t.prototype;return n.J=function(t){var n=this.X.length;""+n in this||k.defineProperty(this,n,{get:function(){return this.X[n]}}),-1===this.X.indexOf(t)&&this.X.push(t)},n.Y=function(t){for(var n,i=0,r=this.X.length;i<r;i++)if(t===this.X[i].track){n=this.X[i];break}return n},n.K=function(t){for(var n=0,i=this.X.length;n<i;n++)if(t===this.X[n]){this.X.splice(n,1);break}},t}(),Ret=function(t){function n(i,r){var e;if(void 0===i&&(i=[]),void 0===r&&(r=null),e=t.call(this)||this,!r&&(r=qnt(e),Ant))for(var u in r=gtt.createElement("custom"),n.prototype)"constructor"!==u&&(r[u]=n.prototype[u]);r.Z=[],k.defineProperty(r,"length",{get:function(){return this.Z.length}});for(var s=0;s<i.length;s++)r.tt(i[s]);return r||qnt(e)}Qnt(n,t);var i=n.prototype;return i.tt=function(t){var n=this.Z.length;""+n in this||k.defineProperty(this,n,{get:function(){return this.Z[n]}}),-1===this.Z.indexOf(t)&&(this.Z.push(t),this.trigger({track:t,type:"addtrack"}))},i.it=function(t){for(var n,i=0,r=this.length;i<r;i++)if(this[i]===t){(n=this[i]).off&&n.off(),this.Z.splice(i,1);break}n&&this.trigger({track:n,type:"removetrack"})},i.getTrackById=function(t){for(var n=null,i=0,r=this.length;i<r;i++){var e=this[i];if(e.id===t){n=e;break}}return n},n}(Knt);for(Eet in Ret.prototype.A={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Ret.prototype.A)Ret.prototype["on"+Eet]=null;var Cet=function(t){function n(i){var r,e;if(void 0===i&&(i=[]),Ant){for(var u in e=gtt.createElement("custom"),Ret.prototype)"constructor"!==u&&(e[u]=Ret.prototype[u]);for(var s in n.prototype)"constructor"!==s&&(e[s]=n.prototype[s])}return(e=r=t.call(this,i,e)||this)||qnt(r)}return Qnt(n,t),n.prototype.tt=function(n){t.prototype.tt.call(this,n),n.addEventListener("modechange",Gnt(this,(function(){this.trigger("change")})))},n}(Ret),Net=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].selected=!1)},xet=function(t){function n(i){var r,e;void 0===i&&(i=[]);for(var u=i.length-1;u>=0;u--)if(i[u].selected){Net(i,i[u]);break}if(Ant){for(var s in e=gtt.createElement("custom"),Ret.prototype)"constructor"!==s&&(e[s]=Ret.prototype[s]);for(var o in n.prototype)"constructor"!==o&&(e[o]=n.prototype[o])}return(e=r=t.call(this,i,e)||this).st=!1,k.defineProperty(e,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),e||qnt(r)}Qnt(n,t);var i=n.prototype;return i.tt=function(n){var i=this;n.selected&&Net(this,n),t.prototype.tt.call(this,n),n.addEventListener&&n.addEventListener("selectedchange",(function(){i.st||(i.st=!0,Net(i,n),i.st=!1,i.trigger("change"))}))},i.addTrack=function(t){this.tt(t)},i.removeTrack=function(n){t.prototype.it.call(this,n)},n}(Ret),Det=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].enabled=!1)},Pet=function(t){function n(i){var r,e;void 0===i&&(i=[]);for(var u=i.length-1;u>=0;u--)if(i[u].enabled){Det(i,i[u]);break}if(Ant){for(var s in e=gtt.createElement("custom"),Ret.prototype)"constructor"!==s&&(e[s]=Ret.prototype[s]);for(var o in n.prototype)"constructor"!==o&&(e[o]=n.prototype[o])}return(e=r=t.call(this,i,e)||this).st=!1,e||qnt(r)}Qnt(n,t);var i=n.prototype;return i.tt=function(n){var i=this;n.enabled&&Det(this,n),t.prototype.tt.call(this,n),n.addEventListener&&n.addEventListener("enabledchange",(function(){i.st||(i.st=!0,Det(i,n),i.st=!1,i.trigger("change"))}))},i.addTrack=function(t){this.tt(t)},i.removeTrack=function(n){t.prototype.it.call(this,n)},n}(Ret),Met=void 0;var Bet=function(t){function n(n,i){var r;return void 0===n&&(n={}),void 0===i&&(i=function(){}),n.reportTouchActivity=!1,(r=t.call(this,null,n,i)||this).et=!1,r.on("playing",(function(){this.et=!0})),r.on("loadstart",(function(){this.et=!1})),r.nt=n.textTracks,r.rt=n.videoTracks,r.ht=n.audioTracks,r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(t){!1===n["native"+t+"Tracks"]&&(r["featuresNative"+t+"Tracks"]=!1)})),!1===n.nativeCaptions&&(r.featuresNativeTextTracks=!1),r.featuresNativeTextTracks||r.emulateTextTracks(),r.ot=new Cet,r.initTextTrackListeners(),r.initTrackListeners(),n.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.l=r.constructor.name||"Unknown Tech"),r}Qnt(n,t);var i=n.prototype;return i.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},i.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},i.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Gnt(this,(function(){var t=this.bufferedPercent();this.ut!==t&&this.trigger("progress"),this.ut=t,1===t&&this.stopTrackingProgress()})),500)},i.onDurationChange=function(t){this.ct=this.duration()},i.buffered=function(){return nit(0,0)},i.bufferedPercent=function(){return iit(this.buffered(),this.ct)},i.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},i.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},i.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},i.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},i.clearTracks=function(t){var n=this;(t=[].concat(t)).forEach((function(t){for(var i=n[t+"Tracks"]()||[],r=i.length;r--;){var e=i[r];"text"===t&&n.removeRemoteTextTrack(e),i.it(e)}}))},i.cleanupAutoTextTracks=function(){for(var t=this.ot||[],n=t.length;n--;){var i=t[n];this.removeRemoteTextTrack(i)}},i.reset=function(){},i.error=function(t){return void 0!==t&&(this.lt=new hit(t),this.trigger("error")),this.lt},i.played=function(){return this.et?nit(0,0):nit()},i.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.initTextTrackListeners=function(){var t=Gnt(this,(function(){this.trigger("texttrackchange")})),n=this.textTracks();n&&(n.addEventListener("removetrack",t),n.addEventListener("addtrack",t),this.on("dispose",Gnt(this,(function(){n.removeEventListener("removetrack",t),n.removeEventListener("addtrack",t)}))))},i.initTrackListeners=function(){var t=this;["video","audio"].forEach((function(n){var i=function(){t.trigger(n+"trackchange")},r=t[n+"Tracks"]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),t.on("dispose",(function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)}))}))},i.dt=function(){var t=this;if(!dtt.WebVTT)if(gtt.body.contains(this.el())){if(!this.h["vtt.js"]&&Stt(Met)&&k.keys(Met).length>0)return void this.trigger("vttjsloaded");var n=gtt.createElement("script");n.src=this.h["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",n.onload=function(){t.trigger("vttjsloaded")},n.onerror=function(){t.trigger("vttjserror")},this.on("dispose",(function(){n.onload=null,n.onerror=null})),dtt.WebVTT=!0,this.el().parentNode.appendChild(n)}else this.ready(this.dt)},i.emulateTextTracks=function(){var t=this,n=this.textTracks();if(n){var i=this.remoteTextTracks(),r=function(t){return n.tt(t.track)},e=function(t){return n.it(t.track)};i.on("addtrack",r),i.on("removetrack",e),this.dt();var u=function(){return t.trigger("texttrackchange")},s=function(){u();for(var t=0;t<n.length;t++){var i=n[t];i.removeEventListener("cuechange",u),"showing"===i.mode&&i.addEventListener("cuechange",u)}};s(),n.addEventListener("change",s),n.addEventListener("addtrack",s),n.addEventListener("removetrack",s),this.on("dispose",(function(){i.off("addtrack",r),i.off("removetrack",e),n.removeEventListener("change",s),n.removeEventListener("addtrack",s),n.removeEventListener("removetrack",s);for(var t=0;t<n.length;t++){n[t].removeEventListener("cuechange",u)}}))}},i.videoTracks=function(){return this.rt=this.rt||new xet,this.rt},i.audioTracks=function(){return this.ht=this.ht||new Pet,this.ht},i.textTracks=function(){return this.nt=this.nt||new Cet,this.nt},i.remoteTextTracks=function(){return this.ft=this.ft||new Cet,this.ft},i.remoteTextTrackEls=function(){return this.vt=this.vt||new Iet,this.vt},i.addTextTrack=function(t,n,i){if(!t)throw new y("TextTrack kind is required but was not provided");return function(t,n,i,r,e){void 0===e&&(e={});var u=t.textTracks();e.kind=n,i&&(e.label=i),r&&(e.language=r),e.tech=t;var s=new Aet(e);return u.tt(s),s}(this,t,n,i)},i.createRemoteTextTrack=function(t){var n=znt(t,{tech:this});return new Tet(n)},i.addRemoteTextTrack=function(t,n){void 0===t&&(t={});var i=this.createRemoteTextTrack(t);return!0!==n&&!1!==n&&(Itt.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().J(i),this.remoteTextTracks().tt(i.track),!0!==n&&this.ot.tt(i.track),i},i.removeRemoteTextTrack=function(t){var n=this.remoteTextTrackEls().Y(t);this.remoteTextTrackEls().K(n),this.remoteTextTracks().it(t),this.ot.it(t)},i.getVideoPlaybackQuality=function(){return{}},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.canPlayType=function(){return""},n.isTech=function(t){return t.prototype instanceof n||t instanceof n||t===n},n.registerTech=function(t,i){if(n.gt||(n.gt={}),!n.isTech(i))throw new y("Tech "+t+" must be a Tech");return n.gt[t]=i,i},n.getTech=function(t){return n.gt&&n.gt[t]?n.gt[t]:dtt&&dtt.videojs&&dtt.videojs[t]?(Itt.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),dtt.videojs[t]):void 0},n}(Ynt);Bet.prototype.nt,Bet.prototype.ht,Bet.prototype.rt,Bet.prototype.featuresVolumeControl=!0,Bet.prototype.featuresFullscreenResize=!1,Bet.prototype.featuresPlaybackRate=!1,Bet.prototype.featuresProgressEvents=!1,Bet.prototype.featuresTimeupdateEvents=!1,Bet.prototype.featuresNativeTextTracks=!1,Bet.withSourceHandlers=function(t){t.registerSourceHandler=function(n,i){var r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),void 0===i&&(i=r.length),r.splice(i,0,n)},t.canPlayType=function(n){for(var i,r=t.sourceHandlers||[],e=0;e<r.length;e++)if(i=r[e].canPlayType(n))return i;return""},t.selectSourceHandler=function(n,i){for(var r=t.sourceHandlers||[],e=0;e<r.length;e++)if(r[e].canHandleSource(n,i))return r[e];return null},t.canPlaySource=function(n,i){var r=t.selectSourceHandler(n,i);return r?r.canHandleSource(n,i):""};["seekable","duration"].forEach((function(t){var n=this[t];"function"==typeof n&&(this[t]=function(){return this.yt&&this.yt[t]?this.yt[t].apply(this.yt,arguments):n.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(n){var i=t.selectSourceHandler(n,this.h);return i||(t.nativeSourceHandler?i=t.nativeSourceHandler:Itt.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==t.nativeSourceHandler&&(this.bt=n,this.off(this.v,"loadstart",t.prototype.kt),this.off(this.v,"loadstart",t.prototype.wt),this.one(this.v,"loadstart",t.prototype.kt)),this.yt=i.handleSource(n,this,this.h),this.on("dispose",this.disposeSourceHandler),this},t.prototype.kt=function(){this.one(this.v,"loadstart",t.prototype.wt)},t.prototype.wt=function(){this.disposeSourceHandler(),this.one(this.v,"loadstart",t.prototype.wt)},t.prototype.disposeSourceHandler=function(){this.bt&&(this.clearTracks(["audio","video"]),this.bt=null),this.cleanupAutoTextTracks(),this.yt&&(this.off(this.v,"loadstart",t.prototype.kt),this.off(this.v,"loadstart",t.prototype.wt),this.yt.dispose&&this.yt.dispose(),this.yt=null)}},Ynt.registerComponent("Tech",Bet),Ynt.registerComponent("MediaTechController",Bet),Bet.registerTech("Tech",Bet);var Oet=function(t){function n(n,i,r){var e;if(e=t.call(this,n,i,r)||this,i.playerOptions.sources&&0!==i.playerOptions.sources.length)n.src(i.playerOptions.sources);else for(var u=0,s=i.playerOptions.techOrder;u<s.length;u++){var o=Hnt(s[u]),a=Bet.getTech(o);if(o||(a=Ynt.getComponent(o)),a&&a.isSupported()){n._t(o);break}}return e}return Qnt(n,t),n}(Ynt);Ynt.registerComponent("MediaLoader",Oet);var Let=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).emitTapEvents(),r.on(n,"languagechange",r.handleLanguagechange),r.enable(),r}Qnt(n,t);var i=n.prototype;return i.createEl=function(n,i,r){void 0===n&&(n="div"),void 0===i&&(i={}),void 0===r&&(r={}),i=Att({className:this.buildCSSClass(),tabIndex:0},i),"button"===n&&Itt.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),r=Att({role:"button","aria-live":"polite"},r),this.xt=i.tabIndex;var e=t.prototype.createEl.call(this,n,i,r);return this.createControlTextEl(e),e},i.createControlTextEl=function(t){return this.Ct=Ltt("span",{className:"vjs-control-text"}),t&&t.appendChild(this.Ct),this.controlText(this.St,t),this.Ct},i.controlText=function(t,n){if(void 0===n&&(n=this.el()),void 0===t)return this.St||"Need Text";var i=this.localize(t);return this.St=t,this.Ct.innerHTML=i,this.nonIconControl||n.setAttribute("title",i),this},i.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},i.enable=function(){return this.removeClass("vjs-disabled"),this.v.setAttribute("aria-disabled","false"),void 0!==this.xt&&this.v.setAttribute("tabIndex",this.xt),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},i.disable=function(){return this.addClass("vjs-disabled"),this.v.setAttribute("aria-disabled","true"),void 0!==this.xt&&this.v.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},i.handleLanguagechange=function(){this.controlText(this.St)},i.handleClick=function(t){},i.handleFocus=function(t){Bnt(gtt,"keydown",Gnt(this,this.handleKeyPress))},i.handleKeyPress=function(n){32===n.which||13===n.which?(n.preventDefault(),this.handleClick(n)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,n)},i.handleBlur=function(t){Ont(gtt,"keydown",Gnt(this,this.handleKeyPress))},n}(Ynt);Ynt.registerComponent("ClickableComponent",Let);var Fet=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).update(),n.on("posterchange",Gnt(qnt(r),r.update)),r}Qnt(n,t);var i=n.prototype;return i.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},i.createEl=function(){var t=Ltt("div",{className:"vjs-poster",tabIndex:-1});return Rnt||(this.jt=Ltt("img"),t.appendChild(this.jt)),t},i.update=function(t){var n=this.player().poster();this.setSrc(n),n?this.show():this.hide()},i.setSrc=function(t){if(this.jt)this.jt.src=t;else{var n="";t&&(n='url("'+t+'")'),this.v.style.backgroundImage=n}},i.handleClick=function(t){this.t.controls()&&(this.t.paused()?this.t.play():this.t.pause())},n}(Let);Ynt.registerComponent("PosterImage",Fet);var Vet="#222",Uet={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Wet(t,n){return"rgba("+T(t[1]+t[1],16)+","+T(t[2]+t[2],16)+","+T(t[3]+t[3],16)+","+n+")"}function jet(t,n,i){try{t.style[n]=i}catch(t){return}}var Zet=function(t){function n(n,i,r){var e;return e=t.call(this,n,i,r)||this,n.on("loadstart",Gnt(qnt(e),e.toggleDisplay)),n.on("texttrackchange",Gnt(qnt(e),e.updateDisplay)),n.ready(Gnt(qnt(e),(function(){if(n.H&&n.H.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",Gnt(this,this.updateDisplay));for(var t=this.h.playerOptions.tracks||[],i=0;i<t.length;i++)this.t.addRemoteTextTrack(t[i],!0);var r,e,u={captions:1,subtitles:1},s=this.t.textTracks();if(s){for(var o=0;o<s.length;o++){var a=s[o];a.default&&("descriptions"!==a.kind||r?a.kind in u&&!e&&(e=a):r=a)}e?e.mode="showing":r&&(r.mode="showing")}}}))),e}Qnt(n,t);var i=n.prototype;return i.toggleDisplay=function(){this.t.H&&this.t.H.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){"function"==typeof dtt.WebVTT&&dtt.WebVTT.processCues(dtt,[],this.v)},i.updateDisplay=function(){var t=this.t.textTracks();if(this.clearDisplay(),t){for(var n=null,i=null,r=t.length;r--;){var e=t[r];"showing"===e.mode&&("descriptions"===e.kind?n=e:i=e)}i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n))}},i.updateForTrack=function(t){if("function"==typeof dtt.WebVTT&&t.activeCues){for(var n=this.t.textTrackSettings.getValues(),i=[],r=0;r<t.activeCues.length;r++)i.push(t.activeCues[r]);dtt.WebVTT.processCues(dtt,i,this.v);for(var e=i.length;e--;){var u=i[e];if(u){var s=u.displayState;if(n.color&&(s.firstChild.style.color=n.color),n.textOpacity&&jet(s.firstChild,"color",Wet(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(s.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&jet(s.firstChild,"backgroundColor",Wet(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?jet(s,"backgroundColor",Wet(n.windowColor,n.windowOpacity)):s.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+Vet:"raised"===n.edgeStyle?s.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+Vet:"depressed"===n.edgeStyle?s.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+Vet:"uniform"===n.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+Vet)),n.fontPercent&&1!==n.fontPercent){var o=dtt.parseFloat(s.style.fontSize);s.style.fontSize=o*n.fontPercent+"px",s.style.height="auto",s.style.top="auto",s.style.bottom="2px"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=Uet[n.fontFamily])}}}},n}(Ynt);Ynt.registerComponent("TextTrackDisplay",Zet);var Xet=function(t){function n(){return t.apply(this,arguments)||this}return Qnt(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},n}(Ynt);Ynt.registerComponent("LoadingSpinner",Xet);var Get=function(t){function n(){return t.apply(this,arguments)||this}Qnt(n,t);var i=n.prototype;return i.createEl=function(t,n,i){void 0===t&&(t="button"),void 0===n&&(n={}),void 0===i&&(i={}),n=Att({className:this.buildCSSClass()},n),"button"!==t&&(Itt.warn("Creating a Button with an HTML element of "+t+" is deprecated; use ClickableComponent instead."),n=Att({tabIndex:0},n),i=Att({role:"button"},i)),i=Att({type:"button","aria-live":"polite"},i);var r=Ynt.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(r),r},i.addChild=function(t,n){void 0===n&&(n={});var i=this.constructor.name;return Itt.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),Ynt.prototype.addChild.call(this,t,n)},i.enable=function(){t.prototype.enable.call(this),this.v.removeAttribute("disabled")},i.disable=function(){t.prototype.disable.call(this),this.v.setAttribute("disabled","disabled")},i.handleKeyPress=function(n){32!==n.which&&13!==n.which&&t.prototype.handleKeyPress.call(this,n)},n}(Let);Ynt.registerComponent("Button",Get);var Het=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Tt=!1,r.on("mousedown",r.handleMouseDown),r}Qnt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(t){var n=this;if(this.Tt&&t.clientX&&t.clientY)this.t.play();else{var i=this.t.getChild("controlBar"),r=i&&i.getChild("playToggle");this.one(this.t,"play",(function(){r?r.focus():n.t.focus()})),this.t.play()}},i.handleKeyPress=function(n){this.Tt=!1,t.prototype.handleKeyPress.call(this,n)},i.handleMouseDown=function(t){this.Tt=!0},n}(Get);Het.prototype.St="Play Video",Ynt.registerComponent("BigPlayButton",Het);var zet=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).controlText(i&&i.controlText||"Close"),r}Qnt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n}(Get);Ynt.registerComponent("CloseButton",zet);var Yet=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"play",r.handlePlay),r.on(n,"pause",r.handlePause),r}Qnt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.t.paused()?this.t.play():this.t.pause()},i.handlePlay=function(t){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n}(Get);function Ket(t,n){void 0===n&&(n=t),t=t<0?0:t;var i=A.floor(t%60),r=A.floor(t/60%60),e=A.floor(t/3600),u=A.floor(n/60%60),s=A.floor(n/3600);return(E(t)||t===1/0)&&(e=r=i="-"),(e=e>0||s>0?e+":":"")+(r=((e||u>=10)&&r<10?"0"+r:r)+":")+(i=i<10?"0"+i:i)}Yet.prototype.St="Play",Ynt.registerComponent("PlayToggle",Yet);var qet=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"timeupdate",r.updateContent),r.on(n,"languagechange",r.updateContent),r}Qnt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.S=Ltt("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),n.appendChild(this.S),n},i.updateContent=function(t){var n=this.t.scrubbing()?this.t.getCache().currentTime:this.t.currentTime(),i=this.localize("Current Time"),r=Ket(n,this.t.duration());r!==this.Mt&&(this.Mt=r,this.S.innerHTML='<span class="vjs-control-text">'+i+"</span> "+r)},n}(Ynt);Ynt.registerComponent("CurrentTimeDisplay",qet);var Jet=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"durationchange",r.updateContent),r.on(n,"timeupdate",r.updateContent),r.on(n,"loadedmetadata",r.updateContent),r.on(n,"languagechange",r.updateContent),r}Qnt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.S=Ltt("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),n.appendChild(this.S),n},i.updateContent=function(t){var n=this.t.duration();if(n&&this.ct!==n){this.ct=n;var i=this.localize("Duration Time"),r=Ket(n);this.S.innerHTML='<span class="vjs-control-text">'+i+"</span> "+r}},n}(Ynt);Ynt.registerComponent("DurationDisplay",Jet);var Qet=function(t){function n(){return t.apply(this,arguments)||this}return Qnt(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},n}(Ynt);Ynt.registerComponent("TimeDivider",Qet);var $et=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"timeupdate",r.updateContent),r.on(n,"durationchange",r.updateContent),r.on(n,"languagechange",r.updateContent),r}Qnt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.S=Ltt("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),n.appendChild(this.S),n},i.updateContent=function(t){if(this.t.duration()){var n=this.localize("Remaining Time"),i=Ket(this.t.remainingTime());i!==this.Mt&&(this.Mt=i,this.S.innerHTML='<span class="vjs-control-text">'+n+"</span> -"+i)}},n}(Ynt);Ynt.registerComponent("RemainingTimeDisplay",$et);var tut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r.on(r.player(),"languagechange",r.handleLanguagechange),r}Qnt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.S=Ltt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.Ct=Ltt("span",{className:"vjs-control-text",innerHTML:this.localize("Stream Type")}),this.At=gtt.createTextNode(this.localize("LIVE")),this.S.appendChild(this.Ct),this.S.appendChild(this.At),n.appendChild(this.S),n},i.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},i.handleLanguagechange=function(){this.Ct.innerHTML=this.localize("Stream Type"),this.At.innerHTML=this.localize("LIVE")},n}(Ynt);Ynt.registerComponent("LiveDisplay",tut);var nut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).bar=r.getChild(r.h.barName),r.vertical(!!r.h.vertical),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on("focus",r.handleFocus),r.on("blur",r.handleBlur),r.on("click",r.handleClick),r.on(n,"controlsvisible",r.update),r.on(n,r.playerEvent,r.update),r}Qnt(n,t);var i=n.prototype;return i.createEl=function(n,i,r){return void 0===i&&(i={}),void 0===r&&(r={}),i.className=i.className+" vjs-slider",i=Att({tabIndex:0},i),r=Att({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),t.prototype.createEl.call(this,n,i,r)},i.handleMouseDown=function(t){var n=this.bar.v.ownerDocument;t.preventDefault(),gtt.body.focus(),gtt.onselectstart=function(){return!1},this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove),this.on(n,"mouseup",this.handleMouseUp),this.on(n,"touchmove",this.handleMouseMove),this.on(n,"touchend",this.handleMouseUp),this.handleMouseMove(t)},i.handleMouseMove=function(t){},i.handleMouseUp=function(){var t=this.bar.v.ownerDocument;gtt.onselectstart=function(){return!0},this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},i.update=function(){if(this.v){var t=this.getPercent(),n=this.bar;if(n){("number"!=typeof t||t!=t||t<0||t===1/0)&&(t=0);var i=(100*t).toFixed(2)+"%";this.vertical()?n.el().style.height=i:n.el().style.width=i}}},i.calculateDistance=function(t){var n=tnt(this.v,t);return this.vertical()?n.y:n.x},i.handleFocus=function(){this.on(this.bar.v.ownerDocument,"keydown",this.handleKeyPress)},i.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},i.handleBlur=function(){this.off(this.bar.v.ownerDocument,"keydown",this.handleKeyPress)},i.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},i.vertical=function(t){return void 0===t?this.Pt||!1:(this.Pt=!!t,this.Pt?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},n}(Ynt);function iut(t,n){if(!t||!n)return"";if("function"==typeof dtt.getComputedStyle){var i=dtt.getComputedStyle(t);return i?i[n]:""}return t.currentStyle[n]||""}Ynt.registerComponent("Slider",nut);var rut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Et=[],r.on(n,"progress",r.update),r.on(n,"languagechange",r.handleLanguagechange),r}Qnt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"});return this.Nt=Ltt("span",{innerHTML:this.localize("Loaded")}),this.It=gtt.createTextNode(": 0%"),this.Ct=Ltt("span",{className:"vjs-control-text"}),this.Ct.appendChild(this.Nt),this.Ct.appendChild(this.It),n.appendChild(this.Ct),n},i.update=function(t){var n=this.t.buffered(),i=this.t.duration(),r=this.t.bufferedEnd(),e=this.Et,u=function(t,n){var i=t/n||0;return 100*(i>=1?1:i)+"%"};this.v.style.width=u(r,i);for(var s=0;s<n.length;s++){var o=n.start(s),a=n.end(s),c=e[s];c||(c=this.v.appendChild(Ltt()),e[s]=c),c.style.left=u(o,r),c.style.width=u(a-o,r)}for(var h=e.length;h>n.length;h--)this.v.removeChild(e[h-1]);e.length=n.length},i.handleLanguagechange=function(){this.Nt.innerHTML=this.localize("Loaded")},n}(Ynt);Ynt.registerComponent("LoadProgressBar",rut);var eut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).updateDataAttr(),r.on(n,"timeupdate",r.updateDataAttr),r.on(n,"languagechange",r.handleLanguagechange),n.ready(Gnt(qnt(r),r.updateDataAttr)),i.playerOptions&&i.playerOptions.controlBar&&i.playerOptions.controlBar.progressControl&&i.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=i.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&r.addClass("vjs-keep-tooltips-inside"),r}Qnt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"});return this.Bt=Ltt("span",{innerHTML:this.localize("Progress")}),this.Ft=gtt.createTextNode(": 0%"),this.Ct=Ltt("span",{className:"vjs-control-text"}),this.Ct.appendChild(this.Bt),this.Ct.appendChild(this.Ft),n.appendChild(this.Ct),n},i.updateDataAttr=function(t){var n=this.t.scrubbing()?this.t.getCache().currentTime:this.t.currentTime();this.v.setAttribute("data-current-time",Ket(n,this.t.duration()))},i.handleLanguagechange=function(){this.Bt.innerHTML=this.localize("Progress")},n}(Ynt);Ynt.registerComponent("PlayProgressBar",eut);var uut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).updateDataAttr(),r.on(n,"timeupdate",r.updateDataAttr),r.on(n,"languagechange",r.handleLanguagechange),n.ready(Gnt(qnt(r),r.updateDataAttr)),r}Qnt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar"});return this.tooltip=Ltt("div",{className:"vjs-time-tooltip"}),this.Bt=Ltt("span",{innerHTML:this.localize("Progress")}),this.Ft=gtt.createTextNode(": 0%"),this.Ct=Ltt("span",{className:"vjs-control-text"}),this.Ct.appendChild(this.Bt),this.Ct.appendChild(this.Ft),n.appendChild(this.tooltip),n.appendChild(this.Ct),n},i.updateDataAttr=function(t){var n=Ket(this.t.scrubbing()?this.t.getCache().currentTime:this.t.currentTime(),this.t.duration());this.v.setAttribute("data-current-time",n),this.tooltip.innerHTML=n},i.handleLanguagechange=function(){this.Bt.innerHTML=this.localize("Progress")},n}(Ynt);Ynt.registerComponent("TooltipProgressBar",uut);var sut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"timeupdate",r.updateProgress),r.on(n,"ended",r.updateProgress),n.ready(Gnt(qnt(r),r.updateProgress)),i.playerOptions&&i.playerOptions.controlBar&&i.playerOptions.controlBar.progressControl&&i.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=i.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltipProgressBar=r.addChild("TooltipProgressBar")),r}Qnt(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},i.updateProgress=function(t){if(this.updateAriaAttributes(this.v),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.v),this.tooltipProgressBar.v.style.width=this.bar.v.style.width;var n=S(iut(this.player().el(),"width")),i=S(iut(this.tooltipProgressBar.tooltip,"width")),r=this.tooltipProgressBar.el().style;r.maxWidth=A.floor(n-i/2)+"px",r.minWidth=A.ceil(i/2)+"px",r.right="-"+i/2+"px"}},i.updateAriaAttributes=function(t){var n=this.t.scrubbing()?this.t.getCache().currentTime:this.t.currentTime();t.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),t.setAttribute("aria-valuetext",Ket(n,this.t.duration()))},i.getPercent=function(){var t=this.t.currentTime()/this.t.duration();return t>=1?1:t},i.handleMouseDown=function(n){this.t.scrubbing(!0),this.videoWasPlaying=!this.t.paused(),this.t.pause(),t.prototype.handleMouseDown.call(this,n)},i.handleMouseMove=function(t){var n=this.calculateDistance(t)*this.t.duration();n===this.t.duration()&&(n-=.1),this.t.currentTime(n)},i.handleMouseUp=function(n){t.prototype.handleMouseUp.call(this,n),this.t.scrubbing(!1),this.videoWasPlaying&&this.t.play()},i.stepForward=function(){this.t.currentTime(this.t.currentTime()+5)},i.stepBack=function(){this.t.currentTime(this.t.currentTime()-5)},n}(nut);sut.prototype.h={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},sut.prototype.playerEvent="timeupdate",Ynt.registerComponent("SeekBar",sut);var out=function(t){function n(n,i){var r;return r=t.call(this,n,i)||this,i.playerOptions&&i.playerOptions.controlBar&&i.playerOptions.controlBar.progressControl&&i.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=i.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltip=Ltt("div",{className:"vjs-time-tooltip"}),r.el().appendChild(r.tooltip),r.addClass("vjs-keep-tooltips-inside")),r.update(0,0),n.on("ready",(function(){r.on(n.controlBar.progressControl.el(),"mousemove",function(t,n){var i=Date.now();return function(){var r=Date.now();r-i>=n&&(t.apply(void 0,arguments),i=r)}}(Gnt(qnt(r),r.handleMouseMove),25))})),r}Qnt(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.handleMouseMove=function(t){var n=this.t.duration(),i=this.calculateDistance(t)*n,r=t.pageX-$tt(this.el().parentNode).left;this.update(i,r)},i.update=function(t,n){var i=Ket(t,this.t.duration());if(this.el().style.left=n+"px",this.el().setAttribute("data-current-time",i),this.keepTooltipsInside){var r=n-this.Dt(n)+1,e=S(iut(this.tooltip,"width"))/2;this.tooltip.innerHTML=i,this.tooltip.style.right="-"+(e-r)+"px"}},i.calculateDistance=function(t){return tnt(this.el().parentNode,t).x},i.Dt=function(t){if(!this.keepTooltipsInside)return t;var n=S(iut(this.player().el(),"width")),i=S(iut(this.tooltip,"width"))/2,r=t;return t<i?r=A.ceil(i):t>n-i&&(r=A.floor(n-i)),r},n}(Ynt);Ynt.registerComponent("MouseTimeDisplay",out);var aut=function(t){function n(){return t.apply(this,arguments)||this}return Qnt(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n}(Ynt);aut.prototype.h={children:["seekBar"]},Ynt.registerComponent("ProgressControl",aut);var cut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"fullscreenchange",r.handleFullscreenChange),r}Qnt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(t){this.t.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(t){this.t.isFullscreen()?this.t.exitFullscreen():this.t.requestFullscreen()},n}(Get);cut.prototype.St="Fullscreen",Ynt.registerComponent("FullscreenToggle",cut);var hut=function(t){function n(){return t.apply(this,arguments)||this}return Qnt(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},n}(Ynt);Ynt.registerComponent("VolumeLevel",hut);var fut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"volumechange",r.updateARIAAttributes),n.ready(Gnt(qnt(r),r.updateARIAAttributes)),r}Qnt(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},i.handleMouseMove=function(t){this.checkMuted(),this.t.volume(this.calculateDistance(t))},i.checkMuted=function(){this.t.muted()&&this.t.muted(!1)},i.getPercent=function(){return this.t.muted()?0:this.t.volume()},i.stepForward=function(){this.checkMuted(),this.t.volume(this.t.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.t.volume(this.t.volume()-.1)},i.updateARIAAttributes=function(t){var n=(100*this.t.volume()).toFixed(2);this.v.setAttribute("aria-valuenow",n),this.v.setAttribute("aria-valuetext",n+"%")},n}(nut);fut.prototype.h={children:["volumeLevel"],barName:"volumeLevel"},fut.prototype.playerEvent="volumechange",Ynt.registerComponent("VolumeBar",fut);var vut=function(t){function n(n,i){var r;return r=t.call(this,n,i)||this,n.H&&!1===n.H.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(n,"loadstart",(function(){!1===n.H.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})),r}return Qnt(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},n}(Ynt);vut.prototype.h={children:["volumeBar"]},Ynt.registerComponent("VolumeControl",vut);var lut=function(t){function n(){return t.apply(this,arguments)||this}Qnt(n,t);var i=n.prototype;return i.addItem=function(t){this.addChild(t),t.on("click",Gnt(this,(function(){this.unlockShowing()})))},i.createEl=function(){var n=this.h.contentElType||"ul";this.S=Ltt(n,{className:"vjs-menu-content"});var i=t.prototype.createEl.call(this,"div",{append:this.S,className:"vjs-menu"});return i.appendChild(this.S),Bnt(i,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),i},n}(Ynt);Ynt.registerComponent("Popup",lut);var dut=function(t){function n(n,i){var r;return void 0===i&&(i={}),(r=t.call(this,n,i)||this).update(),r}Qnt(n,t);var i=n.prototype;return i.update=function(){var t=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=t,this.addChild(t),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},i.createPopup=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.h.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},n}(Let);Ynt.registerComponent("PopupButton",dut);var gut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"volumechange",r.update),n.H&&!1===n.H.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(n,"loadstart",(function(){this.update(),!1===n.H.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})),r}Qnt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.t.muted(!this.t.muted())},i.update=function(t){var n=this.t.volume(),i=3;this.t.muted()?i=0:n<.33?i=1:n<.67&&(i=2);var r=this.t.muted()?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r);for(var e=0;e<4;e++)ztt(this.v,"vjs-vol-"+e);Htt(this.v,"vjs-vol-"+i)},n}(Get);gut.prototype.St="Mute",Ynt.registerComponent("MuteToggle",gut);var mut=function(t){function n(n,i){var r;function e(){n.H&&!1===n.H.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}return void 0===i&&(i={}),void 0===i.inline&&(i.inline=!0),void 0===i.vertical&&(i.inline?i.vertical=!1:i.vertical=!0),i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=!!i.vertical,(r=t.call(this,n,i)||this).on(n,"volumechange",r.volumeUpdate),r.on(n,"loadstart",r.volumeUpdate),e.call(qnt(r)),r.on(n,"loadstart",e),r.on(r.volumeBar,["slideractive","focus"],(function(){this.addClass("vjs-slider-active")})),r.on(r.volumeBar,["sliderinactive","blur"],(function(){this.removeClass("vjs-slider-active")})),r.on(r.volumeBar,["focus"],(function(){this.addClass("vjs-lock-showing")})),r.on(r.volumeBar,["blur"],(function(){this.removeClass("vjs-lock-showing")})),r}Qnt(n,t);var i=n.prototype;return i.buildCSSClass=function(){var n="";return n=this.h.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+t.prototype.buildCSSClass.call(this)+" "+n},i.createPopup=function(){var t=new lut(this.t,{contentElType:"div"}),n=new fut(this.t,this.h.volumeBar);return t.addChild(n),this.menuContent=t,this.volumeBar=n,this.attachVolumeBarEvents(),t},i.handleClick=function(n){gut.prototype.handleClick.call(this),t.prototype.handleClick.call(this)},i.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],Gnt(this,this.handleMouseDown))},i.handleMouseDown=function(t){this.on(["mousemove","touchmove"],Gnt(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.v.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},i.handleMouseUp=function(t){this.off(["mousemove","touchmove"],Gnt(this.volumeBar,this.volumeBar.handleMouseMove))},n}(dut);mut.prototype.volumeUpdate=gut.prototype.update,mut.prototype.St="Mute",Ynt.registerComponent("VolumeMenuButton",mut);var wut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).$t=-1,r.on("keydown",r.handleKeyPress),r}Qnt(n,t);var i=n.prototype;return i.addItem=function(t){this.addChild(t),t.on("click",Gnt(this,(function(t){this.unlockShowing()})))},i.createEl=function(){var n=this.h.contentElType||"ul";this.S=Ltt(n,{className:"vjs-menu-content"}),this.S.setAttribute("role","menu");var i=t.prototype.createEl.call(this,"div",{append:this.S,className:"vjs-menu"});return i.setAttribute("role","presentation"),i.appendChild(this.S),Bnt(i,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),i},i.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},i.stepForward=function(){var t=0;void 0!==this.$t&&(t=this.$t+1),this.focus(t)},i.stepBack=function(){var t=0;void 0!==this.$t&&(t=this.$t-1),this.focus(t)},i.focus=function(t){void 0===t&&(t=0);var n=this.children().slice();n.length&&n[0].className&&/vjs-menu-title/.test(n[0].className)&&n.shift(),n.length>0&&(t<0?t=0:t>=n.length&&(t=n.length-1),this.$t=t,n[t].v.focus())},n}(Ynt);Ynt.registerComponent("Menu",wut);var put=function(t){function n(n,i){var r;return void 0===i&&(i={}),(r=t.call(this,n,i)||this).update(),r.Rt=!0,r.v.setAttribute("aria-haspopup","true"),r.v.setAttribute("role","menuitem"),r.on("keydown",r.handleSubmenuKeyPress),r}Qnt(n,t);var i=n.prototype;return i.update=function(){var t=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=t,this.addChild(t),this.Ut=!1,this.v.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.Ot?this.hide():this.show()},i.createMenu=function(){var t=new wut(this.t);if(this.Ot=0,this.h.title){var n=Ltt("li",{className:"vjs-menu-title",innerHTML:Hnt(this.h.title),tabIndex:-1});this.Ot+=1,t.m.unshift(n),Vtt(n,t.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.h.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",Gnt(this,(function(t){this.unpressButton(),this.v.blur()}))),this.Ut?this.unpressButton():this.pressButton()},i.handleKeyPress=function(n){27===n.which||9===n.which?(this.Ut&&this.unpressButton(),9!==n.which&&n.preventDefault()):38===n.which||40===n.which?this.Ut||(this.pressButton(),n.preventDefault()):t.prototype.handleKeyPress.call(this,n)},i.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.Ut&&this.unpressButton(),9!==t.which&&t.preventDefault())},i.pressButton=function(){this.Rt&&(this.Ut=!0,this.menu.lockShowing(),this.v.setAttribute("aria-expanded","true"),this.menu.focus())},i.unpressButton=function(){this.Rt&&(this.Ut=!1,this.menu.unlockShowing(),this.v.setAttribute("aria-expanded","false"),this.v.focus())},i.disable=function(){return this.Ut=!1,this.menu.unlockShowing(),this.v.setAttribute("aria-expanded","false"),this.Rt=!1,t.prototype.disable.call(this)},i.enable=function(){return this.Rt=!0,t.prototype.enable.call(this)},n}(Let);Ynt.registerComponent("MenuButton",put);var yut=function(t){function n(n,i){var r,e=i.tracks;if((r=t.call(this,n,i)||this).items.length<=1&&r.hide(),!e)return qnt(r);var u=Gnt(qnt(r),r.update);return e.addEventListener("removetrack",u),e.addEventListener("addtrack",u),r.t.on("dispose",(function(){e.removeEventListener("removetrack",u),e.removeEventListener("addtrack",u)})),r}return Qnt(n,t),n}(put);Ynt.registerComponent("TrackButton",yut);var _ut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).selectable=i.selectable,r.selected(i.selected),r.selectable?r.v.setAttribute("role","menuitemcheckbox"):r.v.setAttribute("role","menuitem"),r}Qnt(n,t);var i=n.prototype;return i.createEl=function(n,i,r){this.nonIconControl=!0;var e=t.prototype.createEl.call(this,"li",Att({className:"vjs-menu-item",tabIndex:-1},i),r);return this.Vt=gtt.createTextNode(this.localize(this.h.label)),e.appendChild(this.Vt),e},i.handleClick=function(t){this.selected(!0)},i.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.v.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.v.setAttribute("aria-checked","false"),this.controlText("")))},i.handleLanguagechange=function(){t.prototype.handleLanguagechange.call(this),this.Vt.innerHTML=this.localize(this.h.label)},n}(Let);Ynt.registerComponent("MenuItem",_ut);var but=function(t){function n(n,i){var r,e,u=i.track,s=n.textTracks();if(i.label=u.label||u.language||"Unknown",i.selected=u.default||"showing"===u.mode,(r=t.call(this,n,i)||this).track=u,s){var o=Gnt(qnt(r),r.handleTracksChange);n.on(["loadstart","texttrackchange"],o),s.addEventListener("change",o),r.on("dispose",(function(){s.removeEventListener("change",o)}))}s&&void 0===s.onchange&&r.on(["tap","click"],(function(){if("object"!=typeof dtt.Event)try{e=new dtt.Event("change")}catch(t){}e||(e=gtt.createEvent("Event")).initEvent("change",!0,!0),s.dispatchEvent(e)}));return r}Qnt(n,t);var i=n.prototype;return i.handleClick=function(n){var i=this.track.kind,r=this.t.textTracks();if(t.prototype.handleClick.call(this,n),r)for(var e=0;e<r.length;e++){var u=r[e];u.kind===i&&(u===this.track?"showing"!==u.mode&&(u.mode="showing"):"disabled"!==u.mode&&(u.mode="disabled"))}},i.handleTracksChange=function(t){this.selected("showing"===this.track.mode)},n}(_ut);Ynt.registerComponent("TextTrackMenuItem",but);var kut=function(t){function n(n,i){var r;return i.track={player:n,kind:i.kind,label:i.kind+" off",default:!1,mode:"disabled"},i.selectable=!0,(r=t.call(this,n,i)||this).selected(!0),r}return Qnt(n,t),n.prototype.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!0,r=0,e=n.length;r<e;r++){var u=n[r];if(u.kind===this.track.kind&&"showing"===u.mode){i=!1;break}}this.selected(i)},n}(but);Ynt.registerComponent("OffTextTrackMenuItem",kut);var Aut=function(t){function n(n,i){return void 0===i&&(i={}),i.tracks=n.textTracks(),t.call(this,n,i)||this}return Qnt(n,t),n.prototype.createItems=function(t){void 0===t&&(t=[]),t.push(new kut(this.t,{kind:this.Lt})),this.Ot+=1;var n=this.t.textTracks();if(!n)return t;for(var i=0;i<n.length;i++){var r=n[i];r.kind===this.Lt&&t.push(new but(this.t,{track:r,selectable:!0}))}return t},n}(yut);Ynt.registerComponent("TextTrackButton",Aut);var Tut=function(t){function n(n,i){var r,e=i.track,u=i.cue,s=n.currentTime();return i.selectable=!0,i.label=u.text,i.selected=u.startTime<=s&&s<u.endTime,(r=t.call(this,n,i)||this).track=e,r.cue=u,e.addEventListener("cuechange",Gnt(qnt(r),r.update)),r}Qnt(n,t);var i=n.prototype;return i.handleClick=function(n){t.prototype.handleClick.call(this),this.t.currentTime(this.cue.startTime),this.update(this.cue.startTime)},i.update=function(t){var n=this.cue,i=this.t.currentTime();this.selected(n.startTime<=i&&i<n.endTime)},n}(_ut);Ynt.registerComponent("ChaptersTrackMenuItem",Tut);var Sut=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).v.setAttribute("aria-label","Chapters Menu"),e}Qnt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},i.update=function(n){this.Ht&&(!n||"addtrack"!==n.type&&"removetrack"!==n.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},i.setTrack=function(t){if(this.Ht!==t){if(this.qt||(this.qt=this.update.bind(this)),this.Ht){var n=this.t.remoteTextTrackEls().Y(this.Ht);n&&n.removeEventListener("load",this.qt),this.Ht=null}if(this.Ht=t,this.Ht){this.Ht.mode="hidden";var i=this.t.remoteTextTrackEls().Y(this.Ht);i&&i.addEventListener("load",this.qt)}}},i.findChaptersTrack=function(){for(var t=this.t.textTracks()||[],n=t.length-1;n>=0;n--){var i=t[n];if(i.kind===this.Lt)return i}},i.getMenuCaption=function(){return this.Ht&&this.Ht.label?this.Ht.label:this.localize(Hnt(this.Lt))},i.createMenu=function(){return this.h.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},i.createItems=function(){var t=[];if(!this.Ht)return t;var n=this.Ht.cues;if(!n)return t;for(var i=0,r=n.length;i<r;i++){var e=n[i],u=new Tut(this.t,{track:this.Ht,cue:e});t.push(u)}return t},n}(Aut);Sut.prototype.Lt="chapters",Sut.prototype.St="Chapters",Ynt.registerComponent("ChaptersButton",Sut);var Eut=function(t){function n(n,i,r){var e;(e=t.call(this,n,i,r)||this).v.setAttribute("aria-label","Descriptions Menu");var u=n.textTracks();if(u){var s=Gnt(qnt(e),e.handleTracksChange);u.addEventListener("change",s),e.on("dispose",(function(){u.removeEventListener("change",s)}))}return e}Qnt(n,t);var i=n.prototype;return i.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!1,r=0,e=n.length;r<e;r++){var u=n[r];if(u.kind!==this.Lt&&"showing"===u.mode){i=!0;break}}i?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n}(Aut);Eut.prototype.Lt="descriptions",Eut.prototype.St="Descriptions",Ynt.registerComponent("DescriptionsButton",Eut);var Iut=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).v.setAttribute("aria-label","Subtitles Menu"),e}return Qnt(n,t),n.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n}(Aut);Iut.prototype.Lt="subtitles",Iut.prototype.St="Subtitles",Ynt.registerComponent("SubtitlesButton",Iut);var Rut=function(t){function n(n,i){var r;return i.track={player:n,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,(r=t.call(this,n,i)||this).addClass("vjs-texttrack-settings"),r.controlText(", opens "+i.kind+" settings dialog"),r}return Qnt(n,t),n.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").v.focus()},n}(but);Ynt.registerComponent("CaptionSettingsMenuItem",Rut);var Cut=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).v.setAttribute("aria-label","Captions Menu"),e}Qnt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},i.createItems=function(){var n=[];return this.player().H&&this.player().H.featuresNativeTextTracks||(n.push(new Rut(this.t,{kind:this.Lt})),this.Ot+=1),t.prototype.createItems.call(this,n)},n}(Aut);Cut.prototype.Lt="captions",Cut.prototype.St="Captions",Ynt.registerComponent("CaptionsButton",Cut);var Nut=function(t){function n(n,i){var r,e=i.track,u=n.audioTracks();if(i.label=e.label||e.language||"Unknown",i.selected=e.enabled,(r=t.call(this,n,i)||this).track=e,u){var s=Gnt(qnt(r),r.handleTracksChange);u.addEventListener("change",s),r.on("dispose",(function(){u.removeEventListener("change",s)}))}return r}Qnt(n,t);var i=n.prototype;return i.handleClick=function(n){var i=this.t.audioTracks();if(t.prototype.handleClick.call(this,n),i)for(var r=0;r<i.length;r++){var e=i[r];e.enabled=e===this.track}},i.handleTracksChange=function(t){this.selected(this.track.enabled)},n}(_ut);Ynt.registerComponent("AudioTrackMenuItem",Nut);var xut=function(t){function n(n,i){var r;return void 0===i&&(i={}),i.tracks=n.audioTracks&&n.audioTracks(),(r=t.call(this,n,i)||this).v.setAttribute("aria-label","Audio Menu"),r}Qnt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},i.createItems=function(t){void 0===t&&(t=[]),this.Ot=1;var n=this.t.audioTracks&&this.t.audioTracks();if(!n)return t;for(var i=0;i<n.length;i++){var r=n[i];t.push(new Nut(this.t,{track:r,selectable:!0}))}return t},n}(yut);xut.prototype.St="Audio Track",Ynt.registerComponent("AudioTrackButton",xut);var Dut=function(t){function n(n,i){var r,e=i.rate,u=S(e,10);return i.label=e,i.selected=1===u,i.selectable=!0,(r=t.call(this,n,i)||this).label=e,r.rate=u,r.on(n,"ratechange",r.update),r}Qnt(n,t);var i=n.prototype;return i.handleClick=function(n){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(t){this.selected(this.player().playbackRate()===this.rate)},n}(_ut);Dut.prototype.contentElType="button",Ynt.registerComponent("PlaybackRateMenuItem",Dut);var Put=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).updateVisibility(),r.updateLabel(),r.on(n,"loadstart",r.updateVisibility),r.on(n,"ratechange",r.updateLabel),r}Qnt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return this.Vt=Ltt("div",{className:"vjs-playback-rate-value",innerHTML:1}),n.appendChild(this.Vt),n},i.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},i.createMenu=function(){var t=new wut(this.player()),n=this.playbackRates();if(n)for(var i=n.length-1;i>=0;i--)t.addChild(new Dut(this.player(),{rate:n[i]+"x"}));return t},i.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.handleClick=function(t){for(var n=this.player().playbackRate(),i=this.playbackRates(),r=i[0],e=0;e<i.length;e++)if(i[e]>n){r=i[e];break}this.player().playbackRate(r)},i.playbackRates=function(){return this.h.playbackRates||this.h.playerOptions&&this.h.playerOptions.playbackRates},i.playbackRateSupported=function(){return this.player().H&&this.player().H.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},i.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=function(t){this.playbackRateSupported()&&(this.Vt.innerHTML=this.player().playbackRate()+"x")},n}(put);Put.prototype.St="Playback Rate",Ynt.registerComponent("PlaybackRateMenuButton",Put);var Mut=function(t){function n(){return t.apply(this,arguments)||this}Qnt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n}(Ynt);Ynt.registerComponent("Spacer",Mut);var But=function(t){function n(){return t.apply(this,arguments)||this}Qnt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var n=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return n.innerHTML="&nbsp;",n},n}(Mut);Ynt.registerComponent("CustomControlSpacer",But);var Out=function(t){function n(){return t.apply(this,arguments)||this}return Qnt(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},n}(Ynt);Out.prototype.h={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},Ynt.registerComponent("ControlBar",Out);var Lut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"error",r.open),r}Qnt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},i.content=function(){var t=this.player().error();return t?this.localize(t.message):""},n}(mit);Lut.prototype.h=znt(mit.prototype.h,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Ynt.registerComponent("ErrorDisplay",Lut);var Fut="vjs-text-track-settings",Vut=["#000","Black"],Uut=["#00F","Blue"],Wut=["#0FF","Cyan"],jut=["#0F0","Green"],Zut=["#F0F","Magenta"],Xut=["#F00","Red"],Gut=["#FFF","White"],Hut=["#FF0","Yellow"],zut=["1","Opaque"],Yut=["0.5","Semi-Transparent"],Kut=["0","Transparent"],qut={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Vut,Gut,Xut,jut,Uut,Hut,Zut,Wut]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[zut,Yut,Kut]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Gut,Vut,Xut,jut,Uut,Hut,Zut,Wut]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[zut,Yut]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Kut,Yut,zut]}};function Jut(t,n){if(n&&(t=n(t)),t&&"none"!==t)return t}qut.windowColor.options=qut.backgroundColor.options;var Qut,$ut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).setDefaults(),r.hide(),r.updateDisplay=Gnt(qnt(r),r.updateDisplay),void 0===i.persistTextTrackSettings&&(r.h.persistTextTrackSettings=r.h.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",(function(){r.saveSettings(),r.hide()})),r.on(r.$(".vjs-default-button"),"click",(function(){r.setDefaults(),r.updateDisplay()})),ktt(qut,(function(t){r.on(r.$(t.selector),"change",r.updateDisplay)})),r.h.persistTextTrackSettings&&r.restoreSettings(),r}Qnt(n,t);var i=n.prototype;return i.zt=function(t){var n=this,i=qut[t],r=i.id.replace("%s",this.o);return[Ltt("label",{className:"vjs-label",textContent:i.label},{for:r}),Ltt("select",{id:r},void 0,i.options.map((function(t){return Ltt("option",{textContent:n.localize(t[1]),value:t[0]})})))]},i.Wt=function(){var t=Ltt("legend",{textContent:this.localize("Text")}),n=this.zt("color"),i=Ltt("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.zt("textOpacity"));return Ltt("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[t].concat(n,i))},i.Gt=function(){var t=Ltt("legend",{textContent:this.localize("Background")}),n=this.zt("backgroundColor"),i=Ltt("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.zt("backgroundOpacity"));return Ltt("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[t].concat(n,i))},i.Xt=function(){var t=Ltt("legend",{textContent:this.localize("Window")}),n=this.zt("windowColor"),i=Ltt("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.zt("windowOpacity"));return Ltt("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[t].concat(n,i))},i.Jt=function(){return Ltt("div",{className:"vjs-tracksettings-colors"},void 0,[this.Wt(),this.Gt(),this.Xt()])},i.Qt=function(){var t=Ltt("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.zt("fontPercent")),n=Ltt("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.zt("edgeStyle")),i=Ltt("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.zt("fontFamily"));return Ltt("div",{className:"vjs-tracksettings-font"},void 0,[t,n,i])},i.Yt=function(){var t=Ltt("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),n=Ltt("button",{className:"vjs-done-button",textContent:"Done"});return Ltt("div",{className:"vjs-tracksettings-controls"},void 0,[t,n])},i.createEl=function(){var t=Ltt("div",{className:"vjs-tracksettings"},void 0,[this.Jt(),this.Qt(),this.Yt()]),n=Ltt("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.o,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),i=Ltt("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.o,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),r=Ltt("div",void 0,{role:"document"},[n,i,t]);return Ltt("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":n.id,"aria-describedby":i.id},r)},i.getValues=function(){var t=this;return function(t,n,i){return void 0===i&&(i=0),btt(t).reduce((function(i,r){return n(i,t[r],r)}),i)}(qut,(function(n,i,r){var e=function(t,n){return Jut(t.options[t.options.selectedIndex].value,n)}(t.$(i.selector),i.parser);return void 0!==e&&(n[r]=e),n}),{})},i.setValues=function(t){var n=this;ktt(qut,(function(i,r){!function(t,n,i){if(n)for(var r=0;r<t.options.length;r++)if(Jut(t.options[r].value,i)===n){t.selectedIndex=r;break}}(n.$(i.selector),t[r],i.parser)}))},i.setDefaults=function(){var t=this;ktt(qut,(function(n){var i=n.hasOwnProperty("default")?n.default:0;t.$(n.selector).selectedIndex=i}))},i.restoreSettings=function(){var t;try{t=JSON.parse(dtt.localStorage.getItem(Fut))}catch(t){Itt.warn(t)}t&&this.setValues(t)},i.saveSettings=function(){if(this.h.persistTextTrackSettings){var t=this.getValues();try{k.keys(t).length?dtt.localStorage.setItem(Fut,JSON.stringify(t)):dtt.localStorage.removeItem(Fut)}catch(t){Itt.warn(t)}}},i.updateDisplay=function(){var t=this.t.getChild("textTrackDisplay");t&&t.updateDisplay()},n}(Ynt);Ynt.registerComponent("TextTrackSettings",$ut);var tst,nst=function(t){function n(n,i){var r;r=t.call(this,n,i)||this;var e=n.source,u=!1;if(e&&(r.v.currentSrc!==e.src||n.tag&&3===n.tag.Kt)?r.setSource(e):r.Zt(r.v),r.v.hasChildNodes()){for(var s=r.v.childNodes,o=s.length,a=[];o--;){var c=s[o];"track"===c.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().J(c),r.remoteTextTracks().tt(c.track),u||r.v.hasAttribute("crossorigin")||!Tit(c.src)||(u=!0)):a.push(c))}for(var h=0;h<a.length;h++)r.v.removeChild(a[h])}return["audio","video"].forEach((function(t){var n=r.el()[t+"Tracks"],i=r[t+"Tracks"](),e=Hnt(t);r["featuresNative"+e+"Tracks"]&&n&&n.addEventListener&&(r["handle"+e+"ti"]=function(t){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},r["handle"+e+"ii"]=function(t){return i.addTrack(t.track)},r["handle"+e+"si"]=function(t){return i.removeTrack(t.track)},n.addEventListener("change",r["handle"+e+"ti"]),n.addEventListener("addtrack",r["handle"+e+"ii"]),n.addEventListener("removetrack",r["handle"+e+"si"]),r["removeOld"+e+"ei"]=function(t){return r.ni(i,n)},r.on("loadstart",r["removeOld"+e+"ei"]))})),r.featuresNativeTextTracks&&(u&&Itt.warn(xtt(Qut||(Qut=mtt(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."])))),r.ri=Gnt(qnt(r),r.handleTextTrackChange),r.hi=Gnt(qnt(r),r.handleTextTrackAdd),r.oi=Gnt(qnt(r),r.handleTextTrackRemove),r.ai()),r.ci(),(Int||fnt||pnt)&&!0===n.nativeControlsForTouch&&r.setControls(!0),r.di(),r.triggerReady(),r}Qnt(n,t);var i=n.prototype;return i.dispose=function(){var i=this;["audio","video","text"].forEach((function(t){var n=Hnt(t),r=i.v[t+"Tracks"];r&&r.removeEventListener&&(r.removeEventListener("change",i["handle"+n+"ti"]),r.removeEventListener("addtrack",i["handle"+n+"ii"]),r.removeEventListener("removetrack",i["handle"+n+"si"])),r&&i.off("loadstart",i["removeOld"+n+"ei"])})),n.disposeMediaElement(this.v),t.prototype.dispose.call(this)},i.ci=function(){var t,n=this.textTracks(),i=function(){t=[];for(var i=0;i<n.length;i++){var r=n[i];"metadata"===r.kind&&t.push({track:r,storedMode:r.mode})}};i(),n.addEventListener("change",i);var r=function i(){for(var r=0;r<t.length;r++){var e=t[r];"disabled"===e.track.mode&&e.track.mode!==e.storedMode&&(e.track.mode=e.storedMode)}n.removeEventListener("change",i)};this.on("webkitbeginfullscreen",(function(){n.removeEventListener("change",i),n.removeEventListener("change",r),n.addEventListener("change",r)})),this.on("webkitendfullscreen",(function(){n.removeEventListener("change",i),n.addEventListener("change",i),n.removeEventListener("change",r)}))},i.createEl=function(){var t=this.h.tag;if(!t||!this.h.playerElIngest&&!this.movingMediaElementInDOM){if(t){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),n.disposeMediaElement(t),t=i}else{t=gtt.createElement("video");var r=znt({},this.h.tag&&qtt(this.h.tag));Int&&!0===this.h.nativeControlsForTouch||delete r.controls,Ktt(t,Att(r,{id:this.h.techId,class:"vjs-tech"}))}t.playerId=this.h.playerId}void 0!==this.h.preload&&Jtt(t,"preload",this.h.preload);for(var e=["loop","muted","playsinline","autoplay"],u=e.length-1;u>=0;u--){var s=e[u],o=this.h[s];void 0!==o&&(o?Jtt(t,s,s):Qtt(t,s),t[s]=o)}return t},i.Zt=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var n=!1,i=function(){n=!0};this.on("loadstart",i);var r=function(){n||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready((function(){this.off("loadstart",i),this.off("loadedmetadata",r),n||this.trigger("loadstart")}))}var e=["loadstart"];e.push("loadedmetadata"),t.readyState>=2&&e.push("loadeddata"),t.readyState>=3&&e.push("canplay"),t.readyState>=4&&e.push("canplaythrough"),this.ready((function(){e.forEach((function(t){this.trigger(t)}),this)}))}},i.ai=function(){var t=this.el().textTracks;if(t){for(var n=0;n<t.length;n++)this.textTracks().tt(t[n]);t.addEventListener&&(t.addEventListener("change",this.ri),t.addEventListener("addtrack",this.hi),t.addEventListener("removetrack",this.oi)),this.on("loadstart",this.fi)}},i.handleTextTrackChange=function(t){var n=this.textTracks();this.textTracks().trigger({type:"change",target:n,currentTarget:n,srcElement:n})},i.handleTextTrackAdd=function(t){this.textTracks().tt(t.track)},i.handleTextTrackRemove=function(t){this.textTracks().it(t.track)},i.ni=function(t,n){var i=[];if(n){for(var r=0;r<t.length;r++){for(var e=t[r],u=!1,s=0;s<n.length;s++)if(n[s]===e){u=!0;break}u||i.push(e)}for(var o=0;o<i.length;o++){var a=i[o];t.it(a)}}},i.fi=function(t){var n=this.textTracks(),i=this.el().textTracks;this.ni(n,i)},i.play=function(){var t=this.v.play();void 0!==t&&"function"==typeof t.then&&t.then(null,(function(t){}))},i.setCurrentTime=function(t){try{this.v.currentTime=t}catch(t){Itt(t,"Video is not ready. (Video.js)")}},i.duration=function(){var t=this;if(this.v.duration===1/0&&gnt&&bnt&&0===this.v.currentTime){return this.on("timeupdate",(function n(){t.v.currentTime>0&&(t.v.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",n))})),NaN}return this.v.duration||NaN},i.width=function(){return this.v.offsetWidth},i.height=function(){return this.v.offsetHeight},i.di=function(){var t=this;if("webkitDisplayingFullscreen"in this.v){var n=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.v&&"picture-in-picture"!==this.v.webkitPresentationMode&&(this.one("webkitendfullscreen",n),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",(function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",n)}))}},i.supportsFullScreen=function(){if("function"==typeof this.v.webkitEnterFullScreen){var t=dtt.navigator&&dtt.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},i.enterFullScreen=function(){var t=this.v;t.paused&&t.networkState<=t.HAVE_METADATA?(this.v.play(),this.setTimeout((function(){t.pause(),t.webkitEnterFullScreen()}),0)):t.webkitEnterFullScreen()},i.exitFullScreen=function(){this.v.webkitExitFullScreen()},i.src=function(t){if(void 0===t)return this.v.src;this.setSrc(t)},i.reset=function(){n.resetMediaElement(this.v)},i.currentSrc=function(){return this.bt?this.bt.src:this.v.currentSrc},i.setControls=function(t){this.v.controls=!!t},i.addTextTrack=function(n,i,r){return this.featuresNativeTextTracks?this.v.addTextTrack(n,i,r):t.prototype.addTextTrack.call(this,n,i,r)},i.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,n);var i=gtt.createElement("track");return n.kind&&(i.kind=n.kind),n.label&&(i.label=n.label),(n.language||n.srclang)&&(i.srclang=n.language||n.srclang),n.default&&(i.default=n.default),n.id&&(i.id=n.id),n.src&&(i.src=n.src),i},i.addRemoteTextTrack=function(n,i){var r=t.prototype.addRemoteTextTrack.call(this,n,i);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},i.removeRemoteTextTrack=function(n){if(t.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var i=this.$$("track"),r=i.length;r--;)n!==i[r]&&n!==i[r].track||this.el().removeChild(i[r])},i.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),dtt.performance&&"function"==typeof dtt.performance.now?t.creationTime=dtt.performance.now():dtt.performance&&dtt.performance.timing&&"number"==typeof dtt.performance.timing.navigationStart&&(t.creationTime=dtt.Date.now()-dtt.performance.timing.navigationStart),t},n}(Bet);Mtt()&&(nst.TEST_VID=gtt.createElement("video"),(tst=gtt.createElement("track")).kind="captions",tst.srclang="en",tst.label="English",nst.TEST_VID.appendChild(tst)),nst.isSupported=function(){try{nst.TEST_VID.volume=.5}catch(t){return!1}return!(!nst.TEST_VID||!nst.TEST_VID.canPlayType)},nst.canControlVolume=function(){try{var t=nst.TEST_VID.volume;return nst.TEST_VID.volume=t/2+.1,t!==nst.TEST_VID.volume}catch(t){return!1}},nst.canControlPlaybackRate=function(){if(gnt&&bnt&&knt<58)return!1;try{var t=nst.TEST_VID.playbackRate;return nst.TEST_VID.playbackRate=t/2+.1,t!==nst.TEST_VID.playbackRate}catch(t){return!1}},nst.supportsNativeTextTracks=function(){return Ent},nst.supportsNativeVideoTracks=function(){return!(!nst.TEST_VID||!nst.TEST_VID.videoTracks)},nst.supportsNativeAudioTracks=function(){return!(!nst.TEST_VID||!nst.TEST_VID.audioTracks)},nst.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],nst.prototype.featuresVolumeControl=nst.canControlVolume(),nst.prototype.featuresPlaybackRate=nst.canControlPlaybackRate(),nst.prototype.movingMediaElementInDOM=!lnt,nst.prototype.featuresFullscreenResize=!0,nst.prototype.featuresProgressEvents=!0,nst.prototype.featuresTimeupdateEvents=!0,nst.prototype.featuresNativeTextTracks=nst.supportsNativeTextTracks(),nst.prototype.featuresNativeVideoTracks=nst.supportsNativeVideoTracks(),nst.prototype.featuresNativeAudioTracks=nst.supportsNativeAudioTracks();var ist=nst.TEST_VID&&nst.TEST_VID.constructor.prototype.canPlayType,rst=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,est=/^video\/mp4/i;nst.patchCanPlayType=function(){mnt>=4&&!ynt?nst.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&rst.test(t)?"maybe":ist.call(this,t)}:wnt&&(nst.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&est.test(t)?"maybe":ist.call(this,t)})},nst.unpatchCanPlayType=function(){var t=nst.TEST_VID.constructor.prototype.canPlayType;return nst.TEST_VID.constructor.prototype.canPlayType=ist,t},nst.patchCanPlayType(),nst.disposeMediaElement=function(t){if(t){var n=t.nodeName.toLowerCase();if("video"===n||"audio"===n){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}}},nst.resetMediaElement=function(t){if(t){for(var n=t.querySelectorAll("source"),i=n.length;i--;)t.removeChild(n[i]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){nst.prototype[t]=function(){return this.v[t]||this.v.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){nst.prototype["set"+Hnt(t)]=function(n){this.v[t]=n,n?this.v.setAttribute(t,t):this.v.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach((function(t){nst.prototype[t]=function(){return this.v[t]}})),["volume","src","poster","preload","playbackRate"].forEach((function(t){nst.prototype["set"+Hnt(t)]=function(n){this.v[t]=n}})),["pause","load"].forEach((function(t){nst.prototype[t]=function(){return this.v[t]()}})),Bet.withSourceHandlers(nst),nst.nativeSourceHandler={},nst.nativeSourceHandler.canPlayType=function(t){try{return nst.TEST_VID.canPlayType(t)}catch(t){return""}},nst.nativeSourceHandler.canHandleSource=function(t,n){if(t.type)return nst.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=function(t){if("string"==typeof t){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(n)return n.pop().toLowerCase()}return""}(t.src);return nst.nativeSourceHandler.canPlayType("video/"+i)}return""},nst.nativeSourceHandler.handleSource=function(t,n,i){n.setSrc(t.src)},nst.nativeSourceHandler.dispose=function(){},nst.registerSourceHandler(nst.nativeSourceHandler),Ynt.registerComponent("Html5",nst),Bet.registerTech("Html5",nst);var ust=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],sst=function(t){function n(i,r,e){var u;if(i.id=i.id||["vjs_video",ptt()].join("_"),(r=Att(n.getTagSettings(i),r)).initChildren=!1,r.createEl=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof i.closest){var s=i.closest("[lang]");s&&(r.language=s.getAttribute("lang"))}else for(var o=i;o&&1===o.nodeType;){if(qtt(o).hasOwnProperty("lang")){r.language=o.getAttribute("lang");break}o=o.parentNode}if(!(u=t.call(this,null,r,e)||this).h||!u.h.techOrder||!u.h.techOrder.length)throw new y("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(u.tag=i,u.tagAttributes=i&&qtt(i),u.language(u.h.language),r.languages){var a={};k.getOwnPropertyNames(r.languages).forEach((function(t){a[t.toLowerCase()]=r.languages[t]})),u.vi=a}else u.vi=n.prototype.h.languages;u.pi={},u.mi=r.poster||"",u.gi=!!r.controls,i.controls=!1,u.yi=!1,u.v=u.createEl();var c=znt(u.h);if(r.plugins){var h=r.plugins;k.getOwnPropertyNames(h).forEach((function(t){"function"==typeof this[t]?this[t](h[t]):Itt.error("Unable to find plugin:",t)}),qnt(u))}u.h.playerOptions=c,u.initChildren(),u.isAudio("audio"===i.nodeName.toLowerCase()),u.controls()?u.addClass("vjs-controls-enabled"):u.addClass("vjs-controls-disabled"),u.v.setAttribute("role","region"),u.isAudio()?u.v.setAttribute("aria-label","audio player"):u.v.setAttribute("aria-label","video player"),u.isAudio()&&u.addClass("vjs-audio"),u.bi()&&u.addClass("vjs-no-flex"),lnt||u.addClass("vjs-workinghover"),n.players[u.o]=qnt(u);var f="5.20.6-opentelly.14".split(".")[0];return u.addClass("vjs-v"+f),u.userActive(!0),u.reportUserActivity(),u.ki(),u.on("fullscreenchange",u.wi),u.on("stageclick",u._i),u}Qnt(n,t);var i=n.prototype;return i.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.xi&&this.xi.parentNode&&this.xi.parentNode.removeChild(this.xi),n.players[this.o]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.v&&this.v.player&&(this.v.player=null),this.H&&this.H.dispose(),t.prototype.dispose.call(this)},i.createEl=function(){var n,i=this.tag,r=this.Ci=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player");n=this.v=r?i.parentNode:t.prototype.createEl.call(this,"div"),i.setAttribute("tabindex","-1"),i.removeAttribute("width"),i.removeAttribute("height");var e=qtt(i);if(k.getOwnPropertyNames(e).forEach((function(t){"class"===t?n.className+=" "+e[t]:n.setAttribute(t,e[t])})),i.playerId=i.id,i.id+="Si",i.className="vjs-tech",i.player=n.player=this,this.addClass("vjs-paused"),!0!==dtt.VIDEOJS_NO_DYNAMIC_STYLE){this.xi=Znt("vjs-styles-dimensions");var u=unt(".vjs-styles-defaults"),s=unt("head");s.insertBefore(this.xi,u?u.nextSibling:s.firstChild)}this.width(this.h.width),this.height(this.h.height),this.fluid(this.h.fluid),this.aspectRatio(this.h.aspectRatio);for(var o=i.getElementsByTagName("a"),a=0;a<o.length;a++){var c=o.item(a);Htt(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return i.Kt=i.networkState,i.parentNode&&!r&&i.parentNode.insertBefore(n,i),Vtt(i,n),this.m.unshift(i),this.v=n,n},i.width=function(t){return this.dimension("width",t)},i.height=function(t){return this.dimension("height",t)},i.dimension=function(t,n){var i="width"===t?"ji":"Ti";if(void 0===n)return this[i]||0;if(""===n)this[i]=void 0;else{var r=S(n);if(E(r))return Itt.error('Improper value "'+n+'" supplied for for '+t),this;this[i]=r}return this.Mi(),this},i.fluid=function(t){if(void 0===t)return!!this.Ai;this.Ai=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.Mi()},i.aspectRatio=function(t){if(void 0===t)return this.Pi;if(!/^\d+\:\d+$/.test(t))throw new y("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.Pi=t,this.fluid(!0),this.Mi()},i.Mi=function(){if(!0!==dtt.VIDEOJS_NO_DYNAMIC_STYLE){var t,n,i,r=(void 0!==this.Pi&&"auto"!==this.Pi?this.Pi:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),e=r[1]/r[0];t=void 0!==this.ji?this.ji:void 0!==this.Ti?this.Ti/e:this.videoWidth()||300,n=void 0!==this.Ti?this.Ti:t*e,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),Xnt(this.xi,"\n      ."+i+" {\n        width: "+t+"px;\n        height: "+n+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*e+"%;\n      }\n    ")}else{var u="number"==typeof this.ji?this.ji:this.h.width,s="number"==typeof this.Ti?this.Ti:this.h.height,o=this.H&&this.H.el();o&&(u>=0&&(o.width=u),s>=0&&(o.height=s))}},i._t=function(t,n){var i=this;this.H&&this.Ei(),"Html5"!==t&&this.tag&&(Bet.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.Ni=t,this.j=!1;var r=Att({source:n,nativeControlsForTouch:this.h.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+t+"Ii",videoTracks:this.rt,textTracks:this.nt,audioTracks:this.ht,autoplay:this.h.autoplay,playsinline:this.h.playsinline,preload:this.h.preload,loop:this.h.loop,muted:this.h.muted,poster:this.poster(),language:this.language(),playerElIngest:this.Ci||!1,"vtt.js":this.h["vtt.js"]},this.h[t.toLowerCase()]);this.tag&&(r.tag=this.tag),n&&(this.Bi=n.type,n.src===this.pi.src&&this.pi.currentTime>0&&(r.startTime=this.pi.currentTime),this.pi.sources=null,this.pi.source=n,this.pi.src=n.src);var e=Bet.getTech(t);e||(e=Ynt.getComponent(t)),this.H=new e(r),this.H.ready(Gnt(this,this.Fi),!0),dit(this.Di||[],this.H),ust.forEach((function(t){i.on(i.H,t,i["handleTech"+Hnt(t)+"_"])})),this.on(this.H,"loadstart",this.$i),this.on(this.H,"waiting",this.Ri),this.on(this.H,"canplay",this.Ui),this.on(this.H,"canplaythrough",this.Oi),this.on(this.H,"playing",this.Vi),this.on(this.H,"ended",this.Li),this.on(this.H,"seeking",this.Hi),this.on(this.H,"seeked",this.qi),this.on(this.H,"play",this.zi),this.on(this.H,"firstplay",this.Wi),this.on(this.H,"pause",this.Gi),this.on(this.H,"durationchange",this.Xi),this.on(this.H,"fullscreenchange",this.Ji),this.on(this.H,"error",this.Qi),this.on(this.H,"loadedmetadata",this.Mi),this.on(this.H,"resize",this.Mi),this.on(this.H,"posterchange",this.Yi),this.on(this.H,"textdata",this.Ki),this.usingNativeControls(this.Zi("controls")),this.controls()&&!this.usingNativeControls()&&this.ts(),this.H.el().parentNode===this.contentEl()||"Html5"===t&&this.tag||Vtt(this.H.el(),this.contentEl()),this.tag&&(this.tag.player=null,this.tag=null)},i.Ei=function(){this.rt=this.videoTracks(),this.nt=this.textTracks(),this.ht=this.audioTracks(),this.Di=lit(this.H),this.j=!1,this.H.dispose(),this.H=!1},i.tech=function(t){if(t&&t.IWillNotUseThisInPlugins)return this.H;var n="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw dtt.alert(n),new y(n)},i.ts=function(){this.ss(),this.on(this.H,"mousedown",this.es),this.on(this.H,"touchstart",this.ns),this.on(this.H,"touchmove",this.rs),this.on(this.H,"touchend",this.hs),this.on(this.H,"tap",this.os)},i.ss=function(){this.off(this.H,"tap",this.os),this.off(this.H,"touchstart",this.ns),this.off(this.H,"touchmove",this.rs),this.off(this.H,"touchend",this.hs),this.off(this.H,"mousedown",this.es)},i.Fi=function(){if(this.triggerReady(),this.pi.volume&&this.us("setVolume",this.pi.volume),this.Yi(),this.Xi(),(this.src()||this.currentSrc())&&this.tag&&this.h.autoplay&&this.paused()){try{delete this.tag.poster}catch(t){Itt("deleting tag.poster throws in some browsers",t)}this.play()}},i.$i=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},i.hasStarted=function(t){return void 0!==t?(this.et!==t&&(this.et=t,t?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.et},i.zi=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},i.Ri=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",(function(){return t.removeClass("vjs-waiting")}))},i.Ui=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},i.Oi=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},i.Vi=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},i.Hi=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},i.qi=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},i.Wi=function(){this.h.starttime&&(Itt.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.h.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},i.Gi=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},i.Li=function(){this.addClass("vjs-ended"),this.h.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},i.Xi=function(){this.duration(this.Zi("duration"))},i.es=function(t){0===t.button&&this.controls()&&(void 0!==this.h&&void 0!==this.h.userActions&&void 0!==this.h.userActions.click&&!1===this.h.userActions.click||(void 0!==this.h&&void 0!==this.h.userActions&&"function"==typeof this.h.userActions.click?this.h.userActions.click.call(this,t):this.paused()?this.play():this.pause()))},i.os=function(){this.userActive(!this.userActive())},i.ns=function(){this.userWasActive=this.userActive()},i.rs=function(){this.userWasActive&&this.reportUserActivity()},i.hs=function(t){t.cancelable&&t.preventDefault()},i.wi=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},i._i=function(){this.reportUserActivity()},i.Ji=function(t,n){n&&(this.toggleClass("vjs-ios-native-fs",!(!n.nativeIOSFullscreen||!n.isFullscreen)),this.isFullscreen(n.isFullscreen)),this.trigger("fullscreenchange")},i.Qi=function(){var t=this.H.error();this.error(t)},i.Ki=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},i.getCache=function(){return this.pi},i.us=function(t,n){if(this.H&&!this.H.j)this.H.ready((function(){this[t](n)}),!0);else try{this.H&&this.H[t](n)}catch(t){throw Itt(t),t}},i.Zi=function(t){if(this.H&&this.H.j)try{return this.H[t]()}catch(n){throw void 0===this.H[t]?Itt("Video.js: "+t+" method not defined for "+this.Ni+" playback technology.",n):"TypeError"===n.name?(Itt("Video.js: "+t+" unavailable on "+this.Ni+" playback technology element.",n),this.H.j=!1):Itt(n),n}},i.play=function(){return this.src()||this.currentSrc()?this.us("play"):this.H.one("loadstart",(function(){this.play()})),this},i.pause=function(){return this.us("pause"),this},i.paused=function(){return!1!==this.Zi("paused")},i.scrubbing=function(t){return void 0!==t?(this.yi=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.yi},i.currentTime=function(t){return void 0!==t?(this.us("setCurrentTime",t),this):(this.pi.currentTime=this.Zi("currentTime")||0,this.pi.currentTime)},i.duration=function(t){return void 0===t?void 0!==this.pi.duration?this.pi.duration:NaN:((t=S(t))<0&&(t=1/0),t!==this.pi.duration&&(this.pi.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},i.remainingTime=function(){return this.duration()-this.currentTime()},i.buffered=function(){var t=this.Zi("buffered");return t&&t.length||(t=nit(0,0)),t},i.bufferedPercent=function(){return iit(this.buffered(),this.duration())},i.bufferedEnd=function(){var t=this.buffered(),n=this.duration(),i=t.end(t.length-1);return i>n&&(i=n),i},i.volume=function(t){var n;return void 0!==t?(n=A.max(0,A.min(1,S(t))),this.pi.volume=n,this.us("setVolume",n),this):(n=S(this.Zi("volume")),E(n)?1:n)},i.muted=function(t){return void 0!==t?(this.us("setMuted",t),this):this.Zi("muted")||!1},i.supportsFullScreen=function(){return this.Zi("supportsFullScreen")||!1},i.isFullscreen=function(t){return void 0!==t?(this.cs=!!t,this):!!this.cs},i.requestFullscreen=function(t){var n,i=oit;return this.isFullscreen(!0),i.requestFullscreen?(Bnt(gtt,i.fullscreenchange,Gnt(this,(function t(n){this.isFullscreen(gtt[i.fullscreenElement]),!1===this.isFullscreen()&&Ont(gtt,i.fullscreenchange,t),this.trigger("fullscreenchange")}))),i.prefixed||(n=this.h.fullscreenOptions,void 0!==t&&(n=t)),this.v[i.requestFullscreen](n)):this.H.supportsFullScreen()?this.us("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},i.exitFullscreen=function(){var t=oit;return this.isFullscreen(!1),t.requestFullscreen?gtt[t.exitFullscreen]():this.H.supportsFullScreen()?this.us("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},i.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=gtt.documentElement.style.overflow,Bnt(gtt,"keydown",Gnt(this,this.fullWindowOnEscKey)),gtt.documentElement.style.overflow="hidden",Htt(gtt.body,"vjs-full-window"),this.trigger("enterFullWindow")},i.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},i.exitFullWindow=function(){this.isFullWindow=!1,Ont(gtt,"keydown",this.fullWindowOnEscKey),gtt.documentElement.style.overflow=this.docOrigOverflow,ztt(gtt.body,"vjs-full-window"),this.trigger("exitFullWindow")},i.canPlayType=function(t){for(var n,i=0,r=this.h.techOrder;i<r.length;i++){var e=Hnt(r[i]),u=Bet.getTech(e);if(u||(u=Ynt.getComponent(e)),u){if(u.isSupported()&&(n=u.canPlayType(t)))return n}else Itt.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.')}return""},i.selectSource=function(t){var n,i=this,r=this.h.techOrder.map(Hnt).map((function(t){return[t,Bet.getTech(t)||Ynt.getComponent(t)]})).filter((function(t){var n=t[0],i=t[1];return i?i.isSupported():(Itt.error('The "'+n+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),e=function(t,n,i){var r;return t.some((function(t){return n.some((function(n){if(r=i(t,n))return!0}))})),r},u=function(t,n){var r=t[0];if(t[1].canPlaySource(n,i.h[r.toLowerCase()]))return{source:n,tech:r}};return(this.h.sourceOrder?e(t,r,(n=u,function(t,i){return n(i,t)})):e(r,t,u))||!1},i.src=function(t){if(void 0===t)return this.Zi("src");var n=Bet.getTech(this.Ni);return n||(n=Ynt.getComponent(this.Ni)),Array.isArray(t)?this.ls(t):"string"==typeof t?this.src({src:t}):t instanceof k&&(t.type&&!n.canPlaySource(t,this.h[this.Ni.toLowerCase()])?this.ls([t]):(this.pi.sources=null,this.pi.source=t,this.pi.src=t.src,this.Bi=t.type||"",this.ready((function(){n.prototype.hasOwnProperty("setSource")?this.us("setSource",t):this.us("src",t.src),"auto"===this.h.preload&&this.load(),this.h.autoplay&&this.play()}),!0))),this},i.ls=function(t){var n=this.selectSource(t);n?(n.tech===this.Ni?this.src(n.source):this._t(n.tech,n.source),this.pi.sources=t):(this.setTimeout((function(){this.error({code:4,message:this.localize(this.h.notSupportedMessage)})}),0),this.triggerReady())},i.load=function(){return this.us("load"),this},i.reset=function(){return this._t(Hnt(this.h.techOrder[0]),null),this.us("reset"),this},i.currentSources=function(){var t=this.currentSource(),n=[];return 0!==k.keys(t).length&&n.push(t),this.pi.sources||n},i.currentSource=function(){var t={},n=this.currentSrc();return n&&(t.src=n),this.pi.source||t},i.currentSrc=function(){return this.Zi("currentSrc")||this.pi.src||""},i.currentType=function(){return this.Bi||""},i.preload=function(t){return void 0!==t?(this.us("setPreload",t),this.h.preload=t,this):this.Zi("preload")},i.autoplay=function(t){return void 0!==t?(this.us("setAutoplay",t),this.h.autoplay=t,this):this.Zi("autoplay",t)},i.playsinline=function(t){return void 0!==t?(this.us("setPlaysinline",t),this.h.playsinline=t,this):this.Zi("playsinline")},i.loop=function(t){return void 0!==t?(this.us("setLoop",t),this.h.loop=t,this):this.Zi("loop")},i.poster=function(t){return void 0===t?this.mi:(t||(t=""),this.mi=t,this.us("setPoster",t),this.trigger("posterchange"),this)},i.Yi=function(){!this.mi&&this.H&&this.H.poster&&(this.mi=this.H.poster()||"",this.trigger("posterchange"))},i.controls=function(t){return void 0!==t?(t=!!t,this.gi!==t&&(this.gi=t,this.usingNativeControls()&&this.us("setControls",t),t?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.ts()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.ss())),this):!!this.gi},i.usingNativeControls=function(t){return void 0!==t?(t=!!t,this.ds!==t&&(this.ds=t,t?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.ds},i.error=function(t){return void 0===t?this.lt||null:null===t?(this.lt=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.lt=new hit(t),this.addClass("vjs-error"),Itt.error("(CODE:"+this.lt.code+" "+hit.errorTypes[this.lt.code]+")",this.lt.message,this.lt),this.trigger("error"),this)},i.reportUserActivity=function(t){this.fs=!0},i.userActive=function(t){return void 0!==t?((t=!!t)!==this.vs&&(this.vs=t,t?(this.fs=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.fs=!1,this.H&&this.H.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.vs},i.ki=function(){var t,n,i,r,e=Gnt(this,this.reportUserActivity);this.on("mousedown",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)})),this.on("mousemove",(function(t){t.screenX===n&&t.screenY===i||(n=t.screenX,i=t.screenY,e())})),this.on("mouseup",(function(n){e(),this.clearInterval(t)})),this.on("keydown",e),this.on("keyup",e),this.setInterval((function(){if(this.fs){this.fs=!1,this.userActive(!0),this.clearTimeout(r);var t=this.h.inactivityTimeout;t>0&&(r=this.setTimeout((function(){this.fs||this.userActive(!1)}),t))}}),250)},i.playbackRate=function(t){return void 0!==t?(this.us("setPlaybackRate",t),this):this.H&&this.H.featuresPlaybackRate?this.Zi("playbackRate"):1},i.isAudio=function(t){return void 0!==t?(this.ps=!!t,this):!!this.ps},i.videoTracks=function(){return this.H?this.H.videoTracks():(this.rt=this.rt||new xet,this.rt)},i.audioTracks=function(){return this.H?this.H.audioTracks():(this.ht=this.ht||new Pet,this.ht)},i.textTracks=function(){if(this.H)return this.H.textTracks()},i.remoteTextTracks=function(){if(this.H)return this.H.remoteTextTracks()},i.remoteTextTrackEls=function(){if(this.H)return this.H.remoteTextTrackEls()},i.addTextTrack=function(t,n,i){if(this.H)return this.H.addTextTrack(t,n,i)},i.addRemoteTextTrack=function(t,n){if(this.H)return this.H.addRemoteTextTrack(t,n)},i.removeRemoteTextTrack=function(t){var n=(void 0===t?{}:t).track,i=void 0===n?arguments[0]:n;if(this.H)return this.H.removeRemoteTextTrack(i)},i.getVideoPlaybackQuality=function(){return this.Zi("getVideoPlaybackQuality")},i.videoWidth=function(){return this.H&&this.H.videoWidth&&this.H.videoWidth()||0},i.videoHeight=function(){return this.H&&this.H.videoHeight&&this.H.videoHeight()||0},i.language=function(t){return void 0===t?this.gs:(this.gs!==String(t).toLowerCase()&&(this.gs=String(t).toLowerCase(),void 0!==this.v&&this.trigger("languagechange")),this)},i.languages=function(){return znt(n.prototype.h.languages,this.vi)},i.toJSON=function(){var t=znt(this.h),n=t.tracks;t.tracks=[];for(var i=0;i<n.length;i++){var r=n[i];(r=znt(r)).player=void 0,t.tracks[i]=r}return t},i.createModal=function(t,n){var i=this;(n=n||{}).content=t||"";var r=new mit(this,n);return this.addChild(r),r.on("dispose",(function(){i.removeChild(r)})),r.open()},n.getTagSettings=function(t){var n={sources:[],tracks:[]},i=qtt(t),r=i["data-setup"];if(Gtt(t,"vjs-fluid")&&(i.fluid=!0),null!==r){var e=fit(r||"{}"),u=e[0],s=e[1];u&&Itt.error(u),Att(i,s)}if(Att(n,i),t.hasChildNodes())for(var o=t.childNodes,a=0,c=o.length;a<c;a++){var h=o[a],f=h.nodeName.toLowerCase();"source"===f?n.sources.push(qtt(h)):"track"===f&&n.tracks.push(qtt(h))}return n},i.bi=function(){var t=gtt.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},n}(Ynt);sst.players={};var ost=dtt.navigator;sst.prototype.h={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:ost&&(ost.languages&&ost.languages[0]||ost.userLanguage||ost.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreenOptions:{navigationUI:"hide"}},["ended","seeking","seekable","networkState","readyState"].forEach((function(t){sst.prototype[t]=function(){return this.Zi(t)}})),ust.forEach((function(t){sst.prototype["handleTech"+Hnt(t)+"_"]=function(){return this.trigger(t)}})),Ynt.registerComponent("Player",sst);var ast,cst,hst=function(t){function n(i){var r;void 0===i&&(i={});var e=znt(i,{kind:yit[i.kind]||""}),u=r=t.call(this,e)||this,s=!1;if(Ant)for(var o in n.prototype)"constructor"!==o&&(u[o]=n.prototype[o]);return k.defineProperty(u,"enabled",{get:function(){return s},set:function(t){"boolean"==typeof t&&t!==s&&(s=t,this.trigger("enabledchange"))}}),e.enabled&&(u.enabled=e.enabled),u.W=!0,u||qnt(r)}return Qnt(n,t),n}(kit),fst=function(t){function n(i){var r;void 0===i&&(i={});var e=znt(i,{kind:pit[i.kind]||""}),u=r=t.call(this,e)||this,s=!1;if(Ant)for(var o in n.prototype)"constructor"!==o&&(u[o]=n.prototype[o]);return k.defineProperty(u,"selected",{get:function(){return s},set:function(t){"boolean"==typeof t&&t!==s&&(s=t,this.trigger("selectedchange"))}}),e.selected&&(u.selected=e.selected),u||qnt(r)}return Qnt(n,t),n}(kit);function vst(t,n,i){var r;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),vst.getPlayers()[t])return n&&Itt.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&vst.getPlayers()[t].ready(i),vst.getPlayers()[t];r=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),gtt.getElementById(t)}(t)}else r=t;if(!r||!r.nodeName)throw new _("The element or ID supplied is not valid. (videojs)");if(r.player||sst.players[r.playerId])return r.player||sst.players[r.playerId];n=n||{},vst.hooks("beforesetup").forEach((function(t){var i=t(r,znt(n));Ttt(i)&&!Array.isArray(i)?n=znt(n,i):Itt.error("please return an object in beforesetup hooks")}));var e=new(Ynt.getComponent("Player"))(r,n,i);return vst.hooks("setup").forEach((function(t){return t(e)})),e}"undefined"==typeof HTMLVideoElement&&Mtt()&&(gtt.createElement("video"),gtt.createElement("audio"),gtt.createElement("track")),vst.ys={},vst.hooks=function(t,n){return vst.ys[t]=vst.ys[t]||[],n&&(vst.ys[t]=vst.ys[t].concat(n)),vst.ys[t]},vst.hook=function(t,n){vst.hooks(t,n)},vst.removeHook=function(t,n){var i=vst.hooks(t).indexOf(n);return!(i<=-1)&&(vst.ys[t]=vst.ys[t].slice(),vst.ys[t].splice(i,1),!0)},!0!==dtt.VIDEOJS_NO_DYNAMIC_STYLE&&Mtt()&&((ast=unt(".vjs-styles-defaults"))||(ast=Znt("vjs-styles-defaults"),(cst=unt("head"))&&cst.insertBefore(ast,cst.firstChild),Xnt(ast,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    "))),jnt(1,vst),vst.VERSION="5.20.6-opentelly.14",vst.options=sst.prototype.h,vst.getPlayers=function(){return sst.players},vst.players=sst.players,vst.getComponent=Ynt.getComponent,vst.registerComponent=function(t,n){Bet.isTech(n)&&Itt.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Ynt.registerComponent.call(Ynt,t,n)},vst.getTech=Bet.getTech,vst.registerTech=Bet.registerTech,vst.browser=Cnt,vst.TOUCH_ENABLED=Int,vst.extend=function(t,n){void 0===n&&(n={});var i=function(){t.apply(this,arguments)},r={};for(var e in Ttt(n)?("function"==typeof n.init&&(Itt.warn("Constructor logic via init() is deprecated; please use constructor() instead."),n.constructor=n.init),n.constructor!==k.prototype.constructor&&(i=n.constructor),r=n):"function"==typeof n&&(i=n),function(t,n){if("function"!=typeof n&&null!==n)throw new _("Super expression must either be null or a function, not "+typeof n);t.prototype=k.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.bs=n)}(i,t),r)r.hasOwnProperty(e)&&(i.prototype[e]=r[e]);return i},vst.mergeOptions=znt,vst.bind=Gnt,vst.plugin=function(t,n){sst.prototype[t]=n},vst.addLanguage=function(t,n){var i;return t=(""+t).toLowerCase(),vst.options.languages=znt(vst.options.languages,((i={})[t]=n,i)),vst.options.languages[t]},vst.log=Itt,vst.createTimeRange=vst.createTimeRanges=nit,vst.formatTime=Ket,vst.parseUrl=Ait,vst.isCrossOrigin=Tit,vst.EventTarget=Knt,vst.on=Bnt,vst.one=Fnt,vst.off=Ont,vst.trigger=Lnt,vst.xhr=pet,vst.TextTrack=Aet,vst.AudioTrack=hst,vst.VideoTrack=fst,vst.isEl=Btt,vst.isTextNode=nnt,vst.createEl=Ltt,vst.hasClass=Gtt,vst.addClass=Htt,vst.removeClass=ztt,vst.toggleClass=Ytt,vst.setAttributes=Ktt,vst.getAttributes=qtt,vst.emptyEl=int,vst.appendContent=rnt,vst.insertContent=ent,vst.computedStyle=iut,U(),St(),U(),St();var lst=10;function dst(t){var n=t.duration;if(E(n)){var i,r=null==(i=t.source)?void 0:i.streamType;return"live"===r||"dvr"===r}return n===1/0}function gst(t){return t.scrubbing()?t.getCache().currentTime:t.currentTime()}function mst(t){var n=yst(t);return dst(t)?n.end(n.length-1):n.start(0)}function wst(t){return yst(t).start(0)}function pst(t){var n=yst(t);return n.end(n.length-1)-n.start(0)}function yst(t){var n=t.seekable;if(n&&n.length)return n;var i=t.duration;return i=isFinite(i)?i:0,new BA([0,i]).ks()}function _st(t,n){void 0===n&&(n=t);var i=t<0?"-":"";t=A.abs(t);var r=A.floor(t%60),e=A.floor(t/60%60),u=A.floor(t/3600),s=A.floor(n/60%60),o=A.floor(n/3600);return(E(t)||t===1/0)&&(u=e=r="-"),i+(u=+u>0||o>0?u+":":"")+(e=((u||s>=10)&&+e<10?"0"+e:e)+":")+(r=+r<10?"0"+r:r)}function bst(t){return function(t){function n(){var n;return(n=t.apply(this,arguments)||this)._s=void 0,n}return Rt(n,t),n.prototype.dispose=function(){this._s=void 0,t.prototype.dispose.call(this)},xt(n,[{key:"ws",get:function(){var t;return null!=(t=this._s)?t:this._s=kst(this.player())}}]),n}(t)}function kst(t){return t.tech({IWillNotUseThisInPlugins:!0}).theoplayer()}function Ast(t){var n=kst(t),i=function(){var i=gst(t);t.toggleClass("theo-at-live",function(t,n){if(dst(t)){var i=t.seekable;return 0===i.length||i.end(i.length-1)-n<lst}return!1}(n,i)),t.toggleClass("vjs-live",dst(n)),t.toggleClass("theo-dvr",function(t){var n;return"dvr"===B$(t.duration,t.seekable,null==(n=t.source)?void 0:n.streamType)}(n))};t.on("emptied",i),t.on("timeupdate",i),t.on("durationchange",i)}U(),St(),Dt(),Ct(),U(),St();var Tst="theo-ad-playing",Sst="theo-dai-ad-playing";function Est(t,n,i){t.toggleClass(Tst,n),t.toggleClass(Sst,n&&i)}function Ist(){this.userActive(!1)}U(),St(),U(),St(),Dt(),Ct(),U(),St();var Rst=function(t,n){this.type=t.type,this.target=n,this.playerEvent=t},Cst=["loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange","resize"],Nst=vst.getTech("Tech"),xst=vst.getTech("Html5"),Dst=function(t){function n(n,i){var r;void 0===n&&(n={}),(r=t.call(this,n,i)||this).Cs=function(t){return r.Ds(t)},r.Us=!1,r.js=function(){void 0===r.ws.errorObject&&(r.Ds(new pT(r.ws.currentTime,r.ws.readyState)),r.Ds(new QR),r.Ds(new bT(r.ws.duration)))},r.Ts=function(){r.Ds(new Py(r.ws.currentTime))},r.As=function(t){r.textTracks().tt(t.track)},r.Ns=function(t){r.audioTracks().tt(t.track)},r.Ps=function(t){r.textTracks().it(t.track)},r.Is=function(t){r.audioTracks().it(t.track)},r.Es=function(){var t=r.textTracks();t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},r.Bs=function(){var t=r.audioTracks();t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},r.Ms=function(){if(r.supportsFullScreen()){var t=r.Us,n=r.ws.presentation.currentMode===NT.FULLSCREEN;t!==n&&(r.Us=n,r.trigger("fullscreenchange",{isFullscreen:n,nativeIOSFullscreen:!0}))}},r.Ss=function(){var t=r.ws.errorObject,n=t&&hm(t.code)||-1,i=t&&t.message||"An unknown error occurred.";r.error({code:n,message:r.localize(i)})},r.ws=r.h.player,r.xs();var e=!r.paused();return e&&r.pause(),n.preload&&r.setPreload(n.preload),n.autoplay&&r.setAutoplay(n.autoplay),n.muted&&r.setMuted(n.muted),n.source?r.setSrc(n.source):r.Zt(),e&&r.ready((function(){return r.play()})),r.triggerReady(),r}Rt(n,t);var i=n.prototype;return i.xs=function(){for(var t,n=0;n<Cst.length;n++){var i=Cst[n];this.ws.addEventListener(i,this.Cs)}this.ws.addEventListener("error",this.Ss),this.ws.addEventListener("contentprotectionerror",this.Ss),this.ws.addEventListener("sourcechange",this.js),this.ws.addEventListener("loadstart",this.Ts),null==(t=this.ws.presentation)||t.addEventListener(LI.MODE_CHANGE,this.Ms),this.ws.textTracks.addEventListener("addtrack",this.As),this.ws.textTracks.addEventListener("removetrack",this.Ps),this.ws.textTracks.addEventListener("change",this.Es),this.ws.audioTracks.addEventListener("addtrack",this.Ns),this.ws.audioTracks.addEventListener("removetrack",this.Is),this.ws.audioTracks.addEventListener("change",this.Bs)},i.Fs=function(){for(var t,n=0;n<Cst.length;n++){var i=Cst[n];this.ws.removeEventListener(i,this.Cs)}this.ws.removeEventListener("error",this.Ss),this.ws.removeEventListener("contentprotectionerror",this.Ss),this.ws.removeEventListener("sourcechange",this.js),this.ws.removeEventListener("loadstart",this.Ts),null==(t=this.ws.presentation)||t.removeEventListener(LI.MODE_CHANGE,this.Ms),this.ws.textTracks.removeEventListener("addtrack",this.As),this.ws.textTracks.removeEventListener("removetrack",this.Ps),this.ws.textTracks.removeEventListener("change",this.Es),this.ws.audioTracks.removeEventListener("addtrack",this.Ns),this.ws.audioTracks.removeEventListener("removetrack",this.Is),this.ws.audioTracks.removeEventListener("change",this.Bs)},i.Ds=function(t){this.trigger(new Rst(t,this))},i.createEl=function(){var t=this.h,n=t.player;if(!n)throw new y(this.localize('Missing required tech option "player"'));var i=n.element;return vst.setAttributes(i,{id:t.techId}),i},i.theoplayer=function(){return this.ws},i.addTextTrack=function(n,i,r){return t.prototype.addTextTrack.call(this,n,i,r)},i.buffered=function(){return this.ws.buffered},i.played=function(){return this.ws.played},i.reset=function(){this.ws.stop()},i.play=function(){this.ws.play()},i.pause=function(){this.ws.pause()},i.paused=function(){return this.ws.paused},i.currentTime=function(){return this.ws.currentTime},i.setCurrentTime=function(t){this.ws.currentTime=t},i.duration=function(){return this.ws.duration},i.volume=function(){return this.ws.volume},i.setVolume=function(t){this.ws.volume=t},i.muted=function(){return this.ws.muted},i.setMuted=function(t){this.ws.muted=t},i.src=function(t){if(void 0!==t)this.setSrc(t);else{if(this.ws.src)return this.ws.src;if(this.ws.source){if(!rE(this.ws.source.ads))return this.ws.source.ads[0].sources;if(function(t){return!!t.sources&&(Jn(t.sources)?t.sources.some(rT):rT(t.sources))}(this.ws.source))return"This source is managed by the Uplynk integration extension.";if(function(t){if(t.sources)if(Jn(t.sources)){for(var n=0,i=t.sources;n<i.length;n++)if(iT(i[n]))return!0}else if($n(t.sources))return iT(t.sources);return!1}(this.ws.source))return"This source is managed by the DAI integration extension.";if(function(t){if(t.sources)if(Jn(t.sources)){for(var n=0,i=t.sources;n<i.length;n++)if(sT(i[n]))return!0}else if($n(t.sources))return sT(t.sources);return!1}(this.ws.source))return"This source is managed by Millicast."}}},i.setSrc=function(t){return this.setSource({src:t})},i.setSource=function(t){this.lt=null,this.trigger("error")},i.currentSrc=function(){return this.ws.src},i.load=function(){this.setPreload("auto")},i.preload=function(){return this.ws.preload},i.setPreload=function(t){this.ws.preload=t},i.autoplay=function(){return this.ws.autoplay},i.setAutoplay=function(t){this.ws.autoplay=!!t},i.seeking=function(){return this.ws.seeking},i.seekable=function(){return this.ws.seekable},i.ended=function(){return this.ws.ended},i.playbackRate=function(){return this.ws.playbackRate},i.setPlaybackRate=function(t){this.ws.playbackRate=t},i.readyState=function(){return this.ws.readyState},i.networkState=function(){return 0},i.controls=function(){return!1},i.videoHeight=function(){return this.ws.videoHeight},i.videoWidth=function(){return this.ws.videoWidth},i.supportsFullScreen=function(){return this.ws.presentation.supportsMode(NT.FULLSCREEN)},i.enterFullScreen=function(){this.ws.presentation.requestMode(NT.FULLSCREEN)},i.exitFullScreen=function(){this.ws.presentation.requestMode(NT.INLINE)},i.$s=function(){var t=this.ws.ads;if(t&&t.playing)return!0;var n=this.ws.vr;return!(!n||n.state===a5.Rs)},i.initTextTrackListeners=function(){var n=this;return this.on("touchend",(function(t){n.$s()&&(t.preventDefault=function(){})})),t.prototype.initTextTrackListeners.call(this)},i.Zt=function(){var t=this;if(this.src()){var n=this.readyState();if(0===n){var i=!1,r=function(){i=!0};this.on("loadstart",r);var e=function(){i||t.trigger("loadstart")};return this.on("loadedmetadata",e),void this.ready((function(){t.off("loadstart",r),t.off("loadedmetadata",e),i||t.trigger("loadstart")}))}var u=["loadstart"];u.push("loadedmetadata"),n>=2&&u.push("loadeddata"),n>=3&&u.push("canplay"),n>=4&&u.push("canplaythrough"),this.ready((function(){for(var n=0;n<u.length;n++){var i=u[n];t.trigger(i)}}))}},i.dispose=function(){this.Fs(),this.ws=null,t.prototype.dispose.call(this)},n.isSupported=function(){return!0},n.canPlayType=function(){return"maybe"},n.canPlaySource=function(t){return"maybe"},xt(n,[{key:"featuresVolumeControl",get:function(){return Lr}}]),n}(Nst);Dst.prototype.featuresFullscreenResize=xst.prototype.featuresFullscreenResize,Dst.prototype.featuresPlaybackRate=xst.prototype.featuresPlaybackRate,Dst.prototype.featuresProgressEvents=!0,Dst.prototype.featuresTimeupdateEvents=!0,Dst.prototype.featuresNativeTextTracks=!0,vst.registerTech("THEOplayer",Dst),U(),St(),U(),St(),Ct(),U(),St(),Dt(),Ct(),U(),St();var Pst=function(t){var n=this;this.Os=function(t){gi(n.Vs,"theo-mobile-button-hover"),t.stopImmediatePropagation()},this.Ls=function(t){mi(n.Vs,"theo-mobile-button-hover")},this.Hs=function(t){n.Vs.blur()},this.Vs=t,t.addEventListener("touchstart",this.Os),t.addEventListener("touchend",this.Ls),t.addEventListener("focusin",this.Hs)};U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var Mst=function(t){function n(n,i){return t.call(this,n,i)||this}Rt(n,t);var i=n.prototype;return i.zs=function(){gi(this.qs,"theo-menu-opened")},i.Ws=function(){mi(this.qs,"theo-menu-opened")},xt(n,[{key:"qs",get:function(){return this.player().el()}}]),n}(bst(vst.getComponent("Menu")));U(),St(),Dt(),Ct();var Bst=function(t){function n(n,i,r){var e;return(e=t.call(this,n,ss({selectable:!0},i))||this).Xs=!1,e.Os=function(t){gi(e.el(),"theo-mobile-menu-item-hover"),t.stopImmediatePropagation()},e.Ls=function(t){mi(e.el(),"theo-mobile-menu-item-hover")},e.Gs=r,qn.Ys.Qs&&(e.el().addEventListener("touchstart",e.Os),e.el().addEventListener("touchend",e.Ls)),e}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-menu-item vjs-menu-item"},i.createEl=function(){var n=t.prototype.createEl.call(this,"li",{className:this.buildCSSClass(),tabIndex:0},{"aria-live":"off","aria-label":""});return n.innerHTML="",n},i.handleClick=function(t){this.Xs||(this.parentMenu.Js(this),"tap"!==t.type&&"keydown"!==t.type||(this.Xs=!0,this.trigger("click"),this.Xs=!1))},i.dispose=function(){qn.Ys.Qs&&(this.el().removeEventListener("touchstart",this.Os),this.el().removeEventListener("touchend",this.Ls)),t.prototype.dispose.call(this)},xt(n,[{key:"parentMenu",get:function(){return this.Gs}}]),n}(bst(vst.getComponent("MenuItem")));U(),St(),Dt(),Ct();var Ost=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Xs=!1,e.Zs=!1,e.Gs=r,e.on(n,"languagechange",e.te),e}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-primary-background theo-menu-header"},i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-live":"off","aria-label":""});return n.innerHTML="",n},i.handleClick=function(t){!this.Xs&&this.Ks&&(this.Gs.ie(),"tap"===t.type&&(this.Xs=!0,this.trigger("click"),this.Xs=!1))},i.te=function(){this.Ks?this.el().setAttribute("aria-label",this.localize("Go back to the previous menu")):this.el().setAttribute("aria-label","")},xt(n,[{key:"parentMenu",get:function(){return this.Gs}},{key:"Ks",get:function(){return this.Zs},set:function(t){this.Zs=t,this.el().setAttribute("tabindex",this.Ks?"0":"-1"),this.te()}}]),n}(vst.getComponent("ClickableComponent")),Lst=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).ne=function(){return r.re()},r.ue=r.player().el(),r.hide(),r.on("menuchange",r.re),r}Rt(n,t);var i=n.prototype;return i.addMenuItem=function(t){t=ss({playerOptions:this.h.playerOptions},t);var n=new Bst(this.player(),t,this);return this.addChild(n,void 0,t.index),this.trigger("menuchange"),n},i.addSubMenuItem=function(t){t=ss({playerOptions:this.h.playerOptions},t);var n=this.ee(this.player(),t);return this.addChild(n,void 0,t.index),this.trigger("menuchange"),n},i.removeMenuItem=function(t){this.removeChild(t),this.trigger("menuchange")},i.buildCSSClass=function(){return"theo-menu vjs-menu"},i.zs=function(){t.prototype.zs.call(this),f.removeEventListener("resize",this.ne),f.addEventListener("resize",this.ne),this.show()},i.re=function(){var t=this.he();if(t){var n=t.getClientRects();qn.Ys.Qs?this.oe(t,n):this.ae(t,n)}},i.he=function(){var t;return null!=(t=this.contentEl().parentElement)?t:void 0},i.ae=function(t,n){},i.oe=function(t,n){},i.Ws=function(){f.removeEventListener("resize",this.ne),t.prototype.Ws.call(this),this.hide(),qn.Ys.Qs&&(this.el().removeAttribute("style"),this.contentEl().removeAttribute("style"))},i.createEl=function(){var n=t.prototype.createEl.call(this);n.className=this.buildCSSClass();var i=this.contentEl();gi(i,"theo-menu-content");var r=new Ost(this.player(),this.h,this);return i.parentNode.insertBefore(r.el(),i),this.se=r,n},i.Js=function(t){},i.show=function(){return this.re(),t.prototype.show.call(this)},i.dispose=function(){this.se&&this.se.dispose(),t.prototype.dispose.call(this)},xt(n,[{key:"menuHeader",get:function(){return this.se}},{key:"menuItems",get:function(){return this.children()}}]),n}(Mst),Fst=function(t){function n(n,i){return t.call(this,n,i)||this}Rt(n,t);var i=n.prototype;return i.ve=function(t){this.ce.pe(t,"replace")},i.me=function(t){t.ce.pe(this,"restore")},i.ge=function(){mi(this.ye,"vjs-hidden"),this.ye.style.opacity="1",t.prototype.show.call(this)},i.be=function(){gi(this.ye,"vjs-hidden")},i.zs=function(){this.ce&&this.ce.zs(),t.prototype.zs.call(this)},i.Ws=function(){this.ce&&this.ce.Ws(),t.prototype.Ws.call(this),gi(this.ye,"vjs-hidden")},i.he=function(){if(this.ce&&this.ce.ke)return this.ce.ke.ye},i.ae=function(n,i){if(i.length>0){var r=i[0].height,e=i[0].width;this.le.we.style.height=r+"px",this.le.we.style.width=e+"px"}t.prototype.ae.call(this,n,i)},xt(n,[{key:"ce",get:function(){return this.le},set:function(t){this.le&&this.le.de(this),this.le=t,t&&t.fe(this)}}]),n}(Lst);U(),St(),Dt();var Vst=function(){function t(t){this.Se=this._e=t,this.Vs=v.createElement("div"),this.Vs.className="theo-tertiary-background theo-menu-animation-container",this.Vs.appendChild(this.Se.ye),this.ue=this._e.player().el()}var n=t.prototype;return n.fe=function(t){t.be(),this.Vs.appendChild(t.ye)},n.de=function(t){this.Vs.removeChild(t.ye)},n.pe=function(t,n){if(t!=this._e){var i=this._e;if(this._e=t,this._e.ge(),this.ke.focus(),qn.Ys.Qs)i.be();else{var r=SI("transform");i.ye.style.opacity="0",i.ye.style[r]="replace"===n?"translateX(-100%)":"translateX(100%)",this._e.ye.style.opacity="1",this._e.ye.style[r]="",g((function(){i.be(),i.ye.style[r]=""}),300)}}},n.zs=function(){this.xe(),this._e.ge(),this.Ce()},n.Ws=function(){this.xe(),this._e.be(),this.Se.be(),this._e=this.Se,this.Ce()},n.Ce=function(){var t=this;vI((function(){mi(t.Vs,"theo-no-transition"),mi(t._e.ye,"theo-no-transition")}))},n.xe=function(){gi(this.Vs,"theo-no-transition"),gi(this._e.ye,"theo-no-transition")},xt(t,[{key:"we",get:function(){return this.Vs}},{key:"ke",get:function(){return this._e}}]),t}();U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var Ust=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Me=!1,e.je=r,e.menuHeader.Ks=!0,e}Rt(n,t);var i=n.prototype;return i.ee=function(t,n){var i=new Wst(t,n,this);return i.subMenu.ce=this.ce,i},i.ie=function(){this.Te()},i.Js=function(n){t.prototype.Js.call(this,n),this.Te()},i.Te=function(){this.parentMenu.me(this)},i.buildCSSClass=function(){return"theo-submenu "+(this.Me?"":"theo-leaf-submenu ")+"theo-menu-content theo-menu-content-animatable "+t.prototype.buildCSSClass.call(this)},i.addSubMenuItem=function(n){this.Me=!0;var i=t.prototype.addSubMenuItem.call(this,n);return this.removeClass("theo-leaf-submenu"),i},xt(n,[{key:"ye",get:function(){return this.el()}},{key:"parentMenu",get:function(){return this.je}}]),n}(Fst),Wst=function(t){function n(n,i,r){var e;return(e=t.call(this,n,ss({selectable:!1},i),r)||this).Ae=new Ust(n,i,r),e}return Rt(n,t),n.prototype.handleClick=function(t){this.parentMenu.ve(this.subMenu)},xt(n,[{key:"subMenu",get:function(){return this.Ae}}]),n}(Bst),jst=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Ne=!1,e.Pe=r,e}Rt(n,t);var i=n.prototype;return i.createEl=function(){var n=vst.createEl("div",{className:this.buildCSSClass()});return this.Ee=t.prototype.createEl.call(this),this.Ee.className=t.prototype.buildCSSClass.call(this),gi(this.Ee,"theo-menu-content-animatable"),n.appendChild(this.Ee),this.ce=new Vst(this),n.appendChild(this.ce.we),n},i.buildCSSClass=function(){return"theo-menu-animatable "+t.prototype.buildCSSClass.call(this)},i.ee=function(t,n){var i=new Wst(t,n,this);return i.subMenu.ce=this.ce,i},i.ae=function(n,i){t.prototype.ae.call(this,n,i);var r=this.ue.getClientRects(),e=r.length>0?r[0]:void 0,u=S(getComputedStyle(this.el()).fontSize);EP(this.el(),this.Pe.el(),e,u)},i.ie=function(){this.Pe.closeMenu()},i.dispose=function(){this.Ne||(this.Ne=!0,t.prototype.dispose.call(this))},xt(n,[{key:"menuButton",get:function(){return this.Pe}},{key:"ye",get:function(){return this.Ee}}]),n}(Fst);U(),St(),Dt();var Zst=function(){function t(t,n){var i=this;this.$e=function(){mi(i.Be,"vjs-hidden");var t=i.Fe.player().contentEl().getClientRects(),n=t.length>0?t[0]:void 0,r=S(getComputedStyle(i.Be).fontSize);EP(i.Be,i.Fe.el(),n,r)},this.Ue=function(){gi(i.Be,"vjs-hidden")},this.Oe=function(){return i.Re()},this.Fe=t,Ai(t.el()),function(t){t.addEventListener("mouseover",(function(t){Ai(t.target)}))}(t.el()),this.Be=v.createElement("span"),this.Be.innerHTML=this.Fe.localize(n),this.Be.className="theo-button-tooltip vjs-hidden",this.Be.setAttribute("aria-hidden","true"),this.Fe.el().appendChild(this.Be),this.Fe.on("mouseover",this.$e),this.Fe.on("mouseout",this.Ue),this.Fe.on("dispose",this.Oe)}var n=t.prototype;return n.De=function(){return!di(this.Be,"vjs-hidden")},n.Re=function(){this.Fe.off("mouseover",this.$e),this.Fe.off("mouseout",this.Ue),this.Fe.off("dispose",this.Oe),ai(this.Be)},xt(t,[{key:"Ie",get:function(){return this.Be.textContent||""},set:function(t){this.Be.innerHTML=this.Fe.localize(t),this.De()&&this.$e(),Ai(this.Fe.el())}}]),t}(),Xst=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).He=!1,r.ze=1,r.qe=!0,r.Xe=function(t){var n,i=r.el().contains(t.target),e=r.Le.el().contains(t.target),u=!1;qn.Ys.Qs&&r.Ve&&(u=(null==(n=r.el().parentElement)?void 0:n.querySelector(".theo-mobile-menu-background"))===t.target);i||e||!r.He||(u&&t.preventDefault(),r.closeMenu())},r.Je=function(t){27===t.which&&(r.closeMenu(),r.focus())},r.Ge=function(){r.He&&r.closeMenu()},r.We=function(){r.Le.menuItems.length>=r.ze?r.show():(r.closeMenu(),r.hide())},r.Le=new jst(n,i,r),r.player().getChild("controlBarMenuContainer").addChild(r.Le),r.Be=new Zst(r,r.controlText()),r.el().setAttribute("aria-haspopup","true"),qn.Ys.Qe?(r.on(v,"touchend",r.Xe),new Pst(r.el())):(r.on(v,"click",r.Xe),r.on(v,"keydown",r.Je),xI&&r.on(v,xI.Ye,r.closeMenu)),r.ws.addEventListener("seeking",r.Ge),r.on(r.Le,"menuchange",r.We),r.on(n,"languagechange",r.te),r.We(),r}Rt(n,t);var i=n.prototype;return i.isMenuOpen=function(){return this.He},i.openMenu=function(){this.qe&&!this.He&&(this.Le.zs(),this.el().setAttribute("aria-expanded","true"),this.He=!0,this.Le.focus())},i.closeMenu=function(){this.qe&&this.He&&(this.Le.Ws(),this.el().setAttribute("aria-expanded","false"),this.He=!1)},i.buildCSSClass=function(){return"theo-controlbar-button vjs-menu-button vjs-menu-button-popup "+t.prototype.buildCSSClass.call(this)},i.createEl=function(n,i,r){return t.prototype.createEl.call(this,"button",{},{"aria-live":"off"})},i.handleClick=function(){this.He?this.closeMenu():this.openMenu()},i.enable=function(){return this.qe=!0,t.prototype.enable.call(this)},i.disable=function(){return this.closeMenu(),this.qe=!1,t.prototype.disable.call(this)},i.te=function(){this.Be.Ie=this.controlText()},i.dispose=function(){this.player().removeChild(this.Le),this.Le.dispose(),this.Be.Re(),this.ws.removeEventListener("seeking",this.Ge),t.prototype.dispose.call(this)},xt(n,[{key:"Ve",get:function(){var t=this.el().parentElement;return!!t&&null!==t.querySelector(".theo-mobile-menu-background")}},{key:"menu",get:function(){return this.Le}},{key:"minimumMenuItems",set:function(t){this.ze=t,this.We()}}]),n}(bst(vst.getComponent("Button"))),Gst=vst.getComponent("Component"),Hst=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).addChild("THEOControlBarShadow",void 0,0),r}Rt(n,t);var i=n.prototype;return i.addMenuButton=function(t){t=ss({playerOptions:this.h.playerOptions},t);var n=new Xst(this.player(),t);return this.addChild(n),n},i.removeMenuButton=function(t){this.removeChild(t)},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-secondary-color vjs-control-bar "+t.prototype.buildCSSClass.call(this)},n}(vst.getComponent("ControlBar")),zst=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){return"theo-tertiary-color theo-control-bar-shadow"},n}(Gst);vst.registerComponent("THEOControlBarShadow",zst),U(),St(),Ct(),U(),St(),Ct();var Yst=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Ke=i.Ze,r}Rt(n,t);var i=n.prototype;return i.handleFocus=function(n){t.prototype.handleFocus.call(this,n),this.Ke.addClass("focus-within")},i.handleBlur=function(n){t.prototype.handleBlur.call(this,n),this.Ke.removeClass("focus-within")},n}(vst.getComponent("VolumeBar"));U(),St(),Ct();var Kst=vst.getComponent("VolumeControl"),qst=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).tn=new Yst(n,{Ze:r}),r.addChild(r.tn),r}return Rt(n,t),n}(Kst);qst.prototype.h=ss({},Kst.prototype.h,{children:[]}),vst.registerComponent("VolumeControl",qst);var Jst=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).dn=!1,r.an=0,r.un=function(){0!==r.an&&(r.an=0,r.nn(r.rn()))},r.gn=function(){r.dn&&r.fn()},r.on(n,"ready",r.sn),r.on(n,"pause",r.sn),r.on(n,"useractive",r.sn),r.on(n,"firstplay",r.hn),r.on(n,"play",r.hn),r.on(n,"userinactive",r.hn),r.on("transitionstart",r.cn),r.on("transitionend",r.ln),r.pn=new CI(r.el()),r.pn.bn(wI.mn,r.gn),r.pn.kn(!0),r}Rt(n,t);var i=n.prototype;return i.sn=function(){this.nn(this.rn())},i.hn=function(){0===this.an&&(this.an=g(this.un,100))},i.cn=function(t){"opacity"===t.propertyName&&(0!==this.an&&(m(this.an),this.an=0),this.nn(!0))},i.ln=function(t){"opacity"===t.propertyName&&(this.rn()||this.nn(!1))},i.rn=function(){return"0"!==f.getComputedStyle(this.el()).opacity},i.nn=function(t){this.dn!==t&&(this.dn=t,t?this.fn():this.ws.textTrackStyle.marginBottom=void 0)},i.fn=function(){var t=this.el().getBoundingClientRect().height;this.ws.textTrackStyle.marginBottom!==t&&(this.ws.textTrackStyle.marginBottom=t)},i.dispose=function(){m(this.an),this.an=0,this.pn.vn(wI.mn,this.gn),this.pn.yn(),t.prototype.dispose.call(this)},n}(bst(Hst));Jst.prototype.h=ss({},Hst.prototype.h,{children:["progressControl","playToggle","muteToggle","volumeControl","currentTimeDisplay","timeDivider","durationDisplay","liveDisplay","remainingTimeDisplay","customControlSpacer","activeQualityLabel","vrButton","descriptionsButton","subtitlesButton","chromecastButton","airplayButton","multiViewButton","audioTrackButton","SettingsButton","fullscreenToggle"]}),vst.registerComponent("ControlBar",Jst),U(),St(),Ct();var Qst=function(t){function n(n,i){var r;return r=t.call(this,n,i)||this,n.topControlBar=r,r}return Rt(n,t),n.prototype.buildCSSClass=function(){return"theo-top-controlbar "+t.prototype.buildCSSClass.call(this)},n}(Hst);Qst.prototype.h=ss({},Hst.prototype.h,{children:[]}),vst.registerComponent("TopControlBar",Qst),U(),St(),Ct();var $st=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"timeupdate",r.updateContent),r.on(n,"emptied",r.updateContent),r}return Rt(n,t),n.prototype.updateContent=function(){var t=gst(this.player()),n=this.ws,i=wst(n),r=this.localize("Current Time"),e=_st(A.max(0,t-i),pst(n));e!==this.Mt&&(this.Mt=e,this.contentEl().innerHTML='<span class="vjs-control-text">'+r+"</span> "+e)},n}(bst(vst.getComponent("CurrentTimeDisplay")));vst.registerComponent("CurrentTimeDisplay",$st),U(),St(),Ct();var tot=function(t){function n(n,i){var r,e;return(r=t.call(this,n,i)||this).wn=function(){return r.updateContent()},r.off(n,"durationchange",r.updateContent),r.on(n,"durationchange",r.updateContent),r.off(n,"timeupdate",r.updateContent),r.on(n,"timeupdate",r.updateContent),r.off(n,"emptied",r.updateContent),r.on(n,"emptied",r.updateContent),null==(e=r.ws)||e.clip.addEventListener("change",r.wn),r}Rt(n,t);var i=n.prototype;return i.updateContent=function(){var t=this.ws,n=E(t.duration)?NaN:pst(t),i=t.clip.endTime-t.clip.startTime,r=A.min(n,i)||0;if(this.ct!==r){this.ct=r;var e=this.localize("Duration Time"),u=_st(r);this.S.innerHTML='<span class="vjs-control-text">'+e+"</span> "+u}},i.dispose=function(){var n;null==(n=this.ws)||n.clip.removeEventListener("change",this.wn),t.prototype.dispose.call(this)},n}(bst(vst.getComponent("DurationDisplay")));vst.registerComponent("DurationDisplay",tot),U(),St(),Ct();var not=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).controlText("Live"),r.xn(),r.on(n,"emptied",r.xn),r.on(n,"durationchange",r.xn),qn.Ys.Qe&&new Pst(r.el()),r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-live-control "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var n=t.prototype.createEl.call(this,"button",{},{"aria-live":"off"});return this._n=vst.createEl("span",{className:"theo-live-control-indicator"}),fi(n,this._n),n},i.createControlTextEl=function(n){var i=t.prototype.createControlTextEl.call(this,n);return vst.removeClass(i,"vjs-control-text"),vst.addClass(i,"theo-live-control-text"),i},i.handleClick=function(){var t,n=this.ws;if(void 0!==(null==(t=n.hesp)?void 0:t.manifest))n.hesp.goLive();else{var i=this.player();i.currentTime(mst(n)),i.play()}},i.xn=function(){dst(this.ws)?this.show():this.hide()},n}(bst(vst.getComponent("Button")));vst.registerComponent("LiveDisplay",not),U(),St(),Ct();var iot=function(t){function n(n,i){return t.call(this,n,i)||this}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-secondary-color vjs-loading-spinner "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var n=t.prototype.createEl.call(this);n.className=this.buildCSSClass();var i=vst.createEl("div",{className:"theo-loading-spinner-rotator"}),r=vst.createEl("div",{className:"theo-loading-spinner-circle-left"}),e=vst.createEl("div",{className:"theo-loading-spinner-circle-right"});return i.appendChild(r),i.appendChild(e),n.appendChild(i),n},n}(vst.getComponent("LoadingSpinner"));vst.registerComponent("LoadingSpinner",iot),U(),St(),Ct();var rot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Mn=[],r.on(n,"emptied",r.update),r}return Rt(n,t),n.prototype.update=function(){var t=this.ws,n=BA.Cn(yst(t)),i=n.Sn(0),r=BA.Cn(t.buffered).jn(n),e=n.Tn(0)-i,u=r.V&&r.Tn(r.V-1)||0;u=A.max(0,u-i);var s=this.el(),o=this.Mn;s.style.width=eot(u,e);for(var a=0;a<r.V;a++){var c=r.Sn(a),h=r.Tn(a),f=o[a];f||(f=v.createElement("div"),o.push(f),s.appendChild(f)),f.style.left=eot(c-i,u),f.style.width=eot(h-c,u)}for(var l=o.length;l>r.V;l--)s.removeChild(o[l-1]);o.length=r.V},n}(bst(vst.getComponent("LoadProgressBar")));function eot(t,n){var i=t/n||0;return 100*(i>=1?1:i)+"%"}vst.registerComponent("LoadProgressBar",rot),U(),St(),Ct();var uot=function(t){function n(n,i){var r,e;((r=t.call(this,n,i)||this).Pn=NaN,r.In=function(){var t=gst(r.player()),n=r.ws,i=(t-wst(n))/pst(n)||0;i=hr(i,0,1),r.update(t,100*i+"%")},r.keepTooltipsInside&&(vst.addClass(r.tooltip,"theo-secondary-color"),r.tooltip.appendChild(r.An)),r.on(n,"ready",(function(){r.on(n.controlBar.progressControl,"mouseenter",r.handleMouseMove)})),Gn.Qs)&&(r.on(n,"firstplay",r.In),r.on(n,"play",r.In),r.on(n,"seeking",r.In),r.on(n,"seeked",r.In),r.on(n,"timeupdate",r.In),r.ws.addEventListener("dimensionchange",r.In),null==(e=r.ws.presentation)||e.addEventListener(LI.MODE_CHANGE,r.In),r.on(n,"ready",(function(){r.on(n.controlBar.progressControl,"touchstart",r.handleTouchMove),r.on(n.controlBar.progressControl,"touchmove",Ii((function(t){return r.handleTouchMove(t)}),25)),r.In()})));return r}Rt(n,t);var i=n.prototype;return i.handleMouseMove=function(t){var n=t,i=this.ws,r=wst(i)+this.calculateDistance(n)*pst(i),e=n.pageX-SP(this.el().parentNode).left;this.update(r,e+"px")},i.handleTouchMove=function(t){var n=t,i=this.ws,r=wst(i)+this.calculateDistance(n)*pst(i),e=n.touches[0].pageX-SP(this.el().parentNode).left;this.update(r,e+"px")},i.createEl=function(){var n=t.prototype.createEl.call(this);return this.An=vst.createEl("span",{className:"theo-time-tooltip-text"}),n},i.update=function(t,n){this.Pn=t;var i=this.En(t);this.el().style.left=n,this.el().setAttribute("data-current-time",i),this.keepTooltipsInside&&(CP(this.An,i),this.Nn())},i.Nn=function(){if(this.keepTooltipsInside&&this.tooltip.offsetParent){var t=this.player().contentEl(),n=t.getClientRects(),i=n.length>0?n[0]:void 0,r=S(getComputedStyle(t).fontSize);EP(this.tooltip,this.el(),i,r)}},i.En=function(t){var n=this.ws,i=t-mst(n);return _st(dst(n)?A.min(i,0):i,pst(n))},i.dispose=function(){var n;this.ws.removeEventListener("dimensionchange",this.In),null==(n=this.ws.presentation)||n.removeEventListener(LI.MODE_CHANGE,this.In),t.prototype.dispose.call(this)},n}(bst(vst.getComponent("MouseTimeDisplay")));vst.registerComponent("MouseTimeDisplay",uot),U(),St(),Ct();var sot=function(t){function n(n,i){return t.call(this,n,i)||this}Rt(n,t);var i=n.prototype;return i.updateDataAttr=function(){var t=gst(this.player());this.el().setAttribute("data-current-time",this.En(t))},i.En=function(t){var n=this.ws;return _st(t-mst(n),pst(n))},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-play-progress vjs-slider-bar "+t.prototype.buildCSSClass.call(this)},n}(bst(vst.getComponent("PlayProgressBar")));vst.registerComponent("PlayProgressBar",sot),U(),St(),Ct();var oot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"timeupdate",r.updateContent),r.on(n,"emptied",r.updateContent),r}return Rt(n,t),n.prototype.updateContent=function(){var t=this.ws,n=pst(t);if(n){var i=yst(t).end(0),r=this.localize("Remaining Time"),e=_st(A.max(0,i-this.player().currentTime()),n);e!==this.Mt&&(this.Mt=e,this.contentEl().innerHTML='<span class="vjs-control-text">'+r+"</span> -"+e)}},n}(bst(vst.getComponent("RemainingTimeDisplay")));vst.registerComponent("RemainingTimeDisplay",oot),U(),St(),Ct(),U(),St(),Dt();var aot=function(){function t(t,n){var i=this;this.Bn=n,this.Un=[],this._s=void 0,this.Ln=function(){i.Yn(i.Gn())},this.qn=function(t){var n=t.track;n.kind===ty.Jn&&(n.addEventListener("addcue",i.Ln),n.addEventListener("removecue",i.Ln),n.addEventListener("readystatechange",i.Ln)),i.Ln()},this.zn=function(t){var n=t.track;n.kind===ty.Jn&&(n.removeEventListener("addcue",i.Ln),n.removeEventListener("removecue",i.Ln),n.removeEventListener("readystatechange",i.Ln)),i.Ln()},this.ar=function(t){var n=i.ws,r=function(t,n){var i,r,e=SP(t),u=t.offsetWidth,s=t.offsetHeight,o=e.top,a=e.left;!function(t){return void 0!==t.changedTouches}(n)?(r=n.pageX,i=n.pageY):(r=n.changedTouches[0].pageX,i=n.changedTouches[0].pageY);var c=hr((o-i+s)/s,0,1),h=hr((r-a)/u,0,1);return{x:h,y:c}}(i.On,t),e=wst(n)+r.x*pst(n);e===n.duration&&(e-=.1),i.tr(e)},this.cr=function(){i.Rn.be()},this.ur=function(){i.Rn.ge()},this.Hn=function(){i.Dn&&(i.Kn(),i.Fn(),i.Zn())},this.Zn=function(){var t,n,r,e=null==(n=i.Dn)||null==(t=n.activeCues)?void 0:t[0],u=mo(i.Un,(function(t){return t.lr===e}));u!==i.rr&&(null==(r=i.rr)||r.dr(),i.rr=u,null==u||u.pr())},this.hr=t,this.Rn=new hot,this.Bn.contentEl().appendChild(this.Rn.we),this.On=v.createElement("div"),gi(this.On,"theoplayer-chapterbar"),this.hr.appendChild(this.On),this.hr.addEventListener("mousemove",this.ar),this.hr.addEventListener("mouseenter",this.ur),this.hr.addEventListener("mouseleave",this.cr),this.Vn()}var n=t.prototype;return n.Fn=function(){var t=this.Dn;if(t){var n=this.ws;if(0!==n.seekable.length){var i=t.cues.slice();this.Rn.$n(i);for(var r=0;r<i.length;r++){var e=i[r],u=i[r+1],s=!u||e.endTime!==u.startTime,o=new cot(e,n,s);this.Un.push(o),this.On.appendChild(o.we)}}}},n.Vn=function(){this.ws.addEventListener("loadedmetadata",this.Ln),this.ws.addEventListener("loadeddata",this.Ln),this.ws.addEventListener("sourcechange",this.Ln),this.ws.addEventListener("durationchange",this.Hn),this.ws.clip.addEventListener("change",this.Hn),this.ws.textTracks.addEventListener("addtrack",this.qn),this.ws.textTracks.addEventListener("removetrack",this.zn),this.ws.textTracks.addEventListener("change",this.Ln)},n.Wn=function(){this.ws.removeEventListener("loadedmetadata",this.Ln),this.ws.removeEventListener("loadeddata",this.Ln),this.ws.removeEventListener("sourcechange",this.Ln),this.ws.removeEventListener("durationchange",this.Hn),this.ws.clip.removeEventListener("change",this.Hn),this.ws.textTracks.removeEventListener("addtrack",this.qn),this.ws.textTracks.removeEventListener("removetrack",this.zn),this.ws.textTracks.removeEventListener("change",this.Ln)},n.Gn=function(){if(!(this.ws.readyState<Ny.Xn))for(var t=0,n=this.ws.textTracks;t<n.length;t++){var i=n[t];if(i.kind===ty.Jn&&i.mode===Hp.Qn&&i.cues.length>0&&i.readyState!==xm.ERROR)return i}},n.Yn=function(t){var n=this.Dn;t!==n&&(n&&(this.Kn(),n.removeEventListener("cuechange",this.Zn)),this.Dn=t,t&&(t.addEventListener("cuechange",this.Zn),this.Hn()))},n.tr=function(t){this.Rn.ir(t)},n.sr=function(){this.Rn.ge()},n.er=function(){this.Rn.be()},n.Kn=function(){for(var t=0,n=this.Un;t<n.length;t++){n[t].Re()}this.Rn.nr(),this.Un=[],this.rr=void 0},n.Re=function(){this.Wn(),this.hr.removeEventListener("mousemove",this.ar),this.hr.removeEventListener("mouseenter",this.ur),this.hr.removeEventListener("mouseleave",this.cr),this.Yn(void 0),this.Rn.Re(),this._s=void 0},xt(t,[{key:"ws",get:function(){var t;return null!=(t=this._s)?t:this._s=kst(this.Bn)}}]),t}(),cot=function(){function t(t,n,i){this.lr=t,this.Vs=this.mr(n,i)}var n=t.prototype;return n.pr=function(){gi(this.Vs,"theoplayer-chapter-indicator-active")},n.dr=function(){mi(this.Vs,"theoplayer-chapter-indicator-active")},n.mr=function(t,n){var i=t.seekable.start(0),r=t.seekable.end(t.seekable.length-1),e=r-i,u=this.lr.startTime,s=this.lr.endTime,o=s>=i&&u<=r,a=hr(u-i,0,e),c=hr(s-i,0,e),h=A.max(0,c-a),f=v.createElement("div");gi(f,"theoplayer-chapter-indicator");var l=v.createElement("div");gi(l,"theoplayer-chapter-indicator-highlight"),f.appendChild(l),n&&gi(f,"theoplayer-chapter-indicator-discontinuous");var d=a/e*100,g=h/e*100;return f.style.display=o?"":"none",f.style.width=g+"%",f.style.left=d+"%",f},n.Re=function(){ai(this.Vs)},xt(t,[{key:"we",get:function(){return this.Vs}}]),t}(),hot=function(){function t(){this.yr=[],this.gr=0,this.we=v.createElement("div"),gi(this.we,"theoplayer-chaptertitle"),this.we.style.display="none",this.kr=v.createElement("p"),this.we.appendChild(this.kr)}var n=t.prototype;return n.be=function(){this.gr--,0===this.gr&&mi(this.we,"theoplayer-chapter-hovering")},n.$n=function(t){this.yr=t||[],this.yr.length>0&&(this.we.style.display="")},n.br=function(t){CP(this.kr,t.content)},n.nr=function(){this.yr=[],CP(this.kr,""),this.we.style.display="none"},n.ge=function(){this.gr++,this.gr>0&&gi(this.we,"theoplayer-chapter-hovering")},n.ir=function(t){for(var n=0,i=this.yr;n<i.length;n++){var r=i[n];if(fot(r,t)){this.br(r);break}}},n.Re=function(){ai(this.we)},t}();function fot(t,n){return new BA([t.startTime,t.endTime]).wr(n)}var vot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).playingStates=[],r.on(n,"emptied",r.update),r.on(n,"seeking",r.update),r.On=new aot(r.el(),n),r}Rt(n,t);var i=n.prototype;return i.updateAriaAttributes=function(t){var n=gst(this.player()),i=this.ws;t.setAttribute("aria-valuenow",(100*this._r(n)).toFixed(2)),t.setAttribute("aria-valuetext",_st(n-mst(i),pst(i)))},i.getPercent=function(){return this._r(this.player().currentTime())},i.handleMouseMove=function(t){if(!(this.ws&&this.ws.ads&&this.ws.ads.playing)){var n=this.ws,i=wst(n)+this.calculateDistance(t)*pst(n);i>=n.duration&&(i=n.duration-.1),this.On.tr(i),this.player().currentTime(i)}},i.handleMouseDown=function(n){this.playingStates.push(!this.player().paused()),this.On.sr(),t.prototype.handleMouseDown.call(this,n)},i.handleMouseUp=function(n){this.videoWasPlaying=Boolean(this.playingStates.pop()),this.On.er(),t.prototype.handleMouseUp.call(this,n)},i._r=function(t){var n=this.ws;return hr((t-wst(n))/pst(n),0,1)},i.dispose=function(){this.On.Re(),Eo(this.playingStates)},n}(bst(vst.getComponent("SeekBar")));vst.registerComponent("SeekBar",vot),U(),St(),Ct();var lot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(r,"touchmove",r.handleMouseMove),r.on("touchstart",r.handleMouseDown),r.seekBar.off(["touchmove","touchstart"]),r}Rt(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(t){this.seekBar.handleMouseMove(t)},i.handleMouseDown=function(t){this.seekBar.handleMouseDown(t)},n}(vst.getComponent("ProgressControl"));qn.Ys.Qs&&vst.registerComponent("ProgressControl",lot),U(),St(),Ct();var dot=function(t){function n(n,i){return t.call(this,n,i)||this}Rt(n,t);var i=n.prototype;return i.updateDataAttr=function(){var t=gst(this.player()),n=this.En(t);this.el().setAttribute("data-current-time",n),this.tooltip.innerHTML=n},i.En=function(t){var n=this.ws;return _st(t-mst(n),pst(n))},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-tooltip-progress-bar vjs-slider-bar "+t.prototype.buildCSSClass.call(this)},n}(bst(vst.getComponent("TooltipProgressBar")));function got(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.enabled)return i}}function mot(t){if(t)return t.label&&""!==t.label?{name:t.label,hd:!1}:{name:wot(t),description:pot(t),hd:!!t.height&&t.height>=720}}function wot(t){return t.height?t.height+"p":t.bandwidth?pot(t):""}function pot(t){return t.bandwidth?t.bandwidth>1e7?(t.bandwidth/1e6).toFixed(0)+"Mbps":t.bandwidth>1e6?(t.bandwidth/1e6).toFixed(1)+"Mbps":(t.bandwidth/1e3).toFixed(0)+"kbps":""}vst.registerComponent("TooltipProgressBar",dot),U(),St(),Ct(),U(),St(),Dt(),Ct(),Wt(),U(),St(),U(),St(),U(),St(),Dt();var yot=function(){function t(t){this.Sr=[],this.Mr=t}var n=t.prototype;return n.Pr=function(t){var n=this.Ar;if(n)for(var i=0;i<n.length;i++){var r=n[i];if(r.Er===t)return r}},n.Nr=function(t){var n=this,i=this.Mr.addMenuItem();return i.Er=t,i.on("click",(function(){return n.Ir(i)})),i.el().setAttribute("role","menuitemradio"),i},n.Br=function(t){t.dispose()},n.Fr=function(t){return!0},n.Tr=function(t){if(this.Fr(t)){To(this.Sr,t)||this.Sr.push(t);var n=this.Pr(t)||this.Nr(t);return this.Dr(n),n}this.jr(t)},n.jr=function(t){var n=this.Pr(t);n&&(this.Mr.removeMenuItem(n),this.Br(n)),bo(this.Sr,t)},n.Re=function(){for(var t=[],n=0,i=this.Sr;n<i.length;n++){var r=i[n];t.push(r)}for(var e=0;e<t.length;e++){var u=t[e];this.jr(u)}Eo(t)},xt(t,[{key:"Cr",get:function(){return this.Sr},set:function(t){for(var n=this.Sr,i=n.length-1;i>=0;i--){var r=n[i];To(t,r)||this.jr(r)}for(var e=0;e<t.length;e++){var u=t[e];this.Tr(u)}this.Mr.re()}},{key:"Ar",get:function(){return this.Mr.menuItems}}]),t}(),_ot=function(t){function n(n,i,r){var e;return(e=t.call(this,n.subMenu)||this).Jr=void 0,e.Yr=void 0,e.Kr=function(){var t=got(e._s.videoTracks);if(t!==e.Jr){var n=[];if(e.Jr&&(e.Jr.removeEventListener("activequalitychanged",e.Zr),e.Jr.removeEventListener("targetqualitychanged",e.th),e.Jr.removeEventListener("update",e.ih)),e.Jr=t,t){t.addEventListener("activequalitychanged",e.Zr),t.addEventListener("targetqualitychanged",e.th),t.addEventListener("update",e.ih);var i=kot(Sot(t.qualities.filter((function(t){return t.available}))));n=i.length>1?[void 0].concat(Ut(i)):[void 0]}e.Cr=n,e.th(),e.Zr()}},e.ih=function(t){var n=t.track;if(n===e.Jr){var i,r=kot(Sot(n.qualities.filter((function(t){return t.available})))),u=n&&Iot(n.targetQuality);e.Yr=e.Qr(u,r),i=r.length>1?[void 0].concat(Ut(r)):[void 0],e.Cr=i,e.Xr()}},e.Zr=function(){e.Tr(void 0),e.Xr()},e.th=function(){var t=got(e._s.videoTracks),n=t&&Iot(t.targetQuality),i=e.Qr(n),r=e.Yr;i!==r&&(e.Yr=i,i&&r||e.Tr(void 0),r&&To(e.Cr,r)&&e.Tr(r),n&&e.Tr(i),e.Xr())},e.te=function(){CP(e.Mr.menuHeader.el(),e.Ur.localize("Quality")),CP(e.Rr,e.Ur.localize("Quality")),CP(e.Vr,e.Ur.localize("Automatic")),CP(e.Hr,e.Ur.localize("Automatic")),CP(e.zr,e.Ur.localize("HD")),e.Gr.el().setAttribute("aria-label",e.Ur.localize("Open the video quality settings menu"));for(var t=0,n=e.Ar;t<n.length;t++){var i=n[t];e.Dr(i)}e.Xr()},e.Gr=n,e._s=i,e.Ur=r,e.Rr=e.$r(),e.Vr=e.Or(),e.Hr=e.Lr(),e.zr=e.qr(),e.Wr(),CP(e.Mr.menuHeader.el(),e.Ur.localize("Quality")),e.Cr=[void 0],e._s.videoTracks.addEventListener(["addtrack","removetrack","change"],e.Kr),e.Ur.on("languagechange",e.te),e.Kr(),e}Rt(n,t);var i=n.prototype;return i.$r=function(){return this.Rr=v.createElement("span"),this.Rr.className="theo-settings-control-menu-item-title",CP(this.Rr,this.Ur.localize("Quality")),this.Rr},i.Or=function(){return this.Vr=v.createElement("span"),this.Vr.className="theo-settings-control-menu-quality-automatic",CP(this.Vr,this.Ur.localize("Automatic")),this.Vr},i.Lr=function(){return this.Hr=v.createElement("span"),CP(this.Hr,this.Ur.localize("Automatic")),this.Hr},i.qr=function(){return this.zr=v.createElement("span"),this.zr.className="theo-primary-color theo-settings-control-menu-item-hd-label",CP(this.zr,this.Ur.localize("HD")),this.zr},i.Wr=function(){var t=v.createElement("span");t.className="theo-primary-color theo-settings-control-menu-item-value",t.appendChild(this.Vr),t.appendChild(v.createTextNode(" ")),t.appendChild(this.Hr),t.appendChild(v.createTextNode(" ")),t.appendChild(this.zr),this.Gr.el().appendChild(this.Rr),this.Gr.el().appendChild(t),this.Gr.el().setAttribute("aria-label",this.Ur.localize("Open the video quality settings menu"))},i.Xr=function(){var t=this.Jr,n=t&&Iot(t.targetQuality),i=t&&t.activeQuality,r=mot(this.Qr(n||i))||{name:this.Ur.localize("Automatic")};CP(this.Hr,r.name),wi(this.Vr,"vjs-hidden",!!n),wi(this.zr,"vjs-hidden",!r.hd)},i.Dr=function(t){var n=mot(t.Er)||{name:this.Ur.localize("Automatic")},i=n.name;n.hd&&(i+='<span class="theo-primary-color theo-settings-control-menu-item-hd-label">'+this.Ur.localize("HD")+"</span>"),n.description&&(i+='<span class="theo-settings-control-submenu-item-alternate-value">'+n.description+"</span>"),t.el().innerHTML=i,t.el().setAttribute("aria-label",this.Ur.localize("Set video quality to ")+n.name),t.Er?t.selected(t.Er===this.Yr):t.selected(!this.Yr)},i.Ir=function(t){this.Jr&&(this.Jr.targetQuality=t.Er&&t.Er.videoQualities)},i.Qr=function(t,n){for(var i=n||this.Cr,r=0;r<i.length;r++){var e=i[r];if(t&&e&&-1!==e.videoQualities.indexOf(t))return e}},i.Re=function(){this._s.videoTracks.removeEventListener(["addtrack","removetrack","change"],this.Kr),this.Ur.off("languagechange",this.te),this.Jr&&(this.Jr.removeEventListener("activequalitychanged",this.Zr),this.Jr.removeEventListener("targetqualitychanged",this.th),this.Jr.removeEventListener("update",this.ih)),t.prototype.Re.call(this)},n}(yot),bot=function(){function t(t){this.sh=t}return t.prototype.add=function(t){this.sh.push(t)},xt(t,[{key:"height",get:function(){return this.sh[0].height}},{key:"bandwidth",get:function(){return this.sh[0].bandwidth}},{key:"videoQualities",get:function(){return this.sh}},{key:"label",get:function(){return this.sh[0].label}}]),t}();function kot(t){for(var n=[],i=0;i<t.length;i++){for(var r=t[i],e=!1,u=0;u<n.length;u++){var s=n[u];if(Eot(s,r)){s.add(r),e=!0;break}}e||n.push(new bot([r]))}return n}function Aot(t,n){return t&&n?fo(t,n):co.eh}function Tot(t,n){return t===n?co.eh:Aot(t.height,n.height)||Aot(t.width,n.width)||Aot(t.bandwidth,n.bandwidth)}function Sot(t){return uo(t,Tot).reverse()}function Eot(t,n){return t.label&&n.label&&t.label===n.label||Og(mot(t),mot(n))}function Iot(t){return Jn(t)?1===t.length?t[0]:void 0:t}function Rot(t){return 1===t?"Normal":""+A.round(100*t)/100}U(),St(),Ct();var Cot=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n.subMenu)||this).rh=void 0,u.nh=function(){u.rh&&u.Tr(u.rh);var t=u._s.playbackRate;u.rh=t,CP(u.hh,u.Ur.localize(Rot(t))),t&&u.Tr(t)},u.te=function(){CP(u.Mr.menuHeader.el(),u.Ur.localize("Speed")),CP(u.Rr,u.Ur.localize("Speed")),u.Gr.el().setAttribute("aria-label",u.Ur.localize("Open the video speed settings menu"));for(var t=0,n=u.Ar;t<n.length;t++){var i=n[t];u.Dr(i)}u.nh()},u.Gr=n,u._s=i,u.Ur=r,u.Rr=u.$r(),u.hh=u.Wr(),CP(u.Mr.menuHeader.el(),u.Ur.localize("Speed")),u.Cr=e,u._s.addEventListener("ratechange",u.nh),u.Ur.on("languagechange",u.te),u.nh(),u}Rt(n,t);var i=n.prototype;return i.$r=function(){return this.Rr=v.createElement("span"),this.Rr.className="theo-settings-control-menu-item-title",CP(this.Rr,this.Ur.localize("Speed")),this.Rr},i.Wr=function(){var t=v.createElement("span");return t.className="theo-primary-color theo-settings-control-menu-item-value",this.Gr.el().appendChild(this.Rr),this.Gr.el().appendChild(t),this.Gr.el().setAttribute("aria-label",this.Ur.localize("Open the video speed settings menu")),t},i.Nr=function(n){var i=t.prototype.Nr.call(this,n);return this.Dr(i),i},i.Dr=function(t){var n=t.Er,i=this.Ur.localize(Rot(n));CP(t.el(),i),t.el().setAttribute("aria-label",this.Ur.localize("Set video speed to ")+i),t.selected(t.Er===this._s.playbackRate)},i.Ir=function(t){this._s.playbackRate=t.Er},i.Re=function(){this._s.removeEventListener("ratechange",this.nh),this.Ur.off("languagechange",this.te),t.prototype.Re.call(this)},n}(yot),Not=function(t){function n(n,i){var r,e,u;(r=t.call(this,n,i)||this).Jr=void 0,r.ah=function(){var t=got(r.ws.videoTracks);t!==r.Jr&&(r.Jr&&r.Jr.removeEventListener("activequalitychanged",r.Zr),r.Jr=t,t&&t.addEventListener("activequalitychanged",r.Zr),r.Zr())},r.Zr=function(){var t,n=null==(t=r.Jr)?void 0:t.activeQuality,i=!!(n&&n.height>=720);r.player().toggleClass("theo-hd",i)},gi(r.menu.el(),"theo-settings-control-menu"),CP(r.menu.menuHeader.el(),n.localize("Settings")),r.controlText("Settings"),r.Be.Ie=r.controlText(),r.dh=r.menu.addSubMenuItem({name:"QualityMenuItem"}),r.uh=new _ot(r.dh,r.ws,n);var s=null!=(u=null==i||null==(e=i.playerOptions)?void 0:e.playbackRates)?u:[];return r.fh=r.menu.addSubMenuItem({name:"PlaybackRateMenuItem"}),r.lh=new Cot(r.fh,r.ws,n,s),r.ws.videoTracks.addEventListener(["addtrack","removetrack","change"],r.ah),r.ah(),r}Rt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return this.oh=vst.createEl("span",{className:"theo-settings-control-label-hd theo-primary-background"}),CP(this.oh,this.localize("HD")),n.appendChild(this.oh),n},i.buildCSSClass=function(){return"vjs-icon-cog theo-settings-control-button "+t.prototype.buildCSSClass.call(this)},i.te=function(){t.prototype.te.call(this),CP(this.oh,this.localize("HD")),CP(this.menu.menuHeader.el(),this.localize("Settings"))},i.dispose=function(){this.Jr&&(this.Jr.removeEventListener("activequalitychanged",this.Zr),this.Jr=void 0),this.ws.videoTracks.removeEventListener(["addtrack","removetrack","change"],this.ah),this.uh.Re(),this.lh.Re(),t.prototype.dispose.call(this)},n}(Xst);vst.registerComponent("SettingsButton",Not),U(),St(),Ct(),U(),St(),Ct(),U(),St(),Ct();var xot=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).bh=function(t){var n=t.track;r.Tr(n),n.addEventListener("update",r._h)},r.kh=function(t){var n=t.track;r.jr(n),n.removeEventListener("update",r._h)},r.wh=function(t){return r.gh()},r._h=function(){for(var t=0,n=r.Cr;t<n.length;t++){var i=n[t];r.Tr(i)}},r.yh=i,r.yh.addEventListener("addtrack",r.bh),r.yh.addEventListener("removetrack",r.kh),r.yh.addEventListener("change",r.wh),r.gh(),r}Rt(n,t);var i=n.prototype;return i.ph=function(t){var n=t.label;if(n)return n;var i=t.language;if(i){var r=mF(i);if(r)return r.mh}return i||""},i.gh=function(){this.Cr=this.yh},i.Re=function(){this.yh.removeEventListener("addtrack",this.bh),this.yh.removeEventListener("removetrack",this.kh),this.yh.removeEventListener("change",this.wh),t.prototype.Re.call(this)},n}(yot),Dot=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i.audioTracks)||this).te=function(){CP(e.Mr.menuHeader.el(),e.Ur.localize("Language"));for(var t=0,n=e.Ar;t<n.length;t++){var i=n[t];e.Dr(i)}},e.ws=i,e.Ur=r,CP(e.Mr.menuHeader.el(),e.Ur.localize("Language")),e.Ur.on("languagechange",e.te),e}Rt(n,t);var i=n.prototype;return i.Dr=function(t){var n=t.Er,i=this.Ur.localize(this.ph(n));CP(t.el(),i),t.el().setAttribute("aria-label",this.Ur.localize("Set the audio language to")+" "+i),t.selected(n.enabled)},i.Ir=function(t){for(var n=t.Er,i=0,r=this.ws.audioTracks;i<r.length;i++){var e=r[i];e!==n&&(e.enabled=!1)}n.enabled=!0},i.Re=function(){this.Ur.off("languagechange",this.te),t.prototype.Re.call(this)},n}(xot),Pot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).minimumMenuItems=2,r.xh=new Dot(r.menu,r.ws,n),r.controlText("Language"),r.Be.Ie=r.controlText(),r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-audio theo-audio-track-control-button "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.xh.Re(),t.prototype.dispose.call(this)},n}(Xst);vst.registerComponent("audioTrackButton",Pot),U(),St(),Ct(),U(),St(),Ct();var Mot=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i.textTracks)||this).te=function(){CP(e.Mr.menuHeader.el(),e.Ur.localize("Subtitles"));for(var t=0,n=e.Ar;t<n.length;t++){var i=n[t];e.Dr(i)}},e.ws=i,e.Ur=r,CP(e.Mr.menuHeader.el(),r.localize("Subtitles")),e.Ur.on("languagechange",e.te),e}Rt(n,t);var i=n.prototype;return i.Fr=function(n){return!!t.prototype.Fr.call(this,n)&&(!n.forced&&uy(n.kind))},i.Nr=function(n){var i=this,r=t.prototype.Nr.call(this,n);gi(r.el(),"theo-text-track-menu-item");var e=v.createElement("span");r.Ch=e;var u=v.createElement("div");u.className="theo-text-track-menu-item-toggle",r.Sh=u;var s=function(t){return i.jh(t,r)};r.Th=s,u.addEventListener("click",s);var o=v.createElement("div");return o.className="theo-text-track-menu-item-toggle-slider",u.appendChild(o),r.el().appendChild(e),r.el().appendChild(u),r},i.Dr=function(t){var n=t,i=n.Er,r=this.Ur.localize(this.ph(i));CP(n.Ch,r),n.el().setAttribute("aria-label",this.Ur.localize("Set the subtitle language to")+" "+r),n.el().setAttribute("role","menuitemcheckbox"),n.selected(i.mode===Hp.Qn)},i.Br=function(n){var i=n;i.Sh.removeEventListener("click",i.Th),t.prototype.Br.call(this,n)},i.Ir=function(t){for(var n=t.Er,i=0,r=this.ws.textTracks;i<r.length;i++){var e=r[i];e!==n&&ry(e.kind,n.kind)&&(e.mode=Hp.Mh)}n.mode!==Hp.Qn?n.mode=Hp.Qn:n.mode=Hp.Mh},i.jh=function(t,n){t.stopImmediatePropagation(),this.Ir(n)},i.Re=function(){this.Ur.off("languagechange",this.te),t.prototype.Re.call(this)},n}(xot),Bot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).xh=new Mot(r.menu,r.ws,n),r.controlText("Subtitles"),r.Be.Ie=r.controlText(),r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-subtitles theo-text-track-control-button "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.xh.Re(),t.prototype.dispose.call(this)},n}(Xst);vst.registerComponent("subtitlesButton",Bot),U(),St(),Ct();var Oot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Ah=function(){r.controlText("Replay"),r.Be.Ie=r.controlText()},r.controlText("Play"),r.Be=new Zst(r,r.controlText()),r.ws.addEventListener("ended",r.Ah),r.on(n,"languagechange",r.te),qn.Ys.Qe&&new Pst(r.el()),r}Rt(n,t);var i=n.prototype;return i.handleClick=function(n){this.ws.muted||this.ws.prepareWithUserAction(),t.prototype.handleClick.call(this,n)},i.handlePlay=function(n){t.prototype.handlePlay.call(this,n),this.controlText("Pause"),this.Be.Ie=this.controlText()},i.handlePause=function(n){this.ws.ended||(t.prototype.handlePause.call(this,n),this.controlText("Play"),this.Be.Ie=this.controlText())},i.te=function(){this.Be.Ie=this.controlText()},i.dispose=function(){this.Be.Re(),this.ws.removeEventListener("ended",this.Ah),t.prototype.dispose.call(this)},n}(bst(vst.getComponent("playToggle")));vst.registerComponent("playToggle",Oot),U(),St(),Ct();var Lot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).controlText("Fullscreen"),r.Be=new Zst(r,r.controlText()),qn.Ys.Qe&&new Pst(r.el()),r.on(n,"languagechange",r.updateContent),r}Rt(n,t);var i=n.prototype;return i.handleClick=function(n){this.ws.prepareWithUserAction(),t.prototype.handleClick.call(this,n)},i.handleFullscreenChange=function(n){t.prototype.handleFullscreenChange.call(this,n),this.updateContent()},i.updateContent=function(){var t=this.player().isFullscreen()?"Exit fullscreen":"Fullscreen";this.controlText(t),this.Be.Ie=this.controlText()},i.dispose=function(){this.Be.Re(),t.prototype.dispose.call(this)},n}(bst(vst.getComponent("fullscreenToggle")));vst.registerComponent("fullscreenToggle",Lot),U(),St(),Ct();var Fot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).controlText("Mute"),r.Be=new Zst(r,r.controlText()),qn.Ys.Qe&&new Pst(r.el()),r.on(n,"languagechange",r.te),Or&&(r.removeClass("vjs-hidden"),r.on(n,"loadstart",(function(){r.removeClass("vjs-hidden")}))),r}Rt(n,t);var i=n.prototype;return i.handleClick=function(n){this.ws.muted&&!this.ws.paused&&this.ws.prepareWithUserAction(),t.prototype.handleClick.call(this,n)},i.update=function(n){t.prototype.update.call(this,n),this.te()},i.te=function(){var t=this.player().muted()?"Unmute":"Mute";this.controlText(t),this.Be.Ie=this.controlText()},i.dispose=function(){this.Be.Re(),t.prototype.dispose.call(this)},n}(bst(vst.getComponent("muteToggle")));vst.registerComponent("muteToggle",Fot),U(),St(),Ct();var Vot=vst.getComponent("BigPlayButton"),Uot="theo-play-svg-circle",Wot='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150" fill="currentColor">\n  <circle cx="75" cy="75" r="73" fill="#000" fill-opacity="0.2"></circle>\n  <circle cx="75" cy="75" r="73" class="'+Uot+'" stroke-width="4" stroke="currentColor" fill="none" transform="rotate(-90,75,75)"></circle>\n  <g transform="translate(85,75) scale(0.5625) translate(-75,-75)">\n    <path d="m 123.89639,85.432 c -12.865,9.167 -29.482997,19.402 -49.848997,30.7 -19.634,11.035 -36.851,19.7 -51.65,26 l -16.3990002,6.099 c -1.033,-4.433 -2,-11.002 -2.9,-19.7 -2.033,-17.333 -3.04999998,-36.466 -3.04999998,-57.399 0,-19.167 1.38199998,-37.081 4.14799998,-53.75 l 4.0019995,-19.1499994 17.3990007,5.849 c 15.068,5.9999994 31.401,14.5169994 49,25.5509994 18.631,11.666 34.616997,22.766 47.948997,33.3 6.663,5.3 11.463,9.383 14.396,12.25 l -13.046,10.25"></path>\n  </g>\n</svg>',jot=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this),i=vst.createEl("div",{className:"theo-big-play-button-svg-container"});return i.innerHTML=Wot,n.appendChild(i),n},i.buildCSSClass=function(){return"theo-primary-color "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(n){this.ws.muted||this.ws.prepareWithUserAction(),t.prototype.handleClick.call(this,n),void 0!==this.ws.vr&&"unavailable"!==this.ws.vr.state&&(this.ws.vr.useDeviceMotionControls=!0)},n}(bst(Vot));vst.registerComponent("BigPlayButton",jot),U(),St(),Ct(),rn();var Zot=/^([^#]*)#xywh=(\d+),(\d+),(\d+),(\d+)\s*$/;var Xot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Jh=void 0,r.Eh=void 0,r.Nh=void 0,r.Qh=function(t){return r.Ph(t)},r.Yh=function(t){return r.Dh(t)},r.Bh=function(t){return r.Fh()},r.showThumbnails=function(){r.Jh&&r.Jh.hidden&&(r.Jh.hidden=!1,r.Nn())},r.hideThumbnails=function(){!r.Jh||r.Jh.hidden||r.player().scrubbing()||(r.Jh.hidden=!0,r.Nn())},r.on(r.player().textTracks(),"addtrack",r.Qh),r.on(r.player().textTracks(),"removetrack",r.Yh),Gn.Qs&&(r.on(n,"seeking",r.showThumbnails),r.on(n,"seeked",r.hideThumbnails)),r}Rt(n,t);var i=n.prototype;return i.Ph=function(t){var n=t.track;"metadata"===n.kind&&"thumbnails"===n.label&&void 0===this.Eh&&(this.Eh=n,this.Nh=n.src?qn.Ih(n.src).href:void 0,this.Eh.addEventListener(["addcue","removecue"],this.Bh),this.Fh())},i.Dh=function(t){t.track===this.Eh&&this.$h()},i.createEl=function(){var n=t.prototype.createEl.call(this);return this.Rh=vst.createEl("img",{className:"theo-time-tooltip-thumbnail"}),this.Uh=vst.createEl("canvas",{className:"theo-time-tooltip-thumbnail"}),n},i.update=function(n,i){t.prototype.update.call(this,n,i),this.keepTooltipsInside&&this.Oh(n)},i.Oh=function(t){var n;if(this.Eh&&this.Eh.cues){var i=function(t,n){for(var i=t[0],r=0;r<t.length;r++){var e=t[r];if(e.startTime<=n)i=e;else if(n>=e.endTime)return i}return i}(this.Eh.cues,t);n=i&&i.content}if(n!==this.Vh)if(this.Vh=n,vst.toggleClass(this.el(),"theo-time-tooltip-has-thumbnail",!!n),n){var r=n.match(Zot);if(r){var e=nn(r,6),u=e[1],s=e[2],o=e[3],a=e[4],c=e[5];u=this.Hh(u);var h={qh:+s,zh:+o,ji:+a,Ti:+c};this.Wh(u,h)}else{var f=this.Hh(n);this.Wh(f)}}else this.Lh()},i.Fh=function(){E(this.Pn)||this.Oh(this.Pn)},i.Hh=function(t){return this.Eh&&this.Nh?qn.Ih(t,this.Nh).href:t},i.Wh=function(t,n){var i=this;this.Rh&&(this.Rh.src!==t?(this.Rh.onload=function(){i.Gh(n)},this.Rh.src="",this.Rh.src=t):this.Gh(n))},i.Gh=function(t){if(this.Uh&&this.Rh){var n=this.Uh.getContext("2d");n&&(null!=t||(t={qh:0,zh:0,ji:this.Rh.naturalWidth,Ti:this.Rh.naturalHeight}),this.Uh.width=t.ji,this.Uh.height=t.Ti,n.drawImage(this.Rh,t.qh,t.zh,t.ji,t.Ti,0,0,t.ji,t.Ti),this.Xh(this.Uh))}},i.Xh=function(t){this.Jh||(fi(this.tooltip,t),this.Jh=t),this.Nn()},i.Lh=function(){this.Jh&&(this.tooltip.removeChild(this.Jh),this.Jh=void 0,this.Nn())},i.$h=function(){void 0!==this.Eh&&(this.Eh.removeEventListener(["addcue","removecue"],this.Bh),this.Eh=void 0),this.Nh=void 0,this.Lh(),this.Vh=void 0},i.dispose=function(){this.$h(),t.prototype.dispose.call(this)},n}(uot);vst.registerComponent("MouseTimeDisplay",Xot),U(),St(),Ct();var Got=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-volume-level "+t.prototype.buildCSSClass.call(this)},n}(vst.getComponent("VolumeLevel"));vst.registerComponent("VolumeLevel",Got),U(),St(),Ct(),U(),St(),Ct();var Hot=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-menu-container "+t.prototype.buildCSSClass.call(this)},n}(vst.getComponent("Component"));Hot.prototype.h=ss({},Hot.prototype.h,{children:[]}),vst.registerComponent("controlBarMenuContainer",Hot);var zot=vst.getComponent("Player"),Yot=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).handleKeyPress=function(t){9===t.which&&e.addClass("theo-probably-keyboard-focus")},e.handleClick=function(t){0===t.x&&0===t.y||e.removeClass("theo-probably-keyboard-focus")},v.body.addEventListener("keydown",e.handleKeyPress),v.body.addEventListener("click",e.handleClick),e}return Rt(n,t),n.prototype.dispose=function(){var n=this.el(),i=this.contentEl(),r=n.parentNode,e=n.nextSibling;t.prototype.dispose.call(this),ai(i),this.Ci&&r&&(e?r.insertBefore(n,e):r.appendChild(n)),v.body.removeEventListener("keydown",this.handleKeyPress),v.body.removeEventListener("click",this.handleClick)},n}(zot);Yot.prototype.h=ss({},zot.prototype.h,{children:["bigPlayButton","AdControlPanel","TopControlBar","mediaLoader","upNextContainer","posterImage","chromecastOverlay","upcomingAdNotificationText","controlBarMenuContainer","controlBar","textTrackDisplay","loadingSpinner","errorDisplay","textTrackSettings","xrCompass"]}),vst.registerComponent("Player",Yot),U(),St(),U(),St();var Kot=vst.getComponent("Player"),qot=Kot.prototype.es;Kot.prototype.es=function(t){if(!(this.H&&this.H.$s&&this.H.$s()))return qot.call(this,t)};var Jot=Kot.prototype.createEl;function Qot(t,n,i,r){var e=ss({controls:!0,playbackRates:[.25,.5,1,1.25,1.5,2]},i);e.controlBar=ss({progressControl:{keepTooltipsInside:!0}},e.controlBar);var u=e.techOrder||(e.techOrder=[]);-1===u.indexOf("THEOplayer")&&u.unshift("THEOplayer"),(e.theoplayer||(e.theoplayer={})).player=t,i&&$n(i.language)&&(e.languages=ss({},e.languages,sn({},gF,i.language)),e.language=gF),n.setAttribute("data-vjs-player","");var s=n.getAttribute("style"),o=vst(t.element,e,r);return o.ready((function(){Ast(o),function(t,n){if(n){if(n.ads){var i=function(n){var i="adbreakbegin"===n.type,r=n.adBreak.integration===l$.Kh;Est(t,i,r)};n.ads.addEventListener("adbreakbegin",i),n.ads.addEventListener("adbreakend",i)}if(n.uplynk){var r,e=function(n){var i="adbreakbegin"===n.type;Est(t,i,!1)};null==(r=n.uplynk)||r.ads.adBreaks.addEventListener("addadbreak",(function(t){t.adBreak.addEventListener("adbreakbegin",e),t.adBreak.addEventListener("adbreakend",e)}))}n.addEventListener("sourcechange",(function(){Est(t,!1,!1)}))}}(o,t),function(t){t.on("mouseleave",Ist)}(o)})),n.removeAttribute("data-vjs-player"),s?n.setAttribute("style",s):n.removeAttribute("style"),qn.Ys.Qs&&(gi(n,"theo-mobile"),function(t){var n=f.outerHeight,i=f.outerWidth,r=n>i;r?(mi(t,"theo-mobile-landscape"),gi(t,"theo-mobile-portrait")):(mi(t,"theo-mobile-portrait"),gi(t,"theo-mobile-landscape"))}(n)),function(t){t.on("seeking",(function(){di(t.el(),"vjs-ended")&&t.currentTime()!==t.duration()&&t.play()}))}(o),o}Kot.prototype.createEl=function(){var t=Jot.call(this),n=vst.createEl("div");for(n.className="theo-player-wrapper";t.firstChild;)n.appendChild(t.firstChild);return t.appendChild(n),this.S=n,t},U(),St(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Ct();var $ot=vst.getComponent("Button");var tat="THEOPiPCloseButton",nat=function(t){function n(n,i){var r;if((r=t.call(this,n,i)||this).controlText("Close Picture-in-Picture"),!function(t){return!!t&&Boolean(t.io)}(i))throw new y("Invalid Picture-in-picture options.");return r.io=i.io,r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-close-button theo-pip-close"},i.handleClick=function(){this.io.Zh()},n}($ot);vst.registerComponent(tat,nat);var iat=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Uo=!1,e.eo=!1,e.wo=!1,e.ko=!1,e.mo=!1,e.Po=!1,e.So=!1,e.oo=function(){e.Uo=!0,e.Ao&&!e.so&&e.No&&e.Oo&&e.No.Vo<=e.Oo&&e.vo(!1)},e.co=function(){e.ao||(e.Uo=!1,e.Zh(),e.xo(!1))},e.te=function(){if(e.jo){var t=e.t.lo;CP(e.jo,t.localize("Video playing in Picture-in-Picture mode"))}},e.Bo=function(t){!e.ko&&e.Ao&&(E(t)||(e.Oo&&t<=e.Oo||e.So?e.eo||e.wo||e.vo(!1):e.eo?e.xo(!1):e.wo=!1))},e.Oo=i.visibility,e.fo=i.position,e.ao=i.retainPresentationModeOnSourceChange,e.Ao=void 0!==e.Oo,e.t=n,e.po=n.Lo,e.Zh=r,e.ro(),e}Rt(n,t);var i=n.prototype;return i.ro=function(){this.t.bn(va.ho,this.oo),this.ao||this.t.bn(va.uo,this.co),this.t.lo.on("languagechange",this.te)},i.do=function(){var t;return"theo-pip-"+(null!=(t=this.fo)?t:"bottom-right")},i.vo=function(t){var n=this.po;n&&!this.no&&(this.mo||this.yo(),this.bo(),gi(n,"theo-pip"),gi(n,this.do()),this.eo=!0,this.ko=t,this.wo=!1,this._o(new FI(NT.PICTURE_IN_PICTURE)))},i.xo=function(t){var n=this.po;n&&(this.Co(),mi(n,"theo-pip"),mi(n,this.do()),this.eo=!1,this.wo=t,this.So=this.ko,this.ko=!1,this._o(new FI(NT.INLINE)))},i.yo=function(){if(!this.mo){var t=this.t.lo;t.addChild(tat,{io:this});var n=v.createElement("div");n.className="theo-pip-overlay",this.jo=v.createElement("div"),this.jo.className="theo-pip-overlay-text",CP(this.jo,t.localize("Video playing in Picture-in-Picture mode")),n.appendChild(this.jo),fi(t.el(),n),this.To=n,this.mo=!0}},i.Mo=function(){this.Ao&&!this.Po&&this.t.Eo&&(this.No=this.t.Eo.Io(.1,this.Bo),this.Po=!0)},i.Fo=function(){this.No&&this.t.Eo&&(this.t.Eo.Do(this.No),this.Po=!1)},i.bo=function(){var t=this.t.lo.contentEl(),n=t.getBoundingClientRect(),i=v.documentElement.clientWidth,r=v.documentElement.clientHeight;t.style.top=n.top+"px",t.style.bottom=r-n.bottom+"px",t.style.right=i-n.right+"px",t.style.left=n.left+"px",t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.position="fixed"},i.Co=function(){var t=this.t.lo.contentEl();t.style.top="",t.style.bottom="",t.style.right="",t.style.left="",t.style.width="",t.style.height="",t.style.position=""},i.$o=function(){mi(this.po,"theo-pip"),this.so&&this.fo&&mi(this.po,"theo-pip-"+this.fo),this.To&&(ai(this.To),this.To=void 0)},i.yn=function(){this.$o(),this.Fo(),this.Ro(),this.t.vn(va.ho,this.oo),this.t.vn(va.uo,this.co),this.t.lo.off("languagechange",this.te),this.t=void 0},xt(n,[{key:"so",get:function(){return this.eo}},{key:"no",get:function(){return this.t.cs()}}]),n}(aa),rat=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,r)||this).Go=NT.INLINE,u.ia=!1,u.Zh=function(){u.Xo===NT.PICTURE_IN_PICTURE&&u.Wo(NT.INLINE)},u.ha=function(t){u.sa||(u.Xo!==NT.PICTURE_IN_PICTURE||u.qo.so?u.Xo!==NT.PICTURE_IN_PICTURE&&u.qo.so&&(u.ia=!0,u.Wo(NT.PICTURE_IN_PICTURE)):u.Wo(NT.INLINE))},u.ra=function(){u.Ho()!==NT.PICTURE_IN_PICTURE&&u.Ho()!==NT.INLINE||u.qo.Mo(),u.na.vn(va.ho,u.ra)},u.na=n,u.qo=new iat(n,e.pip,u.Zh),u.qo.bn(LI.MODE_CHANGE,u.ha),u.na.bn(va.ho,u.ra),u}Rt(n,t);var i=n.prototype;return i.Ho=function(){var n=t.prototype.Ho.call(this);return n===NT.INLINE&&this.qo.so?NT.PICTURE_IN_PICTURE:n},i.zo=function(n){return n===NT.PICTURE_IN_PICTURE||t.prototype.zo.call(this,n)},i.Wo=function(n){this.Go=this.Xo,n===NT.FULLSCREEN||n===NT.NATIVE_PICTURE_IN_PICTURE?this.qo.Fo():this.qo.Mo(),t.prototype.Wo.call(this,n)},i.Jo=function(n){var i=this;t.prototype.Jo.call(this,n),n===NT.PICTURE_IN_PICTURE?na(this.Yo.Qo((function(t){return i.Ko(t)}))):n===NT.FULLSCREEN?this.qo.xo(!1):this.qo.xo(!0)},i.Ko=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return Zo(t),[4,ut.all([n.Zo(),n.ta.xo()]).catch(Si)];case 1:return i.sent(),Zo(t),n.qo.vo(!n.ia),n._o(new FI(n.Xo)),n.ia=!1,n.sa=!1,[2]}}))}))()},i.wi=function(){this.sa||(this.qo.so&&this.ea.cs?this.Wo(NT.FULLSCREEN):this.Go!==NT.PICTURE_IN_PICTURE||this.ea.cs?t.prototype.wi.call(this):(this.ia=!0,this.Wo(NT.PICTURE_IN_PICTURE)))},i.yn=function(){t.prototype.yn.call(this),this.qo.yn(),this.na.vn(va.ho,this.ra),this.na=void 0},n}(ZI);U(),St(),Dt(),Ct();var eat,uat=function(t){function n(n,i){var r;return(r=t.call(this)||this).Us=!1,r.ua=!1,r.va=!1,r.la=function(){if(!r.va){var t=r.Us,n=r.cs;t!==n&&(r.Us=n,r._o(new NI))}},r.pa=function(){r.ua=r.ca.cs,r.la()},r.ma=function(){r.va||(r.lo.isFullWindow&&r.lo.supportsFullScreen()||r.ua&&!r.lo.supportsFullScreen())&&(r.va=!0,r.lo.exitFullscreen(),r.lo.requestFullscreen(),r.va=!1,r.la())},r.lo=n,r.ca=i,r.lo.on("fullscreenchange",r.la),r.ca.bn(uS.da,r.pa),r.ca.bn(uS.ga,r.ma),r.ca.bn(uS.fa,r.Ds),r.la(),r}Rt(n,t);var i=n.prototype;return i.vo=function(){this.lo.requestFullscreen()},i.xo=function(){this.lo.exitFullscreen(),this.ca.xo()},i.yn=function(){this.Ro(),this.lo.off("fullscreenchange",this.la),this.ca.vn(uS.da,this.la),this.ca.vn(uS.fa,this.Ds),this.lo.isFullWindow&&this.lo.exitFullscreen()},xt(n,[{key:"oa",get:function(){return PI.aa(this.lo.el())||this.lo.supportsFullScreen()}},{key:"cs",get:function(){return this.lo.isFullscreen()||this.ua}}]),n}(aa);function sat(t){return function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Lo=n,e.ya=new PM(n),e._a=t.prototype.ka.call($j(e)),k.defineProperty(e._a,"constructor",{value:kB}),e.lo=Qot(e._a,e.Lo,r.ui),e.xa=new uat(e.lo,e.Sa),e.ba=new rat(e,e.xa,e.Ta.ja(),r),e.ba.bn(LI.MODE_CHANGE,e.Ds),e}Rt(n,t);var i=n.prototype;return i.cs=function(){return this.ba.Ho()===NT.FULLSCREEN},i.ka=function(){return function(t,n){var i=k.create(t),r=n.lo;return Mg(i,{get controls(){return r.controls()},set controls(t){r.controls(Wg(t))},get presentation(){return n.ba.wa},get presentationMode(){return n.ba.Ho()},set presentationMode(t){var i=LT(t);i&&n.ba.Wo(i)},get ui(){return r},get visibility(){return n.Eo.wa}})}(this._a,this)},i.yn=function(){t.prototype.yn.call(this),this.ba.yn(),this.xa.yn(),this.lo.dispose(),this.ya.yn()},i.Ca=function(n){this.lo.src(""),t.prototype.Ca.call(this,n)},xt(n,[{key:"Eo",get:function(){return this.ya}}]),n}(t)}function oat(t){return(t=t||{}).position=function(t){switch(t){case"top-left":case"top-right":case"bottom-left":case"bottom-right":return t;default:return}}(t.position),t.visibility=function(t){if(Yn(t)&&!E(t))return hr(t,0,1)}(t.visibility),t.retainPresentationModeOnSourceChange=Wg(t.retainPresentationModeOnSourceChange),t}function aat(){return eat||(eat=function(t){for(var n=t,i=0;i<htt.length;i++)n=(0,htt[i])(n);return n}(eat=sat(bB()))),eat}function cat(t,n){var i=function(t){var n=PT(t);return n.ui=n.ui||{},void 0!==(null==t?void 0:t.width)&&void 0===n.ui.width&&(n.ui.width=t.width),void 0!==(null==t?void 0:t.height)&&void 0===n.ui.height&&(n.ui.height=t.height),void 0!==(null==t?void 0:t.fluid)&&void 0===n.ui.fluid&&(n.ui.fluid=t.fluid),n.pip=oat(n.pip),n}(n),r=v.createElement("div");bi(r),t.appendChild(r);var e=new(aat())(t,r,i);e.Ma=e;var u=e.wa;return e.Aa(),e.Pa(VM),k.defineProperty(u,"constructor",{value:cat}),u=Pg(u),nA(e),function(t){for(var n=0;n<vtt.length;n++)(0,vtt[n])(t)}(e),u}U(),St(),U(),St(),U(),St(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var hat="theo-cast-",fat=function(t){function n(n,i){var r,e;return(r=t.call(this,n,i)||this).po=n.el(),r.Fa=zS.UNAVAILABLE,r.controlText("Unavailable"),r.Be=new Zst(r,r.controlText()),null==(e=r.Ea)||e.addEventListener("statechange",(function(t){var n=t;r.Da(n.state)})),qn.Ys.Qe&&(r.Ra=new Pst(r.el())),r.Da(r.Ea?r.Ea.state:zS.UNAVAILABLE),r.on(n,"languagechange",r.te),r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return hat+"button theo-"+this.Ba+"-button theo-controlbar-button "+t.prototype.buildCSSClass.call(this)},i.createEl=function(n,i,r){var e=t.prototype.createEl.call(this),u=v.createElement("div");u.className="theo-button-icon-blur";var s=v.createElement("div");return s.className=hat+"svg-container",s.innerHTML=this.Ia,e.appendChild(u),e.appendChild(s),e},i.handleClick=function(n){var i;if(t.prototype.handleClick.call(this,n),this.Fa===zS.AVAILABLE)null==(i=this.Ea)||i.start();else if(this.Fa===zS.CONNECTED||this.Fa===zS.CONNECTING){var r;null==(r=this.Ea)||r.stop()}},i.Da=function(t){mi(this.po,"theo-"+this.Ba+"-"+this.Fa),this.Fa=t,gi(this.po,"theo-"+this.Ba+"-"+this.Fa),this.te()},i.te=function(){this.$a(this.Fa),this.Be.Ie=this.controlText()},i.$a=function(t){t===zS.CONNECTED?this.controlText("Stop Casting"):t===zS.AVAILABLE?this.controlText("Start Casting"):t===zS.CONNECTING?this.controlText("Connecting"):this.controlText("Unavailable")},xt(n,[{key:"Ea",get:function(){throw new y("Na")}},{key:"Ia",get:function(){return this.h.Ia}},{key:"Ba",get:function(){return this.h.Ba}}]),n}(bst(vst.getComponent("Button"))),vat=0;function lat(){var t='\n    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="currentColor">\n        <defs>\n            <clipPath id="theo-chromecast-rings-mask-'+vat+'">\n                <path d="M0-36h44V0H0z"/>\n            </clipPath>\n        </defs>\n        <path class="theo-chromecast-outer" d="M2 10a4 4 0 0 1 4-4h36a4 4 0 0 1 4 4v28a4 4 0 0 1-4 4H28v-4h14V10H6v6H2z"/>\n        <path class="theo-chromecast-inner" d="M10 14h28v20H26.74A26 26 0 0 0 10 17.26z"/>\n        <g class="theo-chromecast-rings" fill="none" stroke="currentColor" stroke-width="4" transform="translate(2 42)" clip-path="url(#theo-chromecast-rings-mask-'+vat+')">\n            <circle stroke="none" cx="0" cy="0" r="30" />\n            <circle class="theo-chromecast-ring theo-chromecast-ring1" stroke-width="6" cx="0" cy="0" r="3" />\n            <circle class="theo-chromecast-ring theo-chromecast-ring2" cx="0" cy="0" r="12" />\n            <circle class="theo-chromecast-ring theo-chromecast-ring3" cx="0" cy="0" r="20"/>\n            <path class="theo-chromecast-ring theo-chromecast-ring4" stroke-linecap="round" d="M0-20A20 20 0 0 1 20 0" />\n        </g>\n    </svg>';return vat++,t}var dat=function(t){function n(n,i){return t.call(this,n,ss({},i,{Ba:"chromecast",Ia:lat()}))||this}return Rt(n,t),xt(n,[{key:"Ea",get:function(){var t;return null==(t=this.ws.cast)?void 0:t.chromecast}}]),n}(fat);vst.registerComponent("chromecastButton",dat),U(),St(),Ct();var gat="theo-chromecast-",mat=function(t){function n(n,i){var r,e,u;return(r=t.call(this,n,i)||this).update=function(){r.Ua?(r.kr&&CP(r.kr,r.Ua.receiverName||""),r.Ua.state===zS.CONNECTED?r.show():r.hide()):r.hide()},r.Ua=null==(e=r.ws.cast)?void 0:e.chromecast,null==(u=r.Ua)||u.addEventListener("statechange",r.update),r.ws.addEventListener("play",r.update),r.update(),r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return gat+"overlay "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var i=t.prototype.createEl.call(this);gi(i,gat+"overlay");var r=vst.createEl("div",{className:gat+"status-icon",innerHTML:n.ICON_SVG}),e=vst.createEl("div",{className:gat+"status-info"});CP(e,"Playing on");var u=vst.createEl("div",{className:gat+"status-title"}),s=vst.createEl("div",{className:gat+"status"});return this.kr=u,s.appendChild(r),s.appendChild(e),s.appendChild(u),i.appendChild(s),i},i.dispose=function(){var n;null==(n=this.Ua)||n.removeEventListener("statechange",this.update),this.Ua=void 0,this.ws.removeEventListener("play",this.update),t.prototype.dispose.call(this)},n}(bst(vst.getComponent("Component")));mat.ICON_SVG='\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" fill="currentColor">\n    <path d="M7 24v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H11v1.63c3.96 1.28 7.09 4.41 8.37 8.37H25V13zM7 16v2a9 9 0 0 1 9 9h2c0-6.08-4.93-11-11-11zm20-7H9c-1.1 0-2 .9-2 2v3h2v-3h18v14h-7v2h7c1.1 0 2-.9 2-2V11c0-1.1-.9-2-2-2z"/>\n</svg>',vst.registerComponent("chromecastOverlay",mat),U(),St(),U(),St(),Dt(),Ct();var wat=function(t){function n(n,i){var r,e,u;return(r=t.call(this,n,ss({},i,{Ba:"airplay",Ia:'\n<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">\n    <path class="theo-cast-inner" d="M5 7h14v8H5z"/>\n    <path d="M6 22h12l-6-6zM21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v-2H3V5h18v12h-4v2h4c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>\n</svg>'}))||this).Va=function(){r.enable()},r.Oa=function(){r.disable()},null==(e=r.ws.ads)||e.addEventListener("adbreakbegin",r.Oa),null==(u=r.ws.ads)||u.addEventListener("adbreakend",r.Va),r.ws.addEventListener("currentsourcechange",r.Va),r}return Rt(n,t),n.prototype.dispose=function(){var n,i;null==(n=this.ws.ads)||n.removeEventListener("adbreakbegin",this.Oa),null==(i=this.ws.ads)||i.removeEventListener("adbreakend",this.Va),this.ws.removeEventListener("currentsourcechange",this.Va),t.prototype.dispose.call(this)},xt(n,[{key:"Ea",get:function(){var t;return null==(t=this.ws.cast)?void 0:t.airplay}}]),n}(fat);vst.registerComponent("airplayButton",wat),U(),St(),U(),St(),U(),St(),Ct();var pat=function(t){function n(n,i){var r,e;return(r=t.call(this,n,i)||this).Ha=function(){return r.xn()},r.controlText("Watch in VR"),r.La=new Zst(r,r.controlText()),null==(e=r.ws.vr)||e.addEventListener(["statechange","stereochange"],r.Ha),r.xn(),qn.Ys.Qe&&(r.Ra=new Pst(r.el())),r.on(n,"languagechange",r.te),r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-vr-button theo-controlbar-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(){this.ws.vr.stereo=!this.ws.vr.stereo,this.te()},i.xn=function(){var t=this.ws.vr;t&&t.state!==a5.Rs?(this.show(),t.canPresentVR?this.enable():this.disable()):this.hide(),this.te()},i.te=function(){var t=this.ws.vr;t&&t.state!==a5.Rs&&(t.stereo?this.controlText("Stop watching in VR"):t.canPresentVR?this.controlText("Watch in VR"):this.controlText("No VR capable device found"),this.La.Ie=this.controlText())},i.dispose=function(){var n;null==(n=this.ws.vr)||n.removeEventListener(["statechange","stereochange"],this.Ha),t.prototype.dispose.call(this)},n}(bst(vst.getComponent("Button")));vst.registerComponent("vrButton",pat),U(),St(),Ct();var yat=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Ha=function(){return e.xn()},e.Wa=function(){return e.za()},e.ws=r,e.ws.vr.addEventListener("statechange",e.Ha),e.ws.vr.addEventListener("directionchange",e.Wa),e.xn(),e.za(),e}Rt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()}),i=vst.createEl("div",{className:"theo-360-fov"});return n.appendChild(i),this.qa=i,n},i.buildCSSClass=function(){return"theo-360-compass "+t.prototype.buildCSSClass.call(this)},i.xn=function(){this.ws.vr.state===a5.Rs?this.hide():this.show()},i.za=function(){var t=-this.ws.vr.direction.yaw+40;this.qa.style[SI("transform")]="scale(0.875) rotate("+t+"deg) skew("+"-10deg)"},i.dispose=function(){this.ws.vr.removeEventListener("statechange",this.Ha),this.ws.vr.removeEventListener("directionchange",this.Wa),t.prototype.dispose.call(this)},n}(vst.getComponent("Component"));U(),St(),Ct();var _at=A.pow(2,31)-1,bat=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Ya=!1,e.Za=!1,e.Ka="",e.tu=function(){return e.Ga()},e.ws=r,e.ws.vr.addEventListener("statechange",e.tu),e.Ga(),e}Rt(n,t);var i=n.prototype;return i.Ga=function(){this.ws.vr.state===a5.Xa?this.Ja():this.Qa()},i.Ja=function(){if(!this.Ya){this.Ya=!0;var t=this.ws.element;this.Ka=t.style.zIndex||"",t.style.zIndex=""+_at,this.Za=this.player().isFullscreen(),this.player().requestFullscreen()}},i.Qa=function(){this.Ya&&(this.Ya=!1,this.ws.element.style.zIndex=this.Ka,this.Za?this.player().requestFullscreen():this.player().exitFullscreen())},i.dispose=function(){this.Qa(),this.ws.vr.removeEventListener("statechange",this.tu),t.prototype.dispose.call(this)},n}(vst.getComponent("Component"));ltt((function(t){var n=t.wa;if(n.vr){var i=t.lo,r=new yat(i,{},n);if(t.bn(va.uo,(function(){var n;i.removeChild(r);var e=null==(n=t.iu())?void 0:n.vr;void 0===e||e.nativeVR||i.addChild(r)})),Gn.su){var e=new bat(i,{},n);i.addChild(e)}}})),U(),St(),U(),St(),Dt(),Ct(),U(),St(),Ct();var kat=function(t){function n(){return t.call(this,"relatedchange")||this}return Rt(n,t),n}(fa),Aat=["relatedchange"],Tat=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hu=[],n}return Rt(n,t),n.prototype.yn=function(){this.Ro(),this.hu=[]},xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get sources(){return t.nu},set sources(n){t.nu=n},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new VI(Aat,!0,i),n.ru(t),i}(this)),this.eu}},{key:"nu",get:function(){return this.hu},set:function(t){this.hu=function(t){return t.filter((function(t){return t&&(ni(t.link)||Lg(t,["source"]))}))}(t),t.length>this.hu.length&&console.warn("One or more of the configured related content sources are invalid. Check if they have a source or a link."),this._o(new kat)}}]),n}(aa);Jk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).ou=new Tat,r}Rt(n,t);var i=n.prototype;return i.ka=function(){var n=this.ou;return Mg(t.prototype.ka.call(this),{get related(){return n.wa}})},i.yn=function(){this.ou.yn(),t.prototype.yn.call(this)},n}(t)}),Yk.au),U(),St(),Dt(),Ct(),Wt(),U(),St(),Ct();var Sat=function(t){function n(n,i,r){var e;return(e=t.call(this,n,r)||this).po=n.el(),e.cu=i,e.player().topControlBar.addChild(e),e.hide(),e.controlText(e.localize("Related content")),e.Be=new Zst(e,e.controlText()),e.on(n,"languagechange",e.te),e}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-view-grid theo-related-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(){this.cu.uu?this.cu.be():this.cu.ge()},i.te=function(){this.Be.Ie=this.controlText()},i.dispose=function(){this.player().topControlBar.removeChild(this),t.prototype.dispose.call(this)},n}(vst.getComponent("Button"));U(),St(),Dt(),Ct(),U(),St(),Ct();var Eat=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).lu=i,r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-secondary-background theo-close-button"},i.handleClick=function(){this.lu.hide()},n}(vst.getComponent("Button")),Iat=function(){var t=v.createElement("div");return t.className="theo-related-grid-tile",t.innerHTML='<a class="theo-related-grid-tile-content"><div class="theo-related-grid-tile-image"></div><span class="theo-related-grid-tile-title theo-primary-border theo-tertiary-background"></span><span class="theo-related-grid-tile-duration"></span></a>',t}();function Rat(t,n,i){var r=Iat.cloneNode(!0),e=r.querySelector(".theo-related-grid-tile-content");Lg(i,["source"])?(e.style.cursor="pointer",e.addEventListener("click",(function(){t.source=i.source,n.be()}))):ni(i.link)&&e.setAttribute("href",i.link);var u=r.querySelector(".theo-related-grid-tile-image");u.style.backgroundImage='url("'+$s(i.image)+'")',u.removeAttribute("id");var s=r.querySelector(".theo-related-grid-tile-title");i.title?(CP(s,i.title),s.removeAttribute("id")):ai(s);var o=r.querySelector(".theo-related-grid-tile-duration");return i.duration?(CP(o,i.duration),o.removeAttribute("id")):ai(o),r}var Cat=[15,12,9,8,6,4,3,2,1];var Nat=function(){function t(t,n,i,r,e){var u=this;this.bu=t,this.Tu=n,this.ku=i,this.Cu=r,this.fu=12,this.Mu=function(t){u.wu.style.width=t.width+"px"},this.xu=v.createElement("div"),this.pu=new Eat(this.Tu,{hide:function(){u.ku.be()}}),this.wu=this._u(),this.ju=new xat(e),this.ju.bn(wI.mn,this.Mu),this.Su=new T$(this.wu,this.ju),this.yu(12)}var n=t.prototype;return n.vu=function(){this.pu.focus()},n.mu=function(t){this.gu(),function(t){if(t.length)for(var n=0;n<Cat.length;n++){var i=Cat[n];if(t.length>=i){t.length=i;break}}}(t),this.yu(t.length);for(var n=0;n<t.length;n++){var i=t[n],r=Rat(this.bu.wa,this.ku,i);this.wu.appendChild(r)}},n.gu=function(){this.wu.innerHTML=""},n._u=function(){var t=v.createElement("div");t.className="theo-overlay-panel";var n=v.createElement("div");return n.className="theo-related-grid",this.xu.className="theo-related",this.pu.controlText("Close Related Content"),this.Cu.appendChild(this.xu),this.xu.appendChild(t),t.appendChild(this.pu.el()),t.appendChild(n),n},n.yu=function(t){mi(this.wu,this.du),this.fu=t,gi(this.wu,this.du)},n.yn=function(){ai(this.xu),this.Su.yn(),this.ju.yn(),this.pu.dispose(),this.bu=void 0},xt(t,[{key:"du",get:function(){return"theo-"+this.fu+"-item-grid"}}]),t}(),xat=function(t){function n(n){var i;return(i=t.call(this)||this).Nu=n,i.Iu=function(t){var n=t.width;9*(t.width/16)>t.height&&(n=16*(t.height/9));i.Pu=n,i._o(new pI(i.Au,t.height))},i.Nu.bn(wI.mn,i.Iu),i}return Rt(n,t),n.prototype.yn=function(){this.Ro(),this.Nu.vn(wI.mn,this.Iu)},xt(n,[{key:"Au",get:function(){return this.Pu||0}},{key:"Eu",get:function(){return this.Nu.Eu}}]),n}(aa);U(),St(),Ct();var Dat=function(t){function n(){return t.call(this,"show")||this}return Rt(n,t),n}(fa);U(),St(),Ct();var Pat=function(t){function n(){return t.call(this,"hide")||this}return Rt(n,t),n}(fa),Mat="theo-related-available",Bat="theo-related-showing",Oat=Ut(Aat).concat(["show","hide"]),Lat=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Fu=!1,u.Ru=!1,u.Vu=function(t){var n=u.nu;u.$u.mu(n),n.length?(u.Du(Mat),u.Ou.show()):(u.Uu(Mat),u.Ou.hide()),u._o(t)},u.Bu=i,u.Bu.bn("relatedchange",u.Vu),u.Tu=r,u.$u=new Nat(n,u.Tu,u,r.contentEl(),e),u.Ou=new Sat(r,u,{}),u}Rt(n,t);var i=n.prototype;return i.ge=function(){var t=this.Fu;this.Fu=!0,this.Du(Bat),this.$u.vu(),this.Tu.paused()?this.Ru=!0:this.Tu.pause(),t!==this.Fu&&this._o(new Dat)},i.be=function(){var t=this.Fu;this.Fu=!1,this.Uu(Bat),this.Ou.focus(),this.Ru||this.Tu.play(),this.Ru=!1,t!==this.Fu&&this._o(new Pat)},i.Du=function(t){this.Tu.el().classList.add(t)},i.Uu=function(t){this.Tu.el().classList.remove(t)},i.yn=function(){this.Ro(),this.$u.yn()},xt(n,[{key:"wa",get:function(){return this.eu||(this.eu=function(t){var n,i={get sources(){return t.nu},set sources(n){t.nu=n},get showing(){return t.uu},show:function(){t.ge()},hide:function(){t.be()},addEventListener:function(t,i){n.bn(t,i)},removeEventListener:function(t,i){n.vn(t,i)}};return n=new VI(Oat,!0,i),n.ru(t),i}(this)),this.eu}},{key:"nu",get:function(){return this.Bu.nu},set:function(t){this.Bu.nu=t}},{key:"uu",get:function(){return this.Fu}}]),n}(aa);ftt((function(t){return function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Lu=new Lat(e,e.ou,e.lo,e.Hu),e}Rt(n,t);var i=n.prototype;return i.ka=function(){var n=this.Lu;return Mg(t.prototype.ka.call(this),{get related(){return n.wa}})},i.yn=function(){this.Lu.yn(),t.prototype.yn.call(this)},n}(t)})),U(),St(),U(),St(),Dt(),Ct(),U(),St(),Ct();var Fat=function(t){function n(n,i,r){var e;return(e=t.call(this,n,r)||this).po=n.el(),e.qu=i,e.player().topControlBar.addChild(e),e.hide(),e.controlText("Share Video"),e.Be=new Zst(e,e.controlText()),e.on(n,"languagechange",e.te),e}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-share theo-social-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(){this.qu.showing?this.qu.hide():this.qu.show()},i.te=function(){this.Be.Ie=this.controlText()},i.dispose=function(){this.player().topControlBar.removeChild(this),t.prototype.dispose.call(this)},n}(vst.getComponent("Button"));function Vat(t,n,i){switch(n){case"iconurl":return function(t,n){var i,r=v.createElement("a");r.className="theo-social-iconurl",r.title=null!=(i=t.label)?i:"",r.target="zu",r.href=n;var e,u,s=v.createElement("img");return s.src=null!=(e=t.icon)?e:"",s.alt=null!=(u=t.label)?u:"",s.width=25,s.height=25,r.appendChild(s),r}(t,i);case"text":return function(t){var n=v.createElement("div");if(n.className="theo-social-text",t.label){var i=v.createElement("h5");i.className="theo-primary-background theo-social-label",CP(i,t.label),n.appendChild(i)}var r,e=v.createElement("p");return e.className="theo-social-content-container theo-tertiary-background",e.tabIndex=0,CP(e,null!=(r=t.text)?r:""),n.appendChild(e),n}(t);case"texturl":return function(t,n){var i=v.createElement("div");if(i.className="theo-social-texturl",t.label){var r=v.createElement("h5");r.className="theo-primary-background theo-social-label",CP(r,t.label),i.appendChild(r)}var e=v.createElement("div");e.className="theo-social-content-container theo-tertiary-background";var u=v.createElement("a");return u.target="zu",u.href=n,CP(u,n),e.appendChild(u),i.appendChild(e),i}(t,i)}}U(),St(),Dt();var Uat="<URL>";var Wat=function(){function t(t,n,i,r){this.na=t,this.ku=n,this.Cu=i,this.Ku=r;var e=v.createElement("div");e.className="theo-overlay-panel",this.pu=new Eat(this.na,this.ku.wa),this.pu.controlText("Close Share"),this.$u=v.createElement("div"),this.$u.className="theo-social-container",this.xu=v.createElement("div"),this.xu.className="theo-social",this.Ju=v.createElement("div"),this.Ju.className="theo-social-icon-container",this.Qu=v.createElement("div"),this.Qu.className="theo-social-text-container",this.Cu.appendChild(this.xu),this.xu.appendChild(e),this.$u.appendChild(this.Ju),this.$u.appendChild(this.Qu),e.appendChild(this.pu.el()),e.appendChild(this.$u),this.Yu=new T$(this.xu,this.Ku)}var n=t.prototype;return n.Wu=function(t){this.gu();for(var n=0;n<t.length;n++){var i=t[n];this.Gu(i)}},n.vu=function(){this.pu.focus()},n.Gu=function(t){var n=function(t,n){return t.src?Zs(t.src,Uat)?t.src.replace(Uat,n):t.src:n}(t,this.ku.Xu),i=function(t){if(t)return t.icon?"iconurl":t.text?"text":"texturl"}(t),r=Vat(t,i,n);r&&("iconurl"===i?this.Ju.appendChild(r):this.Qu.appendChild(r))},n.gu=function(){this.Ju.innerHTML="",this.Qu.innerHTML=""},n.yn=function(){ai(this.xu),this.Yu.yn()},xt(t,[{key:"we",get:function(){return this.xu}}]),t}(),jat="theo-social-available",Zat="theo-social-showing",Xat=function(){function t(t,n){this.Fu=!1,this.tc=[],this.Ru=!1,this.eu=function(t){return{get showing(){return t.uu},get items(){return t.Zu},set items(n){t.Zu=n},get url(){return t.Xu},set url(n){t.Xu=n},show:function(){t.ge()},hide:function(){t.be()}}}(this),this.sc=t,this.$u=new Wat(this.sc,this,t.contentEl(),n),this.Ou=new Fat(t,this.eu,{})}var n=t.prototype;return n.ge=function(){this.Fu=!0,this.Du(Zat),this.$u.vu(),this.sc.paused()?this.Ru=!0:this.sc.pause()},n.be=function(){this.Fu=!1,this.Uu(Zat),this.Ou.focus(),this.Ru||this.sc.play(),this.Ru=!1},n.Du=function(t){this.sc.el().classList.add(t)},n.Uu=function(t){this.sc.el().classList.remove(t)},n.yn=function(){this.Ou.dispose(),this.$u.yn()},xt(t,[{key:"wa",get:function(){return this.eu}},{key:"uu",get:function(){return this.Fu}},{key:"Zu",get:function(){return this.tc},set:function(t){this.tc=t,this.$u.Wu(t),t.length?(this.Du(jat),this.Ou.show()):(this.Uu(jat),this.Ou.hide())}},{key:"Xu",get:function(){return this.ic||function(){for(var t=f,n=t.location.href;t!==f.top;){t=t.parent;try{n=t.location.href}catch(t){}}return n}()},set:function(t){this.ic=t}}]),t}();ftt((function(t){return function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).qu=new Xat(e.lo,e.Hu),e}return Rt(n,t),n.prototype.ka=function(){var n=this.qu;return Mg(t.prototype.ka.call(this),{get social(){return n.wa}})},n}(t)})),U(),St(),U(),St(),Ct();var Gat=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-upnext-container "+t.prototype.buildCSSClass.call(this)},n}(vst.getComponent("Component"));Gat.prototype.h=ss({},Gat.prototype.h,{children:[]}),vst.registerComponent("upNextContainer",Gat),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var Hat="theo-upnext-bar-",zat=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,r)||this).ec=void 0,u.ac=void 0,u.oc=i,u.Yu=new T$(u.el(),e),u.Fu=!1,u.rc=10,u.on(n,"languagechange",u.te),u}Rt(n,t);var i=n.prototype;return i.Ca=function(t){this.gu(),this.hc(t)},i.hc=function(t){var n=this;if(t&&t.link&&t.image){var i=v.createElement("div");gi(i,Hat+"content"),i.onclick=function(){n.oc.next()},i.onkeypress=function(t){13===t.which&&n.oc.next()};var r=v.createElement("div");if(r.style.backgroundImage='url("'+$s(t.image)+'")',gi(r,Hat+"image"),i.appendChild(r),t.duration){var e=v.createElement("span");gi(e,Hat+"duration"),e.innerHTML=""+t.duration,r.appendChild(e)}var u=v.createElement("div");gi(u,Hat+"text");var s=v.createElement("div");if(gi(s,Hat+"upnext"),CP(s,this.localize("Up Next")),u.appendChild(s),t.title){var o=v.createElement("div");gi(o,Hat+"title"),CP(o,t.title),u.appendChild(o)}i.appendChild(u),this.ec=i,this.ac=s,this.el().appendChild(this.ec)}},i.gu=function(){this.el().innerHTML="",this.ec=void 0,this.ac=void 0},i.te=function(){this.ac&&CP(this.ac,this.localize("Up Next"))},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){return"theo-upnext-bar "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.Yu.yn(),t.prototype.dispose.call(this)},xt(n,[{key:"uu",get:function(){return this.Fu},set:function(t){this.Fu=t,this.ec&&(this.ec.tabIndex=t?0:-1)}},{key:"nc",get:function(){return this.rc},set:function(t){this.rc=t}}]),n}(vst.getComponent("Component"));U(),St(),Dt(),Ct();var Yat="theo-upnext-panel-",Kat=Uot,qat=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,r)||this).bc=0,u.oc=i,u.Yu=new T$(u.el(),e),u.Fu=!1,u.cc=10,u.dc=!0,u.on(n,"languagechange",u.te),u}Rt(n,t);var i=n.prototype;return i.Ca=function(t){this.gu(),this.fc(t)},i.fc=function(t){var n=this;if(t&&t.link&&t.image){var i=v.createElement("div");i.className=Yat+"content";var r=v.createElement("div");r.style.backgroundImage='url("'+$s(t.image)+'")',r.className=Yat+"image",i.appendChild(r);var e=v.createElement("div");e.className=Yat+"text";var u=v.createElement("div");if(u.className=Yat+"upnext",CP(u,this.localize("Up Next")),e.appendChild(u),t.title){var s=v.createElement("div");s.className=Yat+"title",CP(s,t.title),e.appendChild(s)}i.appendChild(e),this.vc=v.createElement("div"),this.vc.className=Yat+"autoplay",this.vc.innerHTML=Wot;var o=this.vc.querySelector("svg");o.onclick=function(){n.oc.next()},o.tabIndex=0,o.onkeypress=function(t){13===t.which&&n.oc.next()},this.mc=u,this.gc=this.vc.querySelector("."+Kat),i.appendChild(this.vc),this.el().appendChild(i)}},i.gu=function(){this.el().innerHTML="",this.mc=void 0,this.gc=void 0},i.te=function(){this.mc&&CP(this.mc,this.localize("Up Next"))},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){return"theo-upnext-panel "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.Yu.yn(),t.prototype.dispose.call(this)},xt(n,[{key:"uu",get:function(){return this.Fu},set:function(t){this.Fu=t}},{key:"uc",get:function(){return this.cc},set:function(t){this.cc=t}},{key:"lc",get:function(){return this.dc},set:function(t){this.dc=t}},{key:"yc",get:function(){return this.bc},set:function(t){this.bc=t,this.gc.style.strokeDashoffset=""+A.round(1e5*t)/1e5}}]),n}(vst.getComponent("Component")),Jat="theo-upnext-panel-showing",Qat="theo-upnext-bar-showing",$at=2*A.PI*73,tct=function(){function t(n,i,r){var e=this;this.Sc=void 0,this.Pc=10,this.Dc=1,this.Nc=void 0,this.Ec=!0,this.Ic=function(){e.Dc!==e.Pc?(e.$u.yc-=$at/e.Pc,e.Dc+=1):e.Bc()},this.Mc=function(){e.$u.uu||e.Ac()},this.Tc=function(){var n=e.sc.currentTime(),i=e.sc.duration(),r=i?t.Hc(e.jc.nc,i):void 0;void 0!==r&&e.Uc(n,r),e.$u.lc&&e.Lc(n,i)},this.eu=function(t){return{get source(){return t.Cc},set source(n){t.Cc=n},get bar(){return t.kc},get panel(){return t._c},next:function(){t.Bc()}}}(this),this.jc=new zat(n,this.eu,{},i),this.$u=new qat(n,this.eu,{},i),this.wc=function(t,n){return{get showing(){return n.uu},get offset(){return n.nc},set offset(t){n.nc=t},show:function(){t.$c()},hide:function(){t.Rc()}}}(this,this.jc),this.xc=function(t,n){return{get showing(){return n.uu},get countdownDuration(){return n.uc},set countdownDuration(t){n.uc=t},get showUpNextPanel(){return n.lc},set showUpNextPanel(t){n.lc=t},show:function(){t.Ac()},hide:function(){t.Fc()}}}(this,this.$u),this.sc=n,this.Oc=r,n.getChild("upNextContainer").addChild(this.jc,{}),n.getChild("upNextContainer").addChild(this.$u,{})}var n=t.prototype;return n.Ac=function(){this.$u.uc?this.Pc=Zg(this.$u.uc):0===this.$u.uc?this.Pc=0:this.Pc=10,0!==this.Pc?(isFinite(this.Pc)&&(this.Ec=!0),this.$u.uu=!0,this.Du(Jat),this.Ec&&(this.$u.yc=$at-$at/this.Pc,this.Nc=w(this.Ic,1e3))):this.Bc()},n.Fc=function(){this.$u.uu=!1,this.Uu(Jat),this.Ec&&(p(this.Nc),this.Dc=1,this.$u.yc=$at)},n.$c=function(){this.jc.uu=!0,this.Du(Qat)},n.Rc=function(){this.jc.uu=!1,this.Uu(Qat)},n.Bc=function(){p(this.Nc),this.Cc&&(f.location.href=this.Cc.link)},n.Du=function(t){this.sc.el().classList.add(t)},n.Uu=function(t){this.sc.el().classList.remove(t)},n.Uc=function(t,n){var i=t>=n&&!(this.Oc&&this.Oc.Vc);this.jc.uu&&!i?this.Rc():!this.jc.uu&&i&&this.$c()},n.Lc=function(t,n){this.$u.uu&&t<n&&!this.sc.ended()&&this.Fc()},n.yn=function(){this.Nc&&p(this.Nc),this.sc.getChild("upNextContainer").removeChild(this.$u),this.sc.getChild("upNextContainer").removeChild(this.jc),this.$u.dispose(),this.jc.dispose()},t.Hc=function(t,n){var i=Zg(t);if(!E(i))return n-i;var r=(""+t).match(/^([1-9]?\d|100)%$/);return r?n*(1-T(r[1],10)/100):void 0},xt(t,[{key:"wa",get:function(){return this.eu}},{key:"kc",get:function(){return this.wc}},{key:"_c",get:function(){return this.xc}},{key:"Cc",get:function(){return this.Sc},set:function(t){this.Sc=t,this.$u.Ca(t),this.jc.Ca(t),this.sc.off("timeupdate",this.Tc),this.sc.off("ended",this.Mc),t&&(this.sc.on("timeupdate",this.Tc),this.sc.on("ended",this.Mc))}}]),t}();ftt((function(t){return function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).qc=new tct(e.lo,e.Hu,e.zc),e}Rt(n,t);var i=n.prototype;return i.ka=function(){var n=this.qc;return Mg(t.prototype.ka.call(this),{get upnext(){return n.wa}})},i.yn=function(){this.qc.yn(),t.prototype.yn.call(this)},n}(t)})),U(),St(),U(),St(),Ct();var nct=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Jc=0,r.on(r.player(),"contextmenu",r.Wc),r.el().addEventListener("mousedown",ict,!0),r.on(v,"mousedown",r.Xc),r.on("mouseout",r.Gc),r.on("mouseover",r.Qc),r.Xc(),r}Rt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"ul",{className:"theo-context-menu"}),i=v.createElement("li"),r=v.createElement("a"),e=v.createElement("div");r.className="theo-context-menu-a",i.appendChild(r),e.className="theo-context-menu-logo",e.innerHTML='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t width="507.262px" height="399.16px" viewBox="0 0.1 507.262 399.16" enable-background="new 0 0.1 507.262 399.16"\n\t xml:space="preserve" class=\'theo-context-menu-logo-svg\'>\n\t<g transform="matrix(1.90897, 0, 0, 1.90897, 212.4, 144.6)">\n\t\t<path fill="#FFFFFF" d="M-38.416-53.802C-53.351-38.867-60.82-20.814-60.82,0.353c0,21.253,7.466,39.392,22.404,54.413\n\t\t\tc6.83,6.658,13.827,11.778,20.996,15.363c5.122,2.561,10.583,4.397,16.388,5.507v1.024h-78.481\n\t\t\tc-21.168,0-31.752-10.584-31.752-31.752v-88.724c0-21.252,10.584-31.879,31.752-31.879h79.377v0.896\n\t\t\tc-6.145,1.196-11.95,3.116-17.411,5.762C-24.632-65.538-31.586-60.46-38.416-53.802"/>\n\t</g>\n\t<g transform="matrix(0.535073, 0, 0, 0.535073, 242.35, 104.7)">\n\t\t<path fill="#FFFFFF" d="M188.354,104.104c-32.941,23.472-75.492,49.679-127.641,78.61c-50.275,28.254-94.358,50.44-132.254,66.572l-41.989,15.616\n\t\t\tc-2.645-11.348-5.122-28.17-7.426-50.44c-5.205-44.383-7.809-93.375-7.809-146.975c0-49.079,3.538-94.947,10.622-137.631\n\t\t\tl10.249-49.034l44.551,14.978C-24.762-88.838,17.06-67.03,62.124-38.777c47.705,29.871,88.638,58.294,122.773,85.266\n\t\t\tc17.061,13.571,29.351,24.028,36.862,31.367L188.354,104.104"/>\n\t</g>\n\t<g transform="matrix(1.91028, 0, 0, 1.91028, 327.15, 144.6)">\n\t\t<path fill="#FFFFFF" d="M94.286-43.816v88.723c0,21.168-10.583,31.751-31.751,31.751h-80.018v-1.025\n\t\t\tc14.683-2.816,27.527-9.77,38.537-20.867c14.936-15.024,22.405-33.16,22.405-54.413c0-21.168-7.467-39.22-22.405-54.156\n\t\t\tC9.871-64.985-3.188-71.939-18.123-74.671v-1.024h80.658C83.702-75.696,94.286-65.069,94.286-43.816"/>\n\t</g>\n</svg>\n',r.appendChild(e);var u=v.createElement("div");return u.className="theo-context-version",CP(u,"Powered by THEOplayer 9.3.1"),r.appendChild(u),r.href="https://www.theoplayer.com/player-referral",r.target="zu",n.appendChild(i),n},i.Wc=function(t){var n=t;n.preventDefault(),this.show(),this.el().style.left="0",this.el().style.top="0";var i=this.player().contentEl(),r=i.getClientRects(),e=r.length>0?r[0]:void 0,u=n.clientX-i.getBoundingClientRect().left,s=S(getComputedStyle(this.el()).fontSize);IP(this.el(),u,e,s);var o=n.clientY-i.getBoundingClientRect().top;!function(t,n,i,r){void 0===r&&(r=0),RP(t,n,"top","bottom",i,r)}(this.el(),o,e,s),this.Gc()},i.Xc=function(){this.hide(),this.clearTimeout(this.Jc)},i.Gc=function(){this.Jc=this.setTimeout(this.Xc,4e3)},i.Qc=function(){this.clearTimeout(this.Jc)},i.dispose=function(){this.Xc(),this.off(this.player(),"contextmenu",this.Wc),this.el().removeEventListener("mousedown",ict,!0),this.off(v,"mousedown",this.Xc),this.off("mouseout",this.Gc),this.off("mouseover",this.Qc),t.prototype.dispose.call(this)},n}(vst.getComponent("Component"));function ict(t){t.stopPropagation()}ltt((function(t){var n=new nct(t.lo,{});t.lo.addChild(n),t.lo.on("dispose",(function(){t.lo.removeChild(n),n.dispose()}))})),U(),St(),U(),St(),U(),St(),Ct(),U(),St();var rct={Default:"","Monospaced Serif":zD.Yc,"Proportional Serif":zD.Kc,"Monospaced Sans-Serif":zD.Zc,"Proportional Sans-Serif":zD.tl},ect={White:"#ffffff",Yellow:"#ffff00",Green:"#00ff00",Cyan:"#00ffff",Blue:"#0000ff",Magenta:"#ff00ff",Red:"#ff0000",Black:"#000000"},uct=[50,75,100,150,200];function sct(t){return{label:t+"%",value:t}}function oct(t){return k.keys(t).map((function(n){return{label:n,value:t[n]}}))}uct.map((function(t){return{label:t+"%",value:t/100+"em"}}));var act=uct.map((function(t){return{label:t+"%",value:t+"%"}})),cct=[25,50,75,100].map(sct),hct=[0,25,50,75,100].map(sct),fct=oct(ect),vct=oct(rct),lct=oct({None:"none","Drop Shadow":"dropshadow",Raised:"raised",Depressed:"depressed",Uniform:"uniform"}),dct=100,gct="#000000",mct="#FFFFFF",wct="#000000";U(),St(),Ct();var pct=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n.subMenu)||this).nl=n,u.Ur=e,u.ll="",u.te=function(){var t=u.Ur.localize(u.sl);CP(u.nl.subMenu.menuHeader.el(),t),CP(u.Rr,t),u.cl(u.ll);for(var n=0,i=u.Ar;n<i.length;n++){var r=i[n];u.Dr(r)}},u.sl=i,u.al=r.fl,u.dl=u.il(),u.Cr=r.vl,u.Ur.on("languagechange",u.te),u}Rt(n,t);var i=n.prototype;return i.il=function(){var t=this.Ur.localize(this.sl);CP(this.nl.subMenu.menuHeader.el(),t),this.Rr=v.createElement("span"),this.Rr.className="theo-settings-control-menu-item-title",CP(this.Rr,t);var n=v.createElement("span");return n.className="theo-primary-color theo-settings-control-menu-item-value",gi(this.nl.el(),"theo-subtitle-options-menu-item"),this.nl.el().appendChild(this.Rr),this.nl.el().appendChild(n),n},i.rl=function(t){var n=this.Pr(t);n&&this.hl(n)},i.ol=function(){return this.Cr},i.Ir=function(t){this.al(t.Er)},i.hl=function(t){for(var n=0,i=this.Mr.menuItems;n<i.length;n++){i[n].selected(!1)}t?(t.selected(!0),this.cl(t.Er.label)):this.cl("Custom")},i.cl=function(t){this.ll=t,CP(this.dl,this.Ur.localize(t)),this.nl.parentMenu.re()},i.Nr=function(n){var i=t.prototype.Nr.call(this,n);return gi(i.el(),"theo-subtitle-options-menu-item"),this.Dr(i),i},i.Dr=function(t){var n=this.Ur.localize(t.Er.label);CP(t.el(),n);var i=this.Ur.localize("Set "+this.sl+" to ")+n;t.el().setAttribute("aria-label",i)},i.Re=function(){this.Ur.off("languagechange",this.te),t.prototype.Re.call(this)},n}(yot);U(),St();var yct=function(){function t(n){var i=this;this.ml=n,this.gl=function(t){i.ml.fontFamily=t.value},this.yl=function(t){i.ml.fontSize=t.value},this.bl=function(n){i.kl=n.value,i.ml.fontColor=t.pl(i.wl,i.kl,mct,dct)},this._l=function(n){i.wl=n.value,i.ml.fontColor=t.pl(i.wl,i.kl,mct,dct)},this.xl=function(n){i.Cl=n.value,i.ml.backgroundColor=t.pl(i.Cl,i.Sl,gct,dct)},this.jl=function(n){i.Sl=n.value,i.ml.backgroundColor=t.pl(i.Cl,i.Sl,gct,dct)},this.Tl=function(n){i.Ml=n.value,i.ml.windowColor=t.pl(i.Ml,i.Al,wct,dct)},this.Pl=function(n){i.Al=n.value,i.ml.windowColor=t.pl(i.Ml,i.Al,wct,dct)},this.El=function(t){i.ml.edgeStyle=t.value}}return t.pl=function(t,n,i,r){if(void 0!==t||void 0!==n)return function(t,n){return function(t){return t?"rgba("+t.Ttt+", "+t.ktt+", "+t.Ett+", "+t.Fl+")":void 0}(YD(KD(t),n/100))}(void 0===t?i:t,void 0===n?r:n)},t}();U(),St();var _ct=function(){function t(t,n){var i=this;this.ml=t,this.Dl=n,this.$l=function(){var t=i.ml.fontFamily;i.Nl(t,i.Dl["Font family"]);var n=i.ml.fontColor;i.Bl(n,i.Dl["Font color"],i.Dl["Font opacity"]);var r=i.ml.fontSize;i.Nl(r,i.Dl["Font size"]);var e=i.ml.backgroundColor;i.Bl(e,i.Dl["Background color"],i.Dl["Background opacity"]);var u=i.ml.windowColor;i.Bl(u,i.Dl["Window color"],i.Dl["Window opacity"]);var s=i.ml.edgeStyle;i.Nl(s,i.Dl["Character edge style"])},this.ml.addEventListener("change",this.$l),this.$l()}var n=t.prototype;return n.Nl=function(t,n){var i=this.Il(t,n.ol());i&&n.rl(i)},n.Il=function(t,n){return mo(n,(function(n){return n.value===t}))},n.Bl=function(t,n,i){var r,e;if(void 0===t)r=this.Il(void 0,n.ol()),e=this.Il(void 0,i.ol());else if(t){var u=function(t){var n=JD(t);n||(n=JD(t.slice(0,t.length-1).replace("rgb","rgba")+",1)"));n||(n=YD(KD(t),1));if(!n){var i=t.charAt(0).toUpperCase()+t.toLowerCase().slice(1);n=YD(KD(ect[i]),1)}return n}(t);if(u){var s=function(t){return"#"+qD(t.Ttt)+qD(t.ktt)+qD(t.Ett)}(u),o=100*u.Fl;r=this.Il(s,n.ol()),e=this.Il(o,i.ol())}}r&&n.rl(r),e&&i.rl(e)},t}();var bct=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n.subMenu)||this).Gr=n,u.Hl=i,u.Ur=e,u.Dl={},u.ql=function(){u.Hl.some((function(t){return uy(t.kind)}))?u.Gr.show():u.Gr.hide()},u.te=function(){CP(u.Mr.menuHeader.el(),u.Ur.localize("Subtitle Options")),CP(u.Rr,u.Ur.localize("Subtitle")),CP(u.Vl,u.Ur.localize("Options")),u.Gr.el().setAttribute("aria-label",u.Ur.localize("Open the subtitle options menu"))},u.Ul=new yct(r),u.Ll=u.Rl(),u.Cr=k.keys(u.Ll),u.Ol(),u.zl=new _ct(r,u.Dl),u.Ur.on("languagechange",u.te),u.Hl.addEventListener(["addtrack","removetrack"],u.ql),u.ql(),u}Rt(n,t);var i=n.prototype;return i.Rl=function(){return{"Font family":{vl:kct(vct),fl:this.Ul.gl},"Font color":{vl:kct(fct),fl:this.Ul._l},"Font opacity":{vl:kct(cct),fl:this.Ul.bl},"Font size":{vl:kct(act),fl:this.Ul.yl},"Background color":{vl:kct(fct),fl:this.Ul.xl},"Background opacity":{vl:kct(hct),fl:this.Ul.jl},"Window color":{vl:kct(fct),fl:this.Ul.Tl},"Window opacity":{vl:kct(hct),fl:this.Ul.Pl},"Character edge style":{vl:kct(lct),fl:this.Ul.El}}},i.Ol=function(){this.Rr=v.createElement("span"),this.Rr.className="theo-settings-control-menu-item-title",this.Vl=v.createElement("span"),this.Vl.className="theo-primary-color theo-settings-control-menu-item-value",this.Gr.el().appendChild(this.Rr),this.Gr.el().appendChild(this.Vl),this.te()},i.Nr=function(t){var n=this.Mr.addSubMenuItem();return n.Er=t,this.Dl[t]=new pct(n,t,this.Ll[t],this.Ur),n},i.Dr=function(t){},i.Ir=function(t){},i.Re=function(){this.Ur.off("languagechange",this.te),this.Hl.removeEventListener(["addtrack","removetrack"],this.ql),t.prototype.Re.call(this)},n}(yot);function kct(t){for(var n=[{label:"Default",value:void 0}],i=0;i<t.length;i++){var r=t[i];"Default"!==r.label&&n.push(r)}return n}ltt((function(t){var n=t.lo.controlBar.getChild("SettingsButton").menu,i=n.addSubMenuItem({name:"TextTrackOptionsMenuItem"}),r=new bct(i,t.nt.wa,t.Wl.wa,t.lo);t.lo.on("dispose",(function(){n.removeMenuItem(i),i.dispose(),r.Re(),n.dispose()}))})),U(),St(),U(),St(),Ct();var Act=vst.getComponent("Component"),Tct=function(t){function n(n,i){var r;return r=t.call(this,n,i)||this,n.adControlBar=r,r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-ad-control-panel"},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},n}(Act);Tct.prototype.h=ss({},Act.prototype.h,{children:[]}),vst.registerComponent("AdControlPanel",Tct),U(),St(),U(),St(),Ct();var Sct=vst.getComponent("Component"),Ect="theo-dai-countdown",Ict=function(t){function n(n,i,r){var e;return(e=t.call(this,n,r)||this).na=n,e.eu=i,e.te=function(){var t=e.eu.ads;t.playing&&t.currentAdBreak&&t.currentAds.length&&CP(e.contentEl(),function(t,n,i){var r=t.ads,e="",u=r.length;if(u>1){var s=r.indexOf(n)+1;e=i("Ad")+" "+s+"/"+u+". "}var o=A.ceil(t.maxRemainingDuration);return e+=i("The content will resume in {1} seconds.").replace("{1}",""+o),e}(t.currentAdBreak,t.currentAds[0],(function(t){return e.na.localize(t)})))},e.po=n.el(),e.Gl(i,i.ads),e.on(n,"languagechange",e.te),e}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return Ect},i.createEl=function(t,n,i){var r=v.createElement("div");return r.className=Ect,r},i.Gl=function(t,n){var i=this;n.addEventListener("adbreakbegin",(function(){return i.show()})),n.addEventListener("adbreakend",(function(){return i.hide()})),t.addEventListener("timeupdate",this.te)},n}(Sct);U(),St(),Ct();var Rct=function(t){function n(n,i){var r;return CP((r=t.call(this,n,i)||this).el(),n.localize("Learn more")),r.eu=i.wa,r.po=n.el(),r.on(n,"languagechange",r.te),r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return S6},i.createEl=function(t,n,i){return this.h.wa.element.querySelector("."+S6)},i.emitTapEvents=function(){},i.te=function(){CP(this.el(),this.localize("Learn more"))},n}(vst.getComponent("ClickableComponent"));function Cct(t,n){return!n||"object"!==W(n)&&"function"!=typeof n?$j(t):n}ltt((function(t){if(t.wa.ads&&t.Xl){var n=t.lo,i=new Ict(n,t.wa);if(n.adControlBar.addChild(i),t.wa.element.querySelector("."+S6)){var r=new Rct(n,{wa:t.wa});n.adControlBar.addChild(r)}}})),U(),St(),U(),St(),Ct(),U(),St(),ct();var Nct=vst.getComponent("Component"),xct=["addtrack","removetrack","change"],Dct=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Jr=void 0,r.ah=function(){var t=got(r.ws.videoTracks);t!==r.Jr&&(r.Jr&&r.Jr.removeEventListener("activequalitychanged",r.Jl),r.Jr=t,t&&t.addEventListener("activequalitychanged",r.Jl),r.Jl())},r.Jl=function(){var t=r.Jr&&r.Jr.activeQuality;if(r.qualityLabel&&t){var n=t.label?t.label:t.height?t.height+"p":void 0;n&&(CP(r.qualityLabel,n),r.addClass("theo-quality-label-show"),r.hideActiveQualityLabel())}},r.hideActiveQualityLabel=function(){r.resetTimeout(),r.startFadeOutID=r.setTimeout(r.fadeoutLabel,3750),r.removeLabelClassesID=r.setTimeout(r.hideLabel,4e3)},r.resetTimeout=function(){r.startFadeOutID&&r.clearTimeout(r.startFadeOutID),r.removeLabelClassesID&&r.clearTimeout(r.removeLabelClassesID)},r.fadeoutLabel=function(){r.addClass("theo-quality-label-fadeout")},r.hideLabel=function(){r.removeClass("theo-quality-label-show"),r.removeClass("theo-quality-label-fadeout")},t.prototype.addClass.call($j(r),"theo-quality-label"),r.ws.videoTracks?(r.ws.videoTracks.addEventListener(xct,r.ah),r.ah(),r):Cct(r)}Rt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return this.qualityLabel=vst.createEl("div",{className:"theo-quality-label-text"}),n.appendChild(this.qualityLabel),Ai(this.qualityLabel),n},i.dispose=function(){this.Jr&&(this.Jr.removeEventListener("activequalitychanged",this.Jl),this.Jr=void 0),this.ws.videoTracks.removeEventListener(xct,this.ah),t.prototype.dispose.call(this)},n}(bst(Nct));vst.registerComponent("activeQualityLabel",Dct),U(),St(),U(),St(),Ct();var Pct="theo-upcoming-ad-notification",Mct=["adbreakbegin","adbreakend","adadded","adloaded","adbegin","adend"],Bct=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).currentAdBreak=void 0,r.currentAdBreakValid=!1,r.td=NaN,r.handleTimeUpdate=function(){r.Yl()},r.handleAdEvent=function(){r.Ql(),r.Yl()},r.ws.ads?(r.hide(),r.ws.addEventListener("timeupdate",r.handleTimeUpdate),r.ws.ads.addEventListener(Mct,r.handleAdEvent),r):Cct(r)}Rt(n,t);var i=n.prototype;return i.createEl=function(){var t=vst.createEl("div",{className:Pct});return this.notificationText=vst.createEl("div",{className:Pct+"text"}),t.appendChild(this.notificationText),t},i.Ql=function(){if(this.ws.ads){for(var t,n=this.ws.ads.scheduledAdBreaks,i=1/0,r=0;r<n.length;r++){var e=n[r],u=e.timeOffset;-1!==u&&u<i&&(i=u,t=e)}this.currentAdBreak=t,this.currentAdBreakValid=void 0!==t&&void 0!==t.ads&&t.ads.some((function(t){return"linear"===t.type}))}},i.Yl=function(){if(this.ws.ads&&!this.ws.ads.playing&&this.currentAdBreak&&this.currentAdBreakValid&&0!==this.currentAdBreak.timeOffset){var t=this.ws.currentTime;if(this.currentAdBreak.timeOffset>t+10)this.Kl();else{var n=A.ceil(this.currentAdBreak.timeOffset-t);n<0?this.Kl():this.Zl(n)}}else this.Kl()},i.Zl=function(t){this.td!==t&&(CP(this.notificationText,"Your video will be temporarily interrupted in 0:"+(t<10?"0"+t:t)),this.td=t,this.show())},i.Kl=function(){this.td=NaN,this.hide()},i.dispose=function(){var n;this.ws.removeEventListener("timeupdate",this.handleTimeUpdate),null==(n=this.ws.ads)||n.removeEventListener(Mct,this.handleAdEvent),this.currentAdBreak=void 0,t.prototype.dispose.call(this)},n}(bst(Gst));vst.registerComponent("upcomingAdNotificationText",Bct),U(),St(),U(),St(),Dt(),Ct();var Oct=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).ed=function(){r.te(r.player().currentTime(),r.el())},r.on(n,"timeupdate",r.ed),r}Rt(n,t);var i=n.prototype;return i.createEl=function(){var t=v.createElement("div");return t.className="theoplayer-ad-overlay-component theo-ad-remaining-container",t},i.te=function(t,n){if(this.sd&&this.sd.endTime){var i=A.max(this.sd.endTime-t,0);CP(n,"Content will resume in "+A.ceil(i)+"s"),this.show()}else this.hide()},xt(n,[{key:"sd",get:function(){return this.h.adBreakProvider()}}]),n}(vst.getComponent("Component"));vst.registerComponent("UplynkAdBreakBar",Oct),U(),St(),Dt(),Ct();var Lct=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).ed=function(){r.te(r.el(),r.nd)},r.on(n,"timeupdate",r.ed),r}Rt(n,t);var i=n.prototype;return i.createEl=function(){var t=v.createElement("div");return t.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",this.nd=v.createElement("span"),t.appendChild(this.nd),this.te(t,this.nd),t},i.handleClick=function(){this.h.skipCallback()},i.te=function(t,n){this.rd<=dw.ad.od?(mi(t,"theoplayer-ad-skip-countdown"),gi(t,"theoplayer-ad-skip-button"),CP(n,"Skip ads")):CP(n,"Skip ads in "+A.ceil(this.rd)+"s")},xt(n,[{key:"rd",get:function(){return this.h.adBreak.startTime+this.h.adBreak.skipOffset-this.player().currentTime()}}]),n}(vst.getComponent("ClickableComponent"));vst.registerComponent("UplynkAdSkipButton",Lct),U(),St(),Ct(),U(),St(),Ct();var Fct=function(t){function n(n,i){return t.call(this,n,i)||this}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-uplynk-marker-bar"},i.createEl=function(t,n,i){var r=v.createElement("div");return r.className=this.buildCSSClass(),r},n}(vst.getComponent("Component")),Vct=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" theo-uplynk-marker-bar-adbreak"},n}(Fct);vst.registerComponent("UplynkAdBreakMarkerBar",Vct),U(),St(),Ct(),U(),St(),Dt(),Ct();var Uct=function(t){function n(n,i){return t.call(this,n,i)||this}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-uplynk-marker"},i.createEl=function(t,n,i){var r=v.createElement("div");r.className=this.buildCSSClass();var e=this.seekable.start(0),u=this.seekable.end(this.seekable.length-1),s=A.max(this.startTime-e,0),o=void 0!==this.endTime?A.max(u-this.endTime,0):0,a=u-e;return r.style.left=s/a*100+"%",r.style.right=o/a*100+"%",r},xt(n,[{key:"startTime",get:function(){return this.h.startTime}},{key:"endTime",get:function(){return this.h.endTime}},{key:"seekable",get:function(){return this.player().seekable()}}]),n}(vst.getComponent("Component")),Wct=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" theo-uplynk-marker-adbreak"},n}(Uct);vst.registerComponent("UplynkAdBreakMarker",Wct),U(),St(),Ct();var jct=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" theo-uplynk-marker-bar-asset"},n}(Fct);vst.registerComponent("UplynkAssetMarkerBar",jct),U(),St(),Ct();var Zct=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" theo-uplynk-marker-asset"},n}(Uct);vst.registerComponent("UplynkAssetMarker",Zct),U(),St(),Ct();var Xct=function(t){function n(n,i){return t.call(this,n,i)||this}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){var t="theo-uplynk-content-notification-bar";return t+(Gn.su||Gn.ud?" "+t+"-ios":"")},i.createEl=function(t,n,i){var r=v.createElement("div");return r.className=this.buildCSSClass(),r},n}(vst.getComponent("Component"));vst.registerComponent("UplynkContentNotificationBar",Xct),U(),St(),Dt(),Ct();var Gct=vst.getComponent("Component"),Hct=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).yo(),r.on(n,"timeupdate",r.pd),r.hide(),r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-uplynk-content-notification"},i.createEl=function(t,n,i){var r=v.createElement("div");return r.className=this.buildCSSClass(),r},i.yo=function(){var t=v.createElement("img");t.src=this.ld.posterUrl,t.className=this.buildCSSClass()+"-thumbnail",this.el().appendChild(t);var n=v.createElement("div");n.className=this.buildCSSClass()+"-description";var i=function(t){return"Next: "+t}(this.ld.description);CP(n,i),this.el().appendChild(n),this.dd=v.createElement("div"),this.dd.className=this.buildCSSClass()+"-countdown",CP(this.dd,this.fd),this.el().appendChild(this.dd)},i.pd=function(){var t=this.vd;t>10||t<=0?this.hide():(CP(this.dd,this.fd),this.show())},xt(n,[{key:"ld",get:function(){return this.h.asset}},{key:"fd",get:function(){var t=A.min(10,this.vd);return"Starting in "+A.ceil(t)+" seconds"}},{key:"vd",get:function(){return A.max(0,this.ld.startTime-this.player().currentTime())}}]),n}(Gct);function zct(t,n){var i=t.uplynk;return Boolean(t&&void 0===i)||Boolean(t&&i&&void 0===i.ui)||Boolean(t&&i&&i.ui&&void 0===i.ui[n])||Boolean(t&&i&&i.ui&&!0===i.ui[n])}return vst.registerComponent("UplynkContentNotification",Hct),U(),St(),Dt(),Ct(),ftt((function(t){return function(t){function n(n,i,r){var e;(e=t.call(this,n,i,r)||this).gd=!1,e.Sd=function(){e.gd=!0,isFinite(e.jd())||e.wa.addEventListener("timeupdate",e.yd),e.yd(),e.bd(),e.wd()},e._d=function(t){t.adBreak.addEventListener("adbreakbegin",e.Td),t.adBreak.addEventListener("adbreakend",e.Md),e.yd()},e.xd=function(t){t.adBreak.removeEventListener("adbreakbegin",e.Td),t.adBreak.removeEventListener("adbreakend",e.Md),e.yd()},e.yd=function(){if(function(t){return zct(t,"adBreakMarkers")}(e.kd)&&e.gd){var t=e.wa.uplynk,n=null==t?void 0:t.ads.adBreaks.map((function(t){return{name:"UplynkAdBreakMarker",startTime:t.startTime,endTime:t.endTime}}));e.md.removeChild("UplynkAdBreakMarkerBar"),e.md.addChild("UplynkAdBreakMarkerBar",{children:n})}},e.Td=function(){if(function(t){return zct(t,"adNotification")}(e.kd)){var t=e.wa.uplynk,n=t.ads.currentAdBreak;e.lo.addChild("UplynkAdBreakBar",{adBreakProvider:e.Pd}),-1!==n.skipOffset&&e.lo.addChild("UplynkAdSkipButton",{adBreak:n,skipCallback:t.ads.skip})}},e.Pd=function(){return e.wa.uplynk.ads.currentAdBreak},e.Md=function(){e.lo.removeChild("UplynkAdBreakBar"),e.lo.removeChild("UplynkAdSkipButton")},e.Cd=function(){e.bd(),e.wd()};var u=e.wa.uplynk;return null==u||u.ads.adBreaks.addEventListener("addadbreak",e._d),null==u||u.ads.adBreaks.addEventListener("removeadbreak",e.xd),null==u||u.assets.addEventListener("addasset",e.Cd),null==u||u.assets.addEventListener("removeasset",e.Cd),e.wa.addEventListener("loadeddata",e.Sd),e}Rt(n,t);var i=n.prototype;return i.Ca=function(n){this.gd=!1,this.wa.removeEventListener("timeupdate",this.yd),this.lo.removeChild("UplynkAdBreakBar"),this.lo.removeChild("UplynkAdSkipButton"),this.md.removeChild("UplynkAdBreakMarkerBar"),this.md.removeChild("UplynkAssetMarkerBar"),this.lo.removeChild("UplynkContentNotificationBar"),t.prototype.Ca.call(this,n)},i.bd=function(){if(function(t){return zct(t,"assetMarkers")}(this.kd)&&this.gd){var t=this.wa.uplynk.assets.map((function(t){return{name:"UplynkAssetMarker",startTime:t.startTime,endTime:t.endTime}}));this.md.removeChild("UplynkAssetMarkerBar"),this.md.addChild("UplynkAssetMarkerBar",{children:t})}},i.wd=function(){if(function(t){return zct(t,"contentNotification")}(this.kd)){var t=this.wa.uplynk.assets.map((function(t){return{name:"UplynkContentNotification",asset:t}}));this.lo.removeChild("UplynkContentNotificationBar"),this.lo.addChild("UplynkContentNotificationBar",{children:t})}},i.yn=function(){this.wa.removeEventListener("timeupdate",this.yd);var n=this.wa.uplynk;null==n||n.ads.adBreaks.removeEventListener("addadbreak",this._d),null==n||n.ads.adBreaks.removeEventListener("removeadbreak",this.xd),null==n||n.assets.removeEventListener("addasset",this.Cd),null==n||n.assets.removeEventListener("removeasset",this.Cd),this.wa.removeEventListener("loadeddata",this.Sd),t.prototype.yn.call(this)},xt(n,[{key:"md",get:function(){return this.lo.controlBar.progressControl.seekBar}}]),n}(t)})),h.exports}));
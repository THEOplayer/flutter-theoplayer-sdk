/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), promise-polyfill
 (MIT - Copyright (c) 2014 Taylor Hakes & Forbes Lindesay),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 9.2.0
 Created: 2025-04-24T12:23:58.424Z
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(t):"function"==typeof define&&define.amd?define([],(function(){return n(t)})):t.THEOplayer=n(t)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof s?s:"undefined"!=typeof global?global:this,(function(t){"use strict";var n,i,r,e,u,s,o,a,c,h={exports:{}},f=(h.exports,t.window),v=t.document,l=t.location,d=t.navigator,g=t.setTimeout,m=t.clearTimeout,w=t.setInterval,p=t.clearInterval,y=t.Error,_=t.TypeError,b=t.SyntaxError,k=t.Object,A=t.Math,T=t.parseInt,S=t.parseFloat,E=t.isNaN,I=t.Uint8Array,R=t.Worker,C=(t.WorkerGlobalScope,t.XMLHttpRequest),N=k.create,x=k.defineProperty,D=k.getOwnPropertyDescriptor,P=k.getOwnPropertyNames,M=k.getPrototypeOf,B=k.prototype.hasOwnProperty,O=function(t,n){return function(){return t&&(n=t(t=0)),n}},L=function(t,n){return function(){return n||t((n={exports:{}}).exports,n),n.exports}},F=function(t,n,i,r){if(n&&"object"==typeof n||"function"==typeof n)for(var e,u=P(n),s=0,o=u.length;s<o;s++)e=u[s],B.call(t,e)||e===i||x(t,e,{get:function(t){return n[t]}.bind(null,e),enumerable:!(r=D(n,e))||r.enumerable});return t},V=function(t,n,i){return i=null!=t?N(M(t)):{},F(!n&&t&&t.__esModule?i:x(i,"default",{value:t,enumerable:!0}),t)},U=O((function(){"function"==typeof Symbol&&Symbol.iterator?(n=Symbol,i=null!=(s=Symbol.for)?s:Symbol,r=Symbol.iterator,e=null!=(o=Symbol.dispose)?o:i("Symbol.dispose"),u=null!=(a=Symbol.asyncDispose)?a:i("Symbol.asyncDispose")):(c=0,n=function(t){return"ul"+t+"_"+ ++c},r=(i=function(t){return"ul"+t})("Symbol.iterator"),e=i("Symbol.dispose"),u=i("Symbol.asyncDispose"),n.for=i,n.iterator=r,n.dispose=e,n.asyncDispose=u)}));function W(t){return t&&void 0!==n&&t.constructor===n?"symbol":typeof t}var j,Z,X,G,H,z,Y,K,q,J,Q,tt,nt,it,rt,et,ut,st,ot,at,ct=O((function(){U(),St()}));function ht(t){var n=this.constructor;return this.then((function(i){return n.resolve(t()).then((function(){return i}))}),(function(i){return n.resolve(t()).then((function(){return n.reject(i)}))}))}function ft(t){return new this((function(n,i){if(!t||void 0===t.length)return i(new _((void 0===t?"undefined":W(t))+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,i){if(i&&("object"===(void 0===i?"undefined":W(i))||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(n){u(t,n)}),(function(i){r[t]={status:"rejected",reason:i},0==--e&&n(r)}))}r[t]={status:"fulfilled",value:i},0==--e&&n(r)}for(var s=0;s<r.length;s++)u(s,r[s])}))}function vt(t){return Boolean(t&&void 0!==t.length)}function lt(){}function dt(t){if(!(this instanceof dt))throw new _("Promises must be constructed via new");if("function"!=typeof t)throw new _("not a function");this.Ba=0,this.ttn=!1,this.MTt=void 0,this.ntn=[],_t(t,this)}function gt(t,n){for(;3===t.Ba;)t=t.MTt;0!==t.Ba?(t.ttn=!0,dt.itn((function(){var i=1===t.Ba?n.onFulfilled:n.onRejected;if(null!==i){var r;try{r=i(t.MTt)}catch(t){return void wt(n.promise,t)}mt(n.promise,r)}else(1===t.Ba?mt:wt)(n.promise,t.MTt)}))):t.ntn.push(n)}function mt(t,n){try{if(n===t)throw new _("A promise cannot be resolved with itself.");if(n&&("object"===(void 0===n?"undefined":W(n))||"function"==typeof n)){var i=n.then;if(n instanceof dt)return t.Ba=3,t.MTt=n,void pt(t);if("function"==typeof i)return void _t(function(t,n){return function(){t.apply(n,arguments)}}(i,n),t)}t.Ba=1,t.MTt=n,pt(t)}catch(n){wt(t,n)}}function wt(t,n){t.Ba=2,t.MTt=n,pt(t)}function pt(t){2===t.Ba&&0===t.ntn.length&&dt.itn((function(){t.ttn||dt.rtn(t.MTt)}));for(var n=0,i=t.ntn.length;n<i;n++)gt(t,t.ntn[n]);t.ntn=null}function yt(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function _t(t,n){var i=!1;try{t((function(t){i||(i=!0,mt(n,t))}),(function(t){i||(i=!0,wt(n,t))}))}catch(t){if(i)return;i=!0,wt(n,t)}}function bt(t){return new tt(Q,{reason:t,promise:Z.reject(t).catch((function(){})),cancelable:!0})}function kt(t){var n=new nt(Q,{detail:{reason:t},cancelable:!0});return k.defineProperty(n,"reason",{value:t}),n}function At(t){var n=v.createEvent("CustomEvent");return n.initCustomEvent(Q,!1,!0,{reason:t}),n}var Tt=O((function(){var t,n,i,r;U(),St(),ct(),j=g,dt.prototype.catch=function(t){return this.then(null,t)},dt.prototype.then=function(t,n){var i=new this.constructor(lt);return gt(this,new yt(t,n,i)),i},dt.prototype.finally=ht,dt.all=function(t){return new dt((function(n,i){if(!vt(t))return i(new _("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);var e=r.length;function u(t,s){try{if(s&&("object"===(void 0===s?"undefined":W(s))||"function"==typeof s)){var o=s.then;if("function"==typeof o)return void o.call(s,(function(n){u(t,n)}),i)}r[t]=s,0==--e&&n(r)}catch(t){i(t)}}for(var s=0;s<r.length;s++)u(s,r[s])}))},dt.allSettled=ft,dt.resolve=function(t){return t&&"object"===(void 0===t?"undefined":W(t))&&t.constructor===dt?t:new dt((function(n){n(t)}))},dt.reject=function(t){return new dt((function(n,i){i(t)}))},dt.race=function(t){return new dt((function(n,i){if(!vt(t))return i(new _("Promise.race accepts an array"));for(var r=0,e=t.length;r<e;r++)dt.resolve(t[r]).then(n,i)}))},dt.itn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){j(t,0)},dt.rtn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},Z=function(){var t=self.Promise;if(void 0!==t)try{if(-1!==t.toString().indexOf("[native code]"))return t}catch(t){}}(),X=d?d.userAgent:"",G=X.match(/Firefox\/([0-9]+)/i),H=null!=G,z=G?Number(G[1]):0,Y=X.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),K=null!=Y,q=Y?Number(Y[3]):0,J=function(){function t(t){this.Kb=0,this.Rd=0,this.Sp=[],this.etn=t}return t.prototype.utn=function(t){var n=this.length();this.stn(n+1);var i=this.Rd+n&this.etn-1;this.Sp[i]=t,this.Kb=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.etn<n)this.utn(t);else{var i=this.Rd+n-1,r=this.etn-1;this.Sp[i&r]=t,this.Kb=n}},t.prototype.shift=function(){var t=this.Rd,n=this.Sp[t];return this.Sp[t]=void 0,this.Rd=t+1&this.etn-1,this.Kb--,n},t.prototype.length=function(){return this.Kb},t.prototype.stn=function(t){this.etn<t&&this.otn(this.etn<<1)},t.prototype.otn=function(t){var n=this.etn;this.etn=t;var i=this.Rd+this.Kb&n-1;!function(t,n,i,r){for(var e=0;e<r;++e)t[e+i]=t[e+n],t[e+n]=void 0}(this.Sp,0,n,i)},t}(),Q="unhandledrejection",tt=self.PromiseRejectionEvent,nt=self.CustomEvent,it=function(t){return it=function(){try{var t=Z.resolve(),n="error",i=new tt(Q,{reason:n,promise:t});return Q===i.type&&n===i.reason}catch(t){}return!1}()?bt:function(){try{var t="error",n=new nt(Q,{detail:{reason:t}});return Q===n.type&&t===n.detail.reason}catch(t){}return!1}()?kt:At,it(t)},et=H&&z<60||K&&q<15,Z&&!et?(ut=Z,st=function(){}):(ut=dt,ot=null!==(rt=function(){var t=self.queueMicrotask;if("function"==typeof t)return function(n){return t(n)};var n=Z;if(n&&"function"==typeof n.resolve){var i=n.resolve();return function(t){return i.then(t)}}}())&&void 0!==rt?rt:dt.itn,t=ot,n=new J(16),i=!1,st=(at={u6:function(e){n.push(e),i||(i=!0,t(r))},aY:r=function(){for(;n.length()>0;)n.shift()();i=!1}}).aY,dt.itn=at.u6,dt.rtn=function(t){try{var n=it(t);if(!self.dispatchEvent(n)||n.defaultPrevented)return}catch(t){}g((function(){throw new y("Unhandled promise rejection: ".concat(t))}),0)})})),St=O((function(){Tt()}));function Et(t,n){return(Et=k.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}var It=O((function(){U(),St()}));function Rt(t,n){if("function"!=typeof n&&null!==n)throw new _("Super expression must either be null or a function");t.prototype=k.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&Et(t,n)}var Ct=O((function(){U(),St(),It()}));function Nt(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),k.defineProperty(t,r.key,r)}}function xt(t,n,i){return n&&Nt(t.prototype,n),i&&Nt(t,i),t}var Dt=O((function(){U(),St()}));function Pt(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}var Mt=O((function(){U(),St()}));var Bt=O((function(){U(),St(),Mt()}));var Ot=O((function(){U(),St()}));var Lt=O((function(){U(),St()}));function Ft(t,n){if(t){if("string"==typeof t)return Pt(t,n);var i=k.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Pt(t,n):void 0}}var Vt=O((function(){U(),St(),Mt()}));function Ut(t){return function(t){if(Array.isArray(t))return Pt(t)}(t)||function(t){if(void 0!==n&&null!=t[r]||null!=t["@@iterator"])return Array.from(t)}(t)||Ft(t)||function(){throw new _("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Wt=O((function(){U(),St(),Bt(),Ot(),Lt(),Vt()}));function jt(t,n,i,r,e,u,s){try{var o=t[u](s),a=o.value}catch(t){return void i(t)}o.done?n(a):ut.resolve(a).then(r,e)}function Zt(t){return function(){var n=this,i=arguments;return new ut((function(r,e){var u=t.apply(n,i);function s(t){jt(u,r,e,s,o,"next",t)}function o(t){jt(u,r,e,s,o,"throw",t)}s(void 0)}))}}var Xt,Gt=O((function(){U(),St()}));function Ht(t,i){var e,u,s,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},a=k.create(("function"==typeof Iterator?Iterator:k).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof n&&(a[r]=function(){return this}),a;function c(n){return function(r){return function(n){if(e)throw new _("Generator is already executing.");for(;a&&(a=0,n[0]&&(o=0)),o;)try{if(e=1,u&&(s=2&n[0]?u.return:n[0]?u.throw||((s=u.return)&&s.call(u),0):u.next)&&!(s=s.call(u,n[1])).done)return s;switch(u=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return o.label++,{value:n[1],done:!1};case 5:o.label++,u=n[1],n=[0];continue;case 7:n=o.ops.pop(),o.trys.pop();continue;default:if(!(s=o.trys,(s=s.length>0&&s[s.length-1])||6!==n[0]&&2!==n[0])){o=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){o.label=n[1];break}if(6===n[0]&&o.label<s[1]){o.label=s[1],s=n;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(n);break}s[2]&&o.ops.pop(),o.trys.pop();continue}n=i.call(t,o)}catch(t){n=[6,t],u=0}finally{e=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,r])}}}function zt(t){var i="function"==typeof n&&r,e=i&&t[i],u=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&u>=t.length&&(t=void 0),{value:t&&t[u++],done:!t}}};throw new _(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yt(t,n,i){if(null!=n){if("object"!=typeof n&&"function"!=typeof n)throw new _("Object expected.");var r,s;if(i){if(!u)throw new _("Symbol.asyncDispose is not defined.");r=n[u]}if(void 0===r){if(!e)throw new _("Symbol.dispose is not defined.");r=n[e],i&&(s=r)}if("function"!=typeof r)throw new _("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(t){return ut.reject(t)}}),t.stack.push({value:n,dispose:r,async:i})}else i&&t.stack.push({async:!0});return n}function Kt(t){function n(n){t.error=t.hasError?new Xt(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}var i,r=0;return function e(){for(;i=t.stack.pop();)try{if(!i.async&&1===r)return r=0,t.stack.push(i),ut.resolve().then(e);if(i.dispose){var u=i.dispose.call(i.value);if(i.async)return r|=2,ut.resolve(u).then(e,(function(t){return n(t),e()}))}else r|=1}catch(t){n(t)}if(1===r)return t.hasError?ut.reject(t.error):ut.resolve();if(t.hasError)throw t.error}()}var qt=O((function(){U(),St(),Xt="function"==typeof SuppressedError?SuppressedError:function(t,n,i){var r=new y(i);return r.name="SuppressedError",r.error=t,r.suppressed=n,r}})),Jt=O((function(){U(),St(),qt()}));var Qt=O((function(){U(),St()}));var $t=O((function(){U(),St()}));var tn=O((function(){U(),St()}));function nn(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var e=null==t?null:void 0!==n&&t[r]||t["@@iterator"];if(null!=e){var u,s,o=[],a=!0,c=!1;try{for(e=e.call(t);!(a=(u=e.next()).done)&&(o.push(u.value),!i||o.length!==i);a=!0);}catch(t){c=!0,s=t}finally{try{a||null==e.return||e.return()}finally{if(c)throw s}}return o}}(t,i)||Ft(t,i)||function(){throw new _("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var rn=O((function(){U(),St(),Qt(),$t(),tn(),Vt()})),en=L((function(t,i){var e,u;U(),St(),ct(),e=t,u=function(t){var i="function"==typeof n&&"symbol"===W(r)?n:function(t){return"Symbol("+t+")"};function e(){}var u=Number.isNaN||function(t){return t!=t},s=e;function o(t){return"object"===(void 0===t?"undefined":W(t))&&null!==t||"function"==typeof t}function a(t){return t.slice()}function c(t,n,i,r,e){new I(t).set(new I(i,r,e),n)}function h(t){return!1!==function(t){return"number"==typeof t&&(!u(t)&&!(t<0))}(t)&&t!==1/0}function f(t,n,i){if("function"!=typeof t)throw new _("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function v(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new _(e+" is not a method");switch(i){case 0:return function(){return d(e,t,r)};case 1:return function(n){var i=[n].concat(r);return d(e,t,i)}}}return function(){return E(void 0)}}function l(t,n,i){var r=t[n];if(void 0!==r)return f(r,t,i)}function d(t,n,i){try{return E(f(t,n,i))}catch(t){return R(t)}}function g(t){if(t=Number(t),u(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function m(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new _("size property of a queuing strategy must be a function");return function(n){return t(n)}}var w=ut,p=ut.prototype.then,b=ut.resolve.bind(w),T=ut.reject.bind(w);function S(t){return new w(t)}function E(t){return b(t)}function R(t){return T(t)}function C(t,n,i){return p.call(t,n,i)}function N(t,n,i){C(C(t,n,i),void 0,s)}function x(t,n){N(t,n)}function D(t,n){N(t,void 0,n)}function P(t,n,i){return C(t,n,i)}function M(t){C(t,void 0,s)}var B=function(){function t(){this.hd=0,this.Ed=0,this.Rd={Id:[],Pd:void 0},this.Dd=this.Rd,this.hd=0,this.Ed=0}return k.defineProperty(t.prototype,"length",{get:function(){return this.Ed},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Dd,i=n;16383===n.Id.length&&(i={Id:[],Pd:void 0}),n.Id.push(t),i!==n&&(this.Dd=i,n.Pd=i),++this.Ed},t.prototype.shift=function(){var t=this.Rd,n=t,i=this.hd,r=i+1,e=t.Id,u=e[i];return 16384===r&&(n=t.Pd,r=0),--this.Ed,this.hd=r,t!==n&&(this.Rd=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.hd,i=this.Rd,r=i.Id;!(n===r.length&&void 0===i.Pd||n===r.length&&(n=0,0===(r=(i=i.Pd).Id).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.Rd,n=this.hd;return t.Id[n]},t}();function O(t,n,i){var r=null;!0===i&&(r=k.prototype);var e=k.create(r);return e.value=t,e.done=n,e}function L(t,n){t.Nd=!0,t.Ld=n,n.Bd=t,"readable"===n.Ba?j(t):"closed"===n.Ba?function(t){j(t),G(t)}(t):Z(t,n.Od)}function F(t,n){return Jn(t.Ld,n)}function V(t){"readable"===t.Ld.Ba?X(t,new _("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Z(t,n)}(t,new _("Reader was released and can no longer be used to monitor the stream's closedness")),t.Ld.Bd=void 0,t.Ld=void 0}function U(t){return new _("Cannot "+t+" a stream using a released reader")}function j(t){t.Fd=S((function(n,i){t.Vd=n,t.Wd=i}))}function Z(t,n){j(t),X(t,n)}function X(t,n){M(t.Fd),t.Wd(n),t.Vd=void 0,t.Wd=void 0}function G(t){t.Vd(void 0),t.Vd=void 0,t.Wd=void 0}var H=i("[[CancelSteps]]"),z=i("[[PullSteps]]");function Y(t,n){void 0===n&&(n=!1);var i=new nt(t);return i.Nd=n,i}function K(t){return S((function(n,i){var r={Ud:n,Gd:i};t.Bd.Hd.push(r)}))}function q(t,n,i){var r=t.Bd;r.Hd.shift().Ud(O(n,i,r.Nd))}function J(t){return t.Bd.Hd.length}function Q(t){var n=t.Bd;return void 0!==n&&!!it(n)}var $,tt,nt=function(){function t(t){if(!1===Kn(t))throw new _("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===qn(t))throw new _("This stream has already been locked for exclusive reading by another reader");L(this,t),this.Hd=new B}return k.defineProperty(t.prototype,"closed",{get:function(){return it(this)?this.Fd:R(et("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return it(this)?void 0===this.Ld?R(U("cancel")):F(this,t):R(et("cancel"))},t.prototype.read=function(){return it(this)?void 0===this.Ld?R(U("read from")):rt(this):R(et("read"))},t.prototype.releaseLock=function(){if(!it(this))throw et("releaseLock");if(void 0!==this.Ld){if(this.Hd.length>0)throw new _("Tried to release a reader lock when that reader has pending read() calls un-settled");V(this)}},t}();function it(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Hd")}function rt(t){var n=t.Ld;return n.Zd=!0,"closed"===n.Ba?E(O(void 0,!0,t.Nd)):"errored"===n.Ba?R(n.Od):n.Xd[z]()}function et(t){return new _("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"===W(i.asyncIterator)&&(($={})[i.asyncIterator]=function(){return this},tt=$,k.defineProperty(tt,i.asyncIterator,{enumerable:!1}));var st={next:function(){if(!1===ot(this))return R(at("next"));var t=this.zd;return void 0===t.Ld?R(U("iterate")):P(rt(t),(function(n){var i=n.done;return i&&V(t),O(n.value,i,!0)}))},return:function(t){if(!1===ot(this))return R(at("next"));var n=this.zd;if(void 0===n.Ld)return R(U("finish iterating"));if(n.Hd.length>0)return R(new _("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.qd){var i=F(n,t);return V(n),P(i,(function(){return O(t,!0,!0)}))}return V(n),E(O(t,!0,!0))}};function ot(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"zd")}function at(t){return new _("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function ct(t){var n=t.Yd.shift();return t.Kd-=n.size,t.Kd<0&&(t.Kd=0),n.value}function ht(t,n,i){if(!h(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Yd.push({value:n,size:i}),t.Kd+=i}function ft(t){t.Yd=new B,t.Kd=0}void 0!==tt&&k.setPrototypeOf(st,tt),k.defineProperty(st,"next",{enumerable:!1}),k.defineProperty(st,"return",{enumerable:!1});var vt=i("[[AbortSteps]]"),lt=i("[[ErrorSteps]]"),dt=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),mt(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=m(i);void 0===r&&(r=1),function(t,n,i,r){var e=k.create(Mt.prototype);function u(){return l(n,"start",[e])}var s=v(n,"write",1,[e]),o=v(n,"close",0,[]),a=v(n,"abort",1,[]);Bt(t,e,u,s,o,a,i,r)}(this,t,r=g(r),e)}return k.defineProperty(t.prototype,"locked",{get:function(){if(!1===wt(this))throw jt("locked");return pt(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===wt(this)?R(jt("abort")):!0===pt(this)?R(new _("Cannot abort a stream that already has a writer")):yt(this,t)},t.prototype.close=function(){return!1===wt(this)?R(jt("close")):!0===pt(this)?R(new _("Cannot close a stream that already has a writer")):!0===Tt(this)?R(new _("Cannot close an already-closing stream")):_t(this)},t.prototype.getWriter=function(){if(!1===wt(this))throw jt("getWriter");return gt(this)},t}();function gt(t){return new It(t)}function mt(t){t.Ba="writable",t.Od=void 0,t.Qd=void 0,t.Jd=void 0,t.$d=new B,t.tf=void 0,t.ef=void 0,t.nf=void 0,t.rf=void 0,t.hf=!1}function wt(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Jd")}function pt(t){return void 0!==t.Qd}function yt(t,n){var i=t.Ba;if("closed"===i||"errored"===i)return E(void 0);if(void 0!==t.rf)return t.rf.uf;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=S((function(i,e){t.rf={uf:void 0,Ud:i,Gd:e,cf:n,lf:r}}));return t.rf.uf=e,!1===r&&kt(t,n),e}function _t(t){var n=t.Ba;if("closed"===n||"errored"===n)return R(new _("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i=S((function(n,i){var r={Ud:n,Gd:i};t.ef=r})),r=t.Qd;return void 0!==r&&!0===t.hf&&"writable"===n&&$t(r),function(t){ht(t,"close",0),Ft(t)}(t.Jd),i}function bt(t,n){"writable"!==t.Ba?At(t):kt(t,n)}function kt(t,n){var i=t.Jd;t.Ba="erroring",t.Od=n;var r=t.Qd;void 0!==r&&xt(r,n),!1===function(t){return void 0!==t.tf||void 0!==t.nf}(t)&&!0===i.df&&At(t)}function At(t){t.Ba="errored",t.Jd[lt]();var n=t.Od;if(t.$d.forEach((function(t){t.Gd(n)})),t.$d=new B,void 0!==t.rf){var i=t.rf;if(t.rf=void 0,!0===i.lf)return i.Gd(n),void St(t);N(t.Jd[vt](i.cf),(function(){i.Ud(),St(t)}),(function(n){i.Gd(n),St(t)}))}else St(t)}function Tt(t){return void 0!==t.ef||void 0!==t.nf}function St(t){void 0!==t.ef&&(t.ef.Gd(t.Od),t.ef=void 0);var n=t.Qd;void 0!==n&&zt(n,t.Od)}function Et(t,n){var i=t.Qd;void 0!==i&&n!==t.hf&&(!0===n?function(t){Kt(t)}(i):$t(i)),t.hf=n}var It=function(){function t(t){if(!1===wt(t))throw new _("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===pt(t))throw new _("This stream has already been locked for exclusive writing by another writer");this._f=t,t.Qd=this;var n=t.Ba;if("writable"===n)!1===Tt(t)&&!0===t.hf?Kt(this):Jt(this),Gt(this);else if("erroring"===n)qt(this,t.Od),Gt(this);else if("closed"===n)Jt(this),function(t){Gt(t),Yt(t)}(this);else{var i=t.Od;qt(this,i),Ht(this,i)}}return k.defineProperty(t.prototype,"closed",{get:function(){return!1===Rt(this)?R(Zt("closed")):this.Fd},enumerable:!0,configurable:!0}),k.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Rt(this))throw Zt("desiredSize");if(void 0===this._f)throw Xt("desiredSize");return function(t){var n=t._f,i=n.Ba;return"errored"===i||"erroring"===i?null:"closed"===i?0:Lt(n.Jd)}(this)},enumerable:!0,configurable:!0}),k.defineProperty(t.prototype,"ready",{get:function(){return!1===Rt(this)?R(Zt("ready")):this.vf},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Rt(this)?R(Zt("abort")):void 0===this._f?R(Xt("abort")):function(t,n){var i=t._f;return yt(i,n)}(this,t)},t.prototype.close=function(){if(!1===Rt(this))return R(Zt("close"));var t=this._f;return void 0===t?R(Xt("close")):!0===Tt(t)?R(new _("Cannot close an already-closing stream")):Ct(this)},t.prototype.releaseLock=function(){if(!1===Rt(this))throw Zt("releaseLock");void 0!==this._f&&Dt(this)},t.prototype.write=function(t){return!1===Rt(this)?R(Zt("write")):void 0===this._f?R(Xt("write to")):Pt(this,t)},t}();function Rt(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"_f")}function Ct(t){return _t(t._f)}function Nt(t,n){"pending"===t.mf?zt(t,n):function(t,n){Ht(t,n)}(t,n)}function xt(t,n){"pending"===t.gf?Qt(t,n):function(t,n){qt(t,n)}(t,n)}function Dt(t){var n=t._f,i=new _("Writer was released and can no longer be used to monitor the stream's closedness");xt(t,i),Nt(t,i),n.Qd=void 0,t._f=void 0}function Pt(t,n){var i=t._f,r=i.Jd,e=function(t,n){try{return t.pf(n)}catch(n){return Vt(t,n),1}}(r,n);if(i!==t._f)return R(Xt("write to"));var u=i.Ba;if("errored"===u)return R(i.Od);if(!0===Tt(i)||"closed"===u)return R(new _("The stream is closing or closed and cannot be written to"));if("erroring"===u)return R(i.Od);var s=function(t){return S((function(n,i){var r={Ud:n,Gd:i};t.$d.push(r)}))}(i);return function(t,n,i){var r={chunk:n};try{ht(t,r,i)}catch(n){return void Vt(t,n)}var e=t.wf;!1===Tt(e)&&"writable"===e.Ba&&Et(e,Ut(t)),Ft(t)}(r,n,e),s}var Mt=function(){function t(){throw new _("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"wf")}(this))throw new _("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.wf.Ba&&Wt(this,t)},t.prototype[vt]=function(t){var n=this.yf(t);return Ot(this),n},t.prototype[lt]=function(){ft(this)},t}();function Bt(t,n,i,r,e,u,s,o){n.wf=t,t.Jd=n,n.Yd=void 0,n.Kd=void 0,ft(n),n.df=!1,n.pf=o,n.bf=s,n.Af=r,n.Sf=e,n.yf=u;var a=Ut(n);Et(t,a),N(E(i()),(function(){n.df=!0,Ft(n)}),(function(i){n.df=!0,bt(t,i)}))}function Ot(t){t.Af=void 0,t.Sf=void 0,t.yf=void 0,t.pf=void 0}function Lt(t){return t.bf-t.Kd}function Ft(t){var n=t.wf;if(!1!==t.df&&void 0===n.tf)if("erroring"!==n.Ba){if(0!==t.Yd.length){var i=function(t){return t.Yd.peek().value}(t);"close"===i?function(t){var n=t.wf;(function(t){t.nf=t.ef,t.ef=void 0})(n),ct(t);var i=t.Sf();Ot(t),N(i,(function(){!function(t){t.nf.Ud(void 0),t.nf=void 0,"erroring"===t.Ba&&(t.Od=void 0,void 0!==t.rf&&(t.rf.Ud(),t.rf=void 0)),t.Ba="closed";var n=t.Qd;void 0!==n&&Yt(n)}(n)}),(function(t){!function(t,n){t.nf.Gd(n),t.nf=void 0,void 0!==t.rf&&(t.rf.Gd(n),t.rf=void 0),bt(t,n)}(n,t)}))}(t):function(t,n){var i=t.wf;!function(t){t.tf=t.$d.shift()}(i);var r=t.Af(n);N(r,(function(){!function(t){t.tf.Ud(void 0),t.tf=void 0}(i);var n=i.Ba;if(ct(t),!1===Tt(i)&&"writable"===n){var r=Ut(t);Et(i,r)}Ft(t)}),(function(n){"writable"===i.Ba&&Ot(t),function(t,n){t.tf.Gd(n),t.tf=void 0,bt(t,n)}(i,n)}))}(t,i.chunk)}}else At(n)}function Vt(t,n){"writable"===t.wf.Ba&&Wt(t,n)}function Ut(t){return Lt(t)<=0}function Wt(t,n){var i=t.wf;Ot(t),kt(i,n)}function jt(t){return new _("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Zt(t){return new _("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Xt(t){return new _("Cannot "+t+" a stream using a released writer")}function Gt(t){t.Fd=S((function(n,i){t.Vd=n,t.Wd=i,t.mf="pending"}))}function Ht(t,n){Gt(t),zt(t,n)}function zt(t,n){M(t.Fd),t.Wd(n),t.Vd=void 0,t.Wd=void 0,t.mf="rejected"}function Yt(t){t.Vd(void 0),t.Vd=void 0,t.Wd=void 0,t.mf="resolved"}function Kt(t){t.vf=S((function(n,i){t.Tf=n,t.kf=i})),t.gf="pending"}function qt(t,n){Kt(t),Qt(t,n)}function Jt(t){Kt(t),$t(t)}function Qt(t,n){M(t.vf),t.kf(n),t.Tf=void 0,t.kf=void 0,t.gf="rejected"}function $t(t){t.Tf(void 0),t.Tf=void 0,t.kf=void 0,t.gf="fulfilled"}function tn(t){if("object"!==(void 0===t?"undefined":W(t))||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var nn,rn="undefined"!=typeof DOMException?DOMException:void 0,en=function(t){if("function"!=typeof t&&"object"!==(void 0===t?"undefined":W(t)))return!1;try{return new t,!0}catch(t){return!1}}(rn)?rn:((nn=function(t,n){this.message=t||"",this.name=n||"Error",y.captureStackTrace&&y.captureStackTrace(this,this.constructor)}).prototype=k.create(y.prototype),k.defineProperty(nn.prototype,"constructor",{value:nn,writable:!0,configurable:!0}),nn);function un(t,n,i,r,u,s){var o=Y(t),a=gt(n);t.Zd=!0;var c=!1,h=E(void 0);return S((function(f,v){var l,d,g,m;if(void 0!==s){if(l=function(){var i=new en("Aborted","AbortError"),e=[];!1===r&&e.push((function(){return"writable"===n.Ba?yt(n,i):E(void 0)})),!1===u&&e.push((function(){return"readable"===t.Ba?Jn(t,i):E(void 0)})),b((function(){return ut.all(e.map((function(t){return t()})))}),!0,i)},!0===s.aborted)return void l();s.addEventListener("abort",l)}if(y(t,o.Fd,(function(t){!1===r?b((function(){return yt(n,t)}),!0,t):k(!0,t)})),y(n,a.Fd,(function(n){!1===u?b((function(){return Jn(t,n)}),!0,n):k(!0,n)})),d=t,g=o.Fd,m=function(){!1===i?b((function(){return function(t){var n=t._f,i=n.Ba;return!0===Tt(n)||"closed"===i?E(void 0):"errored"===i?R(n.Od):Ct(t)}(a)})):k()},"closed"===d.Ba?m():x(g,m),!0===Tt(n)||"closed"===n.Ba){var w=new _("the destination writable stream closed before all data could be piped to it");!1===u?b((function(){return Jn(t,w)}),!0,w):k(!0,w)}function p(){var t=h;return C(h,(function(){return t!==h?p():void 0}))}function y(t,n,i){"errored"===t.Ba?i(t.Od):D(n,i)}function b(t,i,r){function e(){N(t(),(function(){return A(i,r)}),(function(t){return A(!0,t)}))}!0!==c&&(c=!0,"writable"===n.Ba&&!1===Tt(n)?x(p(),e):e())}function k(t,i){!0!==c&&(c=!0,"writable"===n.Ba&&!1===Tt(n)?x(p(),(function(){return A(t,i)})):A(t,i))}function A(t,n){Dt(a),V(o),void 0!==s&&s.removeEventListener("abort",l),t?v(n):f(void 0)}M(S((function(t,n){!function i(r){r?t():C(!0===c?E(!0):C(a.vf,(function(){return C(rt(o),(function(t){return!0===t.done||(h=C(Pt(a,t.value),void 0,e),!1)}))})),i,n)}(!1)})))}))}var sn=function(){function t(){throw new _}return k.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===on(this))throw wn("desiredSize");return dn(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===on(this))throw wn("close");if(!1===gn(this))throw new _("The stream is not in a state that permits close");fn(this)},t.prototype.enqueue=function(t){if(!1===on(this))throw wn("enqueue");if(!1===gn(this))throw new _("The stream is not in a state that permits enqueue");return vn(this,t)},t.prototype.error=function(t){if(!1===on(this))throw wn("error");ln(this,t)},t.prototype[H]=function(t){ft(this);var n=this.Ef(t);return hn(this),n},t.prototype[z]=function(){var t=this.xf;if(this.Yd.length>0){var n=ct(this);return!0===this.Rf&&0===this.Yd.length?(hn(this),Qn(t)):an(this),E(O(n,!1,t.Bd.Nd))}var i=K(t);return an(this),i},t}();function on(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"xf")}function an(t){!1!==cn(t)&&(!0!==t.If?(t.If=!0,N(t.Cf(),(function(){t.If=!1,!0===t.Pf&&(t.Pf=!1,an(t))}),(function(n){ln(t,n)}))):t.Pf=!0)}function cn(t){var n=t.xf;return!1!==gn(t)&&!1!==t.df&&(!0===qn(n)&&J(n)>0||dn(t)>0)}function hn(t){t.Cf=void 0,t.Ef=void 0,t.pf=void 0}function fn(t){var n=t.xf;t.Rf=!0,0===t.Yd.length&&(hn(t),Qn(n))}function vn(t,n){var i=t.xf;if(!0===qn(i)&&J(i)>0)q(i,n,!1);else{var r=void 0;try{r=t.pf(n)}catch(n){throw ln(t,n),n}try{ht(t,n,r)}catch(n){throw ln(t,n),n}}an(t)}function ln(t,n){var i=t.xf;"readable"===i.Ba&&(ft(t),hn(t),$n(i,n))}function dn(t){var n=t.xf.Ba;return"errored"===n?null:"closed"===n?0:t.bf-t.Kd}function gn(t){var n=t.xf.Ba;return!1===t.Rf&&"readable"===n}function mn(t,n,i,r,e,u,s){n.xf=t,n.Yd=void 0,n.Kd=void 0,ft(n),n.df=!1,n.Rf=!1,n.Pf=!1,n.If=!1,n.pf=s,n.bf=u,n.Cf=r,n.Ef=e,t.Xd=n,N(E(i()),(function(){n.df=!0,an(n)}),(function(t){ln(n,t)}))}function wn(t){return new _("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var pn=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&A.floor(t)===t},yn=function(){function t(){throw new _("ReadableStreamBYOBRequest cannot be used directly")}return k.defineProperty(t.prototype,"view",{get:function(){if(!1===kn(this))throw Fn("view");return this.Df},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===kn(this))throw Fn("respond");if(void 0===this.Nf)throw new _("This BYOB request has been invalidated");this.Df.buffer,function(t,n){if(!1===h(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Dn(t,n)}(this.Nf,t)},t.prototype.respondWithNewView=function(t){if(!1===kn(this))throw Fn("respond");if(void 0===this.Nf)throw new _("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new _("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Mf.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Dn(t,n.byteLength)}(this.Nf,t)},t}(),_n=function(){function t(){throw new _("ReadableByteStreamController constructor cannot be used directly")}return k.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===bn(this))throw Vn("byobRequest");if(void 0===this.Lf&&this.Mf.length>0){var t=this.Mf.peek(),n=new I(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=k.create(yn.prototype);!function(t,n,i){t.Nf=n,t.Df=i}(i,this,n),this.Lf=i}return this.Lf},enumerable:!0,configurable:!0}),k.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===bn(this))throw Vn("desiredSize");return On(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===bn(this))throw Vn("close");if(!0===this.Rf)throw new _("The stream has already been closed; do not close it again!");var t=this.Bf.Ba;if("readable"!==t)throw new _("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Bf;if(t.Kd>0)t.Rf=!0;else{if(t.Mf.length>0&&t.Mf.peek().bytesFilled>0){var i=new _("Insufficient bytes to fill elements in the given buffer");throw Bn(t,i),i}Mn(t),Qn(n)}}(this)},t.prototype.enqueue=function(t){if(!1===bn(this))throw Vn("enqueue");if(!0===this.Rf)throw new _("stream is closed or draining");var n=this.Bf.Ba;if("readable"!==n)throw new _("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new _("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Bf,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=r;!0===Q(i)?0===J(i)?En(t,s,e,u):q(i,new I(s,e,u),!1):!0===jn(i)?(En(t,s,e,u),xn(t)):En(t,s,e,u),An(t)}(this,t)},t.prototype.error=function(t){if(!1===bn(this))throw Vn("error");Bn(this,t)},t.prototype[H]=function(t){this.Mf.length>0&&(this.Mf.peek().bytesFilled=0),ft(this);var n=this.Ef(t);return Mn(this),n},t.prototype[z]=function(){var t=this.Bf;if(this.Kd>0){var n=this.Yd.shift();this.Kd-=n.byteLength,Cn(this);var i=void 0;try{i=new I(n.buffer,n.byteOffset,n.byteLength)}catch(t){return R(t)}return E(O(i,!1,t.Bd.Nd))}var r=this.Of;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return R(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:I,readerType:"default"};this.Mf.push(u)}var s=K(t);return An(this),s},t}();function bn(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Bf")}function kn(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Nf")}function An(t){var n=function(t){var n=t.Bf;if("readable"!==n.Ba)return!1;if(!0===t.Rf)return!1;if(!1===t.df)return!1;if(!0===Q(n)&&J(n)>0)return!0;if(!0===jn(n)&&Wn(n)>0)return!0;var i=On(t);return i>0}(t);!1!==n&&(!0!==t.If?(t.If=!0,N(t.Cf(),(function(){t.If=!1,!0===t.Pf&&(t.Pf=!1,An(t))}),(function(n){Bn(t,n)}))):t.Pf=!0)}function Tn(t,n){var i=!1;"closed"===t.Ba&&(i=!0);var r=Sn(n);"default"===n.readerType?q(t,r,i):function(t,n,i){var r=t.Bd,e=r.Ff.shift();e.Ud(O(n,i,r.Nd))}(t,r,i)}function Sn(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function En(t,n,i,r){t.Yd.push({buffer:n,byteOffset:i,byteLength:r}),t.Kd+=r}function In(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=A.min(t.Kd,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,a=!1;s>r&&(o=s-n.bytesFilled,a=!0);for(var h=t.Yd;o>0;){var f=h.peek(),v=A.min(o,f.byteLength),l=n.byteOffset+n.bytesFilled;c(n.buffer,l,f.buffer,f.byteOffset,v),f.byteLength===v?h.shift():(f.byteOffset+=v,f.byteLength-=v),t.Kd-=v,Rn(t,v,n),o-=v}return a}function Rn(t,n,i){Nn(t),i.bytesFilled+=n}function Cn(t){0===t.Kd&&!0===t.Rf?(Mn(t),Qn(t.Bf)):An(t)}function Nn(t){void 0!==t.Lf&&(t.Lf.Nf=void 0,t.Lf.Df=void 0,t.Lf=void 0)}function xn(t){for(;t.Mf.length>0;){if(0===t.Kd)return;var n=t.Mf.peek();!0===In(t,n)&&(Pn(t),Tn(t.Bf,n))}}function Dn(t,n){var i=t.Mf.peek();if("closed"===t.Bf.Ba){if(0!==n)throw new _("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=n.buffer;var i=t.Bf;if(!0===jn(i))for(;Wn(i)>0;)Tn(i,Pn(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Rn(t,n,i),!(i.bytesFilled<i.elementSize)){Pn(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);En(t,u,0,u.byteLength)}i.buffer=i.buffer,i.bytesFilled-=r,Tn(t.Bf,i),xn(t)}}(t,n,i);An(t)}function Pn(t){var n=t.Mf.shift();return Nn(t),n}function Mn(t){t.Cf=void 0,t.Ef=void 0}function Bn(t,n){var i=t.Bf;"readable"===i.Ba&&(function(t){Nn(t),t.Mf=new B}(t),ft(t),Mn(t),$n(i,n))}function On(t){var n=t.Bf.Ba;return"errored"===n?null:"closed"===n?0:t.bf-t.Kd}function Ln(t,n,i){var r=k.create(_n.prototype),e=v(n,"pull",0,[r]),u=v(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===pn(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.Bf=t,n.Pf=!1,n.If=!1,n.Lf=void 0,n.Yd=n.Kd=void 0,ft(n),n.Rf=!1,n.df=!1,n.bf=g(u),n.Cf=r,n.Ef=e,n.Of=s,n.Mf=new B,t.Xd=n,N(E(i()),(function(){n.df=!0,An(n)}),(function(t){Bn(n,t)}))}(t,r,(function(){return l(n,"start",[r])}),e,u,i,s)}function Fn(t){return new _("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Vn(t){return new _("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Un(t){return S((function(n,i){var r={Ud:n,Gd:i};t.Bd.Ff.push(r)}))}function Wn(t){return t.Bd.Ff.length}function jn(t){var n=t.Bd;return void 0!==n&&!!Xn(n)}var Zn=function(){function t(t){if(!Kn(t))throw new _("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===bn(t.Xd))throw new _("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(qn(t))throw new _("This stream has already been locked for exclusive reading by another reader");L(this,t),this.Ff=new B}return k.defineProperty(t.prototype,"closed",{get:function(){return Xn(this)?this.Fd:R(Gn("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Xn(this)?void 0===this.Ld?R(U("cancel")):F(this,t):R(Gn("cancel"))},t.prototype.read=function(t){return Xn(this)?void 0===this.Ld?R(U("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?R(new _("view must have non-zero byteLength")):function(t,n){var i=t.Ld;return i.Zd=!0,"errored"===i.Ba?R(i.Od):function(t,n){var i=t.Bf,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.Mf.length>0)return t.Mf.push(u),Un(i);if("closed"===i.Ba)return E(O(new e(u.buffer,u.byteOffset,0),!0,i.Bd.Nd));if(t.Kd>0){if(!0===In(t,u)){var s=Sn(u);return Cn(t),E(O(s,!1,i.Bd.Nd))}if(!0===t.Rf){var o=new _("Insufficient bytes to fill elements in the given buffer");return Bn(t,o),R(o)}}t.Mf.push(u);var a=Un(i);return An(t),a}(i.Xd,n)}(this,t)):R(new _("view must be an array buffer view")):R(Gn("read"))},t.prototype.releaseLock=function(){if(!Xn(this))throw Gn("releaseLock");if(void 0!==this.Ld){if(this.Ff.length>0)throw new _("Tried to release a reader lock when that reader has pending read() calls un-settled");V(this)}},t}();function Xn(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Ff")}function Gn(t){return new _("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Hn=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Yn(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Ln(this,t,r=g(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=m(i);void 0===r&&(r=1),function(t,n,i,r){var e=k.create(sn.prototype),u=v(n,"pull",0,[e]),s=v(n,"cancel",1,[]);mn(t,e,(function(){return l(n,"start",[e])}),u,s,i,r)}(this,t,r=g(r),u)}}return k.defineProperty(t.prototype,"locked",{get:function(){if(!1===Kn(this))throw ti("locked");return qn(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Kn(this)?R(ti("cancel")):!0===qn(this)?R(new _("Cannot cancel a stream that already has a reader")):Jn(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Kn(this))throw ti("getReader");if(void 0===n)return Y(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Zn(t);return i.Nd=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,a=e.signal;if(!1===Kn(this))throw ti("pipeThrough");if(!1===wt(i))throw new _("writable argument to pipeThrough must be a WritableStream");if(!1===Kn(r))throw new _("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==a&&!tn(a))throw new _("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===qn(this))throw new _("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===pt(i))throw new _("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return M(un(this,i,u,s,o,a)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===Kn(this)?R(ti("pipeTo")):!1===wt(t)?R(new _("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||tn(s)?!0===qn(this)?R(new _("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===pt(t)?R(new _("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):un(this,t,r,e,u,s):R(new _("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Kn(this))throw ti("tee");var t=function(t,n){var i,r,e,u,s,o=Y(t),c=!1,h=!1,f=!1,v=S((function(t){s=t}));function l(){return!0===c||(c=!0,M(P(rt(o),(function(t){if(c=!1,!0===t.done)return!1===h&&fn(e.Xd),void(!1===f&&fn(u.Xd));var n=t.value,i=n,r=n;!1===h&&vn(e.Xd,i),!1===f&&vn(u.Xd,r)})))),E(void 0)}function d(){}return e=zn(d,l,(function(n){if(h=!0,i=n,!0===f){var e=a([i,r]),u=Jn(t,e);s(u)}return v})),u=zn(d,l,(function(n){if(f=!0,r=n,!0===h){var e=a([i,r]),u=Jn(t,e);s(u)}return v})),D(o.Fd,(function(t){ln(e.Xd,t),ln(u.Xd,t)})),[e,u]}(this);return a(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Kn(this))throw ti("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Y(t),r=k.create(st);return r.zd=i,r.qd=Boolean(n),r}(this,i)},t}();function zn(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=k.create(Hn.prototype);return Yn(u),mn(u,k.create(sn.prototype),t,n,i,r,e),u}function Yn(t){t.Ba="readable",t.Bd=void 0,t.Od=void 0,t.Zd=!1}function Kn(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Xd")}function qn(t){return void 0!==t.Bd}function Jn(t,n){return t.Zd=!0,"closed"===t.Ba?E(void 0):"errored"===t.Ba?R(t.Od):(Qn(t),P(t.Xd[H](n),e))}function Qn(t){t.Ba="closed";var n=t.Bd;void 0!==n&&(it(n)&&(n.Hd.forEach((function(t){t.Ud(O(void 0,!0,n.Nd))})),n.Hd=new B),G(n))}function $n(t,n){t.Ba="errored",t.Od=n;var i=t.Bd;void 0!==i&&(it(i)?(i.Hd.forEach((function(t){t.Gd(n)})),i.Hd=new B):(i.Ff.forEach((function(t){t.Gd(n)})),i.Ff=new B),X(i,n))}function ti(t){return new _("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"===W(i.asyncIterator)&&k.defineProperty(Hn.prototype,i.asyncIterator,{value:Hn.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var ni=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(t){return t.byteLength},t}(),ii=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),ri=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=m(r);if(void 0===e&&(e=1),e=g(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=m(u);void 0===s&&(s=0),s=g(s),function(t,n,i,r,e,u){function s(){return n}function o(n){return function(t,n){var i=t.Vf;return!0===t.hf?P(t.Wf,(function(){var r=t.Uf;if("erroring"===r.Ba)throw r.Od;return vi(i,n)})):vi(i,n)}(t,n)}function a(n){return function(t,n){return ui(t,n),E(void 0)}(t,n)}function c(){return function(t){var n=t.Gf,i=t.Vf,r=i.Hf();return hi(i),P(r,(function(){if("errored"===n.Ba)throw n.Od;var t=n.Xd;!0===gn(t)&&fn(t)}),(function(i){throw ui(t,i),n.Od}))}(t)}function h(){return function(t){return oi(t,!1),t.Wf}(t)}function f(n){return si(t,n),E(void 0)}t.Uf=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=k.create(dt.prototype);return mt(s),Bt(s,k.create(Mt.prototype),t,n,i,r,e,u),s}(s,o,c,a,i,r),t.Gf=zn(s,h,f,e,u),t.hf=void 0,t.Wf=void 0,t.Zf=void 0,oi(t,!0),t.Vf=void 0}(this,S((function(t){a=t})),e,o,s,c),function(t,n){var i=k.create(ai.prototype),r=function(t){try{return fi(i,t),E(void 0)}catch(t){return R(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new _("transform is not a method");r=function(t){return d(e,n,[t,i])}}var u=v(n,"flush",0,[i]);!function(t,n,i,r){n.Xf=t,t.Vf=n,n.zf=i,n.Hf=r}(t,i,r,u)}(this,t);var h=l(t,"start",[this.Vf]);a(h)}return k.defineProperty(t.prototype,"readable",{get:function(){if(!1===ei(this))throw di("readable");return this.Gf},enumerable:!0,configurable:!0}),k.defineProperty(t.prototype,"writable",{get:function(){if(!1===ei(this))throw di("writable");return this.Uf},enumerable:!0,configurable:!0}),t}();function ei(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Vf")}function ui(t,n){ln(t.Gf.Xd,n),si(t,n)}function si(t,n){hi(t.Vf),Vt(t.Uf.Jd,n),!0===t.hf&&oi(t,!1)}function oi(t,n){void 0!==t.Wf&&t.Zf(),t.Wf=S((function(n){t.Zf=n})),t.hf=n}var ai=function(){function t(){throw new _("TransformStreamDefaultController instances cannot be created directly")}return k.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ci(this))throw li("desiredSize");return dn(this.Xf.Gf.Xd)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===ci(this))throw li("enqueue");fi(this,t)},t.prototype.error=function(t){if(!1===ci(this))throw li("error");!function(t,n){ui(t.Xf,n)}(this,t)},t.prototype.terminate=function(){if(!1===ci(this))throw li("terminate");!function(t){var n=t.Xf,i=n.Gf.Xd;!0===gn(i)&&fn(i);var r=new _("TransformStream terminated");si(n,r)}(this)},t}();function ci(t){return!!o(t)&&!!k.prototype.hasOwnProperty.call(t,"Xf")}function hi(t){t.zf=void 0,t.Hf=void 0}function fi(t,n){var i=t.Xf,r=i.Gf.Xd;if(!1===gn(r))throw new _("Readable side is not in a state that permits enqueue");try{vn(r,n)}catch(t){throw si(i,t),i.Gf.Od}var e=function(t){return!0!==cn(t)}(r);e!==i.hf&&oi(i,!0)}function vi(t,n){return P(t.zf(n),void 0,(function(n){throw ui(t.Xf,n),n}))}function li(t){return new _("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function di(t){return new _("TransformStream.prototype."+t+" can only be used on a TransformStream")}t.ByteLengthQueuingStrategy=ni,t.CountQueuingStrategy=ii,t.ReadableStream=Hn,t.TransformStream=ri,t.WritableStream=dt,k.defineProperty(t,"__esModule",{value:!0})},"object"===(void 0===t?"undefined":W(t))&&void 0!==i?u(t):"function"==typeof define&&define.amd?define(["exports"],u):u((e=e||self).WebStreamsPolyfill={})})),un=L((function(t){function n(){var t=en();return n=function(){return t},t}U(),St(),k.defineProperty(t,"__esModule",{value:!0}),function(t,n){for(var i in n)k.defineProperty(t,i,{enumerable:!0,get:n[i]})}(t,{ByteLengthQueuingStrategy:function(){return n().ByteLengthQueuingStrategy},CountQueuingStrategy:function(){return n().CountQueuingStrategy},ReadableStream:function(){return n().ReadableStream},TransformStream:function(){return n().TransformStream},WritableStream:function(){return n().WritableStream}})}));function sn(t,n,i){return n in t?k.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var on=O((function(){U(),St()})),an=O((function(){U(),St(),qt()}));function cn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(cn=function(){return!!t})()}var hn=O((function(){U(),St()}));function fn(t,n,i){return(fn=cn()?Reflect.construct:function(t,n,i){var r=[null];r.push.apply(r,n);var e=new(Function.bind.apply(t,r));return i&&Et(e,i.prototype),e}).apply(null,arguments)}var vn=O((function(){U(),St(),hn(),It()}));function ln(t){return(ln=k.setPrototypeOf?k.getPrototypeOf:function(t){return t.__proto__||k.getPrototypeOf(t)})(t)}var dn=O((function(){U(),St()}));var gn=O((function(){U(),St()}));function mn(t){var n="function"==typeof Map?new Map:void 0;return mn=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new _("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,i)}function i(){return fn(t,arguments,ln(this).constructor)}return i.prototype=k.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Et(i,t)},mn(t)}var wn,pn=O((function(){U(),St(),vn(),dn(),gn(),It()})),yn=L((function(t,e){var u,s;U(),St(),Gt(),vn(),Dt(),on(),Ct(),rn(),Wt(),ct(),pn(),Jt(),an(),u=t,s=function(t){var e,u=k.defineProperty,s=k.defineProperties,o=k.getOwnPropertyDescriptors,a=k.getOwnPropertySymbols,c=k.prototype.hasOwnProperty,h=k.prototype.propertyIsEnumerable,l=function(t,n,i){return n in t?u(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i},m=function(t,n){for(var i in n||(n={}))c.call(n,i)&&l(t,i,n[i]);if(a)for(var r=0,e=a(n);r<e.length;r++)i=e[r],h.call(n,i)&&l(t,i,n[i]);return t},b=function(t,n){return s(t,o(n))},C=function(t,n){var i={};for(var r in t)c.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&a)for(var e=0,u=a(t);e<u.length;e++)r=u[e],n.indexOf(r)<0&&h.call(t,r)&&(i[r]=t[r]);return i},N=("undefined"==typeof globalThis?"undefined":W(globalThis))<"u"?globalThis:(void 0===f?"undefined":W(f))<"u"?f:("undefined"==typeof global?"undefined":W(global))<"u"?global:("undefined"==typeof self?"undefined":W(self))<"u"?self:{};function x(t){return t&&t.__esModule&&k.prototype.hasOwnProperty.call(t,"default")?t.default:t}var D,P={exports:{}};D=P,function(t){var n,i={VERSION:"1.6.1"},r={},e=function(t,n){return function(){return n.apply(t,arguments)}},u=function(){var t,n,i=arguments,r=i[0];for(n=1;n<i.length;n++)for(t in i[n])!(t in r)&&i[n].hasOwnProperty(t)&&(r[t]=i[n][t]);return r},s=function(t,n){return{value:t,name:n}};i.TRACE=s(1,"TRACE"),i.DEBUG=s(2,"DEBUG"),i.INFO=s(3,"INFO"),i.TIME=s(4,"TIME"),i.WARN=s(5,"WARN"),i.ERROR=s(8,"ERROR"),i.OFF=s(99,"OFF");var o=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};o.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var n=this.context.filterLevel;return t.value>=n.value},trace:function(){this.invoke(i.TRACE,arguments)},debug:function(){this.invoke(i.DEBUG,arguments)},info:function(){this.invoke(i.INFO,arguments)},warn:function(){this.invoke(i.WARN,arguments)},error:function(){this.invoke(i.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(i.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(i.TIME,[t,"end"])},invoke:function(t,i){n&&this.enabledFor(t)&&n(i,u({level:t},this.context))}};var a,c=new o({filterLevel:i.OFF});(a=i).enabledFor=e(c,c.enabledFor),a.trace=e(c,c.trace),a.debug=e(c,c.debug),a.time=e(c,c.time),a.timeEnd=e(c,c.timeEnd),a.info=e(c,c.info),a.warn=e(c,c.warn),a.error=e(c,c.error),a.log=a.info,i.setHandler=function(t){n=t},i.setLevel=function(t){for(var n in c.setLevel(t),r)r.hasOwnProperty(n)&&r[n].setLevel(t)},i.getLevel=function(){return c.getLevel()},i.get=function(t){return r[t]||(r[t]=new o(u({name:t},c.context)))},i.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,n){n.name&&t.unshift("["+n.name+"]")};var n={},r=function(t,n){Function.prototype.apply.call(t,console,n)};return("undefined"==typeof console?"undefined":W(console))>"u"?function(){}:function(e,u){e=Array.prototype.slice.call(e);var s,o=console.log;u.level===i.TIME?(s=(u.name?"["+u.name+"] ":"")+e[0],"start"===e[1]?console.time?console.time(s):n[s]=(new Date).getTime():console.timeEnd?console.timeEnd(s):r(o,[s+": "+((new Date).getTime()-n[s])+"ms"])):(u.level===i.WARN&&console.warn?o=console.warn:u.level===i.ERROR&&console.error?o=console.error:u.level===i.INFO&&console.info?o=console.info:u.level===i.DEBUG&&console.debug?o=console.debug:u.level===i.TRACE&&console.trace&&(o=console.trace),t.formatter(e,u),r(o,e))}},i.useDefaults=function(t){i.setLevel(t&&t.defaultLevel||i.DEBUG),i.setHandler(i.createDefaultHandler(t))},i.setDefaults=i.useDefaults,D.exports?D.exports=i:(i.qf=t.Logger,i.noConflict=function(){return t.Logger=i.qf,i},t.Logger=i)}(N);var M=x(P.exports),B="0.3.2",O=(null==(e=null==f?void 0:f.navigator)?void 0:e.userAgent)||"No user agent available",L="",F="",V="",U="",j="",Z="",X="",G=0,H=[],z=function(t){L=""===L?t:L},Y=function(t){F=""===F?t:F},K=function(t){V=""===V?t:V},q=function(t){U=""===U?t:U},J=function(t){j=""===j?t:j},Q=function(t){G=0===G?t:G},tt=function(t){Z=t},nt=function(t){X=""===X?t:X},it=function(t){60===H.length&&H.shift(),H.push(t)},rt=function(t,n){var i;void 0===t&&(t=60),void 0===n&&(n="JSON"),i=!Number.isInteger(t)||t>60||t<=0?60:t;var r={client:"@millicast/millicast-sdk",version:B,timestamp:(new Date).toISOString(),userAgent:O,clusterId:X,accountId:L,streamName:F,subscriberId:V,connection:Z,stats:H.slice(-i),connectionDurationMs:(new Date).getTime()-G};return""!==j?r.feedId=j:""!==U&&(r.streamViewId=U),"CMCD"===n?function(t){function n(t,n){return{ts:A.round(n.timestamp)||"",ot:"audio"===t?"a":"v",bl:n.jitterBufferDelay||0,br:A.round(n.bitrateBitsPerSecond||0),pld:n.packetsLostDeltaPerSecond||0,j:n.jitter||0,mtp:n.packetRate||0,mid:n.mid||"",mimeType:n.mimeType||""}}return t.stats=t.stats.reduce((function(t,i){var r=0!==i.audio.inbounds.length?i.audio.inbounds.map((function(t){return n("audio",t)})):i.audio.outbounds.map((function(t){return n("audio",t)})),e=0!==i.video.inbounds.length?i.video.inbounds.map((function(t){return n("video",t)})):i.video.outbounds.map((function(t){return n("video",t)}));return t.concat(Ut(r).concat(Ut(e)))}),[]),t}(r):r};M.useDefaults({defaultLevel:M.TRACE});var et=["TRACE","DEBUG","INFO","WARN","ERROR"],st=function(t,n){t.unshift("[".concat(n.name||"Global","] ").concat((new Date).toISOString()," - ").concat(n.level.name," -"))},ot=function(t,n){return n?t.value>=lt[n].value:t.value>=vt.value},at=M.createDefaultHandler({formatter:st});M.setHandler((function(t,n){(function(t,n){t=(t=Array.prototype.slice.call(t)).map((function(t){return"object"==(void 0===t?"undefined":W(t))?JSON.stringify(t):t})),st(t,n),0!==ht?(ft.push(t.join(" ")),ft.length>=ht&&(ft=ft.slice(-ht))):ft=[]})(t,n),ot(n.level,n.name)&&at(t,n);for(var i=0;i<dt.length;i++){var r=dt[i],e=r.handler,u=r.level;n.level.value>=u.value&&e(t,n)}}));var ct,ht=1e4,ft=[],vt=M.OFF,lt={},dt=[],gt=b(m({},M),{enabledFor:ot,getHistory:function(){return ft},getHistoryMaxSize:function(){return ht},setHistoryMaxSize:function(t){ht=t},setLevel:function(t){for(var n in vt=t,lt)lt[n]=t},getLevel:function(){return vt},get:function(t){lt[t]||(lt[t]=vt);var n=M.get(t);return n.setLevel=function(n){lt[t]=n},n.getLevel=function(){return lt[t]},n},setHandler:function(t,n){dt.push({handler:t,level:n})},diagnose:function(t){var n;void 0===t&&(t={});var i={statsCount:60,historySize:1e3,minLogLevel:"TRACE",statsFormat:"JSON"};"number"==typeof t?(i.statsCount=t,n=i):n=m(m({},i),t);var r=n.statsCount,e=n.historySize,u=n.minLogLevel,s=n.statsFormat,o=rt(r,s),a=gt.getHistory();if(!Number.isInteger(e)||e<=0)throw new y("Invalid Argument Exception : historySize must be a positive integer.");if(!et.includes(u.toUpperCase()))throw new y('Invalid Argument Exception : the minLogLevel parameter only excepts "trace", "debug", "info", "warn", and "error" as arguments.');if(et.includes(u.toUpperCase())){var c=et.slice(et.indexOf(u.toUpperCase())),h=a.filter((function(t){return c.some((function(n){return t.includes(n)}))}));o.history=h.slice(-e)}return o},JSON:"JSON",CMCD:"CMCD",VERSION:B}),mt={exports:{}},wt="object"==("undefined"==typeof Reflect?"undefined":W(Reflect))?Reflect:null,pt=wt&&"function"==typeof wt.apply?wt.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};ct=wt&&"function"==typeof wt.ownKeys?wt.ownKeys:k.getOwnPropertySymbols?function(t){return k.getOwnPropertyNames(t).concat(k.getOwnPropertySymbols(t))}:function(t){return k.getOwnPropertyNames(t)};var yt=Number.isNaN||function(t){return t!=t};function _t(){_t.init.call(this)}mt.exports=_t,mt.exports.once=function(t,n){return new ut((function(i,r){function e(i){t.removeListener(n,u),r(i)}function u(){"function"==typeof t.removeListener&&t.removeListener("error",e),i([].slice.call(arguments))}Dt(t,n,u,{once:!0}),"error"!==n&&function(t,n,i){"function"==typeof t.on&&Dt(t,"error",n,i)}(t,e,{once:!0})}))},_t.EventEmitter=_t,_t.prototype.Yf=void 0,_t.prototype.Kf=0,_t.prototype.jf=void 0;var bt=10;function kt(t){if("function"!=typeof t)throw new _('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":W(t)))}function At(t){return void 0===t.jf?_t.defaultMaxListeners:t.jf}function Tt(t,n,i,r){var e,u,s;if(kt(i),void 0===(u=t.Yf)?(u=t.Yf=k.create(null),t.Kf=0):(void 0!==u.newListener&&(t.emit("newListener",n,i.listener?i.listener:i),u=t.Yf),s=u[n]),void 0===s)s=u[n]=i,++t.Kf;else if("function"==typeof s?s=u[n]=r?[i,s]:[s,i]:r?s.unshift(i):s.push(i),(e=At(t))>0&&s.length>e&&!s.warned){s.warned=!0;var o=new y("Possible EventEmitter memory leak detected. "+s.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=n,o.count=s.length,function(t){console&&console.warn&&console.warn(t)}(o)}return t}function St(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Et(t,n,i){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},e=St.bind(r);return e.listener=i,r.wrapFn=e,e}function It(t,n,i){var r=t.Yf;if(void 0===r)return[];var e=r[n];return void 0===e?[]:"function"==typeof e?i?[e.listener||e]:[e]:i?function(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}(e):Nt(e,e.length)}function Ct(t){var n=this.Yf;if(void 0!==n){var i=n[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function Nt(t,n){for(var i=new Array(n),r=0;r<n;++r)i[r]=t[r];return i}function Dt(t,n,i,r){if("function"==typeof t.on)r.once?t.once(n,i):t.on(n,i);else{if("function"!=typeof t.addEventListener)throw new _('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":W(t)));t.addEventListener(n,(function e(u){r.once&&t.removeEventListener(n,e),i(u)}))}}k.defineProperty(_t,"defaultMaxListeners",{enumerable:!0,get:function(){return bt},set:function(t){if("number"!=typeof t||t<0||yt(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");bt=t}}),_t.init=function(){(void 0===this.Yf||this.Yf===k.getPrototypeOf(this).Yf)&&(this.Yf=k.create(null),this.Kf=0),this.jf=this.jf||void 0},_t.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||yt(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.jf=t,this},_t.prototype.getMaxListeners=function(){return At(this)},_t.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var r="error"===t,e=this.Yf;if(void 0!==e)r=r&&void 0===e.error;else if(!r)return!1;if(r){var u;if(n.length>0&&(u=n[0]),u instanceof y)throw u;var s=new y("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var o=e[t];if(void 0===o)return!1;if("function"==typeof o)pt(o,this,n);else{var a=o.length,c=Nt(o,a);for(i=0;i<a;++i)pt(c[i],this,n)}return!0},_t.prototype.addListener=function(t,n){return Tt(this,t,n,!1)},_t.prototype.on=_t.prototype.addListener,_t.prototype.prependListener=function(t,n){return Tt(this,t,n,!0)},_t.prototype.once=function(t,n){return kt(n),this.on(t,Et(this,t,n)),this},_t.prototype.prependOnceListener=function(t,n){return kt(n),this.prependListener(t,Et(this,t,n)),this},_t.prototype.removeListener=function(t,n){var i,r,e,u,s;if(kt(n),void 0===(r=this.Yf))return this;if(void 0===(i=r[t]))return this;if(i===n||i.listener===n)0==--this.Kf?this.Yf=k.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,i.listener||n));else if("function"!=typeof i){for(e=-1,u=i.length-1;u>=0;u--)if(i[u]===n||i[u].listener===n){s=i[u].listener,e=u;break}if(e<0)return this;0===e?i.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(i,e),1===i.length&&(r[t]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||n)}return this},_t.prototype.off=_t.prototype.removeListener,_t.prototype.removeAllListeners=function(t){var n,i,r;if(void 0===(i=this.Yf))return this;if(void 0===i.removeListener)return 0===arguments.length?(this.Yf=k.create(null),this.Kf=0):void 0!==i[t]&&(0==--this.Kf?this.Yf=k.create(null):delete i[t]),this;if(0===arguments.length){var e,u=k.keys(i);for(r=0;r<u.length;++r)"removeListener"!==(e=u[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.Yf=k.create(null),this.Kf=0,this}if("function"==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},_t.prototype.listeners=function(t){return It(this,t,!0)},_t.prototype.rawListeners=function(t){return It(this,t,!1)},_t.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):Ct.call(t,n)},_t.prototype.listenerCount=Ct,_t.prototype.eventNames=function(){return this.Kf>0?ct(this.Yf):[]};var Pt=mt.exports,Mt=x(Pt),Bt={exports:{}};Bt.exports=Lt,Bt.exports.filter=function(t,n){var i=new Ot;return Lt(t,i,n),i};var Ot=Pt.EventEmitter;function Lt(t,n,i){Array.isArray(i)||(i=[i]);var r=[];return i.forEach((function(i){var e=function(){var t=[].slice.call(arguments);t.unshift(i),n.emit.apply(n,t)};r.push(e),t.on(i,e)})),function(){i.forEach((function(n,i){t.removeListener(n,r[i])}))}}var Ft=x(Bt.exports),Vt={exports:{}};!function(t,n){var i,r;self,t.exports=(i={7:function(t){var n,i=function(t){if("function"!=typeof t)throw new _('The "listener" argument must be of type Function. Received type '+(void 0===t?"undefined":W(t)))},r=function(t){return void 0===t.jf?d.defaultMaxListeners:t.jf},e=function(t,n,e,u){var s,o,a,c;if(i(e),void 0===(o=t.Yf)?(o=t.Yf=k.create(null),t.Kf=0):(void 0!==o.newListener&&(t.emit("newListener",n,e.listener?e.listener:e),o=t.Yf),a=o[n]),void 0===a)a=o[n]=e,++t.Kf;else if("function"==typeof a?a=o[n]=u?[e,a]:[a,e]:u?a.unshift(e):a.push(e),(s=r(t))>0&&a.length>s&&!a.warned){a.warned=!0;var h=new y("Possible EventEmitter memory leak detected. "+a.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=n,h.count=a.length,c=h,console&&console.warn&&console.warn(c)}return t},u=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)},s=function(t,n,i){var r={fired:!1,wrapFn:void 0,target:t,type:n,listener:i},e=u.bind(r);return e.listener=i,r.wrapFn=e,e},o=function(t,n,i){var r=t.Yf;if(void 0===r)return[];var e=r[n];return void 0===e?[]:"function"==typeof e?i?[e.listener||e]:[e]:i?function(t){for(var n=new Array(t.length),i=0;i<n.length;++i)n[i]=t[i].listener||t[i];return n}(e):c(e,e.length)},a=function(t){var n=this.Yf;if(void 0!==n){var i=n[t];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0},c=function(t,n){for(var i=new Array(n),r=0;r<n;++r)i[r]=t[r];return i},h=function(t,n,i,r){if("function"==typeof t.on)r.once?t.once(n,i):t.on(n,i);else{if("function"!=typeof t.addEventListener)throw new _('The "emitter" argument must be of type EventEmitter. Received type '+(void 0===t?"undefined":W(t)));t.addEventListener(n,(function e(u){r.once&&t.removeEventListener(n,e),i(u)}))}},f="object"==("undefined"==typeof Reflect?"undefined":W(Reflect))?Reflect:null,v=f&&"function"==typeof f.apply?f.apply:function(t,n,i){return Function.prototype.apply.call(t,n,i)};n=f&&"function"==typeof f.ownKeys?f.ownKeys:k.getOwnPropertySymbols?function(t){return k.getOwnPropertyNames(t).concat(k.getOwnPropertySymbols(t))}:function(t){return k.getOwnPropertyNames(t)};var l=Number.isNaN||function(t){return t!=t};function d(){d.init.call(this)}t.exports=d,t.exports.once=function(t,n){return new ut((function(i,r){function e(i){t.removeListener(n,u),r(i)}function u(){"function"==typeof t.removeListener&&t.removeListener("error",e),i([].slice.call(arguments))}var s,o;h(t,n,u,{once:!0}),"error"!==n&&(o=e,"function"==typeof(s=t).on&&h(s,"error",o,{once:!0}))}))},d.EventEmitter=d,d.prototype.Yf=void 0,d.prototype.Kf=0,d.prototype.jf=void 0;var g=10;k.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(t){if("number"!=typeof t||t<0||l(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");g=t}}),d.init=function(){void 0!==this.Yf&&this.Yf!==k.getPrototypeOf(this).Yf||(this.Yf=k.create(null),this.Kf=0),this.jf=this.jf||void 0},d.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||l(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this.jf=t,this},d.prototype.getMaxListeners=function(){return r(this)},d.prototype.emit=function(t){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var r="error"===t,e=this.Yf;if(void 0!==e)r=r&&void 0===e.error;else if(!r)return!1;if(r){var u;if(n.length>0&&(u=n[0]),u instanceof y)throw u;var s=new y("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var o=e[t];if(void 0===o)return!1;if("function"==typeof o)v(o,this,n);else{var a=o.length,h=c(o,a);for(i=0;i<a;++i)v(h[i],this,n)}return!0},d.prototype.addListener=function(t,n){return e(this,t,n,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(t,n){return e(this,t,n,!0)},d.prototype.once=function(t,n){return i(n),this.on(t,s(this,t,n)),this},d.prototype.prependOnceListener=function(t,n){return i(n),this.prependListener(t,s(this,t,n)),this},d.prototype.removeListener=function(t,n){var r,e,u,s,o;if(i(n),void 0===(e=this.Yf))return this;if(void 0===(r=e[t]))return this;if(r===n||r.listener===n)0==--this.Kf?this.Yf=k.create(null):(delete e[t],e.removeListener&&this.emit("removeListener",t,r.listener||n));else if("function"!=typeof r){for(u=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){o=r[s].listener,u=s;break}if(u<0)return this;0===u?r.shift():function(t,n){for(;n+1<t.length;n++)t[n]=t[n+1];t.pop()}(r,u),1===r.length&&(e[t]=r[0]),void 0!==e.removeListener&&this.emit("removeListener",t,o||n)}return this},d.prototype.off=d.prototype.removeListener,d.prototype.removeAllListeners=function(t){var n,i,r;if(void 0===(i=this.Yf))return this;if(void 0===i.removeListener)return 0===arguments.length?(this.Yf=k.create(null),this.Kf=0):void 0!==i[t]&&(0==--this.Kf?this.Yf=k.create(null):delete i[t]),this;if(0===arguments.length){var e,u=k.keys(i);for(r=0;r<u.length;++r)"removeListener"!==(e=u[r])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this.Yf=k.create(null),this.Kf=0,this}if("function"==typeof(n=i[t]))this.removeListener(t,n);else if(void 0!==n)for(r=n.length-1;r>=0;r--)this.removeListener(t,n[r]);return this},d.prototype.listeners=function(t){return o(this,t,!0)},d.prototype.rawListeners=function(t){return o(this,t,!1)},d.listenerCount=function(t,n){return"function"==typeof t.listenerCount?t.listenerCount(n):a.call(t,n)},d.prototype.listenerCount=a,d.prototype.eventNames=function(){return this.Kf>0?n(this.Yf):[]}},586:function(t,n,i){var r,e;!function(u){var s,o={VERSION:"1.6.1"},a={},c=function(t,n){return function(){return n.apply(t,arguments)}},h=function(){var t,n,i=arguments,r=i[0];for(n=1;n<i.length;n++)for(t in i[n])!(t in r)&&i[n].hasOwnProperty(t)&&(r[t]=i[n][t]);return r},f=function(t,n){return{value:t,name:n}};o.TRACE=f(1,"TRACE"),o.DEBUG=f(2,"DEBUG"),o.INFO=f(3,"INFO"),o.TIME=f(4,"TIME"),o.WARN=f(5,"WARN"),o.ERROR=f(8,"ERROR"),o.OFF=f(99,"OFF");var v=function(t){this.context=t,this.setLevel(t.filterLevel),this.log=this.info};v.prototype={setLevel:function(t){t&&"value"in t&&(this.context.filterLevel=t)},getLevel:function(){return this.context.filterLevel},enabledFor:function(t){var n=this.context.filterLevel;return t.value>=n.value},trace:function(){this.invoke(o.TRACE,arguments)},debug:function(){this.invoke(o.DEBUG,arguments)},info:function(){this.invoke(o.INFO,arguments)},warn:function(){this.invoke(o.WARN,arguments)},error:function(){this.invoke(o.ERROR,arguments)},time:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"start"])},timeEnd:function(t){"string"==typeof t&&t.length>0&&this.invoke(o.TIME,[t,"end"])},invoke:function(t,n){s&&this.enabledFor(t)&&s(n,h({level:t},this.context))}};var l,d=new v({filterLevel:o.OFF});(l=o).enabledFor=c(d,d.enabledFor),l.trace=c(d,d.trace),l.debug=c(d,d.debug),l.time=c(d,d.time),l.timeEnd=c(d,d.timeEnd),l.info=c(d,d.info),l.warn=c(d,d.warn),l.error=c(d,d.error),l.log=l.info,o.setHandler=function(t){s=t},o.setLevel=function(t){for(var n in d.setLevel(t),a)a.hasOwnProperty(n)&&a[n].setLevel(t)},o.getLevel=function(){return d.getLevel()},o.get=function(t){return a[t]||(a[t]=new v(h({name:t},d.context)))},o.createDefaultHandler=function(t){(t=t||{}).formatter=t.formatter||function(t,n){n.name&&t.unshift("["+n.name+"]")};var n={},i=function(t,n){Function.prototype.apply.call(t,console,n)};return("undefined"==typeof console?"undefined":W(console))>"u"?function(){}:function(r,e){r=Array.prototype.slice.call(r);var u,s=console.log;e.level===o.TIME?(u=(e.name?"["+e.name+"] ":"")+r[0],"start"===r[1]?console.time?console.time(u):n[u]=(new Date).getTime():console.timeEnd?console.timeEnd(u):i(s,[u+": "+((new Date).getTime()-n[u])+"ms"])):(e.level===o.WARN&&console.warn?s=console.warn:e.level===o.ERROR&&console.error?s=console.error:e.level===o.INFO&&console.info?s=console.info:e.level===o.DEBUG&&console.debug?s=console.debug:e.level===o.TRACE&&console.trace&&(s=console.trace),t.formatter(r,e),i(s,r))}},o.useDefaults=function(t){o.setLevel(t&&t.defaultLevel||o.DEBUG),o.setHandler(o.createDefaultHandler(t))},o.setDefaults=o.useDefaults,void 0===(e="function"==typeof(r=o)?r.call(n,i,n,t):r)||(t.exports=e)}()},156:function(t,n,i){var r=this&&this.Qf||(k.create?function(t,n,i,r){void 0===r&&(r=i);var e=k.getOwnPropertyDescriptor(n,i);e&&!("get"in e?!n.__esModule:e.writable||e.configurable)||(e={enumerable:!0,get:function(){return n[i]}}),k.defineProperty(t,r,e)}:function(t,n,i,r){void 0===r&&(r=i),t[r]=n[i]}),e=this&&this.Jf||function(t,n){for(var i in t)"default"===i||k.prototype.hasOwnProperty.call(n,i)||r(n,t,i)},u=this&&this.$f||function(t){return t&&t.__esModule?t:{default:t}};k.defineProperty(n,"__esModule",{value:!0}),n.Logger=void 0;var s=i(586);k.defineProperty(n,"Logger",{enumerable:!0,get:function(){return u(s).default}}),e(i(284),n),e(i(280),n),e(i(738),n),e(i(767),n)},738:function(t,n){var i,r;k.defineProperty(n,"__esModule",{value:!0}),n.QualityLimitationReason=void 0,(r=i||(n.QualityLimitationReason=i={}))[r.none=0]="none",r[r.cpu=1]="cpu",r[r.bandwidth=2]="bandwidth",r[r.other=3]="other"},280:function(t,n){k.defineProperty(n,"__esModule",{value:!0})},767:function(t,n){k.defineProperty(n,"__esModule",{value:!0})},185:function(t,n){k.defineProperty(n,"__esModule",{value:!0}),n.calculatePacketsLostRatio=n.calculateRate=n.getMediaKind=void 0,n.getMediaKind=function(t){var n=t.kind||t.mediaType;return["audio","video"].includes(n)||"inbound-rtp"!==t.type||(n=t.id.toLocaleLowerCase().includes("video")?"video":"audio"),n},n.calculateRate=function(t,n,i,r){return i&&r?(n-r)/((t-i)/1e3):0},n.calculatePacketsLostRatio=function(t,n,i,r){return 0==n?0:(t-(null!=i?i:0))/(n-(null!=r?r:0))}},284:function(t,n,i){var r,e,u,s,o,a,c,h,f,v,l,d,g,m,y,b,A=this&&this.t_||function(t,n,i,r){return new(i||(i=ut))((function(e,u){function s(t){try{a(r.next(t))}catch(t){u(t)}}function o(t){try{a(r.throw(t))}catch(t){u(t)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,o)}a((r=r.apply(t,n||[])).next())}))},T=this&&this.e_||function(t,n,i,r,e){if("m"===r)throw new _("Private method is not writable");if("a"===r&&!e)throw new _("Private accessor was defined without a setter");if("function"==typeof n?t!==n||!e:!n.has(t))throw new _("Cannot write private member to an object whose class did not declare it");return"a"===r?e.call(t,i):e?e.value=i:n.set(t,i),i},S=this&&this.i_||function(t,n,i,r){if("a"===i&&!r)throw new _("Private accessor was defined without a getter");if("function"==typeof n?t!==n||!r:!n.has(t))throw new _("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(t):r?r.value:n.get(t)},E=this&&this.$f||function(t){return t&&t.__esModule?t:{default:t}};k.defineProperty(n,"__esModule",{value:!0}),n.WebRTCStats=void 0;var I=i(7),R=E(i(586)),C=i(738),N=i(185),x=function(t){function n(n){var i;return i=t.call(this)||this,r.add(i),e.set(i,void 0),u.set(i,void 0),s.set(i,void 0),o.set(i,null),a.set(i,void 0),c.set(i,null),i.start=function(){S(i,a,"f").info("WebRTC statistics collection is starting..."),T(i,c,null,"f"),T(i,o,w(S(i,h,"f"),S(i,u,"f")),"f")},i.stop=function(){S(i,o,"f")&&(p(S(i,o,"f")),T(i,o,null,"f"),S(i,a,"f").info("WebRTC statistics collection has stopped."))},h.set(i,(function(){return A(i,void 0,void 0,(function(){var t,n,i,u,o,h,f,v,g,w,p,_;return Ht(this,(function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),S(this,a,"f").trace("Requesting WebRTC statistics..."),[4,S(this,e,"f").call(this)];case 1:return t=A.sent(),n=(new Date).toISOString(),[3,3];case 2:return i=A.sent(),[2,(S(this,a,"f").error("Problem collecting the WebRTC statistics.",i),void this.emit("error","Problem collecting the WebRTC statistics - ".concat(i)))];case 3:u=Array.from(t.values()),o={timestamp:n,input:{audio:[],video:[]},output:{audio:[],video:[]}},S(this,s,"f")&&(o.rawStats=t),h=0,A.label=4;case 4:if(!(h<k.keys(u).length))return[3,19];switch((f=u[h]).type){case"outbound-rtp":return[3,5];case"inbound-rtp":return[3,11];case"candidate-pair":return[3,17]}return[3,18];case 5:return v=f,"audio"!==(g=(0,N.getMediaKind)(v))?[3,7]:[4,S(this,r,"m",l).call(this,t,v,o)];case 6:return A.sent(),[3,10];case 7:return"video"===g?[4,S(this,r,"m",d).call(this,t,v,o)]:[3,9];case 8:A.sent(),A.label=9;case 9:A.label=10;case 10:return[3,18];case 11:return w=f,"audio"!==(p=(0,N.getMediaKind)(w))?[3,13]:[4,S(this,r,"m",m).call(this,t,w,o)];case 12:return A.sent(),[3,16];case 13:return"video"===p?[4,S(this,r,"m",y).call(this,t,w,o)]:[3,15];case 14:A.sent(),A.label=15;case 15:A.label=16;case 16:return[3,18];case 17:(_=f).nominated&&S(this,r,"m",b).call(this,_,o),A.label=18;case 18:return h++,[3,4];case 19:return T(this,c,o,"f"),this.emit("stats",o),[2]}}))}))})),T(i,a,R.default.get("WebRTCStats"),"f"),T(i,e,n.getStats,"f"),T(i,u,n.getStatsInterval||1e3,"f"),T(i,s,!!n.includeRawStats,"f"),i}return Rt(n,t),n}(I.EventEmitter);n.WebRTCStats=x,e=new WeakMap,u=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,h=new WeakMap,r=new WeakSet,f=function(t,n){if(n){var i=t.get(n);if(i)return{mimeType:i.mimeType}}return{}},v=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o,a,c,h;return Ht(this,(function(v){return a=(0,N.calculateRate)(n.timestamp,n.bytesSent,null==i?void 0:i.timestamp,null==i?void 0:i.totalBytesSent),c=(0,N.calculateRate)(n.timestamp,n.packetsSent,null==i?void 0:i.timestamp,null==i?void 0:i.totalPacketsSent),h=S(this,r,"m",f).call(this,t,n.codecId),[2,k.assign({id:n.id,timestamp:n.timestamp,mid:n.mid,totalBytesSent:n.bytesSent,bytesSentDelta:n.bytesSent-(null!==(e=null==i?void 0:i.totalBytesSent)&&void 0!==e?e:0),totalPacketsSent:n.packetsSent,packetsSentDelta:n.packetsSent-(null!==(u=null==i?void 0:i.totalPacketsSent)&&void 0!==u?u:0),bitrate:a,packetRate:c,targetBitrate:n.targetBitrate,retransmittedPacketsSent:n.retransmittedPacketsSent,retransmittedPacketsSentDelta:n.retransmittedPacketsSent-(null!==(s=null==i?void 0:i.retransmittedPacketsSent)&&void 0!==s?s:0),retransmittedBytesSent:n.retransmittedBytesSent,retransmittedBytesSentDelta:n.retransmittedBytesSent-(null!==(o=null==i?void 0:i.retransmittedBytesSent)&&void 0!==o?o:0)},h)]}))}))},l=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.output.audio.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",v).call(this,t,n,u)];case 1:return s=a.sent(),o=k.assign({},s),i.output.audio.push(o),[2]}}))}))},d=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o,a;return Ht(this,(function(h){switch(h.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.output.video.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",v).call(this,t,n,u)];case 1:return s=h.sent(),o=C.QualityLimitationReason.none,n.qualityLimitationReason&&(o=n.qualityLimitationReason),a=k.assign(k.assign({},s),{frameWidth:n.frameWidth,frameHeight:n.frameHeight,framesPerSecond:n.framesPerSecond,framesSent:n.framesSent,qualityLimitationReason:o,qualityLimitationDurations:n.qualityLimitationDurations}),i.output.video.push(a),[2]}}))}))},g=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o,a,c,h;return Ht(this,(function(v){return s=(0,N.calculateRate)(n.timestamp,n.bytesReceived,null==i?void 0:i.timestamp,null==i?void 0:i.totalBytesReceived),o=(0,N.calculateRate)(n.timestamp,n.packetsReceived,null==i?void 0:i.timestamp,null==i?void 0:i.totalPacketsReceived),a=(0,N.calculatePacketsLostRatio)(n.packetsReceived,n.packetsLost,null==i?void 0:i.totalPacketsReceived,null==i?void 0:i.totalPacketsLost),c=(null!==(e=n.packetsLost)&&void 0!==e?e:0)-(null!==(u=null==i?void 0:i.totalPacketsLost)&&void 0!==u?u:0),h=S(this,r,"m",f).call(this,t,n.codecId),[2,k.assign({id:n.id,timestamp:n.timestamp,mid:n.mid,trackIdentifier:n.trackIdentifier,jitter:n.jitter,jitterBufferDelay:n.jitterBufferDelay,jitterBufferEmittedCount:n.jitterBufferEmittedCount,totalBytesReceived:n.bytesReceived,totalPacketsReceived:n.packetsReceived,totalPacketsLost:n.packetsLost,bitrate:s,packetRate:o,packetLossRatio:a,packetLossDelta:c},h)]}))}))},m=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.input.audio.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",g).call(this,t,n,u)];case 1:return s=o.sent(),i.input.audio.push(s),[2]}}))}))},y=function(t,n,i){return A(this,void 0,void 0,(function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return(u=null===(e=S(this,c,"f"))||void 0===e?void 0:e.input.video.find((function(t){return t.id===n.id})))&&n.timestamp-u.timestamp<=0?[2]:[4,S(this,r,"m",g).call(this,t,n,u)];case 1:return s=a.sent(),o=k.assign(k.assign({},s),{keyFramesDecoded:n.keyFramesDecoded,frameHeight:n.frameHeight,frameWidth:n.frameWidth,framesDecoded:n.framesDecoded,framesDropped:n.framesDropped,framesPerSecond:n.framesPerSecond,framesReceived:n.framesReceived}),i.input.video.push(o),[2]}}))}))},b=function(t,n){n.totalRoundTripTime=t.totalRoundTripTime,n.currentRoundTripTime=t.currentRoundTripTime,n.responsesReceived=t.responsesReceived,n.availableOutgoingBitrate=t.availableOutgoingBitrate,n.availableIncomingBitrate=t.availableIncomingBitrate}}},r={},function t(n){var e=r[n];if(void 0!==e)return e.exports;var u=r[n]={exports:{}};return i[n].call(u.exports,u,u.exports,t),u.exports}(156))}(Vt);var Wt=Vt.exports,jt=gt.get("PeerConnectionStats"),Xt="stats",Gt=function(t){function n(n,i){var r;return void 0===i&&(i={statsIntervalMs:1e3,autoInitStats:!0}),(r=t.call(this)||this).peer=n,r.collection=null,r.initialized=!1,i.autoInitStats&&r.init(i.statsIntervalMs),r}Rt(n,t);var i=n.prototype;return i.init=function(t){var n=this;if(this.initialized)jt.warn("PeerConnectionStats.init() has already been called. Automatic initialization occurs when the PeerConnectionStats object is constructed.");else{jt.info("Initializing peer connection stats");var i=this.peer;try{this.collection=new Wt.WebRTCStats({getStatsInterval:t,getStats:function(){return i.getStats()},includeRawStats:!0}),this.collection.on("stats",(function(t){var i=function(t){var n=t,i=(n.input,n.output,n.rawStats,C(n,["input","output","rawStats"]));return b(m({},i),{audio:{inbounds:t.input.audio.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return m({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)})),outbounds:t.output.audio.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return m({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)}))},video:{inbounds:t.input.video.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return m({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)})),outbounds:t.output.video.map((function(t){var n=t,i=n.packetLossRatio,r=n.packetLossDelta,e=n.bitrate,u=C(n,["packetLossRatio","packetLossDelta","bitrate"]);return m({packetsLostRatioPerSecond:i,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*e,bitrate:e},u)}))},raw:t.rawStats})}(t);it(i),n.emit(Xt,i)})),this.collection.start(),this.initialized=!0}catch(t){jt.error(t)}}},i.parseStats=function(t){return jt.warn("The parseStats method is deprecated and will be removed in future releases."),null},i.stop=function(){jt.info("Stopping peer connection stats"),this.collection.stop()},n}(Mt),Yt={},Kt={},qt={},Jt={exports:{}},Qt=Jt.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return null!=t.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return null!=t.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return null!=t.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var n="candidate:%s %d %s %d %s %d typ %s";return n+=null!=t.raddr?" raddr %s rport %d":"%v%v",n+=null!=t.tcptype?" tcptype %s":"%v",null!=t.generation&&(n+=" generation %d"),n+=null!=t["network-id"]?" network-id %d":"%v",n+=null!=t["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var n="ssrc:%d";return null!=t.attribute&&(n+=" %s",null!=t.value&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return null!=t.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(null!=t.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var n="mediaclk:";return n+=null!=t.id?"id=%s %s":"%v%s",n+=null!=t.mediaClockValue?"=%s":"",n+=null!=t.rateNumerator?" rate=%s":"",n+=null!=t.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};k.keys(Qt).forEach((function(t){Qt[t].forEach((function(t){t.reg||(t.reg=/(.*)/),t.format||(t.format="%s")}))}));var $t=Jt.exports;!function(t){var n=function(t){return String(Number(t))===t?Number(t):t},i=function(t,i,r){var e=t.name&&t.names;t.push&&!i[t.push]?i[t.push]=[]:e&&!i[t.name]&&(i[t.name]={});var u=t.push?{}:e?i[t.name]:i;(function(t,i,r,e){if(e&&!r)i[e]=n(t[1]);else for(var u=0;u<r.length;u+=1)null!=t[u+1]&&(i[r[u]]=n(t[u+1]))})(r.match(t.reg),u,t.names,t.name),t.push&&i[t.push].push(u)},r=$t,e=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(t){var n={},u=[],s=n;return t.split(/(\r\n|\r|\n)/).filter(e).forEach((function(t){var n=t[0],e=t.slice(2);"m"===n&&(u.push({rtp:[],fmtp:[]}),s=u[u.length-1]);for(var o=0;o<(r[n]||[]).length;o+=1){var a=r[n][o];if(a.reg.test(e))return i(a,s,e)}})),n.media=u,n};var u=function(t,i){var r=i.split(/=(.+)/,2);return 2===r.length?t[r[0]]=n(r[1]):1===r.length&&i.length>1&&(t[r[0]]=void 0),t};t.parseParams=function(t){return t.split(/;\s?/).reduce(u,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(t){return t.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(t){for(var i=[],r=t.split(" ").map(n),e=0;e<r.length;e+=3)i.push({component:r[e],ip:r[e+1],port:r[e+2]});return i},t.parseImageAttributes=function(t){return t.split(" ").map((function(t){return t.substring(1,t.length-1).split(",").reduce(u,{})}))},t.parseSimulcastStreamList=function(t){return t.split(";").map((function(t){return t.split(",").map((function(t){var i,r=!1;return"~"!==t[0]?i=n(t):(i=n(t.substring(1,t.length)),r=!0),{scid:i,paused:r}}))}))}}(qt);var tn=$t,rn=/%[sdv%]/g,en=function(t){var n=1,i=arguments,r=i.length;return t.replace(rn,(function(t){if(n>=r)return t;var e=i[n];switch(n+=1,t){case"%%":return"%";case"%s":return String(e);case"%d":return Number(e);case"%v":return""}}))},un=function(t,n,i){var r=[t+"="+(n.format instanceof Function?n.format(n.push?i:i[n.name]):n.format)];if(n.names)for(var e=0;e<n.names.length;e+=1){var u=n.names[e];n.name?r.push(i[n.name][u]):r.push(i[n.names[e]])}else r.push(i[n.name]);return en.apply(null,r)},on=["v","o","s","i","u","e","p","c","b","t","r","z","a"],an=["i","c","b","a"],cn=qt,hn=function(t,n){n=n||{},null==t.version&&(t.version=0),null==t.name&&(t.name=" "),t.media.forEach((function(t){null==t.payloads&&(t.payloads="")}));var i=n.outerOrder||on,r=n.innerOrder||an,e=[];return i.forEach((function(n){tn[n].forEach((function(i){i.name in t&&null!=t[i.name]?e.push(un(n,i,t)):i.push in t&&null!=t[i.push]&&t[i.push].forEach((function(t){e.push(un(n,i,t))}))}))})),t.media.forEach((function(t){e.push(un("m",tn.m[0],t)),r.forEach((function(n){tn[n].forEach((function(i){i.name in t&&null!=t[i.name]?e.push(un(n,i,t)):i.push in t&&null!=t[i.push]&&t[i.push].forEach((function(t){e.push(un(n,i,t))}))}))}))})),e.join("\r\n")+"\r\n"};Kt.write=hn,Kt.parse=cn.parse,Kt.parseParams=cn.parseParams,Kt.parseFmtpConfig=cn.parseFmtpConfig,Kt.parsePayloads=cn.parsePayloads,Kt.parseRemoteCandidates=cn.parseRemoteCandidates,Kt.parseImageAttributes=cn.parseImageAttributes,Kt.parseSimulcastStreamList=cn.parseSimulcastStreamList;var vn=function(){function t(t,n,i,r,e,u,s,o,a){this.foundation=t,this.componentId=n,this.transport=i,this.priority=r,this.address=e,this.port=u,this.type=s,this.relAddr=o,this.relPort=a}var n=t.prototype;return n.equals=function(t){return t.foundation===this.foundation&&t.componentId===this.componentId&&t.transport===this.transport&&t.priority===this.priority&&t.address===this.address&&t.port===this.port&&t.type===this.type&&t.relAddr===this.relAddr&&t.relPort===this.relPort},n.clone=function(){return new t(this.foundation,this.componentId,this.transport,this.priority,this.address,this.port,this.type,this.relAddr,this.relPort)},n.plain=function(){var t={foundation:this.foundation,componentId:this.componentId,transport:this.transport,priority:this.priority,address:this.address,port:this.port,type:this.type};return this.relAddr&&(t.relAddr=this.relAddr),this.relPort&&(t.relPort=this.relPort),t},n.getFoundation=function(){return this.foundation},n.getComponentId=function(){return this.componentId},n.getTransport=function(){return this.transport},n.getPriority=function(){return this.priority},n.getAddress=function(){return this.address},n.getPort=function(){return this.port},n.getType=function(){return this.type},n.getRelAddr=function(){return this.relAddr},n.getRelPort=function(){return this.relPort},t}();vn.expand=function(t){return"CandidateInfo"===t.constructor.name?t:new vn(t.foundation,t.componentId,t.transport,t.priority,t.address,t.port,t.type,t.relAddr,t.relPort)},vn.clone=function(t){return"CandidateInfo"===t.constructor.name?t.clone():vn.expand(t)};var ln=vn,dn=function(){function t(t,n){this.id=t,this.params=n||[]}var n=t.prototype;return n.clone=function(){return new t(this.id,this.params)},n.plain=function(){return this.params.length?{id:this.id,params:this.params}:{id:this.id}},n.getId=function(){return this.id},n.getParams=function(){return this.params},t}();dn.expand=function(t){return"RTCPFeedbackInfo"===t.constructor.name?t:new dn(t.id,t.params)},dn.clone=function(t){return"RTCPFeedbackInfo"===t.constructor.name?t.clone():dn.expand(t)};var gn=dn,wn=gn,pn=function(){function t(t,n,i){this.codec=t,this.type=n,this.params={},this.rtcpfbs=new Set,i&&this.addParams(i)}var n=t.prototype;return n.clone=function(){var n=new t(this.codec,this.type,this.params);this.hasRTX()&&n.setRTX(this.getRTX());for(var i=0,r=this.rtcpfbs;i<r.length;i++){var e=r[i];n.addRTCPFeedback(e.clone())}return this.hasChannels()&&n.setChannels(this.getChannels()),n},n.plain=function(){var t={codec:this.codec,type:this.type};this.rtx&&(t.rtx=this.rtx),this.channels&&(t.channels=this.channels),k.keys(this.params).length&&(t.params=this.params);for(var n=0,i=this.rtcpfbs;n<i.length;n++){var r=i[n];t.rtcpfbs||(t.rtcpfbs=[]),t.rtcpfbs.push(r.plain())}return t},n.setRTX=function(t){this.rtx=t},n.getType=function(){return this.type},n.setType=function(t){this.type=t},n.getCodec=function(){return this.codec},n.getParams=function(){return this.params},n.addParams=function(t){for(var n in t)this.params[n]=t[n]},n.addParam=function(t,n){this.params[t]=n},n.hasParam=function(t){return k.hasOwnProperty.call(this.params,t)},n.getParam=function(t,n){if(void 0===n&&(n=void 0),this.hasParam(t))return this.params[t];if(void 0===n)throw new y("param ".concat(t," not found and no default value provided"));return""+n},n.hasRTX=function(){return this.rtx},n.getRTX=function(){return this.rtx},n.hasChannels=function(){return this.channels},n.getChannels=function(){return this.channels},n.setChannels=function(t){this.channels=t},n.addRTCPFeedback=function(t){this.rtcpfbs.add(t)},n.getRTCPFeedbacks=function(){return this.rtcpfbs},t}();pn.expand=function(t){if("CodecInfo"===t.constructor.name)return t;var n=new pn(t.codec,t.type,t.params);t.rtx&&n.setRTX(t.rtx),t.channels&&n.setChannels(t.channels);for(var i=0,r=t.rtcpfbs||[];i<r.length;i++){var e=r[i],u=wn.expand(e);n.addRTCPFeedback(u)}return n},pn.clone=function(t){return"CodecInfo"===t.constructor.name?t.clone():pn.expand(t)},pn.MapFromNames=function(t,n,i){for(var r,e=new Map,u=96,s=0;s<t.length;s++){var o=void 0,a=t[s].split(";"),c=a.shift().toLowerCase().trim();o="pcmu"===c?0:"pcma"===c?8:++u;var h=new pn(c,o);"opus"===c?h.setChannels(2):"multiopus"===c&&h.setChannels(6),n&&"ulpfec"!==c&&"flexfec-03"!==c&&"red"!==c&&h.setRTX(++u);for(var f=0,v=i||[];f<v.length;f++){var l=v[f];h.addRTCPFeedback(new wn(l.id,l.params))}for(var d=0;d<a.length;d++){var g=a[d].split("=");h.addParam(g[0].trim(),null===(r=g[1])||void 0===r?void 0:r.trim())}e.set(o,h)}return e};var yn=pn,_n=function t(){var n=this;if(!(this instanceof t))return new(Function.prototype.bind.apply(t,[null].concat(Array.prototype.slice.call(arguments))));Array.from(arguments).forEach((function(t){n[t]=i("s_"+t)}))},bn=_n("ACTIVE","PASSIVE","ACTPASS","INACTIVE");bn.byValue=function(t){switch(t){case bn.ACTIVE:case bn.PASSIVE:case bn.ACTPASS:case bn.INACTIVE:return t}return bn[t.toUpperCase()]},bn.toString=function(t){switch(t){case bn.ACTIVE:return"active";case bn.PASSIVE:return"passive";case bn.ACTPASS:return"actpass";case bn.INACTIVE:return"inactive"}},bn.reverse=function(t,n){switch(t){case bn.ACTIVE:return bn.PASSIVE;case bn.PASSIVE:return bn.ACTIVE;case bn.ACTPASS:return n?bn.ACTIVE:bn.PASSIVE;case bn.INACTIVE:return bn.INACTIVE}};var kn=bn,An=kn,Tn=function(){function t(t,n,i){this.setup=t,this.hash=n,this.fingerprint=i}var n=t.prototype;return n.clone=function(){return new t(this.setup,this.hash,this.fingerprint)},n.plain=function(){return{setup:An.toString(this.setup),hash:this.hash,fingerprint:this.fingerprint}},n.getFingerprint=function(){return this.fingerprint},n.getHash=function(){return this.hash},n.getSetup=function(){return this.setup},n.setSetup=function(t){this.setup=t},t}();Tn.expand=function(t){return"DTLSInfo"===t.constructor.name?t:new Tn(t.setup?An.byValue(t.setup):An.ACTPASS,t.hash,t.fingerprint)},Tn.clone=function(t){return"DTLSInfo"===t.constructor.name?t.clone():Tn.expand(t)};var Sn=Tn,En=function(){function t(t,n,i,r){this.tag=t,this.suite=n,this.keyParams=i,this.sessionParams=r}var n=t.prototype;return n.clone=function(){return new t(this.tag,this.suite,this.keyParams,this.sessionParams)},n.plain=function(){return{tag:this.tag,suite:this.suite,keyParams:this.keyParams,sessionParams:this.sessionParams}},n.getSessionParams=function(){return this.sessionParams},n.getKeyParams=function(){return this.keyParams},n.getSuite=function(){return this.suite},n.getTag=function(){return this.tag},t}();En.expand=function(t){return"CryptoInfo"===t.constructor.name?t:new En(t.tag,t.suite,t.keyParams,t.sessionParams)},En.clone=function(t){return"CryptoInfo"===t.constructor.name?t.clone():En.expand(t)};for(var In=En,Rn={exports:{}},Cn={exports:{}},Nn={},xn={byteLength:function(t){var n=Ln(t),i=n[0],r=n[1];return 3*(i+r)/4-r},toByteArray:function(t){var n,i,r=Ln(t),e=r[0],u=r[1],s=new Mn(function(t,n,i){return 3*(n+i)/4-i}(0,e,u)),o=0,a=u>0?e-4:e;for(i=0;i<a;i+=4)n=Pn[t.charCodeAt(i)]<<18|Pn[t.charCodeAt(i+1)]<<12|Pn[t.charCodeAt(i+2)]<<6|Pn[t.charCodeAt(i+3)],s[o++]=n>>16&255,s[o++]=n>>8&255,s[o++]=255&n;return 2===u&&(n=Pn[t.charCodeAt(i)]<<2|Pn[t.charCodeAt(i+1)]>>4,s[o++]=255&n),1===u&&(n=Pn[t.charCodeAt(i)]<<10|Pn[t.charCodeAt(i+1)]<<4|Pn[t.charCodeAt(i+2)]>>2,s[o++]=n>>8&255,s[o++]=255&n),s},fromByteArray:function(t){for(var n,i=t.length,r=i%3,e=[],u=16383,s=0,o=i-r;s<o;s+=u)e.push(Vn(t,s,s+u>o?o:s+u));return 1===r?(n=t[i-1],e.push(Dn[n>>2]+Dn[n<<4&63]+"==")):2===r&&(n=(t[i-2]<<8)+t[i-1],e.push(Dn[n>>10]+Dn[n>>4&63]+Dn[n<<2&63]+"=")),e.join("")}},Dn=[],Pn=[],Mn=(void 0===I?"undefined":W(I))<"u"?I:Array,Bn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",On=0;On<64;++On)Dn[On]=Bn[On],Pn[Bn.charCodeAt(On)]=On;function Ln(t){var n=t.length;if(n%4>0)throw new y("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=n),[i,i===n?0:4-i%4]}function Fn(t){return Dn[t>>18&63]+Dn[t>>12&63]+Dn[t>>6&63]+Dn[63&t]}function Vn(t,n,i){for(var r,e=[],u=n;u<i;u+=3)r=(t[u]<<16&16711680)+(t[u+1]<<8&65280)+(255&t[u+2]),e.push(Fn(r));return e.join("")}Pn[45]=62,Pn[95]=63;var Un={read:function(t,n,i,r,e){var u,s,o=8*e-r-1,a=(1<<o)-1,c=a>>1,h=-7,f=i?e-1:0,v=i?-1:1,l=t[n+f];for(f+=v,u=l&(1<<-h)-1,l>>=-h,h+=o;h>0;u=256*u+t[n+f],f+=v,h-=8);for(s=u&(1<<-h)-1,u>>=-h,h+=r;h>0;s=256*s+t[n+f],f+=v,h-=8);if(0===u)u=1-c;else{if(u===a)return s?NaN:1/0*(l?-1:1);s+=A.pow(2,r),u-=c}return(l?-1:1)*s*A.pow(2,u-r)},write:function(t,n,i,r,e,u){var s,o,a,c=8*u-e-1,h=(1<<c)-1,f=h>>1,v=23===e?A.pow(2,-24)-A.pow(2,-77):0,l=r?0:u-1,d=r?1:-1,g=n<0||0===n&&1/n<0?1:0;for(n=A.abs(n),E(n)||n===1/0?(o=E(n)?1:0,s=h):(s=A.floor(A.log(n)/A.LN2),n*(a=A.pow(2,-s))<1&&(s--,a*=2),(n+=s+f>=1?v/a:v*A.pow(2,1-f))*a>=2&&(s++,a/=2),s+f>=h?(o=0,s=h):s+f>=1?(o=(n*a-1)*A.pow(2,e),s+=f):(o=n*A.pow(2,f-1)*A.pow(2,e),s=0));e>=8;t[i+l]=255&o,l+=d,o/=256,e-=8);for(s=s<<e|o,c+=e;c>0;t[i+l]=255&s,l+=d,s/=256,c-=8);t[i+l-d]|=128*g}};(function(t){var r=xn,e=Un,u="function"==typeof n&&"function"==typeof i?i("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},t.INSPECT_MAX_BYTES=50;var s=2147483647;function o(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=new I(t);return k.setPrototypeOf(n,a.prototype),n}function a(t,n,i){if("number"==typeof t){if("string"==typeof n)throw new _('The "string" argument must be of type string. Received type number');return f(t)}return c(t,n,i)}function c(t,i,r){if("string"==typeof t)return function(t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!a.isEncoding(n))throw new _("Unknown encoding: "+n);var i=0|g(t,n),r=o(i),e=r.write(t,n);return e!==i&&(r=r.slice(0,e)),r}(t,i);if(ArrayBuffer.isView(t))return function(t){if(it(t,I)){var n=new I(t);return l(n.buffer,n.byteOffset,n.byteLength)}return v(t)}(t);if(null==t)throw new _("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":W(t)));if(it(t,ArrayBuffer)||t&&it(t.buffer,ArrayBuffer)||("undefined"==typeof SharedArrayBuffer?"undefined":W(SharedArrayBuffer))<"u"&&(it(t,SharedArrayBuffer)||t&&it(t.buffer,SharedArrayBuffer)))return l(t,i,r);if("number"==typeof t)throw new _('The "value" argument must not be of type number. Received type number');var e=t.valueOf&&t.valueOf();if(null!=e&&e!==t)return a.from(e,i,r);var u=function(t){if(a.isBuffer(t)){var n=0|d(t.length),i=o(n);return 0===i.length||t.copy(i,0,0,n),i}return void 0!==t.length?"number"!=typeof t.length||rt(t.length)?o(0):v(t):"Buffer"===t.type&&Array.isArray(t.data)?v(t.data):void 0}(t);if(u)return u;if((void 0===n?"undefined":W(n))<"u"&&null!=n.toPrimitive&&"function"==typeof t[n.toPrimitive])return a.from(t[n.toPrimitive]("string"),i,r);throw new _("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===t?"undefined":W(t)))}function h(t){if("number"!=typeof t)throw new _('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return h(t),o(t<0?0:0|d(t))}function v(t){for(var n=t.length<0?0:0|d(t.length),i=o(n),r=0;r<n;r+=1)i[r]=255&t[r];return i}function l(t,n,i){if(n<0||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(i||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===n&&void 0===i?new I(t):void 0===i?new I(t,n):new I(t,n,i),k.setPrototypeOf(r,a.prototype),r}function d(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,n){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||it(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new _('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===t?"undefined":W(t)));var i=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var e=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return tt(t).length;default:if(e)return r?-1:$(t).length;n=(""+n).toLowerCase(),e=!0}}function m(t,n,i){var r=!1;if((void 0===n||n<0)&&(n=0),n>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0)||(i>>>=0)<=(n>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,n,i);case"utf8":case"utf-8":return D(this,n,i);case"ascii":return M(this,n,i);case"latin1":case"binary":return B(this,n,i);case"base64":return x(this,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,n,i);default:if(r)throw new _("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function w(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function p(t,n,i,r,e){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),rt(i=+i)&&(i=e?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(e)return-1;i=t.length-1}else if(i<0){if(!e)return-1;i=0}if("string"==typeof n&&(n=a.from(n,r)),a.isBuffer(n))return 0===n.length?-1:b(t,n,i,r,e);if("number"==typeof n)return n&=255,"function"==typeof I.prototype.indexOf?e?I.prototype.indexOf.call(t,n,i):I.prototype.lastIndexOf.call(t,n,i):b(t,[n],i,r,e);throw new _("val must be string, number or Buffer")}function b(t,n,i,r,e){var u,s=1,o=t.length,a=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||n.length<2)return-1;s=2,o/=2,a/=2,i/=2}function c(t,n){return 1===s?t[n]:t.readUInt16BE(n*s)}if(e){var h=-1;for(u=i;u<o;u++)if(c(t,u)===c(n,-1===h?0:u-h)){if(-1===h&&(h=u),u-h+1===a)return h*s}else-1!==h&&(u-=u-h),h=-1}else for(i+a>o&&(i=o-a),u=i;u>=0;u--){for(var f=!0,v=0;v<a;v++)if(c(t,u+v)!==c(n,v)){f=!1;break}if(f)return u}return-1}function S(t,n,i,r){i=Number(i)||0;var e=t.length-i;r?(r=Number(r))>e&&(r=e):r=e;var u,s=n.length;for(r>s/2&&(r=s/2),u=0;u<r;++u){var o=T(n.substr(2*u,2),16);if(rt(o))return u;t[i+u]=o}return u}function E(t,n,i,r){return nt($(n,t.length-i),t,i,r)}function R(t,n,i,r){return nt(function(t){for(var n=[],i=0;i<t.length;++i)n.push(255&t.charCodeAt(i));return n}(n),t,i,r)}function C(t,n,i,r){return nt(tt(n),t,i,r)}function N(t,n,i,r){return nt(function(t,n){for(var i,r,e,u=[],s=0;s<t.length&&!((n-=2)<0);++s)i=t.charCodeAt(s),r=i>>8,e=i%256,u.push(e),u.push(r);return u}(n,t.length-i),t,i,r)}function x(t,n,i){return 0===n&&i===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(n,i))}function D(t,n,i){i=A.min(t.length,i);for(var r=[],e=n;e<i;){var u=t[e],s=null,o=u>239?4:u>223?3:u>191?2:1;if(e+o<=i){var a=void 0,c=void 0,h=void 0,f=void 0;switch(o){case 1:u<128&&(s=u);break;case 2:128==(192&(a=t[e+1]))&&(f=(31&u)<<6|63&a)>127&&(s=f);break;case 3:a=t[e+1],c=t[e+2],128==(192&a)&&128==(192&c)&&(f=(15&u)<<12|(63&a)<<6|63&c)>2047&&(f<55296||f>57343)&&(s=f);break;case 4:a=t[e+1],c=t[e+2],h=t[e+3],128==(192&a)&&128==(192&c)&&128==(192&h)&&(f=(15&u)<<18|(63&a)<<12|(63&c)<<6|63&h)>65535&&f<1114112&&(s=f)}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),e+=o}return function(t){var n=t.length;if(n<=P)return String.fromCharCode.apply(String,t);for(var i="",r=0;r<n;)i+=String.fromCharCode.apply(String,t.slice(r,r+=P));return i}(r)}t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=function(){try{var t=new I(1),n={foo:function(){return 42}};return k.setPrototypeOf(n,I.prototype),k.setPrototypeOf(t,n),42===t.foo()}catch(t){return!1}}(),!a.TYPED_ARRAY_SUPPORT&&("undefined"==typeof console?"undefined":W(console))<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),k.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),k.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,n,i){return c(t,n,i)},k.setPrototypeOf(a.prototype,I.prototype),k.setPrototypeOf(a,I),a.alloc=function(t,n,i){return function(t,n,i){return h(t),t<=0?o(t):void 0!==n?"string"==typeof i?o(t).fill(n,i):o(t).fill(n):o(t)}(t,n,i)},a.allocUnsafe=function(t){return f(t)},a.allocUnsafeSlow=function(t){return f(t)},a.isBuffer=function(t){return null!=t&&!0===t.n_&&t!==a.prototype},a.compare=function(t,n){if(it(t,I)&&(t=a.from(t,t.offset,t.byteLength)),it(n,I)&&(n=a.from(n,n.offset,n.byteLength)),!a.isBuffer(t)||!a.isBuffer(n))throw new _('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var i=t.length,r=n.length,e=0,u=A.min(i,r);e<u;++e)if(t[e]!==n[e]){i=t[e],r=n[e];break}return i<r?-1:r<i?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,n){if(!Array.isArray(t))throw new _('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var i;if(void 0===n)for(n=0,i=0;i<t.length;++i)n+=t[i].length;var r=a.allocUnsafe(n),e=0;for(i=0;i<t.length;++i){var u=t[i];if(it(u,I))e+u.length>r.length?(a.isBuffer(u)||(u=a.from(u)),u.copy(r,e)):I.prototype.set.call(r,u,e);else{if(!a.isBuffer(u))throw new _('"list" argument must be an Array of Buffers');u.copy(r,e)}e+=u.length}return r},a.byteLength=g,a.prototype.n_=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)w(this,n,n+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)w(this,n,n+3),w(this,n+1,n+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)w(this,n,n+7),w(this,n+1,n+6),w(this,n+2,n+5),w(this,n+3,n+4);return this},a.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?D(this,0,t):m.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new _("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var n="",i=t.INSPECT_MAX_BYTES;return n=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(n+=" ... "),"<Buffer "+n+">"},u&&(a.prototype[u]=a.prototype.inspect),a.prototype.compare=function(t,n,i,r,e){if(it(t,I)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new _('The "target" argument must be one of type Buffer or Uint8Array. Received type '+(void 0===t?"undefined":W(t)));if(void 0===n&&(n=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===e&&(e=this.length),n<0||i>t.length||r<0||e>this.length)throw new RangeError("out of range index");if(r>=e&&n>=i)return 0;if(r>=e)return-1;if(n>=i)return 1;if(this===t)return 0;for(var u=(e>>>=0)-(r>>>=0),s=(i>>>=0)-(n>>>=0),o=A.min(u,s),c=this.slice(r,e),h=t.slice(n,i),f=0;f<o;++f)if(c[f]!==h[f]){u=c[f],s=h[f];break}return u<s?-1:s<u?1:0},a.prototype.includes=function(t,n,i){return-1!==this.indexOf(t,n,i)},a.prototype.indexOf=function(t,n,i){return p(this,t,n,i,!0)},a.prototype.lastIndexOf=function(t,n,i){return p(this,t,n,i,!1)},a.prototype.write=function(t,n,i,r){if(void 0===n)r="utf8",i=this.length,n=0;else if(void 0===i&&"string"==typeof n)r=n,i=this.length,n=0;else{if(!isFinite(n))throw new y("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var e=this.length-n;if((void 0===i||i>e)&&(i=e),t.length>0&&(i<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var u=!1;;)switch(r){case"hex":return S(this,t,n,i);case"utf8":case"utf-8":return E(this,t,n,i);case"ascii":case"latin1":case"binary":return R(this,t,n,i);case"base64":return C(this,t,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n,i);default:if(u)throw new _("Unknown encoding: "+r);r=(""+r).toLowerCase(),u=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this.r_||this,0)}};var P=4096;function M(t,n,i){var r="";i=A.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(127&t[e]);return r}function B(t,n,i){var r="";i=A.min(t.length,i);for(var e=n;e<i;++e)r+=String.fromCharCode(t[e]);return r}function O(t,n,i){var r=t.length;(!n||n<0)&&(n=0),(!i||i<0||i>r)&&(i=r);for(var e="",u=n;u<i;++u)e+=et[t[u]];return e}function L(t,n,i){for(var r=t.slice(n,i),e="",u=0;u<r.length-1;u+=2)e+=String.fromCharCode(r[u]+256*r[u+1]);return e}function F(t,n,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+n>i)throw new RangeError("Trying to access beyond buffer length")}function V(t,n,i,r,e,u){if(!a.isBuffer(t))throw new _('"buffer" argument must be a Buffer instance');if(n>e||n<u)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function U(t,n,i,r,e){K(n,r,e,t,i,7);var u=Number(n&BigInt(4294967295));t[i++]=u,u>>=8,t[i++]=u,u>>=8,t[i++]=u,u>>=8,t[i++]=u;var s=Number(n>>BigInt(32)&BigInt(4294967295));return t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,s>>=8,t[i++]=s,i}function j(t,n,i,r,e){K(n,r,e,t,i,7);var u=Number(n&BigInt(4294967295));t[i+7]=u,u>>=8,t[i+6]=u,u>>=8,t[i+5]=u,u>>=8,t[i+4]=u;var s=Number(n>>BigInt(32)&BigInt(4294967295));return t[i+3]=s,s>>=8,t[i+2]=s,s>>=8,t[i+1]=s,s>>=8,t[i]=s,i+8}function Z(t,n,i,r,e,u){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function X(t,n,i,r,u){return n=+n,i>>>=0,u||Z(t,0,i,4),e.write(t,n,i,r,23,4),i+4}function G(t,n,i,r,u){return n=+n,i>>>=0,u||Z(t,0,i,8),e.write(t,n,i,r,52,8),i+8}a.prototype.slice=function(t,n){var i=this.length;(t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(n=void 0===n?i:~~n)<0?(n+=i)<0&&(n=0):n>i&&(n=i),n<t&&(n=t);var r=this.subarray(t,n);return k.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(t,n,i){t>>>=0,n>>>=0,i||F(t,n,this.length);for(var r=this[t],e=1,u=0;++u<n&&(e*=256);)r+=this[t+u]*e;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(t,n,i){t>>>=0,n>>>=0,i||F(t,n,this.length);for(var r=this[t+--n],e=1;n>0&&(e*=256);)r+=this[t+--n]*e;return r},a.prototype.readUint8=a.prototype.readUInt8=function(t,n){return t>>>=0,n||F(t,1,this.length),this[t]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(t,n){return t>>>=0,n||F(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(t,n){return t>>>=0,n||F(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(t,n){return t>>>=0,n||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(t,n){return t>>>=0,n||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readBigUInt64LE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=n+this[++t]*A.pow(2,8)+this[++t]*A.pow(2,16)+this[++t]*A.pow(2,24),e=this[++t]+this[++t]*A.pow(2,8)+this[++t]*A.pow(2,16)+i*A.pow(2,24);return BigInt(r)+(BigInt(e)<<BigInt(32))})),a.prototype.readBigUInt64BE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=n*A.pow(2,24)+this[++t]*A.pow(2,16)+this[++t]*A.pow(2,8)+this[++t],e=this[++t]*A.pow(2,24)+this[++t]*A.pow(2,16)+this[++t]*A.pow(2,8)+i;return(BigInt(r)<<BigInt(32))+BigInt(e)})),a.prototype.readIntLE=function(t,n,i){t>>>=0,n>>>=0,i||F(t,n,this.length);for(var r=this[t],e=1,u=0;++u<n&&(e*=256);)r+=this[t+u]*e;return r>=(e*=128)&&(r-=A.pow(2,8*n)),r},a.prototype.readIntBE=function(t,n,i){t>>>=0,n>>>=0,i||F(t,n,this.length);for(var r=n,e=1,u=this[t+--r];r>0&&(e*=256);)u+=this[t+--r]*e;return u>=(e*=128)&&(u-=A.pow(2,8*n)),u},a.prototype.readInt8=function(t,n){return t>>>=0,n||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,n){t>>>=0,n||F(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt16BE=function(t,n){t>>>=0,n||F(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt32LE=function(t,n){return t>>>=0,n||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,n){return t>>>=0,n||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readBigInt64LE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=this[t+4]+this[t+5]*A.pow(2,8)+this[t+6]*A.pow(2,16)+(i<<24);return(BigInt(r)<<BigInt(32))+BigInt(n+this[++t]*A.pow(2,8)+this[++t]*A.pow(2,16)+this[++t]*A.pow(2,24))})),a.prototype.readBigInt64BE=ut((function(t){q(t>>>=0,"offset");var n=this[t],i=this[t+7];(void 0===n||void 0===i)&&J(t,this.length-8);var r=(n<<24)+this[++t]*A.pow(2,16)+this[++t]*A.pow(2,8)+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*A.pow(2,24)+this[++t]*A.pow(2,16)+this[++t]*A.pow(2,8)+i)})),a.prototype.readFloatLE=function(t,n){return t>>>=0,n||F(t,4,this.length),e.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,n){return t>>>=0,n||F(t,4,this.length),e.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,n){return t>>>=0,n||F(t,8,this.length),e.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,n){return t>>>=0,n||F(t,8,this.length),e.read(this,t,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||V(this,t,n,i,A.pow(2,8*i)-1,0);var e=1,u=0;for(this[n]=255&t;++u<i&&(e*=256);)this[n+u]=t/e&255;return n+i},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(t,n,i,r){t=+t,n>>>=0,i>>>=0,r||V(this,t,n,i,A.pow(2,8*i)-1,0);var e=i-1,u=1;for(this[n+e]=255&t;--e>=0&&(u*=256);)this[n+e]=t/u&255;return n+i},a.prototype.writeUint8=a.prototype.writeUInt8=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,1,255,0),this[n]=255&t,n+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,2,65535,0),this[n]=255&t,this[n+1]=t>>>8,n+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=255&t,n+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t,n+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},a.prototype.writeBigUInt64LE=ut((function(t,n){return void 0===n&&(n=0),U(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeBigUInt64BE=ut((function(t,n){return void 0===n&&(n=0),j(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))})),a.prototype.writeIntLE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var e=A.pow(2,8*i-1);V(this,t,n,i,e-1,-e)}var u=0,s=1,o=0;for(this[n]=255&t;++u<i&&(s*=256);)t<0&&0===o&&0!==this[n+u-1]&&(o=1),this[n+u]=(t/s>>0)-o&255;return n+i},a.prototype.writeIntBE=function(t,n,i,r){if(t=+t,n>>>=0,!r){var e=A.pow(2,8*i-1);V(this,t,n,i,e-1,-e)}var u=i-1,s=1,o=0;for(this[n+u]=255&t;--u>=0&&(s*=256);)t<0&&0===o&&0!==this[n+u+1]&&(o=1),this[n+u]=(t/s>>0)-o&255;return n+i},a.prototype.writeInt8=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=255&t,n+1},a.prototype.writeInt16LE=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,2,32767,-32768),this[n]=255&t,this[n+1]=t>>>8,n+2},a.prototype.writeInt16BE=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=255&t,n+2},a.prototype.writeInt32LE=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,4,2147483647,-2147483648),this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},a.prototype.writeInt32BE=function(t,n,i){return t=+t,n>>>=0,i||V(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},a.prototype.writeBigInt64LE=ut((function(t,n){return void 0===n&&(n=0),U(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeBigInt64BE=ut((function(t,n){return void 0===n&&(n=0),j(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),a.prototype.writeFloatLE=function(t,n,i){return X(this,t,n,!0,i)},a.prototype.writeFloatBE=function(t,n,i){return X(this,t,n,!1,i)},a.prototype.writeDoubleLE=function(t,n,i){return G(this,t,n,!0,i)},a.prototype.writeDoubleBE=function(t,n,i){return G(this,t,n,!1,i)},a.prototype.copy=function(t,n,i,r){if(!a.isBuffer(t))throw new _("argument should be a Buffer");if(i||(i=0),!r&&0!==r&&(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&r<i&&(r=i),r===i||0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-i&&(r=t.length-n+i);var e=r-i;return this===t&&"function"==typeof I.prototype.copyWithin?this.copyWithin(n,i,r):I.prototype.set.call(t,this.subarray(i,r),n),e},a.prototype.fill=function(t,n,i,r){if("string"==typeof t){if("string"==typeof n?(r=n,n=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw new _("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new _("Unknown encoding: "+r);if(1===t.length){var e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(n<0||this.length<n||this.length<i)throw new RangeError("Out of range index");if(i<=n)return this;var u;if(n>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(u=n;u<i;++u)this[u]=t;else{var s=a.isBuffer(t)?t:a.from(t,r),o=s.length;if(0===o)throw new _('The value "'+t+'" is invalid for argument "value"');for(u=0;u<i-n;++u)this[u+n]=s[u%o]}return this};var H={};function z(t,n,i){H[t]=function(i){function r(){var r;return r=i.call(this)||this,k.defineProperty(r,"message",{value:n.apply(r,arguments),writable:!0,configurable:!0}),r.name="".concat(r.name," [").concat(t,"]"),r.stack,delete r.name,r}return Rt(r,i),r.prototype.toString=function(){return"".concat(this.name," [").concat(t,"]: ").concat(this.message)},xt(r,[{key:"code",get:function(){return t},set:function(t){k.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}}]),r}(i)}function Y(t){for(var n="",i=t.length,r="-"===t[0]?1:0;i>=r+4;i-=3)n="_".concat(t.slice(i-3,i)).concat(n);return"".concat(t.slice(0,i)).concat(n)}function K(t,n,i,r,e,u){if(t>i||t<n){var s,o="bigint"==(void 0===n?"undefined":W(n))?"n":"";throw s=0===n||n===BigInt(0)?">= 0".concat(o," and < 2").concat(o," ** ").concat(8*(u+1)).concat(o):">= -(2".concat(o," ** ").concat(8*(u+1)-1).concat(o,") and < 2 ** ")+"".concat(8*(u+1)-1).concat(o),new H.ERR_OUT_OF_RANGE("value",s,t)}!function(t,n,i){q(n,"offset"),(void 0===t[n]||void 0===t[n+i])&&J(n,t.length-(i+1))}(r,e,u)}function q(t,n){if("number"!=typeof t)throw new H.ERR_INVALID_ARG_TYPE(n,"number",t)}function J(t,n,i){throw A.floor(t)!==t?(q(t,i),new H.ERR_OUT_OF_RANGE("offset","an integer",t)):n<0?new H.ERR_BUFFER_OUT_OF_BOUNDS:new H.ERR_OUT_OF_RANGE("offset",">= 0 and <= ".concat(n),t)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?"".concat(t," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(t,n){return'The "'.concat(t,'" argument must be of type number. Received type ').concat(void 0===n?"undefined":W(n))}),_),z("ERR_OUT_OF_RANGE",(function(t,n,i){var r='The value of "'.concat(t,'" is out of range.'),e=i;return Number.isInteger(i)&&A.abs(i)>A.pow(2,32)?e=Y(String(i)):"bigint"==(void 0===i?"undefined":W(i))&&(e=String(i),(i>A.pow(BigInt(2),BigInt(32))||i<-A.pow(BigInt(2),BigInt(32)))&&(e=Y(e)),e+="n"),r+=" It must be ".concat(n,". Received ").concat(e)}),RangeError);var Q=/[^+/0-9A-Za-z-_]/g;function $(t,n){var i;n=n||1/0;for(var r=t.length,e=null,u=[],s=0;s<r;++s){if((i=t.charCodeAt(s))>55295&&i<57344){if(!e){if(i>56319){(n-=3)>-1&&u.push(239,191,189);continue}if(s+1===r){(n-=3)>-1&&u.push(239,191,189);continue}e=i;continue}if(i<56320){(n-=3)>-1&&u.push(239,191,189),e=i;continue}i=65536+(e-55296<<10|i-56320)}else e&&(n-=3)>-1&&u.push(239,191,189);if(e=null,i<128){if((n-=1)<0)break;u.push(i)}else if(i<2048){if((n-=2)<0)break;u.push(i>>6|192,63&i|128)}else if(i<65536){if((n-=3)<0)break;u.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new y("Invalid code point");if((n-=4)<0)break;u.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return u}function tt(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function nt(t,n,i,r){var e;for(e=0;e<r&&!(e+i>=n.length||e>=t.length);++e)n[e+i]=t[e];return e}function it(t,n){return t instanceof n||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===n.name}function rt(t){return t!=t}var et=function(){for(var t="0123456789abcdef",n=new Array(256),i=0;i<16;++i)for(var r=16*i,e=0;e<16;++e)n[r+e]=t[i]+t[e];return n}();function ut(t){return("undefined"==typeof BigInt?"undefined":W(BigInt))>"u"?st:t}function st(){throw new y("BigInt not supported")}})(Nn),function(t,n){var i=Nn,r=i.Buffer;function e(t,n){for(var i in t)n[i]=t[i]}function u(t,n,i){return r(t,n,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(e(i,n),n.Buffer=u),u.prototype=k.create(r.prototype),e(r,u),u.from=function(t,n,i){if("number"==typeof t)throw new _("Argument must not be a number");return r(t,n,i)},u.alloc=function(t,n,i){if("number"!=typeof t)throw new _("Argument must be a number");var e=r(t);return void 0!==n?"string"==typeof i?e.fill(n,i):e.fill(n):e.fill(0),e},u.allocUnsafe=function(t){if("number"!=typeof t)throw new _("Argument must be a number");return r(t)},u.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new _("Argument must be a number");return i.SlowBuffer(t)}}(Cn,Cn.exports);var Wn=65536,jn=Cn.exports.Buffer,Zn=N.crypto||N.msCrypto;Zn&&Zn.getRandomValues?Rn.exports=function(t,n){if(t>4294967295)throw new RangeError("requested too many random bytes");var i=jn.allocUnsafe(t);if(t>0)if(t>Wn)for(var r=0;r<t;r+=Wn)Zn.getRandomValues(i.slice(r,r+Wn));else Zn.getRandomValues(i);return"function"==typeof n?process.nextTick((function(){n(null,i)})):i}:Rn.exports=function(){throw new y("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")};var Xn=Rn.exports,Gn=function(){function t(t,n){this.ufrag=t,this.pwd=n,this.lite=!1,this.endOfCandidates=!1}var n=t.prototype;return n.clone=function(){var n=new t(this.ufrag,this.pwd);return n.setLite(this.lite),n.setEndOfCandidates(this.endOfCandidates),n},n.plain=function(){var t={ufrag:this.ufrag,pwd:this.pwd};return this.lite&&(t.lite=this.lite),this.endOfCandidates&&(t.endOfCandidates=this.endOfCandidates),t},n.getUfrag=function(){return this.ufrag},n.getPwd=function(){return this.pwd},n.isLite=function(){return this.lite},n.setLite=function(t){this.lite=t},n.isEndOfCandidates=function(){return this.endOfCandidates},n.setEndOfCandidates=function(t){this.endOfCandidates=t},t}();Gn.generate=function(t){var n=new Gn,i=Xn(8),r=Xn(24);return n.ufrag=i.toString("hex"),n.pwd=r.toString("hex"),n.lite=t,n},Gn.expand=function(t){if("ICEInfo"===t.constructor.name)return t;var n=new Gn(t.ufrag,t.pwd);return n.setLite(t.lite),n.setEndOfCandidates(t.endOfCandidates),n},Gn.clone=function(t){return"ICEInfo"===t.constructor.name?t.clone():Gn.expand(t)};var Hn=Gn,zn=_n("SEND","RECV");zn.byValue=function(t){return zn[t.toUpperCase()]},zn.toString=function(t){switch(t){case zn.SEND:return"send";case zn.RECV:return"recv"}},zn.reverse=function(t){switch(t){case zn.SEND:return zn.RECV;case zn.RECV:return zn.SEND}};var Yn=zn,Kn=Yn,qn=function(){function t(t,n){this.id=t,this.direction=n,this.formats=[],this.params=new Map}var n=t.prototype;return n.clone=function(){var n=new t(this.id,this.direction);return n.setFormats(this.formats),n.setParams(this.params),n},n.plain=function(){var t={id:this.id,direction:Kn.toString(this.direction)};this.formats&&(t.formats=this.formats);for(var n=0,i=this.params.entries();n<i.length;n++){var r=nn(i[n],2),e=r[0],u=r[1];t.params||(t.params={}),t.params[e]=u}return t},n.getId=function(){return this.id},n.getDirection=function(){return this.direction},n.setDirection=function(t){this.direction=t},n.getFormats=function(){return this.formats},n.setFormats=function(t){this.formats=[];for(var n=0;n<t.length;++n)this.formats.push(T(t[n]))},n.getParams=function(){return this.params},n.setParams=function(t){this.params=new Map(t)},n.addParam=function(t,n){this.params.set(t,n)},t}();qn.expand=function(t){if("RIDInfo"===t.constructor.name)return t;for(var n=new qn(t.id,Kn.byValue(t.direction)),i=0,r=k.entries(t.params||{});i<r.length;i++){var e=nn(r[i],2),u=e[0],s=e[1];n.addParam(u,s)}return t.formats&&n.setFormats(t.formats),n},qn.clone=function(t){return"RIDInfo"===t.constructor.name?t.clone():qn.expand(t)};var Jn=qn,Qn=function(){function t(t,n){this.paused=n,this.id=t}var n=t.prototype;return n.clone=function(){return new t(this.id,this.paused)},n.plain=function(){return{id:this.id,paused:this.paused}},n.isPaused=function(){return this.paused},n.getId=function(){return this.id},t}();Qn.expand=function(t){return"SimulcastStreamInfo"===t.constructor.name?t:new Qn(t.id,t.paused)},Qn.clone=function(t){return"SimulcastStreamInfo"===t.constructor.name?t.clone():Qn.expand(t)};var $n=Qn,ti=$n,ni=Yn,ii=function(){function t(){this.send=[],this.recv=[]}var n=t.prototype;return n.clone=function(){for(var n=new t,i=0,r=this.send;i<r.length;i++){var e=r[i];n.addSimulcastAlternativeStreams(ni.SEND,e.map((function(t){return t.clone()})))}for(var u=0,s=this.recv;u<s.length;u++){var o=s[u];n.addSimulcastAlternativeStreams(ni.RECV,o.map((function(t){return t.clone()})))}return n},n.plain=function(){for(var t={send:[],recv:[]},n=0,i=this.send;n<i.length;n++){var r=i[n];t.send.push(r.map((function(t){return t.plain()})))}for(var e=0,u=this.recv;e<u.length;e++){var s=u[e];t.recv.push(s.map((function(t){return t.plain()})))}return t},n.addSimulcastAlternativeStreams=function(t,n){return t===ni.SEND?this.send.push(n):this.recv.push(n)},n.addSimulcastStream=function(t,n){return t===ni.SEND?this.send.push([n]):this.recv.push([n])},n.getSimulcastStreams=function(t){return t===ni.SEND?this.send:this.recv},t}();ii.expand=function(t){if("SimulcastInfo"===t.constructor.name)return t;for(var n=new ii,i=0,r=t.send||[];i<r.length;i++){var e=r[i];n.addSimulcastAlternativeStreams(ni.SEND,e.map(ti.expand))}for(var u=0,s=t.recv||[];u<s.length;u++){var o=s[u];n.addSimulcastAlternativeStreams(ni.RECV,o.map(ti.expand))}return n},ii.clone=function(t){return"SimulcastInfo"===t.constructor.name?t.clone():ii.expand(t)};var ri=ii,ei=_n("SENDRECV","SENDONLY","RECVONLY","INACTIVE");ei.byValue=function(t){return ei[t.toUpperCase()]},ei.toString=function(t){switch(t){case ei.SENDRECV:return"sendrecv";case ei.SENDONLY:return"sendonly";case ei.RECVONLY:return"recvonly";case ei.INACTIVE:return"inactive"}},ei.reverse=function(t){switch(t){case ei.SENDRECV:return ei.SENDRECV;case ei.SENDONLY:return ei.RECVONLY;case ei.RECVONLY:return ei.SENDONLY;case ei.INACTIVE:return ei.INACTIVE}};var ui=ei,si=function(){function t(t,n){this.port=t,this.maxMessageSize=n}var n=t.prototype;return n.clone=function(){return new t(this.port,this.maxMessageSize)},n.plain=function(){return{port:this.port,maxMessageSize:this.maxMessageSize}},n.getPort=function(){return this.port},n.getMaxMessageSize=function(){return this.maxMessageSize},t}();si.expand=function(t){return"DataChannelInfo"===t.constructor.name?t:new si(t.port,t.maxMessageSize)},si.clone=function(t){return"DataChannelInfo"===t.constructor.name?t.clone():si.expand(t)};var oi=si,ai=yn,ci=Jn,hi=ri,fi=ui,vi=Yn,li=oi,di=function(){function t(t,n){this.id=t,this.type=n,this.direction=fi.SENDRECV,this.extensions=new Map,this.codecs=new Map,this.rids=new Map,this.simulcast=null,this.bitrate=0,this.control=null,this.dataChannel=null}var n=t.prototype;return n.clone=function(){var n=new t(this.id,this.type);n.setDirection(this.direction),n.setBitrate(this.bitrate);for(var i=0,r=this.codecs.values();i<r.length;i++){var e=r[i];n.addCodec(e.clone())}for(var u=0,s=this.extensions.entries();u<s.length;u++){var o=nn(s[u],2),a=o[0],c=o[1];n.addExtension(a,c)}for(var h=0,f=this.rids.values();h<f.length;h++){var v=f[h];n.addRID(v.clone())}return this.simulcast&&n.setSimulcast(this.simulcast.clone()),this.control&&n.setControl(this.control),this.dataChannel&&n.setDataChannel(this.dataChannel.clone()),n},n.plain=function(){var t={id:this.id,type:this.type,direction:fi.toString(this.direction),codecs:[]};this.dataChannel&&(t.dataChannel=this.dataChannel.plain()),this.bitrate&&(t.bitrate=this.bitrate);for(var n=0,i=this.codecs.values();n<i.length;n++){var r=i[n];t.codecs.push(r.plain())}for(var e=0,u=this.extensions.entries();e<u.length;e++){var s=nn(u[e],2),o=s[0],a=s[1];t.extensions||(t.extensions={}),t.extensions[o]=a}for(var c=0,h=this.rids.values();c<h.length;c++){var f=h[c];t.rids||(t.rids=[]),t.rids.push(f.plain())}return this.simulcast&&(t.simulcast=this.simulcast.plain()),this.control&&(t.control=this.control),t},n.getType=function(){return this.type},n.getId=function(){return this.id},n.setId=function(t){this.id=t},n.addExtension=function(t,n){this.extensions.set(t,n)},n.addRID=function(t){this.rids.set(t.getId(),t)},n.addCodec=function(t){this.codecs.set(t.getType(),t)},n.setCodecs=function(t){this.codecs=t},n.getCodecForType=function(t){return this.codecs.get(t)},n.getCodec=function(t){for(var n=0,i=this.codecs.values();n<i.length;n++){var r=i[n];if(r.getCodec().toLowerCase()===t.toLowerCase())return r}return null},n.hasCodec=function(t){return null!==this.getCodec(t)},n.getCodecs=function(){return this.codecs},n.hasRTX=function(){for(var t=0,n=this.codecs.values();t<n.length;t++)if(n[t].hasRTX())return!0;return!1},n.getExtensions=function(){return this.extensions},n.getRIDs=function(){return this.rids},n.getRID=function(t){return this.rids.get(t)},n.getBitrate=function(){return this.bitrate},n.setBitrate=function(t){this.bitrate=t},n.getDirection=function(){return this.direction},n.setDirection=function(t){this.direction=t},n.hasControl=function(){return!!this.control},n.getControl=function(){return this.control},n.setControl=function(t){this.control=t},n.hasDataChannel=function(){return!!this.dataChannel},n.getDataChannel=function(){return this.dataChannel},n.setDataChannel=function(t){this.dataChannel=t},n.answer=function(n){var i=new t(this.id,this.type);if(n){i.setDirection(fi.reverse(this.direction));var r=n.codecs,e=n.dataChannel;if(r){var u;u=Array.isArray(r)?ai.MapFromNames(r,n.rtx,n.rtcpfbs):r;for(var s=0,o=this.codecs.values();s<o.length;s++)for(var a=o[s],c=0,h=u.values();c<h.length;c++){var f=h[c];if(!(f.getCodec().toLowerCase()!==a.getCodec().toLowerCase()||"h264"===f.getCodec()&&f.hasParam("packetization-mode")&&f.getParam("packetization-mode")!=a.getParam("packetization-mode","0")||"h264"===f.getCodec()&&f.hasParam("profile-level-id")&&a.hasParam("profile-level-id")&&f.getParam("profile-level-id")!=a.getParam("profile-level-id")||"multiopus"===f.getCodec()&&f.hasParam("num_streams")&&a.hasParam("num_streams")&&f.getParam("num_streams")!=a.getParam("num_streams"))){var v=f.clone();v.setType(a.getType()),v.hasRTX()&&v.setRTX(a.getRTX()),a.hasChannels()&&v.setChannels(a.getChannels()),v.addParams(a.getParams()),i.addCodec(v);break}}}for(var l=new Set(n.extensions),d=0,g=this.extensions;d<g.length;d++){var m=nn(g[d],2),w=m[0],p=m[1];l.has(p)&&i.addExtension(w,p)}if(n.simulcast&&this.simulcast){var y=new hi,_=this.simulcast.getSimulcastStreams(vi.SEND);if(_)for(var b=0;b<_.length;b++){var k=_[b].map((function(t){return t.clone()}));y.addSimulcastAlternativeStreams(vi.RECV,k)}var A=this.simulcast.getSimulcastStreams(vi.RECV);if(A)for(var T=0;T<A.length;T++){var S=A[T].map((function(t){return t.clone()}));y.addSimulcastAlternativeStreams(vi.SEND,S)}for(var E=0,I=this.rids.values();E<I.length;E++){var R=I[E],C=R.clone();C.setDirection(vi.reverse(R.getDirection())),i.addRID(C)}i.setSimulcast(y)}if(e&&this.dataChannel){var N=new li(this.dataChannel.getPort(),e.maxMessageSize?e.maxMessageSize:this.dataChannel.getMaxMessageSize());i.setDataChannel(N)}}else i.setDirection(fi.INACTIVE);return i},n.getSimulcast=function(){return this.simulcast},n.setSimulcast=function(t){this.simulcast=t},t}();function gi(t){var n=t.toString();if(!/^\d+$/.test(n))throw new y("invalid integer ".concat(n));return T(n)}di.create=function(t,n,i){!i&&"string"!=typeof n&&(i=n,n=t);var r=new di(t,n);if(i){var e=i.codecs;e&&(Array.isArray(e)?r.setCodecs(ai.MapFromNames(e,i.rtx,i.rtcpfbs)):r.setCodecs(e))}else r.setDirection(fi.INACTIVE);return r},di.expand=function(t){if("MediaInfo"===t.constructor.name)return t;var n=new di(t.id,t.type);if(t.direction&&n.setDirection(fi.byValue(t.direction)),n.setBitrate(t.bitrate),t.dataChannel){var i=li.expand(t.dataChannel);i&&n.setDataChannel(i)}for(var r=0,e=k.entries(t.extensions);r<e.length;r++){var u=nn(e[r],2),s=u[0],o=u[1];n.addExtension(gi(s),o)}for(var a=0,c=t.codecs;a<c.length;a++){var h=c[a],f=ai.expand(h);f&&n.addCodec(f)}for(var v=0,l=t.rids||[];v<l.length;v++){var d=l[v],g=ci.expand(d);n.addRID(g)}return t.simulcast&&n.setSimulcast(hi.expand(t.simulcast)),t.control&&n.setControl(t.control),n},di.clone=function(t){return"MediaInfo"===t.constructor.name?t.clone():di.expand(t)};var mi=di,wi=function(){function t(t,n){this.semantics=t,this.ssrcs=[];for(var i=0;i<n.length;++i)this.ssrcs.push(T(n[i]))}var n=t.prototype;return n.clone=function(){return new t(this.semantics,this.ssrcs)},n.plain=function(){for(var t={semantics:this.semantics,ssrcs:[]},n=0;n<this.ssrcs.length;++n)t.ssrcs.push(this.ssrcs[n]);return t},n.getSemantics=function(){return this.semantics},n.getSSRCs=function(){return this.ssrcs},t}();wi.expand=function(t){return"SourceGroupInfo"===t.constructor.name?t:new wi(t.semantics,t.ssrcs)},wi.clone=function(t){return"SourceGroupInfo"===t.constructor.name?t.clone():wi.expand(t)};var pi=wi,yi=function(){function t(t){this.ssrc=t}var n=t.prototype;return n.clone=function(){var n=new t(this.ssrc);return n.setCName(this.cname),n.setStreamId(this.streamId),n.setTrackId(this.trackId),n},n.plain=function(){var t={ssrc:this.ssrc};return this.cname&&(t.cname=this.cname),this.streamId&&(t.streamId=this.streamId),this.trackId&&(t.trackId=this.trackId),t},n.getCName=function(){return this.cname},n.setCName=function(t){this.cname=t},n.getStreamId=function(){return this.streamId},n.setStreamId=function(t){this.streamId=t},n.getTrackId=function(){return this.trackId},n.setTrackId=function(t){this.trackId=t},n.getSSRC=function(){return this.ssrc},t}();yi.expand=function(t){if("SourceInfo"===t.constructor.name)return t;var n=new yi(t.ssrc);return n.setCName(t.cname),n.setStreamId(t.streamId),n.setTrackId(t.trackId),n},yi.clone=function(t){return"SourceInfo"===t.constructor.name?t.clone():yi.expand(t)};var _i=yi,bi=yn,ki=function(){function t(t,n){void 0===n&&(n=!1),this.id=t,this.paused=n,this.codecs=new Map,this.params=new Map}var n=t.prototype;return n.clone=function(){for(var n=new t(this.id,this.paused),i=0,r=this.codecs.values();i<r.length;i++){var e=r[i];n.addCodec(e.clone())}return n.setParams(this.params),n},n.plain=function(){for(var t={id:this.id,paused:this.paused,codecs:{},params:{}},n=0,i=this.codecs.entries();n<i.length;n++){var r=nn(i[n],2),e=r[0],u=r[1];t.codecs[e]=u.plain()}for(var s=0,o=this.params.entries();s<o.length;s++){var a=nn(o[s],2),c=(e=a[0],a[1]);t.params[e]=c}return t},n.getId=function(){return this.id},n.getCodecs=function(){return this.codecs},n.addCodec=function(t){this.codecs.set(t.getType(),t)},n.getParams=function(){return this.params},n.setParams=function(t){this.params=new Map(t)},n.addParam=function(t,n){this.params.set(t,n)},n.isPaused=function(){return this.paused},t}();ki.expand=function(t){if("TrackEncodingInfo"===t.constructor.name)return t;for(var n=new ki(t.id,t.paused),i=0,r=k.values(t.codecs||{});i<r.length;i++){var e=r[i];n.addCodec(bi.expand(e))}for(var u=0,s=k.entries(t.params||{});u<s.length;u++){var o=nn(s[u],2),a=o[0],c=o[1];n.addParam(a,c)}return n},ki.clone=function(t){return"TrackEncodingInfo"===t.constructor.name?t.clone():ki.expand(t)};var Ai=ki,Ti=pi,Si=Ai,Ei=function(){function t(t,n){this.media=t,this.id=n,this.ssrcs=[],this.groups=[],this.encodings=[]}var n=t.prototype;return n.clone=function(){var n=new t(this.media,this.id);this.mediaId&&n.setMediaId(this.mediaId);for(var i=0;i<this.ssrcs.length;++i)n.addSSRC(this.ssrcs[i]);for(var r=0;r<this.groups.length;++r)n.addSourceGroup(this.groups[r].clone());for(var e=0;e<this.encodings.length;++e){for(var u=[],s=0;s<this.encodings[e].length;++s)u.push(this.encodings[e][s].clone());n.addAlternativeEncodings(u)}return n},n.plain=function(){var t={media:this.media,id:this.id,ssrcs:[]};this.mediaId&&(t.mediaId=this.mediaId);for(var n=0;n<this.ssrcs.length;++n)t.ssrcs.push(this.ssrcs[n]);for(var i=0;i<this.groups.length;++i)t.groups||(t.groups=[]),t.groups.push(this.groups[i].plain());for(var r=0;r<this.encodings.length;++r){for(var e=[],u=0;u<this.encodings[r].length;++u)e.push(this.encodings[r][u].plain());e.length&&(t.encodings||(t.encodings=[]),t.encodings.push(e))}return t},n.getMedia=function(){return this.media},n.setMediaId=function(t){this.mediaId=t},n.getMediaId=function(){return this.mediaId},n.getId=function(){return this.id},n.addSSRC=function(t){this.ssrcs.push(t)},n.getSSRCs=function(){return this.ssrcs},n.addSourceGroup=function(t){this.groups.push(t)},n.getSourceGroup=function(t){for(var n=0,i=this.groups;n<i.length;n++){var r=i[n];if(r.getSemantics().toLowerCase()===t.toLowerCase())return r}return null},n.getSourceGroups=function(){return this.groups},n.getSourceGroupsForMediaSSRC=function(t){return this.groups.filter((function(n){return n.getSSRCs()[0]===t}))},n.hasSourceGroup=function(t){for(var n=0,i=this.groups;n<i.length;n++)if(i[n].getSemantics().toLowerCase()===t.toLowerCase())return!0;return!1},n.getEncodings=function(){return this.encodings},n.addEncoding=function(t){this.encodings.push([t])},n.addAlternativeEncodings=function(t){this.encodings.push(t)},n.setEncodings=function(t){this.encodings=t},n.getEncodingSources=function(){var t=[];if(this.encodings.length)for(var n=0,i=this.encodings;n<i.length;n++)for(var r=i[n],e=0;e<r.length;e++){var u=r[e],s={id:u.getId(),rid:u.getId()},o=u.getParams(),a=null==o?void 0:o.get("ssrc");if(void 0!==a){s.media=T(a);for(var c=0,h=this.getSourceGroupsForMediaSSRC(s.media);c<h.length;c++){var f=h[c];switch(f.getSemantics()){case"FID":s.rtx=f.getSSRCs()[1];break;case"FEC-FR":s.fec=f.getSSRCs()[1]}}}t.push(s)}else if(this.hasSourceGroup("SIM")){var v=this.getSourceGroup("SIM").getSSRCs();this.getSourceGroups();for(var l=0;l<v.length;l++){for(var d=v[l],g={id:String(d),media:d},m=0,w=this.getSourceGroupsForMediaSSRC(g.media);m<w.length;m++){var p=w[m];switch(p.getSemantics()){case"FID":g.rtx=p.getSSRCs()[1];break;case"FEC-FR":g.fec=p.getSSRCs()[1]}}t.push(g)}}else{var y={id:""};if(this.ssrcs.length){y.media=this.ssrcs[0];for(var _=0,b=this.getSourceGroupsForMediaSSRC(y.media);_<b.length;_++){var k=b[_];switch(k.getSemantics()){case"FID":y.rtx=k.getSSRCs()[1];break;case"FEC-FR":y.fec=k.getSSRCs()[1]}}}t.push(y)}return t},t}();Ei.expand=function(t){var n,i;if("TrackInfo"===t.constructor.name)return t;var r=new Ei(t.media,t.id);if(t.mediaId&&r.setMediaId(t.mediaId),Array.isArray(t.ssrcs))for(var e=0,u=t.ssrcs;e<u.length;e++){var s=u[e];r.addSSRC(s)}else if(void 0!==(null===(n=t.ssrcs)||void 0===n?void 0:n.media)){var o=t.ssrcs.media;if(r.addSSRC(o),void 0!==t.ssrcs.rtx){var a=t.ssrcs.rtx;r.addSSRC(a),r.addSourceGroup(new Ti("FID",[o,a]))}if(void 0!==t.ssrcs.fec){var c=t.ssrcs.fec;r.addSSRC(c),r.addSourceGroup(new Ti("FEC-FR",[o,c]))}}if(t.rid){var h=new Si(t.rid);void 0!==(null===(i=t.ssrcs)||void 0===i?void 0:i.media)&&h.addParam("ssrc",t.ssrcs.media),r.addAlternativeEncodings([h])}for(var f=0,v=t.groups||[];f<v.length;f++){var l=v[f];r.addSourceGroup(Ti.expand(l))}for(var d=0,g=t.encodings||[];d<g.length;d++){for(var m=g[d],w=[],p=0;p<m.length;p++){var y=m[p];w.push(Si.expand(y))}r.addAlternativeEncodings(w)}return r},Ei.clone=function(t){return"TrackInfo"===t.constructor.name?t.clone():Ei.expand(t)};var Ii=Ei,Ri=Ii,Ci=function(){function t(t){this.id=t,this.tracks=new Map}var n=t.prototype;return n.clone=function(){for(var n=new t(this.id),i=0,r=this.tracks.values();i<r.length;i++){var e=r[i];n.addTrack(e.clone())}return n},n.plain=function(){for(var t={id:this.id,tracks:[]},n=0,i=this.tracks.values();n<i.length;n++){var r=i[n];t.tracks.push(r.plain())}return t},n.getId=function(){return this.id},n.addTrack=function(t){this.tracks.set(t.getId(),t)},n.removeTrack=function(t){return this.tracks.delete(t.getId())},n.removeTrackById=function(t){return this.tracks.delete(t)},n.getFirstTrack=function(t){for(var n=0,i=this.tracks.values();n<i.length;n++){var r=i[n];if(r.getMedia().toLowerCase()===t.toLowerCase())return r}return null},n.getTracks=function(){return this.tracks},n.removeAllTracks=function(){this.tracks.clear()},n.getTrack=function(t){return this.tracks.get(t)},t}();Ci.expand=function(t){if("StreamInfo"===t.constructor.name)return t;for(var n=new Ci(t.id),i=0,r=t.tracks||[];i<r.length;i++){var e=r[i],u=Ri.expand(e);u&&n.addTrack(u)}return n},Ci.clone=function(t){return"StreamInfo"===t.constructor.name?t.clone():Ci.expand(t)};var Ni,xi,Di=Ci,Pi=Kt,Mi=(Ni="en-US",xi=new Intl.Collator(Ni,{sensitivity:"base"}),function(t,n){return 0==xi.compare(t,n)}),Bi=ln,Oi=yn,Li=gn,Fi=Sn,Vi=In,Ui=Hn,Wi=mi,ji=kn,Zi=ui,Xi=Yn,Gi=pi,Hi=_i,zi=Di,Yi=Ii,Ki=Ai,qi=ri,Ji=$n,Qi=Jn,$i=oi,tr=function(){function t(t){this.version=t||1,this.streams=new Map,this.medias=new Array,this.candidates=new Array,this.ice=null,this.dtls=null,this.crypto=null,this.extmapAllowMixed=!0}var n=t.prototype;return n.clone=function(){for(var n=new t(this.version),i=0,r=this.medias;i<r.length;i++){var e=r[i];n.addMedia(e.clone())}for(var u=0,s=this.streams.values();u<s.length;u++){var o=s[u];n.addStream(o.clone())}for(var a=0,c=this.candidates;a<c.length;a++){var h=c[a];n.addCandidate(h.clone())}return n.setICE(this.ice.clone()),this.dtls&&n.setDTLS(this.dtls.clone()),this.crypto&&n.setCrypto(this.crypto.clone()),n.setExtmapAllowMixed(this.extmapAllowMixed),n},n.plain=function(){for(var t={version:this.version,streams:[],medias:[],candidates:[]},n=0,i=this.medias;n<i.length;n++){var r=i[n];t.medias.push(r.plain())}for(var e=0,u=this.streams.values();e<u.length;e++){var s=u[e];t.streams.push(s.plain())}for(var o=0,a=this.candidates;o<a.length;o++){var c=a[o];t.candidates.push(c.plain())}return this.ice&&(t.ice=this.ice.plain()),this.dtls&&(t.dtls=this.dtls.plain()),this.crypto&&(t.crypto=this.crypto.plain()),this.extmapAllowMixed||(t.extmapAllowMixedNotSupported=!this.extmapAllowMixed),t},n.unify=function(){for(var n=new t(this.version),i=0,r=this.medias;i<r.length;i++){var e=r[i];n.addMedia(e.clone())}for(var u={audio:n.getMediasByType("audio"),video:n.getMediasByType("video")},s=0,o=this.streams.values();s<o.length;s++){for(var a=o[s].clone(),c=0,h=a.getTracks().values();c<h.length;c++){var f=h[c],v=u[f.getMedia()].pop();v||((v=this.getMedia(f.getMedia()).clone()).setId(f.getId()),n.addMedia(v)),f.setMediaId(v.getId())}n.addStream(a)}for(var l=0,d=this.candidates;l<d.length;l++){var g=d[l];n.addCandidate(g.clone())}return this.ice&&n.setICE(this.ice.clone()),this.dtls&&n.setDTLS(this.dtls.clone()),this.crypto&&n.setCrypto(this.crypto.clone()),n},n.setVersion=function(t){this.version=t},n.addMedia=function(t){this.medias.push(t)},n.getMedia=function(t){for(var n in this.medias){var i=this.medias[n];if(Mi(i.getType(),t))return i}return null},n.getMediasByType=function(t){var n=[];for(var i in this.medias){var r=this.medias[i];Mi(r.getType(),t)&&n.push(r)}return n},n.getMediaById=function(t){for(var n=0,i=this.medias;n<i.length;n++){var r=i[n];if(Mi(r.getId(),t))return r}return null},n.replaceMedia=function(t){for(var n in this.medias)if(this.medias[n].getId()==t.getId())return this.medias[n]=t,!0;return!1},n.getMedias=function(){return this.medias},n.getVersion=function(){return this.version},n.getDTLS=function(){return this.dtls},n.setDTLS=function(t){this.dtls=t},n.hasCrypto=function(){return!!this.crypto},n.getCrypto=function(){return this.crypto},n.setCrypto=function(t){this.crypto=t},n.hasICE=function(){return!!this.ice},n.getICE=function(){return this.ice},n.setICE=function(t){this.ice=t},n.addCandidate=function(t){for(var n=0,i=this.candidates;n<i.length;n++)if(i[n].equals(t))return;this.candidates.push(t)},n.addCandidates=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.addCandidate(i)}},n.getCandidates=function(){return this.candidates},n.getStream=function(t){return this.streams.get(t)},n.getStreams=function(){return this.streams},n.getFirstStream=function(){for(var t=0,n=this.streams.values();t<n.length;t++)return n[t];return null},n.addStream=function(t){this.streams.set(t.getId(),t)},n.removeStream=function(t){return this.streams.delete(t.getId())},n.removeAllStreams=function(){this.streams.clear()},n.getTracksByMediaType=function(t){for(var n=[],i=0,r=this.streams.values();i<r.length;i++)for(var e=0,u=r[i].getTracks();e<u.length;e++){var s=nn(u[e],2),o=(s[0],s[1]);Mi(o.getMedia(),t)&&n.push(o)}return n},n.getTrackByMediaId=function(t){for(var n=0,i=this.streams.values();n<i.length;n++)for(var r=0,e=i[n].getTracks();r<e.length;r++){var u=nn(e[r],2),s=(u[0],u[1]);if(s.getMediaId()==t)return s}return null},n.getStreamByMediaId=function(t){for(var n=0,i=this.streams.values();n<i.length;n++)for(var r=i[n],e=0,u=r.getTracks();e<u.length;e++){var s=nn(u[e],2);if(s[0],s[1].getMediaId()==t)return r}return null},n.getExtmapAllowMixed=function(){return this.extmapAllowMixed},n.setExtmapAllowMixed=function(t){this.extmapAllowMixed=t},n.answer=function(n){var i=new t;n.ice&&(n.ice instanceof Ui?i.setICE(n.ice.clone()):i.setICE(Ui.expand(n.ice))),n.dtls&&(n.dtls instanceof Fi?i.setDTLS(n.dtls):i.setDTLS(Fi.expand(n.dtls))),n.crypto&&(n.crypto instanceof Vi?i.setCrypto(n.crypto):i.setCrypto(Vi.expand(n.crypto)));for(var r=0;n.candidates&&r<n.candidates.length;++r)n.candidates[r]instanceof Bi?i.addCandidate(n.candidates[r].clone()):i.addCandidate(Bi.expand(n.candidates[r]));for(var e=0,u=this.medias;e<u.length;e++){var s=u[e],o=n&&n.capabilities&&n.capabilities[s.getType()];i.addMedia(s.answer(o))}return i.setExtmapAllowMixed(this.extmapAllowMixed),i},n.toString=function(){var t={version:0,media:[]};t.version=0,t.origin={username:"-",sessionId:(new Date).getTime(),sessionVersion:this.version,netType:"IN",ipVer:4,address:"127.0.0.1"},t.name="semantic-sdp",t.connection={version:4,ip:"0.0.0.0"},t.timing={start:0,stop:0},this.hasICE()&&this.getICE().isLite()&&(t.icelite="ice-lite"),t.msidSemantic={semantic:"WMS",token:"*"},t.groups=[],this.extmapAllowMixed&&(t.extmapAllowMixed="extmap-allow-mixed");for(var n=[],i=0,r=this.medias;i<r.length;i++){var e=r[i],u={type:e.getType(),port:9,protocol:"",fmtp:[],rtp:[],rtcpFb:[],ext:[],bandwidth:[],candidates:[],ssrcGroups:[],ssrcs:[],rids:[]};u.direction=Zi.toString(e.getDirection()),this.extmapAllowMixed&&(u.extmapAllowMixed="extmap-allow-mixed"),u.mid=e.getId(),n.push(e.getId()),e.hasControl()&&(u.control=e.getControl()),e.getBitrate()>0&&(u.bandwidth.push({type:"AS",limit:e.getBitrate()}),u.bandwidth.push({type:"TIAS",limit:1e3*e.getBitrate()}));for(var s=this.getCandidates(),o=0;o<s.length;o++){var a=s[o];u.candidates.push({foundation:a.getFoundation(),component:a.getComponentId(),transport:a.getTransport(),priority:a.getPriority(),ip:a.getAddress(),port:a.getPort(),type:a.getType(),raddr:a.getRelAddr(),rport:a.getRelPort()})}if(this.getICE()&&(u.iceUfrag=this.getICE().getUfrag(),u.icePwd=this.getICE().getPwd()),Mi("audio",e.getType())||Mi("video",e.getType())){u.rtcpMux="rtcp-mux",u.rtcpRsize="rtcp-rsize",this.getDTLS()?(u.protocol="UDP/TLS/RTP/SAVPF",u.fingerprint={type:this.getDTLS().getHash(),hash:this.getDTLS().getFingerprint()},u.setup=ji.toString(this.getDTLS().getSetup())):this.getCrypto()?(u.protocol="RTP/SAVPF",u.crypto=[{id:this.getCrypto().getTag(),suite:this.getCrypto().getSuite(),config:this.getCrypto().getKeyParams()}]):u.protocol="RTP/AVP";for(var c=0,h=e.getCodecs().values();c<h.length;c++){var f=h[c];Mi("video",e.getType())?u.rtp.push({payload:f.getType(),codec:f.getCodec().toUpperCase(),rate:9e4}):Mi("opus",f.getCodec())||Mi("multiopus",f.getCodec())?u.rtp.push({payload:f.getType(),codec:f.getCodec(),rate:48e3,encoding:f.getChannels()}):u.rtp.push({payload:f.getType(),codec:f.getCodec(),rate:8e3});for(var v=0,l=f.getRTCPFeedbacks();v<l.length;v++){var d=l[v];u.rtcpFb.push({payload:f.getType(),type:d.getId(),subtype:d.getParams().join(" ")})}f.hasRTX()&&(u.rtp.push({payload:f.getRTX(),codec:"rtx",rate:9e4}),u.fmtp.push({payload:f.getRTX(),config:"apt="+f.getType()}));var g=f.getParams();if(k.keys(g).length){var m={payload:f.getType(),config:""};for(var w in g)m.config.length&&(m.config+=";"),k.hasOwnProperty.call(g,w)?m.config+=w+"="+g[w]:m.config+=w;u.fmtp.push(m)}}for(var p=[],y=0,_=u.rtp;y<_.length;y++){var b=_[y];p.push(b.payload)}u.payloads=p.join(" ");for(var A=0,T=e.getExtensions().entries();A<T.length;A++){var S=nn(T[A],2),E=S[0],I=S[1];u.ext.push({value:E,uri:I})}for(var R=0,C=e.getRIDs().values();R<C.length;R++){var N=C[R],x={id:N.getId(),direction:Xi.toString(N.getDirection()),params:""};N.getFormats().length&&(x.params="pt="+N.getFormats().join(","));for(var D=0,P=N.getParams().entries();D<P.length;D++){var M=nn(P[D],2),B=M[0],O=M[1];x.params+=(x.params.length?";":"")+B+"="+O}u.rids.push(x)}var L=e.getSimulcast();if(L){var F=1;u.simulcast={};var V=L.getSimulcastStreams(Xi.SEND),U=L.getSimulcastStreams(Xi.RECV);if(V&&V.length){for(var W="",j=0;j<V.length;j++){for(var Z=V[j],X="",G=0;G<Z.length;G++){var H=Z[G];X+=(X.length?",":"")+(H.isPaused()?"~":"")+H.getId()}W+=(W.length?";":"")+X}u.simulcast["dir"+F]="send",u.simulcast["list"+F]=W,F++}if(U&&U.length){for(var z="",Y=0;Y<U.length;Y++){for(var K=U[Y],q="",J=0;J<K.length;J++){var Q=K[J];q+=(q.length?",":"")+(Q.isPaused()?"~":"")+Q.getId()}z+=(z.length?";":"")+q}u.simulcast["dir"+F]="recv",u.simulcast["list"+F]=z,F++}}}else if(e.hasDataChannel()){u.protocol="UDP/DTLS/SCTP",u.payloads="webrtc-datachannel";var $=e.getDataChannel();u.sctpPort=$.getPort(),u.maxMessageSize=$.getMaxMessageSize()}t.media.push(u)}for(var tt=0,nt=this.streams.values();tt<nt.length;tt++)for(var it=nt[tt],rt=0,et=it.getTracks().values();rt<et.length;rt++){var ut=et[rt];for(var st in t.media){var ot=t.media[st];if(ut.getMediaId()){if(ut.getMediaId()==ot.mid){var at=ut.getSourceGroups();for(var ct in at){var ht=at[ct];ot.ssrcGroups.push({semantics:ht.getSemantics(),ssrcs:ht.getSSRCs().join(" ")})}var ft=ut.getSSRCs();for(var vt in ft)ot.ssrcs.push({id:ft[vt],attribute:"cname",value:it.getId()}),ot.ssrcs.push({id:ft[vt],attribute:"msid",value:it.getId()+" "+ut.getId()});ot.msid=it.getId()+" "+ut.getId();break}}else if(Mi(ot.type,ut.getMedia())){var lt=ut.getSourceGroups();for(var dt in lt){var gt=lt[dt];ot.ssrcGroups.push({semantics:gt.getSemantics(),ssrcs:gt.getSSRCs().join(" ")})}var mt=ut.getSSRCs();for(var wt in mt)ot.ssrcs.push({id:mt[wt],attribute:"cname",value:it.getId()}),ot.ssrcs.push({id:mt[wt],attribute:"msid",value:it.getId()+" "+ut.getId()});break}}}var pt={type:"BUNDLE",mids:n.join(" ")};return t.groups.push(pt),Pi.write(t)},n.toIceFragmentString=function(){var t={version:0,media:[],candidates:[]};this.hasICE()&&this.getICE().isLite()&&(t.icelite="ice-lite"),this.getICE()&&(t.iceUfrag=this.getICE().getUfrag(),t.icePwd=this.getICE().getPwd());for(var n=0,i=this.getCandidates();n<i.length;n++){var r=i[n];t.candidates.push({foundation:r.getFoundation(),component:r.getComponentId(),transport:r.getTransport(),priority:r.getPriority(),ip:r.getAddress(),port:r.getPort(),type:r.getType(),raddr:r.getRelAddr(),rport:r.getRelPort()})}return Pi.write(t).slice(10)},t}();tr.create=function(t){var n,i=new tr;if(t.streams)for(var r=0,e=t.streams;r<e.length;r++){var u=e[r];i.addStream(zi.expand(u))}t.ice&&(t.ice instanceof Ui?i.setICE(t.ice.clone()):i.setICE(Ui.expand(t.ice))),t.dtls&&(t.dtls instanceof Fi?i.setDTLS(t.dtls):i.setDTLS(Fi.expand(t.dtls))),t.crypto&&(t.crypto instanceof Vi?i.setCrypto(t.crypto):i.setCrypto(Vi.expand(t.crypto)));for(var s=0,o=t.candidates||[];s<o.length;s++){var a=o[s];a instanceof Bi?i.addCandidate(a.clone()):i.addCandidate(Bi.expand(a))}for(var c=96,h=1,f=0,v=0,l=k.entries(t.capabilities||{});v<l.length;v++){var d=nn(l[v],2),g=d[0],m=d[1];if(t.unified&&null!==(n=t.streams)&&void 0!==n&&n.length)for(var w=0,p=i.getTracksByMediaType(g);w<p.length;w++){for(var y=p[w],_=Wi.create(y.getMediaId(),g,m),b=0,A=_.getCodecs();b<A.length;b++){var T=nn(A[b],2),S=(T[0],T[1]);S.getType()>=96&&S.setType(c++),S.getRTX()&&S.setRTX(c++)}if(m.extensions)for(var E=0,I=m.extensions;E<I.length;E++){var R=I[E];15===h&&h++,_.addExtension(h++,R)}i.addMedia(_)}else{for(var C=Wi.create(t.unified?String(f++):g,g,m),N=0,x=C.getCodecs();N<x.length;N++){var D=nn(x[N],2),P=(D[0],D[1]);P.getType()>=96&&P.setType(c++),P.getRTX()&&P.setRTX(c++)}if(m.extensions)for(var M=0,B=m.extensions;M<B.length;M++){var O=B[M];15===h&&h++,C.addExtension(h++,O)}i.addMedia(C)}}return i},tr.expand=function(t){if("SDPInfo"===t.constructor.name)return t;for(var n=new tr(t.version),i=0,r=t.medias||[];i<r.length;i++){var e=r[i],u=Wi.expand(e);u&&n.addMedia(u)}for(var s=0,o=t.streams||[];s<o.length;s++){var a=o[s],c=zi.expand(a);c&&n.addStream(c)}for(var h=0,f=t.candidates||[];h<f.length;h++){var v=f[h],l=Bi.expand(v);l&&n.addCandidate(l)}return t.ice&&n.setICE(Ui.expand(t.ice)),t.dtls&&n.setDTLS(Fi.expand(t.dtls)),t.crypto&&n.setCrypto(Vi.expand(t.crypto)),t.extmapAllowMixedNotSupported&&(this.extmapAllowMixed=!t.extmapAllowMixedNotSupported),n},tr.clone=function(t){return"SDPInfo"===t.constructor.name?t.clone():tr.expand(t)},tr.process=function(t){return tr.parse(t)},tr.parse=function(t){var n=Pi.parse(t),i=new tr;if(i.setVersion(n.version),n.iceUfrag&&n.icePwd){var r=String(n.iceUfrag),e=String(n.icePwd),u=new Ui(r,e);u.setLite("ice-lite"==n.icelite),u.setEndOfCandidates("end-of-candidates"==n.endOfCandidates),i.setICE(u)}for(var s in n.media){var o=n.media[s],a=o.type,c=o.mid?o.mid.toString():s,h=new Wi(c,a);if(o.iceUfrag&&o.icePwd){var f=String(o.iceUfrag),v=String(o.icePwd),l=new Ui(f,v);l.setLite("ice-lite"==n.icelite),l.setEndOfCandidates("end-of-candidates"==o.endOfCandidates),i.setICE(l)}for(var d=0;o.candidates&&d<o.candidates.length;++d){var g=o.candidates[d],m=new Bi(g.foundation,g.component,g.transport,g.priority,g.ip,g.port,g.type,g.raddr,g.rport);i.addCandidate(m)}var w=o.fingerprint||n.fingerprint;if(w){var p=w.type,y=w.hash,_=ji.ACTPASS;o.setup&&(_=ji.byValue(o.setup)),i.setDTLS(new Fi(_,p,y))}if(o.crypto){var b=o.crypto[0];i.setCrypto(new Vi(b.id,b.suite,b.config,b.sessionConfig))}var k=Zi.SENDRECV;o.direction&&(k=Zi.byValue(o.direction),h.setDirection(k)),o.control&&h.setControl(o.control),i.setExtmapAllowMixed("extmap-allow-mixed"==o.extmapAllowMixed||"extmap-allow-mixed"==n.extmapAllowMixed);var A=new Map;for(var S in o.rtp){var E=o.rtp[S],I=E.payload,R=E.codec;if("RED"!==R.toUpperCase()&&"ULPFEC"!==R.toUpperCase()){var C={};for(var N in o.fmtp){var x=o.fmtp[N];if(x.payload===I){var D=x.config.split(";");for(var P in D){var M=D[P].split("="),B=M[0].trim(),O=M.splice(1).join("=").trim();C[B]=O}}}if("RTX"===R.toUpperCase())A.set(T(C.apt),I);else{var L=new Oi(R,I,C);E.encoding>1&&L.setChannels(E.encoding),h.addCodec(L)}}}for(var F=0,V=A.entries();F<V.length;F++){var U=V[F],W=h.getCodecForType(U[0]);W&&W.setRTX(U[1])}for(var j=0;o.rtcpFb&&j<o.rtcpFb.length;++j){var Z=h.getCodecForType(o.rtcpFb[j].payload);if(Z){var X=o.rtcpFb[j].type,G=o.rtcpFb[j].subtype?o.rtcpFb[j].subtype.split(" "):null;Z.addRTCPFeedback(new Li(X,G))}}var H=o.ext;for(var z in H){var Y=H[z];h.addExtension(Y.value,Y.uri)}var K=o.rids;for(var q in K){var J=K[q],Q=new Qi(J.id,Xi.byValue(J.direction)),$=[],tt=new Map;if(J.params){var nt=Pi.parseParams(J.params);for(var it in nt)"pt"===it?$=nt[it].split(","):tt.set(it,nt[it]);Q.setFormats($),Q.setParams(tt)}h.addRID(Q)}var rt=[];if(o.simulcast){var et=new qi;if(o.simulcast.dir1)for(var ut=Xi.byValue(o.simulcast.dir1),st=Pi.parseSimulcastStreamList(o.simulcast.list1),ot=0;ot<st.length;++ot){for(var at=[],ct=0;ct<st[ot].length;++ct)at.push(new Ji(st[ot][ct].scid,st[ot][ct].paused));et.addSimulcastAlternativeStreams(ut,at)}if(o.simulcast.dir2)for(var ht=Xi.byValue(o.simulcast.dir2),ft=Pi.parseSimulcastStreamList(o.simulcast.list2),vt=0;vt<ft.length;++vt){for(var lt=[],dt=0;dt<ft[vt].length;++dt)lt.push(new Ji(ft[vt][dt].scid,ft[vt][dt].paused));et.addSimulcastAlternativeStreams(ht,lt)}for(var gt=0,mt=et.getSimulcastStreams(Xi.SEND);gt<mt.length;gt++){for(var wt=mt[gt],pt=[],yt=0;yt<wt.length;yt++){var _t=new Ki(wt[yt].getId(),wt[yt].isPaused()),bt=h.getRID(_t.getId());if(bt){for(var kt=bt.getFormats(),At=0;kt&&At<kt.length;++At){var Tt=h.getCodecForType(kt[At]);Tt&&_t.addCodec(Tt)}_t.setParams(bt.getParams()),pt.push(_t)}}pt.length&&rt.push(pt)}h.setSimulcast(et)}var St=new Map;if(o.ssrcs)for(var Et in o.ssrcs){var It=o.ssrcs[Et],Rt=It.id,Ct=It.attribute,Nt=It.value,xt=St.get(Rt);if(xt||(xt=new Hi(Rt),St.set(xt.getSSRC(),xt)),Mi("cname",Ct))xt.setCName(Nt);else if(Mi("msid",Ct)){var Dt=Nt.split(" "),Pt=Dt[0],Mt=Dt[1];xt.setStreamId(Pt),xt.setTrackId(Mt);var Bt=i.getStream(Pt);Bt||(Bt=new zi(Pt),i.addStream(Bt));var Ot=Bt.getTrack(Mt);Ot||((Ot=new Yi(a,Mt)).setMediaId(c),Ot.setEncodings(rt),Bt.addTrack(Ot)),Ot.addSSRC(Rt)}}if(o.msid){var Lt=o.msid.split(" "),Ft=Lt[0],Vt=Lt[1],Ut=i.getStream(Ft);Ut||(Ut=new zi(Ft),i.addStream(Ut));var Wt=Ut.getTrack(Vt);Wt||((Wt=new Yi(a,Vt)).setMediaId(c),Wt.setEncodings(rt),Ut.addTrack(Wt));for(var jt=0,Zt=St.entries();jt<Zt.length;jt++){var Xt=nn(Zt[jt],2),Gt=Xt[0],Ht=Xt[1];Ht.getStreamId()||(Ht.setStreamId(Ft),Ht.setTrackId(Vt),Wt.addSSRC(Gt))}}for(var zt=0,Yt=St.entries();zt<Yt.length;zt++){var Kt=nn(Yt[zt],2),qt=Kt[0],Jt=Kt[1];if(!Jt.getStreamId()){var Qt=Jt.getCName(),$t=c;Jt.setStreamId(Qt),Jt.setTrackId($t);var tn=i.getStream(Qt);tn||(tn=new zi(Qt),i.addStream(tn));var rn=tn.getTrack($t);rn||((rn=new Yi(a,$t)).setMediaId(c),rn.setEncodings(rt),tn.addTrack(rn)),rn.addSSRC(qt)}}if(o.ssrcGroups)for(var en in o.ssrcGroups){var un=o.ssrcGroups[en],sn=un.ssrcs.split(" "),on=new Gi(un.semantics,sn),an=St.get(T(sn[0]));an&&i.getStream(an.getStreamId()).getTrack(an.getTrackId()).addSourceGroup(on)}if("application"==o.type&&"webrtc-datachannel"==o.payloads){var cn=new $i(o.sctpPort,o.maxMessageSize);h.setDataChannel(cn)}i.addMedia(h)}return i};var nr=tr;k.defineProperty(Yt,"__esModule",{value:!0});var ir=Yt.SDPInfo=nr;Yt.CandidateInfo=ln,Yt.CodecInfo=yn,Yt.DTLSInfo=Sn,Yt.CryptoInfo=In,Yt.ICEInfo=Hn;var rr=Yt.MediaInfo=mi;Yt.Setup=kn,Yt.SourceGroupInfo=pi,Yt.SourceInfo=_i,Yt.StreamInfo=Di,Yt.TrackInfo=Ii,Yt.RTCPFeedbackInfo=gn,Yt.TrackEncodingInfo=Ai,Yt.RIDInfo=Jn,Yt.SimulcastInfo=ri,Yt.SimulcastStreamInfo=$n,Yt.DataChannelInfo=oi;var er=Yt.Direction=ui,ur={exports:{}};!function(t,n){!function(i,r){var e="function",u="undefined",s="object",o="string",a="major",c="model",h="name",f="type",v="vendor",l="version",d="architecture",g="console",m="mobile",w="tablet",p="smarttv",y="wearable",_="embedded",b="Amazon",k="Apple",A="ASUS",T="BlackBerry",S="Browser",E="Chrome",I="Firefox",R="Google",C="Huawei",N="LG",x="Microsoft",D="Motorola",P="Opera",M="Samsung",B="Sharp",O="Sony",L="Xiaomi",F="Zebra",V="Facebook",U="Chromium OS",j="Mac OS",Z=" Browser",X=function(t){for(var n={},i=0;i<t.length;i++)n[t[i].toUpperCase()]=t[i];return n},G=function(t,n){return(void 0===t?"undefined":W(t))===o&&-1!==H(n).indexOf(H(t))},H=function(t){return t.toLowerCase()},z=function(t,n){if((void 0===t?"undefined":W(t))===o)return t=t.replace(/^\s\s*/,""),(void 0===n?"undefined":W(n))===u?t:t.substring(0,500)},Y=function(t,n){for(var i,u,o,a,c,h,f=0;f<n.length&&!c;){var v=n[f],l=n[f+1];for(i=u=0;i<v.length&&!c&&v[i];)if(c=v[i++].exec(t))for(o=0;o<l.length;o++)h=c[++u],(void 0===(a=l[o])?"undefined":W(a))===s&&a.length>0?2===a.length?W(a[1])==e?this[a[0]]=a[1].call(this,h):this[a[0]]=a[1]:3===a.length?W(a[1])!==e||a[1].exec&&a[1].test?this[a[0]]=h?h.replace(a[1],a[2]):r:this[a[0]]=h?a[1].call(this,h,a[2]):r:4===a.length&&(this[a[0]]=h?a[3].call(this,h.replace(a[1],a[2])):r):this[a]=h||r;f+=2}},K=function(t,n){for(var i in n)if(W(n[i])===s&&n[i].length>0){for(var e=0;e<n[i].length;e++)if(G(n[i][e],t))return"?"===i?r:i}else if(G(n[i],t))return"?"===i?r:i;return n.hasOwnProperty("*")?n["*"]:t},q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},J={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[l,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[l,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,l],[/opios[\/ ]+([\w\.]+)/i],[l,[h,P+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[l,[h,P+" GX"]],[/\bopr\/([\w\.]+)/i],[l,[h,P]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[l,[h,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,l],[/quark(?:pc)?\/([-\w\.]+)/i],[l,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[l,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[l,[h,"UC"+S]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[l,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[l,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[l,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[l,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[l,[h,"Smart Lenovo "+S]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+S],l],[/\bfocus\/([\w\.]+)/i],[l,[h,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[l,[h,P+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[l,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[l,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[l,[h,P+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[l,[h,"MIUI "+S]],[/fxios\/([-\w\.]+)/i],[l,[h,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[h,"360"+Z]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],l],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+Z],l],[/samsungbrowser\/([\w\.]+)/i],[l,[h,M+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],l],[/metasr[\/ ]?([\d\.]+)/i],[l,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],l],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[h,l],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,V],l],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,l],[/\bgsa\/([\w\.]+) .*safari\//i],[l,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[l,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[l,[h,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,E+" WebView"],l],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[l,[h,"Android "+S]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,l],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[l,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[l,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[l,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,l],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],l],[/(wolvic)\/([\w\.]+)/i],[h,l],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[l,[h,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[h,[l,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[l,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[d,"amd64"]],[/(ia32(?=;))/i],[[d,H]],[/((?:i[346]|x)86)[;\)]/i],[[d,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[d,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[d,"armhf"]],[/windows (ce|mobile); ppc;/i],[[d,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[d,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[d,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[d,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[v,M],[f,w]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[c,[v,M],[f,m]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[v,k],[f,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[v,k],[f,w]],[/(macintosh);/i],[c,[v,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[v,B],[f,m]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[v,C],[f,w]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[v,C],[f,m]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[c,/_/g," "],[v,L],[f,m]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[v,L],[f,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[v,"OPPO"],[f,m]],[/\b(opd2\d{3}a?) bui/i],[c,[v,"OPPO"],[f,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[v,"Vivo"],[f,m]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[c,[v,"Realme"],[f,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[v,D],[f,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[v,D],[f,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[v,N],[f,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[v,N],[f,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[v,"Lenovo"],[f,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[v,"Nokia"],[f,m]],[/(pixel c)\b/i],[c,[v,R],[f,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[v,R],[f,m]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[v,O],[f,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[v,O],[f,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[v,"OnePlus"],[f,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[v,b],[f,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[v,b],[f,m]],[/(playbook);[-\w\),; ]+(rim)/i],[c,v,[f,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[v,T],[f,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[v,A],[f,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[v,A],[f,m]],[/(nexus 9)/i],[c,[v,"HTC"],[f,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[c,/_/g," "],[f,m]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[c,[v,"TCL"],[f,w]],[/(itel) ((\w+))/i],[[v,H],c,[f,K,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[v,"Acer"],[f,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[v,"Meizu"],[f,m]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[c,[v,"Ulefone"],[f,m]],[/droid.+; (a(?:015|06[35]|142p?))/i],[c,[v,"Nothing"],[f,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,c,[f,m]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,c,[f,w]],[/(surface duo)/i],[c,[v,x],[f,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[v,"Fairphone"],[f,m]],[/(u304aa)/i],[c,[v,"AT&T"],[f,m]],[/\bsie-(\w*)/i],[c,[v,"Siemens"],[f,m]],[/\b(rct\w+) b/i],[c,[v,"RCA"],[f,w]],[/\b(venue[\d ]{2,7}) b/i],[c,[v,"Dell"],[f,w]],[/\b(q(?:mv|ta)\w+) b/i],[c,[v,"Verizon"],[f,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[v,"Barnes & Noble"],[f,w]],[/\b(tm\d{3}\w+) b/i],[c,[v,"NuVision"],[f,w]],[/\b(k88) b/i],[c,[v,"ZTE"],[f,w]],[/\b(nx\d{3}j) b/i],[c,[v,"ZTE"],[f,m]],[/\b(gen\d{3}) b.+49h/i],[c,[v,"Swiss"],[f,m]],[/\b(zur\d{3}) b/i],[c,[v,"Swiss"],[f,w]],[/\b((zeki)?tb.*\b) b/i],[c,[v,"Zeki"],[f,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],c,[f,w]],[/\b(ns-?\w{0,9}) b/i],[c,[v,"Insignia"],[f,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[v,"NextBook"],[f,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],c,[f,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],c,[f,m]],[/\b(ph-1) /i],[c,[v,"Essential"],[f,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[v,"Envizen"],[f,w]],[/\b(trio[-\w\. ]+) b/i],[c,[v,"MachSpeed"],[f,w]],[/\btu_(1491) b/i],[c,[v,"Rotor"],[f,w]],[/(shield[\w ]+) b/i],[c,[v,"Nvidia"],[f,w]],[/(sprint) (\w+)/i],[v,c,[f,m]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[v,x],[f,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[v,F],[f,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[v,F],[f,m]],[/smart-tv.+(samsung)/i],[v,[f,p]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[v,M],[f,p]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,N],[f,p]],[/(apple) ?tv/i],[v,[c,k+" TV"],[f,p]],[/crkey/i],[[c,E+"cast"],[v,R],[f,p]],[/droid.+aft(\w+)( bui|\))/i],[c,[v,b],[f,p]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[v,B],[f,p]],[/(bravia[\w ]+)( bui|\))/i],[c,[v,O],[f,p]],[/(mitv-\w{5}) bui/i],[c,[v,L],[f,p]],[/Hbbtv.*(technisat) (.*);/i],[v,c,[f,p]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,z],[c,z],[f,p]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,p]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,c,[f,g]],[/droid.+; (shield) bui/i],[c,[v,"Nvidia"],[f,g]],[/(playstation [345portablevi]+)/i],[c,[v,O],[f,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[v,x],[f,g]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[c,[v,M],[f,y]],[/((pebble))app/i],[v,c,[f,y]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[v,k],[f,y]],[/droid.+; (glass) \d/i],[c,[v,R],[f,y]],[/droid.+; (wt63?0{2,3})\)/i],[c,[v,F],[f,y]],[/(quest( \d| pro)?)/i],[c,[v,V],[f,y]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[f,_]],[/(aeobc)\b/i],[c,[v,b],[f,_]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[c,[f,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[f,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,m]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[l,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,l],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[l,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,l],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[h,[l,K,q]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[l,K,q],[h,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[l,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,j],[l,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[l,h],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[h,l],[/\(bb(10);/i],[l,[h,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[l,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[l,[h,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[l,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[l,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[l,[h,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,U],l],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,l],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],l],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,l]]},Q=function(t,n){if((void 0===t?"undefined":W(t))===s&&(n=t,t=r),!(this instanceof Q))return new Q(t,n).getResult();var g=(void 0===i?"undefined":W(i))!==u&&i.navigator?i.navigator:r,p=t||(g&&g.userAgent?g.userAgent:""),y=g&&g.userAgentData?g.userAgentData:r,_=n?function(t,n){var i={};for(var r in t)n[r]&&n[r].length%2==0?i[r]=n[r].concat(t[r]):i[r]=t[r];return i}(J,n):J,b=g&&g.userAgent==p;return this.getBrowser=function(){var t={};return t[h]=r,t[l]=r,Y.call(t,p,_.browser),t[a]=function(t){return(void 0===t?"undefined":W(t))===o?t.replace(/[^\d\.]/g,"").split(".")[0]:r}(t[l]),b&&g&&g.brave&&W(g.brave.isBrave)==e&&(t[h]="Brave"),t},this.getCPU=function(){var t={};return t[d]=r,Y.call(t,p,_.cpu),t},this.getDevice=function(){var t={};return t[v]=r,t[c]=r,t[f]=r,Y.call(t,p,_.device),b&&!t[f]&&y&&y.mobile&&(t[f]=m),b&&"Macintosh"==t[c]&&g&&W(g.standalone)!==u&&g.maxTouchPoints&&g.maxTouchPoints>2&&(t[c]="iPad",t[f]=w),t},this.getEngine=function(){var t={};return t[h]=r,t[l]=r,Y.call(t,p,_.engine),t},this.getOS=function(){var t={};return t[h]=r,t[l]=r,Y.call(t,p,_.os),b&&!t[h]&&y&&y.platform&&"Unknown"!=y.platform&&(t[h]=y.platform.replace(/chrome os/i,U).replace(/macos/i,j)),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return p},this.setUA=function(t){return p=(void 0===t?"undefined":W(t))===o&&t.length>500?z(t,500):t,this},this.setUA(p),this};Q.VERSION="0.7.39",Q.BROWSER=X([h,l,a]),Q.CPU=X([d]),Q.DEVICE=X([c,v,f,g,m,p,w,y,_]),Q.ENGINE=Q.OS=X([h,l]),t.exports&&(n=t.exports=Q),n.UAParser=Q;var $=(void 0===i?"undefined":W(i))!==u&&(i.jQuery||i.Zepto);if($&&!$.ua){var tt=new Q;$.ua=tt.getResult(),$.ua.get=function(){return tt.getUA()},$.ua.set=function(t){tt.setUA(t);var n=tt.getResult();for(var i in n)$.ua[i]=n[i]}}}("object"==(void 0===f?"undefined":W(f))?f:N)}(ur,ur.exports);var sr=x(ur.exports),or=["iOS"],ar=function(t){function n(){return t.call(this,f.navigator.userAgent)||this}Rt(n,t);var i=n.prototype;return i.isChromium=function(){return this.getUA().match(/Chrome/i)},i.isChrome=function(){var t=this.getBrowser();if(!t.name)return!1;var n,i=this.getOS();return n=!new RegExp(or.join("|"),"i").test(i.name),t.name.match(/Chrome/i)&&n},i.isFirefox=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Firefox/i)},i.isOpera=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Opera/i)},i.isSafari=function(){var t=this.getBrowser();return!!t.name&&t.name.match(/Safari/i)},n}(sr),cr=gt.get("SdpParser"),hr=Array.from({length:31},(function(t,n){return n+35})),fr=Array.from({length:32},(function(t,n){return n+96})),vr=Array.from({length:14},(function(t,n){return n+1})),lr=Array.from({length:240},(function(t,n){return n+16})),dr={setSimulcast:function(t,n){if(cr.info("Setting simulcast. Codec: ",n),!(new ar).isChromium())return cr.warn("Your browser does not appear to support Simulcast. For a better experience, use a Chromium based browser."),t;if("h264"!==n&&"vp8"!==n)return cr.warn("Your selected codec ".concat(n," does not appear to support Simulcast.  To broadcast using simulcast, please use H.264 or VP8.")),t;if(!/m=video/.test(t))return cr.warn("There is no available video for simulcast to be enabled."),t;try{for(var i=new RegExp("m=video.*?a=ssrc:(\\d*) cname:(.+?)\\r\\n","s"),r=new RegExp("m=video.*?a=ssrc:(\\d*) msid:(.+?)\\r\\n","s"),e=i.exec(t),u=e[1],s=e[2],o=r.exec(t)[2],a=[u],c=0;c<2;++c){var h=100+2*c,f=h+1;a.push(h),t+="a=ssrc-group:FID "+h+" "+f+"\r\na=ssrc:"+h+" cname:"+s+"\r\na=ssrc:"+h+" msid:"+o+"\r\na=ssrc:"+f+" cname:"+s+"\r\na=ssrc:"+f+" msid:"+o+"\r\n"}return t+="a=ssrc-group:SIM "+a.join(" ")+"\r\n",cr.info("Simulcast setted"),cr.debug("Simulcast SDP: ",t),t}catch(t){throw cr.error("Error setting SDP for simulcast: ",t),t}},setStereo:function(t){return cr.info("Replacing SDP response for support stereo"),t=t.replace(/useinbandfec=1/g,"useinbandfec=1; stereo=1"),cr.info("Replaced SDP response for support stereo"),cr.debug("New SDP value: ",t),t},setDTX:function(t){return cr.info("Replacing SDP response for support dtx"),t=t.replace("useinbandfec=1","useinbandfec=1; usedtx=1"),cr.info("Replaced SDP response for support dtx"),cr.debug("New SDP value: ",t),t},setAbsoluteCaptureTime:function(t){var n="a=extmap:"+dr.getAvailableHeaderExtensionIdRange(t)[0]+" http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(function(t,i,r){return i+n+r})),cr.info("Replaced SDP response for setting absolute capture time"),cr.debug("New SDP value: ",t),t},setDependencyDescriptor:function(t){var n="a=extmap:"+dr.getAvailableHeaderExtensionIdRange(t)[0]+" https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension\r\n";return t=t.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(function(t,i,r){return i+n+r})),cr.info("Replaced SDP response for setting depency descriptor"),cr.debug("New SDP value: ",t),t},setVideoBitrate:function(t,n){if(n<1)cr.info("Remove bitrate restrictions"),t=t.replace(/b=AS:.*\r\n/,"").replace(/b=TIAS:.*\r\n/,"");else{var i=ir.parse(t),r=i.getMedia("video");cr.info("Setting video bitrate"),r.setBitrate(n),t=i.toString()}return t},removeSdpLine:function(t,n){return cr.debug("SDP before trimming: ",t),t=t.split("\n").filter((function(t){return t.trim()!==n})).join("\n"),cr.debug("SDP trimmed result: ",t),t},adaptCodecName:function(t,n,i){if(!t)return t;var r=new RegExp("".concat(n),"i");return t.replace(r,i)},setMultiopus:function(t,n){if(!(new ar).isFirefox()&&(!n||gr(n)))if(t.includes("multiopus/48000/6"))cr.info("Multiopus already setted");else{cr.info("Setting multiopus");var i=/m=audio 9 UDP\/TLS\/RTP\/SAVPF (.*)\r\n/.exec(t)[0],r=dr.getAvailablePayloadTypeRange(t)[0],e=i.replace("\r\n"," ")+r+"\r\na=rtpmap:"+r+" multiopus/48000/6\r\na=fmtp:"+r+" channel_mapping=0,4,1,2,3,5;coupled_streams=2;minptime=10;num_streams=4;useinbandfec=1\r\n";t=t.replace(i,e),cr.info("Multiopus offer created"),cr.debug("SDP parsed for multioups: ",t)}return t},getAvailablePayloadTypeRange:function(t){for(var n=function(t){var n=i[t][1].split(" ").map((function(t){return T(t)}));r=r.filter((function(t){return!n.includes(t)}))},i=t.matchAll(/m=(?:.*) (?:.*) UDP\/TLS\/RTP\/SAVPF (.*)\r\n/gm),r=fr.concat(hr),e=0;e<i.length;e++)n(e);return r},getAvailableHeaderExtensionIdRange:function(t){for(var n=function(t){var n=i[t][1].split(" ").map((function(t){return T(t)}));r=r.filter((function(t){return!n.includes(t)}))},i=t.matchAll(/a=extmap:(\d+)(?:.*)\r\n/gm),r=vr.concat(lr),e=0;e<i.length;e++)n(e);return r},renegotiate:function(t,n){for(var i=ir.parse(t),r=ir.parse(n),e=0,u=i.getMedias();e<u.length;e++){var s=u[e],o=r.getMediaById(s.getId());if(!o){(o=new rr(s.getId(),s.getType())).setDirection(er.reverse(s.getDirection()));var a=r.getMedia(s.getType());if(a){o.setCodecs(a.getCodecs());for(var c=0,h=a.getExtensions();c<h.length;c++){var f=nn(h[c],2),v=f[0],l=f[1];o.addExtension(v,l)}}r.addMedia(o)}}return r.toString()},updateMissingVideoExtensions:function(t,n){var i,r=ir.parse(t),e=null==(i=ir.parse(n).getMediasByType("video")[0])?void 0:i.getExtensions();if(e||e.length){for(var u=function(n,i){var r=i[n],u=r.getExtensions();e.forEach((function(n,i){if(!u.get(i)){var e=r.getId(),s="a=extmap:"+i+" "+n+"\r\n",o=new RegExp("(a=mid:"+e+"\r\n(?:.*\r\n)*?)","g");t=t.replace(o,(function(t,n,i){return n+s}))}}))},s=0,o=r.getMediasByType("video");s<o.length;s++)u(s,o);return t}},getCodecPayloadType:function(t){for(var n=t.matchAll(/a=rtpmap:(\d+) (\w+)\/\d+/g),i={},r=0;r<n.length;r++){var e=n[r];i[e[1]]=e[2]}return i}},gr=function(t){return t.getAudioTracks().some((function(t){return t.getSettings().channelCount>2}))},mr={VP8:"vp8",VP9:"vp9",H264:"h264",AV1:"av1",H265:"h265"},wr={OPUS:"opus",MULTIOPUS:"multiopus"},pr=gt.get("PeerConnection"),yr="Publisher",_r="Viewer",br={track:"track",connectionStateChange:"connectionStateChange"},kr={stereo:!1,mediaStream:null,codec:"h264",simulcast:!1,scalabilityMode:null,disableAudio:!1,disableVideo:!1,setSDPToPeer:!0},Ar=function(t){function n(){var n;return(n=t.call(this)||this).mode=null,n.sessionDescription=null,n.peer=null,n.peerConnectionStats=null,n.transceiverMap=new Map,n}Rt(n,t);var i=n.prototype;return i.createRTCPeer=function(t,n){void 0===t&&(t={autoInitStats:!0,statsIntervalMs:1e3}),void 0===n&&(n=_r);var i=this;return Zt((function(){return Ht(this,(function(r){return pr.info("Creating new RTCPeerConnection"),pr.debug("RTC configuration provided by user: ",t),i.peer=Er(i,t),i.mode=n,t.autoInitStats&&i.initStats(t),[2]}))}))()},i.getRTCPeer=function(){return pr.info("Getting RTC Peer"),this.peer},i.closeRTCPeer=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return pr.info("Closing RTCPeerConnection"),null==(n=t.peer)||n.close(),t.peer=null,t.stopStats(),t.emit(br.connectionStateChange,"closed"),[2]}))}))()},i.setRTCRemoteSDP=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:pr.info("Setting RTC Remote SDP"),i={type:"answer",sdp:t},e.label=1;case 1:return e.trys.push([1,3,,4]),[4,n.peer.setRemoteDescription(i)];case 2:return e.sent(),pr.info("RTC Remote SDP was set successfully."),pr.debug("RTC Remote SDP new value: ",t),[3,4];case 3:throw r=e.sent(),pr.error("Error while setting RTC Remote SDP: ",r),r;case 4:return[2]}}))}))()},i.getRTCLocalSDP=function(t){void 0===t&&(t=kr);var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return pr.info("Getting RTC Local SDP"),t=m(m({},kr),t),pr.debug("Options: ",t),(i=Sr(t.mediaStream))?Nr(n.peer,i,t):xr(n.peer,t),pr.info("Creating peer offer"),[4,n.peer.createOffer()];case 1:return r=e.sent(),pr.info("Peer offer created"),pr.debug("Peer offer response: ",r.sdp),n.sessionDescription=r,t.disableAudio||(t.stereo&&(n.sessionDescription.sdp=dr.setStereo(n.sessionDescription.sdp)),t.dtx&&(n.sessionDescription.sdp=dr.setDTX(n.sessionDescription.sdp)),n.sessionDescription.sdp=dr.setMultiopus(n.sessionDescription.sdp,i)),!t.disableVideo&&t.simulcast&&(n.sessionDescription.sdp=dr.setSimulcast(n.sessionDescription.sdp,t.codec)),t.absCaptureTime&&(n.sessionDescription.sdp=dr.setAbsoluteCaptureTime(n.sessionDescription.sdp)),t.dependencyDescriptor&&(n.sessionDescription.sdp=dr.setDependencyDescriptor(n.sessionDescription.sdp)),t.setSDPToPeer?[4,n.peer.setLocalDescription(n.sessionDescription)]:[3,3];case 2:e.sent(),pr.info("Peer local description set"),e.label=3;case 3:return[2,n.sessionDescription.sdp]}}))}))()},i.addRemoteTrack=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,new ut((function(r,e){try{var u=i.peer.addTransceiver(t,{direction:"recvonly",streams:n});i.transceiverMap.set(u,r)}catch(t){e(t)}}))]}))}))()},i.updateBandwidthRestriction=function(t,n){if(this.mode===_r)throw pr.error("Viewer attempting to update bitrate, this is not allowed"),new y("It is not possible for a viewer to update the bitrate.");return pr.info("Updating bandwidth restriction, bitrate value: ",n),pr.debug("SDP value: ",t),dr.setVideoBitrate(t,n)},i.updateBitrate=function(t){void 0===t&&(t=0);var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(n.mode===_r)throw pr.error("Viewer attempting to update bitrate, this is not allowed"),new y("It is not possible for a viewer to update the bitrate.");if(!n.peer)throw pr.error("Cannot update bitrate. No peer found."),new y("Cannot update bitrate. No peer found.");return pr.info("Updating bitrate to value: ",t),[4,n.peer.createOffer()];case 1:return n.sessionDescription=r.sent(),[4,n.peer.setLocalDescription(n.sessionDescription)];case 2:return r.sent(),i=n.updateBandwidthRestriction(n.peer.remoteDescription.sdp,t),[4,n.setRTCRemoteSDP(i)];case 3:return r.sent(),pr.info("Bitrate restrictions updated: ","".concat(t>0?t:"unlimited"," kbps")),[2]}}))}))()},i.getRTCPeerStatus=function(){if(pr.info("Getting RTC peer status"),!this.peer)return null;var t=Dr(this.peer);return pr.info("RTC peer status getted, value: ",t),t},i.replaceTrack=function(t){if(this.peer){var n=this.peer.getSenders().find((function(n){return n.track.kind===t.kind}));n?n.replaceTrack(t):pr.error("There is no ".concat(t.kind," track in active broadcast."))}else pr.error("Could not change track if there is not an active connection.")},i.getTracks=function(){var t,n;return null==(n=null==(t=this.peer)?void 0:t.getSenders())?void 0:n.map((function(t){return t.track}))},i.initStats=function(t){this.peerConnectionStats?pr.warn("PeerConnection.initStats() has already been called. Automatic initialization occurs via View.connect(), Publish.connect() or this.createRTCPeer(). See options"):this.peer?(this.peerConnectionStats=new Gt(this.peer,t),Ft(this.peerConnectionStats,this,[Xt])):pr.warn("Cannot init peer stats: RTCPeerConnection not initialized")},i.stopStats=function(){var t;null==(t=this.peerConnectionStats)||t.stop(),this.peerConnectionStats=null},n.getCapabilities=function(t){var n=new ar,i=RTCRtpSender.getCapabilities(t);if(i){var r={},e=new RegExp("^video/(".concat(k.values(mr).join("|"),")x?$"),"i");"audio"===t&&(e=new RegExp("^audio/(".concat(k.values(wr).join("|"),")$"),"i"),n.isChrome()&&(r.multiopus={mimeType:"audio/multiopus",channels:6}));for(var u=0,s=i.codecs;u<s.length;u++){var o=s[u],a=o.mimeType.match(e);if(a){var c=a[1].toLowerCase();if(r[c]=b(m({},r[c]),{mimeType:o.mimeType}),o.scalabilityModes){var h=r[c].scalabilityModes||[];h=Ut(h).concat(Ut(o.scalabilityModes)),r[c].scalabilityModes=Ut(new Set(h))}o.channels&&(r[c].channels=o.channels)}}i.codecs=k.keys(r).map((function(t){return m({codec:t},r[t])}))}return i},n}(Mt),Tr=function(t){return(null==t?void 0:t.getAudioTracks().length)<=1&&(null==t?void 0:t.getVideoTracks().length)<=1},Sr=function(t){if(!t)return null;if(t instanceof MediaStream&&Tr(t))return t;if(!(t instanceof MediaStream)){pr.info("Creating MediaStream to add received tracks.");for(var n=new MediaStream,i=0;i<t.length;i++){var r=t[i];n.addTrack(r)}if(Tr(n))return n}throw pr.error("MediaStream must have 1 audio track and 1 video track, or at least one of them."),new y("MediaStream must have 1 audio track and 1 video track, or at least one of them.")},Er=function(t,n){var i=new RTCPeerConnection(n);return Cr(t,i),i};function Ir(t){return Rr.apply(this,arguments)}function Rr(){return Rr=Zt((function(t){return Ht(this,(function(n){return[2,new ut((function(n){return g(n,t)}))]}))})),Rr.apply(this,arguments)}var Cr=function(t,n){n.ontrack=Zt((function(n){var i;return Ht(this,(function(r){switch(r.label){case 0:if(pr.info("New track from peer."),pr.debug("Track event value: ",n),!(i=t.transceiverMap.get(n.transceiver)))return[3,5];r.label=1;case 1:return n.transceiver.mid?[3,4]:[4,Ir(100)];case 2:r.sent(),r.label=3;case 3:return[3,1];case 4:i(n.transceiver),t.transceiverMap.delete(n.transceiver),r.label=5;case 5:return g((function(){t.emit(br.track,n)}),0),[2]}}))})),n.connectionState?n.onconnectionstatechange=function(i){pr.info("Peer connection state change: ",n.connectionState),t.emit(br.connectionStateChange,n.connectionState)}:n.oniceconnectionstatechange=function(i){pr.info("Peer ICE connection state change: ",n.iceConnectionState),t.emit(br.connectionStateChange,n.iceConnectionState)},n.onnegotiationneeded=Zt((function(t){var i,r;return Ht(this,(function(t){switch(t.label){case 0:return n.remoteDescription?(pr.info("Peer onnegotiationneeded, updating local description"),[4,n.createOffer()]):[2];case 1:return i=t.sent(),pr.info("Peer onnegotiationneeded, got local offer",i.sdp),i.sdp=dr.updateMissingVideoExtensions(i.sdp,n.remoteDescription.sdp),[4,n.setLocalDescription(i)];case 2:return t.sent(),r=dr.renegotiate(i.sdp,n.remoteDescription.sdp),pr.info("Peer onnegotiationneeded, updating remote description",r),[4,n.setRemoteDescription({type:"answer",sdp:r})];case 3:return t.sent(),pr.info("Peer onnegotiationneeded, renegotiation done"),[2]}}))}))},Nr=function(t,n,i){pr.info("Adding mediaStream tracks to RTCPeerConnection");for(var r=0,e=n.getTracks();r<e.length;r++){var u=e[r],s={streams:[n]};"audio"===u.kind&&(s.direction=i.disableAudio?"inactive":"sendonly"),"video"===u.kind&&(s.direction=i.disableVideo?"inactive":"sendonly",i.scalabilityMode&&(new ar).isChrome()?(pr.debug("Video track with scalability mode: ".concat(i.scalabilityMode,".")),s.sendEncodings=[{scalabilityMode:i.scalabilityMode}]):i.scalabilityMode&&pr.warn("SVC is only supported in Google Chrome")),t.addTransceiver(u,s),pr.info("Track '".concat(u.label,"' added: "),"id: ".concat(u.id),"kind: ".concat(u.kind))}},xr=function(t,n){var i=new ar;if(!n.disableVideo){var r=t.addTransceiver("video",{direction:"recvonly"});i.isOpera()&&r.setCodecPreferences(RTCRtpReceiver.getCapabilities("video").codecs.filter((function(t){return"video/H264"!==t.mimeType||t.sdpFmtpLine.includes("profile-level-id=4")})))}n.disableAudio||t.addTransceiver("audio",{direction:"recvonly"});for(var e=0;e<n.multiplexedAudioTracks;e++)t.addTransceiver("audio",{direction:"recvonly"})},Dr=function(t){var n,i=null!=(n=t.connectionState)?n:t.iceConnectionState;switch(i){case"checking":return"connecting";case"completed":return"connected";default:return i}},Pr={};k.defineProperty(Pr,"__esModule",{value:!0}),Pr.TypedEmitter=Pt.EventEmitter;var Mr=Pr.TypedEmitter,Br=function(t){function n(n,i){var r;return(r=t.call(this)||this).namespace=n,r.tm=i,r}Rt(n,t);var i=n.prototype;return i.cmd=function(t,n){return this.tm.cmd(t,n,this.namespace)},i.event=function(t,n){return this.tm.event(t,n,this.namespace)},i.close=function(){return this.tm.namespaces.delete(this.namespace)},n}(Mr),Or=function(t){function n(n){var i;return(i=t.call(this)||this).maxId=0,i.namespaces=new Map,i.transactions=new Map,i.transport=n,i.listener=function(t){var n;try{n=JSON.parse(t.utf8Data||t.data||t)}catch(t){return}switch(n.type){case"cmd":var r=n.transId,e={name:n.name,data:n.data,namespace:n.namespace,accept:function(t){i.o_({type:"response",transId:r,data:t})},reject:function(t){i.o_({type:"error",transId:r,data:t})}};if(e.namespace){var u=i.namespaces.get(e.namespace);u?u.emit("cmd",e):i.emit("cmd",e)}else i.emit("cmd",e);break;case"response":var s=i.transactions.get(n.transId);if(!s)return;i.transactions.delete(n.transId),s.resolve(n.data);break;case"error":var o=i.transactions.get(n.transId);if(!o)return;i.transactions.delete(n.transId),o.reject(n.data);break;case"event":var a={name:n.name,data:n.data,namespace:n.namespace};if(a.namespace){var c=i.namespaces.get(a.namespace);c?c.emit("event",a):i.emit("event",a)}else i.emit("event",a)}},i.transport.addListener?i.transport.addListener("message",i.listener):i.transport.addEventListener("message",i.listener),i}Rt(n,t);var i=n.prototype;return i.o_=function(t){this.transport.send(JSON.stringify(t))},i.cmd=function(t,n,i){var r=this;return void 0===i&&(i=void 0),new ut((function(e,u){if(!t||0===t.length)throw new y("Bad command name");var s={type:"cmd",transId:r.maxId++,name:t,data:n};i&&(s.namespace=i),r.transactions.set(s.transId,b(m({},s),{resolve:e,reject:u}));try{r.o_(s)}catch(t){throw r.transactions.delete(s.transId),t}}))},i.event=function(t,n,i){if(void 0===i&&(i=void 0),!t||0===t.length)throw new y("Bad event name");var r={type:"event",name:t,data:n};i&&(r.namespace=i),this.o_(r)},i.namespace=function(t){var n=this.namespaces.get(t);return n||(n=new Br(t,this),this.namespaces.set(t,n),n)},i.close=function(){for(var t=0,n=this.namespaces.values();t<n.length;t++)n[t].close();this.transport.removeListener?this.transport.removeListener("message",this.listener):this.transport.removeEventListener("message",this.listener)},n}(Mr),Lr=x(Or),Fr=gt.get("Signaling"),Vr="wsConnectionSuccess",Ur="wsConnectionError",Wr="wsConnectionClose",jr="broadcastEvent",Zr=function(t){function n(n){var i;return void 0===n&&(n={streamName:null,url:"ws://localhost:8080/"}),(i=t.call(this)||this).streamName=n.streamName,i.wsUrl=n.url,i.webSocket=null,i.transactionManager=null,i.serverId=null,i.clusterId=null,i.streamViewId=null,i}Rt(n,t);var i=n.prototype;return i.connect=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return[2,(Fr.info("Connecting to Signaling Server"),t.transactionManager&&(null==(n=t.webSocket)?void 0:n.readyState)===WebSocket.OPEN?(Fr.info("Connected to server: ",t.webSocket.url),Fr.debug("WebSocket value: ",{url:t.webSocket.url,protocol:t.webSocket.protocol,readyState:t.webSocket.readyState,binaryType:t.webSocket.binaryType,extensions:t.webSocket.extensions}),t.emit(Vr,{ws:t.webSocket,tm:t.transactionManager}),t.webSocket):new ut((function(n,i){t.webSocket=new WebSocket(t.wsUrl),t.transactionManager=new Lr(t.webSocket),t.webSocket.onopen=function(){Fr.info("WebSocket opened"),t.transactionManager.on("event",(function(n){t.emit(jr,n)})),Fr.info("Connected to server: ",t.webSocket.url),Fr.debug("WebSocket value: ",{url:t.webSocket.url,protocol:t.webSocket.protocol,readyState:t.webSocket.readyState,binaryType:t.webSocket.binaryType,extensions:t.webSocket.extensions}),t.emit(Vr,{ws:t.webSocket,tm:t.transactionManager}),n(t.webSocket)},t.webSocket.onerror=function(){Fr.error("WebSocket not connected: ",t.webSocket.url),t.emit(Ur,t.webSocket.url),i(t.webSocket.url)},t.webSocket.onclose=function(){t.webSocket=null,t.transactionManager=null,Fr.info("Connection closed with Signaling Server."),t.emit(Wr)}})))]}))}))()},i.close=function(){var t;Fr.info("Closing connection with Signaling Server."),null==(t=this.webSocket)||t.close()},i.subscribe=function(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:Fr.info("Starting subscription to streamName: ",e.streamName),Fr.debug("Subcription local description: ",t),c=Xr(n,i,r),t=dr.adaptCodecName(t,"AV1X",mr.AV1),h=["active","inactive","layers","viewercount","vad","updated","migrate","stopped"],f={sdp:t,streamId:e.streamName,pinnedSourceId:c.pinnedSourceId,excludedSourceIds:c.excludedSourceIds,events:h},c.vad&&(f.vad=!0),Array.isArray(c.events)&&(f.events=c.events),c.forcePlayoutDelay&&(f.forcePlayoutDelay=c.forcePlayoutDelay),c.layer&&(f.layer=c.layer),g.label=1;case 1:if(g.trys.push([1,4,,5]),c.disableVideo&&c.disableAudio)throw new y("Not attempting to connect as video and audio are disabled");return[4,e.connect()];case 2:return g.sent(),Fr.info("Sending view command"),[4,e.transactionManager.cmd("view",f)];case 3:return v=g.sent(),l=null==(a=null==(o=null==(s=null==(u=RTCRtpReceiver.getCapabilities)?void 0:u.call(RTCRtpReceiver,"video"))?void 0:s.codecs)?void 0:o.find)?void 0:a.call(o,(function(t){return"video/AV1X"===t.mimeType})),[2,(v.sdp=l?dr.adaptCodecName(v.sdp,mr.AV1,"AV1X"):v.sdp,Fr.info("Command sent, subscriberId: ",v.subscriberId),Fr.debug("Command result: ",v),e.serverId=v.subscriberId,e.clusterId=v.clusterId,e.streamViewId=v.streamViewId,Y(e.streamName),K(e.serverId),q(v.streamViewId),nt(e.clusterId),v.sdp)];case 4:throw d=g.sent(),Fr.error("Error sending view command, error: ",d),d;case 5:return[2]}}))}))()},i.publish=function(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,l,d,g,m,w,p,_;return Ht(this,(function(b){switch(b.label){case 0:if(l=Gr(n,i,r),Fr.info("Starting publishing to streamName: ".concat(e.streamName,", codec: ").concat(l.codec)),Fr.debug("Publishing local description: ",t),d=null!=(a=null==(o=null==(s=null==(u=Ar.getCapabilities)?void 0:u.call(Ar,"video"))?void 0:s.codecs)?void 0:o.map((function(t){return t.codec})))?a:[],-1===(g=k.values(mr)).indexOf(l.codec))throw Fr.error("Invalid codec ".concat(l.codec,". Possible values are: "),g),new y("Invalid codec ".concat(l.codec,". Possible values are: ").concat(g));if(d.length>0&&-1===d.indexOf(l.codec))throw Fr.error("Unsupported codec ".concat(l.codec,". Possible values are: "),d),new y("Unsupported codec ".concat(l.codec,". Possible values are: ").concat(d));if(l.codec===mr.AV1&&(t=dr.adaptCodecName(t,"AV1X",mr.AV1)),m={name:e.streamName,sdp:t,codec:l.codec,sourceId:l.sourceId},l.priority){if(!(Number.isInteger(l.priority)&&l.priority>=-2147483648&&l.priority<=2147483647))throw new y("Invalid value for priority option. It should be a decimal integer between the range [-2^31, +2^31 - 1]");m.priority=l.priority}null!==l.record&&(m.record=l.record),Array.isArray(l.events)&&(m.events=l.events),b.label=1;case 1:if(b.trys.push([1,4,,5]),l.disableVideo&&l.disableAudio)throw new y("Not attempting to connect as video and audio are disabled");return[4,e.connect()];case 2:return b.sent(),Fr.info("Sending publish command"),[4,e.transactionManager.cmd("publish",m)];case 3:return w=b.sent(),l.codec===mr.AV1&&(p=null==(v=null==(f=null==(h=null==(c=RTCRtpSender.getCapabilities)?void 0:c.call(RTCRtpSender,"video"))?void 0:h.codecs)?void 0:f.find)?void 0:v.call(f,(function(t){return"video/AV1X"===t.mimeType})),w.sdp=p?dr.adaptCodecName(w.sdp,mr.AV1,"AV1X"):w.sdp),[2,(Fr.info("Command sent, publisherId: ",w.publisherId),Fr.debug("Command result: ",w),e.serverId=w.publisherId,e.clusterId=w.clusterId,Y(e.streamName),K(e.serverId),J(w.feedId),nt(e.clusterId),w.sdp)];case 4:throw _=b.sent(),Fr.error("Error sending publish command, error: ",_),_;case 5:return[2]}}))}))()},i.cmd=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,(Fr.info("Sending cmd: ".concat(t)),i.transactionManager.cmd(t,n))]}))}))()},n}(Mt),Xr=function(t,n,i){var r="object"==(void 0===t?"undefined":W(t))?t:{};return 0===k.keys(r).length&&(r={vad:t,pinnedSourceId:n,excludedSourceIds:i}),r},Gr=function(t,n,i){var r="object"==(void 0===t?"undefined":W(t))?t:{};return 0===k.keys(r).length&&(r={codec:null!=t?t:mr.H264,record:n,sourceId:i}),r},Hr=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).name="FetchError",r.status=i,r}return Rt(n,t),n}(mn(y)),zr=gt.get("Director"),Yr="WebRtc",Kr="",qr="https://director.millicast.com",Jr={setEndpoint:function(t){qr=t.replace(/\/$/,"")},getEndpoint:function(){return qr},setLiveDomain:function(t){Kr=t.replace(/\/$/,"")},getLiveDomain:function(){return Kr},getPublisher:Zt((function(t,n,i){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:void 0===n&&(n=null),void 0===i&&(i=Yr),r=Qr(t,n,i),zr.info("Getting publisher connection path for stream name: ",r.streamName),e={streamName:r.streamName,streamType:r.streamType},u={"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)},s="".concat(Jr.getEndpoint(),"/api/director/publish"),h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(s,{method:"POST",headers:u,body:JSON.stringify(e)})];case 2:return[4,(o=h.sent()).json()];case 3:if("fail"===(a=h.sent()).status)throw new Hr(a.data.message,o.status);return[2,(a=te(a),zr.debug("Getting publisher response: ",a),z(a.data.streamAccountId),a.data)];case 4:throw c=h.sent(),zr.error("Error while getting publisher connection path. ",c),c;case 5:return[2]}}))})),getSubscriber:Zt((function(t,n,i){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:void 0===n&&(n=null),void 0===i&&(i=null),r=$r(t,n,i),z(r.streamAccountId),zr.info("Getting subscriber connection data for stream name: ".concat(r.streamName," and account id: ").concat(r.streamAccountId)),e={streamAccountId:r.streamAccountId,streamName:r.streamName},u={"Content-Type":"application/json"},r.subscriberToken&&(u=b(m({},u),{Authorization:"Bearer ".concat(r.subscriberToken)})),s="".concat(Jr.getEndpoint(),"/api/director/subscribe"),h.label=1;case 1:return h.trys.push([1,4,,5]),[4,fetch(s,{method:"POST",headers:u,body:JSON.stringify(e)})];case 2:return[4,(o=h.sent()).json()];case 3:if("fail"===(a=h.sent()).status)throw new Hr(a.data.message,o.status);return[2,(a=te(a),zr.debug("Getting subscriber response: ",a),r.subscriberToken&&(a.data.subscriberToken=r.subscriberToken),a.data)];case 4:throw c=h.sent(),zr.error("Error while getting subscriber connection path. ",c),c;case 5:return[2]}}))}))},Qr=function(t,n,i){var r="object"==(void 0===t?"undefined":W(t))?t:{};return 0===k.keys(r).length&&(r={token:t,streamName:n,streamType:i}),r},$r=function(t,n,i){var r="object"==(void 0===t?"undefined":W(t))?t:{};return 0===k.keys(r).length&&(r={streamName:t,streamAccountId:n,subscriberToken:i}),r},te=function(t){if(Jr.getLiveDomain()){var n=/\/\/(.*?)\//,i=t.data.urls.map((function(t){var i=n.exec(t);return t.replace(i[1],Jr.getLiveDomain())}));t.data.urls=i}if(t.data.drmObject){var r=t.data.drmObject.playReadyUrl;r&&(t.data.drmObject.playReadyUrl="".concat(Jr.getEndpoint()).concat(r));var e=t.data.drmObject.widevineUrl;e&&(t.data.drmObject.widevineUrl="".concat(Jr.getEndpoint()).concat(e));var u=t.data.drmObject.fairPlayUrl;u&&(t.data.drmObject.fairPlayUrl="".concat(Jr.getEndpoint()).concat(u));var s=t.data.drmObject.fairPlayCertUrl;s&&(t.data.drmObject.fairPlayCertUrl="".concat(Jr.getEndpoint()).concat(s))}return t};function ne(t){this.message=t}ne.prototype=new y,ne.prototype.name="InvalidCharacterError";var ie=(void 0===f?"undefined":W(f))<"u"&&f.atob&&f.atob.bind(f)||function(t){var n=String(t).replace(/=+$/,"");if(n.length%4==1)throw new ne("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,r,e=0,u=0,s="";r=n.charAt(u++);~r&&(i=e%4?64*i+r:r,e++%4)?s+=String.fromCharCode(255&i>>(-2*e&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function re(t){this.message=t}function ee(t,n){if("string"!=typeof t)throw new re("Invalid token specified");var i=!0===(n=n||{}).header?0:1;try{return JSON.parse(function(t){var n=t.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(ie(t).replace(/(.)/g,(function(t,n){var i=n.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i})))}(n)}catch(t){return ie(n)}}(t.split(".")[i]))}catch(t){throw new re("Invalid token specified: "+t.message)}}re.prototype=new y,re.prototype.name="InvalidTokenError";var ue={exports:{}};!function(t,n){!function(i){if(null!=n&&"number"!=typeof n.nodeType)t.exports=i();else{var r=i(),e=("undefined"==typeof self?"undefined":W(self))<"u"?self:$.global;"function"!=typeof e.btoa&&(e.btoa=r.btoa),"function"!=typeof e.atob&&(e.atob=r.atob)}}((function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(t){this.message=t}return n.prototype=new y,n.prototype.name="InvalidCharacterError",{btoa:function(i){for(var r,e,u,s,o=String(i),a=0,c="";a<o.length;){if(r=o.charCodeAt(a++),e=o.charCodeAt(a++),u=o.charCodeAt(a++),r>255||e>255||u>255)throw new n("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");c+=t.charAt((s=r<<16|e<<8|u)>>18&63)+t.charAt(s>>12&63)+t.charAt(s>>6&63)+t.charAt(63&s)}switch(o.length%3){case 0:return c;case 1:return c.slice(0,-2)+"==";case 2:return c.slice(0,-1)+"="}},atob:function(i){var r=String(i).replace(/[=]+$/,"");if(r.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,u,s=0,o=0,a="";u=r.charAt(o++);~u&&(e=s%4?64*e+u:u,s++%4)?a+=String.fromCharCode(255&e>>(-2*s&6)):0)u=t.indexOf(u);return a}}}))}(ue,ue.exports);var se=ue.exports,oe={exports:{}};!function(t,e){self,t.exports=function(){return t={7629:function(t,n,i){var r=i(375),e=i(8571),u=i(9474),s=i(1687),o=i(8652),a=i(8160),c=i(3292),h=i(6354),f=i(8901),v=i(9708),l=i(6914),d=i(2294),g=i(6133),m=i(1152),w=i(8863),p=i(2036),_={Base:function(){function t(t){this.type=t,this.$_root=null,this.w_={},this.h_()}var n=t.prototype;return n.h_=function(){this.a_=new d.Ids,this.u_=null,this.c_=new g.Manager,this.l_=null,this.d_=null,this.f_=null,this.__={},this.v_=[],this.m_=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}},n.describe=function(){return r("function"==typeof v.describe,"Manifest functionality disabled"),v.describe(this)},n.allow=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"allow"),this.g_(n,"d_")},n.alter=function(t){r(t&&"object"==(void 0===t?"undefined":W(t))&&!Array.isArray(t),"Invalid targets argument"),r(!this.p_(),"Cannot set alterations inside a ruleset");var n=this.clone();for(var i in n.$_terms.alterations=n.$_terms.alterations||[],t){var e=t[i];r("function"==typeof e,"Alteration adjuster for",i,"must be a function"),n.$_terms.alterations.push({target:i,adjuster:e})}return n.$_temp.ruleset=!1,n},n.artifact=function(t){return r(void 0!==t,"Artifact cannot be undefined"),r(!this.l_,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",t)},n.cast=function(t){return r(!1===t||"string"==typeof t,"Invalid to value"),r(!1===t||this.w_.cast[t],"Type",this.type,"does not support casting to",t),this.$_setFlag("cast",!1===t?void 0:t)},n.default=function(t,n){return this.y_("default",t,n)},n.description=function(t){return r(t&&"string"==typeof t,"Description must be a non-empty string"),this.$_setFlag("description",t)},n.empty=function(t){var n=this.clone();return void 0!==t&&(t=n.$_compile(t,{override:!1})),n.$_setFlag("empty",t,{clone:!1})},n.error=function(t){return r(t,"Missing error"),r(t instanceof y||"function"==typeof t,"Must provide a valid Error object or a function"),this.$_setFlag("error",t)},n.example=function(t,n){return void 0===n&&(n={}),r(void 0!==t,"Missing example"),a.assertOptions(n,["override"]),this.b_("examples",t,{single:!0,override:n.override})},n.external=function(t,n){return"object"==(void 0===t?"undefined":W(t))&&(r(!n,"Cannot combine options with description"),n=t.description,t=t.method),r("function"==typeof t,"Method must be a function"),r(void 0===n||n&&"string"==typeof n,"Description must be a non-empty string"),this.b_("externals",{method:t,description:n},{single:!0})},n.failover=function(t,n){return this.y_("failover",t,n)},n.forbidden=function(){return this.presence("forbidden")},n.id=function(t){return t?(r("string"==typeof t,"id must be a non-empty string"),r(/^[^\.]+$/.test(t),"id cannot contain period character"),this.$_setFlag("id",t)):this.$_setFlag("id",void 0)},n.invalid=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.g_(n,"f_")},n.label=function(t){return r(t&&"string"==typeof t,"Label name must be a non-empty string"),this.$_setFlag("label",t)},n.meta=function(t){return r(void 0!==t,"Meta cannot be undefined"),this.b_("metas",t,{single:!0})},n.note=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r(n.length,"Missing notes");for(var e=0;e<n.length;e++){var u=n[e];r(u&&"string"==typeof u,"Notes must be non-empty strings")}return this.b_("notes",n)},n.only=function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"Invalid mode:",t),this.$_setFlag("only",t)},n.optional=function(){return this.presence("optional")},n.prefs=function(t){r(t,"Missing preferences"),r(void 0===t.context,"Cannot override context"),r(void 0===t.externals,"Cannot override externals"),r(void 0===t.warnings,"Cannot override warnings"),r(void 0===t.debug,"Cannot override debug"),a.checkPreferences(t);var n=this.clone();return n.u_=a.preferences(n.u_,t),n},n.presence=function(t){return r(["optional","required","forbidden"].includes(t),"Unknown presence mode",t),this.$_setFlag("presence",t)},n.raw=function(t){return void 0===t&&(t=!0),this.$_setFlag("result",t?"raw":void 0)},n.result=function(t){return r(["raw","strip"].includes(t),"Unknown result mode",t),this.$_setFlag("result",t)},n.required=function(){return this.presence("required")},n.strict=function(t){var n=this.clone(),i=void 0!==t&&!t;return n.u_=a.preferences(n.u_,{convert:i}),n},n.strip=function(t){return void 0===t&&(t=!0),this.$_setFlag("result",t?"strip":void 0)},n.tag=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r(n.length,"Missing tags");for(var e=0;e<n.length;e++){var u=n[e];r(u&&"string"==typeof u,"Tags must be non-empty strings")}return this.b_("tags",n)},n.unit=function(t){return r(t&&"string"==typeof t,"Unit name must be a non-empty string"),this.$_setFlag("unit",t)},n.valid=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a.verifyFlat(n,"valid");var r=this.allow.apply(this,Ut(n));return r.$_setFlag("only",!!r.d_,{clone:!1}),r},n.when=function(t,n){var i=this.clone();i.$_terms.whens||(i.$_terms.whens=[]);var e=c.when(i,t,n);if(!["any","link"].includes(i.type))for(var u=e.is?[e]:e.switch,s=0;s<u.length;s++){var o=u[s];r(!o.then||"any"===o.then.type||o.then.type===i.type,"Cannot combine",i.type,"with",o.then&&o.then.type),r(!o.otherwise||"any"===o.otherwise.type||o.otherwise.type===i.type,"Cannot combine",i.type,"with",o.otherwise&&o.otherwise.type)}return i.$_terms.whens.push(e),i.$_mutateRebuild()},n.cache=function(t){r(!this.p_(),"Cannot set caching inside a ruleset"),r(!this.l_,"Cannot override schema cache"),r(void 0===this.__.artifact,"Cannot cache a rule with an artifact");var n=this.clone();return n.l_=t||o.provider.provision(),n.$_temp.ruleset=!1,n},n.clone=function(){var t=k.create(k.getPrototypeOf(this));return this.A_(t)},n.concat=function(t){var n=function(t,n){var r=n[t];i.m_.has(r)&&(i.v_=i.v_.filter((function(t){return t.keep||t.name!==r})),i.m_.delete(r))};r(a.isSchema(t),"Invalid schema object"),r("any"===this.type||"any"===t.type||t.type===this.type,"Cannot merge type",this.type,"with another type:",t.type),r(!this.p_(),"Cannot concatenate onto a schema with open ruleset"),r(!t.p_(),"Cannot concatenate a schema with open ruleset");var i=this.clone();if("any"===this.type&&"any"!==t.type){for(var e=t.clone(),u=0,o=k.keys(i);u<o.length;u++){var c=o[u];"type"!==c&&(e[c]=i[c])}i=e}i.a_.concat(t.a_),i.c_.register(t,g.toSibling),i.u_=i.u_?a.preferences(i.u_,t.u_):t.u_,i.d_=p.merge(i.d_,t.d_,t.f_),i.f_=p.merge(i.f_,t.f_,t.d_);for(var h=0,f=t.m_.keys();h<f.length;h++)n(h,f);for(var v=0,l=t.v_;v<l.length;v++){var d=l[v];t.w_.rules[d.method].multi||i.m_.set(d.name,d),i.v_.push(d)}if(i.__.empty&&t.__.empty){i.__.empty=i.__.empty.concat(t.__.empty);var m=k.assign({},t.__);delete m.empty,s(i.__,m)}else if(t.__.empty){i.__.empty=t.__.empty;var w=k.assign({},t.__);delete w.empty,s(i.__,w)}else s(i.__,t.__);for(var y in t.$_terms){var _=t.$_terms[y];_?i.$_terms[y]?i.$_terms[y]=i.$_terms[y].concat(_):i.$_terms[y]=_.slice():i.$_terms[y]||(i.$_terms[y]=_)}return this.$_root.S_&&this.$_root.S_.T_(i,[this,t]),i.$_mutateRebuild()},n.extend=function(t){return r(!t.base,"Cannot extend type with another base"),f.type(this,t)},n.extract=function(t){return t=Array.isArray(t)?t:t.split("."),this.a_.reach(t)},n.fork=function(t,n){r(!this.p_(),"Cannot fork inside a ruleset");for(var i=this,e=0,u=[].concat(t);e<u.length;e++){var s=u[e];s=Array.isArray(s)?s:s.split("."),i=i.a_.fork(s,n,i)}return i.$_temp.ruleset=!1,i},n.rule=function(t){var n=this.w_;a.assertOptions(t,k.keys(n.modifiers)),r(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");var i=null===this.$_temp.ruleset?this.v_.length-1:this.$_temp.ruleset;r(i>=0&&i<this.v_.length,"Cannot apply rules to empty ruleset");for(var u=this.clone(),s=i;s<u.v_.length;++s){var o=u.v_[s],c=e(o);for(var h in t)n.modifiers[h](c,t[h]),r(c.name===o.name,"Cannot change rule name");u.v_[s]=c,u.m_.get(c.name)===o&&u.m_.set(c.name,c)}return u.$_temp.ruleset=!1,u.$_mutateRebuild()},n.tailor=function(t){t=[].concat(t),r(!this.p_(),"Cannot tailor inside a ruleset");var n=this;if(this.$_terms.alterations)for(var i=0,e=this.$_terms.alterations;i<e.length;i++){var u=e[i],s=u.target,o=u.adjuster;t.includes(s)&&(n=o(n),r(a.isSchema(n),"Alteration adjuster for",s,"failed to return a schema object"))}return(n=n.$_modify({each:function(n){return n.tailor(t)},ref:!1})).$_temp.ruleset=!1,n.$_mutateRebuild()},n.tracer=function(){return m.location?m.location(this):this},n.validate=function(t,n){return w.entry(t,this,n)},n.validateAsync=function(t,n){return w.entryAsync(t,this,n)},n.$_addRule=function(t){for(var n in"string"==typeof t&&(t={name:t}),r(t&&"object"==(void 0===t?"undefined":W(t)),"Invalid options"),r(t.name&&"string"==typeof t.name,"Invalid rule name"),t)r("_"!==n[0],"Cannot set private rule properties");var i=k.assign({},t);i.Ud=[],i.method=i.method||i.name;var e=this.w_.rules[i.method],u=i.args;r(e,"Unknown rule",i.method);var s=this.clone();if(u)for(var o in r(1===k.keys(u).length||k.keys(u).length===this.w_.rules[i.name].args.length,"Invalid rule definition for",this.type,i.name),u){var c=u[o];if(e.argsByName){var h=e.argsByName.get(o);if(h.ref&&a.isResolvable(c))i.Ud.push(o),s.$_mutateRegister(c);else if(h.normalize&&(c=h.normalize(c),u[o]=c),h.assert){var f=a.validateArg(c,o,h);r(!f,f,"or reference")}}void 0!==c?u[o]=c:delete u[o]}return e.multi||(s.k_(i.name,{clone:!1}),s.m_.set(i.name,i)),!1===s.$_temp.ruleset&&(s.$_temp.ruleset=null),e.priority?s.v_.unshift(i):s.v_.push(i),s},n.$_compile=function(t,n){return c.schema(this.$_root,t,n)},n.$_createError=function(t,n,i,r,e,u){void 0===u&&(u={});var s=!1!==u.flags?this.__:{},o=u.messages?l.merge(this.w_.messages,u.messages):this.w_.messages;return new h.Report(t,n,i,s,o,r,e)},n.$_getFlag=function(t){return this.__[t]},n.$_getRule=function(t){return this.m_.get(t)},n.$_mapLabels=function(t){return t=Array.isArray(t)?t:t.split("."),this.a_.labels(t)},n.$_match=function(t,n,i,r){(i=k.assign({},i)).abortEarly=!0,i.E_=!1,n.snapshot();var e=!w.validate(t,this,n,i,r).errors;return n.restore(),e},n.$_modify=function(t){return a.assertOptions(t,["each","once","ref","schema"]),d.schema(this,t)||this},n.$_mutateRebuild=function(){var t=this;return r(!this.p_(),"Cannot add this rule inside a ruleset"),this.c_.reset(),this.a_.reset(),this.$_modify({each:function(n,i){var r=i.source,e=i.name,u=(i.path,i.key),s=t.w_[r][e]&&t.w_[r][e].register;!1!==s&&t.$_mutateRegister(n,{family:s,key:u})}}),this.w_.rebuild&&this.w_.rebuild(this),this.$_temp.ruleset=!1,this},n.$_mutateRegister=function(t,n){var i=void 0===n?{}:n,r=i.family,e=i.key;this.c_.register(t,r),this.a_.register(t,{key:e})},n.$_property=function(t){return this.w_.properties[t]},n.$_reach=function(t){return this.a_.reach(t)},n.$_rootReferences=function(){return this.c_.roots()},n.$_setFlag=function(t,n,i){void 0===i&&(i={}),r("_"===t[0]||!this.p_(),"Cannot set flag inside a ruleset");var e=this.w_.flags[t]||{};if(u(n,e.default)&&(n=void 0),u(n,this.__[t]))return this;var s=!1!==i.clone?this.clone():this;return void 0!==n?(s.__[t]=n,s.$_mutateRegister(n)):delete s.__[t],"_"!==t[0]&&(s.$_temp.ruleset=!1),s},n.$_parent=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;return(e=this[t][a.symbols.parent]).call.apply(e,[this].concat(Ut(i)))},n.$_validate=function(t,n,i){return w.validate(t,this,n,i)},n.A_=function(t){for(var n in t.type=this.type,t.$_root=this.$_root,t.$_temp=k.assign({},this.$_temp),t.$_temp.whens={},t.a_=this.a_.clone(),t.u_=this.u_,t.d_=this.d_&&this.d_.clone(),t.f_=this.f_&&this.f_.clone(),t.v_=this.v_.slice(),t.m_=e(this.m_,{shallow:!0}),t.c_=this.c_.clone(),t.__=k.assign({},this.__),t.l_=null,t.$_terms={},this.$_terms)t.$_terms[n]=this.$_terms[n]?this.$_terms[n].slice():null;for(var i in t.$_super={},this.$_super)t.$_super[i]=this.x_[i].bind(t);return t},n.R_=function(){var t=this.clone();t.h_();var n=t.w_.terms;for(var i in n){var r=n[i];t.$_terms[i]=r.init}return t.$_mutateRebuild()},n.y_=function(t,n,i){var e;return void 0===i&&(i={}),a.assertOptions(i,"literal"),r(void 0!==n,"Missing",t,"value"),r("function"==typeof n||!i.literal,"Only function value supports literal option"),"function"==typeof n&&i.literal&&(sn(e={},a.symbols.literal,!0),sn(e,"literal",n),n=e),this.$_setFlag(t,n)},n.I_=function(t,n,i){if(!this.$_terms.whens)return{schema:this};for(var r=[],e=[],u=0;u<this.$_terms.whens.length;++u){var s=this.$_terms.whens[u];if(s.concat)r.push(s.concat),e.push("".concat(u,".concat"));else{for(var o=s.ref?s.ref.resolve(t,n,i):t,a=s.is?[s]:s.switch,c=e.length,h=0;h<a.length;++h){var f=a[h],v=f.is,l=f.then,d=f.otherwise,g="".concat(u).concat(s.switch?"."+h:"");if(v.$_match(o,n.nest(v,"".concat(g,".is")),i)){if(l){var m=n.localize(Ut(n.path).concat(["".concat(g,".then")]),n.ancestors,n.schemas),w=l.I_(t,m,i),p=w.schema,y=w.id;r.push(p),e.push("".concat(g,".then").concat(y?"(".concat(y,")"):""));break}}else if(d){var _=n.localize(Ut(n.path).concat(["".concat(g,".otherwise")]),n.ancestors,n.schemas),b=d.I_(t,_,i),k=b.schema,A=b.id;r.push(k),e.push("".concat(g,".otherwise").concat(A?"(".concat(A,")"):""));break}}if(s.break&&e.length>c)break}}var T=e.join(", ");if(n.mainstay.tracer.debug(n,"rule","when",T),!T)return{schema:this};if(!n.mainstay.tracer.active&&this.$_temp.whens[T])return{schema:this.$_temp.whens[T],id:T};var S=this;this.w_.generate&&(S=this.w_.generate(this,t,n,i));for(var E=0;E<r.length;E++){var I=r[E];S=S.concat(I)}return this.$_root.S_&&this.$_root.S_.T_(S,[this].concat(Ut(r))),this.$_temp.whens[T]=S,{schema:S,id:T}},n.b_=function(t,n,i){var e;void 0===i&&(i={}),r(!this.p_(),"Cannot set ".concat(t," inside a ruleset"));var u=this.clone();return u.$_terms[t]&&!i.override||(u.$_terms[t]=[]),i.single?u.$_terms[t].push(n):(e=u.$_terms[t]).push.apply(e,Ut(n)),u.$_temp.ruleset=!1,u},n.p_=function(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset},n.k_=function(t,n){if(void 0===n&&(n={}),!this.m_.has(t))return this;var i=!1!==n.clone?this.clone():this;i.m_.delete(t);for(var r=[],e=0;e<i.v_.length;++e){var u=i.v_[e];u.name!==t||u.keep?r.push(u):i.p_()&&e<i.$_temp.ruleset&&--i.$_temp.ruleset}return i.v_=r,i},n.g_=function(t,n){a.verifyFlat(t,n.slice(1,-1));var i=this.clone(),e=t[0]===a.symbols.override;if(e&&(t=t.slice(1)),!i[n]&&t.length?i[n]=new p:e&&(i[n]=t.length?new p:null,i.$_mutateRebuild()),!i[n])return i;e&&i[n].override();for(var u=0;u<t.length;u++){var s=t[u];r(void 0!==s,"Cannot call allow/valid/invalid with undefined"),r(s!==a.symbols.override,"Override must be the first value");var o="f_"===n?"d_":"f_";i[o]&&(i[o].remove(s),i[o].length||(r("d_"===n||!i.__.only,"Setting invalid value",s,"leaves schema rejecting all values due to previous valid rule"),i[o]=null)),i[n].add(s,i.c_)}return i},xt(t,[{key:"ruleset",get:function(){r(!this.p_(),"Cannot start a new ruleset without closing the previous one");var t=this.clone();return t.$_temp.ruleset=t.v_.length,t}},{key:"$",get:function(){return this.ruleset}}]),t}()};_.Base.prototype[a.symbols.any]={version:a.version,compile:c.compile,root:"$_root"},_.Base.prototype.isImmutable=!0,_.Base.prototype.deny=_.Base.prototype.invalid,_.Base.prototype.disallow=_.Base.prototype.invalid,_.Base.prototype.equal=_.Base.prototype.valid,_.Base.prototype.exist=_.Base.prototype.required,_.Base.prototype.not=_.Base.prototype.invalid,_.Base.prototype.options=_.Base.prototype.prefs,_.Base.prototype.preferences=_.Base.prototype.prefs,t.exports=new _.Base},8652:function(t,n,i){var r=i(375),e=i(8571),u=i(8160),s={max:1e3,supported:new Set(["undefined","boolean","number","string"])};n.provider={provision:function(t){return new s.Cache(t)}},s.Cache=function(){function t(t){void 0===t&&(t={}),u.assertOptions(t,["max"]),r(void 0===t.max||t.max&&t.max>0&&isFinite(t.max),"Invalid max cache size"),this.N_=t.max||s.max,this.C_=new Map,this.P_=new s.List}var n=t.prototype;return n.set=function(t,n){if(null===t||s.supported.has(void 0===t?"undefined":W(t))){var i=this.C_.get(t);if(i)return i.value=n,void this.P_.first(i);i=this.P_.unshift({key:t,value:n}),this.C_.set(t,i),this.D_()}},n.get=function(t){var n=this.C_.get(t);if(n)return this.P_.first(n),e(n.value)},n.D_=function(){if(this.C_.size>this.N_){var t=this.P_.pop();this.C_.delete(t.key)}},xt(t,[{key:"length",get:function(){return this.C_.size}}]),t}(),s.List=function(){function t(){this.tail=null,this.head=null}var n=t.prototype;return n.unshift=function(t){return t.next=null,t.prev=this.head,this.head&&(this.head.next=t),this.head=t,this.tail||(this.tail=t),t},n.first=function(t){t!==this.head&&(this.M_(t),this.unshift(t))},n.pop=function(){return this.M_(this.tail)},n.M_=function(t){var n=t.next,i=t.prev;return n.prev=i,i&&(i.next=n),t===this.tail&&(this.tail=n),t.prev=null,t.next=null,t},t}()},8160:function(t,r,e){var u,s,o=e(375),a=e(7916),c=e(5934),h={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};r.version=c.version,r.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},r.symbols={any:i("@hapi/joi/schema"),arraySingle:n("arraySingle"),deepDefault:n("deepDefault"),errors:n("errors"),literal:n("literal"),override:n("override"),parent:n("parent"),prefs:n("prefs"),ref:n("ref"),template:n("template"),values:n("values")},r.assertOptions=function(t,n,i){void 0===i&&(i="Options"),o(t&&"object"==(void 0===t?"undefined":W(t))&&!Array.isArray(t),"Options must be of type object");var r=k.keys(t).filter((function(t){return!n.includes(t)}));o(0===r.length,"".concat(i," contain unknown keys: ").concat(r))},r.checkPreferences=function(t){var n=(s=s||e(3378)).preferences.validate(t);if(n.error)throw new a([n.error.details[0].message])},r.compare=function(t,n,i){switch(i){case"=":return t===n;case">":return t>n;case"<":return t<n;case">=":return t>=n;case"<=":return t<=n}},r.default=function(t,n){return void 0===t?n:t},r.isIsoDate=function(t){return h.isoDate.test(t)},r.isNumber=function(t){return"number"==typeof t&&!E(t)},r.isResolvable=function(t){return!!t&&(t[r.symbols.ref]||t[r.symbols.template])},r.isSchema=function(t,n){void 0===n&&(n={});var i=t&&t[r.symbols.any];return!!i&&(o(n.legacy||i.version===r.version,"Cannot mix different versions of joi schemas"),!0)},r.isValues=function(t){return t[r.symbols.values]},r.limit=function(t){return Number.isSafeInteger(t)&&t>=0},r.preferences=function(t,n){u=u||e(6914),t=t||{},n=n||{};var i=k.assign({},t,n);return n.errors&&t.errors&&(i.errors=k.assign({},t.errors,n.errors),i.errors.wrap=k.assign({},t.errors.wrap,n.errors.wrap)),n.messages&&(i.messages=u.compile(n.messages,t.messages)),delete i[r.symbols.prefs],i},r.tryWithPath=function(t,n,i){void 0===i&&(i={});try{return t()}catch(t){throw void 0!==t.path?t.path=n+"."+t.path:t.path=n,i.append&&(t.message="".concat(t.message," (").concat(t.path,")")),t}},r.validateArg=function(t,n,i){var e=i.assert,u=i.message;if(r.isSchema(e)){var s=e.validate(t);return s.error?s.error.message:void 0}if(!e(t))return n?"".concat(n," ").concat(u):u},r.verifyFlat=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];o(!Array.isArray(r),"Method no longer accepts array arguments:",n)}}},3292:function(t,n,i){var r=i(375),e=i(8160),u=i(6133),s={};n.schema=function(t,n,i){void 0===i&&(i={}),e.assertOptions(i,["appendPath","override"]);try{return s.schema(t,n,i)}catch(t){throw i.appendPath&&void 0!==t.path&&(t.message="".concat(t.message," (").concat(t.path,")")),t}},s.schema=function(t,n,i){var u,o;r(void 0!==n,"Invalid undefined schema"),Array.isArray(n)&&(r(n.length,"Invalid empty array schema"),1===n.length&&(n=n[0]));var a=function(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),s=1;s<r;s++)e[s-1]=arguments[s];return!1!==i.override?(u=n).valid.apply(u,[t.override].concat(Ut(e))):(o=n).valid.apply(o,Ut(e))};if(s.simple(n))return a(t,n);if("function"==typeof n)return t.custom(n);if(r("object"==(void 0===n?"undefined":W(n)),"Invalid schema content:",void 0===n?"undefined":W(n)),e.isResolvable(n))return a(t,n);if(e.isSchema(n))return n;if(Array.isArray(n)){for(var c,h=0;h<n.length;h++){var f=n[h];if(!s.simple(f))return(c=t.alternatives()).try.apply(c,Ut(n))}return a.apply(void 0,[t].concat(Ut(n)))}return n instanceof RegExp?t.string().regex(n):n instanceof Date?a(t.date(),n):(r(k.getPrototypeOf(n)===k.getPrototypeOf({}),"Schema can only contain plain objects"),t.object().keys(n))},n.ref=function(t,n){return u.isRef(t)?t:u.create(t,n)},n.compile=function(t,i,u){void 0===u&&(u={}),e.assertOptions(u,["legacy"]);var o=i&&i[e.symbols.any];if(o)return r(u.legacy||o.version===e.version,"Cannot mix different versions of joi schemas:",o.version,e.version),i;if("object"!=(void 0===i?"undefined":W(i))||!u.legacy)return n.schema(t,i,{appendPath:!0});var a=s.walk(i);return a?a.compile(a.root,i):n.schema(t,i,{appendPath:!0})},s.walk=function(t){if("object"!=(void 0===t?"undefined":W(t)))return null;if(Array.isArray(t)){for(var n=0;n<t.length;n++){var i=t[n],u=s.walk(i);if(u)return u}return null}var o=t[e.symbols.any];if(o)return{root:t[o.root],compile:o.compile};for(var a in r(k.getPrototypeOf(t)===k.getPrototypeOf({}),"Schema can only contain plain objects"),t){var c=s.walk(t[a]);if(c)return c}return null},s.simple=function(t){return null===t||["boolean","string","number"].includes(void 0===t?"undefined":W(t))},n.when=function(t,i,o){if(void 0===o&&(r(i&&"object"==(void 0===i?"undefined":W(i)),"Missing options"),o=i,i=u.create(".")),Array.isArray(o)&&(o={switch:o}),e.assertOptions(o,["is","not","then","otherwise","switch","break"]),e.isSchema(i))return r(void 0===o.is,'"is" can not be used with a schema condition'),r(void 0===o.not,'"not" can not be used with a schema condition'),r(void 0===o.switch,'"switch" can not be used with a schema condition'),s.condition(t,{is:i,then:o.then,otherwise:o.otherwise,break:o.break});if(r(u.isRef(i)||"string"==typeof i,"Invalid condition:",i),r(void 0===o.not||void 0===o.is,'Cannot combine "is" with "not"'),void 0===o.switch){var a=o;void 0!==o.not&&(a={is:o.not,then:o.otherwise,otherwise:o.then,break:o.break});var c=void 0!==a.is?t.$_compile(a.is):t.$_root.invalid(null,!1,0,"").required();return r(void 0!==a.then||void 0!==a.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),r(void 0===a.break||void 0===a.then||void 0===a.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===o.is||u.isRef(o.is)||e.isSchema(o.is)||(c=c.required()),s.condition(t,{ref:n.ref(i),is:c,then:a.then,otherwise:a.otherwise,break:a.break})}r(Array.isArray(o.switch),'"switch" must be an array'),r(void 0===o.is,'Cannot combine "switch" with "is"'),r(void 0===o.not,'Cannot combine "switch" with "not"'),r(void 0===o.then,'Cannot combine "switch" with "then"');for(var h={ref:n.ref(i),switch:[],break:o.break},f=0;f<o.switch.length;++f){var v=o.switch[f],l=f===o.switch.length-1;e.assertOptions(v,l?["is","then","otherwise"]:["is","then"]),r(void 0!==v.is,'Switch statement missing "is"'),r(void 0!==v.then,'Switch statement missing "then"');var d={is:t.$_compile(v.is),then:t.$_compile(v.then)};if(u.isRef(v.is)||e.isSchema(v.is)||(d.is=d.is.required()),l){r(void 0===o.otherwise||void 0===v.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');var g=void 0!==o.otherwise?o.otherwise:v.otherwise;void 0!==g&&(r(void 0===h.break,"Cannot specify both otherwise and break"),d.otherwise=t.$_compile(g))}h.switch.push(d)}return h},s.condition=function(t,n){for(var i=0,r=["then","otherwise"];i<r.length;i++){var e=r[i];void 0===n[e]?delete n[e]:n[e]=t.$_compile(n[e])}return n}},6354:function(t,n,i){var r=i(5688),e=i(8160),u=i(3328);n.Report=function(){function t(t,i,r,e,u,s,o){if(this.code=t,this.flags=e,this.messages=u,this.path=s.path,this.prefs=o,this.state=s,this.value=i,this.message=null,this.template=null,this.local=r||{},this.local.label=n.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){var a=this.path[this.path.length-1];"object"!=(void 0===a?"undefined":W(a))&&(this.local.key=a)}}var i=t.prototype;return i.L_=function(t){if(this.template=t,!this.flags.label&&0===this.path.length){var n=this.B_(this.template,"root");n&&(this.local.label=n)}},i.toString=function(){if(this.message)return this.message;var t=this.code;if(!this.prefs.errors.render)return this.code;var n=this.B_(this.template)||this.B_(this.prefs.messages)||this.B_(this.messages);return void 0===n?'Error code "'.concat(t,'" is not defined, your custom type is missing the correct messages definition'):(this.message=n.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)},i.B_=function(t,i){return n.template(this.value,t,i||this.code,this.state,this.prefs)},t}(),n.path=function(t){for(var n="",i=0;i<t.length;i++){var r=t[i];"object"!=(void 0===r?"undefined":W(r))&&("string"==typeof r?(n&&(n+="."),n+=r):n+="[".concat(r,"]"))}return n},n.template=function(t,n,i,r,s){if(n){if(u.isTemplate(n))return"root"!==i?n:null;var o=s.errors.language;if(e.isResolvable(o)&&(o=o.resolve(t,r,s)),o&&n[o]){if(void 0!==n[o][i])return n[o][i];if(void 0!==n[o]["*"])return n[o]["*"]}return n[i]?n[i]:n["*"]}},n.label=function(t,i,r,e){if(!r.errors.label)return"";if(t.label)return t.label;var u=i.path;return"key"===r.errors.label&&i.path.length>1&&(u=i.path.slice(-1)),n.path(u)||n.template(null,r.messages,"root",i,r)||e&&n.template(null,e,"root",i,r)||"value"},n.process=function(t,i,r){if(!t)return null;var e=n.details(t),u=e.override,s=e.message,o=e.details;if(u)return u;if(r.errors.stack)return new n.ValidationError(s,o,i);var a=y.stackTraceLimit;y.stackTraceLimit=0;var c=new n.ValidationError(s,o,i);return y.stackTraceLimit=a,c},n.details=function(t,n){void 0===n&&(n={});for(var i=[],r=[],e=0;e<t.length;e++){var u=t[e];if(u instanceof y){if(!1!==n.override)return{override:u};var s=u.toString();i.push(s),r.push({message:s,type:"override",context:{error:u}})}else{var o=u.toString();i.push(o),r.push({message:o,path:u.path.filter((function(t){return"object"!=(void 0===t?"undefined":W(t))})),type:u.code,context:u.local})}}return i.length>1&&(i=Ut(new Set(i))),{message:i.join(". "),details:r}},n.ValidationError=function(t){function i(n,i,r){var e;return(e=t.call(this,n)||this).O_=r,e.details=i,e}return Rt(i,t),i.isError=function(t){return t instanceof n.ValidationError},i}(mn(y)),n.ValidationError.prototype.isJoi=!0,n.ValidationError.prototype.name="ValidationError",n.ValidationError.prototype.annotate=r.error},8901:function(t,n,i){var r=i(375),e=i(8571),u=i(8160),s=i(6914),o={};n.type=function(t,n){var i=function(t){var n=v.rules[t];r("object"==(void 0===n?"undefined":W(n)),"Invalid rule definition for",v.type,t);var i=n.method;if(void 0===i&&(i=function(){return this.$_addRule(t)}),i&&(r(!h[t],"Rule conflict in",v.type,t),h[t]=i),r(!w[t],"Rule conflict in",v.type,t),w[t]=n,n.alias)for(var e=[].concat(n.alias),s=0;s<e.length;s++){var o=e[s];h[o]=n.method}n.args&&(n.argsByName=new Map,n.args=n.args.map((function(t){return"string"==typeof t&&(t={name:t}),r(!n.argsByName.has(t.name),"Duplicated argument name",t.name),u.isSchema(t.assert)&&(t.assert=t.assert.strict().label(t.name)),n.argsByName.set(t.name,t),t})))},a=function(t){r(!h[t],"Rule conflict in",v.type,t);var n=v.modifiers[t];r("function"==typeof n,"Invalid modifier definition for",v.type,t);var i=function(n){return this.rule(sn({},t,n))};h[t]=i,y[t]=n},c=k.getPrototypeOf(t),h=e(c),f=t.A_(k.create(h)),v=k.assign({},n);delete v.base,h.w_=v;var l=c.w_||{};v.messages=s.merge(l.messages,v.messages),v.properties=k.assign({},l.properties,v.properties),f.type=v.type,v.flags=k.assign({},l.flags,v.flags);var d=k.assign({},l.terms);if(v.terms)for(var g in v.terms){var m=v.terms[g];r(void 0===f.$_terms[g],"Invalid term override for",v.type,g),f.$_terms[g]=m.init,d[g]=m}v.terms=d,v.args||(v.args=l.args),v.prepare=o.prepare(v.prepare,l.prepare),v.coerce&&("function"==typeof v.coerce&&(v.coerce={method:v.coerce}),v.coerce.from&&!Array.isArray(v.coerce.from)&&(v.coerce={method:v.coerce.method,from:[].concat(v.coerce.from)})),v.coerce=o.coerce(v.coerce,l.coerce),v.validate=o.validate(v.validate,l.validate);var w=k.assign({},l.rules);if(v.rules)for(var p in v.rules)i(p);v.rules=w;var y=k.assign({},l.modifiers);if(v.modifiers)for(var _ in v.modifiers)a(_);if(v.modifiers=y,v.overrides){for(var b in h.x_=c,f.$_super={},v.overrides)r(c[b],"Cannot override missing",b),v.overrides[b][u.symbols.parent]=c[b],f.$_super[b]=c[b].bind(f);k.assign(h,v.overrides)}v.cast=k.assign({},l.cast,v.cast);var A=k.assign({},l.manifest,v.manifest);return A.build=o.build(v.manifest&&v.manifest.build,l.manifest&&l.manifest.build),v.manifest=A,v.rebuild=o.rebuild(v.rebuild,l.rebuild),f},o.build=function(t,n){return t&&n?function(i,r){return n(t(i,r),r)}:t||n},o.coerce=function(t,n){return t&&n?{from:t.from&&n.from?Ut(new Set(Ut(t.from).concat(Ut(n.from)))):null,method:function(i,r){var e;if((!n.from||n.from.includes(void 0===i?"undefined":W(i)))&&(e=n.method(i,r))){if(e.errors||void 0===e.value)return e;i=e.value}if(!t.from||t.from.includes(void 0===i?"undefined":W(i))){var u=t.method(i,r);if(u)return u}return e}}:t||n},o.prepare=function(t,n){return t&&n?function(i,r){var e=t(i,r);if(e){if(e.errors||void 0===e.value)return e;i=e.value}return n(i,r)||e}:t||n},o.rebuild=function(t,n){return t&&n?function(i){n(i),t(i)}:t||n},o.validate=function(t,n){return t&&n?function(i,r){var e=n(i,r);if(e){if(e.errors&&(!Array.isArray(e.errors)||e.errors.length))return e;i=e.value}return t(i,r)||e}:t||n}},5107:function(t,n,i){var r,e,u,s=i(375),o=i(8571),a=i(8652),c=i(8160),h=i(3292),f=i(6354),v=i(8901),l=i(9708),d=i(6133),g=i(3328),m=i(1152),w={types:{alternatives:i(4946),any:i(8068),array:i(546),boolean:i(4937),date:i(7500),function:i(390),link:i(8785),number:i(3832),object:i(8966),string:i(7417),symbol:i(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){for(var t=function(t,n){var r=n[t];i[r]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return s(!n.length||["alternatives","link","object"].includes(r),"The",r,"type does not allow arguments"),w.generate(this,w.types[r],n)}},n=function(t,n){var r=n[t];i[r]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var e;return(e=this.any())[r].apply(e,Ut(n))}},i={F_:new Set(k.keys(w.types))},r=0,e=i.F_;r<e.length;r++)t(r,e);for(var u=0,o=["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"];u<o.length;u++)n(u,o);for(var a in k.assign(i,w.methods),w.aliases){var c=w.aliases[a];i[a]=i[c]}return i.x=i.expression,m.setup&&m.setup(i),i}};w.methods={ValidationError:f.ValidationError,version:c.version,cache:a.provider,assert:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];w.assert(t,n,!0,r)},attempt:function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];return w.assert(t,n,!1,r)},build:function(t){return s("function"==typeof l.build,"Manifest functionality disabled"),l.build(this,t)},checkPreferences:function(t){c.checkPreferences(t)},compile:function(t,n){return h.compile(this,t,n)},defaults:function(t){var n=function(n,r){var e=r[n],u=t(i[e]());s(c.isSchema(u),"modifier must return a valid schema object"),i[e]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return w.generate(this,u,n)}};s("function"==typeof t,"modifier must be a function");for(var i=k.assign({},this),r=0,e=i.F_;r<e.length;r++)n(r,e);return i},expression:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return fn(g,Ut(n))},extend:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];c.verifyFlat(n,"extend"),u=u||i(3378),s(n.length,"You need to provide at least one extension"),this.assert(n,u.extensions);var e=k.assign({},this);e.F_=new Set(e.F_);for(var o=0;o<n.length;o++){var a,h=function(t){var n=l[t];s(void 0===e[n.type]||e.F_.has(n.type),"Cannot override name",n.type);var i=n.base||a.any(),r=v.type(i,n);e.F_.add(n.type),e[n.type]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return w.generate(this,r,n)}},f=n[o];"function"==typeof f&&(f=f(e)),this.assert(f,u.extension);for(var l=w.expandExtension(f,e),d=0;d<l.length;d++)a=this,h(d)}return e},isError:f.ValidationError.isError,isExpression:g.isTemplate,isRef:d.isRef,isSchema:c.isSchema,in:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(r=d).in.apply(r,Ut(n))},override:c.symbols.override,ref:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=d).create.apply(e,Ut(n))},types:function(){for(var t={},n=0,i=this.F_;n<i.length;n++){var r=i[n];t[r]=this[r]()}for(var e in w.aliases)t[e]=this[e]();return t}},w.assert=function(t,n,i,r){var e=r[0]instanceof y||"string"==typeof r[0]?r[0]:null,u=null!==e?r[1]:r[0],s=n.validate(t,c.preferences({errors:{stack:!0}},u||{})),a=s.error;if(!a)return s.value;if(e instanceof y)throw e;var h=i&&"function"==typeof a.annotate?a.annotate():a.message;throw a instanceof f.ValidationError==0&&(a=o(a)),a.message=e?"".concat(e," ").concat(h):h,a},w.generate=function(t,n,i){var r;return s(t,"Must be invoked on a Joi instance."),n.$_root=t,n.w_.args&&i.length?(r=n.w_).args.apply(r,[n].concat(Ut(i))):n},w.expandExtension=function(t,n){if("string"==typeof t.type)return[t];for(var i=[],r=0,e=n.F_;r<e.length;r++){var u=e[r];if(t.type.test(u)){var s=k.assign({},t);s.type=u,s.base=n[u](),i.push(s)}}return i},t.exports=w.root()},6914:function(t,n,i){var r=i(375),e=i(8571),u=i(3328);n.compile=function(t,n){var i=function(i){var e=t[i];if("root"===i||u.isTemplate(e))return n[i]=e,"continue";if("string"==typeof e)return n[i]=new u(e),"continue";r("object"==(void 0===e?"undefined":W(e))&&!Array.isArray(e),"Invalid message for",i);var s=i;for(i in n[s]=n[s]||{},e){var o=e[i];"root"===i||u.isTemplate(o)?n[s][i]=o:(r("string"==typeof o,"Invalid message for",i,"in",s),n[s][i]=new u(o))}};if("string"==typeof t)return r(!n,"Cannot set single message string"),new u(t);if(u.isTemplate(t))return r(!n,"Cannot set single message template"),t;for(var s in r("object"==(void 0===t?"undefined":W(t))&&!Array.isArray(t),"Invalid message options"),n=n?e(n):{},t)i(s);return n},n.decompile=function(t){var n=function(n){var r=t[n];if("root"===n)return i.root=r,"continue";if(u.isTemplate(r))return i[n]=r.describe({compact:!0}),"continue";var e=n;for(n in i[e]={},r){var s=r[n];"root"!==n?i[e][n]=s.describe({compact:!0}):i[e].root=s}},i={};for(var r in t)n(r);return i},n.merge=function(t,i){var s=function(t){var n=i[t];if("root"===t||u.isTemplate(n))return o[t]=n,"continue";if("string"==typeof n)return o[t]=new u(n),"continue";r("object"==(void 0===n?"undefined":W(n))&&!Array.isArray(n),"Invalid message for",t);var e=t;for(t in o[e]=o[e]||{},n){var s=n[t];"root"===t||u.isTemplate(s)?o[e][t]=s:(r("string"==typeof s,"Invalid message for",t,"in",e),o[e][t]=new u(s))}};if(!t)return n.compile(i);if(!i)return t;if("string"==typeof i)return new u(i);if(u.isTemplate(i))return i;var o=e(t);for(var a in i)s(a);return o}},2294:function(t,n,i){var r=i(375),e=i(8160),u=i(6133),s={};n.Ids=s.Ids=function(){function t(){this.V_=new Map,this.W_=new Map,this.U_=!1}var n=t.prototype;return n.clone=function(){var t=new s.Ids;return t.V_=new Map(this.V_),t.W_=new Map(this.W_),t.U_=this.U_,t},n.concat=function(t){t.U_&&(this.U_=!0);for(var n=0,i=t.V_.entries();n<i.length;n++){var e=nn(i[n],2),u=e[0],s=e[1];r(!this.W_.has(u),"Schema id conflicts with existing key:",u),this.V_.set(u,s)}for(var o=0,a=t.W_.entries();o<a.length;o++){var c=nn(a[o],2),h=c[0],f=c[1];r(!this.V_.has(h),"Schema key conflicts with existing id:",h),this.W_.set(h,f)}},n.fork=function(t,n,i){var u=this.G_(t);u.push({schema:i});var o=u.shift(),a={id:o.id,schema:n(o.schema)};r(e.isSchema(a.schema),"adjuster function failed to return a joi schema type");for(var c=0;c<u.length;c++){var h=u[c];a={id:h.id,schema:s.fork(h.schema,a.id,a.schema)}}return a.schema},n.labels=function(t,n){void 0===n&&(n=[]);var i=t[0],r=this.H_(i);if(!r)return Ut(n).concat(Ut(t)).join(".");var e=t.slice(1);return n=Ut(n).concat([r.schema.__.label||i]),e.length?r.schema.a_.labels(e,n):n.join(".")},n.reach=function(t,n){void 0===n&&(n=[]);var i=t[0],e=this.H_(i);r(e,"Schema does not contain path",Ut(n).concat(Ut(t)).join("."));var u=t.slice(1);return u.length?e.schema.a_.reach(u,Ut(n).concat([i])):e.schema},n.register=function(t,n){var i=(void 0===n?{}:n).key;if(t&&e.isSchema(t)){(t.$_property("schemaChain")||t.a_.U_)&&(this.U_=!0);var u=t.__.id;if(u){var s=this.V_.get(u);r(!s||s.schema===t,"Cannot add different schemas with the same id:",u),r(!this.W_.has(u),"Schema id conflicts with existing key:",u),this.V_.set(u,{schema:t,id:u})}i&&(r(!this.W_.has(i),"Schema already contains key:",i),r(!this.V_.has(i),"Schema key conflicts with existing id:",i),this.W_.set(i,{schema:t,id:i}))}},n.reset=function(){this.V_=new Map,this.W_=new Map,this.U_=!1},n.G_=function(t,n,i){void 0===n&&(n=[]),void 0===i&&(i=[]);var e=t[0],u=this.H_(e);r(u,"Schema does not contain path",Ut(n).concat(Ut(t)).join(".")),i=[u].concat(Ut(i));var s=t.slice(1);return s.length?u.schema.a_.G_(s,Ut(n).concat([e]),i):i},n.H_=function(t){return this.V_.get(t)||this.W_.get(t)},t}(),s.fork=function(t,i,r){var e=n.schema(t,{each:function(t,n){var e=n.key;if(i===(t.__.id||e))return r},ref:!1});return e?e.$_mutateRebuild():t},n.schema=function(t,n){var i;for(var r in t.__)if("_"!==r[0]){var e=s.scan(t.__[r],{source:"flags",name:r},n);void 0!==e&&((i=i||t.clone()).__[r]=e)}for(var u=0;u<t.v_.length;++u){var o=t.v_[u],a=s.scan(o.args,{source:"rules",name:o.name},n);if(void 0!==a){i=i||t.clone();var c=k.assign({},o);c.args=a,i.v_[u]=c,i.m_.get(o.name)===o&&i.m_.set(o.name,c)}}for(var h in t.$_terms)if("_"!==h[0]){var f=s.scan(t.$_terms[h],{source:"terms",name:h},n);void 0!==f&&((i=i||t.clone()).$_terms[h]=f)}return i},s.scan=function(t,n,i,r,o){var a=r||[];if(null!==t&&"object"==(void 0===t?"undefined":W(t))){var c;if(Array.isArray(t)){for(var h=0;h<t.length;++h){var f="terms"===n.source&&"keys"===n.name&&t[h].key,v=s.scan(t[h],n,i,[h].concat(Ut(a)),f);void 0!==v&&((c=c||t.slice())[h]=v)}return c}if(!1!==i.schema&&e.isSchema(t)||!1!==i.ref&&u.isRef(t)){var l=i.each(t,b(m({},n),{path:a,key:o}));return l===t?void 0:l}for(var d in t)if("_"!==d[0]){var g=s.scan(t[d],n,i,[d].concat(Ut(a)),o);void 0!==g&&((c=c||k.assign({},t))[d]=g)}return c}}},6133:function(t,i,r){var e,u=r(375),s=r(8571),o=r(9621),a=r(8160),c={symbol:n("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};i.create=function(t,n){void 0===n&&(n={}),u("string"==typeof t,"Invalid reference key:",t),a.assertOptions(n,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),u(!n.prefix||"object"==W(n.prefix),"options.prefix must be of type object");var i=k.assign({},c.defaults,n);delete i.prefix;var r=i.separator,e=c.context(t,r,n.prefix);if(i.type=e.type,t=e.key,"value"===i.type)if(e.root&&(u(!r||t[0]!==r,"Cannot specify relative path with root prefix"),i.ancestor="root",t||(t=null)),r&&r===t)t=null,i.ancestor=0;else if(void 0!==i.ancestor)u(!r||!t||t[0]!==r,"Cannot combine prefix with ancestor option");else{var s=nn(c.ancestor(t,r),2),o=s[0],h=s[1];h&&""===(t=t.slice(h))&&(t=null),i.ancestor=o}return i.path=r?null===t?[]:t.split(r):[t],new c.Ref(i)},i.in=function(t,n){return void 0===n&&(n={}),i.create(t,b(m({},n),{in:!0}))},i.isRef=function(t){return!!t&&!!t[a.symbols.ref]},c.Ref=function(){function t(t){u("object"==(void 0===t?"undefined":W(t)),"Invalid reference construction"),a.assertOptions(t,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),u([!1,void 0].includes(t.separator)||"string"==typeof t.separator&&1===t.separator.length,"Invalid separator"),u(!t.adjust||"function"==typeof t.adjust,"options.adjust must be a function"),u(!t.map||Array.isArray(t.map),"options.map must be an array"),u(!t.map||!t.adjust,"Cannot set both map and adjust options"),k.assign(this,c.defaults,t),u("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}var n=t.prototype;return n.resolve=function(t,n,i,r,e){return void 0===e&&(e={}),u(!this.in||e.in,"Invalid in() reference usage"),"global"===this.type?this.Ud(i.context,n,e):"local"===this.type?this.Ud(r,n,e):this.ancestor?"root"===this.ancestor?this.Ud(n.ancestors[n.ancestors.length-1],n,e):(u(this.ancestor<=n.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this.Ud(n.ancestors[this.ancestor-1],n,e)):this.Ud(t,n,e)},n.Ud=function(t,n,i){var r;if("value"===this.type&&n.mainstay.shadow&&!1!==i.shadow&&(r=n.mainstay.shadow.get(this.absolute(n))),void 0===r&&(r=o(t,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(r=this.adjust(r)),this.map){var e=this.map.get(r);void 0!==e&&(r=e)}return n.mainstay&&n.mainstay.tracer.resolve(n,this,r),r},n.toString=function(){return this.display},n.absolute=function(t){return Ut(t.path.slice(0,-this.ancestor)).concat(Ut(this.path))},n.clone=function(){return new c.Ref(this)},n.describe=function(){var t={path:this.path};"value"!==this.type&&(t.type=this.type),"."!==this.separator&&(t.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(t.ancestor=this.ancestor),this.map&&(t.map=Ut(this.map));for(var n=0,i=["adjust","iterables","render"];n<i.length;n++){var r=i[n];null!==this[r]&&void 0!==this[r]&&(t[r]=this[r])}return!1!==this.in&&(t.in=!0),{ref:t}},n.updateDisplay=function(){var t=null!==this.key?this.key:"";if("value"===this.type)if(this.separator)if(this.ancestor)if("root"!==this.ancestor)if(1!==this.ancestor){var n=new Array(this.ancestor+1).fill(this.separator).join("");this.display="ref:".concat(n).concat(t||"")}else this.display="ref:".concat(t||"..");else this.display="ref:root:".concat(t);else this.display="ref:".concat(this.separator).concat(t);else this.display="ref:".concat(t);else this.display="ref:".concat(this.type,":").concat(t)},t}(),c.Ref.prototype[a.symbols.ref]=!0,i.build=function(t){return"value"===(t=k.assign({},c.defaults,t)).type&&void 0===t.ancestor&&(t.ancestor=1),new c.Ref(t)},c.context=function(t,n,i){if(void 0===i&&(i={}),t=t.trim(),i){var r=void 0===i.global?"$":i.global;if(r!==n&&t.startsWith(r))return{key:t.slice(r.length),type:"global"};var e=void 0===i.local?"#":i.local;if(e!==n&&t.startsWith(e))return{key:t.slice(e.length),type:"local"};var u=void 0===i.root?"/":i.root;if(u!==n&&t.startsWith(u))return{key:t.slice(u.length),type:"value",root:!0}}return{key:t,type:"value"}},c.ancestor=function(t,n){if(!n)return[1,0];if(t[0]!==n)return[1,0];if(t[1]!==n)return[0,1];for(var i=2;t[i]===n;)++i;return[i-1,i]},i.toSibling=0,i.toParent=1,i.Manager=function(){function t(){this.refs=[]}var n=t.prototype;return n.register=function(t,n){if(t)if(n=void 0===n?i.toParent:n,Array.isArray(t))for(var u=0;u<t.length;u++){var s=t[u];this.register(s,n)}else if(a.isSchema(t))for(var o=0,c=t.c_.refs;o<c.length;o++){var h=c[o];h.ancestor-n>=0&&this.refs.push({ancestor:h.ancestor-n,root:h.root})}else i.isRef(t)&&"value"===t.type&&t.ancestor-n>=0&&this.refs.push({ancestor:t.ancestor-n,root:t.root}),(e=e||r(3328)).isTemplate(t)&&this.register(t.refs(),n)},n.clone=function(){var t=new i.Manager;return t.refs=s(this.refs),t},n.reset=function(){this.refs=[]},n.roots=function(){return this.refs.filter((function(t){return!t.ancestor})).map((function(t){return t.root}))},xt(t,[{key:"length",get:function(){return this.refs.length}}]),t}()},3378:function(t,n,i){var r=i(5107),e={};e.wrap=r.string().min(1).max(2).allow(!1),n.preferences=r.object({allowUnknown:r.boolean(),abortEarly:r.boolean(),artifacts:r.boolean(),cache:r.boolean(),context:r.object(),convert:r.boolean(),dateFormat:r.valid("date","iso","string","time","utc"),debug:r.boolean(),errors:{escapeHtml:r.boolean(),label:r.valid("path","key",!1),language:[r.string(),r.object().ref()],render:r.boolean(),stack:r.boolean(),wrap:{label:e.wrap,array:e.wrap,string:e.wrap}},externals:r.boolean(),messages:r.object(),noDefaults:r.boolean(),nonEnumerables:r.boolean(),presence:r.valid("required","optional","forbidden"),skipFunctions:r.boolean(),stripUnknown:r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects").allow(!0,!1),warnings:r.boolean()}).strict(),e.nameRx=/^[a-zA-Z0-9]\w*$/,e.rule=r.object({alias:r.array().items(r.string().pattern(e.nameRx)).single(),args:r.array().items(r.string(),r.object({name:r.string().pattern(e.nameRx).required(),ref:r.boolean(),assert:r.alternatives([r.function(),r.object().schema()]).conditional("ref",{is:!0,then:r.required()}),normalize:r.function(),message:r.string().when("assert",{is:r.function(),then:r.required()})})),convert:r.boolean(),manifest:r.boolean(),method:r.function().allow(!1),multi:r.boolean(),validate:r.function()}),n.extension=r.object({type:r.alternatives([r.string(),r.object().regex()]).required(),args:r.function(),cast:r.object().pattern(e.nameRx,r.object({from:r.function().maxArity(1).required(),to:r.function().minArity(1).maxArity(2).required()})),base:r.object().schema().when("type",{is:r.object().regex(),then:r.forbidden()}),coerce:[r.function().maxArity(3),r.object({method:r.function().maxArity(3).required(),from:r.array().items(r.string()).single()})],flags:r.object().pattern(e.nameRx,r.object({setter:r.string(),default:r.any()})),manifest:{build:r.function().arity(2)},messages:[r.object(),r.string()],modifiers:r.object().pattern(e.nameRx,r.function().minArity(1).maxArity(2)),overrides:r.object().pattern(e.nameRx,r.function()),prepare:r.function().maxArity(3),rebuild:r.function().arity(1),rules:r.object().pattern(e.nameRx,e.rule),terms:r.object().pattern(e.nameRx,r.object({init:r.array().allow(null).required(),manifest:r.object().pattern(/.+/,[r.valid("schema","single"),r.object({mapped:r.object({from:r.string().required(),to:r.string().required()}).required()})])})),validate:r.function().maxArity(3)}).strict(),n.extensions=r.array().items(r.object(),r.function().arity(1)).strict(),e.desc={buffer:r.object({buffer:r.string()}),func:r.object({function:r.function().required(),options:{literal:!0}}),override:r.object({override:!0}),ref:r.object({ref:r.object({type:r.valid("value","global","local"),path:r.array().required(),separator:r.string().length(1).allow(!1),ancestor:r.number().min(0).integer().allow("root"),map:r.array().items(r.array().length(2)).min(1),adjust:r.function(),iterables:r.boolean(),in:r.boolean(),render:r.boolean()}).required()}),regex:r.object({regex:r.string().min(3)}),special:r.object({special:r.valid("deep").required()}),template:r.object({template:r.string().required(),options:r.object()}),value:r.object({value:r.alternatives([r.object(),r.array()]).required()})},e.desc.entity=r.alternatives([r.array().items(r.link("...")),r.boolean(),r.function(),r.number(),r.string(),e.desc.buffer,e.desc.func,e.desc.ref,e.desc.regex,e.desc.special,e.desc.template,e.desc.value,r.link("/")]),e.desc.values=r.array().items(null,r.boolean(),r.function(),r.number().allow(1/0,-1/0),r.string().allow(""),r.symbol(),e.desc.buffer,e.desc.func,e.desc.override,e.desc.ref,e.desc.regex,e.desc.template,e.desc.value),e.desc.messages=r.object().pattern(/.+/,[r.string(),e.desc.template,r.object().pattern(/.+/,[r.string(),e.desc.template])]),n.description=r.object({type:r.string().required(),flags:r.object({cast:r.string(),default:r.any(),description:r.string(),empty:r.link("/"),failover:e.desc.entity,id:r.string(),label:r.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:r.boolean(),unit:r.string()}).unknown(),preferences:{allowUnknown:r.boolean(),abortEarly:r.boolean(),artifacts:r.boolean(),cache:r.boolean(),convert:r.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:r.boolean(),label:["path","key"],language:[r.string(),e.desc.ref],wrap:{label:e.wrap,array:e.wrap}},externals:r.boolean(),messages:e.desc.messages,noDefaults:r.boolean(),nonEnumerables:r.boolean(),presence:["required","optional","forbidden"],skipFunctions:r.boolean(),stripUnknown:r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects").allow(!0,!1),warnings:r.boolean()},allow:e.desc.values,invalid:e.desc.values,rules:r.array().min(1).items({name:r.string().required(),args:r.object().min(1),keep:r.boolean(),message:[r.string(),e.desc.messages],warn:r.boolean()}),keys:r.object().pattern(/.*/,r.link("/")),link:e.desc.ref}).pattern(/^[a-z]\w*$/,r.any())},493:function(t,i,r){var e=r(8571),u=r(9621),s=r(8160),o={value:n("value")};t.exports=o.State=function(){function t(t,n,i){this.path=t,this.ancestors=n,this.mainstay=i.mainstay,this.schemas=i.schemas,this.debug=null}var n=t.prototype;return n.localize=function(t,n,i){void 0===n&&(n=null),void 0===i&&(i=null);var r=new o.State(t,n,this);return i&&r.schemas&&(r.schemas=[o.schemas(i)].concat(Ut(r.schemas))),r},n.nest=function(t,n){var i=new o.State(this.path,this.ancestors,this);return i.schemas=i.schemas&&[o.schemas(t)].concat(Ut(i.schemas)),i.debug=n,i},n.shadow=function(t,n){this.mainstay.shadow=this.mainstay.shadow||new o.Shadow,this.mainstay.shadow.set(this.path,t,n)},n.snapshot=function(){this.mainstay.shadow&&(this.Z_=e(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()},n.restore=function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this.Z_),this.Z_=void 0),this.mainstay.restore()},n.commit=function(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this.Z_),this.Z_=void 0),this.mainstay.commit()},t}(),o.schemas=function(t){return s.isSchema(t)?{schema:t}:t},o.Shadow=function(){function t(){this.g_=null}var n=t.prototype;return n.set=function(t,n,i){if(t.length&&("strip"!==i||"number"!=typeof t[t.length-1])){this.g_=this.g_||new Map;for(var r=this.g_,e=0;e<t.length;++e){var u=t[e],s=r.get(u);s||(s=new Map,r.set(u,s)),r=s}r[o.value]=n}},n.get=function(t){var n=this.node(t);if(n)return n[o.value]},n.node=function(t){if(this.g_)return u(this.g_,t,{iterables:!0})},n.override=function(t,n){if(this.g_){var i=t.slice(0,-1),r=t[t.length-1],e=u(this.g_,i,{iterables:!0});n?e.set(r,n):e&&e.delete(r)}},t}()},3328:function(t,i,r){var e=r(375),u=r(8571),s=r(5277),o=r(1447),a=r(8160),c=r(6354),h=r(6133),f={symbol:n("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join("\x01"),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};t.exports=f.Template=function(){function t(t,n){if(e("string"==typeof t,"Template source must be a string"),e(!t.includes("\0")&&!t.includes("\x01"),"Template source cannot contain reserved control characters"),this.source=t,this.rendered=t,this.B_=null,n){var i=n,r=i.functions,s=C(i,["functions"]);this.q_=k.keys(s).length?u(s):void 0,this.Y_=r,this.Y_&&(e(k.keys(this.Y_).every((function(t){return"string"==typeof t})),"Functions keys must be strings"),e(k.values(this.Y_).every((function(t){return"function"==typeof t})),"Functions values must be functions"))}else this.q_=void 0,this.Y_=void 0;this.X_()}var n=t.prototype;return n.X_=function(){if(this.source.includes("{")){var t=f.encode(this.source),n=f.split(t),i=!1,r=[],e=n.shift();e&&r.push(e);for(var u=0;u<n.length;u++){var s=n[u],o="{"!==s[0],a=o?"}":"}}",c=s.indexOf(a);if(-1!==c&&"{"!==s[1]){var h=s.slice(o?0:1,c),v=":"===h[0];v&&(h=h.slice(1));var l=this.z_(f.decode(h),{raw:o,wrapped:v});r.push(l),"string"!=typeof l&&(i=!0);var d=s.slice(c+a.length);d&&r.push(f.decode(d))}else r.push("{".concat(f.decode(s)))}i?this.B_=r:this.rendered=r.join("")}},n.describe=function(t){if(void 0===t&&(t={}),!this.q_&&t.compact)return this.source;var n={template:this.source};return this.q_&&(n.options=this.q_),this.Y_&&(n.functions=this.Y_),n},n.isDynamic=function(){return!!this.B_},n.refs=function(){var t;if(this.B_){for(var n=[],i=0,r=this.B_;i<r.length;i++){var e=r[i];"string"!=typeof e&&(t=n).push.apply(t,Ut(e.refs))}return n}},n.resolve=function(t,n,i,r){return this.B_&&1===this.B_.length?this.K_(this.B_[0],t,n,i,r,{}):this.render(t,n,i,r)},n.K_=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;return t.ref?(e=t.ref).resolve.apply(e,Ut(i)):t.formula.evaluate(i)},n.render=function(t,n,i,r,e){if(void 0===e&&(e={}),!this.isDynamic())return this.rendered;for(var u=[],o=0,a=this.B_;o<a.length;o++){var c=a[o];if("string"==typeof c)u.push(c);else{var h=this.K_(c,t,n,i,r,e),v=f.stringify(h,t,n,i,r,e);if(void 0!==v){var l=c.raw||!1===(e.errors&&e.errors.escapeHtml)?v:s(v);u.push(f.wrap(l,c.wrapped&&i.errors.wrap.label))}}}return u.join("")},n.z_=function(t,n){var i=this,r=n.raw,e=n.wrapped,u=[],s=function(t){var n=h.create(t,i.q_);return u.push(n),function(t){var i,r=(i=n).resolve.apply(i,Ut(t));return void 0!==r?r:null}};try{var a=this.Y_?m(m({},f.functions),this.Y_):f.functions,c=new o.Parser(t,{reference:s,functions:a,constants:f.constants})}catch(n){throw n.message='Invalid template variable "'.concat(t,'" fails due to: ').concat(n.message),n}if(c.single){if("reference"===c.single.type){var v=u[0];return{ref:v,raw:r,refs:u,wrapped:e||"local"===v.type&&"label"===v.key}}return f.stringify(c.single.value)}return{formula:c,raw:r,refs:u}},n.toString=function(){return this.source},t.date=function(t,n){return f.dateFormat[n.dateFormat].call(t)},t.build=function(t){return new f.Template(t.template,t.options||t.functions?b(m({},t.options),{functions:t.functions}):void 0)},t.isTemplate=function(t){return!!t&&!!t[a.symbols.template]},t}(),f.Template.prototype[a.symbols.template]=!0,f.Template.prototype.isImmutable=!0,f.encode=function(t){return t.replace(/\\(\{+)/g,(function(t,n){return f.opens.slice(0,n.length)})).replace(/\\(\}+)/g,(function(t,n){return f.closes.slice(0,n.length)}))},f.decode=function(t){return t.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},f.split=function(t){for(var n=[],i="",r=0;r<t.length;++r){var e=t[r];if("{"===e){for(var u="";r+1<t.length&&"{"===t[r+1];)u+="{",++r;n.push(i),i=u}else i+=e}return n.push(i),n},f.wrap=function(t,n){return n?1===n.length?"".concat(n).concat(t).concat(n):"".concat(n[0]).concat(t).concat(n[1]):t},f.stringify=function(t,n,i,r,e,u){void 0===u&&(u={});var s=void 0===t?"undefined":W(t),o=r&&r.errors&&r.errors.wrap||{},a=!1;if(h.isRef(t)&&t.render&&(a=t.in,t=t.resolve(n,i,r,e,m({in:t.in},u))),null===t)return"null";if("string"===s)return f.wrap(t,u.arrayItems&&o.string);if("number"===s||"function"===s||"symbol"===s)return t.toString();if("object"!==s)return JSON.stringify(t);if(t instanceof Date)return f.Template.date(t,r);if(t instanceof Map){for(var c=[],v=0,l=t.entries();v<l.length;v++){var d=nn(l[v],2),g=d[0],w=d[1];c.push("".concat(g.toString()," -> ").concat(w.toString()))}t=c}if(!Array.isArray(t))return t.toString();for(var p=[],y=0;y<t.length;y++){var _=t[y];p.push(f.stringify(_,n,i,r,e,m({arrayItems:!0},u)))}return f.wrap(p.join(", "),!a&&o.array)},f.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},f.functions={if:function(t,n,i){return t?n:i},length:function(t){return"string"==typeof t?t.length:t&&"object"==(void 0===t?"undefined":W(t))?Array.isArray(t)?t.length:k.keys(t).length:null},msg:function(t){var n=nn(this,5),i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=s.messages;if(!o)return"";var a=c.template(i,o[0],t,r,e)||c.template(i,o[1],t,r,e);return a?a.render(i,r,e,u,s):""},number:function(t){return"number"==typeof t?t:"string"==typeof t?S(t):"boolean"==typeof t?t?1:0:t instanceof Date?t.getTime():null}}},4946:function(t,n,i){var r,e,u=i(375),s=i(1687),o=i(8068),a=i(8160),c=i(3292),h=i(6354),f=i(6133),v={};t.exports=o.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:f.toSibling}},args:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),u=1;u<n;u++)i[u-1]=arguments[u];return 1===i.length&&Array.isArray(i[0])?(r=t).try.apply(r,Ut(i[0])):(e=t).try.apply(e,Ut(i))},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs;if(i.__.match){for(var o=[],a=[],c=0;c<i.$_terms.matches.length;++c){var f=i.$_terms.matches[c],l=e.nest(f.schema,"match.".concat(c));l.snapshot();var d=f.schema.$_validate(t,l,u);d.errors?(a.push(d.errors),l.restore()):(o.push(d.value),l.commit())}if(0===o.length)return{errors:r("alternatives.any",{details:a.map((function(t){return h.details(t,{override:!1})}))})};if("one"===i.__.match)return 1===o.length?{value:o[0]}:{errors:r("alternatives.one")};if(o.length!==i.$_terms.matches.length)return{errors:r("alternatives.all",{details:a.map((function(t){return h.details(t,{override:!1})}))})};var g=function(t){return t.$_terms.matches.some((function(t){return"object"===t.schema.type||"alternatives"===t.schema.type&&g(t.schema)}))};return g(i)?{value:o.reduce((function(t,n){return s(t,n,{mergeArrays:!1})}))}:{value:o[o.length-1]}}for(var m=[],w=0;w<i.$_terms.matches.length;++w){var p=i.$_terms.matches[w];if(p.schema){var y=e.nest(p.schema,"match.".concat(w));y.snapshot();var _=p.schema.$_validate(t,y,u);if(!_.errors)return y.commit(),_;y.restore(),m.push({schema:p.schema,reports:_.errors})}else for(var b=p.ref?p.ref.resolve(t,e,u):t,k=p.is?[p]:p.switch,A=0;A<k.length;++A){var T=k[A],S=T.is,E=T.then,I=T.otherwise,R="match.".concat(w).concat(p.switch?"."+A:"");if(S.$_match(b,e.nest(S,"".concat(R,".is")),u)){if(E)return E.$_validate(t,e.nest(E,"".concat(R,".then")),u)}else if(I)return I.$_validate(t,e.nest(I,"".concat(R,".otherwise")),u)}}return v.errors(m,n)},rules:{conditional:{method:function(t,n){u(!this.__.j_,"Unreachable condition"),u(!this.__.match,"Cannot combine match mode",this.__.match,"with conditional rule"),u(void 0===n.break,"Cannot use break option with alternatives conditional");for(var i=this.clone(),r=c.when(i,t,n),e=r.is?[r]:r.switch,s=0;s<e.length;s++){var o=e[s];if(o.then&&o.otherwise){i.$_setFlag("j_",!0,{clone:!1});break}}return i.$_terms.matches.push(r),i.$_mutateRebuild()}},match:{method:function(t){if(u(["any","one","all"].includes(t),"Invalid alternatives match mode",t),"any"!==t)for(var n=0,i=this.$_terms.matches;n<i.length;n++){var r=i[n];u(r.schema,"Cannot combine match mode",t,"with conditional rules")}return this.$_setFlag("match",t)}},try:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];u(n.length,"Missing alternative schemas"),a.verifyFlat(n,"try"),u(!this.__.j_,"Unreachable condition");for(var r=this.clone(),e=0;e<n.length;e++){var s=n[e];r.$_terms.matches.push({schema:r.$_compile(s)})}return r.$_mutateRebuild()}}},overrides:{label:function(t){return this.$_parent("label",t).$_modify({each:function(n,i){return"is"!==i.path[0]&&"string"!=typeof n.__.label?n.label(t):void 0},ref:!1})}},rebuild:function(t){t.$_modify({each:function(n){a.isSchema(n)&&"array"===n.type&&t.$_setFlag("Q_",!0,{clone:!1})}})},manifest:{build:function(t,n){if(n.matches)for(var i=0,r=n.matches;i<r.length;i++){var e=r[i],u=e.schema,s=e.ref,o=e.is,a=e.not,c=e.then,h=e.otherwise;t=u?t.try(u):s?t.conditional(s,{is:o,then:c,not:a,otherwise:h,switch:e.switch}):t.conditional(o,{then:c,otherwise:h})}return t}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),v.errors=function(t,n){var i=n.error,r=n.state;if(!t.length)return{errors:i("alternatives.any")};if(1===t.length)return{errors:t[0].reports};for(var e=new Set,u=[],s=0;s<t.length;s++){var o=t[s],a=o.reports,c=o.schema;if(a.length>1)return v.unmatched(t,i);var f=a[0];if(f instanceof h.Report==0)return v.unmatched(t,i);if(f.state.path.length===r.path.length)if("any.only"!==f.code){var l=nn(f.code.split("."),2),d=l[0];"base"!==l[1]?u.push({type:c.type,report:f}):"object.base"===f.code?e.add(f.local.type):e.add(d)}else for(var g=0,m=f.local.valids;g<m.length;g++){var w=m[g];e.add(w)}else u.push({type:c.type,report:f})}return u.length?1===u.length?{errors:u[0].report}:v.unmatched(t,i):{errors:i("alternatives.types",{types:Ut(e)})}},v.unmatched=function(t,n){for(var i,r=[],e=0;e<t.length;e++){var u=t[e];(i=r).push.apply(i,Ut(u.reports))}return{errors:n("alternatives.match",h.details(r,{override:!1}))}}},8068:function(t,n,i){var r=i(375),e=i(7629),u=i(8160),s=i(6914);t.exports=e.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method:function(t,n){return r("function"==typeof t,"Method must be a function"),r(void 0===n||n&&"string"==typeof n,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:t,description:n}})},validate:function(t,n,i){var r=i.method;try{return r(t,n)}catch(t){return n.error("any.custom",{error:t})}},args:["method","description"],multi:!0},messages:{method:function(t){return this.prefs({messages:t})}},shared:{method:function(t){r(u.isSchema(t)&&t.__.id,"Schema must be a schema with an id");var n=this.clone();return n.$_terms.shared=n.$_terms.shared||[],n.$_terms.shared.push(t),n.$_mutateRegister(t),n}},warning:{method:function(t,n){return r(t&&"string"==typeof t,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:t,local:n},warn:!0})},validate:function(t,n,i){var r=i.code,e=i.local;return n.error(r,e)},args:["code","local"],multi:!0}},modifiers:{keep:function(t,n){void 0===n&&(n=!0),t.keep=n},message:function(t,n){t.message=s.compile(n)},warn:function(t,n){void 0===n&&(n=!0),t.warn=n}},manifest:{build:function(t,n){for(var i in n){var r=n[i];if(["examples","externals","metas","notes","tags"].includes(i))for(var e=0;e<r.length;e++){var u=r[e];t=t[i.slice(0,-1)](u)}else if("alterations"!==i)if("whens"!==i){if("shared"===i)for(var s=0;s<r.length;s++){var o=r[s];t=t.shared(o)}}else for(var a=0;a<r.length;a++){var c=r[a],h=c.ref,f=c.is,v=c.not,l=c.then,d=c.otherwise,g=c.concat;t=g?t.concat(g):h?t.when(h,{is:f,not:v,then:l,otherwise:d,switch:c.switch,break:c.break}):t.when(f,{then:l,otherwise:d,break:c.break})}else{for(var m={},w=0;w<r.length;w++){var p=r[w],y=p.target,_=p.adjuster;m[y]=_}t=t.alter(m)}}return t}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:function(t,n,i){var r,e,u=i(375),s=i(9474),o=i(9621),a=i(8068),c=i(8160),h=i(3292),f={};t.exports=a.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},J_:{init:[]},rv:{init:[]},ov:{init:[]}},coerce:{from:"object",method:function(t,n){var i=n.schema,r=n.state,e=n.prefs;if(Array.isArray(t)){var u=i.$_getRule("sort");return u?f.sort(i,t,u.args.options,r,e):void 0}}},validate:function(t,n){var i=n.schema,r=n.error;if(!Array.isArray(t)){if(i.__.single){var e=[t];return e[c.symbols.arraySingle]=!0,{value:e}}return{errors:r("array.base")}}if(i.$_getRule("items")||i.$_terms.externals)return{value:t.slice()}},rules:{has:{method:function(t){t=this.$_compile(t,{appendPath:!0});var n=this.$_addRule({name:"has",args:{schema:t}});return n.$_mutateRegister(t),n},validate:function(t,n,i){for(var r=n.state,e=n.prefs,u=n.error,s=i.schema,o=[t].concat(Ut(r.ancestors)),a=0;a<t.length;++a){var c=r.localize(Ut(r.path).concat([a]),o,s);if(s.$_match(t[a],c,e))return t}var h=s.__.label;return h?u("array.hasKnown",{patternLabel:h}):u("array.hasUnknown",null)},multi:!0},items:{method:function(){for(var t=function(t){var i=c.tryWithPath((function(){return n.$_compile(r[t])}),t,{append:!0});u.$_terms.items.push(i)},n=this,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];c.verifyFlat(r,"items");for(var u=this.$_addRule("items"),s=0;s<r.length;++s)t(s);return u.$_mutateRebuild()},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs,s=n.errorsArray,o=i.$_terms.ov.slice(),a=i.$_terms.ordered.slice(),h=Ut(i.$_terms.rv).concat(Ut(o)),v=!t[c.symbols.arraySingle];delete t[c.symbols.arraySingle];for(var l=s(),d=t.length,g=0;g<d;++g){var m=t[g],w=!1,p=!1,y=v?g:new Number(g),_=Ut(e.path).concat([y]);if(i.__.sparse||void 0!==m){for(var b=[t].concat(Ut(e.ancestors)),k=0,A=i.$_terms.J_;k<A.length;k++){var T=A[k];if(T.$_match(m,e.localize(_,b,T),u,{presence:"ignore"})){if(l.push(r("array.excludes",{pos:g,value:m},e.localize(_))),u.abortEarly)return l;w=!0,a.shift();break}}if(!w){if(i.$_terms.ordered.length){if(a.length){var S,E=a.shift(),I=E.$_validate(m,e.localize(_,b,E),u);if(I.errors){if((S=l).push.apply(S,Ut(I.errors)),u.abortEarly)return l}else if("strip"===E.__.result)f.fastSplice(t,g),--g,--d;else{if(!i.__.sparse&&void 0===I.value){if(l.push(r("array.sparse",{key:y,path:_,pos:g,value:void 0},e.localize(_))),u.abortEarly)return l;continue}t[g]=I.value}continue}if(!i.$_terms.items.length){if(l.push(r("array.orderedLength",{pos:g,limit:i.$_terms.ordered.length})),u.abortEarly)return l;break}}for(var R=[],C=o.length,N=0;N<C;++N){var x=e.localize(_,b,o[N]);x.snapshot();var D=o[N].$_validate(m,x,u);if(R[N]=D,!D.errors){if(x.commit(),t[g]=D.value,p=!0,f.fastSplice(o,N),--N,--C,!i.__.sparse&&void 0===D.value&&(l.push(r("array.sparse",{key:y,path:_,pos:g,value:void 0},e.localize(_))),u.abortEarly))return l;break}x.restore()}if(!p){var P=u.stripUnknown&&!!u.stripUnknown.arrays||!1;C=h.length;for(var M=0;M<h.length;M++){var B=h[M],O=void 0,L=o.indexOf(B);if(-1!==L)O=R[L];else{var F=e.localize(_,b,B);if(F.snapshot(),!(O=B.$_validate(m,F,u)).errors){F.commit(),"strip"===B.__.result?(f.fastSplice(t,g),--g,--d):i.__.sparse||void 0!==O.value?t[g]=O.value:(l.push(r("array.sparse",{key:y,path:_,pos:g,value:void 0},e.localize(_))),w=!0),p=!0;break}F.restore()}if(1===C){var V;if(P){f.fastSplice(t,g),--g,--d,p=!0;break}if((V=l).push.apply(V,Ut(O.errors)),u.abortEarly)return l;w=!0;break}}if(!w&&(i.$_terms.rv.length||i.$_terms.ov.length)&&!p){if(P){f.fastSplice(t,g),--g,--d;continue}if(l.push(r("array.includes",{pos:g,value:m},e.localize(_))),u.abortEarly)return l}}}}else{if(l.push(r("array.sparse",{key:y,path:_,pos:g,value:void 0},e.localize(_))),u.abortEarly)return l;a.shift()}}return o.length&&f.fillMissedErrors(i,l,o,t,e,u),a.length&&(f.fillOrderedErrors(i,l,a,t,e,u),l.length||f.fillDefault(a,t,e,u)),l.length?l:t},priority:!0,manifest:!1},length:{method:function(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:function(t,n,i,r){var e=i.limit,u=r.name,s=r.operator,o=r.args;return c.compare(t.length,e,s)?t:n.error("array."+u,{limit:o.limit,value:t})},args:[{name:"limit",ref:!0,assert:c.limit,message:"must be a positive integer"}]},max:{method:function(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},ordered:{method:function(){for(var t=function(t){var i=c.tryWithPath((function(){return n.$_compile(r[t])}),t,{append:!0});f.validateSingle(i,u),u.$_mutateRegister(i),u.$_terms.ordered.push(i)},n=this,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];c.verifyFlat(r,"ordered");for(var u=this.$_addRule("items"),s=0;s<r.length;++s)t(s);return u.$_mutateRebuild()}},single:{method:function(t){var n=void 0===t||!!t;return u(!n||!this.__.Q_,"Cannot specify single rule when array has array items"),this.$_setFlag("single",n)}},sort:{method:function(t){void 0===t&&(t={}),c.assertOptions(t,["by","order"]);var n={order:t.order||"ascending"};return t.by&&(n.by=h.ref(t.by,{ancestor:0}),u(!n.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:n}})},validate:function(t,n,i){var r=n.error,e=n.state,u=n.prefs,s=n.schema,o=i.options,a=f.sort(s,t,o,e,u),c=a.value,h=a.errors;if(h)return h;for(var v=0;v<t.length;++v)if(t[v]!==c[v])return r("array.sort",{order:o.order,by:o.by?o.by.key:"value"});return t},convert:!0},sparse:{method:function(t){var n=void 0===t||!!t;return this.__.sparse===n?this:(n?this.clone():this.$_addRule("items")).$_setFlag("sparse",n,{clone:!1})}},unique:{method:function(t,n){void 0===n&&(n={}),u(!t||"function"==typeof t||"string"==typeof t,"comparator must be a function or a string"),c.assertOptions(n,["ignoreUndefined","separator"]);var i={name:"unique",args:{options:n,comparator:t}};if(t)if("string"==typeof t){var r=c.default(n.separator,".");i.path=r?t.split(r):[t]}else i.comparator=t;return this.$_addRule(i)},validate:function(t,n,i,r){for(var e=n.state,a=n.error,c=(n.schema,i.comparator),h=i.options,f=r.comparator,v=r.path,l={string:k.create(null),number:k.create(null),undefined:k.create(null),boolean:k.create(null),bigint:k.create(null),object:new Map,function:new Map,custom:new Map},d=f||s,g=h.ignoreUndefined,m=0;m<t.length;++m){var w=v?o(t[m],v):t[m],p=f?l.custom:l[void 0===w?"undefined":W(w)];if(u(p,"Failed to find unique map container for type",void 0===w?"undefined":W(w)),p instanceof Map){for(var y=p.entries(),_=void 0;!(_=y.next()).done;)if(d(_.value[0],w)){var b=e.localize(Ut(e.path).concat([m]),[t].concat(Ut(e.ancestors))),A={pos:m,value:t[m],dupePos:_.value[1],dupeValue:t[_.value[1]]};return v&&(A.path=c),a("array.unique",A,b)}p.set(w,m)}else{if((!g||void 0!==w)&&void 0!==p[w]){var T={pos:m,value:t[m],dupePos:p[w],dupeValue:t[p[w]]};return v&&(T.path=c),a("array.unique",T,e.localize(Ut(e.path).concat([m]),[t].concat(Ut(e.ancestors))))}p[w]=m}}return t},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:function(t,n){return new Set(t)}}},rebuild:function(t){t.$_terms.rv=[],t.$_terms.J_=[],t.$_terms.ov=[];for(var n=0,i=t.$_terms.items;n<i.length;n++){var r=i[n];f.validateSingle(r,t),"required"===r.__.presence?t.$_terms.ov.push(r):"forbidden"===r.__.presence?t.$_terms.J_.push(r):t.$_terms.rv.push(r)}for(var e=0,u=t.$_terms.ordered;e<u.length;e++){var s=u[e];f.validateSingle(s,t)}},manifest:{build:function(t,n){return n.items&&(t=(r=t).items.apply(r,Ut(n.items))),n.ordered&&(t=(e=t).ordered.apply(e,Ut(n.ordered))),t}},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),f.fillMissedErrors=function(t,n,i,r,e,u){for(var s=[],o=0,a=0;a<i.length;a++){var c=i[a].__.label;c?s.push(c):++o}s.length?o?n.push(t.$_createError("array.includesRequiredBoth",r,{knownMisses:s,unknownMisses:o},e,u)):n.push(t.$_createError("array.includesRequiredKnowns",r,{knownMisses:s},e,u)):n.push(t.$_createError("array.includesRequiredUnknowns",r,{unknownMisses:o},e,u))},f.fillOrderedErrors=function(t,n,i,r,e,u){for(var s=[],o=0;o<i.length;o++){var a=i[o];"required"===a.__.presence&&s.push(a)}s.length&&f.fillMissedErrors(t,n,s,r,e,u)},f.fillDefault=function(t,n,i,r){for(var e,u=[],s=!0,o=t.length-1;o>=0;--o){var a=t[o],c=[n].concat(Ut(i.ancestors)),h=a.$_validate(void 0,i.localize(i.path,c,a),r).value;if(s){if(void 0===h)continue;s=!1}u.unshift(h)}u.length&&(e=n).push.apply(e,Ut(u))},f.fastSplice=function(t,n){for(var i=n;i<t.length;)t[i++]=t[i];--t.length},f.validateSingle=function(t,n){("array"===t.type||t.__.Q_)&&(u(!n.__.single,"Cannot specify array item with single rule enabled"),n.$_setFlag("Q_",!0,{clone:!1}))},f.sort=function(t,n,i,r,e){var u="ascending"===i.order?1:-1,s=-1*u,o=u,a=function(a,c){var h=f.compare(a,c,s,o);if(null!==h||(i.by&&(a=i.by.resolve(a,r,e),c=i.by.resolve(c,r,e)),null!==(h=f.compare(a,c,s,o))))return h;var v=void 0===a?"undefined":W(a);if(v!==(void 0===c?"undefined":W(c)))throw t.$_createError("array.sort.mismatching",n,null,r,e);if("number"!==v&&"string"!==v)throw t.$_createError("array.sort.unsupported",n,{type:v},r,e);return"number"===v?(a-c)*u:a<c?s:o};try{return{value:n.slice().sort(a)}}catch(t){return{errors:t}}},f.compare=function(t,n,i,r){return t===n?0:void 0===t?1:void 0===n?-1:null===t?r:null===n?i:null}},4937:function(t,n,i){var r,e,u=i(375),s=i(8068),o=i(8160),a=i(2036),c={isBool:function(t){return"boolean"==typeof t}};t.exports=s.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce:function(t,n){var i=n.schema;if("boolean"!=typeof t){if("string"==typeof t){var r=i.__.sensitive?t:t.toLowerCase();t="true"===r||"false"!==r&&t}return"boolean"!=typeof t&&(t=i.$_terms.truthy&&i.$_terms.truthy.has(t,null,null,!i.__.sensitive)||(!i.$_terms.falsy||!i.$_terms.falsy.has(t,null,null,!i.__.sensitive))&&t),{value:t}}},validate:function(t,n){var i=n.error;if("boolean"!=typeof t)return{value:t,errors:i("boolean.base")}},rules:{truthy:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];o.verifyFlat(n,"truthy");var r=this.clone();r.$_terms.truthy=r.$_terms.truthy||new a;for(var e=0;e<n.length;++e){var s=n[e];u(void 0!==s,"Cannot call truthy with undefined"),r.$_terms.truthy.add(s)}return r}},falsy:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];o.verifyFlat(n,"falsy");var r=this.clone();r.$_terms.falsy=r.$_terms.falsy||new a;for(var e=0;e<n.length;++e){var s=n[e];u(void 0!==s,"Cannot call falsy with undefined"),r.$_terms.falsy.add(s)}return r}},sensitive:{method:function(t){return void 0===t&&(t=!0),this.$_setFlag("sensitive",t)}}},cast:{number:{from:c.isBool,to:function(t,n){return t?1:0}},string:{from:c.isBool,to:function(t,n){return t?"true":"false"}}},manifest:{build:function(t,n){return n.truthy&&(t=(r=t).truthy.apply(r,Ut(n.truthy))),n.falsy&&(t=(e=t).falsy.apply(e,Ut(n.falsy))),t}},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s=i(3328),o={isDate:function(t){return t instanceof Date}};t.exports=e.extend({type:"date",coerce:{from:["number","string"],method:function(t,n){var i=n.schema;return{value:o.parse(t,i.__.format)||t}}},validate:function(t,n){var i=n.schema,r=n.error,e=n.prefs;if(!(t instanceof Date)||E(t.getTime())){var u=i.__.format;return e.convert&&u&&"string"==typeof t?{value:t,errors:r("date.format",{format:u})}:{value:t,errors:r("date.base")}}},rules:{compare:{method:!1,validate:function(t,n,i,r){var e=i.date,s=r.name,o=r.operator,a=r.args,c="now"===e?Date.now():e.getTime();return u.compare(t.getTime(),c,o)?t:n.error("date."+s,{limit:a.date,value:t})},args:[{name:"date",ref:!0,normalize:function(t){return"now"===t?t:o.parse(t)},assert:function(t){return null!==t},message:"must have a valid date format"}]},format:{method:function(t){return r(["iso","javascript","unix"].includes(t),"Unknown date format",t),this.$_setFlag("format",t)}},greater:{method:function(t){return this.$_addRule({name:"greater",method:"compare",args:{date:t},operator:">"})}},iso:{method:function(){return this.format("iso")}},less:{method:function(t){return this.$_addRule({name:"less",method:"compare",args:{date:t},operator:"<"})}},max:{method:function(t){return this.$_addRule({name:"max",method:"compare",args:{date:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"compare",args:{date:t},operator:">="})}},timestamp:{method:function(t){return void 0===t&&(t="javascript"),r(["javascript","unix"].includes(t),'"type" must be one of "javascript, unix"'),this.format(t)}}},cast:{number:{from:o.isDate,to:function(t,n){return t.getTime()}},string:{from:o.isDate,to:function(t,n){var i=n.prefs;return s.date(t,i)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),o.parse=function(t,n){if(t instanceof Date)return t;if("string"!=typeof t&&(E(t)||!isFinite(t))||/^\s*$/.test(t))return null;if("iso"===n)return u.isIsoDate(t)?o.date(t.toString()):null;var i=t;if("string"==typeof t&&/^[+-]?\d+(\.\d+)?$/.test(t)&&(t=S(t)),n){if("javascript"===n)return o.date(1*t);if("unix"===n)return o.date(1e3*t);if("string"==typeof i)return null}return o.date(t)},o.date=function(t){var n=new Date(t);return E(n.getTime())?null:n}},390:function(t,n,i){var r=i(375),e=i(7824);t.exports=e.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method:function(t){return r(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length===r?t:n.error("function.arity",{n:r})}},class:{method:function(){return this.$_addRule("class")},validate:function(t,n){return/^\s*class\s/.test(t.toString())?t:n.error("function.class",{value:t})}},minArity:{method:function(t){return r(Number.isSafeInteger(t)&&t>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length>=r?t:n.error("function.minArity",{n:r})}},maxArity:{method:function(t){return r(Number.isSafeInteger(t)&&t>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:t}})},validate:function(t,n,i){var r=i.n;return t.length<=r?t:n.error("function.maxArity",{n:r})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:function(t,n,i){var r=i(978),e=i(375),u=i(8571),s=i(3652),o=i(8068),a=i(8160),c=i(3292),h=i(6354),f=i(6133),v=i(3328),l={renameDefaults:{alias:!1,multiple:!1,override:!1}};t.exports=o.extend({type:"hv",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:function(t,n){return t.keys(n)},validate:function(t,n){var i=n.schema,r=n.error,e=n.state,u=n.prefs;if(!t||(void 0===t?"undefined":W(t))!==i.$_property("typeof")||Array.isArray(t))return{value:t,errors:r("object.base",{type:i.$_property("typeof")})};if(i.$_terms.renames||i.$_terms.dependencies||i.$_terms.keys||i.$_terms.patterns||i.$_terms.externals){t=l.clone(t,u);var s=[];if(i.$_terms.renames&&!l.rename(i,t,e,u,s))return{value:t,errors:s};if(!i.$_terms.keys&&!i.$_terms.patterns&&!i.$_terms.dependencies)return{value:t,errors:s};var o=new Set(k.keys(t));if(i.$_terms.keys)for(var a=[t].concat(Ut(e.ancestors)),c=0,h=i.$_terms.keys;c<h.length;c++){var f=h[c],v=f.key,d=t[v];o.delete(v);var g=e.localize(Ut(e.path).concat([v]),a,f),m=f.schema.$_validate(d,g,u);if(m.errors){var w;if(u.abortEarly)return{value:t,errors:m.errors};void 0!==m.value&&(t[v]=m.value),(w=s).push.apply(w,Ut(m.errors))}else"strip"===f.schema.__.result||void 0===m.value&&void 0!==d?delete t[v]:void 0!==m.value&&(t[v]=m.value)}if(o.size||i.__.uv){var p=l.unknown(i,t,o,s,e,u);if(p)return p}if(i.$_terms.dependencies)for(var y=0,_=i.$_terms.dependencies;y<_.length;y++){var b=_[y];if(null===b.key||!1!==l.isPresent(b.options)(b.key.resolve(t,e,u,null,{shadow:!1}))){var A=l.dependencies[b.rel](i,b,t,e,u);if(A){var T=i.$_createError(A.code,t,A.context,e,u);if(u.abortEarly)return{value:t,errors:T};s.push(T)}}}return{value:t,errors:s}}},rules:{and:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"and"),l.dependency(this,"and",null,n)}},append:{method:function(t){return null==t||0===k.keys(t).length?this:this.keys(t)}},assert:{method:function(t,n,i){v.isTemplate(t)||(t=c.ref(t)),e(void 0===i||"string"==typeof i,"Message must be a string"),n=this.$_compile(n,{appendPath:!0});var r=this.$_addRule({name:"assert",args:{subject:t,schema:n,message:i}});return r.$_mutateRegister(t),r.$_mutateRegister(n),r},validate:function(t,n,i){var r=n.error,e=n.prefs,u=n.state,s=i.subject,o=i.schema,a=i.message,c=s.resolve(t,u,e),h=f.isRef(s)?s.absolute(u):[];return o.$_match(c,u.localize(h,[t].concat(Ut(u.ancestors)),o),e)?t:r("object.assert",{subject:s,message:a})},args:["subject","schema","message"],multi:!0},instance:{method:function(t,n){return e("function"==typeof t,"constructor must be a function"),n=n||t.name,this.$_addRule({name:"instance",args:{constructor:t,name:n}})},validate:function(t,n,i){var r=i.constructor,e=i.name;return t instanceof r?t:n.error("object.instance",{type:e,value:t})},args:["constructor","name"]},keys:{method:function(t){var n=this;e(void 0===t||"object"==(void 0===t?"undefined":W(t)),"Object schema must be a valid object"),e(!a.isSchema(t),"Object schema cannot be a joi schema");var i=this.clone();if(t)if(k.keys(t).length){var r=function(r){a.tryWithPath((function(){return i.$_terms.keys.push({key:r,schema:n.$_compile(t[r])})}),r)};for(var u in i.$_terms.keys=i.$_terms.keys?i.$_terms.keys.filter((function(n){return!t.hasOwnProperty(n.key)})):new l.Keys,t)r(u)}else i.$_terms.keys=new l.Keys;else i.$_terms.keys=null;return i.$_mutateRebuild()}},length:{method:function(t){return this.$_addRule({name:"length",args:{limit:t},operator:"="})},validate:function(t,n,i,r){var e=i.limit,u=r.name,s=r.operator,o=r.args;return a.compare(k.keys(t).length,e,s)?t:n.error("object."+u,{limit:o.limit,value:t})},args:[{name:"limit",ref:!0,assert:a.limit,message:"must be a positive integer"}]},max:{method:function(t){return this.$_addRule({name:"max",method:"length",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"length",args:{limit:t},operator:">="})}},nand:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"nand"),l.dependency(this,"nand",null,n)}},or:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"or"),l.dependency(this,"or",null,n)}},oxor:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return l.dependency(this,"oxor",null,n)}},pattern:{method:function(t,n,i){void 0===i&&(i={});var r=t instanceof RegExp;r||(t=this.$_compile(t,{appendPath:!0})),e(void 0!==n,"Invalid rule"),a.assertOptions(i,["fallthrough","matches"]),r&&e(!t.flags.includes("g")&&!t.flags.includes("y"),"pattern should not use global or sticky mode"),n=this.$_compile(n,{appendPath:!0});var u,s=this.clone();s.$_terms.patterns=s.$_terms.patterns||[];var o=(sn(u={},r?"regex":"schema",t),sn(u,"rule",n),u);return i.matches&&(o.matches=this.$_compile(i.matches),"array"!==o.matches.type&&(o.matches=o.matches.$_root.array().items(o.matches)),s.$_mutateRegister(o.matches),s.$_setFlag("uv",!0,{clone:!1})),i.fallthrough&&(o.fallthrough=!0),s.$_terms.patterns.push(o),s.$_mutateRegister(n),s}},ref:{method:function(){return this.$_addRule("ref")},validate:function(t,n){return f.isRef(t)?t:n.error("object.refType",{value:t})}},regex:{method:function(){return this.$_addRule("regex")},validate:function(t,n){return t instanceof RegExp?t:n.error("object.regex",{value:t})}},rename:{method:function(t,n,i){void 0===i&&(i={}),e("string"==typeof t||t instanceof RegExp,"Rename missing the from argument"),e("string"==typeof n||n instanceof v,"Invalid rename to argument"),e(n!==t,"Cannot rename key to same name:",t),a.assertOptions(i,["alias","ignoreUndefined","override","multiple"]);var u=this.clone();u.$_terms.renames=u.$_terms.renames||[];for(var s=0,o=u.$_terms.renames;s<o.length;s++){var c=o[s];e(c.from!==t,"Cannot rename the same key multiple times")}return n instanceof v&&u.$_mutateRegister(n),u.$_terms.renames.push({from:t,to:n,options:r(l.renameDefaults,i)}),u}},schema:{method:function(t){return void 0===t&&(t="any"),this.$_addRule({name:"schema",args:{type:t}})},validate:function(t,n,i){var r=i.type;return!a.isSchema(t)||"any"!==r&&t.type!==r?n.error("object.schema",{type:r}):t}},unknown:{method:function(t){return this.$_setFlag("unknown",!1!==t)}},with:{method:function(t,n,i){return void 0===i&&(i={}),l.dependency(this,"with",t,n,i)}},without:{method:function(t,n,i){return void 0===i&&(i={}),l.dependency(this,"without",t,n,i)}},xor:{method:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return a.verifyFlat(n,"xor"),l.dependency(this,"xor",null,n)}}},overrides:{default:function(t,n){return void 0===t&&(t=a.symbols.deepDefault),this.$_parent("default",t,n)}},rebuild:function(t){if(t.$_terms.keys){for(var n=function(t,n){var r=n[t];a.tryWithPath((function(){return i.add(r,{after:r.schema.$_rootReferences(),group:r.key})}),r.key)},i=new s.Sorter,r=0,e=t.$_terms.keys;r<e.length;r++)n(r,e);t.$_terms.keys=fn(l.Keys,Ut(i.nodes))}},manifest:{build:function(t,n){if(n.keys&&(t=t.keys(n.keys)),n.dependencies)for(var i=0,r=n.dependencies;i<r.length;i++){var e=r[i],u=e.rel,s=e.key,o=void 0===s?null:s,a=e.peers,c=e.options;t=l.dependency(t,u,o,a,c)}if(n.patterns)for(var h=0,f=n.patterns;h<f.length;h++){var v=f[h],d=v.regex,g=v.schema,m=v.rule,w=v.fallthrough,p=v.matches;t=t.pattern(d||g,m,{fallthrough:w,matches:p})}if(n.renames)for(var y=0,_=n.renames;y<_.length;y++){var b=_[y],k=b.from,A=b.to,T=b.options;t=t.rename(k,A,T)}return t}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),l.clone=function(t,n){if("object"==(void 0===t?"undefined":W(t))){if(n.nonEnumerables)return u(t,{shallow:!0});var i=k.create(k.getPrototypeOf(t));return k.assign(i,t),i}var r=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.apply(this,i)};return r.prototype=u(t.prototype),k.defineProperty(r,"name",{value:t.name,writable:!1}),k.defineProperty(r,"length",{value:t.length,writable:!1}),k.assign(r,t),r},l.dependency=function(t,n,i,r,u){e(null===i||"string"==typeof i,n,"key must be a strings"),u||(u=r.length>1&&"object"==W(r[r.length-1])?r.pop():{}),a.assertOptions(u,["separator","isPresent"]),r=[].concat(r);for(var s=a.default(u.separator,"."),o=[],h=0;h<r.length;h++){var f=r[h];e("string"==typeof f,n,"peers must be strings"),o.push(c.ref(f,{separator:s,ancestor:0,prefix:!1}))}null!==i&&(i=c.ref(i,{separator:s,ancestor:0,prefix:!1}));var v=t.clone();return v.$_terms.dependencies=v.$_terms.dependencies||[],v.$_terms.dependencies.push(new l.Dependency(n,i,o,r,u)),v},l.dependencies={and:function(t,n,i,r,e){for(var u=[],s=[],o=n.peers.length,a=l.isPresent(n.options),c=0,h=n.peers;c<h.length;c++){var f=h[c];!1===a(f.resolve(i,r,e,null,{shadow:!1}))?u.push(f.key):s.push(f.key)}if(u.length!==o&&s.length!==o)return{code:"object.and",context:{present:s,presentWithLabels:l.keysToLabels(t,s),missing:u,missingWithLabels:l.keysToLabels(t,u)}}},nand:function(t,n,i,r,e){for(var u=[],s=l.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(u.length===n.peers.length){var h=n.paths[0],f=n.paths.slice(1);return{code:"object.nand",context:{main:h,mainWithLabel:l.keysToLabels(t,h),peers:f,peersWithLabels:l.keysToLabels(t,f)}}}},or:function(t,n,i,r,e){for(var u=l.isPresent(n.options),s=0,o=n.peers;s<o.length;s++)if(u(o[s].resolve(i,r,e,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:n.paths,peersWithLabels:l.keysToLabels(t,n.paths)}}},oxor:function(t,n,i,r,e){for(var u=[],s=l.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(u.length&&1!==u.length){var h={peers:n.paths,peersWithLabels:l.keysToLabels(t,n.paths)};return h.present=u,h.presentWithLabels=l.keysToLabels(t,u),{code:"object.oxor",context:h}}},with:function(t,n,i,r,e){for(var u=l.isPresent(n.options),s=0,o=n.peers;s<o.length;s++){var a=o[s];if(!1===u(a.resolve(i,r,e,null,{shadow:!1})))return{code:"object.with",context:{main:n.key.key,mainWithLabel:l.keysToLabels(t,n.key.key),peer:a.key,peerWithLabel:l.keysToLabels(t,a.key)}}}},without:function(t,n,i,r,e){for(var u=l.isPresent(n.options),s=0,o=n.peers;s<o.length;s++){var a=o[s];if(u(a.resolve(i,r,e,null,{shadow:!1})))return{code:"object.without",context:{main:n.key.key,mainWithLabel:l.keysToLabels(t,n.key.key),peer:a.key,peerWithLabel:l.keysToLabels(t,a.key)}}}},xor:function(t,n,i,r,e){for(var u=[],s=l.isPresent(n.options),o=0,a=n.peers;o<a.length;o++){var c=a[o];s(c.resolve(i,r,e,null,{shadow:!1}))&&u.push(c.key)}if(1!==u.length){var h={peers:n.paths,peersWithLabels:l.keysToLabels(t,n.paths)};return 0===u.length?{code:"object.missing",context:h}:(h.present=u,h.presentWithLabels=l.keysToLabels(t,u),{code:"object.xor",context:h})}}},l.keysToLabels=function(t,n){return Array.isArray(n)?n.map((function(n){return t.$_mapLabels(n)})):t.$_mapLabels(n)},l.isPresent=function(t){return"function"==typeof t.isPresent?t.isPresent:function(t){return void 0!==t}},l.rename=function(t,n,i,r,e){for(var u={},s=0,o=t.$_terms.renames;s<o.length;s++){var a=o[s],c=[],h="string"!=typeof a.from;if(h){for(var f in n)if(!(void 0===n[f]&&a.options.ignoreUndefined||f===a.to)){var l=a.from.exec(f);l&&c.push({from:f,to:a.to,match:l})}}else!k.prototype.hasOwnProperty.call(n,a.from)||void 0===n[a.from]&&a.options.ignoreUndefined||c.push(a);for(var d=0;d<c.length;d++){var g=c[d],m=g.from,w=g.to;if(w instanceof v&&(w=w.render(n,i,r,g.match)),m!==w){if(!a.options.multiple&&u[w]&&(e.push(t.$_createError("object.rename.multiple",n,{from:m,to:w,pattern:h},i,r)),r.abortEarly)||k.prototype.hasOwnProperty.call(n,w)&&!a.options.override&&!u[w]&&(e.push(t.$_createError("object.rename.override",n,{from:m,to:w,pattern:h},i,r)),r.abortEarly))return!1;void 0===n[m]?delete n[w]:n[w]=n[m],u[w]=!0,a.options.alias||delete n[m]}}}return!0},l.unknown=function(t,n,i,r,e,u){if(t.$_terms.patterns){for(var s=!1,o=t.$_terms.patterns.map((function(t){if(t.matches)return s=!0,[]})),c=[n].concat(Ut(e.ancestors)),f=0;f<i.length;f++)for(var v=i[f],l=n[v],d=Ut(e.path).concat([v]),g=0;g<t.$_terms.patterns.length;++g){var m=t.$_terms.patterns[g];if(m.regex){var w=m.regex.test(v);if(e.mainstay.tracer.debug(e,"rule","pattern.".concat(g),w?"pass":"error"),!w)continue}else if(!m.schema.$_match(v,e.nest(m.schema,"pattern.".concat(g)),u))continue;i.delete(v);var p=e.localize(d,c,{schema:m.rule,key:v}),y=m.rule.$_validate(l,p,u);if(y.errors){var _;if(u.abortEarly)return{value:n,errors:y.errors};(_=r).push.apply(_,Ut(y.errors))}if(m.matches&&o[g].push(v),n[v]=y.value,!m.fallthrough)break}if(s)for(var b=0;b<o.length;++b){var k=o[b];if(k){var A=t.$_terms.patterns[b].matches,T=e.localize(e.path,c,A),S=A.$_validate(k,T,u);if(S.errors){var E=h.details(S.errors,{override:!1});E.matches=k;var I=t.$_createError("object.pattern.match",n,E,e,u);if(u.abortEarly)return{value:n,errors:I};r.push(I)}}}}if(i.size&&(t.$_terms.keys||t.$_terms.patterns)){if(u.stripUnknown&&void 0===t.__.unknown||u.skipFunctions)for(var R=!(!u.stripUnknown||!0!==u.stripUnknown&&!u.stripUnknown.objects),C=0;C<i.length;C++){var N=i[C];R?(delete n[N],i.delete(N)):"function"==typeof n[N]&&i.delete(N)}if(!a.default(t.__.unknown,u.allowUnknown))for(var x=0;x<i.length;x++){var D=i[x],P=e.localize(Ut(e.path).concat([D]),[]),M=t.$_createError("object.unknown",n[D],{child:D},P,u,{flags:!1});if(u.abortEarly)return{value:n,errors:M};r.push(M)}}},l.Dependency=function(){function t(t,n,i,r,e){this.rel=t,this.key=n,this.peers=i,this.paths=r,this.options=e}return t.prototype.describe=function(){var t={rel:this.rel,peers:this.paths};return null!==this.key&&(t.key=this.key.key),"."!==this.peers[0].separator&&(t.options=b(m({},t.options),{separator:this.peers[0].separator})),this.options.isPresent&&(t.options=b(m({},t.options),{isPresent:this.options.isPresent})),t},t}(),l.Keys=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.concat=function(t){for(var n=this.slice(),i=new Map,r=0;r<n.length;++r)i.set(n[r].key,r);for(var e=0;e<t.length;e++){var u=t[e],s=u.key,o=i.get(s);void 0!==o?n[o]={key:s,schema:n[o].schema.concat(u.schema)}:n.push(u)}return n},n}(mn(Array))},8785:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s=i(3292),o=i(6354),a={};t.exports=e.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:function(t,n){return t.ref(n)},validate:function(t,n){var i=n.schema,e=n.state,u=n.prefs;r(i.$_terms.link,"Uninitialized link schema");var s=a.generate(i,t,e,u),o=i.$_terms.link[0].ref;return s.$_validate(t,e.nest(s,"link:".concat(o.display,":").concat(s.type)),u)},generate:function(t,n,i,r){return a.generate(t,n,i,r)},rules:{ref:{method:function(t){r(!this.$_terms.link,"Cannot reinitialize schema"),t=s.ref(t),r("value"===t.type||"local"===t.type,"Invalid reference type:",t.type),r("local"===t.type||"root"===t.ancestor||t.ancestor>0,"Link cannot reference itself");var n=this.clone();return n.$_terms.link=[{ref:t}],n}},relative:{method:function(t){return void 0===t&&(t=!0),this.$_setFlag("relative",t)}}},overrides:{concat:function(t){r(this.$_terms.link,"Uninitialized link schema"),r(u.isSchema(t),"Invalid schema object"),r("link"!==t.type,"Cannot merge type link with another link");var n=this.clone();return n.$_terms.whens||(n.$_terms.whens=[]),n.$_terms.whens.push({concat:t}),n.$_mutateRebuild()}},manifest:{build:function(t,n){return r(n.link,"Invalid link description missing link"),t.ref(n.link)}}}),a.generate=function(t,n,i,r){var e=i.mainstay.links.get(t);if(e)return e.I_(n,i,r).schema;var u=t.$_terms.link[0].ref,s=a.perspective(u,i),o=s.perspective,c=s.path;a.assert(o,"which is outside of schema boundaries",u,t,i,r);try{e=c.length?o.$_reach(c):o}catch(n){a.assert(!1,"to non-existing schema",u,t,i,r)}return a.assert("link"!==e.type,"which is another link",u,t,i,r),t.__.relative||i.mainstay.links.set(t,e),e.I_(n,i,r).schema},a.perspective=function(t,n){if("local"===t.type){for(var i=0,r=n.schemas;i<r.length;i++){var e=r[i],u=e.schema,s=e.key;if((u.__.id||s)===t.path[0])return{perspective:u,path:t.path.slice(1)};if(u.$_terms.shared)for(var o=0,a=u.$_terms.shared;o<a.length;o++){var c=a[o];if(c.__.id===t.path[0])return{perspective:c,path:t.path.slice(1)}}}return{perspective:null,path:null}}return"root"===t.ancestor?{perspective:n.schemas[n.schemas.length-1].schema,path:t.path}:{perspective:n.schemas[t.ancestor]&&n.schemas[t.ancestor].schema,path:t.path}},a.assert=function(t,n,i,e,u,s){t||r(!1,'"'.concat(o.label(e.__,u,s),'" contains link reference "').concat(i.display,'" ').concat(n))}},3832:function(t,n,i){var r=i(375),e=i(8068),u=i(8160),s={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces:function(t){var n=t.toString(),i=n.indexOf("."),r=n.indexOf("e");return(i<0?0:(r<0?n.length:r)-i-1)+(r<0?0:A.max(0,-T(n.slice(r+1))))}};t.exports=e.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method:function(t,n){var i=n.schema,r=n.error;if(t.match(s.numberRx)){t=t.trim();var e={value:S(t)};if(0===e.value&&(e.value=0),!i.__.unsafe)if(t.match(/e/i)){if(s.extractSignificantDigits(t)!==s.extractSignificantDigits(String(e.value)))return e.errors=r("number.unsafe"),e}else{var u=e.value.toString();if(u.match(/e/i))return e;if(u!==s.normalizeDecimal(t))return e.errors=r("number.unsafe"),e}return e}}},validate:function(t,n){var i=n.schema,r=n.error,e=n.prefs;if(t===1/0||t===-1/0)return{value:t,errors:r("number.infinity")};if(!u.isNumber(t))return{value:t,errors:r("number.base")};var s={value:t};if(e.convert){var o=i.$_getRule("precision");if(o){var a=A.pow(10,o.args.limit);s.value=A.round(s.value*a)/a}}return 0===s.value&&(s.value=0),!i.__.unsafe&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)&&(s.errors=r("number.unsafe")),s},rules:{compare:{method:!1,validate:function(t,n,i,r){var e=i.limit,s=r.name,o=r.operator,a=r.args;return u.compare(t,e,o)?t:n.error("number."+s,{limit:a.limit,value:t})},args:[{name:"limit",ref:!0,assert:u.isNumber,message:"must be a number"}]},greater:{method:function(t){return this.$_addRule({name:"greater",method:"compare",args:{limit:t},operator:">"})}},integer:{method:function(){return this.$_addRule("integer")},validate:function(t,n){return A.trunc(t)-t==0?t:n.error("number.integer")}},less:{method:function(t){return this.$_addRule({name:"less",method:"compare",args:{limit:t},operator:"<"})}},max:{method:function(t){return this.$_addRule({name:"max",method:"compare",args:{limit:t},operator:"<="})}},min:{method:function(t){return this.$_addRule({name:"min",method:"compare",args:{limit:t},operator:">="})}},multiple:{method:function(t){var n="number"==typeof t?s.decimalPlaces(t):null,i=A.pow(10,n);return this.$_addRule({name:"multiple",args:{base:t,baseDecimalPlace:n,pfactor:i}})},validate:function(t,n,i,r){var e=i.base,u=i.baseDecimalPlace,o=i.pfactor;return s.decimalPlaces(t)>u?n.error("number.multiple",{multiple:r.args.base,value:t}):A.round(o*t)%A.round(o*e)==0?t:n.error("number.multiple",{multiple:r.args.base,value:t})},args:[{name:"base",ref:!0,assert:function(t){return"number"==typeof t&&isFinite(t)&&t>0},message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method:function(){return this.sign("negative")}},port:{method:function(){return this.$_addRule("port")},validate:function(t,n){return Number.isSafeInteger(t)&&t>=0&&t<=65535?t:n.error("number.port")}},positive:{method:function(){return this.sign("positive")}},precision:{method:function(t){return r(Number.isSafeInteger(t),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:t}})},validate:function(t,n,i){var r=i.limit,e=t.toString().match(s.precisionRx);return A.max((e[1]?e[1].length:0)-(e[2]?T(e[2],10):0),0)<=r?t:n.error("number.precision",{limit:r,value:t})},convert:!0},sign:{method:function(t){return r(["negative","positive"].includes(t),"Invalid sign",t),this.$_addRule({name:"sign",args:{sign:t}})},validate:function(t,n,i){var r=i.sign;return"negative"===r&&t<0||"positive"===r&&t>0?t:n.error("number.".concat(r))}},unsafe:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_setFlag("unsafe",t)}}},cast:{string:{from:function(t){return"number"==typeof t},to:function(t,n){return t.toString()}}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),s.extractSignificantDigits=function(t){return t.replace(s.exponentialPartRegex,"").replace(s.dotRegex,"").replace(s.trailingZerosRegex,"").replace(s.leadingSignAndZerosRegex,"")},s.normalizeDecimal=function(t){return(t=t.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&t.endsWith("0")&&(t=t.replace(/0+$/,"")),"-0"===t?"0":t}},8966:function(t,n,i){var r=i(7824);t.exports=r.extend({type:"object",cast:{map:{from:function(t){return t&&"object"==(void 0===t?"undefined":W(t))},to:function(t,n){return new Map(k.entries(t))}}}})},7417:function(t,n,i){var r=i(375),e=i(5380),u=i(1745),s=i(9959),o=i(6064),a=i(9926),c=i(5752),h=i(8068),f=i(8160),v={tlds:a instanceof Set&&{tlds:{allow:a,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:s.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};t.exports=h.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method:function(t,n){var i=n.schema,r=n.state,e=n.prefs,u=i.$_getRule("normalize");u&&(t=t.normalize(u.args.form));var s=i.$_getRule("case");s&&(t="upper"===s.args.direction?t.toLocaleUpperCase():t.toLocaleLowerCase());var o=i.$_getRule("trim");if(o&&o.args.enabled&&(t=t.trim()),i.$_terms.replacements)for(var a=0,c=i.$_terms.replacements;a<c.length;a++){var h=c[a];t=t.replace(h.pattern,h.replacement)}var l=i.$_getRule("hex");if(l&&l.args.options.byteAligned&&t.length%2!=0&&(t="0".concat(t)),i.$_getRule("isoDate")){var d=v.isoDate(t);d&&(t=d)}if(i.__.truncate){var g=i.$_getRule("max");if(g){var m=g.args.limit;if(f.isResolvable(m)&&(m=m.resolve(t,r,e),!f.limit(m)))return{value:t,errors:i.$_createError("any.ref",m,{ref:g.args.limit,arg:"limit",reason:"must be a positive integer"},r,e)};t=t.slice(0,m)}}return{value:t}}},validate:function(t,n){var i=n.schema,r=n.error;if("string"!=typeof t)return{value:t,errors:r("string.base")};if(""===t){var e=i.$_getRule("min");return e&&0===e.args.limit?void 0:{value:t,errors:r("string.empty")}}},rules:{alphanum:{method:function(){return this.$_addRule("alphanum")},validate:function(t,n){return/^[a-zA-Z0-9]+$/.test(t)?t:n.error("string.alphanum")}},base64:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["paddingRequired","urlSafe"]),t=m({urlSafe:!1,paddingRequired:!0},t),r("boolean"==typeof t.paddingRequired,"paddingRequired must be boolean"),r("boolean"==typeof t.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:t}})},validate:function(t,n,i){var r=i.options;return v.base64Regex[r.paddingRequired][r.urlSafe].test(t)?t:n.error("string.base64")}},case:{method:function(t){return r(["lower","upper"].includes(t),"Invalid case:",t),this.$_addRule({name:"case",args:{direction:t}})},validate:function(t,n,i){var r=i.direction;return"lower"===r&&t===t.toLocaleLowerCase()||"upper"===r&&t===t.toLocaleUpperCase()?t:n.error("string.".concat(r,"case"))},convert:!0},creditCard:{method:function(){return this.$_addRule("creditCard")},validate:function(t,n){for(var i=t.length,r=0,e=1;i--;){var u=t.charAt(i)*e;r+=u-9*(u>9),e^=3}return r>0&&r%10==0?t:n.error("string.creditCard")}},dataUri:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["paddingRequired"]),t=m({paddingRequired:!0},t),r("boolean"==typeof t.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:t}})},validate:function(t,n,i){var r=i.options,e=t.match(v.dataUriRegex);return!e||e[2]&&"base64"===e[2]&&!v.base64Regex[r.paddingRequired].false.test(e[3])?n.error("string.dataUri"):t}},domain:{method:function(t){t&&f.assertOptions(t,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var n=v.addressOptions(t);return this.$_addRule({name:"domain",args:{options:t},address:n})},validate:function(t,n,i,r){var u=r.address;return e.isValid(t,u)?t:n.error("string.domain")}},email:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),r(void 0===t.multiple||"boolean"==typeof t.multiple,"multiple option must be an boolean");var n=v.addressOptions(t),i=new RegExp("\\s*[".concat(t.separator?o(t.separator):",","]\\s*"));return this.$_addRule({name:"email",args:{options:t},regex:i,address:n})},validate:function(t,n,i,r){for(var e=i.options,s=r.regex,o=r.address,a=e.multiple?t.split(s):[t],c=[],h=0;h<a.length;h++){var f=a[h];u.isValid(f,o)||c.push(f)}return c.length?n.error("string.email",{value:t,invalids:c}):t}},guid:{alias:"uuid",method:function(t){void 0===t&&(t={}),f.assertOptions(t,["version","separator"]);var n="";if(t.version){var i=[].concat(t.version);r(i.length>=1,"version must have at least 1 valid version specified");for(var e=new Set,u=0;u<i.length;++u){var s=i[u];r("string"==typeof s,"version at position "+u+" must be a string");var o=v.guidVersions[s.toLowerCase()];r(o,"version at position "+u+" must be one of "+k.keys(v.guidVersions).join(", ")),r(!e.has(o),"version at position "+u+" must not be a duplicate"),n+=o,e.add(o)}}r(v.guidSeparators.has(t.separator),'separator must be one of true, false, "-", or ":"');var a=void 0===t.separator?"[:-]?":!0===t.separator?"[:-]":!1===t.separator?"[]?":"\\".concat(t.separator),c=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}(".concat(a,")[0-9A-F]{4}\\2?[").concat(n||"0-9A-F","][0-9A-F]{3}\\2?[").concat(n?"89AB":"0-9A-F","][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$"),"i");return this.$_addRule({name:"guid",args:{options:t},regex:c})},validate:function(t,n,i,r){var e=r.regex.exec(t);return e?v.guidBrackets[e[1]]!==e[e.length-1]?n.error("string.guid"):t:n.error("string.guid")}},hex:{method:function(t){return void 0===t&&(t={}),f.assertOptions(t,["byteAligned","prefix"]),t=m({byteAligned:!1,prefix:!1},t),r("boolean"==typeof t.byteAligned,"byteAligned must be boolean"),r("boolean"==typeof t.prefix||"optional"===t.prefix,'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:t}})},validate:function(t,n,i){var r=i.options;return("optional"===r.prefix?v.hexRegex.withOptionalPrefix:!0===r.prefix?v.hexRegex.withPrefix:v.hexRegex.withoutPrefix).test(t)?r.byteAligned&&t.length%2!=0?n.error("string.hexAlign"):t:n.error("string.hex")}},hostname:{method:function(){return this.$_addRule("hostname")},validate:function(t,n){return e.isValid(t,{minDomainSegments:1})||v.ipRegex.test(t)?t:n.error("string.hostname")}},insensitive:{method:function(){return this.$_setFlag("insensitive",!0)}},ip:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["cidr","version"]);var n=s.regex(t),i=n.cidr,r=n.versions,e=n.regex,u=t.version?r:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:i,version:u}},regex:e})},validate:function(t,n,i,r){var e=i.options;return r.regex.test(t)?t:e.version?n.error("string.ipVersion",{value:t,cidr:e.cidr,version:e.version}):n.error("string.ip",{value:t,cidr:e.cidr})}},isoDate:{method:function(){return this.$_addRule("isoDate")},validate:function(t,n){var i=n.error;return v.isoDate(t)?t:i("string.isoDate")}},isoDuration:{method:function(){return this.$_addRule("isoDuration")},validate:function(t,n){return v.isoDurationRegex.test(t)?t:n.error("string.isoDuration")}},length:{method:function(t,n){return v.length(this,"length",t,"=",n)},validate:function(t,n,i,r){var e=i.limit,u=i.encoding,s=r.name,o=r.operator,a=r.args,c=!u&&t.length;return f.compare(c,e,o)?t:n.error("string."+s,{limit:a.limit,value:t,encoding:u})},args:[{name:"limit",ref:!0,assert:f.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method:function(){return this.case("lower")}},max:{method:function(t,n){return v.length(this,"max",t,"<=",n)},args:["limit","encoding"]},min:{method:function(t,n){return v.length(this,"min",t,">=",n)},args:["limit","encoding"]},normalize:{method:function(t){return void 0===t&&(t="NFC"),r(v.normalizationForms.includes(t),"normalization form must be one of "+v.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:t}})},validate:function(t,n,i){var r=n.error,e=i.form;return t===t.normalize(e)?t:r("string.normalize",{value:t,form:e})},convert:!0},pattern:{alias:"regex",method:function(t,n){void 0===n&&(n={}),r(t instanceof RegExp,"regex must be a RegExp"),r(!t.flags.includes("g")&&!t.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof n&&(n={name:n}),f.assertOptions(n,["invert","name"]);var i=["string.pattern",n.invert?".invert":"",n.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:t,options:n},errorCode:i})},validate:function(t,n,i,r){var e=i.regex,u=i.options,s=r.errorCode;return e.test(t)^u.invert?t:n.error(s,{name:u.name,regex:e,value:t})},args:["regex","options"],multi:!0},replace:{method:function(t,n){"string"==typeof t&&(t=new RegExp(o(t),"g")),r(t instanceof RegExp,"pattern must be a RegExp"),r("string"==typeof n,"replacement must be a String");var i=this.clone();return i.$_terms.replacements||(i.$_terms.replacements=[]),i.$_terms.replacements.push({pattern:t,replacement:n}),i}},token:{method:function(){return this.$_addRule("token")},validate:function(t,n){return/^\w+$/.test(t)?t:n.error("string.token")}},trim:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:t}})},validate:function(t,n,i){return i.enabled&&t!==t.trim()?n.error("string.trim"):t},convert:!0},truncate:{method:function(t){return void 0===t&&(t=!0),r("boolean"==typeof t,"enabled must be a boolean"),this.$_setFlag("truncate",t)}},uppercase:{method:function(){return this.case("upper")}},uri:{method:function(t){void 0===t&&(t={}),f.assertOptions(t,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),t.domain&&f.assertOptions(t.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);var n=c.regex(t),i=n.regex,r=n.scheme,e=t.domain?v.addressOptions(t.domain):null;return this.$_addRule({name:"uri",args:{options:t},regex:i,domain:e,scheme:r})},validate:function(t,n,i,r){var u=i.options,s=r.regex,o=r.domain,a=r.scheme;if(["http:/","https:/"].includes(t))return n.error("string.uri");var c=s.exec(t);if(!c&&n.prefs.convert&&u.encodeUri){var h=encodeURI(t);(c=s.exec(h))&&(t=h)}if(c){var f=c[1]||c[2];return!o||u.allowRelative&&!f||e.isValid(f,o)?t:n.error("string.domain",{value:f})}return u.relativeOnly?n.error("string.uriRelativeOnly"):u.scheme?n.error("string.uriCustomScheme",{scheme:a,value:t}):n.error("string.uri")}}},manifest:{build:function(t,n){if(n.replacements)for(var i=0,r=n.replacements;i<r.length;i++){var e=r[i],u=e.pattern,s=e.replacement;t=t.replace(u,s)}return t}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),v.addressOptions=function(t){if(!t)return v.tlds||t;if(r(void 0===t.minDomainSegments||Number.isSafeInteger(t.minDomainSegments)&&t.minDomainSegments>0,"minDomainSegments must be a positive integer"),r(void 0===t.maxDomainSegments||Number.isSafeInteger(t.maxDomainSegments)&&t.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),!1===t.tlds)return t;if(!0===t.tlds||void 0===t.tlds)return r(v.tlds,"Built-in TLD list disabled"),k.assign({},t,v.tlds);r("object"==W(t.tlds),"tlds must be true, false, or an object");var n=t.tlds.deny;if(n)return Array.isArray(n)&&(t=k.assign({},t,{tlds:{deny:new Set(n)}})),r(t.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),r(!t.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),v.validateTlds(t.tlds.deny,"tlds.deny"),t;var i=t.tlds.allow;return i?!0===i?(r(v.tlds,"Built-in TLD list disabled"),k.assign({},t,v.tlds)):(Array.isArray(i)&&(t=k.assign({},t,{tlds:{allow:new Set(i)}})),r(t.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),v.validateTlds(t.tlds.allow,"tlds.allow"),t):t},v.validateTlds=function(t,n){for(var i=0;i<t.length;i++){var u=t[i];r(e.isValid(u,{minDomainSegments:1,maxDomainSegments:1}),"".concat(n," must contain valid top level domain names"))}},v.isoDate=function(t){if(!f.isIsoDate(t))return null;/.*T.*[+-]\d\d$/.test(t)&&(t+="00");var n=new Date(t);return E(n.getTime())?null:n.toISOString()},v.length=function(t,n,i,e,u){return r(!u||!1,"Invalid encoding:",u),t.$_addRule({name:n,method:"length",args:{limit:i,encoding:u},operator:e})}},8826:function(t,n,i){var e=i(375),u=i(8068),s={};s.Map=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.slice=function(){return new s.Map(this)},n}(mn(Map)),t.exports=u.extend({type:"symbol",terms:{map:{init:new s.Map}},coerce:{method:function(t,n){var i=n.schema,r=n.error,e=i.$_terms.map.get(t);return e&&(t=e),i.__.only&&"symbol"!=(void 0===t?"undefined":W(t))?{value:t,errors:r("symbol.map",{map:i.$_terms.map})}:{value:t}}},validate:function(t,n){var i=n.error;if("symbol"!=(void 0===t?"undefined":W(t)))return{value:t,errors:i("symbol.base")}},rules:{map:{method:function(t){var n;t&&!t[r]&&"object"==(void 0===t?"undefined":W(t))&&(t=k.entries(t)),e(t&&t[r],"Iterable must be an iterable or object");for(var i=this.clone(),u=[],s=0;s<t.length;s++){var o=t[s];e(o&&o[r],"Entry must be an iterable");var a=nn(o,2),c=a[0],h=a[1];e("object"!=(void 0===c?"undefined":W(c))&&"function"!=typeof c&&"symbol"!=(void 0===c?"undefined":W(c)),"Key must not be of type object, function, or Symbol"),e("symbol"==(void 0===h?"undefined":W(h)),"Value must be a Symbol"),i.$_terms.map.set(c,h),u.push(h)}return(n=i).valid.apply(n,Ut(u))}}},manifest:{build:function(t,n){return n.map&&(t=t.map(n.map)),t}},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:function(t,i,r){var e=r(375),u=r(8571),s=r(738),o=r(9621),a=r(8160),c=r(6354),h=r(493),f={result:n("result")};i.entry=function(t,n,i){var r=a.defaults;i&&(e(void 0===i.warnings,"Cannot override warnings preference in synchronous validation"),e(void 0===i.artifacts,"Cannot override artifacts preference in synchronous validation"),r=a.preferences(a.defaults,i));var u=f.entry(t,n,r);e(!u.mainstay.externals.length,"Schema with external rules must use validateAsync()");var s={value:u.value};return u.error&&(s.error=u.error),u.mainstay.warnings.length&&(s.warning=c.details(u.mainstay.warnings)),u.mainstay.debug&&(s.debug=u.mainstay.debug),u.mainstay.artifacts&&(s.artifacts=u.mainstay.artifacts),s},i.entryAsync=Zt((function(t,n,i){var r,e,u,s,h,v,l,d,g;return Ht(this,(function(m){switch(m.label){case 0:if(r=a.defaults,i&&(r=a.preferences(a.defaults,i)),e=f.entry(t,n,r),u=e.mainstay,e.error)throw u.debug&&(e.error.debug=u.debug),e.error;if(!u.externals.length)return[3,5];s=function(n,e){var s,l,d,g,m,w,p,y,_,b,k,A,T,S,E,I;return Ht(this,(function(R){switch(R.label){case 0:if(s=e[n],l=s.state.path,d="link"===s.schema.type?u.links.get(s.schema):null,g=void 0,m=void 0,w=h,p=l.length?[h]:[],y=l.length?o(t,l):t,l.length){for(g=l[l.length-1],_=h,b=0,k=l.slice(0,-1);b<k.length;b++)A=k[b],_=_[A],p.unshift(_);m=p[0],w=m[g]}R.label=1;case 1:return R.trys.push([1,3,,4]),T=function(t,n){return(d||s.schema).$_createError(t,w,n,s.state,r)},[4,s.method(w,{schema:s.schema,linked:d,state:s.state,prefs:i,original:y,error:T,errorsArray:f.errorsArray,warn:function(t,n){return u.warnings.push((d||s.schema).$_createError(t,w,n,s.state,r))},message:function(t,n){return(d||s.schema).$_createError("external",w,n,s.state,r,{messages:t})}})];case 2:return void 0===(S=R.sent())||S===w?[2,"continue"]:S instanceof c.Report?(u.tracer.log(s.schema,s.state,"rule","external","error"),v.push(S),r.abortEarly?[2,"break"]:[2,"continue"]):Array.isArray(S)&&S[a.symbols.errors]?(u.tracer.log(s.schema,s.state,"rule","external","error"),(E=v).push.apply(E,Ut(S)),r.abortEarly?[2,"break"]:[2,"continue"]):(m?(u.tracer.value(s.state,"rule",w,S,"external"),m[g]=S):(u.tracer.value(s.state,"rule",h,S,"external"),h=S),[3,4]);case 3:throw I=R.sent(),r.errors.label&&(I.message+=" (".concat(s.label,")")),I;case 4:return[2]}}))},h=e.value,v=[],l=0,d=u.externals,m.label=1;case 1:return l<d.length?[5,zt(s(l,d))]:[3,4];case 2:if("break"===m.sent())return[3,4];m.label=3;case 3:return l++,[3,1];case 4:if(e.value=h,v.length)throw e.error=c.process(v,t,r),u.debug&&(e.error.debug=u.debug),e.error;m.label=5;case 5:return r.warnings||r.debug||r.artifacts?(g={value:e.value},[2,(u.warnings.length&&(g.warning=c.details(u.warnings)),u.debug&&(g.debug=u.debug),u.artifacts&&(g.artifacts=u.artifacts),g)]):[2,e.value]}}))})),f.Mainstay=function(){function t(t,n,i){this.externals=[],this.warnings=[],this.tracer=t,this.debug=n,this.links=i,this.shadow=null,this.artifacts=null,this.fv=[]}var n=t.prototype;return n.snapshot=function(){this.fv.push({externals:this.externals.slice(),warnings:this.warnings.slice()})},n.restore=function(){var t=this.fv.pop();this.externals=t.externals,this.warnings=t.warnings},n.commit=function(){this.fv.pop()},t}(),f.entry=function(t,n,r){var e=f.tracer(n,r),u=e.tracer,s=e.cleanup,o=r.debug?[]:null,a=n.a_.U_?new Map:null,v=new f.Mainstay(u,o,a),l=n.a_.U_?[{schema:n}]:null,d=new h([],[],{mainstay:v,schemas:l}),g=i.validate(t,n,d,r);s&&n.$_root.untrace();var m=c.process(g.errors,t,r);return{value:g.value,error:m,mainstay:v}},f.tracer=function(t,n){return t.$_root.S_?{tracer:t.$_root.S_._v(t)}:n.debug?(e(t.$_root.trace,"Debug mode not supported"),{tracer:t.$_root.trace()._v(t),cleanup:!0}):{tracer:f.ignore}},i.validate=function(t,n,i,r,e){if(void 0===e&&(e={}),n.$_terms.whens&&(n=n.I_(t,i,r).schema),n.u_&&(r=f.prefs(n,r)),n.l_&&r.cache){var u=n.l_.get(t);if(i.mainstay.tracer.debug(i,"validate","cached",!!u),u)return u}var s=function(e,u,s){return n.$_createError(e,t,u,s||i,r)},o={original:t,prefs:r,schema:n,state:i,error:s,errorsArray:f.errorsArray,warn:function(t,n,r){return i.mainstay.warnings.push(s(t,n,r))},message:function(e,u){return n.$_createError("custom",t,u,i,r,{messages:e})}};i.mainstay.tracer.entry(n,i);var c=n.w_;if(c.prepare&&void 0!==t&&r.convert){var h=c.prepare(t,o);if(h){if(i.mainstay.tracer.value(i,"prepare",t,h.value),h.errors)return f.finalize(h.value,[].concat(h.errors),o);t=h.value}}if(c.coerce&&void 0!==t&&r.convert&&(!c.coerce.from||c.coerce.from.includes(void 0===t?"undefined":W(t)))){var v=c.coerce.method(t,o);if(v){if(i.mainstay.tracer.value(i,"coerced",t,v.value),v.errors)return f.finalize(v.value,[].concat(v.errors),o);t=v.value}}var l=n.__.empty;l&&l.$_match(f.trim(t,n),i.nest(l),a.defaults)&&(i.mainstay.tracer.value(i,"empty",t,void 0),t=void 0);var d=e.presence||n.__.presence||(n.__.j_?null:r.presence);if(void 0===t){if("forbidden"===d)return f.finalize(t,null,o);if("required"===d)return f.finalize(t,[n.$_createError("any.required",t,null,i,r)],o);if("optional"===d){if(n.__.default!==a.symbols.deepDefault)return f.finalize(t,null,o);i.mainstay.tracer.value(i,"default",t,{}),t={}}}else if("forbidden"===d)return f.finalize(t,[n.$_createError("any.unknown",t,null,i,r)],o);var g=[];if(n.d_){var m=n.d_.get(t,i,r,n.__.insensitive);if(m)return r.convert&&(i.mainstay.tracer.value(i,"valids",t,m.value),t=m.value),i.mainstay.tracer.filter(n,i,"valid",m),f.finalize(t,null,o);if(n.__.only){var w=n.$_createError("any.only",t,{valids:n.d_.values({display:!0})},i,r);if(r.abortEarly)return f.finalize(t,[w],o);g.push(w)}}if(n.f_){var p=n.f_.get(t,i,r,n.__.insensitive);if(p){i.mainstay.tracer.filter(n,i,"invalid",p);var y=n.$_createError("any.invalid",t,{invalids:n.f_.values({display:!0})},i,r);if(r.abortEarly)return f.finalize(t,[y],o);g.push(y)}}if(c.validate){var _=c.validate(t,o);if(_&&(i.mainstay.tracer.value(i,"base",t,_.value),t=_.value,_.errors)){var b;if(!Array.isArray(_.errors))return g.push(_.errors),f.finalize(t,g,o);if(_.errors.length)return(b=g).push.apply(b,Ut(_.errors)),f.finalize(t,g,o)}}return n.v_.length?f.rules(t,g,o):f.finalize(t,g,o)},f.rules=function(t,n,i){for(var r=i.schema,e=i.state,u=i.prefs,s=0,o=r.v_;s<o.length;s++){var c=o[s],h=r.w_.rules[c.method];if(h.convert&&u.convert)e.mainstay.tracer.log(r,e,"rule",c.name,"full");else{var v=void 0,l=c.args;if(c.Ud.length){l=k.assign({},l);for(var d=0,g=c.Ud;d<g.length;d++){var m=g[d],w=h.argsByName.get(m),p=l[m].resolve(t,e,u),y=w.normalize?w.normalize(p):p,_=a.validateArg(y,null,w);if(_){v=r.$_createError("any.ref",p,{arg:m,ref:l[m],reason:_},e,u);break}l[m]=y}}v=v||h.validate(t,i,l,c);var b=f.rule(v,c);if(b.errors){var A;if(e.mainstay.tracer.log(r,e,"rule",c.name,"error"),c.warn){var T;(T=e.mainstay.warnings).push.apply(T,Ut(b.errors));continue}if(u.abortEarly)return f.finalize(t,b.errors,i);(A=n).push.apply(A,Ut(b.errors))}else e.mainstay.tracer.log(r,e,"rule",c.name,"pass"),e.mainstay.tracer.value(e,"rule",t,b.value,c.name),t=b.value}}return f.finalize(t,n,i)},f.rule=function(t,n){return t instanceof c.Report?(f.error(t,n),{errors:[t],value:null}):Array.isArray(t)&&t[a.symbols.errors]?(t.forEach((function(t){return f.error(t,n)})),{errors:t,value:null}):{errors:null,value:t}},f.error=function(t,n){return n.message&&t.L_(n.message),t},f.finalize=function(t,n,i){n=n||[];var r=i.schema,u=i.state,s=i.prefs;if(n.length){var o=f.default("failover",void 0,n,i);void 0!==o&&(u.mainstay.tracer.value(u,"failover",t,o),t=o,n=[])}if(n.length&&r.__.error)if("function"==typeof r.__.error){n=r.__.error(n),Array.isArray(n)||(n=[n]);for(var a=0;a<n.length;a++){var h=n[a];e(h instanceof y||h instanceof c.Report,"error() must return an Error object")}}else n=[r.__.error];if(void 0===t){var v=f.default("default",t,n,i);u.mainstay.tracer.value(u,"default",t,v),t=v}if(r.__.cast&&void 0!==t){var l=r.w_.cast[r.__.cast];if(l.from(t)){var d=l.to(t,i);u.mainstay.tracer.value(u,"cast",t,d,r.__.cast),t=d}}if(r.$_terms.externals&&s.externals&&!1!==s.E_)for(var g=0,m=r.$_terms.externals;g<m.length;g++){var w=m[g].method;u.mainstay.externals.push({method:w,schema:r,state:u,label:c.label(r.__,u,s)})}var p={value:t,errors:n.length?n:null};return r.__.result&&(p.value="strip"===r.__.result?void 0:i.original,u.mainstay.tracer.value(u,r.__.result,t,p.value),u.shadow(t,r.__.result)),r.l_&&!1!==s.cache&&!r.c_.length&&r.l_.set(i.original,p),void 0===t||p.errors||void 0===r.__.artifact||(u.mainstay.artifacts=u.mainstay.artifacts||new Map,u.mainstay.artifacts.has(r.__.artifact)||u.mainstay.artifacts.set(r.__.artifact,[]),u.mainstay.artifacts.get(r.__.artifact).push(u.path)),p},f.prefs=function(t,n){var i=n===a.defaults;return i&&t.u_[a.symbols.prefs]?t.u_[a.symbols.prefs]:(n=a.preferences(n,t.u_),i&&(t.u_[a.symbols.prefs]=n),n)},f.default=function(t,n,i,r){var e=r.schema,s=r.state,o=r.prefs,c=e.__[t];if(o.noDefaults||void 0===c)return n;if(s.mainstay.tracer.log(e,s,"rule",t,"full"),!c)return c;if("function"==typeof c){var h=c.length?[u(s.ancestors[0]),r]:[];try{return c.apply(void 0,Ut(h))}catch(n){return void i.push(e.$_createError("any.".concat(t),null,{error:n},s,o))}}return"object"!=(void 0===c?"undefined":W(c))?c:c[a.symbols.literal]?c.literal:a.isResolvable(c)?c.resolve(n,s,o):u(c)},f.trim=function(t,n){if("string"!=typeof t)return t;var i=n.$_getRule("trim");return i&&i.args.enabled?t.trim():t},f.ignore={active:!1,debug:s,entry:s,filter:s,log:s,resolve:s,value:s},f.errorsArray=function(){var t=[];return t[a.symbols.errors]=!0,t}},2036:function(t,n,i){var r=i(375),e=i(9474),u=i(8160),s={};t.exports=s.Values=function(){function t(t,n){this.g_=new Set(t),this.c_=new Set(n),this.vv=s.lowercases(t),this.mv=!1}var n=t.prototype;return n.add=function(t,n){u.isResolvable(t)?this.c_.has(t)||(this.c_.add(t),n&&n.register(t)):this.has(t,null,null,!1)||(this.g_.add(t),"string"==typeof t&&this.vv.set(t.toLowerCase(),t))},n.remove=function(t){u.isResolvable(t)?this.c_.delete(t):(this.g_.delete(t),"string"==typeof t&&this.vv.delete(t.toLowerCase()))},n.has=function(t,n,i,r){return!!this.get(t,n,i,r)},n.get=function(t,n,i,r){if(!this.length)return!1;if(this.g_.has(t))return{value:t};if("string"==typeof t&&t&&r){var u=this.vv.get(t.toLowerCase());if(u)return{value:u}}if(!this.c_.size&&"object"!=(void 0===t?"undefined":W(t)))return!1;if("object"==(void 0===t?"undefined":W(t)))for(var s=0,o=this.g_;s<o.length;s++){var a=o[s];if(e(a,t))return{value:a}}if(n)for(var c=0,h=this.c_;c<h.length;c++){var f=h[c],v=f.resolve(t,n,i,null,{in:!0});if(void 0!==v)for(var l=f.in&&"object"==(void 0===v?"undefined":W(v))?Array.isArray(v)?v:k.keys(v):[v],d=0;d<l.length;d++){var g=l[d];if((void 0===g?"undefined":W(g))==(void 0===t?"undefined":W(t)))if(r&&t&&"string"==typeof t){if(g.toLowerCase()===t.toLowerCase())return{value:g,ref:f}}else if(e(g,t))return{value:g,ref:f}}}return!1},n.override=function(){this.mv=!0},n.values=function(t){if(t&&t.display){for(var n=[],i=0,r=Ut(this.g_).concat(Ut(this.c_));i<r.length;i++){var e=r[i];void 0!==e&&n.push(e)}return n}return Array.from(Ut(this.g_).concat(Ut(this.c_)))},n.clone=function(){var t=new s.Values(this.g_,this.c_);return t.mv=this.mv,t},n.concat=function(t){r(!t.mv,"Cannot concat override set of values");var n=new s.Values(Ut(this.g_).concat(Ut(t.g_)),Ut(this.c_).concat(Ut(t.c_)));return n.mv=this.mv,n},n.describe=function(){var t=[];this.mv&&t.push({override:!0});for(var n=0,i=this.g_.values();n<i.length;n++){var r=i[n];t.push(r&&"object"==(void 0===r?"undefined":W(r))?{value:r}:r)}for(var e=0,u=this.c_.values();e<u.length;e++){var s=u[e];t.push(s.describe())}return t},t.merge=function(t,n,i){if(t=t||new s.Values,n){if(n.mv)return n.clone();for(var r=0,e=Ut(n.g_).concat(Ut(n.c_));r<e.length;r++){var u=e[r];t.add(u)}}if(i)for(var o=0,a=Ut(i.g_).concat(Ut(i.c_));o<a.length;o++){var c=a[o];t.remove(c)}return t.length?t:null},xt(t,[{key:"length",get:function(){return this.g_.size+this.c_.size}}]),t}(),s.Values.prototype[u.symbols.values]=!0,s.Values.prototype.slice=s.Values.prototype.clone,s.lowercases=function(t){var n=new Map;if(t)for(var i=0;i<t.length;i++){var r=t[i];"string"==typeof r&&n.set(r.toLowerCase(),r)}return n}},978:function(t,n,i){var r=i(375),e=i(8571),u=i(1687),s=i(9621),o={};t.exports=function(t,n,i){if(void 0===i&&(i={}),r(t&&"object"==(void 0===t?"undefined":W(t)),"Invalid defaults value: must be an object"),r(!n||!0===n||"object"==(void 0===n?"undefined":W(n)),"Invalid source value: must be true, falsy or an object"),r("object"==(void 0===i?"undefined":W(i)),"Invalid options: must be an object"),!n)return null;if(i.shallow)return o.applyToDefaultsWithShallow(t,n,i);var s=e(t);if(!0===n)return s;var a=void 0!==i.nullOverride&&i.nullOverride;return u(s,n,{nullOverride:a,mergeArrays:!1})},o.applyToDefaultsWithShallow=function(t,n,i){var a=i.shallow;r(Array.isArray(a),"Invalid keys");for(var c=new Map,h=!0===n?null:new Set,f=0;f<a.length;f++){var v=a[f];v=Array.isArray(v)?v:v.split(".");var l=s(t,v);l&&"object"==(void 0===l?"undefined":W(l))?c.set(l,h&&s(n,v)||l):h&&h.add(v)}var d=e(t,{},c);if(!h)return d;for(var g=0;g<h.length;g++){var m=h[g];o.reachCopy(d,n,m)}var w=void 0!==i.nullOverride&&i.nullOverride;return u(d,n,{nullOverride:w,mergeArrays:!1})},o.reachCopy=function(t,n,i){for(var r=0;r<i.length;r++){var e=i[r];if(!(e in n))return;var u=n[e];if("object"!=(void 0===u?"undefined":W(u))||null===u)return;n=u}for(var s=n,o=t,a=0;a<i.length-1;++a){var c=i[a];"object"!=W(o[c])&&(o[c]={}),o=o[c]}o[i[i.length-1]]=s}},375:function(t,n,i){var r=i(7916);t.exports=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];if(!t)throw 1===i.length&&i[0]instanceof y?i[0]:new r(i)}},8571:function(t,n,i){var r=i(9621),e=i(4277),u=i(7043),s={needsProtoHack:new Set([e.set,e.map,e.weakSet,e.weakMap])};t.exports=s.clone=function(t,n,i){if(void 0===n&&(n={}),void 0===i&&(i=null),"object"!=(void 0===t?"undefined":W(t))||null===t)return t;var r=s.clone,o=i;if(n.shallow){if(!0!==n.shallow)return s.cloneWithShallow(t,n);r=function(t){return t}}else if(o){var a=o.get(t);if(a)return a}else o=new Map;var c=e.getInternalProto(t);if(c===e.buffer)return!1;if(c===e.date)return new Date(t.getTime());if(c===e.regex)return new RegExp(t);var h=s.base(t,c,n);if(h===t)return t;if(o&&o.set(t,h),c===e.set)for(var f=0;f<t.length;f++){var v=t[f];h.add(r(v,n,o))}else if(c===e.map)for(var l=0;l<t.length;l++){var d=nn(t[l],2),g=d[0],m=d[1];h.set(g,r(m,n,o))}for(var w=u.keys(t,n),p=0;p<w.length;p++){var y=w[p];if("__proto__"!==y)if(c!==e.array||"length"!==y){var _=k.getOwnPropertyDescriptor(t,y);_?_.get||_.set?k.defineProperty(h,y,_):_.enumerable?h[y]=r(t[y],n,o):k.defineProperty(h,y,{enumerable:!1,writable:!0,configurable:!0,value:r(t[y],n,o)}):k.defineProperty(h,y,{enumerable:!0,writable:!0,configurable:!0,value:r(t[y],n,o)})}else h.length=t.length}return h},s.cloneWithShallow=function(t,n){var i=n.shallow;(n=k.assign({},n)).shallow=!1;for(var e=new Map,u=0;u<i.length;u++){var o=i[u],a=r(t,o);"object"!=(void 0===a?"undefined":W(a))&&"function"!=typeof a||e.set(a,a)}return s.clone(t,n,e)},s.base=function(t,n,i){if(!1===i.prototype)return s.needsProtoHack.has(n)?new n.constructor:n===e.array?[]:{};var r=k.getPrototypeOf(t);if(r&&r.isImmutable)return t;if(n===e.array){var u=[];return r!==n&&k.setPrototypeOf(u,r),u}if(s.needsProtoHack.has(n)){var o=new r.constructor;return r!==n&&k.setPrototypeOf(o,r),o}return k.create(r)}},9474:function(t,n,i){var r=i(4277),e={mismatched:null};t.exports=function(t,n,i){return i=k.assign({prototype:!0},i),!!e.isDeepEqual(t,n,i,[])},e.isDeepEqual=function(t,n,i,u){if(t===n)return 0!==t||1/t==1/n;var s=void 0===t?"undefined":W(t);if(s!==(void 0===n?"undefined":W(n))||null===t||null===n)return!1;if("function"===s){if(!i.deepFunction||t.toString()!==n.toString())return!1}else if("object"!==s)return t!=t&&n!=n;var o=e.getSharedType(t,n,!!i.prototype);switch(o){case r.buffer:return!1;case r.promise:return t===n;case r.regex:return t.toString()===n.toString();case e.mismatched:return!1}for(var a=u.length-1;a>=0;--a)if(u[a].isSame(t,n))return!0;u.push(new e.SeenEntry(t,n));try{return!!e.isDeepEqualObj(o,t,n,i,u)}finally{u.pop()}},e.getSharedType=function(t,n,i){if(i)return k.getPrototypeOf(t)!==k.getPrototypeOf(n)?e.mismatched:r.getInternalProto(t);var u=r.getInternalProto(t);return u!==r.getInternalProto(n)?e.mismatched:u},e.valueOf=function(t){var n=t.valueOf;if(void 0===n)return t;try{return n.call(t)}catch(t){return t}},e.hasOwnEnumerableProperty=function(t,n){return k.prototype.propertyIsEnumerable.call(t,n)},e.isSetSimpleEqual=function(t,n){for(var i=0,r=Set.prototype.values.call(t);i<r.length;i++){var e=r[i];if(!Set.prototype.has.call(n,e))return!1}return!0},e.isDeepEqualObj=function(t,n,i,u,s){var o=e.isDeepEqual,a=e.valueOf,c=e.hasOwnEnumerableProperty,h=k.keys,f=k.getOwnPropertySymbols;if(t===r.array){if(!u.part){if(n.length!==i.length)return!1;for(var v=0;v<n.length;++v)if(!o(n[v],i[v],u,s))return!1;return!0}for(var l=0;l<n.length;l++)for(var d=n[l],g=0;g<i.length;g++)if(o(d,i[g],u,s))return!0}else if(t===r.set){if(n.size!==i.size)return!1;if(!e.isSetSimpleEqual(n,i))for(var m=new Set(Set.prototype.values.call(i)),w=0,p=Set.prototype.values.call(n);w<p.length;w++){var y=p[w];if(!m.delete(y)){for(var _=!1,b=0;b<m.length;b++){var A=m[b];if(o(y,A,u,s)){m.delete(A),_=!0;break}}if(!_)return!1}}}else if(t===r.map){if(n.size!==i.size)return!1;for(var T=0,S=Map.prototype.entries.call(n);T<S.length;T++){var E=nn(S[T],2),I=E[0],R=E[1];if(void 0===R&&!Map.prototype.has.call(i,I)||!o(R,Map.prototype.get.call(i,I),u,s))return!1}}else if(t===r.error&&(n.name!==i.name||n.message!==i.message))return!1;var C=a(n),N=a(i);if((n!==C||i!==N)&&!o(C,N,u,s))return!1;var x=h(n);if(!u.part&&x.length!==h(i).length&&!u.skip)return!1;for(var D=0,P=0;P<x.length;P++){var M=x[P];if(u.skip&&u.skip.includes(M))void 0===i[M]&&++D;else if(!c(i,M)||!o(n[M],i[M],u,s))return!1}if(!u.part&&x.length-D!==h(i).length)return!1;if(!1!==u.symbols){for(var B=f(n),O=new Set(f(i)),L=0;L<B.length;L++){var F=B[L];if(!u.skip||!u.skip.includes(F))if(c(n,F)){if(!c(i,F)||!o(n[F],i[F],u,s))return!1}else if(c(i,F))return!1;O.delete(F)}for(var V=0;V<O.length;V++)if(c(i,O[V]))return!1}return!0},e.SeenEntry=function(){function t(t,n){this.obj=t,this.ref=n}return t.prototype.isSame=function(t,n){return this.obj===t&&this.ref===n},t}()},7916:function(t,n,i){var r=i(8761);t.exports=function(t){function i(i){var e;return e=t.call(this,i.filter((function(t){return""!==t})).map((function(t){return"string"==typeof t?t:t instanceof y?t.message:r(t)})).join(" ")||"Unknown error")||this,"function"==typeof y.captureStackTrace&&y.captureStackTrace(e,n.assert),e}return Rt(i,t),i}(mn(y))},5277:function(t){var n={};t.exports=function(t){if(!t)return"";for(var i="",r=0;r<t.length;++r){var e=t.charCodeAt(r);n.isSafe(e)?i+=t[r]:i+=n.escapeHtmlChar(e)}return i},n.escapeHtmlChar=function(t){return n.namedHtml.get(t)||(t>=256?"&#"+t+";":"&#x".concat(t.toString(16).padStart(2,"0"),";"))},n.isSafe=function(t){return n.safeCharCodes.has(t)},n.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),n.safeCharCodes=function(){for(var t=new Set,n=32;n<123;++n)(n>=97||n>=65&&n<=90||n>=48&&n<=57||32===n||46===n||44===n||45===n||58===n||95===n)&&t.add(n);return t}()},6064:function(t){t.exports=function(t){return t.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:function(t){t.exports=function(){}},1687:function(t,n,i){var r=i(375),e=i(8571),u=i(7043),s={};t.exports=s.merge=function(t,n,i){if(r(t&&"object"==(void 0===t?"undefined":W(t)),"Invalid target value: must be an object"),r(null==n||"object"==(void 0===n?"undefined":W(n)),"Invalid source value: must be null, undefined, or an object"),!n)return t;if(i=k.assign({nullOverride:!0,mergeArrays:!0},i),Array.isArray(n)){r(Array.isArray(t),"Cannot merge array onto an object"),i.mergeArrays||(t.length=0);for(var o=0;o<n.length;++o)t.push(e(n[o],{symbols:i.symbols}));return t}for(var a=u.keys(n,i),c=0;c<a.length;++c){var h=a[c];if("__proto__"!==h&&k.prototype.propertyIsEnumerable.call(n,h)){var f=n[h];if(f&&"object"==(void 0===f?"undefined":W(f))){if(t[h]===f)continue;!t[h]||"object"!=W(t[h])||Array.isArray(t[h])!==Array.isArray(f)||f instanceof Date||f instanceof RegExp?t[h]=e(f,{symbols:i.symbols}):s.merge(t[h],f,i)}else(null!=f||i.nullOverride)&&(t[h]=f)}}return t}},9621:function(t,n,i){var r=i(375),e={};t.exports=function(t,n,i){if(!1===n||null==n)return t;"string"==typeof(i=i||{})&&(i={separator:i});var u=Array.isArray(n);r(!u||!i.separator,"Separator option is not valid for array-based chain");for(var s=u?n:n.split(i.separator||"."),o=t,a=0;a<s.length;++a){var c=s[a],h=i.iterables&&e.iterables(o);if(Array.isArray(o)||"set"===h){var f=Number(c);Number.isInteger(f)&&(c=f<0?o.length+f:f)}if(!o||"function"==typeof o&&!1===i.functions||!h&&void 0===o[c]){r(!i.strict||a+1===s.length,"Missing segment",c,"in reach path ",n),r("object"==(void 0===o?"undefined":W(o))||!0===i.functions||"function"!=typeof o,"Invalid segment",c,"in reach path ",n),o=i.default;break}o=h?"set"===h?Ut(o)[c]:o.get(c):o[c]}return o},e.iterables=function(t){return t instanceof Set?"set":t instanceof Map?"map":void 0}},8761:function(t){t.exports=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];try{var r;return(r=JSON).stringify.apply(r,Ut(n))}catch(t){return"[Cannot display object: "+t.message+"]"}}},4277:function(t,n){var i={};n=t.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:y.prototype,generic:k.prototype,map:Map.prototype,promise:ut.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},i.typeMap=new Map([["[object Error]",n.error],["[object Map]",n.map],["[object Promise]",n.promise],["[object Set]",n.set],["[object WeakMap]",n.weakMap],["[object WeakSet]",n.weakSet]]),n.getInternalProto=function(t){if(Array.isArray(t))return n.array;if(t instanceof Date)return n.date;if(t instanceof RegExp)return n.regex;if(t instanceof y)return n.error;var r=k.prototype.toString.call(t);return i.typeMap.get(r)||n.generic}},7043:function(t,n){n.keys=function(t,n){return void 0===n&&(n={}),!1!==n.symbols?Reflect.ownKeys(t):k.getOwnPropertyNames(t)}},3652:function(t,n,i){var r=i(375),e={};n.Sorter=function(){function t(){this.Zu=[],this.nodes=[]}var n=t.prototype;return n.add=function(t,n){var i=[].concat((n=n||{}).before||[]),e=[].concat(n.after||[]),u=n.group||"?",s=n.sort||0;r(!i.includes(u),"Item cannot come before itself: ".concat(u)),r(!i.includes("?"),"Item cannot come before unassociated items"),r(!e.includes(u),"Item cannot come after itself: ".concat(u)),r(!e.includes("?"),"Item cannot come after unassociated items"),Array.isArray(t)||(t=[t]);for(var o=0;o<t.length;o++){var a=t[o],c={seq:this.Zu.length,sort:s,before:i,after:e,group:u,node:a};this.Zu.push(c)}if(!n.manual){var h=this.pv();r(h,"item","?"!==u?"added into group ".concat(u):"","created a dependencies error")}return this.nodes},n.merge=function(t){Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var i=t[n];if(i)for(var u=0,s=i.Zu;u<s.length;u++){var o=s[u];this.Zu.push(k.assign({},o))}}this.Zu.sort(e.mergeSort);for(var a=0;a<this.Zu.length;++a)this.Zu[a].seq=a;var c=this.pv();return r(c,"merge created a dependencies error"),this.nodes},n.sort=function(){var t=this.pv();return r(t,"sort created a dependencies error"),this.nodes},n.pv=function(){for(var t,n={},i=k.create(null),r=k.create(null),e=0,u=this.Zu;e<u.length;e++){var s=u[e],o=s.seq,a=s.group;r[a]=r[a]||[],r[a].push(o),n[o]=s.before;for(var c=0,h=s.after;c<h.length;c++){var f=h[c];i[f]=i[f]||[],i[f].push(o)}}for(var v in n){var l=[];for(var d in n[v]){var g,m=n[v][d];r[m]=r[m]||[],(g=l).push.apply(g,Ut(r[m]))}n[v]=l}for(var w in i)if(r[w])for(var p=0,y=r[w];p<y.length;p++)(t=n[y[p]]).push.apply(t,Ut(i[w]));var _={};for(var b in n)for(var A=n[b],T=0;T<A.length;T++){var S=A[T];_[S]=_[S]||[],_[S].push(b)}for(var E={},I=[],R=0;R<this.Zu.length;++R){var C=R;if(_[R]){C=null;for(var N=0;N<this.Zu.length;++N)if(!0!==E[N]){_[N]||(_[N]=[]);for(var x=_[N].length,D=0,P=0;P<x;++P)E[_[N][P]]&&++D;if(D===x){C=N;break}}}null!==C&&(E[C]=!0,I.push(C))}if(I.length!==this.Zu.length)return!1;for(var M={},B=0,O=this.Zu;B<O.length;B++){var L=O[B];M[L.seq]=L}this.Zu=[],this.nodes=[];for(var F=0;F<I.length;F++){var V=M[I[F]];this.nodes.push(V.node),this.Zu.push(V)}return!0},t}(),e.mergeSort=function(t,n){return t.sort===n.sort?0:t.sort<n.sort?-1:1}},5380:function(t,n,i){var r=i(443),e=i(2178),u={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:r.URL||URL};n.analyze=function(t,n){if(void 0===n&&(n={}),!t)return e.code("DOMAIN_NON_EMPTY_STRING");if("string"!=typeof t)throw new y("Invalid input: domain must be a string");if(t.length>256)return e.code("DOMAIN_TOO_LONG");if(u.nonAsciiRx.test(t)){if(!1===n.allowUnicode)return e.code("DOMAIN_INVALID_UNICODE_CHARS");t=t.normalize("NFC")}if(u.domainControlRx.test(t))return e.code("DOMAIN_INVALID_CHARS");t=u.punycode(t),n.allowFullyQualified&&"."===t[t.length-1]&&(t=t.slice(0,-1));var i=n.minDomainSegments||u.minDomainSegments,r=t.split(".");if(r.length<i)return e.code("DOMAIN_SEGMENTS_COUNT");if(n.maxDomainSegments&&r.length>n.maxDomainSegments)return e.code("DOMAIN_SEGMENTS_COUNT_MAX");var s=n.tlds;if(s){var o=r[r.length-1].toLowerCase();if(s.deny&&s.deny.has(o)||s.allow&&!s.allow.has(o))return e.code("DOMAIN_FORBIDDEN_TLDS")}for(var a=0;a<r.length;++a){var c=r[a];if(!c.length)return e.code("DOMAIN_EMPTY_SEGMENT");if(c.length>63)return e.code("DOMAIN_LONG_SEGMENT");if(a<r.length-1){if(!u.domainSegmentRx.test(c))return e.code("DOMAIN_INVALID_CHARS")}else if(!u.tldSegmentRx.test(c))return e.code("DOMAIN_INVALID_TLDS_CHARS")}return null},n.isValid=function(t,i){return!n.analyze(t,i)},u.punycode=function(t){t.includes("%")&&(t=t.replace(/%/g,"%25"));try{return new u.URL("http://".concat(t)).host}catch(n){return t}}},1745:function(t,n,i){var r=i(9848),e=i(5380),u=i(2178),s={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(r.TextEncoder||TextEncoder)};n.analyze=function(t,n){return s.email(t,n)},n.isValid=function(t,n){return!s.email(t,n)},s.email=function(t,n){if(void 0===n&&(n={}),"string"!=typeof t)throw new y("Invalid input: email must be a string");if(!t)return u.code("EMPTY_STRING");var i=!s.nonAsciiRx.test(t);if(!i){if(!1===n.allowUnicode)return u.code("FORBIDDEN_UNICODE");t=t.normalize("NFC")}var r=t.split("@");if(2!==r.length)return r.length>2?u.code("MULTIPLE_AT_CHAR"):u.code("MISSING_AT_CHAR");var o=nn(r,2),a=o[0],c=o[1];if(!a)return u.code("EMPTY_LOCAL");if(!n.ignoreLength){if(t.length>254)return u.code("ADDRESS_TOO_LONG");if(s.encoder.encode(a).length>64)return u.code("LOCAL_TOO_LONG")}return s.local(a,i)||e.analyze(c,n)},s.local=function(t,n){for(var i=t.split("."),r=0;r<i.length;r++){var e=i[r];if(!e.length)return u.code("EMPTY_LOCAL_SEGMENT");if(n){if(!s.atextRx.test(e))return u.code("INVALID_LOCAL_CHARS")}else for(var o=0;o<e.length;o++){var a=e[o];if(!s.atextRx.test(a)){var c=s.binary(a);if(!s.atomRx.test(c))return u.code("INVALID_LOCAL_CHARS")}}}},s.binary=function(t){return Array.from(s.encoder.encode(t)).map((function(t){return String.fromCharCode(t)})).join("")},s.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,s.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:function(t,n){n.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},n.code=function(t){return{code:t,error:n.codes[t]}}},9959:function(t,n,i){var r=i(375),e=i(5752);n.regex=function(t){void 0===t&&(t={}),r(void 0===t.cidr||"string"==typeof t.cidr,"options.cidr must be a string");var n=t.cidr?t.cidr.toLowerCase():"optional";r(["required","optional","forbidden"].includes(n),"options.cidr must be one of required, optional, forbidden"),r(void 0===t.version||"string"==typeof t.version||Array.isArray(t.version),"options.version must be a string or an array of string");var i=t.version||["ipv4","ipv6","ipvfuture"];Array.isArray(i)||(i=[i]),r(i.length>=1,"options.version must have at least 1 version specified");for(var u=0;u<i.length;++u)r("string"==typeof i[u],"options.version must only contain strings"),i[u]=i[u].toLowerCase(),r(["ipv4","ipv6","ipvfuture"].includes(i[u]),"options.version contains unknown version "+i[u]+" - must be one of ipv4, ipv6, ipvfuture");i=Array.from(new Set(i));var s="(?:".concat(i.map((function(t){if("forbidden"===n)return e.ip[t];var i="\\/".concat("ipv4"===t?e.ip.v4Cidr:e.ip.v6Cidr);return"required"===n?"".concat(e.ip[t]).concat(i):"".concat(e.ip[t],"(?:").concat(i,")?")})).join("|"),")"),o=new RegExp("^".concat(s,"$"));return{cidr:n,versions:i,regex:o,raw:s}}},5752:function(t,n,i){var r=i(375),e=i(6064),u={generate:function(){var t={},n="\\dA-Fa-f",i="["+n+"]",r="\\w-\\.~",e="!\\$&'\\(\\)\\*\\+,;=",u="%"+n,s=r+u+e+":@",o="["+s+"]",a="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";t.ipv4address="(?:"+a+"\\.){3}"+a;var c=i+"{1,4}",h="(?:"+c+":"+c+"|"+t.ipv4address+")",f="(?:"+c+":){6}"+h,v="::(?:"+c+":){5}"+h,l="(?:"+c+")?::(?:"+c+":){4}"+h,d="(?:(?:"+c+":){0,1}"+c+")?::(?:"+c+":){3}"+h,g="(?:(?:"+c+":){0,2}"+c+")?::(?:"+c+":){2}"+h,m="(?:(?:"+c+":){0,3}"+c+")?::"+c+":"+h,w="(?:(?:"+c+":){0,4}"+c+")?::"+h,p="(?:(?:"+c+":){0,5}"+c+")?::"+c,y="(?:(?:"+c+":){0,6}"+c+")?::";t.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",t.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",t.ipv6address="(?:"+f+"|"+v+"|"+l+"|"+d+"|"+g+"|"+m+"|"+w+"|"+p+"|"+y+")",t.ipvFuture="v"+i+"+\\.["+r+e+":]+",t.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",t.schemeRegex=new RegExp(t.scheme);var _="["+r+u+e+":]*",b="["+r+u+e+"]{1,255}",k="(?:\\[(?:"+t.ipv6address+"|"+t.ipvFuture+")\\]|"+t.ipv4address+"|"+b+")",A="(?:"+_+"@)?"+k+"(?::\\d*)?",T="(?:"+_+"@)?("+k+")(?::\\d*)?",S=o+"*",E=o+"+",I="(?:\\/"+S+")*",R="\\/(?:"+E+I+")?",C=E+I,N="["+r+u+e+"@]+"+I,x="(?:\\/\\/\\/"+S+I+")";return t.hierPart="(?:(?:\\/\\/"+A+I+")|"+R+"|"+C+"|"+x+")",t.hierPartCapture="(?:(?:\\/\\/"+T+I+")|"+R+"|"+C+")",t.relativeRef="(?:(?:\\/\\/"+A+I+")|"+R+"|"+N+"|)",t.relativeRefCapture="(?:(?:\\/\\/"+T+I+")|"+R+"|"+N+"|)",t.query="["+s+"\\/\\?]*(?=#|$)",t.queryWithSquareBrackets="["+s+"\\[\\]\\/\\?]*(?=#|$)",t.fragment="["+s+"\\/\\?]*",t}};u.rfc3986=u.generate(),n.ip={v4Cidr:u.rfc3986.ipv4Cidr,v6Cidr:u.rfc3986.ipv6Cidr,ipv4:u.rfc3986.ipv4address,ipv6:u.rfc3986.ipv6address,ipvfuture:u.rfc3986.ipvFuture},u.createRegex=function(t){var n=u.rfc3986,i="(?:\\?"+(t.allowQuerySquareBrackets?n.queryWithSquareBrackets:n.query)+")?(?:#"+n.fragment+")?",s=t.domain?n.relativeRefCapture:n.relativeRef;if(t.relativeOnly)return u.wrap(s+i);var o="";if(t.scheme){r(t.scheme instanceof RegExp||"string"==typeof t.scheme||Array.isArray(t.scheme),"scheme must be a RegExp, String, or Array");var a=[].concat(t.scheme);r(a.length>=1,"scheme must have at least 1 scheme specified");for(var c=[],h=0;h<a.length;++h){var f=a[h];r(f instanceof RegExp||"string"==typeof f,"scheme at position "+h+" must be a RegExp or String"),f instanceof RegExp?c.push(f.source.toString()):(r(n.schemeRegex.test(f),"scheme at position "+h+" must be a valid scheme"),c.push(e(f)))}o=c.join("|")}var v="(?:"+(o?"(?:"+o+")":n.scheme)+":"+(t.domain?n.hierPartCapture:n.hierPart)+")",l=t.allowRelative?"(?:"+v+"|"+s+")":v;return u.wrap(l+i,o)},u.wrap=function(t,n){return{raw:t="(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])".concat(t),regex:new RegExp("^".concat(t,"$")),scheme:n}},u.uriRegex=u.createRegex({}),n.regex=function(t){return void 0===t&&(t={}),t.scheme||t.allowRelative||t.relativeOnly||t.allowQuerySquareBrackets||t.domain?u.createRegex(t):u.uriRegex}},1447:function(t,i){var r={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:n("formula"),settings:n("settings")};i.Parser=function(){function t(t,n){if(void 0===n&&(n={}),!n[r.settings]&&n.constants)for(var i in n.constants){var e=n.constants[i];if(null!==e&&!["boolean","number","string"].includes(void 0===e?"undefined":W(e)))throw new y("Formula constant ".concat(i," contains invalid ").concat(void 0===e?"undefined":W(e)," value type"))}var u;this.settings=n[r.settings]?n:k.assign((sn(u={},r.settings,!0),sn(u,"constants",{}),sn(u,"functions",{}),u),n),this.single=null,this.bv=null,this.X_(t)}var n=t.prototype;return n.X_=function(t){for(var n=this,e=[],u="",s=0,o=!1,a=function(t){if(s)throw new y("Formula missing closing parenthesis");var a=e.length?e[e.length-1]:null;if(o||u||t){if(a&&"reference"===a.type&&")"===t)return a.type="function",a.value=n.yv(u,a.value),void(u="");if(")"===t){var c=new i.Parser(u,n.settings);e.push({type:"segment",value:c})}else if(o){if("]"===o)return e.push({type:"reference",value:u}),void(u="");e.push({type:"literal",value:u})}else if(r.operatorCharacters.includes(u))a&&"operator"===a.type&&r.operators.includes(a.value+u)?a.value+=u:e.push({type:"operator",value:u});else if(u.match(r.numberRx))e.push({type:"constant",value:S(u)});else if(void 0!==n.settings.constants[u])e.push({type:"constant",value:n.settings.constants[u]});else{if(!u.match(r.tokenRx))throw new y("Formula contains invalid token: ".concat(u));e.push({type:"reference",value:u})}u=""}},c=0;c<t.length;c++){var h=t[c];o?h===o?(a(),o=!1):u+=h:s?"("===h?(u+=h,++s):")"===h?--s?u+=h:a(h):u+=h:h in r.literals?o=r.literals[h]:"("===h?(a(),++s):r.operatorCharacters.includes(h)?(a(),u=h,a()):" "!==h?u+=h:a()}a(),e=e.map((function(t,n){return"operator"!==t.type||"-"!==t.value||n&&"operator"!==e[n-1].type?t:{type:"operator",value:"n"}}));for(var f=!1,v=0;v<e.length;v++){var l=e[v];if("operator"===l.type){if(r.operatorsPrefix.includes(l.value))continue;if(!f)throw new y("Formula contains an operator in invalid position");if(!r.operators.includes(l.value))throw new y("Formula contains an unknown operator ".concat(l.value))}else if(f)throw new y("Formula missing expected operator");f=!f}if(!f)throw new y("Formula contains invalid trailing operator");1===e.length&&["reference","literal","constant"].includes(e[0].type)&&(this.single={type:"reference"===e[0].type?"reference":"value",value:e[0].value}),this.bv=e.map((function(t){if("operator"===t.type)return r.operatorsPrefix.includes(t.value)?t:t.value;if("reference"!==t.type)return t.value;if(n.settings.tokenRx&&!n.settings.tokenRx.test(t.value))throw new y("Formula contains invalid reference ".concat(t.value));return n.settings.reference?n.settings.reference(t.value):r.reference(t.value)}))},n.yv=function(t,n){var e=this,u=this.settings.functions[n];if("function"!=typeof u)throw new y("Formula contains unknown function ".concat(n));var s=[];if(t){for(var o="",a=0,c=!1,h=function(){if(!o)throw new y("Formula contains function ".concat(n," with invalid arguments ").concat(t));s.push(o),o=""},f=0;f<t.length;++f){var v=t[f];c?(o+=v,v===c&&(c=!1)):v in r.literals&&!a?(o+=v,c=r.literals[v]):","!==v||a?(o+=v,"("===v?++a:")"===v&&--a):h()}h()}return s=s.map((function(t){return new i.Parser(t,e.settings)})),function(t){for(var n,i=[],r=0;r<s.length;r++){var e=s[r];i.push(e.evaluate(t))}return(n=u).call.apply(n,[t].concat(Ut(i)))}},n.evaluate=function(t){for(var n=this.bv.slice(),i=n.length-2;i>=0;--i){var e=n[i];if(e&&"operator"===e.type){var u=n[i+1];n.splice(i+1,1);var s=r.evaluate(u,t);n[i]=r.single(e.value,s)}}return r.operatorsOrder.forEach((function(i){for(var e=1;e<n.length-1;)if(i.includes(n[e])){var u=n[e],s=r.evaluate(n[e-1],t),o=r.evaluate(n[e+1],t);n.splice(e,2);var a=r.calculate(u,s,o);n[e-1]=0===a?0:a}else e+=2})),r.evaluate(n[0],t)},t}(),i.Parser.prototype[r.symbol]=!0,r.reference=function(t){return function(n){return n&&void 0!==n[t]?n[t]:null}},r.evaluate=function(t,n){return null===t?null:"function"==typeof t?t(n):t[r.symbol]?t.evaluate(n):t},r.single=function(t,n){if("!"===t)return!n;var i=-n;return 0===i?0:i},r.calculate=function(t,n,i){if("??"===t)return r.exists(n)?n:i;if("string"==typeof n||"string"==typeof i){if("+"===t)return(n=r.exists(n)?n:"")+(r.exists(i)?i:"")}else switch(t){case"^":return A.pow(n,i);case"*":return n*i;case"/":return n/i;case"%":return n%i;case"+":return n+i;case"-":return n-i}switch(t){case"<":return n<i;case"<=":return n<=i;case">":return n>i;case">=":return n>=i;case"==":return n===i;case"!=":return n!==i;case"&&":return n&&i;case"||":return n||i}return null},r.exists=function(t){return null!=t}},9926:function(){},5688:function(){},9708:function(){},1152:function(){},443:function(){},9848:function(){},5934:function(t){t.exports=JSON.parse('{"version":"17.13.3"}')}},e={},function n(i){var r=e[i];if(void 0!==r)return r.exports;var u=e[i]={exports:{}};return t[i](u,u.exports,n),u.exports}(5107);var t,e}()}(oe);var ae,ce=x(oe.exports),he=function(t){function n(n,i,r,e){var u;if(u=t.call(this)||this,ae=r,!i)throw ae.error("Token generator is required to construct this module."),new y("Token generator is required to construct this module.");return u.webRTCPeer=new Ar,u.signaling=null,u.autoReconnect=e,u.reconnectionInterval=1e3,u.alreadyDisconnected=!1,u.firstReconnection=!0,u.stopReconnection=!1,u.isReconnecting=!1,u.tokenGenerator=i,u.options=null,u}Rt(n,t);var i=n.prototype;return i.getRTCPeerConnection=function(){return this.webRTCPeer?this.webRTCPeer.getRTCPeer():null},i.stop=function(){var t;ae.info("Stopping"),this.webRTCPeer.closeRTCPeer(),null==(t=this.signaling)||t.close(),this.signaling=null,this.stopReconnection=!0,this.webRTCPeer=new Ar},i.isActive=function(){var t=this.webRTCPeer.getRTCPeerStatus();return ae.info("Broadcast status: ",t||"not_established"),"connected"===t},i.setReconnect=function(){var t=this;this.signaling.on("migrate",(function(){return t.replaceConnection()})),this.autoReconnect&&(this.signaling.on(Ur,(function(){(t.firstReconnection||!t.alreadyDisconnected)&&(t.firstReconnection=!1,t.reconnect({error:new y("Signaling error: wsConnectionError")}))})),this.webRTCPeer.on(br.connectionStateChange,(function(n){tt(n),"connected"===n&&Q(new Date),("failed"===n||"disconnected"===n&&t.alreadyDisconnected)&&t.firstReconnection?(t.firstReconnection=!1,t.reconnect({error:new y("Connection state change: RTCPeerConnectionState disconnected")})):"disconnected"===n?(t.alreadyDisconnected=!0,g((function(){return t.reconnect({error:new y("Connection state change: RTCPeerConnectionState disconnected")})}),1500)):t.alreadyDisconnected=!1})))},i.reconnect=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),ae.info("Attempting to reconnect..."),n.isActive()||n.stopReconnection||n.isReconnecting?[3,2]:(n.stop(),n.emit("reconnect",{timeout:fe(n.reconnectionInterval),error:null!=t&&t.error?null==t?void 0:t.error:new y("Attempting to reconnect")}),n.isReconnecting=!0,[4,n.connect(n.options)]);case 1:r.sent(),n.alreadyDisconnected=!1,n.reconnectionInterval=1e3,n.firstReconnection=!0,n.isReconnecting=!1,r.label=2;case 2:return[3,4];case 3:return i=r.sent(),n.isReconnecting=!1,n.reconnectionInterval=fe(n.reconnectionInterval),ae.error("Reconnection failed, retrying in ".concat(n.reconnectionInterval,"ms. "),i),g((function(){return n.reconnect({error:i})}),n.reconnectionInterval),[3,4];case 4:return[2]}}))}))()},n}(Mt),fe=function(t){return t<32e3?2*t:t},ve=f.RTCRtpSender&&!!RTCRtpSender.prototype.createEncodedStreams&&f.RTCRtpReceiver&&!!RTCRtpReceiver.prototype.createEncodedStreams,le="RTCRtpScriptTransform"in f,de="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBGPXR5cGVvZiBnbG9iYWxUaGlzPCJ1Ij9nbG9iYWxUaGlzOnR5cGVvZiB3aW5kb3c8InUiP3dpbmRvdzp0eXBlb2YgZ2xvYmFsPCJ1Ij9nbG9iYWw6dHlwZW9mIHNlbGY8InUiP3NlbGY6e307ZnVuY3Rpb24gVyhuKXtyZXR1cm4gbiYmbi5fX2VzTW9kdWxlJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobiwiZGVmYXVsdCIpP24uZGVmYXVsdDpufXZhciBCPXtleHBvcnRzOnt9fTsvKiEKICoganMtbG9nZ2VyIC0gaHR0cDovL2dpdGh1Yi5jb20vam9ubnlyZWV2ZXMvanMtbG9nZ2VyCiAqIEpvbm55IFJlZXZlcywgaHR0cDovL2pvbm55cmVldmVzLmNvLnVrLwogKiBqcy1sb2dnZXIgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuCiAqLyhmdW5jdGlvbihuKXsoZnVuY3Rpb24odCl7dmFyIGU9e307ZS5WRVJTSU9OPSIxLjYuMSI7dmFyIHMscj17fSxvPWZ1bmN0aW9uKGksdSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHUuYXBwbHkoaSxhcmd1bWVudHMpfX0sYT1mdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cyx1PWlbMF0saCxjO2ZvcihjPTE7YzxpLmxlbmd0aDtjKyspZm9yKGggaW4gaVtjXSkhKGggaW4gdSkmJmlbY10uaGFzT3duUHJvcGVydHkoaCkmJih1W2hdPWlbY11baF0pO3JldHVybiB1fSxkPWZ1bmN0aW9uKGksdSl7cmV0dXJue3ZhbHVlOmksbmFtZTp1fX07ZS5UUkFDRT1kKDEsIlRSQUNFIiksZS5ERUJVRz1kKDIsIkRFQlVHIiksZS5JTkZPPWQoMywiSU5GTyIpLGUuVElNRT1kKDQsIlRJTUUiKSxlLldBUk49ZCg1LCJXQVJOIiksZS5FUlJPUj1kKDgsIkVSUk9SIiksZS5PRkY9ZCg5OSwiT0ZGIik7dmFyIGw9ZnVuY3Rpb24oaSl7dGhpcy5jb250ZXh0PWksdGhpcy5zZXRMZXZlbChpLmZpbHRlckxldmVsKSx0aGlzLmxvZz10aGlzLmluZm99O2wucHJvdG90eXBlPXtzZXRMZXZlbDpmdW5jdGlvbihpKXtpJiYidmFsdWUiaW4gaSYmKHRoaXMuY29udGV4dC5maWx0ZXJMZXZlbD1pKX0sZ2V0TGV2ZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0LmZpbHRlckxldmVsfSxlbmFibGVkRm9yOmZ1bmN0aW9uKGkpe3ZhciB1PXRoaXMuY29udGV4dC5maWx0ZXJMZXZlbDtyZXR1cm4gaS52YWx1ZT49dS52YWx1ZX0sdHJhY2U6ZnVuY3Rpb24oKXt0aGlzLmludm9rZShlLlRSQUNFLGFyZ3VtZW50cyl9LGRlYnVnOmZ1bmN0aW9uKCl7dGhpcy5pbnZva2UoZS5ERUJVRyxhcmd1bWVudHMpfSxpbmZvOmZ1bmN0aW9uKCl7dGhpcy5pbnZva2UoZS5JTkZPLGFyZ3VtZW50cyl9LHdhcm46ZnVuY3Rpb24oKXt0aGlzLmludm9rZShlLldBUk4sYXJndW1lbnRzKX0sZXJyb3I6ZnVuY3Rpb24oKXt0aGlzLmludm9rZShlLkVSUk9SLGFyZ3VtZW50cyl9LHRpbWU6ZnVuY3Rpb24oaSl7dHlwZW9mIGk9PSJzdHJpbmciJiZpLmxlbmd0aD4wJiZ0aGlzLmludm9rZShlLlRJTUUsW2ksInN0YXJ0Il0pfSx0aW1lRW5kOmZ1bmN0aW9uKGkpe3R5cGVvZiBpPT0ic3RyaW5nIiYmaS5sZW5ndGg+MCYmdGhpcy5pbnZva2UoZS5USU1FLFtpLCJlbmQiXSl9LGludm9rZTpmdW5jdGlvbihpLHUpe3MmJnRoaXMuZW5hYmxlZEZvcihpKSYmcyh1LGEoe2xldmVsOml9LHRoaXMuY29udGV4dCkpfX07dmFyIGY9bmV3IGwoe2ZpbHRlckxldmVsOmUuT0ZGfSk7KGZ1bmN0aW9uKCl7dmFyIGk9ZTtpLmVuYWJsZWRGb3I9byhmLGYuZW5hYmxlZEZvciksaS50cmFjZT1vKGYsZi50cmFjZSksaS5kZWJ1Zz1vKGYsZi5kZWJ1ZyksaS50aW1lPW8oZixmLnRpbWUpLGkudGltZUVuZD1vKGYsZi50aW1lRW5kKSxpLmluZm89byhmLGYuaW5mbyksaS53YXJuPW8oZixmLndhcm4pLGkuZXJyb3I9byhmLGYuZXJyb3IpLGkubG9nPWkuaW5mb30pKCksZS5zZXRIYW5kbGVyPWZ1bmN0aW9uKGkpe3M9aX0sZS5zZXRMZXZlbD1mdW5jdGlvbihpKXtmLnNldExldmVsKGkpO2Zvcih2YXIgdSBpbiByKXIuaGFzT3duUHJvcGVydHkodSkmJnJbdV0uc2V0TGV2ZWwoaSl9LGUuZ2V0TGV2ZWw9ZnVuY3Rpb24oKXtyZXR1cm4gZi5nZXRMZXZlbCgpfSxlLmdldD1mdW5jdGlvbihpKXtyZXR1cm4gcltpXXx8KHJbaV09bmV3IGwoYSh7bmFtZTppfSxmLmNvbnRleHQpKSl9LGUuY3JlYXRlRGVmYXVsdEhhbmRsZXI9ZnVuY3Rpb24oaSl7aT1pfHx7fSxpLmZvcm1hdHRlcj1pLmZvcm1hdHRlcnx8ZnVuY3Rpb24ocCxfKXtfLm5hbWUmJnAudW5zaGlmdCgiWyIrXy5uYW1lKyJdIil9O3ZhciB1PXt9LGg9ZnVuY3Rpb24oYyxwKXtGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjLGNvbnNvbGUscCl9O3JldHVybiB0eXBlb2YgY29uc29sZT4idSI/ZnVuY3Rpb24oKXt9OmZ1bmN0aW9uKGMscCl7Yz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjKTt2YXIgXz1jb25zb2xlLmxvZyxnO3AubGV2ZWw9PT1lLlRJTUU/KGc9KHAubmFtZT8iWyIrcC5uYW1lKyJdICI6IiIpK2NbMF0sY1sxXT09PSJzdGFydCI/Y29uc29sZS50aW1lP2NvbnNvbGUudGltZShnKTp1W2ddPW5ldyBEYXRlKCkuZ2V0VGltZSgpOmNvbnNvbGUudGltZUVuZD9jb25zb2xlLnRpbWVFbmQoZyk6aChfLFtnKyI6ICIrKG5ldyBEYXRlKCkuZ2V0VGltZSgpLXVbZ10pKyJtcyJdKSk6KHAubGV2ZWw9PT1lLldBUk4mJmNvbnNvbGUud2Fybj9fPWNvbnNvbGUud2FybjpwLmxldmVsPT09ZS5FUlJPUiYmY29uc29sZS5lcnJvcj9fPWNvbnNvbGUuZXJyb3I6cC5sZXZlbD09PWUuSU5GTyYmY29uc29sZS5pbmZvP189Y29uc29sZS5pbmZvOnAubGV2ZWw9PT1lLkRFQlVHJiZjb25zb2xlLmRlYnVnP189Y29uc29sZS5kZWJ1ZzpwLmxldmVsPT09ZS5UUkFDRSYmY29uc29sZS50cmFjZSYmKF89Y29uc29sZS50cmFjZSksaS5mb3JtYXR0ZXIoYyxwKSxoKF8sYykpfX0sZS51c2VEZWZhdWx0cz1mdW5jdGlvbihpKXtlLnNldExldmVsKGkmJmkuZGVmYXVsdExldmVsfHxlLkRFQlVHKSxlLnNldEhhbmRsZXIoZS5jcmVhdGVEZWZhdWx0SGFuZGxlcihpKSl9LGUuc2V0RGVmYXVsdHM9ZS51c2VEZWZhdWx0cyxuLmV4cG9ydHM/bi5leHBvcnRzPWU6KGUuX3ByZXZMb2dnZXI9dC5Mb2dnZXIsZS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuTG9nZ2VyPWUuX3ByZXZMb2dnZXIsZX0sdC5Mb2dnZXI9ZSl9KShGKX0pKEIpO3ZhciB6PUIuZXhwb3J0cyxEPVcoeik7Y2xhc3Mgd3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmRhdGE9dCx0aGlzLmJpdE9mZnNldD0wfXJlYWRCaXRzKHQpe2lmKHRoaXMuYml0T2Zmc2V0K3Q+dGhpcy5kYXRhLmxlbmd0aCo4KXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIHJlYWQgcGFzdCB0aGUgZW5kIG9mIHRoZSBiaXRzdHJlYW0iKTtsZXQgZT0wO2ZvcihsZXQgcz0wO3M8dDtzKyspe2NvbnN0IHI9TWF0aC5mbG9vcih0aGlzLmJpdE9mZnNldC84KSxvPTctdGhpcy5iaXRPZmZzZXQlOCxhPXRoaXMuZGF0YVtyXT4+byYxO2V8PWE8PHQtMS1zLHRoaXMuYml0T2Zmc2V0Kyt9cmV0dXJuIGV9c2tpcCh0KXt0aGlzLmJpdE9mZnNldCs9dH1yZWFkRXhwR29sb21iVW5zaWduZWQoKXtsZXQgdD0tMTtmb3IobGV0IGU9MDtlPT09MDt0KyspZT10aGlzLnJlYWRCaXRzKDEpO3JldHVybigxPDx0KS0xK3RoaXMucmVhZEJpdHModCl9cmVhZEV4cEdvbG9tYlNpZ25lZCgpe2NvbnN0IHQ9dGhpcy5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtyZXR1cm4gdCUyPT09MD8tKHQvMik6KHQrMSkvMn19Y29uc3QgbT17U0xJQ0VfTk9OX0lEUjoxLFNMSUNFX1BBUlRJVElPTl9BOjIsU0xJQ0VfSURSOjUsU0VJX0gyNjQ6NixTRUlfSDI2NV9QUkVGSVg6MzksU0VJX0gyNjVfU1VGRklYOjQwLFNQU19IMjY0OjcsU1BTX0gyNjU6MzMsUFBTX0gyNjQ6OCxQUFNfSDI2NTozNH0sUj17UElDX1RJTUlORzoxLFVTRVJfREFUQV9VTlJFR0lTVEVSRUQ6NX0sRT17TEVHQUNZOjEsTkVXOjIsVElNRUNPREU6MyxPVEhFUjo0fSxqPSI2ZTljZmQyYS01OTA3LTQ5ZmYtYjM2My04OTc4YTZlODM0MGUiLHE9IjlhMjFmM2JlLTMxZjAtNGI3OC1iMGJlLWM3ZjdkYmI5NzI1MCIsTD0iZDQwZTM4ZWEtZDQxOS00YzYyLTk0ZWQtMjBhYzM3YjRlNGZhIjtjbGFzcyBWe2NvbnN0cnVjdG9yKHQ9IkgyNjQiKXt0aGlzLnNwcz1uZXcgTWFwLHRoaXMucHBzPW5ldyBNYXAsdGhpcy5hY3RpdmVTUFM9bnVsbCx0aGlzLmNvZGVjPXR9Y29sbGVjdFBQUyh0KXt0aGlzLmNvZGVjPT09IkgyNjQiP3RoaXMuY29sbGVjdEgyNjRQUFModCk6dGhpcy5jb2xsZWN0SDI2NVBQUyh0KX1jb2xsZWN0U1BTKHQpe3RoaXMuY29kZWM9PT0iSDI2NCI/dGhpcy5jb2xsZWN0SDI2NFNQUyh0KTp0aGlzLmNvbGxlY3RIMjY1U1BTKHQpfWNvbGxlY3RIMjY0U1BTKHQpe2NvbnN0IGU9bmV3IHcodCkscz1lLnJlYWRCaXRzKDgpLHI9WzEwMCwxMTAsMTIyLDI0NCw0NCw4Myw4NiwxMTgsMTI4LDEzOCwxMzksMTM0LDEzNV07ZS5za2lwKDgpLGUuc2tpcCg4KTtjb25zdCBvPWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7aWYobz4zMXx8bzwwKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzZXFfcGFyYW1ldGVyX3NldF9pZCIpO2lmKHIuaW5jbHVkZXMocykpe2NvbnN0IGw9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtpZihsPT09MyYmZS5za2lwKDEpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnNraXAoMSksZS5yZWFkQml0cygxKSl7Y29uc3QgaT1sIT09Mz84OjEyO2ZvcihsZXQgdT0wO3U8aTt1KyspaWYoZS5yZWFkQml0cygxKSl7Y29uc3QgaD11PDY/MTY6NjQ7bGV0IGM9OCxwPTg7Zm9yKGxldCBfPTA7XzxoO18rKyl7aWYocCE9PTApe2NvbnN0IGc9ZS5yZWFkRXhwR29sb21iU2lnbmVkKCk7cD0oYytnKzI1NiklMjU2fWM9cD09PTA/YzpwfX19fWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7Y29uc3QgYT1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2lmKGE9PT0wKWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7ZWxzZSBpZihhPT09MSl7ZS5za2lwKDEpLGUucmVhZEV4cEdvbG9tYlNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlNpZ25lZCgpO2NvbnN0IGw9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtmb3IobGV0IGY9MDtmPGw7ZisrKWUucmVhZEV4cEdvbG9tYlNpZ25lZCgpfWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5za2lwKDEpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRCaXRzKDEpPT09MCYmZS5za2lwKDEpLGUuc2tpcCgxKSxlLnJlYWRCaXRzKDEpJiYoZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSk7bGV0IGQ7aWYoZS5yZWFkQml0cygxKSl7bGV0IGY9ZnVuY3Rpb24oYyl7Y29uc3QgcD1jLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2Muc2tpcCg0KSxjLnNraXAoNCk7Zm9yKGxldCB4PTA7eDw9cDt4KyspYy5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxjLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGMuc2tpcCgxKTtjLnNraXAoNSk7Y29uc3QgXz1jLnJlYWRCaXRzKDUpLGc9Yy5yZWFkQml0cyg1KSxBPWMucmVhZEJpdHMoNSk7cmV0dXJue2NwYl9yZW1vdmFsX2RlbGF5X2xlbmd0aF9taW51czE6XyxkcGJfb3V0cHV0X2RlbGF5X2xlbmd0aF9taW51czE6Zyx0aW1lX29mZnNldF9sZW5ndGg6QX19O2UucmVhZEJpdHMoMSkmJmUucmVhZEJpdHMoOCk9PT0yNTUmJihlLnNraXAoMTYpLGUuc2tpcCgxNikpLGUucmVhZEJpdHMoMSkmJmUuc2tpcCgxKSxlLnJlYWRCaXRzKDEpJiYoZS5za2lwKDMpLGUuc2tpcCgxKSxlLnJlYWRCaXRzKDEpJiZlLnNraXAoMjQpKSxlLnJlYWRCaXRzKDEpJiYoZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpKTtjb25zdCBsPWUucmVhZEJpdHMoMSk/e251bV91bml0c19pbl90aWNrOmUucmVhZEJpdHMoMzIpLHRpbWVfc2NhbGU6ZS5yZWFkQml0cygzMiksZml4ZWRfZnJhbWVfcmF0ZV9mbGFnOmUucmVhZEJpdHMoMSl9OnZvaWQgMCxpPWUucmVhZEJpdHMoMSk/ZihlKTp2b2lkIDAsdT1lLnJlYWRCaXRzKDEpP2YoZSk6dm9pZCAwOyhpfHx1KSYmZS5za2lwKDEpO2NvbnN0IGg9ZS5yZWFkQml0cygxKTtkPXt0aW1pbmdfaW5mbzpsLG5hbF9ocmRfcGFyYW1ldGVyczppLHZjbF9ocmRfcGFyYW1ldGVyczp1LHBpY19zdHJ1Y3RfcHJlc2VudF9mbGFnOmh9fXRoaXMuc3BzLnNldChvLHt2dWlfcGFyYW1ldGVyczpkfSl9Y29sbGVjdEgyNjVTUFModCl7fWNvbGxlY3RIMjY0UFBTKHQpe2NvbnN0IGU9bmV3IHcodCkscz1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2lmKHM+MjU1fHxzPDApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBpY19wYXJhbWV0ZXJfc2V0X2lkIik7Y29uc3Qgcj1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO3RoaXMucHBzLnNldChzLHtzZXFfcGFyYW1ldGVyX3NldF9pZDpyfSl9Y29sbGVjdEgyNjVQUFModCl7fWZpbmRBY3RpdmVTUFModCl7Y29uc3QgZT1uZXcgdyh0KTtlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7Y29uc3Qgcz1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLHI9dGhpcy5wcHMuZ2V0KHMpO2lmKHIpe2NvbnN0IG89dGhpcy5zcHMuZ2V0KHIuc2VxX3BhcmFtZXRlcl9zZXRfaWQpO2lmKG8pe3RoaXMuYWN0aXZlU1BTPW87cmV0dXJufX10aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBmaW5kIHRoZSBhY3RpdmUgU1BTIil9fWNvbnN0IFM9bmV3IFY7ZnVuY3Rpb24gRyhuLHQpe2Zvcig7dDxuLmJ5dGVMZW5ndGgtNDspe2lmKG5bdF09PT0wJiZuW3QrMV09PT0wJiYoblt0KzJdPT09MXx8blt0KzJdPT09MCYmblt0KzNdPT09MSkpcmV0dXJuIHQ7dCs9MX1yZXR1cm4tMX1mdW5jdGlvbiBVKG4pe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkobi5ieXRlTGVuZ3RoKTtsZXQgZT0wLHM9MDtmb3IobGV0IHI9MjtyPG4uYnl0ZUxlbmd0aDtyKyspbltyXT09PTMmJm5bci0xXT09PTAmJm5bci0yXT09PTAmJih0LnNldChuLnN1YmFycmF5KHMsciksZSksZSs9ci1zLHM9cisxKTtyZXR1cm4gczxuLmJ5dGVMZW5ndGgmJnQuc2V0KG4uc3ViYXJyYXkocyksZSksdH1mdW5jdGlvbiBZKG4sdCl7bGV0IGU9MDtjb25zdCBzPXQ9PT0iSDI2NCI/MToyLHI9W107Zm9yKDtlPG4uYnl0ZUxlbmd0aC00Oyl7Y29uc3Qgbz1HKG4sZSk7aWYobz49ZSl7Y29uc3QgYT1uW28rMl09PT0xPzM6NCxkPUcobixvK2Ercyk7aWYoZD5vKXIucHVzaChuLnN1YmFycmF5KG8sZCkpLGU9ZDtlbHNle3IucHVzaChuLnN1YmFycmF5KG8pKTticmVha319ZWxzZSBicmVha31yZXR1cm4gcn1mdW5jdGlvbiBYKG4sdCl7bGV0IGU9ITA7cmV0dXJuIFkobix0KS5maWx0ZXIocz0+e2NvbnN0IHI9c1syXT09PTE/Mzo0LG89dD09PSJIMjY0Ij8xOjIsYT1zW3JdLGQ9dD09PSJIMjY0Ij9hJjMxOmE+PjEmNjM7aWYoZSlzd2l0Y2goZCl7Y2FzZSBtLlBQU19IMjY0OmNhc2UgbS5QUFNfSDI2NTpTLmNvbGxlY3RQUFMoVShzLnN1YmFycmF5KHIrbykpKTticmVhaztjYXNlIG0uU1BTX0gyNjQ6Y2FzZSBtLlNQU19IMjY1OlMuY29sbGVjdFNQUyhVKHMuc3ViYXJyYXkocitvKSkpO2JyZWFrO2Nhc2UgbS5TTElDRV9JRFI6Y2FzZSBtLlNMSUNFX05PTl9JRFI6Y2FzZSBtLlNMSUNFX1BBUlRJVElPTl9BOnRyeXtTLmZpbmRBY3RpdmVTUFMoVShzLnN1YmFycmF5KHIrbykpKSxlPSExfWNhdGNoKGwpe2NvbnNvbGUuaW5mbygiRmFpbGVkIHRvIGZpbmQgYWN0aXZlIFNQUy4gV2lsbCBub3QgYmUgYWJsZSB0byBleHRyYWN0IFBJQyB0aW1pbmcgbWV0YWRhdGEiKX1icmVha31yZXR1cm5bbS5TRUlfSDI2NCxtLlNFSV9IMjY1X1BSRUZJWCxtLlNFSV9IMjY1X1NVRkZJWF0uaW5jbHVkZXMoZCl9KX1mdW5jdGlvbiAkKG4pe2xldCB0PTAsZT0wO2Zvcig7bltlXT09PTI1NTspdCs9MjU1LGUrKzt0Kz1uW2VdLGUrKztsZXQgcz0wO2Zvcig7bltlXT09PTI1NTspcys9MjU1LGUrKztyZXR1cm4gcys9bltlXSxlKysse3R5cGU6dCxjb250ZW50Om4uc3ViYXJyYXkoZSxlK3MpfX1mdW5jdGlvbiBKKG4pe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoVChxKSksZT1uZXcgVWludDhBcnJheShUKGopKSxzPW5ldyBVaW50OEFycmF5KFQoTCkpO3JldHVybiB0LmV2ZXJ5KChyLG8pPT5yPT09bltvXSk/RS5USU1FQ09ERTplLmV2ZXJ5KChyLG8pPT5yPT09bltvXSk/RS5MRUdBQ1k6cy5ldmVyeSgocixvKT0+cj09PW5bb10pP0UuTkVXOkUuT1RIRVJ9ZnVuY3Rpb24gSyhuLHQpe2xldCBlPTA7bi51dWlkPXQuc3ViYXJyYXkoZSxlKzE2KSxlKz0xNjtjb25zdCBzPUoobi51dWlkKSxyPXQuc3ViYXJyYXkoZSk7c3dpdGNoKHMpe2Nhc2UgRS5MRUdBQ1k6Y2FzZSBFLk9USEVSOm4udW5yZWdpc3RlcmVkPXI7YnJlYWs7Y2FzZSBFLlRJTUVDT0RFOm4udGltZWNvZGU9TyhyKTticmVhaztjYXNlIEUuTkVXOntsZXQgbz0wO2NvbnN0IGE9QyhEYXRlLm5vdygpKS5sZW5ndGgsZD1yLnN1YmFycmF5KG8sYSk7bys9YTtjb25zdCBsPXIuc3ViYXJyYXkobyk7bi50aW1lY29kZT1PKGQpLG4udW5yZWdpc3RlcmVkPWw7YnJlYWt9fX1mdW5jdGlvbiBPKG4pe2NvbnN0IHQ9bi5yZWR1Y2UoKG8sYSk9PihvPDxCaWdJbnQoOCkpK0JpZ0ludChhKSxCaWdJbnQoMCkpLGU9TnVtYmVyKHQpLHM9bmV3IERhdGUoZSk7cmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzLnRvSVNPU3RyaW5nKCkpfWZ1bmN0aW9uIFoobix0KXt2YXIgZixpLHUsaCxjO2lmKCFTLmFjdGl2ZVNQUyl7Y29uc29sZS53YXJuKCJDYW5ub3QgZmluZCB0aGUgYWN0aXZlIFNQUyIpO3JldHVybn1jb25zdCBlPShmPVMuYWN0aXZlU1BTLnZ1aV9wYXJhbWV0ZXJzLm5hbF9ocmRfcGFyYW1ldGVycykhPW51bGw/ZjpTLmFjdGl2ZVNQUy52dWlfcGFyYW1ldGVycy52Y2xfaHJkX3BhcmFtZXRlcnMscz17Y3BiX2RwYl9kZWxheXNfcHJlc2VudF9mbGFnOmU/MTowLGNwYl9yZW1vdmFsX2RlbGF5X2xlbmd0aF9taW51czE6KGk9ZT09bnVsbD92b2lkIDA6ZS5jcGJfcmVtb3ZhbF9kZWxheV9sZW5ndGhfbWludXMxKSE9bnVsbD9pOjIzLGRwYl9vdXRwdXRfZGVsYXlfbGVuZ3RoX21pbnVzMToodT1lPT1udWxsP3ZvaWQgMDplLmRwYl9vdXRwdXRfZGVsYXlfbGVuZ3RoX21pbnVzMSkhPW51bGw/dToyMyx0aW1lX29mZnNldF9sZW5ndGg6ZT8oaD1lLnRpbWVfb2Zmc2V0X2xlbmd0aCkhPW51bGw/aDoyNDp2b2lkIDAscGljX3N0cnVjdF9wcmVzZW50X2ZsYWc6KGM9Uy5hY3RpdmVTUFMudnVpX3BhcmFtZXRlcnMucGljX3N0cnVjdF9wcmVzZW50X2ZsYWcpIT1udWxsP2M6MH07aWYoIXMucGljX3N0cnVjdF9wcmVzZW50X2ZsYWcpe2NvbnNvbGUud2FybigicGljX3N0cnVjdF9wcmVzZW50X2ZsYWcgaXMgbm90IHByZXNlbnQiKTtyZXR1cm59Y29uc3Qgcj1uZXcgdyh0KTtzLmNwYl9kcGJfZGVsYXlzX3ByZXNlbnRfZmxhZyYmKHIuc2tpcChzLmNwYl9yZW1vdmFsX2RlbGF5X2xlbmd0aF9taW51czErMSksci5za2lwKHMuZHBiX291dHB1dF9kZWxheV9sZW5ndGhfbWludXMxKzEpKTtjb25zdCBvPVsxLDEsMSwyLDIsMywzLDIsM10sYT1yLnJlYWRCaXRzKDQpO2lmKGE+PW8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwaWNfc3RydWN0Iik7Y29uc3QgZD1vW2FdLGw9W107Zm9yKGxldCBwPTA7cDxkO3ArKylpZihyLnJlYWRCaXRzKDEpKXtjb25zdCBnPXt9O3Iuc2tpcCgyKSxyLnNraXAoMSksci5za2lwKDUpO2NvbnN0IEE9ci5yZWFkQml0cygxKTtpZihyLnNraXAoMiksZy5uX2ZyYW1lcz1yLnJlYWRCaXRzKDgpLEE/KGcuc2Vjb25kc192YWx1ZT1yLnJlYWRCaXRzKDYpLGcubWludXRlc192YWx1ZT1yLnJlYWRCaXRzKDYpLGcuaG91cnNfdmFsdWU9ci5yZWFkQml0cyg1KSk6ci5yZWFkQml0cygxKSYmKGcuc2Vjb25kc192YWx1ZT1yLnJlYWRCaXRzKDYpLHIucmVhZEJpdHMoMSkmJihnLm1pbnV0ZXNfdmFsdWU9ci5yZWFkQml0cyg2KSxyLnJlYWRCaXRzKDEpJiYoZy5ob3Vyc192YWx1ZT1yLnJlYWRCaXRzKDUpKSkpLHMudGltZV9vZmZzZXRfbGVuZ3RoKXRyeXtnLnRpbWVfb2Zmc2V0PXIucmVhZEJpdHMocy50aW1lX29mZnNldF9sZW5ndGgpfWNhdGNoKHgpe2NvbnNvbGUuZXJyb3IoIkZhaWxlZCB0byByZWFkIHRpbWVfb2Zmc2V0Iix4KSxnLnRpbWVfb2Zmc2V0PTB9ZWxzZSBnLnRpbWVfb2Zmc2V0PTA7bC5wdXNoKGcpfW4uc2VpUGljVGltaW5nVGltZUNvZGVBcnJheT1sfWZ1bmN0aW9uIFEobix0KXtpZih0IT09IkgyNjQiJiZ0IT09IkgyNjUiKXRocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgY29kZWMgIi5jb25jYXQodCkpO2NvbnN0IGU9e307cmV0dXJuIFMuY29kZWM9dCxYKG5ldyBVaW50OEFycmF5KG4uZGF0YSksdCkuZm9yRWFjaChzPT57Y29uc3Qgcj1zWzJdPT09MT8zOjQsbz10PT09IkgyNjQiPzE6MixhPVUocy5zdWJhcnJheShyK28pKSxkPSQoYSk7c3dpdGNoKGQudHlwZSl7Y2FzZSBSLlBJQ19USU1JTkc6WihlLGQuY29udGVudCk7YnJlYWs7Y2FzZSBSLlVTRVJfREFUQV9VTlJFR0lTVEVSRUQ6SyhlLGQuY29udGVudCk7YnJlYWt9fSksZX1mdW5jdGlvbiBlZShuKXtyZXR1cm4vXlswLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezEyfSQvLnRlc3Qobil9ZnVuY3Rpb24gVChuKXtyZXR1cm4gbi5yZXBsYWNlKC8tL2csIiIpLm1hdGNoKC8uezEsMn0vZykubWFwKHQ9PnBhcnNlSW50KHQsMTYpKX1mdW5jdGlvbiB0ZShuLHQsZSl7Y29uc3Qgcz1uZXcgVWludDhBcnJheShUKG4pKSxyPUMoZSksbz1uZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoSlNPTi5zdHJpbmdpZnkodCkpLGE9bmV3IFVpbnQ4QXJyYXkocy5sZW5ndGgrci5sZW5ndGgrby5sZW5ndGgpO3JldHVybiBhLnNldChzKSxhLnNldChyLHMubGVuZ3RoKSxhLnNldChvLHIubGVuZ3RoK3MubGVuZ3RoKSxhfWZ1bmN0aW9uIG5lKG4pe2NvbnN0IHQ9W10sZT1NYXRoLmZsb29yKG4uYnl0ZUxlbmd0aC8yNTUpLHM9bi5ieXRlTGVuZ3RoJTI1NTtmb3IobGV0IHI9MDtyPGU7cisrKXQucHVzaCgyNTUpO3JldHVybiB0LnB1c2gocyksbmV3IFVpbnQ4QXJyYXkoWzUsLi4udF0pfWZ1bmN0aW9uIHJlKG4pe2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTxuLmJ5dGVMZW5ndGg7ZSsrKWUrMjxuLmJ5dGVMZW5ndGgmJlswLDEsMiwzXS5pbmNsdWRlcyhuW2UrMl0pJiZuW2VdPT09MCYmbltlKzFdPT09MD8odC5wdXNoKG5bZV0pLHQucHVzaChuW2UrMV0pLGUrPTIsdC5wdXNoKDMpKTp0LnB1c2gobltlXSk7cmV0dXJuIHQucHVzaCgxMjgpLG5ldyBVaW50OEFycmF5KHQpfWZ1bmN0aW9uIEMobil7Y29uc3QgdD1bXTtpZighaXNOYU4obikpe2NvbnN0IGU9QmlnSW50KG4pO2ZvcihsZXQgcz0wO3M8TWF0aC5jZWlsKE1hdGguZmxvb3IoTWF0aC5sb2cyKG5ldyBOdW1iZXIobikpKzEpLzgpO3MrKyl0LnVuc2hpZnQobmV3IE51bWJlcihlPj5CaWdJbnQoOCpzKSZCaWdJbnQoMjU1KSkpfXJldHVybiBuZXcgVWludDhBcnJheSh0KX1mdW5jdGlvbiBzZSh7dXVpZDpuLHBheWxvYWQ6dCx0aW1lY29kZTplfSl7Y29uc3Qgcz1bMCwwLDAsMV0scj1bMTAyXSxvPXRlKG4sdCxlKSxhPW5lKG8pLGQ9cmUobyksbD1uZXcgVWludDhBcnJheShzLmxlbmd0aCtyLmxlbmd0aCthLmxlbmd0aCtkLmxlbmd0aCk7cmV0dXJuIGwuc2V0KHMpLGwuc2V0KHIscy5sZW5ndGgpLGwuc2V0KGEscy5sZW5ndGgrci5sZW5ndGgpLGwuc2V0KGQscy5sZW5ndGgrci5sZW5ndGgrYS5sZW5ndGgpLGx9ZnVuY3Rpb24gaWUoe3V1aWQ6bixwYXlsb2FkOnQsdGltZWNvZGU6ZX0scyl7aWYobj09PSIifHx0PT09IiIpdGhyb3cgbmV3IEVycm9yKCJ1dWlkIGFuZCBwYXlsb2FkIGNhbm5vdCBiZSBlbXB0eSIpO2VlKG4pfHwoY29uc29sZS53YXJuKCJJbnZhbGlkIFVVSUQuIFVzaW5nIGRlZmF1bHQgVVVJRC4iKSxuPUwsZT1EYXRlLm5vdygpKTtjb25zdCByPXNlKHt1dWlkOm4scGF5bG9hZDp0LHRpbWVjb2RlOmV9KSxvPW5ldyBEYXRhVmlldyhzLmRhdGEpLGE9bmV3IEFycmF5QnVmZmVyKHMuZGF0YS5ieXRlTGVuZ3RoK3IuYnl0ZUxlbmd0aCksZD1uZXcgRGF0YVZpZXcoYSk7Zm9yKGxldCBsPTA7bDxzLmRhdGEuYnl0ZUxlbmd0aDtsKyspZC5zZXRVaW50OChsLG8uZ2V0VWludDgobCkpO2ZvcihsZXQgbD0wO2w8ci5ieXRlTGVuZ3RoO2wrKylkLnNldFVpbnQ4KHMuZGF0YS5ieXRlTGVuZ3RoK2wscltsXSk7cy5kYXRhPWF9RC5nZXQoIlRyYW5zZm9ybVdvcmtlciIpLnNldExldmVsKEQuREVCVUcpO2NvbnN0IG9lPTJlMyxiPVtdO2xldCB5PSIiLFA9e307Y29uc3Qgdj17fTtsZXQgST1bXTtmdW5jdGlvbiBIKG4pe3JldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtzdGFydCgpe30sZmx1c2goKXt9LGFzeW5jIHRyYW5zZm9ybSh0LGUpe3ZhciBzLHI7aWYodCBpbnN0YW5jZW9mIFJUQ0VuY29kZWRWaWRlb0ZyYW1lKXtjb25zdCBvPSgocz1QW3QuZ2V0TWV0YWRhdGEoKS5wYXlsb2FkVHlwZV0pPT1udWxsP3ZvaWQgMDpzLnRvVXBwZXJDYXNlKCkpfHwoeT09bnVsbD92b2lkIDA6eS50b1VwcGVyQ2FzZSgpKTtpZihvPT09IkgyNjQiKXtjb25zdCBhPVEodCxvKTsoYS50aW1lY29kZXx8YS51bnJlZ2lzdGVyZWR8fCgocj1hLnNlaVBpY1RpbWluZ1RpbWVDb2RlQXJyYXkpPT1udWxsP3ZvaWQgMDpyLmxlbmd0aCk+MCkmJnNlbGYucG9zdE1lc3NhZ2Uoe2V2ZW50OiJtZXRhZGF0YSIsbWlkOm4sbWV0YWRhdGE6YX0pfXNlbGYucG9zdE1lc3NhZ2Uoe2V2ZW50OiJjb21wbGV0ZSIsZnJhbWU6e3R5cGU6dC50eXBlLHRpbWVzdGFtcDp0LnRpbWVzdGFtcCxkYXRhOnQuZGF0YX19KX1lLmVucXVldWUodCl9fSl9ZnVuY3Rpb24gTSgpe09iamVjdC5rZXlzKHYpLnNvcnQoKS5qb2luKCk9PT1JLnNvcnQoKS5qb2luKCkmJihiLnNoaWZ0KCksST1bXSl9ZnVuY3Rpb24gYWUobil7Y29uc3QgdD1uZXcgRGF0ZSgpLmdldFRpbWUoKTt2W25dPXQsT2JqZWN0LmtleXModikuZmlsdGVyKHM9PnQtdltzXT5vZSkuZm9yRWFjaChzPT57ZGVsZXRlIHZbc10sZGVsZXRlIElbc119KSxNKCl9ZnVuY3Rpb24gTigpe3JldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtzdGFydCgpe30sZmx1c2goKXt9LGFzeW5jIHRyYW5zZm9ybShuLHQpe2lmKG4gaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3Qgcz1uLmdldE1ldGFkYXRhKCkuc3luY2hyb25pemF0aW9uU291cmNlO2lmKGFlKHMpLCFJLmluY2x1ZGVzKHMpJiZiLmxlbmd0aCl0cnl7aWYoIS8oaDI2WzRdKS8udGVzdCh5KSl0aHJvdyBuZXcgRXJyb3IoIlNlbmRpbmcgbWV0YWRhdGEgaXMgbm90IHN1cHBvcnRlZCB3aXRoIGFueSBvdGhlciBjb2RlYyBvdGhlciB0aGFuIEguMjY0Iik7YlswXS51dWlkPT09TCYmKGJbMF0udGltZWNvZGU9RGF0ZS5ub3coKSksaWUoYlswXSxuKSxJLnB1c2gocyl9Y2F0Y2gocil7Y29uc29sZS5lcnJvcihyKX1maW5hbGx5e00oKX19dC5lbnF1ZXVlKG4pfX0pfWZ1bmN0aW9uIGsoe3JlYWRhYmxlOm4sd3JpdGFibGU6dH0sZSl7bi5waXBlVGhyb3VnaChlKS5waXBlVG8odCl9YWRkRXZlbnRMaXN0ZW5lcigicnRjdHJhbnNmb3JtIixuPT57bGV0IHQ7aWYobi50cmFuc2Zvcm1lci5vcHRpb25zLm5hbWU9PT0ic2VuZGVyVHJhbnNmb3JtIil5PW4udHJhbnNmb3JtZXIub3B0aW9ucy5jb2RlYyx0PU4oKTtlbHNlIGlmKG4udHJhbnNmb3JtZXIub3B0aW9ucy5uYW1lPT09InJlY2VpdmVyVHJhbnNmb3JtIilQPW4udHJhbnNmb3JtZXIub3B0aW9ucy5wYXlsb2FkVHlwZUNvZGVjfHx7fSx5PW4udHJhbnNmb3JtZXIub3B0aW9ucy5jb2RlY3x8IiIsdD1IKG4udHJhbnNmb3JtZXIub3B0aW9ucy5taWQpO2Vsc2UgcmV0dXJuO2sobi50cmFuc2Zvcm1lcix0KX0pLGFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG49Pntjb25zdHthY3Rpb246dH09bi5kYXRhO3N3aXRjaCh0KXtjYXNlImluc2VydGFibGUtc3RyZWFtcy1zZW5kZXIiOnk9bi5kYXRhLmNvZGVjLGsobi5kYXRhLE4oKSk7YnJlYWs7Y2FzZSJpbnNlcnRhYmxlLXN0cmVhbXMtcmVjZWl2ZXIiOlA9bi5kYXRhLnBheWxvYWRUeXBlQ29kZWN8fHt9LHk9bi5kYXRhLmNvZGVjfHwiIixrKG4uZGF0YSxIKG4uZGF0YS5taWQpKTticmVhaztjYXNlIm1ldGFkYXRhLXNlaS11c2VyLWRhdGEtdW5yZWdpc3RlcmVkIjpiLnB1c2goe3V1aWQ6bi5kYXRhLnV1aWQscGF5bG9hZDpuLmRhdGEucGF5bG9hZH0pO2JyZWFrfX0pfSkoKTsK",ge=("undefined"==typeof self?"undefined":W(self))<"u"&&self.Blob&&new Blob([function(t){return I.from(atob(t),(function(t){return t.charCodeAt(0)}))}(de)],{type:"text/javascript;charset=utf-8"});function me(t){var n;try{if(!(n=ge&&(self.URL||self.webkitURL).createObjectURL(ge)))throw"";var i=new R(n,{name:null==t?void 0:t.name});return i.addEventListener("error",(function(){(self.URL||self.webkitURL).revokeObjectURL(n)})),i}catch(n){return new R("data:text/javascript;base64,"+de,{name:null==t?void 0:t.name})}finally{n&&(self.URL||self.webkitURL).revokeObjectURL(n)}}var we=gt.get("Publish"),pe={mediaStream:null,bandwidth:0,metadata:!1,disableVideo:!1,disableAudio:!1,codec:mr.H264,simulcast:!1,scalabilityMode:null,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},ye=function(t){function n(n,i,r){return void 0===r&&(r=!0),n&&we.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),t.call(this,null,i,we,r)||this}Rt(n,t);var i=n.prototype;return i.connect=function(t){void 0===t&&(t=pe);var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return r=ce.object({sourceId:ce.string(),stereo:ce.boolean(),dtx:ce.boolean(),absCaptureTime:ce.boolean(),dependencyDescriptor:ce.boolean(),mediaStream:ce.alternatives().try(ce.array().items(ce.object()),ce.object()),bandwidth:ce.number(),metadata:ce.boolean(),disableVideo:ce.boolean(),disableAudio:ce.boolean(),codec:(i=ce.string()).valid.apply(i,Ut(k.values(mr))),simulcast:ce.boolean(),scalabilityMode:ce.string(),peerConfig:ce.object(),record:ce.boolean(),events:ce.array().items(ce.string().valid("active","inactive","viewercount")),priority:ce.number()}),e=r.validate(t),u=e.error,s=e.value,u&&we.warn(u,s),n.options=b(m(m({},pe),t),{peerConfig:m(m({},pe.peerConfig),t.peerConfig),setSDPToPeer:!1}),n.options.metadata=n.options.metadata&&n.options.codec===mr.H264&&!n.options.disableVideo,[4,n.initConnection({migrate:!1})];case 1:return o.sent(),[2]}}))}))()},i.reconnect=function(n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){return i.options.mediaStream=null!=(e=null==(r=i.webRTCPeer)?void 0:r.getTracks())?e:i.options.mediaStream,t.prototype.reconnect.call(i,n),[2]}))}))()},i.replaceConnection=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return we.info("Migrating current connection"),t.options.mediaStream=null!=(i=null==(n=t.webRTCPeer)?void 0:n.getTracks())?i:t.options.mediaStream,[4,t.initConnection({migrate:!0})];case 1:return r.sent(),[2]}}))}))()},i.record=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.recordingAvailable?(t.options.record=!0,[4,null==(n=t.signaling)?void 0:n.cmd("record")]):[3,2];case 1:return i.sent(),we.info("Broadcaster start recording"),[3,3];case 2:we.error("Record not available"),i.label=3;case 3:return[2]}}))}))()},i.unrecord=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.recordingAvailable?(t.options.record=!1,[4,null==(n=t.signaling)?void 0:n.cmd("unrecord")]):[3,2];case 1:return i.sent(),we.info("Broadcaster stop recording"),[3,3];case 2:we.error("Unrecord not available"),i.label=3;case 3:return[2]}}))}))()},i.stop=function(){var n;t.prototype.stop.call(this),null==(n=this.worker)||n.terminate(),this.worker=null},i.initConnection=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d,g,m,w;return Ht(this,(function(p){switch(p.label){case 0:if(we.debug("Broadcast option values: ",n.options),n.stopReconnection=!1,!n.options.mediaStream)throw we.error("Error while broadcasting. MediaStream required"),new y("MediaStream required");if(!t.migrate&&n.isActive())throw we.warn("Broadcast currently working"),new y("Broadcast currently working");p.label=1;case 1:return p.trys.push([1,3,,4]),[4,n.tokenGenerator()];case 2:return u=p.sent(),n.options.peerConfig.iceServers=null==u?void 0:u.iceServers,n.options.peerConfig.encodedInsertableStreams=n.options.metadata,[3,4];case 3:throw s=p.sent(),we.error("Error generating token."),s instanceof Hr&&(401!==s.status&&n.autoReconnect?n.reconnect():n.stopReconnection=!0),s;case 4:if(!u)throw we.error("Error while broadcasting. Publisher data required"),new y("Publisher data required");if(o=ee(u.jwt),n.streamName=o.millicast.streamName,n.recordingAvailable=o[se.atob("bWlsbGljYXN0")].record,n.options.record&&!n.recordingAvailable)throw we.error("Error while broadcasting. Record option detected but recording is not available"),new y("Record option detected but recording is not available");return a=new Zr({streamName:n.streamName,url:"".concat(u.urls[0],"?token=").concat(u.jwt)}),[4,(c=t.migrate?new Ar:n.webRTCPeer).createRTCPeer(n.options.peerConfig,yr)];case 5:return p.sent(),null==(i=n.stopReemitingWebRTCPeerInstanceEvents)||i.call(n),null==(r=n.stopReemitingSignalingInstanceEvents)||r.call(n),n.stopReemitingWebRTCPeerInstanceEvents=Ft(c,n,[br.connectionStateChange]),n.stopReemitingSignalingInstanceEvents=Ft(a,n,[jr]),h=c.getRTCLocalSDP(n.options),f=a.connect(),[4,ut.all([h,f])];case 6:return e=p.sent(),v=e[0],n.options.metadata&&(n.worker||(n.worker=new me),n.getRTCPeerConnection().getSenders().forEach((function(t){if(le)t.transform=new RTCRtpScriptTransform(n.worker,{name:"senderTransform",codec:n.options.codec});else if(ve){var i=t.createEncodedStreams(),r=i.readable,e=i.writable;n.worker.postMessage({action:"insertable-streams-sender",codec:n.options.codec,readable:r,writable:e},[r,e])}}))),l=n.signaling,n.signaling=a,d=n.signaling.publish(v,n.options),g=c.peer.setLocalDescription(c.sessionDescription),[4,ut.all([d,g])];case 7:return e=p.sent(),m=e[0],!n.options.disableVideo&&n.options.bandwidth>0&&(m=c.updateBandwidthRestriction(m,n.options.bandwidth)),[4,c.setRTCRemoteSDP(m)];case 8:return p.sent(),we.info("Broadcasting to streamName: ",n.streamName),w=n.webRTCPeer,n.webRTCPeer=c,n.setReconnect(),t.migrate&&n.webRTCPeer.on(br.connectionStateChange,(function(t){var n,i;["connected","disconnected","failed","closed"].includes(t)&&(null==(n=null==l?void 0:l.close)||n.call(l),null==(i=null==w?void 0:w.closeRTCPeer)||i.call(w),l=w=null)})),[2]}}))}))()},i.sendMetadata=function(t,n){var i;if(void 0===n&&(n="d40e38ea-d419-4c62-94ed-20ac37b4e4fa"),null!=(i=this.options)&&i.metadata&&this.worker)this.worker.postMessage({action:"metadata-sei-user-data-unregistered",uuid:n,payload:t});else{var r="Could not send metadata due to:";this.options?this.options.metadata?this.worker||(r+="\n- Stream not being published."):(r+="\n- Metadata option is not enabled.",this.options.codec!==mr.H264&&(r+="\n- Incompatible codec. Only H264 available."),this.options.disableVideo&&(r+="\n- Video disabled.")):r+="\n- Stream not being published.",we.warn(r)}},n}(he);function _e(t){if(!t)return new I;for(var n=t.length,i=new I(n/2),r=0;r<n;r+=2)i[r/2]=T(t.substr(r,2),16);return i}function be(t,n,i){if(k.prototype.hasOwnProperty.call(t,i)&&k.prototype.hasOwnProperty.call(n,i)){var r=t[i];t[i]=n[i],n[i]=r}else console.error('One or both objects do not have the property "'.concat(i,'"'))}function ke(t,n,i,r){return new(i||(i=ut))((function(e,u){function s(t){try{a(r.next(t))}catch(t){u(t)}}function o(t){try{a(r.throw(t))}catch(t){u(t)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,o)}a((r=r.apply(t,n||[])).next())}))}var Ae,Te=Se;function Se(t,n){var i=Me();return(Se=function(t,n){return i[t-=257]})(t,n)}!function(){for(var t=Se,n=Me();;)try{if(T(t(266))/1*(-T(t(261))/2)+T(t(258))/3*(-T(t(264))/4)+-T(t(267))/5*(T(t(274))/6)+T(t(260))/7*(T(t(268))/8)+T(t(270))/9+-T(t(277))/10+T(t(263))/11==303379)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Ee=d&&d[Te(276)]||"",Ie=d&&d.vendor||"",Re=!(null==f||!f[Te(273)]),Ce=Ee[Te(278)](Te(257)),Ne=!Ce&&Ie[Te(278)](Te(259)),xe=!Ce&&!Ne&&Ee.includes(Te(272)),De=!Ce&&!Ne&&!xe&&Ee[Te(278)](Te(275)),Pe=(null===(Ae=null==d?void 0:d[Te(262)])||void 0===Ae?void 0:Ae[Te(271)])||(null==d?void 0:d[Te(271)])||"";function Me(){var t=["2403660vsbxKa","includes","Firefox","653511krAkNS","Apple","63eEorAu","2iQvmqu","userAgentData","13393182jRLBxS","4fTXBZP","Win32","74923SyWRbn","1345hVdNEb","21688LwGppn","Windows","132498ZoOcLo","platform","Edg","RTCRtpScriptTransform","9372dNMWWf","Chrome","userAgent"];return(Me=function(){return t})()}var Be={supportsRtpScriptTransform:Re,isFirefox:Ce,isSafari:Ne,isEdge:xe,isChrome:De,platform:Pe,isWindows:Pe===Te(269)||Pe===Te(265)},Oe=Le;function Le(t,n){var i=We();return(Le=function(t,n){return i[t-=185]})(t,n)}!function(){for(var t=Le,n=We();;)try{if(-T(t(380))/1+-T(t(354))/2+-T(t(464))/3*(T(t(486))/4)+-T(t(253))/5+T(t(377))/6+T(t(321))/7*(-T(t(285))/8)+-T(t(444))/9*(-T(t(279))/10)==657542)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Fe=Be[Oe(496)];function Ve(t,n){var i=Oe,r=new I((0|t.byteLength)+(0|n[i(442)]));return r[i(311)](t,0),r[i(311)](n,0|t.byteLength),r}var Ue=function(t,n,i,r){var e=Oe,u=r[e(203)]||1;n*=u,i*=u;var s,o=(s=t)instanceof ArrayBuffer?s:s[Oe(492)],a=(t[e(447)]||0)+t[e(442)],c=(t[e(447)]||0)+n,h=A[e(389)](0,A[e(487)](c,a)),f=A[e(487)](h+A[e(389)](i,0),a);return new r(o,h/=u,(f/=u)-h)};function We(){var t=["[MSE] source buffer error","ManagedMediaSource","BYTES_PER_ELEMENT","types","ready","valid","Num frames in chunk: ","readBits","getTrackID","mvhd","parsePPS","encrypted","dependsOn","payload","len","moov","VMHD","mse","volume","h264","setUint16","tfdt","nextDts","avc1.","audioSampleAuxInfo","message","endMSE","width","hdlr","warn","traf","readBoolean","shift","mseReady","revokeObjectURL","smhd","dts","indexOf","<PROTECTINFO>","webkitsourceclose","onMSEClose","[H264Parser] IDR without SPS/PPS, not suitable for recovery",'VALUE="',"createObjectURL","</KID>","mdhd","SMHD","getFramePayload","tkhd","flush","clRtcDrmDebugLog","getBits","2598770DahMdb","dbgQueue","dispatch","DINF","http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader","isReady","sps","nalus","endOfStream","toString","UNKNOWN","Opus","minf","onError","stco","STSC","buffered","</KIDS>","initSegment","dinf","org.w3.clearkey","mp4track","keyFrame","units","mseEnded","videoSampleAuxInfo","41695210Plpuuo","splice","ended","bitLength","seq","url","8YyaFaO","com.apple.fps","[MSE] error: ","bitsAvailable","</WRMHEADER>","trex","setData","buffer error","slice","length","readUByte","mp4a","Unsupported DRM type ","mdia","fromCharCode",'<WRMHEADER xmlns="',"index","string","both","NDR","dOps","cenc","getPayload","bind","PPS","sourceBuffer","set","Checking codec","releaseBuffer","tenc","trak","flags",'/mp4; codecs="',"[H264Parser] Both IDR and non-IDR VCL NALUs found in the same frame","clRtcDrmCreateMediaDump","STSD","6352549TgZLxu","initBrowser","IDR","trun"," - ","start","mediaSource","startsWith","stype","readSPS","addEventListener","schi","encv","createElement","getVideoFrames","onReady","href","sourceopen","setUint32","vmhd","FTYP","schm","getData","toISOString","remuxer","track","skipScalingList","STSZ","getSize","addSourceBuffer","[MSE] buffer error:","appendBufferError","off","2392886zJoPkf","destroy","sdtp","audiosamplerate",": NRI: ","reportDiscontinuity","extractNALUs","No A/V data","pps","senc","saio","concat","config","ftyp","parseNAL","esds","error","feed","Browser does not support codec","4.3.0.0","skipUEG","mp4","end","2232924PKvVOf","updating","options","227868XbMqAn","prototype","createBuffer","info","MediaSource","timestamp","mvex","isfmb","opus","max","stsz","POSITIVE_INFINITY","saiz","timescale","call","encryption","height","jmuxer","bufferControllers","open","patchSampleAuxinfo","queue","stsd","onBufferError","frameCounter","ntype","remux","getPayloadSize","isSupported","</LA_URL>","waitingForIdr","box","idr"," samples - expected 1","tracks","stbl","getNri",'<KID ALGID="AESCTR" ',"download","readUInt","join","com.microsoft.playready.recommendation",'" version="',"remuxController","Received ","frma","resetTrack","disableRemotePlayback","</DATA>","mfhd","pssh","charCodeAt","drm","mediaDuration","video","readyToDecode","from","SPS","skipLZ","data","keySystem","[MSE] sourceclose","byteLength","STTS","9mESMVl","Buffered range ","samples","byteOffset","parseHeader","codec","node","audio","Failure: Browser doesn't support MSE/MMS","subarray","replaceAll","downloadToFile","onBuffer","skipBits","mdat","isKeyframe","moof","mode","push","STCO","9ffcUcC","listener","isReset","map","enca","type","<LA_URL>","parseSPS","getElementById","no video element were found to render, provide a valid video element","sinf","doAppend","HDLR_TYPES","videoElement","stts","keyId","trackTypes","TYPES","remove","size","AUD","src","1376748eVkTXq","min","tfhd","initialized","offAll","appendBuffer","buffer","nri","skipEG","isvcl","isSafari","isTypeSupported","readyState","abort","apply","reduce","assign","calculateExpectedSizeFromSai","duration","generatePlayReadyHeader","readUEG","onMSEOpen","sampleAuxInfo","SEI","irrecoverableError","channelCount","saiIvSize","stsc"];return(We=function(){return t})()}function je(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=1/0),Ue(t,n,i,I)}function Ze(t){var n=Oe,i=Array[n(436)](t)[n(467)]((function(t){return t[n(431)](0)}));return new I(i)}f[Oe(455)]=function(t,n,i){void 0===i&&(i="application/octet-stream");var r=Oe,e=v[r(334)]("a"),u=new Blob([t],{type:i});e[r(337)]=URL[r(244)](u),e[r(418)]=n,e.click(),URL[r(235)](e[r(337)])};var Xe=function(t,n,i,r,e,u,s,o,a,c){function h(t){var n=Oe;this.payload=t,this[n(493)]=(96&this.payload[0])>>5,this[n(405)]=31&this[n(214)][0],this[n(495)]=1==this.ntype||5==this[n(405)],this[n(329)]="",this[n(387)]=!1}var f=h.prototype;return f.toString=function(){var t=Oe;return h[t(469)](this)+t(358)+this[t(416)]()},f.getNri=function(){return this[Oe(493)]},f[u]=function(){return this[Oe(405)]},f[s]=function(){var t=Oe;return this[t(405)]===h[t(323)]},f[o]=function(){return this[Oe(214)]},f[a]=function(){var t=Oe;return this[t(214)][t(442)]},f.getSize=function(){return 4+this[Oe(407)]()},f[c]=function(){var t=Oe,n=new I(this.getSize());return new DataView(n.buffer)[t(339)](0,this.getSize()-4),n[t(311)](this[t(307)](),4),n},h.type=function(t){var n=Oe;return t[n(405)]in h[n(481)]?h[n(481)][t[n(405)]]:n(263)},xt(h,null,[{key:t,get:function(){return 1}},{key:n,get:function(){return 5}},{key:i,get:function(){return 6}},{key:"SPS",get:function(){return 7}},{key:"PPS",get:function(){return 8}},{key:r,get:function(){return 9}},{key:e,get:function(){var t,n=Oe;return sn(t={},h[n(323)],n(323)),sn(t,h.SEI,n(196)),sn(t,h.SPS,n(437)),sn(t,h[n(309)],n(309)),sn(t,h[n(304)],n(304)),sn(t,h[n(484)],n(484)),t}}]),h}(Oe(304),Oe(323),Oe(196),Oe(484),Oe(481),Oe(469),Oe(459),Oe(307),Oe(407),Oe(343)),Ge=function(){function t(t){var n=Oe;this[n(439)]=t,this[n(301)]=0,this.bitLength=8*t[n(442)]}var n=t.prototype;return n[Oe(291)]=function(t){var n=Oe;this.data=t,this[n(301)]=0,this[n(282)]=8*t[n(442)]},n.skipBits=function(t){if(this[Oe(288)]<t)return!1;this.index+=t},n[Oe(208)]=function(t,n){return void 0===n&&(n=!0),this.getBits(t,this.index,n)},n[Oe(252)]=function(t,n,i){void 0===i&&(i=!0);var r=Oe;if(this.bitsAvailable<t)return 0;var e=n%8,u=this[r(439)][n/8|0]&255>>>e,s=8-e;if(s>=t)return i&&(this.index+=t),u>>s-t;i&&(this.index+=s);var o=t-s;return u<<o|this[r(252)](o,n+s,i)},n[Oe(438)]=function(){var t,n=Oe;for(t=0;t<this.bitLength-this[n(301)];++t)if(0!==this.getBits(1,this[n(301)]+t,!1))return this.index+=t,t;return t},n[Oe(374)]=function(){var t=Oe;this[t(457)](1+this[t(438)]())},n[Oe(494)]=function(){var t=Oe;this[t(457)](1+this[t(438)]())},n.readUEG=function(){var t=Oe,n=this[t(438)]();return this[t(208)](n+1)-1},n.readEG=function(){var t=this[Oe(193)]();return 1&t?1+t>>>1:-1*(t>>>1)},n.readBoolean=function(){return 1===this[Oe(208)](1)},n[Oe(295)]=function(t){return void 0===t&&(t=1),this[Oe(208)](8*t)},n.readUShort=function(){return this[Oe(208)](16)},n[Oe(419)]=function(){return this[Oe(208)](32)},xt(t,[{key:Oe(288),get:function(){var t=Oe;return this[t(282)]-this[t(301)]}}]),t}(),He=function(t,n,i,r,e,u){function s(t){var n=Oe;this.remuxer=t,this[n(346)]=t[n(274)]}var o=s.prototype;return o[r]=function(t){var n=Oe,i=s[n(330)](new I(t));this[n(346)][n(228)]=i[n(228)],this[n(346)][n(396)]=i[n(396)],this[n(346)].sps=[new I(t)],this[n(346)][n(449)]=n(224);for(var r=new DataView(t.buffer,t[n(447)]+1,4),e=0;e<3;++e){var u=r.getUint8(e)[n(262)](16);u.length<2&&(u="0"+u),this.track[n(449)]+=u}},o[e]=function(t){this[Oe(346)].pps=[new I(t)]},o[u]=function(t){var n=Oe;if(!t)return!1;var i=!1;switch(t.type()){case Xe[n(323)]:case Xe[n(304)]:i=!0;break;case Xe[n(309)]:!this[n(346)][n(362)]&&(this.parsePPS(t[n(307)]()),!this[n(345)][n(435)]&&this[n(346)][n(362)]&&this[n(346)][n(259)]&&(this[n(345)][n(435)]=!0)),i=!0;break;case Xe[n(437)]:!this[n(346)][n(259)]&&(this[n(471)](t[n(307)]()),!this[n(345)][n(435)]&&this[n(346)][n(362)]&&this.track.sps&&(this[n(345)][n(435)]=!0)),i=!0;break;case Xe[n(484)]:break;case Xe[n(196)]:i=!0}return i},s[t]=function(t,n){for(var i=Oe,r=[],e=!1,u=!1,s=!1,o=!1,a=0,c=0,h=0,f=[];a<=t.byteLength;){if(a<t.byteLength){var v=t[a++];0!==v?(1===v&&c>1&&(h=c>2?4:3,f.push(a)),c=0):++c}else h=0,f.push(a++);if(f.length>1){var l=f.shift(),d=f[0]-h;if(l<d){var g=!1,m=31&t[l];if(m===Xe.NDR?u=!0:m===Xe.IDR?e=!0:m===Xe.SPS?(g=s,s=!0):m===Xe.PPS&&(g=o,o=!0),!g)if(!n||m!==Xe.NDR&&m!==Xe.IDR)r.push(t.subarray(l,d));else{var w=new I(d-l),p=0;for(a=l,c=0;a<d;){var y=t[a++];c>1&&3===y&&(c=0,y=t[a++]),0!==y?c=0:++c,w[p++]=y}r.push(w.subarray(0,p))}}}}var _=!0,b=!1;return u||e?u&&e&&(console[i(230)](i(318)),_=!1):(console[i(230)]("[H264Parser] No VCL NALUs found"),_=!1),e&&(s&&o?b=!0:console[i(230)](i(242))),{valid:_,idr:b,nalus:r}},s.skipScalingList=function(t,n){for(var i=8,r=8,e=0;e<n;e++)0!==r&&(r=(i+t.readEG()+256)%256),i=0===r?i:r},s[n]=function(t){var n,i,r,e,u,o,a=Oe,c=new Ge(t),h=0,f=0,v=0,l=0,d=1;if(c[a(295)](),n=c.readUByte(),c[a(208)](5),c[a(457)](3),c.readUByte(),c[a(374)](),100===n||110===n||122===n||244===n||44===n||83===n||86===n||118===n||128===n){var g=c[a(193)]();if(3===g&&c[a(457)](1),c.skipUEG(),c[a(374)](),c[a(457)](1),c[a(232)]()){o=3!==g?8:12;for(var m=0;m<o;++m)c[a(232)]()&&(m<6?s[a(347)](c,16):s[a(347)](c,64))}}c[a(374)]();var w=c.readUEG();if(0===w)c[a(193)]();else if(1===w){c.skipBits(1),c[a(494)](),c[a(494)](),i=c[a(193)]();for(var p=0;p<i;++p)c.skipEG()}if(c.skipUEG(),c[a(457)](1),r=c[a(193)](),e=c.readUEG(),0===(u=c[a(208)](1))&&c[a(457)](1),c[a(457)](1),c[a(232)]()&&(h=c[a(193)](),f=c[a(193)](),v=c[a(193)](),l=c.readUEG()),c.readBoolean()){if(c[a(232)]()){var y;switch(c[a(295)]()){case 1:y=[1,1];break;case 2:y=[12,11];break;case 3:y=[10,11];break;case 4:y=[16,11];break;case 5:y=[40,33];break;case 6:y=[24,11];break;case 7:y=[20,11];break;case 8:y=[32,11];break;case 9:y=[80,33];break;case 10:y=[18,11];break;case 11:y=[15,11];break;case 12:y=[64,33];break;case 13:y=[160,99];break;case 14:y=[4,3];break;case 15:y=[3,2];break;case 16:y=[2,1];break;case 255:y=[c[a(295)]()<<8|c.readUByte(),c[a(295)]()<<8|c[a(295)]()]}y&&y[0]>0&&y[1]>0&&(d=y[0]/y[1])}c.readBoolean()&&c[a(457)](1),c[a(232)]()&&(c.skipBits(4),c[a(232)]()&&c[a(457)](24)),c.readBoolean()&&(c.skipUEG(),c[a(374)]()),c.readBoolean()&&(c[a(419)](),c[a(419)](),c.readBoolean())}return{width:A.ceil((16*(r+1)-2*h-2*f)*d),height:(2-u)*(e+1)*16-(u?2:4)*(v+l)}},s[i]=function(t){var n=Oe,i=new Ge(t[n(307)]());i.readUByte(),t.isfmb=0===i[n(193)](),t.stype=i[n(193)]()},s}(Oe(360),Oe(330),Oe(448),Oe(471),Oe(211),Oe(368)),ze=function(){function t(t){var n=Oe;this[n(465)]={},this[n(469)]=""|t}var n=t.prototype;return n.on=function(t,n){var i=Oe;return!this[i(465)][t]&&(this[i(465)][t]=[]),this[i(465)][t][i(462)](n),!0},n[Oe(353)]=function(t,n){var i=Oe;if(this[i(465)][t]){var r=this.listener[t][i(238)](n);return r>-1&&this[i(465)][t][i(280)](r,1),!0}return!1},n[Oe(490)]=function(){this[Oe(465)]={}},n[Oe(255)]=function(t,n){var i=Oe;return!!this.listener[t]&&(this[i(465)][t][i(467)]((function(t){t[i(187)](null,[n])})),!0)},t}(),Ye=function(t,n,i,r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b,k,A,T){function S(t){var n,i,r=Oe;for(var e in this[r(432)]=t,this[r(199)]={video:(null==(n=t[r(366)][r(434)])?void 0:n.encryption)===r(306)?16:0,audio:(null==(i=t[r(366)][r(451)])?void 0:i.encryption)===r(306)?16:0},S.types={avc1:[],encv:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],Opus:[],dOps:[],enca:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],pssh:[],sinf:[],frma:[],schm:[],schi:[],tenc:[],saiz:[],saio:[],senc:[]},S[r(204)])S[r(204)][e]=[e[r(431)](0),e[r(431)](1),e.charCodeAt(2),e[r(431)](3)];var u=new I([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),s=new I([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);S[r(476)]={video:u,audio:s};var o=new I([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new I([0,0,0,0,0,0,0,0]);S[r(443)]=S[r(268)]=S[r(463)]=a,S[r(348)]=new I([0,0,0,0,0,0,0,0,0,0,0,0]),S[r(217)]=new I([0,0,0,1,0,0,0,0,0,0,0,0]),S.SMHD=new I([0,0,0,0,0,0,0,0]),S[r(320)]=new I([0,0,0,0,0,0,0,1]);var c=new I([105,115,111,109]),h=new I([97,118,99,49]),f=new I([0,0,0,1]);S[r(341)]=S[r(411)](S[r(204)][r(367)],c,f,c,h),S.DINF=S[r(411)](S[r(204)][r(272)],S[r(411)](S[r(204)].dref,o))}var E=S.prototype;return E.hdlr=function(t){var n=Oe;return S[n(411)](S[n(204)][n(229)],S[n(476)][t])},E.mdat=function(t){var n=Oe;return S.box(S.types[n(458)],t)},E[n]=function(t,n){var i=Oe;return S.box(S[i(204)][i(246)],new I([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t,0,0,0,0,85,196,0,0]))},E[i]=function(t){var n=Oe;return S[n(411)](S[n(204)][n(298)],this[n(246)](t[n(393)],t.duration),this[n(229)](t[n(469)]),this[n(265)](t))},E[r]=function(t){var n=Oe;return S[n(411)](S.types[n(429)],new I([0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t]))},E[e]=function(t){var n=Oe;return t[n(469)]===n(451)?S[n(411)](S[n(204)][n(265)],S.box(S[n(204)][n(236)],S[n(247)]),S.DINF,this[n(415)](t)):S[n(411)](S[n(204)][n(265)],S[n(256)],this[n(415)](t),S[n(411)](S[n(204)][n(340)],S[n(217)]))},E[u]=function(t,n,i){var r=Oe;return S[r(411)](S[r(204)][r(460)],this[r(429)](t),this.traf(i,n))},E.moov=function(t,n,i){for(var r=Oe,e=t[r(294)],u=[];e--;)u[e]=this[r(315)](t[e]);return S[r(411)][r(187)](null,[S[r(204)].moov,this[r(210)](i,n),this[r(430)](t)].concat(u)[r(365)](this[r(386)](t)))},E.mvex=function(t){for(var n=Oe,i=t[n(294)],r=[];i--;)r[i]=this[n(290)](t[i]);return S.box[n(187)](null,[S[n(204)].mvex].concat(r))},E[s]=function(t,n){var i=Oe,r=new I([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return S[i(411)](S[i(204)].mvhd,r)},E[o]=function(t){for(var n=Oe,i=t[n(446)]||[],r=new I(4+i.length),e=0;e<i.length;e++){var u=i[e][n(316)];r[e+4]=u[n(213)]<<4|u.isDependedOn<<2|u.hasRedundancy}return S.box(S.types.sdtp,r)},E[a]=function(t){var n=Oe;return S[n(411)](S.types[n(415)],this[n(402)](t),S.box(S.types[n(478)],S[n(443)]),S.box(S.types[n(200)],S[n(268)]),S[n(411)](S[n(204)][n(390)],S[n(348)]),S[n(411)](S[n(204)][n(267)],S[n(463)]))},E[c]=function(t){var n,i,r,e=Oe,u=[],s=[];for(n=0;n<t[e(259)][e(294)];n++)r=(i=t[e(259)][n])[e(442)],u.push(r>>>8&255),u[e(462)](255&r),u=u[e(365)](Array[e(381)].slice.call(i));for(n=0;n<t.pps.length;n++)r=(i=t.pps[n])[e(442)],s.push(r>>>8&255),s[e(462)](255&r),s=s[e(365)](Array[e(381)][e(293)][e(394)](i));var o=S[e(411)](S[e(204)].avcC,new I([1,u[3],u[4],u[5],255,224|t[e(259)][e(294)]][e(365)](u)[e(365)]([t[e(362)].length]).concat(s))),a=t[e(228)],c=t[e(396)],h=S[e(411)](S[e(204)][e(474)],S[e(411)](S.types[e(425)],new I([97,118,99,49])),S[e(411)](S[e(204)][e(342)],new I([0,0,0,0].concat(Ut(Ze(this[e(432)][e(366)].video[e(395)])),[0,1,0,0]))),S[e(411)](S[e(204)].schi,this[e(314)]("video")));return S[e(411)](S[e(204)][e(333)],new I([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,a>>>8&255,255&a,c>>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,65,86,67,32,67,111,100,105,110,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]),o,h)},E[h]=function(t){var n=Oe,i=t.config[n(442)],r=new I(26+i+3);return r[n(311)]([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5,i]),r[n(311)](t[n(366)],26),r[n(311)]([6,1,2],26+i),r},E[f]=function(t){var n=Oe,i=t.audiosamplerate;return S[n(411)](S[n(204)][n(296)],new I([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t[n(198)],0,16,0,0,0,0,i>>>8&255,255&i,0,0]),S[n(411)](S[n(204)][n(369)],this.esds(t)))},E.dOps=function(t){var n=Oe,i=t[n(357)];return new I([0,t[n(198)],1,56,0,0,i>>>8&255,255&i,0,0,0])},E[v]=function(t){var n=Oe,i=t[n(357)];return S[n(411)](S[n(204)].Opus,new I([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t[n(198)],0,16,0,0,0,0,i>>>8&255,255&i,0,0]),S[n(411)](S.types[n(305)],this[n(305)](t)))},E[l]=function(t){var n=Oe,i=S[n(411)](S[n(204)].dOps,this[n(305)](t)),r=S[n(411)](S[n(204)].sinf,S[n(411)](S[n(204)].frma,new I([79,112,117,115])),S[n(411)](S[n(204)][n(342)],new I([0,0,0,0].concat(Ut(Ze(this.drm[n(366)].audio[n(395)])),[0,1,0,0]))),S[n(411)](S[n(204)][n(332)],this[n(314)](n(451)))),e=t[n(357)];return S[n(411)](S[n(204)][n(468)],new I([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t[n(198)],0,16,0,0,0,0,e>>>8&255,255&e,0,0]),i,r)},E[d]=function(t){var n=Oe;return t[n(469)]===n(451)?S.box(S[n(204)][n(402)],S[n(320)],t[n(212)]?this[n(468)](t):this[n(264)](t)):S.box(S[n(204)][n(402)],S[n(320)],this.encv(t))},E[g]=function(t){var n=Oe,i=t.id,r=t[n(191)],e=t.width,u=t[n(396)],s=t[n(219)];return S[n(411)](S[n(204)][n(249)],new I([0,0,0,7,0,0,0,0,0,0,0,0,i>>>24,i>>>16&255,i>>>8&255,255&i,0,0,0,0,r>>>24,r>>>16&255,r>>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,255&s,s%1*10&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,e>>>8&255,255&e,0,0,u>>>8&255,255&u,0,0]))},E[m]=function(t,n){var i,r=Oe,e=t.id,u=t[r(446)][0][r(483)],s=t[r(446)][0][r(191)],o=t[r(446)][0].flags,a=S[r(411)](S[r(204)][r(488)],new I([0,2,0,58,e>>>24,e>>>16&255,e>>>8&255,255&e,0,0,0,1,s>>>24,e>>>16&255,s>>>8&255,255&s,u>>>24,u>>>16&255,u>>>8&255,255&u,0,o.isNonSync,0,0])),c=S[r(411)](S[r(204)][r(222)],new I([0,0,0,0,n>>>24,n>>>16&255,n>>>8&255,255&n]));if(t[r(212)]){var h,f;if(t[r(469)]===r(434)?(h=!0,f=this[r(199)][r(434)]+(null==(i=t[r(446)][0].sampleAuxInfo)?void 0:i.byteLength)):(h=!1,f=this[r(199)][r(451)]),f>0){var v=this[r(392)](f),l=this[r(363)](t[r(446)],h),d=v.length+20+l.length+a[r(294)]+c[r(294)]+8+16+8+8,g=this[r(324)](t,d);return S[r(411)](S[r(204)][r(231)],a,c,g,v,this[r(364)](d-l[r(294)]+g[r(294)]+8),l)}var m=this[r(363)](null,!1),w=m[r(294)]+a[r(294)]+c.length+8+16+8+8,p=this[r(324)](t,w);return S[r(411)](S[r(204)][r(231)],a,c,p,m)}return S.box(S.types.traf,a,c,this[r(324)](t,a[r(294)]+c[r(294)]+8+16+8+8))},E[w]=function(t){var n=Oe;return t[n(191)]=t[n(191)]||4294967295,S.box(S[n(204)][n(315)],this[n(249)](t),this[n(298)](t))},E.trex=function(t){var n=Oe,i=t.id;return S[n(411)](S[n(204)][n(290)],new I([0,0,0,0,i>>>24,i>>>16&255,i>>>8&255,255&i,0,0,0,1,0,0,0,16,0,0,0,0,0,0,0,0]))},E.trun=function(t,n){var i=Oe,r=(t.samples||[]).length,e=new I(12);return n+=20,e[i(311)]([0,0,0,1,r>>>24,r>>>16&255,r>>>8&255,255&r,n>>>24,n>>>16&255,n>>>8&255,255&n],0),S.box(S.types[i(324)],e)},E[p]=function(t,n){var i,r,e,u=Oe,s=u(373),o=u(257),a=function(t){var n=function(t){for(var n=Oe,i="",r=0;r<t.length;r+=16e3){var e=t[n(453)](r,r+16e3);i+=String[n(299)][n(187)](null,e)}return i}(je(t));return btoa(n)}((i=t,(e=[])[(r=Oe)(462)](i[3]),e[r(462)](i[2]),e[r(462)](i[1]),e[r(462)](i[0]),e.push(i[5]),e.push(i[4]),e.push(i[7]),e.push(i[6]),(i=je(i))[r(311)](e,0),i));return je(function(t,n){for(var i=Oe,r=new I(2*t.length),e=new DataView(r[i(492)]),u=0;u<t[i(294)];++u){var s=t[i(431)](u);e[i(221)](2*u,s,!0)}return r[i(492)]}([u(300)+o+u(422)+s+'">',"<DATA>",u(239),"<KIDS>",u(417),u(243)+a+'"',">",u(245),u(270),"</PROTECTINFO>",n?u(470)+n+u(409):"",u(428),u(289)][u(420)]("")))},E[y]=function(t){var n=Oe;if(this[n(432)][n(440)][n(328)]("com.widevine"))return S[n(411)](S[n(204)][n(430)],new I([0,0,0,0,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,0,0,18,18,16].concat(Ut(this[n(432)][n(366)][t[0][n(469)]][n(479)]))));if(this[n(432)].keySystem===n(421)){var i=this[n(192)](this[n(432)][n(366)][t[0].type][n(479)],this.drm.licenseUrl),r=i[n(442)];return S[n(411)](S[n(204)][n(430)],new I([0,0,0,0,154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149,r>>>24,r>>>16&255,r>>>8&255,255&r].concat(Ut(i))))}return this[n(432)][n(440)]===n(273)?S[n(411)](S[n(204)][n(430)],new I([1,0,0,0,16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75,0,0,0,1].concat(Ut(this.drm.config[t[0][n(469)]][n(479)]),[0,0,0,0]))):this[n(432)][n(440)]===n(286)?null:void console[n(370)](n(297)+this[n(432)].keySystem)},E[_]=function(t){var n,i,r=Oe,e=this[r(432)][r(366)][t];return"cbcs"===e.encryption?(n=new I([16].concat(Ut(e.iv))),i=25):(n=new I([]),i=0),S[r(411)](S[r(204)].tenc,new I([1,0,0,0,0,i,1,this[r(199)][t]].concat(Ut(e[r(479)]),Ut(n))))},E[b]=function(t){return S[Oe(411)](S.types.saiz,new I([0,0,0,0,t,0,0,0,1]))},E[k]=function(t){var n=Oe;return S[n(411)](S[n(204)][n(364)],new I([0,0,0,0,0,0,0,1,t>>>24,t>>>16&255,t>>>8&255,255&t]))},E[A]=function(t,n){var i=Oe,r=null;return t&&(1!==t[i(294)]&&console[i(370)](i(424)+t[i(294)]+i(413)),r=t[0][i(195)]),r&&r[i(442)]?S[i(411)](S[i(204)][i(363)],new I([0,0,0,n?2:0,0,0,0,1].concat(Ut(r)))):S[i(411)](S[i(204)][i(363)],new I([0,0,0,0,0,0,0,1]))},E[T]=function(t,n,i){var r=Oe,e=this[r(216)](t,n,i),u=new I(S[r(341)][r(442)]+e.byteLength);return u.set(S[r(341)]),u[r(311)](e,S[r(341)].byteLength),u},S[t]=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var e,u=Oe,s=8,o=i.length,a=o;o--;)i[o]&&(s+=i[o].byteLength);for((e=new I(s))[0]=s>>>24,e[1]=s>>>16&255,e[2]=s>>>8&255,e[3]=255&s,e[u(311)](t,4),o=0,s=8;o<a;++o)i[o]&&(e[u(311)](i[o],s),s+=i[o][u(442)]);return e},S}(Oe(411),Oe(246),Oe(298),Oe(429),Oe(265),Oe(460),Oe(210),Oe(356),Oe(415),Oe(333),Oe(369),Oe(296),Oe(264),Oe(468),Oe(402),Oe(249),Oe(231),Oe(315),Oe(192),Oe(430),Oe(314),Oe(392),Oe(364),Oe(363),Oe(271)),Ke=1,qe=function(t,n,i){function r(){this[Oe(283)]=1}var e=r.prototype;return e[n]=function(){var t=Oe;this[t(274)][t(215)]=0,this.mp4track[t(446)]=[]},e[i]=function(){var t=Oe;return!(!this.readyToDecode||!this[t(446)][t(294)])},r[t]=function(){return Ke++},r}(Oe(209),Oe(250),Oe(258)),Je=function(t){function n(n){var i,r=Oe;return(i=t.call(this)||this)[r(435)]=!0,i[r(223)]=0,i[r(237)]=0,i[r(274)]={id:qe[r(209)](),type:"audio",channelCount:2,audiosamplerate:48e3,len:0,fragmented:!0,timescale:n,duration:n,samples:[],codec:r(388),encrypted:!0},i[r(446)]=[],i}Rt(n,t);var i=n.prototype;return i.resetTrack=function(){var t=Oe;this[t(283)]=1,this[t(223)]=0,this[t(237)]=0},i[Oe(406)]=function(t,n,i){var r=Oe;if(t.length>0)for(var e=0;e<t[r(294)];e++){var u=t[e],s=u[r(276)],o=s[r(442)];this.samples.push({units:s,size:o,duration:u.duration,sampleAuxInfo:n,timestamp:i}),this[r(274)][r(215)]+=o}},i[Oe(248)]=function(){var t=Oe;if(!this[t(446)])return null;for(var n,i=this[t(274)][t(446)];this.samples[t(294)];){var r=this[t(446)][t(233)](),e=(1e3*r[t(385)]|0)-this.nextDts|0;e<5&&(e=5),this.dts=this.nextDts,this[t(223)]+=e,n={size:r.size,duration:e,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1},sampleAuxInfo:r[t(195)]};var u=new I(r.size);return u[t(311)](r.units,0),i.push(n),new I(u.buffer,0,r[t(483)])}return null},n}(qe),Qe=function(t){function n(n,i){var r,e=Oe;return(r=t.call(this)||this)[e(435)]=!1,r.nextDts=0,r[e(237)]=0,r[e(477)]=i,r.mp4track={id:qe[e(209)](),type:e(434),len:0,fragmented:!0,sps:"",pps:"",width:0,height:0,timescale:n,duration:n,samples:[],encrypted:!0},r[e(446)]=[],r[e(220)]=new He(r),r}Rt(n,t);var i=n.prototype;return i[Oe(426)]=function(){var t=Oe;this[t(283)]=1,this.readyToDecode=!1,this[t(274)].sps="",this[t(274)][t(362)]="",this[t(223)]=0,this[t(237)]=0},i[Oe(406)]=function(t,n,i){for(var r=Oe,e=0;e<t.length;e++){for(var u=t[e],s=[],o=0,a=0,c=u[r(276)];a<c.length;a++){var h=c[a];this.h264[r(368)](h)&&(s[r(462)](h),o+=h.getSize())}s[r(294)]>0&&this[r(435)]&&(this[r(274)][r(215)]+=o,this[r(446)][r(462)]({units:s,size:o,keyFrame:u.keyFrame,duration:u[r(191)],sampleAuxInfo:n,timestamp:i}))}},i[Oe(248)]=function(){var t=Oe;if(!this[t(258)]()||!this.samples)return null;var n,i=this[t(274)][t(446)],r=this.samples[t(233)](),e=r[t(276)],u=(1e3*r.timestamp|0)-this[t(223)]|0;u<5&&(u=5),f[t(251)]&&u>5e3&&console[t(383)]("timestamp gap: "+(u/1e3|0)+" s"),this[t(237)]=this[t(223)],this.nextDts+=u,n={size:r[t(483)],duration:u,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,isNonSync:r[t(275)]?0:1,dependsOn:r.keyFrame?2:1},sampleAuxInfo:r[t(195)]};for(var s=0,o=0;o<e.length;o++)s+=e[o][t(349)]();for(var a=0,c=new I(s),h=0;h<e.length;h++){var v=e[h];c[t(311)](v[t(343)](),a),a+=v[t(349)]()}return i[t(462)](n),new I(c[t(492)],0,s)},n}(qe),$e=function(t){function n(n,i){var r,e=Oe;return(r=t.call(this,e(345))||this).initialized=!1,r.trackTypes=[],r[e(414)]={},r[e(393)]=1e3,r.mediaDuration=0,r[e(477)]=n,r[e(375)]=i,r}Rt(n,t);var i=n.prototype;return i.addTrack=function(t){var n=Oe;(t===n(434)||"both"===t)&&(this[n(414)][n(434)]=new Qe(this[n(393)],this.videoElement),this[n(480)][n(462)](n(434))),(t===n(451)||t===n(303))&&(this[n(414)][n(451)]=new Je(this.timescale),this[n(480)][n(462)](n(451)))},i.reset=function(){for(var t=Oe,n=0,i=this[t(480)];n<i.length;n++){var r=i[n];this[t(414)][r][t(426)]()}this[t(489)]=!1},i[Oe(355)]=function(){var t=Oe;this[t(414)]={},this[t(490)]()},i[Oe(250)]=function(){var t=Oe;if(this[t(489)])for(var n=0,i=this[t(480)];n<i.length;n++)for(var r=i[n],e=this[t(414)][r];;){var u=e.getFramePayload();if(!u||!u[t(442)])break;var s={type:r,payload:Ve(this[t(375)][t(460)](e[t(283)]++,e[t(237)],e[t(274)]),this[t(375)][t(458)](u)),dts:e[t(237)]};this[t(255)](t(492),s),e[t(250)]()}else this[t(258)]()&&(this[t(255)](t(205)),this[t(271)](),this[t(489)]=!0,this[t(250)]())},i.initSegment=function(){for(var t=Oe,n=0,i=this[t(480)];n<i.length;n++){var r=i[n],e=this[t(414)][r],u={type:r,payload:this[t(375)][t(271)]([e[t(274)]],this[t(433)],this[t(393)])};this.dispatch(t(492),u)}},i.isReady=function(){for(var t=Oe,n=0,i=this.trackTypes;n<i.length;n++){var r=i[n];if(!this[t(414)][r][t(435)]||!this[t(414)][r].samples[t(294)])return!1}return!0},i[Oe(406)]=function(t){for(var n=Oe,i=0,r=this[n(480)];i<r.length;i++){var e=r[i],u=t[e];u.length>0&&this[n(414)][e][n(406)](u,e===n(451)?t[n(225)]:t.videoSampleAuxInfo,t[n(385)])}this.flush()},n}(ze),tu=function(t){function n(n,i,r){var e,u=Oe;return(e=t.call(this,u(492))||this)[u(469)]=i,e.queue=new I,f[u(319)]&&(e[u(254)]=new I,e[u(404)]=0),e.sourceBuffer=n,e[u(218)]=r,e[u(197)]=!1,e[u(310)].addEventListener(u(370),(function(t){var n=u;console.warn(n(201),t,e.type),e[n(197)]=!0,e[n(255)](n(370),{type:e[n(469)],name:"buffer",error:n(292)})})),e}Rt(n,t);var i=n.prototype;return i[Oe(355)]=function(){var t=Oe;this[t(401)]=null,this[t(254)]=null;try{this.sourceBuffer&&(this[t(310)][t(186)](),this[t(218)].removeSourceBuffer(this[t(310)]),this[t(310)]=null)}catch(t){}this.offAll()},i[Oe(475)]=function(){var t=Oe;if(this.queue[t(294)]&&this[t(310)]&&!this[t(310)].updating){if(this[t(310)].buffered[t(294)]>1){for(var n=0;n<this[t(310)].buffered[t(294)];++n){var i=n<this[t(310)].buffered[t(294)]-1;f[t(251)]&&console[t(383)](t(445)+n+(i?" (remove)":"")+": "+this[t(310)][t(269)][t(326)](n)+t(325)+this[t(310)][t(269)][t(376)](n)),i&&this.sourceBuffer[t(482)](this[t(310)][t(269)].start(n),this[t(310)].buffered[t(376)](n))}if(this.sourceBuffer[t(378)])return}try{this[t(310)][t(491)](this[t(401)]),this.queue=new I}catch(n){this[t(255)](t(370),{type:this[t(469)],name:t(352),error:n})}}},i[Oe(371)]=function(t){var n=Oe;if(this[n(254)]&&(this.dbgQueue=Ve(this[n(254)],t),100==++this[n(404)])){var i=(new Date)[n(344)]().substring(0,19)[n(454)](":","-"),r=this.type+"-"+i+".mp4";f.downloadToFile(this[n(254)],r),this[n(254)]=null}this[n(197)]||(this[n(401)]=Ve(this[n(401)],t)),this.doAppend()},n}(ze),nu=function(t){function n(n){var i,r=Oe;return(i=t.call(this,r(397))||this)[r(197)]=!1,i[r(410)]=!0,i[r(466)]=!1,i[r(234)]=!1,i.mseEnded=!1,i[r(379)]=k[r(189)]({},{node:"",mode:"video",debug:!1,onReady:function(){},onError:function(t){}},n),i[r(450)]=W(i.options[r(450)])===r(302)?v[r(472)](i.options.node):i[r(379)].node,i[r(432)]=n.drm,i.mp4=new Ye(i.drm),i[r(423)]=new $e(i.node,i[r(375)]),i[r(423)].addTrack(i[r(379)][r(461)]),i[r(423)].on(r(492),i[r(456)].bind(i)),i[r(423)].on(r(205),i[r(382)][r(308)](i)),i.initBrowser(),i}Rt(n,t);var i=n.prototype;return i[Oe(322)]=function(){var t=Oe;W(this.options.node)===t(302)&&""==this.options[t(450)]&&console[t(370)](t(473)),this[t(234)]=!1,this.setupMSE()},i.setupMSE=function(){var t=Oe;if(!f[t(202)]&&!f[t(384)])throw t(452);f.ManagedMediaSource?(this.node[t(427)]=!0,this[t(327)]=new ManagedMediaSource):this[t(327)]=new MediaSource,this[t(284)]=URL[t(244)](this[t(327)]),this.node[t(485)]=this[t(284)],this[t(277)]=!1,this[t(327)][t(331)](t(338),this.onMSEOpen[t(308)](this)),this.mediaSource.addEventListener("sourceclose",this[t(241)][t(308)](this)),this[t(327)][t(331)]("webkitsourceopen",this[t(194)][t(308)](this)),this.mediaSource[t(331)](t(240),this[t(241)].bind(this)),this[t(327)][t(331)]("error",(function(n){var i=t;console[i(370)](i(287),n[i(226)])}))},i[Oe(227)]=function(){var t=Oe;if(!this[t(277)])try{this.mseEnded=!0,this[t(327)][t(185)]===t(399)&&this[t(327)][t(261)]()}catch(n){console[t(370)]("mediasource is not available to end: ",n)}},i[Oe(359)]=function(){this[Oe(410)]=!0},i[Oe(371)]=function(t){var n=Oe,i={video:[],audio:[]};if(this[n(197)]||this[n(277)]||!t||!this[n(423)])return-1;if(t[n(434)]){i.timestamp=t.timestamp;var r=this[n(190)](t.videoSampleAuxInfo,this.mp4[n(199)][n(434)]),e=r!=t[n(434)][n(442)],u=He[n(360)](t[n(434)],e);if(!u[n(206)]||u[n(260)].length<1)return 0;if(this.waitingForIdr){if(!u[n(412)])return 0;this[n(410)]=!1}if(!Fe&&t[n(278)]){var s=u[n(260)][n(188)]((function(t,i){return t+4+i[n(442)]}),0);s!==r&&this[n(400)](t[n(278)],this.mp4[n(199)][n(434)],s-r)}i[n(434)]=this[n(335)](u[n(260)]),i[n(278)]=t[n(278)]}return t[n(451)]&&(i[n(385)]=t[n(385)],i[n(451)]=[{units:t.audio}],i.audioSampleAuxInfo=t[n(225)]),t[n(434)]||t[n(451)]?(this[n(423)][n(406)](i),0):(console.error(n(361)),0)},i[Oe(335)]=function(t){for(var n=Oe,i=[],r=[],e=!1,u=!1,s=0;s<t.length;s++){var o=t[s],a=new Xe(o);a.type()!==Xe.IDR&&a[n(469)]()!==Xe.NDR||He[n(448)](a),i[n(294)]&&u&&(a[n(387)]||!a[n(495)])&&(r[n(462)]({units:i,keyFrame:e}),i=[],e=!1,u=!1),i[n(462)](a),e=e||a[n(459)](),u=u||a[n(495)]}if(i[n(294)])if(u)r[n(462)]({units:i,keyFrame:e});else{var c=r[n(294)]-1;c>=0&&(r[c].units=r[c][n(276)].concat(i))}return 1!==r[n(294)]&&console[n(230)](n(207)+r[n(294)]),r},i[Oe(190)]=function(t,n){var i=Oe;if(!t)return 0;for(var r=(t[0]<<8)+t[1],e=n+2+4,u=0,s=2;0<r&&s+e<=t[i(442)];){var o=(t[s+=n]<<8)+t[s+1],a=(t[s+2]<<24)+(t[s+3]<<16)+(t[s+4]<<8)+t[s+5];s+=6,u+=o+a}return u},i.patchSampleAuxinfo=function(t,n,i){var r=Oe,e=2;if(0<(t[0]<<8)+t[1]&&e+(n+2+4)<=t[r(442)]){var u=(t[e+=n]<<8)+t[e+1];(u+=i)>=0&&(t[e]=u>>>8&255,t[e+1]=255&u)}return 0},i[Oe(382)]=function(){var t=Oe;if(this[t(234)]&&this[t(423)]&&this[t(423)].isReady()&&!this.bufferControllers)for(var i in this.bufferControllers={},this[t(423)][t(414)]){var r=this[t(423)][t(414)][i],e="".concat(i,t(317))[t(365)](r[t(274)][t(449)],'"');if(f.clRtcDrmDebugLog&&console[t(383)](t(312),e),!n[t(408)](e))return console[t(370)](t(372)),!1;var u=this[t(327)][t(350)](e);this[t(398)][i]=new tu(u,i,this[t(327)]),this.bufferControllers[i].on(t(370),this[t(403)][t(308)](this))}},i[Oe(313)]=function(){var t=Oe;for(var n in this[t(398)])this[t(398)][n].doAppend()},i.onBuffer=function(t){var n=Oe;this[n(234)]&&this[n(398)]&&this[n(398)][t.type]&&this[n(398)][t[n(469)]][n(371)](t[n(214)])},i[Oe(194)]=function(){var t=Oe;f[t(251)]&&console.info("[MSE] sourceopen"),this[t(327)][t(185)]!==t(281)&&(this.mediaSource.duration=Number[t(391)],this[t(234)]=!0,"function"==typeof this[t(379)][t(336)]&&this[t(379)].onReady[t(394)](null,this[t(466)]),URL[t(235)](this.url),this[t(382)]())},i[Oe(241)]=function(){var t=Oe;f.clRtcDrmDebugLog&&console[t(383)](t(441)),this.mseReady=!1,this[t(227)]()},i[Oe(403)]=function(t){var n=Oe;console.warn(n(351),t),this.irrecoverableError=!0,this[n(227)](),"function"==typeof this[n(379)][n(266)]&&this[n(379)][n(266)][n(394)](null,t)},n.isSupported=function(t){var n=Oe;return f[n(202)]?f.ManagedMediaSource[n(497)](t):!!f[n(384)]&&f.MediaSource[n(497)](t)},n}(ze);function iu(t,n){var i=ru();return(iu=function(t,n){return i[t-=222]})(t,n)}function ru(){var t=["Av","1634635aeNfVS","4rWkceo","1051qHPzyB","314juHkBI","7752096GfpyFE","1023208nKrJjX","2137269uUqtNM","303058KNxeBb","1097196nHglzA"];return(ru=function(){return t})()}!function(){for(var t=iu,n=ru();;)try{if(T(t(228))/1*(-T(t(229))/2)+-T(t(222))/3*(T(t(227))/4)+T(t(226))/5+T(t(224))/6+T(t(223))/7+-T(t(231))/8+T(t(230))/9==409100)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var eu=uu;function uu(t,n){var i=cu();return(uu=function(t,n){return i[t-=460]})(t,n)}!function(){for(var t=uu,n=cu();;)try{if(-T(t(471))/1*(-T(t(474))/2)+T(t(479))/3+T(t(473))/4*(T(t(461))/5)+T(t(487))/6+-T(t(467))/7+-T(t(482))/8+-T(t(464))/9==139726)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var su="CrsCCAMSEKDc0WAwLAQT1SB2ogyBJEwYv4Tx7gUijgIwggEKAoIBAQC8Xc/GTRwZDtlnBThq8"+eu(462)+"wyoYOE+M/t1oIbccwlTQ7o+BpV1X6TB7fxFyx1jsBtRsBWphU65w121zqmSiwzZzJ4xsXVQCJ"+eu(460)+eu(476)+eu(480)+eu(484)+eu(485)+"7hyskG5ZLAyJMzTvgnV3D8/I5Y6mCFBPb/+/Ri+9bEvquPF3Ff9ip3yEHu9mcQeEYCeGe9zR/27eI5MATX39gYtCnn7dDXVxo4/rCYK0A4VemC3HRai2X3pSGcsKY7+6we7h4IycjqtuGtYg8A"+eu(475)+"RL9KsD0v7ysBQVdUXEbJotcFz71tI5qc3jwr6GjYIPA3VzusD17PN6AGQniMwxJV12z/EgnUo"+eu(477),ou=I[eu(478)](f[eu(470)](su),(function(t){return t.charCodeAt(0)})),au=function(){function t(t){this[eu(488)]=t}var n=t.prototype;return n[eu(469)]=function(){return this[eu(488)]},n[eu(483)]=function(){var t=eu;switch(this[t(488)]){case t(489):return"https://lic.staging.drmtoday.com";case t(465):return t(481);default:return t(466)}},n.certificate=function(){return ou},t}();function cu(){var t=["development","https://lic.drmtoday.com","462553oMrSQp","Staging","toString","atob","20047HjYCpd","Development","52chMPdC","6mbMcSk","baigovcoURAZcr1d/G0rpREjLdVLG0Gjqk63Gx688W5gh3TKemsK3R1jV0dOfj3e6uV/kTpsN","+vwmV2/NJWxKqHBKdL9JqvOnNiQUF0hDI7Wf8Wb63RYSXKE27Ky31hKgx1wuq7TTWkA+kHnJT","pcFB13osydpD2AaDsgWo5RWJcNf+fzCgtUQx/0Au9+xVm5LQBdv8Ja4f2oiHN3dw","from","146355HhTpSB","UrTEfQxfPR4dJTquE+IDLAi5yeVVxzbAgMBAAE6DGNhc3RsYWJzLmNvbUABEoADMmGXpXg/0q","https://lic.test.drmtoday.com","501688OkVRMl","baseUrl","xUuwokpsqVIHZrJfu62ar+BF8UVUKdK5oYQoiTZd9OzK3kr29kqGGk3lSgM0/p499p/FUL8oH","HzgsJ7Hajdsyzn0Vs3+VysAgaJAkXZ+k+N6Ka0WBiZlCtcunVJDiHQbz1sF9GvcePUUi2fM/h","Production","1063410zFUyaf","name","staging","pQnNI61gzHO42XZOMuxytMm0F6puNHTTqhyY3Z290YqvSDdOB+UY5QJuXJgjhvOUD9+oaLlvT","93365ZJpndd","V382D1oJAM0F/YgCQtNDLz7vTWJ+QskNGi5Dd2qzO4s48Cnx5BLvL4H0xCRSw2Ed6ekHSdrRU","production","2343546YgIYCY"];return(cu=function(){return t})()}function hu(t,n){var i=fu();return(hu=function(t,n){return i[t-=325]})(t,n)}function fu(){var t=["1052499bnJBHn","cenc","4222tSxFth","Unsupported SampleAuxInfo version","12980Tusgux","3160ZwXFcU","40030ewyARR","16lkTHRT","1199124lbwxEr","data","105TSrukA","getUint8","12bBEpge","SampleAuxInfo corrupted (postfix not found)","getUint16","error","85265ZYYyUv","buffer","3616548TKdsLX","subarray","byteLength","SampleAuxInfo corrupted"];return(fu=function(){return t})()}function vu(t,n){var i=mu();return(vu=function(t,n){return i[t-=295]})(t,n)}au[eu(468)]=new au(eu(489)),au[eu(486)]=new au(eu(463)),au[eu(472)]=new au(eu(465)),function(){for(var t=hu,n=fu();;)try{if(T(t(328))/1+-T(t(332))/2*(-T(t(336))/3)+-T(t(338))/4*(-T(t(342))/5)+-T(t(344))/6+-T(t(326))/7*(T(t(333))/8)+T(t(334))/9+T(t(331))/10*(T(t(330))/11)==358550)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(),function(){for(var t=vu,n=mu();;)try{if(T(t(305))/1*(-T(t(297))/2)+-T(t(295))/3+T(t(310))/4*(T(t(309))/5)+-T(t(304))/6*(T(t(296))/7)+T(t(307))/8*(-T(t(298))/9)+-T(t(301))/10*(T(t(302))/11)+-T(t(300))/12*(-T(t(308))/13)==178039)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var lu=[],du=null,gu=0;function mu(){var t=["31476hbBsvr","850RxzAPl","4180KczaCN","push","156MUFuvQ","96571jvhWaB","buffer","26232BkewNd","4303YGAqiP","5yhGpFn","1137036pzCnTd","1035942NcoZLh","94073eTaQjy","2bXtEms","414snfiTE","slice"];return(mu=function(){return t})()}var wu=ku;function pu(){var t=["Data does not seem to be UTF-16 encoded!","No init data available!","getElementsByTagName","min","14BFNrBA","keystatuseschange","catch","childNodes","internal-error","Failed to reuse previous EME session: ","output-downscaled","expired","bind","5576688EKOFOG","has","length","License acquisition failed with error ","arrayBuffer","apply","CDM error generating license request: ","<Challenge","No PR challenge data!","then","license","createSession","warn","[PR] License fetched:","text/xml","clRtcDrmDebugLog","push","encode","max","json"," is not ","replace","target","rtcdrmerror","update","fromCharCode","subarray","2993694njpqat","4002692oINhTV","Content-Type","1347492MkzfDC","Data has an incorrect length, must be even.","addEventListener","buffer","onFetch","generateRequest","initData","dispatchEvent","atob","No clear key test key provided!","Challenge","New lic will be requested","oct","BYTES_PER_ELEMENT","sessionId","usable for decryption (status: ","[WV] License fetched:","Key ","5MtuOVr","byteLength","744563CKOUzg","load","floor","error","decode","indexOf","info","isSafari","edef8ba979d64acea3c827dcd51d21ed","mediaKeys","Previous lic will be reused","charCodeAt","licenseUrl","status","Failed to update the session: ","log","keyStatuses","temporary","9a04f07998404286ab92e65be0885f95","output-restricted","nodeValue","btoa","message","EME createSession() failed - no DRM available","5977680uUTwUr","getUint16","[PR] Challenge node not found","A128KW","3974463jrELhf","Failed to update the session","stringify","[EME]","delete","No media keys for media element!","set","2nMQfRz"];return(pu=function(){return t})()}!function(){for(var t=ku,n=pu();;)try{if(-T(t(419))/1*(T(t(454))/2)+T(t(495))/3+T(t(496))/4*(-T(t(417))/5)+-T(t(498))/6*(-T(t(459))/7)+T(t(468))/8+-T(t(447))/9+T(t(443))/10==555073)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var yu={licenseUrl:"",onFetch:void 0},_u={},bu=function(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=1/0),function(t,n,i){var r=ku,e=I[r(511)];n*=e,i*=e;var u,s=(u=t)instanceof ArrayBuffer?u:u[ku(501)],o=t[r(418)],a=n,c=A[r(486)](0,A[r(458)](a,o)),h=A[r(458)](c+A[r(486)](i,0),o);return new I(s,c/=e,(h/=e)-c)}(t,n,i)};function ku(t,n){var i=pu();return(ku=function(t,n){return i[t-=417]})(t,n)}var Au=function(t){for(var n=ku,i="",r=0;r<t.length;r++){var e=t[r].toString(16);1==e[n(470)]&&(e="0"+e),i+=e}return i},Tu=null,Su=function(t){var n=ku;return f[n(440)](String[n(493)][n(473)](null,t))[n(489)](/\+/g,"-")[n(489)](/\//g,"_")[n(489)](/=*$/,"")},Eu=function(t,n){var i=ku,r=function(t){var n=ku,i=JSON.parse((new TextDecoder)[n(423)](t));if(console[n(434)]("CK license request:",i),null===Tu)throw new y(n(507));for(var r=[],e=0,u=i.kids;e<u.length;e++){var s=u[e],o={kty:n(510),alg:n(446),kid:s,k:Su(Tu)};r[n(484)](o)}return(new TextEncoder)[n(485)](JSON[n(449)]({keys:r}))}(n.message);n[i(490)][i(492)](r)[i(461)]((function(t){var n=i;console[n(422)](n(448),t)}))},Iu=function(t){for(var n=ku,i=f[n(506)](t[n(489)](/-/g,"+")[n(489)](/_/g,"/")),r=new I(i[n(470)]),e=0;e<i.length;++e)r[e]=i[n(430)](e);return r},Ru=function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),e=2;e<i;e++)r[e-2]=arguments[e];return ke(void 0,[t,n].concat(Ut(r)),void 0,(function(t,n,i){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return void 0===i&&(i=!1),r=ku,e=new Headers(_u),i&&e.append(r(497),r(482)),u={method:"POST",headers:e,body:n},[4,yu[r(502)]?yu[r(502)](t,u):fetch(t,u)];case 1:if(!(s=o.sent()).ok)throw new y(r(471)+s[r(432)]);return[2,s]}}))}))},Cu=function(t,n){var i=ku;Ru(yu[i(431)],n[i(441)])[i(477)]((function(t){return t[i(487)]()}))[i(477)]((function(t){var r=i;f[r(483)]&&console.info(r(514),t.license);var e=Iu(t[r(478)])[r(501)];n[r(490)][r(492)](e)[r(461)]((function(t){console[r(422)]("Failed to update the session",t)}))}))[i(461)]((function(n){var r=i;t.dispatchEvent(new CustomEvent(r(491),{detail:{message:""+n}})),console[r(422)](n)}))},Nu=function(t,n){var i=ku,r=function(t,n){var i=ku,r=new DOMParser;try{var e=function(t,n,i){void 0===i&&(i=!1);var r=ku;if(!t)return"";var e=t;if(!i&&e.byteLength%2!=0)throw console[r(422)](r(499)),new y(r(455));var u,s=bu(e);if((255===s[0]&&254===s[1]||254===s[0]&&255===s[1])&&(e=s[r(494)](2)),e instanceof ArrayBuffer)u=e;else{var o=new I(e[r(418)]);o[r(453)](bu(e)),u=o[r(501)]}for(var a=A[r(421)](e.byteLength/2),c=new Uint16Array(a),h=new DataView(u),f=0;f<a;f++)c[f]=h[r(444)](2*f,n);return function(t){for(var n=ku,i="",r=0;r<t[n(470)];r+=16e3){var e=t[n(494)](r,r+16e3);i+=String[n(493)].apply(null,e)}return i}(c)}(n,!0);if(e[i(424)](i(475))>-1){var u=r.parseFromString(e,i(482))[i(457)](i(508))[0][i(462)][0][i(439)];if(null===u)throw new y("No PR challenge data!");return Iu(u)}console[i(480)](i(445))}catch(n){t.dispatchEvent(new CustomEvent(i(491),{detail:{message:""+n}})),console.error(n)}return null}(t,n.message);if(null===r)return t[i(505)](new CustomEvent("rtcdrmerror",{detail:{message:"No PR challenge data!"}})),void console.error(i(476));Ru(yu[i(431)],r[i(501)],!0)[i(477)]((function(t){return t[i(472)]()}))[i(477)]((function(r){var e=i;f[e(483)]&&console[e(425)](e(481),r),n[e(490)].update(r)[e(461)]((function(n){var i=e;t[i(505)](new CustomEvent(i(491),{detail:{message:i(433)+n}})),console[i(422)](i(448),n)}))}))[i(461)]((function(n){var r=i;t.dispatchEvent(new CustomEvent("rtcdrmerror",{detail:{message:""+n}})),console[r(422)](n)}))},xu=function(t,n){var i=ku;Ru(yu[i(431)],n[i(441)])[i(477)]((function(t){var n=i,r=t.text();return f[n(483)]&&console.info("[FPS] License fetched:",t,r),r}))[i(477)]((function(t){var r=i;n[r(490)][r(492)](Iu(t))}))[i(461)]((function(n){var r=i;t.dispatchEvent(new CustomEvent(r(491),{detail:{message:""+n}})),console[r(422)](n)}))},Du=function(t,n){_u[t]=n},Pu=Be[wu(426)],Mu=!Pu,Bu=new Map;function Ou(t){return ke(this,void 0,void 0,(function(){var n,i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(null===t[(n=ku)(504)])throw new y(n(456));if(null===(i=t[n(490)]))throw new y("No media element available!");if(null===(r=i[n(428)]))throw new y(n(452));e=Au(new I(t[n(504)])),u=e+i.id,s=null,Bu[n(469)](u)&&(null!=(s=Bu.get(u))&&s.close(),Bu[n(451)](u)),f[n(483)]&&console[n(425)](n(450),n(s?429:509)),o=null;try{o=r[n(479)](Mu?"persistent-license":"temporary")}catch(t){console[n(434)]("EME createSession(persistent) failed:",t)}if(!o&&Mu){Mu=!1;try{o=r[n(479)](n(436))}catch(t){console[n(422)]("EME createSession(temporary) failed:",t)}}if(!o)return[3,7];if(o[n(500)](n(460),(function(t){var r=n;t[r(490)][r(435)].forEach((function(t,n){var e=r;(t===e(466)||t===e(438)||t===e(465)||t===e(463))&&i[e(505)](new CustomEvent(e(491),{detail:{message:e(515)+Au(new I(n))+e(488)+(e(513)+t+")"),keyId:n}}))}))})),Pu?o.addEventListener(n(441),xu[n(467)](null,i),!1):-1!==e[n(424)](n(427))?o.addEventListener(n(441),Cu[n(467)](null,i),!1):-1!==e[n(424)](n(437))?o[n(500)](n(441),Nu[n(467)](null,i),!1):o.addEventListener("message",Eu[n(467)](null,i),!1),!s)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,o[n(420)](s[n(512)])];case 2:return c.sent()?Bu[n(453)](u,o):i.dispatchEvent(new CustomEvent(n(491),{detail:{message:"Failed to load previous EME session"}})),[3,4];case 3:return a=c.sent(),i[n(505)](new CustomEvent(n(491),{detail:{message:n(464)+a}})),[3,4];case 4:return[3,6];case 5:o[n(503)](t.initDataType,t[n(504)]).then((function(){Mu&&Bu[n(453)](u,o)}))[n(461)]((function(t){var r=n;i[r(505)](new CustomEvent(r(491),{detail:{message:r(474)+t}}))})),c.label=6;case 6:return[3,8];case 7:i[n(505)](new CustomEvent(n(491),{detail:{message:n(442)}})),c.label=8;case 8:return[2]}}))}))}var Lu=us;function Fu(){var t=[" too close to seek, ","fpsCertificateUrl","9880640TWxZrg","H264","ignoreAudio","Unable to create Worker!","createMediaKeys(",", restart required: ","/license-proxy-headerauth/drmtoday/RightsManager.asmx","6236Nwzlef","worker","serverCertificateUrl","serverCertificate","seq",",255]).buffer,idrFrames.push(new Uint8Array([0,0,0,1,39,100,0,13,172,87,5,6,100,0,0,0,1,40,238,60,176,0,0,0,1,37,","ClearKey","No valid DRM config found, call rtcDrmConfigure first.","sessionId","toISOString","indexOf","robustness","isInteger","info","includes","Development","slice","16niaptx"," frame","video/mp4","isArray","Android","end","PlayReady","streamType","1772WtcYWF","]: ","Frame gap: ","nextKeyFrameAllowedTime","use rtcDrmFeedFrame to push frames manually","Error recovery attempted","merchant","FairPlay","requestMediaKeySystemAccess(","pipeThrough","/license-server-fairplay/","isChrome","type","MSE (re)init","const DUMMY_IDR_FRAME_SLICE_HDR0=new Uint8Array([32,0,203]),DUMMY_IDR_FRAME_SLICE_HDR1=new Uint8Array([16,0,50]);","DRM config env value must be one of: ","length","GOP is getting too long, requesting a new key frame","Worker","let brokenFrame=null,idrFrames=[];function initializeDummyFrames(){brokenFrame=new Uint8Array([0,0,0,1,65,154,255","srcObject","RTCRtpScriptTransform","),idrFrames.push(idrFrames[0].slice());let $=new Uint8Array(idrFrames[1]);$.set([16,0,50],27)}let idrPicIdToggle=","now"," to ","join","setServerCertificate","audioCapabilities","lastKeyFrameTime","prevSeqNum"," seeking from ",".experiment","clRtcDrmDebugLog","Server certificate fetch failed with error ","isFirefox","org.w3.clearkey","x-dt-custom-data","jitterBufferTarget","playbackRate","enabled","keyFrameNeeded","createEncodedStreams","wvCertificateUrl","key","sai","Discarding corrupted video frame (too small)",'gle^=1]}function audioTransformFunction($,e){postMessage({streamType:"audio",frame:{timestamp:$.timestamp,data:$.',"H264 is the only supported video codec.","com.microsoft.playready.recommendation"," will be used","DRM config iv must be an instance of 16-byte long Uint8Array.","encryption","0;function generateDummyFrame($){return(brokenFrame||initializeDummyFrames(),$)?brokenFrame:idrFrames[idrPicIdTog","toString","message","status","bytesSinceKey","currentTime","supportsRtpScriptTransform","1585647fRskxG","audioElement","track","sinf","createObjectURL","enqueue","Invalid videoElement, it must be an instance of HTMLVideoElement.","7302558TqFWae","pipeTo","SampleAuxInfo extraction failed (video)","isEdge","keys","not-allowed","rtcdrmerror","btoa","?audioTransformFunction:videoTransformFunction});e.pipeThrough(a).pipeTo(x)}self.RTCTransformEvent&&(self.onrtctr",", a1d1f1 is recommended).","reportDiscontinuity","onFetch","keyId","sessionTypes","). Edge only supports PlayReady, Widevine and ClearKey.","audioEncrypted","audioStartTimestamp","frame","videoStartTimestamp","184,32,0,203,255,38,29,217,24,192,161,96,0,0,12,229,174,166,6,7,20,3,84,0,247,96,193,181,229,128,0,32,32]).buffer","Duplicate/reordered frame, prev seq: ","ClearKey is not supported by Safari.","bind",") not found in [","DRM config robustness can only be one of: ","persistent-license","postMessage","receiver","get","both","jmuxer","Production","Blob","timestamp","cenc","emeConfig","clear","cbcs-1-9","5iKPdqC","isWindows","PlayReady license acquisition might fail without output protection enabled (sessionId is ","). Chrome only supports Widevine and ClearKey.","mediaBufferMs should be an integer.","size","certificate","prLicenseUrl","fpsLicenseUrl","/license-proxy-widevine/cenc/","4572770OAoUlm","BYTES_PER_ELEMENT","then","SW_SECURE_CRYPTO","ansform=$=>{let e=$.transformer;handleTransform(e.options.operation,e.readable,e.writable)}),onmessage=$=>{keyFra","splice","Safari doesn't support 'cenc'/AES-CTR, use 'cbcs' instead if possible.","videoElement","rtcDrmConfigure did not specify audioElement, audio will be dropped",'audio/mp4; codecs="opus"',"object","Invalid audioElement, it must be an instance of HTMLMediaElement.","keyFrameNeededPosted","debugCreateMediaDump","next","play","6591266VeIbXo","userId","jitterBufferDelayHint",'ame(keyFrameNeeded),e.enqueue($)}function handleTransform($,e,x){let a=new TransformStream({transform:"audio"===$',"dispatchEvent","reduce"," bytes, playback at ","offset","arrayBuffer","waitingForIdr","Widevine","DRM config mediaBufferMs should be an integer.","hwSecurity","authToken","audio"," bytes)","push","licenseUrl","Default transform mode enabled, ","RTCRtpScriptTransform/TransformStream will not be created, ","GET","baseUrl","video","trim","7377TdQrIK","3000","playoutDelayHint","catch","fpsCertificate","POSITIVE_INFINITY","/license-server-fairplay/cert/","DRM config:","streams","mediaBufferMs","log","codec","onmessage","Target video element (","Applying pre-configured certificate (","webkitURL","Discarding corrupted video frame (no Annex B startcode)"," requesting a new key frame (latency ","PlayReady might not support '","No target media element!","URL","set","warn","data","config","isSafari","forEach","setMediaKeys","buffered"," - ","keySystem",'data}}),e.enqueue($)}let keyFrameNeeded=!1;function videoTransformFunction($,e){postMessage({streamType:"video",f',"paused","wvCertificate","a1d1f1","2000","keyFrameRequestInterval","Several DRM configs detected, rtcDrmOnTrack have to be called with target DRM config.","error","238HZxcdH","HW_SECURE_ALL","Invalid DRM type (","buffer","x-dt-auth-token","clRtcDrmCreateMediaDump",'rame:{type:$.type,timestamp:$.timestamp,data:$.data}}),"key"===$.type&&(keyFrameNeeded=!1),$.data=generateDummyFr',"addEventListener",") failed","keyFrameLogCntr","feed","byteLength","kind","purchase","environment","videoCapabilities","requestMediaKeySystemAccess","temporary","). It has to be a string containing a JWT.","value",".. ","string"];return(Fu=function(){return t})()}!function(){for(var t=us,n=Fu();;)try{if(T(t(543))/1*(T(t(512))/2)+T(t(473))/3*(T(t(568))/4)+-T(t(672))/5*(-T(t(634))/6)+-T(t(536))/7+T(t(560))/8*(T(t(627))/9)+-T(t(682))/10+-T(t(449))/11==932877)break;n.push(n.shift())}catch(t){n.push(n.shift())}}();var Vu=Be[Lu(626)],Uu=Be[Lu(602)],Wu=Be[Lu(498)],ju=Be[Lu(637)],Zu=Be[Lu(579)],Xu=Be.platform,Gu=Be[Lu(673)],Hu=ju||Zu&&Xu===Lu(564),zu=1e6*(Uu?82:Wu?220:120),Yu=Uu?5e3:2e3,Ku=Uu?1.5:.5;function qu(t){var n=Lu;return(void 0===t?"undefined":W(t))!==n(692)||null===t||t instanceof Element||t instanceof au?t:function(t){var n=Lu;return!!((null==t?void 0:t[n(515)])instanceof ArrayBuffer&&null!=t&&t[n(683)])}(t)?t[n(559)]():Array[n(563)](t)?t[n(454)]((function(t,n,i){return t[i]=qu(n),t}),[]):t instanceof k?k[n(638)](t)[n(454)]((function(n,i){return n[i]=qu(t[i]),n}),{}):t}var Ju=function(t){var n=Lu;this[n(545)]="",this.licenseUrl="",this[n(503)]="",this[n(669)]=[],this[n(497)]=qu(t),this[n(664)]=null,this[n(521)]=0,this[n(571)]=Date.now(),this.videoStartTimestamp=0,this.audioStartTimestamp=0,this.prevSeqNum=-1,this[n(596)]=0,this[n(624)]=0,this.keyFrameNeeded=!0,this.keyFrameNeededPosted=!1,this.keyFrameRequestInterval=Yu,this.worker=null},Qu=new Map,$u=new I([60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60]),ts=new I([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1]),ns=new I([213,251,214,184,46,217,62,78,249,138,228,9,49,238,51,183]);function is(t){var n=Lu,i=!1;if((t[n(497)].video&&"clear"!==t[n(497)].video[n(619)]&&"HW"===t.config[n(471)][n(554)]||t[n(497)][n(463)]&&t[n(497)][n(463)].encryption!==n(670)&&"HW"===t[n(497)][n(463)][n(554)])&&(i=!0),t.hwSecurity=i,function(t,n){var i=Lu;void 0!==n&&(t[i(497)][i(482)]=n),(void 0===t[i(497)][i(482)]||t[i(497)].mediaBufferMs<0)&&(t.config[i(482)]=100,Uu?t[i(497)][i(482)]=350:!Wu&&Gu&&(t[i(497)][i(580)]===i(566)||t[i(461)])&&(t[i(497)][i(482)]=1400))}(t,t[n(497)][n(482)]),void 0===t.config.authToken){void 0===t.config[n(450)]&&(t[n(497)][n(450)]=n(525)),void 0===t[n(497)][n(551)]&&(t.config[n(551)]=n(507));var r=f[n(641)](JSON.stringify({userId:t.config[n(450)],sessionId:t[n(497)][n(551)],merchant:t.config[n(574)]}));Du(n(604),r)}else Du(n(516),t.config[n(462)]);for(var e=0,u=[t[n(497)].audio,t[n(497)][n(471)]];e<u.length;e++){var s=u[e];s&&s[n(619)]!==n(670)&&(s[n(646)]||(s[n(646)]=ts),s.iv||(s.iv=ns))}t[n(546)]=void 0,t[n(545)]="",t[n(466)]="";var o,a=t.config[n(526)][n(470)]();if(t[n(497)][n(580)]===n(549)?(t.keySystem=n(603),Tu=$u):t.config.type===n(459)?(t[n(503)]="com.widevine.alpha",Gu&&i&&(t[n(503)]+=n(599)),t.config.wvCertificate?t[n(546)]=t[n(497)][n(506)]:t[n(497)][n(610)]?t[n(545)]=t[n(497)][n(610)]:t[n(546)]=t.config[n(526)][n(678)](),t.config.wvLicenseUrl?t[n(466)]=t[n(497)].wvLicenseUrl:t[n(466)]=a+n(681)):t[n(497)][n(580)]===n(566)?(t[n(503)]=n(616),t[n(497)][n(679)]?t.licenseUrl=t[n(497)][n(679)]:t[n(466)]=a+n(542)):t[n(497)].type===n(575)&&(t.keySystem="com.apple.fps",t.config[n(477)]?t[n(546)]=t[n(497)][n(477)]:t[n(497)][n(535)]?t.serverCertificateUrl=t.config[n(535)]:t[n(545)]=a+n(479)+t[n(497)].merchant,t[n(497)][n(680)]?t[n(466)]=t.config.fpsLicenseUrl:t.licenseUrl=a+n(578)),o={licenseUrl:t[n(466)],onFetch:t.config[n(645)]},yu=o,t[n(669)]=[],t.config[n(580)]!==n(575)){t[n(669)][n(465)]({initDataTypes:[n(668)],sessionTypes:["persistent-license",n(529)]});for(var c=0,h=[t[n(497)][n(471)],t[n(497)][n(463)]];c<h.length;c++){var v=h[c];if(v&&v.encryption!==n(670)){var l=v==t[n(497)][n(471)]?n(471):n(463),d=void 0;t[n(497)][n(580)]===n(459)?d="HW"===v[n(554)]?n(513):n(685):"PlayReady"===t[n(497)][n(580)]&&(d="HW"===v.robustness?n(474):n(508)),l===n(471)?t[n(669)][0][n(527)]=[{contentType:'video/mp4; codecs="avc1.640032"',encryptionScheme:"cenc"===v[n(619)]?n(668):"cbcs-1-9",robustness:d||void 0}]:t[n(669)][0][n(595)]=[{contentType:n(691),encryptionScheme:v[n(619)]===n(668)?"cenc":n(671),robustness:d||void 0}]}}}else t[n(669)]=[{initDataTypes:[n(630)],videoCapabilities:[{contentType:n(562),robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:n(639),sessionTypes:["temporary"]}];f[n(600)]&&console.info(n(480),t)}function rs(t){var n=Lu;f[n(600)]&&console[n(556)](n(581));var i=t[n(497)].videoElement;(!t[n(497)][n(471)]||t.config[n(471)][n(619)]===n(670))&&(i=t.config.audioElement),t[n(664)]=null;var r=!t.ignoreAudio&&t[n(497)][n(463)]&&"clear"!==t[n(497)].audio[n(619)],e=t[n(497)][n(471)]&&t.config.video[n(619)]!==n(670);t[n(624)]=0,t[n(608)]=!0,t.keyFrameNeededPosted=!1,t[n(509)]=Yu,t[n(652)]=0,t[n(650)]=0,t[n(597)]=-1,t[n(596)]=0,t.jmuxer=new nu({node:i,mode:r?n(e?663:463):"video",fps:60,drm:t}),Wu&&t[n(497)].videoElement&&t[n(497)][n(689)][n(448)]()[n(684)]((function(){}))[n(476)]((function(){}))}function es(t,n,i){var r=Lu;if(t[r(497)][r(471)]&&"clear"===t.config[r(471)][r(619)])return null==i||i[r(632)](n),!1;var e=Date[r(591)]();if(n.type===r(611)){var u=f[r(600)];++t[r(521)]<(u?Number[r(478)]:5)&&(console[r(556)]((new Date)[r(552)]().slice(11,-1)+" "+n[r(580)]+", "+(n[r(496)].byteLength+r(455)+t[r(497)][r(689)][r(625)])),u&&1===t[r(521)]&&function(t,n,i){void 0===n&&(n=64),void 0===i&&(i=64);for(var r=Lu,e=new I(t[r(496)]),u="",s=0,o=0;o<n&&o<e[r(584)];++o)u+=(e[o]<16?"0":"")+e[o].toString(16)+" ";if(s<e[r(584)])for(s<e[r(584)]-i&&(u+=r(532),s=e[r(584)]-i);s<e[r(584)];s++)u+=(e[s]<16?"0":"")+e[s][r(621)](16)+" ";console.info("["+((t[r(580)]||r(463))+r(561))+r(569)+u[r(472)]())}(n,128,8)),t[r(608)]=!1,t[r(624)]=0,t[r(571)]=e+t[r(509)]}return t[r(624)]+=n.data[r(523)],!t[r(608)]&&t[r(624)]>zu&&(console[r(556)](r(585)),t[r(608)]=!0),t.jmuxer&&(function(t,n){var i=Lu;0===t[i(652)]&&(t[i(652)]=n[i(667)],t[i(509)]=Yu,t[i(571)]=Date[i(591)]()+2e3);var r=null,e=!1;if(n.data[i(523)]<=4)console[i(495)](i(613)),e=!0;else{var u=new I(n[i(496)],0,4);0!=u[0]||0!=u[1]||0!=u[2]||1!=u[3]?(console[i(495)](i(489)),e=!0):!(r=function(t,n){var i=hu,r=new DataView(t[i(335)]),e=t.data[i(346)]-2,u=r[i(340)](e);if(u<e){var s=e-u;if(69!==r[i(337)](e-1))return console[i(341)](i(339)),null;if(r.getUint8(s++)>>>4!=1)return console[i(341)](i(329)),null;for(var o=new I(u-2),a=0,c=0;s<e-1;){var h=r.getUint8(s++);c>1&&3===h&&(c=0,h=r.getUint8(s++)),0!==h?c=0:++c,o[a++]=h}var f=new DataView(o[i(343)]),v=n===i(327)?16:0,l=v+2+6*f.getUint16(v);return l+2>a?(console.error(i(325)),null):{sai:o[i(345)](0,l),offset:e-u,seq:f.getUint16(l)}}return null}(n,t[i(497)][i(471)][i(619)]))&&(console.warn(i(636)),e=!0)}if(r)if(-1===t[i(597)]){if(n[i(580)]!==i(611))return 0;t[i(597)]=r[i(547)]}else{var s=r.seq-t[i(597)];if(s<-32767&&(s+=65536),s<=0)return f[i(600)]&&console[i(495)](i(654)+t[i(597)]+", curr: "+r[i(547)]),0;s>1&&(e=n[i(580)]!==i(611),console[i(495)](i(570)+t[i(597)]+i(502)+r[i(547)]+i(541)+e)),t.prevSeqNum=r[i(547)]}var o=0;e&&!t[i(664)][i(458)]&&(o=-1,t[i(664)][i(644)]());var a=(n[i(667)]-t[i(652)])/9e4;return r&&t[i(664)][i(522)]({video:new I(n.data,0,r[i(456)]),videoSampleAuxInfo:r[i(612)],timestamp:a})<0&&(o=-1,console[i(495)](i(573)),rs(t)),o>=0&&"key"===n[i(580)]&&(t[i(596)]=a,console[i(483)]((new Date)[i(552)]()[i(559)](11,-1)+" kf at "+a+", playback at "+t[i(497)].videoElement[i(625)])),o}(t,n)<0?t[r(608)]=!0:function(t){var n=Lu,i=t.config[n(689)];if(!(!i||i[n(501)][n(584)]<1||i[n(505)]||i[n(625)]<Ku)){var r=t[n(497)].mediaBufferMs;if(void 0===r||r<0)throw new y("targetLatency not set!");var e,u,s,o,a,c=i[n(501)][n(565)](i[n(501)][n(584)]-1),h=1e3*(c-i[n(625)])|0;if(!t[n(649)]&&(a=Lu,(o=(u=h)<3*(s=r)>>>2?.875:u<=s?1:u<7*s>>>2?1.125:u<9*s>>>2?1.25:u<11*s>>>2?1.375:1.5)!==(e=i).playbackRate&&(e[a(606)]=o)),!(h<r+50||h<5*r>>>2))if(t.lastKeyFrameTime>i[n(625)]+.1){var v=1e3*(c-t[n(596)])|0;v>40&&v>r-100?(f[n(600)]&&console.info((new Date).toISOString().slice(11,-1)+n(598)+(i[n(625)]+n(592)+t[n(596)]+" (")+(t.lastKeyFrameTime-i[n(625)])+")"),i[n(625)]=t[n(596)]):console[n(483)]((new Date)[n(552)]().slice(11,-1)+n(534)+v)}else!t[n(608)]&&Date[n(591)]()>t[n(571)]&&h>r+100&&h>3*r>>>1&&(f[n(600)]&&console[n(556)]((new Date).toISOString()[n(559)](11,-1)+n(490)+h+" ms)"),t[n(608)]=!0,t[n(509)]<16e3&&(t[n(509)]<<=1))}}(t)),i?(!t[r(608)]||!Hu)&&(n[r(496)]=function(t){return!du&&function(){var t=vu;du=new I([0,0,0,1,65,154,255,255]).buffer,lu[t(303)](new I([0,0,0,1,39,100,0,13,172,87,5,6,100,0,0,0,1,40,238,60,176,0,0,0,1,37,184,32,0,203,255,38,29,217,24,192,161,96,0,0,12,229,174,166,6,7,20,3,84,0,247,96,193,181,229,128,0,32,32])[t(306)]),lu[t(303)](lu[0][t(299)](0)),new I(lu[1]).set([16,0,50],27)}(),t?du:lu[gu^=1]}(t[r(608)]),i[r(632)](n)):t[r(608)]!=t[r(445)]&&(t.worker&&t[r(544)][r(660)](t[r(608)]),t[r(445)]=t[r(608)]),t[r(608)]}function us(t,n){var i=Fu();return(us=function(t,n){return i[t-=445]})(t,n)}function ss(t,n,i){var r=Lu;return t[r(497)][r(463)]&&t[r(497)].audio[r(619)]!==r(670)?n[r(496)][r(523)]>0&&function(t,n){var i,r=Lu;if(!t.jmuxer||t[r(538)])return 0;0===t[r(650)]&&(t[r(650)]=n[r(667)]);var e=(n[r(667)]-t.audioStartTimestamp)/48e3;if("cbcs"===(null===(i=t.config[r(463)])||void 0===i?void 0:i[r(619)]))return t[r(664)][r(522)]({audio:new I(n[r(496)]),timestamp:e});var u=function(t){var n=hu,i=new DataView(t.data),r=t.data[n(346)]-2,e=i.getUint16(r);if(e<r){var u=r-e;if(69!==i[n(337)](r-1))return console[n(341)](n(339)),null;if(i[n(337)](u++)>>>4!=1)return console[n(341)](n(329)),null;for(var s=new I(e-2),o=0;u<r-1;){var a=i[n(337)](u++);if(s[o++]=a,o>=16)break}return{sai:s,offset:r-e}}return null}(n);u?t[r(664)][r(522)]({audio:new I(n[r(496)],0,u[r(456)]),audioSampleAuxInfo:u[r(612)],timestamp:e}):console[r(511)]("SampleAuxInfo extraction failed (audio)")}(t,n):i&&i[r(632)](n),!1}function os(t){var n=Lu;if(!t||(void 0===t?"undefined":W(t))!==n(692))throw new _("Invalid config argument type, DRM config must be an object.");if(!(t[n(689)]instanceof HTMLVideoElement))throw new _(n(633));if(t[n(628)]&&!(t.audioElement instanceof HTMLMediaElement))throw new _(n(693));if(void 0!==t[n(482)]&&!Number[n(555)](t[n(482)]))throw new _(n(460));for(var i=!1,r=!1,e=!1,u=["cbcs",n(668),n(670)],s=["SW","HW"],o=0,a=[t[n(471)],t[n(463)]];o<a.length;o++){var c=a[o];if(c){if(!u[n(557)](c[n(619)]))throw new RangeError("DRM config encryption value must be one of: "+u[n(593)](", "));if(Wu&&"cenc"===c.encryption)throw new RangeError(n(688));if(c[n(619)]!==n(670)){if(r=!0,c.keyId){if(!(c[n(646)]instanceof I)||16!==c.keyId[n(584)])throw new _("DRM config keyId must be an instance of 16-byte long Uint8Array.");e=!0}else if(Wu)throw new ReferenceError(n(655));if(c.iv&&(!(c.iv instanceof I)||16!==c.iv.length))throw new _(n(618));if(c[n(554)]&&!s[n(557)](c.robustness))throw new RangeError(n(658)+s[n(593)](", "));if(c===t[n(471)]&&c[n(484)]!==n(537))throw new RangeError(n(615));Wu&&c===t.audio&&"opus"===c.codec&&(i=!0,console.warn("Safari does not support Opus, audio will not be rendered.")),"PlayReady"===t[n(580)]&&(c[n(619)]!==n(668)&&console[n(495)](n(491)+c[n(619)]+"', it's safer to use 'cbcs' instead."),void 0===t.sessionId||t.sessionId[n(557)]("f1")||console.warn(n(674)+t.sessionId+n(643)))}}}if(r){var h=[au[n(558)],au.Staging,au[n(665)]];if(!h.includes(t[n(526)]))throw new RangeError(n(583)+h.join(", "));if(t[n(462)]&&W(t[n(462)])!==n(533))throw new _("Invalid authToken type ("+W(t[n(462)])+n(530));if(t.type)if(Wu){if(t[n(580)]!==n(575))throw new RangeError(n(514)+t[n(580)]+"). Safari only supports FairPlay.")}else if(Zu){if(t.type!==n(459)&&"ClearKey"!==t[n(580)])throw new RangeError("Invalid DRM type ("+t.type+n(675))}else if(ju&&t[n(580)]!==n(566)&&"Widevine"!==t[n(580)]&&"ClearKey"!==t[n(580)])throw new RangeError(n(514)+t.type+n(648))}void 0!==t.debugLog&&(f[n(600)]=t.debugLog),void 0!==t[n(446)]&&(f[n(517)]=t[n(446)]);var v=Qu.get(t[n(689)]);!v&&(v=new Ju(t),Qu[n(494)](t[n(689)],v)),v.enabled=r,v[n(538)]=i,v[n(649)]=!i&&v[n(497)][n(463)]&&v[n(497)].audio.encryption!==n(670),r&&(v[n(497)].type||(v[n(497)][n(580)]=n(Wu?575:459)),e||v[n(497)][n(580)]===n(549)||(v[n(497)][n(580)]=n(549)),is(v),function(t){ke(this,void 0,void 0,(function(){var n,i,r,e,u,s,o,a,c,h,v,l,g,m,w,p;return Ht(this,(function(_){switch(_.label){case 0:if(e=t[(n=us)(497)][n(689)],(!t[n(497)][n(471)]||t[n(497)][n(471)].encryption===n(670))&&(e=t[n(497)][n(628)]),!e)throw new y(n(492));return e.src="",e[n(588)]=null,[4,e.setMediaKeys(null)];case 1:_.sent(),u=null,_.label=2;case 2:return _.trys.push([2,4,,5]),[4,d[n(528)](t[n(503)],t.emeConfig)];case 3:return u=_.sent(),[3,5];case 4:return _.sent(),[3,5];case 5:if(u||!t[n(669)][0])return[3,9];if(!(void 0!==(s=null===(i=t[n(669)][0][n(647)])||void 0===i?void 0:i[n(553)](n(659)))&&s>=0))return[3,9];null===(r=t.emeConfig[0].sessionTypes)||void 0===r||r[n(687)](s,1),_.label=6;case 6:return _.trys.push([6,8,,9]),[4,d[n(528)](t[n(503)],t[n(669)])];case 7:return u=_.sent(),[3,9];case 8:return _.sent(),[3,9];case 9:if(!u)return o=n(576)+t[n(503)]+n(520),[2,(e.dispatchEvent(new CustomEvent(n(640),{detail:{message:o}})),void console[n(511)](o))];a=null,_.label=10;case 10:return _.trys.push([10,12,,13]),[4,u.createMediaKeys()];case 11:return a=_.sent(),[3,13];case 12:return _.sent(),[3,13];case 13:return a?t.serverCertificate?(f.clRtcDrmDebugLog&&console[n(556)](n(487)+t[n(546)][n(523)]+n(464)),[4,a[n(594)](t[n(546)])]):[3,15]:(c=n(540)+t[n(503)]+n(520),[2,(e[n(453)](new CustomEvent("rtcdrmerror",{detail:{message:c}})),void console[n(511)](c))]);case 14:return _.sent(),[3,21];case 15:if(!t.serverCertificateUrl)return[3,21];h={method:n(469)},v=t.serverCertificateUrl,_.label=16;case 16:return _.trys.push([16,20,,21]),[4,t[n(497)].onFetch?t.config[n(645)](v,h):fetch(v,h)];case 17:return(l=_.sent()).ok?[4,l[n(457)]()]:(g=n(601)+l[n(623)],[2,void e[n(453)](new CustomEvent(n(640),{detail:{message:g}}))]);case 18:return m=_.sent(),f.clRtcDrmDebugLog&&console[n(556)]("Fetched certificate from "+v+", "+m[n(523)]+" bytes"),[4,a[n(594)](m)];case 19:return _.sent(),[3,21];case 20:return w=_.sent(),p=w.name+": "+w[n(622)],[2,(console.error(p),void e[n(453)](new CustomEvent(n(640),{detail:{message:p}})))];case 21:return[4,e[n(500)](a)];case 22:return _.sent(),e[n(519)]("encrypted",Ou),rs(t),[2]}}))}))}(v)),v[n(497)][n(689)][n(519)](n(448),(function(){var t=n;v[t(497)][t(689)][t(625)]>.5&&(v[t(571)]=Date.now())}))}var as=Lu(582)+Lu(587)+Lu(548)+Lu(653)+Lu(590)+Lu(620)+Lu(614)+Lu(504)+Lu(518)+Lu(452)+Lu(642)+Lu(686)+"meNeeded=$.data};";function cs(t){var n,i=Lu;if(0===Qu[i(677)])throw new _(i(550));if(t&&t[i(689)])n=t[i(689)];else{if(1!==Qu.size)throw new _(i(510));n=Qu[i(638)]()[i(447)]()[i(531)]}var r=Qu[i(662)](n);if(!r){var e="";throw Qu[i(499)]((function(t,n){e+=n.id+", "})),e=e.slice(0,-2),new _(i(486)+n.id+i(657)+e+"]")}return r}function hs(t,n){var i=Lu;if(t&&t[i(497)][i(689)]){var r=t[i(497)][i(689)];if(r[i(501)].length>0){var e=r.buffered[i(565)](r[i(501)][i(584)]-1)-r[i(625)];n.playoutDelayHint=n.jitterBufferDelayHint=n.jitterBufferTarget=e}g(hs,1e3,t,n)}}var fs=gt.get("View");fs.setLevel(gt.DEBUG);var vs={metadata:!1,enableDRM:!1,disableVideo:!1,disableAudio:!1,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}},ls=function(t){function n(n,i,r,e){var u;return void 0===r&&(r=null),void 0===e&&(e=!0),n&&fs.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),(u=t.call(this,null,i,fs,e)||this).payloadTypeCodec={},u.tracksMidValues={},u.drmOptionsMap=null,u.eventQueue=[],u.isMainStreamActive=!1,r&&(u.on(br.track,(function(t){r.srcObject=t.streams[0]})),fs.warn("The mediaElement property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, do this in either the `track` or the `active` broadcast event.")),u}Rt(n,t);var i=n.prototype;return i.connect=function(t){void 0===t&&(t=vs);var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.options=b(m(m({},vs),t),{peerConfig:m(m({},vs.peerConfig),t.peerConfig),setSDPToPeer:!1}),n.eventQueue.length=0,[4,n.initConnection({migrate:!1})];case 1:return i.sent(),[2]}}))}))()},i.select=function(t){void 0===t&&(t={});var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return fs.debug("Viewer select layer values: ",t),[4,n.signaling.cmd("select",{layer:t})];case 1:return i.sent(),fs.info("Connected to streamName: ",n.streamName),[2]}}))}))()},i.addRemoteTrack=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return fs.info("Viewer adding remote track",t),[4,i.webRTCPeer.addRemoteTrack(t,n)];case 1:for(r=u.sent(),e=0;e<n.length;e++)n[e].addTrack(r.receiver.track);return[2,r]}}))}))()},i.project=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:for(r=function(t){var r=n[t];if(!r.trackId&&!r.media)throw fs.error("Error in projection mapping, trackId or mediaId must be set"),new y("Error in projection mapping, trackId or mediaId must be set");var e=i.webRTCPeer.getRTCPeer();if(r.mediaId&&!e.getTransceivers().find((function(t){return t.mid===r.mediaId.toString()})))throw fs.error("Error in projection mapping, ".concat(r.mediaId," mid not found in local transceivers")),new y("Error in projection mapping, ".concat(r.mediaId," mid not found in local transceivers"))},e=0;e<n.length;e++)r(e);return fs.debug("Viewer project source: layer mappings: ",t,n),[4,i.signaling.cmd("project",{sourceId:t,mapping:n})];case 1:return u.sent(),fs.info("Projection done"),[2]}}))}))()},i.unproject=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return fs.debug("Viewer unproject mediaIds: ",t),[4,n.signaling.cmd("unproject",{mediaIds:t})];case 1:return i.sent(),fs.info("Unprojection done"),[2]}}))}))()},i.replaceConnection=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return fs.info("Migrating current connection"),[4,t.initConnection({migrate:!0})];case 1:return n.sent(),[2]}}))}))()},i.stop=function(){var n,i;t.prototype.stop.call(this),null==(n=this.drmOptionsMap)||n.clear(),this.DRMProfile=null,null==(i=this.worker)||i.terminate(),this.worker=null,this.payloadTypeCodec={},this.tracksMidValues={},this.eventQueue.length=0},i.initConnection=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d,w,p;return Ht(this,(function(_){switch(_.label){case 0:if(fs.debug("Viewer connect options values: ",n.options),n.stopReconnection=!1,!t.migrate&&n.isActive())throw fs.warn("Viewer currently subscribed"),new y("Viewer currently subscribed");_.label=1;case 1:return _.trys.push([1,3,,4]),[4,n.tokenGenerator()];case 2:return e=_.sent(),n.options.peerConfig.iceServers=null==e?void 0:e.iceServers,n.options.peerConfig.encodedInsertableStreams=ve&&(n.options.enableDRM||n.options.metadata),[3,4];case 3:throw u=_.sent(),fs.error("Error generating token."),u instanceof Hr&&(401!==u.status&&n.autoReconnect?n.reconnect():n.stopReconnection=!0),u;case 4:if(!e)throw fs.error("Error while subscribing. Subscriber data required"),new y("Subscriber data required");return s=ee(e.jwt),n.streamName=s.millicast.streamName,o=new Zr({streamName:n.streamName,url:"".concat(e.urls[0],"?token=").concat(e.jwt)}),e.subscriberToken&&(n.subscriberToken=e.subscriberToken),[4,(a=t.migrate?new Ar:n.webRTCPeer).createRTCPeer(n.options.peerConfig)];case 5:return _.sent(),null==(i=n.stopReemitingWebRTCPeerInstanceEvents)||i.call(n),n.stopReemitingWebRTCPeerInstanceEvents=Ft(a,n,k.values(br).filter((function(t){return t!==br.track}))),n.options.metadata&&(n.worker||(n.worker=new me),n.worker.onmessage=function(t){if("metadata"===t.data.event){var i=new TextDecoder,r=t.data.metadata;if(r.mid=t.data.mid,r.track=n.tracksMidValues[t.data.mid],r.uuid){var e=r.uuid;r.uuid=e.reduce((function(t,n){return t+n.toString(16).padStart(2,"0")}),""),r.uuid=r.uuid.replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}if(r.timecode&&(r.timecode=new Date(i.decode(r.timecode))),r.unregistered){var u=i.decode(r.unregistered);try{var s=JSON.parse(u);r.unregistered=s}catch(t){fs.info("The content could not be converted to JSON, returning raw bytes instead")}}n.emit("metadata",r),n.emit("onMetadata",r)}}),a.on(br.track,(function(t){n.isMainStreamActive?n.onTrackEvent(t):n.eventQueue.push(t)})),o.on(jr,Zt((function(t){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.isMainStreamActive||"active"!==t.name?[3,3]:(n.mainSourceId=t.data.sourceId,n.DRMProfile||!t.data.encryption?[3,2]:[4,n.tokenGenerator()]);case 1:(i=r.sent()).drmObject&&(n.DRMProfile=i.drmObject),r.label=2;case 2:for(n.emit(jr,t),n.isMainStreamActive=!0;n.eventQueue.length>0;)n.onTrackEvent(n.eventQueue.shift());return[2];case 3:return"inactive"===t.name&&n.isMainStreamActive&&n.mainSourceId===t.data.sourceId&&(n.isMainStreamActive=!1),n.emit(jr,t),[2]}}))}))),c=a.getRTCLocalSDP(b(m({},n.options),{stereo:!0})),h=o.connect(),[4,ut.all([c,h])];case 6:return r=_.sent(),f=r[0],v=n.signaling,n.signaling=o,l=n.signaling.subscribe(f,b(m({},n.options),{vad:n.options.multiplexedAudioTracks>0})),d=a.peer.setLocalDescription(a.sessionDescription),[4,ut.all([l,d])];case 7:return r=_.sent(),w=r[0],n.payloadTypeCodec=dr.getCodecPayloadType(w),[4,a.setRTCRemoteSDP(w)];case 8:return _.sent(),fs.info("Connected to streamName: ",n.streamName),p=n.webRTCPeer,n.webRTCPeer=a,n.setReconnect(),t.migrate&&n.webRTCPeer.on(br.connectionStateChange,(function(t){var n,i;"connected"===t?g((function(){var t,n;null==(t=null==v?void 0:v.close)||t.call(v),null==(n=null==p?void 0:p.closeRTCPeer)||n.call(p),v=p=null,fs.info("Current connection migrated")}),1e3):["disconnected","failed","closed"].includes(t)&&(null==(n=null==v?void 0:v.close)||n.call(v),null==(i=null==p?void 0:p.closeRTCPeer)||i.call(p),v=p=null)})),[2]}}))}))()},i.onTrackEvent=function(t){var n,i,r;if(this.tracksMidValues[null==(n=t.transceiver)?void 0:n.mid]=t.track,this.isDRMOn){var e=t.transceiver.mid,u=this.getDRMConfiguration(e);try{!function(t,n){var i,r,e=Lu,u=t[e(629)][e(524)];"video"===u&&(t[e(661)][e(475)]=t[e(661)][e(451)]=t[e(661)][e(605)]=0);var s=cs(n),o=s[e(497)].videoElement,a=s[e(497)][e(628)];if(s[e(607)]){if(s[e(497)].customTransform)f.clRtcDrmDebugLog&&console[e(556)](e(468)+e(572));else if(f[e(600)]&&console[e(556)](e(467)+(e(Vu?589:609)+e(617))),Vu){if(s[e(544)]=function(t){var n=Lu,i=f[n(493)]||f[n(488)],r=f[n(666)],e=f[n(586)];if(!(i&&r&&e&&t))return null;var u=new r([t]);return new e(i[n(631)](u))}(as),null==s[e(544)])throw new y(e(539));s[e(544)][e(485)]=function(t){var n=e;t[n(496)][n(567)]===n(471)?es(s,t[n(496)].frame,null):ss(s,t[n(496)][n(651)],null)},t[e(661)].transform=new RTCRtpScriptTransform(s.worker,{operation:u})}else{var c=u===e(471)?es:ss,h={drm:s,transform:function(t,n){c(s,t,n)}},v=t.receiver.createEncodedStreams(),l=new TransformStream({transform:h.transform[e(656)](h)}),d=v.readable,g=v.writable;d[e(577)](l)[e(635)](g)}if("audio"===u&&(null===(i=s[e(497)][e(463)])||void 0===i?void 0:i.encryption)===e(670)){if(!a)return void console.warn(e(690));a[e(588)]!==t[e(481)][0]&&(a[e(588)]=t[e(481)][0]),s[e(497)].videoElement&&(t[e(661)][e(475)]=t[e(661)].jitterBufferDelayHint=t[e(661)][e(605)]=s[e(497)][e(482)],hs(s,t[e(661)]))}else"video"===u&&"clear"===(null===(r=s.config[e(471)])||void 0===r?void 0:r[e(619)])&&o[e(588)]!==t[e(481)][0]&&(o.srcObject=t.streams[0])}else o[e(588)]!==t[e(481)][0]&&(o.srcObject=t[e(481)][0])}(t,u)}catch(t){fs.error("Failed to apply DRM on media Id:",e,"error is: ",t),this.emit("error",new y("Failed to apply DRM on media Id: "+e+" error is: "+t))}this.worker||(this.worker=new me),this.worker.addEventListener("message",(function(t){"complete"===t.data.event&&function(t,n,i){var r=Lu,e=cs(i);t[r(580)]?es(e,t,n):ss(e,t,n)}(t.data.frame,null,u)}))}if(this.options.metadata)if(le)t.receiver.transform=new RTCRtpScriptTransform(this.worker,{name:"receiverTransform",payloadTypeCodec:m({},this.payloadTypeCodec),codec:this.options.metadata&&"h264",mid:null==(i=t.transceiver)?void 0:i.mid});else if(ve){var s=t.receiver.createEncodedStreams(),o=s.readable,a=s.writable;this.worker.postMessage({action:"insertable-streams-receiver",payloadTypeCodec:m({},this.payloadTypeCodec),codec:this.options.metadata&&"h264",mid:null==(r=t.transceiver)?void 0:r.mid,readable:o,writable:a},[o,a])}this.emit(br.track,t)},i.getDRMConfiguration=function(t){return this.drmOptionsMap?this.drmOptionsMap.get(t):null},i.onRtcDrmFetch=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,(n.headers||(n.headers=new Headers),n.headers.get("x-dt-custom-data")&&n.headers.delete("x-dt-custom-data"),i.subscriberToken?n.headers.append("Authorization","Bearer ".concat(i.subscriberToken)):fs.warn("onRtcDrmFetch: no subscriberToken"),fetch(t,n))]}))}))()},i.configureDRM=function(t){var n=this;if(!t)throw new y("Required DRM options is not provided");this.drmOptionsMap||(this.drmOptionsMap=new Map);var i={merchant:"dolby",environment:au.Production,customTransform:this.options.metadata,videoElement:t.videoElement,audioElement:t.audioElement,video:{codec:"H264",encryption:"cbcs",keyId:_e(t.videoEncryptionParams.keyId),iv:_e(t.videoEncryptionParams.iv)},audio:{codec:"opus",encryption:"clear"},onFetch:this.onRtcDrmFetch.bind(this)};t.mediaBufferMs&&(i.mediaBufferMs=t.mediaBufferMs),this.DRMProfile&&(this.DRMProfile.playReadyUrl&&(i.prLicenseUrl=this.DRMProfile.playReadyUrl),this.DRMProfile.widevineUrl&&(i.wvLicenseUrl=this.DRMProfile.widevineUrl),this.DRMProfile.fairPlayUrl&&(i.fpsLicenseUrl=this.DRMProfile.fairPlayUrl),this.DRMProfile.fairPlayCertUrl&&(i.fpsCertificateUrl=this.DRMProfile.fairPlayCertUrl));try{os(i),this.drmOptionsMap.set(t.videoMid,i),t.audioMid&&this.drmOptionsMap.set(t.audioMid,i),i.videoElement.addEventListener("rtcdrmerror",(function(t){fs.error("DRM error: ",t.detail.message,"in video element:",i.videoElement.id),n.emit("error",new y(t.detail.message))}))}catch(n){fs.error("Failed to configure DRM with options:",t,"error is:",n)}},i.removeDRMConfiguration=function(t){var n;null==(n=this.drmOptionsMap)||n.delete(t)},i.exchangeDRMConfiguration=function(t,n){var i=this.getDRMConfiguration(t),r=this.getDRMConfiguration(n);if(null===i)throw new y("No DRM configuration found for "+t);if(null===r)throw new y("No DRM configuration found for "+n);be(i.video,r.video,"keyId"),be(i.video,r.video,"iv");try{os(i)}catch(t){fs.error("Failed to configure DRM with options:",i,"error is:",t)}try{os(r)}catch(t){fs.error("Failed to configure DRM with options:",r,"error is:",t)}},xt(n,[{key:"isDRMOn",get:function(){return!!this.drmOptionsMap&&this.drmOptionsMap.size>0}}]),n}(he);t.Director=Jr,t.Logger=gt,t.PeerConnection=Ar,t.Publish=ye,t.Signaling=Zr,t.View=ls,k.defineProperty(t,n.toStringTag,{value:"Module"})},"object"==(void 0===t?"undefined":W(t))&&(void 0===e?"undefined":W(e))<"u"?s(t):"function"==typeof define&&define.amd?define(["exports"],s):s((u=("undefined"==typeof globalThis?"undefined":W(globalThis))<"u"?globalThis:u||self).millicast={})})),_n=L((function(t){function n(){var t=yn();return n=function(){return t},t}U(),St(),k.defineProperty(t,"__esModule",{value:!0}),function(t,n){for(var i in n)k.defineProperty(t,i,{enumerable:!0,get:n[i]})}(t,{Director:function(){return n().Director},View:function(){return n().View}})})),bn=L((function(t,n){U(),St(),n.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),kn=L((function(t,n){U(),St(),n.exports=function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=i+i,o=r+r,a=e+e,c=i*s,h=r*s,f=r*o,v=e*s,l=e*o,d=e*a,g=u*s,m=u*o,w=u*a;return t[0]=1-f-d,t[1]=h+w,t[2]=v-m,t[3]=0,t[4]=h-w,t[5]=1-c-d,t[6]=l+g,t[7]=0,t[8]=v+m,t[9]=l-g,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),An=L((function(t,n){U(),St(),n.exports=function(t,n,i){var r,e,u,s=i[0],o=i[1],a=i[2],c=A.sqrt(s*s+o*o+a*a);if(A.abs(c)<1e-6)return null;return s*=c=1/c,o*=c,a*=c,r=A.sin(n),e=A.cos(n),u=1-e,t[0]=s*s*u+e,t[1]=o*s*u+a*r,t[2]=a*s*u-o*r,t[3]=0,t[4]=s*o*u-a*r,t[5]=o*o*u+e,t[6]=a*o*u+s*r,t[7]=0,t[8]=s*a*u+o*r,t[9]=o*a*u-s*r,t[10]=a*a*u+e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),Tn=L((function(t,n){U(),St(),n.exports=function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}})),Sn=L((function(t,n){U(),St(),n.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),En=L((function(t,n){U(),St(),n.exports=function(t,n){var i=n[0],r=n[1],e=n[2],u=n[3],s=n[4],o=n[5],a=n[6],c=n[7],h=n[8],f=n[9],v=n[10],l=n[11],d=n[12],g=n[13],m=n[14],w=n[15],p=i*o-r*s,y=i*a-e*s,_=i*c-u*s,b=r*a-e*o,k=r*c-u*o,A=e*c-u*a,T=h*g-f*d,S=h*m-v*d,E=h*w-l*d,I=f*m-v*g,R=f*w-l*g,C=v*w-l*m,N=p*C-y*R+_*I+b*E-k*S+A*T;if(!N)return null;return N=1/N,t[0]=(o*C-a*R+c*I)*N,t[1]=(e*R-r*C-u*I)*N,t[2]=(g*A-m*k+w*b)*N,t[3]=(v*k-f*A-l*b)*N,t[4]=(a*E-s*C-c*S)*N,t[5]=(i*C-e*E+u*S)*N,t[6]=(m*_-d*A-w*y)*N,t[7]=(h*A-v*_+l*y)*N,t[8]=(s*R-o*E+c*T)*N,t[9]=(r*E-i*R-u*T)*N,t[10]=(d*k-g*_+w*p)*N,t[11]=(f*_-h*k-l*p)*N,t[12]=(o*S-s*I-a*T)*N,t[13]=(i*I-r*S+e*T)*N,t[14]=(g*y-d*b-m*p)*N,t[15]=(h*b-f*y+v*p)*N,t}})),In=L((function(t,n){U(),St(),n.exports=function(t,n,i){var r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],l=n[10],d=n[11],g=n[12],m=n[13],w=n[14],p=n[15],y=i[0],_=i[1],b=i[2],k=i[3];return t[0]=y*r+_*o+b*f+k*g,t[1]=y*e+_*a+b*v+k*m,t[2]=y*u+_*c+b*l+k*w,t[3]=y*s+_*h+b*d+k*p,y=i[4],_=i[5],b=i[6],k=i[7],t[4]=y*r+_*o+b*f+k*g,t[5]=y*e+_*a+b*v+k*m,t[6]=y*u+_*c+b*l+k*w,t[7]=y*s+_*h+b*d+k*p,y=i[8],_=i[9],b=i[10],k=i[11],t[8]=y*r+_*o+b*f+k*g,t[9]=y*e+_*a+b*v+k*m,t[10]=y*u+_*c+b*l+k*w,t[11]=y*s+_*h+b*d+k*p,y=i[12],_=i[13],b=i[14],k=i[15],t[12]=y*r+_*o+b*f+k*g,t[13]=y*e+_*a+b*v+k*m,t[14]=y*u+_*c+b*l+k*w,t[15]=y*s+_*h+b*d+k*p,t}})),Rn=L((function(t,n){U(),St(),n.exports=function(t,n,i,r,e){var u=1/A.tan(n/2),s=1/(r-e);return t[0]=u/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(e+r)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*e*r*s,t[15]=0,t}})),Cn=L((function(t,n){U(),St(),n.exports=function(t,n,i,r){var e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b,k,T,S,E,I,R,C=r[0],N=r[1],x=r[2],D=A.sqrt(C*C+N*N+x*x);if(A.abs(D)<1e-6)return null;C*=D=1/D,N*=D,x*=D,e=A.sin(i),u=A.cos(i),s=1-u,o=n[0],a=n[1],c=n[2],h=n[3],f=n[4],v=n[5],l=n[6],d=n[7],g=n[8],m=n[9],w=n[10],p=n[11],y=C*C*s+u,_=N*C*s+x*e,b=x*C*s-N*e,k=C*N*s-x*e,T=N*N*s+u,S=x*N*s+C*e,E=C*x*s+N*e,I=N*x*s-C*e,R=x*x*s+u,t[0]=o*y+f*_+g*b,t[1]=a*y+v*_+m*b,t[2]=c*y+l*_+w*b,t[3]=h*y+d*_+p*b,t[4]=o*k+f*T+g*S,t[5]=a*k+v*T+m*S,t[6]=c*k+l*T+w*S,t[7]=h*k+d*T+p*S,t[8]=o*E+f*I+g*R,t[9]=a*E+v*I+m*R,t[10]=c*E+l*I+w*R,t[11]=h*E+d*I+p*R,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]);return t}})),Nn=L((function(t,n){U(),St(),n.exports=function(t,n,i){var r,e,u,s,o,a,c,h,f,v,l,d,g=i[0],m=i[1],w=i[2];n===t?(t[12]=n[0]*g+n[4]*m+n[8]*w+n[12],t[13]=n[1]*g+n[5]*m+n[9]*w+n[13],t[14]=n[2]*g+n[6]*m+n[10]*w+n[14],t[15]=n[3]*g+n[7]*m+n[11]*w+n[15]):(r=n[0],e=n[1],u=n[2],s=n[3],o=n[4],a=n[5],c=n[6],h=n[7],f=n[8],v=n[9],l=n[10],d=n[11],t[0]=r,t[1]=e,t[2]=u,t[3]=s,t[4]=o,t[5]=a,t[6]=c,t[7]=h,t[8]=f,t[9]=v,t[10]=l,t[11]=d,t[12]=r*g+o*m+f*w+n[12],t[13]=e*g+a*m+v*w+n[13],t[14]=u*g+c*m+l*w+n[14],t[15]=s*g+h*m+d*w+n[15]);return t}})),xn={};!function(t,n){for(var i in n)x(t,i,{get:n[i],enumerable:!0})}(xn,{ChromelessPlayer:function(){return yB},ErrorCategory:function(){return ul},ErrorCode:function(){return el},Player:function(){return sat},cache:function(){return H5},cast:function(){return Y$},features:function(){return kB},players:function(){return TB},registerContentProtectionIntegration:function(){return SB},utils:function(){return bB},version:function(){return AB},videojs:function(){return cst}}),h.exports=(wn=xn,F(x({},"__esModule",{value:!0}),wn)),U(),St(),U(),St(),U(),St(),U(),St(),Ct(),U(),St(),Dt(),U(),St(),U(),St(),U(),St(),Dt(),U(),St();var Dn=function(t){return t.Sv="web",t.Tv="android",t.Ev="android-tv",t.xv="ios",t.Rv="tvos",t.Iv="chromecast",t.Cv="theoliveweb",t}({});var Pn=d?d.userAgent:"",Mn=Pn.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Bn=Pn.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),On=Pn.match(/Android ([0-9\.]+)/i),Ln=Pn.match(/Windows NT ([0-9\.]+)/i),Fn=Pn.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Vn=Pn.match(/Firefox\/([0-9\.]+)/i),Un=Pn.match(/OPR\/(\d+\.\d+)/i),Wn=Pn.match(/Tizen ([0-9\.]+)/i),jn=Pn.match(/(iPhone OS|iPad OS|iPod OS|Mac OS X) (\d+)_(\d+)_?(\d+)?/),Zn=Pn.match(/HbbTV\/([0-9.]+)/i),Xn=function(){function t(){this.Pv=Boolean("ontouchstart"in self||self.DocumentTouch&&v instanceof self.DocumentTouch||d&&d.msMaxTouchPoints),this.Nv=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(Pn)||/(macintosh|mac(?=_powerpc)\s)/i.test(Pn),this.Lv=/Windows NT/i.test(Pn),this.Ov=Ln?S(Ln[1]):0,this.Vv=/Android/i.test(Pn),this.Uv=On?S(On[1]):0,this.Hv=/windows phone (8|8\.1)/i.test(Pn),this.Xv=/iPhone/i.test(Pn),this.qv=/iPad/i.test(Pn),this.Kv=this.Nv&&this.Pv&&!this.qv,this.Jv=/iPod/i.test(Pn),this.dm=/Mobile Safari/i.test(Pn),this.um=/EOS\d*STB/i.test(Pn),this.lm=/APP\d*STB/i.test(Pn),this.$v=(this.Xv||this.qv||this.Kv||this.Jv)&&!this.Hv,this.nm=jn?S(jn[2]):0,this.fm=this.Hv||this.$v||this.Vv||this.dm,this.vm=/CriOS/i.test(Pn),this.pm=Boolean(self.chrome&&/google/i.test(d.vendor))||this.vm,this.Tm=this.pm&&/Edg\//i.test(d.userAgent),this.xm=Bn?T(Bn[1],10):0,this.Og=Boolean(/CriOS/i.test(Pn)),this.Bg=Boolean(self.chrome||/Chrome/i.test(Pn)||this.Og),this.Am=Mn?T(Mn[1],10):0,this.Cm=/SMART-TV.*Tizen/i.test(Pn),this.Dm=Wn?S(Wn[1]):0,this.ym=this.Dm>0?function(t){return t>=8?108:t>=7?94:t>=6.5?85:t>=6?76:t>=5.5?69:t>=5?63:t>=4?56:t>=3?47:0}(this.Dm):void 0,this.Mm=/webos|web0s/i.test(Pn),this.Bm=/HbbTV/i.test(Pn),this.Fm=!!Zn&&function(t){if(!t)return!1;var n=t.split(".").map(Number);return 3===n.length&&1===n[0]&&2===n[1]}(Zn[1]),this.Wm=/VIZIO/i.test(Pn),this.Gm=/Edge\/\d+/i.test(Pn),this.Zm=/Trident/i.test(Pn),this.zm=this.Zm&&!self.ActiveXObject&&"ActiveXObject"in self,this.Ym=/Vivaldi/i.test(Pn),this.jm=/Firefox/i.test(Pn)&&!/Seamonkey/i.test(Pn),this.Jm=Vn?S(Vn[1]):0,this.eg=/Safari/i.test(Pn)&&!/Chrome/i.test(Pn)&&!this.Hv&&!this.Cm,this.og=Fn?S(Fn[2]):0,this.ag=Boolean(Un),this.dg=Un?S(Un[1]):0,this._g=/CrKey/.test(Pn),this.gg=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv|vizio)\b/i.test(Pn),this.yg=/PlayStation 4/i.test(Pn),this.Sg="web"===Dn.Ev,this.Eg="web"===Dn.Tv,this.Rg=this.Eg||this.Sg,this.Cg="web"===Dn.xv,this.Dg="web"===Dn.Rv,this.Mg="web"===Dn.Iv}return xt(t,[{key:"Je",get:function(){return this.Pv}},{key:"Dv",get:function(){return this.Nv}},{key:"Mv",get:function(){return this.Lv}},{key:"Bv",get:function(){return this.Ov}},{key:"Fv",get:function(){return this.Vv}},{key:"Wv",get:function(){return this.Uv}},{key:"Gv",get:function(){return this.Hv}},{key:"Zv",get:function(){return this.Xv}},{key:"zv",get:function(){return this.qv}},{key:"Yv",get:function(){return this.Kv}},{key:"Qv",get:function(){return this.Jv}},{key:"iu",get:function(){return this.$v}},{key:"im",get:function(){return this.nm}},{key:"hm",get:function(){return this.um||this.lm}},{key:"ad",get:function(){return this.dm}},{key:"Qs",get:function(){return this.fm}},{key:"_m",get:function(){return this.vm}},{key:"gm",get:function(){return this.pm}},{key:"wm",get:function(){var t;return null!=(t=this.ym)?t:this.Am}},{key:"Sm",get:function(){return this.Tm}},{key:"Em",get:function(){var t;return(null==(t=f.chrome)?void 0:t.webview)&&this.xm>0}},{key:"Rm",get:function(){return this.xm}},{key:"Im",get:function(){return this.Cm}},{key:"Pm",get:function(){return this.Dm}},{key:"Nm",get:function(){return this.Mm}},{key:"Lm",get:function(){return this.Bm}},{key:"Om",get:function(){return this.Fm}},{key:"Vm",get:function(){return this.Wm}},{key:"Um",get:function(){return this.Gm}},{key:"Hm",get:function(){return this.Zm}},{key:"Xm",get:function(){return this.zm}},{key:"qm",get:function(){return this.Ym}},{key:"Km",get:function(){return this.jm}},{key:"Qm",get:function(){return this.Jm}},{key:"$m",get:function(){return this.eg}},{key:"rg",get:function(){return this.og}},{key:"hg",get:function(){return this.ag}},{key:"cg",get:function(){return this.dg}},{key:"fg",get:function(){return this._g}},{key:"vg",get:function(){return this.gg}},{key:"pg",get:function(){return!(!this.Nm&&!this.Im)&&this.wm<=56}},{key:"wg",get:function(){return this.yg}},{key:"Ag",get:function(){return this.Sg}},{key:"Tg",get:function(){return this.Eg}},{key:"xg",get:function(){return this.Rg}},{key:"Ig",get:function(){return this.Cg}},{key:"Pg",get:function(){return this.Dg}},{key:"Ng",get:function(){return this.Mg}},{key:"Lg",get:function(){return this.Bg}},{key:"IS_IOS_CHROME",get:function(){return this.Og}}]),t}();Xn.Fg=new Xn;var Gn=Xn.Fg;U(),St(),ct();var Hn={}.hasOwnProperty,zn={}.toString;function Yn(t){return null!=t}function Kn(t){return void 0===t}var qn,Jn=Array.isArray||function(t){return"[object Array]"===zn.call(t)};function Qn(t){return $n(t)&&Hn.call(t,"length")&&ui(t.length)}function $n(t){return"object"===(void 0===t?"undefined":W(t))&&null!==t}function ti(t){return $n(t)&&t.constructor&&t.constructor===k}function ni(t){return"string"==typeof t}function ii(t){return"boolean"==typeof t}function ri(t){return Yn(t)&&"function"==typeof t.then}function ei(t){return"[object Date]"===zn.call(t)}function ui(t){return"number"==typeof t}function si(t){return"function"==typeof t}function oi(t){return si(t)||$n(t)}function ai(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ci(t){for(var n;Yn(n=t.firstChild);)t.removeChild(n)}function hi(t,n){t.insertBefore(n,t.firstChild)}function fi(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}function vi(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}function li(t,n){return void 0!==t.classList?t.classList.contains(n):void 0!==t.className&&-1!==(" "+fi(t)+" ").indexOf(" "+n+" ")}function di(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=fi(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&vi(t,(i+" "+n).trim())}}function gi(t,n){if(void 0!==t.classList)t.classList.remove(n);else if(void 0!==t.className){for(var i=" "+fi(t)+" ",r=" "+n+" ";-1!==i.indexOf(r);)i=i.replace(r," ");vi(t,i.trim())}}function mi(t,n,i){void 0===i&&(i=!li(t,n)),i?di(t,n):gi(t,n)}function wi(t){t.stopPropagation()}function pi(t,n){Gn.Im&&Gn.Pm<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function yi(t,n){var i=n.style;if(i)for(var r=0,e=k.keys(t);r<e.length;r++){var u=e[r],s=t[u];void 0!==s&&(i[u]=s)}}function _i(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function bi(t){var n=t.style;n.position="",n.left="",n.right="",n.top="",n.bottom="",n.width="",n.height=""}function ki(t){t.removeAttribute("title")}function Ai(t){try{return Boolean(t)&&t.parent!==t}catch(t){return!1}}U(),St(),U(),St();var Ti=function(){},Si=function(t){return t};function Ei(t,n){var i=-1/0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=qn.Vg();s-i>=n&&(t.apply(this,e),i=s)}}function Ii(t,n){var i=0;return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var s=this;0!==i&&qn.Wg(i),i=qn.Ug((function(){i=0,t.apply(s,e)}),n)}}function Ri(t){var n;return function(){return void 0!==t&&(n=t(),t=void 0),n}}function Ci(t){return"video"===function(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||""}(t)}function Ni(t){t.src&&(t.removeAttribute("src"),t.load()),t.srcObject&&(t.srcObject=null,t.load())}function xi(){return void 0!==v?v.createElement("video"):void 0}var Di=Ri(xi),Pi=Ri((function(){return"undefined"!=typeof HTMLVideoElement&&Di()instanceof HTMLVideoElement}));U(),St(),U(),St(),U(),St();var Mi=null;try{Mi=new WebAssembly.Instance(new WebAssembly.Module(new I([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(wn){}function Bi(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Oi(t){return!0===(t&&t.Gg)}function Li(t){var n=A.clz32(t&-t);return t?31-n:n}Bi.prototype.Gg,k.defineProperty(Bi.prototype,"Gg",{value:!0}),Bi.isLong=Oi;var Fi={},Vi={};function Ui(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=Vi[t])?r:(i=ji(t,0,!0),e&&(Vi[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=Fi[t])?r:(i=ji(t,t<0?-1:0,!1),e&&(Fi[t]=i),i)}function Wi(t,n){if(E(t))return n?Ji:qi;if(n){if(t<0)return Ji;if(t>=zi)return ir}else{if(t<=-Yi)return rr;if(t+1>=Yi)return nr}return t<0?Wi(-t,n).neg():ji(t%Hi|0,t/Hi|0,n)}function ji(t,n,i){return new Bi(t,n,i)}Bi.fromInt=Ui,Bi.fromNumber=Wi,Bi.fromBits=ji;var Zi=A.pow;function Xi(t,n,i){if(0===t.length)throw y("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?Ji:qi;if((i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw y("interior hyphen");if(0===r)return Xi(t.substring(1),n,i).neg();for(var e=Wi(Zi(i,8)),u=qi,s=0;s<t.length;s+=8){var o=A.min(8,t.length-s),a=T(t.substring(s,s+o),i);if(o<8){var c=Wi(Zi(i,o));u=u.mul(c).add(Wi(a))}else u=(u=u.mul(e)).add(Wi(a))}return u.unsigned=n,u}function Gi(t,n){return"number"==typeof t?Wi(t,n):"string"==typeof t?Xi(t,n):ji(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Bi.fromString=Xi,Bi.fromValue=Gi;var Hi=4294967296,zi=Hi*Hi,Yi=zi/2,Ki=Ui(1<<24),qi=Ui(0);Bi.ZERO=qi;var Ji=Ui(0,!0);Bi.UZERO=Ji;var Qi=Ui(1);Bi.ONE=Qi;var $i=Ui(1,!0);Bi.UONE=$i;var tr=Ui(-1);Bi.NEG_ONE=tr;var nr=ji(-1,2147483647,!1);Bi.MAX_VALUE=nr;var ir=ji(-1,-1,!0);Bi.MAX_UNSIGNED_VALUE=ir;var rr=ji(0,-2147483648,!1);Bi.MIN_VALUE=rr;var er=Bi.prototype;er.toInt=function(){return this.unsigned?this.low>>>0:this.low},er.toNumber=function(){return this.unsigned?(this.high>>>0)*Hi+(this.low>>>0):this.high*Hi+(this.low>>>0)},er.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(rr)){var n=Wi(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Wi(Zi(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),a=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},er.getHighBits=function(){return this.high},er.getHighBitsUnsigned=function(){return this.high>>>0},er.getLowBits=function(){return this.low},er.getLowBitsUnsigned=function(){return this.low>>>0},er.getNumBitsAbs=function(){if(this.isNegative())return this.eq(rr)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},er.isZero=function(){return 0===this.high&&0===this.low},er.eqz=er.isZero,er.isNegative=function(){return!this.unsigned&&this.high<0},er.isPositive=function(){return this.unsigned||this.high>=0},er.isOdd=function(){return 1==(1&this.low)},er.isEven=function(){return 0==(1&this.low)},er.equals=function(t){return Oi(t)||(t=Gi(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},er.eq=er.equals,er.notEquals=function(t){return!this.eq(t)},er.neq=er.notEquals,er.ne=er.notEquals,er.lessThan=function(t){return this.comp(t)<0},er.lt=er.lessThan,er.lessThanOrEqual=function(t){return this.comp(t)<=0},er.lte=er.lessThanOrEqual,er.le=er.lessThanOrEqual,er.greaterThan=function(t){return this.comp(t)>0},er.gt=er.greaterThan,er.greaterThanOrEqual=function(t){return this.comp(t)>=0},er.gte=er.greaterThanOrEqual,er.ge=er.greaterThanOrEqual,er.compare=function(t){if(Oi(t)||(t=Gi(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},er.comp=er.compare,er.negate=function(){return!this.unsigned&&this.eq(rr)?rr:this.not().add(Qi)},er.neg=er.negate,er.add=function(t){Oi(t)||(t=Gi(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=e+(65535&t.low))>>>16,c+=(h+=r+o)>>>16,a+=(c+=i+s)>>>16,a+=n+u,ji((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},er.subtract=function(t){return Oi(t)||(t=Gi(t)),this.add(t.neg())},er.sub=er.subtract,er.multiply=function(t){if(this.isZero())return this;if(Oi(t)||(t=Gi(t)),Mi)return ji(Mi.mul(this.low,this.high,t.low,t.high),Mi.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Ji:qi;if(this.eq(rr))return t.isOdd()?rr:qi;if(t.eq(rr))return this.isOdd()?rr:qi;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Ki)&&t.lt(Ki))return Wi(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=e*a)>>>16,h+=(f+=r*a)>>>16,f&=65535,h+=(f+=e*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=r*o)>>>16,h&=65535,c+=(h+=e*s)>>>16,c+=n*a+i*o+r*s+e*u,ji((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},er.mul=er.multiply,er.divide=function(t){if(Oi(t)||(t=Gi(t)),t.isZero())throw y("division by zero");var n,i,r;if(Mi)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?ji((this.unsigned?Mi.div_u:Mi.div_s)(this.low,this.high,t.low,t.high),Mi.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Ji:qi;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Ji;if(t.gt(this.shru(1)))return $i;r=Ji}else{if(this.eq(rr))return t.eq(Qi)||t.eq(tr)?rr:t.eq(rr)?Qi:(n=this.shr(1).div(t).shl(1)).eq(qi)?t.isNegative()?Qi:tr:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(rr))return this.unsigned?Ji:qi;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=qi}for(i=this;i.gte(t);){n=A.max(1,A.floor(i.toNumber()/t.toNumber()));for(var e=A.ceil(A.log(n)/A.LN2),u=e<=48?1:Zi(2,e-48),s=Wi(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=Wi(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=Qi),r=r.add(s),i=i.sub(o)}return r},er.div=er.divide,er.modulo=function(t){return Oi(t)||(t=Gi(t)),Mi?ji((this.unsigned?Mi.rem_u:Mi.rem_s)(this.low,this.high,t.low,t.high),Mi.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},er.mod=er.modulo,er.rem=er.modulo,er.not=function(){return ji(~this.low,~this.high,this.unsigned)},er.countLeadingZeros=function(){return this.high?A.clz32(this.high):A.clz32(this.low)+32},er.clz=er.countLeadingZeros,er.countTrailingZeros=function(){return this.low?Li(this.low):Li(this.high)+32},er.ctz=er.countTrailingZeros,er.and=function(t){return Oi(t)||(t=Gi(t)),ji(this.low&t.low,this.high&t.high,this.unsigned)},er.or=function(t){return Oi(t)||(t=Gi(t)),ji(this.low|t.low,this.high|t.high,this.unsigned)},er.xor=function(t){return Oi(t)||(t=Gi(t)),ji(this.low^t.low,this.high^t.high,this.unsigned)},er.shiftLeft=function(t){return Oi(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?ji(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):ji(0,this.low<<t-32,this.unsigned)},er.shl=er.shiftLeft,er.shiftRight=function(t){return Oi(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?ji(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):ji(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},er.shr=er.shiftRight,er.shiftRightUnsigned=function(t){return Oi(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?ji(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):ji(32===t?this.high:this.high>>>t-32,0,this.unsigned)},er.shru=er.shiftRightUnsigned,er.shr_u=er.shiftRightUnsigned,er.rotateLeft=function(t){var n;return Oi(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?ji(this.high,this.low,this.unsigned):t<32?(n=32-t,ji(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),ji(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},er.rotl=er.rotateLeft,er.rotateRight=function(t){var n;return Oi(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?ji(this.high,this.low,this.unsigned):t<32?(n=32-t,ji(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),ji(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},er.rotr=er.rotateRight,er.toSigned=function(){return this.unsigned?ji(this.low,this.high,!1):this},er.toUnsigned=function(){return this.unsigned?this:ji(this.low,this.high,!0)},er.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},er.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},er.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Bi.fromBytes=function(t,n,i){return i?Bi.fromBytesLE(t,n):Bi.fromBytesBE(t,n)},Bi.fromBytesLE=function(t,n){return new Bi(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Bi.fromBytesBE=function(t,n){return new Bi(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var ur=Bi;function sr(t,n){return t.lessThan(n)?t:n}U(),St();var or=9007199254740991,ar=A.pow(2,-52);function cr(t,n,i){return A.min(A.max(t,n),i)}function hr(t,n,i){return t===n||A.abs(t-n)<=i}function fr(t,n){if(t===n)return!0;var i=A.abs(t-n);return i<ar||i<A.max(A.abs(t),A.abs(n))*ar}function vr(t,n){return t%n+(t<0?n:0)}function lr(t){return t!=t}function dr(t,n){return t===n||lr(t)&&lr(n)}function gr(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function mr(t,n){return t.reduce((function(t,i){return t+n(i)}),0)}function wr(t){return!E(t.getTime())}function pr(){return Date.now()||(new Date).getTime()}function yr(t){return t/1e3}function _r(t){return 1e3*t}var br=1/6,kr=ur.fromNumber(or);function Ar(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(kr))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}var Tr=!!("ontouchstart"in self||self.DocumentTouch&&v instanceof self.DocumentTouch)||!(!d||!d.msMaxTouchPoints),Sr=Di(),Er=!(!Sr||!Sr.webkitShowPlaybackTargetPicker),Ir=function(){function t(){this.Zg=void 0,this.fp=!1,this.Je=Tr,this.Qs=!1,this._p=!0}var n=t.prototype;return n.Xg=function(){return 0},n.lp=function(t,n){return!0},n.dp=function(t){return t>=2*br},xt(t,[{key:"Hg",get:function(){return void 0===this.Zg&&(this.Zg=this.Xg()),this.Zg}},{key:"zg",get:function(){return!Gn.vg}},{key:"qg",get:function(){if(f.screen)return{width:f.screen.width,height:f.screen.height}}},{key:"Yg",get:function(){return f.devicePixelRatio||1}},{key:"Kg",get:function(){return Er}},{key:"jg",get:function(){return!1}},{key:"Qg",get:function(){return!0}},{key:"Jg",get:function(){return!(!Gn.$m&&!Gn.iu)||!!Gn.Vm}},{key:"$g",get:function(){return Gn.Vm}},{key:"tp",get:function(){return!Gn.iu}},{key:"ep",get:function(){return!0}},{key:"sp",get:function(){return!0}},{key:"np",get:function(){return!1}},{key:"rp",get:function(){}},{key:"op",get:function(){return!0}},{key:"hp",get:function(){return!1}},{key:"ap",get:function(){return Gn.Vm}},{key:"cp",get:function(){return!1}}]),t}(),Rr=function(t){function n(){return t.call(this)||this}return Rt(n,t),n}(Ir);U(),St(),Dt(),Ct();var Cr=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.lp=function(t,n){if(t&&t.vp&&n&&n.vp){var i=Nr(t.vp,"mp4a.40.2")&&Nr(n.vp,"mp4a.40.5"),r=Nr(t.vp,"mp4a.40.5")&&Nr(n.vp,"mp4a.40.2"),e=Nr(t.vp,"mp4a.40.2")&&Nr(n.vp,"mp4a.40.34"),u=Nr(t.vp,"mp4a.40.34")&&Nr(n.vp,"mp4a.40.2"),s=Nr(t.vp,"mp4a.40.5")&&Nr(n.vp,"mp4a.40.34"),o=Nr(t.vp,"mp4a.40.34")&&Nr(n.vp,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},xt(n,[{key:"rp",get:function(){if(Gn.Dv)return 4096}}]),n}(Rr);function Nr(t,n){return t.indexOf(n)>-1}U(),St(),Ct();var xr=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.dp=function(t){return t>=2},n}(Rr);U(),St(),Dt(),Ct();var Dr=function(t){function n(){var n;return(n=t.call(this)||this).fp=Gn.rg>=11,n._p=Gn.$m&&!(Gn.iu&&Gn.rg<10),n}return Rt(n,t),xt(n,[{key:"cp",get:function(){return Gn.rg<17}}]),n}(Rr);U(),St(),Dt(),Ct();var Pr,Mr=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),xt(n,[{key:"op",get:function(){return!Gn.Mv||(Gn.Sm?92!==Gn.Rm:Gn.wm>=100)}}]),n}(Rr);U(),St(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St();var Br=function(){var t=xi();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}(),Or=function(){if(Gn.Yv)return!1;var t=xi();if(!t)return!1;var n=t.volume;return t.volume=n/2+.1,n!==t.volume}();var Lr=function(t){function n(n){var i;return(i=t.call(this)||this).mp=n,i.fp=i.mp.fp,i.Je=i.mp.Je,i._p=Br&&i.mp._p,i}Rt(n,t);var i=n.prototype;return i.Xg=function(){return this.mp.Hg},i.lp=function(t,n){return this.mp.lp(t,n)},i.dp=function(t){return this.mp.dp(t)},xt(n,[{key:"rp",get:function(){return this.mp.rp}},{key:"op",get:function(){return this.mp.op}},{key:"cp",get:function(){return this.mp.cp}}]),n}(Ir),Fr=function(t){function n(n){var i;return(i=t.call(this,n)||this).fp=!0,i.Qs=!0,i}return Rt(n,t),xt(n,[{key:"np",get:function(){return Gn.iu}}]),n}(Lr);U(),St();var Vr=function(){function t(t){this.pp=Ur(t)}var n=t.prototype;return n.gp=function(){return new this.pp},n.wp=function(t){return this.pp.isTypeSupported(t)},t}();function Ur(t){return t&&oi(f.ManagedMediaSource)?f.ManagedMediaSource:oi(f.MediaSource)?f.MediaSource:void 0}var Wr=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.Xg=function(){return Ur(!0)?t.prototype.Xg.call(this):1},xt(n,[{key:"np",get:function(){return!0}}]),n}(Fr);U(),St(),Dt(),Ct();var jr=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.lp=function(n,i){return t.prototype.lp.call(this,n,i)},xt(n,[{key:"jg",get:function(){return Gn.Pm<3}},{key:"Qg",get:function(){return Gn.Pm>=3}},{key:"qg",get:function(){var t=this;return f.tizen&&!this.yp&&f.tizen.systeminfo.getPropertyValue("DISPLAY",(function(n){var i=n.resolutionWidth,r=n.resolutionHeight;1===i&&1===r||(t.yp={width:i,height:r})})),this.yp}},{key:"hp",get:function(){return Gn.Pm<3}}]),n}(Lr);U(),St(),Dt(),Ct();var Zr=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),xt(n,[{key:"qg",get:function(){var t=this;return f.webOS&&!this.yp&&f.webOS.deviceInfo((function(n){t.yp={width:n.screenWidth,height:n.screenHeight}})),this.yp}},{key:"ep",get:function(){return!1}}]),n}(Lr);U(),St(),Dt(),Ct();var Xr=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),xt(n,[{key:"np",get:function(){return!0}}]),n}(Lr);!function(t){Pr=t}(function(){var t=function(){if(Gn.Km)return new Cr;if(Gn.Um||Gn.Hm)return new xr;if(Gn.$m)return new Dr;if(Gn.gm)return new Mr;return new Rr}();return Gn.iu?new Wr(t):Gn.Qs?new Fr(t):Gn.Im?new jr(t):Gn.Nm?new Zr(t):Gn.Dv?new Xr(t):new Lr(t)}()),U(),St(),Dt(),Ct(),U(),St(),Dt(),Wt(),ct(),U(),St(),Wt();var Gr=!(Gn.Hm&&!Gn.Xm),Hr=self.console;function zr(t){if($n(t))try{return JSON.stringify(t)}catch(t){}return t}function Yr(t){return t.map(zr).join(" ")}function Kr(t){var n=Hr&&Hr[t];return n?n.bind&&Gr?n.bind(Hr):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];Hr[t](Yr(i))}:void 0}var qr=Kr("log")||Ti,Jr=Kr("warn")||qr.bind(void 0,"WARNING:"),Qr=Kr("error")||qr.bind(void 0,"ERROR:"),$r=function(){var t=Hr&&Hr.assert;return t?t.bind&&Gr?t.bind(Hr):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Hr.assert(t,Yr(i))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t||Qr.apply(void 0,["Assertion failed:"].concat(Ut(i)))}}();function te(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),k.defineProperty(t,r.key,r)}}function ne(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){ie(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&ie(i,null,t.length,t),t}function ie(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(e=0;e<c;e+=f)for(s=(u=e+i)+i,u>c&&(u=c),s>c&&(s=c),o=e,a=u;;)if(o<u&&a<s)n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<u)r[h++]=t[o++];else{if(!(a<s))break;r[h++]=t[a++]}}U(),St();var re=/[a-zA-Z]/,ee=/[0-9]/,ue=/[0-9a-fA-F]/,se=/^0x/i,oe=/^[0-9]+$/,ae=/^[0-9a-fA-F]+$/,ce=/^[0-7]+$/,he=k.prototype.toString,fe=Array.isArray||function(t){return"[object Array]"===he.call(t)},ve=void 0!==n&&"symbol"==typeof r;function le(t){return fe(t)?t:Array.from(t)}function de(t,n,i){var r=t[n];t[n]=t[i],t[i]=r}function ge(t){return t>=65&&t<=90}function me(t){return ge(t)||function(t){return t>=97&&t<=122}(t)}function we(t){return t>=48&&t<=57}function pe(t){return we(t)||me(t)}function ye(t){return we(t)||t>=65&&t<=70||t>=97&&t<=102}function _e(t){return ge(t)?t+32:t}function be(t){return we(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function ke(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Ae=A.min,Te=String.fromCharCode,Se=16384;function Ee(t){for(var n=t.length,i=[],r=0;r<n;r+=Se){var e=Ae(r+Se,n);i.push(Te.apply(null,t.slice(r,e)))}return i.join("")}var Ie=2147483647,Re=/[^\0-\x7E]/,Ce=/[\x2E\u3002\uFF0E\uFF61]/g,Ne={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},xe=A.floor,De=String.fromCharCode;function Pe(t){throw new RangeError(Ne[t])}function Me(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var Be,Oe,Le,Fe=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Ve=function(t,n,i){var r=0;for(t=i?xe(t/700):t>>1,t+=xe(t/n);t>455;r+=36)t=xe(t/35);return xe(r+36*t/(t+38))},Ue=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Ce,".")).split("."),n).join(".");return r+e}(t,(function(t){return Re.test(t)?"xn--"+function(t){for(var n=[],i=(t=Me(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var a=o[s];a<128&&n.push(De(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=Ie,v=0,l=t;v<l.length;v++){var d=l[v];d>=r&&d<f&&(f=d)}var g=h+1;f-r>xe((Ie-e)/g)&&Pe("overflow"),e+=(f-r)*g,r=f;for(var m=0,w=t;m<w.length;m++){var p=w[m];if(p<r&&++e>Ie&&Pe("overflow"),p==r){for(var y=e,_=36;;_+=36){var b=_<=u?1:_>=u+26?26:_-u;if(y<b)break;var k=y-b,A=36-b;n.push(De(Fe(b+k%A,0))),y=xe(k/A)}n.push(De(Fe(y,0))),u=Ve(e,g,h==c),e=0,++h}}++e,++r}return n.join("")}(t):t}))};function We(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Ee(n)}function je(t){if(t>=55296&&t<=57343)throw new y("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ze(t,n){return t>>n&63|128}function Xe(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(je(t),n.push(t>>12&15|224),n.push(Ze(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ze(t,12)),n.push(Ze(t,6))),n.push(63&t|128)):n.push(t)}function Ge(t){for(var n=[],i=0;i<t.length;i++){Xe(t[i],n)}return n}function He(){if(Le>=Oe)throw new y("Invalid byte index");var t=255&Be[Le];if(Le++,128==(192&t))return 63&t;throw new y("Invalid continuation byte")}function ze(){var t,n;if(Le>Oe)throw new y("Invalid byte index");if(Le===Oe)return!1;if(t=255&Be[Le],Le++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|He())>=128)return n;throw new y("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|He()<<6|He())>=2048)return je(n),n;throw new y("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|He()<<12|He()<<6|He())>=65536&&n<=1114111)return n;throw new y("Invalid UTF-8 detected")}function Ye(t){return[37,ke(t>>4),ke(15&t)]}function Ke(t){return function(t){return t>=0&&t<=31}(t)||t>126}function qe(t){return Ke(t)||32===t||34===t||60===t||62===t||96===t}function Je(t){return qe(t)||35===t||63===t||123===t||125===t}function Qe(t){return Je(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function $e(t){return t<33||t>126||34===t||35===t||60===t||62===t}function tu(t){return $e(t)||39===t}function nu(t,n){if(!n(t))return[t];for(var i=Ge([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,Ye(u))}return r}function iu(t,n){for(var i=[],r=0,e=Me(t);r<e.length;r++){var u=e[r];i.push.apply(i,nu(u,n))}return We(i)}function ru(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&ye(t[r+1])&&ye(t[r+2])){var u=be(t[r+1])<<4|be(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(Ge(t))}function eu(t){return We(function(t){Be=t.slice(),Oe=Be.length,Le=0;for(var n,i=[];!1!==(n=ze());)i.push(n);return i}(ru(Me(t))))}function uu(t){var n=t.length,i=[0,0,0,0,0,0,0,0],r=0,e=null,u=0;if(u<n&&":"===t[u]){if(!(u+1<n&&":"===t[u+1]))throw new _;u+=2,e=r+=1}for(;u<n;){if(8===r)throw new _("Too many groups");if(":"!==t[u]){for(var s=0,o=0;o<4&&u<n&&ue.test(t[u]);)s=s<<4|T(t[u],16),u+=1,o+=1;if("."===t[u]){if(0===o)throw new _;if(u-=o,r>6)throw new _;for(var a=0;u<n;){var c=null;if(a>0){if(!("."===t[u]&&a<4))throw new _;u+=1}if(!ee.test(t[u]))throw new _;for(;u<n&&ee.test(t[u]);){var h=T(t[u],10);if(null===c)c=h;else{if(0===c)throw new _;if((c=10*c+h)>255)throw new _}u+=1}i[r]=i[r]<<8|c,2!==(a+=1)&&4!==a||(r+=1)}if(4!==a)throw new _;break}if(":"===t[u]){if((u+=1)===n)throw new _}else if(u<n)throw new _;i[r]=s,r+=1}else{if(null!==e)throw new _("Too many :: groups");u+=1,e=r+=1}}if(null!==e){var f=r-e;for(r=7;0!==r&&f>0;)de(i,r,e+f-1),r-=1,f-=1}else if(8!==r)throw new _;return i}function su(t){var n=10,i=oe;return se.test(t)?(t=t.slice(2),n=16,i=ae):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=ce),""===t?0:i.test(t)?T(t,n):void 0}var ou={bp:4},au=/[\0\t\n\r #%/:?@\[\\\]]/,cu=/[\0\t\n\r #/:?@\[\\\]]/;function hu(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new _("Invalid IPv6 address");return{bp:2,Ap:uu(t.slice(1,-1))}}if(!n)return function(t){if(cu.test(t))throw new _("Invalid code point in opaque host");var n=iu(t,Ke);return""===n?ou:{bp:3,Sp:n}}(t);var i=function(t){var n=function(t){return Ue(t.toLowerCase())}(t);return n}(eu(t));if(au.test(i))throw new _("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=su(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new _;if(i[i.length-1]>=A.pow(256,5-i.length))throw new _;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*A.pow(256,3-a);return o}}(i);return void 0!==r?{bp:1,Ap:r}:""===i?ou:{bp:0,Tp:i}}function fu(t){switch(t.bp){case 0:return t.Tp;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Ap);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Ap)+"]";case 3:return t.Sp;case 4:return""}}var vu=/\+/g;function lu(t){return 42===t||45===t||46===t||95===t||pe(t)}function du(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(vu," "),o=o.replace(vu," ");var a=eu(s),c=eu(o);i.push([a,c])}}return i}function gu(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=mu(Ge(Me(r[0])))+"="+mu(Ge(Me(r[1])))}return n}function mu(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];32===r?n.push(43):lu(r)?n.push(r):n.push.apply(n,Ye(r))}return Ee(n)}var wu=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function pu(t){var n=""+t,i=wu.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(_u(u))if(bu(u)||e===i-1)r.push(yu);else{var s=t.charCodeAt(e+1);bu(s)?(r.push(u,s),e++):r.push(yu)}else r.push(u)}return t.slice(0,n)+Ee(r)}(n,i.index):n}var yu=65533,_u=function(t){return 55296==(63488&t)},bu=function(t){return 0!=(1024&t)};function ku(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Au(t){t.P_.length=0}function Tu(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.P_,du(n))}function Su(t){if(t.tc){var n=gu(t.P_);""===n&&(n=null),t.tc.tc.kp=n}}var Eu=function(){function t(t){if(void 0===t&&(t=void 0),this.tc=null,null==t)this.P_=[];else if("object"==typeof t||"function"==typeof t)if(function(t){return t instanceof Eu&&!!fe(t.P_)&&(!ve||t[r]===Iu)}(t))this.P_=t.P_.slice();else if(function(t){return null!=t&&(!!fe(t)||!!ve&&"function"==typeof t[r])}(t)){this.P_=[];for(var n=0,i=le(t);n<i.length;n++){var e=le(i[n]);if(2!==e.length)throw new _("Invalid name-value pair");this.P_.push([pu(e[0]),pu(e[1])])}}else for(var u in this.P_=[],t)k.prototype.hasOwnProperty.call(t,u)&&this.P_.push([pu(u),pu(t[u])]);else(t=pu(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.P_=du(t)}var n=t.prototype;return n.append=function(t,n){t=pu(t),n=pu(n),this.P_.push([t,n]),Su(this)},n.delete=function(t){t=pu(t);for(var n=this.P_,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Su(this)},n.get=function(t){t=pu(t);for(var n=this.P_,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=pu(t);for(var n=this.P_,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=pu(t);for(var n=this.P_,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=pu(t),n=pu(n);for(var i=this.P_,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),Su(this)},n.sort=function(){ne(this.P_,ku),Su(this)},n.toString=function(){return gu(this.P_)},n.entries=function(){return new xu(this.P_,Ru)},n.keys=function(){return new xu(this.P_,Cu)},n.values=function(){return new xu(this.P_,Nu)},n.forEach=function(t){var n=this;this.P_.forEach((function(i){return t(i[1],i[0],n)}))},t}(),Iu=Eu.prototype.entries;ve&&(Eu.prototype[r]=Iu);var Ru=function(t){return[t[0],t[1]]},Cu=function(t){return t[0]},Nu=function(t){return t[1]},xu=function(){function t(t,n){this.Ep=0,this.P_=t,this.xp=n}return t.prototype.next=function(){return this.Ep<this.P_.length?{done:!1,value:this.xp(this.P_[this.Ep++])}:{done:!0,value:void 0}},t}(),Du="null";var Pu=k.create(null);Pu.ftp=21,Pu.file=0,Pu.gopher=70,Pu.http=80,Pu.https=443,Pu.ws=80,Pu.wss=443;var Mu=/^(?:\.|%2e)$/i,Bu=/^(?:\.|%2e){2}$/i;function Ou(t){return Mu.test(t)}function Lu(t){return Bu.test(t)}function Fu(t){return void 0!==Pu[t]}function Vu(t){return Fu(t.Rp)}function Uu(t){return""!==t.Ip||""!==t.Cp}function Wu(t){var n=t.length;if(!(n>=2))return!1;if(!Zu(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function ju(t){return 2===t.length&&re.test(t[0])&&(":"===t[1]||"|"===t[1])}function Zu(t){return 2===t.length&&ju(Ee(t))}function Xu(t){return ju(t)&&":"===t[1]}function Gu(t){var n=t.Pp;0!==n.length&&("file"===t.Rp&&1===n.length&&Xu(n[0])||n.pop())}function Hu(t){return null===t.Dp||ou===t.Dp||t.Np||"file"===t.Rp}var zu=-1,Yu=/\t|\n|\r/g,Ku=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function qu(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new Qu,t=t.replace(Ku,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,a=!1,c=Me(t=t.replace(Yu,"")),h=c.length,f=0;f<=h;){var v=f<h?c[f]:zu;switch(e){case 0:if(!me(v)){if(null===r){u.length=0,e=2;continue}throw new _("Invalid scheme")}u.push(_e(v)),e=1;break;case 1:if(pe(v)||43===v||45===v||46===v)u.push(_e(v));else{if(58!==v){if(null===r){u.length=0,e=2,f=0;continue}throw new _("Invalid scheme")}var l=We(u);if(null!==r){if(Fu(i.Rp)&&!Fu(l))return;if(!Fu(i.Rp)&&Fu(l))return;if((Uu(i)||null!==i.Mp)&&"file"===l)return;if("file"===i.Rp&&(i.Dp===ou||null===i.Dp))return}if(i.Rp=l,null!==r)return void(Vu(i)&&i.Mp===Pu[i.Rp]&&(i.Mp=null));u.length=0,"file"===i.Rp?e=13:Vu(i)&&n&&n.Rp===i.Rp?e=3:Vu(i)?e=7:47===c[f+1]?(e=4,f+=1):(i.Np=!0,i.Pp.push(""),e=18)}break;case 2:if(!n||n.Np&&35!==v)throw new _("Invalid scheme");n.Np&&35===v?(i.Rp=n.Rp,i.Pp=n.Pp.slice(),i.kp=n.kp,i.Lp="",i.Np=!0,e=20):"file"!==n.Rp?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===c[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:i.Rp=n.Rp,zu===v?(i.Ip=n.Ip,i.Cp=n.Cp,i.Dp=n.Dp,i.Mp=n.Mp,i.Pp=n.Pp.slice(),i.kp=n.kp):47===v?e=6:63===v?(i.Ip=n.Ip,i.Cp=n.Cp,i.Dp=n.Dp,i.Mp=n.Mp,i.Pp=n.Pp.slice(),i.kp="",e=19):35===v?(i.Ip=n.Ip,i.Cp=n.Cp,i.Dp=n.Dp,i.Mp=n.Mp,i.Pp=n.Pp.slice(),i.kp=n.kp,i.Lp="",e=20):92===v&&Vu(i)?e=6:(i.Ip=n.Ip,i.Cp=n.Cp,i.Dp=n.Dp,i.Mp=n.Mp,i.Pp=n.Pp.slice(),i.Pp.pop(),e=17,f-=1);break;case 6:!Vu(i)||47!==v&&92!==v?47===v?e=9:(i.Ip=n.Ip,i.Cp=n.Cp,i.Dp=n.Dp,i.Mp=n.Mp,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==c[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){s&&u.unshift(37,52,48),s=!0;for(var d=0;d<u.length;d++){var g=u[d];if(58!==g||a){var m=We(nu(g,Qe));a?i.Cp+=m:i.Ip+=m}else a=!0}u.length=0}else if(zu===v||47===v||63===v||35===v||Vu(i)&&92===v){if(s&&0===u.length)throw new _("Invalid host");f-=u.length+1,u.length=0,e=10}else u.push(v);break;case 10:case 11:if(null!==r&&"file"===i.Rp)f-=1,e=15;else if(58!==v||o)if(zu===v||47===v||63===v||35===v||Vu(i)&&92===v){if(f-=1,Vu(i)&&0===u.length)throw new _("Invalid host");if(null!==r&&0===u.length&&(Uu(i)||null!==i.Mp))return;var w=hu(We(u),Vu(i));if(i.Dp=w,u.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),u.push(v);else{if(0===u.length)throw new _("Invalid host");var p=hu(We(u),Vu(i));if(i.Dp=p,u.length=0,e=12,11===r)return}break;case 12:if(we(v))u.push(v);else{if(!(zu===v||47===v||63===v||35===v||Vu(i)&&92===v||null!==r))throw new _("Invalid port");if(0!==u.length){var y=T(We(u),10);if(y>65535)throw new _("Invalid port");i.Mp=y===Pu[i.Rp]?null:y,u.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.Rp="file",47===v||92===v?e=14:n&&"file"===n.Rp?zu===v?(i.Dp=n.Dp,i.Pp=n.Pp.slice(),i.kp=n.kp):63===v?(i.Dp=n.Dp,i.Pp=n.Pp.slice(),i.kp="",e=19):35===v?(i.Dp=n.Dp,i.Pp=n.Pp.slice(),i.kp=n.kp,i.Lp="",e=20):(Wu(c.slice(f))||(i.Dp=n.Dp,i.Pp=n.Pp.slice(),Gu(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.Rp&&!Wu(c.slice(f))&&(Xu(n.Pp[0])?i.Pp.push(n.Pp[0]):i.Dp=n.Dp),e=17,f-=1);break;case 15:if(zu===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&Zu(u))e=17;else if(0===u.length){if(i.Dp=ou,null!==r)return;e=16}else{var b=hu(We(u),Vu(i));if(0===b.bp&&"localhost"===b.Tp&&(b=ou),i.Dp=b,null!==r)return;u.length=0,e=16}else u.push(v);break;case 16:Vu(i)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(i.kp="",e=19):null===r&&35===v?(i.Lp="",e=20):zu!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(zu===v||47===v||Vu(i)&&92===v||null===r&&(63===v||35===v)){var k=We(u);if(Lu(k)?(Gu(i),47===v||Vu(i)&&92===v||i.Pp.push("")):!Ou(k)||47===v||Vu(i)&&92===v?Ou(k)||("file"===i.Rp&&0===i.Pp.length&&Zu(u)&&(ou!==i.Dp&&null!==i.Dp&&(i.Dp=ou),u[1]=58,k=We(u)),i.Pp.push(k)):i.Pp.push(""),u.length=0,"file"===i.Rp&&(zu===v||63===v||35===v))for(;i.Pp.length>1&&""===i.Pp[0];)i.Pp.shift();63===v?(i.kp="",e=19):35===v&&(i.Lp="",e=20)}else u.push.apply(u,nu(v,Je));break;case 18:63===v?(i.kp="",e=19):35===v?(i.Lp="",e=20):zu!==v&&(i.Pp[0]+=We(nu(v,Ke)));break;case 19:null===r&&35===v?(i.Lp="",e=20):zu!==v&&(i.kp+=We(nu(v,Vu(i)?tu:$e)));break;case 20:zu===v||0===v||(i.Lp+=We(nu(v,qe)))}f++}return i}function Ju(t,n,i,r){try{qu(t,n,i,r)}catch(t){}}var Qu=function(){this.Rp="",this.Ip="",this.Cp="",this.Dp=null,this.Mp=null,this.Pp=[],this.kp=null,this.Lp=null,this.Np=!1};function $u(t){switch(t.Rp){case"blob":var n;try{n=qu(t.Pp[0],null)}catch(t){return Du}return $u(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return function(t,n,i){return t+"://"+fu(n)+(null===i?"":":"+i)}(t.Rp,t.Dp,t.Mp);default:return Du}}var ts=function(){function t(t,n){var i,r=null;if(null!=n)if(function(t){return null!=t&&t instanceof ts&&"object"==typeof t.tc}(n))r=n.tc;else try{r=qu(String(n),null)}catch(t){throw new _("Invalid base URL: "+t.message)}try{i=qu(String(t),r)}catch(t){throw new _("Invalid URL: "+t.message)}var e=i.kp;this.tc=i,this.kp=function(t){var n=new Eu;return null!==t&&Tu(n,t),n}(e),this.kp.tc=this}var n=t.prototype;return n.toString=function(){return this.href},n.toJSON=function(){return this.href},function(t,n,i){n&&te(t.prototype,n),i&&te(t,i)}(t,[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Rp+":";if(null!==t.Dp?(i+="//",Uu(t)&&(i+=t.Ip,""!==t.Cp&&(i+=":"+t.Cp),i+="@"),i+=fu(t.Dp),null!==t.Mp&&(i+=":"+t.Mp)):null===t.Dp&&"file"===t.Rp&&(i+="//"),t.Np)i+=t.Pp[0];else for(var r=0,e=t.Pp;r<e.length;r++)i+="/"+e[r];return null!==t.kp&&(i+="?"+t.kp),n||null===t.Lp||(i+="#"+t.Lp),i}(this.tc)},set:function(t){var n;try{n=qu(String(t),null)}catch(t){throw new _("Invalid URL: "+t.message)}this.tc=n,Au(this.kp);var i=this.tc.kp;null!==i&&Tu(this.kp,i)}},{key:"origin",get:function(){return $u(this.tc)}},{key:"protocol",get:function(){return this.tc.Rp+":"},set:function(t){Ju(t+":",null,this.tc,0)}},{key:"username",get:function(){return this.tc.Ip},set:function(t){Hu(this.tc)||(this.tc.Ip=iu(t,Qe))}},{key:"password",get:function(){return this.tc.Cp},set:function(t){Hu(this.tc)||(this.tc.Cp=iu(t,Qe))}},{key:"host",get:function(){var t=this.tc,n=t.Dp;if(null===n)return"";var i=t.Mp,r=fu(n);return null!==i&&(r+=":"+i),r},set:function(t){this.tc.Np||Ju(t,null,this.tc,10)}},{key:"hostname",get:function(){var t=this.tc.Dp;return null===t?"":fu(t)},set:function(t){this.tc.Np||Ju(t,null,this.tc,11)}},{key:"port",get:function(){var t=this.tc.Mp;return null===t?"":""+t},set:function(t){Hu(this.tc)||(""===t?this.tc.Mp=null:Ju(t,null,this.tc,12))}},{key:"pathname",get:function(){var t=this.tc.Pp;return this.tc.Np?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.tc.Np||(this.tc.Pp.length=0,Ju(t,null,this.tc,16))}},{key:"search",get:function(){var t=this.tc.kp;return null===t||""===t?"":"?"+t},set:function(t){t=pu(t);var n=this.tc;if(""===t)return n.kp=null,void Au(this.kp);"?"===t[0]&&(t=t.slice(1)),n.kp="",Ju(t,null,n,19),Tu(this.kp,t)}},{key:"searchParams",get:function(){return this.kp}},{key:"hash",get:function(){var t=this.tc.Lp;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.tc.Lp="",Ju(t,null,this.tc,20)):this.tc.Lp=null}}]),t}();function ns(t){return t.document&&t.document.baseURI||t.location.href||""}U(),St();var is=function(){function t(){this.Qp=new rs,this.ew=Pr,this.$p=es(),self.performance&&self.performance.now?this.Vg=function(){return self.performance.now()}:this.Vg=pr}var n=t.prototype;return n.Bp=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];qr.apply(void 0,Ut(n))},n.Op=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Jr.apply(void 0,Ut(n))},n.Fp=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Qr.apply(void 0,Ut(n))},n.Vp=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];$r.apply(void 0,[t].concat(Ut(i)))},n.Ug=function(t,n){return g(t,n)},n.Wp=function(t,n){return w(t,n)},n.Wg=function(t){m(t)},n.Up=function(t){p(t)},n.Gp=function(){return this.Hp.Gp()},n.Zp=function(){return this.Hp.Zp()},n.Xp=function(){return this.Hp.Xp()},n.zp=function(){return this.Hp.zp()},n.qp=function(){return this.Hp.qp()},n.Yp=function(t,n){return this.Hp.Yp(t,n)},n.Kp=function(t){return this.Hp.Kp(t)},n.Nh=function(t,n){var i;return void 0===n&&(n=ns(f)),i="object"!==(void 0===n?"undefined":W(n))||n instanceof ts?n:n.href,new ts(t,i)},n.Jp=function(t,n){if(void 0===n&&(n=ns(f)),this.$p){var i=ni(n)?n:n.toString();return new self.URL(t,i).href}return this.Nh(t,n).href},xt(t,[{key:"jp",get:function(){return this.Qp}},{key:"Ys",get:function(){return this.ew}},{key:"iw",get:function(){return{nw:d&&d.userAgent.match(/Android /i)?"Android":"other",ow:Boolean(d&&d.userAgent.match(/Android 8.0.0/i))}}},{key:"hw",get:function(){return self&&self.location&&"https:"===self.location.protocol}},{key:"aw",get:function(){return"languages"in d?d.languages.slice():[d.language]}}]),t}(),rs=function(){function t(){}return xt(t,[{key:"uw",get:function(){return d.oscpu}},{key:"Ys",get:function(){return d.platform}},{key:"cw",get:function(){return d.vendor}},{key:"lw",get:function(){return d.vendorSub}}]),t}();function es(){if(self.URL)try{var t=new self.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href}catch(t){}return!1}function us(){return us=k.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)k.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},us.apply(this,arguments)}function ss(){var t=k.create(null);return t.dw=void 0,delete t.dw,t}function os(){return new vs}function as(){return new ls}function cs(t){var n=os();for(var i in t)Hn.call(t,i)&&n.set(i,t[i]);return n}function hs(t){var n=[];return t.forEach((function(t){return n.push(t)})),n}U(),St(),Gt(),U(),St(),Jt(),U(),St(),Dt(),rn();var fs="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,vs=fs||function(){var t=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=k.keys(t)}return t.prototype.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}();return function(){function n(){this.data=ss(),this.size=0}var i=n.prototype;return i.get=function(t){return this.data[t]},i.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},i.has=function(t){return t in this.data},i.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},i.clear=function(){this.data=ss(),this.size=0},i.keys=function(){return new t(this.data,(function(t,n){return n}))},i.values=function(){return new t(this.data,(function(t,n){return t[n]}))},i.entries=function(){return new t(this.data,(function(t,n){return[n,t[n]]}))},i.forEach=function(t){for(var n in this.data)t(this.data[n],n)},n}()}();var ls=fs||function(){var t=function(){function t(t,n){this.fw=t,this._w=n}return t.prototype.next=function(){var t=this.fw.next();return t.done?t:{value:this._w(t.value),done:!1}},t}();return function(){function n(){this.C_=os()}var i=n.prototype;return i.get=function(t){return this.C_.get(""+t)},i.set=function(t,n){return this.C_.set(""+t,n),this},i.has=function(t){return this.C_.has(""+t)},i.delete=function(t){return this.C_.delete(""+t)},i.clear=function(){this.C_.clear()},i.keys=function(){return new t(this.C_.keys(),(function(t){return Number(t)}))},i.values=function(){return this.C_.values()},i.entries=function(){return new t(this.C_.entries(),(function(t){var n=nn(t,2),i=n[0],r=n[1];return[Number(i),r]}))},i.forEach=function(t){this.C_.forEach((function(n,i){t(n,Number(i))}))},xt(n,[{key:"size",get:function(){return this.C_.size}}]),n}()}();U(),St(),U(),St();var ds=function(t){return t.mw="9a04f079-9840-4286-ab92-e65be0885f95",t.gw="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.pw="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.ww="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",t}({}),gs="urn:mpeg:dash:mp4protection:2011",ms="cenc",ws="sinf",ps="skd",ys="9a04f079-9840-4286-ab92-e65be0885f95",_s="urn:uuid:"+ys,bs="com.microsoft.playready",ks="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",As="urn:uuid:"+ks,Ts="com.widevine.alpha",Ss="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Es="urn:uuid:"+Ss,Is="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Rs="urn:uuid:"+Is,Cs="com.apple.fps.1_0",Ns="com.apple.streamingkeydelivery",xs="identity";U(),St();var Ds=function(t){return t.mw="playready",t.gw="widevine",t.ww="fairplay",t.pw="clearkey",t.yw="aes128",t}({}),Ps={Aw:Ds.mw,Sw:bs,Tw:"cenc",Ew:ys,xw:_s,Rw:"PlayReady"},Ms={Aw:Ds.gw,Sw:Ts,Tw:"cenc",Ew:ks,xw:As,Rw:"Widevine"},Bs={Aw:Ds.ww,Sw:Cs,Tw:"skd",Ew:Is,xw:Rs,Rw:"FairPlay"},Os={Aw:Ds.ww,Sw:"com.apple.fps",Tw:"sinf",Ew:Is,xw:Rs,Rw:"FairPlay"},Ls={Aw:Ds.pw,Sw:"org.w3.clearkey",Tw:"cenc",Ew:Ss,xw:Es,Rw:"ClearKey"},Fs=[Ps,Ms,Bs,Ls],Vs=[Ps,Ms,Os,Ls];function Us(t){return Fs.filter((function(n){return n.xw===t.toLowerCase()}))}U(),St(),Wt();var Ws="function"==typeof String.prototype.replaceAll?function(t,n,i){return t.replaceAll(n,i)}:function(t,n,i){return t.split(n).join(i)};function js(t,n){return Yn(t)&&-1!==t.indexOf(n)}var Zs="function"==typeof String.prototype.startsWith?function(t,n){return Yn(t)&&t.startsWith(n)}:function(t,n){return Yn(t)&&t.substr(0,n.length)===n},Xs="function"==typeof String.prototype.endsWith?function(t,n){return Yn(t)&&t.endsWith(n)}:function(t,n){return Yn(t)&&t.substr(t.length-n.length,n.length)===n};function Gs(t,n){return t.length===n.length&&t.toUpperCase()===n.toUpperCase()}var Hs="function"==typeof String.prototype.repeat?function(t,n){return t.repeat(n)}:function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e},zs="function"==typeof String.prototype.padStart?function(t,n,i){return void 0===i&&(i=" "),t.padStart(n,i)}:function(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=Hs(r,e/r.length)),r.slice(0,e)+t)},Ys=(String.prototype.padEnd,16384),Ks="function"==typeof String.fromCodePoint?function(t){var n;return t.length<=Ys?(n=String).fromCodePoint.apply(n,Ut(t)):Js(t,String.fromCodePoint)}:function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return qs(n)};function qs(t){var n;return t.length<=Ys?(n=String).fromCharCode.apply(n,Ut(t)):Js(t,String.fromCharCode)}function Js(t,n){for(var i=[],r=0;r<t.length;r+=Ys)i.push(n.apply(void 0,Ut(t.slice(r,r+Ys))));return i.join("")}function Qs(t){return t.replace(/[\\"]/g,(function(t){return"\\"+t}))}var $s=Gn.gm&&Gn.wm>=42||Gn.Km&&Gn.Qm>=38||Gn.Um||Gn.Xm||Gn.hg&&Gn.cg>=29;function to(t,n){return js(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[us({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[us({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function no(){return void 0!==d&&"function"==typeof d.requestMediaKeySystemAccess}function io(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var ro=function(){function t(t){this.Iw=os(),this.Dw=void 0,this.Pw=t}var n=t.prototype;return n.qp=function(){return this.Kp(Ms)},n.Zp=function(){return this.Kp(Ls)},n.zp=function(){return this.Kp(Ps)},n.Xp=function(){return this.Kp(Bs)},n.Kp=function(t){var n=t.xw,i=this.Iw.get(n);if(i)return i;var r=this.Yp(t,'video/mp4; codecs="avc1.42000a"');return this.Iw.set(n,r),r},n.Yp=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,i.Pw.Cw(t.Sw,[to(n,!0)])];case 1:return r.sent(),[2,!0];case 2:r.sent(),r.label=3;case 3:return r.trys.push([3,5,,6]),[4,i.Pw.Cw(t.Sw,[to(n,!1)])];case 4:return r.sent(),[2,!0];case 5:return r.sent(),[2,!1];case 6:return[3,7];case 7:return[2]}}))}))()},n.Gp=function(){return this.Dw||(this.Dw=this.Nw()),this.Dw},n.Nw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return"https:"===f.location.protocol?[2,!1]:$s?[4,t.Zp()]:[2,!1];case 1:return n.sent()?[2,!1]:[2,!0]}}))}))()},t}();function eo(t,n){return so(t.slice(),n)}function uo(t,n){var i=so(t,n);return i!==t&&oo(i,void 0,t.length,t),t}function so(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){oo(i,n,u,e);var s=i;i=e,e=s}return i}function oo(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(u=0;u<c;u+=f)for(e=(s=u+i)+i,s>c&&(s=c),e>c&&(e=c),o=u,a=s;;)if(o<s&&a<e)n&&n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<s)r[h++]=t[o++];else{if(!(a<e))break;r[h++]=t[a++]}}U(),St(),U(),St(),Gt(),Jt(),U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Ct(),U(),St(),Gt(),Wt(),Jt(),U(),St(),U(),St();var ao=function(t){return t[t.sh=0]="sh",t[t.Mw=1]="Mw",t[t.Lw=-1]="Lw",t}({}),co=function(t,n){return(0|t)-(0|n)},ho=function(t,n){return t===n?0:t<n?-1:t>n?1:E(t)?E(n)?0:1:-1};function fo(t,n,i){return hr(t,n,i)?0:ho(t,n)}var vo=function(t,n){return fr(t,n)?0:ho(t,n)};var lo="function"==typeof Array.prototype.find?function(t,n){return t.find(n)}:function(t,n){var i=po(t,n);return-1===i?void 0:t[i]},go=lo,mo="function"==typeof Array.prototype.findLast?function(t,n){return t.findLast(n)}:function(t,n){var i=yo(t,n);return-1===i?void 0:t[i]},wo=mo,po="function"==typeof Array.prototype.findIndex?function(t,n){return t.findIndex(n)}:function(t,n){for(var i=0;i<t.length;i+=1){if(n(t[i],i,t))return i}return-1},yo="function"==typeof Array.prototype.findLastIndex?function(t,n){return t.findLastIndex(n)}:function(t,n){for(var i=t.length-1;i>=0;i-=1){if(n(t[i],i,t))return i}return-1};function _o(t,n){var i=t.indexOf(n);return-1!==i&&(bo(t,i),!0)}function bo(t,n){0===n?t.shift():t.splice(n,1)}function ko(t,n){for(var i=new Array(t.length),r=0,e=0;e<t.length;){if(t[e]===n){e++,i.length-=1;break}i[r++]=t[e++]}for(;e<t.length;)i[r++]=t[e++];return i}function Ao(t,n){return-1!==t.indexOf(n)}function To(t,n,i){if(t===n)return!0;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r+=1)if(!i(t[r],n[r]))return!1;return!0}function So(t){t.length=0}function Eo(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++){if(!Ao(n,t[i]))return!1}return!0}Array.prototype.flat;var Io="function"==typeof Array.prototype.flatMap?function(t,n){return t.flatMap(n)}:function(t,n){for(var i=[],r=0;r<t.length;r++){var e;(e=i).push.apply(e,Ut(n(t[r],r)))}return i};function Ro(t,n){return No(t,(function(t,i){return ho(n(t),n(i))}))}function Co(t,n){return xo(t,(function(t,i){return ho(n(t),n(i))}))}function No(t,n){if(0!==t.length)return t.reduce((function(t,i){return n(t,i)<=0?t:i}))}function xo(t,n){return No(t,(function(t,i){return n(i,t)}))}function Do(t){return t.filter((function(n,i){return t.indexOf(n)===i}))}function Po(t,n){return ut.all(t.map(n)).then((function(n){return t.filter((function(t,i){return n[i]}))}))}function Mo(t,n){return Bo.apply(this,arguments)}function Bo(){return Bo=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))})),Bo.apply(this,arguments)}function Oo(){return Oo=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n(r)]):[3,4];case 2:if(!e.sent())return[2,!1];e.label=3;case 3:return i++,[3,1];case 4:return[2,!0]}}))})),Oo.apply(this,arguments)}function Lo(t,n,i){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!i(t[r],n[r]))return!1;return!0}U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),qt(),U(),St(),qt(),U(),St(),Dt(),Ct();var Fo=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];y.apply(this,n)};(Fo.prototype=k.create(y.prototype)).constructor=Fo;var Vo=function(t){function n(n,i){var r;return(r=t.call(this)||this).message=n||"Unknown error",r.cause=i,y.captureStackTrace&&y.captureStackTrace(r,r.constructor),r}return Rt(n,t),xt(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Fo),Uo=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return Rt(n,t),xt(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Vo);function Wo(t){return t instanceof y&&"AbortError"===t.name}function jo(t){if(t&&t.Bw)throw new Uo}function Zo(t){if(Wo(t))throw t}function Xo(t){if(!Wo(t))throw t}function Go(t,n){return n?new ut((function(i,r){if(n.Bw)return t.catch(Ti),r(new Uo);var e=function(){n.Ow(e),r(new Uo)};n.Fw(e),t.then((function(t){n.Ow(e),i(t)}),(function(t){n.Ow(e),r(t)}))})):t}function Ho(t,n){return zo.apply(this,arguments)}function zo(){return zo=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i={stack:[],error:void 0,hasError:!1},e.label=1;case 1:return e.trys.push([1,3,4,5]),Yt(i,n,!1),[4,t];case 2:return[2,e.sent()];case 3:return r=e.sent(),i.error=r,i.hasError=!0,[3,5];case 4:return Kt(i),[7];case 5:return[2]}}))})),zo.apply(this,arguments)}function Yo(t,n){return Ko.apply(this,arguments)}function Ko(){return Ko=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i={stack:[],error:void 0,hasError:!1},e.label=1;case 1:return e.trys.push([1,3,4,5]),Yt(i,n,!1),[4,t(n.Vw)];case 2:return[2,e.sent()];case 3:return r=e.sent(),i.error=r,i.hasError=!0,[3,5];case 4:return Kt(i),[7];case 5:return[2]}}))})),Ko.apply(this,arguments)}U(),St(),Gt(),Jt(),U(),St(),Dt();var qo=function(){function t(){this.Bw=!1,this.Uw=!1,this.Gw=[],this.Zw=[]}var n=t.prototype;return n.Ww=function(){if(!this.Bw&&!this.Uw){this.Bw=!0;for(var t=0,n=this.Gw.slice();t<n.length;t++){(0,n[t])()}this.Hw()}},n.Hw=function(){if(!this.Uw){this.Uw=!0;for(var t=0,n=this.Zw.slice();t<n.length;t++){(0,n[t])()}So(this.Gw),So(this.Zw)}},n.Fw=function(t){this.Uw||this.Gw.push(t)},n.Ow=function(t){this.Uw||_o(this.Gw,t)},n.Xw=function(t){this.Uw||this.Zw.push(t)},n.zw=function(t){this.Uw||_o(this.Zw,t)},t}(),Jo=function(){function t(){this.qw=new qo}var n=t.prototype;return n.Yw=function(){this.qw.Ww()},n.Hw=function(){this.qw.Hw()},n.Kw=function(t){var n=this.qw;if(!n.Bw)if(t.Bw)n.Ww();else if(!n.Uw&&!t.Uw){var i=function(){r(),n.Ww()},r=function(){t.Ow(i),t.zw(r),n.Ow(i),n.zw(r)};t.Fw(i),t.Xw(r),n.Fw(i),n.Xw(r)}},n.jw=function(){var n=new t,i=new t,r=n.Vw,e=i.Vw,u=this.qw,s=function(){r.Bw&&e.Uw||e.Bw&&r.Uw?u.Ww():r.Uw&&e.Uw&&u.Hw()};r.Fw(s),e.Fw(s),r.Xw(s),e.Xw(s),n.Kw(u),i.Kw(u);return u.Xw((function(){r.Ow(s),e.Ow(s),r.zw(s),e.zw(s)})),[n,i]},n[e]=function(){this.Yw()},t.Qw=function(n){for(var i=new t,r=0;r<n.length;r++){var e=n[r];void 0!==e&&i.Kw(e)}return i},xt(t,[{key:"Vw",get:function(){return this.qw}}]),t}(),Qo=ut.resolve(),$o="function"==typeof queueMicrotask?queueMicrotask:function(t){Qo.then(t)};function ta(t){t.then(Ti,Ti)}function na(t){return ia.apply(this,arguments)}function ia(){return ia=Zt((function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,ut.all(t)];case 1:return[2,i.sent()];case 2:return n=i.sent(),[4,ut.all(t.map((function(t){return t.catch(Ti)})))];case 3:throw i.sent(),n;case 4:return[2]}}))})),ia.apply(this,arguments)}function ra(t,n){return new ut((function(i,r){if(void 0!==n&&n.Bw)r(new Uo);else{var e=qn.Ug((function(){void 0!==n&&n.Ow(u),i()}),t),u=function(){qn.Wg(e),r(new Uo)};void 0!==n&&n.Fw(u)}}))}function ea(t,n){return ua.apply(this,arguments)}function ua(){return ua=Zt((function(t,n){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:i={stack:[],error:void 0,hasError:!1},u.label=1;case 1:return u.trys.push([1,3,4,5]),r=Yt(i,new Jo,!1),[4,ut.race([t,ra(n,r.Vw).then((function(){throw new y("Timeout")}))])];case 2:return[2,u.sent()];case 3:return e=u.sent(),i.error=e,i.hasError=!0,[3,5];case 4:return Kt(i),[7];case 5:return[2]}}))})),ua.apply(this,arguments)}function sa(t,n,i){if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var oa=function(){function t(t){var n=this;this.$w=ss(),this.sy=void 0,this.ey=0,this.Ds=function(t){n.wo(t)},this.oy=null!=t?t:this}var n=t.prototype;return n.yn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Jw(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Jw(r,n)}},n.Jw=function(t,n){var i=this.$w[t];void 0===i?this.$w[t]=n:"function"==typeof i?this.$w[t]=[i,n]:0===this.ey?i.push(n):this.$w[t]=i.concat(n)},n.iy=function(t){if("function"==typeof t){var n=this.sy;void 0===n?this.sy=t:"function"==typeof n?this.sy=[n,t]:0===this.ey?n.push(t):this.sy=n.concat(t)}},n.$o=function(){this.$w=ss(),this.sy=void 0},n.wo=function(t){this.ey++;var n=this.$w[t.type],i=this.sy;void 0!==n&&sa(this.oy,t,n),void 0!==i&&sa(this.oy,t,i),this.ey--},n.fn=function(t,n){if("function"==typeof n)if("string"==typeof t)this.uy(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.uy(r,n)}},n.uy=function(t,n){var i=this.$w[t];void 0!==i&&("function"==typeof i?i===n&&(this.$w[t]=void 0):0===this.ey?_o(i,n):this.$w[t]=ko(i,n))},n.ly=function(t){if("string"==typeof t)this.$w[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.$w[i]=void 0}},n._y=function(t){var n=this.sy;void 0!==n&&("function"==typeof n?n===t&&(this.sy=void 0):0===this.ey?_o(n,t):this.sy=ko(n,t))},n.vy=function(t,n){var i=this;return new ut((function(r,e){if(n&&n.Bw)return e(new Uo);var u=function(t){o(),r(t)},s=function(){o(),e(new Uo)},o=function(){i.fn(t,u),n&&n.Ow(s)};i.yn(t,u),n&&n.Fw(s)}))},t}(),aa=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.wo=function(n){var i=this;$o((function(){t.prototype.wo.call(i,n)}))},n}(oa),ca=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.iy=function(n){t.prototype.iy.call(this,n)},i._y=function(n){t.prototype._y.call(this,n)},n}(oa);U(),St(),Ct(),U(),St();var ha=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n};U(),St();var fa=function(t){return t.gy="py",t.wy="yy",t.Ay="contentprotectionerror",t.Sy="contentprotectionsuccess",t.Ty="currentsourcechange",t.Ey="destroy",t.xy="durationchange",t.Ry="emptied",t.Iy="encrypted",t.Cy="ended",t.Py="Dy",t.Ny="My",t.Ly="By",t.Oy="Fy",t.Vy="loadstart",t.Wy="manifestupdate",t.Uy="nosupportedrepresentationfound",t.Gy="offline",t.Hy="online",t.Zy="pause",t.ro="play",t.Xy="progress",t.zy="ratechange",t.qy="representationchange",t.Yy="resize",t.Ky="seeked",t.jy="seeking",t.Qy="segmentnotfound",t.Jy="$y",t.eb="ib",t.ao="sourcechange",t.sb="timeupdate",t.ob="volumechange",t.hb="ub",t.fb="_b",t.vb="metricschange",t}({}),va=["cenc"],la=["cbcs","cbcs-1-9"],da=function(t){function n(n){var i;return(i=t.call(this,fa.fb)||this).mb=n,i}return Rt(n,t),n}(ha),ga=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"gb")||this).pb=n,u.wb=i,u.gb=r,u.yb=e,u}return Rt(n,t),n}(ha),ma=function(t){function n(){return t.call(this,"lt")||this}return Rt(n,t),n}(ha),wa=function(t){return t.Iy="bb",t.Ab="Sb",t}({}),pa=function(t){function n(n,i){var r;return(r=t.call(this,"bb")||this).Tw=n,r.Tb=i,r}return Rt(n,t),n}(ha),ya=function(t){function n(){return t.call(this,"Sb")||this}return Rt(n,t),n}(ha);U(),St(),Dt(),U(),St(),U(),St();var _a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ba=16383,ka=/[\t\n\f\r ]/g;function Aa(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Ta()}function Ta(){throw new y("Invalid base64 input")}function Sa(t){var n=t;ka.test(n)&&(n=n.replace(ka,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return Ta();for(var e,u=0===r?0:4-r,s=new I(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,a=0,c=0;a<o;a+=4)e=Aa(n.charCodeAt(a))<<18|Aa(n.charCodeAt(a+1))<<12|Aa(n.charCodeAt(a+2))<<6|Aa(n.charCodeAt(a+3)),s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===u?(e=Aa(n.charCodeAt(a))<<2|Aa(n.charCodeAt(a+1))>>4,s[c++]=255&e):1===u&&(e=Aa(n.charCodeAt(a))<<10|Aa(n.charCodeAt(a+1))<<4|Aa(n.charCodeAt(a+2))>>2,s[c++]=e>>8&255,s[c++]=255&e),s}function Ea(t,n,i){return _a[t>>2]+_a[(3&t)<<4|n>>4]+_a[(15&n)<<2|i>>6]+_a[63&i]}function Ia(t,n,i){for(var r=[],e=n;e<i;e+=3)r.push(Ea(t[e],t[e+1],t[e+2]));return r.join("")}function Ra(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=ba)r.push(Ia(t,u,A.min(e,u+ba)));if(1===i){var s=t[n-1];r.push(_a[s>>2]+_a[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];r.push(_a[o>>2]+_a[(3&o)<<4|a>>4]+_a[(15&a)<<2]+"=")}return r.join("")}function Ca(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]/g,"")}function Na(t,n){var i=n.ec,r=t.getUint8(i>>3),e=1<<7-(7&i);return n.kb(1),(r&e)===e?1:0}function xa(t,n,i){for(var r=0,e=0;e<i;e++)r=2*r+Na(t,n);return r}U(),St(),Dt(),U(),St(),Dt();var Da=function(){function t(t){void 0===t&&(t=0),this.nc=t}var n=t.prototype;return n.kb=function(t){this.nc+=t},n.Eb=function(t){this.nc=t},n.xb=function(){return new t(this.ec)},xt(t,[{key:"ec",get:function(){return this.nc}}]),t}();var Pa=A.clz32||function(t){var n=32,i=t>>16;return i&&(n-=16,t=i),(i=t>>8)&&(n-=8,t=i),(i=t>>4)&&(n-=4,t=i),(i=t>>2)&&(n-=2,t=i),(i=t>>1)?n-2:n-t};function Ma(t){if(t>=55296&&t<=57343)throw new y("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ba(t,n){return t>>n&63|128}function Oa(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ma(t),n.push(t>>12&15|224),n.push(Ba(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ba(t,12)),n.push(Ba(t,6))),n.push(63&t|128)):n.push(t)}function La(t,n){if(n.ec>=t.length)throw new y("Invalid byte index");var i=255&t[n.ec];if(n.kb(1),128==(192&i))return 63&i;throw new y("Invalid continuation byte")}function Fa(t,n){var i=n.ec;if(i>t.length)throw new y("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.kb(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|La(t,n);if(e>=128)return e;throw new y("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|La(t,n)<<6|La(t,n);if(u>=2048)return Ma(u),u;throw new y("Invalid continuation byte")}if(240==(248&r)){var s=(7&r)<<18|La(t,n)<<12|La(t,n)<<6|La(t,n);if(s>=65536&&s<=1114111)return s}throw new y("Invalid UTF-8 detected")}U(),St(),U(),St();var Va=65279;var Ua=[128,64,32,16,8,4,2,1],Wa=function(){function t(t){this.Ib=t}return t.prototype.Rb=function(t){return ja(this.Ib,t)},t}();function ja(t,n){return(t&n)===n}function Za(t,n){return ja(t,Ua[n])}function Xa(t,n){var i=t.getUint8(n.ec);return n.kb(1),i}function Ga(t,n,i){t.setUint8(n.ec,i),n.kb(1)}function Ha(t,n,i){var r=Ac(Ec(t),n.ec,n.ec+i);return n.kb(r.byteLength),r}function za(t,n,i){Ec(t).set(Ec(i),n.ec),n.kb(i.byteLength)}function Ya(t,n,i){return n.ec+i<=t.byteLength}function Ka(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,u=0;u<i;u++)r+=Xa(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+Xa(t,n);return r}(t,n,i)}function qa(t,n){var i=t.getUint8(n.ec);return n.kb(1),i}function Ja(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.ec,i);return n.kb(2),r}function Qa(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.ec,i,r),n.kb(2)}function $a(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.ec,i);return n.kb(4),r}function tc(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.ec,i,r),n.kb(4)}function nc(t,n,i){void 0===i&&(i=!1);var r=$a(t,n,i),e=$a(t,n,i),u=i?e:r,s=i?r:e;return ur.fromBits(s,u,!0)}function ic(t,n,i,r){void 0===r&&(r=!1);var e=i.getHighBitsUnsigned(),u=i.getLowBitsUnsigned(),s=r?e:u;tc(t,n,r?u:e,r),tc(t,n,s,r)}function rc(t,n){return sc(t,n)}function ec(t,n,i){return qs(xc(Ha(t,n,i)))}function uc(t,n){var i,r=Xa(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&Xa(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Xa(t,n))+(63&Xa(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Xa(t,n))+64*(63&Xa(t,n))+(63&Xa(t,n))),i}function sc(t,n){return oc(t,n,!0)}function oc(t,n,i){for(var r=[];n.ec<t.byteLength;){var e=Xa(t,n);if(i&&!e)break;r.push(e)}return qs(r)}function ac(t,n,i){for(var r=i.length,e=0;e<r;e+=1){Ga(t,n,i.charCodeAt(e))}}function cc(t,n){if(n.ec+2<=t.byteLength){var i=t.getUint8(n.ec),r=t.getUint8(n.ec+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function hc(t,n){var i=cc(t,n);return void 0!==i&&n.kb(2),fc(t,n,!0===i)}function fc(t,n,i){return void 0===i&&(i=!1),vc(t,n,i,!0)}function vc(t,n,i,r){for(var e=[];n.ec+2<=t.byteLength;){var u=Ja(t,n,i);if(r&&!u)break;e.push(u)}return qs(e)}function lc(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){Qa(t,n,i.charCodeAt(u),r)}}function dc(t){return oc(Sc(t),new Dc,!1)}function gc(t){var n=new I(t.length);return ac(Sc(n),new Dc,t),n}function mc(t,n){return void 0===n&&(n=!1),vc(Sc(t),new Dc,n,!1)}function wc(t,n){void 0===n&&(n=!1);var i=new I(2*t.length);return lc(Sc(i),new Dc,t,n),i}function pc(t,n){return n.ec+3<=t.byteLength&&(239===t.getUint8(n.ec)&&187===t.getUint8(n.ec+1)&&191===t.getUint8(n.ec+2))}function yc(t,n){return function(t,n,i){var r=[],e=pc(t,n);e&&n.kb(3);for(;n.ec<t.byteLength;){var u=uc(t,n);if(void 0===u)break;if(i&&0===u)break;r.push(u)}return Ks(r)}(t,n,!0)}function _c(t){return function(t){return Ks(t)}(function(t,n){var i,r=[],e=new Dc;if(!n){if(!1===(i=Fa(t,e)))return r;i===Va||r.push(i)}for(;!1!==(i=Fa(t,e));)r.push(i);return r}(Ec(t)))}function bc(t){return new I(function(t){for(var n=[],i=0;i<t.length;i++)Oa(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function kc(t,n){if(pc(t,n))return yc(t,n);if(void 0!==cc(t,n))return hc(t,n);if(n.ec+4<=t.byteLength){if(0===t.getUint8(n.ec)&&0===t.getUint8(n.ec+2))return fc(t,n,!1);if(0===t.getUint8(n.ec+1)&&0===t.getUint8(n.ec+3))return fc(t,n,!0)}return yc(t,n)}function Ac(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new I(t.buffer,t.byteOffset+n,i-n)}function Tc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Sc(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ec(t){return new I(t.buffer,t.byteOffset,t.byteLength)}function Ic(t){return t instanceof ArrayBuffer||Oc(t)}function Rc(t){return t instanceof ArrayBuffer?new I(t):Ec(t)}function Cc(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Nc(Ac(t,n,i))}function Nc(t){if(t.slice)return t.slice(0);var n=new I(t.byteLength);return n.set(t,0),n}function xc(t){return[].slice.call(t)}var Dc=function(){function t(t){void 0===t&&(t=0),this.nc=t}var n=t.prototype;return n.kb=function(t){this.nc+=t},n.Eb=function(t){this.nc=t},n.xb=function(){return new t(this.ec)},n.Cb=function(){return new Da(this.ec<<3)},xt(t,[{key:"ec",get:function(){return this.nc}}]),t}();function Pc(t){var n=t.toLowerCase(),i=0,r=0;Zs(n,"0x")&&(n=n.substring(2));var e=new I(A.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=T(n[0],16));i<n.length;i+=2)e[r++]=T(n.substr(i,2),16);return e}function Mc(t){return.001*t}var Bc=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Oc=ArrayBuffer.isView||function(t){return t&&Ao(Bc,zn.call(t))};function Lc(t,n){return t===n||t.byteLength===n.byteLength&&Fc(new I(t),new I(n))}function Fc(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Vc(t,n){return t===n||Fc(Rc(t),Rc(n))}function Uc(t){var n=t.reduce((function(t,n){return t+n.byteLength}),0);return Wc(t,n)}function Wc(t,n){for(var i=new I(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}function jc(t,n,i){var r=new I(t.byteLength+n.byteLength),e=Ac(t,0,i),u=Ac(t,i);return r.set(e),r.set(n,i),r.set(u,i+n.byteLength),r}function Zc(t){return Sa(t).buffer}function Xc(t){return Ra(new I(t))}function Gc(t){return Ra(gc(t))}var Hc=new I([0]).buffer,zc=function(){function t(){this.Zu=[]}var n=t.prototype;return n.Db=function(t){for(var n=0,i=this.Zu;n<i.length;n++){if(Vc(i[n][0],t))return!0}return!1},n.Nb=function(t){for(var n=0,i=this.Zu;n<i.length;n++){var r=i[n];if(Vc(r[0],t))return r[1]}},n.Mb=function(t,n){for(var i=0,r=this.Zu;i<r.length;i++){var e=r[i];if(Vc(e[0],t))return void(e[1]=n)}this.Zu.push([t,n])},n.Lb=function(t,n){this.Zu.forEach((function(n){return t(n[1],n[0])}),n)},n.Bb=function(){So(this.Zu)},xt(t,[{key:"Pb",get:function(){return this.Zu.length}}]),t}();U(),St();var Yc=function(){function t(){var t=this;this.Vb=new ut((function(n,i){t.Ud=n,t.Gd=i}))}var n=t.prototype;return n.Ob=function(t){this.Ud&&(this.Ud(t),this.Hw())},n.Fb=function(t){this.Gd&&(this.Gd(t),this.Hw())},n.Yw=function(){this.Vb.catch(Ti),this.Fb(new Uo)},n.Kw=function(t){var n=this;t.then((function(t){return n.Ob(t)}),(function(t){return n.Fb(t)}))},n.Hw=function(){this.Ud=void 0,this.Gd=void 0},t}();function Kc(){return new I([8,4]).buffer}function qc(t,n){return t===bs?function(t){if(t.byteLength<2*Jc.length)return t;var n=new DataView(t,0,2*Jc.length),i=mc(n,!0);if(i===Jc)return t;return function(t){var n='<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">',i='</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',r=""+n+Xc(t)+i;return wc(r,!0).buffer}(t)}(n):n}U(),St();var Jc="<PlayReady";U(),St(),U(),St(),Ct();var Qc=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).Wb=i,u.Ub=r,u}return Rt(n,t),n}(Vo);U(),St(),U(),St(),U(),St(),U(),St(),U(),St();var $c=function(t,n){return($c=k.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)k.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function th(t,n){if("function"!=typeof n&&null!==n)throw new _("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}$c(t,n),t.prototype=null===n?k.create(n):(i.prototype=n.prototype,new i)}function nh(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St();!function(){function t(t,n){this.Gb=t,this.Hb=n}t.prototype.get=function(t){var n=this.Gb.get(t);if(0===this.Hb||void 0===n)return n;var i=this.Gb.get(t+1)||0,r=n&(1<<8-this.Hb)-1,e=i>>8-this.Hb;return(r<<this.Hb)+e},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Gb.get(A.floor((t+this.Hb)/8));if(void 0!==n)return(n&1<<7-this.Hb-t%8)>0?1:0}},k.defineProperty(t.prototype,"bitLength",{get:function(){return this.Gb.bitLength-this.Hb},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"length",{get:function(){return this.Gb.length},enumerable:!1,configurable:!0})}();U(),St(),U(),St();A.pow(2,-52);function ih(t,n,i){return A.min(A.max(t,n),i)}function rh(t,n){return t>>8-n}function eh(t,n){return t&(1<<n)-1}var uh=function(){function t(t){this.Zb=t,this.Xb=0,this.zb=0}return k.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Xb+this.zb},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"done",{get:function(){return this.Xb===this.Zb.length&&0===this.zb},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Xb,bit:this.zb}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Zb);return n.seek(this.Xb,this.zb),n},t.prototype.canReadBits=function(t){return 8*this.Xb+t+this.zb<=8*this.Zb.length},t.prototype.canReadBytes=function(t){return 0===this.zb?this.Xb+t<=this.Zb.length:this.Xb+t<this.Zb.length},t.prototype.incBit=function(){this.zb++,this.zb>7&&(this.Xb++,this.zb=0)},t.prototype.seek=function(t,n){this.Xb=t,this.zb=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new y("Cannot read past end of buffer.");return this.Zb.get(this.Xb)>>7-this.zb&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new y("Cannot read past end of buffer.");if(0===this.zb)return this.Zb.get(this.Xb++);var t=eh(this.Zb.get(this.Xb),8-this.zb),n=rh(this.Zb.get(this.Xb+1),this.zb);return this.Xb++,t<<this.zb|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new y("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new y("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new y("Cannot read past end of buffer.");var n=0;if(0===this.zb&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new y("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new y("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-A.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new y("Skipping over the buffer edge is not allowed.");var n=this.zb+t;this.Xb+=n>>3,this.zb=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new y("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}();U(),St(),U(),St(),U(),St();var sh=function(t,n){return t===n?0:t<n?-1:t>n?1:E(t)?E(n)?0:1:-1},oh=function(){function t(){this.qb=[],this.Yb=[],this.Kb=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var r=new t,e=0,u=n;e<u.length;e++){var s=u[e];r.pushRange(s)}return r},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new y("The buffer length must be positive.");if(0!==i){if(0===this.Yb.length)this.Yb.push(0);else{var r=this.Yb[this.Yb.length-1]+this.qb[this.qb.length-1].length;this.Yb.push(r)}this.qb.push(t.subarray(n,n+i)),this.Kb+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,r){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=this.length),n<0||i<0||r<0)throw new RangeError;return this.slice(i,r).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,r=n,e=0,u=this.qb;e<u.length;e++){var s=u[e];t.set(s,r),i+=s.length,r+=s.length}return i},t.prototype.clear=function(){this.qb=[],this.Yb=[],this.Kb=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.Yb[n];return this.qb[n][i]}},k.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.qb.length<1)return-1;if(this.qb.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.qb[0];return"number"==typeof t?nh(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],r=n.length,e=t.length-r,u=0;u<=e&&!((u=nh(t,i,u))<0||u>e);u++){for(var s=u+1,o=u+r,a=1;s<o&&t[s]===n[a];s++,a++);if(s===o)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var r=0,e=t.length-1;if(1!==i(t[r],n)){if(1===i(n,t[e]))return e;for(;r!==e;){var u=A.ceil((r+e)/2);i(t[u],n)<=0?r=u:e=u-1}return r}}}(this.Yb,t,sh)},t.prototype.join=function(){if(1===this.qb.length)return this.qb[0];var t=new I(this.length);return this.copyInternal(t,0),t},k.defineProperty(t.prototype,"length",{get:function(){return this.Kb},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new y("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new y("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,r=0;r<n;r++)i+=this.get(t+r)*A.pow(2,8*(n-r-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var r=ih(n,0,this.length),e=ih(i,0,this.length);if(r>e)return new t;if(r===e)return new t;for(var u=new t,s=this.findContainingBufferIndex(r),o=this.qb[s],a=r,c=a-this.Yb[s];a+o.length-c<e;)u.pushRange(o,c,o.length-c),s+=1,c=(a+=o.length-c)-this.Yb[s],o=this.qb[s];var h=e-a;return u.pushRange(o,c,h),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.qb.length-1,r=this.qb[i],e=r.length-1;n>=0&&i>=0;){if(0!==r[e])break;if(0===e){if(0===i)return new t;i-=1,e=(r=this.qb[i]).length-1}else e-=1;n-=1}return this.slice(0,n+1)},t}(),ah=function(){function t(n){this.jb=n||t.BUFFER_CHUNK_SIZE,this.Qb=!1,this.Jb=new oh,this.Zb=new I(this.jb),this.$b=0,this.tA=0,this.zb=7}return t.prototype.closeByte=function(){this.Zb[this.$b++]=this.tA,this.$b>=this.jb&&this.closeBuffer(),this.tA=0,this.zb=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.$b&&(this.Jb.pushRange(this.Zb,0,this.$b),t&&(this.Zb=new I(this.jb)),this.$b=0)},k.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.zb},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Qb)throw new y("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Qb=!0,this.Jb},t.prototype.writeBit=function(t){if(this.Qb)throw new y("Cannot write to a closed BitWriter.");this.tA|=t<<this.zb,0===this.zb?this.closeByte():this.zb--},t.prototype.writeByte=function(t){if(this.Qb)throw new y("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.tA=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.zb;this.tA|=rh(t,n+1),this.closeByte(),this.tA=eh(t,8-n)<<n+1,this.zb=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];this.writeBit(r)}},t.prototype.writeBytes=function(t){if(this.Qb)throw new y("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.$b+t.length<=this.jb?(this.Zb.set(t,this.$b),this.$b+=t.length,this.$b===this.jb&&this.closeBuffer()):(this.closeBuffer(),this.Jb.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.zb;this.tA|=rh(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var r=eh(t[i-1],8-n),e=rh(t[i],n+1);this.tA=r<<n+1|e,this.closeByte()}this.tA=eh(t[t.length-1],8-n)<<n+1,this.zb=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new y("Received a negative number.");if(n>32)throw new y("The max bitlength that can be provided is 32.");if(t>=A.pow(2,n))throw new y("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new y("The max bitlength that can be provided is 32.");if(A.abs(t)>=A.pow(2,n-1))throw new y("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+A.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new y("Received a negative number.");for(var n=A.floor(A.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new I(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}();U(),St();var ch=function(){function t(t){this.rb=new oh,this.Qd=t}return t.prototype.closeWriter=function(){void 0!==this.Qd&&(this.rb=this.rb.concat(this.Qd.close()),this.Qd=void 0)},k.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Qd&&(this.Qd=new ah),this.Qd},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),hh=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new y("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),r=i>=t.LARGE_SIZE/8,e=16===this.boxType.length;n.writeUInt(r?1:i,32),n.writeString(e?"uuid":this.boxType),r&&(n.writeUInt(A.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),e&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new ch;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=A.pow(2,32),t}();function fh(t,n){return t instanceof ur?64===n:t<A.pow(2,n)}function vh(t,n){return A.round(t*A.pow(2,n))}function lh(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function dh(t,n){return t/A.pow(2,n)}U(),St();var gh=function(t){function n(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!fh(i,8))throw new y("the provided version cannot fit in 8 bits.");return e.flags=r,e}return th(n,t),k.defineProperty(n.prototype,"flags",{get:function(){return this.__},set:function(t){this.__=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new y("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(hh);U(),St(),U(),St();var mh=function(t){function n(n,i){var r=t.call(this,n)||this;return r.data=i,r}return th(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(oh.from(this.data))},n}(hh);U(),St(),U(),St();var wh=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();U(),St();var ph=16384;function yh(t){var n=t.length;if(n<=ph)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=ph)i.push(String.fromCharCode.apply(String,t.slice(r,r+ph)));return i.join("")}var _h=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function bh(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function kh(t,n,i){var r=Ch(Dh(t),n.offset,n.offset+i);return n.shift(r.byteLength),r}function Ah(t,n,i){return n.offset+i<=t.byteLength}function Th(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.offset,i);return n.shift(4),r}function Sh(t,n,i){void 0===i&&(i=!1);var r=Th(t,n,i),e=Th(t,n,i),u=i?e:r,s=i?r:e;return ur.fromBits(s,u,!0)}function Eh(t,n,i){return yh(function(t){return[].slice.call(t)}(kh(t,n,i)))}function Ih(t,n){var i,r=bh(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&bh(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&bh(t,n))+(63&bh(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&bh(t,n))+64*(63&bh(t,n))+(63&bh(t,n))),i}function Rh(t,n){return function(t,n,i){var r=[],e=function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)}(t,n);e&&n.shift(3);for(;n.offset<t.byteLength;){var u=Ih(t,n);if(void 0===u)break;if(i&&0===u)break;r.push(u)}return function(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return yh(n)}(r)}(t,n,!0)}function Ch(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new I(t.buffer,t.byteOffset+n,i-n)}function Nh(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function xh(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Dh(t){return new I(t.buffer,t.byteOffset,t.byteLength)}var Ph=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new wh(this.offset<<3)},t}();U(),St();var Mh=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return bh(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.offset,i);return n.shift(2),r}(this.data,this.cursor)},t.prototype.nextUint32=function(){return Th(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.offset,i);return n.shift(4),r}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var r=Th(t,n,i),e=Th(t,n,i),u=i?e:r,s=i?r:e;return ur.fromBits(s,u,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Sh(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return kh(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(Th(t,n));return r}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Eh(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Rh(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Bh(t,n){return t.type===n}var Oh=8;function Lh(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var r=Fh(t,n);if(!r.complete)return{complete:!1,boxes:i};i.push(r.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new y("Data incomplete");return n.boxes}function Fh(t,n){var i=n.offset,r=function(t,n){var i=n.offset;if(!Ah(t,n,Oh)){return{complete:!1,neededOffset:u=n.offset+Oh}}var r=Th(t,n),e=Eh(t,n,4);if(1===r){if(!Ah(t,n,8)){var u=n.offset+8;return n.seek(i),{complete:!1,neededOffset:u}}r=Sh(t,n).toNumber()}if("uuid"===e){if(!Ah(t,n,16)){u=n.offset+16;return n.seek(i),{complete:!1,neededOffset:u}}e=Eh(t,n,16)}var s=n.offset,o={type:e,size:r,headerSize:s-i};return{complete:!0,header:o}}(t,n);if(!r.complete)return r;var e=r.header,u=e.size;0===u&&(u=t.byteLength-i);var s=i+u;if(s>t.byteLength){var o=s;return n.seek(i),{complete:!1,neededOffset:o}}var a={type:e.type,offset:i,data:new Mh(Nh(t,i,s),new Ph(e.headerSize))};return n.seek(s),{complete:!0,box:a}}function Vh(t){return{version:t>>24,flags:new _h(16777215&t)}}function Uh(t,n){var i,r,e,u;return 1===n?(i=t.nextUint64(),r=t.nextUint64(),e=t.nextUint32(),u=t.nextUint64()):(i=t.nextUint32(),r=t.nextUint32(),e=t.nextUint32(),u=t.nextUint32()),{creation:i,modification:r,scale:e,duration:u}}function Wh(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function jh(t){var n=t.nextUint32Array(9);return{a:dh(n[0],16),b:dh(n[1],16),u:dh(n[2],30),c:dh(n[3],16),d:dh(n[4],16),v:dh(n[5],30),x:dh(n[6],16),y:dh(n[7],16),w:dh(n[8],30)}}function Zh(t){return new mh(t.type,Ch(Dh(t.data.data),t.data.cursor.offset))}var Xh=function(t){function n(n,i,r,e){void 0===r&&(r=0),void 0===e&&(e=0);var u=t.call(this,"hdlr",r,e)||this;return u.name=i,u.handlerType=n,u}return th(n,t),k.defineProperty(n.prototype,"handlerType",{get:function(){return this.eA},set:function(t){this.eA=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(gh);function Gh(t){var n=t.data,i=Vh(n.nextUint32()),r=i.version,e=i.flags;n.skip(4);var u=n.nextChars(4);n.skip(12);var s=n.nextUTF8String();return new Xh(u,s,r,e.raw)}!function(t){function n(){return t.call(this,"mdir")||this}th(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Xh);U(),St(),U(),St(),U(),St();var Hh=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},k.defineProperty(t.prototype,"tag",{get:function(){return this.iA},set:function(t){if(!fh(t,8))throw new y("Provided tag does not fit in 8 bits.");this.iA=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var r=i[n];t.writer.writeByte(r)}this.serializeDescriptorContent(t)},t}();U(),St();!function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=r,a.decoderSpecificInfo=s,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=e,a.maxBitrate=u.max,a.avgBitrate=u.avg,a}th(n,t),k.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.sA},set:function(t){if(!fh(t,8))throw new y("Provided objectTypeIndication does not fit in 8 bits.");this.sA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"streamType",{get:function(){return this.nA},set:function(t){if(!fh(t,6))throw new y("Provided streamType does not fit in 6 bits.");this.nA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.rA},set:function(t){if(!fh(t,24))throw new y("Provided bufferSizeDb does not fit in 24 bits.");this.rA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.oA},set:function(t){if(!fh(t,32))throw new y("Provided maxBitrate does not fit in 32 bits.");this.oA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.hA},set:function(t){if(!fh(t,32))throw new y("Provided avgBitrate does not fit in 32 bits.");this.hA=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Hh);U(),St();!function(t){function n(n,i){void 0===i&&(i={});var r=t.call(this,5,i.fixed28BitMode)||this;return r.data=n,r}th(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(oh.from(this.data))}}(Hh);U(),St(),U(),St();var zh=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return th(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Hh);!function(t){function n(n,i,r,e){void 0===e&&(e={});var u=t.call(this,3,e.fixed28BitMode)||this;return u.decoderConfigDescriptor=r,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==e?void 0:e.dependsOnEsId,u.urlString=null==e?void 0:e.url,u.ocrEsId=null==e?void 0:e.ocrEsId,u.slConfigDescriptor=new zh(e.fixed28BitMode),u}th(n,t),k.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"esId",{get:function(){return this.aA},set:function(t){if(!fh(t,16))throw new y("Provided esId does not fit in 16 bits.");this.aA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"streamPriority",{get:function(){return this.uA},set:function(t){if(!fh(t,5))throw new y("Provided streamPriority does not fit in 5 bits.");this.uA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.cA},set:function(t){if(t&&!fh(t,16))throw new y("Provided dependsOnEsId does not fit in 16 bits.");this.cA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.lA},set:function(t){if(t&&!fh(t,16))throw new y("Provided ocrEsId does not fit in 16 bits.");this.lA=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Hh);U(),St(),U(),St(),U(),St(),U(),St(),U(),St();var Yh=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return th(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce((function(t,n){return t+n.getSize()}),0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,r=this.boxes;i<r.length;i++){var e=r[i];n=n.concat(e.serialize())}return n},n}(hh),Kh=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return th(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Yh),qh=function(t){function n(n,i){var r=t.call(this,n)||this;return r.dataReferenceIndex=i,r}return th(n,t),k.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.dA},set:function(t){if(!fh(t,16))throw new y("Provided dataReferenceIndex does not fit in 16 bits.");this.dA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Kh),Jh=function(t){function n(n,i,r,e){var u,s,o=this;return(o=t.call(this,n,i)||this).extra=e,o.channelCount=null!==(u=r.channelCount)&&void 0!==u?u:2,o.sampleSize=null!==(s=r.sampleSize)&&void 0!==s?s:16,o.sampleRate=r.sampleRate,o}return th(n,t),k.defineProperty(n.prototype,"channelCount",{get:function(){return this.fA},set:function(t){if(!fh(t,16))throw new y("Provided channelCount does not fit in 16 bits.");this.fA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"sampleSize",{get:function(){return this._A},set:function(t){if(!fh(t,16))throw new y("Provided sampleSize does not fit in 16 bits.");this._A=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"sampleRate",{get:function(){return this.vA},set:function(t){if(!fh(vh(t,16),32))throw new y("Provided rate does not fit in 32 bits (fixed 16.16).");this.vA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(vh(this.sampleRate,16),32),this.extra&&lh(n.writer,this.extra)},n}(qh);U(),St();!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}th(n,t),k.defineProperty(n.prototype,"entries",{get:function(){return this.mA},set:function(t){if(!fh(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!fh(t,32)})))throw new y("Not all entries can be represented in 32 bits.");this.mA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(gh);U(),St();!function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}th(n,t),k.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.gA},set:function(t){if(!fh(t,32))throw new y("Provided cleanApertureWidthN does not fit in 32 bits.");this.gA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.pA},set:function(t){if(!fh(t,32))throw new y("Provided cleanApertureWidthD does not fit in 32 bits.");this.pA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.wA},set:function(t){if(!fh(t,32))throw new y("Provided cleanApertureHeightN does not fit in 32 bits.");this.wA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.yA},set:function(t){if(!fh(t,32))throw new y("Provided cleanApertureHeightD does not fit in 32 bits.");this.yA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"horizOffN",{get:function(){return this.bA},set:function(t){if(!fh(t,32))throw new y("Provided horizOffN does not fit in 32 bits.");this.bA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"horizOffD",{get:function(){return this.AA},set:function(t){if(!fh(t,32))throw new y("Provided horizOffD does not fit in 32 bits.");this.AA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"vertOffN",{get:function(){return this.SA},set:function(t){if(!fh(t,32))throw new y("Provided vertOffN does not fit in 32 bits.");this.SA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"vertOffD",{get:function(){return this.TA},set:function(t){if(!fh(t,32))throw new y("Provided vertOffD does not fit in 32 bits.");this.TA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(hh);U(),St();!function(t){function n(n,i){var r=t.call(this,"ctts",n,0)||this;return r.entries=i,r}th(n,t),k.defineProperty(n.prototype,"entries",{get:function(){return this.mA},set:function(t){if(!fh(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!fh(t.sampleCount,32)||!fh(t.sampleOffset,32)})))throw new y("Not all entries can be represented in 64 bits.");this.mA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),0===this.version?n.writer.writeUInt(e.sampleOffset,32):1===this.version&&n.writer.writeInt(e.sampleOffset,32)}}}(gh);U(),St();!function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}th(n,t),k.defineProperty(n.prototype,"location",{get:function(){return this.kA},set:function(t){this.flags=void 0===t?1:0,this.kA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(gh);U(),St();!function(t){function n(n,i,r){var e=t.call(this,"urn ",0,r)||this;return e.name=n,e.location=i,e}th(n,t),k.defineProperty(n.prototype,"location",{get:function(){return this.kA},set:function(t){if(1&this.flags)throw new y("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.kA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(gh);U(),St();!function(t){function n(){return t.call(this,"dinf")||this}th(n,t)}(Kh);U(),St(),U(),St();var Qh=function(t){function n(n,i,r){var e=t.call(this,n)||this;if(e.version=i,!fh(i,8))throw new y("the provided version cannot fit in 8 bits.");return e.flags=r,e}return th(n,t),k.defineProperty(n.prototype,"flags",{get:function(){return this.__},set:function(t){this.__=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new y("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Yh);!function(t){function n(){return t.call(this,"dref",0,0)||this}th(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Qh);U(),St(),U(),St();var $h=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"elst",i,r)||this;return e.entries=n,e}return th(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"entries",{get:function(){return this.mA},set:function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!fh(r.segmentDuration,this.bitSize))throw new y("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!fh(r.mediaTime,this.bitSize))throw new y("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!fh(r.mediaRateInteger,16))throw new y("Provided mediaRateInteger does not fit in 16 bits.");if(r.mediaRateFraction&&!fh(r.mediaRateFraction,16))throw new y("Provided mediaRateFraction does not fit in 16 bits.")}this.mA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(gh),tf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return th(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration,32),t.writer.writeInt(e.mediaTime,32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}($h),nf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return th(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,r=this.entries;i<r.length;i++){var e=r[i];t.writer.writeUInt(e.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(e.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(e.mediaTime.getHighBits(),32),t.writer.writeInt(e.mediaTime.getLowBits(),32),t.writer.writeUInt(e.mediaRateInteger,16),t.writer.writeUInt(null!==(n=e.mediaRateFraction)&&void 0!==n?n:0,16)}},n}($h);function rf(t){for(var n=t.data,i=Vh(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=[],o=0;o<u;o++){var a=void 0,c=void 0;0===r?(a=n.nextUint32(),c=n.nextInt32()):(a=n.nextUint64(),c=n.nextInt64());var h=n.nextInt16(),f=n.nextInt16();s.push({segmentDuration:a,mediaTime:c,mediaRateFraction:f,mediaRateInteger:h})}return 0===r?new tf(s,e.raw):new nf(s,e.raw)}var ef=function(t){function n(){return t.call(this,"edts")||this}return th(n,t),n}(Kh);function uf(t){for(var n=new ef,i=0,r=Lh(t.data);i<r.length;i++){var e=r[i];Bh(e,"elst")?n.boxes.push(rf(e)):n.boxes.push(Zh(e))}return n}U(),St(),U(),St();var sf=function(t){function n(n,i,r,e){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=r,u.compatibleBrands=e,u}return th(n,t),k.defineProperty(n.prototype,"majorBrand",{get:function(){return this.EA},set:function(t){if(4!==t.length)throw new y("the provided major brand does not conform to the 4 character requirement");this.EA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"minorVersion",{get:function(){return this.xA},set:function(t){if(!fh(t,32))throw new y("the provided minor version does not fit in 32 bits.");this.xA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.RA},set:function(t){if(t.some((function(t){return 4!==t.length})))throw new y("Some of the compatible brands do not conform to the 4 character requirement");this.RA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var r=i[n];t.writer.writeString(r)}},n}(hh),of=function(t){function n(n,i,r){return t.call(this,"ftyp",n,i,r)||this}return th(n,t),n}(sf);function af(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new of(i,r,e)}U(),St();var cf=function(t){function n(n,i){void 0===i&&(i="free");var r=t.call(this,i)||this;return r.data=n,r}return th(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(oh.from(this.data))},n}(hh);U(),St(),U(),St();var hf=function(t){function n(n,i,r,e){void 0===e&&(e=0);var u=t.call(this,"mdhd",r,e)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return th(n,t),k.defineProperty(n.prototype,"creationTime",{get:function(){return this.IA},set:function(t){if(!fh(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.IA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"modificationTime",{get:function(){return this.CA},set:function(t){if(!fh(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.CA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"timescale",{get:function(){return this.PA},set:function(t){if(!fh(t,32))throw new y("Provided sequence number does not fit in 32 bits.");this.PA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"duration",{get:function(){return this.DA},set:function(t){if(!fh(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.DA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"language",{get:function(){return this.NA},set:function(t){if(!df(t))throw new y("Expected an ISO-639-2/T language code");this.NA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,r=this.language;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(gh),ff=function(t){function n(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,0,r)||this}return th(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(hf),vf=function(t){function n(n,i,r){return void 0===r&&(r=0),t.call(this,n,i,1,r)||this}return th(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(hf);function lf(t){var n=t.data,i=Vh(n.nextUint32()),r=i.version,e=i.flags,u=Uh(n,r),s=new uh(oh.from(n.nextUint8Array(2)));s.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(s.readUInt(5));var c=o.map((function(t){return String.fromCharCode(t+96)})).join("");return df(c)||(c="und"),n.skip(2),0===r?new ff(u,c,e.raw):new vf(u,c,e.raw)}function df(t){return/^[a-z]{3}$/.test(t)}var gf=function(t){function n(){return t.call(this,"mdia")||this}return th(n,t),n}(Kh);function mf(t){for(var n=new gf,i=0,r=Lh(t.data);i<r.length;i++){var e=r[i];Bh(e,"mdhd")?n.boxes.push(lf(e)):Bh(e,"hdlr")?n.boxes.push(Gh(e)):n.boxes.push(Zh(e))}return n}U(),St();var wf=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new oh,n}return th(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(hh);function pf(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),r=new wf;return r.data.pushRange(i),r}U(),St();!function(t){function n(){return t.call(this,"minf")||this}th(n,t)}(Kh);U(),St();var yf;!function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}th(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Qh);U(),St(),U(),St(),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(yf||(yf={})),U(),St();var _f,bf,kf={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Af(t,n){n.writer.writeUInt(vh(t.a,16),32),n.writer.writeUInt(vh(t.b,16),32),n.writer.writeUInt(vh(0,30),32),n.writer.writeUInt(vh(t.c,16),32),n.writer.writeUInt(vh(t.d,16),32),n.writer.writeUInt(vh(0,30),32),n.writer.writeUInt(vh(t.x,16),32),n.writer.writeUInt(vh(t.y,16),32),n.writer.writeUInt(vh(1,30),32)}function Tf(t,n){var i,r,e,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:_f.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleDependsOn)&&void 0!==r?r:bf.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleIsDependedOn)&&void 0!==e?e:bf.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:bf.UNKNOWN,2)}function Sf(t,n){var i,r,e;n.writer.writeUInt(0,4),Tf(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(r=t.sampleIsNonSyncSample)&&void 0!==r&&r),n.writer.writeUInt(null!==(e=t.sampleDegradationPriority)&&void 0!==e?e:0,16)}U(),St(),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(_f||(_f={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(bf||(bf={})),U(),St(),U(),St();var Ef=function(){};U(),St(),U(),St(),U(),St();var If=function(t){function n(n,i,r){var e=t.call(this,"pssh",n,0)||this;return e.systemId=i,e.data=r,e}return th(n,t),k.defineProperty(n.prototype,"systemId",{get:function(){return this.MA},set:function(t){if(16!==t.length)throw new y("Provided systemId length is not 16.");this.MA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"data",{get:function(){return this.Sp},set:function(t){if(!fh(t.length,32))throw new y("Provided data length does not fit in 32 bits.");this.Sp=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(oh.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(oh.from(this.data))},n}(gh),Rf=function(t){function n(n,i){return t.call(this,0,n,i)||this}return th(n,t),n}(If),Cf=function(t){function n(n,i,r){var e=t.call(this,1,n,i)||this;return e.kIds=r,e}return th(n,t),k.defineProperty(n.prototype,"kIds",{get:function(){return this.LA},set:function(t){if(!fh(t.length,32))throw new y("Provided kIds length cannot fit in 32 bits.");if(t.some((function(t){return 16!==t.length})))throw new y("Not all provided key ids are 16 bytes long.");this.LA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var r=i[n];t.concat(oh.from(r))}},n}(If);function Nf(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),r=[];if(1===n)for(var e=t.data.nextUint32(),u=0;u<e;u++)r.push(t.data.nextUint8Array(16));var s=t.data.nextUint32(),o=t.data.nextUint8Array(s);return 1===n?new Cf(i,o,r):new Rf(i,o)}U(),St(),U(),St();var xf=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"mehd",i,r)||this;return e.fragmentDuration=n,e}return th(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.BA},set:function(t){if(!fh(t,this.bitSize))throw new y("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.BA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(gh),Df=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return th(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(xf),Pf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return th(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(xf);function Mf(t){var n=t.data,i=Vh(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new Df(n.nextUint32(),e.raw):new Pf(n.nextUint64(),e.raw)}U(),St();var Bf=function(t){function n(n,i,r,e){void 0===i&&(i={}),void 0===r&&(r=0),void 0===e&&(e=0);var u,s,o,a=this;return(a=t.call(this,"trex",r,e)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,a.defaultSampleDuration=null!==(s=i.sampleDuration)&&void 0!==s?s:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return th(n,t),k.defineProperty(n.prototype,"trackId",{get:function(){return this.OA},set:function(t){if(!fh(t,32))throw new y("Provided track id does not fit in 32 bits.");this.OA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.FA},set:function(t){if(!fh(t,32))throw new y("Provided default sample description index does not fit in 32 bits.");this.FA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.VA},set:function(t){if(!fh(t,32))throw new y("Provided default sample duration does not fit in 32 bits.");this.VA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.WA},set:function(t){if(!fh(t,32))throw new y("Provided default sample size does not fit in 32 bits.");this.WA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.UA},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!fh(t.samplePaddingValue,3))throw new y("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!fh(t.sampleDegradationPriority,16))throw new y("Provided sample degradation priority does not fit in 16 bits.");this.UA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Sf(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(gh);function Of(t){var n=t.data,i=Vh(n.nextUint32()),r=i.version,e=i.flags,u=n.nextUint32(),s=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),c=Wh(new uh(oh.from(n.nextUint8Array(4))));return new Bf(u,{sampleDescriptionIndex:s,sampleDuration:o,sampleSize:a,sampleFlags:c},r,e.raw)}var Lf=function(t){function n(){return t.call(this,"mvex")||this}return th(n,t),n}(Kh);function Ff(t){for(var n=new Lf,i=0,r=Lh(t.data);i<r.length;i++){var e=r[i];Bh(e,"mehd")?n.boxes.push(Mf(e)):Bh(e,"trex")?n.boxes.push(Of(e)):n.boxes.push(Zh(e))}return n}U(),St();var Vf=function(t){function n(i,r,e,u,s){void 0===s&&(s=0);var o,a,c,h=this;return(h=t.call(this,"mvhd",u,s)||this).creationTime=i.creation,h.modificationTime=i.modification,h.timescale=i.scale,h.duration=i.duration,h.rate=null!==(o=e.rate)&&void 0!==o?o:n.DEFAULT_RATE,h.volume=null!==(a=e.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,h.matrix=null!==(c=e.matrix)&&void 0!==c?c:kf,h.GA=r,h}return th(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"creationTime",{get:function(){return this.IA},set:function(t){if(!fh(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.IA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"modificationTime",{get:function(){return this.CA},set:function(t){if(!fh(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.CA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"timescale",{get:function(){return this.PA},set:function(t){if(!fh(t,32))throw new y("Provided sequence number does not fit in 32 bits.");this.PA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"duration",{get:function(){return this.DA},set:function(t){if(!fh(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.DA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"rate",{get:function(){return this.HA},set:function(t){if(!fh(vh(t,16),32))throw new y("Provided rate does not fit in 32 bits (fixed 16.16).");this.HA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"volume",{get:function(){return this.ZA},set:function(t){if(!fh(vh(t,8),16))throw new y("Provided volume does not fit in 16 bits (fixed 8.8).");this.ZA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"matrix",{get:function(){return this.XA},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new y("(u, v, w) does not match the required (0, 0, 1)");this.XA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.GA},set:function(t){if(0===t)throw new y("NextTrackId cannot be 0.");if(!fh(t,32))throw new y("NextTrackId cannot exceed 32 bits.");this.GA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(vh(this.rate,16),32),n.writer.writeUInt(vh(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Af(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(gh),Uf=function(t){function n(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,0,e)||this}return th(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Vf),Wf=function(t){function n(n,i,r,e){return void 0===r&&(r={}),void 0===e&&(e=0),t.call(this,n,i,r,1,e)||this}return th(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Vf);function jf(t){var n=t.data,i=Vh(n.nextUint32()),r=i.version,e=i.flags,u=Uh(n,r),s=dh(n.nextUint32(),16),o=dh(n.nextUint16(),8);n.skip(2),n.skip(8);var a=jh(n);n.skip(24);var c=n.nextUint32();return 0===r?new Uf(u,c,{rate:s,volume:o,matrix:a},e.raw):new Wf(u,c,{rate:s,volume:o,matrix:a},e.raw)}U(),St(),U(),St();var Zf=function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o={});var a,c,h,f=this;return f=t.call(this,"tkhd",n,function(t){var n,i,r,e;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(r=null==t?void 0:t.trackInPreview)||void 0===r||r,trackSizeIsAspectRatio:null!==(e=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==e&&e}}(o))||this,f.creationTime=i.creation,f.modificationTime=i.modification,f.trackId=r,f.duration=i.duration,f.volume=e,f.width=u,f.height=s,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(c=o.alternateGroup)&&void 0!==c?c:0,f.matrix=null!==(h=o.matrix)&&void 0!==h?h:kf,f}return th(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"creationTime",{get:function(){return this.IA},set:function(t){if(!fh(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.IA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"modificationTime",{get:function(){return this.CA},set:function(t){if(!fh(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.CA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"trackId",{get:function(){return this.OA},set:function(t){if(0===t)throw new y("trackId cannot be 0.");if(!fh(t,32))throw new y("trackId cannot exceed 32 bits.");this.OA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"duration",{get:function(){return this.DA},set:function(t){if(!fh(t,this.bitSize))throw new y("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.DA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"volume",{get:function(){return this.ZA},set:function(t){if(!fh(vh(t,8),16))throw new y("Provided volume does not fit in 16 bits (fixed 8.8).");this.ZA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"width",{get:function(){return this.zA},set:function(t){if(!fh(vh(t,16),32))throw new y("Provided width does not fit in 32 bits (fixed 16.16).");this.zA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"height",{get:function(){return this.qA},set:function(t){if(!fh(vh(t,16),32))throw new y("Provided height does not fit in 32 bits (fixed 16.16).");this.qA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"layer",{get:function(){return this.YA},set:function(t){if(!fh(t,16))throw new y("Provided layer does not fit in 16 bits.");this.YA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.KA},set:function(t){if(!fh(t,16))throw new y("Provided alternateGroup does not fit in 16 bits.");this.KA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"matrix",{get:function(){return this.XA},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new y("(u, v, w) does not match the required (0, 0, 1)");this.XA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(vh(this.volume,8),16),n.writer.writeUInt(0,16),Af(this.matrix,n),n.writer.writeUInt(vh(this.width,16),32),n.writer.writeUInt(vh(this.height,16),32)},n}(gh),Xf=function(t){function n(n,i,r,e,u,s){return t.call(this,0,n,i,r,e,u,s)||this}return th(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Zf),Gf=function(t){function n(n,i,r,e,u,s){return t.call(this,1,n,i,r,e,u,s)||this}return th(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Zf);function Hf(t){var n,i,r,e,u=t.data,s=Vh(u.nextUint32()),o=s.version,a=s.flags,c=a.isSet(8),h=a.isSet(4),f=a.isSet(2),v=a.isSet(1);0===o?(n=u.nextUint32(),i=u.nextUint32(),r=u.nextUint32(),u.skip(4),e=u.nextUint32()):(n=u.nextUint64(),i=u.nextUint64(),r=u.nextUint32(),u.skip(4),e=u.nextUint64()),u.skip(8);var l=u.nextInt16(),d=u.nextInt16(),g=dh(u.nextInt16(),8);u.skip(2);var m=jh(u),w=dh(u.nextUint32(),16),p=dh(u.nextUint32(),16);return 0===o?new Xf({creation:n,modification:i,duration:e},r,g,w,p,{layer:l,matrix:m,alternateGroup:d,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f}):new Gf({creation:n,modification:i,duration:e},r,g,w,p,{layer:l,matrix:m,alternateGroup:d,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f})}var zf=function(t){function n(){return t.call(this,"trak")||this}return th(n,t),n}(Kh);function Yf(t){for(var n=new zf,i=0,r=Lh(t.data);i<r.length;i++){var e=r[i];Bh(e,"tkhd")?n.boxes.push(Hf(e)):Bh(e,"mdia")?n.boxes.push(mf(e)):Bh(e,"edts")?n.boxes.push(uf(e)):n.boxes.push(Zh(e))}return n}var Kf=function(t){function n(){return t.call(this,"moov")||this}return th(n,t),n}(Kh);function qf(t){for(var n=new Kf,i=0,r=Lh(t.data);i<r.length;i++){var e=r[i];Bh(e,"mvhd")?n.boxes.push(jf(e)):Bh(e,"trak")?n.boxes.push(Yf(e)):Bh(e,"mvex")?n.boxes.push(Ff(e)):Bh(e,"pssh")?n.boxes.push(Nf(e)):n.boxes.push(Zh(e))}return n}U(),St(),U(),St(),U(),St();var Jf=function(t){function n(n,i,r){void 0===r&&(r=0);var e=t.call(this,"tfdt",i,r)||this;return e.baseMediaDecodeTime=n,e}return th(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.jA},set:function(t){if(!fh(t,this.bitSize))throw new y("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.jA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(gh),Qf=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return th(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(Jf),$f=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return th(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(Jf);function nv(t){var n=t.data,i=Vh(n.nextUint32()),r=i.version,e=i.flags;return 0===r?new Qf(n.nextUint32(),e.raw):new $f(n.nextUint64(),e.raw)}U(),St();var iv=function(t){function n(n,i){void 0===i&&(i=0);var r=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return r.trackId=n.trackId,r.baseDataOffset=n.baseDataOffset,r.sampleDescriptionIndex=n.sampleDescriptionIndex,r.defaultSampleDuration=n.defaultSampleDuration,r.defaultSampleSize=n.defaultSampleSize,r.defaultSampleFlags=n.defaultSampleFlags,r}return th(n,t),k.defineProperty(n.prototype,"trackId",{get:function(){return this.OA},set:function(t){if(!fh(t,32))throw new y("Provided track id does not fit in 32 bits.");this.OA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.QA},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new y("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new y("The base data offset present flag is not set.");if(t&&!fh(t,64))throw new y("Provided baseDataOffset does not fit in 32 bits.");this.QA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.JA},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new y("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new y("The sample description index flag is not set.");if(t&&!fh(t,32))throw new y("Provided sampleDescriptionIndex does not fit in 32 bits.");this.JA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.VA},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new y("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new y("The default sample duration present flag is not set.");if(t&&!fh(t,32))throw new y("Provided defaultSampleDuration does not fit in 32 bits.");this.VA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.WA},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new y("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new y("The default sample size present flag is not set.");if(t&&!fh(t,32))throw new y("Provided defaultSampleSize does not fit in 32 bits.");this.WA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.UA},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new y("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new y("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!fh(t.samplePaddingValue,3))throw new y("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!fh(t.sampleDegradationPriority,16))throw new y("Provided sample degradation priority does not fit in 16 bits.");this.UA=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Sf(this.defaultSampleFlags,n)},n}(gh);function rv(t){var n=t.data,i=n.nextUint8(),r=new uh(oh.from(n.nextUint8Array(3)));r.skipBits(6);var e=Boolean(r.readBit()),u=Boolean(r.readBit());r.skipBits(10);var s=Boolean(r.readBit()),o=Boolean(r.readBit()),a=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),h=Boolean(r.readBit()),f=n.nextUint32(),v=h?n.nextUint64():void 0,l=c?n.nextUint32():void 0,d=a?n.nextUint32():void 0,g=o?n.nextUint32():void 0,m=s?Wh(new uh(oh.from(n.nextUint8Array(4)))):void 0;return new iv({trackId:f,defaultBaseIsMoof:e,durationIsEmpty:u,baseDataOffset:v,sampleDescriptionIndex:l,defaultSampleDuration:d,defaultSampleSize:g,defaultSampleFlags:m},i)}U(),St();var ev=function(t){function n(n,i,r){var e=t.call(this,"trun",n,function(t){var n,i,r,e;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(r=t.sampleFlagsPresent)&&void 0!==r&&r,sampleCompositionTimeOffsetsPresent:null!==(e=t.sampleCompositionTimeOffsetsPresent)&&void 0!==e&&e}}(i))||this;return e.dataOffset=i.dataOffset,e.samples=r,e.firstSampleFlags=i.firstSampleFlags,e}return th(n,t),k.defineProperty(n.prototype,"dataOffset",{get:function(){return this.$A},set:function(t){if(t&&!fh(t,32))throw new y("Provided data offset does not fit in 32 bits.");this.$A=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.tS},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!fh(t.samplePaddingValue,3))throw new y("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!fh(t.sampleDegradationPriority,16))throw new y("Provided sample degradation priority does not fit in 16 bits.");this.tS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"samples",{get:function(){return this.eS},set:function(t){var n,i;if(!fh(t.length,32))throw new y("The sample count cannot be represented in 32 bits.");for(var r=0,e=t;r<e.length;r++){var u=e[r];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new y("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new y("The sample duration present flag is not set.");if(u.duration&&!fh(u.duration,32))throw new y("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new y("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new y("The sample size present flag is not set.");if(u.size&&!fh(u.size,32))throw new y("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new y("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new y("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!fh(u.flags.samplePaddingValue,3))throw new y("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!fh(u.flags.sampleDegradationPriority,16))throw new y("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new y("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new y("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!fh(u.compositionTimeOffset,32))throw new y("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.eS=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Sf(this.firstSampleFlags,n);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(e.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(e.size,32),this.flags.sampleFlagsPresent&&Sf(e.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(e.compositionTimeOffset,32):n.writer.writeInt(e.compositionTimeOffset,32))}},n}(gh);function uv(t){var n=t.data,i=n.nextUint8(),r=new uh(oh.from(n.nextUint8Array(3)));r.skipBits(12);var e=Boolean(r.readBit()),u=Boolean(r.readBit()),s=Boolean(r.readBit()),o=Boolean(r.readBit());r.skipBits(5);var a=Boolean(r.readBit());r.skipBits(1);var c=Boolean(r.readBit()),h=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:s,sampleFlagsPresent:u,sampleCompositionTimeOffsetsPresent:e};c&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=Wh(new uh(oh.from(n.nextUint8Array(4)))));for(var v=[],l=0;l<h;l++){var d={};o&&(d.duration=n.nextUint32()),s&&(d.size=n.nextUint32()),u&&(d.flags=Wh(new uh(oh.from(n.nextUint8Array(4))))),e&&(d.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(d)}return new ev(i,f,v)}var sv=function(t){function n(){return t.call(this,"traf")||this}return th(n,t),n}(Kh);function ov(t){for(var n=new sv,i=0,r=Lh(t.data);i<r.length;i++){var e=r[i];Bh(e,"tfhd")?n.boxes.push(rv(e)):Bh(e,"tfdt")?n.boxes.push(nv(e)):Bh(e,"trun")?n.boxes.push(uv(e)):n.boxes.push(Zh(e))}return n}var av=function(t){function n(){return t.call(this,"moof")||this}return th(n,t),n}(Kh);function cv(t){for(var n=new av,i=0,r=Lh(t.data);i<r.length;i++){var e=r[i];Bh(e,"traf")?n.boxes.push(ov(e)):Bh(e,"pssh")?n.boxes.push(Nf(e)):n.boxes.push(Zh(e))}return n}U(),St();!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}th(n,t),k.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.iS},set:function(t){if(!fh(t,32))throw new y("Provided sequence number does not fit in 32 bits.");this.iS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(gh);U(),St();var hv=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return th(n,t),k.defineProperty(n.prototype,"codingName",{get:function(){return this.sS},set:function(t){if(4!==t.length)throw new y("Provided coding name was not 4 characters long.");this.sS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(hh);U(),St();!function(t){function n(n,i){var r=t.call(this,"pasp")||this;return r.hSpacing=n,r.vSpacing=i,r}th(n,t),k.defineProperty(n.prototype,"hSpacing",{get:function(){return this.nS},set:function(t){if(!fh(t,32))throw new y("Provided hSpacing does not fit in 32 bits.");this.nS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"vSpacing",{get:function(){return this.rS},set:function(t){if(!fh(t,32))throw new y("Provided vSpacing does not fit in 32 bits.");this.rS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(hh);U(),St();!function(t){function n(n,i,r){var e=t.call(this,n)||this;return e.sample=i,e.sinf=r,e}th(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Kh);U(),St();!function(t){function n(n,i,r){var e=t.call(this,"sinf")||this;return e.schm=i,e.schi=r,e.frma=new hv(n),e}th(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,r;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(r=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==r?r:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(hh);U(),St();var fv=function(t){function n(n,i,r){var e=t.call(this,"saio",n,void 0===r?0:1)||this;return e.entries=i,e.explicitAuxInfoType=r,e}return th(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"entries",{get:function(){return this.mA},set:function(t){var n=this;if(!fh(t.length,32))throw new y("Number of entries provided does not fit in 32 bits.");if(t.some((function(t){return!fh(t,n.bitSize)})))throw new y("Not all provided entries fit in ".concat(this.bitSize," bits."));this.mA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.oS},set:function(t){if(void 0===t)this.flags=0;else{if(!fh(t.auxInfoType,32))throw new y("Provided auxInfoType does not fit in 32 bits.");if(!fh(t.auxInfoTypeParameter,32))throw new y("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.oS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(gh);(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}th(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r,32)}}})(fv),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}th(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.getHighBitsUnsigned(),32),t.writer.writeUInt(r.getLowBitsUnsigned(),32)}}}(fv);U(),St();!function(t){function n(n,i,r){var e=t.call(this,"saiz",0,void 0===r?0:1)||this;return e.defaultSampleInfoSize=n,e.sampleInfoSizes=i,e.explicitAuxInfoType=r,e}th(n,t),k.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.hS},set:function(t){if(!fh(t,8))throw new y("Provided defaultSampleInfoSize does not fit in a single byte.");this.hS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.aS},set:function(t){if(!fh(t.length,32))throw new y("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some((function(t){return!fh(t,8)})))throw new y("Not all provided sampleInfoSizes fit in a byte.");this.aS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.oS},set:function(t){if(void 0===t)this.flags=0;else{if(!fh(t.auxInfoType,32))throw new y("Provided auxInfoType does not fit in 32 bits.");if(!fh(t.auxInfoTypeParameter,32))throw new y("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.oS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0!==this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0!==this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new y("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,r=this.sampleInfoSizes;i<r.length;i++){var e=r[i];n.writer.writeByte(e)}}}(gh);U(),St();!function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}th(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,r=this.samples;i<r.length;i++){Tf(r[i],n)}}}(gh);U(),St();!function(t){function n(n){return t.call(this,"stsd",n,0)||this}th(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Qh);U(),St();var vv=function(t){function n(n,i,r){var e=t.call(this,"sgpd",n,0)||this;return e.entries=r,e.groupingType=i,e}return th(n,t),k.defineProperty(n.prototype,"groupingType",{get:function(){return this.uS},set:function(t){if(4!==t.length)throw new y("The provided groupingType does not equal 4 characters.");this.uS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];this.serializeEntryBoxContent(n,e)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(gh);(function(t){function n(n,i){return t.call(this,0,n,i)||this}th(n,t),n.prototype.serializeVersionBoxContent=function(t){}})(vv),function(t){function n(n,i,r){var e=t.call(this,1,n,r)||this;return e.defaultLength=i,e}th(n,t),k.defineProperty(n.prototype,"defaultLength",{get:function(){return this.cS},set:function(t){if(!fh(t,32))throw new y("The provided defaultLength does not fit in 32 bits.");this.cS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(vv),function(t){function n(n,i,r,e){void 0===e&&(e=0);var u=this;if(n<2)throw new y("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,r)||this).defaultSampleDescriptionIndex=e,u}th(n,t),k.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.FA},set:function(t){if(!fh(t,32))throw new y("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.FA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(vv);U(),St();(function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}th(n,t),k.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.lS},set:function(t){if(!fh(t.length,32))throw new y("Number of allowed samples cannot fit in 32 bits.");if(t.some((function(t){return!fh(t,32)})))throw new y("Not all sampleSizes can be represented in 32 bits.");this.lS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,r=this.sampleSizes;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}})(gh),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r=t.call(this,"stsz",0,0)||this;return r.defaultSampleSize=n,r.samples=i,r}th(n,t),k.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.WA},set:function(t){if(!fh(t,32))throw new y("Provided defaultSampleSize does not fit in 32 bits.");this.WA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"samples",{get:function(){return this.eS},set:function(t){if(!fh(t,32))throw new y("Number of allowed samples cannot fit in 32 bits.");this.eS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(gh);U(),St();!function(t){function n(){return t.call(this,"stbl")||this}th(n,t)}(Kh);U(),St();!function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}th(n,t),k.defineProperty(n.prototype,"entries",{get:function(){return this.mA},set:function(t){if(!fh(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!fh(t.firstChunk,32)||!fh(t.sampleDescriptionIndex,32)||!fh(t.samplesPerChunk,32)})))throw new y("Not all entries can be represented in 96 bits.");this.mA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.firstChunk,32),n.writer.writeUInt(e.samplesPerChunk,32),n.writer.writeUInt(e.sampleDescriptionIndex,32)}}}(gh);U(),St();!function(t){function n(){return t.call(this,"schi")||this}th(n,t)}(Kh);U(),St();!function(t){function n(n,i,r){var e=t.call(this,"schm",0,void 0===r?0:1)||this;return e.schemeType=n,e.schemeVersion=i,e.schemeUri=r,e}th(n,t),k.defineProperty(n.prototype,"schemeType",{get:function(){return this.dS},set:function(t){if(4!==t.length)throw new y("The provided schemeType does not have a length of 4.");this.dS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.fS},set:function(t){if(!fh(t,32))throw new y("The provided schemeVersion does not fit in 23 bits.");this.fS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"schemeUri",{get:function(){return this._S},set:function(t){if(t&&4!==t.length)throw new y("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this._S=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(gh);U(),St();var lv=function(t){function n(n,i,r,e,u,s,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=r,a.earliestPresentationTime=e,a.firstOffset=u,a.references=s,a}return th(n,t),k.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"referenceId",{get:function(){return this.vS},set:function(t){if(!fh(t,32))throw new y("Provided referenceId does not fit in 32 bits.");this.vS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"timescale",{get:function(){return this.PA},set:function(t){if(!fh(t,32))throw new y("Provided timescale does not fit in 32 bits.");this.PA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.mS},set:function(t){if(!fh(t,this.bitSize))throw new y("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.mS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"firstOffset",{get:function(){return this.gS},set:function(t){if(!fh(t,this.bitSize))throw new y("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.gS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"references",{get:function(){return this.pS},set:function(t){if(!fh(t.length,16))throw new y("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!fh(r.referencedSize,31))throw new y("Provided referenced size does not fit in 31 bits.");if(!fh(r.subsegmentDuration,32))throw new y("Provided subsegment duration does not fit in 31 bits.");if(!fh(r.sapType,3))throw new y("Provided SAP type does not fit in 3 bits.");if(!fh(r.sapDeltaTime,28))throw new y("Provided SAP delta time does not fit in 28 bits.")}this.pS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,r=this.references;i<r.length;i++){var e=r[i];n.writer.writeBit(e.referenceType),n.writer.writeUInt(e.referencedSize,31),n.writer.writeUInt(e.subsegmentDuration,32),n.writer.writeBool(e.startsWithSap),n.writer.writeUInt(e.sapType,3),n.writer.writeUInt(e.sapDeltaTime,28)}},n}(gh),dv=function(t){function n(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,0,n,i,r,e,u,s)||this}return th(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(lv),gv=function(t){function n(n,i,r,e,u,s){return void 0===s&&(s=0),t.call(this,1,n,i,r,e,u,s)||this}return th(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(lv);U(),St();var mv=function(t){function n(n,i,r){return t.call(this,"styp",n,i,r)||this}return th(n,t),n}(sf);function wv(t){for(var n=t.data,i=n.nextChars(4),r=n.nextUint32(),e=[];n.cursor.offset<n.data.byteLength;)e.push(n.nextChars(4));return new mv(i,r,e)}U(),St();!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}th(n,t),k.defineProperty(n.prototype,"balance",{get:function(){return this.wS},set:function(t){if(t<-1||t>1)throw new y("Provided balance does not fit in the allowed range [-1, 1].");if(!fh(vh(t,8),16))throw new y("Provided balance does not fit in 16 bits (fixed 8.8).");this.wS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(vh(this.balance,8),16),n.writer.writeUInt(0,16)}}(gh);U(),St();!function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}th(n,t),k.defineProperty(n.prototype,"entries",{get:function(){return this.mA},set:function(t){if(!fh(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!fh(t,32)})))throw new y("Not all entries can be represented in 32 bits.");this.mA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e,32)}}}(gh);U(),St();!function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}th(n,t),k.defineProperty(n.prototype,"entries",{get:function(){return this.mA},set:function(t){if(!fh(t.length,32))throw new y("Number of allowed entries cannot fit in 32 bits.");if(t.some((function(t){return!fh(t.sampleCount,32)||!fh(t.sampleDelta,32)})))throw new y("Not all entries can be represented in 64 bits.");this.mA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,r=this.entries;i<r.length;i++){var e=r[i];n.writer.writeUInt(e.sampleCount,32),n.writer.writeUInt(e.sampleDelta,32)}}}(gh);U(),St();!function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}th(n,t),k.defineProperty(n.prototype,"trackId",{get:function(){return this.OA},set:function(t){if(!fh(t,32))throw new y("The provided trackId does not fit in 32 bits.");this.OA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Qh);U(),St();!function(t){function n(){return t.call(this,"udta")||this}th(n,t)}(Kh);U(),St();var pv={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=pv);var r=t.call(this,"vmhd",0,1)||this;return r.graphicsMode=n,r.opColor=i,r}th(n,t),k.defineProperty(n.prototype,"opColor",{get:function(){return this.yS},set:function(t){if(!fh(t.red,16)||!fh(t.green,16)||!fh(t.blue,16))throw new y("Not all colors could be represented in 16 bits.");this.yS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(gh);U(),St();var yv=function(t){function n(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s,o,a,c,h,f=this;return(f=t.call(this,n,i)||this).width=r.width,f.height=r.height,f.horizontalResolution=null!==(s=r.horizontal)&&void 0!==s?s:72,f.verticalResolution=null!==(o=r.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=e.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(c=e.frameCount)&&void 0!==c?c:1,f.depth=null!==(h=e.depth)&&void 0!==h?h:24,f.clap=e.clap,f.pasp=e.pasp,f.extra=u,f}return th(n,t),k.defineProperty(n.prototype,"width",{get:function(){return this.zA},set:function(t){if(!fh(t,16))throw new y("Provided width does not fit in 16 bits.");this.zA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"height",{get:function(){return this.qA},set:function(t){if(!fh(t,16))throw new y("Provided height does not fit in 16 bits.");this.qA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.bS},set:function(t){if(!fh(vh(t,16),32))throw new y("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.bS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.SS},set:function(t){if(!fh(vh(t,16),32))throw new y("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.SS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"compressorName",{get:function(){return this.TS},set:function(t){if(t.length>31)throw new y("The provided compressorName should at most be 31 characters long.");this.TS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"frameCount",{get:function(){return this.kS},set:function(t){if(!fh(t,16))throw new y("Provided frameCount does not fit in 16 bits.");this.kS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"depth",{get:function(){return this.ES},set:function(t){if(!fh(t,16))throw new y("Provided depth does not fit in 16 bits.");this.ES=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,r,e,u,s;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(e=null===(r=this.pasp)||void 0===r?void 0:r.getSize())&&void 0!==e?e:0)+(null!==(s=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==s?s:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(vh(this.horizontalResolution,16),32),n.writer.writeUInt(vh(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&lh(n.writer,this.extra)},n}(qh);U(),St(),U(),St();!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}th(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof I?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof I?n.concat(oh.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(gh);U(),St();!function(t){function n(n,i,r){var e=t.call(this,"mp4a",n,r)||this;return e.esd=i,e}th(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Jh);U(),St();!function(t){function n(n,i,r,e){void 0===e&&(e={});var u=t.call(this,"mp4v",n,i,e)||this;return u.esDescriptor=r,u}th(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(yv);U(),St();!function(t){function n(n,i){var r=t.call(this,"mp4s",n)||this;return r.esDescriptor=i,r}th(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(qh);U(),St(),U(),St();!function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}th(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(hh);U(),St();!function(){function t(t,n,i,r,e,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=r,this.ppsSets=e}k.defineProperty(t.prototype,"version",{get:function(){return this.xS},set:function(t){if(!fh(t,8))throw new y("Provided version does not fit in 8 bits.");this.xS=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"profileIndication",{get:function(){return this.RS},set:function(t){if(!fh(t,8))throw new y("Provided profileIndication does not fit in 8 bits.");this.RS=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.IS},set:function(t){if(!fh(t,8))throw new y("Provided profileCompatibility does not fit in 8 bits.");this.IS=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"levelIndication",{get:function(){return this.CS},set:function(t){if(!fh(t,8))throw new y("Provided levelIndication does not fit in 8 bits.");this.CS=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"spsSets",{get:function(){return this.PS},set:function(t){if(!fh(t.length,5))throw new y("Provided number of spsSets exceeds the max (32)");this.PS=t},enumerable:!1,configurable:!0}),k.defineProperty(t.prototype,"ppsSets",{get:function(){return this.DS},set:function(t){if(!fh(t.length,8))throw new y("Provided number of ppsSets exceeds the max (256)");this.DS=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce((function(t,n){return t+n.length}),0)+2*this.ppsSets.length+this.ppsSets.reduce((function(t,n){return t+n.length}),0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var r=i[n];t.writer.writeUInt(r.length,16),t.concat(oh.from(r))}t.writer.writeByte(this.ppsSets.length);for(var e=0,u=this.ppsSets;e<u.length;e++){var s=u[e];t.writer.writeUInt(s.length,16),t.concat(oh.from(s))}}}();U(),St();!function(t){function n(n,i,r,e,u){void 0===e&&(e={}),void 0===u&&(u=void 0);var s=t.call(this,"avc1",n,i,e)||this;return s.configurationBox=r,s.bitrateBox=u,s}th(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(yv);U(),St();!function(t){function n(n,i,r){var e=t.call(this,"btrt")||this;return e.bufferSizeDb=n,e.max=i,e.avg=r,e}th(n,t),k.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.rA},set:function(t){if(!fh(t,32))throw new y("Provided bufferSizeDb does not fit in 32 bits.");this.rA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"max",{get:function(){return this.N_},set:function(t){if(!fh(t,32))throw new y("Provided max does not fit in 32 bits.");this.N_=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"avg",{get:function(){return this.NS},set:function(t){if(!fh(t,32))throw new y("Provided avg does not fit in 32 bits.");this.NS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(hh);U(),St(),U(),St(),U(),St();var _v=function(t){function n(n,i){var r,e,u,s,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(e=null===(r=i.constantIv)||void 0===r?void 0:r.length)&&void 0!==e?e:0)>0)throw new y("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(s=i.constantIv)&&void 0!==s?s:new I(0),o}return th(n,t),k.defineProperty(n.prototype,"isProtected",{get:function(){return this.MS},set:function(t){if(!fh(t,8))throw new y("Provided isProtected does not fit in 1 byte.");this.MS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.LS},set:function(t){if(![8,16].includes(t))throw new y("Provided perSampleIvSize does not match any allowed value [8, 16].");this.LS=t,this.FS=new I(0)},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"kId",{get:function(){return this.VS},set:function(t){if(16!==t.length)throw new y("Provided kId length is not 16.");this.VS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"constantIv",{get:function(){return this.FS},set:function(t){if(![8,16].includes(t.length))throw new y("Provided constant IV length does not match any allowed value [8, 16].");this.FS=t,this.LS=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),lh(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),lh(t.writer,this.constantIv))},n}(gh),bv=(function(t){function n(n){return t.call(this,0,n)||this}th(n,t)}(_v),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return th(n,t),k.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.WS},set:function(t){if(!fh(t,4))throw new y("Provided cryptByteBlocks does not fit in 4 bits.");this.WS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.US},set:function(t){if(!fh(t,4))throw new y("Provided skipByteBlocks does not fit in 4 bits.");this.US=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(_v));!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new bv(n),i}th(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Ef);function kv(t){return void 0!==t.iv}function Av(t){return void 0!==t.subsamples}U(),St();!function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}th(n,t),k.defineProperty(n.prototype,"samples",{get:function(){return this.eS},set:function(t){var n;if(!fh(t.length,32))throw new y("The number of samples provided does not fit in 32 bits.");for(var i=0,r=t;i<r.length;i++){var e=r[i];if(kv(e)&&![8,16].includes(e.iv.length))throw new y("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Av(e)),!0===n&&!Av(e)||!1===n&&Av(e))throw new y("Mix of samples with and without subsamples detected.");if(Av(e)){if(!fh(e.subsamples.length,16))throw new y("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];if(!fh(o.clearData,16))throw new y("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!fh(o.protectedData,23))throw new y("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.eS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,r=this.samples;i<r.length;i++){var e=r[i];kv(e)&&(n+=e.iv.length),Av(e)&&(n+=2+6*e.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,r=this.samples;i<r.length;i++){var e=r[i];if(kv(e)&&lh(n.writer,e.iv),Av(e)){n.writer.writeUInt(e.subsamples.length,16);for(var u=0,s=e.subsamples;u<s.length;u++){var o=s[u];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(gh);U(),St(),U(),St();!function(t){function n(n,i,r,e,u){var s=t.call(this,"emsg",0,0)||this;return s.schemeIdUri=n,s.value=i,s.data=u,s.id=r,s.timescale=e.timescale,s.presentationTimeDelta=e.presentationTimeDelta,s.eventDuration=e.eventDuration,s}th(n,t),k.defineProperty(n.prototype,"timescale",{get:function(){return this.PA},set:function(t){if(!fh(t,32))throw new y("The provided timescale does not fit in 32 bits.");this.PA=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.GS},set:function(t){if(!fh(t,32))throw new y("The provided presentationTimeDelta does not fit in 32 bits.");this.GS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"eventDuration",{get:function(){return this.HS},set:function(t){if(!fh(t,32))throw new y("The provided eventDuration does not fit in 32 bits.");this.HS=t},enumerable:!1,configurable:!0}),k.defineProperty(n.prototype,"id",{get:function(){return this.ZS},set:function(t){if(!fh(t,32))throw new y("The provided id does not fit in 32 bits.");this.ZS=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(oh.from(this.data))}}(gh);U(),St(),U(),St(),U(),St();var Tv=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new ch,n=0,i=this.boxes;n<i.length;n++){var r=i[n];t.concat(r.serialize())}return t.toRangedBuffer()},t}();function Sv(t,n){return function(i){var r=function(t,n){for(var i=t.data,r=t.cursor;r.offset<i.byteLength;){var e=Fh(i,r);if(!e.complete)return;if(Bh(e.box,n))return e.box}}(new Mh(xh(i),new Ph),t);if(!r)throw new y("".concat(t," box not found"));return n(r)}}var Ev=Sv("moov",qf),Iv=Sv("sidx",(function(t){var n,i,r=t.data,e=Vh(r.nextUint32()),u=e.version,s=e.flags,o=r.nextUint32(),a=r.nextUint32();0===u?(n=r.nextUint32(),i=r.nextUint32()):(n=r.nextUint64(),i=r.nextUint64()),r.skip(2);for(var c=r.nextUint16(),h=[],f=0;f<c;f++){var v=new uh(oh.from(r.nextUint8Array(12))),l=v.readBit(),d=v.readUInt(31),g=v.readUInt(32),m=Boolean(v.readBit()),w=v.readUInt(3),p=v.readUInt(28);h.push({referenceType:l,referencedSize:d,subsegmentDuration:g,startsWithSap:m,sapType:w,sapDeltaTime:p})}return 0===u?new dv(o,a,n,i,h,s.raw):new gv(o,a,n,i,h,s.raw)})),Rv=Sv("moof",cv),Cv=Sv("pssh",Nf);function Nv(t){return function(t){for(var n=new Tv,i=0,r=Lh(t);i<r.length;i++){var e=r[i];Bh(e,"ftyp")?n.boxes.push(af(e)):Bh(e,"styp")?n.boxes.push(wv(e)):Bh(e,"moov")?n.boxes.push(qf(e)):Bh(e,"moof")?n.boxes.push(cv(e)):Bh(e,"mdat")?n.boxes.push(pf(e)):n.boxes.push(Zh(e))}return n}(new Mh(xh(t),new Ph))}var xv=function(t){function n(n,i){var r;(r=t.call(this)||this).qS=n,r.iT=i,r.jS=!1,r.sT=function(){r.tT()},r.nT=function(t){r.wo(new ga(r,t.messageType,qc(r.iT,t.message)))},r.rT=function(){r.jS=!0,r.YS.Pb>0&&(r.YS.Bb(),r.wo(new da(r.YS))),r.qS.removeEventListener("keystatuseschange",r.sT),r.qS.removeEventListener("message",r.nT)},r.qS.addEventListener("keystatuseschange",r.sT),r.qS.addEventListener("message",r.nT),r.YS=new zc;var e=[];return r.qS.closed&&e.push(ut.resolve(r.qS.closed)),r.QS=new Yc,e.push(r.QS.Vb),r.Fd=ut.race(e).then(r.rT,r.rT),r.tT(),r}Rt(n,t);var i=n.prototype;return i.Ws=function(){if(this.jS)return this.Fd;var t=[];return t.push(ut.resolve(this.qS.close())),t.push(ra(1e3)),this.QS.Kw(ut.race(t).catch(Dv)),this.jS=!0,this.Fd},i.JS=function(t,n,i){if(Gn.hm){var r=Cv(Rc(n));if(1===r.version)n=new Rf(r.systemId,r.data).serialize().join()}return ut.resolve(this.qS.generateRequest(t,n)).catch(Dv)},i.Dn=function(t){return ut.resolve(this.qS.load(t)).catch(Dv)},i.$S=function(){return ut.resolve(this.qS.remove()).catch(Dv)},i.tr=function(t){return ut.resolve(this.qS.update(t)).catch(Dv)},i.tT=function(){var t=this;this.YS.Bb(),this.qS.keyStatuses.forEach((function(n,i){t.eT(i,n)})),this.wo(new da(this.YS))},i.eT=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Rc(t);if(this.iT===bs&&16===r.byteLength&&(Gn.Sm||Gn.wg)){var e=Sc(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.iT===bs&&"status-pending"===n&&(n="usable"),this.YS.Mb(r,n)},xt(n,[{key:"XS",get:function(){return this.Fd}},{key:"zS",get:function(){return this.qS.expiration}},{key:"mb",get:function(){return this.YS}},{key:"KS",get:function(){return this.qS.sessionId}}]),n}(oa);function Dv(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|T(i[1],16))}throw new Qc(t.message,void 0,n,t)}var Pv=function(){function t(t,n,i){this.hT=t,this.aT=n,this.bd=i}var n=t.prototype;return n.oT=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){return[2,new xv(n.hT.createSession(t),n.aT)]}))}))()},n.uT=function(t){return ut.resolve(this.hT.setServerCertificate(t))},n.bn=function(t){return ut.resolve(t.setMediaKeys(this.hT))},n.cT=function(t){return ut.resolve(t.setMediaKeys(null))},n.er=function(){return ut.resolve()},t}(),Mv=function(){function t(t,n,i){this.lT=t,this.iT=n,this.fT=i}var n=t.prototype;return n.dT=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.lT.createMediaKeys()];case 1:return n=i.sent(),[2,new Pv(n,t.iT,t.fT)]}}))}))()},n._T=function(){return this.fT},xt(t,[{key:"aT",get:function(){return this.lT.keySystem}}]),t}();U(),St(),U(),St(),rn();var Bv={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_WEBM:"video/webm",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_WEBM:"audio/webm",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Ov(t){return js(t,Bv.APPLICATION_MP4)||js(t,Bv.VIDEO_MP4)||js(t,Bv.AUDIO_MP4)}function Lv(t){return js(t,Bv.VIDEO_WEBM)||js(t,Bv.AUDIO_WEBM)}var Fv=function(){function t(t,n){this.Aw=t,this.mT=n}return t.prototype.vT=function(t){for(var n=0,i=this.mT;n<i.length;n++){var r=nn(i[n],2),e=r[0],u=r[1];if(e.toLowerCase()===t.toLowerCase())return u}},t}();function Vv(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Fv(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),u=[],s=0,o=!1,a=0;a<e.length;a++){var c=e[a];if(o||";"!==c)'"'===c&&(o=!o);else{var h=Uv(e.substr(s,a));h&&u.push(h),s=a+1}}if(s!==e.length){var f=Uv(e.substr(s));f&&u.push(f)}return new Fv(r,u)}function Uv(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function Wv(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function jv(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);if(i){var r=Number(i[1]),e=Number(i[2]);n="avc1."+zs((r<<16|e).toString(16),6,"0")}return n}function Zv(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,gT:r.gT},s=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter((function(t){return Boolean(t.contentType)}));o.length&&(u.audioCapabilities=o.filter((function(r){return Xv(t,n,i,r)})),s=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var a=r.videoCapabilities.filter((function(t){return Boolean(t.contentType)}));a.length&&(u.videoCapabilities=a.filter((function(r){return Xv(t,n,i,r)})),s=!0,u.videoCapabilities.length&&(e=!0))}return s||(e=t(i,"video/mp4")),e?u:void 0}}function Xv(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!Ao(n,r.encryptionScheme))&&(!r.robustness&&t(i,Wv(r.contentType))))}function Gv(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function Hv(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function zv(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Yv))||!(!t.videoCapabilities||!t.videoCapabilities.some(Yv))}function Yv(t){return!t.robustness}function Kv(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(us({},e,{robustness:n}))}return i}var qv=function(){function t(){}return t.prototype.Cw=function(t,n){return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:for(n=n.filter((function(t){return!t.gT})),i=0;i<n.length;i++)(r=n[i]).audioCapabilities&&(r.audioCapabilities=Hv(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Hv(r.videoCapabilities));if(t!==Ts||!n.some(zv))return[3,4];e=n.map((function(t){return function(t,n){return us({},t,{videoCapabilities:t.videoCapabilities?Kv(t.videoCapabilities,n):void 0,audioCapabilities:t.audioCapabilities?Kv(t.audioCapabilities,n):void 0})}(t,"SW_SECURE_CRYPTO")})),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,d.requestMediaKeySystemAccess(t,e)];case 2:return u=c.sent(),s=u.getConfiguration(),[2,new Mv(u,t,s)];case 3:return c.sent(),[3,4];case 4:return[4,d.requestMediaKeySystemAccess(t,n)];case 5:return o=c.sent(),a=o.getConfiguration(),[2,new Mv(o,t,a)]}}))}))()},t.pT=function(){return no()},t}();U(),St(),U(),St(),Dt(),U(),St(),Gt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt();var Jv=function(t){function n(n,i){var r;return(r=t.call(this)||this).kT=n,r.ET=i,r.jS=!1,r.PT=void 0,r.ST=void 0,r.wT=void 0,r.rT=function(){r.jS=!0,r.yT.Ob(void 0),r.wT&&(r.wT.removeEventListener("mskeyclose",r.rT),r.wT.removeEventListener("mskeymessage",r.xT),r.wT.removeEventListener("mskeyerror",r.Ss),r.wT.removeEventListener("mskeyadded",r.IT))},r.xT=function(t){r.ST&&(r.ST.Ob(void 0),r.ST=void 0),r.wo(new ga(r,"license-request",Nc(t.message).buffer,t.destinationURL||void 0))},r.Ss=function(){var t=r.wT&&r.wT.error;if(t){var n=new Qc("Unknown CDM error",t.code,t.systemCode);if(r.ST)r.ST.Fb(n),r.ST=void 0;else if(r.PT)r.PT.Fb(n),r.PT=void 0;else switch(n.Wb){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.CT("output-not-allowed");break;default:r.CT("internal-error")}}},r.IT=function(){r.ST&&(r.CT("usable"),r.ST.Ob(void 0),r.ST=void 0),r.PT&&(r.CT("usable"),r.PT.Ob(void 0),r.PT=void 0)},r.yT=new Yc,r.bT=new zc,r}Rt(n,t);var i=n.prototype;return i.JS=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return r.AT(),r.ST=new Yc,r.oT(Rc(n),i),[4,r.ST.Vb];case 1:return t.sent(),[2]}}))}))()},i.oT=function(t,n){if(!t)throw new _("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.TT;return(i=n?this.kT.createSession(this.ET,t,r):this.kT.createSession(this.ET,t)).addEventListener("mskeyclose",this.rT),i.addEventListener("mskeymessage",this.xT),i.addEventListener("mskeyerror",this.Ss),i.addEventListener("mskeyadded",this.IT),this.wT=i,this.CT("status-pending"),i},i.Dn=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){return n.AT(),[2,!0]}))}))()},i.tr=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(n.PT=new Yc,n.AT(),!n.wT)return[2,ut.resolve()];if(0===(i=Rc(t)).byteLength)throw new _("Cannot call update with an empty response.");return n.wT.update(i),[4,n.PT.Vb];case 1:return r.sent(),[2]}}))}))()},i.Ws=function(){return!this.jS&&this.wT&&(this.jS=!0,this.wT.close()),this.yT.Vb},i.$S=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.AT(),[2]}))}))()},i.AT=function(){if(this.jS)throw new _("Already closing or closed.")},i.CT=function(t){this.bT.Bb(),this.bT.Mb(Hc,t),this.wo(new da(this.bT))},xt(n,[{key:"KS",get:function(){return this.wT&&this.wT.sessionId||""}},{key:"zS",get:function(){return NaN}},{key:"XS",get:function(){return this.yT.Vb}},{key:"mb",get:function(){return this.bT}}]),n}(oa),Qv=function(){function t(t,n,i){this.kT=t,this.aT=n,this.bd=i;var r=Gv(i)||"video/mp4";this.ET=Wv(r)}var n=t.prototype;return n.oT=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){return[2,new Jv(n.kT,n.ET)]}))}))()},n.uT=function(t){return ut.resolve(!1)},n.bn=function(t){var n=this,i=function(){t.msSetMediaKeys(n.kT),t.removeEventListener("loadedmetadata",i)};return t.readyState>=1?t.msSetMediaKeys(this.kT):t.addEventListener("loadedmetadata",i),ut.resolve()},n.cT=function(t){return ut.resolve()},n.er=function(){return ut.resolve()},t}(),$v=function(){function t(t,n){this.iT=t,this.DT=n}var n=t.prototype;return n._T=function(){return this.DT},n.dT=function(){var t=new f.MSMediaKeys(this.iT);return ut.resolve(new Qv(t,this.iT,this.DT))},xt(t,[{key:"aT",get:function(){return this.iT}}]),t}(),tl=function(){function t(){}return t.prototype.Cw=function(t,n){try{return ut.resolve(function(t,n){if(!nl())throw new _("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Zv(il,va,t,r);if(e)return new $v(t,e)}throw new _("Unsupported key system configuration for "+t)}(t,n))}catch(t){return ut.reject(t)}},t.pT=function(){return nl()},t}();function nl(){return void 0!==f.MSMediaKeys&&"function"==typeof f.MSMediaKeys.isTypeSupported}function il(t,n){return f.MSMediaKeys.isTypeSupported(t,n)}U(),St(),U(),St(),Dt(),U(),St(),Gt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt();var rl=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).BT=n,e.ET=i,e.LT=r,e.yT=new Yc,e.FT=void 0,e.bT=new zc,e.NT=void 0,e.OT=new Yc,e.Ss=function(){var t=e.NT&&e.NT.error;if(t){var n=new Qc("Unknown CDM error",t.code,t.systemCode);e.FT?(e.FT.Fb(n),e.FT=void 0):n.Wb===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.CT("output-not-allowed"):e.CT("internal-error"),e.wo(new ma)}},e.xT=function(t){e.wo(new ga(e,"license-request",Nc(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.IT=function(){e.FT&&(e.FT.Ob(void 0),e.FT=void 0),e.CT("usable")},e}Rt(n,t);var i=n.prototype;return i.JS=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.MT;if(!r)throw new _("Expected FairPlay contentId to be defined but was "+r+".");var e=function(t,n,i){var r=_c(t),e=2*r.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+i.byteLength),o=new DataView(s),a=new Dc;return tc(o,a,e,!0),lc(o,a,r,!0),tc(o,a,u,!0),lc(o,a,n,!0),tc(o,a,i.byteLength,!0),za(o,a,i),new I(s)}(Rc(n),r,this.LT);return this.NT=this.BT.createSession(this.ET,e),this.NT.addEventListener("webkitkeymessage",this.xT,!1),this.NT.addEventListener("webkitkeyadded",this.IT,!1),this.NT.addEventListener("webkitkeyerror",this.Ss,!1),this.CT("status-pending"),this.OT.Ob(this.NT),this.OT=new Yc,ut.resolve()},i.Dn=function(t){return ut.resolve(!0)},i.tr=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(0===(i=Rc(t)).byteLength)throw new _("Cannot call update with an empty response.");return n.FT=new Yc,(r=n.NT)?[3,2]:[4,n.OT.Vb];case 1:r=e.sent(),e.label=2;case 2:return r.update(i),[4,n.FT.Vb];case 3:return e.sent(),[2]}}))}))()},i.Ws=function(){var t,n=this.NT;return n&&(n.removeEventListener("webkitkeymessage",this.xT,!1),n.removeEventListener("webkitkeyadded",this.IT,!1),n.removeEventListener("webkitkeyerror",this.Ss,!1),n.close()),this.OT.Yw(),null==(t=this.FT)||t.Yw(),this.yT.Ob(void 0),this.yT.Vb},i.$S=function(){return ut.resolve(void 0)},i.CT=function(t){this.bT.Bb(),this.bT.Mb(Hc,t),this.wo(new da(this.bT))},xt(n,[{key:"KS",get:function(){return this.NT?this.NT.sessionId:""}},{key:"zS",get:function(){return NaN}},{key:"XS",get:function(){return this.yT.Vb}},{key:"mb",get:function(){return this.bT}}]),n}(oa);U(),St(),Dt(),Ct(),U(),St();var el=function(t){return t[t.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",t[t.LICENSE_ERROR=2e3]="LICENSE_ERROR",t[t.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",t[t.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",t[t.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",t[t.LICENSE_INVALID_FEATURE=2004]="LICENSE_INVALID_FEATURE",t[t.SOURCE_INVALID=3e3]="SOURCE_INVALID",t[t.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",t[t.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",t[t.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",t[t.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",t[t.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",t[t.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",t[t.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",t[t.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",t[t.MEDIA_ABORTED=5004]="MEDIA_ABORTED",t[t.NETWORK_ERROR=6e3]="NETWORK_ERROR",t[t.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",t[t.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",t[t.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",t[t.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",t[t.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",t[t.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",t[t.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",t[t.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",t[t.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",t[t.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",t[t.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",t[t.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",t[t.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",t[t.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",t[t.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",t[t.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",t[t.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",t[t.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",t[t.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",t[t.AD_ERROR=1e4]="AD_ERROR",t[t.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",t[t.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",t[t.PICTURE_IN_PICTURE_ERROR=11001]="PICTURE_IN_PICTURE_ERROR",t[t.CACHE_SOURCE_ERROR=12e3]="CACHE_SOURCE_ERROR",t[t.CACHE_CONTENT_PROTECTION_ERROR=12001]="CACHE_CONTENT_PROTECTION_ERROR",t[t.THEO_LIVE_UNKNOWN_ERROR=13e3]="THEO_LIVE_UNKNOWN_ERROR",t[t.THEO_LIVE_CHANNEL_NOT_FOUND=13001]="THEO_LIVE_CHANNEL_NOT_FOUND",t[t.THEO_LIVE_END_OF_DEMO=13002]="THEO_LIVE_END_OF_DEMO",t[t.THEO_LIVE_ANALYTICS_ERROR=13003]="THEO_LIVE_ANALYTICS_ERROR",t}({}),ul=function(t){return t[t.CONFIGURATION=1]="CONFIGURATION",t[t.LICENSE=2]="LICENSE",t[t.SOURCE=3]="SOURCE",t[t.MANIFEST=4]="MANIFEST",t[t.MEDIA=5]="MEDIA",t[t.NETWORK=6]="NETWORK",t[t.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",t[t.SUBTITLE=8]="SUBTITLE",t[t.VR=9]="VR",t[t.AD=10]="AD",t[t.FULLSCREEN=11]="FULLSCREEN",t[t.CACHE=12]="CACHE",t[t.THEOLIVE=13]="THEOLIVE",t}({});!function(t){t.fromCode=function(n){var i=A.floor(n/1e3);if(i in t)return i;throw new _("Invalid error code: "+n)}}(ul||(ul={}));var sl=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).code=n,e}return Rt(n,t),xt(n,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return ul.fromCode(this.code)}}]),n}(Vo);function ol(t,n){return t instanceof sl?t:t instanceof y?new sl(n,t.message,t):new sl(n,String(t))}var al=function(){function t(t,n,i){this.BT=t,this.aT=n,this.bd=i,this.LT=void 0;var r=Gv(i)||"video/mp4";this.ET=Wv(r)}var n=t.prototype;return n.getInternalMediaKeys=function(){return this.BT},n.oT=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){if(!n.LT)throw new sl(el.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");return[2,new rl(n.BT,n.ET,n.LT)]}))}))()},n.uT=function(t){return this.LT=Rc(t),ut.resolve(!0)},n.bn=function(t){return t.webkitSetMediaKeys(this.BT),ut.resolve()},n.cT=function(t){return t.webkitSetMediaKeys(null),ut.resolve()},n.er=function(){return ut.resolve()},t}(),cl=function(){function t(t,n){this.iT=t,this.DT=n}var n=t.prototype;return n._T=function(){return this.DT},n.dT=function(){var t=new f.WebKitMediaKeys(this.iT);return ut.resolve(new al(t,this.iT,this.DT))},xt(t,[{key:"aT",get:function(){return this.iT}}]),t}(),hl=function(){function t(){}return t.prototype.Cw=function(t,n){try{return ut.resolve(function(t,n){if(t!==Cs)throw new _(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!fl())throw new _("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Zv(vl,la,t,r);if(e)return new cl(t,e)}throw new _("Unsupported key system configuration for "+t)}(t,n))}catch(t){return ut.reject(t)}},t.pT=function(){return fl()},t}();function fl(){return void 0!==f.WebKitMediaKeys&&"function"==typeof f.WebKitMediaKeys.isTypeSupported}function vl(t,n){return f.WebKitMediaKeys.isTypeSupported(t,n)}U(),St(),Gt(),Jt();var ll=function(){function t(t){this.VT=t}return t.prototype.Cw=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=0,e=i.VT,s.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],s.label=2;case 2:return s.trys.push([2,4,,5]),[4,u.Cw(t,n)];case 3:return[2,s.sent()];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:throw new _("Unsupported key system configuration for "+t)}}))}))()},t}();U(),St(),U(),St(),U(),St(),Gt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var dl=function(){function t(t){var n=this;this.UT=[],this.GT=void 0,this.WT=new Jo,this.HT=function(){return 0===n.UT.length?n.XT?gl(n.XT,n.WT.Vw).then(n.zT,n.zT):n.zT():n.UT.shift()().then(n.HT)},this.zT=function(){if(0!==n.UT.length)return n.HT();n.GT=void 0},this.XT=t}var n=t.prototype;return n.Jo=function(t,n){var i=this;return new ut((function(r){var e=Jo.Qw([i.WT.Vw,n]),u=function(){e.Hw()};i.UT.push((function(){var n=gl(t,e.Vw);return r(n),n.then(u,u)})),i.GT||(i.GT=i.HT())}))},n.Yw=function(){return this.ZT(!0)},n.gn=function(){return this.XT=void 0,this.ZT(!1)},n.ZT=function(t){var n=this.GT;return this.WT.Yw(),t&&(this.WT=new Jo),ut.resolve(n)},t}();function gl(t,n){return new ut((function(i){return i(t(n))}))}var ml=new dl,wl=function(t){function n(n){var i;return(i=t.call(this)||this).iT=n,i.ST=void 0,i.FT=void 0,i.Qb=!1,i.nk=void 0,i.QT=void 0,i.yT=new Yc,i.ek="",i.JT=new Yc,i.$T=new zc,i}Rt(n,t);var i=n.prototype;return i.qT=function(){this.FT&&(this.CT("usable"),this.FT.Ob(void 0),this.FT=void 0)},i.YT=function(t){var n=new Qc("Unknown CDM error",t.errorCode,t.systemCode);this.FT?(this.FT.Fb(n),this.FT=void 0):this.ST?(this.ST.Fb(n),this.ST=void 0):n.Wb===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.CT("output-restricted"):1===n.Ub?this.CT("expired"):this.CT("internal-error")},i.KT=function(t){0!==t.message.byteLength?(this.ST&&(this.ST.Ob(void 0),this.ST=void 0),this.wo(new ga(this,"license-request",qc(this.iT,Nc(t.message).buffer),t.defaultURL||void 0))):this.ST&&(this.ST.Fb("Empty key message"),this.ST=void 0)},i.jT=function(t){this.QT||(this.QT=t,this.JT.Ob(t))},i.Ws=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.throwIfClosed(),t.FT&&(t.FT.Fb(void 0),t.FT=void 0),t.Qb=!0,t.yT.Ob(void 0),[2]}))}))()},i.JS=function(t,n){var i=this;return Zt((function(){var t;return Ht(this,(function(r){switch(r.label){case 0:return i.throwIfClosed(),i.ST=new Yc,i.nk=Rc(n),(t=i.QT)?[3,2]:[4,i.JT.Vb];case 1:t=r.sent(),r.label=2;case 2:return t.webkitGenerateKeyRequest(i.iT,i.nk),[4,i.ST.Vb];case 3:return r.sent(),[2]}}))}))()},i.Dn=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){return n.throwIfClosed(),[2,!1]}))}))()},i.$S=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.throwIfClosed(),[2]}))}))()},i.tr=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.throwIfClosed(),n.FT=new Yc,Gn.Nm||Gn.Im?[2,ml.Jo(Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))})))]:[4,n.doUpdate(t)];case 1:return i.sent(),[2]}}))}))()},i.doUpdate=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return void 0===n.FT?[2]:(i=n.QT)?[3,2]:[4,n.JT.Vb];case 1:i=r.sent(),r.label=2;case 2:return i.webkitAddKey(n.iT,Rc(t),n.nk,n.KS),[4,n.FT.Vb];case 3:return r.sent(),Gn.Im?[4,ra(500)]:[3,5];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))()},i.throwIfClosed=function(){if(this.Qb)throw new _("Already closing or closed.")},i.CT=function(t){this.$T.Bb(),this.$T.Mb(Hc,t),this.wo(new da(this.$T))},i.rk=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return(i=t.QT)?[3,2]:[4,t.JT.Vb];case 1:i=r.sent(),r.label=2;case 2:if(!(n=i).webkitCancelKeyRequest)return[3,7];r.label=3;case 3:return r.trys.push([3,4,5,7]),n.webkitCancelKeyRequest(t.iT,t.ek),[3,7];case 4:return r.sent(),[3,7];case 5:return[4,ra(500)];case 6:return r.sent(),[7];case 7:return[2]}}))}))()},xt(n,[{key:"mb",get:function(){return this.$T}},{key:"KS",get:function(){return this.ek},set:function(t){this.ek=t}},{key:"XS",get:function(){return this.yT.Vb}},{key:"zS",get:function(){return NaN}}]),n}(oa),pl=function(){function t(t,n){var i=this;this.aT=t,this.bd=n,this.QT=void 0,this.lk=os(),this.dk=[],this.IT=function(t){var n=i.fk(t.sessionId);n&&n.qT()},this.hk=function(t){var n=i.fk(t.sessionId);n&&n.YT(t)},this.ck=function(t){var n=i.fk(t.sessionId);n&&n.KT(t)}}var n=t.prototype;return n.bn=function(t){return this.QT=t,this.QT.addEventListener("webkitkeyadded",this.IT),this.QT.addEventListener("webkitkeyerror",this.hk),this.QT.addEventListener("webkitkeymessage",this.ck),this.lk.forEach((function(n,i){return n.jT(t)})),this.dk.forEach((function(n){return n.jT(t)})),ut.resolve()},n.cT=function(t){return t.removeEventListener("webkitkeyadded",this.IT),t.removeEventListener("webkitkeyerror",this.hk),t.removeEventListener("webkitkeymessage",this.ck),this.QT=void 0,ut.resolve()},n.er=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=t.lk.entries(),i=n.next(),r.label=1;case 1:return i.done?[3,3]:[4,i.value[1].rk()];case 2:return r.sent(),i=n.next(),[3,1];case 3:return t.lk.clear(),[2]}}))}))()},n.oT=function(t,n,i){var r=this;return Zt((function(){var t;return Ht(this,(function(n){return t=new wl(r.aT),r.QT&&t.jT(r.QT),r.dk.push(t),[2,t]}))}))()},n.uT=function(t){return ut.resolve(!1)},n.fk=function(t){if(t){var n=this.lk.get(t);return n||((n=this.dk.shift())?(n.KS=t,this.lk.set(t,n),n):void 0)}},t}(),yl=function(){function t(t,n){this.aT=t,this._k=n}var n=t.prototype;return n.dT=function(){return ut.resolve(new pl(this.aT,this._k))},n._T=function(){return this._k},t}(),_l=function(){function t(){}return t.prototype.Cw=function(t,n){try{return ut.resolve(function(t,n){if(!_l.pT())throw new _("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Zv(bl,va,t,r);if(e)return new yl(t,e)}throw new _("Unsupported key system configuration for "+t)}(t,n))}catch(t){return ut.reject(t)}},t.pT=function(){return io()},t}();function bl(t,n){var i=Di();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}U(),St();var kl,Al=function(){function t(){}return t.prototype.Cw=function(t,n){return t===Ts||t===bs?ut.resolve(void 0):ut.reject(new y("DRM configuration not supported"))},t}();function Tl(){return kl||(kl=function(){var t=[];hl.pT()&&t.push(new hl);qv.pT()&&t.push(new qv);tl.pT()&&t.push(new tl);_l.pT()&&t.push(new _l);Gn.Lm&&t.push(new Al);return new ll(t)}()),kl}U(),St(),Ct(),U(),St();var Sl=function(){function t(){this.vk=os()}var n=t.prototype;return n.Bb=function(t){this.vk.delete(t)},n.gk=function(){this.vk.clear()},n.Nb=function(t){return this.vk.get(t)},n.Mb=function(t,n){this.vk.set(t,n)},t}(),El=function(){function t(){}return t.pk=function(){return t.Fg||(t.Fg=Il.pT()?new Il:new Sl),t.Fg},t.Bb=function(n){t.pk().Bb(n)},t.gk=function(){t.pk().gk()},t.Nb=function(n){return t.pk().Nb(n)},t.Mb=function(n,i){t.pk().Mb(n,i)},t}();El.Fg=void 0;var Il=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.Bb=function(t){self.sessionStorage.removeItem(t)},i.gk=function(){self.sessionStorage.clear()},i.Nb=function(t){var n;return null!=(n=self.sessionStorage.getItem(t))?n:void 0},i.Mb=function(t,n){self.sessionStorage.setItem(t,n)},n.pT=function(){var t="foobar";try{return self.sessionStorage.setItem(t,t),self.sessionStorage.removeItem(t),!0}catch(t){return!1}},n}(El);U(),St(),U(),St();var Rl=function(){var t=self.Blob;if(t)try{new t;return function(t){return function(n,i){return new t(n,i)}}(t)}catch(t){}var n=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder;if(n)return function(t){return function(n,i){var r=new t;if(n)for(var e=0;e<n.length;e++){var u=n[e];r.append(u)}return r.getBlob(i&&i.type||"")}}(n)}();function Cl(t,n,i){var r=Rl([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),u=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),s=v.createElement("a");s.href=e,s.download=u,v.body.appendChild(s),s.click(),v.body.removeChild(s),URL.revokeObjectURL(e)}U(),St();var Nl="default";U(),St(),Dt(),U(),St(),U(),St(),Ct(),U(),St();var xl=function(t){return t.wk="arraybuffer",t.yk="json",t.bk="stream",t.Ak="text",t}({});U(),St(),rn();var Dl=function(){function t(n){var i=this;this.C_={},n instanceof t?n.asList().forEach((function(t){var n=nn(t,2),r=n[0],e=n[1];i.append(r,e)})):Array.isArray(n)?n.forEach((function(t){var n=nn(t,2),r=n[0],e=n[1];i.append(r,e)})):n&&k.getOwnPropertyNames(n).forEach((function(t){i.append(t,n[t])}))}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=Pl(i),r=Ml(r);var e=i.toLowerCase();if(this.C_.hasOwnProperty(e)){var u=this.C_[e],s=u[1];u[1]=s?s+", "+r:r}else this.C_[e]=[i,r]},n.delete=function(t){var n=Pl(t).toLowerCase();delete this.C_[n]},n.get=function(t){var n=Pl(t).toLowerCase();return this.C_.hasOwnProperty(n)?this.C_[n][1]:null},n.has=function(t){var n=Pl(t).toLowerCase();return this.C_.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=Pl(i)).toLowerCase();this.C_[r]=[i,Ml(n)]},n.forEach=function(t,n){for(var i in this.C_)this.C_.hasOwnProperty(i)&&t.call(n,this.C_[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.C_)if(this.C_.hasOwnProperty(n)){var i=nn(this.C_[n],2),r=i[0],e=i[1];t.push([r,e])}return t},n.Sk=function(){var t={};return this.forEach((function(n,i){t[i]=n})),t},n.Tk=function(t){var n=this;t.forEach((function(t,i){n.append(i,t)}))},n.Ek=function(t){var n=this;t.forEach((function(t,i){n.set(i,t)}))},t}();function Pl(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new _("Invalid character in header field name");return n}function Ml(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),rn(),U(),St();var Bl=V(un());U(),St(),Dt(),Ct();var Ol=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return Rt(n,t),xt(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(Vo),Ll=t,Fl=oi(Ll.ReadableStream)&&oi(Ll.WritableStream)&&oi(Ll.TransformStream)&&si(Ll.ReadableStream.prototype.pipeThrough)&&!Pr.cp,Vl=Fl?Ll.ReadableStream:Bl.ReadableStream,Ul=(Fl?Ll.WritableStream:Bl.WritableStream,Fl?Ll.TransformStream:Bl.TransformStream),Wl=(Fl&&Ll.ByteLengthQueuingStrategy?Ll.ByteLengthQueuingStrategy:Bl.ByteLengthQueuingStrategy,Fl&&Ll.CountQueuingStrategy?Ll.CountQueuingStrategy:Bl.CountQueuingStrategy);function jl(t){return function(t){return new Vl({start:function(n){for(var i=0;i<t.length;i++){var r=t[i];n.enqueue(r)}n.close()}})}([t])}function Zl(t){return jl(function(t){return new I(t)}(t))}function Xl(t,n){return function(t,n){var i=n,r=t.getReader(),e=new Yc,u=function(){s();var t=new Uo;r.cancel(t).catch(Ti),e.Fb(t)},s=function(){i&&(i.Ow(u),i=void 0)};i&&(i.Bw?u():i.Fw(u));var o=[],a=function(t){return t.done?(s(),ut.resolve(o)):(o.push(t.value),ut.resolve(r.read()).then(a))};return ut.resolve(r.read()).then(a).then((function(t){s(),e.Ob(t)}),(function(t){s(),e.Fb(t)})),e.Vb}(t,n).then((function(t){return Uc(t).buffer}))}function Gl(t,n){var i=n,r=new Ul,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i.Yw()};return s.closed.then(o,o),t.then((function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(Ti)}),(function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(Ti)})),e}function Hl(t){var n=new Ul,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch((function(n){var i;i=Jn(n)?n[0]===n[1]||Wo(n[0])&&Wo(n[1])?n[0]:new Ol(n):n,t.cancel(i).catch(Ti)})),i.tee()}function zl(t){return _c(new I(t))}function Yl(t){return bc(t).buffer}U(),St();var Kl="content-type",ql="text/plain;charset=UTF-8",Jl=function(){function t(){}var n=t.prototype;return n.xk=function(t){return this.Rk(t).then(JSON.parse)},n.Ik=function(t,n){switch(t){case xl.wk:return this.Ck(n);case xl.yk:return this.xk(n);case xl.bk:return this.Pk();case xl.Ak:return this.Rk(n);default:throw new _}},t}();function Ql(t,n,i){if(t instanceof Jl)return t;if(t instanceof Vl)return function(t,n){return new td({Aw:0,Pk:t,Dk:$l(n)})}(t,i);var r=$l(i),e=ut.resolve(t).then((function(t){return function(t,n){if(t){if("string"==typeof t)return{Aw:xl.Ak,Nk:t,Dk:n||ql};if(t instanceof ArrayBuffer||Oc(t))return{Aw:xl.wk,Nk:od(t),Dk:n};if(ti(t)||Jn(t))return{Aw:xl.yk,Nk:t,Dk:n};throw new _("Unsupported BodyInit type")}return{Aw:xl.Ak,Nk:null,Dk:n}}(t,r)}));return new td({Aw:1,Vb:e,Mk:n})}function $l(t){return(t.get(Kl)||"").toLowerCase()}var td=function(t){function n(n){var i;return(i=t.call(this)||this).Bk=!1,i.Wk=new Yc,i.Wk.Vb.catch(Ti),i.Hk(n),i}Rt(n,t);var i=n.prototype;return i.Vk=function(){return this.Wk.Vb},i.Rk=function(t){return this.Uk(nd,t)},i.xk=function(t){return this.Uk(rd,t)},i.Ck=function(t){return this.Uk(ud,t)},i.Pk=function(){return this.Gk(function(t){return 0===t.Aw?t.Pk:Gl(t.Vb.then(sd).then(Zl),t.Mk)}(this.Fk))},i.Uk=function(t,n){if(this.Bk)return ut.reject(new _("Already used"));this.Bk=!0;var i=t(this.Fk,n);return this.Wk.Kw(i.then(Ti)),i},i.Gk=function(t){if(this.Bk)throw new _("Already used");if(t.locked)throw new _("Body stream is locked");this.Bk=!0;var n=new Ul,i=ut.resolve(t.pipeTo(n.writable));return this.Wk.Kw(i),n.readable},i.Hk=function(t){this.Fk=t,1===t.Aw&&t.Vb.catch(Ti)},i.Zk=function(){if(this.Bk)throw new _("Already used");var t=function(t){if(0===t.Aw){var n=nn(t.Pk.tee(),2),i=n[0],r=n[1];return[{Aw:t.Aw,Pk:i,Dk:t.Dk},{Aw:t.Aw,Pk:r,Dk:t.Dk}]}var e=nn(t.Mk.jw(),2),u=e[0],s=e[1];return[{Aw:t.Aw,Vb:t.Vb,Mk:u},{Aw:t.Aw,Vb:t.Vb,Mk:s}]}(this.Fk),i=t[0],r=t[1];return this.Hk(i),new n(r)},xt(n,[{key:"Lk",get:function(){return this.Bk}},{key:"Ok",get:function(){return 0===this.Fk.Aw}}]),n}(Jl);function nd(t,n){return 0===t.Aw?Xl(t.Pk,n).then(zl):(n&&t.Mk.Kw(n),Ho(t.Vb.then(id),t.Mk))}function id(t){switch(t.Aw){case xl.Ak:return ut.resolve(t.Nk||"");case xl.wk:return ut.resolve(t.Nk).then(zl);case xl.yk:return ut.resolve(t.Nk).then(JSON.stringify)}}function rd(t,n){return 0===t.Aw?nd(t,n).then(JSON.parse):(n&&t.Mk.Kw(n),Ho(t.Vb.then(ed),t.Mk))}function ed(t){return t.Aw===xl.yk?ut.resolve(t.Nk):id(t).then(JSON.parse)}function ud(t,n){return 0===t.Aw?Xl(t.Pk,n):(n&&t.Mk.Kw(n),Ho(t.Vb.then(sd),t.Mk))}function sd(t){switch(t.Aw){case xl.wk:return ut.resolve(t.Nk);case xl.Ak:case xl.yk:return id(t).then(Yl)}}function od(t){return t instanceof ArrayBuffer?t:Nc(Ec(t)).buffer}var ad=function(t){function n(n){var i;return(i=t.call(this)||this).Xk=n,i}Rt(n,t);var i=n.prototype;return i.Vk=function(){return this.Xk.Vk()},i.Rk=function(t){return this.Xk.Rk(t)},i.xk=function(t){return this.Xk.xk(t)},i.Ck=function(t){return this.Xk.Ck(t)},i.Pk=function(t){return this.Xk.Pk(t)},i.Zk=function(){return this.Xk.Zk()},xt(n,[{key:"Lk",get:function(){return this.Xk.Lk}},{key:"Ok",get:function(){return this.Xk.Ok}}]),n}(Jl);function cd(t){return t.zk>=200&&t.zk<=299||304===t.zk}var hd=function(t){function n(n,i){var r,e,u,s,o,a;i?(e=i.jk,u=i.Yk,s=i.zk,o=i.Qk,a=i.Jk):(e=[],u=xl.Ak,s=200,o="OK",a=!1);var c=n.Kk,h=new Dl(n.jk||e),f=n.Yk||u,v=n.$k||(i&&i.Kk===c?i.$k:c.Gu),l=i?i.Xk:null,d=Ql(void 0!==n.qk?n.qk:l,n.Mk||new Jo,h);return(r=t.call(this,d)||this).jk=h,r.Kk=c,r.$k=v,r.Yk=f,r.zk=void 0!==n.zk?n.zk:s,r.Qk=void 0!==n.Qk?String(n.Qk):o,r.Jk=n.Jk||a,r}Rt(n,t);var i=n.prototype;return i.qk=function(t){return this.Ik(this.Yk,t)},i.xb=function(){return new n({qk:this.Zk(),Kk:this.Kk},this)},n}(ad);U(),St();var fd=function(t){return t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT",t}({}),vd=function(t){return t.tE="",t.eE="manifest",t.iE="segment",t.sE="preload-hint",t.nE="content-protection",t}({}),ld=function(t){return t.tE="",t.rE="initialization-segment",t.oE="fairplay-license",t.hE="fairplay-certificate",t.aE="widevine-license",t.uE="widevine-certificate",t.cE="playready-license",t.lE="clearkey-license",t.dE="aes128-key",t}({}),dd=function(t){return t.tE="",t.fE="audio",t._E="video",t.Ak="text",t.vE="image",t}({}),gd=function(t){return t.mE="same-origin",t.gE="no-cors",t.pE="cors",t.wE="navigate",t}({}),md=function(t,n){var i,r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_=t.Gu;n?(i=n.Nk,r=n.jk,e=n.yE,u=n.Yk,s=n.bE,o=n.AE,a=n.Vw,c=n.Aw,h=n.SE,f=n.TE,v=n.kE,l=n.EE,d=n.xE,g=n.RE,m=n.CE):(i=null,r={},e="GET",u=xl.Ak,s=0,o=0,c="",h="",f="",v=!1,d=void 0,g=!1,m=void 0),this.Gu=_,this.Nk=t.Nk||i,this.jk=new Dl(t.jk||r),this.yE=t.yE||e,this.Yk=t.Yk||u,this.bE=void 0!==t.bE?Number(t.bE)||0:s,this.AE=void 0!==t.AE?Number(t.AE)||0:o,this.Vw=t.Vw||a||(new Jo).Vw,this.Aw=t.Aw||c,this.SE=t.SE||h,this.TE=t.TE||f,this.kE=void 0!==t.kE?Boolean(t.kE):v,this.EE=t.EE||l,this.xE=null!=(w=t.xE)?w:d,this.RE=null!=(p=t.RE)?p:g,this.CE=null!=(y=t.CE)?y:m},wd=function(){function t(){}var n=t.prototype;return n.Kk=function(t){var n=function(t){return new hd({qk:null,jk:{},Kk:t,$k:t.Gu,Yk:t.Yk,zk:0,Qk:fa.Gy})}(new md(t));return ut.resolve(n)},n.PE=function(t){},n.gn=function(){},t}();var pd=function(){function t(t,n){void 0===n&&(n=!0),this.BE=t,this.FE=n}var n=t.prototype;return n.Kk=function(t){var n=this.LE(t);return this.BE.Kk(n)},n.PE=function(t){return this.BE.PE(this.OE(t))},n.LE=function(n){var i=new md(n);if(!this.FE){var r=t.VE(i.Gu);i=new md({Gu:r},i)}return i},n.OE=function(n){var i=n.Gu;return this.FE||(i=t.VE(i)),{Gu:i,Nk:n.Nk}},n.gn=function(){this.BE.gn()},t.VE=function(t){return qn.hw&&Zs(t,"http://")?t.replace(":","s:"):t},xt(t,null,[{key:"DE",get:function(){return t.NE||(t.NE=new t(new wd)),t.NE}}]),t}();function yd(t,n){var i=qn.Nh(t);return _d(i,n),i.toString()}function _d(t,n){for(var i=0,r=k.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function bd(t,n){var i=qn.Jp(t);return n&&!Xs(i,"/")&&(i+="/"),i}pd.NE=void 0,U(),St(),U(),St(),Gt(),Dt(),Ct(),rn(),Jt(),U(),St();var kd=/cache:(.+)?(?=&|$)/,Ad="http://webcache.googleusercontent.com/search?q=cache:";function Td(t){if(!Zs(t,Ad))return"";var n=qn.Nh(t).search.match(kd);return n&&n.length>1?n[1]:""}function Sd(t){return qn.Nh(".",t)}U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var Ed=function(t){return t.WE="HttpOpenError",t.UE="HttpResponseError",t.GE="HttpTimeoutError",t}({}),Id=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).HE=n,e}return Rt(n,t),xt(n,[{key:"Kk",get:function(){return this.HE}}]),n}(Vo);var Rd=function(t){function n(n,i){return t.call(this,n,function(t){return"Error while opening "+t+". Invalid URL."}(n.Gu),i)||this}return Rt(n,t),xt(n,[{key:"name",get:function(){return Ed.WE}}]),n}(Id);U(),St(),Dt(),Ct();var Cd=function(t){function n(n,i,r){var e;return(e=t.call(this,n.Kk,null!=r?r:function(t){return"Error while loading "+t.Kk.Gu+", status code "+t.zk}(n),i)||this).XE=n,e}return Rt(n,t),xt(n,[{key:"name",get:function(){return Ed.UE}},{key:"ZE",get:function(){return this.XE}}]),n}(Id);U(),St(),Dt(),Ct();var Nd=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Gu+" timed out after "+t.bE+" seconds."}(n),i)||this}return Rt(n,t),xt(n,[{key:"name",get:function(){return Ed.GE}}]),n}(Id);U(),St();var xd=self.fetch,Dd=self.Request,Pd=self.Response,Md=self.Headers,Bd=self.ReadableStream,Od=self.AbortSignal,Ld=self.AbortController,Fd=Ri((function(){try{return si(xd)&&oi(Dd)&&oi(Pd)&&oi(Md)&&"forEach"in Md.prototype&&es()}catch(t){return!1}})),Vd=["http:","https:"];var Ud=Ri((function(){try{return Fd()&&oi(Od)&&oi(Ld)&&"signal"in Dd.prototype}catch(t){return!1}})),Wd=Ri((function(){try{return Fd()&&oi(Bd)&&"body"in Pd.prototype&&!Gn.hm}catch(t){return!1}}));function jd(t){return t instanceof Id}function Zd(t){return t instanceof Cd}function Xd(t,n){var i,r=t.jk.has("content-length")?Number(t.jk.get("content-length")):void 0;return i=t.Ok?function(t,n,i){return t.pipeThrough(new Ul(new Gd(n,i)))}(t.Pk(),n,r):function(t,n,i){return Hd.apply(this,arguments)}(t.Ck(),n,r),new hd({qk:i,Kk:t.Kk},t)}U(),St(),U(),St(),Gt(),Jt();var Gd=function(){function t(t,n){this.qE=t,this.YE=n,this.zE=0}var n=t.prototype;return n.transform=function(t,n){this.zE+=t.byteLength,this.qE(this.zE,this.YE),n.enqueue(t)},n.flush=function(t){var n;this.qE(this.zE,null!=(n=this.YE)?n:this.zE)},t}();function Hd(){return Hd=Zt((function(t,n,i){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return[4,ut.resolve()];case 1:return u.sent(),n(0,i),[4,t];case 2:return r=u.sent(),e=r.byteLength,n(e,null!=i?i:e),[2,r]}}))})),Hd.apply(this,arguments)}var zd=function(){function t(t){this.WT=new Jo,this.XE=void 0,this.jE=0,this.QE=!1,this.HE=t,this.WT.Kw(t.Vw),this.ZE=this.KE()}var n=t.prototype;return n.KE=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:(n=t.HE).bE&&(t.jE=g((function(){t.QE=!0,t.WT.Yw()}),n.bE),t.WT.Vw.Xw((function(){m(t.jE)})));try{i=xd(n.Gu,{method:n.yE,headers:n.jk.Sk(),body:n.Nk,credentials:n.kE?"include":"same-origin",signal:qd(t.WT.Vw),mode:n.xE,keepalive:n.CE})}catch(t){throw new Rd(n,t)}h.label=1;case 1:return h.trys.push([1,3,,4]),[4,i];case 2:return r=h.sent(),[3,4];case 3:throw e=h.sent(),Wo(u=t.JE(e))&&t.WT.Yw(),u;case 4:if(s=r.url||n.Gu,o=0===r.status&&"file:"===function(t){return qn.Nh(t).protocol}(s)?200:r.status,a=new Yd(t,r,t.WT),!cd(c=new hd({qk:a,Kk:n,Yk:n.Yk,jk:Jd(r.headers),zk:o,Qk:r.statusText,$k:s})))throw new Cd(c);return n.EE&&(c=Xd(c,n.EE)),[2,c]}}))}))()},n.JE=function(t){return jd(t)?t:Wo(t)?this.QE?new Nd(this.HE):new Uo(t.message,t):this.XE?new Cd(this.XE,t):new Rd(this.HE,t)},t}(),Yd=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Wk=new Yc,e.tx=n,e.$E=i,e.WT=r,e.Wk.Vb.catch(Ti),e}Rt(n,t);var i=n.prototype;return i.Vk=function(){return this.Wk.Vb},i.Rk=function(t){return this.Uk(this.$E.text(),t)},i.Ck=function(t){return this.Uk(this.$E.arrayBuffer(),t)},i.Pk=function(){var t=this.$E.body;return t?this.Gk(t):Gl(this.Ck().then(Zl),this.WT)},i.Zk=function(){var t=this.$E.clone(),i=nn(this.WT.jw(),2),r=i[0],e=i[1];return this.WT=r,new n(this.tx,t,e)},i.Uk=function(t,n){var i=this;n&&this.WT.Kw(n);var r=Go(ut.resolve(t),this.WT.Vw).catch((function(t){throw i.tx.JE(t)}));return r=Ho(r,this.WT),this.Wk.Kw(r.then(Ti)),r},i.Gk=function(t){var n=this;return new Vl(new Qd(t,(function(t){return n.tx.JE(t)}),this.WT,this.Wk),{highWaterMark:0})},xt(n,[{key:"Lk",get:function(){return this.$E.bodyUsed}},{key:"Ok",get:function(){return Yn(this.$E.body)}}]),n}(Jl),Kd="abort";function qd(t){if(Ud()){var n=new Ld;if(t.Bw)n.abort();else if(!t.Uw){var i=function(){r(),n.abort()},r=function(){n.signal.removeEventListener(Kd,i),t.Ow(i),t.zw(r)};n.signal.addEventListener(Kd,i),t.Fw(i),t.Xw(r)}return n.signal}}function Jd(t){if(function(t){return $n(t)&&"function"==typeof t.forEach}(t)){var n=new Dl;return t.forEach((function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)})),n}return new Dl(t)}var Qd=function(){function t(t,n,i,r){this.ix=t,this.sx=n,this.WT=i,this.Wk=r}var n=t.prototype;return n.start=function(t){this.Bd=this.ix.getReader()},n.pull=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Go(n.Bd.read(),n.WT.Vw)];case 1:return i=u.sent(),[3,3];case 2:return r=u.sent(),e=n.sx(r),n.Wk.Fb(e),n.WT.Yw(),n.Bd.cancel(e).catch(Ti),t.error(e),[2];case 3:return i.done?(n.Wk.Ob(),n.WT.Yw(),t.close()):t.enqueue(i.value),[2]}}))}))()},n.cancel=function(t){return this.WT.Yw(),this.Wk.Fb(t),this.Bd.cancel(t)},t}();U(),St(),Dt();var $d=function(){function t(t){var n=this;this.WT=new Jo,this.XE=void 0,this.nx=new Yc,this.wx=!1,this.gx=function(){var t;n.hx(),null==(t=n.ox)||t.abort()},this.HE=t,this.WT.Kw(t.Vw),this.ox=new C,this.KE()}var n=t.prototype;return n.KE=function(){var t=this,n=this.ox,i=this.HE;if(i.Vw.Bw)return this.hx();n.onreadystatechange=function(){return t.ux()},n.onprogress=function(n){return t.qE(n)},n.onload=function(){return t.lx()},n.onloadend=function(){return t._x()},n.onerror=function(){return t.vx()},n.ontimeout=function(){return t.mx()},n.onabort=function(){return t.hx()},n.open(i.yE,i.Gu,!0),n.withCredentials=Boolean(i.kE),"responseType"in n&&i.Yk&&(i.Yk===xl.Ak?n.responseType="text":n.responseType="arraybuffer"),i.jk.forEach((function(t,i){n.setRequestHeader(i,t)})),i.bE&&(n.timeout=i.bE),this.WT.Vw.Fw(this.gx);var r=i.Nk;r?n.send(r):n.send()},n.ux=function(){var t=this.ox;void 0!==t&&t.readyState>=2&&!this.wx&&(this.wx=!0,this.yx())},n.yx=function(){var t,n,i=this.ox,r=function(t){var n=new Dl,i=t.replace(/\r?\n[\t ]+/g," ");return i.split(/\r?\n/).forEach((function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}})),n}(i.getAllResponseHeaders()||""),e=this.HE;this.bx=new Yc,this.XE=new hd({Kk:e,Yk:e.Yk,qk:this.bx.Vb,zk:i.status,Qk:i.statusText,jk:r,$k:null!=(n=i.responseURL)?n:r.get("X-Request-URL")}),null==(t=this.nx)||t.Ob(this.XE)},n.lx=function(){var t,n=this.ox;if(void 0!==n){var i=n.response;if(!Yn(i)){var r=this.HE.Yk;i=r===xl.Ak?n.responseText:r===xl.wk?new ArrayBuffer(0):{}}null==(t=this.bx)||t.Ob(i)}},n._x=function(){this.gn()},n.qE=function(t){void 0!==this.ox&&(null==this.HE.EE||this.HE.EE.call(this.HE,t.loaded,t.lengthComputable?t.total:void 0))},n.vx=function(){var t=new y("Network request failed");this.XE?this.Ss(new Cd(this.XE,t)):this.Ss(new Rd(this.HE,t))},n.mx=function(){this.Ss(new Nd(this.HE))},n.hx=function(){this.Ss(new Uo),this.gn()},n.Ss=function(t){var n,i;null==(n=null!=(i=this.bx)?i:this.nx)||n.Fb(t)},n.gn=function(){this.ox=void 0,this.XE=void 0,this.nx=void 0,this.bx=void 0,this.WT.Hw()},xt(t,[{key:"ZE",get:function(){return this.nx.Vb}}]),t}();function tg(t,n,i){return new ut((function(r,e){if(i&&i.Bw)return e(new Uo);var u=function(t){o(),r(t)},s=function(){o(),e(new Uo)},o=function(){t.removeEventListener(n,u),i&&i.Ow(s)};t.addEventListener(n,u),i&&i.Fw(s)}))}U(),St();var ng=function(){function t(){}var n=t.prototype;return n.Kk=function(t){return function(t){if(!Fd()||!function(t){try{return Vd.indexOf(new self.URL(t,self.location.href).protocol)>=0}catch(t){return!1}}(t.Gu))return!1;if(!Wd()&&t.EE)return!1;if(!t.RE&&t.yE!==fd.POST){if(Gn.Nm&&Gn.wm<=68)return!1;if(Gn.Im)return!1}return!0}(t)?new zd(t).ZE:new $d(t).ZE},n.PE=function(t){var n=f.navigator;if(n&&n.sendBeacon)n.sendBeacon(t.Gu,Rl([t.Nk],{type:t.Dk}));else{var i=t.Dk?{"Content-type":t.Dk}:void 0;this.Kk(new md({yE:fd.POST,Gu:t.Gu,Nk:t.Nk,jk:i,xE:gd.gE})).then((function(t){ta(t.Ck())}),Ti)}},n.gn=function(){},t}();U(),St(),Dt(),Ct(),U(),St();var ig=function(t){return t[t.Ax=1]="Ax",t[t.Sx=2]="Sx",t[t.Ak=3]="Ak",t[t.Tx=4]="Tx",t[t.kx=9]="kx",t}({});function rg(t){return 1===t.Ex}function eg(t){return 3===t.Ex}U(),St(),Ct();var ug=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return Rt(n,t),n}(Vo),sg=function(){function t(){}return t.prototype.xx=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new ug(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new ug;return new lg(n)},t}(),og=function(){function t(t){this.Ix=t}var n=t.prototype;return n.Nx=function(t){return this.Ix.isEqualNode(t.Ix)},n.Mx=function(n){return new t(this.Ix.cloneNode(n))},xt(t,[{key:"Ex",get:function(){return ig.Sx}},{key:"Rx",get:function(){var t;return null!=(t=this.Ix.localName)?t:mg(this.Ix.nodeName)}},{key:"l",get:function(){return this.Ix.nodeName}},{key:"Cx",get:function(){var t;return null!=(t=this.Ix.namespaceURI)?t:void 0}},{key:"Px",get:function(){var t;return null!=(t=this.Ix.prefix)?t:void 0}},{key:"Dx",get:function(){return this.Ix.nodeValue}}]),t}(),ag=function(){function t(t){this.Bx=void 0,this.Ox=t}var n=t.prototype;return n.Fx=function(t){return this.Lx.filter((function(n){return dg(n)&&n.Vx===t}))},n.Wx=function(t,n){return this.Lx.filter((function(i){return dg(i)&&i.Rx===n&&i.Cx===t}))},n.Gx=function(t){this.Ox.appendChild(t.Ux),this.Bx&&this.Bx.push(t)},n.Nx=function(t){return this.Ox.isEqualNode(t.Ux)},xt(t,[{key:"Lx",get:function(){return void 0===this.Bx&&(this.Bx=function(t){for(var n=[],i=0;i<t.length;i++){var r=gg(t.item(i));r&&n.push(r)}return n}(this.Ox.childNodes)),this.Bx}},{key:"m",get:function(){return this.Lx.filter(dg)}},{key:"Ux",get:function(){return this.Ox}}]),t}(),cg=function(t){function n(n){return t.call(this,n)||this}Rt(n,t);var i=n.prototype;return i.Xx=function(t){if(this.Ox.hasAttribute(t))return this.Ox.getAttribute(t)},i.zx=function(t,n){if(this.Ox.hasAttributeNS(t,n))return this.Ox.getAttributeNS(t,n)},i.qx=function(t){this.Ox.removeAttribute(t)},i.Yx=function(t,n){this.Ox.removeAttributeNS(t,n)},i.Kx=function(t,n){this.Ox.setAttribute(t,n)},i.jx=function(t,n,i){this.Ox.setAttributeNS(t,n,i)},i.Mx=function(t){return new n(this.Ox.cloneNode(t))},xt(n,[{key:"Ex",get:function(){return ig.Ax}},{key:"Rx",get:function(){var t;return null!=(t=this.Ox.localName)?t:mg(this.Ox.nodeName)}},{key:"Cx",get:function(){var t;return null!=(t=this.Ox.namespaceURI)?t:void 0}},{key:"Px",get:function(){var t;return null!=(t=this.Ox.prefix)?t:void 0}},{key:"Vx",get:function(){return this.Ox.nodeName}},{key:"Hx",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new og(t.item(i)));return n}(this.Ox.attributes)}},{key:"Zx",get:function(){return this.Ox.textContent}}]),n}(ag),hg=function(){function t(t){this.Ox=t}return t.prototype.Nx=function(t){return this.qk===t.qk},xt(t,[{key:"qk",get:function(){return this.Ox.nodeValue}},{key:"Ux",get:function(){return this.Ox}}]),t}(),fg=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),n.prototype.Mx=function(t){return new n(this.Ox.cloneNode(t))},xt(n,[{key:"Ex",get:function(){return ig.Ak}}]),n}(hg),vg=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),n.prototype.Mx=function(t){return new n(this.Ox.cloneNode(t))},xt(n,[{key:"Ex",get:function(){return ig.Tx}}]),n}(hg),lg=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),n.prototype.Mx=function(t){return new n(this.Ox.cloneNode(t))},xt(n,[{key:"Ex",get:function(){return ig.kx}},{key:"Qx",get:function(){return new cg(this.Ox.documentElement)}}]),n}(ag);function dg(t){return rg(t)}function gg(t){switch(t.nodeType){case ig.Ax:return new cg(t);case ig.Ak:return new fg(t);case ig.Tx:return new vg(t)}}function mg(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var wg=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Jx=void 0,n.tR=Wd(),n.iR=Gn.pg||Gn.hm,n.nR=(Gn.pg||Gn.Nm&&Gn.wm<=68||Gn.hm)&&!(Gn.Im&&Gn.Pm<3),n.dR=void 0,n.fR=new sg,n}return Rt(n,t),n.prototype.xx=function(t){return this.fR.xx(t)},xt(n,[{key:"Hp",get:function(){return this.Jx||(this.Jx=new ro(Tl())),this.Jx}},{key:"$x",get:function(){return this.tR}},{key:"eR",get:function(){return this.iR}},{key:"sR",get:function(){return this.nR}},{key:"rR",get:function(){return!1}},{key:"oR",get:function(){return El.pk()}},{key:"hR",get:function(){return{aR:Cl}}},{key:"uR",get:function(){return d.connection&&d.connection.effectiveType||Nl}},{key:"cR",get:function(){return d.connection&&d.connection.type||"unknown"}},{key:"lR",get:function(){return this.dR||(this.dR=new pd(new ng)),this.dR}}]),n}(is);!function(t){qn=t}(new wg),U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Ct();var pg=function(t){function n(n,i){var r;return(r=t.call(this,fa.sb)||this).currentTime=n,r.currentProgramDateTime=i,r}return Rt(n,t),n}(ha);U(),St(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Ct(),U(),St(),Ct(),U(),St(),Dt(),Ct();var yg=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).su=void 0,r}return Rt(n,t),xt(n,[{key:"ka",get:function(){return this.su||(this.su=this.ba()),this.su}}]),n}(ha);function _g(t){return Boolean(t&&t.ka)}var bg=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),n}(yg),kg=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),n}(ha);U(),St();var Ag=function(t){return t.OI="FI",t.VI="WI",t}({}),Tg=function(t){function n(n){var i;return(i=t.call(this,Ag.OI)||this).Ht=n,i}return Rt(n,t),n.prototype.ba=function(){return new Sg(this.Ht.ka)},n}(bg),Sg=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return Rt(n,t),n}(kg);U(),St(),Ct();var Eg=function(t){function n(n){var i;return(i=t.call(this,Ag.VI)||this).Ht=n,i}return Rt(n,t),n.prototype.ba=function(){return new Ig(this.Ht.ka)},n}(bg),Ig=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return Rt(n,t),n}(kg);U(),St();var Rg=function(t){return t.UI="GI",t.HI="ZI",t.XI="zI",t.qI="YI",t.KI="jI",t.QI="JI",t.la="$I",t.tC="eC",t.iC="sC",t.nC="tr",t.rC="oC",t.hC="aC",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality",t}({}),Cg=function(t){function n(){var n;return(n=t.call(this)||this).cC=[],n.su=void 0,n}Rt(n,t);var i=n.prototype;return i.lC=function(t){return this.cC[t]},i.tt=function(t){return!(!t||Ao(this.cC,t))&&(this.cC.push(t),this.su&&this.su.push(t.ka),t.yn(Rg.la,this.Ds),this.wo(new Tg(t)),!0)},i.it=function(t){if(!t)return!1;var n=this.cC.indexOf(t);return!(n<0)&&(bo(this.cC,n),this.su&&bo(this.su,n),t.fn(Rg.la,this.Ds),this.wo(new Eg(t)),!0)},i.dC=function(t){return Ao(this.cC,t)},i.er=function(){for(var t=this.cC,n=t.length-1;n>=0;n-=1)this.it(t[n])},i.gn=function(){this.er(),this.$o()},xt(n,[{key:"uC",get:function(){return this.cC}},{key:"ka",get:function(){return this.su||(this.su=this.ba()),this.su}},{key:"V",get:function(){return this.cC.length}}]),n}(oa);U(),St(),U(),St(),U(),St();var Ng=k.freeze||Si;function xg(t,n,i){k.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Dg(t){return Ng(t)}function Pg(t,n){for(var i=0,r=k.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];k.defineProperty(t,e,k.getOwnPropertyDescriptor(n,e))}return t}function Mg(t){if(ti(t)){var n={};for(var i in t)Hn.call(t,i)&&(n[i]=Mg(t[i]));return n}if(Jn(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Mg(t[e]));return r}return t}function Bg(t,n){return t===n||!(!t||!n)&&(!(!$n(t)||!$n(n))&&(Qn(t)?!!Qn(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Bg(t[e],n[e]))return!1;return!0}(t,n):!Qn(n)&&function(t,n){var i=k.keys(t),r=k.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!Hn.call(n,u)||!Bg(t[u],n[u]))return!1}return!0}(t,n)))}function Og(t,n){if(!$n(t))return!1;for(var i=0;i<n.length;i++){if(!(n[i]in t))return!1}return!0}function Lg(t,n){return t.constructor===n.constructor}function Fg(t){for(var n={},i=0,r=k.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function Vg(t){for(var n={},i=0,r=k.keys(t);i<r.length;i++){var e=r[i],u=t[e];if(Qn(u)){for(var s=[],o=0;o<u.length;o+=1){var a=u[o];if(null!=a){var c=$n(a)?Vg(a):a;s.push(c)}}n[e]=s}else null!=u&&(n[e]=$n(u)?Vg(u):u)}return n}function Ug(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Wg(t){return Yn(t)?Ug(t):void 0}function jg(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Zg(t){var n=jg(t);if(E(n))throw new y("Expected a valid number.");return n}function Xg(t){return"string"==typeof t?t:""}function Gg(t,n){if(!Qn(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}function Hg(t,n){return Qn(t)?Gg(t,n):n(t)}U(),St();var zg=[Ag.OI,Ag.VI,Rg.la];function Yg(t){var n,i=t.uC.map((function(t){return t.ka}));return i.item=function(n){var i=0|n,r=t.lC(i);return r&&r.ka||void 0},i.addEventListener=function(t,i){n.yn(t,i)},i.removeEventListener=function(t,i){n.fn(t,i)},n=new aa(i),t.yn(zg,(function(t){return n.wo(t.ka)})),i}U(),St();var Kg=function(t){return t[t.yC=0]="yC",t[t.bC=1]="bC",t[t.AC=2]="AC",t[t.SC=3]="SC",t[t.TC=4]="TC",t[t.TRANSCRIBES_SPOKEN_DIALOG=5]="TRANSCRIBES_SPOKEN_DIALOG",t[t.DESCRIBES_MUSIC_AND_SOUND=6]="DESCRIBES_MUSIC_AND_SOUND",t[t.kC=7]="kC",t}({});function qg(t){switch(t){case 0:return"caption";case 2:return"sign";case 1:return"description";case 3:return"enhanced audio intelligibility";case 4:return"easy reader";case 5:return"transcribes spoken dialog";case 6:return"describes music and sound";case 7:return"describes video"}}function Jg(){}function Qg(t){var n,i=[Rg.nC,Rg.la,Rg.rC,Rg.hC,Rg.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.EC&&t.EC.ka},get enabled(){return t.Rt},set enabled(n){t.Rt=Ug(n)},get id(){return t.o},get uid(){return t.xC},get kind(){return t.Lt},get label(){return t.xh},set label(n){t.xh=Xg(n)},get accessibility(){var n,i;return null!=(i=null==(n=t.RC)?void 0:n.map(qg))?i:[]},get language(){return t.gs},get qualities(){return t.IC.ka},set targetQuality(n){var i;i=n?function(t,n){for(var i=[],r=0,e=t.IC.uC;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.ka===o&&i.push(u)}return i}(t,Jn(n)?n:[n]):[],i.length>0?t.DC=i:t.DC=void 0},get targetQuality(){if(t.DC)return 1===t.DC.length?t.DC[0].ka:t.DC.map((function(t){return t.ka}))},addEventListener:function(t,i){var r=Hg(t,Xg);n.yn(r,i)},removeEventListener:function(t,i){var r=Hg(t,Xg);n.fn(r,i)}};return n=new aa(r),t.yn(i,(function(t){return n.wo(t.ka)})),k.defineProperty(r,"constructor",{value:Jg}),r}function $g(){}function tm(t){var n=Yg(t);return k.defineProperty(n,"constructor",{value:$g}),n}var nm=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.ba=function(){return tm(this)},n}(Cg);U(),St(),U(),St();var im=function(t){return t.fE="audio",t._E="video",t.Ak="text",t.vE="image",t.tE="unknown",t}({});function rm(t){return"audio"===t||"video"===t}U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var em=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r)||this).url=e,c.status=u,c.statusText=s,c.response=o,c.systemCode=a,c}return Rt(n,t),xt(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(sl);var um=function(t){return t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR",t}({}),sm=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,y.captureStackTrace&&y.captureStackTrace(u,u.constructor),u}return Rt(n,t),xt(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Fo);function om(t){xg(t,"MEDIA_ERR_ABORTED",1),xg(t,"MEDIA_ERR_NETWORK",2),xg(t,"MEDIA_ERR_DECODE",3),xg(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",4),xg(t,"MEDIA_ERR_ENCRYPTED",5)}function am(t){var n,i;return function(t){return t.category===ul.CONTENT_PROTECTION}(t)?new sm(5,t.message,null==(n=t.cause)?void 0:n.message,t.systemCode):new sm(cm(t.code),t.message,null==(i=t.cause)?void 0:i.message)}function cm(t){if(t===el.MEDIA_ABORTED)return 1;if(t===el.MANIFEST_LOAD_ERROR||t===el.MEDIA_LOAD_ERROR||t===el.SUBTITLE_LOAD_ERROR)return 2;if(t===el.MEDIA_DECODE_ERROR)return 3;if(t===el.MEDIA_NOT_SUPPORTED)return 4;var n=ul.fromCode(t);return n===ul.NETWORK?2:n===ul.SOURCE?4:n===ul.LICENSE?6:n===ul.CONTENT_PROTECTION?5:n===ul.AD?7:3}function hm(t){return new sl(fm(t.code),t.message,t)}function fm(t){switch(t){case 1:return el.MEDIA_ABORTED;case 2:return el.NETWORK_ERROR;case 3:return el.MEDIA_DECODE_ERROR;case 4:return el.SOURCE_NOT_SUPPORTED;case 5:return el.CONTENT_PROTECTION_ERROR;case 6:return el.LICENSE_ERROR;case 7:return el.AD_ERROR}}om(sm),om(sm.prototype),U(),St(),Dt(),Ct(),U(),St(),Ct();var vm=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n}(ca);U(),St(),Dt(),U(),St();var lm=function(){function t(){this.AO=[],this.su=void 0}var n=t.prototype;return n.SO=function(t){this.AO.push(t),this.su&&this.su.push(t.ka)},n.$S=function(t){_o(this.AO,t),this.su&&_o(this.su,t.ka)},n.lC=function(t){return this.AO[t]},n.TO=function(t){return Jn(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Ao(t,n[i]))return!1;return!0}(this.AO,t):Ao(this.AO,t)},n.er=function(){So(this.AO),this.su&&So(this.su)},xt(t,[{key:"uC",get:function(){return this.AO}},{key:"V",get:function(){return this.AO.length}},{key:"ka",get:function(){return this.su||(this.su=function(t){var n=t.uC.map((function(t){return t.ka}));return n.item=function(n){var i=0|n,r=t.lC(i);return r&&r.ka||void 0},n}(this)),this.su}}]),t}();U(),St(),Ct();var dm=function(t){function n(n){var i;return(i=t.call(this,Rg.la)||this).Ht=n,i}return Rt(n,t),n.prototype.ba=function(){return new gm(this.Ht.ka)},n}(bg),gm=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return Rt(n,t),n}(kg);U(),St(),Ct();var mm=function(t){function n(n){var i;return(i=t.call(this,Rg.nC)||this).Ht=n,i}return Rt(n,t),n.prototype.ba=function(){return new wm(this.Ht.ka)},n}(bg),wm=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return Rt(n,t),n}(kg);U(),St();var pm=0;function ym(){return pm++}var _m=0;var bm=0;function km(){return bm++}var Am=0;function Tm(){return Am++}var Sm=0;var Em=function(t){function n(n){var i;return(i=t.call(this)||this).Aw=im.fE,i.He=!1,i.su=void 0,i.EO=n,i.xO=ym(),i.ZS=Sm+++"",i.RO=n.label,i.AO=new lm,i.PO(),i}Rt(n,t);var i=n.prototype;return i.CO=function(t){this.Rt=t},i.PO=function(){this.Rt=this.kO},xt(n,[{key:"EC",get:function(){}},{key:"Rt",get:function(){return this.He},set:function(t){this.He!==t&&(this.He=t,this.kO=t,this.wo(new dm(this)))}},{key:"kO",get:function(){return this.EO.enabled},set:function(t){this.EO.enabled=t}},{key:"ka",get:function(){return this.su||(this.su=Qg(this)),this.su}},{key:"o",get:function(){return this.ZS}},{key:"xC",get:function(){return this.xO}},{key:"Lt",get:function(){return this.EO.kind}},{key:"xh",get:function(){return this.RO},set:function(t){t!==this.RO&&(this.RO=t,this.wo(new mm(this)))}},{key:"gs",get:function(){return this.EO.language}},{key:"xE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"IO",get:function(){return this.EO}},{key:"IC",get:function(){return this.AO}},{key:"DC",get:function(){},set:function(t){}}]),n}(oa);U(),St(),Dt(),Ct();var Im=0;var Rm=function(t){function n(n){var i;return(i=t.call(this)||this).Aw=im._E,i.He=!1,i.su=void 0,i.EO=n,i.xO=ym(),i.ZS=Im+++"",i.AO=new lm,i.RO=n.label,i.PO(),i}Rt(n,t);var i=n.prototype;return i.PO=function(){this.Rt=this.kO},i.CO=function(t){this.Rt=t},xt(n,[{key:"EC",get:function(){}},{key:"Rt",get:function(){return this.He},set:function(t){this.He!==t&&(this.He=t,this.kO=t,this.wo(new dm(this)))}},{key:"kO",get:function(){return!!this.EO.selected},set:function(t){this.EO.selected=t}},{key:"ka",get:function(){return this.su||(this.su=Qg(this)),this.su}},{key:"o",get:function(){return this.ZS}},{key:"xC",get:function(){return this.xO}},{key:"Lt",get:function(){return"main"}},{key:"xh",get:function(){return this.RO},set:function(t){t!==this.RO&&(this.RO=t,this.wo(new mm(this)))}},{key:"gs",get:function(){return this.EO.language}},{key:"xE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"IO",get:function(){return this.EO}},{key:"IC",get:function(){return this.AO}},{key:"DC",get:function(){},set:function(t){}}]),n}(oa);U(),St(),Ct();var Cm=function(t){function n(n){var i;return(i=t.call(this,fa.gy)||this).OR=n,i}return Rt(n,t),n}(ha);U(),St(),Gt(),Ct(),Jt(),U(),St();var Nm=function(t){return t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR",t}({});U(),St();var xm=function(t){return t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange",t.MILLICAST="millicast",t}({});function Dm(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":case"millicast":return!0;default:return!1}}U(),St(),U(),St();var Pm=function(t){return t.DO="cue",t.MO="region",t.LO="stylesheet",t}({});U(),St(),Dt(),Ct(),U(),St();var Mm={"line-left":"start",center:"middle","line-right":"end"},Bm={start:"line-left",middle:"center",end:"line-right"};function Om(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Lm(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return function(t,n){var i="number"==typeof t?t:S(t);return E(i)?n:i}(t,50)}U(),St(),U(),St(),U(),St(),Ct();var Fm=function(t){return t.sO="fo",t.nO="_o",t.nC="tr",t}({}),Vm=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).BO=i,r}return Rt(n,t),n}(bg),Um=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return Rt(n,t),n}(kg);function Wm(t){var n,i=[Fm.sO,Fm.nO,Fm.nC],r={get OO(){return t},get track(){return t.Ht.ka},get id(){return t.o},get uid(){return t.xC},get startTime(){return t.FO},set startTime(n){t.FO=n},get endTime(){return t.VO},set endTime(n){t.VO=n},get content(){return t.U},addEventListener:function(t,i){var r=Hg(t,Xg);n.yn(r,i)},removeEventListener:function(t,i){var r=Hg(t,Xg);n.fn(r,i)}};return n=new aa(r),t.yn(i,(function(t){return n.wo(t.ka)})),r}function jm(){}function Zm(t){return Pg(Wm(t),{get align(){return t.WO},get line(){return t.UO},get lineAlign(){return t.GO},get position(){return t.do},get positionAlign(){return t.HO},get region(){return t.ZO?t.ZO.ka:null},get size(){return t.Pb},get snapToLines(){return t.XO},get text(){return t.U},get vertical(){return t.Pt}})}U(),St(),Dt(),Ct(),U(),St(),Ct();var Xm=function(t){function n(n){return t.call(this,Fm.nC,n)||this}return Rt(n,t),n.prototype.ba=function(){return new Gm(this.BO.ka)},n}(Vm),Gm=function(t){function n(n){return t.call(this,"update",n)||this}return Rt(n,t),n}(Um);U(),St(),Ct();var Hm=function(t){function n(n){var i;return(i=t.call(this,Rg.XI)||this).BO=n,i}return Rt(n,t),n.prototype.ba=function(){return new zm(this.BO.ka)},n}(bg),zm=function(t){function n(n){var i;return(i=t.call(this,"updatecue")||this).cue=n,i}return Rt(n,t),n}(kg),Ym=.02;function Km(t,n){return hr(t.zO,n.zO,Ym)&&hr(t.qO,n.qO,Ym)&&t.o===n.o}var qm=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).su=void 0,s.KO=void 0,s.so=!1,s.nF=-1,s.xO=Tm(),s.YO=n,s.QO=i,s.zO=n,s.qO=i,s.JO=r,s.tF=Boolean(e),s.ZS=null!=u?u:"",s}Rt(n,t);var i=n.prototype;return i.ba=function(){return Wm(this)},i.eF=function(t){return this===t||Lg(this,t)&&Km(this,t)&&this.iF(t)},i.iF=function(t){return Bg(this.U,t.U)},i.sF=function(t,n){this.YO=t,this.QO=n,this.zO=t,this.qO=n},i.gn=function(){this.$o()},xt(n,[{key:"FO",get:function(){return this.YO},set:function(t){var n,i;this.YO!==t&&(this.YO=t,null==(n=this.KO)||n.jO(this),this.wo(new Xm(this)),null==(i=this.KO)||i.wo(new Hm(this)))}},{key:"VO",get:function(){return this.QO},set:function(t){var n,i;this.QO!==t&&(this.QO=t,null==(n=this.KO)||n.jO(this),this.wo(new Xm(this)),null==(i=this.KO)||i.wo(new Hm(this)))}},{key:"o",get:function(){return this.ZS}},{key:"xC",get:function(){return this.xO}},{key:"ka",get:function(){return this.su||(this.su=this.ba()),this.su}},{key:"io",get:function(){return this.so},set:function(t){this.so=t}},{key:"Ht",get:function(){return this.KO},set:function(t){this.KO=t}},{key:"U",get:function(){return this.JO},set:function(t){var n;this.JO!==t&&(this.JO=t,this.wo(new Xm(this)),null==(n=this.KO)||n.wo(new Hm(this)))}},{key:"$O",get:function(){return this.tF},set:function(t){this.tF=t}}]),n}(oa);function Jm(t,n){return t.U===n.U&&t.UO===n.UO&&t.GO===n.GO&&t.do===n.do&&t.HO===n.HO&&t.ZO===n.ZO&&t.XO===n.XO&&t.Pb===n.Pb&&t.WO===n.WO&&t.Pt===n.Pt}var Qm=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,u)||this).UO="auto",s.GO="start",s.do="auto",s.HO="auto",s.ZO=void 0,s.XO=!0,s.Pb=100,s.WO="center",s.Pt="",s}return Rt(n,t),n.prototype.iF=function(t){return Jm(this,t)},xt(n,[{key:"ka",get:function(){return this.su||(this.su=Zm(this)),this.su}},{key:"Aw",get:function(){return Pm.DO}}]),n}(qm);function $m(t){var n=t.UO,i=ui(n);return i&&!t.XO&&(n<0||n>100)?100:i?Number(n):t.XO?-1:100}function tw(t){return Lm(t.do,t.WO)}function nw(t){return Om(t.HO,t.WO)}function iw(t){var n,i=nw(t),r=tw(t);switch(i){case"line-left":n=100-r;break;case"line-right":n=r;break;case"center":n=r<=50?2*r:2*(100-r)}return A.min(t.Pb,n)}function rw(t){return{get id(){return t.o},get identifier(){return t.o},get lines(){return t.rF},get regionAnchorX(){return t.oF},get regionAnchorY(){return t.hF},get scrollValue(){return t.aF},get viewportAnchorX(){return t.uF},get viewportAnchorY(){return t.cF},get width(){return t.ji}}}U(),St(),Dt(),U(),St();var ew=function(){function t(t,n,i,r,e,u,s,o){this.o=t,this.ji=n,this.rF=i,this.oF=r,this.hF=e,this.uF=u,this.cF=s,this.aF=o}return xt(t,[{key:"ka",get:function(){return this.su||(this.su=rw(this)),this.su}},{key:"Aw",get:function(){return Pm.MO}}]),t}();U(),St(),U(),St();var uw=1e6,sw=function(){function t(){}var n=t.prototype;return n.lF=function(t){return this.dF()*t},n.fF=function(t){return this._F(t)>0},n.vF=function(t){return this._F(t)>=0},n.mF=function(t,n){return this.pF(t).gF(n)},n.eF=function(t){return 0===this._F(t)},n.wF=function(t){return this._F(t)<0},n.gF=function(t){return this._F(t)<=0},n.yF=function(){return this.bF()?this.AF():this},n.SF=function(t){return this.SO(t.AF())},n.pF=function(t){return this.SF(t).yF()},t}();function ow(t,n){return t.TF()?n.TF()?ao.sh:ao.Mw:n.TF()?ao.Lw:t.kF()?n.kF()&&t.bF()===n.bF()?ao.sh:t.bF()?ao.Lw:ao.Mw:n.bF()?ao.Mw:ao.Lw}U(),St(),Ct(),rn(),U(),St(),rn();var aw=4294967296,cw=aw*aw,hw=cw*cw,fw=hw/2,vw=function(){function t(t,n){this.OF=t,this.LF=n}var n=t.prototype;return n.MF=function(){return this.LF.unsigned},n.BF=function(){return this.OF.isZero()&&this.LF.isZero()},n.bF=function(){return this.LF.isNegative()},n.FF=function(){return this.MF()?t.EF(this.OF,this.LF,!1):this},n.VF=function(){return this.MF()?this:t.EF(this.OF,this.LF,!0)},n.WF=function(){return this.OF},n.dF=function(){return this.bF()?-this.AF().dF():this.LF.toNumber()*cw+this.OF.toUnsigned().toNumber()},n.UF=function(){return this.OF.toInt()},n.eF=function(t){return(this.MF()===t.MF()||this.LF.getHighBits()>>>31!=1||t.LF.getHighBits()>>>31!=1)&&(this.LF.toUnsigned().eq(t.LF.toUnsigned())&&this.OF.toUnsigned().eq(t.OF.toUnsigned()))},n._F=function(t){if(this.eF(t))return ao.sh;var n=this.bF(),i=t.bF();if(n&&!i)return ao.Lw;if(!n&&i)return ao.Mw;if(!this.MF())return this.SF(t).bF()?ao.Lw:ao.Mw;var r=this.VF(),e=t.VF(),u=e.LF.comp(r.LF);return u>0||0===u&&e.OF.gt(r.OF)?ao.Lw:ao.Mw},n.wF=function(t){return this._F(t)<0},n.gF=function(t){return this._F(t)<=0},n.GF=function(t){return this._F(t)>0},n.HF=function(t){return this._F(t)>=0},n.ZF=function(){return new t(this.OF.not(),this.LF.not())},n.XF=function(n){return new t(this.OF.and(n.OF),this.LF.and(n.LF))},n.zF=function(n){return new t(this.OF.or(n.OF),this.LF.or(n.LF))},n.qF=function(n){var i=127&n;return 0===i?this:i<64?t.EF(this.OF.shl(i),this.LF.shl(i).or(this.OF.shru(64-i)),this.MF()):t.EF(ur.ZERO,this.OF.shl(i-64),this.MF())},n.YF=function(n){var i=127&n;return 0===i?this:i<64?t.EF(this.OF.shru(i).or(this.LF.shl(64-i)),this.LF.shr(i),this.MF()):t.EF(this.LF.shr(i-64),this.LF.isNegative()?ur.NEG_ONE:ur.ZERO,this.MF())},n.KF=function(n){var i=127&n;return 0===i?this:i<64?t.EF(this.OF.shru(i).or(this.LF.shl(64-i)),this.LF.shru(i),this.MF()):64===i?t.EF(this.LF,ur.ZERO,this.MF()):t.EF(this.LF.shru(i-64),ur.ZERO,this.MF())},n.SO=function(n){var i=this.LF.high>>>16,r=65535&this.LF.high,e=this.LF.low>>>16,u=65535&this.LF.low,s=this.OF.high>>>16,o=65535&this.OF.high,a=this.OF.low>>>16,c=65535&this.OF.low,h=n.LF.high>>>16,f=65535&n.LF.high,v=n.LF.low>>>16,l=65535&n.LF.low,d=n.OF.high>>>16,g=65535&n.OF.high,m=n.OF.low>>>16,w=0,p=0,y=0,_=0,b=0,k=0,A=0,T=0;A+=(T+=c+(65535&n.OF.low))>>>16,T&=65535,k+=(A+=a+m)>>>16,A&=65535,b+=(k+=o+g)>>>16,k&=65535,_+=(b+=s+d)>>>16,b&=65535,y+=(_+=u+l)>>>16,_&=65535,p+=(y+=e+v)>>>16,y&=65535,w+=(p+=r+f)>>>16,p&=65535,w+=i+h,w&=65535;var S=this.MF(),E=ur.fromBits(y<<16|_,w<<16|p,S),I=ur.fromBits(A<<16|T,b<<16|k,S);return t.EF(I,E,S)},n.SF=function(t){return this.SO(t.AF())},n.AF=function(){return this.ZF().SO(t.jF)},n.QF=function(n){if(this.BF()||n.BF())return this.MF()?t.IF:t.CF;if(this.bF())return n.bF()?this.AF().QF(n.AF()):this.AF().QF(n).AF();if(n.bF())return this.QF(n.AF()).AF();if(this.LF.isZero()&&0===this.OF.high&&n.LF.isZero()&&0===n.OF.high)return t.xF(this.OF.multiply(n.OF));var i=ur.fromBits(4294967295,0,!0),r=this.OF.and(i),e=this.OF.shru(32),u=this.LF.and(i),s=this.LF.shru(32),o=n.OF.and(i),a=n.OF.shru(32),c=n.LF.and(i),h=n.LF.shru(32),f=ur.UZERO,v=ur.UZERO,l=ur.UZERO,d=ur.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),l=l.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),l=l.add(v.shru(32)),v=v.and(i),l=l.add(u.mul(o)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(e.mul(a)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(r.mul(c)),d=d.add(l.shru(32)),l=l.and(i),d=d.add(s.mul(o)).add(u.mul(a)).add(e.mul(c)).add(r.mul(h)).and(i);var g=ur.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),m=ur.fromBits(l.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0);return t.EF(g,m,this.MF())},n.JF=function(n){var i,r,e=n;if(e.BF())throw new RangeError("division by zero");if(this.BF())return this.MF()?[t.IF,t.IF]:[t.CF,t.CF];if(this.MF()){if(e.MF()||(e=e.VF()),e.GF(this))return[t.IF,this];if(e.GF(this.KF(1)))return[r=t.tV,i=this.SF(e)];r=t.IF}else{if(this.eF(t.DF)){if(e.eF(t.jF)||e.eF(t.eV))return[t.DF,t.CF];if(e.eF(t.DF))return[t.jF,t.CF];var u=this.YF(1).iV(e).qF(1);return u.eF(t.CF)?r=e.bF()?t.jF:t.eV:(i=this.SF(e.QF(u)),r=u.SO(i.iV(e))),[r,i=this.SF(e.QF(r))]}if(e.eF(t.DF))return this.MF()?[t.IF,this]:[t.CF,this];var s,o;if(this.bF())return e.bF()?this.AF().JF(e.AF()):(r=(s=nn(this.AF().JF(e),2))[0],i=s[1],[r.AF(),i.AF()]);if(e.bF())return r=(o=nn(this.JF(e.AF()),2))[0],i=o[1],[r.AF(),i.AF()];r=t.CF}for(i=this;i.HF(e);){for(var a=A.max(1,A.floor(i.dF()/e.dF())),c=A.ceil(A.log(a)/A.LN2),h=c<=48?1:A.pow(2,c-48),f=t.RF(a),v=f.QF(e);v.bF()||v.GF(i);)a-=h,v=(f=t.RF(a,this.MF())).QF(e);f.BF()&&(f=t.jF),r=r.SO(f),i=i.SF(v)}return[r,i]},n.iV=function(t){return this.JF(t)[0]},n.sV=function(t){return this.JF(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.BF())return"0";if(this.bF()){if(this.eF(t.DF)){var r=t.RF(i),e=this.iV(r),u=e.QF(r).SF(this);return e.toString(i)+u.UF().toString(i)}return"-"+this.AF().toString(i)}for(var s=t.RF(A.pow(i,6),this.MF()),o=this,a="";;){var c=o.iV(s),h=(o.SF(c.QF(s)).UF()>>>0).toString(i);if((o=c).BF())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t.EF=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.xF=function(n){return n.unsigned?new t(n,ur.UZERO):new t(n,n.isNegative()?ur.NEG_ONE:ur.ZERO)},t.RF=function(n,i){if(E(n))return i?t.IF:t.CF;if(i){if(n<0)return t.IF;if(n>=hw)return t.PF}else{if(n<=-fw)return t.DF;if(n+1>=fw)return t.NF}return n<0?t.RF(-n,i).AF():t.EF(ur.fromNumber(n%cw),ur.fromNumber(n/cw),i)},t}();vw.CF=vw.xF(ur.ZERO),vw.IF=vw.xF(ur.UZERO),vw.jF=vw.xF(ur.ONE),vw.tV=vw.xF(ur.UONE),vw.eV=vw.xF(ur.NEG_ONE),vw.NF=vw.EF(ur.NEG_ONE,ur.MAX_VALUE,!1),vw.PF=vw.EF(ur.MAX_UNSIGNED_VALUE,ur.MAX_UNSIGNED_VALUE,!0),vw.DF=vw.EF(ur.ZERO,ur.MIN_VALUE,!1),U(),St(),Dt();var lw=function(){function t(t,n){void 0===n&&(n=1),this.nV=t,this._N=n}var n=t.prototype;return n.SO=function(n){return this._N>=n._N?new t(this.nV+n.uV(this._N).nV,this._N):new t(this.uV(n._N).nV+n.nV,n._N)},n.fF=function(t){return t.wF(this)},n.vF=function(t){return t.gF(this)},n.pF=function(n){return this._N>=n._N?new t(A.abs(this.nV-n.uV(this._N).nV),this._N):n.pF(this)},n.mF=function(t,n){return this.pF(t).gF(n)},n._F=function(t){return function(t,n){return t._N>=n._N?vo(t.nV,n.uV(t._N).nV):vo(t.uV(n._N).nV,n.nV)}(this,t)},n.eF=function(t){return 0===this._F(t)},n.wF=function(t){return this._F(t)<0},n.gF=function(t){return this._F(t)<=0},n.uV=function(n){return new t(this.nV*(n/this._N),n)},n.SF=function(n){return this._N>=n._N?new t(this.nV-n.uV(this._N).nV,this._N):new t(this.uV(n._N).nV-n.nV,n._N)},n.cV=function(n){return new t(this.nV*n,this._N)},t.rV=function(n){return new t(A.ceil(n.nV),n._N)},t.oV=function(n){return new t(A.floor(n.nV),n._N)},t.hV=function(t,n){return t.vF(n)?t:n},t.aV=function(t,n){return t.gF(n)?t:n},xt(t,[{key:"kF",get:function(){return!isFinite(this.nV)}},{key:"rd",get:function(){return this.nV/this._N}}]),t}();lw.od=new lw(1/6,1),lw.CF=new lw(0),lw.lV=new lw(1/0),lw.dV=1e6;var dw=function(t){function n(n,i){var r;return(r=t.call(this)||this).Dx=n.toSigned(),r._N=i>>>0,r}Rt(n,t);var i=n.prototype;return i.bF=function(){return this.Dx.isNegative()},i.BF=function(){return 0!==this._N&&this.Dx.isZero()},i.kF=function(){return 0===this._N&&!this.Dx.isZero()},i.TF=function(){return 0===this._N&&this.Dx.isZero()},i.dF=function(){if(0===this._N)return this.Dx.isZero()?NaN:this.Dx.isNegative()?-1/0:1/0;var t=this.Dx.divide(this._N),n=this.Dx.subtract(t.multiply(this._N));return t.toNumber()+n.toNumber()/this._N},i.WF=function(){if(0===this._N)throw new y("Failed to convert timestamp");return this.Dx},i.yV=function(){return new Date(0===this._N?NaN:this.uV(1e3).Dx.toNumber())},i.bV=function(){return new lw(0===this._N?this.dF():this.Dx.toNumber(),this._N)},i.uV=function(t,i){void 0===i&&(i=mw.AV);var r=this._N;if(r===t)return this;if(0===r)return this;var e=gr(r,t),u=function(t,n,i){var r=nn(t.JF(n),2),e=r[0],u=r[1];if(u.BF())return e;if(i===mw.AV)return u.bF()?e.SF(vw.jF):e;if(i===mw.SV)return u.bF()?e:e.SO(vw.jF);var s=u.QF(vw.RF(2));return s.bF()?s.AF().wF(n)?e:e.SF(vw.jF):s.wF(n)?e:e.SO(vw.jF)}(vw.xF(this.Dx).QF(vw.RF(t/e)),vw.RF(r/e),i);return new n(u.WF(),t)},i._F=function(t){if(this===t)return ao.sh;if(0===this._N||0===t._N)return ow(this,t);if(this.BF())return t.BF()?ao.sh:t.bF()?ao.Mw:ao.Lw;if(t.BF())return this.bF()?ao.Lw:ao.Mw;var n=A.min(this._N,t._N),i=this.uV(n,mw.TV).Dx,r=t.uV(n,mw.TV).Dx;return i.compare(r)},i.AF=function(){return 0===this._N?function(t){0;return t.TF()?t:t.bF()?dw.vV:dw.mV}(this):new n(this.Dx.negate(),this._N)},i.SO=function(t){if(0===this._N||0===t._N)return function(t,n){0;if(t.TF()||n.TF())return dw._V;if(t.kF()&&n.kF())return t.bF()===n.bF()?t:dw._V;return t.kF()?t:n}(this,t);if(this.BF())return t;if(t.BF())return this;var i=A.max(this._N,t._N),r=this.uV(i,mw.TV),e=t.uV(i,mw.TV);return new n(r.Dx.add(e.Dx),i)},i.QF=function(t){if(this.TF()||E(t))return n._V;if(this.kF()||!isFinite(t)){if(this.BF()||0===t)return n._V;var i=this.bF()?n.mV:n.vV;return t<0?i.AF():i}return this.BF()?this:new n(0===t?ur.ZERO:this.Dx.multiply(t),this._N)},i.iV=function(t){if(this.TF()||E(t))return n._V;if(this.kF())return isFinite(t)?0===t?1/t<0?this.AF():this:t<0?this.AF():this:n._V;if(!isFinite(t))return new n(ur.ZERO,this._N);if(this.BF())return 0===t?n._V:new n(ur.ZERO,this._N);if(0===t){var i=this.bF()?n.mV:n.vV;return 1/t<0?i.AF():i}return new n(this.Dx.divide(t),this._N)},i.kV=function(){return[this.Dx.low,this.Dx.high,this._N]},n.fV=function(t,i){return void 0===i&&(i=uw),n.RF(t*i,i)},n.RF=function(t,i){return E(t)?n._V:t===1/0?n.vV:t===-1/0?n.mV:new n(ur.fromNumber(t),i)},n.xF=function(t,i){return new n(t,i)},n.gV=function(t){return n.fV(t.rd,uw)},n.pV=function(t){return new n(ur.fromNumber(t.getTime()),1e3)},n.hV=function(t,n){return t.vF(n)?t:n},n.aV=function(t,n){return t.gF(n)?t:n},n.wV=function(t,i,r){return n.hV(i,n.aV(r,t))},n}(sw);dw.CF=new dw(ur.ZERO,uw),dw._V=new dw(ur.ZERO,0),dw.vV=new dw(ur.ONE,0),dw.mV=new dw(ur.NEG_ONE,0),U(),St(),Dt(),Ct(),ct();var gw=function(t){function n(n,i){var r;return(r=t.call(this)||this).Dx=BigInt.asIntN(64,n),r._N=i>>>0,r}Rt(n,t);var i=n.prototype;return i.bF=function(){return this.Dx<BigInt(0)},i.BF=function(){return 0!==this._N&&this.Dx===BigInt(0)},i.kF=function(){return 0===this._N&&this.Dx!==BigInt(0)},i.TF=function(){return 0===this._N&&this.Dx===BigInt(0)},i.dF=function(){if(0===this._N)return this.Dx===BigInt(0)?NaN:this.Dx<BigInt(0)?-1/0:1/0;var t=this.Dx/BigInt(this._N),n=this.Dx-t*BigInt(this._N);return Number(t)+Number(n)/this._N},i.WF=function(){if(0===this._N)throw new y("Failed to convert timestamp");return this.PV()},i.PV=function(){var t=this.Dx&BigInt(4294967295),n=this.Dx>>BigInt(32)&BigInt(4294967295);return ur.fromBits(Number(t),Number(n))},i.yV=function(){return new Date(0===this._N?NaN:Number(this.uV(1e3).Dx))},i.bV=function(){return new lw(0===this._N?this.dF():Number(this.Dx),this._N)},i.uV=function(t,i){void 0===i&&(i=mw.AV);var r=this._N;if(r===t)return this;if(0===r)return this;var e=gr(r,t),u=function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===mw.AV)return e<BigInt(0)?r-BigInt(1):r;if(i===mw.SV)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.Dx*BigInt(t/e),BigInt(r/e),i);return new n(u,t)},i._F=function(t){if(this===t)return ao.sh;if(0===this._N||0===t._N)return ow(this,t);if(this.BF())return t.BF()?ao.sh:t.bF()?ao.Mw:ao.Lw;if(t.BF())return this.bF()?ao.Lw:ao.Mw;var n=A.min(this._N,t._N),i=this.uV(n,mw.TV).Dx,r=t.uV(n,mw.TV).Dx;return i>r?ao.Mw:i<r?ao.Lw:ao.sh},i.AF=function(){return 0===this._N?function(t){0;return t.TF()?t:t.bF()?gw.vV:gw.mV}(this):new n(-this.Dx,this._N)},i.SO=function(t){if(0===this._N||0===t._N)return function(t,n){0;if(t.TF()||n.TF())return gw._V;if(t.kF()&&n.kF())return t.bF()===n.bF()?t:gw._V;return t.kF()?t:n}(this,t);if(this.BF())return t;if(t.BF())return this;var i=A.max(this._N,t._N),r=this.uV(i,mw.TV),e=t.uV(i,mw.TV);return new n(r.Dx+e.Dx,i)},i.QF=function(t){if(this.TF()||E(t))return n._V;if(this.kF()||!isFinite(t)){if(this.BF()||0===t)return n._V;var i=this.bF()?n.mV:n.vV;return t<0?i.AF():i}return this.BF()?this:new n(0===t?BigInt(0):this.Dx*BigInt(t),this._N)},i.iV=function(t){if(this.TF()||E(t))return n._V;if(this.kF())return isFinite(t)?0===t?1/t<0?this.AF():this:t<0?this.AF():this:n._V;if(!isFinite(t))return new n(BigInt(0),this._N);if(this.BF())return 0===t?n._V:new n(BigInt(0),this._N);if(0===t){var i=this.bF()?n.mV:n.vV;return 1/t<0?i.AF():i}return new n(this.Dx/BigInt(t),this._N)},i.kV=function(){var t=this.PV();return[t.low,t.high,this._N]},n.fV=function(t,i){return void 0===i&&(i=uw),n.RF(t*i,i)},n.RF=function(t,i){return E(t)?n._V:t===1/0?n.vV:t===-1/0?n.mV:new n(BigInt(A.floor(t)),i)},n.xF=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.gV=function(t){return n.fV(t.rd,uw)},n.pV=function(t){return n.RF(t.getTime(),1e3)},n.hV=function(t,n){return t.vF(n)?t:n},n.aV=function(t,n){return t.gF(n)?t:n},n.wV=function(t,i,r){return n.hV(i,n.aV(r,t))},xt(n,null,[{key:"CF",get:function(){return n.EV||(n.EV=new n(BigInt(0),uw)),n.EV}},{key:"_V",get:function(){return n.xV||(n.xV=new n(BigInt(0),0)),n.xV}},{key:"vV",get:function(){return n.RV||(n.RV=new n(BigInt(1),0)),n.RV}},{key:"mV",get:function(){return n.CV||(n.CV=new n(BigInt(-1),0)),n.CV}}]),n}(sw);gw.EV=void 0,gw.xV=void 0,gw.RV=void 0,gw.CV=void 0;var mw=function(t){return t[t.AV=0]="AV",t[t.SV=1]="SV",t[t.TV=2]="TV",t}({}),ww=function(){try{return"function"==typeof BigInt&&"bigint"===W(BigInt(0))}catch(t){return!1}}()?gw:dw;function pw(t,n){return t._F(n)}function yw(t,n){return void 0!==t?void 0!==n?ww.aV(t,n):t:n}U(),St();var _w=9e4,bw=A.pow(2,33),kw=Ri((function(){return ww.RF(bw,_w)})),Aw=Ri((function(){return kw().iV(2)}));U(),St();var Tw={DV:0,NV:1/0,MV:0},Sw=6,Ew=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],Iw=[" ","\t","\n","\f","\r"],Rw=/^\d*$/,Cw=/.*[0-9]+.*/,Nw=/^[\d.-]+$/,xw=/(^\.|\.$)/,Dw=/(\D\.|\.\D)/;function Pw(t,n,i){return void 0===n&&(n=Tw),void 0===i&&(i=!0),Mw(kc(Sc(t),new Dc),n,i)}function Mw(t,n,i){void 0===n&&(n=Tw),void 0===i&&(i=!0);var r={L:[],LV:[],BV:[]},e=Bw(t),u=new Dc;if(zw(e),Ow(e,(function(t){return"\n"!==t}),u),u.ec>=e.length)return r;(u.kb(1),"\n"!==e.charAt(u.ec))?Ww(Lw(e,u,false,!0,r,n,i),r):u.kb(1);for(Ow(e,(function(t){return"\n"===t}),u);u.ec<e.length;){Ww(Lw(e,u,false,!1,r,n,i),r),Ow(e,(function(t){return"\n"===t}),u)}return r}function Bw(t){var n=Ws(t,"\0"," "),i=Ws(n,"\r\n","\n");return Ws(i,"\r","\n")}function Ow(t,n,i){for(var r=i.ec;i.ec<t.length&&n(t.charAt(i.ec));)i.kb(1);return t.substring(r,i.ec)}function Lw(t,n,i,r,e,u,s){for(var o,a=0,c=n.ec,h="",f=!1,v=!1,l=null,d=null,g=null;!f;)if(o=Ow(t,(function(t){return"\n"!==t}),n),a++,n.ec>=t.length?f=!0:n.kb(1),js(o,"--\x3e")){if(r||1!==a&&(2!==a||v)){n.Eb(c);break}v=!0,c=n.ec,l=new Qm(0,0,"",!1,h);try{jw(o,e.LV,l,u,s),h=""}catch(t){qn.Op(t),l=null}}else{if(""===o)break;r&&Zs(o,"X-TIMESTAMP-MAP")&&(e.OV=Fw(o)),r||2!==a||i||(Gs("STYLE",h.replace(/ /g,""))?(d={Aw:Pm.LO},h=""):Gs("REGION",h.replace(/ /g,""))&&(g=new ew("",100,3,0,100,0,100,""),h="")),h&&(h+="\n"),h+=o,c=n.ec}if(l)return l.U=h,l;if(d);else if(g)return function(t,n){for(var i=t.split(/\s/),r=":",e=0;e<i.length;e++){var u=i[e];if(0!==u.length&&js(u,r)&&u.charAt(0)!==r&&u.charAt(u.length-1)!==r){var s=u.indexOf(r),o=u.substring(0,s),a=u.substring(s+1,u.length);switch(o.toUpperCase()){case"ID":up(a,n);break;case"WIDTH":ap(a,n);break;case"LINES":op(a,n);break;case"REGIONANCHOR":var c=ep(a);c&&(n.oF=c[0],n.hF=c[1]);break;case"VIEWPORTANCHOR":var h=ep(a);h&&(n.uF=h[0],n.cF=h[1]);break;case"SCROLL":sp(a,n)}}}}(h,g),g;return null}function Fw(t){var n,i=t.split("=")[1].trim().split(","),r=Uw(i[0].trim(),"MPEGTS")?i[0]:i[1],e=Uw(i[0].trim(),"LOCAL")?i[0]:i[1];return{FV:Vw(Number(r.split(/:(.*)/)[1].trim())||0),ph:ww.fV(null!=(n=Gw(e.split(/:(.*)/)[1].trim(),new Dc))?n:0)}}function Vw(t){return ww.RF(t,_w)}function Uw(t,n){return Zs(t,n)}function Ww(t,n){t&&function(t){return"cue"===t.Aw}(t)?n.L.push(t):t&&function(t){return"region"===t.Aw}(t)?n.LV.push(t):t&&function(t){return"stylesheet"===t.Aw}(t)&&n.BV.push(t)}function jw(t,n,i,r,e){var u=new Dc;Kw(t,u);var s=Zw(Gw(t,u),r,e);if(Kw(t,u),"--\x3e"!==t.substring(u.ec,u.ec+3))throw y("Something went wrong with parsing a WebVTT Cue");u.kb(3),Kw(t,u);var o=Zw(Gw(t,u),r,e);i.sF(s,o),function(t,n,i){for(var r=t.split(/\s/),e=":",u=0;u<r.length;u++){var s=r[u];if(0!==s.length&&js(s,e)&&s.charAt(0)!==e&&s.charAt(s.length-1)!==e){var o=s.indexOf(e),a=s.substring(0,o),c=s.substring(o+1,s.length);switch(a.toUpperCase()){case"REGION":tp(c,n,i);break;case"VERTICAL":ip(c,n);break;case"D":rp(c,n);break;case"LINE":case"L":Qw(c,n);break;case"POSITION":case"T":$w(c,n);break;case"SIZE":case"S":np(c,n);break;case"ALIGN":case"A":Jw(c,n)}}}}(t.substring(u.ec,t.length),i,n)}function Zw(t,n,i){return i?t+n.DV:t}function Xw(t){return/^[0-9]$/.test(t)}function Gw(t,n){var i,r,e,u=Ws(t,",","."),s=!1;if(n.ec>=u.length||!Xw(u.charAt(n.ec)))throw new y("Something went wrong with parsing a WebVTT Cue timestamp");var o=Ow(u,Xw,n),a=T(o,10);if((o.length>2||a>59)&&(s=!0),n.ec>=u.length||":"!==u.charAt(n.ec))throw new y("Something went wrong with parsing a WebVTT Cue timestamp");n.kb(1);var c=Ow(u,Xw,n);if(2!==c.length)throw new y("Something went wrong with parsing a WebVTT Cue timestamp");var h=T(c,10);if(s||n.ec<u.length&&":"===u.charAt(n.ec)){if(n.ec>=u.length||":"!==u.charAt(n.ec))throw new y("Something went wrong with parsing a WebVTT Cue timestamp");n.kb(1);var f=Ow(u,Xw,n);if(2!==c.length)throw new y("Something went wrong with parsing a WebVTT Cue timestamp");i=a,r=h,e=T(f,10)}else i=0,r=a,e=h;if(n.ec>=u.length||"."!==u.charAt(n.ec))throw new y("Something went wrong with parsing a WebVTT Cue timestamp");n.kb(1);var v=Ow(u,Xw,n),l=T(v,10);if(h>59||e>59)throw new y("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function Hw(t){return zw(Bw(t))}function zw(t){if(t.length<Sw)return!1;for(var n=0;n<Ew.length;n++){var i=Ew[n];if(Zs(t,i))return!0}return!1}function Yw(t){return Ao(Iw,t)}function Kw(t,n){for(;n.ec<t.length&&Yw(t.charAt(n.ec));)n.kb(1)}function qw(t){var n=t.lastIndexOf("%");if(n>-1){var i=S(t.substring(0,n));if(!E(i)&&i>=0&&i<=100)return i}return null}function Jw(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.WO=i;break;case"middle":n.WO="center"}}function Qw(t,n){var i,r,e=t.indexOf(",");if(e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r=""),Cw.test(i)){var u,s;if(Xs(i,"%")){var o=qw(i);if(null===o)return;u=o,s=!1}else{if(!Nw.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!Dw.test(i)||xw.test(i)))return;if(u=S(i),E(u))return;s=!0}switch(n.UO=u,n.XO=s,r=r.toLowerCase()){case"start":case"center":case"end":n.GO=r;break;case"middle":n.GO="center"}}}function $w(t,n){var i,r,e=t.indexOf(",");e>=0?(i=t.substring(0,e),r=t.substring(e+1,t.length)):(i=t,r="");var u=qw(i);if(null!==u)switch(n.do=u,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.HO=r;break;case"start":n.HO="line-left";break;case"middle":n.HO="center";break;case"end":n.HO="line-right"}}function tp(t,n,i){var r=wo(i,(function(n){return n.o===t}));void 0!==r&&(n.ZO=r)}function np(t,n){var i=qw(t);null!==i&&(n.Pb=i)}function ip(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Pt="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Pt="lr";break;default:n.Pt=""}}function rp(t,n){"VERTICAL"===t.toUpperCase()?n.Pt="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Pt="lr")}function ep(t){if(t.indexOf(",")>=0){var n=qw(t.substring(0,t.indexOf(","))),i=qw(t.substring(t.indexOf(",")+1,t.length));return[cr(n||0,0,100),cr(i||100,0,100)]}return null}function up(t,n){n.o=t}function sp(t,n){"up"===t.toLowerCase()&&(n.aF="up")}function op(t,n){Rw.test(t)&&(n.rF=T(t))}function ap(t,n){var i=qw(t);null!==i&&(n.ji=i)}U(),St(),rn(),U(),St(),U(),St();var cp=function(t){return t.vP="moov",t.mP="mvhd",t.gP="trak",t.pP="tkhd",t.wP="mdia",t.yP="mdhd",t.bP="hdlr",t.AP="minf",t.SP="stbl",t.TP="stsd",t.kP="stsc",t.EP="mvex",t.xP="trex",t.RP="avc1",t.IP="avcC",t.CP="hev1",t.PP="hvc1",t.DP="hvcC",t.NP="vp09",t.MP="vpcC",t.LP="av01",t.BP="av1C",t.OP="dvcC",t.FP="dvvC",t.VP="dvwC",t.WP="dec3",t.UP="dvav",t.GP="dva1",t.HP="dvhe",t.ZP="dvh1",t.zP="ec-3",t.qP="colr",t.YP="pasp",t.KP="mp4a",t.jP="esds",t.QP="fLaC",t.JP="dfLa",t.$P="wvtt",t.tD="vttC",t.eD="vlab",t.iD="enca",t.sD="encv",t.nD="moof",t.rD="mfhd",t.oD="traf",t.hD="tfhd",t.aD="trun",t.uD="tfdt",t.cD="senc",t.lD="mdat",t.dD="pssh",t.fD="emsg",t._D="sidx",t.vD="styp",t.mD="ftyp",t.gD="sinf",t.pD="frma",t}({}),hp=function(t){return t.ON_SCREEN_COLOURS="nclx",t.RESTRICTED_ICC_PROFILE="rICC",t.UNRESTRICED_ICC_PROFILE="prof",t}({}),fp=function(t){return t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=65536]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF",t}({}),vp=function(t){return t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT",t}({});U(),St();var lp=function(){function t(t,n){this.qk=t,this.yD=n}var n=t.prototype;return n.wD=function(){return Xa(this.qk,this.yD)},n.bD=function(){return Ja(this.qk,this.yD)},n.SD=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.ec,i);return n.kb(2),r}(this.qk,this.yD)},n.TD=function(){return $a(this.qk,this.yD)},n.kD=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.ec,i);return n.kb(4),r}(this.qk,this.yD)},n.ED=function(){return nc(this.qk,this.yD)},n.xD=function(t){return Ha(this.qk,this.yD,t)},n.RD=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push($a(t,n));return r}(this.qk,this.yD,t)},n.CD=function(t){return ec(this.qk,this.yD,t)},n.PD=function(){return yc(this.qk,this.yD)},n.DD=function(t){this.yD.kb(t)},n.xb=function(){return new t(this.qk,this.yD.xb())},t}();U(),St(),Dt(),Ct(),U(),St();function dp(t,n){return t.Aw===n}function gp(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(dp(r,n))return r}}var mp=function(t){function n(n,i){var r;return(r=t.call(this)||this).ND=n,r.MD=i,r}return Rt(n,t),xt(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Vo),wp=function(){function t(){}return t.LD=function(n){var i=n.qk,r=n.yD,e=t.BD(i,r,!1);if(!e.OD)throw new mp(r.ec,e.m);return e.m},t.BD=function(n,i,r){for(var e=[];i.ec<n.byteLength;){var u=t.FD(n,i,r);if(!u.OD)return{OD:!1,m:e};e.push(u.VD)}return{OD:!0,m:e}},t.WD=function(n,i){var r=t.FD(n,i,!1);if(!r.OD)throw new mp(i.ec);return r.VD},t.UD=function(n,i){for(var r=n.qk,e=n.yD;e.ec<r.byteLength;){var u=t.FD(r,e,!1);if(!u.OD)return;if(u.VD.Aw===i)return u.VD}},t.FD=function(n,i,r){var e=i.ec,u=t.GD(n,i);if(!u.OD)return u;var s=u.HD,o=s.Pb;if(0===o){if(r)return i.Eb(e),{OD:!1,ZD:1/0};o=n.byteLength-e}var a=e+o;if(a>n.byteLength){var c=a;return i.Eb(e),{OD:!1,ZD:c}}var h={Aw:s.Aw,ec:e,qk:new lp(Tc(n,e,a),new Dc(s.XD))};return i.Eb(a),{OD:!0,VD:h}},t.GD=function(t,n){var i=n.ec;if(!Ya(t,n,8))return{OD:!1,ZD:n.ec+8};var r=$a(t,n),e=ec(t,n,4);if(1===r){if(!Ya(t,n,8)){var u=n.ec+8;return n.Eb(i),{OD:!1,ZD:u}}r=nc(t,n).toNumber()}if("uuid"===e){if(!Ya(t,n,16)){var s=n.ec+16;return n.Eb(i),{OD:!1,ZD:s}}e=ec(t,n,16)}return{OD:!0,HD:{Aw:e,Pb:r,XD:n.ec-i}}},t.zD=function(t,n,i){var r=t.qk,e=t.yD,u=Ac(Ec(r),e.ec,r.byteLength);return i&&(u=Nc(u)),e.kb(u.byteLength),{Aw:n,qk:u}},t.qD=function(n,i,r){var e=bp(n.TD());return{Aw:i,YD:e.version,KD:e.flags,qk:t.zD(n,i,r).qk}},t}();function pp(t,n){var i=yp(t,n);if(!i)throw new y("Missing "+n+" atom");return i}function yp(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Aw===n)return r.qk}}function _p(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.Aw===n&&i.push(e.qk)}return i}function bp(t){return{version:t>>24,flags:new Wa(16777215&t)}}var kp=function(){function t(){}return t.jD=function(n){for(var i=[],r=wp.LD(new lp(n,new Dc)),e=0;e<r.length;e++){var u=r[e],s=t.QD(u);s&&i.push(s)}return i},t.JD=function(t){return wp.BD(t,new Dc,!1).m.some(this.$D)},t.tN=function(n){return _p(wp.LD(new lp(n,new Dc)),cp.dD).map(t.eN)},t.iN=function(n){return _p(wp.LD(n.qk),cp.dD).map(t.eN)},t.$D=function(t){return t.Aw===cp.mD||t.Aw===cp.vD||t.Aw===cp.vP||t.Aw===cp.nD||t.Aw===cp.lD||t.Aw===cp._D||t.Aw===cp.fD},t.QD=function(n){switch(n.Aw){case cp.vP:return t.sN(n.qk);case cp.nD:return t.nN(n.qk,n.ec);case cp.lD:return t.rN(n.qk);case cp._D:return t.oN(n.qk);case cp.fD:return t.hN(n.qk)}},t.sN=function(n){var i=wp.LD(n),r=pp(i,cp.mP),e=_p(i,cp.gP),u=yp(i,cp.EP),s=t.aN(r),o=e.map(t.uN),a=u?t.cN(u):void 0;return{Aw:cp.vP,HD:s,Z:o,lN:a}},t.aN=function(t){var n=bp(t.TD()),i=n.version,r=n.flags,e=1===i?t.ED():t.TD(),u=1===i?t.ED():t.TD(),s=t.TD(),o=1===i?t.ED():t.TD(),a=t.TD(),c=t.bD()>>8;t.DD(2),t.DD(8);var h=t.RD(9);t.DD(24);var f=t.TD();return{Aw:cp.mP,YD:i,KD:r,dN:e,fN:u,_N:s,ct:o,vN:a,vI:c,mN:h,gN:f}},t.uN=function(n){var i=wp.LD(n),r=pp(i,cp.pP),e=pp(i,cp.wP),u=t.pN(r),s=t.wN(e);return{Aw:cp.gP,HD:u,yN:s}},t.pN=function(t){var n=bp(t.TD()),i=n.version,r=n.flags,e=1===i?t.ED():t.TD(),u=1===i?t.ED():t.TD(),s=t.TD();t.DD(4);var o=1===i?t.ED():t.TD();t.DD(8);var a=t.SD(),c=t.SD(),h=t.SD()/A.pow(2,8);t.DD(2);var f=t.RD(9),v=t.TD()/A.pow(2,16),l=t.TD()/A.pow(2,16);return{Aw:cp.pP,bN:r.Rb(1),AN:r.Rb(2),SN:r.Rb(4),dN:e,fN:u,TN:s,ct:o,kN:a,EN:c,vI:h,mN:f,ji:v,Ti:l}},t.wN=function(n){var i=wp.LD(n),r=pp(i,cp.yP),e=pp(i,cp.bP),u=pp(i,cp.AP),s=t.xN(r),o=t.RN(e),a=t.CN(u);return{Aw:cp.wP,HD:s,PN:o,DN:a}},t.xN=function(t){var n=bp(t.TD()),i=n.version,r=n.flags,e=1===i?t.ED():t.TD(),u=1===i?t.ED():t.TD(),s=t.TD(),o=1===i?t.ED():t.TD();t.bD();return t.DD(2),{Aw:cp.yP,YD:i,KD:r,dN:e,fN:u,_N:s,ct:o}},t.RN=function(t){var n=bp(t.TD()),i=n.version,r=n.flags;t.DD(4);var e=t.CD(4);t.DD(12);var u=t.PD();return{Aw:cp.bP,YD:i,KD:r,NN:e,l:u}},t.CN=function(n){var i=pp(wp.LD(n),cp.SP),r=t.MN(i);return{Aw:cp.AP,LN:r}},t.MN=function(n){var i=pp(wp.LD(n),cp.TP),r=t.BN(i);return{Aw:cp.SP,ON:r}},t.BN=function(n){for(var i=bp(n.TD()),r=i.version,e=i.flags,u=(n.TD(),[]),s=wp.LD(n),o=0;o<s.length;o++){var a=s[o],c=t.FN(a.qk,a.Aw);c&&u.push(c)}return{Aw:cp.TP,YD:r,KD:e,VN:u}},t.FN=function(n,i){var r=t.WN(n,i);return r||((r=t.UN(n,i))||(i===cp.$P?t.GN(n):void 0))},t.WN=function(n,i){return i===cp.KP?t.HN(n):i===cp.QP||i===cp.QP.toLowerCase()||i===cp.QP.toUpperCase()?t.ZN(n):i===cp.iD?t.XN(n):i===cp.zP?t.zN(n):void 0},t.UN=function(n,i){return i===cp.RP?t.qN(n):i===cp.CP||i===cp.PP?t.YN(n,i):i===cp.NP?t.KN(n,i):i===cp.LP?t.jN(n,i):i===cp.sD?t.QN(n):i===cp.UP||i===cp.GP||i===cp.HP||i===cp.ZP?t.JN(n,i):void 0},t.$N=function(t,n){return t.DD(6),{Aw:n,tM:t.bD()}},t.eM=function(n,i){var r=t.$N(n,i);n.DD(8);var e=n.bD(),u=n.bD();return n.DD(2),n.DD(2),us({},r,{iM:e,sM:u,nM:n.TD()>>>16})},t.rM=function(n,i){var r=t.$N(n,i);n.DD(2),n.DD(2),n.DD(12);var e=n.bD(),u=n.bD(),s=n.TD(),o=n.TD();n.DD(4);var a=n.bD();n.DD(32);var c=n.bD();return n.DD(2),us({},r,{ji:e,Ti:u,oM:s,hM:o,aM:a,uM:c})},t.HN=function(n){var i=t.eM(n,cp.KP),r=pp(wp.LD(n),cp.jP);return us({},i,{cM:t.lM(r)})},t.ZN=function(n){var i=t.eM(n,cp.QP),r=pp(wp.LD(n),cp.JP);return us({},i,{dM:t.fM(r)})},t.GN=function(n){var i=t.$N(n,cp.$P),r=wp.LD(n),e=pp(r,cp.tD),u=t._M(e),s=yp(r,cp.eD);return us({},i,{vM:u,mM:s?t.gM(s):void 0})},t._M=function(t){return{Aw:cp.tD,bd:t.PD()}},t.gM=function(t){return{Aw:cp.eD,xh:t.PD()}},t.lM=function(t){return wp.qD(t,cp.jP,!0)},t.fM=function(t){return wp.qD(t,cp.JP,!0)},t.qN=function(n){var i=t.rM(n,cp.RP),r=wp.LD(n),e=pp(r,cp.IP),u=yp(r,cp.YP);return us({},i,{pM:t.wM(e),yM:u?t.bM(u):void 0})},t.YN=function(n,i){var r=t.rM(n,i),e=pp(wp.LD(n),cp.DP);return us({},r,{AM:t.SM(e)})},t.KN=function(n,i){var r=t.rM(n,i),e=pp(wp.LD(n),cp.MP);return us({},r,{TM:t.kM(e)})},t.jN=function(n,i){var r=t.rM(n,i),e=wp.LD(n),u=pp(e,cp.BP),s=t.EM(u),o=yp(e,cp.qP);return us({},r,{xM:s,RM:o?t.IM(o):void 0})},t.QN=function(n){var i=n.xb(),r=t.rM(n,cp.sD),e=pp(wp.LD(n),cp.gD),u=t.CM(e);return us({},r,{PM:t.UN(i,u.NM.DM),MM:u})},t.JN=function(n,i){var r=t.rM(n,i),e=wp.LD(n);return us({},r,{LM:t.BM(e)})},t.zN=function(n){var i=t.eM(n,cp.zP),r=pp(wp.LD(n),cp.WP);return us({},i,{OM:t.FM(r)})},t.XN=function(n){var i=n.xb(),r=t.eM(n,cp.iD),e=pp(wp.LD(n),cp.gD),u=t.CM(e);return us({},r,{PM:t.WN(i,u.NM.DM),MM:u})},t.CM=function(n){var i=pp(wp.LD(n),cp.pD),r=t.VM(i);return{Aw:cp.gD,NM:r}},t.VM=function(t){var n=t.CD(4);return{Aw:cp.pD,DM:n}},t.wM=function(t){return wp.zD(t,cp.IP,!0)},t.SM=function(t){return wp.zD(t,cp.DP,!0)},t.BM=function(t){var n=yp(t,cp.OP);if(void 0!==n)return wp.zD(n,cp.OP,!0);var i=yp(t,cp.FP);if(void 0!==i)return wp.zD(i,cp.FP,!0);var r=yp(t,cp.VP);if(void 0!==r)return wp.zD(r,cp.VP,!0);throw y("Error parsing Dolby Vision configuration box.")},t.FM=function(t){return wp.zD(t,cp.WP,!0)},t.kM=function(t){return wp.zD(t,cp.MP,!0)},t.EM=function(t){return wp.zD(t,cp.BP,!0)},t.IM=function(t){var n=t.CD(4);switch(n){case"nclx":return{WM:hp.ON_SCREEN_COLOURS,UM:t.bD(),GM:t.bD(),HM:t.bD(),ZM:0!=(128&t.wD())};case"rICC":return{WM:hp.RESTRICTED_ICC_PROFILE};case"prof":return{WM:hp.UNRESTRICED_ICC_PROFILE};default:throw y("Could not parse ColourInformationBox: unknown type '"+n+"'.")}},t.bM=function(t){var n=t.TD(),i=t.TD();return{Aw:cp.YP,XM:n,zM:i}},t.cN=function(n){var i=_p(wp.LD(n),cp.xP).map(t.qM);return{Aw:cp.EP,Z:i}},t.qM=function(t){var n=bp(t.TD()),i=n.version,r=n.flags,e=t.TD(),u=t.TD(),s=t.TD(),o=t.TD(),a=t.TD();return{Aw:cp.xP,YD:i,KD:r,TN:e,YM:u,KM:s,jM:o,QM:a}},t.nN=function(n,i){var r=wp.LD(n),e=pp(r,cp.rD),u=_p(r,cp.oD),s=t.JM(e),o=u.map(t.$M);return{Aw:cp.nD,tL:i,HD:s,Z:o}},t.JM=function(t){var n=bp(t.TD()),i=n.version,r=n.flags,e=t.TD();return{Aw:cp.rD,YD:i,KD:r,eL:e}},t.$M=function(n){var i=wp.LD(n),r=pp(i,cp.hD),e=_p(i,cp.aD),u=yp(i,cp.uD),s=t.iL(r),o=e.map((function(n){return t.sL(n,s)})),a=u?t.nL(u):void 0;return{Aw:cp.oD,HD:s,rL:o,oL:a}},t.iL=function(t){var n=bp(t.TD()),i=n.version,r=n.flags,e=t.TD(),u=r.Rb(fp.BASE_DATA_OFFSET_PRESENT)?t.ED():void 0,s=r.Rb(fp.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.TD():void 0,o=r.Rb(fp.DEFAULT_SAMPLE_DURATION_PRESENT)?t.TD():void 0,a=r.Rb(fp.DEFAULT_SAMPLE_SIZE_PRESENT)?t.TD():void 0,c=r.Rb(fp.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.TD():void 0;return{Aw:cp.hD,YD:i,KD:r,TN:e,hL:u,aL:s,KM:o,jM:a,QM:c}},t.sL=function(n,i){for(var r=bp(n.TD()),e=r.version,u=r.flags,s=n.TD(),o=u.Rb(vp.DATA_OFFSET_PRESENT)?n.kD():void 0,a=u.Rb(vp.FIRST_SAMPLE_FLAGS_PRESENT)?n.TD():void 0,c=[],h=0;h<s;h++){var f=t.uL(n,u,e,i);0===h&&void 0!==a&&(f.KD=a),c.push(f)}return{Aw:cp.aD,YD:e,KD:u,cL:s,tL:o,lL:a,dL:c}},t.uL=function(t,n,i,r){return{ct:n.Rb(vp.SAMPLE_DURATION_PRESENT)?t.TD():r.KM,Pb:n.Rb(vp.SAMPLE_SIZE_PRESENT)?t.TD():r.jM,KD:n.Rb(vp.SAMPLE_FLAGS_PRESENT)?t.TD():r.QM,fL:n.Rb(vp.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.TD():t.kD():void 0}},t.hN=function(t){var n=t.qk,i=t.yD,r=bp($a(n,i)),e=r.version,u=r.flags;if(1===e){var s=$a(n,i),o=nc(n,i),a=$a(n,i),c=$a(n,i),h=rc(n,i),f=rc(n,i),v=Cc(Ec(n),i.ec,n.byteLength);return i.kb(v.byteLength),{Aw:cp.fD,YD:e,KD:u,_L:h,Dx:f,_N:s,vL:o,mL:a,o:c,gL:v}}var l=rc(n,i),d=rc(n,i),g=$a(n,i),m=$a(n,i),w=$a(n,i),p=$a(n,i),y=Cc(Ec(n),i.ec,n.byteLength);return i.kb(y.byteLength),{Aw:cp.fD,KD:u,YD:e,_L:l,Dx:d,_N:g,pL:m,mL:w,o:p,gL:y}},t.rN=function(t){return wp.zD(t,cp.lD,!1)},t.eN=function(n){var i=n.qk,r=n.yD,e=Nc(Ec(i)).buffer,u=bp($a(i,r)),s=u.version,o=u.flags,a=t.wL(i,r),c=[];if(s>0)for(var h=$a(i,r),f=0;f<h;f++){var v=Ha(i,r,16);c.push(v)}var l=$a(i,r),d=new I(e,r.ec,l);return r.kb(i.byteLength),{Aw:cp.dD,YD:s,KD:o,yL:a,bL:c,AL:l,qk:d,SL:e}},t.wL=function(t,n){for(var i="",r=0;r<4;r++){var e=Xa(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=Xa(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var a=Xa(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=Xa(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=Xa(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.oN=function(t){var n,i,r=t.qk,e=t.yD,u=bp($a(r,e)),s=u.version,o=u.flags,a=$a(r,e),c=$a(r,e);0===s?(n=ur.fromBits($a(r,e),0,!0),i=ur.fromBits($a(r,e),0,!0)):(n=nc(r,e),i=nc(r,e)),e.kb(2);for(var h=Ja(r,e),f=[],v=0;v<h;v+=1){var l=$a(r,e),d=l>>31&1,g=2147483647&l,m=$a(r,e),w=$a(r,e),p=w>>31&1,y=w>>28&7,_=268435455&w;f.push({TL:d,kL:g,ct:m,EL:p,xL:y,RL:_})}return{Aw:cp._D,YD:s,KD:o,IL:a,_N:c,CL:n,PL:i,DL:h,NL:f}},t.nL=function(t){var n,i=t.qk,r=t.yD,e=bp($a(i,r)),u=e.version,s=e.flags;return n=0===u?ur.fromBits($a(i,r),0,!0):nc(i,r),{Aw:cp.uD,YD:u,KD:s,oL:n}},t}();function Ap(t){return t&&"Ux"in t?t.Ux:t}U(),St(),Dt(),Ct(),U(),St();var Tp=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r,e)||this).WV=u,c.HV=s,c.ZV=o,c.zV=a||void 0,c}return Rt(n,t),n.prototype.iF=function(t){return!!Bg(this.VV,t.VV)&&(!!Bg(this.GV,t.GV)&&(!!Bg(this.LV,t.LV)&&(this.XV&&t.XV?!!this.XV.Nx(t.XV)&&(this.U&&t.U?this.U.Nx(t.U):this.U===t.U):this.XV===t.XV)))},xt(n,[{key:"VV",get:function(){return this.WV}},{key:"GV",get:function(){return this.HV}},{key:"LV",get:function(){return this.ZV}},{key:"XV",get:function(){return this.zV}},{key:"ka",get:function(){return this.su||(this.su=function(t){return Pg(Wm(t),{get extent(){return t.VV},get styles(){return t.GV},get regions(){return t.LV},get metadata(){return Ap(t.XV)},get content(){return Ap(t.U)}})}(this)),this.su}}]),n}(qm);U(),St(),Dt();var Sp=function(){function t(t,n,i){this.YV=t,this.KV=n,rg(i)?this.Df=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.qx(u)}return i}(0,0,i):this.Df=i}return xt(t,[{key:"qV",get:function(){return this.Df.Mx(!0)}},{key:"FO",get:function(){return this.YV}},{key:"VO",get:function(){return this.KV}}]),t}();U(),St(),Wt();var Ep="http://www.w3.org/XML/1998/namespace";function Ip(t,n,i,r){var e=t.Wx(i,n);return 0===e.length&&(e=t.Fx(r+":"+n)),e}function Rp(t,n){return function(t,n){var i=t.m.slice(),r=[];for(;i.length>0;){var e,u=i.shift();if(n(u))r.push(u);else(e=i).push.apply(e,Ut(u.m))}return r}(t,(function(t){return t.Vx===n}))}function Cp(t){for(var n={},i=0,r=t.Hx;i<r.length;i++){var e=r[i];n[e.Rx]=e.Dx}return n}var Np=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,xp=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Dp="http://www.w3.org/ns/ttml";function Pp(t,n,i,r){void 0===i&&(i=Tw),void 0===r&&(r=Bv.APPLICATION_TTML_XML);var e=[],u=Sc(t);return r===Bv.APPLICATION_MP4?e=function(t,n,i){var r=kp.jD(t),e=gp(r,cp.lD);if(!e)return[];return Op(Sc(e.qk),n,i)}(u,n,i):r===Bv.APPLICATION_TTML_XML&&(e=Op(u,n,i)),e}function Mp(t,n,i){return void 0===i&&(i=Tw),Lp(t,n,i)}function Bp(t,n){for(var i=Zp(n.qV),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function Op(t,n,i){return Lp(kc(t,new Dc),n,i)}function Lp(t,n,i){var r,e=[];try{r=qn.xx(t)}catch(t){return e}var u=r.Qx;if("tt"!==u.Rx)return e;var s=u.Wx(Dp,"head")[0],o=u.Wx(Dp,"body")[0];if(!o||!s)return e;for(var a=Vp(u.Xx("tts:extent")),c=a?{width:a[0],height:a[1]}:void 0,h=function(t){for(var n={},i=t.Wx(Dp,"styling")[0],r=i&&i.Wx(Dp,"style")||[],e=0;e<r.length;e++){var u=r[e];n[u.zx(Ep,"id")]=Cp(u)}return n}(s),f=function(t){for(var n={},i=t.Wx(Dp,"layout")[0],r=i&&i.Wx(Dp,"region")||[],e=0;e<r.length;e++){var u=r[e],s=u.zx(Ep,"id");if(s){n[s]=Cp(u);var o=jp(u);for(var a in o)Hn.call(o,a)&&(n[s][a]=o[a])}}return n}(s),v=a?function(t,n){for(var i=Mg(t),r=0,e=k.keys(i);r<e.length;r++){var u=e[r],s=Vp(i[u].extent);if(s){var o=Fp(s[0],n[0]),a=Fp(s[1],n[1]);i[u].extent=o+" "+a}var c=Vp(i[u].origin);if(c){var h=Fp(c[0],n[0]),f=Fp(c[1],n[1]);i[u].origin=h+" "+f}}return i}(f,a):f,l=s.Wx(Dp,"metadata")[0],d=Up(o,i.DV,i.NV,i.MV),g=0;g<d.length;g++){var m=d[g],w=Bp(v,m);e.push(new Tp(m.FO,m.VO,m.qV,!1,c,h,w,l))}return e}function Fp(t,n){return t/n*100+"%"}function Vp(t){if(t){var n=t.split(" ",2);if(2===n.length){var i=nn(n,2),r=i[0],e=i[1];if(Xs(r,"px")&&Xs(e,"px"))return[Number(r.slice(0,-2)),Number(e.slice(0,-2))]}}}function Up(t,n,i,r){var e,u=function(n){var i=function(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].FO,s=i[e].VO;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&r.push(i[e])}return r}(d[n],d[n+1],a);if(i.length<=0&&function(t){if(rg(t)){var n=t.Rx.toUpperCase(),i=Boolean(t.Xx("smpte:backgroundImage"));return"BR"===n||i}return t.Ex===ig.Ak}(t)){var r=t.Mx(!1);c.push(new Sp(d[n],d[n+1],r))}else if(i.length>0){var e=t.Mx(!1);i.forEach((function(t){return e.Gx(t.qV)})),c.push(new Sp(d[n],d[n+1],e))}},s=n,o=i,a=[],c=[];if(rg(t)){var h,f;s=null!=(h=Wp(t.Xx("begin"),r))?h:s,e=Wp(t.Xx("dur"),0),o=null!=(f=Wp(t.Xx("end"),r))?f:void 0!==e?s+e:o;for(var v=t.Lx,l=0;l<v.length;l++)("body"===t.Rx||"div"===t.Rx)&&v[l].Ex>1||(a=a.concat(Up(v[l],s,o,r)))}for(var d=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.FO,u.VO)}r.sort(ho);for(var s=r.length,o=0;o<s-1;o++)r[o+1]===r[o]&&(bo(r,o+1),o--,s=r.length);return r}(s,o,a),g=0;g<d.length-1;g++)u(g);return c}function Wp(t,n){if(t){if(Np.test(t)){var i=Np.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*r+60*e+u+(s?Number(s)*A.pow(.1,s.length):0)+n}if(xp.test(t)){var o=xp.exec(t);if(!o)return;var a,c=Number(o[1]);switch(o[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;default:a=NaN}return a+n}}}function jp(t){for(var n={},i=t.Fx("style")||[],r=0;r<i.length;r++){var e=Cp(i[r]);for(var u in e)Hn.call(e,u)&&(n[u]=e[u])}return n}function Zp(t){var n,i=[];if(rg(t)){(n=t.Xx("region"))&&i.push(n);for(var r=t.Lx,e=0;e<r.length;e++)i=i.concat(Zp(r[e]))}return i}function Xp(t){var n=function(t){try{return qn.xx(t).Qx}catch(t){}}(t);return"tt"===(null==n?void 0:n.Rx)}U(),St(),Gt(),Ct(),Jt(),U(),St();var Gp=function(t){return t.Th="disabled",t.NC="hidden",t.Jn="showing",t}({});function Hp(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case"disabled":case"hidden":case"showing":return n}}else if("number"==typeof t)switch(t){case 0:return"disabled";case 1:return"hidden";case 2:return"showing"}return"disabled"}U(),St(),Ct(),U(),St(),U(),St();var zp=function(t){return t.da="error",t}({});function Yp(){}function Kp(t){var n,i=[Rg.la,Rg.nC,Rg.UI,Rg.HI,Rg.qI,Rg.KI,Rg.XI,Rg.QI,Rg.tC,Rg.iC],r=[zp.da],e={get kind(){return t.Lt},get label(){return t.xh},set label(n){t.xh=Xg(n)},get language(){return t.gs},get id(){return t.o},get uid(){return t.xC},get inBandMetadataTrackDispatchType(){return t.MC},get mode(){return t.xE},set mode(n){n!==Gp.Jn&&n!==Gp.NC&&n!==Gp.Th||t.LC(n)},get forced(){return Boolean(t.BC)},get accessibility(){var n,i;return null!=(i=null==(n=t.RC)?void 0:n.map(qg))?i:[]},get type(){return t.Aw},get readyState(){return t.sI},get cues(){return t.xE===Gp.Th?null:t.L.ka},get activeCues(){return t.xE===Gp.Th?null:t.q.ka},get src(){return t.OC||""},addEventListener:function(t,i){var r=Hg(t,Xg);n.yn(r,i)},removeEventListener:function(t,i){var r=Hg(t,Xg);n.fn(r,i)}};return n=new aa(t),t.yn(i,(function(t){return n.wo(t.ka)})),t.yn(r,(function(t){return n.wo(t)})),k.defineProperty(e,"constructor",{value:Yp}),e}function qp(){}function Jp(t){var n=Yg(t);return k.defineProperty(n,"constructor",{value:qp}),n}var Qp=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.tt=function(n){return t.prototype.tt.call(this,n)},i.it=function(n){var i=t.prototype.it.call(this,n);return i&&(n.xE=Gp.Th),i},i.ba=function(){return Jp(this)},n}(Cg);U(),St(),U(),St();var $p=function(t){return t.jV="subtitles",t.QV="captions",t.JV="descriptions",t.Xn="chapters",t.$V="metadata",t.tW="thumbnails",t}({}),ty=["subtitles","captions","descriptions","chapters","metadata","thumbnails"];function ny(t){return"string"==typeof t&&Ao(ty,t)}function iy(t,n){return!(!ny(t)||!ny(n))&&(t===n||"subtitles"===t&&"captions"===n||"captions"===t&&"subtitles"===n)}U(),St(),Ct();var ry=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=r,s.status=e,s}return Rt(n,t),n}(sl);function ey(t){return t===$p.jV||t===$p.QV}function uy(t){return t.some(sy)}function sy(t){return js(t,"stpp")}function oy(t){return t.some(ay)}function ay(t){return js(t,"vtt")||js(t,"wvtt")}function cy(t,n){return Ov(t)&&oy(n)}function hy(t,n){return t===$p.tW||t===$p.$V&&n===$p.tW}function fy(t,n,i,r){for(var e=0,u=t.L.uC;e<u.length;e++){var s=u[e];if(s.FO>i)break;n<=s.VO&&!Ao(r,s)&&r.push(s)}}function vy(t,n){return co(t.xC,n.xC)}function ly(t,n,i,r){var e=function(t){switch(t){case xm.WEBVTT:return"WebVTT";case xm.SRT:return"SRT";case xm.TTML:return"TTML";default:return""}}(t);return new ry(el.SUBTITLE_PARSE_ERROR,"Could not parse the "+(e?e+" ":"")+"subtitle file.",n,i,r)}function dy(t,n){for(var i=[],r=0,e=t.L.uC;r<e.length;r++){var u=e[r];if(u.VO<=n)i.push(u);else if(u.FO>=n)break}for(var s=0;s<i.length;s++){var o=i[s];t.eW(o)}}function gy(t,n){if(t.V>0)for(var i=t.Cn(0),r=A.max(0,i-10),e=0;e<n.length;e++){n[e].iW(r)}}var my=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Z=new Qp,n.sW=function(t){var i=t.Ht;n.nW(i)},n}Rt(n,t);var i=n.prototype;return i.tt=function(t){t.yn(Rg.la,this.sW),this.Z.tt(t),this.nW(t)},i.it=function(t){t.fn(Rg.la,this.sW),t.xE=Gp.Th,this.Z.it(t)},i.rW=function(t){},i.oW=function(t){},i.nW=function(t){t.xE!==Gp.Th?this.rW(t):this.oW(t)},i.hW=function(){for(var t=0,n=this.Z.uC;t<n.length;t++){var i=n[t];i.fn(Rg.la,this.sW),i.gn()}},i.iW=function(t){if(t>0)for(var n=0,i=this.Z.uC;n<i.length;n++){dy(i[n],t)}},i.er=function(){return this.hW(),this.Z.er(),ut.resolve()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.$o(),[4,t.er()];case 1:return n.sent(),t.Z.gn(),[2]}}))}))()},n}(oa);U(),St(),Dt(),Ct();var wy=function(t){function n(n){var i;return(i=t.call(this,zp.da)||this).errorObject=n,i}return Rt(n,t),n.prototype.ba=function(){return this},xt(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(yg),py=function(t){function n(n,i){var r;return(r=t.call(this)||this).fW=new Jo,r.uW=n,r.lW=i,r}Rt(n,t);var i=n.prototype;return i.aW=function(t){if(t.src){var n=t.kind||$p.jV,i=this.uW.LI(n,t.id,t.label,t.srclang,t.default);return i.OC=bd(t.src),this.tt(i),i}},i.cW=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v;return Ht(this,(function(l){switch(l.label){case 0:t.sI=Nm.LOADING,r=new md({Gu:t.OC,Yk:xl.Ak,yE:fd.GET,Vw:n}),l.label=1;case 1:return l.trys.push([1,4,,5]),[4,i.lW.Kk(r)];case 2:return s=l.sent(),u=s.zk,[4,s.Rk()];case 3:return e=l.sent(),[3,5];case 4:return Zo(o=l.sent()),t.sI=Nm.ERROR,t.wo(new wy(function(t,n){var i=n,r=0;if(jd(t)&&t.name===Ed.WE)i=t.Kk.Gu;else if(Zd(t)){var e=t.ZE;if(i=e.$k,0===(r=e.zk))return new ry(el.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",i,r,t)}return new ry(el.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",i,r,t)}(o,t.OC))),[2];case 5:try{for(a=function(t){return Hw(t)?xm.WEBVTT:Xp(t)?xm.TTML:xm.SRT}(e),t.Aw=a,c=[],a===xm.WEBVTT||a===xm.SRT?(h=Mw(e),c=h.L):a===xm.TTML&&(c=Mp(e,t)),f=0;f<c.length;f++)v=c[f],t.dW(v)}catch(n){return Zo(n),t.sI=Nm.ERROR,t.wo(new wy(ly(t.Aw,t.OC,u,n))),[2]}return t.sI=Nm.LOADED,[2]}}))}))()},i.rW=function(t){Ao(this.Z.uC,t)&&t.sI===Nm.NONE&&this.cW(t,this.fW.Vw).catch(Xo)},i.Dn=function(){},i.er=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:for(n.fW.Yw(),n.fW=new Jo,i=0,r=n.Z.uC;i<r.length;i++)e=r[i],n.uW._W(e);return[4,t.prototype.er.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(my);function yy(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Lt===n&&r.vW)return r}}function _y(t,n){by(yy(t.uC,n))}function by(t){void 0!==t&&(t.xE=Gp.Jn)}function ky(t,n){var i=yy(t.uC,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Lt===n)return r}}(t.uC,n);by(i)}function Ay(t){for(var n=0;n<ty.length;n++){var i=ty[n];i===$p.Xn?ky(t,i):_y(t,i)}}U(),St(),U(),St(),Ct();var Ty=function(t){function n(){return t.call(this,fa.Yy)||this}return Rt(n,t),n}(ha);U(),St(),U(),St();var Sy=function(t){return t[t.mW=0]="mW",t[t.gW=1]="gW",t}({});U(),St();var Ey=function(t){return t.ML="canplay",t.LL="canplaythrough",t.BL="loadeddata",t.OL="loadedmetadata",t.tC="readystatechange",t.FL="waiting",t.VL="playing",t}({}),Iy=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"];U(),St(),Dt(),Ct(),U(),St(),Ct();var Ry=function(t){function n(n,i){var r;return(r=t.call(this,Ey.tC)||this).currentTime=n,r.readyState=i,r}return Rt(n,t),n}(ha);U(),St();var Cy=function(t){return t[t.$B=0]="$B",t[t.Gn=1]="Gn",t[t.tO=2]="tO",t[t.eO=3]="eO",t[t.iO=4]="iO",t}({});U(),St(),Ct();var Ny=function(t){function n(n,i){var r;return void 0===i&&(i=Cy.Gn),(r=t.call(this,Ey.OL)||this).currentTime=n,r.readyState=i,r}return Rt(n,t),n}(ha);U(),St(),Ct();var xy=function(t){function n(n,i){var r;return void 0===i&&(i=Cy.tO),(r=t.call(this,Ey.BL)||this).currentTime=n,r.readyState=i,r}return Rt(n,t),n}(ha);U(),St(),Ct();var Dy=function(t){function n(n){var i;return(i=t.call(this,Ey.FL)||this).currentTime=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var Py=function(t){function n(n,i){var r;return void 0===i&&(i=Cy.eO),(r=t.call(this,Ey.ML)||this).currentTime=n,r.readyState=i,r}return Rt(n,t),n}(ha);U(),St(),Ct();var My=function(t){function n(n,i){var r;return void 0===i&&(i=Cy.iO),(r=t.call(this,Ey.LL)||this).currentTime=n,r.readyState=i,r}return Rt(n,t),n}(ha);U(),St(),Ct();var By=function(t){function n(n){var i;return(i=t.call(this,Ey.VL)||this).currentTime=n,i}return Rt(n,t),n}(ha),Oy=[Ey.tC,Ey.VL,fa.ro,fa.Zy],Ly=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).yW=n,r.kW=i,r.EW=Cy.$B,r.DW=!0,r.AW=!1,r.wW=!1,r.BW=function(t){var n=r.yW.sI;n!==r.EW&&r.wo(new Ry(t.currentTime,n)),n===Cy.$B&&(r.AW=!1,r.wW=!1),r.pW(n),r.bW(n),r.PW(n),r.maybeDispatchCanPlayThroughEvent(n),r.TW(n),r.RW(n),r.EW=n},r.MW=function(){r.RW(r.EW),r.TW(r.EW),r.DW=r.yW.qR},r.LW=function(){r.DW=r.yW.qR},r.NW=function(t){r.wo(new By(t.currentTime))},r.yW.yn(Ey.tC,r.BW),r.yW.yn(fa.ro,r.MW),r.yW.yn(fa.Zy,r.LW),r.kW&&r.yW.yn(Ey.VL,r.NW),r}Rt(n,t);var i=n.prototype;return i.pW=function(t){!this.wW&&t>=Cy.Gn&&(this.wW=!0,this.wo(new Ny(this.yW.SR,t)))},i.bW=function(t){!this.AW&&t>=Cy.tO&&(this.AW=!0,this.wo(new xy(this.yW.SR,t)))},i.TW=function(t){this.kW||(t>=Cy.eO&&this.EW<Cy.eO&&!this.yW.qR||this.xW&&t>=Cy.eO)&&this.wo(new By(this.yW.SR))},i.RW=function(t){!this.IW(t)||this.yW.RR||this.yW.lt||this.wo(new Dy(this.yW.SR))},i.PW=function(t){this.EW<=Cy.tO&&t>=Cy.eO&&this.wo(new Py(this.yW.SR,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===Cy.iO&&this.wo(new My(this.yW.SR,t))},i.IW=function(t){var n=!this.yW.qR&&t<=Cy.tO,i=!this.DW&&this.EW<=Cy.tO;return n&&!i},i.er=function(){this.EW=Cy.$B,this.DW=!0,this.AW=!1,this.wW=!1},i.gn=function(){this.$o(),this.kW&&this.yW.fn(Ey.VL,this.NW),this.yW.fn(fa.ro,this.MW),this.yW.fn(fa.Zy,this.LW),this.yW.fn(Ey.tC,this.BW)},xt(n,[{key:"xW",get:function(){return!this.yW.qR&&this.DW}}]),n}(oa),Fy=function(t){function n(n){var i;return(i=t.call(this)||this).yW=n,i.yW.yn(Oy,i.Ds),i}return Rt(n,t),n.prototype.Hw=function(){this.$o(),this.yW.fn(Oy,this.Ds)},xt(n,[{key:"SR",get:function(){return this.yW.SR}},{key:"RR",get:function(){return this.yW.RR}},{key:"lt",get:function(){return this.yW.lt}},{key:"qR",get:function(){return this.yW.qR}},{key:"sI",get:function(){return this.yW.sI}}]),n}(oa);U(),St(),U(),St();var Vy="titanium",Uy="conax",Wy="ezdrm",jy="irdeto",Zy="vudrm",Xy="verimatrix",Gy="keyos",Hy="drmtoday",zy="expressplay",Yy="azure",Ky="xstream",qy="vimond",Jy="axinom",Qy="uplynk",$y="comcast",t_="custom";U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Jt();var n_=function(){function t(t,n,i,r,e){this.FW=void 0,this.aT=t,this.rU=n,this.oU=i,this.lW=r,this.nU=e,this.GW=this.hU(n)}var n=t.prototype;return n.OW=function(){return this.FW},n.VW=function(t){this.FW=t},n.ZW=function(){return this.GW.licenseAcquisitionURL||this.OW()},n.zW=function(t){return ut.resolve()},n.qW=function(t,n){return ut.resolve(void 0)},n.YW=function(t,n,i,r){var e=this;return Zt((function(){var u,s;return Ht(this,(function(o){switch(o.label){case 0:if(""===(u=e.KW(t,n,i,r)).Gu)throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");o.label=1;case 1:return o.trys.push([1,4,,6]),[4,e.lR.Kk(u)];case 2:return[4,o.sent().Ik(n)];case 3:return[2,o.sent()];case 4:return Zo(s=o.sent()),[4,e.jW(s,u.Gu,r)];case 5:return o.sent(),[2];case 6:return[2]}}))}))()},n.KW=function(t,n,i,r){var e=this.QW().Sk(),u=this.kE,s={Gu:this.JW(),Yk:n,jk:e,Nk:t,kE:u,yE:fd.POST,bE:0,Vw:r,Aw:vd.nE,SE:i};return new md(s)},n.$W=function(t,n){return ut.resolve(t)},n.tU=function(t,n,i,r){return ut.resolve(t)},n.QW=function(){return new Dl(this.GW.headers||{})},n.jW=function(t,n,i){return Zt((function(){return Ht(this,(function(n){throw new em(el.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t)}))}))()},n.JW=function(t,n){var i=n,r=this.GW.queryParameters;if(!i){var e=this.ZW();if(!e)return"";i=e}if(r||t){var u=qn.Nh(i);t&&_d(u,t),r&&_d(u,r),i=u.href}return i},n.eU=function(t,n){return i_(t)},n.iU=function(t){return new I(t)},n.sU=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,r.eU(t,i)];case 1:return e=s.sent(),[4,r.YW(e,r.nU,n,i)];case 2:return u=s.sent(),[2,r.iU(u)]}}))}))()},n.gn=function(){},xt(t,[{key:"lR",get:function(){return this.lW}},{key:"WW",get:function(){return!1}},{key:"UW",get:function(){var t=this.GW.certificate;if(t)return ni(t)?Sa(t):Rc(t)}},{key:"XW",get:function(){return!1}},{key:"kE",get:function(){return Boolean(this.GW.useCredentials)}}]),t}();function i_(t){return ut.resolve(Nc(t).buffer)}var r_,e_=function(t){function n(n,i,r,e){return t.call(this,Ms,n,i,r,e)||this}Rt(n,t);var i=n.prototype;return i.hU=function(t){return t.widevine||{}},i.aU=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return i.UW?[2,i.UW]:[2,i.uU(new I(t),n)]}))}))()},i.uU=function(n,i){return t.prototype.sU.call(this,n,ld.aE,i)},n}(n_);function u_(t,n){if(null==t)return{};var i,r,e={},u=k.keys(t);for(r=0;r<u.length;r++)i=u[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function s_(t){return Yn(t.token&&t.deviceId)}function o_(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&Yn(i.PreAuthorization)}function a_(t){var n=t;return s_(n)&&""!==n.token&&""!==n.deviceId&&!o_(n)}U(),St(),U(),St(),Gt(),on(),U(),St(),Jt(),U(),St(),U(),St(),U(),St(),function(t){t.$C=!1,t.tP=!1,t.eP=!1,t.iP=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.sP=!1,t.nP=!1,t.LOG_LCEVC_DETAILS=!1}(r_||(r_={})),U(),St(),Dt();var c_=function(){function t(t,n,i){this.oP=t,this.iT=n,this.aP=i}return t.prototype.hP=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new _("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new _("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new _("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new _("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new _("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.aP.build(t))},xt(t,[{key:"rP",get:function(){return this.oP}},{key:"aT",get:function(){return this.iT}}]),t}();U(),St();var h_=function(t){return t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED",t}({}),f_=function(){function t(){this.cP=[]}var n=t.prototype;return n.registerContentProtectionIntegration=function(t,n,i){switch(this.uP(t,n,i)){case h_.FAILED:throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+n+".");case h_.OVERRIDDEN:var r=R_(n);qn.Op("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case h_.SUCCEEDED:R_(n);0}},n.uP=function(t,n,i){var r=R_(n);if(!r)return h_.FAILED;for(var e=h_.SUCCEEDED,u=0,s=this.cP.slice();u<s.length;u++){var o=s[u];o.rP===t&&o.aT===r&&(e=h_.OVERRIDDEN,_o(this.cP,o))}return this.cP.push(new c_(t,r,i)),e},n.lP=function(t,n){return void 0!==this.dP(t,n)},n.fP=function(t,n,i){var r=this.dP(t,n);if(!r)throw y("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.hP(i)},n.dP=function(t,n){for(var i=0,r=this.cP;i<r.length;i++){var e=r[i];if(e.rP===t&&(!n||e.aT===n))return e}},t}();f_._P=new f_;var v_={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function l_(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters;return!(n||i||r||e||u||s)}function d_(t){return t&&void 0!==t.licenseAcquisitionURL}var g_=d_,m_=d_;function w_(t){if(!t)return!0;if(b_(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return l_(n)&&l_(i)&&l_(r)&&void 0===e&&l_(u)}function p_(t){var n=a_(t),i=function(t){var n,i=t;return o_(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!s_(i)}(t);return(!n||!i)&&(n||i)}function y_(t){return t.integration===jy}function __(t){var n=t;if(!n)return!1;if(w_(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(b_(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!g_(r))return!1;if(e&&!m_(e))return!1;if(u&&!function(t){return void 0!==t}(u))return!1;if(n.integration){if(f_._P.lP(n.integration))return!0;switch(n.integration){case Vy:if(!function(t){var n=t,i=n.integration===Vy;return i&&(k_(t)||A_(t))}(t))return!1;break;case Zy:if(!T_(t))return!1;break;case Xy:if(!function(t){var n=t;return n.integration===Xy}(t))return!1;break;case jy:if(!y_(t))return!1;break;case Uy:if(!p_(t))return!1;break;case Wy:if(!function(t){var n=t;return n.integration===Wy}(t))return!1;break;case Gy:if(!b_(t))return!1;break;case Hy:if(!function(t){var n=t;return n.integration===Hy&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case zy:if(!function(t){var n=t;return n.integration===zy}(t))return!1;break;case Ky:if(!S_(t))return!1;break;case qy:if(!function(t){return t.integration===qy}(t))return!1;break;case Jy:if(!E_(t))return!1;break;case Yy:if(!function(t){var n=t;return n.integration===Yy&&void 0!==n.token}(t))return!1;break;case Qy:if(!function(t){var n=t;return n.integration===Qy}(t))return!1;break;case $y:if(!function(t){var n=t;return n&&Yn(n.releasePid)&&Yn(n.accountId)&&Yn(n.token)}(t))return!1;break;case t_:return!0;default:return!1}}return!0}function b_(t){return t.integration===Gy}function k_(t){return void 0!==t.authToken}function A_(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function T_(t){var n=t;return n.integration===Zy&&void 0!==n.token}function S_(t){var n=t;return n&&n.integration===Ky&&ni(n.ticketAcquisitionURL)&&ni(n.streamId)}function E_(t){var n=t;return n.integration===Jy&&void 0!==n.token}function I_(t,n){var i,r,e,u=n[t],s=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:v_[t],o=null!=(r=null==u?void 0:u.customdata)?r:n.customdata,a=o?{customData:o}:{},c=us({},null!=(e=null==u?void 0:u.headers)?e:{},a),h=null!=u?u:{};h.customdata;return us({},u_(h,["customdata"]),{licenseAcquisitionURL:s,headers:c})}function R_(t){switch(t.toLowerCase()){case"widevine":case As:return As;case"playready":case _s:return _s;case"fairplay":case Rs:return Rs}}function C_(t,n){switch(t){case ms:return function(t){for(var n={},i=kp.tN(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.yL]=e.SL}return n}(n);case ws:case ps:return function(t){return sn({},Is,t)}(n);default:throw new sl(el.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}function N_(t){return x_.apply(this,arguments)}function x_(){return x_=Zt((function(t,n){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return void 0===n&&(n=!1),(i=t.widevine)?[4,qn.qp()]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return i?[2,!0]:(r=t.playready)?[4,qn.zp()]:[3,4];case 3:r=s.sent(),s.label=4;case 4:return r?[2,!0]:(e=t.clearkey)?[4,qn.Zp()]:[3,6];case 5:e=s.sent(),s.label=6;case 6:return e?[2,!0]:(u=!n&&t.fairplay)?[4,qn.Xp()]:[3,8];case 7:u=s.sent(),s.label=8;case 8:return u?[2,!0]:[2,!1]}}))})),x_.apply(this,arguments)}var D_=function(t){return t.gw="Widevine",t.cU="PlayreadyV2",t.lU="PlayreadyV3",t.mw="PlayreadyV2",t.ww="Fairplay",t}({}),P_={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function M_(t,n){var i,r,e,u,s=P_[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=qn.jp)?void 0:i.Ys,OSVersion:null==(r=qn.jp)?void 0:r.uw,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null==(e=qn.jp)?void 0:e.cw,DeviceModel:null==(u=qn.jp)?void 0:u.lw}}}function B_(t,n){if(!t.accountName)throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, accountName is not set.");if(!t.customerName)throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, customerName is not set.");if(!t.portalId)throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration, portalId is not set.");throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+n+" DRM configuration.")}function O_(t,n,i){var r;if(k_(t))r={AuthToken:t.authToken,Payload:n};else{if(!A_(t))throw B_(t,i);r={LatensRegistration:M_(t,i),Payload:n}}return Gc(JSON.stringify(r))}function L_(t,n,i){return F_.apply(this,arguments)}function F_(){return F_=Zt((function(t,n,i){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(!(r=t.ZE))throw new em(el.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,n);e=r,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.xk(i)];case 2:return u=o.sent(),s=function(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}return}(u),[3,4];case 3:return o.sent(),s="",[3,4];case 4:throw new em(el.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,e.Kk.Gu,e.zk,e.Qk,s)}}))})),F_.apply(this,arguments)}U(),St(),Gt(),Jt();var V_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,xl.yk)||this).fU=void 0,e}Rt(n,t);var i=n.prototype;return i.jW=function(t,n,i){return L_(t,n,i)},i.zW=function(t){return this.fU?Go(this.fU.Vb,t):(this.fU=new Yc,ut.resolve())},i.eU=function(t,n){var i=this;return Zt((function(){var n,r;return Ht(this,(function(e){if(!(n=i.rU))throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");return r=Ra(t),[2,O_(n,r,D_.gw)]}))}))()},i.iU=function(t){if(!t.license)throw new em(el.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Sa(t.license)},i._U=function(t){return ut.resolve(new I(t))},i.aU=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return i.vU(),[4,i.eU(t,n)];case 1:return r=u.sent(),[4,i.YW(r,xl.wk,ld.uE,n)];case 2:return e=u.sent(),[4,i._U(e)];case 3:return[2,u.sent()]}}))}))()},i.uU=function(n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return[4,t.prototype.uU.call(r,n,i)];case 1:return e=u.sent(),r.vU(),[2,e]}}))}))()},i.vU=function(){this.fU||(this.fU=new Yc),this.fU.Ob()},i.gn=function(){this.fU&&this.fU.Yw(),t.prototype.gn.call(this)},n.dU=function(){return qn.Ys.ep?"required":"optional"},n}(e_);U(),St(),Gt(),Dt(),Ct(),Jt();var U_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,xl.wk)||this).VW("https://widevine-proxy.drm.technology/proxy"),e}return Rt(n,t),n.prototype.eU=function(t,n){var i=this;return Zt((function(){var n,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,i_(t)];case 1:if(n=s.sent(),r=i.oU,e=xc(new I(n)),void 0===(u=i.mU))throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");return[2,JSON.stringify({token:u,drm_info:e,kid:r})]}}))}))()},xt(n,[{key:"mU",get:function(){if(T_(this.rU))return this.rU.token}}]),n}(e_);function W_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=us({},i,{SessionId:t.sessionId,Ticket:t.ticket})),us({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}U(),St(),Ct(),U(),St();var j_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,xl.wk)||this).VW("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}return Rt(n,t),n.prototype.JW=function(n,i){var r=n;return y_(this.rU)&&(r=W_(this.rU,r)),t.prototype.JW.call(this,r,i)},n}(e_);U(),St(),Ct(),U(),St();var Z_="Conax-Custom-Data";function X_(t,n,i){var r=t&&p_(t)&&t;if(r&&!i.has(Z_)){var e=a_(r)?r.token:void 0,u=a_(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(Z_,s)}return i}var G_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,xl.wk)||this).VW("https://connect.conax.com:8094/license"),e}return Rt(n,t),n.prototype.QW=function(){var n=t.prototype.QW.call(this);return X_(this.rU,"Widevine",n)},n}(e_);function H_(t){var n=dc(new I(t));return Sa(JSON.parse(n).license)}function z_(t){return"string"==typeof t.token?t.token:Gc(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function Y_(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}U(),St(),Dt(),Ct(),U(),St();var K_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,xl.wk)||this).VW("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}Rt(n,t);var i=n.prototype;return i.iU=function(t){return H_(t)},i.QW=function(){return Y_(t.prototype.QW.call(this),this.mU,this.rU)},xt(n,[{key:"mU",get:function(){return z_(this.rU)}}]),n}(e_);U(),St(),Ct();var q_=function(t){function n(n,i,r){return t.call(this,n,i,r,xl.wk)||this}return Rt(n,t),n.prototype.QW=function(){var n=t.prototype.QW.call(this),i=this.rU.token;return n.set("Authorization","Bearer "+i),n},n}(e_);function J_(t,n,i,r){return Q_.apply(this,arguments)}function Q_(){return Q_=Zt((function(t,n,i,r){var e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(!S_(t))throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");return(e=new Dl).append("Cache-Control","no-cache"),e.append("Content-Type","application/json"),(u=t.sessionId)&&e.append("XSSESSION",u),s=t.streamId,o=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:n,licenseType:o,streamId:s},c={Gu:t.ticketAcquisitionURL,Yk:xl.yk,jk:e,yE:fd.POST,Nk:JSON.stringify(a),Vw:r},[4,i.Kk(c)];case 1:return[4,h.sent().xk()];case 2:return[2,h.sent()]}}))})),Q_.apply(this,arguments)}U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Jt();var $_=function(t){function n(n,i,r){return t.call(this,n,i,r,xl.yk)||this}Rt(n,t);var i=n.prototype;return i.QW=function(){var n=t.prototype.QW.call(this);return n.set("Content-Type","application/json"),n},i.eU=function(n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return e=Xc(n.buffer),[4,J_(r.rU,"widevine_modular",r.lR,i)];case 1:return u=o.sent(),r.VW(u.licenseServerUrl),s=gc(JSON.stringify({payload:e,ticket:u.ticket})),[2,t.prototype.eU.call(r,s,i)]}}))}))()},i.iU=function(t){return Sa(t.license)},n}(e_);U(),St(),Ct();var tb=function(t){function n(n,i,r){return t.call(this,n,i,r,xl.wk)||this}return Rt(n,t),n.prototype.QW=function(){if(!E_(this.rU))throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.QW.call(this);return n.set("X-AxDRM-Message",this.rU.token),n},n}(e_);function nb(t){for(var n=new I(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}U(),St(),Gt(),Ct(),Jt();var ib=function(t){function n(n,i,r){var e;return(e=t.call(this,Ps,n,i,r,xl.wk)||this).gU=void 0,e}Rt(n,t);var i=n.prototype;return i.hU=function(t){return t.playready||{}},i.QW=function(){var n=new Dl(this.gU);return n.Ek(t.prototype.QW.call(this)),n},i.pU=function(t){return t.length>=1&&t[0].Lx.length>0},i.qW=function(n){var i=this.rU.playready.customData;if(i){var r=nb(i),e=nb('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Ra(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return ut.resolve({playready:{TT:e}})}return t.prototype.qW.call(this,n)},i.eU=function(t,n){var i=this;return Zt((function(){var n;return Ht(this,(function(r){switch(r.label){case 0:return[4,i_(t)];case 1:return n=r.sent(),[2,i.wU(n)]}}))}))()},i.wU=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d,g,m,w;return Ht(this,(function(p){e=null,u=new DataView(t),s=fc(u,new Dc,!0);try{o=qn.xx(s)}catch(t){return[2,e]}for(a=null==(i=o.Fx("PlayReadyKeyMessage")[0])?void 0:i.Fx("LicenseAcquisition")[0],h=null!=(c=null==a?void 0:a.Fx("Challenge"))?c:[],n.pU(h)&&(e=Zc(h[0].Zx)),f=new Dl,l=null!=(v=null==a||null==(r=a.Fx("HttpHeaders")[0])?void 0:r.Fx("HttpHeader"))?v:[],d=0;d<l.length;d++)g=l[d],m=g.Fx("name")[0].Zx,w=g.Fx("value")[0].Zx,f.append(m,w);return n.gU=f,[2,e]}))}))()},i.aU=function(t,n){return ut.resolve(t)},i.uU=function(n,i){return t.prototype.sU.call(this,n,ld.cE,i)},n}(n_);U(),St(),Gt(),Ct(),Jt(),U(),St(),Dt();var rb=function(){function t(n){this.AU=n,this.xS=t.yU(n)}return t.prototype.bU=function(){var t={};if(this.xS===D_.lU){var n={LatensRegistration:M_(this.AU,D_.lU)};t["X-TITANIUM-DRM-CDATA"]=Gc(JSON.stringify(n))}return t},t.yU=function(t){return"3"===t.version?D_.lU:D_.cU},xt(t,[{key:"SU",get:function(){return this.xS}},{key:"gT",get:function(){return this.xS===D_.cU}}]),t}();var eb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).TU=new rb(e.rU),e}Rt(n,t);var i=n.prototype;return i.qW=function(t){var n=this.rU;if(!this.rU)throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(A_(n)){var i={};return i.playready={TT:ub(n,this.TU.SU)},ut.resolve(i)}return ut.reject(B_(n,D_.mw))},i.QW=function(){var n=new Dl(this.TU.bU());return n.Ek(t.prototype.QW.call(this)),n},i.jW=function(t,n,i){return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:if(!(r=t.ZE))throw new em(el.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n);f.label=1;case 1:return f.trys.push([1,3,,4]),[4,r.Ck(i)];case 2:return s=f.sent(),o=dc(new I(s)),(a=qn.xx(o))&&(c=Rp(a,"CustomData")).length>0&&(e=JSON.parse(c[0].Zx),u=null==(h=e.DrmErr)?void 0:h.desc),[3,4];case 3:return f.sent(),[3,4];case 4:throw new em(el.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,n,r.zk,r.Qk,u)}}))}))()},i.pU=function(t){if(1!==t.length)throw new em(el.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},n}(ib);function ub(t,n){var i=M_(t,n),r=i.DeviceInfo.FormatVersion,e=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")}(function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}("<TitaniumCustomData>"+Gc('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>")+"</TitaniumCustomData>")),u=wc(e,!0);return wc('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Ra(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}U(),St(),Dt(),Ct();var sb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).VW("https://playready-license.drm.technology/rightsmanager.asmx"),e}Rt(n,t);var i=n.prototype;return i.pU=function(t){if(1!==t.length)throw new em(el.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},i.JW=function(n,i){var r=us({},n||{},{token:this.mU});return t.prototype.JW.call(this,r,i)},xt(n,[{key:"mU",get:function(){if(T_(this.rU))return this.rU.token}}]),n}(ib);U(),St(),Ct();var ob=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).VW("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return Rt(n,t),n.prototype.JW=function(n,i){var r=n;return y_(this.rU)&&(r=W_(this.rU,r)),t.prototype.JW.call(this,r,i)},n}(ib);U(),St(),Ct();var ab=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).VW("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return Rt(n,t),n.prototype.QW=function(){var n=t.prototype.QW.call(this);return X_(this.rU,"PlayReady",n)},n}(ib);U(),St(),Dt(),Ct();var cb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).VW("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}Rt(n,t);var i=n.prototype;return i.iU=function(n){var i=function(t){var n=dc(new I(t));return Zs(n,"<?xml")?0:1}(n);return 1===i?H_(n):t.prototype.iU.call(this,new I(n))},i.QW=function(){return Y_(t.prototype.QW.call(this),this.mU,this.rU)},xt(n,[{key:"mU",get:function(){return z_(this.rU)}}]),n}(ib);U(),St(),Gt(),Ct(),Jt();var hb=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}Rt(n,t);var i=n.prototype;return i.QW=function(){var n=t.prototype.QW.call(this);return this.kU&&n.set("Ticket",this.kU),n.set("Content-Type","text/xml"),n},i.eU=function(n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return[4,J_(r.rU,"playready",r.lR,i)];case 1:return e=u.sent(),r.VW(e.licenseServerUrl),r.kU=e.ticket,[2,t.prototype.eU.call(r,n,i)]}}))}))()},n}(ib);U(),St(),Ct();var fb=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.QW=function(){if(!E_(this.rU))throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.QW.call(this);return n.set("X-AxDRM-Message",this.rU.token),n},n}(ib);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var vb=function(t){return t.yk="application/json",t.EU="application/x-www-form-urlencoded",t.xU="application/octet-stream",t.Ak="text/plain;charset=UTF-8",t}({}),lb=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n.aT,i,r,e,u)||this).DU="",s.IU=void 0,s.LU=n.FU,s}Rt(n,t);var i=n.prototype;return i.RU=function(){return this.GW.certificateURL||this.IU},i.CU=function(t){this.IU=t},i.eU=function(t){return ut.resolve(this.PU(t,this.DU))},i.PU=function(t,n){return"spc="+encodeURIComponent(Ra(t))+"&assetId="+encodeURIComponent(n)},i.hU=function(t){return t.fairplay||{}},i.MU=function(t){var n=t.indexOf("?");if(n>=0)return ut.resolve(t.substr(n+1));var i=t.split("skd://").pop();if(i){if(/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(i))return ut.resolve(i)}var r=t.split("/");return ut.resolve(r[r.length-1])},i.qW=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=null!=(i=n.LU)?i:_c(new I(t)),[4,n.MU(r)];case 1:return e=s.sent(),n.DU=e,(u={}).fairplay={MT:e},[2,u]}}))}))()},i.QW=function(){var n=t.prototype.QW.call(this);return n.set("Content-Type",this.NU),n},i.aU=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return i.UW?[2,i.UW]:[4,i.BU(n)];case 1:return[2,t.sent()]}}))}))()},i.uU=function(n,i){return t.prototype.sU.call(this,n,ld.oE,i)},i.OU=function(t){var n=this.RU(),i=this.QW(),r={Gu:n,Yk:xl.wk,jk:i,yE:fd.GET,kE:!1,Nk:null,bE:0,Vw:t,Aw:vd.nE,SE:ld.hE};return new md(r)},i.BU=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i=n.OU(t),[4,n.lR.Kk(i)];case 1:return[4,e.sent().Ck()];case 2:return r=e.sent(),[2,new I(r)]}}))}))()},i.iU=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Sa(i)}else n=new I(t);return n},i.JW=function(n,i){var r=t.prototype.JW.call(this,n,i);return Zs(r,"skd:")&&(r=r.substr(4)),r},xt(n,[{key:"XW",get:function(){return!0}},{key:"NU",get:function(){return vb.EU}}]),n}(n_);U(),St(),Gt(),Dt(),Ct(),Jt();var db=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,xl.wk)||this}Rt(n,t);var i=n.prototype;return i.MU=function(n){var i=n.split("://",1);return"skd"!==i[0].slice(-3).toLowerCase()?ut.resolve(""):(i=n.split(";",2)).length>1?ut.resolve(i[1]):ut.resolve(t.prototype.MU.call(this,n))},i.eU=function(t){return Zt((function(){return Ht(this,(function(n){return[2,t]}))}))()},i.iU=function(t){return new I(t)},i.JW=function(n,i){var r=n||{};return r.p1=pr(),t.prototype.JW.call(this,r,i)},xt(n,[{key:"NU",get:function(){return vb.xU}}]),n}(lb);U(),St(),Dt(),Ct();var gb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,xl.wk)||this).VW("https://fairplay-license.drm.technology/license"),u.CU("https://fairplay-license.drm.technology/certificate"),u}Rt(n,t);var i=n.prototype;return i.PU=function(t,n){var i={token:this.mU,contentId:n,payload:Ra(t)};return JSON.stringify(i)},i.iU=function(t){return new I(t)},i.QW=function(){var n=t.prototype.QW.call(this);return n.set("x-vudrm-token",this.mU),n},xt(n,[{key:"NU",get:function(){return vb.yk}},{key:"mU",get:function(){if(!T_(this.rU))throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.rU.token}}]),n}(lb);U(),St(),Ct();var mb="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",wb="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",pb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,xl.wk)||this}return Rt(n,t),n.prototype.iU=function(n){var i=function(t){var n;try{n=JSON.parse(t).ckc}catch(t){throw new em(el.CONTENT_PROTECTION_LICENSE_INVALID,mb)}if(!n)throw new em(el.CONTENT_PROTECTION_LICENSE_ERROR,wb);return n}(dc(new DataView(n)));return t.prototype.iU.call(this,i)},n}(lb);U(),St(),Gt(),Dt(),Ct(),Jt();var yb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,xl.yk)||this}Rt(n,t);var i=n.prototype;return i.eU=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){if(!(i=n.rU))throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");return r=Ra(t),[2,O_(i,r,D_.ww)]}))}))()},i.iU=function(t){try{var n;if(ni(t)){var i=t.trim();n=JSON.parse(i)}else n=t;if(n.license){var r=Zc(n.license);return new I(r)}throw new em(el.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new em(el.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},i.jW=function(t,n,i){return L_(t,n,i)},xt(n,[{key:"NU",get:function(){return vb.yk}}]),n}(lb);U(),St(),Gt(),Dt(),Ct(),Jt();var _b=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,xl.wk)||this).VW("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.CU("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}Rt(n,t);var i=n.prototype;return i.RU=function(){var n=t.prototype.RU.call(this);if(!n)return n;var i=qn.Nh(n),r=this.rU;return y_(r)&&_d(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.MU=function(n){return y_(this.rU)?ut.resolve(this.rU.contentId):t.prototype.MU.call(this,n)},i.eU=function(t){return Zt((function(){return Ht(this,(function(n){return[2,t]}))}))()},i.iU=function(t){return new I(t)},i.JW=function(n,i){var r=n;return y_(this.rU)&&(r=function(t,n){return us({},W_(t,n),{KeyId:t.keyId})}(this.rU,r)),t.prototype.JW.call(this,r,i)},xt(n,[{key:"NU",get:function(){return vb.xU}}]),n}(lb);U(),St(),Gt(),Ct(),Jt();var bb=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,xl.Ak)||this,!p_(i))throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.VW("https://connect.conax.com:8097/license"),u}Rt(n,t);var i=n.prototype;return i.QW=function(){var n=t.prototype.QW.call(this);return X_(this.rU,"FairPlay",n)},i.BU=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return i=n.RU(),r={Gu:i,Yk:xl.wk,jk:{},yE:fd.GET,kE:!1,Nk:null,bE:0,Vw:t,Aw:vd.nE,SE:ld.hE},[4,n.lR.Kk(r)];case 1:return[4,u.sent().Ck()];case 2:return e=u.sent(),[2,new I(e)]}}))}))()},i.eU=function(t){return Zt((function(){return Ht(this,(function(n){return[2,t]}))}))()},i.MU=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring(6,i):t.substring(6),ut.resolve(function(t){return dc(Sa(t))}(n))):ut.resolve("unknown")},i.iU=function(t){try{var n=JSON.parse(t);return new I(Zc(n.CkcMessage))}catch(t){throw new y("CFLRW-66")}},n}(lb);U(),St(),Ct();var kb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,xl.Ak)||this).VW(v_[Ds.ww]),u}Rt(n,t);var i=n.prototype;return i.MU=function(t){return Zs(t,"skd://")?ut.resolve(t.substring(6,40)):ut.reject(new em(el.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},i.PU=function(t,n){return"spc="+Ra(t)+"&assetId="+n},n}(lb);U(),St(),Dt(),Ct();var Ab=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,xl.Ak)||this).VW("https://lic.drmtoday.com/license-server-fairplay/"),u}Rt(n,t);var i=n.prototype;return i.PU=function(t,n){var i="spc="+encodeURIComponent(Ra(t))+"&"+encodeURI(n);return"persistent"===this.GW.licenseType?i+"&offline=true":i},i.QW=function(){return Y_(t.prototype.QW.call(this),this.mU,this.rU)},xt(n,[{key:"mU",get:function(){return z_(this.rU)}}]),n}(lb);U(),St(),Gt(),Dt(),Ct(),Jt();var Tb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,xl.wk)||this}Rt(n,t);var i=n.prototype;return i.MU=function(t){var n=t;return Zs(n,"skd:")&&(n="http:"+n.substring(4)),Zs(n,"http:")||Zs(n,"https:")?ut.resolve(qn.Nh(n).hostname):ut.reject(new y("Could not parse ExpressPlay FairPlay content ID."))},i.eU=function(t){return Zt((function(){return Ht(this,(function(n){return[2,t]}))}))()},i.iU=function(t){return new I(t)},xt(n,[{key:"NU",get:function(){return vb.xU}}]),n}(lb);U(),St(),Ct();var Sb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,xl.Ak)||this}return Rt(n,t),n.prototype.QW=function(){var n=t.prototype.QW.call(this),i=this.rU.token;return n.set("Authorization","Bearer "+i),n},n}(lb);U(),St(),Gt(),Dt(),Ct(),Jt();var Eb=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,xl.yk)||this,!S_(i))throw new y("Invalid Xstream DRM configuration");return u}Rt(n,t);var i=n.prototype;return i.BU=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return i=n.RU(),r=n.QW(),e={Gu:i,Yk:xl.yk,jk:r,yE:fd.POST,Vw:t,Aw:vd.nE,SE:ld.hE},[4,n.lR.Kk(e)];case 1:return[4,s.sent().xk()];case 2:return u=s.sent(),[2,new I(Sa(u.certificate))]}}))}))()},i.uU=function(t,n,i){void 0===i&&(i=xl.Ak);var r=this;return Zt((function(){var i,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return i=Ra(t),[4,J_(r.rU,"fairplay",r.lR,n)];case 1:return e=o.sent(),u=gc(JSON.stringify({spc:i,ticket:e.ticket})),s={Gu:r.ZW(),Yk:xl.yk,jk:r.QW(),yE:fd.POST,Nk:u,bE:0,Vw:n,Aw:vd.nE,SE:ld.oE},[4,r.lR.Kk(s)];case 2:return[4,o.sent().xk()];case 3:return[2,Sa(o.sent().licence)]}}))}))()},xt(n,[{key:"NU",get:function(){return vb.yk}}]),n}(lb);U(),St(),Ct();var Ib=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,xl.Ak)||this}Rt(n,t);var i=n.prototype;return i.PU=function(t,n){return Ra(t)},i.iU=function(n){if(0===n.length)throw new em(el.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.iU.call(this,n)},i.QW=function(){var n=t.prototype.QW.call(this);return n.set("Content-Type","text/plain"),n},n}(lb);U(),St(),Dt(),Ct();var Rb=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,xl.wk)||this}Rt(n,t);var i=n.prototype;return i.PU=function(t,n){return t},i.iU=function(t){return new I(t)},i.QW=function(){if(!E_(this.rU))throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var n=t.prototype.QW.call(this);return n.set("X-AxDRM-Message",this.rU.token),n},xt(n,[{key:"NU",get:function(){return vb.yk}}]),n}(lb);U(),St(),Dt(),Ct();var Cb=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,xl.yk)||this).VU=void 0,u}Rt(n,t);var i=n.prototype;return i.PU=function(t,n){var i={spc:Ra(t)};return JSON.stringify(i)},i.MU=function(t){var n=qn.Nh(t);return this.VU=t,n.searchParams.has("b")?ut.resolve(n.searchParams.get("b")):ut.reject(new em(el.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},i.JW=function(n,i){var r=this.ZW();return!r&&this.VU&&(r=this.VU),r&&(r=r.replace("skd://","https://")),t.prototype.JW.call(this,n,i||r)},i.iU=function(t){try{var n;if((n=ni(t)?JSON.parse(t.trim()):t).ckc)return Sa(n.ckc)}catch(t){throw new em(el.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new em(el.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},xt(n,[{key:"NU",get:function(){return vb.Ak}}]),n}(lb);U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Jt(),U(),St();var Nb=function(){function t(t,n){this.UU=t,this.HU=n}var n=t.prototype;return n.WU=function(t){return this.UU(t)},n.GU=function(t,n){throw new _(n+" must be "+this.HU+". (Received: "+t+")")},t}(),xb=(new Nb((function(t){return!0}),"any"),new Nb(ui,"a number")),Db=new Nb(ni,"a string"),Pb=new Nb(ii,"a boolean"),Mb=(new Nb(ei,"a date"),new Nb(Kn,"undefined")),Bb=new Nb($n,"an object"),Ob=new Nb((function(t){return null===t}),"null");new Nb((function(t){return null==t}),"null or undefined");function Lb(t,n){throw new _(n+" has an incorrect type")}var Fb=function(){function t(t){this.Rp=t}var n=t.prototype;return n.WU=function(t){if(!$n(t))return!1;for(var n=0,i=k.keys(this.Rp);n<i.length;n++){var r=i[n];if(!this.Rp[r].WU(t[r]))return!1}return!0},n.GU=function(t,n){if(!$n(t))throw new _(n+" must be an object.");for(var i=0,r=k.keys(this.Rp);i<r.length;i++){var e=r[i],u=this.Rp[e];if(!u.WU(t[e]))return u.GU(t[e],n+"."+String(e))}throw new _},t}();function Vb(t){return new Fb(t)}function Ub(t){return k.keys(t).map((function(n){return t[n]}))}var Wb=function(){function t(t){this.g_=t}var n=t.prototype;return n.WU=function(t){return Ao(this.g_,t)},n.GU=function(t,n){return Lb(0,n)},t}();function jb(t){return new Wb(t)}var Zb=function(){function t(t){this.ZU=t}var n=t.prototype;return n.WU=function(t){return this.ZU.some((function(n){return n.WU(t)}))},n.GU=function(t,n){return Lb(0,n)},t}();function Xb(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return new Zb(n)}var Gb=function(){function t(t){this.XU=t}var n=t.prototype;return n.WU=function(t){var n=this;return Jn(t)&&t.every((function(t){return n.XU.WU(t)}))},n.GU=function(t,n){if(!Jn(t))throw new _(n+" must be an array.");for(var i=0;i<t.length;i++){var r=t[i];this.XU.WU(r)||this.XU.GU(r,n+"["+i+"]")}return Lb(0,n)},t}();function Hb(t){return new Gb(t)}var zb=function(){function t(t){this.XU=t}var n=t.prototype;return n.WU=function(t){var n=this;return $n(t)&&k.keys(t).every((function(i){return n.XU.WU(t[i])}))},n.GU=function(t,n){if(!$n(t))throw new _(n+" must be an object.");for(var i=0,r=k.keys(t);i<r.length;i++){var e=r[i];if(!this.XU.WU(t[e]))return this.XU.GU(t[e],n+"."+e)}return Lb(0,n)},t}();function Yb(t){return new zb(t)}var Kb=function(){function t(t){this.XU=Ri(t)}var n=t.prototype;return n.WU=function(t){return this.XU().WU(t)},n.GU=function(t,n){return this.XU().GU(t,n)},t}();var qb=Vb({responseCode:xb,isException:Pb,description:Db,title:Db,correlationId:Db});function Jb(t,n,i,r,e){return Qb.apply(this,arguments)}function Qb(){return Qb=Zt((function(t,n,i,r,e){var u;return Ht(this,(function(s){switch(s.label){case 0:return u=function(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(yd(i,e)),s=new Dl({});s.append("Content-Type","application/json");var o=Ra(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{Gu:u,Yk:xl.Ak,jk:s,yE:fd.POST,Nk:JSON.stringify(a),Vw:r,Aw:vd.nE,SE:ld.oE}}(t,n,i,e),[4,$b(u,r)];case 1:return[2,s.sent()]}}))})),Qb.apply(this,arguments)}function $b(t,n){return tk.apply(this,arguments)}function tk(){return tk=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.Kk(t)];case 1:return[4,r.sent().xk()];case 2:if(i=r.sent(),qb.WU(i))throw new em(el.CONTENT_PROTECTION_LICENSE_ERROR,i.description,void 0,t.Gu,i.responseCode);return[2,Sa(i.getFairplayLicenseResponse.ckcResponse)]}}))})),tk.apply(this,arguments)}var nk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,xl.wk)||this).zU=i,u}Rt(n,t);var i=n.prototype;return i.MU=function(n){var i=n.replace("FairPlay",this.zU.releasePid);return t.prototype.MU.call(this,i)},i.uU=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,Jb(t,i.zU,i.ZW(),i.lR,n)];case 1:return[2,r.sent()]}}))}))()},n}(lb);U(),St(),Gt(),Ct(),Jt();var ik=function(t){function n(n,i,r){return t.call(this,Ls,n,i,r,xl.wk)||this}Rt(n,t);var i=n.prototype;return i.hU=function(t){return t.clearkey||{}},i.YW=function(n,i,r,e){var u=this;return Zt((function(){var i,s;return Ht(this,(function(o){if(i=u.GW,u.ZW())return[2,t.prototype.YW.call(u,n,u.nU,r,e)];if(i.keys&&i.keys.length)return s={keys:i.keys.map((function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}}))},[2,bc(JSON.stringify(s)).buffer];throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.")}))}))()},i.aU=function(t,n){return ut.resolve(new I(0))},i.uU=function(n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,t.prototype.sU.call(r,n,ld.lE,i)];case 1:if(e=c.sent(),(u=JSON.parse(_c(e))).keys)for(s=0,o=u.keys;s<o.length;s++)(a=o[s]).k&&(a.k=Ca(a.k)),a.kid&&(a.kid=Ca(a.kid));return[2,bc(JSON.stringify(u))]}}))}))()},n}(n_);U(),St(),Ct();var rk=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n}(e_);U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Jt();var ek={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function uk(t,n,i){return sk.apply(this,arguments)}function sk(){return sk=Zt((function(t,n,i){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=_k(n),(e=t.onCertificateRequest)&&"function"==typeof e?[4,Go(ut.resolve(e.call(t,r)),i)]:[2,ut.resolve(n)];case 1:return Ic(u=s.sent())?[2,Rc(u)]:[2,yk(us({},ek,u))]}}))})),sk.apply(this,arguments)}function ok(t,n,i,r,e){return ak.apply(this,arguments)}function ak(){return ak=Zt((function(t,n,i,r,e){var u,s;return Ht(this,(function(o){switch(o.label){case 0:return u=t.onCertificateResponse,s=pk(n,i,r),u&&"function"==typeof u?[4,Go(ut.resolve(u.call(t,s)),e)]:[2,ut.resolve(n)];case 1:return[2,Rc(o.sent())]}}))})),ak.apply(this,arguments)}function ck(t,n,i,r){return hk.apply(this,arguments)}function hk(){return hk=Zt((function(t,n,i,r){var e;return Ht(this,(function(u){switch(u.label){case 0:return[4,lk(t,n,i,r)];case 1:return(e=u.sent())instanceof ArrayBuffer?[2,e]:[2,yk(e)]}}))})),hk.apply(this,arguments)}function fk(t,n,i,r,e,u){return vk.apply(this,arguments)}function vk(){return vk=Zt((function(t,n,i,r,e,u){var s;return Ht(this,(function(o){switch(o.label){case 0:return s=wk(i,e),[4,gk(t,new I(n),s,r,u)];case 1:return[2,Rc(o.sent())]}}))})),vk.apply(this,arguments)}function lk(t,n,i,r){return dk.apply(this,arguments)}function dk(){return dk=Zt((function(t,n,i,r){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return e=null==t?void 0:t.onLicenseRequest,u=wk(n,i),e&&"function"==typeof e?[4,Go(ut.resolve(e.call(t,u)),r)]:[2,ut.resolve(u)];case 1:return Ic(s=o.sent())?[2,Rc(s).buffer]:[2,us({fairplaySkdUrl:void 0},ek,s)]}}))})),dk.apply(this,arguments)}function gk(t,n,i,r,e){return mk.apply(this,arguments)}function mk(){return mk=Zt((function(t,n,i,r,e){var u,s;return Ht(this,(function(o){switch(o.label){case 0:return u=null==t?void 0:t.onLicenseResponse,s=pk(n,i,r),u&&"function"==typeof u?[4,Go(ut.resolve(u.call(t,s)),e)]:[2,ut.resolve(n)];case 1:return[2,Rc(o.sent())]}}))})),mk.apply(this,arguments)}function wk(t,n){return us({},_k(t),{fairplaySkdUrl:n})}function pk(t,n,i){return{url:i.$k,status:i.zk,statusText:i.Qk,headers:i.jk.Sk(),body:t,request:n}}function yk(t){return new md({Gu:t.url,yE:t.method,jk:t.headers,Nk:t.body,kE:t.useCredentials,Aw:vd.nE})}function _k(t){var n;return{url:t.Gu,body:null!=(n=bk(t.Nk))?n:null,headers:t.jk.Sk(),method:t.yE,useCredentials:t.kE}}function bk(t){if(t)return"string"==typeof t?bc(t):t instanceof ArrayBuffer?new I(t):Oc(t)?Ec(t):void 0}var kk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).qU=e,u}Rt(n,t);var i=n.prototype;return i.aU=function(t,n){return ut.resolve(t)},i.uU=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,i.wU(Nc(t).buffer)];case 1:return r=c.sent(),e=i.KW(r,xl.wk,ld.cE,n),[4,ck(i.qU,e,void 0,n)];case 2:if((u=c.sent())instanceof ArrayBuffer)return[2,new I(u)];if(""===u.Gu)throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");c.label=3;case 3:return c.trys.push([3,7,,8]),[4,i.lR.Kk(u)];case 4:return[4,(s=c.sent()).Ck(n)];case 5:return o=c.sent(),[4,fk(i.qU,o,e,s,void 0,n)];case 6:return[2,c.sent()];case 7:throw Zo(a=c.sent()),new em(el.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a);case 8:return[2]}}))}))()},n}(ib);U(),St(),Gt(),Ct(),Jt();var Ak=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,xl.wk)||this).qU=e,u}Rt(n,t);var i=n.prototype;return i.aU=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return i.UW?[2,i.UW]:(r=i.KW(t,xl.wk,ld.uE,n),[4,uk(i.qU,r,n)]);case 1:if((e=c.sent())instanceof I)return[2,e];if(""===e.Gu)throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");c.label=2;case 2:return c.trys.push([2,5,,6]),[4,i.lR.Kk(e)];case 3:return[4,(u=c.sent()).Ck(n)];case 4:return s=c.sent(),[3,6];case 5:throw Zo(o=c.sent()),new em(el.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",o);case 6:return a=wk(r,void 0),[4,ok(i.qU,new I(s),a,u,n)];case 7:return[2,c.sent()]}}))}))()},i.uU=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r=i.KW(t,xl.wk,ld.aE,n),[4,ck(i.qU,r,void 0,n)];case 1:if((e=a.sent())instanceof ArrayBuffer)return[2,new I(e)];if(""===e.Gu)throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.lR.Kk(e)];case 3:return[4,(u=a.sent()).Ck(n)];case 4:return s=a.sent(),[4,fk(i.qU,s,r,u,void 0,n)];case 5:return[2,a.sent()];case 6:throw Zo(o=a.sent()),new em(el.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o);case 7:return[2]}}))}))()},n}(rk);U(),St(),Gt(),Ct(),Jt();var Tk=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,xl.wk)||this).qU=u,s}Rt(n,t);var i=n.prototype;return i.aU=function(t,n){var i=this;return Zt((function(){var t,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return i.UW?[2,i.UW]:(t=i.OU(n),[4,uk(i.qU,t,n)]);case 1:if(r=a.sent(),Oc(r))return[2,r];a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.lR.Kk(r)];case 3:return[4,(e=a.sent()).Ck()];case 4:return u=a.sent(),s=wk(t,void 0),[4,ok(i.qU,new I(u),s,e,n)];case 5:return[2,a.sent()];case 6:throw Zo(o=a.sent()),new em(el.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",o);case 7:return[2]}}))}))()},i.uU=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r=i.KW(t,xl.wk,ld.oE,n),[4,ck(i.qU,r,i.YU,n)];case 1:if((e=a.sent())instanceof ArrayBuffer)return[2,new I(e)];if(""===e.Gu)throw new em(el.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");a.label=2;case 2:return a.trys.push([2,6,,7]),[4,i.lR.Kk(e)];case 3:return[4,(u=a.sent()).Ck(n)];case 4:return s=a.sent(),[4,fk(i.qU,s,r,u,i.YU,n)];case 5:return[2,a.sent()];case 6:throw Zo(o=a.sent()),new em(el.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o);case 7:return[2]}}))}))()},i.MU=function(n){var i;return this.YU=n,(null==(i=this.qU)?void 0:i.extractFairplayContentId)?ut.resolve(this.qU.extractFairplayContentId(n)):t.prototype.MU.call(this,n)},n}(lb),Sk=function(){function t(){}var n=t.prototype;return n.KU=function(t,n,i,r){switch(t.aT.Aw){case Ds.gw:return this.jU(n,i,r);case Ds.mw:return this.QU(n,i,r);case Ds.ww:return this.JU(t,n,i,r);case Ds.pw:default:return this.$U(n,i,r)}},n.jU=function(t,n,i){var r=function(t){return t.integration===t_&&ni(t.customIntegrationId)}(t)?t.customIntegrationId:t.integration;if(r&&f_._P.lP(r,As)){var e=f_._P.fP(r,As,t);return new Ak(t,n,i,e)}switch(r){case Vy:return new V_(t,n,i);case Zy:return new U_(t,n,i);case jy:return new j_(t,n,i);case Uy:return new G_(t,n,i);case Hy:return new K_(t,n,i);case Yy:return new q_(t,n,i);case Ky:return new $_(t,n,i);case Jy:return new tb(t,n,i);default:return new rk(t,n,i,xl.wk)}},n.QU=function(t,n,i){var r=t.integration;if(r&&f_._P.lP(r,_s)){var e=f_._P.fP(r,_s,t);return new kk(t,n,i,e)}switch(r){case Vy:return new eb(t,n,i);case Zy:return new sb(t,n,i);case jy:return new ob(t,n,i);case Uy:return new ab(t,n,i);case Hy:return new cb(t,n,i);case Ky:return new hb(t,n,i);case Jy:return new fb(t,n,i);default:return new ib(t,n,i)}},n.JU=function(t,n,i,r){var e=n.integration;if(e&&f_._P.lP(e,Rs)){var u=f_._P.fP(e,Rs,n);return new Tk(t,n,i,r,u)}switch(e){case Wy:return new db(t,n,i,r);case Zy:return new gb(t,n,i,r);case Xy:return new pb(t,n,i,r);case Vy:return new yb(t,n,i,r);case jy:return new _b(t,n,i,r);case Uy:return new bb(t,n,i,r);case Gy:return new kb(t,n,i,r);case Hy:return new Ab(t,n,i,r);case zy:return new Tb(t,n,i,r);case Yy:return new Sb(t,n,i,r);case Ky:return new Eb(t,n,i,r);case qy:return new Ib(t,n,i,r);case Jy:return new Rb(t,n,i,r);case Qy:return new Cb(t,n,i,r);case $y:return new nk(t,n,i,r);default:return new lb(t,n,i,r,xl.Ak)}},n.$U=function(t,n,i){return new ik(t,n,i)},n.tG=function(t){return t.Aw===Ds.mw||t.Aw===Ds.gw||t.Aw===Ds.ww||t.Aw===Ds.pw},n.gT=function(t,n){var i;if(t.Aw!==Ds.mw)return!1;if(Yn(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!f_._P.lP(r,Rs))&&(r===Vy&&new rb(n).gT)},n.dU=function(t,n){if(t.Aw===Ds.gw){var i=n.integration;if(!i||!f_._P.lP(i,Rs))return i===Vy?V_.dU():void 0}},t}();U(),St(),U(),St(),Dt(),Ct();var Ek=function(t){function n(n){var i;return(i=t.call(this,zp.da)||this).errorObject=n,i}return Rt(n,t),n.prototype.ba=function(){return this},xt(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(yg);U(),St(),U(),St(),on();var Ik="theoplayer-stored-network-info-v2",Rk=25e5,Ck=function(){function t(){var t=this;this.iG=Nl,this.oG=void 0,this.hG=Ei((function(){var n,i=sn({},t.iG,{availableBandwidth:t.oG,storedTimestamp:pr()});null==(n=qn.oR)||n.Mb(Ik,JSON.stringify(i))}),1e4)}var n=t.prototype;return n.eG=function(t){var n,i=null==(n=qn.oR)?void 0:n.Nb(t);if(void 0!==i){var r=JSON.parse(i);if(void 0!==r&&void 0!==r[this.iG]){if(!this.sG(r))return r[this.iG].availableBandwidth;var e;null==(e=qn.oR)||e.Mb(t,JSON.stringify({}))}}},n.nG=function(){var t=this.eG(Ik);if(void 0!==t)return t;var n=this.eG("theoplayer-stored-network-info");return n?8*n:void 0},n.sG=function(t){var n=t[this.iG].storedTimestamp;return!!n&&pr()-n>36e5},n.rG=function(t){this.oG=t,this.hG()},n.aG=function(){var t;return null!=this.oG||(this.oG=null!=(t=this.nG())?t:Rk),this.oG},t}();Ck.Fg=new Ck,U(),St();var Nk=function(t){return t[t.uG=0]="uG",t[t.cG=1]="cG",t[t.lG=2]="lG",t[t.dG=3]="dG",t[t.fG=4]="fG",t[t._G=5]="_G",t[t.zC=6]="zC",t[t.vG=7]="vG",t[t.mG=8]="mG",t[t.jC=9]="jC",t[t.gG=10]="gG",t[t.QC=11]="QC",t[t.pG=12]="pG",t}({});U(),St(),Dt();var xk=function(){function t(){}return t.prototype.bG=function(t){},xt(t,[{key:"wG",get:function(){return 0}},{key:"yG",get:function(){return 0}}]),t}();U(),St(),Ct(),U(),St(),Ct();var Dk=function(t){function n(n){var i;return(i=t.call(this,"contentProtectionsTracked")||this).AG=n,i}return Rt(n,t),n}(ha),Pk=function(t){function n(n,i){var r;return void 0===i&&(i=new Sk),(r=t.call(this)||this).AU=void 0,r.lW=n,r.TG=i,r}Rt(n,t);var i=n.prototype;return i.SG=function(t){this.AU=t},i.dU=function(t){var n=this.AU;if(void 0!==n)return this.TG.dU(t,n)},i.gT=function(t){var n=this.AU;return void 0!==n&&this.TG.gT(t,n)},i.kG=function(t){var n={aT:t.aT,EG:t.EG||[],xG:t.xG,FU:t.FU},i=this.TG.KU(n,this.AU||{},t.oU,this.lW);return n.xG&&i.VW(n.xG),new Mk(i)},i.IG=function(t){t&&(go(t,(function(t){return void 0!==t.oU}))&&this.wo(new Dk(t)))},n}(oa),Mk=function(){function t(t){this.CG=t}var n=t.prototype;return n.zW=function(t){return this.CG.zW(t)},n.qW=function(t,n,i){return this.CG.qW(n,i)},n.XW=function(){return this.CG.XW||void 0!==this.CG.UW},n.aU=function(t,n){return this.CG.aU(t,n)},n.uU=function(t,n,i){return n&&this.CG.VW(n),this.CG.uU(t,i)},n.Hw=function(){this.CG.gn()},t}();U(),St(),Ct();var Bk=function(t){function n(n){var i;(i=t.call(this)||this).NG=[],i.VG=function(t){i.tt(t.Ht)},i.WG=function(t){var n=t.Ht;i.FG(n)||i.it(n)};for(var r=0;r<n.length;r++){var e=n[r];i.DG(e)}return i}Rt(n,t);var i=n.prototype;return i.DG=function(t){this.NG.push(t);for(var n=0,i=t.uC;n<i.length;n++){var r=i[n];this.tt(r)}this.MG(t)},i.BG=function(t){_o(this.NG,t),this.OG(t);for(var n=0,i=t.uC;n<i.length;n++){var r=i[n];this.FG(r)||this.it(r)}},i.FG=function(t){for(var n=0,i=this.NG;n<i.length;n++){if(i[n].dC(t))return!0}return!1},i.MG=function(t){t.yn(Ag.OI,this.VG),t.yn(Ag.VI,this.WG)},i.OG=function(t){t.fn(Ag.OI,this.VG),t.fn(Ag.VI,this.WG)},i.gn=function(){for(;this.NG.length>0;)this.BG(this.NG[0]);t.prototype.gn.call(this)},i.ba=function(){return Jp(this)},n}(Cg);U(),St(),Dt(),U(),St();var Ok,Lk={forceSeekOffset:0,maximumOffset:0,maximumPlaybackRate:0,minimumOffset:0,minimumPlaybackRate:0,targetOffset:0},Fk=function(){function t(){}var n=t.prototype;return n.Ma=function(t){this.GG=t,void 0!==this.He&&(this.GG.Rt=this.He)},n.er=function(){this.GG=void 0,this.He=void 0},xt(t,[{key:"ka",get:function(){return null!=this.su||(this.su=function(t){return{get enabled(){return t.Rt},set enabled(n){t.Rt=Ug(n)},get monitoringLivePlayback(){return t.UG},get currentLatency(){return t.qB},get currentConfiguration(){return function(t){if(void 0!==t)return{get minimumOffset(){return t.minimumOffset},get maximumOffset(){return t.maximumOffset},get targetOffset(){return t.targetOffset},get forceSeekOffset(){return t.forceSeekOffset},get minimumPlaybackRate(){return t.minimumPlaybackRate},get maximumPlaybackRate(){return t.maximumPlaybackRate}}}(t.bd)}}}(this)),this.su}},{key:"Rt",get:function(){var t,n;return null!=(n=this.He)?n:Boolean(null==(t=this.GG)?void 0:t.Rt)},set:function(t){this.He=t,this.GG&&(this.GG.Rt=t)}},{key:"UG",get:function(){var t,n;return null!=(n=null==(t=this.GG)?void 0:t.gB)&&n}},{key:"qB",get:function(){var t;return null==(t=this.GG)?void 0:t.zB}},{key:"bd",get:function(){return this.GG?this.GG.pB:Lk}}]),t}();var Vk=!(!f||!f.TextTrack),Uk=function(t){function n(n,i,r,e,u,s,o,a){var c;return void 0===o&&(o=new Sk),void 0===a&&(a=Tl()),(c=t.call(this)||this).jG=void 0,c.Cc=void 0,c.zG=void 0,c.qG=void 0,c.tH=new xk,c.JG=new Fk,c.SH=function(t){var n=t.lt,i=n.code,r=new sl(fm(i),"Something went wrong during native playback.",n),e=new sm(i,r.message,n.message);c.MH(r,e)},c.jc=function(){c.wo(new pg(c.SR,c.wR))},c.bH=function(t){c.qR||(c.XG=void 0),c.wo(t)},c.HB=function(t){c.XG=void 0},c.kH=function(){c.wo(new Cm(c.OR))},c.AH=function(){c.fI>0&&c.cI>0&&c.wo(new Ty)},c.RH=function(t){var n=c.FB.YG.audioTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];Zk(c.aO,r)||c.aO.tt(new Em(r))}},c.IH=function(t){var n=[],i=c.FB.YG.audioTracks;if(i){for(var r=0,e=c.aO.uC;r<e.length;r++){var u=e[r];Xk(i,u.IO)||n.push(u)}for(var s=0;s<n.length;s++){var o=n[s];c.aO.it(o)}}},c.CH=function(){c.oh(c.aO)},c.PH=function(t){var n=c.FB.YG.videoTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];Zk(c.cO,r)||c.cO.tt(new Rm(r))}},c.DH=function(t){var n=[],i=c.FB.YG.videoTracks;if(i){for(var r=0,e=c.cO.uC;r<e.length;r++){var u=e[r];Xk(i,u.IO)||n.push(u)}for(var s=0;s<n.length;s++){var o=n[s];c.cO.it(o)}}},c.NH=function(){c.oh(c.cO)},c.TH=function(t){c.wo(t),c.MH(t.errorObject,am(t.errorObject))},c.wH=i,c.lW=r,c.Pw=a,c.FB=c.wH.LH(im._E),c.KG=c.FB.YG.preload,c._H=new Ly(c.FB,!0),c._H.yn(Iy,c.Ds),c.rH=new Pk(r,o),c.FB.gH=c.rH,c.yH(),c.aO=new nm,c.cO=new nm,c.xH(),c.cH=new py(c.FB,c.lW),c.Ll=new Bk([c.FB.nt]),c.ge(),c}Rt(n,t);var i=n.prototype;return i.ER=function(t,n){this.OR&&(this.XG=t),this.FB.Eb(t)},i.be=function(){this.FB.be()},i.ge=function(){this.FB.ge()},i.xa=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return jo(i),r.Cc=t,e={Aw:Sy.mW,OC:t.src,Dk:t.type,eH:r.iH(t),tI:r.KG,sH:t.crossOrigin,nH:n.metadata&&n.metadata.title},r.rH.SG(t.contentProtection),[4,r.FB.Dn(e)];case 1:return r.jG=u.sent(),jo(i),n.textTracks&&r.oH(n.textTracks),Ay(r.nt),[2]}}))}))()},i.oH=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.FB.hH()&&Gn.iu&&Vk&&!hy(i.kind,i.label)&&this.aH(i)){var r,e=null!=(r=i.kind)?r:$p.jV;this.FB.uH(i.src,e,i.label,i.srclang,i.default)}else{if(void 0===i.src)continue;this.cH.aW(i)}}},i.aH=function(t){return!t.format||"webvtt"===t.format},i.kI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.FB.kI()];case 1:case 4:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return t.HG?[3,5]:[4,t.FB.vy(fa.Xy)];case 5:return[2]}}))}))()},i.TI=function(){this.FB.TI()},i.xI=function(){return void 0!==this.FB.YG.webkitShowPlaybackTargetPicker},i.RI=function(){this.FB.YG.webkitShowPlaybackTargetPicker&&this.FB.YG.webkitShowPlaybackTargetPicker()},i.II=function(){this.FB.YG.webkitShowPlaybackTargetPicker&&this.FB.YG.webkitShowPlaybackTargetPicker()},i.AI=function(){return this.FB.YG},i.bI=function(){return this.FB.Ca},i.Sa=function(){return this.FB.lH},i.LI=function(t){return this.FB.dH(t)},i.er=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Cc=void 0,t.zG=void 0,t.qG=void 0,t.jG=void 0,[4,t.cH.er()];case 1:return n.sent(),t.FB.fH(),[4,t.FB.er()];case 2:return n.sent(),t._H.er(),t.tI=t.KG,t.ht.er(),t.rt.er(),t.XG=void 0,[2]}}))}))()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.er()];case 1:return n.sent(),t.$o(),t.vH(),t.mH(),t._H.gn(),t.FB.gH=void 0,[4,t.wH.pH(t.FB)];case 2:return n.sent(),t.aO.gn(),t.cO.gn(),t.Ll.gn(),[4,t.cH.gn()];case 3:return n.sent(),[2]}}))}))()},i.yH=function(){this.FB.yn(fa.ro,this.Ds),this.FB.yn(fa.Zy,this.Ds),this.FB.yn(fa.sb,this.jc),this.FB.yn(fa.Xy,this.Ds),this.FB.yn(fa.Vy,this.Ds),this.FB.yn(fa.jy,this.Ds),this.FB.yn(fa.Ky,this.bH),this.FB.yn(fa.Cy,this.Ds),this.FB.yn(fa.zy,this.Ds),this.FB.yn(fa.ob,this.Ds),this.FB.yn(fa.xy,this.Ds),this.FB.yn(fa.Yy,this.AH),this.FB.yn(Ey.VL,this.HB),this.FB.yn(zp.da,this.SH),this.FB.yn(fa.Sy,this.Ds),this.FB.yn(fa.Ay,this.TH),this.FB.YG.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.kH)},i.vH=function(){this.FB.fn(fa.ro,this.Ds),this.FB.fn(fa.Zy,this.Ds),this.FB.fn(fa.sb,this.jc),this.FB.fn(fa.Xy,this.Ds),this.FB.fn(fa.Vy,this.Ds),this.FB.fn(fa.jy,this.Ds),this.FB.fn(fa.Ky,this.bH),this.FB.fn(fa.Cy,this.Ds),this.FB.fn(fa.zy,this.Ds),this.FB.fn(fa.ob,this.Ds),this.FB.fn(fa.xy,this.Ds),this.FB.fn(fa.Yy,this.AH),this.FB.fn(Ey.VL,this.HB),this.FB.fn(zp.da,this.SH),this.FB.fn(fa.Sy,this.Ds),this.FB.fn(fa.Ay,this.TH),this.FB.YG.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.kH)},i.iH=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{aT:Bs,EH:[{initDataTypes:[Bs.Tw],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.xH=function(){var t=this.FB.YG.audioTracks,n=this.FB.YG.videoTracks;t&&(t.addEventListener("addtrack",this.RH),t.addEventListener("removetrack",this.IH),t.addEventListener("change",this.CH)),n&&(n.addEventListener("addtrack",this.PH),n.addEventListener("removetrack",this.DH),n.addEventListener("change",this.NH))},i.mH=function(){var t=this.FB.YG.audioTracks,n=this.FB.YG.videoTracks;t&&(t.removeEventListener("addtrack",this.RH),t.removeEventListener("removetrack",this.IH),t.removeEventListener("change",this.CH)),n&&(n.removeEventListener("addtrack",this.PH),n.removeEventListener("removetrack",this.DH),n.removeEventListener("change",this.NH))},i.oh=function(t){for(var n=0;n<t.V;n++){t.lC(n).PO()}},i.CI=function(){this.FB.CI()},i.DI=function(){},i.MH=function(t,n){this.zG||(this.zG=n,this.qG=t,this.wo(new Ek(t)))},xt(n,[{key:"qB",get:function(){}},{key:"HG",get:function(){var t=this.FB.gR,n=this.SR;return t.kr(n,.01)}},{key:"ht",get:function(){return this.aO}},{key:"gR",get:function(){return this.FB.gR.ks()}},{key:"wR",get:function(){return this.FB.wR},set:function(t){t&&this.FB.ZG(t)}},{key:"bt",get:function(){return this.Cc}},{key:"SR",get:function(){return void 0!==this.XG?this.XG:this.FB.SR},set:function(t){this.ER(t)}},{key:"ct",get:function(){return this.FB.ct}},{key:"RR",get:function(){return this.FB.RR}},{key:"lt",get:function(){return this.zG}},{key:"DR",get:function(){return this.qG}},{key:"MR",get:function(){}},{key:"OR",get:function(){return this.FB.OR}},{key:"WR",get:function(){return us({},{dO:0,fO:0,_O:0,vO:0,mO:0,gO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.FB.UR())}},{key:"GR",get:function(){return this.FB.GR},set:function(t){this.FB.GR=t}},{key:"XR",get:function(){return!0}},{key:"qR",get:function(){return this.FB.qR}},{key:"KR",get:function(){return this.FB.KR},set:function(t){this.FB.KR=t}},{key:"JR",get:function(){return this.FB.YG.played}},{key:"tI",get:function(){return this.KG},set:function(t){this.KG=t,this.jG&&(this.jG.tI=t)}},{key:"sI",get:function(){return this.FB.sI}},{key:"rI",get:function(){return this.FB.rI.ks()}},{key:"hI",get:function(){return this.FB.hI}},{key:"QG",get:function(){return this.FB.QG}},{key:"nt",get:function(){return this.Ll}},{key:"rt",get:function(){return this.cO}},{key:"cI",get:function(){return this.FB.cI}},{key:"fI",get:function(){return this.FB.fI}},{key:"vI",get:function(){return this.FB.vI},set:function(t){this.FB.vI=t}},{key:"pI",get:function(){return this.JG}},{key:"yI",get:function(){return this.FB.yI},set:function(t){this.FB.yI=t}},{key:"$G",get:function(){return this.tH}}]),n}(ca);function Wk(t){var n,i;if(!(null==(n=(Ok||(Ok=f&&f.document&&f.document.createElement("video")),i=Ok).canPlayType)?void 0:n.call(i,t.type)))return!1;if(t.useNativePlayback)return!0;var r=Gn.iu||Gn.Ig;return!t.useManagedMediaSource||!r}var jk=function(){function t(){this.VH=Nk.pG}var n=t.prototype;return n.hP=function(t,n,i,r,e,u,s){return new Uk(t,n,i,r,e,u)},n.BH=function(t,n){return Wk(t)},n.OH=function(t){return N_(t)},n.FH=function(){return!1},t}();function Zk(t,n){for(var i=0,r=t.uC;i<r.length;i++){var e=r[i];if(e.IO===n)return e}}function Xk(t,n){for(var i=0;i<t.length;i++)if(t[i]===n)return!0;return!1}U(),St(),U(),St(),Dt();var Gk=function(){function t(t,n){var i=this;this.Lnt=!1,this.Bnt=function(t){i.Ont.iY(t.error,i.SR)},this.Fnt=function(){i.Ont.Jq(i.Mnt),i.ea.removeEventListener("playing",i.Fnt),i.Lnt=!1},this.js=function(){var t,n,r,e,u,s;(i.Lnt||(i.ea.addEventListener("playing",i.Fnt),i.Lnt=!0),null==(t=i.ea.ads)||t.removeEventListener("adbegin",i.Vnt),null==(n=i.ea.theoads)||n.removeEventListener("interstitialbegin",i.Wnt),null==(e=i.ea.source)||null==(r=e.ads)?void 0:r.some((function(t){return"theoads"===t.integration})))&&(null==(u=i.ea.ads)||u.addEventListener("adbegin",i.Vnt),null==(s=i.ea.theoads)||s.addEventListener("interstitialbegin",i.Wnt))},this.Vnt=function(t){"theoads"!==t.ad.integration||t.ad.isSlate||i.Ont.eY("ad")},this.Wnt=function(t){var n=t.interstitial;(function(t){return"adbreak"===t.type})(n)||i.Ont.eY(function(t){switch(t){case"adbreak":default:return"ad";case"overlay":return"overlay"}}(n.type))},this.Ont=n,this.ea=t,this.ea.addEventListener("error",this.Bnt),this.ea.addEventListener("sourcechange",this.js),this.js()}return t.prototype.er=function(){},xt(t,[{key:"SR",get:function(){var t=this.ea.currentTime;return isFinite(t)?t:"now"}},{key:"Mnt",get:function(){return this.ea.src||""}}]),t}();U(),St(),Ct(),U(),St(),Gt(),Dt(),Ct(),Jt();var Hk=function(t){function n(n,i){var r;return(r=t.call(this)||this).BI=function(t){r.MI(t)||r.wo(t)},r.ea=n,r.Nst=!i,r.$H(),r}Rt(n,t);var i=n.prototype;return i.Est=function(){return this.ea.hst},i.xst=function(){return this.ea.qc},i.Rst=function(){return this.ea.ust},i.bI=function(){return this.ea.Ca},i.Sa=function(){return this.ea.lH},i.Cst=function(){return this.ea.Ist},i.Dst=function(){return this.ea.Pst},i._R=function(){return this.ea.ht},i.pR=function(){return this.ea.pR()},i.yR=function(){return this.ea.wR},i.bR=function(t){this.ea.wR=t},i.AR=function(){return this.ea.bt},i.kR=function(){return this.ea.kR()},i.ER=function(t,n){this.ea.ER(t,n)},i.mst=function(){return this.ea.mst()},i.Sd=function(){return this.ea.Sd()},i.xR=function(){return this.ea.we},i.IR=function(){return this.ea.RR},i.PR=function(){return this.ea.PR()},i.NR=function(){return this.ea.NR()},i.LR=function(){return this.ea.MR},i.UR=function(){return this.ea.WR},i.HR=function(){return this.ea.GR},i.ZR=function(t){this.ea.ZR(t)},i.YR=function(){return this.ea.qR},i.jR=function(){return this.ea.KR},i.QR=function(t){this.ea.KR=t},i.$R=function(){return this.ea.$R()},i.eI=function(){return this.ea.tI},i.iI=function(t){this.ea.tI=t},i.nI=function(){return this.ea.sI},i.oI=function(){return this.ea.oI()},i.aI=function(){return this.ea.hI},i.uI=function(){return this.ea.nt},i.lI=function(){return this.ea.cI},i.dI=function(){return this.ea.rt},i._I=function(){return this.ea.fI},i.mI=function(){return this.ea.vI},i.gI=function(t){this.ea.gI(t)},i.SI=function(){this.ea.SI()},i.TI=function(){this.ea.TI()},i.kI=function(){this.ea.kI()},i.ge=function(){this.ea.ge()},i.be=function(){this.ea.be()},i.cs=function(){return this.ea.cs()},i.AI=function(){return this.ea.AI()},i.CI=function(){this.ea.CI()},i.DI=function(){this.ea.DI()},i.LI=function(t){return this.ea.LI(t)},i.Ma=function(){this.ea.Ma()},i.tu=function(){return this.ea.tu()},i.xa=function(t,n){return this.ea.xa(t,n)},i.EI=function(){return this.ea.EI()},i.MI=function(t){return!1},i.$H=function(){this.Nst&&this.ea.iy(this.BI)},i.tZ=function(){this.Nst&&this.ea._y(this.BI)},i.gn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.$o(),t?[3,2]:[4,n.ea.gn()];case 1:i.sent(),i.label=2;case 2:return n.tZ(),[2]}}))}))()},xt(n,[{key:"hst",get:function(){return this.Est()}},{key:"qc",get:function(){return this.xst()}},{key:"Ast",get:function(){return this.ea.Ast}},{key:"ust",get:function(){return this.Rst()}},{key:"bO",get:function(){return this.ea.bO},set:function(t){this.ea.bO=t}},{key:"yst",get:function(){return this.ea.yst}},{key:"xz",get:function(){return this.ea.xz}},{key:"vst",get:function(){return this.ea.vst}},{key:"bd",get:function(){return this.ea.bd}},{key:"Lu",get:function(){return this.ea.Lu}},{key:"Ca",get:function(){return this.bI()}},{key:"lH",get:function(){return this.Sa()}},{key:"lR",get:function(){return this.ea.lR}},{key:"pI",get:function(){return this.ea.pI}},{key:"gst",get:function(){return this.ea.gst}},{key:"tQ",get:function(){return this.ea.tQ}},{key:"HX",get:function(){return this.ea.HX}},{key:"wst",get:function(){return this.ea.wst}},{key:"dst",get:function(){return this.ea.dst}},{key:"ja",get:function(){return this.ea.ja}},{key:"zl",get:function(){return this.ea.zl}},{key:"Ist",get:function(){return this.Cst()}},{key:"Pst",get:function(){return this.Dst()}},{key:"xC",get:function(){return this.ea.xC}},{key:"Po",get:function(){return this.ea.Po}},{key:"ht",get:function(){return this._R()}},{key:"wR",get:function(){return this.yR()},set:function(t){this.bR(t)}},{key:"bt",get:function(){return this.AR()}},{key:"we",get:function(){return this.xR()}},{key:"RR",get:function(){return this.IR()}},{key:"MR",get:function(){return this.LR()}},{key:"yI",get:function(){return this.ea.yI},set:function(t){this.ea.yI=t}},{key:"WR",get:function(){return this.UR()}},{key:"GR",get:function(){return this.HR()},set:function(t){this.ZR(t)}},{key:"qR",get:function(){return this.YR()}},{key:"KR",get:function(){return this.jR()},set:function(t){this.QR(t)}},{key:"tI",get:function(){return this.eI()},set:function(t){this.iI(t)}},{key:"sI",get:function(){return this.nI()}},{key:"Ta",get:function(){return this.ea.Ta},set:function(t){this.ea.Ta=t}},{key:"hI",get:function(){return this.aI()}},{key:"nt",get:function(){return this.uI()}},{key:"cI",get:function(){return this.lI()}},{key:"rt",get:function(){return this.dI()}},{key:"fI",get:function(){return this._I()}},{key:"vI",get:function(){return this.mI()},set:function(t){this.gI(t)}}]),n}(ca),zk=function(t){return t[t.ou=0]="ou",t[t.Mst=1]="Mst",t[t.QC=2]="QC",t[t.Lst=3]="Lst",t[t.Bst=4]="Bst",t[t.Ost=5]="Ost",t}({}),Yk=[0,1,2,3,4,5],Kk={};function qk(t,n){(Kk[n]||(Kk[n]=[])).push(t)}var Jk={};function Qk(t,n){(Jk[n]||(Jk[n]=[])).push(t)}var $k=[];function tA(t){for(var n=0;n<$k.length;n++){(0,$k[n])(t)}}!function(t){$k.push(t)}((function(t){new Gk(t.ka,t.Ast)})),U(),St(),Ct(),U(),St(),Ct();var nA=function(){function t(){}return t.pk=function(){return t.Fg||(t.Fg=iA.pT()?new iA:new Sl),t.Fg},t.Bb=function(n){t.pk().Bb(n)},t.gk=function(){t.pk().gk()},t.Nb=function(n){return t.pk().Nb(n)},t.Mb=function(n,i){t.pk().Mb(n,i)},t.bQ=function(n){var i=t.Nb(n);if(void 0!==i)return S(i)},t.AQ=function(n){return"true"===t.Nb(n)},t}();nA.Fg=void 0;var iA=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.Bb=function(t){self.localStorage.removeItem(t)},i.gk=function(){self.localStorage.clear()},i.Nb=function(t){var n;return null!=(n=self.localStorage.getItem(t))?n:void 0},i.Mb=function(t,n){self.localStorage.setItem(t,n)},n.pT=function(){var t="foobar";try{return self.localStorage.setItem(t,t),self.localStorage.removeItem(t),!0}catch(t){}return!1},n}(nA),rA="theoplayer-stored-volume",eA="theoplayer-stored-mutedstate";qk((function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=nA.bQ(rA);(void 0===e||E(e))&&(e=1);var u=nA.AQ(eA)||!1;r.vI=e,r.GR=u}return r}Rt(n,t);var i=n.prototype;return i.ZR=function(n){this.bd.persistVolume&&nA.Mb(eA,""+Boolean(n)),t.prototype.ZR.call(this,n)},i.gI=function(n){this.bd.persistVolume&&nA.Mb(rA,""+Number(n)),t.prototype.gI.call(this,n)},n}(t)}),zk.ou),U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt();var uA=function(t){function n(n){var i;return(i=t.call(this)||this).BI=function(t){i.MI(t)||i.wo(t)},i.vR=n,n.iy(i.BI),i}Rt(n,t);var i=n.prototype;return i._R=function(){return this.vR.ht},i.mR=function(){return this.vR.mR()},i.pR=function(){return this.vR.gR},i.yR=function(){return this.vR.wR},i.bR=function(t){this.vR.wR=t},i.AR=function(){return this.vR.bt},i.kR=function(){return this.vR.SR},i.ER=function(t,n){this.vR.ER(t,n)},i.Sd=function(){return this.vR.ct},i.xR=function(){return this.vR.we},i.IR=function(){return this.vR.RR},i.PR=function(){return this.vR.lt},i.NR=function(){return this.vR.DR},i.LR=function(){return this.vR.MR},i.FR=function(){return this.vR.OR},i.UR=function(){return this.vR.WR},i.HR=function(){return this.vR.GR},i.ZR=function(t){this.vR.GR=t},i.zR=function(){return this.vR.XR},i.YR=function(){return this.vR.qR},i.jR=function(){return this.vR.KR},i.QR=function(t){this.vR.KR=t},i.$R=function(){return this.vR.JR},i.eI=function(){return this.vR.tI},i.iI=function(t){this.vR.tI=t},i.nI=function(){return this.vR.sI},i.oI=function(){return this.vR.rI},i.aI=function(){return this.vR.hI},i.tu=function(){return this.vR.tu()},i.xa=function(t,n){return this.vR.xa(t,n)},i.uI=function(){return this.vR.nt},i.lI=function(){return this.vR.cI},i.dI=function(){return this.vR.rt},i._I=function(){return this.vR.fI},i.wI=function(){return this.vR.pI},i.mI=function(){return this.vR.vI},i.gI=function(t){this.vR.vI=t},i.bI=function(){return this.vR.bI()},i.Sa=function(){return this.vR.Sa()},i.AI=function(){return this.vR.AI()},i.dr=function(t){this.vR.dr(t)},i.lr=function(){this.vR.lr()},i.be=function(){this.vR.be()},i.SI=function(){this.vR.SI()},i.TI=function(){this.vR.TI()},i.kI=function(){this.vR.kI()},i.ge=function(){this.vR.ge()},i.EI=function(){return this.vR.EI()},i.xI=function(){return this.vR.xI()},i.RI=function(){this.vR.RI()},i.II=function(){this.vR.II()},i.er=function(){return this.vR.er()},i.CI=function(){this.vR.CI()},i.DI=function(){this.vR.DI()},i.NI=function(t){return this.vR.NI(t)},i.MI=function(t){return!1},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.$o(),[4,t.vR.gn()];case 1:return n.sent(),[2]}}))}))()},i.LI=function(t){return this.vR.LI(t)},xt(n,[{key:"ht",get:function(){return this._R()}},{key:"gR",get:function(){return this.pR()}},{key:"wR",get:function(){return this.yR()},set:function(t){this.bR(t)}},{key:"bt",get:function(){return this.AR()}},{key:"SR",get:function(){return this.kR()},set:function(t){this.ER(t)}},{key:"ct",get:function(){return this.Sd()}},{key:"we",get:function(){return this.xR()}},{key:"RR",get:function(){return this.IR()}},{key:"lt",get:function(){return this.PR()}},{key:"DR",get:function(){return this.NR()}},{key:"MR",get:function(){return this.LR()}},{key:"OR",get:function(){return this.FR()}},{key:"WR",get:function(){return this.UR()}},{key:"GR",get:function(){return this.HR()},set:function(t){this.ZR(t)}},{key:"XR",get:function(){return this.zR()}},{key:"qR",get:function(){return this.YR()}},{key:"KR",get:function(){return this.jR()},set:function(t){this.QR(t)}},{key:"JR",get:function(){return this.$R()}},{key:"tI",get:function(){return this.eI()},set:function(t){this.iI(t)}},{key:"sI",get:function(){return this.nI()}},{key:"rI",get:function(){return this.oI()}},{key:"hI",get:function(){return this.aI()}},{key:"nt",get:function(){return this.uI()}},{key:"cI",get:function(){return this.lI()}},{key:"rt",get:function(){return this.dI()}},{key:"fI",get:function(){return this._I()}},{key:"vI",get:function(){return this.mI()},set:function(t){this.gI(t)}},{key:"pI",get:function(){return this.wI()}},{key:"yI",get:function(){return this.vR.yI},set:function(t){this.vR.yI=t}}]),n}(ca);U(),St(),Ct(),U(),St(),Dt(),Ct();var sA=function(t){function n(){var n;return(n=t.call(this)||this)._C=void 0,n.pC=function(t){var i=t.Ht;n.tt(i)},n.wC=function(t){var i=t.Ht;n.it(i)},n}Rt(n,t);var i=n.prototype;return i.gC=function(t){t.yn(Ag.OI,this.pC),t.yn(Ag.VI,this.wC)},i.vC=function(t){t.fn(Ag.OI,this.pC),t.fn(Ag.VI,this.wC)},i.gn=function(n){!n&&this._C&&this._C.gn(),t.prototype.gn.call(this)},xt(n,[{key:"fC",get:function(){return this._C},set:function(t){var n=this._C;if(t!==n){if(n){this.vC(n);for(var i=0,r=n.uC;i<r.length;i++){var e=r[i];t&&t.dC(e)||this.it(e)}}if(this._C=t,t){for(var u=[],s=0,o=t.uC;s<o.length;s++){var a=o[s];this.tt(a),this.mC(a)&&u.push(a)}this.gC(t);for(var c=0;c<u.length;c++){var h=u[c];h.wo(new dm(h))}}}}}]),n}(Cg),oA=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.ba=function(){return tm(this)},i.mC=function(t){return t.Rt},n}(sA);U(),St(),Ct();var aA=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.ba=function(){return Jp(this)},i.mC=function(t){return t.xE===Gp.Jn},n}(sA);U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var cA=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.GC=function(){},xt(n,[{key:"FC",get:function(){}},{key:"VC",get:function(){return!1}},{key:"WC",get:function(){}},{key:"ka",get:function(){var t;return null!=(t=this.su)?t:this.su=hA(this)}}]),n}(oa);function hA(t){return{goLive:function(){return t.GC()},get isLive(){return t.VC},get latencies(){return t.FC},get manifest(){return t.WC},addEventListener:function(n,i){t.yn(vA(n),i)},removeEventListener:function(n,i){t.fn(vA(n),i)}}}var fA=["golive","latencyrecoveryseek"];function vA(t){var n=Hg(t,Xg);return(ni(n)?[n]:n).filter((function(t){return Ao(fA,t)}))}var lA=function(t){function n(){var n;return(n=t.call(this)||this)._C=void 0,n.su=void 0,n._C=void 0,n}Rt(n,t);var i=n.prototype;return i.gC=function(t){t.yn(fA,this.Ds)},i.vC=function(t){t.fn(fA,this.Ds)},i.GC=function(){var t;null==(t=this._C)||t.GC()},i.gn=function(){this.$o(),this._C&&this.vC(this._C),this._C=void 0},xt(n,[{key:"fC",get:function(){return this._C},set:function(t){var n=this._C;t!==n&&(n&&this.vC(n),t&&this.gC(t),this._C=t)}},{key:"ka",get:function(){return this.su||(this.su=hA(this)),this.su}},{key:"FC",get:function(){var t;return null==(t=this._C)?void 0:t.FC}},{key:"VC",get:function(){return!!this._C&&this._C.VC}},{key:"WC",get:function(){var t;return null==(t=this._C)?void 0:t.WC}}]),n}(oa);U(),St(),U(),St();var dA="8E80B9CE",gA=function(t){return t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled",t}({});function mA(t){return{appID:t&&t.appID?Xg(t.appID):dA}}U(),St(),U(),St();var wA=function(t){return t.gE="",t.HC="anonymous",t.ZC="use-credentials",t}({}),pA=function(t){return t.XC="application/dash+xml",t.zC="application/vnd.apple.mpegurl",t.qC="application/x-mpegurl",t.YC="video/mp4",t.KC="application/vnd.theoplayer.hesp+json",t.jC="application/vnd.theo.hesp+json",t.QC="millicast",t.JC="theolive",t}({});function yA(t){if(null!==t)return t}function _A(t){var n={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:yA(t.streamActivityMonitorID),adTagParameters:$n(t.adTagParameters)?t.adTagParameters:{},authToken:yA(t.authToken),omidAccessModeRules:yA(t.omidAccessModeRules)};if(t.enableNonce&&(n.enableNonce=!0),"vod"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.videoID&&n.contentSourceID)}(t)){var i=t.videoID,r=t.contentSourceID;return i?r?us({},n,{availabilityType:"vod",videoID:i,contentSourceID:r}):void qn.Op("A VOD DAI configuration was provided without valid contentSourceID which is required."):void qn.Op("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){var n=t;return Boolean(n.assetKey)}(t)){var e=t.assetKey;return e?us({},n,{availabilityType:"live",assetKey:e}):void qn.Op("A Live DAI configuration was provided without valid assetKey which is required.")}qn.Op("A DAI configuration was provided without a valid availabilityType which is required.")}function bA(t){return"google-dai"===t.integration?_A(t):us({},t,{integration:String(t.integration)})}function kA(t,n,i){var r=function(t,n,i){var r,e=function(t,n){var i=wA.gE;return t.useCredentials?i=wA.ZC:t.crossOrigin&&(i=QA(t.crossOrigin)),i===wA.gE&&n&&n.vr&&n.vr[360]&&(i=wA.HC),{useCredentials:i===wA.ZC,crossOrigin:i}}(t,n),u=e.useCredentials,s=e.crossOrigin,o=t.liveOffset;Yn(o)||(o=i&&Yn(i.liveOffset)?i.liveOffset:void 0);var a=t.timeServer;Yn(a)||(a=n&&Yn(n.timeServer)?n.timeServer:void 0);var c=t.hlsDateRange;Yn(c)||(c=i&&Yn(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0);var h,f=Boolean(t.experimentalRendering),v=Boolean(t.nativeUiRendering),l=Boolean(t.lowLatency),d=Boolean(t.useNativePlayback),g=Boolean(t.useManagedMediaSource),m=Yn(t.dash)?TA(t.dash):void 0,w=Yn(t.hls)?SA(t.hls):void 0,p=RA(IA(t.abr),null==i?void 0:i.abr),y=Wg(t.lcevc),_=Yn(t.ignoreEmbeddedTextTrackTypes)?mT(t.ignoreEmbeddedTextTrackTypes):[],b=HA(null!=(h=t.seamlessSwitchStrategy)?h:null==(r=t.dash)?void 0:r.useSeamlessPeriodSwitch),k=ZA(t.latencyConfiguration);return{crossOrigin:s,useCredentials:u,liveOffset:o,timeServer:a,hlsDateRange:c,experimentalRendering:f,nativeUiRendering:v,lowLatency:l,useNativePlayback:d,useManagedMediaSource:g,dash:m,hls:w,abr:p,lcevc:y,ignoreEmbeddedTextTrackTypes:_,seamlessSwitchStrategy:b,latencyConfiguration:k}}(t,n,i),e=yA(t.src),u=t.type;u||(u=t.src?JA(t.src):void 0);var s=function(t,n){var i;i=Yn(t.contentProtection)?t.contentProtection:Yn(t.drm)?t.drm:Yn(n)&&Yn(n.contentProtection)?n.contentProtection:Yn(n)&&Yn(n.drm)?n.drm:void 0;return AA(i)}(t,n);return us({},r,{src:e,type:u,contentProtection:s,ssai:Yn(t.ssai)?bA(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function AA(t){return __(t)&&t.integration&&t.integration===Gy?function(t){var n=I_(Ds.gw,t),i=I_(Ds.mw,t),r=t[Ds.ww]&&I_(Ds.ww,t);return us({integration:"keyos",widevine:n,playready:i},r?{fairplay:r}:{})}(t):t}function TA(t){return{useSeamlessPeriodSwitch:HA(null==t?void 0:t.useSeamlessPeriodSwitch),needsTimescaleShifting:Wg(null==t?void 0:t.needsTimescaleShifting),desiredTimescale:void 0!==(null==t?void 0:t.desiredTimescale)?jg(null==t?void 0:t.desiredTimescale):void 0,forceSeekToSynchronize:Wg(null==t?void 0:t.forceSeekToSynchronize),ignoreAvailabilityWindow:Wg(null==t?void 0:t.ignoreAvailabilityWindow),forceHardSwitchWhenSeekingBackwards:Wg(null==t?void 0:t.forceHardSwitchWhenSeekingBackwards),segmentRelativeVttTiming:Wg(null==t?void 0:t.segmentRelativeVttTiming),forceRecreateMediaSourceOnAudioSwitch:Wg(null==t?void 0:t.forceRecreateMediaSourceOnAudioSwitch)}}function SA(t){return{discontinuityAlignment:EA(null==t?void 0:t.discontinuityAlignment),delaySubtitlePreload:Ug(null==t?void 0:t.delaySubtitlePreload)}}function EA(t){if(!t||!ni(t))return"auto";switch(t){case"playlist":return"playlist";case"media":return"media";default:return"auto"}}function IA(t){if(Yn(t))return CA(Gg(null==t?void 0:t.preferredAudioCodecs,Xg),Gg(null==t?void 0:t.preferredVideoCodecs,Xg),Wg(null==t?void 0:t.restrictToPlayerSize))}function RA(t,n){var i;if(Yn(t)||Yn(n))return CA(NA(null==t?void 0:t.preferredAudioCodecs,null==n?void 0:n.preferredAudioCodecs),NA(null==t?void 0:t.preferredVideoCodecs,null==n?void 0:n.preferredVideoCodecs),null!=(i=null==t?void 0:t.restrictToPlayerSize)?i:null==n?void 0:n.restrictToPlayerSize)}function CA(t,n,i){if(0!==t.length||0!==n.length||void 0!==i)return{preferredAudioCodecs:0===t.length?void 0:t,preferredVideoCodecs:0===n.length?void 0:n,restrictToPlayerSize:i}}function NA(t,n){return void 0!==t&&(null==t?void 0:t.length)>0?t:null!=n?n:[]}function xA(t,n){if(void 0!==n)switch(t){case im._E:return n.preferredVideoCodecs;case im.fE:return n.preferredAudioCodecs;default:return}}U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),Dt(),Ct(),Wt(),U(),St();var DA=!1;function PA(t,n,i){return i?t<=n:t<n}U(),St(),Dt();var MA=function(){function t(t,n){this.V=t.length>>1,this.UL=t,this.HL=n||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(this.V)}var n=t.prototype;return n.Cn=function(t){return this.UL[2*t]},n.jn=function(t){return this.UL[2*t+1]},n.GL=function(t){return this.HL[2*t]},n.ZL=function(t){return this.HL[2*t+1]},n.ks=function(){var t=this;return{get length(){return t.V},start:function(n){var i=0|n;return t.XL(i),t.Cn(i)},end:function(n){var i=0|n;return t.XL(i),t.jn(i)}}},n.zL=function(){for(var n=new Array(2*this.V),i=new Array(2*this.V),r=0;r<this.V;r++)n[2*r]=this.Cn(r),n[2*r+1]=this.jn(r),i[2*r]=!0,i[2*r+1]=!0;return new t(n,i)},n.XL=function(t){if(t<0)throw new y("The index provided ("+t+") must be non-negative");if(t>=this.V)throw new y("The index provided ("+t+") is greater than the maximum bound ("+this.V+")")},n.qL=function(t){if(0===this.V)return 0;if(this.kr(t))return t;if(t<=this.Cn(0))return this.Cn(0);if(t>=this.jn(this.V-1))return this.jn(this.V-1);for(var n=0,i=1/0,r=0;r<this.V;r++){var e=this.Cn(r),u=A.abs(e-t);u<i&&(n=e,i=u);var s=this.jn(r),o=A.abs(s-t);o<i&&(n=s,i=o)}return n},n.Sn=function(n){for(var i=0,r=0,e=[],u=[];i<this.V&&r<n.V;){var s=this.Cn(i),o=this.jn(i),a=this.GL(i),c=this.ZL(i),h=n.Cn(r),f=n.jn(r),v=n.GL(r),l=n.ZL(r),d=A.max(s,h),g=A.min(o,f),m=void 0;m=s===h?a&&v:d===s?a:v;var w=void 0;w=o===f?c&&l:g===o?c:l,(d<g||m&&w&&d===g)&&(e.push(d,g),u.push(m,w)),o===f?(i+=1,r+=1):o<f?i+=1:r+=1}return new t(e,u)},n.YL=function(){var n=this.KL(),i=n.V;if(0===i)return new t([-1/0,1/0],[!1,!1]);var r=[],e=[],u=n.Cn(0);u!==-1/0&&(r.push(-1/0,u),e.push(!1,!n.GL(0)));for(var s=0;s<i-1;s++)r.push(n.jn(s),n.Cn(s+1)),e.push(!n.ZL(s),!n.GL(s+1));var o=n.jn(i-1);return o!==1/0&&(r.push(o,1/0),e.push(!n.ZL(i-1),!1)),new t(r,e)},n.jL=function(n){for(var i=0,r=0,e=this.V,u=n.V,s=new Array(2*(e+u)),o=new Array(2*(e+u)),a=0;i<e&&r<u;){var c=this.Cn(i),h=this.jn(i),f=n.Cn(r),v=n.jn(r);c<f||c===f&&h<v?(s[a]=c,s[a+1]=h,o[a]=this.GL(i),o[a+1]=this.ZL(i),i++):(s[a]=f,s[a+1]=v,o[a]=n.GL(r),o[a+1]=n.ZL(r),r++),a+=2}for(;i<e;)s[a]=this.Cn(i),s[a+1]=this.jn(i),o[a]=this.GL(i),o[a+1]=this.ZL(i),i++,a+=2;for(;r<u;)s[a]=n.Cn(r),s[a+1]=n.jn(r),o[a]=n.GL(r),o[a+1]=n.ZL(r),r++,a+=2;return new t(s,o)},n.QL=function(n){void 0===n&&(n=0);var i=this.V;if(i<2)return this;for(var r=[],e=[],u=this.Cn(0),s=this.jn(0),o=this.GL(0),a=this.ZL(0),c=1;c<i;c++){var h=this.Cn(c),f=this.jn(c),v=this.GL(c),l=this.ZL(c);u<h&&s>f||(u===h&&(o=v=o||v),s===f&&(a=l=a||l),PA(h,s+n,a||v)?(s=f,a=l):(r.push(u,s),e.push(o,a),u=h,s=f,o=v,a=l))}return r.push(u,s),e.push(o,a),new t(r,e).KL()},n.KL=function(){for(var n=[],i=[],r=0;r<this.V;r++){var e=this.Cn(r),u=this.jn(r),s=this.GL(r),o=this.ZL(r);e===u?(s||o)&&(n.push(e,u),i.push(!0,!0)):(n.push(e,u),i.push(s,o))}return new t(n,i)},n.JL=function(t){return 0===this.V?t:0===t.V?this:this.jL(t).QL()},n.$L=function(t){var n=this.KL(),i=t.KL(),r=n.YL(),e=i.YL(),u=r.Sn(i),s=e.Sn(n);return u.JL(s)},n.kb=function(n){if(0===this.V||0===n)return this;for(var i=[],r=[],e=0;e<this.V;e++){var u=this.Cn(e)+n,s=this.jn(e)+n;i.push(u,s),r.push(this.GL(e),this.ZL(e))}return new t(i,r)},n.tB=function(t){return 0===this.V||0===t.V?this:this.KL().Sn(t.KL().YL())},n.kr=function(t,n){return this.eB(t,n)>=0},n.iB=function(t,n,i,r,e){return this.sB(t,n,i,r,e)>=0},n.nB=function(t,n,i,r,e){return this.rB(t,n,i,r,e)>=0},n.oB=function(t){if(t.V!==this.V)return!1;for(var n=0;n<this.V;n++)if(this.Cn(n)!==t.Cn(n)||this.jn(n)!==t.jn(n)||this.GL(n)!==t.GL(n)||this.ZL(n)!==t.ZL(n))return!1;return!0},n.hB=function(n){for(var i=[],r=[],e=0;e<this.V;e++){var u=this.Cn(e),s=this.jn(e),o=this.GL(e),a=this.ZL(e);n(u,s,o,a)&&(i.push(u,s),r.push(o,a))}return new t(i,r)},n.rB=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=0);for(var u=t-e,s=n+e,o=0;o<this.V;o+=1)if(PA(this.Cn(o),s,!r||this.GL(o))&&PA(u,this.jn(o),!i||this.ZL(o)))return o;return-1},n.sB=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=0);for(var u=t+e,s=n-e,o=0;o<this.V;o+=1)if(PA(this.Cn(o),u,!i||this.GL(o))&&PA(s,this.jn(o),!r||this.ZL(o)))return o;return-1},n.eB=function(t,n){return this.sB(t,t,!0,!0,n)},n.aB=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=this.V-1;r>=0;r-=1)if(PA(this.Cn(r),i,this.GL(r)))return r;return-1},n.uB=function(t,n){void 0===n&&(n=0);for(var i=t-n,r=0;r<this.V;r+=1)if(PA(i,this.jn(r),this.ZL(r)))return r;return-1},n.cB=function(t,n){void 0===n&&(n=0);for(var i=t+n,r=0;r<this.V;r+=1)if(this.Cn(r)>i)return r;return-1},n.lB=function(n){return this.XL(n),new t([this.Cn(n),this.jn(n)],[this.GL(n),this.ZL(n)])},n.dB=function(t,n){var i=this.eB(t,n);return i<0?void 0:this.lB(i)},t.xn=function(n){for(var i=[],r=0;r<n.length;r++)i.push(n.start(r),n.end(r));return new t(i)},t._B=function(n){return new t([n,n],[!0,!0])},t.vB=function(n,i){return n<=i?new t([n,i]):t.mB()},t.mB=function(){return BA},xt(t,[{key:"WL",get:function(){return this.UL.slice()}},{key:"fB",get:function(){for(var t=0,n=0;n<this.V;n++){t+=this.jn(n)-this.Cn(n)}return t}}]),t}(),BA=new MA([]),OA=.92,LA=1.08,FA=.25,VA=function(t){function n(n,i,r){var e,u;return(e=t.call(this)||this).so=!1,e.He=!1,e.bB=[],e.OB=!1,e.EB=0,e.jE=void 0,e.PB=0,e.CB=1/0,e.GB=function(){var t=e.FB.gR,n=e.FB.SR,i=t.dB(n);i&&(e.EB=cr(i.jn(0)-n,e.EB,.5),e.AB())},e.HB=function(){e.OB=!0,e.ea.fn(Ey.VL,e.HB),e.He&&e.Cn()},e.kB=function(){e.BB(),e.LB();var t=e.zB;if(t){var n=e.YB();if(t>e.wB.forceSeekOffset)return e.wo(new ha("latencyrecoveryseek")),void e.GC();var i=e.wB,r=i.minimumOffset,u=i.targetOffset,s=i.maximumOffset,o=e.FB.KR;if(n>s&&e.KB()){var a=e.wB.maximumPlaybackRate;DA,e.UB(a)}else if(n<r&&!qn.Ys.Jg){var c=e.wB.minimumPlaybackRate;DA,e.UB(c)}else if(o>1&&n<u){DA,e.UB(1)}else if(o<1&&n>u){DA,e.UB(1)}}},e.ea=n,e.FB=i,e.xB=r,e.NB=r.targetOffset,e.MB=r.targetOffset+(null!=(u=r.leniency)?u:0),e.RB=r.targetOffset,e.wB=e.TB(),e.ea.yn(Ey.FL,e.GB),e.ea.yn(Ey.VL,e.HB),e}Rt(n,t);var i=n.prototype;return i.yB=function(t){this.bB.push(t),this.AB()},i.SB=function(t){_o(this.bB,t),this.AB()},i.AB=function(){this.wB=this.TB(),this.so&&this.kB()},i.TB=function(){var t=this.EB,n=function(t,n){var i=n-t.targetOffset;return{minimumOffset:t.minimumOffset+i,targetOffset:t.targetOffset+i,maximumOffset:t.maximumOffset+i,forceSeekOffset:t.forceSeekOffset+i,minimumPlaybackRate:t.minimumPlaybackRate,maximumPlaybackRate:t.maximumPlaybackRate,leniency:t.leniency}}(this.xB,this.RB),i=[n].concat(Ut(this.bB)),r=i.reduce((function(t,n){var i;return A.max(t,null!=(i=null==n?void 0:n.minimumOffset)?i:0)}),t),e=i.reduce((function(t,n){var i;return A.max(t,null!=(i=null==n?void 0:n.targetOffset)?i:0)}),r+FA),u=i.reduce((function(t,n){var i;return A.max(t,null!=(i=null==n?void 0:n.maximumOffset)?i:0)}),e+FA);return{minimumOffset:r,targetOffset:e,maximumOffset:u,forceSeekOffset:i.reduce((function(t,n){var i;return A.max(t,null!=(i=null==n?void 0:n.forceSeekOffset)?i:0)}),u+FA),minimumPlaybackRate:i.reduce((function(t,n){var i;return A.min(t,null!=(i=n.minimumPlaybackRate)?i:OA)}),OA),maximumPlaybackRate:i.reduce((function(t,n){var i;return A.max(t,null!=(i=n.maximumPlaybackRate)?i:LA)}),LA)}},i.IB=function(){var t,n=null==(t=MA.xn(this.ea.gR).dB(this.ea.SR))?void 0:t.jn(0),i=void 0!==n?n-this.ea.SR:0;this.CB=A.min(this.CB,i),this.PB+=1},i.DB=function(){if(!(this.PB<10)){var t=.25-this.CB,n=cr(this.RB+t,this.RB-.1,this.RB+.1);this.RB=cr(n,this.NB,this.MB),this.CB=1/0,this.PB=0}},i.LB=function(){var t=this;this.BB(),this.jE=qn.Ug((function(){return t.kB()}),500)},i.BB=function(){void 0!==this.jE&&(qn.Wg(this.jE),this.jE=void 0)},i.Cn=function(){var t=this;this.He&&this.OB&&(this.so||this.FB.yn(fa.sb,this.kB),this.VB=qn.Wp((function(){return t.IB()}),1e3),this.WB=qn.Wp((function(){return t.DB()}),6e4),this.LB(),this.so=!0)},i.EI=function(){this.so&&(this.BB(),this.VB&&qn.Up(this.VB),this.WB&&qn.Up(this.WB),this.FB.fn(fa.sb,this.kB),this.UB(1),this.so=!1)},i.Hw=function(){this.EI(),this.ea.fn(Ey.FL,this.GB),this.ea.fn(Ey.VL,this.HB),this.$o()},i.UB=function(t){this.FB.XB.ZB||this.ea.KR!==t&&(this.ea.KR=t)},xt(n,[{key:"gB",get:function(){return this.He&&this.so}},{key:"pB",get:function(){return this.wB}},{key:"Rt",get:function(){return this.He},set:function(t){this.He=t,t?this.Cn():this.EI()}},{key:"zB",get:function(){return this.ea.qB}}]),n}(oa),UA=.66,WA=1.5,jA=3;function ZA(t){if(Yn(t)){var n,i,r,e,u,s,o=qn.Ys.$g?10:0,a=t.targetOffset;return{minimumOffset:null!=(n=t.minimumOffset)?n:a*UA,targetOffset:a,maximumOffset:null!=(i=t.maximumOffset)?i:a*WA,forceSeekOffset:A.max(null!=(r=t.forceSeekOffset)?r:a*jA,o),minimumPlaybackRate:null!=(e=t.minimumPlaybackRate)?e:OA,maximumPlaybackRate:null!=(u=t.maximumPlaybackRate)?u:LA,leniency:null!=(s=t.leniency)?s:void 0}}}var XA=function(t){return t.jB="auto",t.QB="always",t.JB="never",t.CLEAR_ONLY="clear-only",t.SAME_DRM_ONLY="same-drm-only",t}({}),GA=function(t){return t.UPLYNK="uplynk",t.MEDIATAILOR="mediatailor",t}({});function HA(t){if(!t||!ni(t))return"auto";switch(t){case"always":return"always";case"never":return"never";case"clear-only":return"clear-only";case"same-drm-only":return"same-drm-only";default:return"auto"}}U(),St(),U(),St();var zA=function(t){return t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled",t}({});U(),St();var YA=!1;U(),St();var KA=function(t){return t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll",t}({});function qA(t){return!!t&&js(t,"mpd")}function JA(t){var n=pA.YC;return qA(t)&&(n=pA.XC),function(t){return!!t&&js(t,"m3u8")}(t)&&(n=pA.zC),n}function QA(t){switch(t){case wA.HC:case wA.ZC:return t;default:return wA.gE}}function $A(t){if(!t)return!1;var n=t.toLowerCase();return Zs(n,pA.XC)}function tT(t){if(!t)return!1;var n=t.toLowerCase();return Zs(n,pA.zC)||Zs(n,pA.qC)}function nT(t){return $n(t)&&$n(t.ssai)&&"google-dai"===t.ssai.integration}function iT(t){return $n(t)&&("verizon-media"===t.integration||"uplynk"===t.integration)}function rT(t){return $n(t)&&("theolive"===t.type||"theolive"===t.integration)}function eT(t){return $n(t)&&"mediatailor"===t.integration}function uT(t){return $n(t)&&"millicast"===t.type}function sT(t){if(ni(t))return!t;if(iT(t))return!t.id;if(nT(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return uT(t)?!t.src||!t.streamAccountId:!t.src}function oT(t){return Boolean($n(t)&&ni(t.src))}function aT(t){return t.type===pA.KC||t.type===pA.jC}function cT(t){return ni(t)||oT(t)||nT(t)||iT(t)||uT(t)}function hT(t){if(t){if(cT(t))return sT(t);for(var n=0;n<t.length;n++){if(!sT(t[n]))return!1}return!0}return!0}function fT(){return{crossOrigin:wA.gE,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,useManagedMediaSource:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0,ignoreEmbeddedTextTrackTypes:[],seamlessSwitchStrategy:XA.jB,latencyConfiguration:void 0}}function vT(){return us({},fT(),{src:void 0,type:pA.YC,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function lT(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:zA.ENABLED,googleIma:{useNativeIma:!1,useAdUiElementForSsai:!1,bitrate:-1,language:void 0,uiElements:void 0,allowSeekingForGoogleDai:!1},theoads:YA};return void 0===t||(void 0!==t.preload&&(n.preload=function(t){return"none"===t?KA.NONE:KA.MIDROLL_AND_POSTROLL}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Ug(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return zA.INSECURE;case"disabled":return zA.DISABLED;default:return zA.ENABLED}}(t.vpaidMode)),Jn(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(ni)),void 0!==t.googleIma&&(n.googleIma=function(t){return void 0===t?{useNativeIma:!1,useAdUiElementForSsai:!1,bitrate:-1,language:void 0,uiElements:void 0,allowSeekingForGoogleDai:!1}:{useNativeIma:Ug(t.useNativeIma),useAdUiElementForSsai:Ug(t.useAdUiElementForSsai),bitrate:null!=(n=t.bitrate)?n:-1,language:Yn(t.language)?Xg(t.language):void 0,uiElements:t.uiElements,allowSeekingForGoogleDai:Ug(t.allowSeekingForGoogleDai)};var n}(t.googleIma)),void 0!==t.theoads?n.theoads=Ug(t.theoads):n.theoads=YA),n}function dT(t){if(!Qn(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];$n(r)&&n.push(r)}return n}function gT(t){return ni(t.src)||uT(t)}function mT(t){return Jn(t)?t.filter(Dm):[]}U(),St(),Ct();var wT=function(t){function n(n,i){var r;return void 0===i&&(i=Cy.$B),(r=t.call(this,fa.Ry)||this).currentTime=n,r.readyState=i,r}return Rt(n,t),n}(ha);U(),St(),Ct();var pT=function(t){function n(n){var i;return(i=t.call(this,fa.Zy)||this).currentTime=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var yT=function(t){function n(n){var i;return(i=t.call(this,fa.ro)||this).currentTime=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var _T=function(t){function n(n){var i;return(i=t.call(this,fa.xy)||this).duration=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var bT=function(t){function n(n,i){var r;return(r=t.call(this,fa.zy)||this).currentTime=n,r.playbackRate=i,r}return Rt(n,t),n}(ha);U(),St(),Ct();var kT=function(t){function n(n){var i;return(i=t.call(this,fa.Cy)||this).currentTime=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var AT=function(t){function n(n){var i;return(i=t.call(this,fa.jy)||this).currentTime=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var TT=function(t){function n(n){var i;return(i=t.call(this,fa.Ky)||this).currentTime=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var ST=function(t){function n(n,i){var r;return(r=t.call(this,fa.ob)||this).currentTime=n,r.volume=i,r}return Rt(n,t),n}(ha);function ET(t,n){return IT.apply(this,arguments)}function IT(){return IT=Zt((function(t,n,i,r,e){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:void 0===i&&(i=3),void 0===r&&(r=1e3),void 0===e&&(e=1/0),u=0,a.label=1;case 1:0,a.label=2;case 2:return a.trys.push([2,4,,7]),[4,t(n)];case 3:return[2,a.sent()];case 4:return Zo(s=a.sent()),u<i?(o=A.min(r*A.pow(2,u),e),u++,[4,ra(o,n)]):[3,6];case 5:return a.sent(),[3,1];case 6:throw s;case 7:return[3,1];case 8:return[2]}}))})),IT.apply(this,arguments)}U(),St(),Gt(),Jt();var RT={maxRetries:1/0,minimumBackoff:200,maximumBackoff:3e4};U(),St();var CT=function(t){return t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture",t.NATIVE_PICTURE_IN_PICTURE="native-picture-in-picture",t}({}),NT=function(t){return t.NONE="none",t.ALL="all",t.CONTENT="content",t}({});function xT(t){switch(t){case"all":case"content":return t;default:return"none"}}function DT(t){var n,i=Mg(t||{});return i.libraryLocation&&(i.libraryLocation=bd(i.libraryLocation,!0)),i.isEmbeddable=Boolean(i.isEmbeddable),i.cast=function(t){var n=mA(t?t.chromecast:void 0),i=function(t){switch(t){case"auto":return"auto";case"manual":default:return"manual";case"disabled":return"disabled"}}(t?t.strategy:void 0);return{chromecast:n,strategy:i}}(i.cast),i.ads=lT(i.ads),i.analytics=dT(i.analytics),i.mutedAutoplay=xT(i.mutedAutoplay),i.allowNativeFullscreen=Boolean(i.allowNativeFullscreen),i.allowMixedContent=Boolean(i.allowMixedContent),i.persistVolume=Boolean(i.persistVolume),i.liveOffset=function(t){return Number(t)||void 0}(i.liveOffset),i.hlsDateRange=function(t){return Boolean(t)}(i.hlsDateRange),i.retainPlaybackRateOnSourceChange=Boolean(i.retainPlaybackRateOnSourceChange),i.license=function(t){return ni(t)?t:void 0}(i.license),i.licenseUrl=function(t){if(!t)return;try{return bd(t)}catch(t){return void qn.Op("Invalid 'licenseUrl', falling back to default URL")}}(i.licenseUrl),i.abr=IA(i.abr),i.retryConfiguration=function(t){var n=us({},RT);return void 0!==t&&(void 0!==t.maxRetries&&(n.maxRetries=Number(t.maxRetries)),void 0!==t.minimumBackoff&&(n.minimumBackoff=Number(t.minimumBackoff)),void 0!==t.maximumBackoff&&(n.maximumBackoff=Number(t.maximumBackoff))),n}(i.retryConfiguration),i.hideDeprecationWarnings=Boolean(i.hideDeprecationWarnings),i.theoLive=function(t){if(!t)return t;return us({},t,{externalSessionId:t.externalSessionId?Xg(t.externalSessionId):void 0,fallbackEnabled:Wg(t.fallbackEnabled)})}(i.theoLive),null!=(n=i).uplynk||(n.uplynk=i.verizonMedia),i}function PT(t){return{bt:t.bt,SR:t.SR,ct:t.ct,RR:t.RR,lt:t.lt,DR:t.DR,GR:t.GR,qR:t.qR,KR:t.KR,sI:t.sI,hI:t.hI,cI:t.cI,fI:t.fI,vI:t.vI}}function MT(t,n){var i=n.vI,r=n.GR;t.vI=i,t.GR=r}function BT(t,n,i){if(n!==i){var r=n.bt!==i.bt,e=n.SR,u=n.ct,s=n.GR,o=n.qR,a=n.KR,c=n.sI,h=n.hI,f=(n.fI,n.cI,n.vI),v=i.SR,l=i.ct,d=i.RR,g=i.DR,m=i.GR,w=i.qR,p=i.KR,y=i.sI,_=i.hI,b=(i.fI,i.cI,i.vI);(r||c>Cy.$B&&y===Cy.$B)&&t.wo(new wT(v,y)),w&&!o?t.wo(new pT(v)):!w&&o&&t.wo(new yT(v)),y>=Cy.Gn&&(r||c<Cy.Gn)&&t.wo(new Ny(v,y)),l===u||E(l)&&E(u)||t.wo(new _T(l)),p!==a&&t.wo(new bT(v,p)),v!==e&&t.wo(new pg(v,void 0)),d&&t.wo(new kT(v)),y>=Cy.tO&&(r||c<Cy.tO)&&t.wo(new xy(v,y)),_&&!h?t.wo(new AT(v)):!_&&h&&t.wo(new TT(v)),b===f&&m===s||t.wo(new ST(v,b)),y>=Cy.eO&&(r||c<Cy.eO)&&t.wo(new Py(v,y)),y>=Cy.iO&&(r||c<Cy.iO)&&t.wo(new My(v,y)),y!==c&&t.wo(new Ry(v,y)),g&&t.wo(new Ek(g))}}function OT(t){switch(t){case CT.INLINE:case CT.FULLSCREEN:case CT.PICTURE_IN_PICTURE:case CT.NATIVE_PICTURE_IN_PICTURE:return t;default:return}}U(),St(),Ct();var LT=function(t){function n(n){var i;return(i=t.call(this,fa.Ty)||this).currentSource=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var FT=function(t){function n(){return t.call(this,fa.Py)||this}return Rt(n,t),n}(ha);U(),St(),Ct();var VT=function(t){function n(){return t.call(this,fa.Ny)||this}return Rt(n,t),n}(ha);U(),St(),Dt(),Ct(),U(),St(),Ct(),U(),St();var UT=function(t){return t.sO="enterpictureinpicture",t.nO="exitpictureinpicture",t.da="pictureinpictureerror",t}({}),WT=function(t){function n(){return t.call(this,UT.sO)||this}return Rt(n,t),n}(ha);U(),St(),Ct();var jT=function(t){function n(){return t.call(this,UT.nO)||this}return Rt(n,t),n}(ha),ZT=function(t){function n(n){var i;return(i=t.call(this)||this)._C=n,i.gC(i._C),i}Rt(n,t);var i=n.prototype;return i.gC=function(t){t.yn(UT.sO,this.Ds),t.yn(UT.nO,this.Ds),t.yn(UT.da,this.Ds)},i.vC=function(t){t.fn(UT.sO,this.Ds),t.fn(UT.nO,this.Ds),t.fn(UT.da,this.Ds)},i.fo=function(){return this._C.fo()},i._o=function(){return this._C._o()},i.gn=function(t){this.$o(),this.vC(this._C),t||this._C.gn()},xt(n,[{key:"fC",get:function(){return this._C},set:function(t){if(t!==this._C){this.vC(this._C);var n=this._C.rO;this._C=t,this.gC(t),!n&&this._C.rO?this.wo(new WT):n&&!this._C.rO&&this.wo(new jT)}}},{key:"oO",get:function(){return this._C.oO}},{key:"rO",get:function(){return this._C.rO}}]),n}(oa),XT=function(t){function n(n){var i;return(i=t.call(this,n)||this).aO=new oA,i.cO=new oA,i.Ll=new aA,i.uO=new lA,i.hO=new ZT(n.Sa()),i.aO.fC=n.ht,i.cO.fC=n.rt,i.Ll.fC=n.nt,i.uO.fC=n.MR,i}Rt(n,t);var i=n.prototype;return i.Sa=function(){return this.hO},i._R=function(){return this.aO},i.LR=function(){return this.uO},i.uI=function(){return this.Ll},i.dI=function(){return this.cO},i.lO=function(t){var n=this.vR;if(n!==t){n._y(this.BI);var i=PT(this),r=this.AR(),e=this.bI(),u=this.AI();this.vR=t,this.aO.fC=t.ht,this.cO.fC=t.rt,this.Ll.fC=t.nt,this.hO.fC=t.Sa(),this.uO.fC=t.MR,void 0!==i&&BT(this,i,this);var s=this.AR();s!==r&&this.wo(new LT(s)),this.bI()!==e&&this.wo(new FT),this.AI()!==u&&this.wo(new VT),t.iy(this.BI)}},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.hO.gn(),n.aO.gn(),n.cO.gn(),n.Ll.gn(),n.uO.gn(),[2]}}))}))()},xt(n,[{key:"MR",get:function(){return this.LR()}}]),n}(uA);U(),St();var GT=function(t){function n(n){var i;return(i=t.call(this,n)||this).pO=[],i.po=!1,i.bO=!1,i.wO(n),i}Rt(n,t);var i=n.prototype;return i.UR=function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s=0,o=0,a=0;a<t.length;a++){var c=t[a];n+=c.dO,i+=c.fO,r+=c._O,e+=c.vO,u+=c.mO,s+=c.gO.amountOfBufferedAudioSegments,o+=c.gO.amountOfBufferedVideoSegments}return{dO:n,fO:i,_O:r,vO:e,mO:u,gO:{amountOfBufferedAudioSegments:s,amountOfBufferedVideoSegments:o}}}(this.pO.map((function(t){return t.WR})))},i.EI=function(){return na(this.pO.map((function(t){return t.EI()}))).then(Ti)},i.er=function(){return na(this.pO.map((function(t){return t.er()}))).then(Ti)},i.SI=function(){if(!this.po){for(var t=0,n=this.pO;t<n.length;t++){n[t].SI()}this.po=!0}},i.mR=function(){for(var t=[],n=0,i=this.pO;n<i.length;n++){var r,e=i[n];(r=t).push.apply(r,Ut(e.mR()))}return t},i.NI=function(t){for(var n=!1,i=0,r=this.pO;i<r.length;i++){n=r[i].NI(t)||n}return n},i.wo=function(n){this.NI(n)||t.prototype.wo.call(this,n)},i.wO=function(t){this.pO.push(t)},i.yO=function(t){_o(this.pO,t)},i.lO=function(n){if(n!==this.vR){var i=this.vR;i.lr(),t.prototype.lO.call(this,n),n.dr(i)}},i.CI=function(){for(var t=0,n=this.pO;t<n.length;t++){n[t].CI()}},i.gn=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:n.$o(),n.vR.lr(),i=0,r=n.pO,u.label=1;case 1:return i<r.length?(e=r[i],n.vR===e?[3,3]:[4,e.gn()]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[4,t.prototype.gn.call(n)];case 5:return u.sent(),[2]}}))}))()},xt(n,[{key:"fC",get:function(){return this.vR},set:function(t){this.lO(t)}}]),n}(XT);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Dt();var HT=function(){function t(){this.HH=new jk,this.GH=[]}var n=t.prototype;return n.UH=function(t){this.GH.push(t)},n.hP=function(t,n,i,r,e,u,s){for(var o=this.HH.hP(t,n,i,r,e,u,s),a=0,c=this.GH;a<c.length;a++){o=(0,c[a])(o,i,r)}return o},n.BH=function(t,n){return this.HH.BH(t,n)},n.OH=function(t){return this.HH.OH(t)},n.FH=function(){return!1},t.WH=function(){return this.Fg},xt(t,[{key:"VH",get:function(){return this.HH.VH}}]),t}();function zT(t,n){return co(t.VH,n.VH)}HT.Fg=new HT,U(),St(),Gt(),Jt(),U(),St();var YT=function(){function t(){this.XH=[]}var n=t.prototype;return n.ZH=function(t){this.XH.push(t),this.XH.sort(zT)},n.zH=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:r=0,e=i.XH,a.label=1;case 1:return r<e.length?(u=e[r],ri(s=u.BH(t,n))?[4,s]:[3,3]):[3,6];case 2:return o=a.sent(),[3,4];case 3:o=Boolean(s),a.label=4;case 4:if(o)return[2,u];a.label=5;case 5:return r++,[3,1];case 6:return[2,void 0]}}))}))()},t}();function KT(t){$T.Fg.ZH(t)}U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St();var qT,JT,QT,$T=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).YH=HT.WH(),n}Rt(n,t);var i=n.prototype;return i.qH=function(t){this.YH=t},i.KH=function(){return this.YH},i.jH=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:r=i.YH,e=!1,u=0,v.label=1;case 1:return u<t.length?(s=t[u],[4,i.zH(s,n)]):[3,12];case 2:return(o=v.sent())?(a=w_(s.contentProtection))?[3,4]:[4,o.OH(s.contentProtection)]:[3,5];case 3:a=v.sent(),v.label=4;case 4:if(a)return[2,{xc:s,t:o}];s.contentProtection&&(e=!0),v.label=5;case 5:return ri(c=r.BH(s,n))?[4,c]:[3,7];case 6:return h=v.sent(),[3,8];case 7:h=Boolean(c),v.label=8;case 8:return h?(f=w_(s.contentProtection))?[3,10]:[4,r.OH(s.contentProtection)]:[3,11];case 9:f=v.sent(),v.label=10;case 10:if(f)return[2,{xc:s,t:r}];s.contentProtection&&(e=!0),v.label=11;case 11:return u++,[3,1];case 12:return e?[4,qn.Gp()]:[3,14];case 13:throw v.sent()?new sl(el.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported."):new sl(el.CONTENT_PROTECTION_NOT_SUPPORTED,"The DRM configuration is not supported by this platform.");case 14:return[2,{xc:t[0],t:r}]}}))}))()},n}(YT);$T.Fg=new $T,U(),St(),U(),St();var tS=function(){function t(t){this.Vs=f&&f.document&&f.document.createElement("div"),_i(this.Vs),t.appendChild(this.Vs)}return t.prototype.gn=function(){ai(this.Vs)},t}();U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var nS=function(t){return t.pG="",t.QH="none",t.$V="metadata",t.jB="auto",t}({});var iS=[zp.da,fa.Ry,fa.Iy,fa.vb,fa.gy,fa.Py,fa.Ny,fa.Gy,fa.Hy,fa.Jy,fa.eb,Ey.ML,Ey.LL,Ey.BL,Ey.OL,Ey.tC,Ey.FL,Ey.VL,fa.Ay,fa.Sy,fa.xy,fa.Cy,fa.Vy,fa.Wy,fa.ro,fa.Xy,fa.Zy,fa.zy,fa.Yy,fa.jy,fa.Ky,fa.sb,fa.ob,fa.qy,fa.Uy,fa.Qy],rS=function(t){function n(n,i){var r;return(r=t.call(this)||this).sZ=void 0,r.JH=void 0,r.KG=nS.QH,r.eZ=void 0,r.rZ=!0,r.aO=new oA,r.cO=new oA,r.Ll=new aA,r.uO=new lA,r.iZ=n,r.ea=i,r.ea.tI=r.tI,r.hO=new ZT(i.Sa()),r.$H(),r}Rt(n,t);var i=n.prototype;return i.TI=function(){this.ea.TI()},i.kI=function(){var t=this.ea.kI();ri(t)&&ta(t)},i.EI=function(){return this.xa(void 0)},i.SI=function(){},i.$H=function(){this.hO.fC=this.ea.Sa(),this.aO.fC=this.ea.ht,this.cO.fC=this.ea.rt,this.Ll.fC=this.ea.nt,this.uO.fC=this.ea.MR,this.ea.yn(iS,this.Ds)},i.tZ=function(){this.ea.fn(iS,this.Ds),this.aO.fC=void 0,this.cO.fC=void 0,this.Ll.fC=void 0,this.uO.fC=void 0},i.tu=function(){return this.eZ},i.xa=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return jo(n),i.eZ=t,t?hT(r=t.sources.filter(gT))?[2]:[4,i.iZ.jH(r,t)]:[2];case 1:return e=c.sent(),jo(n),u=e.xc,s=e.t,o=i.bI(),a=PT(i),i.sZ!==s||i.lt?(i.tZ(),[4,i.ea.gn()]):[3,3];case 2:c.sent(),jo(n),i.sZ=s,i.ea=i.nZ(s,u),function(t,n){t.GR!==n.GR&&(t.GR=n.GR);t.vI!==n.vI&&(t.vI=n.vI);t.KR!==n.KR&&(t.KR=n.KR)}(i.ea,a),BT(i,a,i),i.$H(),c.label=3;case 3:return i.ea.tI=i.tI,i.rZ?i.ea.ge():i.ea.be(),[4,i.ea.xa(u,t,n)];case 4:return c.sent(),jo(n),i.oZ(u),i.bI()!==o&&i.wo(new FT),[2]}}))}))()},i.oZ=function(t){this.JH!==t&&(this.JH=t,this.wo(new LT(t)))},i.xI=function(){return this.ea.xI()},i.RI=function(){this.ea.RI()},i.II=function(){this.ea.II()},i.bI=function(){return this.ea.bI()},i.Sa=function(){return this.hO},i.CI=function(){this.ea.CI()},i.DI=function(){this.ea.DI()},i.LI=function(t){return this.ea.LI(t)},i.er=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.eZ=void 0,t.oZ(void 0),[4,t.ea.er()];case 1:return n.sent(),[2]}}))}))()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.$o(),[4,t.er()];case 1:return n.sent(),[4,t.ea.gn()];case 2:return n.sent(),t.aO.gn(),t.cO.gn(),t.Ll.gn(),t.hO.gn(),t.uO.gn(),[2]}}))}))()},i.ge=function(){this.rZ=!0,this.ea.ge()},i.be=function(){this.rZ=!1,this.ea.be()},xt(n,[{key:"ht",get:function(){return this.aO}},{key:"gR",get:function(){return this.ea.gR}},{key:"lt",get:function(){return this.ea.lt}},{key:"DR",get:function(){return this.ea.DR}},{key:"wR",get:function(){return this.ea.wR},set:function(t){this.ea.wR=t}},{key:"bt",get:function(){return this.JH}},{key:"SR",get:function(){return this.ea.SR},set:function(t){this.ea.SR=t}},{key:"ct",get:function(){return this.ea.ct}},{key:"RR",get:function(){return this.ea.RR}},{key:"MR",get:function(){return this.uO}},{key:"OR",get:function(){return this.ea.OR}},{key:"WR",get:function(){return this.ea.WR}},{key:"GR",get:function(){return this.ea.GR},set:function(t){this.ea.GR=t}},{key:"XR",get:function(){return this.ea.XR}},{key:"qR",get:function(){return this.ea.qR}},{key:"KR",get:function(){return this.ea.KR},set:function(t){this.ea.KR=t}},{key:"JR",get:function(){return this.ea.JR}},{key:"tI",get:function(){return this.KG},set:function(t){this.KG=t,this.ea&&(this.ea.tI=this.KG)}},{key:"sI",get:function(){return this.ea.sI}},{key:"rI",get:function(){return this.ea.rI}},{key:"hI",get:function(){return this.ea.hI}},{key:"nt",get:function(){return this.Ll}},{key:"cI",get:function(){return this.ea.cI}},{key:"rt",get:function(){return this.cO}},{key:"fI",get:function(){return this.ea.fI}},{key:"vI",get:function(){return this.ea.vI},set:function(t){this.ea.vI=t}},{key:"pI",get:function(){return this.ea.pI}},{key:"$G",get:function(){return this.ea.$G}}]),n}(ca);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt(),Ct(),U(),St();var eS=function(t){return t.la="fullscreenchange",t.ma="fullscreensupportchange",t.da="fullscreenerror",t}({});U(),St(),Ct();var uS=function(t){function n(){return t.call(this,eS.da)||this}return Rt(n,t),n}(ha),sS=(eS.la,eS.ma,eS.da,function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.fo=function(){this.wo(new uS)},i._o=function(){},i.gn=function(){this.$o()},xt(n,[{key:"cs",get:function(){return!1}},{key:"ha",get:function(){return!1}}]),n}(oa));U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Ct();var oS=function(t){function n(){return t.call(this,UT.da)||this}return Rt(n,t),n}(ha),aS=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.fo=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.wo(new oS),[2]}))}))()},i._o=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.wo(new oS),[2]}))}))()},i.gn=function(){this.$o()},xt(n,[{key:"oO",get:function(){return!1}},{key:"rO",get:function(){return!1}}]),n}(oa),cS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hZ=0,n.uZ=!1,n.cZ=!0,n.lZ=1,n.aZ=!1,n.ZA=1,n.ht=new nm,n.gR=MA.mB().ks(),n.ct=NaN,n.RR=!1,n.lt=void 0,n.DR=void 0,n.MR=void 0,n.OR=!1,n.XR=!0,n.JR=MA.mB().ks(),n.tI=nS.QH,n.sI=Cy.$B,n.rI=MA.mB().ks(),n.QG=void 0,n.nt=new Qp,n.cI=0,n.rt=new nm,n.fI=0,n.pI=new Fk,n.tH=new xk,n.sa=new sS,n.Zo=new aS,n}Rt(n,t);var i=n.prototype;return i.ER=function(t,n){this.hZ!==t&&(this.hZ=t,this.aZ=!0,this.wo(new AT(this.SR)))},i.ge=function(){},i.be=function(){},i.kI=function(){this.cZ&&(this.cZ=!1,this.wo(new yT(this.SR)),this.wo(new Dy(this.SR)))},i.TI=function(){this.cZ||(this.cZ=!0,this.wo(new pg(this.SR,this.wR)),this.wo(new pT(this.SR)))},i.xa=function(t,n){return ut.resolve()},i.xI=function(){return!1},i.RI=function(){},i.II=function(){},i.bI=function(){return this.sa},i.Sa=function(){return this.Zo},i.LI=function(t){throw new y("Adding a CustomTextTrack is not supported without setting a source.")},i.CI=function(){},i.DI=function(){},i.er=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.hZ=0,t.aZ=!1,t.TI(),t.wo(new wT(t.hZ)),[2]}))}))()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.$o(),t.ht.gn(),t.nt.gn(),t.rt.gn(),[2]}))}))()},xt(n,[{key:"wR",get:function(){},set:function(t){}},{key:"bt",get:function(){}},{key:"SR",get:function(){return this.hZ},set:function(t){this.ER(t)}},{key:"WR",get:function(){return{dO:0,fO:0,_O:0,vO:0,mO:0,gO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"GR",get:function(){return this.uZ},set:function(t){this.uZ!==t&&(this.uZ=t,this.wo(new ST(this.SR,this.vI)))}},{key:"qR",get:function(){return this.cZ}},{key:"KR",get:function(){return this.lZ},set:function(t){this.lZ!==t&&(this.lZ=t,this.wo(new bT(this.SR,this.KR)))}},{key:"hI",get:function(){return this.aZ}},{key:"vI",get:function(){return this.ZA},set:function(t){this.ZA!==t&&(this.ZA=t,this.wo(new ST(this.SR,this.vI)))}},{key:"yI",get:function(){return!1},set:function(t){}},{key:"$G",get:function(){return this.tH}},{key:"qB",get:function(){}}]),n}(oa),hS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).wH=void 0,n.FB=void 0,n}Rt(n,t);var i=n.prototype;return i.AI=function(){var t;return null==(t=this.FB)?void 0:t.YG},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.FB?[4,n.wH.pH(n.FB)]:[3,3];case 2:i.sent(),n.FB=void 0,i.label=3;case 3:return[2]}}))}))()},xt(n,[{key:"dZ",set:function(t){this.wH=t,this.FB=t.LH(im._E)}}]),n}(cS),fS=function(t){function n(n,i,r,e,u,s,o){var a,c=new hS;return(a=t.call(this,$T.Fg,c)||this).xu=n,a.DT=i,a.lW=r,a.vZ=e,a.mZ=u,a.gZ=o,a._Z=new qT(s,a.gZ),a._Z.yZ(a.xu),c.dZ=a._Z,a.wZ=new tS(a.xu),a}Rt(n,t);var i=n.prototype;return i.SI=function(){t.prototype.SI.call(this),this._Z.fZ()},i.dr=function(t){MT(this,t)},i.lr=function(){},i.NI=function(t){return!1},i.xa=function(n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return e=r.bI(),u=r.AI(),[4,t.prototype.xa.call(r,n,i)];case 1:return s.sent(),r.bI()!==e&&r.wo(new FT),r.AI()!==u&&r.wo(new VT),[2]}}))}))()},i.ER=function(t,n){this.ea.ER(t,n)},i.nZ=function(t,n){return t.hP(this.xu,this._Z,this.lW,this.DT,this.vZ,this.mZ,this.gZ,n)},i.AI=function(){return this.ea.AI()},i.mR=function(){return this._Z.pZ.map((function(t){return t.YG}))},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n._Z.gn(),n.wZ.gn(),[2]}}))}))()},xt(n,[{key:"we",get:function(){return this.xu}},{key:"yI",get:function(){return this.ea.yI},set:function(t){this.ea.yI=t}}]),n}(rS);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var vS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).sa=new sS,e.Zo=new aS,e.JG=new Fk,e.xu=n,e.AZ=i,e.bZ=new nm,e.TZ=new Qp,e.SZ=r,e}Rt(n,t);var i=n.prototype;return i.ER=function(t,n){},i.NI=function(t){return!0},i.be=function(){},i.kI=function(){throw this.wo(new Ek(this.SZ)),this.AZ},i.TI=function(){},i.tu=function(){},i.xa=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(t){throw jo(n),i.wo(new Ek(i.SZ)),i.AZ}))}))()},i.ge=function(){},i.EI=function(){return ut.resolve()},i.AI=function(){},i.bI=function(){return this.sa},i.Sa=function(){return this.Zo},i.mR=function(){return[]},i.SI=function(){},i.dr=function(t){},i.lr=function(){},i.xI=function(){return!1},i.RI=function(){},i.II=function(){},i.CI=function(){},i.DI=function(){},i.LI=function(t){},i.er=function(){return ut.resolve()},i.gn=function(){return this.$o(),this.bZ.gn(),this.TZ.gn(),ut.resolve()},xt(n,[{key:"ht",get:function(){return this.bZ}},{key:"gR",get:function(){return MA.mB().ks()}},{key:"wR",get:function(){return new Date(NaN)},set:function(t){}},{key:"bt",get:function(){}},{key:"SR",get:function(){return 0},set:function(t){}},{key:"ct",get:function(){return 0}},{key:"we",get:function(){return this.xu}},{key:"RR",get:function(){return!0}},{key:"lt",get:function(){return this.AZ}},{key:"DR",get:function(){return this.SZ}},{key:"MR",get:function(){}},{key:"WR",get:function(){return{dO:0,fO:0,_O:0,vO:0,mO:0,gO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"GR",get:function(){return!1},set:function(t){}},{key:"XR",get:function(){return!0}},{key:"qR",get:function(){return!0}},{key:"KR",get:function(){return 0},set:function(t){}},{key:"JR",get:function(){return MA.mB().ks()}},{key:"tI",get:function(){return nS.QH},set:function(t){}},{key:"sI",get:function(){return Cy.$B}},{key:"rI",get:function(){return MA.mB().ks()}},{key:"hI",get:function(){return!1}},{key:"nt",get:function(){return this.TZ}},{key:"cI",get:function(){return 0}},{key:"rt",get:function(){return this.bZ}},{key:"fI",get:function(){return 0}},{key:"vI",get:function(){return 1},set:function(t){}},{key:"pI",get:function(){return this.JG}},{key:"yI",get:function(){return!1},set:function(t){}},{key:"OR",get:function(){return!1}}]),n}(ca);function lS(t){if(t&&$n(t))return us({},t,{integration:dS(t.integration),fairplay:_S(t.fairplay),widevine:gS(t.widevine),playready:mS(t.playready),clearkey:bS(t.clearkey),aes128:kS(t.aes128),integrationParameters:AS(t.integrationParameters),preferredKeySystems:TS(t.preferredKeySystems),useOipfDrmAgent:Ug(t.useOipfDrmAgent)})}function dS(t){if(ni(t))return t}function gS(t){if(t&&$n(t))return{persistentState:wS(t.persistentState),distinctiveIdentifier:wS(t.distinctiveIdentifier),audioRobustness:pS(t.audioRobustness),videoRobustness:pS(t.videoRobustness),licenseAcquisitionURL:ni(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:yS(t.licenseType),headers:t.headers,useCredentials:!!ii(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:ni(t.certificate)||Ic(t.certificate)?t.certificate:void 0}}function mS(t){if(t){var n=gS(t);if(n)return us({},n,{customData:ni(t.customData)?t.customData:void 0})}}function wS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function pS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function yS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function _S(t){if(t){var n=gS(t);if(n)return us({},n,{certificateURL:ni(t.certificateURL)?t.certificateURL:void 0})}}function bS(t){if(t){var n=gS(t);if(n){var i=Jn(t.keys)?t.keys.map((function(t){return function(t){if(!t||!$n(t))return;var n=t.id,i=t.value;if(!ni(n)||!ni(i))return;return{id:n,value:i}}(t)})).filter(Yn):void 0;return us({},n,{keys:i})}}}function kS(t){if($n(t))return{useCredentials:ii(t.useCredentials)?t.useCredentials:void 0}}function AS(t){if($n(t))return t}function TS(t){return t&&Jn(t)?t.map((function(t){return R_(t)})).filter(Yn):[As,_s,Rs]}U(),St(),U(),St(),U(),St(),U(),St();var SS={bt:void 0,SR:0,ct:NaN,RR:!1,lt:void 0,DR:void 0,GR:!1,qR:!0,KR:1,sI:Cy.$B,hI:!1,cI:0,fI:0,vI:1};U(),St(),Dt();var ES=function(t){return t.DEFAULT="",t.THEO="theo",t.CSAI="csai",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel",t.MEDIATAILOR="mediatailor",t.THEOADS="theoads",t.UPLYNK="uplynk",t}({}),IS=function(){function t(){this.EZ=[]}var n=t.prototype;return n.xZ=function(t){var n=this.EZ.filter((function(n){return n.RZ(t)}));if(n.length>1)0;else if(0===n.length)throw y("Unknown ad integration: "+t.integration);return n[0]||null},n.IZ=function(t){this.EZ.push(t)},xt(t,[{key:"kZ",get:function(){return this.EZ}}]),t}();IS.Fg=new IS,U(),St(),Ct(),U(),St(),U(),St(),Ct(),U(),St(),Dt(),Ct();var RS=function(t){return t.VL="PLAYING",t.CZ="PAUSED",t.PZ="SEEK",t.DZ="STALLED",t.NZ="FAILED",t.MZ="INITIAL_BUFFERING",t.LZ="NO_ACCESS",t}({}),CS=function(t){return t.BZ="HTTP_REQUEST_STATUS_CODE_1XX",t.OZ="HTTP_REQUEST_STATUS_CODE_2XX",t.FZ="HTTP_REQUEST_STATUS_CODE_3XX",t.VZ="HTTP_REQUEST_STATUS_CODE_4XX",t.WZ="HTTP_REQUEST_STATUS_CODE_5XX",t.UZ="BUFFER_LENGTH",t.GZ="BYTES_RECEIVED",t.HZ="SEGMENT_READ_BITRATE",t.ZZ="SEGMENT_PROFILE_BITRATE",t.XZ="VIDEO_PROFILE_BITRATE",t.zZ="NUMBER_OF_FRAMES_DROPPED",t.qZ="PLAYBACK_POSITION",t.YZ="NUMBER_OF_FRAMES_DECODED",t.KZ="PLAYBACK_DELTA_TO_ORIGIN",t.jZ="STREAM_DELTA_TO_ORIGIN",t.QZ="ORIGIN_TIMESTAMP",t}({}),NS=function(t){return t.JZ="MANIFEST_URI",t.$Z="ASSET_DURATION",t.tX="NUMBER_OF_CONTENT_PROFILES",t.eX="CDN",t.iX="CONTENT_TITLE",t.sX="SERVICE_NAME",t.nX="CONTENT_TYPE",t.rX="CONTENT_DESCRIPTION",t}({}),xS=function(t){return t.oX="shutdown_normal_shutdown",t}({}),DS=function(t){return t.hX="session/",t.aX="content/",t.uX="internalError/",t.cX="drmError/",t.lX="caError/",t.dX="networkError/",t}({}),PS=function(){function t(t,n){this.category=t,this.statusCode=n}return xt(t,[{key:"code",get:function(){return this.category+this.statusCode}}]),t}(),MS=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n}(oa);U(),St(),Ct(),U(),St(),U(),St();var BS=function(t){return t.PAUSE="fX",t.RESUME="_X",t}({}),OS=function(t){function n(){return t.call(this,"vX")||this}return Rt(n,t),n}(ha),LS=function(t){function n(n,i){var r;return(r=t.call(this)||this).ea=n,r.wX=i,r.gX=!1,r.yX=function(){r.pX(),r.gX=!1},r.bX=function(){r.gX=!0},r.wX.yn(BS.PAUSE,r.yX),r.wX.yn(BS.RESUME,r.bX),r}Rt(n,t);var i=n.prototype;return i.mX=function(){this.gX=!0},i.pX=function(){},i.gn=function(){this.gX=!1,this.wX.fn(BS.PAUSE,this.yX),this.wX.fn(BS.RESUME,this.bX)},i.AX=function(){return isFinite(this.ea.Sd())},n}(oa),FS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).PX=!1,n.VX=!1,n.WX=!1,n.kX=function(){n.VX&&!n.WX&&n.MX(RS.DZ)},n.xX=function(){n.ea.qR||(n.VX||n.OX(new PS(DS.aX,"firstFrameDisplayed"),"now"),n.VX=!0,n.MX(RS.VL))},n.EX=function(){n.ea.qR&&(n.VX=!0,n.MX(RS.CZ))},n.RX=function(){n.PX&&(n.WX=!0,n.PX=!1,n.MX(RS.PZ))},n.IX=function(){n.WX=!1,n.ea.qR&&n.MX(RS.CZ)},n}Rt(n,t);var i=n.prototype;return i.mX=function(){t.prototype.mX.call(this),this.SX()},i.gn=function(){this.TX(),t.prototype.gn.call(this)},i.SX=function(){this.ea.yn(Ey.FL,this.kX),this.ea.yn(fa.Zy,this.EX),this.ea.yn(Ey.VL,this.xX),this.ea.yn(fa.jy,this.RX),this.ea.yn(fa.Ky,this.IX)},i.TX=function(){this.ea.fn(Ey.FL,this.kX),this.ea.fn(fa.Zy,this.EX),this.ea.fn(Ey.VL,this.xX),this.ea.fn(fa.jy,this.RX),this.ea.fn(fa.Ky,this.IX)},i.CX=function(){this.PX=!0},i.DX=function(){var t=this.ea.PR(),n=new PS(DS.uX,String(t.code));this.NX(RS.NZ,n,t.message)},i.MX=function(t){this.gX&&(this.wX.LX(t),this.wo(new OS))},i.NX=function(t,n,i){this.wX.BX(t,n,i),this.wo(new OS)},i.OX=function(t,n){this.wX.FX(t,n)},n}(LS);U(),St(),Ct();var VS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).XX=function(){n.AX()&&n.YX(NS.$Z,A.round(n.ea.Sd()))},n.ZX=function(t){"manifest"===t.request.type&&n.YX(NS.JZ,t.url)},n.UX=function(){var t=go(n.ea.rt.uC,(function(t){return t.Rt}));t&&n.YX(NS.tX,t.IC.V)},n}Rt(n,t);var i=n.prototype;return i.mX=function(){t.prototype.mX.call(this),this.UX(),this.SX()},i.gn=function(){this.TX(),t.prototype.gn.call(this)},i.SX=function(){this.ea.rt.yn(Rg.la,this.UX),this.ea.HX.GX(this.ZX),this.ea.yn(fa.xy,this.XX)},i.TX=function(){this.ea.rt.fn(Rg.la,this.UX),this.ea.HX.zX(this.ZX),this.ea.fn(fa.xy,this.XX)},i.qX=function(t){t.serviceName&&this.YX(NS.sX,t.serviceName),t.cdn&&this.YX(NS.eX,t.cdn),t.contentTitle&&this.YX(NS.iX,t.contentTitle),t.contentType&&this.YX(NS.nX,t.contentType),t.contentDescription&&this.YX(NS.rX,t.contentDescription)},i.YX=function(t,n){this.gX&&this.wX.KX(t,n)},n}(LS);U(),St(),Ct();var US=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).fz=os(),n.oz=0,n.jX=0,n.QX=0,n.JX=[],n.$X=function(){n._z(),n.vz(),n.pz()},n.iz=function(t){t.TE===im._E&&(n.rz(t.mO),n.mz(),n.gz(t.yz),n.tz())},n.ez=function(t){var i=t.status.toString()[0],r=n.fz.get(i)||0;n.fz.set(i,r+1),n.lz(CS.BZ,"1"),n.lz(CS.OZ,"2"),n.lz(CS.FZ,"3"),n.lz(CS.VZ,"4"),n.lz(CS.WZ,"5")},n}Rt(n,t);var i=n.prototype;return i.mX=function(){t.prototype.mX.call(this),this.jX=this.ea.WR.dO,this.QX=this.ea.WR._O,this.SX(),this.JX.push(w(this.$X,1e3))},i.pX=function(){t.prototype.pX.call(this),this.tz()},i.gn=function(){this.tz(),this.TX(),this.JX.forEach(p),So(this.JX),t.prototype.gn.call(this)},i.SX=function(){this.ea.HX.GX(this.ez),this.ea.yn(fa.eb,this.iz)},i.TX=function(){this.ea.HX.zX(this.ez),this.ea.fn(fa.eb,this.iz)},i.nz=function(){this.tz()},i.rz=function(t){this.oz+=t,this.cz(CS.GZ,this.oz)},i.lz=function(t,n){var i=this.fz.get(n)||0;this.cz(t,i)},i._z=function(){var t=this.ea.WR.dO-this.jX;this.cz(CS.zZ,t)},i.vz=function(){var t=this.ea.WR._O-this.QX;this.cz(CS.YZ,t)},i.mz=function(){var t=Ck.Fg.aG();this.cz(CS.HZ,Mc(t))},i.gz=function(t){this.cz(CS.ZZ,Mc(t)),this.cz(CS.XZ,Mc(t))},i.tz=function(){if(this.AX()){var t=A.round(_r(this.ea.kR()));this.cz(CS.qZ,t)}},i.pz=function(){var t=MA.xn(this.ea.pR()),n=this.ea.kR(),i=t.dB(n),r=i?_r(i.jn(0)-n):0;this.cz(CS.UZ,r)},i.cz=function(t,n){this.gX&&this.wX.wz(t,n)},n}(LS);U(),St();function WS(t){return t&&t.integration===YS}function jS(t){if(!ni(t.asset))throw new _("Agama source configuration: expected 'asset' to be a string");if(!function(t){return!!ni(t)&&("live"===t||"vod"===t)}(t.streamType))throw new _("Agama source configuration: expected 'streamType' to be 'live' or 'vod'");if(void 0!==t.serviceName&&!function(t){return!!ni(t)&&("live"===t||"svod"===t||"nvod"===t||"tvod"===t||"avod"===t||"catchuptv"===t)}(t.serviceName))throw new _("Agama source configuration: expected 'serviceName' to be 'live', 'svod', 'nvod','tvod', 'avod' or 'catchuptv'");if(void 0!==t.cdn&&!ni(t.cdn))throw new _("Agama source configuration: expected 'cdn' to be a string");if(void 0!==t.contentTitle&&!ni(t.contentTitle))throw new _("Agama source configuration: expected 'contentTitle' to be a string");if(void 0!==t.contentType&&!ni(t.contentType))throw new _("Agama source configuration: expected 'contentType' to be a string");if(void 0!==t.contentDescription&&!ni(t.contentDescription))throw new _("Agama source configuration: expected 'contentDescription' to be a string");return t}function ZS(t){if(!ni(t.config))throw new _("Agama player configuration: expected 'config' to be a string");if(void 0!==t.logLevel&&!function(t){return!!ni(t)&&("info"===t||"debug"===t||"warning"===t||"error"===t||"fatal"===t)}(t.logLevel))throw new _("Agama player configuration: expected 'logLevel' to be 'info', 'debug', 'warning','error' or 'fatal'");if(void 0!==t.application&&!ni(t.application))throw new _("Agama player configuration: expected 'application' to be a string");if(void 0!==t.applicationVersion&&!ni(t.applicationVersion))throw new _("Agama player configuration: expected 'applicationVersion' to be a string");if(void 0!==t.userAccountID&&!ni(t.userAccountID))throw new _("Agama player configuration: expected 'userAccountID' to be a string");if(void 0!==t.deviceID&&!ni(t.deviceID))throw new _("Agama player configuration: expected 'deviceID' to be a string");return t}function XS(){var t="00000000-0000-0000-0000-000000000000",n=f.navigator,i=f.screen,r=""+n.mimeTypes.length;r+=n.userAgent.replace(/\D+/g,""),r+=n.plugins.length,r+=i.height||"",r+=i.width||"",r+=i.pixelDepth||"";var e=function(t){var n,i=0;if(0===t.length)return"0";for(n=0;n<t.length;n++)i=(i<<5)-i+t.charCodeAt(n),i|=0;return A.abs(i).toString().substring(0,12)}(r+=A.floor(1e3*A.random()));return t=[t.slice(0,t.length-e.length),e].join("")}function GS(t,n,i){var r=n,e=function(t,n){return tT(n)?t.DsProtocol.APPLE_HLS:t.DsProtocol.MPEG_DASH}(t,r.type),u=function(t,n){var i=t.DsPlaylistType.VOD;"live"===n&&(i=t.DsPlaylistType.LIVE);return i}(t,i.streamType);return{asset:i.asset,playlistType:u,protocol:e,uri:r.src}}U(),St();var HS=function(t){return t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected",t}({}),zS=function(){function t(t,n,i){var r=this;this.ea=t,this.wX=n,this.uo=function(){r.Fz(),r.Pz()},this.Fz=function(){var t=r.ea.tu(),n=t&&t.analytics;r.Vz=function(t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++){var i=t[n];if(WS(i))return jS(i)}}(n)},this.Pz=function(){r.bz(),r.ea.fn(fa.ro,r.Cz),!r.Iz()&&r.wX.Wz()&&r.ea.bt&&r.Vz&&(r.Dz(),r.ea.qR||r.ea.RR?r.ea.yn(fa.ro,r.Cz):r.Cz())},this.Cz=function(){r.ea.bt&&r.Vz&&(r.wX.Uz(r.ea.bt,r.Vz),r.mX(),r.qX(r.Vz),r.Ez(),r.ea.yn(zp.da,r.Az),r.ea.fn(fa.ro,r.Cz))},this.Rz=function(){r.Iz()&&r.bz()},this.Az=function(){r.Oz(),r.bz()},this.Bz=function(){r.Mz&&r.Mz.nz()};var e=function(t){void 0===t&&(t=[]);for(var n=0;n<t.length;n++){var i=t[n];if(WS(i))return ZS(i)}}(i.analytics);e&&this.wX.Gz()&&(this.wX.SI(e),this.wX.Wz()?(this.wX.Zz(),this.ea.yn(fa.ao,this.uo),this.ea.yn(fa.Cy,this.Pz)):console.warn("An error occurred while initializing an Agama EMP client. Please check your configuration"))}var n=t.prototype;return n.bz=function(){this.ea.fn(zp.da,this.Az),this.Sz(),this.Tz(),this.wX.kz()},n.Ez=function(){this.ea.xz.ka.chromecast&&this.ea.xz.ka.chromecast.addEventListener("statechange",this.Rz)},n.Tz=function(){this.ea.xz.ka.chromecast&&this.ea.xz.ka.chromecast.removeEventListener("statechange",this.Rz)},n.Iz=function(){return void 0!==this.ea.xz.ka.chromecast&&this.ea.xz.ka.chromecast.state===HS.CONNECTED},n.gn=function(){this.ea.fn(fa.ao,this.uo),this.ea.fn(fa.ro,this.Cz),this.ea.fn(fa.Cy,this.Pz),this.bz(),this.wX.gn()},n.Dz=function(){this.Nz||(this.Nz=new FS(this.ea,this.wX)),this.Mz||(this.Mz=new US(this.ea,this.wX)),this.Lz||(this.Lz=new VS(this.ea,this.wX))},n.mX=function(){this.Nz&&(this.Nz.mX(),this.Nz.yn("vX",this.Bz)),this.Mz&&this.Mz.mX(),this.Lz&&this.Lz.mX()},n.Sz=function(){this.Nz&&(this.Nz.fn("vX",this.Bz),this.Nz.gn(),this.Nz=void 0),this.Mz&&(this.Mz.gn(),this.Mz=void 0),this.Lz&&(this.Lz.gn(),this.Lz=void 0)},n.qX=function(t){this.Lz&&this.Lz.qX(t)},n.Oz=function(){this.Nz&&this.Nz.DX()},n.CX=function(){this.Nz&&this.Nz.CX()},t}(),YS="agama";U(),St(),U(),St();var KS=function(t){return t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical",t}({});U(),St();var qS=function(t){return t.NONE="",t.PM360="360",t.PM180="180",t}({});function JS(t){switch(t){case"":return KS.NONE;case"horizontal":return KS.HORIZONTAL;case"vertical":return KS.VERTICAL;default:throw new _}}function QS(t,n){if(n)return qS.PM360;if(null==t)return qS.NONE;switch(t){case"":return qS.NONE;case"360":return qS.PM360;case"180":return qS.PM180;default:throw new _("Provided panoramaMode value is not recognized. Expected '', '360' or '180' but value was "+t)}}U(),St();var $S=function(t){return t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event",t}({});U(),St();var tE="https://content.uplynk.com";function nE(t){if(!t)return!0;var n=!function(t){return cT(t)||Qn(t)&&cT(t[0])}(t.sources)||hT(t.sources),i=!t.ads||iE(t.ads),r=""!==t.poster&&!t.poster;return n&&i&&r}function iE(t){return!t||Jn(t)&&0===t.length}function rE(t){if(t&&t.sources)return eE(t.sources)}function eE(t){return ni(t)?JA(t):oT(t)?t.type||t.src&&JA(t.src):Qn(t)&&t.length>0?eE(t[0]):void 0}function uE(t){if(t&&t.sources)return sE(t.sources)}function sE(t){return ni(t)?t:oT(t)?t.src:Qn(t)&&t.length>0?sE(t[0]):void 0}function oE(t,n,i){return iT(t)?function(t,n,i){var r=us({},fT(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:GA.UPLYNK,id:"",prefix:tE,preplayParameters:{},playbackUrlParameters:{},assetType:$S.ASSET,contentProtected:!1,assetInfo:!0});r.id=function(t){if(ni(t))return t;if(Qn(t)&&ni(t[0]))return t;if(function(t){return $n(t)&&ni(t.userId)&&(Qn(t.externalId)||ni(t.externalId))}(t))return t;return""}(t.id),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return $S.CHANNEL;case"event":return $S.EVENT;default:return $S.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Ug(t.contentProtected));t.assetInfo?r.assetInfo=Ug(t.assetInfo):r.assetInfo="asset"===r.assetType;t.prefix&&(r.prefix=Xg(t.prefix)||tE);return r.ping=function(t,n){var i=!1,r=!1,e=!1;n?(i=!!ii(n.adImpressions)&&n.adImpressions,r=!!ii(n.freeWheelVideoViews)&&n.freeWheelVideoViews,e=ii(n.linearAdData)?n.linearAdData:t!==$S.ASSET):t!==$S.ASSET&&(e=!0);return{adImpressions:i,freeWheelVideoViews:r,linearAdData:e}}(r.assetType,t.ping),r=cE(r,t),r=fE(r,n,i),r=hE(r,t,i),r}(t,n,i):eT(t)?function(t,n,i){var r;return us({},aE(t,n,i),{integration:GA.MEDIATAILOR,adParams:null!=(r=t.adParams)?r:{}})}(t,n,i):rT(t)?function(t,n,i){return us({},aE(t,n,i),{type:"theolive"})}(t,n,i):uT(t)?function(t,n,i){return us({},aE(t,n,i),{type:pA.QC,src:t.src,streamAccountId:t.streamAccountId,subscriberToken:t.subscriberToken,connectOptions:dE(t.connectOptions),apiUrl:t.apiUrl})}(t,n,i):aE(t,n,i)}function aE(t,n,i){var r=vT(),e=n&&(n.contentProtection||n.drm);if(ni(t)){if(r.src=t,r.type=JA(t),e){var u=lS(e);r.contentProtection=AA(u)}}else if(oT(t)||nT(t)||uT(t)){r.src=t.src,r.type=t.type||JA(t.src),r.isAdvertisement=t.isAdvertisement;var s=aT(t)?t.hesp:void 0;void 0!==s&&(r.hesp=s),eT(t)&&(r.integration=t.integration);var o=lS(t.contentProtection||t.drm||e);r.contentProtection=AA(o),t.ssai&&(r.ssai=bA(t.ssai)),r=cE(r,t)}return r=hE(r=fE(r,n,i),t,i)}function cE(t,n){var i,r;n.useCredentials?t.crossOrigin=wA.ZC:n.crossOrigin&&(t.crossOrigin=QA(n.crossOrigin)),ni(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Ug(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Ug(n.useNativePlayback)),n.useManagedMediaSource&&(t.useManagedMediaSource=Ug(n.useManagedMediaSource)),n.dash&&(t.dash=TA(n.dash)),n.hls&&(t.hls=SA(n.hls)),n.lcevc&&(t.lcevc=Ug(n.lcevc)),n.ignoreEmbeddedTextTrackTypes&&(t.ignoreEmbeddedTextTrackTypes=mT(n.ignoreEmbeddedTextTrackTypes)),n.latencyConfiguration&&(t.latencyConfiguration=ZA(n.latencyConfiguration)),t.seamlessSwitchStrategy=HA(null!=(r=n.seamlessSwitchStrategy)?r:null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch);var e=Wg(n.experimentalRendering);void 0!==e&&(t.experimentalRendering=e);var u=Wg(n.nativeUiRendering);return void 0!==u&&(t.nativeUiRendering=u),t}function hE(t,n,i){return t.abr=RA(ni(n)?void 0:IA(n.abr),null==i?void 0:i.abr),t}function fE(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!Yn(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!Yn(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===wA.gE&&(null==n||null==(r=n.vr)?void 0:r[360])&&(t.crossOrigin=wA.HC),t.useCredentials=t.crossOrigin===wA.ZC,ni(e)&&!t.timeServer&&(t.timeServer=e),t}function vE(t){var n={src:""};if(t&&t.src){if(n.src=Xg(t.src),"default"in t&&(n.default=Ug(t.default)),n.kind=function(t){var n=String(t||"").toLowerCase();return ny(n)?n:n?"metadata":"subtitles"}(t.kind),Dm(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function lE(t,n){if($n(t))try{return n.xZ(t).Xz(t)}catch(t){return}}function dE(t){if(null==t)return t;if(!$n(t))throw new y("connectOptions must be an object");return t}function gE(t,n,i){if(void 0===i&&(i=IS.Fg),nE(t))return{sources:[vT()]};var r=Mg(t);if(r.sources=function(t,n,i){if(cT(t))return[oE(t,n,i)];if(Qn(t)&&cT(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(oE(u,n,i))}return r}return[vT()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!Qn(t))return[];for(var i=[],r=0;r<t.length;r++){var e=t[r];(e=lE(e,n))&&i.push(e)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u=!hT(r.sources),s=r.ads&&r.ads.length>0;if(u&&!s?delete r.ads:s&&!u&&(r.sources=[]),"textTracks"in r){var o=function(t){if(!Qn(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];""!==(r=vE(r)).src&&n.push(r)}return n}(r.textTracks);0===o.length?delete r.textTracks:r.textTracks=o}if("poster"in r&&(r.poster=Xg(r.poster)),"streamType"in r&&(r.streamType=function(t){switch(t){case"live":case"dvr":case"vod":return t}}(r.streamType)),"vr"in r&&(r.vr=function(t){var n=t||{};return n.stereoMode=function(t){return function(t){switch(t){case"":case"horizontal":case"vertical":return!0;default:return!1}}(t)?t:""}(n.stereoMode),{panoramaMode:QS(n.panoramaMode,Boolean(n[360])),stereoMode:n.stereoMode?JS(n.stereoMode):KS.NONE,nativeVR:Boolean(n.nativeVR)}}(r.vr)),"analytics"in r||(null==n?void 0:n.analytics)){var a=dT(r.analytics),c=n&&n.analytics||[];r.analytics=function(t,n){for(var i=function(i){var e=n[i],u=!t.some((function(t){return t.integration===e.integration}));u&&e.integration!==YS&&r.push(e)},r=Mg(t),e=0;e<n.length;e++)i(e);return r}(a,c)}return"mutedAutoplay"in r&&(r.mutedAutoplay=xT(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,"playAdsAfterTime"in r&&(r.playAdsAfterTime=jg(r.playAdsAfterTime)),r.blockContentIfAdError=function(t){return void 0!==t&&"boolean"==typeof t&&Boolean(t)}(r.blockContentIfAdError),r}U(),St(),U(),St(),U(),St();var mE=function(){function t(t){this.zz=t}return t.prototype.qz=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.zz.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.zz.indexOf(t.charAt(n))<<18|this.zz.indexOf(t.charAt(n+1))<<12|(u=this.zz.indexOf(t.charAt(n+2)))<<6|(s=this.zz.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.Yz=function(t,n){var i,r,e,u,s,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.zz.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,c[o/3]=this.zz.charAt(r)+this.zz.charAt(e)+this.zz.charAt(u)+this.zz.charAt(s);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},t.ph=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.Kz=new t(function(t){return t.qz("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")}(t.ph)),t}();function wE(t){return"string"==typeof t}function pE(t){return"number"==typeof t}U(),St(),U(),St(),U(),St(),ct();var yE={}.toString;var _E,bE=Array.isArray||function(t){return"[object Array]"===yE.call(t)};function kE(t,n){return bE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf",t.THEOLIVEWEB="theoliveweb",t.KEPLER="kepler"}(_E||(_E={}));var AE,TE=k.keys(_E).map((function(t){return _E[t]}));function SE(t){return-1!==TE.indexOf(t)}!function(t){t.HESP="hesp",t.MULTIVIEW="multiview",t.THEOADS="theoads",t.MILLICAST="millicast"}(AE||(AE={}));var EE,IE=k.keys(AE).map((function(t){return AE[t]}));function RE(t){return-1!==IE.indexOf(t)}function CE(t){try{var n=mE.Kz.qz(t),i=JSON.parse(n);if(!function(t,n){var i,r=function(t){return"object"===(void 0===t?"undefined":W(t))&&null!==t}(t),e=wE(t.key),u=wE(t.customer_id),s=pE(t.generation_date),o=pE(t.expiration_date),a=kE(t.domains_page,wE),c=kE(t.domains_source,wE),h=kE(t.sdks,n?SE:wE),f=function(t){return"boolean"==typeof t}(t.send_impression);t.features?i=kE(t.features,n?RE:wE):(i=!0,t.features=[]);if(!(r&&e&&u&&s&&o&&a&&c&&h&&f&&i))return!1;return!0}(i,!1))throw new y("The provided license could not be decoded correctly.");return i}catch(t){throw new y("The provided license could not be decoded correctly.")}}function NE(){return EE||(EE={Gu:f.location.href,jz:f.parent&&f.parent!==f,Qz:DE()}),EE}var xE=["http:","https:","ftp:","ws:","wss:"];function DE(){var t,n;try{var i;if(null==(i=f)?void 0:i.top)return f.top.location.href}catch(t){}return null==(n=f)||null==(t=n.document)?void 0:t.referrer}var PE=function(t){return t[t.Jz=0]="Jz",t[t.$z=1]="$z",t[t.tq=2]="tq",t}({}),ME=function(t,n,i,r,e,u,s,o,a){void 0===e&&(e=[]),void 0===u&&(u=""),void 0===s&&(s=Date.now()),void 0===o&&(o=[]),void 0===a&&(a=!0),this.iq=t,this.nq=n,this.rq=i,this.oq=r,this.hq=e,this.aq=u,this.uq=s,this.cq=o,this.lq=a},BE=function(t){return t.$z="expired",t.dq="invaliddomain",t.fq="invalidsource",t._q="invalidfeature",t.da="error",t}({}),OE=function(){function t(t,n,i){this.Cq=t,this.Mq=n,this.kA=i,this.xq=GE(this.kA)}var n=t.prototype;return n.vq=function(t,n){var i=[];cT(t.sources)?i=[t.sources]:Qn(t.sources)&&(i=t.sources),this.mq(t,i,n),this.gq(i,n)},n.mq=function(t,n,i){var r=this;if(!nE(t)&&0!==i.rq.length&&!jE(i.rq)&&!n.every((function(t){return r.pq(t,i)}))){var e="invalidsource",u=HE.wq(e);throw new sl(FE(e),u)}},n.gq=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];oT(r)&&aT(r)&&!r.bypassLicense&&this.yq([AE.HESP],n)}},n.bq=function(n){return this.Aq(n.cq)&&this.Sq(n)?t.Tq(n.oq)?0:1:2},n.yq=function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(!Ao(n.hq,r)){var e="invalidfeature",u=HE.kq(e,r);throw new sl(FE(e),u)}}},n.Aq=function(t){var n=this;return 0===t.length||t.some((function(t){return n.Eq(t)}))},n.Eq=function(t){return"web"===function(t){switch(t){case _E.ANDROID:return Dn.Tv;case _E.ANDROIDTV:case _E.FIRETV:return Dn.Ev;case _E.IOS:return Dn.xv;case _E.TVOS:return Dn.Rv;case _E.CHROMECAST:case _E.CHROMECASTCAF:return Dn.Iv;case _E.THEOLIVEWEB:return Dn.Cv;default:return Dn.Sv}}(t)},n.Sq=function(t){return!(this.xq&&0!==t.nq.length&&!jE(t.nq))||!!(this.xq&&this.Rq(t.nq)&&this.Iq(t.nq))},n.Rq=function(t){return ZE(this.kA.Gu,t)},n.Iq=function(t){if(!this.kA.jz)return!0;if(this.Cq)return!0;var n=this.Pq();return!!n&&ZE(n,t)},n.Pq=function(){if(this.kA.jz){var t=l.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.kA.Qz?this.kA.Qz:void 0}},n.pq=function(n,i){return!!t.Dq(n,i.rq)},t.Tq=function(t){var n=Number(new Date);return!!t&&n<=t},t.Dq=function(t,n){return ZE(this.Nq(t),n)},t.Nq=function(t){return ni(t)?t:oT(t)&&t.src||""},t}(),LE=function(){function t(){}var n=t.prototype;return n.bq=function(t){return 0},n.vq=function(t,n){},n.yq=function(t,n){},t}();function FE(t){switch(t){case"invaliddomain":return el.LICENSE_INVALID_DOMAIN;case"invalidsource":return el.LICENSE_INVALID_SOURCE;case"expired":return el.LICENSE_EXPIRED;case"invalidfeature":return el.LICENSE_INVALID_FEATURE;case"error":return el.LICENSE_ERROR}}var VE="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",UE=Ri((function(){var t="\\.",n="(\\*|"+VE+")";return new RegExp("ip-range\\("+n+t+n+t+n+t+n+"\\)")}));function WE(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;if(Zs(r,"ip-range(")){var e="\\.",u=r.match(UE()),s=function(t){return"*"===t?"("+VE+")":t};if(null!==u&&5===u.length){var o=new RegExp("^"+u[1]+e+s(u[2])+e+s(u[3])+e+s(u[4])+"$");return null!==i.match(o)}}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function jE(t){return t.some((function(t){return"*"===t}))}function ZE(t,n){var i=qn.Nh(t);if(!XE(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(WE(i.hostname,e))return!0;if(WE(Td(t),e))return!0}return!1}function XE(t){return-1!==xE.indexOf(t.protocol)}function GE(t){var n=qn.Nh(t.Gu);return XE(n)&&!function(t){return WE(t.hostname,"localhost")}(n)&&!function(t){return WE(t.hostname,"theoplayer.doubleclick.net")}(n)}var HE=function(){function t(){}return t.kq=function(t,n){return"The requested feature '"+n+"' is not available with the license for this player."},t.wq=function(t){return"invaliddomain"===t?this.Lq:"invalidsource"===t?this.Bq:"expired"===t?this.Oq:"invalidfeature"===t?this.Fq:this.Vq},t}();HE.Vq="The license for this player is invalid.",HE.Oq="The usage license for this video player has expired.",HE.Lq="The current domain is incompatible with the license for this player.",HE.Bq="The provided video source is incompatible with the license for this player.",HE.Fq="The requested feature is not available with the license for this player.",U(),St(),Gt(),Dt(),Jt(),U(),St();var zE=function(t){return t[t.Wq=1]="Wq",t[t.Uq=4]="Uq",t[t.Gq=5]="Gq",t[t.Hq=9]="Hq",t}({});function YE(t){var n=[t.eL,t.Zq,t.Xq];switch(t.Zq){case 1:n.push(t.OC);break;case 4:n.push(t.SR),n.push(t.lt);break;case 5:n.push(t.lt);break;case 9:n.push(t.Aw)}return n}U(),St();var KE,qE=new Array(256);for(KE=0;KE<256;KE+=1)qE[KE]=(KE<16?"0":"")+KE.toString(16);function JE(){var t=pr(),n=(4294967296*A.random()|0)+t&3029421624,i=(4294967296*A.random()|0)+t&3595553209,r=(4294967296*A.random()|0)+t&1130486254,e=(4294967296*A.random()|0)+t&1284287105;return qE[255&n]+qE[n>>>8&255]+qE[n>>>16&255]+qE[n>>>24&255]+"-"+qE[255&i]+qE[i>>>8&255]+"-"+qE[i>>>16&15|64]+qE[i>>>24&255]+"-"+qE[63&r|128]+qE[r>>>8&255]+"-"+qE[r>>>16&255]+qE[r>>>24&255]+qE[255&e]+qE[e>>>8&255]+qE[e>>>16&255]+qE[e>>>24&255]}function QE(t){return Pc(t.replace(/-/g,""))}function $E(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=16*A.random()|0;return("x"===t?n:3&n|8).toString(16)}))}function tI(){return qn.Vg()}U(),St(),U(),St(),U(),St();var nI,iI="theoplayer-session-id";function rI(){if(!nI){var t=El.Nb(iI);t?nI=t:(nI=JE(),El.Mb(iI,nI))}return nI}U(),St(),U(),St();var eI=/[^\x00-\x7E]/g;function uI(t){return"\\u"+zs(t.charCodeAt(0).toString(16),4,"0")}var sI="https://license.theoplayer.com";function oI(t){var n=function(t){var n=[];return function(t,n,i){return JSON.stringify(t,n,i).replace(eI,uI)}(t,(function(t,i){if($n(i)){if(-1!==n.indexOf(i))return null;n.push(i)}return i}))}(function(t){return[t.zq,t.KS,t.iq,t.YD,t.qq,t.Yq,t.Kq.map(YE)]}(t));return mE.Kz.Yz(n)}var aI=function(){function t(t,n,i,r,e,u){var s=this;void 0===r&&(r=mE.ph),void 0===e&&(e=0),void 0===u&&(u=1),this.xS=t,this.lW=n,this.tY=i,this.nY=r,this.oY=e,this.lY=u,this.Yf=[],this.Qq=null,this.fY=0,this.cY="unknown",this.iS=0,this.gY=function(){tI()-s.fY>6e4&&s.aY()},this.vY=function(){s.aY(!0)},QT.pY(this.vY),this.mY=w(this.gY,6e4)}var n=t.prototype;return n.jq=function(){return Boolean(this.qq)},n.Jq=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.tY.$q()];case 1:return r.sent().lq?(i={Zq:zE.Wq,Xq:pr(),OC:t},[4,n.OX(i)]):[2];case 2:return r.sent(),[2]}}))}))()},n.eY=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.tY.$q()];case 1:return r.sent().lq?(i={Zq:zE.Hq,Xq:pr(),Aw:t},[4,n.OX(i)]):[2];case 2:return r.sent(),[2]}}))}))()},n.iY=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return r={Zq:zE.Uq,Xq:pr(),SR:n,lt:t},[4,i.OX(r)];case 1:return e.sent(),[2]}}))}))()},n.sY=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return i={Zq:zE.Gq,Xq:pr(),lt:t},[4,n.OX(i)];case 1:return r.sent(),[2]}}))}))()},n.OX=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.tY.$q()];case 1:return i=r.sent(),"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"===n.nY.Yz(i.iq)&&t.Zq!==zE.Gq?[2]:(t.Zq===zE.Wq?n.rY():n.jq()||n.rY(),t.eL=n.iS++,n.Yf.push(t),function(t){return t===zE.Wq||t===zE.Gq}(t.Zq)?[4,n.aY()]:[3,3]);case 2:case 4:return r.sent(),[3,5];case 3:return n.Yf.length>n.oY?[4,n.hY()]:[3,5];case 5:return[2]}}))}))()},n.aY=function(t){void 0===t&&(t=!1);var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Yf.length>0?[4,n.hY(t)]:[3,2];case 1:return i.sent(),[3,0];case 2:return[2]}}))}))()},n.uY=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.tY.$q()];case 1:return i=r.sent(),[2,{zq:pr(),KS:rI(),iq:n.nY.Yz(i.iq)||"dev",YD:n.xS,qq:n.Qq,Yq:n.cY,Kq:t}]}}))}))()},n.hY=function(t){void 0===t&&(t=!1);var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i=n.Yf.splice(0,n.lY),[4,n.uY(i)];case 1:return r=e.sent(),t?n.PE(r):n.dY(r),n.fY=tI(),[2]}}))}))()},n.dY=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=oI(t),r=new md({Gu:sI,Nk:i,kE:!1,Yk:xl.Ak,jk:{"Content-Type":vb.EU},bE:4e3,yE:fd.POST}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,n.lW.Kk(r)];case 2:return[4,e.sent().Ck()];case 3:return e.sent(),[3,5];case 4:return e.sent(),(new Image).src="https://licensing.theoplayer.com/t?"+i,[3,5];case 5:return[2]}}))}))()},n.PE=function(t){var n=oI(t);this.lW.PE({Gu:sI,Nk:n,Dk:vb.EU})},n.rY=function(){this.jq()&&this.aY(),this.Qq=JE(),this.iS=0},n.gn=function(){QT._Y(this.vY),p(this.mY),this.aY()},xt(t,[{key:"Kq",get:function(){return this.Yf}},{key:"qq",get:function(){return this.Qq}}]),t}();U(),St(),Dt(),Wt(),U(),St(),Wt(),U(),St();var cI=0;var hI=m,fI=self.requestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame,vI=self.cancelAnimationFrame||self.webkitCancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelRequestAnimationFrame;fI&&vI||(fI=function(t){var n=tI(),i=A.max(0,16-(n-cI)),r=g((function(){return t(n+i)}),i);return cI=n+i,r},vI=hI),fI=fI.bind(self),vI=vI.bind(self);var lI=Gn.Hm||Gn.iu&&Gn.rg<13;function dI(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var gI=function(){function t(t){var n=this;this.SY=void 0,this.su=void 0,this.DY=void 0,this.xY=as(),this.kY=1,this.PY=!0,this.MY=function(){n.PY=!0},this.NY=function(){n.SY=n.t.AI(),n.xY.forEach((function(t,i){t.IY(),t.IY=n.EY(t.RY,i)}))},this.t=t,this.t.yn(fa.Ny,this.NY),this.t.yn(fa.Ky,this.MY),this.NY()}var n=t.prototype;return n.wY=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e,u=this.SY;return void 0!==u&&((e=t).drawImage.apply(e,[u].concat(Ut(i))),!0)},n.yY=function(t,n,i,r,e,u){var s=this.SY;return void 0!==s&&(lI&&(s=this.TY(s)),t.texImage2D(n,i,r,e,u,s),!0)},n.bY=function(t){var n=this.kY++,i=this.EY(t,n);return this.xY.set(n,{RY:t,IY:i}),n},n.AY=function(t){var n=this.xY.get(t);void 0!==n&&(this.xY.delete(t),n.IY())},n.EY=function(t,n){var i=this,r=this.SY;if(void 0===r)return Ti;if(r instanceof HTMLVideoElement&&r.requestVideoFrameCallback){var e=r.requestVideoFrameCallback((function(r,e){i.xY.delete(n),t(r,e)}));return function(){return r.cancelVideoFrameCallback(e)}}var u,s=function(r){i.CY()?(i.xY.delete(n),i.PY=!1,t(r,void 0)):u=fI(s)};return u=fI(s),function(){return vI(u)}},n.CY=function(){return(!this.t.qR||this.PY)&&!this.t.hI&&this.t.sI>=Cy.tO},n.TY=function(t){var n=this.DY;void 0===n&&(n=v.createElement("canvas"),this.DY=n);var i=n.getContext("2d"),r=this.t,e=r.fI,u=r.cI,s=n.width,o=n.height;i.clearRect(0,0,n.width,n.height),s===e&&o===u||(n.width=e,n.height=u),i.drawImage(t,0,0,e,u);var a=!1;return e>0&&dI(i,e-1,0)&&(n.width=s,a=!0),u>0&&dI(i,0,u-1)&&(n.height=o,a=!0),a&&i.drawImage(t,0,0,e,u),n},n.gn=function(){this.xY.forEach((function(t){return t.IY()})),this.xY.clear(),this.t.fn(fa.Ny,this.NY),this.t.fn(fa.Ky,this.MY),this.SY=void 0,this.DY=void 0},xt(t,[{key:"ka",get:function(){var t;return null!=(t=this.su)?t:this.su=function(t){return{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];var u;return(u=t).wY.apply(u,[n].concat(Ut(r)))},texImage2D:function(n,i,r,e,u,s){return t.yY(n,i,r,e,u,s)},requestVideoFrameCallback:function(n){return t.bY(n)},cancelVideoFrameCallback:function(n){return t.AY(n)}}}(this)}}]),t}();U(),St(),Dt(),Ct(),U(),St(),Ct(),U(),St();var mI=function(t){return t.pn="dimensionchange",t}({}),wI=function(t){function n(n,i){var r;return(r=t.call(this,mI.pn)||this).width=n,r.height=i,r}return Rt(n,t),n}(ha);U(),St(),Dt(),Ct(),U(),St();var pI,yI=function(t,n){this.we=t,this.RY=n},_I=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).LY=0,r.BY=0,r.FY=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.BY=n.width,r.LY=n.height,r.RY(r.BY,r.LY)}},r.OY=new f.ResizeObserver(r.FY),r.OY.observe(r.we),r}return Rt(n,t),n.prototype.gn=function(){this.OY.disconnect()},xt(n,[{key:"Pu",get:function(){return this.LY}},{key:"Mu",get:function(){return this.BY}}]),n}(yI);U(),St(),Dt(),Ct(),U(),St();var bI=["Webkit","Moz","O","ms"],kI=function(){var t=!1;try{if(void 0!==f&&"function"==typeof f.addEventListener){var n=k.defineProperty({},"passive",{get:function(){t=!0}});f.addEventListener("testPassiveEventSupport",Ti,n),f.removeEventListener("testPassiveEventSupport",Ti,n)}}catch(t){}return t}(),AI=os();function TI(t){return AI.has(t)||AI.set(t,function(t){var n=(pI||(pI=f&&f.document&&f.document.createElement("span")),pI);if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<bI.length;r++){var e=bI[r]+i;if(void 0!==n.style[e])return e}return t}(t)),AI.get(t)}function SI(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.bottom="0",n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function EI(t){var n=t.style;n.position="absolute",n.left="0",n.top="0",n[TI("transition")]="0s"}var II=function(t){function n(n,i,r){var e;(e=t.call(this,n,i)||this).VY=0,e.BY=NaN,e.LY=NaN,e.XY=void 0,e.er=function(){var t=1e5;e.zY.style.width=t+"px",e.zY.style.height=t+"px",e.WY.scrollLeft=t,e.WY.scrollTop=t,e.GY.scrollLeft=t,e.GY.scrollTop=t,0===e.GY.scrollTop&&fI(e.er)},e.qY=function(){var t=e.Mu,n=e.Pu;e.RY(t,n),e.BY=t,e.LY=n,e.er(),e.VY=0},e.UY=function(){if(!e.VY){var t=e.Mu,n=e.Pu;t===e.BY&&n===e.LY||(e.VY=fI(e.qY))}},e.ZY=function(){e.XY||(e.XY=g(e.YY,66))},e.YY=function(){e.XY=void 0,e.KY()},e.KY=function(){e.UY()};var u=function(t,n){return f.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");r||"static"!==u||(n.style.position="relative");var s=v.createElement("div");return e.HY=s,e.WY=v.createElement("div"),e.zY=v.createElement("div"),e.GY=v.createElement("div"),e.jY=v.createElement("div"),SI(e.WY),SI(e.GY),EI(e.zY),function(t){EI(t),t.style.width="200%",t.style.height="200%"}(e.jY),s.appendChild(e.WY),s.appendChild(e.GY),e.WY.appendChild(e.zY),e.GY.appendChild(e.jY),n.appendChild(s),e.WY.addEventListener("scroll",e.UY),e.GY.addEventListener("scroll",e.UY),f&&f.addEventListener("resize",e.ZY),e.UY(),e}return Rt(n,t),n.prototype.gn=function(){vI(this.VY),this.VY=0,this.WY.removeEventListener("scroll",this.UY),this.GY.removeEventListener("scroll",this.UY),ai(this.HY),f&&f.removeEventListener("resize",this.ZY)},xt(n,[{key:"Pu",get:function(){return this.we.getBoundingClientRect().height||this.LY||0}},{key:"Mu",get:function(){return this.we.getBoundingClientRect().width||this.BY||0}}]),n}(yI),RI=function(t){function n(n){var i;return(i=t.call(this)||this).OY=void 0,i.FY=function(t,n){i.wo(new wI(t,n))},i.we=n,i}Rt(n,t);var i=n.prototype;return i.bn=function(t){this.OY||("function"==typeof f.ResizeObserver?this.OY=new _I(this.we,this.FY):this.OY=new II(this.we,this.FY,t))},i.gn=function(){this.$o(),this.OY&&(this.OY.gn(),this.OY=void 0)},xt(n,[{key:"Pu",get:function(){return this.OY?this.OY.Pu:0}},{key:"Mu",get:function(){return this.OY?this.OY.Mu:0}}]),n}(oa);U(),St(),Dt(),Ct(),U(),St(),Ct();var CI=function(t){function n(){return t.call(this,eS.la)||this}return Rt(n,t),n}(ha);U(),St();var NI=function(){if(v)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in v)return{QY:i[0],Ko:i[1],JY:i[2],$Y:i[3],Qe:i[4],tK:i[5]}}}();U(),St(),Ct();var xI=function(t){function n(){return t.call(this,eS.ma)||this}return Rt(n,t),n}(ha),DI=function(t){function n(i){var r;return(r=t.call(this)||this).cs=!1,r.eK=function(){return r.sK()},r.iK=function(){return r.nK()},r.we=i,r.ha=n.oa(i),v.addEventListener(NI.Qe,r.eK),r.sK(),r}Rt(n,t);var i=n.prototype;return i.fo=function(){var t=this.we[NI.QY]();t&&t.then?t.then(this.eK,this.iK):(v.removeEventListener(NI.tK,this.iK),v.addEventListener(NI.tK,this.iK))},i._o=function(){var t=v[NI.Ko]();t&&t.then?t.then(this.eK,this.iK):(v.removeEventListener(NI.tK,this.iK),v.addEventListener(NI.tK,this.iK))},i.sK=function(){var t=this.cs,n=this.we===v[NI.JY];this.cs=n,t!==n&&this.wo(new CI)},i.nK=function(){this.wo(new uS)},i.gn=function(){this.$o(),v.removeEventListener(NI.Qe,this.eK),v.removeEventListener(NI.tK,this.iK)},n.oa=function(t){return Boolean(NI&&v[NI.$Y]&&NI.QY in t)},n}(oa),PI=function(t){function n(i){var r;return(r=t.call(this)||this).cs=!1,r.eK=function(){return r.sK()},r.we=i,r.ha=n.oa(i),r.we.addEventListener("webkitbeginfullscreen",r.eK),r.we.addEventListener("webkitendfullscreen",r.eK),r.we.addEventListener("webkitpresentationmodechanged",r.eK),r.sK(),r}Rt(n,t);var i=n.prototype;return i.fo=function(){var t=this;this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("fullscreen")?Gn.iu?requestAnimationFrame((function(){return t.we.webkitSetPresentationMode("fullscreen")})):this.we.webkitSetPresentationMode("fullscreen"):this.we.webkitEnterFullscreen()},i._o=function(){this.we.webkitSupportsPresentationMode&&this.we.webkitSupportsPresentationMode("inline")?this.we.webkitSetPresentationMode("inline"):this.we.webkitExitFullscreen()},i.sK=function(){var t,n=this.cs;t=this.we.webkitPresentationMode?"fullscreen"===this.we.webkitPresentationMode:Boolean(this.we.webkitDisplayingFullscreen),this.cs=t,n!==t&&this.wo(new CI)},i.gn=function(){this.$o(),this.we.removeEventListener("webkitbeginfullscreen",this.eK),this.we.removeEventListener("webkitendfullscreen",this.eK),this.we.removeEventListener("webkitpresentationmodechanged",this.eK)},n.oa=function(t){return Gn.iu&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)},n}(oa),MI=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hK=[],n.rK=void 0,n.oK=!1,n.sK=function(){var t=n.oK,i=n.lK();t!==i&&(n.oK=i,n.wo(new CI))},n}Rt(n,t);var i=n.prototype;return i.fo=function(){this.rK?this.rK.fo():this.wo(new uS)},i._o=function(){for(var t=0,n=this.hK;t<n.length;t++){var i=n[t];i.cs&&i._o()}},i.aK=function(t){this.rK=t},i.uK=function(t){this.hK.push(t),t.yn(eS.la,this.sK),t.yn(eS.da,this.Ds),this.sK()},i.cK=function(t){_o(this.hK,t),t.fn(eS.la,this.sK),t.fn(eS.da,this.Ds)},i.lK=function(){for(var t=0,n=this.hK;t<n.length;t++){if(n[t].cs)return!0}return!1},i.er=function(){this.rK=void 0,this.oK=!1;for(var t=this.hK.slice(),n=0;n<t.length;n++){var i=t[n];this.cK(i),i.gn()}this.sK()},i.gn=function(){this.$o(),this.er()},xt(n,[{key:"ha",get:function(){return!!this.rK&&this.rK.ha}},{key:"cs",get:function(){return this.oK}}]),n}(oa),BI=function(t){function n(n,i){var r;return(r=t.call(this)||this).fa=!1,r.mK=function(){return r.tr()},r.sK=function(t){r.fa||r.wo(t)},r.t=n,r.dK=i,r.fK=new sS,r._K(),r.t.yn(fa.Py,r.mK),r.tr(),r}Rt(n,t);var i=n.prototype;return i.fo=function(){this.dK&&this.fK.fo()},i._o=function(){this.fK._o()},i._K=function(){this.fK.yn([eS.la,eS.ma],this.sK),this.fK.yn(eS.da,this.Ds)},i.vK=function(){this.fK.fn([eS.la,eS.ma],this.sK),this.fK.fn(eS.da,this.Ds)},i.tr=function(){var t=this.fK,n=this.t.bI();if(t!==n){this.fa=!0;var i=this.cs,r=this.ha;i&&this._o(),this.vK(),this.fK=n,this._K(),i&&!this.cs&&this.ha?this.fo():this._o(),this.fa=!1,r!==this.ha&&this.wo(new xI),i!==this.cs&&this.wo(new CI)}},i.gn=function(){this.$o(),this.vK(),this.t.fn(fa.Py,this.mK)},xt(n,[{key:"ha",get:function(){return!!this.dK&&this.fK.ha}},{key:"cs",get:function(){return this.fK.cs}}]),n}(oa);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Ct(),U(),St();var OI=function(t){return t.MODE_CHANGE="presentationmodechange",t.ERROR="error",t}({}),LI=function(t){function n(n){var i;return(i=t.call(this,OI.MODE_CHANGE)||this).presentationMode=n,i}return Rt(n,t),n}(ha);U(),St(),U(),St(),Ct();var FI=function(t){function n(n,i,r){var e;return void 0===i&&(i=!1),(e=t.call(this,r)||this).pK=[],e.yK=function(t){$o((function(){e.Ds(t)}))},e.Yf=n,e.gK=i?e.yK:e.Ds,e}Rt(n,t);var i=n.prototype;return i.nu=function(t){for(var n=0,i=this.Yf;n<i.length;n++){var r=i[n];t.yn(r,this.gK)}this.pK.push(t)},i.wK=function(t){for(var n=0,i=this.Yf;n<i.length;n++){var r=i[n];t.fn(r,this.gK)}this.pK.push(t)},i.gn=function(){this.$o();for(var t=0,n=this.pK;t<n.length;t++){var i=n[t];this.wK(i)}So(this.pK)},n}(oa),VI=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).pK=[],r.yK=function(t){$o((function(){r.Ds(t)}))},r.bK=i?r.yK:r.Ds,r}Rt(n,t);var i=n.prototype;return i.nu=function(t){t.iy(this.bK),this.pK.push(t)},i.wK=function(t){t._y(this.bK),_o(this.pK,t)},i.gn=function(){this.$o();for(var t=0,n=this.pK;t<n.length;t++){n[t]._y(this.bK)}So(this.pK)},n}(ca);U(),St(),Dt(),Ct();var UI=function(t){function n(n){var i;return(i=t.call(this,OI.ERROR)||this).errorObject=n,i}return Rt(n,t),n.prototype.ba=function(){return this},xt(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(yg);U(),St(),Ct();var WI=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}return Rt(n,t),n}(sl),jI=function(t){function n(n,i){var r;return(r=t.call(this)||this).Go=CT.INLINE,r.ia=!1,r.Qo=new dl,r.su=void 0,r.sK=function(){r.wi()},r.nK=function(){r.ia||(r.wo(new Ek(new sl(el.FULLSCREEN_ERROR,"Failed to enter fullscreen."))),r.wi())},r.EK=function(){r.ia||(r.Go!==CT.NATIVE_PICTURE_IN_PICTURE||r.Zo.rO?r.Go!==CT.NATIVE_PICTURE_IN_PICTURE&&r.Zo.rO&&r.zo(CT.NATIVE_PICTURE_IN_PICTURE):r.zo(CT.INLINE))},r.xK=function(){r.ia||(r.wo(new UI(new WI(el.PICTURE_IN_PICTURE_ERROR,"Unexpected native picture-in-picture error."))),r.EK())},r.sa=n,r.Zo=i,r.sa.yn(eS.la,r.sK),r.sa.yn(eS.da,r.nK),r.Zo.yn(UT.sO,r.EK),r.Zo.yn(UT.nO,r.EK),r.Zo.yn(UT.da,r.xK),r}Rt(n,t);var i=n.prototype;return i.ba=function(){return function(t){var n,i={get currentMode(){return t.Lo()},requestMode:function(n){var i=OT(n);i&&t.zo(i)},supportsMode:function(n){var i=OT(n);return!!i&&t.qo(i)},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return(n=new VI(i,!0)).nu(t),i}(this)},i.zo=function(t){this.Go!==t&&(this.Go=t,this.ia=!0,this.Xo(t))},i.Lo=function(){return this.Go},i.qo=function(t){switch(t){case CT.NATIVE_PICTURE_IN_PICTURE:return this.Zo.oO;case CT.FULLSCREEN:return this.sa.ha;case CT.INLINE:return!0}return!1},i.Xo=function(t){var n=this;switch(this.Qo.Yw(),t){case CT.FULLSCREEN:ta(this.Qo.Jo((function(t){return n.AK(t)})));break;case CT.NATIVE_PICTURE_IN_PICTURE:ta(this.Qo.Jo((function(t){return n.SK(t)})));break;case CT.INLINE:ta(this.Qo.Jo((function(t){return n.TK(t)})))}},i.AK=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return jo(t),[4,n.Zo._o().catch(Ti)];case 1:r.sent(),jo(t),r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,n.kK()];case 3:return r.sent(),n.wo(new LI(n.Go)),[3,6];case 4:throw r.sent(),i=new WI(el.FULLSCREEN_ERROR,"Failed to enter fullscreen."),n.wo(new UI(i)),jo(t),n.zo(CT.INLINE),i;case 5:return n.ia=!1,[7];case 6:return[2]}}))}))()},i.SK=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return jo(t),[4,n.Ko().catch(Ti)];case 1:r.sent(),jo(t),r.label=2;case 2:return r.trys.push([2,4,5,6]),[4,n.Zo.fo()];case 3:return r.sent(),n.wo(new LI(n.Go)),[3,6];case 4:throw r.sent(),i=new WI(el.PICTURE_IN_PICTURE_ERROR,"Failed to enter native picture-in-picture."),n.wo(new UI(i)),jo(t),n.zo(CT.INLINE),i;case 5:return n.ia=!1,[7];case 6:return[2]}}))}))()},i.TK=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return jo(t),[4,n.Ko().catch(Ti)];case 1:return i.sent(),jo(t),[4,n.Zo._o().catch(Ti)];case 2:return i.sent(),n.wo(new LI(n.Go)),n.ia=!1,[2]}}))}))()},i.kK=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.sa.cs?[2]:(n=t.sa.vy([eS.la,eS.da]),t.sa.fo(),[4,n]);case 1:if(i.sent(),!t.sa.cs)throw new y("Failed to enter fullscreen.");return[2]}}))}))()},i.Ko=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.sa.cs?(n=t.sa.vy([eS.la,eS.da]),t.sa._o(),[4,n]):[2];case 1:if(i.sent(),t.sa.cs)throw new y("Failed to exit fullscreen.");return[2]}}))}))()},i.wi=function(){this.ia||(this.Go!==CT.FULLSCREEN||this.sa.cs?this.Go!==CT.FULLSCREEN&&this.sa.cs&&this.zo(CT.FULLSCREEN):this.zo(CT.INLINE))},i.gn=function(){this.sa.fn(eS.la,this.sK),this.sa.fn(eS.da,this.nK),this.Zo.fn(UT.sO,this.EK),this.Zo.fn(UT.nO,this.EK),this.Zo.fn(UT.da,this.xK),this.$o()},xt(n,[{key:"ka",get:function(){return this.su||(this.su=this.ba()),this.su}}]),n}(ca);function ZI(t){var n;return{get url(){return t.Gu},get method(){return t.yE},get headers(){return n||(n=t.jk.Sk()),n},get body(){return t.Nk},get useCredentials(){return t.kE},get type(){return t.Aw},get subType(){return t.SE},get mediaType(){return t.TE},get responseType(){return t.Yk}}}function XI(t){switch(t.toLowerCase()){case"arraybuffer":return xl.wk;case"json":return xl.yk;case"stream":return xl.bk;default:return xl.Ak}}function GI(t){switch(t.toUpperCase()){case"POST":return fd.POST;case"PUT":return fd.PUT;case"DELETE":return fd.DELETE;case"HEAD":return fd.HEAD;case"OPTIONS":return fd.OPTIONS;default:return fd.GET}}function HI(t){switch(t.toLowerCase()){case"manifest":return vd.eE;case"segment":return vd.iE;case"preload-hint":return vd.sE;case"content-protection":return vd.nE;default:return vd.tE}}function zI(t){switch(t.toLowerCase()){case"initialization-segment":return ld.rE;case"fairplay-license":return ld.oE;case"fairplay-certificate":return ld.hE;case"widevine-license":return ld.aE;case"widevine-certificate":return ld.uE;case"playready-license":return ld.cE;case"clearkey-license":return ld.lE;case"aes128-key":return ld.dE;default:return ld.tE}}function YI(t){switch(t.toLowerCase()){case"audio":return dd.fE;case"video":return dd._E;case"text":return dd.Ak;case"image":return dd.vE;default:return dd.tE}}U(),St(),Gt(),Ct(),Jt(),U(),St(),Dt(),Ct(),U(),St(),U(),St(),Gt(),Dt(),Jt();var KI=function(){function t(t,n){this.XK=t,this.GK=n,this.IK=new Yc,this.FK=[],this.su=void 0,this.DK=!1,this.XE=void 0,this.LK=0}var n=t.prototype;return n.OD=function(){this.DK=!0,this.IK.Ob(null)},n.BK=function(){this.IK.Fb(new Ol(this.FK))},n.VK=function(t){if(!this.NK)throw new _("Cannot respond more than once");if(!$n(t))throw new _("Expected valid response");this.XE=this.WK(t),this.OD()},n.UK=function(){try{var t=this.GK(this.ka);t?this.HK(t):this.MK||this.PK||this.OD()}catch(t){this.FK.push(t),this.BK()}},n.HK=function(t){if(this.PK)throw new y("Request has been redirected or a response already exists");if(ri(t))this.ZK(t);else{if("function"!=typeof t)throw new _("Expected promise or function");var n=new Yc;try{var i=t((function(t){t?n.Fb(t):n.Ob(void 0)}));ri(i)&&n.Kw(i)}catch(t){n.Fb(t)}this.ZK(n.Vb)}},n.ZK=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),n.LK++,[4,t];case 1:return r.sent(),n.LK--,n.MK||n.PK||(n.FK.length?n.BK():n.OD()),[3,3];case 2:return i=r.sent(),n.LK--,n.FK.push(i),n.MK||n.PK||n.BK(),[3,3];case 3:return[2]}}))}))()},xt(t,[{key:"RK",get:function(){return this.IK.Vb}},{key:"ka",get:function(){return this.su||(this.su=this.CK()),this.su}},{key:"PK",get:function(){return this.DK}},{key:"NK",get:function(){return!this.DK}},{key:"MK",get:function(){return this.LK>0}},{key:"ZE",get:function(){return this.XE}}]),t}(),qI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).zK=r,e.UK(),e}Rt(n,t);var i=n.prototype;return i.CK=function(){return function(t){var n,i=ZI(t.Kk);return{get closed(){return!t.NK},get request(){return i},get url(){return t.Gu},get status(){return t.zk},get statusText(){return t.Qk},get headers(){return n||(n=t.jk.Sk()),n},get body(){return t.Nk},respondWith:function(n){return t.VK(n)},waitUntil:function(n){return t.HK(n)}}}(this)},i.WK=function(t){return n.qK(t,this.XK,this.zK)},n.qK=function(t,n,i){var r=void 0===t.body?i:t.body;return new hd({qk:r,Kk:n.Kk,Yk:n.Kk.Yk,jk:t.headers,zk:t.status,Qk:t.statusText,$k:t.url,Jk:!0},n)},xt(n,[{key:"Nk",get:function(){return this.zK}},{key:"jk",get:function(){return this.XK.jk}},{key:"Kk",get:function(){return this.XK.Kk}},{key:"ZE",get:function(){return this.XE}},{key:"zk",get:function(){return this.XK.zk}},{key:"Qk",get:function(){return this.XK.Qk}},{key:"Gu",get:function(){return this.XK.$k}}]),n}(KI);U(),St(),Dt(),Ct();var JI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).jK=void 0,e.YK=r,e.UK(),e}Rt(n,t);var i=n.prototype;return i.CK=function(){return function(t){var n;return{get url(){return t.Gu},get method(){return t.yE},get headers(){return n||(n=t.jk.Sk()),n},get body(){return t.Nk},get closed(){return!t.NK},get useCredentials(){return t.kE},get type(){return t.Aw},get subType(){return t.SE},get mediaType(){return t.TE},get responseType(){return t.Yk},redirect:function(n){return t.QK(n)},respondWith:function(n){return t.VK(n)},waitUntil:function(n){return t.HK(n)}}}(this)},i.WK=function(t){var n=this.XK.Nk,i=new hd({qk:n,jk:{},Kk:this.XK,$k:this.XK.Gu,Yk:this.XK.Yk,zk:200,Qk:"OK"});return qI.qK(t,i,n)},i.QK=function(t){if(!this.NK)throw new _("Cannot redirect, already redirected or has a response");var n;n=ni(t)?{url:t}:t,this.jK=function(t,n){return new md({Gu:void 0===t.url?n.Gu:t.url,yE:void 0!==t.method?GI(t.method):void 0,jk:t.headers,Nk:t.body,kE:t.useCredentials,Aw:void 0!==t.type?HI(t.type):void 0,SE:void 0!==t.subType?zI(t.subType):void 0,TE:void 0!==t.mediaType?YI(t.mediaType):void 0,Yk:void 0!==t.responseType?XI(t.responseType):void 0},n)}(n,this.XK),this.OD()},xt(n,[{key:"Nk",get:function(){return this.XK.Nk}},{key:"NK",get:function(){return this.YK&&!this.DK}},{key:"jk",get:function(){return this.XK.jk}},{key:"yE",get:function(){return this.XK.yE}},{key:"KK",get:function(){return this.jK}},{key:"ZE",get:function(){return this.XE}},{key:"Yk",get:function(){return this.XK.Yk}},{key:"bE",get:function(){return this.XK.bE}},{key:"AE",get:function(){return this.XK.AE}},{key:"Vw",get:function(){return this.XK.Vw}},{key:"Aw",get:function(){return this.XK.Aw}},{key:"SE",get:function(){return this.XK.SE}},{key:"TE",get:function(){return this.XK.TE}},{key:"Gu",get:function(){return this.XK.Gu}},{key:"kE",get:function(){return this.XK.kE}},{key:"RE",get:function(){return this.XK.RE}},{key:"EE",get:function(){return this.XK.EE}},{key:"xE",get:function(){return this.XK.xE}},{key:"CE",get:function(){return this.XK.CE}}]),n}(KI);var QI=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new $I(n);return(r=t.call(this,e,i)||this).$K=e,r}Rt(n,t);var i=n.prototype;return i.JK=function(t){this.$K.JK(t)},i.tj=function(t){this.$K.tj(t)},i.ej=function(t){this.$K.ej(t)},i.GX=function(t){this.$K.GX(t)},i.zX=function(t){this.$K.zX(t)},n}(pd),$I=function(){function t(t){this.rj=[],this.hj=[],this.BE=t}var n=t.prototype;return n.Kk=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,n.ij(t,t.Vw)];case 1:return i=e.sent(),[3,5];case 2:return(r=e.sent())instanceof Id?[4,n.sj(r,t.Vw)]:[3,4];case 3:return[2,e.sent()];case 4:throw r;case 5:return[4,n.nj(i,t.Vw)];case 6:if(cd(i=e.sent()))return[2,i];throw new Cd(i)}}))}))()},n.PE=function(t){return this.BE.PE(t)},n.ij=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:jo(n),r=t,u=0,s=i.rj.slice(),c.label=1;case 1:if(!(u<s.length))return[3,7];if(o=s[u],jo(n),(a=new JI(r,o,!e)).PK)return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.RK];case 3:return c.sent(),[3,5];case 4:return c.sent(),[3,6];case 5:a.KK&&!e?r=a.KK:a.ZE&&!e&&(e=a.ZE),c.label=6;case 6:return u++,[3,1];case 7:return e?[2,e]:[2,i.BE.Kk(r)]}}))}))()},n.sj=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return t instanceof Cd?r=t.ZE:(e=t.Kk,r=new hd({qk:null,Kk:e,Yk:e.Yk,zk:0,Qk:""})),[4,i.nj(r,n)];case 1:if((u=s.sent())===r)throw t;if(cd(u))return[2,u];throw new Cd(u)}}))}))()},n.nj=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:r=t,e=0,u=i.hj.slice(),c.label=1;case 1:return e<u.length?(s=u[e],jo(n),[4,ut.resolve(r.xb().qk(n))]):[3,8];case 2:if(o=c.sent(),(a=new qI(r,s,o)).PK)return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,a.RK];case 4:return c.sent(),[3,6];case 5:return c.sent(),[3,7];case 6:r=a.ZE||r,c.label=7;case 7:return e++,[3,1];case 8:return[2,r]}}))}))()},n.JK=function(t){this.rj.unshift(t)},n.tj=function(t){this.rj.push(t)},n.ej=function(t){_o(this.rj,t)},n.GX=function(t){this.hj.unshift(t)},n.zX=function(t){_o(this.hj,t)},n.gn=function(){this.BE.gn(),So(this.rj),So(this.hj)},t}();U(),St(),Dt(),Ct();var tR=function(){function t(t){this.lW=t}var n=t.prototype;return n.JK=function(t){this.lW.JK(t)},n.ej=function(t){this.lW.ej(t)},n.GX=function(t){this.lW.GX(t)},n.zX=function(t){this.lW.zX(t)},xt(t,[{key:"ka",get:function(){return this.su||(this.su=function(t){return{addRequestInterceptor:function(n){t.JK(n)},removeRequestInterceptor:function(n){t.ej(n)},addResponseInterceptor:function(n){t.GX(n)},removeResponseInterceptor:function(n){t.zX(n)}}}(this)),this.su}}]),t}(),nR=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).vj=n,e.lW=i,e.vZ=r,e.mj=function(t){e.wo(t)},e.gj=function(t){e.wo(t)},e.vj.yn(fa.Hy,e.mj),e.vj.yn(fa.Gy,e.gj),e}Rt(n,t);var i=n.prototype;return i.uj=function(t){this.vZ.uj(t)},i.JK=function(t){this.lW.JK(t)},i.ej=function(t){this.lW.ej(t)},i.GX=function(t){this.lW.GX(t)},i.zX=function(t){this.lW.zX(t)},i.gn=function(){this.$o(),this.vj.fn(fa.Hy,this.mj),this.vj.fn(fa.Gy,this.gj)},xt(n,[{key:"ka",get:function(){return this.su||(this.su=function(t){return{get online(){return t.XR},get estimator(){return function(t){return{get bandwidth(){return t.wG},get roundTripTime(){return t.yG}}}(t.aj)},setEstimator:function(n){t.uj(function(t){if(!t)return;return{get wG(){return Zg(t.bandwidth)},get yG(){return Zg(t.roundTripTime)},bG:function(n){return function(t){if(!t)return;return{cj:function(n){t.markRequestStart(n)},lj:function(n){t.markResponseStart(n)},dj:function(n,i){t.markResponseData(n,i)},_j:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(ZI(n)))}}}(n))},addRequestInterceptor:function(n){t.JK(n)},removeRequestInterceptor:function(n){t.ej(n)},addResponseInterceptor:function(n){t.GX(n)},removeResponseInterceptor:function(n){t.zX(n)},addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)}}}(this)),this.su}},{key:"XR",get:function(){return this.vj.XR}},{key:"aj",get:function(){return this.vZ.aj}}]),n}(oa);U(),St(),Dt(),Ct(),U(),St(),U(),St();var iR=function(t){return t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth",t}({});U(),St();function rR(t,n,i,r,e,u){var s=[],o=t-A.max(u,1),a=t+e;if(n&&i){var c=cr(i,1,5),h=n-c;o=A.min(o,h);var f=n+i+c;a=A.max(a,f)}return 0!==o&&r.nB(0,o)&&s.push([0,o]),r.nB(a,1/0)&&s.push([a,1/0]),s}function eR(t){return t instanceof y&&"QuotaExceededError"===t.name}U(),St();var uR={type:iR.BANDWIDTH};function sR(t){var n=Mg(uR);return ni(t)?n.type=oR(t):$n(t)&&function(t){switch(t){case iR.PERFORMANCE:case iR.QUALITY:case iR.BANDWIDTH:return!0;default:return!1}}(t.type)&&(n.type=oR(t.type)),$n(t)&&$n(t.metadata)&&(n.metadata=function(t){var n={},i=jg(t.bitrate);return E(i)||(n.bitrate=i),n}(t.metadata)),n}function oR(t){switch(t){case"bandwidth":return iR.BANDWIDTH;case"performance":return iR.PERFORMANCE;case"quality":return iR.QUALITY}}U(),St(),Ct();var aR=function(t){function n(n){var i;return(i=t.call(this,"pj")||this).wj=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var cR=function(t){function n(n){var i;return(i=t.call(this,"yj")||this).bj=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var hR=function(t){function n(n){var i;return(i=t.call(this,"Aj")||this).Sj=n,i}return Rt(n,t),n}(ha),fR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).su=function(t){return{get strategy(){return function(t){return{metadata:t.metadata,type:t.type}}(t.bj)},set strategy(n){t.bj=sR(n)},get targetBuffer(){return t.wj},set targetBuffer(n){var i=jg(n);E(i)||(t.wj=i)},get bufferLookbackWindow(){return t.Sj},set bufferLookbackWindow(n){var i=jg(n);E(i)||(t.Sj=i<=0?30:i)},get maxBufferLength(){return t.Nj},get clearBufferWhenSettingTargetQuality(){return t.Bj},set clearBufferWhenSettingTargetQuality(n){t.Bj=Ug(n)}}}(n),n.Rj=uR,n.Ij=20,n.Dj=30,n.Pj=1/0,n.Oj=!1,n.Mj=void 0,n}Rt(n,t);var i=n.prototype;return i.Tj=function(t){this.Ej=t},i.uj=function(t){this.Mj=t},i.Lj=function(t){var n=A.min(t,.8*this.Pj);if(n=A.max(10,n),this.Pj===n)return!1;var i=this.Cj;this.Pj=n;var r=this.Cj;return r!==i&&this.wo(new aR(r)),!0},xt(n,[{key:"xj",get:function(){switch(this.Rj.type){case iR.PERFORMANCE:return 0;case iR.QUALITY:return 1/0;case iR.BANDWIDTH:return this.Rj.metadata&&void 0!==this.Rj.metadata.bitrate?this.Rj.metadata.bitrate:Ck.Fg.aG();default:return Ck.Fg.aG()}}},{key:"ka",get:function(){return this.su}},{key:"bj",get:function(){return this.Rj},set:function(t){this.Rj=t,this.wo(new cR(t))}},{key:"wj",get:function(){return this.Ij},set:function(t){this.Ij=t,this.wo(new aR(t))}},{key:"Cj",get:function(){return A.min(this.Ij,this.Pj)}},{key:"Sj",get:function(){return this.Dj},set:function(t){this.Dj=t,this.wo(new hR(t))}},{key:"Nj",get:function(){return this.Pj}},{key:"aj",get:function(){var t;return null!=(t=this.Mj)?t:this.Ej.$G}},{key:"Bj",get:function(){return this.Oj},set:function(t){this.Oj=t}}]),n}(oa);U(),St(),Dt(),Ct(),U(),St(),Ct();var vR=function(t){function n(){return t.call(this,"$I")||this}return Rt(n,t),n.prototype.ba=function(){return new lR},n}(yg),lR=function(t){function n(){return t.call(this,"change")||this}return Rt(n,t),n}(ha);U(),St(),U(),St(),Ct();var dR=function(t){function n(n,i,r){var e;(e=t.call(this,r)||this).Vj=function(t){_g(t)&&$o((function(){e.wo(t.ka)}))},e.Fj=n,e.Yf=i;for(var u=0,s=e.Yf;u<s.length;u++){var o=s[u];e.Fj.yn(o,e.Vj)}return e}return Rt(n,t),n.prototype.gn=function(){this.$o();for(var t=0,n=this.Yf;t<n.length;t++){var i=n[t];this.Fj.fn(i,this.Vj)}},n}(oa),gR=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Vj=function(t){_g(t)&&$o((function(){r.wo(t.ka)}))},r.Fj=n,r.Fj.iy(r.Vj),r}return Rt(n,t),n.prototype.gn=function(){this.$o(),this.Fj._y(this.Vj)},n}(ca);var mR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).YO=0,n.QO=1/0,n}Rt(n,t);var i=n.prototype;return i.er=function(){0===this.YO&&this.QO===1/0||(this.YO=0,this.QO=1/0,this.wo(new vR))},i.Wj=function(){return new MA([this.FO,this.VO],[!0,!0])},xt(n,[{key:"FO",get:function(){return this.YO},set:function(t){if(this.VO<=t)throw new y("Start time of a clip should be smaller than the end time.");this.YO!==t&&(this.YO=t,this.wo(new vR))}},{key:"VO",get:function(){return this.QO},set:function(t){if(t<=this.FO)throw new y("End time of a clip should be larger than the start time.");this.QO!==t&&(this.QO=t,this.wo(new vR))}},{key:"ka",get:function(){return this.su||(this.su=function(t){var n,i={get startTime(){return t.FO},set startTime(n){t.FO=n},get endTime(){return t.VO},set endTime(n){t.VO=n},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new gR(t,i),i}(this)),this.su}}]),n}(ca);U(),St(),Gt(),Dt(),Ct(),Jt();var wR=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).Hj=!1,e.Qj=void 0,e.Jj=!1,e.zj=function(){e.Xj(),e.Gj()},e.jc=function(){e.qj(),e.Gj(),e.jj&&e.SR>=e.Uj.VO-n.$j&&!e.RR&&(e.Qj=fI(e.jc))},e.Yj=function(){e.Jj=!0},e.Kj=function(){e.Jj&&(e.Jj=!1,e.Gj())},e.Uj=r,e.Uj.yn("$I",e.zj),e.vR.yn(fa.sb,e.jc),e}Rt(n,t);var i=n.prototype;return i.ER=function(n,i){var r=this.Uj.Wj().qL(n);t.prototype.ER.call(this,r,i),this.Gj()},i.IR=function(){return t.prototype.IR.call(this)||this.Hj},i.oI=function(){return MA.xn(t.prototype.oI.call(this)).Sn(this.Uj.Wj()).ks()},i.kI=function(){this.IR()?this.ER(this.Zj.start(0)):this.Xj(),t.prototype.kI.call(this),this.Gj()},i.xa=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return jo(i),r.Hj=!1,r.Uj.er(),[4,t.prototype.xa.call(r,n,i)];case 1:return e.sent(),[2]}}))}))()},i.gn=function(){return this.Uj.fn("$I",this.zj),this.vR.fn(fa.sb,this.jc),this.qj(),t.prototype.gn.call(this)},i.MI=function(n){switch(n.type){case fa.jy:return this.wo(n),this.Yj(),!0;case fa.Ky:case fa.Ry:return this.wo(n),this.Kj(),!0;case fa.Cy:if(this.jj)return!0}return t.prototype.MI.call(this,n)},i.qj=function(){this.Qj&&(vI(this.Qj),this.Qj=void 0)},i.Gj=function(){var t=this.SR,i=this.jj&&t>=this.Uj.VO-n.od;this.Hj&&!i?(this.Hj=!1,this.qR&&this.kI()):this.Hj||!i||this.hI||this.Jj||(this.Hj=!0,this.wo(new kT(t)),this.TI())},i.Xj=function(){if(this.ct!==1/0){var t=this.Zj,i=MA.xn(t).qL(this.SR);hr(this.SR,i,n.od)||this.ER(i)}},xt(n,[{key:"Zj",get:function(){return this.oI().length?this.oI():this.Uj.Wj().ks()}},{key:"jj",get:function(){return this.Uj.VO<this.ct}}]),n}(uA);wR.$j=1,wR.od=.001,U(),St(),Dt();var pR=function(){function t(){this.eQ=!1}return xt(t,[{key:"tQ",get:function(){return this.eQ},set:function(t){this.eQ=t}}]),t}();U(),St(),Ct();var yR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).sQ=!1,r.iQ=!1,r.eQ=i,r}Rt(n,t);var i=n.prototype;return i.IR=function(){return!this.eQ.tQ&&t.prototype.IR.call(this)},i.TI=function(){this.iQ=!0,t.prototype.TI.call(this)},i.kI=function(){this.iQ=!1,t.prototype.kI.call(this)},i.MI=function(n){if(this.eQ.tQ)switch(n.type){case fa.Cy:return this.SR=0,this.iQ||(this.hI?this.sQ=!0:this.kI()),!0;case fa.Ky:this.sQ&&(this.sQ=!1,this.kI());break;case fa.Zy:if(this.sQ||t.prototype.IR.call(this))return!0}return t.prototype.MI.call(this,n)},n}(uA);U(),St(),Dt(),U(),St();var _R=function(){function t(t){this.ea=t,this.su=function(t){return{get currentBandwidthEstimate(){return t.vO},get corruptedVideoFrames(){return t.fO},get droppedVideoFrames(){return t.dO},get totalVideoFrames(){return t._O},get totalBytesLoaded(){return t.mO},get bufferedSegments(){return t.gO}}}(this)}return xt(t,[{key:"ka",get:function(){return this.su}},{key:"fO",get:function(){return this.ea.WR.fO}},{key:"vO",get:function(){return this.ea.WR.vO}},{key:"dO",get:function(){return this.ea.WR.dO}},{key:"nQ",get:function(){throw new y("Not implemented")}},{key:"rQ",get:function(){throw new y("Not implemented")}},{key:"mO",get:function(){return this.ea.WR.mO}},{key:"_O",get:function(){return this.ea.WR._O}},{key:"gO",get:function(){return this.ea.WR.gO}}]),t}();function bR(t){if(!t||!Ci(t))return{dO:0,fO:0,_O:0,vO:0,mO:0,gO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{dO:n.droppedVideoFrames,fO:n.corruptedVideoFrames||0,_O:n.totalVideoFrames}}return{dO:t.webkitDroppedFrameCount||0,fO:0,_O:t.webkitDecodedFrameCount||0}}U(),St(),Dt(),Ct(),U(),St(),Ct();var kR=function(t){function n(){return t.call(this,"oQ")||this}return Rt(n,t),n.prototype.ba=function(){return new AR},n}(yg),AR=function(t){function n(){return t.call(this,"castingchange")||this}return Rt(n,t),n}(ha);U(),St();var TR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).aQ=void 0,n.uQ=void 0,n.gQ=!1,n.su=void 0,n.vQ=function(){var t=n.gQ,i=n.hQ;t!==i&&(n.gQ=i,n.wo(new kR))},n}Rt(n,t);var i=n.prototype;return i.dQ=function(t){this.aQ=t,this.fQ(t)},i._Q=function(t){this.uQ=t,this.fQ(t)},i.fQ=function(t){t.yn("statechange",this.vQ)},i.mQ=function(t){t.fn("statechange",this.vQ)},i.gn=function(){this.$o(),this.aQ&&(this.mQ(this.aQ),this.aQ=void 0),this.uQ&&(this.mQ(this.uQ),this.uQ=void 0)},xt(n,[{key:"hQ",get:function(){var t,n;return(null==(t=this.aQ)?void 0:t.hQ)||(null==(n=this.uQ)?void 0:n.hQ)||!1}},{key:"cQ",get:function(){return this.aQ}},{key:"lQ",get:function(){return this.uQ}},{key:"ka",get:function(){return this.su||(this.su=function(t){var n,i={get casting(){return t.hQ},get airplay(){var n;return null==(n=t.cQ)?void 0:n.ka},get chromecast(){var n;return null==(n=t.lQ)?void 0:n.ka},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new dR(t,["oQ"],i),i}(this)),this.su}}]),n}(oa);U(),St(),Gt(),Jt(),U(),St(),Gt(),Jt();var SR=function(){function t(){}return t.pQ=function(t,n){return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),i=new md({Gu:t,Yk:xl.Ak,yE:fd.GET}),[4,n.Kk(i)];case 1:return[4,r.sent().qk()];case 2:return[2,r.sent().trim()];case 3:return Wo(r.sent()),[2,void 0];case 4:return[2]}}))}))()},t.wQ=function(t){try{var n=CE(t);return new ME(n.key,n.domains_page,n.domains_source,n.expiration_date,n.features,n.customer_id,n.generation_date,n.sdks,n.send_impression)}catch(t){throw new sl(el.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.yQ=function(t){void 0===t&&(t=mE.ph),qn.Op("The baked-in license is used. Please update the configuration with your license.");var n=t.qz("F2b-iL'[FL[S"),i=JSON.parse('["F$(:_L50F|aY"]').map((function(n){return t.qz(n)})),r=JSON.parse('[".$hsF|b9_Ess*rS:F]Y\\""]').map((function(n){return t.qz(n)})),e=Number(new Date(Number(t.qz('COD|aHpHa:p3Ceo3Co""')))),u=JSON.parse("[]").map((function(n){return t.qz(n)}));return new ME(n,i,r,e,u)},t.convertLicenseToDummyLicense=function(t){return new ME(t.iq,t.nq,t.rq,864e13,t.hq,t.aq,Date.now(),t.cq,t.lq)},t}(),ER="https://validate.theoplayer.com/1/",IR=72e5,RR=A.floor(14399999*A.random()-IR),CR="THEOplayer.license",NR=function(){function t(t,n,i,r,e,u){this.lW=t,this.RQ=n,this.MQ=i,this.tY=r,this.kQ=e,this.kA=u,this.xq=GE(u)}var n=t.prototype;return n.SQ=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.TQ(t.kQ.license,t.kQ.licenseUrl)];case 1:return n=i.sent(),t.tY.EQ(n),[2]}}))}))()},n.TQ=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return r=n,t?e=SR.wQ(t):r||(e=SR.yQ()),r||(r=ER+e.iq),u=i.xQ(),e?(s=i.RQ.bq(e))!==PE.Jz?[3,3]:i.IQ(e.oq)&&i.IQ(null==u?void 0:u.oq)?[4,i.CQ(r)]:[3,2]:[3,3];case 1:if(o=f.sent())return[2,o];f.label=2;case 2:return[2,e];case 3:return u?i.RQ.bq(u)!==PE.Jz?[3,6]:i.IQ(null==u?void 0:u.oq)?[4,i.CQ(r)]:[3,5]:[3,7];case 4:if(a=f.sent())return[2,a];f.label=5;case 5:return[2,u];case 6:nA.Bb(CR),f.label=7;case 7:return[4,SR.pQ(r,i.lW)];case 8:if(c=f.sent()){if(h=SR.wQ(c),i.RQ.bq(h)===PE.Jz)return nA.Mb(CR,c),[2,h];nA.Bb(CR)}else if(!i.xq&&e&&s===PE.$z&&r===ER+e.iq)return[2,SR.convertLicenseToDummyLicense(e)];if(!e&&!h)throw new sl(el.LICENSE_ERROR,"The given license is invalid!");return i.DQ(null!=e?e:h,new sl(el.LICENSE_ERROR,"The given license is invalid!")),[2]}}))}))()},n.vq=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,n.tY.$q()];case 1:return i=c.sent(),n.IQ(i.oq)?(e=null!=(r=n.kQ.licenseUrl)?r:ER+i.iq,[4,n.CQ(e)]):[3,3];case 2:(u=c.sent())&&(n.tY.EQ(u),i=u),c.label=3;case 3:try{if((s=n.RQ.bq(i))===PE.tq)throw o=BE.dq,new sl(FE(o),HE.wq(o));if(s===PE.$z)throw a=BE.$z,new sl(FE(a),HE.wq(a));n.RQ.vq(t,i)}catch(t){n.NQ(t)}return[2]}}))}))()},n.yq=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.tY.$q()];case 1:i=r.sent();try{n.RQ.yq(t,i)}catch(t){n.NQ(t)}return[2]}}))}))()},n.CQ=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,SR.pQ(t,n.lW)];case 1:return void 0===(i=e.sent())?[2,void 0]:(r=SR.wQ(i),n.RQ.bq(r)===PE.Jz?(nA.Mb(CR,i),[2,r]):[2,void 0]);case 2:return e.sent(),[2,void 0];case 3:return[2]}}))}))()},n.IQ=function(t){return!t||Number(new Date)+2592e5+RR>=t},n.xQ=function(){var t=nA.Nb(CR);if(t)return SR.wQ(t)},n.DQ=function(t,n){this.tY.EQ(t),this.NQ(n)},n.NQ=function(t){throw Qr(t.message),this.MQ.sY(t.message),t},t}();U(),St(),Gt(),Dt(),Jt();var xR=function(){function t(){this.BQ=new Yc}var n=t.prototype;return n.EQ=function(t){this.LQ=t,this.BQ.Ob()},n.$q=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.LQ?[2,ut.resolve(t.LQ)]:[4,t.BQ.Vb];case 1:return n.sent(),[2,t.LQ]}}))}))()},xt(t,[{key:"OQ",get:function(){return this.LQ}}]),t}();U(),St(),Dt(),Ct(),U(),St(),Ct();var DR=function(t){function n(){return t.call(this,"$I")||this}return Rt(n,t),n.prototype.ba=function(){return new PR},n}(yg),PR=function(t){function n(){return t.call(this,"change")||this}return Rt(n,t),n}(ha);function MR(t){var n,i={get fontFamily(){return t.FQ},set fontFamily(n){t.FQ=n},get fontColor(){return t.VQ},set fontColor(n){t.VQ=n},get fontSize(){return t.WQ},set fontSize(n){t.WQ=n},get backgroundColor(){return t.UQ},set backgroundColor(n){t.UQ=n},get windowColor(){return t.GQ},set windowColor(n){t.GQ=n},get edgeStyle(){return t.HQ},set edgeStyle(n){t.HQ=n},get marginTop(){return t.ZQ},set marginTop(n){t.ZQ=n},get marginBottom(){return t.XQ},set marginBottom(n){t.XQ=n},get marginLeft(){return t.zQ},set marginLeft(n){t.zQ=n},get marginRight(){return t.qQ},set marginRight(n){t.qQ=n},addEventListener:function(t,i){var r=Hg(t,Xg);n.yn(r,i)},removeEventListener:function(t,i){var r=Hg(t,Xg);n.fn(r,i)}};return n=new aa(i),t.yn(["$I"],(function(t){return n.wo(t.ka)})),i}U(),St();var BR={FQ:void 0,VQ:void 0,WQ:void 0,UQ:void 0,GQ:void 0,HQ:void 0,ZQ:void 0,XQ:void 0,zQ:void 0,qQ:void 0},OR="THEOplayer.textTrackStyle.",LR=function(t){function n(){var i;return(i=t.call(this)||this).su=void 0,i.KQ=n.QQ(),i}return Rt(n,t),n.prototype.tr=function(t){this.KQ=us({},this.KQ,t),n.jQ(this.KQ),this.wo(new DR)},n.QQ=function(){var t=us({},BR);return t.FQ=nA.Nb(OR+"fontFamily")||t.FQ,t.VQ=nA.Nb(OR+"fontColor")||t.VQ,t.WQ=nA.Nb(OR+"fontSize")||t.WQ,t.UQ=nA.Nb(OR+"backgroundColor")||t.UQ,t.GQ=nA.Nb(OR+"windowColor")||t.GQ,t.HQ=nA.Nb(OR+"edgeStyle")||t.HQ,t},n.jQ=function(t){nA.Mb(OR+"fontFamily",t.FQ||""),nA.Mb(OR+"fontColor",t.VQ||""),nA.Mb(OR+"fontSize",t.WQ||""),nA.Mb(OR+"backgroundColor",t.UQ||""),nA.Mb(OR+"windowColor",t.GQ||""),nA.Mb(OR+"edgeStyle",t.HQ||"")},xt(n,[{key:"YQ",get:function(){return this.KQ}},{key:"FQ",get:function(){return this.KQ.FQ},set:function(t){this.tr({FQ:t})}},{key:"VQ",get:function(){return this.KQ.VQ},set:function(t){this.tr({VQ:t})}},{key:"WQ",get:function(){return this.KQ.WQ},set:function(t){this.tr({WQ:t})}},{key:"UQ",get:function(){return this.KQ.UQ},set:function(t){this.tr({UQ:t})}},{key:"GQ",get:function(){return this.KQ.GQ},set:function(t){this.tr({GQ:t})}},{key:"HQ",get:function(){return this.KQ.HQ},set:function(t){this.tr({HQ:t})}},{key:"ZQ",get:function(){return this.KQ.ZQ},set:function(t){this.tr({ZQ:t})}},{key:"XQ",get:function(){return this.KQ.XQ},set:function(t){this.tr({XQ:t})}},{key:"qQ",get:function(){return this.KQ.qQ},set:function(t){this.tr({qQ:t})}},{key:"zQ",get:function(){return this.KQ.zQ},set:function(t){this.tr({zQ:t})}},{key:"ka",get:function(){return this.su||(this.su=MR(this)),this.su}}]),n}(oa);function FR(t,n){var i,r;t.style.marginLeft=(null!=(i=n.zQ)?i:0)+"px",t.style.marginRight=(null!=(r=n.qQ)?r:0)+"px",t.style.width="calc(100% - "+t.style.marginLeft+" - "+t.style.marginRight+")"}U(),St(),Gt(),Dt(),Wt(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var VR=[fa.ro,fa.Zy,Ey.VL,fa.sb,fa.Xy,fa.Vy,fa.jy,fa.Ky,fa.Cy,fa.zy,fa.ob,fa.xy,Ey.tC,fa.Yy,zp.da,wa.Iy,wa.Ab,fa.Sy,fa.Ay,fa.hb,fa.fb,fa.Ly,fa.Oy,fa.Ny,fa.Py],UR={ZB:!1};function WR(t){return t.bd.Aw===Sy.gW}U(),St();var jR=function(t){return t.JQ="$Q",t}({}),ZR=["$Q"],XR=function(t){return t[t.tJ=0]="tJ",t[t.bk=1]="bk",t[t.eJ=2]="eJ",t}({});U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt();var GR=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"],HR=function(t){return t.iJ="sJ",t.nJ="rJ",t.oJ="hJ",t}({}),zR=function(t){function n(n,i,r,e){var u;(u=t.call(this)||this).yJ=!1,u.bJ=new Yc,u.lJ=!1,u.Qo=new dl,u.hT=void 0,u.vJ=function(){u.lJ=!0},u.mJ=function(){u.wJ(!0)},u.DT=n,u.FB=i,u.QT=i.YG,u.fJ=r,u.Pw=e,u.QT.addEventListener("loadedmetadata",u.vJ);for(var s=0;s<GR.length;s++){var o=GR[s];u.QT.addEventListener(o,u.mJ)}return u}Rt(n,t);var i=n.prototype;return i.aJ=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,i.Pw.Cw(t.Sw,n)];case 1:return[4,e.sent().dT()];case 2:return r=e.sent(),[4,i.uJ(r)];case 3:return e.sent(),[2,r]}}))}))()},i.cJ=function(t){var n=this,i=this.hT;return i?0!==t.eH.length&&t.eH.some((function(t){return t.aT.Sw===i.aT})):0!==this.DT.eH.length?t.eH.some((function(t){return n.DT.eH.some((function(n){return t.aT===n.aT}))})):0===t.eH.length||!this.lJ},i.dJ=function(t){return this.fJ.dJ(t),this.DT=t,ut.resolve()},i._J=function(t){this.fJ._J(t)},i.Hw=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:for(t.$o(),t.QT.removeEventListener("loadedmetadata",t.vJ),n=0;n<GR.length;n++)i=GR[n],t.QT.removeEventListener(i,t.mJ);return[4,t.Qo.gn()];case 1:return r.sent(),t.gJ(),[4,t.fJ.er()];case 2:return r.sent(),[4,t.pJ(void 0)];case 3:return r.sent(),[2]}}))}))()},i.wJ=function(t){t!==this.yJ&&(this.yJ=t,t?this.bJ.Ob(void 0):this.bJ=new Yc)},i.uJ=function(t){var n=this;return this.Qo.Jo((function(){return n.pJ(t)}))},i.pJ=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(t&&!n.QT.src&&!n.QT.srcObject)throw new em(el.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&(n.QT.src||n.QT.srcObject))throw new em(el.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return!t||n.yJ?[3,2]:[4,n.bJ.Vb];case 1:r.sent(),r.label=2;case 2:return(i=n.hT)?[4,i.cT(n.QT)]:[3,4];case 3:r.sent(),n.hT=void 0,r.label=4;case 4:return t?[4,t.bn(n.QT)]:[3,6];case 5:r.sent(),n.hT=t,r.label=6;case 6:return[2]}}))}))()},i.xa=function(t){var n=this;return this.Qo.Jo((function(){return n.AJ(t)}))},i.AJ=function(t){this.wJ(!1);var n=this.FB.KR;if(ni(t))this.QT.src=t;else if(function(t){if(void 0!==f.ManagedMediaSource&&t instanceof f.ManagedMediaSource)return!0;if("undefined"!=typeof MediaSource&&t instanceof MediaSource)return!0;return!1}(t))if(function(t){return"srcObject"in t&&Gn.iu&&Gn.rg>=17}(this.QT))try{this.QT.srcObject=t}catch(n){this.QT.src=URL.createObjectURL(t)}else this.QT.src=URL.createObjectURL(t);else YR(t)&&(this.QT.srcObject=t);this.FB.KR=n},i.SJ=function(t){var n=this;return this.Qo.Jo((function(){return n.TJ(t)}))},i.TJ=function(t){this.AJ(t),this.QT.load()},i.gJ=function(){this.wJ(!1),Ni(this.QT)},i.kJ=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.hT?[4,t.hT.er()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},xt(n,[{key:"bd",get:function(){return this.DT}},{key:"YG",get:function(){return this.QT}}]),n}(oa);function YR(t){return"undefined"!=typeof MediaStream&&t instanceof MediaStream}var KR=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.Tj=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:switch((n=t.bd).sH){case wA.HC:case wA.ZC:t.QT.setAttribute("crossorigin",n.sH);break;case wA.gE:default:t.QT.removeAttribute("crossorigin")}return void 0!==n.tI?t.QT.preload=n.tI:t.QT.preload=nS.pG,void 0!==n.nH?t.QT.title=n.nH:ki(t.QT),n.IJ?[4,t.SJ(n.IJ)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,t.xa(n.OC)];case 3:i.sent(),i.label=4;case 4:return t.fJ.Dn(t,n),[2]}}))}))()},i.cJ=function(t){return!1},i.dJ=function(t){return ut.resolve(void 0)},i.CJ=function(t){return!1},i.PJ=function(){return!YR(this.DT.IJ)},i.Hw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return ki(n.QT),[4,t.prototype.Hw.call(n)];case 1:return i.sent(),[2]}}))}))()},n.DJ=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Dk))},xt(n,[{key:"gR",get:function(){return MA.xn(this.QT.buffered)}},{key:"ct",get:function(){return this.QT.duration}},{key:"EJ",get:function(){var t=this.ct;if(!isFinite(t))return!1;var n=this.gR;return 0!==n.V&&t-n.jn(n.V-1)<br}},{key:"tI",get:function(){return this.QT.preload},set:function(t){this.QT.preload=t}},{key:"rI",get:function(){return MA.xn(this.QT.seekable)}},{key:"xJ",get:function(){return this.gR}},{key:"RJ",get:function(){if(Ci(this.QT)&&(this.QT.videoWidth>0||this.QT.videoHeight>0))return this.gR}}]),n}(zR);U(),St(),Ct();var qR=function(t){function n(n){var i;return(i=t.call(this,fa.Xy)||this).currentTime=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var JR=function(t){function n(){return t.call(this,fa.Vy)||this}return Rt(n,t),n}(ha);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt(),Ct();var QR=function(t){return t.NJ="MJ",t}({}),$R=function(t){function n(n){var i;return(i=t.call(this,"MJ")||this).LJ=n,i}return Rt(n,t),n}(ha),tC=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).OJ=MA.mB(),n}Rt(n,t);var i=n.prototype;return i.FJ=function(t,n){var i=new MA([t,n]);this.OJ=this.OJ.JL(i),this.wo(new $R(i))},i.VJ=function(t,n){this.OJ=this.OJ.tB(new MA([t,n]))},i.er=function(){this.OJ=MA.mB()},i.gn=function(){this.$o()},xt(n,[{key:"BJ",get:function(){return this.OJ}}]),n}(oa);function nC(t,n){return void 0===n&&(n=new Wl({highWaterMark:1/0})),new Vl(new iC(t,n),{highWaterMark:0})}U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var iC=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,u=n.highWaterMark,s=void 0===u?1:u;this.Yd=[],this.Kd=0,this.BQ=void 0,this.HJ=!1,this.XJ=void 0,this.zJ=function(t){return t.done?(i.GJ(),void i.BQ.close()):(i.Yd.push(t.value),i.Kd+=i.qJ(t.value),i.HJ&&i.GJ(),i.WJ()?i.Bd.read().then(i.zJ):void 0)},this.vx=function(t){i.GJ(),i.BQ.error(t)},this.Bd=t.getReader(),this.qJ=e,this.ZJ=s}var n=t.prototype;return n.start=function(t){this.BQ=t,this.WJ()&&this.UJ()},n.pull=function(){this.Yd.length>0?this.GJ():this.HJ=!0,this.WJ()&&this.UJ()},n.cancel=function(t){return So(this.Yd),this.Kd=0,this.HJ=!1,this.Bd.cancel(t)},n.GJ=function(){if(0!==this.Yd.length){var t=this.Yd;this.Yd=[],this.Kd=0,this.HJ=!1,this.BQ.enqueue(t)}},n.WJ=function(){return!!this.HJ||this.ZJ-this.Kd>0},n.UJ=function(){var t=this;if(!this.XJ){var n=this.Bd.read().then(this.zJ).catch(this.vx);this.XJ=n;var i=function(){t.XJ===n&&(t.XJ=void 0)};n.then(i,i)}},t}();U(),St(),U(),St(),Dt(),Ct(),U(),St(),U(),St();var rC=function(){function t(){this.KJ=[],this.Pb=0}var n=t.prototype;return n.YJ=function(t){this.KJ.push(t),this.Pb+=t.byteLength},n.jJ=function(t){if(this.Pb<=t)return this.QJ();for(var n=this.KJ,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.slice(0,r);if(r<n.length&&i<t){var u=t-i;0,e.push(Ac(n[r],0,u)),i+=u}return{KJ:e,Pb:i}},n.JJ=function(t){var n=this.jJ(t);return 1===n.KJ.length?n.KJ[0]:Wc(n.KJ,n.Pb)},n.QJ=function(){return{KJ:this.KJ,Pb:this.Pb}},n.$J=function(t){if(this.Pb<=t)return this.t$();for(var n=this.KJ,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.splice(0,r);if(n.length>0&&i<t){var u=t-i;0,e.push(Ac(n[0],0,u)),n[0]=Ac(n[0],u),i+=u}return this.Pb-=i,{KJ:e,Pb:i}},n.e$=function(t){var n=this.$J(t);return 1===n.KJ.length?n.KJ[0]:Wc(n.KJ,n.Pb)},n.t$=function(){var t=this.QJ();return this.KJ=[],this.Pb=0,t},n.i$=function(){var t=1===this.KJ.length?this.KJ[0]:Wc(this.KJ,this.Pb);return this.KJ=[],this.Pb=0,t},t}(),eC=function(){function t(){this.Yd=new rC,this.Ba=0,this.u$=0,this.p$=0,this.f$()}var n=t.prototype;return n.s$=function(t,n){},n.n$=function(){},n.r$=function(t){this.Yd.YJ(t),this.o$(!1)},n.h$=function(){this.o$(!0)},n.a$=function(){return 0!==this.Ba||0!==this.Yd.Pb},n.o$=function(t){for(;0!==this.Yd.Pb;){if(!t&&this.u$>this.Yd.Pb)return;switch(this.Ba){case 0:this.c$(t);break;case 1:this.l$(t);break;case 2:this.d$(t)}}},n.f$=function(){this.Ba=0,this.u$=8},n.c$=function(t){var n=Sc(this.Yd.JJ(this.u$)),i=new Dc,r=wp.GD(n,i);if(!r.OD)return this.u$=r.ZD,void(t&&this.u$>this.Yd.Pb&&this._$(this.Yd.Pb));var e=r.HD.Aw,u=r.HD.Pb;0===u&&(u=1/0),this.s$(e,u),this.v$(e)?this.m$(u):this._$(u)},n.m$=function(t){this.Ba=1,this.u$=t},n.l$=function(t){var n=Sc(this.Yd.e$(this.u$)),i=new Dc,r=wp.FD(n,i,!t);if(!r.OD)throw new mp(i.ec);this.n$(),this.g$(r.VD),this.f$()},n._$=function(t){this.Ba=2,this.u$=0,this.p$=t},n.d$=function(t){var n=this.Yd.$J(this.p$);this.p$-=n.Pb;for(var i=0,r=n.KJ;i<r.length;i++){var e=r[i];this.w$(e)}(0===this.p$||t&&this.p$===1/0)&&(this.n$(),this.f$())},t}();function uC(t){return t instanceof Kf}function sC(t){return t instanceof zf}function oC(t){return t instanceof Xf||t instanceof Gf}function aC(t){return t instanceof gf}function cC(t){return t instanceof Xh}function hC(t){return t instanceof Lf}function fC(t){return t instanceof Bf}function vC(t){return t instanceof av}function lC(t){return t instanceof sv}function dC(t){return t instanceof iv}function gC(t){return t instanceof ev}function mC(t,n){var i=go(t.boxes,dC);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var r=0,e=t.boxes;r<e.length;r++){var u=e[r];u instanceof ev&&u.flags.dataOffsetPresent&&(u.dataOffset=u.dataOffset+n)}}U(),St();var wC=function(t){function n(n){var i;return(i=t.call(this)||this).x$=as(),i.D$=n,i}Rt(n,t);var i=n.prototype;return i.start=function(t){this.BQ=t},i.transform=function(t){this.r$(t)},i.flush=function(){this.h$()},i.v$=function(t){return t===cp.vP||t===cp.nD||t===cp._D},i.g$=function(t){var n=this.y$(t);this.BQ.enqueue(n)},i.w$=function(t){this.BQ.enqueue(t)},i.y$=function(t){var n=Ec(t.qk.qk);switch(t.Aw){case"moov":return this.b$(n);case"sidx":return this.A$(n);case"moof":return this.S$(n)}return n},i.E$=function(t){var n=this.x$.get(t);if(void 0===n)throw new y("Expected to have found a media header timescale for track ID "+t+".");return n},i.b$=function(t){for(var n=Ev(t),i=0;i<n.boxes.length;i++){var r=n.boxes[i];r instanceof Uf?n.boxes[i]=this.R$(r):r instanceof Wf?n.boxes[i]=this.I$(r):r instanceof zf&&this.C$(r)}for(var e=0,u=n.boxes;e<u.length;e++){var s=u[e];s instanceof Lf&&this.P$(s)}return n.serialize().join()},i.R$=function(t){this.k$=t.timescale;var n=_C(ur.fromNumber(t.duration,!0),this.T$,this.D$);return 0!==n.getHighBits()?this.I$(function(t){return new Wf({creation:ur.fromNumber(t.creationTime,!0),modification:ur.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ur.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.D$,t.duration=n.toInt(),t)},i.I$=function(t){return this.k$=t.timescale,t.timescale=this.D$,t.duration=_C(t.duration,this.T$,this.D$),t},i.C$=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof Xf?(n=r.trackId,t.boxes[i]=this.N$(r)):r instanceof Gf?(n=r.trackId,t.boxes[i]=this.M$(r)):r instanceof gf?this.L$(r,n):r instanceof ef&&this.B$(r)}},i.N$=function(t){var n=_C(ur.fromNumber(t.duration,!0),this.T$,this.D$);return 0!==n.getHighBits()?this.M$(function(t){return new Gf({creation:ur.fromNumber(t.creationTime,!0),modification:ur.fromNumber(t.modificationTime,!0),duration:ur.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.M$=function(t){return t.duration=_C(t.duration,this.T$,this.D$),t},i.L$=function(t,n){for(var i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof ff?t.boxes[i]=this.O$(r,n):r instanceof vf&&(t.boxes[i]=this.F$(r,n))}},i.O$=function(t,n){this.x$.set(n,t.timescale);var i=_C(ur.fromNumber(t.duration,!0),t.timescale,this.D$);return 0!==i.getHighBits()?this.F$(function(t){return new vf({creation:ur.fromNumber(t.creationTime,!0),modification:ur.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ur.fromNumber(t.duration,!0)},t.language,t.flags)}(t),n):(t.timescale=this.D$,t.duration=i.toInt(),t)},i.F$=function(t,n){return this.x$.set(n,t.timescale),t.timescale=this.D$,t.duration=_C(t.duration,t.timescale,this.D$),t},i.B$=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var r=i[n];r instanceof tf?this.V$(r):r instanceof nf&&this.W$(r)}},i.V$=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=yC(r.mediaTime,this.T$,this.D$),r.segmentDuration=yC(r.segmentDuration,this.T$,this.D$)}},i.W$=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=_C(r.mediaTime,this.T$,this.D$),r.segmentDuration=_C(r.segmentDuration,this.T$,this.D$)}},i.P$=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Bf?this.U$(i):i instanceof Df?t.boxes[n]=this.G$(i):i instanceof Pf&&(t.boxes[n]=this.H$(i))}},i.U$=function(t){var n=this.E$(t.trackId);t.defaultSampleDuration=yC(t.defaultSampleDuration,n,this.D$)},i.G$=function(t){var n=_C(ur.fromNumber(t.fragmentDuration,!0),this.T$,this.D$);return 0!==n.getHighBits()?this.H$(function(t){return new Pf(ur.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.H$=function(t){return t.fragmentDuration=_C(t.fragmentDuration,this.T$,this.D$),t},i.A$=function(t){var n=Iv(t);return(n=n instanceof dv?this.Z$(n):this.X$(n)).serialize().join()},i.Z$=function(t){var n=t.timescale,i=_C(ur.fromNumber(t.earliestPresentationTime,!0),n,this.D$);if(0!==i.getHighBits())return this.X$(function(t){return new gv(t.referenceId,t.timescale,ur.fromNumber(t.earliestPresentationTime,!0),ur.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.D$,t.earliestPresentationTime=i.toInt();for(var r=0,e=t.references;r<e.length;r++){var u=e[r];u.subsegmentDuration=yC(u.subsegmentDuration,n,this.D$)}return t},i.X$=function(t){var n=t.timescale;t.timescale=this.D$,t.earliestPresentationTime=_C(t.earliestPresentationTime,n,this.D$);for(var i=0,r=t.references;i<r.length;i++){var e=r[i];e.subsegmentDuration=yC(e.subsegmentDuration,n,this.D$)}return t},i.S$=function(t){for(var n=Rv(t),i=n.getSize(),r=0,e=n.boxes;r<e.length;r++){var u=e[r];u instanceof sv&&this.z$(u)}var s=n.getSize();if(s!==i)for(var o=s-i,a=0,c=n.boxes;a<c.length;a++){var h=c[a];h instanceof sv&&mC(h,o)}return n.serialize().join()},i.z$=function(t){for(var n,i=0;i<t.boxes.length;i++){var r=t.boxes[i];r instanceof iv?(n=this.E$(r.trackId),this.q$(r,n)):r instanceof Qf?t.boxes[i]=this.Y$(r,n):r instanceof $f?t.boxes[i]=this.K$(r,n):r instanceof ev&&this.j$(r,n)}},i.q$=function(t,n){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=yC(t.defaultSampleDuration,n,this.D$))},i.Y$=function(t,n){var i=_C(ur.fromNumber(t.baseMediaDecodeTime,!0),n,this.D$);return 0!==i.getHighBits()?this.K$(function(t){return new $f(ur.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t),n):(t.baseMediaDecodeTime=i.toInt(),t)},i.K$=function(t,n){return t.baseMediaDecodeTime=_C(t.baseMediaDecodeTime,n,this.D$),t},i.j$=function(t,n){for(var i=0,r=0,e=0,u=t.samples;e<u.length;e++){var s=u[e];if(void 0!==s.duration){var o=yC(r+=s.duration,n,this.D$);s.duration=o-i,i=o}void 0!==s.compositionTimeOffset&&(s.compositionTimeOffset=pC(s.compositionTimeOffset,n,this.D$))}},xt(n,[{key:"T$",get:function(){if(void 0===this.k$)throw new y("Expected to have found a movie header timescale.");return this.k$}}]),n}(eC);function pC(t,n,i){return ur.fromInt(t,!1).multiply(i).divide(n).toNumber()}function yC(t,n,i){return ur.fromInt(t,!0).multiply(i).divide(n).toNumber()}function _C(t,n,i){return vw.xF(t).QF(vw.RF(i,!0)).iV(vw.RF(n,!0)).WF()}var bC=function(){function t(t){this.J$=new wC(t)}return t.prototype.Q$=function(t){return t.pipeThrough(new Ul(this.J$))},t}();U(),St(),U(),St();var kC=function(t){return t[t.t0=64]="t0",t[t.e0=103]="e0",t[t.i0=107]="i0",t}({});function AC(t,n,i){var r=Xa(t,n);if(r!==i)throw new _("Expected descriptor with tag "+i+", but found "+r)}function TC(t,n){AC(t,n,3);var i,r,e,u=SC(t,n),s=n.ec+u,o=Ja(t,n),a=Xa(t,n),c=0!=(64&a),h=0!=(32&a),f=31&a;(0!=(128&a)&&(i=Ja(t,n)),c)&&(r=ec(t,n,Xa(t,n)));h&&(e=ec(t,n,2));var v=function(t,n){AC(t,n,4);var i,r=SC(t,n),e=n.ec+r,u=Xa(t,n),s=Xa(t,n),o=s>>2,a=0!=(2&s),c=Ka(t,n,3),h=$a(t,n),f=$a(t,n);if(n.ec<e){var v=function(t,n){return t.getUint8(n.ec)}(t,n);5===v&&(i=function(t,n){AC(t,n,5);var i=SC(t,n),r=Ha(t,n,i);return{s0:5,n0:r}}(t,n))}return n.Eb(e),{s0:4,r0:u,o0:o,h0:a,a0:c,u0:h,c0:f,l0:i}}(t,n);return n.Eb(s),{s0:3,o:o,d0:i,Gu:r,f0:f,_0:e,v0:v}}function SC(t,n){for(var i=0,r=0;r<4;r++){var e=Xa(t,n);if(i=i<<7|127&e,!(128&e))break}return i}function EC(t,n){for(var i=Xa(t,n),r=Xa(t,n),e=Xa(t,n),u=Xa(t,n),s=3&Xa(t,n),o=31&Xa(t,n),a=[],c=0;c<o;c++){var h=Ja(t,n);a.push(Ha(t,n,h))}for(var f=Xa(t,n),v=[],l=0;l<f;l++){var d=Ja(t,n);v.push(Ha(t,n,d))}return{m0:i,g0:r,p0:e,w0:u,y0:s,b0:a,A0:v}}function IC(t,n,i){if(!(i&&n.byte>=i)){var r=t.Nb(n.byte);return n.byte+=1,r}}function RC(t,n){return function(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=256*r+IC(t,n);return r}(t,n,2)}U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),U(),St(),Dt();var CC=function(){function t(){this.k0=0,this.T0=[],this.XV={}}var n=t.prototype;return n.S0=function(t){this.T0=this.T0.concat(t.T0),this.k0+=t.V},n.E0=function(t,n,i){var r=this.k0,e=i-n;e>0&&(this.T0.push({x0:n,R0:i,I0:e,C0:r,P0:t}),this.k0+=e)},n.Nb=function(t){for(var n=0,i=this.T0;n<i.length;n++){var r=i[n];if(r.C0<=t&&t<r.C0+r.I0)return r.P0[t+r.x0-r.C0]}},n.D0=function(t,n){for(var i=n,r=0,e=this.T0;r<e.length;r++)for(var u=e[r],s=u.R0,o=u.x0;o<s;o+=1,i+=1)t[i]=u.P0[o];return i},n.N0=function(){for(var t=new I(this.k0),n=0,i=0,r=this.T0;i<r.length;i++)for(var e=r[i],u=e.R0,s=e.x0;s<u;s+=1,n+=1)t[n]=e.P0[s];return t},n.xb=function(n){for(var i=new t,r=0,e=this.T0;r<e.length;r++){var u=e[r];i.E0(u.P0,u.x0,u.R0)}return i.XV=n||us({},this.XV),i},xt(t,[{key:"V",get:function(){return this.k0},set:function(t){var n=this.T0,i=this.k0-t;if(!(t>=this.k0))if(this.k0=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.I0)return e.R0-=i,e.I0-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.I0}else n.length=0}},{key:"qk",get:function(){for(var t=new Array(this.k0),n=0,i=0,r=this.T0;i<r.length;i++)for(var e=r[i],u=e.R0,s=e.x0;s<u;s+=1,n+=1)t[n]=e.P0[s];return t}}]),t}();U(),St();var NC=[128,64,32,16,8,4,2,1];function xC(t,n){var i=A.floor(n.bit/8),r=0==(t.Nb(i)&NC[n.bit%8])?0:1;return n.bit+=1,r}function DC(t,n,i){for(var r=0,e=i;e>0;)e-=1,r=2*r+xC(t,n);return r}function PC(t,n){for(var i=0;0===xC(t,n)&&i<32;)i+=1;return DC(t,n,i)+A.pow(2,i)-1}function MC(t,n){var i=PC(t,n);return 1&i?A.floor((i+1)/2):-A.floor(i/2)}function BC(t,n){var i,r=[],e={byte:1};do{r.push(LC(t,n,e)),i=n.Nb(e.byte)}while(void 0!==i&&128!==i);return r}function OC(t,n){var i,r=0;do{r+=i=IC(t,n)}while(255===i);return r}function LC(t,n,i){var r=OC(n,i),e=OC(n,i),u=i.byte,s=u+e;return i.byte=s,{M0:t,L0:r,B0:e,O0:u,F0:s,V0:n}}var FC=function(t){return t[t.W0=1]="W0",t[t.U0=2]="U0",t[t.G0=3]="G0",t[t.H0=4]="H0",t[t.Z0=5]="Z0",t[t.X0=6]="X0",t[t.z0=7]="z0",t[t.q0=8]="q0",t[t.Y0=9]="Y0",t}({}),VC=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function UC(t,n,i){for(var r=8,e=8,u=0;u<i;u+=1){if(0!==e)e=(r+MC(t,n)+256)%256;r=0===e?r:e}}var WC=function(){function t(t){this.j0=[],this.Q0=0,this.J0=t}var n=t.prototype;return n.K0=function(){for(var t=this.j0,n=A.max(0,this.Q0+t.length-2),i=this.J0,r=i.V,e=0;n<r;n+=1){var u=i.Nb(n);0===u?e+=1:(3===u&&e>=2&&t.push(n),e=0)}this.Q0=n-t.length},n.$0=function(t){for(var n=this.j0,i=t,r=0;r<n.length;r++){if(!(n[r]<=i))return i;i+=1}return i},n.Nb=function(t){if(!(t>this.J0.V))return t>this.Q0&&this.K0(),this.J0.Nb(this.$0(t))},t}();function jC(t){var n,i,r,e,u,s,o=new WC(t),a=0,c=0,h=0,f=0,v=o.Nb(1),l={bit:32};if(PC(o,l),100===v||110===v||122===v||144===v){var d=PC(o,l);if(3===d&&(n=xC(o,l)),PC(o,l),PC(o,l),xC(o,l),1===xC(o,l))for(var g=0;g<(3!==d?8:12);g+=1){1===xC(o,l)&&UC(o,l,g<6?16:64)}}var m=PC(o,l),w=PC(o,l);if(0===w)PC(o,l);else if(1===w){xC(o,l),MC(o,l),MC(o,l);for(var p=PC(o,l),y=0;y<p;y+=1)MC(o,l)}PC(o,l),xC(o,l);var _=PC(o,l),b=PC(o,l),k=xC(o,l);if(0===k&&xC(o,l),xC(o,l),1===xC(o,l)&&(a=PC(o,l),c=PC(o,l),h=PC(o,l),f=PC(o,l)),1===xC(o,l)){if(1===xC(o,l)){var T=DC(o,l,8);if(255===T)i=DC(o,l,16),r=DC(o,l,16);else{var S=VC[T];S&&(i=S[0],r=S[1])}}if(1===xC(o,l)&&xC(o,l),1===xC(o,l))DC(o,l,3),xC(o,l),1===xC(o,l)&&(DC(o,l,8),DC(o,l,8),DC(o,l,8));1===xC(o,l)&&(PC(o,l),PC(o,l)),1===(e=xC(o,l))&&(u=DC(o,l,32),s=DC(o,l,32),xC(o,l))}return{width:A.floor(16*(_+1)-2*a-2*c),height:A.floor((2-k)*(b+1)*16-2*h-2*f),XM:i,zM:r,t1:e?s/(2*u):void 0,e1:n,i1:m}}function ZC(t){var n=gp(kp.jD(t),cp.vP);if(n){for(var i=n.HD._N,r=[],e=0,u=n.Z;e<u.length;e++){for(var s=u[e],o=s.HD.TN,a=s.yN.HD._N,c=void 0,h=void 0,f=void 0,v=0,l=s.yN.DN.LN.ON.VN;v<l.length;v++){var d,g,m,w=XC(l[v]);if(w)c=null!=(d=w.s1)?d:c,h=null!=(g=w.n1)?g:h,f=null!=(m=w.o1)?m:f}r.push({TN:o,_N:a,s1:c,n1:h,o1:f})}return{_N:i,Z:r}}}function XC(t){var n,i,r;if(t.Aw===cp.RP){var e,u=EC(Sc(t.pM.qk),new Dc);n=function(t){return"avc1."+GC(t.g0,2)+GC(t.p0,2)+GC(t.w0,2)}(u),r=null==(e=function(t){if(0===t.b0.length)return;var n=t.b0[0],i=new CC;return i.E0(n,0,n.byteLength),jC(i)}(u))?void 0:e.t1}else if(t.Aw===cp.CP||t.Aw===cp.PP){var s=function(t,n){for(var i=n.Cb(),r=xa(t,i,8),e=xa(t,i,2),u=xa(t,i,1),s=xa(t,i,5),o=xa(t,i,32),a=[],c=0;c<6;c++)a.push(xa(t,i,8));var h=xa(t,i,8);i.kb(4);var f=xa(t,i,12);i.kb(6);var v=xa(t,i,2);i.kb(6);var l=xa(t,i,2);i.kb(5);var d=xa(t,i,3);i.kb(5);for(var g=xa(t,i,3),m=xa(t,i,16),w=xa(t,i,2),p=xa(t,i,3),y=xa(t,i,1),_=xa(t,i,2),b=xa(t,i,8),k=[],A=0;A<b;A++){var T=xa(t,i,1);i.kb(1);for(var S=xa(t,i,6),E=xa(t,i,16),I=[],R=0;R<E;R++){var C=xa(t,i,16),N=Ha(t,new Dc(i.ec>>3),C);i.kb(8*C),I.push({h1:C,a1:N})}k.push({u1:T,c1:S,l1:E,d1:I})}return{m0:r,_1:e,v1:u,m1:s,g1:a,w1:h,b1:f,A1:v,S1:o,T1:l,E1:d,R1:g,I1:m,C1:p,P1:y,D1:w,y0:_,N1:b,M1:k}}(Sc(t.AM.qk),new Dc);n=function(t,n){var i=t.toString()+".";switch(n._1){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.m1.toString()+".",i+=function(t){var n=t;return n=n>>>1&1431655765|(1431655765&n)<<1,n=n>>>2&858993459|(858993459&n)<<2,n=n>>>4&252645135|(252645135&n)<<4,n=n>>>8&16711935|(16711935&n)<<8,n=n>>>16|n<<16,n}(n.S1).toString(16)+".",n.v1){case 0:i+="L";break;case 1:i+="H";break;default:return}i+=n.w1.toString();for(var r=n.g1.reduce((function(t,n){return 0===t?n:n+1}),0),e=0;e<r;e++)i+="."+n.g1[e].toString(16).toUpperCase();return i}(t.Aw,s)}else if(t.Aw===cp.UP||t.Aw===cp.GP||t.Aw===cp.HP||t.Aw===cp.ZP){var o=function(t,n){var i=n.Cb(),r=xa(t,i,8),e=xa(t,i,8),u=xa(t,i,7),s=xa(t,i,6),o=Boolean(xa(t,i,1)),a=Boolean(xa(t,i,1)),c=Boolean(xa(t,i,1)),h=xa(t,i,4);return xa(t,i,28),xa(t,i,32),xa(t,i,32),xa(t,i,32),xa(t,i,32),{L1:r,B1:e,O1:u,F1:s,V1:o,W1:a,U1:c,G1:h}}(Sc(t.LM.qk),new Dc);n=function(t,n){var i=t.toString(),r=zs(n.O1.toString(),2,"0"),e=zs(n.F1.toString(),2,"0");return i+"."+r+"."+e}(t.Aw,o)}else if(t.Aw===cp.NP){var a=function(t,n){var i=n.Cb(),r=xa(t,i,8);i.kb(24);for(var e=xa(t,i,8),u=xa(t,i,8),s=xa(t,i,4),o=xa(t,i,3),a=Na(t,i),c=xa(t,i,8),h=xa(t,i,8),f=xa(t,i,8),v=xa(t,i,16),l=new Array(8),d=0;d<v;d++)l[d]=xa(t,i,8);return{m0:r,O1:e,F1:u,H1:s,Z1:o,X1:a,UM:c,GM:h,HM:f,z1:v,q1:l}}(Sc(t.TM.qk),new Dc);n=function(t,n){var i=t.toString()+".";return i+="0"+n.O1+".",i+=zs(""+n.F1,2,"0")+".",i+=zs(""+n.H1,2,"0")+".",i+=zs(""+n.Z1,2,"0")+".",i+=zs(""+n.UM,2,"0")+".",i+=zs(""+n.GM,2,"0")+".",i+=zs(""+n.HM,2,"0")+".",i+="0"+n.X1,i}(t.Aw,a)}else if(t.Aw===cp.LP){var c=function(t,n){var i=n.Cb();i.kb(1);var r=xa(t,i,7),e=xa(t,i,3),u=xa(t,i,5),s=Na(t,i),o=Na(t,i),a=Na(t,i),c=Na(t,i),h=Na(t,i),f=Na(t,i),v=xa(t,i,2);i.kb(3);var l,d=Na(t,i);return d?l=xa(t,i,4):i.kb(4),{YD:r,Y1:e,K1:u,j1:s,Q1:o,J1:a,t2:c,e2:h,i2:f,s2:v,n2:d,o2:l}}(Sc(t.xM.qk),new Dc);n=function(t,n,i){var r=t.toString()+".";if(r+=n.Y1+".",r+=""+zs(""+n.K1,2,"0"),r+=(0===n.j1?"M":"H")+".",r+=(1===n.J1?12:10)+".",r+=(1===n.Y1?0:n.t2)+".",r+=""+n.e2+n.i2+(1===n.e2&&1===n.i2?n.s2:"0"),i&&i.WM===hp.ON_SCREEN_COLOURS){var e=i;r+="."+zs(""+e.UM,2,"0")+"."+zs(""+e.GM,2,"0")+"."+zs(""+e.HM,2,"0")+"."+(e.ZM?1:0)}return r}(t.Aw,c,t.RM)}else if(t.Aw===cp.KP){i=function(t){var n=t.v0;switch(n.r0){case kC.t0:return function(t){var n;if(!(null==(n=t.l0)?void 0:n.n0))return"mp4a.40";var i=function(t,n){var i=xa(t,n,5);31===i&&(i=32+xa(t,n,6));var r,e=xa(t,n,4);return 15===e&&(r=xa(t,n,24)),{h2:i,a2:e,u2:r,c2:xa(t,n,4)}}(Sc(t.l0.n0),new Da);return"mp4a.40."+i.h2}(n);case kC.e0:return"mp4a.40.2";case kC.i0:return"mp4a.40.34"}}(TC(Sc(t.cM.qk),new Dc))}else if(t.Aw===cp.QP)i="fLaC";else{if(t.Aw!==cp.zP)return(t.Aw===cp.sD||t.Aw===cp.iD)&&t.PM?XC(t.PM):void 0;i="ec-3"}return{s1:n,n1:i,o1:r}}function GC(t,n){var i=t.toString(16);return zs(i,n,"0")}function HC(t,n){var i=kp.jD(Sc(t)),r=function(t,n){for(var i,r=function(t,r){var e,u=r[t],s=null==(e=u.oL)?void 0:e.oL;if(s){var o=u.HD.TN,a=go(n.Z,(function(t){return t.TN===o})),c=ww.xF(s,a._N);i&&!c.wF(i)||(i=c)}},e=0,u=t.Z;e<u.length;e++)r(e,u);return i}(gp(i,cp.nD),n),e=gp(i,cp.lD);return{FO:r.dF(),l2:e.qk}}function zC(t,n){return YC.apply(this,arguments)}function YC(){return YC=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:switch(t.Aw){case XR.tJ:return[3,1];case XR.bk:return[3,2];case XR.eJ:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,Xl(t.qk,n)];case 3:return i=r.sent(),jo(n),[2,{Aw:XR.tJ,qk:new I(i)}];case 4:throw new y("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 5:return[2]}}))})),YC.apply(this,arguments)}U(),St(),U(),St(),Gt(),Jt();var KC=Gn.$m,qC=function(t){function n(n,i,r,e,u){var s,o;if((s=t.call(this)||this).Ij=20,s.Dj=30,s.d2=!1,s.F2=!1,s.j2=void 0,s.J2=new Jo,s.E2=!1,s.R2=void 0,s.A2=!1,s.S2=void 0,s.t3=function(){s.d2=!1},s.e3=function(t){t.removedRanges&&s.wo(new ha(jR.JQ))},s.U2=i,s.N2=n,s.f2=r,s.f2.addEventListener("updateend",s.t3),s.f2.addEventListener("bufferedchange",s.e3),s.z2=e,s.Y2=u,s.A2=JC(e.Dk,u),null==(o=i.bd)?void 0:o.hp){var a,c=null!=(a=i.bd.i3)?a:1e5;s.C2=new bC(c)}return s}Rt(n,t);var i=n.prototype;return i._2=function(t,n,i){var r=this;switch(t.Aw){case XR.tJ:case XR.bk:return this.m2((function(i){return r.g2(t,n,i)}),i);case XR.eJ:throw new y("Opaque segments are not supported on web.")}},i.w2=function(t,n){var i=this;switch(t.Aw){case XR.tJ:return this.m2((function(n){return i.b2(t,n)}),n);case XR.bk:throw new y("Streaming initialization segments are not supported on web.");case XR.eJ:throw new y("Opaque initialization segments are not supported on web.")}},i.b2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.A2?(i.S2=ZC(Sc(t.qk)),[2]):[4,i.T2(t,void 0,n)];case 1:return r.sent(),KC&&(i.E2=!1,i.R2=t),[2]}}))}))()},i.g2=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return KC&&r.E2&&r.R2?[4,r.b2(r.R2,i)]:[3,2];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,,6,7]),jo(i),r.A2&&r.S2?[4,zC(t,i)]:[3,4];case 3:e=o.sent(),u=HC(e.qk,r.S2),t={Aw:XR.tJ,qk:u.l2},n=us({},n,{MV:u.FO+(null!=(s=n.MV)?s:0)}),o.label=4;case 4:return[4,r.T2(t,n,i)];case 5:return o.sent(),r.wo(new ha(jR.JQ)),[3,7];case 6:return t.Aw===XR.bk&&t.qk.cancel(new Uo).catch(Ti),[7];case 7:return[2]}}))}))()},i.T2=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return jo(i),n?[4,r.I2(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:switch(t.Aw){case XR.tJ:return[3,3];case XR.bk:return[3,7]}return[3,11];case 3:return r.C2?(e=r.C2.Q$(jl(t.qk)),[4,r.P2(e,i)]):[3,5];case 4:return[2,s.sent()];case 5:return[4,r.D2(t.qk)];case 6:return[2,s.sent()];case 7:return r.C2?(u=r.C2.Q$(t.qk),[4,r.P2(u,i)]):[3,9];case 8:return[2,s.sent()];case 9:return[4,r.P2(t.qk,i)];case 10:return[2,s.sent()];case 11:return[2]}}))}))()},i.P2=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:r=i.N2.gR,e=nC(t),u=e.getReader(),s=!1,v.label=1;case 1:v.trys.push([1,6,,12]),v.label=2;case 2:return[4,Go(u.read(),n)];case 3:return(o=v.sent()).done?(s=!1,[3,5]):(jo(n),a=Uc(o.value),s=!0,[4,i.D2(a)]);case 4:return v.sent(),[3,2];case 5:return[3,12];case 6:return c=v.sent(),u.cancel(c).catch(Ti),s?[4,i.M2()]:[3,11];case 7:v.sent(),h=i.N2.gR.Sn(r.YL()),f=0,v.label=8;case 8:return f<h.V?[4,i.L2(h.Cn(f),h.jn(f))]:[3,11];case 9:v.sent(),v.label=10;case 10:return f++,[3,8];case 11:throw c;case 12:return[2]}}))}))()},i.B2=function(t,n){var i=this;return this.m2((function(){return i.O2(t,n)}))},i.O2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.f2.appendWindowStart===t&&i.f2.appendWindowEnd===n?[3,2]:[4,i.M2()];case 1:r.sent(),i.f2.appendWindowStart=0,i.f2.appendWindowEnd=n,i.f2.appendWindowStart=t,r.label=2;case 2:return[2]}}))}))()},i.I2=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:if(n.f2.timestampOffset===t.MV)return[2];i.label=1;case 1:return i.trys.push([1,2,,4]),n.f2.timestampOffset=t.MV,[3,4];case 2:return i.sent(),[4,n.M2()];case 3:return i.sent(),n.f2.timestampOffset=t.MV,[3,4];case 4:return[2]}}))}))()},i.D2=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.f2.appendBuffer(t),n.F2=!0,[4,n.V2()];case 1:return i.sent(),[2]}}))}))()},i.W2=function(t,n,i){var r=this;return this.m2((function(i){return r.L2(t,n,i)}),i)},i.L2=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return jo(i),r.f2.remove(t,n),[4,r.V2()];case 1:return e.sent(),[2]}}))}))()},i.V2=function(){var t=this,n=this.N2.gR;return new ut((function(i,r){var e,u=!1,s=function(){u=!0},o=function(){u=!1,e="error"},a=function(){u=!1,e="aborted"},c=function(){u=!1,e="sourceclose",h()},h=function(){f(),u&&!e?(n.oB(t.N2.gR)||t.wo(new ha(jR.JQ)),i()):r(new y(e))},f=function(){t.f2.removeEventListener("update",s),t.f2.removeEventListener("error",o),t.f2.removeEventListener("abort",a),t.f2.removeEventListener("updateend",h),t.U2.fn(HR.nJ,c)};t.f2.addEventListener("update",s),t.f2.addEventListener("error",o),t.f2.addEventListener("abort",a),t.f2.addEventListener("updateend",h),Gn.Im&&Gn.Pm<3&&t.U2.yn(HR.nJ,c)}))},i.G2=function(){var t=this;return this.m2((function(){return t.M2()}))},i.M2=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(t.U2.sI!==mN.WE)return[2];KC&&(t.E2=!0),t.f2.updating&&(t.d2=!0);try{t.f2.abort()}catch(n){0,t.d2=!1}return t.fa?[4,t.V2().catch(Ti)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},i.H2=function(){return"function"==typeof this.f2.changeType&&!Gn.Em},i.dJ=function(t){if(this.Z2(),this.U2.sI!==mN.X2){var n;this.z2=t;var i=null!=(n=this.U2.q2(t.Dk))?n:t.Dk;this.A2=JC(t.Dk,this.Y2),this.H2()&&!Gs(this.Y2,i)&&(this.Y2=i,this.f2.changeType(this.Y2))}},i.K2=function(){this.U2.sI!==mN.Cy||this.j2||this.fa||(this.f2.timestampOffset=this.f2.timestampOffset,this.U2.Q2())},i.m2=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:i.Z2(),(r=new Jo).Kw(i.J2.Vw),n&&r.Kw(n),e.label=1;case 1:return e.trys.push([1,,5,6]),i.j2=t(r.Vw),[4,i.j2];case 2:return e.sent(),i.U2.Q2(),i.fa?[4,i.V2()]:[3,4];case 3:e.sent(),e.label=4;case 4:return[3,6];case 5:return i.j2=void 0,r.Hw(),[7];case 6:return[2]}}))}))()},i.Z2=function(){if(this.j2)throw new y("Internal error")},i.Hw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.$o(),t.J2.Yw(),t.j2?[4,t.j2.catch(Ti)]:[3,2];case 1:n.sent(),t.j2=void 0,n.label=2;case 2:return t.f2.removeEventListener("updateend",t.t3),t.f2.removeEventListener("bufferedchange",t.e3),[2]}}))}))()},xt(n,[{key:"wj",get:function(){return this.Ij},set:function(t){this.Ij=t}},{key:"Sj",get:function(){return this.Dj},set:function(t){this.Dj=t}},{key:"fa",get:function(){return this.d2||this.f2.updating}}]),n}(oa);function JC(t,n){return Zs(t,"audio/mp4")&&Zs(n,"audio/mpeg")}U(),St(),Dt();var QC=function(){function t(t,n){this.n3=void 0,this.s3=n,this.f2=t}var n=t.prototype;return n.EJ=function(){return!!this.n3&&this.gR.zL().kr(this.n3)},n.r3=function(){var t=this.gR;this.n3=t.V>0?t.jn(t.V-1):0,this.s3.o3()},n.K2=function(){this.n3=void 0},xt(t,[{key:"gR",get:function(){if(this.s3.sI===mN.X2)return MA.mB();var t=MA.xn(this.f2.buffered).Sn(new MA([0,1/0])),n=this.n3;return void 0!==n&&t.V>0&&t.jn(t.V-1)===n&&(t=t.JL(MA._B(n))),t}}]),t}();function $C(t){var n=t.vT("codecs");return n?n.split(",").map((function(t){return t.trim()})):[]}function tN(t,n){return!("opus"===t)&&!("opus"===n)||t===n}function nN(t,n){var i=iN(t)||rN(t),r=iN(n)||rN(n);return!i&&!r||t.split(".")[0]===n.split(".")[0]}function iN(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function rN(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function eN(t,n){if(t===n)return!0;var i=t.split("."),r=n.split("."),e=i[0];if(e!==r[0])return!1;if("mp4a"===e){var u=nn(i,3),s=u[1],o=u[2],a=nn(r,3),c=a[1],h=a[2];if(s!==c)return!1;if(Number(o)!==Number(h))return!1}return!0}function uN(t,n,i,r,e,u,s){var o=new QC(e,t),a=new qC(o,t,e,i,u);return new sN(t,n,i,r,o,a,s)}U(),St(),rn();var sN=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).m3=os(),a.U2=n,a.DT=r,a.ET=r.Dk,a.a3=e,a.FB=i,a.N2=u,a.d3=s,a.l3=o,a.d3.yn(jR.JQ,a.Ds),a}Rt(n,t);var i=n.prototype;return i.EJ=function(){return this.N2.EJ()},i.r3=function(){this.N2.r3()},i.K2=function(){this.N2.K2(),this.d3.K2()},i.f3=function(t,n){this.l3.FJ(t,n)},i._3=function(t,n){this.l3.VJ(t,n)},i.v3=function(){return this.d3.G2()},i._2=function(t,n,i){return this.d3._2(t,n,i)},i.w2=function(t,n,i){return this.d3.w2(t,i)},i.B2=function(t,n){return Gn.Im&&Gn.Pm<3?this.d3.B2(t,1/0):this.d3.B2(t,n)},i.$S=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return r._3(t,n),e=r.gR,[4,r.d3.W2(t,n,i)];case 1:return s.sent(),u=0!==e.V&&0===r.gR.V,(Gn.fg||Gn.Nm)&&u&&r.FB.Eb(r.FB.SR),[2]}}))}))()},i.cJ=function(t){var n=t.Dk;if(this.ET===n)return!0;var i=this.m3.get(n);if(void 0!==i)return i;var r=this.g3(t);return this.m3.set(n,r),r},i.g3=function(t){var n=this.U2.q2(t.Dk);if(void 0===n)return!1;var i=Vv(this.ET),r=Vv(n),e=$C(i),u=$C(r);if(this.d3.H2()){if(!function(t,n){return Lo(t,n,nN)}(e,u))return!1;if(Gn.vg&&!function(t,n){return Lo(t,n,tN)}(e,u))return!1}else{if(i.Aw!==r.Aw)return!1;if(!function(t,n){return Lo(t,n,eN)}(e,u))return!1}return!0},i.dJ=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){return i=t.Dk,n.ET!==i&&(n.m3.clear(),n.d3.dJ(t),n.ET=i),n.DT=t,n.U2.w3(),[2]}))}))()},i.Hw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:t.m3.clear(),t.$o(),t.l3.gn(),n.label=1;case 1:return n.trys.push([1,3,,4]),t.d3.fn(jR.JQ,t.Ds),[4,t.d3.Hw()];case 2:return n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))()},xt(n,[{key:"gR",get:function(){return this.N2.gR}},{key:"bd",get:function(){return this.DT}},{key:"Dk",get:function(){return this.ET}},{key:"h3",get:function(){return this.a3}},{key:"u3",get:function(){return this.l3.BJ}},{key:"wj",get:function(){return this.d3.wj},set:function(t){this.d3.wj=t}},{key:"Sj",get:function(){return this.d3.Sj},set:function(t){this.d3.Sj=t}},{key:"fa",get:function(){return this.d3.fa}}]),n}(oa);U(),St();var oN=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.Cn=t,this.jn=n,this.b3=i,this.A3=r,this.S3=qn.Vg()}return t.prototype.y3=function(){var t=this.Cn,n=this.jn;if(this.b3||this.A3){var i=.001*(qn.Vg()-this.S3);this.b3&&(t+=i),this.A3&&(n+=i)}return MA.vB(t,n)},t}();U(),St(),Dt(),U(),St();var aN=.5,cN=[fa.ro,fa.Zy,fa.jy,fa.Ky,fa.Ly,fa.Oy,fa.Cy,fa.zy,Ey.tC,zp.da],hN=function(){function t(t,n,i,r){var e=this;this.N2=t,this.I3=n,this.FB=i,this.N3=!1,this.E3=[],this.M3=0,this.W3=0,this.Y3=0,this.O3=0,this.Z3=0,this.G3=0,this.K3=1,this.x3=function(t){var n=e.FB.SR,i=t.LJ.kr(n),r=t.LJ.kr(n,aN)&&e.FB.sI<=Cy.tO;(i||r)&&e.CJ(n)},this.C3=Ii((function(t){if(!e.N3)if(e.I3.sI<=Cy.tO){var n=e.FB.SR;e.CJ(n)||e.H3()}else e.D3()}),100),this.sd=Ii((function(t){e.U3()}),100),this.F3=function(t){t.currentTime!==e.O3&&e.D3()},this.P3=function(){e.X3()?0===e.G3&&(e.FB.yn(fa.sb,e.sd),e.W3=qn.Ug((function(){e.U3()}),3500)):e.R3()},this.H3=function(){var t=e.Y3,n=e.Z3,i=e.FB.SR,r=qn.Vg(),u=e.N2.gR;if(t!==i)return e.Y3=i,e.Z3=r,e.K3=1,void(e.j3=qn.sR?2e3:1e3);if(e.X3()&&0!==u.V&&n>0&&r>n+e.j3){var s,o,a=e.BJ.zL().tB(u),c=a.uB(i);if(-1!==c){var h=a.Cn(c);if(h-i<1){var f=a.jn(c);0,s=f}}if(!s)(s=null==(o=e.Q3)?void 0:o.determineStallJumpTarget())||(s=i+.01*e.K3,u.kr(s)||(s=e.q3(i,u)));0,e.Y3=s,e.K3++,e.j3=A.min(2*e.j3,1e4),e.B3(s)}},this.I3.yn(Ey.tC,this.C3),this.FB.yn(fa.Xy,this.C3),this.FB.yn(cN,this.P3),this.Q3=r,this.j3=qn.sR?2e3:1e3}var n=t.prototype;return n.T3=function(t){this.E3.push(t),t.yn(QR.NJ,this.x3)},n.gn=function(){var t=this;this.R3(),this.I3.fn(Ey.tC,this.C3),this.FB.fn(fa.Xy,this.C3),this.FB.fn(cN,this.P3),this.E3.forEach((function(n){return n.fn(QR.NJ,t.x3)})),this.D3(),this.N3=!0},n.CJ=function(t){if(this.FB.RR)return!1;if(0!==this.M3)return!1;var n=this.N2.gR,i=n.eB(t);if(i>=0&&t+aN<n.jn(i))return!1;var r=i>=0?i+1:n.cB(t);if(r<0||r>=n.V)return!1;var e=n.Cn(r);return!(MA.vB(t,e).tB(this.BJ).fB>1)&&(0!==t||this.FB.hI?qn.eR?(this.L3(t,e,250),!0):!(A.abs(e-t)<=.001)&&(this.B3(e),!0):(this.L3(t,e,2e3),!0))},n.L3=function(t,n,i){var r=this;this.D3(),this.O3=t,this.FB.yn(fa.jy,this.F3),this.M3=qn.Ug((function(){r.O3===r.FB.SR&&r.B3(n),r.D3()}),i)},n.D3=function(){0!==this.M3&&(this.FB.fn(fa.jy,this.F3),qn.Wg(this.M3),this.M3=0)},n.B3=function(t){this.FB.Eb(t,!1,!0)},n.V3=function(){0!==this.W3&&(qn.Wg(this.W3),this.W3=0),this.FB.fn(fa.sb,this.sd)},n.U3=function(){this.N3||0===this.G3&&(this.V3(),this.G3=qn.Wp(this.H3,250))},n.R3=function(){0!==this.G3&&(qn.Up(this.G3),this.G3=0),this.V3(),this.FB.hI||(this.Z3=0)},n.X3=function(){return!this.FB.qR&&!this.FB.hI&&0!==this.FB.KR&&!this.FB.RR&&!this.FB.lt&&(this.z3()||this.I3.sI>=Cy.eO)},n.z3=function(){var t=this.FB.SR,n=this.N2.gR,i=n.eB(t);return-1!==i&&n.jn(i)>t+aN},n.q3=function(t,n){var i=n.eB(t);return i>-1?n.jn(i):t},xt(t,[{key:"BJ",get:function(){return this.E3.reduce((function(t,n){return t.JL(n.BJ)}),MA.mB())}}]),t}();function fN(t){var n=[];if(t.J3&&n.push(t.J3.gR),t.t4&&n.push(t.t4.gR),0===n.length)return MA.mB();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.V>0&&(i=A.max(i,e.jn(e.V-1)))}for(var u=t.EJ,s=new MA([0,i],[!0,u]),o=0;o<n.length;o++){var a=n[o];u&&a.V>0&&(a=a.JL(new MA([a.jn(a.V-1),i],[!0,!0]))),s=s.Sn(a)}return s}function vN(t,n,i){var r,e=t.gR,u=e.eB(n);if(u>=0){if(!(u+1<e.V))return ut.resolve();r=e.Cn(u+1)}else{if(!((u=e.cB(n))>=0))return ut.resolve();r=e.Cn(u)}return t.$S(r,1/0,i)}function lN(t,n,i){if(!t.kr(n)){var r=t.eB(n,i);if(r>=0){var e=t.Cn(r);if(n<e)return e}}return n}U(),St();var dN=Gn.Um||Gn.Hm,gN=Gn.Km||Gn.$m||Gn.iu,mN=function(t){return t.X2="closed",t.WE="open",t.Cy="ended",t}({}),wN=function(t){function n(n,i,r,e,u,s,o){var a;return void 0===s&&(s=new Vr(n.b4)),(a=t.call(this,n,i,e,u)||this).e4=void 0,a.d4=void 0,a.i4=void 0,a.f4=void 0,a.h4=new oN(0,1/0),a.s4=void 0,a._4=!1,a.m4=function(){a.wo(new ha(HR.nJ))},a.A4=function(){a.wo(new ha(HR.oJ))},a.g4=function(){a.v4()},a.e3=function(){a.FB.e3()},a.y4=s,a.jG=a.y4.gp(),a.jG.addEventListener("sourceclose",a.m4),a.jG.addEventListener("sourceopen",a.A4),a.FB.yn([fa.jy,fa.Ly],a.g4),a.l4=new hN(a,r,a.FB,o),a}Rt(n,t);var i=n.prototype;return i.n4=function(t){if(E(t)||t<0)throw new y("Invalid duration");this.r4()?this.o4(t):this.s4=t},i.o4=function(t){var n=t===1/0;if(n&&this.jG.setLiveSeekableRange){var i=A.pow(2,39);this.jG.setLiveSeekableRange(0,i)}this.jG.duration=n?gN?1/0:or:t,this.s4=void 0},i.a4=function(t,n,i,r){this.h4=new oN(t,n,!!i,!!r)},i.Tj=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:return n=t.DT,i=go(n.u4,(function(t){return Zs(t.Dk,"audio")})),r=go(n.u4,(function(t){return Zs(t.Dk,"video")})),t.QT.disableRemotePlayback=!0,[4,t.c4()];case 1:return h.sent(),i&&(e=new tC,t.l4.T3(e),s=null!=(u=t.q2(i.Dk))?u:i.Dk,t.d4=t.jG.addSourceBuffer(s),t.e4=uN(t,t.FB,i,im.fE,t.d4,s,e),t.e4.yn(jR.JQ,t.e3)),r&&(o=new tC,t.l4.T3(o),c=null!=(a=t.q2(r.Dk))?a:r.Dk,t.f4=t.jG.addSourceBuffer(c),t.i4=uN(t,t.FB,r,im._E,t.f4,c,o),t.i4.yn(jR.JQ,t.e3)),t.fJ.Dn(t,n),[2]}}))}))()},i.c4=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.SJ.call(n,n.jG)];case 1:return i.sent(),"open"===n.sI?[3,3]:[4,tg(n.jG,"sourceopen")];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.r4=function(){if("open"!==this.sI)return!1;var t=this.e4&&this.e4.fa,n=this.i4&&this.i4.fa;return!(t||n)},i.r3=function(){this._4=!0,this.e4&&this.e4.r3(),this.i4&&this.i4.r3(),this._4=!1,this.v4()},i.K2=function(){this.e4&&this.e4.K2(),this.i4&&this.i4.K2()},i.cJ=function(n){var i=go(n.u4,(function(t){return Zs(t.Dk,"audio")})),r=go(n.u4,(function(t){return Zs(t.Dk,"video")}));if(this.e4){if(!i)return!1;if(!this.e4.cJ(i))return!1}else if(i)return!1;if(this.i4){if(!r)return!1;if(!this.i4.cJ(r))return!1}else if(r)return!1;return!!t.prototype.cJ.call(this,n)},i.dJ=function(n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=go(n.u4,(function(t){return Zs(t.Dk,"audio")})),e=go(n.u4,(function(t){return Zs(t.Dk,"video")})),u=[],i.e4&&u.push(i.e4.dJ(r)),i.i4&&u.push(i.i4.dJ(e)),[4,ut.all(u)];case 1:return s.sent(),[4,t.prototype.dJ.call(i,n)];case 2:return s.sent(),[2]}}))}))()},i._J=function(n){t.prototype._J.call(this,n)},i.Hw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.jG.removeEventListener("sourceclose",n.m4),Gn.Nm?[4,n.kJ()]:[3,2];case 1:i.sent(),i.label=2;case 2:return n.e4?[4,n.e4.Hw()]:[3,4];case 3:if(i.sent(),n.e4=void 0,io()&&(Gn.Nm||Gn.Im))try{n.jG.removeSourceBuffer(n.d4)}catch(t){}n.d4=void 0,i.label=4;case 4:return n.i4?[4,n.i4.Hw()]:[3,6];case 5:if(i.sent(),n.i4=void 0,io()&&(Gn.Nm||Gn.Im))try{n.jG.removeSourceBuffer(n.f4)}catch(t){}n.f4=void 0,i.label=6;case 6:return n.QT.src&&URL.revokeObjectURL(n.QT.src),n.QT.disableRemotePlayback=!1,n.FB.fn([fa.jy,fa.Ly],n.g4),n.l4.gn(),Gn.Im?[4,n.kJ()]:[3,8];case 7:i.sent(),i.label=8;case 8:return[4,t.prototype.Hw.call(n)];case 9:return i.sent(),[2]}}))}))()},i.w3=function(){var t=this,n=this.DT,i=n.u4.map((function(n){return Zs(n.Dk,"audio")&&t.e4?t.e4.bd:Zs(n.Dk,"video")&&t.i4?t.i4.bd:n}));this.DT=us({},n,{u4:i})},i.o3=function(){this._4||this.v4()},i.v4=function(){this.w4&&this.r4()&&(this.jG.endOfStream(),this.s4=void 0,this.wo(new ha(HR.iJ)),this.FB.e3())},i.Q2=function(){this.r4()&&(this.EJ?this.v4():void 0!==this.s4&&this.o4(this.s4))},i.CJ=function(t){return this.l4.CJ(t)},i.PJ=function(){return!0},i.q2=function(t){return pN(this.y4,t)},n.DJ=function(t){var n=Ur(t.b4);if(void 0===n)return!1;if("function"!=typeof n.isTypeSupported)return!1;for(var i=new Vr(t.b4),r=0,e=t.u4;r<e.length;r++){if(void 0===pN(i,e[r].Dk))return!1}return!0},xt(n,[{key:"J3",get:function(){return this.e4}},{key:"t4",get:function(){return this.i4}},{key:"ct",get:function(){if(this.s4)return this.s4;var t=this.jG.duration;return t===or?1/0:t}},{key:"gR",get:function(){return dN?fN(this):function(t,n){var i=n;return i.V>0&&t.EJ&&(i=i.JL(MA._B(i.jn(i.V-1)))),i}(this,MA.xn(this.QT.buffered))}},{key:"xJ",get:function(){var t;return null==(t=this.e4)?void 0:t.gR}},{key:"RJ",get:function(){var t;return null==(t=this.i4)?void 0:t.gR}},{key:"rI",get:function(){return this.h4.y3().Sn(new MA([0,this.ct],[!0,!0]))}},{key:"EJ",get:function(){return(!this.e4||this.e4.EJ())&&(!this.i4||this.i4.EJ())}},{key:"sI",get:function(){return this.jG.readyState}},{key:"w4",get:function(){if(!this.EJ)return!1;var t=this.gR;return 0!==t.V&&t.Cn(t.V-1)<=this.FB.SR}}]),n}(zR);function pN(t,n){var i=Vv(n),r=$C(i),e="audio/mp4"===i.Aw,u=e&&1===r.length&&"mp4a.40.34"===r[0];if(t.wp(n)&&(!u||!Gn.$m))return n;if(u)for(var s=['audio/mp4; codecs="mp3"',"audio/mpeg"],o=0;o<s.length;o++){var a=s[o];if(t.wp(a))return a}if(e&&1===r.length&&"flac"===r[0].toLowerCase())for(var c=["flac","fLaC","FLAC"],h=0;h<c.length;h++){var f='audio/mp4; codecs="'+c[h]+'"';if(t.wp(n))return f}}U(),St(),Dt(),Ct(),U(),St(),Ct();var yN=function(t){function n(n){var i;return(i=t.call(this,fa.Ly)||this).currentTime=n,i}return Rt(n,t),n}(ha),_N=[fa.ob,fa.zy,fa.jy,fa.Ly,fa.ro,fa.Zy],bN=function(t){function n(n,i,r,e,u,s,o,a,c,h,f){var v;return(v=t.call(this)||this).hZ=n,v.DA=i,v.R4=r,v.cZ=e,v.aZ=u,v.uZ=s,v.lZ=o,v.ZA=a,v.I4=c,v.T4=h,v.x4=f,v}Rt(n,t);var i=n.prototype;return i.Eb=function(t,n,i){this.hZ!==t&&(this.hZ=t,this.T4=n,i&&!this.aZ?(this.x4=!0,this.wo(new yN(this.SR))):(this.x4=!1,this.aZ=!0,this.wo(new AT(this.SR))))},i.TI=function(){this.cZ||(this.cZ=!0,this.wo(new pT(this.SR)))},i.kI=function(){this.cZ&&(this.cZ=!1,this.wo(new yT(this.SR)))},i.Hw=function(){this.$o()},xt(n,[{key:"SR",get:function(){return this.hZ}},{key:"S4",get:function(){return this.T4}},{key:"E4",get:function(){return this.x4}},{key:"ct",get:function(){return this.DA}},{key:"RR",get:function(){return this.R4}},{key:"qR",get:function(){return this.cZ}},{key:"sI",get:function(){return this.I4}},{key:"hI",get:function(){return this.aZ}},{key:"GR",get:function(){return this.uZ},set:function(t){this.GR!==t&&(this.uZ=t,this.wo(new ST(this.SR,this.vI)))}},{key:"KR",get:function(){return this.lZ},set:function(t){this.KR!==t&&(this.lZ=t,this.wo(new bT(this.SR,this.KR)))}},{key:"vI",get:function(){return this.ZA},set:function(t){this.vI!==t&&(this.ZA=t,this.wo(new ST(this.SR,this.vI)))}}]),n}(oa);function kN(t){return new bN(t.SR,t.ct,t.RR,t.qR,t.hI,t.GR,t.KR,t.vI,t.sI,!1,t.E4)}function AN(t,n){n.ct===t.ct||E(n.ct)&&E(t.ct)||t.wo(new _T(t.ct)),t.GR=n.GR,t.vI=n.vI,t.KR=n.KR,n.qR?t.TI():t.kI().catch(Ti),n.SR!==t.SR||n.sI>Cy.$B&&t.sI===Cy.$B?t.Eb(n.SR,n.S4,n.E4):!n.hI&&t.hI?t.wo(new AT(t.SR)):n.hI&&!t.hI&&t.sI>=Cy.tO&&t.wo(new TT(t.SR)),!n.RR&&t.RR&&t.wo(new kT(t.SR))}U(),St(),Ct(),U(),St(),Dt(),Ct();var TN=function(t){function n(n){var i;return(i=t.call(this)||this).EW=Cy.$B,i.D4=function(){i.P4()},i.FB=n,i}Rt(n,t);var i=n.prototype;return i.C4=function(t){this.EW!==t&&(this.EW=t,this.wo(new Ry(this.FB.SR,t)))},i.P4=function(){this.C4(this.nI())},i.er=function(){this.C4(Cy.$B)},i.Hw=function(){this.$o()},xt(n,[{key:"sI",get:function(){return this.nI()}}]),n}(oa);U(),St(),Ct();var SN=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],EN=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<SN.length;r++){var e=SN[r];i.FB.YG.addEventListener(e,i.D4)}return i}Rt(n,t);var i=n.prototype;return i.nI=function(){var t=this.FB.YG.readyState;return t>Cy.tO&&this.FB.N4?Cy.tO:(this.FB.YG.seeking&&t>Cy.Gn&&(t=Cy.Gn),t)},i.Hw=function(){for(var n=0;n<SN.length;n++){var i=SN[n];this.FB.YG.removeEventListener(i,this.D4)}t.prototype.Hw.call(this)},n}(TN);U(),St();var IN=function(t){function n(n){var i;(i=t.call(this,n)||this).FB.yn([fa.jy,fa.Ly],i.D4);for(var r=0;r<SN.length;r++){var e=SN[r];i.FB.YG.addEventListener(e,i.D4)}return i}Rt(n,t);var i=n.prototype;return i.nI=function(){if(this.FB.YG.readyState===Cy.$B)return Cy.$B;var t=this.M4(),n=t?t.jn-t.Cn:0;if(!t)return Cy.Gn;var i=this.FB.KR;return this.L4()||n>=3*i?Cy.iO:n>=3?Cy.eO:Cy.tO},i.M4=function(){var t=this.FB.SR,n=this.FB.gR.QL(.04),i=n.eB(t);if(!(i<0))return{Cn:t,jn:n.jn(i)}},i.L4=function(){if(this.FB.RR)return!0;var t=this.FB.ct,n=this.M4();return!!n&&t-n.jn<=.16666666666666666},i.Hw=function(){this.FB.fn([fa.jy,fa.Ly],this.D4);for(var n=0;n<SN.length;n++){var i=SN[n];this.FB.YG.removeEventListener(i,this.D4)}t.prototype.Hw.call(this)},n}(TN);U(),St(),Ct(),U(),St(),Ct();var RN=[Ey.tC,fa.ro,fa.Zy,fa.jy,fa.Ky,fa.Ly,fa.Oy,fa.Cy,zp.da],CN=function(t){function n(n){var i;return(i=t.call(this)||this).V4=!1,i.mK=function(){i.tr()},i.yW=n,i.yW.yn(RN,i.mK),i}Rt(n,t);var i=n.prototype;return i.B4=function(){return(!this.yW.E4||!this.yW.O4)&&this.yW.sI<Cy.eO},i.F4=function(){return!this.yW.hI&&!(this.yW.qR||this.yW.RR||this.yW.lt||this.B4())},i.tr=function(){var t=this.V4;this.V4=this.F4(),!t&&this.V4&&this.wo(new By(this.yW.SR))},i.er=function(){this.V4=!1},i.Hw=function(){this.$o(),this.yW.fn(RN,this.mK)},n}(oa),NN=function(t){function n(n){var i;return(i=t.call(this,n)||this).W4=!1,i.NW=function(){i.W4=!0,i.tr()},i.QT=n.YG,i.QT.addEventListener(Ey.VL,i.NW),i}Rt(n,t);var i=n.prototype;return i.F4=function(){return this.W4&&t.prototype.F4.call(this)},i.tr=function(){this.W4&&(this.QT.paused||this.QT.ended||this.QT.error)&&(this.W4=!1),t.prototype.tr.call(this)},i.er=function(){t.prototype.er.call(this),this.W4=!1},i.Hw=function(){this.QT.removeEventListener(Ey.VL,this.NW),t.prototype.Hw.call(this)},n}(CN);U(),St(),Ct();var xN=function(t){function n(n){var i;return(i=t.call(this,zp.da)||this).lt=n,i}return Rt(n,t),n}(ha);function DN(t,n){return t.FO<=n&&t.VO>n}function PN(t,n){return function(t,n){return fo(t.FO,n.FO,Ym)}(t,n)||function(t,n){return fo(t.VO,n.VO,Ym)}(t,n)}function MN(t,n){return function(t,n){return fo(t.zO,n.zO,Ym)}(t,n)||function(t,n){return fo(t.qO,n.qO,Ym)}(t,n)}function BN(t,n,i){var r=function(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,a=s-1;o<=a;){var c=o+(a-o>>1),h=r(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(e&&c>u&&0===r(i(t[c-1]),n)))return c;a=c-1}}return~o}(t,n,Si,i,!0);if(r<0)return r;for(;r<t.length&&i(n,t[r])===ao.sh;r++)if(t[r].eF(n))return r;return-(r+1)}function ON(t,n,i){var r=BN(t,n,i);return r>=0?r:-(r+1)}function LN(t){var n=t.Ht;if(!n)return-1;if(t instanceof qm)return n.U4(t);var i=n.L;if(!i)return-1;var r=BN(i.uC,t,PN);return r>=0?r:-1}function FN(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,u=0,s=0,o=[],a=[];u<r&&s<e;){var c=t[u],h=n[s];c===h?(u++,s++):i(h,c)<=0?(o.push(h),s++):(a.push(c),u++)}for(;u<r;)a.push(t[u]),u++;for(;s<e;)o.push(n[s]),s++;return{G4:o,H4:a}}(t,n,PN);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}U(),St(),Dt(),Ct(),U(),St(),U(),St(),U(),St(),Dt();var VN=function(){function t(t){this.su=void 0,this.Z4=t}var n=t.prototype;return n.ba=function(){return function(t){for(var n=[],i=0;i<t.V;i++)n[i]=t.Nb(i).ka;return n.item=function(n){var i=0|n,r=t.Nb(i);return r&&r.ka||void 0},k.defineProperty(n,"constructor",{value:jm}),n}(this)},n.TO=function(t){for(var n=this.Z4,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.eF(r))return!0}return!1},n.Nb=function(t){return this.Z4[t]},xt(t,[{key:"uC",get:function(){return this.Z4}},{key:"V",get:function(){return this.Z4.length}},{key:"ka",get:function(){if(this.su){var t=this.Z4;this.su.length=t.length;for(var n=0;n<t.length;n++)this.su[n]=t[n].ka}else this.su=this.ba();return this.su}}]),t}();U(),St(),Ct();var UN=function(t){function n(n,i){var r;return(r=t.call(this,Rg.tC)||this).Ht=n,r.sI=i,r}return Rt(n,t),n.prototype.ba=function(){return new WN(this.Ht.ka,this.sI)},n}(bg),WN=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return Rt(n,t),n}(kg);U(),St(),Ct();var jN=function(t){function n(n){var i;return(i=t.call(this,Rg.iC)||this).Ht=n,i}return Rt(n,t),n.prototype.ba=function(){return new ZN(this.Ht.ka)},n}(bg),ZN=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return Rt(n,t),n}(kg);U(),St(),Ct();var XN=function(t){function n(n){var i;return(i=t.call(this,Rg.UI)||this).BO=n,i}return Rt(n,t),n.prototype.ba=function(){return new GN(this.BO.ka)},n}(bg),GN=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return Rt(n,t),n}(kg);U(),St(),Ct();var HN=function(t){function n(n){var i;return(i=t.call(this,Rg.HI)||this).BO=n,i}return Rt(n,t),n.prototype.ba=function(){return new zN(this.BO.ka)},n}(bg),zN=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return Rt(n,t),n}(kg),YN=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).xO=ym(),h.y_=!1,h.Go=Gp.Th,h.I4=Nm.NONE,h.i5=void 0,h.Z4=[],h.s5=[],h.t5=[],h.a5=0,h.e5=0,h.ZS=i||"",h.K4=a||"",h.j4=n,h.NA=e||"",h.y_=Boolean(u),h.Y4=Boolean(o),h.bp=s||xm.DEFAULT,h.RO=r||"",h.Q4=c||[],h.z4=new VN(h.Z4),h.X4=new VN(h.t5),h}Rt(n,t);var i=n.prototype;return i.q4=function(t){return go(this.z4.uC,(function(n){return n.o===t}))},i.ba=function(){return Kp(this)},i.J4=function(t){var n=Hp(t);n!==this.xE&&(this.Go=n,n===Gp.Th&&(this.t5.forEach((function(t){t.io=!1})),So(this.t5),this.e5=0),this.wo(new dm(this)))},i.dW=function(t){if(t&&!t.Ht){var n=BN(this.s5,t,MN);if(!(n>=0)){t.Ht=this;var i=-(n+1);this.s5.splice(i,0,t);var r=ON(this.L.uC,t,PN);this.n5(t,r),this.wo(new XN(t))}}},i.n5=function(t,n){this.Z4.splice(n,0,t),this.r5(n),t.nF=n,n<this.e5&&(this.e5=n)},i.eW=function(t){if(t&&t.Ht===this){var n=this.U4(t);if(!(n<0)){t.io=!1;var i=this.t5,r=BN(i,t,PN);r>=0&&bo(i,r);var e=BN(this.s5,t,MN);e>=0&&bo(this.s5,e),this.o5(t,n),this.wo(new HN(t))}}},i.o5=function(t,n){bo(this.Z4,n),this.r5(n),t.nF=-1,this.e5>n&&--this.e5},i.jO=function(t){if(t&&t.Ht===this){var n=this.U4(t);if(!(n<0)){this.o5(t,n);var i=ON(this.L.uC,t,PN);this.n5(t,i);var r=po(this.t5,(function(n){return n===t}));if(r>=0){bo(this.t5,r);var e=ON(this.t5,t,PN);this.t5.splice(e,0,t)}}}},i.h5=function(t,n){var i=this.t5,r=this.Z4,e=this.e5,u=!1,s=1/0;n&&(e=0);for(var o=i.length-1;o>=0;o--){var a=i[o];DN(a,t)?a.VO<s&&(s=a.VO):(u=!0,bo(i,o))}for(;e<r.length&&r[e].FO<=t;){var c=r[e];DN(c,t)&&(Ao(i,c)||(u=!0,i.push(c)),c.VO<s&&(s=c.VO)),e++}return e<r.length&&r[e].FO<s&&(s=r[e].FO),u&&uo(i,PN),this.e5=e,s},i.U4=function(t){return(-1===t.nF||t.nF>=this.a5)&&this.u5(),t.nF},i.u5=function(){for(var t=this.Z4,n=this.a5;n<t.length;n++)t[n].nF=n;this.a5=t.length},i.r5=function(t){t<this.a5&&(this.a5=A.max(t,0))},i.LC=function(t){this.BC||(this.xE=t)},i.gn=function(){this.$o();for(var t=this.Z4.slice(),n=0;n<t.length;n++){t[n].gn()}So(this.Z4),So(this.s5),So(this.t5)},xt(n,[{key:"q",get:function(){return this.X4}},{key:"L",get:function(){return this.z4}},{key:"vW",get:function(){return this.y_},set:function(t){this.y_=t}},{key:"BC",get:function(){return this.Y4}},{key:"ka",get:function(){return this.su||(this.su=this.ba()),this.su}},{key:"o",get:function(){return this.ZS}},{key:"xC",get:function(){return this.xO}},{key:"MC",get:function(){return this.K4},set:function(t){this.K4=t}},{key:"Lt",get:function(){return this.j4}},{key:"xh",get:function(){return this.RO},set:function(t){t!==this.RO&&(this.RO=t,this.wo(new mm(this)))}},{key:"gs",get:function(){return this.NA}},{key:"RC",get:function(){return this.Q4}},{key:"xE",get:function(){return this.Go},set:function(t){this.J4(t)}},{key:"sI",get:function(){return this.I4},set:function(t){this.I4!==t&&(this.I4=t,this.wo(new UN(this,this.I4)))}},{key:"OC",get:function(){return this.i5},set:function(t){this.i5=t}},{key:"Aw",get:function(){return this.bp},set:function(t){this.bp!==t&&(this.bp=t,this.wo(new jN(this)))}}]),n}(oa);U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Ct();var KN=function(t){function n(n,i){var r;return(r=t.call(this,Fm.sO,n)||this).nV=i,r}return Rt(n,t),n.prototype.ba=function(){return new qN(this.BO.ka)},n}(Vm),qN=function(t){function n(n){return t.call(this,"enter",n)||this}return Rt(n,t),n}(Um);U(),St(),Ct();var JN=function(t){function n(n,i){var r;return(r=t.call(this,Fm.nO,n)||this).nV=i,r}return Rt(n,t),n.prototype.ba=function(){return new QN(this.BO.ka)},n}(Vm),QN=function(t){function n(n){return t.call(this,"exit",n)||this}return Rt(n,t),n}(Um);U(),St(),Ct();var $N=function(t){function n(n){var i;return(i=t.call(this,Rg.qI)||this).BO=n,i}return Rt(n,t),n.prototype.ba=function(){return new tx(this.BO.ka)},n}(bg),tx=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return Rt(n,t),n}(kg);U(),St(),Ct();var nx=function(t){function n(n){var i;return(i=t.call(this,Rg.KI)||this).BO=n,i}return Rt(n,t),n.prototype.ba=function(){return new ix(this.BO.ka)},n}(bg),ix=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return Rt(n,t),n}(kg),rx=function(t){function n(n){var i;return(i=t.call(this)||this).JO=void 0,i.KO=void 0,i.su=void 0,i.so=!1,i.l5=function(){i.io=!0},i.d5=function(){i.io=!1},i.xO=Tm(),i.c5=n,i.zO=n.startTime,i.qO=n.endTime,i.c5.addEventListener("enter",i.l5),i.c5.addEventListener("exit",i.d5),i}Rt(n,t);var i=n.prototype;return i.ba=function(){return Wm(this)},i.eF=function(t){return this===t||Lg(this,t)&&Km(this,t)&&this.iF(t)},i.iF=function(t){return Bg(this.U,t.U)},i.gn=function(){this.$o(),this.c5.removeEventListener("enter",this.l5),this.c5.removeEventListener("exit",this.d5)},xt(n,[{key:"xC",get:function(){return this.xO}},{key:"FO",get:function(){return this.c5.startTime},set:function(t){this.c5.startTime=t}},{key:"VO",get:function(){return this.c5.endTime},set:function(t){this.c5.endTime=t}},{key:"U",get:function(){return this.JO},set:function(t){this.JO=t}},{key:"$O",get:function(){return!!this.c5.pauseOnExit},set:function(t){this.c5.pauseOnExit=!!t}},{key:"Ht",get:function(){return this.KO},set:function(t){this.KO=t}},{key:"o",get:function(){return this.c5.id||""}},{key:"ka",get:function(){return this.su||(this.su=this.ba()),this.su}},{key:"io",get:function(){return this.so},set:function(t){this.io!==t&&(this.so=t,t?(this.wo(new KN(this,this.FO)),this.KO&&this.KO.wo(new $N(this))):(this.wo(new JN(this,this.VO)),this.KO&&this.KO.wo(new nx(this))))}}]),n}(ca);U(),St(),Ct();var ex=function(t){function n(n){var i;return(i=t.call(this,Rg.QI)||this).Ht=n,i}return Rt(n,t),n.prototype.ba=function(){return new ux(this.Ht.ka)},n}(bg),ux=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return Rt(n,t),n}(kg);function sx(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new ox(t),t.THEOplayerVTTRegion=n),n}}U(),St(),Dt(),Ct(),U(),St(),Dt();var ox=function(){function t(t){this.su=void 0,this._5=t}return xt(t,[{key:"f5",get:function(){return this._5}},{key:"o",get:function(){return this._5.id||""}},{key:"ji",get:function(){return+this._5.width||0},set:function(t){this._5.width=t||0}},{key:"rF",get:function(){return+this._5.lines||0},set:function(t){this._5.lines=t||0}},{key:"oF",get:function(){return+this._5.regionAnchorX||0},set:function(t){this._5.regionAnchorX=t||0}},{key:"hF",get:function(){return+this._5.regionAnchorY||0},set:function(t){this._5.regionAnchorY=t||0}},{key:"uF",get:function(){return+this._5.viewportAnchorX||0},set:function(t){this._5.viewportAnchorX=t||0}},{key:"cF",get:function(){return+this._5.viewportAnchorY||0},set:function(t){this._5.viewportAnchorY=t||0}},{key:"aF",get:function(){return this._5.scroll||""}},{key:"ka",get:function(){return this.su||(this.su=rw(this)),this.su}}]),t}();var ax=function(t){function n(n){return t.call(this,n)||this}Rt(n,t);var i=n.prototype;return i.ba=function(){return Zm(this)},i.iF=function(t){return Jm(this,t)},xt(n,[{key:"U",get:function(){return this.c5.text},set:function(t){this.c5.text=t}},{key:"Pt",get:function(){return this.c5.vertical||""},set:function(t){this.c5.vertical=t||""}},{key:"XO",get:function(){return this.c5.snapToLines},set:function(t){this.c5.snapToLines=t}},{key:"UO",get:function(){return this.c5.line},set:function(t){this.c5.line=t}},{key:"Pb",get:function(){return+this.c5.size},set:function(t){this.c5.size=cr(t,0,100)}},{key:"ka",get:function(){return this.su||(this.su=this.ba()),this.su}}]),n}(rx),cx=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),xt(n,[{key:"ZO",get:function(){return sx(this.c5.region)}},{key:"GO",get:function(){return this.c5.lineAlign||"start"},set:function(t){this.c5.lineAlign=t||"start"}},{key:"do",get:function(){return this.c5.position},set:function(t){this.c5.position=t}},{key:"HO",get:function(){return this.c5.positionAlign||"auto"},set:function(t){this.c5.positionAlign=t||"auto"}},{key:"WO",get:function(){return this.c5.align||"center"},set:function(t){this.c5.align=t||"center"}}]),n}(ax),hx=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),xt(n,[{key:"ZO",get:function(){return sx(this.f5)}},{key:"f5",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.c5.track,this.c5.regionId)}},{key:"GO",get:function(){return function(t){return"middle"===t?"center":t}(this.c5.lineAlign||"start")},set:function(t){this.c5.lineAlign=function(t){return"center"===t?"middle":t}(t||"start")}},{key:"do",get:function(){return this.c5.position},set:function(t){this.c5.position=function(t,n){return Lm(t,n)}(t,this.WO)}},{key:"HO",get:function(){return function(t){return Bm[t]}(this.c5.positionAlign||"middle")},set:function(t){this.c5.positionAlign=function(t,n){return Mm[Om(t,n)]}(t||"center",this.WO)}},{key:"WO",get:function(){return function(t){return"middle"===t?"center":t}(this.c5.align||"middle")},set:function(t){this.c5.align=function(t){return"center"===t?"middle":t}(t||"center")}}]),n}(ax);function fx(t,n){return t.U===n.U}function vx(t,n){if(0!==n.length){var i=n.length-1;if(n[i].FO<t.FO)lx(n,i,t.FO);else{var r=n[0];if(r.FO>t.FO)t.VO=r.FO;else{var e=BN(n,t,PN);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0)n[s].FO<t.FO&&lx(n,s,t.FO);if(u<n.length){var o=n[u];t.VO=o.FO}}}}}}function lx(t,n,i){for(var r=t[n].FO,e=n;e>=0&&t[e].FO===r;e--)t[e].VO=i}function dx(t){return Wm(t)}U(),St(),U(),St(),Dt(),Ct(),U(),St(),U(),St();var gx=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).v5=i,r}Rt(n,t);var i=n.prototype;return i.ba=function(){return dx(this)},i.iF=function(t){return fx(this,t)},xt(n,[{key:"U",get:function(){return this.v5}},{key:"ka",get:function(){return this.su||(this.su=this.ba()),this.su}}]),n}(rx);function mx(t){switch(t){case 0:case 1:case 2:case 3:return!0}return!1}function wx(t){switch(t){case 0:return sc;case 1:return hc;case 2:return fc;case 3:return yc}}function px(t,n){var i=n.ec,r=t.byteLength,e=Ec(t);return n.kb(r-i),Cc(e,i,r).buffer}function yx(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function _x(t,n,i){var r=Xa(t,n);if(mx(r)){var e=wx(r);return{id:i,language:ec(t,n,3),description:e(t,n),text:e(t,n)}}}function bx(t,n,i){var r=Xa(t,n);if(mx(r)){var e=wx(r);return{id:i,mimeType:sc(t,n),fileName:e(t,n),description:e(t,n),data:px(t,n)}}}function kx(t,n,i){var r=Xa(t,n);if(mx(r)){for(var e=wx(r),u=[];n.ec<t.byteLength;)u.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:u}}}function Ax(t,n,i){var r=Xa(t,n);if(mx(r)){for(var e=wx(r),u=ec(t,n,3),s=Xa(t,n),o=Xa(t,n),a=e(t,n),c=!1,h=[];n.ec<t.byteLength;){var f=void 0;if(1===r){var v=cc(t,n);void 0===v?v=c:c=v,f=fc(t,n,v)}else f=e(t,n);if(!f||n.ec+4>t.byteLength)break;h.push({text:f,timestamp:$a(t,n)})}return{id:i,language:u,format:s,contentType:o,description:a,entries:h}}}function Tx(t,n,i){return{id:i,ownerIdentifier:sc(t,n),identifier:px(t,n)}}function Sx(t,n,i){var r=Xa(t,n);if(mx(r)){var e=wx(r);return{id:i,language:ec(t,n,3),description:e(t,n),text:e(t,n)}}}function Ex(t,n,i){var r=Xa(t,n);if(mx(r))return{id:i,text:wx(r)(t,n)}}function Ix(t,n,i){return{id:i,url:sc(t,n)}}function Rx(t,n,i){var r=Xa(t,n);if(mx(r)){var e=wx(r);return{id:i,description:e(t,n),text:e(t,n)}}}function Cx(t,n,i){var r=Xa(t,n);if(mx(r))return{id:i,description:wx(r)(t,n),url:sc(t,n)}}function Nx(t,n,i){switch(i){case"COM":return _x(t,n,i);case"GEO":return bx(t,n,i);case"IPL":return kx(t,n,i);case"PIC":return function(t,n,i){var r=Xa(t,n);if(mx(r)){var e,u,s=wx(r),o=ec(t,n,3),a=Xa(t,n),c=s(t,n);return"--\x3e"===o?(e=o,u=sc(t,n)):(e="image/"+o.toLowerCase(),u=px(t,n)),{id:i,mimeType:e,pictureType:a,description:c,data:u}}}(t,n,i);case"SLT":return Ax(t,n,i);case"TXX":return Rx(t,n,i);case"UFI":return Tx(t,n,i);case"ULT":return Sx(t,n,i);case"WXX":return Cx(t,n,i);default:if("T"===i.charAt(0))return Ex(t,n,i);if("W"===i.charAt(0))return Ix(t,n,i)}}function xx(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=Xa(t,n);if(mx(r)){var e=wx(r),u=sc(t,n);return{id:i,mimeType:u,pictureType:Xa(t,n),description:e(t,n),data:"--\x3e"===u?sc(t,n):px(t,n)}}}(t,n,i);case"COMM":return _x(t,n,i);case"COMR":return function(t,n,i){var r=Xa(t,n);if(mx(r)){var e,u,s=wx(r),o=sc(t,n),a=ec(t,n,8),c=sc(t,n),h=Xa(t,n),f=s(t,n),v=s(t,n);return n.ec<t.byteLength&&(e=sc(t,n)||"image/",u=px(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:u}}}(t,n,i);case"GEOB":return bx(t,n,i);case"IPLS":return kx(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:sc(t,n),data:px(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:Xa(t,n),position:$a(t,n)}}(t,n,i);case"SYLT":return Ax(t,n,i);case"TXXX":return Rx(t,n,i);case"UFID":return Tx(t,n,i);case"USER":return function(t,n,i){var r=Xa(t,n);if(mx(r)){var e=wx(r);return{id:i,language:ec(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return Sx(t,n,i);case"WXXX":return Cx(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return Ex(t,n,i);default:var r=i.charAt(0);if("T"===r)return Ex(t,n,i);if("W"===r)return Ix(t,n,i)}}U(),St(),U(),St();var Dx=10;function Px(t,n){return(127&Xa(t,n))<<21|(127&Xa(t,n))<<14|(127&Xa(t,n))<<7|127&Xa(t,n)}function Mx(t,n){switch(t){case 4:return{m5:Za(n,0),g5:Za(n,1),p5:Za(n,2),w5:Za(n,3)};case 3:return{m5:Za(n,0),g5:Za(n,1),p5:Za(n,2)};case 2:return{m5:Za(n,0),y5:Za(n,1)}}}function Bx(t,n,i){switch(i.YD){case 3:i.KD.g5&&function(t,n){var i=n.ec,r=$a(t,n)+4,e=32768&Ja(t,n);n.Eb(i+r),e&&$a(t,n)}(t,n);break;case 4:i.KD.g5&&function(t,n){var i=n.ec,r=Px(t,n);n.Eb(i+r)}(t,n)}}function Ox(t,n){if(t.byteLength-n.ec<Dx)return null;if(73!==Xa(t,n)||68!==Xa(t,n)||51!==Xa(t,n))return null;var i=Xa(t,n),r=Xa(t,n);if(!function(t){switch(t){case 2:case 3:case 4:return!0}return!1}(i))return null;var e=Xa(t,n),u=Px(t,n);return{YD:i,b5:r,KD:Mx(i,e),A5:u}}function Lx(t,n,i){switch(i){case 2:return function(t,n){if(!(n.ec+6>t.byteLength))return{o:ec(t,n,3),Pb:Ka(t,n,3)}}(t,n);case 3:return function(t,n){if(!(n.ec+10>t.byteLength)){var i=ec(t,n,4),r=$a(t,n);Xa(t,n);var e=Xa(t,n);return{o:i,Pb:r,KD:{y5:Za(e,0),S5:Za(e,1),groupingIdentity:Za(e,2)}}}}(t,n);case 4:return function(t,n){if(!(n.ec+10>t.byteLength)){var i=ec(t,n,4),r=Px(t,n);Xa(t,n);var e=Xa(t,n);return{o:i,Pb:r,KD:{groupingIdentity:Za(e,1),y5:Za(e,4),S5:Za(e,5),m5:Za(e,6),T5:Za(e,7)}}}}(t,n)}}function Fx(t){for(var n=Ec(t),i=new I(n.byteLength),r=0,e=0;e<n.byteLength;e++){var u=n[e];255===u&&e++,i[r]=u,r++}return Sc(Cc(i,0,r))}function Vx(t,n){var i=n||new Dc,r=Ox(t,i);if(!r)return null;var e=function(t,n,i){var r=[],e=n.ec,u=Tc(t,e,e+i.A5),s=new Dc;switch(n.kb(i.A5),i.YD){case 2:case 3:i.KD.m5&&(u=Fx(u))}Bx(t,n,i);for(;s.ec<u.byteLength;){var o=Ux(u,s,i);if(void 0===o)break;r.push(o)}return r}(t,i,r);return{HD:r,k5:e}}function Ux(t,n,i){var r=Lx(t,n,i.YD);if(void 0!==r&&0!==r.o.charCodeAt(0)&&0!==r.Pb){var e,u,s=n.ec,o=Tc(t,s,s+r.Pb);switch(n.kb(r.Pb),i.YD){case 2:var a=r;e=Nx(u=o,new Dc,a.o);break;case 3:var c=r,h=new Dc;!function(t,n,i){var r,e,u,s=i.KD;s.y5&&(r=$a(t,n)),s.S5&&(e=Xa(t,n)),s.groupingIdentity&&(u=Xa(t,n))}(o,h,c),e=xx(u=Tc(o,h.ec,o.byteLength),new Dc,c.o);break;case 4:var f=r,v=new Dc;f.KD.m5&&(o=Fx(o)),function(t,n,i){var r,e,u,s,o=i.KD;o.groupingIdentity&&(r=Xa(t,n)),o.y5&&(e=$a(t,n)),o.S5&&(u=Xa(t,n)),o.T5&&(s=Px(t,n))}(o,v,f),e=xx(u=Tc(o,v.ec,o.byteLength),new Dc,f.o)}if(!e){var l=Nc(Ec(u));e=yx(r.o,l.buffer)}return e}}U(),St();function Wx(t){return Yn(t)&&"org.id3"===t.type&&Yn(t.value)}function jx(t){return function(t,n,i){return Ex(t,n,i)}(new DataView(t.data),new Dc,t.key)}function Zx(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return jx(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return yx(t.key,t.data)}(t)}U(),St(),U(),St();var Xx=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).Z4=[],e.t5=[],e.Go=Gp.Th,e.I4=Nm.NONE,e.i5=void 0,e.bp=xm.DEFAULT,e.N5=!1,e.L5=0,e.G5=function(){e.x5(),e.EO.removeEventListener("cuechange",e.G5)},e.M5=function(){e.xE!==Gp.Th&&(e.U5(),e.h5(),e.Z4.length&&e.R5(Nm.LOADING))},e.H5=function(){e.R5(Nm.LOADED)},e.Z5=function(){e.R5(Nm.ERROR)},e.EO=n,e.D5=r,e.EO.addEventListener("cuechange",e.G5),e.EO.addEventListener("cuechange",e.M5),e.E5=i,e.E5&&(e.i5=bd(e.E5.src),e.E5.addEventListener("load",e.H5),e.E5.addEventListener("error",e.Z5)),e.xO=ym(),e.RO=n.label||"",e.z4=new VN(e.Z4),e.X4=new VN(e.t5),e.xE=e.I5,$o((function(){e.M5(),e.R5(Nm.NONE)})),e}Rt(n,t);var i=n.prototype;return i.ba=function(){return Kp(this)},i.dW=function(t){t.Ht!==this&&(t.Ht=this,this.EO.addCue(t.c5),this.M5())},i.eW=function(t){t.Ht===this&&(t.Ht=void 0,this.EO.removeCue(t.c5),this.M5())},i.q4=function(t){var n,i=null==(n=this.EO.cues)?void 0:n.getCueById(t);if(i){var r=Gx(i);return r&&Qn(r)?r[0]:r}},i.iW=function(t){this.L5>=t||(this.L5=t,dy(this,t))},i.x5=function(){var t=this.xE;this.P5||t!==Gp.Jn?this.I5=t:this.I5=Gp.NC},i.B5=function(){var t=this.xE,n=this.I5;t!==n&&(this.P5||t!==Gp.Jn||n!==Gp.NC)&&("metadata"===this.Lt&&n===Gp.Th?this.xE=t:this.N5&&n===Gp.Th&&t===Gp.Jn?this.I5=t:this.xE=n)},i.P4=function(t){this.I4!==t&&(this.I4=t,this.wo(new UN(this,t)))},i.R5=function(t){var n=A.max(this.I4,this.C5,t);this.P4(n)},i.O5=function(t){var n=Gx(t);if(n)return n;if(Qn(n=this.F5(t)))for(var i=0;i<n.length;i++){n[i].Ht=this}else n.Ht=this;return n},i.F5=function(t){var n=this.V5(t);return t.THEOplayerTextTrackCue=n,n},i.V5=function(t){return t.endTime<this.L5?[]:Wx(t)?(this.Aw=xm.ID3,function(t){var n;try{n=Zx(t.value)}catch(t){n=yx("")}return new gx(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.Aw=xm.ID3,function(t){var n=[];try{var i=Vx(new DataView(t.data));if(i)for(var r=0,e=i.k5;r<e.length;r++){var u=e[r];n.push(new gx(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.Aw=xm.WEBVTT,function(t){return"regionId"in t}(t)?new hx(t):new cx(t)):new rx(t)},i.W5=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e,u=this.O5(null!=(e=t[r])?e:t.item(r));if(Qn(u))for(var s=0;s<u.length;s++){var o=u[s];n.push(o)}else n.push(u)}return n},i.U5=function(){for(var t=this.W5(this.EO.cues),n=FN(this.Z4,t),i=0,r=n.H4;i<r.length;i++){var e=r[i];e.fn(Fm.nO,this.M5),e.fn(Fm.sO,this.M5),this.wo(new HN(e))}for(var u=0,s=n.G4;u<s.length;u++){var o=s[u];o.yn(Fm.sO,this.M5),o.yn(Fm.nO,this.M5),this.wo(new XN(o))}},i.h5=function(){for(var t=this.W5(this.EO.activeCues),n=FN(this.t5,t),i=0,r=n.H4;i<r.length;i++){r[i].io=!1}for(var e=0,u=n.G4;e<u.length;e++){u[e].io=!0}(n.G4.length||n.H4.length)&&this.wo(new ex(this))},i.LC=function(t){this.xE=t},i.gn=function(){this.$o();for(var t=this.Z4.slice(),n=0;n<t.length;n++){t[n].gn()}So(this.Z4),So(this.t5),this.EO.removeEventListener("cuechange",this.G5),this.EO.removeEventListener("cuechange",this.M5),this.E5&&(this.E5.removeEventListener("load",this.H5),this.E5.removeEventListener("error",this.Z5),ai(this.E5))},xt(n,[{key:"q",get:function(){return this.X4}},{key:"vW",get:function(){return this.E5?this.E5.default:void 0}},{key:"L",get:function(){return this.z4}},{key:"ka",get:function(){return this.su||(this.su=this.ba()),this.su}},{key:"o",get:function(){return this.EO.id||this.E5&&this.E5.id||""}},{key:"xC",get:function(){return this.xO}},{key:"MC",get:function(){return this.EO.inBandMetadataTrackDispatchType||""}},{key:"Lt",get:function(){return this.EO.kind||$p.jV}},{key:"xh",get:function(){return this.RO},set:function(t){t!==this.RO&&(this.RO=t,void 0!==this.E5&&(this.E5.label=t),this.wo(new mm(this)))}},{key:"gs",get:function(){return this.EO.language||""}},{key:"xE",get:function(){return this.Go},set:function(t){var n=this.xE;this.Go=Hp(t),this.x5();var i=this.xE;n!==i&&this.wo(new dm(this)),i!==Gp.Th&&this.R5(Nm.LOADING)}},{key:"I5",get:function(){return Hp(this.EO.mode)},set:function(t){this.EO.mode=t}},{key:"IO",get:function(){return this.EO}},{key:"sI",get:function(){return this.I4}},{key:"C5",get:function(){return this.E5?+this.E5.readyState||Nm.NONE:Nm.LOADED}},{key:"OC",get:function(){return this.i5}},{key:"Aw",get:function(){return this.bp},set:function(t){this.bp!==t&&(this.bp=t,this.wo(new jN(this)))}},{key:"P5",get:function(){return this.D5},set:function(t){var n=this;this.D5=t,t&&(this.N5=!0,g((function(){n.N5=!1}),50)),this.x5()}}]),n}(oa);function Gx(t){return null==t?void 0:t.THEOplayerTextTrackCue}U(),St(),Ct(),U(),St();function Hx(t,n){return ho(t.nV,n.nV)||function(t,n){return t.Ht===n.Ht?co(LN(t),LN(n)):vy(t.Ht,n.Ht)}(t.BO,n.BO)||function(t,n){return t===n?ao.sh:t===Fm.sO?ao.Lw:ao.Mw}(t.type,n.type)}var zx=function(){function t(t,n){var i=this;this.Ll=[],this.q5=0,this.An=0,this.X5=[],this.o6=[],this.Y5=[],this.K5=!1,this.j5=!1,this.Q5=0,this.l6=function(){i.q5=0,i._6(),i.a6()},this.v6=function(){i._6(),i.a6()},this.m6=function(){i.K5=!0,i.v6()},this.g6=function(){i.j5=!0,i.Q5=0,i.z5()},this.J5=function(){i.t6(),i._6(),i.a6()},this.s6=function(t){var n=t.BO;Ao(i.o6,n)||i.o6.push(n),i.f6(n),i.h6()},this.n6=function(t){var n=t.BO;_o(i.X5,n),_o(i.o6,n),i.f6(n),i.h6()},this.r6=function(t){i.f6(t.BO),i.h6()},this.c6=n,this.ea=t,t.yn(fa.sb,this.v6),t.yn(fa.ro,this.m6),t.yn(Ey.VL,this.v6),t.yn(fa.Zy,this.v6),t.yn(fa.jy,this.g6),t.yn(fa.Ky,this.v6),this.h6()}var n=t.prototype;return n.er=function(){So(this.X5);for(var t=0,n=this.Ll.slice();t<n.length;t++){var i=n[t];this.it(i)}this.z5(),this.q5=0,this.An=0,So(this.Y5),this.K5=!1,this.j5=!1,this.Q5=0},n.tt=function(t){Ao(this.Ll,t)||(this.Ll.push(t),t.yn(Rg.la,this.J5),t.xE!==Gp.Th&&this.t6())},n.it=function(t){_o(this.Ll,t)&&(t.fn(Rg.la,this.J5),t.xE!==Gp.Th&&this.t6())},n.t6=function(){var t=this.Y5,n=this.Ll.filter((function(t){return t.xE!==Gp.Th}));this.Y5=n;for(var i=0;i<t.length;i++){var r=t[i];Ao(n,r)||this.e6(r)}for(var e=0;e<n.length;e++){var u=n[e];Ao(t,u)||this.i6(u)}this.Q5=0},n.i6=function(t){if(t.yn(Rg.UI,this.s6),t.yn(Rg.HI,this.n6),t.yn(Rg.XI,this.r6),t.L.V>0){for(var n=0,i=t.L.uC;n<i.length;n++){var r=i[n];this.o6.push(r)}this.h6()}},n.e6=function(t){if(t.fn(Rg.UI,this.s6),t.fn(Rg.HI,this.n6),t.fn(Rg.XI,this.r6),t.L.V>0){for(var n=0,i=t.L.uC;n<i.length;n++){var r=i[n];_o(this.X5,r),_o(this.o6,r)}this.h6()}},n.a6=function(){this.ea.hI||this.ea.qR?this.z5():this.h6()},n.h6=function(){this.K5&&0!==this.Y5.length&&(this.Q5-this.ea.SR>.25*this.ea.KR||this.q5||(this.q5=this.c6.u6(this.l6)))},n.z5=function(){this.q5&&(this.c6.d6(this.q5),this.q5=0)},n.f6=function(t){0!==this.Q5&&(t.io!==DN(t,this.ea.SR)?this.Q5=0:this.An<t.FO&&t.FO<this.Q5?this.Q5=t.FO:this.An<t.VO&&t.VO<this.Q5&&(this.Q5=t.VO))},n._6=function(){if(this.K5&&0!==this.Y5.length&&!this.ea.hI){var t=this.Y5,n=this.An,i=this.ea.SR,r=i-n<-.1,e=this.j5||r;e&&i>n&&i-n<.1&&(e=!1),this.j5=!1;for(var u=[],s=1/0,o=0;o<t.length;o++){var a=t[o],c=a.h5(i,e);c<s&&(s=c);for(var h=0,f=a.q.uC;h<f.length;h++){var v=f[h];u.push(v)}}var l=this.X5.slice();if(e);else for(var d=0;d<t.length;d++){fy(t[d],n-br,i,l)}for(var g=l.length-1;g>=0;g--)Ao(u,l[g])&&bo(l,g);var m=[];if(!e)for(var w=l.length-1;w>=0;w--){var p=l[w];p.FO>n&&p.VO<=i&&(m.push(p),bo(l,w))}for(var y=0,_=this.o6;y<_.length;y++){var b=_[y];b.FO!==b.VO&&_o(m,b)}So(this.o6);for(var k=[],T=[],S=0;S<m.length;S++){var E=m[S];E.io||k.push(new KN(E,E.FO)),k.push(new JN(E,A.max(E.FO,E.VO))),E.io=!1}for(var I=0;I<l.length;I++){var R=l[I];R.io&&(k.push(new JN(R,A.max(R.FO,R.VO))),R.io=!1)}for(var C=0;C<u.length;C++){var N=u[C];N.io||(k.push(new KN(N,N.FO)),N.io=!0)}k.sort(Hx);for(var x=0;x<k.length;x++){var D=k[x],P=D.BO;P.wo(D);var M=P.Ht;M&&(D.type===Fm.sO?M.wo(new $N(P)):M.wo(new nx(P)),Ao(T,M)||T.push(M))}T.sort(vy);for(var B=0;B<T.length;B++){var O=T[B];O.wo(new ex(O))}this.An=i,this.X5=u,this.Q5=s}},n.gn=function(){this.er(),this.ea.fn(fa.sb,this.v6),this.ea.fn(fa.ro,this.m6),this.ea.fn(Ey.VL,this.v6),this.ea.fn(fa.Zy,this.v6),this.ea.fn(fa.jy,this.g6),this.ea.fn(fa.Ky,this.v6)},t}();U(),St();var Yx=function(){function t(){}var n=t.prototype;return n.u6=function(t){return fI(t)},n.d6=function(t){vI(t)},t}(),Kx=new Yx,qx=function(t){function n(n,i){return void 0===i&&(i=Kx),t.call(this,n,i)||this}return Rt(n,t),n}(zx);U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var Jx=function(t){function n(n,i,r){return t.call(this,n,1/0,i,!1,r)||this}return Rt(n,t),n.prototype.iF=function(t){return fx(this,t)},xt(n,[{key:"ka",get:function(){return this.su||(this.su=dx(this)),this.su}}]),n}(qm);U(),St(),Ct(),U(),St(),Ct();var Qx=function(t){function n(n,i,r){return void 0===r&&(r=xm.DEFAULT),t.call(this,$p.$V,"",i||"","",!1,r,!1,n)||this}return Rt(n,t),n}(YN),$x=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Aw=xm.ID3,r}Rt(n,t);var i=n.prototype;return i.dW=function(n){vx(n,this.Z4),t.prototype.dW.call(this,n)},i.ba=function(){return Kp(this)},n}(Qx),tD=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).L5=0,i.M5=function(){i.xE!==Gp.Th&&(i.U5(),i.R5(Nm.LOADED))},i.EO=n,i.EO.addEventListener("cuechange",i.M5),i.xE=i.I5,$o((function(){i.M5()})),i}Rt(n,t);var i=n.prototype;return i.J4=function(n){t.prototype.J4.call(this,n),this.I5=this.xE},i.dW=function(n){t.prototype.dW.call(this,n),n.c5.track!==this.EO&&this.EO.addCue(n.c5)},i.eW=function(n){t.prototype.eW.call(this,n),n.c5.track===this.EO&&this.EO.removeCue(n.c5)},i.iW=function(t){this.L5>=t||(this.L5=t,dy(this,t))},i.R5=function(t){this.sI=A.max(this.sI,t)},i.U5=function(){var t=this.EO.cues;if(t){for(var n=t.length,i=[],r=[],e=0;e<n;e++){var u,s=null!=(u=t[e])?u:t.item(e);if(Wx(s)&&s.endTime>=this.L5){var o,a=null!=(o=null==s?void 0:s.THEOplayerTextTrackCue)?o:new nD(s);i.push(a)}else r.push(s)}uo(i,PN);for(var c=FN(this.L.uC.slice(),i),h=0;h<r.length;h++){var f=r[h];this.EO.removeCue(f)}for(var v=0,l=c.H4;v<l.length;v++){var d=l[v];d.gn(),this.eW(d)}for(var g=0,m=c.G4;g<m.length;g++){var w=m[g];this.dW(w)}}},i.gn=function(){this.EO.removeEventListener("cuechange",this.M5),t.prototype.gn.call(this)},xt(n,[{key:"o",get:function(){return this.EO.id||""}},{key:"MC",get:function(){return this.EO.inBandMetadataTrackDispatchType||""}},{key:"gs",get:function(){return this.EO.language||""}},{key:"I5",get:function(){return Hp(this.EO.mode)},set:function(t){this.EO.mode=t}},{key:"IO",get:function(){return this.EO}}]),n}($x),nD=function(t){function n(n){var i,r=n.startTime,e=Zx(n.value);return(i=t.call(this,r,e,n.id)||this).c5=n,i.c5.THEOplayerTextTrackCue=i,i}return Rt(n,t),n.prototype.gn=function(){t.prototype.gn.call(this),this.c5.THEOplayerTextTrackCue=void 0},n}(Jx);function iD(t){return"TXXX"===t.id||"TXX"===t.id}U(),St(),Gt(),Ct(),Jt(),U(),St();var rD=function(t){function n(n,i){var r,e;return r=t.call(this)||this,e=r,r.uW=n,r.w6=i,r.S6=as(),r.VG=Zt((function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:return(n=t.Ht).Aw?[3,2]:[4,n.vy(Rg.iC)];case 1:i.sent(),i.label=2;case 2:if(n.Aw!==xm.ID3)return[2];i.label=3;case 3:return 0!==n.L.V?[3,5]:[4,n.vy(Rg.UI)];case 4:return i.sent(),[3,3];case 5:return e.b6(n),[2]}}))})),r.WG=function(t){var n=t.Ht;if(n.Aw===xm.ID3&&r.S6.has(n.xC)){var i=r.S6.get(n.xC);r.it(i),r.uW._W(i),n.fn(Rg.UI,r.k6)}},r.k6=function(t){eD(t.BO)&&r.T6(t.BO)},r.p6(),r}Rt(n,t);var i=n.prototype;return i.p6=function(){this.w6.yn(Ag.OI,this.VG),this.w6.yn(Ag.VI,this.WG)},i.y6=function(){this.w6.fn(Ag.OI,this.VG),this.w6.fn(Ag.VI,this.WG)},i.b6=function(t){var n=t.L.uC[0];if(eD(n)){var i=function(t){var n=t.match(uD);if(!n)return;return{Ht:n[1],gs:n[2]}}(n.U.description),r=i.Ht,e=i.gs;if(!this.A6(r,e)){var u=this.uW.LI($p.jV,t.o,r,e,!1,xm.TTML);this.tt(u),this.S6.set(t.xC,u);for(var s=0,o=t.L.uC;s<o.length;s++){var a=o[s];eD(a)&&this.T6(a)}t.yn(Rg.UI,this.k6)}}},i.A6=function(t,n){return this.Z.uC.some((function(i){return i.xh===t&&i.gs===n}))},i.T6=function(t){if(t.Ht)for(var n=this.S6.get(t.Ht.xC),i=Mp(t.U.text,n,{DV:0,NV:1/0,MV:t.FO}),r=0;r<i.length;r++){var e=i[r];n.dW(e)}},i.er=function(){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:for(i=0,r=n.w6.uC;i<r.length;i++)r[i].fn(Rg.UI,n.k6);for(e=0,u=n.Z.uC;e<u.length;e++)s=u[e],n.uW._W(s);return n.S6.clear(),[4,t.prototype.er.call(n)];case 1:return o.sent(),[2]}}))}))()},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.y6(),[4,t.prototype.gn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(my);function eD(t){return function(t){return iD(t)&&uD.test(t.description)}(t.U)}var uD=/^Track:(.+),Lang:(.+)$/;U(),St(),Gt(),Dt(),Ct(),ct(),Jt(),an(),U(),St();var sD=[fa.Sy,fa.Ay,fa.hb,fa.fb];U(),St(),Dt(),Ct();var oD=function(t){function n(n){var i;return(i=t.call(this,fa.Ay)||this).errorObject=n,i}return Rt(n,t),xt(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(ha);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Ct();var aD=function(t){function n(n){var i;return(i=t.call(this,fa.Sy)||this).E6=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var cD=function(t){function n(n){var i;return(i=t.call(this,"ub")||this).E6=n,i}return Rt(n,t),n}(ha),hD=new dl,fD=function(t){function n(n){var i;return(i=t.call(this,"Ws")||this).session=n,i}return Rt(n,t),n}(ha),vD=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).N6=n,e.P6=i,e.D6=r,e.I6=!1,e.F6=!1,e.WT=new Jo,e.R6=!1,e.nT=function(t){if(!e.WT.Vw.Bw)switch(t.wb){case"license-request":case"license-renewal":e.$W(t.gb,t.yb).catch((function(t){return e.Ss(t)}));break;default:e.Ss(new em(el.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.wb))}},e.B6=function(t){e.N6.mb.Lb((function(t,n){switch(t){case"usable":qn.Ug((function(){e.F6=!0,e.wo(new aD(n))}),100);break;case"expired":case"status-pending":default:break;case"output-restricted":case"internal-error":e.wo(new cD(n))}})),e.R6=!0,e.wo(t)},e.O6=function(t){e.Ss(new em(el.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},n.yn("gb",e.nT),n.yn(fa.fb,e.B6),n.yn("lt",e.O6),n.XS.then((function(){return e.L6()}),(function(t){return e.Ss(t)})),e}Rt(n,t);var i=n.prototype;return i.JS=function(){var t=this;return this.I6=!0,hD.Jo((function(n){return t.C6(n)}),this.WT.Vw)},i.C6=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),jo(t),[4,n.P6.zW(t)];case 1:return s.sent(),[4,n.P6.qW(n.D6.Tw,n.D6.Tb,t)];case 2:return i=s.sent(),[4,n.N6.JS(n.D6.Tw,n.D6.Tb,i)];case 3:return s.sent(),[3,5];case 4:throw Zo(r=s.sent()),e=r instanceof Qc?r.Ub:void 0,u=new em(el.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",r,void 0,void 0,void 0,void 0,e),n.Ss(u),u;case 5:return[2]}}))}))()},i.$W=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),function(t){return Lc(t,Kc())}(t)?[4,i.P6.aU(new I(t),i.WT.Vw)]:[3,2];case 1:return r=c.sent(),[3,4];case 2:return[4,i.P6.uU(new I(t),n,i.WT.Vw)];case 3:r=c.sent(),c.label=4;case 4:return[3,6];case 5:if(Wo(e=c.sent()))return[2];throw e;case 6:if(i.WT.Vw.Bw)return[2];u=i.M6,s=new Yc,i.M6=s,c.label=7;case 7:return c.trys.push([7,10,11,14]),[4,i.N6.tr(r)];case 8:return c.sent(),[4,ra(100)];case 9:return c.sent(),[3,14];case 10:throw o=c.sent(),a=o instanceof Qc?o.Ub:void 0,new em(el.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",o,void 0,void 0,void 0,void 0,a);case 11:return void 0===u?[3,13]:[4,u.Vb];case 12:c.sent(),c.label=13;case 13:return s.Ob(),i.M6===s&&(i.M6=void 0),[7];case 14:return[2]}}))}))()},i.Ss=function(t){var n=t instanceof em?t:new em(el.CONTENT_PROTECTION_ERROR,t.message,t);this.wo(new oD(n)),this.Ws()},i.L6=function(){this.N6.fn("gb",this.nT),this.N6.fn(fa.fb,this.B6),this.N6.fn("lt",this.O6),this.F6=!1,this.R6=!1,this.WT.Yw(),this.wo(new fD(this))},i.Ws=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:t.$o(),i.label=1;case 1:return void 0===(n=t.M6)?[3,3]:[4,n.Vb];case 2:i.sent(),i.label=3;case 3:if(t.M6!==n)return[3,1];i.label=4;case 4:return t.L6(),[4,t.N6.Ws().catch(Ti)];case 5:return i.sent(),[2]}}))}))()},xt(n,[{key:"x6",get:function(){return this.R6}}]),n}(oa),lD=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).W6=[],e.H6=void 0,e.z6=[],e.q6=function(t){if(t.type===fa.fb)return null!=e.Q6||(e.Q6=new zc),t.mb.Lb((function(t,n){e.Q6.Mb(n,t)})),void(e.V6&&e.wo(new da(e.Q6)));e.Ds(t)},e.Y6=function(t){t.session.fn(sD,e.Ds),t.session.fn("Ws",e.Y6),_o(e.W6,t.session),e.Q6=void 0},e.iT=n,e.hT=i,e.U6=r,e}Rt(n,t);var i=n.prototype;return i.XW=function(){return this.U6.XW()},i.G6=function(t){return this.H6||(this.H6=this.Z6(t)),this.H6},i.Z6=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return jo(t),[4,n.U6.aU(new I(Kc()),t)];case 1:if(i=r.sent(),jo(t),!n.hT)throw new y("Invalid MediaKeys when setting ServerCertificate");return[4,n.hT.uT(i.buffer)];case 2:return r.sent(),[2]}}))}))()},i.X6=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(!n.hT)throw new y("Invalid MediaKeys when creating KeySession");e.label=1;case 1:return e.trys.push([1,,3,4]),n.z6.push(t),[4,n.hT.oT("temporary")];case 2:return i=e.sent(),r=new vD(i,n.U6,t),n.W6.push(r),r.yn(sD,n.q6),r.yn("Ws",n.Y6),[2,r];case 3:return _o(n.z6,t),[7];case 4:return[2]}}))}))()},i.K6=function(t){if(t.j6)return!1;for(var n=0,i=this.W6;n<i.length;n++){if(dD(i[n].D6,t))return!0}for(var r=0,e=this.z6;r<e.length;r++){if(dD(e[r],t))return!0}return!1},i.gn=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.hT=void 0,t.$o(),n=t.W6.slice(),So(t.W6),[4,ut.all(n.map((function(t){return t.Ws()})))];case 1:return i.sent(),t.Q6=void 0,t.U6.Hw(),[2]}}))}))()},xt(n,[{key:"aT",get:function(){return this.iT}},{key:"V6",get:function(){return this.W6.every((function(t){return t.x6}))}}]),n}(oa);function dD(t,n){return!t.j6&&t.Tw===n.Tw&&Lc(t.Tb,n.Tb)}var gD=function(t){function n(n){var i;return(i=t.call(this)||this).WT=new Jo,i.Qo=new dl,i.DT=void 0,i.U6=void 0,i.jG=void 0,i.iT=void 0,i.d9=function(t){i.n9(t.Tw,t.Tb,i.WT.Vw).catch((function(t){return i.Ss(t)}))},i.FB=n,i.FB.yn(wa.Iy,i.d9),i}Rt(n,t);var i=n.prototype;return i.Dn=function(t,n){this.jG=t,this.dJ(n)},i.dJ=function(t){this.DT=t,this.t9(this.WT.Vw).catch(Xo)},i._J=function(t){this.e9(t,this.WT.Vw).catch(Xo)},i.e9=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(r=function(r,e){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(u=e[r],void 0===(null==(o=go(t,(function(t){return t.i9===u.aT.xw})))?void 0:o.s9))return[2,"continue"];if(null==(s=u.EG)?void 0:s.some((function(t){return Lc(o.s9,t)})))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,i.n9(u.aT.Tw,o.s9,n)];case 2:return a.sent(),[2,{v:void 0}];case 3:return Zo(a.sent()),[3,4];case 4:return[2]}}))},jo(n),!(null==(e=i.DT)?void 0:e.eH))return[2];o=0,a=null!=(s=null==(u=i.DT)?void 0:u.eH)?s:[],h.label=1;case 1:return o<a.length?[5,zt(r(o,a))]:[3,4];case 2:if("object"===W(c=h.sent()))return[2,c.v];h.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))()},i.t9=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return qn.Ys.Qg?[4,n.r9(t)]:[3,2];case 1:if(i.sent())return[2];i.label=2;case 2:return n.DT&&n.DT.o9?[4,n.h9(t)]:[3,4];case 3:return[2,i.sent()];case 4:return[2]}}))}))()},i.r9=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v;return Ht(this,(function(l){switch(l.label){case 0:if(!(null==(i=n.DT)?void 0:i.eH))return[2,!1];e=!1,s=0,o=null!=(u=null==(r=n.DT)?void 0:r.eH)?u:[],l.label=1;case 1:if(!(s<o.length))return[3,9];a=o[s],h=0,f=null!=(c=a.EG)?c:[],l.label=2;case 2:if(!(h<f.length))return[3,7];v=f[h],l.label=3;case 3:return l.trys.push([3,5,,6]),[4,n.n9(a.aT.Tw,v,t)];case 4:return l.sent(),e=!0,[3,6];case 5:return Zo(l.sent()),[3,6];case 6:return h++,[3,2];case 7:if(e)return[2,!0];l.label=8;case 8:return s++,[3,1];case 9:return[2,!1]}}))}))()},i.n9=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,l;return Ht(this,(function(d){switch(d.label){case 0:if(jo(i),!n.byteLength)return[2];if(!r.DT||!r.DT.eH.length)throw new em(el.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");if(t!==ms&&t!==ps&&t!==ws)return[2];e=C_(t,n),u=r.DT.eH,o=0,d.label=1;case 1:if(!(o<u.length))return[3,11];if(a=u[o],jo(i),!(c=e[a.aT.Ew])||a.aT.Tw!==t)return[3,10];d.label=2;case 2:return d.trys.push([2,9,,10]),[4,r.a9(a,i)];case 3:return(h=d.sent()).XW()?[4,h.G6()]:[3,5];case 4:d.sent(),d.label=5;case 5:return f=r.FB.OR,v={Tw:a.aT.Tw,Tb:c,j6:f},r.u9(h,v)?[4,h.X6(v)]:[3,8];case 6:return[4,d.sent().JS()];case 7:d.sent(),d.label=8;case 8:return[2];case 9:return Zo(l=d.sent()),s=l,[3,10];case 10:return o++,[3,1];case 11:return[4,qn.Gp()];case 12:throw d.sent()?new em(el.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s):new em(el.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s)}}))}))()},i.h9=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(!(r=null==(i=n.DT)?void 0:i.eH))return[2];e=0,o.label=1;case 1:if(!(e<r.length))return[3,8];u=r[e],jo(t),o.label=2;case 2:return o.trys.push([2,6,,7]),[4,n.a9(u,t)];case 3:return(s=o.sent()).XW()?[4,s.G6()]:[3,5];case 4:o.sent(),o.label=5;case 5:return[2];case 6:return Zo(o.sent()),[3,7];case 7:return e++,[3,1];case 8:return[2]}}))}))()},i.u9=function(t,n){return qn.Ys.jg||this.FB.XB.ZB||!t.K6(n)},i.a9=function(t,n){var i=this;return this.Qo.Jo((function(n){return i.c9(t,n)}),n)},i.c9=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(jo(n),!i.DT||!i.U6||!i.jG)throw new y("Not initialized");if(i.iT){if(i.iT.aT!==t.aT)throw new y("Internal key system error");return[2,i.iT]}return r=i.U6,e=us({},t,{EH:t.EH.map((function(n){var i;return us({},n,{persistentState:null!=(i=n.persistentState)?i:r.dU(t.aT),gT:n.gT||r.gT(t.aT)})}))}),[4,i.jG.aJ(e.aT,e.EH)];case 1:return u=a.sent(),s=r.kG(e),(o=new lD(e.aT,u,s)).yn(sD,i.Ds),i.iT=o,[2,o]}}))}))()},i.Ss=function(t){if(!Wo(t)){var n=t instanceof em?t:new em(el.CONTENT_PROTECTION_ERROR,t.message,t);this.wo(new oD(n))}},i.er=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.jG=void 0,t.DT=void 0,t.WT.Yw(),t.WT=new Jo,[4,t.l9()];case 1:return n.sent(),[2]}}))}))()},i.l9=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.Qo.Yw()];case 1:return i.sent(),(n=t.iT)?(n.fn(fa.hb,t.Ds),t.iT=void 0,[4,n.gn()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))()},i.Hw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.$o(),t.FB.fn(wa.Iy,t.d9),[4,t.er()];case 1:return n.sent(),[4,t.Qo.gn()];case 2:return n.sent(),[2]}}))}))()},xt(n,[{key:"J6",get:function(){var t;return null==(t=this.iT)?void 0:t.aT}},{key:"gH",get:function(){return this.U6},set:function(t){this.U6=t}}]),n}(oa);U(),St(),Ct();var mD=function(t){function n(n){var i;return(i=t.call(this,fa.Oy)||this).currentTime=n,i}return Rt(n,t),n}(ha);U(),St(),Dt(),Ct();var wD=function(t){function n(n){var i;return(i=t.call(this)||this).v9=n,i}Rt(n,t);var i=n.prototype;return i.P4=function(){var t;null==(t=this.f9)||t.P4()},i.er=function(){var t;null==(t=this.f9)||t.er()},i.Hw=function(){this.$o(),void 0!==this.f9&&(this.f9.Hw(),this.f9=void 0)},i._9=function(t){if(this.f9!==t){var n=this.sI;void 0!==this.f9&&this.f9.Hw(),this.f9=t,void 0!==t&&(t.yn(Ey.tC,this.Ds),t.P4());var i=this.sI;n!==i&&this.wo(new Ry(this.v9.SR,i))}},xt(n,[{key:"sI",get:function(){return void 0!==this.f9?this.f9.sI:Cy.$B}}]),n}(oa);U(),St(),Dt(),Ct();var pD=function(t){function n(n,i,r){return t.call(this,n,i,"",r,void 0,xm.WEBVTT)||this}Rt(n,t);var i=n.prototype;return i.m9=function(t,n,i){var r=new Qm(t,n,i,!1);return this.dW(r),r},i.g9=function(t){this.eW(t)},xt(n,[{key:"ka",get:function(){var t;return null!=(t=this.su)?t:this.su=yD(this)}}]),n}(YN);function yD(t){return Pg(Kp(t),{get type(){return t.Aw},addCue:function(n,i,r){return t.m9(n,i,r).ka},removeCue:function(n){t.g9(n.OO)}})}U(),St(),Dt(),Ct();var _D=function(t){function n(n,i){var r,e;return(r=t.call(this,n,i)||this).zE=!1,r.p9=[],r.w9=function(){var t;null==(t=r.E5)||t.removeEventListener("load",r.w9),r.zE=!0;for(var n=0,i=r.p9;n<i.length;n++){var e=i[n];r.dW(e)}So(r.p9)},null==(e=r.E5)||e.addEventListener("load",r.w9),r.Aw=xm.WEBVTT,r}Rt(n,t);var i=n.prototype;return i.m9=function(t,n,i){var r=this.F5(new f.VTTCue(t,n,i));return this.zE?this.dW(r):this.p9.push(r),r},i.g9=function(t){_o(this.p9,t),this.eW(t)},i.gn=function(){var n;t.prototype.gn.call(this),null==(n=this.E5)||n.removeEventListener("load",this.w9),So(this.p9)},xt(n,[{key:"ka",get:function(){var t;return null!=(t=this.su)?t:this.su=yD(this)}}]),n}(Xx),bD=Gn.Um||Gn.Hm,kD=Gn.Lg,AD=Gn.$m,TD=Gn.$m&&Gn.iu,SD=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).zG=void 0,u.rZ=!0,u.jG=void 0,u.k8=new dl,u.A9=void 0,u.sa=new sS,u.Zo=new aS,u.m8=[],u.S9=void 0,u.e8=0,u.t8=NaN,u.b9=void 0,u.l8=!1,u.N8=void 0,u.T8=0,u.aZ=!1,u.x4=!1,u.g7=Cy.$B,u.I9=0,u.Q9=ut.resolve(),u.j9=new Jo,u.q9=[],u.Ro=MA.mB(),u.P9=void 0,u.N9=1,u.B9=!1,u.L9=1,u.k9=!1,u.M8=!1,u.L8=!1,u.s8=!1,u.E9=!1,u.x9=!1,u.y9=!1,u.f7=!1,u.O8=0,u.O9=!1,u.g8=function(t){var n=t.track,i=u.A8(n);if(!ID(u.v8,n)){if(Gn.$m){if(n.kind===$p.$V)return void u.y8(n);if(n.kind===$p.QV&&""===n.label&&""===n.language&&!RD(n))return void u.b8(n,i)}u.v8.tt(new Xx(n,i))}},u.p8=function(t){var n=ID(u.v8,t.track);n&&u.v8.it(n)},u.w8=function(){for(var t=0;t<u.v8.V;t++){var n=u.v8.lC(t);n instanceof Xx&&n.B5()}},u.x8=function(){if(void 0!==u.jG&&WR(u.jG)&&!u.qR){var t=u.jG,n=t.J3,i=t.t4;if(n&&i)if(t.EJ)u.P8();else if(t.sI!==mN.X2){var r=n.gR,e=i.gR;if(0!==r.V||0!==e.V){var s=u.SR;if(s<r.Cn(0)||s<e.Cn(0))u.P8();else if(r.kr(s)!==e.kr(s)){if(t.CJ(s))return;u.C8()}else{if(u.P8(),!u.O8&&u.H9.F4())r.$L(e).nB(s,s+.5)&&(u.O8=fI(u.p7))}}else u.P8()}}},u.p7=function(){u.O8=0,u.x8()},u.I8=function(){if(!u.hI&&!u.E4&&!(u.R9.sI>=Cy.eO)&&void 0!==u.jG&&WR(u.jG)){var t=u.jG,n=t.J3,i=t.t4;if(n&&i){var r=u.SR,e=n.gR,s=i.gR;if(e.kr(r)&&s.kr(r))e.$L(s).nB(r-5,r)&&(u.y9?u.P8():u.D8())}}},u.H8=function(){u.wo(new yT(u.SR))},u.Z8=function(){u.K9(new Uo),u.wo(new pT(u.SR))},u.W8=function(){u.Z9(),u.wo(new By(u.SR))},u.K8=function(){u.D9()},u.Q8=function(){u.wo(new _T(u.ct))},u.z8=function(){u.wo(new qR(u.SR))},u.q8=function(){u.wo(new JR)},u.i7=function(){u.aZ||u.x4||u.l8?u.l8=!1:u.wo(new TT(u.SR))},u.s7=function(){u.a8(u.SR),u.l8=!1},u.X8=function(){var t=u.SR,n=u.hI,i=u.R9.sI<Cy.eO&&!u.RR,r=void 0!==u.N8,e=r&&u.N8!==t;u.S8(),(n||!r||e&&!i)&&u.c8()},u.Y8=function(){u.Gj()},u.t7=function(){if(null!==u.QT.error){var t,n=u.QT.error;u.MH(new sm(null!=(t=n.code)?t:um.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},u.e7=function(){u.M8&&(u.V8(),u.L8=!0)},u.w7=function(t){if(qn.Wg(u.I9),u.I9=0,t.readyState<=Cy.tO)if(u.aZ||u.x4){var n=qn.Vg()-u.e8;if(n<250)return void(u.I9=qn.Ug((function(){return u.w7(t)}),250-n))}else if(void 0!==u.jG&&u.jG.CJ(u.SR))return void(u.I9=qn.Ug((function(){return u.w7(t)}),250));u.g7!==t.readyState&&(u.g7=t.readyState,u.wo(t))},u.j8=function(){u.C9()},u.J8=function(){u.fI>0&&u.cI>0&&u.wo(new Ty)},u.n7=function(t){u.wo(new pa(t.initDataType,t.initData||new ArrayBuffer(0)))},u.r7=function(){u.wo(new ya)},u.a7=function(t){var n=t.initData,i=n?Nc(n).buffer:new ArrayBuffer(0);u.wo(new pa(ms,i))},u.o7=function(t){if(t.initData){var n=function(t){try{var n=Sc(t),i=new Dc;return gc(mc(Ha(n,i,$a(n,i,!0)),!0))}catch(t){return}}(t.initData);if(!n)return;u.wo(new pa(ps,n))}else u.wo(new pa(ps,new ArrayBuffer(0)))},u.h7=function(t){var n=t.initData,i=n?Nc(n).buffer:new ArrayBuffer(0);u.wo(new pa(ms,i))},u.U9=function(){u.Z9()},u.G9=function(t){u.K9(t)},u.y7=function(t){u.wo(t),t.type===fa.Ay&&u.MH(am(t.errorObject))},u.QT=n,u.Pw=i,u.Yu=r,u.gZ=e,u.R9=new wD(u),u.R9.yn(Ey.tC,u.w7),u.R9._9(new EN(u)),u.H9=new NN(u),u.H9.yn(Ey.VL,u.W8),u.fJ=new gD(u),u.fJ.yn(sD,u.y7),u.Ll=new Qp,u.v8=new Qp,u.G8=new Bk([u.Ll,u.v8]),u.U8=new rD(u,u.G8),u.d8=new Bk([u.G8,u.U8.Z]),u.f8=new qx(u),u.B8(),u.xH(),u}Rt(n,t);var i=n.prototype;return i.T9=function(){return void 0!==this.S9&&this.ct===this.S9},i.D9=function(){var t=this.KR;this.N9!==t&&(this.N9=t,this.wo(new bT(this.SR,t)))},i.C9=function(){var t=this.vI,n=this.GR;this.L9===t&&this.B9===n||(this.L9=t,this.B9=n,this.wo(new ST(this.SR,this.vI)))},i.UR=function(){return bR(this.QT)},i.kI=function(){this.O9||(this.O9=!0);var t=this.F9();return this.V9(),t},i.V9=function(){this.E9?this.x9&&(this.x9=!1,this.wo(new yT(this.SR))):this.W9()},i.W9=function(){if(this.A9)this.A9.kI();else{Gn.$m&&!Gn.iu&&this.QT.preload===nS.QH&&(this.QT.preload=nS.$V);var t=this.KR,n=this.QT.play();t!==this.YG.playbackRate&&(this.KR=t),this.k9=!1,ri(n)?n.then(this.U9,this.G9):this.H9.F4()&&this.Z9()}},i.TI=function(){this.E9?this.x9||(this.x9=!0,this.wo(new pT(this.SR))):this.X9()},i.X9=function(){this.A9?this.A9.TI():(this.QT.pause(),this.H9.tr()),this.z9(new Uo)},i.F9=function(){var t=new Yc;return this.q9.push(t),t.Vb},i.Y9=function(){for(var t=0,n=this.q9;t<n.length;t++){n[t].Ob(void 0)}So(this.q9)},i.z9=function(t){for(var n=0,i=this.q9;n<i.length;n++){i[n].Fb(t)}So(this.q9)},i.Z9=function(){this.E9||this.A9||this.Y9()},i.K9=function(t){this.E9||this.A9||this.z9(t)},i.Eb=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.A9?this.A9.Eb(t,n,i):(this.j9.Yw(),this.j9=new Jo,this.Q9=Ho(this.J9(t,n,i,this.Q9,this.j9.Vw),this.j9).catch(Ti))},i.ZG=function(t){var n=this.QG;if(n&&!E(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Eb(i)}},i.J9=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b,k;return Ht(this,(function(T){switch(T.label){case 0:return T.trys.push([0,24,,25]),u.S9=t,u.t8=t,u.e8=qn.Vg(),i&&!u.aZ?u.x4=!0:(u.aZ=!0,u.x4=!1),u.k9&&!u.T9()&&(u.k9=!1),u.x4?(u.wo(new yN(u.SR)),Gn.Im&&(t+=.05)):u.wo(new AT(t)),[4,r.catch(Ti)];case 1:return T.sent(),jo(e),u.jG&&!u.jG.PJ()?(u.i8(),[2]):(u.s8&&u.n8(),u.R9.sI!==Cy.$B?[3,3]:[4,u.R9.vy(Ey.tC,e)]);case 2:T.sent(),T.label=3;case 3:if(0!==u.QT.seekable.length&&(!TD||u.O9))return[3,9];s={stack:[],error:void 0,hasError:!1},T.label=4;case 4:return T.trys.push([4,6,7,8]),o=Yt(s,Jo.Qw([e]),!1),[4,ut.race([tg(u.QT,"timeupdate",o.Vw),ra(100,o.Vw)])];case 5:return T.sent(),jo(e),[3,8];case 6:return a=T.sent(),s.error=a,s.hasError=!0,[3,8];case 7:return Kt(s),[7];case 8:return[3,3];case 9:c=lN(u.gR,t,.05),h=u.rI,f=!0,v=!1,T.label=10;case 10:0,l={stack:[],error:void 0,hasError:!1},T.label=11;case 11:return T.trys.push([11,20,21,22]),(h=u.rI).V>0&&!h.kr(c)&&(c=h.qL(c),f=!0),n&&!u.QT.fastSeek&&((g=u.gR).kr(c)||(m=lN(g,c,1))!==c&&(c=m,f=!0)),AD&&void 0!==(w=u.r8())&&c>w&&(c=w,f=!0),v?[3,14]:void 0!==(p=u.o8())&&c>p?(v=!0,[4,u.h8(p,!1,e)]):[3,14];case 12:return T.sent(),[4,tg(u.QT,"seeked",e)];case 13:T.sent(),jo(e),f=!0,T.label=14;case 14:return f?(f=!1,[4,u.h8(c,n,e)]):[3,18];case 15:T.sent(),jo(e),y=u.SR,h=u.rI,c=h.qL(c),_=1,T.label=16;case 16:return A.abs(c-y)>=br?(h=u.rI,c=function(t,n,i){void 0===i&&(i=0);if(!n.V)return 0;var r=n.qL(t),e=ED*i;r===n.Cn(0)?r+=e:r===n.jn(n.V-1)&&(r-=e);return r}(c,h,_),[4,u.h8(c,n,e)]):[3,18];case 17:return T.sent(),jo(e),y=u.SR,_++,[3,16];case 18:return u.QT.seeking||u.R9.sI<Cy.tO?(b=Yt(l,Jo.Qw([e]),!1),[4,ut.race([tg(u.QT,"seeked",b.Vw),u.vy([fa.Xy,fa.xy],b.Vw),u.R9.vy(Ey.tC,b.Vw),null==(d=u.jG)?void 0:d.vy(HR.iJ,b.Vw)].filter(Yn))]):[3,23];case 19:return T.sent(),jo(e),[3,22];case 20:return k=T.sent(),l.error=k,l.hasError=!0,[3,22];case 21:return Kt(l),[7];case 22:return[3,10];case 23:return u.i8(),[3,25];case 24:return Wo(T.sent())?[2]:[3,25];case 25:return[2]}}))}))()},i.h8=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(jo(i),e=r.rI,t=e.qL(t),!r.s8)return[3,8];u=!0,h.label=1;case 1:if(!(u||r.R9.sI<Cy.eO))return[3,7];s={stack:[],error:void 0,hasError:!1},h.label=2;case 2:return h.trys.push([2,4,5,6]),(e=r.rI).kr(t)||(t=e.qL(t),u=!0),u?(u=!1,r.S9=t,r.a8(r.SR),[3,1]):(o=Yt(s,Jo.Qw([i]),!1),[4,ut.race([r.vy(fa.xy,o.Vw),r.R9.vy(Ey.tC,o.Vw)])]);case 3:return h.sent(),[3,6];case 4:return a=h.sent(),s.error=a,s.hasError=!0,[3,6];case 5:return Kt(s),[7];case 6:return[3,1];case 7:jo(i),h.label=8;case 8:return c=tg(r.QT,"seeking",i),n&&r.QT.fastSeek?r.QT.fastSeek(t):r.QT.currentTime=t,r.S9=void 0,r.a8(r.SR),r.QT.seeking?[4,c]:[3,10];case 9:h.sent(),h.label=10;case 10:return[2]}}))}))()},i.r8=function(){if(this.jG&&this.jG.EJ){var t=this.jG.xJ,n=this.jG.RJ,i=t&&n?t.Sn(n):t||n;if(i&&0!==i.V){var r=i.Cn(i.V-1),e=i.jn(i.V-1);return A.max(r,e-.001)}}},i.o8=function(){if(this.jG&&this.jG.EJ){var t=this.jG.RJ;if(t&&0!==t.V){var n=t.Cn(t.V-1),i=t.jn(t.V-1)-.02;return i-=.001,A.max(n,i)}}},i.a8=function(t){this.t8!==t&&(this.t8=t,this.x4?this.wo(new yN(t)):this.wo(new AT(t)))},i.i8=function(){var t=this.x4;this.aZ=!1,this.x4=!1,this.e8=0,this.t8=NaN,this.s8&&this.u8(),t?(this.wo(new mD(this.SR)),this.c8()):(this.wo(new TT(this.SR)),this.l8=!0),this.Gj()},i.n8=function(){this.E9||(this.x9=this.qR,this.E9=!0,this.X9())},i.u8=function(){this.E9&&(this.E9=!1,this.x9||this.V9())},i.DJ=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Aw===Sy.mW&&KR.DJ(i,this.QT))return i;if(i.Aw===Sy.gW&&wN.DJ(i))return i}},i.be=function(){this.rZ=!1,Ci(this.QT)&&(this.QT.style.display="none")},i.ge=function(){this.rZ=!0,Ci(this.QT)&&(this.QT.style.display="block")},i.LI=function(t,n,i,r,e,u,s,o,a){var c=new YN(t,n,i,r,e,u,s,a,o);return this.Ll.tt(c),this.f8.tt(c),c},i.dH=function(t){var n=t.Lt,i=t.xh,r=t.gs;if("function"==typeof this.QT.addTextTrack&&"function"==typeof f.VTTCue){var e=this._8("data:text/vtt,WEBVTT%0A%0A",n,i,r),u=e.track,s=e.trackElement,o=new _D(u,s);return this.v8.tt(o),this.m8.push(o),o}var a=new pD(n,i,r);return this.Ll.tt(a),this.f8.tt(a),a},i.hH=function(){return!0},i.uH=function(t,n,i,r,e){var u=this._8(t,n,i,r,e),s=u.track,o=u.trackElement,a=new Xx(s,o);return this.v8.tt(a),this.m8.push(a),a},i._8=function(t,n,i,r,e){var u=v.createElement("track");return u.src=bd(t),u.kind=n,u.label=null!=i?i:"",r&&(u.srclang=r),u.default=!!e,u.id=JE(),this.QT.appendChild(u),{track:this.QT.textTracks.getTrackById(u.id),trackElement:u}},i._W=function(t){this.Ll.it(t),this.f8.it(t)},i.fH=function(){for(var t=0,n=this.Ll.uC.slice();t<n.length;t++){n[t].gn()}this.Ll.er();for(var i=0,r=this.m8.slice();i<r.length;i++){var e=r[i];this.v8.it(e),e.gn()}So(this.m8)},i.xH=function(){var t=this.QT.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.g8),t.addEventListener("removetrack",this.p8),t.addEventListener("change",this.w8))},i.mH=function(){var t=this.QT.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.g8),t.removeEventListener("removetrack",this.p8),t.removeEventListener("change",this.w8))},i.y8=function(t){t.mode=Gp.NC;var n=new tD(t);this.v8.tt(n),this.f8.tt(n)},i.b8=function(t,n){var i=this,r=function(){RD(t)&&(t.removeEventListener("cuechange",r),i.v8.tt(new Xx(t,n)))};t.addEventListener("cuechange",r),t.mode=Gp.NC},i.A8=function(t){for(var n=this.QT.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.S8=function(){if(0!==this.v8.V){var t=this.rI;if(0!==t.V){var n=t.Cn(0);if(this.T8!==n){for(var i=0,r=this.v8.uC;i<r.length;i++){r[i].iW(n)}this.T8=n}}}},i.Dn=function(t){var n=this;return this.k8.Jo(Zt((function(i){var r,e;return Ht(this,(function(u){switch(u.label){case 0:if(jo(i),n.jG)throw new y("Already loaded a media source");if(t.Aw===Sy.mW)r=new KR(t,n,n.fJ,n.Pw),n.s8=!1,n.R9._9(n.E8());else{if(t.Aw!==Sy.gW)throw new y("Unsupported configuration");n.s8=bD,e=n.E8(),r=new wN(t,n,e,n.fJ,n.Pw,void 0,n.Q3),n.R9._9(e),kD&&(n.yn(fa.sb,n.x8),n.R9.yn(Ey.tC,n.I8))}return n.jG=r,[4,r.Tj()];case 1:return u.sent(),[2,r]}}))})))},i.E8=function(){return this.s8?new IN(this):new EN(this)},i.C8=function(){if(!this.y9){var t=this.KR;this.y9=!0,this.KR=t,this.QT.playbackRate=0,this.R9&&this.R9.P4()}},i.P8=function(){if(this.y9){var t=this.KR;this.y9=!1,this.KR=t,this.D8()}},i.D8=function(){this.QT.currentTime=this.QT.currentTime,this.R9&&this.R9.P4()},i.er=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.aZ=!1,t.x4=!1,t.l8=!1,qn.Wg(t.I9),t.I9=0,t.Ro=MA.mB(),t.j9.Yw(),t.S9=void 0,t.t8=NaN,t.b9=void 0,t.s8=!1,t.E9=!1,t.zG=void 0,t.k9=!1,t.N8=void 0,t.T8=0,t.M8=!1,t.O9=!1,t.L8&&(t.B8(),t.L8=!1),t.z9(new Uo),t.R9._9(new EN(t)),t.H9.er(),t.v8.er(),t.P8(),kD&&(vI(t.O8),t.O8=0,t.fn(fa.sb,t.x8)),[4,t.k8.Yw()];case 1:return n.sent(),[4,t.k8.Jo(Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.jG?[4,t.jG.Hw()]:[3,2];case 1:n.sent(),t.jG=void 0,Gn.Im&&Gn.Pm<3&&t.F8(),n.label=2;case 2:return[2]}}))})))];case 2:return n.sent(),[2]}}))}))()},i.F8=function(){this.V8();var t=this.QT,n=t.parentElement,i=t.tagName.toLowerCase();this.QT=wM(i),this.retainMediaElementState(t),pM(t),null==n||n.replaceChild(this.QT,t),this.B8(),this.R9._9(this.E8()),this.H9.fn(Ey.VL,this.W8),this.H9.Hw(),this.H9=new NN(this),this.H9.yn(Ey.VL,this.W8),this.rZ?this.ge():this.be(),this.wo(new FT),this.wo(new VT)},i.retainMediaElementState=function(t){this.YG.muted=t.muted,this.YG.volume=t.volume},i.Hw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.L8=!1,t.V8(),t.mH(),[4,t.er()];case 1:return n.sent(),[4,t.k8.gn()];case 2:return n.sent(),t.H9.Hw(),t.R9.Hw(),[4,t.fJ.Hw()];case 3:return n.sent(),t.fH(),t.Ll.gn(),t.v8.gn(),[4,t.U8.gn()];case 4:return n.sent(),t.G8.gn(),t.d8.gn(),t.$o(),[2]}}))}))()},i.B8=function(){this.YG.addEventListener("play",this.H8),this.YG.addEventListener("pause",this.Z8),this.YG.addEventListener("timeupdate",this.X8),this.YG.addEventListener("progress",this.z8),this.YG.addEventListener("loadstart",this.q8),this.YG.addEventListener("ended",this.Y8),this.YG.addEventListener("ratechange",this.K8),this.YG.addEventListener("volumechange",this.j8),this.YG.addEventListener("durationchange",this.Q8),this.YG.addEventListener("resize",this.J8),this.YG.addEventListener("loadedmetadata",this.J8),this.YG.addEventListener("error",this.t7),this.YG.addEventListener("emptied",this.e7),this.YG.addEventListener("seeked",this.i7),this.YG.addEventListener("seeking",this.s7),no()?(this.QT.addEventListener("encrypted",this.n7),this.QT.addEventListener("waitingforkey",this.r7)):void 0!==f.WebKitMediaKeys&&"function"==typeof f.WebKitMediaKeys.isTypeSupported?this.QT.addEventListener("webkitneedkey",this.o7):io()?this.QT.addEventListener("webkitneedkey",this.h7):void 0!==f.MSMediaKeys&&"function"==typeof f.MSMediaKeys.isTypeSupported&&this.QT.addEventListener("msneedkey",this.a7)},i.V8=function(){this.YG.removeEventListener("play",this.H8),this.YG.removeEventListener("pause",this.Z8),this.YG.removeEventListener("timeupdate",this.X8),this.YG.removeEventListener("progress",this.z8),this.YG.removeEventListener("loadstart",this.q8),this.YG.removeEventListener("ended",this.Y8),this.YG.removeEventListener("ratechange",this.K8),this.YG.removeEventListener("volumechange",this.j8),this.YG.removeEventListener("durationchange",this.Q8),this.YG.removeEventListener("resize",this.J8),this.YG.removeEventListener("loadedmetadata",this.J8),this.YG.removeEventListener("error",this.t7),this.YG.removeEventListener("encrypted",this.n7),this.YG.removeEventListener("waitingforkey",this.r7),this.YG.removeEventListener("webkitneedkey",this.o7),this.YG.removeEventListener("webkitneedkey",this.h7),this.YG.removeEventListener("msneedkey",this.a7),this.YG.removeEventListener("emptied",this.e7),this.YG.removeEventListener("seeked",this.i7),this.YG.removeEventListener("seeking",this.s7)},i.u7=function(){this.A9||(this.Ro=this.JR,this.A9=kN(this),this.V8(),this.A9.yn(_N,this.Ds))},i.l7=function(){if(this.A9){var t=this.A9;this.A9=void 0,this.R9.P4(),AN(this,t),t.Hw(),this.B8()}},i.c8=function(){var t=this.SR;this.wo(new pg(t,void 0)),this.N8=t},i.Gj=function(){this.k9||!this.RR||this.hI||(this.k9=!0,this.wo(new kT(this.SR)))},i.MH=function(t){this.zG=t,this.z9(this.zG),this.wo(new xN(this.zG))},i._7=function(){this.f7||(_M(this.QT,qn.Ys),this.f7=!0)},i.v7=function(t){t.appendChild(this.QT)},i.e3=function(){kD&&this.x8(),this.R9.P4()},i.CI=function(){this.fJ.l9().catch(Ti),this.v8.er()},xt(n,[{key:"N4",get:function(){return this.y9}},{key:"gR",get:function(){return this.jG?this.jG.gR:MA.mB()}},{key:"wR",get:function(){var t=this.QG;if(t&&!E(t.getTime())){var n=1e3*this.SR;return new Date(t.getTime()+n)}}},{key:"QG",get:function(){if(this.YG.getStartDate)return this.aZ&&this.b9||(this.b9=this.YG.getStartDate()),this.b9}},{key:"SR",get:function(){return this.A9?this.A9.SR:void 0!==this.S9?this.S9:this.QT.currentTime}},{key:"Lu",get:function(){return this.Yu}},{key:"ct",get:function(){return this.A9?this.A9.ct:this.jG?this.jG.ct:this.QT.duration}},{key:"RR",get:function(){return this.hI?this.T9():this.A9?this.A9.RR:this.QT.ended||this.k9}},{key:"lt",get:function(){return this.zG}},{key:"YG",get:function(){return this.QT}},{key:"qR",get:function(){return this.E9?this.x9:this.A9?this.A9.qR:this.QT.paused}},{key:"JR",get:function(){return this.Ro.JL(MA.xn(this.QT.played))}},{key:"Ti",get:function(){return this.QT.offsetHeight*qn.Ys.Yg}},{key:"ji",get:function(){return this.QT.offsetWidth*qn.Ys.Yg}},{key:"Ca",get:function(){return this.sa}},{key:"lH",get:function(){return this.Zo}},{key:"sI",get:function(){return this.R9.sI}},{key:"rI",get:function(){return this.jG?this.jG.rI:MA.mB()}},{key:"hI",get:function(){return this.A9?this.A9.hI:this.aZ||this.QT.seeking&&!this.x4}},{key:"E4",get:function(){return this.A9?this.A9.E4:this.x4}},{key:"O4",get:function(){return 0!==this.I9}},{key:"GR",get:function(){return this.A9?this.A9.GR:this.QT.muted},set:function(t){this.A9?this.A9.GR=t:(this.QT.muted=t,this.C9())}},{key:"KR",get:function(){return this.A9?this.A9.KR:void 0!==this.P9?this.P9:this.QT.playbackRate},set:function(t){this.A9?this.A9.KR=t:this.qR||this.y9?(this.P9=t,this.D9()):(this.P9=void 0,this.QT.playbackRate=t,this.D9())}},{key:"M9",get:function(){return this.rZ}},{key:"vI",get:function(){return this.A9?this.A9.vI:this.QT.volume},set:function(t){this.A9?this.A9.vI=t:(this.QT.volume=t,this.C9())}},{key:"nt",get:function(){return this.d8}},{key:"zl",get:function(){return this.gZ}},{key:"OR",get:function(){return!!this.QT.webkitCurrentPlaybackTargetIsWireless}},{key:"d7",get:function(){return this.f7}},{key:"XB",get:function(){return us({},UR)}},{key:"gH",get:function(){return this.fJ.gH},set:function(t){this.fJ.gH=t}},{key:"m7",get:function(){return this.Q3},set:function(t){this.Q3=t}},{key:"J6",get:function(){return this.fJ.J6}},{key:"yI",get:function(){return this.M8},set:function(t){this.M8=t,this.L8&&!this.M8&&(this.L8=!1,this.B8())}}]),n}(oa);var ED=.01;function ID(t,n){for(var i=0,r=t.uC;i<r.length;i++){var e=r[i];if(e.IO===n)return e}}function RD(t){return!!t.cues&&t.cues.length>0}U(),St(),Dt(),Ct();var CD={FQ:void 0,VQ:void 0,WQ:void 0,UQ:void 0,GQ:void 0,HQ:void 0,ZQ:void 0,XQ:void 0,zQ:void 0,qQ:void 0},ND=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).su=void 0,n}return Rt(n,t),xt(n,[{key:"ka",get:function(){return this.su||(this.su=MR(this)),this.su}},{key:"FQ",get:function(){}},{key:"VQ",get:function(){}},{key:"WQ",get:function(){}},{key:"UQ",get:function(){}},{key:"GQ",get:function(){}},{key:"HQ",get:function(){}},{key:"b7",get:function(){}},{key:"ZQ",get:function(){}},{key:"XQ",get:function(){}},{key:"zQ",get:function(){}},{key:"qQ",get:function(){}}]),n}(oa),xD=function(t){function n(n,i,r){return t.call(this,n,i,r,new ND)||this}return Rt(n,t),n.prototype.AI=function(){},xt(n,[{key:"cI",get:function(){return 0}},{key:"fI",get:function(){return 0}}]),n}(SD);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt();var DD=function(){function t(t){void 0===t&&(t=5);var n=f.document.createElement("div");n.className="theoplayer-texttracks",n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="100%",n.style.height="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.A7=n,this.ge()}var n=t.prototype;return n.be=function(){this.A7.style.display="none"},n.ge=function(){this.A7.style.display="block"},n.v7=function(t){t.appendChild(this.A7)},n.gn=function(){ai(this.A7)},xt(t,[{key:"we",get:function(){return this.A7}}]),t}();function PD(t,n){return us({},n,Fg(function(t){return{FQ:t.FQ,VQ:t.VQ,WQ:t.WQ,UQ:t.UQ,GQ:t.GQ,HQ:t.HQ,ZQ:t.ZQ,XQ:t.XQ,zQ:t.zQ,qQ:t.qQ}}(t)))}function MD(t){return t.WQ&&Xs(t.WQ,"%")?Number(t.WQ.replace("%",""))/100:t.WQ&&Xs(t.WQ,"em")?Number(t.WQ.replace("em","")):1}U(),St(),Dt(),U(),St(),Ct(),rn(),Wt(),U(),St(),Dt(),U(),St(),U(),St(),Dt();var BD=function(){function t(t,n,i,r){this.T7=t,this.E7=n,this.ji=i,this.Ti=r}var n=t.prototype;return n.x7=function(t){return this.T7<t.S7&&this.S7>t.T7&&this.E7<t.k7&&this.k7>t.E7},n.TO=function(t){return this.T7<=t.T7&&t.S7<=this.S7&&this.E7<=t.E7&&t.k7<=this.k7},n.xb=function(){return new t(this.T7,this.E7,this.ji,this.Ti)},n.R7=function(n){return new t(this.T7+n,this.E7+n,A.max(0,this.ji-2*n),A.max(0,this.Ti-2*n))},n.I7=function(n){var i=A.min(this.T7,n.T7),r=A.max(this.S7,n.S7),e=A.min(this.E7,n.E7);return new t(i,e,r-i,A.max(this.k7,n.k7)-e)},xt(t,[{key:"S7",get:function(){return this.T7+this.ji},set:function(t){this.T7=t-this.ji}},{key:"k7",get:function(){return this.E7+this.Ti},set:function(t){this.E7=t-this.Ti}}]),t}(),OD=function(){function t(t,n,i,r,e){var u=this;this.Z7=as(),this.htt=!0,this.B7=us({},CD),this.utt=[],this.X7=function(t){return u.dW(t.BO)},this.z7=function(t){return u.eW(t.BO)},this.q7=function(){return u.stt()},this.j7=function(t){return u.ett(t.BO)},this.Q7=function(t){return u.itt(t.BO)},this.J7=function(t){return u.att(t.BO)},this.F7=function(t){return u.re(t.width,t.height)},this.KO=t,this.W7=this.M7=e,this.QT=this._tt(i),this.Yu=r,n.appendChild(this.QT)}var n=t.prototype;return n.C7=function(t){var n=this.P7(t);if(!n)return!1;for(var i=0;i<n.length;i++){ai(n[i])}return this.D7(t),!0},n.Tj=function(){var t=this;this.O7(),this.KO.L.uC.forEach((function(n){return t.dW(n)})),this.Lu.yn(mI.pn,this.F7),this.re(this.Lu.Mu,this.Lu.Pu)},n.V7=function(t){this.B7=t,this.M7=PD(this.B7,this.W7),this.M7.FQ&&(this.YG.style.fontFamily=this.M7.FQ),this.re(this.Lu.Mu,this.Lu.Pu),this.U7(!0)},n.G7=function(){return this.M7},n.H7=function(t){return this.Z7.has(t.xC)},n.O7=function(){this.KO.yn(Rg.UI,this.X7),this.KO.yn(Rg.HI,this.z7),this.KO.yn(Rg.la,this.q7)},n.Y7=function(){this.KO.fn(Rg.UI,this.X7),this.KO.fn(Rg.HI,this.z7),this.KO.fn(Rg.la,this.q7)},n.K7=function(t){t.yn(Fm.sO,this.j7),t.yn(Fm.nO,this.Q7),t.yn(Fm.nC,this.J7)},n.ttt=function(t){t.fn(Fm.sO,this.j7),t.fn(Fm.nO,this.Q7),t.fn(Fm.nC,this.J7)},n.dW=function(t){this.K7(t),t.io&&this.ett(t)},n.eW=function(t){this.ttt(t),this.itt(t)},n.stt=function(){this.KO.xE===Gp.Jn?this.ntt():this.ott()},n.ntt=function(){if(this.htt){this.htt=!1;var t=this.Lu.Mu,n=this.Lu.Pu;this.re(t,n),this.U7(!1)}},n.ott=function(){this.htt||(this.htt=!0,this.U7(!0))},n.ett=function(t){this.htt||t.io&&!this.H7(t)&&this.U7(!1)},n.itt=function(t){this.H7(t)&&this.U7(!0)},n.att=function(t){(t.io||this.H7(t))&&this.U7(!0)},n.U7=function(t){var n=this.utt,i=this.htt?[]:this.KO.q.uC.slice();this.ctt(i,n,t),this.utt=i},n.P7=function(t){return this.Z7.get(t.xC)},n.ltt=function(t,n){this.Z7.set(t.xC,n)},n.D7=function(t){this.Z7.delete(t.xC)},n.dtt=function(t){var n=[],i=this.M7;if(void 0!==i.ZQ){var r=t.xb();r.Ti=i.ZQ,n.push(r)}if(void 0!==i.XQ){var e=t.xb();e.Ti=i.XQ,e.k7=t.k7,n.push(e)}return n},n.ftt=function(){return this.utt.slice()},n.gn=function(){var t=this;ai(this.YG),this.Z7.clear(),this.Y7(),this.KO.L.uC.forEach((function(n){return t.ttt(n)})),this.Lu.fn(mI.pn,this.F7)},xt(t,[{key:"Ht",get:function(){return this.KO}},{key:"YG",get:function(){return this.QT}},{key:"Lu",get:function(){return this.Yu}},{key:"N7",get:function(){return this.M7}},{key:"L7",get:function(){return this.B7}}]),t}();function LD(t,n,i,r,e){var u=t.xb(),s=u,o=1,a=!1,c=S(getComputedStyle(n).lineHeight)/4;if(!E(c)&&c>0){for(var h=0;h<i.length&&!a;h++){for(;!jD(t,r,i[h],.01)&&(!r.TO(t)||FD(t,e));)WD(t,i[h],c);if(r.TO(t)){s=t.xb(),a=!0;break}var f=ZD(t,r);o>f&&(s=t.xb(),o=f),t=u.xb()}r.TO(t)||(s=u.xb())}n.style.left=(s.T7-r.T7)/r.ji*100+"%",n.style.top=(s.E7-r.E7)/r.Ti*100+"%"}function FD(t,n){return n.some((function(n){return t.x7(n)}))}function VD(t){return new BD(t.left,t.top,t.width,t.height)}var UD=function(t){return t[t.POS_X=0]="POS_X",t[t.NEG_X=1]="NEG_X",t[t.POS_Y=2]="POS_Y",t[t.NEG_Y=3]="NEG_Y",t}({});function WD(t,n,i){switch(n){case 0:t.T7+=i;break;case 1:t.T7-=i;break;case 2:t.E7+=i;break;case 3:t.E7-=i}}function jD(t,n,i,r){switch(i){case 0:return t.S7>n.S7+r;case 1:return t.T7<n.T7-r;case 2:return t.k7>n.k7+r;case 3:return t.E7<n.E7-r}}function ZD(t,n){return A.max(0,A.min(t.S7,n.S7)-A.max(t.T7,n.T7))*A.max(0,A.min(t.k7,n.k7)-A.max(t.E7,n.E7))/(t.ji*t.Ti)}U(),St();var XD=function(t){return t.Qc='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.Yc='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.Kc='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.Zc='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif',t}({});function GD(t,n){return t?{mtt:t.mtt,gtt:t.gtt,ptt:t.ptt,Bl:n}:null}function HD(t){var n=t?t.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i):null;return n?{mtt:T(n[1],16),gtt:T(n[2],16),ptt:T(n[3],16)}:null}function zD(t){return("0"+t.toString(16)).slice(-2)}function YD(t){var n=t?t.match(/^rgba\(([0-9]+),\s*([0-9]+),\s*([0-9]+),\s*([0-9.]+)\)$/i):null;return n?{mtt:T(n[1],10),gtt:T(n[2],10),ptt:T(n[3],10),Bl:S(n[4])}:null}var KD=function(t){return t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent",t}({});function qD(t){return JD[t||"none"]}var JD={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"},QD="monospace, sans-serif",$D="Arial, Helvetica, sans-serif",tP='"Times New Roman", Times, serif',nP=cs({monospace:"monospace",sansSerif:$D,serif:tP,monospaceSansSerif:QD,monospaceSerif:"monospace, serif",proportionalSansSerif:$D,proportionalSerif:tP,default:QD}),iP=16,rP="1.3em",eP=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,CD)||this}Rt(n,t);var i=n.prototype;return i._tt=function(t){var n=v.createElement("div");n.className="theoplayer-ttml-texttrack-"+t;var i=n.style;return i.position="absolute",pi(i,"flex"),i.flexDirection=i.webkitFlexDirection="column",i.overflow="hidden",i.pointerEvents="none",i.top="0",i.left="0",i.width="100%",i.height="100%",i.fontSize=iP+"px",i.lineHeight=rP,n},i.re=function(t,n){var i=A.min(t/640,n/360),r=iP*i*MD(this.N7);this.YG.style.fontSize=r+"px"},i.ctt=function(t,n,i){for(var r,e=0;e<n.length;e++){var u=n[e];!i&&u.io||this.C7(u)}var s=[],o=VD(this.YG.getBoundingClientRect());(r=s).push.apply(r,Ut(this.dtt(o)));for(var a=0;a<t.length;a++)for(var c=t[a],h=this.wtt(c,s,o),f=0;f<h.length;f++){var v=h[f];s.push(v.R7(.1))}},i.wtt=function(t,n,i){var r=this.P7(t);r||(r=this.ytt(t),this.ltt(t,r));for(var e=0;e<r.length;e++){var u=r[e];this.YG.appendChild(u)}for(var s=[],o=[UD.POS_Y,UD.NEG_Y,UD.POS_X,UD.NEG_X],a=0;a<r.length;a++){var c=r[a];LD(wP(c),c,o,i,n),s.push(wP(c))}return s},i.ytt=function(t){var n=[],i=t.GV,r=t.LV,e=t.XV,u=t.U,s=t.VV,o=s?A.min(640/s.width,360/s.height):1,a=this.N7;if(0===k.keys(r).length){var c=v.createElement("div");gP(c),uP(u,i,e,c,c,o,a),sP(c,"body",a),c.firstChild&&n.push(c)}else for(var h=0,f=k.keys(r);h<f.length;h++){var l=f[h],d=v.createElement("div");d.id=l,gP(d),cP(d,"region",r[l],i,o),uP(u,i,e,d,d,o,a),sP(d,"body",a),d.firstChild&&n.push(d)}return n},i.V7=function(n){return FR(this.YG,n),t.prototype.V7.call(this,n)},n}(OD);function uP(t,n,i,r,e,u,s){if(rg(t)&&function(t){var n=t.Rx.toUpperCase();return"SPAN"===n||"P"===n||"BR"===n||"DIV"===n||"BODY"===n}(t)){var o=oP(t);if(!o||(null==e?void 0:e.id)===o){var a;if("BODY"===t.Rx.toUpperCase())a=e;else{if(a=function(t){var n;switch(t.Rx.toUpperCase()){case"BR":n=v.createElement("br");break;case"SPAN":mP(n=v.createElement("span")),aP(n,t);break;case"P":(function(t){mP(t);var n=t.style;n.textAlign="inherit",n.padding="0",n.margin="0"})(n=v.createElement("p")),aP(n,t);break;case"DIV":aP(n=v.createElement("div"),t)}return n}(t),!a)return;r.appendChild(a)}!function(t,n,i,r,e){var u=n.Xx("style");vP(t,n.Rx,u,i,r,e),function(t,n,i,r){for(var e=0,u=n.Hx;e<u.length;e++){var s=u[e];lP(t,n.Rx,s.Rx,s.Dx,i,r)}}(t,n,r,e)}(a,t,n,e,u),function(t,n,i){var r=null==n?void 0:n.Xx("smpte:backgroundImage");if(r){r=r.replace("#","");var e=i&&hP(i,(function(t){return t.Hx.some((function(t){return"id"===t.Rx&&t.Dx===r}))}));e&&fP(t,e,n,!0)}!function(t,n){var i=n.m[0];if(!i||"metadata"!==i.Rx.toLowerCase())return;var r=i.m[0];fP(t,r,n)}(t,n)}(a,t,i),sP(a,t.Rx,s);for(var c=0,h=t.Lx;c<h.length;c++){uP(h[c],n,i,a,e,u,s)}}}else if(eg(t)){var f=v.createTextNode(t.qk);if("SPAN"!==r.nodeName.toUpperCase()){var l=v.createElement("span");mP(l),sP(l,"span",s),l.appendChild(f),r.appendChild(l)}else r.appendChild(f)}}function sP(t,n,i){var r=t.style;switch(i.FQ&&(r.fontFamily=i.FQ),i.VQ&&(r.color=i.VQ),n.toLowerCase()){case"span":i.UQ&&(r.background=i.UQ);break;case"p":case"div":i.GQ&&(r.backgroundColor=i.GQ);break;case"body":i.HQ&&(r.textShadow=qD(i.HQ))}}function oP(t){var n=t.Xx("region");if("p"===t.Rx.toLowerCase())return n;for(var i,r=[],e=0,u=t.m;e<u.length;e++){var s=u[e];r.push(oP(s))}return Do(r),0===r.length?n:1===r.length?null!=(i=r[0])?i:n:void 0}function aP(t,n){var i=n.zx(Ep,"id");i&&(t.id=i)}function cP(t,n,i,r,e){vP(t,n,i.style,r,t,e);for(var u=0,s=k.keys(i);u<s.length;u++){var o=s[u];lP(t,n,o,i[o],t,e)}}function hP(t,n){if(n(t))return t;for(var i=0,r=t.m;i<r.length;i++){var e=hP(r[i],n);if(e)return e}return null}function fP(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e=v.createElement("img");e.src=function(t){var n=t&&t.Lx.length>0?t.Lx[0]:null;return n&&eg(n)?"data:image/png;base64,"+n.qk:""}(n),e.id=t.id,e.style.height="100%",e.style.maxWidth="100%",function(t,n){var i=t.style;pi(i,"flex"),i.flexDirection=i.webkitFlexDirection="column";var r=n.Xx("smpte:backgroundImageVertical"),e="center";if(r)switch(r.toLowerCase()){case"left":e="flex-start";break;case"center":e="center";break;case"right":e="flex-end";break;case"inherit":e="inherit"}i.justifyContent=i.webkitJustifyContent=e;var u=n.Xx("smpte:backgroundImageHorizontal"),s="center";if(u)switch(u.toLowerCase()){case"left":s="flex-start";break;case"center":s="center";break;case"right":s="flex-end";break;case"inherit":s="inherit"}i.alignItems=i.webkitAlignItems=s}(t,i),t.appendChild(e)}function vP(t,n,i,r,e,u){if(i)for(var s=0,o=i.split(" ");s<o.length;s++){var a=o[s];if(r[a])for(var c=0,h=k.keys(r[a]);c<h.length;c++){var f=h[c];"style"===f.toLowerCase()?vP(t,n,r[a][f],r,e,u):lP(t,n,f,r[a][f],e,u)}}}function lP(t,n,i,r,e,u){var s=t.style;switch(i){case"backgroundColor":s.backgroundColor=r;break;case"color":s.color=r;break;case"direction":s.direction=r;break;case"display":"none"===r&&(s.display="none");break;case"fontFamily":var o;s.fontFamily=null!=(o=nP.get(r))?o:r;break;case"fontSize":var a=r;if(Xs(a,"px")){var c=Number(a.slice(0,-2));a=c*u/iP+"em"}else Xs(a,"c")&&(a=a.replace("c","em"));s.fontSize=a,s.lineHeight&&"inherit"!==s.lineHeight||(s.lineHeight=rP);break;case"fontStyle":s.fontStyle=r;break;case"fontWeight":s.fontWeight=r;break;case"lineHeight":var h=r;if(Xs(h,"px")){var f=Number(h.slice(0,-2));h=f*u+"px"}s.lineHeight=h;break;case"opacity":s.opacity=r;break;case"overflow":s.overflow=r;break;case"padding":s.padding=r;break;case"textAlign":s.textAlign=r;break;case"textDecoration":switch(r){case"lineThrough":s.textDecoration="line-through";break;case"underline":case"overline":s.textDecoration=r;break;case"noUnderline":case"noLineThrough":case"noOverline":s.textDecoration="none"}break;case"unicodeBidi":switch(r){case"bidiOverride":s.unicodeBidi="bidi-override";break;case"normal":case"embed":case"isolate":s.unicodeBidi=r}break;case"visibility":s.visibility=r;break;case"zIndex":s.zIndex=r;break;case"displayAlign":var v;switch(r.toLowerCase()){case"before":v="flex-start";break;case"center":v="center";break;case"after":v="flex-end";break;case"justify":v="space-between";break;default:return}s.justifyContent=s.webkitJustifyContent=v;break;case"extent":var l,d,g=dP(n.toLowerCase())?e:t,m=r.split(" ",2);2===m.length?(l=m[0],d=m[1]):l=d="100%",g&&(g.style.height=d,g.style.width=l);break;case"origin":var w=dP(n.toLowerCase())?e:t,p=nn(r.split(" ",2),2),y=p[0],_=p[1];w&&(y||_)&&(y&&(w.style.left=y),_&&(w.style.top=_));break;case"showBackground":case"textOutline":break;case"wrapOption":switch(r){case"wrap":s.whiteSpace="normal";break;case"noWrap":s.whiteSpace="nowrap"}break;case"writingMode":var b,k,A,T;switch(r){case"lrtb":case"lr":b="horizontal-tb";break;case"rltb":b="horizontal-tb",k="rtl",T="bidi-override";break;case"tbrl":case"tb":b="vertical-rl",A="upright";break;case"tblr":b="vertical-lr",A="upright";break;case"rl":b="horizontal-tb",k="rtl";break;default:return}s.writingMode=b,s.setProperty("-webkit-writing-mode",b),k&&(s.direction=k),A&&(s.textOrientation=A,s.setProperty("-webkit-text-orientation",A)),T&&(s.unicodeBidi=T);break;case"linePadding":if(Xs(r,"c")){var S=r.replace("c","em");s.paddingLeft=s.paddingRight=S}break;case"multiRowAlign":"auto"===r.toLowerCase()?s.textAlign="":s.textAlign=r}}function dP(t){return"div"===t||"p"===t||"span"===t}function gP(t){var n=t.style;pi(n,"flex"),n.flexDirection=n.webkitFlexDirection="column",n.top="auto",n.left="5%",n.width="90%",n.height="100%",n.maxHeight="100%",n.maxWidth="100%",n.overflow="visible",n.position="absolute",n.fontFamily=$D,n.color=KD.WHITE,n.background=KD.TRANSPARENT,n.textShadow=qD("uniform"),n.textAlign="start",n.writingMode="horizontal-tb",n.setProperty("-webkit-writing-mode","horizontal-tb"),n.padding="0",n.margin="0",n.fontSize="inherit",n.lineHeight="inherit"}function mP(t){var n=t.style;n.fontFamily="inherit",n.color="inherit",n.fontSize="inherit",n.lineHeight="inherit",n.textShadow="inherit"}function wP(t){var n=VD(t.getBoundingClientRect());if("visible"===getComputedStyle(t).overflow&&t.scrollHeight>t.clientHeight)for(var i=t.children,r=0;r<i.length;r++){var e=i[r];n=n.I7(VD(e.getBoundingClientRect()))}return n}U(),St(),Ct(),rn(),Wt(),U(),St();var pP=void 0;function yP(t){return pP||(pP=f.document.createElement("textarea")),pP.innerHTML=t,pP.value}function _P(t,n){for(var i="Data",r="",e=[],u=t.charAt(n.ec),s="",o={Aw:"starttag",Vx:"",btt:[]};n.ec<t.length+1;){switch(u=n.ec<t.length?t.charAt(n.ec):"EOF",i){case"Data":switch(u){case"&":var a=t.substring(n.ec).match(/&#?[0-9a-zA-Z]+;/);a?(r+=yP(a[0]),n.kb(a[0].length-1)):r+="&";break;case"<":if(r)return{Aw:"string",U:r};i="Tag";break;case"EOF":return{Aw:"string",U:r};default:r+=u}break;case"Tag":switch(u){case"\t":case"\n":case"\f":case" ":i="StartTagAnnotation";break;case".":i="StartTagClass";break;case"/":i="EndTag";break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,i="TimestampTag";break;case">":return n.kb(1),o;case"EOF":return o;default:r=u,i="StartTag"}break;case"StartTag":switch(u){case"\t":case"\f":case" ":i="StartTagAnnotation";break;case"\n":s=u,i="StartTagAnnotation";break;case".":i="StartTagClass";break;case">":return n.kb(1),{Aw:"starttag",Vx:r,btt:[]};case"EOF":return{Aw:"starttag",Vx:r,btt:[]};default:r+=u}break;case"StartTagClass":switch(u){case"\t":case"\f":case" ":e.push(s),s="",i="StartTagAnnotation";break;case"\n":e.push(s),s=u,i="StartTagAnnotation";break;case".":e.push(s),s="";break;case">":return n.kb(1),e.push(s),{Aw:"starttag",Vx:r,btt:e};case"EOF":return e.push(s),{Aw:"starttag",Vx:r,btt:e};default:s+=u}break;case"StartTagAnnotation":switch(u){case"&":i="CharRefInAnnotation";break;case">":n.kb(1);var c=s.trim();return{Aw:"starttag",Vx:r,btt:e,Att:c=c.replace(/\s/," ")};default:s+=u}break;case"CharRefInAnnotation":for(var h="",f=n.ec;">"===t.charAt(f);f++)h+=t.charAt(f);s+=h||"&",i="StartTagAnnotation";break;case"EndTag":switch(u){case">":return n.kb(1),{Aw:"endtag",Vx:r};case"EOF":return{Aw:"endtag",Vx:r};default:r+=u}break;case"TimestampTag":switch(u){case">":return n.kb(1),{Aw:"timestamp",Stt:r};case"EOF":return{Aw:"timestamp",Stt:r};default:r+=u}}n.kb(1)}return o}var bP=function(t){return t.Ttt="string",t.ktt="starttag",t.Ett="endtag",t.xtt="timestamp",t}({});function kP(t){var n;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=v.documentElement,r=v.body,e=i.clientLeft||r.clientLeft||0,u=f.pageXOffset||r.scrollLeft,s=n.left+u-e,o=i.clientTop||r.clientTop||0,a=f.pageYOffset||r.scrollTop,c=n.top+a-o;return{left:A.round(s),top:A.round(c)}}function AP(t,n,i,r){if(void 0===r&&(r=0),t&&n){t.style.left="0px";var e=t.getClientRects(),u=n.getClientRects();if(0!==e.length&&0!==u.length){var s=e[0],o=u[0],a=s.width/2+s.left;TP(t,o.width/2+o.left-a,i,r)}}}function TP(t,n,i,r){void 0===r&&(r=0),SP(t,n,"left","right",i,r)}function SP(t,n,i,r,e,u){void 0===u&&(u=0);var s=t.getClientRects();if(e&&s.length>0){var o=s[0];n=cr(n,e[i]+u-o[i],e[r]-u-o[r])}t.style[i]=n+"px"}function EP(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}U(),St();var IP={VQ:KD.WHITE,FQ:"sans-serif",WQ:"100%",UQ:"rgba(0,0,0,0.8)",GQ:KD.TRANSPARENT,HQ:"none",ZQ:void 0,XQ:void 0,zQ:void 0,qQ:void 0},RP="theoplayer-webvtt-region-",CP="theoplayer-webvtt-styling-",NP="theoplayer-webvtt-default-style",xP=5.23,DP=1.14,PP=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,IP)||this).Ptt=os(),u.Ctt=VP(3),u}Rt(n,t);var i=n.prototype;return i._tt=function(t){var n=v.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,_i(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.N7.FQ;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(v.getElementById(NP))return;for(var t=[],n=0;n<jP.length;n++){var i=nn(jP[n],2),r=i[0],e=i[1];t.push("."+CP+r+" { color: "+e+" !important; }"),t.push("."+CP+"Rtt"+r+" { background-color: "+e+" !important; }"),t.push("video::cue(."+r+") { color: "+e+"; }"),t.push("Itt"+r+") { background-color: "+e+"; }")}var u=v.createElement("style");u.id=NP,u.innerHTML=t.join("\n"),v.body.appendChild(u)}(),n},i.Tj=function(){this.YG.appendChild(this.Ctt),t.prototype.Tj.call(this)},i.re=function(t,n){var i=this,r=A.min(t/100,n/100),e=MD(this.N7);this.Ptt.forEach((function(t){var n=t.ZO,u=t.Dtt;i.Ntt(u,r,e,n)})),this.Ntt(this.Ctt,r,e)},i.V7=function(n){FR(this.YG,n),t.prototype.V7.call(this,n)},i.ctt=function(t,n,i){for(var r,e=this,u=this.YG,s=this.Lu.Pu/100,o=[],a=0;a<t.length;a++){var c=t[a];void 0!==c.ZO&&(Ao(o,c.ZO)||o.push(c.ZO))}this.Ptt.forEach((function(t,n){var r=t.ZO,u=t.Dtt;!i&&Ao(o,r)||(ai(u),e.Ptt.delete(n))}));for(var h=0;h<n.length;h++){var f=n[h];!i&&f.io||this.C7(f)}var v=[],l=VD(this.Ctt.getBoundingClientRect());(r=v).push.apply(r,Ut(this.dtt(l)));for(var d=0;d<o.length;d++){var g=o[d],m=void 0;this.Ptt.has(g.o)?m=this.Ptt.get(g.o).Dtt:(m=UP(g,s),u.appendChild(m),this.Ptt.set(g.o,{ZO:g,Dtt:m})),v.push(VD(m.getBoundingClientRect()))}t.sort(ZP);for(var w=0;w<t.length;w++){var p=t[w],y=this.wtt(p,v,l);void 0!==y&&v.push(y.R7(.1))}},i.wtt=function(t,n,i){var r,e;t.ZO?(e=this.Ptt.get(t.ZO.o).Dtt,"up"===t.ZO.aF&&e.children.length>=1&&(e.style.transitionProperty="top",e.style.transitionDuration="0.433s")):e=this.Ctt;var u=null==(r=this.P7(t))?void 0:r[0];if(u||(u=this.Mtt(t),this.ltt(t,[u])),e.appendChild(u),t.ZO||(MP(u,t),t.XO?function(t,n,i,r){var e=WP(t),u=e?i.Ti:i.ji,s=S(getComputedStyle(n).lineHeight);if(0===s||E(s))return;var o=VD(n.getBoundingClientRect()),a=A.round($m(t));"rl"===t.Pt&&(a=-(a+1));var c=s*a;"rl"===t.Pt&&(c=c-o.ji+s);a<0&&(c+=u,s=-s);e?o.E7+=c:o.T7+=c;var h=o.xb(),f=!1;for(;!i.TO(o)||FD(o,r);)if(e)if(s<0&&o.E7<i.E7||s>0&&o.k7>i.k7){if(o.E7=h.E7,f)break;s=-s,f=!0}else o.E7+=s;else if(s<0&&o.T7<i.T7||s>0&&o.S7>i.S7){if(o.T7=h.T7,f)break;s=-s,f=!0}else o.T7+=s;e?n.style.top=(o.E7-i.E7)/i.Ti*100+"%":n.style.left=(o.T7-i.T7)/i.ji*100+"%"}(t,u,i,n):function(t,n,i,r){var e,u=VD(n.getBoundingClientRect());if(0===u.ji||0===u.Ti)return;WP(t)?"center"===t.GO?u.E7-=u.Ti/2:"end"===t.GO&&(u.E7-=u.Ti):"center"===t.GO?u.T7-=u.ji/2:"end"===t.GO&&(u.T7-=u.ji);e=""===t.Pt?[UD.POS_Y,UD.NEG_Y,UD.POS_X,UD.NEG_X]:"lr"===t.Pt?[UD.POS_X,UD.NEG_X,UD.POS_Y,UD.NEG_Y]:[UD.NEG_X,UD.POS_X,UD.POS_Y,UD.NEG_Y];LD(u,n,e,i,r)}(t,u,i,n)),!t.ZO)return VD(u.getBoundingClientRect())},i.Mtt=function(t){for(var n=new Dc,i=t.U,r=this.Ltt(t),e={Btt:void 0,we:r},u=e,s="",o="",a=[e],c=[],h=[];n.ec<i.length;){var f=_P(i,n);if(f.Aw===bP.Ttt){var l=v.createElement("span");EP(l,f.U),BP(l,a),""!==s&&(l.lang=s),this.Ott(l,o),u.we.appendChild(l)}else if(f.Aw===bP.ktt){var d=f.Vx.toLowerCase();switch(d){case"i":case"b":case"u":case"ruby":var g=v.createElement(d);u.we.appendChild(g),u={Btt:f,we:g},a.push(u);break;case"rt":var m;if("ruby"===(null==(m=u.Btt)?void 0:m.Vx.toLowerCase())){var w=v.createElement("rt");u.we.appendChild(w),u={Btt:f,we:w},a.push(u)}break;case"c":case"v":u={Btt:f,we:u.we},a.push(u);break;case"font":var p,y=null==(p=f.Att)?void 0:p.match(/(?:^| )color=["']([^"']+)/i);y&&(o=y[1],h.push(o),u={Btt:f,we:u.we},a.push(u));break;case"lang":var _;s=null!=(_=f.Att)?_:"",c.push(s)}}else if(f.Aw===bP.Ett){var b,k=f.Vx.toLowerCase(),A=null==(b=u.Btt)?void 0:b.Vx.toLowerCase();A===k?(a.pop(),u=a[a.length-1],"font"===k&&(h.pop(),o=h.length>0?h[h.length-1]:"")):"rt"===A&&"ruby"===k?(a.pop(),a.pop(),u=a[a.length-1]):"lang"===k&&(c.pop(),s=c.length>0?c[c.length-1]:"")}else if(f.Aw===bP.xtt){var T=f.Stt,S=new Dc;try{Gw(T,S)}catch(t){Qr("ERROR collecting timestamp",t)}}}return r},i.Ott=function(t,n){var i=this.N7,r=this.L7;i.UQ&&(t.style.background=i.UQ);var e=r.VQ||n||i.VQ;e&&(t.style.color=e)},i.Ntt=function(t,n,i,r){if(r){var e=OP(r,n);t.style.height=e*i+"px",t.style.left=LP(r)+"%",t.style.top=FP(r,n)+"px"}t.style.fontSize=xP*n*i+"px"},i.Ltt=function(t){var n=v.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.WO,function(t,n){"rl"===n.Pt?t.style.writingMode="vertical-rl":"lr"===n.Pt?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=iw(n);WP(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),MP(n,t);var i=this.N7.GQ;i&&(n.style.background=i);var r=this.N7.VQ;return r&&(n.style.color=r),n.style.textShadow=qD(this.N7.HQ),n},n}(OD);function MP(t,n){var i,r,e=nw(n),u=tw(n),s=iw(n);if(WP(n)){switch(e){case"line-left":i=u;break;case"center":i=u-s/2;break;case"line-right":i=u-s}r=n.XO?0:$m(n)}else{switch(e){case"line-left":r=u;break;case"center":r=u-s/2;break;case"line-right":r=u-s}i=n.XO?0:$m(n)}t.style.left=i+"%",t.style.top=r+"%"}function BP(t,n){for(var i=0;i<n.length;i++){var r=n[i];if(r.Btt){for(var e=0,u=r.Btt.btt;e<u.length;e++){var s=u[e];di(t,CP+s)}"v"===r.Btt.Vx.toLowerCase()&&r.Btt.Att&&di(t,"theoplayer-webvtt-voice-"+r.Btt.Att)}}}function OP(t,n){return t.rF*(xP*n)*DP}function LP(t){return t.uF-t.oF*t.ji/100}function FP(t,n){var i=t.cF,r=t.hF*OP(t,n)/100;return A.max(0,i-r)}function VP(t){var n=v.createElement("div");return n.className=RP+"default",_i(n),n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=xP*t+"px",n.style.lineHeight=DP+"em",n}function UP(t,n){var i=VP(n);i.className=RP+t.o;var r=t.ji,e=OP(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=LP(t)+"%",i.style.right="",i.style.top=FP(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function WP(t){return""===t.Pt}var jP=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];function ZP(t,n){var i=$m(t),r=$m(n),e=XP(i,t.XO),u=XP(r,n.XO);return e&&u?i-r||PN(n,t)||n.xC-t.xC:PN(t,n)||t.xC-n.xC}function XP(t,n){return n?t<0?t>-8:t>8:t>50}U(),St(),Dt(),Ct(),U(),St(),Dt(),U(),St();var GP=function(t){return t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics",t}({}),HP={VQ:KD.WHITE,FQ:XD.Kc,WQ:"100%",UQ:KD.BLACK,GQ:"transparent",HQ:"none",Ftt:"regular",ZQ:void 0,XQ:void 0,zQ:void 0,qQ:void 0},zP=[{Vtt:KD.WHITE,Ftt:"regular",Wtt:0},{Vtt:KD.WHITE,Ftt:"underline",Wtt:0},{Vtt:KD.GREEN,Ftt:"regular",Wtt:0},{Vtt:KD.GREEN,Ftt:"underline",Wtt:0},{Vtt:KD.BLUE,Ftt:"regular",Wtt:0},{Vtt:KD.BLUE,Ftt:"underline",Wtt:0},{Vtt:KD.CYAN,Ftt:"regular",Wtt:0},{Vtt:KD.CYAN,Ftt:"underline",Wtt:0},{Vtt:KD.RED,Ftt:"regular",Wtt:0},{Vtt:KD.RED,Ftt:"underline",Wtt:0},{Vtt:KD.YELLOW,Ftt:"regular",Wtt:0},{Vtt:KD.YELLOW,Ftt:"underline",Wtt:0},{Vtt:KD.MAGENTA,Ftt:"regular",Wtt:0},{Vtt:KD.MAGENTA,Ftt:"underline",Wtt:0},{Vtt:KD.WHITE,Ftt:"italics",Wtt:0},{Vtt:KD.WHITE,Ftt:"underline-italics",Wtt:0},{Vtt:KD.WHITE,Ftt:"regular",Wtt:0},{Vtt:KD.WHITE,Ftt:"underline",Wtt:0},{Vtt:KD.WHITE,Ftt:"regular",Wtt:4},{Vtt:KD.WHITE,Ftt:"underline",Wtt:4},{Vtt:KD.WHITE,Ftt:"regular",Wtt:8},{Vtt:KD.WHITE,Ftt:"underline",Wtt:8},{Vtt:KD.WHITE,Ftt:"regular",Wtt:12},{Vtt:KD.WHITE,Ftt:"underline",Wtt:12},{Vtt:KD.WHITE,Ftt:"regular",Wtt:16},{Vtt:KD.WHITE,Ftt:"underline",Wtt:16},{Vtt:KD.WHITE,Ftt:"regular",Wtt:20},{Vtt:KD.WHITE,Ftt:"underline",Wtt:20},{Vtt:KD.WHITE,Ftt:"regular",Wtt:24},{Vtt:KD.WHITE,Ftt:"underline",Wtt:24},{Vtt:KD.WHITE,Ftt:"regular",Wtt:28},{Vtt:KD.WHITE,Ftt:"underline",Wtt:28}],YP=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function KP(t,n){return pw(t.Utt,n.Utt)||co(t.eL,n.eL)}U(),St(),rn();var qP=32,JP=/CC([1-4])=(.*)/;function QP(t){if(!t)return[];var n=[],i=t.trim().split(";");if(i.every((function(t){return t.match(JP)})))for(var r=0;r<i.length;r++){var e=nn(i[r].match(JP),3),u=e[1],s=e[2];n.push({Gtt:Number(u),Htt:s})}else for(var o=0;o<i.length;o++)n.push({Gtt:o+1,Htt:i[o]});return n}var $P=function(){function t(t,n,i){this.ztt=t,this.net=n,this.M7=i}var n=t.prototype;return n.yr=function(){return this.Jtt=this.$tt(),this.tet(),this.eet(),this.Jtt},n.$tt=function(){var t=v.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.Ktt/qP*this.net.iet*100+"%",t.style.height=1.2*this.jtt+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.net.ret?"calc(1em - 1ch)":"";var n=this.M7.FQ;n&&(t.style.fontFamily=n);var i=this.M7.GQ;return i&&(t.style.backgroundColor=i),t},n.tet=function(){if(this.Jtt){var t=this.Ztt.Qtt/15*100,n=this.Ztt.Wtt/qP*100,i=(qP-this.qtt.Wtt-1)/qP*100,r=(15-this.qtt.Qtt-1)/15*100;this.net.oet||(n=i=1,this.Jtt.style.width="98%"),r<t?this.Jtt.style.bottom=r*this.net.iet+"%":this.Jtt.style.top=t*this.net.iet+"%",i<n?this.Jtt.style.right=i+"%":this.Jtt.style.left=n+"%"}},n.eet=function(){for(var t=this.ztt.het.sort(tM),n=0;n<t.length;n++)this.aet(t[n-1],t[n]),this.uet(t[n]);this.aet(t[t.length-1],void 0)},n.uet=function(n){var i,r=PD(this.M7,n.cet),e=t.let(r);EP(e,n.det),null==(i=this.Jtt)||i.appendChild(e)},n.aet=function(t,n){var i=t?t.Ytt.Qtt:this.ztt.Xtt.Qtt,r=n?n.Xtt.Qtt:this.ztt.Ytt.Qtt,e=t?t.Ytt.Wtt:this.ztt.Xtt.Wtt,u=n?n.Xtt.Wtt:this.ztt.Ytt.Wtt;i<r&&(!n||t&&t.Xtt.Qtt!==n.Xtt.Qtt?this.fet():this._et(this.ztt.Ytt.Wtt-e),e=this.ztt.Xtt.Wtt),e<u&&(n?this._et(u-e):this.fet())},n.fet=function(){var t,n=v.createElement("br");null==(t=this.Jtt)||t.appendChild(n)},n._et=function(t){var n;if(!(t<=0)){var i=v.createElement("span");i.style.display="inline-block",EP(i,Hs(" ",t)),null==(n=this.Jtt)||n.appendChild(i)}},t.let=function(t){var n=v.createElement("span");n.style.display="inline-block",t.Ftt!==GP.FONT_ITALICS&&t.Ftt!==GP.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.Ftt!==GP.FONT_UNDERLINE&&t.Ftt!==GP.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.VQ;i&&(n.style.color=i);var r=t.UQ;return r&&(n.style.backgroundColor=r),n.style.textShadow=qD(t.HQ),n.style.height="1.2em",n},xt(t,[{key:"Ztt",get:function(){return this.ztt.Xtt}},{key:"qtt",get:function(){return this.ztt.Ytt}},{key:"Ktt",get:function(){return this.ztt.Ytt.Wtt-this.ztt.Xtt.Wtt+1}},{key:"jtt",get:function(){return this.ztt.Ytt.Qtt-this.ztt.Xtt.Qtt+1}}]),t}();function tM(t,n){return function(t,n){if(t.Qtt!==n.Qtt)return t.Qtt-n.Qtt;return t.Wtt-n.Wtt}(t.Xtt,n.Xtt)}var nM=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,HP)||this}Rt(n,t);var i=n.prototype;return i._tt=function(t){var n=v.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",this.N7.FQ&&(n.style.fontFamily=this.N7.FQ),n},i.re=function(t,n){this.gl()},i.gl=function(){var t=MD(this.N7);this.vet=function(t){return{iet:t/100,ret:t<=100,oet:t<=150}}(100*t);var n=this.met/qP;this.pet=n*t,this.YG.style.fontSize=this.pet+"px"},i.ctt=function(t,n,i){for(var r=0;r<n.length;r++){var e=n[r];!i&&e.io||this.C7(e)}for(var u=0;u<t.length;u++){var s=t[u];this.wtt(s)}},i.wtt=function(t){this.vet&&this.vet.oet?this.wet(80):this.wet(100),this.gl();var n=this.P7(t);n||(n=this.ytt(t),this.ltt(t,n));for(var i=0;i<n.length;i++){var r=n[i];this.YG.appendChild(r)}},i.ytt=function(t){var n=this;return t.U.map((function(t){return new $P(t,n.vet,n.N7).yr()}))},i.wet=function(t){var n=(100-t)/2;this.YG.style.left=n+"%",this.YG.style.width=t+"%"},xt(n,[{key:"met",get:function(){var t=this.YG.offsetWidth;return this.vet&&this.vet.oet||(t*=.8),t}}]),n}(OD),iM=function(){function t(t,n,i,r,e,u){var s=this;this.bet=[],this.Pet=function(t){var n=t.Ht;n.yn(Rg.tC,s.Cet),n.yn(Rg.iC,s.Cet),n instanceof Xx&&(n.P5=s.P5),s.Ret(n)},this.Cet=function(t){var n=t.Ht;s.Ret(n)},this.Det=function(t){var n=t.Ht;n.fn(Rg.tC,s.Cet),n.fn(Rg.iC,s.Cet),s.xet(n)},this.Net=function(){for(var t=s.P5,n=0,i=s.Ll.uC;n<i.length;n++){var r=i[n];r instanceof Xx&&(r.P5=t)}},this.Met=function(){for(var t=0,n=s.bet;t<n.length;t++){n[t].V7(s.gZ)}},this.ket=t,this.Yu=n,this.Ll=i,this.Iet=e,this.Zo=u,this.gZ=r,this.Ll.yn(Ag.OI,this.Pet),this.Ll.yn(Ag.VI,this.Det),this.Ll.yn(Rg.la,this.Cet),this.Iet.yn(eS.la,this.Net),this.Zo.yn([UT.sO,UT.nO],this.Net),this.gZ.yn("$I",this.Met),this.Net()}var n=t.prototype;return n.yet=function(t){for(var n=0,i=this.bet;n<i.length;n++){var r=i[n];if(r.Ht===t)return r}},n.Tet=function(t){switch(t.Aw){case xm.TTML:return new eP(t,this.ket,t.xh,this.Yu);case xm.SRT:case xm.WEBVTT:return new PP(t,this.ket,t.xh,this.Yu);case xm.CEA608:return new nM(t,this.ket,t.xh,this.Yu)}},n.Eet=function(t){var n=this.yet(t);n||(n=this.Tet(t))&&(n.Tj(),n.V7(this.gZ),this.bet.push(n),t.xE===Gp.Jn&&n.ntt())},n.xet=function(t){for(var n=this.bet,i=n.length-1;i>=0;i-=1){var r=n[i];r.Ht===t&&(r.gn(),bo(n,i))}},n.Ret=function(n){ey(n.Lt)&&t.Aet(n)&&(n.sI===Nm.ERROR?this.xet(n):this.Eet(n))},n.er=function(){for(var t=0,n=this.bet;t<n.length;t++){var i=n[t];i.Ht.fn(Rg.tC,this.Cet),i.Ht.fn(Rg.iC,this.Cet),i.gn()}So(this.bet)},n.gn=function(){this.er();for(var t=0,n=this.bet;t<n.length;t++){n[t].gn()}this.Ll.fn(Ag.OI,this.Pet),this.Ll.fn(Ag.VI,this.Det),this.Ll.fn(Rg.la,this.Cet),this.Iet.fn(eS.la,this.Net),this.Zo.fn([UT.sO,UT.nO],this.Net),this.gZ.fn("$I",this.Met)},t.Aet=function(t){switch(t.Aw){case xm.TTML:case xm.SRT:case xm.WEBVTT:case xm.CEA608:return!0}return!1},xt(t,[{key:"P5",get:function(){return this.Iet.cs||this.Zo.rO}}]),t}();U(),St(),Gt(),Dt(),Ct(),Jt();var rM=function(t){function n(n){var i;return(i=t.call(this)||this).Bet=!1,i.Oet=function(){i.Bet=!0,i.wo(new WT)},i.Fet=function(){i.Bet=!1,i.wo(new jT)},i.Let=n,i.Let.addEventListener("enterpictureinpicture",i.Oet),i.Let.addEventListener("leavepictureinpicture",i.Fet),i}Rt(n,t);var i=n.prototype;return i.fo=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.oO?t.rO?[3,3]:(n=t.vy([UT.sO,UT.da]),[4,t.Let.requestPictureInPicture()]):[3,4];case 1:return i.sent(),[4,n];case 2:i.sent(),t.Bet||t.wo(new oS),i.label=3;case 3:return[3,5];case 4:t.wo(new oS),i.label=5;case 5:return[2]}}))}))()},i._o=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.oO?t.Bet?(n=t.vy([UT.nO,UT.da]),[4,t.Let.ownerDocument.exitPictureInPicture()]):[3,3]:[3,4];case 1:return i.sent(),[4,n];case 2:i.sent(),t.Bet&&t.wo(new oS),i.label=3;case 3:return[3,5];case 4:t.wo(new oS),i.label=5;case 5:return[2]}}))}))()},i.gn=function(){this.$o(),this.Let.removeEventListener("enterpictureinpicture",this.Oet),this.Let.removeEventListener("leavepictureinpicture",this.Fet)},xt(n,[{key:"oO",get:function(){var t;return null!=(t=this.Let.ownerDocument.pictureInPictureEnabled)&&t}},{key:"rO",get:function(){return this.Bet}}]),n}(oa);function eM(t){var n=new MI,i=function(t){var n=[];return DI.oa(t)&&n.push(new DI(t)),PI.oa(t)&&n.push(new PI(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.uK(e)}n.aK(i[0])}return n}var uM=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e)||this).Vet=eM(n),u.Wet=new rM(n),u.Uet=new DD,u.Get=new iM(u.Uet.we,u.Lu,u.nt,u.zl,u.Ca,u.lH),u}Rt(n,t);var i=n.prototype;return i.AI=function(){return this.QT},i.Hw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Wet.gn(),n.Vet.gn(),n.Uet.gn(),n.Get.gn(),[4,t.prototype.Hw.call(n)];case 1:return i.sent(),[2]}}))}))()},i.be=function(){t.prototype.be.call(this),this.Uet.be()},i.ge=function(){t.prototype.ge.call(this),this.Uet.ge()},i.v7=function(n){t.prototype.v7.call(this,n),this.Uet.v7(n)},xt(n,[{key:"YG",get:function(){return this.QT}},{key:"cI",get:function(){return this.QT.videoHeight}},{key:"fI",get:function(){return this.QT.videoWidth}},{key:"Ca",get:function(){return this.Vet}},{key:"lH",get:function(){return this.Wet}}]),n}(SD);U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St();U(),St(),Gt(),Jt(),U(),St();var sM=!1,oM=function(t){return t.Het="HELLO",t.Zet="HI_THERE",t.Xet="INITIALIZE",t.zet="APPEND_INIT",t.qet="APPEND_DATA",t.Yet="ACK",t.Ket="REMOVE",t.jet="DESTROY_SESSION",t}({}),aM=function(){function t(){this.Qo=new dl}var n=t.prototype;return n.Qet=function(t){var n=this;return this.Qo.Jo(Zt((function(t){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return jo(t),i=new MessageChannel,r=i.port1,e=i.port2,d.serviceWorker.controller?[3,2]:[4,tg(d.serviceWorker,"install",t)];case 1:c.sent(),c.label=2;case 2:return"activated"===d.serviceWorker.controller.state?[3,4]:[4,tg(d.serviceWorker.controller,"activate",t)];case 3:c.sent(),c.label=4;case 4:u={kind:"HELLO",port:e},d.serviceWorker.controller.postMessage(u,[e]),r.start(),n.Mp=r,c.label=5;case 5:return c.trys.push([5,7,,8]),[4,tg(r,"message",t)];case 6:if(s=c.sent(),"HI_THERE"!==(o=s.data).kind)throw new y("Could not set up message channel");return n.ek=o.sessionId,[3,8];case 7:throw Wo(a=c.sent())&&n.Jet(),a;case 8:return[2]}}))})),t)},n.$et=function(t,n){this.Mp;var i=this;return this.Qo.Jo(Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:if(!i.Mp)throw new y("MessageSession not set up yet or already closed.");return n||(n=[]),i.Mp.postMessage(t,n),[4,tg(i.Mp,"message")];case 1:return[2,r.sent().data]}}))})))},n.tit=function(){var t=this;return this.Qo.Jo((function(){return t.Jet()}))},n.Jet=function(){if(d.serviceWorker.controller&&"activated"===d.serviceWorker.controller.state&&this.Mp){var t={kind:"DESTROY_SESSION"};sM,this.Mp.postMessage(t),this.Mp.close(),this.Mp=void 0}},t}();U(),St(),Dt();var cM=function(){function t(){this.iit=1/0}var n=t.prototype;return n.sit=function(t,n){var i=t-n;this.iit=i>this.eit?this.iit:i},n.nit=function(t){this.iit=t},xt(t,[{key:"eit",get:function(){return this.iit}}]),t}();U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var hM=function(t){return t.fE="audio",t._E="video",t.$V="metadata",t}({}),fM=function(t){function n(n,i){var r;return(r=t.call(this)||this).cY=n,r.dit=i,r.rit=void 0,r.oit=void 0,r.Qo=new dl,r.ait=!1,r.hit=!1,r}Rt(n,t);var i=n.prototype;return i.f3=function(t,n){},i._3=function(t,n){},i.EJ=function(){return this.hit},i.v3=function(){return Zt((function(){return Ht(this,(function(t){return[2]}))}))()},i.B2=function(t,n){return Zt((function(){return Ht(this,(function(t){return[2]}))}))()},i._2=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){if(t.Aw!==XR.tJ)throw new y("Streaming or opaque segments are not supported yet.");return e=t.qk,u=Zt((function(){var t,i,u;return Ht(this,(function(s){switch(s.label){case 0:return t=e.buffer,i={kind:oM.qet,mediaType:vM(r.cY),segment:e,startPts:n.cit,totalDuration:n.ct},[4,r.dit.$et(i,[t])];case 1:return s.sent(),void 0===r.rit&&(u=n.cit+n.MV,r.rit=u,r.oit=u),r.oit=r.oit+n.ct,r.wo(new ha(jR.JQ)),[2]}}))})),[2,r.Qo.Jo(Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:jo(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.ait=!0,[4,u()];case 2:return n.sent(),[3,4];case 3:return r.ait=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.w2=function(t,n,i){var r=this;return Zt((function(){var n,e;return Ht(this,(function(u){if(t.Aw!==XR.tJ)throw new y("Streaming or opaque initialization segments are not supported yet.");return n=t.qk,e=Zt((function(){var t;return Ht(this,(function(i){switch(i.label){case 0:return t={kind:oM.zet,mediaType:vM(r.cY),segment:n},[4,r.dit.$et(t,[])];case 1:return i.sent(),[2]}}))})),[2,r.Qo.Jo(Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:jo(t),n.label=1;case 1:return n.trys.push([1,,3,4]),r.ait=!0,[4,e()];case 2:return n.sent(),[3,4];case 3:return r.ait=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.r3=function(){this.hit=!0},i.K2=function(){this.hit=!1},i.$S=function(t,n,i){var r=this;return Zt((function(){var t;return Ht(this,(function(e){return t=Zt((function(){var t;return Ht(this,(function(i){switch(i.label){case 0:return t={kind:oM.Ket,mediaType:vM(r.cY),endTime:n},[4,r.dit.$et(t)];case 1:return i.sent(),r.rit=void 0,r.oit=void 0,r.wo(new ha(jR.JQ)),[2]}}))})),[2,r.Qo.Jo(Zt((function(n){return Ht(this,(function(i){switch(i.label){case 0:jo(n),i.label=1;case 1:return i.trys.push([1,,3,4]),r.ait=!0,[4,t()];case 2:return i.sent(),[3,4];case 3:return r.ait=!1,[7];case 4:return[2]}}))})),i)]}))}))()},i.cJ=function(t){return this.cY===t.Dk},i.dJ=function(t){return this.cY=t.Dk,ut.resolve()},i.Hw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.$o(),[4,t.Qo.gn()];case 1:return n.sent(),[2]}}))}))()},xt(n,[{key:"gR",get:function(){return void 0===this.rit||void 0===this.oit?MA.mB():new MA([this.rit,this.oit])}},{key:"bd",get:function(){return{Dk:this.cY}}},{key:"h3",get:function(){return Zs(this.cY,"audio")?im.fE:Zs(this.cY,"video")?im._E:im.tE}},{key:"Yq",get:function(){return this.cY}},{key:"u3",get:function(){return MA.mB()}},{key:"wj",get:function(){return 30},set:function(t){}},{key:"Sj",get:function(){return 30},set:function(t){}},{key:"fa",get:function(){return this.ait}},{key:"uit",get:function(){return this.rit}},{key:"VO",get:function(){return this.oit}}]),n}(oa);function vM(t){return t.match(/video/)?hM._E:hM.fE}var lM=function(){function t(t,n,i,r){this.hT=void 0,this.DT=t,this.i4=go(n,(function(t){return Boolean(t.Yq.match(/video/))})),this.e4=go(n,(function(t){return Boolean(t.Yq.match(/audio/))})),this.Pw=i,this.QT=r,this._it()}var n=t.prototype;return n._it=function(){},n.Hw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,ut.all([t.e4,t.i4].filter(Yn).map((function(t){return t.Hw()})))];case 1:return n.sent(),[2]}}))}))()},n.n4=function(t){},n.a4=function(t,n,i,r){},n.r3=function(){var t,n;null==(t=this.e4)||t.r3(),null==(n=this.i4)||n.r3()},n.K2=function(){var t,n;null==(t=this.e4)||t.K2(),null==(n=this.i4)||n.K2()},n.cJ=function(t){return!0},n.dJ=function(t){return this.DT=t,ut.resolve()},n._J=function(t){},n.aJ=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,i.Pw.Cw(t.Sw,n)];case 1:return[4,e.sent().dT()];case 2:return r=e.sent(),[4,i.uJ(r)];case 3:return e.sent(),[2,r]}}))}))()},n.uJ=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(t&&!n.QT.src)throw new em(el.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");if(!t&&n.QT.src)throw new em(el.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");return(i=n.hT)?[4,i.cT(n.QT)]:[3,2];case 1:r.sent(),n.hT=void 0,r.label=2;case 2:return t?[4,t.bn(n.QT)]:[3,4];case 3:r.sent(),n.hT=t,r.label=4;case 4:return[2]}}))}))()},t.fit=function(n,i,r,e){for(var u=[],s=0;s<n.u4.length;s++){var o=n.u4[s].Dk;u.push(new fM(o,i))}return new t(n,u,r,e)},xt(t,[{key:"vit",get:function(){return[this.e4,this.i4].filter(Yn)}},{key:"J3",get:function(){return this.e4}},{key:"gR",get:function(){return fN(this)}},{key:"bd",get:function(){return this.DT}},{key:"ct",get:function(){return 0}},{key:"EJ",get:function(){var t,n,i,r,e=null==(i=null==(t=this.e4)?void 0:t.EJ())||i,u=null==(r=null==(n=this.i4)?void 0:n.EJ())||r;return e&&u}},{key:"rI",get:function(){return new MA([0,1/0])}},{key:"t4",get:function(){return this.i4}}]),t}(),dM=function(t){function n(n,i,r,e){var u,s;return u=t.call(this)||this,s=u,u.Lit=!0,u.dit=new aM,u.Pit=new cM,u.Oit=!0,u.Vit=new Yc,u.aZ=!1,u.Q9=ut.resolve(),u.j9=new Jo,u.Fit=!0,u.Ro=MA.mB(),u.f7=!1,u.git=function(){u.qR||u.Nit.V<=0||u.gR.V<=0||u.Pit.sit(u.gR.jn(u.gR.V-1),u.Nit.jn(u.Nit.V-1))},u.pit=function(){u.wo(new kT(u.SR))},u.wit=function(){u.wo(new pg(u.SR,u.wR))},u.yit=function(){u.wo(new bT(u.SR,u.KR))},u.Ait=function(){u.wo(new ST(u.SR,u.vI))},u.Sit=function(){u.wo(new _T(u.ct))},u.Tit=function(){u.wo(new By(u.SR))},u.kit=function(){u.Eb(u.SR)},u.Eit=Zt((function(){return Ht(this,(function(t){return s.Fit&&s.wo(new yT(s.SR)),s.Oit=!1,s.Fit=!0,[2]}))})),u.xit=function(){u.Oit=!0,u.wo(new pT(u.SR))},u.n7=function(t){var n,i=t.initDataType,r=null!=(n=t.initData)?n:new ArrayBuffer(0);u.wo(new pa(i,r))},u.Let=n,u.R9=new EN(u),u.Uit=r,u.gZ=e,u.Let.playsInline=!0,u.Let.style.width="100%",u.Let.style.height="100%",u.mit(),u.Iit(),u.Vet=eM(u.Let),u.Zo=new rM(u.Let),u.fJ=new gD(u),u.Pw=i,u.Ll=new Qp,u.f8=new qx(u),u.Uet=new DD,u.Get=new iM(u.Uet.we,u.Lu,u.nt,u.zl,u.Ca,u.lH),u}Rt(n,t);var i=n.prototype;return i.mit=function(){this.Let.addEventListener("timeupdate",this.git),this.Let.addEventListener("ended",this.pit),this.Let.addEventListener("timeupdate",this.wit),this.Let.addEventListener("ratechange",this.yit),this.Let.addEventListener("volumechange",this.Ait),this.Let.addEventListener("durationchange",this.Sit),this.Let.addEventListener("playing",this.Tit),this.Let.addEventListener("seeking",this.kit),this.Let.addEventListener("play",this.Eit),this.Let.addEventListener("pause",this.xit),this.Let.addEventListener("encrypted",this.n7)},i.Rit=function(){this.Let.removeEventListener("timeupdate",this.git),this.Let.removeEventListener("ended",this.pit),this.Let.removeEventListener("timeupdate",this.wit),this.Let.removeEventListener("ratechange",this.yit),this.Let.removeEventListener("volumechange",this.Ait),this.Let.removeEventListener("durationchange",this.Sit),this.Let.removeEventListener("playing",this.Tit),this.Let.removeEventListener("seeking",this.kit),this.Let.removeEventListener("play",this.Eit),this.Let.removeEventListener("pause",this.xit)},i.Iit=function(){this.R9.yn(Ey.tC,this.Ds)},i.Cit=function(){this.R9.fn(Ey.tC,this.Ds)},i.Eb=function(t,n,i){this.j9.Yw(),this.j9=new Jo,this.Q9=Ho(this.J9(t,this.Q9,this.j9.Vw),this.j9).catch(Ti)},i.J9=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return r.Ro=r.JR,(s=null==(u=r.jG)?void 0:u.vit)?(o=(e=A).max.apply(e,Ut(s.map((function(t){return t.uit?t.uit:1/0})))),r.aZ=!0,r.wo(new AT(t)),[4,n.catch(Ti)]):[2];case 1:c.sent(),jo(i),c.label=2;case 2:return c.trys.push([2,7,8,9]),r.Lit||r.Bit(),r.Let.load(),r.Oit?[3,4]:(r.Fit=!1,[4,Go(r.Let.play(),i)]);case 3:c.sent(),c.label=4;case 4:return r.sI<Cy.tO?[4,r.R9.vy(Ey.tC,i)]:[3,6];case 5:return c.sent(),[3,4];case 6:return r.Vit.Ob(),r.Lit=!1,r.aZ=!1,r.wo(new TT(r.SR)),[3,9];case 7:throw a=c.sent(),r.Vit.Fb(a),a;case 8:return r.Wit(),r.Pit.nit(o),[7];case 9:return[2]}}))}))()},i.TI=function(){this.Oit=!0,this.Let.pause()},i.kI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Oit?(t.Let.src||t._7(),[4,t.Vit.Vb]):[2];case 1:return n.sent(),[4,t.Let.play()];case 2:return n.sent(),[2]}}))}))()},i.Hw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.dit&&t.dit.tit().catch(Ti),t.j9.Yw(),t.Rit(),t.Cit(),t.R9.Hw(),t.$o(),t.Ll.gn(),t.Uet.gn(),t.Get.gn(),[2]}))}))()},i.er=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.dit&&t.dit.tit().catch(Ti),t.j9.Yw(),t.Let.removeAttribute("src"),t.Let.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),t.Let.removeAttribute("x-airplay-deny"),t.Let.disableRemotePlayback=!1,t.Let.load(),t.R9.er(),t.Ro=MA.mB(),[2]}))}))()},i._7=function(){this.d7||(_M(this.Let,qn.Ys),this.f7=!0)},i.Bit=function(){var t,n=this.Let.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,u=this.Let.videoWidth/this.Let.videoHeight,s=t.height;e/s>u?(i=s*u,r=s):(r=e/u,i=e),this.Let.style.width=i+"px",this.Let.style.height=r+"px",this.Let.style.marginLeft=(e-i)/2+"px",this.Let.style.marginTop=(s-r)/2+"px",this.Let.style.backgroundColor="black"}},i.Wit=function(){this.Let.style.width="100%",this.Let.style.height="100%",this.Let.style.marginLeft="",this.Let.style.marginTop="",this.Let.style.backgroundColor=""},i.uH=function(t,n,i,r,e){},i.LI=function(t,n,i,r,e,u,s,o,a){var c=new YN(t,n,i,r,e,u,s,a,o);return this.Ll.tt(c),this.f8.tt(c),c},i.dH=function(t){throw y("Not supported.")},i.DJ=function(t){},i.UR=function(){return bR(this.Let)},i.ge=function(){this.Let.style.display="block",this.Uet.ge()},i.be=function(){this.Let.style.display="none",this.Uet.be()},i.u7=function(){},i.Dn=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(t.Aw===Sy.mW)throw new y("Not yet implemented");return[4,n.dit.Qet()];case 1:return e.sent(),i=go(t.eH,(function(t){return t.aT.Aw===Ds.ww})),r={kind:oM.Xet,mediaBufferConfigs:t.u4.map((function(t){return t.Dk})),fairPlaySdkUri:null==i?void 0:i.FU},[4,n.dit.$et(r)];case 2:return e.sent(),n.jG=lM.fit(t,n.dit,n.Pw,n.Let),n.fJ.Dn(n.jG,t),n.Let.setAttribute("x-webkit-airplay","deny"),n.Let.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),n.Let.disableRemotePlayback=!0,n.Let.preload="none",n.Let.src="https://theo.proxy/"+n.dit.ek+"/master.m3u8",[2,n.jG]}}))}))()},i.l7=function(){},i._W=function(t){this.Ll.it(t),this.f8.it(t)},i.fH=function(){for(var t=0,n=this.Ll.uC.slice();t<n.length;t++){n[t].gn()}this.Ll.er()},i.ZG=function(t){},i.hH=function(){return!1},i.v7=function(t){t.appendChild(this.Let),this.Uet.v7(t)},i.AI=function(){return this.Let},i.CI=function(){},xt(n,[{key:"YG",get:function(){return this.Let}},{key:"N4",get:function(){return!1}},{key:"SR",get:function(){return this.Let.currentTime+this.Pit.eit}},{key:"qR",get:function(){return this.Let.paused}},{key:"vI",get:function(){return this.Let.volume},set:function(t){this.Let.volume=t}},{key:"KR",get:function(){return this.Let.playbackRate},set:function(t){this.Let.playbackRate=t}},{key:"Dit",get:function(){return this.Let.defaultPlaybackRate}},{key:"gR",get:function(){var t,n;return null!=(n=null==(t=this.jG)?void 0:t.gR)?n:MA.mB()}},{key:"Nit",get:function(){return MA.xn(this.Let.buffered)}},{key:"JR",get:function(){var t=this.Mit;return this.Ro.JL(t.kb(this.Pit.eit))}},{key:"Mit",get:function(){return MA.xn(this.Let.played)}},{key:"hI",get:function(){return this.aZ}},{key:"E4",get:function(){return!1}},{key:"O4",get:function(){return!1}},{key:"ct",get:function(){return this.Let.duration}},{key:"GR",get:function(){return this.Let.muted},set:function(t){this.Let.muted=t}},{key:"cet",get:function(){return this.Let.style}},{key:"XB",get:function(){return us({},UR,{ZB:!0})}},{key:"sI",get:function(){return this.R9.sI}},{key:"cI",get:function(){return this.Let.videoHeight}},{key:"fI",get:function(){return this.Let.videoWidth}},{key:"RR",get:function(){return this.Let.ended}},{key:"Ti",get:function(){return this.Let.offsetHeight*qn.Ys.Yg}},{key:"ji",get:function(){return this.Let.offsetWidth*qn.Ys.Yg}},{key:"OR",get:function(){return!1}},{key:"d7",get:function(){return this.f7}},{key:"wR",get:function(){}},{key:"Lu",get:function(){return this.Uit}},{key:"lt",get:function(){}},{key:"Ca",get:function(){return this.Vet}},{key:"lH",get:function(){return this.Zo}},{key:"rI",get:function(){return this.jG?this.jG.rI:MA.mB()}},{key:"QG",get:function(){}},{key:"nt",get:function(){return this.Ll}},{key:"zl",get:function(){return this.gZ}},{key:"yI",get:function(){return!1},set:function(t){}},{key:"M9",get:function(){return"block"===this.Let.style.display}},{key:"gH",get:function(){return this.fJ.gH},set:function(t){this.fJ.gH=t}},{key:"m7",get:function(){},set:function(t){}},{key:"J6",get:function(){}}]),n}(oa),gM=[im.fE,im._E],mM=function(){function t(t,n,i,r,e){void 0===i&&(i=2),void 0===r&&(r=gM),void 0===e&&(e=Tl()),this.Knt=i,this.Gnt=Ut(r),this.Pw=e,this.Yu=t,this.gZ=n,this.Hnt=os(),this.Ynt()}var n=t.prototype;return n.yZ=function(t){for(var n=0,i=this.pZ;n<i.length;n++){i[n].v7(t)}},n.LH=function(t){var n=go(this.Hnt.get(t),(function(t){return t.znt}));if(n)return n.znt=!1,n.Znt},n.qnt=function(t){if(!this.Xnt){var n,i=null==(n=this.Hnt.get(im._E))?void 0:n[0].Znt.YG;if(!i)throw new y("Error creating iOS Safari MediaController");this.Xnt=new dM(i,this.Pw,this.Yu,this.gZ),i.parentElement&&this.Xnt.v7(i.parentElement)}return this.Xnt},n.pH=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return i=t.YG,r=i.tagName.toLowerCase(),[4,t.er()];case 1:return u.sent(),yM(i),(e=go(n.Hnt.get(r)||[],(function(n){return t===n.Znt})))&&(e.znt=!0),[2]}}))}))()},n.fZ=function(){for(var t=0,n=this.pZ;t<n.length;t++){n[t]._7()}},n.gn=function(){for(var t=0,n=this.pZ;t<n.length;t++){var i=n[t],r=i.YG;i.Hw(),pM(r),ai(r)}this.Hnt.clear(),this.Xnt=void 0},n.Ynt=function(){for(var t=0,n=this.Gnt;t<n.length;t++){var i=n[t],r=[];this.Hnt.set(i,r);for(var e=0;e<this.Knt;e++){var u=wM(i),s=i===im.fE?new xD(u,this.Pw,this.Yu):new uM(u,this.Pw,this.Yu,this.gZ);r.push({Znt:s,znt:!0})}}},xt(t,[{key:"pZ",get:function(){for(var t=[],n=0,i=this.Gnt;n<i.length;n++){var r=i[n],e=this.Hnt.get(r);if(e){var u,s=e.map((function(t){return t.Znt}));(u=t).push.apply(u,Ut(s))}}return this.Xnt&&t.push(this.Xnt),t}}]),t}();function wM(t){var n=v.createElement(t);return Ci(n)&&n.addEventListener("contextmenu",bM),yM(n),n}function pM(t){yM(t),t.removeEventListener("contextmenu",bM)}function yM(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),ci(t),Ni(t),t.pause(),t.playbackRate=1,t.disableRemotePlayback=!1,t.preload=nS.jB,t.controls=!1,t.style.display="none",Ci(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function _M(t,n){if(n._p){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();ri(r)&&ta(r),t.pause()}}function bM(t){t.preventDefault()}U(),St(),Gt(),Ct(),Jt(),U(),St();var kM=function(){function t(t){this.lW=t}var n=t.prototype;return n.Kk=function(t){return this.lW.Kk(t)},n.PE=function(t){this.lW.PE(t)},n.gn=function(){this.lW.gn()},t}(),AM=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).vZ=i,r}Rt(n,t);var i=n.prototype;return i.Kk=function(t){var n=new md(t),i=this.vZ.aj.bG(n);return i?this.Git(n,i):this.lW.Kk(n)},i.Git=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return n.cj(qn.Vg()/1e3),[4,i.lW.Kk(t)];case 1:return r=s.sent(),n.lj(qn.Vg()/1e3),e=r.Ok?r.Pk().pipeThrough(new Ul(new TM(n))):r.Ck().then((function(t){var i=qn.Vg()/1e3;return n.dj(i,new I(t)),n._j(i),t})),u={qk:e,Kk:r.Kk},[2,new hd(u,r)]}}))}))()},n}(kM),TM=function(){function t(t){this.Hit=t}var n=t.prototype;return n.start=function(t){this.BQ=t},n.transform=function(t){this.Hit.dj(qn.Vg()/1e3,t),this.BQ.enqueue(t)},n.flush=function(){this.Hit._j(qn.Vg()/1e3)},t}();function SM(t){return{get ratio(){return t.Oo},get thresholds(){return t.Zit.slice()}}}function EM(t){var n=[],i=A.floor(1/t);if(E(i))return[];for(var r=0;r<=i;r++){var e=cr(r*t,0,1);n.push(e)}return n}U(),St(),Dt(),U(),St(),Dt(),Ct(),U(),St();var IM=function(){function t(t,n,i){this.Xit=1,this.su=void 0,this.zit=EM(n);var r=this.qit(i);this.Yit=new f.IntersectionObserver(r,{root:null,threshold:this.zit}),this.Yit.observe(t)}var n=t.prototype;return n.qit=function(t){var n=this;return function(i){var r=i[i.length-1];n.Xit=r.intersectionRatio,t(r.intersectionRatio)}},n.EI=function(){this.Yit.disconnect()},xt(t,[{key:"Oo",get:function(){return this.Xit}},{key:"Zit",get:function(){return this.zit}},{key:"ka",get:function(){return this.su||(this.su=SM(this)),this.su}}]),t}(),RM=function(){function t(t,n){this.Xit=1,this.jit=-1,this.su=void 0,this.zit=EM(t),this.Qit=n}return t.prototype.Kit=function(t){this.Xit=t;var n=this.zit,i=0;if(t>0)for(;i<n.length&&n[i]<=t;)++i;this.jit!==i&&(this.jit=i,this.Qit(t))},xt(t,[{key:"Oo",get:function(){return this.Xit}},{key:"Zit",get:function(){return this.zit}},{key:"ka",get:function(){return this.su||(this.su=SM(this)),this.su}}]),t}(),CM=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).$it=Ei((function(){return e.Kit(e.Jit())}),50),e.vo=n,f.addEventListener("scroll",e.$it,!!kI&&{passive:!0}),$o((function(){return e.Kit(e.Jit())})),e}Rt(n,t);var i=n.prototype;return i.Jit=function(){var t=this.vo.getBoundingClientRect();return cr(A.max(0,A.min(f.innerWidth,t.right)-A.max(0,t.left))*A.max(0,A.min(f.innerHeight,t.bottom)-A.max(0,t.top))/(t.width*t.height),0,1)},i.EI=function(){f.removeEventListener("scroll",this.$it)},n}(RM),NM=function(){function t(t){this.ist=1,this.sst=0,this.ost=[],this.su=void 0,this.vo=t,this.No(.1,this.rst())}var n=t.prototype;return n.rst=function(t){var n=this;return function(i){n.ist=i,null==t||t(n.ist)}},n.No=function(t,n){if(E(t))throw new _("step is not of the right type");if(t>1||t<=0)throw new RangeError("The step must be a number greater than 0 and smaller than or equal to 1");var i;return i="function"==typeof f.IntersectionObserver?new IM(this.vo,t,this.rst(n)):new CM(this.vo,t,this.rst(n)),this.ost.push(i),i},n.Fo=function(t){t.EI(),_o(this.ost,t)},n.nst=function(t){for(var n=0,i=this.ost;n<i.length;n++){var r=i[n];if(r.ka===t)return r}},n.gn=function(){for(var t=0,n=this.ost;t<n.length;t++){n[t].EI()}So(this.ost)},xt(t,[{key:"tst",get:function(){return this.ist}},{key:"Uo",get:function(){return this.sst},set:function(t){if(E(t)||t<0||t>1)throw new RangeError("The threshold must be a value between 0 and 1");this.sst=t}},{key:"ka",get:function(){return this.su||(this.su=function(t){return{get ratio(){return t.tst},get visible(){return t.tst>t.Uo},get visibleThreshold(){return t.Uo},set visibleThreshold(n){n=jg(n),t.Uo=n},addObserver:function(n,i){return n=jg(n),t.No(n,i).ka},removeObserver:function(n){var i=t.nst(n);i&&t.Fo(i)}}}(this)),this.su}}]),t}();U(),St(),Ct();var xM=function(t){function n(){return t.call(this,fa.Ey)||this}return Rt(n,t),n}(ha),DM=function(t){function n(n,i,r){var e;(e=t.call(this)||this).ast=!1,e.po=!1,e.eZ=void 0,e.Sst=!1,e.Ta=void 0,e.pst=function(t){if(!e.Sst){e.Sst=!0;var n=e.Tst,i=am(t);e.ja.fC=new vS(e.we,i,t),ta(n.gn())}},e.kst=function(t){t.type!==fa.Hy&&t.type!==fa.Gy&&e.wo(t)};var u=jg(i.uid);E(u)?e.xO=_m++:e.xO=u,e.bd=i;var s=qn.lR,o=new xR;e.Ast=new aI("9.2.0",s,o),e.vZ=new fR,e.mZ=new Fk;var a=new AM(s,e.vZ);e.lR=new QI(a,i.allowMixedContent),e.RQ=null!=r?r:new OE(i.isEmbeddable,"9.2.0",NE()),e.gst=new NR(s,e.RQ,e.Ast,o,i,NE()),e.gst.SQ().catch(e.pst),e.dst=new RI(n),e.dst.yn(mI.pn,e.Ds),e.gZ=new LR,e.Uj=new mR,e.eQ=new pR;var c=new fS(n,i,e.lR,e.vZ,e.mZ,e.dst,e.gZ);e.vZ.Tj(c);var h=c;return h=new wR(h,e.vst),h=new yR(h,e.tQ),e.Tst=h,e.ja=new GT(e.Tst),e.ja.iy(e.kst),e.fst=new _R(e.ja),e._st=new nR(e.ja,e.lR,e.vZ),e.yst=new gI(e),e.bst=new BI(e.ja,i.allowNativeFullscreen),e.wst=new jI(e.bst,e.ja.Sa()),e.dst.bn(),e.Po=new NM(n),e._Z=new qT(e.dst,e.gZ,1,[im._E]),e.cst=new JT(e._Z),e.lst=new TR,e}Rt(n,t);var i=n.prototype;return i.pR=function(){return this.ja.gR},i.kR=function(){return this.ja.SR},i.ER=function(t,n){this.ja.ER(t,n)},i.mst=function(){return this.kR()},i.Sd=function(){return this.ja.ct},i.PR=function(){return this.ja.lt},i.NR=function(){return this.ja.DR},i.ZR=function(t){this.ja.GR=t,t||this.qR||this.SI()},i.jR=function(){return this.ja.KR},i.QR=function(t){this.ja.KR=t},i.$R=function(){return this.ja.JR},i.oI=function(){return this.ja.rI},i.gI=function(t){this.ja.vI=t},i.Ma=function(){BT(this,SS,this)},i.kI=function(){this.ja.kI()},i.TI=function(){this.ja.TI()},i.tu=function(){return this.eZ},i.xa=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.eZ=t,t?(i.gst.vq(t).catch(i.pst),r=function(t){t.sources;var n=t.sources.filter((function(t){return Kn(t.integration)}));return t.sources=n,t}(t),[4,i.ja.xa(r,n)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))()},i.SI=function(){if(!this.po){this.ja.SI(),this.cst.SI();for(var t=this.we.getElementsByTagName("video"),n=0;n<t.length;n++){var i=t[n];"Advertisement"===i.title&&_M(i,qn.Ys)}this.po=!0}},i.cs=function(){return this.wst.Lo()===CT.FULLSCREEN},i.ge=function(){this.ja.ge()},i.be=function(){this.ja.be()},i.AI=function(){return this.ja.AI()},i.CI=function(){this.ja.CI()},i.DI=function(){this.ja.DI()},i.LI=function(t){return this.ja.LI(t)},i.EI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.eZ=void 0,[4,t.ja.EI()];case 1:return n.sent(),[4,t.ja.er()];case 2:return n.sent(),[2]}}))}))()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.wo(new xM),t.$o(),t.lst.gn(),t.lR.gn(),t._st.gn(),t.yst.gn(),t.bst.gn(),t.wst.gn(),t.dst.gn(),t.Ast.gn(),t.cst.gn(),t._Z.gn(),[4,t.ja.gn()];case 1:return n.sent(),[2]}}))}))()},xt(n,[{key:"hst",get:function(){return this.vZ}},{key:"bO",get:function(){return this.ast},set:function(t){this.ast=t,this.ja.bO=t}},{key:"ust",get:function(){return this.cst}},{key:"ht",get:function(){return this.ja.ht}},{key:"xz",get:function(){return this.lst}},{key:"Lu",get:function(){return this.dst}},{key:"MR",get:function(){return this.ja.MR}},{key:"WR",get:function(){return this.fst}},{key:"HX",get:function(){return this._st}},{key:"nt",get:function(){return this.ja.nt}},{key:"zl",get:function(){return this.gZ}},{key:"rt",get:function(){return this.ja.rt}},{key:"gR",get:function(){return this.pR()}},{key:"vst",get:function(){return this.Uj}},{key:"tQ",get:function(){return this.eQ}},{key:"SR",get:function(){return this.kR()},set:function(t){this.ER(t)}},{key:"wR",get:function(){return this.ja.wR},set:function(t){this.ja.wR=t}},{key:"bt",get:function(){return this.ja.bt}},{key:"ct",get:function(){return this.Sd()}},{key:"we",get:function(){return this.ja.we}},{key:"RR",get:function(){return this.ja.RR}},{key:"lt",get:function(){return this.PR()}},{key:"DR",get:function(){return this.NR()}},{key:"Ca",get:function(){return this.ja.bI()}},{key:"lH",get:function(){return this.ja.Sa()}},{key:"yI",get:function(){return this.ja.yI},set:function(t){this.ja.yI=t}},{key:"GR",get:function(){return this.ja.GR},set:function(t){var n=Boolean(t);this.ZR(n)}},{key:"qR",get:function(){return this.ja.qR}},{key:"KR",get:function(){return this.jR()},set:function(t){this.QR(t)}},{key:"JR",get:function(){return this.$R()}},{key:"tI",get:function(){return this.ja.tI},set:function(t){this.ja.tI=t}},{key:"sI",get:function(){return this.ja.sI}},{key:"rI",get:function(){return this.oI()}},{key:"hI",get:function(){return this.ja.hI}},{key:"xC",get:function(){return this.xO}},{key:"cI",get:function(){return this.ja.cI}},{key:"fI",get:function(){return this.ja.fI}},{key:"vI",get:function(){return this.ja.vI},set:function(t){var n=cr(Number(t),0,1)||0;this.gI(n)}},{key:"pI",get:function(){return this.mZ}}]),n}(ca);U(),St();var PM=self.CustomEvent;var MM=function(){try{var t=new PM("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=v.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i};U(),St(),Dt();var BM=function(){function t(){this.pO=[],this.su=void 0}var n=t.prototype;return n.lC=function(t){return this.pO[t]},n.YJ=function(t){this.pO.push(t),this.ka.push(t.ka)},n.$S=function(t){var n=this.pO.indexOf(t);n<0||(bo(this.pO,n),this.su&&bo(this.su,n))},n.Fst=function(t){for(var n=0,i=this.pO;n<i.length;n++){var r=i[n];if(r.xC===t)return r}},xt(t,[{key:"V",get:function(){return this.pO.length}},{key:"ka",get:function(){var t;return null!=(t=this.su)?t:this.su=function(t){for(var n=[],i=0;i<t.V;i++)n[i]=t.lC(i).ka;return n.getPlayerByUID=function(n){var i=t.Fst(n);return i&&i.ka},n}(this)}}]),t}();var OM=new BM;function LM(t){var n,i,r=function(n){i=n;var r=gE(n,t.bd);t.xa(r)},e={get abr(){return t.hst.ka},get ads(){var n;return null==(n=t.qc)?void 0:n.ka},get audioTracks(){return t.ht.ka},get autoplay(){return t.bO},set autoplay(n){t.bO=Boolean(n)},get buffered(){return t.pR()},get canvas(){return t.yst.ka},get cast(){var n;return null==(n=t.xz)?void 0:n.ka},get clip(){return t.vst.ka},get currentProgramDateTime(){var n;return null!=(n=t.wR)?n:null},set currentProgramDateTime(n){t.wR=null!=n?n:void 0},get currentTime(){return t.kR()},set currentTime(n){t.ER(Number(n))},get duration(){return t.Sd()},get element(){return t.we},get ended(){return t.RR},get error(){return t.PR()},get errorObject(){return t.NR()},get loop(){return t.tQ.tQ},set loop(n){t.tQ.tQ=Boolean(n)},get metrics(){return t.WR.ka},get muted(){return t.GR},set muted(n){t.ZR(n)},get network(){return t.HX.ka},get paused(){return t.qR},get playbackRate(){return t.KR},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.KR=i},get played(){return t.$R()},get poster(){return t.mi},set poster(n){t.mi=Xg(n)},get preload(){return t.tI},set preload(n){t.tI=function(t){switch(t){case"auto":case"":return"auto";case"metadata":return"metadata";default:return"none"}}(n)},get presentation(){return t.wst.ka},get readyState(){return t.sI},get seekable(){return t.oI()},get seeking(){return t.hI},get source(){return i},set source(t){r(t)},get src(){return uE(t.tu())},set src(t){r({sources:t})},get textTracks(){return t.nt.ka},get textTrackStyle(){return t.zl.ka},get theoLive(){return t.Ist},get uid(){return t.xC},get videoHeight(){return t.cI},get videoTracks(){return t.rt.ka},get videoWidth(){return t.fI},get visibility(){return t.Po.ka},get volume(){return t.vI},set volume(n){t.gI(Number(n))},get latency(){return t.pI.ka},get theoads(){return t.Pst},destroy:function(){t.gn(),t=null,i=void 0},play:function(){t.Vst()},pause:function(){t.TI()},stop:function(){i=void 0,t.EI()},prepareWithUserAction:function(){t.SI()},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)},setSource:function(t){r(t)},addTextTrack:function(n){return t.LI(function(t){return{Lt:Xg(t.kind),xh:Xg(t.label),gs:Xg(t.language),Aw:Xg(t.type)}}(n)).ka}};return(n=new VI(e,!0)).nu(t),n.yn("destroy",(function(){n.gn()})),e}U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),U(),St(),U(),St(),Ct();var FM=function(t){function n(n){var i;return(i=t.call(this,fa.ao)||this).source=n,i}return Rt(n,t),n}(ha);U(),St(),Dt(),Ct();var VM=function(t){function n(){var n;return(n=t.call(this)||this).hZ=0,n.cZ=!0,n.aZ=!1,n.lZ=1,n}Rt(n,t);var i=n.prototype;return i.kR=function(){return this.hZ},i.mst=function(){return this.kR()},i.ER=function(t,n){this.aZ&&this.hZ===t||(this.hZ=t,this.aZ=!0,this.wo(new AT(this.hZ)))},i.kI=function(){this.cZ&&(this.cZ=!1,this.wo(new yT(this.hZ)),this.wo(new Dy(this.hZ)))},i.TI=function(){this.cZ||(this.cZ=!0,this.wo(new pg(this.hZ,this.wR)),this.wo(new pT(this.hZ)))},i.er=function(){this.hZ=0,this.aZ=!1,this.lZ=1,this.TI()},i.gn=function(){this.$o()},i.be=function(){},i.ge=function(){},xt(n,[{key:"wR",get:function(){},set:function(t){}},{key:"SR",get:function(){return this.kR()},set:function(t){this.ER(t)}},{key:"qR",get:function(){return this.cZ}},{key:"KR",get:function(){return this.lZ},set:function(t){this.lZ!==t&&(this.lZ=t,this.wo(new bT(this.hZ,this.KR)))}},{key:"sI",get:function(){return Cy.$B}},{key:"hI",get:function(){return this.aZ}}]),n}(ca);U(),St(),Dt();var UM={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},WM={visibility:"hidden"},jM={visibility:"visible"},ZM=function(){function t(t){var n=this;this.Hst=!1,this.Zst=function(t){var i;n.Hst=!n.ea.qR,n.Wst=null==(i=t.source)?void 0:i.poster,n.tr()},this.MW=function(){n.Hst=!0,n.be()},this.ea=t,this.$H(),this.Vs=function(){var t=f&&f.document&&f.document.createElement("div");return t.className="theoplayer-poster",yi(UM,t),t}(),t.we.appendChild(this.Vs)}var n=t.prototype;return n.tr=function(){var t=this.ea.qR,n=this.Hst;this.Gu?this.Vs.style.backgroundImage='url("'+Qs(this.Gu)+'")':this.Vs.style.backgroundImage="",t&&this.Gu&&!n?this.ge():this.be()},n.ge=function(){yi(WM,this.ea.we),yi(jM,this.Vs)},n.be=function(){yi(WM,this.Vs),yi(jM,this.ea.we)},n.$H=function(){this.ea.yn(fa.ao,this.Zst),this.ea.yn(fa.ro,this.MW)},n.gn=function(){this.ea.fn(fa.ao,this.Zst),this.ea.fn(fa.ro,this.MW),ai(this.Vs)},xt(t,[{key:"Gu",get:function(){return void 0!==this.Wst?this.Wst:void 0!==this.Ust?this.Ust:void 0}},{key:"Gst",set:function(t){this.Ust=t,this.tr()}}]),t}();U(),St(),Dt(),Ct(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),U(),St();var XM=function(t){return t[t.Xst=0]="Xst",t[t.zst=1]="zst",t}({});function GM(t){var n,i={get playing(){return t.Oc},get currentAds(){return t.qst.map((function(t){return t.Yst()}))},get currentAdBreak(){var n,i;return null!=(i=null==(n=t.Kst)?void 0:n.Yst())?i:null},get scheduledAds(){return t.jst.map((function(t){return t.Yst()}))},get scheduledAdBreaks(){return t.Qst.map((function(t){return t.Yst()}))},skip:function(){t.DD()},schedule:function(n){var i=lE(n,IS.Fg);i?t.u6(i,XM.Xst,!1):console.error("Invalid ad description")},registerServerSideIntegration:function(n,i){t.Jst(n,i)},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new gR(t,i),i}var HM=function(t){function n(n){var i,r;return(i=t.call(this)||this).su=void 0,i.Uc=n,null==(r=i.Uc)||r.iy(i.Ds),i}Rt(n,t);var i=n.prototype;return i.u6=function(t,n,i){var r;null==(r=this.Uc)||r.u6(t,n,i)},i.$st=function(t){var n;null==(n=this.Uc)||n.$st(t)},i.DD=function(){var t;null==(t=this.Uc)||t.DD()},i.tnt=function(t){var n;null==(n=this.Uc)||n.tnt(t)},i.Jst=function(t,n){var i;null==(i=this.Uc)||i.Jst(t,n)},i.gn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.$o(),void 0===n.Uc?[3,3]:(n.Uc._y(n.Ds),t?[3,2]:[4,n.Uc.gn()]);case 1:i.sent(),i.label=2;case 2:n.Uc=void 0,i.label=3;case 3:return[2]}}))}))()},xt(n,[{key:"Oc",get:function(){return!!this.Uc&&this.Uc.Oc}},{key:"qst",get:function(){return this.Uc?this.Uc.qst:[]}},{key:"Kst",get:function(){return this.Uc?this.Uc.Kst:null}},{key:"jst",get:function(){return this.Uc?this.Uc.jst:[]}},{key:"Qst",get:function(){return this.Uc?this.Uc.Qst:[]}},{key:"ka",get:function(){var t;return null!=(t=this.su)?t:this.su=GM(this)}}]),n}(ca);U(),St(),Ct(),U(),St(),Dt(),Ct();var zM=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).td=i,r}return Rt(n,t),n}(yg),YM=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).adBreak=i,r}return Rt(n,t),xt(n,[{key:"ad",get:function(){return this.adBreak}}]),n}(ha),KM=function(t){function n(n){return t.call(this,"ent",n)||this}return Rt(n,t),n.prototype.ba=function(){return new qM(this.td.Yst())},n}(zM),qM=function(t){function n(n){return t.call(this,"removeadbreak",n)||this}return Rt(n,t),n}(YM);U(),St(),Ct();var JM=function(t){function n(n){return t.call(this,"int",n)||this}return Rt(n,t),n.prototype.ba=function(){return new QM(this.td.Yst())},n}(zM),QM=function(t){function n(n){return t.call(this,"addadbreak",n)||this}return Rt(n,t),n}(YM);U(),St(),Ct(),U(),St(),Ct();var $M=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).snt=i,r}return Rt(n,t),n}(yg),tB=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ad=i,r}return Rt(n,t),n}(ha),nB=function(t){function n(n){return t.call(this,"nnt",n)||this}return Rt(n,t),n.prototype.ba=function(){return new iB(this.snt.Yst())},n}($M),iB=function(t){function n(n){return t.call(this,"addad",n)||this}return Rt(n,t),n}(tB);U(),St(),Ct();var rB=function(t){function n(n){return t.call(this,"rnt",n)||this}return Rt(n,t),n.prototype.ba=function(){return new eB(this.td.Yst())},n}(zM),eB=function(t){function n(n){return t.call(this,"adbreakend",n)||this}return Rt(n,t),n}(YM);U(),St(),Ct();var uB=function(t){function n(n){return t.call(this,"ont",n)||this}return Rt(n,t),n.prototype.ba=function(){return new sB(this.td.Yst())},n}(zM),sB=function(t){function n(n){return t.call(this,"adbreakbegin",n)||this}return Rt(n,t),n}(YM);U(),St(),Ct();var oB=function(t){function n(n,i){var r;return(r=t.call(this,"hnt",n)||this).currentTime=i,r}return Rt(n,t),n.prototype.ba=function(){return new aB(this.snt.Yst(),this.currentTime)},n}($M),aB=function(t){function n(n,i){var r;return(r=t.call(this,"adbegin",n)||this).currentTime=i,r}return Rt(n,t),n}(tB);U(),St(),Ct();var cB=function(t){function n(n,i){var r;return(r=t.call(this,"ant",n)||this).currentTime=i,r}return Rt(n,t),n.prototype.ba=function(){return new hB(this.snt.Yst(),this.currentTime)},n}($M),hB=function(t){function n(n,i){var r;return(r=t.call(this,"adend",n)||this).currentTime=i,r}return Rt(n,t),n}(tB);U(),St(),Ct();var fB=function(t){function n(){return t.call(this,"unt")||this}return Rt(n,t),n.prototype.ba=function(){return new vB},n}(yg),vB=function(t){function n(){return t.call(this,"adadded")||this}return Rt(n,t),n}(ha),lB=function(t){function n(n){var i;return(i=t.call(this,void 0)||this).ea=n,i}return Rt(n,t),xt(n,[{key:"fC",get:function(){return this.Uc},set:function(t){var n=this.Uc;if(n!==t){var i=this.qst,r=this.Kst,e=this.jst,u=this.Qst;null==n||n._y(this.Ds),this.Uc=t,null==t||t.iy(this.Ds);for(var s=this.qst,o=this.Kst,a=this.jst,c=this.Qst,h=[],f=!1,v=0;v<u.length;v++){var l=u[v];Ao(c,l)||h.push(new KM(l))}for(var d=0;d<c.length;d++){var g=c[d];Ao(u,g)||h.push(new JM(g))}for(var m=0;m<a.length;m++){var w=a[m];Ao(e,w)||(h.push(new nB(w)),f=!0)}f&&h.push(new fB),r!==o&&(r&&h.push(new rB(r)),o&&h.push(new uB(o)));for(var p=0;p<i.length;p++){var y=i[p];Ao(s,y)||h.push(new cB(y,this.ea.kR()))}for(var _=0;_<s.length;_++){var b=s[_];Ao(i,b)||h.push(new oB(b,this.ea.kR()))}for(var k=0;k<h.length;k++){var A=h[k];this.wo(A)}}}}]),n}(HM);U(),St(),Gt(),Ct(),Jt(),U(),St(),Dt(),Ct();var dB=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Oc=!1,n.Kst=null,n.qst=[],n.Qst=[],n.jst=[],n.su=void 0,n}Rt(n,t);var i=n.prototype;return i.tnt=function(t){},i.Jst=function(t,n){},i.u6=function(t,n,i){},i.DD=function(){},i.$st=function(t){},i.gn=function(){return this.$o(),ut.resolve()},xt(n,[{key:"ka",get:function(){var t;return null!=(t=this.su)?t:this.su=GM(this)}}]),n}(ca),gB=function(t){function n(){var n;return(n=t.apply(this,arguments)||this)._nt=[],n.cnt=[],n}Rt(n,t);var i=n.prototype;return i.u6=function(t,n,i){this.cnt.push({lnt:t,dnt:n,fnt:i})},i.DD=function(){},i.tnt=function(t){},i.Jst=function(t,n){this._nt.push({rP:t,vnt:n})},i.$st=function(t){var n=this._nt.slice(),i=this.cnt.slice();this.er();for(var r=0;r<n.length;r++){var e=n[r];t.Jst(e.rP,e.vnt)}for(var u=0;u<i.length;u++){var s=i[u];t.u6(s.lnt,s.dnt,s.fnt)}},i.mnt=function(){var t=this.cnt.map((function(t){return t.lnt}));return this.er(),t},i.er=function(){So(this._nt),So(this.cnt)},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.er(),[4,t.prototype.gn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(dB);U(),St(),Ct();var mB,wB=function(t){function n(n){var i;return(i=t.call(this,"tizen2retry")||this).originalErrorEvent=n,i}return Rt(n,t),n}(ha);function pB(){if(!mB){var t=DM;t=function(t){return function(n){function i(i,r){for(var e=new t(i,r),u=0;u<Yk.length;u++){var s=Yk[u];if(Jk[s])for(var o=0,a=Jk[s];o<a.length;o++)e=(0,a[o])(e)}return n.call(this,e)||this}return Rt(i,n),i}(Hk)}(t);var n=function(t){return function(n){function i(i,r){var e;return(e=n.call(this)||this).Cnt=!0,e.g7=Cy.$B,e.xnt=!1,e.eZ=void 0,e.zG=void 0,e.AZ=void 0,e.bnt=function(t){t.type!==fa.zy&&e.Rnt.push(t)},e.Pnt=function(t){(t.type!==fa.ro||e.ea.qR)&&(t.type===fa.Zy&&e.ea.qR||t.type===fa.jy&&e.ea.hI&&e.ea.kR()===t.currentTime||t.type===fa.zy&&e.ea.KR===t.playbackRate||e.wo(t))},e.NI=function(t){if(e.xnt){if(t.type===Ey.FL)return;t.type!==Ey.ML&&t.type!==Ey.VL||(e.xnt=!1)}if(t.type===fa.ro){if(!e.Cnt)return;e.Cnt=!1}else if(t.type===fa.Zy){if(e.Cnt)return;e.Cnt=!0}else if(t.type===Ey.tC){if(e.g7===t.readyState)return;e.g7=t.readyState}else if(t.type===fa.Ey)return;e.wo(t)},e.gnt=new t(i,r),e.Int=new VM,e.ea=e.gnt,e.wnt=new ZM(e),e.gnt.qc&&(e.Uc=new lB(e),e.Uc.fC=e.gnt.qc,e.Dnt=new gB),e.Qo=new dl,e.Rnt=[],e.rZ=!0,e.$H(),e}Rt(i,n);var r=i.prototype;return r.jR=function(){return this.gnt.KR},r.QR=function(t){this.ea.KR=t},r.Jo=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,i.Qo.Jo(t,n).catch(Xo)]}))}))()},r.ynt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:jo(n),i.gnt.iy(i.bnt),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,i.gnt.xa(t,n)];case 2:return r.sent(),[3,4];case 3:return i.gnt._y(i.bnt),[7];case 4:return[2]}}))}))()},r.pnt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.Ant()];case 1:return n=i.sent(),t.Snt(n),[2]}}))}))()},r.Ant=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return(n=t.tu())&&!nE(n)&&t.bO&&t.qR?[2,t.ust.Tnt(t.GR)]:[2,"none"]}))}))()},r.Snt=function(t){var n,i=(null==(n=this.tu())?void 0:n.mutedAutoplay)||this.bd.mutedAutoplay;switch(t){case"all":this.Vst();break;case"muted":(this.GR||i===NT.ALL)&&(this.GR=!0,this.kI())}},r.xa=function(t){nE(this.eZ)||this.wo(new wT(0,Cy.$B)),this.er(),this.eZ=t;var n=this;ta(this.Jo(Zt((function(i){var r,e;return Ht(this,(function(u){switch(u.label){case 0:jo(i),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,n.ynt(t,i)];case 2:return u.sent(),[3,5];case 3:return Zo(r=u.sent()),n.eZ=void 0,n.MH(ol(r,el.SOURCE_NOT_SUPPORTED)),[2];case 4:return n.knt(n.gnt),[7];case 5:return[4,n.Ant()];case 6:return e=u.sent(),n.wo(new FM(n.tu())),n.Snt(e),[2]}}))}))))},r.ER=function(t,n){this.ea.ER(t,n)},r.PR=function(){var t;return null!=(t=this.AZ)?t:this.gnt.PR()},r.NR=function(){var t;return null!=(t=this.zG)?t:this.gnt.NR()},r.MH=function(t){void 0===this.NR()&&(this.zG=t,this.AZ=am(t),this.wo(new Ek(t)))},r.kI=function(){this.ea.kI()},r.Vst=function(){this.GR||this.SI(),this.kI()},r.SI=function(){this.gnt.SI()},r.TI=function(){this.ea.TI()},r.EI=function(){this.xa(void 0)},r.ge=function(){this.rZ=!0,this.ea.ge()},r.be=function(){this.rZ=!1,this.ea.be()},r.Ma=function(){this.gnt.Ma()},r.gI=function(t){this.gnt.gI(t)},r.ZR=function(t){this.gnt.ZR(t)},r.Aa=function(t){this.Ent=t,t.YJ(this)},r.cs=function(){return this.gnt.cs()},r.tu=function(){return this.eZ},r.AI=function(){return this.gnt.AI()},r.kR=function(){return this.ea.kR()},r.mst=function(){return this.ea.mst()},r.Sd=function(){return this.gnt.Sd()},r.pR=function(){return this.gnt.pR()},r.$R=function(){return this.gnt.$R()},r.oI=function(){return this.gnt.oI()},r.CI=function(){this.gnt.CI()},r.DI=function(){this.gnt.DI()},r.LI=function(t){return this.gnt.LI(t)},r.er=function(){this.eZ=void 0,this.zG=void 0,this.AZ=void 0,this.xnt=!0,So(this.Rnt),this.Int.er(),this.knt(this.Int),this.Qo.Yw();var t=this;ta(this.Qo.Jo(Zt((function(n){return Ht(this,(function(i){switch(i.label){case 0:return jo(n),[4,t.gnt.EI()];case 1:return i.sent(),[2]}}))}))))},r.gn=function(){this.wo(new xM),this.wnt.gn(),this.tZ(),this.er();var t=this;ta(this.Jo(Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.gnt.gn()];case 1:return n.sent(),t.Ent&&(t.Ent.$S(t),t.Ent=void 0),t.Qo.gn(),[2]}}))})))),this.$o()},r.knt=function(t){if(this.ea!==t){var n=this.ea.qR,i=this.ea.kR(),r=this.ea.KR,e=this.ea.sI,u=this.ea.hI;this.Cnt=n,this.g7=e,this.tZ(),t.iy(this.Pnt),t===this.gnt?(void 0!==this.Uc&&(this.Uc.fC=t.qc,this.Dnt.$st(this.Uc)),(u||t.kR()!==i)&&t.ER(i),t.KR!==r&&(t.KR=r),n?t.TI():t.kI()):(void 0!==this.Uc&&(this.Uc.fC=this.Dnt,this.Dnt.er()),this.bd.retainPlaybackRateOnSourceChange?t.KR=r:1!==r&&this.wo(new bT(this.kR(),1))),t._y(this.Pnt),this.ea=t,this.$H();for(var s=0,o=this.Rnt;s<o.length;s++){var a=o[s];this.wo(a)}So(this.Rnt),this.rZ?t.ge():t.be()}},r.$H=function(){this.ea.iy(this.NI)},r.tZ=function(){this.ea._y(this.NI)},r.ba=function(){return LM(this)},xt(i,[{key:"Ast",get:function(){return this.gnt.Ast}},{key:"qc",get:function(){return this.Uc}},{key:"yst",get:function(){return this.gnt.yst}},{key:"bd",get:function(){return this.gnt.bd}},{key:"lR",get:function(){return this.gnt.lR}},{key:"Ca",get:function(){return this.gnt.Ca}},{key:"lH",get:function(){return this.gnt.lH}},{key:"wst",get:function(){return this.gnt.wst}},{key:"dst",get:function(){return this.gnt.dst}},{key:"ja",get:function(){return this.gnt.ja}},{key:"hst",get:function(){return this.gnt.hst}},{key:"bO",get:function(){return this.gnt.bO},set:function(t){this.gnt.bO=t,this.pnt()}},{key:"ust",get:function(){return this.gnt.ust}},{key:"ht",get:function(){return this.gnt.ht}},{key:"xz",get:function(){return this.gnt.xz}},{key:"Lu",get:function(){return this.gnt.dst}},{key:"ka",get:function(){return this.su||(this.su=this.ba()),this.su}},{key:"MR",get:function(){return this.gnt.MR}},{key:"yI",get:function(){return this.gnt.yI},set:function(t){this.gnt.yI=t}},{key:"WR",get:function(){return this.gnt.WR}},{key:"HX",get:function(){return this.gnt.HX}},{key:"nt",get:function(){return this.gnt.nt}},{key:"zl",get:function(){return this.gnt.zl}},{key:"rt",get:function(){return this.gnt.rt}},{key:"vst",get:function(){return this.gnt.vst}},{key:"tQ",get:function(){return this.gnt.tQ}},{key:"wR",get:function(){return this.ea.wR},set:function(t){this.ea.wR=t}},{key:"bt",get:function(){return this.gnt.bt}},{key:"we",get:function(){return this.gnt.we}},{key:"RR",get:function(){return this.gnt.RR}},{key:"GR",get:function(){return this.gnt.GR},set:function(t){this.ZR(t)}},{key:"qR",get:function(){return this.ea.qR}},{key:"mi",get:function(){return this.wnt.Gu||""},set:function(t){this.wnt.Gst=t}},{key:"KR",get:function(){return this.jR()},set:function(t){this.QR(t)}},{key:"tI",get:function(){return this.gnt.tI},set:function(t){this.gnt.tI=t}},{key:"sI",get:function(){return this.ea.sI}},{key:"Ta",get:function(){return this.gnt.Ta},set:function(t){this.gnt.Ta=t}},{key:"hI",get:function(){return this.ea.hI}},{key:"Ist",get:function(){return this.gnt.Ist}},{key:"Pst",get:function(){return this.gnt.Pst}},{key:"xC",get:function(){return this.gnt.xC}},{key:"cI",get:function(){return this.gnt.cI}},{key:"fI",get:function(){return this.gnt.fI}},{key:"vI",get:function(){return this.gnt.vI},set:function(t){this.gI(t)}},{key:"pI",get:function(){return this.gnt.pI}},{key:"gst",get:function(){return this.gnt.gst}},{key:"Po",get:function(){return this.gnt.Po}}]),i}(ca)}(t);Gn.Im&&Gn.Pm<3&&(n=function(t){return function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Nnt=0,n}Rt(n,t);var i=n.prototype;return i.xa=function(n){this.Nnt=0,t.prototype.xa.call(this,n)},i.wo=function(n){if(n.type===zp.da&&this.Nnt<3)return this.Nnt++,t.prototype.wo.call(this,new wB(n)),void t.prototype.xa.call(this,this.tu());t.prototype.wo.call(this,n)},n}(t)}(n)),n=function(t){for(var n=t,i=0;i<Yk.length;i++){var r=Yk[i];if(Kk[r])for(var e=0,u=Kk[r];e<u.length;e++)n=(0,u[e])(n)}return n}(n),mB=n}return mB}function yB(t,n){var i=DT(n),r=new(pB())(t,i);r.Ta=r;var e=r.ka;return r.Ma(),r.Aa(OM),k.defineProperty(e,"constructor",{value:yB}),e=Dg(e),tA(r),e}$o((function(){self.dispatchEvent&&self.dispatchEvent(MM("theoplayerready"))})),U(),St();var _B=function(){function t(){}var n=t.prototype;return n.encode=function(t){return Ra(t)},n.decode=function(t){return Sa(t)},t}(),bB={base64:new _B};U(),St();var kB=JSON.parse('["hbbtv","dash","hesp","millicast","hls","chromecast","ads","theoads","airplay","spotx","vr","cache","webaudio","youbora","mediamelon","moat","google-dai","streamone","lcevc","freewheel","agama","uplynk","mediatailor","ui","relatedcontent","social","upnext","contextmenu","texttrackstyle-ui","activequalitylabel","upcomingadnotification"]'),AB="9.2.0",TB=OM.ka,SB=f_._P.registerContentProtectionIntegration.bind(f_._P);U(),St(),U(),St(),U(),St(),U(),St(),Gt(),Jt();var EB=function(){function t(t){this._Z=t,this.Qnt=new dl}var n=t.prototype;return n.Tnt=function(t){var n=this;return this.Qnt.Jo((function(){return n.Jnt(t)}))},n.SI=function(){this._Z.fZ()},n.Jnt=function(n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=i._Z.LH(im._E),e=r.YG,[4,t.$nt(e,n)];case 1:return u=s.sent(),[4,i._Z.pH(r)];case 2:return s.sent(),[2,u]}}))}))()},n.gn=function(){this.Qnt.gn()},t.$nt=function(n,i){return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return Gn.Nm||Gn.Im?[2,"all"]:(n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),[4,t.trt()]);case 1:return e.sent(),(r=!i)?[4,t.ert(n,!1)]:[3,3];case 2:r=e.sent(),e.label=3;case 3:return r?[2,"all"]:[4,t.ert(n,!0)];case 4:return e.sent()?[2,"muted"]:[2,"none"]}}))}))()},t.ert=function(t,n){return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:t.muted=n,i=t.play(),e.label=1;case 1:return e.trys.push([1,3,4,5]),ri(i)?(r=ra(250),[4,ut.race([i,r])]):[2,!Gn.Qs];case 2:return e.sent(),[2,!0];case 3:return e.sent(),[2,!1];case 4:return t.pause(),t.muted=!0,[7];case 5:return[2]}}))}))()},t.trt=function(){return new ut((function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else g(t,0)}))},t}(),IB={pY:function(t){f.addEventListener("beforeunload",t)},_Y:function(t){f.removeEventListener("beforeunload",t)}},RB={Unt:mM,jnt:EB,irt:IB};U(),St();var CB=function(){function t(){}var n=t.prototype;return n.Tnt=function(t){return ut.resolve("all")},n.SI=function(){},n.gn=function(){},t}();(function(t){qT=t.Unt,JT=t.jnt,QT=t.irt})(Gn.Lm&&Gn.Om?us({},RB,{jnt:CB}):RB),U(),St(),U(),St(),Ct(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Jt();var NB=function(){function t(){}var n=t.prototype;return n.BH=function(t){return Zt((function(){return Ht(this,(function(n){return[2,$A(t.type)]}))}))()},n.OH=function(t){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,N_(t,!0)];case 1:return n.sent()?[2,!0]:[2,!1]}}))}))()},t}(),xB=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.BH=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){return Ur(n.useManagedMediaSource)?[2,t.prototype.BH.call(i,n)]:[2,!1]}))}))()},n}(NB);function DB(t){return bd(t)}function PB(t,n){var i=bd(t);return n?""+i+n:""+i}U(),St(),Gt(),Jt(),U(),St();var MB=function(){function t(t,n,i,r){this.ort=t,this.art=n,this.crt=i,this.lrt=r}var n=t.prototype;return n.nrt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.ort.rrt(t.map(DB))];case 1:return[2,i.sent().shift()]}}))}))()},n.hrt=function(t,n){var i=PB(t,n);return this.art.Db(i)},n.urt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return e=PB(t,n),[4,i.crt.Nb(e)];case 1:return[2,null==(r=u.sent())?void 0:r.data]}}))}))()},n.xQ=function(t){return this.lrt.Nb(t)},t}();U(),St(),Dt(),U(),St(),U(),St();var BB=function(){function t(){}var n=t.prototype;return n.drt=function(t){return ut.resolve(!1)},n.frt=function(t){return ut.reject(OB)},n._rt=function(t){return ut.reject(OB)},n.Db=function(t){return ut.resolve(!1)},n.Nb=function(t){return ut.resolve(void 0)},n.vrt=function(t,n){return ut.resolve(void 0)},n.rrt=function(t){return ut.resolve([])},n.mrt=function(){return ut.resolve([])},n.grt=function(t){return ut.resolve([])},n.prt=function(t,n){return ut.resolve([])},n.$S=function(t){return ut.reject(OB)},n.wrt=function(t){return ut.reject(OB)},n.yrt=function(){return ut.reject(OB)},t}(),OB="Storage disabled",LB=function(){function t(){this.xrt=new BB,this.Ert=new BB,this.Rrt=new BB,this.Irt=new BB,this.Crt=new BB}return t.prototype.Trt=function(t){return ut.reject(FB)},t.fit=function(){return ut.resolve(new t)},t}(),FB="Storage disabled";U(),St(),Gt(),Jt(),U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),Dt(),Jt();var VB=function(){function t(t){var n=this;this.qw=new Yc,this.Art=void 0,this.qw.Kw(t),this.qw.Vb.then((function(t){n.Art=t}))}var n=t.prototype;return n.drt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Art)?[3,2]:[4,n.brt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.drt(t)]}}))}))()},n.frt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return(r=i.Art)?[3,2]:[4,i.brt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.frt(t,n)]}}))}))()},n._rt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return(r=i.Art)?[3,2]:[4,i.brt];case 1:r=e.sent(),e.label=2;case 2:return[2,r._rt(t,n)]}}))}))()},n.Db=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Art)?[3,2]:[4,n.brt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Db(t)]}}))}))()},n.Nb=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Art)?[3,2]:[4,n.brt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.Nb(t)]}}))}))()},n.vrt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return(r=i.Art)?[3,2]:[4,i.brt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.vrt(t,n)]}}))}))()},n.rrt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Art)?[3,2]:[4,n.brt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.rrt(t)]}}))}))()},n.mrt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(n=t.Art)?[3,2]:[4,t.brt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.mrt()]}}))}))()},n.grt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Art)?[3,2]:[4,n.brt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.grt(t)]}}))}))()},n.prt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return(r=i.Art)?[3,2]:[4,i.brt];case 1:r=e.sent(),e.label=2;case 2:return[2,r.prt(t,n)]}}))}))()},n.$S=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Art)?[3,2]:[4,n.brt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.$S(t)]}}))}))()},n.wrt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.Art)?[3,2]:[4,n.brt];case 1:i=r.sent(),r.label=2;case 2:return[2,i.wrt(t)]}}))}))()},n.yrt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(n=t.Art)?[3,2]:[4,t.brt];case 1:n=i.sent(),i.label=2;case 2:return[2,n.yrt()]}}))}))()},xt(t,[{key:"brt",get:function(){return this.qw.Vb}}]),t}(),UB=function(){function t(t){var n=this;this.qw=new Yc,this.krt=void 0,this.qw.Kw(t);var i=this.qw.Vb;i.then((function(t){n.krt=t})),this.Ert=new VB(i.then((function(t){return t.Ert}))),this.xrt=new VB(i.then((function(t){return t.xrt}))),this.Rrt=new VB(i.then((function(t){return t.Rrt}))),this.Irt=new VB(i.then((function(t){return t.Irt}))),this.Crt=new VB(i.then((function(t){return t.Crt})))}return t.prototype.Trt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return(i=n.krt)?[3,2]:[4,n.Srt];case 1:i=r.sent(),r.label=2;case 2:return[4,i.Trt(t)];case 3:return[2,r.sent()]}}))}))()},xt(t,[{key:"Srt",get:function(){return this.qw.Vb}}]),t}();function WB(t){return new y("This storage cannot handle persistency type "+t)}U(),St(),U(),St(),Wt(),U(),St();var jB=function(t){return t.Prt="readonly",t.Drt="readwrite",t}({}),ZB=function(){function t(){this.mA=[]}var n=t.prototype;return n.drt=function(t){return ut.resolve("temporary"===t)},n.frt=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?ut.reject(WB(n)):(this.Nrt(t.key),this.mA.push(t),ut.resolve())},n._rt=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return ut.reject(WB(n));for(var i=0;i<t.length;i++){var r=t[i];this.Nrt(r.key)}for(var e=0;e<t.length;e++){var u=t[e];this.mA.push(u)}return ut.resolve()},n.Db=function(t){return ut.resolve(Boolean(this.Mrt(t)))},n.Nb=function(t){return ut.resolve(this.Mrt(t))},n.vrt=function(t,n){return ut.resolve(this.Lrt(t,n))},n.rrt=function(t){var n=this,i=t?t.map((function(t){return n.Mrt(t)})):this.mA;return ut.resolve(i.filter(Yn))},n.mrt=function(){return ut.resolve(Ut(this.mA))},n.grt=function(t){return this.prt(t,"key")},n.prt=function(t,n){var i=this.mA.filter((function(i){return i[n]===t}));return ut.resolve(i)},n.$S=function(t){return this.Nrt(t),ut.resolve()},n.wrt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Nrt(i)}return ut.resolve()},n.yrt=function(){return So(this.mA),ut.resolve()},n.Mrt=function(t){return this.Lrt(t,"key")},n.Lrt=function(t,n){for(var i=0,r=this.mA;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},n.Nrt=function(t){var n=this.Mrt(t);n&&_o(this.mA,n)},t}(),XB=function(){function t(){this.xrt=new ZB,this.Ert=new ZB,this.Rrt=new ZB,this.Irt=new ZB,this.Crt=new ZB}return t.prototype.Trt=function(t){return t(this)},t.fit=function(){return ut.resolve(new t)},t}();U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),Wt(),Jt();var GB=function(){function t(t){this.Brt=t}var n=t.prototype;return n.drt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,r=n.Brt,e.label=1;case 1:return i<r.length?[4,r[i].drt(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.frt=function(t,n){void 0===n&&(n="persistent");var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=0,e=i.Brt,s.label=1;case 1:return r<e.length?[4,(u=e[r]).drt(n)]:[3,4];case 2:if(s.sent())return[2,u.frt(t)];s.label=3;case 3:return r++,[3,1];case 4:throw WB(n)}}))}))()},n._rt=function(t,n){void 0===n&&(n="persistent");var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=0,e=i.Brt,s.label=1;case 1:return r<e.length?[4,(u=e[r]).drt(n)]:[3,4];case 2:if(s.sent())return[2,u._rt(t)];s.label=3;case 3:return r++,[3,1];case 4:throw WB(n)}}))}))()},n.Db=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,r=n.Brt,e.label=1;case 1:return i<r.length?[4,r[i].Db(t)]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return i++,[3,1];case 4:return[2,!1]}}))}))()},n.Nb=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:i=0,r=n.Brt,u.label=1;case 1:return i<r.length?[4,r[i].Nb(t)]:[3,4];case 2:if(e=u.sent())return[2,e];u.label=3;case 3:return i++,[3,1];case 4:return[2,void 0]}}))}))()},n.vrt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=0,e=i.Brt,s.label=1;case 1:return r<e.length?[4,e[r].vrt(t,n)]:[3,4];case 2:if(u=s.sent())return[2,u];s.label=3;case 3:return r++,[3,1];case 4:return[2,void 0]}}))}))()},n.rrt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:i=[],r=0,e=n.Brt,h.label=1;case 1:return r<e.length?(u=e[r],a=(o=(s=i).push).apply,c=[s],[4,u.rrt(t)]):[3,4];case 2:a.apply(o,c.concat([Ut.apply(void 0,[h.sent()])])),h.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.mrt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:n=[],i=0,r=t.Brt,c.label=1;case 1:return i<r.length?(e=r[i],o=(s=(u=n).push).apply,a=[u],[4,e.mrt()]):[3,4];case 2:o.apply(s,a.concat([Ut.apply(void 0,[c.sent()])])),c.label=3;case 3:return i++,[3,1];case 4:return[2,n]}}))}))()},n.grt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:i=[],r=0,e=n.Brt,h.label=1;case 1:return r<e.length?(u=e[r],a=(o=(s=i).push).apply,c=[s],[4,u.grt(t)]):[3,4];case 2:a.apply(o,c.concat([Ut.apply(void 0,[h.sent()])])),h.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.prt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:r=[],e=0,u=i.Brt,f.label=1;case 1:return e<u.length?(s=u[e],c=(a=(o=r).push).apply,h=[o],[4,s.prt(t,n)]):[3,4];case 2:c.apply(a,h.concat([Ut.apply(void 0,[f.sent()])])),f.label=3;case 3:return e++,[3,1];case 4:return[2,r]}}))}))()},n.$S=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,r=n.Brt,e.label=1;case 1:return i<r.length?[4,r[i].$S(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.wrt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,r=n.Brt,e.label=1;case 1:return i<r.length?[4,r[i].wrt(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.yrt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=0,i=t.Brt,r.label=1;case 1:return n<i.length?[4,i[n].yrt()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))()},t}();function HB(t){return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,ut.all(t.map((function(t){return t()})))];case 1:return n=i.sent(),[2,zB.fit(n)]}}))}))}var zB=function(){function t(t){this.Grt=t,this.Ort=new GB(t.map((function(t){return t.Irt}))),this.Frt=new GB(t.map((function(t){return t.Crt}))),this.Vrt=new GB(t.map((function(t){return t.Rrt}))),this.Wrt=new GB(t.map((function(t){return t.xrt}))),this.Urt=new GB(t.map((function(t){return t.Ert})))}return t.prototype.Trt=function(n){var i=this;if(0===this.Grt.length)return n(this);var r=[],e=0,u=function(s){return r.push(s),++e<i.Grt.length?i.Grt[e].Trt(u):n(new t(r))};return this.Grt[e].Trt(u)},t.fit=function(n){return ut.resolve(new t(n))},xt(t,[{key:"Irt",get:function(){return this.Ort}},{key:"Crt",get:function(){return this.Frt}},{key:"Rrt",get:function(){return this.Vrt}},{key:"xrt",get:function(){return this.Wrt}},{key:"Ert",get:function(){return this.Urt}}]),t}(),YB=function(){function t(t){this.qrt=[],this.zrt=!0,this.Yrt=t}var n=t.prototype;return n.fit=function(){return new UB(this.Xrt())},n.Xrt=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return t.zrt?[4,ut.resolve()]:[3,2];case 1:e.sent(),t.zrt=!1,e.label=2;case 2:n=0,i=t.qrt,e.label=3;case 3:if(!(n<i.length))return[3,8];r=i[n],e.label=4;case 4:return e.trys.push([4,6,,7]),[4,HB([XB.fit,r])()];case 5:return[2,e.sent()];case 6:return e.sent(),[3,7];case 7:return n++,[3,3];case 8:return[4,HB([XB.fit,t.Yrt])()];case 9:return[2,e.sent()]}}))}))()},n.Aa=function(t){if(!this.zrt)throw new y("Registration overdue");this.qrt.push(t)},t}(),KB=function(){function t(){}return t.Aa=function(n){t.TG.Aa(n)},xt(t,null,[{key:"Fg",get:function(){return t.Hrt||(t.Hrt=t.TG.fit()),t.Hrt}}]),t}();function qB(t){return void 0!==t.cI}function JB(t){var n=Gn.Nm||Gn.Im,i=void 0!==t&&void 0!==t.preferredAudioCodecs&&t.preferredAudioCodecs.some((function(t){return"ac-3"===t||"ec-3"===t})),r=n&&!i,e=new Vr(!0);return Zt((function(t){var n,i,u;return Ht(this,(function(s){switch(s.label){case 0:return n=t.Dk,e.wp(n)||function(t,n){return!!t&&(Ov(t)?uy(n)||oy(n):js(t,Bv.APPLICATION_TTML_XML)||js(t,Bv.TEXT_VTT)||js(t,Bv.IMAGE_JPEG))}(t.Yq,t.Zrt)?(i=t.Zrt.some((function(t){return"ac-3"===t||"ec-3"===t})),r&&i?[2,!1]:t.AG?(u=t.AG,[4,Mo(Io(u,(function(t){return Us(t.i9)})).filter(Yn),(function(t){return qn.Yp(t,n)}))]):[3,2]):[2,!1];case 1:if(!s.sent())return[2,!1];s.label=2;case 2:return[2,!0]}}))}))}KB.TG=new YB(LB.fit),KB.Hrt=void 0,U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),U(),St(),Gt(),Jt(),U(),St(),Dt();var QB=function(){function t(t){this.Krt=t}return xt(t,[{key:"Ti",get:function(){return this.Krt.offsetHeight*qn.Ys.Yg}},{key:"ji",get:function(){return this.Krt.offsetWidth*qn.Ys.Yg}}]),t}();U(),St(),Dt();var $B=function(){function t(t,n){this.Ll=new Qp,this.f8=new zx(t,n)}var n=t.prototype;return n.LI=function(t,n,i,r,e,u,s,o){var a=new YN(t,n,i,r,e,u,s,void 0,o);return this.Ll.tt(a),this.f8.tt(a),a},n._W=function(t){this.Ll.it(t),this.f8.it(t),t.gn()},n.dH=function(t){var n=new pD(t.Lt,t.xh,t.gs);return this.Ll.tt(n),this.f8.tt(n),n},n.er=function(){for(var t=0,n=this.Ll.uC.slice();t<n.length;t++){n[t].gn()}this.Ll.er(),this.f8.er()},n.gn=function(){this.er(),this.Ll.gn(),this.f8.gn()},xt(t,[{key:"nt",get:function(){return this.Ll}}]),t}();U(),St(),Gt(),Ct(),Jt(),U(),St();var tO=function(){function t(t){this.TG=t}var n=t.prototype;return n.LH=function(t){return this.TG.LH(t)},n.qnt=function(t){return this.TG.qnt(t)},n.pH=function(t){return this.TG.pH(t)},t}();U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Gt(),Dt(),Ct(),Jt();var nO=function(t){function n(n){var i;return(i=t.call(this)||this).jG=void 0,i.iot=new aA,i.lot=function(t){return i.NI(t)},i.FB=n,i.iot.fC=n.nt,i.FB.yn(VR,i.lot),i}Rt(n,t);var i=n.prototype;return i.pR=function(){return this.FB.gR},i.yR=function(){return this.FB.wR},i.kR=function(){return this.FB.SR},i.Sd=function(){return this.FB.ct},i.Qrt=function(){return this.FB.QG},i.Jrt=function(){return this.FB.RR},i.bI=function(){return this.FB.Ca},i.Sa=function(){return this.FB.lH},i.$rt=function(){return this.FB.qR},i.$R=function(){return this.FB.JR},i.nI=function(){return this.FB.sI},i.oI=function(){return this.FB.rI},i.aI=function(){return this.FB.hI},i.tot=function(){return this.FB.E4},i.eot=function(){return this.FB.O4},i.uI=function(){return this.iot},i.G7=function(){return this.FB.zl},i.rot=function(){return this.FB.gH},i.oot=function(t){this.FB.gH=t},i.hot=function(t){this.FB.m7=t},i.aot=function(){return this.FB.J6},i.UR=function(){return this.FB.UR()},i.kI=function(){return this.FB.kI()},i.TI=function(){this.FB.TI()},i.Eb=function(t,n,i){this.FB.Eb(t,n,i)},i.ZG=function(t){this.FB.ZG(t)},i.ge=function(){this.FB.ge()},i.be=function(){this.FB.be()},i.LI=function(t,n,i,r,e,u,s,o){return this.FB.LI(t,n,i,r,e,u,s,o)},i.dH=function(t){return this.FB.dH(t)},i.hH=function(){return this.FB.hH()},i.uH=function(t,n,i,r,e){return this.FB.uH(t,n,i,r,e)},i._W=function(t){this.FB._W(t)},i.fH=function(){this.FB.fH()},i.DJ=function(t){return this.FB.DJ(t)},i.Dn=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return[4,n.FB.Dn(t)];case 1:return i=e.sent(),r=t.Aw===Sy.mW?n.uot(i):n.cot(i),n.jG=r,[2,r]}}))}))()},i.er=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.jG?[4,t.jG.Hw()]:[3,2];case 1:n.sent(),t.jG=void 0,n.label=2;case 2:return[4,t.FB.er()];case 3:return n.sent(),[2]}}))}))()},i.u7=function(){this.FB.u7()},i.l7=function(){this.FB.l7()},i.Hw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.$o(),t.FB.fn(VR,t.lot),t.iot.fC=void 0,t.iot.gn(),t.jG?[4,t.jG.Hw()]:[3,2];case 1:n.sent(),t.jG=void 0,n.label=2;case 2:return[2]}}))}))()},i._7=function(){this.FB._7()},i.dot=function(t){this.FB.fn(VR,this.lot),this.FB=t,this.iot.fC=t.nt,this.FB.yn(VR,this.lot)},i.NI=function(t){this.wo(t)},xt(n,[{key:"jrt",get:function(){return this.FB}},{key:"gR",get:function(){return this.pR()}},{key:"wR",get:function(){return this.yR()}},{key:"SR",get:function(){return this.kR()}},{key:"Lu",get:function(){return this.FB.Lu}},{key:"ct",get:function(){return this.Sd()}},{key:"QG",get:function(){return this.Qrt()}},{key:"RR",get:function(){return this.Jrt()}},{key:"lt",get:function(){return this.FB.lt}},{key:"Ti",get:function(){return this.FB.Ti}},{key:"ji",get:function(){return this.FB.ji}},{key:"Ca",get:function(){return this.bI()}},{key:"lH",get:function(){return this.Sa()}},{key:"GR",get:function(){return this.FB.GR},set:function(t){this.FB.GR=t}},{key:"qR",get:function(){return this.$rt()}},{key:"KR",get:function(){return this.FB.KR},set:function(t){this.FB.KR=t}},{key:"JR",get:function(){return this.$R()}},{key:"sI",get:function(){return this.nI()}},{key:"rI",get:function(){return this.oI()}},{key:"hI",get:function(){return this.aI()}},{key:"E4",get:function(){return this.tot()}},{key:"O4",get:function(){return this.eot()}},{key:"nt",get:function(){return this.uI()}},{key:"zl",get:function(){return this.G7()}},{key:"M9",get:function(){return this.FB.M9}},{key:"vI",get:function(){return this.FB.vI},set:function(t){this.FB.vI=t}},{key:"d7",get:function(){return this.FB.d7}},{key:"OR",get:function(){return this.FB.OR}},{key:"XB",get:function(){return this.FB.XB}},{key:"gH",get:function(){return this.rot()},set:function(t){this.oot(t)}},{key:"m7",get:function(){return this.FB.m7},set:function(t){this.hot(t)}},{key:"J6",get:function(){return this.aot()}}]),n}(oa),iO=function(t){function n(n){return t.call(this,n)||this}Rt(n,t);var i=n.prototype;return i.v7=function(t){this.FB.v7(t)},i.CI=function(){this.FB.CI()},xt(n,[{key:"YG",get:function(){return this.FB.YG}},{key:"N4",get:function(){return this.FB.N4}},{key:"yI",get:function(){return this.FB.yI},set:function(t){this.FB.yI=t}}]),n}(nO);U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Dt();var rO=function(){function t(t){this.jG=t}var n=t.prototype;return n._T=function(){return this.jG.bd},n.oI=function(){return this.jG.rI},n.cJ=function(t){return this.jG.cJ(t)},n.dJ=function(t){return this.jG.dJ(t)},n.Hw=function(){return ut.resolve()},xt(t,[{key:"bd",get:function(){return this._T()}},{key:"rI",get:function(){return this.oI()}}]),t}(),eO=function(t){function n(n){var i;return(i=t.call(this,n)||this).e4=void 0,i.i4=void 0,i.got=function(t){return i.pot(t)},i}Rt(n,t);var i=n.prototype;return i.pR=function(){return this.jG.gR},i.Sd=function(){return this.jG.ct},i.fot=function(){return this.jG.EJ},i.n4=function(t){this.jG.n4(t)},i.a4=function(t,n,i,r){this.jG.a4(t,n,i,r)},i.r3=function(){this.jG.r3()},i.K2=function(){this.jG.K2()},i.Hw=function(){return this.e4&&(this.e4.Hw(),this.e4=void 0),this.i4&&(this.i4.Hw(),this.i4=void 0),t.prototype.Hw.call(this)},i._ot=function(t){this.jG=t,this.e4?t.J3?this.e4.vot(t.J3):(this.e4.Hw(),this.e4=void 0):t.J3&&(this.e4=this.mot(t.J3),this.e4.yn(ZR,this.got)),this.i4?t.t4?this.i4.vot(t.t4):(this.i4.Hw(),this.i4=void 0):t.t4&&(this.i4=this.mot(t.t4),this.i4.yn(ZR,this.got))},i._J=function(t){this.jG._J(t)},i.pot=function(t){},xt(n,[{key:"J3",get:function(){return this.e4}},{key:"t4",get:function(){return this.i4}},{key:"gR",get:function(){return this.pR()}},{key:"ct",get:function(){return this.Sd()}},{key:"EJ",get:function(){return this.fot()}}]),n}(rO);U(),St(),Gt(),Dt(),Ct(),rn(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var uO=function(t){function n(n){var i;return(i=t.call(this)||this).Ij=0,i.Dj=0,i.DT=n,i}Rt(n,t);var i=n.prototype;return i._2=function(t,n,i){return ut.reject(new y("Invalid media buffer"))},i.v3=function(){return ut.reject(new y("Invalid media buffer"))},i.w2=function(t,n,i){return ut.reject(new y("Invalid media buffer"))},i.EJ=function(){return!1},i.r3=function(){},i.f3=function(t,n){},i._3=function(t,n){},i.$S=function(t,n,i){return ut.resolve()},i.B2=function(t,n){return ut.reject(new y("Invalid media buffer"))},i.CO=function(t,n){return ut.reject(new y("Invalid media buffer"))},i.cJ=function(t){return!1},i.dJ=function(t){return ut.reject(new y("Invalid media buffer"))},i.Hw=function(){this.$o()},xt(n,[{key:"Sj",get:function(){return this.Dj},set:function(t){this.Dj=t}},{key:"gR",get:function(){return MA.mB()}},{key:"bd",get:function(){return this.DT}},{key:"h3",get:function(){return im.tE}},{key:"u3",get:function(){return MA.mB()}},{key:"wot",get:function(){return!1}},{key:"wj",get:function(){return this.Ij},set:function(t){this.Ij=t}}]),n}(oa),sO=function(t){function n(n){var i;return(i=t.call(this)||this).Eot=function(t){return i.NI(t)},i.Aot=n,i.Aot.yn(ZR,i.Eot),i}Rt(n,t);var i=n.prototype;return i.yot=function(){return this.Aot.Sj},i.bot=function(t){this.Aot.Sj=t},i.pR=function(){return this.Aot.gR},i._T=function(){return this.Aot.bd},i.Sot=function(){return this.Aot.u3},i.Tot=function(){return this.Aot.wj},i.kot=function(t){this.Aot.wj=t},i._2=function(t,n,i){return this.Aot._2(t,n,i)},i.v3=function(){return this.Aot.v3()},i.w2=function(t,n,i){return this.Aot.w2(t,n,i)},i.EJ=function(){return this.Aot.EJ()},i.r3=function(){this.Aot.r3()},i.f3=function(t,n){this.Aot.f3(t,n)},i._3=function(t,n){this.Aot._3(t,n)},i.$S=function(t,n,i){return this.Aot.$S(t,n,i)},i.B2=function(t,n){return this.Aot.B2(t,n)},i.cJ=function(t){return this.Aot.cJ(t)},i.dJ=function(t){return this.Aot.dJ(t)},i.NI=function(t){this.wo(t)},i.Hw=function(){this.$o(),this.vot(new uO(this.bd))},i.vot=function(t){this.Aot.fn(ZR,this.Eot),this.Aot=t,this.Aot.yn(ZR,this.Eot)},xt(n,[{key:"Sj",get:function(){return this.yot()},set:function(t){this.bot(t)}},{key:"gR",get:function(){return this.pR()}},{key:"bd",get:function(){return this._T()}},{key:"h3",get:function(){return this.Aot.h3}},{key:"u3",get:function(){return this.Sot()}},{key:"wj",get:function(){return this.Tot()},set:function(t){this.kot(t)}}]),n}(oa),oO=function(t){function n(n){var i;return(i=t.call(this,n)||this).FB=void 0,i}Rt(n,t);var i=n.prototype;return i._2=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return jo(i),[4,r.xot(r.FB.SR,null==n?void 0:n.cit,null==n?void 0:n.ct)];case 1:return e.sent(),jo(i),t.Aw!==XR.bk?[3,3]:[4,r.Rot(t,n,i)];case 2:case 4:return[2,e.sent()];case 3:return[4,r.Iot(t,n,i)];case 5:return[2]}}))}))()},i.Rot=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:e=t,c.label=1;case 1:0,u=nn(Hl(e.qk),2),s=u[0],o=u[1],e={Aw:XR.bk,qk:s},c.label=2;case 2:return c.trys.push([2,4,,7]),[4,r.Cot(e,n,i)];case 3:return c.sent(),o.cancel(new Uo).catch(Ti),[2];case 4:return eR(a=c.sent())?[4,r.xot(r.FB.SR,n.cit,n.ct,i)]:[3,6];case 5:if(c.sent())return e={Aw:XR.bk,qk:o},[3,1];c.label=6;case 6:throw o.cancel(a).catch(Ti),a;case 7:return[3,1];case 8:return[2]}}))}))()},i.Iot=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:0,u.label=1;case 1:return u.trys.push([1,3,,6]),jo(i),[4,r.Cot(t,n,i)];case 2:return[2,u.sent()];case 3:return eR(e=u.sent())?[4,r.xot(r.FB.SR,n.cit,n.ct,i)]:[3,5];case 4:if(u.sent())return[3,0];u.label=5;case 5:throw e;case 6:return[3,0];case 7:return[2]}}))}))()},i.xot=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:u=rR(t,n,i,e.gR,e.wj,e.Sj),s=0,h.label=1;case 1:return s<u.length?(o=nn(u[s],2),a=o[0],c=o[1],[4,e.Pot(a,c,r)]):[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return[2,u.length>0]}}))}))()},i.Cot=function(n,i,r){return t.prototype._2.call(this,n,i,r)},i.Pot=function(n,i,r){return t.prototype.$S.call(this,n,i,r)},xt(n,[{key:"Znt",get:function(){return this.FB},set:function(t){this.FB=t}}]),n}(sO),aO=function(t){function n(n){var i;return(i=t.call(this,n)||this).FB=void 0,i._ot(n),i}return Rt(n,t),n.prototype.mot=function(t){var n=new oO(t);return n.Znt=this.FB,n},xt(n,[{key:"Znt",get:function(){return this.FB},set:function(t){this.FB=t,this.e4&&(this.e4.Znt=t),this.i4&&(this.i4.Znt=t)}}]),n}(eO);U(),St(),Dt(),Ct();var cO=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),xt(n,[{key:"tI",get:function(){return this.jG.tI},set:function(t){this.jG.tI=t}}]),n}(rO);U(),St(),Dt(),Ct();var hO=function(t){function n(n){return t.call(this,n)||this}Rt(n,t);var i=n.prototype;return i.v7=function(t){this.FB.v7(t)},i.CI=function(){this.FB.CI()},i.AI=function(){return this.FB.AI()},xt(n,[{key:"YG",get:function(){return this.FB.YG}},{key:"N4",get:function(){return this.FB.N4}},{key:"fI",get:function(){return this.FB.fI}},{key:"cI",get:function(){return this.FB.cI}},{key:"yI",get:function(){return this.FB.yI},set:function(t){this.FB.yI=t}}]),n}(nO),fO=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.cot=function(t){var n=new aO(t);return n.Znt=this,n},i.uot=function(t){return new cO(t)},xt(n,[{key:"jrt",get:function(){return this.FB}}]),n}(iO),vO=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.cot=function(t){var n=new aO(t);return n.Znt=this,n},i.uot=function(t){return new cO(t)},xt(n,[{key:"jrt",get:function(){return this.FB}}]),n}(hO),lO=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.LH=function(n){return n===im._E?new vO(t.prototype.LH.call(this,n)):n===im.fE?new fO(t.prototype.LH.call(this,n)):void 0},i.pH=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,(r=n).Hw()];case 1:return e.sent(),[4,t.prototype.pH.call(i,r.jrt)];case 2:return e.sent(),[2]}}))}))()},n}(tO);U(),St();var dO=function(){function t(t){var n=this;this.Not=function(t){t.persisted&&n.Dot()},this.ea=t,f.addEventListener("pageshow",this.Not)}var n=t.prototype;return n.Dot=function(){this.ea.DI()},n.gn=function(){f.removeEventListener("pageshow",this.Not)},t}();U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Gt(),Dt(),Jt(),U(),St(),U(),St();var gO=function(){function t(t){this.Oot=t}var n=t.prototype;return n.Mot=function(t,n,i){return ut.resolve()},n.Lot=function(t,n,i,r){var e=[];if(r){var u={DV:n.FO,NV:n.VO,MV:i.Bot.MV};r.Aw===xm.TTML?e=Pp(t,r,u,i.Yq):r.Aw===xm.WEBVTT&&(e=Pw(t,u,this.Oot).L)}return e},n.er=function(){},t}();U(),St(),Wt(),U(),St(),on(),U(),St();var mO,wO=function(t){return t.tD="vttc",t.Fot="vsid",t.Vot="iden",t.Wot="ctim",t.Uot="sttg",t.Got="payl",t.Hot="vtte",t.Zot="vtta",t}({}),pO=function(){function t(){}return t.Xot=function(n){return Boolean(t.zot[n])},t.jD=function(n){for(var i=[],r=wp.LD(new lp(n,new Dc)),e=0;e<r.length;e++){var u=r[e];t.Xot(u.Aw)&&i.push(t.zot[u.Aw](u.qk))}return i},t.qot=function(n){var i=wp.LD(n),r=yp(i,wO.Fot),e=yp(i,wO.Vot),u=yp(i,wO.Wot),s=yp(i,wO.Uot),o=yp(i,wO.Got);return{Aw:wO.tD,Yot:r?t.Kot(r):void 0,jot:e?t.Qot(e):void 0,Jot:u?t.$ot(u):void 0,tht:s?t.eht(s):void 0,iht:o?t.sht(o):void 0}},t.Kot=function(t){return{Aw:wO.Fot,nht:t.kD()}},t.Qot=function(t){return{Aw:wO.Vot,jot:t.PD()}},t.$ot=function(t){return{Aw:wO.Wot,rht:t.PD()}},t.eht=function(t){return{Aw:wO.Uot,oht:t.PD()}},t.sht=function(t){return{Aw:wO.Got,hht:t.PD()}},t.aht=function(t){return{Aw:wO.Hot}},t.uht=function(t){return{Aw:wO.Zot,cht:t.PD()}},t}();pO.zot=(sn(mO={},wO.tD,pO.qot),sn(mO,wO.Hot,pO.aht),sn(mO,wO.Zot,pO.uht),mO);var yO=function(){function t(){this.fht=NaN}var n=t.prototype;return n.Mot=function(t,n,i){var r=new DataView(t.dht),e=kp.jD(r),u=go(e,(function(t){return t.Aw===cp.vP}));return u&&(this.fht=u.Z[0].yN.HD._N),ut.resolve()},n.Lot=function(t,n,i){if(E(this.fht))return[];var r=Sc(t),e=kp.jD(r),u=gp(e,cp.nD),s=gp(e,cp.lD);if(!u||0===u.Z.length||!s)return[];var o=function(t,n,i){for(var r=t.Z[0],e=r.oL?r.oL.oL.toNumber()/i:n.FO,u=[],s=0,o=r.rL;s<o.length;s++){var a,c=o[s];(a=u).push.apply(a,Ut(c.dL))}return{_ht:e,dL:u}}(u,n,this.fht),a=i.Bot.MV;return function(t,n,i,r){for(var e=pO.jD(Sc(n.qk)),u=t.dL,s=t._ht+r,o=[],a=0,c=0;c<u.length;c++){var h,f=u[c],v=e[c],l=(null!=(h=f.ct)?h:0)/i,d=void 0;v.Aw===wO.tD&&(d=_O(v,a,l,s)),d&&o.push(d),a+=l}return o}(o,s,this.fht,a)},n.er=function(){this.fht=NaN},t}();function _O(t,n,i,r){if(t.iht){var e=t.Jot?function(t){return Gw(t.rht,new Dc(0))}(t.Jot):n,u=r+e,s=u+i,o=t.iht.hht;return new Qm(u,s,o,!1)}}U(),St(),Gt(),Dt(),Ct(),rn(),Jt(),U(),St(),on();var bO,kO=function(t){return t[t.NZ=0]="NZ",t[t.vht=1]="vht",t[t.mht=10]="mht",t[t.ght=11]="ght",t[t.pht=12]="pht",t[t.wht=13]="wht",t[t.yht=14]="yht",t[t.bht=15]="bht",t[t.Aht=20]="Aht",t[t.Sht=21]="Sht",t[t.Tht=22]="Tht",t[t.kht=23]="kht",t[t.Eht=24]="Eht",t[t.xht=30]="xht",t[t.Rht=31]="Rht",t[t.Iht=32]="Iht",t[t.Cht=33]="Cht",t[t.Pht=34]="Pht",t[t.Dht=35]="Dht",t[t.Nht=40]="Nht",t[t.Mht=41]="Mht",t[t.Lht=42]="Lht",t[t.Bht=43]="Bht",t[t.Oht=44]="Oht",t[t.Fht=50]="Fht",t[t.Vht=51]="Vht",t[t.Wht=52]="Wht",t[t.Uht=60]="Uht",t[t.Ght=61]="Ght",t[t.Hht=62]="Hht",t[t.Zht=63]="Zht",t[t.Xht=70]="Xht",t[t.zht=71]="zht",t[t.qht=72]="qht",t[t.Yht=73]="Yht",t[t.Kht=74]="Kht",t[t.jht=75]="jht",t[t.Qht=76]="Qht",t[t.Jht=77]="Jht",t[t.$ht=90]="$ht",t[t.eat=91]="eat",t}({});sn(bO={},0,"Failed because"),sn(bO,1,"Created"),sn(bO,10,"Starting because unknown reason"),sn(bO,11,"Starting because new track loading"),sn(bO,12,"Starting because manifest changed"),sn(bO,13,"Starting because seek"),sn(bO,14,"Starting because timeupdate"),sn(bO,15,"Starting because buffering is being resumed"),sn(bO,20,"Interrupting because unknown reason"),sn(bO,21,"Interrupting because segment has a gap"),sn(bO,22,"Interrupting because segment is missing"),sn(bO,23,"Interrupting because seeking"),sn(bO,24,"Interrupting because buffer is full"),sn(bO,30,"Pausing because unknown reason"),sn(bO,31,"Pausing because target buffer reached"),sn(bO,32,"Pausing because no target time"),sn(bO,33,"Pausing because no segment selected"),sn(bO,34,"Pausing because end of stream is reached"),sn(bO,35,"Pausing because initialization segment is missing"),sn(bO,40,"Stopping because unknown reason"),sn(bO,41,"Stopping because manifest went offline"),sn(bO,42,"Stopping because seeking"),sn(bO,43,"Stopping because buffering is being paused"),sn(bO,44,"Stopping because unload"),sn(bO,50,"Resetting because unknown reason"),sn(bO,51,"Resetting because player was reset"),sn(bO,52,"Resetting because disallowed segment was added"),sn(bO,63,"Marking gap at"),sn(bO,60,"Target time is"),sn(bO,70,"[Selection 1] Select nothing if the target time has already been appended."),sn(bO,71,"[Selection 2] Select nothing if the time-based lookup failed."),sn(bO,72,"[Selection 3] If the segment has not been appended, select time-based lookup."),sn(bO,73,"[Selection 4A] Select the first unappended segment that occurs before the segment."),sn(bO,74,"[Selection 4B] Notify gap if no previous segment is available."),sn(bO,75,"[Selection 5A] Select the first unappended segment that occurs after the segment."),sn(bO,76,"[Selection 5B] Select nothing if no next segment is available."),sn(bO,77,"[Selection 6] Unreachable"),sn(bO,61,"Selected segment is"),sn(bO,62,"Appended segment is"),sn(bO,90,"Test setup"),sn(bO,91,"Test");function AO(t,n){var i=n.hB((function(n,i){return t.nB(n,i,!1,!1)}));return t.JL(i)}function TO(t,n){var i=n.Sn(t.YL()).hB((function(n,i){return t.kr(i)}));return t.JL(i)}U(),St(),U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var SO=function(t){return t.iat="sat",t.nat="rat",t}({});U(),St(),Ct();var EO=function(t){function n(n,i,r){var e;return(e=t.call(this,"oat")||this).Cn=n,e.jn=i,e.aat=r,e}return Rt(n,t),n}(Vo),IO=function(t){function n(){return t.call(this,"uat")||this}return Rt(n,t),n}(ha),RO=[fa.Jy,fa.eb,fa.Qy,fa.wy],CO=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Kat=n,s.Lat=i,s.gat=r,s._at=e,s.v9=u,s.wat="Rat",s.zG=void 0,s.xat=new Yc,s.Fat=new Jo,s.Tat=new Jo,s.We=function(t){s.Aat||s.Dat||(!qn.rR&&s._at.jat(t.currentTime)||(s.Fat.Yw(),s.Fat=new Jo,Ho(s.Yat(s.Fat.Vw),s.Fat).catch(Xo)))},s.vd=Ei((function(){if(s.Sat){try{if(s._at.Qat(),s._at.Jat())return}catch(t){if(!(t instanceof EO))throw t}s.Cn(kO.yht)}}),250),s.Mat(),s}Rt(n,t);var i=n.prototype;return i.yat=function(t){this.wat!==t&&(this.wat=t,this.wo(new IO))},i.Cn=function(t){var n=this;return Zt((function(){var t;return Ht(this,(function(i){switch(i.label){case 0:return n.Aat||n.Sat?(t=n.vy("uat"),n.Aat?(n.Tat.Yw(),n.Tat=new Jo,Ho(n.Eat(n.Tat.Vw),n.Tat)):(n.xat.Ob(void 0),n.xat=new Yc),[4,t]):[2];case 1:return i.sent(),[2]}}))}))()},i.EI=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:if(!n.Cat&&!n.Sat)return[2];0,n.Tat.Yw(),t.label=1;case 1:return n.Aat||n.Dat?[3,3]:[4,n.vy("uat")];case 2:return t.sent(),[3,1];case 3:return[2]}}))}))()},i.er=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Dat?(n.zG=void 0,n.yat("Rat"),[3,3]):[3,1];case 1:return[4,n.EI(t)];case 2:i.sent(),i.label=3;case 3:return n._at.er(),n.gat.er(),[2]}}))}))()},i.MH=function(t){this.zG=t,this.yat("Nat"),this.wo(new Ek(t))},i.Mat=function(){this.v9.yn(fa.sb,this.vd),this.v9.yn([fa.jy,fa.Ly],this.We),this._at.yn(RO,this.Ds),this.Lat.yn(SO.iat,this.vd)},i.Bat=function(){this.v9.fn(fa.sb,this.vd),this.v9.fn([fa.jy,fa.Ly],this.We),this._at.fn(RO,this.Ds),this.Lat.fn(SO.iat,this.vd)},i.Oat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Bat(),n.Fat.Yw(),[4,n.EI(null!=t?t:kO.Bht)];case 1:return i.sent(),n._at.er(),[2]}}))}))()},i.Vat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Mat(),[4,n.Cn(null!=t?t:kO.bht)];case 1:return i.sent(),[2]}}))}))()},i.Wat=function(t,n,i){var r,e=function(t,e){var u=e[t];u.Gat<=i&&n<=u.Hat&&r.Lat.Zat.some((function(t){return t.o===u.Xat}))&&r.gat.zat(u)};if(this.Aat)for(var u=0,s=t.gat.Uat();u<s.length;u++)r=this,e(u,s)},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.$o(),t.Bat(),t.Fat.Yw(),[4,t.EI(kO.Oht)];case 1:return n.sent(),t._at.gn(),[2]}}))}))()},i.Eat=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:0,e.label=1;case 1:return e.trys.push([1,4,,5]),jo(t),n.yat("Pat"),[4,n._at.qat(t)];case 2:return e.sent(),jo(t),n.yat("Iat"),[4,Go(n.xat.Vb,t)];case 3:return e.sent(),[3,5];case 4:return Wo(i=e.sent())?n.yat("Rat"):(r=i instanceof sl?i:new sl(el.MEDIA_LOAD_ERROR,i.message,i),n.MH(r)),[3,6];case 5:return[3,0];case 6:return[2]}}))}))()},i.Yat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return jo(t),[4,n.EI(kO.Lht)];case 1:return i.sent(),n._at.er(),jo(t),[4,n.Cn(kO.wht)];case 2:return i.sent(),[2]}}))}))()},xt(n,[{key:"dat",get:function(){var t,n;return(null==(t=this._at.fat)?void 0:t.aat)||(null==(n=this._at.vat)?void 0:n.aat)}},{key:"mat",get:function(){return this.gat}},{key:"pat",get:function(){return this._at.pat},set:function(t){this._at.pat=t}},{key:"zk",get:function(){return this.wat}},{key:"bat",get:function(){return this.gat.Ht.bat}},{key:"lt",get:function(){return this.zG}},{key:"Aat",get:function(){return"Rat"===this.wat}},{key:"Sat",get:function(){return"Iat"===this.wat}},{key:"Cat",get:function(){return"Pat"===this.wat}},{key:"Dat",get:function(){return"Nat"===this.wat}}]),n}(oa);U(),St(),Gt(),Jt(),U(),St();var NO=function(){function t(t,n){this.lW=t,this.out=n}var n=t.prototype;return n.$at=function(t,n){return this.tut(t,!1,n)},n.eut=function(t,n){return this.tut(t,!0,n)},n.tut=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return jo(r.Vw),[4,e.iut(n,i,r)];case 1:return(u=s.sent()).Ok?[2,t.sut(u)]:[2,e.nut(u)]}}))}))()},n.nut=function(t){return t},n.iut=function(t,n,i){var r,e=new md({Gu:t.Gu,Yk:xl.wk,jk:t.rut?{Range:"bytes="+t.rut[0]+"-"+(null!=(r=t.rut[1])?r:"")}:void 0,kE:t.kE,yE:fd.GET,Aw:vd.iE,SE:n?ld.rE:ld.tE,TE:this.out,bE:i.hut,AE:i.AE,Vw:i.Vw,RE:i.RE});return this.lW.Kk(e)},t.sut=function(t){return t},t}();U(),St(),Dt(),U(),St();var xO=function(){function t(t){this.sit=0,this.cut=0,this.uut=A.exp(A.log(.5)/t)}var n=t.prototype;return n.aut=function(t,n){var i=A.pow(this.uut,t),r=n*(1-i)+i*this.sit;E(r)||(this.sit=r,this.cut+=t)},n.lut=function(){var t=1-A.pow(this.uut,this.cut);return this.sit/t},t}(),DO=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.fut=0,this.gut=Rk,this._ut=new xO(t),this.vut=new xO(n),this.wut=i}var n=t.prototype;return n.aut=function(t,n){var i=8e3*n/t,r=t/1e3;this.fut+=n,this._ut.aut(r,i),this.vut.aut(r,i)},n.lut=function(){return this.mut()?A.min(this._ut.lut(),this.vut.lut()):this.gut},n.mut=function(){return this.fut>=this.wut},t}(),PO=function(){function t(t,n){this.Tut=n,n&&rm(t)?t===im._E?(this.Iut=5e3,this.but=new DO(.05,1,0)):(this.Iut=0,this.but=new DO(.005,.1,0)):(this.Iut=16e3,this.but=new DO)}return t.prototype.Aut=function(t){var n=t.Sut,i=this.Tut?t.kut-t.Eut:t.kut-t.xut,r=t.Rut;!r&&n<this.Iut||(r?this.but.aut(2*i,n):this.but.aut(i,n))},xt(t,[{key:"yut",get:function(){return this.but.lut()}},{key:"mut",get:function(){return this.but.mut()}}]),t}();U(),St(),Gt(),Ct(),Jt(),U(),St(),Dt(),rn(),U(),St();var MO=function(){function t(t){this.Qd=t}var n=t.prototype;return n.transform=function(t,n){this.Qd.write(t).catch(Ti),n.enqueue(t)},n.flush=function(){this.Qd.close().catch(Ti)},t}(),BO=function(){function t(t,n,i){this.dht=t,this.Put=n,this.Dut=i}return t.prototype.Cut=function(){return new OO(Zl(this.dht),this.Put,this.Dut)},t}(),OO=function(){function t(t,n,i){this.Nut=t,this.Put=n,this.Dut=i}var n=t.prototype;return n.Ck=function(t){return Xl(this.Nut,t)},n.xb=function(){var n=nn(Hl(this.Nut),2),i=n[0],r=n[1];return this.Nut=i,new t(r,this.Put,this.Dut)},n.Mut=function(){var n=nn(function(t){var n=new Ul,i=n.writable.getWriter(),r=new Ul(new MO(i));return t.pipeTo(r.writable).catch((function(t){i.abort(t).catch(Ti)})),[r.readable,n.readable]}(this.Nut),2),i=n[0],r=n[1];return this.Nut=i,new t(r,this.Put,this.Dut)},n.Lut=function(t){var n=this;return this.Ck(t).then((function(t){return new BO(t,n.Put,n.Dut)}))},xt(t,[{key:"Pk",get:function(){return this.Nut}}]),t}();U(),St(),Ct();var LO=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).But=n,e}return Rt(n,t),n}(Vo),FO="Cache lookup failed.",VO=function(t){function n(n){var i;return(i=t.call(this)||this).Fut=n,i}Rt(n,t);var i=n.prototype;return i.Out=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return jo(n),[4,i.Fut.urt(t.Gu.Gu,t.Gu.rut)];case 1:if(r=u.sent(),jo(n),!r)throw new LO(t,FO);return e=new BO(r.buffer,r.byteLength,r.reference),[2,{But:t.But,Vut:{Aw:XR.tJ,qk:e},aat:t.aat,Gu:t.Gu}]}}))}))()},i.Wut=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return jo(n),[4,i.Fut.urt(t.Gu,t.rut)];case 1:if(r=u.sent(),jo(n),!r)throw new LO(t,FO);return e=new BO(r.buffer,r.byteLength,r.reference),[2,{Aw:XR.tJ,qk:e}]}}))}))()},i.gn=function(){this.$o()},n}(oa);U(),St(),Gt(),Ct(),Jt();var UO=["$y","ib"],WO=function(t){function n(n){var i;(i=t.call(this)||this).Uut=n;for(var r=0,e=i.Uut;r<e.length;r++){e[r].yn(UO,i.Ds)}return i}Rt(n,t);var i=n.prototype;return i.Out=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:e=0,u=i.Uut,a.label=1;case 1:if(!(e<u.length))return[3,6];s=u[e],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s.Out(t,n)];case 3:return[2,a.sent()];case 4:return Zo(o=a.sent()),r=o,[3,5];case 5:return e++,[3,1];case 6:throw r}}))}))()},i.Wut=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:e=0,u=i.Uut,a.label=1;case 1:if(!(e<u.length))return[3,6];s=u[e],a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s.Wut(t,n)];case 3:return[2,a.sent()];case 4:return Zo(o=a.sent()),r=o,[3,5];case 5:return e++,[3,1];case 6:throw r}}))}))()},i.gn=function(){for(var t=0,n=this.Uut;t<n.length;t++){var i=n[t];i.fn(UO,this.Ds),i.gn()}},n}(oa);function jO(t){return ui(t.Gut)}function ZO(t){return jO(t)?t.Gut:t.Hut}U(),St(),Gt(),Ct(),Jt(),U(),St(),U(),St(),Ct(),U(),St(),Ct();var XO=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n)||this).Zut=i,o.yz=r,o.eL=e,o.TN=u,o.TE=s,o}return Rt(n,t),n}(ha),GO=function(t){function n(n,i,r,e,u){return t.call(this,fa.Jy,n,i,r,e,u)||this}return Rt(n,t),n}(XO);U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var HO=function(t,n){this.Xut=t,this.zut=n},zO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).qut=0,n}Rt(n,t);var i=n.prototype;return i.start=function(){},i.transform=function(t,n){this.qut+=t.byteLength,n.enqueue(t)},i.flush=function(){this.Yut(!1)},i.Yw=function(){this.Yut(!0)},i.Yut=function(t){this.Xut(this.zut,qn.Vg(),this.Sut,t)},xt(n,[{key:"Sut",get:function(){return this.qut}}]),n}(HO),YO=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).qut=0,n.Kut=!1,n}Rt(n,t);var i=n.prototype;return i.start=function(){this.zut=qn.Vg()},i.transform=function(t,n){this.qut+=t.byteLength,this.Kut||this.jut(t)&&this.Yut(!1),n.enqueue(t)},i.flush=function(){},i.Yw=function(){this.Yut(!0)},i.jut=function(t){var n=this.Qut(t),i=this.Jut(n);return Boolean(go(i,KO))},i.Qut=function(t){return this.$ut&&void 0!==this.tct?(this.$ut=Uc([this.$ut,t]),new lp(Sc(this.$ut),new Dc(this.tct))):(this.$ut=t,new lp(Sc(t),new Dc))},i.Jut=function(t){var n=wp.BD(t.qk,t.yD,!0);return n.OD?(this.$ut=void 0,this.tct=void 0):this.tct=t.yD.ec,n.m},i.Yut=function(t){this.Kut||(this.Xut(this.zut,qn.Vg(),this.Sut,t),this.Kut=!0)},xt(n,[{key:"Sut",get:function(){return this.qut}}]),n}(HO);function KO(t){return t.Aw===cp.lD}var qO=function(){function t(t){var n=this;this.act=t,this.nct=new Yc,this.Aut=function(t,i,r,e){var u={xut:n.ict,Eut:t,kut:i,Sut:r,Rut:e};n.act.Aut(u),n.act.mut&&Ck.Fg.rG(n.act.yut)},this.nct.Vb.catch(Ti),this.ict=qn.Vg()}var n=t.prototype;return n.ect=function(t){var n=t.Jk?this.ict:qn.Vg(),i=this.sct(n),r=new Ul(i),e=t.Pk().pipeTo(r.writable).then((function(){return{WR:{Sut:i.Sut}}}),(function(t){throw i.Yw(),t}));return this.nct.Kw(e),r.readable},n.rct=function(t){var n=this,i=t.Jk?this.ict:qn.Vg(),r=t.Ck(),e=r.then((function(t){var r=qn.Vg();return n.Aut(i,r,t.byteLength,!1),{WR:{Sut:t.byteLength}}}),(function(t){var r=qn.Vg();throw n.Aut(i,r,0,!0),t}));return this.nct.Kw(e),r},xt(t,[{key:"hct",get:function(){return this.nct.Vb}}]),t}(),JO=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.sct=function(t){return new zO(this.Aut,t)},n}(qO),QO=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.sct=function(t){return new YO(this.Aut,t)},n}(qO);U(),St(),Ct();var $O=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,fa.eb,n,i,r,e,u)||this).uct=s,a.mO=o,a}return Rt(n,t),n}(XO);U(),St(),Ct();var tL=function(t){function n(n,i,r){var e;return(e=t.call(this,"Error downloading segment "+ZO(i),n)||this).cct=i.FO,e.lct=i.VO,e.dct=r,e}return Rt(n,t),n}(Vo),nL=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).vct=n,e.act=i,e.Tut=r,e}Rt(n,t);var i=n.prototype;return i.fct=function(){return this.Tut?new QO(this.act):new JO(this.act)},i.Out=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v;return Ht(this,(function(l){switch(l.label){case 0:jo(n),r=t.aat,e=t.Gu,u=t.But,s=ZO(u),o=r.aat?r.aat.xC:-1,a=function(t){var n,i=t.aat;n=i===function(t){return t.Zat.reduce((function(t,n){return t.wG<n.wG?t:n}))}(i._ct)?_r(5*t.But.ct):_r(1.2*t.But.ct);return cr(n,1e3,18e3)}(t),i.wo(new GO(e,r.wG,s,o,r.Aw)),l.label=1;case 1:return l.trys.push([1,4,,5]),c=i.fct(),[4,i.vct.$at(e,{RE:i.Tut,hut:a,Vw:n})];case 2:return h=l.sent(),[4,i.mct(h,h.Ok,n,c)];case 3:return f=l.sent(),ta(i.gct(c.hct,r,e,s,o,h)),[2,{Vut:f,aat:r,But:u,Gu:e}];case 4:throw Zo(v=l.sent()),new tL(v,u,r);case 5:return[2]}}))}))()},i.Wut=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return jo(n),r=!1,[4,i.vct.eut(t,{RE:r,hut:1e4,Vw:n})];case 1:return e=u.sent(),[4,i.mct(e,r,n)];case 2:return[2,u.sent()]}}))}))()},i.mct=function(t,n,i,r){return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return n?(e=r?r.ect(t):t.Pk(),[2,{Aw:XR.bk,qk:new OO(e)}]):[3,1];case 1:return r?[4,r.rct(t)]:[3,3];case 2:return s=o.sent(),[3,5];case 3:return[4,t.Ck(i)];case 4:s=o.sent(),o.label=5;case 5:return u=s,[2,{Aw:XR.tJ,qk:new BO(u)}];case 6:return[2]}}))}))()},i.gct=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o;return Ht(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t];case 1:return o=a.sent(),s.wo(new $O(i,n.wG,r,e,n.Aw,u.zk,o.WR.Sut)),[3,3];case 2:return a.sent(),[3,3];case 3:return[2]}}))}))()},i.gn=function(){this.$o()},n}(oa);U(),St(),Dt();var iL=.001,rL=function(){function t(t,n,i,r){this.pct=t,this.v9=n,this.I3=i,this.vZ=r}return xt(t,[{key:"gR",get:function(){return this.pct.gR}},{key:"wct",get:function(){return this.pct.wct}},{key:"BJ",get:function(){return this.pct.BJ}},{key:"yct",get:function(){if(this.I3.sI<Cy.Gn)return!1;if(this.pct.jn<=this.bct&&this.pct.Act())return!0;var t=this.pct.HG;if(!t||0===t.V)return!1;var n=MA.vB(this.v9.SR,1/0);return t.Sn(n).tB(this.pct.BJ).fB>=this.vZ.Cj}},{key:"bct",get:function(){var t,n=this.pct.HG;if(n&&n.V>0)t=n.jn(0);else{t=this.v9.SR;var i=this.pct.BJ,r=i.eB(t);r>=0&&(t=i.jn(r))}var e=this.pct.rI.Cn(0);if(e>t){if(this.pct.Cn<=t&&this.pct.jn>=t&&e>t+iL)throw new EO(t,e);t=e}return t=this.pct.Sct.qL(t)}}]),t}();U(),St(),Dt();var eL=function(){function t(){this.C_=os(),this.kct=MA.mB()}var n=t.prototype;return n.Ect=function(t){return this.C_.get(t.o)},n.xct=function(){var t=this.kct;return this.C_.forEach((function(n){t=t.JL(n)})),t},n.Rct=function(t){if(this.kct.kr(t))return!0;var n=!1;return this.C_.forEach((function(i){n=n||i.kr(t)})),n},n.Ict=function(t,n){var i=this.C_.get(n.o);return!!i&&i.kr(t)},n.iB=function(t,n){if(this.kct.iB(t,n))return!0;var i=!1;return this.C_.forEach((function(r){i=i||r.iB(t,n)})),i},n.Cct=function(t,n){var i=this.C_.get(n),r=i?i.JL(t):t;this.C_.set(n,r),this.kct=this.kct.JL(t)},n.Pct=function(t){var n=this;this.C_.forEach((function(i,r){n.C_.set(r,i.JL(t))})),this.kct=this.kct.JL(t)},n.Dct=function(t){var n=this;this.C_.forEach((function(i,r){n.C_.set(r,i.Sn(t))})),this.kct=this.kct.Sn(t)},n.er=function(){var t=this;this.C_.forEach((function(n,i){t.C_.set(i,MA.mB())})),this.kct=MA.mB()},xt(t,[{key:"Tct",get:function(){if(0===this.C_.size)return this.kct;var t=MA.vB(0,1/0);return t=t.Sn(this.kct),this.C_.forEach((function(n){t=t.Sn(n)})),t}}]),t}(),uL=function(){function t(t){this.Ert=[],this.Ht=t,this.Mct=new eL,this.OJ=new eL}var n=t.prototype;return n.Lct=function(t){for(var n=0,i=this.Ert;n<i.length;n++){var r=i[n];if(r.Gat>t)break;if(r.Hat>t)return r}},n.Bct=function(t){for(var n=0,i=this.Ert;n<i.length;n++){var r=i[n];if(r.Oct>t)break;if(r.Fct>=t)return r}},n.Vct=function(t,n){for(var i=[],r=0,e=this.Ert;r<e.length;r++){var u=e[r];if(u.Gat>t)break;u.Hat>=n&&i.push(u)}return i},n.Uat=function(){return this.Ert},n.zat=function(t){var n=MA.vB(t.Oct,t.Fct),i=n.YL();this.Mct.Dct(i),this.Mct.Cct(n,t.Xat),this.Wct(i);var r=po(this.Ert,(function(n){return t.Gat<=n.Gat}));r<0?this.Ert.push(t):this.Ert[r].Hat<=t.Hat?this.Ert.splice(r,1,t):this.Ert.splice(r,0,t)},n.FJ=function(t,n){this.OJ.Cct(t,n)},n.Uct=function(t){this.OJ.Pct(t)},n.Dct=function(t){this.Mct.Dct(t),this.OJ.Dct(t);var n=this.Mct.xct();this.Wct(n)},n.Wct=function(t){this.Ert=this.Ert.filter((function(n){return t.nB(n.Oct,n.Fct)})).map((function(n){return n.Gct&&!t.iB(n.Oct,n.Fct)?function(t,n){return{Xat:t.Xat,Gat:t.Gat,Hat:t.Hat,Oct:t.Oct,Fct:t.Fct,Gct:n}}(n,!1):n}))},n.er=function(){this.Mct.er(),this.OJ.er(),this.Ert=[]},n.gn=function(){this.er()},xt(t,[{key:"Nct",get:function(){return this.Mct}},{key:"BJ",get:function(){return this.OJ}}]),t}();U(),St(),U(),St(),Gt(),Dt(),Jt();var sL=function(){function t(t,n,i){this.Kat=t,this.gat=n,this.xp=i}var n=t.prototype;return n.Zct=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return jo(i),u=r.gat.Bct(t),e=u&&hr(u.Fct,t,1e-5)?u.Hat:t,s=r.Xct(e),o=function(t){return oL.bind(void 0,t)}(e),[4,r.xp.zct(o,s,n,i)];case 1:a=v.sent(),jo(i),v.label=2;case 2:return a&&r.qct(a.But)?(c=lL(a.But),h=a.aat,[4,r.xp.zct(c,[h],n,i)]):[3,4];case 3:return a=v.sent(),jo(i),[3,2];case 4:return a?r.Yct(a.But)?(f=r.Kct(a.But),t<f.Cn?[4,r.findFirstNonAppendedSegmentBeforeSegment(a,n,i,f)]:[3,6]):[2,a]:[2,void 0];case 5:return[2,v.sent()];case 6:return t>=f.jn?[4,r.findFirstNonAppendedSegmentAfterSegment(a,n,i)]:[3,8];case 7:return[2,v.sent()];case 8:if(a.aat.jct(a.But))return[2,void 0];throw new y("Fatal buffering error")}}))}))()},n.findFirstNonAppendedSegmentAfterSegment=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:e=t,o.label=1;case 1:return u=lL(e.But),s=t.aat,[4,r.xp.zct(u,[s],n,i)];case 2:e=o.sent(),jo(i),o.label=3;case 3:if(e&&r.Yct(e.But))return[3,1];o.label=4;case 4:return e?[2,e]:[2,void 0]}}))}))()},n.findFirstNonAppendedSegmentBeforeSegment=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:u=t,c.label=1;case 1:return s=function(t){return cL.bind(void 0,t)}(u.But),o=t.aat,[4,e.xp.zct(s,[o],n,i)];case 2:u=c.sent(),jo(i),c.label=3;case 3:if(u&&e.Yct(u.But))return[3,1];c.label=4;case 4:if(!u)throw a=t.aat.Qct.Cn,new EO(a,r.Cn,t.aat);return[2,u]}}))}))()},n.Jct=function(t){return this.gat.Nct.Rct(t)},n.$ct=function(t){return this.gat.Vct(t.FO,t.VO)},n.Yct=function(t){var n=this.$ct(t);return n.length>0&&function(t,n){return function(t){for(var n=MA.mB(),i=0;i<t.length;i++){var r=t[i];n=n.JL(MA.vB(r.Gat,r.Hat))}return n}(t).iB(n.FO,n.VO)}(n,t)&&n.every(dL)},n.qct=function(t){return this.gat.BJ.iB(t.FO,t.VO)},n.Kct=function(t){var n=this.$ct(t);return{Cn:n[0].Oct,jn:n[n.length-1].Fct}},n.Xct=function(t){var n=this.tlt(t);if(0===n.length){var i=this.Hct?this.Hct:this.gat.Ht.Zat;return[i[i.length-1]]}var r=n.filter((function(t){var n;return(null==(n=t.aat)?void 0:n.znt)&&!t.elt}));return r.length>0?r:[n[n.length-1]]},n.tlt=function(t){var n=this;return(this.Hct?this.Hct:this.gat.Ht.Zat).filter((function(i){return!n.gat.BJ.Ict(t,i)}))},xt(t,[{key:"pat",get:function(){return this.Hct},set:function(t){this.Hct=t}},{key:"bat",get:function(){return this.gat.Ht.bat}}]),t}();function oL(t,n,i,r){return aL.apply(this,arguments)}function aL(){return aL=Zt((function(t,n,i,r){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return e=n.Bot,(u=e.ilt(t))?n.slt(u)?[4,n.rlt(u,i,r)]:[3,2]:[2,void 0];case 1:return[2,s.sent().nlt(t)];case 2:return[2,u]}}))})),aL.apply(this,arguments)}function cL(t,n,i,r){return hL.apply(this,arguments)}function hL(){return hL=Zt((function(t,n,i,r){var e;return Ht(this,(function(u){switch(u.label){case 0:return jO(t)?0===t.Gut?[2,void 0]:(e=n.Bot.olt(t))?[4,n.rlt(e,i,r)]:[2,void 0]:[3,2];case 1:return[2,u.sent().hlt(t.Gut-1)];case 2:return[2,n.Bot.ult(t)];case 3:return[2]}}))})),hL.apply(this,arguments)}function fL(t,n,i,r){return vL.apply(this,arguments)}function vL(){return vL=Zt((function(t,n,i,r){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return jO(t)?(e=n.Bot.olt(t))?[4,n.rlt(e,i,r)]:[2,void 0]:[3,2];case 1:return u=s.sent(),t.Gut+1===u.V?[2,void 0]:[2,u.hlt(t.Gut+1)];case 2:return[2,n.Bot.clt(t)];case 3:return[2]}}))})),vL.apply(this,arguments)}function lL(t){return fL.bind(void 0,t)}function dL(t){return t.Gct}U(),St(),Gt(),Jt();var gL=function(){function t(t,n,i,r){this.vlt=t,this.pct=n,this.vZ=i,this.dlt=r,this.glt=!1}var n=t.prototype;return n.zct=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return jo(r),(u=e.llt(n,i))?[4,t(u,e.dlt,r)]:[2,void 0];case 1:return(s=a.sent())?(o=u.flt(s),[2,{aat:u,But:s,Gu:o}]):[2,void 0]}}))}))()},n.llt=function(t,n){if(0!==t.length){var i=this.vlt._lt(t,this.glt?n:void 0,this.pct,this.vZ.xj);return this.glt||(this.glt=!0),i}},t}();U(),St(),Gt(),Jt();var mL=function(){function t(t,n,i,r){this.vlt=t,this.pct=n,this.Fut=i,this.dlt=r}return t.prototype.zct=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:if(jo(r),!(u=e.vlt.plt(n,i,e.pct)).length)return[2,void 0];o=0,v.label=1;case 1:if(!(o<u.length))return[3,8];a=u[o],v.label=2;case 2:return v.trys.push([2,6,,7]),jo(r),[4,t(a,e.dlt,r)];case 3:return(c=v.sent())?(h=a.flt(c),[4,e.Fut.hrt(h.Gu,h.rut)]):[3,5];case 4:if(v.sent())return[2,{But:c,aat:a,Gu:h}];v.label=5;case 5:return[3,7];case 6:return Zo(f=v.sent()),s=f,[3,7];case 7:return o++,[3,1];case 8:if(s)throw s;return[2,void 0]}}))}))()},t}();function wL(t){return void 0!==t.KR}function pL(t,n){var i=t.ji&&n.ji,r=t.Ti&&n.Ti;return i||r?i&&r?t.ji*t.Ti-n.ji*n.Ti:i?t.ji-n.ji:r?t.Ti-n.Ti:(t.ji||1)*(t.Ti||1)-(n.ji||1)*(n.Ti||1):0}function yL(t,n){return pL(t,n)||function(t,n){return t.wG-n.wG}(t,n)}U(),St(),Wt(),ct(),U(),St();var _L=function(){function t(t,n,i,r,e,u){this.v_=t,this.blt=n,this.ew=i,this.klt=r,this.wlt=e,this.Elt=u}var n=t.prototype;return n._lt=function(n,i,r,e){var u=t.sortByQuality(n);if(void 0!==this.wlt&&void 0===i&&n.length>1){var s=t.ylt(u,this.wlt);s&&(u=s)}var o=this.plt(u,i,r,e);return o.length?o[o.length-1]:u[0]},n.plt=function(n,i,r,e){for(var u,s=t.sortByQuality(n),o={yut:void 0===e||this.blt.mut?this.blt.yut:e,KR:wL(r)&&r.KR?r.KR:1,Alt:r.ji,Slt:r.Ti,Tlt:null==(u=this.klt)?void 0:u.restrictToPlayerSize},a=s,c=0,h=this.v_;c<h.length;c++){a=(0,h[c])(a,i,o,this.ew,this.Elt)}return a},t.xlt=function(n){return t.sortByQuality(n)[0]},t.Rlt=function(n,i){var r;return i?t.xlt(null!=(r=t.ylt(n,i))?r:n):t.xlt(n)},t.ylt=function(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return eN(t.vp,r)}));if(e.length>0)return{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===W(e))return e.v}},t.sortByQuality=function(t){var n=Ut(t);return n.sort(yL),n},t}();U(),St();var bL=function(t,n,i,r,e){return t.filter((function(t){return e.cJ(t)&&r.lp(n,t)}))};U(),St();var kL=function(t,n,i){return t.filter((function(t){return function(t,n,i){var r=i.yut;if(r<=0)return!1;return.8*r>t.wG*i.KR}(t,0,i)}))};U(),St();var AL=function(t,n,i,r,e){var u=i.Tlt;if(void 0===u&&!r.Qs)return t;if(!1===u)return t;if(t.length>0&&t[0].Aw!==im._E)return t;for(var s=t.length-1;s>=0;s--){var o=t[s];if(o.Ti===i.Slt&&o.ji===i.Alt)return t.slice(0,s+1);if(o.Ti<i.Slt||o.ji<i.Alt)return t.slice(0,s+2)}return[]};U(),St(),Gt(),Jt();var TL=function(){function t(t){this.Ilt=t}return t.prototype.zct=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:s=0,o=e.Ilt,f.label=1;case 1:if(!(s<o.length))return[3,6];a=o[s],f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.zct(t,n,i,r)];case 3:return(c=f.sent())?[2,c]:[3,5];case 4:return h=f.sent(),u=h,[3,5];case 5:return s++,[3,1];case 6:if(u)throw u;return[2,void 0]}}))}))()},t}();U(),St(),U(),St(),Gt(),Jt();var SL=function(){function t(t){this.Plt=t}return t.prototype.Clt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:s=0,o=e.Plt,h.label=1;case 1:if(!(s<o.length))return[3,6];a=o[s],h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.Clt(t,n,i,r)];case 3:return[2,h.sent()];case 4:return Zo(c=h.sent()),u=c,[3,5];case 5:return s++,[3,1];case 6:throw u}}))}))()},t}();U(),St(),Gt(),Jt();var EL=function(){function t(t){this.lW=t}return t.prototype.Clt=function(t,n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,e.lW.Kk({Gu:t,Yk:xl.wk,jk:n?{Range:"bytes="+n[0]+"-"+(null!=(u=n[1])?u:"")}:void 0,kE:i,yE:fd.GET,Aw:vd.tE,Vw:r})];case 1:return[4,s.sent().Ck()];case 2:return[2,s.sent()]}}))}))()},t}();U(),St(),Gt(),Jt();var IL=function(){function t(t){this.Fut=t}return t.prototype.Clt=function(t,n,i,r){var e=this;return Zt((function(){var i,r;return Ht(this,(function(u){switch(u.label){case 0:return[4,e.Fut.urt(t,n)];case 1:return(i=u.sent())?[2,i.buffer]:n?[4,e.Fut.urt(t)]:[3,3];case 2:if(r=u.sent())return[2,Cc(new I(r.buffer),n[0],n[1])];u.label=3;case 3:throw new LO({Gu:t,rut:n,kE:!1})}}))}))()},t}();U(),St();var RL=1.05,CL=function(t,n,i,r){if(!1===i.Tlt)return t;if(r.zg)return t;for(var e,u,s=r.qg,o=(null!=(e=null==s?void 0:s.width)?e:i.Alt)*RL,a=(null!=(u=null==s?void 0:s.height)?u:i.Slt)*RL,c=t.length-1;c>=0;c--){var h=t[c];if(h.Ti<=a&&h.ji<=o)return t.slice(0,c+1)}return[]},NL=function(){function t(){}return t.fit=function(t,n,i,r,e,u,s,o,a,c){var h=function(t,n){return new SL([new IL(n),new EL(t)])}(u,s),f=new _L([bL],e,qn.Ys,o,a,c),v=new mL(f,n,s,h),l=new _L([kL,bL,AL,CL],e,qn.Ys,o,a,c),d=new gL(l,n,r,h),g=new TL([v,d]);return new sL(t,i,g)},t}();U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Ct();var xL=function(t){function n(n,i,r,e,u,s){var o;return void 0===s&&(s=0),(o=t.call(this,fa.Qy)||this).segmentStartTime=n,o.error=i,o.trackType=r,o.track=e,o.quality=u,o.retryCount=s,o}return Rt(n,t),n}(ha);U(),St(),Ct();var DL=function(t){function n(n,i){var r;return(r=t.call(this,fa.wy)||this).track=n,r.segments=i,r}return Rt(n,t),n}(ha),PL=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Dlt=n,r}return Rt(n,t),n}(Vo),ML=[fa.Jy,fa.eb],BL=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).Kat=n,h.gat=i,h.Olt=r,h.Llt=e,h.ddt=u,h.$lt=s,h.Elt=o,h.qlt=a,h.rH=c,h.Nlt=void 0,h.R2=void 0,h.Mlt=void 0,h.edt=void 0,h.Zlt=0,h.Xlt=0,h.Ylt=MA.mB(),h.ddt.yn(ML,h.Ds),h}Rt(n,t);var i=n.prototype;return i.Blt=function(t){return!this.R2||!t||!Lc(this.R2.dht,t.dht)},i.jat=function(t){if(!this.Nlt)return!1;var n=this.Nlt.But,i=MA.vB(n.FO,n.VO),r=this.Olt.wct,e=r.eB(t);return e<0?i.kr(t,iL):i.nB(t,r.jn(e),!0,!0,iL)},i.qat=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:i=n.gat.Ht.Zat,g.label=1;case 1:0,r=void 0,g.label=2;case 2:return g.trys.push([2,12,16,17]),jo(t),n.Qat(),n.Jat()?[3,18]:(r=n.Flt(),[4,n.zct(r,t)]);case 3:return void 0===(u=g.sent())?[3,18]:(n.Nlt=u,function(t){var n=t.aat,i=n.Bot,r=jO(t.But)?i.olt(t.But):t.But;return i.gdt(r,n.hdt.odt())}(n.Nlt)?[3,5]:[4,n.Vlt(n.Nlt,t)]);case 4:return g.sent(),[3,1];case 5:return!n.Mlt||eN(n.Mlt.aat.Dk,n.Nlt.aat.Dk)?[3,7]:[4,n.Elt.dJ(n.Nlt.aat)];case 6:g.sent(),g.label=7;case 7:return!n.Nlt.aat.AG||n.vat&&(null==(e=n.Mlt)?void 0:e.aat)===n.Nlt.aat||null==(s=n.rH)||s.IG(n.Nlt.aat.AG),[4,n.Wlt(r,n.Nlt.But,t)];case 8:return g.sent(),[4,n.Ult(n.Nlt.aat,t)];case 9:return n.R2=g.sent(),[4,n.Out(n.Nlt,t)];case 10:return o=g.sent(),a=n.Olt.gR,c=n.Mlt,[4,n.Glt(o,t)];case 11:return n.Mlt=g.sent(),h=n.Olt.gR,n.Hlt(c,n.Nlt,a,h,r),i.forEach((function(t){return t.elt=!1})),n.Zlt=0,n.Xlt=0,[3,17];case 12:return(f=g.sent())instanceof EO?(n.f3(f.Cn,f.jn,f.aat),[3,1]):[3,13];case 13:if(!(f instanceof PL))return[3,15];if(v=500,i.every((function(t){return t.elt}))){if(2===n.Zlt){if(l=n.Olt.gR,n.zlt(n.Nlt),n.Hlt(n.Mlt,n.Nlt,l,l,r),i.forEach((function(t){return t.elt=!1})),n.Xlt+=1,n.Zlt=0,n.Xlt===n.qlt.maxRetries)throw new sl(el.MEDIA_LOAD_ERROR,"The segments could not be loaded.",f);return[3,1]}n.Zlt++,d=n.qlt.minimumBackoff*A.pow(2,n.Zlt-1),v=A.min(d,n.qlt.maximumBackoff)}return[4,ra(v,t)];case 14:return g.sent(),[3,1];case 15:throw n.Ylt=MA.mB(),f;case 16:return n.Nlt=void 0,[7];case 17:return[3,1];case 18:return[2]}}))}))()},i.Hlt=function(t,n,i,r,e){var u=r.tB(i),s=n.aat,o=s.Klt(n.But),a=s.jct(n.But),c=n.But.FO,h=n.But.VO;o&&(c=A.min(c,A.max(0,s.Qct.Cn-.05))),a&&(h=A.max(h,s.Qct.jn));var f=MA.vB(c,h).tB(r);if(0!==u.V){if(o||this.Ylt.V>0){var v=f.Sn(MA.vB(c,u.Cn(0)));this.Qlt(v)}var l=u.YL().Sn(MA.vB(u.Cn(0),u.jn(u.V-1)));if(this.Qlt(l),a){var d=f.Sn(MA.vB(u.jn(u.V-1),h));this.Qlt(d)}if(this.Ylt.V>0){var g=this.Ylt.tB(u);this.Qlt(g),this.Ylt=MA.mB()}var m,w=s.Bot,p=jO(n.But)?void 0:w.ult(n.But),y=null!=(m=null==t?void 0:t.But)?m:this.Jlt(p)?p:void 0;if(y){var _=this.gat.Vct(y.FO,y.VO);if(_.length>0){var b=MA.vB(_[_.length-1].Fct,u.Cn(0));this.Qlt(b)}}var k=jO(n.But)?void 0:w.clt(n.But);if(k&&this.Jlt(k)){var T=this.gat.Vct(k.FO,k.VO);if(T.length>0){var S=MA.vB(u.jn(u.V-1),T[0].Oct);this.Qlt(S)}}}else this.jlt(i,f,c,e)},i.jlt=function(t,n,i,r){var e=n;0===this.Ylt.V&&(this.Ylt=MA.vB(t.jn(t.V-1),i)),0===e.V&&void 0!==r&&(e=MA._B(r)),this.Ylt=this.Ylt.JL(e),this.gat.Uct(this.Ylt)},i.Jlt=function(t){return!!t&&this.gat.Vct(t.FO,t.VO).length>0},i.Qlt=function(t){for(var n=t.tB(this.Olt.gR),i=0;i<n.V;i++)n.Cn(i)!==n.jn(i)&&this.$lt.FJ(n.Cn(i),n.jn(i))},i.tdt=function(t,n){throw new PL(t,n)},i.Qat=function(){if(!(this.Ylt.V>0)){var t,n=this.Olt.wct.JL(null!=(t=this.Olt.BJ.zL().dB(this.Olt.bct))?t:MA.mB());this.gat.Dct(n),this.edt&&!this.idt(this.edt)&&(this.edt=void 0),this.wo(new DL(this.gat.Ht.bat,this.gat.Uat()))}},i.Jat=function(){return this.Mlt&&this.Mlt.aat.jct(this.Mlt.But)?(this.$lt.r3(),!0):(this.edt&&this.edt.aat.jct(this.edt.But)&&this.idt(this.edt)&&this.$lt.r3(),!!this.Olt.yct)},i.idt=function(t){return this.gat.Nct.iB(t.sdt,t.ndt)},i.rdt=function(t,n,i){(!this.edt||this.edt.But.VO<t.But.VO)&&(this.edt=us({},t,{sdt:n,ndt:i}))},i.Flt=function(){var t=this.Olt.bct;return t},i.zct=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return jo(n),r=i.Mlt?i.Mlt.aat:void 0,[4,i.Llt.Zct(t,r,n)];case 1:return(e=u.sent())?[2,e]:[2,void 0]}}))}))()},i.Vlt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:r={stack:[],error:void 0,hasError:!1},v.label=1;case 1:return v.trys.push([1,3,4,5]),e=t.aat,u=e.Bot,s=jO(t.But)?u.olt(t.But):t.But,o=e.hdt.odt(),(a=u.adt(s))&&a.getTime()<=o.getTime()?[2,i.tdt(kO.Tht,"Segment is not available.")]:(c=u.udt(s).getTime()-o.getTime(),h=Yt(r,Jo.Qw([n]),!1),[4,ut.race([ra(c,h.Vw),e.vy(SO.iat,h.Vw)])]);case 2:return v.sent(),[3,5];case 3:return f=v.sent(),r.error=f,r.hasError=!0,[3,5];case 4:return Kt(r),[7];case 5:return[2]}}))}))()},i.Ult=function(t,n,i){void 0===i&&(i=0);var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(jo(n),!(e=t.cdt))return[2,r.R2];a.label=1;case 1:return a.trys.push([1,4,,7]),t.ldt?[3,3]:[4,r.ddt.Wut(e,n)];case 2:u=a.sent(),t.ldt=u.qk,a.label=3;case 3:return[3,7];case 4:return Zo(s=a.sent()),jd(s)?2===i?(t.elt=!0,[2,r.tdt(kO.Dht,"Could not fetch the initializer.")]):[4,ra(A.min(r.qlt.minimumBackoff*A.pow(2,i),r.qlt.maximumBackoff),n)]:[3,6];case 5:return a.sent(),[2,r.Ult(t,n,i+1)];case 6:throw new sl(el.MEDIA_LOAD_ERROR,s.message,s);case 7:jo(n),a.label=8;case 8:return a.trys.push([8,11,,12]),r.Blt(t.ldt)?[4,r.$lt.Mot(t.ldt,t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(Zo(o=a.sent()),jd(o))return[2,r.tdt(kO.Dht,"Could not append the initializer.")];throw new sl(el.MEDIA_DECODE_ERROR,o.message,o);case 12:return[2,t.ldt]}}))}))()},i.Out=function(t,n,i){void 0===i&&(i=0);var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,6]),jo(n),[4,r.ddt.Out(t,n)];case 1:case 4:return[2,u.sent()];case 2:return Zo(e=u.sent()),e instanceof tL?function(t){return t instanceof Nd}(e.cause)?(r.fdt(new tL(e,t.But,t.aat),i),[2,r.tdt(kO.Tht,"Could not append the segment.")]):2===i?(t.aat.elt=!0,r.fdt(e,i),[2,r.tdt(kO.Tht,"Could not fetch the segment.")]):[4,ra(A.min(r.qlt.minimumBackoff*A.pow(2,i),r.qlt.maximumBackoff),n)]:[3,5];case 3:return u.sent(),[4,r.Out(t,n,i+1)];case 5:throw new sl(el.MEDIA_LOAD_ERROR,e.message,e);case 6:return[2]}}))}))()},i.Wlt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,l;return Ht(this,(function(d){switch(d.label){case 0:for(e=r.gat.Vct(n.FO,n.VO),u=r.Olt.wct.dB(t),s=MA.mB(),o=0;o<e.length;o++)a=e[o],jo(i),c=a.Oct,h=a.Fct,(f=u&&u.nB(c,h)?A.max(c,u.jn(0)):c)<(v=h)&&(s=s.JL(MA.vB(f,v)));l=0,d.label=1;case 1:return l<s.V?[4,r.$lt._dt(s.Cn(l),s.jn(l),i)]:[3,4];case 2:d.sent(),d.label=3;case 3:return l++,[3,1];case 4:return r.Qat(),[2]}}))}))()},i.Glt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),jo(n),[4,i.$lt.vdt(t.Vut,t.But,t.aat,n)];case 1:return r=u.sent(),i.mdt(t,r.sdt,r.ndt),i.rdt(t,r.sdt,r.ndt),[2,t];case 2:if(Zo(e=u.sent()),jd(e))return i.fdt(new tL(e,t.But,t.aat),0),[2,i.tdt(kO.Tht,"Could not append the segment.")];if(eR(e)&&i.$lt.Lj())return[2,i.tdt(kO.Eht,"Buffer is full. Could not reduce the buffer.")];throw new sl(el.MEDIA_DECODE_ERROR,e.message,e);case 3:return[2]}}))}))()},i.mdt=function(t,n,i){var r=t.aat,e=t.But;this.zat(e,r,n,i)},i.zat=function(t,n,i,r){this.gat.zat({Xat:n.o,Gat:t.FO,Hat:t.VO,Oct:i,Fct:r,Gct:!0}),this.$lt.VJ(i,r)},i.f3=function(t,n,i){var r=MA.vB(t,n);i?this.gat.FJ(r,i.o):this.gat.Uct(r),this.$lt.FJ(t,n)},i.zlt=function(t){var n=MA.vB(t.But.FO,t.But.VO);t.aat?this.gat.FJ(n,t.aat.o):this.gat.Uct(n)},i.fdt=function(t,n){var i=t.cct,r=this.gat.Ht.bat,e=this.gat.Ht.ka,u=t.dct.aat&&t.dct.aat.ka,s=new xL(i,t.message,r,e,u,n);this.wo(s)},i.er=function(){this.R2=void 0,this.Mlt=void 0},i.gn=function(){this.er(),this.edt=void 0,this.ddt.fn(ML,this.Ds),this.ddt.gn()},xt(n,[{key:"fat",get:function(){return this.Nlt}},{key:"vat",get:function(){return this.Mlt}},{key:"pat",get:function(){return this.Llt.pat},set:function(t){this.Llt.pat=t}},{key:"bat",get:function(){return this.gat.Ht.bat}}]),n}(oa);var OL=0,LL=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f){this.pct=t,this.v9=n,this.I3=i,this.lW=r,this.vZ=e,this.pdt=u,this.Fut=s,this.klt=o,this.wlt=a,this.Elt=c,this.qlt=h,this.rH=f}var n=t.prototype;return n.fit=function(t){var n=OL++,i=this.pct.h3,r=new uL(t),e=this.pdt&&rm(i),u=new PO(i,e),s=new rL(this.pct,this.v9,this.I3,this.vZ),o=NL.fit(n,this.pct,r,this.vZ,u,this.lW,this.Fut,this.klt,this.wlt,this.Elt),a=function(t){switch(t){case im.fE:return dd.fE;case im._E:return dd._E;case im.Ak:return dd.Ak;case im.vE:return dd.vE;default:return dd.tE}}(i),c=function(t,n,i,r){var e=new VO(r),u=new nL(t,n,i);return new WO([e,u])}(new NO(this.lW,a),u,e,this.Fut),h=new BL(n,r,s,o,c,this.pct,this.Elt,this.qlt,this.rH);return new CO(n,t._ct,r,h,this.v9)},n.wdt=function(t,n){var i={bat:im.Ak,_ct:n,Zat:n.Zat,ka:t.ka};return this.fit(i)},t}();U(),St();var FL=function(){function t(t){this.Aot=t}var n=t.prototype;return n.cJ=function(t){return this.Aot.cJ(t)},n.dJ=function(t){return this.Aot.dJ(t)},t}(),VL=function(){function t(){}var n=t.prototype;return n.cJ=function(t){return!0},n.dJ=function(t){return ut.resolve(void 0)},t}();U(),St(),Dt(),Ct(),Wt(),U(),St(),Ct();var UL=function(t){function n(n,i){var r;return(r=t.call(this,Rg.hC)||this).IC=n||[],r.Ht=i,r}return Rt(n,t),n.prototype.ba=function(){return new WL(this.IC.map((function(t){return t.ka})))},n}(yg),WL=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return Rt(n,t),n}(ha);U(),St(),Ct();var jL=function(t){function n(n){var i;return(i=t.call(this,Rg.QUALITY_UNAVAILABLE)||this).quality=n,i}return Rt(n,t),n.prototype.ba=function(){return new ZL(this.quality.ka)},n}(bg),ZL=function(t){function n(n){var i;return(i=t.call(this,"qualityunavailable")||this).quality=n,i}return Rt(n,t),n}(kg);U(),St(),Ct();var XL=function(t){function n(){return t.call(this,Rg.NO_QUALITY)||this}return Rt(n,t),n}(ha);function GL(t){return{wG:t.wG,vp:t.Zrt,Ti:HL(t)?t.Ti:0,Aw:HL(t)?im._E:im.fE,ji:HL(t)?t.ji:0}}function HL(t){var n=t;return void 0!==n.Ti&&void 0!==n.ji}U(),St();var zL=0,YL=function(t){function n(n,i,r){var e;return void 0===r&&(r="alternative"),(e=t.call(this)||this).xdt=void 0,e.He=!1,e.su=void 0,e.Cdt=void 0,e.ZS="",e.Udt=!1,e.AO=new lm,e.Mdt=[],e.kdt=void 0,e.Pdt=void 0,e.Adt=function(){return e.wo(new mm(e))},e.Bdt=[],e.Lat=n,e.ZS=String(zL++),e.xO=ym(),e.j4=r,e.NA=n.Htt,e.RO=n.xh,e.Odt=n.Aw,e.Mdt=n.Zat,e.bdt(i),e}Rt(n,t);var i=n.prototype;return i.bdt=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.yn("update",this.Adt),this.AO.SO(i)}},i.Sdt=function(t){if(this.AO.TO(t)){t.oW();var n=this.Tdt();if(this.kdt&&Ao(this.kdt,t)){var i=this.kdt.filter((function(t){return t.znt}));0===i.length&&n.length>0?this.DC=n:this.DC=i}else this.DC=n;this.wo(new jL(t))}},i.Edt=function(t){if(this.AO.TO(t)){var n=this.Tdt();t.rW(),this.kdt&&!function(t,n){return To(t,n,(function(t,n){return t===n}))}(this.kdt,n)||(this.DC=this.Tdt())}},i.Tdt=function(){return this.AO.uC.filter((function(t){return t.znt}))},i.Rdt=function(t){this.xdt=t.aat,this.wo(t)},i.Ddt=function(t){if(t&&0!==t.length){for(var n=[],i=0,r=this.Zat;i<r.length;i++)for(var e=r[i],u=0;u<t.length;u++){var s=t[u];s===e.aat&&s.znt&&n.push(e)}return n}},i.Ldt=function(t){var n;this.Bdt.push(t),(n=this.Mdt).push.apply(n,Ut(t.Zat));var i=t.Zat.map((function(t){return t.aat}));this.bdt(i)},i.CO=function(t){this.He=t,this.Cdt&&(t?this.Cdt.rW(this):this.Cdt.oW(this))},i.Wdt=function(t){this.He=t,this.Udt!==t&&(this.Udt=t,this.wo(new dm(this)))},i.gn=function(){for(var t=0,n=this.AO.uC;t<n.length;t++){n[t].fn("update",this.Adt)}this.AO.er()},xt(n,[{key:"RC",get:function(){return this.Lat.ydt.map(KL).filter(Yn)}},{key:"EC",get:function(){return this.xdt}},{key:"_ct",get:function(){return this.Lat}},{key:"Rt",get:function(){return this.He},set:function(t){this.CO(t)}},{key:"ka",get:function(){return this.su||(this.su=Qg(this)),this.su}},{key:"Idt",get:function(){return this.Cdt},set:function(t){this.Cdt=t}},{key:"o",get:function(){return this.ZS}},{key:"xC",get:function(){return this.xO}},{key:"Lt",get:function(){return this.j4}},{key:"gs",get:function(){return this.NA}},{key:"xh",get:function(){return this.RO},set:function(t){t!==this.RO&&(this.RO=t,this.wo(new mm(this)))}},{key:"xE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"DC",get:function(){return this.kdt},set:function(t){var n;if(t){var i=this.EC?GL(this.EC):void 0;n=t.filter((function(t){return t.znt&&qn.Ys.lp(i,GL(t))}))}else n=this.Tdt();0!==n.length?(this.kdt=t&&this.AO.TO(t)?t:void 0,this.Pdt=this.Ddt(this.kdt),this.wo(new UL(t,this))):this.wo(new XL)}},{key:"Ndt",get:function(){return this.Pdt}},{key:"IC",get:function(){return this.AO}},{key:"Zat",get:function(){return this.Mdt}},{key:"bat",get:function(){return this.Odt}},{key:"Fdt",get:function(){return this.Bdt}},{key:"Vdt",get:function(){return this.Zat.every((function(t){return t.Vdt}))}}]),n}(oa);function KL(t){if("urn:mpeg:dash:role:2011"===t.i9)return qL(t);if("urn:tva:metadata:cs:AudioPurposeCS:2007"===t.i9){if("1"===t.Dx)return Kg.bC;if("2"===t.Dx)return Kg.SC}}function qL(t){if(void 0!==(null==t?void 0:t.Dx))switch(t.Dx){case"caption":return Kg.yC;case"sign":return Kg.AC;case"description":return Kg.bC;case"enhanced-audio-intelligibility":return Kg.SC;default:return}}var JL=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).qA=0,o.lZ=1,o.Ydt=void 0,o.Xdt={},o.qdt={},o.zA=0,o.cft=as(),o.nft=function(t){0},o.v9=n,o.lW=i,o.vZ=r,o.ift=e,o.Fut=u,o.uW=s,o}Rt(n,t);var i=n.prototype;return i.r3=function(){},i.Act=function(){return this.wct.kr(this.jn)},i.vdt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:return t.Aw!==XR.tJ?[3,1]:(s=t.qk.dht,[3,3]);case 1:return[4,t.qk.Ck(r)];case 2:s=g.sent(),g.label=3;case 3:for(u=s,o=e.findTrackForRepresentation(i),a=e.Xdt[o.xC],c=n.FO,h=n.VO,f=new MA([c,h]),a||(e.Xdt[o.xC]=MA.mB(),e.qdt[o.xC]=MA.mB()),e.xot(r),v=e.Lot(new I(u),n,i,o),l=0;l<v.length;l++)d=v[l],o.dW(d);return e.Xdt[o.xC]=e.Xdt[o.xC].JL(f),[2,{sdt:c,ndt:h}]}}))}))()},i.xot=function(t){for(var n=rR(this.v9.SR,void 0,void 0,this.gR,this.vZ.Cj,this.vZ.Sj),i=0;i<n.length;i++){var r=nn(n[i],2),e=r[0],u=r[1];ta(this._dt(e,u,t))}},i.Mot=function(t,n,i){return this.ift.Mot(t,n,i)},i.Lot=function(t,n,i,r){return this.ift.Lot(t,n,i,r)},i._dt=function(t,n,i){for(var r=t,e=n,u=new MA([t,n]),s=0,o=this.Z.uC;s<o.length;s++){for(var a=o[s],c=[],h=0,f=a.L.uC;h<f.length;h++){var v=f[h];v.FO>=r&&v.VO<=e?c.push(v):u=u.tB(new MA([v.FO,v.VO]))}for(var l=0;l<c.length;l++){var d=c[l];a.eW(d)}var g=this.Xdt[a.xC];g&&(this.Xdt[a.xC]=g.tB(u))}return ut.resolve()},i.FJ=function(t,n){},i.VJ=function(t,n){},i.Lj=function(){return!1},i.rW=function(t){var n=this.sft(t);if(n&&this.Gdt!==n){this.Gdt=n;for(var i=0,r=this.Z.uC;i<r.length;i++){var e=r[i];e!==n&&(e.xE=Gp.Th)}if(this.ift.er(),this.Ydt&&(this.Ydt.gn(),this.Ydt=void 0),this.Gdt){var u=this.$dt(this.Gdt);this.Ydt=new LL(this,this.v9,this.v9,this.lW,this.vZ,!1,this.Fut,void 0,void 0,new VL,RT,void 0).wdt(this.Gdt,u),this.Ydt.yn(zp.da,this.nft),this.Ydt.Cn(kO.ght)}}},i.oW=function(t){if(this.Gdt===t){var n=this.sft(t);n&&this.Gdt===n&&(this.Gdt=void 0),this.Ydt&&(this.Ydt.gn(),this.Ydt=void 0)}},i.Dn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.er()];case 1:return i.sent(),n.jdt=t,n.rft(t),[2]}}))}))()},i.oft=function(t){var n=function(t){var n=t.Zat&&t.Zat.length>0&&t.Zat[0],i=n&&uy(n.Zrt),r=uy(t.Zrt),e=t.Yq===Bv.APPLICATION_TTML_XML;return i||r||e?xm.TTML:t.Yq===Bv.TEXT_VTT||cy(t.Yq,t.Zrt)?xm.WEBVTT:xm.DEFAULT}(t);if(!n)throw new y("Unknown TextTrack type for Representation");var i=t.hft.concat(t.ydt);return this.aft(function(t){return Ao(t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.i9})).map((function(t){return t.Dx})).filter(Yn),"caption")?$p.QV:$p.jV}(i),t.xh,t.Htt,!1,n,t,function(t){return t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.i9})).some((function(t){return function(t){return"forced-subtitle"===t||"forced_subtitle"===t}(t.Dx)}))}(t.hft),t.ydt.map(qL).filter(Yn))},i.rft=function(t){for(var n=0,i=t.uft;n<i.length;n++){var r=i[n],e=this.oft(r);this.cft.set(e.xC,r),e.sI=Nm.LOADED,this.tt(e)}},i.it=function(n){this.cft.delete(n.xC),t.prototype.it.call(this,n)},i.aft=function(t,n,i,r,e,u,s,o){var a,c,h=u.Zat.reduce((function(t,n){return t||n.o}),void 0),f=null!=(c=null!=h?h:null==(a=u.o)?void 0:a.toString())?c:"";return this.uW.LI(t,f,n,i,r,e,s,o)},i.er=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.er.call(n)];case 1:return i.sent(),n.Ydt?[4,n.Ydt.er(kO.Vht)]:[3,3];case 2:i.sent(),n.Ydt.fn(zp.da,n.nft),n.Ydt=void 0,i.label=3;case 3:return n.jdt=void 0,n.Xdt={},n.qdt={},[2]}}))}))()},i.lft=function(){this.Xdt={},this.qdt={}},i.findTrackForRepresentation=function(t){for(var i=0,r=this.Z.uC;i<r.length;i++){var e=r[i],u=this.$dt(e);if(u&&n.dft(u)===t)return e}},i.sft=function(t){return go(this.Z.uC,(function(n){return t.xC===n.xC}))},i.$dt=function(t){return this.cft.get(t.xC)},i.Qdt=function(){if(this.Gdt){var t=this.$dt(this.Gdt);if(t)return n.dft(t)}},i.gn=function(){for(var n=0,i=this.Z.uC;n<i.length;n++){var r=i[n];this.uW._W(r)}return t.prototype.gn.call(this)},n.dft=function(t){return t.Zat&&t.Zat.length>0?t.Zat[0]:void 0},xt(n,[{key:"Gdt",get:function(){return this.Hdt},set:function(t){this.Hdt=t}},{key:"Rt",get:function(){for(var t=0,n=this.Z.uC;t<n.length;t++){if(n[t].xE!==Gp.Th)return!0}return!1}},{key:"HG",get:function(){var t=this.v9.SR;return this.wct.dB(t,.01)}},{key:"Zdt",get:function(){return this.Gdt&&this.Xdt[this.Gdt.xC]?this.Xdt[this.Gdt.xC]:MA.mB()}},{key:"zdt",get:function(){return this.Gdt&&this.qdt[this.Gdt.xC]?this.qdt[this.Gdt.xC]:MA.mB()}},{key:"Sct",get:function(){return new MA([0,1/0])}},{key:"gR",get:function(){return this.Zdt}},{key:"BJ",get:function(){return this.Ydt?this.Ydt.mat.BJ.Tct:MA.mB()}},{key:"wct",get:function(){return AO(this.gR,this.BJ).QL(2*this.Kdt)}},{key:"Cn",get:function(){return this.jdt?this.jdt.Qct.Cn:NaN}},{key:"jn",get:function(){return this.jdt?this.jdt.Qct.jn:NaN}},{key:"RR",get:function(){var t=this.jn;return!!t&&this.v9.SR>=t}},{key:"Kdt",get:function(){var t,n,i=this.Qdt();return i?1/(null!=(n=this.Gdt&&(null==i||null==(t=i.Jdt)?void 0:t.dF()))?n:25):.04}},{key:"Ti",get:function(){return this.qA}},{key:"h3",get:function(){return im.Ak}},{key:"KR",get:function(){return this.lZ},set:function(t){this.lZ=t}},{key:"JR",get:function(){return this.zdt}},{key:"rI",get:function(){if(!this.Gdt)return MA._B(0);var t=this.$dt(this.Gdt),n=null==t?void 0:t.tft,i=null==t?void 0:t.eft;if(void 0===i||void 0===n)return MA._B(0);var r=A.max(n,this.v9.SR);return new MA([i,r]).zL()}},{key:"ji",get:function(){return this.zA}}]),n}(my),QL=function(){function t(t,n,i,r,e,u){this.vft=[],this.Ll=new Bk([]),this.v9=t,this.lW=n,this.vZ=i,this.Fut=r,this.uW=e,this.Oot=u}var n=t.prototype;return n.cW=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return t.Aw!==im.Ak?[2]:(i=function(t,n,i){return uy(n)||t===Bv.APPLICATION_TTML_XML||t===Bv.TEXT_VTT?new gO(i):cy(t,n)?new yO:void 0}(t.Yq,t.Zrt,n.Oot),i?(r=n.fft(i),n._ft(r),[4,r.Dn(t)]):[3,2]);case 1:return e.sent(),[2,r];case 2:return[2]}}))}))()},n.fft=function(t){return new JL(this.v9,this.lW,this.vZ,t,this.Fut,this.uW)},n._ft=function(t){this.vft.push(t),this.Ll.DG(t.Z)},n.er=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=0,i=t.vft.slice(),r.label=1;case 1:return n<i.length?[4,i[n].er()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return So(t.vft),t.Ll.er(),[2]}}))}))()},n.gn=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=0,i=t.vft,r.label=1;case 1:return n<i.length?[4,i[n].gn()]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return So(t.vft),t.Ll.gn(),[2]}}))}))()},xt(t,[{key:"nt",get:function(){return this.Ll}}]),t}();U(),St(),Ct();var $L=function(t){function n(n){var i;return(i=t.call(this,fa.Uy)||this).error=n,i}return Rt(n,t),n}(ha);U(),St();var tF=function(t){return t.mW="static",t.gW="dynamic",t}({});U(),St(),Ct(),U(),St();var nF=function(t){return t.mft="gft",t}({}),iF=function(t){function n(){return t.call(this,nF.mft)||this}return Rt(n,t),n}(ha);U(),St(),Gt(),Dt(),Ct(),rn(),Jt(),U(),St(),Ct();var rF=function(t){function n(n,i){var r;return(r=t.call(this,fa.qy)||this).representation=n,r.previousRepresentation=i,r}return Rt(n,t),n}(ha);U(),St(),Ct(),U(),St(),Wt(),U(),St();var eF=function(t){return t[t.pft=0]="pft",t[t.wft=1]="wft",t[t.yft=2]="yft",t[t.bft=3]="bft",t[t.Aft=4]="Aft",t[t.Sft=5]="Sft",t}({}),uF=function(t){return t[t.Tft=0]="Tft",t[t.kft=1]="kft",t[t.Eft=2]="Eft",t[t.xft=3]="xft",t}({});function sF(t,n,i){return i===eF.pft?i:n!==uF.Tft&&n!==uF.kft||i!==eF.wft&&i!==eF.yft?t?n===uF.Eft?eF.Aft:n===uF.xft?eF.bft:eF.pft:eF.Sft:eF.yft}function oF(t,n,i,r){var e={byte:i},u=eF.wft,s=[],o=31&IC(n,e,r);e.byte+=1;for(var a=0;a<o;a+=1){var c=IC(n,e,r),h=4&c,f=3&c;u=sF(Boolean(h),f,u);var v=IC(n,e,r),l=IC(n,e,r);s.push({Rft:t,eL:-1,Ift:!a,Cft:Boolean(h),Aw:f,Pft:u,Dft:v,Nft:l})}return s}function aF(t,n,i){var r=IC(t,n,i);if(!E(r))return String.fromCharCode(r)}function cF(t){var n=t.V0,i={byte:t.O0},r=t.F0,e=IC(n,i,r);if(255===e&&(i.byte+=1),181===e){var u=RC(n,i);if(47===u||49===u){if(49===u){var s=function(t,n,i){for(var r="",e=i;e>0;)e-=1,r+=aF(t,n);return r}(n,i,4);if("GA94"!==s)return}if(3===IC(n,i,r)){47===u&&(i.byte+=1);var o=t;return o.Mft=i.byte,o}}}}function hF(t){return 4===t.L0}function fF(t){for(var n=t.filter(hF).map(cF).filter(Yn),i=[],r=0;r<n.length;r++){var e,u=n[r];(e=i).push.apply(e,Ut(oF(u.M0,u.V0,u.Mft,u.F0)))}return i}U(),St();var vF="und";function lF(t){if(t!==vF)for(var n=t.toLowerCase(),i=0;i<dF.length;i++){var r=dF[i];if(r[1]===n||r[2]===n||r["2T"]===n||r["2B"]===n||r[3]===n)return r}}var dF=[{l:"Abkhaz",ph:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{l:"Afar",ph:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{l:"Afrikaans",ph:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{l:"Akan",ph:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{l:"Albanian",ph:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{l:"Amharic",ph:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{l:"Arabic",ph:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{l:"Aragonese",ph:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{l:"Armenian",ph:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{l:"Assamese",ph:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{l:"Avaric",ph:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{l:"Avestan",ph:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{l:"Aymara",ph:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{l:"Azerbaijani",ph:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{l:"Bambara",ph:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{l:"Bashkir",ph:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{l:"Basque",ph:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{l:"Belarusian",ph:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{l:"Bengali",ph:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{l:"Bihari",ph:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{l:"Bislama",ph:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{l:"Bosnian",ph:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{l:"Breton",ph:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{l:"Bulgarian",ph:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{l:"Burmese",ph:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{l:"Catalan",ph:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{l:"Chamorro",ph:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{l:"Chechen",ph:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{l:"Chichewa",ph:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{l:"Chinese",ph:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{l:"Chuvash",ph:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{l:"Cornish",ph:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{l:"Corsican",ph:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{l:"Cree",ph:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{l:"Croatian",ph:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{l:"Czech",ph:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{l:"Danish",ph:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{l:"Divehi",ph:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{l:"Dutch",ph:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{l:"Dzongkha",ph:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{l:"English",ph:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{l:"Esperanto",ph:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{l:"Estonian",ph:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{l:"Ewe",ph:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{l:"Faroese",ph:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{l:"Fijian",ph:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{l:"Finnish",ph:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{l:"French",ph:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{l:"Fula",ph:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{l:"Galician",ph:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{l:"Georgian",ph:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{l:"German",ph:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{l:"Greek",ph:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{l:"Guaran\xed",ph:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{l:"Gujarati",ph:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{l:"Haitian",ph:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{l:"Hausa",ph:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{l:"Hebrew",ph:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{l:"Herero",ph:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{l:"Hindi",ph:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{l:"Hiri Motu",ph:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{l:"Hungarian",ph:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{l:"Interlingua",ph:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{l:"Indonesian",ph:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{l:"Interlingue",ph:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{l:"Irish",ph:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{l:"Igbo",ph:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{l:"Inupiaq",ph:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{l:"Ido",ph:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{l:"Icelandic",ph:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{l:"Italian",ph:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{l:"Inuktitut",ph:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{l:"Japanese",ph:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{l:"Javanese",ph:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{l:"Kalaallisut",ph:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{l:"Kannada",ph:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{l:"Kanuri",ph:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{l:"Kashmiri",ph:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{l:"Kazakh",ph:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{l:"Khmer",ph:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{l:"Kikuyu",ph:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{l:"Kinyarwanda",ph:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{l:"Kyrgyz",ph:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{l:"Komi",ph:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{l:"Kongo",ph:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{l:"Korean",ph:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{l:"Kurdish",ph:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{l:"Kwanyama",ph:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{l:"Latin",ph:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{l:"Luxembourgish",ph:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{l:"Ganda",ph:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{l:"Limburgish",ph:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{l:"Lingala",ph:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{l:"Lao",ph:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{l:"Lithuanian",ph:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{l:"Luba-Katanga",ph:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{l:"Latvian",ph:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{l:"Manx",ph:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{l:"Macedonian",ph:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{l:"Malagasy",ph:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{l:"Malay",ph:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{l:"Malayalam",ph:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{l:"Maltese",ph:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{l:"M\u0101ori",ph:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{l:"Marathi",ph:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{l:"Marshallese",ph:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{l:"Mongolian",ph:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{l:"Nauru",ph:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{l:"Navajo",ph:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{l:"Northern Ndebele",ph:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{l:"Nepali",ph:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{l:"Ndonga",ph:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{l:"Norwegian Bokm\xe5l",ph:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{l:"Norwegian Nynorsk",ph:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{l:"Norwegian",ph:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{l:"Nuosu",ph:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{l:"Southern Ndebele",ph:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{l:"Occitan",ph:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{l:"Ojibwe",ph:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{l:"Old Church Slavonic",ph:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{l:"Oromo",ph:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{l:"Oriya",ph:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{l:"Ossetian",ph:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{l:"Panjabi",ph:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{l:"P\u0101li",ph:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{l:"Persian",ph:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{l:"Polish",ph:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{l:"Pashto",ph:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{l:"Portuguese",ph:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{l:"Quechua",ph:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{l:"Romansh",ph:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{l:"Kirundi",ph:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{l:"Romanian",ph:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{l:"Russian",ph:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{l:"Sanskrit",ph:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{l:"Sardinian",ph:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{l:"Sindhi",ph:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{l:"Northern Sami",ph:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{l:"Samoan",ph:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{l:"Sango",ph:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{l:"Serbian",ph:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{l:"Gaelic",ph:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{l:"Shona",ph:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{l:"Sinhala",ph:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{l:"Slovak",ph:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{l:"Slovene",ph:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{l:"Somali",ph:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{l:"Southern Sotho",ph:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{l:"Spanish",ph:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{l:"Sundanese",ph:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{l:"Swahili",ph:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{l:"Swati",ph:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{l:"Swedish",ph:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{l:"Tamil",ph:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{l:"Telugu",ph:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{l:"Tajik",ph:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{l:"Thai",ph:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{l:"Tigrinya",ph:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{l:"Tibetan Standard",ph:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{l:"Turkmen",ph:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{l:"Tagalog",ph:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{l:"Tswana",ph:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{l:"Tonga",ph:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{l:"Turkish",ph:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{l:"Tsonga",ph:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{l:"Tatar",ph:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{l:"Twi",ph:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{l:"Tahitian",ph:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{l:"Uyghur",ph:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{l:"Ukrainian",ph:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{l:"Urdu",ph:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{l:"Uzbek",ph:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{l:"Venda",ph:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{l:"Vietnamese",ph:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{l:"Volap\xfck",ph:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{l:"Walloon",ph:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{l:"Welsh",ph:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{l:"Wolof",ph:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{l:"Western Frisian",ph:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{l:"Xhosa",ph:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{l:"Yiddish",ph:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{l:"Yoruba",ph:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{l:"Zhuang",ph:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{l:"Zulu",ph:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}];U(),St(),Wt();function gF(t){var n,i=null!=(n=function(t){var n=t.b0,i=new CC;return i.E0(n,0,n.byteLength),jC(i).t1}(t))?n:24;return t.Lft/i}function mF(t){return t.Aw===cp.nD}function wF(t,n,i,r,e){for(var u,s=function(t,n,i,r){var e=i.Lft,u=ur.fromNumber(t.fL||0),s=r.SO(ww.xF(u,e));return{Bft:r.dF(),Oft:r,Fft:s,Vft:r}}(t,0,i,r),o=ww.RF(t.ct||0,i.Lft),a=t.KD||0,c=!(65536&a)&&1!==(a>>24&3),h=Sc(e),f=new Dc;f.ec<h.byteLength;){var v=$a(h,f);if((31&Ka(h,f,1))===FC.X0){var l,d=new CC;d.E0(e,f.ec-1,f.ec+v-1);var g=new WC(d),m=BC(s.Fft,g);(l=u=u||[]).push.apply(l,Ut(fF(m)))}f.kb(v-1)}return us({},s,{ct:o.dF(),Wft:o,Uft:s.Fft.dF(),Gft:s.Bft,Hft:c,Zft:u,Xft:!1,zft:!1})}function pF(t){return{TN:t.HD.TN,Lft:t.yN.HD._N}}function yF(t){return t.Aw===cp.vP}U(),St(),Ct(),U(),St(),Ct(),U(),St(),Wt(),U(),St(),U(),St(),U(),St(),Ct(),U(),St(),U(),St();var _F=function(){function t(t,n){this.Qtt=t,this.Wtt=n}return t.prototype.eF=function(t){return this.Qtt===t.Qtt&&this.Wtt===t.Wtt},t}();U(),St(),Dt();var bF=function(){function t(t,n){this.KQ=t,this.Yft=n,this.qft=""}var n=t.prototype;return n.Kft=function(t){this.qft+=t},n.jft=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Kft(i)}},xt(t,[{key:"det",get:function(){return this.qft}},{key:"het",get:function(){return[this]}},{key:"cet",get:function(){return this.KQ}},{key:"Xtt",get:function(){return this.Yft}},{key:"Ytt",get:function(){return new _F(this.Xtt.Qtt,this.Xtt.Wtt+this.det.length-1)}}]),t}();function kF(t,n){return t===n||t.det===n.det&&t.Xtt.eF(n.Xtt)&&Bg(t.cet,n.cet)}function AF(t,n){return t===n||t.Xtt.eF(n.Xtt)&&t.Ytt.eF(n.Ytt)&&To(t.het,n.het,kF)}var TF=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return Rt(n,t),n.prototype.iF=function(t){return To(this.U,t.U,AF)},n}(qm);U(),St(),Dt();var SF=function(){function t(){}var n=t.prototype;return n.Qft=function(t){return t.kV(this)},n.Jft=function(t){var n=this;return Io(t,(function(t,i){return t.kV(n,i)}))},n.$ft=function(t,n){return new EF(t,n).t_t()},t}(),EF=function(){function t(t,n){this.Qtt=t,this.h_t=n,this.n_t=[],this.o_t=null}var n=t.prototype;return n.t_t=function(){if(this.e_t)return[];for(var t=0;t<this.Qtt.length;t++)this.i_t(t);return this.s_t(),this.n_t},n.r_t=function(t){this.o_t=new bF(HP,new _F(this.h_t,t))},n.s_t=function(){this.o_t&&(this.n_t.push(this.o_t),this.o_t=null)},n.i_t=function(t){var n=this.Qtt[t];IF(n)?this.o_t&&this.s_t():(this.o_t||this.r_t(t),this.o_t.Kft(n))},xt(t,[{key:"e_t",get:function(){return this.Qtt.every(IF)}}]),t}();function IF(t){return null==t}var RF=function(){function t(){}return t.a_t=function(t,n,i){if(!(n>=i)){var r=Io(t,(function(t,n){return new EF(t.map((function(t){return t?t.u_t():null})),n).t_t()}));if(0!==r.length)return new TF(n,i,r)}},t}(),CF="black",NF="white";U(),St(),U(),St();var xF=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce((function(t,n){return t[n[0]]=n[1],t}),{}),DF=function(){function t(){this.l_t=[],this.__t=0;for(var t=0;t<qP;t++)this.l_t.push(null);this.g_t=!1}var n=t.prototype;return n.c_t=function(t){for(var n=0;n<qP;n++)t&&(this.l_t[n]=t.l_t[n])},n.eF=function(t){for(var n=0;n<qP;n++)if(this.l_t[n]!==t.l_t[n])return!1;return!0},n.d_t=function(){for(var t=0;t<qP;t++)if(null!==this.l_t[t])return!1;return!0},n.f_t=function(t){this.__t!==t&&(this.__t=t),this.__t<0?this.__t=0:this.__t>qP&&(this.__t=31)},n.v_t=function(t){var n=this.__t+t;this.f_t(n)},n.m_t=function(){this.v_t(-1),this.l_t[this.__t]=null},n.Kft=function(t){t>=144&&this.m_t();var n=function(t){return xF[t]?String.fromCharCode(xF[t]):String.fromCharCode(t)}(t);this.addParsedChar(n)},n.addParsedChar=function(t){this.__t>=qP||(32===Number(t)?(this.l_t[this.__t]=this.g_t?"</i>":"<i>",this.g_t=!this.g_t):this.l_t[this.__t]=t,this.v_t(1))},n.p_t=function(t){for(var n=t;n<qP;n++)this.l_t[n]=null},n.Bb=function(){this.p_t(0),this.__t=0},n.w_t=function(){this.p_t(this.__t)},n.y_t=function(t,n){for(var i=this.l_t,r=null,e=0;e<qP;e++){var u=i[e];null===u?r=null:(r||(r={Hh:e,qh:t,ji:0,Ti:1,l_t:[[]]},n.push(r)),r.l_t[0].push(u),r.ji++)}},n.kV=function(t,n){return t.$ft(this.l_t,n)},t}();var PF=function(){function t(t,n){this.T_t=new Array(MF+1);for(var i=0;i<=MF;i++)this.T_t[i]=new DF;this.x_t=1,this.P_t=0,this.A_t=t,this.S_t=n,this.F_t=!1,this.W_t=!1,this.G_t=NF,this.Z_t=CF,this.er()}var n=t.prototype;return n.b_t=function(t,n){var i="CC"+(this.A_t<<1|this.S_t+1);if(t>=n)return null;var r=(new SF).Jft(this.T_t.slice(1));return 0===r.length?null:{BO:new TF(t,n,r),Pk:i,k_t:this.A_t<<1|this.S_t+1}},n.er=function(){this.E_t(),this.x_t=1},n.R_t=function(){return this.x_t},n.I_t=function(t){this.x_t=t},n.f_t=function(t){this.T_t[this.x_t].f_t(t)},n.v_t=function(t){this.T_t[this.x_t].v_t(t)},n.C_t=function(){return this.P_t},n.D_t=function(t){this.P_t=t},n.Kft=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case 0:i=void 0!==OF[n]?OF[n]:String.fromCharCode(n);break;case 1:i=LF[n];break;case 2:this.N_t(),i=FF[n];break;case 3:this.N_t(),i=VF[n]}i&&this.T_t[this.x_t].addParsedChar(i)}},n.N_t=function(){this.T_t[this.x_t].m_t()},n.M_t=function(t,n,i){if(t>=n)for(var r=i-1;r>=0;r--)this.T_t[t+r]=this.T_t[n+r];else for(var e=0;e<i;e++)this.T_t[t+e]=this.T_t[n+e]},n.L_t=function(t,n){for(var i=0;i<=n;i++)this.T_t[t+i]=new DF},n.E_t=function(){this.L_t(0,MF)},n.B_t=function(){this.x_t=this.P_t>0?this.P_t:0,this.E_t()},n.O_t=function(t){this.F_t=t},n.V_t=function(t){this.W_t=t},n.U_t=function(t){this.G_t=t},n.H_t=function(t){this.Z_t=t},t}(),MF=15,BF=function(t){return t[t.X_t=0]="X_t",t[t.z_t=1]="z_t",t[t.q_t=2]="q_t",t[t.Y_t=3]="Y_t",t}({}),OF={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},LF={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},FF={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},VF={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},UF=function(){function t(t,n){this.bp=0,this.evt=new PF(t,n),this.J_t=new PF(t,n),this.tvt=new PF(t,n),this.Q_t=this.J_t,this.j_t=0,this.$_t=void 0,this.K_t=!1}var n=t.prototype;return n.er=function(){this.K_t=!0,this.j_t=0,this.bp=0,this.Q_t=this.J_t,this.$_t=void 0,this.J_t.er(),this.tvt.er(),this.evt.er()},n.ivt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.svt=function(t,n){var i=this.ivt(t,n),r=(30&n)>>1,e=NF,u=!1;r<7?e=ZF[r]:7===r&&(u=!0);var s=1==(1&n);if(4!==this.bp){var o=this.Q_t;if(3===this.bp&&i!==o.R_t()){var a=1+o.R_t()-o.C_t(),c=1+i-o.C_t();o.M_t(c,a,o.C_t()),o.L_t(0,c-1),o.L_t(i+1,MF-i)}o.I_t(i);var h=YP[t<<1&14|n>>5&1]-1;if(!(h<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{Vtt:zP[i].Vtt,Ftt:zP[i].Ftt,Wtt:zP[i].Wtt,Qtt:t}}(h,n);o.f_t(f.Wtt),this.Q_t.O_t(s),this.Q_t.V_t(u),this.Q_t.U_t(e),this.Q_t.H_t(CF)}}},n.nvt=function(t,n){this.Q_t.O_t(!1),this.Q_t.V_t(!1),this.Q_t.U_t(NF);var i=this.rvt(t,BF.X_t," ".charCodeAt(0)),r=NF,e=!1,u=1==(1&n);return"white_italics"===(r=ZF[(14&n)>>1])&&(r="white",e=!0),this.Q_t.O_t(u),this.Q_t.V_t(e),this.Q_t.U_t(r),i},n.rvt=function(t,n,i){if(this.Q_t.Kft(n,i),2===this.bp||3===this.bp){var r=this.ovt(this.Q_t,this.j_t,t);return this.j_t=t,r}return null},n.ovt=function(t,n,i){return this.K_t?null:2===this.bp||3===this.bp?t.b_t(i,i+10):t.b_t(n,i)},n.avt=function(t,n){var i=CF;0==(7&t)&&(i=jF[(14&n)>>1]),this.Q_t.H_t(i)},n.uvt=function(t){var n=WF,i=t.cvt,r=t.lvt,e=null;switch(i){case n.RCL:this.dvt();break;case n.BS:this.fvt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:e=this._vt(2,r);break;case n.RU3:e=this._vt(3,r);break;case n.RU4:e=this._vt(4,r);break;case n.FON:e=this.vvt(r);break;case n.RDC:this.mvt(r);break;case n.TR:this.gvt();break;case n.RTD:this.pvt();break;case n.EDM:e=this.wvt(r);break;case n.CR:e=this.yvt(r);break;case n.ENM:this.bvt();break;case n.EOC:e=this.Avt(r)}return e},n.yvt=function(t){var n=this.Q_t;if(3!==this.bp)return null;var i=this.ovt(n,this.j_t,t),r=n.R_t()-n.C_t()+1;return n.M_t(r-1,r,n.C_t()),n.L_t(0,r-1),n.L_t(n.R_t(),MF-n.R_t()),this.j_t=t,i},n._vt=function(t,n){this.Q_t=this.J_t;var i=this.Q_t,r=null;return 3!==this.bp&&4!==this.bp&&(r=this.ovt(i,this.j_t,n),this.J_t.B_t(),this.tvt.B_t(),this.K_t=!1,i.I_t(MF)),this.bp=3,i.D_t(t),r},n.vvt=function(t){return this.rvt(t,BF.X_t," ".charCodeAt(0))},n.wvt=function(t){var n=this.J_t,i=null;return 4!==this.bp&&(i=this.ovt(n,this.j_t,t)),n.E_t(),this.K_t=!1,i},n.mvt=function(t){this.bp=2,this.Q_t=this.J_t,this.Q_t.D_t(0),this.j_t=t},n.bvt=function(){this.tvt.E_t()},n.Avt=function(t){var n=null;4!==this.bp&&(n=this.ovt(this.J_t,this.j_t,t));var i=this.tvt;return this.tvt=this.J_t,this.J_t=i,this.dvt(),this.j_t=t,n},n.dvt=function(){this.bp=1,this.Q_t=this.tvt,this.Q_t.D_t(0)},n.fvt=function(){this.Q_t.N_t()},n.gvt=function(){this.evt.er(),this.K_t=!1,this.pvt()},n.pvt=function(){this.Q_t=this.evt,this.bp=4},n.Svt=function(t,n,i){return this.Q_t.Kft(BF.X_t,n),this.rvt(t,BF.X_t,i)},n.Tvt=function(t,n,i){var r=1&n?BF.Y_t:BF.q_t;return this.rvt(t,r,i)},n.kvt=function(t){var n=t.Evt,i=t.cvt,r=t.lvt;if(this.$_t===(n<<8|i))return this.$_t=void 0,null;if(this.$_t=n<<8|i,this.xvt(n,i))this.svt(n,i);else{if(this.Rvt(n,i))return this.nvt(r,i);if(this.Ivt(n,i))this.avt(n,i);else{if(this.Cvt(n,i))return this.rvt(r,BF.z_t,i);if(this.Pvt(n,i))return this.Tvt(r,n,i);if(this.Dvt(n,i))return this.uvt(t);this.isTabOffset(n)&&this.Q_t.v_t(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.Dvt=function(t,n){return 20==(246&t)&&32==(240&n)},n.xvt=function(t,n){return 16==(240&t)&&64==(192&n)},n.Rvt=function(t,n){return 17==(247&t)&&32==(240&n)},n.Ivt=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.Cvt=function(t,n){return 17==(247&t)&&48==(240&n)},n.Pvt=function(t,n){return 18==(246&t)&&32==(224&n)},t.Nvt=function(t){return 16==(112&t)},t}(),WF={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47},jF=["black","green","blue","cyan","red","yellow","magenta","black"],ZF=["white","green","blue","cyan","red","yellow","magenta","white_italics"];U(),St(),Jt(),U(),St(),U(),St();var XF=function(){function t(t,n,i,r,e){this.Mvt=t,this.F_t=n,this.W_t=i,this.Z_t=r,this.G_t=e}var n=t.prototype;return n.u_t=function(){return this.Mvt},n.Lvt=function(){return this.F_t},n.Bvt=function(){return this.W_t},n.Ovt=function(){return this.Z_t},n.Fvt=function(){return this.G_t},t}(),GF=function(){function t(t){this._mt=t,this.rZ=!1,this.Hvt=!1,this.Uvt=0,this.Wvt=0,this.Gvt=0,this.Zvt=0,this.Xvt=0,this.dmt=2,this.qvt=[],this.YO=0,this.x_t=0,this.Qvt=0,this.W_t=!1,this.F_t=!1,this.G_t=NF,this.Z_t=CF,this.zvt()}var n=t.prototype;return n.Vvt=function(t,n,i,r,e,u,s){this.rZ=t,this.Wvt=n,this.Uvt=i,this.Gvt=r,this.Hvt=e,this.Zvt=u,this.Xvt=s},n.zvt=function(){this.qvt=[];for(var t=0;t<zF;t++)this.qvt.push(this.Yvt())},n.Yvt=function(){for(var t=[],n=0;n<HF;n++)t.push(null);return t},n.Kvt=function(t){this.jvt()&&(this.qvt[this.x_t][this.Qvt]=new XF(t,this.F_t,this.W_t,this.Z_t,this.G_t),this.Qvt++)},n.Jvt=function(){this.jvt()&&(this.Qvt<=0&&this.x_t<=0||(this.Qvt<=0?(this.Qvt=this.Xvt-1,this.x_t--):this.Qvt--,this.qvt[this.x_t][this.Qvt]=null))},n.jvt=function(){var t=this.x_t<this.Zvt&&this.x_t>=0,n=this.Qvt<this.Xvt&&this.Qvt>=0;return t&&n},n.$vt=function(){return this.rZ},n.tmt=function(t){for(var n=0,i=t;i<zF;i++,n++)this.qvt[n]=this.qvt[i];for(var r=0;r<t;r++,n++)this.qvt[n]=this.Yvt()},n.emt=function(){if(this.x_t+1>=this.Zvt)return this.tmt(1),void(this.Qvt=0);this.x_t++,this.Qvt=0},n.imt=function(){this.qvt[this.x_t]=this.Yvt(),this.Qvt=0},n.b_t=function(t,n){if(this.YO>=t)return null;var i=RF.a_t(this.qvt,this.YO,t);return i?(this.smt(t),{BO:i,Pk:"svc"+n,k_t:n}):null},n.nmt=function(t,n){this.x_t=t,this.Qvt=n},n.omt=function(t){this.Z_t=t},n.hmt=function(t){this.G_t=t},n.amt=function(t){this.F_t=t},n.umt=function(t){this.W_t=t},n.cmt=function(){this.x_t=0,this.Qvt=0,this.F_t=!1,this.W_t=!1,this.G_t=NF,this.Z_t=CF},n.lmt=function(t){this.dmt=t},n.fmt=function(){this.rZ=!0},n.be=function(){this.rZ=!1},n.Ch=function(){this.rZ=!this.rZ},n.smt=function(t){this.YO=t},t}(),HF=42,zF=15,YF=function(){function t(t){this.Emt=t,this.Bmt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.kmt=void 0}var n=t.prototype;return n.vmt=function(t){var n=t.mmt(),i=n.Dx,r=n.lvt;i===$F&&(i=i<<16|t.mmt().Dx);return i>=0&&i<=31?this.gmt(i,r):i>=128&&i<=159?this.pmt(t,i,r):(i>=4096&&i<=4127?this.wmt(t,255&i):i>=4224&&i<=4255?this.ymt(t,255&i):i>=32&&i<=127?this.bmt(i):i>=160&&i<=255?this.Amt(i):i>=4128&&i<=4223?this.Smt(255&i):i>=4256&&i<=4351&&this.Tmt(255&i),null)},n.bmt=function(t){this.kmt&&(127!==t?this.kmt.Kvt(String.fromCharCode(t)):this.kmt.Kvt("\u266a"))},n.Amt=function(t){this.kmt&&this.kmt.Kvt(String.fromCharCode(t))},n.Smt=function(t){if(this.kmt)if(void 0!==tV[t]){var n=tV[t];this.kmt.Kvt(n)}else this.kmt.Kvt("_")},n.Tmt=function(t){this.kmt&&(160===t?this.kmt.Kvt("[CC]"):this.kmt.Kvt("_"))},n.gmt=function(t,n){if(!this.kmt)return null;var i=this.kmt,r=null;switch(t){case KF:i.Jvt();break;case JF:i.$vt()&&(r=i.b_t(n,this.Emt)),i.emt();break;case QF:i.$vt()&&(r=i.b_t(n,this.Emt)),i.imt();break;case qF:i.$vt()&&(r=i.b_t(n,this.Emt)),i.zvt(),i.nmt(0,0)}return r},n.pmt=function(t,n,i){if(n>=128&&n<=135){var r=7&n;this.xmt(r)}else{if(136===n){var e=t.mmt().Dx;return this.Rmt(e,i)}if(137===n){var u=t.mmt().Dx;this.Imt(u,i)}else{if(138===n){var s=t.mmt().Dx;return this.Cmt(s,i)}if(139===n){var o=t.mmt().Dx;return this.Pmt(o,i)}if(140===n){var a=t.mmt().Dx;return this.Dmt(a,i)}if(143===n)return this.er(i);if(144===n)this.Nmt(t);else if(145===n)this.Mmt(t);else if(146===n)this.nmt(t);else if(151===n)this.Lmt(t);else if(n>=152&&n<=159){var c=(15&n)-8;this.Vvt(t,c,i)}}}return null},n.wmt=function(t,n){n>=8&&n<=15?t.DD(1):n>=16&&n<=23?t.DD(2):n>=24&&n<=31&&t.DD(3)},n.ymt=function(t,n){n>=128&&n<=135?t.DD(4):n>=136&&n<=143&&t.DD(5)},n.xmt=function(t){this.Bmt[t]&&(this.kmt=this.Bmt[t])},n.Omt=function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:n=0,i.label=1;case 1:return n<8?1==(1&t)&&this.Bmt[n]?[4,n]:[3,3]:[3,5];case 2:i.sent(),i.label=3;case 3:t>>=1,i.label=4;case 4:return n++,[3,1];case 5:return[2]}}))},n.Rmt=function(t,n){for(var i=null,r=0,e=this.Omt(t);r<e.length;r++){var u=e[r],s=this.Bmt[u];s.$vt()&&(i=s.b_t(n,this.Emt)),s.zvt()}return i},n.Imt=function(t,n){for(var i=0,r=this.Omt(t);i<r.length;i++){var e=r[i],u=this.Bmt[e];u.$vt()||u.smt(n),u.fmt()}},n.Cmt=function(t,n){for(var i=null,r=0,e=this.Omt(t);r<e.length;r++){var u=e[r],s=this.Bmt[u];s.$vt()&&(i=s.b_t(n,this.Emt)),s.be()}return i},n.Pmt=function(t,n){for(var i=null,r=0,e=this.Omt(t);r<e.length;r++){var u=e[r],s=this.Bmt[u];s.$vt()?i=s.b_t(n,this.Emt):s.smt(n),s.Ch()}return i},n.Dmt=function(t,n){for(var i=null,r=0,e=this.Omt(t);r<e.length;r++){var u=e[r],s=this.Bmt[u];s.$vt()&&(i=s.b_t(n,this.Emt)),this.Bmt[u]=void 0}return i},n.er=function(t){var n=this.Dmt(255,t);return this.Bb(),n},n.Bb=function(){this.kmt=void 0,this.Bmt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.Nmt=function(t){t.DD(1);var n=t.mmt().Dx;if(this.kmt){var i=(128&n)>0,r=(64&n)>0;this.kmt.umt(i),this.kmt.amt(r)}},n.Mmt=function(t){var n=t.mmt().Dx,i=t.mmt().Dx;if(t.DD(1),this.kmt){var r=3&n,e=(12&n)>>2,u=(48&n)>>4,s=3&i,o=(12&i)>>2,a=(48&i)>>4,c=this.Fmt(u,e,r),h=this.Fmt(a,o,s);this.kmt.hmt(c),this.kmt.omt(h)}},n.nmt=function(t){var n=t.mmt().Dx,i=t.mmt().Dx;if(this.kmt){var r=15&n,e=63&i;this.kmt.nmt(r,e)}},n.Lmt=function(t){t.DD(1),t.DD(1);var n=t.mmt().Dx;if(t.DD(1),this.kmt){var i=3&n;this.kmt.lmt(i)}},n.Vvt=function(t,n,i){var r=void 0!==this.Bmt[n];if(!r){var e=new GF(n);e.smt(i),this.Bmt[n]=e}var u=t.mmt().Dx,s=t.mmt().Dx,o=t.mmt().Dx,a=t.mmt().Dx,c=t.mmt().Dx,h=t.mmt().Dx,f=(32&u)>0,v=127&s,l=(128&s)>0,d=o,g=1+(15&a),m=(240&a)>>4,w=1+(63&c);r&&0===(7&h)||this.Bmt[n].cmt(),this.Bmt[n].Vvt(f,v,d,m,l,g,w),this.kmt=this.Bmt[n]},n.Fmt=function(t,n,i){var r={0:0,1:0,2:1,3:1};return nV[r[t]<<2|r[n]<<1|r[i]]},t}(),KF=8,qF=12,JF=13,QF=14,$F=16,tV={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},nV=["black","blue","green","cyan","red","magenta","yellow","white"];U(),St();var iV=function(){function t(){this.Gmt=[],this.Umt=null,this.Wmt=0}var n=t.prototype;return n.Vmt=function(t){if(t.Aw===uF.xft){var n=63&t.Dx;return this.Wmt=2*n-1,void(this.Umt=[])}if(this.Umt&&(this.Wmt>0&&(this.Umt.push(t),this.Wmt--),0===this.Wmt)){var i=new rV(this.Umt);this.Gmt.push(i),this.Umt=null,this.Wmt=0}},n.Hmt=function(){return this.Gmt},n.Zmt=function(){this.Gmt=[]},n.Bb=function(){this.Gmt=[],this.Umt=[],this.Wmt=0},t}(),rV=function(){function t(t){this.zmt=0,this.qmt=t}var n=t.prototype;return n.Xmt=function(){return this.zmt<this.qmt.length},n.Ymt=function(){return this.zmt},n.mmt=function(){if(!this.Xmt())throw new sl(el.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.qmt[this.zmt++]},n.DD=function(t){if(this.zmt+t>this.qmt.length)throw new sl(el.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.zmt+=t},t}(),eV=function(){function t(){this.rgt=!1,this.jmt=[],this.Qmt=[],this.Jmt=new iV,this.Kmt=0,this.igt=cs({CC1:new UF(0,0),CC2:new UF(0,1),CC3:new UF(1,0),CC4:new UF(1,1)}),this.tgt=0,this.egt=0,this.$mt=as(),this.er()}var n=t.prototype;return n.Bb=function(){this.Kmt=0,this.jmt=[],this.Qmt=[],this.Jmt.Bb(),this.er(),this.$mt.forEach((function(t){t.Bb()}))},n.er=function(){this.tgt=0,this.egt=0,this.igt.forEach((function(t){t.er()}))},n.sgt=function(t,n){if(t.Cft){var i=t.Dft,r=t.Nft,e=t.Aw;e===uF.Tft||e===uF.kft?this.jmt.push({lvt:n,Aw:e,Evt:i,cvt:r,ngt:this.jmt.length}):this.rgt&&(this.Qmt.push({lvt:n,Aw:e,Dx:i,ngt:this.Qmt.length}),this.Qmt.push({lvt:n,Aw:uF.Eft,Dx:r,ngt:this.Qmt.length}))}},n.qz=function(){var t=[];this.jmt.sort((function(t,n){return t.lvt-n.lvt||t.ngt-n.ngt})),this.Qmt.sort((function(t,n){return t.lvt-n.lvt||t.ngt-n.ngt}));for(var n=0,i=this.jmt;n<i.length;n++){var r=i[n],e=this.ogt(r);e&&t.push(e)}for(var u=0,s=this.Qmt;u<s.length;u++){var o=s[u];this.Jmt.Vmt(o)}for(var a=this.Jmt.Hmt(),c=0;c<a.length;c++){var h,f=a[c],v=this.hgt(f);(h=t).push.apply(h,Ut(v))}return this.Jmt.Zmt(),this.jmt=[],this.Qmt=[],t},n.ogt=function(t){var n=t.Aw;if(UF.Nvt(t.Evt)){var i=t.Evt>>3&1;0===n?this.tgt=i:this.egt=i}var r="CC"+(n<<1|(n?this.egt:this.tgt)+1),e=this.igt.get(r);return 255===t.Evt&&255===t.cvt||!t.Evt&&!t.cvt||!this.agt(t.Evt)||!this.agt(t.cvt)?(++this.Kmt>=45&&this.er(),null):(this.Kmt=0,t.Evt&=127,t.cvt&=127,t.Evt||t.cvt?UF.Nvt(t.Evt)?e.kvt(t):e.Svt(t.lvt,t.Evt,t.cvt):null)},n.hgt=function(t){var n=[];try{for(;t.Xmt();){var i=t.mmt().Dx,r=(224&i)>>5,e=31&i;if(7===r&&0!==e)r=63&t.mmt().Dx;if(0!==r){if(!this.$mt.has(r)){var u=new YF(r);this.$mt.set(r,u)}for(var s=this.$mt.get(r),o=t.Ymt();t.Ymt()-o<e;){var a=s.vmt(t);a&&n.push(a)}}}}catch(t){if(!(t instanceof sl&&t.code===el.SUBTITLE_PARSE_ERROR))throw t}return n},n.agt=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}();U(),St(),Ct();var uV=function(t){function n(n,i){var r;return(r=t.call(this,"ugt")||this).k_t=n,r.BO=i,r}return Rt(n,t),n}(ha),sV=ww.fV(.1),oV=function(t){function n(){var n;return(n=t.call(this)||this).lgt=new eV,n}Rt(n,t);var i=n.prototype;return i.cgt=function(t,n){this.lgt.sgt(t,n)},i.qz=function(){for(var t=this.lgt.qz(),n=0;n<t.length;n++){var i=t[n];this.wo(new uV(i.k_t,i.BO))}},i.er=function(){this.lgt.Bb()},i.gn=function(){this.$o(),this.lgt.Bb()},n}(oa),aV=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).vgt=[],n}Rt(n,t);var i=n.prototype;return i.dgt=function(t,n,i,r){var e=this.fgt(t,r);this._gt(e,n,i),this.qz()},i.fgt=function(t,n){var i,r=t.slice().sort(KP),e=this.vgt;if(0===e.length)return r;if(0===r.length)return e;var u=e[0].Utt,s=e[e.length-1].Utt,o=r[0].Utt,a=e[0].aat===r[0].aat;if(s.SF(o).yF().wF(ww.fV(2.5*n))&&a)i=e.concat(r).sort(KP);else if(o.vF(u)){for(var c=0;c<e.length&&e[c].Utt.wF(o);)c++;for(var h=!1,f=!1,v=c,l=0;v<e.length&&l<r.length;v++,l++)cV(e[v],r[l])?h=!0:f=!0;var d=h&&!f,g=h&&f;!h&&f?i=e.concat(r).sort(KP):d?i=e.slice(0,c).concat(r):(i=r,g&&this.er())}else i=r,this.er();return i},i._gt=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=e.Utt.dF();if(!i&&n-u<sV.dF())return void(this.vgt=t.slice(r));this.cgt(e,u)}this.vgt=[]},n}(oV);function cV(t,n){return t.Utt.eF(n.Utt)&&t.Aw===n.Aw&&t.Dft===n.Dft&&t.Nft===n.Nft}var hV=function(t){function n(n){var i;return(i=t.call(this)||this).bgt=void 0,i.Sgt=NaN,i.Tgt=NaN,i.Egt=function(t){for(var n=i.pgt({Gtt:t.k_t,Htt:""}),r=t.BO,e=0,u=n.L.uC;e<u.length;e++){var s=u[e];r.FO<s.FO&&r.VO>s.FO?r.VO=s.FO:r.FO>s.FO&&s.VO>r.FO?s.VO=r.FO:r.FO===s.FO&&(r.VO=s.VO)}n.dW(r)},i.uW=n,i.ggt=as(),i.kgt=new aV,i.kgt.yn("ugt",i.Egt),i}Rt(n,t);var i=n.prototype;return i.mgt=function(t){return this.ggt.get(t)},i.pgt=function(t){var n=this.ggt.get(t.Gtt);return n||(n=this.wgt(t),this.ggt.set(t.Gtt,n)),n},i.wgt=function(t){var n=[Kg.yC],i=lF(t.Htt),r=i?i.l:"";t.ygt&&(r="easy "+r,n.push(Kg.TC));var e=t.xh||r||"CC"+t.Gtt,u=this.uW.LI($p.QV,e,e,t.Htt,!1,xm.CEA608,void 0,n);return this.tt(u),u},i.Mot=function(t){var n=kp.jD(Sc(t));this.bgt=function(t){for(var n=0,i=t.Z;n<i.length;n++){var r=i[n],e=pF(r),u=r.yN.DN.LN.ON.VN,s=go(u,(function(t){return t.Aw===cp.RP}));if(!s){var o=u.filter((function(t){return t.Aw===cp.sD})),a=go(o,(function(t){var n;return(null==(n=t.PM)?void 0:n.Aw)===cp.RP}));a&&(s=a.PM)}if(s){var c=EC(Sc(s.pM.qk),new Dc),h=s.yM;return us({},e,{TN:r.HD.TN,pM:xc(s.pM.qk),ji:s.ji,Ti:s.Ti,zM:h&&h.zM,XM:h&&h.XM,O1:c.g0,Agt:c.p0,F1:c.w0,b0:c.b0[0],A0:c.A0[0]})}}}(go(n,yF))},i.vdt=function(t,n,i,r,e,u){var s;if(this.bgt&&(E(this.Sgt)||!hr(this.Sgt,n,1e-5))){E(this.Tgt)||hr(this.Tgt,n,.1)||this.kgt.er();for(var o,a=function(t,n,i,r,e){for(var u=[],s=n.filter(mF),o=r(i),a=0;a<s.length;a++){var c=s[a],h=go(c.Z,(function(t){return t.HD.TN===i.TN}));if(h)for(var f,v=h.HD.KM||0,l=h.HD.jM||0,d=h.oL?h.oL.oL:ur.ZERO,g=c.tL+(null!=(f=h.HD.hL)?f:ur.ZERO).toNumber(),m=0,w=h.rL;m<w.length;m++)for(var p=w[m],y=g+(p.tL||0),_=0,b=p.dL;_<b.length;_++){var k=b[_],A=k.Pb||l,T=new CC;T.E0(t,y,y+A);var S=ww.xF(d,i.Lft);T.XV=e(k,c,i,S,Cc(t,y,y+A)),u.push(T),y+=A,d=d.add(k.ct||v||o)}}return u}(t,kp.jD(Sc(t)),this.bgt,gF,wF),c=null!=(o=null==(s=xo(a,(function(t){return t.XV.ct})))?void 0:s.XV.ct)?o:0,h=function(t){for(var n=[],i=0;i<t.length;i++){var r,e=t[i];e.XV.Zft&&(r=n).push.apply(r,Ut(e.XV.Zft)),delete e.XV.Zft}for(var u=0;u<n.length;u+=1)n[u].eL=u;return n}(a),f=ww.fV(r),v=[],l=0;l<h.length;l++){var d=h[l];v.push(us({},d,{aat:e,Utt:d.Rft.SO(f)}))}this.kgt.dgt(v,i,u,c),this.Sgt=n,this.Tgt=i}},i.er=function(){var n=this;return this.kgt.er(),this.ggt.forEach((function(t){t.gn(),n.it(t),n.uW._W(t)})),this.ggt.clear(),this.bgt=void 0,this.Sgt=NaN,this.Tgt=NaN,t.prototype.er.call(this)},i.gn=function(){return this.kgt.fn("ugt",this.Egt),this.kgt.gn(),t.prototype.gn.call(this)},n}(my);U(),St(),U(),St(),rn();var fV=/(.*)=(.*)/,vV=/(.*):(.*)/;function lV(t){if(!t)return[];for(var n=[],i=t.trim().split(";"),r=0;r<i.length;r++){var e=i[r].match(fV);if(e){for(var u=nn(e,3),s=u[1],o="",a=!1,c=0,h=u[2].trim().split(",");c<h.length;c++){var f=h[c];if(f.match(vV)){var v=nn(f.match(vV),3),l=v[1],d=v[2];switch(l){case"lang":o=d;break;case"er":a=Boolean(Number(d))}}}n.push({Gtt:Number(s),Htt:o,ygt:a})}}return n}var dV={1:1,2:3,3:2,4:4},gV="urn:scte:dash:cc:cea-608:2015",mV="urn:scte:dash:cc:cea-708:2015";U(),St(),Ct(),U(),St(),Ct();var wV=function(t){function n(n,i,r){var e;return(e=t.call(this,Rg.rC)||this).aat=n,e.dct=i,e.xgt=r,e}return Rt(n,t),n.prototype.ba=function(){return new pV(this.aat&&this.aat.ka)},n}(yg),pV=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return Rt(n,t),n}(ha),yV=[fa.ro,Ey.tC,fa.sb],_V=function(t){function n(n,i){var r;return(r=t.call(this)||this).Igt=function(t){var n=r.Cgt,i=r.Rgt(t.currentTime)||r.Ydt.dat;i&&n!==i&&(r.Cgt=i,i.aat&&r.wo(new wV(i.aat,null==i?void 0:i.ka,null==n?void 0:n.ka)))},r.FB=n,r.FB.yn(yV,r.Igt),r.Ydt=i,r}Rt(n,t);var i=n.prototype;return i.Rgt=function(t){for(var n=this.Ydt.mat,i=0,r=n.Ht.Zat;i<r.length;i++){var e=r[i];if(n.Nct.Ict(t,e))return e}},i.gn=function(){this.$o(),this.FB.fn(yV,this.Igt)},n}(oa);function bV(t,n,i){var r=new lp(Sc(t),new Dc),e=wp.UD(r,cp.vP);if(e){var u=wp.LD(e.qk),s=go(u,(function(t){return t.Aw===cp.gP})),o=go(u,(function(t){return t.Aw===cp.dD}));if(s){var a=wp.UD(s.qk,cp.wP);if(a){var c=wp.UD(a.qk,cp.AP);if(c){var h=wp.UD(c.qk,cp.SP);if(h){var f=wp.LD(h.qk),v=go(f,(function(t){return t.Aw===cp.TP}));if(v){var l=wp.qD(v.qk,cp.TP,!1),d=new lp(Sc(l.qk),new Dc);d.DD(4);for(var g=wp.LD(d),m=[],w=0;w<g.length;w++){var p=g[w];if(p.Aw===cp.iD||p.Aw===cp.sD)return;p.Aw===cp.RP?m.push({Pgt:p,Dgt:cp.sD}):p.Aw===cp.KP&&m.push({Pgt:p,Dgt:cp.iD})}if(function(t,n){return void 0===t&&void 0!==n&&n.length>0}(o,n)||0!==m.length){var y=Nc(t),_=go(u,(function(t){return t.Aw===cp.EP})),b=_?wp.UD(_.qk,cp.xP):void 0,k=b?function(t){var n=t.qk.xb();return n.DD(4),n.DD(4),n.TD()}(b):1,A=go(f,(function(t){return t.Aw===cp.kP}));A&&function(t,n,i){var r=TV(Sc(t),n),e=wp.WD(r,new Dc),u=e.qk;u.DD(4);for(var s=u.TD(),o=0;o<s;o++){u.DD(4),u.DD(4);var a=u.yD.xb(),c=u.TD();tc(u.qk,a,c+i)}}(y,A,m.length),b&&function(t,n,i){var r=TV(Sc(t),n),e=wp.WD(r,new Dc),u=e.qk;u.DD(4),u.DD(4),tc(u.qk,u.yD,i)}(y,b,1),y=function(t,n,i,r){if(i||!r)return t;for(var e=t,u=0;u<r.length;u++){var s=r[u];e=kV(e,n,new I(s))}return e}(y,e,o,n);for(var T=[e,s,a,c,h,v],S=m.length-1;S>=0;S--){var E=m[S];y=AV(y,E.Pgt,v,T,E.Dgt,i)}return{Ngt:y,Mgt:{Lgt:m.length,YM:k}}}}}}}}}}function kV(t,n,i){var r=jc(t,i,n.qk.qk.byteOffset+n.qk.qk.byteLength);return SV(TV(Sc(r),n),i.byteLength),r}function AV(t,n,i,r,e,u){var s=function(t,n,i){0;var r=t.qk.qk,e=NV(),u=new I(r.byteLength+e.byteLength),s=Sc(u);u.set(Ec(r),0),SV(s,e.byteLength),ac(s,new Dc(PV),n),u.set(e,r.byteLength),ac(s,new Dc(r.byteLength+xV),t.Aw),i&&za(s,new Dc(r.byteLength+DV),i);return u}(n,e,u),o=jc(t,s,n.qk.qk.byteOffset),a=Sc(o);!function(t,n){var i=wp.WD(t,new Dc),r=wp.qD(i.qk,cp.TP,!1),e=Sc(r.qk),u=e.getUint32(0);e.setUint32(0,u+n)}(TV(a,i),1);for(var c=0;c<r.length;c++){SV(TV(a,r[c]),s.byteLength)}return o}function TV(t,n){var i=n.qk.qk.byteOffset;return Tc(t,i,i+n.qk.qk.byteLength)}function SV(t,n){var i=new Dc,r=$a(t,i);if(0===r);else if(1===r){i.kb(4);var e=nc(t,i.xb());ic(t,i,e.add(n))}else i.Eb(0),tc(t,i,r+n)}U(),St(),Ct();var EV=function(t){function n(n){var i;return(i=t.call(this)||this).Fgt=[],i.Ogt=n,i}Rt(n,t);var i=n.prototype;return i.start=function(t){this.BQ=t},i.transform=function(t){this.r$(t),this.Bgt()},i.flush=function(){this.h$(),this.Bgt()},i.v$=function(t){return t===cp.nD},i.g$=function(t){var n=Nc(Ec(t.qk.qk)),i=wp.WD(Sc(n),new Dc);n=IV(n,i,this.Ogt),this.Fgt.push(n)},i.w$=function(t){this.Fgt.push(t)},i.Bgt=function(){for(var t=0,n=function(t){if(t.length<2)return t;for(var n=[],i=t[0],r=i.buffer,e=i.byteOffset,u=i.byteLength,s=1;s<t.length;s++){var o,a=t[s];r===a.buffer&&e+u===a.byteOffset?u+=a.byteLength:(n.push(new I(r,e,u)),r=(o=a).buffer,e=o.byteOffset,u=o.byteLength)}return n.push(new I(r,e,u)),n}(this.Fgt);t<n.length;t++){var i=n[t];this.BQ.enqueue(i)}So(this.Fgt)},n}(eC);function IV(t,n,i){for(var r=t,e=wp.LD(n.qk),u=e.length-1;u>=0;u--){var s=e[u];s.Aw===cp.oD&&(r=RV(r,s,n,i))}return r}function RV(t,n,i,r){var e=TV(Sc(t),n),u=wp.WD(e,new Dc),s=wp.LD(u.qk),o=go(s,(function(t){return t.Aw===cp.hD}));if(!o)return t;var a=o.qk,c=a.yD.xb(),h=a.TD(),f=bp(h).flags;a.DD(4),f.Rb(fp.BASE_DATA_OFFSET_PRESENT)&&a.DD(8);var v=a.yD.xb();if(f.Rb(fp.SAMPLE_DESCRIPTION_INDEX_PRESENT)){var l=$a(a.qk,v);return tc(a.qk,a.yD,l+r.Lgt),t}tc(a.qk,c,h|fp.SAMPLE_DESCRIPTION_INDEX_PRESENT);var d=new I(4);Sc(d).setUint32(0,r.YM+r.Lgt);for(var g=a.qk.byteOffset+v.ec,m=0,w=s.filter((function(t){return t.Aw===cp.aD}));m<w.length;m++){CV(w[m],d.byteLength)}for(var p=0,y=[o,n,i];p<y.length;p++){var _=y[p];SV(TV(Sc(t),_),d.byteLength)}return jc(t,d,g)}function CV(t,n){var i=t.qk,r=bp(i.TD()).flags;if(i.DD(4),r.Rb(vp.DATA_OFFSET_PRESENT)){var e=i.xb().TD();tc(i.qk,i.yD,e+n)}}var NV=Ri((function(){return new I([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])})),xV=16,DV=64,PV=4,MV=[zp.da,fa.Qy,fa.Jy,fa.eb,fa.wy],BV=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,l){var d;return(d=t.call(this)||this).Hdt=void 0,d.Ydt=void 0,d.fpt=!1,d.fW=new Jo,d.cpt=void 0,d.Ggt=void 0,d.Aot=void 0,d.Elt=new VL,d.Jgt=void 0,d.Qgt=void 0,d.Vgt=new Bk([]),d.qgt=function(){!d.Cat()&&d.Act()&&d.Zgt.qgt()},d.Rdt=function(t){d.Hdt.Rdt(t),d.wo(new rF(t.dct,t.xgt))},d.vpt=function(t){d.wpt(t)},d.ZS=function(){var t=LV;return LV+=1,t}(),d.a3=n,d.lW=e,d.vZ=u,d.Zgt=i,d.FB=r,d.Fut=s,d.uW=o,d.jgt=a,d.klt=c,d.wlt=c?xA(n,c):void 0,d.qlt=h,d.dpt=f,d.pdt=v,d.rH=l,d}Rt(n,t);var i=n.prototype;return i.Xgt=function(){var t;return null==(t=this.Hdt)?void 0:t._ct.Qct.jn},i.Cat=function(){return void 0!==this.Ydt&&this.Ydt.Cat},i.Act=function(){if(void 0===this.Ggt)return!1;var t=this.Ugt().zL(),n=t.eB(this.Ggt);return!(n<0)&&t.Cn(n)!==this.Ggt},i.r3=function(){var t=this.Zgt.Sct,n=this.Ugt().Sn(t);this.Ggt=n.V>0?n.jn(n.V-1):0;var i=t.jn(0);isFinite(i)&&this.Ggt<i&&this.FJ(this.Ggt,i),this.qgt()},i.vdt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return u=i.Bot.MV,s=e.Ygt(t,n,i,u,r),[4,na([e.Kgt(t,n,i,u,r),s])];case 1:return o=nn.apply(void 0,[a.sent(),1]),[2,o[0]]}}))}))()},i.Ygt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:return Ov(i.Yq)?t.Aw!==XR.bk?[3,2]:[4,t.qk.Mut().Ck(e)]:[2];case 1:return o=h.sent(),s=new I(o),[3,3];case 2:s=new I(t.qk.dht),h.label=3;case 3:return a=[],void 0!==u.jgt&&(u.jgt.vdt(s,n.FO,r),a.push(u.jgt)),void 0!==u.Qgt&&(c=i.jct(n),u.Qgt.vdt(s,n.FO,n.VO,r,i.aat,c),a.push(u.Qgt)),gy(u.gR,a),[2]}}))}))()},i.Kgt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c,h,f,v,l;return Ht(this,(function(d){switch(d.label){case 0:return jo(e),t.Aw===XR.bk?(a=t.qk.Pk,u.Jgt&&(a=function(t,n){return t.pipeThrough(new Ul(new EV(n)))}(a,u.Jgt)),o={Aw:XR.bk,qk:a}):(c=new I(t.qk.dht),u.Jgt&&(c=function(t,n){for(var i=Nc(t),r=new lp(Sc(i),new Dc),e=wp.LD(r),u=e.length-1;u>=0;u--){var s=e[u];s.Aw===cp.nD&&(i=IV(i,s,n))}return i}(c,u.Jgt)),o={Aw:XR.tJ,qk:c}),h={cit:n.FO,ct:n.ct,MV:r,F1:null==(s=i.aat)?void 0:s.xC},f=u.Aot.gR,[4,u.$gt()];case 1:return d.sent(),[4,u.Aot._2(o,h,e)];case 2:return d.sent(),v=u.Aot.gR,l=u.Aot.u3,[2,OV(f,v,l,n)]}}))}))()},i.Mot=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return jo(i),r.Qgt&&r.Qgt.Mot(new I(t.dht)),u=new I(t.dht),r.tpt(n)&&(s=r.Zgt.ept,o=[],s&&(o=Io(s.ipt,(function(t){return t.EG})),a=s.spt.oU?QE(s.spt.oU):void 0),(c=bV(u,o,a))?(r.Jgt=c.Mgt,u=c.Ngt):r.Jgt=void 0),h={Aw:XR.tJ,qk:u},[4,r.$gt()];case 1:return f.sent(),[4,r.Aot.w2(h,{F1:null==(e=n.aat)?void 0:e.xC},i)];case 2:return f.sent(),[2]}}))}))()},i._dt=function(t,n,i){return this.Aot.$S(t,n,i)},i.FJ=function(t,n){this.Aot.f3(t,n)},i.VJ=function(t,n){this.Aot._3(t,n)},i.Ugt=function(){return this.Aot?this.Aot.gR:MA.mB()},i.Wgt=function(){return this.Aot?this.Aot.u3:MA.mB()},i.npt=function(){return this.Aot?this.Aot.$S(0,1/0):ut.resolve()},i.rpt=function(){return this.Aot&&(this.Aot.fn(jR.JQ,this.Ds),this.Aot=void 0),ut.resolve()},i.opt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return r=_L.Rlt(null!=(i=t.Ndt)?i:t.Zat,n.wlt),e=r.Yq,n.Aot||(n.Aot=n.Zgt.hpt(e),n.Aot.yn(jR.JQ,n.Ds),n.Elt=new FL(n.Aot)),[4,n.$gt()];case 1:return u.sent(),[2]}}))}))()},i.Dn=function(t,n){var i=Jo.Qw([n]);this.fW.Yw(),this.fW=i;var r=this.upt(t,this.cpt,i.Vw);return this.cpt=r,r},i.lpt=function(t){if(!Ao(this.dpt,xm.CEA608)){var n=t._ct.ydt;if(function(t){return t.some((function(t){return t.i9===gV||t.i9===mV}))}(n)){this.Qgt=new hV(this.uW);for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(r.i9===gV)for(var e=QP(r.Dx),u=0;u<e.length;u++){var s=e[u];n.push(s)}else if(r.i9===mV)for(var o=lV(r.Dx),a=0;a<o.length;a++){var c=o[a];if(c.Gtt<=4){var h=dV[c.Gtt];n.push(us({},c,{Gtt:h}))}}}return n}(n),r=0;r<i.length;r++){var e=i[r];this.Qgt.pgt(e)}this.Vgt.DG(this.Qgt.Z)}}},i.upt=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return jo(i),n?[4,n.catch(Ti)]:[3,2];case 1:e.sent(),e.label=2;case 2:return r.Hdt===t&&r.fpt?[2]:[4,r._pt()];case 3:return e.sent(),jo(i),[4,r.npt()];case 4:return e.sent(),jo(i),t?[4,r.cW(t)]:[3,6];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))()},i._pt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return n=t.Hdt,t.Hdt=void 0,t.fpt=!1,t.Ggt=void 0,n&&(n.fn(Rg.hC,t.vpt),n.Wdt(!1),n.fn(Rg.NO_QUALITY,t.Ds)),t.mpt&&(t.mpt.gn(),t.mpt=void 0),t.Ydt?[4,t.Ydt.gn()]:[3,2];case 1:i.sent(),t.Ydt=void 0,i.label=2;case 2:return t.Qgt?(t.Vgt.BG(t.Qgt.Z),[4,t.Qgt.gn()]):[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))()},i.cW=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Hdt=t,n.lpt(t),t.yn(Rg.hC,n.vpt),t.yn(Rg.NO_QUALITY,n.Ds),[4,n.opt(t)];case 1:return i.sent(),n.Ydt=n.gpt(t),n.Ydt.yn(MV,n.Ds),n.Ydt.yn("uat",n.qgt),n.Ydt.pat=t.Ndt,n.mpt=new _V(n.FB,n.Ydt),n.mpt.yn(Rg.rC,n.Rdt),t.Wdt(!0),n.fpt=!0,[2]}}))}))()},i.gpt=function(t){return new LL(this,this.FB,this.FB,this.lW,this.vZ,this.pdt,this.Fut,this.klt,this.wlt,this.Elt,this.qlt,this.rH).fit(t)},i.er=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.fW.Yw(),n.cpt?[4,n.cpt.catch(Ti)]:[3,2];case 1:i.sent(),n.cpt=void 0,i.label=2;case 2:return[4,n._pt()];case 3:return i.sent(),t?[3,5]:[4,n.npt()];case 4:i.sent(),i.label=5;case 5:return[4,n.rpt()];case 6:return i.sent(),[2]}}))}))()},i.ppt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t._pt()];case 1:return n.sent(),[2]}}))}))()},i.Edt=function(t){var n;null==(n=this.Gdt)||n.Edt(t)},i.Sdt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,i.Oat()];case 1:if(a.sent(),null==(r=i.Gdt)||r.Sdt(n),!((u=null==(e=i.Ydt)?void 0:e.mat.Nct.Ect(t))&&u.V>0))return[3,5];s=0,a.label=2;case 2:return s<u.V?[4,null==(o=i.Aot)?void 0:o.$S(u.Cn(s),u.jn(s))]:[3,5];case 3:a.sent(),a.label=4;case 4:return s++,[3,2];case 5:return[4,i.Vat()];case 6:return a.sent(),[2]}}))}))()},i.wpt=function(t){var n=this,i=t.Ht.Ndt;return void 0===i||i.some((function(t){return n.Elt.cJ(t)}))?this.ypt(t):void this.wo(new ha("bpt"))},i.ypt=function(t){this.Ydt&&this.Hdt&&this.Hdt===t.Ht&&(this.Ydt.pat=this.Hdt.Ndt)},i.Oat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Ydt?[4,n.Ydt.Oat(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},i.Vat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Ydt?[4,n.Ydt.Vat(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},i.Lj=function(){var t=this.gR.fB;return this.vZ.Lj(t)},i.$gt=function(){var t=this.Zgt.Sct,n=A.max(0,t.Cn(0)-.1),i=t.jn(0)+.01;return this.Aot.B2(n,i)},i.tpt=function(t){return!!Ov(t.Yq)&&(!!this.Zgt.J6||void 0!==this.Zgt.ept)},i.Wat=function(t){if(rm(this.a3)){var n=this.Ydt,i=t.Ydt;void 0!==n&&void 0!==i&&n.Wat(i,this.Cn,this.jn)}},i.gn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:n.$o(),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,n.er(t)];case 2:return i.sent(),[4,n.ppt()];case 3:return i.sent(),[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},xt(n,[{key:"Gdt",get:function(){return this.Hdt}},{key:"o",get:function(){return this.ZS}},{key:"h3",get:function(){return this.a3}},{key:"nt",get:function(){return this.Vgt}},{key:"Jdt",get:function(){return function(t){var n=29.97,i=1024,r=44100;return t===im.fE?r/i:n}(this.a3)}},{key:"Kdt",get:function(){return 1/this.Jdt}},{key:"Rt",get:function(){return Boolean(this.Hdt&&this.Hdt.Rt)}},{key:"BJ",get:function(){var t=this.Ydt?this.Ydt.mat.BJ.Tct:MA.mB();return this.Wgt().JL(t)}},{key:"gR",get:function(){var t=this.Ugt(),n=this.Ggt;return void 0!==n&&t.zL().kr(n)&&(t=t.JL(MA._B(n))),t}},{key:"wct",get:function(){return AO(this.Ugt(),this.BJ.JL(this.Hgt)).QL(2*this.Kdt)}},{key:"Hgt",get:function(){var t=this.Ggt;if(t&&isFinite(t)){var n=this.Zgt.jn;if(isFinite(n)&&t<n)return new MA([t,n],[!1,!0])}return MA.mB()}},{key:"rI",get:function(){var t=this.Hdt;if(!t)return MA._B(0);var n=t._ct.tft,i=t._ct.eft;if(void 0===i||void 0===n)return MA._B(0);var r=i,e=n>=t._ct.Qct.jn?A.max(n,this.jn):n;return e=A.max(r,e),MA.vB(r,e).zL()}},{key:"HG",get:function(){return this.wct.dB(this.SR)}},{key:"Sct",get:function(){return this.Zgt.Sct}},{key:"SR",get:function(){return this.FB.SR}},{key:"Cn",get:function(){return this.Hdt?this.Hdt._ct.Qct.Cn:NaN}},{key:"jn",get:function(){var t=this.Xgt(),n=this.Ggt;return void 0===t?NaN:void 0!==n?n:t}},{key:"Ti",get:function(){return this.Zgt.Ti}},{key:"ji",get:function(){return this.Zgt.ji}},{key:"zgt",get:function(){return this.Ggt}}]),n}(oa);function OV(t,n,i,r){var e,u,s=n.tB(t.zL());return 0===(s=s.tB(i.tB(n))).V?u=e=r.VO:(e=s.Cn(0),u=s.jn(0)),{sdt:e,ndt:u}}var LV=0;var FV=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,l,d){var g,m,w;return(g=t.call(this)||this).aO=new nm,g.cO=new nm,g.Gpt=[],g.Wpt=new Jo,g.Opt=!0,g.vft=[],g.cpt=void 0,g.Ppt=Ei((function(){g.wo(new qR(g.SR))}),350),g.Zpt=function(t){var n=t.twt.Gdt;if(n)for(var i=0,r=g.Gpt;i<r.length;i++){var e,u=r[i];u.Gdt&&u.Gdt!==n&&u.Aw===(null==(e=n.Idt)?void 0:e.Aw)&&(u.fn("Hpt",g.Zpt),u.Gdt.Rt=!1,u.yn("Hpt",g.Zpt))}g.Ds(t)},g.Ypt=function(t){Wo(t)||g.wo(new Ek(ol(t,el.MEDIA_LOAD_ERROR)))},g.Fpt=function(t){var n=t.E6;n&&g.Kpt(n).catch(g.Ypt)},g.ewt=function(t){g.jpt(t).catch(g.Ypt)},g.Vpt=function(t){var n=t.E6;if(n)for(var i=0,r=g.qpt;i<r.length;i++)for(var e=r[i],u=0,s=e._ct.Zat;u<s.length;u++){var o=s[u],a=(o.AG||[]).some((function(t){return t.oU&&Fc(Rc(n),QE(t.oU))}));o.Vdt&&a&&(o.Vdt=!1,o.aat&&e.Edt(o.aat))}},g.lW=r,g.vZ=e,g.Fut=u,g.FB=n,g.xO=ym(),g.Gpt=[],g.kpt=o,g.Npt=a,g.rH=d,g.uW=h,g.Ept=new QL(n,r,e,u,h,null==(w=null==s||null==(m=s.dash)?void 0:m.segmentRelativeVttTiming)||w),g.Ll=new Bk([g.Ept.nt]),g.qlt=v,g.dpt=l,g.kpt.yn(SO.nat,g.Ds),g._u=c,g.U2=i,g.pdt=s.lowLatency,g.jgt=f,g.Rpt=s.abr,g.FB.yn(fa.hb,g.Fpt),g.FB.yn(fa.Sy,g.Vpt),g}Rt(n,t);var i=n.prototype;return i.Tj=function(t,n){return this.Apt(t,n)},i.Apt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:for(r=0;r<t.length;r++)e=t[r],i.Spt(e);return[4,i.Dn(n)];case 1:a.sent(),u=0,s=i.kpt.Tpt,a.label=2;case 2:return u<s.length?(o=s[u]).Aw!==im.Ak?[3,5]:o.Zat&&0!==o.Zat.length?[3,3]:(i.wo(new $L("No supported representation found in the AdaptationSet with mimetype : "+o.Aw)),[3,5]):[3,6];case 3:return[4,i.Ept.cW(o)];case 4:a.sent(),a.label=5;case 5:return u++,[3,2];case 6:return[2]}}))}))()},i.xpt=function(t){return new BV(t,this,this.FB,this.lW,this.vZ,this.Fut,this.uW,this.jgt,this.Rpt,this.qlt,this.dpt,this.pdt,this.rH)},i.Cat=function(){return this.vft.some((function(t){return t.Cat()}))},i.Act=function(){return 0!==this.vft.length&&this.vft.every((function(t){return t.Act()}))},i.qgt=function(){this.Ipt()&&this.wo(new iF)},i.hpt=function(t){if(Zs(t,"audio")){if(this.U2.J3)return this.U2.J3}else if(Zs(t,"video")&&this.U2.t4)return this.U2.t4;throw new y("Cannot allocate source buffer for mime type "+t)},i.Cpt=function(t){t.yn([zp.da,fa.qy,fa.Qy,fa.Jy,fa.eb,fa.wy],this.Ds),t.yn(jR.JQ,this.Ppt),t.yn("bpt",this.Ds)},i.Dpt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,ut.all(n.vft.map((function(n){return n.gn(t)})))];case 1:return i.sent(),So(n.vft),[2]}}))}))()},i.Ipt=function(){if(this.Cat())return!1;if(!this.Act())return!1;var t=this.gR;if(0===t.V)return!1;var n=this.SR;if(this.Mpt)return t.Cn(t.V-1)<=n;var i=t.Sn(this.Sct);if(0===i.V)return!0;var r=i.Cn(i.V-1),e=i.jn(i.V-1)+.1;return r<=n&&n<=e},i.Oat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Opt?[2]:(n.Opt=!0,[4,ut.all(n.vft.map((function(n){return n.Oat(t)})))]);case 1:return i.sent(),[2]}}))}))()},i.Vat=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Opt?(n.Opt=!1,[4,ut.all(n.vft.map((function(n){return n.Vat(t)})))]):[2];case 1:return i.sent(),[2]}}))}))()},i.gn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.FB.fn(fa.hb,n.Fpt),n.FB.fn(fa.Sy,n.Vpt),n.$o(),n.kpt.fn(SO.nat,n.Ds),n.Wpt.Yw(),n.cpt?[4,n.cpt.catch(Ti)]:[3,2];case 1:i.sent(),n.cpt=void 0,i.label=2;case 2:return[4,n.Dpt(t)];case 3:return i.sent(),[4,n.Ept.gn()];case 4:return i.sent(),n.aO.gn(),n.cO.gn(),n.Ll.gn(),n.Upt(),[2]}}))}))()},i.Spt=function(t){this.Gpt.push(t),t.yn("Hpt",this.Zpt);for(var n=t.Aw===im.fE?this.aO:this.cO,i=0,r=t.Z;i<r.length;i++){var e=r[i];n.tt(e)}},i.Xpt=function(t){for(var n=t.Aw===im.fE?this.aO:this.cO,i=0,r=t.Z;i<r.length;i++){var e=r[i];n.it(e),e.gn()}t.gn(),_o(this.Gpt,t)},i.Upt=function(){for(var t=this.Gpt.length-1;t>=0;t--)this.Xpt(this.Gpt[t])},i.Dn=function(t,n){return this.Wpt.Yw(),this.Wpt=Jo.Qw([n]),this.cpt=Ho(this.KE(t,this.cpt,this.Wpt.Vw),this.Wpt).catch(this.Ypt),this.cpt},i.KE=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v;return Ht(this,(function(l){switch(l.label){case 0:return n?[4,n.catch(Ti)]:[3,2];case 1:l.sent(),l.label=2;case 2:jo(i),e=[],u=r.vft.slice(),s=t.slice(),So(r.vft),o=0,l.label=3;case 3:return o<u.length?(a=u[o],(c=a.Gdt)&&Ao(s,c)?(r.vft.push(a),e.push(a.Dn(c,i)),_o(s,c),[3,6]):[3,4]):[3,7];case 4:return r.Ll.BG(a.nt),[4,a.gn()];case 5:l.sent(),jo(i),l.label=6;case 6:return o++,[3,3];case 7:for(h=0;h<s.length;h++)f=s[h],v=r.xpt(f.bat),r.Ll.DG(v.nt),r.vft.push(v),r.Cpt(v),e.push(v.Dn(f,i));return[4,ut.all(e)];case 8:return l.sent(),[2]}}))}))()},i.dJ=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return r.U2===i?[3,2]:(r.U2=i,[4,r.Dpt(!1)]);case 1:e.sent(),e.label=2;case 2:return[4,r.Dn(t)];case 3:return e.sent(),r.Npt=n,[2]}}))}))()},i.Kpt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:i=0,r=n.vft,h.label=1;case 1:if(!(i<r.length))return[3,6];if(e=r[i],void 0===(u=e.Gdt))return[3,5];s=0,o=u._ct.Zat,h.label=2;case 2:return s<o.length?(a=o[s],c=a.AG||[],!c.some((function(n){return n.oU&&Fc(Rc(t),QE(n.oU))}))||a.Vdt?[3,4]:(a.Vdt=!0,[4,e.Sdt(a,a.aat)])):[3,5];case 3:h.sent(),n.wo(new oD(new em(el.CONTENT_PROTECTION_OUTPUT_RESTRICTED,"Content unavailable due to DRM restrictions"))),h.label=4;case 4:return s++,[3,2];case 5:return i++,[3,1];case 6:return[2]}}))}))()},i.jpt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:i=0,r=n.vft,v.label=1;case 1:if(!(i<r.length))return[3,7];if(e=r[i],void 0===(u=e.Gdt))return[3,6];s=0,o=u.Zat,v.label=2;case 2:return s<o.length?(a=o[s],c=a.AG,h=a.aat,void 0===c||0===c.length||void 0===h?[3,5]:(f=n.Qpt(c,t.mb),h.znt===f?[3,5]:f?(e.Edt(h),[3,5]):[3,3])):[3,6];case 3:return[4,e.Sdt(a,h)];case 4:v.sent(),v.label=5;case 5:return s++,[3,2];case 6:return i++,[3,1];case 7:return[2]}}))}))()},i.Qpt=function(t,n){var i=!1,r=t.reduce((function(t,n){return!n.oU||Ao(t,n.oU)?t:Ut(t).concat([n.oU])}),[]);return n.Lb((function(e,u){1===r.length&&1===n.Pb&&"usable"===e&&(i=!0),t.some((function(t){return t.oU&&Fc(Rc(u),QE(t.oU))}))&&"usable"===e&&(i=!0)})),i},i.Wat=function(t){var n=function(n,i){var r=i[n],e=go(t.vft,(function(t){return t.h3===r.h3}));void 0!==e&&r.Wat(e)};if(void 0!==t){var i=t.kpt;if(this.kpt.Jpt===i||this.kpt.$pt===i)for(var r=0,e=this.vft;r<e.length;r++)n(r,e)}},xt(n,[{key:"xC",get:function(){return this.xO}},{key:"ct",get:function(){return this.FB.ct}},{key:"Rt",get:function(){return this.vft.some((function(t){return t.Rt}))}},{key:"ht",get:function(){return this.aO}},{key:"gR",get:function(){if(0===this.vft.length)return MA.mB();for(var t=this.vft.map((function(t){return t.gR})),n=MA.vB(0,1/0),i=0;i<t.length;i++){var r=t[i];n=n.Sn(r)}if(0===n.V)return n;if(this.Act()){var e=n.Sn(this.Sct);if(0===e.V)return n;for(var u=e.jn(e.V-1),s=0,o=0,a=this.vft;o<a.length;o++){var c=a[o];s=A.max(s,c.zgt)}u<=s&&(n=n.JL(new MA([u,s],[!0,!0])))}return n}},{key:"J6",get:function(){return this.FB.J6}},{key:"SR",get:function(){return this.FB.SR}},{key:"ept",get:function(){return this.Npt}},{key:"jn",get:function(){if(this.Mpt){var t=this.ct;if(!E(t)&&t!==or)return t}if(!this.vft.length)return NaN;for(var n=0,i=0,r=this.vft;i<r.length;i++){var e=r[i];n=A.max(n,e.jn)}return n}},{key:"Mpt",get:function(){var t=this.kpt.hdt;if(t.Aw===tF.gW)return!1;var n=t.Lpt;return 0!==n.length&&this.kpt===n[n.length-1]}},{key:"rI",get:function(){if(!this.vft.length)return MA.mB();for(var t=new MA([0,1/0]),n=0,i=this.vft;n<i.length;n++){var r=i[n];t=t.Sn(r.rI)}if(t.V>0&&this.Mpt&&isFinite(this.ct)){var e=this.ct,u=t.jn(t.V-1);e>u&&(t=t.JL(MA.vB(u,e).zL()))}return t}},{key:"xc",get:function(){return this.kpt}},{key:"nt",get:function(){return this.Ll}},{key:"rt",get:function(){return this.cO}},{key:"ji",get:function(){return this._u.ji}},{key:"Ti",get:function(){return this._u.Ti}},{key:"HG",get:function(){var t=this.SR,n=this.gR,i=n.eB(t);if(-1!==i)return{Cn:n.Cn(i),jn:n.jn(i)}}},{key:"Sct",get:function(){var t=this.kpt.Cn,n=this.Mpt?1/0:this.kpt.jn;return MA.vB(t,n)}},{key:"Bpt",get:function(){return this.Opt}},{key:"zpt",get:function(){return this.Gpt.map((function(t){return t.Gdt})).filter(Yn)}},{key:"qpt",get:function(){return this.vft.map((function(t){return t.Gdt})).filter(Yn)}}]),n}(oa);U(),St(),Gt(),Dt(),Jt(),U(),St(),rn(),U(),St(),Dt();var VV=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,UV=function(){function t(t){this.iwt=t}var n=t.prototype;return n.swt=function(){return this.iwt},n.nwt=function(){return 1e3*this.iwt},t.jD=function(n){var i=n.match(VV);if(!i)throw new y("The given value could not be parsed as a valid DateTimeInterval");return new t(31536e3*(Number(i[1])||0)+2592e3*(Number(i[2])||0)+86400*(Number(i[3])||0)+3600*(Number(i[4])||0)+60*(Number(i[5])||0)+(Number(i[6])||0))},xt(t,[{key:"Bft",get:function(){return ww.fV(this.iwt,1e3)}}]),t}();U(),St();var WV=function(t){return t.rwt="progressive",t.owt="interlaced",t.tE="unknown",t}({});U(),St();var jV=function(){function t(t,n){this.hwt=t,this.awt=n}return t.prototype.dF=function(){return this.hwt/this.awt},t}(),ZV=/^(?:true|false)$/i,XV=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function GV(t){if(void 0!==t)return UV.jD(t)}function HV(t){if(void 0!==t){var n=t.match(XV);if(!n)throw new y("The given value could not be parsed as a valid Date");var i=nn(n,12),r=i[1],e=i[2],u=i[3],s=i[4],o=i[5],a=i[6],c=i[7],h=i[8],f=i[9],v=i[10],l=i[11],d=("-"===r?-1:1)*Number(e),g=Number(u)-1,m=Number(s),w=Number(o),p=Number(a),_=Number(c),b=Number("0."+(h||"")),k=A.round(1e3*b);if(f)p-=("-"===f?-1:1)*(60*Number(v)+Number(l));var T=new Date(Date.UTC(d,g,m,w,p,_,k));if(E(T.getTime()))throw new y("The given value could not be parsed as a valid Date");return T}}function zV(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[KV(n[1]),KV(n[2])]}}function YV(t){if(void 0!==t){if(!E(Number(t)))try{return ur.fromString(t,!0)}catch(t){}throw new y("The given value could not be parsed as a valid unsigned long")}}function KV(t){if(void 0!==t){var n=Number(t);if(!E(n))return n;throw new y("The given value could not be parsed as a valid Number")}}function qV(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!E(i)&&!E(r))return new jV(i,r);throw new y("The given value could not be parsed as a valid frame rate")}}function JV(t){if(void 0!==t){if(ZV.test(t))return"true"===t.toLowerCase();if(!E(T(t)))return Boolean(T(t));throw new y("The given value could not be parsed as a valid Boolean.")}}function QV(t){return{Gu:t.Zx,uwt:JV(t.Xx("availabilityTimeComplete")),cwt:KV(t.Xx("availabilityTimeOffset"))}}function $V(t){return t.map(QV)}function tU(t){var n,i=hU(t),r=function(t,n,i,r){var e=t.zx(i,n);return void 0===e&&(e=t.Xx(r+":"+n)),e}(t,"default_KID","urn:mpeg:cenc:2013","cenc"),e=Ip(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==e&&(n=Zc(e.Zx)),!n){var u=Ip(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==u&&(n=function(t){var n=Sa(t.Zx),i=new I([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,u=new ArrayBuffer(e),s=new I(u),o=new DataView(u),a=new Dc;tc(o,a,e),tc(o,a,1886614376),tc(o,a,0),za(o,a,i),tc(o,a,r),za(o,a,n),!1;return s.buffer}(u))}return{oU:r,s9:n,i9:i.i9,Dx:i.Dx}}function nU(t){return{lwt:t.Xx("sourceURL"),rut:zV(t.Xx("range"))}}function iU(t,n){var i=t.Xx("d"),r=t.Xx("t"),e=KV(t.Xx("r"));n.push({ct:i,FO:r,dwt:e})}function rU(t){return{Hut:t.Xx("index"),fwt:zV(t.Xx("indexRange")),yN:t.Xx("media"),_wt:zV(t.Xx("mediaRange"))}}function eU(t){var n=sU(t),i=function(t){var n=t.map(rU);return n.length>0?n:void 0}(t.Fx("SegmentURL"));return us({},n,{vwt:i,mwt:t.Xx("xlink:href"),gwt:t.Xx("xlink:actuate")})}function uU(t){var n=JV(t.Xx("availabilityTimeComplete")),i=KV(t.Xx("availabilityTimeOffset")),r=zV(t.Xx("indexRange")),e=JV(t.Xx("indexRangeExact")),u=t.Fx("Initialization");if(u.length>1)throw new y("The provided MPEG-DASH document's "+t.Vx+" element can not have more than one Initialization element.");var s=1===u.length?nU(u[0]):void 0,o=YV(t.Xx("presentationTimeOffset")),a=t.Fx("RepresentationIndex");if(a.length>1)throw new y("The provided MPEG-DASH document's "+t.Vx+" element can not have more than one RepresentationIndex element.");return{uwt:n,cwt:i,fwt:r,pwt:e,wwt:s,ywt:o,bwt:1===a.length?nU(a[0]):void 0,Awt:GV(t.Xx("timeShiftBufferDepth")),_N:KV(t.Xx("timescale"))}}function sU(t){var n=uU(t),i=t.Fx("BitstreamSwitching"),r=i.length>0?nU(i[0]):void 0,e=KV(t.Xx("duration")),u=t.Fx("SegmentTimeline");if(u.length>1)throw new y("The provided MPEG-DASH document's "+t.Vx+" element can not have more than one SegmentTimeline element.");var s=1===u.length?function(t){for(var n=[],i=t.Fx("S"),r=0;r<i.length;r++)iU(i[r],n);return n}(u[0]):void 0;return us({},n,{Swt:r,ct:e,Bot:s,Twt:KV(t.Xx("startNumber")),kwt:KV(t.Xx("endNumber"))})}function oU(t){return{Ewt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(KV)):1===n.length?n.map(KV)[0]:void 0}}(t.Xx("audioSamplingRate")),Zrt:t.Xx("codecs"),xwt:JV(t.Xx("codingDependency")),AG:function(t){if(0!==t.length)return t.map(tU)}(t.Fx("ContentProtection")),Rwt:function(t){return t.map(fU)}(t.Fx("EssentialProperty")),Iwt:function(t){return t.map(vU)}(t.Fx("SupplementalProperty")),Jdt:qV(t.Xx("frameRate")),Ti:KV(t.Xx("height")),Cwt:KV(t.Xx("maxPlayoutRate")),Pwt:KV(t.Xx("maximumSAPPeriod")),Yq:t.Xx("mimeType"),Dwt:t.Xx("profiles"),Nwt:t.Xx("sar"),Mwt:function(t){switch(t){case WV.rwt:case WV.owt:case WV.tE:return t;default:return}}(t.Xx("scanType")),Lwt:t.Xx("segmentProfiles"),Bwt:KV(t.Xx("startWithSAP")),ji:KV(t.Xx("width"))}}function aU(t){var n=$V(t.Fx("BaseURL")),i=t.Fx("SegmentBase");if(i.length>1)throw new y("The provided MPEG-DASH document's "+t.Rx+" element can not have more than one SegmentBase element.");var r=1===i.length?uU(i[0]):void 0,e=function(t){var n=t.map(eU);return n.length>0?n:void 0}(t.Fx("SegmentList")),u=t.Fx("SegmentTemplate");if(u.length>1)throw new y("The provided MPEG-DASH document's "+t.Rx+" element can not have more than one SegmentTemplate element.");var s=1===u.length?function(t){return us({},sU(t),{Owt:t.Xx("bitstreamSwitching"),Fwt:t.Xx("index"),Vwt:t.Xx("initialization"),Wwt:t.Xx("media")})}(u[0]):void 0;return{Uwt:n,Gwt:r,Hwt:e,Zwt:s}}function cU(t){var n=oU(t),i=aU(t),r=KV(t.Xx("bandwidth")),e=t.Xx("dependencyId"),u=t.Xx("id"),s=t.Xx("mediaStreamStructureId"),o=KV(t.Xx("qualityRanking"));if(t.Fx("SegmentBase").length>1)throw new y("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");return us({},n,i,{wG:r,Xwt:e,o:u,zwt:s,qwt:o})}function hU(t){return{i9:t.Xx("schemeIdUri"),Dx:t.Xx("value")}}function fU(t){return hU(t)}function vU(t){return hU(t)}function lU(t){return hU(t)}function dU(t){return hU(t)}function gU(t){var n,i=oU(t),r=aU(t),e=function(t){return t.map(dU)}(t.Fx("Accessibility")),u=JV(t.Xx("bitstreamSwitching")),s=t.Xx("contentType"),o=KV(t.Xx("group")),a=KV(t.Xx("id")),c=(null==(n=t.Fx("Label")[0])?void 0:n.Zx)||"",h=t.Xx("lang"),f=KV(t.Xx("maxBandwidth")),v=qV(t.Xx("maxFrameRate")),l=KV(t.Xx("maxHeight")),d=KV(t.Xx("maxWidth")),g=KV(t.Xx("minBandwidth")),m=qV(t.Xx("minFrameRate")),w=KV(t.Xx("minHeight")),p=KV(t.Xx("minWidth")),_=t.Xx("par"),b=function(t){return t.map(cU)}(t.Fx("Representation"));if(0===b.length)throw new y("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k,A=function(t){return t.map(lU)}(t.Fx("Role")),T=JV(t.Xx("segmentAlignment"))||!1,S=KV(t.Xx("selectionPriority")),E=S||1,I=JV(t.Xx("subsegmentAlignment"))||!1;try{k=KV(t.Xx("subsegmentStartsWithSAP"))}catch(t){}return us({},i,r,{ydt:e,Swt:u,Dk:s,Idt:o,o:a,xh:c,gs:h,Ywt:f,Kwt:v,Qwt:l,Jwt:d,$wt:g,tyt:m,eyt:w,iyt:p,syt:_,Zat:b,hft:A,nyt:T,VH:E,ryt:I,oyt:k,hyt:t.Xx("xlink:actuate")||"onRequest",ayt:t.Xx("xlink:href")})}function mU(t){var n=YV(t.Xx("presentationTime"))||ur.ZERO,i=YV(t.Xx("duration")),r=KV(t.Xx("id")),e=function(t){for(var n=t.Hx,i={},r=0;r<n.length;r++)i[n[r].l]=n[r].Dx;return i}(t),u=t.Zx;return{vL:n,ct:i,o:r,Hx:e,qk:""!==u.trim()?u:t.Xx("messageData")||""}}function wU(t){return{ayt:t.Xx("xlink:href"),hyt:t.Xx("xlink:actuate"),i9:t.Xx("schemeIdUri"),Dx:t.Xx("value"),_N:KV(t.Xx("timescale")),ywt:YV(t.Xx("presentationTimeOffset")),Kq:t.Fx("Event").map(mU)}}function pU(t){var n=aU(t),i=t.Fx("AssetIdentifier");if(i.length>1)throw new y("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?function(t){return hU(t)}(i[0]):void 0,e=function(t){return t.map(gU)}(t.Fx("AdaptationSet")),u=JV(t.Xx("bitstreamSwitching")),s=GV(t.Xx("duration")),o=function(t){return t.map(wU)}(t.Fx("EventStream")),a=t.Xx("id"),c=GV(t.Xx("start")),h=(t.Fx("Subset"),t.Xx("xlink:href"));return us({},n,{uft:e,uyt:r,Swt:u,ct:s,cyt:o,o:a,Cn:c,hyt:t.Xx("xlink:actuate"),ayt:h})}function yU(t){var n=t.Xx("schemeIdUri");if(n)return{i9:n,Dx:t.Xx("value")}}function _U(t,n){var i=HV(t.Xx("availabilityEndTime")),r=HV(t.Xx("availabilityStartTime")),e=$V(t.Fx("BaseURL")),u=t.Xx("id"),s=function(t){return t.map((function(t){return""+t.Zx}))}(t.Fx("Location")),o=GV(t.Xx("maxSegmentDuration")),a=GV(t.Xx("maxSubsegmentDuration")),c=GV(t.Xx("mediaPresentationDuration")),h=(t.Fx("Metrics"),GV(t.Xx("minBufferTime")));if(!h)throw new y("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=GV(t.Xx("minimumUpdatePeriod")),v=function(t){return t.map((function(t){return pU(t)}))}(t.Fx("Period"));if(!v.length)throw new y("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.Xx("profiles");if(!l)throw new y("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");var d=HV(t.Xx("publishTime")),g=GV(t.Xx("suggestedPresentationDelay")),m=GV(t.Xx("timeShiftBufferDepth")),w=function(t){switch(t){case tF.mW:case tF.gW:return t;default:return}}(t.Xx("type")),p=function(t){for(var n=[],i=0;i<t.length;i++){var r=yU(t[i]);r&&n.push(r)}return n}(t.Fx("UTCTiming")),_=function(t){if(0===t.length)return;var n=t[0],i=n.Fx("Latency");if(0===i.length)return;var r=function(t){var n=t[0],i=KV(n.Xx("target"));if(void 0===i)return;var r=KV(n.Xx("min")),e=KV(n.Xx("max"));return{lyt:i,aV:r,hV:e}}(i);if(void 0===r)return;var e=function(t){if(0===t.length)return;var n=t[0],i=KV(n.Xx("max")),r=KV(n.Xx("min"));return{aV:r,hV:i}}(n.Fx("PlaybackRate"));return{dyt:r,KR:e}}(t.Fx("ServiceDescription"));return{fyt:i,_yt:r,Uwt:e,o:u,vyt:s,myt:n,gyt:o,pyt:a,wyt:c,yyt:h,byt:f,Lpt:v,Dwt:l,Ayt:d,Syt:g,Awt:m,Aw:w,Tyt:p,kyt:_}}var bU=function(){function t(){}return t.prototype.Eyt=function(t,n){return function(t,n){if(!t)throw new y("The provided MPEG-DASH document does not contain a valid MPD root element.");return _U(t,n)}(qn.xx(t).Qx,n)},t}();function kU(t){return{get bandwidth(){return t.wG},get codecs(){return t.Zrt},get id(){return t.o},get uid(){return t.xC},get name(){return t.xh},get averageBandwidth(){return t.xyt},get label(){return t.xh},set label(n){t.xh=Xg(n)},get available(){return t.znt},get score(){return t.Ryt},addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)}}}function AU(t){return Pg(kU(t),{get height(){return t.Ti},get width(){return t.ji},get frameRate(){return t.Jdt},get firstFrame(){return t.Iyt}})}function TU(t){return Pg(kU(t),{get audioSamplingRate(){return t.Ewt}})}U(),St(),Dt(),U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),U(),St(),Ct();var SU=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return Rt(n,t),n}(ha),EU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).o=n,s.wG=i,s.Zrt=r,s.Pyt=u,s.xC=km(),s.RO=e||"",s.Cyt=!0,s}Rt(n,t);var i=n.prototype;return i.oW=function(){this.Cyt=!1,this.wo(new SU(this.ka))},i.rW=function(){this.Cyt=!0,this.wo(new SU(this.ka))},xt(n,[{key:"xh",get:function(){return this.RO},set:function(t){this.RO!==t&&(this.RO=t,this.wo(new SU(this.ka)))}},{key:"xyt",get:function(){}},{key:"znt",get:function(){return this.Cyt}},{key:"Ryt",get:function(){}}]),n}(oa),IU=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,r,e,u)||this).Jdt=s,h.ji=o,h.Ti=a,h.Iyt=c,h.su=void 0,h}return Rt(n,t),xt(n,[{key:"ka",get:function(){return this.su||(this.su=AU(this)),this.su}}]),n}(EU),RU=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).Ewt=s,o.su=void 0,o}return Rt(n,t),xt(n,[{key:"ka",get:function(){return this.su||(this.su=TU(this)),this.su}}]),n}(EU);U(),St(),U(),St(),Dt(),Ct();var CU=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Lyt=function(t){n.wo(t)},n}return Rt(n,t),xt(n,[{key:"Dyt",get:function(){var t=this.Nyt();return null==t?void 0:t.Cn}},{key:"Myt",get:function(){var t=this.Nyt();return null==t?void 0:t.jn}}]),n}(oa),NU=function(t){function n(n,i){var r;if((r=t.call(this)||this).su=void 0,r.Fyt=void 0,r.Gyt=!1,r.Hyt=!1,r.Lat=n,r.Byt=i,r.Byt.yn(SO.iat,r.Lyt),r.Aw===im._E){var e,u,s=null!=(u=null==(e=r.Jdt)?void 0:e.dF())?u:NaN;r.Wyt=new IU(r.o,r.wG,r.vp,"","",s,r.ji,r.Ti)}else r.Aw===im.fE?r.Wyt=new RU(r.o,r.wG,r.vp,"","",r.Ewt):r.Wyt=void 0;return r}Rt(n,t);var i=n.prototype;return i.flt=function(t){var n=jO(t)?this.Byt.Zyt(t):this.Byt.flt(t);return{Gu:n.Gu,rut:n.rut,kE:this.hdt.kE}},i.Xyt=function(){return this.Byt.Xyt()},i.Nyt=function(){return this.Byt.Nyt()},i.zyt=function(){return this.Byt.zyt()},i.slt=function(t){return this.Byt.slt(t)},i.rlt=function(t,n,i){return this.Byt.rlt(t,this.hdt.kE,n,i)},i.Klt=function(t){return jO(t)?this.Bot.qyt(t,this.Byt):this.Bot.Klt(t)},i.jct=function(t){return jO(t)?this.Bot.Yyt(t,this.Byt):this.Bot.jct(t)},i.gn=function(){this.Byt.fn(SO.iat,this.Lyt)},xt(n,[{key:"_ct",get:function(){return this.Lat}},{key:"Ewt",get:function(){var t;return null!=(t=this.Byt.qk.Ewt)?t:this._ct.Ewt}},{key:"wG",get:function(){return this.Byt.qk.wG||0}},{key:"Zrt",get:function(){var t=this.Byt.qk;return t.Zrt?[t.Zrt]:this._ct.Zrt}},{key:"Oyt",get:function(){var t=this.Byt.qk;return t.Zrt?[t.Zrt]:[]}},{key:"vp",get:function(){return this.Byt.qk.Zrt||this._ct.vp}},{key:"xwt",get:function(){return this.Byt.qk.xwt||this._ct.xwt}},{key:"AG",get:function(){return this.Byt.qk.AG||this._ct.AG}},{key:"Dk",get:function(){return this.Yq+'; codecs="'+this.vp+'"'}},{key:"Rwt",get:function(){var t=this.Byt.qk;return t.Rwt.length?t.Rwt:this._ct.Rwt}},{key:"ka",get:function(){return this.su||(this.su=function(t){return{get id(){return t.o},get type(){return t.Aw},get bandwidth(){return t.wG},get width(){return t.ji},get height(){return t.Ti},get frameRate(){var n,i;return null!=(i=null==(n=t.Jdt)?void 0:n.dF())?i:NaN},get audioSamplingRate(){return t.Ewt}}}(this))}},{key:"Jdt",get:function(){var t;return null!=(t=this.Byt.qk.Jdt)?t:this._ct.Jdt}},{key:"Ti",get:function(){return this.Byt.qk.Ti||this._ct.Ti}},{key:"o",get:function(){return this.Byt.qk.o||""}},{key:"ldt",get:function(){return this.Fyt},set:function(t){this.Fyt=t}},{key:"cdt",get:function(){var t=this.Byt.Vyt();if(t)return{Gu:t.Gu,rut:t.rut,kE:this.hdt.kE}}},{key:"Cwt",get:function(){return this.Byt.qk.Cwt||this._ct.Cwt||1}},{key:"Pwt",get:function(){return this.Byt.qk.Pwt||this._ct.Pwt}},{key:"hdt",get:function(){return this.Qct.hdt}},{key:"Yq",get:function(){return this.Byt.qk.Yq||this._ct.Yq}},{key:"Qct",get:function(){return this._ct.Qct}},{key:"Dwt",get:function(){return this.Byt.qk.Dwt||this._ct.Dwt}},{key:"aat",get:function(){return this.Wyt}},{key:"Nwt",get:function(){return this.Byt.qk.Nwt||this._ct.Nwt}},{key:"Mwt",get:function(){return this.Byt.qk.Mwt||this._ct.Mwt}},{key:"Uyt",get:function(){return this.Byt.Uyt}},{key:"Lwt",get:function(){return this.Byt.qk.Lwt||this._ct.Lwt}},{key:"Bot",get:function(){return this.Byt.Bot}},{key:"Bwt",get:function(){return this.Byt.qk.Bwt||this._ct.Bwt}},{key:"Aw",get:function(){var t=this.Yq.split("/")[0];return"application"===t||"text"===t||cy(this.Yq,this.Zrt)?im.Ak:"video"===t?im._E:"audio"===t?im.fE:"image"===t?im.vE:im.tE}},{key:"ji",get:function(){return this.Byt.qk.ji||this._ct.ji}},{key:"elt",get:function(){return this.Gyt},set:function(t){this.Gyt=t}},{key:"Vdt",get:function(){return this.Hyt},set:function(t){this.Hyt=t}}]),n}(CU),xU=function(t){function n(n,i){var r;return(r=t.call(this)||this).Mdt=[],r.kpt=n,r.Byt=i,r.Byt.yn(SO.iat,r.Lyt),r}Rt(n,t);var i=n.prototype;return i.tr=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return 0!==i.Mdt.length?[3,2]:(r=i.Byt.Zat.map((function(r){return i.jyt(r,t,n)})),[4,ut.all(r)]);case 1:i.Mdt=e.sent().filter(Yn),e.label=2;case 2:return i.Qyt(),[2]}}))}))()},i.jyt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return e=new NU(r,t),[4,n(e)];case 1:return u=s.sent(),jo(i),u?[2,e]:[2,void 0]}}))}))()},i.Qyt=function(){if(!this.Mdt.length)throw new y("Detected an AdaptationSet without any supported Representations.")},i.Nyt=function(){return this.Byt.Nyt()},i.zyt=function(){return this.Byt.zyt()},i.gn=function(){this.Byt.fn(SO.iat,this.Lyt);for(var t=0,n=this.Mdt;t<n.length;t++){n[t].gn()}So(this.Mdt)},xt(n,[{key:"ydt",get:function(){return this.Byt.qk.ydt}},{key:"Ewt",get:function(){var t;return null!=(t=this.Byt.qk.Ewt)?t:-1}},{key:"Zrt",get:function(){if(this.Byt.qk.Zrt)return[this.Byt.qk.Zrt];for(var t=[],n=0,i=this.Zat;n<i.length;n++){var r=i[n];r.Oyt.length&&-1===t.indexOf(r.vp)&&t.push(r.vp)}return t}},{key:"vp",get:function(){return this.Zrt.join()}},{key:"xwt",get:function(){return this.Byt.qk.xwt}},{key:"AG",get:function(){return this.Byt.qk.AG}},{key:"Dk",get:function(){return this.Yq+'; codecs="'+this.vp+'"'}},{key:"Rwt",get:function(){return this.Byt.Rwt}},{key:"Iwt",get:function(){return this.Byt.Iwt}},{key:"Jdt",get:function(){return this.Byt.qk.Jdt}},{key:"Idt",get:function(){return this.Byt.qk.Idt}},{key:"Ti",get:function(){return this.Byt.qk.Ti||0}},{key:"o",get:function(){return this.Byt.qk.o}},{key:"xh",get:function(){return this.Byt.qk.xh||""}},{key:"Cwt",get:function(){return this.Byt.qk.Cwt}},{key:"Pwt",get:function(){return this.Byt.qk.Pwt}},{key:"hdt",get:function(){return this.Qct.hdt}},{key:"Yq",get:function(){return this.Byt.qk.Yq||this.Mdt[0].Yq}},{key:"Qct",get:function(){return this.kpt}},{key:"Dwt",get:function(){return this.Byt.qk.Dwt}},{key:"Zat",get:function(){return this.Mdt}},{key:"hft",get:function(){return this.Byt.qk.hft||[]}},{key:"Nwt",get:function(){return this.Byt.qk.Nwt}},{key:"Mwt",get:function(){return this.Byt.qk.Mwt}},{key:"Lwt",get:function(){return this.Byt.qk.Lwt}},{key:"VH",get:function(){return this.Byt.qk.VH}},{key:"Bwt",get:function(){return this.Byt.qk.Bwt}},{key:"Aw",get:function(){var t=(this.Byt.qk.Dk||this.Yq).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||cy(this.Yq,this.Zrt)?im.Ak:"video"===t?im._E:"audio"===t?im.fE:"image"===t?im.vE:im.tE}},{key:"ji",get:function(){return this.Byt.qk.ji||0}},{key:"Htt",get:function(){return this.Byt.qk.gs||""}},{key:"eft",get:function(){return this.Dyt}},{key:"tft",get:function(){var t=this.eft,n=this.Myt;if(void 0!==t&&void 0!==n){var i=A.min(n,this.hdt.Kyt);return A.max(t,i)}}}]),n}(CU);function DU(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],u=0;u<t.length;u++){var s=t[u];i.push(qn.Nh(s,e))}return i}U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Ct(),U(),St(),Dt();var PU=function(){function t(t,n){this.kpt=t,this.mbt=n,this.PA=n._N,this._bt=n.cwt,this.Abt=n.ywt}var n=t.prototype;return n.Jyt=function(t){var n=t-this.kpt.Cn;if(!(n<0||n>=this.kpt.ct)){var i=this.$yt();return void 0!==i&&hr(i,n,1e-5)?this.tbt():this.ebt(n)}},n.ilt=function(t){var n=t-this.kpt.Cn;if(!(n<0))return this.ibt(A.min(n,this.kpt.ct))},n.tbt=function(){return this.sbt(0)},n.nbt=function(){var t=this.kpt.ct;if(isFinite(t))return this.ibt(t)},n.Xyt=function(t){if(this.kpt.hbt.Aw===tF.gW){if(this.rbt){var n=this.tbt(),i=this.abt();if(void 0===n||void 0===i)return;return{ubt:t,cbt:n,lbt:i}}var r=this.dbt(t);if(!r)return;return{ubt:t,cbt:this.fbt(t),lbt:r}}var e=this.tbt();if(e)return{ubt:t,cbt:e,lbt:this.nbt()}},n.zyt=function(t,n){if(n){var i=this.adt(n.cbt),r=this.clt(n.lbt);if(r){var e=this.udt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var u=this.tbt();if(u){var s=this.udt(u);if(t.getTime()<s.getTime())return s}var o=this.kpt.hbt._yt;return t.getTime()<o.getTime()?o:void 0},n.dbt=function(t){var n=(t.getTime()-this.kpt.hbt._yt.getTime())/1e3-this.kpt.Cn+this._bt,i=this.ibt(cr(n,0,this.kpt.ct));if(i&&(i=this.vbt(i,t))){for(var r=this.clt(i);r&&this.gdt(r,t);)i=r,r=this.clt(i);return i}},n.fbt=function(t){var n,i=this.mbt.Awt;if(i){var r=(t.getTime()-this.kpt.hbt._yt.getTime())/1e3-this.kpt.Cn-i.swt();(n=this.ibt(cr(r,0,this.kpt.ct)))||(n=this.tbt())}else n=this.tbt();if(n&&(n=this.vbt(n,t))){for(var e=this.ult(n);e&&this.gdt(e,t);)n=e,e=this.ult(n);return n}},n.vbt=function(t,n){for(var i=t;i&&this.udt(i).getTime()>n.getTime();)i=this.ult(i);if(i){var r=this.adt(i);if(r&&r.getTime()<=n.getTime()){var e=this.ult(i);for(e&&this.gdt(e,n)&&(i=e);i;){if(this.udt(i).getTime()>n.getTime())return;if(this.gdt(i,n))break;i=this.clt(i)}if(!i)return}return i}},n.gdt=function(t,n){if(this.rbt)return!0;if(this.udt(t).getTime()>n.getTime())return!1;var i=this.adt(t);return!(i&&n.getTime()>=i.getTime())},n.gbt=function(t,n){if(this.rbt)return!0;if(this.pbt(t).getTime()>n.getTime())return!1;var i=this.adt(t);return!(i&&n.getTime()>=i.getTime())},n.wbt=function(t,n,i){var r=Ar(n,this.PA)+this.kpt.Cn;return{Hut:t,ybt:n,FO:r,ct:i,VO:r+i}},n.pbt=function(t){return this.kpt.hbt.Aw===tF.gW?new Date(this.kpt.hbt._yt.getTime()+1e3*(t.FO+t.ct)):this.kpt.hbt._yt},n.udt=function(t){var n=this.pbt(t);return this.kpt.hbt.Aw===tF.gW?new Date(n.getTime()-1e3*this._bt):n},n.adt=function(t){var n=1/0;if(this.kpt.hbt.Aw===tF.gW){var i=this.mbt.Awt;i&&(n=this.pbt(t).getTime()+1e3*t.ct+i.nwt())}var r=this.kpt.hbt.fyt;return r&&(n=A.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.bbt=function(t,n){return t.Hut+n},n.slt=function(t){return!1},n.rlt=function(t,n,i,r,e){var u=this.Sbt(t);if(!u)return ut.reject(new y("Invalid segment"));var s=this.Tbt(u.Hut,n);return s?ut.resolve(s):Go(this.kbt(u.Hut,n,i,r),e)},n.Tbt=function(t,n){},n.kbt=function(t,n,i,r){return ut.reject(new y("Not supported"))},n.ult=function(t){var n=this.Sbt(t);if(n)return this.sbt(n.Hut-1)},n.clt=function(t){var n=this.Sbt(t);if(n)return this.sbt(n.Hut+1)},n.Sbt=function(t){var n=this.sbt(t.Hut);if(n&&n.FO===t.FO)return n;var i=this.Jyt(t.FO);return i&&i.FO===t.FO?i:void 0},n.Ebt=function(t,n){var i=this.olt(t);if(i&&this.slt(i.Hut)){var r=this.Tbt(i.Hut,n);if(r)return r.Ebt(t)}},n.olt=function(t){return this.sbt(t.xbt)},n.Klt=function(t){var n=this.Sbt(t);return!!n&&0===n.Hut},n.qyt=function(t,n){var i=this.Ebt(t,n);return!!i&&0===i.Gut},n.jct=function(t){var n=this.Sbt(t);if(!n)return!1;var i=this.nbt();return!!i&&n.Hut===i.Hut},n.Yyt=function(t,n){var i=this.Ebt(t,n);if(!i)return!1;var r=this.nbt();if(!r||i.xbt!==r.Hut)return!1;var e=this.Tbt(i.xbt,n);return i.Gut+1===e.V},n.Hw=function(){},xt(t,[{key:"rbt",get:function(){return this.kpt.hbt.obt&&void 0!==this.abt()}},{key:"MV",get:function(){return this.kpt.Cn-Ar(this.Abt,this.PA)}},{key:"ywt",get:function(){return Ar(this.Abt,this.PA)}}]),t}(),MU=function(t){function n(n,i){var r;r=t.call(this,i,n)||this;var e=n.Nbt,u=n.ct;if(void 0===e||void 0===u)throw new y("MultipleSegmentBase does not have a segment duration specified.");return r.Rbt=e,r.Cbt=u,r}Rt(n,t);var i=n.prototype;return i.sbt=function(t){if(!(t<0)){var n=this.Rbt.multiply(t),i=Ar(n,this.PA),r=this.kpt.ct;if(!(i>=r)){var e=this.Ibt();if(void 0!==e){if(t>e)return;if(t===e&&isFinite(r))return this.wbt(t,n,r-i)}return isFinite(r)&&i+this.Cbt>r?this.wbt(t,n,r-i):this.wbt(t,n,this.Cbt)}}},i.$yt=function(){return 0},i.ebt=function(t){var n=A.floor(t/this.Cbt),i=this.Ibt();return void 0!==i&&n>=i?this.sbt(i):this.sbt(n)},i.ibt=function(t){if(t>=this.kpt.ct){var n=A.ceil(this.kpt.ct/this.Cbt)-1,i=this.Ibt();return void 0!==i&&n>=i?this.sbt(i):this.sbt(n)}return this.ebt(t)},i.Ibt=function(){var t,n=this.mbt.kwt;if(void 0!==n)return n-(null!=(t=this.mbt.Twt)?t:1);var i=this.mbt.Pbt;return void 0!==i&&i>0?i-1:void 0},i.abt=function(){if(isFinite(this.kpt.ct))return this.nbt()},i.Dbt=function(t,n){return this.Rbt.multiply(t.Hut+(n-1))},i.tr=function(){},n}(PU);function BU(t,n,i){var r=n.length;if(0===r)return-1;for(var e=0,u=r-1,s=t.Mbt(n[e]),o=t.Lbt(n[u]);e<=u&&t.Bbt(s,i)<=0&&t.Bbt(i,o)<0;){var a=e+A.floor(t.Obt(i,s,o)*(u-e)),c=n[a],h=t.Mbt(c),f=a+1<r?t.Mbt(n[a+1]):t.Lbt(c);if(t.Bbt(f,i)<=0)e=a+1,s=f;else{if(!(t.Bbt(i,h)<0))return a;u=a-1,o=h}}return-1}function OU(t,n){return BU(LU.Fg,t,n)}U(),St(),Ct(),U(),St(),Dt(),U(),St();var LU=function(){function t(){}var n=t.prototype;return n.Mbt=function(t){return t.FO},n.Lbt=function(t){return t.VO},n.Bbt=function(t,n){return t.compare(n)},n.Obt=function(t,n,i){return t.subtract(n).toNumber()/i.subtract(n).toNumber()},xt(t,null,[{key:"Fg",get:function(){return null!=this.Hrt||(this.Hrt=new t),this.Hrt}}]),t}(),FU=.01,VU=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).Fbt=[],r.Wbt=void 0,r.Sgt=ur.ZERO,r.tr(),r}Rt(n,t);var i=n.prototype;return i.sbt=function(t){if(!(t<0))return t<this.Fbt.length?this.Fbt[t].But:this.Vbt(t-this.Fbt.length)},i.$yt=function(){if(this.Fbt.length>0)return Ar(this.Fbt[0].FO,this.PA)},i.ebt=function(t){if(this.Wbt&&Ar(this.Wbt.FO,this.PA)<=t){var n=Ar(this.Wbt.FO,this.PA),i=Ar(this.Wbt.ct,this.PA),r=A.floor((t-n)/i);return this.Vbt(r)}if(this.Fbt.length>0&&hr(t,Ar(this.Fbt[0].FO,this.PA),1e-5))return this.Fbt[0].But;var e=OU(this.Fbt,ur.fromNumber(t*this.PA));return e<0?void 0:this.Fbt[e].But},i.ibt=function(t){if(!this.Wbt&&this.Fbt.length>0){var n=this.Fbt[this.Fbt.length-1];if(function(t,n,i){return fo(t,n,i)>=0}(t,Ar(n.VO,this.PA),1e-5))return n.But}var i=this.$yt();return i&&t<i?this.Fbt[0].But:this.ebt(t)},i.abt=function(){return isFinite(this.kpt.ct)?this.nbt():this.sbt(this.Fbt.length-1)},i.Dbt=function(t){return this.Ubt(t)},i.Vbt=function(t){if(this.Wbt){var n=this.Wbt.FO,i=this.Wbt.ct,r=n.add(i.multiply(t)),e=Ar(r,this.PA),u=this.kpt.ct;if(!(e>=u)){var s=this.Fbt.length+t,o=A.min(Ar(i,this.PA),e+u);return this.wbt(s,r,o)}}},i.Ubt=function(t){return t.ybt.add(this.Abt)},i.tr=function(){var t=this.mbt.qk.Bot;if(!t)throw new y("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.Gbt(t)},i.Gbt=function(t){var n=this.Abt;this.Hbt(t,n);var i=this.Zbt(t);this.Xbt(t,n,i.zbt,i.xbt)},i.Hbt=function(t,n){var i=this.Fbt;if(0===t.length)So(i);else{for(var r=t[0],e=0,u=Ar(r.FO?ur.fromString(r.FO,!1).subtract(n):ur.ZERO,this.PA);e<i.length&&Ar(i[e].FO,this.PA)<u-FU;)e++;e>0&&i.splice(0,e)}},i.Zbt=function(t){for(var n=this.Fbt,i=this.Sgt,r=0,e=0;r<t.length&&e<n.length;){var u=t[r].dwt||0;if(u<0)break;var s=e+u;if(s>=n.length)break;if(n[s].FO.greaterThanOrEqual(i))break;if(n[e].But.Hut===e)e=s+1;else for(;e<=s;)n[e].But.Hut=e,e++;0,r++}return{zbt:r,xbt:e}},i.Xbt=function(t,n,i,r){for(var e,u=this.Fbt,s=i,o=r;s<t.length;){var a=t[s],c=ur.fromString(a.ct,!1),h=a.dwt||0,f=void 0;if(a.FO){if(f=ur.fromString(a.FO,!1).subtract(n),o>0){var v=u[o-1];v.VO.greaterThan(f)&&(v.ct=f.subtract(v.FO),v.VO=v.FO.add(v.ct))}}else f=o>0?u[o-1].VO:ur.ZERO;if(h<0){if(s+1===t.length){e={FO:f,ct:c};break}for(var l=ur.fromString(t[s+1].FO,!1).subtract(n);f.lessThan(l);){var d=f.add(c);this.qbt(u,o,f,c,d),f=d,o++}}else for(var g=o+h;o<=g;){var m=f.add(c);this.qbt(u,o,f,c,m),f=m,o++}s++}o<u.length&&u.splice(o),u.length>0&&(this.Sgt=u[u.length-1].FO),this.Wbt=e},i.qbt=function(t,n,i,r,e){if(n<t.length){var u=t[n];u.ct.equals(r)?u.But.Hut=n:t[n]={FO:i,ct:r,VO:e,But:this.wbt(n,i,Ar(r,this.PA))}}else t.push({FO:i,ct:r,VO:e,But:this.wbt(n,i,Ar(r,this.PA))})},n}(PU);U(),St(),Dt();var UU=function(){function t(t,n,i){this.Kbt=void 0,this.Qbt=void 0,this.Qct=t,this.Ybt=n,this.Sp=i}var n=t.prototype;return n.jbt=function(){if(this.Qbt=this.Jbt(),this.Qbt)return this.Qbt;if(this.Ybt)return this.Ybt.Bot;throw new y("Missing media segment information.")},n.Vyt=function(t){var n=this.wwt;if(n)return{Gu:(void 0!==n.lwt?qn.Nh(n.lwt,t.Uwt[0]):t.Uwt[0]).href,rut:n.rut};var i=this.fwt;return i?{Gu:t.Uwt[0].href,rut:[0,i[0]-1]}:void 0},n.tr=function(t){this.Sp=t,this.Qbt&&this.Qbt.tr()},n.Hw=function(){this.Qbt&&(this.Qbt.Hw(),this.Qbt=void 0)},xt(t,[{key:"qk",get:function(){return this.Sp}},{key:"cwt",get:function(){return this.Sp&&void 0!==this.Sp.cwt?this.Sp.cwt:this.Ybt?this.Ybt.cwt:0}},{key:"ywt",get:function(){return this.Sp&&void 0!==this.Sp.ywt?this.Sp.ywt:this.Ybt?this.Ybt.ywt:ur.ZERO}},{key:"Awt",get:function(){return this.Sp&&void 0!==this.Sp.Awt?this.Sp.Awt:this.Ybt?this.Ybt.Awt:this.Qct.hbt.Awt}},{key:"_N",get:function(){return this.Sp&&void 0!==this.Sp._N?this.Sp._N:this.Ybt&&this.Ybt._N?this.Ybt._N:1}},{key:"fwt",get:function(){return this.Sp&&void 0!==this.Sp.fwt?this.Sp.fwt:this.Ybt?this.Ybt.fwt:void 0}},{key:"wwt",get:function(){return this.Sp&&void 0!==this.Sp.wwt?this.Sp.wwt:this.Ybt?this.Ybt.wwt:void 0}},{key:"Bot",get:function(){return this.Kbt||(this.Kbt=this.jbt()),this.Kbt}}]),t}(),WU=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.Jbt=function(){return void 0!==this.Sp.Bot?new VU(this,this.Qct):void 0!==this.Sp.ct?new MU(this,this.Qct):void 0},xt(n,[{key:"ct",get:function(){return void 0!==this.Sp.ct?this.Sp.ct/this._N:this.Ybt&&jU(this.Ybt)?this.Ybt.ct:void 0}},{key:"Nbt",get:function(){return void 0!==this.Sp.ct?ur.fromNumber(this.Sp.ct):this.Ybt&&jU(this.Ybt)?this.Ybt.Nbt:void 0}},{key:"Twt",get:function(){return void 0!==this.Sp.Twt?this.Sp.Twt:this.Ybt&&jU(this.Ybt)?this.Ybt.Twt:void 0}},{key:"kwt",get:function(){return void 0!==this.Sp.kwt?this.Sp.kwt:this.Ybt&&jU(this.Ybt)?this.Ybt.kwt:void 0}}]),n}(UU);function jU(t){return t instanceof WU}U(),St();var ZU=function(){function t(t){this.$bt=t}return t.prototype.Ob=function(t){return this.$bt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,(function(n,i,r,e){if("$$"===n)return"$";var u=t[i];if(void 0===u)return n;if(void 0===r)return u.toString();var s=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(u,e);return void 0===s?n:s=zs(s,Number(r),"0")}))},t}();var XU=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).tAt=r.Vwt?new ZU(r.Vwt):void 0,e.eAt=r.Wwt?new ZU(r.Wwt):void 0,e}Rt(n,t);var i=n.prototype;return i.Vyt=function(n){var i=this.Vwt;if(!i)return t.prototype.Vyt.call(this,n);var r=i.Ob({Bandwidth:n.qk.wG,RepresentationID:n.qk.o});return{Gu:qn.Jp(r,n.Uwt[0])}},i.flt=function(t,n){var i,r=null!=(i=n.Uyt.Twt)?i:1,e=this.Wwt.Ob({Bandwidth:n.qk.wG,Number:n.Bot.bbt(t,r),RepresentationID:n.qk.o,Time:n.Bot.Dbt(t,r)});return{Gu:qn.Jp(e,n.Uwt[0])}},i.Zyt=function(t,n){},xt(n,[{key:"Vwt",get:function(){return this.tAt?this.tAt:this.Ybt&&this.Ybt instanceof n?this.Ybt.Vwt:void 0}},{key:"Wwt",get:function(){return this.eAt?this.eAt:this.Ybt&&this.Ybt instanceof n?this.Ybt.Wwt:void 0}},{key:"Pbt",get:function(){}}]),n}(WU);U(),St(),Dt(),Ct();var GU=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.flt=function(t,n){var i=this.vwt[t.Hut],r=n.Uwt[0];return{Gu:(i.yN?qn.Nh(i.yN,r):r).href,rut:i._wt}},i.Zyt=function(t,n){},xt(n,[{key:"vwt",get:function(){return void 0!==this.Sp.vwt?this.Sp.vwt:this.Ybt&&this.Ybt instanceof n?this.Ybt.vwt:void 0}},{key:"Pbt",get:function(){var t;return null==(t=this.vwt)?void 0:t.length}}]),n}(WU);U(),St(),Dt(),Ct(),U(),St(),Gt(),Ct(),rn(),Jt(),U(),St(),Dt(),Ct(),U(),St();var HU=function(){function t(){}return t.prototype.Ebt=function(t){var n=this.hlt(t.Gut);if(n&&n.FO===t.FO)return n;var i=this.iAt(t.FO);return i&&i.FO===t.FO?i:void 0},t}(),zU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).xbt=n,s._N=i,s.oAt=r,s.ywt=e,s.sAt=u,s}Rt(n,t);var i=n.prototype;return i.hlt=function(t){if(t>=0&&t<this.V)return this.nAt(this.sAt[t])},i.iAt=function(t){var n=this.rAt(t);if(this.sAt.length>0){var i=this.sAt[0];if(n<=Ar(i.FO,this._N))return this.nAt(i)}var r=OU(this.sAt,ur.fromNumber(n*this._N));if(!(r<0))return this.nAt(this.sAt[r])},i.nlt=function(t){var n=this.rAt(t);if(this.sAt.length>0){var i=this.sAt[this.sAt.length-1];if(n>=Ar(i.VO,this._N))return this.nAt(i)}return this.iAt(t)},i.nAt=function(t){var n=Ar(t.FO,this._N)-this.ywt,i=n+this.oAt,r=Ar(t.ct,this._N);return{xbt:this.xbt,Gut:t.Hut,FO:i,ybt:ur.fromNumber(n*this._N),ct:r,VO:i+r,hAt:[t.aAt,t.uAt]}},i.rAt=function(t){return t-this.oAt+this.ywt},xt(n,[{key:"V",get:function(){return this.sAt.length}}]),n}(HU);U(),St(),U(),St(),U(),St();var YU=function(){function t(t){this.qk=t,this.yD=new Dc}var n=t.prototype;return n.Xmt=function(){return this.yD.ec<this.qk.byteLength},n.cAt=function(){var n,i=this.lAt(),r=this.dAt(),e=this.yD.ec,u=this.qk.byteLength,s=e+(n=t.fAt(r)?u-e:t._At(r))<=u?n:u-e,o=Ha(this.qk,this.yD,s);return new qU(i,Sc(o))},n.lAt=function(){var t=this.dAt();if(t.length>7)throw new RangeError("Invalid EBML ID size");for(var n=0,i=0;i<t.length;i++)n=256*n+t[i];return n},n.dAt=function(){var t=Xa(this.qk,this.yD.xb());if(0===t)throw new RangeError("EBML variable sized integer is invalid");var n=8-(31-Pa(t));return qn.Vp(n<=8&&n>=1,"Incorrect log2 value"),Ha(this.qk,this.yD,n)},t._At=function(t){if(8===t.length&&224&t[1])throw new _("EBML variable sized integer is too large");for(var n=0,i=0;i<t.length;i++){var r=t[i];if(0===i)n=r&(1<<8-t.length)-1;else n=256*n+r}return n},t.fAt=function(t){for(var n=0;n<KU.length;n++){var i=KU[n];if(Fc(t,new I(i)))return!0}return!1},t}(),KU=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],qU=function(){function t(t,n){this.id=t,this.mAt=n}var n=t.prototype;return n.vAt=function(){return this.mAt.byteOffset},n.gAt=function(){return new YU(this.mAt)},n.pAt=function(){var t=this.mAt.byteLength;if(t>8)throw new RangeError("EMBL integer field size is too large");if(8===t&&224&this.mAt.getUint8(0))throw new RangeError("EMBL integer field value is too large");for(var n=0,i=0;i<t;i++){n=256*n+this.mAt.getUint8(i)}return n},n.bQ=function(){if(4===this.mAt.byteLength)return this.mAt.getFloat32(0);if(8===this.mAt.byteLength)return this.mAt.getFloat64(0);throw new RangeError("Invalid size for EMBL floating-point field")},t}();function JU(t,n){var i=function(t){var n=new YU(Sc(t)),i=n.cAt();if(i.id!==$U)throw new _("Missing WebM EBML header");var r=n.cAt();if(r.id!==tW)throw new _("Missing WebM SegmentElement");var e=r.vAt(),u=function(t){var n,i=t.gAt();for(;i.Xmt();){var r=i.cAt();if(r.id===nW){n=r;break}}if(!n)throw new _("Missing WebM InfoElement");return function(t){var n,i=t.gAt(),r=1e6;for(;i.Xmt();){var e=i.cAt();e.id===iW?r=e.pAt():e.id===rW&&(n=e.bQ())}if(void 0===n)throw new _("Missing Duration in WebM InfoElement");var u=r/1e9,s=n*u;return{timecodeScale:u,duration:s}}(n)}(r);return{segmentOffset:e,timecodeScale:u.timecodeScale,duration:u.duration}}(n),r=new YU(Sc(t)).cAt();if(r.id!==eW)throw new _("Missing WebM CuesElement");var e=function(t,n,i,r){var e,u,s=[],o=t.gAt();for(;o.Xmt();){var a=o.cAt();if(a.id===uW){var c=QU(a);if(c){var h=c.unscaledTime,f=n+c.relativeOffset;void 0!==e&&s.push({Hut:s.length,FO:e,ct:h.subtract(e),VO:h,aAt:u,uAt:f-1}),e=h,u=f}}}if(void 0!==e){0;var v=ur.fromNumber(r/i);s.push({Hut:s.length,FO:e,ct:v.subtract(e),VO:v,aAt:u,uAt:void 0})}return s}(r,i.segmentOffset,i.timecodeScale,i.duration);return{_N:A.round(1/i.timecodeScale),wAt:e}}function QU(t){var n=t.gAt(),i=n.cAt();if(i.id!==sW)throw new _("Missing CueTime in WebM CuePointElement");var r=ur.fromNumber(i.pAt()),e=n.cAt();if(e.id!==oW)throw new _("Missing CueTrackPositions in WebM CuePointElement");for(var u=e.gAt(),s=0;u.Xmt();){var o=u.cAt();if(o.id===aW){s=o.pAt();break}}return{unscaledTime:r,relativeOffset:s}}var $U=440786851,tW=408125543,nW=357149030,iW=2807729,rW=17545,eW=475249515,uW=187,sW=179,oW=183,aW=241,cW=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).SAt=os(),r.TAt=os(),r.kAt=new Jo,r.AAt=n.fwt,r.yAt=r.wbt(0,ur.ZERO,r.kpt.ct),r}Rt(n,t);var i=n.prototype;return i.sbt=function(t){if(0===t)return this.yAt},i.$yt=function(){return 0},i.ebt=function(t){return this.yAt},i.ibt=function(t){return this.ebt(t)},i.abt=function(){return this.yAt},i.Dbt=function(t,n){return ur.ZERO},i.Xyt=function(t){var n=this.bAt(t);return n&&{ubt:t,cbt:n,lbt:n}},i.bAt=function(t){var n=this.yAt;return this.gdt(n,t)?n:void 0},i.dbt=function(t){return this.bAt(t)},i.fbt=function(t){return this.bAt(t)},i.tr=function(){},i.slt=function(t){return 0===t&&void 0!==this.AAt},i.Tbt=function(t,n){var i=n.Uwt[0].href;return this.SAt.get(i)},i.kbt=function(t,n,i,r){var e=n.Uwt[0].href,u=this.TAt.get(e);if(void 0===u){var s=n.Yq,o=this.kAt.Vw;if(Ov(s))u=this.EAt(t,e,i,r,o);else{if(!Lv(s))throw new sl(el.MEDIA_NOT_SUPPORTED,"Unsupported MIME type for segment index: "+s);u=this.xAt(t,e,n,i,r,o)}this.TAt.set(e,u)}return u},i.EAt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return s=u.AAt,[4,r.Clt(n,s,i,e)];case 1:return o=c.sent(),a=u.RAt(t,o),u.SAt.set(n,a),[2,a]}}))}))()},i.RAt=function(t,n){var i=this.AAt,r=wp.WD(new DataView(n),new Dc);if(r.Aw!==cp._D)throw new y("Invalid segment index");var e=kp.oN(r.qk),u=function(t,n){for(var i=[],r=t.CL,e=n+t.PL.toNumber(),u=0,s=0,o=t.NL;s<o.length;s++){var a=o[s],c=a.kL,h=ur.fromNumber(a.ct),f=r.add(h);0===a.TL&&i.push({Hut:u++,FO:r,ct:h,VO:f,aAt:e,uAt:e+c-1}),e+=c,r=f}return i}(e,i[1]+1);return new zU(t,e._N,this.kpt.Cn,Ar(this.Abt,this.PA),u)},i.xAt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:return o=i.Vyt(),a=s.AAt,c=e.Clt(o.Gu,o.rut,r,u),h=e.Clt(n,a,r,u),[4,ut.all([c,h])];case 1:return f=nn.apply(void 0,[g.sent(),2]),v=f[0],l=f[1],d=s.IAt(t,l,v),s.SAt.set(n,d),[2,d]}}))}))()},i.IAt=function(t,n,i){var r=JU(new I(n),new I(i));return new zU(t,r._N,this.kpt.Cn,Ar(this.Abt,this.PA),r.wAt)},i.Hw=function(){t.prototype.Hw.call(this),this.kAt.Yw()},n}(PU),hW=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.flt=function(t,n){return{Gu:n.Uwt[0].href}},i.Zyt=function(t,n){return{Gu:n.Uwt[0].href,rut:t.hAt}},i.Jbt=function(){return new cW(this,this.Qct)},xt(n,[{key:"Twt",get:function(){}}]),n}(UU);U(),St(),Ct();var fW=function(t){function n(){return t.call(this,SO.iat)||this}return Rt(n,t),n}(ha);U(),St();var vW=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).mbt=void 0,e.FAt=1/0,e.MAt=void 0,e.tx=i,e.NAt(n,r),e}Rt(n,t);var i=n.prototype;return i.PAt=function(){var t,n;return null!=(n=this.mbt)?n:null==(t=this.tx)?void 0:t.PAt()},i.DAt=function(t){var n=this.Qct,i=this.tx&&this.tx.PAt();this.Sp.Zwt?this.mbt=new XU(n,i,this.Sp.Zwt):this.Sp.Hwt?this.mbt=new GU(n,i,this.Sp.Hwt[0]):this.Sp.Gwt?this.mbt=new hW(n,i,this.Sp.Gwt):t&&!i&&(this.mbt=new hW(n,i,void 0))},i.NAt=function(t,n){this.Sp=t,this.CAt=t.Uwt&&t.Uwt.length>0?DU(t.Uwt.map((function(t){return t.Gu})),n):n.slice(),this.mbt&&(t.Zwt?this.mbt.tr(t.Zwt):t.Hwt?this.mbt.tr(t.Hwt[0]):t.Gwt&&this.mbt.tr(t.Gwt))},i.Nyt=function(){var t;return null==(t=this.MAt)?void 0:t.LAt},i.zyt=function(){var t;return null==(t=this.MAt)?void 0:t.BAt},i.OAt=function(t){var n=this.FAt,i=this.Qct.ct,r=this.MAt,e=this.VAt(t);r&&hr(i,n,1e-5)&&mW(r,e)||(this.FAt=i,this.MAt=e,this.wo(new fW))},i.Hw=function(){this.$o(),this.mbt&&(this.mbt.Hw(),this.mbt=void 0)},xt(n,[{key:"qk",get:function(){return this.Sp}},{key:"Uwt",get:function(){return this.CAt}}]),n}(oa);function lW(t){for(var n,i=0;i<t.length;i++){var r=t[i].Nyt();if(r){n=r.Cn;break}}if(void 0!==n){for(var e,u=t.length-1;u>=0;u--){var s=t[u].Nyt();if(s){e=s.jn;break}}if(void 0!==e)return{Cn:n,jn:e}}}function dW(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].Nyt();if(!e)return;if((n=A.max(n,e.Cn))>=(i=A.min(i,e.jn)))return}return{Cn:n,jn:i}}}function gW(t){for(var n,i=0;i<t.length;i++){var r=t[i].zyt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function mW(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.BAt,n.BAt)&&function(t,n){return t&&n?hr(t.Cn,n.Cn,1e-5)&&hr(t.jn,n.jn,1e-5):t===n}(t.LAt,n.LAt)}var wW=function(t){function n(n,i,r){var e;(e=t.call(this)||this).kpt=n,e.ZS=i,e.WAt=r.slice();for(var u=0;u<r.length;u++){r[u].yn(SO.iat,e.Lyt)}return e}Rt(n,t);var i=n.prototype;return i.Nyt=function(){return dW(this.WAt)},i.zyt=function(){for(var t,n=0,i=this.WAt;n<i.length;n++){var r=i[n].zyt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.gn=function(){this.$o();for(var t=0,n=this.WAt;t<n.length;t++){n[t].fn(SO.iat,this.Lyt)}},xt(n,[{key:"uft",get:function(){return this.WAt}},{key:"Zrt",get:function(){return this.uft.reduce((function(t,n){for(var i=0,r=n.Zrt;i<r.length;i++){var e=r[i];Ao(t,e)||t.push(e)}return t}),[])}},{key:"vp",get:function(){return this.Zrt.length>0?this.Zrt[0]:""}},{key:"Aw",get:function(){return this.WAt[0].Aw}},{key:"o",get:function(){return this.ZS}},{key:"hdt",get:function(){return this.kpt.hdt}},{key:"Yq",get:function(){return this.WAt[0].Yq}},{key:"Qct",get:function(){return this.kpt}},{key:"Zat",get:function(){return Io(this.uft,(function(t){return t.Zat}))}}]),n}(CU);U(),St(),Ct();var pW=function(t){function n(){return t.call(this,SO.nat)||this}return Rt(n,t),n}(ha);function yW(t){for(var n=function(n){var r=t[n],e=void 0,u=r.Idt;void 0===u||(e=go(i,(function(t){return t.o===u}))),e||(e={o:u,uft:[]},i.push(e)),e.uft.push(r)},i=[],r=0;r<t.length;r++)n(r);return i}U(),St();var _W=function(t){function n(n,i){var r;return(r=t.call(this)||this).WAt=[],r.UAt=[],r.GAt=!1,r.HAt=n,r.Byt=i,r.Byt.yn(SO.iat,r.Lyt),r}Rt(n,t);var i=n.prototype;return i.qAt=function(t,n){if(0!==this.UAt.length){for(var i=t,r=0,e=this.UAt;r<e.length;r++){var u=e[r];if(rm(u.Aw)){var s=u.Myt;if(void 0===s)return;i=n(i,s)}}return i}},i.KAt=function(){this.GAt||(this.GAt=!0,this.wo(new pW),this.gn())},i.tr=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return 0!==i.WAt.length?[3,2]:[4,i.jAt(i.Byt.uft,t,n)];case 1:return r.sent(),i.QAt(i.WAt),jo(n),[3,4];case 2:return[4,i.JAt(t,n)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))()},i.jAt=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:e=0,o.label=1;case 1:if(!(e<t.length))return[3,6];u=t[e],s=new xU(r,u),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,s.tr(n,i)];case 3:return o.sent(),r.WAt.push(s),[3,5];case 4:return Zo(o.sent()),[3,5];case 5:return e++,[3,1];case 6:return[2]}}))}))()},i.QAt=function(t){for(var n=yW(t),i=0;i<n.length;i++){var r=n[i],e=new wW(this,r.o,r.uft);this.UAt.push(e)}},i.JAt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:r=0,e=i.WAt,u.label=1;case 1:return r<e.length?[4,e[r].tr(t,n)]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},i.Nyt=function(){return this.Byt.Nyt()},i.zyt=function(){return this.Byt.zyt()},i.gn=function(){this.$o(),this.Byt.fn(SO.iat,this.Lyt);for(var t=0,n=this.UAt;t<n.length;t++){n[t].gn()}for(var i=0,r=this.WAt;i<r.length;i++){r[i].gn()}So(this.WAt),So(this.UAt)},xt(n,[{key:"uft",get:function(){return this.WAt}},{key:"Tpt",get:function(){return this.UAt}},{key:"uyt",get:function(){return this.Byt.qk.uyt}},{key:"ct",get:function(){return this.Byt.ct}},{key:"jn",get:function(){return this.Cn+this.ct}},{key:"cyt",get:function(){return this.Byt.qk.cyt||[]}},{key:"o",get:function(){return this.Byt.o}},{key:"rat",get:function(){return this.GAt}},{key:"hdt",get:function(){return this.HAt}},{key:"$pt",get:function(){return this.HAt.ZAt(this)}},{key:"Qct",get:function(){return this}},{key:"Jpt",get:function(){return this.HAt.XAt(this)}},{key:"zAt",get:function(){return this.qAt(1/0,A.min)}},{key:"YAt",get:function(){return this.qAt(0,A.max)}},{key:"Cn",get:function(){return this.Byt.Cn}},{key:"kE",get:function(){return this.hdt.kE}}]),n}(CU);U(),St(),Ct();var bW=function(t){function n(){return t.call(this,fa.Wy)||this}return Rt(n,t),n}(ha);U(),St(),Ct(),U(),St();var kW=function(t){return t.$At="tSt",t}({}),AW=function(t){function n(){return t.call(this,kW.$At)||this}return Rt(n,t),n}(ha);U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var TW=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Uwt)||this).eSt=void 0,r.Lat=i,r.DAt(!0),r}Rt(n,t);var i=n.prototype;return i.slt=function(t){var n=this.Yq;return!(!Ov(n)&&!Lv(n))&&this.Bot.slt(t.Hut)},i.rlt=function(t,n,i,r){return this.Bot.rlt(t,this,n,i,r)},i.Vyt=function(){return this.Uyt.Vyt(this)},i.flt=function(t){return this.Uyt.flt(t,this)},i.Zyt=function(t){return this.Uyt.Zyt(t,this)},i.Xyt=function(){return this.eSt},i.VAt=function(t){var n=this.Bot,i=n.Xyt(t),r=i&&function(t,n){var i,r=t.cbt,e=t.lbt,u=t.ubt,s=r.FO,o=n.pbt(e);if(o.getTime()<=u.getTime())i=e.VO;else{var a=(o.getTime()-u.getTime())/1e3,c=A.max(e.ct-a,0);i=e.FO+c}return{Cn:s,jn:i}}(i,n),e=this.Bot.zyt(t,i);return this.eSt=i,{ubt:t,LAt:r,BAt:e}},i.tr=function(t){this.NAt(t,this.Lat.Uwt)},xt(n,[{key:"_ct",get:function(){return this.Lat}},{key:"Qct",get:function(){return this.Lat.Qct}},{key:"hbt",get:function(){return this.Lat.hbt}},{key:"Yq",get:function(){return this.Sp.Yq||this.Lat.Yq}},{key:"Uyt",get:function(){return this.PAt()}},{key:"Bot",get:function(){return this.Uyt.Bot}}]),n}(vW),SW=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Uwt)||this).kpt=i,r.DAt(!1),r.Mdt=n.Zat.map((function(t){return new TW(t,r)})),r}Rt(n,t);var i=n.prototype;return i.tr=function(t){this.NAt(t,this.kpt.Uwt);var n=t.Zat||[];if(this.Mdt.length!==n.length)throw new y("Expected "+this.Mdt.length+' representations in adaptation set "'+t.o+'", found '+n.length);for(var i=0;i<n.length;i++)this.Mdt[i].tr(n[i])},i.OAt=function(n){for(var i=0,r=this.Mdt;i<r.length;i++){r[i].OAt(n)}t.prototype.OAt.call(this,n)},i.VAt=function(t){return{ubt:t,LAt:dW(this.Mdt),BAt:gW(this.Mdt)}},i.Hw=function(){for(var n=0,i=this.Mdt;n<i.length;n++){i[n].Hw()}t.prototype.Hw.call(this)},xt(n,[{key:"Zat",get:function(){return this.Mdt}},{key:"Qct",get:function(){return this.kpt}},{key:"hbt",get:function(){return this.kpt.hbt}},{key:"Idt",get:function(){return this.Sp.Idt}},{key:"Yq",get:function(){var t;return this.Sp.Yq||(null==(t=this.Mdt[0])?void 0:t.qk.Yq)||""}},{key:"Rwt",get:function(){return this.qk.Rwt}},{key:"Iwt",get:function(){return this.qk.Iwt}}]),n}(vW),EW=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,void 0,n.Uwt)||this).UAt=[],u.iSt=n,u.YV=r,u.DA=e,u.DAt(!1),u.WAt=(i.uft||[]).map((function(t){return new SW(t,u)})),u.UAt=yW(u.WAt),u}Rt(n,t);var i=n.prototype;return i.tr=function(t,n){this.NAt(t,this.iSt.Uwt),this.DA=n;var i=t.uft||[];if(this.WAt.length!==i.length)throw new y("Expected "+this.WAt.length+' adaptation sets in period "'+t.o+'", found '+i.length);for(var r=0;r<i.length;r++)this.WAt[r].tr(i[r])},i.OAt=function(n){for(var i=0,r=this.WAt;i<r.length;i++){r[i].OAt(n)}t.prototype.OAt.call(this,n)},i.VAt=function(t){return{ubt:t,LAt:dW(this.WAt),BAt:gW(this.WAt)}},i.Hw=function(){for(var n=0,i=this.WAt;n<i.length;n++){i[n].Hw()}t.prototype.Hw.call(this)},xt(n,[{key:"uft",get:function(){return this.WAt}},{key:"Tpt",get:function(){return this.UAt}},{key:"Qct",get:function(){return this}},{key:"hbt",get:function(){return this.iSt}},{key:"o",get:function(){return this.Sp.o}},{key:"Cn",get:function(){return this.YV}},{key:"ct",get:function(){return this.DA}}]),n}(vW);U(),St(),Dt();var IW=function(){function t(t){this.nSt=t}return xt(t,[{key:"sSt",get:function(){return this.nSt.dyt.aV}},{key:"rSt",get:function(){return this.nSt.dyt.hV}},{key:"oSt",get:function(){return this.nSt.dyt.lyt}},{key:"hSt",get:function(){var t;return null==(t=this.nSt.KR)?void 0:t.aV}},{key:"aSt",get:function(){var t;return null==(t=this.nSt.KR)?void 0:t.aV}}]),t}(),RW=new Date("2000-01-01"),CW=function(t){function n(n,i,r,e,u){var s;if((s=t.call(this)||this).MAt=void 0,s.lSt=void 0,s.uSt=void 0,s.fSt=[],s.gSt=i,s.cSt=u,s.tr(n,r,e),n.Aw===tF.gW){var o=s.abt();o&&o.fyt&&o.fyt.getTime()<RW.getTime()&&(s.uSt=new Date(s.Ayt.getTime()-1e3*(o.But.FO+o.But.ct)),s.OAt(e))}return s}Rt(n,t);var i=n.prototype;return i.Nyt=function(){var t;return null==(t=this.MAt)?void 0:t.LAt},i.zyt=function(){var t;return null==(t=this.MAt)?void 0:t.BAt},i.tr=function(t,n,i,r){var e,u=void 0!==this.Sp&&this.Sp.Aw===tF.gW;this.Sp=t,this.vSt=null!=r?r:i,this.An=i;var s=[Sd(n)];this.CAt=t.Uwt&&t.Uwt.length>0?DU(t.Uwt.map((function(t){return t.Gu})),s):s,this.dSt=t.vyt&&t.vyt.length>0?DU(t.vyt,this.CAt):[];var o=this.dSt.map((function(t){return t.href})),a=n.href;Ao(o,a)||(this.dSt.push(n),o.push(a));var c=this.gSt.href;Ao(o,c)||(this.dSt.push(this.gSt),o.push(c)),this.lSt=null==(e=t.wyt)?void 0:e.swt(),t.kyt&&(this.nSt=new IW(t.kyt));var h=t.Aw===tF.gW,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=void 0;if(u.Cn)s=u.Cn.swt();else if(e>0&&t[e-1].ct){s=r[e-1]+t[e-1].ct.swt()}else{if(0!==e||n)break;s=0}r.push(s)}for(var o=[],a=0;a<r.length-1;a++)o.push({qk:t[a],Cn:r[a],ct:r[a+1]-r[a]});if(r.length>0){var c=r.length-1,h=t[c],f=r[c],v=1/0;n||(v=h.ct?h.ct.swt():i-f),o.push({qk:h,Cn:f,ct:v})}return o}(t.Lpt,h,this.lSt);this.pSt(f,u,h),this.OAt(i)},i.pSt=function(t,n,i){var r=this.fSt;if(0!==t.length){for(var e=t[0].qk.o,u=0;u<r.length&&r[u].o!==e;)u++;for(var s=r.splice(0,u),o=0;o<s.length;o++){s[o].Hw()}if(n&&!i&&r.length>0&&t.length>0){var a,c,h=null!=(a=NW(r[0].qk))?a:ww.CF,f=null!=(c=NW(t[0].qk))?c:ww.CF;if(f.fF(h)){var v=f.SF(h);void 0!==this.lSt&&(this.lSt+=v.dF());for(var l=0;l<t.length;l++){var d=t[l];if(l<r.length){var g=r[l];d.Cn=g.Cn,BW(d.qk,g.qk)}l===t.length-1&&(d.ct+=v.dF())}}}for(var m=0;m<t.length;m++){var w=t[m];if(m<r.length){var p=r[m];0,p.tr(w.qk,w.ct)}else r.push(new EW(this,w.qk,w.Cn,w.ct))}}else So(r)},i.OAt=function(t){for(var n=0,i=this.fSt;n<i.length;n++){i[n].OAt(t)}var r=this.MAt,e=this.VAt(t);r&&mW(r,e)||(this.MAt=e,this.wo(new fW))},i.VAt=function(t){return{ubt:t,LAt:lW(this.fSt),BAt:gW(this.fSt)}},i.abt=function(){if(0!==this.fSt.length){var t=this.fSt[this.fSt.length-1];if(!isFinite(t.ct)&&0!==t.uft.length){var n=t.uft[0];if(0!==n.Zat.length){var i=n.Zat[0].Bot,r=i.abt();if(r)return{But:r,fyt:i.adt(r)}}}}},i.Hw=function(){this.$o();for(var t=0,n=this.fSt;t<n.length;t++){n[t].Hw()}},xt(n,[{key:"qk",get:function(){return this.Sp}},{key:"Aw",get:function(){return this.Sp.Aw||tF.mW}},{key:"_yt",get:function(){return this.uSt||this.Sp._yt||this.Ayt}},{key:"fyt",get:function(){return this.Sp.fyt}},{key:"obt",get:function(){var t,n;return null!=(n=null==(t=this.cSt)?void 0:t.ignoreAvailabilityWindow)&&n}},{key:"wyt",get:function(){return this.lSt}},{key:"Uwt",get:function(){return this.CAt}},{key:"vyt",get:function(){return this.dSt}},{key:"Lpt",get:function(){return this.fSt}},{key:"Ayt",get:function(){return this.Sp.Ayt||this.An}},{key:"Awt",get:function(){return this.Sp.Awt}},{key:"_St",get:function(){return this.vSt}},{key:"mSt",get:function(){return this.An}},{key:"kyt",get:function(){return this.nSt}}]),n}(oa);function NW(t){for(var n,i,r=PW(t),e=0,u=null!=(n=t.uft)?n:[];e<u.length;e++){r=yw(r,xW(u[e]))}for(var s=0,o=null!=(i=t.cyt)?i:[];s<o.length;s++){r=yw(r,MW(o[s]))}return r}function xW(t){for(var n=PW(t),i=0,r=t.Zat;i<r.length;i++){n=yw(n,DW(r[i]))}return n}function DW(t){return PW(t)}function PW(t){var n;if(void 0!==t.Zwt&&(n=yw(n,MW(t.Zwt))),void 0!==t.Gwt&&(n=yw(n,MW(t.Gwt))),void 0!==t.Hwt)for(var i=0,r=t.Hwt;i<r.length;i++){n=yw(n,MW(r[i]))}return n}function MW(t){var n,i;return ww.xF(null!=(n=t.ywt)?n:ur.ZERO,null!=(i=t._N)?i:1)}function BW(t,n){if(FW(t,n),t.Cn=n.Cn,void 0!==t.uft&&void 0!==n.uft&&t.uft.length===n.uft.length)for(var i=0;i<t.uft.length;i++)OW(t.uft[i],n.uft[i]);if(void 0!==t.cyt&&void 0!==n.cyt&&t.cyt.length===n.cyt.length)for(var r=0;r<t.cyt.length;r++)VW(t.cyt[r],n.cyt[r])}function OW(t,n){if(FW(t,n),void 0!==t.Zat&&void 0!==n.Zat&&t.Zat.length===n.Zat.length)for(var i=0;i<t.Zat.length;i++)LW(t.Zat[i],n.Zat[i])}function LW(t,n){FW(t,n)}function FW(t,n){if(void 0!==t.Zwt&&void 0!==n.Zwt&&VW(t.Zwt,n.Zwt),void 0!==t.Gwt&&void 0!==n.Gwt&&VW(t.Gwt,n.Gwt),void 0!==t.Hwt&&void 0!==n.Hwt&&t.Hwt.length===n.Hwt.length)for(var i=0;i<t.Hwt.length;i++)VW(t.Hwt[i],n.Hwt[i])}function VW(t,n){t._N=n._N,t.ywt=n.ywt}U(),St(),Gt(),Jt();var UW=function(){function t(t,n,i){this.lW=t,this.ySt=n,this.bSt=i,this.ASt=0}var n=t.prototype;return n.Tj=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.wSt(t,n.lW,n.ySt,n.bSt).catch(Xo)];case 1:return i.sent(),[2]}}))}))()},n.odt=function(){return new Date(pr()+this.ASt)},n.wSt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r?[4,e.SSt(n,r,i)]:[3,2];case 1:u=a.sent(),a.label=2;case 2:if(void 0!==u)return[3,6];jo(i),s=0,a.label=3;case 3:return s<t.length?(o=t[s],[4,e.TSt(n,o,i)]):[3,6];case 4:if(void 0!==(u=a.sent()))return[3,6];a.label=5;case 5:return s++,[3,3];case 6:return e.ASt=void 0===u?0:u-pr(),[2]}}))}))()},n.TSt=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:switch(n.i9){case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2012":case"urn:mpeg:dash:utc:http-iso:2014":return[3,1];case"urn:mpeg:dash:utc:direct:2012":case"urn:mpeg:dash:utc:direct:2014":return[3,4]}return[3,5];case 1:return(e=n.Dx)?[4,r.SSt(t,e,i)]:[3,3];case 2:return[2,o.sent()];case 3:return[3,6];case 4:return(u=n.Dx)&&(s=new Date(u).getTime(),!E(s))?[2,s]:[3,6];case 5:case 6:return[2]}}))}))()},n.SSt=function(t,n,i){return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,t.Kk({Gu:n,yE:fd.GET,Yk:xl.Ak,Vw:i})];case 1:return[4,u.sent().Rk()];case 2:return r=u.sent(),e=new Date(r).getTime(),E(e)?[3,4]:[2,e];case 3:return Zo(u.sent()),[3,4];case 4:return[2]}}))}))()},t}(),WW=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Byt=void 0,s.RSt=!0,s.fSt=[],s.FSt=void 0,s.MSt=n,s.xSt=n.OC,s.OSt=i,s.lW=r,s.VSt=e,s.BSt=new UW(s.lW,s.VSt,s.MSt.WSt),s.cSt=u,s}Rt(n,t);var i=n.prototype;return i.ISt=function(t){var n=this.XR;this.RSt=t,n!==this.XR&&this.wo(new AW)},i.tr=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,l,d,g;return Ht(this,(function(m){switch(m.label){case 0:return u=[],s=[],o=t.myt?qn.Nh(t.myt,r.xSt):r.xSt,void 0!==r.Byt?[3,2]:[4,r.BSt.Tj(t.Tyt)];case 1:return m.sent(),r.Byt=new CW(t,r.xSt,o,r.odt(),r.cSt),r.Byt.yn(SO.iat,r.Ds),[3,3];case 2:r.Byt.tr(t,o,r.odt(),n),m.label=3;case 3:if(0===(a=r.Byt.Lpt).length)c=r.fSt.slice(),So(r.fSt);else{for(h=a[0].o,f=0;f<r.fSt.length&&r.fSt[f].o!==h;)f++;for(c=r.fSt.splice(0,f),v=0;v<a.length;v++)l=a[v],d=void 0,v<r.fSt.length?d=r.fSt[v]:(d=new _W(r,l),u.push(d)),s.push(d.tr(r.OSt,i))}return[4,ut.all(s)];case 4:for(m.sent(),(e=r.fSt).push.apply(e,Ut(u)),g=0;g<c.length;g++)c[g].KAt();return r.wo(new bW),[2]}}))}))()},i.odt=function(){return this.BSt.odt()},i.XAt=function(t){var n=this.fSt.indexOf(t);if(n>0)return this.fSt[n-1]},i.ZAt=function(t){var n=this.fSt.indexOf(t);if(n>=0&&n+1<this.fSt.length)return this.fSt[n+1]},i.Nyt=function(){return this.Byt?this.Byt.Nyt():void 0},i.zyt=function(){return this.Byt&&this.Byt.zyt()},i.OAt=function(t){this.Byt&&this.Byt.OAt(t)},i.gn=function(){this.$o(),this.FSt=void 0,this.ISt(!1);for(var t=0,n=this.fSt;t<n.length;t++){n[t].gn()}So(this.fSt),this.Byt&&this.Byt.Hw()},xt(n,[{key:"fyt",get:function(){return this.Byt&&this.Byt.fyt}},{key:"_yt",get:function(){return this.Byt&&this.Byt._yt}},{key:"obt",get:function(){return this.Byt&&this.Byt.obt}},{key:"o",get:function(){return this.Byt&&this.Byt.qk.o}},{key:"_St",get:function(){var t;return null==(t=this.Byt)?void 0:t._St}},{key:"kSt",get:function(){var t;return null==(t=this.Byt)?void 0:t.mSt}},{key:"vyt",get:function(){return this.Byt?this.Byt.vyt.map((function(t){return t.href})):[this.ESt]}},{key:"ESt",get:function(){return this.xSt.href}},{key:"gyt",get:function(){return this.Byt&&this.Byt.qk.gyt}},{key:"pyt",get:function(){return this.Byt&&this.Byt.qk.pyt}},{key:"wyt",get:function(){return this.Byt&&this.Byt.qk.wyt}},{key:"yyt",get:function(){return this.Byt&&this.Byt.qk.yyt}},{key:"byt",get:function(){var t,n,i=(null==(n=this.Byt)||null==(t=n.qk.byt)?void 0:t.nwt())||0;return A.max(i,ZW)}},{key:"XR",get:function(){return this.RSt}},{key:"Lpt",get:function(){return this.fSt}},{key:"CSt",get:function(){return this.Aw===tF.gW?this.Kyt:this.PSt}},{key:"DSt",get:function(){var t=this.CSt;if(void 0!==t)for(var n=0,i=this.Lpt;n<i.length;n++){var r=i[n];if(r.Cn<=t&&r.jn>t)return r}}},{key:"Dwt",get:function(){return this.Byt&&this.Byt.qk.Dwt}},{key:"Ayt",get:function(){return this.Byt&&this.Byt.Ayt}},{key:"zAt",get:function(){for(var t=this.fSt.length-1;t>=0;t-=1){var n=this.fSt[t].zAt;if(n)return n}}},{key:"Kyt",get:function(){var t=this.zAt;if(void 0!==t){var n=t-this.NSt;return A.max(n,this.PSt)}}},{key:"PSt",get:function(){for(var t=0,n=this.fSt;t<n.length;t++){var i=n[t].Dyt;if(void 0!==i)return i}}},{key:"kE",get:function(){return Boolean(this.MSt.kE)}},{key:"NSt",get:function(){var t,n;if(this.MSt.LSt&&this.Aw===tF.gW)return this.MSt.LSt;var i=null==(n=this.Byt)||null==(t=n.qk.Syt)?void 0:t.swt();return void 0!==i?i:this.Aw===tF.gW?1.5*this.yyt.swt():0}},{key:"Awt",get:function(){return this.Byt&&this.Byt.Awt}},{key:"Aw",get:function(){return this.Byt?this.Byt.Aw:void 0}},{key:"kyt",get:function(){var t;return null==(t=this.Byt)?void 0:t.kyt}}]),n}(oa),jW=function(){function t(t,n,i,r,e){this.HAt=new WW(t,n,i,r,e)}return xt(t,[{key:"hdt",get:function(){return this.HAt}}]),t}(),ZW=1e3,XW=A.pow(2,31)-1,GW=function(){function t(t,n,i,r,e){var u=this;this.GSt=new Jo,this.HSt=Zt((function(t){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),n=u.Byt.hdt.odt(),[4,u.tTt(u.Byt.hdt.vyt,t)];case 1:return i=e.sent(),[4,u.Byt.hdt.tr(i,n,t)];case 2:return e.sent(),[3,4];case 3:throw jd(r=e.sent())&&u.Byt.hdt.ISt(!1),r;case 4:return[2]}}))})),this.iTt=r,this.Byt=new jW(t,n,i,this.GSt.Vw,e)}var n=t.prototype;return n.KE=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:n.Byt.hdt.wo(new JR),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.HSt(t)];case 2:return r.sent(),n.Byt.hdt.ISt(!0),[3,4];case 3:throw Zo(i=r.sent()),n.USt=void 0,n.Byt.hdt.ISt(!1),new y("The provided MPEG-DASH document could not be loaded - "+i.message);case 4:return n.ZSt=n.XSt(n.GSt.Vw),[2]}}))}))()},n.XSt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:i.trys.push([0,4,,5]),i.label=1;case 1:return n.Byt.hdt.Aw!==tF.gW?[3,3]:[4,Go(n.zSt,t)];case 2:return i.sent(),[3,1];case 3:return[3,5];case 4:return i.sent(),[3,5];case 5:return[2]}}))}))()},n.YSt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return jo(t),(i=n.KSt())>0?[4,ra(A.min(i,XW),t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,5,6]),[4,n.HSt(t)];case 3:return e.sent(),n.Byt.hdt.ISt(!0),[3,6];case 4:throw r=e.sent(),new y("The provided MPEG-DASH manifest could not be loaded - "+r.message);case 5:return n.jSt=void 0,[7];case 6:return[2]}}))}))()},n.KSt=function(){var t=this.Byt.hdt.odt().getTime()-this.Byt.hdt._St.getTime();return this.Byt.hdt.byt-t},n.QSt=function(t){var n=this.Byt.hdt.zyt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.Byt.hdt.OAt(t);var r=this.Byt.hdt.zyt();return r?r.getTime()-t.getTime():NaN},n.qSt=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:i={stack:[],error:void 0,hasError:!1},s.label=1;case 1:return s.trys.push([1,3,4,5]),null!=n.jSt||(n.jSt=n.YSt(t)),r=Yt(i,Jo.Qw([t]),!1),e=[n.jSt,n.JSt(r.Vw)].filter(Yn),[4,ut.race(e).catch(Xo)];case 2:return s.sent(),[3,5];case 3:return u=s.sent(),i.error=u,i.hasError=!0,[3,5];case 4:return Kt(i),[7];case 5:return[2]}}))}))()},n.JSt=function(t){var n=this.Byt.hdt.odt(),i=this.QSt(n);if(!E(i)&&!this.Pr.hdt.obt)return this.$St(i,t)},n.$St=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,ra(t,n)];case 1:return e.sent(),r=i.Byt.hdt.odt(),i.Byt.hdt.OAt(r),[2]}}))}))()},n.tTt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,i.iTt.eTt(t,{},n)];case 1:return r=e.sent(),[2,(new bU).Eyt(r.sTt,r.$k)]}}))}))()},n.gn=function(){return this.GSt.Yw(),this.ZSt=void 0,this.USt=void 0,this.jSt=void 0,this.Byt.hdt.gn(),ut.resolve()},xt(t,[{key:"Pr",get:function(){return this.Byt}},{key:"W",get:function(){return this.USt||(this.USt=this.KE(this.GSt.Vw),ta(this.USt)),this.USt}},{key:"zSt",get:function(){return this.Byt.hdt.kSt&&this.Byt.hdt.Aw===tF.gW?this.qSt(this.GSt.Vw):this.W}}]),t}();U(),St(),Dt(),Ct(),U(),St(),Ct();var HW=function(t){function n(n,i){var r;return(r=t.call(this,"Hpt")||this).twt=n,r.Gdt=i,r}return Rt(n,t),n}(ha),zW=function(t){function n(n,i){var r;(r=t.call(this)||this).Hdt=void 0,r.bp=n,r.cC=i;for(var e=0,u=r.cC;e<u.length;e++){u[e].Idt=r}return r}Rt(n,t);var i=n.prototype;return i.rW=function(t){t&&this.Hdt!==t&&this.nTt(t)},i.oW=function(t){this.Hdt===t&&this.nTt(void 0)},i.nTt=function(t){this.Hdt=t,this.wo(new HW(this,this.Hdt))},i.gn=function(){this.$o();for(var t=0,n=this.cC;t<n.length;t++){n[t].Idt=void 0}So(this.cC)},xt(n,[{key:"Gdt",get:function(){return this.Hdt}},{key:"Aw",get:function(){return this.bp}},{key:"Z",get:function(){return this.cC.slice()}}]),n}(oa);U(),St(),U(),St(),U(),St(),Ct();var YW=function(t){function n(n,i,r){var e;return(e=t.call(this,fa.Iy)||this).currentTime=n,e.initDataType=i,e.initData=r,e}return Rt(n,t),n}(ha);function KW(t,n,i,r,e){for(var u=[],s=[],o=0;o<n.length;o++){var a=n[o];a.Aw===im.fE?u=u.concat(a.Z):a.Aw===im._E&&(s=s.concat(a.Z))}return[qW(t,u,i,r,null==e?void 0:e.preferredAudioCodecs),JW(t,s,i,r,null==e?void 0:e.preferredVideoCodecs)].filter(Yn)}function qW(t,n,i,r,e){var u=go(r||[],(function(t){return t.bat===im.fE&&t.Rt})),s=[$W(u,i,t),tj(u),nj(u),ij(u,e),rj(),function(t){var n=t.filter((function(t){return"main"===t.Lt}));return n.length>0?n:t}];return QW(n,s)}function JW(t,n,i,r,e){var u=go(r||[],(function(t){return t.bat===im._E&&t.Rt})),s=[$W(u,i,t),ij(u,e),rj(),function(t){var n=t.filter((function(t){return"main"===t.Lt}));return n.length>0?n:t}];return QW(n,s)}function QW(t,n){if(0!==t.length){for(var i=t,r=0;r<n.length;r++){var e=n[r];if(1===i.length)return i[0];i=e(i)}return i[0]}}function $W(t,n,i){return function(r){var e=t?t._ct.o:void 0;if(!Yn(e))return r;var u=null==n?void 0:n.uyt,s=i.uyt,o=u&&s&&u.Dx===s.Dx,a=go(r,(function(t){return t._ct.o===e}));return o&&a?[a]:r}}function tj(t){return function(n){var i=t?t.gs:"",r=n.some((function(t){return""!==t.gs}))?n.filter((function(t){return""!==t.gs})):n;if(""===i)return r;var e=r.filter((function(t){return t.gs===i}));return e.length>0?e:r}}function nj(t){return function(n){var i=t?t.Lt:"";if(""===i)return n;var r=n.filter((function(t){return t.Lt===i}));return r.length>0?r:n}}function ij(t,n){return function(t){if(n&&n.length>0)for(var i=function(i){var r=n[i],e=t.filter((function(t){return t.IC.uC.some((function(t){return eN(t.Zrt,r)}))}));if(e.length>0)return{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===W(e))return e.v}return t}}function rj(){return function(t){for(var n=[],i=-1/0,r=0;r<t.length;r++){var e=t[r],u=e._ct.VH;u>i?(i=u,n=[e]):u===i&&n.push(e)}return n}}U(),St(),ct(),U(),St();var ej=function(t){return t.rTt="api",t.oTt="start",t}({});U(),St(),Gt(),Jt();var uj={maxRetries:3,minimumBackoff:1e3,maximumBackoff:1/0},sj=function(){function t(t,n,i){void 0===i&&(i=uj),this.lW=t,this.uTt=n,this.qlt=i}var n=t.prototype;return n.hTt=function(t,n,i){var r=this,e=this.qlt.maxRetries===1/0?uj:this.qlt;return ET((function(){return r.aTt(t,n,i)}),i,e.maxRetries,e.minimumBackoff,e.maximumBackoff)},n.aTt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:u=0,h.label=1;case 1:if(!(u<t.length))return[3,7];s=t[u],h.label=2;case 2:return h.trys.push([2,5,,6]),o=new md({Gu:s,Yk:xl.Ak,jk:n,kE:r.uTt,yE:fd.GET,Aw:vd.eE,SE:ld.tE,Vw:i,bE:15e3,AE:5e3}),[4,r.lW.Kk(o)];case 3:return[4,(a=h.sent()).Rk(i)];case 4:return[2,{sTt:h.sent(),cTt:s,$k:a.$k}];case 5:return c=h.sent(),e=c,[3,6];case 6:return u++,[3,1];case 7:throw e}}))}))()},t}();U(),St(),Gt(),Jt();var oj=function(){function t(t){this.lTt=t}return t.prototype.eTt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:u=0,s=r.lTt,c.label=1;case 1:if(!(u<s.length))return[3,6];o=s[u],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.eTt(t,n,i)];case 3:return[2,c.sent()];case 4:return Zo(a=c.sent()),e=a,[3,5];case 5:return u++,[3,1];case 6:throw e}}))}))()},t}(),aj=function(){function t(t){this.Fut=t}return t.prototype.eTt=function(t,n,i){var r=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,r.Fut.nrt(t)];case 1:if(n=i.sent())return[2,{sTt:n.data,cTt:n.locationURL,$k:n.responseURL}];throw new y("Manifest fetch from cache unsuccesful")}}))}))()},t}(),cj=function(){function t(t){this.dTt=t}return t.prototype.eTt=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,r.dTt.hTt(t,n,i)];case 1:return[2,e.sent()]}}))}))()},t}();function hj(t,n){return new oj([new aj(n),new cj(t)])}var fj=function(){function t(t,n,i){this.iTt=t,this.l_=n,this._Tt=i}var n=t.prototype;return n.eTt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return[4,r.iTt.eTt(t,n,i)];case 1:return e=u.sent(),[4,r.fTt(e)];case 2:return u.sent(),[2,e]}}))}))()},n.fTt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.l_.frt({key:DB(t.cTt),locationURL:bd(t.cTt),responseURL:bd(t.$k),data:t.sTt,references:[n._Tt.o]})];case 1:return i.sent(),[2]}}))}))()},t}();U(),St(),Ct();var vj=function(t){function n(){return t.call(this,fa.Hy)||this}return Rt(n,t),n}(ha);U(),St(),Ct();var lj=function(t){function n(){return t.call(this,fa.Gy)||this}return Rt(n,t),n}(ha);U(),St(),Gt(),Ct(),Jt(),U(),St(),Ct();var dj=function(t){function n(){return t.call(this)||this}Rt(n,t);var i=n.prototype;return i.vTt=function(t){return t.sI=Nm.LOADED,this.tt(t),t},i.mTt=function(t){for(var n=0,i=this.Z.uC;n<i.length;n++){var r=i[n];if(r.MC===t)return r}},n}(my);function gj(t,n){return""===n?t:t+" "+n}U(),St(),U(),St(),Dt(),Ct(),U(),St();var mj=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,!1,null==u?void 0:u.toString())||this).Hx=e,s.gTt=u,s}return Rt(n,t),n.prototype.iF=function(t){return this.U===t.U},xt(n,[{key:"ka",get:function(){return this.su||(this.su=function(t){return Pg(Wm(t),{get attributes(){return t.Hx},get eventID(){var n;return""+(null!=(n=t.gTt)?n:"")}})}(this)),this.su}}]),n}(qm),wj=function(t){function n(n){var i;return(i=t.call(this)||this).iSt=void 0,i.yTt=function(){var t,n,r=null!=(n=null==(t=i.iSt.Nyt())?void 0:t.Cn)?n:0;if(r>0)for(var e=0,u=i.Z.uC;e<u.length;e++){dy(u[e],r)}for(var s=0,o=i.iSt.Lpt;s<o.length;s++){var a=o[s];if(a.jn>r)for(var c=0,h=a.cyt;c<h.length;c++){var f=h[c];i.wTt(f,a,r)}}},i.uW=n,i}Rt(n,t);var i=n.prototype;return i.pTt=function(t){var n=this.uW.LI($p.$V,"","","",void 0,xm.EVENT_STREAM);return n.MC=t,this.vTt(n),n},i.wTt=function(t,n,i){var r,e,u,s=t.i9,o=null!=(r=t.Dx)?r:"",a=null!=(e=t._N)?e:1,c=null!=(u=t.ywt)?u:ur.ZERO,h=gj(s,o),f=this.mTt(h);f||(f=this.pTt(h));for(var v=0,l=t.Kq;v<l.length;v++){var d=l[v];if(!pj(d,f)){var g=yj(d,a,c,n);g.VO>i&&f.dW(g)}}},i.Dn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.er()];case 1:return i.sent(),n.iSt=t,n.iSt.yn(fa.Wy,n.yTt),n.yTt(),[2]}}))}))()},i.er=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:for(n.iSt&&(n.iSt.fn(fa.Wy,n.yTt),n.iSt=void 0),i=0,r=n.Z.uC;i<r.length;i++)e=r[i],n.uW._W(e);return[4,t.prototype.er.call(n)];case 1:return u.sent(),[2]}}))}))()},n}(dj);function pj(t,n){var i=t.o;if(void 0!==i&&go(n.L.uC,(function(n){return n.gTt===i&&n.U===t.qk})))return!0;return!1}function yj(t,n,i,r){var e=t.o,u=t.vL.toSigned().subtract(i),s=t.ct,o=t.qk,a=t.Hx,c=u.toNumber()/n+r.Cn,h=s?s.toNumber()/n:void 0,f=void 0!==h?c+h:r.YAt;return new mj(c,f,o,a,e)}function _j(t,n,i,r,e){var u=[],s=go(i,(function(t){return t.i9===gs}));if(void 0!==s){var o=s.Dx?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.Dx.toLowerCase()):"cenc";if(void 0!==o){for(var a=0;a<i.length;a++){var c=i[a];if(c.i9!==gs)for(var h=0,f=Us(c.i9);h<f.length;h++){var v=f[h],l=e&&c.s9?[c.s9]:[];u.push({aT:v,EG:l,xG:void 0,FU:void 0})}}if(u.length)return{rU:t,spt:{bTt:o,oU:s.oU},ipt:u,ATt:n===im.fE?r.slice():[],STt:n===im._E?r.slice():[],o9:!1}}}}function bj(t,n){if(!t)return n;if(!n)return t;var i,r=[],e=os();return kj(r,e,t.ipt),kj(r,e,n.ipt),{rU:t.rU,spt:{bTt:t.spt.bTt,oU:null!=(i=t.spt.oU)?i:n.spt.oU},ipt:r,ATt:Aj(t.ATt,n.ATt,Ao),STt:Aj(t.STt,n.STt,Ao),o9:t.o9||n.o9||!1}}function kj(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],u=e.aT.xw,s=void 0;n.has(u)?(s=n.get(u)).EG=Aj(s.EG,e.EG,Tj):(s=us({},e),t.push(s),n.set(u,s))}}function Aj(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var u=n[e];i(r,u)||r.push(u)}return r}function Tj(t,n){for(var i=0;i<t.length;i++){if(Lc(t[i],n))return!0}return!1}function Sj(t,n,i){var r,e=t.AG;if(e){for(var u=t.Yq,s=[],o=0,a=t.Zrt;o<a.length;o++){var c=a[o];s.push(u+'; codecs="'+c+'"')}r=_j(n||{},t.Aw,e,s,i)}for(var h=0,f=t.Zat;h<f.length;h++){r=bj(r,Ej(f[h],n,i))}return r}function Ej(t,n,i){return _j(n||{},t.Aw,t.AG||[],[t.Dk],i)}function Ij(t){return t?t.ipt.map((function(n){var i=Rj(t.rU,n.aT),r=t.spt.bTt;return{aT:n.aT,EG:n.EG,FU:n.FU,EH:[{initDataTypes:[n.aT.Tw],audioCapabilities:Cj(t.ATt,r,null==i?void 0:i.audioRobustness),videoCapabilities:Cj(t.STt,r,null==i?void 0:i.videoRobustness),persistentState:null==i?void 0:i.persistentState,distinctiveIdentifier:null==i?void 0:i.distinctiveIdentifier}]}})):[]}function Rj(t,n){switch(n.Aw){case Ds.gw:return t.widevine;case Ds.mw:return t.playready;case Ds.ww:return t.fairplay;case Ds.pw:return t.clearkey}}function Cj(t,n,i){if(0!==t.length)return t.map((function(t){return{contentType:t,encryptionScheme:n,robustness:i}}))}function Nj(t,n){var i=function(t){var i=n.indexOf(t.aT.xw);return i>=0?i:n.length};return eo(t,(function(t,n){return i(t)-i(n)}))}U(),St(),U(),St(),Gt(),Ct(),rn(),Jt();var xj=function(t){function n(n){var i;(i=t.call(this)||this).Mdt=[],i.tr=function(){for(var t=[],n=0,r=i.iSt.Lpt;n<r.length;n++)for(var e=0,u=r[n].uft;e<u.length;e++){var s=u[e];if(s.Aw===im.vE&&s.Zat.length>0){var o=s.Zat[0];t.push(o),i.CTt(o)||i.pTt(o),-1===i.Mdt.indexOf(o)&&(i.Mdt.push(o),o.yn(SO.iat,i.RTt)),i.DTt(o)}}i.TTt(t)},i.DTt=function(t){var n=i.PTt(t);n&&t&&n.xE!==Gp.Th&&(i.ITt(),function(t,n){var i=t.Bot,r=t.Xyt();if(!r)return;var e=r.cbt,u=r.lbt,s=t.ji,o=t.Ti,a=nn(function(t){for(var n=0;n<t.length;n++){var i=t[n];if(Gs(i.i9,Pj)||Gs(i.i9,Mj)){var r=i.Dx.match(Dj);if(r){var e=nn(r,3),u=e[1],s=e[2];return[Number(u),Number(s)]}}}return[1,1]}(t.Rwt),2),c=a[0],h=a[1],f=e;for(;f&&f.Hut<=u.Hut;){for(var v=t.Uyt.ct||f.ct,l=Bj(n,f,t.flt(f).Gu,s,o,c,h,v),d=0;d<l.length;d++){var g=l[d];n.dW(g)}f=i.clt(f)}}(t,n))},i.uW=n;var r=i;return i.RTt=function(){r.DTt(this)},i}Rt(n,t);var i=n.prototype;return i.pTt=function(t){var n=this.uW.LI($p.$V,t.o,"thumbnails","",!1,xm.DEFAULT);return n.xE=Gp.Jn,this.vTt(n),n},i.Dn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.er()];case 1:return i.sent(),n.iSt=t,n.iSt.yn(fa.Wy,n.tr),n.tr(),[2]}}))}))()},i.TTt=function(t){this.kTt(t),this.ETt()},i.ETt=function(){for(var t=[],n=0,i=this.Z.uC;n<i.length;n++){var r=i[n];this.xTt(r)||t.push(r)}for(var e=0;e<t.length;e++){var u=t[e];this.it(u)}},i.kTt=function(t){for(var n=[],i=0,r=this.Mdt;i<r.length;i++){var e=r[i];-1===t.indexOf(e)&&n.push(e)}for(var u=0;u<n.length;u++){var s=n[u];_o(this.Mdt,s)}},i.er=function(){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:for(n.iSt&&(n.iSt.fn(fa.Wy,n.tr),n.iSt=void 0),i=0,r=n.Mdt;i<r.length;i++)r[i].fn(SO.iat,n.RTt);for(n.Mdt.length=0,e=0,u=n.Z.uC;e<u.length;e++)s=u[e],n.uW._W(s);return[4,t.prototype.er.call(n)];case 1:return o.sent(),[2]}}))}))()},i.gn=function(){return this.RTt=void 0,t.prototype.gn.call(this)},i.ITt=function(){var t,n,i=null!=(n=null==(t=this.iSt.Nyt())?void 0:t.Cn)?n:0;if(i>0)for(var r=0,e=this.Z.uC;r<e.length;r++){dy(e[r],i)}},i.CTt=function(t){return this.Z.uC.some((function(n){return n.o===t.o}))},i.PTt=function(t){return go(this.Z.uC,(function(n){return n.o===t.o}))},i.xTt=function(t){return this.Mdt.some((function(n){return t.o===n.o}))},n}(dj),Dj=/^(\d+)x(\d+)$/,Pj="http://dashif.org/guidelines/thumbnail_tile",Mj="http://dashif.org/thumbnail_tile";function Bj(t,n,i,r,e,u,s,o){var a=[],c=n.FO,h=u*s,f=r/u,v=e/s,l=A.round(f),d=A.round(v),g=o/h;if(1===h){var m=c+g;return Oj(t,c,m,i)?a:[new qm(c,m,i,!1)]}for(var w=0;w<s;w++)for(var p=0;p<u;p++){var y=c+(w*u+p)*g,_=y+g,b=i+"#xywh="+A.round(p*f)+","+A.round(w*v)+","+l+","+d;if(Oj(t,y,_,b)||a.push(new qm(y,_,b,!1)),_>=n.VO)return a}return a}function Oj(t,n,i,r){return t.L.uC.some((function(t){return t.FO===n&&t.VO===i&&t.U===r}))}U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Dt(),Ct(),U(),St();var Lj=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,s,!1)||this).NTt=r,o.MTt=e,o.BTt=u,o}return Rt(n,t),n.prototype.iF=function(t){return Fc(this.U,t.U)},xt(n,[{key:"_L",get:function(){return this.NTt}},{key:"Dx",get:function(){return this.MTt}},{key:"LTt",get:function(){return this.BTt}},{key:"ka",get:function(){return this.su||(this.su=function(t){return Pg(Wm(t),{get schemeIDURI(){return t._L},get value(){return t.Dx},get emsgID(){return t.LTt}})}(this)),this.su}}]),n}(qm),Fj=function(t){function n(n){var i;return(i=t.call(this)||this).uW=n,i}Rt(n,t);var i=n.prototype;return i.vdt=function(t,i,r){var e=kp.jD(Sc(t));if(e){var u=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];dp(e,n)&&i.push(e)}return i}(e,cp.fD);if(u.length){var s=n.OTt(e,i,r);this.FTt(u,s,r)}}},i.FTt=function(t,n,i){for(var r=0;r<t.length;r++){var e=t[r],u=void 0,s=(u=1===e.YD?e.vL.toNumber()/e._N+i:n+e.pL/e._N)+e.mL/e._N;"https://aomedia.org/emsg/ID3"===e._L||"https://developer.apple.com/streaming/emsg-id3"===e._L?this.VTt(e,u):this.WTt(e,u,s)}},i.WTt=function(t,n,i){var r=gj(t._L,t.Dx),e=this.mTt(r);e||(e=this.UTt(r),this.vTt(e)),e.dW(new Lj(n,i,t._L,t.Dx,t.o,t.gL))},i.VTt=function(t,n){var i=Vx(Sc(t.gL));if(i){var r=gj(t._L,t.Dx),e=this.mTt(r);e||(e=this.GTt(r),this.vTt(e));for(var u=0,s=i.k5;u<s.length;u++){var o=s[u],a=new Jx(n,o);vx(a,e.L.uC),e.dW(a)}}},i.UTt=function(t){var n=this.uW.LI($p.$V,"","","",void 0,xm.EMSG);return n.MC=t,n.xE=Gp.NC,n},i.GTt=function(t){var n=this.uW.LI($p.$V,"","","",void 0,xm.ID3);return n.MC=t,n.xE=Gp.NC,n},i.er=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:for(i=0,r=n.Z.uC;i<r.length;i++)e=r[i],n.uW._W(e);return[4,t.prototype.er.call(n)];case 1:return u.sent(),[2]}}))}))()},n.OTt=function(t,n,i){var r=gp(t,cp._D);return r?Ar(r.CL,r._N)+i:n},n}(dj),Vj=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).yTt=function(){var t,i,r=null!=(i=null==(t=n.iSt.Nyt())?void 0:t.Cn)?i:0;n.iW(r)},n}Rt(n,t);var i=n.prototype;return i.Dn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.er()];case 1:return i.sent(),n.iSt=t,n.iSt.yn(fa.Wy,n.yTt),n.yTt(),[2]}}))}))()},i.er=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.iSt&&(n.iSt.fn(fa.Wy,n.yTt),n.iSt=void 0),[4,t.prototype.er.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(Fj);U(),St(),U(),St(),Gt(),Jt();var Uj=function(){function t(t){this.HTt=!1,this.Fut=t}var n=t.prototype;return n.hrt=function(t,n){return this.HTt?this.Fut.hrt(t,n):ut.resolve(!1)},n.urt=function(t,n){return this.HTt?this.Fut.urt(t,n):ut.resolve(void 0)},n.nrt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.Fut.nrt(t)];case 1:return i=r.sent(),n.HTt=void 0!==i,[2,i]}}))}))()},n.xQ=function(t){return this.Fut.xQ(t)},t}();U(),St(),Ct();var Wj=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}Rt(n,t);var i=n.prototype;return i.YB=function(){var t;return null!=(t=this.zB)?t:0},i.GC=function(){this.ea.SR=1/0},i.KB=function(){return!0},n}(VA),jj=[fa.Xy,fa.qy,fa.Qy,fa.Uy,fa.Jy],Zj=[fa.zy,fa.ob,fa.Ny,fa.Py],Xj=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).lkt=void 0,a.Tkt=void 0,a.O9=!1,a.nxt=NaN,a.zG=void 0,a.qG=void 0,a.E9=!1,a.kkt=void 0,a.S9=void 0,a.hxt=!1,a.rxt=0,a.oxt=0,a.Okt=!1,a.fW=new Jo,a.ckt=new Yc,a.$Et=!1,a.Byt=void 0,a.aEt=void 0,a.RSt=!0,a.Dkt=!0,a.CEt=void 0,a.Ro=MA.mB(),a.KG=nS.QH,a.KEt=void 0,a.DW=!0,a.Cc=void 0,a.UEt=void 0,a.Rpt=void 0,a.dpt=[],a.aZ=!1,a.rkt=new Jo,a.ukt=ut.resolve(),a.j9=new Jo,a.Q9=ut.resolve(),a.sEt=!1,a.DEt=!1,a.okt=new Jo,a.hkt=ut.resolve(),a.pkt=void 0,a.jgt=void 0,a.Ikt=0,a.Ckt=0,a.Pkt=0,a.tH=new xk,a.bEt=void 0,a.jTt={dO:0,fO:0,_O:0},a.jG=void 0,a.GG=void 0,a.Qkt=function(t){var n,i,r,e;"Hpt"===(null==t?void 0:t.type)&&(e=t.Gdt),e&&(null==(n=e.Idt)?void 0:n.Aw)===im.fE&&(null==(r=a.bt)||null==(i=r.dash)?void 0:i.forceRecreateMediaSourceOnAudioSwitch)?a.nkt(!0):a.nkt()},a.ewt=function(t){var n;null==(n=a.lkt)||n.ewt(t)},a.jc=function(){a.wo(new pg(a.SR,a.wR))},a.d9=function(t){a.wo(new YW(a.SR,t.Tw,t.Tb))},a.zkt=function(t){a.Ikt+=t.mO,a.wo(t)},a.qkt=function(t){var n=t.segments.filter((function(t){return t.Gct}));t.track===im.fE?a.Ckt=n.length:t.track===im._E&&(a.Pkt=n.length)},a.Q8=function(){var t=a.ct;E(t)||t===a.nxt||(a.nxt=t,a.wo(new _T(a.nxt)))},a.lxt=function(){a.skt(),a.IEt()},a.cxt=function(t){a.DEt||!a.RR||a.hI||(a.DEt=!0,a.wo(null!=t?t:new kT(a.SR)))},a.ZEt=function(t){a.Ds(t),a.Okt||(a.Okt=!0,a.uxt.mxt())},a.HEt=function(){a.Byt.hdt.fn(fa.Vy,a.HEt),a.wo(new JR)},a.Kkt=function(t){var n;if(t.errorObject.code===el.CONTENT_PROTECTION_OUTPUT_RESTRICTED&&(null==(n=a.lkt)?void 0:n.qpt.every((function(t){return!t.Vdt}))))return;a.MH(t.errorObject),a.wo(t)},a.Ykt=function(t){a.MH(t.errorObject)},a.Ypt=function(t){Wo(t)||a.MH(new sl(el.MEDIA_DECODE_ERROR,t.message,t))},a.skt=function(){if(!a.qR)if(a.Ekt())if(a.Rkt()){var t=a.Byt.hdt.CSt;a.Eb(t,!0)}else;else{var n=a.Byt.hdt.CSt;a.Eb(n,!0)}},a.MEt=function(t){a.hxt=a.hI,a.wo(t)},a.OEt=function(t){var n=a.hxt,i=a.hI;a.hxt=i,n&&!i&&a.wo(t),a.cxt()},a.jkt=function(){var t=a.fI,n=a.cI;a.rxt===t&&a.oxt===n||(a.rxt=t,a.oxt=n,a.wo(new Ty))},a.SEt=function(t){var n=t.Ht;n.xE===Gp.Jn?(a._Et(n),a.mEt=n):n===a.mEt&&n.xE===Gp.Th&&(a.mEt=void 0,a.gEt())},a.NEt=function(){a.E9||a.CEt&&(a.CEt.Ob(),a.CEt=void 0)},a.xEt=function(t){a.E9||a.CEt&&(a.CEt.Fb(t),a.CEt=void 0)},a.XEt=function(){a.YEt().catch(a.Ypt)},a._xt=function(t){a.MH(hm(t.lt))},a.dxt=function(){a.XTt()},a.fxt=function(){a.zTt()},a.vxt=function(t){a.YTt(t.AG)},a.lW=n,a.Fut=new Uj(u),a.FB=s,a.tkt=o,a.vZ=r,a.vZ.yn("pj",a.dxt),a.vZ.yn("Aj",a.fxt),a.JG=e,a.qlt=i.retryConfiguration,a.aO=new oA,a.cO=new oA,a.rH=new Pk(n),a.rH.yn("contentProtectionsTracked",a.vxt),a.FB.yn(fa.xy,a.Q8),a.FB.yn(wa.Iy,a.d9),a.FB.yn(fa.Cy,a.cxt),a.FB.yn(fa.jy,a.MEt),a.FB.yn(fa.Ky,a.OEt),a.FB.yn(fa.Yy,a.jkt),a.FB.yn(fa.sb,a.jc),a.FB.yn([fa.ro,fa.Zy],a.lxt),a.FB.yn(Zj,a.Ds),a.FB.yn(zp.da,a._xt),a.FB.gH=a.rH,a.FB.m7=a,a.FB.yn([fa.Sy,fa.Ay],a.Ds),a.FB.yn(fa.fb,a.ewt),a.uxt=new Gj(a,a.FB),a._H=new Ly(a.uxt,!0),a._H.yn(Ey.FL,a.skt),a._H.yn(Iy,a.Ds),a.AEt=new aA,a.AEt.yn(Rg.la,a.SEt),a.wEt=new aA,a.uW=a.gxt(),a.zEt=new wj(a.uW),a.qEt=new xj(a.uW),a.cH=new py(a.FB,a.lW),a.axt=new Qp,a.Ll=new Bk([a.AEt,a.zEt.Z,a.qEt.Z,a.cH.Z,a.axt]),a}Rt(n,t);var i=n.prototype;return i.ZTt=function(t){return!!this.jG&&this.jG.cJ(t)},i.gp=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.FB.Dn(t)];case 1:return n.jG=i.sent(),n.XTt(),n.zTt(),n.jG.n4(n.ct),[2]}}))}))()},i.qTt=function(t){return this.jG.dJ(t)},i.YTt=function(t){return this.jG._J(t)},i.KTt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.jTt=t.QTt,t.jG?[4,t.FB.er()]:[3,2];case 1:n.sent(),t.jG=void 0,n.label=2;case 2:return[2]}}))}))()},i.r3=function(){this.jG.r3()},i.K2=function(){var t=this.ct;this.jG.ct<t&&this.jG.n4(t),this.jG.K2()},i.JTt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i=n.jG,r=[],i.J3&&r.push(vN(i.J3,t)),i.t4&&r.push(vN(i.t4,t)),[4,ut.all(r)];case 1:return e.sent(),[2]}}))}))()},i.$Tt=function(t,n,i,r,e,u){var s=this.FB,o=this.jG;return new FV(s,o,t,n,i,r,e,u,this.tkt,s,this.jgt,this.qlt,this.dpt,this.rH)},i.ekt=function(t,n,i){return t.dJ(n,i,this.jG)},i.ikt=function(t,n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return(u=e.$Tt(e.lW,e.vZ,e.Fut,e.Cc,t,r)).yn(SO.nat,e.skt),u.yn(fa.Uy,e.Ds),[4,u.Tj(n,i)];case 1:return s.sent(),[2,u]}}))}))()},i.nkt=function(t){void 0===t&&(t=!1),this.rkt.Yw(),this.j9.Yw(),this.okt.Yw(),this.okt=new Jo,this.hkt=Ho(this.akt(this.ukt,this.Q9,this.hkt,t,this.okt.Vw),this.okt).catch(this.Ypt)},i.akt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return[4,ut.all([t,n,i])];case 1:return v.sent(),jo(e),[4,Go(u.ckt.Vb,e)];case 2:return v.sent(),[4,(s=u.lkt).Oat()];case 3:return v.sent(),u.K2(),jo(e),o=s.xc,a=s.qpt,c=s.zpt,h=u.dkt(o,c,o,a,!1),f=u.fkt(c,h),r||!u.ZTt(f)?[3,5]:[4,u._kt(c,h,f)];case 4:return v.sent(),[3,7];case 5:return h=u.dkt(o,c,o,a,!0),f=u.fkt(c,h),[4,u.vkt(c,h,f,e)];case 6:v.sent(),v.label=7;case 7:return jo(e),u.hI?u.Eb(u.SR):u.mkt(),u.gkt(),[2]}}))}))()},i._kt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return e=r.lkt,[4,r.qTt(i)];case 1:return u.sent(),r.pkt=i,[4,r.ekt(e,t,n)];case 2:return u.sent(),[4,e.Vat(kO.ght)];case 3:return u.sent(),[2]}}))}))()},i.vkt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return u=e.lkt,e.n8(),e.wkt(),s=e.ykt,[4,e.KTt()];case 1:return a.sent(),[4,e.gp(i)];case 2:return a.sent(),e.pkt=i,[4,e.ekt(u,t,n)];case 3:a.sent(),a.label=4;case 4:return a.trys.push([4,,7,8]),ta(o=e.bkt(s,!1,!0,r)),[4,u.Vat(kO.ght)];case 5:return a.sent(),[4,o];case 6:return a.sent(),[3,8];case 7:return e.u8(),e.Akt(),[7];case 8:return[2]}}))}))()},i.ER=function(t,n){this.Eb(t,t===1/0)},i.T9=function(){return!!this.hI&&(!(!this.lkt||!this.lkt.Mpt)&&this.ykt===this.lkt.jn)},i.Ekt=function(){var t,n,i=this.xkt;if(0===i.V)return!0;var r=null!=(n=null==(t=this.HG)?void 0:t.jn)?n:this.ykt,e=i.Cn(0);return r>=e||hr(r,e,.001)},i.Rkt=function(){var t;if(!this.Byt)return!1;if(this.Byt.hdt.Aw!==tF.gW)return!1;var n=null==(t=this.lkt)?void 0:t.xc;if(n&&n.rat)return!0;for(var i=[],r=0,e=this.Byt.hdt.Lpt;r<e.length;r++){var u=e[r],s=u.Dyt,o=u.YAt;void 0!==s&&void 0!==o&&i.push(s,o)}var a=new MA(i).QL();return function(t,n,i){if(!n.V||!i.V)return MA.mB();var r=n.Cn(0),e=n.jn(n.V-1),u=t.Sn(i).YL().Sn(t).JL(n);return MA.vB(u.Cn(0),u.jn(u.V-1)).$L(u).hB((function(t,n){return t<r&&n<=e&&n-t>br}))}(this.Skt,this.xkt,a).V>0},i.Lkt=function(t){this.Ro=this.Ro.JL(t)},i.Xkt=function(t){t.yn(jj,this.Ds),t.yn(fa.eb,this.zkt),t.yn(fa.wy,this.qkt),t.yn(zp.da,this.Ykt),t.yn(fa.Ay,this.Kkt),t.yn(fa.qy,this.jkt),t.yn("Hpt",this.Qkt),t.yn("bpt",this.Qkt)},i.Jkt=function(t){t.fn(jj,this.Ds),t.fn(fa.eb,this.zkt),t.fn(fa.wy,this.qkt),t.fn(zp.da,this.Ykt),t.fn(fa.Ay,this.Kkt),t.fn(fa.qy,this.jkt),t.fn("Hpt",this.Qkt),t.fn("bpt",this.Qkt)},i.$kt=function(t){t.yn(fa.Xy,this.Ds)},i.tEt=function(t){t.fn(fa.Xy,this.Ds)},i.Hkt=function(){if(this.lkt){var t=go(this.lkt.zpt,(function(t){return t.bat===im._E}));if(t)return t.EC}},i.Fkt=function(t){var n,i=null==(n=this.Byt)?void 0:n.hdt;if(!i)return MA.mB();var r=i.PSt,e=t?i.zAt:i.Kyt;if(void 0===r||void 0===e)return MA.mB();if(!t){var u=this.Mkt;u.V>0&&u.jn(u.V-1)>e&&(e=A.min(u.jn(u.V-1),i.zAt))}var s=this.ct;return isFinite(s)&&s>e&&(e=s),MA.vB(r,e).zL()},i.Dn=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:jo(n),u=i.Byt.hdt;try{r=u.DSt,e=u.CSt}catch(t){throw new y("Something went wrong determining the start of the provided MPEG-DASH stream")}if(!r)throw new y("Something went wrong determining the initial Period of the provided MPEG-DASH stream");if(void 0===e)throw new y("Something went wrong determining the start time of the provided MPEG-DASH stream");return t.textTracks&&i.eEt(t.textTracks),i.n8(),s=i.rft(r),o=KW(r,s,void 0,void 0,i.Rpt),a=i.dkt(r,o,r,o,!0),o.forEach((function(t){return t.Rt=!0})),c=i.fkt(o,a),[4,i.gp(c)];case 1:return f.sent(),i.pkt=c,jo(n),[4,i.ikt(r,s,o,a)];case 2:return h=f.sent(),jo(n),i.iEt(h),i.u8(),jo(n),[4,h.Vat()];case 3:return f.sent(),jo(n),!i.sEt&&e>0&&i.Eb(e,!0,ej.oTt),i.aZ||(i.mkt(),i.nEt()),[2]}}))}))()},i.mkt=function(){this.rkt.Yw(),this.rkt=new Jo,this.ukt=Ho(this.rEt(this.ukt,this.hkt,this.rkt.Vw),this.rkt).catch(this.Ypt)},i.oEt=function(){this.rkt.Yw()},i.rEt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,ut.all([t,n])];case 1:s.sent(),jo(i),s.label=2;case 2:return(u=null==(e=r.lkt)?void 0:e.xc)?[4,r.hEt(u,i)]:[3,4];case 3:return s.sent()?[3,2]:[3,4];case 4:return[2]}}))}))()},i.hEt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:jo(n),e=i.lkt,s.label=1;case 1:return i.Byt.hdt.Aw!==tF.gW||void 0!==(null==(r=i.ZAt(t))?void 0:r.Dyt)?[3,4]:[4,Go(i.aEt.zSt,n)];case 2:return s.sent(),[4,i.uEt()];case 3:return s.sent(),[3,1];case 4:return jo(n),[4,i.uEt()];case 5:s.sent(),jo(n),s.label=6;case 6:return e.Ipt()?[3,9]:[4,e.vy(nF.mft,n)];case 7:return s.sent(),[4,i.uEt()];case 8:return s.sent(),[3,6];case 9:return jo(n),[4,i.uEt()];case 10:return s.sent(),jo(n),(u=i.ZAt(t))?i.cEt(u)?[4,i.lEt(u,n)]:[3,12]:(i.r3(),[2,!1]);case 11:return s.sent(),[3,14];case 12:return[4,i.dEt(u,n)];case 13:s.sent(),s.label=14;case 14:return[2,!0]}}))}))()},i.cEt=function(t){var n,i,r,e,u,s=null!=(u=null==(n=this.Cc)?void 0:n.seamlessSwitchStrategy)?u:XA.jB;if(s===XA.QB)return!0;if(s===XA.JB)return!1;var o=this.lkt,a=null==o?void 0:o.xc,c=null==o?void 0:o.zpt,h=KW(t,this.rft(t),a,c,this.Rpt),f=this.dkt(t,h,a,c,!1);if(s===XA.CLEAR_ONLY&&((null==(i=this.lkt)?void 0:i.ept)||f)||s===XA.SAME_DRM_ONLY&&!((null==(r=this.lkt)?void 0:r.ept)&&f||!(null==(e=this.lkt)?void 0:e.ept)&&!f))return!1;var v=this.fkt(h,f);return this.ZTt(v)},i.fEt=function(){return!0},i._Et=function(t){for(var n=this.vEt(),i=0;i<n.length;i++){var r=n[i];r!==t&&(r.xE=Gp.Th)}},i.gkt=function(){if(void 0!==this.mEt){if(this.mEt.BC){var t=go(this.ht.uC,(function(t){return t.Rt}));void 0!==t&&this.mEt.gs===t.gs||(this.mEt.xE=Gp.Th)}}else this.gEt()},i.gEt=function(){if(!this.vEt().length){var t=go(this.ht.uC,(function(t){return t.Rt}));if(void 0!==t)for(var n=this.nt.uC.filter((function(t){return t.BC})),i=0;i<n.length;i++){var r=n[i];if(r.gs===t.gs)return r.xE=Gp.Jn,void(this.mEt=r)}}},i.vEt=function(){return this.nt.uC.filter((function(t){return t.xE===Gp.Jn&&(t.Lt===$p.QV||t.Lt===$p.jV)}))},i.pEt=function(t){if(t&&this.mEt){var n=function(t,n){if(""!==t.gs)return n.filter((function(n){return n.gs===t.gs}))[0]}(this.mEt,t.nt.uC);n&&(n.xE=Gp.Jn)}},i.lEt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:u=i.lkt,s=i.Tkt,o=i.pkt,g.label=1;case 1:return g.trys.push([1,16,,22]),jo(n),a=u.xc,c=u.zpt,h=i.rft(t),f=KW(t,h,a,c,i.Rpt),v=i.dkt(t,f,a,c,!1),f.forEach((function(t){return t.Rt=!0})),l=i.fkt(f,v),[4,u.Oat()];case 2:return g.sent(),i.K2(),jo(n),s&&s.xc===t?i.ZTt(l)?[4,i.qTt(l)]:[3,4]:[3,5];case 3:g.sent(),g.label=4;case 4:return i.pkt=l,[3,11];case 5:return s?[4,s.gn(!0)]:[3,7];case 6:g.sent(),g.label=7;case 7:return i.ZTt(l)?[4,i.qTt(l)]:[3,9];case 8:g.sent(),g.label=9;case 9:return i.pkt=l,[4,i.ikt(t,h,f,v)];case 10:s=g.sent(),i.Tkt=s,i.$kt(s),i.wEt.fC=s.nt,s.Wat(u),g.label=11;case 11:return[4,s.Vat()];case 12:g.sent(),jo(n),g.label=13;case 13:return i.ykt<t.Cn?[4,i.FB.vy(fa.sb,n)]:[3,15];case 14:return g.sent(),[3,13];case 15:return jo(n),i.iEt(s),[3,22];case 16:return Wo(d=g.sent())?s?[4,s.Oat()]:[3,18]:[3,21];case 17:g.sent(),g.label=18;case 18:return o&&i.pkt!==o?i.ZTt(o)?[4,i.qTt(o)]:[3,20]:[3,21];case 19:g.sent(),g.label=20;case 20:i.pkt=o,g.label=21;case 21:throw d;case 22:return(null==(e=i.Cc)||null==(r=e.dash)?void 0:r.forceSeekToSynchronize)?[4,i.yEt(t,n)]:[3,24];case 23:g.sent(),g.label=24;case 24:return[2]}}))}))()},i.yEt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return r=Date.now()/1e3,void 0!==i.bEt?[3,1]:(i.bEt=r,[3,5]);case 1:if(!(r-i.bEt>900))return[3,5];i.bEt=r,i.wkt(),e=A.max(i.ykt,t.Cn),u.label=2;case 2:return u.trys.push([2,,4,5]),[4,i.bkt(e,!1,!0,n)];case 3:return u.sent(),[3,5];case 4:return i.Akt(),[7];case 5:return[2]}}))}))()},i.dEt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:return jo(n),[4,i.lkt.Oat()];case 1:return g.sent(),i.K2(),[4,i.JTt(t.Cn)];case 2:g.sent(),jo(n),i.r3(),g.label=3;case 3:return!i.FB.RR&&i.ykt<t.Cn?[4,i.FB.vy([fa.sb,fa.Cy],n)]:[3,5];case 4:return g.sent(),[3,3];case 5:return jo(n),r=i.lkt.xc,e=i.lkt.zpt,u=i.rft(t),s=KW(t,u,r,e,i.Rpt),o=i.dkt(t,s,r,e,!0),s.forEach((function(t){return t.Rt=!0})),a=i.fkt(s,o),i.lkt?(i.AEt.fn(Rg.la,i.SEt),[4,i.lkt.gn()]):[3,7];case 6:g.sent(),i.AEt.yn(Rg.la,i.SEt),i.lkt=void 0,g.label=7;case 7:return i.Tkt?[4,i.Tkt.gn()]:[3,9];case 8:g.sent(),i.Tkt=void 0,g.label=9;case 9:return i.wkt(),i.n8(),c=A.max(i.ykt,t.Cn),[4,i.KTt()];case 10:return g.sent(),[4,i.gp(a)];case 11:return g.sent(),i.pkt=a,[4,i.ikt(t,u,s,o)];case 12:h=g.sent(),i.iEt(h),g.label=13;case 13:g.trys.push([13,,20,21]),f={stack:[],error:void 0,hasError:!1},g.label=14;case 14:return g.trys.push([14,17,18,19]),ta(v=i.bkt(c,!1,!0,n)),[4,h.Vat()];case 15:return g.sent(),l=Yt(f,Jo.Qw([n]),!1),[4,ut.race([v,h.vy([nF.mft],l.Vw)])];case 16:return g.sent(),[3,19];case 17:return d=g.sent(),f.error=d,f.hasError=!0,[3,19];case 18:return Kt(f),[7];case 19:return[3,21];case 20:return i.u8(),i.Akt(),[7];case 21:return[2]}}))}))()},i.uEt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(n=t.Tkt)?n.xc.rat?[4,n.gn(!0)]:[3,2]:[2];case 1:i.sent(),t.Tkt=void 0,i.label=2;case 2:return[2]}}))}))()},i.rft=function(t){for(var i=[],r=[],e=0,u=t.Tpt;e<u.length;e++){var s=u[e];if(rm(s.Aw))if(0===s.Zat.length)this.wo(new $L("No supported representation found in the AdaptationSet with mimetype : "+s.Aw));else if(s.Aw===im.fE){var o;(o=i).push.apply(o,Ut(s.uft))}else{var a;(a=r).push.apply(a,Ut(s.uft))}}var c=[];return i.length>0&&c.push(n.TEt(im.fE,i)),r.length>0&&c.push(n.TEt(im._E,r)),c},i.fkt=function(t,n){var i,r,e,u,s,o,a,c,h,f=this,v=t.map((function(t){var n;return _L.Rlt(null!=(n=t.Ndt)?n:t.Zat,xA(t.bat,f.Rpt))})).map((function(t){return{Dk:t.Dk}})),l=null==(r=this.Cc)||null==(i=r.dash)?void 0:i.desiredTimescale,d=(null==(e=this.Cc)?void 0:e.seamlessSwitchStrategy)!==XA.JB&&(null==(u=this.Cc)?void 0:u.seamlessSwitchStrategy)!==XA.CLEAR_ONLY&&(null==(s=this.Cc)?void 0:s.seamlessSwitchStrategy)!==XA.SAME_DRM_ONLY&&(null!=(h=null==(a=this.Cc)||null==(o=a.dash)?void 0:o.needsTimescaleShifting)?h:qn.Ys.hp),g=null==(c=this.Cc)?void 0:c.useManagedMediaSource;return{Aw:Sy.gW,u4:v,eH:Ij(n),o9:null==n?void 0:n.o9,hp:d,i3:l,b4:g}},i.dkt=function(t,i,r,e,u){var s,o,a,c=this.Cc.contentProtection,h=n.kEt(i,c);if(void 0!==h)return h;var f=null!=(a=null==(s=this.Cc)?void 0:s.seamlessSwitchStrategy)?a:XA.jB;if(f!==XA.JB&&f!==XA.CLEAR_ONLY&&f!==XA.SAME_DRM_ONLY){var v=null==(o=this.lkt)?void 0:o.ept;if(!u&&void 0!==v){var l=!v.o9;if(f===XA.jB&&l&&!this.fEt())return;return v}var d=!u&&f===XA.jB;if(void 0!==(h=this.EEt(t,c,r,e,d)))return h.o9=!0,h}},i.EEt=function(t,i,r,e,u){for(var s=t,o=!1;;)if(void 0!==(s=o?this.XAt(s):this.ZAt(s))){var a=KW(s,this.rft(s),r,e,this.Rpt),c=n.kEt(a,i);if(u){var h=this.fkt(a,c);if(!this.ZTt(h))return}if(void 0!==c)return c}else{if(o)return;o=!0,s=t}},i.eEt=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.cH.aW(i)}Ay(this.cH.Z)},i.TI=function(){var t,n=this.qR;this.Dkt=!0,n||(this.E9||(this.xEt(new Uo),this.REt()),(null==(t=this.GG)?void 0:t.gB)&&this.GG.EI(),this.IEt())},i.kI=function(){this.CEt||(this.CEt=new Yc),this.PEt();var t=this.CEt.Vb;return ta(t),t},i.PEt=function(){if(this.Dkt=!1,this.O9=!0,this.DEt=!1,this.Bkt(),this.RR){var t=this.xkt;t.V>0&&this.Eb(t.Cn(0))}this.E9||this.V9().then(this.NEt,this.xEt),this.skt(),this.IEt()},i.V9=function(){return this.FB.kI()},i.REt=function(){this.FB.TI()},i.n8=function(){this.E9||(this.Dkt=this.qR,this.E9=!0,this.REt())},i.u8=function(){this.E9&&(this.E9=!1,this.Dkt||this.V9().then(this.NEt,this.xEt),this.skt(),this.IEt())},i.IEt=function(){var t=this.DW,n=this.qR;t!==n&&(this.DW=n,n?this.wo(new pT(this.SR)):this.wo(new yT(this.SR)))},i.Eb=function(t,n,i){return void 0===n&&(n=!1),void 0===i&&(i=ej.rTt),this.sEt=!0,this.rkt.Yw(),this.j9.Yw(),this.aZ=!0,this.S9=t,this.DEt=this.DEt&&this.T9(),this.Lkt(this.Mkt),this.MEt(new AT(this.SR)),this.j9=new Jo,this.Q9=Ho(this.J9(t,this.ukt,this.Q9,this.hkt,this.j9.Vw,n,i),this.j9).catch(this.Ypt),this.Q9},i.LEt=function(){this.j9.Yw()},i.J9=function(t,n,i,r,e,u,s,o){void 0===u&&(u=!1),void 0===s&&(s=ej.rTt),void 0===o&&(o=!1);var a=this;return Zt((function(){var c,h,f,v,l,d,g,m,w,p,y,_,b,k,A,T,S,E;return Ht(this,(function(I){switch(I.label){case 0:null==(c=a.GG)||c.EI(),0,I.label=1;case 1:return I.trys.push([1,30,,31]),[4,ut.all([n,i,r])];case 2:return I.sent(),jo(e),[4,Go(a.ckt.Vb,e)];case 3:return I.sent(),v=a.xkt.qL(t),a.S9=v,l=o||(null==(f=a.Cc)||null==(h=f.dash)?void 0:h.forceHardSwitchWhenSeekingBackwards)&&v<=a.SR,d=a.BEt(v),g=a.lkt,l||!g||!g.rI.kr(v)&&s!==ej.oTt&&g.xc!==d?[3,8]:!(m=a.Tkt)||m.Bpt?[3,7]:[4,m.Oat()];case 4:return I.sent(),a.K2(),w=a.fkt(g.qpt,g.ept),a.ZTt(w)?[4,a.qTt(w)]:[3,6];case 5:I.sent(),I.label=6;case 6:a.pkt=w,I.label=7;case 7:return[3,27];case 8:return d?(p=a.Tkt,a.n8(),g?[4,g.Oat()]:[3,10]):[3,27];case 9:I.sent(),I.label=10;case 10:return!p||p.xc!==d||l?[3,13]:(y=a.fkt(p.qpt,p.ept),a.K2(),a.ZTt(y)?[4,a.qTt(y)]:[3,12]);case 11:I.sent(),I.label=12;case 12:return a.pkt=y,[3,25];case 13:return p?[4,p.gn(!0)]:[3,15];case 14:I.sent(),I.label=15;case 15:return _=a.rft(d),b=null==g?void 0:g.xc,k=null==g?void 0:g.zpt,A=KW(d,_,b,k,a.Rpt),T=a.dkt(d,A,b,k,!1),A.forEach((function(t){return t.Rt=!0})),S=a.fkt(A,T),!a.cEt(d)||l?[3,18]:(a.K2(),a.ZTt(S)?[4,a.qTt(S)]:[3,17]);case 16:I.sent(),I.label=17;case 17:return[3,23];case 18:return T=a.dkt(d,A,b,k,!0),S=a.fkt(A,T),g?(a.AEt.fn(Rg.la,a.SEt),[4,g.gn()]):[3,20];case 19:I.sent(),a.AEt.yn(Rg.la,a.SEt),a.lkt=void 0,I.label=20;case 20:return[4,a.KTt()];case 21:return I.sent(),[4,a.gp(S)];case 22:I.sent(),I.label=23;case 23:return a.pkt=S,[4,a.ikt(d,_,A,T)];case 24:p=I.sent(),a.Tkt=p,a.wEt.fC=p.nt,a.$kt(p),p.Wat(a.lkt),I.label=25;case 25:return[4,p.Vat(kO.wht)];case 26:return I.sent(),a.iEt(p),[3,27];case 27:return ta(E=a.bkt(v,u,!1,e)),a.S9=void 0,[4,a.lkt.Vat(kO.wht)];case 28:return I.sent(),jo(e),a.mkt(),[4,E];case 29:return I.sent(),jo(e),a.u8(),a.aZ=!1,a.OEt(new TT(a.SR)),a.nEt(),[3,31];case 30:return Wo(I.sent())?[2]:[3,31];case 31:return[2]}}))}))()},i.nEt=function(){if(!this.qR&&!this.hI&&void 0!==this.qB){var t,n,i=this.SR;if(this.SR+this.qB-this.pI.bd.maximumOffset<i)null==(t=this.GG)||t.Cn();else null==(n=this.GG)||n.EI()}},i.bkt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,l;return Ht(this,(function(d){switch(d.label){case 0:u=!0,s=t,d.label=1;case 1:0,c={stack:[],error:void 0,hasError:!1},d.label=2;case 2:if(d.trys.push([2,4,5,6]),(h=e.Vkt).V>0&&(f=h.qL(t),s!==f&&(h.kr(s)&&e.Byt.hdt.Aw===tF.gW||(s=f,u=!0))),u)u=!1,null==a||a.Yw(),(a=new Jo).Kw(r),ta(o=Ho(e.FEt(s,n,i,a.Vw),a));else if(!e.Wkt&&!e.E4)return[3,7];return v=Yt(c,Jo.Qw([r]),!1),[4,ut.race([o,e.vy([fa.Qy,fa.xy],v.Vw),e.Byt.hdt.vy(SO.iat,v.Vw)])];case 3:return d.sent(),[3,6];case 4:return l=d.sent(),c.error=l,c.hasError=!0,[3,6];case 5:return Kt(c),[7];case 6:return[3,1];case 7:return[2]}}))}))()},i.FEt=function(t,n,i,r){var e=this;return Zt((function(){return Ht(this,(function(u){switch(u.label){case 0:e.FB.Eb(t,n,i),u.label=1;case 1:return e.Wkt||e.E4?[4,e.FB.vy([fa.Ky,fa.Oy],r)]:[3,3];case 2:return u.sent(),[3,1];case 3:return[2]}}))}))()},i.wkt=function(){void 0===this.kkt&&(this.kkt=this.ykt,this.FB.fn(fa.jy,this.MEt),this.FB.fn(fa.Ky,this.OEt))},i.Akt=function(){if(void 0!==this.kkt){var t=this.ykt;this.kkt=void 0,this.FB.yn(fa.jy,this.MEt),this.FB.yn(fa.Ky,this.OEt),this.ykt!==t&&this.jc()}},i.VEt=function(t){this.Ro=this.Ro.JL(t)},i.BEt=function(t){var n=this.Byt.hdt,i=n.Lpt.filter((function(t){return t.ct>=.2}));if(0!==i.length){var r=i[0];if(t<=r.Cn)return r;for(var e=0;e<i.length;e++){var u=i[e];if(u.jn>t)return u}return n.Aw!==tF.gW?i[i.length-1]:void 0}},i.XAt=function(t){for(var n=t.Jpt;n&&n.ct<.2;)n=n.Jpt;return n},i.ZAt=function(t){for(var n=t.$pt;n&&n.ct<.2;)n=n.$pt;return n},i.xa=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:e={stack:[],error:void 0,hasError:!1},v.label=1;case 1:return v.trys.push([1,8,9,10]),r.rH.SG(t.contentProtection),r.WEt(),!r.Cc||hT(r.Cc)?[3,3]:[4,r.er()];case 2:v.sent(),v.label=3;case 3:return!t||hT(t)?[2]:(s=Yt(e,Jo.Qw([i]),!1),r.fW=Jo.Qw([s.Vw]),r.Cc=t,r.UEt=n,r.Rpt=t.abr,r.dpt=t.ignoreEmbeddedTextTrackTypes,o=new sj(r.lW,Boolean(r.Cc.useCredentials),r.qlt),a=hj(o,r.Fut),r.ISt(!0),r.aEt=new GW({OC:qn.Nh(r.Cc.src),LSt:null!=(c=null==(u=r.Cc.latencyConfiguration)?void 0:u.targetOffset)?c:r.Cc.liveOffset,WSt:r.Cc.timeServer,kE:r.Cc.useCredentials},r.GEt(r.Rpt),r.lW,a,r.Cc.dash),r.Byt=r.aEt.Pr,r.Byt.hdt.yn(fa.Vy,r.HEt),r.Byt.hdt.yn(fa.Wy,r.ZEt),r.Byt.hdt.yn(kW.$At,r.XEt),r.Byt.hdt.yn(SO.iat,r.skt),[4,r.zEt.Dn(r.Byt.hdt)]);case 4:return v.sent(),[4,r.qEt.Dn(r.Byt.hdt)];case 5:return v.sent(),Ao(r.dpt,xm.EMSG)?[3,7]:(r.jgt=new Vj(r.uW),r.Ll.DG(r.jgt.Z),[4,r.jgt.Dn(r.Byt.hdt)]);case 6:v.sent(),v.label=7;case 7:return t.latencyConfiguration&&(h=t.latencyConfiguration,r.GG=new Wj(r,r.FB,h),r.GG.Rt=!0,r.JG.Ma(r.GG)),r.Bkt(),s.Hw(),[3,10];case 8:return f=v.sent(),e.error=f,e.hasError=!0,[3,10];case 9:return Kt(e),[7];case 10:return[2]}}))}))()},i.YEt=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return n=t.Byt.hdt.XR,t.ISt(n),n?(t.Qkt(),[3,3]):[3,1];case 1:return[4,ut.all([null==(i=t.lkt)?void 0:i.Oat(kO.Mht),null==(r=t.Tkt)?void 0:r.Oat(kO.Mht)].filter(Yn))];case 2:e.sent(),t.oEt(),t.LEt(),t.okt.Yw(),e.label=3;case 3:return[2]}}))}))()},i.ISt=function(t){this.RSt!==t&&(this.RSt=t,this.wo(t?new vj:new lj))},i.Bkt=function(){this.Byt&&(this.KEt=this.jEt(this.KEt,this.fW.Vw).catch(this.Ypt))},i.jEt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return t?[4,t]:[3,2];case 1:e.sent(),jo(n),e.label=2;case 2:return e.trys.push([2,7,,8]),i.tI===nS.jB||i.O9?[4,i.QEt(n)]:[3,4];case 3:return e.sent(),[3,6];case 4:return i.tI!==nS.$V?[3,6]:[4,i.JEt(n)];case 5:return e.sent(),[3,6];case 6:return[3,8];case 7:throw Zo(r=e.sent()),i.MH(new sl(el.MANIFEST_LOAD_ERROR,r.message,r)),r;case 8:return[2]}}))}))()},i.QEt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.JEt(t)];case 1:r.sent(),n.$Et||(n.$Et=!0,n.ckt.Kw(n.Dn(n.UEt,t))),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,n.ckt.Vb];case 3:return r.sent(),[3,5];case 4:return Zo(i=r.sent()),n.MH(new sl(el.MEDIA_DECODE_ERROR,i.message,i)),[3,5];case 5:return[2]}}))}))()},i.JEt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,Go(n.aEt.W,t)];case 1:return a.sent(),i=n.Byt.hdt,void 0===n.GG&&i.Aw===tF.gW&&(r=i.kyt,e=(null==r?void 0:r.oSt)?(null==r?void 0:r.oSt)/1e3:i.NSt,u=(null==r?void 0:r.sSt)?(null==r?void 0:r.sSt)/1e3:.5*e,s=(null==r?void 0:r.rSt)?(null==r?void 0:r.rSt)/1e3:1.5*e,o={minimumOffset:u,maximumOffset:s,targetOffset:e,forceSeekOffset:2.5*e,minimumPlaybackRate:OA,maximumPlaybackRate:LA},n.GG=new Wj(n,n.FB,o),n.JG.Ma(n.GG)),[2]}}))}))()},i.iEt=function(t){var i=this.lkt;t!==i&&(this.lkt&&this.Jkt(this.lkt),this.Tkt&&this.tEt(this.Tkt),i&&this.Lkt(this.Mkt),this.lkt=t,this.Tkt=i,this.Xkt(this.lkt),this.Tkt&&this.$kt(this.Tkt),this.aO.fC=t.ht,this.cO.fC=t.rt,this.pEt(t),this.AEt.fn(Rg.la,this.SEt),n.txt(this.AEt),this.AEt.yn(Rg.la,this.SEt),this.AEt.fC=t.nt,this.wEt.fC=void 0,this.gEt())},i.ge=function(){this.FB.ge()},i.be=function(){this.FB.be()},i.MH=function(t){this.zG||(ta(this.er()),this.zG=am(t),this.qG=t,this.wo(new Ek(t)))},i.WEt=function(){this.zG=void 0,this.qG=void 0},i.XTt=function(){var t=this.jG;t&&(t.t4&&(t.t4.wj=this.vZ.Cj),t.J3&&(t.J3.wj=this.vZ.Cj))},i.zTt=function(){var t=this.jG;t&&(t.t4&&(t.t4.Sj=this.vZ.Sj),t.J3&&(t.J3.Sj=this.vZ.Sj))},i.determineStallJumpTarget=function(){if(this.lkt)return this.lkt.Ipt()&&this.SR>this.lkt.jn-aN&&!this.lkt.Mpt?this.lkt.jn:void 0},i.er=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(t.ixt)return[2,t.ixt];n.label=1;case 1:return n.trys.push([1,,3,4]),t.ixt=t.sxt(),[4,t.ixt];case 2:return n.sent(),[3,4];case 3:return t.ixt=void 0,[7];case 4:return[2]}}))}))()},i.sxt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.KR=1,t.fW.Yw(),t.LEt(),t.oEt(),t.okt.Yw(),t.ckt.Yw(),t.sEt=!1,t.TI(),t.O9=!1,t.DEt=!1,t.aO.fC=void 0,t.cO.fC=void 0,t.AEt.fC=void 0,t.wEt.fC=void 0,t.KEt?[4,t.KEt.catch(Ti)]:[3,2];case 1:n.sent(),t.KEt=void 0,n.label=2;case 2:return[4,ut.all([t.ukt,t.Q9,t.hkt,t.ckt.Vb.catch(Ti)])];case 3:return n.sent(),t.lkt?[4,t.lkt.gn(!0)]:[3,5];case 4:n.sent(),t.lkt=void 0,n.label=5;case 5:return t.Tkt?(t.tEt(t.Tkt),[4,t.Tkt.gn(!0)]):[3,7];case 6:n.sent(),t.Tkt=void 0,n.label=7;case 7:return[4,t.KTt()];case 8:return n.sent(),t.pkt=void 0,t.mEt=void 0,t._H.er(),[4,t.zEt.er()];case 9:return n.sent(),[4,t.qEt.er()];case 10:return n.sent(),void 0===t.jgt?[3,12]:(t.Ll.BG(t.jgt.Z),[4,t.jgt.gn()]);case 11:n.sent(),t.jgt=void 0,n.label=12;case 12:return t.uW.er(),t.Byt?(t.Byt.hdt.fn(fa.Vy,t.HEt),t.Byt.hdt.fn(fa.Wy,t.ZEt),t.Byt.hdt.fn(kW.$At,t.XEt),[4,t.aEt.gn()]):[3,14];case 13:n.sent(),t.Byt=void 0,n.label=14;case 14:return t.Okt=!1,t.nxt=NaN,t.rxt=0,t.oxt=0,t.kkt=void 0,t.E9=!1,t.Ro=MA.mB(),t.DW=!0,t.S9=void 0,t.hxt=!1,t.aZ=!1,t.$Et=!1,t.ckt=new Yc,t.Ikt=0,t.Ckt=0,t.Pkt=0,t.Cc=void 0,t.UEt=void 0,t.dpt=[],t.bEt=void 0,t.JG.er(),t.GG=void 0,t.jTt={dO:0,fO:0,_O:0},[4,t.cH.er()];case 15:return n.sent(),t.FB.fH(),t.axt.er(),[2]}}))}))()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.$o(),t.WEt(),[4,t.er()];case 1:return n.sent(),t.$o(),t.aO.gn(),t.cO.gn(),t.AEt.gn(),t.wEt.gn(),t.Ll.gn(),t._H.gn(),t.uxt.Hw(),[4,t.zEt.gn()];case 2:return n.sent(),[4,t.qEt.gn()];case 3:return n.sent(),t.uW.gn(),t.axt.gn(),t.FB.fn(fa.xy,t.Q8),t.FB.fn(wa.Iy,t.d9),t.FB.fn(fa.Cy,t.cxt),t.FB.fn(fa.jy,t.MEt),t.FB.fn(fa.Ky,t.OEt),t.FB.fn(fa.Yy,t.jkt),t.FB.fn(fa.sb,t.jc),t.FB.fn([fa.ro,fa.Zy],t.lxt),t.FB.fn(Zj,t.Ds),[4,t.cH.gn()];case 4:return n.sent(),t.Ll.gn(),t.vZ.fn("pj",t.dxt),t.vZ.fn("Aj",t.fxt),t.FB.fn(zp.da,t._xt),t.FB.fn([fa.Sy,fa.Ay],t.Ds),t.FB.fn(fa.fb,t.ewt),t.FB.gH=void 0,t.rH.fn("contentProtectionsTracked",t.vxt),t.FB.m7=void 0,[2]}}))}))()},i.bI=function(){return this.FB.Ca},i.Sa=function(){return this.FB.lH},i.xI=function(){return!1},i.RI=function(){},i.II=function(){},i.CI=function(){},i.DI=function(){this.nkt(!0)},i.LI=function(t){var n=this.FB.dH(t);return this.axt.tt(n),n},n.TEt=function(t,n){for(var i=[],r=[],e=!n.some((function(t){return t.hft.some((function(t){return"main"===t.Dx}))})),u=0;u<n.length;u++){var s=n[u];if(-1===i.indexOf(s)){var o=Hj(s.ydt.concat(s.hft),e);e=!1;for(var a=s.Zat.map((function(t){return t.aat})),c=new YL(s,a,o),h=zj(s,n),f=0;f<h.length;f++){var v=h[f];c.Ldt(v),i.push(v)}r.push(c)}}return new zW(t,r)},n.kEt=function(t,n){if(t.length){for(var i,r=0;r<t.length;r++){var e=t[r],u=0===e.Fdt.length;i=bj(i,Sj(e._ct,n,u))}return(null==n?void 0:n.preferredKeySystems)&&i&&(i.ipt=Nj(i.ipt,n.preferredKeySystems)),i}},n.txt=function(t){for(var n=0,i=t.uC;n<i.length;n++){i[n].xE=Gp.Th}},xt(n,[{key:"ht",get:function(){return this.aO}},{key:"HG",get:function(){var t=this.ykt,n=this.Skt,i=n.eB(t);if(-1!==i)return{Cn:n.Cn(i),jn:n.jn(i)}}},{key:"Skt",get:function(){var t,n,i,r,e=null!=(i=null==(t=this.lkt)?void 0:t.gR)?i:MA.mB(),u=null!=(r=null==(n=this.Tkt)?void 0:n.gR)?r:MA.mB();return e.JL(u)}},{key:"gR",get:function(){return this.Skt.ks()}},{key:"wR",get:function(){var t,n=null==(t=this.Byt)?void 0:t.hdt,i=null==n?void 0:n._yt;if(n&&i){var r=i.getTime(),e=1e3*this.SR;return new Date(e+r)}},set:function(t){var n,i=null==(n=this.Byt)?void 0:n.hdt,r=null==i?void 0:i._yt;if(t&&i&&r){var e=r.getTime()/1e3,u=t.getTime()/1e3;this.Eb(u-e)}}},{key:"bt",get:function(){return this.Cc}},{key:"ykt",get:function(){return void 0!==this.S9?this.S9:void 0!==this.kkt?this.kkt:this.FB.SR}},{key:"SR",get:function(){return this.ykt},set:function(t){this.ER(t)}},{key:"ct",get:function(){var t=NaN;return this.lkt&&this.lkt.Mpt?t=this.lkt.jn:this.Byt&&void 0!==this.Byt.hdt.Aw&&(t=this.Byt.hdt.wyt?this.Byt.hdt.wyt.swt():1/0),t}},{key:"jn",get:function(){return this.ct}},{key:"RR",get:function(){return this.hI?this.T9():!(!this.lkt||!this.lkt.Mpt)&&this.FB.RR}},{key:"lt",get:function(){return this.zG}},{key:"DR",get:function(){return this.qG}},{key:"MR",get:function(){}},{key:"WR",get:function(){return us({},this.QTt,{vO:Ck.Fg.aG(),mO:this.Ikt,gO:{amountOfBufferedAudioSegments:this.Ckt,amountOfBufferedVideoSegments:this.Pkt}})}},{key:"QTt",get:function(){return function(t,n){return{dO:t.dO+n.dO,fO:t.fO+n.fO,_O:t._O+n._O}}(this.jTt,this.FB.UR())}},{key:"GR",get:function(){return this.FB.GR},set:function(t){this.FB.GR=t}},{key:"qR",get:function(){return this.E9?this.Dkt:this.lkt&&this.lkt.Mpt?this.Nkt:this.Dkt}},{key:"KR",get:function(){return this.FB.KR},set:function(t){this.FB.KR=t}},{key:"JR",get:function(){var t=this.Ro;return this.lkt&&(t=t.JL(this.Mkt)),t.QL(.1).ks()}},{key:"Mkt",get:function(){return this.FB.JR}},{key:"tI",get:function(){return this.KG},set:function(t){this.KG=t,this.Bkt()}},{key:"sI",get:function(){var t=this.FB.sI;return this.Okt&&(t=A.max(Cy.Gn,t)),t}},{key:"xkt",get:function(){return this.Fkt(!1)}},{key:"Vkt",get:function(){return this.Fkt(!0)}},{key:"rI",get:function(){return this.xkt.ks()}},{key:"hI",get:function(){return this.aZ||this.Wkt}},{key:"Wkt",get:function(){return this.FB.hI}},{key:"E4",get:function(){return this.FB.E4}},{key:"QG",get:function(){}},{key:"Ukt",get:function(){var t,n;return null!=(n=null==(t=this.Byt)?void 0:t.hdt.Aw)?n:tF.mW}},{key:"nt",get:function(){return this.Ll}},{key:"rt",get:function(){return this.cO}},{key:"cI",get:function(){var t;return this.Gkt||(null==(t=this.Hkt())?void 0:t.Ti)||0}},{key:"fI",get:function(){var t;return this.Zkt||(null==(t=this.Hkt())?void 0:t.ji)||0}},{key:"vI",get:function(){return this.FB.vI},set:function(t){this.FB.vI=cr(t,0,1)}},{key:"pI",get:function(){return this.JG}},{key:"yI",get:function(){return!1},set:function(t){}},{key:"$G",get:function(){return this.tH}},{key:"Nkt",get:function(){return this.FB.qR}},{key:"XR",get:function(){return this.RSt}},{key:"OR",get:function(){return!1}},{key:"qB",get:function(){var t,n=null==(t=this.Byt)?void 0:t.hdt;if(n&&n.Aw===tF.gW&&n._yt)return n.odt().getTime()/1e3-n._yt.getTime()/1e3-this.SR}}]),n}(oa),Gj=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).ea=n,r}return Rt(n,t),n.prototype.mxt=function(){this.wo(new Ry(this.SR,this.sI))},xt(n,[{key:"sI",get:function(){return this.ea.sI}}]),n}(Fy);function Hj(t,n){var i=t.filter((function(t){return"urn:mpeg:dash:role:2011"===t.i9})).map((function(t){return t.Dx})).filter(Yn);return n||Ao(i,"main")?Ao(i,"caption")?"captions":Ao(i,"subtitle")?"subtitles":Ao(i,"dub")?"translation":"main":Ao(i,"sign")?"sign":Ao(i,"description")?"descriptions":Ao(i,"commentary")?"commentary":"alternative"}function zj(t,n){for(var i,r,e=function(t){var i=s[t],r=Number(i),e=go(n,(function(t){return t.o===r}));e&&o.push(e)},u=go(Ut(t.Rwt).concat(Ut(t.Iwt)),(function(t){return"urn:mpeg:dash:adaptation-set-switching:2016"===t.i9})),s=null!=(r=null==u||null==(i=u.Dx)?void 0:i.split(","))?r:[],o=[],a=0;a<s.length;a++)e(a);return o}var Yj=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,r,e,u,s,new QB(o))||this).Krt=o,Gn.$m&&(a.pxt=new dO(a)),a}Rt(n,t);var i=n.prototype;return i.AI=function(){if(qB(this.FB))return this.FB.AI()},i.gn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return r.sent(),null==(i=n.pxt)||i.gn(),[2]}}))}))()},i.cEt=function(n){var i,r;return((null!=(r=null==(i=this.Cc)?void 0:i.seamlessSwitchStrategy)?r:XA.jB)!==XA.jB||!Gn.Ag)&&t.prototype.cEt.call(this,n)},i.fEt=function(){return!(Gn.Im&&Gn.Pm<3)&&t.prototype.fEt.call(this)},i.gxt=function(){return new $B(this,new Yx)},i.GEt=function(t){return JB(t)},xt(n,[{key:"Gkt",get:function(){return qB(this.FB)?this.FB.cI:0}},{key:"Zkt",get:function(){return qB(this.FB)?this.FB.fI:0}}]),n}(Xj),Kj=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new lO(s),f=h.LH(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).wH=h,c}return Rt(n,t),n.prototype.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.wH.pH(n.FB)];case 2:return i.sent(),[2]}}))}))()},n}(Yj);function qj(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt(),U(),St(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var Jj=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).tx=n,r}Rt(n,t);var i=n.prototype;return i.pR=function(){return t.prototype.pR.call(this).kb(this.wxt)},i.Sot=function(){return t.prototype.Sot.call(this).kb(this.wxt)},i._2=function(n,i,r){var e=this.wxt;return t.prototype._2.call(this,n,{cit:i.cit-e,ct:i.ct,MV:i.MV-e},r)},i.B2=function(n,i){var r=this.wxt;return t.prototype.B2.call(this,A.max(0,n-r),A.max(0,i-r))},i.$S=function(n,i,r){var e=this.wxt;return t.prototype.$S.call(this,A.max(0,n-e),A.max(0,i-e),r)},i.f3=function(n,i){var r=this.wxt;t.prototype.f3.call(this,A.max(0,n-r),A.max(0,i-r))},i._3=function(n,i){var r=this.wxt;t.prototype._3.call(this,A.max(0,n-r),A.max(0,i-r))},xt(n,[{key:"wxt",get:function(){return this.tx.wxt}}]),n}(sO),Qj=function(t){function n(n,i){var r;return(r=t.call(this,i)||this)._ot(i),r.tx=n,r}Rt(n,t);var i=n.prototype;return i.Sd=function(){return t.prototype.Sd.call(this)+this.wxt},i.n4=function(n){t.prototype.n4.call(this,n-this.wxt)},i.oI=function(){return t.prototype.oI.call(this).kb(this.wxt)},i.a4=function(n,i,r,e){var u=this.wxt;t.prototype.a4.call(this,n-u,i-u,r,e)},i.mot=function(t){return new Jj(this,t)},xt(n,[{key:"wxt",get:function(){return this.tx.wxt}}]),n}(eO),$j=function(t){function n(n){var i;return(i=t.call(this,n)||this).yxt=0,i.uW=new $B(i,new Yx),i.Ll=new Bk([i.uW.nt,t.prototype.uI.call(qj(i))]),i.Uet=new DD,i.Uet.v7(i.YG.parentElement),i.Get=new iM(i.Uet.we,i.Lu,i.Ll,i.zl,i.Ca,i.lH),i}Rt(n,t);var i=n.prototype;return i.pR=function(){return t.prototype.pR.call(this).kb(this.yxt)},i.yR=function(){return tZ(t.prototype.yR.call(this),this.yxt)},i.kR=function(){return t.prototype.kR.call(this)+this.yxt},i.Sd=function(){return t.prototype.Sd.call(this)+this.yxt},i.$R=function(){return t.prototype.$R.call(this).kb(this.yxt)},i.oI=function(){return t.prototype.oI.call(this).kb(this.yxt)},i.Eb=function(n,i,r){var e=A.max(0,n-this.yxt);t.prototype.Eb.call(this,e,i,r)},i.ZG=function(n){t.prototype.ZG.call(this,tZ(n,-this.yxt))},i.uI=function(){return this.Ll},i.LI=function(t,n,i,r,e,u,s,o){return this.uW.LI(t,n,i,r,e,u,s,o)},i.dH=function(t){return this.uW.dH(t)},i._W=function(t){this.uW._W(t)},i.fH=function(){this.uW.er(),t.prototype.fH.call(this)},i.hH=function(){return!1},i.uH=function(t,n,i,r,e){throw new y("Not supported")},i.Hw=function(){return this.Get.gn(),this.Uet.gn(),this.uW.gn(),this.Ll.gn(),t.prototype.Hw.call(this)},i.cot=function(t){return new Qj(this,t)},i.uot=function(t){return new cO(t)},i.NI=function(n){var i;switch(n.type){case fa.ro:i=new yT(n.currentTime+this.yxt);break;case fa.Zy:i=new pT(n.currentTime+this.yxt);break;case Ey.VL:i=new By(n.currentTime+this.yxt);break;case fa.sb:i=new pg(n.currentTime+this.yxt,tZ(n.currentProgramDateTime,this.yxt));break;case fa.Xy:i=new qR(n.currentTime+this.yxt);break;case fa.jy:i=new AT(n.currentTime+this.yxt);break;case fa.Ky:i=new TT(n.currentTime+this.yxt);break;case fa.Ly:i=new yN(n.currentTime+this.yxt);break;case fa.Oy:i=new mD(n.currentTime+this.yxt);break;case fa.Cy:i=new kT(n.currentTime+this.yxt);break;case fa.zy:i=new bT(n.currentTime+this.yxt,n.playbackRate);break;case fa.ob:i=new ST(n.currentTime+this.yxt,n.volume);break;case fa.xy:i=new _T(n.duration+this.yxt);break;case Ey.tC:i=new Ry(n.currentTime+this.yxt,n.readyState);break;default:i=n}t.prototype.NI.call(this,i)},i.be=function(){t.prototype.be.call(this),this.Uet.be()},i.ge=function(){t.prototype.ge.call(this),this.Uet.ge()},xt(n,[{key:"jrt",get:function(){return this.FB}},{key:"wxt",get:function(){return this.yxt},set:function(t){this.yxt=t}}]),n}(hO);function tZ(t,n){return t?new Date(t.getTime()+1e3*n):void 0}var nZ=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.LH=function(n){if(n===im._E)return new $j(t.prototype.LH.call(this,n))},i.pH=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,(r=n).Hw()];case 1:return e.sent(),[4,t.prototype.pH.call(i,r.jrt)];case 2:return e.sent(),[2]}}))}))()},n}(tO),iZ=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new nZ(new lO(s)),f=h.LH(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).wH=h,c.bxt=void 0,c}Rt(n,t);var i=n.prototype;return i.gp=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gp.call(i,n)];case 1:return r.sent(),void 0===i.bxt&&(i.bxt=i.Axt(),i.FB.wxt=i.bxt),[2]}}))}))()},i.Axt=function(){if(this.ct===1/0){var t=this.xkt;if(t.V>0)return A.max(0,t.Cn(0)-300)}return 0},i.J9=function(n,i,r,e,u,s,o,a){return void 0===s&&(s=!1),void 0===o&&(o=ej.rTt),void 0===a&&(a=!1),a||(a=this.ct===1/0&&Gn.Im&&Gn.Pm<3&&n<=this.SR),t.prototype.J9.call(this,n,i,r,e,u,s,o,a)},i.er=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.er.call(n)];case 1:return i.sent(),n.bxt=void 0,n.FB.wxt=0,[2]}}))}))()},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.FB.Hw()];case 2:return i.sent(),[4,n.wH.pH(n.FB)];case 3:return i.sent(),[2]}}))}))()},n.pT=function(t){var n;return(!t||"google-dai"!==(null==t||null==(n=t.ssai)?void 0:n.integration))&&(Gn.Im&&Gn.Pm<4)},n}(Yj);U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt(),Ct();var rZ=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),xt(n,[{key:"jrt",get:function(){return this.FB}},{key:"cI",get:function(){return this.FB.cI}},{key:"fI",get:function(){return this.FB.fI}}]),n}(nO);U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt();var eZ=function(t){function n(n){var i;return(i=t.call(this,n)||this).j2=void 0,i.Sxt=void 0,i.Dj=0,i.Txt=MA.mB(),i.kxt=MA.mB(),i.Cxt=[],i.hit=!1,i.Ixt=!1,i.Ij=0,i.DT=n.bd,i}Rt(n,t);var i=n.prototype;return i.yot=function(){return this.Sxt?this.Dj:t.prototype.yot.call(this)},i.bot=function(n){this.Sxt?this.Dj=n:t.prototype.bot.call(this,n)},i.pR=function(){return this.Sxt?this.Txt:t.prototype.pR.call(this)},i._T=function(){return this.Sxt?this.DT:t.prototype._T.call(this)},i.Sot=function(){return this.Sxt?this.kxt:t.prototype.Sot.call(this)},i.Tot=function(){return this.Sxt?this.Ij:t.prototype.Tot.call(this)},i.kot=function(n){this.Sxt?this.Ij=n:t.prototype.kot.call(this,n)},i._2=function(t,n,i){var r=this;return this.m2((function(i){return r.Ext(t,n,i)}),i)},i.Ext=function(n,i,r){return t.prototype._2.call(this,n,i,r)},i.v3=function(){var t=this;return this.m2((function(){return t.xxt()}))},i.xxt=function(){return t.prototype.v3.call(this)},i.w2=function(t,n,i){var r=this;return this.m2((function(i){return r.Rxt(t,n,i)}),i)},i.Rxt=function(n,i,r){return t.prototype.w2.call(this,n,i,r)},i.EJ=function(){return this.Sxt?this.hit:t.prototype.EJ.call(this)},i.r3=function(){this.Sxt?this.Ixt=!0:t.prototype.r3.call(this)},i.f3=function(t,n){this.Sxt?(this.kxt=this.kxt.JL(new MA([t,n])),this.Cxt.push({Aw:"Cct",FO:t,VO:n})):this.Pxt(t,n)},i.Pxt=function(n,i){t.prototype.f3.call(this,n,i)},i.B2=function(t,n){var i=this;return this.m2((function(){return i.Dxt(t,n)}))},i.Dxt=function(n,i){return t.prototype.B2.call(this,n,i)},i._3=function(t,n){this.Sxt?(this.kxt=this.kxt.tB(new MA([t,n])),this.Cxt.push({Aw:"$S",FO:t,VO:n})):this.Nxt(t,n)},i.Nxt=function(n,i){t.prototype._3.call(this,n,i)},i.$S=function(t,n,i){var r=this;return this.m2((function(i){return r.Mxt(t,n,i)}),i)},i.Mxt=function(n,i,r){return t.prototype.$S.call(this,n,i,r)},i.dJ=function(t){var n=this;return this.m2((function(){return n.Lxt(t)}))},i.Lxt=function(n){return t.prototype.dJ.call(this,n)},i.m2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.Z2(),i.Sxt?[4,Go(i.Sxt.Vb,n)]:[3,2];case 1:r.sent(),i.Z2(),r.label=2;case 2:jo(n),r.label=3;case 3:return r.trys.push([3,,5,6]),i.j2=t(n),[4,i.j2];case 4:return r.sent(),[3,6];case 5:return i.j2=void 0,[7];case 6:return[2]}}))}))()},i.Z2=function(){if(this.j2)throw new y("Internal error")},i.Bxt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(t.Sxt)throw new _("Already locked");return t.Sxt=new Yc,t.Oxt(),t.j2?[4,t.j2.catch(Ti)]:[3,2];case 1:n.sent(),t.Oxt(),n.label=2;case 2:return[2]}}))}))()},i.Fxt=function(){var t;null==(t=this.Sxt)||t.Ob(),this.Sxt=void 0,this.Vxt()},i.Oxt=function(){this.DT=t.prototype._T.call(this),this.Dj=t.prototype.yot.call(this),this.Ij=t.prototype.Tot.call(this),this.Txt=t.prototype.pR.call(this),this.kxt=t.prototype.Sot.call(this),this.hit=t.prototype.EJ.call(this),this.Ixt=!1},i.Vxt=function(){this.Z2(),t.prototype.bot.call(this,this.Dj),t.prototype.kot.call(this,this.Ij);var n=this.Cxt.slice();So(this.Cxt);for(var i=0;i<n.length;i++){var r=n[i];"Cct"===r.Aw?this.Pxt(r.FO,r.VO):this.Nxt(r.FO,r.VO)}this.Ixt&&t.prototype.r3.call(this),this.Txt.oB(t.prototype.pR.call(this))||this.wo(new ha(jR.JQ))},i.Hw=function(){var n;null==(n=this.Sxt)||n.Yw(),this.Sxt=void 0,t.prototype.Hw.call(this)},n}(sO),uZ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Wxt=void 0,r.tx=n,r}Rt(n,t);var i=n.prototype;return i.pR=function(){var n,i;return t.prototype.pR.call(this).JL(null!=(i=null==(n=this.Wxt)?void 0:n.gR)?i:MA.mB())},i.Sot=function(){var n,i;return t.prototype.Sot.call(this).JL(null!=(i=null==(n=this.Wxt)?void 0:n.u3)?i:MA.mB())},i.bot=function(n){t.prototype.bot.call(this,n),this.Wxt&&(this.Wxt.Sj=n)},i.kot=function(n){t.prototype.kot.call(this,n),this.Wxt&&(this.Wxt.wj=n)},i.Pxt=function(n,i){t.prototype.Pxt.call(this,n,i),this.Wxt&&this.Wxt.f3(n,i)},i.Nxt=function(n,i){t.prototype.Nxt.call(this,n,i),this.Wxt&&this.Wxt._3(n,i)},i.Mxt=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return jo(r),(u=[]).push(t.prototype.Mxt.call(e,n,i,r)),e.Wxt&&u.push(e.Wxt.$S(n,i,r)),[4,ut.all(u)];case 1:return s.sent(),[2]}}))}))()},i.cJ=function(n){return!!t.prototype.cJ.call(this,n)||this.tx.Uxt(n)},i.Lxt=function(n){return t.prototype.cJ.call(this,n)?t.prototype.Lxt.call(this,n):this.tx.Gxt(n)},i.Hxt=function(t){var n,i;null==(n=this.Wxt)||n.fn(ZR,this.Eot),this.Wxt=t,null==(i=this.Wxt)||i.yn(ZR,this.Eot)},n}(eZ),sZ=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Zxt=void 0,r.DA=NaN,r.jxt=!1,r.Qxt=!1,r.Jxt=void 0,r._ot(i),r.tx=n,r}Rt(n,t);var i=n.prototype;return i.cJ=function(n){var i=void 0!==this.e4,r=void 0!==this.i4,e=n.u4.some((function(t){return Zs(t.Dk,"audio")})),u=n.u4.some((function(t){return Zs(t.Dk,"video")}));return i===e&&r===u&&(!!t.prototype.cJ.call(this,n)||(!(!this.Zxt||!this.Zxt.cJ(n))||this.tx.Xxt(n)))},i.dJ=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return t.prototype.cJ.call(i,n)?[4,t.prototype.dJ.call(i,n)]:[3,2];case 1:case 3:case 6:return[2,r.sent()];case 2:return i.Zxt&&i.Zxt.cJ(n)?(i.zxt(),[4,i.dJ(n)]):[3,4];case 4:return[4,i.tx.qxt(n)];case 5:return r.sent(),[4,i.dJ(n)];case 7:return[2]}}))}))()},i.Uxt=function(t){return this.cJ(this.Yxt(t))},i.Gxt=function(t){return this.dJ(this.Yxt(t))},i.Yxt=function(t){var n=this.bd,i=n.u4.map((function(n){return Zs(t.Dk,"audio")&&Zs(n.Dk,"audio")||Zs(t.Dk,"video")&&Zs(n.Dk,"video")?t:n}));return us({},n,{u4:i})},i.a4=function(n,i,r,e){t.prototype.a4.call(this,n,i,r,e),this.Zxt&&this.Zxt.a4(n,i,r,e)},i.Kxt=function(){return!this.jxt&&this.Qxt},i.Sd=function(){return void 0!==this.Jxt?this.Jxt:this.Kxt()?this.DA:t.prototype.Sd.call(this)},i.n4=function(n){this.DA=n,this.Jxt=void 0,this.Kxt()||t.prototype.n4.call(this,n)},i.fot=function(){return!this.Kxt()&&t.prototype.fot.call(this)},i.r3=function(){this.Jxt=A.max(aZ(this.jG.J3),aZ(this.jG.t4)),this.Kxt()||t.prototype.r3.call(this)},i.K2=function(){this.Jxt=void 0,this.Kxt()||t.prototype.K2.call(this)},i.mot=function(t){return new uZ(this,t)},i.$xt=function(){this.jxt=!this.jxt},i.zxt=function(){var t=this.jG,n=this.Zxt;n&&(this.jxt=!this.jxt,this._ot(n),this.tRt(t),this.Kxt()&&this.eRt())},i.tRt=function(t){var n,i;this.Zxt=t,null==(n=this.e4)||n.Hxt(null==t?void 0:t.J3),null==(i=this.i4)||i.Hxt(null==t?void 0:t.t4)},i.iRt=function(t){var n=this.jG,i=this.Zxt;if(i){var r=this.jxt,e=r?n:i,u=(r?i:n).gR.dB(t);if(u){var s=TO(e.gR,this.Sot()).dB(u.jn(0),br);if(s&&!(u.jn(0)+br>=s.jn(0)))return A.max(u.jn(0),s.Cn(0))}}},i.sRt=function(t,n){var i=this;if(this.Qxt)return ut.resolve();var r=this.jxt?this.Zxt:this.jG;return r?(this.Qxt=!0,this.nRt((function(n){if(jo(n),i.Qxt)return function(t,n,i){return oZ.apply(this,arguments)}(r,t,n)}),n)):ut.resolve()},i.eRt=function(){if(this.Qxt){var t=this.jxt?this.Zxt:this.jG;if(t){var n;0,this.Qxt=!1;var i=null!=(n=this.Jxt)?n:this.DA;t.ct<i&&t.n4(i),t.K2()}}},i.rRt=function(t){var n,i=null!=(n=this.Jxt)?n:this.DA;t.n4(i),this.jxt?this._ot(t):this.tRt(t)},i.Sot=function(){var t,n,i,r,e=null!=(i=null==(t=this.e4)?void 0:t.u3)?i:MA.mB(),u=null!=(r=null==(n=this.i4)?void 0:n.u3)?r:MA.mB();return e.JL(u)},i.nRt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:r=[],i.e4&&r.push(i.e4.Bxt()),i.i4&&r.push(i.i4.Bxt()),e.label=1;case 1:return e.trys.push([1,,4,5]),[4,ut.all(r)];case 2:return e.sent(),[4,t(n)];case 3:return e.sent(),[3,5];case 4:return i.e4&&i.e4.Fxt(),i.i4&&i.i4.Fxt(),[7];case 5:return[2]}}))}))()},i.pot=function(n){n.type===jR.JQ&&this.tx.e3(),t.prototype.pot.call(this,n)},n}(eO);function oZ(){return oZ=Zt((function(t,n,i){var r;return Ht(this,(function(e){switch(e.label){case 0:return jo(i),r=[],t.J3&&r.push(vN(t.J3,n,i)),t.t4&&r.push(vN(t.t4,n,i)),[4,ut.all(r)];case 1:return e.sent(),t.r3(),[2]}}))})),oZ.apply(this,arguments)}function aZ(t){if(!t)return 0;var n=t.gR;return n.V>0?n.jn(n.V-1):0}function cZ(t){return t.bd.Aw===Sy.gW}U(),St();var hZ=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).aRt=!1,e.S9=void 0,e.t8=NaN,e.Ro=MA.mB(),e.cZ=!0,e.wRt=!1,e.rZ=!0,e._Rt=void 0,e.cRt=void 0,e.uRt=new Jo,e.j9=new Jo,e.hRt=i,e.dRt=n,e.FB.ge(),e.hRt.be(),e.uW=new $B(e,r),e.Ll=new Bk([e.uW.nt,t.prototype.uI.call(qj(e))]),e}Rt(n,t);var i=n.prototype;return i.pR=function(){return t.prototype.pR.call(this).JL(this.hRt.gR)},i.Sd=function(){if(!this.aRt){var n=this.jG;if(n&&cZ(n))return n.ct}return t.prototype.Sd.call(this)},i.Jrt=function(){return!!t.prototype.Jrt.call(this)&&!(!this.aRt&&!this.EJ())},i.$rt=function(){return!!t.prototype.$rt.call(this)&&!(!this.aRt&&t.prototype.Jrt.call(this)&&!this.EJ())},i.EJ=function(){var t=this.jG;return!(!t||!cZ(t))&&t.EJ},i.$R=function(){return this.Ro.JL(this.FB.JR)},i.oI=function(){return t.prototype.oI.call(this).JL(this.hRt.rI)},i.nI=function(){return t.prototype.nI.call(this)},i.Qrt=function(){var n;return null!=(n=t.prototype.Qrt.call(this))?n:this.hRt.QG},i.kI=function(){return this.cZ=!1,t.prototype.kI.call(this)},i.TI=function(){this.cZ=!0,t.prototype.TI.call(this)},i.u7=function(){this.aRt=!0,t.prototype.u7.call(this),this.hRt.u7()},i.l7=function(){this.aRt=!1,t.prototype.l7.call(this),this.hRt.u7()},i.kR=function(){var n;return null!=(n=this.S9)?n:t.prototype.kR.call(this)},i.aI=function(){return void 0!==this.S9||t.prototype.aI.call(this)},i.Eb=function(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),this.uRt.Yw(),this.j9.Yw(),this.j9=new Jo,this.cRt=Ho(this.J9(t,n,i,this.cRt,this.j9.Vw),this.j9).catch(Ti)},i.J9=function(n,i,r,e,u){var s=this;return Zt((function(){return Ht(this,(function(o){switch(o.label){case 0:return s.S9=n,s.t8=n,s.wo(new AT(n)),e?[4,e.catch(Ti)]:[3,2];case 1:o.sent(),o.label=2;case 2:return jo(u),s.jG&&cZ(s.jG)&&s.jG.eRt(),s.S9=void 0,t.prototype.Eb.call(s,n,i,r),s.hRt.Eb(n,i,r),s.lRt(),[2]}}))}))()},i.ZG=function(t){var n=this.QG;if(n&&!E(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Eb(i)}},i._7=function(){t.prototype._7.call(this),this.hRt._7()},i.be=function(){this.rZ&&(this.rZ=!1,this.dRt.be())},i.ge=function(){this.rZ||(this.rZ=!0,this.dRt.ge())},i.fRt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.S9=void 0,t.t8=NaN,t.Ro=MA.mB(),null==(n=t._Rt)||n.Yw(),t.uRt.Yw(),t.j9.Yw(),t.cRt?[4,t.cRt.catch(Ti)]:[3,2];case 1:i.sent(),t.cRt=void 0,i.label=2;case 2:return[2]}}))}))()},i.oot=function(n){t.prototype.oot.call(this,n),this.hRt.gH=n},i.hot=function(n){t.prototype.hot.call(this,n),this.hRt.m7=n},i.uI=function(){return this.Ll},i.LI=function(t,n,i,r,e,u,s,o){return this.uW.LI(t,n,i,r,e,u,s,o)},i.dH=function(t){return this.uW.dH(t)},i.uH=function(t,n,i,r,e){throw new y("Not implemented yet")},i.hH=function(){return!1},i._W=function(t){this.uW._W(t)},i.fH=function(){this.uW.er(),t.prototype.fH.call(this)},i.Dn=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,t.prototype.Dn.call(i,n)];case 1:return cZ(r=e.sent())&&i.lRt(),[2,r]}}))}))()},i.er=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.fRt()];case 1:return i.sent(),[4,t.prototype.er.call(n)];case 2:return i.sent(),[4,n.hRt.er()];case 3:return i.sent(),[2]}}))}))()},i.Hw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.fRt()];case 1:return i.sent(),n.uW.gn(),n.Ll.gn(),[4,t.prototype.Hw.call(n)];case 2:return i.sent(),[2]}}))}))()},i.cot=function(t){return new sZ(this,t)},i.uot=function(t){return new cO(t)},i.lRt=function(){this.uRt.Yw(),this.uRt=new Jo,this.cRt=Ho(this.vRt(this.cRt,this.uRt.Vw),this.uRt).catch(Ti)},i.vRt=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return t?[4,t.catch(Ti)]:[3,2];case 1:o.sent(),o.label=2;case 2:if(!i.jG||!cZ(i.jG))return[2];o.label=3;case 3:0,jo(n),i.mRt()&&i.$xt(),r=void 0,i.jG.eRt(),jo(n),o.label=4;case 4:0,e={stack:[],error:void 0,hasError:!1},o.label=5;case 5:return o.trys.push([5,9,10,11]),jo(n),i.mRt()?[3,12]:void 0===(r=i.jG.iRt(i.kR()))?[3,7]:(i.gRt(),[4,i.jG.sRt(r,n)]);case 6:return o.sent(),jo(n),i.hRt.Eb(r),[3,12];case 7:return u=Yt(e,Jo.Qw([n]),!1),[4,ut.race([i.vy(fa.sb,u.Vw),i.pRt(u.Vw)])];case 8:return o.sent(),[3,11];case 9:return s=o.sent(),e.error=s,e.hasError=!0,[3,11];case 10:return Kt(e),[7];case 11:return[3,4];case 12:jo(n),o.label=13;case 13:return i.mRt()?[3,15]:[4,i.FB.vy([fa.sb,fa.Cy,Ey.tC],n)];case 14:return o.sent(),[3,13];case 15:return[3,3];case 16:return[2]}}))}))()},i.mRt=function(){var t=this.jG;if(void 0===t||!cZ(t))return!1;var n=this.kR(),i=this.FB.gR;return!(!this.FB.RR&&i.kr(n))&&!!TO(this.hRt.gR,t.Sot()).nB(n,n+br)},i.$xt=function(){if(!this.wRt){0,this.wRt=!0,this.Ro=this.$R();var t=kN(this),n=this.aI(),i=this.nI(),r=this.FB,e=this.hRt,u=this.jG;u.eRt(),u.$xt(),AN(e,t),this.dot(e),this.hRt=r,r.TI(),r.GR=!0,this.wRt=!1;var s=this.aI();n!==s&&(s?this.wo(new AT(this.SR)):this.wo(new TT(this.SR)));var o=this.nI();i!==o&&this.wo(new Ry(this.SR,o)),s||this.gRt()}},i.gRt=function(){var t=this.FB,n=this.dRt;if(n!==t){0;var i=this.fI,r=this.cI;this.dRt=t,this.rZ&&(n.be(),t.ge());var e=this.fI,u=this.cI;e>0&&u>0&&(i!==e||r!==u)&&this.wo(new Ty)}},i.Xxt=function(t){return void 0!==this.hRt.DJ([t])},i.qxt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return n.gRt(),i=n.jG,[4,(r=n.hRt).er()];case 1:return u.sent(),[4,r.Dn(t)];case 2:return e=u.sent(),i.rRt(e),[2]}}))}))()},i.pRt=function(t){return this._Rt=new Yc,Go(this._Rt.Vb,t)},i.e3=function(){var t;null==(t=this._Rt)||t.Ob()},i.NI=function(n){n.type===fa.jy&&this.t8===n.currentTime||(n.type===fa.Ky&&(this.t8=NaN,this.gRt()),n.type!==Ey.tC&&n.type!==fa.Zy&&n.type!==fa.Cy||this.wRt||!this.mRt()?(n.type!==fa.Cy||this.RR)&&t.prototype.NI.call(this,n):this.lRt())},xt(n,[{key:"oRt",get:function(){return this.hRt}},{key:"cI",get:function(){return this.dRt.cI}},{key:"fI",get:function(){return this.dRt.fI}}]),n}(rZ),fZ=function(t){function n(n,i){var r;return(r=t.call(this,n,i,new Yx)||this).hO=new ZT(n.lH),r.Uet=new DD,r.Uet.v7(n.YG.parentElement),r.Get=new iM(r.Uet.we,r.Lu,r.nt,r.zl,r.Ca,r.lH),r}Rt(n,t);var i=n.prototype;return i.be=function(){t.prototype.be.call(this),this.Uet.be()},i.ge=function(){t.prototype.ge.call(this),this.Uet.ge()},i.v7=function(t){this.FB.v7(t),this.hRt.v7(t)},i.CI=function(){this.FB.CI(),this.hRt.CI()},i.AI=function(){return this.FB.AI()},i.Sa=function(){return this.hO},i.dot=function(n){var i=this.bI(),r=this.AI();t.prototype.dot.call(this,n),this.hO.fC=n.lH,this.bI()!==i&&this.wo(new FT),this.AI()!==r&&this.wo(new VT)},i.Hw=function(){return this.hO.gn(),this.Get.gn(),this.Uet.gn(),t.prototype.Hw.call(this)},xt(n,[{key:"jrt",get:function(){return this.FB}},{key:"oRt",get:function(){return this.hRt}},{key:"YG",get:function(){return this.FB.YG}},{key:"N4",get:function(){return this.FB.N4}},{key:"yI",get:function(){return this.FB.yI},set:function(t){this.FB.yI=t}}]),n}(hZ),vZ=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.LH=function(n){if(n===im._E){var i=t.prototype.LH.call(this,n),r=t.prototype.LH.call(this,n);return new fZ(i,r)}return t.prototype.LH.call(this,n)},i.pH=function(n){var i=this,r=function(){return t.prototype.pH};return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return n instanceof fZ?[4,n.Hw()]:[3,4];case 1:return t.sent(),[4,r().call(i,n.jrt)];case 2:return t.sent(),[4,r().call(i,n.oRt)];case 3:return t.sent(),[3,6];case 4:return[4,r().call(i,n)];case 5:t.sent(),t.label=6;case 6:return[2]}}))}))()},n}(tO),lZ=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new lO(new vZ(s)),f=h.LH(o);return(c=t.call(this,n,i,r,e,u,f,a)||this).wH=h,c}return Rt(n,t),n.prototype.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.wH.pH(n.FB)];case 2:return i.sent(),[2]}}))}))()},n.pT=function(t){var n;return!Gn.Qs&&!Gn.vg&&!(t&&"google-dai"===(null==(n=t.ssai)?void 0:n.integration))},n}(Yj);U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt();var dZ=function(t){function n(n){var i;return(i=t.call(this,n)||this).yRt=!1,i.Txt=MA.mB(),i.DA=0,i.bRt=!1,i.hit=!1,i.Ixt=void 0,i.h4=MA.mB(),i.ARt=void 0,i._ot(n),i.DT=n.bd,i}Rt(n,t);var i=n.prototype;return i.mot=function(t){return new eZ(t)},i._T=function(){return this.yRt?this.DT:t.prototype._T.call(this)},i.pR=function(){return this.yRt?this.Txt:t.prototype.pR.call(this)},i.Sd=function(){return this.yRt?this.DA:t.prototype.Sd.call(this)},i.n4=function(n){this.yRt?(this.DA=n,this.bRt=!0):t.prototype.n4.call(this,n)},i.oI=function(){return this.yRt?this.ARt?this.ARt.y3():this.h4:t.prototype.oI.call(this)},i.a4=function(n,i,r,e){this.yRt?this.ARt=new oN(n,i,r,e):t.prototype.a4.call(this,n,i,r,e)},i.fot=function(){return this.yRt?this.hit&&!1!==this.Ixt:t.prototype.fot.call(this)},i.r3=function(){this.yRt?this.Ixt=!0:t.prototype.r3.call(this)},i.K2=function(){this.yRt?this.Ixt=!1:t.prototype.K2.call(this)},i.cJ=function(n){return!this.yRt&&t.prototype.cJ.call(this,n)},i.dJ=function(n){return this.yRt?ut.reject(new _("Not supported")):t.prototype.dJ.call(this,n)},i.Bxt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:if(t.yRt)throw new _("Already locked");return t.yRt=!0,t.Oxt(),n=[],t.e4&&n.push(t.e4.Bxt()),t.i4&&n.push(t.i4.Bxt()),[4,ut.all(n)];case 1:return i.sent(),[2]}}))}))()},i.Fxt=function(){this.yRt=!1,this.e4&&this.e4.Fxt(),this.i4&&this.i4.Fxt(),this.Vxt()},i.Oxt=function(){this.DT=t.prototype._T.call(this),this.Txt=t.prototype.pR.call(this),this.DA=t.prototype.Sd.call(this),this.h4=t.prototype.oI.call(this),this.bRt=!1,this.Ixt=void 0,this.ARt=void 0},i.Vxt=function(){if(this.bRt&&(t.prototype.n4.call(this,this.DA),this.bRt=!1),void 0!==this.ARt){var n=this.ARt;t.prototype.a4.call(this,n.Cn,n.jn,n.b3,n.A3),this.ARt=void 0}void 0!==this.Ixt&&(this.Ixt?t.prototype.r3.call(this):t.prototype.K2.call(this),this.Ixt=void 0)},n}(eO),gZ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).TRt=!1,n.ERt=!1,n.PRt=void 0,n.CRt=void 0,n.IRt=new Jo,n}Rt(n,t);var i=n.prototype;return i.kI=function(){return void 0!==this.jG&&cZ(this.jG)&&this.RR&&this.Eb(0),t.prototype.kI.call(this)},i.Eb=function(n,i,r){void 0!==this.jG&&cZ(this.jG)&&this.RR&&n<this.ct&&this.SRt(),t.prototype.Eb.call(this,n,i,r)},i.u7=function(){this.TRt=!0,t.prototype.u7.call(this)},i.l7=function(){this.TRt=!1,this.kRt()||t.prototype.l7.call(this)},i.kRt=function(){return this.TRt||this.ERt},i.xRt=function(){this.ERt||(this.ERt=!0,t.prototype.u7.call(this))},i.RRt=function(){this.ERt&&(this.ERt=!1,this.kRt()||t.prototype.l7.call(this))},i.Dn=function(t){this.IRt.Yw();var n=this.KE(t,this.CRt);return this.PRt=n,n},i.KE=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return i?[4,i.catch(Ti)]:[3,2];case 1:e.sent(),e.label=2;case 2:return r.RRt(),[4,t.prototype.Dn.call(r,n)];case 3:return[2,e.sent()]}}))}))()},i.cot=function(t){return new dZ(t)},i.uot=function(t){return new cO(t)},i.er=function(){this.IRt.Yw();var t=this.sxt(this.CRt);return this.PRt=t,t},i.sxt=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return n?[4,n.catch(Ti)]:[3,2];case 1:r.sent(),r.label=2;case 2:return i.RRt(),[4,t.prototype.er.call(i)];case 3:return[2,r.sent()]}}))}))()},i.SRt=function(){this.xRt(),this.IRt.Yw(),this.IRt=new Jo,this.CRt=Ho(this.DRt(this.PRt,this.CRt,this.IRt.Vw),this.IRt).catch(Xo)},i.DRt=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return t?[4,t.catch(Ti)]:[3,2];case 1:o.sent(),o.label=2;case 2:return n?[4,n.catch(Ti)]:[3,4];case 3:o.sent(),o.label=4;case 4:return jo(i),(e=r.jG)&&cZ(e)?(u=e.bd,[4,e.Bxt()]):[2];case 5:return o.sent(),[4,r.FB.er()];case 6:return o.sent(),[4,r.FB.Dn(u)];case 7:return(s=o.sent()).n4(e.ct),e._ot(s),e.Fxt(),r.RRt(),[2]}}))}))()},i.Hw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.IRt.Yw(),n.CRt?[4,n.CRt.catch(Ti)]:[3,2];case 1:i.sent(),n.CRt=void 0,i.label=2;case 2:return n.kRt()&&t.prototype.l7.call(n),[4,t.prototype.Hw.call(n)];case 3:return i.sent(),[2]}}))}))()},xt(n,[{key:"jrt",get:function(){return this.FB}}]),n}(hO),mZ=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.LH=function(n){if(n===im._E)return new gZ(t.prototype.LH.call(this,n))},i.pH=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return[4,(r=n).Hw()];case 1:return e.sent(),[4,t.prototype.pH.call(i,r.jrt)];case 2:return e.sent(),[2]}}))}))()},n.pT=function(){return Gn.pg},n}(tO),wZ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).VH=Nk.fG,n}Rt(n,t);var i=n.prototype;return i.hP=function(t,n,i,r,e,u,s,o){var a,c=new MB(KB.Fg.Rrt,KB.Fg.xrt,KB.Fg.Ert,KB.Fg.Crt);a=iZ.pT(o)?iZ:lZ.pT(o)?lZ:Kj;var h=n;return mZ.pT()&&(h=new mZ(h)),new a(i,r,e,u,c,h,im._E,t)},i.FH=function(){return!0},n}(xB);KT(new wZ),U(),St(),U(),St(),Ct(),qk((function(t){return function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.ba=function(){var n=this.MR.ka;return Pg(t.prototype.ba.call(this),{get hesp(){return n}})},n}(t)}),zk.ou),U(),St(),Ct(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Jt(),U(),St(),Wt();var pZ=0;function yZ(t,n){if(void 0===n&&(n=!0),t){var i=t;return"/"===i.charAt(0)&&(i=i.substring(1)),n&&"/"!==i.charAt(i.length-1)&&(i+="/"),i}}function _Z(t){var n,i,r;return us({},t,{baseUrl:yZ(t.baseUrl),id:null!=(n=t.id)?n:String(pZ++),timeBounds:us({},t.timeBounds,{scale:null!=(i=t.timeBounds.timescale)?i:1e3}),currentTime:t.currentTime?{value:t.currentTime.timestamp,scale:null!=(r=t.currentTime.timescale)?r:1e3}:void 0,audio:t.audio.map(EZ),video:t.video.map(RZ),metadata:t.metadata.map(NZ),events:t.events.map(BZ)})}var bZ=0;function kZ(t){var n,i=yZ(t.initPattern,!1),r=yZ(t.contPattern,!1);return us({},t,{id:null!=(n=t.id)?n:String(bZ++),continuationPattern:r?Ws(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:i?Ws(i,"${initId}","{initId}"):void 0})}function AZ(t){var n,i=yZ(t.initPattern,!1),r=yZ(t.contPattern,!1);return us({},t,{continuationPattern:r?Ws(r,"${segmentId}","{segmentId}"):void 0,initializationPattern:i?Ws(i,"${initId}","{initId}"):void 0,segmentDuration:t.segmentDuration?{value:t.segmentDuration.duration,scale:t.segmentDuration.timescale}:void 0,segments:t.segments.map(TZ),activeSegment:null==(n=go(t.segments,(function(t){return t.active})))?void 0:n.id})}function TZ(t){var n;return us({},t,{timeBounds:us({},t.timeBounds,{endTime:void 0!==t.timeBounds.duration?t.timeBounds.startTime+t.timeBounds.duration:void 0,scale:null!=(n=t.timeBounds.timescale)?n:1e3})})}function SZ(t){return t&&"-"===t.charAt(0)}function EZ(t){var n;try{var i;n=T(null!=(i=t.channels)?i:"2")}catch(t){n=2}return SZ(t.contPattern)||SZ(t.initPattern)?function(t,n){var i=t.initPattern,r=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,us({},kZ(t),{baseUrl:yZ(t.baseUrl),language:"eng",channels:n,sampleRate:t.samplerate,tracks:t.tracks.map((function(t){var n,e;return t.initPattern=null!=(n=t.initPattern)?n:i,t.contPattern=null!=(e=t.contPattern)?e:r,IZ(t)}))})}(t,n):us({},kZ(t),{baseUrl:yZ(t.baseUrl),language:"eng",channels:n,sampleRate:t.samplerate,tracks:t.tracks.map(IZ)})}function IZ(t){var n;try{var i;n=T(null!=(i=t.channels)?i:"2")}catch(t){n=2}return SZ(t.contPattern)||SZ(t.initPattern)?function(t,n){return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,us({},AZ(t),{baseUrl:"./",channels:n,sampleRate:t.samplerate})}(t,n):us({},AZ(t),{baseUrl:yZ(t.baseUrl),channels:n,sampleRate:t.samplerate})}function RZ(t){return SZ(t.contPattern)||SZ(t.initPattern)?function(t){var n=t.initPattern,i=t.contPattern;return t.initPattern=void 0,t.contPattern=void 0,us({},kZ(t),{baseUrl:yZ(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map((function(t){return t.initPattern=n,t.contPattern=i,CZ(t)}))})}(t):us({},kZ(t),{baseUrl:yZ(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,tracks:t.tracks.map(CZ)})}function CZ(t){var n,i;return SZ(t.contPattern)||SZ(t.initPattern)?function(t){var n,i;return t.contPattern=t.baseUrl+t.contPattern,t.initPattern=t.baseUrl+t.initPattern,us({},AZ(t),{baseUrl:"./",frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:us({},t.resolution,{sarWidth:null==(n=t.resolution.sar)?void 0:n.width,sarHeight:null==(i=t.resolution.sar)?void 0:i.height})})}(t):us({},AZ(t),{baseUrl:yZ(t.baseUrl),frameRate:t.framerate?{value:t.framerate.rate,scale:t.framerate.scale}:void 0,resolution:us({},t.resolution,{sarWidth:null==(n=t.resolution.sar)?void 0:n.width,sarHeight:null==(i=t.resolution.sar)?void 0:i.height})})}function NZ(t){var n;return us({},t,{id:null!=(n=t.id)?n:String(bZ++),schemeId:"",tracks:t.tracks.map(xZ)})}function xZ(t){return us({},t,{segments:t.segments.map(PZ)})}var DZ=0;function PZ(t){return{id:DZ++,timeBounds:us({},t.timeBounds,{scale:t.timeBounds.timescale})}}var MZ=0;function BZ(t){var n,i;return us({},t,{id:null!=(n=t.id)?n:String(MZ++),timeBounds:us({},t.timestamp,{scale:null!=(i=t.timestamp.timescale)?i:1e3})})}var OZ=function(){function t(t){this.lR=t}return t.prototype.NRt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r={Gu:t,Vw:n},[4,i.lR.Kk(r)];case 1:return[4,s.sent().xk(n)];case 2:return e=s.sent(),function(t){var n,i,r=t;if(ni(r.manifestVersion)&&js(r.manifestVersion,"alpha"))return!0;for(var e=0,u=r.presentations;e<u.length;e++){for(var s=u[e],o=0,a=Ut(s.video).concat(Ut(s.audio));o<a.length;o++){var c=a[o];if(c.tracks.length>0){n=c.tracks[0],i=c;break}}if(Yn(n))break}return(ni(null==i?void 0:i.initPattern)||ni(null==n?void 0:n.initPattern))&&!ni(null==n?void 0:n.initializationPattern)&&!ni(null==i?void 0:i.initializationPattern)}(u=e)&&(u=function(t){return us({},t,{availabilityDuration:{value:t.dvrDuration?t.dvrDuration.duration/t.dvrDuration.timescale:0},manifestVersion:"1.0.0",presentations:t.presentations.map(_Z),contentBaseUrl:t.contentBaseUrl||"./"})}(u)),[2,u]}}))}))()},t}();U(),St(),Dt(),Ct();var LZ=function(t){function n(n){var i;return(i=t.call(this)||this).MRt=n,i}Rt(n,t);var i=n.prototype;return i.GC=function(){return this.MRt.GC()},i.yn=function(t,n){this.MRt.yn(t,n)},i.fn=function(t,n){this.MRt.fn(t,n)},xt(n,[{key:"ka",get:function(){return this.su||(this.su=hA(this)),this.su}},{key:"FC",get:function(){return this.MRt.FC}},{key:"VC",get:function(){return this.MRt.VC}},{key:"WC",get:function(){return this.MRt.WC}}]),n}(oa);U(),St(),Dt(),U(),St(),Dt(),U(),St(),Dt();var FZ=function(){function t(t){this.ORt=0,this.BRt=0,this.LRt=A.exp(A.log(.5)/t)}var n=t.prototype;return n.aut=function(t,n){var i=A.pow(this.LRt,t),r=n*(1-i)+i*this.ORt;E(r)||(this.ORt=r,this.BRt+=t)},n.dJ=function(t){var n=A.exp(A.log(.5)/t);if(n!==this.LRt)if(0!==this.BRt){var i=this.sit,r=1-A.pow(n,this.BRt);this.ORt=i*r,this.LRt=n}else this.LRt=n},xt(t,[{key:"sit",get:function(){var t=1-A.pow(this.LRt,this.BRt);return this.ORt/t}}]),t}(),VZ=function(){function t(n,i,r,e){void 0===n&&(n=t.KRt),void 0===i&&(i=t.jRt),void 0===r&&(r=t.gut),void 0===e&&(e=!1),this.ZRt=0,this.XRt=[],this.GRt=void 0,this.HRt=6e4,this.zRt=10,this.qRt=n,this.YRt=i,this.WRt=r,this.URt=e,this.FRt=new FZ(n),this.VRt=new FZ(i)}var n=t.prototype;return n.aut=function(t){var n=qn.Vg(),i=t;this.URt&&void 0!==this.GRt&&n-this.GRt>=this.HRt&&this.er(),this.ZRt+=1,this.FRt.aut(1,i),this.VRt.aut(1,i),this.XRt.push(i),this.XRt.length>this.zRt&&this.XRt.shift(),this.GRt=n},n.mut=function(){return void 0!==this.GRt&&qn.Vg()-this.GRt<=this.HRt},n.er=function(){this.FRt=new FZ(this.qRt),this.VRt=new FZ(this.YRt),this.ZRt=0,this.XRt=[],this.GRt=void 0},xt(t,[{key:"sit",get:function(){return this.mut()?A.max(this.FRt.sit,this.VRt.sit):this.WRt}}]),t}();VZ.KRt=2,VZ.jRt=5,VZ.gut=.1,U(),St();var UZ=function(){function t(t){this.QRt=t}var n=t.prototype;return n.cj=function(t){for(var n=0,i=this.QRt;n<i.length;n++){i[n].cj(t)}},n.lj=function(t){for(var n=0,i=this.QRt;n<i.length;n++){i[n].lj(t)}},n.dj=function(t,n){for(var i=0,r=this.QRt;i<r.length;i++){r[i].dj(t,n)}},n._j=function(t){for(var n=0,i=this.QRt;n<i.length;n++){i[n]._j(t)}},t}();U(),St();var WZ=function(){function t(t){this.JRt=0,this.$Rt=t}var n=t.prototype;return n.cj=function(t){this.JRt=t},n.lj=function(t){this.$Rt.aut(t-this.JRt)},n.dj=function(t){},n._j=function(t){},t}();U(),St();var jZ=function(){function t(t){this.tIt=0,this.but=t}var n=t.prototype;return n.lj=function(t){this.tIt=t},n.dj=function(t,n){this.but.aut(t-this.tIt,n.byteLength),this.tIt=t},n._j=function(t){},n.cj=function(t){},t}();U(),St(),Ct();var ZZ=function(){function t(t,n){void 0===n&&(n=0),this.iIt=new XZ,this.An=0,this.eIt=0,this.but=t,this.nIt=n}var n=t.prototype;return n.cj=function(t){},n.dj=function(t,n){var i=n.byteLength,r=this.eIt;this.eIt=i;var e=t-this.An;this.An=t,this.iIt.r$(n);var u=!this.iIt.sIt(),s=i>=this.nIt;r!==qn.Ys.rp&&u&&s&&this.but.aut(e,i)},n.lj=function(t){this.An=t},n._j=function(t){},t}(),XZ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).oIt=void 0,n.rIt=!1,n}Rt(n,t);var i=n.prototype;return i.sIt=function(){return this.rIt},i.r$=function(n){this.rIt=!1,t.prototype.r$.call(this,n)},i.s$=function(n,i){this.oIt&&this.oIt!==cp.lD||(this.rIt=!0),t.prototype.s$.call(this,n,i),this.oIt=n},i.v$=function(t){return!1},i.g$=function(t){},i.w$=function(t){},n}(eC);U(),St(),Ct();var GZ=function(t){return t.hIt="sample",t}({}),HZ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).aIt=0,n}return Rt(n,t),n.prototype.rG=function(){if(this.mut()){var t=qn.Vg();t-this.aIt>1e3&&(this.aIt=t,Ck.Fg.rG(this.sit))}},n}(oa);U(),St(),Dt(),Ct();var zZ=function(t){function n(n){var i;return(i=t.call(this)||this).eS=[],i.lIt=0,i.uIt=n,i.ORt=n,i}Rt(n,t);var i=n.prototype;return i.mut=function(){return this.eS.length>=3},i.aut=function(t,n){if(0!==t){var i={wG:8*n/t,cIt:n};if(this.eS.push(i),this.lIt+=i.cIt,this.eS.length>30){var r=this.eS.shift();this.lIt-=r.cIt}for(var e=this.eS.slice().sort((function(t,n){return t.wG-n.wG})),u=0,s=0;s<e.length;s++){var o=e[s];if(u+=o.cIt/this.lIt,this.ORt=o.wG,u>=.5)break}this.rG(),this.wo(new ha(GZ.hIt))}},xt(n,[{key:"sit",get:function(){return this.mut()?this.ORt:this.uIt}}]),n}(HZ);U(),St(),Dt(),Ct();var YZ=function(t){function n(i,r,e,u){var s;return void 0===i&&(i=n.KRt),void 0===r&&(r=n.jRt),void 0===e&&(e=n._It),void 0===u&&(u=n.gut),(s=t.call(this)||this).dIt=0,s.fIt=e,s.FRt=new FZ(i),s.VRt=new FZ(r),s.WRt=u,s}Rt(n,t);var i=n.prototype;return i.aut=function(t,n){var i=8*n/t;this.FRt.aut(t,i),this.VRt.aut(t,i),this.dIt+=n,this.rG(),this.wo(new ha(GZ.hIt))},i.mut=function(){return this.dIt>=this.fIt},xt(n,[{key:"sit",get:function(){return this.mut()?A.min(this.FRt.sit,this.VRt.sit):this.WRt}}]),n}(HZ);YZ._It=128e3,YZ.gut=Rk,YZ.KRt=.5,YZ.jRt=5;var KZ=function(){function t(t,n){var i=this;this.pIt=[],this.mIt=function(){for(var t=0,n=i.pIt;t<n.length;t++){(0,n[t])()}},this.yIt=t>0?t:YZ.gut,this.bIt=new VZ(VZ.KRt,VZ.jRt,n>0?n:VZ.gut),this.vIt(this.yIt)}var n=t.prototype;return n.vIt=function(t){var n;null==(n=this.but)||n.fn(GZ.hIt,this.mIt),this.but=new zZ(t),this.but.yn(GZ.hIt,this.mIt)},n.gIt=function(t){this.pIt.push(t)},n.wIt=function(t){_o(this.pIt,t)},n.bG=function(t){if("segment"===t.Aw&&"video"===t.TE){var n=[new WZ(this.bIt)];return this.but&&("stream"===t.Yk&&"initialization-segment"!==t.SE?n.push(new ZZ(this.but,1e3)):n.push(new jZ(this.but))),new UZ(n)}},xt(t,[{key:"wG",get:function(){var t,n;return null!=(n=null==(t=this.but)?void 0:t.sit)?n:this.yIt}},{key:"yG",get:function(){return this.bIt.sit}}]),t}();U(),St(),Dt();var qZ=function(){function t(){}var n=t.prototype;return n.AIt=function(t,n){var i=n-t;(!this.SIt||i<this.SIt)&&(this.SIt=i)},n.TIt=function(t,n){this.kIt=n-t},n.EIt=function(t,n){this.xIt=n-t},n.RIt=function(t,n){this.IIt=n-t},n.PIt=function(t){var n=this.CIt;if(void 0!==n)return n-t},n.er=function(){this.SIt=void 0,this.kIt=void 0,this.IIt=void 0,this.xIt=void 0},xt(t,[{key:"CIt",get:function(){var t=Ro([this.xIt,this.IIt].filter(Yn),Si);return void 0!==t?qn.Vg()/1e3+t:void 0!==this.kIt?qn.Vg()/1e3+this.kIt:void 0!==this.SIt?qn.Vg()/1e3+this.SIt:void 0}}]),t}();U(),St();var JZ=.25,QZ=400,$Z={minimumOffset:.2,targetOffset:.45,maximumOffset:.7,forceSeekOffset:3,minimumPlaybackRate:OA,maximumPlaybackRate:LA},tX={minimumOffset:.4,targetOffset:.65,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:OA,maximumPlaybackRate:LA},nX={minimumOffset:.4,targetOffset:.7,maximumOffset:.9,forceSeekOffset:3,minimumPlaybackRate:OA,maximumPlaybackRate:LA},iX={minimumOffset:.2,targetOffset:.45,maximumOffset:1,forceSeekOffset:3,minimumPlaybackRate:OA,maximumPlaybackRate:LA},rX={minimumOffset:.5,targetOffset:1.125,maximumOffset:1.75,forceSeekOffset:2.55,minimumPlaybackRate:OA,maximumPlaybackRate:LA};function eX(t){if(qn.iw.ow){var n=(QZ+250)/1e3,i=A.max(n,t.minimumOffset),r=A.max(i+JZ,t.targetOffset),e=A.max(r+JZ,t.maximumOffset);return{minimumOffset:i,targetOffset:r,maximumOffset:e,forceSeekOffset:A.max(e+JZ,t.forceSeekOffset),minimumPlaybackRate:OA,maximumPlaybackRate:LA}}return t}function uX(){var t;return t=qn.Ys.Jg?iX:qn.Ys.np?tX:qn.Ys.sp?"Android"===qn.iw.nw?nX:$Z:rX,qn.iw.ow?eX(t):t}U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),rn(),Jt(),U(),St();var sX=function(){function t(){this.Txt=[]}var n=t.prototype;return n.DIt=function(t){for(var n=0,i=this.Txt;n<i.length;n++){var r=i[n];r[1]=r[1].Sn(t)}},n.NIt=function(t,n){for(var i=!0,r=0,e=this.Txt;r<e.length;r++){var u=e[r],s=u[1];s=s.tB(n),t===u[0]&&(s=s.JL(n),i=!1),u[1]=s.QL(1e-5)}i&&this.Txt.push([t,n])},n.MIt=function(t){for(var n=0,i=this.Txt;n<i.length;n++){var r=i[n];r[1]=r[1].tB(t)}},n.LIt=function(t){for(var n=0;n<this.Txt.length;n++)if(this.Txt[n][1].kr(t))return this.Txt[n][0]},t}(),oX=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).BIt=[],u.VIt=void 0,u.J2=new Jo,u.FB=i,u.Aot=n,u.Wyt=r,u.HIt=e,u.OIt=new sX,u.Aot.yn(jR.JQ,u.Ds),u}Rt(n,t);var i=n.prototype;return i.LIt=function(t){return this.OIt.LIt(t)},i.appendStream=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,l,d,g,m;return Ht(this,(function(w){switch(w.label){case 0:if(r.FIt)throw new y("Concurrent appends are not supported.");w.label=1;case 1:w.trys.push([1,,10,11]),e={stack:[],error:void 0,hasError:!1},w.label=2;case 2:w.trys.push([2,7,8,9]),u=Yt(e,Jo.Qw([i,r.J2.Vw]),!1),s=u.Vw,r.OIt.DIt(r.gR),r.VIt=new Yc,o=nC(t),a=o.getReader(),w.label=3;case 3:return[4,Go(a.read(),s)];case 4:return(c=w.sent()).done?[3,6]:(h=c.value,f={Aw:XR.tJ,qk:Uc(h.map((function(t){return t.But})))},v={ct:mr(h,(function(t){return t.ct})),cit:h[0].lvt,MV:-n.aat.UIt},[4,r.g2(f,v,s)]);case 5:return w.sent(),l=v.cit+v.MV,d=l+v.ct,r.OIt.NIt(n.aat,MA.vB(l,d)),[3,3];case 6:return[3,9];case 7:return g=w.sent(),e.error=g,e.hasError=!0,[3,9];case 8:return Kt(e),[7];case 9:return[3,11];case 10:return n.GIt(),m=r.VIt,r.VIt=void 0,null==m||m.Ob(),[7];case 11:return[2]}}))}))()},i._2=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:if(e.FIt)throw new y("Concurrent appends are not supported.");v.label=1;case 1:v.trys.push([1,,7,8]),u={stack:[],error:void 0,hasError:!1},v.label=2;case 2:return v.trys.push([2,4,5,6]),s=Yt(u,Jo.Qw([r,e.J2.Vw]),!1),o=s.Vw,e.VIt=new Yc,[4,e.g2(t,n,o)];case 3:return v.sent(),a=n.cit+n.MV,c=a+n.ct,e.OIt.DIt(e.gR),e.OIt.NIt(i,MA.vB(a,c)),[3,6];case 4:return h=v.sent(),u.error=h,u.hasError=!0,[3,6];case 5:return Kt(u),[7];case 6:return[3,8];case 7:return f=e.VIt,e.VIt=void 0,null==f||f.Ob(),[7];case 8:return[2]}}))}))()},i.g2=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return r.Aot.h3===im._E&&r.HIt.vdt(t.qk,n.cit,n.cit+n.ct,n.MV,r.Wyt,!1),e=r.FB.XB.ZB,u=r.Aot.gR.kr(r.FB.SR),e||u?[4,r.ZIt(i)]:[3,3];case 1:return o.sent(),[4,r.Aot._2(t,n,i)];case 2:case 4:return[2,o.sent()];case 3:return r.BIt.push([t,n]),s=r.BIt[0][1].cit,r.BIt[r.BIt.length-1][1].cit-s>=.4?[4,r.ZIt(i)]:[3,5];case 5:return[2]}}))}))()},i.w2=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(i.FIt)throw new y("Concurrent appends are not supported.");a.label=1;case 1:a.trys.push([1,,8,9]),r={stack:[],error:void 0,hasError:!1},a.label=2;case 2:return a.trys.push([2,5,6,7]),e=Yt(r,Jo.Qw([n,i.J2.Vw]),!1),u=e.Vw,i.VIt=new Yc,[4,i.ZIt(u)];case 3:return a.sent(),[4,i.Aot.w2(t,{},u)];case 4:return a.sent(),i.Aot.h3===im._E&&i.HIt.Mot(t.qk),[3,7];case 5:return s=a.sent(),r.error=s,r.hasError=!0,[3,7];case 6:return Kt(r),[7];case 7:return[3,9];case 8:return o=i.VIt,i.VIt=void 0,null==o||o.Ob(),[7];case 9:return[2]}}))}))()},i.$S=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(r.FIt)throw new y("Concurrent appends are not supported.");c.label=1;case 1:c.trys.push([1,,8,9]),e={stack:[],error:void 0,hasError:!1},c.label=2;case 2:return c.trys.push([2,5,6,7]),u=Yt(e,Jo.Qw([i,r.J2.Vw]),!1),s=u.Vw,r.VIt=new Yc,[4,r.ZIt(s)];case 3:return c.sent(),[4,r.Aot.$S(t,n,s)];case 4:return c.sent(),r.OIt.MIt(MA.vB(t,n)),[3,7];case 5:return o=c.sent(),e.error=o,e.hasError=!0,[3,7];case 6:return Kt(e),[7];case 7:return[3,9];case 8:return a=r.VIt,r.VIt=void 0,null==a||a.Ob(),[7];case 9:return[2]}}))}))()},i.aY=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(n.FIt)throw new y("Concurrent appends are not supported.");o.label=1;case 1:o.trys.push([1,,7,8]),i={stack:[],error:void 0,hasError:!1},o.label=2;case 2:return o.trys.push([2,4,5,6]),r=Yt(i,Jo.Qw([t,n.J2.Vw]),!1),e=r.Vw,n.VIt=new Yc,[4,n.ZIt(e)];case 3:return o.sent(),[3,6];case 4:return u=o.sent(),i.error=u,i.hasError=!0,[3,6];case 5:return Kt(i),[7];case 6:return[3,8];case 7:return s=n.VIt,n.VIt=void 0,null==s||s.Ob(),[7];case 8:return[2]}}))}))()},i.ZIt=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:i=0,r=n.BIt,o.label=1;case 1:return i<r.length?(e=nn(r[i],2),u=e[0],s=e[1],[4,n.Aot._2(u,s,t)]):[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return So(n.BIt),[2]}}))}))()},i.Hw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:t.J2.Hw(),n.label=1;case 1:return t.FIt?[4,t.WIt]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2]}}))}))()},xt(n,[{key:"gR",get:function(){for(var t=MA.mB(),n=0,i=this.BIt;n<i.length;n++){var r=nn(i[n],2)[1],e=r.cit+r.MV,u=e+r.ct;t=t.JL(MA.vB(e,u))}return this.Aot.gR.JL(t)}},{key:"FIt",get:function(){return void 0!==this.VIt}},{key:"WIt",get:function(){return this.VIt?this.VIt.Vb:ut.resolve()}}]),n}(oa);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Jt();var aX=function(){function t(t){this.zIt=0,this.qIt=t}var n=t.prototype;return n.XIt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:if(i.zIt>=i.qIt.maxRetries)throw t;return[4,ra(i.YIt(i.zIt++),n)];case 1:return r.sent(),[2]}}))}))()},n.YIt=function(t){var n=0;return 0!==t&&(n+=A.min(this.qIt.maximumBackoff,this.qIt.minimumBackoff*A.pow(2,t-1))),n},t}();U(),St(),Ct(),U(),St(),Ct();var cX=function(t){return t.KIt="emsgdata",t}({}),hX=function(t){function n(n,i){var r;return(r=t.call(this,"emsgdata")||this).value=n,r.data=i,r}return Rt(n,t),n}(ha);U(),St();var fX=function(){function t(){}var n=t.prototype;return n.start=function(t){this.BQ=t},n.jIt=function(t){this.BQ.enqueue(t)},t}();U(),St(),U(),St();var vX=function(t){return t.QIt="initdata",t.MANIFEST_UPDATE="manifestupdate",t.JIt="timestamps:v1",t}({});var lX="urn:theo:hesp:2020";function dX(t){if(t._L===lX){var n=t.Dx;if(n===vX.QIt)return function(t){if(t&&$n(t)){var n=t;if(ui(n.index)&&ui(n.offset)&&!(n.index<0&&n.offset<0))return{Aw:"initdata",index:n.index,offset:n.offset}}}(JSON.parse(yc(Sc(t.gL),new Dc)));if(n===vX.MANIFEST_UPDATE)return function(t){if(t&&$n(t)){var n=t;if(!Yn(n.url)||ni(n.url))return{Aw:"manifestupdate",url:n.url}}}(JSON.parse(yc(Sc(t.gL),new Dc)));if(n===vX.JIt){var i,r=Sc(t.gL),e=new Dc,u=nc(r,e).toNumber()/t._N,s=nc(r,e).toNumber()/1e3,o=$a(r,e)/1e3;return e.ec+8<=r.byteLength&&(i={hours:$a(r,e),minutes:qa(r,e),seconds:qa(r,e),frames:Ja(r,e)}),{Aw:vX.JIt,$It:u,tCt:s,eCt:o,iCt:i}}}}var gX=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).sCt=new oa,n}Rt(n,t);var i=n.prototype;return i.transform=function(t){if(t.Aw===cp.fD)try{var n=dX(kp.hN(t.qk));n&&this.sCt.wo(new hX(n.Aw,n))}catch(t){false}this.jIt(t)},i.Hw=function(){this.sCt.$o()},n}(fX);U(),St(),Ct();var mX=function(){function t(){}var n=t.prototype;return n.start=function(t){this.b_=new wX(t)},n.transform=function(t){this.b_.r$(t)},n.flush=function(){this.b_.h$()},t}(),wX=function(t){function n(n){var i;return(i=t.call(this)||this).BQ=n,i}Rt(n,t);var i=n.prototype;return i.v$=function(t){return!0},i.g$=function(t){this.BQ.enqueue(t)},i.w$=function(t){},n}(eC);U(),St(),Gt(),Ct(),Jt(),U(),St();var pX=ur.fromNumber(or);var yX=function(t){function n(n,i){var r;return(r=t.call(this)||this).lW=n,r.nCt=i,r}return Rt(n,t),n.prototype.Kk=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:0,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,n.lW.Kk(t)];case 2:return[2,r.sent()];case 3:if(Wo(i=r.sent()))throw i;return[4,n.nCt.XIt(i,t.Vw)];case 4:return r.sent(),[3,5];case 5:return[3,0];case 6:return[2]}}))}))()},n}(oa);function _X(t,n,i,r,e,u,s,o){var a=new Dl;return e&&a.Ek(function(t,n){return void 0===n&&(n=pX),new Dl({Range:"bytes="+t.toString()+"-"+n.toString()})}(e.start,e.end)),{Gu:t,jk:a,kE:!1,Vw:o,Aw:vd.iE,SE:i,TE:r,bE:u,AE:s,Yk:n,RE:n===xl.bk}}U(),St(),Ct(),U(),St();var bX=function(t){return t[t.INITIALIZER=0]="INITIALIZER",t[t.FRAMES=1]="FRAMES",t}({}),kX=function(t){function n(n,i){var r;return(r=t.call(this)||this).rCt=[],r.cY=n,r.out=r.cY.match(/video/)?hM._E:hM.fE,r.PA=i,r}Rt(n,t);var i=n.prototype;return i.transform=function(t){this.rCt.push(t),t.Aw===cp.lD&&this.oCt(this.rCt.splice(0),bX.FRAMES)},i.oCt=function(t,n){var i={_N:this.PA,Yq:this.cY},r=Uc(t.map((function(t){return Ec(t.qk.qk)}))),e=go(t,AX),u=kp.jD(e.qk.qk)[0],s={TE:this.out,Tb:i,But:r,Aw:n,ct:this.Sd(u)/this.PA,lvt:Ar(this.hCt(u),this.PA)};this.jIt(s)},i.Sd=function(t){var n,i=t.Z[0];if(!i||0===i.rL.length)return 0;var r=null!=(n=i.HD.KM)?n:0;return i.rL[0].dL.reduce((function(t,n){var i;return t+(null!=(i=n.ct)?i:r)}),0)},i.hCt=function(t){var n,i;return null!=(i=null==(n=t.Z[0].oL)?void 0:n.oL)?i:ur.UZERO},n}(fX);function AX(t){return t.Aw===cp.nD}U(),St();var TX=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).lCt="now",e.wCt=new Jo,e.VIt=void 0,e.aCt=n,e.nCt=new aX(r),e.kCt=new gX,e.kCt.sCt.yn(cX.KIt,e.Ds),e.lW=i,e.out=function(t){switch(t){case hM.fE:return dd.fE;case hM._E:return dd._E;default:return dd.tE}}(n.Aw),e.yCt=new yX(e.lW,e.nCt),e}Rt(n,t);var i=n.prototype;return i.clt=function(t){return t+1},i.Eb=function(t){this.lCt=t,this.dCt=void 0,this.fCt=void 0},i._Ct=function(){return void 0!==this.dCt},i.vCt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:if(t.FIt)throw new y("Concurrent downloads are not supported.");g.label=1;case 1:return g.trys.push([1,,4,5]),t.VIt=new Yc,"now"===t.lCt?n=qn.Jp(t.aCt.mCt("now"),t.aCt.gCt):(i=t.lCt,r=0===i?1:t.aCt.pCt(i),n=qn.Jp(t.aCt.mCt(r),t.aCt.gCt)),e=_X(n,xl.wk,ld.rE,t.out,void 0,3e3,1e3,t.wCt.Vw),[4,t.yCt.Kk(e)];case 2:return[4,g.sent().Ck(t.wCt.Vw)];case 3:return u=g.sent(),s=new I(u),o=function(t){var n=wp.LD(new lp(Sc(t),new Dc)),i=go(n,(function(t){return t.Aw===cp.vD||t.Aw===cp.nD}));if(void 0===i)return{bCt:t,yN:void 0};var r=Ac(t,0,i.ec),e=Ac(t,i.ec);return{bCt:r,yN:0===e.byteLength?void 0:e}}(s),a=o.bCt,c=o.yN,h=kp.jD(Sc(s)),t.PA=function(t){var n=go(t,(function(t){return t.Aw===cp.vP}));return n.Z[0].yN.HD._N}(h),f=function(t){var n=t.filter((function(t){return t.Aw===cp.fD})),i=n.map((function(t){return dX(t)})),r=go(i,(function(t){return(null==t?void 0:t.Aw)===vX.QIt}));if(!r)throw new y("No init data in init response");return r}(h),t.dCt=f.index,t.fCt=f.offset,c&&(l=kp.jD(Sc(s)),v=function(t,n,i){var r,e,u,s=go(t,(function(t){return t.Aw===cp.nD})),o=Ar(null!=(e=null==(r=s.Z[0].oL)?void 0:r.oL)?e:ur.UZERO,i),a=s.Z[0],c=null!=(u=a.HD.KM)?u:0,h=a.rL[0],f=h.dL.reduce((function(t,n){var i;return t+(null!=(i=n.ct)?i:c)}),0)/i;return{cit:o,ct:f,MV:n}}(l,-t.aat.UIt,t.PA)),[2,{initialization:a,data:c,metadata:v}];case 4:return d=t.VIt,t.VIt=void 0,null==d||d.Ob(),[7];case 5:return[2]}}))}))()},i.ACt=function(){if(this.FIt)throw new y("Concurrent downloads are not supported.");this.VIt=new Yc;var t=void 0!==this.fCt?ur.fromNumber(this.fCt):void 0;return Gl(this.SCt(this.dCt,t,this.wCt.Vw)).pipeThrough(new Ul(new kX(this.aat.Yq,this.PA))).pipeThrough(new Ul(new SX(this.wCt.Vw)))},i.SCt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return e=r.TCt(t,n,i),[4,r.yCt.Kk(e)];case 1:return[2,u.sent().Pk().pipeThrough(new Ul(new mX)).pipeThrough(new Ul(r.kCt))]}}))}))()},i.TCt=function(t,n,i){var r=this.aCt.ECt(t),e=void 0!==n?{start:n,end:void 0}:void 0;return _X(qn.Jp(r,this.aCt.gCt),xl.bk,ld.tE,this.out,e,25e3,1e3,i)},i.GIt=function(){void 0!==this.dCt&&(this.dCt=this.clt(this.dCt)),this.fCt=void 0;var t=this.VIt;this.VIt=void 0,null==t||t.Ob()},i.cancelDownload=function(){var t;this.wCt.Yw(),this.wCt=new Jo,this.VIt=null!=(t=this.VIt)?t:new Yc,this.dCt=void 0,this.fCt=void 0;var n=this.VIt;this.VIt=void 0,null==n||n.Ob()},i.Hw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.$o(),t.kCt.Hw(),t.wCt.Yw(),[4,t.WIt];case 1:return n.sent(),t.dCt=void 0,t.fCt=void 0,[2]}}))}))()},xt(n,[{key:"aat",get:function(){return this.aCt}},{key:"uCt",get:function(){return!1}},{key:"cCt",get:function(){return this.lCt}},{key:"FIt",get:function(){return void 0!==this.VIt}},{key:"WIt",get:function(){return this.VIt?this.VIt.Vb:ut.resolve()}}]),n}(oa);var SX=function(){function t(t){var n=this;this.xCt=function(){n.BQ.error(new Uo)},this.qw=t}var n=t.prototype;return n.start=function(t){this.BQ=t,this.qw.Fw(this.xCt)},n.flush=function(){this.qw.Ow(this.xCt)},t}();function EX(t){var n;return t.value/(null!=(n=t.scale)?n:1)}U(),St(),Dt(),U(),St(),Dt(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St();var IX="{initId}",RX=/{initId(?::0(?:\d+)d)?}/,CX=/{segmentId(?::0(?:\d+)d)?}/,NX=function(){function t(t,n,i){var r,e,u,s;this.Fbt=[],this.KO=t,this.GCt=i,this.ZS=t.id,this.oG=t.bandwidth,this.RCt=t.averageBandwidth,this.NCt=null!=(r=t.baseUrl)?r:"",this.LCt=null!=(e=t.codecs)?e:n.codecs,this.OCt=null!=(u=t.continuationPattern)?u:n.continuationPattern,this.VCt=null!=(s=t.initializationPattern)?s:n.initializationPattern,this.RO=t.label,this.WCt=t.mediaTimeOffset?EX(t.mediaTimeOffset):0,this.Cbt=t.segmentDuration?EX(t.segmentDuration):0,this.tr(t)}return t.prototype.tr=function(t){this.CCt=t.activeSegment,this.DCt=t.activeSequenceNumber,this.Fbt=t.segments},xt(t,[{key:"o",get:function(){return this.ZS}},{key:"wG",get:function(){return this.oG}},{key:"xyt",get:function(){return this.RCt}},{key:"Ert",get:function(){return this.Fbt}},{key:"ICt",get:function(){return this.CCt}},{key:"PCt",get:function(){return this.DCt}},{key:"gCt",get:function(){return qn.Jp(this.NCt,this.MCt.gCt)}},{key:"Zrt",get:function(){return this.LCt}},{key:"xh",get:function(){return this.RO}},{key:"BCt",get:function(){return this.OCt}},{key:"FCt",get:function(){return this.VCt}},{key:"UIt",get:function(){return this.WCt}},{key:"UCt",get:function(){return this.Cbt}}]),t}(),xX=function(t){function n(n,i,r){var e,u,s,o,a;return(e=t.call(this,n,i,r)||this).ZCt=null!=(u=n.channels)?u:1,e.XCt=null!=(o=null!=(s=n.frameRate)?s:i.frameRate)?o:1024,e.vA=null!=(a=n.sampleRate)?a:i.sampleRate,e}return Rt(n,t),xt(n,[{key:"Aw",get:function(){return hM.fE}},{key:"MCt",get:function(){return this.GCt}},{key:"HCt",get:function(){return this.ZCt}},{key:"Jdt",get:function(){return this.XCt}},{key:"nM",get:function(){return this.vA}},{key:"Yq",get:function(){return'audio/mp4; codecs="'+this.Zrt+'"'}}]),n}(NX),DX=function(t){function n(n,i,r){var e,u;return(e=t.call(this,n,i,r)||this).yp=n.resolution,e.XCt=EX(null!=(u=n.frameRate)?u:i.frameRate),e}return Rt(n,t),xt(n,[{key:"Aw",get:function(){return hM._E}},{key:"MCt",get:function(){return this.GCt}},{key:"zCt",get:function(){return this.yp}},{key:"Jdt",get:function(){return this.XCt}},{key:"Yq",get:function(){return'video/mp4; codecs="'+this.Zrt+'"'}}]),n}(NX);function PX(t,n){var i=String(n);if(t===IX||"now"===n)return i;var r=T(t.substring(9,t.lastIndexOf("d")));return zs(i,r,"0")}function MX(t,n){var i=String(n);if(t===IX)return i;var r=T(t.substring(12,t.lastIndexOf("d")));return zs(i,r,"0")}var BX=function(){function t(t,n,i){var r;this.GCt=t,this.cC=i,this.qCt=n,this.ZS=t.id,this.KCt=t.alignId,this.NCt=null!=(r=t.baseUrl)?r:"",this.RO=t.label,this.WCt=t.mediaTimeOffset?EX(t.mediaTimeOffset):0,this.QCt=t.protection,this.tr(t)}return t.prototype.tr=function(t){for(var n=function(n,i){var r=i[n],e=go(t.tracks,(function(t){return r.o===t.id}));e&&r.tr(e)},i=0,r=this.cC;i<r.length;i++)n(i,r)},xt(t,[{key:"wst",get:function(){return this.qCt}},{key:"o",get:function(){return this.ZS}},{key:"YCt",get:function(){return this.KCt}},{key:"gCt",get:function(){return qn.Jp(this.NCt,this.wst.gCt)}},{key:"xh",get:function(){return this.RO}},{key:"UIt",get:function(){return this.WCt}},{key:"jCt",get:function(){return this.QCt}}]),t}(),OX=function(t){function n(n,i){var r,e=[];r=t.call(this,n,i,e)||this;for(var u=0,s=n.tracks;u<s.length;u++){var o=s[u];e.push(new xX(o,n,r))}return r}return Rt(n,t),n.prototype.tr=function(n){var i,r;t.prototype.tr.call(this,n),this.NA=n.language,this.ZCt=null!=(i=n.channels)?i:1,this.cY=null!=(r=n.mimeType)?r:"audio/mp4"},xt(n,[{key:"MCt",get:function(){return this.GCt}},{key:"Z",get:function(){return this.cC}},{key:"gs",get:function(){return this.NA}},{key:"HCt",get:function(){return this.ZCt}}]),n}(BX),LX=function(t){function n(n,i){var r,e=[];r=t.call(this,n,i,e)||this;for(var u=0,s=n.tracks;u<s.length;u++){var o=s[u];e.push(new DX(o,n,r))}return r}return Rt(n,t),n.prototype.tr=function(n){var i;t.prototype.tr.call(this,n),this.cY=null!=(i=n.mimeType)?i:"video/mp4"},xt(n,[{key:"MCt",get:function(){return this.GCt}},{key:"Z",get:function(){return this.cC}},{key:"JCt",get:function(){return this.GCt.captions}}]),n}(BX),FX=function(){function t(t,n){var i,r,e;this.nPt=[],this.oPt=[],this.tPt=t,this.ZS=n.id,this.NCt=null!=(i=n.baseUrl)?i:"";for(var u=0,s=null!=(r=n.audio)?r:[];u<s.length;u++){var o=s[u];this.nPt.push(new OX(o,this))}for(var a=0,c=null!=(e=n.video)?e:[];a<c.length;a++){var h=c[a];this.oPt.push(new LX(h,this))}this.tr(n)}return t.prototype.tr=function(t){var n;this.iPt=t.timeBounds,this.Yf=null!=(n=t.events)?n:[],this.hZ=t.currentTime?EX(t.currentTime):void 0},xt(t,[{key:"o",get:function(){return this.ZS}},{key:"gCt",get:function(){return qn.Jp(this.NCt,this.tPt.$Ct)}},{key:"ePt",get:function(){return this.iPt}},{key:"SR",get:function(){return this.hZ}},{key:"Kq",get:function(){return this.Yf}},{key:"sPt",get:function(){return this.nPt}},{key:"rPt",get:function(){return this.oPt}}]),t}(),VX=function(){function t(t,n){this.mPt=[],this.yPt=t,this.tPt=n,this.tr(n)}return t.prototype.tr=function(t){var n,i,r=function(t,i){var r=i[t],e=go(n.mPt,(function(t){return t.o===r.id}));e?e.tr(r):n.mPt.push(new FX(n,r))};this.aPt=EX(t.availabilityDuration),this.cPt=t.creationDate,this.dPt=t.fallbackPollRate,this._Pt=t.manifestVersion,this.nA=t.streamType,this.pPt=t.activePresentation,this.wPt=t.contentBaseUrl,this.APt=null==(i=t.timeSource)?void 0:i.url,this.tPt=t;for(var e=0,u=t.presentations;e<u.length;e++)n=this,r(e,u);this.mPt=this.mPt.filter((function(n){return t.presentations.some((function(t){return t.id===n.o}))}))},xt(t,[{key:"WC",get:function(){return this.tPt}},{key:"hPt",get:function(){return this.aPt}},{key:"uPt",get:function(){return this.cPt}},{key:"lPt",get:function(){return this.dPt}},{key:"fPt",get:function(){return this._Pt}},{key:"vPt",get:function(){return this.mPt}},{key:"o0",get:function(){return this.nA}},{key:"gPt",get:function(){return this.pPt}},{key:"$Ct",get:function(){var t;return qn.Jp(null!=(t=this.wPt)?t:"",this.yPt)}},{key:"bPt",get:function(){return this.APt}}]),t}();U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var UX=0,WX=function(t){function n(n){var i;return(i=t.call(this)||this).xO=UX++,i.SPt=n,i}Rt(n,t);var i=n.prototype;return i.pCt=function(t){var n=(t-this.SPt.MCt.wst.SR)*this.framesPerSecond();return A.round(this.SPt.PCt+n)},i.TPt=function(t){return t+1},i.mCt=function(t){for(var n,i,r=this.SPt.FCt;i=null==(n=r.match(RX))?void 0:n.pop();)r=r.split(i).join(PX(i,t));return r+("now"===t?"?uuid="+$E():"")},i.ECt=function(t){for(var n,i,r=this.SPt.BCt;i=null==(n=r.match(CX))?void 0:n.pop();)r=r.split(i).join(MX(i,t));return r},i.oW=function(){},i.rW=function(){},xt(n,[{key:"znt",get:function(){return!0}},{key:"xyt",get:function(){return this.SPt.xyt}},{key:"wG",get:function(){return this.SPt.wG}},{key:"Zrt",get:function(){return this.SPt.Zrt}},{key:"o",get:function(){return this.SPt.o}},{key:"xh",get:function(){var t;return null!=(t=this.SPt.xh)?t:""}},{key:"xC",get:function(){return this.xO}},{key:"Pyt",get:function(){return this.SPt.gCt}},{key:"Ryt",get:function(){}},{key:"Yq",get:function(){return this.SPt.Yq}},{key:"UIt",get:function(){return this.SPt.UIt}},{key:"gCt",get:function(){return this.SPt.gCt}},{key:"Aw",get:function(){return this.SPt.Aw}}]),n}(oa),jX=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).su=void 0,r.KO=i,r}return Rt(n,t),n.prototype.framesPerSecond=function(){return this.SPt.nM/this.SPt.Jdt},xt(n,[{key:"kPt",get:function(){return this.SPt}},{key:"Ewt",get:function(){return this.SPt.nM}},{key:"Ht",get:function(){return this.KO}},{key:"ka",get:function(){return this.su||(this.su=TU(this)),this.su}}]),n}(WX),ZX=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).su=void 0,r.KO=i,r}return Rt(n,t),n.prototype.framesPerSecond=function(){return this.SPt.Jdt},xt(n,[{key:"kPt",get:function(){return this.SPt}},{key:"Iyt",get:function(){return 0}},{key:"Jdt",get:function(){return this.SPt.Jdt}},{key:"Ti",get:function(){return this.SPt.zCt.height}},{key:"ji",get:function(){return this.SPt.zCt.width}},{key:"zCt",get:function(){return this.SPt.zCt}},{key:"Ht",get:function(){return this.KO}},{key:"ka",get:function(){return this.su||(this.su=AU(this)),this.su}}]),n}(WX);U(),St();var XX=function(t){return t.EPt="alternative",t.xPt="main",t.RPt="commentary",t.IPt="",t.JV="descriptions",t.CPt="main-desc",t.PPt="translation",t}({}),GX=function(t){return t.EPt="alternative",t.xPt="main",t.RPt="commentary",t.IPt="",t.QV="captions",t.AC="sign",t.jV="subtitles",t}({}),HX=0,zX=function(t){function n(n,i,r){var e;(e=t.call(this)||this).AO=new lm,e.xO=HX++,e.He=!1,e.Hct=void 0,e.GCt=i,e.LPt=r,e.BPt=new zW(n,[]);for(var u=0,s=i.Z;u<s.length;u++){var o=s[u];e.AO.SO(e.createQuality(o))}return e}Rt(n,t);var i=n.prototype;return i.CO=function(t){this.Rt=t},i.OPt=function(t){for(var n=0,i=this.AO.uC;n<i.length;n++){var r=i[n];r===t&&this.wo(new wV(r))}},xt(n,[{key:"EC",get:function(){return this.DPt()}},{key:"Rt",get:function(){return this.He},set:function(t){this.Rt!==t&&(this.He=t,t&&this.NPt(),this.LPt.MPt(),this.wo(new dm(this)))}},{key:"ka",get:function(){return this.su||(this.su=Qg(this)),this.su}},{key:"Idt",get:function(){return this.BPt}},{key:"o",get:function(){return this.GCt.o}},{key:"xC",get:function(){return this.xO}},{key:"xh",get:function(){var t;return null!=(t=this.GCt.xh)?t:""}},{key:"xE",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){"enabled"===t?this.Rt=!0:"disabled"===t&&(this.Rt=!1)}},{key:"IC",get:function(){return this.AO}},{key:"DC",get:function(){return this.Hct},set:function(t){this.Hct=t,this.LPt.MPt(),this.wo(new UL(t,this))}}]),n}(oa),YX=function(t){function n(n,i){return t.call(this,im.fE,n,i)||this}Rt(n,t);var i=n.prototype;return i.NPt=function(){this.LPt.FPt(this)},i.DPt=function(){var t=this.LPt.VPt;return(null==t?void 0:t.Ht)===this?t:void 0},i.createQuality=function(t){return new jX(t,this)},xt(n,[{key:"Aw",get:function(){return hM.fE}},{key:"Lt",get:function(){return XX.xPt}},{key:"gs",get:function(){return this.GCt.gs}},{key:"MCt",get:function(){return this.GCt}}]),n}(zX),KX=function(t){function n(n,i){return t.call(this,im._E,n,i)||this}Rt(n,t);var i=n.prototype;return i.NPt=function(){this.LPt.WPt(this)},i.DPt=function(){var t=this.LPt.UPt;return(null==t?void 0:t.Ht)===this?t:void 0},i.createQuality=function(t){return new ZX(t,this)},xt(n,[{key:"Aw",get:function(){return hM._E}},{key:"Lt",get:function(){return GX.xPt}},{key:"gs",get:function(){return""}},{key:"MCt",get:function(){return this.GCt}},{key:"JCt",get:function(){return this.GCt.JCt}}]),n}(zX);function qX(t,n,i,r){if(t){var e=function(t,n,i){for(var r=[],e=0;e<n.length;e++){var u,s,o=n[e],a=null!=(u=o.mimeType)?u:"audio/mp4",c=null!=(s=o.codecs)?s:o.tracks.map((function(t){return t.codecs}))[0];r.push(a+'; codecs="'+c+'"')}return JX(t,n,r,[],i)}(t,n?[n]:[],!r),u=function(t,n,i){for(var r=[],e=0;e<n.length;e++){var u,s,o=n[e],a=null!=(u=o.mimeType)?u:"video/mp4",c=null!=(s=o.codecs)?s:o.tracks.map((function(t){return t.codecs}))[0];r.push(a+'; codecs="'+c+'"')}return JX(t,n,[],r,i)}(t,i?[i]:[],!r),s=bj(e,u);return t.preferredKeySystems&&(null==s?void 0:s.ipt)&&(s.ipt=Nj(s.ipt,t.preferredKeySystems)),s}}function JX(t,n,i,r,e){var u=n.map((function(t){return t.protection})).filter(Yn);if(u.length){var s=u[0].type,o=Io(u,(function(t){return t.systems})),a=Io(o,(function(t){return function(t,n){void 0===n&&(n=!0);for(var i=[],r=n?function(t){return Vs.filter((function(n){return n.Ew===t.toLowerCase()}))}(t.schemeId):function(t){return Fs.filter((function(n){return n.Ew===t.toLowerCase()}))}(t.schemeId),e=0;e<r.length;e++){var u=r[e];i.push({FU:QX(t)?t.uri:void 0,aT:u,xG:void 0,EG:t.pssh?[Sa(t.pssh).buffer]:[]})}return i}(t,e)}));return{rU:t,spt:{bTt:s},ipt:a,ATt:i,STt:r}}}function QX(t){return t.schemeId===ds.ww&&void 0!==t.keyFormat&&void 0!==t.keyFormatVersions}U(),St(),U(),St(),Gt(),Dt(),Jt(),U(),St();var $X;function tG(t){var n=t.SR,i=t.gR.dB(n);return i?i.jn(0)-n:0}$X="Android"===qn.iw.nw?200:300;var nG=qn.Ys.np?1:.5,iG=function(){function t(t,n,i,r,e){var u=this;this.FB=t,this.GG=n,this.QPt=i,this.lDt=r,this.ZPt=e,this.Ba=0,this.JPt=ut.resolve(),this.rDt=[],this.oDt=void 0,this.YPt=function(){var t,n;if(!u.lDt.hI){var i=null==(t=u.QPt.VPt)?void 0:t.Ht,r=null==(n=u.QPt.UPt)?void 0:n.Ht,e=Ro(u.eDt(i,r),(function(t){return t.iDt}));e&&(ta(u.sDt(e,!0)),u.FB.XB.ZB&&u.lDt.GC())}},this.qPt=function(){u.zPt.yn(Ey.FL,u.YPt),u.zPt.fn(Ey.VL,u.qPt)},this.XPt=function(){if(u.rDt.unshift(u.ZPt.wG),u.rDt=u.rDt.slice(0,3),u.KPt){var t=u.KPt.nDt.iDt;u.ZPt.wG<t&&(u.KPt=void 0,u.SB())}},this.zPt=new Ly(this.FB)}var n=t.prototype;return n.Cn=function(){var t=this;1!==this.Ba&&(this.Ba=1,this.GPt=qn.Wp((function(){t.HPt()}),$X),this.ZPt.gIt(this.XPt),this.FB.qR?this.zPt.yn(Ey.VL,this.qPt):this.qPt())},n.EI=function(){0!==this.Ba&&(this.Ba=0,void 0!==this.GPt&&qn.Up(this.GPt),this.ZPt.wIt(this.XPt),this.zPt.fn(Ey.FL,this.YPt),this.zPt.fn(Ey.VL,this.qPt),this.KPt=void 0,this.SB())},n.HPt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.JPt];case 1:return n.sent(),t.JPt=t.$Pt(),[4,t.JPt];case 2:return n.sent(),[2]}}))}))()},n.tDt=function(t,n){for(var i=this.eDt(t,n),r=this.ZPt.wG,e=0;e<i.length;e++){var u=i[e];if(u.iDt<=r)return u}return i[i.length-1]},n.$Pt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r=null==(n=t.QPt.VPt)?void 0:n.Ht,e=null==(i=t.QPt.UPt)?void 0:i.Ht,0===(u=t.eDt(r,e)).length?[2]:(s=t.maybeSwitchToTargetQuality(u))?[4,t.sDt(s)]:[3,2];case 1:case 3:return a.sent(),[2];case 2:return(o=t.maybeGetUpSwitch(u))?[4,t.sDt(o)]:[3,4];case 4:return[2]}}))}))()},n.maybeSwitchToTargetQuality=function(t){var n=this.jPt;if(!t.some((function(t){return eG(t,n)}))){for(var i=this.ZPt.wG,r=0;r<t.length;r++){var e=t[r];if(e.iDt<=i)return e}return t[t.length-1]}},n.maybeGetUpSwitch=function(t){for(var n,i,r,e,u,s=this.ZPt.wG,o=(null!=(r=null==(n=this.QPt.VPt)?void 0:n.wG)?r:0)+(null!=(e=null==(i=this.QPt.UPt)?void 0:i.wG)?e:0),a=0;a<t.length;a++){var c=t[a];if(c.iDt<s&&c.iDt>o){u={nDt:c,Bft:qn.Vg()};break}}if(this.KPt&&eG(this.KPt.nDt,null==u?void 0:u.nDt)){var h=qn.Vg()-this.KPt.Bft,f=this.KPt.nDt.iDt,v=this.rDt.length>=3&&this.rDt.every((function(t){return t>f}));if(h>1e3&&v){if(this.FB.XB.ZB||qn.Ys.Jg){var l=2*this.ZPt.yG;if(!(tG(this.FB)>l))return}else{var d=A.max(2*this.ZPt.yG+nG,this.GG.pB.minimumOffset);if(!(tG(this.FB)>d))return void(this.oDt&&this.oDt.minimumOffset===d||(this.SB(),this.oDt={minimumOffset:d},this.GG.yB(this.oDt)))}return this.KPt.nDt}}else this.KPt=u},n.sDt=function(t,n){void 0===n&&(n=!1);var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return i.KPt=void 0,i.SB(),(r=i.jPt).hDt===t.hDt&&r.aDt===t.aDt?[2]:(e=t.hDt,u=t.aDt,r.aDt&&u&&r.aDt.wG>u.wG&&n&&(i.ZPt.vIt(t.iDt),i.rDt=[]),[4,i.QPt.uDt(u,e)]);case 1:return s.sent(),[2]}}))}))()},n.SB=function(){this.oDt&&(this.GG.SB(this.oDt),this.oDt=void 0)},n.eDt=function(t,n){var i,r=[],e=[];t&&(r=(null==(i=t.DC)?void 0:i.length)?t.DC:t.IC.uC);if(n){var u,s=(null==(u=n.DC)?void 0:u.length)?n.DC:n.IC.uC,o=s.slice().sort((function(t,n){return t.wG-n.wG})),a=this.cDt(o);0===a.length&&s.length>0&&a.push(Ro(s,(function(t){return t.wG}))),e=a}for(var c=[],h=r.length>0?r:[void 0],f=e.length>0?e:[void 0],v=0;v<h.length;v++)for(var l=h[v],d=0;d<f.length;d++){var g=f[d];c.push(rG(l,g))}return function(t){return t.sort((function(t,n){return n.iDt-t.iDt}))}(c)},n.cDt=function(t){for(var n=0;n<t.length;n++){var i=t[n].zCt;if(i.height>=this.FB.Ti&&i.width>=this.FB.ji)return t.slice(0,n+1)}return t.slice()},n.Hw=function(){this.KPt=void 0,this.zPt.er(),this.SB()},xt(t,[{key:"jPt",get:function(){return rG(this.QPt.VPt,this.QPt.UPt)}}]),t}();function rG(t,n){var i,r;return{hDt:t,aDt:n,iDt:(null!=(i=null==t?void 0:t.wG)?i:0)+(null!=(r=null==n?void 0:n.wG)?r:0)}}function eG(t,n){var i,r,e,u;return void 0===t||void 0===n?t===n:(null==(i=t.hDt)?void 0:i.o)===(null==(r=n.hDt)?void 0:r.o)&&(null==(e=t.aDt)?void 0:e.o)===(null==(u=n.aDt)?void 0:u.o)&&t.iDt===n.iDt}U(),St(),Gt(),Dt(),rn(),Jt();var uG=20,sG=function(){function t(t,n,i){this.WT=new Jo,this.dDt=t,this.vRt(n,i,this.WT.Vw).catch(Ti)}var n=t.prototype;return n.vRt=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return i.Bw?[3,6]:[4,ra(6e5,i)];case 1:e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,oG(t,n,i)];case 3:return r.dDt=e.sent(),[3,5];case 4:return Zo(e.sent()),[3,5];case 5:return[3,0];case 6:return[2]}}))}))()},n.Hw=function(){this.WT.Yw()},t.create=function(n,i,r){return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,oG(n,i,r)];case 1:return[2,new t(e.sent(),n,i)]}}))}))()},xt(t,[{key:"ubt",get:function(){return(this.dDt.serverTimeMs+(qn.Vg()-this.dDt.localTimeMs))/1e3}},{key:"fDt",get:function(){return(this.dDt.localTimeMs-this.dDt.serverTimeMs)/1e3}}]),t}();function oG(t,n,i){return aG.apply(this,arguments)}function aG(){return aG=Zt((function(t,n,i){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,cG(t,n,i)];case 1:return r=nn.apply(void 0,[a.sent(),3]),e=r[0],u=r[1],s=r[2],u>uG?[4,cG(t,n,i)]:[3,3];case 2:o=nn.apply(void 0,[a.sent(),3]),e=o[0],u=o[1],s=o[2],a.label=3;case 3:return[2,{localTimeMs:e,serverTimeMs:s-u/2}]}}))})),aG.apply(this,arguments)}function cG(t,n,i){return hG.apply(this,arguments)}function hG(){return hG=Zt((function(t,n,i){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return r=qn.Vg(),[4,n.Kk({yE:fd.GET,Gu:t,Vw:i})];case 1:return e=a.sent(),u=qn.Vg()-r,[4,e.Rk(i)];case 2:return s=a.sent(),o=1e3*Number(s),[2,[r,u,o]]}}))})),hG.apply(this,arguments)}var fG=function(t){function n(){return t.call(this,"seek")||this}return Rt(n,t),n}(ha),vG=function(t){return t.PZ="seek",t}({}),lG=[fa.ro,Ey.tC,fa.sb],dG=function(t){function n(n,i,r,e,u,s,o,a,c,h){var f;return(f=t.call(this)||this).CDt=!1,f.YDt=!1,f.aO=new nm,f.cO=new nm,f.KDt=void 0,f.mDt=void 0,f.gDt=void 0,f.wDt=new Yc,f.jG=void 0,f.cpt=void 0,f.yDt=new Yc,f.fW=new Jo,f.VDt=void 0,f.FDt=new Jo,f.Q9=void 0,f.j9=new Jo,f.LDt=void 0,f._Dt=void 0,f.XDt=void 0,f.BDt=void 0,f.vDt=void 0,f.ZDt=void 0,f.zDt=void 0,f.HB=function(){f.YDt=!0},f.updateActiveQualities=function(){var t,n,i=f.FB.SR,r=null==(t=f._Dt)?void 0:t.LIt(i),e=null==(n=f.vDt)?void 0:n.LIt(i);if(f.mDt!==r&&(f.mDt=r,r))for(var u=0,s=f.aO.uC;u<s.length;u++){s[u].OPt(r)}if(f.gDt!==e&&(f.gDt=e,e))for(var o=0,a=f.cO.uC;o<a.length;o++){a[o].OPt(e)}},f.HDt=function(t,n){var i=n.data;if(i.Aw===vX.JIt){var r,e=i.tCt,u=i.eCt,s=i.$It,o=i.iCt;if(f.TDt){var a=f.TDt.ubt,c=f.FB.SR;if(f.YDt&&0!==c){var h={theolive:a-e+s-c,engine:u,distribution:a-(e+u),player:s-c};t===im.fE?(f.RDt=h,f.bDt.RIt(f.TDt.fDt+e,s)):(f.xDt=h,f.bDt.EIt(f.TDt.fDt+e,s))}}if(o)null!=f.KDt||(f.KDt=f.FB.LI($p.$V,"timecode","timecode",void 0,!1,xm.DEFAULT,!1,void 0)),f.KDt.dW(new qm(s,s,o,!1,void 0)),dy(f.KDt,null!=(r=f.FB.gR.Cn(0))?r:-1)}f.wo(n)},f.O6=function(t){Wo(t)||(f.EI(),f.wo(new Ek(new sl(el.MEDIA_LOAD_ERROR,t.message))))},f.Cc=n,f.SDt=i,f.FB=r,f.lW=u,f.bDt=s,f.vZ=new iG(r,o,f,c,e),f.qlt=a,f.EDt=h,f.FB.yn(Ey.VL,f.HB),f.FB.yn(lG,f.updateActiveQualities),f}Rt(n,t);var i=n.prototype;return i.ADt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t._Dt?[4,t._Dt.$S(0,1/0)]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.vDt?[4,t.vDt.$S(0,1/0)]:[3,4];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))()},i.Dn=function(){if(!this.Cc.src)throw new sl(el.SOURCE_INVALID,"No src property found in given source.");this.cpt||(this.cpt=this.KE(this.fW.Vw).catch(this.O6))},i.KE=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return n.wo(new JR),i=n.Cc.src,[4,n.SDt.NRt(i,t)];case 1:return r=u.sent(),n.tPt=new VX(i,r),n.tPt.bPt?[4,sG.create(n.tPt.bPt,n.lW,t)]:[3,3];case 2:n.TDt=u.sent(),u.label=3;case 3:return n.kDt(),e=n.tPt.vPt[n.tPt.vPt.length-1],n.createTracksForPresentation(e),n.wDt.Ob(),n.MPt(),[2]}}))}))()},i.FPt=function(t){for(var n=0,i=this.aO.uC;n<i.length;n++){var r=i[n];r.CO(r===t)}},i.WPt=function(t){for(var n=0,i=this.cO.uC;n<i.length;n++){var r=i[n];r.CO(r===t)}},i.MPt=function(){for(var t,n=go(this.aO.uC,(function(t){return t.Rt})),i=go(this.cO.uC,(function(t){return t.Rt})),r=0,e=null!=(t=null==i?void 0:i.JCt)?t:[];r<e.length;r++){var u=e[r];this.EDt.pgt({Gtt:u.channel,Htt:u.language,xh:u.label})}var s=this.vZ.tDt(n,i);ta(this.uDt(s.aDt,s.hDt))},i.kDt=function(){var t=this;if(this.tPt&&"live"===this.tPt.o0&&this.TDt){var n=this.tPt.vPt.filter((function(n){return n.o===t.tPt.gPt}))[0].SR,i=this.TDt.fDt+new Date(this.tPt.uPt).getTime()/1e3;this.bDt.TIt(i,n)}},i.createTracksForPresentation=function(t){for(var n,i,r,e,u=0,s=null!=(r=t.sPt)?r:[];u<s.length;u++){var o=s[u];this.aO.tt(new YX(o,this))}for(var a=0,c=null!=(e=t.rPt)?e:[];a<c.length;a++){var h=c[a];this.cO.tt(new KX(h,this))}null==(n=this.aO.lC(0))||n.CO(!0),null==(i=this.cO.lC(0))||i.CO(!0)},i.Cn=function(){this.CDt=!0,this.PDt()},i.EI=function(){var t;this.CDt=!1,this.DDt().catch(this.O6),"live"===(null==(t=this.WC)?void 0:t.o0)&&(this.NDt(),this.MDt())},i.NDt=function(){this.LDt&&this.LDt.cancelDownload()},i.MDt=function(){this.BDt&&this.BDt.cancelDownload()},i.GC=function(t){var n=this;this.j9.Yw(),this.j9=new Jo,this.Q9=Yo((function(i){return n.ODt(t,n.Q9,i)}),this.j9).catch(this.O6)},i.ODt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return n?[4,n]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,Go(r.W,i)];case 3:if(s.sent(),"live"!==r.tPt.o0)throw new y("The current video source does not support Live playback.");return jo(i),[4,r.DDt()];case 4:if(s.sent(),jo(i),!r.LDt||!r.LDt._Ct()&&r.LDt.cCt===(null!=t?t:"now"))return[3,10];if(r.NDt(),!r._Dt)return[3,9];s.label=5;case 5:return r._Dt.FIt?[4,Go(r._Dt.WIt,i)]:[3,7];case 6:return s.sent(),[3,5];case 7:return[4,r._Dt.$S(0,1/0)];case 8:s.sent(),s.label=9;case 9:null==(e=r.LDt)||e.Eb(null!=t?t:"now"),s.label=10;case 10:if(!r.BDt||!r.BDt._Ct()&&r.BDt.cCt===(null!=t?t:"now"))return[3,16];if(r.MDt(),!r.vDt)return[3,15];s.label=11;case 11:return r.vDt.FIt?[4,Go(r.vDt.WIt,i)]:[3,13];case 12:return s.sent(),[3,11];case 13:return[4,r.vDt.$S(0,1/0)];case 14:s.sent(),s.label=15;case 15:null==(u=r.BDt)||u.Eb(null!=t?t:"now"),s.label=16;case 16:return r.wo(new fG),jo(i),r.Q9=void 0,r.PDt(),[2]}}))}))()},i.Eb=function(t){var n=this;this.j9.Yw(),this.j9=new Jo,this.Q9=Yo((function(i){return n.J9(t,n.Q9,i)}),this.j9).catch(this.O6)},i.J9=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return n?[4,n]:[3,2];case 1:s.sent(),s.label=2;case 2:return[4,Go(r.W,i)];case 3:return s.sent(),jo(i),[4,r.DDt()];case 4:return s.sent(),jo(i),r.LDt&&(r.LDt._Ct()||r.LDt.cCt!==t)&&r.NDt(),r.BDt&&(r.BDt._Ct()||r.BDt.cCt!==t)&&r.MDt(),r.wo(new fG),jo(i),null==(e=r.LDt)||e.Eb(t),null==(u=r.BDt)||u.Eb(t),r.Q9=void 0,r.PDt(),[2]}}))}))()},i.uDt=function(t,n){var i,r,e=this;return(null==(i=this.LDt)?void 0:i.aat)===n&&(null==(r=this.BDt)?void 0:r.aat)===t?ut.resolve():(this.FDt.Yw(),this.FDt=new Jo,this.VDt=Yo((function(i){return e.WDt(t,n,e.VDt,i)}),this.FDt).catch(this.O6),this.VDt)},i.WDt=function(t,n,i,r){var e=this;return Zt((function(){return Ht(this,(function(u){switch(u.label){case 0:return i?[4,i]:[3,2];case 1:u.sent(),u.label=2;case 2:return[4,Go(e.wDt.Vb,r)];case 3:return u.sent(),jo(r),[4,e.DDt()];case 4:return u.sent(),jo(r),[4,e.UDt(t,n)];case 5:return u.sent(),[4,e.GDt(t,n)];case 6:return u.sent(),jo(r),e.VDt=void 0,e.PDt(),[2]}}))}))()},i.UDt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_;return Ht(this,(function(b){switch(b.label){case 0:return s=null!=(u=i.IDt)?u:"now",(null==(r=i.LDt)?void 0:r.aat)===n?[3,5]:(a=i.LDt&&!i.LDt._Ct(),c=null==(o=i.LDt)?void 0:o.cCt,i.LDt?[4,i.LDt.Hw()]:[3,2]);case 1:b.sent(),i.LDt=void 0,b.label=2;case 2:return i._Dt?[4,i._Dt.WIt]:[3,4];case 3:b.sent(),b.label=4;case 4:n&&(v=null!=(f=null==(h=i._Dt)?void 0:h.gR)?f:MA.mB(),l=a?c:v.jn(v.V-1),i.LDt=new TX(n,i.lW,i.qlt),i.LDt.yn(cX.KIt,(function(t){return i.HDt(im.fE,t)})),i.LDt.Eb(null!=l?l:s)),b.label=5;case 5:return(null==(e=i.BDt)?void 0:e.aat)===t?[3,10]:(g=i.BDt&&!i.BDt._Ct(),m=null==(d=i.BDt)?void 0:d.cCt,i.BDt?[4,i.BDt.Hw()]:[3,7]);case 6:b.sent(),i.BDt=void 0,b.label=7;case 7:return i.vDt?[4,i.vDt.WIt]:[3,9];case 8:b.sent(),b.label=9;case 9:t&&(y=null!=(p=null==(w=i.vDt)?void 0:w.gR)?p:MA.mB(),_=g?m:y.jn(y.V-1),i.BDt=new TX(t,i.lW,i.qlt),i.BDt.yn(cX.KIt,(function(t){return i.HDt(im._E,t)})),i.BDt.Eb(null!=_?_:s)),b.label=10;case 10:return[2]}}))}))()},i.GDt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(r=function(t,n,i,r,e){var u=qX(t,null==n?void 0:n.Ht.MCt.MCt,null==i?void 0:i.Ht.MCt.MCt,r),s=Ij(u),o=[];n&&o.push({Dk:n.Yq});i&&o.push({Dk:i.Yq});return{Aw:Sy.gW,u4:o,eH:s,b4:e&&!r}}(i.Cc.contentProtection,n,t,i.FB.XB.ZB,i.Cc.useManagedMediaSource),!i.jG||!i.jG.cJ(r))return[3,12];if(s=!(null==(e=i.LDt)?void 0:e._Ct()),!i._Dt||!s)return[3,5];h.label=1;case 1:return i._Dt.FIt?[4,i._Dt.WIt]:[3,3];case 2:return h.sent(),[3,1];case 3:return[4,i._Dt.aY()];case 4:h.sent(),h.label=5;case 5:if(o=!(null==(u=i.BDt)?void 0:u._Ct()),!i.vDt||!o)return[3,10];h.label=6;case 6:return(null==(a=i.vDt)?void 0:a.FIt)?[4,i.vDt.WIt]:[3,8];case 7:return h.sent(),[3,6];case 8:return[4,null==(c=i.vDt)?void 0:c.aY()];case 9:h.sent(),h.label=10;case 10:return[4,i.jG.dJ(r)];case 11:return h.sent(),[3,21];case 12:return i.NDt(),i.MDt(),i._Dt?[4,i._Dt.Hw()]:[3,14];case 13:h.sent(),i._Dt=void 0,h.label=14;case 14:return i.vDt?[4,i.vDt.Hw()]:[3,16];case 15:h.sent(),i.vDt=void 0,h.label=16;case 16:i.FB.u7(),h.label=17;case 17:return h.trys.push([17,,20,21]),[4,i.FB.er()];case 18:return h.sent(),[4,i.FB.Dn(r)];case 19:return i.jG=h.sent(),i.yDt.Ob(),i.jG.J3&&i.LDt&&(i.jG.J3.yn(jR.JQ,i.Ds),i._Dt=new oX(i.jG.J3,i.FB,n,i.EDt)),i.jG.t4&&i.BDt&&(i.jG.t4.yn(jR.JQ,i.Ds),i.vDt=new oX(i.jG.t4,i.FB,t,i.EDt)),"live"===i.tPt.o0&&i.jG.n4(1/0),[3,21];case 20:return i.FB.l7(),[7];case 21:return[2]}}))}))()},i.PDt=function(){!this.CDt||this.Q9||this.VDt||this.ZDt||this.XDt||(this.vZ.Cn(),this.zDt=new Jo,this.BDt&&this.vDt&&(this.ZDt=this.qDt(this.BDt,this.vDt,this.zDt.Vw).catch(this.O6)),this.LDt&&this._Dt&&(this.XDt=this.qDt(this.LDt,this._Dt,this.zDt.Vw).catch(this.O6)))},i.DDt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.vZ.EI(),t.zDt&&(t.zDt.Yw(),t.zDt=void 0),t.ZDt?[4,t.ZDt]:[3,2];case 1:n.sent(),t.ZDt=void 0,n.label=2;case 2:return t.XDt?[4,t.XDt]:[3,4];case 3:n.sent(),t.XDt=void 0,n.label=4;case 4:return[2]}}))}))()},i.qDt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:return[4,r.W];case 1:g.sent(),g.label=2;case 2:return t.FIt?[4,Go(t.WIt,i)]:[3,4];case 3:return g.sent(),[3,2];case 4:return n.FIt?[4,Go(n.WIt,i)]:[3,6];case 5:return g.sent(),[3,4];case 6:return t._Ct()?[3,13]:(e=qn.Vg()/1e3,u="now"===t.cCt,[4,t.vCt()]);case 7:return s=g.sent(),o=s.initialization,a=s.data,c=s.metadata,h={Aw:XR.tJ,qk:o},f=a?{Aw:XR.tJ,qk:a}:void 0,v=n.gR,!qn.Ys.tp&&!r.FB.XB.ZB&&c&&v.jn(v.V-1)>c.cit?[4,n.$S(c.cit,1/0)]:[3,9];case 8:g.sent(),g.label=9;case 9:return[4,n.w2(h)];case 10:return g.sent(),f?[4,n._2(f,c,t.aat)]:[3,12];case 11:g.sent(),g.label=12;case 12:l=n.gR.tB(v),u&&l.V>0&&r.bDt.AIt(e,l.jn(l.V-1)),g.label=13;case 13:return t.uCt?[3,15]:(jo(i),d=t.ACt(),[4,Go(n.appendStream(d,t),i)]);case 14:return g.sent(),[3,13];case 15:return[2]}}))}))()},i.Hw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.fW.Yw(),t.cpt?[4,t.cpt.catch(Ti)]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.Q9?(t.j9.Yw(),t.NDt(),t.MDt(),[4,t.Q9.catch(Ti)]):[3,4];case 3:n.sent(),n.label=4;case 4:return t.VDt?(t.FDt.Yw(),t.NDt(),t.MDt(),[4,t.VDt.catch(Ti)]):[3,6];case 5:n.sent(),n.label=6;case 6:return[4,t.DDt()];case 7:return n.sent(),t.LDt?[4,t.LDt.Hw()]:[3,9];case 8:n.sent(),n.label=9;case 9:return t.BDt?[4,t.BDt.Hw()]:[3,11];case 10:n.sent(),n.label=11;case 11:return t.LDt=void 0,t.BDt=void 0,t.yDt.Yw(),t.wDt.Yw(),t.jG?[4,t.FB.er()]:[3,13];case 12:n.sent(),t.jG=void 0,n.label=13;case 13:return t._Dt=void 0,t.vDt=void 0,t.FB.fn(Ey.VL,t.HB),t.FB.fn(lG,t.updateActiveQualities),t.aO.er(),t.mDt=void 0,t.cO.er(),t.gDt=void 0,t.tPt=void 0,t.TDt&&(t.TDt.Hw(),t.TDt=void 0),t.CDt=!1,[2]}}))}))()},xt(n,[{key:"WC",get:function(){return this.tPt}},{key:"gR",get:function(){return this._Dt&&this.vDt?this._Dt.gR.Sn(this.vDt.gR):this._Dt?this._Dt.gR:this.vDt?this.vDt.gR:MA.mB()}},{key:"VPt",get:function(){return this.mDt}},{key:"UPt",get:function(){return this.gDt}},{key:"ht",get:function(){return this.aO}},{key:"rt",get:function(){return this.cO}},{key:"pDt",get:function(){return this.wDt.Vb}},{key:"W",get:function(){return this.yDt.Vb}},{key:"rI",get:function(){return this.tPt?function(t,n,i){var r,e=null==(r=t.vPt[0])?void 0:r.SR,u=t.hPt;if(void 0===e||void 0===u)return i>0&&i<or?new MA([0,i],[!0,!0]):MA.mB();var s=n.CIt;if(!s){var o=HV(t.uPt).getTime()/1e3;s=e+(Date.now()/1e3-o)}return new MA([s-u,s],[!0,!0])}(this.tPt,this.bDt,this.FB.ct):MA.mB()}},{key:"FC",get:function(){return Ro([this.xDt,this.RDt].filter(Yn),(function(t){return t.theolive}))}},{key:"IDt",get:function(){var t=this.bDt.CIt;if(void 0!==t)return t}}]),n}(oa);U(),St(),Ct();var gG=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}Rt(n,t);var i=n.prototype;return i.YB=function(){var t=this.FB.gR;return 0===t.V?0:t.jn(t.V-1)-this.FB.SR},i.GC=function(){this.ea.GC()},i.TB=function(){return eX(t.prototype.TB.call(this))},i.KB=function(){return!qn.Ys.Jg},n}(VA),mG=[fa.Yy,fa.Xy,fa.sb,fa.Cy,fa.zy,fa.ob,fa.xy,fa.Ny,fa.Py],wG=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).QPt=void 0,s.aZ=!1,s.j9=new Jo,s.Q9=void 0,s.ixt=void 0,s.dNt=new Jo,s.Oit=!0,s.YDt=!1,s.aO=new oA,s.cO=new oA,s.qG=void 0,s.zG=void 0,s.eNt=nS.QH,s.vd=function(){var t=s.gR;t.length>0&&s.EDt.iW(t.start(0))},s.jDt=function(){s.FB.qR!==s.Oit&&(s.FB.qR?s.TI():s.kI().catch(Ti))},s.xX=function(){s.YDt=!0},s.oNt=function(t){s.qG=t.errorObject,s.zG=am(s.qG),s.sNt(s.qG)},s.QDt=function(t){s.qG=hm(t.lt),s.zG=t.lt,s.sNt(s.qG)},s.FB=n,s._H=new Ly(s.FB,!0),s.lW=i,s.tH=new KZ(r.xj,r.aj.yG),s.rH=new Pk(i),s.FB.gH=s.rH,s.EDt=new hV(s.FB),s.Ll=new Bk([s.FB.nt,s.EDt.Z]),s.bDt=new qZ,s.tNt=new LZ(s),s.mZ=e,s.qlt=u.retryConfiguration,s.gC(),s}Rt(n,t);var i=n.prototype;return i.gC=function(){this.FB.yn(mG,this.Ds),this.FB.yn(Ey.VL,this.xX),this.FB.yn([fa.ro,fa.Zy],this.jDt),this.FB.yn(zp.da,this.QDt),this.FB.yn(fa.sb,this.vd),this._H.yn(Iy,this.Ds)},i.vC=function(){this.FB.fn(mG,this.Ds),this.FB.fn(Ey.VL,this.xX),this.FB.fn([fa.ro,fa.Zy],this.jDt),this.FB.fn(zp.da,this.QDt),this.FB.fn(fa.sb,this.vd),this._H.fn(Iy,this.Ds)},i.xI=function(){return!1},i.bI=function(){return this.FB.Ca},i.Sa=function(){return this.FB.lH},i.LI=function(t){return this.FB.dH(t)},i.be=function(){this.FB.be()},i.ge=function(){return this.FB.ge()},i.CI=function(){},i.DI=function(){},i.RI=function(){},i.II=function(){},i.ER=function(t,n){var i=this;this.j9.Yw(),this.j9=new Jo,this.Q9=Yo((function(n){return i.J9(t,n,i.Q9)}),this.j9)},i.$Dt=function(){var t=this.WC;if(t){for(var n=new Date(t.creationDate).getTime(),i=NaN,r=0,e=t.presentations;r<e.length;r++){var u=e[r];u.currentTime&&(i=u.currentTime.value/(u.currentTime.scale||1)*1e3)}if(!E(i))return new Date(n-i)}},i.iNt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.eNt!==nS.QH&&t.QPt?(t.QPt.Dn(),t.eNt!==nS.jB&&t.eNt!==nS.pG?[3,2]:[4,t.QPt.pDt]):[2];case 1:n.sent(),"vod"===t.QPt.WC.o0&&t.QPt.Cn(),n.label=2;case 2:return[2]}}))}))()},i.xa=function(t,n,i){var r=this;return Zt((function(){var n,e;return Ht(this,(function(u){switch(u.label){case 0:return jo(i),[4,r.er()];case 1:return u.sent(),jo(i),aT(t)?(n=t,r.Cc=n,e=new OZ(r.lW),r.nNt=r.rNt(t),r.GG=new gG(r,r.FB,r.nNt),r.GG.Rt=!0,r.GG.yn("latencyrecoveryseek",r.Ds),r.pI.Ma(r.GG),r.QPt=new dG(n,e,r.FB,r.tH,r.lW,r.bDt,r.GG,r.qlt,r,r.EDt),r.QPt.yn(fa.Vy,r.Ds),r.QPt.yn(zp.da,r.oNt),r.aO.fC=r.QPt.ht,r.cO.fC=r.QPt.rt,r.rH.SG(t.contentProtection),ta(r.iNt()),[2]):(r.qG=new sl(el.SOURCE_INVALID,"HESP source incorrectly configured"),r.zG=am(r.qG),r.sNt(r.qG),[2,ut.resolve()])}}))}))()},i.rNt=function(t){return t.latencyConfiguration?t.latencyConfiguration:uX()},i.kI=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return t.QPt?(t.Oit=!1,t.QPt.Dn(),[4,t.QPt.W]):[2];case 1:return r.sent(),t.wo(new yT(t.SR)),i=t.QPt.vy(vG.PZ),t.GC(),[4,i];case 2:return r.sent(),t.QPt.Cn(),[4,t.FB.kI()];case 3:return r.sent(),null==(n=t.GG)||n.Cn(),[2]}}))}))()},i.TI=function(){var t;this.QPt&&(this.Oit=!0,this.wo(new pT(this.SR)),this.QPt.EI(),null==(t=this.GG)||t.EI(),this.FB.TI())},i.GC=function(){var t=this;if(this.ixt)throw new y("Cannot seek while resetting");this.j9.Yw(),this.j9=new Jo,this.Q9=Yo((function(n){return t.ODt(t.Q9,n)}),this.j9)},i.hNt=function(){var t;null==(t=this.QPt)||t.EI()},i.sNt=function(t){this.wo(new Ek(t)),this.hNt()},i.J9=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(r.ixt)throw new y("Cannot seek while resetting");return u=t,r.aNt(u),r.rI.length>0&&(u=MA.xn(r.rI).qL(u),r.aNt(u)),r.QPt?i?[4,i.catch(Ti)]:[3,2]:[2];case 1:a.sent(),jo(n),a.label=2;case 2:(null==(e=r.GG)?void 0:e.gB)&&r.GG.EI(),a.label=3;case 3:return a.trys.push([3,5,,6]),s=r.FB.vy(fa.Ky,n),r.FB.Eb(u),r.QPt.Eb(u),[4,s];case 4:return a.sent(),[3,6];case 5:throw Zo(o=a.sent()),r.QPt.EI(),r.uNt(),o;case 6:return r.cNt(),[2]}}))}))()},i.ODt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return i.wo(new ha("golive")),r=i.IDt,i.aNt(r),i.QPt?t?[4,t.catch(Ti)]:[3,2]:[2];case 1:f.sent(),jo(n),f.label=2;case 2:return f.trys.push([2,11,,13]),e=i.GG.pB.targetOffset,[4,i.QPt.pDt];case 3:f.sent(),r&&e>=1?(i.GG.KB()||(s=A.min(1,.5*e),e-=s),u=r-e):u=i.IDt?i.IDt-.2:void 0,i.QPt.GC(u),f.label=4;case 4:return i.Skt.V>0?[4,i.QPt.vy(jR.JQ,n)]:[3,6];case 5:return f.sent(),[3,4];case 6:o=i.Skt,f.label=7;case 7:return 0!==i.Skt.tB(o).V?[3,9]:[4,i.QPt.vy(jR.JQ,n)];case 8:return f.sent(),[3,7];case 9:return u=i.Skt.Cn(i.Skt.V-1),u=i.lNt(u),i.aNt(u),a=i.FB.vy(fa.Ky,n),i.FB.Eb(u,!0),[4,a];case 10:return f.sent(),[3,13];case 11:if(Wo(c=f.sent()))throw null==(h=i.GG)||h.Cn(),c;return i.QPt.EI(),[4,i.QPt.ADt()];case 12:throw f.sent(),i.uNt(),c;case 13:return i.cNt(),[2]}}))}))()},i.aNt=function(t){this.aZ=!0,this.JDt=t,this.wo(new AT(this.SR))},i.cNt=function(){this.aZ&&(this.JDt=void 0,this.aZ=!1,this.wo(new TT(this.SR)))},i.uNt=function(){this.JDt=void 0,this.aZ=!1},i.lNt=function(t){return t},i.sxt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return jo(i),t?[4,t.catch(Ti)]:[3,2];case 1:u.sent(),u.label=2;case 2:return n?[4,n.catch(Ti)]:[3,4];case 3:u.sent(),u.label=4;case 4:return[4,r.EDt.er()];case 5:return u.sent(),null==(e=r.GG)||e.EI(),r.QPt?[4,r.QPt.Hw()]:[3,7];case 6:u.sent(),r.QPt=void 0,u.label=7;case 7:return jo(i),[4,r.FB.er()];case 8:return u.sent(),jo(i),r.FB.fH(),r.cO.er(),r.aO.er(),r.uNt(),r._H.er(),r.bDt.er(),r.qG=void 0,r.zG=void 0,r.Oit=!0,r.YDt=!1,r.Cc=void 0,r.ixt=void 0,r.nNt=void 0,[2]}}))}))()},i.er=function(){return this.j9.Yw(),this.j9=new Jo,this.dNt.Yw(),this.dNt=new Jo,this.ixt=this.sxt(this.Q9,this.ixt,this.dNt.Vw),this.ixt},i.gn=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return t.vC(),t._H.gn(),t.Cc?[4,t.er()]:[3,2];case 1:r.sent(),r.label=2;case 2:return t.$o(),t.FB.gH=void 0,null==(n=t.GG)||n.fn("latencyrecoveryseek",t.Ds),null==(i=t.GG)||i.Hw(),[4,t.EDt.gn()];case 3:return r.sent(),t.Ll.gn(),t.aO.gn(),t.cO.gn(),[2]}}))}))()},xt(n,[{key:"ht",get:function(){return this.aO}},{key:"rt",get:function(){return this.cO}},{key:"WC",get:function(){var t,n;return null==(n=this.QPt)||null==(t=n.WC)?void 0:t.WC}},{key:"vI",get:function(){return this.FB.vI},set:function(t){this.FB.vI=t}},{key:"yI",get:function(){return!1},set:function(t){}},{key:"$G",get:function(){return this.tH}},{key:"GR",get:function(){return this.FB.GR},set:function(t){this.FB.GR=t}},{key:"SR",get:function(){var t;return null!=(t=this.JDt)?t:this.FB.SR},set:function(t){this.ER(t)}},{key:"wR",get:function(){var t=this.$Dt();if(t)return new Date(t.getTime()+1e3*this.SR)},set:function(t){var n=this.$Dt();t&&n&&(this.SR=n.getTime()-t.getTime())}},{key:"bt",get:function(){return this.Cc}},{key:"KR",get:function(){return this.FB.KR},set:function(t){this.FB.KR=t}},{key:"ct",get:function(){var t=this.FB.ct;return t===or?1/0:t}},{key:"RR",get:function(){return!1}},{key:"DR",get:function(){return this.qG}},{key:"lt",get:function(){return this.zG}},{key:"MR",get:function(){return this.tNt}},{key:"OR",get:function(){return!1}},{key:"WR",get:function(){return us({},{dO:0,fO:0,_O:0,vO:0,mO:0,gO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.FB.UR())}},{key:"XR",get:function(){return!0}},{key:"hI",get:function(){return this.aZ}},{key:"QG",get:function(){}},{key:"nt",get:function(){return this.Ll}},{key:"cI",get:function(){return this.FB.cI}},{key:"fI",get:function(){return this.FB.fI}},{key:"gR",get:function(){return this.Skt.ks()}},{key:"Skt",get:function(){return this.QPt?this.QPt.gR:MA.mB()}},{key:"JR",get:function(){return this.FB.JR.ks()}},{key:"rI",get:function(){var t,n;return null!=(n=null==(t=this.QPt)?void 0:t.rI.ks())?n:MA.mB().ks()}},{key:"qR",get:function(){return this.Oit}},{key:"VC",get:function(){return!0}},{key:"pI",get:function(){return this.mZ}},{key:"IDt",get:function(){var t;return null==(t=this.QPt)?void 0:t.IDt}},{key:"qB",get:function(){if(!this.qR&&this.YDt){var t=this.SR,n=this.bDt.PIt(t);if(void 0!==n){var i=this.Skt,r=0;if(i.V>0){var e=i.jn(i.V-1);r=A.max(e-t,0)}return A.max(n,r)}}}},{key:"FC",get:function(){var t;return null==(t=this.QPt)?void 0:t.FC}},{key:"sI",get:function(){return this.FB.sI}},{key:"tI",get:function(){return this.eNt},set:function(t){this.eNt=t,this.iNt()}}]),n}(oa),pG=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,s)||this).gNt=!1,o.fNt=!1,o.vNt=[],o.mNt=void 0,o.pNt=function(){var n=o.GR||0===o.vI;"hidden"===v.visibilityState&&!o.qR&&n?(o.TI(),o.gNt=!0):"visible"===v.visibilityState&&o.gNt&&(o.fNt=!0,o.mNt=qn.Ug((function(){for(var n=0,i=o.vNt;n<i.length;n++){var r=i[n];t.prototype.wo.call(qj(o),r)}o.mNt=void 0,o.fNt=!1}),2e3),ta(o.kI()),o.gNt=!1)},o.wH=u,o.wNt=n,Gn.Lg&&v.addEventListener("visibilitychange",o.pNt),o}Rt(n,t);var i=n.prototype;return i.wo=function(n){if(this.fNt){if(n.type===fa.Ky)return void this._Nt();if(n.type===Ey.FL||n.type===fa.jy||n.type===Ey.VL)return void this.vNt.push(n)}t.prototype.wo.call(this,n)},i._Nt=function(){this.fNt=!1,void 0!==this.mNt&&qn.Wg(this.mNt);var n=go(this.vNt,(function(t){return t.type===Ey.VL}));n&&t.prototype.wo.call(this,n),So(this.vNt)},i.AI=function(){if(qB(this.FB))return this.FB.AI()},i.er=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.gNt=!1,n._Nt(),[4,t.prototype.er.call(n)];case 1:return i.sent(),[2]}}))}))()},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return v.removeEventListener("visibilitychange",n.pNt),n._Nt(),[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.FB.Hw()];case 2:return i.sent(),[4,n.wH.pH(n.wNt)];case 3:return i.sent(),[2]}}))}))()},i.lNt=function(t){return Gn.$m&&Gn.rg>=15&&Gn.Yv?t+.25:t},n}(wG);U(),St(),Gt(),Dt(),Jt();var yG=function(){function t(){}var n=t.prototype;return n.BH=function(t,n){return Zt((function(){return Ht(this,(function(n){return[2,_G(t.type)]}))}))()},n.OH=function(t){return Zt((function(){return Ht(this,(function(n){return[2,N_(t)]}))}))()},xt(t,[{key:"VH",get:function(){return Nk.jC}}]),t}();function _G(t){if(!t)return!1;var n=t.toLowerCase();return Zs(n,pA.KC)||Zs(n,pA.jC)}var bG=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.hP=function(t,n,i,r,e,u,s){var o=new lO(n),a=o.LH(im._E);return new pG(a,i,e,u,o,r)},i.BH=function(n,i){return qn.$x&&Fl?Gn.IS_IOS_CHROME||Gn.Im&&Gn.Pm<6?ut.resolve(!1):Ur(n.useManagedMediaSource)?t.prototype.BH.call(this,n,i):ut.resolve(!1):ut.resolve(!1)},i.FH=function(){return!1},n}(yG);KT(new bG),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt();var kG=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,s)||this).wH=u,o}Rt(n,t);var i=n.prototype;return i.AI=function(){if(qB(this.FB))return this.FB.AI()},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.wH.pH(n.FB)];case 2:return i.sent(),[2]}}))}))()},n}(wG),AG=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.BH=function(n,i){var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return Gn.IS_IOS_CHROME?[2,!1]:[4,t.prototype.BH.call(r,n,i)];case 1:if(s=a.sent(),!(null!=(o=null==(u=Di())||null==(e=u.canPlayType)?void 0:e.call(u,pA.zC))?o:"")||!s||!("serviceWorker"in d))return[2,!1];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,ea(d.serviceWorker.ready,1e3)];case 3:return a.sent(),[2,!0];case 4:return a.sent(),[2,!1];case 5:return[2]}}))}))()},i.OH=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return n.fairplay?[4,t.prototype.OH.call(i,n)]:[2,!1];case 1:return[2,r.sent()]}}))}))()},i.hP=function(t,n,i,r,e,u,s){if(t instanceof HTMLDivElement){var o=n.qnt(im._E);return new kG(o,i,e,u,n,r)}throw new sl(el.CONFIGURATION_ERROR,"Container Div element expected.")},i.FH=function(){return!1},xt(n,[{key:"VH",get:function(){return Nk.gG}}]),n}(yG);Gn.$m&&Gn.iu&&KT(new AG),U(),St(),U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt();var TG="theo_live_user_id",SG=function(){function t(t){this.externalId=t,this.id=$E(),this.userId=EG(),this.iS=0}return t.prototype.incrementSequenceNumber=function(){this.iS+=1},xt(t,[{key:"sequenceNumber",get:function(){return this.iS}}]),t}();function EG(){try{var t=localStorage.getItem(TG);if(t)return t;var n=$E();return localStorage.setItem(TG,n),n}catch(t){return $E()}}U(),St(),Gt(),Dt(),Ct(),Jt();var IG=function(){function t(t,n){this.lW=t,this.yNt=new Map,this.bNt=n}return t.prototype.mgt=function(t){var n=this.yNt.get(t.id);if(n)return n;var i=new RG(t,this.lW,this.bNt);return this.yNt.set(t.id,i),i},t}(),RG=function(){function t(t,n,i){this.ZS=t,this.lW=n,this.xNt=new Dl,i.discoveryHeader&&this.xNt.append("x-theolive-discovery",i.discoveryHeader),this.tr()}var n=t.prototype;return n.tr=function(){var t=this;this.TNt=!1,this.SNt=pr(),this.kNt=this.eTt(),this.kNt.catch((function(){return t.TNt=!0}))},n.eTt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return n=t.ZS,i=n.id,r=n.discovery,e=n.devDiscovery,Xs(r.pathname,"manifest.json")?[2,CG(t.ZS)]:[4,t.ENt(i,r,t.xNt)];case 1:return(u=v.sent())||void 0===e?[3,3]:[4,t.ENt(i,e,t.xNt)];case 2:u=v.sent(),v.label=3;case 3:if(!u)throw new xG(i);if(s=u.mode,o=u.status,a=u.fallback,c=u.metadata,"locked"===s)throw new DG(i);if("deleted"===o)throw new PG(i);return h={id:t.ZS,name:c.name,mode:s,status:o,source:MG(u)},a?[4,t.RNt(a,r,e,t.xNt)]:[3,5];case 4:return f=v.sent(),[3,6];case 5:f=void 0,v.label=6;case 6:return[2,(h.fallback=f,h.insights=null==c?void 0:c.insights,h.enhancedLogging=null==c?void 0:c.enhancedLogging,h.customization=null==c?void 0:c.customization,h.sseEndpoint=u.sseEndpoint,h)]}}))}))()},n.RNt=function(t,n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return"theo.live"!==t.type?[2,{src:t.src,type:t.type}]:[4,e.ENt(t.src,n,r)];case 1:return(u=s.sent())||void 0===i?[3,3]:[4,e.ENt(t.src,i,e.xNt)];case 2:u=s.sent(),s.label=3;case 3:return u?[2,MG(u)]:[2,void 0]}}))}))()},n.ENt=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,r.lW.Kk({Gu:qn.Nh(t,n.toString()).toString(),jk:i})];case 1:return[4,e.sent().xk()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))()},xt(t,[{key:"ANt",get:function(){return pr()-this.SNt>36e5}},{key:"Gtt",get:function(){return(this.TNt||this.ANt)&&this.tr(),this.kNt}}]),t}();function CG(t){return{id:{id:t.id,discovery:qn.Nh("dev://"),devDiscovery:void 0},name:"demo",mode:"demo",status:"playing",source:{src:t.id,type:"theo.live"},customization:{autoplay:!0}}}var NG=function(t){function n(n,i,r){var e;return(e=t.call(this,n,"Could not load channel with id "+i+": "+r)||this).channelId=i,e.reason=r,e}return Rt(n,t),n}(sl),xG=function(t){function n(n){return t.call(this,el.THEO_LIVE_CHANNEL_NOT_FOUND,n,"The channel could not be found")||this}return Rt(n,t),n}(NG),DG=function(t){function n(n){return t.call(this,el.THEO_LIVE_CHANNEL_NOT_FOUND,n,"This account has been locked")||this}return Rt(n,t),n}(NG),PG=function(t){function n(n){return t.call(this,el.THEO_LIVE_CHANNEL_NOT_FOUND,n,"The channel got deleted")||this}return Rt(n,t),n}(NG);function MG(t){var n;return{src:t.hespSrc,type:"theo.live",hlsSrc:t.hlsSrc,targetLatency:null==(n=t.metadata.customization)?void 0:n.targetLatency,contentProtection:t.drmConfig?BG(t.drmConfig):void 0}}function BG(t){var n=t.integration,i=t.widevine,r=t.playready,e=t.fairplay;return us({integration:n},i&&{widevine:{licenseAcquisitionURL:i.licenseUrl}},r&&{playready:{licenseAcquisitionURL:r.licenseUrl}},e&&{fairplay:{licenseAcquisitionURL:e.licenseUrl,certificateURL:e.certificateUrl}})}function OG(t,n,i){return{id:t,discovery:qn.Nh(t,n),devDiscovery:i?qn.Nh(t,i):void 0}}U(),St(),ct(),U(),St();var LG=function(t){return t.STARTING="s",t.PLAYING="p",t.SEEKING="k",t.REBUFFERING="r",t.PAUSED="a",t.ENDED="e",t.QUIT="q",t}({}),FG=function(t){return t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.OTHER="o",t}({});function VG(t){return 100*A.round(t/100)}function UG(t){for(var n=t.kR(),i=t.pR(),r=0;r<i.length;r++)if(i.start(r)<=n&&n<=i.end(r))return 1e3*(i.end(r)-n);return 0}function WG(t){return go(t.uC,(function(t){return t.Rt}))}function jG(t){return t.IC.lC(0)}function ZG(t){return t.IC.lC(t.IC.V-1)}U(),St(),Dt(),U(),St();var XG=function(){function t(t,n,i,r){var e,u,s,o;this.INt=Date.now(),this.DNt=0,this.MNt=0,this.JG=0,this.LNt=0,this.PNt=0,this.bp=t,this.ea=n,this.BNt=null==(u=WG(this.ea.rt))||null==(e=u.EC)?void 0:e.o,this.ONt=null==(o=WG(this.ea.ht))||null==(s=o.EC)?void 0:s.o,this.cf=i,this.zG=r}var n=t.prototype;return n.CNt=function(){var t=this.ea.HX.aj.wG,n=this.ea.pI.qB,i=UG(this.ea);t>0&&void 0!==i&&void 0!==n&&(this.PNt+=1,this.DNt=this.NNt(this.DNt,i),this.MNt=this.NNt(this.MNt,1e3*this.ea.pI.bd.targetOffset),this.JG=this.NNt(this.JG,1e3*n),this.LNt=this.NNt(this.LNt,t/1e3))},n.NNt=function(t,n){return t+(n-t)/this.PNt},n.hP=function(){var t={sta:this.bp,ts:this.INt,"theo-vt":this.BNt,"theo-at":this.ONt,"theo-d":this.ct,"theo-r":this.cf};return this.PNt>0?us({},t,{bl:VG(this.DNt),tbl:VG(this.MNt),ltc:VG(this.JG),mtp:VG(this.LNt),"theo-w":this.PNt}):t},n.FNt=function(){return new t(this.bp,this.ea,this.cf)},t.starting=function(n,i,r){return new t(LG.STARTING,n,i,r)},t.playing=function(n){return new t(LG.PLAYING,n)},t.seeking=function(n,i){return new t(LG.SEEKING,n,i)},t.rebuffering=function(n,i){return new t(LG.REBUFFERING,n,i)},t.paused=function(n){return new t(LG.PAUSED,n)},t.ended=function(n){return new t(LG.ENDED,n)},t.quit=function(n){return new t(LG.QUIT,n)},xt(t,[{key:"ct",get:function(){return Date.now()-this.INt}}]),t}(),GG=function(){function t(t,n,i){var r=this;this.qNt=[],this.YDt=!1,this.WX=!1,this.$Nt=function(){var t;r.YNt(XG.starting(r.ea,"fallback",null==(t=r.ea.NR())?void 0:t.message))},this.tMt=function(){r.YNt(XG.starting(r.ea,"loadChannel"))},this.eMt=function(){r.YNt(XG.ended(r.ea))},this.VG=function(t){t.Ht.yn(Rg.rC,r.Kr)},this.Kr=function(){var t,n,i,e,u=null==(n=WG(r.ea.rt))||null==(t=n.EC)?void 0:t.o,s=null==(e=WG(r.ea.ht))||null==(i=e.EC)?void 0:i.o;u&&s&&(r.WNt&&r.WNt.bp===LG.PLAYING&&r.WNt.BNt===u&&r.WNt.ONt===s||r.YNt(XG.playing(r.ea)))},this.HB=function(){r.YDt=!0,r.WX=!1,r.YNt(XG.playing(r.ea))},this.QNt=function(){r.YDt&&!r.WX&&(r.WX=!0,r.YNt(XG.seeking(r.ea,"latencyRecovery")))},this.JNt=function(){r.YDt&&!r.WX&&(r.WX=!0,r.YNt(XG.seeking(r.ea,"goLive")))},this.GB=function(){r.ea.hI||r.YNt(XG.rebuffering(r.ea,"visible"===v.visibilityState?void 0:"invisible"))},this.jNt=function(){r.YNt(XG.paused(r.ea))},this.iMt=function(t){var n=qn.Nh(t.url),i=function(t){var n=t.pathname;if(Xs(n,"manifest.json"))return FG.MANIFEST;if(js(n,"/video/"))return FG.VIDEO;if(js(n,"/audio/"))return FG.AUDIO;return FG.OTHER}(n);if("o"!==i){r.UNt.incrementSequenceNumber();var e=us({},t.headers,{"CMCD-Request":r.VNt(),"CMCD-Object":r.GNt(i),"CMCD-Status":r.HNt(),"CMCD-Session":r.ZNt()});i===FG.VIDEO&&Xs(n.pathname,".hspc")&&r.WNt&&(r.YNt(r.WNt.FNt()),e=us({},e,r.zNt())),t.redirect(us({},t,{headers:e}))}},this.KNt=function(){r.WNt&&(r.qNt.push(r.WNt.hP()),r.WNt=void 0),r.qNt.push(XG.quit(r.ea).hP()),ta(r.ea.lR.Kk({Gu:r.nMt,jk:r.zNt(),CE:!0}))},this.ea=t,this.XNt=n,this.UNt=i,this.nMt=qn.Nh("bye",n.source.src).href,f.addEventListener("beforeunload",this.KNt),this.ea.yn(Ey.VL,this.HB),this.ea.yn(Ey.FL,this.GB),this.ea.yn(fa.Zy,this.jNt),this.ea.MR.yn("latencyrecoveryseek",this.QNt),this.ea.MR.yn("golive",this.JNt),this.ea.HX.JK(this.iMt),this.ea.rt.yn(Ag.OI,this.VG),this.ea.ht.yn(Ag.OI,this.VG),this.ea.Ist.addEventListener("intenttofallback",this.$Nt),this.ea.Ist.addEventListener("publicationloadstart",this.tMt),this.ea.Ist.addEventListener("publicationoffline",this.eMt),this.WNt=XG.starting(this.ea,"loadchannel"),this.sMt=qn.Wp((function(){var t;null==(t=r.WNt)||t.CNt()}),1e3)}var n=t.prototype;return n.VNt=function(){var t,n=this.ea.pI.qB,i=UG(this.ea),r=this.ea.HX.aj.wG;return HG({bl:i?VG(i):void 0,tbl:VG(1e3*this.ea.pI.bd.targetOffset),ltc:n?VG(n):void 0,mtp:r?VG(r/1e3):void 0,sta:null==(t=this.WNt)?void 0:t.bp,su:!this.YDt||void 0,"theo-sq":this.UNt.sequenceNumber})},n.GNt=function(t){var n,i,r=function(t,n){switch(n){case FG.VIDEO:return WG(t.rt);case FG.AUDIO:return WG(t.ht)}}(this.ea,t);return HG({br:(null==r||null==(n=r.EC)?void 0:n.wG)?VG((null==r||null==(i=r.EC)?void 0:i.wG)/1e3):void 0,ot:t,tb:r?VG(ZG(r).wG/1e3):void 0,lb:r?VG(jG(r).wG/1e3):void 0})},n.HNt=function(){return HG({"theo-cw":this.ea.we.clientWidth,"theo-ch":this.ea.we.clientHeight})},n.ZNt=function(){var t;return HG({sf:"e",sid:this.UNt.id,st:"l",v:2,"theo-eid":null==(t=this.UNt.externalId)?void 0:t.substring(0,128),"theo-cn":this.XNt.name.substring(0,128),"theo-v":"9.2.0","theo-t":"web","theo-u":this.UNt.userId})},n.zNt=function(){var t={"CMCD-States":btoa(JSON.stringify(this.qNt))};return this.qNt=[],t},n.YNt=function(t){this.WNt&&this.qNt.push(this.WNt.hP()),this.WNt=t},n.destroy=function(){var t=this;this.KNt(),f.removeEventListener("beforeunload",this.KNt),this.ea.fn(Ey.VL,this.HB),this.ea.fn(Ey.FL,this.GB),this.ea.fn(fa.Zy,this.jNt),this.ea.MR.fn("latencyrecoveryseek",this.QNt),this.ea.MR.fn("golive",this.JNt),this.ea.rt.fn(Ag.OI,this.VG),this.ea.ht.fn(Ag.OI,this.VG),this.ea.rt.uC.forEach((function(n){return n.fn(Rg.rC,t.Kr)})),this.ea.ht.uC.forEach((function(n){return n.fn(Rg.rC,t.Kr)})),this.ea.Ist.removeEventListener("intenttofallback",this.$Nt),this.ea.Ist.removeEventListener("publicationloadstart",this.tMt),this.ea.Ist.removeEventListener("publicationoffline",this.eMt),this.ea.HX.ej(this.iMt),qn.Up(this.sMt)},t}();function HG(t){return k.keys(t).map((function(n){return function(t,n){switch(void 0===n?"undefined":W(n)){case"boolean":return n?t:t+"=false";case"number":return t+"="+n;case"string":return t+'="'+n+'"';default:return}}(n,t[n])})).filter(Boolean).sort().join(",")}U(),St(),Gt(),Dt(),Ct(),Jt();var zG=function(t){function n(n){var i;return(i=t.call(this,"publicationloadstart")||this).publicationId=n,i}return Rt(n,t),n}(ha),YG=function(t){function n(n){var i;return(i=t.call(this,"publicationoffline")||this).publicationId=n,i}return Rt(n,t),n}(ha),KG=function(t){function n(n,i){var r;return(r=t.call(this,"publicationloaded")||this).publicationId=n,r.channelName=i,r}return Rt(n,t),n}(ha),qG=function(t){function n(){return t.call(this,"intenttofallback")||this}return Rt(n,t),n}(ha),JG=function(t){function n(){return t.call(this,"enterbadnetworkmode")||this}return Rt(n,t),n}(ha),QG=function(t){function n(){return t.call(this,"exitbadnetworkmode")||this}return Rt(n,t),n}(ha),$G=function(t){function n(n){var i;return(i=t.call(this)||this).ea=n,i}return Rt(n,t),n.prototype.oMt=function(t){return this.ea.oMt(t)},xt(n,[{key:"ka",get:function(){return this.su||(this.su=function(t){return{addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)},get badNetworkMode(){return t.rMt},set badNetworkMode(n){t.rMt=n},preloadPublications:function(n){return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.oMt(n)];case 1:return[2,i.sent().map((function(t){return{name:t.name}}))]}}))}))()}}}(this)),this.su}},{key:"rMt",get:function(){return this.ea.rMt},set:function(t){this.ea.rMt=t}}]),n}(oa);var tH=8e5,nH=function(t){function n(n,i){var r,e,u,s;r=t.call(this,n,i)||this,e=r,r.CDt=!1,r.WT=new Jo,r.uMt=void 0,r.YDt=!1,r.RMt=[],r.dMt=!1,r.VG=function(t){var n,i=t.Ht;i.yn(Rg.rC,r.Kr);var e=iH(null!=(n=i.DC)?n:i.IC.uC);i.DC=e.length>0?e:iH(i.IC.uC)},r.Kr=function(t){var n,i=t.aat;(!i||(null!=(n=i.xyt)?n:i.wG)>=tH)&&r._Mt()},r.QNt=Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return e.fMt(),e.RMt.push(qn.Vg()),e.RMt=e.RMt.filter((function(t){return qn.Vg()-t<=3e5})),e.RMt.length>=3?(e.RMt=[],[4,e.yMt(!0)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))})),r.cMt=Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return e.gMt?[4,e.gMt.Gtt]:[2];case 1:return"demo"!==t.sent().mode?[3,3]:(e.gMt.tr(),[4,e.gMt.Gtt]);case 2:if("playing"!==t.sent().status)return e.wo(new Ek(new sl(el.THEO_LIVE_END_OF_DEMO,"This demo channel has been stopped automatically after 5 minutes"))),[2];t.label=3;case 3:return[4,e.yMt(!0)];case 4:return t.sent(),[2]}}))})),r.pMt=function(t){if("manifest"===t.type||"segment"===t.type||""===t.type){var n=qn.Nh(t.url);n.searchParams.append("enhancedLogging","true"),t.redirect({url:n.toString()})}},r.lMt=new $G(r);var o,a,c,h=n.bd.theoLive;return r.mMt={sessionId:null!=(o=null==h?void 0:h.sessionId)?o:$E(),userId:null!=(a=null==h?void 0:h.userId)?a:EG(),externalSessionId:null==h?void 0:h.externalSessionId,analyticsEnabled:!1!==(null==h?void 0:h.analyticsEnabled),fallbackEnabled:!1!==(null==h?void 0:h.fallbackEnabled),discoveryUrl:null!=(c=null==h?void 0:h.discoveryUrl)?c:"https://discovery.theo.live/channels/",devDiscoveryUrl:undefined},r.UNt=new SG(null==(u=r.mMt)?void 0:u.externalSessionId),r.vMt=new IG(n.lR,{discoveryHeader:null==(s=r.mMt)?void 0:s.discoveryHeader}),r.ea.MR.yn("latencyrecoveryseek",r.QNt),r}Rt(n,t);var i=n.prototype;return i.hMt=function(){this.ea.MR.yn("latencyrecoveryseek",this.QNt),this.ea.rt.yn(Ag.OI,this.VG)},i.aMt=function(){this.ea.MR.fn("latencyrecoveryseek",this.QNt),this.ea.rt.fn(Ag.OI,this.VG)},i.MI=function(n){var i=this;return this.CDt?n.type===Ey.VL?(void 0!==this.uMt?(qn.Wg(this.uMt),this.uMt=void 0,this.YDt||this.wo(new By(this.kR()))):this.wo(new By(this.kR())),this.YDt=!0,!0):n.type===Ey.FL?(this.uMt||(this.uMt=qn.Ug((function(){i.wo(new Dy(i.kR())),i.uMt=void 0}),100)),!0):"error"===n.type?(ta(this.cMt()),!0):t.prototype.MI.call(this,n):t.prototype.MI.call(this,n)},i.Cst=function(){return this.lMt.ka},i.fMt=function(){if(!this.dMt&&(this.dMt=!0,this.lMt.wo(new JG),0!==this.ea.rt.V)){var t,n=this.rt.lC(0),i=No(n.IC.uC,(function(t){return t.wG}));(null!=(t=i.xyt)?t:i.wG)<tH?(n.DC=[i],ut.resolve().then((function(){return n.DC=n.IC.uC.slice()}))):this._Mt()}},i._Mt=function(){if(this.dMt&&(this.dMt=!1,this.lMt.wo(new QG),0!==this.ea.rt.V)){var t,n=this.ea.rt.lC(0),i=iH(null!=(t=n.DC)?t:n.IC.uC);n.DC=i.length>0?i:iH(n.IC.uC)}},i.oMt=function(t){var n=this;return ut.all(t.map(Zt((function(t){return Ht(this,(function(i){switch(i.label){case 0:return[4,Go(n.vMt.mgt(OG(t,n.mMt.discoveryUrl,n.mMt.devDiscoveryUrl)).Gtt,n.WT.Vw)];case 1:return[2,i.sent()]}}))}))))},i.addSseEndpointToSource=function(t){var n;if(t&&(null==(n=this.Cc)?void 0:n.ads))for(var i=0,r=this.Cc.ads;i<r.length;i++){var e,u=r[i];if("theoads"===u.integration)null!=(e=u).sseEndpoint||(e.sseEndpoint=t)}},i.xa=function(n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,l;return Ht(this,(function(d){switch(d.label){case 0:r.CDt=!1,u=0,s=null!=(e=null==n?void 0:n.sources)?e:[],d.label=1;case 1:if(!(u<s.length))return[3,10];if(!gT(o=s[u])||o.type!==pA.JC)return[3,8];if(void 0===o.src)return[3,9];r.hMt(),r.CDt=!0,r.lMt.wo(new zG(o.src)),a=OG(o.src,r.mMt.discoveryUrl,r.mMt.devDiscoveryUrl),c=r.lMt.vy("publicationloaded"),d.label=2;case 2:return d.trys.push([2,5,,6]),r.Cc=n,r.JH=o,r.gMt=r.vMt.mgt(a),[4,r.gMt.Gtt];case 3:return h=d.sent(),r.addSseEndpointToSource(h.sseEndpoint),(null==(f=h.enhancedLogging)?void 0:f.enabled)&&A.random()<=f.percentage&&r.ea.HX.JK(r.pMt),r.mMt.analyticsEnabled&&"theo.live"===h.source.type&&(r.wMt=new GG(r,h,r.UNt)),[4,Go(r.yMt(r.ea.bO),i)];case 4:return d.sent(),[3,6];case 5:throw v=d.sent(),r.l9(),r.dispatchErrorEvent(v),v;case 6:return[4,Go(c,i).catch(Zo)];case 7:return d.sent(),[2];case 8:if("web"===Dn.Cv&&(null==n?void 0:n.contentProtection)&&(!gT(o)||o.type!==pA.jC))throw l=new sl(el.CONFIGURATION_ERROR,"Content protection is not supported for this source type"),r.dispatchErrorEvent(l),l;d.label=9;case 9:return u++,[3,1];case 10:return[4,t.prototype.xa.call(r,n,i)];case 11:return[2,d.sent()]}}))}))()},i.yMt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return n.l9(),n.gMt?[4,n.gMt.Gtt]:[2];case 1:return i=e.sent().source,[4,n.bMt(i)];case 2:if("live"!==(r=e.sent()))return[3,11];if("primary"!==n.AMt)return[3,8];e.label=3;case 3:return e.trys.push([3,5,,7]),[4,n.SMt(t)];case 4:return e.sent(),[3,7];case 5:return e.sent(),[4,n.TMt(t)];case 6:return e.sent(),[3,7];case 7:return[3,10];case 8:return[4,n.TMt(t)];case 9:e.sent(),e.label=10;case 10:return[3,17];case 11:return"offline"!==r?[3,13]:[4,n.eMt()];case 12:return e.sent(),[3,17];case 13:return e.trys.push([13,15,,17]),[4,n.SMt(t)];case 14:return e.sent(),[3,17];case 15:return e.sent(),[4,n.eMt()];case 16:return e.sent(),[3,17];case 17:return[2]}}))}))()},i.bMt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n.ea.lR.Kk({Gu:t.src})];case 1:return(i=r.sent()).zk>=200&&i.zk<300?[2,"live"]:404===i.zk||503===i.zk?[2,"offline"]:[2,"error"];case 2:return r.sent(),[2,"error"];case 3:return[2]}}))}))()},i.TMt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.gMt?[4,n.gMt.Gtt]:[2];case 1:return i=r.sent(),n.AMt="primary",n.AJ(i.source,i.name,t),[2]}}))}))()},i.eMt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.gMt?[4,t.gMt.Gtt]:[2];case 1:return n=i.sent(),t.lMt.wo(new YG(n.id.id)),t.kMt=qn.Ug((function(){return t.yMt(t.ea.bO)}),15e3),[2]}}))}))()},i.AJ=function(t,n,i){var r,e,u,s,o=this,a=this.gMt.ZS.id,c=gE({sources:[{type:rH(t.type),src:t.src,contentProtection:t.contentProtection,useManagedMediaSource:!0,latencyConfiguration:null!=(s=null==(r=this.JH)?void 0:r.latencyConfiguration)?s:eH(t.targetLatency)},t.hlsSrc?{type:"application/x-mpegurl",src:t.hlsSrc}:void 0].filter(Yn),ads:this.YDt?[]:null==(e=this.Cc)?void 0:e.ads,blockContentIfAdError:null==(u=this.Cc)?void 0:u.blockContentIfAdError,streamType:"live"});c.sources[0].bypassLicense=!0,this.ea.xa(c,(new Jo).Vw).then((function(){o.lMt.wo(new KG(a,n)),i&&o.ea.kI()})).catch(this.dispatchErrorEvent)},i.SMt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.lMt.wo(new qG),[4,n.EMt()];case 1:if(!i.sent())throw new y("fallback not live");return[4,n.xMt(t)];case 2:return i.sent(),[2]}}))}))()},i.xMt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return[4,null==(i=n.gMt)?void 0:i.Gtt];case 1:return(null==(r=e.sent())?void 0:r.fallback)?(n.AMt="fallback",n.AJ(r.fallback,r.name,t),[2]):[2]}}))}))()},i.EMt=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return[4,null==(n=t.gMt)?void 0:n.Gtt];case 1:return r=u.sent(),(null==(i=t.mMt)?void 0:i.fallbackEnabled)&&(null==r?void 0:r.fallback)?[4,t.ea.lR.Kk({Gu:r.fallback.src})]:[2,!1];case 2:return[2,(e=u.sent()).zk>=200&&e.zk<300]}}))}))()},i.dispatchErrorEvent=function(t){if(t instanceof sl)return this.wo(new Ek(t));this.wo(new Ek(new sl(el.THEO_LIVE_UNKNOWN_ERROR,t.message,t)))},i.l9=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.ea.EI()];case 1:return n.sent(),void 0!==t.kMt&&(qn.Wg(t.kMt),t.kMt=void 0),[2]}}))}))()},i.EI=function(){var n;return this.WT.Yw(),this.WT=new Jo,this.aMt(),void 0!==this.uMt&&(qn.Wg(this.uMt),this.uMt=void 0),this.CDt=!1,this.YDt=!1,null==(n=this.wMt)||n.destroy(),this.wMt=void 0,this.Cc=void 0,this.JH=void 0,this.gMt=void 0,this.AMt=void 0,this.RMt=[],this.ea.HX.ej(this.pMt),this.dMt&&this._Mt(),t.prototype.EI.call(this)},i.gn=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.WT.Yw(),void 0!==i.uMt&&(qn.Wg(i.uMt),i.uMt=void 0),i.$o(),i.aMt(),null==(r=i.wMt)||r.destroy(),i.ea.MR.fn("latencyrecoveryseek",i.QNt),[4,t.prototype.gn.call(i,n)];case 1:return e.sent(),[2]}}))}))()},xt(n,[{key:"rMt",get:function(){return this.dMt},set:function(t){this.CDt&&(t?this.fMt():this._Mt())}}]),n}(Hk);function iH(t){return t.filter((function(t){var n;return(null!=(n=t.xyt)?n:t.wG)>=tH}))}function rH(t){switch(t){case"theo.live":return"application/vnd.theo.hesp+json";case"hls":return"application/x-mpegurl";case"dash":return"application/dash+xml";default:throw new y("Unknown source type: "+t)}}function eH(t){return void 0===t?uX():{minimumOffset:t-FA,targetOffset:t,maximumOffset:t+FA,forceSeekOffset:t+2.5,minimumPlaybackRate:OA,maximumPlaybackRate:LA}}Qk((function(t){return new nH(t)}),zk.ou),U(),St(),U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt();var uH=V(_n());U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var sH=function(t){function n(n,i){var r;return(r=t.call(this)||this).xO=km(),r.su=void 0,r.YA=n,r.IMt=i,r}Rt(n,t);var i=n.prototype;return i.tr=function(t,n){this.YA=t,this.IMt=n,this.su&&this.wo(new SU(this.su))},i.rW=function(){throw new y("Method not implemented.")},i.oW=function(){throw new y("Method not implemented.")},i.gn=function(){this.$o()},xt(n,[{key:"kN",get:function(){return this.IMt}},{key:"ka",get:function(){var t;return null!=(t=this.su)?t:this.su=this.ba()}},{key:"o",get:function(){return this.YA.id}},{key:"xC",get:function(){return this.xO}},{key:"wG",get:function(){return this.YA.bitrate}},{key:"xyt",get:function(){}},{key:"Zrt",get:function(){return""}},{key:"xh",get:function(){return""}},{key:"Pyt",get:function(){return""}},{key:"znt",get:function(){return!0}},{key:"Ryt",get:function(){}}]),n}(oa),oH=function(t){function n(n,i){return t.call(this,n,i)||this}return Rt(n,t),n.prototype.ba=function(){return AU(this)},xt(n,[{key:"Jdt",get:function(){return 0}},{key:"ji",get:function(){return this.YA.targetWidth}},{key:"Ti",get:function(){return this.YA.targetHeight}},{key:"Iyt",get:function(){return 0}}]),n}(sH);U(),St(),Dt(),Ct();var aH=function(t){function n(n,i){var r;return(r=t.call(this)||this).xO=ym(),r.AO=new lm,r.ZS=n,r.j4=i,r}Rt(n,t);var i=n.prototype;return i.CO=function(t){this.Rt=t},i.gn=function(){this.$o();for(var t=0,n=this.AO.uC;t<n.length;t++){n[t].gn()}this.AO.er()},xt(n,[{key:"Rt",get:function(){return!0},set:function(t){}},{key:"ka",get:function(){var t;return null!=(t=this.su)?t:this.su=Qg(this)}},{key:"Idt",get:function(){}},{key:"Lt",get:function(){return this.j4}},{key:"o",get:function(){return this.ZS||"millitrack"}},{key:"xC",get:function(){return this.xO}},{key:"xh",get:function(){return""}},{key:"gs",get:function(){return""}},{key:"xE",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){this.CO("enabled"===t)}},{key:"EC",get:function(){}},{key:"IC",get:function(){return this.AO}},{key:"DC",get:function(){return this.CMt},set:function(t){if(this.CMt=t,this.Rt){var n=1===(null==t?void 0:t.length)?t[0].kN:void 0;this.PMt(n)}this.wo(new UL(this.AO.uC.slice(),this)),((null==t?void 0:t.length)||this.AO.V)&&this.wo(new wV((null==t?void 0:t[0])||this.AO.lC(0)))}},{key:"RC",get:function(){}}]),n}(oa),cH=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).DMt=r,e}Rt(n,t);var i=n.prototype;return i.tr=function(t){for(var n,i=function(i,r){var e=r[i],u=go(t.layers,(function(t){return t.encodingId===e.id})),s=go(n.AO.uC,(function(t){return t.o===e.id}));s?s.tr(e,u):n.AO.SO(new oH(e,u))},r=0,e=t.active;r<e.length;r++)n=this,i(r,e);this.wo(new mm(this))},i.PMt=function(t){var n;null==(n=this.DMt)||n.NMt(t)},i.gn=function(){this.DMt=void 0,t.prototype.gn.call(this)},xt(n,[{key:"Aw",get:function(){return im._E}}]),n}(aH);U(),St(),Dt();var hH=function(){function t(){}var n=t.prototype;return n.tr=function(t){this.MMt=t},n.bG=function(t){},xt(t,[{key:"wG",get:function(){var t,n,i,r,e,u;return(null!=(e=null==(n=this.MMt)||null==(t=n.video.inbounds)?void 0:t.reduce((function(t,n){return t+n.bitrateBitsPerSecond}),0))?e:0)+(null!=(u=null==(r=this.MMt)||null==(i=r.audio.inbounds)?void 0:i.reduce((function(t,n){return t+n.bitrateBitsPerSecond}),0))?u:0)}},{key:"yG",get:function(){var t,n;return null!=(n=null==(t=this.MMt)?void 0:t.currentRoundTripTime)?n:0}}]),t}();U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var fH=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).LMt=0,r}return Rt(n,t),n.prototype.ba=function(){return TU(this)},xt(n,[{key:"Ewt",get:function(){return this.LMt}}]),n}(sH),vH=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).DMt=r,e}Rt(n,t);var i=n.prototype;return i.tr=function(t){for(var n,i=function(i,r){var e=r[i],u=go(t.layers,(function(t){return t.encodingId===e.id})),s=go(n.AO.uC,(function(t){return t.o===e.id}));s?s.tr(e,u):n.AO.SO(new fH(e,u))},r=0,e=t.active;r<e.length;r++)n=this,i(r,e);this.wo(new mm(this))},i.PMt=function(t){var n;null==(n=this.DMt)||n.BMt(t)},i.gn=function(){this.DMt=void 0,t.prototype.gn.call(this)},xt(n,[{key:"Aw",get:function(){return im.fE}}]),n}(aH);U(),St(),Ct();var lH=function(t){function n(n,i){var r;return(r=t.call(this,n,n,void 0,!1)||this).XV=i,r}return Rt(n,t),n.prototype.ba=function(){return function(t){return Pg(Wm(t),{get mid(){return t.XV.mid},get uuid(){return t.XV.uuid},get timecode(){return t.XV.timecode},get unregistered(){return t.XV.unregistered}})}(this)},n}(qm);U(),St();var dH=[fa.ro,fa.Zy,Ey.VL,fa.sb,fa.Xy,fa.Vy,fa.jy,fa.Ky,fa.Cy,fa.zy,fa.ob,fa.xy,fa.Yy,fa.Sy,fa.Ay,fa.Ny,fa.Py],gH=["active","inactive","stopped","vad","layers","migrate","viewercount"],mH=function(t){function n(n,i,r){var e;return(e=t.call(this)||this)._Z=n,e.vZ=i,e.mZ=r,e.WT=new Jo,e.cpt=void 0,e.FMt=void 0,e.cO=new nm,e.aO=new nm,e.WMt=0,e.tH=new hH,e.Ss=function(t){e.MH(hm(t.lt))},e.Ypt=function(t){Wo(t)||e.MH(new sl(el.MEDIA_DECODE_ERROR,t.message,t))},e.FB=e._Z.LH(im._E),e._H=new Ly(e.FB,!0),e.FB.yn(dH,e.Ds),e.FB.yn(zp.da,e.Ss),e._H.yn(Iy,e.Ds),e}Rt(n,t);var i=n.prototype;return i.NMt=function(t){var n;null==(n=this.Df)||n.select(t).catch(this.Ypt)},i.BMt=function(t){var n;null==(n=this.Df)||n.select(t).catch(this.Ypt)},i.AI=function(){return this.FB.AI()},i.ER=function(t,n){},i.ge=function(){this.FB.ge()},i.be=function(){this.FB.be()},i.kI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Dn(),[4,t.FB.kI()];case 1:return n.sent(),[2]}}))}))()},i.TI=function(){this.FB.TI()},i.er=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return t.Cc=void 0,t.WT.Yw(),null==(n=t.Df)||n.stop(),t.Df=void 0,t.cpt?[4,t.cpt.catch(Ti)]:[3,2];case 1:e.sent(),t.cpt=void 0,e.label=2;case 2:return t.FMt=void 0,[4,t.FB.er()];case 3:for(e.sent(),t.VMt=void 0,t.WMt=0,t.FB.fH(),i=0,r=t.cO.uC;i<r.length;i++)r[i].gn();return t.aO.er(),t.cO.er(),[2]}}))}))()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.$o(),[4,t.er()];case 1:return n.sent(),t.aO.gn(),t.cO.gn(),t._H.gn(),t.FB.fn(dH,t.Ds),t.FB.fn(zp.da,t.Ss),[4,t._Z.pH(t.FB)];case 2:return n.sent(),[2]}}))}))()},i.xa=function(t,n,i){var r=this;return Zt((function(){var n,e;return Ht(this,(function(u){return jo(i),r.WEt(),n=t,r.Cc=n,r.WT=new Jo,n.apiUrl&&uH.Director.setEndpoint(n.apiUrl),e=function(){return uH.Director.getSubscriber({streamName:n.src,streamAccountId:n.streamAccountId,subscriberToken:n.subscriberToken})},r.Df=new uH.View(void 0,e,void 0,!0),r.UMt=us({},n.connectOptions,{events:gH}),r.GMt(),[2]}))}))()},i.Dn=function(){if(void 0===this.cpt){var t=this.Df;void 0!==t&&(this.cpt=this.KE(t,this.UMt,this.WT.Vw).catch(this.Ypt))}},i.KE=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:jo(i),u.label=1;case 1:return u.trys.push([1,3,,6]),[4,Go(t.connect(n),i)];case 2:return u.sent(),t.webRTCPeer.initStats({autoInitStats:!0,statsIntervalMs:1e3}),[3,6];case 3:return Zo(e=u.sent()),function(t){return $n(t)&&"FetchError"===t.name}(e)&&400===e.status?(qn.Op("[THEOplayer] Millicast connect error, reconnecting.",e),[4,Go(t.reconnect(),i)]):[3,5];case 4:u.sent(),u.label=5;case 5:return r.MH(new sl(el.NETWORK_ERROR,e.message,e)),[3,6];case 6:return[2]}}))}))()},i.HMt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:jo(n),r.label=1;case 1:return r.trys.push([1,,4,5]),i.FB.u7(),i.FMt=t,[4,i.FB.er()];case 2:return r.sent(),[4,i.FB.Dn({Aw:Sy.mW,OC:"",IJ:t,Dk:pA.QC,eH:[]})];case 3:return r.sent(),[3,5];case 4:return i.FB.l7(),[7];case 5:return[2]}}))}))()},i.GMt=function(){var t,n=this,i=this.Df;i.on("track",(function(t){return n.ZMt(t)})),i.on("broadcastEvent",(function(t){return n.XMt(t)})),i.webRTCPeer.on("stats",(function(t){n.OMt=t,n.tH.tr(t)})),(null==(t=this.UMt)?void 0:t.metadata)&&i.on("metadata",(function(t){return n.zMt(t)}))},i.ZMt=function(t){var n=this.aO.V>0,i=this.cO.V>0,r=n&&!i;if(i&&t.track.kind===im._E||r&&t.track.kind===im.fE){var e=t.streams[0];if(r)for(var u=e.getVideoTracks().slice(),s=0;s<u.length;s++){var o=u[s];e.removeTrack(o)}this.HMt(e,this.WT.Vw).catch(this.Ypt)}},i.XMt=function(t){switch(t.name){case"active":this.wo(new vj);for(var n=0,i=t.data.tracks;n<i.length;n++){var r=i[n];r.media===im._E?this.cO.tt(new cH(r.trackId,this.cO.V?GX.EPt:GX.xPt,this)):r.media===im.fE&&this.aO.tt(new vH(r.trackId,this.aO.V?XX.EPt:XX.xPt,this))}break;case"inactive":this.wo(new lj),this.cO.er(),this.aO.er();break;case"stopped":this.wo(new lj);break;case"viewercount":default:break;case"layers":var e=t.data;if(0===this.cO.V){var u=new cH("",GX.xPt,this);u.tr(e.medias[0]),this.cO.tt(u)}else{var s=go(this.cO.uC,(function(t){return t.Lt===GX.xPt}));null==s||s.tr(e.medias[0])}}},i.zMt=function(t){var n=this.VMt;void 0===n&&((n=this.FB.LI($p.$V,void 0,void 0,void 0,void 0,xm.MILLICAST)).xE=Gp.NC,this.VMt=n);var i=this.SR,r=A.max(0,i-10);this.WMt<r&&(dy(n,r),this.WMt=r);var e=new lH(i+.001,t);n.dW(e)},i.MH=function(t){this.zG||(ta(this.er()),this.zG=am(t),this.qG=t,this.wo(new Ek(t)))},i.WEt=function(){this.zG=void 0,this.qG=void 0},i.xI=function(){return!1},i.RI=function(){},i.II=function(){},i.CI=function(){this.FB.CI()},i.DI=function(){var t=this.FMt;void 0!==t&&this.HMt(t,this.WT.Vw).catch(this.Ypt)},i.bI=function(){return this.FB.Ca},i.Sa=function(){return this.FB.lH},i.LI=function(t){return this.FB.dH(t)},xt(n,[{key:"yI",get:function(){return!1}},{key:"ht",get:function(){return this.aO}},{key:"gR",get:function(){return this.FB.gR.ks()}},{key:"wR",get:function(){return this.FB.wR},set:function(t){}},{key:"bt",get:function(){return this.Cc}},{key:"SR",get:function(){return this.FB.SR},set:function(t){this.ER(t)}},{key:"ct",get:function(){return this.FB.ct}},{key:"RR",get:function(){return this.FB.RR}},{key:"lt",get:function(){return this.zG}},{key:"DR",get:function(){return this.qG}},{key:"MR",get:function(){}},{key:"OR",get:function(){return this.FB.OR}},{key:"WR",get:function(){var t,n,i,r,e,u,s=this.OMt,o=null==s||null==(t=s.video.inbounds)?void 0:t[0],a=null==s||null==(n=s.audio.inbounds)?void 0:n[0];return{vO:this.vZ.aj.wG,dO:null!=(i=null==o?void 0:o.framesDropped)?i:0,fO:0,_O:null!=(r=null==o?void 0:o.framesReceived)?r:0,mO:(null!=(e=null==o?void 0:o.totalBytesReceived)?e:0)+(null!=(u=null==a?void 0:a.totalBytesReceived)?u:0),gO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"GR",get:function(){return this.FB.GR},set:function(t){this.FB.GR=t}},{key:"XR",get:function(){var t,n;return null!=(n=null==(t=this.Df)?void 0:t.isActive())&&n}},{key:"qR",get:function(){return this.FB.qR}},{key:"KR",get:function(){return 1},set:function(t){}},{key:"JR",get:function(){return this.FB.JR.ks()}},{key:"tI",get:function(){return nS.QH},set:function(t){}},{key:"sI",get:function(){return this.FB.sI}},{key:"rI",get:function(){return this.FB.rI.ks()}},{key:"hI",get:function(){return this.FB.hI}},{key:"QG",get:function(){return this.FB.QG}},{key:"nt",get:function(){return this.FB.nt}},{key:"cI",get:function(){return this.FB.cI}},{key:"rt",get:function(){return this.cO}},{key:"fI",get:function(){return this.FB.fI}},{key:"vI",get:function(){return this.FB.vI},set:function(t){this.FB.vI=t}},{key:"pI",get:function(){return this.mZ}},{key:"$G",get:function(){return this.tH}},{key:"qB",get:function(){return this.mZ.qB}}]),n}(oa),wH=function(){function t(){}var n=t.prototype;return n.hP=function(t,n,i,r,e,u,s,o){return new mH(n,e,u)},n.BH=function(t,n){return t.type===pA.QC},n.OH=function(t){return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,N_(t)];case 1:return(n=i.sent())&&(n=Boolean(t.widevine||t.fairplay)),[2,n&&!1]}}))}))()},n.FH=function(){return!1},xt(t,[{key:"VH",get:function(){return Nk.QC}}]),t}();KT(new wH),U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),rn(),Wt(),ct(),Jt(),an(),U(),St();var pH=function(t){return t.qMt="currentbufferingrenditionchange",t.YMt="KMt",t.jMt="QMt",t.JMt="$Mt",t}({});U(),St(),Dt(),Ct(),U(),St();var yH=function(t,n){var i,r;this.Zrt=void 0,this.xC=km(),this.tLt=n,this.Aw=t.Aw,this.eLt=t.eLt,this.iLt=t.iLt,this.sLt=t.sLt,this.l=t.l,this.gs=t.gs,this.nLt=t.nLt,this.rLt=t.rLt,this.oLt=void 0===t.Pyt,this.hLt=null!=(r=null==(i=t.hLt)?void 0:i.split(","))?r:[]};function _H(t,n){return t.Aw===n.Aw&&(t.l===n.l||!(!t.eLt||!n.eLt))}function bH(t,n){return void 0!==t&&void 0!==n&&kH(t,n)}function kH(t,n){return t.tLt===n.tLt}function AH(t,n){return kH(t,n)&&t.nLt===n.nLt}function TH(t,n){for(var i=0;i<t.length;i++){if(AH(t[i],n))return!0}return!1}var SH=function(t){function n(n,i,r,e,u){var s,o;(s=t.call(this)||this).bp=n,s.ea=i,s.vZ=r,s.gh=e,s.IC=u,s.Hct=void 0,s.ALt=void 0,s.SLt=function(){return s.wo(new mm(s))},s.yLt=function(){var t=s.EC;t&&s.ALt!==t&&(s.ALt=t,s.wo(new wV(t)))},s.bLt=function(){var t=s.Rt;s.TLt!==t&&(s.TLt=t,s.gh.wo(new dm(s)),s.wo(new dm(s)))},s.ALt=s.EC,s.TLt=s.Rt;var a,c,h=u.lC(0);s.RO=null!=(a=null==h?void 0:h.cLt.l)?a:"",s.NA=null!=(c=null==h?void 0:h.cLt.gs)?c:"",s.aLt=null==h||null==(o=h.cLt)?void 0:o.hLt.map(xH).filter(Yn),s.xO=ym(),s.ea.yn(pH.qMt,s.yLt),s.ea.yn(pH.YMt,s.bLt);for(var f=0;f<s.IC.V;f++){s.IC.lC(f).yn("update",s.SLt)}return s}Rt(n,t);var i=n.prototype;return i.CO=function(t){this.Rt=t},i.gn=function(){this.$o(),this.ea.fn(pH.qMt,this.yLt),this.ea.fn(pH.YMt,this.bLt);for(var t=0,n=this.IC.uC;t<n.length;t++){n[t].gn()}this.IC.er()},xt(n,[{key:"RC",get:function(){return this.aLt}},{key:"Rt",get:function(){var t=this.uLt();if(!t)return!1;for(var n=0,i=this.IC.uC;n<i.length;n++){if(i[n].cLt===t)return!0}return!1},set:function(t){if(t!==this.Rt)if(t){for(var n,i=null==(n=this.IC.lC(0))?void 0:n.cLt,r=this.ea.lLt,e=0,u=this.IC.uC;e<u.length;e++){var s=u[e];if(s.dLt===r){i=s.cLt;break}}this.fLt(i)}else this.fLt(void 0)}},{key:"EC",get:function(){if(this.Rt)for(var t=this.ea._Lt,n=0,i=this.IC.uC;n<i.length;n++){var r=i[n];if(TH(t,r.cLt))return r}}},{key:"ka",get:function(){return this.su||(this.su=Qg(this)),this.su}},{key:"o",get:function(){return this.xO.toString()}},{key:"xC",get:function(){return this.xO}},{key:"xh",get:function(){return this.RO},set:function(t){t!==this.RO&&(this.RO=t,this.wo(new mm(this)))}},{key:"gs",get:function(){return this.NA}},{key:"xE",get:function(){return this.Rt?"enabled":"disabled"}},{key:"DC",get:function(){return this.Hct},set:function(t){var n=this,i=[];t?i=t.filter((function(t){var i=n.EC?GL(n.EC):void 0;return qn.Ys.lp(i,GL(t))})).filter((function(i){return n.IC.TO(t)&&i.znt})):i=this.IC.uC.filter((function(t){return t.znt}));if(0!==i.length){if(!(t===this.Hct||this.Hct&&Eo(this.Hct,i))){if(this.Hct=t?i:void 0,this.ea.vLt(i.map((function(t){return t.dLt}))),1===i.length){var r=i[0].dLt,e=this.bp===im._E,u=this.vZ.Bj;ta(this.ea.mLt(r,{gLt:!0,pLt:u&&e,wLt:u&&!e}))}this.wo(new UL(i,this))}}else this.wo(new XL)}}]),n}(oa),EH=function(t){function n(n,i,r,e){return t.call(this,im.fE,n,i,r,e)||this}Rt(n,t);var i=n.prototype;return i.uLt=function(){return this.ea.kLt},i.fLt=function(t){ta(this.ea.ELt(t))},xt(n,[{key:"Lt",get:function(){return XX.xPt}}]),n}(SH),IH=function(t){function n(n,i,r,e){return t.call(this,im._E,n,i,r,e)||this}Rt(n,t);var i=n.prototype;return i.uLt=function(){return this.ea.xLt},i.fLt=function(t){ta(this.ea.RLt(t))},xt(n,[{key:"Lt",get:function(){return GX.xPt}}]),n}(SH),RH=function(t){function n(n,i){var r;return(r=t.call(this)||this).dLt=n,r.cLt=i,r.RO="",r.znt=!0,r}Rt(n,t);var i=n.prototype;return i.oW=function(){},i.rW=function(){},i.gn=function(){this.$o()},xt(n,[{key:"o",get:function(){return String(this.dLt.o)}},{key:"xC",get:function(){return this.dLt.o}},{key:"wG",get:function(){return this.dLt.wG}},{key:"xyt",get:function(){return this.dLt.xyt}},{key:"xh",get:function(){var t;return null!=(t=this.RO)?t:this.cLt.l},set:function(t){this.xh!==t&&(this.RO=t,this.wo(new SU(this.ka)))}},{key:"Pyt",get:function(){return this.cLt.tLt.ILt()}},{key:"Ryt",get:function(){return this.dLt.Ryt}}]),n}(oa),CH=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).su=void 0,r}return Rt(n,t),n.prototype.ba=function(){return TU(this)},xt(n,[{key:"Ewt",get:function(){return 0}},{key:"Zrt",get:function(){var t;return(null==(t=this.dLt.Zrt)?void 0:t.sPt)||""}},{key:"ka",get:function(){return this.su||(this.su=this.ba()),this.su}}]),n}(RH),NH=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).su=void 0,r.CLt=0,r.XCt=void 0,r}return Rt(n,t),n.prototype.ba=function(){return AU(this)},xt(n,[{key:"Zrt",get:function(){var t;return(null==(t=this.dLt.Zrt)?void 0:t.rPt)||""}},{key:"Iyt",get:function(){return this.CLt},set:function(t){this.CLt!==t&&(this.CLt=t,this.wo(new SU(this.ka)))}},{key:"Jdt",get:function(){var t,n;return null!=(n=null!=(t=this.XCt)?t:this.dLt.Jdt)?n:0},set:function(t){this.Jdt!==t&&(this.XCt=t,this.wo(new SU(this.ka)))}},{key:"Ti",get:function(){var t,n;return null!=(n=null==(t=this.dLt.zCt)?void 0:t.Ti)?n:0}},{key:"ji",get:function(){var t,n;return null!=(n=null==(t=this.dLt.zCt)?void 0:t.ji)?n:0}},{key:"ka",get:function(){return this.su||(this.su=this.ba()),this.su}}]),n}(RH);function xH(t){return"public.accessibility.describes-video"===t?Kg.kC:"public.accessibility.transcribes-spoken-dialog"===t?Kg.TRANSCRIBES_SPOKEN_DIALOG:"public.accessibility.describes-music-and-sound"===t?Kg.DESCRIBES_MUSIC_AND_SOUND:"public.accessibility.easy-to-read"===t?Kg.TC:void 0}U(),St(),U(),St(),Wt();var DH=function(){function t(){this.Rt=function(){return!1}}var n=t.prototype;return n.PLt=function(t){if(!this.Rt())return!1;var n=[];return!(n.length>0)||n.some((function(n){return n.toLowerCase()===t.toLowerCase()}))},n.DLt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.PLt(t)&&(e=qn).Bp.apply(e,["DEBUG "+t+" -"].concat(Ut(i)))},n.DN=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.PLt(t)&&(e=qn).Bp.apply(e,["INFO "+t+" -"].concat(Ut(i)))},n.NLt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.PLt(t)&&(e=qn).Op.apply(e,["WARNING "+t+" -"].concat(Ut(i)))},n.lt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.PLt(t)&&(e=qn).Fp.apply(e,["ERROR "+t+" -"].concat(Ut(i)))},n.MLt=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var e;this.PLt(t)&&(e=qn).Fp.apply(e,["FATAL "+t+" -"].concat(Ut(i)))},t}(),PH=new DH,MH="HLSPlaylistParser",BH="Discontinuity",OH="Buffering",LH=function(){function t(t,n,i,r){this.ea=t,this.vZ=n,this.FLt=i,this.VLt=r}var n=t.prototype;return n.rft=function(){var t,n=null==(t=this.ea.Pr)?void 0:t.LLt;if(n&&0!==n.length){for(var i,r=null!=(i=go(n,(function(t){return 0!==t.BLt.length&&0!==t.OLt.length})))?i:n[0],e=n.filter((function(t){return t!==r})),u=0,s=r.BLt;u<s.length;u++){var o=s[u],a=new lm,c=[];a.SO(new CH(r,o)),c.push(o);for(var h=0;h<e.length;h++)for(var f=e[h],v=0,l=f.BLt;v<l.length;v++){var d=l[v];if(_H(d,o)&&!TH(c,d)){a.SO(new CH(f,d)),c.push(d);break}}this.FLt.tt(new EH(this.ea,this.vZ,this.FLt,a))}for(var g=0,m=r.OLt;g<m.length;g++){var w=m[g],p=new lm,y=[];p.SO(new NH(r,w)),y.push(w);for(var _=0;_<e.length;_++)for(var b=e[_],k=0,A=b.OLt;k<A.length;k++){var T=A[k];if(_H(T,w)&&!TH(y,T)){p.SO(new NH(b,T)),y.push(T);break}}this.VLt.tt(new IH(this.ea,this.vZ,this.VLt,p))}}else PH.NLt("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},n.WLt=function(){this.ULt(this.FLt),this.ULt(this.VLt)},n.ULt=function(t){for(var n=[],i=0,r=t.uC;i<r.length;i++){for(var e=r[i],u=[],s=0,o=e.IC.uC;s<o.length;s++){var a=o[s];Ao(a.dLt.GLt,a.cLt)||u.push(a)}for(var c=0;c<u.length;c++){var h=u[c];e.IC.$S(h),h.gn()}0===e.IC.V&&n.push(e)}for(var f=0;f<n.length;f++){var v=n[f];t.it(v),v.gn()}},n.HLt=function(t,n){var i=this.ZLt(t);void 0!==i&&(i.Jdt=n)},n.XLt=function(t,n){var i=this.ZLt(t);void 0!==i&&(i.Iyt=n)},n.ZLt=function(t){for(var n=0,i=this.VLt.uC;n<i.length;n++){var r=i[n],e=go(r.IC.uC,(function(n){return n.cLt===t}));if(void 0!==e)return e}},t}();U(),St(),Dt();var FH=function(){function t(t){var n=t.wG>0?t.wG:YZ.gut,i=t.yG>0?t.yG:VZ.gut;this.but=new YZ(YZ.KRt,YZ.jRt,1,n),this.bIt=new VZ(VZ.KRt,VZ.jRt,i)}var n=t.prototype;return n.bG=function(t){if("segment"===t.Aw||"preload-hint"===t.Aw){var n=[new WZ(this.bIt)];return"stream"!==t.Yk||!function(t){return"segment"===t.Aw&&"initialization-segment"!==t.SE}(t)&&"preload-hint"!==t.Aw?n.push(new jZ(this.but)):n.push(new ZZ(this.but,1e3)),new UZ(n)}},n.vIt=function(t){this.but=new YZ(YZ.KRt,YZ.jRt,1,t)},xt(t,[{key:"wG",get:function(){return this.but.sit}},{key:"yG",get:function(){return this.bIt.sit}}]),t}();U(),St(),Ct();var VH=function(t){function n(n){var i;return(i=t.call(this,pH.JMt)||this).lt=n,i}return Rt(n,t),n}(ha);U(),St();var UH=function(){function t(t){this.Znt=t}return t.prototype.DJ=function(t,n){var i={Aw:Sy.gW,eH:[],u4:t.map((function(t){return{Dk:t}})),b4:n};return ut.resolve(void 0!==this.Znt.DJ([i]))},t}();U(),St(),Gt(),Dt(),Jt(),U(),St();var WH=function(t,n,i,r,e){return t.filter((function(t){return!!Ao(r,t)||1.1*t.wG<=i.wG}))},jH=function(t,n,i,r,e){return t.filter((function(t){if(Ao(r,t))return!0;for(var u=1/0,s=0,o=t.GLt;s<o.length;s++){var a,c,h=o[s];u=A.min(u,null!=(c=null!=(a=h.tLt.zLt)?a:h.tLt.qLt)?c:1/0)}u===1/0&&(u=1);var f=2*i.yG+t.wG*u/i.wG;return t.wG<=n.wG||e.YLt>f}))},ZH=function(t,n,i,r,e){return eo(t,(function(t,n){return n.wG-t.wG}))},XH=function(t,n,i,r,e){return t.every((function(t){return t.Ryt&&!E(t.Ryt)}))?eo(t,(function(t,n){return n.Ryt-t.Ryt})):t},GH=function(t,n,i,r,e){return 0===r.length?t:eo(t,(function(t,n){var i=Ao(r,t)?1:0;return(Ao(r,n)?1:0)-i}))},HH=function(t,n,i,r,e,u){return t.filter((function(t){return!t.Zrt||!n.Zrt||!(void 0!==n.Zrt.rPt&&void 0!==t.Zrt.rPt&&!eN(n.Zrt.rPt,t.Zrt.rPt)&&!u.KLt({Dk:'video/mp4; codecs="'+t.Zrt.rPt+'"'}))&&!(void 0!==n.Zrt.sPt&&void 0!==t.Zrt.sPt&&!eN(n.Zrt.sPt,t.Zrt.sPt)&&!u.jLt({Dk:'audio/mp4; codecs="'+t.Zrt.sPt+'"'}))}))},zH=function(t,n,i,r,e){if(!1===e.Tlt)return t;if(qn.Ys.zg)return t;for(var u,s,o=qn.Ys.qg,a=(null!=(u=null==o?void 0:o.width)?u:e.ji)*RL,c=(null!=(s=null==o?void 0:o.height)?s:e.Ti)*RL,h=0;h<t.length;h++){var f=t[h];if(void 0===f.zCt)return t;var v=f.zCt.Ti,l=f.zCt.ji;if(v<=c&&l<=a)return t.slice(h,t.length)}return[]},YH=function(t,n,i,r,e){return function(t,n){var i=n.Tlt;if(void 0===i&&!qn.Ys.Qs)return t;if(!1===i)return t;for(var r=0;r<t.length;r++){var e=t[r];if(void 0===e.zCt)return t;var u=e.zCt.Ti,s=e.zCt.ji;if(u===n.Ti&&s===n.ji)return t.slice(r,t.length);if(u<n.Ti||s<n.ji)return t.slice(0===r?r:r-1,t.length)}return[]}(t,e)};var KH="AbrEvaluator",qH=function(){function t(t){this.vZ=t,this.v_=[HH,WH,jH,ZH,zH,YH,XH,GH]}var n=t.prototype;return n.JLt=function(t){this.v_=t},n.$Lt=function(t,n,i,r,e){var u=this;return Zt((function(){return Ht(this,(function(s){switch(s.label){case 0:return[4,u.tBt(t,n,i,r,e)];case 1:return[2,s.sent()[0]]}}))}))()},n.tBt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:if(0===t.length)throw new y("AbrEvaluator - Unable to select optimal variant stream from an empty list.");PH.DLt(KH,"Performing optimal variant stream selection."),s=u.QLt,o=t,a=0,c=u.v_,v.label=1;case 1:return a<c.length?(h=c[a],f=h(o,n,s,i,r,e),Jn(f)?(o=f,[3,4]):[3,2]):[3,5];case 2:return[4,f];case 3:o=v.sent(),v.label=4;case 4:return a++,[3,1];case 5:return 0===o.length?(PH.NLt(KH,"No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),[2,[Ro(t,(function(t){return t.wG}))]]):[2,o]}}))}))()},xt(t,[{key:"QLt",get:function(){return this.vZ.aj}}]),t}();function JH(t,n){return[t,void 0!==n?t+n-1:or]}function QH(t){return Boolean(t.yN)}function $H(t){return Boolean(t.Ert)}U(),St(),Dt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),rn(),U(),St(),U(),St();var tz=function(t){return t[t.fE=0]="fE",t[t._E=1]="_E",t[t.jV=2]="jV",t[t.eBt=3]="eBt",t}({}),nz=function(t){return t[t.iBt=0]="iBt",t[t.sBt=1]="sBt",t}({}),iz=function(t){return t[t.QH=0]="QH",t[t.nBt=1]="nBt",t[t.rBt=2]="rBt",t}({}),rz=function(t){return t[t.tE=0]="tE",t[t.oBt=1]="oBt",t[t.hBt=2]="hBt",t}({});function ez(t){return t?t.hAt?t.Dx+"@"+t.hAt.Cn+"-"+(null!=(n=t.hAt.V)?n:""):""+t.Dx:"";var n}function uz(t,n){if(n===t)return!0;if(n.Dx!==t.Dx)return!1;if(!t.hAt)return!0;if(n.hAt){var i=JH(t.hAt.Cn,t.hAt.V),r=JH(n.hAt.Cn,n.hAt.V);if(i[0]<=r[0])return void 0===i[1]||void 0!==r[1]&&i[1]>=r[1]}return!1}function sz(t,n){return t===n||t.Dx===n.Dx&&(t.hAt&&n.hAt?t.hAt.Cn===n.hAt.Cn&&t.hAt.V===n.hAt.V:t.hAt===n.hAt)}function oz(t){var n=!!t.aBt||void 0;return{o:t.o,uBt:t.uBt,QG:t.QG,cBt:t.cBt,ct:t.ct,lBt:t.lBt,aBt:n,dBt:t.fBt,_Bt:t.vBt,mBt:t.mBt,gBt:t.gBt}}function az(t,n){var i,r,e;return{sPt:null!=(i=n.sPt)?i:null==t?void 0:t.sPt,rPt:null!=(r=n.rPt)?r:null==t?void 0:t.rPt,pBt:null!=(e=n.pBt)?e:null==t?void 0:t.pBt}}function cz(t,n,i,r,e){return hz.apply(this,arguments)}function hz(){return hz=Zt((function(t,n,i,r,e){var u,s,o,a,c,h,f,v,l,d,g;return Ht(this,(function(m){switch(m.label){case 0:return u=n.filter((function(t){return js(t,"audio")})),s=n.filter((function(t){return js(t,"video")})),o=[],a=i.map((function(t){return function(t,n,i){return fz.apply(this,arguments)}(t,r,e)})),[4,ut.all(a)];case 1:for(c=m.sent().filter(Yn),f=function(t,n){if(0===n.length)return t;var i=function(t){var i=n.indexOf(t.aT.xw);return i>=0?i:n.length};return eo(t,(function(t,n){return i(t)-i(n)}))}(c,null!=(h=null==t?void 0:t.preferredKeySystems)?h:[]),v=0;v<f.length;v++)l=f[v],d=Rj(null!=t?t:{},l.aT),g="cbcs",o.push({aT:l.aT,EG:l.EG,xG:l.xG,FU:l.FU,EH:[{initDataTypes:[l.aT.Tw],audioCapabilities:Cj(u,g,null==d?void 0:d.audioRobustness),videoCapabilities:Cj(s,g,null==d?void 0:d.videoRobustness),persistentState:null==d?void 0:d.persistentState,distinctiveIdentifier:null==d?void 0:d.distinctiveIdentifier}]});return[2,o]}}))})),hz.apply(this,arguments)}function fz(){return fz=Zt((function(t,n,i){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return t.Pyt&&t.wBt?t.yE!==iz.rBt?[2]:(r=vz(t.wBt))?r.xw!==Rs?[3,1]:[2,{aT:r,EG:[],xG:void 0,FU:t.Pyt}]:[2]:[2];case 1:return r.xw!==Es||t.wBt!==xs?[3,2]:[2,{aT:r,EG:[],xG:t.Pyt,FU:void 0}];case 2:return PH.DN("HLSDrmUtils","Fetching key uri "+t.Pyt+"."),[4,n.Kk({Gu:t.Pyt,kE:i})];case 3:return[4,u.sent().Ck()];case 4:return e=u.sent(),[2,{aT:r,EG:[e],xG:void 0,FU:void 0}];case 5:return[2]}}))})),fz.apply(this,arguments)}function vz(t){return t===As?Ms:t===bs?Ps:t===Ns?Os:t===xs?Ls:void 0}function lz(t){if("#"!==t[0])throw new y("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function dz(t){return"#"!==t[0]?t:t.split(":",1)[0]}function gz(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new y("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function mz(t){var n=bz(gz(t));if(void 0===n)throw new y("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function wz(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,r=i.exec(t);null!==r;){var e=r[1],u=void 0;u=void 0!==r[3]?r[3]:r[2],null!==e?n[e]=u:PH.NLt(MH,"Ignoring unparsable M3U8 attribute name: "+t+"."),r=i.exec(t)}return n}function pz(t,n){var i,r,e=wz(t);try{i=e.URI?qn.Jp(e.URI,n):void 0,r=function(t){switch(t){case"AUDIO":return tz.fE;case"VIDEO":return tz._E;case"SUBTITLES":return tz.jV;case"CLOSED-CAPTIONS":return tz.eBt}throw new y("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(e.TYPE)}catch(n){throw new y("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".")}var u=e["GROUP-ID"],s=e.LANGUAGE,o=e["ASSOC-LANGUAGE"],a=e.NAME,c="YES"===e.DEFAULT,h="YES"===e.AUTOSELECT,f="YES"===e.FORCED,v=e["INSTREAM-ID"],l=e.CHARACTERISTICS,d=e.CHANNELS;if(u||PH.NLt(MH,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),s||PH.NLt(MH,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),a||PH.NLt(MH,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),r===tz.eBt?(i&&PH.NLt(MH,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),v?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(v)||PH.NLt(MH,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):PH.NLt(MH,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):v&&PH.NLt(MH,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!h&&(h=!0,e.AUTOSELECT&&PH.NLt(MH,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),e.FORCED&&r!==tz.jV&&PH.NLt(MH,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===u||void 0===a)throw new y("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");return{yBt:o,HCt:d,hLt:l,nLt:u,iLt:h,eLt:c,sLt:f,rLt:v,gs:s,l:a,Aw:r,Pyt:i}}function yz(t,n,i){var r,e,u,s=wz(t);try{r=qn.Jp(i,n),u=function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),r=Number(n[1]);if(E(i)||E(r))throw new y("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{ji:i,Ti:r}}(s.RESOLUTION),e=function(t){if(!t)return;for(var n,i,r,e=t.split(","),u=0;u<e.length;u++){var s=e[u].trim();Zs(s,"mp4a")?n="mp4a.40.05"===s?"mp4a.40.5":"mp4a.40.02"===s?"mp4a.40.2":s:"ac-3"===s||"ec-3"===s||"flac"===s.toLowerCase()?n=s:Zs(s,"avc")||Zs(s,"hvc1")||Zs(s,"hev1")||Zs(s,"dvh")||Zs(s,"vp09")||Zs(s,"av01")?i=s:r=r?r+","+s:s}return{sPt:n,rPt:i,pBt:r}}(s.CODECS)}catch(n){throw new y("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".")}var o=bz(s.BANDWIDTH),a=bz(s["AVERAGE-BANDWIDTH"]),c=bz(s.SCORE),h=bz(s["FRAME-RATE"]),f=s["HDCP-LEVEL"],v=[];if(void 0!==s["ALLOWED-CPC"]){var l,d=s["ALLOWED-CPC"].split(",");(l=v).push.apply(l,Ut(d.map((function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))))}var g=s["VIDEO-RANGE"],m=s.AUDIO,w=s.VIDEO,p=s.SUBTITLES,_=s["CLOSED-CAPTIONS"];if(void 0===o?PH.NLt(MH,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==a&&a>o&&PH.NLt(MH,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),e||PH.DN(MH,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),e&&e.rPt&&void 0===u&&PH.DN(MH,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===f||Ao(["TYPE-0","TYPE-1","NONE"],f)||PH.NLt(MH,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===g||Ao(["SDR","PQ","HLG"],g)||PH.NLt(MH,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===o)throw new y("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");return{bBt:v,ABt:m,xyt:a,wG:o,SBt:_,Zrt:e,Jdt:h,TBt:f,zCt:u,Ryt:c,kBt:p,Pyt:r,EBt:w,xBt:g}}function _z(t,n){var i=wz(t);if(!i.URI)throw new y("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".");try{return yz(t,n,i.URI)}catch(n){throw new y("HLSPlaylistParser - Could not parse #EXT-X-I-FRAME-STREAM-INF tag: "+t+".")}}function bz(t){var n=Number(t);return E(n)?void 0:n}function kz(t,n){var i,r,e=wz(t);try{i=function(t){switch(t){case"NONE":return iz.QH;case"AES-128":return iz.nBt;case"SAMPLE-AES":return iz.rBt;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new y("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(e.METHOD),r=e.URI?Nz(e.URI,n):void 0}catch(n){throw new y("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".")}var u,s,o,a,c,h=e.KEYFORMAT,f=e.IV,v=e.KEYFORMATVERSIONS;if(i!==iz.QH){if(o=h||xs,"SAMPLE-AES-CENC"===i||"SAMPLE-AES-CTR"===i){if(vz(o)!==Ms)throw new y("HLSPlaylistParser - #EXT-X-KEY tag with METHOD="+i+" is only compatible with Widevine.");u=iz.rBt}else u=i;s=r,a=f?Pc(f):void 0,c=v?v.split("/").map((function(t){return Number(t)})):[1]}else u=iz.QH,(r||h||v||f)&&PH.NLt(MH,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");return{yE:u,Pyt:s,RBt:a,wBt:o,IBt:c}}function Az(t){var n=gz(t);if(!n)return[void 0,""];var i=nn(n.split(","),2),r=i[0],e=i[1];return[bz(r),e]}function Tz(t,n){var i=t.split("@"),r=bz(i[0]),e=i.length>1?bz(i[1]):n;if(void 0===r||void 0===e)throw new y("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{Cn:e,V:r}}function Sz(t){if(void 0!==t)return Tz(t,void 0)}function Ez(t,n){return Tz(gz(t),n)}function Iz(t,n){var i=wz(t);try{return{Dx:Nz(i.URI,n),hAt:Sz(i.BYTERANGE)}}catch(n){throw new y("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".")}}function Rz(t){var n=gz(t);if(!n)throw new y("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!wr(i))throw new y("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function Cz(t){var n,i,r,e=wz(t),u=e["START-DATE"],s=e["END-DATE"],o=bz(e["PLANNED-DURATION"]),a=bz(e.DURATION);void 0!==e["SCTE35-CMD"]&&(n=Pc(e["SCTE35-CMD"]).buffer),e["SCTE35-IN"]&&(i=Pc(e["SCTE35-IN"]).buffer),e["SCTE35-OUT"]&&(r=Pc(e["SCTE35-OUT"]).buffer);var c,h,f="YES"===e["END-ON-NEXT"],v=function(t){for(var n={},i=0,r=k.keys(t);i<r.length;i++){var e=r[i],u=t[e];void 0!==u&&Zs(e,"X-")&&(n[e]=u)}return n}(e),l=e.ID,d=e.CLASS;if(void 0===u)PH.NLt(MH,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+u+".");else if(c=new Date(u),h=void 0!==s?new Date(s):void 0,wr(c)||PH.NLt(MH,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+c+"."),void 0!==a){var g=new Date(c.getTime()+1e3*a);h?h.getTime()!==g.getTime()&&(PH.NLt(MH,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),h=g):h=g}else h&&(a=(c.getTime()-h.getTime())/1e3);if(f&&(e.CLASS||PH.NLt(MH,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),e.DURATION&&PH.NLt(MH,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),h&&PH.NLt(MH,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===l&&PH.NLt(MH,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===l||void 0===c)throw new y("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{o:l,uBt:d,QG:c,cBt:h,ct:a,lBt:o,vBt:n,gBt:i,mBt:r,aBt:f,fBt:v}}function Nz(t,n){if(void 0===t)throw new y("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return qn.Jp(t,n)}function xz(t,n){var i=wz(t),r=bz(i.DURATION),e=Nz(i.URI,n),u=Sz(i.BYTERANGE),s="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(void 0===r)throw new y("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{ct:r,Pyt:{Dx:e,hAt:u},CBt:s,PBt:o}}function Dz(t){var n=wz(t);return{DBt:"YES"===n["CAN-BLOCK-RELOAD"],NBt:bz(n["CAN-SKIP-UNTIL"]),MBt:"YES"===n["CAN-SKIP-DATERANGES"],LBt:bz(n["HOLD-BACK"]),BBt:bz(n["PART-HOLD-BACK"])}}function Pz(t,n){var i=wz(t);if(void 0===i.URI)throw new y("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");var r=Nz(i.URI,n),e=bz(i["LAST-MSN"]),u=bz(i["LAST-PART"]);if(void 0===e)throw new y("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{Pyt:r,OBt:e,FBt:u}}function Mz(t,n){var i,r=wz(t),e=bz(r["SKIPPED-SEGMENTS"]),u=null==(i=r["RECENTLY-REMOVED-DATERANGES"])?void 0:i.split("\t");if(void 0===e)throw new y("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{VBt:e,WBt:u,UBt:n}}function Bz(t){var n=bz(wz(t)["PART-TARGET"]);if(void 0===n)throw new y("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function Oz(t){switch(gz(t)){case"VOD":return rz.oBt;case"EVENT":return rz.hBt;default:return PH.NLt(MH,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),rz.tE}}function Lz(t,n){var i,r,e=wz(t);try{i=function(t){if(void 0===t)throw new y("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return nz.iBt;if("PART"===t)return nz.sBt;throw new y("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(e.TYPE),r=Nz(e.URI,n)}catch(n){throw new y("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".")}var u,s=bz(e["BYTERANGE-START"]),o=bz(e["BYTERANGE-LENGTH"]);return void 0===s&&void 0===o||(u={Cn:s||0,V:o}),{Aw:i,Pyt:{Dx:r,hAt:u}}}U(),St(),rn(),Wt(),U(),St(),Gt(),Jt(),U(),St();var Fz=function(){function t(n){this.ZBt=0,this.HBt=t.zBt(n)}var n=t.prototype;return n.GBt=function(){var t=this.HBt[this.ZBt];return this.ZBt+=1,t},n.XBt=function(){return this.HBt[this.ZBt]},n.xb=function(){var n=new t("");return n.ZBt=0,n.HBt=this.HBt.slice(this.ZBt),n},t.zBt=function(t){return t?t.split(/[\r\n]+/).map((function(t){return t.trim()})).filter((function(t){return t})):[]},t}();function Vz(t,n,i){var r=t.Pyt,e=t.YD,u=t.qBt,s=t.Cn;switch(i){case"#EXT-X-VERSION":e=function(t){var n=mz(t);return E(n)?(PH.NLt(MH,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":u=!0;break;case"#EXT-X-START":s=function(t){var n=wz(t),i=bz(n["TIME-OFFSET"]);if(void 0===i)throw new y("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{YBt:i,KBt:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":PH.NLt(MH,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:PH.DN(MH,"Ignoring unrecognized line or comment: "+n+".")}return{Pyt:r,YD:e,qBt:u,Cn:s}}function Uz(t,n){return t.map((function(t){return t.yE===iz.QH||t.RBt?t:us({},t,{RBt:Wz(n)})}))}function Wz(t){var n=new DataView(new ArrayBuffer(16)),i=new Dc;return i.kb(8),ic(n,i,ur.fromNumber(t)),new I(n.buffer)}function jz(t,n,i){PH.DN(MH,"Parsing M3U8 playlist at "+t+".");var r=new Fz(i);if("#EXTM3U"!==r.GBt())throw new y("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(i)?function(t,n){var i;try{i=qn.Jp(t)}catch(n){throw PH.NLt(MH,"The master playlist has no valid base URI: "+t+"."),new y("HLSPlaylistParser - Could not parse HLS master playlist: "+t)}for(var r={Pyt:i,qBt:void 0,Cn:void 0,YD:void 0},e=[],u=[],s=[],o=[];;){var a=n.GBt();if(!a)break;try{var c=lz(a);switch(c){case"#EXT-X-MEDIA":var h=pz(a,i);e.push(h);break;case"#EXT-X-STREAM-INF":var f=yz(a,i,n.GBt());u.push(f);break;case"#EXT-X-I-FRAME-STREAM-INF":var v=_z(a,i);s.push(v);break;case"#EXT-X-SESSION-DATA":PH.NLt(MH,"Ignoring unsupported #EXT-X-SESSION-DATA: "+a+".");break;case"#EXT-X-SESSION-KEY":var l=kz(a,i);o.push(l);break;default:r=Vz(r,a,c)}}catch(t){PH.NLt(MH,"Ignoring unparsable line: "+a,t)}}var d,g=r.YD,m=null!=(d=r.qBt)&&d,w=r.Cn;return void 0===g&&(PH.NLt(MH,"The playlist has no #EXT-X-VERSION, assuming version is 2."),g=2),g>=8&&(u.some((function(t){return void 0!==t.Ryt}))||s.some((function(t){return void 0!==t.Ryt})))&&(u.some((function(t){return void 0===t.Ryt}))||s.some((function(t){return void 0===t.Ryt})))&&PH.NLt(MH,"If one master playlist variant stream has a SCORE, all variants should have it."),{Pyt:i,YD:g,qBt:m,Cn:w,jBt:s,QBt:o,yN:e,JBt:u}}(t,r):function(t,n,i){var r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,_,b,k={Pyt:t,qBt:void 0,Cn:void 0,YD:void 0},A=[],T=!1,S=!1,E=[],I=os(),R=[],C=[],N=!1,x=!1,D=[],P=[],M=0,B=!1,O=rz.tE,L=!1,F=0;try{b=qn.Jp(t)}catch(n){throw PH.NLt(MH,"The media playlist has no valid base URI: "+t+".",n),new y("HLSPlaylistParser - Could not parse HLS media playlist.")}for(var V=i.xb();void 0===w||void 0===p;){var U=V.GBt();if(!U)break;try{switch(dz(U)){case"#EXT-X-MEDIA-SEQUENCE":w=mz(U);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":p=mz(U)}}catch(t){PH.NLt(MH,"Ignoring unparsable line: "+U,t)}}void 0===w&&(PH.DN(MH,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),w=0),void 0===p&&(PH.DN(MH,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),p=0);for(var W=w,j=p;;){var Z=i.GBt();if(!Z)break;var X=!1;try{var G=dz(Z);switch(G){case"#EXTINF":var H;X=!0,o=(H=nn(Az(Z),2))[0],a=H[1];break;case"#EXT-X-BYTERANGE":X=!0,(c=Ez(Z,M))&&(M=c.Cn+c.V);break;case"#EXT-X-DISCONTINUITY":X=!0,N=!0,j++;break;case"#EXT-X-KEY":var z;X=!0;var Y,K=kz(Z,b);if(K.yE===iz.QH){I.clear(),g=void 0;break}var q=null!=(Y=null==(z=K.wBt)?void 0:z.toString())?Y:"identity";I.set(q,K),K.yE===iz.nBt&&(g=K);break;case"#EXT-X-MAP":X=!0,f=Iz(Z,b),v=g;break;case"#EXT-X-PROGRAM-DATE-TIME":X=!0,l=Rz(Z);break;case"#EXT-X-GAP":X=!0,x=!0;break;case"#EXT-X-BITRATE":X=!0,d=mz(Z);break;case"#EXT-X-TARGETDURATION":r=mz(Z);break;case"#EXT-X-DATERANGE":var J=Cz(Z);A.push(J);break;case"#EXT-X-PART":X=!0;var Q=xz(Z,b);C.push(Q);break;case"#EXT-X-PRELOAD-HINT":var $=Lz(Z,b);D.push($);break;case"#EXT-X-SKIP":E.length>0&&PH.NLt(MH,"#EXT-X-SKIP must appear before any #EXTINF tags."),X=!0;var tt=Mz(Z,W);F=tt.VBt,_=tt.WBt,W+=tt.VBt;break;case"#EXT-X-SERVER-CONTROL":var nt=Dz(Z);T=nt.DBt,e=nt.NBt,S=nt.MBt,u=nt.LBt,s=nt.BBt;break;case"#EXT-X-RENDITION-REPORT":var it=Pz(Z,b);P.push(it);break;case"#EXT-X-PART-INF":m=Bz(Z);break;case"#EXT-X-MEDIA-SEQUENCE":X&&PH.NLt(MH,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":X&&PH.NLt(MH,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":B=!0;break;case"#EXT-X-PLAYLIST-TYPE":O=Oz(Z);break;case"#EXT-X-I-FRAMES-ONLY":L=!0;break;default:if(Zs(G,"#"))k=Vz(k,Z,G);else{h=qn.Jp(Z,b);var rt=f?{Pyt:f,$Bt:v}:void 0,et={QBt:Uz(hs(I),W),XV:R,tOt:C,ct:o,nH:a,eOt:N,Pyt:{hAt:c,Dx:h},iOt:rt,sOt:l,PBt:x,nOt:d,UBt:W,rOt:j};E.push(et),W++,R=[],C=[],o=void 0,a=void 0,N=!1,c=void 0,h=void 0,l=void 0,x=!1,d=void 0}}}catch(t){PH.NLt(MH,"Ignoring unparsable line: "+Z,t)}}if(C.length){var ut=f?{Pyt:f,$Bt:g}:void 0,st={QBt:Uz(hs(I),W),XV:R,tOt:C,ct:o,nH:a,eOt:N,Pyt:void 0,iOt:ut,sOt:l,PBt:x,nOt:d,UBt:W,rOt:j};E.push(st)}var ot,at=k.YD,ct=null!=(ot=k.qBt)&&ot,ht=k.Cn;void 0===at&&(PH.NLt(MH,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),at=2),void 0===r&&PH.NLt(MH,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var ft=E.length,vt=ft>0;vt||PH.NLt(MH,"The HLS media playlist contains no segments.");var lt=vt&&E[ft-1].tOt.length>0;return lt&&void 0===m&&PH.NLt(MH,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),lt&&void 0===s&&PH.NLt(MH,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts."),{DBt:T,NBt:e,MBt:S,oOt:A,rOt:p,hOt:B,qBt:ct,LBt:u,aOt:L,UBt:w,VBt:F,BBt:s,zLt:m,uOt:O,cOt:D,WBt:_,lOt:P,dOt:r,Ert:E,Cn:ht,Pyt:b,fOt:n,YD:at}}(t,n,r)}U(),St(),Dt(),Wt(),U(),St(),Dt();var Zz=function(){function t(t,n,i){var r,e,u,s;this.o=Xz++,this.Ryt=void 0,this.zCt=void 0,this.xyt=void 0,this._Ot=!1,this.gOt=[],this.tLt=n,this.wG=t.wG,this.xyt=t.xyt,this.Ryt=t.Ryt,this.vOt=t.Zrt?Gz(t.Zrt):void 0,this.LCt=this.vOt,this.zCt=t.zCt,this.Jdt=t.Jdt,this.ABt=null!=(r=t.ABt)?r:"SOt"+this.o,this.EBt=null!=(e=t.EBt)?e:"TOt"+this.o,this.kBt=null!=(u=t.kBt)?u:"kOt"+this.o,this.SBt=null!=(s=t.SBt)?s:"EOt"+this.o,this.gOt=i}var n=t.prototype;return n.yOt=function(t){for(var n=0,i=this.gOt;n<i.length;n++){var r=i[n].tLt.yOt(t);if(void 0!==r)return r}},n.bOt=function(t){for(var n=0,i=this.gOt;n<i.length;n++){var r=i[n].tLt.bOt(t);if(void 0!==r)return r}},n.AOt=function(t){_o(this.gOt,t)},xt(t,[{key:"Pyt",get:function(){return this.tLt.Pyt}},{key:"Zrt",get:function(){return this.LCt},set:function(t){this.LCt=t?Gz(t):void 0,this._Ot=function(t,n){return!(void 0!==(null==t?void 0:t.sPt)&&void 0===(null==n?void 0:n.sPt)||void 0!==(null==t?void 0:t.rPt)&&void 0===(null==n?void 0:n.rPt))}(this.vOt,this.LCt)}},{key:"mOt",get:function(){return this._Ot}},{key:"GLt",get:function(){return this.gOt}},{key:"BLt",get:function(){return this.gOt.filter((function(t){return t.Aw===tz.fE}))}},{key:"OLt",get:function(){return this.gOt.filter((function(t){return t.Aw===tz._E}))}},{key:"pOt",get:function(){return this.gOt.filter((function(t){return t.Aw===tz.jV}))}},{key:"wOt",get:function(){return this.gOt.filter((function(t){return t.Aw===tz.eBt}))}}]),t}(),Xz=0;function Gz(t){return us({},t,{rPt:t.rPt?jv(t.rPt):void 0})}U(),St(),Dt(),rn(),U(),St(),Dt(),U(),St(),Dt();var Hz=function(){function t(t,n,i,r,e,u){this.cit=void 0,this.DOt=t,this.MOt=n,this.YO=i,this.IOt=r,this.POt=e,this.ct=u.ct,this.Pyt=u.Pyt,this.CBt=u.CBt,this.PBt=u.PBt}return t.prototype.NOt=function(t,n,i){this.YO=t,this.IOt=n,this.POt=i},xt(t,[{key:"FO",get:function(){var t;return this.YO+(null!=(t=this.xOt)?t:0)}},{key:"ROt",get:function(){return this.IOt}},{key:"COt",get:function(){return this.POt}},{key:"QBt",get:function(){return this.DOt.QBt}}]),t}(),zz=function(){function t(t,n,i,r,e){this.cit=void 0,this.bv=[],this.VOt=0,this.YO=t,this.iOt=e.iOt,this.IOt=i,this.POt=r,this.DA=e.ct,this.sOt=e.sOt,this.OOt=e.Pyt,this.PBt=e.PBt,this.UBt=e.UBt,this.eOt=e.eOt,this.rOt=n,this.QBt=e.QBt,this.ZOt(e.tOt)}var n=t.prototype;return n.WOt=function(t){return this.bv[t]},n.UOt=function(t){for(var n=0;n<this.bv.length;n++){var i=this.bv[n],r=i.FO,e=r+i.ct;if(r<=t&&t<=e)return t===e&&n+1<this.bv.length?this.bv[n+1]:i}},n.GOt=function(t){for(var n=this.bv.length-1;n>=0;n--){var i=this.bv[n];if(i.FO<=t)return i}},n.HOt=function(t){for(var n=this.GOt(t);n&&!n.CBt&&n.MOt>0;)n=this.WOt(n.MOt-1);return n},n.NOt=function(t,n,i){var r=t.tOt.length!==this.bv.length||i!==this.POt;this.IOt=n,this.POt=i,this.DA=t.ct,null!=this.sOt||(this.sOt=t.sOt),void 0===this.OOt&&(this.OOt=t.Pyt),r&&this.ZOt(t.tOt)},n.ZOt=function(t){this.bv.length>t.length&&(this.bv.length=t.length);for(var n=0,i=0;i<t.length;i++){var r=t[i],e=this.IOt&&0===i,u=this.POt&&i===t.length-1,s=this.YO+n;if(i<this.bv.length)this.bv[i].NOt(s,e,u);else{var o=new Hz(this,i,s,e,u,r);o.xOt=this.LOt,this.bv.push(o)}n+=r.ct}this.VOt=n},n.XOt=function(){So(this.bv),this.VOt=0},xt(t,[{key:"FO",get:function(){var t;return this.YO+(null!=(t=this.LOt)?t:0)}},{key:"BOt",get:function(){return this.YO}},{key:"ct",get:function(){return this.DA}},{key:"Pyt",get:function(){return this.OOt}},{key:"ROt",get:function(){return this.IOt}},{key:"COt",get:function(){return this.POt}},{key:"tOt",get:function(){return this.bv}},{key:"FOt",get:function(){return this.VOt}},{key:"VO",get:function(){var t;return this.FO+(null!=(t=this.DA)?t:this.VOt)}},{key:"xOt",get:function(){return this.LOt},set:function(t){this.LOt=t;for(var n=0,i=this.bv;n<i.length;n++){i[n].xOt=t}}}]),t}();U(),St();var Yz=function(t){return t.zOt="YES",t.qOt="v2",t}({});U(),St(),Ct();var Kz=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n}(Vo);U(),St(),Ct(),U(),St(),Dt(),Ct(),U(),St();var qz=function(t){function n(n,i){var r,e=Jz(i,n.ct,n.QG,n.cBt);return(r=t.call(this,i,e,void 0,!1,n.o)||this).YOt=n.uBt,r.KOt=n.QG,r.jOt=n.cBt,r.DA=n.ct,r.QOt=n.lBt,r.JOt=Boolean(n.aBt),r.iFt=n.dBt||{},r.$Ot=n._Bt,r.tFt=n.mBt,r.eFt=n.gBt,r.sFt(),r.nFt(),r}Rt(n,t);var i=n.prototype;return i.tr=function(t){var n,i=!1;(void 0===this.YOt&&void 0!==t.uBt&&(i=!0,this.YOt=t.uBt),void 0===this.jOt&&void 0!==t.cBt&&(i=!0,this.jOt=t.cBt),void 0===this.DA&&void 0!==t.ct&&(i=!0,this.DA=t.ct),void 0===this.QOt&&void 0!==t.lBt&&(i=!0,this.QOt=t.lBt),!this.JOt&&t.aBt&&(i=!0,this.JOt=t.aBt),i=this.updateCustomAttributes(t,i),void 0===this.$Ot&&void 0!==t._Bt&&(i=!0,this.$Ot=t._Bt),void 0===this.tFt&&void 0!==t.mBt&&(i=!0,this.tFt=t.mBt),void 0===this.eFt&&void 0!==t.gBt&&(i=!0,this.eFt=t.gBt),this.sFt(),this.nFt(),this.rFt(),i)&&(this.wo(new Xm(this)),null==(n=this.KO)||n.wo(new Hm(this)))},i.updateCustomAttributes=function(t,n){var i=n;if(t.dBt)for(var r=0,e=k.keys(t.dBt);r<e.length;r++){var u=e[r];void 0===this.iFt[u]&&(i=!0,this.iFt[u]=t.dBt[u])}return i},i.sFt=function(){this.DA&&!this.jOt&&(this.jOt=new Date(this.KOt.getTime()+_r(this.DA)))},i.nFt=function(){this.jOt&&!this.DA&&(this.DA=yr(this.jOt.getTime()-this.KOt.getTime()))},i.rFt=function(){this.QO===1/0&&(this.jOt||this.DA)&&(this.QO=Jz(this.YO,this.DA,this.KOt,this.jOt))},xt(n,[{key:"ka",get:function(){return this.su||(this.su=function(t){return Pg(Wm(t),{get content(){return t.U},get class(){return t.uBt},get startDate(){return t.QG},get endDate(){return t.cBt},get duration(){return t.ct},get plannedDuration(){return t.lBt},get endOnNext(){return t.aBt},get scte35Cmd(){return t._Bt},get scte35Out(){return t.mBt},get scte35In(){return t.gBt},get customAttributes(){return t.dBt}})}(this)),this.su}},{key:"uBt",get:function(){return this.YOt}},{key:"QG",get:function(){return this.KOt}},{key:"cBt",get:function(){return this.jOt}},{key:"ct",get:function(){return this.DA}},{key:"lBt",get:function(){return this.QOt}},{key:"aBt",get:function(){return this.JOt}},{key:"_Bt",get:function(){return this.$Ot}},{key:"mBt",get:function(){return this.tFt}},{key:"gBt",get:function(){return this.eFt}},{key:"dBt",get:function(){return this.iFt}}]),n}(qm);function Jz(t,n,i,r){return Yn(n)?t+n:r?t+(yr(r.getTime())-yr(i.getTime())):1/0}var Qz=function(t){function n(){return t.call(this,void 0,void 0,xm.DATE_RANGE)||this}Rt(n,t);var i=n.prototype;return i.tr=function(t,n){$z(this,tY(t),n)},i.dW=function(n){nY(this.L.uC,n),t.prototype.dW.call(this,n)},n}(Qx);function $z(t,n,i){for(var r=function(i){var r=e[i],u=go(n,(function(t){return t.o===r.o}));u?r.tr(u):t.eW(r)},e=t.L.uC,u=e.length-1;u>=0;u--)r(u);for(var s=0;s<n.length;s++){var o=n[s],a=o.QG;if(void 0!==a&&!t.q4(o.o)){var c=i(a),h=new qz(o,c);nY(t.L.uC,h),t.dW(h)}}}function tY(t){for(var n=os(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.o)){var u=n.get(e.o),s=us({},u,Fg(e),{dBt:us({},u.dBt,e.dBt)});n.set(e.o,s)}else n.set(e.o,e),i.push(e.o)}return i.map((function(t){return n.get(t)}))}function nY(t,n){var i=wo(t,(function(t){return t.uBt===n.uBt}));i&&i.aBt&&i.tr({o:i.o,cBt:n.QG})}var iY=String.fromCharCode(95),rY=iY+"HLS_msn",eY=iY+"HLS_part",uY=iY+"HLS_skip",sY="HLSMediaPlaylist",oY=function(){function t(t,n,i){this.yFt=void 0,this.AFt=void 0,this.DFt=void 0,this.NFt=void 0,this.aFt=void 0,this.uFt=void 0,this.cFt=void 0,this.lFt=void 0,this.Fbt=[],this.SFt=[],this.dFt=!1,this.fFt=void 0,this._Ft=!1,this.vFt=rz.tE,this.h4=MA.mB(),this.hFt=MA.mB(),this.DA=void 0,this.kFt=-1/0,this.xFt=void 0,this.Pyt=t,this.YV=n,this.WFt=i}var n=t.prototype;return n.ILt=function(t){if(!t)return this.Pyt;var n=qn.Nh(this.Pyt);return void 0!==t.UBt&&n.searchParams.append(rY,String(t.UBt)),void 0!==t.RFt&&n.searchParams.append(eY,String(t.RFt)),void 0!==t.DD&&n.searchParams.append(uY,t.DD),n.href},n.tut=function(t){var n=this.Fbt;if(0!==n.length){var i=t-n[0].UBt;if(!(i<0||i>=n.length))return n[i]}},n.IFt=function(t){if(0!==this.Fbt.length){var n=BU(aY.Fg,this.Fbt,t);if(!(n<0)){var i=this.Fbt[n];return t===i.VO&&n+1<this.Fbt.length?this.Fbt[n+1]:i}var r=this.Fbt[this.Fbt.length-1];return t===r.VO?r:void 0}},n.CFt=function(t){if(0!==this.Fbt.length){var n=this.Fbt[0];if(t<n.VO)return n;var i=this.Fbt[this.Fbt.length-1];return t>=i.FO?i:this.IFt(t)}},n.yOt=function(t){var n=this.CFt(t);if(void 0!==n)for(var i=n.UBt-this.Fbt[0].UBt;i>=0;i--){var r=this.Fbt[i];if(void 0!==r.sOt)return new Date(r.sOt.getTime()+1e3*(t-r.FO))}},n.bOt=function(t){for(var n,i=0,r=this.Fbt;i<r.length;i++){var e=r[i];if(cY(e))if(void 0===n)n=e;else{if(!(e.sOt.getTime()<=t.getTime()))break;n=e}}if(void 0!==n)return n.FO+(t.getTime()-n.sOt.getTime())/1e3},n.PFt=function(t){switch(t){case nz.iBt:return this.DFt;case nz.sBt:return this.NFt;default:return}},n.NOt=function(t){var n;void 0===this.aFt&&(this.aFt=null!=(n=t.dOt)?n:this.MFt(t));void 0===this.cFt&&void 0!==t.LBt&&(this.cFt=t.LBt),void 0===this.uFt&&void 0!==t.zLt&&(this.uFt=t.zLt),void 0===this.lFt&&void 0!==t.BBt&&(this.lFt=t.BBt),this.dFt=t.DBt,this.fFt=t.NBt,this._Ft=t.MBt,this.vFt=t.uOt,this.Gbt(t),this.LFt(t);var i=go(t.cOt,(function(t){return t.Aw===nz.iBt})),r=go(t.cOt,(function(t){return t.Aw===nz.sBt}));this.DFt=i?{Pyt:i.Pyt,Aw:i.Aw,rOt:t.rOt}:void 0,this.NFt=r?{Pyt:r.Pyt,Aw:r.Aw,rOt:t.rOt}:void 0,this.yFt=qn.Vg()/1e3;var e=this.h4.jn(this.h4.V-1);this.BFt();var u=this.h4.jn(this.h4.V-1);(!this.AFt||u-e>0)&&(this.AFt=this.yFt),null!=this.YV||(this.YV=t.Cn)},n.BFt=function(){this.hFt=this.OFt(),this.h4=this.FFt(this.hFt),this.DA=this.VFt()},n.OFt=function(){var t=this.Ert;if(0===t.length)return MA.mB();var n=t[0].FO,i=t[t.length-1].VO;return new MA([n,i])},n.FFt=function(t){if(0===t.V||this.hOt)return t;var n=t.Cn(0),i=t.jn(0)-this.LSt;return i<n?MA._B(n):new MA([n,i])},n.VFt=function(){return 0===this.Fbt.length?0:this.hOt?mr(this.Fbt,(function(t){var n;return null!=(n=t.ct)?n:t.FOt})):1/0},n.MFt=function(t){for(var n,i=0,r=t.Ert;i<r.length;i++){var e=r[i];if(void 0!==e.ct){var u=A.max(1,A.round(e.ct));(void 0===n||n<u)&&(n=u)}}if(void 0===n)throw new y("HLSModel - Could not determine required segment target duration.");return n},n.Gbt=function(t){if(0===t.Ert.length)return So(this.Fbt),void this.UFt();var n=this.GFt(t);if(n){var i,r,e;n.HFt>0&&this.Fbt.splice(0,n.HFt);var u=t.VBt;if(u>0){if(u>this.Fbt.length)throw new Kz("New playlist skips over missing segments.");var s=this.Fbt[u-1];if(void 0===s.ct)throw new Kz("New playlist skips over an incomplete segment.");i=s.BOt+s.ct,e=s.rOt-t.rOt,r=u;for(var o=0;o<u;o++)this.Fbt[o].XOt()}else i=n.ZFt,e=0,r=0;for(var a=0;a<t.Ert.length;a++,r++){var c=t.Ert[a],h=0===a,f=t.hOt&&a===t.Ert.length-1,v=c.ct,l=c.rOt+e;if(r<this.Fbt.length){var d=this.Fbt[r];0,d.NOt(c,h,f)}else{var g=c;if(this.Fbt.length>0&&void 0===g.iOt)g=us({},g,{iOt:this.Fbt[this.Fbt.length-1].iOt});var m=new zz(i,l,h,f,g);m.xOt=this.LOt,this.Fbt.push(m)}void 0!==v&&(i+=v)}}},n.GFt=function(t){if(0===this.Fbt.length)return{HFt:0,ZFt:0};var n=this.Fbt[0].UBt,i=this.Fbt[this.Fbt.length-1].UBt,r=t.Ert[0].UBt-t.VBt,e=t.Ert[t.Ert.length-1].UBt,u=0,s=0;if(r<n){var o=this.Ert[0].sOt,a=t.Ert[0].sOt;if(!(o&&a&&o<a))return void PH.NLt(sY,"Ignoring older playlist (first media sequence number is "+r+", but previous playlist already started at "+n+")");u=this.Fbt.length,this.UFt()}else{if(e<i)return void PH.NLt(sY,"Ignoring older playlist (last media sequence number is "+e+", but previous playlist already ended at "+i+")");if(i<r){var c;s=null!=(c=function(t,n){var i=wo(t,(function(t){return void 0!==t.sOt}));if(void 0===i)return;var r=function(t){for(var n=0,i=0;i<t.length;i++){var r,e=t[i];if(e.eOt)return;if(e.sOt)return[e,n];n+=null!=(r=e.ct)?r:0}return}(n.Ert);if(void 0===r)return;var e=nn(r,2),u=e[0],s=e[1];if(i.rOt!==u.rOt)return;var o=(u.sOt.getTime()-i.sOt.getTime())/1e3;return i.BOt+o-s}(this.Fbt,t))?c:function(t,n,i){var r,e=t[t.length-1],u=null!=(r=e.ct)?r:A.max(i,e.FOt),s=i*(n-e.UBt-1);return e.BOt+u+s}(this.Fbt,r,this.aFt),PH.DLt(sY,"New playlist (starting at "+r+") is entirely after previous playlist (ending at "+i+"), resetting playlist and restarting at "+s+"s"),u=this.Fbt.length,this.UFt()}else{0;var h=po(this.Fbt,(function(t){return t.UBt===r}));0,s=this.Fbt[h].BOt,h>0&&(u=h)}}return{HFt:u,ZFt:s}},n.LFt=function(t){var n=t.oOt.map(oz);if(t.MBt&&t.fOt.DD===Yz.qOt&&(n=this.SFt.concat(n)),this.SFt=tY(n),t.WBt)for(var i,r=function(t,n){var r=n[t],e=po(i.SFt,(function(t){return t.o===r}));e>=0&&bo(i.SFt,e)},e=0,u=t.WBt;e<u.length;e++)i=this,r(e,u)},n.XFt=function(t,n){if(this.LOt!==t){this.LOt=t;for(var i=0,r=this.Fbt;i<r.length;i++){r[i].xOt=this.LOt}this.BFt()}this.xFt=n},n.UFt=function(){this.LOt=void 0,this.xFt=void 0},xt(t,[{key:"hOt",get:function(){return 0!==this.Fbt.length&&this.Fbt[this.Fbt.length-1].COt}},{key:"ct",get:function(){return this.DA}},{key:"rI",get:function(){return this.h4}},{key:"oFt",get:function(){return this.hFt}},{key:"qLt",get:function(){return this.aFt}},{key:"zLt",get:function(){return this.uFt}},{key:"LBt",get:function(){return this.hOt?0:this.cFt?this.cFt:this.aFt?3*this.aFt:void 0}},{key:"BBt",get:function(){var t;return null!=(t=this.lFt)?t:this.uFt?3*this.uFt:void 0}},{key:"DBt",get:function(){return this.dFt}},{key:"NBt",get:function(){return this.fFt}},{key:"MBt",get:function(){return this._Ft}},{key:"uOt",get:function(){return this.vFt}},{key:"mFt",get:function(){return void 0!==this.zLt}},{key:"gFt",get:function(){if(this.hOt)return!0;var t=qn.Vg()/1e3,n=this.pFt,i=this.wFt;return void 0!==n&&t-n<i}},{key:"pFt",get:function(){return this.yFt}},{key:"bFt",get:function(){if(this.AFt)return qn.Vg()/1e3-this.AFt}},{key:"xOt",get:function(){return this.LOt}},{key:"wFt",get:function(){var t;return null!=(t=this.aFt)?t:void 0===this.yFt?5:1}},{key:"Ert",get:function(){return this.Fbt}},{key:"oOt",get:function(){return this.SFt}},{key:"TFt",get:function(){return this.kFt},set:function(t){this.kFt=t}},{key:"Cn",get:function(){return this.YV}},{key:"EFt",get:function(){return this.xFt}},{key:"LSt",get:function(){return this.hOt?0:null!=(i=null!=(n=null!=(t=this.WFt)?t:this.BBt)?n:this.LBt)?i:0;var t,n,i}}]),t}(),aY=function(){function t(){}var n=t.prototype;return n.Mbt=function(t){return t.FO},n.Lbt=function(t){return t.VO},n.Bbt=function(t,n){return ho(t,n)},n.Obt=function(t,n,i){return(t-n)/(i-n)},xt(t,null,[{key:"Fg",get:function(){return null!=this.Hrt||(this.Hrt=new t),this.Hrt}}]),t}();function cY(t){return void 0!==t.sOt}function hY(t){return void 0!==t.tOt}function fY(t){return hY(t)?t.ROt:0===t.MOt&&t.DOt.ROt}function vY(t,n){return hY(t)?hY(n)?t.UBt+1===n.UBt:0===n.MOt&&vY(t,n.DOt):t.MOt===t.DOt.tOt.length-1?vY(t.DOt,n):!hY(n)&&t.DOt===n.DOt&&t.MOt+1===n.MOt}U(),St(),U(),St(),U(),St(),Dt(),Ct();var lY=function(t){function n(){return t.call(this,"Tried to wait for multiple discontinuity mappings at the same time")||this}return Rt(n,t),xt(n,[{key:"name",get:function(){return"DiscontinuityMisalignmentError"}}]),n}(Vo);var dY=function(){function t(){this.dVt=[],this.qFt=as(),this.jFt=[],this.rVt=-1}var n=t.prototype;return n.zFt=function(t){var n=this.qFt.get(t);return void 0!==n&&gY(n)},n.YFt=function(t){if(this.KFt()>t)return ut.reject(new lY);for(var n=[],i=0,r=this.jFt;i<r.length;i++){var e,u=r[i];if(u<t)null==(e=this.qFt.get(u))||e.QFt.Fb(new lY),this.qFt.delete(u);else n.push(u)}return this.jFt=n,-1===this.jFt.indexOf(t)&&this.jFt.push(t),this.JFt(t).QFt.Vb},n.$Ft=function(t){var n=this.qFt.get(t);if(!n||!gY(n))throw new y("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n},n.tVt=function(t){return this.$Ft(t).MV},n.eVt=function(t,n){var i=hY(n)?n:n.DOt,r=this.$Ft(i.rOt),e=t.SO(r.MV);if(r.iVt){var u=ww.fV(n.FO).SF(e);if(u.yF().fF(Aw())){var s=A.round(u.dF()/kw().dF());e=e.SO(kw().QF(s))}}return e},n.sVt=function(t,n){return this.eVt(t,n).SF(t)},n.nVt=function(t,n,i,r,e,u){this.rVt<t&&(this.rVt=t);var s=this.JFt(t);void 0===s.MV&&(s.oVt.some((function(t){return t.bat===n}))||(s.oVt.push({bat:n,hVt:i,aVt:r.uV(i._N),uVt:e,iVt:u}),this.cVt(s,t)))},n.cVt=function(t,n){if(!t.MV&&this.lVt(t)){var i=function(t){return xo(t,mY)}(t.oVt);t.MV=i.aVt.SF(i.hVt),t.iVt=t.oVt.some((function(t){return t.iVt})),t.QFt.Ob(),So(t.oVt),_o(this.jFt,n)}},n.lVt=function(t){return this.dVt.length>0&&this.dVt.every((function(n){return t.oVt.some((function(t){return t.bat===n}))}))},n.JFt=function(t){if(this.qFt.has(t))return this.qFt.get(t);var n={MV:void 0,iVt:!1,QFt:new Yc,oVt:[]};return this.qFt.set(t,n),n},n.fVt=function(t){var n=this;this.dVt=t,this.qFt.forEach((function(t,i){return n.cVt(t,i)}))},n._Vt=function(){this.rVt=-1},n.KFt=function(){return this.rVt},n.Hw=function(){this.qFt.forEach((function(t){return t.QFt.Yw()})),this.qFt.clear()},t}();function gY(t){return void 0!==t.MV}function mY(t,n){return-function(t,n){if(t.iVt||n.iVt)return function(t,n){var i=t.SF(n);return t.kF()||n.kF()||(i.vF(Aw())?i=i.SF(kw()):i.wF(Aw().AF())&&(i=i.SO(kw()))),i}(t.hVt,n.hVt)._F(ww.CF);return t.hVt._F(n.hVt)}(t,n)||function(t,n){return t.uVt===n.uVt?ao.sh:t.uVt?ao.Mw:ao.Lw}(t,n)||function(t,n){return t.aVt._F(n.aVt)}(t,n)}var wY=function(){function t(t,n){this.gVt=[],this.mVt=[],this.kVt=os(),this.pVt=new dY,this.IVt=t,this.WFt=n}var n=t.prototype;return n.NOt=function(t,n){if($H(t))if(0===this.gVt.length)this.wVt(t);else{if(!n)return void PH.NLt("HLSModel","No rendition was provided to update the playlist. Ignoring the update.");n.tLt.NOt(t)}else{if(0!==this.gVt.length)return void PH.NLt("HLSModel","Master playlist can only be applied once. Ignoring the update.");this.yVt(t)}},n.wVt=function(t){var n=this.bVt(t.Pyt);n.NOt(t);var i=this.AVt(tz.fE,n),r=this.AVt(tz._E,n),e=new Zz({Pyt:n.Pyt,wG:0,xyt:0,Ryt:NaN,Zrt:void 0,zCt:void 0,Jdt:0,bBt:[],TBt:void 0,xBt:void 0,ABt:void 0,EBt:void 0,kBt:void 0,SBt:void 0},n,[i,r]);this.gVt.push(e)},n.yVt=function(t){var n,i,r=function(i,r){var u=r[i],s=e.filter((function(t){return function(t,n){return pY(t.Aw,t.nLt,n)&&(!t.oLt||t.tLt.Pyt===n.Pyt)}(t,u)}));n.TVt(u,s);var o=new Zz(u,n.bVt(u.Pyt,t.Cn),s);n.gVt.push(o)};(i=this.mVt).push.apply(i,Ut(t.QBt));for(var e=this.SVt(t),u=0,s=t.JBt;u<s.length;u++)n=this,r(u,s)},n.bVt=function(t,n){var i=this.kVt.get(t);return void 0===i&&(i=new oY(t,n,this.WFt),this.kVt.set(t,i)),i},n.SVt=function(t){for(var n=[],i=0,r=t.yN;i<r.length;i++){var e=r[i];if(void 0===e.Pyt)for(var u=0,s=t.JBt;u<s.length;u++){var o=s[u];if(pY(e.Aw,e.nLt,o)){var a=new yH(e,this.bVt(o.Pyt));n.push(a)}}else{var c=new yH(e,this.bVt(e.Pyt));n.push(c)}}return n},n.AVt=function(t,n){return new yH({Aw:t,Pyt:void 0,nLt:"",gs:void 0,yBt:void 0,l:"",eLt:!0,iLt:!1,sLt:!1,hLt:void 0,rLt:void 0,HCt:void 0},n)},n.TVt=function(t,n){var i=n.filter((function(t){return t.Aw===tz.fE})),r=n.filter((function(t){return t.Aw===tz._E})),e=t.Zrt&&(t.Zrt.rPt||t.Zrt.sPt);if((!e||t.Zrt.rPt)&&0===r.length){var u=this.AVt(tz._E,this.bVt(t.Pyt));n.push(u)}if((!e||t.Zrt.sPt)&&0===i.length){var s=this.AVt(tz.fE,this.bVt(t.Pyt));n.push(s)}t.Zrt&&t.Zrt.pBt},n.EVt=function(t){for(var n=0,i=this.gVt;n<i.length;n++)for(var r=0,e=i[n].GLt;r<e.length;r++){var u=e[r];if(u===t)return u}},n.xVt=function(t){for(var n=0,i=this.gVt;n<i.length;n++){var r=i[n];if(r===t)return r}},n.RVt=function(t){for(var n=0,i=this.gVt;n<i.length;n++){var r=i[n];if(Ao(r.GLt,t))return r}},n.Hw=function(){So(this.gVt),So(this.mVt),this.kVt.clear(),this.pVt.Hw()},xt(t,[{key:"vVt",get:function(){return this.mVt}},{key:"LLt",get:function(){return this.gVt}},{key:"NL",get:function(){return this.pVt}}]),t}();function pY(t,n,i){switch(t){case tz.fE:return i.ABt===n;case tz._E:return i.EBt===n;case tz.jV:return i.kBt===n;case tz.eBt:return i.SBt===n}return!1}U(),St(),Ct();var yY=function(t){function n(n){var i;return(i=t.call(this,kY.CVt)||this).cLt=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var _Y=function(t){function n(n){var i;return(i=t.call(this,kY.PVt)||this).cLt=n,i}return Rt(n,t),n}(ha),bY="HlsModelUpdater",kY=function(t){return t.CVt="DVt",t.PVt="NVt",t}({}),AY=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).lW=n,s.Fut=i,s.uTt=r,s.LVt=!1,s.OVt=!1,s.QVt=void 0,s.VVt=void 0,s.jVt=as(),s.Byt=new wY(e,u),s}Rt(n,t);var i=n.prototype;return i.WVt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(!(i=n.Byt.IVt))throw new y("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");return n.wo(new JR),[4,n.UVt(i,{},2,!0,t)];case 1:if(r=u.sent(),!QH(e=r.tLt)&&!$H(e))throw new y("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");return QH(e)||PH.DN(bY,"Detected media playlist only HLS stream."),n.GVt(e),r.HVt?(n.OVt=!0,[4,n.ZVt(t)]):[3,3];case 2:u.sent(),u.label=3;case 3:return n.LVt=!0,[2]}}))}))()},i.XVt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(!(u=e.Byt.EVt(t)))throw new y("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");s={UBt:n,RFt:i,DD:IY(u)},o=_r(A.max(1,3*t.tLt.wFt)),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,e.zVt(u,s,r,o)];case 2:return c.sent(),[3,4];case 3:throw Zo(a=c.sent()),e.qVt(u),a;case 4:return[2]}}))}))()},i.YVt=function(t,n){var i=this.Byt.EVt(t);if(!i)throw new y("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var r={UBt:void 0,RFt:void 0,DD:IY(i)},e=_r(A.max(1,3*t.tLt.wFt));return this.zVt(i,r,n,e)},i.KVt=function(t,n){return this.jVt.has(t.xC)||this.jVt.set(t.xC,new Yc),Go(this.jVt.get(t.xC).Vb,n)},i.qVt=function(t){this.wo(new _Y(t))},i.zVt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:u=t.tLt.ILt(n),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.UVt(u,n,0,e.OVt,i,r)];case 2:return o=h.sent(),s=o.tLt,[3,4];case 3:throw Zo(a=h.sent()),t.tLt.TFt=qn.Vg(),a;case 4:if(!$H(s))throw new y("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");if(!e.QVt||t===e.QVt||e.QVt.tLt.gFt)return[3,8];h.label=5;case 5:return h.trys.push([5,7,,8]),[4,e.YVt(e.QVt,i)];case 6:return h.sent(),[3,8];case 7:return Zo(h.sent()),e.QVt=t,e.JVt(),[3,8];case 8:try{e.GVt(s,t)}catch(u){if(u instanceof Kz&&void 0!==n.DD)return c=us({},n,{DD:void 0}),[2,e.zVt(t,c,i,r)];throw u}return e.QVt=t,[2]}}))}))()},i.UVt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o;return Ht(this,(function(a){switch(a.label){case 0:return PH.DN(bY,"Loading HLS playlist at "+t+"."),r?[4,s.$Vt(t,e)]:[3,2];case 1:if(void 0!==(o=a.sent()))return[2,{tLt:o,HVt:!0}];a.label=2;case 2:return[4,s.tWt(t,n,i,e,u)];case 3:return[2,{tLt:a.sent(),HVt:!1}]}}))}))()},i.$Vt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.Fut.nrt([t])];case 1:return r=e.sent(),jo(n),void 0!==r?[2,jz(r.responseURL,{},r.data)]:[3,3];case 2:return Zo(e.sent()),[3,3];case 3:return[2]}}))}))()},i.tWt=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o;return Ht(this,(function(a){switch(a.label){case 0:return s={Gu:t,Yk:xl.Ak,kE:u.uTt,yE:fd.GET,Aw:vd.eE,Vw:r,bE:e},[4,ET((function(){return u.eWt(s)}),r,i)];case 1:return[2,jz((o=a.sent()).$k,n,o.qk)]}}))}))()},i.eWt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.lW.Kk(t)];case 1:return[4,(i=r.sent()).Rk()];case 2:return[2,{qk:r.sent(),$k:i.$k}]}}))}))()},i.ZVt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:for(jo(t),i=[],r=0,e=n.Byt.LLt;r<e.length;r++)for(u=e[r],s=0,o=u.GLt;s<o.length;s++)a=o[s],i.push(n.iWt(a,t));return[4,ut.all(i)];case 1:return c.sent(),[2]}}))}))()},i.iWt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,i.Fut.nrt([t.tLt.Pyt])];case 1:return r=e.sent(),jo(n),void 0===r||t.tLt.gFt?[3,3]:[4,i.YVt(t,n)];case 2:e.sent(),e.label=3;case 3:return[3,5];case 4:return Zo(e.sent()),[3,5];case 5:return[2]}}))}))()},i.JVt=function(){for(var t=0,n=this.Byt.LLt;t<n.length;t++)for(var i=0,r=n[t].GLt;i<r.length;i++){var e=r[i];e!==this.QVt&&(void 0!==e.tLt.xOt&&(e.tLt.gFt?this.sWt(e):e.tLt.UFt()))}},i.sWt=function(t){if(0!==t.tLt.Ert.length){if(!this.QVt)return this.QVt=t,void this.QVt.tLt.XFt(0,void 0);if(this.nWt(this.QVt),!this.nWt(t)&&void 0===t.tLt.xOt){var n=this.rWt(t,this.QVt);PH.DLt(bY,"Assuming global timeline offset of "+n+"s for rendition "+t.tLt.Pyt+"."),t.tLt.XFt(n,void 0)}}},i.rWt=function(t,n){if(TY(t)){var i=t.tLt.Ert[0],r=n.tLt.Ert[0];return PH.DLt(bY,"Synchronizing by start of VOD: "+r.FO+" vs "+i.FO),r.FO-i.BOt}var e=function(t,n){var i=t.length-1,r=n.length-1;for(;i>=0&&r>=0;){var e=t[i],u=n[r];if(e.rOt>u.rOt)i--;else if(e.rOt<u.rOt)r--;else if(e.eOt){if(u.eOt)return{segment:e,referenceSegment:u};r--}else i--}return}(t.tLt.Ert,n.tLt.Ert);if(void 0!==e){var u=e.segment,s=e.referenceSegment;return PH.DLt(bY,"Synchronizing by start of discontinuity #"+s.rOt+": "+s.FO+" vs "+u.FO),s.FO-u.BOt}var o=EY(t.tLt.Ert);if(void 0!==o){var a=EY(n.tLt.Ert);if(void 0!==a)return PH.DLt(bY,"Synchronizing by PDT:",a.sOt.toISOString()+" vs "+o.sOt.getTime()),a.FO-o.BOt-(a.sOt.getTime()-o.sOt.getTime())/1e3}var c,h=SY(n),f=SY(t),v=null!=(c=t.tLt.xOt)?c:0;return PH.DLt(bY,"Synchronizing by last segment:",h+" vs "+f),h-f+v},i.nWt=function(t){var n=this.Byt.EVt(t);if(!n)return!1;if(TY(n))return!1;var i=function(t,n){return wo(t,(function(t){return void 0!==t.cit&&n.zFt(t.rOt)}))}(n.tLt.Ert,this.Byt.NL);if(void 0===i)return!1;if(n.tLt.EFt===i.rOt)return!0;var r=this.Byt.NL.eVt(i.cit,i).dF()-i.BOt;return PH.DLt(bY,"Synchronize by media timestamp: "+r+"s for rendition "+t.tLt.Pyt+"."),n.tLt.XFt(r,i.rOt),(void 0===this.QVt||void 0===this.QVt.tLt.EFt||this.QVt.tLt.EFt<i.rOt)&&(this.QVt=n),!0},i.GVt=function(t,n){var i;(this.Byt.NOt(t,n),$H(t)&&n)&&(this.VVt=n,this.sWt(n),this.wo(new yY(n)),null==(i=this.jVt.get(n.xC))||i.Ob(),this.jVt.delete(n.xC));this.wo(new bW)},i.oWt=function(t,n){for(var i=0,r=this.Byt.LLt;i<r.length;i++){var e=r[i],u=go(e.OLt,(function(t){return t.tLt===n}));void 0!==u&&void 0!==t.rPt&&(u.Zrt=az(u.Zrt,t));var s=go(e.BLt,(function(t){return t.tLt===n}));void 0!==s&&void 0!==t.sPt&&(s.Zrt=az(s.Zrt,t)),e.mOt||void 0===u&&void 0===s||(e.Zrt=az(e.Zrt,t))}},i.hWt=function(t,n){for(var i=0,r=this.Byt.LLt;i<r.length;i++){var e=r[i],u=go(e.OLt,(function(t){return t.tLt===n}));void 0!==u&&void 0===t.rPt&&e.AOt(u);var s=go(e.BLt,(function(t){return t.tLt===n}));void 0!==s&&void 0===t.sPt&&e.AOt(s)}},i.Hw=function(){this.$o(),this.Byt.Hw(),this.jVt.forEach((function(t){return t.Yw()})),this.jVt.clear()},xt(n,[{key:"MVt",get:function(){return this.LVt}},{key:"BVt",get:function(){return this.OVt}},{key:"Pr",get:function(){return this.Byt}},{key:"FVt",get:function(){return this.VVt}}]),n}(oa);function TY(t){return t.tLt.hOt||t.tLt.uOt===rz.hBt}function SY(t){var n=t.tLt.Ert;return n[n.length-1].VO}function EY(t){return wo(t,(function(t){return void 0!==t.sOt}))}function IY(t){if(void 0!==t.tLt.NBt&&!t.tLt.hOt&&!(void 0===t.tLt.pFt||qn.Vg()/1e3-t.tLt.pFt>=t.tLt.NBt/2))return t.tLt.MBt?Yz.qOt:Yz.zOt}var RY=function(){function t(t,n){var i=this;this.uWt=function(t){i.LFt(t.cLt)},this.aEt=t,this.FB=n,this.Vgt=new Qp,this.aEt.yn(kY.CVt,this.uWt)}return t.prototype.LFt=function(t){if(0!==t.tLt.oOt.length){this.aWt||(this.aWt=this.FB.LI($p.$V,void 0,void 0,void 0,void 0,xm.DATE_RANGE),this.Vgt.tt(this.aWt));$z(this.aWt,t.tLt.oOt,(function(n){var i;return null!=(i=t.tLt.bOt(n))?i:NaN}))}},xt(t,[{key:"nt",get:function(){return this.Vgt}}]),t}();U(),St(),Ct();var CY=function(t){function n(){return t.call(this,pH.qMt)||this}return Rt(n,t),n}(ha);U(),St(),Dt(),U(),St(),Gt(),Dt(),Jt(),U(),St(),Dt();var NY=function(){function t(t){this.Aot=t,this.Fbt=[],this.R2=void 0,this.Ggt=void 0}var n=t.prototype;return n.lWt=function(t){var n;return null==(n=this.dWt(t))?void 0:n.cLt},n.fWt=function(t){this.R2=t,this._Wt()},n.vdt=function(t,n,i,r,e,u){this.Fbt.push({cLt:t,But:n,vWt:MA.vB(e,u),mWt:MA.vB(i,r)}),this._Wt()},n.dWt=function(t){return go(this.Fbt,(function(n){return n.mWt.kr(t)}))},n.tut=function(t){return go(this.Fbt,(function(n){return n.But===t}))},n.ult=function(t,n){return go(this.Fbt,(function(i){return i.cLt===t&&vY(i.But,n)}))},n.r3=function(){var t=this.gR;t.V>0&&(this.Ggt=t.jn(t.V-1))},n._Wt=function(){var t=this.Aot.gR;this.Fbt=this.Fbt.filter((function(n){return 0!==t.Sn(n.mWt).V}))},xt(t,[{key:"cWt",get:function(){return this.R2}},{key:"gR",get:function(){return AO(this.Aot.gR,this.Aot.u3)}},{key:"Ert",get:function(){return this.Fbt}},{key:"zgt",get:function(){return this.Ggt}}]),t}(),xY=function(){function t(t,n,i,r,e){var u=this;this.bWt=void 0,this.WT=new Jo,this.yWt=MA.mB(),this.IWt=function(t){u.bWt&&(t?eR(t)&&u.gWt?u.NWt.Lj(u.Aot.gR.fB)?u.bWt.Ob():u.bWt.Fb(t):Wo(t)?u.bWt.Ob():u.bWt.Fb(t):u.bWt.Ob(),u.bWt=void 0)},this.bp=t,this.RWt=i,this.Aot=n,this.gat=r,this.NWt=e}var n=t.prototype;return n.AWt=function(){if(this.FIt)throw new y("Cannot perform new operation while BufferAppender is still busy")},n.vot=function(t){this.Aot!==t&&(this.AWt(),this.Aot=t,this.gat=new NY(t))},n.SWt=function(){return this.bWt?this.bWt.Vb:ut.resolve()},n.TWt=function(t){var n=this.gat.zgt;return void 0!==n&&this.kWt(t,n)},n.kWt=function(t,n){var i,r,e=A.min(t,n);return null!=(r=null==(i=this.gat.gR.zL().tB(this.wWt).dB(e))?void 0:i.kr(n))&&r},n.EWt=function(t){return this.gat.lWt(t)},n.Yw=function(){this.WT.Yw(),this.WT=new Jo},n.w2=function(t){var n=this;this.AWt(),this.bWt=new Yc;var i=function(i){n.RWt.xWt(t),n.IWt(i)};this.b2(t,this.WT.Vw).then(i,i)},n.b2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return PH.DLt(OH,"Appending initializer",ez(t.CWt.Pyt)),[4,i.Aot.w2(t,n)];case 1:return r.sent(),PH.DLt(OH,"Appended initializer",ez(t.CWt.Pyt)),i.gat.fWt(t),[2]}}))}))()},n.Glt=function(t){var n=this;this.AWt(),this.bWt=new Yc;var i=function(i){n.RWt.xWt(t),n.IWt(i)};this.PWt(t,this.WT.Vw).then(i,i)},n.PWt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,_,b,k,A,T,S;return Ht(this,(function(E){switch(E.label){case 0:if(void 0===(r=t.cLt).tLt.qLt)throw new y("MediaBufferWrapper - Cannot append HLSAsset to "+i.bp+" MediaBuffer for a HLSRendition with an undefined targetDuration.");return e=i.gat.gR.WL,u=i.Aot.gR,PH.DLt(OH,"Appending",ez(t.CWt.Pyt)),[4,i.Aot._2(t,n)];case 1:if(E.sent(),PH.DLt(OH,"Appended",ez(t.CWt.Pyt),e,i.gat.gR.WL),s=t.FO,o=s+t.ct,a=t.CWt,c=a.FO,f=a.FO+(null!=(h=a.ct)?h:0),i.gat.vdt(r,a,s,o,c,f),v=i.Aot.gR.tB(u),l=i.gat.ult(r,a),i.Aw===im._E)if(l)i.DWt(l)?0===v.V?void 0===i.gat.tut(a)&&(d=i.Aot.u3.Sn(new MA([s,o])),i.yWt=i.yWt.JL(d)):(g=v.Cn(0),m=new MA([g,o]),i.yWt=i.yWt.tB(m),g>s&&(w=i.Aot.u3.Sn(new MA([s,g])),i.yWt=i.yWt.JL(w))):(p=v.V>0&&v.Cn(0)<s?v.Cn(0):s,i.yWt=i.yWt.tB(new MA([p,o])));else if(0===v.V)_=i.Aot.u3.Sn(new MA([s,o])),i.yWt=i.yWt.JL(_);else{if(t.CWt.ROt)return[2];k=v.Cn(0),A=null==(b=u.dB(s))?void 0:b.jn(0),k>(T=A&&A>s?A:s)&&(S=i.Aot.u3.Sn(new MA([T,v.Cn(0)])),i.yWt=i.yWt.JL(S))}return t.CWt.COt&&i.gat.r3(),[2]}}))}))()},n.DWt=function(t){var n=t.mWt,i=n.Cn(0),r=n.jn(n.V-1),e=n.GL(0),u=n.ZL(n.V-1);return this.yWt.iB(i,r,e,u)},xt(t,[{key:"Aw",get:function(){return this.bp}},{key:"gWt",get:function(){return rm(this.bp)}},{key:"pWt",get:function(){return this.gat}},{key:"wWt",get:function(){return this.yWt}},{key:"FIt",get:function(){return void 0!==this.bWt}}]),t}();U(),St(),Gt(),Dt(),Ct(),rn(),Jt(),U(),St(),Gt(),Jt();var DY=function(){function t(t,n,i){this.BWt=t,this.lW=n,this.uTt=i,this.OWt=void 0}var n=t.prototype;return n.MWt=function(t,n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,e.LWt(n,r)];case 1:return u=s.sent(),[4,e.BWt.MWt(t,u,i)];case 2:return[2,s.sent()]}}))}))()},n.LWt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return(null==(r=i.OWt)?void 0:r.Gu)===t?[3,3]:(PH.DLt("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),[4,i.lW.Kk({Gu:t,Yk:xl.wk,yE:fd.GET,Vw:n,Aw:vd.nE,SE:ld.dE,kE:i.uTt})]);case 1:return[4,s.sent().Ck()];case 2:e=s.sent(),u=new I(e),i.OWt={Gu:t,qk:u},s.label=3;case 3:return[2,i.OWt.qk]}}))}))()},t}();U(),St(),Gt(),Jt();var PY=function(){function t(t,n,i,r,e){void 0===e&&(e=2),this.lW=t,this.Fut=n,this.out=i,this.uTt=r,this.Nnt=e}var n=t.prototype;return n.Kk=function(t,n,i,r,e){var u=this;return Zt((function(){var s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,u.FWt(t,n,i,xl.wk,r,e)];case 1:return[4,(s=a.sent()).Ck(e)];case 2:return o=a.sent(),[2,{httpStatusCode:s.zk,response:new I(o)}]}}))}))()},n.VWt=function(t,n,i,r,e){var u=this;return Zt((function(){return Ht(this,(function(s){switch(s.label){case 0:return[4,u.FWt(t,n,i,xl.bk,r,e)];case 1:return[2,s.sent().Pk(e)]}}))}))()},n.FWt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:t.hAt&&0===(o=JH(t.hAt.Cn,t.hAt.V))[0]&&o[1]===or&&(o=void 0),a=o?{Range:"bytes="+o[0]+"-"+o[1]}:void 0,c=new md({Gu:t.Dx,Yk:r,jk:a,kE:s.uTt,yE:fd.GET,Aw:n,SE:i,TE:s.out,RE:r===xl.bk,EE:e,Vw:u}),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,s.Fut.urt(t.Dx,o)];case 2:return h=f.sent(),jo(u),void 0!==h?(null==e||e(h.buffer.byteLength,h.buffer.byteLength),[2,new hd({Kk:c,Yk:c.Yk,qk:h.buffer})]):[3,4];case 3:return Zo(f.sent()),[3,4];case 4:return[4,ET((function(){return Go(s.lW.Kk(c),c.Vw)}),u,s.Nnt)];case 5:return[2,f.sent()]}}))}))()},t}();U(),St(),Gt(),Jt();var MY=function(){function t(t,n){this.qWt=void 0,this.jWt=new Jo,this.An=-1/0,this.HWt=void 0,this.YWt=!1,this.aEt=t,this.UWt=n,this.XWt()}var n=t.prototype;return n.WWt=function(){return this.UWt.tLt.DBt},n.GWt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:if(!r.WWt())throw new y("Could not perform blocking playlist update.");return e=r.HWt,u={UBt:t,RFt:n},void 0!==e&&function(t,n,i){if(t.UBt===n.UBt){if(t.RFt===n.RFt)return!0;if(0===t.RFt&&void 0===n.RFt)return!0}if(t.UBt===n.UBt+1&&0===t.RFt&&void 0!==n.RFt){var r=i.tut(n.UBt);if(r&&r.Pyt&&n.RFt>=r.tOt.length)return!0}return!1}(e,u,r.UWt.tLt)?[3,2]:[4,r.ZWt()];case 1:s.sent(),r.XWt(u),s.label=2;case 2:return[2,r.aEt.KVt(r.UWt,i)]}}))}))()},n.zWt=function(t){return this.XWt(),this.aEt.KVt(this.UWt,t)},n.XWt=function(t){var n=this;if(!this.qWt&&!this.YWt){var i=function(){n.qWt=void 0};this.qWt=this.KWt(t,this.jWt.Vw).then(i,i)}},n.ZWt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.qWt?(t.jWt.Yw(),t.jWt=new Jo,[4,t.qWt.catch(Ti)]):[3,2];case 1:n.sent(),t.qWt=void 0,n.label=2;case 2:return[2]}}))}))()},n.KWt=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:r=t,o.label=1;case 1:if(jo(n),i.UWt.tLt.hOt&&i.UWt.tLt.gFt)return[2];null!=r||(r=i.QWt()),i.HWt=r,o.label=2;case 2:return o.trys.push([2,9,,10]),r?[4,i.aEt.XVt(i.UWt,r.UBt,r.RFt,n)]:[3,4];case 3:return o.sent(),[3,8];case 4:return e=qn.Vg()-i.An,u=1e3*i.UWt.tLt.wFt,e<u?[4,ra(u-e,n)]:[3,6];case 5:o.sent(),o.label=6;case 6:return[4,i.aEt.YVt(i.UWt,n)];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:throw s=o.sent(),i.HWt=void 0,Zo(s),i.aEt.qVt(i.UWt),s;case 10:return r=void 0,i.An=qn.Vg(),[3,1];case 11:return[2]}}))}))()},n.QWt=function(){var t=this.UWt.tLt;if(t.DBt&&!t.hOt&&0!==t.Ert.length){var n=t.Ert[t.Ert.length-1];return n.Pyt?{UBt:n.UBt+1,RFt:t.mFt?0:void 0}:{UBt:n.UBt,RFt:n.tOt.length}}},n.Hw=function(){this.YWt=!0,ta(this.ZWt())},t}();U(),St();var BY=function(t){return t[t.iBt=0]="iBt",t[t.sBt=1]="sBt",t[t.iE=2]="iE",t[t.sE=3]="sE",t}({});U(),St(),Gt(),Jt(),U(),St(),Gt(),Dt(),Jt();var OY="AssetExtractor",LY=function(){function t(){this.$Wt=[]}var n=t.prototype;return n.JWt=function(t,n,i){for(var r=n,e=0,u=this.$Wt;e<u.length;e++){var s=u[e];if(r>=t)return!0;if(r<s.Cn)return!1;if(r<s.jn){if(i<=s.jn)return!0;r=s.jn}}return r>=t},n.tUt=function(t,n){for(var i=[],r=0;r<this.$Wt.length;r+=1){var e=this.$Wt[r],u=t-e.Cn,s=e.qk.length,o=A.min(s,A.max(u,0)),a=A.max(0,n+u),c=Cc(e.qk,o,a);c.length&&(r=this.eUt(r,e,t,o,a),i.push(c))}return i},n.iUt=function(t,n){this.$Wt.push({Cn:t,jn:t+n.length,qk:n})},n.eUt=function(t,n,i,r,e){var u=t;this.$Wt.splice(u,1),u-=1,n.Cn<i&&(u+=1,this.$Wt.splice(u,0,{Cn:n.Cn,jn:i,qk:Cc(n.qk,0,r)}));var s=i+e-r;return s<n.jn&&(u+=1,this.$Wt.splice(u,0,{Cn:s,jn:n.jn,qk:Cc(n.qk,e)})),u},t}(),FY=function(){function t(t,n){this.nUt=n,this.Bd=t.getReader()}var n=t.prototype;return n.rUt=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.Bd.read()];case 1:if((n=i.sent()).done)throw t.nUt=1/0,new y("No more data can be read from the given stream.");return t.nUt+=n.value.length,[2,n.value]}}))}))()},n.oUt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.Bd.cancel(t)];case 1:return i.sent(),[2]}}))}))()},xt(t,[{key:"sUt",get:function(){return this.nUt}}]),t}(),VY=function(){function t(t,n,i,r){this._Ut=new Yc,this.OOt=t,this.Bd=n,this.cUt=i,this.fUt=r,this.lUt=new Yc,this.aUt=new Yc}var n=t.prototype;return n.hUt=function(){this.aUt.Ob(),this.aUt=new Yc},n.uUt=function(t){var n=WY(this.OOt.hAt),i=n.aAt,r=n.uAt,e=this.cUt.tUt(i,r-i);PH.DLt(OY,"Collected "+e.length+" chunks.");for(var u=0;u<e.length;u++){var s=e[u];t.enqueue(s)}},n.readAndSliceOutAssetBytes=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:return[4,n.lUt.Vb];case 1:g.sent(),i=WY(n.OOt.hAt),r=i.aAt,e=i.uAt,g.label=2;case 2:g.trys.push([2,11,,12]),g.label=3;case 3:return u=n.Bd.sUt,[4,n.Bd.rUt()];case 4:return s=g.sent(),o=s.length,PH.DLt(OY,"Read "+o+" at "+u+" for extraction of "+ez(n.OOt)),a=A.min(u+o,r),(c=a-u)>0?(h=Cc(s,0,c),f=Cc(s,c),PH.DLt(OY,"Of the read "+o+" bytes, the first "+c+" will be stored locally for extraction of "+ez(n.OOt)),n.cUt.iUt(u,h),f.length>0?(PH.DLt(OY,"Extracting "+f.length+" bytes for extraction of "+ez(n.OOt)),t.enqueue(f),n.hUt(),[2,ta(n.readAndSliceOutAssetBytes(t))]):[3,9]):[3,5];case 5:return u+o<=e?(PH.DLt(OY,"Extracting the read data range for extraction of "+ez(n.OOt)),t.enqueue(s),n.hUt(),[2,ta(n.readAndSliceOutAssetBytes(t))]):[3,6];case 6:return l=Cc(s,0,v=e-u),d=Cc(s,v),l.length>0&&(PH.DLt(OY,"Extracting "+l.length+" bytes for extraction of "+ez(n.OOt)),t.enqueue(l)),PH.DLt(OY,"Of the read "+o+" bytes, the last "+d.length+" will be stored locally for extraction of "+ez(n.OOt)),n.cUt.iUt(u+v,d),PH.DLt(OY,"Extraction of "+ez(n.OOt)+" completed as the entire request has been fulfilled."),n.dUt(t),n.fUt?(PH.DLt(OY,"Aborting stream upstream as no more bytes are needed from "+ez(n.OOt)+"."),[4,n.Bd.oUt("AssetExtraction - AbortOnEnd")]):[3,8];case 7:g.sent(),g.label=8;case 8:return[2];case 9:return[3,3];case 10:return[3,12];case 11:return g.sent(),PH.DLt(OY,"Extraction of "+ez(n.OOt)+" completed as the entire source stream has been read."),n.dUt(t),[3,12];case 12:return[2]}}))}))()},n.dUt=function(t){t.close(),this.hUt(),this._Ut.Ob()},n.start=function(t){PH.DLt(OY,"Preparing to push all collected data to controller for extraction of "+ez(this.OOt)),this.uUt(t),PH.DLt(OY,"Collected data pushed to controller for extraction of "+ez(this.OOt));var n=WY(this.OOt.hAt).uAt;this.Bd.sUt>=n?(PH.DLt(OY,"Extraction of "+ez(this.OOt)+" completed as the entire request has been fulfilled."),this.dUt(t)):(PH.DLt(OY,"Continuing read from original stream for extraction of "+ez(this.OOt)),ta(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.lUt.Ob(),this.lUt=new Yc,this.aUt.Vb},xt(t,[{key:"vUt",get:function(){return this._Ut.Vb}}]),t}(),UY=function(){function t(t,n){this.OOt=n;var i=WY(this.OOt.hAt).aAt;this.mUt=new FY(t,i),this.cUt=new LY}var n=t.prototype;return n.TO=function(t){if(!uz(this.OOt,t))return!1;var n=WY(t.hAt),i=n.aAt,r=n.uAt;return this.cUt.JWt(this.mUt.sUt,i,r)},n.sgt=function(t,n){void 0===n&&(n=!1);var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return r=i.mUt,e=i.cUt,PH.DN(OY,"Extracting data from "+ez(t)+" out of "+ez(i.OOt)),i.gUt?(PH.DLt(OY,"Awaiting previous extraction before extracting "+ez(t)+" out of "+ez(i.OOt)),[4,i.gUt]):[3,2];case 1:s.sent(),s.label=2;case 2:if(!i.TO(t))throw new y("The extractor does not contain the data requested");return u=new VY(t,r,e,n),i.gUt=u.vUt,[2,new Vl(u)]}}))}))()},t}();function WY(t){if(t){var n=t.Cn;return{aAt:n,uAt:void 0!==t.V?n+t.V:or}}return{aAt:0,uAt:or}}var jY=function(){function t(t,n){this.OOt=t,this.pUt=n,this.WT=new Jo,this.cpt=this.Dn()}var n=t.prototype;return n.Dn=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return[4,t.pUt.VWt(t.OOt,vd.sE,ld.tE,void 0,t.WT.Vw)];case 1:return n=i.sent(),[2,new UY(n,t.OOt)]}}))}))()},n.TO=function(t){return uz(this.OOt,t)},n.sgt=function(t,n){void 0===n&&(n=!1);var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,i.cpt];case 1:return[4,Go(r.sent().sgt(t,n),i.WT.Vw)];case 2:return[2,r.sent()]}}))}))()},n.Yw=function(){this.cpt.catch(Ti),this.WT.Yw()},t}();U(),St(),Ct();var ZY=function(t){function n(n){var i;return(i=t.call(this,qY.wUt)||this).TE=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var XY=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,qY.yUt)||this).uri=n,a.bUt=i,a.TE=r,a.mediaSequenceNumeber=e,a.mediaTrackId=u,a.AUt=s,a.httpStatusCode=o,a}return Rt(n,t),n}(ha);function GY(t,n,i){var r=hY(i)?i:i.DOt;if(n.zFt(r.rOt)){if(void 0!==i.cit)return n.eVt(i.cit,i).dF();if(i!==r&&void 0!==r.cit){var e=n.eVt(r.cit,r).dF();return i.FO+(e-r.FO)}}var u=t.tLt.tut(r.UBt-1);if(void 0!==u&&n.zFt(u.rOt)){if(u.tOt.length>0){var s=u.WOt(u.tOt.length-1);if(void 0!==s.cit){var o=n.eVt(s.cit,s).dF();return i.FO+(o-s.FO)}}if(void 0!==u.cit){var a=n.eVt(u.cit,u).dF();return i.FO+(a-u.FO)}}var c=t.tLt.tut(r.UBt+1);if(void 0!==c&&n.zFt(c.rOt)){if(c.tOt.length>0){var h=c.WOt(0);if(void 0!==h.cit){var f=n.eVt(h.cit,h).dF();return i.FO+(f-h.FO)}}if(void 0!==c.cit){var v=n.eVt(c.cit,c).dF();return i.FO+(v-c.FO)}}return i.FO}function HY(t){return void 0!==t.cit}function zY(t,n,i,r){for(var e=n;e<t.length;e++){var u=t[e];if(u.rOt!==i)break;if(HY(u))if(r(u,e))break}}function YY(t,n,i,r){for(var e=n;e>=0;e--){var u=t[e];if(u.rOt!==i)break;if(HY(u))if(r(u,e))break}}U(),St();var KY="HlsPlaylistDownloader",qY=function(t){return t.wUt="segmentdownloadprogress",t.yUt="segmentdownloaded",t}({}),JY=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this)||this).kUt=void 0,c.IUt=void 0,c.hGt=void 0,c.aGt=0,c.uGt=0,c.cGt=0,c.lGt=0,c.DUt=new Jo,c.NUt=void 0,c.EUt=0,c.xUt=void 0,c.RUt=void 0,c.LUt=void 0,c.MUt=void 0,c.GUt=function(t){c.kUt&&(c.UWt=c.kUt,c.kUt=void 0,c.EUt=0,c.xUt=void 0,c.RUt=void 0),c.IUt&&(t&&!Wo(t)?c.IUt.Fb(t):c.IUt.Ob(),c.IUt=void 0)},c.nGt=function(t,n){c.cGt=t,t>0&&0===c.aGt&&(c.aGt=qn.Vg()),void 0!==n&&(c.lGt=n),c.wo(new ZY(c.bp))},c.bp=n,c.aEt=r,c.RWt=e,c.UWt=i,c.TUt=new MY(r,i),c.oGt=new DY(o,u,a),c.pUt=new PY(u,s,function(t){switch(t){case tz._E:return dd._E;case tz.fE:return dd.fE;case tz.jV:case tz.eBt:return dd.Ak;default:return dd.tE}}(i.Aw),a),c}Rt(n,t);var i=n.prototype;return i.SUt=function(t){this.TUt.Hw(),this.TUt=new MY(this.aEt,t),this.FIt?this.kUt=t:(this.UWt=t,this.EUt=0,this.xUt=void 0,this.RUt=void 0)},i.SWt=function(){return this.IUt?this.IUt.Vb:ut.resolve()},i.CUt=function(){return this.RWt.CUt()},i.PUt=function(t){this.RWt.PUt(t)},i.Yw=function(){var t,n,i;this.DUt.Yw(),this.DUt=new Jo,null==(t=this.NUt)||t.Yw(),this.NUt=void 0,null==(n=this.MUt)||n.Yw(),null==(i=this.LUt)||i.Yw(),this.MUt=void 0,this.LUt=void 0,this.EUt=0,this.xUt=void 0,this.RUt=void 0},i.Hw=function(){this.TUt.Hw()},i.BUt=function(t){var n=this.UWt.tLt.IFt(t);if(!n)return!1;if(void 0!==this.xUt){var i=n.UBt===this.xUt;return void 0!==this.RUt?n.UOt(t)===n.WOt(this.RUt)&&i:i}return!1},i.OUt=function(t){var n;if(void 0===this.xUt||t<this.EUt-1e-6)n=this.FUt(t);else if(void 0!==(n=this.VUt(this.xUt,this.RUt))){var i=nn(n,2),r=i[0],e=i[1],u=GY(this.UWt,this.aEt.Pr.NL,null!=e?e:r),s=3*this.UWt.tLt.qLt;A.abs(u-t)>=s&&(n=this.FUt(t))}else if(this.UWt.tLt.hOt){if(this.UWt.tLt.tut(this.xUt).COt&&void 0!==(n=this.FUt(t))&&n[0].UBt===this.xUt)return}if(n){this.EUt=t;var o=nn(n,2),a=o[0],c=o[1];return 0===(null==c?void 0:c.MOt)&&void 0!==a.ct?[a,void 0]:[a,c]}},i.FUt=function(t){var n,i,r=this.UWt.tLt.Ert;if(0!==r.length){var e,u=this.aEt.Pr.NL,s=ww.fV(t),o=function(t,n,i){var r=t.tLt.Ert;if(0!==r.length){var e=t.tLt.CFt(i.dF());if(n.zFt(e.rOt)){var u,s,o,a=e.UBt-r[0].UBt,c=e.rOt,h=0;if(!(YY(r,a,c,(function(t,n){return u=t,h=n,!0})),void 0===u&&(zY(r,a+1,c,(function(t,n){return u=t,h=n,!0})),void 0===u)||(n.eVt(u.cit,u).gF(i)?(s=u,zY(r,h+1,c,(function(t){return n.eVt(t.cit,t).fF(i)?(o=t,!0):(s=t,!1)}))):(o=u,YY(r,h-1,c,(function(t){return n.eVt(t.cit,t).gF(i)?(s=t,!0):(o=t,!1)}))),void 0===s||void 0===o)))return[s,o]}}}(this.UWt,u,s);if(void 0!==o){var a=nn(o,2),c=a[0],h=a[1],f=u.eVt(c.cit,c),v=u.eVt(h.cit,h),l=s.SF(f).dF()/v.SF(f).dF()*(h.FO-c.FO);e=c.FO+l}else e=t;var d=r[r.length-1];return d.VO<=e?(n=d,i=d.HOt(e)):i=r[0].FO>e?(n=r[0]).WOt(0):null==(n=this.UWt.tLt.IFt(e))?void 0:n.HOt(e),n?[n,i]:void 0}},i.VUt=function(t,n){var i,r;if((i=this.UWt.tLt.tut(t))&&void 0!==n){if(0===i.tOt.length)return[i,void 0];r=i.WOt(n+1)}return void 0!==i&&void 0!==r||(r=null==(i=this.UWt.tLt.tut(t+1))?void 0:i.WOt(0)),i?[i,r]:void 0},i.AWt=function(){if(this.FIt)throw new y("Cannot perform new operation while PlaylistDownloader is still busy")},i.WUt=function(t){this.AWt(),this.IUt=new Yc,this.UUt(t,this.DUt.Vw).then(this.GUt,this.GUt)},i.HUt=function(){this.TUt.XWt()},i.UUt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return i.UWt.tLt.hOt?[2]:(r=i.OUt(t))||!i.TUt.WWt()||void 0===i.xUt?[3,2]:[4,i.TUt.GWt(void 0===i.RUt?i.xUt+1:i.xUt,void 0!==i.RUt?i.RUt+1:void 0,n)];case 1:u.sent(),r=i.OUt(t),u.label=2;case 2:return r||!i.TUt.WWt()||void 0===i.xUt?[3,4]:[4,i.TUt.GWt(i.xUt+1,0,n)];case 3:u.sent(),r=i.OUt(t),u.label=4;case 4:return r?[3,6]:(PH.DN(KY,"No next segment / part available, need to update playlist before continuing."),[4,i.TUt.zWt(n)]);case 5:return u.sent(),e=i.cLt.tLt.Ert,e[0].FO>t&&(i.RUt=void 0,i.xUt=void 0),e[e.length-1].UBt<i.xUt&&(i.RUt=void 0,i.xUt=void 0),r=i.OUt(t),[3,4];case 6:return[2]}}))}))()},i.ZUt=function(){return this.RWt.XUt()},i.zUt=function(){this.AWt();try{var t=this.UWt.tLt.PFt(nz.iBt);t&&this.qUt(t);var n=this.UWt.tLt.PFt(nz.sBt);n&&this.YUt(n)}catch(t){throw Zo(t),this.UWt.tLt.TFt=qn.Vg(),this.aEt.qVt(this.UWt),t}},i.qUt=function(t){this.LUt&&!this.LUt.TO(t.Pyt)&&(this.LUt.Yw(),this.LUt=void 0),this.LUt||(this.LUt=new jY(t.Pyt,this.pUt))},i.YUt=function(t){this.MUt&&!this.MUt.TO(t.Pyt)&&(this.MUt.Yw(),this.MUt=void 0),this.MUt||(this.MUt=new jY(t.Pyt,this.pUt))},i.$at=function(t,n,i){var r=this;this.AWt(),PH.DN(KY,"Starting download of segment "+ez(t.Pyt)+" and part "+(null==n?void 0:n.MOt)),this.IUt=new Yc,this.KUt(t,n,i,this.DUt.Vw).catch((function(t){throw Zo(t),r.UWt.tLt.TFt=qn.Vg(),r.aEt.qVt(r.UWt),t})).then(this.GUt,this.GUt)},i.KUt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:return t.iOt&&(i&&sz(i.CWt.Pyt,null==(s=t.iOt)?void 0:s.Pyt)&&t.rOt===i.rOt||(null==(a=e.NUt)||a.Yw(),e.NUt=new Yc,c=e.jUt(t.iOt,t,r).then((function(){e.NUt=void 0})),e.NUt.Kw(c)),u=null==(o=e.NUt)?void 0:o.Vb),[4,e.QUt(t,n,u,r)];case 1:return h.sent(),[2]}}))}))()},i.jUt=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,r.JUt(t,n,i)];case 1:return e=s.sent(),u=e.iOt.qk.qk.byteLength,r.RWt.$Ut(e),r.wo(new XY(e.iOt.CWt.Pyt,e.Aw,r.bp,n.UBt,e.cLt.xC,u,e.iOt.uct)),PH.DLt(OH,"Download initializer complete",ez(t.Pyt)),[2]}}))}))()},i.QUt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,e.tGt(t,n,r)];case 1:return u=a.sent(),s=u.But.qk.qk.byteLength,i?[4,Go(i,r)]:[3,3];case 2:a.sent(),a.label=3;case 3:return e.RWt.$Ut(u),e.wo(new XY(u.But.CWt.Pyt,u.Aw,e.bp,t.UBt,u.cLt.xC,s,u.But.uct)),PH.DLt(OH,"Download complete",ez(null!=(o=null==n?void 0:n.Pyt)?o:t.Pyt)),[2]}}))}))()},i.tGt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return n?r.MUt?r.MUt.TO(n.Pyt)?[4,r.MUt.sgt(n.Pyt)]:[3,4]:[3,5]:[3,8];case 1:return[4,Xl(a.sent(),i)];case 2:return u=a.sent(),s=new I(u),[4,r.MWt(s,n.QBt,i)];case 3:return o=a.sent(),e=tK(n,o,200),[3,5];case 4:r.MUt.Yw(),r.MUt=void 0,a.label=5;case 5:return e?[3,7]:(PH.DLt(OH,"Start download",ez(n.Pyt)),[4,r.eGt(n,i)]);case 6:e=a.sent(),a.label=7;case 7:return[3,10];case 8:return PH.DLt(OH,"Start download",ez(t.Pyt)),[4,r.iut(t,i)];case 9:e=a.sent(),a.label=10;case 10:return r.xUt=t.UBt,r.RUt=null==n?void 0:n.MOt,[2,{Aw:"But",But:e,cLt:r.UWt,rOt:t.rOt}]}}))}))()},i.JUt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return r.LUt?r.LUt.TO(t.Pyt)?[4,Go(r.LUt.sgt(t.Pyt),i)]:[3,4]:[3,5];case 1:return[4,Xl(c.sent(),i)];case 2:return s=c.sent(),o=new I(s),[4,r.MWt(o,t.$Bt?[t.$Bt]:[],i)];case 3:a=c.sent(),e=QY(t,n,a,200),c.label=4;case 4:PH.DN(KY,"MAP is required for segment, downloading MAP data."),null==(u=r.LUt)||u.Yw(),r.LUt=void 0,c.label=5;case 5:return e?[3,7]:(PH.DLt(OH,"Start download",ez(t.Pyt)),[4,r.iGt(t,n,i)]);case 6:e=c.sent(),c.label=7;case 7:return[2,{Aw:"iOt",iOt:e,cLt:r.UWt,FO:n.FO,rOt:n.rOt,QBt:n.QBt}]}}))}))()},i.iGt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,r.pUt.Kk(t.Pyt,vd.iE,ld.rE,void 0,i)];case 1:return e=c.sent(),u=e.response,s=e.httpStatusCode,o=t.$Bt?[t.$Bt]:[],[4,r.MWt(u,o,i)];case 2:return a=c.sent(),[2,QY(t,n,a,s)]}}))}))()},i.iut=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(!t.Pyt)throw new y("Internal error: attempted to download an incomplete segment");o.label=1;case 1:return o.trys.push([1,,3,4]),i.sGt(t),[4,i.pUt.Kk(t.Pyt,vd.iE,ld.tE,i.nGt,n)];case 2:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,4];case 3:return i.rGt(),[7];case 4:return[4,i.MWt(r,t.QBt,n)];case 5:return s=o.sent(),[2,$Y(t,s,e)]}}))}))()},i.eGt=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return o.trys.push([0,,2,3]),i.sGt(t),[4,i.pUt.Kk(t.Pyt,vd.iE,ld.tE,i.nGt,n)];case 1:return u=o.sent(),r=u.response,e=u.httpStatusCode,[3,3];case 2:return i.rGt(),[7];case 3:return[4,i.MWt(r,t.QBt,n)];case 4:return s=o.sent(),[2,tK(t,s,e)]}}))}))()},i.MWt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return(e=go(n,(function(t){return t.yE===iz.nBt})))?e.Pyt&&e.RBt?[4,r.oGt.MWt(t,e.Pyt,e.RBt,i)]:(PH.lt(KY,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),[2,t]):[2,t];case 1:return[2,u.sent()]}}))}))()},i.sGt=function(t){var n,i,r;this.hGt=t,this.aGt=0,this.uGt=qn.Vg(),this.cGt=0,this.lGt=null!=(r=null==(i=t.Pyt)||null==(n=i.hAt)?void 0:n.V)?r:0},i.rGt=function(){this.hGt=void 0,this.aGt=0,this.uGt=0,this.cGt=0,this.lGt=0},i.dGt=function(){if(void 0!==this.hGt)return{But:this.hGt,fGt:this.cGt,_Gt:this.lGt,vGt:qn.Vg()-this.uGt}},i.mGt=function(t){return void 0!==this.hGt&&(0!==this.aGt&&(!(this.lGt>0&&this.cGt>=this.lGt)&&!(t-this.aGt<500)))},xt(n,[{key:"FIt",get:function(){return void 0!==this.IUt}},{key:"cLt",get:function(){var t;return null!=(t=this.kUt)?t:this.UWt}},{key:"uCt",get:function(){if(!this.UWt.tLt.hOt||void 0===this.xUt)return!1;var t=this.UWt.tLt.tut(this.xUt);if(!t.COt)return!1;if(void 0!==this.RUt&&!t.WOt(this.RUt).COt)return!1;return!0}}]),n}(oa);function QY(t,n,i,r){return{qk:{qk:i,Aw:XR.tJ},Aw:BY.iBt,uct:r,CWt:t,rOt:n.rOt}}function $Y(t,n,i){return{qk:{qk:n,Aw:XR.tJ},Aw:BY.iE,uct:i,CWt:t,rOt:t.rOt}}function tK(t,n,i){return{qk:{qk:n,Aw:XR.tJ},uct:i,Aw:BY.sBt,CWt:t,rOt:t.DOt.rOt}}U(),St(),Dt();var nK=function(){function t(t){this.wGt=[],this.bGt=os(),this.SGt=void 0,this.gGt=void 0,this.pVt=t}var n=t.prototype;return n.$Ut=function(t){"iOt"===t.Aw&&(this.gGt=t.iOt),this.wGt.push(t),this.SGt&&(this.SGt.Ob(),this.SGt=void 0)},n.CUt=function(){return this.wGt[0]},n.PUt=function(t){_o(this.wGt,t)},n.XUt=function(){return null!=this.SGt||(this.SGt=new Yc),this.SGt.Vb},n.TGt=function(t){this.kGt(t.bat).TGt(t)},n.EGt=function(t){return this.kGt(t).EGt()},n.xWt=function(t){this.kGt(t.bat).xWt(t)},n.xGt=function(t){var n;null==(n=this.bGt.get(t))||n.Hw()},n.RGt=function(t){return this.kGt(t).RGt()},n.kGt=function(t){if(this.bGt.has(t))return this.bGt.get(t);var n=new iK;return this.bGt.set(t,n),n},n.Bb=function(){this.IGt(),this.CGt()},n.IGt=function(){this.gGt=void 0,So(this.wGt)},n.CGt=function(){this.bGt.forEach((function(t){return t.Bb()}))},n.Hw=function(){this.bGt.forEach((function(t){return t.Hw()})),this.bGt.clear(),this.Bb(),this.SGt&&(this.SGt.Yw(),this.SGt=void 0)},xt(t,[{key:"cWt",get:function(){return this.gGt}},{key:"pGt",get:function(){for(var t=[],n=0,i=this.wGt;n<i.length;n++){var r=i[n];if("But"===r.Aw){var e,u=r.But.CWt,s=GY(r.cLt,this.pVt,u);t.push({But:u,cLt:r.cLt,FO:s,VO:s+(null!=(e=u.ct)?e:0)})}}return t}},{key:"yGt",get:function(){var t=[];return this.bGt.forEach((function(n){for(var i=0,r=n.AGt;i<r.length;i++){var e=r[i];"But"===e.Aw&&t.push({But:e.CWt,cLt:e.cLt,FO:e.FO,VO:e.FO+e.ct})}})),t}}]),t}(),iK=function(){function t(){this.PGt=[],this.DGt=void 0}var n=t.prototype;return n.TGt=function(t){this.PGt.push(t),this.DGt&&(this.DGt.Ob(),this.DGt=void 0)},n.EGt=function(){return this.PGt[0]},n.xWt=function(t){_o(this.PGt,t)},n.RGt=function(){return null!=this.DGt||(this.DGt=new Yc),this.DGt.Vb},n.Bb=function(){So(this.PGt)},n.Hw=function(){this.Bb(),this.DGt&&(this.DGt.Yw(),this.DGt=void 0)},xt(t,[{key:"AGt",get:function(){return this.PGt}}]),t}();U(),St(),Gt(),Dt(),Jt();var rK=1e-6,eK=function(){function t(t,n){this.Txt=MA.mB(),this.kxt=MA.mB(),this.MGt=t,this.pVt=n}var n=t.prototype;return n.w2=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return r=t.qk.qk,i.NGt(r),i.MGt.Aw!==xm.TTML?[3,3]:i.pVt.zFt(t.rOt)?[3,2]:[4,Go(i.pVt.YFt(t.rOt),n)];case 1:o.sent(),o.label=2;case 2:for(e=i.LGt(r,t.rOt),u=0;u<e.length;u++)s=e[u],i.MGt.dW(s);o.label=3;case 3:return[2]}}))}))()},n._2=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return void 0===t.qk?[2]:(r=t.FO,e=r+t.ct,i.Txt=i.Txt.JL(MA.vB(r,e)).QL(rK),i.f3(t.BGt,t.OGt),i._3(r,e),i.pVt.zFt(t.rOt)?[3,2]:[4,Go(i.pVt.YFt(t.rOt),n)]);case 1:u.sent(),u.label=2;case 2:return i.g2(t.qk.qk,t.rOt,t.CWt),[2]}}))}))()},n.g2=function(t,n,i){var r;this.NGt(t),r=this.MGt.Aw===xm.WEBVTT?this.FGt(t,i):this.LGt(t,n);for(var e=0;e<r.length;e++){var u=r[e];this.MGt.dW(u)}},n.FGt=function(t,n){for(var i,r=Pw(t),e=r.L,u=null!=(i=r.OV)?i:{FV:ww.CF,ph:ww.CF},s=0;s<e.length;s++){var o=e[s],a=ww.fV(o.FO).SF(u.ph).SO(u.FV),c=this.pVt.eVt(a,n).dF(),h=c+(o.VO-o.FO);o.sF(c,h)}return e},n.LGt=function(t,n){var i=this.pVt.tVt(n).dF();return Pp(t,this.MGt,{DV:0,NV:1/0,MV:i},Bv.APPLICATION_MP4)},n.NGt=function(t){this.MGt.Aw===xm.DEFAULT&&(this.MGt.Aw=this.VGt(t)?xm.WEBVTT:xm.TTML)},n.VGt=function(t){return Hw(kc(Tc(Sc(t),0,A.min(t.byteLength,16)),new Dc))},n.f3=function(t,n){this.kxt=this.kxt.JL(MA.vB(t,n)).QL(rK)},n._3=function(t,n){this.kxt=this.kxt.tB(MA.vB(t,n))},xt(t,[{key:"gR",get:function(){return this.Txt}},{key:"u3",get:function(){return this.kxt}}]),t}();U(),St(),Gt(),Ct(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Ct();var uK=function(t){function n(n,i){var r;return(r=t.call(this,cK.WGt)||this).cLt=n,r.Zrt=i,r}return Rt(n,t),n}(ha);U(),St(),Ct();var sK=function(t){function n(n){var i;return(i=t.call(this,cK.UGt)||this).cLt=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var oK=function(t){function n(n,i){var r;return(r=t.call(this,cK.GGt)||this).cLt=n,r.Jdt=i,r}return Rt(n,t),n}(ha);U(),St(),Ct();var aK=function(t){function n(n,i){var r;return(r=t.call(this,cK.HGt)||this).cLt=n,r.ZGt=i,r}return Rt(n,t),n}(ha),cK=function(t){return t.WGt="XGt",t.GGt="zGt",t.HGt="qGt",t.UGt="YGt",t}({}),hK=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).JGt=void 0,e.WT=new Jo,e.RWt=n,e.pVt=i,e.jGt=r,e}Rt(n,t);var i=n.prototype;return i.QGt=function(t){for(var n=0,i=this.jGt;n<i.length;n++){var r=i[n];Ao(t,r)||this.RWt.xGt(r)}this.jGt=t},i.SWt=function(){var t,n;return null!=(n=null==(t=this.JGt)?void 0:t.Vb)?n:ut.resolve()},i.AWt=function(){if(this.FIt)throw new y("Cannot perform new operation while transmuxer is still busy")},i.$Gt=function(t,n){},i.tHt=function(t){var n=this;this.AWt(),this.JGt=new Yc;var i=function(i){n.eHt(t,i)};this.iHt(t,this.WT.Vw).then(i,i)},i.sHt=function(t){var n=this;this.AWt(),this.JGt=new Yc;var i=function(i){n.eHt(t,i)};this.nHt(t,this.WT.Vw).then(i,i)},i.eHt=function(t,n){this.JGt&&(!n||Wo(n)||function(t){return t instanceof lY}(n)?(Wo(n)||this.RWt.PUt(t),this.JGt.Ob(),this.JGt=void 0):this.JGt.Fb(n))},i.rHt=function(t,n){this.wo(new uK(t,n))},i.oHt=function(t,n){this.wo(new oK(t,n))},i.hHt=function(t,n,i){fY(n)&&this.wo(new aK(t,i))},i.aHt=function(t){this.wo(new sK(t))},i.TGt=function(t){Ao(this.jGt,t.bat)&&this.RWt.TGt(t)},i.uHt=function(t){return this.RWt.EGt(t)},i.xWt=function(t){this.RWt.xWt(t)},i.cHt=function(t){return this.RWt.RGt(t)},i.Yw=function(){this.WT.Yw(),this.WT=new Jo},xt(n,[{key:"KGt",get:function(){return this.jGt}},{key:"FIt",get:function(){return void 0!==this.JGt}}]),n}(oa);function fK(t,n){return fY(t)?0:A.min(t.FO,n)}function vK(t,n){var i;return A.max(t.FO,n)+(null!=(i=t.ct)?i:0)}var lK=function(t){function n(n,i,r){return t.call(this,n,i,[r])||this}Rt(n,t);var i=n.prototype;return i.iHt=function(t,n){jo(n);var i={Aw:"bCt",qk:t.iOt.qk,bat:this.KGt[0],rOt:t.rOt,lHt:{Zrt:"",QBt:t.QBt},FO:t.FO,cLt:t.cLt,CWt:t.iOt.CWt};return this.TGt(i),ut.resolve()},i.nHt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return jo(n),void 0===(r=t.But.CWt).cit?[3,3]:i.pVt.zFt(t.rOt)?[3,2]:[4,Go(i.pVt.YFt(t.rOt),n)];case 1:c.sent(),c.label=2;case 2:return e=i.pVt.eVt(r.cit,r).dF(),[3,4];case 3:e=r.FO,c.label=4;case 4:return u=fK(r,e),s=vK(r,u),a={Aw:"But",qk:t.But.qk,bat:i.KGt[0],BGt:u,OGt:s,FO:e,ct:null!=(o=r.ct)?o:0,MV:0,rOt:t.rOt,cLt:t.cLt,CWt:t.But.CWt},i.TGt(a),[2]}}))}))()},n}(hK);function dK(t,n){for(var i=function(i){var e=t[i],u=e.FO;if(e.cLt.tLt.hOt&&fY(e.But))u=0;else{var s=function(t){return e.cLt===t.cLt&&vY(t.But,e.But)},o=go(t,s);if(void 0!==o)u=A.min(u,o.VO);else{var a=go(n,s);void 0!==a&&(u=A.min(u,a.mWt.jn(0)))}}r=r.JL(MA.vB(u,e.VO))},r=MA.mB(),e=0;e<t.length;e++)i(e);return r}U(),St();var gK=.001,mK=function(){function t(t,n,i,r){this._Ht=t,this.gHt=n,this.vHt=i,this.vZ=r,this.fHt=[]}var n=t.prototype;return n.SUt=function(t){this._Ht.SUt(t)},n.mHt=function(t){for(var n,i=function(t){var i=n.fHt[t];if(!i.gWt)throw new y("Invalid state");var e=po(r,(function(t){return t.Aw===i.Aw}));e>=0?(i.vot(r[e]),bo(r,e)):bo(n.fHt,t)},r=t.slice(),e=this.fHt.length-1;e>=0;e--)n=this,i(e);for(var u=0;u<r.length;u++){var s=r[u],o=new NY(s);this.fHt.push(new xY(s.Aw,s,this.gHt,o,this))}r.length>0&&this.gHt.Bb();var a=t.map((function(t){return t.Aw}));this.vHt.QGt(a)},n.Lj=function(t){var n,i=(null==(n=this.vZ)?void 0:n.Lj(t))||!1;return i&&(this.Yw(),this.gHt.Bb()),i},n.pHt=function(t){for(var n=0,i=this.fHt;n<i.length;n++){var r=i[n];if(r.Aw!==im.Ak||r.FIt)throw new y("Invalid state")}var e=new NY(t),u=new xY(im.Ak,t,this.gHt,e,this);this.fHt=[u]},n.Qat=function(){for(var t=0,n=this.fHt;t<n.length;t++){n[t].pWt._Wt()}},n.Flt=function(t){var n=this.wHt.dB(t,gK);return n?n.jn(n.V-1):t},n.BUt=function(t){return!!this.wHt.dB(t,gK)||this._Ht.BUt(t)},n.bHt=function(t){return this.yHt.kr(t,gK)},n.AHt=function(t,n,i){for(var r=0,e=this.fHt;r<e.length;r++){var u=e[r].pWt,s=u.zgt;if(void 0!==s&&n>=s&&!u.gR.zL().kr(s))return!0}return n-t<i},n.Yw=function(){this.SHt(),this.THt()},n.SHt=function(){this._Ht.Yw()},n.THt=function(){this.vHt.Yw(),this.dHt.forEach((function(t){return t.Yw()}))},n.Hw=function(){this.Yw(),this._Ht.Hw()},xt(t,[{key:"dHt",get:function(){return this.fHt}},{key:"cLt",get:function(){return this._Ht.cLt}},{key:"FIt",get:function(){return this._Ht.FIt||this.vHt.FIt||this.fHt.some((function(t){return t.FIt}))}},{key:"cWt",get:function(){var t=this.gHt.cWt;if(t)return t;if(this.fHt.length>0){var n=this.fHt[0].pWt.cWt;if(n&&this.fHt.every((function(t){return t.pWt.cWt===n})))return n}}},{key:"wHt",get:function(){if(0===this.fHt.length)return MA.mB();for(var t=dK(this.gHt.pGt.concat(this.gHt.yGt),Io(this.fHt,(function(t){return t.pWt.Ert}))).zL(),n=new MA([0,1/0]),i=0,r=this.fHt;i<r.length;i++){var e=r[i];n=n.Sn(e.pWt.gR)}for(var u=0,s=this.fHt;u<s.length;u++){var o=s[u];n=n.tB(o.wWt)}return(n=n.JL(t)).QL(gK)}},{key:"yHt",get:function(){if(0===this.fHt.length)return MA.mB();for(var t=dK(this.gHt.yGt,Io(this.fHt,(function(t){return t.pWt.Ert}))).zL(),n=new MA([0,1/0]),i=0,r=this.fHt;i<r.length;i++){var e=r[i];n=n.Sn(e.pWt.gR)}return n=n.JL(t)}}]),t}();U(),St(),Ct();var wK=function(t){function n(){return t.call(this,pH.jMt)||this}return Rt(n,t),n}(ha);U(),St(),Ct();var pK=function(t){function n(){return t.call(this,pH.YMt)||this}return Rt(n,t),n}(ha);U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt();var yK="LazyMediaBuffer",_K=function(t){function n(n,i){var r;return(r=t.call(this)||this).bp=n,r.IHt=i,r.ET=void 0,r.Aot=void 0,r.xHt=new Yc,r.Ij=20,r.kHt=!1,r.Dj=30,r.l3=new tC,r}Rt(n,t);var i=n.prototype;return i.EJ=function(){return this.Aot?this.Aot.EJ():this.kHt},i.f3=function(t,n){PH.DLt(yK,"Marking gap from "+t+" to "+n+"."),this.l3.FJ(t,n),this.Aot&&this.Aot.f3(t,n)},i._3=function(t,n){PH.DLt(yK,"Removing gap from "+t+" to "+n+"."),this.l3.VJ(t,n),this.Aot&&this.Aot._3(t,n)},i.EHt=function(t){this.Aot=t,this.Aot.Sj=this.Dj,this.Aot.wj=this.Ij;for(var n,i=this.l3.BJ,r=0;r<i.V;r++)this.Aot.f3(i.Cn(r),i.jn(r));this.kHt&&(PH.DLt(yK,"End of stream"),null==(n=this.Aot)||n.r3());this.Aot.yn(jR.JQ,this.Ds),this.xHt.Ob(t)},i.RHt=function(t){return Go(this.xHt.Vb,t)},i._2=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,r.RHt(i)];case 1:return[4,e.sent()._2(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.v3=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.RHt()];case 1:return[4,n.sent().v3()];case 2:return n.sent(),[2]}}))}))()},i.w2=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,r.RHt(i)];case 1:return[4,e.sent().w2(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.$S=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,r.RHt(i)];case 1:return[4,e.sent().$S(t,n,i)];case 2:return e.sent(),[2]}}))}))()},i.B2=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,i.RHt()];case 1:return[4,r.sent().B2(t,n)];case 2:return r.sent(),[2]}}))}))()},i.r3=function(){this.kHt=!0,this.Aot&&this.Aot.r3()},i.cJ=function(t){return!!this.Aot&&this.Aot.cJ(t)},i.dJ=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.RHt()];case 1:return[4,i.sent().dJ(t)];case 2:return i.sent(),[2]}}))}))()},i.gn=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return t.$o(),null==(n=t.Aot)||n.fn(jR.JQ,t.Ds),[2]}))}))()},xt(n,[{key:"Dk",get:function(){return this.ET}},{key:"h3",get:function(){return this.bp}},{key:"bd",get:function(){if(!this.Aot)throw new sl(el.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.Aot.bd}},{key:"wj",get:function(){return this.Ij},set:function(t){this.Ij=t,this.Aot&&(this.Aot.wj=t)}},{key:"gR",get:function(){return this.Aot?this.Aot.gR:MA.mB()}},{key:"u3",get:function(){return this.Aot?this.Aot.u3:this.l3.BJ}},{key:"Sj",get:function(){return this.Dj},set:function(t){this.Dj=t,this.Aot&&(this.Aot.Sj=t)}}]),n}(oa),bK="LazyMediaSource",kK=function(){function t(t,n,i){this.FB=t,this.CHt=void 0,this.PHt=void 0,this.OHt=new Yc,this.jG=void 0,this.BHt=!1,this.DA=NaN,this.hit=!1,this.DHt=0,this.NHt=1/0,this.MHt=!1,this.LHt=!1,n&&(PH.DLt(bK,"Created lazy media buffer for audio."),this.CHt=new _K(im.fE,this)),i&&(PH.DLt(bK,"Created lazy media buffer for video."),this.PHt=new _K(im._E,this))}var n=t.prototype;return n.n4=function(t){this.DA=t,this.jG&&this.jG.n4(t)},n.r3=function(){this.hit=!0,this.jG&&this.jG.r3()},n.K2=function(){this.hit=!1,this.jG&&this.jG.K2()},n.a4=function(t,n,i,r){this.DHt=t,this.NHt=n,this.MHt=Boolean(i),this.LHt=Boolean(r),this.jG&&this.jG.a4(t,n,i,r)},n.cJ=function(t){return!this.jG||this.jG.cJ(t)},n.dJ=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(!n.cJ(t))throw new y("LazyMediaSource - Unable to reconfigure MediaSource.");return n.jG?[3,2]:(n.FB.u7(),[4,n.FB.Dn(t)]);case 1:return e=u.sent(),E(n.DA)||e.n4(n.DA),n.hit&&e.r3(),e.a4(n.DHt,n.NHt,n.MHt,n.LHt),PH.DLt(bK,"The MediaSource has been loaded."),n.BHt=!0,n.jG=e,null==(i=n.CHt)||i.EHt(n.jG.J3),null==(r=n.PHt)||r.EHt(n.jG.t4),n.OHt.Ob(e),n.FB.l7(),[3,4];case 2:return[4,n.jG.dJ(t)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))()},n._J=function(t){this.jG._J(t)},n.Hw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.jG?[4,t.jG.Hw()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()},xt(t,[{key:"bd",get:function(){return{Aw:Sy.gW,u4:[],eH:[]}}},{key:"J3",get:function(){return this.CHt}},{key:"t4",get:function(){return this.PHt}},{key:"gR",get:function(){return this.jG?this.jG.gR:MA.mB()}},{key:"ct",get:function(){return this.jG?this.jG.ct:this.DA}},{key:"EJ",get:function(){return!!this.jG&&this.jG.EJ}},{key:"rI",get:function(){return this.jG?this.jG.rI:new MA([0,1/0])}}]),t}();function AK(t,n){return void 0===n&&(n=!1),function(i,r){void 0===r&&(r="*");var e,u,s,o=SK(i,"tag"),a=SK(null==r?"*":r,"range"),c=[],h=-1;for(;++h<a.length;)if(e=a[h].toLowerCase(),n||"*"!==e){for(u=-1,s=[];++u<o.length;)if(t(o[u].toLowerCase(),e)){if(!n)return o[u];c.push(o[u])}else s.push(o[u]);o=s}return n?c:void 0}}U(),St(),ct();AK((function(t,n){return"*"===n||t===n||js(t,n+"-")}),!0),AK((function(t,n){var i=t.split("-"),r=n.split("-"),e=0,u=0;if("*"!==r[u]&&i[e]!==r[u])return!1;for(e++,u++;u<r.length;)if("*"!==r[u]){if(!i[e])return!1;if(i[e]!==r[u]){if(1===i[e].length)return!1;e++}else e++,u++}else u++;return!0}),!0);var TK=AK((function(t,n){for(var i,r=n;;){if("*"===r||t===r)return!0;if((i=r.lastIndexOf("-"))<0)return!1;"-"===r.charAt(i-2)&&(i-=2),r=r.slice(0,i)}}));function SK(t,n){var i=t&&"string"==typeof t?[t]:t;if(!i||"object"!==(void 0===i?"undefined":W(i))||!("length"in i))throw new y("Invalid "+n+" `"+i+"`, expected non-empty string");return i}U(),St(),Gt(),Dt(),Jt(),U(),St();var EK=16384,IK=71,RK=188,CK=2,NK=3,xK=function(t){return t[t.tE=0]="tE",t[t.YC=1]="YC",t[t.FHt=2]="FHt",t[t.VHt=3]="VHt",t}({});function DK(t){return PK(t)?1:function(t){return function(t){if(t.length<CK*RK)return-1;for(var n=t.length<NK*RK?CK:NK,i=A.min(1e3,t.length-n*RK),r=0;r<=i;r++){for(var e=!0,u=0;u<n;u++)if(t[r+u*RK]!==IK){e=!1;break}if(e)return r}return-1}(t)>=0}(t)?2:function(t){return null!==Ox(Sc(t),new Dc)}(t)?3:0}function PK(t){var n=Ac(t,0,A.min(t.length,EK));return kp.JD(Sc(n))}var MK=function(){function t(t,n,i,r){this.bp=t,this.Aot=n,this.jgt=i,this.EDt=r}var n=t.prototype;return n.WHt=function(t){return this.Aot===t},n.w2=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.Aot.bd.Dk===t.lHt.Zrt?[3,2]:(r={Dk:t.lHt.Zrt},i.Aot.cJ(r)?[4,i.Aot.dJ(r)]:[3,2]);case 1:e.sent(),jo(n),e.label=2;case 2:return[4,i.Aot.w2(t.qk,{F1:t.cLt.xC},n)];case 3:return e.sent(),void 0!==i.EDt&&i.bp===im._E&&PK(t.qk.qk)&&i.EDt.Mot(t.qk.qk),[2]}}))}))()},n._2=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return jo(n),PH.DN("HlsMediaBuffer","Got media data, appending to "+i.bp+" MediaBuffer: "+ez(t.CWt.Pyt)),r=t.BGt,e=t.OGt,u={cit:t.FO,ct:t.ct,MV:t.MV,F1:t.cLt.xC},void 0===t.qk?[3,2]:[4,i.Aot._2(t.qk,u,n)];case 1:s.sent(),i.UHt(t.qk,t),s.label=2;case 2:return i.GHt(r,e),[2]}}))}))()},n.UHt=function(t,n){var i;if(PK(t.qk)){var r=n.FO,e=r+n.ct,u=n.MV;if(null==(i=this.jgt)||i.vdt(t.qk,r,u),void 0!==this.EDt&&this.bp===im._E){var s=n.CWt.COt;this.EDt.vdt(t.qk,r,e,u,n.cLt,s)}var o=[];void 0!==this.jgt&&o.push(this.jgt),void 0!==this.EDt&&o.push(this.EDt),gy(this.gR,o)}},n.GHt=function(t,n){for(var i=this.Aot.gR,r=new MA([t,n]).tB(i),e=0;e<r.V;e++)this.Aot.f3(r.Cn(e),r.jn(e));for(var u=0;u<i.V;u++)this.Aot._3(i.Cn(u),i.jn(u))},n.f3=function(t,n){this.Aot.f3(t,n)},n._3=function(t,n){this.Aot._3(t,n)},xt(t,[{key:"Aw",get:function(){return this.bp}},{key:"gR",get:function(){return this.Aot.gR}},{key:"u3",get:function(){return this.Aot.u3}}]),t}();function BK(t){if(t.Aw===tz.eBt&&void 0!==t.rLt){var n=t.rLt.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.rLt.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}U(),St(),U(),St(),U(),St();var OK=function(){function t(t){this.jG=t}var n=t.prototype;return n.KLt=function(t){var n,i,r;return null==(r=null==(i=this.jG)||null==(n=i.t4)?void 0:n.cJ(t))||r},n.jLt=function(t){var n,i,r;return null==(r=null==(i=this.jG)||null==(n=i.J3)?void 0:n.cJ(t))||r},t}(),LK="LLHLSPlayer",FK=[Ey.LL,Ey.BL,Ey.OL,Ey.tC],VK=[fa.zy,fa.Sy,fa.Ny,fa.Py],UK=2e3,WK=function(t){function n(n,i,r,e,u,s,o,a){var c,h;return c=t.call(this)||this,h=c,c.vZ=r,c.mZ=e,c.BWt=u,c.EZt=s,c.XZt=as(),c.gZt=!0,c.mZt=!0,c.cZt=!1,c.oZt=void 0,c.jG=void 0,c.cpt=void 0,c.fW=new Jo,c.aEt=void 0,c.WZt=void 0,c.GZt=void 0,c.HZt=void 0,c.YHt=void 0,c.ZHt=void 0,c.HHt=void 0,c.iZt=void 0,c.FZt=void 0,c.aXt=[],c.e4=void 0,c.i4=void 0,c.yZt=void 0,c.zHt=void 0,c.zZt=void 0,c.kZt=void 0,c.uXt=new Jo,c.fZt=void 0,c.j9=new Jo,c.Q9=void 0,c.tZt=-1,c.BXt=void 0,c.FXt=void 0,c.UXt=void 0,c.LXt=void 0,c.OXt=void 0,c.WXt=void 0,c.RSt=!0,c.QZt=0,c.jZt=!1,c.KG=nS.QH,c.zG=void 0,c.qG=void 0,c.h4=MA.mB(),c.rzt=[],c.hZt=void 0,c.aZt=void 0,c.sEt=!1,c.O9=!1,c.nxt=void 0,c.rxt=0,c.oxt=0,c.uZt=void 0,c.lZt=0,c.Okt=!1,c.KXt=!1,c.AZt=XA.jB,c.KPt=void 0,c.ozt=void 0,c.Ikt=0,c.handleContentProtectionErrorEvent=function(t){c.zG=am(t.errorObject),c.qG=t.errorObject,c.Ds(t)},c.handleBufferingErrorEvent=function(t){c.MH(new sl(el.MEDIA_LOAD_ERROR,t.lt.message,t.lt))},c._xt=function(t){c.MH(hm(t.lt))},c.tzt=function(){c.BFt();var t=c.ct;t!==c.nxt&&(c.nxt=t,c.wo(new _T(c.nxt)))},c.Mh=function(){c.RR&&c.wo(new kT(c.SR))},c.jNt=function(){c.wo(new pT(c.SR))},c.ezt=function(){c.skt(),c.wo(new yT(c.SR))},c.HB=function(){void 0!==c.ozt&&(qn.Wg(c.ozt),c.ozt=void 0),c.wo(new By(c.SR))},c.izt=function(){c.wo(new qR(c.SR))},c.BW=function(){c.wo(new Ry(c.SR,c.sI))},c.v6=function(){var t=c._Lt;Eo(c.rzt,t)||(c.wo(new CY),c.rzt=t),c.wo(new pg(c.SR,c.wR))},c.SXt=Ei((function(t){t.TE===im._E&&c.XHt()&&ta(c.qHt())}),200),c.TXt=function(t){var n;c.Ikt+=t.AUt;var i=c.rt.V>0?t.TE===im._E:t.TE===im.fE;"But"===t.bUt&&i&&ta(c.$Zt()),c.wo(new $O(function(t){if(t){if(void 0!==t.hAt){var n,i,r=t.hAt.Cn+(null!=(i=t.hAt.V)?i:0);return{Gu:t.Dx,rut:[null==(n=t.hAt)?void 0:n.Cn,r],kE:!0}}return{Gu:t.Dx.toString()||"",kE:!0}}return{Gu:"",kE:!0}}(t.uri),(null==(n=c.lLt)?void 0:n.wG)||0,t.mediaSequenceNumeber,t.mediaTrackId,t.TE,t.httpStatusCode,t.AUt))},c.We=function(){c.wo(new AT(c.SR))},c.bH=function(){c.wo(new TT(c.SR))},c.szt=function(){c.jkt()},c.nzt=function(){c.wo(new ST(c.SR,c.vI))},c.JXt=function(){c.FB.hI?c.wo(new Dy(c.SR)):(null!=c.ozt||(c.ozt=qn.Ug((function(){c.KXt&&(c.KPt=void 0,ta(c.jHt()))}),2500)),c.skt(),c.wo(new Dy(c.SR)))},c.$Xt=function(){c.KXt=!0,c.wo(new Py(c.SR,c.sI))},c._Zt=function(t){Wo(t)||jd(t)||Zd(t)||(c._Xt(),ta(c.mXt()),c.wo(new VH(t)))},c.uWt=function(){c.BFt()},c.SZt=function(t){ta(c.oXt(t.cLt,c.fW.Vw))},c.Ypt=function(t){if(!Wo(t)){var n=t instanceof sl?t:new sl(el.MEDIA_DECODE_ERROR,t.message,t);c.MH(n)}},c.onTextTrackChange=function(t){if(c.YHt){var n=t.Ht,i=c.ZZt(n);i&&(n.xE===Gp.NC||n.xE===Gp.Jn?(ta(c.rXt(i)),c.XZt.forEach((function(t){t!==n&&(t.xE=Gp.Th)}))):c.iZt&&c.iZt===i&&ta(c.bZt(c.ZHt,c.HHt,void 0)))}},c.retryOfflineRenditionsCallback=Zt((function(t,n){return Ht(this,(function(i){switch(i.label){case 0:return h.eZt!==t&&h.kLt!==t&&h.xLt!==t?[2]:[4,h.aEt.YVt(t,n)];case 1:return i.sent(),t.tLt.TFt=-1/0,[2]}}))})),c.dxt=function(){c.XTt()},c.fxt=function(){c.zTt()},c.kXt=function(t){var n=c.YHt,i=null==n?void 0:n.mOt;if(c.aEt.oWt(t.Zrt,t.cLt.tLt),!i&&(c.aEt.hWt(t.Zrt,t.cLt.tLt),c.IZt.WLt(),n)){var r=void 0!==c.ZHt&&!Ao(n.BLt,c.ZHt),e=void 0!==c.HHt&&!Ao(n.OLt,c.HHt);(r||e)&&c.bZt(r?void 0:c.ZHt,e?void 0:c.HHt,c.iZt).catch(Ti)}},c.EXt=function(t){c.IZt.HLt(t.cLt,t.Jdt)},c.xXt=function(t){c.IZt.XLt(t.cLt,t.ZGt.dF())},c.RXt=function(t){c.aEt.nWt(t.cLt)},c.Fut=new Uj(o),c.FB=n,c.lW=i,c.tH=new FH(c.vZ.aj),c.sXt=new UH(c.FB),c.tXt=new qH(c.vZ),c.qlt=a.retryConfiguration,c.aO=new nm,c.cO=new nm,c.IZt=new LH(c,c.vZ,c.aO,c.cO),c.KZt=new Qp,c.cH=new py(c.FB,c.lW),c.jgt=new Fj(c.FB),c.EDt=new hV(c.FB),c.Ll=new Bk([c.KZt,c.cH.Z,c.jgt.Z,c.EDt.Z,c.FB.nt]),c.rH=new Pk(c.lW),c.FB.gH=c.rH,c.uxt=new ZK(c,c.FB),c.YXt=new Ly(c.uxt,!0),c.QXt(),c}Rt(n,t);var i=n.prototype;return i.XHt=function(){if(void 0===this.zHt)return!1;var t=qn.Vg();if(!this.zHt._Ht.mGt(t))return!1;var n=this.zHt._Ht.dGt();if(void 0===n||void 0===n.But.ct)return!1;var i=this.SR,r=this.KR,e=this.zHt.wHt.dB(i);return!((void 0!==e?e.jn(0)-i:0)>=2*n.But.ct*r)&&(n.fGt>0&&0===n._Gt?n.vGt>1e3*n.But.ct*.8:8*n._Gt/this.vZ.aj.wG>=1.8*n.But.ct)},i.qHt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return[4,t.$Lt()];case 1:return void 0===(i=a.sent())||void 0===(r=null==(n=t.zHt)?void 0:n._Ht.dGt())?[2]:(e=t.YHt,r._Gt>0&&(u=A.max(0,r._Gt-r.fGt),s=r._Gt*(i.wG/e.wG),u<=s)?[2]:(o=i.wG<e.wG,[4,t.mLt(i,{gLt:o})]));case 2:return a.sent(),[2]}}))}))()},i.KHt=function(t){return Ro(t,(function(t){return t.wG}))},i.jHt=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return[4,t.QHt()];case 1:return 0===(n=e.sent()).length?[2]:[4,t.JHt(n)];case 2:return(i=e.sent()).length>0&&(n=i),void 0===(r=t.KHt(n))?[3,4]:[4,t.mLt(r,{gLt:!0})];case 3:e.sent(),t.tH.vIt(r.wG),e.label=4;case 4:return[2]}}))}))()},i.ER=function(t,n){var i,r,e,u,s=this;PH.DN(LK,"Seeking to "+t+" s.");var o={nZt:null!=(r=null==n?void 0:n.nZt)?r:t===1/0,rZt:null==(e=null==n?void 0:n.rZt)||e,KBt:null!=(u=null==n?void 0:n.KBt)&&u};this.hZt=t,this.aZt=o,this.uZt=!0,this.sEt=!0,null==(i=this.GG)||i.EI(),this.wo(new AT(t)),this.j9.Yw(),this.cZt&&(qn.Wg(this.lZt),o.rZt?this.lZt=qn.Ug((function(){return s.dZt(t,o)}),50):this.dZt(t,o))},i.dZt=function(t,n){qn.Wg(this.lZt);var i=[this.cpt,this.fZt,this.Q9].filter(Yn);this.j9=new Jo,this.j9.Kw(this.fW.Vw),this.Q9=Ho(this.J9(i,t,n,this.j9.Vw),this.j9).catch(this._Zt)},i.BFt=function(){var t=function(t){if(0===t.length)return MA.mB();for(var n=new MA([0,1/0]),i=0,r=0;r<t.length;r++){var e=t[r].tLt.rI;e.V>0&&(n=n.Sn(e),i=A.max(i,e.Cn(0)))}if(n.V>0)return n;return MA._B(i)}([this.ZHt,this.HHt].filter(Yn));0!==t.V&&(this.jG&&this.$Ht&&this.jG.ct!==1/0&&(t=new MA([t.Cn(0),this.jG.ct])),this.h4=t,this.mZt&&this.jgt.iW(t.Cn(0)),this.gZt&&this.EDt.iW(t.Cn(0)))},i.xI=function(){return!1},i.bI=function(){return this.FB.Ca},i.Sa=function(){return this.FB.lH},i.LI=function(t){return this.FB.dH(t)},i.be=function(){PH.DN(LK,"Hiding the player."),this.FB.be()},i.TI=function(){var t;PH.DN(LK,"Pausing the player."),this.FB.TI(),(null==(t=this.GG)?void 0:t.gB)&&this.GG.EI()},i.kI=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return t.O9=!0,n=t.FB.kI(),t.RR&&(i=t.xkt).V>0&&t.ER(i.Cn(0),{rZt:!1}),t.cZt?[3,2]:[4,t.vZt()];case 1:r.sent(),r.label=2;case 2:return t.skt(),[4,n];case 3:return r.sent(),t.nEt(),[2]}}))}))()},i.skt=function(){var t;if(!this.Ekt())if(null==(t=this.lLt)?void 0:t.tLt.hOt){var n,i=!0,r=0,e=null==(n=this.YHt)?void 0:n.tLt.Cn;if(!this.sEt&&e&&(i=!e.KBt,(r=e.YBt)<0)){var u=this.lLt.tLt.oFt;r+=u.jn(u.V-1)}this.dZt(r,{nZt:i})}else this.dZt(1/0,{nZt:!0});this.pZt()&&this.dZt(1/0,{nZt:!0})},i.Ekt=function(){var t,n=this.xkt;if(0===n.V)return!0;var i=null==(t=this.wZt)?void 0:t.eB(this.SR);return(i&&i>0?this.wZt.jn(i):this.SR)>=n.Cn(0)},i.pZt=function(){return JK(this.SR,this.ZHt)||JK(this.SR,this.HHt)},i.WEt=function(){this.zG=void 0,this.qG=void 0},i.MH=function(t){this.zG||(ta(this.er()),this.zG=am(t),this.qG=t,this.wo(new Ek(t)))},i.ge=function(){PH.DN(LK,"Showing the player."),this.FB.ge()},i.RI=function(){throw new y("Not implemented")},i.II=function(){throw new y("Not implemented")},i.CI=function(){},i.DI=function(){this.cZt&&ta(this.bZt(this.ZHt,this.HHt,this.iZt,{DI:!0}))},i.xa=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:e={stack:[],error:void 0,hasError:!1},f.label=1;case 1:return f.trys.push([1,4,5,6]),PH.DN(LK,"Setting the player source to "+t.src+"."),r.WEt(),!r.oZt||hT(r.oZt)?[3,3]:[4,r.er()];case 2:f.sent(),jo(i),f.label=3;case 3:return!t.src||hT(t)?[2]:(s=Yt(e,Jo.Qw([i]),!1),r.fW=Jo.Qw([s.Vw]),r.rH.SG(t.contentProtection),r.oZt=t,r.AZt=t.seamlessSwitchStrategy,r.gZt=!Ao(t.ignoreEmbeddedTextTrackTypes,xm.CEA608),r.mZt=!Ao(t.ignoreEmbeddedTextTrackTypes,xm.EMSG),r.yn(pH.JMt,r.handleBufferingErrorEvent),a=null!=(o=null==(u=t.latencyConfiguration)?void 0:u.targetOffset)?o:t.liveOffset,r.aEt=new AY(r.lW,r.Fut,t.useCredentials,qn.Jp(t.src),a),r.aEt.yn(kY.CVt,r.uWt),r.aEt.yn(kY.PVt,r.SZt),r.aEt.yn(fa.Vy,r.Ds),r.aEt.yn(fa.Wy,r.Ds),t.hlsDateRange&&(r.TZt=new RY(r.aEt,r.FB),r.Ll.DG(r.TZt.nt)),null!=r.kZt||(r.kZt=r.EZt.fit()),n.textTracks&&r.oH(n.textTracks),t.latencyConfiguration&&(c=t.latencyConfiguration,r.GG=new Wj(r,r.FB,c),r.GG.Rt=!0,r.pI.Ma(r.GG)),Ay(r.Ll),r.vZt(),s.Hw(),[3,6]);case 4:return h=f.sent(),e.error=h,e.hasError=!0,[3,6];case 5:return Kt(e),[7];case 6:return[2]}}))}))()},i.vZt=function(){return this.cpt=this.xZt(this.cpt,this.fW.Vw).catch(this.Ypt),this.cpt},i.xZt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return t?[4,t]:[3,2];case 1:e.sent(),jo(n),e.label=2;case 2:return i.aEt?(r=i.KG)===nS.jB||i.O9?[4,i.KE(n)]:[3,4]:[2];case 3:return e.sent(),[3,6];case 4:return r!==nS.$V?[3,6]:[4,i.RZt(n)];case 5:e.sent(),e.label=6;case 6:return[2]}}))}))()},i.RZt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:if(void 0===n.aEt||n.Okt)return[2];if(n.aEt.MVt)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.aEt.WVt(t)];case 2:return a.sent(),[3,4];case 3:throw Zo(i=a.sent()),n.XR=!1,new sl(el.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+i.message,i);case 4:n.IZt.rft(),a.label=5;case 5:return[4,n.CZt()];case 6:return r=a.sent(),n.PZt(r),e=n.DZt(r.BLt),u=n.NZt(r.OLt),(s=n.MZt(r.pOt))||(o=GK(r.wOt))&&(PH.DN(LK,"Detected initial closed caption rendition."),n.LZt(r,o)),[4,n.bZt(e,u,s,{BZt:!0})];case 7:return a.sent(),n.Okt=!0,n.uxt.mxt(),n.OZt(),[2]}}))}))()},i.OZt=function(){var t,n=[this.ZHt,this.HHt].filter(Yn);if(!n.some((function(t){return t.tLt.hOt}))&&!this.GG){var i=(t=A).max.apply(t,Ut(n.map((function(t){var n;return null!=(n=t.tLt.LSt)?n:0})))),r={minimumOffset:.66*i,maximumOffset:2*i,targetOffset:1*i,forceSeekOffset:3*i,minimumPlaybackRate:OA,maximumPlaybackRate:LA};this.GG=new Wj(this,this.FB,r),this.mZ.Ma(this.GG)}},i.CZt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:if(t.FZt=t.aEt.Pr.LLt,!t.FZt.length)throw new sl(el.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");return[4,t.VZt(t.FZt)];case 1:if(0===(n=r.sent()).length)throw new sl(el.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");return[4,t.JHt(n)];case 2:return(i=r.sent()).length>0&&(n=i),PH.DN(LK,"Selecting initial active variant stream."),[2,HK(n,t.oZt.abr,t.vZ,t.qlt.maximumBackoff)]}}))}))()},i.DZt=function(t){if(this.WZt){var n=this.UZt(this.WZt);if(n)return n}return YK(t)},i.NZt=function(t){if(this.GZt){var n=this.UZt(this.GZt);if(n)return n}return YK(t)},i.MZt=function(t){for(var n=0,i=this.Ll.uC;n<i.length;n++){var r=i[n];r.xE===Gp.Jn&&(this.HZt=this.ZZt(r))}if(this.HZt){var e=this.UZt(this.HZt);if(e)return e}return GK(t)},i.ZZt=function(t){var n=this;return go(this.YHt.pOt,(function(i){return t===n.XZt.get(i.xC)}))},i.KE=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.cZt?[2]:[4,n.RZt(t)];case 1:return i.sent(),jo(t),n.cZt=!0,[4,n.bZt(n.ZHt,n.HHt,n.iZt,{BZt:!0})];case 2:return i.sent(),[2]}}))}))()},i.oH=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.cH.aW(i)}},i.LZt=function(t,n){if(this.gZt){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=BK(r);void 0!==e&&n.push({Gtt:e,Htt:r.gs||"",xh:r.l})}return n}(t.wOt),r=0;r<i.length;r++){var e=i[r];this.EDt.pgt(e)}if(void 0!==n){var u=BK(n);this.EDt.mgt(u).xE=Gp.Jn}}},i.vLt=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.qZt(i))throw new y("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.FZt=t},i.qZt=function(t){var n=this.Pr;return!!n&&Ao(n.LLt,t)},i.UZt=function(t){if(t&&this.YHt)return go(this.YHt.GLt,(function(n){return n===t}))},i.PZt=function(t){var n;if(PH.DN(LK,"Setting active variant stream."),this.YHt!==t){var i=(null==(n=this.YHt)?void 0:n.kBt)!==(null==t?void 0:t.kBt);if(this.YHt&&i)for(var r=0,e=this.YHt.pOt;r<e.length;r++){var u=e[r];this._W(u)}if(this.YHt=t,this.wo(new wK),this.jkt(),t&&i)for(var s=0,o=t.pOt;s<o.length;s++){var a=o[s];this.YZt(a)}}},i.YZt=function(t){var n=this.FB.LI($p.jV,void 0,t.l,t.gs,t.eLt,void 0,void 0,t.hLt.map(xH).filter(Yn));n.yn(Rg.la,this.onTextTrackChange),this.XZt.set(t.xC,n),this.KZt.tt(n)},i._W=function(t){var n=this.XZt.get(t.xC);n&&(n.fn(Rg.la,this.onTextTrackChange),this.KZt.it(n),this.XZt.delete(t.xC),this.FB._W(n))},i.QHt=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return 0!==(i=null!=(n=t.FZt)?n:t.Pr.LLt).length||t.FZt?1!==i.length||t.FZt?[4,t.VZt(i)]:(PH.DN(LK,"The HLS stream contains only a single variant stream, skipping ABR selection."),[2,[]]):(PH.DN(LK,"The HLS stream does not contain any variant streams, skipping ABR selection."),[2,[]]);case 1:return 0===(r=u.sent()).length?(PH.NLt(LK,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),[2,[]]):0!==(e=KK(r,t.qlt.maximumBackoff)).length?[3,3]:t.jZt?[2,[]]:(PH.NLt(LK,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),t.QZt++,[4,t.JZt(r)]);case 2:return u.sent(),[2,[]];case 3:return[2,e]}}))}))()},i.$Zt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.$Lt()];case 1:return void 0===(n=r.sent())?[2]:(i=!!t.YHt&&n.wG<t.YHt.wG,[4,t.mLt(n,{gLt:i})]);case 2:return r.sent(),[2]}}))}))()},i.$Lt=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,t.QHt()];case 1:return 0===(r=c.sent()).length?[2,void 0]:(e=tG(t.FB),[4,t.JHt(r)]);case 2:return u=c.sent(),s={ji:t.FB.ji,Ti:t.FB.Ti,YLt:e,Tlt:null==(i=t.oZt)||null==(n=i.abr)?void 0:n.restrictToPlayerSize},[4,t.tXt.$Lt(r,t.YHt,u,s,new OK(t.jG))];case 3:return o=c.sent(),a=!!t.YHt&&o.wG<t.YHt.wG,[2,a||t.eXt(o,e)?o:void 0]}}))}))()},i.eXt=function(t,n){var i;if(t===this.lLt)return!1;var r=this.lLt&&qK(this.lLt,this.qlt.maximumBackoff),e=qK(t,this.qlt.maximumBackoff);if(!r&&e)return!0;(!this.KPt||this.KPt.dLt.wG>t.wG)&&(this.KPt={dLt:t,Bft:qn.Vg()});var u,s=qn.Vg()-this.KPt.Bft,o=null!=(u=null==(i=this.xLt)?void 0:i.tLt.qLt)?u:1/0;return n>=A.max(o-1,5)||s>1e3},i.JZt=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:n.jZt=!0,i=!1,r=0,s.label=1;case 1:if(!(r<t.length))return[3,6];e=t[r],s.label=2;case 2:return s.trys.push([2,4,,5]),void 0===(u=n.HHt?go(e.OLt,(function(t){return _H(t,n.HHt)})):void 0)?[3,5]:[4,n.YVt(u)];case 3:return s.sent(),u.tLt.TFt=-1/0,i=!0,[3,5];case 4:return s.sent(),[3,5];case 5:return r++,[3,1];case 6:return i?(n.QZt=0,[4,n.iXt()]):[3,8];case 7:return s.sent(),[3,10];case 8:return n.QZt>=n.qlt.maxRetries?(n.MH(new sl(el.MEDIA_LOAD_ERROR,"The provided video renditions could not be loaded.")),[2]):[4,ra(A.min(n.qlt.minimumBackoff*A.pow(2,n.QZt-1),n.qlt.maximumBackoff))];case 9:s.sent(),s.label=10;case 10:return n.jZt=!1,[4,n.$Zt()];case 11:return s.sent(),[2]}}))}))()},i.VZt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,Po(t,Zt((function(t){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return 0===(u=[(null==(i=t.Zrt)?void 0:i.sPt)?'audio/mp4; codecs="'+t.Zrt.sPt+'"':void 0,(null==(r=t.Zrt)?void 0:r.rPt)?'video/mp4; codecs="'+t.Zrt.rPt+'"':void 0].filter(Yn)).length?[2,!0]:[4,n.sXt.DJ(u,null==(e=n.oZt)?void 0:e.useManagedMediaSource)];case 1:return[2,s.sent()]}}))})))];case 1:return(i=r.sent()).some((function(t){var n;return null==(n=t.Zrt)?void 0:n.rPt}))&&(i=i.filter((function(t){return!t.Zrt||t.Zrt.rPt||0!==t.OLt.length}))),i.some((function(t){var n;return null==(n=t.Zrt)?void 0:n.sPt}))&&(i=i.filter((function(t){return!t.Zrt||t.Zrt.sPt||0!==t.BLt.length}))),[2,i]}}))}))()},i.JHt=function(t){var n=this;return this.aEt.BVt?Po(t,(function(t){return function(t,n){return Oo.apply(this,arguments)}([YK(t.BLt),YK(t.OLt),GK(t.pOt),GK(t.wOt)].filter(Yn),(function(t){return n.nXt(t)}))})):ut.resolve([])},i.nXt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(0===t.tLt.Ert.length)return[2,!1];if(!(i=t.tLt.Ert[0]).Pyt)return[2,!1];r=i.Pyt,e=r.hAt?JH(r.hAt.Cn,r.hAt.V):void 0,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.Fut.hrt(r.Dx,e)];case 2:return[2,u.sent()];case 3:return u.sent(),[2,!1];case 4:return[2]}}))}))()},i.mLt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:if(!i.cZt)throw new y("LLHLSPlayer - The LLHLSPlayer is not loaded.");if(!t)throw new y("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");if(!i.qZt(t))throw new y("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");return t===i.YHt?(PH.DN(LK,"Trying to set the already active variant stream, ignoring."),[2]):(r=i.ZHt?go(t.BLt,(function(t){return _H(t,i.ZHt)})):void 0,e=i.HHt?go(t.OLt,(function(t){return _H(t,i.HHt)})):void 0,u=i.iZt?go(t.pOt,(function(t){return _H(t,i.iZt)})):void 0,i.PZt(t),i.KPt=void 0,[4,i.bZt(r,e,u,n)]);case 1:return s.sent(),[2]}}))}))()},i.ELt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(!n.YHt)return n.WZt=t,[2];if(i=n.UZt(t),t&&!i)throw new y("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");return n.kLt===i?[2]:(r=Yn(i)!==Yn(n.ZHt),PH.DN(LK,"Switching audio rendition"),[4,n.bZt(i,n.HHt,n.iZt,{wLt:!0,gLt:r})]);case 1:return e.sent(),[2]}}))}))()},i.RLt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(!n.YHt)return n.GZt=t,[2];if(i=n.UZt(t),t&&!i)throw new y("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");return n.xLt===i?[2]:(r=Yn(i)!==Yn(n.HHt),PH.DN(LK,"Switching video rendition"),[4,n.bZt(n.ZHt,i,n.iZt,{pLt:!0,gLt:r})]);case 1:return e.sent(),[2]}}))}))()},i.rXt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(!t)throw new y("LLHLSPlayer - Cannot explicitly set the active subtitle rendition to undefined.");if(!n.Okt)return n.HZt=t,[2];if(!(i=n.UZt(t)))throw new y("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");return PH.DN(LK,"Switching subtitle rendition"),[4,n.bZt(n.ZHt,n.HHt,i)];case 1:return r.sent(),[2]}}))}))()},i.oXt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.jZt?[2]:(r=0===i.rt.V,t.Aw===tz._E||t.Aw===tz.fE&&r?[3,2]:[4,i.hXt(t,n)]);case 1:return e.sent(),[3,10];case 2:return i.FZt&&i.FZt.length<=1?t.Aw!==tz._E||i.HHt===t?[3,4]:[4,i.bZt(i.ZHt,t,i.iZt)]:[3,8];case 3:return e.sent(),[3,6];case 4:return t.Aw===tz.fE&&r&&i.ZHt!==t?[4,i.bZt(t,i.HHt,i.iZt)]:[3,6];case 5:e.sent(),e.label=6;case 6:return[4,i.hXt(t,n)];case 7:return e.sent(),[3,10];case 8:return[4,i.$Zt()];case 9:e.sent(),e.label=10;case 10:return[2]}}))}))()},i.YVt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,5]),[4,i.aEt.YVt(t,n)];case 1:return e.sent(),[3,5];case 2:return Zo(r=e.sent()),jd(r)||Zd(r)?[4,i.oXt(t,n)]:[3,4];case 3:e.sent(),e.label=4;case 4:throw r;case 5:return[2]}}))}))()},i.hXt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:if(Ao(i.aXt,t))return[2];i.aXt.push(t),u.label=1;case 1:return u.trys.push([1,3,4,7]),r=t.Aw===tz.jV||t.Aw===tz.eBt?1/0:i.qlt.maxRetries,[4,ET((function(){return i.retryOfflineRenditionsCallback(t,n)}),n,r,i.qlt.minimumBackoff,i.qlt.maximumBackoff)];case 2:return u.sent(),[3,7];case 3:return e=u.sent(),i.MH(new sl(el.MEDIA_LOAD_ERROR,e.message,e)),[3,7];case 4:return _o(i.aXt,t),t.tLt.TFt!==-1/0?[3,6]:[4,i.iXt()];case 5:u.sent(),u.label=6;case 6:return[7];case 7:return[2]}}))}))()},i.bZt=function(t,n,i,r){void 0===r&&(r={});var e={gLt:r.gLt||!1,wLt:r.wLt||!1,pLt:r.pLt||!1,DI:r.DI||!1,BZt:r.BZt||!1};return e.BZt||e.DI||this.ZHt!==t||this.HHt!==n||this.iZt!==i?void 0===t&&void 0===n?ut.reject(new y("Trying to buffer no media renditions.")):(this.ZHt=t,this.HHt=n,this.iZt=i,this.BFt(),this.wo(new pK),this.j9.Yw(),this.j9=new Jo,this.j9.Kw(this.fW.Vw),this.uXt.Yw(),this.uXt=new Jo,this.uXt.Kw(this.fW.Vw),this.fZt=Ho(this.cXt([this.fZt,this.Q9].filter(Yn),t,n,i,e,this.uXt.Vw),this.uXt).catch(this._Zt),this.fZt):ut.resolve()},i.lXt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){return(o=[]).push(e.dXt(n,r)),bH(t,n)||o.push(e.dXt(t,r)),(null==(s=e.oZt)||null==(u=s.hls)?void 0:u.delaySubtitlePreload)?[2,ut.all(o).then((function(){return e.dXt(i,r)}))]:(a=e.dXt(i,r),[2,ut.all(Ut(o).concat([a]))])}))}))()},i.dXt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:if(!t)return[2];e.label=1;case 1:return e.trys.push([1,3,,6]),[4,i.aEt.YVt(t,n)];case 2:return e.sent(),[3,6];case 3:return Zo(r=e.sent()),jd(r)||Zd(r)?[4,i.fXt(t,n)]:[3,5];case 4:e.sent(),e.label=5;case 5:return[3,6];case 6:return[2]}}))}))()},i.fXt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return i.jZt?[2]:(r=0===i.rt.V,t.Aw===tz._E||t.Aw===tz.fE&&r?[3,2]:[4,i.hXt(t,n)]);case 1:return a.sent(),[3,7];case 2:return i.FZt&&i.FZt.length<=1?[4,i.hXt(t,n)]:[3,4];case 3:return a.sent(),[3,7];case 4:return[4,i.CZt()];case 5:return e=a.sent(),i.PZt(e),u=i.DZt(e.BLt),s=i.NZt(e.OLt),o=i.MZt(e.pOt),[4,i.bZt(u,s,o)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))()},i.cXt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:return s.cZt?[3,2]:[4,s.lXt(n,i,r,u)];case 1:return g.sent(),[2];case 2:return[4,ut.all(t.map((function(t){return t.catch(Ti)})))];case 3:return g.sent(),s._Xt(),[4,s.vXt(u)];case 4:return g.sent(),[4,s.mXt()];case 5:return g.sent(),a=[],e.wLt&&s.jG&&s.jG.J3&&a.push(s.jG.J3.$S(0,1/0)),e.pLt&&s.jG&&s.jG.t4&&a.push(s.jG.t4.$S(0,1/0)),[4,ut.all(a)];case 6:return g.sent(),jo(u),[4,s.gXt(n,i,e.DI,u)];case 7:c=g.sent(),s.pXt(n,i,e.gLt||c),s.wXt(r,e.gLt),jo(u),h=[i,bH(n,i)?void 0:n,r].filter(Yn),g.label=8;case 8:return g.trys.push([8,10,,11]),[4,ut.all(h.filter((function(t){return!t.tLt.gFt})).map((function(t){var n;return null==(n=s.aEt)?void 0:n.KVt(t,u)})))];case 9:return g.sent(),[3,11];case 10:return Zo(g.sent()),[3,11];case 11:return jo(u),s.o4(),s.BFt(),void 0!==s.hZt?s.dZt(s.hZt,s.aZt):!s.sEt&&(null==(o=s.YHt)?void 0:o.tLt.Cn)?(f=s.YHt.tLt,v=f.Cn,l=v.YBt,v.YBt<0&&(d=f.oFt,l+=d.jn(d.V-1)),s.dZt(l,{nZt:!v.KBt})):!s.sEt&&h.every((function(t){return!t.tLt.hOt}))?s.dZt(1/0,{nZt:!0}):s.sZt.length>0&&s.yXt(),[2]}}))}))()},i.gXt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,l,d;return Ht(this,(function(g){switch(g.label){case 0:return o=void 0!==t&&t!==n,a=void 0!==n,[4,e.bXt(t,n,e.YHt)];case 1:return c=g.sent(),jo(r),i||!e.jG||c?(h=void 0!==(null==(u=e.jG)?void 0:u.J3),f=void 0!==(null==(s=e.jG)?void 0:s.t4),v=o!==h||a!==f,!i&&!v&&c&&e.jG&&e.jG.cJ(c)?[4,e.vXt(r)]:[3,4]):[2,!1];case 2:return g.sent(),[4,e.jG.dJ(c)];case 3:return g.sent(),[2,!0];case 4:for(l=0,d=e.sZt;l<d.length;l++)d[l].dHt.forEach((function(t){return t.Yw()}));e.FB.u7(),g.label=5;case 5:return g.trys.push([5,,9,10]),e.jG?[4,e.FB.er()]:[3,7];case 6:g.sent(),g.label=7;case 7:return[4,e.AXt(c,o,a)];case 8:return e.jG=g.sent(),[3,10];case 9:return e.FB.l7(),[7];case 10:return[2,!0]}}))}))()},i.bXt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b;return Ht(this,(function(k){switch(k.label){case 0:if(s=i.Zrt,o=[],void 0!==t){if(!(h=null!=(c=null==(a=t.Zrt)?void 0:a.sPt)?c:null==s?void 0:s.sPt))return[2,void 0];f='audio/mp4; codecs="'+h+'"',PH.DN(LK,"Configuring MediaSource for initial audio rendition with codec: "+f+"."),o.push(f)}if(void 0!==n){if(!(d=null!=(l=null==(v=n.Zrt)?void 0:v.rPt)?l:null==s?void 0:s.rPt))return[2,void 0];g='video/mp4; codecs="'+d+'"',PH.DN(LK,"Configuring MediaSource for initial video rendition with codec: "+g+"."),o.push(g)}return 0===o.length?(PH.NLt(LK,"No codecs found on the active variant stream."),[2,void 0]):(w=null!=(m=null==n||null==(e=n.tLt.Ert[0])?void 0:e.QBt)?m:[],y=null!=(p=null==t||null==(u=t.tLt.Ert[0])?void 0:u.QBt)?p:[],_=r.aEt.Pr,[4,cz(r.oZt.contentProtection,o,_.vVt.concat(y).concat(w),r.lW,r.oZt.useCredentials)]);case 1:return b=k.sent(),[2,{Aw:Sy.gW,u4:o.map((function(t){return{Dk:t}})),eH:b,b4:r.oZt.useManagedMediaSource}]}}))}))()},i.AXt=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){switch(u.label){case 0:return t?[4,r.FB.Dn(t)]:[3,2];case 1:return e=u.sent(),[3,3];case 2:e=new kK(r.FB,n,i),u.label=3;case 3:return r.jG=e,r.o4(),r.XTt(),r.zTt(),[2,e]}}))}))()},i.o4=function(){var t=this.jG;if(t&&E(t.ct)){var n,i,r,e=null!=(r=null==(n=this.ZHt)?void 0:n.tLt.ct)?r:null==(i=this.HHt)?void 0:i.tLt.ct;void 0!==e&&e>0&&t.n4(e)}this.BFt()},i.XTt=function(){var t=this.jG;t&&(t.t4&&(t.t4.wj=this.vZ.Cj),t.J3&&(t.J3.wj=this.vZ.Cj))},i.zTt=function(){var t=this.jG;t&&(t.t4&&(t.t4.Sj=this.vZ.Sj),t.J3&&(t.J3.Sj=this.vZ.Sj))},i.pXt=function(t,n,i){if(!this.jG)throw new y("Invalid state");this.jG.J3?this.e4&&this.e4.WHt(this.jG.J3)||(this.e4=new MK(im.fE,this.jG.J3,this.mZt?this.jgt:void 0,this.gZt?this.EDt:void 0)):this.e4=void 0,this.jG.t4?this.i4&&this.i4.WHt(this.jG.t4)||(this.i4=new MK(im._E,this.jG.t4,this.mZt?this.jgt:void 0,this.gZt?this.EDt:void 0)):this.i4=void 0;var r,e=bH(t,n);if(this.i4&&n){var u=e&&this.e4?[this.i4,this.e4]:[this.i4];this.zHt?(i&&(this.zHt.Yw(),this.zHt.gHt.Bb()),this.zHt.cLt!==n&&this.zHt.SUt(n)):(this.zHt=function(t,n,i,r,e,u,s,o,a,c){var h=r.Pr.NL,f=new nK(h),v=new JY(im._E,t,r,f,e,u,s,c),l=n.map((function(t){return t.Aw})),d=o.pTt(f,r.Pr.NL,l),g=new mK(v,f,d,a);return g.mHt(n),g}(n,u,this.FB,this.aEt,this.lW,this.Fut,this.BWt,this.kZt,this.vZ,this.oZt.useCredentials),this.zHt._Ht.yn(qY.wUt,this.SXt),this.zHt._Ht.yn(qY.yUt,this.TXt),this.zHt.vHt.yn(cK.WGt,this.kXt),this.zHt.vHt.yn(cK.GGt,this.EXt),this.zHt.vHt.yn(cK.HGt,this.xXt),this.zHt.vHt.yn(cK.UGt,this.RXt)),this.zHt.mHt(u)}else{var s;null==(s=this.zHt)||s.Hw(),this.zHt=void 0}this.e4&&t&&!e?(this.yZt?(i&&(this.yZt.Yw(),this.yZt.gHt.Bb()),this.yZt.cLt!==t&&this.yZt.SUt(t)):(this.yZt=function(t,n,i,r,e,u,s,o,a,c){var h=r.Pr.NL,f=new nK(h),v=new JY(im.fE,t,r,f,e,u,s,c),l=o.pTt(f,r.Pr.NL,[n.Aw]),d=new mK(v,f,l,a);return d.mHt([n]),d}(t,this.e4,this.FB,this.aEt,this.lW,this.Fut,this.BWt,this.kZt,this.vZ,this.oZt.useCredentials),this.yZt._Ht.yn(qY.yUt,this.TXt),this.yZt.vHt.yn(cK.WGt,this.kXt),this.yZt.vHt.yn(cK.UGt,this.RXt)),this.yZt.mHt([this.e4])):(null==(r=this.yZt)||r.Hw(),this.yZt=void 0);this.IXt()},i.wXt=function(t,n){this.zZt&&(this.zZt._Ht.cLt===t?n&&(this.zZt.Yw(),this.zZt.gHt.Bb()):(this.zZt.Hw(),this.zZt=void 0));if(!this.zZt&&t){var i=this.XZt.get(t.xC);i.xE=Gp.Jn,this.zZt=function(t,n,i,r,e,u,s){var o=i.Pr.NL,a=new eK(n,o),c=new nK(o),h=new JY(im.Ak,t,i,c,r,e,u,s),f=new lK(c,o,im.Ak),v=new mK(h,c,f);return v.pHt(a),v}(t,i,this.aEt,this.lW,this.Fut,this.BWt,this.oZt.useCredentials)}},i.IXt=function(){var t=[this.e4,this.i4].filter(Yn).map((function(t){return t.Aw}));this.aEt.Pr.NL.fVt(t)},i.J9=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return[4,ut.all(t.map((function(t){return t.catch(Ti)})))];case 1:return c.sent(),jo(r),[4,e.mXt()];case 2:return c.sent(),jo(r),e.hZt=void 0,e.uZt=void 0,e.sEt=!0,i.KBt?(s=[e.ZHt,e.HHt].filter(Yn),u=XK(s)):u=e.xkt,o=u.qL(n),a=e.FB.vy(fa.Ky,r),e.FB.Eb(o,i.nZt),e.cZt&&e.sZt.length>0&&(e.aEt.Pr.NL._Vt(),e.CXt(e.FB.SR),e.yXt()),[4,a];case 3:return c.sent(),e.nEt(),[2]}}))}))()},i.nEt=function(){var t=this.qB;if(!this.qR&&!this.hI&&void 0!==t){var n,i,r=this.SR;if(t+this.SR-this.pI.bd.maximumOffset<r)null==(n=this.GG)||n.Cn();else null==(i=this.GG)||i.EI()}},i.CXt=function(t){for(var n=0,i=this.sZt;n<i.length;n++){var r=i[n];r.BUt(t)||(r.SHt(),r.gHt.IGt()),r.bHt(t)||(r.THt(),r.gHt.CGt())}},i._Xt=function(){for(var t=0,n=this.sZt;t<n.length;t++){n[t].Yw()}},i.mXt=function(){return ut.all([this.DDt(),this.PXt(),this.DXt()])},i.yXt=function(){this.PDt(),this.NXt(),this.MXt()},i.iXt=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.cZt&&t.sZt.length>0?(t.sZt.forEach((function(t){return t.SHt()})),[4,t.DDt()]):[3,2];case 1:n.sent(),t.PDt(),t.sZt.forEach((function(t){return t._Ht.HUt()})),n.label=2;case 2:return[2]}}))}))()},i.PDt=function(){var t=this;if(!this.LXt){var n=function(){t.LXt=void 0};this.BXt=new Jo,this.BXt.Kw(this.fW.Vw),this.LXt=Ho(this.qDt(this.BXt.Vw),this.BXt).catch(this._Zt).then(n,n)}},i.DDt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return null==(n=t.BXt)||n.Yw(),i=t.LXt,t.LXt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.qDt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p;return Ht(this,(function(y){switch(y.label){case 0:jo(t),i=n.sZt,y.label=1;case 1:0,r={stack:[],error:void 0,hasError:!1},y.label=2;case 2:for(y.trys.push([2,4,5,6]),e=[],u=n.FB.SR,s=0;s<i.length;s++)if(o=i[s],a=o._Ht,c=o.Flt(u),a.FIt)e.push(a.SWt());else if(o.AHt(u,c,n.vZ.Cj)){if(void 0===(h=a.OUt(c))){if(a.cLt.tLt.hOt)continue;(f=a.cLt.tLt.Ert).length&&f[0].FO>c&&(n.SR=1/0),a.zUt(),a.WUt(c)}else v=nn(h,2),l=v[0],d=v[1],a.$at(l,d,o.cWt),o.vHt.$Gt(l,d);e.push(a.SWt())}if(g=Yt(r,Jo.Qw([t]),!1),0===e.length)for(i.every((function(t){return t._Ht.uCt}))||e.push(n.FB.vy(fa.sb,g.Vw)),m=0;m<i.length;m++)w=i[m],e.push(w.vHt.vy(cK.UGt,g.Vw));return[4,Go(ut.race(e),g.Vw)];case 3:return y.sent(),[3,6];case 4:return p=y.sent(),r.error=p,r.hasError=!0,[3,6];case 5:return Kt(r),[7];case 6:return[3,1];case 7:return[2]}}))}))()},i.NXt=function(){var t=this;if(!this.OXt){var n=function(){t.OXt=void 0};this.FXt=new Jo,this.FXt.Kw(this.fW.Vw),this.OXt=Ho(this.VXt(this.FXt.Vw),this.FXt).catch(this._Zt).then(n,n)}},i.PXt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return null==(n=t.FXt)||n.Yw(),i=t.OXt,t.OXt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.VXt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:jo(t),i=n.sZt,c.label=1;case 1:for(r=[],e=0;e<i.length;e++)u=i[e],s=u._Ht,(o=u.vHt).FIt?r.push(o.SWt()):(a=s.CUt())?"But"===a.Aw?(o.sHt(a),r.push(o.SWt())):"iOt"===a.Aw&&(o.tHt(a),r.push(o.SWt())):r.push(s.ZUt());return 0!==r.length?[3,2]:[3,5];case 2:return[4,Go(ut.race(r),t)];case 3:c.sent(),c.label=4;case 4:return[3,1];case 5:return[2]}}))}))()},i.MXt=function(){var t=this;if(!this.WXt){this.UXt=new Jo,this.UXt.Kw(this.fW.Vw);var n=function(){t.WXt=void 0};this.WXt=Ho(this.GXt(this.UXt.Vw),this.UXt).catch(this._Zt).then(n,n)}},i.DXt=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return null==(n=t.UXt)||n.Yw(),i=t.WXt,t.WXt=void 0,i?[4,i]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))()},i.GXt=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:i=function(){var i,r,e,u,s,o,a,c,h,f,v,l;return Ht(this,(function(d){switch(d.label){case 0:for((i=n.sZt).forEach((function(t){return t.Qat()})),r=n.FB.SR,e=[],u=[],s=0;s<i.length;s++)for(o=i[s],a=o.vHt,c=0,h=o.dHt;c<h.length;c++)f=h[c],v=f.gWt?e:u,f.FIt?v.push(f.SWt()):f.TWt(r)||((l=a.uHt(f.Aw))?"But"===l.Aw&&l.rOt===n.tZt?(f.Glt(l),v.push(f.SWt())):"bCt"===l.Aw&&l.rOt===n.tZt&&(f.w2(l),v.push(f.SWt())):u.push(a.cHt(f.Aw)));return 0!==e.length?[3,2]:[4,n.HXt(i,r,t)];case 1:if(d.sent())return[2,"continue"];d.label=2;case 2:return 0===e.length&&0===u.length?(i.every((function(t){return t.dHt.length>0&&t.dHt.every((function(t){return t.TWt(r)}))}))&&n.jG.r3(),[2,"break"]):[4,Go(ut.race(Ut(e).concat(Ut(u))),t)];case 3:return d.sent(),[2]}}))},r.label=1;case 1:return[5,zt(i())];case 2:return"break"===r.sent()?[3,3]:[3,1];case 3:return[2]}}))}))()},i.HXt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b,k,A;return Ht(this,(function(T){switch(T.label){case 0:for(e=[],u=[],s=0;s<t.length;s++)for(o=t[s],a=o.Flt(n),c=0,h=o.dHt;c<h.length;c++)if((f=h[c]).gWt)if(void 0!==(v=o.vHt.uHt(f.Aw))){if(v.rOt===r.tZt)return[2,!1];e.push(v)}else{if(o.FIt||o.AHt(n,a,r.vZ.Cj)||!f.kWt(n,a))return[2,!1];void 0!==(l=f.pWt.cWt)&&u.push(l)}return 0===e.length?[2,!1]:(d=Co(e,(function(t){return t.rOt})).rOt,e.every((function(t){return"bCt"===t.Aw&&t.rOt===d}))?(g=Ro(e,(function(t){return t.FO})).FO,m=Ut(e).concat(Ut(u)),[4,r.ZXt(m)]):[3,6]);case 1:return w=T.sent(),r.XXt(w)?(PH.DLt(BH,"Seamless switch from",r.jG.bd,"to",w),[4,r.jG.dJ(w)]):[3,3];case 2:return T.sent(),PH.DLt(BH,"Seamless switch complete."),[3,5];case 3:return[4,r.zXt(g,w,i)];case 4:T.sent(),T.label=5;case 5:return r.tZt=e[0].rOt,[3,7];case 6:for(p=0;p<t.length;p++)for(y=t[p],_=0,b=y.dHt;_<b.length;_++)for(k=b[_],A=y.vHt.uHt(k.Aw);void 0!==A&&("bCt"!==A.Aw||A.rOt!==d);)PH.DLt(BH,"Removing append for other discontinuity, expecting "+d,A),y.vHt.xWt(A),A=y.vHt.uHt(k.Aw);T.label=7;case 7:return[2,!0]}}))}))()},i.XXt=function(t){return this.AZt===XA.QB||this.AZt!==XA.JB&&this.jG.cJ(t)},i.ZXt=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return r=t.map((function(t){return t.lHt.Zrt})),e=r.map((function(t){return{Dk:t}})),u=Io(t,(function(t){return t.lHt.QBt})),(i=u).push.apply(i,Ut(n.aEt.Pr.vVt)),[4,cz(n.oZt.contentProtection,r,u,n.lW,n.oZt.useCredentials)];case 1:return 0===(s=o.sent()).length&&n.jG&&n.jG.bd.eH.length>0&&(s=n.jG.bd.eH),[2,{Aw:Sy.gW,u4:e,eH:s,b4:n.oZt.useManagedMediaSource}]}}))}))()},i.zXt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:if(u=r.jG,s=u.ct,!(o=r.gR.length>0&&r.SR<t))return[3,6];f.label=1;case 1:f.trys.push([1,5,,6]),PH.DLt(BH,"Marking end of stream and waiting for ended to switch discontinuity."),u.r3(),f.label=2;case 2:return!r.FB.RR&&r.FB.SR<t?[4,r.FB.vy([fa.sb,fa.Cy],i)]:[3,4];case 3:return f.sent(),[3,2];case 4:return[3,6];case 5:throw a=f.sent(),u.K2(),u.n4(s),a;case 6:PH.DLt(BH,"Perform hard switch from",null==(e=r.jG)?void 0:e.bd,"to",n),f.label=7;case 7:return f.trys.push([7,,10,11]),r.FB.u7(),r.SR<t&&r.FB.Eb(t,!0,!0),r.i4=void 0,r.e4=void 0,r.IXt(),[4,r.FB.er()];case 8:return f.sent(),[4,r.FB.Dn(n)];case 9:return r.jG=f.sent(),r.o4(),r.XTt(),r.zTt(),r.jG.t4&&(r.i4=new MK(im._E,r.jG.t4,r.mZt?r.jgt:void 0,r.gZt?r.EDt:void 0),r.i4.f3(t-1,t)),r.jG.J3&&(r.e4=new MK(im.fE,r.jG.J3,r.mZt?r.jgt:void 0,r.gZt?r.EDt:void 0),r.e4.f3(t-1,t)),r.IXt(),[3,11];case 10:return o&&ta(r.FB.kI()),r.FB.l7(),[7];case 11:return r.zHt&&(c=void 0!==r.e4&&void 0===r.yZt,h=c?[r.i4,r.e4]:[r.i4],r.zHt.mHt(h)),r.yZt&&r.yZt.mHt([r.e4]),PH.DLt(BH,"Hard switch complete."),[2]}}))}))()},i.vXt=function(t){return Go(na(Io(this.sZt,(function(t){return t.dHt.map((function(t){return t.SWt()}))}))),t)},i.jkt=function(){var t=this.fI,n=this.cI;this.rxt===t&&this.oxt===n||(this.rxt=t,this.oxt=n,this.wo(new Ty))},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return PH.DN(LK,"Unloading the player."),t.qXt(),t.WEt(),[4,t.er()];case 1:return n.sent(),t.FB.gH=void 0,t.KZt.gn(),[4,t.cH.gn()];case 2:return n.sent(),[4,t.jgt.gn()];case 3:return n.sent(),[4,t.EDt.gn()];case 4:return n.sent(),t.aO.gn(),t.cO.gn(),t.Ll.gn(),t.YXt.gn(),t.uxt.Hw(),t.BWt.Hw(),t.kZt&&(t.kZt.Hw(),t.kZt=void 0),[2]}}))}))()},i.er=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return PH.DN(LK,"Resetting the player."),t.fn(pH.JMt,t.handleBufferingErrorEvent),t.tZt=-1,t.fW.Yw(),t.j9.Yw(),t.j9=new Jo,t.j9.Kw(t.fW.Vw),t.uXt.Yw(),t.uXt=new Jo,t.uXt.Kw(t.fW.Vw),n=[t.cpt,t.Q9,t.fZt].filter(Yn),[4,ut.all(n.map((function(t){return t.catch(Ti)})))];case 1:return i.sent(),t.cpt=void 0,t.Q9=void 0,t.fZt=void 0,t.ZHt=void 0,t.HHt=void 0,t.iZt=void 0,t.FZt=void 0,t.WZt=void 0,t.GZt=void 0,t.HZt=void 0,t.WZt=void 0,t.GZt=void 0,t.HZt=void 0,t.GG=void 0,t.mZ.er(),t.aXt=[],t.PZt(void 0),t._Xt(),[4,t.mXt()];case 2:return i.sent(),t.yZt&&(t.yZt.Hw(),t.yZt=void 0),t.zHt&&(t.zHt.Hw(),t.zHt=void 0),t.zZt&&(t.zZt.Hw(),t.zZt=void 0),t.e4=void 0,t.i4=void 0,t.jG=void 0,t.aEt&&(t.aEt.Hw(),t.aEt=void 0),t.TZt&&(t.Ll.BG(t.TZt.nt),t.TZt=void 0),[4,t.cH.er()];case 3:return i.sent(),[4,t.jgt.er()];case 4:return i.sent(),[4,t.EDt.er()];case 5:return i.sent(),t.FB.fH(),[4,t.FB.er()];case 6:return i.sent(),t.oZt=void 0,t.cZt=!1,t.h4=MA.mB(),t.hZt=void 0,t.nxt=void 0,t.rxt=0,t.oxt=0,t.uZt=void 0,t.sEt=!1,t.O9=!1,qn.Wg(t.lZt),t.Okt=!1,t.KXt=!1,t.Ikt=0,t.AZt=XA.jB,t.YXt.er(),t.jXt(),t.wo(new wT(t.SR,t.sI)),[2]}}))}))()},i.jXt=function(){for(var t=0,n=this.aO.uC;t<n.length;t++){n[t].gn()}for(var i=0,r=this.cO.uC;i<r.length;i++){r[i].gn()}for(var e=0,u=this.Ll.uC;e<u.length;e++){u[e].gn()}this.aO.er(),this.cO.er(),this.Ll.er(),this.XZt.clear()},i.QXt=function(){this.YXt.yn(FK,this.Ds),this.YXt.yn(Ey.VL,this.HB),this.YXt.yn(Ey.FL,this.JXt),this.YXt.yn(Ey.ML,this.$Xt),this.vZ.yn("pj",this.dxt),this.vZ.yn("Aj",this.fxt),this.FB.yn(VK,this.Ds),this.FB.yn(zp.da,this._xt),this.FB.yn(fa.Ay,this.handleContentProtectionErrorEvent),this.FB.yn(fa.xy,this.tzt),this.FB.yn(fa.Cy,this.Mh),this.FB.yn(fa.Zy,this.jNt),this.FB.yn(fa.ro,this.ezt),this.FB.yn(fa.Xy,this.izt),this.FB.yn(Ey.tC,this.BW),this.FB.yn(fa.sb,this.v6),this.FB.yn(fa.jy,this.We),this.FB.yn(fa.Ky,this.bH),this.FB.yn(fa.Yy,this.szt),this.FB.yn(fa.ob,this.nzt)},i.qXt=function(){this.YXt.fn(FK,this.Ds),this.YXt.fn(Ey.VL,this.HB),this.YXt.fn(Ey.FL,this.JXt),this.YXt.fn(Ey.ML,this.$Xt),this.vZ.fn("pj",this.dxt),this.vZ.fn("Aj",this.fxt),this.FB.fn(VK,this.Ds),this.FB.fn(zp.da,this._xt),this.FB.fn(fa.Ay,this.handleContentProtectionErrorEvent),this.FB.fn(fa.xy,this.tzt),this.FB.fn(fa.Cy,this.Mh),this.FB.fn(fa.Zy,this.jNt),this.FB.fn(fa.ro,this.ezt),this.FB.fn(fa.Xy,this.izt),this.FB.fn(Ey.tC,this.BW),this.FB.fn(fa.sb,this.v6),this.FB.fn(fa.jy,this.We),this.FB.fn(fa.Ky,this.bH),this.FB.fn(fa.Yy,this.szt),this.FB.fn(fa.ob,this.nzt)},xt(n,[{key:"qB",get:function(){var t,n=[this.HHt,this.ZHt].filter(Yn);if(0!==n.length&&this.ct===1/0){var i,r=null==(t=this.wR)?void 0:t.getTime();if(r)return(Date.now()-r)/1e3;for(var e=0;e<n.length;e++){var u=n[e],s=u.tLt.rI;if(0!==s.V){var o=s.jn(s.V-1)+u.tLt.LSt,a=u.tLt.bFt,c=o+(null!=a?a:0)-this.SR;(!i||i<c)&&(i=c)}}return i}}},{key:"$Ht",get:function(){for(var t=[this.ZHt,this.HHt].filter(Yn),n=0;n<t.length;n++){var i=t[n];if(!i.tLt.hOt)return!1;var r=i.tLt.Ert,e=r[r.length-1];if(e&&e.rOt!==this.tZt)return!1}return!0}},{key:"lLt",get:function(){return this.YHt}},{key:"kLt",get:function(){return this.ZHt}},{key:"xLt",get:function(){return this.HHt}},{key:"eZt",get:function(){return this.iZt}},{key:"ht",get:function(){return this.aO}},{key:"gR",get:function(){return this.FB.gR.ks()}},{key:"_Lt",get:function(){var t=[];if(this.YHt)for(var n=this.FB.SR,i=0,r=this.sZt;i<r.length;i++)for(var e=0,u=r[i].dHt;e<u.length;e++){var s=u[e].EWt(n);s&&!Ao(t,s)&&t.push(s)}return t}},{key:"wR",get:function(){if(this.YHt){var t=this.FB.SR;return this.YHt.yOt(t)}},set:function(t){if(t&&this.YHt){var n=this.YHt.bOt(t);void 0!==n&&this.ER(n,{nZt:!1,rZt:!0})}}},{key:"bt",get:function(){return this.oZt}},{key:"SR",get:function(){var t;return null!=(t=this.hZt)?t:this.FB.SR},set:function(t){this.ER(t)}},{key:"ct",get:function(){var t,n,i,r,e,u,s;if(!this.$Ht)return null!=(s=null!=(u=null!=(e=null==(t=this.ZHt)?void 0:t.tLt.ct)?e:null==(n=this.HHt)?void 0:n.tLt.ct)?u:null==(r=this.aEt)||null==(i=r.FVt)?void 0:i.tLt.ct)?s:[this.ZHt,this.HHt].filter(Yn).every((function(t){return function(t){if(void 0===t)return!1;return t.tLt.Ert.length>0&&!t.tLt.hOt}(t)}))?1/0:NaN;var o=this.FB.ct;if(E(o)){var a,c,h=null==(c=this.aEt)||null==(a=c.FVt)?void 0:a.tLt.ct;if(void 0!==h)return h}return o}},{key:"RR",get:function(){if(!this.$Ht)return!1;if(this.hI&&this.cZt){var t,n,i=this.SR,r=null==(t=this.ZHt)?void 0:t.tLt.ct,e=null==(n=this.HHt)?void 0:n.tLt.ct;return!(void 0!==r&&i<r)&&!(void 0!==e&&i<e)}return this.FB.RR}},{key:"lt",get:function(){return this.zG}},{key:"DR",get:function(){return this.qG}},{key:"MR",get:function(){}},{key:"OR",get:function(){return!1}},{key:"WR",get:function(){return us({},{dO:0,fO:0,_O:0,vO:0,mO:0,gO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.FB.UR(),{mO:this.Ikt,vO:this.vZ.aj.wG})}},{key:"Pr",get:function(){var t;return null==(t=this.aEt)?void 0:t.Pr}},{key:"GR",get:function(){return this.FB.GR},set:function(t){this.FB.GR=t}},{key:"XR",get:function(){return this.RSt},set:function(t){this.RSt!==t&&(this.RSt=t,this.wo(t?new vj:new lj))}},{key:"qR",get:function(){return this.FB.qR}},{key:"KR",get:function(){return this.FB.KR},set:function(t){PH.DN(LK,"Setting playback rate to "+t+"."),this.FB.KR=t}},{key:"JR",get:function(){return this.Mkt.ks()}},{key:"Mkt",get:function(){return this.FB.JR}},{key:"tI",get:function(){return this.KG},set:function(t){this.KG!==t&&(this.KG=t,this.vZt())}},{key:"sI",get:function(){var t=this.FB.sI;return this.Okt&&(t=A.max(Cy.Gn,t)),t}},{key:"rI",get:function(){return this.xkt.ks()}},{key:"xkt",get:function(){var t=this.h4,n=[this.ZHt,this.HHt].filter(Yn);if(t.V>0&&n.some((function(t){return!t.tLt.hOt}))){var i=this.Mkt,r=t.jn(t.V-1);if(i.V>0&&i.jn(i.V-1)>r){var e=i.jn(i.V-1),u=XK(n);u.V>0&&(e=A.min(e,u.jn(u.V-1))),t=t.JL(new MA([r,e]))}}return t}},{key:"hI",get:function(){var t;return null!=(t=this.uZt)?t:this.FB.hI}},{key:"QG",get:function(){}},{key:"nt",get:function(){return this.Ll}},{key:"rt",get:function(){return this.cO}},{key:"cI",get:function(){var t,n;return this.FB.cI||(null==(n=this.YHt)||null==(t=n.zCt)?void 0:t.Ti)||0}},{key:"fI",get:function(){var t,n;return this.FB.fI||(null==(n=this.YHt)||null==(t=n.zCt)?void 0:t.ji)||0}},{key:"vI",get:function(){return this.FB.vI},set:function(t){PH.DN(LK,"Setting volume to "+t+"."),this.FB.vI=t}},{key:"pI",get:function(){return this.mZ}},{key:"yI",get:function(){return!1},set:function(t){}},{key:"$G",get:function(){return this.tH}},{key:"wZt",get:function(){var t,n,i=null==(t=this.yZt)?void 0:t.wHt,r=null==(n=this.zHt)?void 0:n.wHt;return i?r?r.Sn(i):i:r}},{key:"sZt",get:function(){return[this.yZt,this.zHt,this.zZt].filter(Yn)}}]),n}(oa),jK=function(){function t(){}var n=t.prototype;return n.BH=function(t,n){return Zt((function(){return Ht(this,(function(n){return tT(t.type)?[2,!t.useNativePlayback]:[2,!1]}))}))()},n.OH=function(t){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.aes128?[2,!0]:[4,N_(t,!0)];case 1:return[2,n.sent()]}}))}))()},t}(),ZK=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).ea=n,r}return Rt(n,t),n.prototype.mxt=function(){this.wo(new Ry(this.SR,this.sI))},xt(n,[{key:"sI",get:function(){return this.ea.sI}}]),n}(Fy);function XK(t){return t.reduce((function(t,n){return t.Sn(n.tLt.oFt)}),new MA([0,1/0]))}function GK(t){var n=go(t,(function(t){return t.eLt})),i=t.filter((function(t){return t.iLt})),r=qn.aw,e=i.map((function(t){return t.gs})).filter(Yn),u=TK(e,r);return u?go(i,(function(t){return t.gs===u})):n}function HK(t,n,i,r){void 0===r&&(r=RT.maximumBackoff);var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,r=n.preferredAudioCodecs;if(void 0!==i){for(var e,u=function(n){var u=i[n],s=t.filter((function(t){return t.Zrt&&t.Zrt.rPt&&eN(t.Zrt.rPt,u)}));if(0===s.length)return"continue";if(void 0===r)return{v:s};void 0===e&&(e=s);var o=zK(s,r);return void 0!==o?{v:o}:void 0},s=0;s<i.length;s++){var o=u(s);if("object"===W(o))return o.v}if(void 0!==e)return e}if(void 0!==r){var a=zK(t,r);if(void 0!==a)return a}return t}(t,n),u=KK(e,r);switch(i.bj.type){case iR.BANDWIDTH:var s=i.xj,o=u.filter((function(t){return t.wG<=s}));if(o.length>0)return Co(o,(function(t){return t.wG}));case iR.PERFORMANCE:return Ro(u,(function(t){return t.wG}));case iR.QUALITY:return Co(u,(function(t){return t.wG}))}}function zK(t,n){for(var i=function(i){var r=n[i],e=t.filter((function(t){return t.Zrt&&t.Zrt.sPt&&eN(t.Zrt.sPt,r)}));return 0===e.length?"continue":{v:e}},r=0;r<n.length;r++){var e=i(r);if("object"===W(e))return e.v}}function YK(t){var n;return null!=(n=GK(t))?n:t[0]}function KK(t,n){return t.filter((function(t){return qK(t,n)}))}function qK(t,n){var i=n+UK,r=0===t.OLt.length||t.OLt.some((function(t){return t.tLt.TFt<qn.Vg()-i})),e=0===t.BLt.length||t.BLt.some((function(t){return t.tLt.TFt<qn.Vg()-i}));return r&&e}function JK(t,n){if(!n||n.tLt.hOt)return!1;var i=n.tLt.Ert;return 0!==i.length&&i[0].FO>t}U(),St(),U(),St(),Gt(),Jt();var QK=function(){function t(){}var n=t.prototype;return n.MWt=function(t,n,i){return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,crypto.subtle.importKey("raw",n,{name:"AES-CBC"},!1,["decrypt"])];case 1:return r=u.sent(),[4,crypto.subtle.decrypt({name:"AES-CBC",iv:i},r,t)];case 2:return e=u.sent(),[2,new I(e)];case 3:throw u.sent(),new sl(el.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 4:return[2]}}))}))()},n.Hw=function(){},t.pT=function(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle&&void 0!==crypto.subtle.decrypt},t}();U(),St(),U(),St(),Gt(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Ct();var $K=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).data=i,r}return Rt(n,t),n}(ha),tq=["message","messageerror","error"];U(),St(),Ct();var nq=function(t){function n(n){var i;return(i=t.call(this,zp.da)||this).error=n,i}return Rt(n,t),n}(ha),iq=function(t){function n(n){var i;return(i=t.call(this)||this).czt=void 0,i.lzt=[],i._zt=function(t){if(i.hzt)t.fzt();else{i.czt=t,i.czt.yn(tq,i.Ds);for(var n=0,r=i.lzt;n<r.length;n++){var e=r[n];t.uzt(e.gb,e.dzt)}So(i.lzt)}},i.vzt=function(t){if(!i.hzt){var n=t instanceof y?t:new y("Could not create Worker.");i.wo(new nq(n)),i.fzt()}},i.azt=new Jo,n(i.azt.Vw).then(i._zt,i.vzt),i}Rt(n,t);var i=n.prototype;return i.uzt=function(t,n){this.hzt||(void 0!==this.czt?this.czt.uzt(t,n):this.lzt.push({gb:t,dzt:n}))},i.fzt=function(){this.hzt||(this.azt.Yw(),So(this.lzt),void 0!==this.czt&&this.czt.fzt())},xt(n,[{key:"hzt",get:function(){return this.azt.Vw.Bw}}]),n}(oa);U(),St(),U(),St(),Ct();var rq=function(t){function n(n,i){var r;return(r=t.call(this)||this).mzt=function(t){r.wo(new $K("message",t.data))},r.gzt=function(t){r.wo(new $K("messageerror",t.data))},r.t7=function(t){null==t.preventDefault||t.preventDefault.call(t);var n=t.error instanceof y?t.error:new y(t.message);r.wo(new nq(n)),r.fzt()},r.czt=new R(n,i),r.czt.addEventListener("message",r.mzt),r.czt.addEventListener("messageerror",r.gzt),r.czt.addEventListener("error",r.t7),r}Rt(n,t);var i=n.prototype;return i.uzt=function(t,n){n?this.czt.postMessage(t,n):this.czt.postMessage(t)},i.fzt=function(){this.$o(),this.czt.removeEventListener("message",this.mzt),this.czt.removeEventListener("messageerror",this.gzt),this.czt.removeEventListener("error",this.t7),this.czt.terminate()},n}(oa);U(),St(),Ct();var eq=0,uq=function(t){function n(n,i){var r;(r=t.call(this)||this).wzt=function(){r.pzt.removeEventListener("load",r.wzt),r.pzt.contentWindow.postMessage({type:"initialize",id:r.ZS,script:r.bzt},"*")},r.yzt=function(t){t.origin===r.Azt&&t.data.id===r.ZS&&("initialized"===t.data.type||("error"===t.data.type?(r.wo(new nq(new y(t.data.data.message))),r.fzt()):r.wo(new $K("message",t.data.data))))},r.ZS=eq++,r.bzt=n;var e=qn.Nh("iframe.html",i);return r.pzt=function(t){var n=v.createElement("iframe");return n.width="0",n.height="0",n.style.display="none",n.role="",n.src=t,v.body.appendChild(n),n}(e.href),r.Azt=e.origin,r.pzt.addEventListener("load",r.wzt),self.addEventListener("message",r.yzt),r}Rt(n,t);var i=n.prototype;return i.uzt=function(t,n){n?this.pzt.contentWindow.postMessage({type:"message",data:t},"*",n):this.pzt.contentWindow.postMessage({type:"message",data:t},"*")},i.fzt=function(){var t;this.pzt.removeEventListener("load",this.wzt),self.removeEventListener("message",this.yzt),null==(t=this.pzt.contentWindow)||t.postMessage({type:"terminate"},"*"),ai(this.pzt)},n}(oa);function sq(t,n,i){var r=qn.Jp(t,n);return new iq((function(t){return function(t,n,i,r){return aq.apply(this,arguments)}(r,n,i,t)}))}var oq=!0;function aq(){return aq=Zt((function(t,n,i,r){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,cq(e=new rq(t,i),r)];case 1:return f.sent(),[2,e];case 2:return u=f.sent(),null==e||e.fzt(),Zo(u),[3,3];case 3:if(!oq||!Rl)return[3,13];f.label=4;case 4:return f.trys.push([4,7,,8]),[4,qn.lR.Kk({Gu:t,yE:fd.GET,Yk:xl.Ak,Vw:r})];case 5:return[4,f.sent().Rk(r)];case 6:return s=f.sent(),[3,8];case 7:return Zo(f.sent()),[3,8];case 8:if(!s)return[3,13];f.label=9;case 9:return f.trys.push([9,11,12,13]),a=Rl([s],{type:"application/javascript"}),o=URL.createObjectURL(a),[4,cq(e=new rq(o,i),r)];case 10:return f.sent(),[2,e];case 11:return c=f.sent(),null==e||e.fzt(),Zo(c),oq=!1,[3,13];case 12:return o&&URL.revokeObjectURL(o),[7];case 13:return f.trys.push([13,15,,16]),[4,cq(e=new uq(t,n),r)];case 14:return f.sent(),[2,e];case 15:throw h=f.sent(),null==e||e.fzt(),h;case 16:return[2]}}))})),aq.apply(this,arguments)}function cq(t,n){return hq.apply(this,arguments)}function hq(){return hq=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.vy(["message","error"],n)];case 1:if("error"===(i=r.sent()).type)throw function(t){return new sl(el.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}(i.error);if(!function(t){return ti(t)&&"9.2.0"===t.Szt}(i.data))throw new sl(el.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (9.2.0).");return[2,i]}}))})),hq.apply(this,arguments)}U(),St();var fq=function(t){return t.Tzt="MWt",t.kzt="oUt",t}({}),vq=function(t){return t.Ezt="xzt",t.Rzt="Izt",t}({}),lq=function(){function t(t){var n=this;this.czt=void 0,this.Lzt=0,this.Uzt=os(),this.Nzt=function(t){var i=t.data,r=i.Gzt,e=n.Uzt.get(r);if(e)if(n.Uzt.delete(r),i.Hzt===vq.Ezt)e.Ob(i.Zzt);else if(i.Hzt===vq.Rzt){var u=i.Xzt,s=i.zzt?new y(i.zzt):void 0,o=new sl(el.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt. (code: "+u+")",s);e.Fb(o)}},this.Mzt=function(t){var i=new sl(el.CONTENT_PROTECTION_INTERNAL_ERROR,t.error.message,t.error);n.Hw(i)},this.Dzt=t;try{this.Pzt=qn.Jp("theoplayer.d.js",t)}catch(t){throw new sl(el.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}}var n=t.prototype;return n.Czt=function(){var t=sq(this.Pzt,this.Dzt,{name:"THEOplayer decrypt worker"});return t.yn("message",this.Nzt),t.yn("error",this.Mzt),t},n.MWt=function(t,n,i){var r=""+ ++this.Lzt,e={Bzt:fq.Tzt,Ozt:r,Fzt:t,Vzt:n,Wzt:i},u=new Yc;return this.Uzt.set(r,u),null!=this.czt||(this.czt=this.Czt()),this.czt.uzt(e),u.Vb},n.Hw=function(t){void 0===t&&(t=new Uo),this.Uzt.forEach((function(n){return n.Fb(t)})),this.Uzt.clear(),this.czt&&(this.czt.fzt(),this.czt=void 0)},t}();function dq(t){return QK.pT()?new QK:new lq(t)}function gq(t){var n=go(t.boxes,aC);if(n){var i=go(n.boxes,cC);if(i)return i.handlerType}}function mq(t){var n,i=new Tv;return(n=i.boxes).push.apply(n,Ut(t.boxes)),i}function wq(t){var n,i=new Lf;return(n=i.boxes).push.apply(n,Ut(t.boxes)),i}U(),St(),Ct(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Wt();var pq=8;function yq(t,n){for(var i=function(t){var n,i=new Kf;return(n=i.boxes).push.apply(n,Ut(t.boxes)),i}(t),r=bq(n),e=0;e<i.boxes.length;e++){var u=i.boxes[e];if(u===n)i.boxes[e]=new cf(new I(n.getSize()-pq));else if(hC(u)){var s=u,o=po(s.boxes,(function(t){return t instanceof Bf&&t.trackId===r}));if(o>=0){var a=s.boxes[o],c=wq(s);c.boxes[o]=new cf(new I(a.getSize()-pq)),i.boxes[e]=c}}}return i}function _q(t,n){for(var i=function(t){var n,i=new av;return(n=i.boxes).push.apply(n,Ut(t.boxes)),i}(t),r=0;r<i.boxes.length;r++){var e=i.boxes[r];if(lC(e)){var u=go(e.boxes,dC);u&&u.trackId===n&&(i.boxes[r]=new cf(new I(e.getSize()-pq)))}}return i}function bq(t){return go(t.boxes,oC).trackId}function kq(t,n,i,r){for(var e=go(t.boxes,dC),u=i.uV(n).WF(),s=ur.ZERO,o=0,a=t.boxes;o<a.length;o++){var c=a[o];if(c instanceof $f){s=sr(c.baseMediaDecodeTime,u),c.baseMediaDecodeTime=c.baseMediaDecodeTime.subtract(s);break}if(c instanceof Qf){s=sr(ur.fromNumber(c.baseMediaDecodeTime),u),c.baseMediaDecodeTime-=s.toNumber();break}}if(!s.isZero()){var h=go(t.boxes,gC);if(void 0!==h&&h.samples.length>0){var f=h.samples;if(!h.flags.sampleDurationPresent){h.flags.sampleDurationPresent=!0;for(var v=null!=r?r:e.defaultSampleDuration,l=0;l<f.length;l++){f[l].duration=v}}f[0].duration+=s.toNumber(),h.samples=f}}}U(),St();var Aq="Mp4Transmuxer",Tq=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).S2=void 0,n.qzt=void 0,n.Qzt=void 0,n.Jzt=void 0,n.jzt=void 0,n}Rt(n,t);var i=n.prototype;return i.iHt=function(t,n){jo(n);var i=t.cLt,r=ZC(Sc(t.iOt.qk.qk));if(!r)throw new y("Mp4Transmuxer - Unable to parse "+i.Aw+" MP4 initializer.");this.S2=r;var e=function(t){for(var n,i,r=0,e=t.Z;r<e.length;r++){var u=e[r];n||(n=u.n1),i||(i=u.s1)}if(n||i)return{sPt:n,rPt:i,pBt:void 0};return}(r);e&&this.rHt(i,e);var u=function(t){for(var n=0,i=t.Z;n<i.length;n++){var r=i[n];if(void 0!==r.o1)return r.o1}return}(r);void 0!==u&&this.oHt(i,u);var s=function(t){var n,i,r,e,u,s=Nv(t),o=go(s.boxes,uC),a=o.boxes.filter(sC),c=go(a,(function(t){return gq(t)===yf.AUDIO})),h=go(a,(function(t){return gq(t)===yf.VIDEO})),f={sPt:{TN:c?bq(c):void 0},rPt:{TN:h?bq(h):void 0}},v=null==(n=go(o.boxes,hC))?void 0:n.boxes.filter(fC),l=v?{sPt:null!=(i=go(v,(function(t){return t.trackId===f.sPt.TN})))?i:void 0,rPt:null!=(r=go(v,(function(t){return t.trackId===f.rPt.TN})))?r:void 0}:void 0;if(l&&(f.sPt.KM=null==(e=l.sPt)?void 0:e.defaultSampleDuration,f.rPt.KM=null==(u=l.rPt)?void 0:u.defaultSampleDuration),!c||!h)return{sPt:c?t:void 0,rPt:h?t:void 0,XV:f};var d=mq(s),g=mq(s),m=s.boxes.indexOf(o);d.boxes[m]=yq(o,h),g.boxes[m]=yq(o,c);var w=d.serialize().join(),p=g.serialize().join();return{sPt:w,rPt:p,XV:f}}(t.iOt.qk.qk);if(this.qzt=s.XV,s.rPt){var o=go(r.Z,(function(t){return t.TN===s.XV.rPt.TN})),a={Aw:"bCt",qk:{Aw:XR.tJ,qk:s.rPt},bat:im._E,rOt:t.rOt,lHt:{Zrt:'video/mp4; codecs="'+o.s1+'"',QBt:t.QBt},FO:t.FO,cLt:t.cLt,CWt:t.iOt.CWt};this.TGt(a)}if(s.sPt){var c=go(r.Z,(function(t){return t.TN===s.XV.sPt.TN})),h={Aw:"bCt",qk:{Aw:XR.tJ,qk:s.sPt},bat:im.fE,rOt:t.rOt,lHt:{Zrt:'audio/mp4; codecs="'+c.n1+'"',QBt:t.QBt},FO:t.FO,cLt:t.cLt,CWt:t.iOt.CWt};this.TGt(h)}return ut.resolve()},i.nHt=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b,k,A,T,S;return Ht(this,(function(E){switch(E.label){case 0:if(jo(n),r=t.But.CWt,PH.DN(Aq,"Transmuxing fMP4: "+ez(r.Pyt)),e=t.But.qk,u=Sq(e.qk,i.S2),void 0!==(s=No(u.map((function(t){return t.uit})),pw))&&(r.cit=s,i.aHt(t.cLt)),i.pVt.zFt(t.rOt))return[3,2];if(o=ww.fV(r.FO),u.length>0){for(a=No(u.map((function(t){return t.Yzt})),pw),c=0,h=i.KGt;c<h.length;c++)f=h[c],i.pVt.nVt(t.rOt,f,a,o,Eq(r),!1);i.aHt(t.cLt)}return i.pVt.zFt(t.rOt)?[3,2]:[4,Go(i.pVt.YFt(t.rOt),n)];case 1:E.sent(),E.label=2;case 2:return v=i.pVt.tVt(t.rOt),l=r.cit?i.pVt.eVt(r.cit,r).dF():r.FO,d=fK(r,l),g=vK(r,d),w={BGt:d,OGt:g,FO:l,ct:null!=(m=r.ct)?m:0,MV:v.dF(),rOt:t.rOt,cLt:t.cLt,CWt:t.But.CWt},p=function(t,n){if(void 0===n.sPt.TN)return{sPt:void 0,rPt:t};if(void 0===n.rPt.TN)return{sPt:t,rPt:void 0};for(var i=Nv(t),r=mq(i),e=mq(i),u=0;u<i.boxes.length;u++){var s=i.boxes[u];vC(s)&&(r.boxes[u]=_q(s,n.rPt.TN),e.boxes[u]=_q(s,n.sPt.TN))}var o=r.serialize().join(),a=e.serialize().join();return{sPt:o,rPt:a}}(e.qk,i.qzt),p.rPt&&(_=i.qzt.rPt.TN,b=go(i.S2.Z,(function(t){return t.TN===_})),k=go(u,(function(t){return t.TN===_})),A=i.Kzt(p.rPt,b,k,null==(y=i.qzt)?void 0:y.rPt.KM,r),i.jzt=b,i.hHt(t.cLt,r,k.uit.SF(s)),T=us({Aw:"But",qk:{Aw:XR.tJ,qk:A},bat:im._E},w),i.TGt(T)),p.sPt&&(S=us({Aw:"But",qk:{Aw:XR.tJ,qk:p.sPt},bat:im.fE},w),i.TGt(S)),i.Qzt=r,i.Jzt=u,[2]}}))}))()},i.Kzt=function(t,n,i,r,e){if(!Eq(e))return t;if(!this.Qzt||!this.jzt||!this.Jzt)return t;var u=this.jzt.TN,s=go(this.Jzt,(function(t){return t.TN===u})),o=this.pVt.eVt(s.$zt,this.Qzt),a=this.pVt.eVt(i.uit,e).SF(o).uV(n._N);if(a.gF(ww.CF))return t;if(a.fF(ww.fV(.5)))return t;var c=hY(e)?e:e.DOt;return PH.DLt(Aq,"Stretching first video frame of segment #"+c.UBt+" to fill gap of "+a.dF()+"s"),function(t,n,i,r){var e=Nv(t),u=go(e.boxes,vC);if(u){for(var s=u.getSize(),o=0,a=u.boxes;o<a.length;o++){var c=a[o];c instanceof sv&&kq(c,n,i,r)}var h=u.getSize();if(h!==s)for(var f=h-s,v=0,l=u.boxes;v<l.length;v++){var d=l[v];d instanceof sv&&mC(d,f)}}return e.serialize().join()}(t,n._N,a,r)},n}(hK);function Sq(t,n){var i=gp(kp.jD(Sc(t)),cp.nD);if(!i)throw new y("Mp4Transmuxer - Unable to parse segment or part.");return function(t,n){for(var i=function(t,i){var e=i[t];if(!e.oL||0===e.rL.length||0===e.rL[0].dL.length)return"continue";for(var u=e.HD.TN,s=go(n.Z,(function(t){return t.TN===u})),o=0,a=1/0,c=0,h=e.HD.KM||0,f=0,v=e.rL;f<v.length;f++)for(var l=0,d=v[f].dL;l<d.length;l++){var g,m=d[l],w=m.fL||0,p=o+w,y=(o+=null!=(g=m.ct)?g:h)+w;p<a&&(a=p),y>c&&(c=y)}var _=ww.xF(e.oL.oL,s._N);r.push({TN:u,Yzt:_,uit:_.SO(ww.RF(a,s._N)),tqt:_.SO(ww.RF(o,s._N)),$zt:_.SO(ww.RF(c,s._N))})},r=[],e=0,u=t.Z;e<u.length;e++)i(e,u);return r}(i,n)}function Eq(t){return hY(t)?t.eOt:0===t.MOt&&t.DOt.eOt}var Iq="MpegtsTransmuxer",Rq=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,r,e)||this).hqt=void 0,u.uqt=void 0,u.lqt=void 0,u.fqt=void 0,u.cqt=-1,u.dqt=-1,u.nqt=void 0,u.rqt=as(),u.tx=n,u}Rt(n,t);var i=n.prototype;return i.iHt=function(n,i){return t.prototype.iHt.call(this,n,i)},i.$Gt=function(n,i){if(t.prototype.$Gt.call(this,n,i),!this.tx.eqt()){var r,e=null!=(r=null==i?void 0:i.Pyt)?r:n.Pyt;if(e)/\.(ts|aac|mp3)/i.test(e.Dx)&&this.tx.iqt()}},i.sqt=function(t){var n;return t.cLt===this.nqt&&this.rqt.has(t.rOt)?n=this.rqt.get(t.rOt):(n=DK(t.But.qk.qk),this.nqt=t.cLt,this.rqt.set(t.rOt,n)),n},i.nHt=function(n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b,k,A,T,S,E,I,R,C,N,x,D,P,M,B,O;return Ht(this,(function(L){switch(L.label){case 0:if(jo(i),e=r.sqt(n),u=n.But,e!==xK.FHt&&e!==xK.VHt)return[2,t.prototype.nHt.call(r,n,i)];if(u.CWt.QBt.some(Nq))throw new sl(el.CONTENT_PROTECTION_NOT_SUPPORTED,"SAMPLE-AES encryption is not supported for MPEG-TS or Packed Audio segments");return s=r.tx.iqt(),e!==xK.FHt?[3,2]:(PH.DN(Iq,"Transmuxing MPEG-TS: "+ez(u.CWt.Pyt)),[4,s.oqt({data:u.qk.qk,metadata:r.hqt})]);case 1:return o=L.sent(),[3,4];case 2:return PH.DN(Iq,"Transmuxing raw audio: "+ez(u.CWt.Pyt)),[4,s.aqt({data:u.qk.qk,metadata:r.hqt})];case 3:o=L.sent(),L.label=4;case 4:if(jo(i),r.rHt(n.cLt,{sPt:o.metadata.audio_codec,rPt:o.metadata.video_codec,pBt:void 0}),o.metadata.video_frame_rate&&r.oHt(n.cLt,o.metadata.video_frame_rate),a=xq(o.metadata.first_decode_timestamp),c=xq(o.metadata.first_presentation_timestamp),h=void 0!==o.metadata.first_video_presentation_timestamp?xq(o.metadata.first_video_presentation_timestamp):void 0,u.CWt.cit=c,r.aHt(n.cLt),void 0!==h&&r.hHt(n.cLt,u.CWt,function(t,n){var i=t.SF(n);return i.wF(ww.CF)&&(i=i.SO(kw())),i}(h,c)),r.pVt.zFt(n.rOt))return[3,6];for(f=ww.fV(u.CWt.FO),v=0,l=r.KGt;v<l.length;v++)d=l[v],r.pVt.nVt(n.rOt,d,a,f,Eq(u.CWt),!0);return r.aHt(n.cLt),r.pVt.zFt(n.rOt)?[3,6]:[4,Go(r.pVt.YFt(n.rOt),i)];case 5:L.sent(),L.label=6;case 6:if(g=r.pVt.sVt(a,u.CWt),r.hqt=o.metadata,m=r.pVt.eVt(c,u.CWt).dF(),w=fK(u.CWt,m),p=vK(u.CWt,w),_={BGt:w,OGt:p,FO:m,ct:null!=(y=u.CWt.ct)?y:0,MV:g.dF(),rOt:n.rOt,cLt:n.cLt,CWt:u.CWt},void 0===o.data.audio_media&&void 0===o.data.video_media){for(b=0,k=r.KGt;b<k.length;b++)A=k[b],T=us({Aw:"But",qk:void 0,bat:A},_),r.TGt(T);return[2]}return S=[],void 0!==o.data.audio_media?(!o.data.audio_init||r.uqt&&r.cqt===n.rOt&&Fc(r.uqt,o.data.audio_init)||(E=r.pVt.eVt(u.CWt.cit,u.CWt).dF(),I={Aw:"bCt",qk:{Aw:XR.tJ,qk:o.data.audio_init},bat:im.fE,rOt:n.rOt,lHt:{Zrt:'audio/mp4; codecs="'+o.metadata.audio_codec+'"',QBt:u.CWt.QBt},FO:E,cLt:n.cLt,CWt:u.CWt},r.uqt=o.data.audio_init,r.cqt=n.rOt,r.TGt(I)),R=us({Aw:"But",qk:{Aw:XR.tJ,qk:o.data.audio_media},bat:im.fE},_),r.TGt(R)):n.But.CWt.COt&&Ao(r.KGt,im.fE)&&(C=us({Aw:"But",qk:void 0,bat:im.fE},_),r.TGt(C)),void 0!==o.data.video_media?(!o.data.video_init||r.lqt&&r.dqt===n.rOt&&Fc(r.lqt,o.data.video_init)||(N=r.pVt.eVt(u.CWt.cit,u.CWt).dF(),x={Aw:"bCt",qk:{Aw:XR.tJ,qk:o.data.video_init},bat:im._E,rOt:n.rOt,lHt:{Zrt:'video/mp4; codecs="'+o.metadata.video_codec+'"',QBt:u.CWt.QBt},FO:N,cLt:n.cLt,CWt:u.CWt},r.lqt=o.data.video_init,r.dqt=n.rOt,r.fqt=ZC(Sc(o.data.video_init)),r.TGt(x)),D=r.fqt.Z[0],P=Sq(o.data.video_media,r.fqt)[0],M=r.Kzt(o.data.video_media,D,P,void 0,u.CWt),r.jzt=D,B=us({Aw:"But",qk:{Aw:XR.tJ,qk:M},bat:im._E},_),r.TGt(B),S.push(P)):n.But.CWt.COt&&Ao(r.KGt,im._E)&&(O=us({Aw:"But",qk:void 0,bat:im._E},_),r.TGt(O)),r.Qzt=u.CWt,r.Jzt=S,[2]}}))}))()},i.Yw=function(){this.uqt=void 0,this.lqt=void 0,this.cqt=-1,this.dqt=-1,t.prototype.Yw.call(this)},n}(Tq),Cq=function(){function t(){}return t.prototype.pTt=function(t,n,i){return new Rq(this,t,n,i)},t}();function Nq(t){return t.yE===iz.rBt}function xq(t){return ww.xF(ur.fromBits(t.low,t.high),t.base)}U(),St(),U(),St();var Dq=function(t){return t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4",t}({}),Pq=function(){var t=function(){if("undefined"==typeof WebAssembly)return!1;var t=Gn.wm;if(t>0&&t<=56)return!1;try{return void 0!==new WebAssembly.Module(Sa("AGFzbQEAAAA="))}catch(t){return!1}}();return Pq=function(){return t},t};var Mq=function(){function t(t){var n=this;this.Lzt=0,this.Uzt=as(),this.Nzt=function(t){var i=t.data;if(void 0!==i.requestId){var r=n.Uzt.get(i.requestId);if(!r)return;n.Uzt.delete(i.requestId),i.success?r.Ob(i.output):r.Fb(new sl(i.errorCode,i.error))}else i.success||n.Hw(new sl(i.errorCode,i.error))},this.Mzt=function(t){var i=new sl(el.MEDIA_DECODE_ERROR,t.error.message,t.error);n.Hw(i)},this.Dzt=t;var i=Pq()?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.Pzt=qn.Jp(i,t)}catch(t){throw new sl(el.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.czt=this.Czt()}var n=t.prototype;return n.oqt=function(t){return this._qt(Dq.MPEGTS_TO_FMP4,t)},n.aqt=function(t){return this._qt(Dq.RAW_AUDIO_TO_FMP4,t)},n.Czt=function(){var t=sq(this.Pzt,this.Dzt,{name:"THEOplayer transmux worker"});return t.yn("message",this.Nzt),t.yn("error",this.Mzt),t},n._qt=function(t,n){var i=++this.Lzt,r={type:t,id:i,input:n},e=new Yc;return this.Uzt.set(i,e),this.czt.uzt(r),e.Vb},n.Hw=function(t){void 0===t&&(t=new Uo),this.Uzt.forEach((function(n){return n.Fb(t)})),this.Uzt.clear(),this.czt.fzt()},t}(),Bq=function(t){function n(n){var i;return(i=t.call(this)||this).vqt=n,i.czt=void 0,i}Rt(n,t);var i=n.prototype;return i.eqt=function(){return void 0!==this.czt},i.iqt=function(){var t;return null!=(t=this.czt)?t:this.czt=new Mq(this.vqt)},i.Hw=function(){this.czt&&(this.czt.Hw(),this.czt=void 0)},n}(Cq),Oq=function(){function t(t){this.vqt=t}return t.prototype.fit=function(){return new Bq(this.vqt)},t}(),Lq=function(t){function n(n,i,r,e,u,s,o,a){var c;return c=t.call(this,n,i,r,e,u,s,o,a)||this,Gn.$m&&(c.pxt=new dO(c)),c}Rt(n,t);var i=n.prototype;return i.AI=function(){return this.FB.AI()},i.gn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return r.sent(),null==(i=n.pxt)||i.gn(),[2]}}))}))()},xt(n,[{key:"yI",get:function(){return this.FB.yI},set:function(t){this.FB.yI=t}}]),n}(WK),Fq=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new lO(n),f=h.LH(im._E);return(c=t.call(this,f,i,r,e,u,s,o,a)||this).wH=h,c}return Rt(n,t),n.prototype.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),[4,n.wH.pH(n.FB)];case 2:return i.sent(),[2]}}))}))()},n}(Lq),Vq=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.BH=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){return Ur(n.useManagedMediaSource)&&(n.useManagedMediaSource||!Gn.iu&&!Gn.Ig)?[2,t.prototype.BH.call(r,n,i)]:[2,!1]}))}))()},i.OH=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){return n.clearkey&&!n.fairplay&&Gn.$m?[2,!1]:[2,t.prototype.OH.call(i,n)]}))}))()},n}(jK),Uq=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).VH=Nk.zC,n}Rt(n,t);var i=n.prototype;return i.hP=function(t,n,i,r,e,u,s){return new Fq(n,i,e,u,dq(r.libraryLocation),new Oq(r.libraryLocation),new MB(KB.Fg.Rrt,KB.Fg.xrt,KB.Fg.Ert,KB.Fg.Crt),r)},i.FH=function(){return!0},n}(Vq);KT(new Uq),PH.Rt=function(){var t;return Boolean(null==(t=f)?void 0:t.THEOplayerDebugLogsEnabled)},U(),St(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt(),U(),St();var Wq=function(){function t(){}var n=t.prototype;return n.hrt=function(t,n){return ut.resolve(!1)},n.urt=function(t,n){return ut.resolve(void 0)},n.nrt=function(t){return ut.resolve(void 0)},n.xQ=function(t){return ut.resolve(void 0)},t}(),jq=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).gqt=void 0,e.Tqt=void 0,e.wqt=void 0,e.WT=new Jo,e.kqt=function(){e.wo(new bW)},e.Cc=n,e.aEt=new AY(r,new Wq,n.useCredentials,n.src,n.liveOffset),e.aEt.yn(fa.Wy,e.Ds),e.I6=!1,e}Rt(n,t);var i=n.prototype;return i.mqt=function(){var t;return null==(t=this.gqt)?void 0:t.tLt},i.Cn=function(){var t=this;ta(ET((function(){return t.pqt(t.WT.Vw)}),this.WT.Vw))},i.pqt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.aEt.WVt(t)];case 1:return i.sent(),n.wqt&&(n.yqt(n.wqt.ji,n.wqt.Ti),n.wqt=void 0),n.I6=!0,[2]}}))}))()},i.bqt=function(t,n){this.I6?this.yqt(t,n):this.wqt={ji:t,Ti:n}},i.yqt=function(t,n){var i=this.Aqt(t,n),r=null==i?void 0:i.OLt[0];r!==this.gqt&&(this.Sqt(),void 0!==r&&(this.gqt=r,this.Tqt=new MY(this.aEt,r),this.Tqt.XWt()))},i.Sqt=function(){this.gqt=void 0,this.Tqt&&(this.Tqt.Hw(),this.Tqt=void 0)},i.Aqt=function(t,n){var i=go(this.aEt.Pr.LLt,(function(i){return void 0!==i.zCt&&i.zCt.ji===t&&i.zCt.Ti===n}));return null!=i?i:this.aEt.Pr.LLt[0]},i.gn=function(){this.$o(),this.WT.Yw(),this.WT.Hw(),this.Sqt(),this.aEt.Hw()},n}(oa);U(),St(),Dt(),Ct();var Zq=function(t){function n(n){var i;(i=t.call(this)||this).f9=n;for(var r=0;r<iS.length;r++){var e=iS[r];i.f9.yn(e,i.Ds)}return i}Rt(n,t);var i=n.prototype;return i.ER=function(t,n){this.SR=t},i.xI=function(){return this.f9.xI()},i.bI=function(){return this.f9.bI()},i.Sa=function(){return this.f9.Sa()},i.LI=function(t){return this.f9.LI(t)},i.AI=function(){return this.f9.AI()},i.be=function(){return this.f9.be()},i.CI=function(){return this.f9.CI()},i.DI=function(){return this.f9.DI()},i.TI=function(){return this.f9.TI()},i.kI=function(){return this.f9.kI()},i.er=function(){return this.f9.er()},i.xa=function(t,n,i){return this.f9.xa(t,n,i)},i.ge=function(){return this.f9.ge()},i.RI=function(){return this.f9.RI()},i.II=function(){return this.f9.II()},i.gn=function(){this.$o();for(var t=0;t<iS.length;t++){var n=iS[t];this.f9.fn(n,this.Ds)}return this.f9.gn()},xt(n,[{key:"ht",get:function(){return this.f9.ht}},{key:"gR",get:function(){return this.f9.gR}},{key:"wR",get:function(){return this.f9.wR},set:function(t){this.f9.wR=t}},{key:"bt",get:function(){return this.f9.bt}},{key:"SR",get:function(){return this.f9.SR},set:function(t){this.f9.SR=t}},{key:"ct",get:function(){return this.f9.ct}},{key:"RR",get:function(){return this.f9.RR}},{key:"DR",get:function(){return this.f9.DR}},{key:"MR",get:function(){return this.f9.MR}},{key:"lt",get:function(){return this.f9.lt}},{key:"OR",get:function(){return this.f9.OR}},{key:"WR",get:function(){return this.f9.WR}},{key:"GR",get:function(){return this.f9.GR},set:function(t){this.f9.GR=t}},{key:"XR",get:function(){return this.f9.XR}},{key:"qR",get:function(){return this.f9.qR}},{key:"KR",get:function(){return this.f9.KR},set:function(t){this.f9.KR=t}},{key:"JR",get:function(){return this.f9.JR}},{key:"tI",get:function(){return this.f9.tI},set:function(t){this.f9.tI=t}},{key:"sI",get:function(){return this.f9.sI}},{key:"rI",get:function(){return this.f9.rI}},{key:"hI",get:function(){return this.f9.hI}},{key:"QG",get:function(){return this.f9.QG}},{key:"nt",get:function(){return this.f9.nt}},{key:"cI",get:function(){return this.f9.cI}},{key:"rt",get:function(){return this.f9.rt}},{key:"fI",get:function(){return this.f9.fI}},{key:"vI",get:function(){return this.f9.vI},set:function(t){this.f9.vI=t}},{key:"pI",get:function(){return this.f9.pI}},{key:"yI",get:function(){return this.f9.yI},set:function(t){this.f9.yI=t}},{key:"$G",get:function(){return this.f9.$G}},{key:"qB",get:function(){}}]),n}(ca),Xq=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).Eqt=void 0,e.Rqt=!1,e.aWt=void 0,e.handleManifestUpdate=function(){var t=e.Eqt.mqt();if(t){var n=e.QG;if(n){var i=n.getTime(),r=e.aWt;r||(r=new Qz,e.aWt=r),r.tr(t.oOt,(function(t){return(t.getTime()-i)/1e3})),!e.Rqt&&r.L.V>0&&(e.nt.tt(r),e.f8.tt(r),e.Rqt=!0)}}},e.szt=function(){e.Eqt&&e.Eqt.bqt(e.fI,e.cI)},e.xqt=i,e.f8=new qx(e),e.yn(fa.Yy,e.szt),e}Rt(n,t);var i=n.prototype;return i.xa=function(n,i,r){var e=this;return Zt((function(){return Ht(this,(function(u){switch(u.label){case 0:return[4,t.prototype.xa.call(e,n,i,r)];case 1:return u.sent(),n.hlsDateRange&&e.Eyt(n,i),[2]}}))}))()},i.Eyt=function(t,n){this.Eqt=new jq(t,n,this.xqt),this.Eqt.yn(fa.Wy,this.handleManifestUpdate),this.Eqt.Cn()},i.er=function(){return this.aWt&&(this.nt.it(this.aWt),this.f8.it(this.aWt),this.aWt.gn(),this.aWt=void 0,this.Rqt=!1),this.Eqt&&(this.Eqt.gn(),this.Eqt=void 0),this.f8.er(),t.prototype.er.call(this)},i.gn=function(){return this.fn(fa.Yy,this.szt),this.Eqt&&(this.Eqt.gn(),this.Eqt=void 0),this.f8.gn(),t.prototype.gn.call(this)},n}(Zq);!function(t){HT.WH().UH(t)}((function(t,n,i){return new Xq(t,n,i)})),U(),St(),U(),St(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Jt(),U(),St(),Dt(),Ct();var Gq=function(t){function n(n,i){var r;return void 0===i&&(i=""),(r=t.call(this,"An error occurred while casting.")||this).errorCode=n,r.description=i,r}return Rt(n,t),xt(n,[{key:"name",get:function(){return"CastError"}}]),n}(Vo);function Hq(t){return zq.apply(this,arguments)}function zq(){return zq=Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:return Qq()?[3,2]:[4,Yq(t)];case 1:n.sent(),n.label=2;case 2:return Jq()?[3,4]:[4,ra(100,t)];case 3:n.sent(),n.label=4;case 4:return Jq()?[3,6]:(qn.Op('Detected the Chromecast library was loaded without the CAF framework. It is strongly encouraged to load it with the CAF framework by using this URL: "//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"'),[4,qq()]);case 5:n.sent(),n.label=6;case 6:return[2]}}))})),zq.apply(this,arguments)}function Yq(t){return Kq.apply(this,arguments)}function Kq(){return Kq=Zt((function(t){var n,i,r,e,u,s;return Ht(this,(function(o){return(null==t?void 0:t.Bw)?[2,ut.reject(new Uo)]:(n=function(){var t,n;return{Vb:new ut((function(i,r){t=i,n=r})),Ob:t,Fb:n}}(),i=n.Vb,r=n.Ob,e=n.Fb,u=f.__onGCastApiAvailable,s=function(){f.__onGCastApiAvailable=u,e(new Uo)},f.__onGCastApiAvailable=function(n,i){n?r():e(new y(i)),null==t||t.Ow(s),f.__onGCastApiAvailable=u,u&&u(n,i)},null==t||t.Fw(s),[2,i])}))})),Kq.apply(this,arguments)}var qq=Ri((function(){return function(t){return new ut((function(n,i){var r=v.createElement("script");r.onload=function(){return n()},r.onerror=function(t){return i((null==t?void 0:t.error)||t)},r.type="text/javascript",r.src=t,(v.head||v.documentElement).appendChild(r)}))}("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js").catch((function(){throw new Gq("API_NOT_INITIALIZED","The Chromecast library could not be loaded successfully.")}))}));function Jq(){return Boolean("undefined"!=typeof cast&&cast.framework)}function Qq(){return"undefined"!=typeof chrome&&chrome&&chrome.cast&&chrome.cast.isAvailable}function $q(t,n,i,r){if(Yn(n))for(var e=0,u=k.keys(n);e<u.length;e++){var s=u[e];if("type"!==s&&"images"!==s){var o=n[s];Yn(o)&&(t[s]=o)}}!function(t,n,i,r){if(!Yn(i)&&!Yn(null==n?void 0:n.images))return;t.images=[],i&&t.images.push(new r.Image(i));if(null==n?void 0:n.images)if(ni(n.images))t.images.push(new r.Image(n.images));else if(Jn(n.images))for(var e=0,u=n.images;e<u.length;e++){var s,o,a=u[e],c=void 0;if(ni(a))c=new r.Image(a);else(c=new r.Image(a.src)).height=null!=(s=a.height)?s:null,c.width=null!=(o=a.width)?o:null;t.images.push(c)}}(t,n,i,r)}function tJ(t,n,i){return void 0===i&&(i=chrome),function(t,n,i){switch(null==t?void 0:t.type){case"movie":var r=new i.MovieMediaMetadata;return $q(r,t,n,i),r;case"audio":var e=new i.MusicTrackMediaMetadata;return $q(e,t,n,i),!Yn(e.artist)&&Yn(t.artistName)&&(e.artist=t.artistName),e;case"tv-show":var u=new i.TvShowMediaMetadata;return $q(u,t,n,i),!Yn(u.title)&&Yn(t.episodeTitle)&&(u.title=t.episodeTitle),!Yn(u.season)&&Yn(t.seasonNumber)&&(u.season=t.seasonNumber),!Yn(u.episode)&&Yn(t.episodeNumber)&&(u.episode=t.episodeNumber),u;default:var s=new i.GenericMediaMetadata;return $q(s,t,n,i),s}}(t,n,function(t){return{GenericMediaMetadata:t.cast.media.GenericMediaMetadata,MovieMediaMetadata:t.cast.media.MovieMediaMetadata,TvShowMediaMetadata:t.cast.media.TvShowMediaMetadata,MusicTrackMediaMetadata:t.cast.media.MusicTrackMediaMetadata,Image:t.cast.Image}}(i))}function nJ(t){switch(t){case chrome.cast.ErrorCode.CANCEL:return"CANCEL";case chrome.cast.ErrorCode.TIMEOUT:return"TIMEOUT";case chrome.cast.ErrorCode.API_NOT_INITIALIZED:return"API_NOT_INITIALIZED";case chrome.cast.ErrorCode.INVALID_PARAMETER:return"INVALID_PARAMETER";case chrome.cast.ErrorCode.EXTENSION_NOT_COMPATIBLE:return"EXTENSION_NOT_COMPATIBLE";case chrome.cast.ErrorCode.EXTENSION_MISSING:return"EXTENSION_MISSING";case chrome.cast.ErrorCode.RECEIVER_UNAVAILABLE:return"RECEIVER_UNAVAILABLE";case chrome.cast.ErrorCode.SESSION_ERROR:return"SESSION_ERROR";case chrome.cast.ErrorCode.CHANNEL_ERROR:return"CHANNEL_ERROR";case chrome.cast.ErrorCode.LOAD_MEDIA_FAILED:return"LOAD_MEDIA_FAILED";default:return"CANCEL"}}function iJ(t){if(t.items&&t.items.length>0&&t.currentItemId>=0)return go(t.items,(function(n){return n.itemId===t.currentItemId}))}U(),St(),Gt(),Ct(),rn(),Jt(),U(),St(),Dt(),Ct(),U(),St(),U(),St(),U(),St();var rJ="urn:x-cast:com.theoplayer.cast";U(),St(),U(),St();var eJ=function(t){return t.Iqt="theoplayer_receiver_info",t.Cqt="theoplayer_trackpropertychange",t.Pqt="theoplayer_propertychange",t}({});U(),St();var uJ=function(t){return t.SKIP_AD="SKIP_AD",t}({});U(),St();function sJ(t){v.createElement("img").src=t}U(),St(),U(),St(),Gt(),Dt(),Jt(),U(),St();var oJ=new RegExp(/^(\d\d):(\d\d):(\d\d)(?:\.(\d{3}))?$/);function aJ(t){if(ni(t)){var n=t.match(oJ);if(n)return 3600*T(n[1],10)+60*T(n[2],10)+Number(n[3])+(Number(n[4])||0)/1e3}}function cJ(t){if(void 0!==t){var n=t.match(/^([1-9]?\d|100)%$/);if(n)return T(n[1])/100}}function hJ(t,n){return"vmap"===t.type||!Yn(t.type)&&!Yn(n)}function fJ(t,n){return"vast"===t.type||!Yn(t.type)&&Yn(n)}U(),St(),Gt(),Jt(),U(),St(),Dt(),Ct(),U(),St();var vJ=function(){},lJ=function(t){function n(n){var i;return(i=t.call(this)||this).Uc=n.sort((function(t,n){return t.eL-n.eL})),i}return Rt(n,t),n.prototype.Nqt=function(){return null!=this.Mqt||(this.Mqt=Io(this.Uc,(function(t){return t.Nqt()}))),this.Mqt},xt(n,[{key:"Dqt",get:function(){return this.Uc}}]),n}(vJ);U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var dJ=function(t){function n(n,i){var r;return(r=t.call(this)||this).Lqt=n,r.Bqt=i,r.Fqt=!1,r}return Rt(n,t),xt(n,[{key:"o",get:function(){return this.Lqt}},{key:"eL",get:function(){return this.Bqt}},{key:"Oqt",get:function(){return this.Fqt}}]),n}(vJ),gJ=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).Gqt=r,a.Zqt=e,a.zqt=u,a.Wqt=s,a.zG=o,a}return Rt(n,t),n.prototype.Nqt=function(){if(void 0===this.qqt){for(var t,n,i,r=[],e=0,u=this.Wqt;e<u.length;e++){var s=u[e];s.Yqt&&(t=s.Yqt),s.Kqt&&(n=s.Kqt),s.jqt&&(i=s.jqt),r=r.concat(s.universalAdIds)}this.qqt={Xqt:this.Xqt,Yqt:t,Qqt:n,jqt:i,lt:this.lt,Jqt:r}}return[this.qqt]},xt(n,[{key:"Vqt",get:function(){return this.Wqt}},{key:"Uqt",get:function(){return this.Gqt}},{key:"Hqt",get:function(){return this.Zqt}},{key:"Xqt",get:function(){return this.zqt}},{key:"lt",get:function(){return this.zG}}]),n}(dJ);U(),St(),Dt(),Ct(),U(),St(),Dt();var mJ=function(){function t(t,n){this.tYt=t,this.iYt=n}return xt(t,[{key:"$qt",get:function(){return this.tYt}},{key:"eYt",get:function(){return this.iYt}}]),t}(),wJ=function(){function t(t,n,i,r,e,u){this.nYt=t,this.oYt=n,this.aYt=i,this.cYt=r,this.vYt=!1,this.fYt=e,this.Gqt=u}return t.prototype.mYt=function(){this.vYt=!0},xt(t,[{key:"sYt",get:function(){return this.nYt}},{key:"rYt",get:function(){return this.oYt}},{key:"hYt",get:function(){return this.aYt}},{key:"uYt",get:function(){return this.cYt}},{key:"td",get:function(){return this.lYt},set:function(t){this.lYt=t}},{key:"dYt",get:function(){return this.fYt}},{key:"_Yt",get:function(){return this.vYt}},{key:"Uqt",get:function(){return this.Gqt}}]),t}();U(),St(),Dt();var pJ=function(t){return t.gYt="all",t.pYt="any",t.QH="none",t}({});var yJ=function(){function t(t,n){this.yYt=t,this.AYt=n}return xt(t,[{key:"wYt",get:function(){return this.yYt}},{key:"bYt",get:function(){return this.AYt}}]),t}(),_J=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f,v,l,d,g){this.zA=t,this.qA=n,this.ZS=i,this.TYt=r,this.EYt=e,this.RYt=u,this.CYt=s,this.DYt=o,this.MYt=a,this.BYt=c,this.nYt=h,this.oYt=f,this.aYt=v,this.FYt=l,this.VYt=d,this.UYt=g}return xt(t,[{key:"o",get:function(){return this.ZS}},{key:"ji",get:function(){return this.zA}},{key:"Ti",get:function(){return this.qA}},{key:"SYt",get:function(){return this.TYt}},{key:"kYt",get:function(){return this.EYt}},{key:"xYt",get:function(){return this.RYt}},{key:"IYt",get:function(){return this.CYt}},{key:"PYt",get:function(){return this.DYt}},{key:"NYt",get:function(){return this.MYt}},{key:"LYt",get:function(){return this.BYt}},{key:"sYt",get:function(){return this.nYt}},{key:"rYt",get:function(){return this.oYt}},{key:"hYt",get:function(){return this.aYt}},{key:"OYt",get:function(){return this.FYt}},{key:"eYt",get:function(){return this.VYt}},{key:"WYt",get:function(){return this.UYt}}]),t}();U(),St(),Dt();var bJ=function(){function t(t,n){this.ZS=t,this.OOt=n}return xt(t,[{key:"id",get:function(){return this.ZS}},{key:"uri",get:function(){return this.OOt}}]),t}(),kJ=function(){function t(t,n,i,r){this.HYt=t,this.XYt=n,this.qYt=i,this.KYt=r}return xt(t,[{key:"GYt",get:function(){return this.HYt}},{key:"ZYt",get:function(){return this.XYt}},{key:"zYt",get:function(){return this.qYt}},{key:"YYt",get:function(){return this.KYt}}]),t}(),AJ=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,n,i)||this).zqt=r,h.QYt=e,h.$Yt=u,h.Wqt=s,h.eKt=o,h.sKt=a,h.zG=c,h}Rt(n,t);var i=n.prototype;return i.Nqt=function(){var t=this;return void 0===this.QYt?[]:(null!=this.Mqt||(this.Mqt=this.QYt.Nqt().map((function(n){return t.nKt(n)}))),this.Mqt)},i.nKt=function(t){for(var n,i,r,e=0,u=this.Vqt;e<u.length;e++){var s=u[e];s.Yqt&&(n=s.Yqt),s.Kqt&&(i=s.Kqt),s.jqt&&(r=s.jqt)}var o=t.Xqt.concat(this.Xqt),a=t.Yqt;if(n&&t.Yqt){var c=new kJ(t.Yqt.rKt.GYt,t.Yqt.rKt.ZYt,t.Yqt.rKt.zYt.concat(n.rKt.zYt),t.Yqt.rKt.YYt.concat(n.rKt.YYt));(a=t.Yqt).rKt=c,a.eYt=a.eYt.concat(n.eYt)}var h=t.Qqt;if(i&&i.$qt){for(var f,v,l=[],d=0,g=i.$qt;d<g.length;d++){var m=g[d];l.concat(m.uYt.zYt)}for(var w,p,y=[],_=0,b=null!=(w=null==(f=t.Qqt)?void 0:f.$qt)?w:[];_<b.length;_++){var k,A,T,S=b[_],E=new kJ(S.uYt.GYt,S.uYt.ZYt,S.uYt.zYt.concat(l),(null!=(A=null==(k=t.Yqt)?void 0:k.rKt.YYt)?A:[]).concat(null!=(T=null==n?void 0:n.rKt.YYt)?T:[]));y.push(new wJ(S.sYt,S.rYt,S.hYt,E,S.dYt,S.Uqt))}h=new mJ(y,(null!=(p=null==(v=t.Qqt)?void 0:v.eYt)?p:[]).concat(i.eYt))}var I=t.jqt;if(I){var R,C,N,x=I.wYt;r&&r.wYt&&(x=r.wYt),I=new yJ(x,(null!=(C=null==(R=t.jqt)?void 0:R.bYt)?C:[]).concat(null!=(N=null==r?void 0:r.bYt)?N:[]))}var D=t.lt;return this.lt&&(D=this.lt),{Xqt:o,Yqt:a,Qqt:h,jqt:I,lt:D,Jqt:t.Jqt}},xt(n,[{key:"Xqt",get:function(){return this.zqt}},{key:"jYt",get:function(){return this.QYt}},{key:"JYt",get:function(){return this.$Yt}},{key:"Vqt",get:function(){return this.Wqt}},{key:"tKt",get:function(){return this.eKt}},{key:"iKt",get:function(){return this.sKt}},{key:"lt",get:function(){return this.zG}}]),n}(dJ);U(),St(),Dt();var TJ=function(){function t(t,n,i,r,e,u,s,o){this.ZS=t,this.hKt=n,this.uKt=i,this.DYt=r,this.cKt=e,this.lKt=u,this.dKt=s,this.fKt=o}return xt(t,[{key:"o",get:function(){return this.ZS}},{key:"oKt",get:function(){return this.hKt}},{key:"aKt",get:function(){return this.uKt}},{key:"PYt",get:function(){return this.DYt}},{key:"Yqt",get:function(){return this.cKt}},{key:"Kqt",get:function(){return this.lKt}},{key:"jqt",get:function(){return this.dKt}},{key:"universalAdIds",get:function(){return this.fKt}}]),t}();U(),St(),Dt();var SJ=function(){function t(t,n,i,r,e,u,s,o){this._Kt=t,this.mKt=n,this.iYt=i,this.gKt=r,this.wKt=e,this.vYt=!1,this.fYt=u,this.Gqt=s,this.TKt=o}return t.prototype.mYt=function(){this.vYt=!0},xt(t,[{key:"ct",get:function(){return this._Kt}},{key:"vKt",get:function(){return this.mKt}},{key:"eYt",get:function(){return this.iYt},set:function(t){this.iYt=t}},{key:"rKt",get:function(){return this.gKt},set:function(t){this.gKt=t}},{key:"pKt",get:function(){return this.wKt},set:function(t){this.wKt=t}},{key:"yKt",get:function(){return this.vYt}},{key:"td",get:function(){return this.lYt},set:function(t){this.lYt=t}},{key:"dYt",get:function(){return this.fYt}},{key:"Uqt",get:function(){return this.Gqt}},{key:"bKt",get:function(){return this.AKt},set:function(t){this.AKt=t}},{key:"SKt",get:function(){return this.TKt}}]),t}();function EJ(t,n){return NJ(t)&&t.getAttribute(n)||void 0}function IJ(t,n){return RJ(t,n,void 0,!1)}function RJ(t,n,i,r){return n===(t.localName?t.localName:t.nodeName)&&(r&&i?i===t.namespaceURI:!i||!t.namespaceURI||i===t.namespaceURI)}function CJ(t,n){for(var i=[],r=0;r<t.childNodes.length;r+=1){var e=t.childNodes.item(r);NJ(e)&&IJ(e,n)&&i.push(e)}return i}function NJ(t){return t&&1===t.nodeType}function xJ(t,n){var i=(new DOMParser).parseFromString(t,n);if(!i||i.getElementsByTagName("parsererror").length>0)throw new y('Invalid document for MIME type "'+n+'"');return i}function DJ(t){return xJ(t,"text/xml")}function PJ(t){return t.replace(/[<>&'"]/g,(function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}}))}function MJ(t){return"data:application/xml,"+encodeURIComponent(t)}U(),St(),U(),St(),Dt();var BJ=function(t){return t.kKt="mute",t.EKt="unmute",t.Zy="pause",t.xKt="resume",t.RKt="rewind",t.IKt="skip",t.CKt="playerExpand",t.PKt="playerCollapse",t.DKt="fullscreen",t.NKt="exitFullscreen",t.MKt="expand",t.COLLAPSE="collapse",t.oTt="start",t.LKt="firstQuartile",t.BKt="thirdQuartile",t.OKt="midpoint",t.FKt="complete",t.VKt="acceptInvitationLinear",t.WKt="acceptInvitation",t.UKt="timeSpentViewing",t.GKt="otherAdInteraction",t.Xy="progress",t.HKt="creativeView",t.ZKt="adExpand",t.XKt="adCollapse",t.zKt="minimize",t.qKt="close",t.YKt="closeLinear",t.KKt="overlayViewDuration",t.jKt="breakStart",t.QKt="breakEnd",t.da="error",t}({});function OJ(t){switch(t){case"breakStart":case"breakEnd":case"error":return!0;default:return!1}}var LJ=["mute","unmute","pause","resume","rewind","skip","closeLinear","close","playerExpand","playerCollapse","fullscreen","exitFullscreen","expand","collapse","creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","acceptInvitationLinear","acceptInvitation","timeSpentViewing","otherAdInteraction","progress"];function FJ(t){return void 0!==t&&-1!==LJ.indexOf(t)}var VJ=["start","firstQuartile","midpoint","thirdQuartile","complete","mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","expand","collapse","fullscreen","exitFullscreen","creativeView","acceptInvitation","adExpand","adCollapse","minimize","close","overlayViewDuration","otherAdInteraction","progress"];function UJ(t){return void 0!==t&&-1!==VJ.indexOf(t)}var WJ=["mute","unmute","pause","resume","rewind","skip","playerExpand","playerCollapse","creativeView"];function jJ(t){return void 0!==t&&-1!==WJ.indexOf(t)}function ZJ(t,n){if(void 0!==t&&""!==t&&void 0!==n){var i=t.match(/^(\d+):(\d+):(\d+)$/);return i?S(i[1]||"0")+60*S(i[2]||"0")+S(i[3]||"0"):(i=t.match(/^(100|[1-9]\d|\d)%$/))?S(i[1]||"0")*n/100:void 0}}var XJ=function(){function t(t,n,i){this.JKt=t,this.$Kt=n,this.tjt=i}return xt(t,[{key:"FX",get:function(){return this.JKt}},{key:"ec",get:function(){return this.$Kt}},{key:"eventURL",get:function(){return this.tjt}}]),t}();U(),St(),Dt(),Ct();var GJ=function(){function t(t){this.ijt=t}return xt(t,[{key:"ejt",get:function(){return this.ijt}}]),t}(),HJ=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n)||this).njt=i,u.HYt=r,u.UYt=e,u}return Rt(n,t),xt(n,[{key:"GYt",get:function(){return this.HYt}},{key:"WYt",get:function(){return this.UYt}},{key:"sjt",get:function(){return this.njt}}]),n}(GJ),zJ=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),n}(GJ),YJ=function(t){function n(n){return t.call(this,n)||this}return Rt(n,t),n}(GJ);U(),St(),Dt();var KJ={rjt:{Wb:100,gb:"XML parsing error."},ojt:{Wb:303,gb:"Empty or invalid VAST error."},hjt:{Wb:400,gb:"General linear error"},ajt:{Wb:403,gb:"Unsupported MIME-type or missing mediafiles error"},ujt:{Wb:500,gb:"General nonlinear error"},dX:{Wb:900,gb:"Network error"}},qJ=function(){function t(t){this.ljt=t}return t.prototype.djt=function(t){if(this.cjt){var n=this.cjt.replace(/\[ERRORCODE]/,""+t.Wb);sJ(n)}},xt(t,[{key:"cjt",get:function(){return this.ljt}}]),t}();U(),St(),Dt(),Ct();var JJ=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r||i&&tQ[i]||n,e)||this)._jt=n,u.mjt=i,u.gjt=r,u}return Rt(n,t),xt(n,[{key:"fjt",get:function(){return this._jt}},{key:"vjt",get:function(){var t;return null!=(t=this.mjt)?t:900}}]),n}(Vo),QJ=function(t){return t.ADBLOCK="adblock",t.NETWORK="network",t.PARSING="parsing",t.PLAYBACK="playback",t.GENERAL="general",t}({}),$J=function(t){return t[t.VAST_MALFORMED_RESPONSE=100]="VAST_MALFORMED_RESPONSE",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION",t[t.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR",t[t.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY",t[t.VAST_UNEXPECTED_DURATION_ERROR=202]="VAST_UNEXPECTED_DURATION_ERROR",t[t.UNEXPECTED_SIZE=203]="UNEXPECTED_SIZE",t[t.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR",t[t.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT",t[t.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS",t[t.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.FILE_NOT_FOUND=401]="FILE_NOT_FOUND",t[t.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT",t[t.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH",t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE",t[t.MEZZANINE_FILE_REQUIRES=406]="MEZZANINE_FILE_REQUIRES",t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME=407]="MEZZANINE_FILE_DOWNLOADED_FIRST_TIME",t[t.AD_IN_VAST_REJECTED=408]="AD_IN_VAST_REJECTED",t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED=409]="INTERACTIVE_CREATIVE_NOT_EXECUTED",t[t.VERIFICATION_CODE_NOT_EXECUTED=410]="VERIFICATION_CODE_NOT_EXECUTED",t[t.GENERAL_NON_LINEAR_ERROR=500]="GENERAL_NON_LINEAR_ERROR",t[t.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR",t[t.OVERLAY_AD_LOADING_FAILED=502]="OVERLAY_AD_LOADING_FAILED",t[t.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH",t[t.GENERAL_COMPANION_AD_ERROR=600]="GENERAL_COMPANION_AD_ERROR",t[t.INVALID_DIMENSIONS_COMPANION_AD=601]="INVALID_DIMENSIONS_COMPANION_AD",t[t.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR",t[t.COMPANION_AD_LOADING_FAILED=603]="COMPANION_AD_LOADING_FAILED",t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION=604]="UNABLE_TO_FIND_SUPPORTED_COMPANION",t[t.UNKNOWN_ERROR=900]="UNKNOWN_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",t[t.MALFORMED_URI=1005]="MALFORMED_URI",t[t.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND",t[t.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE",t[t.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE",t[t.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE",t[t.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS",t[t.INVALID_ADX_EXTENSION=1105]="INVALID_ADX_EXTENSION",t[t.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED",t}({}),tQ={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. The video player received an ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",300:"General wrapper error.",301:"Timeout of VAST URI provided in wrapper element, or of VAST URI provided in a subsequent wrapper element. This includes request errors such as invalid URI, unreachable or request timeout for URI, and security or other exceptions related to requesting a VAST URI.",302:"Wrapper limit reached, as defined by the video player. Too many wrapper responses have been received with no InLine response. This can be caused by a circular loop of daisy chaining (one network bouncing to another and another).",303:"No ads VAST response after one or more wrappers. This also includes the number of empty VAST responses from fallback.",400:"General linear error. The video player is unable to display the linear ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Unable to download or timeout of MediaFile URI.",403:"Could not find a media file that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying a media file.",406:"A mezzanine file was required, but not provided.",407:"The mezzanine file was downloaded for the first time, so the ad did not serve. This can occur when an ad insertion is missed because the creative is being transcoded. It continues to occur until the creative is available for insertion.",408:"The ad returned in the VAST response was rejected.",409:"The interactive creative defined in the InteractiveCreativeFile node was not executed.",410:"The code referenced in the Verification node was not executed.",500:"General NonLinearAds error.",501:"Unable to display non-linear ad because creative dimensions do not align with creative display area (in other words, the creative dimension was too large). This can occur if you use CSS styles to set width and height of the video ,content element. You should instead use the width and height HTML attributes.",502:"Unable to fetch NonLinearAds/NonLinear resource.",503:"Could not find NonLinearResource with supported type. This can occur when a creative size is larger than the player size.",600:"General CompanionAds error.",601:"Unable to display companion because creative dimensions do not fit within the companion display area (in other words, space was not available).",602:"Unable to display required companion.",603:"Unable to fetch CompanionAds/Companion resource.",604:"Could not find Companion resource with supported type.",900:"VAST 2 error. Even if you request VAST 3 or your DFP network default is VAST 3, this can occur if you have a VAST redirect that returns a VAST 2 response.",901:"General VPAID error",1005:"URI malformed."};function nQ(t){if(!t)return!1;switch(t.toLocaleLowerCase()){case pA.zC:case pA.qC:case pA.XC:return!0;default:return!1}}function iQ(t){var n=Di();return!!(nQ(t)||t&&n&&(null==n?void 0:n.canPlayType)&&n.canPlayType(t))||(eQ("Invalid or unsupported MediaFile Content delivery type, skipping mediafile"),!1)}function rQ(t,n){for(var i=0;i<n.length;i++){var r=n[i];new qJ(r).djt(t)}}function eQ(t){0}U(),St(),U(),St(),Dt();var uQ=function(){function t(t,n){this.wjt=t,this.bjt=n}return xt(t,[{key:"pjt",get:function(){return this.wjt}},{key:"yjt",get:function(){return this.bjt}}]),t}(),sQ=function(){function t(){}var n=t.prototype;return n.Ajt=function(n,i){var r=this;return Zt((function(){var e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:return hJ(n.sources,n.timeOffset)?[4,t.Sjt(n.sources.src,i)]:[3,7];case 1:if(e=a.sent(),!(u=e&&e.documentElement))throw new JJ(QJ.NETWORK,$J.VAST_SCHEMA_VALIDATION_ERROR,"Ad source is not a valid XML document.");return IJ(u,"VMAP")?[4,r.Tjt(u,n,i)]:[3,3];case 2:return[2,a.sent()];case 3:return IJ(u,"VAST")?[4,r.kjt(u,i,!1)]:[3,5];case 4:return(s=a.sent())?(o=new fQ("",!0,!0,s),[2,[new cQ("start",o,oQ.Ejt,"",[],!1,!0,n)]]):[2,[]];case 5:throw new JJ(QJ.GENERAL,$J.VAST_MALFORMED_RESPONSE,"Only VMAP and VAST files are allowed as ad source.");case 6:return[3,8];case 7:if(fJ(n.sources,n.timeOffset))return[2,[new hQ(String(n.timeOffset),n,i)]];throw new JJ(QJ.GENERAL,$J.VAST_MALFORMED_RESPONSE,"Something went wrong parsing the ad source; only VMAP and VAST files are allowed as ad source.");case 8:return[2]}}))}))()},n.xjt=function(n,i,r,e){void 0===e&&(e=[]);var u=this;return Zt((function(){var s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,t.Sjt(n,i)];case 1:return s=c.sent(),[3,3];case 2:throw o=c.sent(),rQ(o instanceof JJ&&o.vjt===$J.VAST_MALFORMED_RESPONSE?KJ.ojt:KJ.dX,e),o;case 3:return(a=s&&s.documentElement)&&IJ(a,"VAST")?[4,u.kjt(a,i,r,e)]:[3,5];case 4:return[2,c.sent()];case 5:a&&IJ(a,"VMAP")&&Jr("Received VMAP ad when expecting VAST. Please set the type of your ad source in the configuration, or make sure to not set a timeOffset for VMAP ad sources. VMAP ads have their own offsets included."),c.label=6;case 6:return[2,void 0]}}))}))()},n.Rjt=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(!(null==(u=t.sources)?void 0:u.src))throw new JJ(QJ.GENERAL,$J.MALFORMED_URI,"Property src on adSource is missing.");return[4,e.xjt(t.sources.src,r,!1)];case 1:return s=c.sent(),o=new fQ("",!0,!0,s),(a=new cQ(n,o,oQ.Ejt,"",[],!1,!0,t)).Ijt=i,[2,a]}}))}))()},n.kjt=function(t,n,i,r){void 0===r&&(r=[]);var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,l,d,g,m;return Ht(this,(function(w){switch(w.label){case 0:if(u=[],s=[],o=[],!t||!IJ(t,"VAST")){if(rQ(KJ.ojt,r),i)throw new JJ(QJ.PARSING,$J.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");throw new JJ(QJ.PARSING,$J.VAST_EMPTY_RESPONSE,"The VAST element was empty.")}if(0===CJ(t,"Ad").length)return[3,7];a=0,c=CJ(t,"Ad"),w.label=1;case 1:if(!(a<c.length))return[3,6];h=c[a],w.label=2;case 2:return w.trys.push([2,4,,5]),[4,e.Cjt(h,n,r)];case 3:return 0===(f=w.sent()).eL?u.push(f):s.push(f),[3,5];case 4:return v=w.sent(),o.push(v),[3,5];case 5:return a++,[3,1];case 6:if(0===u.length&&0===s.length&&o.length>0)throw o[0];if(1===u.length&&0===s.length)return[2,u[0]];if(0===u.length&&0!==s.length)return[2,new lJ(s)];if(u.length>0||s.length>0)return[2,new lJ(s.concat(u))];w.label=7;case 7:if(0!==CJ(t,"Error").length)for(l=0,d=CJ(t,"Error");l<d.length;l++)g=d[l],eQ(KJ.ojt.gb),(m=g.textContent)&&r.push(m.trim());if(rQ(KJ.ojt,r),i)throw new JJ(QJ.PARSING,$J.VAST_NO_ADS_AFTER_WRAPPER,"No VAST element found after wrapper.");throw new JJ(QJ.PARSING,$J.VAST_EMPTY_RESPONSE,"The VAST element was empty.")}}))}))()},n.Tjt=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:e=[],u=CJ(t,"AdBreak"),s=0,h.label=1;case 1:if(!(s<u.length))return[3,6];o=u[s],h.label=2;case 2:return h.trys.push([2,4,,5]),[4,r.Pjt(o,n,i)];case 3:return(a=h.sent())&&e.push(a),[3,5];case 4:return c=h.sent(),qn.Bp(c),[3,5];case 5:return s++,[3,1];case 6:return[2,e]}}))}))()},n.Cjt=function(n,i,r){var e=this;return Zt((function(){var u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return u=EJ(n,"id")||"",(s=KV(EJ(n,"sequence")))||(s=0),o=CJ(n,"InLine"),0===(a=CJ(n,"Wrapper")).length?[3,2]:[4,e.Djt(a[0],u,s,i,r)];case 1:return[2,c.sent()];case 2:if(0!==o.length)return[2,t.Njt(o[0],u,s,r)];c.label=3;case 3:throw new JJ(QJ.PARSING,$J.VAST_SCHEMA_VALIDATION_ERROR,"An Ad tag without a Wrapper or inline element cannot be parsed")}}))}))()},n.Djt=function(n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h,f,v,l,d,g,m,w,p,y,_,b,k;return Ht(this,(function(A){switch(A.label){case 0:for(o=CJ(n,"Error")[0],a="",o&&o.textContent&&(a=o.textContent,u.push(a)),c=CJ(n,"AdSystem")[0],h="",c&&(h=c.textContent||h),f=[],v=0,l=CJ(n,"Impression");v<l.length;v++)(d=l[v]).textContent&&f.push(d.textContent);return g=CJ(n,"VASTAdTagURI")[0],m="",g&&g.textContent&&(m=g.textContent),[4,s.xjt(m,e,!0,u)];case 1:return w=A.sent(),p=CJ(n,"Creatives")[0],y=[],p&&(y=t.Ljt(p,h,u)),(_=JV(EJ(n,"followAdditionalWrappers")))||(_=!0),(b=JV(EJ(n,"allowMultipleAds")))||(b=!0),(k=JV(EJ(n,"fallbackOnNoAd")))||(k=!1),[2,new AJ(i,r,f,w,_,y,b,k,new qJ(a))]}}))}))()},n.Pjt=function(n,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b;return Ht(this,(function(k){switch(k.label){case 0:if(u=EJ(n,"timeOffset")||"0",s=EJ(n,"breakType")||oQ.tE,o=EJ(n,"breakId"),a=JV(EJ(n,"repeatAfter")),c=void 0!==aQ.Zjt(u),void 0===o&&(o=""),void 0===a&&(a=!1),!c)throw new JJ(QJ.PARSING,$J.VAST_SCHEMA_VALIDATION_ERROR,"Invalid TimeOffset type");if(h=CJ(n,"AdSource")[0],f=CJ(n,"TrackingEvents")[0],v=[],f&&(v=t.Vjt(f,OJ,"vmap")),(l=EJ(h,"id"))||(l=""),void 0===(d=JV(EJ(h,"allowMultipleAds")))&&(d=!0),(g=JV(EJ(h,"followRedirects")))||(g=!0),m=CJ(h,"AdTagURI")[0],w="",p=CJ(h,"VASTAdData")[0],!m||!m.textContent)return[3,1];try{return w=m.textContent,(y=Mg(i)).sources.src=w,[2,new hQ(u,y,r)]}catch(t){return[2,void 0]}return[3,6];case 1:return p?p.firstElementChild&&RJ(p.firstElementChild,"VAST")?[4,e.kjt(p.firstElementChild,r,!1)]:[3,3]:[3,5];case 2:return(_=k.sent())?(b=new fQ(l,d,g,_),[2,new cQ(u,b,s,o,v,a,!1,i)]):[2,void 0];case 3:throw new JJ(QJ.PARSING,$J.VAST_SCHEMA_VALIDATION_ERROR,"vmap:VASTAdData does not have a VAST-structure as a child element");case 4:return[3,6];case 5:throw new JJ(QJ.PARSING,$J.VAST_SCHEMA_VALIDATION_ERROR,"Invalid AdTagURI source or invalid VASTAdData in Adbreak Element");case 6:return[2]}}))}))()},t.requestSuccessOnly=function(t,n){return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n.Kk(t)];case 1:return i=e.sent(),[3,3];case 2:throw r=e.sent(),new JJ(QJ.NETWORK,$J.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.",r);case 3:if(!cd(i))throw new JJ(QJ.NETWORK,$J.UNKNOWN_ERROR,"Something went wrong while requesting xml from server.");return[2,i]}}))}))()},t.Sjt=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return r=new md({Gu:t,Yk:xl.Ak,yE:fd.GET}),[4,i.requestSuccessOnly(r,n)];case 1:e=u.sent(),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,e.qk()];case 3:return[2,DJ.apply(void 0,[u.sent()])];case 4:throw u.sent(),new JJ(QJ.NETWORK,$J.VAST_MALFORMED_RESPONSE,"The ad source could not be loaded.");case 5:return[2]}}))}))()},t.Njt=function(n,i,r,e){var u,s=CJ(n,"Error")[0];s&&s.textContent&&(u=s.textContent,e.push(u));var o,a=CJ(n,"AdSystem")[0],c="";a&&(c=a.textContent||c);var h=CJ(n,"AdTitle")[0];h&&(o=h.textContent||void 0);for(var f=[],v=0,l=CJ(n,"Impression");v<l.length;v++){var d=l[v];d.textContent&&f.push(d.textContent)}var g=t.Mjt(CJ(n,"Creatives")[0],c,e);return new gJ(i,r,c,o,f,g,new qJ(u))},t.Ljt=function(n,i,r){for(var e=[],u=0,s=CJ(n,"Creative");u<s.length;u++){var o=s[u],a=EJ(o,"id");a||(a="");var c=KV(EJ(o,"sequence"));c||(c=0);var h=EJ(o,"adId");h||(h="");var f=CJ(o,"Linear")[0],v=void 0;f&&(v=t.Bjt(f,"wrapper",a,i,r));var l=CJ(o,"NonLinearAds")[0],d=void 0;if(l)try{d=t.Ojt(l,a,i)}catch(t){}var g=CJ(o,"CompanionAds")[0],m=void 0;g&&(m=t.Fjt(g)),e.push(new TJ(a,h,c,"",v,d,m,[]))}return e},t.Mjt=function(n,i,r){for(var e=[],u=0,s=CJ(n,"Creative");u<s.length;u++){var o=s[u],a=EJ(o,"id");a||(a="");var c=KV(EJ(o,"sequence"));c||(c=0);var h=EJ(o,"adId");h||(h="");var f=EJ(o,"apiFramework");f||(f="");var v=CJ(o,"Linear")[0],l=void 0;if(v)try{l=t.Bjt(v,"inline",a,i,r)}catch(t){}if(0===(null==l?void 0:l.ct))throw new JJ(QJ.PARSING,$J.VAST_UNEXPECTED_DURATION_ERROR,"The VAST response had a duration of 0 seconds, so skipping the ad(s).");var d=CJ(o,"NonLinearAds")[0],g=void 0;if(d)try{g=t.Ojt(d,a,i)}catch(t){}var m=CJ(o,"CompanionAds")[0],w=void 0;m&&(w=t.Fjt(m));var p=CJ(o,"UniversalAdId"),y=t.parseUniversalAdIds(p);e.push(new TJ(a,h,c,f,l,g,w,y))}return e},t.Bjt=function(n,i,r,e,u){var s=CJ(n,"Duration")[0],o=0;if(s)o=aJ(s.textContent)||0;else if(!s&&"inline"===i)throw new JJ(QJ.PARSING,$J.VAST_SCHEMA_VALIDATION_ERROR,"Missing duration element in inLine linear");var a=EJ(n,"skipoffset"),c=-1;if(a){var h=aJ(a);if(void 0===h&&a.indexOf("%")>-1){var f=A.abs(Number(a.replace(/(?![0-9])./g,"")))/100;E(f)||(h=o*f)}void 0!==h&&(c=h)}var v=CJ(n,"MediaFiles")[0],l=[],d=[];if(v&&(l=function(t,n){for(var i=[],r=0,e=CJ(t,"MediaFile");r<e.length;r++){var u=e[r],s=EJ(u,"delivery"),o=EJ(u,"type");if(o){if(n(o)){var a=KV(EJ(u,"width")),c=KV(EJ(u,"height"));a||(eQ(),a=0),c||(eQ(),c=0);var h={delivery:s,type:o,width:a,height:c,contentURL:""+u.textContent};i.push(h)}}else eQ()}return i}(v,iQ),d=function(t){var n=CJ(t,"ClosedCaptionFiles");if(0===n.length)return[];for(var i=[],r=0,e=CJ(n[0],"ClosedCaptionFile");r<e.length;r++){var u=e[r],s=EJ(u,"type");s||eQ();var o=EJ(u,"language");o||eQ();var a={type:null!=s?s:"",language:null!=o?o:"",contentURL:(""+u.textContent).trim()};i.push(a)}return i}(v)),"inline"===i&&(!v||0===l.length))throw rQ(KJ.ajt,u),new JJ(QJ.PARSING,$J.VAST_LINEAR_ASSET_MISMATCH,"Missing MediaFiles in linear element");var g=CJ(n,"TrackingEvents")[0],m=[];g&&(m=t.Vjt(g,FJ,"linear"));var w=CJ(n,"VideoClicks")[0],p=t.Wjt(w);return new SJ(o,l,m,p,c,r,e,d)},t.Wjt=function(n){if(!n)return new kJ("","",[],[]);var i,r=CJ(n,"ClickThrough")[0],e="";r&&(i=r.textContent||void 0,e=EJ(r,"id")||"");var u=t.Ujt(CJ(n,"ClickTracking")),s=t.Ujt(CJ(n,"CustomClick"));return new kJ(i,e,u,s)},t.Ujt=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],e=r.textContent;if(e){var u=EJ(r,"id")||"";n.push(new bJ(u,e))}}return n},t.Vjt=function(t,n,i){for(var r=[],e=0,u=CJ(t,"Tracking");e<u.length;e++){var s=u[e],o=EJ(s,"event");if(n(o)){var a="";"linear"===i&&(a=EJ(t,"offset")||"0");var c=s.textContent;c&&r.push(new XJ(o,a,c))}else eQ()}return r},t.Ojt=function(n,i,r){for(var e=[],u=0,s=CJ(n,"NonLinear");u<s.length;u++){var o=s[u],a=CJ(o,"NonLinearClickThrough")[0],c=void 0;a&&(c=a.textContent||void 0);var h=t.Ujt(CJ(o,"NonLinearClickTracking")),f=CJ(o,"StaticResource")[0],v=void 0;if(f&&f.parentNode){var l=EJ(f,"creativeType"),d=f.textContent||"",g=CJ(f.parentNode,"NonLinearClickThrough")[0],m="";g&&(m=g.textContent||""),v=new HJ(d,l,m,"")}var w=t.Gjt(o),p=t.parseHtmlResource(o);if(v||w||p){var y=new kJ(c,"",h,[]);e.push(new wJ(v,w,p,y,i,r))}else eQ()}if(0===e.length)throw new JJ(QJ.PARSING,$J.VAST_SCHEMA_VALIDATION_ERROR,"nonLinearAds element found with no nonLinear elements");var _=CJ(n,"TrackingEvents")[0],b=[];return _&&(b=t.Vjt(_,UJ,"nonlinear")),new mJ(e,b)},t.parseUniversalAdIds=function(t){for(var n=[],i=0;i<t.length;i++){var r,e,u,s=t[i],o=null!=(r=EJ(s,"idRegistry"))?r:"",a=null!=(u=null!=(e=EJ(s,"idValue"))?e:s.textContent)?u:"";n.push(new uQ(o,a))}return n},t.Fjt=function(n){var i=EJ(n,"requiredType");(function(t){switch(t){case"all":case"any":case"none":return!0;default:return!1}})(i)||(i=pJ.QH);for(var r=[],e=0,u=CJ(n,"Companion");e<u.length;e++){var s=u[e],o=KV(EJ(s,"width")),a=KV(EJ(s,"height")),c=EJ(s,"id"),h=KV(EJ(s,"assetWidth")),f=KV(EJ(s,"assetHeight")),v=KV(EJ(s,"expandedWidth")),l=KV(EJ(s,"rxpandedHeight")),d=EJ(s,"apiFramework"),g=EJ(s,"adSlotId"),m=KV(EJ(s,"pxratio")),w=CJ(s,"AltText")[0],p=w?w.textContent:"";o||(eQ(),o=0),a||(eQ(),a=0),c||(c=""),h||(h=0),f||(f=0),v||(v=0),l||(l=0),d||(d=""),g||(g=""),m||(m=1),p||(p="");var y=t.Hjt(s),_=t.Gjt(s),b=t.parseHtmlResource(s),k=CJ(s,"TrackingEvents")[0],A=[];k&&(A=t.Vjt(k,jJ,"companion"));var T=CJ(s,"CompanionClickThrough")[0],S=void 0;T&&(S=T.textContent||void 0);var E=t.Ujt(CJ(s,"CompanionClickTracking"));(y||_||b)&&r.push(new _J(o,a,c,h,f,v,l,d,g,m,y,_,b,new kJ(S,"",E,[]),A,p))}return new yJ(i,r)},t.Hjt=function(t){var n,i=CJ(t,"StaticResource")[0];if(i&&i.parentNode){var r=EJ(i,"creativeType");r||(r="");var e,u=i.textContent,s=CJ(i.parentNode,"AltText")[0],o=CJ(i.parentNode,"CompanionClickThrough")[0],a="";s&&(a=s.textContent||""),o&&(e=o.textContent||void 0),u&&(n=new HJ(u,r,e,a))}return n},t.Gjt=function(t){var n,i=CJ(t,"IFrameResource")[0];if(i){var r=i.textContent||"";n=new zJ(r)}return n},t.parseHtmlResource=function(t){var n,i=CJ(t,"HTMLResource")[0];if(i){var r=i.textContent||"";n=new YJ(r)}return n},t}(),oQ=function(t){return t.tE="",t.Ejt="linear",t.Xjt="nonlinear",t.zjt="display",t}({}),aQ=function(){function t(){}return t.qjt=function(t){switch(t){case"linear":case"nonlinear":case"display":return!0;default:return!1}},t.Yjt=function(t){},t.Kjt=function(t){if(void 0!==t)return"start"===t?0:"end"===t?-1:void 0},t.jjt=function(t){var n=t.split(":"),i=0;return i+=3600*Number(n[0]),i+=60*Number(n[1]),i+=Number(n[2])},t.Qjt=function(t){if(t<=0)return"00:00:00.000";var n=A.floor(t),i=t-n;return this.Jjt(n/3600,2)+":"+this.Jjt(n/60%60,2)+":"+this.Jjt(n%60,2)+"."+this.Jjt(1e3*i,3)},t.Jjt=function(t,n){return("00"+A.floor(t)).slice(-n)},t.$jt=function(t,n){var i=this.Zjt(t);if(0===i)switch(t){case"start":return 0;case"end":return-1}else{if(2===i)return cJ(t)*n;if(1===i)return aJ(t);if(3===i)return this.Kjt(t);if(4===i){var r=Number(t);if(!E(r)&&r>=-1)return r}}},t.Zjt=function(t){return"start"===t||"end"===t?0:void 0!==aJ(t.toString())?1:void 0!==cJ(t.toString())?2:void 0!==this.Yjt(t.toString())?3:E(Number(t))?void 0:4},t}(),cQ=function(){function t(t,n,i,r,e,u,s,o){this.wKt=-1,this.sQt=n,this.nQt=t,this.lQt=i,this.oQt=r,this.aQt=u,this.VYt=e,this.dQt=s,this.eQt=o}return t.prototype.Dn=function(){return ut.resolve()},xt(t,[{key:"tQt",get:function(){return this.eQt.integration}},{key:"iQt",get:function(){return this.sQt}},{key:"YBt",get:function(){return this.nQt}},{key:"pKt",get:function(){return this.wKt},set:function(t){this.wKt=t}},{key:"eYt",get:function(){return this.VYt}},{key:"rQt",get:function(){return this.oQt}},{key:"hQt",get:function(){return this.aQt}},{key:"lnt",get:function(){return this.eQt}},{key:"uQt",get:function(){return this.Ijt.rd}},{key:"W",get:function(){return!0}},{key:"Ijt",get:function(){return this.cQt},set:function(t){this.cQt=t}}]),t}(),hQ=function(){function t(t,n,i){this.zE=!1,this.lW=i,this.lYt=new cQ(t,void 0,"","",[],!1,!1,n)}var n=t.prototype;return n.Dn=function(){var t;return null!=(t=this.fQt)?t:this.fQt=this.KE()},n.KE=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,(new sQ).Rjt(t.lnt,t.YBt,t.Ijt,t.lW)];case 1:return t.lYt=n.sent(),t.zE=!0,[2]}}))}))()},xt(t,[{key:"tQt",get:function(){return this.lYt.tQt}},{key:"iQt",get:function(){return this.lYt.iQt}},{key:"YBt",get:function(){return this.lYt.YBt}},{key:"pKt",get:function(){return this.lYt.pKt},set:function(t){this.lYt.pKt=t}},{key:"eYt",get:function(){return this.lYt.eYt}},{key:"rQt",get:function(){return this.lYt.rQt}},{key:"hQt",get:function(){return this.lYt.hQt}},{key:"lnt",get:function(){return this.lYt.lnt}},{key:"uQt",get:function(){return this.lYt.uQt}},{key:"W",get:function(){return this.zE}},{key:"Ijt",get:function(){return this.lYt.Ijt},set:function(t){this.lYt.Ijt=t}}]),t}(),fQ=function(){function t(t,n,i,r){this.ZS=t,this._Qt=n,this.gQt=r,this.mQt=i}return xt(t,[{key:"o",get:function(){return this.ZS}},{key:"tKt",get:function(){return this._Qt}},{key:"vQt",get:function(){return this.mQt}},{key:"Dqt",get:function(){return this.gQt}}]),t}();function vQ(t,n){var i;if(t.vastAdsRequest&&(i=function(t){if(t.adTagUrl)return t.adTagUrl;if(t.adsResponse)return MJ(t.adsResponse);return}(t.vastAdsRequest)),!i){var r=function(t){var n=t.contentUrl||t.contentId;if(!n)return;var i=t.contentType||"video/mp4",r=qA(i)||tT(t.contentType)?"streaming":"progressive",e=void 0!==t.duration?"<Duration>"+aQ.Qjt(t.duration)+"</Duration>":"",u=void 0!==t.whenSkippable&&t.whenSkippable>=0?' skipoffset="'+aQ.Qjt(t.whenSkippable)+'"':"",s='<MediaFile delivery="'+r+'" type="'+i+'">'+PJ(n)+"</MediaFile>",o=t.clickThroughUrl?"<VideoClicks><ClickThrough>"+PJ(t.clickThroughUrl)+"</ClickThrough></VideoClicks>":"",a="<Linear"+u+">"+e+"<MediaFiles>"+s+"</MediaFiles>"+o+"</Linear>",c=t.title?"<AdTitle>"+PJ(t.title)+"</AdTitle>":"";return'<VAST version="3.0"><Ad>'+c+"<InLine><Creatives><Creative>"+a+"</Creative></Creatives></InLine></Ad></VAST>"}(t);r&&(i=MJ(r))}var e=t.customData;if(i){var u={integration:null==e?void 0:e.integration,sources:{src:i,type:"vast"},timeOffset:n};return u.integration&&"csai"!==u.integration&&"theo"!==u.integration||(u.skipOffset=t.whenSkippable),u}}var lQ=function(t){return t.pQt="error",t.wQt="sourceupdate",t}({}),dQ=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=n,i}return Rt(n,t),n}(ha),gQ=function(t){function n(n,i){var r;return(r=t.call(this,"sourceupdate")||this).bt=n,r.xc=i,r}return Rt(n,t),n}(ha),mQ=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).OQt=0,e.PQt=function(t){e.wo(new dQ(t))},e.CQt=function(t){var n,i=new Gq(nJ(t.code),null!=(n=t.description)?n:void 0);e.PQt(i)},e.UNt=n,e.AQt=i,e.yQt=r,e}Rt(n,t);var i=n.prototype;return i.bQt=function(t){this.AQt.bQt(t)},i.SQt=function(t){this.AQt.SQt(t)},i.TQt=function(t){this.AQt.TQt(t)},i.kQt=function(t){this.AQt.kQt(t)},i.EQt=function(t){this.yQt.addUpdateListener(t)},i.xQt=function(t){this.yQt.removeUpdateListener(t)},i.RQt=function(){var t=this,n=new Yc,i=new chrome.cast.media.GetStatusRequest;return this.yQt.getStatus(i,(function(){n.Ob({bt:t.AR(),xc:t.tu()})}),(function(t){return n.Fb(t)})),n.Vb},i.AR=function(){var t;return null==(t=this.yQt.customData)?void 0:t.currentSource},i.tu=function(){var t,n;if(null==(t=this.UNt.IQt())?void 0:t.version){var i;n=null==(i=this.yQt.customData)?void 0:i.sourceDescription}else{var r,e=null==(r=iJ(this.yQt))?void 0:r.customData;(function(t){return $n(t)&&t.theoplayer_version>=1&&Yn(t.streamStart)&&Yn(t.isLive)&&Yn(t.sourceDescription)})(e)&&(n=e.sourceDescription),n||(n=function(t){return{sources:[{src:t.contentId,type:t.contentType}],ads:wQ(t)}}(this.yQt.media))}return n},i.TI=function(){var t=new chrome.cast.media.PauseRequest;this.yQt.pause(t,Ti,this.CQt)},i.EI=function(){var t=new chrome.cast.media.StopRequest;this.yQt.stop(t,Ti,this.CQt)},i.kI=function(){var t=new chrome.cast.media.PlayRequest;this.yQt.play(t,Ti,this.CQt)},i.Eb=function(t,n){var i=this,r=new chrome.cast.media.SeekRequest;return r.currentTime=t,r.resumeState=n?chrome.cast.media.ResumeState.PLAYBACK_PAUSE:chrome.cast.media.ResumeState.PLAYBACK_START,new ut((function(t,n){i.yQt.seek(r,t,(function(t){var i;n(new Gq(nJ(t.code),null!=(i=t.description)?i:void 0))}))}))},i.QR=function(t){this.AQt.$et(rJ,function(t){return{type:eJ.Pqt,properties:{playbackRate:t}}}(t)).catch(this.PQt)},i.DQt=function(t){var n=new chrome.cast.media.EditTracksInfoRequest(t);this.yQt.editTracksInfo(n,Ti,this.CQt)},i.NQt=function(){return this.yQt.getEstimatedTime()},i.MQt=function(){return this.yQt.getEstimatedBreakClipTime()},i.LQt=function(){return this.yQt.getEstimatedBreakTime()},i.BQt=function(){this.AQt.$et("urn:x-cast:com.google.cast.media",{type:uJ.SKIP_AD,requestId:this.OQt++,mediaSessionId:this.yQt.mediaSessionId}).catch(this.PQt)},i.gn=function(){this.$o()},xt(n,[{key:"yN",get:function(){return this.yQt}}]),n}(oa);function wQ(t){return t.vmapAdsRequest&&t.vmapAdsRequest.adTagUrl?[{sources:{src:t.vmapAdsRequest.adTagUrl,type:"vmap"}}]:t.breaks&&t.breakClips?Io(t.breaks,(function(n){return function(t,n){var i=function(i,e){var u=e[i],s=go(n,(function(t){return t.id===u}));if(s){var o=vQ(s,t.position);o&&r.push(o)}},r=[];if(t.isWatched)return r;for(var e=0,u=t.breakClipIds;e<u.length;e++)i(e,u);return r}(n,t.breakClips)})):[]}U(),St();var pQ=function(){function t(t){this.UNt=t}var n=t.prototype;return n.FQt=function(t,n){this.UNt.addMessageListener(t,n)},n.VQt=function(t,n){this.UNt.removeMessageListener(t,n)},n.$et=function(t,n){var i=this;return new ut((function(r,e){i.UNt.sendMessage(t,n,r,(function(t){var n;e(new Gq(nJ(t.code),null!=(n=t.description)?n:void 0))}))}))},n.gn=function(){},t}();function yQ(t){return"vmap"===t||"adrule"===t}function _Q(t){if(t)return ni(t)&&""!==t?{src:Xg(t),type:void 0}:function(t){return $n(t)&&Boolean(t.src)}(t)&&""!==t.src?{src:Xg(t.src),type:bQ(t.type)}:void 0}function bQ(t){if(ni(t)){var n=t.toLowerCase();switch(n){case"vast":case"vmap":case"adrule":return n;default:return void Jr("The ad source type provided in the configuration could not be recognized: '"+t+"'.")}}else t||Jr("For better performance it is highly recommended to add the type to the configuration of your ad sources.")}function kQ(t){if(void 0!==t&&""!==t&&("string"==typeof t||"number"==typeof t)){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return 0;case"end":case"100%":return-1}if("string"==typeof t){if(function(t){return oJ.test(t)}(t))return aQ.jjt(t);if(AQ(t))return t}return Number(t)>=0?Number(t):void 0}}function AQ(t){return new RegExp(/^\d{1,2}%$/).test(t)}function TQ(t){for(var n=[],i=function(t,r){if(Jn(r))for(var e=0,u=r.length;e<u;e++){var s=$n(r[e])&&r[e]?String(e):"";i(t+"["+encodeURIComponent(s)+"]",r[e])}else if($n(r))for(var o=0,a=k.keys(r);o<a.length;o++){var c=a[o];i(t+"["+encodeURIComponent(c)+"]",r[c])}else!function(t,i){n.push(t+"="+encodeURIComponent(null!=i?i:""))}(t,String(r))},r=0,e=k.keys(t);r<e.length;r++){var u=e[r];i(encodeURIComponent(u),t[u])}return n.join("&")}U(),St(),U(),St(),U(),St();var SQ=function(t){return t.Iqt="receiver_info",t.hBt="event",t.WQt="propertychange",t.Cqt="trackevent",t}({}),EQ=function(){function t(t){var n=this;this.GQt=[],this.HQt=[],this.qQt=function(t,i){var r=n.UQt(i);if(r)if(r.type===SQ.WQt)for(var e=0,u=n.GQt;e<u.length;e++)for(var s=u[e],o=0,a=k.keys(r.properties);o<a.length;o++){var c=a[o];s(c,r.properties[c])}else if(r.type===SQ.hBt)for(var h=0,f=n.HQt;h<f.length;h++){(0,f[h])(r.event)}else r.type===SQ.Cqt&&n.XQt&&r.event.trackState&&n.XQt(r.event.trackId,r.event.trackState.targetQualityIds)},this.zQt=t,this.zQt.FQt(rJ,this.qQt)}var n=t.prototype;return n.UQt=function(t){var n;try{n=JSON.parse(t)}catch(t){0}return n},n.bQt=function(t){this.GQt.push(t)},n.SQt=function(t){_o(this.GQt,t)},n.TQt=function(t){this.HQt.push(t)},n.kQt=function(t){_o(this.HQt,t)},n.ZQt=function(t){this.XQt=t},n.$et=function(t,n){return this.zQt.$et(t,n)},n.gn=function(){this.zQt.VQt(rJ,this.qQt),So(this.HQt),So(this.GQt),this.XQt=void 0},t}();U(),St(),U(),St();var IQ=function(t){return t.YQt="medialoadedchange",t.ob="volumechange",t.pQt="casterror",t.KQt="playererror",t.jQt="targetqualitychanged",t.QQt="receiverinfochanged",t}({}),RQ=function(t){function n(){return t.call(this,"medialoadedchange")||this}return Rt(n,t),n}(ha),CQ=function(t){function n(n,i){var r;return(r=t.call(this,"volumechange")||this).vI=n,r.GR=i,r}return Rt(n,t),n}(ha),NQ=function(t){function n(n){var i;return(i=t.call(this,"casterror")||this).lt=n,i}return Rt(n,t),n}(ha),xQ=function(t){function n(n){var i;return(i=t.call(this,"playererror")||this).lt=n,i}return Rt(n,t),n}(ha),DQ=function(t){function n(n,i){var r;return(r=t.call(this,"targetqualitychanged")||this).TN=n,r.JQt=i,r}return Rt(n,t),n}(ha),PQ=function(t){function n(){return t.call(this,"receiverinfochanged")||this}return Rt(n,t),n}(ha),MQ=function(t){function n(n){var i;(i=t.call(this)||this).iJt=void 0,i.PQt=function(t){i.wo(new NQ(t))},i.vJt=function(t,n){"error"===t&&i.wo(new xQ(n))},i.mJt=function(t,n){i.wo(new DQ(t,n))},i.eJt=function(t,n){var r=JSON.parse(n);r.type===SQ.Iqt&&(i.iJt=r.info,i.wo(new PQ))},i.oJt=function(){var t=i.sJt().receiver.volume,n=t.level,r=t.muted;i.wo(new CQ(null!=n?n:void 0,null!=r?r:void 0))},i._Jt=function(){return i.nJt(i.UNt.getMediaSession())},i.hJt=function(t){var n;t||(null==(n=i.rJt)||n.xQt(i.hJt),i.rJt=void 0,i.wo(new RQ))},i.dJt=function(t){var n,r=new Gq(nJ(t.code),null!=(n=t.description)?n:void 0);i.PQt(r)},i.UNt=n,i.UNt.addEventListener(cast.framework.SessionEventType.MEDIA_SESSION,i._Jt),i.zQt=new pQ(n.getSessionObj()),i.AQt=new EQ(i.zQt),i.AQt.bQt(i.vJt),i.AQt.ZQt(i.mJt),i.sJt().addUpdateListener(i.oJt),i.oJt(),i.tJt();var r=i.UNt.getMediaSession();return r&&i.nJt(r),i}Rt(n,t);var i=n.prototype;return i.$Qt=function(t,n,i){this.AQt.$et(rJ,function(t,n,i){return{type:eJ.Cqt,trackID:t,trackType:n,properties:{targetQuality:i}}}(t,n,i)).catch(this.PQt)},i.tJt=function(){this.zQt.FQt(rJ,this.eJt),this.AQt.$et(rJ,{type:eJ.Iqt}).catch(Ti)},i.IQt=function(){return this.iJt},i.sJt=function(){return this.UNt.getSessionObj()},i.nJt=function(t){!this.rJt&&t&&t.idleReason!==chrome.cast.media.IdleReason.FINISHED&&(this.rJt=new mQ(this,this.AQt,t),this.oJt(),this.wo(new RQ),this.rJt.EQt(this.hJt))},i.aJt=function(){return this.rJt},i.uJt=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:i=function(t){var n=function(t,n,i,r){var e=nn(function(t){for(var n=0,i=t.sources;n<i.length;n++){var r=i[n];if(oT(r)){var e=r.src;if(e){var u,s=null!=(u=r.type)?u:JA(e);if(BQ(s))return[e,s]}}}var o,a;return[null!=(o=uE(t))?o:"",null!=(a=rE(t))?a:""]}(t),2),u=e[0],s=e[1],o=new chrome.cast.media.MediaInfo(u,s);return o.metadata=tJ(t.metadata,t.poster),o.streamType=r,function(t,n,i){for(var r,e=function(t){var e=n[t],c=_Q(e.sources);if(c)if(hJ(c,e.timeOffset))(r=new chrome.cast.media.VastAdsRequest).adTagUrl=c.src;else if(fJ(c,e.timeOffset)){var h,f,v=null!=(h=e.timeOffset)?h:0,l=e.skipOffset,d=null!=(f=aQ.$jt(v,i))?f:0,g=void 0!==l?aQ.$jt(l,i):void 0,m=new chrome.cast.media.BreakClip("bc"+a++);m.vastAdsRequest=new chrome.cast.media.VastAdsRequest,m.vastAdsRequest.adTagUrl=c.src,m.whenSkippable=g,m.customData={integration:e.integration};var w=go(s,(function(t){return t.position===d}));void 0===w&&(w=new chrome.cast.media.Break("b"+o++,[],d),s.push(w)),w.breakClipIds.push(m.id),u.push(m)}else 0;else 0},u=[],s=[],o=0,a=0,c=0;c<n.length;c++)e(c);t.breakClips=u,t.breaks=s,t.vmapAdsRequest=r}(o,n,i),o}(t.cJt,t.qc,t.ct,t.o0),i=new chrome.cast.media.LoadRequest(n);return i.autoplay=!0,i.currentTime=t.SR,i.customData=t.lJt,i}(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.UNt.loadMedia(i)];case 2:return r=u.sent(),[3,4];case 3:return e=u.sent(),r=e,[3,4];case 4:if(r)throw new Gq(nJ(r));return[2]}}))}))()},i.ZR=function(t){this.sJt().setReceiverMuted(t,Ti,this.dJt)},i.gI=function(t){this.sJt().setReceiverVolumeLevel(t,Ti,this.dJt)},i.fJt=function(){return this.sJt().receiver.friendlyName},i.gn=function(){this.$o(),this.UNt.removeEventListener(cast.framework.SessionEventType.MEDIA_SESSION,this._Jt),this.sJt().removeUpdateListener(this.oJt),this.zQt.VQt(rJ,this.eJt),this.AQt.gn(),this.zQt.gn()},n}(oa);function BQ(t){switch(t){case pA.zC:case pA.XC:case pA.qC:case pA.YC:return!0}return!1}var OQ=function(t){return t.gJt="statechange",t}({}),LQ=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).Pft=n,i}return Rt(n,t),n}(ha),FQ=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).F1t=void 0,n.O1t=void 0,n.vQ=function(){var t=n.S1t();n.F1t=t===HS.CONNECTED?new MQ(n.V1t.getCurrentSession()):void 0,n.wo(new LQ(t))},n}Rt(n,t);var i=n.prototype;return i.t1t=function(t){this.O1t=t},i.e1t=function(){return this.O1t},i.s1t=function(){return this.F1t},i.S1t=function(){switch(this.V1t.getCastState()){case cast.framework.CastState.CONNECTED:return HS.CONNECTED;case cast.framework.CastState.CONNECTING:return HS.CONNECTING;case cast.framework.CastState.NOT_CONNECTED:return HS.AVAILABLE;case cast.framework.CastState.NO_DEVICES_AVAILABLE:default:return HS.UNAVAILABLE}},i.Tj=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,Hq(n)];case 1:return r.sent(),i.V1t=cast.framework.CastContext.getInstance(),i.V1t.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED,i.vQ),i.V1t.setOptions({receiverApplicationId:t.appID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),[2]}}))}))()},i.a1t=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t.V1t.requestSession()];case 1:if(n=r.sent())throw n;return[3,3];case 2:throw i=r.sent(),new Gq(nJ(i));case 3:return[2]}}))}))()},i.c1t=function(t){var n;return null==(n=this.O1t)?void 0:n.onStart(t)},i.p1t=function(t){var n;return null==(n=this.O1t)?void 0:n.onStop(t)},i.d1t=function(t){var n;return null==(n=this.O1t)?void 0:n.onJoin(t)},i.g1t=function(t){var n;return null==(n=this.O1t)?void 0:n.onLeave(t)},i.y1t=function(t){this.V1t.endCurrentSession(t)},n}(oa);U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Ct();var VQ=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this)||this).ea=n,h.pJt=0,h.aO=new nm,h.cO=new nm,h.Ll=new Qp,h.Uc=new gB,h.pJt=i,h.hZ=r-i,h.DA=e,h.R4=u,h.cZ=s,h.lZ=o,h.yJt=a,h.bJt=c,h}Rt(n,t);var i=n.prototype;return i.xst=function(){return this.Uc},i.pR=function(){return MA.mB()},i.kR=function(){return this.hZ+this.pJt},i.mst=function(){return this.kR()},i.yR=function(){},i.Sd=function(){return this.DA},i.IR=function(){return this.R4},i.PR=function(){},i.YR=function(){return this.cZ},i.wJt=function(){},i.jR=function(){return this.lZ},i.QR=function(t){this.lZ!==t&&(this.lZ=t,this.wo(new bT(this.ea.SR,t)))},i.nI=function(){return Cy.$B},i.$R=function(){return MA.mB()},i.oI=function(){return MA.mB()},i.aI=function(){return!1},i._R=function(){return this.aO},i.dI=function(){return this.cO},i.uI=function(){return this.Ll},i.DQt=function(t){},i._I=function(){return this.yJt},i.lI=function(){return this.bJt},i.kI=function(){this.cZ=!1},i.TI=function(){this.cZ=!0},i.Eb=function(t){this.hZ=t-this.pJt},i.AJt=function(){return this.pJt},i.SJt=function(t){this.pJt=t},i.$st=function(t){this.Uc.$st(t)},i.EI=function(){},i.gn=function(){this.$o(),this.aO.gn(),this.cO.gn(),this.Ll.gn(),this.Uc.gn()},n}(oa);U(),St(),Ct(),rn(),U(),St(),Dt(),Ct(),U(),St(),Ct(),U(),St();var UQ=function(t){return t.TJt="ccmodechangerequest",t.kJt="cctargetqualitychangerequest",t.EJt="cctrackchangerequest",t}({}),WQ=function(t){function n(n,i,r){var e;return(e=t.call(this,UQ.TJt)||this).track=n,e.trackId=i,e.mode=r,e}return Rt(n,t),n}(ha);U(),St();var jQ=function(t){return t.Ak="TEXT",t.fE="AUDIO",t._E="VIDEO",t}({}),ZQ=function(t){return t.jV="SUBTITLES",t.QV="CAPTIONS",t.JV="DESCRIPTIONS",t.Xn="CHAPTERS",t.$V="METADATA",t}({});function XQ(t){return"AUDIO"===t.type}function GQ(t){return"VIDEO"===t.type}function HQ(t){return"TEXT"===t.type}var zQ=function(t){function n(n){var i;(i=t.call(this)||this).su=void 0;var r=n.customData;return i.xC=Number(n.trackId)||0,i.o=""+(r&&r.id||i.xC),i.RO=r&&r.label||n.name||"",i.gs=r&&r.language||n.language||"",i.MC=r&&r.inBandMetadataTrackDispatchType||"",i.Lt=r&&r.kind||function(t){switch(t){case ZQ.jV:return $p.jV;case ZQ.QV:return $p.QV;case ZQ.JV:return $p.JV;case ZQ.Xn:return $p.Xn;case ZQ.$V:return $p.$V}return}(n.subtype)||"subtitles",i.sI=Nm.NONE,i.Aw=r&&void 0!==r.type?function(t){return Dm(t)?t:xm.DEFAULT}(r.type):xm.WEBVTT,i.Z4=[],i.z4=new VN(i.Z4),i.t5=[],i.X4=new VN(i.t5),i.Go=Hp(r&&r.mode||Gp.Th),i.xJt=i.Go,i}Rt(n,t);var i=n.prototype;return i.q4=function(t){return go(this.z4.uC,(function(n){return n.o===t}))},i.LC=function(t){this.xE=t},i.IJt=function(t){},i.gn=function(){},i.er=function(){},xt(n,[{key:"ka",get:function(){return this.su||(this.su=Kp(this)),this.su}},{key:"xh",get:function(){return this.RO},set:function(t){t!==this.RO&&(this.RO=t,this.wo(new mm(this)))}},{key:"q",get:function(){return this.X4}},{key:"L",get:function(){return this.z4}},{key:"xE",get:function(){return this.Go},set:function(t){var n=Hp(t);this.Go!==n&&(this.Go=n,this.xJt!==n&&this.wo(new WQ(this,this.xC,n)),this.wo(new dm(this)))}},{key:"RJt",get:function(){return this.xJt},set:function(t){var n=Hp(t),i=this.Go!==n;this.Go=n,this.xJt=n,i&&this.wo(new dm(this))}}]),n}(oa);U(),St(),Dt(),Ct(),U(),St(),Ct();var YQ=function(t){function n(n,i){var r;return(r=t.call(this,UQ.EJt)||this).trackId=n,r.enabled=i,r}return Rt(n,t),n}(ha);U(),St(),Ct();var KQ=function(t){function n(n,i){var r;return(r=t.call(this,UQ.kJt)||this).track=n,r.targetQuality=i,r}return Rt(n,t),n}(ha);U(),St();var qQ=function(t){return t.fE="audio",t._E="video",t.Ak="text",t}({}),JQ=function(t){function n(n){var i;(i=t.call(this)||this).xdt=void 0,i.AO=new lm,i.kdt=void 0,i.su=void 0,i.SLt=function(){return i.wo(new mm(i))};var r=n.customData;if(i.xC=Number(n.trackId)||0,i.o=""+(r&&r.id||i.xC),i.RO=r&&r.label||n.name||"",i.gs=r&&r.language||n.language||"",i.Lt=r&&r.kind||"main",i.He=r&&r.enabled,i.PJt=i.He,XQ(n)){i.h3=qQ.fE;var e=n.customData&&n.customData.qualities;if(e)for(var u=0;u<e.length;u++){var s=e[u],o=new RU(s.id,s.bandwidth,s.codecs,s.name,"",s.audioSamplingRate);o.yn("update",i.SLt),i.AO.SO(o)}}else{i.h3=qQ._E;var a=n.customData&&n.customData.qualities;if(a)for(var c=0;c<a.length;c++){var h=a[c],f=new IU(h.id,h.bandwidth,h.codecs,h.name,"",h.frameRate,h.width,h.height);f.yn("update",i.SLt),i.AO.SO(f)}}return i}Rt(n,t);var i=n.prototype;return i.CO=function(t){this.Rt=t},i.IJt=function(t){if(t.targetQualityIds){for(var n=[],i=0,r=this.AO.uC;i<r.length;i++){var e=r[i];t.targetQualityIds.indexOf(e.o)>-1&&n.push(e)}var u=n.length?n:void 0;this.CJt(u)}},i.CJt=function(t){(function(t,n){return!t&&n||t&&!n||t&&n&&!Eo(t,n)})(this.kdt,t)&&(this.kdt=t&&this.AO.TO(t)?t:void 0,this.wo(new UL(this.kdt,this)))},i.unload=function(){for(var t=0,n=this.AO.uC;t<n.length;t++){n[t].fn("update",this.SLt)}this.AO.er()},xt(n,[{key:"EC",get:function(){return this.xdt}},{key:"DC",get:function(){return this.kdt},set:function(t){this.CJt(t),this.wo(new KQ(this,t))}},{key:"IC",get:function(){return this.AO}},{key:"xh",get:function(){return this.RO},set:function(t){t!==this.RO&&(this.RO=t,this.wo(new mm(this)))}},{key:"Rt",get:function(){return this.He},set:function(t){this.He!==t&&(this.He=t,this.PJt!==t&&this.wo(new YQ(this.xC,t)),this.wo(new dm(this)))}},{key:"DJt",get:function(){return this.PJt},set:function(t){var n=this.He!==t;this.He=t,this.PJt=t,n&&this.wo(new dm(this))}},{key:"ka",get:function(){return this.su||(this.su=Qg(this)),this.su}},{key:"xE",get:function(){return this.Rt?"enabled":"disabled"}}]),n}(oa);U(),St();var QQ=function(t){return t.NJt="legacy",t.MJt="caf",t}({});U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),U(),St();var $Q=function(){function t(t){this.LJt=0,this.Uc=t}var n=t.prototype;return n.Ic=function(){if(!(this.LJt>=this.Uc.length)){var t=this.Uc[this.LJt];return this.LJt+=1,t}},n.lt=function(){return this.Ic()},t}();function t$(t){var n,i,r;return null!=(r=null==(i=t.iQt)||null==(n=i.Dqt)?void 0:n.Nqt())?r:[]}var n$=function(){},i$=function(){function t(){this.su=void 0}return t.prototype.Yst=function(){var t;return null!=(t=this.su)?t:this.su=function(t){return{get ads(){return t.qc.map((function(t){return t.Yst()}))},get integration(){return t.tQt},get maxDuration(){return t.BJt},get maxRemainingDuration(){return t.OJt},get timeOffset(){return t.YBt},get customData(){return t.lJt}}}(this)},t}(),r$=function(){function t(t,n){this.VJt=t,this.ea=n}return xt(t,[{key:"FJt",get:function(){return this.VJt}},{key:"t",get:function(){return this.ea}}]),t}(),e$=function(t){function n(n,i){var r;return(r=t.call(this)||this).HJt=[],r.XJt=[],r.cQt=n,r.ZJt=i,r}Rt(n,t);var i=n.prototype;return i.UJt=function(t,n,i,r){var e=go(this.HJt,(function(n){return n.Yqt===t}));if(void 0!==e)return e;var u=new a$(t,n,this,this.ZJt,i,r);return this.HJt.push(u),u},i.GJt=function(t,n,i,r,e){var u=go(this.XJt,(function(n){return n.Qqt===t}));if(void 0!==u)return u;var s=new o$(t,n,i,this,this.ZJt,r,e);return this.XJt.push(s),s},xt(n,[{key:"Ijt",get:function(){return this.cQt}},{key:"qc",get:function(){for(var t=[],n=0,i=this.cQt.WJt;n<i.length;n++)for(var r=i[n],e=0,u=t$(r);e<u.length;e++){var s,o,a=u[e],c=null!=(o=null==(s=a.jqt)?void 0:s.bYt)?o:[];if(a.Yqt&&t.push(this.UJt(a.Yqt,c,a.Jqt,r.lnt)),a.Qqt)for(var h=0,f=a.Qqt.$qt;h<f.length;h++){var v=f[h];t.push(this.GJt(v,c,a.Qqt,a.Jqt,r.lnt))}}return t}},{key:"tQt",get:function(){return ES.CSAI}},{key:"YBt",get:function(){var t=this.cQt.rd;return t>=0?t:this.ZJt.t.Sd()}},{key:"OJt",get:function(){for(var t=0,n=0,i=this.cQt.WJt;n<i.length;n++)for(var r=0,e=t$(i[n]);r<e.length;r++){var u=e[r];u.Yqt&&!u.Yqt.yKt&&(t+=u.Yqt.ct)}return this.ZJt&&this.ZJt.FJt&&(t+=this.ZJt.FJt.ct-this.ZJt.FJt.SR),t}},{key:"BJt",get:function(){for(var t=0,n=0,i=this.cQt.WJt;n<i.length;n++)for(var r=0,e=t$(i[n]);r<e.length;r++){var u=e[r];u.Yqt&&(t+=u.Yqt.ct)}return t}},{key:"lJt",get:function(){}}]),n}(i$),u$={height:0,width:0,clickThrough:"",contentHTML:"",resourceURI:"",altText:""},s$=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).qJt=!1,o.t$t=n,o.AYt=i,o.lYt=r,o.ZJt=e,o.fKt=u,o.eQt=s,o}Rt(n,t);var i=n.prototype;return i.zJt=function(){return this.qJt},i.YJt=function(){this.qJt=!0},i.KJt=function(t){return us({},u$,{resourceURI:t.ejt||""})},i.jJt=function(t){return us({},u$,{contentHTML:t.ejt.trim(),type:"HTMLResource"})},i.QJt=function(t){var n,i;return us({},u$,{clickThrough:(null==(n=t.GYt)?void 0:n.trim())||"",resourceURI:(null==(i=t.ejt)?void 0:i.trim())||"",altText:t.WYt||"",type:"StaticResource"})},i.JJt=function(t,n,i){if(t&&n){var r="<img "+(i?"title='"+i+"' ":"")+"src='"+encodeURI(t)+"'>";return"<a href='"+encodeURI(n)+"' target='_blank' rel='noopener'>"+r+"</a>"}},i.jqt=function(t){var n=this;return t?t.map((function(t){var i,r={adSlotId:t.NYt||"",height:t.Ti||0,width:t.ji||0};if(t.sYt){var e,u=n.QJt(t.sYt),s=u.clickThrough||(null==(e=t.OYt)?void 0:e.GYt);i=us({},u,{contentHTML:n.JJt(u.resourceURI,s,u.altText)||""})}else if(t.hYt)i=n.jJt(t.hYt);else{if(!t.rYt)return;i=n.KJt(t.rYt)}return Pg(i,r)})).filter((function(t){return void 0!==t})):[]},i.$Jt=function(){return this.t$t.Uqt},xt(n,[{key:"td",get:function(){return this.lYt}},{key:"lnt",get:function(){return this.eQt}},{key:"Jqt",get:function(){return this.fKt}}]),n}(n$),o$=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,e,u,s,o)||this).e$t=r,a}Rt(n,t);var i=n.prototype;return i.ba=function(){var t=this.lYt,n={companions:this.jqt(this.AYt),type:"nonlinear",id:this.t$t.dYt,skipOffset:this.pKt,integration:this.eQt.integration,adSystem:this.t$t.Uqt,get adBreak(){return t.Yst()},creativeId:this.t$t.dYt,universalAdIds:this.fKt.map((function(t){return{adIdRegistry:t.pjt,adIdValue:t.yjt}}))};return this.t$t.rYt?Pg(this.KJt(this.t$t.rYt),n):this.t$t.hYt?Pg(this.jJt(this.t$t.hYt),n):this.t$t.sYt?Pg(this.QJt(this.t$t.sYt),n):n},i.Yst=function(){var t;return null!=(t=this.su)?t:this.su=this.ba()},i.i$t=function(){var t,n;return null!=(n=null==(t=this.t$t.sYt)?void 0:t.ejt)?n:""},i.s$t=function(){var t,n,i;return null!=(i=null==(n=this.t$t)||null==(t=n.sYt)?void 0:t.sjt)?i:""},xt(n,[{key:"Qqt",get:function(){return this.t$t}},{key:"Kqt",get:function(){return this.e$t}},{key:"pKt",get:function(){var t,n=this.t$t.td;return n&&n.lnt&&void 0!==n.lnt.skipOffset?aQ.$jt(n.lnt.skipOffset,this.ZJt.FJt.ct):(null==(t=this.t$t.td)?void 0:t.pKt)||-1}}]),n}(s$),a$=function(t){function n(n,i,r,e,u,s){return t.call(this,n,i,r,e,u,s)||this}Rt(n,t);var i=n.prototype;return i.ba=function(){var t,n=this.lYt,i=this.t$t;return{companions:this.jqt(this.AYt),duration:i.ct,id:i.dYt,mediaFiles:i.vKt,get mediaUrl(){return i.bKt},skipOffset:this.pKt,type:"linear",integration:this.eQt.integration,adSystem:i.Uqt,width:void 0,height:void 0,get adBreak(){return n.Yst()},clickThrough:null==(t=i.rKt)?void 0:t.GYt,creativeId:i.dYt,universalAdIds:this.fKt.map((function(t){return{adIdRegistry:t.pjt,adIdValue:t.yjt}})),closedCaptionFiles:i.SKt}},i.Yst=function(){var t;return null!=(t=this.su)?t:this.su=this.ba()},i.i$t=function(){return this.t$t.vKt.length>0?this.t$t.vKt[0].contentURL:""},i.s$t=function(){return this.t$t.vKt.length>0?this.t$t.vKt[0].type:""},xt(n,[{key:"Yqt",get:function(){return this.t$t}},{key:"pKt",get:function(){var t=this.t$t.td;return t&&t.lnt&&void 0!==t.lnt.skipOffset?aQ.$jt(t.lnt.skipOffset,this.ZJt.FJt.ct):this.t$t.pKt||-1}}]),n}(s$);function c$(t){return t instanceof a$}U(),St();var h$=function(t){return t.n$t="csai",t.r$t="google-ima",t.Yh="google-dai",t.o$t="freewheel",t.h$t="mediatailor",t.Iv="chromecast",t.Lst="theoads",t}({});U(),St(),Ct();var f$=function(t){function n(n){return t.call(this,"a$t",n)||this}return Rt(n,t),n.prototype.ba=function(){return new v$(this.snt.Yst())},n}($M),v$=function(t){function n(n){return t.call(this,"updatead",n)||this}return Rt(n,t),n}(tB);U(),St(),Ct();var l$=function(t){function n(n){return t.call(this,"u$t",n)||this}return Rt(n,t),n.prototype.ba=function(){return new d$(this.snt.Yst())},n}($M),d$=function(t){function n(n){return t.call(this,"adloaded",n)||this}return Rt(n,t),n}(tB),g$=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).l$t=[],e.c$t=void 0,e.t$t=void 0,e.su=void 0,e.th=function(t){var n;if(t){var i=e.yQt.yN,r=i.breakStatus,u=i.media,s=u.breakClips,o=u.breaks,a=null==(n=iJ(i))?void 0:n.media,c=[];o&&s&&e.v$t(o,s,a,c),e.w$t(r,c);for(var h=0;h<c.length;h++){var f=c[h];e.wo(f)}}},e.ea=n,e.yQt=i,e.f$t=r,e.yQt.EQt(e.th),e}Rt(n,t);var i=n.prototype;return i.u6=function(t,n,i){throw new _("Scheduling ads while casting is not supported.")},i.DD=function(){this.yQt.BQt()},i.tnt=function(t){var n;null==(n=this.f$t)||n.tnt(t)},i.Jst=function(t,n){var i;null==(i=this.f$t)||i.Jst(t,n)},i._$t=function(t){return go(this.l$t,(function(n){return n.o===t}))},i.v$t=function(t,n,i,r){for(var e=this.l$t,u=[],s=!1,o=0;o<t.length;o++){var a=t[o],c=this._$t(a.id);void 0===c&&(c=new m$(a),r.push(new JM(c))),!Yn(c.m$t)&&Yn(i)&&(c.m$t=this.g$t(c.p$t,i));var h=c.qc;c.tr(a,n,i,r);for(var f=c.qc,v=0;v<f.length;v++){var l=f[v];Ao(h,l)||(r.push(new nB(l)),s=!0)}u.push(c)}this.l$t=u,s&&r.push(new fB);for(var d=0;d<e.length;d++){var g=e[d];Ao(u,g)||r.push(new KM(g))}},i.w$t=function(t,n){var i,r,e=this.c$t,u=this.t$t;if(t){var s,o=t.breakId,a=t.breakClipId;i=o?this._$t(o):void 0,r=a?null==(s=this.c$t)?void 0:s.y$t(a):void 0}if(this.c$t=i,this.t$t=r,i!==e&&(void 0!==e&&(e.b$t=void 0,n.push(new rB(e))),void 0!==i&&(i.b$t=this.yQt,n.push(new uB(i)))),r!==u){var c=this.ea.kR();void 0!==u&&n.push(new cB(u,c)),void 0!==r&&n.push(new oB(r,c))}},i.g$t=function(t,n){if(n&&n.breaks){var i=go(n.breaks,(function(n){return n.id===t.id}));return i}},i.$st=function(t){for(var n=[],i=0,r=this.l$t;i<r.length;i++){var e=r[i],u=e.qc;if(e===this.c$t&&void 0!==this.t$t){var s=u.indexOf(this.t$t);s>=0&&(u=u.slice(s))}else if(e.d$t())continue;for(var o=0;o<u.length;o++){var a=u[o].A$t();a&&n.push(a)}}for(var c=0;c<n.length;c++){var h=n[c];t.u6(h,XM.Xst,!1)}},i.gn=function(){return this.$o(),this.yQt.xQt(this.th),void 0!==this.c$t&&(this.c$t.b$t=void 0,this.c$t=void 0),this.t$t=void 0,So(this.l$t),ut.resolve(void 0)},xt(n,[{key:"Oc",get:function(){return void 0!==this.c$t}},{key:"qst",get:function(){return this.t$t?[this.t$t]:[]}},{key:"Kst",get:function(){var t;return null!=(t=this.c$t)?t:null}},{key:"jst",get:function(){var t=this;return Io(this.l$t,(function(n){var i=n.qc;if(n===t.c$t&&void 0!==t.t$t){var r=i.indexOf(t.t$t);if(r>=0)return i.slice(r+1)}return n.d$t()?[]:i}))}},{key:"Qst",get:function(){var t=this;return this.l$t.filter((function(n){return n===t.c$t||!n.d$t()}))}},{key:"ka",get:function(){var t;return null!=(t=this.su)?t:this.su=GM(this)}}]),n}(ca),m$=function(t){function n(n){var i;return(i=t.call(this)||this).m$t=void 0,i.Uc=[],i.b$t=void 0,i.S$t=n,i}Rt(n,t);var i=n.prototype;return i.d$t=function(){return this.S$t.isWatched},i.y$t=function(t){return go(this.Uc,(function(n){return n.o===t}))},i.tr=function(t,n,i,r){for(var e,u=function(u){var o=t.breakClipIds[u],a=go(n,(function(t){return t.id===o}));if(void 0===a)return"continue";var c=u<e.Uc.length?e.Uc[u]:new w$(a,e);!Yn(c.T$t)&&Yn(i)&&(c.T$t=e.k$t(i,o,u)),c.tr(a,r),s.push(c)},s=[],o=0;o<t.breakClipIds.length;o++)e=this,u(o);this.S$t=t,this.Uc=s},i.k$t=function(t,n,i){if(t&&t.breakClips){var r=go(t.breakClips,(function(t){return t.id===n}));if(!r){var e,u=null==(e=this.m$t)?void 0:e.breakClipIds[i];u&&(r=go(t.breakClips,(function(t){return t.id===u})))}return r}},xt(n,[{key:"p$t",get:function(){return this.S$t}},{key:"o",get:function(){return this.S$t.id}},{key:"qc",get:function(){return this.Uc}},{key:"tQt",get:function(){return h$.Iv}},{key:"BJt",get:function(){var t=this.S$t.duration;return void 0===t&&this.Uc.length>0&&(t=mr(this.Uc,(function(t){return t.ct})),E(t)&&(t=void 0)),t}},{key:"OJt",get:function(){var t=this.BJt;if(void 0!==t&&void 0!==this.b$t){var n=this.b$t.LQt();if(void 0!==n)return A.max(0,t-n)}return t}},{key:"YBt",get:function(){return this.S$t.position}},{key:"lJt",get:function(){}}]),n}(i$),w$=function(){function t(t,n){this.su=void 0,this.x$t=t,this.td=n}var n=t.prototype;return n.$Jt=function(){return""},n.s$t=function(){var t;return null!=(t=this.x$t.contentType)?t:""},n.i$t=function(){var t,n;return null!=(n=null!=(t=this.x$t.contentUrl)?t:this.x$t.contentId)?n:""},n.tr=function(t,n){var i=this.o,r=this.ct,e=this.x$t.contentUrl;this.x$t=t;var u=this.o,s=this.ct,o=this.x$t.contentUrl;i===u&&(r===s||E(r)&&E(s))&&e===o||n.push(new f$(this)),E(r)&&!E(s)&&n.push(new l$(this))},n.A$t=function(){var t;return this.T$t&&(t=vQ(this.T$t,this.td.YBt)),t||(t=vQ(this.x$t,this.td.YBt)),t},n.Yst=function(){var t;return null!=(t=this.su)?t:this.su=this.ba()},n.ba=function(){var t=this;return{get companions(){return t.bYt},get duration(){return t.ct},get id(){return t.o},get mediaFiles(){return t.vKt},get mediaUrl(){return t.bKt},get closedCaptionFiles(){return[]},get skipOffset(){return t.pKt},type:"linear",integration:h$.Iv,get adSystem(){return t.$Jt()},width:void 0,height:void 0,get adBreak(){return t.td.Yst()},get resourceURI(){return t.i$t()},get clickThrough(){return t.GYt},get creativeId(){return t.dYt},get customData(){return t.lJt},get isSlate(){return!1},get universalAdIds(){return t.Jqt.map((function(t){return{adIdRegistry:t.pjt,adIdValue:t.yjt}}))}}},xt(t,[{key:"E$t",get:function(){return this.x$t}},{key:"o",get:function(){return this.x$t.id}},{key:"bYt",get:function(){return[]}},{key:"ct",get:function(){var t;return null!=(t=this.x$t.duration)?t:NaN}},{key:"vKt",get:function(){var t=this.i$t();return t?[{contentURL:t,delivery:"progressive",type:this.s$t(),width:0,height:0}]:[]}},{key:"bKt",get:function(){return this.i$t()}},{key:"pKt",get:function(){var t=this.x$t.whenSkippable;return void 0===t?void 0:t<0?-1:t}},{key:"GYt",get:function(){return this.x$t.clickThroughUrl}},{key:"dYt",get:function(){}},{key:"Jqt",get:function(){return[]}},{key:"lJt",get:function(){}}]),t}();U(),St(),Dt(),Ct();var p$=function(t){function n(n,i){var r;return void 0===i&&(i=qn.Ys.Je),(r=t.call(this)||this).He=!1,r.P$t=function(t){t.stopPropagation(),r.wo(new ha("clickstart"))},r.D$t=function(t){t.stopPropagation(),r.wo(new ha("click"))},r.tx=n,r.C$t=i,r.Vs=v.createElement("a"),r.Vs.style.position="absolute",r.Vs.style.zIndex="11",r.Vs.target="qu",r.C$t?(EP(r.Vs,"learn more"),r.Vs.className="theoplayer-ad-overlay-component theoplayer-ad-touch-clickthrough",r.Vs.setAttribute("rel","noopener")):_i(r.Vs),r.tx.appendChild(r.Vs),r.oW(),r}Rt(n,t);var i=n.prototype;return i.rW=function(){if(!this.He){this.He=!0,this.Vs.style.display="",this.C$t||(this.tx.style.cursor="pointer");var t=this.C$t?this.Vs:this.tx;qn.Ys.Je?(t.addEventListener("touchstart",this.P$t),t.addEventListener("touchend",this.D$t)):(t.addEventListener("mousedown",this.P$t),t.addEventListener("click",this.D$t))}},i.oW=function(){if(this.He){this.He=!1,this.Vs.style.display="none",this.C$t||(this.tx.style.cursor="");var t=this.C$t?this.Vs:this.tx;qn.Ys.Je?(t.removeEventListener("touchstart",this.P$t),t.removeEventListener("touchend",this.D$t)):(t.removeEventListener("mousedown",this.P$t),t.removeEventListener("click",this.D$t))}},i.Hw=function(){this.$o(),this.oW(),this.tx.removeChild(this.Vs)},xt(n,[{key:"R$t",get:function(){return this.I$t},set:function(t){this.I$t!==t&&(this.I$t=t,this.Vs.href=null!=t?t:"",t?this.rW():this.oW())}}]),n}(oa);U(),St(),Dt(),Ct(),U(),St();var y$=[1200,992,768,576],_$={1200:"theo-size-xl",992:"theo-size-l",768:"theo-size-m",576:"theo-size-s"},b$=function(){function t(t,n){var i=this;this.Vs=t,this.Yu=n,this.mn=function(t){i.N$t(t.width)},this.M$t=k$(n.Mu),di(this.Vs,this.M$t),n.yn(mI.pn,this.mn)}var n=t.prototype;return n.N$t=function(t){var n=k$(t);n!==this.M$t&&(di(this.Vs,n),gi(this.Vs,this.M$t),this.M$t=n)},n.gn=function(){this.Yu.fn(mI.pn,this.mn)},t}();function k$(t){for(var n=0;n<y$.length;n++){var i=y$[n];if(t>i)return _$[i]}return"theo-size-xs"}var A$=function(t){function n(n,i){var r;return(r=t.call(this)||this).V$t=function(){r.wo(new ha("DD"))},r.Vs=v.createElement("div"),r.we.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",r.we.style.position="absolute",r.ed=v.createElement("span"),r.we.appendChild(r.ed),i&&(r.W$t=v.createElement("div"),r.W$t.className="theoplayer-ad-skip-poster",r.W$t.style.backgroundImage='url("'+Qs(i)+'")',r.we.appendChild(r.W$t)),r.Go="countdown",r.Qu=new b$(r.we,n),r}Rt(n,t);var i=n.prototype;return i.L$t=function(t){"countdown"!==this.Go&&(this.Go="countdown",this.B$t(),this.we.classList.remove("theoplayer-ad-skip-button"),this.we.classList.add("theoplayer-ad-skip-countdown")),this.Rk="You can skip in "+A.round(t)+" seconds"},i.O$t=function(){"skip"!==this.Go&&(this.Go="skip",this.Rk="Skip Ad",this.F$t(),this.we.classList.remove("theoplayer-ad-skip-countdown"),this.we.classList.add("theoplayer-ad-skip-button"))},i.F$t=function(){this.we.addEventListener("mouseup",this.V$t),this.we.addEventListener("touchend",this.V$t)},i.B$t=function(){this.we.removeEventListener("mouseup",this.V$t),this.we.removeEventListener("touchend",this.V$t)},i.gn=function(){this.$o(),this.B$t(),this.Qu.gn(),ai(this.Vs),ai(this.ed),this.W$t&&ai(this.W$t)},xt(n,[{key:"we",get:function(){return this.Vs}},{key:"xE",get:function(){return this.Go}},{key:"Rk",get:function(){return this.ed.textContent||""},set:function(t){EP(this.ed,t)}}]),n}(oa),T$=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Txt=MA.mB(),s.a0t=void 0,s.R4=!1,s.zG=void 0,s.t0t=void 0,s.I4=Cy.$B,s.l0t=!1,s.Ro=MA.mB(),s.h4=void 0,s.aZ=!1,s.aO=new nm,s.cO=new nm,s.Ll=new Qp,s.nxt=NaN,s.h0t=void 0,s.$$t=!1,s.o0t=NaN,s.n0t=void 0,s.q$t=0,s.y0t=function(t,n){switch(t){case"buffered":s.Txt=new MA(n),s.wo(new qR(s.kR()));break;case"currentProgramDateTime":s.a0t=new Date(n).getTime()-s.kR();break;case"played":s.Ro=new MA(n);break;case"seekable":s.j$t();break;case"videoHeight":s.s0t(void 0,n);break;case"videoWidth":s.s0t(n,void 0)}},s.C3=function(t){switch(t.type){case fa.jy:s.We(t.currentTime);break;case fa.Ky:s.bH();break;case fa.qy:s.wo(new rF(t.representation,t.previousRepresentation));break;case fa.Qy:s.wo(new xL(t.segmentStartTime,t.error,t.trackType,t.track,t.quality,t.retryCount));break;case fa.Iy:s.wo(new YW(t.currentTime,t.initDataType,t.initData));break;case fa.Ay:s.wo(new oD(new em(el.CONTENT_PROTECTION_ERROR,t.error,void 0,t.licenseAcquisitionURL,t.status,t.statusText,t.licenseAcquisitionMessage,t.systemCode)));break;case fa.Sy:s.wo(new aD)}},s.hJt=function(t){s.j$t(),s.J$t(),s.eh(),s.e0t(),s.r0t(),s.K$t(),s.H$t(),s.U$t(),s.d0t(),s._0t(),s.g0t(),t||S$(s.yQt.yN)&&s.Mh()},s.vd=function(){s.r0t(),s.g0t()},s.b0t=function(t){s.wo(t)},s.u0t=Ii((function(t){return s.J9(t)}),50),s.PQt=function(t){s.h0t=void 0,s.wo(new dQ(t))},s.m0t=function(){s.TI()},s.w0t=function(){s.Uc.DD()},s.ea=n,s.UNt=r,s.yQt=e,s.Uc=new g$(n,e,i.qc),s.pJt=u.AJt(),s.DA=u.Sd()-s.pJt,s.cZ=u.YR(),s.lZ=u.jR(),s.yJt=u._I(),s.bJt=u.lI(),s.yQt.TQt(s.C3),s.yQt.bQt(s.y0t),s.yQt.EQt(s.hJt),s.yQt.yn(lQ.pQt,s.b0t),s.yQt.RQt().then((function(t){s.wo(new gQ(t.bt,t.xc))}),s.PQt),s}Rt(n,t);var i=n.prototype;return i.U$t=function(){var t=this.yQt.yN.activeTrackIds;if(t){if(this.G$t()){var n=this.cO.uC.map((function(t){return t.o})),i=this.aO.uC.map((function(t){return t.o}));Ao(n.concat(i),"0")&&t.push(0)}C$(t,this.aO),C$(t,this.cO),function(t,n){for(var i=!1,r=0,e=n.uC;r<e.length;r++){var u=e[r];u.RJt=Ao(t,u.xC)?Gp.Jn:Gp.Th}}(t,this.Ll)}},i.H$t=function(){var t,n=null==(t=this.yQt.yN.media)?void 0:t.tracks;if(n){var i=n.filter(XQ),r=n.filter(GQ),e=n.filter(HQ);if(this.G$t()&&0===r.length&&0!==this._I()){var u=this.Z$t();r.push(u)}if(this.G$t()&&0===i.length){var s=this.X$t();i.push(s)}I$(this.aO,i.map((function(t){return t.trackId}))),I$(this.cO,r.map((function(t){return t.trackId}))),I$(this.Ll,e.map((function(t){return t.trackId}))),R$(i,this.aO),R$(r,this.cO),function(t,n){for(var i=!1,r=0;r<t.length;r++){var e=t[r],u=E$(n,e.trackId);u||(u=new zQ(e),n.tt(u),i=!0)}}(e,this.Ll)}},i.z$t=function(){this.cZ||(this.q$t=w(this.vd,250))},i.Y$t=function(){p(this.q$t)},i.K$t=function(){this.Y$t(),this.z$t()},i.j$t=function(){var t,n,i=this.yQt.yN,r=i.media,e=null!=(n=null==r?void 0:r.duration)?n:NaN,u=(null==r?void 0:r.streamType)===chrome.cast.media.StreamType.LIVE||e<0,s=u?1/0:e;this.DA=s,this.Q$t();var o=i.getEstimatedLiveSeekableRange(),a=null==(t=i.customData)?void 0:t.buffers;if(Yn(o)){var c=o.start,h=o.end,f=o.isMovingWindow,v=void 0===f?u:f,l=o.isLiveDone,d=void 0!==l&&l;this.BFt(c,h,v,d)}else if(Yn(a)){var g=nn(a.seekable,2),m=g[0],w=g[1];this.BFt(m,w,u,!1)}else u?this.BFt(void 0,void 0,!0,!1):this.BFt(0,s,!1,!1)},i.J$t=function(){var t=this.yQt.yN,n=function(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.PAUSED}(t)||S$(t);this.$$t=n,this.cZ!==n&&(this.cZ=n,this.cZ?this.wo(new pT(this.kR())):this.wo(new yT(this.kR())))},i.eh=function(){var t=this.yQt.yN.playbackRate;this.t0t!==t&&(this.t0t=void 0,this.lZ!==t&&(this.lZ=t,this.wo(new bT(this.kR(),t))))},i.e0t=function(){var t;switch(this.yQt.yN.playerState){case chrome.cast.media.PlayerState.IDLE:t=Cy.$B;break;case chrome.cast.media.PlayerState.BUFFERING:t=Cy.Gn;break;case chrome.cast.media.PlayerState.PAUSED:case chrome.cast.media.PlayerState.PLAYING:t=Cy.eO}this.P4(t),this.i0t()},i.BFt=function(t,n,i,r){Yn(t)&&Yn(n)?this.h4=new oN(t,n,i,i&&!r):this.h4=void 0},i.s0t=function(t,n){this.bJt=null!=n?n:this.bJt,this.yJt=null!=t?t:this.yJt,this.wo(new Ty)},i.We=function(t){this.n0t!==t?(this.aZ=!0,this.wo(new AT(this.kR()))):this.n0t=void 0},i.bH=function(){if(this.aZ){this.aZ=!1;var t=this.kR();this.wo(new pg(t,this.yR())),this.wo(new TT(t))}},i.Mh=function(){this.R4=!0,this.IR()&&this.wo(new kT(this.kR()))},i.Q$t=function(){var t=this.nxt,n=this.Sd();t===n||E(t)&&E(n)||(this.nxt=n,this.wo(new _T(n)))},i.r0t=function(){var t=this.kR();this.aZ||this.o0t===t||(this.o0t=t,this.wo(new pg(t,this.yR())))},i.wJt=function(){this.cZ&&(this.cZ=!1,this.wo(new yT(this.kR())),this.P4(Cy.$B))},i.xst=function(){return this.Uc},i.pR=function(){return this.Txt.kb(this.pJt)},i.kR=function(){if(this.Uc.Oc){var t=this.yQt.MQt();if(void 0!==t)return t}return this.mst()},i.mst=function(){return void 0!==this.h0t?this.pJt+this.h0t:this.R4?this.Sd():this.pJt+this.yQt.NQt()},i.yR=function(){if(this.a0t)return new Date(this.mst()+this.a0t)},i.Sd=function(){if(this.Uc.Oc){var t,n=null==(t=this.Uc.qst[0])?void 0:t.ct;if(void 0!==n&&!E(n))return n}return this.pJt+this.DA},i.PR=function(){return this.zG},i.IR=function(){return!this.Uc.Oc&&this.R4},i.YR=function(){return this.cZ},i.jR=function(){return this.lZ},i.QR=function(t){this.lZ!==t&&(this.t0t=this.lZ,this.lZ=t,this.wo(new bT(this.kR(),t)),this.yQt.QR(t))},i.nI=function(){return this.I4},i.$R=function(){return this.Uc.Oc?MA.vB(0,this.kR()):this.Ro.kb(this.pJt)},i.oI=function(){var t,n;if(this.Uc.Oc)return MA.mB();var i=null!=(n=null==(t=this.h4)?void 0:t.y3().kb(this.pJt))?n:MA.mB();if(i.V>0){var r=i.jn(i.V-1);i=i.JL(MA.vB(r,this.kR()))}return i},i.aI=function(){return this.aZ},i._R=function(){return this.aO},i.dI=function(){return this.cO},i.uI=function(){return this.Ll},i.Z$t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",frameRate:0,height:this.lI(),id:"0",name:"",width:this._I()},enabled:!0,id:"0",kind:"main",label:"",language:"",qualities:[],uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:jQ._E}},i.X$t=function(){return{customData:{activeQuality:{averageBandwidth:0,bandwidth:0,codecs:"",id:"0",name:"",audioSamplingRate:0},qualities:[],enabled:!0,id:"0",kind:"main",label:"",language:"",uid:0},language:"",name:"",trackContentId:"",trackContentType:"",trackId:0,type:jQ.fE}},i.G$t=function(){var t,n;return!(void 0!==(null==(t=this.UNt.IQt())?void 0:t.version))||(null==(n=this.UNt.IQt())?void 0:n.sdkType)===QQ.MJt},i.DQt=function(t){this.G$t()&&_o(t,0),this.yQt.DQt(t)},i._I=function(){return this.yJt},i.lI=function(){return this.bJt},i.kI=function(){this.cZ&&(this.cZ=!1,this.$$t=!1,this.wo(new yT(this.kR()))),this.yQt.kI()},i.TI=function(){this.cZ||(this.cZ=!0,this.$$t=!0,this.wo(new pT(this.kR()))),this.yQt.TI()},i.Eb=function(t){if(!this.Uc.Oc){var n=A.max(0,t-this.pJt);n=A.round(1e6*n)/1e6;var i=this.h0t;this.h0t=n,this.$$t=this.YR(),this.n0t=n,this.aZ=!0,this.wo(new AT(this.kR())),void 0===i&&(this.G$t()?this.u0t(n):this.J9(n))}},i.J9=function(t){this.yQt.Eb(t,this.$$t).then(this.c0t(t)).catch(this.PQt)},i.c0t=function(t){var n=this;return function(){void 0!==n.h0t&&(n.h0t===t?n.h0t=void 0:n.J9(n.h0t))}},i.P4=function(t){this.I4!==t&&(this.I4=t,this.wo(new Ry(this.kR(),t))),void 0===this.h0t&&this.aZ&&t>=Cy.tO&&this.bH(),this.i0t()},i.i0t=function(){if(this.cZ)this.l0t=!1;else{var t=this.I4>=Cy.eO;this.l0t!==t&&(this.l0t=t,t?this.wo(new By(this.kR())):this.wo(new Dy(this.kR())))}},i.d0t=function(){this.f0t||(this.f0t=v.createElement("div"),this.ea.we.appendChild(this.f0t),this.f0t.className="theoplayer-ad-linear theoplayer-chromecast-ad",this.f0t.style.zIndex="10",_i(this.f0t)),this.f0t.style.display=this.Uc.Oc?"":"none"},i._0t=function(){var t,n=null==(t=this.Uc.qst[0])?void 0:t.GYt;n&&!this.v0t?(this.v0t=new p$(this.f0t,!0),this.v0t.R$t=n,this.v0t.yn("clickstart",this.m0t)):this.v0t&&(this.v0t.R$t=n)},i.g0t=function(){var t,n=null==(t=this.Uc.qst[0])?void 0:t.pKt;if(void 0===n||n<0)this.p0t&&(this.p0t.gn(),this.p0t=void 0);else{if(!this.p0t){var i,r=null==(i=this.ea.Ta)?void 0:i.mi;this.p0t=new A$(this.ea.Lu,r),this.f0t.appendChild(this.p0t.we),this.p0t.yn("DD",this.w0t)}var e=this.yQt.MQt();void 0!==e&&(e<n?this.p0t.L$t(n-e):this.p0t.O$t())}},i.AJt=function(){return this.pJt},i.SJt=function(t){this.pJt=t},i.$st=function(t){},i.EI=function(){this.yQt.EI()},i.gn=function(){this.$o(),this.Uc.gn(),this.v0t&&(this.v0t.Hw(),this.v0t=void 0),this.p0t&&(this.p0t.gn(),this.p0t=void 0),this.f0t&&(ai(this.f0t),this.f0t=void 0),this.yQt.kQt(this.C3),this.yQt.SQt(this.y0t),this.yQt.xQt(this.hJt),this.yQt.fn(lQ.pQt,this.b0t),this.yQt.gn()},n}(oa);function S$(t){return void 0!==t&&t.playerState===chrome.cast.media.PlayerState.IDLE&&t.idleReason===chrome.cast.media.IdleReason.FINISHED}function E$(t,n){for(var i=0,r=t.uC;i<r.length;i++){var e=r[i];if(e.xC===n)return e}}function I$(t,n){for(var i=!1,r=0;r<t.V;r++){var e=t.lC(r);-1===n.indexOf(e.xC)&&(t.it(e),r--,i=!0)}return i}function R$(t,n){for(var i=!1,r=0;r<t.length;r++){var e=t[r],u=E$(n,e.trackId);u||(u=new JQ(e),n.tt(u),i=!0)}return i}function C$(t,n){for(var i=0,r=n.uC;i<r.length;i++){var e=r[i];e.DJt=Ao(t,e.xC)}return!1}U(),St();var N$=function(){function t(){}var n=t.prototype;return n.Tnt=function(t){return ut.resolve("all")},n.SI=function(){},n.gn=function(){},t}();U(),St();var x$=60;function D$(t,n,i){return E(t)?i:t===1/0?"live"===i||"dvr"===i?i:n&&n.length>0&&n.end(n.length-1)-n.start(0)>x$?"dvr":"live":"vod"}var P$=[fa.Cy,fa.xy,fa.zy,fa.Yy,fa.Zy,fa.ro,fa.Xy,fa.sb,fa.jy,fa.Ky,Ey.FL,Ey.VL,fa.qy,fa.Qy,fa.Iy,fa.Ay,fa.Sy],M$=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).so=!1,r.z0t=Ti,r.EW=Cy.$B,r.wW=!1,r.AW=!1,r.R0t=!1,r.E0t=void 0,r.zG=void 0,r.qG=void 0,r.aO=new oA,r.cO=new oA,r.Ll=new aA,r.sa=new sS,r.uO=new cA,r.cst=new N$,r.U0t=void 0,r.G0t=void 0,r.H0t=void 0,r.Y0t=function(t){var n,i;(Yn(t.vI)&&!hr(t.vI,r.ZA,1e-5)||Yn(t.GR)&&t.GR!==r.uZ)&&(r.ZA=null!=(n=t.vI)?n:r.ZA,r.uZ=null!=(i=t.GR)?i:r.uZ,r.wo(new ST(r.SR,r.ZA)))},r.K0t=function(){var t=r.UNt.aJt();r.Pft=t?new T$(r,r.ea,r.UNt,t,r.Ba):r.q0t()},r.T0t=function(t){r.oZ(t.bt),r.A0t(t.xc)},r.j0t=function(t){var n=r.S0t(t.TN);if(n){var i={targetQualityIds:t.JQt};n.IJt(i)}},r.b0t=function(t){r.C0t(t.lt)},r.C0t=function(t){r.z0t&&r.z0t(t)},r.cMt=function(t){r.zG=t.lt,r.qG=hm(r.zG),r.wo(new Ek(r.qG))},r.O0t=function(t){if(t.enabled)for(var n=0,i=(r.rt.uC.some((function(n){return n.xC===t.trackId}))?r.rt:r.ht).uC;n<i.length;n++){var e=i[n];e.Rt&&e.xC!==t.trackId&&(e.Rt=!1)}},r.F0t=function(t){if(t.mode===Gp.Jn)for(var n=0,i=r.nt.uC;n<i.length;n++){var e=i[n];e.xE===Gp.Jn&&e.xC!==t.trackId&&iy(e.Lt,t.track.Lt)&&(e.xE=Gp.Th)}},r.U$t=Ii((function(){r.V0t()}),50),r.L0t=function(){var t,n,i=[],e=null!=(t=go(r.ht.uC,(function(t){return X$(t,r.U0t)})))?t:go(r.ht.uC,(function(t){return t.Rt}));e&&i.push(e.xC);var u,s=null!=(n=go(r.nt.uC,(function(t){return X$(t,r.G0t)})))?n:go(r.nt.uC,(function(t){return t.xE===Gp.Jn}));s&&i.push(s.xC);var o=null!=(u=go(r.rt.uC,(function(t){return X$(t,r.H0t)})))?u:go(r.rt.uC,(function(t){return t.Rt}));o&&i.push(o.xC),0!==i.length&&r.Ba.DQt(i)},r.vpt=function(t){var n=r.Z0t(t.targetQuality),i=t.track;r.UNt.$Qt(i.xC,i.h3,n)},r.BW=function(t){r.wo(t);var n=t.readyState;!r.wW&&r.EW===Cy.$B&&n>=Cy.Gn&&(r.wW=!0,r.wo(new Ny(t.currentTime))),!r.AW&&r.EW<=Cy.Gn&&n>=Cy.tO&&(r.AW=!0,r.wo(new xy(t.currentTime))),r.EW<=Cy.tO&&n>=Cy.eO&&r.wo(new Py(t.currentTime)),r.EW<=Cy.eO&&n===Cy.iO&&r.wo(new My(t.currentTime)),r.EW=n},r.ZA=r.ea.vI,r.uZ=r.ea.GR,r.UNt=i,r.UNt.yn(IQ.pQt,r.b0t),r.UNt.yn(IQ.KQt,r.cMt),r.UNt.yn(IQ.ob,r.Y0t),r.UNt.yn(IQ.YQt,r.K0t),r.UNt.yn(IQ.jQt,r.j0t),r.Uc=new lB(r),r.JH=r.ea.bt,r.Cc=r.ea.tu(),r.Pft=new VQ(r,0,r.ea.mst(),r.ea.Sd(),r.ea.RR,r.ea.qR,r.ea.KR,r.ea.fI,r.ea.cI),r.P0t(),r}Rt(n,t);var i=n.prototype;return i.oZ=function(t){t&&(Bg(this.JH&&Vg(this.JH),t&&Vg(t))||(this.JH=t,this.wo(new LT(t))))},i.A0t=function(t){if(t){var n=gE(t,this.ea.bd);Bg(this.Cc&&Vg(this.Cc),n&&Vg(n))||(this.Ba.SJt(0),this.Cc=n,this.wo(new FM(n)),this.Ba.wJt())}},i.S0t=function(t){for(var n=0,i=this.rt.uC;n<i.length;n++){var r=i[n];if(r.xC===t)return r}for(var e=0,u=this.ht.uC;e<u.length;e++){var s=u[e];if(s.xC===t)return s}},i.xst=function(){return this.Uc},i.Rst=function(){return this.cst},i._R=function(){return this.aO},i.pR=function(){return this.Ba.pR().ks()},i.Dn=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return t?[4,i.uJt(t,null!=(r=t.ads)?r:[],t.streamType,NaN,0,null!=n?n:0)]:[2];case 1:return e.sent(),[2]}}))}))()},i.x0t=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:return(r=null!=(i=n.E0t)?i:n.Cc)?(u=n.E0t?null!=(e=n.E0t.ads)?e:[]:n.mnt(),s=n.ea.Sd(),o=n.ea.oI(),a=D$(s,o,r.streamType),c=o.length>0?o.start(0):0,h=null!=t?t:n.mst(),[4,n.uJt(r,u,a,s,c,h)]):[2];case 1:return f.sent(),[2]}}))}))()},i.mnt=function(){var t=new gB;return this.Uc.$st(t),t.mnt()},i.yR=function(){return this.Ba.yR()},i.AR=function(){return this.JH},i.kR=function(){return this.Ba.kR()},i.mst=function(){return this.Ba.mst()},i.ER=function(t,n){this.R0t||(this.UNt.aJt()||this.R0t||!this.Cc?this.Ba.Eb(t):this.Dn(this.Cc,t))},i.Sd=function(){return this.Ba.Sd()},i.IR=function(){return this.Ba.IR()},i.PR=function(){return this.zG},i.NR=function(){return this.qG},i.LR=function(){return this.uO},i.UR=function(){return this.ea.WR},i.HR=function(){return this.uZ},i.ZR=function(t){this.uZ=t,this.wo(new ST(this.SR,this.vI)),this.UNt.ZR(t)},i.YR=function(){return this.Ba.YR()},i.jR=function(){return this.Ba.jR()},i.QR=function(t){this.Ba.QR(t)},i.$R=function(){return this.Ba.$R().ks()},i.eI=function(){return nS.jB},i.iI=function(t){},i.nI=function(){return this.Ba.nI()},i.oI=function(){return this.Ba.oI().ks()},i.aI=function(){return this.Ba.aI()},i.tu=function(){return this.Cc},i.xa=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Cc=t,[4,n.Dn(t)];case 1:return i.sent(),n.E0t=void 0,n.Ba.wJt(),[2]}}))}))()},i.uI=function(){return this.Ll},i.lI=function(){return this.Ba.lI()},i._I=function(){return this.Ba._I()},i.dI=function(){return this.cO},i.mI=function(){return this.ZA},i.gI=function(t){this.ZA=t,this.wo(new ST(this.SR,this.vI)),this.UNt.gI(t)},i.AI=function(){},i.bI=function(){return this.sa},i.SI=function(){},i.kI=function(){this.UNt.aJt()||this.R0t||!this.Cc?this.Ba.kI():this.Dn(this.Cc)},i.TI=function(){this.Ba.TI()},i.dr=function(){this.so=!0},i.lr=function(){this.JH=void 0,this.so=!1},i.ge=function(){},i.be=function(){},i.uJt=function(t,n,i,r,e,u){var s=this;return Zt((function(){var o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:s.R0t=!0,s.I0t(),s.Ba.SJt(e),a=function(t,n,i){return{theoplayer_version:1,streamStart:t,isLive:n,sourceDescription:i}}(e,o="live"===i||"dvr"===i,t),c={cJt:t,qc:n,SR:A.max(0,u-e),ct:r,o0:o?chrome.cast.media.StreamType.LIVE:chrome.cast.media.StreamType.BUFFERED,lJt:a},f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,s.UNt.uJt(c)];case 2:return f.sent(),[3,5];case 3:return h=f.sent(),s.C0t(h),[3,5];case 4:return s.R0t=!1,[7];case 5:return[2]}}))}))()},i.P0t=function(){this.D0t(this.aO),this.D0t(this.cO),this.N0t(this.Ll)},i.D0t=function(t){for(var n=this,i=0,r=t.uC;i<r.length;i++){var e=r[i];this.M0t(e)}t.yn(Ag.OI,(function(t){n.M0t(t.Ht),n.L0t()}))},i.N0t=function(t){for(var n=this,i=0,r=t.uC;i<r.length;i++){var e=r[i];this.B0t(e)}t.yn(Ag.OI,(function(t){n.B0t(t.Ht),n.L0t()}))},i.M0t=function(t){t.yn(UQ.kJt,this.vpt),t.yn(UQ.EJt,this.O0t),t.yn(UQ.EJt,this.U$t)},i.B0t=function(t){t.yn(UQ.TJt,this.F0t),t.yn(UQ.TJt,this.U$t)},i.V0t=function(){for(var t=[],n=0,i=this.rt.uC;n<i.length;n++){var r=i[n];r.Rt&&t.push(r.xC)}for(var e=0,u=this.ht.uC;e<u.length;e++){var s=u[e];s.Rt&&t.push(s.xC)}for(var o=0,a=this.nt.uC;o<a.length;o++){var c=a[o];c.xE===Gp.Jn&&t.push(c.xC)}this.Ba.DQt(t)},i.W0t=function(t,n,i){this.U0t=t,this.G0t=n,this.H0t=i},i.Z0t=function(t){var n,i;return!!t&&((null!=(i=null==(n=this.UNt.IQt())?void 0:n.version)?i:-1)>=2?t.map((function(t){return t.o})):[t[0].o])},i.X0t=function(t){this.z0t=t},i.CI=function(){},i.DI=function(){},i.LI=function(t){throw new y("Can't add a track while casting.")},i.EI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.Ba.EI(),t.I0t(),[2]}))}))()},i.I0t=function(){this.EW=Cy.$B,this.wW=!1,this.AW=!1,this.zG=void 0,this.qG=void 0},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.I0t(),t.$o(),t.Pft=t.q0t(),t.UNt.fn(IQ.pQt,t.b0t),t.UNt.fn(IQ.KQt,t.cMt),t.UNt.fn(IQ.ob,t.Y0t),t.UNt.fn(IQ.YQt,t.K0t),t.UNt.fn(IQ.jQt,t.j0t),t.UNt.gn(),[2]}))}))()},i.q0t=function(){return new VQ(this,this.Ba.AJt(),this.Ba.kR(),this.Ba.Sd(),this.Ba.IR(),this.Ba.YR(),this.Ba.jR(),this.Ba._I(),this.Ba.lI())},xt(n,[{key:"Pft",get:function(){return this.Ba},set:function(t){var n=this.Ba;n&&(n.fn(lQ.pQt,this.b0t),n.fn(lQ.wQt,this.T0t),n.fn(P$,this.Ds),n.fn(Ey.tC,this.BW),t.SJt(n.AJt()),n.$st(t.xst())),this.Ba=t,this.aO.fC=t._R(),this.cO.fC=t.dI(),this.Ll.fC=t.uI(),this.Uc.fC=t.xst(),n&&n.gn(),t.yn(lQ.pQt,this.b0t),t.yn(lQ.wQt,this.T0t),t.yn(P$,this.Ds),t.yn(Ey.tC,this.BW)}},{key:"io",get:function(){return this.so}},{key:"qc",get:function(){return this.xst()}},{key:"k0t",get:function(){return this.E0t||this.Cc},set:function(t){this.E0t=t}},{key:"SR",get:function(){return this.kR()},set:function(t){this.ER(t)}},{key:"yI",get:function(){return!1},set:function(t){}}]),n}(Hk);U(),St(),Ct();var B$=function(t){function n(n){var i;return(i=t.call(this,"error")||this).lt=n,i}return Rt(n,t),n.prototype.ba=function(){return new O$(this.lt)},n}(yg),O$=function(t){function n(n){var i;return(i=t.call(this,"error")||this).error=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var L$=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return Rt(n,t),n}(ha);function F$(t,n){var i=void 0;return{get casting(){return t.hQ},get error(){return t.lt},get receiverName(){return t.Q0t},get state(){return t.Pft},start:function(){t.Cn()},stop:function(){t.EI()},join:function(){t.J0t()},leave:function(){t.$0t()},set connectionCallback(t){null==n||n.t1t(t)},get connectionCallback(){return null==n?void 0:n.e1t()},get source(){return i||t.xc},set source(n){i=n,t.xc=n},addEventListener:function(n,i){var r=Hg(n,Xg);t.yn(r,i)},removeEventListener:function(n,i){var r=Hg(n,Xg);t.fn(r,i)}}}U(),St();var V$=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).zG=void 0,u.su=void 0,u.ea=void 0,u.Ba=HS.UNAVAILABLE,u.r1t=!1,u.fW=new Jo,u.A1t=function(){u.i1t.yn(OQ.gJt,u.b1t),u.Pft=u.i1t.S1t()},u.b1t=function(t){var n=t.Pft;u.Pft=n,n!==HS.UNAVAILABLE&&n!==HS.AVAILABLE||u.l1t(!1).catch(u.O6)},u.E0t=void 0,u.O6=function(t){Wo(t)||t instanceof Gq&&(u.zG=t,u.wo(new B$(t).ka))},u.vj=n,u.n1t=i,u.i1t=e,u.DT=r.chromecast,u.h1t=Ho(u.i1t.Tj(u.DT,u.fW.Vw),u.fW),u.h1t.then(u.A1t).catch(u.O6),u}Rt(n,t);var i=n.prototype;return i.o1t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(!t.h1t)throw new y("Chromecast must be initialized before starting a session");return[4,t.h1t];case 1:return n.sent(),t.i1t.s1t()?[3,3]:[4,t.i1t.a1t()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))()},i.Cn=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:t.r1t=!0,e.label=1;case 1:return e.trys.push([1,5,,6]),t.Pft=HS.CONNECTING,[4,t.o1t()];case 2:return e.sent(),[4,t.u1t()];case 3:return e.sent(),t.ea&&(n=t.n1t.tu(),i=t.i1t.c1t(n),t.ea.k0t=i?gE(i,t.n1t.bd):t.E0t,t.ea.x0t()),t.Pft=HS.CONNECTED,[4,t.n1t.EI()];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),t.l1t(!1).catch(Ti),t.Pft=HS.AVAILABLE,Wo(r)||t.O6(r),[3,6];case 6:return[2]}}))}))()},i.J0t=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:t.r1t=!0,e.label=1;case 1:return e.trys.push([1,5,,7]),t.Pft=HS.CONNECTING,[4,t.o1t()];case 2:return e.sent(),[4,t.u1t()];case 3:return e.sent(),t.ea&&(n=t.n1t.tu(),(i=t.i1t.d1t(n))&&(t.ea.k0t=gE(i,t.n1t.bd))),t.Pft=HS.CONNECTED,[4,t.n1t.EI()];case 4:return e.sent(),[3,7];case 5:return r=e.sent(),[4,t.l1t(!0).catch(Ti)];case 6:return e.sent(),t.Pft=HS.AVAILABLE,Wo(r)||t.O6(r),[3,7];case 7:return[2]}}))}))()},i.f1t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.i1t.s1t()?[4,t.Cn()]:[2];case 1:return n.sent(),[2]}}))}))()},i.u1t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return null!=t.ea||(t.ea=t._1t()),t.zG=void 0,t.n1t.TI(),[4,t.vj.v1t(t.ea)];case 1:return n.sent(),[2]}}))}))()},i._1t=function(){var t=new M$(this.n1t,this.i1t.s1t());return t.X0t(this.O6),t},i.m1t=function(){this.ea&&(this.ea.gn(),this.ea=void 0)},i.l1t=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:if(n.r1t=!1,!n.ea)return[2];i=n.ea.io,r=n.ea.tu(),e=n.ea.mst(),s.label=1;case 1:return s.trys.push([1,,4,5]),i?(null!=(u=t?n.i1t.g1t(r):n.i1t.p1t(r))||(u=r),[4,n.vj.w1t(u,u===r)]):[3,3];case 2:s.sent(),n.n1t.ER(e),n.n1t.kI(),s.label=3;case 3:return[3,5];case 4:return n.m1t(),[7];case 5:return[2]}}))}))()},i.$0t=function(){this.hQ&&(this.i1t.y1t(!1),this.l1t(!0).catch(this.O6))},i.EI=function(){this.hQ&&(this.i1t.y1t(!0),this.l1t(!1).catch(this.O6))},i.gn=function(){this.fW.Yw(),this.i1t.fn(OQ.gJt,this.b1t),this.$o(),this.m1t()},xt(n,[{key:"hQ",get:function(){return this.Pft===HS.CONNECTING||this.Pft===HS.CONNECTED}},{key:"lt",get:function(){return this.zG}},{key:"ka",get:function(){return this.su||(this.su=F$(this,this.i1t)),this.su}},{key:"Q0t",get:function(){var t;return null==(t=this.i1t.s1t())?void 0:t.fJt()}},{key:"xc",get:function(){return this.ea?this.ea.k0t:this.E0t},set:function(t){this.E0t=t?gE(t,this.n1t.bd):void 0,this.ea&&(this.ea.k0t=this.E0t,this.E0t&&this.ea.Dn(this.E0t))}},{key:"Pft",get:function(){return this.Ba},set:function(t){var n=t;this.r1t||n!==HS.CONNECTING&&n!==HS.CONNECTED||(n=HS.AVAILABLE),this.Ba!==n&&(this.Ba=n,this.wo(new L$(this.Pft)))}}]),n}(ca);U(),St(),Dt(),Ct();var U$=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.J0t=function(){qn.Op("Joining a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.$0t=function(){qn.Op("Leaving a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.Cn=function(){qn.Op("Starting a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.EI=function(){qn.Op("Stopping a Chromecast session is not possible when JoinStrategy is configured to disabled")},i.f1t=function(){return ut.resolve()},i.gn=function(){},xt(n,[{key:"hQ",get:function(){return!1}},{key:"lt",get:function(){}},{key:"Q0t",get:function(){}},{key:"xc",get:function(){},set:function(t){}},{key:"Pft",get:function(){return HS.UNAVAILABLE}},{key:"ka",get:function(){return this.su||(this.su=F$(this)),this.su}}]),n}(ca);function W$(t){return{bt:t.bt,SR:t.kR(),ct:t.Sd(),RR:t.RR,lt:t.PR(),DR:t.NR(),GR:t.GR,qR:t.qR,KR:t.KR,sI:t.sI,hI:t.hI,cI:t.cI,fI:t.fI,vI:t.vI}}U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var j$=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).aO=new oA,r.cO=new oA,r.Ll=new aA,r.uO=new lA,r.hO=new ZT(n.lH),r.aO.fC=n.ht,r.cO.fC=n.rt,r.Ll.fC=n.nt,r.uO.fC=n.MR,r.Uc=new lB(r),r.Uc.fC=n.qc,r}Rt(n,t);var i=n.prototype;return i.xst=function(){return this.Uc},i._R=function(){return this.aO},i.LR=function(){return this.uO},i.Sa=function(){return this.hO},i.uI=function(){return this.Ll},i.dI=function(){return this.cO},i.switchContexts=function(t){this.ea=t,this.aO.fC=t.ht,this.cO.fC=t.rt,this.Ll.fC=t.nt,this.hO.fC=t.lH,this.uO.fC=t.MR,this.Uc.fC=t.qc},i.T1t=function(t){this.ea!==t&&(this.tZ(),this.switchContexts(t),this.$H())},i.lO=function(t){if(this.ea!==t){var n;this.tZ(),this.Nst&&(n=W$(this));var i=this.AR(),r=this.bI(),e=this.AI();if(this.switchContexts(t),void 0!==n)BT(this,n,W$(this));var u=this.AR();u!==i&&this.wo(new LT(u)),this.bI()!==r&&this.wo(new FT),this.AI()!==e&&this.wo(new VT),this.$H()}},i.gn=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gn.call(i,n)];case 1:return r.sent(),i.hO.gn(n),i.aO.gn(n),i.cO.gn(n),i.Ll.gn(n),i.uO.gn(),[4,i.Uc.gn(n)];case 2:return r.sent(),[2]}}))}))()},xt(n,[{key:"MR",get:function(){return this.LR()}}]),n}(Hk),Z$=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Qo=new dl,r.P1t=void 0,r.mEt=void 0,r.D1t=void 0,r.M1t=function(t){var n=t.Ht;X$(r.P1t,n)&&(n.Rt=!0)},r.L1t=function(t){var n=t.Ht;X$(r.mEt,n)&&(n.xE=Gp.Jn)},r.B1t=function(t){var n=t.Ht;X$(r.D1t,n)&&(n.Rt=!0)},r.C1t=function(){r.I1t.ht.fn(Ag.OI,r.M1t),r.I1t.nt.fn(Ag.OI,r.L1t),r.I1t.rt.fn(Ag.OI,r.B1t)},r.I1t=n,r.bd.cast.strategy!==gA.DISABLED?r.k1t=new V$(r,n,r.bd.cast,i):r.k1t=new U$,r.xz._Q(r.k1t),r}Rt(n,t);var i=n.prototype;return i.tu=function(){var n=t.prototype.tu.call(this);return!n&&this.k1t.hQ&&this.k1t.xc?this.k1t.xc:n},i.xa=function(n,i){var r=this;return this.Qo.Jo((function(i){return r.E1t=new Jo,r.E1t.Kw(i),Ho(t.prototype.xa.call(r,n,r.E1t.Vw),r.E1t)}),i)},i.kI=function(){t.prototype.kI.call(this),this.bd.cast.strategy!==gA.AUTO||this.k1t.hQ||this.k1t.f1t()},i.v1t=function(t){var n=this;return this.Qo.Jo((function(i){return n.x1t(t,i)}))},i.w1t=function(t,n){var i=this;return void 0===t&&(t=void 0),void 0===n&&(n=!1),this.Qo.Jo((function(r){return i.R1t(t,n,r)}))},i.x1t=function(t,n){jo(n),this.I1t.qc&&this.I1t.qc.$st(t.qc),this.C1t(),this.P1t=go(this.I1t.ht.uC,(function(t){return t.Rt})),this.mEt=go(this.I1t.nt.uC,(function(t){return"showing"===t.xE})),this.D1t=go(this.I1t.rt.uC,(function(t){return t.Rt})),this.N1t=t,this.N1t.W0t(this.P1t,this.mEt,this.D1t),this.lO(t),this.N1t.dr()},i.R1t=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:if(jo(i),void 0===(e=r.N1t))return[2];s.label=1;case 1:return s.trys.push([1,5,6,7]),t?[4,r.I1t.EI()]:[3,4];case 2:return s.sent(),jo(i),u=gE(t,r.I1t.bd),n&&(u.ads=void 0),r.E1t=new Jo,r.E1t.Kw(i),[4,Ho(r.I1t.xa(u,r.E1t.Vw),r.E1t)];case 3:s.sent(),s.label=4;case 4:return n&&r.I1t.qc&&e.qc.$st(r.I1t.qc),[3,7];case 5:return Xo(s.sent()),[3,7];case 6:return e.lr(),r.lO(r.I1t),r.P1t=go(r.N1t.ht.uC,(function(t){return t.Rt})),r.mEt=go(r.N1t.nt.uC,(function(t){return"showing"===t.xE})),r.D1t=go(r.N1t.rt.uC,(function(t){return t.Rt})),r.I1t.ht.yn(Ag.OI,r.M1t),r.I1t.nt.yn(Ag.OI,r.L1t),r.I1t.rt.yn(Ag.OI,r.B1t),r.I1t.yn(Ey.OL,r.C1t),r.N1t===e&&(r.N1t=void 0),[7];case 7:return[2]}}))}))()},i.EI=function(){var n,i=this;return this.P1t=void 0,this.mEt=void 0,this.D1t=void 0,this.C1t(),null==(n=this.E1t)||n.Yw(),this.Qo.Jo((function(){return t.prototype.EI.call(i)}))},i.gn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return null==(i=n.E1t)||i.Yw(),n.k1t.gn(),[4,n.w1t()];case 1:return r.sent(),[4,n.Qo.gn()];case 2:return r.sent(),[4,t.prototype.gn.call(n)];case 3:return r.sent(),[2]}}))}))()},n}(j$);function X$(t,n){return void 0!==t&&void 0!==n&&(t.gs===n.gs&&n.xh===t.xh)}U(),St(),Gt(),Dt(),Jt();var G$=function(){function t(t){this.h1t=void 0,this.su=void 0,this.i1t=t}var n=t.prototype;return n.Tj=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.h1t||(n.h1t=n.U1t(t)),[4,n.h1t];case 1:return i.sent(),[2]}}))}))()},n.U1t=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.i1t.Tj(t)];case 1:return i.sent(),[2]}}))}))()},n.a1t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:if(!t.h1t)throw new y("Chromecast must be initialized before starting a session");return[4,t.h1t];case 1:return n.sent(),t.i1t.s1t()?[3,3]:[4,t.i1t.a1t()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))()},n.G1t=function(){this.i1t.y1t(!1)},n.W1t=function(){this.i1t.y1t(!0)},xt(t,[{key:"ka",get:function(){return this.su||(this.su=function(t){return{initialize:function(n){var i=t.Tj(mA(n));return i.catch(Ti),i},startSession:function(){var n=t.a1t();return n.catch(Ti),n},endSession:function(){t.W1t()}}}(this)),this.su}}]),t}();var H$=new FQ,z$=new G$(H$),Y$={get chromecast(){return z$.ka}};Qk((function(t){return new Z$(t,H$)}),zk.Bst),U(),St(),U(),St(),U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Gt(),Jt();var K$=function(){function t(t){this.J1t=t,this.Y1t=os(),this.j1t=os()}var n=t.prototype;return n.H1t=function(t,n,i,r){var e=this;t.kZ.forEach((function(t){if(!e.Z1t(t.X1t)){var u=t.z1t(n,i,r);u&&e.q1t(u)}}))},n.Z1t=function(t){return this.Y1t.get(t)},n.q1t=function(t){this.Y1t.set(t.K1t,t),this.j1t.set(t.K1t,t.Q1t),this.J1t.nu(t.$1t)},n.tnt=function(t){this.j1t.has(t.K1t)||(this.j1t.set(t.K1t,t),this.J1t.nu(t.$1t))},n.t2t=function(t){return this.j1t.forEach(t)},n.e2t=function(t){return this.Y1t.forEach(t)},n.i2t=function(t){var n=!1;return this.Y1t.forEach((function(i){n=i.i2t(t)||n})),n},n.gn=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return n=[],t.Y1t.forEach((function(t){return n.push(t.gn())})),t.j1t.forEach((function(t){return n.push(t.gn())})),[4,ut.all(n)];case 1:return i.sent(),t.Y1t.clear(),t.j1t.clear(),[2]}}))}))()},t}();U(),St(),Ct();var q$=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"r2t")||this).fjt=n,u.gb=i,u.Wb=r,u.xc=e,u}return Rt(n,t),n.prototype.ba=function(){return new J$(this.fjt,this.gb,this.Wb,this.xc)},n.s2t=function(t){return new n(QJ.GENERAL,t.gb,t.vjt)},n.n2t=function(t,i){return new n(t.fjt,t.message,t.vjt,i)},n}(yg),J$=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"aderror")||this).problemType=n,u.message=i,u.errorCode=r,u.source=e,u}return Rt(n,t),n}(ha),Q$=function(t){function n(n){var i;return(i=t.call(this)||this).c2t=!1,i.O9=!1,i.su=void 0,i._2t=function(t){if(i.c2t){var n=new sm(um.ADVERTISEMENT_ERROR,t.gb),r=new sl(el.AD_BLOCKER_DETECTED,t.gb+" Turn off your AdBlocker and try again.",n);i.d2t.MH(r)}},i.Eit=function(){i.O9=!0},i.d2t=n,i.h2t=new K$(i),i.yn("r2t",i._2t),n.yn(fa.ro,i.Eit),i}Rt(n,t);var i=n.prototype;return i.$st=function(t){this.a2t((function(n){n.$st(t)}))},i.u6=function(t,n,i){try{this.c2t=i;var r=IS.Fg.xZ(t);if(r.X1t===h$.Lst)return;var e=this.h2t.Z1t(r.X1t);if(!e)throw new JJ(QJ.ADBLOCK,void 0,"Ads could not be loaded.");n!==XM.zst&&this.O9||this.d2t.l2t(e),r.u6(t,n,e,this.c2t)}catch(n){0,this.wo(q$.n2t(n,t.sources))}},i.DD=function(){this.a2t((function(t){t.DD()}))},i.tnt=function(t){this.h2t.tnt(t)},i.Jst=function(t,n){return this.d2t.Jst(t,n)},i.f2t=function(t){this.h2t.e2t((function(n){n.f2t(t)}))},i.i2t=function(t){return this.h2t.i2t(t)},i.a2t=function(t){return this.h2t.t2t(t)},i.SI=function(){this.h2t.e2t((function(t){return t.SI()}))},i.er=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.O9=!1,n=[],t.h2t.e2t((function(t){return n.push(t.EI())})),[4,ut.all(n)];case 1:return i.sent(),[2]}}))}))()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.$o(),[4,t.h2t.gn()];case 1:return n.sent(),t.d2t.fn(fa.ro,t.Eit),t.fn("r2t",t._2t),[2]}}))}))()},xt(n,[{key:"o2t",get:function(){return this.h2t}},{key:"Oc",get:function(){var t=!1;return this.a2t((function(n){t=t||n.u2t})),t}},{key:"qst",get:function(){var t=[];return this.a2t((function(n){var i,r=n.qst;r.length&&(i=t).push.apply(i,Ut(r))})),t}},{key:"Kst",get:function(){var t=null;return this.a2t((function(n){null!=t||(t=n.Kst)})),t}},{key:"jst",get:function(){var t=[];return this.a2t((function(n){var i;(i=t).push.apply(i,Ut(n.jst))})),t}},{key:"Qst",get:function(){var t=[];return this.a2t((function(n){var i;(i=t).push.apply(i,Ut(n.Qst))})),t}},{key:"ka",get:function(){var t;return null!=(t=this.su)?t:this.su=GM(this)}}]),n}(VI);U(),St(),Gt(),Dt(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var $$=function(t){function n(n){var i;return(i=t.call(this)||this).nQt=n,i.Uc=[],i.v2t=-1,i.m2t=-1,i.g2t=void 0,i.w2t=!1,i}Rt(n,t);var i=n.prototype;return i.p2t=function(){this.w2t=!0},i.y2t=function(t){this.Uc.push(t),this.w2t=!1},i.b2t=function(t){_o(this.Uc,t)},xt(n,[{key:"qc",get:function(){return this.Uc}},{key:"BJt",get:function(){return this.v2t},set:function(t){this.v2t=t}},{key:"OJt",get:function(){return this.m2t},set:function(t){this.m2t=t}},{key:"YBt",get:function(){return this.nQt},set:function(t){this.nQt=t}},{key:"lJt",get:function(){return this.g2t}},{key:"JR",get:function(){return this.w2t}}]),n}(i$),t0=function(t){function n(n,i){var r;return(r=t.call(this,i.timeOffset)||this).S2t=[],r.A2t=n,r.tr(i),r}Rt(n,t);var i=n.prototype;return i.tr=function(t){void 0!==t.maxDuration&&(this.v2t=t.maxDuration),void 0!==t.customData&&(this.g2t=t.customData)},i.T2t=function(t){var n=this.Uc.indexOf(t);return n>=0&&n<this.Uc.length-1},i.y2t=function(n){t.prototype.y2t.call(this,n),this.S2t.push(n)},i.k2t=function(t){_o(this.S2t,t)},i.b2t=function(n){t.prototype.b2t.call(this,n),_o(this.S2t,n)},xt(n,[{key:"tQt",get:function(){return this.A2t}},{key:"jst",get:function(){return this.S2t}}]),n}($$);U(),St(),Dt(),Ct(),Wt(),U(),St(),Dt(),Ct();var n0=function(t){return t.Ejt="linear",t.E2t="nonlinear",t.tE="unknown",t}({}),i0=function(t){return t.NONE="none",t.READY="ready",t}({}),r0=function(t){function n(n,i){var r;return(r=t.call(this)||this).P2t=i,r.ZS=void 0,r.wKt=void 0,r.zA=void 0,r.qA=void 0,r.DA=void 0,r.fKt=[],r.AYt=[],r.R2t="none",r.g2t=void 0,r.N2t=!1,r.td=n,r}Rt(n,t);var i=n.prototype;return i.x2t=function(t,n,i,r,e,u){this.ZS=t,this.zA=n,this.qA=i,this.DA=r,this.AYt=e,this.wKt=u,this.R2t="ready"},i.Yst=function(){var t;return null!=(t=this.su)?t:this.su=this.ba()},i.$Jt=function(){},i.s$t=function(){return""},i.i$t=function(){return this.M2t},xt(n,[{key:"I2t",get:function(){return this.R2t}},{key:"bYt",get:function(){return this.AYt}},{key:"ct",get:function(){return this.DA}},{key:"Ti",get:function(){return this.qA}},{key:"o",get:function(){return this.ZS}},{key:"pKt",get:function(){return this.wKt}},{key:"ji",get:function(){return this.zA}},{key:"C2t",get:function(){return this.P2t}},{key:"GYt",get:function(){return this.HYt}},{key:"dYt",get:function(){return this.fYt}},{key:"Jqt",get:function(){return this.fKt}},{key:"lJt",get:function(){return this.g2t}},{key:"D2t",get:function(){return this.N2t}}]),n}(n$);function e0(t){return{get adSystem(){return t.$Jt()},get readyState(){return t.I2t},get adBreak(){return t.td.Yst()},get duration(){return t.ct},get companions(){return t.bYt.map((function(t){return t.ka}))},get resourceURI(){return t.i$t()},get clickThrough(){return t.GYt},get width(){return t.ji},get type(){return function(t){switch(t){case"linear":case"unknown":return"linear";case"nonlinear":return"nonlinear"}}(t.C2t)},get height(){return t.Ti},get id(){return t.o},get skipOffset(){return t.pKt},get integration(){return t.tQt},get creativeId(){return t.dYt},get universalAdIds(){return t.Jqt},get customData(){return t.lJt},get isSlate(){return t.D2t}}}U(),St(),Dt();var u0=function(){function t(t){var n;this.su=void 0,this.HYt=void 0,this.M2t=void 0,this.MYt=t.NYt,this.zA=t.ji,this.qA=t.Ti,this.B2t=t.L2t,this.HYt=t.GYt,this.M2t=t.ejt,this.UYt=null!=(n=t.WYt)?n:"",this.O2t(t)}return t.prototype.O2t=function(t){if(!t.GYt||!t.ejt){var n=function(t){try{return xJ(t,"text/html")}catch(t){return}}(t.L2t);n&&(this.HYt=s0(n,"a","href"),this.M2t=s0(n,"img","src"))}},xt(t,[{key:"NYt",get:function(){return this.MYt}},{key:"WYt",get:function(){return this.UYt}},{key:"L2t",get:function(){return this.B2t}},{key:"GYt",get:function(){return this.HYt}},{key:"Ti",get:function(){return this.qA}},{key:"ejt",get:function(){return this.M2t}},{key:"ji",get:function(){return this.zA}},{key:"ka",get:function(){var t;return null!=(t=this.su)?t:this.su=function(t){return{get adSlotId(){return t.NYt},get altText(){return t.WYt},get contentHTML(){return t.L2t},get clickThrough(){return t.GYt},get height(){return t.Ti},get resourceURI(){return t.ejt},get width(){return t.ji}}}(this)}}]),t}();function s0(t,n,i){var r=t.querySelector(n);return r&&r.getAttribute(i)||""}var o0=function(t){function n(n,i,r){var e;return(e=t.call(this,r,function(t){return"linear"===t?n0.Ejt:"nonlinear"===t?n0.E2t:n0.tE}(i.type))||this).V2t=0,e.A2t=n,e.tr(i),e}Rt(n,t);var i=n.prototype;return i.ba=function(){return e0(this)},i.tr=function(t){t.id&&(this.ZS=t.id),void 0!==t.skipOffset&&(this.wKt=t.skipOffset),void 0!==t.width&&(this.zA=t.width),void 0!==t.height&&(this.qA=t.height),void 0!==t.duration&&(this.DA=t.duration),void 0!==t.readyState&&(this.R2t=function(t){return"ready"===t?i0.READY:i0.NONE}(t.readyState)),void 0!==t.resourceURI&&(this.M2t=t.resourceURI),void 0!==t.clickThrough&&(this.HYt=t.clickThrough),void 0!==t.companions&&(this.AYt=Ut(t.companions).map(a0)),void 0!==t.creativeId&&(this.fYt=t.creativeId),void 0!==t.universalAdIds&&(this.fKt=t.universalAdIds),void 0!==t.customData&&(this.g2t=t.customData)},xt(n,[{key:"tQt",get:function(){return this.A2t}},{key:"F2t",get:function(){return this.V2t},set:function(t){this.V2t=t}}]),n}(r0);function a0(t){var n={NYt:t.adSlotId,WYt:t.altText,L2t:t.contentHTML,Dk:void 0,GYt:t.clickThrough,Ti:t.height,ejt:t.resourceURI,ji:t.width};return new u0(n)}U(),St(),Dt(),Ct();var c0=function(t){function n(n,i){var r;return(r=t.call(this,"G2t",n)||this).U2t=i,r}return Rt(n,t),n.prototype.ba=function(){return new h0(this.snt.Yst(),this.W2t)},xt(n,[{key:"W2t",get:function(){return this.U2t}}]),n}($M),h0=function(t){function n(n,i){var r;return(r=t.call(this,"adskip",n)||this).playedPercentage=i,r}return Rt(n,t),n}(tB);U(),St(),Ct();var f0=function(t){function n(n){return t.call(this,"H2t",n)||this}return Rt(n,t),n.prototype.ba=function(){return new v0(this.td.Yst())},n}(zM),v0=function(t){function n(n){return t.call(this,"updateadbreak",n)||this}return Rt(n,t),n}(YM);U(),St(),Ct();var l0=function(t){function n(n){return t.call(this,"Z2t",n)||this}return Rt(n,t),n.prototype.ba=function(){return new d0(this.td.Yst())},n}(zM),d0=function(t){function n(n){return t.call(this,"adbreakchange",n)||this}return Rt(n,t),n}(YM);U(),St(),Ct();var g0=function(t){function n(n,i){var r;return(r=t.call(this,"X2t",n)||this).currentTime=i,r}return Rt(n,t),n.prototype.ba=function(){return new m0(this.snt.Yst(),this.currentTime)},n}($M),m0=function(t){function n(n,i){var r;return(r=t.call(this,"adfirstquartile",n)||this).currentTime=i,r}return Rt(n,t),n}(tB);U(),St(),Ct();var w0=function(t){function n(n,i){var r;return(r=t.call(this,"z2t",n)||this).currentTime=i,r}return Rt(n,t),n.prototype.ba=function(){return new p0(this.snt.Yst(),this.currentTime)},n}($M),p0=function(t){function n(n,i){var r;return(r=t.call(this,"admidpoint",n)||this).currentTime=i,r}return Rt(n,t),n}(tB);U(),St(),Ct();var y0=function(t){function n(n,i){var r;return(r=t.call(this,"q2t",n)||this).currentTime=i,r}return Rt(n,t),n.prototype.ba=function(){return new _0(this.snt.Yst(),this.currentTime)},n}($M),_0=function(t){function n(n,i){var r;return(r=t.call(this,"adthirdquartile",n)||this).ad=n,r.currentTime=i,r}return Rt(n,t),n}(tB),b0=function(){function t(t,n){this.$1t=new VI,this.Uc=[],this.l$t=[],this.o3t=[],this.tQt=t,this.d2t=n}var n=t.prototype;return n.DD=function(){var t;if(0!==this.o3t.length){var n=this.o3t[0];(null==(t=this.U6)?void 0:t.skipAd)?this.U6.skipAd(n.Yst()):this.BQt(n)}},n.$st=function(t){},n.Y2t=function(t,n){var i,r=null!=n?n:this.h3t({timeOffset:null!=(i=t.timeOffset)?i:0}),e=new o0(this.tQt,t,r);return r.y2t(e),this.Uc.push(e),this.$1t.wo(new nB(e)),e},n.j2t=function(t,n){t.tr(n),this.$1t.wo(new f$(t))},n.J2t=function(t,n){if(!Ao(this.o3t,t))throw new y("Cannot update ad progress on a non-started ad");var i=t.F2t,r=A.max(i,n);t.F2t=r;var e=this.d2t.kR();i<.25&&r>=.25&&this.$1t.wo(new g0(t,e)),i<.5&&r>=.5&&this.$1t.wo(new w0(t,e)),i<.75&&r>=.75&&this.$1t.wo(new y0(t,e))},n.k2t=function(t){Ao(this.o3t,t)||(this.o3t.push(t),t.td.k2t(t),this.a3t(t.td),this.$1t.wo(new oB(t,this.d2t.kR())))},n.BQt=function(t){if(Ao(this.o3t,t)){var n=t.td.T2t(t);this.$1t.wo(new c0(t,t.F2t)),this.u3t(t,n)}},n.$2t=function(t){if(Ao(this.o3t,t)){var n=t.td.T2t(t);this.$1t.wo(new cB(t,this.d2t.kR())),this.u3t(t,n)}},n.b2t=function(t){if(Ao(this.Uc,t)){var n=t.td.T2t(t);_o(this.Uc,t),t.td.b2t(t),this.$1t.wo(new l0(t.td)),this.u3t(t,n)}},n.t3t=function(t){var n=new t0(this.tQt,t);return this.l$t.push(n),this.$1t.wo(new JM(n)),n},n.e3t=function(t,n){t.tr(n),this.$1t.wo(new f0(t))},n.i3t=function(t){if(Ao(this.l$t,t)){for(var n=0,i=t.qc.slice();n<i.length;n++){var r=i[n];this.b2t(r)}_o(this.l$t,t),this.$1t.wo(new KM(t))}},n.s3t=function(){for(var t=0,n=this.l$t.slice();t<n.length;t++){var i=n[t];this.i3t(i)}},n.n3t=function(t){this.$1t.wo(new q$(QJ.GENERAL,t.message))},n.r3t=function(t,n){var i=new sl(null!=n?n:el.AD_ERROR,t.message,t);this.d2t.MH(i)},n.c3t=function(t){return go(this.l$t,(function(n){return n.YBt===t}))},n.h3t=function(t){var n;return null!=(n=this.c3t(t.timeOffset))?n:this.t3t(t)},n.u3t=function(t,n){_o(this.o3t,t);var i=t.td;0!==this.o3t.length||this.c$t!==i||n||(i.p2t(),this.a3t(void 0))},n.a3t=function(t){this.c$t!==t&&(void 0!==this.c$t&&this.$1t.wo(new rB(this.c$t)),this.c$t=t,void 0!==t&&this.$1t.wo(new uB(t)))},n.Q2t=function(t){var n=go(this.Uc,(function(n){return n.Yst()===t}));if(void 0===n)throw new y('Invalid ad for integration "'+this.tQt+'"');return n},n.K2t=function(t){var n=go(this.l$t,(function(n){return n.Yst()===t}));if(void 0===n)throw new y('Invalid ad break for integration "'+this.tQt+'"');return n},n.xa=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return jo(n),(null==(r=i.U6)?void 0:r.setSource)?[4,ut.resolve(i.U6.setSource(t))]:[3,2];case 1:return nE(e=u.sent())&&(e=t),[2,gE(e,i.d2t.bd)];case 2:return[2,t];case 3:return[2]}}))}))()},n.l3t=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(null==(n=t.U6)?void 0:n.resetSource)?[4,ut.resolve(t.U6.resetSource())]:[3,2];case 1:return i.sent(),[3,3];case 2:t.s3t(),i.label=3;case 3:return[2]}}))}))()},n.gn=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return(null==(n=t.U6)?void 0:n.destroy)?[4,ut.resolve(t.U6.destroy()).catch(Ti)]:[3,2];case 1:i.sent(),i.label=2;case 2:return t.s3t(),t.a3t(void 0),t.U6=void 0,t.$1t.gn(),[2]}}))}))()},xt(t,[{key:"qc",get:function(){return this.Uc}},{key:"WJt",get:function(){return this.l$t}},{key:"ka",get:function(){var t;return null!=(t=this.su)?t:this.su=function(t){return{get integration(){return t.tQt},get ads(){return t.qc.map((function(t){return t.Yst()}))},get adBreaks(){return t.WJt.map((function(t){return t.Yst()}))},createAd:function(n,i){return t.Y2t(n,i?t.K2t(i):void 0).Yst()},updateAd:function(n,i){t.j2t(t.Q2t(n),i)},updateAdProgress:function(n,i){var r=cr(Number(i),0,1);t.J2t(t.Q2t(n),r)},beginAd:function(n){t.k2t(t.Q2t(n))},endAd:function(n){t.$2t(t.Q2t(n))},skipAd:function(n){t.BQt(t.Q2t(n))},removeAd:function(n){t.b2t(t.Q2t(n))},createAdBreak:function(n){return t.t3t(n).Yst()},updateAdBreak:function(n,i){t.e3t(t.K2t(n),i)},removeAdBreak:function(n){t.i3t(t.K2t(n))},removeAllAds:function(){t.s3t()},error:function(n){t.n3t(n)},fatalError:function(n,i){var r=i?Number(i):void 0;t.r3t(n,r)}}}(this)}},{key:"PN",get:function(){return this.U6},set:function(t){this.U6=t}},{key:"u2t",get:function(){return this.o3t.some((function(t){return t.C2t===n0.Ejt}))}},{key:"K1t",get:function(){return this.tQt}},{key:"qst",get:function(){return this.o3t}},{key:"Kst",get:function(){var t;return null!=(t=this.c$t)?t:null}},{key:"jst",get:function(){return Io(this.l$t,(function(t){return t.jst}))}},{key:"Qst",get:function(){return this.l$t.filter((function(t){return!t.JR}))}}]),t}();U(),St(),Dt();var k0=function(){function t(t){var n=this;this.P9=void 0,this.d3t=!1,this.jd=function(t){1!==n.ea.KR&&(n.P9=n.ea.KR,n.ea.KR=1),n.d3t=!0},this.Td=function(t){n.d3t=!1,void 0!==n.P9&&(n.ea.KR=n.P9,n.P9=void 0)},this.ea=t,this.addAdListeners()}var n=t.prototype;return n.destroy=function(){this.removeAdListeners()},n.addAdListeners=function(){var t,n;null==(t=this.ea.qc)||t.yn("ont",this.jd),null==(n=this.ea.qc)||n.yn("rnt",this.Td)},n.removeAdListeners=function(){var t,n;null==(t=this.ea.qc)||t.fn("ont",this.jd),null==(n=this.ea.qc)||n.fn("rnt",this.Td)},xt(t,[{key:"player",get:function(){return this.ea},set:function(t){this.ea&&this.removeAdListeners(),this.ea=t,this.addAdListeners()}},{key:"inAdBreak",get:function(){return this.d3t}}]),t}(),A0=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).p3t=[],r.zG=void 0,r.AZ=void 0,r.w3t=1,r.I1t=n,r.f3t=new Q$(r),r.f3t.o2t.H1t(i,n,r,n.bd),r}Rt(n,t);var i=n.prototype;return i.xst=function(){return this.f3t},i.SI=function(){this.I1t.SI(),this.f3t.SI()},i.kI=function(){void 0===this.zG?(void 0!==this.m3t&&this.g3t(this.m3t),t.prototype.kI.call(this)):this.wo(new Ek(this.zG))},i.xa=function(n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:if(jo(i),!(e=n))return[3,4];u=0,s=r.p3t,f.label=1;case 1:return u<s.length?[4,s[u].xa(e,i)]:[3,4];case 2:e=f.sent(),f.label=3;case 3:return u++,[3,1];case 4:return[4,t.prototype.xa.call(r,e,i)];case 5:if(f.sent(),jo(i),null==e?void 0:e.ads)for(o=Boolean(e.blockContentIfAdError),r.f3t.f2t(e.playAdsAfterTime),a=0,c=e.ads;a<c.length;a++)h=c[a],r.f3t.u6(h,XM.zst,o);return[2]}}))}))()},i.EI=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return n.zG=void 0,n.AZ=void 0,[4,n.f3t.er()];case 1:return e.sent(),n.w1t(),[4,t.prototype.EI.call(n)];case 2:e.sent(),i=0,r=n.p3t,e.label=3;case 3:return i<r.length?[4,r[i].l3t()]:[3,6];case 4:e.sent(),e.label=5;case 5:return i++,[3,3];case 6:return[2]}}))}))()},i.g3t=function(t){this.w3t=this.ea.KR;var n=this.ea.vI,i=this.ea.GR;t.gI(n),t.ZR(i),this.v3t=t,this.m3t=void 0,this.lO(t)},i.l2t=function(t){void 0===this.v3t&&(this.m3t=t)},i.w1t=function(){this.m3t=void 0,void 0!==this.v3t&&(this.I1t.KR=this.w3t,this.I1t.vI=this.vI,this.I1t.GR=this.GR,this.lO(this.I1t),this.v3t=void 0)},i.PR=function(){var n;return null!=(n=this.AZ)?n:t.prototype.PR.call(this)},i.NR=function(){var n;return null!=(n=this.zG)?n:t.prototype.NR.call(this)},i.MH=function(t){void 0===this.NR()&&(this.zG=t,this.AZ=am(t),this.wo(new Ek(t)))},i.MI=function(t){return void 0===this.v3t&&this.f3t.i2t(t)},i.Jst=function(t,n){try{var i=new b0(t,this);i.PN=n(i.ka),this.f3t.tnt(i),this.p3t.push(i),t!==ES.UPLYNK&&(this.y3t=new k0(this))}catch(n){this.f3t.wo(new q$(QJ.GENERAL,'Error while constructing ad integration "'+t+'": '+n+'"'))}},i.QR=function(n){var i;(null==(i=this.y3t)?void 0:i.inAdBreak)||t.prototype.QR.call(this,n)},i.gn=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:r=0,e=n.p3t,u.label=1;case 1:return r<e.length?[4,e[r].gn().catch(Ti)]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[4,n.f3t.gn()];case 5:return u.sent(),n.w1t(),null==(i=n.y3t)||i.destroy(),n.y3t=void 0,[4,t.prototype.gn.call(n)];case 6:return u.sent(),[2]}}))}))()},xt(n,[{key:"_3t",get:function(){return this.v3t}}]),n}(j$);Qk((function(t){return new A0(t,IS.Fg)}),zk.Mst),U(),St(),Dt(),U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt();var T0=0!==Gn.rg?Gn.rg:Gn.im,S0=Gn.iu&&T0<12,E0=function(t){function n(n,i){var r;return(r=t.call(this,n,!0)||this).d2t=i,r.k3t=!1,r.cO=new nm,r.aO=new nm,r.Ll=new Qp,r.uO=new cA,r.b3t=new VI,r.sa=new sS,r.JG=new Fk,r.E3t=function(){r.ea.ge()},r.x3t=function(){r.R3t()},r.ea.yn(fa.Ty,r.Ds),r}Rt(n,t);var i=n.prototype;return i.mst=function(){return this.ea.mst()},i.pR=function(){return MA.mB().ks()},i.yR=function(){},i.bR=function(t){},i.jR=function(){return 1},i.QR=function(t){},i.$R=function(){return new MA([0,this.SR]).ks()},i.aI=function(){return!1},i.uI=function(){return this.Ll},i.dI=function(){return this.cO},i.cs=function(){return this.bI().cs},i.bI=function(){return this.sa},i.Ma=function(){},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.$o(),t.aO.gn(),t.cO.gn(),t.Ll.gn(),t.b3t.gn(),t.ea.fn(fa.Ty,t.Ds),[2]}))}))()},i.A3t=function(){S0&&this.S3t(),this.u2t||this.d2t.g3t(this)},i.w1t=function(){this.u2t&&(S0&&this.T3t(),Gn.Ig&&this.we.querySelectorAll("video[src]").forEach((function(t){t.src=""})),qn.Ys.ap&&this.ea.DI(),this.d2t.w1t())},i.S3t=function(){this.k3t||(f.addEventListener("blur",this.E3t),f.addEventListener("focus",this.x3t),this.k3t=!0)},i.T3t=function(){f.removeEventListener("blur",this.E3t),f.removeEventListener("focus",this.x3t),this.k3t=!1},i.R3t=function(){var t=this;requestAnimationFrame((function(){return t.ea.be()}))},xt(n,[{key:"SR",get:function(){return this.kR()},set:function(t){this.ER(t)}},{key:"ct",get:function(){return this.Sd()}},{key:"MR",get:function(){return this.uO}},{key:"rI",get:function(){return this.oI()}},{key:"pI",get:function(){return this.JG}},{key:"$1t",get:function(){return this.b3t}},{key:"ht",get:function(){return this.aO}},{key:"u2t",get:function(){return this.d2t._3t===this}}]),n}(Hk);U(),St(),Gt(),Dt(),Jt(),U(),St(),Dt();var I0=0,R0="theoplayer-wrapper",C0=function(){function t(n,i,r,e){this.C3t=i,this.ea=r,this.L3t=e,this.H3t=NaN,this.z3t=!1,this.Y3t=!1,this.W3t=!1,this.Q3t=[],this.ast=!1,this.uZ=!1,this.D3t=[],this.xC=++I0,this.t4t=n.timeOffset,this.G3t=t.m4t(this.t4t),this.Z3t(),this.D3t.push(n)}var n=t.prototype;return n.B3t=function(t){var n=this.O3t===t.timeOffset;return!this.F3t&&n},n.Z3t=function(){if(E(this.H3t)){var t=this.O3t;if(void 0===t)return void(this.H3t=0);if("string"==typeof t&&AQ(t)){var n=this.ea.Sd();E(n)||n===1/0||(t=cJ(t)*n)}E(t)||(this.H3t=t)}},n.J3t=function(t){this.Q3t.push(t)},n.$3t=function(){if(!this.F3t){var t,n,i=this.C3t===XM.zst&&void 0===this.t4t&&1===this.D3t.length,r=this.D3t[0];if(!i&&1===this.D3t.length){var e=qn.Nh(r.sources.src).searchParams.get("output");e&&e.toLowerCase().indexOf("vmap")>-1&&(i=!0,void 0!==this.t4t&&Jr("Do not set a timeOffset for VMAP ad sources. VMAP ads have their own offsets included."))}if(yQ(r.sources.type)||i)t=r.sources.src;else{if(E(this.ea.Sd())&&"end"===this.e4t())return;n=this.i4t()}var u=this.ea.Sd();(E(u)||u===1/0)&&(u=-3),this.F3t={s4t:this.ea.we.offsetWidth,n4t:this.ea.we.offsetHeight,r4t:this.ea.we.offsetWidth,o4t:this.ea.we.offsetHeight,h4t:this.ast,a4t:this.uZ,u4t:t,c4t:n,l4t:r.omidAccessModeRules,d4t:u}}return this.F3t},n.i4t=function(){var t=this;return'<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">'+this.D3t.map((function(n,i){return t.f4t(n.sources,i)})).join("\n")+"</vmap:VMAP>"},n.f4t=function(t,n){var i=this.e4t(),r=t.src;return'<vmap:AdBreak timeOffset="'+i+'" breakType="linear,nonlinear" breakId="theoplayer-break-'+this.xC+"-"+n+'"><vmap:AdSource allowMultipleAds="true" followRedirects="true"><vmap:VASTAdData><VAST version="3.0"><Ad id="'+R0+"-"+this.xC+"-"+n+'"><Wrapper allowMultipleAds="true" followAdditionalWrappers="true"><VASTAdTagURI><![CDATA['+r+"]]></VASTAdTagURI></Wrapper></Ad></VAST></vmap:VASTAdData></vmap:AdSource></vmap:AdBreak>"},n.e4t=function(){if(0===this.O3t)return"start";if(this.O3t===1/0)return"end";var t=this.O3t;if("string"==typeof t&&AQ(t)){var n=cJ(t)*this.ea.Sd();return aQ.Qjt(n)}return aQ.Qjt(this.O3t||0)},n._4t=function(t){this.D3t.push(t)},n.v4t=function(t){for(var n=R0+"-"+this.xC+"-",i=0;i<t.length;i++){var r=t[i];if(Zs(r,n)){var e=Number(r.slice(n.length));if(!E(e)&&e>=0&&e<this.D3t.length)return e}}return-1},n.g4t=function(){this.W3t=!0},t.m4t=function(t){if(void 0!==t)return-1===t?1/0:t},xt(t,[{key:"I3t",get:function(){return this.C3t}},{key:"P3t",get:function(){return this.D3t}},{key:"N3t",get:function(){return 1===this.D3t.length&&yQ(this.D3t[0].sources.type)}},{key:"M3t",get:function(){return this.L3t}},{key:"V3t",get:function(){return this.W3t}},{key:"U3t",get:function(){return AQ(this.G3t)&&!this.F3t}},{key:"O3t",get:function(){return this.G3t}},{key:"rd",get:function(){return this.H3t}},{key:"X3t",get:function(){return this.z3t},set:function(t){this.z3t=t}},{key:"q3t",get:function(){return this.Y3t},set:function(t){this.Y3t=t,this.K3t=!1}},{key:"j3t",get:function(){return this.Q3t}},{key:"bO",get:function(){return this.ast},set:function(t){this.ast=t}},{key:"GR",get:function(){return this.uZ},set:function(t){this.uZ=t}}]),t}();U(),St(),Dt();var N0=function(){function t(t){this.x4t=!1,this.w4t=t,this.b4t=void 0}var n=t.prototype;return n.f2t=function(t){this.b4t=t},n.A4t=function(t){return!(this.p4t&&!this.p4t.V3t&&"nonlinear"!==this.y4t.C2t)||this.p4t.rd>t.rd&&this.p4t.rd!==t.rd},n.S4t=function(t){if(t.length)return t.sort((function(t,n){return t.rd-n.rd}))[0]},n.T4t=function(){if(this.jst.length)return this.S4t(this.k4t(this.t.kR()))},n.E4t=function(){var t=this;if(!(void 0!==this.b4t&&this.b4t>=0))return this.jst.filter((function(n){return!n.X3t&&0===n.rd&&n!==t.p4t}))[0]},n.k4t=function(t){var n=this;if(!this.x4t&&(this.x4t=!this.jst.some((function(t){return E(t.rd)})),!this.x4t))return[];var i=this.jst.filter((function(n){return!n.X3t&&(n.N3t||!E(n.rd)&&t<=n.rd)}));return void 0===this.b4t?i:i.filter((function(t){return t.N3t||void 0===t.O3t||t.rd>n.b4t}))},xt(t,[{key:"p4t",get:function(){return this.w4t.p4t}},{key:"y4t",get:function(){return this.w4t.y4t}},{key:"jst",get:function(){return this.w4t.jst}},{key:"t",get:function(){return this.w4t.t}}]),t}(),x0=function(t){return t[t.R4t=0]="R4t",t[t.I4t=1]="I4t",t[t.C4t=2]="C4t",t}({}),D0=function(){function t(t,n,i,r,e){var u=this;this.V4t=0,this.cpt=void 0,this.t5t=!1,this.XX=function(){for(var t=u.S2t.filter((function(t){return t.U3t})),n=0;n<t.length;n++){var i=t[n];i.Z3t();var r=i.O3t;u.B4t.s5t(r,i.rd)}u.po&&u.e5t&&u.D4t()},this.S2t=[],this.F4t=t,this.po=!1,this.P4t=!1,this.ea=n,this.d2t=i,this.p4t=void 0,this.z4t=0,this.J4t=new N0(this),this.cst=r,this.B4t=e,this.ea.yn(fa.xy,this.XX)}var n=t.prototype;return n.SI=function(){this.po=!0,this.P4t&&this.D4t()},n.N4t=function(t,n){this.M4t(t,n);var i=go(this.jst,(function(n){return n.B3t(t)}));if(i)i._4t(t);else{var r,e=new C0(t,n,this.ea,null==(r=t.replaceContent)||r);this.S2t.push(e),2===this.L4t&&this.B4t.t3t(e.rd,e,e.O3t),this.O4t(n,e)}},n.W4t=function(){if(_o(this.jst,this.p4t),this.p4t){for(var t=0,n=this.p4t.j3t;t<n.length;t++){n[t];this.B4t.U4t()}this.p4t=void 0}},n.G4t=function(){for(var t=0,n=this.S2t;t<n.length;t++)for(var i=0,r=n[t].j3t;i<r.length;i++){var e=r[i];this.B4t.H4t(e,!0)}So(this.S2t)},n.Z4t=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.W4t(),n.X4t=!0,n.p4t=t,n.z4t=t.rd,n.cpt=n.q4t(t),[4,n.cpt];case 1:return i.sent(),n.cpt=void 0,[2]}}))}))()},n.q4t=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(n.Y4t(t),!(i=t.$3t()))return n.X4t=!1,n.p4t=void 0,[2];r=n.F4t.K4t(i),t.X3t=!0,e.label=1;case 1:return e.trys.push([1,3,,5]),[4,r];case 2:return e.sent(),t.I3t===XM.Xst&&n.F4t.j4t(),[3,5];case 3:return e.sent(),n.p4t=void 0,[4,n.D4t()];case 4:return e.sent(),[3,5];case 5:return[2]}}))}))()},n.Y4t=function(t){this.po?t.bO=!0:t.bO=this.d2t.bO,t.GR=this.d2t.GR},n.Q4t=function(){var t;return null!=(t=this.J4t.E4t())?t:this.J4t.T4t()},n.D4t=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.p4t&&!t.p4t.V3t?[2,t.cpt]:(n=t.Q4t())?[4,t.Z4t(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},n.er=function(){this.W4t(),So(this.S2t),this.z4t=0,this.p4t=void 0,this.cpt=void 0,this.X4t=!1},n.q3t=function(){this.X4t=!1,this.p4t&&(this.p4t.q3t=!0)},n.O4t=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return t===XM.Xst&&i.po&&i.J4t.A4t(n)?i.BZt||"linear"===i.F4t.C2t||!(!i.p4t||i.p4t&&i.p4t.X3t)?[3,3]:[4,ut.resolve()]:[3,3];case 1:return r.sent(),[4,i.Z4t(n)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))()},n.g4t=function(){this.p4t&&this.p4t.g4t()},n.i5t=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.e5t?(n=t.Q4t())?[4,t.Z4t(n)]:[3,2]:[2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))()},n.M4t=function(t,n){var i=t.sources.type,r=n===XM.zst&&void 0===t.timeOffset,e=yQ(i)||r?1:2;e!==this.V4t&&(this.V4t=e,this.G4t(),this.F4t.FJt&&!this.BZt&&"linear"!==this.F4t.C2t&&(this.F4t.FJt.Hw(),this.p4t=void 0,this.cpt=void 0),this.z4t=0,this.P4t=!0)},n.f2t=function(t){this.J4t.f2t(t)},n.gn=function(){this.ea.fn(fa.xy,this.XX)},xt(t,[{key:"y4t",get:function(){return this.F4t}},{key:"jst",get:function(){return this.S2t}},{key:"t",get:function(){return this.ea}},{key:"BZt",get:function(){return Boolean(this.cpt)}},{key:"L4t",get:function(){return this.V4t}},{key:"p4t",get:function(){return this.$4t},set:function(t){this.$4t=t}},{key:"X4t",get:function(){return this.t5t},set:function(t){this.t5t=t}},{key:"e5t",get:function(){var t=this;return!this.BZt&&!this.X4t&&(!(this.p4t&&!this.p4t.V3t)&&(!!this.S2t.filter((function(n){return t.p4t!==n})).length&&Boolean(this.Q4t())))}}]),t}();U(),St(),Gt(),Ct(),Jt(),U(),St();var P0=function(t){return t.n5t="contentResumeRequested",t.r5t="contentPauseRequested",t.o5t="click",t.xy="durationChange",t.h5t="expandedChanged",t.a5t="start",t.u5t="impression",t.CZ="pause",t.c5t="resume",t.l5t="adProgress",t.d5t="adBuffering",t.f5t="firstQuartile",t.OKt="midpoint",t._5t="thirdQuartile",t.FKt="complete",t.v5t="userClose",t.m5t="linearChanged",t.g5t="loaded",t.p5t="adCanPlay",t.w5t="adMetadata",t.y5t="adBreakReady",t.b5t="interaction",t.A5t="allAdsCompleted",t.S5t="skip",t.T5t="skippableStateChanged",t.k5t="log",t.E5t="viewableImpression",t.x5t="volumeChange",t.R5t="mute",t}({});U(),St();var M0=function(t){return t.I5t="adError",t}({});U(),St();var B0=function(t){return t[t.C5t=-1]="C5t",t[t.P5t=-1]="P5t",t[t.D5t=-1]="D5t",t[t.N5t=101]="N5t",t[t.M5t=102]="M5t",t[t.L5t=200]="L5t",t[t.B5t=201]="B5t",t[t.O5t=202]="O5t",t[t.F5t=300]="F5t",t[t.V5t=301]="V5t",t[t.W5t=302]="W5t",t[t.U5t=303]="U5t",t[t.G5t=400]="G5t",t[t.H5t=402]="H5t",t[t.Z5t=403]="Z5t",t[t.X5t=405]="X5t",t[t.z5t=500]="z5t",t[t.q5t=501]="q5t",t[t.Y5t=-1]="Y5t",t[t.K5t=503]="K5t",t[t.j5t=602]="j5t",t[t.Q5t=900]="Q5t",t[t.J5t=901]="J5t",t[t.$5t=1005]="$5t",t[t.t6t=1007]="t6t",t[t.e6t=1009]="e6t",t[t.i6t=1010]="i6t",t[t.s6t=1011]="s6t",t[t.n6t=1012]="n6t",t[t.r6t=1013]="r6t",t[t.o6t=1020]="o6t",t[t.h6t=1021]="h6t",t[t.a6t=1101]="a6t",t[t.u6t=1204]="u6t",t[t.c6t=1205]="c6t",t[t.l6t=1300]="l6t",t[t.d6t=-1]="d6t",t[t.f6t=-1]="f6t",t[t._6t=-1]="_6t",t[t.v6t=-1]="v6t",t}({}),O0=function(t){return t.m6t="adLoadError",t.g6t="adPlayError",t}({});function L0(t,n){if(t===P0.l5t){var i=n;return{p6t:i.adBreakDuration,w6t:i.adPosition,SR:i.currentTime,ct:i.duration,y6t:i.totalAds}}return n}function F0(t){switch(t){case google.ima.AdError.Type.AD_LOAD:return O0.m6t;case google.ima.AdError.Type.AD_PLAY:return O0.g6t}}function V0(t){return $n(t)&&si(t.getVastErrorCode)}function U0(t){var n=t.getInnerError(),i=n&&V0(n)?U0(n):void 0;return{gb:t.getMessage(),vjt:t.getErrorCode(),b6t:t.getVastErrorCode(),Aw:F0(t.getType()),A6t:i}}function W0(t){if(Yn(t))return t}U(),St(),on(),U(),St();var j0=function(t){function n(n,i,r){var e,u;return e=t.call(this)||this,u=e,e.F4t=n,e.ea=i,e.V6t=r,e.y9t=!1,e.m9t=void 0,e.g9t=void 0,e.K6t=0,e.$6t=function(t){if(t.snt&&t.snt.n9t){var n=t.snt.n9t;e.V6t.e3t(n.YBt,n.y6t,n.BJt)}},e.t9t=function(t){var n,i,r;if(!(e.K6t>=5)){e.K6t++;var u=t.U6t;if(function(t){return $n(t)&&void 0!==t.p6t&&void 0!==t.y6t}(u)){var s=null==(r=e.VJt)||null==(i=r.e9t())||null==(n=i.n9t)?void 0:n.YBt;void 0!==s&&e.V6t.e3t(s,u.y6t,u.p6t)}}},e.k6t=Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:return t.U6t.b9t?[4,u.X6t(t.U6t.b9t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))})),e.R6t=Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return u.y9t=!0,u.F4t.g4t(),[4,u.x6t()];case 1:return t.sent(),[2]}}))})),e.I6t=function(t){if(t.snt){0;var n=t.snt;e.F4t.a9t(n),e.F4t.ge(),e.F4t.A9t(),e.F4t.S9t=!0,e.V6t.T9t(n);var i=n.ct;if(e.W6t(i),n.j6t){var r=e.F4t.SR,u=e.F4t.sI;e.F4t.C4(Cy.eO),e.S6t(new xy(r,u)),e.S6t(new Py(r,u)),e.S6t(new My(r,u)),e.F4t.qR||e.S6t(new By(e.F4t.SR)),e.setCountdownTimer(),e.B6t(!0)}else e.F4t.w1t(),e.ea.ge(),e.F4t.qR||e.ea.kI()}},e.C6t=function(t){var n;if(t.snt){0;var i=t.snt;if(e.Up(),e.V6t.h9t(e.F4t.ct,i.j6t),e.F4t.sI!==Cy.$B){var r=Cy.$B;e.F4t.C4(r);var u=e.F4t.SR;e.S6t(new wT(u,r))}e.W6t(NaN),e.F4t.S9t=!1,null==(n=e.VJt)||n.gI(e.F4t.Q6t())}},e.P6t=function(t){t.snt&&(e.C6t(t),e.V6t.P6t(t.snt,e.F4t.SR,e.F4t.ct))},e.D6t=function(t){t.snt&&(e.V6t.h9t(-1,t.snt.j6t),e.F4t.g4t(),!t.snt.j6t&&e.F4t.e5t()&&e.F4t.i5t())},e.N6t=function(t){t.snt&&(t.snt.j6t?e.F4t.TI():e.ea.TI())},e.M6t=function(){var t;(e.F4t.S9t=!0,e.F4t.k9t)&&(null==(t=e.VJt)||t.TI(),e.F4t.k9t=!1)},e.E6t=function(t){var n;if(t.snt){0,e.F4t.v9t&&(e.g9t=e.ea.kR(),e.ea.CI(),e.ea.yI=!0),e.F4t.E9t=!0;var i=t.snt;e.V6t.jd(i);var r=i.ct;e.F4t.a9t(i),e.W6t(r),e.F4t.L6t(!1),e.F4t.ge(),e.F4t.A3t(),e.F4t.v9t||e.ea.be(),e.ea.TI(),e.F4t.x9t(i),0===(null==(n=i.n9t)?void 0:n.YBt)||e.F4t.wo(new Dy(e.F4t.SR))}},e.x6t=Zt((function(t){var n,i,r,e,s;return Ht(this,(function(o){switch(o.label){case 0:return n=null==t?void 0:t.snt,u.F4t.E9t=!1,"linear"===u.F4t.C2t&&u.V6t.Td(),n&&n.ct>=0&&u.W6t(n.ct),u.ea.Sd()===1/0&&u.F4t.R9t(),u.F4t.S9t=!1,u.y9t?[4,u.o9t()]:[3,2];case 1:o.sent(),o.label=2;case 2:u.F4t.L6t(!0),o.label=3;case 3:return o.trys.push([3,5,,6]),[4,u._9t()];case 4:return o.sent(),[3,6];case 5:return Wo(i=o.sent())||u.wo(new nq(i)),[2];case 6:return u.F4t.w1t(),u.F4t.be(),u.ea.RR||u.ea.kI(),n&&u.F4t.a9t(n),u.F4t.l9t&&(u.F4t.v9t&&(e=u.ea.AI(),s=null==(r=u.ea.bt)?void 0:r.src,e&&s&&(e.src=s)),u.F4t.d9t=!0),u.ea.yI=!1,u.F4t.e5t()?[4,u.F4t.i5t()]:[3,8];case 7:o.sent(),o.label=8;case 8:return[2]}}))})),e}Rt(n,t);var i=n.prototype;return i.S6t=function(t){this.F4t.wo(t)},i.T6t=function(t){var n=this;this.VJt=t,this.VJt.yn(M0.I5t,this.k6t),this.VJt.yn(P0.r5t,this.E6t),this.VJt.yn(P0.n5t,this.x6t),this.VJt.yn(P0.A5t,this.R6t),this.VJt.yn(P0.a5t,this.I6t),this.VJt.yn(P0.FKt,this.C6t),this.VJt.yn(P0.S5t,this.P6t),this.VJt.yn(P0.v5t,this.D6t),this.VJt.yn(P0.o5t,this.N6t),this.VJt.yn(P0.p5t,this.M6t),this.VJt.yn(P0.CZ,(function(){n.F4t.qR||(n.F4t.L6t(!0),n.F4t.wo(new pT(n.F4t.SR))),n.B6t(!0)})),this.VJt.yn(P0.c5t,(function(){n.F4t.qR&&(n.F4t.L6t(!1),n.F4t.wo(new yT(n.F4t.SR)))})),this.VJt.yn(P0.R5t,(function(){var i=t.mI();i>=0&&n.O6t(i)})),this.VJt.yn(P0.x5t,(function(){var i=t.mI();i>=0&&n.O6t(i)})),this.VJt.yn(P0.w5t,(function(t){n.V6t.F6t(t.type)})),this.VJt.yn(P0.xy,(function(t){t.snt&&n.W6t(t.snt.ct)}));var i=this;this.VJt.yn(P0.k5t,Zt((function(t){var n,r;return Ht(this,(function(e){switch(e.label){case 0:return n=t.U6t.adError,(r=V0(n)?U0(n):void 0)?i.G6t(r)?[4,i.H6t(t)]:[3,2]:[2];case 1:return e.sent(),[3,5];case 2:return i.Z6t(r)?[4,i.X6t(r)]:[3,4];case 3:return e.sent(),[3,5];case 4:i.z6t(r)&&i.q6t(r),e.label=5;case 5:return[2]}}))}))),this.VJt.yn(P0.g5t,(function(t){if(t.snt&&(n.F4t.q3t(),n.V6t.Y6t(t.snt),n.K6t=0,t.snt.j6t)){var i,r=n.F4t.sI,e=Cy.$B;n.F4t.C4(e);var u=n.F4t.SR,s=n.F4t.sI;s!==r&&n.S6t(new wT(u,s)),null==(i=n.VJt)||i.gI(n.F4t.Q6t()),n.S6t(new Ny(u,e))}})),this.VJt.yn([P0.d5t,P0.u5t,P0.f5t,P0.OKt,P0._5t],(function(t){t.snt&&n.V6t.J6t(t.snt,t.type,n.F4t.SR)})),this.VJt.yn(P0.f5t,this.$6t),this.VJt.yn(P0.l5t,this.t9t)},i.switchToPlayerIfNoNextAd=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return t.VJt?(n=t.VJt.e9t())&&t.i9t(n)?[3,3]:t.F4t.e5t()?[4,t.F4t.i5t()]:[3,2]:[3,4];case 1:return r.sent(),[3,3];case 2:t.F4t.s9t(),t.ea.qR&&!t.ea.RR&&t.ea.kI(),r.label=3;case 3:return[3,7];case 4:return t.F4t.e5t()?[4,t.F4t.i5t()]:[3,6];case 5:return r.sent(),[3,7];case 6:i=t.F4t.qR,t.F4t.s9t(),i||t.ea.kI(),r.label=7;case 7:return[2]}}))}))()},i.i9t=function(t){var n=t.n9t,i=null==n?void 0:n.y6t;return(null==n?void 0:n.w6t)!==i},i.Up=function(){this.F4t.Ec&&(p(this.F4t.Ec),this.F4t.Ec=null)},i.z6t=function(t){return t.Aw===O0.m6t},i.Z6t=function(t){return t.Aw===O0.g6t},i.G6t=function(t){return t.vjt===B0.e6t},i.X6t=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return n.q6t(t),r=[B0.G5t,B0.J5t,B0.h6t,B0.c6t],n.F4t.fnt||Ao(r,t.vjt)||Ao(r,null==(i=t.A6t)?void 0:i.vjt)?[3,2]:(n.F4t.r9t.X4t=!1,null==(e=n.F4t.r9t.p4t)||e.g4t(),[4,n.switchToPlayerIfNoNextAd()]);case 1:u.sent(),u.label=2;case 2:return[2]}}))}))()},i.q6t=function(t){this.F4t.n3t(t)},i.o9t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.V6t.U4t(),t.F4t.g4t(),"nonlinear"===t.F4t.C2t&&(t.V6t.h9t(-1,!1),t.F4t.a9t(void 0)),"nonlinear"!==t.F4t.C2t&&"none"!==t.F4t.C2t?[3,2]:t.F4t.e5t()?[4,t.F4t.i5t()]:[3,2];case 1:n.sent(),n.label=2;case 2:return t.F4t.u9t(),t.F4t.u2t?t.F4t.w1t():t.c9t()&&t.ea.wo(new kT(t.ea.kR())),[2]}}))}))()},i.c9t=function(){return this.F4t.l9t&&!this.F4t.d9t&&this.ea.RR},i.setCountdownTimer=function(){var t=this;this.Up(),this.F4t.Ec=w((function(){return t.B6t()}),250)},i.H6t=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return void 0===t.snt?[2]:(n.F4t.r9t.X4t=!1,n.F4t.g4t(),n.F4t.e5t()?[4,n.F4t.i5t()]:[3,2]);case 1:return i.sent(),[3,3];case 2:n.F4t.L6t(!0),i.label=3;case 3:return[2]}}))}))()},i.W6t=function(t){this.F4t.ct!==t&&t>=0&&(this.F4t.n4(t),this.S6t(new _T(this.F4t.ct)))},i.O6t=function(t){this.F4t.Q6t()!==t&&(0===t?this.F4t.f9t(t,!0,!1):this.F4t.f9t(t,!1,!1))},i._9t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.F4t.v9t&&void 0!==t.ea.PR()?(t.m9t=new Jo,[4,Ho(t.ea.xa(t.ea.tu(),t.m9t.Vw),t.m9t)]):[3,2];case 1:n.sent(),t.g9t&&t.ea.ER(t.g9t),t.g9t=void 0,n.label=2;case 2:return[2]}}))}))()},i.B6t=function(t){if(this.VJt){var n=this.VJt.p9t();n>this.F4t.ct&&this.W6t(A.round(n))}var i=this.F4t.SR;(t||!this.F4t.qR&&i!==this.F4t.w9t)&&(this.F4t.wo(new pg(i,void 0)),this.F4t.w9t=i)},i.er=function(){this.m9t&&(this.m9t.Yw(),this.m9t=void 0),this.y9t=!1,this.K6t=0},i.gn=function(){this.er(),this.$o()},n}(oa);U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var Z0=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).I9t=i,e.C9t=r,e}return Rt(n,t),xt(n,[{key:"tQt",get:function(){return h$.r$t}}]),n}($$);U(),St(),Dt(),Ct(),U(),St(),U(),St(),Dt(),Ct();var X0=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).D9t=0,r.N9t=void 0,r}Rt(n,t);var i=n.prototype;return i.$Jt=function(){var t;return null==(t=this.N9t)?void 0:t.Uqt},i.ba=function(){return function(t,n){return Pg(t,{bitrate:0,contentType:void 0,mediaUrl:void 0,traffickingParameters:void 0,traffickingParametersString:void 0,universalAdIds:[],get description(){return n.ON},get apiFramework(){return n.M9t},get creativeId(){return n.dYt},get title(){return n.nH},get wrapperAdIds(){return n.L9t},get wrapperAdSystems(){return n.B9t},get wrapperCreativeIds(){return n.O9t}})}(e0(this),this)},i.F9t=function(t){this.N9t=t;var n=G0(t);this.x2t(t.oKt,t.V9t,t.W9t,t.ct,n,-1)},xt(n,[{key:"P9t",get:function(){return this.D9t},set:function(t){this.D9t=t}},{key:"tQt",get:function(){return h$.Yh}},{key:"M9t",get:function(){var t;return null==(t=this.N9t)?void 0:t.PYt}},{key:"dYt",get:function(){var t;return null==(t=this.N9t)?void 0:t.dYt}},{key:"ON",get:function(){var t;return null==(t=this.N9t)?void 0:t.ON}},{key:"nH",get:function(){var t;return null==(t=this.N9t)?void 0:t.nH}},{key:"L9t",get:function(){var t,n;return null!=(n=null==(t=this.N9t)?void 0:t.L9t)?n:[]}},{key:"B9t",get:function(){var t,n;return null!=(n=null==(t=this.N9t)?void 0:t.B9t)?n:[]}},{key:"O9t",get:function(){var t,n;return null!=(n=null==(t=this.N9t)?void 0:t.O9t)?n:[]}}]),n}(r0);function G0(t){return t.jqt.map((function(t){return new u0(t)}))}var H0=function(t){function n(n){var i;return(i=t.call(this,n,n0.tE)||this).N9t=void 0,i.AKt=void 0,i}Rt(n,t);var i=n.prototype;return i.ba=function(){return function(t,n){return Pg(t,{get adSystem(){return n.$Jt()},get apiFramework(){return n.M9t},get bitrate(){return n.U9t},get contentType(){return n.Dk},get creativeId(){return n.dYt},get description(){return n.ON},get mediaUrl(){return n.bKt},get title(){return n.nH},get traffickingParameters(){return n.G9t},get traffickingParametersString(){return n.H9t},get wrapperAdIds(){return n.L9t},get wrapperAdSystems(){return n.B9t},get wrapperCreativeIds(){return n.O9t},get universalAdIds(){return n.Jqt}})}(e0(this),this)},i.F9t=function(t){this.N9t=t,this.x2t(t.oKt,t.V9t,t.W9t,t.ct,G0(t),t.Z9t),this.P2t=t.j6t?n0.Ejt:n0.E2t},i.$Jt=function(){return this.N9t?z0(this.N9t.Uqt):void 0},xt(n,[{key:"tQt",get:function(){return h$.r$t}},{key:"M9t",get:function(){return this.N9t?z0(this.N9t.PYt):void 0}},{key:"U9t",get:function(){return this.N9t?this.N9t.X9t:0}},{key:"Dk",get:function(){return this.N9t?z0(this.N9t.Dk):void 0}},{key:"dYt",get:function(){return this.N9t?z0(this.N9t.dYt):void 0}},{key:"z9t",get:function(){return this.N9t?z0(this.N9t.z9t):void 0}},{key:"ON",get:function(){var t;return null==(t=this.N9t)?void 0:t.ON}},{key:"bKt",get:function(){var t,n=null==(t=this.N9t)?void 0:t.bKt;return Yn(n)?n:this.AKt},set:function(t){this.AKt=t}},{key:"nH",get:function(){var t;return null==(t=this.N9t)?void 0:t.nH}},{key:"G9t",get:function(){return this.N9t?z0(this.N9t.G9t):void 0}},{key:"H9t",get:function(){return this.N9t?z0(this.N9t.H9t):void 0}},{key:"L9t",get:function(){var t,n;return null!=(n=null==(t=this.N9t)?void 0:t.L9t)?n:[]}},{key:"B9t",get:function(){var t,n;return null!=(n=null==(t=this.N9t)?void 0:t.B9t)?n:[]}},{key:"O9t",get:function(){var t,n;return null!=(n=null==(t=this.N9t)?void 0:t.O9t)?n:[]}},{key:"Jqt",get:function(){var t,n;return null!=(n=null==(t=this.N9t)?void 0:t.Jqt.map((function(t){return{adIdRegistry:t.q9t,adIdValue:t.Y9t}})))?n:[]}}]),n}(r0);function z0(t){return null===t?void 0:t}U(),St(),Dt(),U(),St(),Dt();var Y0=function(){function t(t,n){this.V6t=t,this.K9t=n}var n=t.prototype;return n.$st=function(t){this.V6t.$st(t)},n.DD=function(){this.V6t.DD()},n.gn=function(){return ut.resolve()},xt(t,[{key:"$1t",get:function(){return this.V6t.$1t}},{key:"K1t",get:function(){return this.K9t}},{key:"u2t",get:function(){return this.V6t.u2t}},{key:"Kst",get:function(){var t;return null!=(t=this.V6t.Kst)?t:null}},{key:"qst",get:function(){var t=this.V6t.j9t;return t?[t]:[]}},{key:"jst",get:function(){return this.V6t.jst}},{key:"Qst",get:function(){return this.V6t.Qst}}]),t}(),K0=function(){function t(t,n){this.b3t=t,this.l$t=[],this.$9t=!1,this.J9t=new Y0(this,n)}return xt(t,[{key:"Q9t",get:function(){return this.J9t}},{key:"$1t",get:function(){return this.b3t}},{key:"u2t",get:function(){return this.$9t}},{key:"j9t",get:function(){return this.t$t}},{key:"Kst",get:function(){return this.c$t}},{key:"jst",get:function(){var t=this;return Io(this.l$t,(function(n){if(n.JR)return[];var i=n.qc;if(n===t.c$t&&void 0!==t.t$t){var r=i.indexOf(t.t$t);if(r>=0)return i.slice(r+1)}return i}))}},{key:"Qst",get:function(){return this.l$t.filter((function(t){return!t.JR}))}}]),t}();U(),St(),Ct();var q0=function(t){function n(n){return t.call(this,"t8t",n)||this}return Rt(n,t),n.prototype.ba=function(){return new J0(this.snt.Yst())},n}($M),J0=function(t){function n(n){return t.call(this,"adimpression",n)||this}return Rt(n,t),n}(tB);U(),St(),Ct();var Q0=function(t){function n(n){var i;return(i=t.call(this,"e8t")||this).snt=n,i}return Rt(n,t),n.prototype.ba=function(){return new $0(this.snt.Yst())},n}(yg),$0=function(t){function n(n){var i;return(i=t.call(this,"adbuffering")||this).ad=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var t1=function(t){function n(){return t.call(this,"i8t")||this}return Rt(n,t),n.prototype.ba=function(){return new n1},n}(yg),n1=function(t){function n(){return t.call(this,"admetadata")||this}return Rt(n,t),n}(ha),i1=function(t){function n(n,i){var r;return(r=t.call(this,n,h$.r$t)||this).r8t=i,r.a8t=[],r.h8t=[],r}Rt(n,t);var i=n.prototype;return i.s8t=function(t,n){for(var i=0;i<t;i++){var r=new H0(n);n.y2t(r),this.$1t.wo(new nB(r))}},i.t3t=function(t,n,i){var r=t;r===1/0&&(r=-1);var e=new Z0(r,i,n);this.l$t.push(e),n.J3t(e),this.$1t.wo(new JM(e))},i.s5t=function(t,n){for(var i=0,r=this.l$t;i<r.length;i++){var e=r[i];E(e.YBt)&&e.I9t===t&&(e.YBt=n,this.$1t.wo(new f0(e)))}},i.H4t=function(t,n){void 0===n&&(n=!1),n&&_o(this.l$t,t),this.$1t.wo(new KM(t))},i.U4t=function(){if(this.Kst){this.H4t(this.Kst,!0);var t=Boolean(this.t$t&&this.t$t.C2t===n0.Ejt);this.n8t(void 0,t)}},i.j2t=function(t,n){var i=n.n9t;if(i){var r=i.w6t-1,e=t.qc[r];return e.F9t(n),this.$1t.wo(new f$(e)),e.td.BJt=i.BJt,e}},i.o8t=function(t){if(!Ao(this.h8t,t)){if(t){if(this.t$t===t)return;this.t$t=t;for(var n=0,i=this.a8t;n<i.length;n++){var r=i[n];0,this.F6t(r,t,this.r8t.SR)}}else{if(!this.t$t)return;var e=new cB(this.t$t,this.t$t.td.YBt);this.h8t.push(this.t$t),this.t$t=void 0,this.b3t.wo(e)}So(this.a8t)}},i.n8t=function(t,n){if(t){var i;if((null==(i=this.Kst)?void 0:i.YBt)===t.YBt)return;this.c$t=t,n&&this.$1t.wo(new uB(this.c$t))}else{if(!this.c$t)return;var r=new rB(this.c$t);this.c$t=void 0,So(this.h8t),n&&this.b3t.wo(r)}},i.u8t=function(t){return this.l$t.filter((function(n){return hr(n.YBt,t,.01)}))[0]},i.jd=function(t){if(t.n9t){var n=t.n9t,i=this.u8t(n.YBt);i&&(So(this.a8t),this.n8t(i,t.j6t))}},i.Td=function(){this.Kst&&this.$1t.wo(new rB(this.Kst)),So(this.a8t),this.U4t()},i.T9t=function(t){if(!this.c$t&&t.n9t){var i=this.u8t(t.n9t.YBt);this.n8t(i,t.j6t)}if(this.c$t){var r=n.c8t(this.c$t,t);if(!r)return;this.j2t(this.c$t,t);var e=t.bKt;Yn(e)&&!Yn(r.bKt)&&(r.bKt=e,this.$1t.wo(new f$(r))),this.o8t(r),this.$1t.wo(new oB(this.t$t,r.td.YBt))}else 0},i.h9t=function(t,n){if(this.o8t(void 0),!n&&this.Kst){var i=this.Kst;this.n8t(void 0,!1),this.H4t(i)}},i.Y6t=function(t){var n=t.n9t;if(n){var i=this.u8t(n.YBt);if(i){this.e3t(n.YBt,n.y6t,n.BJt);var r=this.j2t(i,t);r&&this.$1t.wo(new l$(r))}}},i.e3t=function(t,n,i){var r=this.u8t(t);if(r){var e=r.qc.length;if(n>e){var u=n-e;this.s8t(u,r),r.BJt=i,this.$1t.wo(new f0(r))}}},i.P6t=function(t,i,r){if(this.c$t){var e=n.c8t(this.c$t,t);if(e){var u=i/r;this.$1t.wo(new c0(e,u))}}},i.J6t=function(t,i,r){if(this.c$t){var e=this.t$t;if(!e){var u=n.c8t(this.c$t,t);if(!u||Ao(this.h8t,u))return void this.a8t.push(i);e=u,this.j2t(this.c$t,t),this.o8t(e)}this.F6t(i,e,r)}},i.F6t=function(t,n,i){t===P0.w5t?this.$1t.wo(new t1):t===P0.u5t&&n?this.$1t.wo(new q0(n)):t===P0.d5t&&n?this.$1t.wo(new Q0(n)):t===P0.f5t&&n&&i?this.$1t.wo(new g0(n,i)):t===P0.OKt&&n&&i?this.$1t.wo(new w0(n,i)):t===P0._5t&&n&&i&&this.$1t.wo(new y0(n,i))},i.DD=function(){this.r8t.DD()},i.$st=function(t){this.r8t.$st(t)},i.er=function(){var t=Boolean(this.t$t&&this.t$t.C2t===n0.Ejt);this.o8t(void 0),this.n8t(void 0,t);for(var n=0,i=this.l$t;n<i.length;n++){var r=i[n];this.H4t(r)}So(this.l$t),So(this.a8t),So(this.h8t)},i.gn=function(){this.er()},n.c8t=function(t,n){if(n.n9t)return t.qc[n.n9t.w6t-1]},xt(n,[{key:"u2t",get:function(){return this.r8t.u2t}}]),n}(K0);function r1(t){var n=f.google.ima.settings;t.ads&&t.ads.vpaidMode&&f.google.ima.settings.setVpaidMode(function(t){var n=f.google.ima.ImaSdkSettings.VpaidMode;switch(t){case zA.ENABLED:return n.ENABLED;case zA.INSECURE:return n.INSECURE;case zA.DISABLED:default:return n.DISABLED}}(t.ads.vpaidMode)),n.setPlayerVersion("9.2.0"),n.setPlayerType("THEOplayer"),n.setAutoPlayAdBreaks(!0),n.setDisableCustomPlaybackForIOS10Plus(!e1(t));var i=function(t){var n,i,r,e=null==(i=t.ads)||null==(n=i.googleIma)?void 0:n.language;if(void 0!==e)return e;var u=null==(r=t.ui)?void 0:r.language;if(ni(u))return u;return}(t);i&&n.setLocale(i)}function e1(t){return Gn.iu&&t.allowNativeFullscreen}U(),St();var u1=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).po=!1,a.c2t=!1,a.y8t=void 0,a.b8t=void 0,a.H8t=-1,a.P2t="none",a.A8t=!1,a.v8t=!1,a.k8t=new Jo,a.m8t=!1,a.p8t=!1,a.z8t=function(t){a.$1t.wo(t)},a.Z8t=function(t){a.y8t=new sm(um.ADVERTISEMENT_ERROR,"Error while recovering from failed IMA ad.",t.error.message),a.b8t=hm(a.y8t)},a.w9t=NaN,a.S8t=function(){a.po||a.SI()},a.kQ=r,a.cZ=!0,a.DA=NaN,a.I4=Cy.$B,a.g8t=!1,a.w8t=!1,a.B4t=new i1(a.$1t,a),a.B8t=new j0(a,a.ea,a.B4t),a.B8t.yn(zp.da,a.Z8t),a.ea.yn(fa.ro,a.S8t),a.w4t=new D0(a,a.ea,a.d2t,e,a.B4t),a.C8t=o,a.I8t=s,a.P8t=u,a.be(),a.I8t.yn("X8t",a.z8t),a}Rt(n,t);var i=n.prototype;return i.d8t=function(t,n,i){n===XM.zst&&void 0!==i&&(this.c2t=i),this.w4t.N4t(t,n)},i.$st=function(t){for(var n=this._8t(),i=0;i<n.length;i++){var r=n[i];hJ(r.sources,r.timeOffset)||t.u6(r,XM.Xst,!1)}},i._8t=function(){for(var t=[],n=this.Q1t,i=n.qst,r=n.jst,e=[],u=0,s=i.concat(r);u<s.length;u++){var o=s[u],a=o.td.C9t;if(!Ao(e,a.xC)){var c,h,f=a.v4t(o.L9t);if(f>=0)(c=t).push.apply(c,Ut(a.P3t.slice(f)));else(h=t).push.apply(h,Ut(a.P3t));e.push(a.xC)}}for(var v=0,l=this.w4t.jst;v<l.length;v++){var d,g=l[v];if(!g.X3t)(d=t).push.apply(d,Ut(g.P3t))}return Do(t)},i.kR=function(){if(!this.FJt)return 0;var t=this.FJt.p9t();return E(this.ct)||t<0?0:this.ct-t},i.ER=function(t,n){},i.Sd=function(){return this.DA||NaN},i.n4=function(t){this.DA=t},i.HR=function(){return this.ea.GR},i.ZR=function(t){this.f9t(this.vI,t,!0)},i.YR=function(){return this.cZ},i.L6t=function(t){this.cZ=t},i.lI=function(){var t,n,i;return null!=(i=null==(n=this.FJt)||null==(t=n.e9t())?void 0:t.W9t)?i:0},i._I=function(){var t,n,i;return null!=(i=null==(n=this.FJt)||null==(t=n.e9t())?void 0:t.V9t)?i:0},i.mR=function(){return[]},i.f2t=function(t){this.b4t=t,this.w4t.f2t(t)},i.j4t=function(){!this.v8t&&this.FJt&&(this.FJt.Cn(),this.v8t=!0)},i.a9t=function(t){this.C2t=t?t.j6t?"linear":"nonlinear":"none"},i.oI=function(){return MA.mB().ks()},i.mI=function(){return this.ea.vI},i.gI=function(t){this.f9t(t,this.GR,!0)},i.Q6t=function(){return this.ea.GR?0:this.ea.vI},i.f9t=function(t,n,i){var r=this.ea.vI!==t||this.ea.GR!==n;r&&(this.ea.vI=t,this.ea.GR=n),this.FJt&&i&&this.FJt.gI(this.Q6t()),r&&this.wo(new ST(this.SR,this.vI))},i.IR=function(){return!1},i.PR=function(){if(this.y8t&&this.c2t)return this.y8t},i.NR=function(){if(this.b8t&&this.c2t)return this.b8t},i.nI=function(){return this.I4},i.C4=function(t){this.I4=t,this.wo(new Ry(this.SR,t))},i.SI=function(){this.ea.fn(fa.ro,this.S8t),this.po||(this.po=!0,this.w4t.SI(),this.A9t())},i.kI=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:if(t.T8t)return[2];t.k8t.Yw(),t.k8t=new Jo,n=t.qR,t.L6t(!1),t.wo(new yT(t.SR)),t.E8t()||(t.v9t||t.ea.be(),t.wo(new Dy(t.SR))),t.S9t||(t.k9t=!1),i=Boolean(t.FJt),t.T8t=t.w4t.D4t(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,t.T8t];case 2:return r.sent(),[3,4];case 3:return t.T8t=void 0,[7];case 4:try{jo(t.k8t.Vw)}catch(t){return[2]}if(t.po||t.S8t(),t.y8t&&t.c2t)return[2];if(t.FJt){if(n)if(i)try{jo(t.k8t.Vw),t.FJt.x8t(),t.wo(new By(t.SR))}catch(t){return[2]}else t.j4t()}else t.c2t||(t.w1t(),t.d2t.kI());return[2]}}))}))()},i.TI=function(){var t;this.qR||(this.L6t(!0),this.wo(new pT(this.SR))),this.k8t.Yw(),this.S9t?null==(t=this.FJt)||t.TI():this.k9t=!0},i.DD=function(){var t;null==(t=this.FJt)||t.DD()},i.u9t=function(){this.FJt&&(this.I8t.R8t(),this.FJt.EI(),this.FJt.Hw(),this.FJt=void 0,this.C2t="none",this.v8t=!1)},i.EI=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return t.w9t=0,t.w4t.er(),t.k8t.Yw(),t.L6t(!0),t.g8t=!1,t.w8t=!1,t.S9t=!1,t.B4t.er(),t.u9t(),t.s9t(),null==(n=t.C8t)||n.er(),t.k9t=!1,t.I8t.Hw(),[2]}))}))()},i.ge=function(){this.P8t.ge(),this.v9t&&this.ea.ge()},i.be=function(){this.P8t.be()},i.D8t=function(){return Boolean(this.FJt)&&Ao(this.FJt.N8t(),-1)&&!this.g8t},i.q3t=function(){this.w4t.q3t()},i.e5t=function(){return this.w4t.e5t},i.g4t=function(){this.w4t.g4t()},i.i5t=function(){return this.w4t.i5t()},i.i2t=function(t){if(this.D8t()){if(t.type===fa.Zy&&this.ea.RR)return!0;if(t.type===fa.Cy)return this.g8t=!0,this.I8t.R8t(),!0}return!1},i.E8t=function(){return Boolean(this.FJt&&this.FJt.e9t())},i.K4t=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),n.u9t(),i=n.M8t(),n.P8t.Tj(),[4,n.I8t.K4t(t,n.C8t,i)];case 1:return n.FJt=e.sent(),n.L8t(n.FJt),[3,3];case 2:return r=e.sent(),n.B8t.X6t(r),[3,3];case 3:return[2]}}))}))()},i.L8t=function(t){if(t.gI(this.Q6t()),this.w4t.L4t===x0.I4t){var n=t.N8t();if(n.length)for(var i=0;i<n.length;i++){var r=n[i];this.B4t.t3t(r,this.w4t.p4t)}else this.B4t.t3t(this.w4t.p4t.rd,this.w4t.p4t)}this.B8t.er(),this.B8t.T6t(t)},i.AI=function(){if(this.VJt&&this.v9t&&this.E8t())return this.ea.AI()},i.bI=function(){return this.v9t&&this.u2t?this.ea.Ca:t.prototype.bI.call(this)},i.M8t=function(){var t,n,i=!!(this.w4t.L4t===x0.I4t)&&this.f8t;return void 0!==this.kQ.ads.googleIma.uiElements?t=this.kQ.ads.googleIma.uiElements:this.kQ.ads.showCountdown||(t=[]),void 0!==this.kQ.ads.allowedMimeTypes&&(n=this.kQ.ads.allowedMimeTypes),{O8t:n,F8t:t,V8t:i,U9t:this.kQ.ads.googleIma.bitrate,W8t:void 0,U8t:this.b4t}},i.A9t=function(){if(this.VJt){var t=this.M8t();this.VJt.G8t(t)}},i.n3t=function(t){this.y8t=new sm(um.ADVERTISEMENT_ERROR,t.gb),this.b8t=new sl(el.AD_ERROR,"There was a problem playing ads.",this.y8t),this.$1t.wo(q$.s2t(t))},i.s9t=function(){this.u2t&&(this.ea.ge(),this.w1t(),this.be())},i.R9t=function(){var t;this.ea.kR()!==1/0&&0!==this.ea.oI().length&&((null==(t=this.w4t.p4t)?void 0:t.M3t)&&-1!==this.H8t&&(this.ea.ER(this.ea.kR()+this.H8t),this.H8t=-1))},i.x9t=function(t){var n,i;this.H8t=null!=(i=null==(n=t.n9t)?void 0:n.BJt)?i:-1},i.w1t=function(){t.prototype.w1t.call(this),this.ea.ge(),this.v9t&&!this.ea.RR&&this.ea.kI()},i.R3t=function(){this.v9t||t.prototype.R3t.call(this)},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.B8t.fn(zp.da,n.Z8t),[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.u9t(),n.I8t.fn("X8t",n.z8t),n.I8t.Hw(),n.P8t.Hw(),n.w4t.gn(),n.B8t.gn(),[2]}}))}))()},xt(n,[{key:"Q1t",get:function(){return this.B4t.Q9t}},{key:"l8t",get:function(){return this.B4t}},{key:"r9t",get:function(){return this.w4t}},{key:"v9t",get:function(){return e1(this.kQ)}},{key:"K1t",get:function(){return n.K1t}},{key:"f8t",get:function(){return this.kQ.ads.preload===KA.MIDROLL_AND_POSTROLL}},{key:"C2t",get:function(){return this.P2t},set:function(t){this.P2t=t}},{key:"FJt",get:function(){return this.VJt},set:function(t){this.VJt=t,this.v8t=!1}},{key:"S9t",get:function(){return this.m8t},set:function(t){this.m8t=t}},{key:"fnt",get:function(){return this.c2t}},{key:"l9t",get:function(){return this.g8t}},{key:"k9t",get:function(){return this.p8t},set:function(t){this.p8t=t}},{key:"d9t",get:function(){return this.w8t},set:function(t){this.w8t=t}},{key:"E9t",get:function(){return this.A8t},set:function(t){this.A8t=t}}],[{key:"K1t",get:function(){return h$.r$t}}]),n}(E0);U(),St();var s1=function(){function t(){}var n=t.prototype;return n.registerWebImaAdPlayerConstructor=function(t){this.q8t=t},n.createAdPlayer=function(t,n,i){return o1()&&this.q8t?this.q8t(t,n,i):void 0},t}();function o1(){return!!Boolean(f.google&&f.google.ima)&&!(1===k.keys(f.google.ima).length&&f.google.ima.dai)}s1.Fg=new s1;var a1=function(){function t(){}var n=t.prototype;return n.RZ=function(t){return t&&t.integration===ES.GOOGLE_IMA},n.z1t=function(t,n,i){return s1.Fg.createAdPlayer(t,n,i)},n.u6=function(t,n,i,r){i.d8t(t,n,r)},n.Xz=function(t){var n=_Q(t.sources);if(n){var i={integration:ES.GOOGLE_IMA,sources:n,omidAccessModeRules:W0(t.omidAccessModeRules)},r=kQ(t.timeOffset);return void 0!==r&&(i.timeOffset=r),i}},xt(t,[{key:"X1t",get:function(){return u1.K1t}}]),t}();IS.Fg.IZ(new a1),U(),St(),Dt(),U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Ct();var c1=function(t){function n(){return t.call(this,"u$t")||this}return Rt(n,t),n.prototype.ba=function(){return new h1},n}(yg),h1=function(t){function n(){return t.call(this,"adloaded")||this}return Rt(n,t),n}(ha),f1=-1,v1=function(){function t(t,n){this.l$t=[],this.qJt=!1,this.G3t=t,this.Ep=0,this.ZJt=n,this.$8t=NaN,this.J8t=!1,this.K8t=new e$(this,this.ZJt)}var n=t.prototype;return n.t7t=function(){return this.Ep<this.l$t.length},n.Ic=function(){var t;return this.Ep<this.l$t.length&&(t=this.l$t[this.Ep],this.Ep++),t},n.e7t=function(t){t.Ijt=this,this.l$t.push(t)},n.i7t=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:i=!1,r=0,e=n.l$t,c.label=1;case 1:if(!(r<e.length))return[3,6];u=e[r],c.label=2;case 2:return c.trys.push([2,4,,5]),[4,u.Dn()];case 3:return c.sent(),i=!0,[3,5];case 4:return s=c.sent(),_o(n.l$t,u),o=u.lnt.sources,a="string"==typeof o?o:o.src,t.wo(q$.n2t(s,a)),[3,5];case 5:return r++,[3,1];case 6:return n.J8t=!0,[2,i]}}))}))()},n.YJt=function(){this.qJt=!0},n.zJt=function(){return this.qJt},n.s7t=function(){return this.l$t.some((function(t){return t$(t).some((function(t){return t.Yqt}))}))},xt(t,[{key:"WJt",get:function(){return this.l$t}},{key:"Y8t",get:function(){return this.K8t}},{key:"Hut",get:function(){return this.Ep}},{key:"j8t",get:function(){return this.G3t}},{key:"Q8t",get:function(){return this.J8t}},{key:"rd",get:function(){if(E(this.$8t)){var t=aQ.$jt(this.G3t,this.ZJt.t.Sd());void 0===t||E(t)||(this.$8t=t)}return this.$8t}}]),t}(),l1=function(t){function n(n,i,r,e){var u,s;return u=t.call(this)||this,s=u,u.y7t=!1,u.d7t=function(t){return ta(u._7t(t))},u._7t=Zt((function(t){var n,i,r,e,u,o,a;return Ht(this,(function(c){switch(c.label){case 0:return s.w7t(),n=t.currentTime,i=t.currentTime!==f1?s.g7t(s.Y3,t.currentTime):s.m7t(t.currentTime,0,0)[0],u=s.ea.Sd()-10,(e=s.v7t(f1)&&A.ceil(n)===A.ceil(u)?s.m7t(f1,10,0).filter((function(t){return!t.Q8t})):s.m7t(n,10,0).filter((function(t){return!t.Q8t}))).length?[4,ut.all(e.map((function(t){return t.i7t(s.u7t)})))]:[3,2];case 1:o=c.sent(),(a=o.some((function(t){return!0===t})))&&s.wo(new c1),(!a||!s.a7t.R7t||e[0].rd<s.a7t.R7t.rd)&&(r=e[0]),c.label=2;case 2:return i&&(i!==s.a7t.R7t&&(r=i),s.b7t([i])),r?(s.a7t.c7t(),s.a7t.R7t=r,[4,s.a7t.h7t()]):[3,4];case 3:c.sent(),c.label=4;case 4:return E(s.ea.Sd())||(s.Y3=t.currentTime),[2]}}))})),u.ea=n,u.v3t=i,u.E7t=new r$(u.v3t,u.ea),u.b4t=void 0,u.y7t=!1,n.Sd()!==1/0?u.YO=0:u.YO=n.kR(),u.Y3=u.YO,u.r7t=[],u.u7t=r,u.a7t=e,u.l7t=!1,u}Rt(n,t);var i=n.prototype;return i.o7t=function(){this.a7t.h7t()},i.Cn=function(){this.To(),this.u7t.yn("ant",this.a7t.c7t)},i.jn=function(){this.Bo(),this.u7t.fn("ant",this.a7t.c7t),this.Y3=this.YO,this.a7t.er();for(var t=0,n=this.r7t;t<n.length;t++){n[t].YJt()}So(this.r7t)},i.To=function(){this.l7t||(this.ea.yn(fa.sb,this.d7t),this.l7t=!0)},i.Bo=function(){this.l7t&&(this.ea.fn(fa.sb,this.d7t),this.l7t=!1)},i.f7t=function(){return this._7t(new pg(f1,void 0))},i.v7t=function(t){return this.m7t(t,0,0).length>0},i.g7t=function(t,n){for(var i,r=0,e=0,u=this.r7t;e<u.length;e++){var s=u[e];if(!s.zJt()){var o=s.rd;o>=t&&o<=n&&o>=r&&!E(o)&&(r=(i=s).rd)}}return i},i.p7t=function(t){return this._7t(new pg(t,void 0))},i.w7t=function(){if(!this.y7t&&void 0!==this.b4t){this.y7t=!this.r7t.some((function(t){return E(t.rd)}));for(var t=0,n=this.r7t;t<n.length;t++){var i=n[t];i.rd!==f1&&i.rd<=this.b4t&&!i.zJt()&&i.YJt()}}},i.b7t=function(t){for(var n=0;n<t.length;n++){t[n].YJt()}this.v3t.A7t(t),0===this.n7t&&this.Bo()},i.m7t=function(t,n,i){var r=this;return this.r7t.filter((function(e){if(e.zJt())return!1;var u=e.rd;return r.S7t(u,t)||r.T7t(u,t,n,i)}))},i.S7t=function(t,n){switch(n){case 0:return 0===t;case f1:return t===f1;default:return!1}},i.T7t=function(t,n,i,r){if(t<0)return!1;var e=t-n;return-1!==e&&e<=i&&e>=-r},i.k7t=function(t){if(t&&t.length>0){for(var i=0;i<t.length;i++){var r=t[i],e=n.m4t(r.YBt),u=this.Ymt(r);-1===u&&(this.y7t=void 0===this.b4t,this.r7t.push(new v1(e,this.E7t)),u=this.r7t.length-1),this.r7t[u].e7t(r)}this.To()}},i.Ymt=function(t){var i=n.m4t(t.YBt);return po(this.r7t,(function(t){return i===n.m4t(t.j8t)}))},i.x7t=function(t){_o(this.r7t,t)},i.f2t=function(t){this.b4t=t,this.y7t=void 0===t},n.m4t=function(t){switch(t){case"start":case"00:00:00":case"00:00:00.000":case"0%":case"0":return"0";case"end":case"100%":return"-1";default:return t}},xt(n,[{key:"n7t",get:function(){for(var t=0,n=0,i=this.r7t;n<i.length;n++){i[n].zJt()||(t+=1)}return t}},{key:"jst",get:function(){return this.r7t}}]),n}(ca);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt(),Ct();var d1,g1=function(t){function n(n,i){var r;return(r=t.call(this)||this).B7t=[],r.M7t=[],r.zG=void 0,r.b3t=new ca,r.F7t=function(t){t.stopPropagation(),r.V7t()},r.V7t=function(){for(var t=0,n=r.B7t;t<n.length;t++)for(var i=0,e=n[t].zYt;i<e.length;i++){var u=e[i];sJ(u.uri)}},r.f0t=v.createElement("div"),r.f0t.style.display="none",r.W7t=n,r.U7t=i,r}Rt(n,t);var i=n.prototype;return i.C7t=function(){this.P7t(),this.D7t(),this.zG=void 0},i.N7t=function(t){this.M7t=this.M7t.concat(t)},i.L7t=function(t){this.B7t=this.B7t.concat(t)},i.D7t=function(){this.M7t=[]},i.P7t=function(){this.B7t=[]},i.O7t=function(t){for(var n=0,i=this.M7t;n<i.length;n++){var r=i[n];r.FX===t&&sJ(r.eventURL)}},i.ge=function(){this.I7t.style.display=""},i.be=function(){this.I7t.style.display="none"},i.gn=function(){this.$o(),this.b3t.$o(),ai(this.f0t)},xt(n,[{key:"I7t",get:function(){return this.f0t}},{key:"$1t",get:function(){return this.b3t}}]),n}(ca);function m1(t,n){var i=n;if(!function(t){return"ui"in t}(t))return i;var r,e=t.ui.language;if(ni(e)){var u=t.ui.languages;if(!u)return i;r=u[e]}else r=e;return r&&r[n]&&(i=r[n]),i}U(),St(),U(),St(),on();var w1=(sn(d1={},pA.XC,1),sn(d1,pA.zC,2),sn(d1,pA.qC,2),d1);function p1(t,n){var i=n?n.map((function(t){return t.toLowerCase()})):n;return eo(t.filter((function(t){var n=t.type.toLowerCase();return!!Jn(i)&&-1!==i.indexOf(n)&&nQ(n)})),(function(t,n){return w1[t.type]-w1[n.type]})).map(y1)}function y1(t){return kA({src:t.contentURL,type:t.type,isAdvertisement:!0})}function _1(t,n){return pL(b1(t),b1(n))}function b1(t){return{Ti:t.height,ji:t.width}}function k1(t,n,i,r){var e,u=function(t,n,i,r){var e,u=1/0,s=t.filter((function(t){return!nQ(t.type)})).filter((function(t){return void 0===r||-1!==r.indexOf(t.type)}));if(s.length){for(var o=0;o<s.length;o++){var a=s[o],c=(A.abs(a.width/n-1)+A.abs(a.height/i-1))/2;c<u&&(u=c,e=a)}return e||s.sort(_1)[0]}}(t.vKt,n.width,n.height,i),s=p1(t.vKt,i);if(u){var o=y1(u);o&&s.push(o)}s.length>0&&(t.bKt=null==(e=s[0].src)?void 0:e.trim());return gE({sources:s},r)}var A1=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i)||this).yte=r,a.DT=e,a.v3t=u,a.Yu=s,a.Z7t=o,a.H7t=!1,a.pte=0,a.Y3=-1,a.WT=new Jo,a.q7t=!0,a.cte=function(){a.Q7t()},a.fte=function(){a.WT=void 0,a.H7t||(a.vte(),a.H7t=!0),a.q7t&&(a.q7t=!1,a.v3t.o7t()),a.I7t.style.display="block",a.Z7t.fn(Ey.VL,a.fte),a.H7t=!0},a.dte=function(){var t=a.SR,n=a.ct,i=t/n;(0===a.pte&&i>=.25?(a.O7t(BJ.LKt),a.pte=1):1===a.pte&&i>=.5?(a.O7t(BJ.OKt),a.pte=2):2===a.pte&&i>=.75&&(a.O7t(BJ.BKt),a.pte=3),a.ite(t,n),a.Ste(),a.Y3=t,a.cKt)&&(-1!==a.cKt.pKt&&a.cKt.pKt<a.cKt.ct&&(null!=a.p0t||(a.p0t=a.J7t()),a.SR<a.cKt.pKt?a.p0t.L$t(a.cKt.pKt-a.SR):a.p0t.O$t()))},a.ute=function(){var t,n;a.WT=void 0,a.Z7t.fn(zp.da,a.ute),a.q7t=!0,null==(t=a.zG)||t.djt(KJ.hjt),a.H7t=!1,a.Z7t.be();var i=(null==(n=a.Z7t.bt)?void 0:n.src)||"";a.W7t(i)},a.ote=function(){a.Ds(new pg(a.SR,void 0))},a.hte=function(){a.Ds(new _T(a.ct))},a.ate=function(){a.Ds(new ST(a.SR,a.vI))},a.ete=function(){a.v3t.TI()},a.$7t=function(){a.z7t&&(a.O7t(BJ.IKt),a.$1t.wo(new c0(a.z7t,a.SR/a.ct)),a.Q7t(!1))},a.I7t.className="theoplayer-ad-linear",a.I7t.style.zIndex="10",_i(a.I7t),a.Z7t.be(),a.wte=!1,a}Rt(n,t);var i=n.prototype;return i.kI=function(){this.Z7t.qR&&(this.Z7t.kI(),this.wo(new yT(this.SR)),this.H7t&&this.O7t(BJ.xKt),this.H7t=!0)},i.TI=function(){this.Z7t.qR||(this.Z7t.TI(),this.wo(new pT(this.SR)),this.O7t(BJ.Zy))},i.EI=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return null==(n=t.WT)||n.Yw(),t.WT=void 0,t.be(),t.H7t=!1,t.q7t=!0,t.Y7t(),t.K7t(),[4,t.j7t()];case 1:return i.sent(),[2]}}))}))()},i.Q7t=function(t){void 0===t&&(t=!0),this.H7t=!1,t&&this.O7t(BJ.FKt),this.be(),this.U7t()},i.J7t=function(){var t,n=null==(t=this.v3t.Ta)?void 0:t.mi,i=new A$(this.Yu,n);return this.I7t.appendChild(i.we),i.yn("DD",this.$7t),i},i.tte=function(){this.cKt&&this.cKt.rKt.GYt&&(this.v0t=new p$(this.I7t),this.v0t.R$t=this.cKt.rKt.GYt,this.v0t.yn("clickstart",this.ete),this.v0t.yn("click",this.V7t))},i.ite=function(t,n){for(var i=0,r=this.M7t;i<r.length;i++){var e=r[i];if(e.FX===BJ.Xy){var u=ZJ(e.ec,n);void 0!==u&&this.Y3<u&&u<=t&&sJ(e.eventURL)}}},i.ste=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.cKt&&t.nte?(n=k1(t.cKt,t.nte,t.DT.ads.allowedMimeTypes,t.DT)).sources.length?(t.WT=new Jo,t.q7t=!0,[4,Ho(t.Z7t.xa(n,t.WT.Vw),t.WT)]):[3,2]:[2];case 1:return i.sent(),t.Z7t.ge(),t.cKt.mYt(),[3,4];case 2:return[4,t.Z7t.er()];case 3:return i.sent(),t.W7t(""),t.cKt.mYt(),[2];case 4:return t.tte(),[2]}}))}))()},i.rte=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return r.z7t=t,r.cKt=t.Yqt,r.Z7t.yn(fa.sb,r.ote),r.Z7t.yn(fa.xy,r.hte),r.Z7t.yn(fa.ob,r.ate),r.Z7t.yn(Iy,r.Ds),r.cKt.eYt&&0!==r.cKt.eYt.length&&r.N7t(r.cKt.eYt),r.cKt.rKt&&r.L7t(r.cKt.rKt),r.zG=n,r.nte=i,0===r.cKt.vKt.length?[3,2]:(r.Z7t.yn(zp.da,r.ute),[4,r.ste()]);case 1:e.sent(),r.Z7t.yn(fa.Cy,r.cte),r.Z7t.yn(fa.sb,r.dte),r.Z7t.yn(Ey.VL,r.fte),r.Z7t.yn(fa.Yy,r.Ds),e.label=2;case 2:return[2]}}))}))()},i.BQt=function(){this.G7t&&this._te&&this.$7t()},i.vte=function(){this.O7t(BJ.oTt),this.z7t&&this.$1t.wo(new oB(this.z7t,this.SR))},i.j7t=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Z7t.fn(zp.da,t.ute),t.Z7t.fn(fa.Cy,t.cte),t.Z7t.fn(fa.sb,t.dte),t.Z7t.fn(Ey.VL,t.Ds),t.Z7t.fn(Ey.VL,t.fte),t.Z7t.fn(fa.Yy,t.Ds),t.Z7t.fn(fa.sb,t.ote),t.Z7t.fn(fa.xy,t.hte),t.Z7t.fn(fa.ob,t.ate),t.Z7t.fn(Iy,t.Ds),t.z7t&&(t.z7t.YJt(),t.$1t.wo(new cB(t.z7t,t.SR))),t.mte(),t.C7t(),t.Y7t(),t.K7t(),t.z7t=void 0,t.cKt=void 0,t.nte=void 0,[4,t.Z7t.er()];case 1:return n.sent(),t.Z7t.be(),t.I7t.style.cursor="",t.pte=0,t.Y3=-1,t.wte&&(t.yte.j7t(),t.wte=!1),[2]}}))}))()},i.mte=function(){this.v0t&&(this.v0t.Hw(),this.v0t=void 0)},i.K7t=function(){this.bte&&(ai(this.bte),this.bte=void 0)},i.Y7t=function(){this.p0t&&(this.p0t.gn(),this.p0t=void 0)},i.Ate=function(){this.wte=!0},i.Ste=function(){var t;this.bte||(this.bte=v.createElement("div"),this.bte.className="theoplayer-ad-overlay-component theo-ad-remaining-container",this.I7t.appendChild(this.bte));var n=null==(t=this.z7t)?void 0:t.td;if(n){var i=n.qc.filter(c$),r=m1(this.DT,"The content will play in")+" "+A.round(n.OJt)+" "+m1(this.DT,"seconds");if(i.length>1){var e=i.filter((function(t){return t.zJt()})).length;r+=". "+m1(this.DT,"Ad")+" "+(e+1)+"/"+i.length}EP(this.bte,r)}},xt(n,[{key:"G7t",get:function(){return this.H7t}},{key:"SR",get:function(){return this.Z7t.SR}},{key:"ct",get:function(){var t=this.Z7t.ct;return E(t)&&this.cKt&&(t=this.cKt.ct||0),t}},{key:"RR",get:function(){return this.Z7t.RR}},{key:"GR",get:function(){return this.Z7t.GR},set:function(t){this.Z7t.GR=t,t?this.O7t(BJ.kKt):this.O7t(BJ.EKt)}},{key:"qR",get:function(){return this.Z7t.qR}},{key:"sI",get:function(){return this.Z7t.sI}},{key:"vI",get:function(){return this.Z7t.vI},set:function(t){this.Z7t.vI=t}},{key:"cI",get:function(){return this.Z7t.cI}},{key:"fI",get:function(){return this.Z7t.fI}},{key:"X7t",get:function(){return this.z7t}},{key:"_te",get:function(){return this.cKt&&-1!==this.cKt.pKt&&this.Z7t.SR>=this.cKt.pKt}}]),n}(g1);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt(),Ct();var T1=function(t){function n(){var i;return(i=t.call(this)||this).V$t=function(t){i.wo(new ha("DD")),i.Tte(t)},i.Tte=function(t){t.stopPropagation()},i.Vs=n.pr(),i.F$t(),i}Rt(n,t);var i=n.prototype;return i.F$t=function(){this.we.addEventListener("mouseup",this.V$t),this.we.addEventListener("touchend",this.V$t),this.we.addEventListener("mousedown",this.Tte)},i.B$t=function(){this.we.removeEventListener("mouseup",this.V$t),this.we.removeEventListener("touchend",this.V$t),this.we.removeEventListener("mousedown",this.Tte)},i.gn=function(){this.B$t(),ai(this.Vs)},n.pr=function(){var t=v.createElement("div");return t.className="theoplayer-ad-nonlinear-close",t.style.position="absolute",t.style.right="0",t.style.top="0",t.style.cursor="pointer",t.style.fontSize="1.7em",t.style.lineHeight="0.75em",t},xt(n,[{key:"we",get:function(){return this.Vs}}]),n}(oa),S1=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Ite=function(){e.Nte(),e.O7t(BJ.HKt),e.U7t()},e.Rte=function(t){var n,i;e.Nte(),null==(n=e.zG)||n.djt(KJ.ujt);var r,u,s,o=null==(i=e.e$t)?void 0:i.$qt[0],a=null!=(u=null!=(r=null==o?void 0:o.rYt)?r:null==o?void 0:o.sYt)?u:null==o?void 0:o.hYt;e.W7t(null!=(s=null==a?void 0:a.ejt)?s:"")},e.Dte=function(){e.be(),ci(e.I7t),e.U7t(),e.Ete=void 0,e.e$t=void 0},e.Lte=function(){e.vu||(e.Pte=void 0,e.vu=new T1,e.I7t.children[0].appendChild(e.vu.we),e.vu.yn("DD",e.Bte))},e.Bte=function(){e.O7t(BJ.IKt),e.BQt()},e.I7t.className="theoplayer-ad-nonlinear",e.I7t.style.position="absolute",e.I7t.style.width="100%",e.I7t.style.bottom="3em",e.I7t.style.zIndex="10",e.I7t.style.textAlign="center",e.v3t=r,e}Rt(n,t);var i=n.prototype;return i.C7t=function(){t.prototype.C7t.call(this),this.I7t&&ci(this.I7t)},i.rte=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return r.e$t&&r.j7t(),r.Ete=t,r.e$t=t.Kqt,0!==r.e$t.eYt.length&&r.N7t(r.e$t.eYt),r.zG=n,0===r.e$t.$qt.length?[3,2]:(r.L7t(r.e$t.$qt[0].uYt),r.I7t.addEventListener("error",r.Rte),r.I7t.addEventListener("load",r.Ite),[4,r.ste()]);case 1:i.sent(),r.Cte(),i.label=2;case 2:return[2]}}))}))()},i.BQt=function(){var t;if(void 0===this.Pte){var n=null==(t=this.e$t)?void 0:t.$qt[0];n&&n.td&&-1!==n.td.pKt&&(this.O7t(BJ.IKt),this.$1t.wo(new c0(this.Ete,0)),this.Dte())}},i.vte=function(){void 0!==this.Ete&&this.$1t.wo(new oB(this.Ete,this.v3t.SR))},i.EI=function(){this.j7t(),this.Ete=void 0,this.e$t=void 0},i.j7t=function(){this.Nte(),void 0!==this.Ete&&(this.Ete.YJt(),this.$1t.wo(new cB(this.Ete,this.v3t.SR))),this.C7t(),this.Mte(),void 0!==this.Pte&&(m(this.Pte),this.Pte=void 0)},i.Nte=function(){this.I7t.removeEventListener("load",this.Ite),this.I7t.removeEventListener("error",this.Rte)},i.ste=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c;return Ht(this,(function(h){return(n=v.createElement("div")).className="theoplayer-ad-nonlinear-content",n.style.position="relative",n.style.display="inline-block",i=t.e$t.$qt[0],r=v.createElement("a"),i.uYt.GYt&&(r.href=i.uYt.GYt,r.target="qu",r.setAttribute("rel","noopener")),i.rYt?(e=i.rYt,(u=v.createElement("iframe")).src=e.ejt,r.appendChild(u)):i.sYt?(s=i.sYt,(o=v.createElement("img")).src=s.ejt,r.appendChild(o)):i.hYt&&(a=i.hYt,(c=v.createElement("iframe")).src=a.ejt,r.appendChild(c)),i.mYt(),r.addEventListener("mousedown",t.F7t),r.addEventListener("touchend",t.F7t),t.I7t.firstChild&&(ci(t.I7t),t.j7t()),n.appendChild(r),t.I7t.appendChild(n),t.ge(),[2]}))}))()},i.Cte=function(){var t;if(this.e$t){var n=null==(t=this.e$t.$qt[0].td)?void 0:t.pKt;void 0!==n&&-1!==n&&(this.Pte=f.setTimeout(this.Lte,1e3*n))}},i.Mte=function(){this.vu&&(this.vu.fn("DD",this.Bte),this.vu.gn()),this.vu=void 0},xt(n,[{key:"kte",get:function(){return this.Ete}},{key:"xte",get:function(){return this.vu}},{key:"Ote",get:function(){return this.v3t.Fte()}}]),n}(g1);U(),St(),Gt(),Jt();var E1=function(){function t(){}return t.Vte=function(t,n,i){return Zt((function(){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:r=[],e=t.shift(),a.label=1;case 1:if(!e)return[3,6];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,(new sQ).Ajt(e,n)];case 3:return u=a.sent(),r=r.concat(u),[3,5];case 4:return s=a.sent(),o=q$.n2t(s,e.sources.src),i.wo(o),[3,5];case 5:return e=t.shift(),[3,1];case 6:return[2,r]}}))}))()},t}();U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Ct();var I1=function(t){function n(){return t.call(this,"uat")||this}return Rt(n,t),n.prototype.ba=function(){return new R1},n}(yg),R1=function(t){function n(){return t.call(this,"statechange")||this}return Rt(n,t),n}(ha);U(),St();var C1=function(t){return t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted",t}({});U(),St(),Ct(),U(),St(),Dt(),Ct();var N1=function(){function t(){this.Zu=[],this.su=void 0}var n=t.prototype;return n.lC=function(t){return this.Zu[t]},n.SO=function(t){this.Zu.push(t),this.su&&this.su.push(t.ka),this.Wte(t)},n.Ute=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.SO(i)}},n.Gte=function(t,n){n>=0&&n<=this.Zu.length&&(this.Zu.splice(n,0,t),this.su&&this.su.splice(n,0,t.ka),this.Wte(t))},n.TO=function(t){return Ao(this.Zu,t)},n.$S=function(t){this.Hte(this.Zu.indexOf(t))},n.Hte=function(t){if(t>=0&&t<this.Zu.length){var n=this.Zu[t];bo(this.Zu,t),this.su&&bo(this.su,t),this.Zte(n)}},n.Bb=function(){var t=this.Zu.slice();So(this.Zu),this.su&&So(this.su);for(var n=0;n<t.length;n++){var i=t[n];this.Zte(i)}},xt(t,[{key:"Ku",get:function(){return this.Zu}},{key:"V",get:function(){return this.Zu.length}},{key:"ka",get:function(){return this.su||(this.su=this.ba()),this.su}}]),t}(),x1=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Xte=new ca,n.Ds=function(t){n.wo(t)},n}Rt(n,t);var i=n.prototype;return i.ba=function(){return function(t){var n=function(t){var n=t.Ku.map((function(t){return t.ka}));return n.item=function(n){var i=0|n,r=t.lC(i);return r&&r.ka||void 0},n}(t),i=new gR(t,n);return n.addEventListener=function(t,n){i.yn(t,n)},n.removeEventListener=function(t,n){i.fn(t,n)},n}(this)},i.yn=function(t,n){this.Xte.yn(t,n)},i.iy=function(t){this.Xte.iy(t)},i.$o=function(){this.Xte.$o()},i.wo=function(t){this.Xte.wo(t)},i.fn=function(t,n){this.Xte.fn(t,n)},i.ly=function(t){this.Xte.ly(t)},i._y=function(t){this.Xte._y(t)},i.vy=function(t,n){return this.Xte.vy(t,n)},n}(N1);U(),St(),Ct();var D1=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return Rt(n,t),n}(ha),P1=function(t){function n(n){var i;return(i=t.call(this,"qte")||this).zte=n,i}return Rt(n,t),n.prototype.ba=function(){return new D1(this.zte.ka)},n}(yg);U(),St(),Ct();var M1=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return Rt(n,t),n}(ha),B1=function(t){function n(n){var i;return(i=t.call(this,"Yte")||this).task=n,i}return Rt(n,t),n.prototype.ba=function(){return new M1(this.task.ka)},n}(yg),O1=function(t){function n(){return t.call(this)||this}Rt(n,t);var i=n.prototype;return i.Wte=function(t){this.wo(new P1(t))},i.Zte=function(t){this.wo(new B1(t))},n}(x1),L1=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).wat="uninitialised",e.UT=new O1,e.Jte=i,e.$te=r,e.l_=n,e.SI(),e}Rt(n,t);var i=n.prototype;return i.SI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.Kte()];case 1:return n.sent(),t.yat("initialised"),[2]}}))}))()},i.Kte=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.jte()];case 1:return n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))()},i.jte=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return[4,t.l_.mrt()];case 1:n=u.sent(),i=0,u.label=2;case 2:return i<n.length?(r=n[i],e=t.Jte.Qte(r.id,r.sourceDescription,r.parameters,t.$te),t.eee(e),t.UT.SO(e),[4,e.iee]):[3,5];case 3:u.sent(),u.label=4;case 4:return i++,[3,2];case 5:return[2]}}))}))()},i.yat=function(t){this.wat=t,this.wo(new I1)},i.Qte=function(t,n,i){void 0===i&&(i="persistent");var r=this.Jte.nee(t,n,i);return this.ree(r,i),this.UT.SO(r),this.eee(r),r},i.ree=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i.oee(t,n)];case 1:return e.sent(),[3,3];case 2:throw r=e.sent(),y("Unable to persist task - "+r);case 3:return[2]}}))}))()},i.oee=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,i.l_.frt({key:t.o,id:t.o,sourceDescription:t.xc,parameters:t.mT},n)];case 1:return r.sent(),[2]}}))}))()},i.eee=function(t){var n=this;t.yn("uat",(function(){t.zk===C1.EVICTED&&n.UT.$S(t)}))},xt(n,[{key:"zk",get:function(){return this.wat}},{key:"see",get:function(){return this.UT}}]),n}(oa);U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),U(),St(),Dt();var F1=function(){function t(t,n,i){if(this.uee=t,this.AO=n,this.hee=i,0===this.AO.size)this.fee=MA.mB();else{var r=new MA([-1/0,1/0]);this.AO.forEach((function(t){r=r.Sn(t.timeRanges)})),this.fee=r}}return t.prototype.eF=function(t){return!!Bg(this.AO,t.AO)&&(!!dr(this.uee,t.uee)&&(!!dr(this.fB,t.fB)&&(!!dr(this.cee,t.cee)&&this.lee.oB(t.lee))))},xt(t,[{key:"fB",get:function(){return this.hee}},{key:"aee",get:function(){return this.uee}},{key:"cee",get:function(){return this.lee.fB}},{key:"dee",get:function(){var t=0,n=0;return this.AO.forEach((function(i){t+=i.timeRanges.fB,n+=i.totalQualityDurationToCache})),0===n?0:A.min(1,t/n)}},{key:"lee",get:function(){return this.fee}}]),t}();F1.QUALITY_TIME_RANGES_NULL_OBJECT=os(),F1.CACHE_PROGRESSION_NULL_OBJECT=new F1(0,F1.QUALITY_TIME_RANGES_NULL_OBJECT,NaN),F1._ee=F1.CACHE_PROGRESSION_NULL_OBJECT,U(),St(),U(),St(),Gt(),Wt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Ct();var V1=function(t){function n(){return t.call(this,"progress")||this}return Rt(n,t),n}(ha),U1=function(t){function n(){return t.call(this,"F2t")||this}return Rt(n,t),n.prototype.ba=function(){return new V1},n}(yg);U(),St(),U(),St(),Dt(),Ct();var W1=function(t){function n(n,i){return t.call(this,n,i)||this}return Rt(n,t),xt(n,[{key:"name",get:function(){return"vee"}}]),n}(Vo);U(),St(),Gt(),Jt(),U(),St(),Gt(),Jt(),U(),St();var j1=function(t){return t[t.XC=0]="XC",t[t.zC=1]="zC",t}({});function Z1(t,n,i){return X1.apply(this,arguments)}function X1(){return X1=Zt((function(t,n,i){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:for(r=[],e=0,u=t.Lpt;e<u.length;e++)s=u[e],r.push(G1(s,n,i));return[4,ut.all(r)];case 1:return o=a.sent(),[2,{ct:t.wyt.swt(),pee:[t.ESt],Lpt:o}]}}))})),X1.apply(this,arguments)}function G1(t,n,i){return H1.apply(this,arguments)}function H1(){return H1=Zt((function(t,n,i){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.Tpt;e<u.length;e++)s=u[e],r.push(z1(s,n,i));return[4,ut.all(r)];case 1:return[2,{mee:o.sent()}]}}))})),H1.apply(this,arguments)}function z1(t,n,i){return Y1.apply(this,arguments)}function Y1(){return Y1=Zt((function(t,n,i){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:for(r=[],e=0,u=t.uft;e<u.length;e++)K1(s=u[e])||r.push(Q1(s,n,i));return[4,ut.all(r)];case 1:return[2,{Z:o.sent(),Aw:t.Aw}]}}))})),Y1.apply(this,arguments)}function K1(t){return t.Zat.every(J1)}var q1=1;function J1(t){return t.Cwt!==q1&&Boolean(t.Cwt)}function Q1(t,n,i){return $1.apply(this,arguments)}function $1(){return $1=Zt((function(t,n,i){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:for(r=[],e=0,u=t.Zat;e<u.length;e++)J1(s=u[e])||r.push(t2(s,i));return[4,ut.all(r)];case 1:return o=v.sent(),a=t.Zrt[0],c=t.AG,h=c?function(t,n){for(var i=[],r=function(t){return t?js(t,"avc")?Bv.VIDEO_H264:js(t,"hev")||js(t,"hvc")||js(t,"hvt")||js(t,"lhv")||js(t,"lhe")||js(t,"lht")?Bv.VIDEO_H265:js(t,"mp4")?Bv.VIDEO_MP4:js(t,"mpeg2")?Bv.VIDEO_MPEG2:js(t,"mpeg")?Bv.VIDEO_MPEG:Bv.VIDEO_UNKNOWN:Bv.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var u=n[e],s=u.i9.split(":").pop(),o=u.s9;i.push({mimeType:r,uuid:s,data:o})}var a=j1.XC,c=ms;return{type:a,schemeType:c,schemeDatas:i}}(a,c):void 0,f=Sj(t,n,!0),[2,{IC:o,gs:t.Htt,Aw:t.Aw,eH:h,ept:f}]}}))})),$1.apply(this,arguments)}function t2(t,n){return n2.apply(this,arguments)}function n2(){return n2=Zt((function(t,n){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:i={stack:[],error:void 0,hasError:!1},c.label=1;case 1:return c.trys.push([1,3,4,5]),r=Yt(i,new Jo,!1),[4,i2(t,n,r.Vw)];case 2:switch(e=c.sent(),u={o:u2(t),NL:e,wG:t.wG,vp:t.vp,Ti:t.Ti,Aw:t.Aw,ji:t.ji},t.Aw){case im.Ak:break;case im._E:u.Jdt=null!=(o=null==(s=t.Jdt)?void 0:s.dF())?o:NaN;break;case im.fE:u.audioSamplingRate=t.Ewt}return[2,u];case 3:return a=c.sent(),i.error=a,i.hasError=!0,[3,5];case 4:return Kt(i),[7];case 5:return[2]}}))})),n2.apply(this,arguments)}function i2(t,n,i){return r2.apply(this,arguments)}function r2(){return r2=Zt((function(t,n,i){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:r=[],e=t.Bot,t.cdt&&r.push({FO:0,ct:0,gee:t.cdt}),u=e.tbt(),s=u,h.label=1;case 1:return s?t.slt(s)?[4,t.rlt(s,n,i)]:[3,3]:[3,5];case 2:for(o=h.sent(),a=0;a<o.V;a++)r.push(e2(o.hlt(a),t));return[3,4];case 3:r.push(e2(s,t)),h.label=4;case 4:return s=e.clt(s),[3,1];case 5:return c=e.nbt(),[2,{ct:c.VO-u.FO,Ert:r}]}}))})),r2.apply(this,arguments)}function e2(t,n){return{FO:t.FO,ct:t.ct,gee:n.flt(t)}}function u2(t){return t.Qct.Cn+"-"+(""+t.o)}function s2(t,n){var i=function(t){var n=function(t){for(var n=os(),i=0;i<t.length;i++){var r=t[i],e=n.get(r.nLt);e||(e={Aw:r.Aw,yN:[]},n.set(r.nLt,e)),e.yN.push(r)}return n}(t),i=as();return n.forEach((function(t){for(var n=0,r=t.yN;n<r.length;n++){var e=r[n],u=i.get(t.Aw);u||(u=os(),i.set(t.Aw,u));var s=u.get(e.l);s||(s=[],u.set(e.l,s)),s.push(e)}})),i}(t);return function(t,n){var i=as();return t.forEach((function(t,r){var e=os();t.forEach((function(t,i){for(var u=[],s=0;s<t.length;s++){var o=o2(t[s],r,n);u.push(o)}e.set(i,u)})),i.set(r,e)})),i}(i,n)}function o2(t,n,i){for(var r=t.nLt,e={cLt:t,LLt:[]},u=0;u<i.length;u++){var s=i[u];pY(n,r,s)&&e.LLt.push(s)}return e}function a2(t,n){return c2.apply(this,arguments)}function c2(){return c2=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.eTt([t],{})];case 1:return[2,jz((i=r.sent()).$k,{},i.sTt)]}}))})),c2.apply(this,arguments)}function h2(t,n){return f2.apply(this,arguments)}function f2(){return f2=Zt((function(t,n){return Ht(this,(function(i){return QH(t)?[2,v2(t,n)]:[2,I2(t)]}))})),f2.apply(this,arguments)}function v2(t,n){return l2.apply(this,arguments)}function l2(){return l2=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return[4,w2(s2(t.yN,t.JBt),n)];case 1:return i=e.sent(),[4,g2(t.JBt,n)];case 2:return r=e.sent(),i.push(r),[2,{ct:d2(i),pee:[t.Pyt],Lpt:[{mee:i}]}]}}))})),l2.apply(this,arguments)}function d2(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].Z;r<e.length;r++){var u,s=e[r];n=(u=A).max.apply(u,[n].concat(Ut(s.IC.map((function(t){return t.NL.ct})))))}return n}function g2(t,n){return m2.apply(this,arguments)}function m2(){return m2=Zt((function(t,n){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:i=[],r=0,h.label=1;case 1:return r<t.length?[4,S2((e=t[r]).Pyt,n)]:[3,4];case 2:(o=h.sent()).wG=e.wG,o.vp=e.Zrt?function(t){return[t.sPt,t.rPt,t.pBt].filter(Yn).join(",")}(e.Zrt):"",o.Ti=null!=(a=null==(u=e.zCt)?void 0:u.Ti)?a:0,o.ji=null!=(c=null==(s=e.zCt)?void 0:s.ji)?c:0,i.push(o),h.label=3;case 3:return r++,[3,1];case 4:return[2,{Aw:im.tE,Z:[{gs:vF,Aw:im.tE,IC:i}]}]}}))})),m2.apply(this,arguments)}function w2(t,n){return p2.apply(this,arguments)}function p2(){return p2=Zt((function(t,n){var i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:i=[],r=t.entries(),e=r.next(),a.label=1;case 1:return e.done?[3,4]:(u=nn(e.value,2),s=u[0],[4,y2(u[1],s,n)]);case 2:o=a.sent(),i.push(o),a.label=3;case 3:return e=r.next(),[3,1];case 4:return[2,i]}}))})),p2.apply(this,arguments)}function y2(t,n,i){return _2.apply(this,arguments)}function _2(){return _2=Zt((function(t,n,i){var r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:r=[],e=t.entries(),u=e.next(),a.label=1;case 1:return u.done?[3,4]:(s=nn(u.value,2),[4,b2(s[1],i)]);case 2:o=a.sent(),r.push(o),a.label=3;case 3:return u=e.next(),[3,1];case 4:return[2,{Aw:A2(n),Z:r}]}}))})),_2.apply(this,arguments)}function b2(t,n){return k2.apply(this,arguments)}function k2(){return k2=Zt((function(t,n){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:i=[],r=t[0].cLt,e=0,s.label=1;case 1:return e<t.length?[4,T2(t[e],n)]:[3,4];case 2:u=s.sent(),i.push(u),s.label=3;case 3:return e++,[3,1];case 4:return[2,{gs:r.gs||vF,Aw:A2(r.Aw),IC:i}]}}))})),k2.apply(this,arguments)}function A2(t){switch(t){case tz.fE:return im.fE;case tz._E:return im._E;case tz.jV:case tz.eBt:return im.Ak;default:return im.tE}}function T2(t,n){var i=function(t){var n=t.cLt.Pyt,i=t.LLt.map((function(t){return t.Pyt}));return n||(i.length?i[0]:void 0)}(t);return S2(i,n)}function S2(t,n){return E2.apply(this,arguments)}function E2(){return E2=Zt((function(t,n){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i={ct:0,Ert:[]},t?[4,a2(t,n)]:[3,2];case 1:$H(r=e.sent())&&(i=R2(r)),e.label=2;case 2:return[2,{o:t||"default",wee:t,NL:i,wG:0,vp:"",Ti:0,Aw:im.tE,ji:0}]}}))})),E2.apply(this,arguments)}function I2(t){var n=R2(t);return{ct:n.ct,pee:[t.Pyt],Lpt:[{mee:[{Aw:im.tE,Z:[{Aw:im.tE,gs:vF,IC:[{o:t.Pyt,NL:n,wG:0,vp:"",Ti:0,Aw:im.tE,ji:0}]}]}]}]}}function R2(t){for(var n,i=[],r=0,e=0,u=t.Ert;e<u.length;e++){var s=u[e],o=r;!s.iOt||void 0!==n&&sz(s.iOt.Pyt,n)||(i.push(C2(s.iOt,o)),n=s.iOt.Pyt),i.push(N2(s,o)),r+=s.ct}return{ct:r,Ert:i}}function C2(t,n){return{FO:n,ct:0,gee:x2(t.Pyt)}}function N2(t,n){return{FO:n,ct:t.ct,gee:x2(t.Pyt)}}function x2(t){return{Gu:t.Dx,rut:t.hAt?[t.hAt.Cn,t.hAt.Cn+t.hAt.V]:void 0,kE:!1}}U(),St(),Gt(),rn(),Wt(),Jt(),U(),St();var D2=function(){function t(t,n,i){this.iTt=t,this.dlt=n,this.See=i}var n=t.prototype;return n.yee=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(!t.src)throw new y("Invalid typed source");return tT(i=t.type)?[4,n.bee(t)]:[3,2];case 1:case 3:return[2,r.sent()];case 2:return $A(i)?[4,n.Aee(t)]:[3,4];case 4:throw new y("Unexpected source type");case 5:return[2]}}))}))()},n.bee=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,a2(t.src,n.iTt)];case 1:return[4,h2(i.sent(),n.iTt)];case 2:return[2,i.sent()];case 3:throw i.sent(),new y("Unable to fetch HLS manifest");case 4:return[2]}}))}))()},n.Aee=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,(i=new GW({OC:qn.Nh(t.src),LSt:t.liveOffset,WSt:t.timeServer,kE:t.useCredentials},n.See,pd.DE,n.iTt,t.dash)).W];case 1:return r.sent(),[4,Z1(i.Pr.hdt,t.contentProtection,n.dlt)];case 2:return[2,r.sent()];case 3:throw r.sent(),new y("Unable to fetch DASH manifest");case 4:return[2]}}))}))()},t}();U(),St(),Gt(),Jt();var P2=function(){function t(t){this.kee=[],this.Ree=0,this.Iee=t}var n=t.prototype;return n.Tee=function(){var t=new Yc;return this.kee.push(t),this.Eee(),t.Vb},n.xee=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,,2,3]),[4,t];case 1:return r.sent(),[3,3];case 2:return i.Ree-=1,i.Eee(),0===i.kee.length&&0===i.Ree&&n.Ob(!0),[7];case 3:return[2]}}))}))()},n.Eee=function(){this.kee.length>0&&this.Ree<this.Iee&&(this.kee.shift().Ob(),this.Ree+=1)},t}();var M2=function(t){function n(n,i,r,e,u,s,o,a){var c;(c=t.call(this)||this).DEFAULT_CACHING_SEGMENT_TIMEOUT=3e4,c.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT=0,c.Xee=new Yc,c.Mee=F1._ee,c._Tt=n,c.krt=i,c.iTt=r,c.Fee=e,c.vct=u,c.dlt=s,c.See=a,c.$te=o,c.Pee=-1;var h=c._Tt.xc.sources[0];return c.Cee=h,c.po=c.SI(),c.Hee=new P2(c._Tt.mT.parallelTasksThreshold),c}Rt(n,t);var i=n.prototype;return i.SI=function(){var t=this;return Zt((function(){var n,i,r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,_,b,k,T,E,I,R,C;return Ht(this,(function(N){switch(N.label){case 0:return[4,new D2(t.iTt,t.dlt,t.See).yee(t.Cee)];case 1:return t.tPt=N.sent(),n=t._Tt.mT.amount,i=t.tPt.ct,r=function(t,n){if(ni(t)){if(js(t,"%"))return S(t)/100*n;throw new y("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}(n,i),t.hee=r,u=DB(t.tPt.pee[0]),[4,t.krt.xrt.prt(u,"manifestURL")];case 2:for(s=N.sent().filter((function(n){return Ao(n.references,t._Tt.o)})),o=[],a=t._Tt.mT.bandwidth,c=0,h=t.tPt.Lpt;c<h.length;c++)for(f=h[c],v=0,l=f.mee;v<l.length;v++)for(d=l[v],g=0,m=L2(d,t._Tt.mT.preferredTrackSelection);g<m.length;g++)for(w=m[g],p=0,_=V2(w.IC,a);p<_.length;p++)b=_[p],o.push(b);if(t.Pee=A.ceil(o.map((function(t){return t.wG*function(t,n){for(var i=0,r=0,e=t.NL.Ert.map((function(t){return t.ct}));r<e.length;r++)if((i+=e[r])>=n)return i;return i}(t,r)/8})).reduce((function(t,n){return t+n}),0)),k=os(),s&&0!==s.length){for(T=function(n){var i=s[n],r=i.qualityId,e=new MA(i.startsAndEnds);if(k.has(r))k.get(r).timeRanges=k.get(r).timeRanges.JL(e).QL(5e-4);else{var u,a=go(o,(function(t){return t.o===r})),c=A.min(t.hee,null!=(u=null==a?void 0:a.NL.ct)?u:1/0);k.set(r,{timeRanges:e,totalQualityDurationToCache:c})}},E=s.reduce((function(t,n){return t+n.byteSize}),0),I=0;I<s.length;I++)T(I);e=new F1(E,k,t.hee)}else{for(R=0;R<o.length;R++)C=o[R],k.set(C.o,{timeRanges:MA.mB(),totalQualityDurationToCache:A.min(C.NL.ct,t.hee)});e=new F1(0,k,t.hee)}return t.Dee=e,[2]}}))}))()},i.pi=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.po];case 1:return i.sent(),[4,n.Lee(n.tPt,t)];case 2:return i.sent(),[2]}}))}))()},i.Lee=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(!t.pee)throw new y("Unexpected - manifest is missing locations");return[4,i.Bee()];case 1:for(o.sent(),r=[],e=0,u=t.Lpt;e<u.length;e++)s=u[e],r.push(i.Oee(s,t.pee[0],n));return[2,na(r)]}}))}))()},i.Bee=function(){var t=this;return Zt((function(){var n,i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,t.Fee.mrt()];case 1:n=s.sent(),i=0,s.label=2;case 2:return i<n.length?(r=n[i],[4,t.krt.Rrt.Nb(r.key)]):[3,9];case 3:return(e=s.sent())?[4,B2(e,t._Tt.o,t.krt.Rrt,t.$te)]:[3,5];case 4:return s.sent(),[3,8];case 5:return s.trys.push([5,7,,8]),[4,t.krt.Rrt.frt(r,t.$te)];case 6:return s.sent(),[3,8];case 7:throw u=s.sent(),new W1("Unable to store manifest with url: "+r.locationURL,u);case 8:return i++,[3,2];case 9:return[4,t.Fee.yrt()];case 10:return s.sent(),[2]}}))}))()},i.Oee=function(t,n,i){for(var r=[],e=0,u=t.mee;e<u.length;e++)for(var s=L2(u[e],this._Tt.mT.preferredTrackSelection),o=0;o<s.length;o++){var a=s[o];r.push(this.Vee(a,n,i))}return na(r)},i.Vee=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return e=r._Tt.mT.bandwidth,u=V2(t.IC,e),t.Aw===im._E&&t.ept&&t.ept.rU.widevine&&"persistent"===t.ept.rU.widevine.licenseType?[4,r.Wee(t.ept)]:[3,2];case 1:c.sent(),jo(i),c.label=2;case 2:for(s=[],o=0;o<u.length;o++)a=u[o],s.push(r.Uee(a,n,i));return[2,na(s)]}}))}))()},i.Uee=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:jo(i),e=t.NL.Ert[0].FO,u=e+r.hee,s=[],o=!1,a=0,c=t.NL.Ert,f.label=1;case 1:return a<c.length?(h=c[a]).FO>=u||r.stopIfFailed(o)?[3,5]:[4,r.Gee(i)]:[3,5];case 2:return f.sent(),[4,r.Hee.Tee()];case 3:f.sent(),s.push(r.Hee.xee(r.Zee(h,t,n),r.Xee).catch((function(t){return o=!0,ut.reject(t)}))),f.label=4;case 4:return a++,[3,1];case 5:return[2,na(s)]}}))}))()},i.Gee=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return(null==t?void 0:t.Bw)?[4,n.Xee.Vb]:[3,2];case 1:throw i.sent(),new Uo;case 2:return[2]}}))}))()},i.zee=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.po.catch(Ti)];case 1:return n.sent(),[2,t.tPt]}}))}))()},i.Wee=function(t){return ut.resolve()},i.qee=function(){return qn.Op("License renewal unsupported in this SDK."),ut.resolve()},i.Zee=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return e=r.krt.xrt,u=PB(t.gee.Gu,t.gee.rut),[4,e.Nb(u)];case 1:return(s=v.sent())?[4,B2(s,r._Tt.o,e,r.$te)]:[3,3];case 2:return v.sent(),r.Yee(s,!1),[3,7];case 3:return v.trys.push([3,6,,7]),[4,r.Kee(t.gee)];case 4:return o=v.sent(),a=r.jee(t,n,i,o),c=a.segmentMetadataEntry,h=a.segmentEntry,[4,r.krt.Trt(Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.xrt.frt(c,r.$te)];case 1:return n.sent(),[4,t.Ert.frt(h,r.$te)];case 2:return n.sent(),[2]}}))})))];case 5:return v.sent(),r.Yee(c,!0),[3,7];case 6:throw f=v.sent(),new W1("Unable to store segment with url: "+t.gee.Gu,f);case 7:return[2]}}))}))()},i.Kee=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.vct.$at(t,{hut:n.DEFAULT_CACHING_SEGMENT_TIMEOUT,AE:n.DEFAULT_CACHING_SEGMENT_CONNECTION_TIMEOUT})];case 1:return i=r.sent(),[4,n.mct(i)];case 2:return[2,r.sent()]}}))}))()},i.mct=function(t){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.Ck()];case 1:return[2,{buffer:n.sent()}]}}))}))()},i.jee=function(t,n,i,r){var e=PB(t.gee.Gu,t.gee.rut),u=t.FO,s=t.ct,o=this.Qee(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:DB(i),qualityId:n.o,byteSize:o,startsAndEnds:new MA([u,u+s]).WL,references:[this._Tt.o]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:DB(i),data:r,references:[this._Tt.o]}}},i.Qee=function(t){return t.buffer.byteLength},i.Yee=function(t,n){var i=t.qualityId,r=this.Mee,e=r.AO;e.get(i).timeRanges=e.get(i).timeRanges.JL(new MA(t.startsAndEnds)).QL(5e-4),this.Dee=new F1(n?r.aee+t.byteSize:r.aee,e,this.hee)},i.stopIfFailed=function(t){return!1},xt(n,[{key:"iee",get:function(){return this.SI()}},{key:"Nee",get:function(){return this.Pee}},{key:"Dee",get:function(){return this.Mee},set:function(t){this.Mee.eF(t)||(this.Mee=t,t.eF(F1._ee)||this.wo(new U1))}}]),n}(oa);function B2(t,n,i,r){return O2.apply(this,arguments)}function O2(){return O2=Zt((function(t,n,i,r){return Ht(this,(function(e){switch(e.label){case 0:return Ao(t.references,n)?[3,2]:(t.references.push(n),[4,i.frt(t,r)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))})),O2.apply(this,arguments)}function L2(t,n){switch(t.Aw){case im.fE:return F2(t.Z,n.audioTrackSelection);case im.Ak:return F2(t.Z,n.textTrackSelection);default:return F2(t.Z,[])}}function F2(t,n){if(0===n.length)return t.length?[t[0]]:[];for(var i=[],r=0;r<t.length;r++){var e=t[r];n.indexOf(e.gs)>-1&&i.push(e)}return i}function V2(t,n){if(!t.length)return[];var i=Ut(t).sort(yL),r=i.filter((function(t){return t.wG<=n}));return r.length>0?[r.pop()]:[i.shift()]}var U2=function(){function t(t,n,i){this._Tt=t,this.krt=n,this.tPt=i}var n=t.prototype;return n.Jee=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.krt.Trt(Zt((function(n){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.$ee(n)];case 1:return i.sent(),[4,t.tie(n)];case 2:return i.sent(),[4,t.eie(n)];case 3:return i.sent(),[4,t.iie(n)];case 4:return i.sent(),[2]}}))})))];case 1:return n.sent(),[2]}}))}))()},n.$ee=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return i=t.Irt,r=n._Tt.o,[4,i.$S(r)];case 1:return e.sent(),[2]}}))}))()},n.tie=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return i=t.xrt,r=t.Ert,oT(e=n._Tt.xc.sources[0])?(u=DB(e.src),[4,i.prt(u,"manifestURL")]):[2];case 1:s=c.sent().filter((function(t){return Ao(t.references,n._Tt.o)})),o=0,c.label=2;case 2:return o<s.length?(_o((a=s[o]).references,n._Tt.o),0!==a.references.length?[3,5]:[4,i.$S(a.key)]):[3,8];case 3:return c.sent(),[4,r.$S(a.key)];case 4:return c.sent(),[3,7];case 5:return[4,i.frt(a)];case 6:c.sent(),c.label=7;case 7:return o++,[3,2];case 8:return[2]}}))}))()},n.eie=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return i=t.Rrt,r=n.sie(),[4,i.rrt(r)];case 1:e=o.sent().filter((function(t){return Ao(t.references,n._Tt.o)})),u=0,o.label=2;case 2:return u<e.length?(_o((s=e[u]).references,n._Tt.o),0!==s.references.length?[3,4]:[4,i.$S(s.key)]):[3,7];case 3:return o.sent(),[3,6];case 4:return[4,i.frt(s)];case 5:o.sent(),o.label=6;case 6:return u++,[3,2];case 7:return[2]}}))}))()},n.sie=function(){if(!this.tPt)return[];var t=this._Tt.xc.sources[0];if(!oT(t))return[];var n=DB(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,r=t.Lpt;i<r.length;i++)for(var e=0,u=r[i].mee;e<u.length;e++)for(var s=0,o=u[e].Z;s<o.length;s++)for(var a=0,c=o[s].IC;a<c.length;a++){var h=c[a];h.wee&&n.push(h.wee)}return function(t){return t.reduce((function(t,n){return t.indexOf(n)<0&&t.push(n),t}),[])}(n)}(this.tPt).map((function(t){return{src:t}})).map((function(t){return DB(t.src)}));return[n].concat(Ut(i))},n.iie=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,(i=t.Crt).mrt()];case 1:r=s.sent().filter((function(t){return Ao(t.references,n._Tt.o)})),e=0,s.label=2;case 2:return e<r.length?(_o((u=r[e]).references,n._Tt.o),0!==u.references.length?[3,4]:[4,i.$S(u.key)]):[3,7];case 3:return s.sent(),n.nie(u),[3,6];case 4:return[4,i.frt(u)];case 5:s.sent(),s.label=6;case 6:return e++,[3,2];case 7:return[2]}}))}))()},n.nie=function(t){},t}(),W2=function(){function t(){}return t.prototype.fit=function(t,n,i){return new U2(t,n,i)},t}(),j2=new W2;U(),St(),Gt(),Dt(),Jt(),U(),St();var Z2=function(){function t(t,n){this.tx=t,this.hie=n}var n=t.prototype;return n.rie=function(t){this.oie(t)},n.oie=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,n.hie.qee(t)];case 1:return i.sent(),[3,3];case 2:return i.sent(),n.tx.yat(C1.ERROR),[3,3];case 3:return[2]}}))}))()},xt(t,[{key:"ka",get:function(){return this.su||(this.su=function(t){return{renew:function(n){t.rie(n)}}}(this)),this.su}}]),t}(),X2=function(t){function n(n,i,r,e,u,s){var o;(o=t.call(this)||this).gie=new Jo,o.evictOnLoading=function(){o.fn("uat",o.evictOnLoading),o.pie()},o.ZS=n,o.Cc=i,o._ie=r,o.krt=e,o.hie=u.fit(o,o.krt,s),o.fie=new Z2(o,o.hie),o.wat=1===o.hie.Dee.dee?C1.DONE:C1.IDLE,o.hie.yn("F2t",(function(t){o.Ds(t),1===o.cie&&o.yat(C1.DONE)}));var a=new Date,c=o._ie.expirationDate.getTime()-a.getTime();return function(t){return t<2147483647}(c)&&g((function(){return o.pie()}),c),o}Rt(n,t);var i=n.prototype;return i.yat=function(t){this.wat!==t&&(this.wat=t,this.wo(new I1))},i.Cn=function(){this.wat===C1.EVICTED||this.wat===C1.DONE||this.mie()},i.mie=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),t.yat(C1.LOADING),n=new Jo,t.gie=n,[4,t.hie.pi(n.Vw)];case 1:return i.sent(),t.yat(C1.DONE),[3,4];case 2:return Wo(i.sent())?t.yat(C1.IDLE):t.yat(C1.ERROR),[3,4];case 3:return t.gie.Hw(),[7];case 4:return[2]}}))}))()},i.TI=function(){this.gie.Yw()},i.$S=function(){this.zk===C1.LOADING?(this.yn("uat",this.evictOnLoading),this.TI()):this.pie()},i.pie=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,t.hie.zee()];case 1:return n=i.sent(),[4,j2.fit(t,t.krt,n).Jee()];case 2:return i.sent(),t.hie.Dee=F1._ee,t.yat(C1.EVICTED),[3,4];case 3:return i.sent(),t.yat(C1.ERROR),[3,4];case 4:return[2]}}))}))()},xt(n,[{key:"iee",get:function(){return this.hie.iee}},{key:"ka",get:function(){return this.su||(this.su=function(t){var n,i={get id(){return t.o},get status(){return t.zk},get source(){return t.xc},get parameters(){return t.mT},get duration(){return t.ct},get cached(){return t.aie.ks()},get secondsCached(){return t.uie},get percentageCached(){return t.cie},get bytes(){return t.lie},get bytesCached(){return t.die},get license(){return t.$q.ka},start:function(){t.Cn()},pause:function(){t.TI()},remove:function(){t.$S()},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new dR(t,["F2t","uat"],i),i}(this)),this.su}},{key:"o",get:function(){return this.ZS}},{key:"$q",get:function(){return this.fie}},{key:"zk",get:function(){return this.wat}},{key:"xc",get:function(){return this.Cc}},{key:"mT",get:function(){return this._ie}},{key:"ct",get:function(){return this.hie.Dee.fB}},{key:"aie",get:function(){return this.hie.Dee.lee}},{key:"uie",get:function(){return this.hie.Dee.cee}},{key:"cie",get:function(){return this.hie.Dee.dee}},{key:"lie",get:function(){return this.hie.Nee}},{key:"die",get:function(){return this.hie.Dee.aee}}]),n}(ca);var G2=function(){function t(t,n){this.krt=t,this.wie=n}var n=t.prototype;return n.nee=function(t,n,i){var r=JE();return this.Qte(r,t,n,i)},n.Qte=function(t,n,i,r){return new X2(t,n,i,this.krt,this.wie,r)},t}();U(),St();var H2=30,z2=5;function Y2(t){if(!t)throw new y("Unexpected - The cache parameters are undefined");var n=function(t){if(ni(t)&&!js(t,"%"))return T(t);return t}(t.amount);!function(t){if(function(t){return ni(t)&&js(t,"%")}(t)){var n=S(t);if(E(n)||n<0||n>100)throw new y("The amount as percentage must be between 0 and 100 percent.")}if(!ni(t)&&E(t))throw new y("The amount must be a number or a string")}(n);var i=function(t){if(!t)return function(){var t=new Date;return t.setMinutes(t.getMinutes()+H2),t}();return t}(t.expirationDate);!function(t){if(t&&!function(t){return!t||ei(t)&&t>new Date}(t))throw new y("Invalid expiration date for the cache parameters")}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);!function(t){if(E(t)||t<0)throw new y("The bandwidth must be between zero and infinity.")}(r);var e=function(t){if(!t)return z2;if(E(t))throw new y("The amount must be a number");return t}(t.numberOfParallelTasks);return{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:e,preferredTrackSelection:{audioTrackSelection:[],textTrackSelection:[]}}}var K2=function(){function t(t,n,i,r){var e=this,u=this;this.Tie=[],this.bie=0,this.Aie=0,this.h7t=Zt((function(){var t;return Ht(this,(function(n){switch(n.label){case 0:return(t=u.Q4t())?[4,u.xZt(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))})),this.c7t=function(){var t=e.Tie.shift();null==t||t.$S()},this.Eie=Zt((function(t,n){var i;return Ht(this,(function(r){switch(r.label){case 0:i=!1,r.label=1;case 1:return i?[3,3]:[4,t.vy("F2t")];case 2:return r.sent(),i=1===t.Dee.dee,[3,1];case 3:return n.ct<5&&u.h7t(),[2]}}))})),this.kQ=t,this.lW=n,this.WT=new Jo,this.wie=i,this.vZ=r,this.krt=new XB}var n=t.prototype;return n.Q4t=function(){if(this.yie)for(var t=this.yie.WJt;this.bie<t.length;){var n=t[this.bie];for(void 0===this.Sie&&(this.Sie=t$(n),this.Aie=0);this.Aie<this.Sie.length;){var i=this.Sie[this.Aie];if(this.Aie++,void 0!==i.Yqt)return i.Yqt}this.bie++,this.Sie=void 0}},n.er=function(){for(this.R7t=void 0,this.WT.Yw(),this.WT=new Jo;this.Tie.length;)this.c7t()},n.kie=function(t){return new L1(this.krt.Irt,t,"temporary")},n.xZt=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:return(i=p1(t.vKt,n.kQ.ads.allowedMimeTypes)).length?[4,$T.Fg.jH(i,gE({sources:i}))]:[2];case 1:return(r=c.sent()).t.FH()?(n.hie||(n.hie=new n.wie(n.lW)),e=n.krt,u=new G2(e,n.hie),s=n.kie(u),o=s.Qte(gE({sources:r.xc}),Y2({amount:10,bandwidth:Ck.Fg.aG()||n.vZ.xj}),"temporary"),n.Tie.push(o),a=n.hie.fit(o,e,"temporary"),n.WT.Yw(),n.WT=new Jo,Ho(a.pi(n.WT.Vw),n.WT).then(Ti),n.Eie(a,t),[2]):[2]}}))}))()},xt(t,[{key:"R7t",get:function(){return this.yie},set:function(t){this.yie=t,this.bie=0,this.Aie=0,this.Sie=void 0}}]),t}();U(),St(),Ct(),U(),St(),Gt(),Ct(),Jt();var q2={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new MA([0,0]).WL,references:[]},J2={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},Q2=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n)||this).xie=new EL(i),s.krt=r,s.Iie=e,s.$te=u,s}Rt(n,t);var i=n.prototype;return i.Clt=function(n,i,r,e){var u=this;return Zt((function(){var s;return Ht(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.prototype.Clt.call(u,n,i,r,e)];case 1:return[2,o.sent()];case 2:return Zo(o.sent()),[3,3];case 3:return[4,u.xie.Clt(n,i,r,e)];case 4:return s=o.sent(),[4,u.Rie(n,i,s)];case 5:return o.sent(),[2,s]}}))}))()},i.Rie=function(t,i,r){var e=this;return Zt((function(){var u,s,o,a,c,h,f,v;return Ht(this,(function(l){switch(l.label){case 0:return void 0===e.Iie?[2]:(u=e.krt.xrt,s=PB(t,i),[4,u.Nb(s)]);case 1:return(o=l.sent())?[4,B2(o,e.Iie,u,e.$te)]:[3,3];case 2:case 4:return l.sent(),[3,6];case 3:return l.trys.push([3,5,,6]),a={buffer:r},c=n.jee(s,a,e.Iie),h=c.segmentMetadataEntry,f=c.segmentEntry,[4,e.krt.Trt(Zt((function(t){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.xrt.frt(h,e.$te)];case 1:return n.sent(),[4,t.Ert.frt(f,e.$te)];case 2:return n.sent(),[2]}}))})))];case 5:throw v=l.sent(),new W1("Unable to store segment with url: "+t,v);case 6:return[2]}}))}))()},n.jee=function(t,n,i){return{segmentMetadataEntry:us({},q2,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:us({},J2,{key:t,segmentURLsegmentByteRange:t,data:n,references:[i]})}},n}(IL);var $2=function(){function t(t){this.lW=t}return t.prototype.fit=function(t,n,i){void 0===i&&(i="persistent");var r=t.xc.sources[0];if(rT(r))throw new y("Caching THEOlive sources is not supported");var e=Boolean(r.useCredentials),u=new NO(this.lW,dd.tE),s=new sj(this.lW,e),o=new MB(n.Rrt,n.xrt,n.Ert,n.Crt),a=function(t,n,i,r,e){return new Q2(n,t,i,r,e)}(this.lW,o,n,t.o,i),c=new ZB,h=new fj(hj(s,o),c,t);return this.Cie(t,n,h,c,u,a,i)},t}(),t3=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.Cie=function(t,n,i,r,e,u,s){return new M2(t,n,i,r,e,u,s,JB())},n}($2),n3=t3,i3=function(t){function n(n,i,r,e,u,s){var o,a;o=t.call(this,n,i)||this,a=o,o.Oie=[],o.Bie=0,o.tse=[],o.Gie=!1,o.O9=!1,o.Vie=!0,o.Pie=[],o.sse=function(t){t.type===fa.ro&&o.Vie?o.Vie=!1:o.wo(t)},o.Mie=function(){o.O9=!0},o.nse=Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return a.Bie=1,[4,a.Die.j7t()];case 1:return t.sent(),[2,a.rte(a.qie.Ic())]}}))})),o.rse=Zt((function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:return n=new JJ(QJ.PLAYBACK,$J.GENERAL_LINEAR_ERROR,"There was a problem playing a linear ad."),a.$1t.wo(q$.n2t(n,t)),[4,a.Die.j7t()];case 1:return i.sent(),[2,a.rte(a.qie.Ic())]}}))})),o.ose=function(){return o.yte.j7t(),o.rte(o.qie.Ic())},o.hse=function(t){var n=new JJ(QJ.PLAYBACK,$J.GENERAL_NON_LINEAR_ERROR,"There was a problem playing a non linear ad.");return o.$1t.wo(q$.n2t(n,t)),o.yte.j7t(),o.rte(o.qie.Ic())},o.lW=s,o.Z7t=r,o.yte=new S1(o.hse,o.ose,o),o.Die=new A1(o.rse,o.nse,o.yte,e,o,n.Lu,r),o.ese(o.yte.I7t),o.ese(o.Die.I7t);var c=new K2(e,s,t3,u);return o.Lie=new l1(o.ea,o,o.$1t,c),o.Die.iy(o.sse),o.yte.iy(o.Ds),o.$1t.nu(o.Die.$1t),o.$1t.nu(o.yte.$1t),o.$1t.nu(o.Lie),o.ise=new r$(o,o.ea),o.Lu.yn(mI.pn,o.Ds),o.ea.yn(fa.ro,o.Mie),o}Rt(n,t);var i=n.prototype;return i.d8t=function(t,n,i){n===XM.Xst&&this.O9?ta(this.K4t([t])):this.Pie.push(t)},i.kR=function(){return this.Die.G7t?this.Die.SR:this.mst()},i.ER=function(t,n){},i.Sd=function(){return this.Die.ct},i.IR=function(){return this.Die.RR},i.PR=function(){},i.NR=function(){},i.HR=function(){return this.Die.GR},i.ZR=function(t){this.GR!==t&&(this.Die.GR=t,this.wo(new ST(this.SR,this.vI)))},i.YR=function(){return this.Die.qR},i.nI=function(){return this.Die.sI},i.oI=function(){return MA.mB().ks()},i.lI=function(){return this.Die.cI},i._I=function(){return this.Die.fI},i.mI=function(){return this.Die.vI},i.gI=function(t){this.vI!==t&&(this.Die.vI=t,this.wo(new ST(this.SR,this.vI)))},i.kI=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.Nie?[2]:(t.wo(new yT(t.SR)),t.Mie(),t.Pie.length?(t.Nie=t.K4t(t.Pie),[4,t.Nie]):[3,2]);case 1:i.sent(),t.Nie=void 0,i.label=2;case 2:return[4,t.Lie.p7t(t.ea.kR())];case 3:return i.sent(),4!==(n=t.Bie)&&1!==n&&5!==n||(!t.c$t&&t.Oie.length?t.Fie():t.c$t?(t.Vie=!0,t.Die.kI()):(t.w1t(),t.ea.kI()),t.Bie=3),[2]}}))}))()},i.TI=function(){3===this.Bie&&(this.Die.TI(),this.Bie=4)},i.o7t=function(){this.Lie.o7t()},i.Cn=function(){this.Bie=1,this.Lie.Cn()},i.EI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Lie&&(t.Lie.jn(),t.Wie(!1),t.yte.EI(),t.Bie=5,t.c$t&&(t.Lie.x7t(t.c$t.Ijt),t.c$t=void 0)),t.O9=!1,t.Vie=!1,So(t.Oie),t.u2t&&(t.w1t(),t.ea.ge()),So(t.Pie),[4,t.Die.EI()];case 1:return n.sent(),[4,t.Z7t.er()];case 2:return n.sent(),[2]}}))}))()},i.DD=function(){this.Die.BQt(),this.yte.BQt()},i.SI=function(){this.Z7t.SI(),this.Mie()},i.i2t=function(t){return!(t.type!==fa.Cy||!this.Lie||!this.Lie.v7t(-1))&&(this.Lie.f7t().then(Ti),!0)},i.ge=function(){void 0!==this.Die.X7t&&(this.Z7t.ge(),this.Die.ge()),void 0!==this.yte.kte&&this.yte.ge()},i.be=function(){this.Z7t.be(),this.Die.be(),this.yte.be()},i.K4t=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,E1.Vte(t,n.lW,n.$1t)];case 1:return(i=r.sent()).length?(n.Lie.k7t(i),n.$1t.wo(new fB),n.u2t||n.ea.qR||n.Lie.p7t(n.ea.kR()),0!==n.Bie&&5!==n.Bie||n.Cn(),[2]):("Ads could not be loaded.",n.$1t.wo(q$.n2t(new JJ(QJ.ADBLOCK,$J.FILE_NOT_FOUND),"Ads could not be loaded.")),n.O9&&!n.c$t&&0===n.Oie.length&&n.Uie(),[2])}}))}))()},i.A7t=function(t){var n;(n=this.Oie).push.apply(n,Ut(t));for(var i=0;i<t.length;i++){t[i];this.O9&&!this.u2t&&this.Fie()}},i.Fie=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return 2===t.Bie?[2]:t.Gie?[3,4]:(t.Gie=!0,t.Bie=2,n=t.c$t,t.Hie(),t.c$t?[4,t.c$t.Ijt.i7t(t.$1t)]:[3,3]);case 1:return i.sent(),t.Zie()||(t.Gie=!1),t.$1t.wo(new l0(t.Xie(t.c$t))),[4,t.zie()];case 2:return i.sent(),[3,4];case 3:(null==n?void 0:n.Ijt.s7t())&&t.$1t.wo(new rB(t.Xie(n))),t.Gie=!1,t.Bie=1,t.Uie(),i.label=4;case 4:return[2]}}))}))()},i.Uie=function(){this.w1t(),this.ea.ge(),this.ea.RR?this.ea.wo(new kT(this.ea.kR())):this.ea.kI()},i.Hie=function(){var t;if(this.c$t&&this.Zie())t=this.c$t.Ijt;else{if(0===this.Oie.length)return;t=this.Oie.shift()}if(t){var n=t.Ic();n?this.c$t=n:(this.c$t&&(this.Lie.x7t(this.c$t.Ijt),this.c$t=void 0),this.c$t=void 0)}},i.zie=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return n=t.c$t?function(t){var n,i,r=null==(i=t.iQt)||null==(n=i.Dqt)?void 0:n.Nqt();return void 0===r?void 0:new $Q(r)}(t.c$t):void 0,n?t.c$t?(t.qie=n,t.Yie(t.c$t.eYt),t.Kie(BJ.jKt),i=t.qie.Ic(),t.c$t.Ijt.s7t()&&(t.yte.j7t(),1===t.c$t.Ijt.Hut&&t.$1t.wo(new uB(t.Xie(t.c$t)))),[4,t.rte(i)]):[2]:[3,2];case 1:return r.sent(),[3,3];case 2:t.Bie=1,t.Gie=!1,t.c$t=void 0,t.Fie(),r.label=3;case 3:return[2]}}))}))()},i.rte=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d,g,m;return Ht(this,(function(w){switch(w.label){case 0:return t?(r=Yn(t.Yqt),e=Yn(t.Qqt),s=null!=(u=null==(i=t.jqt)?void 0:i.bYt)?u:[],o=s.length>0,a=n.c$t,c=n.Xie(a),t.Yqt?(t.Yqt.td=a,void 0!==a.lnt.skipOffset&&void 0!==(h=aQ.$jt(a.lnt.skipOffset,t.Yqt.ct))&&h<t.Yqt.ct&&(t.Yqt.pKt=h),f=c.UJt(t.Yqt,s,t.Jqt,a.lnt),n.yte.j7t(),n.A3t(),[4,n.Die.rte(f,t.lt,{width:n.ea.we.offsetWidth,height:n.ea.we.offsetHeight})]):[3,2]):[3,7];case 1:w.sent(),r=!0,w.label=2;case 2:return t.Qqt?((v=t.Qqt.$qt[0]).td=a,void 0!==a.lnt.skipOffset&&(l=aQ.$jt(a.lnt.skipOffset,n.ea.Sd()))&&(v.td.pKt=l),d=r?[]:s,g=c.GJt(v,d,t.Qqt,t.Jqt,a.lnt),r&&n.Die.Ate(),[4,n.yte.rte(g,t.lt,{width:n.ea.we.offsetWidth,height:n.ea.we.offsetHeight})]):[3,4];case 3:w.sent(),e=!0,w.label=4;case 4:return r&&(n.Bie=3,n.Die.ge(),m=0===c.YBt,n.Vie=m,n.Z7t.TI(),n.Die.kI(),n.ea.TI(),n.ea.be(),n.A3t(),n.Die.vte()),e&&(n.Bie=3,n.yte.ge(),n.yte.vte()),(r||e||o)&&n.jie(t.Xqt),r||e?[3,6]:[4,n.Qie()];case 5:w.sent(),w.label=6;case 6:return!r&&e&&(n.Zie()||n.Oie.length>0?n.Fie():(n.Uie(),n.c$t=a)),[3,10];case 7:return null!==t?[3,9]:[4,n.Qie()];case 8:return w.sent(),[3,10];case 9:n.Wie(!0),w.label=10;case 10:return[2]}}))}))()},i.Qie=function(){var t=this.qie;return this.rte(t&&t.Ic())},i.Wie=function(t){this.Kie(BJ.QKt),this.Jie(),this.Bie=1;var n=void 0!==this.c$t&&this.c$t.Ijt.t7t();if(this.Gie=!1,n)t&&(this.Bie=1,this.Fie());else{if(!this.u2t)return;this.ea.ge(),!this.ea.RR&&t&&this.ea.kI(),this.w1t()}},i.w1t=function(){this.$ie(),t.prototype.w1t.call(this)},i.$ie=function(){if(this.ea.RR&&(this.Bie=5),this.c$t){var t=this.c$t.Ijt;t.s7t()&&this.$1t.wo(new rB(this.Xie(this.c$t))),this.Lie.x7t(t),this.c$t=void 0}},i.Yie=function(t){this.tse=this.tse.concat(t)},i.Jie=function(){this.tse=[]},i.ese=function(t){this.ea.we.appendChild(t)},i.Kie=function(t){for(var n=0,i=this.tse;n<i.length;n++){var r=i[n];r.FX===t&&sJ(r.eventURL)}},i.jie=function(t){this.Die.O7t(BJ.HKt);for(var n=0;n<t.length;n++){var i=t[n];sJ(i)}},i.$st=function(t){for(var n=this._8t(),i=0;i<n.length;i++){var r=n[i];hJ(r.sources,r.timeOffset)||t.u6(r,XM.Xst,!1)}},i._8t=function(){for(var t,n=[],i=0,r=this.qst.concat(this.jst);i<r.length;i++){var e=r[i];n.push(e.lnt)}for(var u=this.Oie.concat(this.Lie.jst.filter((function(t){return!t.zJt()}))),s=0;s<u.length;s++)for(var o=0,a=u[s].WJt;o<a.length;o++){var c=a[o];c.W||n.push(c.lnt)}return(t=n).push.apply(t,Ut(this.Pie)),Do(n)},i.Zie=function(){return!!this.c$t&&t$(this.c$t).some((function(t){return t.Yqt}))},i.Xie=function(t){return t.Ijt.Y8t},i.Fte=function(){return this.ise},i.AI=function(){return this.Z7t.AI()},i.mR=function(){return this.Z7t.mR()},i.f2t=function(t){this.Lie.f2t(t)},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.ea.fn(fa.ro,n.Mie),n.$1t.wK(n.Die.$1t),n.$1t.wK(n.yte.$1t),n.$1t.wK(n.Lie),n.Die.gn(),n.yte.gn(),[4,n.Z7t.gn()];case 2:return i.sent(),[2]}}))}))()},xt(n,[{key:"Q1t",get:function(){return this}},{key:"K1t",get:function(){return n.K1t}},{key:"Kst",get:function(){return this.c$t?this.Xie(this.c$t):null}},{key:"qst",get:function(){return this.c$t?[this.Die.X7t,this.yte.kte].filter(Yn):[]}},{key:"jst",get:function(){var t=this.Oie.concat(this.Lie.jst.filter((function(t){return!t.zJt()})));return Io(t,(function(t){return t.Y8t.qc.filter((function(t){return!t.zJt()}))}))}},{key:"Qst",get:function(){return this.Lie.jst.map((function(t){return t.Y8t}))}}],[{key:"K1t",get:function(){return h$.n$t}}]),n}(E0),r3=function(){function t(){}var n=t.prototype;return n.RZ=function(t){return t&&("string"!=typeof t.integration||t.integration===ES.DEFAULT||t.integration===ES.CSAI||t.integration===ES.THEO)},n.z1t=function(t,n,i){var r=new fS(t.we,i,t.lR,t.hst,t.pI,t.dst,t.zl);return new i3(t,n,r,i,t.hst,t.lR)},n.u6=function(t,n,i,r){i.d8t(t,n,r)},n.Xz=function(t){var n=_Q(t.sources);if(n){var i={integration:ES.CSAI,sources:n};"vast"===i.sources.type&&void 0===t.timeOffset?t.timeOffset=0:"vmap"===i.sources.type&&void 0!==t.timeOffset&&Jr("Do not set timeOffset for VMAP ad sources. VMAP ads have their own offsets included.");var r=kQ(t.timeOffset);void 0!==r&&(i.timeOffset=r);var e=kQ(t.skipOffset);return void 0!==e&&(i.skipOffset=e),i}},xt(t,[{key:"X1t",get:function(){return i3.K1t}}]),t}();IS.Fg.IZ(new r3),U(),St(),U(),St(),Dt();var e3=function(){function t(t,n){this.P8t=void 0,this.I6=!1,this.Let=t;var i=v.createElement("div");i.className="theoplayer-ima-wrapper",_i(i),i.style.zIndex="10",Gn.Qs&&function(t,n){t.addEventListener(n,wi)}(i,"mousedown"),n.appendChild(i);var r=v.createElement("div");r.className="theoplayer-ima",r.style.height="100%",this.use=r,i.appendChild(r),this.f0t=i,this.P8t=new google.ima.AdDisplayContainer(this.use,this.Let)}var n=t.prototype;return n.Tj=function(){var t;this.I6||(null==(t=this.P8t)||t.initialize(),this.I6=!0)},n.dse=function(t){"linear"===t?this.f0t.style.marginTop="0px":"nonlinear"===t&&(this.f0t.style.marginTop="-45px")},n.ge=function(){this.f0t.style.opacity="1",this.f0t.style.pointerEvents=""},n.be=function(){this.f0t.style.opacity="0",this.f0t.style.pointerEvents="none"},n.Hw=function(){var t;null==(t=this.P8t)||t.destroy(),this.P8t=void 0},xt(t,[{key:"I7t",get:function(){return this.f0t}},{key:"ase",get:function(){return this.use.offsetHeight}},{key:"cse",get:function(){return this.use.offsetWidth}},{key:"lse",get:function(){return this.P8t}}]),t}();U(),St(),Gt(),Ct(),Jt(),U(),St(),Ct(),U(),St(),Dt();var u3=function(){function t(t){this.fse=t;var n=new google.ima.CompanionAdSelectionSettings;n.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.ALL,n.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.ALL,n.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,this.AYt=t.getCompanionAds(0,0,n)}return xt(t,[{key:"oKt",get:function(){return this.fse.getAdId()}},{key:"n9t",get:function(){var t=this.fse.getAdPodInfo();if(void 0!==t)try{return{w6t:t.getAdPosition(),BJt:t.getMaxDuration(),_se:t.getPodIndex(),YBt:t.getTimeOffset(),y6t:t.getTotalAds(),vse:t.getIsBumper()}}catch(t){return}}},{key:"Uqt",get:function(){return this.fse.getAdSystem()}},{key:"gse",get:function(){return this.fse.getAdvertiserName()}},{key:"PYt",get:function(){var t;return null!=(t=this.fse.getApiFramework())?t:void 0}},{key:"jqt",get:function(){return this.AYt.map((function(t){return{NYt:t.getAdSlotId(),Dk:t.getContentType(),L2t:t.getContent(),Ti:t.getHeight(),ji:t.getWidth()}}))}},{key:"Dk",get:function(){var t;return null!=(t=this.fse.getContentType())?t:void 0}},{key:"dYt",get:function(){return this.fse.getCreativeId()}},{key:"z9t",get:function(){return this.fse.getCreativeAdId()}},{key:"pse",get:function(){return this.fse.getDealId()}},{key:"ON",get:function(){return this.fse.getDescription()}},{key:"ct",get:function(){return this.fse.getDuration()}},{key:"ji",get:function(){return this.fse.getWidth()}},{key:"Ti",get:function(){return this.fse.getHeight()}},{key:"bKt",get:function(){var t;return null!=(t=this.fse.getMediaUrl())?t:void 0}},{key:"wse",get:function(){return this.fse.getMinSuggestedDuration()}},{key:"Z9t",get:function(){return this.fse.getSkipTimeOffset()}},{key:"yse",get:function(){return this.fse.getSurveyUrl()}},{key:"nH",get:function(){return this.fse.getTitle()}},{key:"G9t",get:function(){return this.fse.getTraffickingParameters()}},{key:"H9t",get:function(){return this.fse.getTraffickingParametersString()}},{key:"Jqt",get:function(){return this.fse.getUniversalAdIds().map((function(t){return{q9t:t.getAdIdRegistry(),Y9t:t.getAdIdValue()}}))}},{key:"F8t",get:function(){return this.fse.getUiElements()}},{key:"X9t",get:function(){return this.fse.getVastMediaBitrate()}},{key:"W9t",get:function(){return this.fse.getVastMediaHeight()}},{key:"V9t",get:function(){return this.fse.getVastMediaWidth()}},{key:"L9t",get:function(){return this.fse.getWrapperAdIds()}},{key:"B9t",get:function(){return this.fse.getWrapperAdSystems()}},{key:"O9t",get:function(){return this.fse.getWrapperCreativeIds()}},{key:"j6t",get:function(){return this.fse.isLinear()}}]),t}();function s3(){return[google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.AD_PROGRESS,google.ima.AdEvent.Type.AD_BUFFERING,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.INTERACTION,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED]}var o3=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Uc=[],e.Ase=function(t){t.getAd().isLinear()?e.P8t.dse("linear"):e.P8t.dse("nonlinear")},e.bse=function(){e.VJt.resize(e.P8t.cse,e.P8t.ase,google.ima.ViewMode.NORMAL)},e.forwardAdEventListener=function(t){var n=t.getAd(),i=function(t){var n;return(sn(n={},google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,P0.n5t),sn(n,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,P0.r5t),sn(n,google.ima.AdEvent.Type.CLICK,P0.o5t),sn(n,google.ima.AdEvent.Type.DURATION_CHANGE,P0.xy),sn(n,google.ima.AdEvent.Type.EXPANDED_CHANGED,P0.h5t),sn(n,google.ima.AdEvent.Type.STARTED,P0.a5t),sn(n,google.ima.AdEvent.Type.IMPRESSION,P0.u5t),sn(n,google.ima.AdEvent.Type.PAUSED,P0.CZ),sn(n,google.ima.AdEvent.Type.RESUMED,P0.c5t),sn(n,google.ima.AdEvent.Type.AD_PROGRESS,P0.l5t),sn(n,google.ima.AdEvent.Type.AD_BUFFERING,P0.d5t),sn(n,google.ima.AdEvent.Type.FIRST_QUARTILE,P0.f5t),sn(n,google.ima.AdEvent.Type.MIDPOINT,P0.OKt),sn(n,google.ima.AdEvent.Type.THIRD_QUARTILE,P0._5t),sn(n,google.ima.AdEvent.Type.COMPLETE,P0.FKt),sn(n,google.ima.AdEvent.Type.USER_CLOSE,P0.v5t),sn(n,google.ima.AdEvent.Type.LINEAR_CHANGED,P0.m5t),sn(n,google.ima.AdEvent.Type.LOADED,P0.g5t),sn(n,google.ima.AdEvent.Type.AD_CAN_PLAY,P0.p5t),sn(n,google.ima.AdEvent.Type.AD_METADATA,P0.w5t),sn(n,google.ima.AdEvent.Type.AD_BREAK_READY,P0.y5t),sn(n,google.ima.AdEvent.Type.INTERACTION,P0.b5t),sn(n,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,P0.A5t),sn(n,google.ima.AdEvent.Type.SKIPPED,P0.S5t),sn(n,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,P0.T5t),sn(n,google.ima.AdEvent.Type.LOG,P0.k5t),sn(n,google.ima.AdEvent.Type.VIEWABLE_IMPRESSION,P0.E5t),sn(n,google.ima.AdEvent.Type.VOLUME_CHANGED,P0.x5t),sn(n,google.ima.AdEvent.Type.VOLUME_MUTED,P0.R5t),n)[t]}(t.type),r={type:i,date:new Date,snt:n?e.Sse(n):void 0,U6t:L0(i,t.getAdData())};e.wo(r)},e.forwardAdErrorEventListener=function(t){e.wo({date:new Date,snt:void 0,type:M0.I5t,U6t:{b9t:U0(t.getError())}})},e.VJt=n,e.P8t=i,e.Yu=r,e.Yu.yn(mI.pn,e.bse),e.VJt.init(e.P8t.cse,e.P8t.ase,google.ima.ViewMode.NORMAL),e.VJt.addEventListener(google.ima.AdEvent.Type.LOADED,e.Ase),e.VJt.addEventListener(s3(),e.forwardAdEventListener),e.VJt.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e.forwardAdErrorEventListener),e}Rt(n,t);var i=n.prototype;return i.gI=function(t){var n;null==(n=this.VJt)||n.setVolume(t)},i.mI=function(){return this.VJt.getVolume()},i.p9t=function(){return this.VJt.getRemainingTime()},i.Hw=function(){So(this.Uc),this.Yu.fn(mI.pn,this.bse),this.VJt.removeEventListener(google.ima.AdEvent.Type.LOADED,this.Ase),this.VJt.removeEventListener(s3(),this.forwardAdEventListener),this.VJt.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.forwardAdErrorEventListener),this.VJt.destroy()},i.Cn=function(){this.VJt.start()},i.x8t=function(){this.VJt.resume()},i.TI=function(){this.VJt.pause()},i.DD=function(){this.VJt.skip()},i.EI=function(){this.VJt.stop()},i.e9t=function(){var t=this.VJt.getCurrentAd();if(t)return this.Sse(t)},i.N8t=function(){return this.VJt.getCuePoints()},i.Sse=function(t){var n=go(this.Uc,(function(n){return n.fse===t}));return n||(n=new u3(t),this.Uc.push(n)),n},i.G8t=function(t){this.VJt.updateAdsRenderingSettings(f3(t))},n}(oa);U(),St(),Dt(),Ct();var a3=function(t){function n(n,i){var r;return(r=t.call(this,"X8t")||this).kse=n,r.f0t=i,r}return Rt(n,t),n.prototype.ba=function(){return new c3(this.kse)},xt(n,[{key:"Tse",get:function(){return this.kse}},{key:"I7t",get:function(){return this.f0t}}]),n}(yg),c3=function(t){function n(n){var i;return(i=t.call(this,"adsmanagerloaded")||this).kse=n,i}return Rt(n,t),xt(n,[{key:"adsManager",get:function(){return this.kse}}]),n}(ha),h3=function(t){function n(n,i){var r;return(r=t.call(this)||this).onAdsManagerLoadedListener=function(t){if(r.Rse&&r.Ise&&r.Ese){var n,i=f3(r.Ise),e=r.Rse,u=t.getAdsManager({get currentTime(){return e.SR},get duration(){return e.ct}},i),s=new o3(u,r.xse,r.Yu);r.wo(new a3(u,r.xse.I7t)),null==(n=r.Ese)||n.Ob(s),r.Ese=void 0}},r.onAdsManagerErrorListener=function(t){var n,i={gb:t.getError().getMessage(),b6t:t.getError().getVastErrorCode(),vjt:t.getError().getErrorCode(),Aw:F0(t.getError().getType()),A6t:void 0};null==(n=r.Ese)||n.Fb(i),r.Ese=void 0},r.Yu=i,r.xse=n,r}Rt(n,t);var i=n.prototype;return i.R8t=function(){var t;null==(t=this.I8t)||t.contentComplete()},i.K4t=function(t,n,i){var r=this;return Zt((function(){var e;return Ht(this,(function(u){if(r.Ese)throw new y("Only one ImaAdsRequest can be made at a time.");if(!r.xse.lse)throw new y("AdDisplayContainer is not initialized.");return r.I8t=new google.ima.AdsLoader(r.xse.lse),r.I8t.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,r.onAdsManagerLoadedListener),r.I8t.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r.onAdsManagerErrorListener),r.Ese=new Yc,r.Rse=n,r.Ise=i,e=new google.ima.AdsRequest,t.u4t?e.adTagUrl=t.u4t:t.c4t&&(e.adsResponse=t.c4t),e.linearAdSlotWidth=t.s4t,e.linearAdSlotHeight=t.n4t,e.nonLinearAdSlotWidth=t.r4t,e.nonLinearAdSlotHeight=t.o4t,e.contentDuration=t.d4t,e.setAdWillAutoPlay(t.h4t),e.setAdWillPlayMuted(t.a4t),t.l4t&&(e.omidAccessModeRules=t.l4t),r.I8t.requestAds(e),[2,r.Ese.Vb]}))}))()},i.Hw=function(){var t;void 0!==this.I8t&&(this.I8t.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoadedListener),this.I8t.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsManagerErrorListener),this.I8t.destroy(),this.I8t=void 0),null==(t=this.Ese)||t.Fb("AdsLoader destroyed"),this.Ese=void 0},n}(oa);function f3(t){var n=new google.ima.AdsRenderingSettings;return n.enablePreloading=t.V8t,t.F8t&&(n.uiElements=t.F8t),n.mimeTypes=t.O8t,void 0!==t.U8t&&(n.playAdsAfterTime=t.U8t),void 0!==t.W8t&&(n.loadVideoTimeout=t.W8t),void 0!==t.U9t&&(n.bitrate=t.U9t),void 0!==t.U8t&&(n.playAdsAfterTime=t.U8t),n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n}U(),St(),Dt(),Ct();var v3=function(t){function n(n){var i;return(i=t.call(this)||this).ea=n,i.Cse=i.ea.kR(),i.ea.yn(fa.sb,(function(){i.ea.hI||(i.Cse=i.ea.kR()),i.wo(new pg(i.SR,void 0))})),i}return Rt(n,t),n.prototype.er=function(){this.Cse=0},xt(n,[{key:"SR",get:function(){return this.ea.hI?this.Cse:this.ea.kR()}},{key:"ct",get:function(){return this.ea.Sd()}},{key:"GR",get:function(){return this.ea.GR}},{key:"vI",get:function(){return this.ea.vI}}]),n}(oa);s1.Fg.registerWebImaAdPlayerConstructor((function(t,n,i){r1(i);var r=e1(i)?t.AI():void 0,e=new e3(r,t.we),u=new h3(e,t.Lu),s=new v3(t);return new u1(t,n,i,t.ust,e,u,s)})),U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt();var l3=function(t){function n(n,i,r){var e;return(e=t.call(this,r)||this).Use=!0,e.Tst=n,e.v3t=i,e.Wse=n.wR,e}Rt(n,t);var i=n.prototype;return i.dr=function(t,n,i,r,e){this.ea===this.v3t&&this.v3t.Dse(),(e||!r.qR||r.RR)&&this.ea.kI()},i.ER=function(t,n){},i.bR=function(t){},i.Nse=function(n,i){var r=n-this.v3t.Mse;return t.prototype.ER.call(this,r,i)},i.Lse=function(n){return t.prototype.bR.call(this,n)},i.AR=function(){return this.Tst.bt},i.tu=function(){return this.Tst.tu()},i.Sd=function(){return this.Tst.Sd()},i.oI=function(){var t=MA.xn(this.Tst.oI()).kb(this.v3t.Mse);if(this.Bse())return t.ks();var n=MA.xn(this.v3t.oI()),i=n;return k4(this.Tst)||(i=t.JL(n)),(i=i.Sn(MA.vB(0,this.kR()))).ks()},i.kR=function(){return this.Ose(t.prototype.kR.call(this))},i.Ose=function(t){return this.ea===this.v3t?this.v3t.Fse+t:this.v3t.Mse+t},i.yR=function(){return this.Vse(t.prototype.kR.call(this))},i.Vse=function(t){return this.ea===this.v3t&&this.Wse?new Date(this.Wse.getTime()+1e3*t):this.Tst.wR},i.pR=function(){var t=MA.xn(this.Tst.pR()).kb(this.v3t.Mse);if(this.Bse())return t.ks();var n=MA.xn(this.v3t.pR());return t.jn(t.V-1)<n.Cn(0)?n.ks():t.JL(n).ks()},i.MI=function(n){switch(n.type){case fa.sb:return this.wo(new pg(this.Ose(n.currentTime),n.currentProgramDateTime)),!0;case fa.Xy:return this.wo(new qR(this.Ose(n.currentTime))),!0;case fa.ro:return this.wo(new yT(this.Ose(n.currentTime))),!0;case fa.Zy:return this.wo(new pT(this.Ose(n.currentTime))),!0;case fa.Cy:return this.wo(new kT(this.Ose(n.currentTime))),!0;case fa.jy:return this.wo(new AT(this.Ose(n.currentTime))),!0;case fa.Ky:return this.wo(new TT(this.Ose(n.currentTime))),!0;case fa.zy:return this.wo(new bT(this.Ose(n.currentTime),n.playbackRate)),!0;case fa.ob:return this.Use?(this.wo(new ST(this.Ose(n.currentTime),n.volume)),!0):(this.Use=!0,!0);case fa.Ry:return this.wo(new wT(this.Ose(n.currentTime),n.readyState)),!0;case Ey.ML:return this.wo(new Py(this.Ose(n.currentTime),n.readyState)),!0;case Ey.LL:return this.wo(new My(this.Ose(n.currentTime),n.readyState)),!0;case Ey.BL:return this.wo(new xy(this.Ose(n.currentTime),n.readyState)),!0;case Ey.OL:return this.wo(new Ny(this.Ose(n.currentTime),n.readyState)),!0;case Ey.tC:return this.wo(new Ry(this.Ose(n.currentTime),n.readyState)),!0;case Ey.FL:return this.wo(new Dy(this.Ose(n.currentTime))),!0;case Ey.VL:return this.wo(new By(this.Ose(n.currentTime))),!0;case fa.Iy:return this.wo(new YW(this.Ose(n.currentTime),n.initDataType,n.initData)),!0}return t.prototype.MI.call(this,n)},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n,!0)];case 1:return i.sent(),[2]}}))}))()},xt(n,[{key:"Pse",get:function(){return this.ea===this.Tst?this.v3t:this.Tst}}]),n}(Hk);function d3(t,n){n.GR=t.GR,n.vI=t.vI,n.KR=t.KR}U(),St(),Ct();var g3=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}Rt(n,t);var i=n.prototype;return i.dr=function(n,i,r,e,u){t.prototype.dr.call(this,n,i,r,e,u),this.Pse.TI(),this.Gse(i,r).style.flex="1"},i.lr=function(t,n,i){this.Gse(n,i).style.flex="0"},n}(l3),m3=function(t){function n(n,i){return t.call(this,n,i,n)||this}Rt(n,t);var i=n.prototype;return i.Bse=function(){return!0},i.Gse=function(t,n){return t},i.Hse=function(t,n){return n},i.ER=function(n,i){return t.prototype.Nse.call(this,n,i)},i.bR=function(n){return t.prototype.Lse.call(this,n)},n}(g3),w3=function(t){function n(n,i){return t.call(this,n,i,i)||this}Rt(n,t);var i=n.prototype;return i.Bse=function(){return!1},i.dr=function(n,i,r,e,u){t.prototype.dr.call(this,n,i,r,e,u),this.Use=!1,this.ea.Zse(),i.style.flex="1"},i.lr=function(t,n,i){this.ea.Xse(),n.style.flex="0"},i.Sd=function(){return this.ea.Sd()},n}(l3),p3=function(t){function n(n,i){return t.call(this,n,i,i)||this}Rt(n,t);var i=n.prototype;return i.Bse=function(){return!1},i.Gse=function(t,n){return n},i.Hse=function(t,n){return t},i.dr=function(n,i,r,e,u){t.prototype.dr.call(this,n,i,r,e,u);for(var s=0,o=[i,r];s<o.length;s++){o[s].style.transition=""}},i.lr=function(n,i,r){t.prototype.lr.call(this,n,i,r)},n}(g3);U(),St(),Dt(),Ct(),U(),St(),Ct();var y3=function(t){function n(n){var i;return(i=t.call(this,"zse")||this).interstitial=n,i}return Rt(n,t),n.prototype.ba=function(){return new _3(this.interstitial.Yst())},n}(yg),_3=function(t){function n(n){var i;return(i=t.call(this,"interstitialupdate")||this).interstitial=n,i}return Rt(n,t),n}(ha),b3=function(t){return t.SINGLE="SINGLE",t.DOUBLE="DOUBLE",t.LSHAPE_AD="LSHAPE_AD",t.LSHAPE_CONTENT="LSHAPE_CONTENT",t}({}),k3=function(t){function n(n){var i;return(i=t.call(this)||this).jse=0,i.JR=!1,i.o=n.o,i.FO=n.FO,i.QO=n.VO,i.QOt=n.lBt,i.DA=n.ct,i.Yse=n.Qse,i.lvt=n.lvt,i.tne=n.tne,i.$se(),i}Rt(n,t);var i=n.prototype;return i.Kse=function(t){if(this.ct){var n=(t-(this.FO+this.jse))/this.ct;n<this.F2t||(this.V2t=A.min(n,1),1===this.V2t&&(this.JR=!0))}},i.tr=function(t){var n,i,r,e;this.DA=null!=(n=t.ct)?n:this.DA,this.QO=null!=(i=t.VO)?i:this.QO,this.Yse=null!=(r=t.Qse)?r:this.Yse,this.jse=null!=(e=t.Jse)?e:this.jse,this.$se(),this.wo(new y3(this))},i.$se=function(){void 0===this.DA&&void 0!==this.QO?this.DA=this.QO-this.FO:void 0===this.QO&&void 0!==this.DA&&(this.QO=this.FO+this.DA)},xt(n,[{key:"qse",get:function(){var t,n,i=null!=(n=null!=(t=this.Yse)?t:this.DA)?n:this.QOt;return void 0!==i?this.FO+i:this.QO?this.QO:void 0}},{key:"ct",get:function(){var t=this.qse;return void 0===t?void 0:t-this.FO}},{key:"F2t",get:function(){var t;return null!=(t=this.V2t)?t:0}}]),n}(oa);U(),St(),Ct();var A3=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,i)||this).ine=void 0,e.ene=r,e}Rt(n,t);var i=n.prototype;return i.Bse=function(){return!0},i.dr=function(n,i,r,e,u){t.prototype.dr.call(this,n,i,r,e,u),d3(this.ea,this.Pse),this.Pse.GR=!0,n.style.backgroundImage="url('"+this.ene+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center",this.ine=this.Tst.nt.uC.filter((function(t){return t.xE===Gp.Jn}));for(var s=0,o=this.ine;s<o.length;s++){o[s].xE=Gp.Th}for(var a=0,c=[i,r];a<c.length;a++){var h=c[a];h.style.flex="1",h.style.borderWidth="20px",h.style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", ")}},i.lr=function(t,n,i){for(var r=0,e=[n,i];r<e.length;r++){var u=e[r];u.style.flex="0",u.style.borderWidth="0px"}for(var s,o=0,a=null!=(s=this.ine)?s:[];o<a.length;o++){a[o].xE=Gp.Jn}this.ine=void 0},i.PR=function(){return this.Tst.PR()||this.v3t.PR()},i.NR=function(){return this.Tst.NR()||this.v3t.NR()},i.nI=function(){return A.min(this.Tst.sI,this.v3t.sI)},i.kI=function(){this.Tst.kI(),this.v3t.kI()},i.TI=function(){this.Tst.TI(),this.v3t.TI()},n}(l3);U(),St(),Ct();var T3=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).ene=e,u}Rt(n,t);var i=n.prototype;return i.dr=function(n,i,r,e,u){t.prototype.dr.call(this,n,i,r,e,u),this.Hse(i,r).style.visibility="hidden",this.Pse.TI(),n.style.backgroundImage="url('"+this.ene+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center";var s=this.Gse(i,r);s.style.flex="1",s.style.transform="\n          translate(-50%, -50%)\n          scale(calc(43/60))\n          translate(calc(50% + 100%/30), calc(50% + 100%/30))\n        ";for(var o=0,a=[i,r];o<a.length;o++){a[o].style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", ")}},i.lr=function(t,n,i){var r=this.Gse(n,i);r.style.flex="0",r.style.transform="",this.Hse(n,i).style.visibility=""},n}(l3),S3=function(t){function n(n,i,r){return t.call(this,n,i,n,r)||this}Rt(n,t);var i=n.prototype;return i.Bse=function(){return!0},i.Gse=function(t,n){return t},i.Hse=function(t,n){return n},n}(T3),E3=function(t){function n(n,i,r){return t.call(this,n,i,i,r)||this}Rt(n,t);var i=n.prototype;return i.Bse=function(){return!1},i.Gse=function(t,n){return n},i.Hse=function(t,n){return t},n}(T3);function I3(t){var n=v.createElement("div"),i=v.createElement("div");return function(t,n){for(var i;Yn(i=t.firstChild);)n.appendChild(i)}(t,n),di(t,"theo-ads-sgai-container"),di(n,"theo-ads-sgai-content-player"),di(i,"theo-ads-sgai-ad-player"),t.appendChild(n),t.appendChild(i),{contentElement:n,adElement:i}}function R3(t){var n=t.style;n.position="relative",n.backgroundColor="transparent",n.backgroundRepeat="no-repeat",n.backgroundAttachment="scroll",n.border="0 solid transparent",n.borderWidth="0px",n.flex="0"}function C3(t){var n=t.style;n.display="",n.backgroundColor="",n.backgroundRepeat="",n.backgroundAttachment="",n.border="",n.borderWidth="",n.flex="",n.transform="",n.transition="",n.backgroundImage="",n.backgroundSize="",n.backgroundPosition="",n.alignItems="",n.position=""}function N3(t){return!Zs(t.Pyt,"theo-ads://dai.break")}U(),St(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Ct(),U(),St(),Ct();var x3=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n}(Hk),D3=function(t){function n(n){return t.call(this,n)||this}Rt(n,t);var i=n.prototype;return i.dr=function(t,n){t.style.flex="1"},i.lr=function(t){t.style.flex="0"},n}(x3);U(),St(),Ct();var P3=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ene=i,r}Rt(n,t);var i=n.prototype;return i.dr=function(t,n){n.style.backgroundImage="url('"+this.ene+"')",n.style.backgroundSize="contain",n.style.backgroundPosition="center",t.style.flex="1",t.style.transition=["flex","border-width","transform"].map((function(t){return t+" 1s ease-in-out"})).join(", "),t.style.transform="\n          translate(-50%, -50%)\n          scale(calc(43/60))\n          translate(calc(50% + 100%/30), calc(50% + 100%/30))\n        "},i.lr=function(t){t.style.flex="0",t.style.transform=""},n}(x3);U(),St(),Ct();var M3=function(t){function n(n){var i;return(i=t.call(this,"sne")||this).interstitial=n,i}return Rt(n,t),n.prototype.ba=function(){return new B3(this.interstitial.Yst())},n}(yg),B3=function(t){function n(n){var i;return(i=t.call(this,"interstitialbegin")||this).interstitial=n,i}return Rt(n,t),n}(ha);function O3(t){return{get id(){return t.o},get duration(){return t.ct},get startTime(){return t.FO},get type(){return"adbreak"},get layout(){return function(t){switch(t){case b3.SINGLE:return"single";case b3.DOUBLE:return"double";case b3.LSHAPE_CONTENT:case b3.LSHAPE_AD:return"l-shape"}}(t.nne)},get ads(){return t.qc.map((function(t){return t.Yst()}))},get backdropUri(){return t.rne}}}U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Dt(),U(),St(),Dt(),Ct(),U(),St();var L3=function(t){return t.image="image",t}({}),F3=function(t){return t.png="png",t.svg="svg",t}({}),V3=function(t){function n(n){var i;return(i=t.call(this,n)||this).cne=n.Aw,i.do=n.do,i.Pb=n.Pb,i.lne=n.lne,i.dne=n.dne,i.ejt=n.ejt,i.hne=n.fne,i}Rt(n,t);var i=n.prototype;return i.tr=function(n){var i,r;this.une=null!=(i=n.imageUrl)?i:this.une,this.hne=null!=(r=n.clickThrough)?r:this.hne,t.prototype.tr.call(this,n)},i.Yst=function(){var t;return null!=(t=this.su)?t:this.su=function(t){return{get type(){return"overlay"},get id(){return t.o},get duration(){return t.ct},get startTime(){return t.FO},get clickThrough(){return t.GYt},get imageUrl(){return t.ane},get position(){return function(t){return{get top(){return t.E7},get bottom(){return t.k7},get left(){return t.T7},get right(){return t.S7}}}(t.do)},get size(){return function(t){return{get width(){return t.ji},get height(){return t.Ti}}}(t.Pb)}}}(this)},xt(n,[{key:"Aw",get:function(){return"overlay"}},{key:"GYt",get:function(){return this.hne}},{key:"ane",get:function(){return this.une}}]),n}(k3);U(),St(),Dt(),Ct();var U3=function(t){function n(n){var i;return(i=t.call(this,n)||this).Uc=[],i.Pyt=n.Pyt,i.nne=n.nne||b3.SINGLE,i._ne=n._ne,i.vne=n.vne,i.rne=n.mne,i}Rt(n,t);var i=n.prototype;return i.tr=function(n){var i;n.ad&&this.Uc.push(n.ad),this.rne=null!=(i=n.backdropUri)?i:this.rne,t.prototype.tr.call(this,n)},i.Yst=function(){var t;return null!=(t=this.su)?t:this.su=O3(this)},xt(n,[{key:"Aw",get:function(){return"adbreak"}},{key:"qc",get:function(){return this.Uc}}]),n}(k3),W3="com.theoplayer.theoads.interstitial",j3="com.theoplayer.theoads.overlay",Z3=function(){function t(t){var n=this;this.Rne=!1,this.pne=[],this.jne=as(),this.Tne=[],this.Hn=function(t){n.kne(t.Ht)},this.qn=function(t){n.xne(t.Ht)},this.Mne=function(t){n.Fne(t.BO)},this.Vne=function(t){n.Wne(t.BO)},this.Bne=function(t){n.Kne(t.BO)},this.One=function(t){n.Nne(t.BO)},this.Lne=function(t){n.$ne(t.BO)},this.bne=function(t){n.Hne(t)},this.Ane=function(t){n.Une(t)},this.DMt=t}var n=t.prototype;return n.wne=function(t){this.yne=new EventSource(t),this.yne.addEventListener("adbreak",this.bne),this.yne.addEventListener("streaminfo",this.Ane)},n.Sne=function(t){if(!Ao(this.Tne,t)){this.Tne.push(t);for(var n=0,i=t.uC;n<i.length;n++){var r=i[n];this.kne(r)}t.yn(Ag.OI,this.Hn),t.yn(Ag.VI,this.qn)}},n.Ene=function(t){if(Ao(this.Tne,t)){_o(this.Tne,t),t.fn(Ag.OI,this.Hn),t.fn(Ag.VI,this.qn);for(var n=0,i=t.uC;n<i.length;n++){var r=i[n];this.xne(r)}}},n.kne=function(t){!this.Rne&&function(t){return t.Lt===$p.$V&&t.Aw===xm.DATE_RANGE}(t)&&this.Ine!==t?this.Cne(t):this.Rne&&function(t){return t.Lt===$p.$V&&t.Aw===xm.ID3}(t)&&this.Pne!==t&&this.Dne(t)},n.xne=function(t){this.Ine===t?this.Cne(void 0):this.Pne===t&&this.Dne(void 0)},n.Cne=function(t){var n=this.Ine;if(void 0!==n){if(n.L)for(var i=0,r=n.L.uC;i<r.length;i++){var e=r[i];this.Nne(e)}n.fn(Rg.UI,this.Mne),n.fn(Rg.XI,this.Lne),n.fn(Rg.qI,this.Bne),n.fn(Rg.HI,this.One),n.xE=Gp.NC}if(this.Ine=t,void 0!==t){if(t.L)for(var u=0,s=t.L.uC;u<s.length;u++){var o=s[u];this.Fne(o)}t.yn(Rg.UI,this.Mne),t.yn(Rg.XI,this.Lne),t.yn(Rg.qI,this.Bne),t.yn(Rg.HI,this.One),t.xE=Gp.NC}},n.Dne=function(t){var n=this.Pne;if(void 0!==n){if(n.L)for(var i=0,r=n.L.uC;i<r.length;i++){var e=r[i];this.Nne(e)}n.fn(Rg.UI,this.Vne),n.fn(Rg.qI,this.Bne),n.fn(Rg.HI,this.One),n.xE=Gp.NC}if(this.Pne=t,void 0!==t){if(t.L)for(var u=0,s=t.L.uC;u<s.length;u++){var o=s[u];this.Wne(o)}t.yn(Rg.UI,this.Vne),t.yn(Rg.qI,this.Bne),t.yn(Rg.HI,this.One),t.xE=Gp.NC}},n.Une=function(t){try{var n,i,r=JSON.parse(t.data),e=r.networkCode,u=null==(n=r.assetKeys)?void 0:n[0];this.DMt.Gne(e,u),null==(i=this.yne)||i.removeEventListener("streaminfo",this.Ane)}catch(t){qn.Fp("Error parsing the Server sent stream info",t)}},n.Hne=function(t){var n=this.DMt.wR;if(void 0!==n)try{var i,r=JSON.parse(t.data),e=null!=(i=r.podDuration)?i:r.adBreakDuration;if(void 0===e)return void qn.Fp("Tried to schedule an ad break without knowing the duration");var u=(Date.parse(r.startDate)-n.getTime())/1e3;if(u<=-e)return;var s,o="theo-ads://dai.break/?d="+e,a=this.DMt.kR()+u,c=r.networkCode,h=r.assetKey,f=r.podId?T(r.podId):void 0,v=new U3({o:t.id,FO:a,Pyt:null!=(s=r.assetURI)?s:o,nne:this.Zne||b3[r.layout],_ne:c,vne:h,lBt:e,tne:f,mne:r.backdropURI,lvt:r.startPTS});this.Xne(v,void 0)}catch(t){qn.Fp("Error parsing the Server sent event",t)}else qn.Fp("Tried to schedule an ad break without knowing the Program Date Time of the player")},n.Fne=function(t){if((t.uBt===W3||t.uBt===j3)&&t.dBt["X-ASSET-URI"])switch(t.uBt){case j3:try{var n,i=atob(t.dBt["X-COM-THEOPLAYER-THEOADS-OVERLAY-PROPERTIES"]),r=JSON.parse(i),e=L3[r.type],u=this.DMt.zne(t.FO),s=isFinite(t.VO)?this.DMt.zne(t.VO):void 0,o=new V3({o:t.o,Aw:e||L3.image,FO:u,VO:s,ct:t.ct,lBt:t.lBt,do:G3(r.position),Pb:H3(r.size),lne:r.opacity,dne:X3(r.gamProperties),ejt:null==(n=r.resourceURI)?void 0:n.map((function(t){return function(t){var n=F3[t.type],i=t.default;Gn.Qs&&t.phone?i=t.phone:Gn.vg&&t.tv&&(i=t.tv);return{Aw:n,Pyt:i}}(t)})),fne:r.clickThroughURI});this.Xne(o,t)}catch(t){qn.Fp(t)}break;case W3:var a,c,h,f=t.dBt["X-RESUME-OFFSET"],v=this.qne||t.dBt["X-ASSET-URI"],l=qn.Nh(v),d=null!=(a=l.searchParams.get("n"))?a:void 0,g=null!=(c=l.searchParams.get("k"))?c:void 0,m=this.DMt.zne(t.FO),w=isFinite(t.VO)?this.DMt.zne(t.VO):void 0;(function(t){return Zs(t,"theo-ads://dai.break")})(v)&&(h=function(t){var n=t.split("?")[1],i={},r=new URLSearchParams(n);return i.d=Number(r.get("d"))||void 0,i.k=r.get("k")||void 0,i.n=r.get("n")||void 0,i.p=Number(r.get("p"))||void 0,i}(v));var p=new U3({o:t.o,FO:m,Pyt:v,nne:this.Zne||b3[t.dBt["X-COM-THEOPLAYER-THEOADS-LAYOUT"]]||b3.SINGLE,_ne:d,vne:g,mne:t.dBt["X-COM-THEOPLAYER-THEOADS-BACKDROP"],VO:w,ct:t.ct,lBt:t.lBt,tne:null==h?void 0:h.p,Qse:void 0!==f?Number(f):void 0});this.Xne(p,t),this.Yne=p}},n.Wne=function(t){var n=t.U;if(function(t){return"GEO"===t.id||"GEOB"===t.id}(n)&&function(t){return"Anvatos"===t.description&&"application/json"===t.mimeType}(n)){var i=yc(new DataView(n.data),new Dc),r=new Eu(i),e=r.get("type");if("cue"===e){var u=Number(r.get("duration"))/1e3||void 0,s=new Eu(r.get("payload")),o=Number(s.get("dur"))||void 0,a=Number(s.get("s_bd"))||void 0;if(void 0!==o?u=o:void 0!==a&&(u=a/10),!u)return void 0;var c="theo-ads://dai.break/?d="+u,h=Number(r.get("pts"))||void 0,f=this.DMt.zne(t.FO),v=new U3({o:this.qne||t.o,FO:f,Pyt:c,nne:this.Zne||b3.SINGLE,lBt:u,lvt:h});this.Xne(v,t)}else if("cue_end"===e){var l=this.Yne;l&&l.tr({ct:this.DMt.zne(t.FO)-l.FO})}}},n.Kne=function(t){var n=this.jne.get(t.xC);n&&this.DMt.Qne(n.FO)},n.Jne=function(t){for(var n=0,i=this.pne;n<i.length;n++){var r=i[n];if(t.o===r.o&&t.Aw===r.Aw)return!0}return!1},n.Xne=function(t,n){var i,r=t.FO+(null!=(i=t.ct)?i:1/0);this.Jne(t)||this.DMt.kR()>=r||(this.pne.push(t),n&&this.jne.set(n.xC,t),this.DMt.Xne(t))},n.$ne=function(t){var n=this.jne.get(t.xC);if(void 0!==n){var i=t.dBt["X-RESUME-OFFSET"],r=isFinite(t.VO)?this.DMt.zne(t.VO):void 0;n.tr({ct:t.ct,VO:r,Qse:void 0!==i?Number(i):void 0})}},n.Nne=function(t){this.tre(t)},n.tre=function(t){void 0!==this.jne.get(t.xC)&&this.jne.delete(t.xC)},n.ere=function(t){var n=this;t.forEach((function(t){return n.ire(t)}))},n.ire=function(t){_o(this.pne,t)},n.er=function(){var t,n,i;this.Yne=void 0,this.Cne(void 0),this.Dne(void 0);for(var r=0,e=this.Tne.slice();r<e.length;r++){var u=e[r];this.Ene(u)}So(this.Tne),So(this.pne),this.jne.clear(),null==(t=this.yne)||t.removeEventListener("adbreak",this.bne),null==(n=this.yne)||n.removeEventListener("streaminfo",this.Ane),null==(i=this.yne)||i.close(),this.yne=void 0},n.gn=function(){this.er()},xt(t,[{key:"gne",get:function(){return this.pne}}]),t}();function X3(t){if(t){var n=t.sz.default;return Gn.Qs&&t.sz.phone?n=t.sz.phone:Gn.vg&&t.sz.tv&&(n=t.sz.tv),{sre:t.iu,nre:n}}}function G3(t){var n,i,r,e;return t.top&&t.top>=0&&t.top<=100?n=t.top:t.bottom&&t.bottom>=0&&t.bottom<=100?i=t.bottom:n=10,t.left&&t.left>=0&&t.left<=100?r=t.left:t.right&&t.right>=0&&t.right<=100?e=t.right:r=10,{E7:n,k7:i,T7:r,S7:e}}function H3(t){return{ji:t.width&&t.width>=0&&t.width<=100?t.width:10,Ti:t.height&&t.height>=0&&t.height<=100?t.height:10}}U(),St(),Dt(),Ct();var z3=function(t){function n(n){var i;return(i=t.call(this)||this).ea=n,i}return Rt(n,t),n.prototype.hre=function(t){this.ea.are(t)},xt(n,[{key:"rre",get:function(){return this.ea.rre.map((function(t){return t.Yst()}))}},{key:"ore",get:function(){return this.ea.ore.map((function(t){return t.Yst()}))}},{key:"ka",get:function(){var t;return null!=(t=this.su)?t:this.su=function(t){return{get currentInterstitials(){return t.rre},get scheduledInterstitials(){return t.ore},replaceAdTagParameters:function(n){t.hre(n)},addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)}}}(this)}}]),n}(oa);U(),St(),Gt(),Dt(),Ct(),Jt(),Tt(),U(),St(),Dt(),Ct();var Y3=function(t){function n(n){var i,r;return(i=t.call(this,n.FO)||this).lre=n,i.OJt=null!=(r=i.lre.ct)?r:-1,i}return Rt(n,t),n.prototype.ure=function(t){this.Uc.push(t)},xt(n,[{key:"JR",get:function(){return this.lre.JR}},{key:"tQt",get:function(){return h$.Lst}},{key:"BJt",get:function(){var t;return null!=(t=this.lre.ct)?t:-1}},{key:"YBt",get:function(){return this.lre.FO}},{key:"lJt",get:function(){}},{key:"dre",get:function(){return this.lre}}]),n}($$),K3=function(t){return t[t.GOOGLE=0]="GOOGLE",t[t.DEFAULT=1]="DEFAULT",t}({}),q3=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).b3t=new VI,e.l$t=[],e.v6=function(t){e.vd(t)},e.Tre=function(){e.wre()},e.Are=function(){e.wo(new ha("adloading"))},e.Sre=function(){e.wo(new ha("adloaded"))},e.v3t=n,e.Ere=i,e.l$t=r,e.Ere.xre(e),e.b3t=i.$1t,e}Rt(n,t);var i=n.prototype;return i.mre=function(){this.wre()},i.Xne=function(t){var n=new Y3(t);this.l$t.push(n)},i.ire=function(t){var n=this.c3t(t);_o(this.l$t,n)},i.c3t=function(t){return go(this.l$t,(function(n){return n.dre===t}))},i.yre=function(){this.v3t.yn(fa.Vy,this.Are),this.v3t.yn(Ey.LL,this.Sre),this.v3t.yn(fa.Cy,this.Tre),this.v3t.yn(fa.sb,this.v6)},i.wre=function(){this.v3t.fn(fa.Vy,this.Are),this.v3t.fn(Ey.LL,this.Sre),this.v3t.fn(fa.Cy,this.Tre),this.v3t.fn(fa.sb,this.v6)},i.vd=function(t){var n;null==(n=this.vre)||n.Kse(this.Ose(t.currentTime))},i.kre=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:u={stack:[],error:void 0,hasError:!1},h.label=1;case 1:return h.trys.push([1,4,5,6]),e.yre(),null==(s=e.fW)||s.Yw(),o=Yt(u,Jo.Qw([n]),!1),e.fW=o,jo(a=o.Vw),[4,e.v3t.xa(gE(t),a)];case 2:return h.sent(),Gn.iu&&Gn.$m&&(e.v3t.kI(),e.v3t.TI()),i&&e.v3t.ER(i),r&&e.v3t.kI(),[4,ut.race([e.vy("aderror",a).then(ut.reject),e.vy("adloaded",a).then((function(){return ut.resolve()}))])];case 3:return[2,h.sent()];case 4:return c=h.sent(),u.error=c,u.hasError=!0,[3,6];case 5:return Kt(u),[7];case 6:return[2]}}))}))()},i.Td=function(t){this.vre&&(this.vre.Kse(t),this.vre.JR=!0,this.ire(this.vre),this.vre=void 0),this.t$t&&(this.b3t.wo(new cB(this.t$t,t)),this.t$t=void 0),this.c$t&&(this.b3t.wo(new rB(this.c$t)),this.c$t=void 0),this.wre()},i.Ose=function(t){var n,i;return(null!=(i=null==(n=this.vre)?void 0:n.FO)?i:0)+t},i.er=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){return null==(n=t.fW)||n.Yw(),t.fW=void 0,t.wre(),t.l$t=[],t.t$t=void 0,t.c$t=void 0,t.vre=void 0,[2]}))}))()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.er()];case 1:return n.sent(),[4,t.Ere.gn()];case 2:return n.sent(),[2]}}))}))()},xt(n,[{key:"WJt",get:function(){return this.l$t}},{key:"_re",get:function(){return this.vre}},{key:"Kst",get:function(){return this.c$t}},{key:"j9t",get:function(){return this.t$t}}]),n}(oa);U(),St(),Dt();var J3=function(){function t(){this.b3t=new VI}var n=t.prototype;return n.xre=function(t){this.Rre=t},n.DD=function(){},n.$st=function(t){},n.gn=function(){return this.Rre=void 0,ut.resolve(void 0)},xt(t,[{key:"$1t",get:function(){return this.b3t}},{key:"u2t",get:function(){var t;return void 0!==(null==(t=this.Rre)?void 0:t.Kst)}},{key:"K1t",get:function(){return h$.Lst}},{key:"qst",get:function(){var t;return(null==(t=this.Rre)?void 0:t.j9t)?[this.Rre.j9t]:[]}},{key:"Kst",get:function(){var t,n;return null!=(n=null==(t=this.Rre)?void 0:t.Kst)?n:null}},{key:"jst",get:function(){var t=this;return this.Rre?Io(this.Rre.WJt,(function(n){var i,r=n.qc;if(n===(null==(i=t.Rre)?void 0:i.Kst)&&void 0!==t.Rre.j9t){var e=r.indexOf(t.Rre.j9t);if(e>=0)return r.slice(e+1)}return n.JR?[]:r})):[]}},{key:"Qst",get:function(){var t=this;return this.Rre?this.Rre.WJt.filter((function(n){var i;return n===(null==(i=t.Rre)?void 0:i.Kst)||!n.JR})):[]}}]),t}();U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),Tt(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var Q3=function(t){function n(n){var i;return i=t.call(this,n,function(t){return t===b3.LSHAPE_CONTENT?n0.E2t:n0.Ejt}(n.dre.nne))||this,n.ure(i),i}return Rt(n,t),n.prototype.ba=function(){return e0(this)},xt(n,[{key:"tQt",get:function(){return h$.Lst}}]),n}(r0);var $3=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Ire=i,r}Rt(n,t);var i=n.prototype;return i.$Jt=function(){return this.Ire.getAdSystem()},i.i$t=function(){return this.td.dre.Pyt},xt(n,[{key:"o",get:function(){return this.Ire.getAdId()}},{key:"ct",get:function(){return this.Ire.getDuration()}},{key:"GYt",get:function(){var t,n;return null==(n=this.Ire)||null==(t=n.ad)?void 0:t.clickThroughUrl}},{key:"dYt",get:function(){return this.Ire.getCreativeId()}},{key:"pKt",get:function(){return this.Ire.getSkipTimeOffset()}}]),n}(Q3);U(),St(),Ct();var t4=function(t){function n(n){var i;return(i=t.call(this,n)||this).N2t=!0,i.DA=n.OJt,i}return Rt(n,t),n}(Q3),n4="ott_placement",i4="theoads_slot",r4="urn:google:dai:2018",e4=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,e)||this).Gre=!0,a.Yre=function(){a.Td(a.Ose(a.v3t.kR()))},a.Hn=function(t){var n=t.Ht;if(n.Lt===$p.$V&&!(n.Aw!==xm.ID3&&n.Aw!==xm.EVENT_STREAM||n.Aw===xm.EVENT_STREAM&&n.MC!==r4)){if(n.yn(Rg.UI,a.Jre),n.yn(Rg.HI,a.One),n.L)for(var i=0,r=n.L.uC;i<r.length;i++){var e=r[i];a.Jre(new XN(e))}n.xE=Gp.NC,a.Qre=n}},a.Jre=function(t){t.BO.yn(Fm.sO,a.$re)},a.One=function(t){t.BO.fn(Fm.sO,a.$re)},a.$re=function(t){var n,i;if(a.Wre)if((null==(n=a.Qre)?void 0:n.Aw)===xm.ID3){var r,e=t.BO.U;if(iD(e))if(a.jre!==e.text)a.jre=e.text,null==(r=a.Lre)||r.processMetadata("ID3",e.text,t.BO.FO)}else if((null==(i=a.Qre)?void 0:i.Aw)===xm.EVENT_STREAM){var u,s=t.BO.U;null==(u=a.Lre)||u.processMetadata(r4,s,t.BO.FO)}},a.Kre=function(t){switch(a.c$t&&(a.c$t.OJt=a.v3t.Sd()-a.v3t.kR()),t.type){case google.ima.dai.api.StreamEvent.Type.ERROR:a.b3t.wo(new q$(QJ.GENERAL));break;case google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED:a.c$t=a.c3t(a.vre),a.b3t.wo(new uB(a.c$t)),a.toe=qn.Ug(a.eoe,250);break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED:qn.Wg(a.toe);break;case google.ima.dai.api.StreamEvent.Type.STARTED:var n,i=t.getAd();a.t$t=new $3(a.c$t,i),null==(n=a.vre)||n.tr({ad:a.t$t}),a.b3t.wo(new oB(a.t$t,a.Ose(a.v3t.kR())));break;case google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE:a.b3t.wo(new g0(a.t$t,a.Ose(a.v3t.kR())));break;case google.ima.dai.api.StreamEvent.Type.MIDPOINT:a.b3t.wo(new w0(a.t$t,a.Ose(a.v3t.kR())));break;case google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE:a.b3t.wo(new y0(a.t$t,a.Ose(a.v3t.kR())));break;case google.ima.dai.api.StreamEvent.Type.COMPLETE:a.b3t.wo(new cB(a.t$t,a.Ose(a.v3t.kR()))),a.t$t=void 0;break;case google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED:if(!a.c$t)break;a.c$t.OJt>1&&a.eoe()}},a.eoe=function(){var t;a.t$t=new t4(a.c$t),null==(t=a.vre)||t.tr({ad:a.t$t}),a.b3t.wo(new oB(a.t$t,a.Ose(a.v3t.kR())))},a.Bre=r,a.Mre=null!=u?u:{},a.Gre=!a.Mre[n4],a.Fre=s,a.Zre=o,a}Rt(n,t);var i=n.prototype;return i.Pre=function(t,n,i,r){var e=this;return Zt((function(){return Ht(this,(function(u){switch(u.label){case 0:return!t||!n||t===e.Dre&&n===e.Nre?(i!==e.Mre&&e.are(i),[2]):[4,e.dJ(t,n,i,r)];case 1:return u.sent(),[2]}}))}))()},i.dJ=function(t,n,i,r){var e=this;return Zt((function(){var u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(void 0===e.Lre){if(void 0===(null==(s=f.google)||null==(u=s.ima)?void 0:u.dai))throw new y("IMA DAI SDK missing for THEOads");e.Lre=new google.ima.dai.api.StreamManager(e.v3t.we.querySelector("video"),e.Bre)}return e.Dre=t,e.Nre=n,e.Mre=i,o=e.Lre,e.Ore(),o.reset(),(a=new google.ima.dai.api.PodStreamRequest).networkCode=e.Dre,a.customAssetKey=e.Nre,a.adTagParameters=e.Mre,e.Fre&&(a.streamActivityMonitorId=e.Fre),a.format="hls",c=e.Vre([google.ima.dai.api.StreamEvent.Type.STREAM_INITIALIZED,google.ima.dai.api.StreamEvent.Type.ERROR]).then((function(t){if(t.type===google.ima.dai.api.StreamEvent.Type.ERROR)throw new y("DAI stream request failed");e.Wre=t.getStreamData(),e.Ure()})),e.Lre.requestStream(a),[4,Go(c,r)];case 1:return h.sent(),[2]}}))}))()},i.Vre=function(t,n){var i=this;return new ut((function(r,e){var u;if(n&&n.Bw)return e(new Uo);var s=function(t){a(),r(t)},o=function(){a(),e(new Uo)},a=function(){var r;null==(r=i.Lre)||r.removeEventListener(t,s),n&&n.Ow(o)};null==(u=i.Lre)||u.addEventListener(t,s),n&&n.Fw(o)}))},i.are=function(t){var n;this.Mre=t,this.Gre=!this.Mre[n4],null==(n=this.Lre)||n.replaceAdTagParameters(t)},i.Hre=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return(null==(i=n.vre)?void 0:i.tne)&&!E(n.vre.tne)?[2,n.vre.tne]:n.Zre&&(null==(r=n.vre)?void 0:r.lvt)?[4,ET((function(){return n.Xre()}),t,4,500,5e3)]:[2,void 0];case 1:return[2,e.sent()]}}))}))()},i.Xre=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:n=t.Zre+"/"+t.Dre+"/"+t.Nre+"/"+t.vre.lvt+".json",i=new md({Gu:n,Yk:xl.yk,yE:fd.GET,bE:1e3}),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,t.v3t.lR.Kk(i)];case 2:return r=u.sent(),[3,4];case 3:throw u.sent(),new JJ(QJ.NETWORK,$J.UNKNOWN_AD_RESPONSE,"The ad's PodId could not be loaded.");case 4:if(!cd(r))throw new JJ(QJ.NETWORK,$J.UNKNOWN_ERROR,"Something went wrong while requesting JSON from server.");return[4,r.qk()];case 5:return(e=u.sent())?[2,e.podid]:[2,void 0]}}))}))()},i.zre=function(t,n,i,r){void 0===r&&(r=!1);var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,e.qre(t,n,i)];case 1:return u=s.sent(),[2,e.kre({sources:{src:u}},i,void 0,r)]}}))}))()},i.qre=function(t,n,i){var r=this;return Zt((function(){var e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:return r.vre=t,e=t._ne,u=t.vne,function(t,n,i){var r=new Eu(t.cust_params);r.set(i4,function(t){switch(t){case b3.DOUBLE:return"double";case b3.SINGLE:return"single";case b3.LSHAPE_AD:case b3.LSHAPE_CONTENT:return"l-shape"}}(n)),t.cust_params=r.toString(),i&&(t[n4]=function(t){switch(t){case b3.DOUBLE:return"3";case b3.SINGLE:return"99";case b3.LSHAPE_AD:case b3.LSHAPE_CONTENT:return"4"}}(n))}(r.Mre,t.nne,r.Gre),[4,r.Pre(e,u,r.Mre,i)];case 1:return h.sent(),s=qn.Nh(t.Pyt),o=Number(s.searchParams.get("d")),a=A.floor(1e3*A.min(o,t.qse-n)),[4,r.Hre(i)];case 2:if(!(c=h.sent()))throw new y("Something went wrong with retrieving the PodID from the server.");return[2,r.Wre.getStandalonePodManifestUrl((function(){return c}),a)]}}))}))()},i.yre=function(){this.v3t.yn(fa.Cy,this.Yre),this.v3t.nt.yn(Ag.OI,this.Hn),t.prototype.yre.call(this)},i.wre=function(){t.prototype.wre.call(this),this.v3t.fn(fa.Cy,this.Yre),this.v3t.nt.fn(Ag.OI,this.Hn)},i.Ure=function(){var t;null==(t=this.Lre)||t.addEventListener([google.ima.dai.api.StreamEvent.Type.ERROR,google.ima.dai.api.StreamEvent.Type.CLICK,google.ima.dai.api.StreamEvent.Type.STARTED,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,google.ima.dai.api.StreamEvent.Type.MIDPOINT,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,google.ima.dai.api.StreamEvent.Type.COMPLETE,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,google.ima.dai.api.StreamEvent.Type.RESUMED],this.Kre)},i.Ore=function(){var t;null==(t=this.Lre)||t.removeEventListener([google.ima.dai.api.StreamEvent.Type.ERROR,google.ima.dai.api.StreamEvent.Type.CLICK,google.ima.dai.api.StreamEvent.Type.STARTED,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,google.ima.dai.api.StreamEvent.Type.MIDPOINT,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,google.ima.dai.api.StreamEvent.Type.COMPLETE,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_STARTED,google.ima.dai.api.StreamEvent.Type.AD_PERIOD_ENDED,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,google.ima.dai.api.StreamEvent.Type.RESUMED],this.Kre)},i.Td=function(n){t.prototype.Td.call(this,n),this.jre=void 0},i.er=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.er.call(n)];case 1:return r.sent(),n.Ore(),null==(i=n.Lre)||i.reset(),n.Lre=void 0,n.Wre=void 0,n.Fre=void 0,n.Nre=void 0,n.Dre=void 0,n.Gre=!0,[2]}}))}))()},i.gn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return r.sent(),null==(i=n.Qre)||i.gn(),[2]}}))}))()},xt(n,[{key:"Cre",get:function(){return K3.GOOGLE}}]),n}(q3);var u4=function(){function t(t,n,i){var r=this;this.ioe=[],this.hoe=os(),this.voe=(new Date).getTime(),this.moe=function(){r.ioe.forEach((function(t){r.hoe.get(t.o).style.cssText=r.uoe(t)}))},this.F7t=function(t){t.stopPropagation()},this.ea=t,this.ea.yn(mI.pn,this.moe);var e=v.createElement("div");e.style.display="none",e.className="theoads-image-overlays-container",n.appendChild(e),_i(e),this.noe=e,this.goe=i,this.lW=qn.lR}var n=t.prototype;return n.ooe=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return n.ioe.push(t),n.noe.style.display="",(i=v.createElement("div")).className="theoplayer-theoads-overlay",i.style.display="",n.hoe.set(t.o,i),r=v.createElement("a"),[4,n.aoe(t)];case 1:return(e=s.sent()).clickThroughURI&&(n.noe.style.zIndex="11",r.href=e.clickThroughURI,r.target="qu",r.setAttribute("rel","noopener"),r.addEventListener("mousedown",n.F7t),r.addEventListener("touchend",n.F7t)),t.cne===L3.image&&(r.style.backgroundImage="url("+e.resourceURI+")",r.style.backgroundSize="contain",r.style.backgroundPosition="center",r.style.backgroundRepeat="no-repeat",e.impressionURI&&((u=v.createElement("img")).src=e.impressionURI,u.style.display="none",r.appendChild(u))),_i(r),i.appendChild(r),i.style.cssText=n.uoe(t),n.noe.appendChild(i),[2]}}))}))()},n.coe=function(t){var n=this.hoe.get(t.o);n&&(this.noe.contains(n)&&this.noe.removeChild(n),this.hoe.delete(t.o),0===this.hoe.size&&(this.noe.style.display="none"),_o(this.ioe,t))},n.loe=function(){var t=this;this.hoe.forEach((function(n,i){t.noe.contains(n)&&t.noe.removeChild(n)})),this.hoe.clear(),this.ioe=[]},n.uoe=function(t){var n=t.do,i=0,r=1;if(this.noe.clientWidth>0&&this.noe.clientHeight>0){var e=this.ea.fI/this.ea.cI,u=this.soe.clientWidth,s=this.soe.clientHeight,o=u/e,a=(s-o)/2;i=0===s?0:A.floor(a/s*100),r=0===s?1:A.floor(100*(1-(s-o)/s))/100}var c="position:absolute;zIndex:10;";(n.T7&&(c+="left:"+n.T7+"%;"),n.S7&&(c+="right:"+n.S7+"%;"),n.E7)&&(c+="top:"+(n.E7*r+i)+"%;");n.k7&&(c+="bottom:"+(n.k7*r+i)+"%;");var h=t.Pb;return h.ji&&(c+="width:"+h.ji+"%;"),h.Ti&&(c+="height:"+h.Ti*r+"%;"),t.lne&&t.lne>0&&t.lne<=100&&(c+="opacity:"+t.lne/100+";"),c},n.doe=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return t?(i=n.foe(t))?[4,n._oe(i,n.lW)]:[2,void 0]:[2];case 1:return[2,r.sent()]}}))}))()},n.aoe=function(t){var n=this;return Zt((function(){var i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return i={resourceURI:""},[4,n.doe(t.dne)];case 1:return(r=o.sent())?(i.resourceURI=r.image,i.impressionURI=r.impression):t.ejt&&((e=go(t.ejt,(function(t){return t.Aw===F3.svg})))&&(i.resourceURI=e.Pyt),(u=go(t.ejt,(function(t){return t.Aw===F3.png})))&&(i.resourceURI=u.Pyt)),i.clickThroughURI=null!=(s=null==r?void 0:r.clickThrough)?s:t.GYt,t.tr({imageUrl:i.resourceURI,clickThrough:i.clickThroughURI}),[2,i]}}))}))()},n.foe=function(t){var n=new Eu(this.Mre);return n.set("iu",t.sre),n.set("sz",t.nre),n.set("c",String(this.voe)),n.get(n4)||n.set(n4,"5"),"https://securepubads.g.doubleclick.net/gampad/adx?"+n.toString()},n._oe=function(t,n){return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=new md({Gu:t,Yk:xl.yk,yE:fd.GET}),e.label=1;case 1:return e.trys.push([1,4,,5]),[4,n.Kk(i)];case 2:return[4,e.sent().qk()];case 3:return[2,e.sent()];case 4:throw r=e.sent(),new JJ(QJ.NETWORK,$J.UNKNOWN_AD_RESPONSE,"The ad source could not be loaded.",r);case 5:return[2]}}))}))()},n.er=function(){this.loe(),this.noe.style.display="none"},xt(t,[{key:"rre",get:function(){return this.ioe}},{key:"soe",get:function(){return this.noe}},{key:"roe",get:function(){return this.Mre},set:function(t){this.Mre=t}}]),t}();U(),St(),Dt();var s4=function(){function t(){}var n=t.prototype;return n.RZ=function(t){return o4(t)},n.z1t=function(t,n,i){},n.u6=function(t,n,i,r){},n.Xz=function(t){var n={integration:ES.THEOADS,adTagParameters:$n(t.adTagParameters)?t.adTagParameters:{},useId3:Boolean(t.useId3)};return ni(t.networkCode)&&(n.networkCode=Xg(t.networkCode)),ni(t.customAssetKey)&&(n.customAssetKey=Xg(t.customAssetKey)),ni(t.backdropDoubleBox)&&(n.backdropDoubleBox=Xg(t.backdropDoubleBox)),ni(t.backdropLShape)&&(n.backdropLShape=Xg(t.backdropLShape)),ni(t.overrideLayout)&&(n.overrideLayout=function(t){switch(t){case"single":case"l-shape":case"double":case"single-if-mobile":return t;default:return}}(t.overrideLayout)),ni(t.overrideAdSrc)&&(n.overrideAdSrc=Xg(t.overrideAdSrc)),ni(t.retrievePodIdURI)&&(n.retrievePodIdURI=Xg(t.retrievePodIdURI)),ni(t.sseEndpoint)&&(n.sseEndpoint=Xg(t.sseEndpoint)),ni(t.streamActivityMonitorId)&&(n.streamActivityMonitorId=Xg(t.streamActivityMonitorId)),n},xt(t,[{key:"X1t",get:function(){return h$.Lst}}]),t}();function o4(t){return t&&t.integration===ES.THEOADS}IS.Fg.IZ(new s4),U(),St(),Ct();var a4=function(t){function n(n){var i;return(i=t.call(this,"addinterstitial")||this).interstitial=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var c4=function(t){function n(n){var i;return(i=t.call(this,"poe")||this).interstitial=n,i}return Rt(n,t),n.prototype.ba=function(){return new h4(this.interstitial.Yst())},n}(yg),h4=function(t){function n(n){var i;return(i=t.call(this,"interstitialend")||this).interstitial=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var f4=function(t){function n(n,i){var r;return(r=t.call(this,"woe")||this).interstitial=n,r.gb=i,r}return Rt(n,t),n.prototype.ba=function(){return new v4(this.interstitial.Yst(),this.gb)},n}(yg),v4=function(t){function n(n,i){var r;return(r=t.call(this,"interstitialerror")||this).interstitial=n,r.message=i,r}return Rt(n,t),n}(ha);U(),St(),Gt(),Dt(),Ct(),Jt(),Tt(),U(),St(),Ct();var l4=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).DA=A.min(i,r.td.BJt),r}return Rt(n,t),n}(Q3),d4=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).O9=!1,n.Mzt=function(){n.wo(new q$(QJ.GENERAL))},n.yoe=function(t){!n.O9&&n.vre&&(n.O9=!0,n.c$t=n.c3t(n.vre),n.t$t=new l4(n.c$t,n.v3t.Sd()),n.vre.tr({ad:n.j9t}),n.b3t.wo(new uB(n.c$t)),n.b3t.wo(new oB(n.t$t,n.Ose(t.currentTime))))},n.Y8=function(t){n.Td(n.Ose(t.currentTime))},n}Rt(n,t);var i=n.prototype;return i.Pre=function(t,n,i,r){return ut.resolve()},i.dJ=function(t,n,i,r){return ut.resolve()},i.are=function(t){},i.zre=function(t,n,i,r){var e;if(void 0===r&&(r=!1),this.vre=t,t.FO<n){var u=A.min(t.ct,t.qse-n);e=t.ct-u,t.tr({ct:u,Jse:e})}return this.kre({sources:{src:t.Pyt}},i,e,r)},i.qre=function(t,n,i){var r=this;return Zt((function(){return Ht(this,(function(n){return r.vre=t,[2,t.Pyt]}))}))()},i.yre=function(){t.prototype.yre.call(this),this.v3t.yn(Ey.VL,this.yoe),this.v3t.yn(fa.Cy,this.Y8),this.v3t.yn(zp.da,this.Mzt)},i.wre=function(){this.v3t.fn(Ey.VL,this.yoe),this.v3t.fn(fa.Cy,this.Y8),this.v3t.fn(zp.da,this.Mzt),t.prototype.wre.call(this)},i.vd=function(t){var n,i=this.Ose(t.currentTime),r=this.vre.F2t;this.vre.Kse(i);var e=this.vre.F2t;r<.25&&e>=.25?this.b3t.wo(new g0(this.t$t,i)):r<.5&&e>.5?this.b3t.wo(new w0(this.t$t,i)):r<.75&&e>=.75?this.b3t.wo(new y0(this.t$t,i)):(null==(n=this.vre)?void 0:n.JR)&&this.Td(i)},i.Td=function(n){t.prototype.Td.call(this,n),this.O9=!1},i.er=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.er.call(n)];case 1:return i.sent(),n.O9=!1,[2]}}))}))()},xt(n,[{key:"Cre",get:function(){return K3.DEFAULT}}]),n}(q3),g4=function(t){function n(n){var i,r,e;i=t.call(this,n)||this,r=i,i.zG=void 0,i.AZ=void 0,i.Goe=os(),i.$oe=!0,i.the=NaN,i.Woe=NaN,i.Voe=NaN,i.Joe=!1,i.Cd=function(){i.Tst.fn(Ey.BL,i.xoe),i.Aoe.Sne(i.ea.nt)},i.koe=Zt((function(){var t;return Ht(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,r.gst.yq([AE.THEOADS])];case 1:return n.sent(),[3,4];case 2:return t=n.sent(),[4,r.EI().catch(Ti)];case 3:return n.sent(),r.MH(ol(t,el.LICENSE_INVALID_FEATURE)),[3,4];case 4:return[2]}}))})),i.xoe=function(){var t;i.Tst.fn(Ey.OL,i.xoe),(null==(t=i.Toe)?void 0:t.sseEndpoint)&&i.Aoe.wne(i.Toe.sseEndpoint)},i.Doe=function(){i.Hoe(i.kR()),i.Zoe()},i.RX=function(){i.Hoe(i.kR()),i.Zoe()},i.EE=function(){i.zoe(i.kR())},i.Loe=function(){i.w1t()},i.Uoe=function(t){i.Soe.wo(t.ka)},i.Tst=n,i.Vs=n.we;var u=I3(i.Vs),s=u.contentElement,o=u.adElement;return i.ehe=s,i.ihe=o,_i(i.ehe),_i(i.ihe),i.Soe=new z3(i),i.goe=new J3,null==(e=i.Tst.qc)||e.tnt(i.goe),i.Aoe=new Z3(i),i.boe=new u4(i,s,i.goe),i}Rt(n,t);var i=n.prototype;return i.xst=function(){return this.Tst.qc},i.Dst=function(){return this.Soe.ka},i.xR=function(){return this.Vs},i.Est=function(){return this.Tst.hst},i.PR=function(){var n;return null!=(n=this.AZ)?n:t.prototype.PR.call(this)},i.NR=function(){var n;return null!=(n=this.zG)?n:t.prototype.NR.call(this)},i.SI=function(){this.Tst.SI()},i.zne=function(t){return t},i.xa=function(n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return[4,t.prototype.xa.call(r,n,i)];case 1:return s.sent(),void 0===n||void 0===n.ads?[2]:void 0===(e=go(n.ads,o4))?[2]:(r.koe(),r.Toe=e,r.Eoe=e.backdropLShape,r.boe.roe=e.adTagParameters,r.Tst.yn(Ey.OL,r.xoe),r.Tst.yn(Ey.BL,r.Cd),r.Roe(),r.Aoe.Zne=function(t){switch(t){case"single":return b3.SINGLE;case"l-shape":return b3.LSHAPE_AD;case"double":return b3.DOUBLE;case"single-if-mobile":return Gn.Qs?b3.SINGLE:void 0;default:return}}(r.Toe.overrideLayout),r.Aoe.qne=r.Toe.overrideAdSrc,r.Aoe.Rne=r.Toe.useId3,u=void 0===e.networkCode||void 0===e.customAssetKey,[4,r.Ioe(u)]);case 2:return s.sent(),[2]}}))}))()},i.Ioe=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b;return Ht(this,(function(k){switch(k.label){case 0:return u=n.Z1t(),s=n.Coe(),a=null!=(o=null==(i=n.Rre)?void 0:i.WJt)?o:[],t&&(null==(r=n.Rre)?void 0:r.Cre)!==K3.DEFAULT?[4,null==(c=n.Rre)?void 0:c.er()]:[3,2];case 1:k.sent(),n.Rre=new d4(u,n.goe,a),k.label=2;case 2:return t||(null==(e=n.Rre)?void 0:e.Cre)===K3.GOOGLE?[3,5]:[4,null==(h=n.Rre)?void 0:h.er()];case 3:return k.sent(),n.Rre=new e4(u,n.goe,s,a,n.roe,null==(f=n.Toe)?void 0:f.streamActivityMonitorId,null==(v=n.Toe)?void 0:v.retrievePodIdURI),y=null!=(p=null==(l=n.Poe)?void 0:l._ne)?p:null==(d=n.Toe)?void 0:d.networkCode,b=null!=(_=null==(g=n.Poe)?void 0:g.vne)?_:null==(m=n.Toe)?void 0:m.customAssetKey,[4,null==(w=n.Rre)?void 0:w.Pre(y,b,n.roe)];case 4:k.sent(),k.label=5;case 5:return[2]}}))}))()},i.Gne=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return i.Poe||void 0===t||void 0===n?[2]:(null==(r=i.Rre)?void 0:r.Cre)===K3.GOOGLE?[3,2]:[4,i.Ioe(!1)];case 1:u.sent(),u.label=2;case 2:return[4,null==(e=i.Rre)?void 0:e.Pre(t,n,i.roe)];case 3:return u.sent(),[2]}}))}))()},i.MH=function(t){void 0===this.NR()&&(this.zG=t,this.AZ=am(t),this.wo(new Ek(t)))},i.Roe=function(){this.Tst.yn(fa.sb,this.Doe),this.Tst.yn(fa.jy,this.RX),this.Tst.yn(fa.Xy,this.EE)},i.Noe=function(){this.Tst.fn(fa.sb,this.Doe),this.Tst.fn(fa.jy,this.RX),this.Tst.fn(fa.Xy,this.EE)},i.Moe=function(){this.goe.$1t.yn("rnt",this.Loe)},i.Boe=function(){this.goe.$1t.fn("rnt",this.Loe)},i.w1t=function(){this.Ooe()},i.Foe=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.Ooe(),[2]}))}))()},i.Ooe=function(){var t=this.ea.cI,n=this.ea.fI;t===this.Voe&&n===this.Woe||(this.Voe=t,this.Woe=n,this.wo(new Ty))},i.Xne=function(t){var n;m4(t)&&(null==(n=this.Rre)||n.Xne(t),this.Qne(this.kR()));t.yn("zse",this.Uoe),this.Soe.wo(new a4(t.Yst()))},i.ire=function(t){var n;(this.Aoe.ire(t),m4(t))?null==(n=this.Rre)||n.ire(t):w4(t)&&(this.boe.coe(t),this.Goe.delete(t.o));t.fn("zse",this.Uoe),this.Soe.wo(new c4(t).ka)},i.Qne=function(t){this.Hoe(t),this.Zoe()},i.Hoe=function(t){this.Xoe(t),this.zoe(t),this.qoe(t)},i.Xoe=function(t){for(var n,i=[],r=0,e=this.Aoe.gne.filter(m4);r<e.length;r++){var u=e[r];if(u.JR)i.push(u);else{var s=u.qse;void 0!==s&&t>=s?(u.JR=!0,i.push(u)):void 0!==n&&n.FO<u.FO||(n=u)}}for(var o=0;o<i.length;o++){var a=i[o];this.ire(a)}this.Poe!==n&&(this.Poe=n,this.Yoe())},i.Yoe=function(){var t,n;null==(t=this.Rre)||t.mre(),null==(n=this.Koe)||n.Yw(),this.joe=void 0,this.Qoe=void 0},i.zoe=function(t){var n=this;if(void 0!==this.Poe&&void 0===this.joe&&!this.Joe){var i=!1,r=MA.xn(this.Tst.pR()).dB(t);if(void 0!==r&&(i=r.jn(0)>=this.Poe.FO),m4(this.Poe)){var e=this.Poe,u=e.qse,s=t>=e.FO&&(void 0===u||t<u);(i||s)&&(this.Koe=new Jo,this.joe=Ho(this.zre(e,t,this.Koe.Vw),this.Koe).catch((function(t){Wo(t)||(n.Soe.wo(new f4(e,"Could not load the ad break.").ka),e.JR=!0,n.Poe=void 0)})))}}},i.qoe=function(t){var n=this;if(void 0!==this.Poe&&void 0===this.Qoe&&!this.Joe){var i,r=this.Poe.qse;if(t>=this.Poe.FO&&(void 0===r||t<r))this.Qoe=null==(i=this.joe)?void 0:i.then((function(){return n.Foe()}))}},i.are=function(t){var n,i,r;this.Mre=t,null==(i=this.Rre)||i.are(null!=(r=null!=t?t:null==(n=this.Toe)?void 0:n.adTagParameters)?r:{}),this.boe.roe=t},i.Zoe=function(){var t,n=function(n,e){var u=e[n],s=u.qse;if(void 0!==s&&r>=s)return"continue";var o=u.FO,a=u.FO+u.ct;r>=o&&r<=a&&!t.Goe.has(u.o)&&(t.boe.ooe(u).catch((function(t){i.Soe.wo(new f4(u,"Could not load the overlay.").ka)})),t.Soe.wo(new M3(u).ka),t.Goe.set(u.o,u))},i=this,r=this.kR(),e=[];this.Goe.forEach((function(t){r>=t.FO&&(void 0===t.qse||r<t.qse)||e.push(t)})),e.forEach((function(t){return i.ire(t)}));for(var u=0,s=this.Aoe.gne.filter(w4);u<s.length;u++)t=this,n(u,s)},i.EI=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return n.zG=void 0,n.AZ=void 0,n.Toe=void 0,n.$oe=!0,n.the=NaN,n.Woe=NaN,n.Voe=NaN,n.Poe=void 0,null==(i=n.Koe)||i.Yw(),n.joe=void 0,n.Qoe=void 0,[4,null==(r=n.Rre)?void 0:r.er()];case 1:return e.sent(),n.Rre=void 0,n.Aoe.er(),n.boe.er(),n.Goe.clear(),n.Tst.fn(Ey.OL,n.xoe),n.Tst.fn(Ey.BL,n.Cd),n.Noe(),n.Boe(),n.Yoe(),[4,t.prototype.EI.call(n)];case 2:return e.sent(),[2]}}))}))()},i.gn=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.EI().catch(Ti)];case 1:return r.sent(),n.Aoe.gn(),[4,null==(i=n.Rre)?void 0:i.gn()];case 2:return r.sent(),[4,t.prototype.gn.call(n)];case 3:return r.sent(),[2]}}))}))()},i.MI=function(n){switch(n.type){case fa.Vy:case fa.Ty:case Ey.OL:return!this.$oe;case Ey.BL:return!this.$oe||(this.$oe=!1,!1);case fa.xy:var i=this.Sd();return i!==this.the&&(this.the=i,this.wo(new _T(i))),!0;case fa.Yy:return this.Ooe(),!0}return t.prototype.MI.call(this,n)},xt(n,[{key:"rre",get:function(){var t;return[null==(t=this.Rre)?void 0:t._re].concat(Ut(this.boe.rre)).filter(Yn)}},{key:"ore",get:function(){return this.Aoe.gne}},{key:"roe",get:function(){var t,n,i;return null!=(i=null!=(n=this.Mre)?n:null==(t=this.Toe)?void 0:t.adTagParameters)?i:{}}}]),n}(j$);function m4(t){return"adbreak"===t.Aw}function w4(t){return"overlay"===t.Aw}var p4=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).she=0,n.dhe=!0,n.rhe=!1,n.ohe=!0,n.hhe=!0,n.vhe=!0,n.tzt=function(t){n.DA=t.duration},n.NW=function(){n.Tst.fn(Ey.VL,n.NW),n.dhe=!1},n.fhe=function(){n.Tst.fn(Ey.BL,n.fhe),n.uhe&&(n.Tst.wR=n.uhe,n.uhe=void 0),n.Tst.kR()>0&&(n.she-=n.Tst.kR())},n}Rt(n,t);var i=n.prototype;return i.Sd=function(){var n;return null!=(n=this.DA)?n:t.prototype.Sd.call(this)},i.tu=function(){var n;return null!=(n=this.Cc)?n:t.prototype.tu.call(this)},i.kR=function(){return this.zne(t.prototype.kR.call(this))},i.pR=function(){var n=t.prototype.pR.call(this);return MA.xn(n).kb(this.she).ks()},i.oI=function(){var n=t.prototype.oI.call(this);return MA.xn(n).kb(this.she).ks()},i.zne=function(t){return t+this.she},i.xa=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,t.prototype.xa.call(r,n,i)];case 1:return e.sent(),r.Toe?(r.Cc=n,r.nhe=new D3(r.Tst),r.nhe.dr(r.Tst.we,r.Tst.we.parentElement),r.lO(r.nhe),[2]):[2]}}))}))()},i.Roe=function(){t.prototype.Roe.call(this),this.Tst.yn(fa.xy,this.tzt),this.Tst.yn(Ey.VL,this.NW)},i.Noe=function(){t.prototype.Noe.call(this),this.Tst.fn(fa.xy,this.tzt),this.Tst.fn(Ey.VL,this.NW)},i.Z1t=function(){return this.Tst},i.Coe=function(){return this.ehe},i.ER=function(n,i){this.rhe=!0,t.prototype.ER.call(this,n,i)},i.Moe=function(){t.prototype.Moe.call(this),this.Tst.yn(fa.Cy,this.Loe)},i.Boe=function(){t.prototype.Boe.call(this),this.Tst.fn(fa.Cy,this.Loe)},i.kI=function(){t.prototype.kI.call(this),this.wo(new yT(this.kR())),this.ohe=!0,this.hhe=!1},i.TI=function(){this.hhe=!0,t.prototype.TI.call(this)},i.zre=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return u=N3(t),[4,r.Ioe(u)];case 1:return s.sent(),[4,null==(e=r.Rre)?void 0:e.qre(t,n,i)];case 2:return r.ahe=s.sent(),[2]}}))}))()},i.Foe=function(){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return void 0===n.Poe||void 0===n.ahe?[2]:(n.Noe(),null==(i=n.Koe)||i.Yw(),n.Koe=new Jo,u=N3(n.Poe),[4,n.Ioe(u)]);case 1:return s.sent(),n.uhe=n.Tst.wR,null==(r=n.nhe)||r.lr(n.Tst.we),n.dhe=!0,n.she=n.kR(),n.Tst.yn(Ey.BL,n.fhe),n.Tst.yn(Ey.VL,n.NW),n.Soe.wo(new M3(n.Poe).ka),[4,null==(e=n.Rre)?void 0:e.kre({sources:{src:n.ahe}},n.Koe.Vw,void 0,!0)];case 2:return s.sent(),n.nhe=n._he(n.Poe.nne,n.Eoe),n.T1t(n.nhe),n.nhe.dr(n.we,n.Tst.we.parentElement),n.Moe(),n.Joe=!0,n.vhe=!1,[2,t.prototype.Foe.call(n)]}}))}))()},i._he=function(t,n){switch(t){case b3.LSHAPE_AD:return new P3(this.Tst,n);case b3.SINGLE:default:return new D3(this.Tst)}},i.w1t=function(){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.Poe?(n.uhe=n.uhe?new Date(Number(n.uhe)+1e3*n.Poe.ct):void 0,n.Poe=void 0,n.Boe(),n.dhe=!0,n.she=n.kR(),n.Aoe.Ene(n.Tst.nt),n.Tst.yn(Ey.BL,n.fhe),n.Tst.yn(Ey.BL,n.Cd),n.Tst.yn(Ey.VL,n.NW),[4,n.Tst.xa(n.Cc,(new Jo).Vw)]):[2];case 1:return r.sent(),null==(i=n.nhe)||i.lr(n.Tst.we),n.nhe=new D3(n.Tst),n.nhe.dr(n.Tst.we,n.Tst.we.parentElement),n.T1t(n.nhe),n.Tst.kI(),n.vhe=!0,n.Joe=!1,n.Roe(),t.prototype.w1t.call(n),[2]}}))}))()},i.EI=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.nhe=void 0,n.DA=void 0,n.she=0,n.ahe=void 0,n.uhe=void 0,n.vhe=!0,n.dhe=!1,n.ohe=!0,n.hhe=!0,n.Tst.fn(Ey.BL,n.fhe),[4,t.prototype.EI.call(n)];case 1:return i.sent(),[2]}}))}))()},i.MI=function(n){if(void 0!==this.nhe)switch(n.type){case fa.ro:return!0;case fa.Zy:if(!this.hhe)return!0;this.hhe=!1;break;case Ey.VL:if(!this.ohe)return!0;this.ohe=!1;break;case Ey.FL:if(this.dhe)return!0;this.ohe=!0;break;case fa.Ky:if(this.dhe&&!this.rhe)return!0;this.rhe=!1;break;case fa.jy:if(this.dhe&&!this.rhe)return!0;break;case fa.Cy:if(!this.vhe)return!0}return t.prototype.MI.call(this,n)},n}(g4);U(),St(),Gt(),Dt(),Ct(),Jt();var y4=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).mhe=0,r.ghe=0,r.Che=0,r.Phe=function(){if(r.Tst.fn(Ey.OL,r.Phe),r.Ihe){var t=r.Ihe;t.setSeconds(r.Ihe.getSeconds()+r.Che),r.Tst.wR=t,r.Ihe=void 0}r.ghe-=r.Tst.kR()},r.Tst=n,r.v3t=i,r}Rt(n,t);var i=n.prototype;return i.Dse=function(){this.mhe=this.Tst.kR()+this.ghe},i.Zse=function(){var t;if(void 0===this.phe){var n=this.whe;this.whe=void 0,null==(t=this.yhe)||t.Yw(),k4(this.Tst)&&(this.bhe=new Jo,this.phe=Ho(this.Ahe(n,this.bhe.Vw),this.bhe).catch(Xo))}},i.Xse=function(){var t,n=this.phe;this.phe=void 0,null==(t=this.bhe)||t.Yw(),this.yhe=new Jo,this.whe=Ho(this.She(n,this.yhe.Vw),this.yhe).catch(Xo)},i.Sa=function(){return this.Tst.lH},i.khe=function(){this.Ehe={source:this.Tst.tu(),duration:this.Tst.Sd(),currentTime:this.Tst.kR(),preload:this.Tst.tI,autoplay:this.Tst.bO}},i.xhe=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return n.Tst.tI=nS.jB,n.Tst.bO=!1,n.v3t.GR=!0,i=n.v3t.tu(),[4,n.Tst.xa(i,t)];case 1:return r.sent(),n.Tst.ER(n.v3t.kR()),[2]}}))}))()},i.Rhe=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Ehe?(n.Tst.tI=n.Ehe.preload,n.Tst.bO=n.Ehe.autoplay,[4,n.Tst.xa(n.Ehe.source,t)]):[2];case 1:return i.sent(),n.Ehe=void 0,[2]}}))}))()},i.Ahe=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,null==t?void 0:t.catch(Ti)];case 1:return r.sent(),i.khe(),i.Ihe=i.Tst.wR,[4,i.Tst.EI()];case 2:return r.sent(),[4,i.xhe(n)];case 3:return r.sent(),i.T1t(i.Tst),i.Tst.kI(),[2]}}))}))()},i.She=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return[4,null==t?void 0:t.catch(Ti)];case 1:return r.sent(),i.Che=i.v3t.kR(),i.ghe=i.Che+i.Fse,[4,i.Tst.EI()];case 2:return r.sent(),[4,i.v3t.EI()];case 3:return r.sent(),[4,i.Rhe(n)];case 4:return r.sent(),i.T1t(i.v3t),i.Tst.yn(Ey.OL,i.Phe),i.Tst.kI(),[2]}}))}))()},i.tu=function(){return this.Ehe?this.Ehe.source:t.prototype.tu.call(this)},i.Sd=function(){return this.Ehe?this.Ehe.duration:t.prototype.Sd.call(this)},i.oI=function(){var n=t.prototype.oI.call(this);return MA.xn(n).kb(this.Fse).ks()},i.pR=function(){var n=t.prototype.pR.call(this);return MA.xn(n).kb(this.Fse).ks()},i.er=function(){this.ghe=0,this.mhe=0,this.Che=0,this.Ihe=void 0},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.gn.call(n)];case 1:return i.sent(),n.er(),n.Tst.fn(Ey.OL,n.Phe),[2]}}))}))()},xt(n,[{key:"Fse",get:function(){return this.mhe}},{key:"Mse",get:function(){return this.ghe}}]),n}(j$);U(),St(),Ct();var _4=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.xa=function(n,i){var r;return void 0!==go(null!=(r=null==n?void 0:n.ads)?r:[],o4)?ut.reject(new sl(el.CONFIGURATION_ERROR,"THEOads must be enabled in the player configuration.")):t.prototype.xa.call(this,n,i)},n}(Hk),b4=function(t){function n(n){var i;(i=t.call(this,n)||this).Xhe=!0,i.ohe=!0,i.Uhe=!0,i.Vhe=!1,i.Nhe=function(t){if(i.Fhe&&!function(t){return t instanceof w3}(i.Fhe)&&i.Joe)switch(t.presentationMode){case"native-picture-in-picture":i.Ohe(new w3(i.Tst,i.v3t),!1,!1);break;case"fullscreen":e1(i.bd)&&i.Ohe(new w3(i.Tst,i.v3t),!1,!1)}},i.Ghe=function(t){k4(i.Tst)||i.Zhe()},i.Hhe=function(t){k4(i.Tst)||i.Zhe()};var r=new A0(new DM(i.ihe,n.bd,new LE),IS.Fg);return r.tI=nS.jB,r.bO=!1,i.v3t=new y4(i.Tst,r),i.Bre=function(t){var n=v.createElement("div");return di(n,"theo-ads-sgai-ima-container"),function(t){t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%"}(n),t.appendChild(n),n}(i.ihe),i.Dhe(),i}Rt(n,t);var i=n.prototype;return i.Dhe=function(){this.Tst.wst.yn("presentationmodechange",this.Nhe)},i.Mhe=function(){this.Tst.wst.fn("presentationmodechange",this.Nhe)},i.xa=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return[4,t.prototype.xa.call(r,n,i)];case 1:return e.sent(),r.Toe?(r.Lhe=r.Toe.backdropDoubleBox,r.Bhe(),r.Ohe(new m3(r.Tst,r.v3t),!1,!0),[2]):[2]}}))}))()},i.Ohe=function(t,n,i){var r;void 0!==this.Fhe&&(this.Fhe.lr(this.we,this.ehe,this.ihe),this.Fhe.gn());var e=null!=(r=this.Fhe)?r:this,u=null!=t?t:this.Tst;d3(e,u),null==t||t.dr(this.we,this.ehe,this.ihe,e,n),this.Fhe=t,i?this.lO(u):this.T1t(u)},i.Bhe=function(){this.Vhe||(this.Vhe=!0,bi(this.ehe),bi(this.ihe),R3(this.Vs),R3(this.ehe),R3(this.ihe),function(t){var n=t.style;n.display="flex",n.alignItems="center"}(this.Vs))},i.Whe=function(){this.Vhe&&(this.Vhe=!1,C3(this.Vs),C3(this.ehe),C3(this.ihe),_i(this.ehe),_i(this.ihe))},i.Z1t=function(){return this.v3t},i.Coe=function(){return this.Bre},i.SI=function(){t.prototype.SI.call(this),this.v3t.SI()},i.ER=function(n,i){this.Uhe=!0,t.prototype.ER.call(this,n,i)},i.zne=function(t){return t+this.v3t.Mse},i.Moe=function(){t.prototype.Moe.call(this),this.v3t.yn(fa.Xy,this.Ghe),this.v3t.yn(fa.Cy,this.Loe),this.Tst.yn(fa.Wy,this.Hhe)},i.Boe=function(){t.prototype.Boe.call(this),this.v3t.fn(fa.Xy,this.Ghe),this.v3t.fn(fa.Cy,this.Loe),this.Tst.fn(fa.Wy,this.Hhe)},i.Zhe=function(){var t,n,i=null==(t=this.Poe)?void 0:t.qse;if(void 0!==i&&!(null==(n=this.Fhe)?void 0:n.Bse())&&!hr(this.Tst.kR(),i,.001)){var r=MA.xn(this.v3t.pR()),e=this.v3t.oI(),u=A.min(e.end(e.length-1),this.Poe.ct);r.zL().kr(u)&&this.Tst.ER(i,{KBt:!0})}},i.zre=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return u=N3(t),[4,r.Ioe(u)];case 1:return s.sent(),[4,null==(e=r.Rre)?void 0:e.zre(t,n,i)];case 2:return s.sent(),[2]}}))}))()},i.Foe=function(){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){return void 0===(i=n.Poe)?[2]:(r=i.nne,e=n._he(r,i),n.Noe(),Gn.$m&&Gn.rg>=16&&Gn.rg<18&&n.v3t.ER(n.v3t.kR()),Gn.Zv&&!e.Bse()&&(C3(n.ehe),_i(n.ehe)),n.Ohe(e,n.ohe,!1),n.Soe.wo(new M3(i).ka),n.Moe(),n.Joe=!0,n.Xhe=!1,n.Qoe=void 0,[2,t.prototype.Foe.call(n)])}))}))()},i._he=function(t,n){if(k4(this.Tst))return new w3(this.Tst,this.v3t);switch(t){case b3.DOUBLE:return n.rne||n.tr({backdropUri:this.Lhe}),new A3(this.Tst,this.v3t,n.rne);case b3.LSHAPE_AD:return n.rne||n.tr({backdropUri:this.Eoe}),new E3(this.Tst,this.v3t,n.rne);case b3.LSHAPE_CONTENT:return n.rne||n.tr({backdropUri:this.Eoe}),new S3(this.Tst,this.v3t,n.rne);case b3.SINGLE:default:return new p3(this.Tst,this.v3t)}},i.w1t=function(){var n;void 0!==this.Poe&&(this.Boe(),Gn.Zv&&(bi(this.ehe),R3(this.ehe)),function(t){return t instanceof w3}(this.Fhe)&&(this.Aoe.Ene(this.Tst.nt),this.Tst.yn(Ey.BL,this.Cd)),this.Ohe(new m3(this.Tst,this.v3t),!0,!1),(null==(n=this.Fhe)?void 0:n.Bse())||(this.Uhe=!1,this.Tst.ER(this.Poe.qse,{KBt:!0})),this.v3t.EI(),this.Roe(),this.Joe=!1,this.Xhe=!1,this.Poe=void 0,t.prototype.w1t.call(this))},i.EI=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.ohe=!0,n.Uhe=!0,n.Xhe=!0,n.Joe=!1,n.Ohe(void 0,!1,!0),[4,n.v3t.EI()];case 1:return i.sent(),n.Whe(),[4,t.prototype.EI.call(n)];case 2:return i.sent(),[2]}}))}))()},i.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.Mhe(),[4,n.v3t.gn()];case 1:return i.sent(),[4,t.prototype.gn.call(n)];case 2:return i.sent(),[2]}}))}))()},i.MI=function(n){if(void 0!==this.Fhe)switch(n.type){case fa.ro:if(!this.Xhe)return this.Xhe=!0,!0;this.ohe=!0;break;case fa.Zy:if(this.RR&&this.Joe)return!0;break;case Ey.VL:if(!this.ohe)return!0;this.ohe=!1;break;case Ey.FL:this.ohe=!0;break;case fa.jy:if(!this.Uhe)return!0;break;case fa.Ky:if(!this.Uhe)return this.Uhe=!0,!0}return t.prototype.MI.call(this,n)},xt(n,[{key:"wst",get:function(){return this.Tst.wst}}]),n}(g4);function k4(t){var n=t.wst.Lo()===CT.FULLSCREEN&&e1(t.bd);return t.lH.rO||n}Qk((function(t){return t.bd.ads.theoads?Gn.Im||Gn.Nm||Gn.Vm?new p4(t):new b4(t):new _4(t)}),zk.Lst),U(),St(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt(),Ct(),U(),St();var A4=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).su=void 0,n}return Rt(n,t),xt(n,[{key:"ka",get:function(){return this.su||(this.su=function(t){return{get casting(){return t.hQ},get state(){return t.Pft},start:function(){t.RI()},stop:function(){t.II()},addEventListener:function(n,i){var r=Hg(n,Xg);t.yn(r,i)},removeEventListener:function(n,i){var r=Hg(n,Xg);t.fn(r,i)}}}(this)),this.su}}]),n}(oa),T4=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Ba=HS.UNAVAILABLE,e.Jhe=new Jo,e.Yhe=function(){var t,n=null==(t=e.vj.tu())?void 0:t.sources.filter(gT);(null==n?void 0:n.some(Wk))?e.Fa(HS.AVAILABLE):e.Fa(HS.UNAVAILABLE)},e.handleAirplayChangedEvent=function(){e.ea&&e.ea.OR?e.Qhe():e.Pft===HS.CONNECTED&&e.iae()},e.handleAirplayPlayerTimeUpdate=function(t){e.$he=t.currentTime,e.tae=e.vj.wR},e.Zgt=n,e.vj=i,e.jhe=r,e.jhe.be(),i.wO(r),e.zhe(),e}Rt(n,t);var i=n.prototype;return i.zhe=function(){this.qhe(),this.Zgt.yn(fa.ao,this.Yhe),this.Fa(HS.AVAILABLE)},i.qhe=function(){this.ea&&this.ea.fn(fa.gy,this.handleAirplayChangedEvent),this.Khe?this.ea=this.vj:this.ea=this.jhe,this.ea.yn(fa.gy,this.handleAirplayChangedEvent)},i.Qhe=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return t.ea?t.Khe?[3,2]:(t.$he=t.vj.SR,t.tae=t.vj.wR,t.jhe.yn(fa.sb,t.handleAirplayPlayerTimeUpdate),t.eae=t.vj.fC,t.vj.fC=t.jhe,t.eae.TI(),t.eae.be(),t.jhe.ge(),t.jhe.GR=t.eae.GR,t.jhe.KR=t.eae.KR,t.jhe.vI=t.eae.vI,n=t.jhe.vy(fa.Ky),t.jhe.SR=t.eae.SR,[4,n]):[2];case 1:return e.sent(),t.jhe.kI(),t.jhe.GR=t.eae.GR,t.jhe.KR=t.eae.KR,t.jhe.vI=t.eae.vI,[3,5];case 2:return t.ea.qR?[3,4]:(i=new ut((function(t){return g(t,800)})),r=t.ea.vy(fa.Zy,t.Jhe.Vw),[4,ut.race([r,i])]);case 3:e.sent(),e.label=4;case 4:t.ea.kI(),e.label=5;case 5:return t.Fa(HS.CONNECTED),[2]}}))}))()},i.iae=function(){this.eae?(this.jhe.fn(fa.sb,this.handleAirplayPlayerTimeUpdate),this.eae.GR=this.jhe.GR,this.eae.KR=this.jhe.KR,this.eae.vI=this.jhe.vI,Gn.$m&&!Gn.iu&&this.vj.ct===1/0?this.tae?this.eae.wR=this.tae:this.eae.SR=1/0:this.eae.SR=this.$he,this.tae=void 0,this.$he=void 0,this.eae.ge(),this.jhe.be(),this.jhe.qR||this.eae.kI(),this.vj.fC=this.eae,this.jhe.er(),this.eae=void 0):this.ea&&(this.ea.SR=this.ea.SR+1e-4);this.Fa(HS.AVAILABLE)},i.preloadPlayer=function(t){if(jo(t),this.ea.sI<Cy.Gn){var n=this.ea.vy(Ey.OL,t);return this.ea.tI=nS.$V,n}return ut.resolve()},i.Fa=function(t){t!==this.Ba&&(this.Ba=t,this.wo(new L$(this.Ba)))},i.RI=function(){this.Zgt.SI(),this.Jhe.Yw(),this.Jhe=new Jo,ta(Ho(this.Khe?this.sae(this.Jhe.Vw):this.nae(this.Jhe.Vw),this.Jhe))},i.sae=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.preloadPlayer(t)];case 1:return i.sent(),n.vj.RI(),[2]}}))}))()},i.nae=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,n.jhe.er()];case 1:if(e.sent(),void 0===(i=n.vj.tu()))throw new y("Not possible to start Airplay without a source");return[4,n.jhe.xa(i,t)];case 2:return e.sent(),r=n.jhe.vy(Ey.VL,t),n.jhe.kI(),[4,ea(r,3e3)];case 3:return e.sent(),n.jhe.TI(),jo(t),n.jhe.RI(),[3,5];case 4:return Wo(e.sent())?[2]:[3,5];case 5:return[2]}}))}))()},i.II=function(){this.ea.II()},i.gn=function(){var t;this.$o(),this.Zgt.fn(fa.ao,this.Yhe),this.Jhe.Yw(),this.vj.yO(this.jhe),null==(t=this.jhe)||t.gn()},xt(n,[{key:"hQ",get:function(){return this.Pft===HS.CONNECTED}},{key:"Pft",get:function(){return this.Ba}},{key:"Khe",get:function(){return this.vj.xI()}}]),n}(A4);U(),St(),Dt(),Ct();var S4=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.RI=function(){},i.II=function(){},xt(n,[{key:"hQ",get:function(){return!1}},{key:"Pft",get:function(){return HS.UNAVAILABLE}}]),n}(A4);U(),St(),Gt(),Dt(),Ct(),Jt();var E4=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).JH=void 0,a.Cc=void 0,a.aO=new oA,a.cO=new oA,a.Ll=new aA,a.Vs=n,a.oae=new qT(s,o,1,[im._E]),a.oae.yZ(n),a.rae=new Uk(n,a.oae,i,r,e,u),a.rae.iy(a.Ds),a.aO.fC=a.rae.ht,a.cO.fC=a.rae.rt,a.Ll.fC=a.rae.nt,a}Rt(n,t);var i=n.prototype;return i.DI=function(){this.rae.DI()},i.LI=function(t){throw new y("Can't add a track while using AirPlay.")},i.ER=function(t,n){this.rae.ER(t,n)},i.xI=function(){return this.rae.xI()},i.RI=function(){this.rae.RI()},i.II=function(){this.rae.II()},i.kI=function(){ta(this.rae.kI())},i.TI=function(){this.rae.TI()},i.EI=function(){return Zt((function(){return Ht(this,(function(t){return[2]}))}))()},i.tu=function(){return this.Cc},i.xa=function(t,n){var i=this;return Zt((function(){var r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:if(jo(n),i.Cc=t,hT(t.sources))r=kA({src:""});else for(e=t.sources.filter(gT),u=0;u<e.length;u++)if(Wk(s=e[u])){r=s;break}if(!r)throw new y("Unsupported source.");return[4,i.rae.xa(r,t,n)];case 1:return o.sent(),i.oZ(r),[2]}}))}))()},i.oZ=function(t){this.JH!==t&&(this.JH=t,this.wo(new LT(t)))},i.AI=function(){return this.rae.AI()},i.mR=function(){return[]},i.SI=function(){this.oae.fZ()},i.dr=function(t){MT(this,t)},i.lr=function(){},i.NI=function(t){return!1},i.CI=function(){this.rae.CI()},i.er=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.JH=void 0,t.Cc=void 0,[4,t.rae.er()];case 1:return n.sent(),[2]}}))}))()},i.ge=function(){this.rae.ge()},i.be=function(){this.rae.be()},i.bI=function(){return this.rae.bI()},i.Sa=function(){return this.rae.Sa()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.$o(),t.oae.gn(),[4,t.rae.gn()];case 1:return n.sent(),t.aO.gn(),t.cO.gn(),t.Ll.gn(),[2]}}))}))()},xt(n,[{key:"ht",get:function(){return this.rae.ht}},{key:"gR",get:function(){return this.rae.gR}},{key:"bt",get:function(){return this.JH}},{key:"SR",get:function(){return this.rae.SR},set:function(t){this.ER(t)}},{key:"wR",get:function(){return this.rae.wR}},{key:"ct",get:function(){return this.rae.ct}},{key:"we",get:function(){return this.Vs}},{key:"RR",get:function(){return this.rae.RR}},{key:"lt",get:function(){return this.rae.lt}},{key:"DR",get:function(){return this.rae.DR}},{key:"MR",get:function(){return this.rae.MR}},{key:"OR",get:function(){return this.rae.OR}},{key:"yI",get:function(){return this.rae.yI}},{key:"pI",get:function(){return this.rae.pI}},{key:"WR",get:function(){return this.rae.WR}},{key:"GR",get:function(){return this.rae.GR},set:function(t){this.rae.GR=t}},{key:"XR",get:function(){return this.rae.XR}},{key:"qR",get:function(){return this.rae.qR}},{key:"KR",get:function(){return this.rae.KR},set:function(t){this.rae.KR=t}},{key:"JR",get:function(){return this.rae.JR}},{key:"tI",get:function(){return this.rae.tI},set:function(t){this.rae.tI=t}},{key:"sI",get:function(){return this.rae.sI}},{key:"rI",get:function(){return this.rae.rI}},{key:"hI",get:function(){return this.rae.hI}},{key:"nt",get:function(){return this.rae.nt}},{key:"cI",get:function(){return this.rae.cI}},{key:"fI",get:function(){return this.rae.fI}},{key:"rt",get:function(){return this.rae.rt}},{key:"vI",get:function(){return this.rae.vI},set:function(t){this.rae.vI=t}}]),n}(ca),I4=function(t){function n(n){var i;i=t.call(this,n)||this;var r=new E4(i.ja.we,i.lR,i.bd,i.hst,i.pI,i.dst,i.zl);return i.hae=new T4(i,i.ja,r),i.xz.dQ(i.hae),i.yn(fa.Ty,(function(){i.hae.qhe()})),i}return Rt(n,t),n.prototype.gn=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return n.hae.gn(),[4,t.prototype.gn.call(n)];case 1:return i.sent(),[2]}}))}))()},n}(Hk);Qk((function(t){return qn.Ys.Kg?new I4(t):(t.xz.dQ(new S4),t)}),zk.Bst),U(),St(),U(),St(),Dt();var R4="VPAID",C4=function(){function t(){this.aae=new a1}var n=t.prototype;return n.RZ=function(t){return N4(t)},n.z1t=function(n,i,r){return r.ads||(r.ads=lT({})),r.ads.vpaidMode=r.ads.vpaidMode||t.uae(),this.aae.z1t(n,i,r)},n.u6=function(n,i,r,e){!function(t){if(!N4(t))throw new y("Unknown ad integration: "+t.integration)}(n);var u=t.cae(n,r.we);this.aae.u6(u,i,r,e)},n.Xz=function(t){var n=Mg(t);if(!E(n.id))return n.queryParameters||(n.queryParameters={}),n.custom&&(n.queryParameters.custom?Jr('"custom" parameter is redefined in queryParameters! Please use "queryParameters.custom" only!'):(n.queryParameters.custom=n.custom,delete n.custom)),n.app&&(n.queryParameters.app?Jr('"app" parameter is redefined in queryParameters! Please use "queryParameters.app" only!'):(n.queryParameters.app=n.app,delete n.app)),n.device&&(n.queryParameters.device?Jr('"device" parameter is redefined in queryParameters! Please use "queryParameters.device" only!'):(n.queryParameters.device=n.device,delete n.device)),n.user&&(n.queryParameters.user?Jr('"user" parameter is redefined in queryParameters! Please use "queryParameters.user" only!'):(n.queryParameters.user=n.user,delete n.user)),n.ipAddress&&(n.queryParameters.ip_addr?Jr('"ipAddress" parameter is redefined in queryParameters! Please use "queryParameters.ip_addr" or "ipAddress" only!'):(n.queryParameters.ip_addr=n.ipAddress,delete n.ipAddress)),n.maximumAdDuration&&(n.queryParameters.VMaxd?Jr('"maximumAdDuration" parameter is redefined in queryParameters! Please use "queryParameters.VMaxd" or "maximumAdDuration" only!'):(n.queryParameters.VMaxd=n.maximumAdDuration,delete n.maximumAdDuration)),n},t.cae=function(n,i){return{integration:ES.SPOTX,sources:{src:t.lae(n,f.location.href,i.offsetWidth,i.offsetHeight,Gn.Ig)}}},t.lae=function(n,i,r,e,u){if(n.sources)return n.sources;var s=e,o=r;u&&0===o&&(o=320,s=180);var a={custom_skin:1,player_width:o,player_height:s};n.cacheBuster&&(a.cb=A.random()),t.dae(i)&&(a.content_page_url=i);var c=us({},a,n.queryParameters);return c[R4]||c.VPI||(c[R4]="js"),"https://search.spotxchange.com/vast/2.0/"+n.id+"?"+t.fae(c)},t.dae=function(t){return Zs(t,"http://")||Zs(t,"https://")},t.fae=function(t){return TQ(t)},t.uae=function(){return Gn.Um?zA.ENABLED:zA.INSECURE},xt(t,[{key:"X1t",get:function(){return this.aae.X1t}}]),t}();function N4(t){return"spotx"===t.integration}IS.Fg.IZ(new C4),U(),St(),U(),St(),Ct(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var x4=A.PI/180,D4=180/A.PI,P4=function(){function t(t,n){this.x=t||0,this.y=n||0}var n=t.prototype;return n.Mb=function(t,n){return this.x=t,this.y=n,this},n.c_t=function(t){return this.x=t.x,this.y=t.y,this},n._ae=function(t){return this.Mb(t[0],t[1])},n.vae=function(){var t=new Float32Array(2);return t[0]=this.x,t[1]=this.y,t},n.mae=function(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this},t}(),M4=function(){function t(t,n,i){this.x=t||0,this.y=n||0,this.z=i||0}var n=t.prototype;return n.Mb=function(t,n,i){return this.x=t,this.y=n,this.z=i,this},n.c_t=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},n._ae=function(t){return this.Mb(t[0],t[1],t[2])},n.vae=function(){var t=new Float32Array(3);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t},n.V=function(){return A.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},n.gae=function(){var t=this.V();if(0!==t){var n=1/t;this.pae(n)}else this.x=0,this.y=0,this.z=0;return this},n.pae=function(t){this.x*=t,this.y*=t,this.z*=t},n.wae=function(t){var n=this.x,i=this.y,r=this.z,e=t.x,u=t.y,s=t.z,o=t.w,a=o*n+u*r-s*i,c=o*i+s*n-e*r,h=o*r+e*i-u*n,f=-e*n-u*i-s*r;return this.x=a*o+f*-e+c*-s-h*-u,this.y=c*o+f*-u+h*-e-a*-s,this.z=h*o+f*-s+a*-u-c*-e,this},n.yae=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},n.bae=function(t,n){var i=t.x,r=t.y,e=t.z,u=n.x,s=n.y,o=n.z;return this.x=r*o-e*s,this.y=e*u-i*o,this.z=i*s-r*u,this},t}(),B4=function(){function t(t,n,i,r){this.x=t||0,this.y=n||0,this.z=i||0,this.w=void 0!==r?r:1}var n=t.prototype;return n.Mb=function(t,n,i,r){return this.x=t,this.y=n,this.z=i,this.w=r,this},n.c_t=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},n._ae=function(t){return this.Mb(t[0],t[1],t[2],t[3])},n.vae=function(){var t=new Float32Array(4);return t[0]=this.x,t[1]=this.y,t[2]=this.z,t[3]=this.w,t},n.yae=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},n.QF=function(t){return this.Aae(this,t)},n.Aae=function(t,n){var i=t.x,r=t.y,e=t.z,u=t.w,s=n.x,o=n.y,a=n.z,c=n.w;return this.x=i*c+u*s+r*a-e*o,this.y=r*c+u*o+e*s-i*a,this.z=e*c+u*a+i*o-r*s,this.w=u*c-i*s-r*o-e*a,this},n.Sae=function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.gae(),this},n.Tae=function(){var t,n,i,r=this.x,e=this.y,u=this.z,s=this.w,o=r*e+u*s;if(o>.499)t=2*A.atan2(r,s),n=A.PI/2,i=0;else if(o<-.499)t=-2*A.atan2(r,s),n=-A.PI/2,i=0;else{var a=r*r,c=e*e,h=u*u;t=A.atan2(2*e*s-2*r*u,1-2*c-2*h),n=A.asin(2*o),i=A.atan2(2*r*s-2*e*u,1-2*a-2*h)}return new O4(t,i,n)},n.gae=function(){var t=A.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this},t}(),O4=function(){function t(t,n,i){this.kae=t||0,this.Eae=n||0,this.xae=i||0}var n=t.prototype;return n.Mb=function(t,n,i){return this.kae=t,this.Eae=n,this.xae=i,this},n.c_t=function(t){return this.Mb(t.kae,t.Eae,t.xae)},n.SO=function(t){return this.kae+=t.kae,this.Eae+=t.Eae,this.xae+=t.xae,this},n.SF=function(t){return this.kae-=t.kae,this.Eae-=t.Eae,this.xae-=t.xae,this},n.Rae=function(){var t=this.kae,n=this.xae,i=this.Eae,r=A.cos(t/2),e=A.cos(n/2),u=A.cos(i/2),s=A.sin(t/2),o=A.sin(n/2),a=A.sin(i/2),c=r*e,h=s*o;return new B4(c*a+h*u,s*e*u+r*o*a,r*o*u-s*e*a,c*u-h*a)},t}();U(),St();var L4=["Iae","uat","Cae","error"];U(),St();var F4=function(t){return t.Rs="unavailable",t.Pae="available",t.Ga="presenting",t}({});U(),St();var V4=function(){function t(t,n){var i=this;this.He=!1,this.qae=new P4,this.Yae=new P4,this.Xae=new P4,this.Uae=!1,this.Dae=function(t){i.qae.Mb(t.clientX,t.clientY),i.Uae=!0,t.preventDefault(),t.stopPropagation()},this.Nae=function(t){t.touches&&1===t.touches.length&&(i.qae.Mb(t.touches[0].pageX,t.touches[0].pageY),i.Uae=!0,t.preventDefault())},this.hr=function(t){if(i.Uae||i.zae()){if(i.zae()){var n=t.movementX||t.mozMovementX||0,r=t.movementY||t.mozMovementY||0;i.Yae.Mb(i.qae.x-n,i.qae.y-r)}else i.Yae.Mb(t.clientX,t.clientY);i.Xae.mae(i.Yae,i.qae),i.qae.c_t(i.Yae),i.Gae()}},this.Mae=function(t){i.Uae&&(i.Yae.Mb(t.touches[0].pageX,t.touches[0].pageY),i.Xae.mae(i.Yae,i.qae),i.qae.c_t(i.Yae),i.Gae())},this.Lae=function(){i.Wae()},this.Bae=function(){i.Wae()},this.Vae=function(){i.Wae()},this.Zae=t,this.Vs=n}var n=t.prototype;return n.rW=function(){this.He||(this.He=!0,this.Vs.addEventListener("mousedown",this.Dae),this.Vs.addEventListener("touchstart",this.Nae),f.addEventListener("mousemove",this.hr),f.addEventListener("touchmove",this.Mae),f.addEventListener("mouseup",this.Lae),f.addEventListener("touchend",this.Bae),this.Oae(f))},n.oW=function(){this.He&&(this.He=!1,this.Vs.removeEventListener("mousedown",this.Dae),this.Vs.removeEventListener("touchstart",this.Nae),f.removeEventListener("mousemove",this.hr),f.removeEventListener("touchmove",this.Mae),f.removeEventListener("mouseup",this.Lae),f.removeEventListener("touchend",this.Bae),this.Fae(f))},n.Oae=function(t){if(function(t){try{return Boolean(t)&&t===t.top}catch(t){return!1}}(t));else if(Ai(t))try{t.parent.addEventListener("mouseup",this.Lae),this.Oae(t.parent)}catch(n){t.document.documentElement.addEventListener("mouseleave",this.Vae)}},n.Fae=function(t){if(t.document.documentElement.removeEventListener("mouseleave",this.Vae),Ai(t))try{t.parent.removeEventListener("mouseup",this.Lae),this.Fae(t.parent)}catch(t){}},n.Wae=function(){this.Uae=!1},n.Gae=function(){var t=this.Zae.Hae;t.yaw+=2*A.PI*this.Xae.x*.4/this.Vs.clientWidth,t.pitch+=2*A.PI*this.Xae.y*.5/this.Vs.clientHeight,t.pitch=cr(t.pitch,-A.PI/2,A.PI/2),this.Zae.Hae=t},n.zae=function(){return(v.pointerLockElement||v.mozPointerLockElement||v.webkitPointerLockElement)===this.Vs},n.gn=function(){this.oW()},t}();U(),St(),Ct();var U4=function(t){function n(){return t.call(this,"Cae")||this}return Rt(n,t),n.prototype.ba=function(){return new W4},n}(yg),W4=function(t){function n(){return t.call(this,"stereochange")||this}return Rt(n,t),n}(ha);U(),St(),Wt();var j4=function(){function t(){this.UQ=[0,0,0,1],this.Qae=[]}var n=t.prototype;return n.Kae=function(t){var n;(n=t).clearColor.apply(n,Ut(this.UQ)),t.clear(t.COLOR_BUFFER_BIT)},n.jae=function(t,n){t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.DEPTH_BUFFER_BIT),this.Qae.forEach((function(i){i.jae(t,n)}))},n.Jae=function(t){this.Qae.push(t)},n.$ae=function(){this.Qae=[]},t}();U(),St(),Ct(),U(),St(),Wt(),U(),St(),Ct();var Z4=function(){function t(t,n,i,r,e){this.eue=t,this.Zb=this.tue(t,n,i),this.iue=r,this.bp=e,this.sue=!1,this.nue=0,this.nc=0}return t.prototype.tue=function(t,n,i){var r=t.createBuffer();return null===r?(Jr("Failed to create buffer."),null):(t.bindBuffer(n,r),t.bufferData(n,i,t.STATIC_DRAW),r)},t}(),X4=function(t){function n(n,i,r){return t.call(this,n,n.ARRAY_BUFFER,i,r,n.FLOAT)||this}Rt(n,t);var i=n.prototype;return i.rW=function(t){if(null!==this.Zb)if(null!==t){var n=this.eue;n.bindBuffer(n.ARRAY_BUFFER,this.Zb),n.vertexAttribPointer(t,this.iue,this.bp,this.sue,this.nue,this.nc),n.enableVertexAttribArray(t)}else Jr("Attempted to enable attribute without location.");else Jr("Attempted to enable buffer that failed to initialize.")},i.oW=function(t){t&&this.eue.disableVertexAttribArray(t)},n}(Z4);var G4=function(t){function n(n,i){var r;return(r=t.call(this,n,n.ELEMENT_ARRAY_BUFFER,i,1,n.UNSIGNED_SHORT)||this).oue=i.length,r}return Rt(n,t),n.prototype.rue=function(){var t=this.eue;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.Zb),t.drawElements(t.TRIANGLES,this.oue,this.bp,this.nc)},n}(Z4);U(),St();var H4=function(t){return t.VertexPos="aVertexPosition",t.VertexUV="aVertexUV",t.VertexColor="aVertexColor",t}({}),z4=function(t){return t.ProjectionMat="uProjectionMatrix",t.ModelViewMat="uModelViewMatrix",t.Texture="uTexture",t}({}),Y4=function(t){return t.Normal="vNormal",t.Color="vColor",t.UV="vUV",t}({}),K4=function(){function t(t,n,i){this.eue=t,this.lue=this.hue(this.eue,n,i)}var n=t.prototype;return n.hue=function(t,n,i){var r=this.aue(t,t.VERTEX_SHADER,n),e=this.aue(t,t.FRAGMENT_SHADER,i);if(null===r||null===e)return Jr("Failed to create vertex or fragment shader."),null;var u=t.createProgram();return null===u?(Jr("Failed to create shader program"),null):(t.attachShader(u,r),t.attachShader(u,e),t.linkProgram(u),t.getProgramParameter(u,t.LINK_STATUS)?u:(Jr("Failed to initialize shader program"),null))},n.aue=function(t,n,i){var r=t.createShader(n);if(null===r)return Jr("failed to create shader."),null;if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var e=t.getShaderInfoLog(r);return Jr("Failed to compile shader with error: "+e),t.deleteShader(r),null}return r},n.uue=function(){return this.lue},n.due=function(t){var n=this.lue;if(null===n)return Jr("Attempted to retrieve attribute location when shader program was not initialized"),null;var i=this.eue.getAttribLocation(n,t);return-1===i?null:i},n.fue=function(t){var n=this.lue;if(null===n)return Jr("Attempted to retrieve uniform location when shader program was not initialized"),null;var i=this.eue.getUniformLocation(n,t);return null===i&&Qr("Attempted to retrieve nonexistent uniform: "+t),i},t}(),q4=function(){function t(t,n,i){this.vue=t,this.mue=n,this.gue=i}var n=t.prototype;return n._ue=function(){var t,n=this.vue.length,i=(t=A).max.apply(t,Ut(this.mue));return i>=n?(Qr("Created geometry where largest index ("+i+") is larger than/equal to attribute array size ("+n+")"),!1):(i<n-1&&Jr("Created geometry where largest index ("+i+") is smaller than attribute buffer - 1 ("+(n-1)+") resulting in unused vertices"),!this.gue||this.gue.length===n||(Qr("Created geometry where position ("+n+") and uv ("+this.gue.length+") buffers have different length."),!1))},n.pue=function(t,n){if(!this._ue())throw new y("Failed to validate buffers for WebGLGeometry.");var i=function(t,n){var i=[];return n.forEach((function(t){i.push(t.x,t.y,t.z)})),new X4(t,new Float32Array(i),3)}(t,this.vue),r=function(t,n){return new G4(t,new Uint16Array(n))}(t,this.mue),e=function(t,n){var i=[];return n.forEach((function(t){i.push(t.x,t.y)})),new X4(t,new Float32Array(i),2)}(t,this.gue);return new J4(i,r,e,n)},t}(),J4=function(){function t(t,n,i,r){this.vue=t;var e=r.due(H4.VertexPos);if(null===e)throw new y("Failed to get position attribute location.");this.yue=e,this.gue=i,this.bue=r.due(H4.VertexUV),this.mue=n}var n=t.prototype;return n.wue=function(){this.vue.rW(this.yue),null!==this.bue&&this.gue.rW(this.bue)},n.Aue=function(){this.vue.oW(this.yue),null!==this.bue&&this.gue.oW(this.bue)},n.jae=function(){this.mue.rue()},t}(),Q4=function(t){function n(n,i,r,e,u,s,o){void 0===n&&(n=1),void 0===i&&(i=32),void 0===r&&(r=16),void 0===e&&(e=0),void 0===u&&(u=2*A.PI),void 0===s&&(s=0),void 0===o&&(o=A.PI);for(var a=0,c=A.min(s+o,A.PI),h=[],f=[],v=[],l=[],d=0;d<=r;d++){var g=[],m=d/r,w=0;0===d&&0===s?w=.5/i:d===r&&c===A.PI&&(w=-.5/i);for(var p=0;p<=i;p++){var y=p/i,_=-n*A.cos(e+y*u)*A.sin(s+m*o),b=n*A.cos(s+m*o),k=n*A.sin(e+y*u)*A.sin(s+m*o);f.push(new M4(_,b,k)),v.push(new P4(y+w,1-m)),g.push(a++)}l.push(g)}for(var T=0;T<r;T++)for(var S=0;S<i;S++){var E=l[T][S+1],I=l[T][S],R=l[T+1][S],C=l[T+1][S+1];(0!==T||s>0)&&h.push(E,I,C),(T!==r-1||c<A.PI)&&h.push(I,R,C)}return t.call(this,f,h,v)||this}return Rt(n,t),n}(q4);U(),St(),U(),St();var $4=[0,0,0,255,0,0,0,255,0,0,0,255,0,0,0,255],t5=function(){function t(t,n){if(this.eue=t,this.kue=t.createTexture(),null===this.kue)throw new y("Failed to create texture");var i=n.fue(z4.Texture);if(null===i)throw new y("Failed to get texture location.");this.Eue=i,t.bindTexture(t.TEXTURE_2D,this.kue),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),this.Tue=t.TEXTURE0,this.F1=0,this.Rue=t.RGBA,this.Iue=t.RGBA,this.Cue=t.UNSIGNED_BYTE,t.texImage2D(t.TEXTURE_2D,this.F1,this.Rue,2,2,0,this.Iue,this.Cue,new I($4))}var n=t.prototype;return n.Sue=function(){var t=this.eue;t.activeTexture(this.Tue),t.bindTexture(t.TEXTURE_2D,this.kue)},n.dr=function(){var t=this.eue;t.activeTexture(this.Tue),t.bindTexture(t.TEXTURE_2D,this.kue),t.uniform1i(this.Eue,0)},n.xue=function(t){var n=this.eue;n.bindTexture(n.TEXTURE_2D,this.kue),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,this.F1,this.Rue,this.Iue,this.Cue,t),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1)},n.Pue=function(t){var n=this.eue;n.bindTexture(n.TEXTURE_2D,this.kue),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),t.yst.yY(n,n.TEXTURE_2D,this.F1,this.Rue,this.Iue,this.Cue),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1)},t}(),n5="\n    attribute vec4 "+H4.VertexPos+";\n    attribute vec2 "+H4.VertexUV+";\n\n    uniform mat4 "+z4.ModelViewMat+";\n    uniform mat4 "+z4.ProjectionMat+";\n    \n    varying mediump vec2 "+Y4.UV+";\n    \n    void main() {\n      gl_Position = "+z4.ProjectionMat+" * "+z4.ModelViewMat+" * "+H4.VertexPos+";\n      "+Y4.UV+" = "+H4.VertexUV+";\n    }\n",i5="\n    varying mediump vec2 "+Y4.UV+";\n    \n    uniform sampler2D "+z4.Texture+";\n\n    void main() {\n      gl_FragColor = texture2D("+z4.Texture+", "+Y4.UV+");\n    }\n",r5=function(){function t(t){this.eue=t,this.lue=new K4(t,n5,i5),this.kue=new t5(t,this.lue)}var n=t.prototype;return n.uue=function(){return this.lue},n.rW=function(){this.eue.useProgram(this.lue.uue()),this.kue.dr()},n.Due=function(t){this.kue.xue(t)},n.Nue=function(t){this.kue.Pue(t)},t}();U(),St(),Dt(),U(),St();var e5=V(bn()),u5=V(kn()),s5=(V(An()),V(Tn())),o5=(V(Sn()),V(En())),a5=V(In()),c5=V(Rn()),h5=V(Cn()),f5=V(Nn()),v5=function(){function t(t,n,i,r){this.do=new M4,this.Hue=new M4,this.Lue="none",this.Oue=i;var e=i.uue();this.Bue=n.pue(t,e),r&&(this.Lue=r);var u=e.fue(z4.ModelViewMat);if(null===u)throw new y("Failed to get model view matrix location.");this.Wue=u;var s=e.fue(z4.ProjectionMat);if(null===s)throw new y("Failed to get projection matrix location.");this.Gue=s}var n=t.prototype;return n.jae=function(t,n){if(this.Mue(n.Lue)){this.Bue.wue(),this.Oue.rW();var i=this.Fue,r=n.Vue,e=(0,a5.default)(r,r,i);t.uniformMatrix4fv(this.Wue,!1,e);var u=n.Uue;t.uniformMatrix4fv(this.Gue,!1,u),this.Bue.jae(),this.Bue.Aue()}},n.Mue=function(t){return"none"===this.Lue||"right"!==t&&"left"===this.Lue||"right"===t&&"right"===this.Lue},xt(t,[{key:"Fue",get:function(){var t=(0,e5.default)(),n=this.do;return(0,f5.default)(t,t,n.vae()),(0,h5.default)(t,t,this.Hue.x,new Float32Array([1,0,0])),(0,h5.default)(t,t,this.Hue.y,new Float32Array([0,1,0])),(0,h5.default)(t,t,this.Hue.z,new Float32Array([0,0,1])),t}}]),t}();U(),St(),Dt();var l5=function(){function t(t){this.Xue=72*A.PI/180,this.zue=1.77,this.Yue=.1,this.Kue=100,this.Lue="none",this.$ue=new M4,this.tce=new B4,this.Que=this.Zue(),this.sce=this.Jue(),t&&(this.Lue=t)}var n=t.prototype;return n.Zue=function(){var t=(0,e5.default)();return(0,c5.default)(t,this.Xue,this.zue,this.Yue,this.Kue)},n.jue=function(){this.Que=this.Zue()},n.Jue=function(){var t=(0,e5.default)(),n=(0,s5.default)((0,e5.default)(),this.$ue.vae()),i=(0,u5.default)((0,e5.default)(),this.tce.vae());return(0,a5.default)(t,n,i),(0,o5.default)(t,t),t},n.ece=function(){this.sce=this.Jue()},n.nce=function(){this.ece(),this.jue()},n.er=function(){this.$ue=new M4,this.Hue=new B4,this.nce()},n.rce=function(t){var n=this.tce.Tae();n.SO(t),this.Hue=n.Rae()},n.oce=function(t){this.Hue=t.Rae()},xt(t,[{key:"Uue",get:function(){return new Float32Array(this.Que)},set:function(t){this.Que=t}},{key:"Vue",get:function(){return new Float32Array(this.sce)}},{key:"hce",get:function(){return this.Xue},set:function(t){this.Xue=t,this.jue()}},{key:"ace",get:function(){return this.zue},set:function(t){this.zue=t,this.jue()}},{key:"do",get:function(){return(new M4).c_t(this.$ue)},set:function(t){this.$ue=t,this.ece()}},{key:"Hue",get:function(){return(new B4).c_t(this.tce)},set:function(t){this.tce=t,this.ece()}}]),t}();U(),St(),Ct();var d5=function(t){function n(){return t.call(this,"Iae")||this}return Rt(n,t),n.prototype.ba=function(){return new g5},n}(yg),g5=function(t){function n(){return t.call(this,"directionchange")||this}return Rt(n,t),n}(ha),m5=1e-4,w5=function(t){function n(n){var i;return(i=t.call(this)||this).fW=new Jo,i.dce=!1,i.hle=!1,i.lle=new B4,i.mle=new B4,i.dle=new B4,i.Xue=74,i.Jce=!1,i.DT=void 0,i.yce=KS.NONE,i.rle=!1,i.ole=qS.NONE,i.kce=new j4,i.Lce=null,i.Qce=null,i.Bce=null,i.Wce=null,i.Gce=!1,i.Hce=null,i.Kce=null,i.Yce=null,i.sle=0,i.$ce=!1,i.cce=function(){i.lce()},i.uo=function(){i.Ice(),i.Pce(),i.fce()},i.Rce=function(){i.Mce()},i.Nce=function(){i.Vce&&(qr("Ending immersive session"),i.Cce(),i.Vce.removeEventListener("end",i.Nce),i.Vce.end(),i.Vce=null,i.Wce=null,i.Gce=!1,i.Lce?i.Oce():i.Mce())},i.mn=function(){i.xce()},i.zce=function(t,n){if(i.eue){var r=i.eue,e=i.Xce;if(null===i.Yce&&i.ele()&&(i.Ece.Nue(i.ea),i.sle>0&&(i.sle-=1)),null!==e&&void 0!==n){i.Hce=e.requestAnimationFrame(i.zce);var u=e.renderState.baseLayer,s=n.getViewerPose(i.ule);if(void 0!==u&&void 0!==s){r.bindFramebuffer(r.FRAMEBUFFER,u.framebuffer);for(var o=new O4,a=0,c=0,h=s.views;c<h.length;c++){var f=h[c],v=new l5(f.eye);if(v.Uue=f.projectionMatrix,i.jce()){var l=void 0;if(Gn.Qs&&Gn.gm&&null===i.Qce){if(0===(l=f.transform.inverse.orientation).x&&0===l.y&&0===l.z&&1===l.w)return}else l=f.transform.orientation;v.Hue=new B4(l.x,l.y,l.z,l.w)}i.Lce&&v.rce(i.dle.Tae()),o=o.SO(v.Hue.Tae()),a+=1;var d=u.getViewport(f);d&&r.viewport(d.x,d.y,d.width,d.height),i.kce.jae(r,v)}var g=new O4(o.kae/a,o.Eae/a,o.xae);i.lle=g.Rae(),function(t,n){var i=t.yae(n);return 1-i*i<m5}(i.lle,i.mle)||(i.mle.c_t(i.lle),i.wo(new d5))}else Jr("Attempted to run webXR animation loop without glLayer or viewerPose.")}else Jr("Attempted to run webXR animation loop without session or xrFrame.")}},i.IX=function(){i.sle=5},i.ea=n,i.ka=function(t){var n,i={get stereo(){return t.fle},set stereo(n){t.fle=n},get useDeviceMotionControls(){return t._le},set useDeviceMotionControls(n){t._le=n},get direction(){return t.cle},set direction(n){t.cle=n},get verticalFOV(){return t.vle},set verticalFOV(n){t.vle=n},get canPresentVR(){return t.ale},get state(){return t.Pft},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new dR(t,L4,i),i}(i),i.mo(),i}Rt(n,t);var i=n.prototype;return i.mo=function(){var t=this;this.uce(),this.eue?d.xr?(d.xr.addEventListener("devicechange",this.cce),this.lce().then((function(){t.dce?(t.fce(),t._ce()):t.sNt("XR: Inline session not available. Panorama functionality will not work.",el.VR_PRESENTATION_ERROR)}))):this.sNt("Your browser does not support WebXR",el.VR_PLATFORM_UNSUPPORTED):this.sNt("Your browser does not support webGL",el.VR_PLATFORM_UNSUPPORTED)},i._ce=function(){this.ea.Ca.yn(eS.la,this.mn),this.ea.yn(mI.pn,this.mn),this.ea.yn(fa.ao,this.uo),this.ea.yn(fa.Ky,this.IX)},i.uce=function(){this.vce=v.createElement("canvas"),this.vce.className="theoplayer-vr",this.vce.style.zIndex="2",this.vce.style.background="black",this.vce.style.display="none",this.ea.we.appendChild(this.vce),_i(this.vce);var t=this.vce.getContext("webgl2");t||(t=this.vce.getContext("webgl")),t&&(this.eue=t,this.mce=new V4(this,this.vce))},i.lce=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return d.xr?[4,ut.all([d.xr.isSessionSupported("inline").then((function(n){t.dce=n})).catch((function(n){t.dce=!1,t.sNt("exception when calling xr.isSessionSupported for inline session: "+n,el.VR_PRESENTATION_ERROR)})),d.xr.isSessionSupported("immersive-vr").then((function(n){t.gce=n})).catch((function(n){t.gce=!1,t.sNt("exception when calling xr.isSessionSupported for immersive-vr session: "+n,el.VR_PRESENTATION_ERROR)}))])]:[3,2];case 1:return n.sent(),[3,3];case 2:t.dce=!1,t.gce=!1,n.label=3;case 3:return[2]}}))}))()},i.fce=function(){var t=this.pce();this.DT=t,this.wce=Boolean(t),this.wce&&(this.yce=(null==t?void 0:t.stereoMode)||KS.NONE,this.bce=(null==t?void 0:t.panoramaMode)||qS.NONE,this.Ace&&(this.Sce(this.bce,this.yce),this.Tce()))},i.Sce=function(t,n){if(this.eue&&t!==qS.NONE){var i,r,e=this.eue;this.kce.$ae(),t===qS.PM360?(i=2*A.PI,r=-A.PI/2):(i=A.PI,r=-A.PI);for(var u=new Q4(16,60,40,0,i),s=[],o=[],a=0;a<u.gue.length;a++){var c=u.gue[a];switch(n){case KS.NONE:s.push(c),o.push(c);break;case KS.VERTICAL:s.push(new P4(c.x,.5*c.y)),o.push(new P4(c.x,.5*c.y+.5));break;case KS.HORIZONTAL:s.push(new P4(.5*c.x,c.y)),o.push(new P4(.5*c.x+.5,c.y))}}u.vue.forEach((function(t){t.x*=-1}));var h=new q4(u.vue,u.mue,s),f=new q4(u.vue,u.mue,o);this.Ece=new r5(e);var v=new v5(e,h,this.Ece,"left");v.Hue.y=r,this.kce.Jae(v);var l=new v5(e,f,this.Ece,"right");l.Hue.y=r,this.kce.Jae(l)}},i.Tce=function(){this.vce.style.display="block",this.xce(),this.dce&&this.ea.yn(fa.ro,this.Rce)},i.Ice=function(){this.Cce(),this.ea.fn(fa.ro,this.Rce),this.vce.style.display="none"},i.Pce=function(){this.Dce(),this.Nce()},i.Mce=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(t.Lce||!t.dce)return[2];u.label=1;case 1:return u.trys.push([1,5,,6]),[4,Go(d.xr.requestSession("inline"),t.fW.Vw)];case 2:return n=u.sent(),i=Gn.Qs?Gn.gm?"viewer":"local":"viewer",[4,n.requestReferenceSpace(i)];case 3:return r=u.sent(),n.addEventListener("end",t.Dce),t.Bce=r,t.Lce=n,t.mce.rW(),t.Oce(),[4,n.updateRenderState({baseLayer:new XRWebGLLayer(n,t.eue),inlineVerticalFieldOfView:t.Xue*x4})];case 4:return u.sent(),[3,6];case 5:return e=u.sent(),t.Dce(),t.sNt(e,el.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}}))}))()},i.Dce=function(){this.Lce&&(this.Cce(),this.mce.oW(),this.Lce.removeEventListener("end",this.Nce),this.Lce.end(),this.Lce=null,this.xce())},i.Fce=function(){var t=this;return Zt((function(){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:if(t.Vce||!t.gce)return[2];t.Cce(),e.label=1;case 1:return e.trys.push([1,5,,6]),[4,Go(d.xr.requestSession("immersive-vr"),t.fW.Vw)];case 2:return[4,(n=e.sent()).requestReferenceSpace("local")];case 3:return i=e.sent(),n.addEventListener("end",t.Nce),t.Wce=i,t.Vce=n,[4,t.Uce()];case 4:return e.sent(),t.Oce(),[3,6];case 5:return r=e.sent(),t.Nce(),t.sNt(r,el.VR_PRESENTATION_ERROR),[3,6];case 6:return[2]}}))}))()},i.Uce=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return n=t.eue,i=t.Vce,t.vce&&n&&i&&!t.Gce?(t.vce.addEventListener("webglcontextlost",(function(t){t.preventDefault()})),t.vce.addEventListener("webglcontextrestored",(function(){t.Sce(t.bce,t.yce)})),t.Gce=!0,[4,n.makeXRCompatible()]):[2];case 1:return r.sent(),[4,i.updateRenderState({baseLayer:new XRWebGLLayer(i,n)})];case 2:return r.sent(),[2]}}))}))()},i.xce=function(){if(!this.Vce&&this.eue){var t=this.eue,n=this.vce.clientWidth,i=this.vce.clientHeight;if(0===n||0===i)return;var r=qn.Ys.Yg;this.vce.width=n*r,this.vce.height=i*r,t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight)}},i.Oce=function(){null===this.Hce&&(this.Zce(),this.Xce?this.Hce=this.Xce.requestAnimationFrame(this.zce):(this.qce(),Jr("XR: Attempted to start animation loop without inline or immersive session.")))},i.Cce=function(){null!==this.Hce&&(this.qce(),this.Xce?this.Xce.cancelAnimationFrame(this.Hce):Jr("XR: Attempted to stop animation loop by cancelAnimationFrame even though there is no session running."),this.Hce=null)},i.Zce=function(){var t=this;if(null===this.Yce){var n=this.ea.AI();if(void 0!==n&&n instanceof HTMLVideoElement){if("function"==typeof n.requestVideoFrameCallback){var i=function(){t.Ece.Nue(t.ea),t.Yce=n.requestVideoFrameCallback(i)};this.Kce=n,this.Yce=n.requestVideoFrameCallback(i)}}else Jr("No video source.")}},i.qce=function(){var t,n;null!==this.Yce&&(null==(n=this.Kce)||null==(t=n.cancelVideoFrameCallback)||t.call(n,this.Yce),this.Kce=null,this.Yce=null)},i.jce=function(){return!!this.Qce||(Gn.iu?this.Jce&&this.$ce:this.Jce)},i.tle=function(){var t=this,n=DeviceMotionEvent.requestPermission;"function"==typeof n&&n().then((function(n){t.$ce="granted"===n}))},i.ele=function(){return(!this.qR()||Boolean(this.sle))&&this.nle()},i.qR=function(){return this.ea.qR},i.nle=function(){return this.ea.sI>=2},i.sNt=function(t,n){Qr(t),this.wo(new Ek(new sl(n,t)))},i.pce=function(){var t=this.ea.tu();return t&&t.vr},i.gn=function(){this.fW.Yw(),this.Pce(),this.$o(),this.ea=void 0,this.eue=void 0},xt(n,[{key:"wce",get:function(){return this.rle},set:function(t){var n=this.Pft;this.rle=t,this.Pft!==n&&this.wo(new I1)}},{key:"Ace",get:function(){return this.bce!==qS.NONE}},{key:"bce",get:function(){return this.ole},set:function(t){var n=this.Pft;this.ole=t,this.Pft!==n&&this.wo(new I1)}},{key:"gce",get:function(){return this.hle},set:function(t){var n=this.Pft;this.hle=t,this.Pft!==n&&this.wo(new I1)}},{key:"ale",get:function(){return this.gce}},{key:"Xce",get:function(){return this.Vce||this.Lce}},{key:"Vce",get:function(){return this.Qce},set:function(t){var n=this.Pft;this.Qce=t,this.Pft!==n&&this.wo(new I1)}},{key:"ule",get:function(){return this.Wce||this.Bce}},{key:"cle",get:function(){var t=this.lle.Tae();return{yaw:t.kae*D4,pitch:t.Eae*D4,roll:t.xae*D4}},set:function(t){var n=p5(t&&t.pitch||0)*x4,i=p5(t&&t.roll||0)*x4,r=p5(t&&t.yaw||0)*x4,e=new O4(r,n,i),u=this.lle.Tae(),s=this.dle.Tae();this.lle=e.Rae(),this.dle=e.SF(u).SO(s).Rae()}},{key:"Hae",get:function(){var t=this.dle.Tae();return{yaw:t.kae,pitch:t.Eae,roll:t.xae}},set:function(t){var n=y5(t&&t.pitch||0),i=y5(t&&t.roll||0),r=y5(t&&t.yaw||0),e=new O4(r,n,i);this.dle=e.Rae()}},{key:"Pft",get:function(){return this.wce?this.Vce?F4.Ga:F4.Pae:F4.Rs}},{key:"fle",get:function(){return null!==this.Vce},set:function(t){var n=this.fle;t&&this.gce?this.Fce():this.Nce(),this.fle!==n&&this.wo(new U4)}},{key:"_le",get:function(){return this.Jce},set:function(t){null===this.Qce&&(this.Jce=t,t&&Gn.iu&&this.tle())}},{key:"vle",get:function(){return this.Xue},set:function(t){t&&t>=0&&t<=180&&(this.Xue=t,null!==this.Lce&&this.Lce.updateRenderState({inlineVerticalFieldOfView:this.Xue*x4}))}}]),n}(oa);function p5(t){return vr(t+180,360)-180}function y5(t){return vr(t+A.PI,2*A.PI)-A.PI}function _5(t,n){return"function"==typeof t.getAll?b5(void 0===n?t.getAll():t.getAll(n)):function(t){var n=new Yc,i=[];return t.onsuccess=function(){var r=t.result;r&&r.value?(i.push(r.value),r.continue()):n.Ob(i),st()},t.onerror=function(){n.Fb(t.error),st()},n.Vb}(void 0===n?t.openCursor():t.openCursor(n))}function b5(t){return new ut((function(n,i){t.onsuccess=function(){n(t.result),st()},t.onerror=function(){i(t.error),st()}}))}qk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Zae=new w5(r),r}Rt(n,t);var i=n.prototype;return i.ba=function(){return Pg(t.prototype.ba.call(this),{vr:this.Zae.ka})},i.gn=function(){this.Zae.gn(),t.prototype.gn.call(this)},n}(t)}),zk.ou),U(),St(),U(),St(),U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),Jt(),U(),St(),Gt(),Dt(),Jt(),U(),St(),Gt(),rn(),Jt(),Tt();var k5=function(){function t(t){var n=this;this.Trt=t,this.io=!0,this.Vb=new ut((function(t,i){n.Trt.oncomplete=function(){n.io=!1,t(),st()},n.Trt.onerror=function(){n.io&&(n.io=!1,i(n.Trt.error||new y("Transaction error")),st())},n.Trt.onabort=function(){n.io=!1,i(new y("Transaction aborted")),st()}}))}return t.prototype.Yw=function(){if(this.io)try{this.Trt.abort(),this.io=!1}catch(t){}},t}();function A5(t,n,i){return T5.apply(this,arguments)}function T5(){return T5=Zt((function(t,n,i){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=new k5(t),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,ut.all([n(i),r.Vb])];case 2:return e=nn.apply(void 0,[s.sent(),1]),[2,e[0]];case 3:if(u=s.sent(),!r.io)throw new W1("IDBTransaction committed prematurely",u);throw u;case 4:return r.Yw(),[7];case 5:return[2]}}))})),T5.apply(this,arguments)}var S5=function(){function t(t,n){this.tx=t,this.ble=n}var n=t.prototype;return n.drt=function(t){return ut.resolve("persistent"===t)},n.frt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?ut.reject(WB(n)):b5(this.yle(jB.Drt).put(t))},n._rt=function(t,n){void 0===n&&(n="persistent");var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:if("persistent"!==n)return[2,ut.reject(WB(n))];r=0,u.label=1;case 1:return r<t.length?(e=t[r],[4,i.frt(e,n)]):[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))()},n.Db=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.Nb(t)];case 1:return[2,Boolean.apply(void 0,[i.sent()])]}}))}))()},n.Nb=function(t){return b5(this.yle(jB.Prt).get(t))},n.vrt=function(t,n){return b5(this.yle(jB.Prt).index(n).get(t))},n.rrt=function(t){var n=this;return Zt((function(){var i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:i=[],r=0,s.label=1;case 1:return r<t.length?(e=t[r],[4,n.Nb(e)]):[3,4];case 2:(u=s.sent())&&i.push(u),s.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))()},n.mrt=function(){return _5(this.yle(jB.Prt))},n.grt=function(t){return _5(this.yle(jB.Prt),t)},n.prt=function(t,n){return _5(this.yle(jB.Prt).index(n),t)},n.$S=function(t){return b5(this.yle(jB.Drt).delete(t))},n.wrt=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:i=0,e.label=1;case 1:return i<t.length?(r=t[i],[4,n.$S(r)]):[3,4];case 2:e.sent(),e.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},n.yrt=function(){return b5(this.yle(jB.Drt).clear())},n.yle=function(t){if(!this.ble)throw new y("Lock was released");if(!function(t,n){return t===jB.Prt&&n===jB.Prt||n===jB.Drt}(t,this.ble.mode))throw new y("Incompatible transaction mode: "+this.ble.mode+", expected "+t);return this.ble.objectStore(this.l)},n.Ale=function(){this.tx.Sle(this),this.ble=void 0},xt(t,[{key:"l",get:function(){return this.tx.l}}]),t}();var E5=function(){function t(t,n){this.Sxt=void 0,this.Qo=new dl,this.Ele=t,this.l=n}var n=t.prototype;return n.drt=function(t){return ut.resolve("persistent"===t)},n.frt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?ut.reject(WB(n)):this.Trt(jB.Drt,(function(n){return n.frt(t)}))},n._rt=function(t,n){return void 0===n&&(n="persistent"),"persistent"!==n?ut.reject(WB(n)):this.Trt(jB.Drt,(function(n){return n._rt(t)}))},n.Db=function(t){return this.Trt(jB.Prt,(function(n){return n.Db(t)}))},n.Nb=function(t){return this.Trt(jB.Prt,(function(n){return n.Nb(t)}))},n.vrt=function(t,n){return this.Trt(jB.Prt,(function(i){return i.vrt(t,n)}))},n.rrt=function(t){return this.Trt(jB.Prt,(function(n){return n.rrt(t)}))},n.mrt=function(){return this.Trt(jB.Prt,(function(t){return t.mrt()}))},n.grt=function(t){return this.Trt(jB.Prt,(function(n){return n.grt(t)}))},n.prt=function(t,n){return this.Trt(jB.Prt,(function(i){return i.prt(t,n)}))},n.$S=function(t){return this.Trt(jB.Drt,(function(n){return n.$S(t)}))},n.wrt=function(t){return this.Trt(jB.Drt,(function(n){return n.wrt(t)}))},n.yrt=function(){return this.Trt(jB.Drt,(function(t){return t.yrt()}))},n.Bxt=function(t){return this.Tle(),this.Sxt=new S5(this,t),this.Sxt},n.Tle=function(){if(void 0!==this.Sxt)throw new y("Already locked")},n.Sle=function(t){if(this.Sxt!==t)throw new y("Incorrect lock");this.Sxt=void 0},n.Jo=function(t){return this.Qo.Jo(t)},n.Trt=function(t,n){var i=this;return this.Jo((function(){return i.kle(t,n)}))},n.kle=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:i.Tle(),r=i.Ele.transaction(i.l,t),e=i.Bxt(r),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,A5(r,n,e)];case 2:return[2,u.sent()];case 3:return e.Ale(),[7];case 4:return[2]}}))}))()},n.xle=function(t){this.Tle();var n=this.Ele.transaction(this.l,t);return this.Bxt(n)},t.Rle=function(t,n){var i,r=new ut((function(t){i=t})),e=t.reduce((function(t,n){return t.then((function(){var t,i=new ut((function(n){t=n}));return n.Jo((function(){return t(),r})).catch(Ti),i}))}),ut.resolve());return i(e.then(n)),r},t}();U(),St(),Dt(),U(),St(),Gt(),Jt(),U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Jt();var I5={YD:17,Ile:Zt((function(t){var n,i,r,e;return Ht(this,(function(u){if(n=t.transaction,i=t.database,(r=n.objectStoreNames)&&r.length)for(e=0;e<r.length;e++)i.deleteObjectStore(r[e]);return i.createObjectStore(M5,{keyPath:"id"}),i.createObjectStore(B5,{keyPath:"key"}),i.createObjectStore(O5,{keyPath:"key"}),i.createObjectStore(L5,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),i.createObjectStore(F5,{keyPath:"segmentURLsegmentByteRange"}).createIndex("manifestURL","manifestURL"),[2]}))}))},R5=function(){function t(t){this.Dle=t}return t.prototype.Cle=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:i=0,r=n.Ple,u.label=1;case 1:return i<r.length?(e=r[i],n.Dle<e.YD?[4,e.Ile(t)]:[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))()},t}(),C5=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),xt(n,[{key:"Ple",get:function(){return[I5]}}]),n}(R5),N5=function(){function t(){this.Mle=function(t){return new C5(t)}}var n=t.prototype;return n.Nle=function(t){this.Mle=t},n.fit=function(t){return this.Mle(t)},t}(),x5=new N5,D5="theoplayer-cache-database",P5=18,M5="cachingTask",B5="licences",O5="manifest",L5="segment",F5="segmentMetadata";function V5(){return V5=Zt((function(){var t;return Ht(this,(function(n){switch(n.label){case 0:return function(){if("undefined"==typeof indexedDB)throw new y("Indexed database unavailable")}(),(t=indexedDB.open(D5,P5)).addEventListener("upgradeneeded",U5),[4,b5(t)];case 1:return[2,n.sent()]}}))})),V5.apply(this,arguments)}function U5(t){return W5.apply(this,arguments)}function W5(){return W5=Zt((function(t){var n,i,r,e,u;return Ht(this,(function(s){switch(s.label){case 0:return n=t.oldVersion<=P5?t.oldVersion:-1,i=t.target,r=i.result,e=i.transaction,u=x5.fit(n),[4,A5(e,(function(t){return u.Cle(t)}),{database:r,transaction:e})];case 1:return s.sent(),[2]}}))})),W5.apply(this,arguments)}var j5=function(){function t(){}return xt(t,null,[{key:"Fg",get:function(){return this.Hrt||(this.Hrt=function(){return V5.apply(this,arguments)}()),this.Hrt}}]),t}();j5.Hrt=void 0,U(),St();var Z5=function(){function t(t,n){this.xrt=t.xrt.Bxt(n),this.Ert=t.Ert.Bxt(n),this.Rrt=t.Rrt.Bxt(n),this.Irt=t.Irt.Bxt(n),this.Crt=t.Crt.Bxt(n)}var n=t.prototype;return n.Trt=function(t){return t(this)},n.Ale=function(){this.xrt.Ale(),this.Ert.Ale(),this.Rrt.Ale(),this.Irt.Ale(),this.Crt.Ale()},t}(),X5=function(){function t(t){this.Ele=t,this.xrt=new E5(t,F5),this.Ert=new E5(t,L5),this.Rrt=new E5(t,O5),this.Irt=new E5(t,M5),this.Crt=new E5(t,B5)}var n=t.prototype;return n.Trt=function(t){var n=this,i=this.allCollections;return E5.Rle(i,(function(){return n.kle(i,t)}))},n.kle=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:r=t.map((function(t){return t.l})),e=i.Ele.transaction(r,jB.Drt),u=new Z5(i,e),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,A5(e,n,u)];case 2:return[2,s.sent()];case 3:return u.Ale(),[7];case 4:return[2]}}))}))()},t.fit=function(){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,j5.Fg];case 1:return[2,new t(n.sent())]}}))}))()},xt(t,[{key:"allCollections",get:function(){return[this.Ert,this.xrt,this.Rrt,this.Irt,this.Crt]}}]),t}();KB.Aa(X5.fit),U(),St(),Dt(),Ct(),U(),St();var G5=function(t){function n(n,i){var r;return(r=t.call(this)||this).wle=n,r._st=i,r.wle.yn("uat",r.Ds),r}return Rt(n,t),n.prototype.ple=function(t,n,i){var r,e;if(void 0===i&&(i="persistent"),!t)throw new y("Unexpected - The source description is undefined");if(r=gE(t),e=Y2(n),nE(r))throw new y("Invalid source description");return this.wle.Qte(r,e).ka},xt(n,[{key:"ka",get:function(){return this.su||(this.su=function(t){var n,i={get status(){return t.zk},get tasks(){return t.see},get network(){return t.HX.ka},createTask:function(n,i){return t.ple(n,i)},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new gR(t,i),i}(this)),this.su}},{key:"zk",get:function(){return this.wle.zk}},{key:"see",get:function(){return this.wle.see.ka}},{key:"HX",get:function(){return this._st}}]),n}(ca);var H5=function(){var t=new QI(qn.lR,!1),n=KB.Fg,i=new n3(t),r=new G2(n,i),e=new tR(t),u=new L1(n.Irt,r,"persistent");return new G5(u,e)}().ka;U(),St(),U(),St(),Ct(),U(),St(),Dt();var z5=function(){function t(t){this.su=void 0,this.vj=t}var n=t.prototype;return n.Lle=function(t){for(var n=this.vj.mR(),i=t.createGain(),r=0;r<n.length;r++){var e=n[r];t.createMediaElementSource(e).connect(i)}return i},n.ba=function(){var t=this;return{createAudioSourceNode:function(n){return t.Lle(n)}}},xt(t,[{key:"ka",get:function(){return this.su||(this.su=this.ba()),this.su}}]),t}();qk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Ble=new z5(r.ja),r}return Rt(n,t),n.prototype.ba=function(){var n=this.Ble.ka;return Pg(t.prototype.ba.call(this),{get audio(){return n}})},n}(t)}),zk.ou),U(),St(),U(),St(),Ct();qk((function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}Rt(n,t);var i=n.prototype;return i.xa=function(i){var r=n.Ole(this.bd.analytics),e=n.Ole(i?i.analytics:void 0);r||e?this.Fle(us({},r,e)):this.Vle&&this.Vle.disable(),t.prototype.xa.call(this,i)},i.Fle=function(t){if(this.Vle)this.Vle.enable(),this.Vle.setOptions(t);else{var n=f.youbora;if(!n)throw new y("Youbora JavaScript library not loaded.");if(!n.adapters.TheoPlayer2)throw new y("TheoPlayer2 adapter not available on Youbora JavasScript library");var i=new n.Plugin(t);i.setAdapter(new n.adapters.TheoPlayer2(this.ka)),this.qc&&n.adapters.TheoPlayer2.NativeAdsAdapter&&i.setAdsAdapter(new n.adapters.TheoPlayer2.NativeAdsAdapter(this.ka)),this.Vle=i}},i.gn=function(){this.Vle&&this.Vle.disable(),t.prototype.gn.call(this)},n.Ole=function(t){if(t){var n=t.filter((function(t){return"youbora"===t.integration}));if(0===n.length)return;if(n.length>1)throw new y("Only one youbora analytics configuration expected");var i=n[0];i.integration;return u_(i,["integration"])}},n}(t)}),zk.Ost),U(),St(),U(),St(),Ct(),U(),St(),Dt(),Ct();var Y5=1,K5=0,q5=1e3,J5=function(t){function n(n,i,r,e,u,s){var o;return void 0===e&&(e=MMPlayerState),void 0===u&&(u=MMAdState),void 0===s&&(s=MMPresentationInfo),(o=t.call(this)||this).ea=n,o.DT=i,o.Gle=r,o.ude=e,o.cde=u,o.Hle=s,o.lde=!0,o.zle=!1,o.jle=void 0,o.Yle=void 0,o.dde=void 0,o.ede=function(t){var n,i=t.snt,r=(i.i$t(),n=i.Yst().duration,"linear"===i.Yst().type);i.s$t(),i.$Jt();r&&(o.zle=!0),o.Kle=o.cde.AD_IMPRESSION,o.Kle=o.cde.AD_STARTED},o.ide=function(t){o.zle=!1,o.Kle=o.cde.AD_COMPLETED},o.sde=function(t){t.fjt===QJ.ADBLOCK?o.Kle=o.cde.AD_BLOCKED:o.Kle=o.cde.AD_ERROR},o.rde=function(){o.Kle=o.cde.AD_SKIPPED},o.hde=function(t){var n,i,r,e;t.TE===im._E&&(o.dde&&t.yz!==o.dde&&o.Gle.reportABRSwitch(o.dde,t.yz),o.dde=t.yz,o.Gle.reportChunkRequest(new MMChunkInformation(t.TN,t.yz,t.eL,t.Zut.Gu,void 0,void 0,null!=(r=null==(n=t.Zut.rut)?void 0:n[0])?r:0,null!=(e=null==(i=t.Zut.rut)?void 0:i[1])?e:-1)))},o.Yre=function(t){o.qle=o.ude.STOPPED,o.wo(t)},o.O6=function(t){o.qle=o.ude.ERROR,o.Gle.reportError(t.error,o.Zle())},o.ode=function(){o.Xle?o.Kle=o.cde.AD_PAUSED:o.qle=o.ude.PAUSED},o.Rce=function(){o.Xle&&(o.Kle=o.cde.AD_PLAY)},o.xX=function(){o.Xle?(o.jle===o.cde.AD_PAUSED&&(o.Kle=o.cde.AD_RESUMED),o.Kle=o.cde.AD_PLAYING):(o.lde&&(o.lde=!1,o.Wle(),o.qle=o.ude.STARTED),o.qle!==o.ude.PAUSED&&o.qle!==o.ude.BUFFERING||(o.qle=o.ude.RESUMED))},o.FY=function(){o.Gle.reportPresentationSize(o.ea.fI,o.ea.cI)},o.IX=function(t){o.Xle||o.qle!==o.ude.PAUSED||o.Gle.reportPlayerSeekCompleted(t.currentTime*q5)},o.kX=function(){o.Xle||(o.qle=o.ude.BUFFERING)},o.$le=function(){o.Gle.reportDownloadRate(A.floor(Ck.Fg.aG()))},o.Jle=function(){o.Xle||o.Gle.reportPlaybackPosition(o.Zle())},o.qle=o.ude.INITIALIZED,o.hMt(),o.ade=o.Qle(),o}Rt(n,t);var i=n.prototype;return i.Wle=function(){var t=this.ct===1/0,n=t?Y5:K5,i=t?-1:this.ct,r=Io(this.ea.rt.uC,this.Ule);this.Gle.setPresentationInformation(new this.Hle(n,i,r))},i.Ule=function(t){for(var n=t.IC.uC,i=[],r=0;r<n.length;r++){var e=n[r];e.ji&&e.Ti&&i.push({trackIdx:r,bitrate:e.wG,width:e.ji,height:e.Ti,codecIdentifier:e.Zrt})}return i},i.Zle=function(){return this.ea.kR()*q5},i.Qle=function(){var t=this;return w((function(){t.Jle(),t.$le()}),n.tde)},i.hMt=function(){this.ea.qc&&(this.ea.qc.yn("hnt",this.ede),this.ea.qc.yn("ant",this.ide),this.ea.qc.yn("r2t",this.sde),this.ea.qc.yn("G2t",this.rde)),this.ea.yn(fa.Cy,this.Yre),this.ea.yn(zp.da,this.O6),this.ea.yn(fa.Zy,this.ode),this.ea.yn(fa.ro,this.Rce),this.ea.yn(Ey.VL,this.xX),this.ea.yn(fa.Yy,this.FY),this.ea.yn(fa.Ky,this.IX),this.ea.yn(Ey.FL,this.kX),this.ea.yn(fa.Jy,this.hde)},i.aMt=function(){this.ea.qc&&(this.ea.qc.fn("hnt",this.ede),this.ea.qc.fn("ant",this.ide),this.ea.qc.fn("r2t",this.sde),this.ea.qc.fn("G2t",this.rde)),this.ea.fn(fa.Cy,this.Yre),this.ea.fn(zp.da,this.O6),this.ea.fn(fa.Zy,this.ode),this.ea.fn(fa.ro,this.Rce),this.ea.fn(Ey.VL,this.xX),this.ea.fn(fa.Yy,this.FY),this.ea.fn(fa.Ky,this.IX),this.ea.fn(Ey.FL,this.kX),this.ea.fn(fa.Jy,this.hde)},i.gn=function(){p(this.ade),this.aMt()},xt(n,[{key:"ct",get:function(){return this.ea.Sd()*q5}},{key:"Xle",get:function(){return this.zle}},{key:"qle",get:function(){return this.Yle},set:function(t){this.Yle=t,t&&this.Gle.reportPlayerState(t)}},{key:"Kle",set:function(t){this.jle=t}}]),n}(vm);J5.tde=2e3,qk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this)._de=void 0,r.vde=void 0,r.mde=function(){r.vde=void 0,r.fde();var n=t.prototype.tu.call(qj(r));n&&(r.vde=function(t,n){var i=function(t,n){if(t&&t.analytics)for(var i=0,r=t.analytics;i<r.length;i++){var e=r[i];if("smartsight"===e.integration)return e}if(n&&n.analytics)for(var u=0,s=n.analytics;u<s.length;u++){var o=s[u];if("smartsight"===o.integration)return o}return}(t,n);if(!i)return;return i}(n,r.bd)),r.gde()},r.gde=function(){if(!r._de&&r.vde&&r.bt&&r.bt.src&&!r.qR){var t=MMSmartStreaming.getInstance();!function(t,n,i){t.registerMMSmartStreaming(i.playerName,i.customerID,i.subscriberID,i.domainName),t.reportComponent("THEOSDK"),t.reportPlayerInfo("THEOplayer","THEOplayer","9.2.0"),t.reportDeviceInfo(void 0,void 0,void 0,void 0,void 0,f.innerWidth,f.innerHeight),t.initializeSession("QBRModeDisabled",n,i.metaURL,i.assetID)}(t,r.bt.src,r.vde),r._de=new J5(r,r.vde,t),r._de.yn("ended",r.fde)}},r.fde=function(){r._de&&(r._de.gn(),r._de=void 0)},r.yn(fa.ao,r.mde),r.yn(fa.Ty,r.gde),r.yn(fa.ro,r.gde),r}return Rt(n,t),n.prototype.gn=function(){t.prototype.gn.call(this),this.fde()},n}(t)}),zk.Ost),U(),St(),U(),St(),Dt(),Ct();var Q5=String.fromCharCode(95);var $5=function(){function t(n,i,r,e){var u=this;this.Ade=function(n){u.Tde({type:t.kde(n.type)})},this.ZS=n,this.kse=i,this.a_=r,this.f0t=e,this.wde=[],this.Yf=[]}var n=t.prototype;return n.bde=function(){for(var t in google.ima.AdEvent.Type){var n=google.ima.AdEvent.Type[t];this.kse.addEventListener(n,this.Ade),this.wde.push({type:n,listener:this.Ade})}},n.Sde=function(){for(var t in So(this.wde),google.ima.AdEvent.Type){var n=google.ima.AdEvent.Type[t];this.kse.removeEventListener(n,this.Ade)}},n.Tde=function(t){this.Yf.push({type:t.type,adVolume:this.adsManager.getVolume()})},n.yde=function(){null==this.pde||this.pde.call(this,this.Yf),this.Yf=[]},t.kde=function(n){return t.Ede[n]||n},xt(t,[{key:"ka",get:function(){return this.su||(this.su=function(t){return{get adsManager(){return t.adsManager},get ids(){return t.ids},get adContainer(){return t.adContainer},get imaSDK(){return t.imaSDK},get sendEvent(){return t.sendEvent},set sendEvent(n){t.sendEvent=n}}}(this)),this.su}},{key:"id",get:function(){return this.ZS}},{key:"adsManager",get:function(){return this.kse}},{key:"ids",get:function(){return this.a_}},{key:"adContainer",get:function(){return this.f0t}},{key:"sendEvent",get:function(){return this.pde},set:function(t){for(var n=0,i=this.wde;n<i.length;n++){var r=i[n];this.kse.removeEventListener(r.type,r.listener)}this.wde=[],this.pde=t,this.yde()}},{key:"imaSDK",get:function(){return!0}}]),t}();$5.Ede={loaded:"AdLoaded",impression:"AdImpression",start:"AdVideoStart",firstQuartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdQuartile:"AdVideoThirdQuartile",complete:"AdVideoComplete",pause:"AdPaused",skip:"AdSkipped",volumeChange:"AdVolumeChange"};var t6=function(){function t(){this.Rde=void 0,this.Ide=void 0}var n=t.prototype;return n.xde=function(t,n){this.Rde=v.createElement("script"),this.Rde.id=t.id,this.Rde.type="text/javascript",t.adContainer.appendChild(this.Rde),this.Rde.src="https://z.moatads.com/"+n+"/moatvideo.js#"+t.id,this.Ide=t.id,f[this.Ide]=t.ka},n.Cde=function(){this.Rde&&ai(this.Rde),this.Ide&&(f[this.Ide]=void 0)},t}();qk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Lde=void 0,r.Vde=void 0,r.Dde=void 0,r.f0t=void 0,r.Mde=function(){r.Fde(r.Dde,{partnerCode:r.Lde.partnerCode,viewMode:google.ima.ViewMode.NORMAL},r.f0t)},r.z8t=function(t){r.Dde=t.Tse,r.f0t=t.I7t,r.Pde(),r.Dde.addEventListener(google.ima.AdEvent.Type.COMPLETE,r.Nde),r.Dde.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,r.Pde),r.Dde.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,r.Mde)},r.Nde=function(t){var n=t.getAd().getAdPodInfo();n.getAdPosition()<n.getTotalAds()&&(r.Pde(),r.Mde())},r.Pde=function(){r.Vde&&(r.Vde.Sde(),r.Vde=void 0),r.Wde.Cde()},r.Wde=new t6,r}Rt(n,t);var i=n.prototype;return i.xa=function(i){var r,e,u;this.Pde(),null==(r=this.Dde)||r.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.Nde),null==(e=this.Dde)||e.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.Pde),null==(u=this.Dde)||u.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.Mde),this.Dde=void 0,this.f0t=void 0,t.prototype.xa.call(this,i);var s=i&&i.analytics;this.Lde=n.Bde(s),this.qc&&this.Lde&&o1()&&this.Ode()},i.gn=function(){var n,i,r;this.Pde(),null==(n=this.Dde)||n.removeEventListener(google.ima.AdEvent.Type.COMPLETE,this.Nde),null==(i=this.Dde)||i.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.Pde),null==(r=this.Dde)||r.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.Mde),this.Dde=void 0,this.f0t=void 0,this.qc&&this.qc.fn("X8t",this.z8t),t.prototype.gn.call(this)},i.Ode=function(){this.qc&&this.qc.yn("X8t",this.z8t)},i.Fde=function(t,n,i){var r=Q5+"moatApi"+A.floor(1e8*A.random());this.Vde=new $5(r,t,n,i),this.Vde.bde(),this.Wde.xde(this.Vde,this.Lde.partnerCode)},n.Bde=function(t){if(t){var n=t.filter((function(t){return"moat"===t.integration}));if(0===n.length)return;if(n.length>1)throw new y("Only one Moat analytics configuration expected");return n[0]}},n}(t)}),zk.Ost),U(),St(),U(),St(),Ct(),U(),St(),Ct();var n6=function(t){function n(n,i,r){var e;return(e=t.call(this,n,new Date)||this).Ude=i,e.snt=r,e}return Rt(n,t),n}(ha),i6=function(t){return t.LOADED="DAILoaded",t.AD_BREAK_STARTED="DAIAdBreakStarted",t.AD_BREAK_ENDED="DAIAdBreakEnded",t.AD_PERIOD_STARTED="DAIAdPeriodStarted",t.AD_PERIOD_ENDED="DAIAdPeriodEnded",t.AD_PROGRESS="DAIAdProgress",t.CUEPOINTS_CHANGED="DAICuePointsChanged",t.CLICK="DAIClick",t.ERROR="DAIError",t.STARTED="DAIStarted",t.FIRST_QUARTILE="DAIFirstQuartile",t.MIDPOINT="DAIMidpoint",t.STREAM_INITIALIZED="DAIStreamInitialized",t.THIRD_QUARTILE="DAIThirdQuartile",t.COMPLETE="DAIComplete",t}({}),r6=function(t){function n(n,i){return t.call(this,"DAILoaded",n,i)||this}return Rt(n,t),n}(n6),e6=function(t){function n(n,i){return t.call(this,"DAIAdBreakStarted",n,i)||this}return Rt(n,t),n}(n6),u6=function(t){function n(n,i){return t.call(this,"DAIAdBreakEnded",n,i)||this}return Rt(n,t),n}(n6),s6=function(t){function n(n,i){return t.call(this,"DAIAdProgress",n,i)||this}return Rt(n,t),n}(n6),o6=function(t){function n(n,i){return t.call(this,"DAICuePointsChanged",n,i)||this}return Rt(n,t),n}(n6),a6=function(t){function n(n,i){return t.call(this,"DAIClick",n,i)||this}return Rt(n,t),n}(n6),c6=function(t){function n(n,i){return t.call(this,"DAIError",n,i)||this}return Rt(n,t),n}(n6),h6=function(t){function n(n,i){return t.call(this,"DAIStarted",n,i)||this}return Rt(n,t),n}(n6),f6=function(t){function n(n,i){return t.call(this,"DAIFirstQuartile",n,i)||this}return Rt(n,t),n}(n6),v6=function(t){function n(n,i){return t.call(this,"DAIMidpoint",n,i)||this}return Rt(n,t),n}(n6),l6=function(t){function n(n,i){return t.call(this,"DAIStreamInitialized",n,i)||this}return Rt(n,t),n}(n6),d6=function(t){function n(n,i){return t.call(this,"DAIThirdQuartile",n,i)||this}return Rt(n,t),n}(n6),g6=function(t){function n(n,i){return t.call(this,"DAIComplete",n,i)||this}return Rt(n,t),n}(n6);var m6=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Lre=n,e.v0t=i,e.ife=r,e.Xde=function(t){e.Zde(!0);var n=p6(t),i=_6(t);e.wo(new e6(n,i))},e.efe=function(t){e.Zde(!1);var n=p6(t),i=_6(t);e.wo(new u6(n,i))},e.zde=function(t){var n=p6(t),i=_6(t);e.wo(new s6(n,i))},e.V$t=function(t){var n=p6(t),i=_6(t);e.wo(new a6(n,i))},e.qde=function(t){var n=p6(t),i=_6(t);e.wo(new g6(n,i))},e.Yde=function(t){var n=p6(t),i=_6(t);e.wo(new o6(n,i))},e.Ss=function(t){var n=p6(t),i=_6(t);e.wo(new c6(n,i))},e.Kde=function(t){var n=p6(t),i=_6(t);e.wo(new f6(n,i))},e.jde=function(t){var n=p6(t),i=_6(t);e.wo(new r6(n,i))},e.Qde=function(t){var n=p6(t),i=_6(t);e.wo(new v6(n,i))},e.Jde=function(t){var n=p6(t),i=_6(t);e.wo(new h6(n,i))},e.$de=function(t){var n=p6(t),i=_6(t);e.wo(new l6(n,i))},e.tfe=function(t){var n=p6(t),i=_6(t);e.wo(new d6(n,i))},e.v0t&&(e.v0t.style.display="none",e.Lre.setClickElement(e.v0t));var u=google.ima.dai.api.StreamEvent.Type;return e.Lre.addEventListener(u.AD_BREAK_STARTED,e.Xde),e.Lre.addEventListener(u.AD_PROGRESS,e.zde),e.Lre.addEventListener(u.CLICK,e.V$t),e.Lre.addEventListener(u.COMPLETE,e.qde),e.Lre.addEventListener(u.CUEPOINTS_CHANGED,e.Yde),e.Lre.addEventListener(u.ERROR,e.Ss),e.Lre.addEventListener(u.FIRST_QUARTILE,e.Kde),e.Lre.addEventListener(u.LOADED,e.jde),e.Lre.addEventListener(u.MIDPOINT,e.Qde),e.Lre.addEventListener(u.STARTED,e.Jde),e.Lre.addEventListener(u.STREAM_INITIALIZED,e.$de),e.Lre.addEventListener(u.THIRD_QUARTILE,e.tfe),e.Lre.addEventListener(u.AD_BREAK_ENDED,e.efe),e}Rt(n,t);var i=n.prototype;return i.replaceAdTagParameters=function(t){return this.Lre.replaceAdTagParameters(null!=t?t:null)},i.Gde=function(t){return this.Lre.contentTimeForStreamTime(t)},i.Hde=function(t){return this.Lre.streamTimeForContentTime(t)},i.VWt=function(t,n){var i=function(t){return"vod"===t.availabilityType?new f.google.ima.dai.api.VODStreamRequest(us({},w6(t),{contentSourceId:t.contentSourceID,videoId:t.videoID})):new f.google.ima.dai.api.LiveStreamRequest(us({},w6(t),{assetKey:t.assetKey}))}(t);t.enableNonce&&(i.enableNonce=!0),this.Lre.requestStream(i)},i.er=function(){this.Zde(!1),this.Lre.reset()},i.gn=function(){this.$o();var t=google.ima.dai.api.StreamEvent.Type;this.Lre.removeEventListener(t.AD_BREAK_STARTED,this.Xde),this.Lre.removeEventListener(t.AD_PROGRESS,this.zde),this.Lre.removeEventListener(t.CLICK,this.V$t),this.Lre.removeEventListener(t.COMPLETE,this.qde),this.Lre.removeEventListener(t.CUEPOINTS_CHANGED,this.Yde),this.Lre.removeEventListener(t.ERROR,this.Ss),this.Lre.removeEventListener(t.FIRST_QUARTILE,this.Kde),this.Lre.removeEventListener(t.LOADED,this.jde),this.Lre.removeEventListener(t.MIDPOINT,this.Qde),this.Lre.removeEventListener(t.STARTED,this.Jde),this.Lre.removeEventListener(t.STREAM_INITIALIZED,this.$de),this.Lre.removeEventListener(t.THIRD_QUARTILE,this.tfe),this.Lre.removeEventListener(t.AD_BREAK_ENDED,this.efe),this.er(),this.ife&&ai(this.ife)},i.sfe=function(t){this.Lre.onTimedMetadata(t)},i.nfe=function(t,n,i){this.Lre.processMetadata(t,n,i)},i.rfe=function(t){var n=this.Lre.previousCuePointForStreamTime(t);if(n)return{VO:n.end,FO:n.start,JR:n.played}},i.ofe=function(t,n){var i=this.rfe(t);if(i){var r=t>n&&i.VO>n,e=i.VO>t&&i.FO<=t;return i.JR||!r&&!e?void 0:i.FO}},i.Zde=function(t){this.v0t&&(this.v0t.style.display=t?"block":"none")},n}(oa);function w6(t){var n,i=google.ima.dai.api.StreamRequest.StreamFormat;return{apiKey:t.apiKey,authToken:t.authToken,format:"dash"===t.format?i.DASH:i.HLS,networkCode:t.networkCode,streamActivityMonitorId:t.streamActivityMonitorID,adTagParameters:t.adTagParameters,omidAccessModeRules:null!=(n=W0(t.omidAccessModeRules))?n:{}}}function p6(t){var n,i=t.getStreamData(),r=i.adProgressData;return r&&(n={p6t:r.adBreakDuration,hfe:r.duration,w6t:r.adPosition,SR:r.currentTime,ct:r.duration,y6t:r.totalAds}),{afe:n,ufe:(i.cuepoints||[]).map((function(t){return{FO:t.start,VO:t.end,JR:t.played}})),cfe:i.errorMessage||void 0,lfe:i.manifestFormat||void 0,dfe:i.streamId||void 0,ffe:(i.subtitles||[]).map((function(t){return{_fe:t.webvtt,vfe:t.ttml,gs:t.language}})),Gu:i.url}}function y6(t){return{NYt:t.getAdSlotId(),L2t:t.getContent(),Dk:t.getContentType(),Ti:t.getHeight(),ji:t.getWidth()}}function _6(t){var n=t.getAd();if(n){var i=n.getAdPodInfo(),r=n.getCompanionAds().map(y6);return{oKt:n.getAdId(),n9t:{w6t:i.getAdPosition(),BJt:i.getMaxDuration(),_se:i.getPodIndex(),YBt:i.getTimeOffset(),y6t:i.getTotalAds()},Uqt:n.getAdSystem(),gse:n.getAdvertiserName(),PYt:n.getApiFramework(),jqt:r,dYt:n.getCreativeId(),z9t:n.getCreativeAdId(),pse:n.getDealId(),ON:n.getDescription(),ct:n.getDuration(),nH:n.getTitle(),mfe:n.getUniversalAdIdRegistry(),gfe:n.getUniversalAdIdValue(),W9t:n.getVastMediaHeight(),V9t:n.getVastMediaWidth(),L9t:n.getWrapperAdIds(),B9t:n.getWrapperAdSystems(),O9t:n.getWrapperCreativeIds()}}}function b6(){var t=v.body.lastElementChild;if(t instanceof HTMLIFrameElement&&"Advertisement"===t.title)return t}U(),St(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Jt();var k6="theo-dai-clickthrough",A6="urn:google:dai:2018",T6=function(){function t(t,n,i,r,e){var u=this;this.Qre=void 0,this.zG=void 0,this.qG=void 0,this.j9=new Jo,this.Rfe=!1,this.wfe=!0,this.Efe=function(t){var n=t.Ht;n.Lt===$p.$V&&(n.Aw===xm.ID3||n.Aw===xm.EVENT_STREAM&&n.MC===A6)&&(n.xE=Gp.NC,u.Qre=n,n.yn(Rg.UI,u.Ife))},this.Ife=function(t){t.BO.yn(Fm.sO,u.Cfe)},this.Cfe=function(t){var n,i;if(u.Lre)if((null==(n=u.Qre)?void 0:n.Aw)===xm.ID3){var r=t.BO.U;"TXXX"===r.id&&u.Lre.sfe({TXXX:r.text})}else if((null==(i=u.Qre)?void 0:i.Aw)===xm.EVENT_STREAM){var e=t.BO.U;u.Lre.nfe(A6,e,t.nV)}},this.ea=t,this.Lre=n,this.bfe=i,this.pfe=r,this.Sfe=e,i&&n&&this.ea.qc&&this.ea.qc.tnt(i.Q9t)}var n=t.prototype;return n.ER=function(t){this.j9.Yw(),this.j9=new Jo,ta(Ho(this.Nse(t,this.j9.Vw),this.j9))},n.Nse=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return jo(n),i.bfe&&i.Lre?i.bfe.Kst&&!i.Sfe?[2]:(r=i.ea.kR(),i.wfe&&(e=i.Lre.ofe(t,r))?(i.ea.Afe(e),[4,i.Lre.vy(i6.AD_BREAK_ENDED,n)]):[3,2]):[2,i.ea.Afe(t)];case 1:if(u.sent(),i.Lre.rfe(t).VO>t)return[2];u.label=2;case 2:return i.ea.Afe(t),[2]}}))}))()},n.oI=function(){var t=this.bfe&&this.bfe.Kst;if(t){var n=MA.xn(this.ea.Tfe()),i=t.YBt,r=i+t.BJt,e=new MA([i,r]);return n.Sn(e).ks()}return this.ea.Tfe()},n.ynt=function(t,n){var i=this;return Zt((function(){var r,e,u;return Ht(this,(function(s){switch(s.label){case 0:if(!t)return[2,i.ea.kfe(t,n)];r=t,s.label=1;case 1:return s.trys.push([1,3,,4]),i.ea.nt.yn(Ag.OI,i.Efe),[4,i.pfe.xfe(t,n)];case 2:return r=s.sent(),i.bfe&&i.Lre&&(i.Rfe=!0),[3,4];case 3:if(Zo(e=s.sent()),e.code===um.LICENSE_INVALID)return[2];throw u=new sl(el.SOURCE_NOT_SUPPORTED,"Something went wrong while setting up a Google DAI stream.",e),i.zG=am(u),i.qG=u,i.ea.wo(new Ek(u)),u;case 4:return[4,i.ea.kfe(r,n)];case 5:return s.sent(),[2]}}))}))()},n.er=function(){if(this.Rfe){if(this.ea.nt.fn(Ag.OI,this.Efe),this.Qre){this.Qre.fn(Rg.UI,this.Ife);for(var t=0,n=this.Qre.L.uC;t<n.length;t++){n[t].fn(Fm.sO,this.Cfe)}this.Qre=void 0}this.zG=void 0,this.qG=void 0,this.j9.Yw(),this.bfe&&this.bfe.er(),this.Lre&&this.Lre.er(),this.Rfe=!1}},n.gn=function(){this.er(),this.ea.Nfe(),this.Lre&&this.Lre.gn()},xt(t,[{key:"ka",get:function(){var t=this,n=this.pfe;return{contentTimeForStreamTime:function(n){return t.Lre?t.Lre.Gde(n):n},streamTimeForContentTime:function(n){return t.Lre?t.Lre.Hde(n):n},replaceAdTagParameters:function(n){t.Lre&&t.Lre.replaceAdTagParameters(n)},get snapback(){return t.wfe},set snapback(n){t.wfe=n},get sourceTransformer(){return n.yfe},set sourceTransformer(t){n.yfe=t}}}},{key:"lt",get:function(){return this.zG||this.ea.Pfe()}},{key:"DR",get:function(){return this.qG||this.ea.Dfe()}}]),t}();U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var S6=function(t){function n(n,i,r,e){var u;return void 0===e&&(e=!0),(u=t.call(this,r)||this).Lfe=e,u.v2t=n,u.m2t=i,u}return Rt(n,t),xt(n,[{key:"Mfe",get:function(){return this.Lfe}},{key:"tQt",get:function(){return h$.Yh}}]),n}($$),E6=function(t){function n(n,i){var r;return(r=t.call(this,new VI,h$.Yh)||this).Lre=n,r.ea=i,r.zde=function(t){var n=r.c$t;if(n&&r.t$t){var i=t.Ude.afe;r.t$t.P9t=i.SR,function(t,n){var i=n.w6t,r=n.p6t,e=n.SR,u=mr(t.qc.slice(0,i-1),(function(t){var n;return null!=(n=t.ct)?n:0}));t.OJt=r-e-u}(n,i)}},r.Yde=function(t){var n=t.Ude.ufe;if(n)for(var i=0;i<n.length;i++){var e=n[i];if(!r.Gfe(e.FO)){var u=e.VO-e.FO,s=new S6(u,u,e.FO,!0);r.l$t.push(s)}}},r.Ofe=function(t){r.Vfe(t.type),r.Ufe(t)},r.efe=function(t){r.$9t=!1,r.t$t=void 0;var n=r.Kst;n&&(n.OJt=0,r.Wfe(t.type,!1,!1),r.c$t=void 0)},r.Bfe(),r}Rt(n,t);var i=n.prototype;return i.Bfe=function(){var t=[i6.STARTED,i6.FIRST_QUARTILE,i6.MIDPOINT,i6.THIRD_QUARTILE,i6.COMPLETE];this.Lre.yn(t,this.Ofe),this.Lre.yn(i6.AD_BREAK_ENDED,this.efe),this.Lre.yn(i6.AD_PROGRESS,this.zde),this.Lre.yn(i6.CUEPOINTS_CHANGED,this.Yde)},i.Ffe=function(t){var n=t.n9t.YBt,i=this.c$t||this.findAdBreakWithPredicate(n,(function(t){return!t.JR}));if(!i){var r=t.n9t.BJt;n=this.ea.kR(),(i=new S6(r,r,n,!1)).p2t(),this.l$t.push(i)}return i},i.Vfe=function(t){switch(t){case i6.STARTED:this.$9t=!0;break;case i6.AD_BREAK_ENDED:this.$9t=!1}},i.Wfe=function(t,n,i){if(n)switch(t){case i6.STARTED:case i6.FIRST_QUARTILE:case i6.MIDPOINT:case i6.THIRD_QUARTILE:case i6.COMPLETE:this.$1t.wo(new uB(this.c$t))}if(i)switch(t){case i6.STARTED:case i6.FIRST_QUARTILE:case i6.MIDPOINT:case i6.THIRD_QUARTILE:case i6.COMPLETE:this.$1t.wo(new oB(this.t$t,this.t$t.P9t))}switch(t){case i6.COMPLETE:this.$1t.wo(new cB(this.t$t,this.j9t.P9t));break;case i6.AD_BREAK_ENDED:this.$1t.wo(new rB(this.Kst))}switch(t){case i6.FIRST_QUARTILE:this.$1t.wo(new g0(this.t$t,this.j9t.P9t));break;case i6.MIDPOINT:this.$1t.wo(new w0(this.t$t,this.j9t.P9t));break;case i6.THIRD_QUARTILE:this.$1t.wo(new y0(this.t$t,this.j9t.P9t))}},i.Ufe=function(t){var n=t.snt,i=this.Ffe(n),r=function(t,n){if(t.qc.length)return!1;for(var i=0;i<n;i++){var r=new X0(t,n0.Ejt);t.y2t(r)}return!0}(i,n.n9t.y6t),e=function(t,n){var i=n.n9t.w6t-1;return t.qc[i]}(i,n),u=function(t,n){return t.I2t!==i0.READY&&(t.F9t(n),!0)}(e,n);this.t$t=e,this.c$t=i,i.p2t(),this.Wfe(t.type,r,u)},i.Gfe=function(t){for(var n=0,i=this.l$t;n<i.length;n++){var r=i[n];if(fr(t,r.YBt))return r}},i.findAdBreakWithPredicate=function(t,n){for(var i=0,r=this.l$t;i<r.length;i++){var e=r[i];if(fr(e.YBt,t)&&n(e))return e}},i.Zfe=function(t,n){for(var i,r=0,e=this.l$t;r<e.length;r++){var u=e[r];u.YBt>=t&&u.YBt<=n&&!u.JR&&(!i||u.YBt>=i.YBt)&&(i=u)}return i},i.DD=function(){},i.$st=function(t){},i.er=function(){this.t$t&&(this.$1t.wo(new cB(this.t$t,this.t$t.P9t)),this.t$t=void 0),this.c$t&&(this.$1t.wo(new rB(this.c$t)),this.c$t=void 0),this.$9t=!1,So(this.l$t)},i.gn=function(){this.er(),this.$1t.gn()},xt(n,[{key:"u2t",get:function(){return this.$9t}},{key:"$1t",get:function(){return this.b3t}},{key:"Hfe",get:function(){var t=this.findAdBreakWithPredicate(0,(function(t){return t.Mfe})),n=0;return t&&(n=t.BJt),n}}]),n}(K0);U(),St(),Gt(),Jt();var I6=function(){function t(t){this.Lre=t,this.yfe=function(t){return t}}var n=t.prototype;return n.xfe=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f,v;return Ht(this,(function(l){switch(l.label){case 0:for(r=[],e=[],u=0,s=t.sources;u<s.length;u++)if(nT(o=s[u])){if(!i.Lre)continue;r.push(o)}else e.push(o);if(0===r.length)return[2,t];l.label=1;case 1:return void 0!==a||0===r.length?[3,7]:[4,$T.Fg.jH(r,t)];case 2:h=l.sent().xc,f=h,jo(n),l.label=3;case 3:return l.trys.push([3,5,,6]),[4,i.Xfe(f,n)];case 4:return a=l.sent(),e.push(a),[3,6];case 5:return Zo(v=l.sent()),c=v,_o(r,f),[3,6];case 6:return[3,1];case 7:if(0!==t.sources.length&&0===e.length)throw new y("Fatal: unable to play DAI streams.");return c&&Jr(c.message),[2,us({},t,{sources:e})]}}))}))()},n.Xfe=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a;return Ht(this,(function(c){switch(c.label){case 0:if(!i.Lre)throw new y("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");return r=i.Lre.vy(i6.LOADED,n),e=i.Lre.vy(i6.ERROR,n),u=t.type===pA.XC?"dash":"hls",i.Lre.VWt(us({},t.ssai,{format:u})),[4,ut.race([r,e])];case 1:return(s=c.sent()).type!==i6.LOADED?[3,5]:(o=t.type===pA.XC?pA.XC:pA.qC,i.yfe?[4,i.yfe(s.Ude.Gu||"")]:[3,3]);case 2:return a=c.sent(),[3,4];case 3:a=s.Ude.Gu,c.label=4;case 4:return[2,kA(us({},t,{src:a,type:o}))];case 5:throw y(s.Ude.cfe);case 6:return[2]}}))}))()},t}();qk(function(t){return function(n){return function(n){function i(i,r){var e;(e=n.call(this,i,r)||this).qfe=!1,e.Yfe=function(t){13===t.which&&e.v0t.click(),e.TI()};var u,s,o,a=e.AI(),c=r.ads.googleIma.useAdUiElementForSsai,h=null!=(u=r.ads.googleIma.allowSeekingForGoogleDai)&&u;try{var f;c?(e.Kfe=v.createElement("div"),_i(e.Kfe),e.Kfe.className="theo-dai-ad-ui"):(e.v0t=v.createElement("button"),e.v0t.className=k6),s=t(a,e.v0t,e.Kfe),o=new E6(s,e);var l=null!=(f=e.v0t)?f:e.Kfe;l&&e.we.appendChild(l),e.qfe=!0}catch(t){e.v0t=void 0,e.Kfe=void 0}var d=new I6(s);return e.zfe=new T6(e,s,o,d,h),e.v0t&&(e.v0t.addEventListener("keydown",e.Yfe),e.v0t.addEventListener("click",e.Yfe)),e}Rt(i,n);var r=i.prototype;return r.ba=function(){var t=n.prototype.ba.call(this),i=t.ads;if(i){var r=this.zfe.ka;Pg(i,{get dai(){return r}})}return t},r.Afe=function(t){n.prototype.ER.call(this,t)},r.ER=function(t,n){this.zfe.ER(t)},r.Tfe=function(){return n.prototype.oI.call(this)},r.oI=function(){return this.zfe.oI()},r.xa=function(t){return this.zfe.er(),n.prototype.xa.call(this,t)},r.kfe=function(t,i){var r=this;return Zt((function(){return Ht(this,(function(e){return[2,n.prototype.ynt.call(r,t,i)]}))}))()},r.ynt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){return[2,i.zfe.ynt(t,n)]}))}))()},r.Pfe=function(){return n.prototype.PR.call(this)},r.Dfe=function(){return n.prototype.NR.call(this)},r.PR=function(){return this.zfe.lt},r.NR=function(){return this.zfe.DR},r.Nfe=function(){n.prototype.gn.call(this)},r.gn=function(){this.zfe.gn(),this.v0t&&(ai(this.v0t),this.v0t.removeEventListener("keydown",this.Yfe),this.v0t.removeEventListener("click",this.Yfe),this.v0t=void 0),this.Kfe&&(ai(this.Kfe),this.Kfe=void 0)},xt(i,[{key:"Gl",get:function(){return this.qfe}}]),i}(n)}}((function(t,n,i){if(!(f.google&&f.google.ima&&$n(f.google.ima.dai)))throw new y("Could not find Google\u2019s IMA DAI HTML5 SDK, all DAI sources will be ignored.");var r=b6(),e=new google.ima.dai.api.StreamManager(t,i),u=b6();return new m6(e,n,u&&u!==r?u:void 0)})),zk.Mst),U(),St(),U(),St(),Ct(),U(),St(),Dt();var R6=function(){function t(t,n){var i=this;this.ea=t,this.e_e=n,this.d_e=!1,this.o_e=!1,this.f_e=[],this.a_e=-1/0,this.c_e=!1,this.Rce=function(){i.d_e||(i.e_e.b_e(),i.c_e&&i.e_e.v_e(),i.d_e=!0)},this.Yre=function(){i.e_e.A_e(),i.o_e=!0},this.Doe=function(){i.a_e<i.ea.kR()&&(i.a_e=i.ea.kR()),i.w_e()},this.i_e=function(){i.d_e&&(i.S_e=performance.now(),i.e_e.T_e(i.ea.kR()))},this.s_e=function(){i.S_e&&(i.e_e.k_e((performance.now()-i.S_e)/1e3),i.S_e=void 0)},this.O6=function(){i.a_e<i.ea.kR()&&(i.a_e=i.ea.kR()),i.e_e.Bnt(i.ea.PR().message)},this.n_e=function(){var t=i.ea.Sd()===1/0;t&&!i.c_e&&(i.c_e=t,i.__e())},this.KNt=function(){i.e_e.h_e(i.a_e),i.e_e.E_e()},this.g_e=function(){void 0!==i.Qfe&&i.e_e.x_e(i.jfe)}}var n=t.prototype;return n.Jfe=function(t){this.$fe=t,this.e_e.t_e(t),this.ea.yn(fa.ro,this.Rce),this.ea.yn(fa.Cy,this.Yre),this.ea.yn(fa.sb,this.Doe),this.ea.yn(zp.da,this.O6),this.ea.yn(Ey.FL,this.i_e),this.ea.yn([Ey.ML,Ey.LL,Ey.VL],this.s_e),this.ea.yn(fa.xy,this.n_e),QT.pY(this.KNt)},n.r_e=function(){this.ea.fn(fa.ro,this.Rce),this.ea.fn(fa.Cy,this.Yre),this.ea.fn(fa.sb,this.Doe),this.ea.fn(zp.da,this.O6),this.ea.fn(Ey.FL,this.i_e),this.ea.fn([Ey.ML,Ey.LL,Ey.VL],this.s_e),this.ea.fn(fa.xy,this.n_e),QT._Y(this.KNt),this.o_e||(this.e_e.h_e(this.a_e),this.e_e.u_e()),this.c_e&&this.l_e(),this.$fe=void 0,this.d_e=!1,this.o_e=!1,this.a_e=-1/0,So(this.f_e)},n.__e=function(){this.d_e&&this.e_e.v_e(),this.Qfe=performance.now(),this.m_e=w(this.g_e,6e4)},n.l_e=function(){this.e_e.p_e(this.jfe),this.c_e=!1,this.Qfe=void 0,this.m_e&&(p(this.m_e),this.m_e=void 0)},n.w_e=function(){if(!E(this.ea.Sd())){var t=10*function(t,n){return A.floor(t/n)}(this.ea.kR()/this.ea.Sd()*100,10);Ao(this.f_e,t)||(this.f_e.push(t),this.e_e.y_e(t))}},xt(t,[{key:"jfe",get:function(){return void 0===this.Qfe?0:(performance.now()-this.Qfe)/1e3}}]),t}();U(),St();var C6=function(){function t(){}var n=t.prototype;return n.t_e=function(t){this.R_e(["setDocumentTitle",t.itemTitle]),this.R_e(["setCustomUrl","https://content.streamone.net/embed/cust=Xo9oT45EptMG/account="+t.accountID+"/item="+t.itemID]),this.R_e(["trackPageView"])},n.b_e=function(){this.I_e("item first play","viewing","1")},n.u_e=function(){this.I_e("item skipped","skipped","1")},n.y_e=function(t){this.I_e("item progress","percent",""+t)},n.E_e=function(){this.I_e("item abandoned","window closed","1")},n.h_e=function(t){this.I_e("item time","watched",""+t)},n.A_e=function(){this.I_e("item finished","ended","1")},n.T_e=function(t){this.I_e("buffering started","timestamp",""+t)},n.k_e=function(t){this.I_e("buffering ended","duration",""+t)},n.Bnt=function(t){this.I_e("error","message",""+t)},n.v_e=function(){this.I_e("livestream first play","viewing","1")},n.x_e=function(t){this.I_e("livestream progress","duration",""+t)},n.p_e=function(t){this.I_e("livestream time","watched",""+t)},n.I_e=function(t,n,i){this.R_e(["trackEvent","Video",t,n,i])},n.R_e=function(t){var n="undefined"!=typeof _paq?_paq:void 0;n?n.push(t):console.warn("The Piwik library required for the StreamOne pre-integration was not found. Make sure it is loaded before instantiating THEOplayer.")},t}();U(),St(),Dt();var N6=function(){function t(t,n,i){var r=this;this.ea=t,this.Uc=n,this.e_e=i,this.N_e=[],this.ede=function(){r.P_e=r.ea.Sd(),r.e_e.M_e(r.P_e)},this.ide=function(){r.P_e&&(r.e_e.L_e(r.P_e),So(r.N_e),r.P_e=void 0)},this.rde=function(t){if(r.P_e){var n=r.P_e-r.P_e*t.W2t;r.e_e.B_e(n),r.P_e=void 0}},this.sde=function(){r.P_e=r.ea.Sd(),r.e_e.O_e()},this.Doe=function(){var t=r.C_e;if(r.D_e&&t&&!Ao(r.N_e,t)){switch(t){case 1:r.e_e.F_e();break;case 2:r.e_e.V_e();break;case 3:r.e_e.W_e();break;case 4:r.e_e.U_e()}r.N_e.push(t)}},this.KNt=function(){r.e_e.G_e()}}var n=t.prototype;return n.Jfe=function(){this.Uc.yn("hnt",this.ede),this.Uc.yn("ant",this.ide),this.Uc.yn("G2t",this.rde),this.Uc.yn("r2t",this.sde),this.ea.yn(fa.sb,this.Doe),QT.pY(this.KNt)},n.r_e=function(){this.Uc.fn("hnt",this.ede),this.Uc.fn("ant",this.ide),this.Uc.fn("G2t",this.rde),this.Uc.fn("r2t",this.sde),this.ea.fn(fa.sb,this.Doe),So(this.N_e),QT._Y(this.KNt),this.P_e=void 0},xt(t,[{key:"C_e",get:function(){if(this.P_e){var t=this.ea.kR()/this.P_e;return A.floor(4*t)+1}}},{key:"D_e",get:function(){return void 0!==this.P_e}}]),t}();U(),St();var x6=function(){function t(t){this.e_e=t}var n=t.prototype;return n.M_e=function(t){this.e_e.I_e("ad start","duration",""+t)},n.L_e=function(t){this.e_e.I_e("ad finished","duration",""+t)},n.B_e=function(t){this.e_e.I_e("ad skipped","remaining time",""+t)},n.O_e=function(){this.e_e.I_e("ad blocker","detected","1")},n.F_e=function(){this.e_e.I_e("ad progress","firstQuartile","")},n.V_e=function(){this.e_e.I_e("ad progress","secondQuartile","")},n.W_e=function(){this.e_e.I_e("ad progress","thirdQuartile","")},n.U_e=function(){this.e_e.I_e("ad progress","fourthQuartile","")},n.G_e=function(){this.e_e.I_e("ad abandoned","window closed","1")},t}();function D6(t){return t&&"streamone"===t.integration}qk((function(t){return function(t){function n(n,i){var r;(r=t.call(this,n,i)||this).H_e=!1,r.uo=function(){r.H_e&&(r.Z_e.r_e(),r.X_e&&r.X_e.r_e());var t=r.tu();if(r.H_e=!1,t){var n=function(t){if(t.analytics)for(var n=0,i=t.analytics;n<i.length;n++){var r=i[n];if(D6(r))return r}}(t);n&&(r.H_e=!0,r.Z_e.Jfe(n),r.X_e&&r.X_e.Jfe())}};var e=new C6;if(r.Z_e=new R6(r,e),r.qc){var u=new x6(e);r.X_e=new N6(r,r.qc,u)}return r.yn(fa.ao,r.uo),r}return Rt(n,t),n.prototype.gn=function(){this.fn(fa.ao,this.uo),this.H_e&&(this.Z_e&&this.Z_e.r_e(),this.X_e&&this.X_e.r_e(),this.H_e=!1),t.prototype.gn.call(this)},n}(t)}),zk.Ost),U(),St(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Ct(),U(),St(),Gt(),Ct(),Jt();var P6=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Y_e=i,r.K_e=void 0,r}Rt(n,t);var i=n.prototype;return i.w2=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,M6(n)];case 1:return u=s.sent(),[4,t.prototype.w2.call(e,u,i,r)];case 2:return s.sent(),e.z_e(u,i),[2]}}))}))()},i._2=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,M6(n)];case 1:return u=s.sent(),[4,t.prototype._2.call(e,u,i,r)];case 2:return s.sent(),e.z_e(u,i),[2]}}))}))()},i.z_e=function(t,n){var i=this.Y_e.q_e;if(void 0!==i){var r,e=n.F1;if(this.K_e!==e&&(this.K_e=e,i.setLevelSwitching(e),i.setContainerFormat(2)),function(t){return Hn.call(t,"cit")}(n)){var u=n.cit,s=n.cit+n.ct;r=n.MV,i.newPts(u,s,"video",e)}else 0;i.appendBuffer(t.qk,"video",e,r)}},i.$S=function(n,i,r){var e=this;return Zt((function(){var u;return Ht(this,(function(s){switch(s.label){case 0:return[4,t.prototype.$S.call(e,n,i,r)];case 1:return s.sent(),null==(u=e.Y_e.q_e)||u.flushBuffer(n,i),[2]}}))}))()},n}(sO);function M6(t){return B6.apply(this,arguments)}function B6(){return B6=Zt((function(t){var n;return Ht(this,(function(i){switch(i.label){case 0:switch(t.Aw){case XR.tJ:return[3,1];case XR.bk:return[3,2];case XR.eJ:return[3,4]}return[3,5];case 1:return[2,t];case 2:return[4,Xl(t.qk)];case 3:return n=i.sent(),[2,{Aw:XR.tJ,qk:new I(n)}];case 4:throw new y("Opaque initialization segments are not supported on web.");case 5:return[2]}}))})),B6.apply(this,arguments)}var O6=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Y_e=i,r._ot(n),r}return Rt(n,t),n.prototype.mot=function(t){return t.h3===im._E?new P6(t,this.Y_e):new sO(t)},n}(eO),L6=function(t){function n(n){var i;(i=t.call(this,n)||this).tve=!1,i.eve=function(t){i.tve||(t||i.MH("LCEVC SDK failed to initialize."),i.Q_e())},i.ive=function(){i.tve||i.MH("LCEVC SDK failed to initialize.")},i.J_e=v.createElement("canvas"),_i(i.J_e),i.J_e.style.display="none";var r,e=n.YG;return e.parentElement.insertBefore(i.J_e,null!=(r=e.nextSibling)?r:null),LCEVCdec.ready.then(i.eve,i.ive),i}Rt(n,t);var i=n.prototype;return i.Q_e=function(){this.j_e=new LCEVCdec.LCEVCdec(this.FB.YG,this.J_e,{})},i.ge=function(){t.prototype.ge.call(this),this.$_e()},i.be=function(){t.prototype.be.call(this),this.J_e.style.display="none"},i.er=function(){return this.J_e.style.display="none",void 0!==this.j_e&&(this.j_e.close(),this.Q_e()),t.prototype.er.call(this)},i.Hw=function(){return this.tve=!0,void 0!==this.j_e&&(this.j_e.close(),this.j_e=void 0),ai(this.J_e),t.prototype.Hw.call(this)},i.MH=function(t){this.wo(new xN(new sm(um.ABORTED,t)))},i.$_e=function(){this.FB.YG.style.display="none",this.J_e.style.display="block"},i.cot=function(t){return new O6(t,this)},i.uot=function(t){return new cO(t)},xt(n,[{key:"q_e",get:function(){return this.j_e}},{key:"jrt",get:function(){return this.FB}}]),n}(hO),F6=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.LH=function(n){if(n===im._E)return this.sve=new L6(t.prototype.LH.call(this,n)),this.sve},i.pH=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.sve=void 0,[4,(r=n).Hw()];case 1:return e.sent(),[4,t.prototype.pH.call(i,r.jrt)];case 2:return e.sent(),[2]}}))}))()},xt(n,[{key:"nve",get:function(){return this.sve}}]),n}(tO),V6=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new F6(s),f=new lO(h),v=f.LH(o);return(c=t.call(this,n,i,r,e,u,v,a)||this).ove=function(t){t.Ht.yn(Rg.rC,c.rve)},c.hve=function(t){t.Ht.fn(Rg.rC,c.rve)},c.rve=function(t){var n,i=null==(n=c.uve.nve)?void 0:n.q_e,r=t.aat.xC;null==i||i.setCurrentLevel(r)},c.wH=f,c.uve=h,c.cO.yn(Ag.OI,c.ove),c.cO.yn(Ag.VI,c.hve),c}return Rt(n,t),n.prototype.gn=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:for(i=0,r=n.cO.uC;i<r.length;i++)r[i].fn(Rg.rC,n.rve);return n.rt.fn(Ag.OI,n.ove),n.rt.fn(Ag.VI,n.hve),[4,t.prototype.gn.call(n)];case 1:return e.sent(),[4,n.FB.Hw()];case 2:return e.sent(),[4,n.wH.pH(n.FB)];case 3:return e.sent(),[2]}}))}))()},n}(Yj),U6=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).VH=Nk.cG,n}Rt(n,t);var i=n.prototype;return i.hP=function(t,n,i,r,e,u,s){var o=new MB(KB.Fg.Rrt,KB.Fg.xrt,KB.Fg.Ert,KB.Fg.Crt),a=n;return mZ.pT()&&(a=new mZ(a)),new V6(i,r,e,u,o,a,im._E,t)},i.BH=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return n.lcevc?[4,t.prototype.BH.call(i,n)]:[2,!1];case 1:if(!r.sent())return[2,!1];if(void 0===f.LCEVCdec)throw new sl(el.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return[2,!0]}}))}))()},i.FH=function(){return!1},n}(xB);KT(new U6),U(),St(),Gt(),Ct(),Jt();var W6=function(t){function n(n,i,r,e,u,s,o,a){var c,h=new F6(n),f=new lO(h),v=f.LH(im._E);return(c=t.call(this,v,i,r,e,u,s,o,a)||this).ove=function(t){t.Ht.yn(Rg.rC,c.rve)},c.hve=function(t){t.Ht.fn(Rg.rC,c.rve)},c.rve=function(t){var n,i=null==(n=c.uve.nve)?void 0:n.q_e,r=t.aat.cLt.xC;null==i||i.setCurrentLevel(r)},c.wH=f,c.uve=h,c.cO.yn(Ag.OI,c.ove),c.cO.yn(Ag.VI,c.hve),c}return Rt(n,t),n.prototype.gn=function(){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:for(i=0,r=n.cO.uC;i<r.length;i++)r[i].fn(Rg.rC,n.rve);return n.rt.fn(Ag.OI,n.ove),n.rt.fn(Ag.VI,n.hve),[4,t.prototype.gn.call(n)];case 1:return e.sent(),[4,n.wH.pH(n.FB)];case 2:return e.sent(),[2]}}))}))()},n}(Lq),j6=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).VH=Nk._G,n}Rt(n,t);var i=n.prototype;return i.hP=function(t,n,i,r,e,u,s){return new W6(n,i,e,u,dq(r.libraryLocation),new Oq(r.libraryLocation),new MB(KB.Fg.Rrt,KB.Fg.xrt,KB.Fg.Ert,KB.Fg.Crt),r)},i.BH=function(n,i){var r=this;return Zt((function(){return Ht(this,(function(e){switch(e.label){case 0:return n.lcevc?[4,t.prototype.BH.call(r,n,i)]:[2,!1];case 1:if(!e.sent())return[2,!1];if(void 0===f.LCEVCdec)throw new sl(el.CONFIGURATION_ERROR,"LCEVC SDK is not loaded.");return[2,!0]}}))}))()},i.FH=function(){return!1},n}(Vq);KT(new j6),U(),St(),U(),St(),Dt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var Z6=function(t){return t.cve="er",t.lve="dve",t}({}),X6="freewheel-nonlinear-ad",G6=[fa.xy,fa.sb,fa.ob,fa.Zy,Ey.VL,fa.ro],H6=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i)||this).zG=void 0,s.qG=void 0,s.mve=function(t){var n=t.snt,i="hnt"===t.type;if(n.C2t===n0.E2t){var r=s.ea.we.classList;i?r.add(X6):r.remove(X6)}i?s.ge():s.be()},s.vve=function(){s.A3t(),s.ea.TI(),s.ea.be()},s.Uie=function(){s._ve.xve&&(s.ea.RR||s.ea.kI(),s.be(),s.ea.ge(),s.w1t())},s._ve=e,s.wH=r,s.FB=u,s.Let=u.YG,s.Let.controls=!1,s.fve(),s.pve(),s.yve(),s}Rt(n,t);var i=n.prototype;return i.SI=function(){this.wH.fZ()},i.fve=function(){this._ve.yn("ont",this.vve),this._ve.yn(["hnt","ant"],this.mve),this._ve.yn("rnt",this.Uie)},i.gve=function(){this._ve.fn("ont",this.vve),this._ve.fn(["hnt","ant"],this.mve),this._ve.fn("rnt",this.Uie)},i.pve=function(){this.$1t.nu(this._ve.wve)},i.yve=function(){this._ve.bve.yn(G6,this.Ds)},i.Ave=function(){this._ve.bve.fn(G6,this.Ds)},i.$st=function(t){},i.kR=function(){return this._ve.bve.SR},i.ER=function(t,n){},i.Sd=function(){return this._ve.bve.ct},i.IR=function(){return this._ve.bve.RR},i.PR=function(){return this.zG},i.NR=function(){return this.qG},i.lI=function(){return 0},i._I=function(){return 0},i.mI=function(){return this._ve.bve.vI},i.gI=function(t){this._ve.bve.vI=t},i.HR=function(){return this._ve.bve.GR},i.ZR=function(t){this._ve.bve.GR=t},i.nI=function(){return this._ve.bve.sI},i.oI=function(){return this._ve.bve.rI},i.YR=function(){return this._ve.bve.qR},i.i2t=function(t){if(this.u2t||this._ve.i2t(t),this._ve.Sve){if(t.type===fa.Zy&&this.ea.RR)return!0;if(t.type===fa.Cy)return this._ve.kve.Tve(),!0}return!1},i.be=function(){this._ve.be()},i.TI=function(){this.qR||this._ve.bve.TI()},i.Eve=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:if(t._ve.xve)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t._ve.K4t()];case 2:return i.sent(),[3,4];case 3:return n=i.sent(),t.Rve(n,QJ.GENERAL),[3,4];case 4:return[2]}}))}))()},i.Ive=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t._ve.bve.Cve?(t._ve.bve.kI(),[2,!1]):[3,1];case 1:if(!t._ve.Pve)return[3,5];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t._ve.kve.Dve()];case 3:return i.sent(),[3,5];case 4:return n=i.sent(),t.Rve(n,QJ.PLAYBACK),[3,5];case 5:return[2,!0]}}))}))()},i.Rve=function(t,n){t.name!==Z6.cve&&this.$1t.wo(new q$(n,"Ads could not be loaded."))},i.kI=function(){var t=this;return Zt((function(){var n;return Ht(this,(function(i){switch(i.label){case 0:return t.qR&&t.wo(new yT(t.SR)),[4,t.Eve()];case 1:return i.sent(),t.Nve?[2]:[4,t.Ive()];case 2:return n=i.sent(),!t.Nve&&n&&t.Uie(),[2]}}))}))()},i.d8t=function(t,n,i){n===XM.zst&&this._ve.d8t(t)},i.ge=function(){this._ve.ge()},i.DD=function(){this._ve.bve.DD()},i.AI=function(){return this.Let},i.mR=function(){return this.wH.pZ.map((function(t){return t.YG}))},i.f2t=function(t){},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.EI()];case 1:return n.sent(),t._ve.gn(),[4,t.wH.pH(t.FB)];case 2:return n.sent(),t.gve(),t.Ave(),t.$1t.wK(t._ve.wve),[2]}}))}))()},i.EI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t._ve.er(),t.u2t&&(t.ea.ge(),t.w1t(),t.be()),[2]}))}))()},xt(n,[{key:"Q1t",get:function(){return this}},{key:"K1t",get:function(){return n.K1t}},{key:"Kst",get:function(){var t;return null!=(t=this._ve.wve.Kst)?t:null}},{key:"qst",get:function(){var t=this._ve.wve.j9t;return t?[t]:[]}},{key:"jst",get:function(){return this._ve.wve.jst}},{key:"Qst",get:function(){return this._ve.wve.Qst}},{key:"Nve",get:function(){return Yn(this.PR())}}],[{key:"K1t",get:function(){return h$.o$t}}]),n}(E0);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Wt(),Jt(),U(),St(),Dt(),Ct();var z6=function(t){function n(n,i,r,e){var u;return(u=t.call(this,r)||this).Lve=e,u.Ove=0,u.P2t=K6(e),u.v2t=n,u.m2t=i,u}return Rt(n,t),xt(n,[{key:"Mve",get:function(){return this.Lve}},{key:"Bve",get:function(){return this.qc[this.Ove]}},{key:"Fve",get:function(){return this.Ove},set:function(t){this.Ove=t}},{key:"C2t",get:function(){return this.P2t}},{key:"tQt",get:function(){return h$.o$t}}]),n}($$);U(),St(),Dt(),Ct();var Y6=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Wve=r,e}return Rt(n,t),n.prototype.ba=function(){return e0(this)},xt(n,[{key:"Vve",get:function(){return this.Wve},set:function(t){this.Wve!==t&&(this.Wve=t)}},{key:"Ti",get:function(){return this.td.Mve.getHeight()}},{key:"ji",get:function(){return this.td.Mve.getWidth()}},{key:"GYt",get:function(){return this.Vve.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK)[0]}},{key:"tQt",get:function(){return h$.o$t}}]),n}(r0);function K6(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY?n0.E2t:n0.Ejt}var q6=function(t){function n(i,r){var e;return(e=t.call(this)||this).Vs=i,e.QT=r,e.ame=tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL,e.ume=tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL,e.lme=tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL,e.cme=tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY,e.qve=[],e.Kve=[],e.Qve=[],e.Jve=[],e.tme=function(t){var i=t.slot,r=e._me(i);r&&(n.mme(i,r),e.c$t=r,r.p2t(),e.yme(r),r.C2t===n0.Ejt&&e.wo(new uB(r)))},e.eme=function(){var t=e.Kst;t&&t.C2t===n0.Ejt&&(e.wo(new rB(t)),e.QT.src=""),e.c$t=void 0},e.ime=function(t){var n=e.fme(t.adInstance);n&&(e.wo(new oB(n,n.Vve.getPlayheadTime())),e.t$t=n),t.adInstance.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK).length>0&&(e.Vs.style.cursor="pointer",e.Vs.addEventListener("click",e.bme))},e.nme=function(){e.Vs.style.cursor="",e.Vs.removeEventListener("click",e.bme)},e.bme=function(){e.j9t&&e.j9t.Vve.getRendererController().processEvent({name:tv.freewheel.SDK.EVENT_AD_CLICK})},e.rme=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_COMPLETE:e.pme();break;case tv.freewheel.SDK.EVENT_AD_SKIPPED:e.w0t(),e.pme()}},e}Rt(n,t);var i=n.prototype;return i.Uve=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.Gve=t,i.Hve=n,i.Zve(t),[4,n];case 1:return r.sent(),i.Xve(),[2]}}))}))()},i.Xve=function(){this.$ve()},i.Zve=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.tme),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.eme),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.ime),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.nme),t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.rme)},i.ome=function(){this.Gve&&(this.Gve.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.tme),this.Gve.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.eme),this.Gve.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.ime),this.Gve.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION_END,this.nme),this.Gve.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.rme))},i.$ve=function(){this.qve=this.hme(this.ame),this.Kve=this.hme(this.ume).concat(this.hme(this.cme)),this.Qve=this.hme(this.lme),this.Jve=this.qve.concat(this.Kve).concat(this.Qve)},i.hme=function(t){if(!this.Gve)return[];var n=this.Gve.getSlotsByTimePositionClass(t);return this.dme(n)},i.fme=function(t){if(this.c$t){var n=t.getSlot().getAdInstances().indexOf(t);-1!==n&&(this.c$t.Fve=n);var i=this.c$t.Bve;return i&&(i.Vve=t),i}},i._me=function(t){return go(this.Jve,(function(n){return n.Mve===t}))},i.dme=function(t){return t.map((function(t){var i=t.getTotalDuration(),r=n.vme(t);return new z6(i,i,r,t)}))},i.w0t=function(){var t=this.j9t;t&&this.wo(new c0(t,this.gme()))},i.pme=function(){var t=this.j9t;t&&(this.wo(new cB(t,t.Vve.getPlayheadTime())),this.t$t=void 0)},i.wme=function(t){var n=this.Kst;n&&(n.OJt=function(t,n,i){void 0===i&&(i=0);for(var r=0,e=t.qc.length,u=n;u<e;u++){var s=t.qc[u],o=s.ct;if(s){var a=o;u===n&&(a=cr(o-i,0,o)),r+=a}}return r}(n,n.Fve,t))},i.gme=function(){var t=this.j9t;if(!t)return 0;var n=t.Vve;return n.getPlayheadTime()/n.getDuration()},i.yme=function(t){_o(this.Jve,t),_o(this.qve,t),_o(this.Kve,t),_o(this.Qve,t)},i.er=function(){this.ome(),this.qve.length=0,this.Kve.length=0,this.Qve.length=0,this.Jve.length=0,this.t$t=void 0,this.c$t=void 0,this.Gve=void 0,this.Hve=void 0},i.gn=function(){this.er(),this.$o()},n.mme=function(t,n){for(var i=t.getAdInstances(),r=[],e=0;e<i.length;e++){var u=i[e],s=K6(u.getSlot()),o=new Y6(n,s,u);o.x2t(u.getAdId(),u.getSlot().getWidth(),u.getSlot().getHeight(),u.getDuration(),[],0),n.y2t(o),r.push(o)}return r},n.vme=function(t){return t.getTimePositionClass()===tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL?-1:t.getTimePosition()},xt(n,[{key:"zve",get:function(){return this.qve}},{key:"Yve",get:function(){return this.Kve}},{key:"jve",get:function(){return this.Qve}},{key:"Kst",get:function(){return this.c$t}},{key:"j9t",get:function(){return this.t$t}},{key:"jst",get:function(){var t=[];if(this.c$t){var n,i=this.c$t.Fve;if(i>=0)(n=t).push.apply(n,Ut(this.c$t.qc.slice(i+1)))}for(var r=0,e=this.Jve;r<e.length;r++){var u,s=e[r];(u=t).push.apply(u,Ut(s.qc))}return t}},{key:"Qst",get:function(){return this.Jve}}]),n}(ca);U(),St(),Dt(),Ct();var J6=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).ea=n,u.Yu=i,u.Byt=r,u.f0t=e,u.h4=MA.mB().ks(),u.cZ=!0,u.DA=NaN,u.Pme=!1,u.R4=!1,u.I4=Cy.$B,u.hZ=0,u.Mme=0,u.Tme=function(t){switch(t.subType){case tv.freewheel.SDK.EVENT_AD_PAUSE:(function(t){if(!t)return!0;var n=t.Vve,i=n.getPlayheadTime(),r=n.getDuration();return i>=r||fr(r,i)})(u.Byt.j9t)||(u.qR=!0,u.wo(new pT(u.SR)));break;case tv.freewheel.SDK.EVENT_AD_RESUME:u.qR=!1,u.wo(new By(u.SR));break;case tv.freewheel.SDK.EVENT_AD_VOLUME_CHANGE:if(u.Ogt){var n=u.Ogt.getAdVolume();0===n?u.Pme=!0:u.ZA=n,u.wo(new ST(u.SR,u.vI))}}},u.Eme=function(){u.RR=!1;var t=u.qR;if(u.qR=!1,t&&(u.wo(new yT(u.SR)),u.wo(new By(u.SR))),u.I4=Cy.eO,u.SR=0,u.Byt.j9t){var n=u.Byt.j9t.Vve;u.DA=n.getDuration(),u.wo(new _T(u.DA)),u.Lme=w((function(){if(u.Cve){u.Byt.wme(u.SR);var t=n.getPlayheadTime();hr(t,u.Mme,.001)||u.wo(new pg(t,void 0)),u.Mme=t}else u.Up()}),250),u.Ogt&&u.Ogt.setAdVolume(Q6(u.GR,u.vI))}},u.Bme=function(){var t=u.Byt.j9t;t&&(t.C2t===n0.E2t?u.ea.TI():u.qR||u.TI())},u.Up=function(){p(u.Lme),u.Lme=void 0},u.xme=function(){u.Up(),u.RR=!0},u.Rme=function(){u.Nme("pause")},u.Ime=function(){u.Nme("playing")},u.jd=function(t){t.td.C2t===n0.Ejt&&(u.qR=!1)},u.kme=function(){u.Ogt&&u.Ogt.resize(u.Yu.Mu,u.Yu.Pu)},u.ZA=n.vI,r.yn("ont",u.jd),u.Yu.yn(mI.pn,u.kme),u.f0t.addEventListener("click",u.Bme),u}Rt(n,t);var i=n.prototype;return i.Ame=function(){this.Ogt&&this.Ogt.setAdVolume(Q6(this.GR,this.vI))},i.Sme=function(t){this.Ogt=t,this.Zve(t)},i.Zve=function(t){t.addEventListener(tv.freewheel.SDK.EVENT_AD,this.Tme),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.kme),t.addEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Eme),t.addEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.xme),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.Rme),t.addEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.Ime)},i.Cme=function(){var t=this.Ogt;t&&(t.removeEventListener(tv.freewheel.SDK.EVENT_AD,this.Tme),t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,this.kme),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_IMPRESSION,this.Eme),t.removeEventListener(tv.freewheel.SDK.EVENT_AD_COMPLETE,this.xme),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this.Rme),t.removeEventListener(tv.freewheel.SDK.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this.Ime))},i.kI=function(){this.Byt.Kst&&(this.Byt.Kst.Mve.resume(),this.qR=!1)},i.TI=function(){this.Byt.Kst&&(this.Byt.Kst.Mve.pause(),this.qR=!0)},i.Nme=function(t){var i=n.Dme(t);this.Ogt&&i&&this.Ogt.setVideoState(i)},i.DD=function(){var t=this.Byt.j9t;t&&t.Vve.skip()},i.er=function(){if(this.Cme(),this.Ogt){this.Nme("stop"),this.Ogt.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED);for(var t=this.Ogt.getTemporalSlots(),n=0;n<t.length;n++){t[n].stop()}this.Ogt.dispose(),this.Ogt=void 0}this.DA=NaN,this.RR=!1,this.I4=Cy.$B,this.SR=0,this.Mme=0,this.qR=!0,void 0!==this.Lme&&(p(this.Lme),this.Lme=void 0)},i.gn=function(){this.er(),this.$o(),this.Byt.fn("ont",this.jd),this.Yu.fn(mI.pn,this.kme),this.f0t.removeEventListener("click",this.Bme)},n.Dme=function(t){switch(t){case"pause":return tv.freewheel.SDK.VIDEO_STATE_PAUSED;case"playing":return tv.freewheel.SDK.VIDEO_STATE_PLAYING;case"ended":return tv.freewheel.SDK.VIDEO_STATE_COMPLETED;case"stop":return tv.freewheel.SDK.VIDEO_STATE_STOPPED}},xt(n,[{key:"SR",get:function(){var t=this.Byt.j9t;return t&&(this.SR=t.Vve.getPlayheadTime()),this.hZ},set:function(t){this.hZ=t}},{key:"ct",get:function(){return this.DA}},{key:"Cve",get:function(){return!!this.Byt&&void 0!==this.Byt.Kst}},{key:"qR",get:function(){return this.cZ},set:function(t){this.cZ=t}},{key:"vI",get:function(){return this.ZA},set:function(t){this.Ogt&&this.Ogt.setAdVolume(t),this.ZA=t}},{key:"GR",get:function(){return this.Ogt&&(this.Pme=0===this.Ogt.getAdVolume()),this.Pme},set:function(t){this.Ogt&&this.Ogt.setAdVolume(Q6(t,this.vI)),this.Pme=t}},{key:"rI",get:function(){return this.h4}},{key:"RR",get:function(){return this.R4},set:function(t){this.R4=t}},{key:"sI",get:function(){return this.I4}}]),n}(ca);function Q6(t,n){return t?0:n}U(),St(),Gt(),Jt(),U(),St(),Dt(),Ct();var $6=function(t){function n(){return t.call(this,"A FreeWheel Ad Error occurred")||this}return Rt(n,t),xt(n,[{key:"name",get:function(){return Z6.lve}}]),n}(Vo);U(),St(),Dt(),Ct();var t9=function(t){function n(){return t.call(this,"A FreeWheel Reset Error Occurred")||this}return Rt(n,t),xt(n,[{key:"name",get:function(){return Z6.cve}}]),n}(Vo),n9=0;var i9=function(){function t(t,n,i,r){var e=this;this.Ogt=n,this.Wme=function(t){e.Ogt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,e.Wme),t.success?e.Vme.Ob(void 0):e.Vme.Fb(new $6)},this.Ome(t,i,r),n.addEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.Wme),this.Vme=new Yc}var n=t.prototype;return n.Ome=function(t,n,i){t.setNetwork(n.networkId),t.setServer(n.adServerUrl);var r=this.Ogt;if(r.setProfile(n.profile),n.assetId&&n.assetDuration&&r.setVideoAsset(n.assetId,n.assetDuration),n.siteSectionId&&r.setSiteSection(n.siteSectionId),r.registerVideoDisplayBase(i),n.cuePoints&&n.cuePoints.length)for(var e=0,u=n.cuePoints;e<u.length;e++){var s=u[e];r.addTemporalSlot("cue-"+ ++n9,s.adUnit,s.timeOffset)}var o=n.customData;if($n(o))for(var a=k.keys(o),c=0;c<a.length;c++){var h=a[c],f=o[h];r.addKeyValue(h,f)}},n.Fme=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Ogt.submitRequest(),[4,t.Vme.Vb];case 1:return n.sent(),[2]}}))}))()},n.er=function(){this.Ogt.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,this.Wme),this.Vme.Fb(new t9)},t}();U(),St(),Gt(),Jt(),U(),St(),Dt();var r9=function(){function t(t){var n=this;this.Gve=t,this.eme=function(t){n.Ume(),n.qw.Ob(void 0)},this.X6t=function(t){n.Ume(),n.qw.Fb(new $6)},this.qw=new Yc,t.addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.eme),t.addEventListener(tv.freewheel.SDK.EVENT_ERROR,this.X6t)}var n=t.prototype;return n.Ume=function(){this.Gve.removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,this.eme),this.Gve.removeEventListener(tv.freewheel.SDK.EVENT_ERROR,this.eme)},n.oUt=function(){this.Ume(),this.qw.Fb(new t9)},xt(t,[{key:"Gme",get:function(){return this.qw.Vb}}]),t}(),e9=function(){function t(t,n){var i=this;this.ea=t,this.Zme=n,this.zme=0,this.qme=function(){for(var t=i.ea.kR(),n=0,r=i.Zme.Yve;n<r.length;n++){var e=r[n],u=new MA([i.zme,t],[!0,!0]),s=e.Mve.getTimePosition();if(u.kr(s))switch(e.Mve.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:i.Hme([e]);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:e.Mve.play(),e.Mve.setVisible(!0)}}i.zme=t},t.yn(fa.sb,this.qme)}var n=t.prototype;return n.wO=function(t){this.Gve=t},n.Dve=function(){return this.Hme(this.Zme.zve)},n.Tve=function(){this.Hme(this.Zme.jve)},n.Hme=function(t){var n=this;return Zt((function(){var i,r;return Ht(this,(function(e){switch(e.label){case 0:if(!n.Gve)return[2];e.label=1;case 1:if(!(t.length>0))return[3,6];n.Xme=new r9(n.Gve),i=n.Xme.Gme,(r=n.Zme.Kst)&&r.C2t===n0.E2t&&r.Mve.stop(),t.shift().Mve.play(),e.label=2;case 2:return e.trys.push([2,,4,5]),[4,i];case 3:return e.sent(),[3,5];case 4:return n.Xme=void 0,[7];case 5:return[3,1];case 6:return[2]}}))}))()},n.er=function(){this.Xme&&(this.Xme.oUt(),this.Xme=void 0),this.zme=0},n.gn=function(){this.ea.fn(fa.sb,this.qme)},t}(),u9=0,s9=function(t){function n(i,r,e){var u;return(u=t.call(this)||this).ea=i,u.QT=r,u.Jme=!1,u.Kme=n.createUniqueDisplayBaseId(),u.f0t=n.tge(i.we,r,u.Kme),u.Yme=new f.tv.freewheel.SDK.AdManager,u.$me=new q6(u.f0t,u.QT),u.jme=new e9(u.ea,u.wve),u.nu(u.wve),u.V6t=new J6(i,e,u.wve,u.f0t),u}Rt(n,t);var i=n.prototype;return i.K4t=function(){var t=this;return Zt((function(){var n,i,r,e;return Ht(this,(function(u){switch(u.label){case 0:if(!t.eQt)throw new y("Invalid state");n=t.Yme,(i=n.newContext()).setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),i.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),r=new i9(n,i,t.eQt,t.Kme),e=t.wve.Uve(i,r.Fme()),t.jme.wO(i),t.bve.Sme(i),t.Qme=r,u.label=1;case 1:return u.trys.push([1,,3,4]),[4,e];case 2:return u.sent(),[3,4];case 3:return t.bve.Ame(),t.Jme=!0,[7];case 4:return[2]}}))}))()},i.i2t=function(t){this.bve.Nme(t.type)},i.ge=function(){this.f0t.style.display="block",this.QT.style.display="block"},i.be=function(){this.f0t.style.display="none",this.QT.style.display="none"},i.d8t=function(t){this.eQt=t},i.er=function(){this.Jme=!1,this.eQt=void 0,this.wve.er(),this.jme.er(),this.Qme&&(this.Qme.er(),this.Qme=void 0),this.bve.er(),this.QT.src=""},i.gn=function(){this.er(),this.V6t.gn(),this.jme.gn(),this.wve.gn(),this.f0t.remove(),this.ea.we.removeChild(this.f0t)},n.createUniqueDisplayBaseId=function(){return"theo-freewheel-"+ ++u9},n.tge=function(t,n,i){var r=v.createElement("div");return r.id=i,r.className="theo-freewheel",n.classList.add("theo-freewheel-video"),r.appendChild(n),t.appendChild(r),r},xt(n,[{key:"Sve",get:function(){return 0!==this.wve.jve.length}},{key:"Pve",get:function(){return 0!==this.wve.zve.length}},{key:"bve",get:function(){return this.V6t}},{key:"wve",get:function(){return this.$me}},{key:"xve",get:function(){return this.Jme}},{key:"kve",get:function(){return this.jme}}]),n}(VI);function o9(t){if(f.tv)switch(t){case"preroll":return tv.freewheel.SDK.ADUNIT_PREROLL;case"midroll":return tv.freewheel.SDK.ADUNIT_MIDROLL;case"postroll":return tv.freewheel.SDK.ADUNIT_POSTROLL;case"overlay":return tv.freewheel.SDK.ADUNIT_OVERLAY}}function a9(t,n,i){if(void 0!==n&&E(n)||n<0||n===1/0)return NaN;switch(t){case"preroll":return 0;case"postroll":return i}return kQ(n)}var c9=function(){function t(){}var n=t.prototype;return n.RZ=function(t){return t.integration===ES.FREEWHEEL},n.z1t=function(t,n,i){if(Boolean(f.tv&&f.tv.freewheel&&f.tv.freewheel.SDK&&f.tv.freewheel.SDK.AdManager)){var r=new qT(t.Lu,t.zl,1,[im._E]);r.yZ(t.we);var e=r.LH(im._E),u=new s9(t,e.YG,t.Lu);return new H6(t,n,r,u,e)}},n.Xz=function(t){var n=Mg(t);Jn(n.cuePoints)||(n.cuePoints=[]);for(var i=[],r=t.assetDuration||0,e=0,u=n.cuePoints;e<u.length;e++){var s=u[e],o=a9(s.adUnit,s.timeOffset,r),a=o9(s.adUnit);!E(o)&&ni(a)?(s.adUnit=a,s.timeOffset=o,i.push(s)):qn.Op("Invalid adUnit/timeOffset combination. Cue was removed.")}return n.cuePoints=i,n},n.u6=function(t,n,i,r){i.d8t(t,n,r)},xt(t,[{key:"X1t",get:function(){return h$.o$t}}]),t}();IS.Fg.IZ(new c9),U(),St(),U(),St(),U(),St(),Ct(),U(),St(),U(),St();var h9,f9=self.theoplayerDeviceMetadata;function v9(t){return t.navigator&&t.navigator.userAgent||""}U(),St(),U(),St(),U(),St(),on(),U(),St(),on();var l9=(sn(h9={},"Windows 10",/(Windows 10.0|Windows NT 10.0)/i),sn(h9,"Windows 8.1",/(Windows 8.1|Windows NT 6.3)/i),sn(h9,"Windows 8",/(Windows 8|Windows NT 6.2)/i),sn(h9,"Windows 7",/(Windows 7|Windows NT 6.1)/i),sn(h9,"Windows Vista",/Windows NT 6.0/i),sn(h9,"Windows Server 2003",/Windows NT 5.2/i),sn(h9,"Windows XP",/(Windows NT 5.1|Windows XP)/i),sn(h9,"Windows Phone",/Windows Phone/i),sn(h9,"Android",/Android/i),sn(h9,"Linux",/(Linux(?!.*Ubuntu)|X11)/),sn(h9,"Ubuntu",/Ubuntu/i),sn(h9,"iOS",/(iPhone|iPad|iPod)/i),sn(h9,"Mac OS X",/Mac OS X/i),sn(h9,"Mac OS",/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/i),sn(h9,"Chrome OS",/CrOS/i),h9);function d9(t,n){var i=l9[n];return!!i&&Boolean(v9(t).match(i))}function g9(t){return d9(t,"Android")}function m9(t){return d9(t,"Windows Phone")}function w9(t){return d9(t,"iOS")&&!m9(t)}function p9(t){return d9(t,"Ubuntu")}var y9,_9,b9=/Windows (NT|Phone) ([0-9.]+)/i,k9=/Mac.*?(OS |OS X )(\d+(([_.])\d+)?(([_.])\d+)?)/i,A9=(sn(y9={},"Windows 10",b9),sn(y9,"Windows 8.1",b9),sn(y9,"Windows 8",b9),sn(y9,"Windows 7",b9),sn(y9,"Windows Vista",b9),sn(y9,"Windows Server 2003",b9),sn(y9,"Windows XP",b9),sn(y9,"Windows Phone",/Windows Phone ([0-9.]+)/i),sn(y9,"Android",/Android (\d+(([_.])\d+)?(([_.])\d+)?)/i),sn(y9,"Linux",void 0),sn(y9,"Ubuntu",void 0),sn(y9,"iOS",/(iPad|iPhone|iPod).*?(OS |os |OS_)(\d+(([_.])\d+)?(([_.])\d+)?)/i),sn(y9,"Mac OS X",k9),sn(y9,"Mac OS",k9),sn(y9,"Chrome OS",void 0),y9);function T9(t,n){var i=A9[n];return i?v9(t).match(i):null}function S9(t){return t.split(/[_.]/).map((function(t){return T(t,10)}))}function E9(t){if(function(t){return Boolean(v9(t).match(/Windows/i))}(t)){if(function(t){return d9(t,"Windows 10")}(t))return"Windows 10";if(m9(t))return"Windows Phone";if(function(t){return d9(t,"Windows 8.1")}(t))return"Windows 8.1";if(function(t){return d9(t,"Windows 8")}(t))return"Windows 8";if(function(t){return d9(t,"Windows 7")}(t))return"Windows 7";if(function(t){return d9(t,"Windows Vista")}(t))return"Windows Vista";if(function(t){return d9(t,"Windows Server 2003")}(t))return"Windows Server 2003";if(function(t){return d9(t,"Windows XP")}(t))return"Windows XP"}else{if(g9(t))return"Android";if(w9(t))return"iOS";if(function(t){return d9(t,"Mac OS X")}(t))return"Mac OS X";if(function(t){return d9(t,"Mac OS")}(t))return"Mac OS";if(p9(t))return"Ubuntu";if(function(t){return d9(t,"Chrome OS")}(t))return"Chrome OS";if(function(t){return d9(t,"Linux")&&!p9(t)}(t))return"Linux"}}function I9(t,n){var i=function(t){var n=T9(t,"Windows 10");return n&&n.length>2?S9(n[2]):void 0}(t),r=function(t){var n=T9(t,"Mac OS X");return n&&n.length>2?S9(n[2]):void 0}(t),e=function(t){var n=T9(t,"Android");return n&&n.length>1?S9(n[1]):void 0}(t),u=function(t){var n=T9(t,"iOS");return n&&n.length>3?S9(n[3]):void 0}(t),s=function(t){var n=T9(t,"Chrome OS");return n&&n.length>0?S9(n[0]):void 0}(t);return i?i.length>n?i[n]:void 0:r?r.length>n?r[n]:void 0:e?e.length>n?e[n]:void 0:u?u.length>n?u[n]:void 0:s&&s.length>n?s[n]:void 0}function R9(t){var n=function(t){return I9(t,0)}(t),i=function(t){return I9(t,1)}(t),r=function(t){return I9(t,2)}(t);if(void 0!==n)return void 0===i?""+n:void 0===r?n+"."+i:n+"."+i+"."+r}var C9=(sn(_9={},"Chrome",/Chrome/i),sn(_9,"Chrome Mobile",void 0),sn(_9,"Chrome iOS",/CriOS/i),sn(_9,"Chromium",/Chromium/i),sn(_9,"HeadlessChrome",/HeadlessChrome/i),sn(_9,"Firefox",/Firefox/i),sn(_9,"Seamonkey",/Seamonkey/i),sn(_9,"Firefox iOS",/FxiOS/i),sn(_9,"Safari",/Safari/i),sn(_9,"Edge",/Edge\/\d+/i),sn(_9,"Edge Chromium",/Edg\/\d+/i),sn(_9,"IE",/Trident/i),sn(_9,"Opera",/Opera|OPR/i),sn(_9,"Vivaldi",/Vivaldi/i),sn(_9,"Android Browser",void 0),_9);function N9(t,n){var i=C9[n];return!!i&&Boolean(v9(t).match(i))}function x9(t){return Boolean(v9(t).match(/Mobi/i))}function D9(t){return Boolean(t.chrome&&t.navigator&&t.navigator.vendor&&/google/i.test(t.navigator.vendor))||P9(t)}function P9(t){return N9(t,"Chrome iOS")}function M9(t){return N9(t,"Firefox")&&!O9(t)}function B9(t){return N9(t,"Firefox Mobile")&&!O9(t)&&x9(t)}function O9(t){return N9(t,"Seamonkey")}function L9(t){return N9(t,"Firefox iOS")&&!O9(t)}function F9(t){return N9(t,"Safari")&&!N9(t,"Chrome")&&!Gn.Gv}function V9(t){return Boolean(Y9(t))}function U9(t){return N9(t,"Edge")}function W9(t){return N9(t,"Edge Chromium")}function j9(t){return N9(t,"IE")}function Z9(t){return N9(t,"Vivaldi")}var X9,G9=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,H9=(sn(X9={},"Chrome",G9),sn(X9,"Chrome Mobile",G9),sn(X9,"Chrome iOS",/CriOS\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),sn(X9,"Chromium",G9),sn(X9,"HeadlessChrome",G9),sn(X9,"Firefox",/Firefox\/([0-9.]+)/i),sn(X9,"Firefox iOS",/FxiOS\/([0-9.]+)/i),sn(X9,"Safari",/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),sn(X9,"Safari Mobile",void 0),sn(X9,"Edge",/Edge\/(\d+)/i),sn(X9,"Edge Chromium",/Edg\/(\d+)/i),sn(X9,"Edge Mobile",void 0),sn(X9,"IE",/(MSIE |Trident.*?rv:)(\d+)/i),sn(X9,"Opera",/(OPR\/(\d+\.\d+))|(Opera(?=.*Version\/((\d+)\.(\d+))))/i),sn(X9,"Opera Mobile",void 0),sn(X9,"Vivaldi",/Vivaldi\/((\d+)\.(\d+)\.(\d+)(?:\.(\d+))?)/i),sn(X9,"Android Browser",void 0),X9);function z9(t,n){var i=H9[n];return i?v9(t).match(i):null}function Y9(t){return z9(t,"Opera")}function K9(t){var n=function(t){return z9(t,"Firefox")}(t);return n?S(n[1]):0}function q9(t){var n=function(t){return z9(t,"Firefox iOS")}(t);return n?S(n[1].split(".")[0]):0}function J9(t){var n=function(t){return z9(t,"Safari")}(t);return n?S(n[2].split(".")[0]):0}function Q9(t){var n=function(t){return z9(t,"Edge")}(t);return n?S(n[1]):0}function $9(t){var n=function(t){return z9(t,"Edge Chromium")}(t);return n?S(n[1]):0}function t8(t){var n=function(t){return z9(t,"IE")}(t);return n?S(n[2]):0}function n8(t){var n=function(t){return z9(t,"Vivaldi")}(t);return n?S(n[1]):0}function i8(t){if(g9(t))return D9(t)?"Chrome Mobile":M9(t)||B9(t)?"Firefox Mobile":U9(t)?"Edge Mobile":V9(t)?"Opera Mobile":"Android Browser";if(w9(t)){if(D9(t)||P9(t))return"Chrome iOS";if(M9(t)||L9(t))return"Firefox iOS";if(U9(t))return"Edge Mobile";if(F9(t)||function(t){return F9(t)&&x9(t)}(t))return"Safari Mobile";if(V9(t))return"Opera Mobile"}return function(t){return N9(t,"Chromium")}(t)?"Chromium":function(t){return N9(t,"HeadlessChrome")}(t)?"HeadlessChrome":D9(t)?"Chrome":M9(t)?"Firefox":F9(t)?"Safari":U9(t)?"Edge":W9(t)?"Edge Chromium":j9(t)?"IE":V9(t)?"Opera":Z9(t)?"Vivaldi":void 0}function r8(t){return Z9(t)?n8(t):P9(t)?Number(function(t){var n=H9["Chrome iOS"];return n&&n.exec(v9(t))||[]}(t)[1]):D9(t)?Number(function(t){var n=H9.Chrome;return n&&n.exec(v9(t))||[]}(t)[1]):M9(t)||B9(t)?K9(t):L9(t)?q9(t):F9(t)?J9(t):U9(t)?Q9(t):W9(t)?$9(t):j9(t)?t8(t):V9(t)?function(t){var n=Y9(t);return n&&n[0].indexOf("Opera")>-1?S(n[5]):n?S(n[2].split(".")[0]):0}(t):void 0}var e8=function(t){return t.ege="pc",t.ige="console",t.sge="settop",t.nge="mobile",t.rge="tablet",t.oge="smarttv",t.hge="searchbot",t}({});function u8(t){var n=v9(t);return n.match(/CrKey|Roku|AFTS|AppleTV|Nexus Player/i)?"settop":n.match(/Xbox|Playstation|Wii|Nintendo/i)?"console":/(iPad|Tablet|(Android(?!.*Mobi))|(Windows(?!.*Phone)(.*Touch))|Kindle|Playbook|Silk|(Puffin(?!.*(IP|AP|WP))))/i.test(n)?"tablet":/Mobi/.test(n)?"mobile":n.match(/GoogleTV|SmartTV|SMART-TV|Internet TV|NetCast|NETTV|boxee|Kylo|DLNADOC|hbbtv|CE-HTML/i)?"smarttv":n.match(/(nuhk|Googlebot|bingbot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/i)?"searchbot":function(t){return Boolean(i8(t))}(t)?"pc":void 0}var s8=function(){function t(t,n){var i=this;this.empClient=t,this.agama=n,this.lge=function(){var t=qn.cR;switch(t){case"wifi":i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,"wlan");break;case"ethernet":i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,t);break;case"cellular":var n=function(t){switch(t){case"3g":return"mobile/3G";case"4g":return"mobile/4G";default:return}}(qn.uR);n&&i.empClient.setDeviceMetadata(i.agama.DeviceMetadata.DATA_CONNECTION_TYPE,n)}}}var n=t.prototype;return n.Zz=function(t){this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_ID,t.deviceID||function(){var t=El.Nb("deviceId");if(t)return t;var n=XS();return El.Mb("deviceId",n),n}()),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER,"THEOplayer"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.PLAYER_VERSION,"9.2.0"),this.age(t),this.uge(),this.cge(t),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_VERSION,"3.0"),this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.EMPCLIENT_INTEGRATION_BUILDDATE,"2023-04-17 12:00:00"),t.application&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION,t.application),t.applicationVersion&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.APPLICATION_VERSION,t.applicationVersion),t.userAccountID&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.USER_ACCOUNT_ID,t.userAccountID);var n=t.connectionType;n?this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DATA_CONNECTION_TYPE,n):(this.lge(),d.connection&&d.connection.addEventListener&&d.connection.addEventListener("change",this.lge))},n.age=function(t){this.dge(t);var n=t.deviceManufacturer||f9&&f9.manufacturer;n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MANUFACTURER,n);var i=t.deviceModel||f9&&f9.model;i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_MODEL,i)},n.dge=function(t){var n=t.deviceType||function(){var t=u8(self);switch(t){case e8.ige:return"game-console";case e8.oge:return"tv";case e8.sge:return"media-streamer";default:return t}}();n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_TYPE,n)},n.uge=function(){var t=i8(self);t&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER,t);var n=r8(self);void 0!==n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_BROWSER_VERSION,n.toString())},n.cge=function(t){var n=t.deviceOs||E9(self);n&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS,n);var i=t.deviceOsVersion||R9(self);i&&this.empClient.setDeviceMetadata(this.agama.DeviceMetadata.DEVICE_OS_VERSION,i.toString())},n.gn=function(){d.connection&&d.connection.removeEventListener&&d.connection.removeEventListener("change",this.lge)},t}();var o8=function(t){function n(){var n;return(n=t.call(this)||this).po=!1,n.gge=!1,n.vge=f.Agama,n}Rt(n,t);var i=n.prototype;return i.SI=function(t){this._ge=t,this.vge&&(this.wX=function(t,n){var i=function(t,n){switch(n){case"info":return t.LogLevel.INFO;case"debug":return t.LogLevel.DEBUG;case"warning":return t.LogLevel.WARNING;case"error":return t.LogLevel.ERROR;default:return t.LogLevel.FATAL}}(n,t.logLevel);n.setLogLevel(i);var r=new n.EMPClient(t.config);return function(t,n){return t.setExternalConfig(n.config),t}(r,t)}(t,this.vge),this.wX&&(this.mge=new s8(this.wX,this.vge),this.po=!0))},i.Gz=function(){return this.vge||console.warn("Please load the Agama Library (empclient.min.js) in order to use the integration"),!!this.vge},i.Wz=function(){return this.po},i.wz=function(t,n){if(this.wX&&this.vge)switch(t){case CS.UZ:this.wX.setMeasurement(this.vge.Measurement.BUFFER_LENGTH,n);break;case CS.GZ:this.wX.setMeasurement(this.vge.Measurement.BYTES_RECEIVED,n);break;case CS.ZZ:this.wX.setMeasurement(this.vge.Measurement.SEGMENT_PROFILE_BITRATE,n);break;case CS.XZ:this.wX.setMeasurement(this.vge.Measurement.VIDEO_PROFILE_BITRATE,n);break;case CS.HZ:this.wX.setMeasurement(this.vge.Measurement.SEGMENT_READ_BITRATE,n);break;case CS.BZ:this.wX.setMeasurement(this.vge.Measurement.HTTP_REQUEST_STATUS_CODE_1XX,n);break;case CS.OZ:this.wX.setMeasurement(this.vge.Measurement.HTTP_REQUEST_STATUS_CODE_2XX,n);break;case CS.FZ:this.wX.setMeasurement(this.vge.Measurement.HTTP_REQUEST_STATUS_CODE_3XX,n);break;case CS.VZ:this.wX.setMeasurement(this.vge.Measurement.HTTP_REQUEST_STATUS_CODE_4XX,n);break;case CS.WZ:this.wX.setMeasurement(this.vge.Measurement.HTTP_REQUEST_STATUS_CODE_5XX,n);break;case CS.qZ:this.wX.setMeasurement(this.vge.Measurement.PLAYBACK_POSITION,n);break;case CS.YZ:this.wX.setMeasurement(this.vge.Measurement.NUMBER_OF_FRAMES_DECODED,n);break;case CS.zZ:this.wX.setMeasurement(this.vge.Measurement.NUMBER_OF_FRAMES_DROPPED,n)}},i.KX=function(t,n){if(this.wX&&this.vge)switch(t){case NS.$Z:this.wX.setSessionMetadata(this.vge.SessionMetadata.ASSET_DURATION,n);break;case NS.JZ:this.wX.setSessionMetadata(this.vge.SessionMetadata.MANIFEST_URI,n);break;case NS.tX:this.wX.setSessionMetadata(this.vge.SessionMetadata.NUMBER_OF_CONTENT_PROFILES,n);break;case NS.sX:this.wX.setSessionMetadata(this.vge.SessionMetadata.SERVICE_NAME,n);break;case NS.eX:this.wX.setSessionMetadata(this.vge.SessionMetadata.CDN,n);break;case NS.iX:this.wX.setSessionMetadata(this.vge.SessionMetadata.CONTENT_TITLE,n);break;case NS.nX:this.wX.setSessionMetadata(this.vge.SessionMetadata.CONTENT_TYPE,n);break;case NS.rX:this.wX.setSessionMetadata(this.vge.SessionMetadata.CONTENT_DESCRIPTION,n)}},i.Zz=function(){this.mge&&this._ge&&this.mge.Zz(this._ge)},i.Uz=function(t,n){this.vge&&this.wX&&(this.kz(),function(t,n,i,r){var e=GS(t,i,r);n.abrSession(e,t.ViewState.INITIAL_BUFFERING)}(this.vge,this.wX,t,n),this.gge=!0)},i.gn=function(){this.mge&&this.mge.gn(),this.pge(xS.oX),this.wX=void 0},i.LX=function(t){this.wge(t)},i.FX=function(t,n){this.wX&&this.wX.event(t.code,n)},i.kz=function(){this.wX&&this.gge&&(this.wX.exitSession(),this.gge=!1)},i.pge=function(t){if(this.wX&&this.vge&&(this.kz(),t===xS.oX))this.wX.shutdown(this.vge.ShutdownType.NORMAL_SHUTDOWN)},i.BX=function(t,n,i){this.wge(t,n,i)},i.wge=function(t,n,i){if(this.wX&&this.vge)switch(t){case RS.VL:this.yge(this.vge.ViewState.PLAYING,n,i);break;case RS.NZ:this.yge(this.vge.ViewState.FAILED,n,i);break;case RS.MZ:this.yge(this.vge.ViewState.INITIAL_BUFFERING,n,i);break;case RS.CZ:this.yge(this.vge.ViewState.PAUSED,n,i);break;case RS.PZ:this.yge(this.vge.ViewState.SEEK,n,i);break;case RS.DZ:this.yge(this.vge.ViewState.STALLED,n,i);break;case RS.LZ:this.yge(this.vge.ViewState.NO_ACCESS,n,i)}},i.yge=function(t,n,i){if(this.wX)if(n){var r=function(t){return t||""}(i);this.wX.viewStateExtended(t,n.code,r)}else this.wX.viewStateChanged(t)},n}(MS);qk(function(t){return function(n){return function(n){function i(i,r){var e;return(e=n.call(this,i,r)||this).wX=new t,e.fge=new zS(e,e.wX,r),e}Rt(i,n);var r=i.prototype;return r.ER=function(t,i){this.fge&&this.fge.CX(),n.prototype.ER.call(this,t)},r.gn=function(){this.fge&&this.fge.gn(),n.prototype.gn.call(this)},i}(n)}}(o8),zk.Ost),U(),St(),U(),St(),Ct(),U(),St(),U(),St(),Gt(),Dt(),Jt(),U(),St();var a8=function(t){return t.PLAY_ALL="play-all",t.PLAY_NONE="play-none",t.PLAY_LAST="play-last",t}({});U(),St();var c8=function(t){return t.VOD="vod",t.LIVE="live",t}({}),h8=function(){function t(t,n,i,r,e,u,s){var o=this;this.ea=t,this.xge=n,this.Cge=i,this.Sge=r,this.bge=e,this.Vge=u,this.Tge=s,this.zG=void 0,this.qG=void 0,this.j9=new Jo,this.Pge=new Jo,this.epe=void 0,this.kge=!1,this.v0t=void 0,this.Dge=function(t){var n=t.currentSource;if(n&&n.integrationData){var i=n.integrationData,r=i.preplayResponse,e=i.source;o.bge.ipe(r),r&&r.type===c8.VOD&&r.ads&&o.Sge.Uge(r.ads),o.xge.spe=n.integrationData,e.assetInfo&&ta(o.fetchAssetInfo(n))}},this.Rce=function(){o.kge=!0},this.Doe=function(){o.kge&&o.Gge(o.ea.kR())},this.Yre=function(){o.kge&&(o.Gge(1/0),o.kge=!1)},this.Cd=function(){ta(o.xge.Cn())},this.Mge=function(t){o.j9.Yw(),o.j9=new Jo,ta(Ho(o.Nse(t.td.VO,o.j9.Vw),o.j9))},this.Lge=function(){1!==o.ea.KR&&(o.epe=o.ea.KR,o.ea.KR=1)},this.Bge=function(){void 0!==o.epe&&(o.ea.KR=o.epe,o.epe=void 0)},this.Oge=function(t){t.td.yn("Nge",o.Mge),t.td.yn("ont",o.Lge),t.td.yn("rnt",o.Bge)},this.Fge=function(t){t.td.fn("Nge",o.Mge),t.td.fn("ont",o.Lge),t.td.fn("rnt",o.Bge)},this.tpe=function(){o.ea.TI()},this.ea.yn(fa.Ty,this.Dge),this.ea.yn(fa.ro,this.Rce),this.ea.yn(fa.sb,this.Doe),this.ea.yn(fa.Cy,this.Yre),this.ea.yn(Ey.BL,this.Cd),this.Sge.WJt.yn("int",this.Oge),this.Sge.WJt.yn("ent",this.Fge)}var n=t.prototype;return n.Age=function(t){this.zG=am(t),this.qG=t,this.ea.wo(new Ek(t))},n.xa=function(t){this.Sge.resetSource(),this.Tge.Bb(),this.kge=!1,this.ea.Ege(t)},n.ynt=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return i.xge.er(),i.kge=!1,t&&function(t){return t.sources.some((function(t){return t.integration===GA.UPLYNK}))}(t)?[3,2]:[4,i.ea.Rge(t,n)];case 1:return[2,e.sent()];case 2:return e.trys.push([2,5,,6]),[4,i.Cge.xfe(t)];case 3:return i.Ige=e.sent(),[4,i.ea.Rge(i.Ige,n)];case 4:return e.sent(),[3,6];case 5:return r=e.sent(),i.Age(new sl(el.MANIFEST_LOAD_ERROR,r.message,r)),[3,6];case 6:return[2]}}))}))()},n.gn=function(){this.j9.Yw(),this.Pge.Yw(),this.ea.fn(fa.Ty,this.Dge),this.ea.fn(fa.ro,this.Rce),this.ea.fn(fa.sb,this.Doe),this.ea.fn(fa.Cy,this.Yre),this.ea.fn(Ey.BL,this.Cd);for(var t=0,n=this.Sge.WJt.Ku;t<n.length;t++){var i=n[t];i.fn("Nge",this.Mge),i.fn("ont",this.Lge),i.fn("rnt",this.Bge)}this.Sge.WJt.fn("int",this.Oge),this.Sge.WJt.fn("ent",this.Fge),this.Sge.destroy(),this.v0t&&(this.v0t.Hw(),this.v0t=void 0),this.kge=!1},n.fetchAssetInfo=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:if(!t||!t.integrationData)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.Vge.eTt(t.integrationData.source.prefix,t.integrationData.source.id,n.Pge.Vw,t.integrationData.preplayResponse.sid)];case 2:return i=r.sent(),n.bge.Wge(i),n.Tge.Uge(i,n.Sge.WJt.Ku),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))()},n.Gge=function(t){this.Sge.Hge(t),this.Sge.qst.forEach((function(n){return n.Zge(t)})),this.Sge.Xge(this.ea.oI()),this._0t()},n.ER=function(t){this.Sge.Kst||(this.j9.Yw(),this.j9=new Jo,ta(Ho(this.Nse(t,this.j9.Vw),this.j9)))},n.Nse=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:if(jo(n),t<i.ea.kR())return i.zge(t),[2];switch(r=[],i.Sge.qge){case a8.PLAY_ALL:return[3,1];case a8.PLAY_LAST:return[3,3];case a8.PLAY_NONE:return[3,5]}return[3,6];case 1:return r=i.Sge.Yge(i.ea.kR(),t),[4,i.Kge(t,r,n)];case 2:case 4:return u.sent(),[3,6];case 3:return e=i.Sge.Yge(i.ea.kR(),t).pop(),r=e?[e]:[],[4,i.Kge(t,r,n)];case 5:return i.jge(t),[3,6];case 6:return[2]}}))}))()},n.zge=function(t){var n=go(this.Sge.WJt.Ku,(function(n){return n.rut.kr(t)}));n?this.ea.Qge(n.FO):this.ea.Qge(t)},n.jge=function(t){var n=this.Sge.Yge(this.ea.kR(),t).pop();n&&n.rut.kr(t)?this.ea.Qge(n.VO):this.ea.Qge(t)},n.Kge=function(t,n,i){var r=this;return Zt((function(){var e,u,s;return Ht(this,(function(o){switch(o.label){case 0:e=0,o.label=1;case 1:return e<n.length?(u=n[e],[4,r.Jge(u,i)]):[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return(s=n[n.length-1])&&s.rut.kr(t)?(r.ea.kR()<t&&r.ea.Qge(s.VO),[2]):(r.ea.Qge(t),[2])}}))}))()},n.Jge=function(t,n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return t.fn("Nge",i.Mge),r=ut.race([t.vy("rnt",n),t.vy("Nge",n)]),i.Gge(i.ea.kR()),t.io||i.ea.Qge(t.FO),[4,r];case 1:return e.sent(),t.yn("Nge",i.Mge),[2]}}))}))()},n._0t=function(){var t=go(this.Sge.qst,(function(t){return t.$ge.length>0}));if(t){var n=t.$ge[0];this.v0t||(this.v0t=new p$(this.ea.we),this.v0t.yn("clickstart",this.tpe)),this.v0t.R$t=n}else this.v0t&&(this.v0t.Hw(),this.v0t=void 0)},xt(t,[{key:"ka",get:function(){return this.bge.ka}},{key:"lt",get:function(){return this.zG}},{key:"DR",get:function(){return this.qG}}]),t}();U(),St(),Gt(),on(),Jt(),U(),St();var f8=Vb({breaksIndex:xb,adsIndex:xb,startTime:xb,endTime:xb}),v8=Vb({index:xb,timeOffset:xb}),l8=Vb({duration:xb,apiFramework:Xb(Db,Ob),creative:Db,mimeType:Db,width:xb,height:xb,companions:Hb(function(t){return new Kb(t)}((function(){return l8}))),extensions:Xb(Mb,Hb(Bb)),fw_parameters:Xb(Mb,Yb(Db)),events:Yb(Hb(Db))}),d8=Vb({type:jb(["linear","nonlinear"]),position:jb(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:xb,duration:xb,ads:Hb(l8),events:Yb(Hb(Db))}),g8=Vb({breaks:Hb(d8),breakOffsets:Xb(Mb,Hb(v8)),placeholderOffsets:Xb(Mb,Hb(f8))}),m8=Vb({required:Xb(Mb,Pb),fairplayCertificateURL:Xb(Mb,Db),widevineLicenseURL:Xb(Mb,Db),playreadyLicenseURL:Xb(Mb,Db)}),w8={type:jb(Ub(c8)),playURL:Db,prefix:Db,sid:Db,drm:Xb(Mb,m8)},p8=Vb(us({},w8,{type:jb([c8.VOD]),ads:g8,interstitialURL:Xb(Db,Ob,Mb)})),y8=Xb(p8,Vb(us({},w8,{type:jb([c8.LIVE])})));U(),St();var _8,b8=Db,k8=Vb({userId:Db,externalId:Xb(Db,Hb(Db))}),A8=function(){function t(t){this.lW=t}var n=t.prototype;return n.eTt=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){try{return[2,n.npe(t)]}catch(t){throw t}return[2]}))}))()},n.npe=function(t){var n=this;return Zt((function(){var i,r,e;return Ht(this,(function(u){switch(u.label){case 0:return[4,S8(t)];case 1:return i=u.sent(),[4,n.lW.Kk({yE:fd.GET,Gu:i,Yk:xl.yk})];case 2:return[4,u.sent().qk()];case 3:return r=u.sent(),e=us({},r,{type:t.assetType===$S.ASSET?c8.VOD:c8.LIVE}),y8.WU(e)||y8.GU(e,"PreplayResponse"),[2,e]}}))}))()},t}(),T8=(sn(_8={},$S.ASSET,""),sn(_8,$S.CHANNEL,"channel/"),sn(_8,$S.EVENT,"event/"),_8);function S8(t){return E8.apply(this,arguments)}function E8(){return E8=Zt((function(t){var n,i,r,e,u,s;return Ht(this,(function(o){switch(o.label){case 0:return n=t.prefix,i=T8[t.assetType],r=function(t){if(Hb(b8).WU(t))return 1===t.length?t[0]:t.join(",")+"/multiple";if(b8.WU(t))return t;if(k8.WU(t)&&Jn(t.externalId))return 1===t.externalId.length?"ext/"+t.userId+"/"+t.externalId[0]:"ext/"+t.userId+"/"+t.externalId.join(",")+"/multiple";if(k8.WU(t))return"ext/"+t.userId+"/"+t.externalId;throw new _("Invalid asset id")}(t.id),[4,I8(t.contentProtected)];case 1:return e=o.sent(),u=function(t,n){var i=C8(t,n);return i?{"ad.cping":"1","ad.pingf":String(i)}:{}}(t.assetType,t.ping),s={},Jn(t.preplayParameters)?t.preplayParameters.forEach((function(t){s[t[0]]=t[1]})):s=t.preplayParameters,[2,yd(n+"/preplay/"+i+r+".json",us({v:"2"},s,e,u,s))]}}))})),E8.apply(this,arguments)}function I8(t){return R8.apply(this,arguments)}function R8(){return R8=Zt((function(t){var n,i,r;return Ht(this,(function(e){switch(e.label){case 0:return(n=t)?[4,qn.Xp()]:[3,2];case 1:n=e.sent(),e.label=2;case 2:return n?[2,{rmt:"fps",manifest:"m3u8"}]:[3,3];case 3:return(i=t)?[4,qn.qp()]:[3,5];case 4:i=e.sent(),e.label=5;case 5:return i?[2,{rmt:"wv",manifest:"mpd"}]:[3,6];case 6:return(r=t)?[4,qn.zp()]:[3,8];case 7:r=e.sent(),e.label=8;case 8:if(r)return[2,{rmt:"pr",manifest:"mpd"}];e.label=9;case 9:return[2,{}]}}))})),R8.apply(this,arguments)}function C8(t,n){var i=t!==$S.ASSET;return(!i&&n.adImpressions?1:0)+(!i&&n.freeWheelVideoViews?2:0)+(i&&n.linearAdData?4:0)}U(),St(),Gt(),Jt(),U(),St();var N8=Vb({ad_id:Db,apiFramework:Xb(Ob,Db),companions:Hb(Bb),creative:Db,duration:xb,mimeType:Db,height:xb,width:xb,extensions:Xb(Mb,Hb(Bb)),fw_parameters:Xb(Mb,Yb(Db))}),x8=Vb({breakId:Db,ads:Hb(N8),type:jb(["linear","nonlinear"]),position:jb(["preroll","midroll","postroll","pause","overlay",""]),timeOffset:xb,duration:xb,height:Xb(Mb,xb),width:Xb(Mb,xb),events:Yb(Hb(Db))}),D8=Vb({breaks:Hb(x8)}),P8=Vb({next_time:xb,ads:Xb(Mb,D8),extensions:Xb(Mb,Hb(Bb)),error:Xb(Mb,Db),currentBreakEnd:Xb(Mb,xb)}),M8=function(t){return t.oTt="start",t.PZ="seek",t}({}),B8=function(){function t(t){this.lW=t}var n=t.prototype;return n.eTt=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){try{return[2,i.npe(t,n)]}catch(t){throw t}return[2]}))}))()},n.npe=function(t,n){var i=this;return Zt((function(){var r,e;return Ht(this,(function(u){switch(u.label){case 0:return r=function(t){var n={v:"3",pt:String(t.currentTime)};(function(t){return void 0!==t.seekTime})(t)&&t.hasFreeWheelVideoViews&&(n.ft=String(t.seekTime));t.event&&(n.ev=t.event);return yd(t.zonePrefix+"/session/ping/"+t.sessionId+".json",us({},n))}(t),[4,i.lW.Kk({yE:fd.GET,Gu:r,Yk:xl.yk,Vw:n})];case 1:return[4,u.sent().qk()];case 2:return e=u.sent(),P8.WU(e)||P8.GU(e,"PingResponse"),[2,e]}}))}))()},t}();U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Dt(),Ct();var O8=function(t){function n(n){var i;return(i=t.call(this,"rpe")||this).XE=n,i}return Rt(n,t),n.prototype.ba=function(){return new L8(this.XE)},xt(n,[{key:"ZE",get:function(){return this.XE}}]),n}(yg),L8=function(t){function n(n){var i;return(i=t.call(this,"pingresponse")||this).response=n,i}return Rt(n,t),n}(ha);U(),St(),Dt(),Ct();var F8=function(t){function n(n){var i;return(i=t.call(this,"ope")||this).zG=n,i}return Rt(n,t),n.prototype.ba=function(){return new V8(this.zG)},xt(n,[{key:"lt",get:function(){return this.zG}}]),n}(yg),V8=function(t){function n(n){var i;return(i=t.call(this,"pingerror")||this).error=n,i}return Rt(n,t),n}(ha),U8=function(t){function n(n,i){var r,e;return r=t.call(this)||this,e=r,r.vpe=n,r.ea=i,r.upe=NaN,r._pe=void 0,r.mpe=!1,r.gpe=NaN,r.WT=new Jo,r.fpe=void 0,r.lpe=Zt((function(){var t;return Ht(this,(function(n){switch(n.label){case 0:return t=e.ea.kR(),e.gpe=t,e.mpe||Kn(e._pe)||E(e.upe)?[2]:e.upe+e._pe<=t?(e.mpe=!0,[4,e.cpe()]):[3,2];case 1:n.sent(),e.mpe=!1,n.label=2;case 2:return[2]}}))})),r.dpe=function(){if(r.ea.kR()!==r.upe){r.mpe&&r.ppe(),r.gpe=r.ea.kR();var t=r.gpe-(r.upe||0);E(t)?ta(r.cpe(M8.PZ,0)):ta(r.cpe(M8.PZ,t))}},r}Rt(n,t);var i=n.prototype;return i.Cn=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:return(n=t.hpe)?(i=C8(n.source.assetType,n.source.ping),0!==i?(t.upe=t.ea.oI().start(0),[4,t.cpe(M8.oTt)]):[2]):[2];case 1:return r.sent(),t.ea.yn("timeupdate",t.lpe),t.ea.yn("seeking",t.dpe),[2]}}))}))()},i.cpe=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(r=i.hpe.preplayResponse,e={},E(i.upe))return[2];if(Yn(i.fpe)&&fr(i.fpe,i.ea.kR()-i.upe))return[2];void 0!==n&&(e.seekTime=n),void 0!==t&&(e.event=t),u=i.ea.kR()-i.upe,t===M8.oTt?u=0:t!==M8.PZ&&i._pe&&(u=A.min(u,i._pe)),i.fpe=u,h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,i.vpe.eTt(us({zonePrefix:r.prefix,sessionId:r.sid,currentTime:u,hasFreeWheelVideoViews:null==(o=i.hpe)?void 0:o.source.ping.freeWheelVideoViews},e),i.WT.Vw)];case 2:return a=h.sent(),i.wo(new O8(a)),i._pe=-1!==a.next_time?a.next_time:void 0,s=a.error,[3,5];case 3:return Wo(c=h.sent())||(s=c.message),[3,5];case 4:return s&&i.wo(new F8(s)),[7];case 5:return[2]}}))}))()},i.er=function(){this._pe=void 0,this.hpe=void 0,this.upe=NaN,this.mpe=!1,this.gpe=NaN,this.fpe=void 0,this.ea.fn("seeking",this.dpe),this.ea.fn("timeupdate",this.lpe),this.ppe()},i.ppe=function(){this.WT.Yw(),this.WT=new Jo},i.gn=function(){this.er()},xt(n,[{key:"spe",set:function(t){this.hpe=t}},{key:"ape",get:function(){return this.upe}}]),n}(oa);U(),St(),Gt(),Jt();var W8=function(){function t(t,n){this.wpe=t,this.kQ=n}return t.prototype.xfe=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o;return Ht(this,(function(a){switch(a.label){case 0:i=[],r=0,e=t.sources,a.label=1;case 1:return r<e.length?iT(u=e[r])?[3,2]:(i.push(u),[3,5]):[3,6];case 2:return a.trys.push([2,4,,5]),[4,n.wpe.eTt(u)];case 3:return s=a.sent(),o=function(t,n,i){var r,e=t.preplayResponse;t.source.contentProtected&&e.drm&&(r={integration:"uplynk"},e.drm.fairplayCertificateURL&&(r.fairplay={certificateURL:e.drm.fairplayCertificateURL}),e.drm.widevineLicenseURL&&(r.widevine={licenseAcquisitionURL:e.drm.widevineLicenseURL}),e.drm.playreadyLicenseURL&&(r.playready={licenseAcquisitionURL:e.drm.playreadyLicenseURL}));var u=kA({src:e.playURL,contentProtection:r,useNativePlayback:t.source.useNativePlayback,hls:t.source.hls,dash:t.source.dash,seamlessSwitchStrategy:t.source.seamlessSwitchStrategy},n,i);return u.integrationData=t,u}({source:u,preplayResponse:s},t,n.kQ),o.src&&(o.src=yd(o.src,u.playbackUrlParameters)),i.push(o),[3,5];case 4:return a.sent(),[3,5];case 5:return r++,[3,1];case 6:if(0!==t.sources.length&&0===i.length)throw new y("Fatal: unable to play UplynkSources.");return[2,us({},t,{sources:i})]}}))}))()},t}();U(),St(),Dt(),U(),St(),Dt(),Ct(),U(),St(),Ct();var j8=function(t){function n(n,i){var r;return(r=t.call(this,"ont")||this).td=n,r.nV=i,r}return Rt(n,t),n.prototype.ba=function(){return new Z8(this.td.ka)},n}(yg),Z8=function(t){function n(n){var i;return(i=t.call(this,"adbreakbegin")||this).adBreak=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var X8=function(t){function n(n,i){var r;return(r=t.call(this,"rnt")||this).td=n,r.nV=i,r}return Rt(n,t),n.prototype.ba=function(){return new G8(this.td.ka)},n}(yg),G8=function(t){function n(n){var i;return(i=t.call(this,"adbreakend")||this).adBreak=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var H8=function(t){function n(n){var i;return(i=t.call(this,"Nge")||this).td=n,i}return Rt(n,t),n.prototype.ba=function(){return new z8(this.td.ka)},n}(yg),z8=function(t){function n(n){var i;return(i=t.call(this,"adbreakskip")||this).adBreak=n,i}return Rt(n,t),n}(ha);U(),St(),U(),St(),Ct();var Y8=function(t){function n(n){var i;return(i=t.call(this,"H2t")||this).td=n,i}return Rt(n,t),n.prototype.ba=function(){return new K8(this.td.ka)},n}(yg),K8=function(t){function n(n){var i;return(i=t.call(this,"updateadbreak")||this).adBreak=n,i}return Rt(n,t),n}(ha),q8=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).YO=n,s.DA=i,s.Uc=r,s.c_e=e,s.so=!1,s.Ape=!1,s.wKt=u,s}Rt(n,t);var i=n.prototype;return i.ype=function(t){this.DA=t-this.FO;for(var n=0,i=this.qc.Ku;n<i.length;n++){var r=i[n];r.FO>t&&this.qc.$S(r)}this.wo(new Y8(this))},i.Rct=function(t){return t>=this.FO&&(Kn(this.ct)||t<=this.FO+this.ct)},i.Spe=function(t){return-1!==this.pKt&&(!!Yn(this.VO)&&t-this.FO>=this.pKt)},i.DD=function(){this.Uc.Ku.forEach((function(t){return t.DD()})),this.wo(new H8(this))},i.Tpe=function(t){var n=Yn(this.VO)&&t>=this.VO,i=this.FO<=t&&!n&&!this.io,r=this.io&&this.VO&&t>=this.VO;i&&(this.so=!0,this.wo(new j8(this,this.FO))),this.Uc.Ku.forEach((function(n){return n.Tpe(t)})),r&&(this.Ape=!0,this.so=!1,this.wo(new X8(this,this.VO)))},xt(n,[{key:"ka",get:function(){return this.su||(this.su=function(t){var n,i={get startTime(){return t.FO},get endTime(){return t.VO},get duration(){return t.ct},get ads(){return t.qc.ka},get skipOffset(){return t.pKt},set skipOffset(n){t.pKt=n},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new gR(t,i),i}(this)),this.su}},{key:"FO",get:function(){return this.YO}},{key:"VO",get:function(){return this.DA?this.YO+this.DA:void 0}},{key:"ct",get:function(){return this.DA}},{key:"rut",get:function(){var t=this.VO;return Yn(t)?new MA([this.FO,t]):MA.mB()}},{key:"qc",get:function(){return this.Uc}},{key:"bpe",get:function(){return this.Ape}},{key:"io",get:function(){return this.so}},{key:"pKt",get:function(){return this.c_e?-1:this.wKt},set:function(t){this.c_e||(this.wKt=t)}}]),n}(ca);U(),St(),Dt(),Ct(),U(),St(),Ct();var J8=function(t){function n(n,i){var r;return(r=t.call(this,"hnt")||this).snt=n,r.nV=i,r}return Rt(n,t),n.prototype.ba=function(){return new Q8(this.snt.ka)},n}(yg),Q8=function(t){function n(n){var i;return(i=t.call(this,"adbegin")||this).ad=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var $8=function(t){function n(n,i){var r;return(r=t.call(this,"ant")||this).snt=n,r.nV=i,r}return Rt(n,t),n.prototype.ba=function(){return new t7(this.snt.ka)},n}(yg),t7=function(t){function n(n){var i;return(i=t.call(this,"adend")||this).ad=n,i}return Rt(n,t),n}(ha);U(),St(),Ct(),U(),St(),Ct();var n7=function(t){function n(n){var i;return(i=t.call(this,"kpe")||this).snt=n,i}return Rt(n,t),n.prototype.ba=function(){return new i7(this.snt.ka)},n}(yg),i7=function(t){function n(n){var i;return(i=t.call(this,"removead")||this).ad=n,i}return Rt(n,t),n}(ha),r7=function(t){function n(){return t.call(this)||this}Rt(n,t);var i=n.prototype;return i.Wte=function(t){},i.Zte=function(t){this.wo(new n7(t))},n}(x1);U(),St(),Ct();var e7=function(t){function n(n){var i;return(i=t.call(this,"X2t")||this).snt=n,i}return Rt(n,t),n.prototype.ba=function(){return new u7(this.snt.ka)},n}(yg),u7=function(t){function n(n){var i;return(i=t.call(this,"adfirstquartile")||this).ad=n,i}return Rt(n,t),n}(ha),s7=function(t){function n(n){var i;return(i=t.call(this,"z2t")||this).snt=n,i}return Rt(n,t),n.prototype.ba=function(){return new o7(this.snt.ka)},n}(yg),o7=function(t){function n(n){var i;return(i=t.call(this,"admidpoint")||this).ad=n,i}return Rt(n,t),n}(ha),a7=function(t){function n(n){var i;return(i=t.call(this,"q2t")||this).snt=n,i}return Rt(n,t),n.prototype.ba=function(){return new c7(this.snt.ka)},n}(yg),c7=function(t){function n(n){var i;return(i=t.call(this,"adthirdquartile")||this).ad=n,i}return Rt(n,t),n}(ha),h7=function(t){function n(n){var i;return(i=t.call(this,"Epe")||this).snt=n,i}return Rt(n,t),n.prototype.ba=function(){return new f7(this.snt.ka)},n}(yg),f7=function(t){function n(n){var i;return(i=t.call(this,"adcomplete")||this).ad=n,i}return Rt(n,t),n}(ha);U(),St();var v7=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v){var l;return void 0===c&&(c=[]),void 0===h&&(h={}),void 0===f&&(f={}),(l=t.call(this)||this).YO=n,l.DA=i,l.DYt=r,l.Dpe=e,l.cY=u,l.zA=s,l.qA=o,l.Npe=c,l.Mpe=h,l.Yf=f,l.hKt=v,l.AYt=new r7,l.so=!1,l.Lpe=!1,l.Bpe=!1,l.Ope=!1,l.Fpe=!1,l.Vpe=function(){return l.Zge(l.YO)},l.Wpe=function(){return l.Zge(l.VO)},l.AYt.Ute(a),l.yn("hnt",l.Vpe),l.yn("ant",l.Wpe),l}Rt(n,t);var i=n.prototype;return i.Tpe=function(t){var n=this.FO<=t&&t<this.VO,i=n&&!this.io,r=!n&&this.io;i&&(this.Lpe=!1,this.Bpe=!1,this.Ope=!1,this.Fpe=!1,this.so=!0,this.wo(new J8(this,this.FO))),r&&(this.so=!1,this.wo(new $8(this,this.VO)))},i.Zge=function(t){var n=(t-this.FO)/this.ct;!this.Lpe&&n>=.25&&(this.Lpe=!0,this.wo(new e7(this))),!this.Bpe&&n>=.5&&(this.Bpe=!0,this.wo(new s7(this))),!this.Ope&&n>=.75&&(this.Ope=!0,this.wo(new a7(this))),!this.Fpe&&n>=.9999&&(this.Fpe=!0,this.wo(new h7(this)))},i.DD=function(){this.Lpe=!0,this.Bpe=!0,this.Ope=!0,this.Fpe=!0},i.gn=function(){this.fn("hnt",this.Vpe),this.fn("ant",this.Wpe)},n.xpe=function(t,i){return new n(t,i.duration,i.apiFramework||"",i.creative,i.mimeType,i.width,i.height,i.companions.map((function(i){return n.xpe(t,i)})),i.extensions,i.fw_parameters,i.events,void 0)},n.Rpe=function(t,i){return new n(t,i.duration,i.apiFramework||"",i.creative,i.mimeType,i.width,i.height,i.companions.map((function(i){return n.Rpe(t,i)})),i.extensions,i.fw_parameters,void 0,i.ad_id)},xt(n,[{key:"ka",get:function(){return this.su||(this.su=function(t){var n,i={get apiFramework(){return t.PYt},get companions(){return t.bYt.ka},get creative(){return t.Ipe},get duration(){return t.ct},get endTime(){return t.VO},get events(){return t.Kq},get extensions(){return t.Cpe},get freeWheelParameters(){return t.Ppe},get height(){return t.Ti},get mimeType(){return t.Yq},get startTime(){return t.FO},get width(){return t.ji},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new gR(t,i),i}(this)),this.su}},{key:"FO",get:function(){return this.YO}},{key:"VO",get:function(){return this.YO+this.DA}},{key:"ct",get:function(){return this.DA}},{key:"PYt",get:function(){return this.DYt}},{key:"Ipe",get:function(){return this.Dpe}},{key:"Yq",get:function(){return this.cY}},{key:"ji",get:function(){return this.zA}},{key:"Ti",get:function(){return this.qA}},{key:"Kq",get:function(){return this.Yf}},{key:"bYt",get:function(){return this.AYt}},{key:"Cpe",get:function(){return this.Npe}},{key:"Ppe",get:function(){return this.Mpe}},{key:"io",get:function(){return this.so}},{key:"$ge",get:function(){var t;return null!=(t=this.Yf.clickthroughs)?t:[]}}]),n}(ca);U(),St(),Ct(),U(),St(),Ct();var l7=function(t){function n(n){var i;return(i=t.call(this,"int")||this).td=n,i}return Rt(n,t),n.prototype.ba=function(){return new d7(this.td.ka)},n}(yg),d7=function(t){function n(n){var i;return(i=t.call(this,"addadbreak")||this).adBreak=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var g7=function(t){function n(n){var i;return(i=t.call(this,"ent")||this).td=n,i}return Rt(n,t),n.prototype.ba=function(){return new m7(this.td.ka)},n}(yg),m7=function(t){function n(n){var i;return(i=t.call(this,"removeadbreak")||this).adBreak=n,i}return Rt(n,t),n}(ha),w7=function(t){function n(){return t.call(this)||this}Rt(n,t);var i=n.prototype;return i.Wte=function(t){this.wo(new l7(t))},i.Zte=function(t){this.wo(new g7(t))},n}(x1),p7=function(){function t(t,n,i,r){var e,u=this;this.Zpe=[],this.Kpe=void 0,this.Qpe=function(t){return u.Kpe=t,u},this.Ype=function(t){t.ZE.ads&&u.Uge(t.ZE.ads),t.ZE.currentBreakEnd&&u.Xpe(t.ZE.currentBreakEnd)},this.qpe=function(t){if(0!==u.Zpe.length&&0!==u.ea.oI().length)for(var n=u.ea.oI().end(u.ea.oI().length-1),i=0,r=u.Zpe.slice();i<r.length;i++){var e=r[i];Yn(e.lYt.ct)?_o(u.Zpe,e):e.ORt<n&&(e.lYt.ype(e.ORt),_o(u.Zpe,e))}},this.wd=function(t){var n,i=null==(n=u.Kpe)?void 0:n.createAdBreak({timeOffset:t.td.FO,maxDuration:t.td.ct,customData:t.td});t.td.yn("Nge",u.Jpe);for(var r=0,e=t.td.qc.Ku;r<e.length;r++){var s,o,a=e[r],c={type:"linear",timeOffset:a.FO,duration:a.ct,creativeId:a.Ipe,skipOffset:t.td.pKt,clickThrough:null==(s=a.$ge)?void 0:s[0],customData:a};null==(o=u.Kpe)||o.createAd(c,i),a.yn("hnt",u.T9t),a.yn("ant",u.$pe),a.yn("X2t",u.twe),a.yn("z2t",u.iwe),a.yn("q2t",u.nwe),a.yn("Epe",u.pme)}},this.Jpe=function(t){for(var n=0,i=t.td.qc.Ku;n<i.length;n++){var r,e,s=i[n],o=u.jpe(s);if(o)null==(r=u.Kpe)||r.beginAd(o),null==(e=u.Kpe)||e.skipAd(o)}},this._d=function(t){for(var n=0,i=t.td.qc.Ku;n<i.length;n++){i[n].$o()}t.td.$o()},this.T9t=function(t){var n,i=u.jpe(t.snt);i&&(null==(n=u.Kpe)||n.beginAd(i))},this.$pe=function(t){var n,i=u.jpe(t.snt);i&&(null==(n=u.Kpe)||n.endAd(i))},this.twe=function(t){var n,i=u.jpe(t.snt);i&&(null==(n=u.Kpe)||n.updateAdProgress(i,.25))},this.iwe=function(t){var n,i=u.jpe(t.snt);i&&(null==(n=u.Kpe)||n.updateAdProgress(i,.5))},this.nwe=function(t){var n,i=u.jpe(t.snt);i&&(null==(n=u.Kpe)||n.updateAdProgress(i,.75))},this.pme=function(t){var n,i=u.jpe(t.snt);i&&(null==(n=u.Kpe)||n.updateAdProgress(i,1))},this.ea=t,this.xge=n,this.l$t=new w7,this.l$t.yn("int",this.wd),this.l$t.yn("ent",this._d),this.Hpe=i,this.Gpe=r,t.yn("timeupdate",this.qpe),this.xge.yn("rpe",this.Ype),null==(e=this.ea.qc)||e.Jst(ES.UPLYNK,this.Qpe)}var n=t.prototype;return n.Xge=function(t){if(0!==t.length)for(var n=MA.xn(t),i=0,r=this.l$t.Ku.slice();i<r.length;i++){var e=r[i];Yn(e.VO)&&n.Cn(0)>e.VO&&this.l$t.$S(e)}},n.Uge=function(t){for(var n=!function(t){return Yn(t.breakOffsets)}(t),i=n?this.xge.ape:0,r=0,e=t.breaks;r<e.length;r++){var u=e[r];if(0!==u.ads.length){for(var s=u.timeOffset+i,o=new r7,a=0,c=0,h=u.ads;c<h.length;c++){var f=h[c],v=n?v7.Rpe(s,f):v7.xpe(s,f);o.SO(v),s+=v.ct,a+=v.ct}var l=u.timeOffset+i,d=n?void 0:u.duration,g=new q8(l,d,o,n,this.Hpe);n&&this.Zpe.push({lYt:g,ORt:l+a}),this.l$t.SO(g)}}},n.Xpe=function(t){var n=this.Upe;n&&n.ype(t+this.xge.ape)},n.Hge=function(t){this.zpe=t,this.l$t.Ku.forEach((function(n){return n.Tpe(t)}))},n.DD=function(){var t=this.zpe,n=this.Kst;t&&n&&n.Spe(t)&&n.DD()},n.skipAd=function(t){this.DD()},n.Yge=function(t,n){for(var i=[],r=0,e=this.WJt.Ku;r<e.length;r++){var u=e[r];!u.bpe&&u.FO>=t&&u.FO<n&&i.push(u)}return i},n.destroy=function(){this.ea.fn("timeupdate",this.qpe),this.xge.fn("rpe",this.Ype)},n.resetSource=function(){for(var t,n=0,i=this.WJt.Ku;n<i.length;n++){for(var r=i[n],e=0,u=r.qc.Ku;e<u.length;e++){u[e].$o()}r.$o()}this.WJt.Bb(),null==(t=this.Kpe)||t.removeAllAds(),this.zpe=void 0,this.Zpe=[]},n.jpe=function(t){return go(this.Kpe.ads,(function(n){return n.creativeId===t.Ipe}))},xt(t,[{key:"ka",get:function(){return this.su||(this.su=function(t){return{get adBreaks(){return t.WJt.ka},get currentAdBreak(){if(t.Kst)return t.Kst.ka},get currentAds(){return t.Kst?t.Kst.qc.ka:(new r7).ka},skip:function(){t.DD()}}}(this)),this.su}},{key:"WJt",get:function(){return this.l$t}},{key:"Kst",get:function(){return go(this.l$t.Ku,(function(t){return t.io}))}},{key:"qst",get:function(){return this.Kst?this.Kst.qc.Ku.filter((function(t){return t.io})):[]}},{key:"Upe",get:function(){if(0!==this.WJt.V&&0!==this.ea.oI().length){var t=this.ea.oI().end(this.ea.oI().length-1);return go(this.WJt.Ku,(function(n){return n.Rct(t)}))}}},{key:"qge",get:function(){return this.Gpe}}]),t}();U(),St(),Gt(),Jt(),U(),St(),U(),St(),Dt();var y7=function(t){return t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.G=1]="G",t[t.PG=2]="PG",t[t.PG_13=3]="PG_13",t[t.R=4]="R",t[t.NC_17=5]="NC_17",t[t.X=6]="X",t[t.NOT_RATED=7]="NOT_RATED",t}({}),_7=function(t){return t[t.NOT_AVAILABLE=-1]="NOT_AVAILABLE",t[t.NOT_APPLICABLE=0]="NOT_APPLICABLE",t[t.TV_Y=1]="TV_Y",t[t.TV_Y7=2]="TV_Y7",t[t.TV_G=3]="TV_G",t[t.TV_PG=4]="TV_PG",t[t.TV_14=5]="TV_14",t[t.TV_MA=6]="TV_MA",t[t.NOT_RATED=7]="NOT_RATED",t}({}),b7=function(){function t(t,n,i,r,e,u,s,o,a,c,h,f,v,l,d,g,m,w,p,y,_,b,k,A,T){this.FO=t,this.VO=n,this.ct=i,this.owe=r,this.hwe=e,this.lt=u,this.awe=s,this.uwe=o,this.cwe=a,this.lwe=c,this.dwe=h,this.fwe=f,this.XV=v,this._we=l,this.vwe=d,this.mwe=g,this.gwe=m,this.ON=w,this.pwe=p,this.wwe=y,this.ywe=_,this.bwe=b,this.Awe=k,this.Swe=A,this.Twe=T}return t.rwe=function(n,i,r){var e=new Wa(n.rating_flags);return new t(i,r,n.duration,Boolean(n.audio_only),n.boundary_details,Boolean(n.error),n.tv_rating,n.max_slice,n.thumb_prefix,n.slice_dur,n.movie_rating,n.owner,n.meta,n.rates,n.thumbs,n.poster_url,n.default_poster_url,n.desc,e.Rb(1),e.Rb(2),e.Rb(4),e.Rb(8),n.external_id,Boolean(n.is_ad),n.asset)},xt(t,[{key:"ka",get:function(){return this.su||(this.su=function(t){return{startTime:t.FO,endTime:t.VO,duration:t.ct,audioOnly:t.owe,boundaryDetails:t.hwe,error:t.lt,tvRating:t.awe,maxSlice:t.uwe,thumbPrefix:t.cwe,sliceDuration:t.lwe,movieRating:t.dwe,ownerId:t.fwe,metadata:t.XV,rates:t._we,thumbnailResolutions:t.vwe,posterUrl:t.mwe,defaultPosterUrl:t.gwe,description:t.ON,hasAdultLanguage:t.pwe,hasSexualSituations:t.wwe,hasViolence:t.ywe,hasDrugSituations:t.bwe,externalId:t.Awe,isAd:t.Swe,assetId:t.Twe}}(this)),this.su}}]),t}();var k7=Vb({duration:xb,offset:xb}),A7=Vb({c3:k7}),T7=Vb({c7:k7}),S7=Vb({halftime:k7}),E7=jb(Ub(_7)),I7=jb(Ub(y7)),R7=Vb({width:Xb(Mb,xb),prefix:Db,bw:xb,bh:xb,height:Xb(Mb,xb)}),C7=Vb({audio_only:xb,boundary_details:Xb(Mb,Hb(Xb(A7,T7,S7))),error:xb,tv_rating:E7,max_slice:xb,thumb_prefix:Db,slice_dur:xb,movie_rating:I7,owner:Db,meta:Bb,rates:Hb(xb),thumbs:Hb(R7),poster_url:Db,duration:xb,default_poster_url:Db,desc:Db,rating_flags:xb,external_id:Db,is_ad:xb,asset:Db}),N7=function(){function t(t){this.lW=t}var n=t.prototype;return n.eTt=function(t,n,i,r){var e=this;return Zt((function(){var u,s;return Ht(this,(function(o){switch(o.label){case 0:return u=function(t,n,i){if(b8.WU(n))return[x7(t,n,i)];if(Hb(b8).WU(n))return n.map((function(n){return x7(t,n,i)}));if(k8.WU(n)){return(Jn(n.externalId)?n.externalId:[n.externalId]).map((function(r){return x7(t,"ext/"+n.userId+"/"+r,i)}))}throw new _("Invalid asset id")}(t,n,r),s=u.map((function(t){return ET((function(){return e.npe(t)}),i)})),[4,ut.all(s)];case 1:return[2,o.sent().filter(Yn)]}}))}))()},n.npe=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return[4,n.lW.Kk({yE:fd.GET,Gu:t,Yk:xl.yk})];case 1:return[4,r.sent().qk()];case 2:return i=r.sent(),C7.WU(i)||C7.GU(i,"AssetInfoResponse"),[2,i]}}))}))()},t}();function x7(t,n,i){return i?t+"/player/assetinfo/"+n+".json?pbs="+i:t+"/player/assetinfo/"+n+".json"}U(),St(),Ct(),U(),St(),Ct();var D7=function(t){function n(n){var i;return(i=t.call(this,"kwe")||this).ud=n,i}return Rt(n,t),n.prototype.ba=function(){return new P7(this.ud.ka)},n}(yg),P7=function(t){function n(n){var i;return(i=t.call(this,"removeasset")||this).asset=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var M7=function(t){function n(n){var i;return(i=t.call(this,"xwe")||this).ud=n,i}return Rt(n,t),n.prototype.ba=function(){return new B7(this.ud.ka)},n}(yg),B7=function(t){function n(n){var i;return(i=t.call(this,"addasset")||this).asset=n,i}return Rt(n,t),n}(ha),O7=function(t){function n(){return t.call(this)||this}Rt(n,t);var i=n.prototype;return i.Uge=function(t,n){for(var i,r=0,e=0;e<t.length;e++){var u=t[e];i=r+u.duration;for(var s=0;s<n.length;s++){var o=n[s];r<=o.FO&&o.FO<i&&(i+=o.ct||0)}this.SO(b7.rwe(u,r,i)),r=i}},i.Wte=function(t){this.wo(new M7(t))},i.Zte=function(t){this.wo(new D7(t))},n}(x1);U(),St(),Dt(),Ct(),U(),St(),Ct();var L7=function(t){function n(n){var i;return(i=t.call(this,"Rwe")||this).ZE=n,i}return Rt(n,t),n.prototype.ba=function(){return new F7(this.ZE)},n}(yg),F7=function(t){function n(n){var i;return(i=t.call(this,"preplayresponse")||this).response=n,i}return Rt(n,t),n}(ha);U(),St(),Ct();var V7=function(t){function n(n){var i;return(i=t.call(this,"Iwe")||this).ZE=n,i}return Rt(n,t),n.prototype.ba=function(){return new U7(this.ZE)},n}(yg),U7=function(t){function n(n){var i;return(i=t.call(this,"assetinforesponse")||this).response=n,i}return Rt(n,t),n}(ha),W7=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Sge=n,e.Tge=i,e.xge=r,r.yn("rpe",e.Ds),r.yn("ope",e.Ds),e}Rt(n,t);var i=n.prototype;return i.ipe=function(t){t&&this.wo(new L7(Mg(t)))},i.Wge=function(t){var n=this;t.forEach((function(t){return n.wo(new V7(t))}))},i.ba=function(){var t,n=this,i={get ads(){return n.Sge.ka},get assets(){return n.Tge.ka},addEventListener:function(n,i){t.yn(n,i)},removeEventListener:function(n,i){t.fn(n,i)}};return t=new gR(n,i),i},xt(n,[{key:"ka",get:function(){return this.su||(this.su=this.ba()),this.su}}]),n}(ca),j7=function(){function t(){}return t.prototype.Cwe=function(t,n){var i=new A8(t.lR),r=new B8(t.lR),e=function(t){if(t.uplynk&&Yn(t.uplynk.defaultSkipOffset))return function(t){return ui(t)?t:-1}(t.uplynk.defaultSkipOffset);return-1}(n),u=function(t){var n,i,r=null!=(i=null==(n=t.uplynk)?void 0:n.onSeekOverAd)?i:void 0;return function(t){if(!t)return"play-none";switch(t.toLowerCase()){case"play-all":return"play-all";case"play-none":default:return"play-none";case"play-last":return"play-last"}}(r)}(n),s=new U8(r,t),o=new W8(i,n),a=new p7(t,s,e,u),c=new N7(t.lR),h=new O7,f=new W7(a,h,s);return new h8(t,s,o,a,f,c,h)},t}();qk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Pwe=(new j7).Cwe(r,i),r}Rt(n,t);var i=n.prototype;return i.Ege=function(n){t.prototype.xa.call(this,n)},i.Rge=function(n,i){return t.prototype.ynt.call(this,n,i)},i.Qge=function(n){t.prototype.ER.call(this,n)},i.PR=function(){var n;return null!=(n=this.Pwe.lt)?n:t.prototype.PR.call(this)},i.NR=function(){var n;return null!=(n=this.Pwe.DR)?n:t.prototype.NR.call(this)},i.ER=function(t,n){this.Pwe.ER(t)},i.xa=function(t){this.Pwe.xa(t)},i.ynt=function(t,n){return this.Pwe.ynt(t,n)},i.ba=function(){var n=this.Pwe.ka;return Pg(t.prototype.ba.call(this),{get uplynk(){return n}})},i.gn=function(){this.Pwe.gn(),t.prototype.gn.call(this)},n}(t)}),zk.Mst),U(),St(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Jt(),U(),St();var Z7=function(t){return t.CREATIVE_VIEW="creativeView",t.START="start",t.FIRST_QUARTILE="firstQuartile",t.MID_POINT="midpoint",t.THIRD_QUARTILE="thirdQuartile",t.COMPLETE="complete",t.MUTE="mute",t.UNMUTE="unmute",t.PAUSE="pause",t.REWIND="rewind",t.RESUME="resume",t.FULL_SCREEN="fullscreen",t.EXIT_FULL_SCREEN="exitFullscreen",t.EXPAND="expand",t.COLLAPSE="collapse",t.ACCEPT_INVITATION_LINEAR="acceptInvitationLinear",t.ACCEPT_INVITATION="acceptInvitation",t.CLOSE_LINEAR="closeLinear",t.CLOSE="close",t.SKIP="skip",t.SKIP_SHOWN="skipShown",t.PROGRESS="progress",t.ENGAGED_VIEW="engagedView",t.IMPRESSION="impression",t.ERROR="error",t}({});U(),St(),Dt(),Ct();var X7=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i)||this).VYt=e,u.YO=r,u}return Rt(n,t),n.prototype.ba=function(){return e0(this)},xt(n,[{key:"tQt",get:function(){return h$.h$t}},{key:"FO",get:function(){return this.YO}},{key:"eYt",get:function(){return this.VYt}}]),n}(r0);U(),St(),Dt(),Ct();var G7=function(t){function n(n,i,r){var e;if((e=t.call(this,i)||this).v2t=n,e.m2t=n,r){var u=new Date(r);wr(u)&&(e.Dwe=u)}return e}return Rt(n,t),xt(n,[{key:"sOt",get:function(){return this.Dwe}},{key:"tQt",get:function(){return h$.h$t}}]),n}($$),H7=function(){function t(t,n,i){var r=this;this.zwe=-1/0,this.Lwe=void 0,this.Owe=0,this.Wwe=[],this.Pme=!1,this.oK=!1,this.zme=-1,this.Gwe=void 0,this.Vwe=void 0,this.Xwe=0,this.HB=function(){r.Fwe()},this.ezt=function(){r.iye(Z7.RESUME)},this.jNt=function(){r.jwe(),r.iye(Z7.PAUSE)},this.We=function(){r.jwe(),r.zme=-1},this.Mh=function(){r.jwe()},this.vd=function(){-1===r.zme&&(r.zme=r.Bwe()),r.Qwe(),r.Jwe(),r.zme=r.Bwe()},this.Y0t=function(){if(r.Pme!==r.ea.GR){r.Pme=r.ea.GR;var t=r.Pme?Z7.MUTE:Z7.UNMUTE;r.iye(t)}},this.Nwe=function(){if(r.oK!==r.ea.cs()){r.oK=r.ea.cs();var t=r.oK?Z7.FULL_SCREEN:Z7.EXIT_FULL_SCREEN;r.iye(t)}},this.O6=function(t){Wo(t)||(r.iye(Z7.ERROR),ta(r.Zwe()))},this.$we=[Z7.START,Z7.FIRST_QUARTILE,Z7.MID_POINT,Z7.THIRD_QUARTILE,Z7.COMPLETE,Z7.IMPRESSION,Z7.CREATIVE_VIEW],this.ea=t,this.Kwe=n,this.Ywe=i,this.gC()}var n=t.prototype;return n.gC=function(){this.ea.yn(Ey.VL,this.HB),this.ea.yn(fa.Zy,this.jNt),this.ea.yn(fa.ro,this.ezt),this.ea.yn(fa.jy,this.We),this.ea.yn(fa.Cy,this.Mh),this.ea.yn(fa.sb,this.vd),this.ea.yn(fa.ob,this.Y0t),this.ea.yn(OI.MODE_CHANGE,this.Nwe)},n.vC=function(){this.ea.fn(Ey.VL,this.HB),this.ea.fn(fa.Zy,this.jNt),this.ea.fn(fa.ro,this.ezt),this.ea.fn(fa.jy,this.We),this.ea.fn(fa.Cy,this.Mh),this.ea.fn(fa.sb,this.vd),this.ea.fn(fa.ob,this.Y0t),this.ea.fn(OI.MODE_CHANGE,this.Nwe)},n.Bwe=function(){return this.ea.kR()-this.Owe},n.Fwe=function(){var t=this;if(!this.Vwe)if(this.ea.Sd()===1/0){var n=function(){var n;null==(n=t.Gwe)||n.Hw(),t.Gwe=void 0,t.Vwe=void 0};this.Gwe=new Jo,this.Vwe=this.Hwe(this.Gwe.Vw).catch(this.O6).then(n,n)}else 0===this.Wwe.length&&(this.Vwe=this.Uwe())},n.Zwe=function(){var t=this;return Zt((function(){var n,i;return Ht(this,(function(r){switch(r.label){case 0:n=A.min(1e3*A.pow(2,t.Xwe),3e4),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,ra(n,null==(i=t.Gwe)?void 0:i.Vw)];case 2:return r.sent(),t.Xwe++,[3,4];case 3:return Wo(r.sent())?(t.Xwe=0,[2]):[3,4];case 4:return t.Fwe(),[2]}}))}))()},n.Hwe=function(t){var n=this;return Zt((function(){var i;return Ht(this,(function(r){switch(r.label){case 0:return jo(t),n.ea.qR?[3,5]:(i=qn.Vg()-n.zwe)>1e4?[4,n.Uwe(t)]:[3,2];case 1:return r.sent(),n.zwe=qn.Vg(),n.Xwe=0,[3,4];case 2:return[4,ra(1e4-i,t)];case 3:r.sent(),r.label=4;case 4:return[3,0];case 5:return[2]}}))}))()},n.qwe=function(t){var n=t.sOt;if(n&&this.ea.wR&&0===this.Owe&&!this.Ywe&&0!==A.floor(this.ea.oI().start(0))){var i=(this.ea.wR.getTime()-n.getTime())/1e3,r=this.ea.kR()-t.YBt;this.Owe=r-i}},n.Uwe=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:return v.trys.push([0,3,,4]),[4,n.ea.lR.Kk({Gu:n.Kwe})];case 1:return[4,v.sent().xk(t)];case 2:if(0===(i=v.sent()).avails.length)return 0!==n.Wwe.length&&(n.Wwe=[]),[2];if(i.avails.length===n.Wwe.length&&i.avails[0].startTimeInSeconds===n.Wwe[0].YBt)return n.qwe(n.Wwe[0]),[2];for(r=[],e=0,u=i.avails;e<u.length;e++){for(s=u[e],o=new G7(s.durationInSeconds,s.startTimeInSeconds,s.availProgramDateTime),a=0,c=s.ads;a<c.length;a++)h=c[a],(f=new X7(o,n0.Ejt,h.startTimeInSeconds,h.trackingEvents)).x2t(h.adId,h.width,h.height,h.durationInSeconds,[],h.skipoffset),o.y2t(f);r.push(o),n.qwe(o)}return n.Wwe=eo(r,(function(t,n){return t.YBt-n.YBt})),[3,4];case 3:throw Zo(v.sent()),new y("Failed to poll MediaTailor tracking events");case 4:return[2]}}))}))()},n.jwe=function(){var t;null==(t=this.Gwe)||t.Yw(),this.Gwe=void 0,this.Vwe=void 0,this.zwe=-1/0},n.Qwe=function(){if(0!==this.Wwe.length){var t=this.Wwe[this.Wwe.length-1],n=this.Bwe();if(t.YBt+t.BJt<this.zme){var i;this.Lwe&&(null==(i=this.ea.qc)||i.wo(new rB(this.Lwe)),this.Lwe=void 0)}else{for(var r=0,e=this.Wwe;r<e.length;r++){var u=e[r],s=u.YBt;if(!(s+u.BJt<this.zme)&&(s<=n&&s+u.BJt>this.zme)){var o;if(this.Mwe===u)return;return this.Lwe=u,void(null==(o=this.ea.qc)||o.wo(new uB(this.Lwe)))}}var a;if(this.Lwe)null==(a=this.ea.qc)||a.wo(new rB(this.Lwe)),this.Lwe=void 0}}},n.Jwe=function(){var t=this,n=this.qst;if(0!==n.length){for(var i=[],r=0;r<n.length;r++){var e=n[r].eYt.filter((function(n){return Ao(t.$we,n.eventType)}));i=i.concat(e)}for(var u=0;u<i.length;u++){var s=i[u];this.tye(s.startTimeInSeconds)&&(s.eventType===Z7.COMPLETE&&this.iye(Z7.ENGAGED_VIEW),this.sye(s))}}},n.nye=function(t,n){return n.eYt.filter((function(n){return Gs(n.eventType,t)}))[0]},n.iye=function(t){var n=this.qst;if(0!==n.length){var i=this.nye(t,n[0]);i&&this.sye(i)}},n.sye=function(t){this.Wfe(t.eventType);for(var n=0,i=t.beaconUrls;n<i.length;n++){var r=i[n],e={yE:fd.GET,Gu:r,Nk:"",Yk:xl.yk};0,ta(this.rye(e))}},n.Wfe=function(t){var n,i,r=this.qst;switch(t){case Z7.START:n=new oB(r[r.length-1],this.ea.kR());break;case Z7.COMPLETE:n=new cB(r[0],this.ea.kR());break;case Z7.FIRST_QUARTILE:n=new g0(r[0],this.ea.kR());break;case Z7.MID_POINT:n=new w0(r[0],this.ea.kR());break;case Z7.THIRD_QUARTILE:n=new y0(r[0],this.ea.kR())}void 0!==n&&(null==(i=this.ea.qc)||i.wo(n))},n.rye=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,n.ea.lR.Kk(t)];case 1:return i.sent().zk,[2]}}))}))()},n.tye=function(t){var n=this.Bwe();return t>=this.zme&&t<n},n.gn=function(){this.vC(),this.jwe(),this.zme=-1},xt(t,[{key:"Mwe",get:function(){return this.Lwe}},{key:"qst",get:function(){var t=this.Mwe;if(!t)return[];for(var n=[],i=this.Bwe(),r=0,e=t.qc;r<e.length;r++){var u=e[r];i>=u.FO&&this.zme<=u.FO+u.ct&&n.push(u)}return n}}]),t}();qk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).oye=void 0,r.zG=void 0,r.qG=void 0,r.uye=void 0,r}Rt(n,t);var i=n.prototype;return i.xa=function(n){return this.oye&&(this.oye.gn(),this.oye=void 0,this.WEt()),t.prototype.xa.call(this,n)},i.ynt=function(n,i){var r=this,e=function(){return t.prototype.ynt};return Zt((function(){var t,u;return Ht(this,(function(s){switch(s.label){case 0:if(!n||!function(t){return t.sources.some((function(t){return t.integration===GA.MEDIATAILOR}))}(n))return[2,e().call(r,n,i)];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,r.aye(n,i)];case 2:return t=s.sent(),r.uye=new k0(r),[4,e().call(r,t,i)];case 3:return s.sent(),[3,5];case 4:return u=s.sent(),r.MH(new sl(el.MANIFEST_LOAD_ERROR,u.message,u)),[3,5];case 5:return[2]}}))}))()},i.QR=function(n){var i;(null==(i=this.uye)?void 0:i.inAdBreak)||t.prototype.QR.call(this,n)},i.ER=function(n,i){var r;(null==(r=this.oye)?void 0:r.Mwe)||t.prototype.ER.call(this,n,i)},i.PR=function(){var n;return null!=(n=this.zG)?n:t.prototype.PR.call(this)},i.NR=function(){var n;return null!=(n=this.qG)?n:t.prototype.NR.call(this)},i.MH=function(t){this.zG=am(t),this.qG=t,this.wo(new Ek(t))},i.WEt=function(){this.zG=void 0,this.qG=void 0},i.aye=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h;return Ht(this,(function(f){switch(f.label){case 0:r=[],e=0,u=t.sources,f.label=1;case 1:return e<u.length?eT(s=u[e])&&(o=s).src?[4,i.cye(o,n)]:(r.push(s),[3,3]):[3,4];case 2:a=f.sent(),jo(n),c=us({},o,{integration:void 0,src:a}),r.push(c),f.label=3;case 3:return e++,[3,1];case 4:return(h=Mg(t)).sources=r,[2,h]}}))}))()},i.cye=function(t,n){var i=this;return Zt((function(){var r,e,u,s,o,a,c,h,f;return Ht(this,(function(v){switch(v.label){case 0:if(r=t.src||"",!(e=r.match(/.+?(?=\/v1\/)/)))throw new y("Could not find MediaTailor session initialization url");return u=e[0],s=js(r,"?ads."),o=s?{Gu:r,Yk:xl.yk}:{Gu:r,yE:fd.POST,Nk:JSON.stringify({adParams:t.adParams}),Yk:xl.yk},[4,ET((function(){return i.lye(o,n)}),n)];case 1:a=v.sent();try{c=u+a.manifestUrl,s||(h=u+a.trackingUrl,f=qA(c),i.oye=new H7(i,h,f))}catch(t){throw new y("Something went wrong parsing the MediaTailor session initialization response")}return[2,c]}}))}))()},i.lye=function(t,n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,i.lR.Kk(t)];case 1:return[4,r.sent().xk(n)];case 2:return[2,r.sent()];case 3:throw Zo(r.sent()),new y("Failed to initialize MediaTailor session manifest");case 4:return[2]}}))}))()},i.gn=function(){var n;this.oye&&(this.oye.gn(),this.oye=void 0),this.WEt(),null==(n=this.uye)||n.destroy(),this.uye=void 0,t.prototype.gn.call(this)},n}(t)}),zk.Ost),U(),St(),U(),St(),Gt(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St();var z7=function(t){return t[t.dye=0]="dye",t[t.VL=1]="VL",t[t.CZ=2]="CZ",t[t.fye=3]="fye",t[t._ye=4]="_ye",t[t.vye=5]="vye",t[t.da=6]="da",t}({});U(),St(),Dt(),Ct();var Y7=function(t){function n(n,i,r,e,u){var s;return void 0===u&&(u=!1),(s=t.call(this)||this).xO=ym(),s.AO=new lm,s.cu=n,s.RO=i,s.j4=r,s.He=u,s.DMt=e,s}return Rt(n,t),n.prototype.CO=function(t){this.He=t,t?this.DMt.mye(this.cu):this.DMt.gye(this.cu)},xt(n,[{key:"EC",get:function(){}},{key:"Rt",get:function(){return this.He},set:function(t){this.CO(t)}},{key:"ka",get:function(){var t;return null!=(t=this.su)?t:this.su=Qg(this)}},{key:"o",get:function(){return String(this.cu.componentTag)||"hbbtvaudiotrack"}},{key:"Lt",get:function(){return this.j4}},{key:"xh",get:function(){return this.RO}},{key:"gs",get:function(){return""}},{key:"xE",get:function(){return this.Rt?"enabled":"disabled"},set:function(t){this.CO("enabled"===t)}},{key:"IC",get:function(){return this.AO}},{key:"DC",get:function(){},set:function(t){}},{key:"xC",get:function(){return this.xO}}]),n}(oa);U(),St(),Gt(),Dt(),Ct(),Jt(),U(),St(),Gt(),Ct(),Jt(),U(),St();var K7=function(t){return t.mw="urn:dvb:casystemid:19219",t.gw="urn:dvb:casystemid:19156",t}({}),q7=function(t){return t.mw="application/vnd.ms-playready.initiator+xml",t.gw="application/widevine+xml",t}({});function J7(t,n,i){switch(t){case"urn:dvb:casystemid:19219":return function(t){return'<?xml version="1.0" encoding="utf-8"?><PlayReadyInitiator xmlns="http://schemas.microsoft.com/DRM/2007/03/protocols/"><LicenseServerUriOverride><LA_URL>'+(null!=t?t:"")+"</LA_URL></LicenseServerUriOverride></PlayReadyInitiator>"}(n);case"urn:dvb:casystemid:19156":if(!i)throw new y("Content URL is needed for Widevine license request");return function(t,n){return'<?xml version="1.0" encoding="utf-8"?><WidevineCredentialsInfo xmlns="http://www.smarttv-alliance.org/DRM/widevine/2012/protocols/"><ContentURL>'+PJ(null!=n?n:"")+"</ContentURL><DeviceID></DeviceID><StreamID></StreamID><ClientIP></ClientIP><DRMServerURL>"+PJ(null!=t?t:"")+"</DRMServerURL><DRMAckServerURL></DRMAckServerURL><DRMHeartBeatURL></DRMHeartBeatURL><DRMHeartBeatPeriod></DRMHeartBeatPeriod><UserData></UserData><Portal></Portal><StoreFront></StoreFront><BandwidthCheckURL></BandwidthCheckURL><BandwidthCheckInterval></BandwidthCheckInterval></WidevineCredentialsInfo>"}(n,i);default:throw new y("DRM key system is not supported")}}var Q7=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Aye=void 0,n.kye=void 0,n.xu=void 0,n.xye=void 0,n.Eye=void 0,n.Sye=function(t,i,r){var e,u;if(0!==r){var s=n.Rye(r),o=n.Iye(r),a=new em(s,o);null==(u=n.Eye)||null==(e=u.Fb)||e.call(u,a)}else{var c,h;null==(h=n.Eye)||null==(c=h.Ob)||c.call(h,t)}},n.Tye=function(t,i,r,e){var u=n.Cye(t),s=n.Pye(t),o=new em(u,s);n.wo(new oD(o))},n}Rt(n,t);var i=n.prototype;return i.pye=function(t){this.wye(),this.xu=t},i.yye=function(t){var n=this;return Zt((function(){var i,r,e,u,s,o,a,c;return Ht(this,(function(h){switch(h.label){case 0:if(!t.eH.length)return n.wye(),[2];if(!n.xu)throw new y("The OIPF DRM agent has to be attached to the DOM");n.Aye||(n.Aye=v.createElement("object"),n.Aye.type="application/oipfDrmAgent",n.xu.appendChild(n.Aye),n.Aye.onDRMMessageResult=n.Sye,n.Aye.onDRMRightsError=n.Tye,n.kye=v.createElement("object"),n.kye.type="application/oipfCapabilities",n.xu.appendChild(n.kye)),r=0,e=t.eH,h.label=1;case 1:if(!(r<e.length))return[3,6];if(u=e[r],s=void 0,o=void 0,a=void 0,u.aT===Ps)s=K7.mw,o=q7.mw,a=J7(K7.mw,u.xG);else{if(u.aT!==Ms)return[3,5];s=K7.gw,o=q7.gw,a=J7(K7.gw,u.xG,t.OC)}h.label=2;case 2:return h.trys.push([2,4,,5]),[4,n.$et(o,a,s)];case 3:return h.sent(),n.wo(new aD),[2];case 4:return c=h.sent(),i=c,[3,5];case 5:return r++,[3,1];case 6:return i&&n.wo(new oD(i)),[2]}}))}))()},i.Hw=function(){return this.Eye=void 0,this.xu=void 0,t.prototype.Hw.call(this)},i.$et=function(t,n,i){var r,e;return this.Eye=new Yc,this.xye=null==(e=this.Aye)||null==(r=e.sendDRMMessage)?void 0:r.call(e,t,n,i),this.xye||null==this.Eye.Fb||this.Eye.Fb.call(this.Eye,new em(el.CONTENT_PROTECTION_INTERNAL_ERROR,"No DRM message returned by OIPF DRM agent")),this.Eye.Vb},i.Rye=function(t){switch(t){case 5:return el.CONTENT_PROTECTION_NOT_SUPPORTED;case 2:case 1:case 3:case 4:case 6:return el.CONTENT_PROTECTION_INTERNAL_ERROR;default:return el.CONTENT_PROTECTION_ERROR}},i.Iye=function(t){switch(t){case 2:return"The DRM agent was unable to complete the request";case 3:return"The specified MIME type is unknown for the specified DRM system";case 4:return"User consent is needed for that action";case 5:return"The specified DRM System is unknown";case 6:return"The license message has the wrong format";default:return"Unspecified error occurred"}},i.Cye=function(t){return 0===t?el.CONTENT_PROTECTION_LICENSE_ERROR:1===t?el.CONTENT_PROTECTION_LICENSE_INVALID:el.CONTENT_PROTECTION_ERROR},i.Pye=function(t){switch(t){case 0:return"No license, consumption of the content is blocked";case 1:return"Invalid license, consumption of the content is blocked";case 2:return"Valid license, consumption of the content is unblocked";default:return"Unknown error occurred"}},i.wye=function(){this.Aye&&(ai(this.Aye),this.Aye=void 0),this.kye&&(ai(this.kye),this.kye=void 0)},i.n9=function(t,n,i){return Zt((function(){return Ht(this,(function(t){return[2]}))}))()},n}(gD);U(),St(),Gt(),Dt(),Jt(),U(),St();var $7=ut,ttt=function(){function t(t,n,i){this.DT=t,this.FB=n,this.fJ=i}var n=t.prototype;return n.cJ=function(t){return!1},n.dJ=function(t){return $7.resolve(void 0)},n.yye=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return[4,n.fJ.yye(n.DT)];case 1:return t.sent(),[2]}}))}))()},n.Hw=function(){return $7.resolve(void 0)},xt(t,[{key:"rI",get:function(){return MA.vB(0,this.FB.ct)}},{key:"tI",get:function(){return nS.QH},set:function(t){}},{key:"bd",get:function(){return this.DT}}]),t}(),ntt=function(t){function n(n,i){var r;return(r=t.call(this)||this).Yu=n,r.gZ=i,r.sa=new sS,r.Zo=new aS,r.Ll=new Qp,r.jG=void 0,r.aZ=!1,r.zG=void 0,r.EW=Cy.$B,r.rZ=!0,r.Mye=void 0,r.Bye=function(){var t,n,i,e;(null==(t=r.Oye)?void 0:t.playState)&&((null==(n=r.Mye)?void 0:n.Vb)||2!==r.Oye.playState||r.Nye().catch(Ti),3===r.Oye.playState&&(null==(e=r.Mye)||null==(i=e.Ob)||i.call(e,String(r.Oye.playState)),r.Mye=void 0))},r.fJ=new Q7(r),r.fJ.yn(sD,r.Ds),r.d8=new Bk([r.Ll]),r.f8=new qx(r),r.Uet=new DD,r.Get=new iM(r.Uet.we,r.Lu,r.nt,r.zl,r.Ca,r.lH),r.Oye=r.Lye(),r.Nye().catch(Ti),r}Rt(n,t);var i=n.prototype;return i.v7=function(t){this.fJ.pye(t),this.Uet.v7(t)},i.DJ=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Aw===Sy.mW)return i}},i.Dn=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:if(n.jG)throw new y("Already loaded a media source");return t.Aw!==Sy.mW?[3,2]:(n.jG=new ttt(t,n,n.fJ),[4,n.jG.yye(t)]);case 1:return i.sent(),[2,n.jG];case 2:throw new y("Unsupported media source configuration for HbbTV");case 3:return[2]}}))}))()},i.Dye=function(t){var n=this;return Zt((function(){return Ht(this,(function(t){switch(t.label){case 0:return[4,n.Nye()];case 1:return t.sent(),[2]}}))}))()},i.kI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.Nye()];case 1:return n.sent(),[2]}}))}))()},i.ZG=function(t){},i.er=function(){var t=this;return Zt((function(){return Ht(this,(function(n){return t.jG=void 0,t.Mye=void 0,[2]}))}))()},i.Hw=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.er()];case 1:return n.sent(),t.Ll.gn(),t.d8.gn(),t.Uet.gn(),t.Get.gn(),t.fJ.fn(sD,t.Ds),[4,t.fJ.Hw()];case 2:return n.sent(),[2]}}))}))()},i.ge=function(){this.rZ=!0,this.Uet.ge()},i.be=function(){this.rZ=!1,this.Uet.be()},i.hH=function(){return!1},i.uH=function(t,n,i,r,e){throw new y("Adding native sideloaded text tracks is not supported on HbbTV")},i.u7=function(){},i.l7=function(){},i._7=function(){},i.UR=function(){return{dO:0,fO:0,_O:0}},i.CI=function(){},i.dH=function(t){throw new y("Adding custom text tracks is not supported on HbbTV")},i.AI=function(){},i.LI=function(t,n,i,r,e,u,s,o,a){var c=new YN(t,n,i,r,e,u,s,a,o);return this.Ll.tt(c),this.f8.tt(c),c},i.fH=function(){for(var t=0,n=this.Ll.uC.slice();t<n.length;t++){n[t].gn()}this.Ll.er()},i._W=function(t){this.Ll.it(t),this.f8.it(t)},i.Lye=function(){for(var t=v.getElementsByTagName("object"),n=0;n<t.length;n++){var i=t.item(n);if("video/broadcast"===i.type){var r=i;return r.onPlayStateChange=this.Bye,0===r.playState&&(null==r.bindToCurrentChannel||r.bindToCurrentChannel.call(r)),r}}},i.Nye=function(){var t,n;if(!this.Oye||3===this.Oye.playState||0===this.Oye.playState)return ut.resolve("");if(null==(t=this.Mye)?void 0:t.Vb)return null==(n=this.Mye)?void 0:n.Vb;this.Mye=new Yc;try{null==this.Oye.stop||this.Oye.stop.call(this.Oye)}catch(t){qn.Fp("Unable to stop broadcast for HbbTV",t),this.Mye.Fb(new y("Unable to stop broadcast for HbbTV"))}return this.Mye.Vb},xt(n,[{key:"gR",get:function(){return MA.mB()}},{key:"wR",get:function(){}},{key:"QG",get:function(){}},{key:"Lu",get:function(){return this.Yu}},{key:"rI",get:function(){var t,n;return null!=(n=null==(t=this.jG)?void 0:t.rI)?n:MA.mB()}},{key:"hI",get:function(){return this.aZ}},{key:"O4",get:function(){return!1}},{key:"OR",get:function(){return!1}},{key:"XB",get:function(){return us({},UR)}},{key:"lt",get:function(){return this.zG}},{key:"N4",get:function(){return!1}},{key:"Ca",get:function(){return this.sa}},{key:"d7",get:function(){return!0}},{key:"E4",get:function(){return!1}},{key:"yI",get:function(){return!0},set:function(t){}},{key:"zl",get:function(){return this.gZ}},{key:"nt",get:function(){return this.d8}},{key:"M9",get:function(){return this.rZ}},{key:"lH",get:function(){return this.Zo}}]),n}(oa),itt=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Fye=n,e.lZ=1,e.aO=new nm,e.cO=new nm,e.I4=Cy.$B,e.Kye=void 0,e.Wye=void 0,e.Vye=function(){if(e.Fye.playState){e.EW=e.I4,e.jye=e.Qye,e.Qye=e.Fye.playState;var t=e.ct;switch(t!==e.Kye&&(e.wo(new _T(t)),e.Kye=t),e.Wye&&e.Qye!==z7.VL&&(qn.Up(e.Wye),e.Wye=void 0),e.Qye){case z7.fye:e.I4=Cy.$B;break;case z7._ye:if(e.jye===z7.fye){var n,i,r=null!=(n=null==e.Fye.getComponents?void 0:e.Fye.getComponents.call(e.Fye,1))?n:e.Gye(),u=null!=(i=null==e.Fye.getComponents?void 0:e.Fye.getComponents.call(e.Fye,0))?i:e.Gye();if(0===r.length&&0===u.length)break;e.Zye(r),e.zye(u)}e.I4=Cy.Gn;break;case z7.VL:e.aZ&&(e.aZ=!1,e.wo(new TT(e.SR))),e.wo(new By(e.SR)),e.I4=Cy.eO,e.Wye=qn.Wp(e.Jye,250);break;case z7.da:e.I4=Cy.$B,e.wo(new xN(new sm(e.Yye(e.Fye.error))));break;case z7.vye:e.wo(new kT(e.SR));case z7.CZ:case z7.dye:}e.I4!==e.EW&&e.wo(new Ry(e.SR,e.I4))}},e.Jye=function(){e.wo(new pg(e.SR,void 0))},e}Rt(n,t);var i=n.prototype;return i.v7=function(n){t.prototype.v7.call(this,n),n.appendChild(this.Fye)},i.Dn=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return n.Aw!==Sy.mW?[3,3]:[4,t.prototype.Dn.call(i,n)];case 1:return r=e.sent(),[4,i.Dye(n)];case 2:return e.sent(),i.Fye.onPlayStateChange=i.Vye,[2,r];case 3:throw new y("Unsupported media source configuration for HbbTV")}}))}))()},i.Dye=function(n){var i=this;return Zt((function(){return Ht(this,(function(r){switch(r.label){case 0:return i.Fye.type=JA(n.OC),i.Fye.data=n.OC,[4,t.prototype.Dye.call(i,n)];case 1:return r.sent(),[2]}}))}))()},i.kI=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.kI.call(n)];case 1:return i.sent(),n.Fye.play(n.lZ),n.wo(new yT(n.SR)),[2]}}))}))()},i.TI=function(){this.Fye.play(0),this.wo(new pT(this.SR))},i.Eb=function(t,n,i){this.Fye.seek(1e3*t),this.aZ=!0,this.wo(new AT(this.SR))},i.er=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return void 0!==n.jG&&n.Fye.stop(),n.Wye&&(qn.Up(n.Wye),n.Wye=void 0),[4,t.prototype.er.call(n)];case 1:return i.sent(),ci(n.Fye),n.Fye.data&&n.Fye.removeAttribute("data"),n.aO.er(),n.cO.er(),[2]}}))}))()},i.Hw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.Hw.call(n)];case 1:return i.sent(),ai(n.Fye),[2]}}))}))()},i.ge=function(){t.prototype.ge.call(this),this.Fye.style.display="block"},i.be=function(){t.prototype.be.call(this),this.Fye.style.display="none"},i.mye=function(t){var n=this.Uye(t);if(!n)throw new y("Selected track does not exist on HbbTV");null==this.Fye.selectComponent||this.Fye.selectComponent.call(this.Fye,n)},i.gye=function(t){var n=this.Uye(t);if(!n)throw new y("Selected track does not exist on HbbTV");null==this.Fye.unselectComponent||this.Fye.unselectComponent.call(this.Fye,n)},i.Uye=function(t){var n,i=null!=(n=null==this.Fye.getComponents?void 0:this.Fye.getComponents.call(this.Fye,t.type))?n:this.Gye();return this.Hye(i,t)},i.Zye=function(t){var n,i=null!=(n=null==this.Fye.getCurrentActiveComponents?void 0:this.Fye.getCurrentActiveComponents.call(this.Fye,1))?n:this.Gye();this.aO.er();for(var r=0;r<t.length;r++){var e=t.item(r);this.aO.tt(new Y7(e,e.language,this.aO.V?XX.EPt:XX.xPt,this,this.Xye(i,e)))}},i.zye=function(t){var n,i=null!=(n=null==this.Fye.getCurrentActiveComponents?void 0:this.Fye.getCurrentActiveComponents.call(this.Fye,0))?n:this.Gye();this.cO.er();for(var r=0;r<t.length;r++){var e=t.item(r);this.cO.tt(new Y7(e,String(e.aspectRatio),this.cO.V?GX.EPt:GX.xPt,this,this.Xye(i,e)))}},i.Gye=function(){return{length:0,item:function(t){}}},i.Xye=function(t,n){return void 0!==this.Hye(t,n)},i.Hye=function(t,n){for(var i=0;i<t.length;i++){var r=t.item(i);if(this.qye(r,n))return r}},i.qye=function(t,n){return t.pid===n.pid&&t.componentTag===n.componentTag&&t.type===n.type&&t.encoding===n.encoding&&t.encrypted===n.encrypted},i.Yye=function(t){switch(t){case 0:return um.SRC_NOT_SUPPORTED;case 1:case 5:case 6:return um.NETWORK;default:return um.DECODE}},xt(n,[{key:"YG",get:function(){}},{key:"ht",get:function(){return this.aO}},{key:"rt",get:function(){return this.cO}},{key:"KR",get:function(){return this.lZ},set:function(t){this.lZ=t,this.qR||this.Fye.play(t)}},{key:"GR",get:function(){return this.Fye.muted},set:function(t){this.Fye.muted=t}},{key:"vI",get:function(){var t,n;return(null!=(n=null!=(t=this.Fye.volume)?t:null==this.Fye.getVolume?void 0:this.Fye.getVolume.call(this.Fye))?n:100)/100},set:function(t){null==this.Fye.setVolume||this.Fye.setVolume.call(this.Fye,100*t)}},{key:"SR",get:function(){return this.Fye.playPosition?this.Fye.playPosition/1e3:0}},{key:"ct",get:function(){return!this.Fye.playTime||this.Fye.playTime<0?1/0:this.Fye.playTime/1e3}},{key:"RR",get:function(){return this.Fye.playState===z7.vye}},{key:"Ti",get:function(){return this.Fye.offsetHeight*qn.Ys.Yg}},{key:"ji",get:function(){return this.Fye.offsetWidth*qn.Ys.Yg}},{key:"qR",get:function(){return this.Fye.playState===z7.CZ}},{key:"JR",get:function(){return MA.mB()}},{key:"sI",get:function(){return this.I4}},{key:"cI",get:function(){return 0}},{key:"fI",get:function(){return 0}}]),n}(ntt);U(),St(),Gt(),Dt(),Ct(),Jt();var rtt=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).QT=n,e.aO=new nm,e.cO=new nm,e.dbe=void 0,e.MW=function(){e.wo(new yT(e.SR))},e.LW=function(){e.wo(new pT(e.SR))},e.jc=function(){var t=e.SR,n=e.hI,i=void 0!==e.dbe,r=i&&e.dbe!==t;(n||!i||r)&&(e.wo(new pg(t,void 0)),e.dbe=t)},e.$ye=function(){e.wo(new qR(e.SR))},e.Ts=function(){e.wo(new JR)},e.Tc=function(){e.wo(new kT(e.SR))},e.tbe=function(){e.wo(new bT(e.SR,e.KR))},e.nzt=function(){e.wo(new ST(e.SR,e.vI))},e.tzt=function(){e.wo(new _T(e.ct))},e.ebe=function(){},e.ibe=function(){},e.sbe=function(){e.aZ&&(e.aZ=!1),e.wo(new TT(e.SR))},e.nbe=function(){e.wo(new AT(e.SR))},e.BW=function(t){e.EW!==t.readyState&&(e.EW=t.readyState,e.wo(t))},e.NW=function(){e.wo(new By(e.SR))},e.rbe=function(){if(null!==e.QT.error){var t,n=e.QT.error;e.MH(new sm(null!=(t=n.code)?t:um.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},e.d9=function(t){e.wo(new pa(t.initDataType,t.initData||new ArrayBuffer(0)))},e.ube=function(t){var n=e.QT.videoTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];Zk(e.cO,r)||e.cO.tt(new Rm(r))}},e.cbe=function(t){var n=[],i=e.QT.videoTracks;if(i){for(var r=0,u=e.cO.uC;r<u.length;r++){var s=u[r];Xk(i,s.IO)||n.push(s)}for(var o=0;o<n.length;o++){var a=n[o];e.cO.it(a)}}},e.lbe=function(t){e.oh(e.cO)},e.obe=function(t){var n=e.QT.audioTracks;if(n)for(var i=0;i<n.length;i++){var r=n[i];Zk(e.aO,r)||e.aO.tt(new Em(r))}},e.hbe=function(t){var n=[],i=e.QT.audioTracks;if(i){for(var r=0,u=e.aO.uC;r<u.length;r++){var s=u[r];Xk(i,s.IO)||n.push(s)}for(var o=0;o<n.length;o++){var a=n[o];e.aO.it(a)}}},e.abe=function(t){e.oh(e.aO)},e.R9=new wD(e),e.R9.yn(Ey.tC,e.BW),e.R9._9(new EN(e)),e.H9=new NN(e),e.H9.yn(Ey.VL,e.NW),e.B8(),e.xH(),e}Rt(n,t);var i=n.prototype;return i.v7=function(n){t.prototype.v7.call(this,n),n.appendChild(this.QT)},i.Dn=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:return n.Aw!==Sy.mW?[3,3]:[4,t.prototype.Dn.call(i,n)];case 1:return r=e.sent(),[4,i.Dye(n)];case 2:return e.sent(),[2,r];case 3:throw new y("Unsupported media source configuration for HbbTV")}}))}))()},i.Dye=function(n){var i=this;return Zt((function(){var r;return Ht(this,(function(e){switch(e.label){case 0:switch(n.sH){case wA.HC:case wA.ZC:i.QT.setAttribute("crossorigin",n.sH);break;case wA.gE:default:i.QT.removeAttribute("crossorigin")}return void 0!==n.tI?i.QT.preload=n.tI:i.QT.preload=nS.pG,void 0!==n.nH?i.QT.title=n.nH:ki(i.QT),r=i.KR,i.QT.src=n.OC,i.KR=r,[4,t.prototype.Dye.call(i,n)];case 1:return e.sent(),[2]}}))}))()},i.kI=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.kI.call(n)];case 1:return i.sent(),[4,n.QT.play()];case 2:return i.sent(),[2]}}))}))()},i.TI=function(){this.QT.pause()},i.Eb=function(t,n,i){n&&this.QT.fastSeek?this.QT.fastSeek(t):this.QT.currentTime=t,this.aZ=!0,this.wo(new AT(this.SR))},i.er=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.er.call(n)];case 1:return i.sent(),ci(n.QT),n.QT.src&&n.QT.removeAttribute("src"),n.aO.er(),n.cO.er(),[2]}}))}))()},i.Hw=function(){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return[4,t.prototype.Hw.call(n)];case 1:return i.sent(),n.H9.Hw(),n.R9.Hw(),n.V8(),n.mH(),ai(n.QT),[2]}}))}))()},i.ge=function(){t.prototype.ge.call(this),this.QT.style.display="block",this.QT.style.height="100%",this.QT.style.width="100%"},i.be=function(){t.prototype.be.call(this),this.QT.style.display="none"},i.B8=function(){this.YG.addEventListener("play",this.MW),this.YG.addEventListener("pause",this.LW),this.YG.addEventListener("timeupdate",this.jc),this.YG.addEventListener("progress",this.$ye),this.YG.addEventListener("loadstart",this.Ts),this.YG.addEventListener("ended",this.Tc),this.YG.addEventListener("ratechange",this.tbe),this.YG.addEventListener("volumechange",this.nzt),this.YG.addEventListener("durationchange",this.tzt),this.YG.addEventListener("loadedmetadata",this.ebe),this.YG.addEventListener("emptied",this.ibe),this.YG.addEventListener("seeked",this.sbe),this.YG.addEventListener("seeking",this.nbe),this.YG.addEventListener("error",this.rbe),no()&&this.YG.addEventListener("encrypted",this.d9)},i.V8=function(){this.YG.removeEventListener("play",this.MW),this.YG.removeEventListener("pause",this.LW),this.YG.removeEventListener("timeupdate",this.jc),this.YG.removeEventListener("progress",this.$ye),this.YG.removeEventListener("loadstart",this.Ts),this.YG.removeEventListener("ended",this.Tc),this.YG.removeEventListener("ratechange",this.tbe),this.YG.removeEventListener("volumechange",this.nzt),this.YG.removeEventListener("durationchange",this.tzt),this.YG.removeEventListener("loadedmetadata",this.ebe),this.YG.removeEventListener("emptied",this.ibe),this.YG.removeEventListener("seeked",this.sbe),this.YG.removeEventListener("seeking",this.nbe),this.YG.removeEventListener("error",this.rbe),this.YG.removeEventListener("encrypted",this.d9)},i.MH=function(t){this.zG=t,this.wo(new xN(this.zG))},i.xH=function(){var t=this.QT.audioTracks,n=this.QT.videoTracks;t&&(t.addEventListener("addtrack",this.obe),t.addEventListener("removetrack",this.hbe),t.addEventListener("change",this.abe)),n&&(n.addEventListener("addtrack",this.ube),n.addEventListener("removetrack",this.cbe),n.addEventListener("change",this.lbe))},i.mH=function(){var t=this.QT.audioTracks,n=this.QT.videoTracks;t&&(t.removeEventListener("addtrack",this.obe),t.removeEventListener("removetrack",this.hbe),t.removeEventListener("change",this.abe)),n&&(n.removeEventListener("addtrack",this.ube),n.removeEventListener("removetrack",this.cbe),n.removeEventListener("change",this.lbe))},i.oh=function(t){for(var n=0;n<t.V;n++){t.lC(n).PO()}},xt(n,[{key:"YG",get:function(){return this.QT}},{key:"ht",get:function(){return this.aO}},{key:"rt",get:function(){return this.cO}},{key:"KR",get:function(){return this.QT.playbackRate},set:function(t){this.QT.playbackRate=t}},{key:"GR",get:function(){return this.QT.muted},set:function(t){this.QT.muted=t}},{key:"vI",get:function(){return this.QT.volume},set:function(t){this.QT.volume=t}},{key:"SR",get:function(){return this.QT.currentTime}},{key:"ct",get:function(){return this.QT.duration}},{key:"RR",get:function(){return this.QT.ended}},{key:"Ti",get:function(){return this.QT.offsetHeight*qn.Ys.Yg}},{key:"ji",get:function(){return this.QT.offsetWidth*qn.Ys.Yg}},{key:"qR",get:function(){return this.QT.paused}},{key:"JR",get:function(){return MA.xn(this.QT.played)}},{key:"sI",get:function(){return this.R9.sI}},{key:"cI",get:function(){return this.QT.videoHeight}},{key:"fI",get:function(){return this.QT.videoWidth}}]),n}(ntt),ett=[fa.ro,fa.Zy,Ey.VL,fa.jy,fa.Ky,fa.Cy,fa.xy,fa.Sy,fa.Ay,fa.sb,fa.Xy,fa.Vy,fa.zy,fa.ob,fa.Yy,fa.Ny,fa.Py],utt=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).jG=void 0,u.tH=new xk,u.Cc=void 0,u.zG=void 0,u.qG=void 0,u.KG=nS.QH,u.SH=function(t){var n=t.lt,i=n.code,r=new sl(fm(i),"Something went wrong during HbbTV playback.",n),e=am(r);u.MH(r,e)},u.vn=new RI(n),u.vn.bn(),u.FB=Pi()?new rtt(v.createElement(im._E),u.vn,e):new itt(v.createElement("object"),u.vn,e),u.FB.v7(n),u.FB.yn(ett,u.Ds),u.FB.yn(zp.da,u.SH),u._H=new Ly(u.FB,!0),u._H.yn(Iy,u.Ds),u.cH=new py(u.FB,i),u.Ll=new Bk([u.FB.nt,u.cH.Z]),u.mZ=r,u}Rt(n,t);var i=n.prototype;return i.LI=function(t){return this.FB.dH(t)},i.xI=function(){return!1},i.bI=function(){return this.FB.Ca},i.AI=function(){},i.be=function(){this.FB.be()},i.CI=function(){this.FB.CI()},i.TI=function(){this.FB.TI()},i.kI=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.FB.kI()];case 1:return n.sent(),[2]}}))}))()},i.DI=function(){throw new y("Recreate media source is not supported on HbbTV")},i.ER=function(t,n){this.FB.Eb(t)},i.xa=function(t,n,i){var r=this;return Zt((function(){var e,u;return Ht(this,(function(s){switch(s.label){case 0:return jo(i),r.Cc=t,u={Aw:Sy.mW,OC:t.src,Dk:t.type,eH:r.iH(t),tI:r.KG,sH:t.crossOrigin,nH:null==(e=n.metadata)?void 0:e.title},[4,r.FB.Dn(u)];case 1:return r.jG=s.sent(),n.textTracks&&r.oH(n.textTracks),Ay(r.nt),[2]}}))}))()},i.ge=function(){this.FB.ge()},i.RI=function(){},i.II=function(){},i.Sa=function(){return this.FB.lH},i.er=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return t.Cc=void 0,t.zG=void 0,t.qG=void 0,t.jG=void 0,[4,t.cH.er()];case 1:return n.sent(),t.FB.fH(),[4,t.FB.er()];case 2:return n.sent(),[2]}}))}))()},i.gn=function(){var t=this;return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,t.er()];case 1:return n.sent(),t._H.gn(),t.FB.fn(ett,t.Ds),t.FB.fn(zp.da,t.SH),[4,t.FB.Hw()];case 2:return n.sent(),t.vn.gn(),t.Ll.gn(),[4,t.cH.gn()];case 3:return n.sent(),[2]}}))}))()},i.MH=function(t,n){this.zG||(this.zG=n,this.qG=t,this.wo(new Ek(t)))},i.oH=function(t){for(var n=0;n<t.length;n++){var i=t[n];void 0!==i.src&&this.cH.aW(i)}},i.iH=function(t){if(!t.contentProtection)return[];var n=[];return t.contentProtection.widevine&&n.push({aT:Ms,xG:t.contentProtection.widevine.licenseAcquisitionURL,EH:[]}),t.contentProtection.playready&&n.push({aT:Ps,xG:t.contentProtection.playready.licenseAcquisitionURL,EH:[]}),this.fbe(n,t.contentProtection.preferredKeySystems)},i.fbe=function(t,n){if(void 0===n||0===n.length)return t;var i=function(t){var i=n.indexOf(t.aT.xw);return i>=0?i:n.length};return eo(t,(function(t,n){return i(t)-i(n)}))},xt(n,[{key:"ht",get:function(){return this.FB.ht}},{key:"gR",get:function(){return this.FB.gR.ks()}},{key:"qB",get:function(){}},{key:"wR",get:function(){return this.FB.wR},set:function(t){t&&this.FB.ZG(t)}},{key:"bt",get:function(){return this.Cc}},{key:"SR",get:function(){return this.FB.SR},set:function(t){this.FB.Eb(t)}},{key:"$G",get:function(){return this.tH}},{key:"ct",get:function(){return this.FB.ct}},{key:"RR",get:function(){return this.FB.RR}},{key:"DR",get:function(){return this.qG}},{key:"lt",get:function(){return this.zG}},{key:"MR",get:function(){}},{key:"OR",get:function(){return!1}},{key:"yI",get:function(){return this.FB.yI},set:function(t){this.FB.yI=t}},{key:"pI",get:function(){return this.mZ}},{key:"WR",get:function(){return us({},{dO:0,fO:0,_O:0,vO:0,mO:0,gO:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.FB.UR())}},{key:"GR",get:function(){return this.FB.GR},set:function(t){this.FB.GR=t}},{key:"XR",get:function(){return!0}},{key:"qR",get:function(){return this.FB.qR}},{key:"KR",get:function(){return this.FB.KR},set:function(t){this.FB.KR=t}},{key:"JR",get:function(){return this.FB.JR.ks()}},{key:"tI",get:function(){return this.KG},set:function(t){this.KG=t,this.jG&&(this.jG.tI=t)}},{key:"sI",get:function(){return this.FB.sI}},{key:"rI",get:function(){return this.FB.rI.ks()}},{key:"hI",get:function(){return this.FB.hI}},{key:"QG",get:function(){return this.FB.QG}},{key:"nt",get:function(){return this.Ll}},{key:"cI",get:function(){return this.FB.cI}},{key:"rt",get:function(){return this.FB.rt}},{key:"fI",get:function(){return this.FB.fI}},{key:"vI",get:function(){return this.FB.vI},set:function(t){this.FB.vI=t}}]),n}(oa),stt=function(){function t(){this.VH=Nk.uG}var n=t.prototype;return n.hP=function(t,n,i,r,e,u,s,o){return new utt(t,i,u,s)},n.BH=function(t,n){var i;return!(!Gn.Lm||t.type!==pA.YC&&!$A(t.type)&&!tT(t.type))&&!(Pi()&&!(null==(i=t.contentProtection)?void 0:i.useOipfDrmAgent)&&(!t.contentProtection||no()))},n.OH=function(t){return Zt((function(){return Ht(this,(function(n){switch(n.label){case 0:return[4,N_(t,!0)];case 1:return n.sent()?[2,!0]:[2,!1]}}))}))()},n.FH=function(){return!1},t}();KT(new stt),U(),St(),U(),St(),U(),St();var ott=[];function att(t){ott.push(t)}var ctt=[];function htt(t){ctt.push(t)}U(),St(),Dt(),Ct(),U(),St(),on(),U(),St(),U(),St();var ftt=void 0!==f?f:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},vtt=void 0!==v?v:{createElement:function(){}};function ltt(t,n){return n||(n=t.slice(0)),t.raw=n,t}var dtt=1;function gtt(){return dtt++}var mtt,wtt=k.prototype.toString,ptt=function(t){return btt(t)?k.keys(t):[]};function ytt(t,n){ptt(t).forEach((function(i){return n(t[i],i)}))}function _tt(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return k.assign?k.assign.apply(k,[t].concat(i)):(i.forEach((function(n){n&&ytt(n,(function(n,i){t[i]=n}))})),t)}function btt(t){return!!t&&"object"==typeof t}function ktt(t){return btt(t)&&"[object Object]"===wtt.call(t)&&t.constructor===k}var Att=function(t,n,i){void 0===i&&(i=!!bnt&&bnt<11),"log"!==t&&n.unshift(t.toUpperCase()+":"),mtt.history.push(n),n.unshift("VIDEOJS:");var r=ftt.console&&ftt.console[t];r&&(i&&(n=n.map((function(t){if(btt(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(n){return String(t)}return String(t)})).join(" ")),r.apply?r[Array.isArray(n)?"apply":"call"](ftt.console,n):r(n))};mtt=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];Att("log",n)},mtt.history=[],mtt.error=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Att("error",n)},mtt.warn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Att("warn",n)};var Ttt=mtt,Stt="undefined"!=typeof globalThis?globalThis:void 0!==f?f:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ett(t){return t.replace(/\n\r?\s*/g,"")}var Itt,Rtt=function(t){for(var n="",i=0;i<arguments.length;i++)n+=Ett(t[i])+(arguments[i+1]||"");return n};function Ctt(t){return"string"==typeof t&&/\S/.test(t)}function Ntt(t){if(/\s/.test(t))throw new y("class has illegal whitespace characters")}function xtt(){return vtt===ftt.document&&void 0!==vtt.createElement}function Dtt(t){return btt(t)&&1===t.nodeType}function Ptt(t){return function(n,i){if(!Ctt(n))return vtt[t](null);Ctt(i)&&(i=vtt.querySelector(i));var r=Dtt(i)?i:vtt;return r[t]&&r[t](n)}}function Mtt(t,n,i,r){void 0===t&&(t="div"),void 0===n&&(n={}),void 0===i&&(i={});var e=vtt.createElement(t);return k.getOwnPropertyNames(n).forEach((function(t){var i=n[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(Ttt.warn(Rtt(Itt||(Itt=ltt(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."])),t,i)),e.setAttribute(t,i)):"textContent"===t?Btt(e,i):e[t]=i})),k.getOwnPropertyNames(i).forEach((function(t){e.setAttribute(t,i[t])})),r&&tnt(e,r),e}function Btt(t,n){return void 0===t.textContent?t.innerText=n:t.textContent=n,t}function Ott(t,n){n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)}var Ltt={},Ftt="vdata"+(new Date).getTime();function Vtt(t){var n=t[Ftt];return n||(n=t[Ftt]=gtt()),Ltt[n]||(Ltt[n]={}),Ltt[n]}function Utt(t){var n=t[Ftt];return!!n&&!!k.getOwnPropertyNames(Ltt[n]).length}function Wtt(t){var n=t[Ftt];if(n){delete Ltt[n];try{delete t[Ftt]}catch(n){t.removeAttribute?t.removeAttribute(Ftt):t[Ftt]=null}}}function jtt(t,n){return Ntt(n),t.classList?t.classList.contains(n):function(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}(n).test(t.className)}function Ztt(t,n){return t.classList?t.classList.add(n):jtt(t,n)||(t.className=(t.className+" "+n).trim()),t}function Xtt(t,n){return t.classList?t.classList.remove(n):(Ntt(n),t.className=t.className.split(/\s+/).filter((function(t){return t!==n})).join(" ")),t}function Gtt(t,n,i){var r=jtt(t,n);if("function"==typeof i&&(i=i(t,n)),"boolean"!=typeof i&&(i=!r),i!==r)return i?Ztt(t,n):Xtt(t,n),t}function Htt(t,n){k.getOwnPropertyNames(n).forEach((function(i){var r=n[i];null==r||!1===r?t.removeAttribute(i):t.setAttribute(i,!0===r?"":r)}))}function ztt(t){var n={};if(t&&t.attributes&&t.attributes.length>0)for(var i=t.attributes,r=i.length-1;r>=0;r--){var e=i[r].name,u=i[r].value;"boolean"!=typeof t[e]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+e+",")||(u=null!==u),n[e]=u}return n}function Ytt(t,n,i){t.setAttribute(n,i)}function Ktt(t,n){t.removeAttribute(n)}function qtt(t){var n;if(t.getBoundingClientRect&&t.parentNode&&(n=t.getBoundingClientRect()),!n)return{left:0,top:0};var i=vtt.documentElement,r=vtt.body,e=i.clientLeft||r.clientLeft||0,u=ftt.pageXOffset||r.scrollLeft,s=n.left+u-e,o=i.clientTop||r.clientTop||0,a=ftt.pageYOffset||r.scrollTop,c=n.top+a-o;return{left:A.round(s),top:A.round(c)}}function Jtt(t,n){var i={},r=qtt(t),e=t.offsetWidth,u=t.offsetHeight,s=r.top,o=r.left,a=n.pageY,c=n.pageX;return n.changedTouches&&(c=n.changedTouches[0].pageX,a=n.changedTouches[0].pageY),i.y=A.max(0,A.min(1,(s-a+u)/u)),i.x=A.max(0,A.min(1,(c-o)/e)),i}function Qtt(t){return btt(t)&&3===t.nodeType}function $tt(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function tnt(t,n){return function(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return"function"==typeof t&&(t=t()),Dtt(t)||Qtt(t)?t:"string"==typeof t&&/\S/.test(t)?vtt.createTextNode(t):void 0})).filter((function(t){return t}))}(n).forEach((function(n){return t.appendChild(n)})),t}function nnt(t,n){return tnt($tt(t),n)}var int=Ptt("querySelector"),rnt=Ptt("querySelectorAll"),ent=ftt.navigator&&ftt.navigator.userAgent||"",unt=/AppleWebKit\/([\d.]+)/i.exec(ent),snt=unt?S(unt.pop()):null,ont=/iPad/i.test(ent),ant=/iPhone/i.test(ent)&&!ont,cnt=/iPod/i.test(ent),hnt=ant||ont||cnt,fnt=function(){var t=ent.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),vnt=/Android/i.test(ent),lnt=function(){var t=ent.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var n=t[1]&&S(t[1]),i=t[2]&&S(t[2]);return n&&i?S(t[1]+"."+t[2]):n||null}(),dnt=vnt&&/webkit/i.test(ent)&&lnt<2.3,gnt=vnt&&lnt<5&&snt<537,mnt=/Firefox/i.test(ent),wnt=/Edge/i.test(ent),pnt=!wnt&&/Chrome/i.test(ent),ynt=function(){var t=ent.match(/Chrome\/(\d+)/);return t&&t[1]?S(t[1]):null}(),_nt=/MSIE\s8\.0/.test(ent),bnt=function(){var t=/MSIE\s(\d+)\.\d/.exec(ent),n=t&&S(t[1]);return!n&&/Trident\/7.0/i.test(ent)&&/rv:11.0/.test(ent)&&(n=11),n}(),knt=/Safari/i.test(ent)&&!pnt&&!vnt&&!wnt,Ant=knt||hnt,Tnt=xtt()&&("ontouchstart"in ftt||ftt.DocumentTouch&&ftt.document instanceof ftt.DocumentTouch),Snt=xtt()&&"backgroundSize"in ftt.document.createElement("video").style,Ent=k.freeze({__proto__:null,IS_IPAD:ont,IS_IPHONE:ant,IS_IPOD:cnt,IS_IOS:hnt,IOS_VERSION:fnt,IS_ANDROID:vnt,ANDROID_VERSION:lnt,IS_OLD_ANDROID:dnt,IS_NATIVE_ANDROID:gnt,IS_FIREFOX:mnt,IS_EDGE:wnt,IS_CHROME:pnt,CHROME_VERSION:ynt,IS_IE8:_nt,IE_VERSION:bnt,IS_SAFARI:knt,IS_ANY_SAFARI:Ant,TOUCH_ENABLED:Tnt,BACKGROUND_SIZE_SUPPORTED:Snt});function Int(t,n){var i=Vtt(t);0===i.handlers[n].length&&(delete i.handlers[n],t.removeEventListener?t.removeEventListener(n,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+n,i.dispatcher)),k.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===k.getOwnPropertyNames(i).length&&Wtt(t)}function Rnt(t,n,i,r){i.forEach((function(i){t(n,i,r)}))}function Cnt(t){function n(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var r=t||ftt.event;for(var e in t={},r)"layerX"!==e&&"layerY"!==e&&"keyLocation"!==e&&"webkitMovementX"!==e&&"webkitMovementY"!==e&&"path"!==e&&("returnValue"===e&&r.preventDefault||(t[e]=r[e]));if(t.target||(t.target=t.srcElement||vtt),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,r.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,r.cancelBubble=!0,t.isPropagationStopped=n},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=n,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX){var u=vtt.documentElement,s=vtt.body;t.pageX=t.clientX+(u&&u.scrollLeft||s&&s.scrollLeft||0)-(u&&u.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(u&&u.scrollTop||s&&s.scrollTop||0)-(u&&u.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var Nnt=!1;!function(){try{var t=k.defineProperty({},"passive",{get:function(){Nnt=!0}});ftt.addEventListener("test",null,t)}catch(t){}}();var xnt=["touchstart","touchmove"];function Dnt(t,n,i){if(Array.isArray(n))return Rnt(Dnt,t,n,i);var r=Vtt(t);if(r.handlers||(r.handlers={}),r.handlers[n]||(r.handlers[n]=[]),i.guid||(i.guid=gtt()),r.handlers[n].push(i),r.dispatcher||(r.disabled=!1,r.dispatcher=function(n,i){if(!r.disabled){n=Cnt(n);var e=r.handlers[n.type];if(e)for(var u=e.slice(0),s=0,o=u.length;s<o&&!n.isImmediatePropagationStopped();s++)try{u[s].call(t,n,i)}catch(t){Ttt.error(t)}}}),1===r.handlers[n].length)if(t.addEventListener){var e=!1;Nnt&&xnt.indexOf(n)>-1&&(e={passive:!0}),t.addEventListener(n,r.dispatcher,e)}else t.attachEvent&&t.attachEvent("on"+n,r.dispatcher)}function Pnt(t,n,i){if(Utt(t)){var r=Vtt(t);if(r.handlers){if(Array.isArray(n))return Rnt(Pnt,t,n,i);var e=function(n){r.handlers[n]=[],Int(t,n)};if(n){var u=r.handlers[n];if(u)if(i){if(i.guid)for(var s=0;s<u.length;s++)u[s].guid===i.guid&&u.splice(s--,1);Int(t,n)}else e(n)}else for(var o in r.handlers)e(o)}}}function Mnt(t,n,i){var r=Utt(t)?Vtt(t):{},e=t.parentNode||t.ownerDocument;if("string"==typeof n&&(n={type:n,target:t}),n=Cnt(n),r.dispatcher&&r.dispatcher.call(t,n,i),e&&!n.isPropagationStopped()&&!0===n.bubbles)Mnt.call(null,e,n,i);else if(!e&&!n.defaultPrevented){var u=Vtt(n.target);n.target[n.type]&&(u.disabled=!0,"function"==typeof n.target[n.type]&&n.target[n.type](),u.disabled=!1)}return!n.defaultPrevented}function Bnt(t,n,i){if(Array.isArray(n))return Rnt(Bnt,t,n,i);var r=function r(){Pnt(t,n,r),i.apply(this,arguments)};r.guid=i.guid=i.guid||gtt(),Dnt(t,n,r)}var Ont,Lnt=!1,Fnt=function(){if(xtt()){var t=vtt.getElementsByTagName("video"),n=vtt.getElementsByTagName("audio"),i=[];if(t&&t.length>0)for(var r=0,e=t.length;r<e;r++)i.push(t[r]);if(n&&n.length>0)for(var u=0,s=n.length;u<s;u++)i.push(n[u]);if(i&&i.length>0)for(var o=0,a=i.length;o<a;o++){var c=i[o];if(!c||!c.getAttribute){Vnt(1);break}void 0===c.player&&null!==c.getAttribute("data-setup")&&Ont(c)}else Lnt||Vnt(1)}};function Vnt(t,n){n&&(Ont=n),ftt.setTimeout(Fnt,t)}xtt()&&"complete"===vtt.readyState?Lnt=!0:Bnt(ftt,"load",(function(){Lnt=!0}));var Unt=function(t){var n=vtt.createElement("style");return n.className=t,n},Wnt=function(t,n){t.styleSheet?t.styleSheet.cssText=n:t.textContent=n},jnt=function(t,n,i){n.guid||(n.guid=gtt());var r=function(){return n.apply(t,arguments)};return r.guid=i?i+"_"+n.guid:n.guid,r};function Znt(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function Xnt(){for(var t={},n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return i.forEach((function(n){n&&ytt(n,(function(n,i){ktt(n)?(ktt(t[i])||(t[i]={}),t[i]=Xnt(t[i],n)):t[i]=n}))})),t}var Gnt=function(){function t(t,n,i){if(!t&&this.play?this.t=t=this:this.t=t,this.h=Xnt({},this.h),n=this.h=Xnt(this.h,n),this.o=n.id||n.el&&n.el.id,!this.o){var r=t&&t.id&&t.id()||"no_player";this.o=r+"u"+gtt()}this.l=n.name||null,n.el?this.v=n.el:!1!==n.createEl&&(this.v=this.createEl()),this.m=[],this.k={},this.C={},!1!==n.initChildren&&this.initChildren(),this.ready(i),!1!==n.reportTouchActivity&&this.enableTouchActivity()}var n=t.prototype;return n.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.m)for(var t=this.m.length-1;t>=0;t--)this.m[t].dispose&&this.m[t].dispose();this.m=null,this.k=null,this.C=null,this.off(),this.v.parentNode&&this.v.parentNode.removeChild(this.v),Wtt(this.v),this.v=null},n.player=function(){return this.t},n.options=function(t){return Ttt.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.h=Xnt(this.h,t),this.h):this.h},n.el=function(){return this.v},n.createEl=function(t,n,i){return Mtt(t,n,i)},n.localize=function(t){var n=this.t.language&&this.t.language(),i=this.t.languages&&this.t.languages();if(!n||!i)return t;var r=i[n];if(r&&r[t])return r[t];var e=i[n.split("-")[0]];return e&&e[t]?e[t]:t},n.contentEl=function(){return this.S||this.v},n.id=function(){return this.o},n.name=function(){return this.l},n.children=function(){return this.m},n.getChildById=function(t){return this.k[t]},n.getChild=function(t){if(t)return t=Znt(t),this.C[t]},n.addChild=function(n,i,r){var e,u;if(void 0===i&&(i={}),void 0===r&&(r=this.m.length),"string"==typeof n){u=Znt(n),i||(i={}),!0===i&&(Ttt.warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),i={});var s=i.componentClass||u;i.name=u;var o=t.getComponent(s);if(!o)throw new y("Component "+s+" does not exist");if("function"!=typeof o)return null;e=new o(this.t||this,i)}else e=n;if(this.m.splice(r,0,e),"function"==typeof e.id&&(this.k[e.id()]=e),(u=u||e.name&&Znt(e.name()))&&(this.C[u]=e),"function"==typeof e.el&&e.el()){var a=this.contentEl().children[r]||null;this.contentEl().insertBefore(e.el(),a)}return e},n.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.m){for(var n=!1,i=this.m.length-1;i>=0;i--)if(this.m[i]===t){n=!0,this.m.splice(i,1);break}if(n){this.k[t.id()]=null,this.C[t.name()]=null;var r=t.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},n.initChildren=function(){var n=this,i=this.h.children;if(i){var r,e=this.h,u=t.getComponent("Tech");(r=Array.isArray(i)?i:k.keys(i)).concat(k.keys(this.h).filter((function(t){return!r.some((function(n){return"string"==typeof n?t===n:t===n.name}))}))).map((function(t){var r,e;return"string"==typeof t?e=i[r=t]||n.h[r]||{}:(r=t.name,e=t),{name:r,opts:e}})).filter((function(n){var i=t.getComponent(n.opts.componentClass||Znt(n.name));return i&&!u.isTech(i)})).forEach((function(t){var i=t.name,r=t.opts;if(void 0!==e[i]&&(r=e[i]),!1!==r){!0===r&&(r={}),r.playerOptions=n.h.playerOptions;var u=n.addChild(i,r);u&&(n[i]=u)}}))}},n.buildCSSClass=function(){return""},n.on=function(t,n,i){var r=this;if("string"==typeof t||Array.isArray(t))Dnt(this.v,t,jnt(this,n));else{var e=t,u=n,s=jnt(this,i),o=function(){return r.off(e,u,s)};o.guid=s.guid,this.on("dispose",o);var a=function(){return r.off("dispose",o)};a.guid=s.guid,t.nodeName?(Dnt(e,u,s),Dnt(e,"dispose",a)):"function"==typeof t.on&&(e.on(u,s),e.on("dispose",a))}return this},n.off=function(t,n,i){if(!t||"string"==typeof t||Array.isArray(t))Pnt(this.v,t,n);else{var r=t,e=n,u=jnt(this,i);this.off("dispose",u),t.nodeName?(Pnt(r,e,u),Pnt(r,"dispose",u)):(r.off(e,u),r.off("dispose",u))}return this},n.one=function(t,n,i){var r=arguments,e=this;if("string"==typeof t||Array.isArray(t))Bnt(this.v,t,jnt(this,n));else{var u=t,s=n,o=jnt(this,i),a=function t(){e.off(u,s,t),o.apply(null,r)};a.guid=o.guid,this.on(u,s,a)}return this},n.trigger=function(t,n){return Mnt(this.v,t,n),this},n.ready=function(t,n){return void 0===n&&(n=!1),t&&(this.j?n?t.call(this):this.setTimeout(t,1):(this.T=this.T||[],this.T.push(t))),this},n.triggerReady=function(){this.j=!0,this.setTimeout((function(){var t=this.T;this.T=[],t&&t.length>0&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},n.$=function(t,n){return int(t,n||this.contentEl())},n.$$=function(t,n){return rnt(t,n||this.contentEl())},n.hasClass=function(t){return jtt(this.v,t)},n.addClass=function(t){return Ztt(this.v,t),this},n.removeClass=function(t){return Xtt(this.v,t),this},n.toggleClass=function(t,n){return Gtt(this.v,t,n),this},n.show=function(){return this.removeClass("vjs-hidden"),this},n.hide=function(){return this.addClass("vjs-hidden"),this},n.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},n.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},n.getAttribute=function(t){return function(t,n){return t.getAttribute(n)}(this.v,t)},n.setAttribute=function(t,n){return Ytt(this.v,t,n),this},n.removeAttribute=function(t){return Ktt(this.v,t),this},n.width=function(t,n){return this.dimension("width",t,n)},n.height=function(t,n){return this.dimension("height",t,n)},n.dimensions=function(t,n){return this.width(t,!0).height(n)},n.dimension=function(t,n,i){if(void 0!==n)return null!==n&&n==n||(n=0),-1!==(""+n).indexOf("%")||-1!==(""+n).indexOf("px")?this.v.style[t]=n:this.v.style[t]="auto"===n?"":n+"px",i||this.trigger("resize"),this;if(!this.v)return 0;var r=this.v.style[t],e=r.indexOf("px");return T(-1!==e?r.slice(0,e):this.v["offset"+Znt(t)],10)},n.currentDimension=function(t){var n=0;if("width"!==t&&"height"!==t)throw new y("currentDimension only accepts width or height value");if("function"==typeof ftt.getComputedStyle){var i=ftt.getComputedStyle(this.v);n=i.getPropertyValue(t)||i[t]}if(0===(n=S(n))){var r="offset"+Znt(t);n=this.v[r]}return n},n.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},n.currentWidth=function(){return this.currentDimension("width")},n.currentHeight=function(){return this.currentDimension("height")},n.focus=function(){this.v.focus()},n.blur=function(){this.v.blur()},n.emitTapEvents=function(){var t,n=0,i=null;this.on("touchstart",(function(r){1===r.touches.length&&(i={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},n=(new Date).getTime(),t=!0)})),this.on("touchmove",(function(n){if(n.touches.length>1)t=!1;else if(i){var r=n.touches[0].pageX-i.pageX,e=n.touches[0].pageY-i.pageY;A.sqrt(r*r+e*e)>10&&(t=!1)}}));var r=function(){t=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",(function(r){(i=null,!0===t)&&((new Date).getTime()-n<200&&(r.preventDefault(),this.trigger("tap")))}))},n.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,n=jnt(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){n(),this.clearInterval(t),t=this.setInterval(n,250)}));var i=function(i){n(),this.clearInterval(t)};this.on("touchmove",n),this.on("touchend",i),this.on("touchcancel",i)}},n.setTimeout=function(t,n){t=jnt(this,t);var i=ftt.setTimeout(t,n),r=function(){this.clearTimeout(i)};return r.guid="vjs-timeout-"+i,this.on("dispose",r),i},n.clearTimeout=function(t){ftt.clearTimeout(t);var n=function(){};return n.guid="vjs-timeout-"+t,this.off("dispose",n),t},n.setInterval=function(t,n){t=jnt(this,t);var i=ftt.setInterval(t,n),r=function(){this.clearInterval(i)};return r.guid="vjs-interval-"+i,this.on("dispose",r),i},n.clearInterval=function(t){ftt.clearInterval(t);var n=function(){};return n.guid="vjs-interval-"+t,this.off("dispose",n),t},t.registerComponent=function(n,i){if(n){if(n=Znt(n),t.M||(t.M={}),"Player"===n&&t.M[n]){var r=t.M[n];if(r.players&&k.keys(r.players).length>0&&k.keys(r.players).map((function(t){return r.players[t]})).every(Boolean))throw new y("Can not register Player component after player has been created")}return t.M[n]=i,i}},t.getComponent=function(n){if(n)return n=Znt(n),t.M&&t.M[n]?t.M[n]:ftt&&ftt.videojs&&ftt.videojs[n]?(Ttt.warn("The "+n+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),ftt.videojs[n]):void 0},t.extend=function(n){n=n||{},Ttt.warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var i=n.init||n.init||this.prototype.init||this.prototype.init||function(){},r=function(){i.apply(this,arguments)};for(var e in(r.prototype=k.create(this.prototype)).constructor=r,r.extend=t.extend,n)n.hasOwnProperty(e)&&(r.prototype[e]=n[e]);return r},t}();Gnt.registerComponent("Component",Gnt);var Hnt=function(){};function znt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ynt(t,n){return(Ynt=k.setPrototypeOf?k.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t})(t,n)}function Knt(t,n){t.prototype=k.create(n.prototype),t.prototype.constructor=t,Ynt(t,n)}function qnt(t,n,i,r){return void 0===r&&(Ttt.warn("DEPRECATED: Function '"+t+"' on 'TimeRanges' called without an index argument."),r=0),function(t,n,i){if(n<0||n>i)throw new y("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+n+") is greater than or equal to the maximum bound ("+i+").")}(t,r,i.length-1),i[r][n]}function Jnt(t){return void 0===t||0===t.length?{length:0,start:function(){throw new y("This TimeRanges object is empty")},end:function(){throw new y("This TimeRanges object is empty")}}:{length:t.length,start:qnt.bind(null,"start",0,t),end:qnt.bind(null,"end",1,t)}}function Qnt(t,n){return Array.isArray(t)?Jnt(t):void 0===t||void 0===n?Jnt():Jnt([[t,n]])}function $nt(t,n){var i,r,e=0;if(!n)return 0;t&&t.length||(t=Qnt(0,0));for(var u=0;u<t.length;u++)i=t.start(u),(r=t.end(u))>n&&(r=n),e+=r-i;return e/n}Hnt.prototype.A={},Hnt.prototype.on=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},Dnt(this,t,n),this.addEventListener=i},Hnt.prototype.addEventListener=Hnt.prototype.on,Hnt.prototype.off=function(t,n){Pnt(this,t,n)},Hnt.prototype.removeEventListener=Hnt.prototype.off,Hnt.prototype.one=function(t,n){var i=this.addEventListener;this.addEventListener=function(){},Bnt(this,t,n),this.addEventListener=i},Hnt.prototype.trigger=function(t){var n=t.type||t;"string"==typeof t&&(t={type:n}),t=Cnt(t),this.A[n]&&this["on"+n]&&this["on"+n](t),Mnt(this,t)},Hnt.prototype.dispatchEvent=Hnt.prototype.trigger;var tit,nit,iit,rit,eit={prefixed:!0},uit=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],sit=uit[0];for(nit=0;nit<uit.length;nit++)if(uit[nit][1]in vtt){tit=uit[nit];break}if(tit){for(iit=0;iit<tit.length;iit++)eit[sit[iit]]=tit[iit];eit.prefixed=tit[0]!==sit[0]}function oit(t){if(t instanceof oit)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:btt(t)&&("number"==typeof t.code&&(this.code=t.code),_tt(this,t)),this.message||(this.message=oit.defaultMessages[this.code]||"")}for(oit.prototype.code=0,oit.prototype.message="",oit.prototype.status=null,oit.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],oit.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},rit=0;rit<oit.errorTypes.length;rit++)oit[oit.errorTypes[rit]]=rit,oit.prototype[oit.errorTypes[rit]]=rit;var ait=function(t,n){var i,r=null;try{i=JSON.parse(t,n)}catch(t){r=t}return[r,i]};var cit=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(n,i,r){return t[i]&&(n[i]=t[i]),n}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))})},hit=function(t){var n=t.$$("track"),i=Array.prototype.map.call(n,(function(t){return t.track}));return Array.prototype.map.call(n,(function(t){var n=cit(t.track);return t.src&&(n.src=t.src),n})).concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===i.indexOf(t)})).map(cit))},fit=function(t,n){return t.forEach((function(t){var i=n.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return i.addCue(t)}))})),n.textTracks()},vit="vjs-modal-dialog",lit=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).P=r.N=r.I=!1,r.closeable(!r.h.uncloseable),r.content(r.h.content),r.S=Mtt("div",{className:vit+"-content"},{role:"document"}),r.B=Mtt("p",{className:vit+"-description vjs-offscreen",id:r.el().getAttribute("aria-describedby")}),Btt(r.B,r.description()),r.v.appendChild(r.B),r.v.appendChild(r.S),r.on(n,"languagechange",r.handleLanguagechange),r}Knt(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"F","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.buildCSSClass=function(){return vit+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},i.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},i.label=function(){return this.h.label||this.localize("Modal Window")},i.description=function(){var t=this.h.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},i.open=function(){if(!this.P){var t=this.player();this.trigger("beforemodalopen"),this.P=!0,(this.h.fillAlways||!this.N&&!this.I)&&this.fill(),this.D=!t.paused(),this.h.pauseOnOpen&&this.D&&t.pause(),this.closeable()&&this.on(this.v.ownerDocument,"keydown",jnt(this,this.handleKeyPress)),t.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.N=!0}return this},i.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.P},i.close=function(){if(this.P){var t=this.player();this.trigger("beforemodalclose"),this.P=!1,this.D&&this.h.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.v.ownerDocument,"keydown",jnt(this,this.handleKeyPress)),t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.h.temporary&&this.dispose()}return this},i.closeable=function(t){if("boolean"==typeof t){var n=this.R=!!t,i=this.getChild("closeButton");if(n&&!i){var r=this.S;this.S=this.v,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.S=r,this.on(i,"close",this.close)}!n&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.R},i.fill=function(){return this.fillWith(this.content())},i.fillWith=function(t){var n=this.contentEl(),i=n.parentNode,r=n.nextSibling;return this.trigger("beforemodalfill"),this.I=!0,i.removeChild(n),this.empty(),nnt(n,t),this.trigger("modalfill"),r?i.insertBefore(n,r):i.appendChild(n),this},i.empty=function(){return this.trigger("beforemodalempty"),$tt(this.contentEl()),this.trigger("modalempty"),this},i.content=function(t){return void 0!==t&&(this.U=t),this.U},i.handleLanguagechange=function(){this.v.setAttribute("aria-label",this.label()),Btt(this.B,this.description()),this.opened()?this.fill():(this.N||this.I)&&(this.N=!1,this.I=!1,this.empty())},n}(Gnt);lit.prototype.h={pauseOnOpen:!0,temporary:!0},Gnt.registerComponent("ModalDialog",lit);var dit=function(){function t(n){var i=this;if(_nt)for(var r in i=vtt.createElement("custom"),t.prototype)"constructor"!==r&&(i[r]=t.prototype[r]);if(t.prototype.O.call(i,n),k.defineProperty(i,"length",{get:function(){return this.V}}),_nt)return i}var n=t.prototype;return n.O=function(t){var n=this.length||0,i=0,r=t.length;this.L=t,this.V=t.length;var e=function(t){""+t in this||k.defineProperty(this,""+t,{get:function(){return this.L[t]}})};if(n<r)for(i=n;i<r;i++)e.call(this,i)},n.getCueById=function(t){for(var n=null,i=0,r=this.length;i<r;i++){var e=this[i];if(e.id===t){n=e;break}}return n},t}(),git={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},mit={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},wit={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},pit={disabled:"disabled",hidden:"hidden",showing:"showing"},yit=function(t){function n(i){var r;void 0===i&&(i={});var e=znt(r=t.call(this)||this);if(_nt)for(var u in e=vtt.createElement("custom"),n.prototype)"constructor"!==u&&(e[u]=n.prototype[u]);var s={id:i.id||["vjs_track",gtt()].join("_"),kind:i.kind||"",label:i.label||"",language:i.language||""},o=function(t){k.defineProperty(e,t,{get:function(){return s[t]},set:function(){}})};for(var a in s)o(a);return e||znt(r)}return Knt(n,t),n}(Hnt),_it=function(t){var n=["protocol","hostname","port","pathname","search","hash","host"],i=vtt.createElement("a");i.href=t;var r,e=""===i.host&&"file:"!==i.protocol;e&&((r=vtt.createElement("div")).innerHTML='<a href="'+t+'"></a>',i=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),vtt.body.appendChild(r));for(var u={},s=0;s<n.length;s++)u[n[s]]=i[n[s]];return"http:"===u.protocol&&(u.host=u.host.replace(/:80$/,"")),"https:"===u.protocol&&(u.host=u.host.replace(/:443$/,"")),e&&vtt.body.removeChild(r),u},bit=function(t){var n=ftt.location,i=_it(t);return(":"===i.protocol?n.protocol:i.protocol)+i.host!==n.protocol+n.host},kit={exports:{}};void 0!==f?kit.exports=f:void 0!==Stt?kit.exports=Stt:"undefined"!=typeof self?kit.exports=self:kit.exports={};var Ait=function(t){var n=Tit.call(t);return"[object Function]"===n||"function"==typeof t&&"[object RegExp]"!==n||void 0!==f&&(t===f.setTimeout||t===f.alert||t===f.confirm||t===f.prompt)},Tit=k.prototype.toString;var Sit,Eit,Iit,Rit,Cit,Nit,xit,Dit,Pit,Mit,Bit,Oit,Lit=Array.prototype.slice,Fit=k.prototype.toString,Vit=function(t){var n=this;if("function"!=typeof n||"[object Function]"!==Fit.call(n))throw new _("Function.prototype.bind called on incompatible "+n);for(var i,r=Lit.call(arguments,1),e=A.max(0,n.length-r.length),u=[],s=0;s<e;s++)u.push("$"+s);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var e=n.apply(this,r.concat(Lit.call(arguments)));return k(e)===e?e:this}return n.apply(t,r.concat(Lit.call(arguments)))})),n.prototype){var o=function(){};o.prototype=n.prototype,i.prototype=new o,o.prototype=null}return i},Uit=Function.prototype.bind||Vit,Wit=k.prototype.toString,jit=function(t){var n=Wit.call(t),i="[object Arguments]"===n;return i||(i="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===Wit.call(t.callee)),i};k.keys||(Eit=k.prototype.hasOwnProperty,Iit=k.prototype.toString,Rit=jit,Cit=k.prototype.propertyIsEnumerable,Nit=!Cit.call({toString:null},"toString"),xit=Cit.call((function(){}),"prototype"),Dit=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Pit=function(t){var n=t.constructor;return n&&n.prototype===t},Mit={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Bit=function(){if(void 0===f)return!1;for(var t in f)try{if(!Mit["$"+t]&&Eit.call(f,t)&&null!==f[t]&&"object"==typeof f[t])try{Pit(f[t])}catch(t){return!0}}catch(t){return!0}return!1}(),Oit=function(t){if(void 0===f||!Bit)return Pit(t);try{return Pit(t)}catch(t){return!1}},Sit=function(t){var n=null!==t&&"object"==typeof t,i="[object Function]"===Iit.call(t),r=Rit(t),e=n&&"[object String]"===Iit.call(t),u=[];if(!n&&!i&&!r)throw new _("Object.keys called on a non-object");var s=xit&&i;if(e&&t.length>0&&!Eit.call(t,0))for(var o=0;o<t.length;++o)u.push(String(o));if(r&&t.length>0)for(var a=0;a<t.length;++a)u.push(String(a));else for(var c in t)s&&"prototype"===c||!Eit.call(t,c)||u.push(String(c));if(Nit)for(var h=Oit(t),f=0;f<Dit.length;++f)h&&"constructor"===Dit[f]||!Eit.call(t,Dit[f])||u.push(Dit[f]);return u});var Zit=Sit,Xit=Array.prototype.slice,Git=jit,Hit=k.keys,zit=Hit?function(t){return Hit(t)}:Zit,Yit=k.keys;zit.shim=function(){if(k.keys){var t=function(){var t=k.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(k.keys=function(t){return Git(t)?Yit(Xit.call(t)):Yit(t)})}else k.keys=zit;return k.keys||zit};var Kit=zit,qit="function"==typeof n&&"symbol"==typeof n("foo"),Jit=k.prototype.toString,Qit=Array.prototype.concat,$it=k.defineProperty,trt=$it&&function(){var t={};try{for(var n in $it(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),nrt=function(t,n,i,r){(!(n in t)||function(t){return"function"==typeof t&&"[object Function]"===Jit.call(t)}(r)&&r())&&(trt?$it(t,n,{configurable:!0,enumerable:!1,value:i,writable:!0}):t[n]=i)},irt=function(t,n){var i=arguments.length>2?arguments[2]:{},r=Kit(n);qit&&(r=Qit.call(r,k.getOwnPropertySymbols(n)));for(var e=0;e<r.length;e+=1)nrt(t,r[e],n[r[e]],i[r[e]])};irt.supportsDescriptors=!!trt;var rrt,ert=irt,urt=k.getOwnPropertyDescriptor?function(){return k.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new _},srt="function"==typeof n&&"symbol"==typeof r,ort=k.getPrototypeOf||function(t){return t.__proto__},art=void 0===I?rrt:ort(I),crt={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?rrt:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?rrt:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":srt?ort([][r]()):rrt,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":rrt,"$ %AsyncFunction%":undefined,"$ %AsyncFunctionPrototype%":rrt,"$ %AsyncGenerator%":rrt,"$ %AsyncGeneratorFunction%":undefined,"$ %AsyncGeneratorPrototype%":rrt,"$ %AsyncIteratorPrototype%":rrt,"$ %Atomics%":"undefined"==typeof Atomics?rrt:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?rrt:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?rrt:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":y,"$ %ErrorPrototype%":y.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?rrt:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?rrt:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?rrt:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?rrt:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":rrt,"$ %GeneratorFunction%":undefined,"$ %GeneratorPrototype%":rrt,"$ %Int8Array%":"undefined"==typeof Int8Array?rrt:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?rrt:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?rrt:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?rrt:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?rrt:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?rrt:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":E,"$ %IteratorPrototype%":srt?ort(ort([][r]())):rrt,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?rrt:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&srt?ort((new Map)[r]()):rrt,"$ %MapPrototype%":"undefined"==typeof Map?rrt:Map.prototype,"$ %Math%":A,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":k,"$ %ObjectPrototype%":k.prototype,"$ %ObjProto_toString%":k.prototype.toString,"$ %ObjProto_valueOf%":k.prototype.valueOf,"$ %parseFloat%":S,"$ %parseInt%":T,"$ %Promise%":void 0===ut?rrt:ut,"$ %PromisePrototype%":void 0===ut?rrt:ut.prototype,"$ %PromiseProto_then%":void 0===ut?rrt:ut.prototype.then,"$ %Promise_all%":void 0===ut?rrt:ut.all,"$ %Promise_reject%":void 0===ut?rrt:ut.reject,"$ %Promise_resolve%":void 0===ut?rrt:ut.resolve,"$ %Proxy%":"undefined"==typeof Proxy?rrt:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?rrt:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?rrt:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&srt?ort((new Set)[r]()):rrt,"$ %SetPrototype%":"undefined"==typeof Set?rrt:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?rrt:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?rrt:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":srt?ort(""[r]()):rrt,"$ %StringPrototype%":String.prototype,"$ %Symbol%":srt?n:rrt,"$ %SymbolPrototype%":srt?n.prototype:rrt,"$ %SyntaxError%":b,"$ %SyntaxErrorPrototype%":b.prototype,"$ %ThrowTypeError%":urt,"$ %TypedArray%":art,"$ %TypedArrayPrototype%":art?art.prototype:rrt,"$ %TypeError%":_,"$ %TypeErrorPrototype%":_.prototype,"$ %Uint8Array%":void 0===I?rrt:I,"$ %Uint8ArrayPrototype%":void 0===I?rrt:I.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?rrt:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?rrt:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?rrt:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?rrt:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?rrt:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?rrt:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?rrt:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?rrt:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?rrt:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?rrt:WeakSet.prototype},hrt=function(t,n){if(arguments.length>1&&"boolean"!=typeof n)throw new _('"allowMissing" argument must be a boolean');var i="$ "+t;if(!(i in crt))throw new b("intrinsic "+t+" does not exist!");if(void 0===crt[i]&&!n)throw new _("intrinsic "+t+" exists, but is not available. Please file an issue!");return crt[i]},frt=Uit.call(Function.call,k.prototype.hasOwnProperty),vrt=hrt,lrt=vrt("%TypeError%"),drt=vrt("%SyntaxError%"),grt=frt,mrt={"Property Descriptor":function(t,n){if("Object"!==t.Type(n))return!1;var i={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in n)if(grt(n,r)&&!i[r])return!1;var e=grt(n,"[[Value]]"),u=grt(n,"[[Get]]")||grt(n,"[[Set]]");if(e&&u)throw new lrt("Property Descriptors may not be both accessor and data descriptors");return!0}},wrt=Number.isNaN||function(t){return t!=t},prt=Number.isNaN||function(t){return t!=t},yrt=Number.isFinite||function(t){return"number"==typeof t&&!prt(t)&&t!==1/0&&t!==-1/0},_rt=Function.prototype.toString,brt=/^\s*class\b/,krt=function(t){try{var n=_rt.call(t);return brt.test(n)}catch(t){return!1}},Art=k.prototype.toString,Trt="function"==typeof n&&"symbol"==typeof n.toStringTag,Srt=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(Trt)return function(t){try{return!krt(t)&&(_rt.call(t),!0)}catch(t){return!1}}(t);if(krt(t))return!1;var n=Art.call(t);return"[object Function]"===n||"[object GeneratorFunction]"===n},Ert=k.prototype.toString,Irt=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t},Rrt=Srt,Crt=function(t){var n;if((n=arguments.length>1?arguments[1]:"[object Date]"===Ert.call(t)?String:Number)===String||n===Number){var i,r,e=n===String?["toString","valueOf"]:["valueOf","toString"];for(r=0;r<e.length;++r)if(Rrt(t[e[r]])&&(i=t[e[r]](),Irt(i)))return i;throw new _("No default value")}throw new _("invalid [[DefaultValue]] hint supplied")},Nrt=hrt,xrt=Nrt("%Object%"),Drt=Nrt("%TypeError%"),Prt=Nrt("%String%"),Mrt=function(t,n,i,r){var e=mrt[n];if("function"!=typeof e)throw new drt("unknown record type: "+n);if(!e(t,r))throw new lrt(i+" must be a "+n);console.log(e(t,r),r)},Brt=wrt,Ort=yrt,Lrt=function(t){return t>=0?1:-1},Frt=function(t,n){var i=t%n;return A.floor(i>=0?i:i+n)},Vrt=function(t){return Irt(t)?t:arguments.length>1?Crt(t,arguments[1]):Crt(t)},Urt=frt,Wrt={ToPrimitive:Vrt,ToBoolean:function(t){return!!t},ToNumber:function(t){return+t},ToInteger:function(t){var n=this.ToNumber(t);return Brt(n)?0:0!==n&&Ort(n)?Lrt(n)*A.floor(A.abs(n)):n},ToInt32:function(t){return this.ToNumber(t)>>0},ToUint32:function(t){return this.ToNumber(t)>>>0},ToUint16:function(t){var n=this.ToNumber(t);if(Brt(n)||0===n||!Ort(n))return 0;var i=Lrt(n)*A.floor(A.abs(n));return Frt(i,65536)},ToString:function(t){return Prt(t)},ToObject:function(t){return this.CheckObjectCoercible(t),xrt(t)},CheckObjectCoercible:function(t,n){if(null==t)throw new Drt(n||"Cannot call method on "+t);return t},IsCallable:Srt,SameValue:function(t,n){return t===n?0!==t||1/t==1/n:Brt(t)&&Brt(n)},Type:function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0},IsPropertyDescriptor:function(t){if("Object"!==this.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var i in t)if(Urt(t,i)&&!n[i])return!1;var r=Urt(t,"[[Value]]"),e=Urt(t,"[[Get]]")||Urt(t,"[[Set]]");if(r&&e)throw new Drt("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(t){return void 0!==t&&(Mrt(this,"Property Descriptor","Desc",t),!(!Urt(t,"[[Get]]")&&!Urt(t,"[[Set]]")))},IsDataDescriptor:function(t){return void 0!==t&&(Mrt(this,"Property Descriptor","Desc",t),!(!Urt(t,"[[Value]]")&&!Urt(t,"[[Writable]]")))},IsGenericDescriptor:function(t){return void 0!==t&&(Mrt(this,"Property Descriptor","Desc",t),!this.IsAccessorDescriptor(t)&&!this.IsDataDescriptor(t))},FromPropertyDescriptor:function(t){if(void 0===t)return t;if(Mrt(this,"Property Descriptor","Desc",t),this.IsDataDescriptor(t))return{value:t["[[Value]]"],writable:!!t["[[Writable]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};if(this.IsAccessorDescriptor(t))return{get:t["[[Get]]"],set:t["[[Set]]"],enumerable:!!t["[[Enumerable]]"],configurable:!!t["[[Configurable]]"]};throw new Drt("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(t){if("Object"!==this.Type(t))throw new Drt("ToPropertyDescriptor requires an object");var n={};if(Urt(t,"enumerable")&&(n["[[Enumerable]]"]=this.ToBoolean(t.enumerable)),Urt(t,"configurable")&&(n["[[Configurable]]"]=this.ToBoolean(t.configurable)),Urt(t,"value")&&(n["[[Value]]"]=t.value),Urt(t,"writable")&&(n["[[Writable]]"]=this.ToBoolean(t.writable)),Urt(t,"get")){var i=t.get;if(void 0!==i&&!this.IsCallable(i))throw new _("getter must be a function");n["[[Get]]"]=i}if(Urt(t,"set")){var r=t.set;if(void 0!==r&&!this.IsCallable(r))throw new Drt("setter must be a function");n["[[Set]]"]=r}if((Urt(n,"[[Get]]")||Urt(n,"[[Set]]"))&&(Urt(n,"[[Value]]")||Urt(n,"[[Writable]]")))throw new Drt("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return n}},jrt=Uit.call(Function.call,String.prototype.replace),Zrt=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,Xrt=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,Grt=function(){var t=Wrt.ToString(Wrt.CheckObjectCoercible(this));return jrt(jrt(t,Zrt,""),Xrt,"")},Hrt=Grt,zrt=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()?String.prototype.trim:Hrt},Yrt=ert,Krt=zrt,qrt=ert,Jrt=Grt,Qrt=zrt,$rt=function(){var t=Krt();return Yrt(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t},tet=Uit.call(Function.call,Qrt());qrt(tet,{getPolyfill:Qrt,implementation:Jrt,shim:$rt});var net=tet,iet=Srt,ret=k.prototype.toString,eet=k.prototype.hasOwnProperty,uet=function(t,n,i){if(!iet(n))throw new _("iterator must be a function");var r;arguments.length>=3&&(r=i),"[object Array]"===ret.call(t)?function(t,n,i){for(var r=0,e=t.length;r<e;r++)eet.call(t,r)&&(null==i?n(t[r],r,t):n.call(i,t[r],r,t))}(t,n,r):"string"==typeof t?function(t,n,i){for(var r=0,e=t.length;r<e;r++)null==i?n(t.charAt(r),r,t):n.call(i,t.charAt(r),r,t)}(t,n,r):function(t,n,i){for(var r in t)eet.call(t,r)&&(null==i?n(t[r],r,t):n.call(i,t[r],r,t))}(t,n,r)},set=net,oet=uet,aet=function(){for(var t={},n=0;n<arguments.length;n++){var i=arguments[n];for(var r in i)cet.call(i,r)&&(t[r]=i[r])}return t},cet=k.prototype.hasOwnProperty;var het=kit.exports,fet=Ait,vet=function(t){if(!t)return{};var n={};return oet(set(t).split("\n"),(function(t){var i=t.indexOf(":"),r=set(t.slice(0,i)).toLowerCase(),e=set(t.slice(i+1));void 0===n[r]?n[r]=e:!function(t){return"[object Array]"===k.prototype.toString.call(t)}(n[r])?n[r]=[n[r],e]:n[r].push(e)})),n},det=aet,get=wet;function met(t,n,i){var r=t;return fet(n)?(i=n,"string"==typeof t&&(r={uri:t})):r=det(n,{uri:t}),r.callback=i,r}function wet(t,n,i){return pet(n=met(t,n,i))}function pet(t){if(void 0===t.callback)throw new y("callback argument missing");var n=!1,i=function(i,r,e){n||(n=!0,t.callback(i,r,e))};function r(){var t=void 0;if(t=c.response?c.response:c.responseText||function(t){if("document"===t.responseType)return t.responseXML;var n=204===t.status&&t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!n)return t.responseXML;return null}(c),p)try{t=JSON.parse(t)}catch(t){}return t}var e={body:void 0,headers:{},statusCode:0,method:v,url:f,rawRequest:c};function u(t){return m(h),t instanceof y||(t=new y(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,e)}function s(){if(!a){var n;m(h),n=t.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var u=e,s=null;return 0!==n?(u={body:r(),statusCode:n,method:v,headers:{},url:f,rawRequest:c},c.getAllResponseHeaders&&(u.headers=vet(c.getAllResponseHeaders()))):s=new y("Internal XMLHttpRequest Error"),i(s,u,u.body)}}var o,a,c=t.xhr||null;c||(c=t.cors||t.useXDR?new wet.XDomainRequest:new wet.XMLHttpRequest);var h,f=c.url=t.uri||t.url,v=c.method=t.method||"GET",l=t.body||t.data||null,d=c.headers=t.headers||{},w=!!t.sync,p=!1;if("json"in t&&(p=!0,d.accept||d.Accept||(d.Accept="application/json"),"GET"!==v&&"HEAD"!==v&&(d["content-type"]||d["Content-Type"]||(d["Content-Type"]="application/json"),l=JSON.stringify(t.json))),c.onreadystatechange=function(){4===c.readyState&&s()},c.onload=s,c.onerror=u,c.onprogress=function(){},c.ontimeout=u,c.open(v,f,!w,t.username,t.password),w||(c.withCredentials=!!t.withCredentials),!w&&t.timeout>0&&(h=g((function(){a=!0,c.abort("timeout");var t=new y("XMLHttpRequest timeout");t.code="ETIMEDOUT",u(t)}),t.timeout)),c.setRequestHeader)for(o in d)d.hasOwnProperty(o)&&c.setRequestHeader(o,d[o]);else if(t.headers&&!function(t){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0}(t.headers))throw new y("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(c.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(c),c.send(l),c}wet.XMLHttpRequest=het.XMLHttpRequest||function(){},wet.XDomainRequest="withCredentials"in new wet.XMLHttpRequest?wet.XMLHttpRequest:het.XDomainRequest,function(t,n){for(var i=0;i<t.length;i++)n(t[i])}(["get","put","post","patch","head","delete"],(function(t){wet["delete"===t?"del":t]=function(n,i,r){return(i=met(n,i,r)).method=t.toUpperCase(),pet(i)}}));var yet=function(t,n){var i=new ftt.WebVTT.Parser(ftt,ftt.vttjs,ftt.WebVTT.StringDecoder()),r=[];i.oncue=function(t){n.addCue(t)},i.onparsingerror=function(t){r.push(t)},i.onflush=function(){n.trigger({type:"loadeddata",target:n})},i.parse(t),r.length>0&&(ftt.console&&ftt.console.groupCollapsed&&ftt.console.groupCollapsed("Text Track parsing errors for "+n.src),r.forEach((function(t){return Ttt.error(t)})),ftt.console&&ftt.console.groupEnd&&ftt.console.groupEnd()),i.flush()},_et=function(t){function n(i){var r;if(void 0===i&&(i={}),!i.tech)throw new y("A tech was not provided.");var e=Xnt(i,{kind:wit[i.kind]||"subtitles",language:i.language||i.srclang||""}),u=pit[e.mode]||"disabled",s=e.default;"metadata"!==e.kind&&"chapters"!==e.kind||(u="hidden");var o=r=t.call(this,e)||this;if(o.H=e.tech,_nt)for(var a in n.prototype)"constructor"!==a&&(o[a]=n.prototype[a]);o.L=[],o.q=[];var c=new dit(o.L),h=new dit(o.q),f=!1,v=jnt(o,(function(){this.activeCues,f&&(this.trigger("cuechange"),f=!1)}));return"disabled"!==u&&o.H.ready((function(){o.H.on("timeupdate",v)}),!0),k.defineProperty(o,"default",{get:function(){return s},set:function(){}}),k.defineProperty(o,"mode",{get:function(){return u},set:function(t){var n=this;pit[t]&&("showing"===(u=t)&&this.H.ready((function(){n.H.on("timeupdate",v)}),!0),this.trigger("modechange"))}}),k.defineProperty(o,"cues",{get:function(){return this.W?c:null},set:function(){}}),k.defineProperty(o,"activeCues",{get:function(){if(!this.W)return null;if(0===this.cues.length)return h;for(var t=this.H.currentTime(),n=[],i=0,r=this.cues.length;i<r;i++){var e=this.cues[i];(e.startTime<=t&&e.endTime>=t||e.startTime===e.endTime&&e.startTime<=t&&e.startTime+.5>=t)&&n.push(e)}if(f=!1,n.length!==this.q.length)f=!0;else for(var u=0;u<n.length;u++)-1===this.q.indexOf(n[u])&&(f=!0);return this.q=n,h.O(this.q),h},set:function(){}}),e.src?(o.src=e.src,function(t,n){var i={uri:t},r=bit(t);r&&(i.cors=r),get(i,jnt(this,(function(t,i,r){if(t)return Ttt.error(t,i);if(n.W=!0,"function"!=typeof ftt.WebVTT){if(n.H){var e=function(){return yet(r,n)};n.H.on("vttjsloaded",e),n.H.on("vttjserror",(function(){Ttt.error("vttjs failed to load, stopping trying to process "+n.src),n.H.off("vttjsloaded",e)}))}}else yet(r,n)})))}(e.src,o)):o.W=!0,o||znt(r)}Knt(n,t);var i=n.prototype;return i.addCue=function(t){var n=t;if(ftt.vttjs&&!(t instanceof ftt.vttjs.VTTCue)){for(var i in n=new ftt.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)i in n||(n[i]=t[i]);n.id=t.id,n.G=t}var r=this.H.textTracks();if(r)for(var e=0;e<r.length;e++)r[e]!==this&&r[e].removeCue(n);this.L.push(n),this.cues.O(this.L)},i.removeCue=function(t){for(var n=this.L.length;n--;){var i=this.L[n];if(i===t||i.G&&i.G===t){this.L.splice(n,1),this.cues.O(this.L);break}}},n}(yit);_et.prototype.A={cuechange:"cuechange"};var bet=function(t){function n(i){var r,e;void 0===i&&(i={});var u=znt(r=t.call(this)||this);if(_nt)for(var s in u=vtt.createElement("custom"),n.prototype)"constructor"!==s&&(u[s]=n.prototype[s]);var o=new _et(i);return u.kind=o.kind,u.src=o.src,u.srclang=o.language,u.label=o.label,u.default=o.default,k.defineProperty(u,"readyState",{get:function(){return e}}),k.defineProperty(u,"track",{get:function(){return o}}),e=0,o.addEventListener("loadeddata",(function(){e=2,u.trigger({type:"load",target:u})})),_nt?u||znt(r):r}return Knt(n,t),n}(Hnt);bet.prototype.A={load:"load"},bet.NONE=0,bet.LOADING=1,bet.LOADED=2,bet.ERROR=3;var ket,Aet=function(){function t(n){void 0===n&&(n=[]);var i=this;if(_nt)for(var r in i=vtt.createElement("custom"),t.prototype)"constructor"!==r&&(i[r]=t.prototype[r]);i.X=[],k.defineProperty(i,"length",{get:function(){return this.X.length}});for(var e=0,u=n.length;e<u;e++)i.J(n[e]);if(_nt)return i}var n=t.prototype;return n.J=function(t){var n=this.X.length;""+n in this||k.defineProperty(this,n,{get:function(){return this.X[n]}}),-1===this.X.indexOf(t)&&this.X.push(t)},n.Y=function(t){for(var n,i=0,r=this.X.length;i<r;i++)if(t===this.X[i].track){n=this.X[i];break}return n},n.K=function(t){for(var n=0,i=this.X.length;n<i;n++)if(t===this.X[n]){this.X.splice(n,1);break}},t}(),Tet=function(t){function n(i,r){var e;if(void 0===i&&(i=[]),void 0===r&&(r=null),e=t.call(this)||this,!r&&(r=znt(e),_nt))for(var u in r=vtt.createElement("custom"),n.prototype)"constructor"!==u&&(r[u]=n.prototype[u]);r.Z=[],k.defineProperty(r,"length",{get:function(){return this.Z.length}});for(var s=0;s<i.length;s++)r.tt(i[s]);return r||znt(e)}Knt(n,t);var i=n.prototype;return i.tt=function(t){var n=this.Z.length;""+n in this||k.defineProperty(this,n,{get:function(){return this.Z[n]}}),-1===this.Z.indexOf(t)&&(this.Z.push(t),this.trigger({track:t,type:"addtrack"}))},i.it=function(t){for(var n,i=0,r=this.length;i<r;i++)if(this[i]===t){(n=this[i]).off&&n.off(),this.Z.splice(i,1);break}n&&this.trigger({track:n,type:"removetrack"})},i.getTrackById=function(t){for(var n=null,i=0,r=this.length;i<r;i++){var e=this[i];if(e.id===t){n=e;break}}return n},n}(Hnt);for(ket in Tet.prototype.A={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Tet.prototype.A)Tet.prototype["on"+ket]=null;var Eet=function(t){function n(i){var r,e;if(void 0===i&&(i=[]),_nt){for(var u in e=vtt.createElement("custom"),Tet.prototype)"constructor"!==u&&(e[u]=Tet.prototype[u]);for(var s in n.prototype)"constructor"!==s&&(e[s]=n.prototype[s])}return(e=r=t.call(this,i,e)||this)||znt(r)}return Knt(n,t),n.prototype.tt=function(n){t.prototype.tt.call(this,n),n.addEventListener("modechange",jnt(this,(function(){this.trigger("change")})))},n}(Tet),Iet=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].selected=!1)},Ret=function(t){function n(i){var r,e;void 0===i&&(i=[]);for(var u=i.length-1;u>=0;u--)if(i[u].selected){Iet(i,i[u]);break}if(_nt){for(var s in e=vtt.createElement("custom"),Tet.prototype)"constructor"!==s&&(e[s]=Tet.prototype[s]);for(var o in n.prototype)"constructor"!==o&&(e[o]=n.prototype[o])}return(e=r=t.call(this,i,e)||this).st=!1,k.defineProperty(e,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),e||znt(r)}Knt(n,t);var i=n.prototype;return i.tt=function(n){var i=this;n.selected&&Iet(this,n),t.prototype.tt.call(this,n),n.addEventListener&&n.addEventListener("selectedchange",(function(){i.st||(i.st=!0,Iet(i,n),i.st=!1,i.trigger("change"))}))},i.addTrack=function(t){this.tt(t)},i.removeTrack=function(n){t.prototype.it.call(this,n)},n}(Tet),Cet=function(t,n){for(var i=0;i<t.length;i++)n.id!==t[i].id&&(t[i].enabled=!1)},Net=function(t){function n(i){var r,e;void 0===i&&(i=[]);for(var u=i.length-1;u>=0;u--)if(i[u].enabled){Cet(i,i[u]);break}if(_nt){for(var s in e=vtt.createElement("custom"),Tet.prototype)"constructor"!==s&&(e[s]=Tet.prototype[s]);for(var o in n.prototype)"constructor"!==o&&(e[o]=n.prototype[o])}return(e=r=t.call(this,i,e)||this).st=!1,e||znt(r)}Knt(n,t);var i=n.prototype;return i.tt=function(n){var i=this;n.enabled&&Cet(this,n),t.prototype.tt.call(this,n),n.addEventListener&&n.addEventListener("enabledchange",(function(){i.st||(i.st=!0,Cet(i,n),i.st=!1,i.trigger("change"))}))},i.addTrack=function(t){this.tt(t)},i.removeTrack=function(n){t.prototype.it.call(this,n)},n}(Tet),xet=void 0;var Det=function(t){function n(n,i){var r;return void 0===n&&(n={}),void 0===i&&(i=function(){}),n.reportTouchActivity=!1,(r=t.call(this,null,n,i)||this).et=!1,r.on("playing",(function(){this.et=!0})),r.on("loadstart",(function(){this.et=!1})),r.nt=n.textTracks,r.rt=n.videoTracks,r.ht=n.audioTracks,r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(t){!1===n["native"+t+"Tracks"]&&(r["featuresNative"+t+"Tracks"]=!1)})),!1===n.nativeCaptions&&(r.featuresNativeTextTracks=!1),r.featuresNativeTextTracks||r.emulateTextTracks(),r.ot=new Eet,r.initTextTrackListeners(),r.initTrackListeners(),n.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.l=r.constructor.name||"Unknown Tech"),r}Knt(n,t);var i=n.prototype;return i.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},i.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},i.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(jnt(this,(function(){var t=this.bufferedPercent();this.ut!==t&&this.trigger("progress"),this.ut=t,1===t&&this.stopTrackingProgress()})),500)},i.onDurationChange=function(t){this.ct=this.duration()},i.buffered=function(){return Qnt(0,0)},i.bufferedPercent=function(){return $nt(this.buffered(),this.ct)},i.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},i.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},i.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},i.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},i.clearTracks=function(t){var n=this;(t=[].concat(t)).forEach((function(t){for(var i=n[t+"Tracks"]()||[],r=i.length;r--;){var e=i[r];"text"===t&&n.removeRemoteTextTrack(e),i.it(e)}}))},i.cleanupAutoTextTracks=function(){for(var t=this.ot||[],n=t.length;n--;){var i=t[n];this.removeRemoteTextTrack(i)}},i.reset=function(){},i.error=function(t){return void 0!==t&&(this.lt=new oit(t),this.trigger("error")),this.lt},i.played=function(){return this.et?Qnt(0,0):Qnt()},i.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.initTextTrackListeners=function(){var t=jnt(this,(function(){this.trigger("texttrackchange")})),n=this.textTracks();n&&(n.addEventListener("removetrack",t),n.addEventListener("addtrack",t),this.on("dispose",jnt(this,(function(){n.removeEventListener("removetrack",t),n.removeEventListener("addtrack",t)}))))},i.initTrackListeners=function(){var t=this;["video","audio"].forEach((function(n){var i=function(){t.trigger(n+"trackchange")},r=t[n+"Tracks"]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),t.on("dispose",(function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)}))}))},i.dt=function(){var t=this;if(!ftt.WebVTT)if(vtt.body.contains(this.el())){if(!this.h["vtt.js"]&&ktt(xet)&&k.keys(xet).length>0)return void this.trigger("vttjsloaded");var n=vtt.createElement("script");n.src=this.h["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",n.onload=function(){t.trigger("vttjsloaded")},n.onerror=function(){t.trigger("vttjserror")},this.on("dispose",(function(){n.onload=null,n.onerror=null})),ftt.WebVTT=!0,this.el().parentNode.appendChild(n)}else this.ready(this.dt)},i.emulateTextTracks=function(){var t=this,n=this.textTracks();if(n){var i=this.remoteTextTracks(),r=function(t){return n.tt(t.track)},e=function(t){return n.it(t.track)};i.on("addtrack",r),i.on("removetrack",e),this.dt();var u=function(){return t.trigger("texttrackchange")},s=function(){u();for(var t=0;t<n.length;t++){var i=n[t];i.removeEventListener("cuechange",u),"showing"===i.mode&&i.addEventListener("cuechange",u)}};s(),n.addEventListener("change",s),n.addEventListener("addtrack",s),n.addEventListener("removetrack",s),this.on("dispose",(function(){i.off("addtrack",r),i.off("removetrack",e),n.removeEventListener("change",s),n.removeEventListener("addtrack",s),n.removeEventListener("removetrack",s);for(var t=0;t<n.length;t++){n[t].removeEventListener("cuechange",u)}}))}},i.videoTracks=function(){return this.rt=this.rt||new Ret,this.rt},i.audioTracks=function(){return this.ht=this.ht||new Net,this.ht},i.textTracks=function(){return this.nt=this.nt||new Eet,this.nt},i.remoteTextTracks=function(){return this.ft=this.ft||new Eet,this.ft},i.remoteTextTrackEls=function(){return this.vt=this.vt||new Aet,this.vt},i.addTextTrack=function(t,n,i){if(!t)throw new y("TextTrack kind is required but was not provided");return function(t,n,i,r,e){void 0===e&&(e={});var u=t.textTracks();e.kind=n,i&&(e.label=i),r&&(e.language=r),e.tech=t;var s=new _et(e);return u.tt(s),s}(this,t,n,i)},i.createRemoteTextTrack=function(t){var n=Xnt(t,{tech:this});return new bet(n)},i.addRemoteTextTrack=function(t,n){void 0===t&&(t={});var i=this.createRemoteTextTrack(t);return!0!==n&&!1!==n&&(Ttt.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().J(i),this.remoteTextTracks().tt(i.track),!0!==n&&this.ot.tt(i.track),i},i.removeRemoteTextTrack=function(t){var n=this.remoteTextTrackEls().Y(t);this.remoteTextTrackEls().K(n),this.remoteTextTracks().it(t),this.ot.it(t)},i.getVideoPlaybackQuality=function(){return{}},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.canPlayType=function(){return""},n.isTech=function(t){return t.prototype instanceof n||t instanceof n||t===n},n.registerTech=function(t,i){if(n.gt||(n.gt={}),!n.isTech(i))throw new y("Tech "+t+" must be a Tech");return n.gt[t]=i,i},n.getTech=function(t){return n.gt&&n.gt[t]?n.gt[t]:ftt&&ftt.videojs&&ftt.videojs[t]?(Ttt.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),ftt.videojs[t]):void 0},n}(Gnt);Det.prototype.nt,Det.prototype.ht,Det.prototype.rt,Det.prototype.featuresVolumeControl=!0,Det.prototype.featuresFullscreenResize=!1,Det.prototype.featuresPlaybackRate=!1,Det.prototype.featuresProgressEvents=!1,Det.prototype.featuresTimeupdateEvents=!1,Det.prototype.featuresNativeTextTracks=!1,Det.withSourceHandlers=function(t){t.registerSourceHandler=function(n,i){var r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),void 0===i&&(i=r.length),r.splice(i,0,n)},t.canPlayType=function(n){for(var i,r=t.sourceHandlers||[],e=0;e<r.length;e++)if(i=r[e].canPlayType(n))return i;return""},t.selectSourceHandler=function(n,i){for(var r=t.sourceHandlers||[],e=0;e<r.length;e++)if(r[e].canHandleSource(n,i))return r[e];return null},t.canPlaySource=function(n,i){var r=t.selectSourceHandler(n,i);return r?r.canHandleSource(n,i):""};["seekable","duration"].forEach((function(t){var n=this[t];"function"==typeof n&&(this[t]=function(){return this.yt&&this.yt[t]?this.yt[t].apply(this.yt,arguments):n.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(n){var i=t.selectSourceHandler(n,this.h);return i||(t.nativeSourceHandler?i=t.nativeSourceHandler:Ttt.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==t.nativeSourceHandler&&(this.bt=n,this.off(this.v,"loadstart",t.prototype.kt),this.off(this.v,"loadstart",t.prototype.wt),this.one(this.v,"loadstart",t.prototype.kt)),this.yt=i.handleSource(n,this,this.h),this.on("dispose",this.disposeSourceHandler),this},t.prototype.kt=function(){this.one(this.v,"loadstart",t.prototype.wt)},t.prototype.wt=function(){this.disposeSourceHandler(),this.one(this.v,"loadstart",t.prototype.wt)},t.prototype.disposeSourceHandler=function(){this.bt&&(this.clearTracks(["audio","video"]),this.bt=null),this.cleanupAutoTextTracks(),this.yt&&(this.off(this.v,"loadstart",t.prototype.kt),this.off(this.v,"loadstart",t.prototype.wt),this.yt.dispose&&this.yt.dispose(),this.yt=null)}},Gnt.registerComponent("Tech",Det),Gnt.registerComponent("MediaTechController",Det),Det.registerTech("Tech",Det);var Pet=function(t){function n(n,i,r){var e;if(e=t.call(this,n,i,r)||this,i.playerOptions.sources&&0!==i.playerOptions.sources.length)n.src(i.playerOptions.sources);else for(var u=0,s=i.playerOptions.techOrder;u<s.length;u++){var o=Znt(s[u]),a=Det.getTech(o);if(o||(a=Gnt.getComponent(o)),a&&a.isSupported()){n._t(o);break}}return e}return Knt(n,t),n}(Gnt);Gnt.registerComponent("MediaLoader",Pet);var Met=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).emitTapEvents(),r.on(n,"languagechange",r.handleLanguagechange),r.enable(),r}Knt(n,t);var i=n.prototype;return i.createEl=function(n,i,r){void 0===n&&(n="div"),void 0===i&&(i={}),void 0===r&&(r={}),i=_tt({className:this.buildCSSClass(),tabIndex:0},i),"button"===n&&Ttt.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),r=_tt({role:"button","aria-live":"polite"},r),this.xt=i.tabIndex;var e=t.prototype.createEl.call(this,n,i,r);return this.createControlTextEl(e),e},i.createControlTextEl=function(t){return this.Ct=Mtt("span",{className:"vjs-control-text"}),t&&t.appendChild(this.Ct),this.controlText(this.St,t),this.Ct},i.controlText=function(t,n){if(void 0===n&&(n=this.el()),void 0===t)return this.St||"Need Text";var i=this.localize(t);return this.St=t,this.Ct.innerHTML=i,this.nonIconControl||n.setAttribute("title",i),this},i.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},i.enable=function(){return this.removeClass("vjs-disabled"),this.v.setAttribute("aria-disabled","false"),void 0!==this.xt&&this.v.setAttribute("tabIndex",this.xt),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},i.disable=function(){return this.addClass("vjs-disabled"),this.v.setAttribute("aria-disabled","true"),void 0!==this.xt&&this.v.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},i.handleLanguagechange=function(){this.controlText(this.St)},i.handleClick=function(t){},i.handleFocus=function(t){Dnt(vtt,"keydown",jnt(this,this.handleKeyPress))},i.handleKeyPress=function(n){32===n.which||13===n.which?(n.preventDefault(),this.handleClick(n)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,n)},i.handleBlur=function(t){Pnt(vtt,"keydown",jnt(this,this.handleKeyPress))},n}(Gnt);Gnt.registerComponent("ClickableComponent",Met);var Bet=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).update(),n.on("posterchange",jnt(znt(r),r.update)),r}Knt(n,t);var i=n.prototype;return i.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},i.createEl=function(){var t=Mtt("div",{className:"vjs-poster",tabIndex:-1});return Snt||(this.jt=Mtt("img"),t.appendChild(this.jt)),t},i.update=function(t){var n=this.player().poster();this.setSrc(n),n?this.show():this.hide()},i.setSrc=function(t){if(this.jt)this.jt.src=t;else{var n="";t&&(n='url("'+t+'")'),this.v.style.backgroundImage=n}},i.handleClick=function(t){this.t.controls()&&(this.t.paused()?this.t.play():this.t.pause())},n}(Met);Gnt.registerComponent("PosterImage",Bet);var Oet="#222",Let={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Fet(t,n){return"rgba("+T(t[1]+t[1],16)+","+T(t[2]+t[2],16)+","+T(t[3]+t[3],16)+","+n+")"}function Vet(t,n,i){try{t.style[n]=i}catch(t){return}}var Uet=function(t){function n(n,i,r){var e;return e=t.call(this,n,i,r)||this,n.on("loadstart",jnt(znt(e),e.toggleDisplay)),n.on("texttrackchange",jnt(znt(e),e.updateDisplay)),n.ready(jnt(znt(e),(function(){if(n.H&&n.H.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",jnt(this,this.updateDisplay));for(var t=this.h.playerOptions.tracks||[],i=0;i<t.length;i++)this.t.addRemoteTextTrack(t[i],!0);var r,e,u={captions:1,subtitles:1},s=this.t.textTracks();if(s){for(var o=0;o<s.length;o++){var a=s[o];a.default&&("descriptions"!==a.kind||r?a.kind in u&&!e&&(e=a):r=a)}e?e.mode="showing":r&&(r.mode="showing")}}}))),e}Knt(n,t);var i=n.prototype;return i.toggleDisplay=function(){this.t.H&&this.t.H.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){"function"==typeof ftt.WebVTT&&ftt.WebVTT.processCues(ftt,[],this.v)},i.updateDisplay=function(){var t=this.t.textTracks();if(this.clearDisplay(),t){for(var n=null,i=null,r=t.length;r--;){var e=t[r];"showing"===e.mode&&("descriptions"===e.kind?n=e:i=e)}i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n))}},i.updateForTrack=function(t){if("function"==typeof ftt.WebVTT&&t.activeCues){for(var n=this.t.textTrackSettings.getValues(),i=[],r=0;r<t.activeCues.length;r++)i.push(t.activeCues[r]);ftt.WebVTT.processCues(ftt,i,this.v);for(var e=i.length;e--;){var u=i[e];if(u){var s=u.displayState;if(n.color&&(s.firstChild.style.color=n.color),n.textOpacity&&Vet(s.firstChild,"color",Fet(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(s.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&Vet(s.firstChild,"backgroundColor",Fet(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?Vet(s,"backgroundColor",Fet(n.windowColor,n.windowOpacity)):s.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+Oet:"raised"===n.edgeStyle?s.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+Oet:"depressed"===n.edgeStyle?s.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+Oet:"uniform"===n.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+Oet)),n.fontPercent&&1!==n.fontPercent){var o=ftt.parseFloat(s.style.fontSize);s.style.fontSize=o*n.fontPercent+"px",s.style.height="auto",s.style.top="auto",s.style.bottom="2px"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=Let[n.fontFamily])}}}},n}(Gnt);Gnt.registerComponent("TextTrackDisplay",Uet);var Wet=function(t){function n(){return t.apply(this,arguments)||this}return Knt(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},n}(Gnt);Gnt.registerComponent("LoadingSpinner",Wet);var jet=function(t){function n(){return t.apply(this,arguments)||this}Knt(n,t);var i=n.prototype;return i.createEl=function(t,n,i){void 0===t&&(t="button"),void 0===n&&(n={}),void 0===i&&(i={}),n=_tt({className:this.buildCSSClass()},n),"button"!==t&&(Ttt.warn("Creating a Button with an HTML element of "+t+" is deprecated; use ClickableComponent instead."),n=_tt({tabIndex:0},n),i=_tt({role:"button"},i)),i=_tt({type:"button","aria-live":"polite"},i);var r=Gnt.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(r),r},i.addChild=function(t,n){void 0===n&&(n={});var i=this.constructor.name;return Ttt.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),Gnt.prototype.addChild.call(this,t,n)},i.enable=function(){t.prototype.enable.call(this),this.v.removeAttribute("disabled")},i.disable=function(){t.prototype.disable.call(this),this.v.setAttribute("disabled","disabled")},i.handleKeyPress=function(n){32!==n.which&&13!==n.which&&t.prototype.handleKeyPress.call(this,n)},n}(Met);Gnt.registerComponent("Button",jet);var Zet=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Tt=!1,r.on("mousedown",r.handleMouseDown),r}Knt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(t){var n=this;if(this.Tt&&t.clientX&&t.clientY)this.t.play();else{var i=this.t.getChild("controlBar"),r=i&&i.getChild("playToggle");this.one(this.t,"play",(function(){r?r.focus():n.t.focus()})),this.t.play()}},i.handleKeyPress=function(n){this.Tt=!1,t.prototype.handleKeyPress.call(this,n)},i.handleMouseDown=function(t){this.Tt=!0},n}(jet);Zet.prototype.St="Play Video",Gnt.registerComponent("BigPlayButton",Zet);var Xet=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).controlText(i&&i.controlText||"Close"),r}Knt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},n}(jet);Gnt.registerComponent("CloseButton",Xet);var Get=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"play",r.handlePlay),r.on(n,"pause",r.handlePause),r}Knt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.t.paused()?this.t.play():this.t.pause()},i.handlePlay=function(t){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n}(jet);function Het(t,n){void 0===n&&(n=t),t=t<0?0:t;var i=A.floor(t%60),r=A.floor(t/60%60),e=A.floor(t/3600),u=A.floor(n/60%60),s=A.floor(n/3600);return(E(t)||t===1/0)&&(e=r=i="-"),(e=e>0||s>0?e+":":"")+(r=((e||u>=10)&&r<10?"0"+r:r)+":")+(i=i<10?"0"+i:i)}Get.prototype.St="Play",Gnt.registerComponent("PlayToggle",Get);var zet=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"timeupdate",r.updateContent),r.on(n,"languagechange",r.updateContent),r}Knt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.S=Mtt("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),n.appendChild(this.S),n},i.updateContent=function(t){var n=this.t.scrubbing()?this.t.getCache().currentTime:this.t.currentTime(),i=this.localize("Current Time"),r=Het(n,this.t.duration());r!==this.Mt&&(this.Mt=r,this.S.innerHTML='<span class="vjs-control-text">'+i+"</span> "+r)},n}(Gnt);Gnt.registerComponent("CurrentTimeDisplay",zet);var Yet=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"durationchange",r.updateContent),r.on(n,"timeupdate",r.updateContent),r.on(n,"loadedmetadata",r.updateContent),r.on(n,"languagechange",r.updateContent),r}Knt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.S=Mtt("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),n.appendChild(this.S),n},i.updateContent=function(t){var n=this.t.duration();if(n&&this.ct!==n){this.ct=n;var i=this.localize("Duration Time"),r=Het(n);this.S.innerHTML='<span class="vjs-control-text">'+i+"</span> "+r}},n}(Gnt);Gnt.registerComponent("DurationDisplay",Yet);var Ket=function(t){function n(){return t.apply(this,arguments)||this}return Knt(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},n}(Gnt);Gnt.registerComponent("TimeDivider",Ket);var qet=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"timeupdate",r.updateContent),r.on(n,"durationchange",r.updateContent),r.on(n,"languagechange",r.updateContent),r}Knt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.S=Mtt("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),n.appendChild(this.S),n},i.updateContent=function(t){if(this.t.duration()){var n=this.localize("Remaining Time"),i=Het(this.t.remainingTime());i!==this.Mt&&(this.Mt=i,this.S.innerHTML='<span class="vjs-control-text">'+n+"</span> -"+i)}},n}(Gnt);Gnt.registerComponent("RemainingTimeDisplay",qet);var Jet=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r.on(r.player(),"languagechange",r.handleLanguagechange),r}Knt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.S=Mtt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.Ct=Mtt("span",{className:"vjs-control-text",innerHTML:this.localize("Stream Type")}),this.At=vtt.createTextNode(this.localize("LIVE")),this.S.appendChild(this.Ct),this.S.appendChild(this.At),n.appendChild(this.S),n},i.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},i.handleLanguagechange=function(){this.Ct.innerHTML=this.localize("Stream Type"),this.At.innerHTML=this.localize("LIVE")},n}(Gnt);Gnt.registerComponent("LiveDisplay",Jet);var Qet=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).bar=r.getChild(r.h.barName),r.vertical(!!r.h.vertical),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on("focus",r.handleFocus),r.on("blur",r.handleBlur),r.on("click",r.handleClick),r.on(n,"controlsvisible",r.update),r.on(n,r.playerEvent,r.update),r}Knt(n,t);var i=n.prototype;return i.createEl=function(n,i,r){return void 0===i&&(i={}),void 0===r&&(r={}),i.className=i.className+" vjs-slider",i=_tt({tabIndex:0},i),r=_tt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),t.prototype.createEl.call(this,n,i,r)},i.handleMouseDown=function(t){var n=this.bar.v.ownerDocument;t.preventDefault(),vtt.body.focus(),vtt.onselectstart=function(){return!1},this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove),this.on(n,"mouseup",this.handleMouseUp),this.on(n,"touchmove",this.handleMouseMove),this.on(n,"touchend",this.handleMouseUp),this.handleMouseMove(t)},i.handleMouseMove=function(t){},i.handleMouseUp=function(){var t=this.bar.v.ownerDocument;vtt.onselectstart=function(){return!0},this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},i.update=function(){if(this.v){var t=this.getPercent(),n=this.bar;if(n){("number"!=typeof t||t!=t||t<0||t===1/0)&&(t=0);var i=(100*t).toFixed(2)+"%";this.vertical()?n.el().style.height=i:n.el().style.width=i}}},i.calculateDistance=function(t){var n=Jtt(this.v,t);return this.vertical()?n.y:n.x},i.handleFocus=function(){this.on(this.bar.v.ownerDocument,"keydown",this.handleKeyPress)},i.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},i.handleBlur=function(){this.off(this.bar.v.ownerDocument,"keydown",this.handleKeyPress)},i.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},i.vertical=function(t){return void 0===t?this.Pt||!1:(this.Pt=!!t,this.Pt?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},n}(Gnt);function $et(t,n){if(!t||!n)return"";if("function"==typeof ftt.getComputedStyle){var i=ftt.getComputedStyle(t);return i?i[n]:""}return t.currentStyle[n]||""}Gnt.registerComponent("Slider",Qet);var tut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Et=[],r.on(n,"progress",r.update),r.on(n,"languagechange",r.handleLanguagechange),r}Knt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"});return this.Nt=Mtt("span",{innerHTML:this.localize("Loaded")}),this.It=vtt.createTextNode(": 0%"),this.Ct=Mtt("span",{className:"vjs-control-text"}),this.Ct.appendChild(this.Nt),this.Ct.appendChild(this.It),n.appendChild(this.Ct),n},i.update=function(t){var n=this.t.buffered(),i=this.t.duration(),r=this.t.bufferedEnd(),e=this.Et,u=function(t,n){var i=t/n||0;return 100*(i>=1?1:i)+"%"};this.v.style.width=u(r,i);for(var s=0;s<n.length;s++){var o=n.start(s),a=n.end(s),c=e[s];c||(c=this.v.appendChild(Mtt()),e[s]=c),c.style.left=u(o,r),c.style.width=u(a-o,r)}for(var h=e.length;h>n.length;h--)this.v.removeChild(e[h-1]);e.length=n.length},i.handleLanguagechange=function(){this.Nt.innerHTML=this.localize("Loaded")},n}(Gnt);Gnt.registerComponent("LoadProgressBar",tut);var nut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).updateDataAttr(),r.on(n,"timeupdate",r.updateDataAttr),r.on(n,"languagechange",r.handleLanguagechange),n.ready(jnt(znt(r),r.updateDataAttr)),i.playerOptions&&i.playerOptions.controlBar&&i.playerOptions.controlBar.progressControl&&i.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=i.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&r.addClass("vjs-keep-tooltips-inside"),r}Knt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"});return this.Bt=Mtt("span",{innerHTML:this.localize("Progress")}),this.Ft=vtt.createTextNode(": 0%"),this.Ct=Mtt("span",{className:"vjs-control-text"}),this.Ct.appendChild(this.Bt),this.Ct.appendChild(this.Ft),n.appendChild(this.Ct),n},i.updateDataAttr=function(t){var n=this.t.scrubbing()?this.t.getCache().currentTime:this.t.currentTime();this.v.setAttribute("data-current-time",Het(n,this.t.duration()))},i.handleLanguagechange=function(){this.Bt.innerHTML=this.localize("Progress")},n}(Gnt);Gnt.registerComponent("PlayProgressBar",nut);var iut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).updateDataAttr(),r.on(n,"timeupdate",r.updateDataAttr),r.on(n,"languagechange",r.handleLanguagechange),n.ready(jnt(znt(r),r.updateDataAttr)),r}Knt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar"});return this.tooltip=Mtt("div",{className:"vjs-time-tooltip"}),this.Bt=Mtt("span",{innerHTML:this.localize("Progress")}),this.Ft=vtt.createTextNode(": 0%"),this.Ct=Mtt("span",{className:"vjs-control-text"}),this.Ct.appendChild(this.Bt),this.Ct.appendChild(this.Ft),n.appendChild(this.tooltip),n.appendChild(this.Ct),n},i.updateDataAttr=function(t){var n=Het(this.t.scrubbing()?this.t.getCache().currentTime:this.t.currentTime(),this.t.duration());this.v.setAttribute("data-current-time",n),this.tooltip.innerHTML=n},i.handleLanguagechange=function(){this.Bt.innerHTML=this.localize("Progress")},n}(Gnt);Gnt.registerComponent("TooltipProgressBar",iut);var rut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"timeupdate",r.updateProgress),r.on(n,"ended",r.updateProgress),n.ready(jnt(znt(r),r.updateProgress)),i.playerOptions&&i.playerOptions.controlBar&&i.playerOptions.controlBar.progressControl&&i.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=i.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltipProgressBar=r.addChild("TooltipProgressBar")),r}Knt(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},i.updateProgress=function(t){if(this.updateAriaAttributes(this.v),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.v),this.tooltipProgressBar.v.style.width=this.bar.v.style.width;var n=S($et(this.player().el(),"width")),i=S($et(this.tooltipProgressBar.tooltip,"width")),r=this.tooltipProgressBar.el().style;r.maxWidth=A.floor(n-i/2)+"px",r.minWidth=A.ceil(i/2)+"px",r.right="-"+i/2+"px"}},i.updateAriaAttributes=function(t){var n=this.t.scrubbing()?this.t.getCache().currentTime:this.t.currentTime();t.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),t.setAttribute("aria-valuetext",Het(n,this.t.duration()))},i.getPercent=function(){var t=this.t.currentTime()/this.t.duration();return t>=1?1:t},i.handleMouseDown=function(n){this.t.scrubbing(!0),this.videoWasPlaying=!this.t.paused(),this.t.pause(),t.prototype.handleMouseDown.call(this,n)},i.handleMouseMove=function(t){var n=this.calculateDistance(t)*this.t.duration();n===this.t.duration()&&(n-=.1),this.t.currentTime(n)},i.handleMouseUp=function(n){t.prototype.handleMouseUp.call(this,n),this.t.scrubbing(!1),this.videoWasPlaying&&this.t.play()},i.stepForward=function(){this.t.currentTime(this.t.currentTime()+5)},i.stepBack=function(){this.t.currentTime(this.t.currentTime()-5)},n}(Qet);rut.prototype.h={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},rut.prototype.playerEvent="timeupdate",Gnt.registerComponent("SeekBar",rut);var eut=function(t){function n(n,i){var r;return r=t.call(this,n,i)||this,i.playerOptions&&i.playerOptions.controlBar&&i.playerOptions.controlBar.progressControl&&i.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=i.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltip=Mtt("div",{className:"vjs-time-tooltip"}),r.el().appendChild(r.tooltip),r.addClass("vjs-keep-tooltips-inside")),r.update(0,0),n.on("ready",(function(){r.on(n.controlBar.progressControl.el(),"mousemove",function(t,n){var i=Date.now();return function(){var r=Date.now();r-i>=n&&(t.apply(void 0,arguments),i=r)}}(jnt(znt(r),r.handleMouseMove),25))})),r}Knt(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.handleMouseMove=function(t){var n=this.t.duration(),i=this.calculateDistance(t)*n,r=t.pageX-qtt(this.el().parentNode).left;this.update(i,r)},i.update=function(t,n){var i=Het(t,this.t.duration());if(this.el().style.left=n+"px",this.el().setAttribute("data-current-time",i),this.keepTooltipsInside){var r=n-this.Dt(n)+1,e=S($et(this.tooltip,"width"))/2;this.tooltip.innerHTML=i,this.tooltip.style.right="-"+(e-r)+"px"}},i.calculateDistance=function(t){return Jtt(this.el().parentNode,t).x},i.Dt=function(t){if(!this.keepTooltipsInside)return t;var n=S($et(this.player().el(),"width")),i=S($et(this.tooltip,"width"))/2,r=t;return t<i?r=A.ceil(i):t>n-i&&(r=A.floor(n-i)),r},n}(Gnt);Gnt.registerComponent("MouseTimeDisplay",eut);var uut=function(t){function n(){return t.apply(this,arguments)||this}return Knt(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n}(Gnt);uut.prototype.h={children:["seekBar"]},Gnt.registerComponent("ProgressControl",uut);var sut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"fullscreenchange",r.handleFullscreenChange),r}Knt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(t){this.t.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(t){this.t.isFullscreen()?this.t.exitFullscreen():this.t.requestFullscreen()},n}(jet);sut.prototype.St="Fullscreen",Gnt.registerComponent("FullscreenToggle",sut);var out=function(t){function n(){return t.apply(this,arguments)||this}return Knt(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},n}(Gnt);Gnt.registerComponent("VolumeLevel",out);var aut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"volumechange",r.updateARIAAttributes),n.ready(jnt(znt(r),r.updateARIAAttributes)),r}Knt(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},i.handleMouseMove=function(t){this.checkMuted(),this.t.volume(this.calculateDistance(t))},i.checkMuted=function(){this.t.muted()&&this.t.muted(!1)},i.getPercent=function(){return this.t.muted()?0:this.t.volume()},i.stepForward=function(){this.checkMuted(),this.t.volume(this.t.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.t.volume(this.t.volume()-.1)},i.updateARIAAttributes=function(t){var n=(100*this.t.volume()).toFixed(2);this.v.setAttribute("aria-valuenow",n),this.v.setAttribute("aria-valuetext",n+"%")},n}(Qet);aut.prototype.h={children:["volumeLevel"],barName:"volumeLevel"},aut.prototype.playerEvent="volumechange",Gnt.registerComponent("VolumeBar",aut);var cut=function(t){function n(n,i){var r;return r=t.call(this,n,i)||this,n.H&&!1===n.H.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(n,"loadstart",(function(){!1===n.H.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})),r}return Knt(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},n}(Gnt);cut.prototype.h={children:["volumeBar"]},Gnt.registerComponent("VolumeControl",cut);var hut=function(t){function n(){return t.apply(this,arguments)||this}Knt(n,t);var i=n.prototype;return i.addItem=function(t){this.addChild(t),t.on("click",jnt(this,(function(){this.unlockShowing()})))},i.createEl=function(){var n=this.h.contentElType||"ul";this.S=Mtt(n,{className:"vjs-menu-content"});var i=t.prototype.createEl.call(this,"div",{append:this.S,className:"vjs-menu"});return i.appendChild(this.S),Dnt(i,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),i},n}(Gnt);Gnt.registerComponent("Popup",hut);var fut=function(t){function n(n,i){var r;return void 0===i&&(i={}),(r=t.call(this,n,i)||this).update(),r}Knt(n,t);var i=n.prototype;return i.update=function(){var t=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=t,this.addChild(t),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},i.createPopup=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.h.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},n}(Met);Gnt.registerComponent("PopupButton",fut);var vut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"volumechange",r.update),n.H&&!1===n.H.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(n,"loadstart",(function(){this.update(),!1===n.H.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})),r}Knt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.t.muted(!this.t.muted())},i.update=function(t){var n=this.t.volume(),i=3;this.t.muted()?i=0:n<.33?i=1:n<.67&&(i=2);var r=this.t.muted()?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r);for(var e=0;e<4;e++)Xtt(this.v,"vjs-vol-"+e);Ztt(this.v,"vjs-vol-"+i)},n}(jet);vut.prototype.St="Mute",Gnt.registerComponent("MuteToggle",vut);var lut=function(t){function n(n,i){var r;function e(){n.H&&!1===n.H.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}return void 0===i&&(i={}),void 0===i.inline&&(i.inline=!0),void 0===i.vertical&&(i.inline?i.vertical=!1:i.vertical=!0),i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=!!i.vertical,(r=t.call(this,n,i)||this).on(n,"volumechange",r.volumeUpdate),r.on(n,"loadstart",r.volumeUpdate),e.call(znt(r)),r.on(n,"loadstart",e),r.on(r.volumeBar,["slideractive","focus"],(function(){this.addClass("vjs-slider-active")})),r.on(r.volumeBar,["sliderinactive","blur"],(function(){this.removeClass("vjs-slider-active")})),r.on(r.volumeBar,["focus"],(function(){this.addClass("vjs-lock-showing")})),r.on(r.volumeBar,["blur"],(function(){this.removeClass("vjs-lock-showing")})),r}Knt(n,t);var i=n.prototype;return i.buildCSSClass=function(){var n="";return n=this.h.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+t.prototype.buildCSSClass.call(this)+" "+n},i.createPopup=function(){var t=new hut(this.t,{contentElType:"div"}),n=new aut(this.t,this.h.volumeBar);return t.addChild(n),this.menuContent=t,this.volumeBar=n,this.attachVolumeBarEvents(),t},i.handleClick=function(n){vut.prototype.handleClick.call(this),t.prototype.handleClick.call(this)},i.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],jnt(this,this.handleMouseDown))},i.handleMouseDown=function(t){this.on(["mousemove","touchmove"],jnt(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.v.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},i.handleMouseUp=function(t){this.off(["mousemove","touchmove"],jnt(this.volumeBar,this.volumeBar.handleMouseMove))},n}(fut);lut.prototype.volumeUpdate=vut.prototype.update,lut.prototype.St="Mute",Gnt.registerComponent("VolumeMenuButton",lut);var dut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).$t=-1,r.on("keydown",r.handleKeyPress),r}Knt(n,t);var i=n.prototype;return i.addItem=function(t){this.addChild(t),t.on("click",jnt(this,(function(t){this.unlockShowing()})))},i.createEl=function(){var n=this.h.contentElType||"ul";this.S=Mtt(n,{className:"vjs-menu-content"}),this.S.setAttribute("role","menu");var i=t.prototype.createEl.call(this,"div",{append:this.S,className:"vjs-menu"});return i.setAttribute("role","presentation"),i.appendChild(this.S),Dnt(i,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),i},i.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},i.stepForward=function(){var t=0;void 0!==this.$t&&(t=this.$t+1),this.focus(t)},i.stepBack=function(){var t=0;void 0!==this.$t&&(t=this.$t-1),this.focus(t)},i.focus=function(t){void 0===t&&(t=0);var n=this.children().slice();n.length&&n[0].className&&/vjs-menu-title/.test(n[0].className)&&n.shift(),n.length>0&&(t<0?t=0:t>=n.length&&(t=n.length-1),this.$t=t,n[t].v.focus())},n}(Gnt);Gnt.registerComponent("Menu",dut);var gut=function(t){function n(n,i){var r;return void 0===i&&(i={}),(r=t.call(this,n,i)||this).update(),r.Rt=!0,r.v.setAttribute("aria-haspopup","true"),r.v.setAttribute("role","menuitem"),r.on("keydown",r.handleSubmenuKeyPress),r}Knt(n,t);var i=n.prototype;return i.update=function(){var t=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=t,this.addChild(t),this.Ut=!1,this.v.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.Ot?this.hide():this.show()},i.createMenu=function(){var t=new dut(this.t);if(this.Ot=0,this.h.title){var n=Mtt("li",{className:"vjs-menu-title",innerHTML:Znt(this.h.title),tabIndex:-1});this.Ot+=1,t.m.unshift(n),Ott(n,t.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){var n="vjs-menu-button";return!0===this.h.inline?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",jnt(this,(function(t){this.unpressButton(),this.v.blur()}))),this.Ut?this.unpressButton():this.pressButton()},i.handleKeyPress=function(n){27===n.which||9===n.which?(this.Ut&&this.unpressButton(),9!==n.which&&n.preventDefault()):38===n.which||40===n.which?this.Ut||(this.pressButton(),n.preventDefault()):t.prototype.handleKeyPress.call(this,n)},i.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.Ut&&this.unpressButton(),9!==t.which&&t.preventDefault())},i.pressButton=function(){this.Rt&&(this.Ut=!0,this.menu.lockShowing(),this.v.setAttribute("aria-expanded","true"),this.menu.focus())},i.unpressButton=function(){this.Rt&&(this.Ut=!1,this.menu.unlockShowing(),this.v.setAttribute("aria-expanded","false"),this.v.focus())},i.disable=function(){return this.Ut=!1,this.menu.unlockShowing(),this.v.setAttribute("aria-expanded","false"),this.Rt=!1,t.prototype.disable.call(this)},i.enable=function(){return this.Rt=!0,t.prototype.enable.call(this)},n}(Met);Gnt.registerComponent("MenuButton",gut);var mut=function(t){function n(n,i){var r,e=i.tracks;if((r=t.call(this,n,i)||this).items.length<=1&&r.hide(),!e)return znt(r);var u=jnt(znt(r),r.update);return e.addEventListener("removetrack",u),e.addEventListener("addtrack",u),r.t.on("dispose",(function(){e.removeEventListener("removetrack",u),e.removeEventListener("addtrack",u)})),r}return Knt(n,t),n}(gut);Gnt.registerComponent("TrackButton",mut);var wut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).selectable=i.selectable,r.selected(i.selected),r.selectable?r.v.setAttribute("role","menuitemcheckbox"):r.v.setAttribute("role","menuitem"),r}Knt(n,t);var i=n.prototype;return i.createEl=function(n,i,r){this.nonIconControl=!0;var e=t.prototype.createEl.call(this,"li",_tt({className:"vjs-menu-item",tabIndex:-1},i),r);return this.Vt=vtt.createTextNode(this.localize(this.h.label)),e.appendChild(this.Vt),e},i.handleClick=function(t){this.selected(!0)},i.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.v.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.v.setAttribute("aria-checked","false"),this.controlText("")))},i.handleLanguagechange=function(){t.prototype.handleLanguagechange.call(this),this.Vt.innerHTML=this.localize(this.h.label)},n}(Met);Gnt.registerComponent("MenuItem",wut);var put=function(t){function n(n,i){var r,e,u=i.track,s=n.textTracks();if(i.label=u.label||u.language||"Unknown",i.selected=u.default||"showing"===u.mode,(r=t.call(this,n,i)||this).track=u,s){var o=jnt(znt(r),r.handleTracksChange);n.on(["loadstart","texttrackchange"],o),s.addEventListener("change",o),r.on("dispose",(function(){s.removeEventListener("change",o)}))}s&&void 0===s.onchange&&r.on(["tap","click"],(function(){if("object"!=typeof ftt.Event)try{e=new ftt.Event("change")}catch(t){}e||(e=vtt.createEvent("Event")).initEvent("change",!0,!0),s.dispatchEvent(e)}));return r}Knt(n,t);var i=n.prototype;return i.handleClick=function(n){var i=this.track.kind,r=this.t.textTracks();if(t.prototype.handleClick.call(this,n),r)for(var e=0;e<r.length;e++){var u=r[e];u.kind===i&&(u===this.track?"showing"!==u.mode&&(u.mode="showing"):"disabled"!==u.mode&&(u.mode="disabled"))}},i.handleTracksChange=function(t){this.selected("showing"===this.track.mode)},n}(wut);Gnt.registerComponent("TextTrackMenuItem",put);var yut=function(t){function n(n,i){var r;return i.track={player:n,kind:i.kind,label:i.kind+" off",default:!1,mode:"disabled"},i.selectable=!0,(r=t.call(this,n,i)||this).selected(!0),r}return Knt(n,t),n.prototype.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!0,r=0,e=n.length;r<e;r++){var u=n[r];if(u.kind===this.track.kind&&"showing"===u.mode){i=!1;break}}this.selected(i)},n}(put);Gnt.registerComponent("OffTextTrackMenuItem",yut);var _ut=function(t){function n(n,i){return void 0===i&&(i={}),i.tracks=n.textTracks(),t.call(this,n,i)||this}return Knt(n,t),n.prototype.createItems=function(t){void 0===t&&(t=[]),t.push(new yut(this.t,{kind:this.Lt})),this.Ot+=1;var n=this.t.textTracks();if(!n)return t;for(var i=0;i<n.length;i++){var r=n[i];r.kind===this.Lt&&t.push(new put(this.t,{track:r,selectable:!0}))}return t},n}(mut);Gnt.registerComponent("TextTrackButton",_ut);var but=function(t){function n(n,i){var r,e=i.track,u=i.cue,s=n.currentTime();return i.selectable=!0,i.label=u.text,i.selected=u.startTime<=s&&s<u.endTime,(r=t.call(this,n,i)||this).track=e,r.cue=u,e.addEventListener("cuechange",jnt(znt(r),r.update)),r}Knt(n,t);var i=n.prototype;return i.handleClick=function(n){t.prototype.handleClick.call(this),this.t.currentTime(this.cue.startTime),this.update(this.cue.startTime)},i.update=function(t){var n=this.cue,i=this.t.currentTime();this.selected(n.startTime<=i&&i<n.endTime)},n}(wut);Gnt.registerComponent("ChaptersTrackMenuItem",but);var kut=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).v.setAttribute("aria-label","Chapters Menu"),e}Knt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},i.update=function(n){this.Ht&&(!n||"addtrack"!==n.type&&"removetrack"!==n.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},i.setTrack=function(t){if(this.Ht!==t){if(this.qt||(this.qt=this.update.bind(this)),this.Ht){var n=this.t.remoteTextTrackEls().Y(this.Ht);n&&n.removeEventListener("load",this.qt),this.Ht=null}if(this.Ht=t,this.Ht){this.Ht.mode="hidden";var i=this.t.remoteTextTrackEls().Y(this.Ht);i&&i.addEventListener("load",this.qt)}}},i.findChaptersTrack=function(){for(var t=this.t.textTracks()||[],n=t.length-1;n>=0;n--){var i=t[n];if(i.kind===this.Lt)return i}},i.getMenuCaption=function(){return this.Ht&&this.Ht.label?this.Ht.label:this.localize(Znt(this.Lt))},i.createMenu=function(){return this.h.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},i.createItems=function(){var t=[];if(!this.Ht)return t;var n=this.Ht.cues;if(!n)return t;for(var i=0,r=n.length;i<r;i++){var e=n[i],u=new but(this.t,{track:this.Ht,cue:e});t.push(u)}return t},n}(_ut);kut.prototype.Lt="chapters",kut.prototype.St="Chapters",Gnt.registerComponent("ChaptersButton",kut);var Aut=function(t){function n(n,i,r){var e;(e=t.call(this,n,i,r)||this).v.setAttribute("aria-label","Descriptions Menu");var u=n.textTracks();if(u){var s=jnt(znt(e),e.handleTracksChange);u.addEventListener("change",s),e.on("dispose",(function(){u.removeEventListener("change",s)}))}return e}Knt(n,t);var i=n.prototype;return i.handleTracksChange=function(t){for(var n=this.player().textTracks(),i=!1,r=0,e=n.length;r<e;r++){var u=n[r];if(u.kind!==this.Lt&&"showing"===u.mode){i=!0;break}}i?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},n}(_ut);Aut.prototype.Lt="descriptions",Aut.prototype.St="Descriptions",Gnt.registerComponent("DescriptionsButton",Aut);var Tut=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).v.setAttribute("aria-label","Subtitles Menu"),e}return Knt(n,t),n.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},n}(_ut);Tut.prototype.Lt="subtitles",Tut.prototype.St="Subtitles",Gnt.registerComponent("SubtitlesButton",Tut);var Sut=function(t){function n(n,i){var r;return i.track={player:n,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,(r=t.call(this,n,i)||this).addClass("vjs-texttrack-settings"),r.controlText(", opens "+i.kind+" settings dialog"),r}return Knt(n,t),n.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").v.focus()},n}(put);Gnt.registerComponent("CaptionSettingsMenuItem",Sut);var Eut=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).v.setAttribute("aria-label","Captions Menu"),e}Knt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},i.createItems=function(){var n=[];return this.player().H&&this.player().H.featuresNativeTextTracks||(n.push(new Sut(this.t,{kind:this.Lt})),this.Ot+=1),t.prototype.createItems.call(this,n)},n}(_ut);Eut.prototype.Lt="captions",Eut.prototype.St="Captions",Gnt.registerComponent("CaptionsButton",Eut);var Iut=function(t){function n(n,i){var r,e=i.track,u=n.audioTracks();if(i.label=e.label||e.language||"Unknown",i.selected=e.enabled,(r=t.call(this,n,i)||this).track=e,u){var s=jnt(znt(r),r.handleTracksChange);u.addEventListener("change",s),r.on("dispose",(function(){u.removeEventListener("change",s)}))}return r}Knt(n,t);var i=n.prototype;return i.handleClick=function(n){var i=this.t.audioTracks();if(t.prototype.handleClick.call(this,n),i)for(var r=0;r<i.length;r++){var e=i[r];e.enabled=e===this.track}},i.handleTracksChange=function(t){this.selected(this.track.enabled)},n}(wut);Gnt.registerComponent("AudioTrackMenuItem",Iut);var Rut=function(t){function n(n,i){var r;return void 0===i&&(i={}),i.tracks=n.audioTracks&&n.audioTracks(),(r=t.call(this,n,i)||this).v.setAttribute("aria-label","Audio Menu"),r}Knt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},i.createItems=function(t){void 0===t&&(t=[]),this.Ot=1;var n=this.t.audioTracks&&this.t.audioTracks();if(!n)return t;for(var i=0;i<n.length;i++){var r=n[i];t.push(new Iut(this.t,{track:r,selectable:!0}))}return t},n}(mut);Rut.prototype.St="Audio Track",Gnt.registerComponent("AudioTrackButton",Rut);var Cut=function(t){function n(n,i){var r,e=i.rate,u=S(e,10);return i.label=e,i.selected=1===u,i.selectable=!0,(r=t.call(this,n,i)||this).label=e,r.rate=u,r.on(n,"ratechange",r.update),r}Knt(n,t);var i=n.prototype;return i.handleClick=function(n){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(t){this.selected(this.player().playbackRate()===this.rate)},n}(wut);Cut.prototype.contentElType="button",Gnt.registerComponent("PlaybackRateMenuItem",Cut);var Nut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).updateVisibility(),r.updateLabel(),r.on(n,"loadstart",r.updateVisibility),r.on(n,"ratechange",r.updateLabel),r}Knt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return this.Vt=Mtt("div",{className:"vjs-playback-rate-value",innerHTML:1}),n.appendChild(this.Vt),n},i.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},i.createMenu=function(){var t=new dut(this.player()),n=this.playbackRates();if(n)for(var i=n.length-1;i>=0;i--)t.addChild(new Cut(this.player(),{rate:n[i]+"x"}));return t},i.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.handleClick=function(t){for(var n=this.player().playbackRate(),i=this.playbackRates(),r=i[0],e=0;e<i.length;e++)if(i[e]>n){r=i[e];break}this.player().playbackRate(r)},i.playbackRates=function(){return this.h.playbackRates||this.h.playerOptions&&this.h.playerOptions.playbackRates},i.playbackRateSupported=function(){return this.player().H&&this.player().H.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},i.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=function(t){this.playbackRateSupported()&&(this.Vt.innerHTML=this.player().playbackRate()+"x")},n}(gut);Nut.prototype.St="Playback Rate",Gnt.registerComponent("PlaybackRateMenuButton",Nut);var xut=function(t){function n(){return t.apply(this,arguments)||this}Knt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},n}(Gnt);Gnt.registerComponent("Spacer",xut);var Dut=function(t){function n(){return t.apply(this,arguments)||this}Knt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var n=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return n.innerHTML="&nbsp;",n},n}(xut);Gnt.registerComponent("CustomControlSpacer",Dut);var Put=function(t){function n(){return t.apply(this,arguments)||this}return Knt(n,t),n.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},n}(Gnt);Put.prototype.h={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},Gnt.registerComponent("ControlBar",Put);var Mut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"error",r.open),r}Knt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},i.content=function(){var t=this.player().error();return t?this.localize(t.message):""},n}(lit);Mut.prototype.h=Xnt(lit.prototype.h,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Gnt.registerComponent("ErrorDisplay",Mut);var But="vjs-text-track-settings",Out=["#000","Black"],Lut=["#00F","Blue"],Fut=["#0FF","Cyan"],Vut=["#0F0","Green"],Uut=["#F0F","Magenta"],Wut=["#F00","Red"],jut=["#FFF","White"],Zut=["#FF0","Yellow"],Xut=["1","Opaque"],Gut=["0.5","Semi-Transparent"],Hut=["0","Transparent"],zut={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Out,jut,Wut,Vut,Lut,Zut,Uut,Fut]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Xut,Gut,Hut]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[jut,Out,Wut,Vut,Lut,Zut,Uut,Fut]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Xut,Gut]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Hut,Gut,Xut]}};function Yut(t,n){if(n&&(t=n(t)),t&&"none"!==t)return t}zut.windowColor.options=zut.backgroundColor.options;var Kut,qut=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).setDefaults(),r.hide(),r.updateDisplay=jnt(znt(r),r.updateDisplay),void 0===i.persistTextTrackSettings&&(r.h.persistTextTrackSettings=r.h.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",(function(){r.saveSettings(),r.hide()})),r.on(r.$(".vjs-default-button"),"click",(function(){r.setDefaults(),r.updateDisplay()})),ytt(zut,(function(t){r.on(r.$(t.selector),"change",r.updateDisplay)})),r.h.persistTextTrackSettings&&r.restoreSettings(),r}Knt(n,t);var i=n.prototype;return i.zt=function(t){var n=this,i=zut[t],r=i.id.replace("%s",this.o);return[Mtt("label",{className:"vjs-label",textContent:i.label},{for:r}),Mtt("select",{id:r},void 0,i.options.map((function(t){return Mtt("option",{textContent:n.localize(t[1]),value:t[0]})})))]},i.Wt=function(){var t=Mtt("legend",{textContent:this.localize("Text")}),n=this.zt("color"),i=Mtt("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.zt("textOpacity"));return Mtt("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[t].concat(n,i))},i.Gt=function(){var t=Mtt("legend",{textContent:this.localize("Background")}),n=this.zt("backgroundColor"),i=Mtt("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.zt("backgroundOpacity"));return Mtt("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[t].concat(n,i))},i.Xt=function(){var t=Mtt("legend",{textContent:this.localize("Window")}),n=this.zt("windowColor"),i=Mtt("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.zt("windowOpacity"));return Mtt("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[t].concat(n,i))},i.Jt=function(){return Mtt("div",{className:"vjs-tracksettings-colors"},void 0,[this.Wt(),this.Gt(),this.Xt()])},i.Qt=function(){var t=Mtt("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.zt("fontPercent")),n=Mtt("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.zt("edgeStyle")),i=Mtt("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.zt("fontFamily"));return Mtt("div",{className:"vjs-tracksettings-font"},void 0,[t,n,i])},i.Yt=function(){var t=Mtt("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),n=Mtt("button",{className:"vjs-done-button",textContent:"Done"});return Mtt("div",{className:"vjs-tracksettings-controls"},void 0,[t,n])},i.createEl=function(){var t=Mtt("div",{className:"vjs-tracksettings"},void 0,[this.Jt(),this.Qt(),this.Yt()]),n=Mtt("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.o,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),i=Mtt("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.o,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),r=Mtt("div",void 0,{role:"document"},[n,i,t]);return Mtt("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":n.id,"aria-describedby":i.id},r)},i.getValues=function(){var t=this;return function(t,n,i){return void 0===i&&(i=0),ptt(t).reduce((function(i,r){return n(i,t[r],r)}),i)}(zut,(function(n,i,r){var e=function(t,n){return Yut(t.options[t.options.selectedIndex].value,n)}(t.$(i.selector),i.parser);return void 0!==e&&(n[r]=e),n}),{})},i.setValues=function(t){var n=this;ytt(zut,(function(i,r){!function(t,n,i){if(n)for(var r=0;r<t.options.length;r++)if(Yut(t.options[r].value,i)===n){t.selectedIndex=r;break}}(n.$(i.selector),t[r],i.parser)}))},i.setDefaults=function(){var t=this;ytt(zut,(function(n){var i=n.hasOwnProperty("default")?n.default:0;t.$(n.selector).selectedIndex=i}))},i.restoreSettings=function(){var t;try{t=JSON.parse(ftt.localStorage.getItem(But))}catch(t){Ttt.warn(t)}t&&this.setValues(t)},i.saveSettings=function(){if(this.h.persistTextTrackSettings){var t=this.getValues();try{k.keys(t).length?ftt.localStorage.setItem(But,JSON.stringify(t)):ftt.localStorage.removeItem(But)}catch(t){Ttt.warn(t)}}},i.updateDisplay=function(){var t=this.t.getChild("textTrackDisplay");t&&t.updateDisplay()},n}(Gnt);Gnt.registerComponent("TextTrackSettings",qut);var Jut,Qut=function(t){function n(n,i){var r;r=t.call(this,n,i)||this;var e=n.source,u=!1;if(e&&(r.v.currentSrc!==e.src||n.tag&&3===n.tag.Kt)?r.setSource(e):r.Zt(r.v),r.v.hasChildNodes()){for(var s=r.v.childNodes,o=s.length,a=[];o--;){var c=s[o];"track"===c.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().J(c),r.remoteTextTracks().tt(c.track),u||r.v.hasAttribute("crossorigin")||!bit(c.src)||(u=!0)):a.push(c))}for(var h=0;h<a.length;h++)r.v.removeChild(a[h])}return["audio","video"].forEach((function(t){var n=r.el()[t+"Tracks"],i=r[t+"Tracks"](),e=Znt(t);r["featuresNative"+e+"Tracks"]&&n&&n.addEventListener&&(r["handle"+e+"ti"]=function(t){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},r["handle"+e+"ii"]=function(t){return i.addTrack(t.track)},r["handle"+e+"si"]=function(t){return i.removeTrack(t.track)},n.addEventListener("change",r["handle"+e+"ti"]),n.addEventListener("addtrack",r["handle"+e+"ii"]),n.addEventListener("removetrack",r["handle"+e+"si"]),r["removeOld"+e+"ei"]=function(t){return r.ni(i,n)},r.on("loadstart",r["removeOld"+e+"ei"]))})),r.featuresNativeTextTracks&&(u&&Ttt.warn(Rtt(Kut||(Kut=ltt(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."])))),r.ri=jnt(znt(r),r.handleTextTrackChange),r.hi=jnt(znt(r),r.handleTextTrackAdd),r.oi=jnt(znt(r),r.handleTextTrackRemove),r.ai()),r.ci(),(Tnt||ant||gnt)&&!0===n.nativeControlsForTouch&&r.setControls(!0),r.di(),r.triggerReady(),r}Knt(n,t);var i=n.prototype;return i.dispose=function(){var i=this;["audio","video","text"].forEach((function(t){var n=Znt(t),r=i.v[t+"Tracks"];r&&r.removeEventListener&&(r.removeEventListener("change",i["handle"+n+"ti"]),r.removeEventListener("addtrack",i["handle"+n+"ii"]),r.removeEventListener("removetrack",i["handle"+n+"si"])),r&&i.off("loadstart",i["removeOld"+n+"ei"])})),n.disposeMediaElement(this.v),t.prototype.dispose.call(this)},i.ci=function(){var t,n=this.textTracks(),i=function(){t=[];for(var i=0;i<n.length;i++){var r=n[i];"metadata"===r.kind&&t.push({track:r,storedMode:r.mode})}};i(),n.addEventListener("change",i);var r=function i(){for(var r=0;r<t.length;r++){var e=t[r];"disabled"===e.track.mode&&e.track.mode!==e.storedMode&&(e.track.mode=e.storedMode)}n.removeEventListener("change",i)};this.on("webkitbeginfullscreen",(function(){n.removeEventListener("change",i),n.removeEventListener("change",r),n.addEventListener("change",r)})),this.on("webkitendfullscreen",(function(){n.removeEventListener("change",i),n.addEventListener("change",i),n.removeEventListener("change",r)}))},i.createEl=function(){var t=this.h.tag;if(!t||!this.h.playerElIngest&&!this.movingMediaElementInDOM){if(t){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),n.disposeMediaElement(t),t=i}else{t=vtt.createElement("video");var r=Xnt({},this.h.tag&&ztt(this.h.tag));Tnt&&!0===this.h.nativeControlsForTouch||delete r.controls,Htt(t,_tt(r,{id:this.h.techId,class:"vjs-tech"}))}t.playerId=this.h.playerId}void 0!==this.h.preload&&Ytt(t,"preload",this.h.preload);for(var e=["loop","muted","playsinline","autoplay"],u=e.length-1;u>=0;u--){var s=e[u],o=this.h[s];void 0!==o&&(o?Ytt(t,s,s):Ktt(t,s),t[s]=o)}return t},i.Zt=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var n=!1,i=function(){n=!0};this.on("loadstart",i);var r=function(){n||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready((function(){this.off("loadstart",i),this.off("loadedmetadata",r),n||this.trigger("loadstart")}))}var e=["loadstart"];e.push("loadedmetadata"),t.readyState>=2&&e.push("loadeddata"),t.readyState>=3&&e.push("canplay"),t.readyState>=4&&e.push("canplaythrough"),this.ready((function(){e.forEach((function(t){this.trigger(t)}),this)}))}},i.ai=function(){var t=this.el().textTracks;if(t){for(var n=0;n<t.length;n++)this.textTracks().tt(t[n]);t.addEventListener&&(t.addEventListener("change",this.ri),t.addEventListener("addtrack",this.hi),t.addEventListener("removetrack",this.oi)),this.on("loadstart",this.fi)}},i.handleTextTrackChange=function(t){var n=this.textTracks();this.textTracks().trigger({type:"change",target:n,currentTarget:n,srcElement:n})},i.handleTextTrackAdd=function(t){this.textTracks().tt(t.track)},i.handleTextTrackRemove=function(t){this.textTracks().it(t.track)},i.ni=function(t,n){var i=[];if(n){for(var r=0;r<t.length;r++){for(var e=t[r],u=!1,s=0;s<n.length;s++)if(n[s]===e){u=!0;break}u||i.push(e)}for(var o=0;o<i.length;o++){var a=i[o];t.it(a)}}},i.fi=function(t){var n=this.textTracks(),i=this.el().textTracks;this.ni(n,i)},i.play=function(){var t=this.v.play();void 0!==t&&"function"==typeof t.then&&t.then(null,(function(t){}))},i.setCurrentTime=function(t){try{this.v.currentTime=t}catch(t){Ttt(t,"Video is not ready. (Video.js)")}},i.duration=function(){var t=this;if(this.v.duration===1/0&&vnt&&pnt&&0===this.v.currentTime){return this.on("timeupdate",(function n(){t.v.currentTime>0&&(t.v.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",n))})),NaN}return this.v.duration||NaN},i.width=function(){return this.v.offsetWidth},i.height=function(){return this.v.offsetHeight},i.di=function(){var t=this;if("webkitDisplayingFullscreen"in this.v){var n=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.v&&"picture-in-picture"!==this.v.webkitPresentationMode&&(this.one("webkitendfullscreen",n),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",(function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",n)}))}},i.supportsFullScreen=function(){if("function"==typeof this.v.webkitEnterFullScreen){var t=ftt.navigator&&ftt.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},i.enterFullScreen=function(){var t=this.v;t.paused&&t.networkState<=t.HAVE_METADATA?(this.v.play(),this.setTimeout((function(){t.pause(),t.webkitEnterFullScreen()}),0)):t.webkitEnterFullScreen()},i.exitFullScreen=function(){this.v.webkitExitFullScreen()},i.src=function(t){if(void 0===t)return this.v.src;this.setSrc(t)},i.reset=function(){n.resetMediaElement(this.v)},i.currentSrc=function(){return this.bt?this.bt.src:this.v.currentSrc},i.setControls=function(t){this.v.controls=!!t},i.addTextTrack=function(n,i,r){return this.featuresNativeTextTracks?this.v.addTextTrack(n,i,r):t.prototype.addTextTrack.call(this,n,i,r)},i.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,n);var i=vtt.createElement("track");return n.kind&&(i.kind=n.kind),n.label&&(i.label=n.label),(n.language||n.srclang)&&(i.srclang=n.language||n.srclang),n.default&&(i.default=n.default),n.id&&(i.id=n.id),n.src&&(i.src=n.src),i},i.addRemoteTextTrack=function(n,i){var r=t.prototype.addRemoteTextTrack.call(this,n,i);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},i.removeRemoteTextTrack=function(n){if(t.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var i=this.$$("track"),r=i.length;r--;)n!==i[r]&&n!==i[r].track||this.el().removeChild(i[r])},i.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),ftt.performance&&"function"==typeof ftt.performance.now?t.creationTime=ftt.performance.now():ftt.performance&&ftt.performance.timing&&"number"==typeof ftt.performance.timing.navigationStart&&(t.creationTime=ftt.Date.now()-ftt.performance.timing.navigationStart),t},n}(Det);xtt()&&(Qut.TEST_VID=vtt.createElement("video"),(Jut=vtt.createElement("track")).kind="captions",Jut.srclang="en",Jut.label="English",Qut.TEST_VID.appendChild(Jut)),Qut.isSupported=function(){try{Qut.TEST_VID.volume=.5}catch(t){return!1}return!(!Qut.TEST_VID||!Qut.TEST_VID.canPlayType)},Qut.canControlVolume=function(){try{var t=Qut.TEST_VID.volume;return Qut.TEST_VID.volume=t/2+.1,t!==Qut.TEST_VID.volume}catch(t){return!1}},Qut.canControlPlaybackRate=function(){if(vnt&&pnt&&ynt<58)return!1;try{var t=Qut.TEST_VID.playbackRate;return Qut.TEST_VID.playbackRate=t/2+.1,t!==Qut.TEST_VID.playbackRate}catch(t){return!1}},Qut.supportsNativeTextTracks=function(){return Ant},Qut.supportsNativeVideoTracks=function(){return!(!Qut.TEST_VID||!Qut.TEST_VID.videoTracks)},Qut.supportsNativeAudioTracks=function(){return!(!Qut.TEST_VID||!Qut.TEST_VID.audioTracks)},Qut.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],Qut.prototype.featuresVolumeControl=Qut.canControlVolume(),Qut.prototype.featuresPlaybackRate=Qut.canControlPlaybackRate(),Qut.prototype.movingMediaElementInDOM=!hnt,Qut.prototype.featuresFullscreenResize=!0,Qut.prototype.featuresProgressEvents=!0,Qut.prototype.featuresTimeupdateEvents=!0,Qut.prototype.featuresNativeTextTracks=Qut.supportsNativeTextTracks(),Qut.prototype.featuresNativeVideoTracks=Qut.supportsNativeVideoTracks(),Qut.prototype.featuresNativeAudioTracks=Qut.supportsNativeAudioTracks();var $ut=Qut.TEST_VID&&Qut.TEST_VID.constructor.prototype.canPlayType,tst=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,nst=/^video\/mp4/i;Qut.patchCanPlayType=function(){lnt>=4&&!mnt?Qut.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&tst.test(t)?"maybe":$ut.call(this,t)}:dnt&&(Qut.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&nst.test(t)?"maybe":$ut.call(this,t)})},Qut.unpatchCanPlayType=function(){var t=Qut.TEST_VID.constructor.prototype.canPlayType;return Qut.TEST_VID.constructor.prototype.canPlayType=$ut,t},Qut.patchCanPlayType(),Qut.disposeMediaElement=function(t){if(t){var n=t.nodeName.toLowerCase();if("video"===n||"audio"===n){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}}},Qut.resetMediaElement=function(t){if(t){for(var n=t.querySelectorAll("source"),i=n.length;i--;)t.removeChild(n[i]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){Qut.prototype[t]=function(){return this.v[t]||this.v.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){Qut.prototype["set"+Znt(t)]=function(n){this.v[t]=n,n?this.v.setAttribute(t,t):this.v.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach((function(t){Qut.prototype[t]=function(){return this.v[t]}})),["volume","src","poster","preload","playbackRate"].forEach((function(t){Qut.prototype["set"+Znt(t)]=function(n){this.v[t]=n}})),["pause","load"].forEach((function(t){Qut.prototype[t]=function(){return this.v[t]()}})),Det.withSourceHandlers(Qut),Qut.nativeSourceHandler={},Qut.nativeSourceHandler.canPlayType=function(t){try{return Qut.TEST_VID.canPlayType(t)}catch(t){return""}},Qut.nativeSourceHandler.canHandleSource=function(t,n){if(t.type)return Qut.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=function(t){if("string"==typeof t){var n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(n)return n.pop().toLowerCase()}return""}(t.src);return Qut.nativeSourceHandler.canPlayType("video/"+i)}return""},Qut.nativeSourceHandler.handleSource=function(t,n,i){n.setSrc(t.src)},Qut.nativeSourceHandler.dispose=function(){},Qut.registerSourceHandler(Qut.nativeSourceHandler),Gnt.registerComponent("Html5",Qut),Det.registerTech("Html5",Qut);var ist=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],rst=function(t){function n(i,r,e){var u;if(i.id=i.id||["vjs_video",gtt()].join("_"),(r=_tt(n.getTagSettings(i),r)).initChildren=!1,r.createEl=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof i.closest){var s=i.closest("[lang]");s&&(r.language=s.getAttribute("lang"))}else for(var o=i;o&&1===o.nodeType;){if(ztt(o).hasOwnProperty("lang")){r.language=o.getAttribute("lang");break}o=o.parentNode}if(!(u=t.call(this,null,r,e)||this).h||!u.h.techOrder||!u.h.techOrder.length)throw new y("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(u.tag=i,u.tagAttributes=i&&ztt(i),u.language(u.h.language),r.languages){var a={};k.getOwnPropertyNames(r.languages).forEach((function(t){a[t.toLowerCase()]=r.languages[t]})),u.vi=a}else u.vi=n.prototype.h.languages;u.pi={},u.mi=r.poster||"",u.gi=!!r.controls,i.controls=!1,u.yi=!1,u.v=u.createEl();var c=Xnt(u.h);if(r.plugins){var h=r.plugins;k.getOwnPropertyNames(h).forEach((function(t){"function"==typeof this[t]?this[t](h[t]):Ttt.error("Unable to find plugin:",t)}),znt(u))}u.h.playerOptions=c,u.initChildren(),u.isAudio("audio"===i.nodeName.toLowerCase()),u.controls()?u.addClass("vjs-controls-enabled"):u.addClass("vjs-controls-disabled"),u.v.setAttribute("role","region"),u.isAudio()?u.v.setAttribute("aria-label","audio player"):u.v.setAttribute("aria-label","video player"),u.isAudio()&&u.addClass("vjs-audio"),u.bi()&&u.addClass("vjs-no-flex"),hnt||u.addClass("vjs-workinghover"),n.players[u.o]=znt(u);var f="5.20.6-opentelly.14".split(".")[0];return u.addClass("vjs-v"+f),u.userActive(!0),u.reportUserActivity(),u.ki(),u.on("fullscreenchange",u.wi),u.on("stageclick",u._i),u}Knt(n,t);var i=n.prototype;return i.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.xi&&this.xi.parentNode&&this.xi.parentNode.removeChild(this.xi),n.players[this.o]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.v&&this.v.player&&(this.v.player=null),this.H&&this.H.dispose(),t.prototype.dispose.call(this)},i.createEl=function(){var n,i=this.tag,r=this.Ci=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player");n=this.v=r?i.parentNode:t.prototype.createEl.call(this,"div"),i.setAttribute("tabindex","-1"),i.removeAttribute("width"),i.removeAttribute("height");var e=ztt(i);if(k.getOwnPropertyNames(e).forEach((function(t){"class"===t?n.className+=" "+e[t]:n.setAttribute(t,e[t])})),i.playerId=i.id,i.id+="Si",i.className="vjs-tech",i.player=n.player=this,this.addClass("vjs-paused"),!0!==ftt.VIDEOJS_NO_DYNAMIC_STYLE){this.xi=Unt("vjs-styles-dimensions");var u=int(".vjs-styles-defaults"),s=int("head");s.insertBefore(this.xi,u?u.nextSibling:s.firstChild)}this.width(this.h.width),this.height(this.h.height),this.fluid(this.h.fluid),this.aspectRatio(this.h.aspectRatio);for(var o=i.getElementsByTagName("a"),a=0;a<o.length;a++){var c=o.item(a);Ztt(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return i.Kt=i.networkState,i.parentNode&&!r&&i.parentNode.insertBefore(n,i),Ott(i,n),this.m.unshift(i),this.v=n,n},i.width=function(t){return this.dimension("width",t)},i.height=function(t){return this.dimension("height",t)},i.dimension=function(t,n){var i="width"===t?"ji":"Ti";if(void 0===n)return this[i]||0;if(""===n)this[i]=void 0;else{var r=S(n);if(E(r))return Ttt.error('Improper value "'+n+'" supplied for for '+t),this;this[i]=r}return this.Mi(),this},i.fluid=function(t){if(void 0===t)return!!this.Ai;this.Ai=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.Mi()},i.aspectRatio=function(t){if(void 0===t)return this.Pi;if(!/^\d+\:\d+$/.test(t))throw new y("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.Pi=t,this.fluid(!0),this.Mi()},i.Mi=function(){if(!0!==ftt.VIDEOJS_NO_DYNAMIC_STYLE){var t,n,i,r=(void 0!==this.Pi&&"auto"!==this.Pi?this.Pi:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),e=r[1]/r[0];t=void 0!==this.ji?this.ji:void 0!==this.Ti?this.Ti/e:this.videoWidth()||300,n=void 0!==this.Ti?this.Ti:t*e,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),Wnt(this.xi,"\n      ."+i+" {\n        width: "+t+"px;\n        height: "+n+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*e+"%;\n      }\n    ")}else{var u="number"==typeof this.ji?this.ji:this.h.width,s="number"==typeof this.Ti?this.Ti:this.h.height,o=this.H&&this.H.el();o&&(u>=0&&(o.width=u),s>=0&&(o.height=s))}},i._t=function(t,n){var i=this;this.H&&this.Ei(),"Html5"!==t&&this.tag&&(Det.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.Ni=t,this.j=!1;var r=_tt({source:n,nativeControlsForTouch:this.h.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+t+"Ii",videoTracks:this.rt,textTracks:this.nt,audioTracks:this.ht,autoplay:this.h.autoplay,playsinline:this.h.playsinline,preload:this.h.preload,loop:this.h.loop,muted:this.h.muted,poster:this.poster(),language:this.language(),playerElIngest:this.Ci||!1,"vtt.js":this.h["vtt.js"]},this.h[t.toLowerCase()]);this.tag&&(r.tag=this.tag),n&&(this.Bi=n.type,n.src===this.pi.src&&this.pi.currentTime>0&&(r.startTime=this.pi.currentTime),this.pi.sources=null,this.pi.source=n,this.pi.src=n.src);var e=Det.getTech(t);e||(e=Gnt.getComponent(t)),this.H=new e(r),this.H.ready(jnt(this,this.Fi),!0),fit(this.Di||[],this.H),ist.forEach((function(t){i.on(i.H,t,i["handleTech"+Znt(t)+"_"])})),this.on(this.H,"loadstart",this.$i),this.on(this.H,"waiting",this.Ri),this.on(this.H,"canplay",this.Ui),this.on(this.H,"canplaythrough",this.Oi),this.on(this.H,"playing",this.Vi),this.on(this.H,"ended",this.Li),this.on(this.H,"seeking",this.Hi),this.on(this.H,"seeked",this.qi),this.on(this.H,"play",this.zi),this.on(this.H,"firstplay",this.Wi),this.on(this.H,"pause",this.Gi),this.on(this.H,"durationchange",this.Xi),this.on(this.H,"fullscreenchange",this.Ji),this.on(this.H,"error",this.Qi),this.on(this.H,"loadedmetadata",this.Mi),this.on(this.H,"resize",this.Mi),this.on(this.H,"posterchange",this.Yi),this.on(this.H,"textdata",this.Ki),this.usingNativeControls(this.Zi("controls")),this.controls()&&!this.usingNativeControls()&&this.ts(),this.H.el().parentNode===this.contentEl()||"Html5"===t&&this.tag||Ott(this.H.el(),this.contentEl()),this.tag&&(this.tag.player=null,this.tag=null)},i.Ei=function(){this.rt=this.videoTracks(),this.nt=this.textTracks(),this.ht=this.audioTracks(),this.Di=hit(this.H),this.j=!1,this.H.dispose(),this.H=!1},i.tech=function(t){if(t&&t.IWillNotUseThisInPlugins)return this.H;var n="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw ftt.alert(n),new y(n)},i.ts=function(){this.ss(),this.on(this.H,"mousedown",this.es),this.on(this.H,"touchstart",this.ns),this.on(this.H,"touchmove",this.rs),this.on(this.H,"touchend",this.hs),this.on(this.H,"tap",this.os)},i.ss=function(){this.off(this.H,"tap",this.os),this.off(this.H,"touchstart",this.ns),this.off(this.H,"touchmove",this.rs),this.off(this.H,"touchend",this.hs),this.off(this.H,"mousedown",this.es)},i.Fi=function(){if(this.triggerReady(),this.pi.volume&&this.us("setVolume",this.pi.volume),this.Yi(),this.Xi(),(this.src()||this.currentSrc())&&this.tag&&this.h.autoplay&&this.paused()){try{delete this.tag.poster}catch(t){Ttt("deleting tag.poster throws in some browsers",t)}this.play()}},i.$i=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},i.hasStarted=function(t){return void 0!==t?(this.et!==t&&(this.et=t,t?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.et},i.zi=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},i.Ri=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",(function(){return t.removeClass("vjs-waiting")}))},i.Ui=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},i.Oi=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},i.Vi=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},i.Hi=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},i.qi=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},i.Wi=function(){this.h.starttime&&(Ttt.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.h.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},i.Gi=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},i.Li=function(){this.addClass("vjs-ended"),this.h.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},i.Xi=function(){this.duration(this.Zi("duration"))},i.es=function(t){0===t.button&&this.controls()&&(void 0!==this.h&&void 0!==this.h.userActions&&void 0!==this.h.userActions.click&&!1===this.h.userActions.click||(void 0!==this.h&&void 0!==this.h.userActions&&"function"==typeof this.h.userActions.click?this.h.userActions.click.call(this,t):this.paused()?this.play():this.pause()))},i.os=function(){this.userActive(!this.userActive())},i.ns=function(){this.userWasActive=this.userActive()},i.rs=function(){this.userWasActive&&this.reportUserActivity()},i.hs=function(t){t.cancelable&&t.preventDefault()},i.wi=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},i._i=function(){this.reportUserActivity()},i.Ji=function(t,n){n&&(this.toggleClass("vjs-ios-native-fs",!(!n.nativeIOSFullscreen||!n.isFullscreen)),this.isFullscreen(n.isFullscreen)),this.trigger("fullscreenchange")},i.Qi=function(){var t=this.H.error();this.error(t)},i.Ki=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},i.getCache=function(){return this.pi},i.us=function(t,n){if(this.H&&!this.H.j)this.H.ready((function(){this[t](n)}),!0);else try{this.H&&this.H[t](n)}catch(t){throw Ttt(t),t}},i.Zi=function(t){if(this.H&&this.H.j)try{return this.H[t]()}catch(n){throw void 0===this.H[t]?Ttt("Video.js: "+t+" method not defined for "+this.Ni+" playback technology.",n):"TypeError"===n.name?(Ttt("Video.js: "+t+" unavailable on "+this.Ni+" playback technology element.",n),this.H.j=!1):Ttt(n),n}},i.play=function(){return this.src()||this.currentSrc()?this.us("play"):this.H.one("loadstart",(function(){this.play()})),this},i.pause=function(){return this.us("pause"),this},i.paused=function(){return!1!==this.Zi("paused")},i.scrubbing=function(t){return void 0!==t?(this.yi=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.yi},i.currentTime=function(t){return void 0!==t?(this.us("setCurrentTime",t),this):(this.pi.currentTime=this.Zi("currentTime")||0,this.pi.currentTime)},i.duration=function(t){return void 0===t?void 0!==this.pi.duration?this.pi.duration:NaN:((t=S(t))<0&&(t=1/0),t!==this.pi.duration&&(this.pi.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},i.remainingTime=function(){return this.duration()-this.currentTime()},i.buffered=function(){var t=this.Zi("buffered");return t&&t.length||(t=Qnt(0,0)),t},i.bufferedPercent=function(){return $nt(this.buffered(),this.duration())},i.bufferedEnd=function(){var t=this.buffered(),n=this.duration(),i=t.end(t.length-1);return i>n&&(i=n),i},i.volume=function(t){var n;return void 0!==t?(n=A.max(0,A.min(1,S(t))),this.pi.volume=n,this.us("setVolume",n),this):(n=S(this.Zi("volume")),E(n)?1:n)},i.muted=function(t){return void 0!==t?(this.us("setMuted",t),this):this.Zi("muted")||!1},i.supportsFullScreen=function(){return this.Zi("supportsFullScreen")||!1},i.isFullscreen=function(t){return void 0!==t?(this.cs=!!t,this):!!this.cs},i.requestFullscreen=function(t){var n,i=eit;return this.isFullscreen(!0),i.requestFullscreen?(Dnt(vtt,i.fullscreenchange,jnt(this,(function t(n){this.isFullscreen(vtt[i.fullscreenElement]),!1===this.isFullscreen()&&Pnt(vtt,i.fullscreenchange,t),this.trigger("fullscreenchange")}))),i.prefixed||(n=this.h.fullscreenOptions,void 0!==t&&(n=t)),this.v[i.requestFullscreen](n)):this.H.supportsFullScreen()?this.us("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},i.exitFullscreen=function(){var t=eit;return this.isFullscreen(!1),t.requestFullscreen?vtt[t.exitFullscreen]():this.H.supportsFullScreen()?this.us("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},i.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=vtt.documentElement.style.overflow,Dnt(vtt,"keydown",jnt(this,this.fullWindowOnEscKey)),vtt.documentElement.style.overflow="hidden",Ztt(vtt.body,"vjs-full-window"),this.trigger("enterFullWindow")},i.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},i.exitFullWindow=function(){this.isFullWindow=!1,Pnt(vtt,"keydown",this.fullWindowOnEscKey),vtt.documentElement.style.overflow=this.docOrigOverflow,Xtt(vtt.body,"vjs-full-window"),this.trigger("exitFullWindow")},i.canPlayType=function(t){for(var n,i=0,r=this.h.techOrder;i<r.length;i++){var e=Znt(r[i]),u=Det.getTech(e);if(u||(u=Gnt.getComponent(e)),u){if(u.isSupported()&&(n=u.canPlayType(t)))return n}else Ttt.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.')}return""},i.selectSource=function(t){var n,i=this,r=this.h.techOrder.map(Znt).map((function(t){return[t,Det.getTech(t)||Gnt.getComponent(t)]})).filter((function(t){var n=t[0],i=t[1];return i?i.isSupported():(Ttt.error('The "'+n+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),e=function(t,n,i){var r;return t.some((function(t){return n.some((function(n){if(r=i(t,n))return!0}))})),r},u=function(t,n){var r=t[0];if(t[1].canPlaySource(n,i.h[r.toLowerCase()]))return{source:n,tech:r}};return(this.h.sourceOrder?e(t,r,(n=u,function(t,i){return n(i,t)})):e(r,t,u))||!1},i.src=function(t){if(void 0===t)return this.Zi("src");var n=Det.getTech(this.Ni);return n||(n=Gnt.getComponent(this.Ni)),Array.isArray(t)?this.ls(t):"string"==typeof t?this.src({src:t}):t instanceof k&&(t.type&&!n.canPlaySource(t,this.h[this.Ni.toLowerCase()])?this.ls([t]):(this.pi.sources=null,this.pi.source=t,this.pi.src=t.src,this.Bi=t.type||"",this.ready((function(){n.prototype.hasOwnProperty("setSource")?this.us("setSource",t):this.us("src",t.src),"auto"===this.h.preload&&this.load(),this.h.autoplay&&this.play()}),!0))),this},i.ls=function(t){var n=this.selectSource(t);n?(n.tech===this.Ni?this.src(n.source):this._t(n.tech,n.source),this.pi.sources=t):(this.setTimeout((function(){this.error({code:4,message:this.localize(this.h.notSupportedMessage)})}),0),this.triggerReady())},i.load=function(){return this.us("load"),this},i.reset=function(){return this._t(Znt(this.h.techOrder[0]),null),this.us("reset"),this},i.currentSources=function(){var t=this.currentSource(),n=[];return 0!==k.keys(t).length&&n.push(t),this.pi.sources||n},i.currentSource=function(){var t={},n=this.currentSrc();return n&&(t.src=n),this.pi.source||t},i.currentSrc=function(){return this.Zi("currentSrc")||this.pi.src||""},i.currentType=function(){return this.Bi||""},i.preload=function(t){return void 0!==t?(this.us("setPreload",t),this.h.preload=t,this):this.Zi("preload")},i.autoplay=function(t){return void 0!==t?(this.us("setAutoplay",t),this.h.autoplay=t,this):this.Zi("autoplay",t)},i.playsinline=function(t){return void 0!==t?(this.us("setPlaysinline",t),this.h.playsinline=t,this):this.Zi("playsinline")},i.loop=function(t){return void 0!==t?(this.us("setLoop",t),this.h.loop=t,this):this.Zi("loop")},i.poster=function(t){return void 0===t?this.mi:(t||(t=""),this.mi=t,this.us("setPoster",t),this.trigger("posterchange"),this)},i.Yi=function(){!this.mi&&this.H&&this.H.poster&&(this.mi=this.H.poster()||"",this.trigger("posterchange"))},i.controls=function(t){return void 0!==t?(t=!!t,this.gi!==t&&(this.gi=t,this.usingNativeControls()&&this.us("setControls",t),t?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.ts()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.ss())),this):!!this.gi},i.usingNativeControls=function(t){return void 0!==t?(t=!!t,this.ds!==t&&(this.ds=t,t?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.ds},i.error=function(t){return void 0===t?this.lt||null:null===t?(this.lt=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.lt=new oit(t),this.addClass("vjs-error"),Ttt.error("(CODE:"+this.lt.code+" "+oit.errorTypes[this.lt.code]+")",this.lt.message,this.lt),this.trigger("error"),this)},i.reportUserActivity=function(t){this.fs=!0},i.userActive=function(t){return void 0!==t?((t=!!t)!==this.vs&&(this.vs=t,t?(this.fs=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.fs=!1,this.H&&this.H.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.vs},i.ki=function(){var t,n,i,r,e=jnt(this,this.reportUserActivity);this.on("mousedown",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)})),this.on("mousemove",(function(t){t.screenX===n&&t.screenY===i||(n=t.screenX,i=t.screenY,e())})),this.on("mouseup",(function(n){e(),this.clearInterval(t)})),this.on("keydown",e),this.on("keyup",e),this.setInterval((function(){if(this.fs){this.fs=!1,this.userActive(!0),this.clearTimeout(r);var t=this.h.inactivityTimeout;t>0&&(r=this.setTimeout((function(){this.fs||this.userActive(!1)}),t))}}),250)},i.playbackRate=function(t){return void 0!==t?(this.us("setPlaybackRate",t),this):this.H&&this.H.featuresPlaybackRate?this.Zi("playbackRate"):1},i.isAudio=function(t){return void 0!==t?(this.ps=!!t,this):!!this.ps},i.videoTracks=function(){return this.H?this.H.videoTracks():(this.rt=this.rt||new Ret,this.rt)},i.audioTracks=function(){return this.H?this.H.audioTracks():(this.ht=this.ht||new Net,this.ht)},i.textTracks=function(){if(this.H)return this.H.textTracks()},i.remoteTextTracks=function(){if(this.H)return this.H.remoteTextTracks()},i.remoteTextTrackEls=function(){if(this.H)return this.H.remoteTextTrackEls()},i.addTextTrack=function(t,n,i){if(this.H)return this.H.addTextTrack(t,n,i)},i.addRemoteTextTrack=function(t,n){if(this.H)return this.H.addRemoteTextTrack(t,n)},i.removeRemoteTextTrack=function(t){var n=(void 0===t?{}:t).track,i=void 0===n?arguments[0]:n;if(this.H)return this.H.removeRemoteTextTrack(i)},i.getVideoPlaybackQuality=function(){return this.Zi("getVideoPlaybackQuality")},i.videoWidth=function(){return this.H&&this.H.videoWidth&&this.H.videoWidth()||0},i.videoHeight=function(){return this.H&&this.H.videoHeight&&this.H.videoHeight()||0},i.language=function(t){return void 0===t?this.gs:(this.gs!==String(t).toLowerCase()&&(this.gs=String(t).toLowerCase(),void 0!==this.v&&this.trigger("languagechange")),this)},i.languages=function(){return Xnt(n.prototype.h.languages,this.vi)},i.toJSON=function(){var t=Xnt(this.h),n=t.tracks;t.tracks=[];for(var i=0;i<n.length;i++){var r=n[i];(r=Xnt(r)).player=void 0,t.tracks[i]=r}return t},i.createModal=function(t,n){var i=this;(n=n||{}).content=t||"";var r=new lit(this,n);return this.addChild(r),r.on("dispose",(function(){i.removeChild(r)})),r.open()},n.getTagSettings=function(t){var n={sources:[],tracks:[]},i=ztt(t),r=i["data-setup"];if(jtt(t,"vjs-fluid")&&(i.fluid=!0),null!==r){var e=ait(r||"{}"),u=e[0],s=e[1];u&&Ttt.error(u),_tt(i,s)}if(_tt(n,i),t.hasChildNodes())for(var o=t.childNodes,a=0,c=o.length;a<c;a++){var h=o[a],f=h.nodeName.toLowerCase();"source"===f?n.sources.push(ztt(h)):"track"===f&&n.tracks.push(ztt(h))}return n},i.bi=function(){var t=vtt.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},n}(Gnt);rst.players={};var est=ftt.navigator;rst.prototype.h={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:est&&(est.languages&&est.languages[0]||est.userLanguage||est.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreenOptions:{navigationUI:"hide"}},["ended","seeking","seekable","networkState","readyState"].forEach((function(t){rst.prototype[t]=function(){return this.Zi(t)}})),ist.forEach((function(t){rst.prototype["handleTech"+Znt(t)+"_"]=function(){return this.trigger(t)}})),Gnt.registerComponent("Player",rst);var ust,sst,ost=function(t){function n(i){var r;void 0===i&&(i={});var e=Xnt(i,{kind:mit[i.kind]||""}),u=r=t.call(this,e)||this,s=!1;if(_nt)for(var o in n.prototype)"constructor"!==o&&(u[o]=n.prototype[o]);return k.defineProperty(u,"enabled",{get:function(){return s},set:function(t){"boolean"==typeof t&&t!==s&&(s=t,this.trigger("enabledchange"))}}),e.enabled&&(u.enabled=e.enabled),u.W=!0,u||znt(r)}return Knt(n,t),n}(yit),ast=function(t){function n(i){var r;void 0===i&&(i={});var e=Xnt(i,{kind:git[i.kind]||""}),u=r=t.call(this,e)||this,s=!1;if(_nt)for(var o in n.prototype)"constructor"!==o&&(u[o]=n.prototype[o]);return k.defineProperty(u,"selected",{get:function(){return s},set:function(t){"boolean"==typeof t&&t!==s&&(s=t,this.trigger("selectedchange"))}}),e.selected&&(u.selected=e.selected),u||znt(r)}return Knt(n,t),n}(yit);function cst(t,n,i){var r;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),cst.getPlayers()[t])return n&&Ttt.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&cst.getPlayers()[t].ready(i),cst.getPlayers()[t];r=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),vtt.getElementById(t)}(t)}else r=t;if(!r||!r.nodeName)throw new _("The element or ID supplied is not valid. (videojs)");if(r.player||rst.players[r.playerId])return r.player||rst.players[r.playerId];n=n||{},cst.hooks("beforesetup").forEach((function(t){var i=t(r,Xnt(n));btt(i)&&!Array.isArray(i)?n=Xnt(n,i):Ttt.error("please return an object in beforesetup hooks")}));var e=new(Gnt.getComponent("Player"))(r,n,i);return cst.hooks("setup").forEach((function(t){return t(e)})),e}"undefined"==typeof HTMLVideoElement&&xtt()&&(vtt.createElement("video"),vtt.createElement("audio"),vtt.createElement("track")),cst.ys={},cst.hooks=function(t,n){return cst.ys[t]=cst.ys[t]||[],n&&(cst.ys[t]=cst.ys[t].concat(n)),cst.ys[t]},cst.hook=function(t,n){cst.hooks(t,n)},cst.removeHook=function(t,n){var i=cst.hooks(t).indexOf(n);return!(i<=-1)&&(cst.ys[t]=cst.ys[t].slice(),cst.ys[t].splice(i,1),!0)},!0!==ftt.VIDEOJS_NO_DYNAMIC_STYLE&&xtt()&&((ust=int(".vjs-styles-defaults"))||(ust=Unt("vjs-styles-defaults"),(sst=int("head"))&&sst.insertBefore(ust,sst.firstChild),Wnt(ust,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    "))),Vnt(1,cst),cst.VERSION="5.20.6-opentelly.14",cst.options=rst.prototype.h,cst.getPlayers=function(){return rst.players},cst.players=rst.players,cst.getComponent=Gnt.getComponent,cst.registerComponent=function(t,n){Det.isTech(n)&&Ttt.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Gnt.registerComponent.call(Gnt,t,n)},cst.getTech=Det.getTech,cst.registerTech=Det.registerTech,cst.browser=Ent,cst.TOUCH_ENABLED=Tnt,cst.extend=function(t,n){void 0===n&&(n={});var i=function(){t.apply(this,arguments)},r={};for(var e in btt(n)?("function"==typeof n.init&&(Ttt.warn("Constructor logic via init() is deprecated; please use constructor() instead."),n.constructor=n.init),n.constructor!==k.prototype.constructor&&(i=n.constructor),r=n):"function"==typeof n&&(i=n),function(t,n){if("function"!=typeof n&&null!==n)throw new _("Super expression must either be null or a function, not "+typeof n);t.prototype=k.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.bs=n)}(i,t),r)r.hasOwnProperty(e)&&(i.prototype[e]=r[e]);return i},cst.mergeOptions=Xnt,cst.bind=jnt,cst.plugin=function(t,n){rst.prototype[t]=n},cst.addLanguage=function(t,n){var i;return t=(""+t).toLowerCase(),cst.options.languages=Xnt(cst.options.languages,((i={})[t]=n,i)),cst.options.languages[t]},cst.log=Ttt,cst.createTimeRange=cst.createTimeRanges=Qnt,cst.formatTime=Het,cst.parseUrl=_it,cst.isCrossOrigin=bit,cst.EventTarget=Hnt,cst.on=Dnt,cst.one=Bnt,cst.off=Pnt,cst.trigger=Mnt,cst.xhr=get,cst.TextTrack=_et,cst.AudioTrack=ost,cst.VideoTrack=ast,cst.isEl=Dtt,cst.isTextNode=Qtt,cst.createEl=Mtt,cst.hasClass=jtt,cst.addClass=Ztt,cst.removeClass=Xtt,cst.toggleClass=Gtt,cst.setAttributes=Htt,cst.getAttributes=ztt,cst.emptyEl=$tt,cst.appendContent=tnt,cst.insertContent=nnt,cst.computedStyle=$et,U(),St(),U(),St();var hst=10;function fst(t){var n=t.duration;if(E(n)){var i,r=null==(i=t.source)?void 0:i.streamType;return"live"===r||"dvr"===r}return n===1/0}function vst(t){return t.scrubbing()?t.getCache().currentTime:t.currentTime()}function lst(t){var n=mst(t);return fst(t)?n.end(n.length-1):n.start(0)}function dst(t){return mst(t).start(0)}function gst(t){var n=mst(t);return n.end(n.length-1)-n.start(0)}function mst(t){var n=t.seekable;if(n&&n.length)return n;var i=t.duration;return i=isFinite(i)?i:0,new MA([0,i]).ks()}function wst(t,n){void 0===n&&(n=t);var i=t<0?"-":"";t=A.abs(t);var r=A.floor(t%60),e=A.floor(t/60%60),u=A.floor(t/3600),s=A.floor(n/60%60),o=A.floor(n/3600);return(E(t)||t===1/0)&&(u=e=r="-"),i+(u=+u>0||o>0?u+":":"")+(e=((u||s>=10)&&+e<10?"0"+e:e)+":")+(r=+r<10?"0"+r:r)}function pst(t){return function(t){function n(){var n;return(n=t.apply(this,arguments)||this)._s=void 0,n}return Rt(n,t),n.prototype.dispose=function(){this._s=void 0,t.prototype.dispose.call(this)},xt(n,[{key:"ws",get:function(){var t;return null!=(t=this._s)?t:this._s=yst(this.player())}}]),n}(t)}function yst(t){return t.tech({IWillNotUseThisInPlugins:!0}).theoplayer()}function _st(t){var n=yst(t),i=function(){var i=vst(t);t.toggleClass("theo-at-live",function(t,n){if(fst(t)){var i=t.seekable;return 0===i.length||i.end(i.length-1)-n<hst}return!1}(n,i)),t.toggleClass("vjs-live",fst(n)),t.toggleClass("theo-dvr",function(t){var n;return"dvr"===D$(t.duration,t.seekable,null==(n=t.source)?void 0:n.streamType)}(n))};t.on("emptied",i),t.on("timeupdate",i),t.on("durationchange",i)}U(),St(),Dt(),Ct(),U(),St();var bst="theo-ad-playing",kst="theo-dai-ad-playing";function Ast(t,n,i){t.toggleClass(bst,n),t.toggleClass(kst,n&&i)}function Tst(){this.userActive(!1)}U(),St(),U(),St(),Dt(),Ct(),U(),St();var Sst=function(t,n){this.type=t.type,this.target=n,this.playerEvent=t},Est=["loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange","resize"],Ist=cst.getTech("Tech"),Rst=cst.getTech("Html5"),Cst=function(t){function n(n,i){var r;void 0===n&&(n={}),(r=t.call(this,n,i)||this).Cs=function(t){return r.Ds(t)},r.Us=!1,r.js=function(){void 0===r.ws.errorObject&&(r.Ds(new wT(r.ws.currentTime,r.ws.readyState)),r.Ds(new JR),r.Ds(new _T(r.ws.duration)))},r.Ts=function(){r.Ds(new Dy(r.ws.currentTime))},r.As=function(t){r.textTracks().tt(t.track)},r.Ns=function(t){r.audioTracks().tt(t.track)},r.Ps=function(t){r.textTracks().it(t.track)},r.Is=function(t){r.audioTracks().it(t.track)},r.Es=function(){var t=r.textTracks();t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},r.Bs=function(){var t=r.audioTracks();t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},r.Ms=function(){if(r.supportsFullScreen()){var t=r.Us,n=r.ws.presentation.currentMode===CT.FULLSCREEN;t!==n&&(r.Us=n,r.trigger("fullscreenchange",{isFullscreen:n,nativeIOSFullscreen:!0}))}},r.Ss=function(){var t=r.ws.errorObject,n=t&&cm(t.code)||-1,i=t&&t.message||"An unknown error occurred.";r.error({code:n,message:r.localize(i)})},r.ws=r.h.player,r.xs();var e=!r.paused();return e&&r.pause(),n.preload&&r.setPreload(n.preload),n.autoplay&&r.setAutoplay(n.autoplay),n.muted&&r.setMuted(n.muted),n.source?r.setSrc(n.source):r.Zt(),e&&r.ready((function(){return r.play()})),r.triggerReady(),r}Rt(n,t);var i=n.prototype;return i.xs=function(){for(var t,n=0;n<Est.length;n++){var i=Est[n];this.ws.addEventListener(i,this.Cs)}this.ws.addEventListener("error",this.Ss),this.ws.addEventListener("contentprotectionerror",this.Ss),this.ws.addEventListener("sourcechange",this.js),this.ws.addEventListener("loadstart",this.Ts),null==(t=this.ws.presentation)||t.addEventListener(OI.MODE_CHANGE,this.Ms),this.ws.textTracks.addEventListener("addtrack",this.As),this.ws.textTracks.addEventListener("removetrack",this.Ps),this.ws.textTracks.addEventListener("change",this.Es),this.ws.audioTracks.addEventListener("addtrack",this.Ns),this.ws.audioTracks.addEventListener("removetrack",this.Is),this.ws.audioTracks.addEventListener("change",this.Bs)},i.Fs=function(){for(var t,n=0;n<Est.length;n++){var i=Est[n];this.ws.removeEventListener(i,this.Cs)}this.ws.removeEventListener("error",this.Ss),this.ws.removeEventListener("contentprotectionerror",this.Ss),this.ws.removeEventListener("sourcechange",this.js),this.ws.removeEventListener("loadstart",this.Ts),null==(t=this.ws.presentation)||t.removeEventListener(OI.MODE_CHANGE,this.Ms),this.ws.textTracks.removeEventListener("addtrack",this.As),this.ws.textTracks.removeEventListener("removetrack",this.Ps),this.ws.textTracks.removeEventListener("change",this.Es),this.ws.audioTracks.removeEventListener("addtrack",this.Ns),this.ws.audioTracks.removeEventListener("removetrack",this.Is),this.ws.audioTracks.removeEventListener("change",this.Bs)},i.Ds=function(t){this.trigger(new Sst(t,this))},i.createEl=function(){var t=this.h,n=t.player;if(!n)throw new y(this.localize('Missing required tech option "player"'));var i=n.element;return cst.setAttributes(i,{id:t.techId}),i},i.theoplayer=function(){return this.ws},i.addTextTrack=function(n,i,r){return t.prototype.addTextTrack.call(this,n,i,r)},i.buffered=function(){return this.ws.buffered},i.played=function(){return this.ws.played},i.reset=function(){this.ws.stop()},i.play=function(){this.ws.play()},i.pause=function(){this.ws.pause()},i.paused=function(){return this.ws.paused},i.currentTime=function(){return this.ws.currentTime},i.setCurrentTime=function(t){this.ws.currentTime=t},i.duration=function(){return this.ws.duration},i.volume=function(){return this.ws.volume},i.setVolume=function(t){this.ws.volume=t},i.muted=function(){return this.ws.muted},i.setMuted=function(t){this.ws.muted=t},i.src=function(t){if(void 0!==t)this.setSrc(t);else{if(this.ws.src)return this.ws.src;if(this.ws.source){if(!iE(this.ws.source.ads))return this.ws.source.ads[0].sources;if(function(t){return!!t.sources&&(Jn(t.sources)?t.sources.some(iT):iT(t.sources))}(this.ws.source))return"This source is managed by the Uplynk integration extension.";if(function(t){if(t.sources)if(Jn(t.sources)){for(var n=0,i=t.sources;n<i.length;n++)if(nT(i[n]))return!0}else if($n(t.sources))return nT(t.sources);return!1}(this.ws.source))return"This source is managed by the DAI integration extension.";if(function(t){if(t.sources)if(Jn(t.sources)){for(var n=0,i=t.sources;n<i.length;n++)if(uT(i[n]))return!0}else if($n(t.sources))return uT(t.sources);return!1}(this.ws.source))return"This source is managed by Millicast."}}},i.setSrc=function(t){return this.setSource({src:t})},i.setSource=function(t){this.lt=null,this.trigger("error")},i.currentSrc=function(){return this.ws.src},i.load=function(){this.setPreload("auto")},i.preload=function(){return this.ws.preload},i.setPreload=function(t){this.ws.preload=t},i.autoplay=function(){return this.ws.autoplay},i.setAutoplay=function(t){this.ws.autoplay=!!t},i.seeking=function(){return this.ws.seeking},i.seekable=function(){return this.ws.seekable},i.ended=function(){return this.ws.ended},i.playbackRate=function(){return this.ws.playbackRate},i.setPlaybackRate=function(t){this.ws.playbackRate=t},i.readyState=function(){return this.ws.readyState},i.networkState=function(){return 0},i.controls=function(){return!1},i.videoHeight=function(){return this.ws.videoHeight},i.videoWidth=function(){return this.ws.videoWidth},i.supportsFullScreen=function(){return this.ws.presentation.supportsMode(CT.FULLSCREEN)},i.enterFullScreen=function(){this.ws.presentation.requestMode(CT.FULLSCREEN)},i.exitFullScreen=function(){this.ws.presentation.requestMode(CT.INLINE)},i.$s=function(){var t=this.ws.ads;if(t&&t.playing)return!0;var n=this.ws.vr;return!(!n||n.state===F4.Rs)},i.initTextTrackListeners=function(){var n=this;return this.on("touchend",(function(t){n.$s()&&(t.preventDefault=function(){})})),t.prototype.initTextTrackListeners.call(this)},i.Zt=function(){var t=this;if(this.src()){var n=this.readyState();if(0===n){var i=!1,r=function(){i=!0};this.on("loadstart",r);var e=function(){i||t.trigger("loadstart")};return this.on("loadedmetadata",e),void this.ready((function(){t.off("loadstart",r),t.off("loadedmetadata",e),i||t.trigger("loadstart")}))}var u=["loadstart"];u.push("loadedmetadata"),n>=2&&u.push("loadeddata"),n>=3&&u.push("canplay"),n>=4&&u.push("canplaythrough"),this.ready((function(){for(var n=0;n<u.length;n++){var i=u[n];t.trigger(i)}}))}},i.dispose=function(){this.Fs(),this.ws=null,t.prototype.dispose.call(this)},n.isSupported=function(){return!0},n.canPlayType=function(){return"maybe"},n.canPlaySource=function(t){return"maybe"},xt(n,[{key:"featuresVolumeControl",get:function(){return Or}}]),n}(Ist);Cst.prototype.featuresFullscreenResize=Rst.prototype.featuresFullscreenResize,Cst.prototype.featuresPlaybackRate=Rst.prototype.featuresPlaybackRate,Cst.prototype.featuresProgressEvents=!0,Cst.prototype.featuresTimeupdateEvents=!0,Cst.prototype.featuresNativeTextTracks=!0,cst.registerTech("THEOplayer",Cst),U(),St(),U(),St(),Ct(),U(),St(),Dt(),Ct(),U(),St();var Nst=function(t){var n=this;this.Os=function(t){di(n.Vs,"theo-mobile-button-hover"),t.stopImmediatePropagation()},this.Ls=function(t){gi(n.Vs,"theo-mobile-button-hover")},this.Hs=function(t){n.Vs.blur()},this.Vs=t,t.addEventListener("touchstart",this.Os),t.addEventListener("touchend",this.Ls),t.addEventListener("focusin",this.Hs)};U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var xst=function(t){function n(n,i){return t.call(this,n,i)||this}Rt(n,t);var i=n.prototype;return i.zs=function(){di(this.qs,"theo-menu-opened")},i.Ws=function(){gi(this.qs,"theo-menu-opened")},xt(n,[{key:"qs",get:function(){return this.player().el()}}]),n}(pst(cst.getComponent("Menu")));U(),St(),Dt(),Ct();var Dst=function(t){function n(n,i,r){var e;return(e=t.call(this,n,us({selectable:!0},i))||this).Xs=!1,e.Os=function(t){di(e.el(),"theo-mobile-menu-item-hover"),t.stopImmediatePropagation()},e.Ls=function(t){gi(e.el(),"theo-mobile-menu-item-hover")},e.Gs=r,qn.Ys.Qs&&(e.el().addEventListener("touchstart",e.Os),e.el().addEventListener("touchend",e.Ls)),e}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-menu-item vjs-menu-item"},i.createEl=function(){var n=t.prototype.createEl.call(this,"li",{className:this.buildCSSClass(),tabIndex:0},{"aria-live":"off","aria-label":""});return n.innerHTML="",n},i.handleClick=function(t){this.Xs||(this.parentMenu.Js(this),"tap"!==t.type&&"keydown"!==t.type||(this.Xs=!0,this.trigger("click"),this.Xs=!1))},i.dispose=function(){qn.Ys.Qs&&(this.el().removeEventListener("touchstart",this.Os),this.el().removeEventListener("touchend",this.Ls)),t.prototype.dispose.call(this)},xt(n,[{key:"parentMenu",get:function(){return this.Gs}}]),n}(pst(cst.getComponent("MenuItem")));U(),St(),Dt(),Ct();var Pst=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Xs=!1,e.Zs=!1,e.Gs=r,e.on(n,"languagechange",e.te),e}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-primary-background theo-menu-header"},i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-live":"off","aria-label":""});return n.innerHTML="",n},i.handleClick=function(t){!this.Xs&&this.Ks&&(this.Gs.ie(),"tap"===t.type&&(this.Xs=!0,this.trigger("click"),this.Xs=!1))},i.te=function(){this.Ks?this.el().setAttribute("aria-label",this.localize("Go back to the previous menu")):this.el().setAttribute("aria-label","")},xt(n,[{key:"parentMenu",get:function(){return this.Gs}},{key:"Ks",get:function(){return this.Zs},set:function(t){this.Zs=t,this.el().setAttribute("tabindex",this.Ks?"0":"-1"),this.te()}}]),n}(cst.getComponent("ClickableComponent")),Mst=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).ne=function(){return r.re()},r.ue=r.player().el(),r.hide(),r.on("menuchange",r.re),r}Rt(n,t);var i=n.prototype;return i.addMenuItem=function(t){t=us({playerOptions:this.h.playerOptions},t);var n=new Dst(this.player(),t,this);return this.addChild(n,void 0,t.index),this.trigger("menuchange"),n},i.addSubMenuItem=function(t){t=us({playerOptions:this.h.playerOptions},t);var n=this.ee(this.player(),t);return this.addChild(n,void 0,t.index),this.trigger("menuchange"),n},i.removeMenuItem=function(t){this.removeChild(t),this.trigger("menuchange")},i.buildCSSClass=function(){return"theo-menu vjs-menu"},i.zs=function(){t.prototype.zs.call(this),f.removeEventListener("resize",this.ne),f.addEventListener("resize",this.ne),this.show()},i.re=function(){var t=this.he();if(t){var n=t.getClientRects();qn.Ys.Qs?this.oe(t,n):this.ae(t,n)}},i.he=function(){var t;return null!=(t=this.contentEl().parentElement)?t:void 0},i.ae=function(t,n){},i.oe=function(t,n){},i.Ws=function(){f.removeEventListener("resize",this.ne),t.prototype.Ws.call(this),this.hide(),qn.Ys.Qs&&(this.el().removeAttribute("style"),this.contentEl().removeAttribute("style"))},i.createEl=function(){var n=t.prototype.createEl.call(this);n.className=this.buildCSSClass();var i=this.contentEl();di(i,"theo-menu-content");var r=new Pst(this.player(),this.h,this);return i.parentNode.insertBefore(r.el(),i),this.se=r,n},i.Js=function(t){},i.show=function(){return this.re(),t.prototype.show.call(this)},i.dispose=function(){this.se&&this.se.dispose(),t.prototype.dispose.call(this)},xt(n,[{key:"menuHeader",get:function(){return this.se}},{key:"menuItems",get:function(){return this.children()}}]),n}(xst),Bst=function(t){function n(n,i){return t.call(this,n,i)||this}Rt(n,t);var i=n.prototype;return i.ve=function(t){this.ce.pe(t,"replace")},i.me=function(t){t.ce.pe(this,"restore")},i.ge=function(){gi(this.ye,"vjs-hidden"),this.ye.style.opacity="1",t.prototype.show.call(this)},i.be=function(){di(this.ye,"vjs-hidden")},i.zs=function(){this.ce&&this.ce.zs(),t.prototype.zs.call(this)},i.Ws=function(){this.ce&&this.ce.Ws(),t.prototype.Ws.call(this),di(this.ye,"vjs-hidden")},i.he=function(){if(this.ce&&this.ce.ke)return this.ce.ke.ye},i.ae=function(n,i){if(i.length>0){var r=i[0].height,e=i[0].width;this.le.we.style.height=r+"px",this.le.we.style.width=e+"px"}t.prototype.ae.call(this,n,i)},xt(n,[{key:"ce",get:function(){return this.le},set:function(t){this.le&&this.le.de(this),this.le=t,t&&t.fe(this)}}]),n}(Mst);U(),St(),Dt();var Ost=function(){function t(t){this.Se=this._e=t,this.Vs=v.createElement("div"),this.Vs.className="theo-tertiary-background theo-menu-animation-container",this.Vs.appendChild(this.Se.ye),this.ue=this._e.player().el()}var n=t.prototype;return n.fe=function(t){t.be(),this.Vs.appendChild(t.ye)},n.de=function(t){this.Vs.removeChild(t.ye)},n.pe=function(t,n){if(t!=this._e){var i=this._e;if(this._e=t,this._e.ge(),this.ke.focus(),qn.Ys.Qs)i.be();else{var r=TI("transform");i.ye.style.opacity="0",i.ye.style[r]="replace"===n?"translateX(-100%)":"translateX(100%)",this._e.ye.style.opacity="1",this._e.ye.style[r]="",g((function(){i.be(),i.ye.style[r]=""}),300)}}},n.zs=function(){this.xe(),this._e.ge(),this.Ce()},n.Ws=function(){this.xe(),this._e.be(),this.Se.be(),this._e=this.Se,this.Ce()},n.Ce=function(){var t=this;fI((function(){gi(t.Vs,"theo-no-transition"),gi(t._e.ye,"theo-no-transition")}))},n.xe=function(){di(this.Vs,"theo-no-transition"),di(this._e.ye,"theo-no-transition")},xt(t,[{key:"we",get:function(){return this.Vs}},{key:"ke",get:function(){return this._e}}]),t}();U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var Lst=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Me=!1,e.je=r,e.menuHeader.Ks=!0,e}Rt(n,t);var i=n.prototype;return i.ee=function(t,n){var i=new Fst(t,n,this);return i.subMenu.ce=this.ce,i},i.ie=function(){this.Te()},i.Js=function(n){t.prototype.Js.call(this,n),this.Te()},i.Te=function(){this.parentMenu.me(this)},i.buildCSSClass=function(){return"theo-submenu "+(this.Me?"":"theo-leaf-submenu ")+"theo-menu-content theo-menu-content-animatable "+t.prototype.buildCSSClass.call(this)},i.addSubMenuItem=function(n){this.Me=!0;var i=t.prototype.addSubMenuItem.call(this,n);return this.removeClass("theo-leaf-submenu"),i},xt(n,[{key:"ye",get:function(){return this.el()}},{key:"parentMenu",get:function(){return this.je}}]),n}(Bst),Fst=function(t){function n(n,i,r){var e;return(e=t.call(this,n,us({selectable:!1},i),r)||this).Ae=new Lst(n,i,r),e}return Rt(n,t),n.prototype.handleClick=function(t){this.parentMenu.ve(this.subMenu)},xt(n,[{key:"subMenu",get:function(){return this.Ae}}]),n}(Dst),Vst=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Ne=!1,e.Pe=r,e}Rt(n,t);var i=n.prototype;return i.createEl=function(){var n=cst.createEl("div",{className:this.buildCSSClass()});return this.Ee=t.prototype.createEl.call(this),this.Ee.className=t.prototype.buildCSSClass.call(this),di(this.Ee,"theo-menu-content-animatable"),n.appendChild(this.Ee),this.ce=new Ost(this),n.appendChild(this.ce.we),n},i.buildCSSClass=function(){return"theo-menu-animatable "+t.prototype.buildCSSClass.call(this)},i.ee=function(t,n){var i=new Fst(t,n,this);return i.subMenu.ce=this.ce,i},i.ae=function(n,i){t.prototype.ae.call(this,n,i);var r=this.ue.getClientRects(),e=r.length>0?r[0]:void 0,u=S(getComputedStyle(this.el()).fontSize);AP(this.el(),this.Pe.el(),e,u)},i.ie=function(){this.Pe.closeMenu()},i.dispose=function(){this.Ne||(this.Ne=!0,t.prototype.dispose.call(this))},xt(n,[{key:"menuButton",get:function(){return this.Pe}},{key:"ye",get:function(){return this.Ee}}]),n}(Bst);U(),St(),Dt();var Ust=function(){function t(t,n){var i=this;this.$e=function(){gi(i.Be,"vjs-hidden");var t=i.Fe.player().contentEl().getClientRects(),n=t.length>0?t[0]:void 0,r=S(getComputedStyle(i.Be).fontSize);AP(i.Be,i.Fe.el(),n,r)},this.De=function(){di(i.Be,"vjs-hidden")},this.Ue=function(){return i.Re()},this.Fe=t,ki(t.el()),function(t){t.addEventListener("mouseover",(function(t){ki(t.target)}))}(t.el()),this.Be=v.createElement("span"),this.Be.innerHTML=this.Fe.localize(n),this.Be.className="theo-button-tooltip vjs-hidden",this.Be.setAttribute("aria-hidden","true"),this.Fe.el().appendChild(this.Be),this.Fe.on("mouseover",this.$e),this.Fe.on("mouseout",this.De),this.Fe.on("dispose",this.Ue)}return t.prototype.Re=function(){this.Fe.off("mouseover",this.$e),this.Fe.off("mouseout",this.De),this.Fe.off("dispose",this.Ue),ai(this.Be)},xt(t,[{key:"Ie",get:function(){return this.Be.textContent||""},set:function(t){this.Be.innerHTML=this.Fe.localize(t),this.De(),this.$e(),ki(this.Fe.el())}}]),t}(),Wst=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Le=!1,r.qe=1,r.He=!0,r.Ge=function(t){var n,i=r.el().contains(t.target),e=r.Ve.el().contains(t.target),u=!1;qn.Ys.Qs&&r.Oe&&(u=(null==(n=r.el().parentElement)?void 0:n.querySelector(".theo-mobile-menu-background"))===t.target);i||e||!r.Le||(u&&t.preventDefault(),r.closeMenu())},r.Xe=function(t){27===t.which&&(r.closeMenu(),r.focus())},r.We=function(){r.Le&&r.closeMenu()},r.ze=function(){r.Ve.menuItems.length>=r.qe?r.show():(r.closeMenu(),r.hide())},r.Ve=new Vst(n,i,r),r.player().getChild("controlBarMenuContainer").addChild(r.Ve),r.Be=new Ust(r,r.controlText()),r.el().setAttribute("aria-haspopup","true"),qn.Ys.Je?(r.on(v,"touchend",r.Ge),new Nst(r.el())):(r.on(v,"click",r.Ge),r.on(v,"keydown",r.Xe),NI&&r.on(v,NI.Qe,r.closeMenu)),r.ws.addEventListener("seeking",r.We),r.on(r.Ve,"menuchange",r.ze),r.on(n,"languagechange",r.te),r.ze(),r}Rt(n,t);var i=n.prototype;return i.isMenuOpen=function(){return this.Le},i.openMenu=function(){this.He&&!this.Le&&(this.Ve.zs(),this.el().setAttribute("aria-expanded","true"),this.Le=!0,this.Ve.focus())},i.closeMenu=function(){this.He&&this.Le&&(this.Ve.Ws(),this.el().setAttribute("aria-expanded","false"),this.Le=!1)},i.buildCSSClass=function(){return"theo-controlbar-button vjs-menu-button vjs-menu-button-popup "+t.prototype.buildCSSClass.call(this)},i.createEl=function(n,i,r){return t.prototype.createEl.call(this,"button",{},{"aria-live":"off"})},i.handleClick=function(){this.Le?this.closeMenu():this.openMenu()},i.enable=function(){return this.He=!0,t.prototype.enable.call(this)},i.disable=function(){return this.closeMenu(),this.He=!1,t.prototype.disable.call(this)},i.te=function(){this.Be.Ie=this.controlText()},i.dispose=function(){this.player().removeChild(this.Ve),this.Ve.dispose(),this.Be.Re(),this.ws.removeEventListener("seeking",this.We),t.prototype.dispose.call(this)},xt(n,[{key:"Oe",get:function(){var t=this.el().parentElement;return!!t&&null!==t.querySelector(".theo-mobile-menu-background")}},{key:"menu",get:function(){return this.Ve}},{key:"minimumMenuItems",set:function(t){this.qe=t,this.ze()}}]),n}(pst(cst.getComponent("Button"))),jst=cst.getComponent("Component"),Zst=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).addChild("THEOControlBarShadow",void 0,0),r}Rt(n,t);var i=n.prototype;return i.addMenuButton=function(t){t=us({playerOptions:this.h.playerOptions},t);var n=new Wst(this.player(),t);return this.addChild(n),n},i.removeMenuButton=function(t){this.removeChild(t)},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-secondary-color vjs-control-bar "+t.prototype.buildCSSClass.call(this)},n}(cst.getComponent("ControlBar")),Xst=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){return"theo-tertiary-color theo-control-bar-shadow"},n}(jst);cst.registerComponent("THEOControlBarShadow",Xst),U(),St(),Ct(),U(),St(),Ct();var Gst=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Ye=i.Ke,r}Rt(n,t);var i=n.prototype;return i.handleFocus=function(n){t.prototype.handleFocus.call(this,n),this.Ye.addClass("focus-within")},i.handleBlur=function(n){t.prototype.handleBlur.call(this,n),this.Ye.removeClass("focus-within")},n}(cst.getComponent("VolumeBar"));U(),St(),Ct();var Hst=cst.getComponent("VolumeControl"),zst=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Ze=new Gst(n,{Ke:r}),r.addChild(r.Ze),r}return Rt(n,t),n}(Hst);zst.prototype.h=us({},Hst.prototype.h,{children:[]}),cst.registerComponent("VolumeControl",zst);var Yst=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).ln=!1,r.hn=0,r.an=function(){0!==r.hn&&(r.hn=0,r.sn(r.nn()))},r.mn=function(){r.ln&&r.dn()},r.on(n,"ready",r.tn),r.on(n,"pause",r.tn),r.on(n,"useractive",r.tn),r.on(n,"firstplay",r.rn),r.on(n,"play",r.rn),r.on(n,"userinactive",r.rn),r.on("transitionstart",r.un),r.on("transitionend",r.cn),r.vn=new RI(r.el()),r.vn.yn(mI.pn,r.mn),r.vn.bn(!0),r}Rt(n,t);var i=n.prototype;return i.tn=function(){this.sn(this.nn())},i.rn=function(){0===this.hn&&(this.hn=g(this.an,100))},i.un=function(t){"opacity"===t.propertyName&&(0!==this.hn&&(m(this.hn),this.hn=0),this.sn(!0))},i.cn=function(t){"opacity"===t.propertyName&&(this.nn()||this.sn(!1))},i.nn=function(){return"0"!==f.getComputedStyle(this.el()).opacity},i.sn=function(t){this.ln!==t&&(this.ln=t,t?this.dn():this.ws.textTrackStyle.marginBottom=void 0)},i.dn=function(){var t=this.el().getBoundingClientRect().height;this.ws.textTrackStyle.marginBottom!==t&&(this.ws.textTrackStyle.marginBottom=t)},i.dispose=function(){m(this.hn),this.hn=0,this.vn.fn(mI.pn,this.mn),this.vn.gn(),t.prototype.dispose.call(this)},n}(pst(Zst));Yst.prototype.h=us({},Zst.prototype.h,{children:["progressControl","playToggle","muteToggle","volumeControl","currentTimeDisplay","timeDivider","durationDisplay","liveDisplay","remainingTimeDisplay","customControlSpacer","activeQualityLabel","vrButton","descriptionsButton","subtitlesButton","chromecastButton","airplayButton","multiViewButton","audioTrackButton","SettingsButton","fullscreenToggle"]}),cst.registerComponent("ControlBar",Yst),U(),St(),Ct();var Kst=function(t){function n(n,i){var r;return r=t.call(this,n,i)||this,n.topControlBar=r,r}return Rt(n,t),n.prototype.buildCSSClass=function(){return"theo-top-controlbar "+t.prototype.buildCSSClass.call(this)},n}(Zst);Kst.prototype.h=us({},Zst.prototype.h,{children:[]}),cst.registerComponent("TopControlBar",Kst),U(),St(),Ct();var qst=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"timeupdate",r.updateContent),r.on(n,"emptied",r.updateContent),r}return Rt(n,t),n.prototype.updateContent=function(){var t=vst(this.player()),n=this.ws,i=dst(n),r=this.localize("Current Time"),e=wst(A.max(0,t-i),gst(n));e!==this.Mt&&(this.Mt=e,this.contentEl().innerHTML='<span class="vjs-control-text">'+r+"</span> "+e)},n}(pst(cst.getComponent("CurrentTimeDisplay")));cst.registerComponent("CurrentTimeDisplay",qst),U(),St(),Ct();var Jst=function(t){function n(n,i){var r,e;return(r=t.call(this,n,i)||this).kn=function(){return r.updateContent()},r.off(n,"durationchange",r.updateContent),r.on(n,"durationchange",r.updateContent),r.off(n,"timeupdate",r.updateContent),r.on(n,"timeupdate",r.updateContent),r.off(n,"emptied",r.updateContent),r.on(n,"emptied",r.updateContent),null==(e=r.ws)||e.clip.addEventListener("change",r.kn),r}Rt(n,t);var i=n.prototype;return i.updateContent=function(){var t=this.ws,n=E(t.duration)?NaN:gst(t),i=t.clip.endTime-t.clip.startTime,r=A.min(n,i)||0;if(this.ct!==r){this.ct=r;var e=this.localize("Duration Time"),u=wst(r);this.S.innerHTML='<span class="vjs-control-text">'+e+"</span> "+u}},i.dispose=function(){var n;null==(n=this.ws)||n.clip.removeEventListener("change",this.kn),t.prototype.dispose.call(this)},n}(pst(cst.getComponent("DurationDisplay")));cst.registerComponent("DurationDisplay",Jst),U(),St(),Ct();var Qst=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).controlText("Live"),r._n(),r.on(n,"emptied",r._n),r.on(n,"durationchange",r._n),qn.Ys.Je&&new Nst(r.el()),r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-live-control "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var n=t.prototype.createEl.call(this,"button",{},{"aria-live":"off"});return this.wn=cst.createEl("span",{className:"theo-live-control-indicator"}),hi(n,this.wn),n},i.createControlTextEl=function(n){var i=t.prototype.createControlTextEl.call(this,n);return cst.removeClass(i,"vjs-control-text"),cst.addClass(i,"theo-live-control-text"),i},i.handleClick=function(){var t,n=this.ws;if(void 0!==(null==(t=n.hesp)?void 0:t.manifest))n.hesp.goLive();else{var i=this.player();i.currentTime(lst(n)),i.play()}},i._n=function(){fst(this.ws)?this.show():this.hide()},n}(pst(cst.getComponent("Button")));cst.registerComponent("LiveDisplay",Qst),U(),St(),Ct();var $st=function(t){function n(n,i){return t.call(this,n,i)||this}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-secondary-color vjs-loading-spinner "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var n=t.prototype.createEl.call(this);n.className=this.buildCSSClass();var i=cst.createEl("div",{className:"theo-loading-spinner-rotator"}),r=cst.createEl("div",{className:"theo-loading-spinner-circle-left"}),e=cst.createEl("div",{className:"theo-loading-spinner-circle-right"});return i.appendChild(r),i.appendChild(e),n.appendChild(i),n},n}(cst.getComponent("LoadingSpinner"));cst.registerComponent("LoadingSpinner",$st),U(),St(),Ct();var tot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Tn=[],r.on(n,"emptied",r.update),r}return Rt(n,t),n.prototype.update=function(){var t=this.ws,n=MA.xn(mst(t)),i=n.Cn(0),r=MA.xn(t.buffered).Sn(n),e=n.jn(0)-i,u=r.V&&r.jn(r.V-1)||0;u=A.max(0,u-i);var s=this.el(),o=this.Tn;s.style.width=not(u,e);for(var a=0;a<r.V;a++){var c=r.Cn(a),h=r.jn(a),f=o[a];f||(f=v.createElement("div"),o.push(f),s.appendChild(f)),f.style.left=not(c-i,u),f.style.width=not(h-c,u)}for(var l=o.length;l>r.V;l--)s.removeChild(o[l-1]);o.length=r.V},n}(pst(cst.getComponent("LoadProgressBar")));function not(t,n){var i=t/n||0;return 100*(i>=1?1:i)+"%"}cst.registerComponent("LoadProgressBar",tot),U(),St(),Ct();var iot=function(t){function n(n,i){var r,e;((r=t.call(this,n,i)||this).An=NaN,r.Nn=function(){var t=vst(r.player()),n=r.ws,i=(t-dst(n))/gst(n)||0;i=cr(i,0,1),r.update(t,100*i+"%")},r.keepTooltipsInside&&(cst.addClass(r.tooltip,"theo-secondary-color"),r.tooltip.appendChild(r.Mn)),r.on(n,"ready",(function(){r.on(n.controlBar.progressControl,"mouseenter",r.handleMouseMove)})),Gn.Qs)&&(r.on(n,"firstplay",r.Nn),r.on(n,"play",r.Nn),r.on(n,"seeking",r.Nn),r.on(n,"seeked",r.Nn),r.on(n,"timeupdate",r.Nn),r.ws.addEventListener("dimensionchange",r.Nn),null==(e=r.ws.presentation)||e.addEventListener(OI.MODE_CHANGE,r.Nn),r.on(n,"ready",(function(){r.on(n.controlBar.progressControl,"touchstart",r.handleTouchMove),r.on(n.controlBar.progressControl,"touchmove",Ei((function(t){return r.handleTouchMove(t)}),25)),r.Nn()})));return r}Rt(n,t);var i=n.prototype;return i.handleMouseMove=function(t){var n=t,i=this.ws,r=dst(i)+this.calculateDistance(n)*gst(i),e=n.pageX-kP(this.el().parentNode).left;this.update(r,e+"px")},i.handleTouchMove=function(t){var n=t,i=this.ws,r=dst(i)+this.calculateDistance(n)*gst(i),e=n.touches[0].pageX-kP(this.el().parentNode).left;this.update(r,e+"px")},i.createEl=function(){var n=t.prototype.createEl.call(this);return this.Mn=cst.createEl("span",{className:"theo-time-tooltip-text"}),n},i.update=function(t,n){this.An=t;var i=this.Pn(t);this.el().style.left=n,this.el().setAttribute("data-current-time",i),this.keepTooltipsInside&&(EP(this.Mn,i),this.En())},i.En=function(){if(this.keepTooltipsInside&&this.tooltip.offsetParent){var t=this.player().contentEl(),n=t.getClientRects(),i=n.length>0?n[0]:void 0,r=S(getComputedStyle(t).fontSize);AP(this.tooltip,this.el(),i,r)}},i.Pn=function(t){var n=this.ws,i=t-lst(n);return wst(fst(n)?A.min(i,0):i,gst(n))},i.dispose=function(){var n;this.ws.removeEventListener("dimensionchange",this.Nn),null==(n=this.ws.presentation)||n.removeEventListener(OI.MODE_CHANGE,this.Nn),t.prototype.dispose.call(this)},n}(pst(cst.getComponent("MouseTimeDisplay")));cst.registerComponent("MouseTimeDisplay",iot),U(),St(),Ct();var rot=function(t){function n(n,i){return t.call(this,n,i)||this}Rt(n,t);var i=n.prototype;return i.updateDataAttr=function(){var t=vst(this.player());this.el().setAttribute("data-current-time",this.Pn(t))},i.Pn=function(t){var n=this.ws;return wst(t-lst(n),gst(n))},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-play-progress vjs-slider-bar "+t.prototype.buildCSSClass.call(this)},n}(pst(cst.getComponent("PlayProgressBar")));cst.registerComponent("PlayProgressBar",rot),U(),St(),Ct();var eot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(n,"timeupdate",r.updateContent),r.on(n,"emptied",r.updateContent),r}return Rt(n,t),n.prototype.updateContent=function(){var t=this.ws,n=gst(t);if(n){var i=mst(t).end(0),r=this.localize("Remaining Time"),e=wst(A.max(0,i-this.player().currentTime()),n);e!==this.Mt&&(this.Mt=e,this.contentEl().innerHTML='<span class="vjs-control-text">'+r+"</span> -"+e)}},n}(pst(cst.getComponent("RemainingTimeDisplay")));cst.registerComponent("RemainingTimeDisplay",eot),U(),St(),Ct(),U(),St(),Dt();var uot=function(){function t(t,n){var i=this;this.In=n,this.Rn=[],this._s=void 0,this.Vn=function(){i.Qn(i.Wn())},this.Hn=function(t){var n=t.track;n.kind===$p.Xn&&(n.addEventListener("addcue",i.Vn),n.addEventListener("removecue",i.Vn),n.addEventListener("readystatechange",i.Vn)),i.Vn()},this.qn=function(t){var n=t.track;n.kind===$p.Xn&&(n.removeEventListener("addcue",i.Vn),n.removeEventListener("removecue",i.Vn),n.removeEventListener("readystatechange",i.Vn)),i.Vn()},this.hr=function(t){var n=i.ws,r=function(t,n){var i,r,e=kP(t),u=t.offsetWidth,s=t.offsetHeight,o=e.top,a=e.left;!function(t){return void 0!==t.changedTouches}(n)?(r=n.pageX,i=n.pageY):(r=n.changedTouches[0].pageX,i=n.changedTouches[0].pageY);var c=cr((o-i+s)/s,0,1),h=cr((r-a)/u,0,1);return{x:h,y:c}}(i.Un,t),e=dst(n)+r.x*gst(n);e===n.duration&&(e-=.1),i.Zn(e)},this.ur=function(){i.$n.be()},this.ar=function(){i.$n.ge()},this.Ln=function(){i.Fn&&(i.Yn(),i.Bn(),i.Kn())},this.Kn=function(){var t,n,r,e=null==(n=i.Fn)||null==(t=n.activeCues)?void 0:t[0],u=go(i.Rn,(function(t){return t.cr===e}));u!==i.nr&&(null==(r=i.nr)||r.lr(),i.nr=u,null==u||u.dr())},this.rr=t,this.$n=new oot,this.In.contentEl().appendChild(this.$n.we),this.Un=v.createElement("div"),di(this.Un,"theoplayer-chapterbar"),this.rr.appendChild(this.Un),this.rr.addEventListener("mousemove",this.hr),this.rr.addEventListener("mouseenter",this.ar),this.rr.addEventListener("mouseleave",this.ur),this.On()}var n=t.prototype;return n.Bn=function(){var t=this.Fn;if(t){var n=this.ws;if(0!==n.seekable.length){var i=t.cues.slice();this.$n.Dn(i);for(var r=0;r<i.length;r++){var e=i[r],u=i[r+1],s=!u||e.endTime!==u.startTime,o=new sot(e,n,s);this.Rn.push(o),this.Un.appendChild(o.we)}}}},n.On=function(){this.ws.addEventListener("loadedmetadata",this.Vn),this.ws.addEventListener("loadeddata",this.Vn),this.ws.addEventListener("sourcechange",this.Vn),this.ws.addEventListener("durationchange",this.Ln),this.ws.clip.addEventListener("change",this.Ln),this.ws.textTracks.addEventListener("addtrack",this.Hn),this.ws.textTracks.addEventListener("removetrack",this.qn),this.ws.textTracks.addEventListener("change",this.Vn)},n.zn=function(){this.ws.removeEventListener("loadedmetadata",this.Vn),this.ws.removeEventListener("loadeddata",this.Vn),this.ws.removeEventListener("sourcechange",this.Vn),this.ws.removeEventListener("durationchange",this.Ln),this.ws.clip.removeEventListener("change",this.Ln),this.ws.textTracks.removeEventListener("addtrack",this.Hn),this.ws.textTracks.removeEventListener("removetrack",this.qn),this.ws.textTracks.removeEventListener("change",this.Vn)},n.Wn=function(){if(!(this.ws.readyState<Cy.Gn))for(var t=0,n=this.ws.textTracks;t<n.length;t++){var i=n[t];if(i.kind===$p.Xn&&i.mode===Gp.Jn&&i.cues.length>0&&i.readyState!==Nm.ERROR)return i}},n.Qn=function(t){var n=this.Fn;t!==n&&(n&&(this.Yn(),n.removeEventListener("cuechange",this.Kn)),this.Fn=t,t&&(t.addEventListener("cuechange",this.Kn),this.Ln()))},n.Zn=function(t){this.$n.tr(t)},n.ir=function(){this.$n.ge()},n.sr=function(){this.$n.be()},n.Yn=function(){for(var t=0,n=this.Rn;t<n.length;t++){n[t].Re()}this.$n.er(),this.Rn=[],this.nr=void 0},n.Re=function(){this.zn(),this.rr.removeEventListener("mousemove",this.hr),this.rr.removeEventListener("mouseenter",this.ar),this.rr.removeEventListener("mouseleave",this.ur),this.Qn(void 0),this.$n.Re(),this._s=void 0},xt(t,[{key:"ws",get:function(){var t;return null!=(t=this._s)?t:this._s=yst(this.In)}}]),t}(),sot=function(){function t(t,n,i){this.cr=t,this.Vs=this.pr(n,i)}var n=t.prototype;return n.dr=function(){di(this.Vs,"theoplayer-chapter-indicator-active")},n.lr=function(){gi(this.Vs,"theoplayer-chapter-indicator-active")},n.pr=function(t,n){var i=t.seekable.start(0),r=t.seekable.end(t.seekable.length-1),e=r-i,u=this.cr.startTime,s=this.cr.endTime,o=s>=i&&u<=r,a=cr(u-i,0,e),c=cr(s-i,0,e),h=A.max(0,c-a),f=v.createElement("div");di(f,"theoplayer-chapter-indicator");var l=v.createElement("div");di(l,"theoplayer-chapter-indicator-highlight"),f.appendChild(l),n&&di(f,"theoplayer-chapter-indicator-discontinuous");var d=a/e*100,g=h/e*100;return f.style.display=o?"":"none",f.style.width=g+"%",f.style.left=d+"%",f},n.Re=function(){ai(this.Vs)},xt(t,[{key:"we",get:function(){return this.Vs}}]),t}(),oot=function(){function t(){this.gr=[],this.mr=0,this.we=v.createElement("div"),di(this.we,"theoplayer-chaptertitle"),this.we.style.display="none",this.br=v.createElement("p"),this.we.appendChild(this.br)}var n=t.prototype;return n.be=function(){this.mr--,0===this.mr&&gi(this.we,"theoplayer-chapter-hovering")},n.Dn=function(t){this.gr=t||[],this.gr.length>0&&(this.we.style.display="")},n.yr=function(t){EP(this.br,t.content)},n.er=function(){this.gr=[],EP(this.br,""),this.we.style.display="none"},n.ge=function(){this.mr++,this.mr>0&&di(this.we,"theoplayer-chapter-hovering")},n.tr=function(t){for(var n=0,i=this.gr;n<i.length;n++){var r=i[n];if(aot(r,t)){this.yr(r);break}}},n.Re=function(){ai(this.we)},t}();function aot(t,n){return new MA([t.startTime,t.endTime]).kr(n)}var cot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).playingStates=[],r.on(n,"emptied",r.update),r.on(n,"seeking",r.update),r.Un=new uot(r.el(),n),r}Rt(n,t);var i=n.prototype;return i.updateAriaAttributes=function(t){var n=vst(this.player()),i=this.ws;t.setAttribute("aria-valuenow",(100*this.wr(n)).toFixed(2)),t.setAttribute("aria-valuetext",wst(n-lst(i),gst(i)))},i.getPercent=function(){return this.wr(this.player().currentTime())},i.handleMouseMove=function(t){if(!(this.ws&&this.ws.ads&&this.ws.ads.playing)){var n=this.ws,i=dst(n)+this.calculateDistance(t)*gst(n);i>=n.duration&&(i=n.duration-.1),this.Un.Zn(i),this.player().currentTime(i)}},i.handleMouseDown=function(n){this.playingStates.push(!this.player().paused()),this.Un.ir(),t.prototype.handleMouseDown.call(this,n)},i.handleMouseUp=function(n){this.videoWasPlaying=Boolean(this.playingStates.pop()),this.Un.sr(),t.prototype.handleMouseUp.call(this,n)},i.wr=function(t){var n=this.ws;return cr((t-dst(n))/gst(n),0,1)},i.dispose=function(){this.Un.Re(),So(this.playingStates)},n}(pst(cst.getComponent("SeekBar")));cst.registerComponent("SeekBar",cot),U(),St(),Ct();var hot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).on(r,"touchmove",r.handleMouseMove),r.on("touchstart",r.handleMouseDown),r.seekBar.off(["touchmove","touchstart"]),r}Rt(n,t);var i=n.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(t){this.seekBar.handleMouseMove(t)},i.handleMouseDown=function(t){this.seekBar.handleMouseDown(t)},n}(cst.getComponent("ProgressControl"));qn.Ys.Qs&&cst.registerComponent("ProgressControl",hot),U(),St(),Ct();var fot=function(t){function n(n,i){return t.call(this,n,i)||this}Rt(n,t);var i=n.prototype;return i.updateDataAttr=function(){var t=vst(this.player()),n=this.Pn(t);this.el().setAttribute("data-current-time",n),this.tooltip.innerHTML=n},i.Pn=function(t){var n=this.ws;return wst(t-lst(n),gst(n))},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-tooltip-progress-bar vjs-slider-bar "+t.prototype.buildCSSClass.call(this)},n}(pst(cst.getComponent("TooltipProgressBar")));function vot(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.enabled)return i}}function lot(t){if(t)return t.label&&""!==t.label?{name:t.label,hd:!1}:{name:dot(t),description:got(t),hd:!!t.height&&t.height>=720}}function dot(t){return t.height?t.height+"p":t.bandwidth?got(t):""}function got(t){return t.bandwidth?t.bandwidth>1e7?(t.bandwidth/1e6).toFixed(0)+"Mbps":t.bandwidth>1e6?(t.bandwidth/1e6).toFixed(1)+"Mbps":(t.bandwidth/1e3).toFixed(0)+"kbps":""}cst.registerComponent("TooltipProgressBar",fot),U(),St(),Ct(),U(),St(),Dt(),Ct(),Wt(),U(),St(),U(),St(),U(),St(),Dt();var mot=function(){function t(t){this.Cr=[],this.Tr=t}var n=t.prototype;return n.Ar=function(t){var n=this.Mr;if(n)for(var i=0;i<n.length;i++){var r=n[i];if(r.Pr===t)return r}},n.Er=function(t){var n=this,i=this.Tr.addMenuItem();return i.Pr=t,i.on("click",(function(){return n.Nr(i)})),i.el().setAttribute("role","menuitemradio"),i},n.Ir=function(t){t.dispose()},n.Br=function(t){return!0},n.jr=function(t){if(this.Br(t)){Ao(this.Cr,t)||this.Cr.push(t);var n=this.Ar(t)||this.Er(t);return this.Fr(n),n}this.Sr(t)},n.Sr=function(t){var n=this.Ar(t);n&&(this.Tr.removeMenuItem(n),this.Ir(n)),_o(this.Cr,t)},n.Re=function(){for(var t=[],n=0,i=this.Cr;n<i.length;n++){var r=i[n];t.push(r)}for(var e=0;e<t.length;e++){var u=t[e];this.Sr(u)}So(t)},xt(t,[{key:"_r",get:function(){return this.Cr},set:function(t){for(var n=this.Cr,i=n.length-1;i>=0;i--){var r=n[i];Ao(t,r)||this.Sr(r)}for(var e=0;e<t.length;e++){var u=t[e];this.jr(u)}this.Tr.re()}},{key:"Mr",get:function(){return this.Tr.menuItems}}]),t}(),wot=function(t){function n(n,i,r){var e;return(e=t.call(this,n.subMenu)||this).Xr=void 0,e.Qr=void 0,e.Yr=function(){var t=vot(e._s.videoTracks);if(t!==e.Xr){var n=[];if(e.Xr&&(e.Xr.removeEventListener("activequalitychanged",e.Kr),e.Xr.removeEventListener("targetqualitychanged",e.Zr),e.Xr.removeEventListener("update",e.th)),e.Xr=t,t){t.addEventListener("activequalitychanged",e.Kr),t.addEventListener("targetqualitychanged",e.Zr),t.addEventListener("update",e.th);var i=yot(kot(t.qualities.filter((function(t){return t.available}))));n=i.length>1?[void 0].concat(Ut(i)):[void 0]}e._r=n,e.Zr(),e.Kr()}},e.th=function(t){var n=t.track;if(n===e.Xr){var i,r=yot(kot(n.qualities.filter((function(t){return t.available})))),u=n&&Tot(n.targetQuality);e.Qr=e.Jr(u,r),i=r.length>1?[void 0].concat(Ut(r)):[void 0],e._r=i,e.Gr()}},e.Kr=function(){e.jr(void 0),e.Gr()},e.Zr=function(){var t=vot(e._s.videoTracks),n=t&&Tot(t.targetQuality),i=e.Jr(n),r=e.Qr;i!==r&&(e.Qr=i,i&&r||e.jr(void 0),r&&Ao(e._r,r)&&e.jr(r),n&&e.jr(i),e.Gr())},e.te=function(){EP(e.Tr.menuHeader.el(),e.Rr.localize("Quality")),EP(e.$r,e.Rr.localize("Quality")),EP(e.Or,e.Rr.localize("Automatic")),EP(e.Lr,e.Rr.localize("Automatic")),EP(e.qr,e.Rr.localize("HD")),e.Wr.el().setAttribute("aria-label",e.Rr.localize("Open the video quality settings menu"));for(var t=0,n=e.Mr;t<n.length;t++){var i=n[t];e.Fr(i)}e.Gr()},e.Wr=n,e._s=i,e.Rr=r,e.$r=e.Dr(),e.Or=e.Ur(),e.Lr=e.Vr(),e.qr=e.Hr(),e.zr(),EP(e.Tr.menuHeader.el(),e.Rr.localize("Quality")),e._r=[void 0],e._s.videoTracks.addEventListener(["addtrack","removetrack","change"],e.Yr),e.Rr.on("languagechange",e.te),e.Yr(),e}Rt(n,t);var i=n.prototype;return i.Dr=function(){return this.$r=v.createElement("span"),this.$r.className="theo-settings-control-menu-item-title",EP(this.$r,this.Rr.localize("Quality")),this.$r},i.Ur=function(){return this.Or=v.createElement("span"),this.Or.className="theo-settings-control-menu-quality-automatic",EP(this.Or,this.Rr.localize("Automatic")),this.Or},i.Vr=function(){return this.Lr=v.createElement("span"),EP(this.Lr,this.Rr.localize("Automatic")),this.Lr},i.Hr=function(){return this.qr=v.createElement("span"),this.qr.className="theo-primary-color theo-settings-control-menu-item-hd-label",EP(this.qr,this.Rr.localize("HD")),this.qr},i.zr=function(){var t=v.createElement("span");t.className="theo-primary-color theo-settings-control-menu-item-value",t.appendChild(this.Or),t.appendChild(v.createTextNode(" ")),t.appendChild(this.Lr),t.appendChild(v.createTextNode(" ")),t.appendChild(this.qr),this.Wr.el().appendChild(this.$r),this.Wr.el().appendChild(t),this.Wr.el().setAttribute("aria-label",this.Rr.localize("Open the video quality settings menu"))},i.Gr=function(){var t=this.Xr,n=t&&Tot(t.targetQuality),i=t&&t.activeQuality,r=lot(this.Jr(n||i))||{name:this.Rr.localize("Automatic")};EP(this.Lr,r.name),mi(this.Or,"vjs-hidden",!!n),mi(this.qr,"vjs-hidden",!r.hd)},i.Fr=function(t){var n=lot(t.Pr)||{name:this.Rr.localize("Automatic")},i=n.name;n.hd&&(i+='<span class="theo-primary-color theo-settings-control-menu-item-hd-label">'+this.Rr.localize("HD")+"</span>"),n.description&&(i+='<span class="theo-settings-control-submenu-item-alternate-value">'+n.description+"</span>"),t.el().innerHTML=i,t.el().setAttribute("aria-label",this.Rr.localize("Set video quality to ")+n.name),t.Pr?t.selected(t.Pr===this.Qr):t.selected(!this.Qr)},i.Nr=function(t){this.Xr&&(this.Xr.targetQuality=t.Pr&&t.Pr.videoQualities)},i.Jr=function(t,n){for(var i=n||this._r,r=0;r<i.length;r++){var e=i[r];if(t&&e&&-1!==e.videoQualities.indexOf(t))return e}},i.Re=function(){this._s.videoTracks.removeEventListener(["addtrack","removetrack","change"],this.Yr),this.Rr.off("languagechange",this.te),this.Xr&&(this.Xr.removeEventListener("activequalitychanged",this.Kr),this.Xr.removeEventListener("targetqualitychanged",this.Zr),this.Xr.removeEventListener("update",this.th)),t.prototype.Re.call(this)},n}(mot),pot=function(){function t(t){this.ih=t}return t.prototype.add=function(t){this.ih.push(t)},xt(t,[{key:"height",get:function(){return this.ih[0].height}},{key:"bandwidth",get:function(){return this.ih[0].bandwidth}},{key:"videoQualities",get:function(){return this.ih}},{key:"label",get:function(){return this.ih[0].label}}]),t}();function yot(t){for(var n=[],i=0;i<t.length;i++){for(var r=t[i],e=!1,u=0;u<n.length;u++){var s=n[u];if(Aot(s,r)){s.add(r),e=!0;break}}e||n.push(new pot([r]))}return n}function _ot(t,n){return t&&n?ho(t,n):ao.sh}function bot(t,n){return t===n?ao.sh:_ot(t.height,n.height)||_ot(t.width,n.width)||_ot(t.bandwidth,n.bandwidth)}function kot(t){return eo(t,bot).reverse()}function Aot(t,n){return t.label&&n.label&&t.label===n.label||Bg(lot(t),lot(n))}function Tot(t){return Jn(t)?1===t.length?t[0]:void 0:t}function Sot(t){return 1===t?"Normal":""+A.round(100*t)/100}U(),St(),Ct();var Eot=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n.subMenu)||this).nh=void 0,u.eh=function(){u.nh&&u.jr(u.nh);var t=u._s.playbackRate;u.nh=t,EP(u.rh,u.Rr.localize(Sot(t))),t&&u.jr(t)},u.te=function(){EP(u.Tr.menuHeader.el(),u.Rr.localize("Speed")),EP(u.$r,u.Rr.localize("Speed")),u.Wr.el().setAttribute("aria-label",u.Rr.localize("Open the video speed settings menu"));for(var t=0,n=u.Mr;t<n.length;t++){var i=n[t];u.Fr(i)}u.eh()},u.Wr=n,u._s=i,u.Rr=r,u.$r=u.Dr(),u.rh=u.zr(),EP(u.Tr.menuHeader.el(),u.Rr.localize("Speed")),u._r=e,u._s.addEventListener("ratechange",u.eh),u.Rr.on("languagechange",u.te),u.eh(),u}Rt(n,t);var i=n.prototype;return i.Dr=function(){return this.$r=v.createElement("span"),this.$r.className="theo-settings-control-menu-item-title",EP(this.$r,this.Rr.localize("Speed")),this.$r},i.zr=function(){var t=v.createElement("span");return t.className="theo-primary-color theo-settings-control-menu-item-value",this.Wr.el().appendChild(this.$r),this.Wr.el().appendChild(t),this.Wr.el().setAttribute("aria-label",this.Rr.localize("Open the video speed settings menu")),t},i.Er=function(n){var i=t.prototype.Er.call(this,n);return this.Fr(i),i},i.Fr=function(t){var n=t.Pr,i=this.Rr.localize(Sot(n));EP(t.el(),i),t.el().setAttribute("aria-label",this.Rr.localize("Set video speed to ")+i),t.selected(t.Pr===this._s.playbackRate)},i.Nr=function(t){this._s.playbackRate=t.Pr},i.Re=function(){this._s.removeEventListener("ratechange",this.eh),this.Rr.off("languagechange",this.te),t.prototype.Re.call(this)},n}(mot),Iot=function(t){function n(n,i){var r,e,u;(r=t.call(this,n,i)||this).Xr=void 0,r.oh=function(){var t=vot(r.ws.videoTracks);t!==r.Xr&&(r.Xr&&r.Xr.removeEventListener("activequalitychanged",r.Kr),r.Xr=t,t&&t.addEventListener("activequalitychanged",r.Kr),r.Kr())},r.Kr=function(){var t,n=null==(t=r.Xr)?void 0:t.activeQuality,i=!!(n&&n.height>=720);r.player().toggleClass("theo-hd",i)},di(r.menu.el(),"theo-settings-control-menu"),EP(r.menu.menuHeader.el(),n.localize("Settings")),r.controlText("Settings"),r.Be.Ie=r.controlText(),r.lh=r.menu.addSubMenuItem({name:"QualityMenuItem"}),r.ah=new wot(r.lh,r.ws,n);var s=null!=(u=null==i||null==(e=i.playerOptions)?void 0:e.playbackRates)?u:[];return r.dh=r.menu.addSubMenuItem({name:"PlaybackRateMenuItem"}),r.uh=new Eot(r.dh,r.ws,n,s),r.ws.videoTracks.addEventListener(["addtrack","removetrack","change"],r.oh),r.oh(),r}Rt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return this.hh=cst.createEl("span",{className:"theo-settings-control-label-hd theo-primary-background"}),EP(this.hh,this.localize("HD")),n.appendChild(this.hh),n},i.buildCSSClass=function(){return"vjs-icon-cog theo-settings-control-button "+t.prototype.buildCSSClass.call(this)},i.te=function(){t.prototype.te.call(this),EP(this.hh,this.localize("HD")),EP(this.menu.menuHeader.el(),this.localize("Settings"))},i.dispose=function(){this.Xr&&(this.Xr.removeEventListener("activequalitychanged",this.Kr),this.Xr=void 0),this.ws.videoTracks.removeEventListener(["addtrack","removetrack","change"],this.oh),this.ah.Re(),this.uh.Re(),t.prototype.dispose.call(this)},n}(Wst);cst.registerComponent("SettingsButton",Iot),U(),St(),Ct(),U(),St(),Ct(),U(),St(),Ct();var Rot=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).yh=function(t){var n=t.track;r.jr(n),n.addEventListener("update",r.wh)},r.bh=function(t){var n=t.track;r.Sr(n),n.removeEventListener("update",r.wh)},r.kh=function(t){return r.mh()},r.wh=function(){for(var t=0,n=r._r;t<n.length;t++){var i=n[t];r.jr(i)}},r.gh=i,r.gh.addEventListener("addtrack",r.yh),r.gh.addEventListener("removetrack",r.bh),r.gh.addEventListener("change",r.kh),r.mh(),r}Rt(n,t);var i=n.prototype;return i.fh=function(t){var n=t.label;if(n)return n;var i=t.language;if(i){var r=lF(i);if(r)return r.ph}return i||""},i.mh=function(){this._r=this.gh},i.Re=function(){this.gh.removeEventListener("addtrack",this.yh),this.gh.removeEventListener("removetrack",this.bh),this.gh.removeEventListener("change",this.kh),t.prototype.Re.call(this)},n}(mot),Cot=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i.audioTracks)||this).te=function(){EP(e.Tr.menuHeader.el(),e.Rr.localize("Language"));for(var t=0,n=e.Mr;t<n.length;t++){var i=n[t];e.Fr(i)}},e.ws=i,e.Rr=r,EP(e.Tr.menuHeader.el(),e.Rr.localize("Language")),e.Rr.on("languagechange",e.te),e}Rt(n,t);var i=n.prototype;return i.Fr=function(t){var n=t.Pr,i=this.Rr.localize(this.fh(n));EP(t.el(),i),t.el().setAttribute("aria-label",this.Rr.localize("Set the audio language to")+" "+i),t.selected(n.enabled)},i.Nr=function(t){for(var n=t.Pr,i=0,r=this.ws.audioTracks;i<r.length;i++){var e=r[i];e!==n&&(e.enabled=!1)}n.enabled=!0},i.Re=function(){this.Rr.off("languagechange",this.te),t.prototype.Re.call(this)},n}(Rot),Not=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).minimumMenuItems=2,r._h=new Cot(r.menu,r.ws,n),r.controlText("Language"),r.Be.Ie=r.controlText(),r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-audio theo-audio-track-control-button "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this._h.Re(),t.prototype.dispose.call(this)},n}(Wst);cst.registerComponent("audioTrackButton",Not),U(),St(),Ct(),U(),St(),Ct();var xot=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i.textTracks)||this).te=function(){EP(e.Tr.menuHeader.el(),e.Rr.localize("Subtitles"));for(var t=0,n=e.Mr;t<n.length;t++){var i=n[t];e.Fr(i)}},e.ws=i,e.Rr=r,EP(e.Tr.menuHeader.el(),r.localize("Subtitles")),e.Rr.on("languagechange",e.te),e}Rt(n,t);var i=n.prototype;return i.Br=function(n){return!!t.prototype.Br.call(this,n)&&(!n.forced&&ey(n.kind))},i.Er=function(n){var i=this,r=t.prototype.Er.call(this,n);di(r.el(),"theo-text-track-menu-item");var e=v.createElement("span");r.xh=e;var u=v.createElement("div");u.className="theo-text-track-menu-item-toggle",r.Ch=u;var s=function(t){return i.Sh(t,r)};r.jh=s,u.addEventListener("click",s);var o=v.createElement("div");return o.className="theo-text-track-menu-item-toggle-slider",u.appendChild(o),r.el().appendChild(e),r.el().appendChild(u),r},i.Fr=function(t){var n=t,i=n.Pr,r=this.Rr.localize(this.fh(i));EP(n.xh,r),n.el().setAttribute("aria-label",this.Rr.localize("Set the subtitle language to")+" "+r),n.el().setAttribute("role","menuitemcheckbox"),n.selected(i.mode===Gp.Jn)},i.Ir=function(n){var i=n;i.Ch.removeEventListener("click",i.jh),t.prototype.Ir.call(this,n)},i.Nr=function(t){for(var n=t.Pr,i=0,r=this.ws.textTracks;i<r.length;i++){var e=r[i];e!==n&&iy(e.kind,n.kind)&&(e.mode=Gp.Th)}n.mode!==Gp.Jn?n.mode=Gp.Jn:n.mode=Gp.Th},i.Sh=function(t,n){t.stopImmediatePropagation(),this.Nr(n)},i.Re=function(){this.Rr.off("languagechange",this.te),t.prototype.Re.call(this)},n}(Rot),Dot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this)._h=new xot(r.menu,r.ws,n),r.controlText("Subtitles"),r.Be.Ie=r.controlText(),r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-subtitles theo-text-track-control-button "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this._h.Re(),t.prototype.dispose.call(this)},n}(Wst);cst.registerComponent("subtitlesButton",Dot),U(),St(),Ct();var Pot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Mh=function(){r.controlText("Replay"),r.Be.Ie=r.controlText()},r.controlText("Play"),r.Be=new Ust(r,r.controlText()),r.ws.addEventListener("ended",r.Mh),r.on(n,"languagechange",r.te),qn.Ys.Je&&new Nst(r.el()),r}Rt(n,t);var i=n.prototype;return i.handleClick=function(n){this.ws.muted||this.ws.prepareWithUserAction(),t.prototype.handleClick.call(this,n)},i.handlePlay=function(n){t.prototype.handlePlay.call(this,n),this.controlText("Pause"),this.Be.Ie=this.controlText()},i.handlePause=function(n){this.ws.ended||(t.prototype.handlePause.call(this,n),this.controlText("Play"),this.Be.Ie=this.controlText())},i.te=function(){this.Be.Ie=this.controlText()},i.dispose=function(){this.Be.Re(),this.ws.removeEventListener("ended",this.Mh),t.prototype.dispose.call(this)},n}(pst(cst.getComponent("playToggle")));cst.registerComponent("playToggle",Pot),U(),St(),Ct();var Mot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).controlText("Fullscreen"),r.Be=new Ust(r,r.controlText()),qn.Ys.Je&&new Nst(r.el()),r.on(n,"languagechange",r.updateContent),r}Rt(n,t);var i=n.prototype;return i.handleClick=function(n){this.ws.prepareWithUserAction(),t.prototype.handleClick.call(this,n)},i.handleFullscreenChange=function(n){t.prototype.handleFullscreenChange.call(this,n),this.updateContent()},i.updateContent=function(){var t=this.player().isFullscreen()?"Exit fullscreen":"Fullscreen";this.controlText(t),this.Be.Ie=this.controlText()},i.dispose=function(){this.Be.Re(),t.prototype.dispose.call(this)},n}(pst(cst.getComponent("fullscreenToggle")));cst.registerComponent("fullscreenToggle",Mot),U(),St(),Ct();var Bot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).controlText("Mute"),r.Be=new Ust(r,r.controlText()),qn.Ys.Je&&new Nst(r.el()),r.on(n,"languagechange",r.te),Br&&(r.removeClass("vjs-hidden"),r.on(n,"loadstart",(function(){r.removeClass("vjs-hidden")}))),r}Rt(n,t);var i=n.prototype;return i.handleClick=function(n){this.ws.muted&&!this.ws.paused&&this.ws.prepareWithUserAction(),t.prototype.handleClick.call(this,n)},i.update=function(n){t.prototype.update.call(this,n),this.te()},i.te=function(){var t=this.player().muted()?"Unmute":"Mute";this.controlText(t),this.Be.Ie=this.controlText()},i.dispose=function(){this.Be.Re(),t.prototype.dispose.call(this)},n}(pst(cst.getComponent("muteToggle")));cst.registerComponent("muteToggle",Bot),U(),St(),Ct();var Oot=cst.getComponent("BigPlayButton"),Lot="theo-play-svg-circle",Fot='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150" fill="currentColor">\n  <circle cx="75" cy="75" r="73" fill="#000" fill-opacity="0.2"></circle>\n  <circle cx="75" cy="75" r="73" class="'+Lot+'" stroke-width="4" stroke="currentColor" fill="none" transform="rotate(-90,75,75)"></circle>\n  <g transform="translate(85,75) scale(0.5625) translate(-75,-75)">\n    <path d="m 123.89639,85.432 c -12.865,9.167 -29.482997,19.402 -49.848997,30.7 -19.634,11.035 -36.851,19.7 -51.65,26 l -16.3990002,6.099 c -1.033,-4.433 -2,-11.002 -2.9,-19.7 -2.033,-17.333 -3.04999998,-36.466 -3.04999998,-57.399 0,-19.167 1.38199998,-37.081 4.14799998,-53.75 l 4.0019995,-19.1499994 17.3990007,5.849 c 15.068,5.9999994 31.401,14.5169994 49,25.5509994 18.631,11.666 34.616997,22.766 47.948997,33.3 6.663,5.3 11.463,9.383 14.396,12.25 l -13.046,10.25"></path>\n  </g>\n</svg>',Vot=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this),i=cst.createEl("div",{className:"theo-big-play-button-svg-container"});return i.innerHTML=Fot,n.appendChild(i),n},i.buildCSSClass=function(){return"theo-primary-color "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(n){this.ws.muted||this.ws.prepareWithUserAction(),t.prototype.handleClick.call(this,n),void 0!==this.ws.vr&&"unavailable"!==this.ws.vr.state&&(this.ws.vr.useDeviceMotionControls=!0)},n}(pst(Oot));cst.registerComponent("BigPlayButton",Vot),U(),St(),Ct(),rn();var Uot=/^([^#]*)#xywh=(\d+),(\d+),(\d+),(\d+)\s*$/;var Wot=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Xh=void 0,r.Ph=void 0,r.Eh=void 0,r.Jh=function(t){return r.Ah(t)},r.Qh=function(t){return r.Fh(t)},r.Ih=function(t){return r.Bh()},r.showThumbnails=function(){r.Xh&&r.Xh.hidden&&(r.Xh.hidden=!1,r.En())},r.hideThumbnails=function(){!r.Xh||r.Xh.hidden||r.player().scrubbing()||(r.Xh.hidden=!0,r.En())},r.on(r.player().textTracks(),"addtrack",r.Jh),r.on(r.player().textTracks(),"removetrack",r.Qh),Gn.Qs&&(r.on(n,"seeking",r.showThumbnails),r.on(n,"seeked",r.hideThumbnails)),r}Rt(n,t);var i=n.prototype;return i.Ah=function(t){var n=t.track;"metadata"===n.kind&&"thumbnails"===n.label&&void 0===this.Ph&&(this.Ph=n,this.Eh=n.src?qn.Nh(n.src).href:void 0,this.Ph.addEventListener(["addcue","removecue"],this.Ih),this.Bh())},i.Fh=function(t){t.track===this.Ph&&this.Dh()},i.createEl=function(){var n=t.prototype.createEl.call(this);return this.$h=cst.createEl("img",{className:"theo-time-tooltip-thumbnail"}),this.Rh=cst.createEl("canvas",{className:"theo-time-tooltip-thumbnail"}),n},i.update=function(n,i){t.prototype.update.call(this,n,i),this.keepTooltipsInside&&this.Uh(n)},i.Uh=function(t){var n;if(this.Ph&&this.Ph.cues){var i=function(t,n){for(var i=t[0],r=0;r<t.length;r++){var e=t[r];if(e.startTime<=n)i=e;else if(n>=e.endTime)return i}return i}(this.Ph.cues,t);n=i&&i.content}if(n!==this.Oh)if(this.Oh=n,cst.toggleClass(this.el(),"theo-time-tooltip-has-thumbnail",!!n),n){var r=n.match(Uot);if(r){var e=nn(r,6),u=e[1],s=e[2],o=e[3],a=e[4],c=e[5];u=this.Lh(u);var h={Hh:+s,qh:+o,ji:+a,Ti:+c};this.zh(u,h)}else{var f=this.Lh(n);this.zh(f)}}else this.Vh()},i.Bh=function(){E(this.An)||this.Uh(this.An)},i.Lh=function(t){return this.Ph&&this.Eh?qn.Nh(t,this.Eh).href:t},i.zh=function(t,n){var i=this;this.$h&&(this.$h.src!==t?(this.$h.onload=function(){i.Wh(n)},this.$h.src="",this.$h.src=t):this.Wh(n))},i.Wh=function(t){if(this.Rh&&this.$h){var n=this.Rh.getContext("2d");n&&(null!=t||(t={Hh:0,qh:0,ji:this.$h.naturalWidth,Ti:this.$h.naturalHeight}),this.Rh.width=t.ji,this.Rh.height=t.Ti,n.drawImage(this.$h,t.Hh,t.qh,t.ji,t.Ti,0,0,t.ji,t.Ti),this.Gh(this.Rh))}},i.Gh=function(t){this.Xh||(hi(this.tooltip,t),this.Xh=t),this.En()},i.Vh=function(){this.Xh&&(this.tooltip.removeChild(this.Xh),this.Xh=void 0,this.En())},i.Dh=function(){void 0!==this.Ph&&(this.Ph.removeEventListener(["addcue","removecue"],this.Ih),this.Ph=void 0),this.Eh=void 0,this.Vh(),this.Oh=void 0},i.dispose=function(){this.Dh(),t.prototype.dispose.call(this)},n}(iot);cst.registerComponent("MouseTimeDisplay",Wot),U(),St(),Ct();var jot=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-primary-color vjs-volume-level "+t.prototype.buildCSSClass.call(this)},n}(cst.getComponent("VolumeLevel"));cst.registerComponent("VolumeLevel",jot),U(),St(),Ct(),U(),St(),Ct();var Zot=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-menu-container "+t.prototype.buildCSSClass.call(this)},n}(cst.getComponent("Component"));Zot.prototype.h=us({},Zot.prototype.h,{children:[]}),cst.registerComponent("controlBarMenuContainer",Zot);var Xot=cst.getComponent("Player"),Got=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).handleKeyPress=function(t){9===t.which&&e.addClass("theo-probably-keyboard-focus")},e.handleClick=function(t){0===t.x&&0===t.y||e.removeClass("theo-probably-keyboard-focus")},v.body.addEventListener("keydown",e.handleKeyPress),v.body.addEventListener("click",e.handleClick),e}return Rt(n,t),n.prototype.dispose=function(){var n=this.el(),i=this.contentEl(),r=n.parentNode,e=n.nextSibling;t.prototype.dispose.call(this),ai(i),this.Ci&&r&&(e?r.insertBefore(n,e):r.appendChild(n)),v.body.removeEventListener("keydown",this.handleKeyPress),v.body.removeEventListener("click",this.handleClick)},n}(Xot);Got.prototype.h=us({},Xot.prototype.h,{children:["bigPlayButton","AdControlPanel","TopControlBar","mediaLoader","upNextContainer","posterImage","chromecastOverlay","upcomingAdNotificationText","controlBarMenuContainer","controlBar","textTrackDisplay","loadingSpinner","errorDisplay","textTrackSettings","xrCompass"]}),cst.registerComponent("Player",Got),U(),St(),U(),St();var Hot=cst.getComponent("Player"),zot=Hot.prototype.es;Hot.prototype.es=function(t){if(!(this.H&&this.H.$s&&this.H.$s()))return zot.call(this,t)};var Yot=Hot.prototype.createEl;function Kot(t,n,i,r){var e=us({controls:!0,playbackRates:[.25,.5,1,1.25,1.5,2]},i);e.controlBar=us({progressControl:{keepTooltipsInside:!0}},e.controlBar);var u=e.techOrder||(e.techOrder=[]);-1===u.indexOf("THEOplayer")&&u.unshift("THEOplayer"),(e.theoplayer||(e.theoplayer={})).player=t,i&&$n(i.language)&&(e.languages=us({},e.languages,sn({},vF,i.language)),e.language=vF),n.setAttribute("data-vjs-player","");var s=n.getAttribute("style"),o=cst(t.element,e,r);return o.ready((function(){_st(o),function(t,n){if(n){if(n.ads){var i=function(n){var i="adbreakbegin"===n.type,r=n.adBreak.integration===h$.Yh;Ast(t,i,r)};n.ads.addEventListener("adbreakbegin",i),n.ads.addEventListener("adbreakend",i)}if(n.uplynk){var r,e=function(n){var i="adbreakbegin"===n.type;Ast(t,i,!1)};null==(r=n.uplynk)||r.ads.adBreaks.addEventListener("addadbreak",(function(t){t.adBreak.addEventListener("adbreakbegin",e),t.adBreak.addEventListener("adbreakend",e)}))}n.addEventListener("sourcechange",(function(){Ast(t,!1,!1)}))}}(o,t),function(t){t.on("mouseleave",Tst)}(o)})),n.removeAttribute("data-vjs-player"),s?n.setAttribute("style",s):n.removeAttribute("style"),qn.Ys.Qs&&(di(n,"theo-mobile"),function(t){var n=f.outerHeight,i=f.outerWidth,r=n>i;r?(gi(t,"theo-mobile-landscape"),di(t,"theo-mobile-portrait")):(gi(t,"theo-mobile-portrait"),di(t,"theo-mobile-landscape"))}(n)),function(t){t.on("seeking",(function(){li(t.el(),"vjs-ended")&&t.currentTime()!==t.duration()&&t.play()}))}(o),o}Hot.prototype.createEl=function(){var t=Yot.call(this),n=cst.createEl("div");for(n.className="theo-player-wrapper";t.firstChild;)n.appendChild(t.firstChild);return t.appendChild(n),this.S=n,t},U(),St(),U(),St(),Gt(),Ct(),Jt(),U(),St(),Dt(),Ct(),U(),St(),Ct();var qot=cst.getComponent("Button");var Jot="THEOPiPCloseButton",Qot=function(t){function n(n,i){var r;if((r=t.call(this,n,i)||this).controlText("Close Picture-in-Picture"),!function(t){return!!t&&Boolean(t.Zh)}(i))throw new y("Invalid Picture-in-picture options.");return r.Zh=i.Zh,r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-close-button theo-pip-close"},i.handleClick=function(){this.Zh.Kh()},n}(qot);cst.registerComponent(Jot,Qot);var $ot=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Ro=!1,e.so=!1,e.ko=!1,e.bo=!1,e.po=!1,e.Ao=!1,e.Co=!1,e.ho=function(){e.Ro=!0,e.Mo&&!e.io&&e.Eo&&e.Uo&&e.Eo.Oo<=e.Uo&&e.fo(!1)},e.uo=function(){e.oo||(e.Ro=!1,e.Kh(),e._o(!1))},e.te=function(){if(e.So){var t=e.t.co;EP(e.So,t.localize("Video playing in Picture-in-Picture mode"))}},e.Io=function(t){!e.bo&&e.Mo&&(E(t)||(e.Uo&&t<=e.Uo||e.Co?e.so||e.ko||e.fo(!1):e.so?e._o(!1):e.ko=!1))},e.Uo=i.visibility,e.do=i.position,e.oo=i.retainPresentationModeOnSourceChange,e.Mo=void 0!==e.Uo,e.t=n,e.vo=n.Vo,e.Kh=r,e.no(),e}Rt(n,t);var i=n.prototype;return i.no=function(){this.t.yn(fa.ro,this.ho),this.oo||this.t.yn(fa.ao,this.uo),this.t.co.on("languagechange",this.te)},i.lo=function(){var t;return"theo-pip-"+(null!=(t=this.do)?t:"bottom-right")},i.fo=function(t){var n=this.vo;n&&!this.eo&&(this.po||this.mo(),this.yo(),di(n,"theo-pip"),di(n,this.lo()),this.so=!0,this.bo=t,this.ko=!1,this.wo(new LI(CT.PICTURE_IN_PICTURE)))},i._o=function(t){var n=this.vo;n&&(this.xo(),gi(n,"theo-pip"),gi(n,this.lo()),this.so=!1,this.ko=t,this.Co=this.bo,this.bo=!1,this.wo(new LI(CT.INLINE)))},i.mo=function(){if(!this.po){var t=this.t.co;t.addChild(Jot,{Zh:this});var n=v.createElement("div");n.className="theo-pip-overlay",this.So=v.createElement("div"),this.So.className="theo-pip-overlay-text",EP(this.So,t.localize("Video playing in Picture-in-Picture mode")),n.appendChild(this.So),hi(t.el(),n),this.jo=n,this.po=!0}},i.To=function(){this.Mo&&!this.Ao&&this.t.Po&&(this.Eo=this.t.Po.No(.1,this.Io),this.Ao=!0)},i.Bo=function(){this.Eo&&this.t.Po&&(this.t.Po.Fo(this.Eo),this.Ao=!1)},i.yo=function(){var t=this.t.co.contentEl(),n=t.getBoundingClientRect(),i=v.documentElement.clientWidth,r=v.documentElement.clientHeight;t.style.top=n.top+"px",t.style.bottom=r-n.bottom+"px",t.style.right=i-n.right+"px",t.style.left=n.left+"px",t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.position="fixed"},i.xo=function(){var t=this.t.co.contentEl();t.style.top="",t.style.bottom="",t.style.right="",t.style.left="",t.style.width="",t.style.height="",t.style.position=""},i.Do=function(){gi(this.vo,"theo-pip"),this.io&&this.do&&gi(this.vo,"theo-pip-"+this.do),this.jo&&(ai(this.jo),this.jo=void 0)},i.gn=function(){this.Do(),this.Bo(),this.$o(),this.t.fn(fa.ro,this.ho),this.t.fn(fa.ao,this.uo),this.t.co.off("languagechange",this.te),this.t=void 0},xt(n,[{key:"io",get:function(){return this.so}},{key:"eo",get:function(){return this.t.cs()}}]),n}(oa),tat=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,r)||this).Wo=CT.INLINE,u.ta=!1,u.Kh=function(){u.Go===CT.PICTURE_IN_PICTURE&&u.zo(CT.INLINE)},u.ra=function(t){u.ia||(u.Go!==CT.PICTURE_IN_PICTURE||u.Ho.io?u.Go!==CT.PICTURE_IN_PICTURE&&u.Ho.io&&(u.ta=!0,u.zo(CT.PICTURE_IN_PICTURE)):u.zo(CT.INLINE))},u.na=function(){u.Lo()!==CT.PICTURE_IN_PICTURE&&u.Lo()!==CT.INLINE||u.Ho.To(),u.ea.fn(fa.ro,u.na)},u.ea=n,u.Ho=new $ot(n,e.pip,u.Kh),u.Ho.yn(OI.MODE_CHANGE,u.ra),u.ea.yn(fa.ro,u.na),u}Rt(n,t);var i=n.prototype;return i.Lo=function(){var n=t.prototype.Lo.call(this);return n===CT.INLINE&&this.Ho.io?CT.PICTURE_IN_PICTURE:n},i.qo=function(n){return n===CT.PICTURE_IN_PICTURE||t.prototype.qo.call(this,n)},i.zo=function(n){this.Wo=this.Go,n===CT.FULLSCREEN||n===CT.NATIVE_PICTURE_IN_PICTURE?this.Ho.Bo():this.Ho.To(),t.prototype.zo.call(this,n)},i.Xo=function(n){var i=this;t.prototype.Xo.call(this,n),n===CT.PICTURE_IN_PICTURE?ta(this.Qo.Jo((function(t){return i.Yo(t)}))):n===CT.FULLSCREEN?this.Ho._o(!1):this.Ho._o(!0)},i.Yo=function(t){var n=this;return Zt((function(){return Ht(this,(function(i){switch(i.label){case 0:return jo(t),[4,ut.all([n.Ko(),n.Zo._o()]).catch(Ti)];case 1:return i.sent(),jo(t),n.Ho.fo(!n.ta),n.wo(new LI(n.Go)),n.ta=!1,n.ia=!1,[2]}}))}))()},i.wi=function(){this.ia||(this.Ho.io&&this.sa.cs?this.zo(CT.FULLSCREEN):this.Wo!==CT.PICTURE_IN_PICTURE||this.sa.cs?t.prototype.wi.call(this):(this.ta=!0,this.zo(CT.PICTURE_IN_PICTURE)))},i.gn=function(){t.prototype.gn.call(this),this.Ho.gn(),this.ea.fn(fa.ro,this.na),this.ea=void 0},n}(jI);U(),St(),Dt(),Ct();var nat,iat=function(t){function n(n,i){var r;return(r=t.call(this)||this).Us=!1,r.aa=!1,r.fa=!1,r.ca=function(){if(!r.fa){var t=r.Us,n=r.cs;t!==n&&(r.Us=n,r.wo(new CI))}},r.va=function(){r.aa=r.ua.cs,r.ca()},r.pa=function(){r.fa||(r.co.isFullWindow&&r.co.supportsFullScreen()||r.aa&&!r.co.supportsFullScreen())&&(r.fa=!0,r.co.exitFullscreen(),r.co.requestFullscreen(),r.fa=!1,r.ca())},r.co=n,r.ua=i,r.co.on("fullscreenchange",r.ca),r.ua.yn(eS.la,r.va),r.ua.yn(eS.ma,r.pa),r.ua.yn(eS.da,r.Ds),r.ca(),r}Rt(n,t);var i=n.prototype;return i.fo=function(){this.co.requestFullscreen()},i._o=function(){this.co.exitFullscreen(),this.ua._o()},i.gn=function(){this.$o(),this.co.off("fullscreenchange",this.ca),this.ua.fn(eS.la,this.ca),this.ua.fn(eS.da,this.Ds),this.co.isFullWindow&&this.co.exitFullscreen()},xt(n,[{key:"ha",get:function(){return DI.oa(this.co.el())||this.co.supportsFullScreen()}},{key:"cs",get:function(){return this.co.isFullscreen()||this.aa}}]),n}(oa);function rat(t){return function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Vo=n,e.ga=new NM(n),e.wa=t.prototype.ba.call(qj(e)),k.defineProperty(e.wa,"constructor",{value:yB}),e.co=Kot(e.wa,e.Vo,r.ui),e._a=new iat(e.co,e.Ca),e.ya=new tat(e,e._a,e.ja.Sa(),r),e.ya.yn(OI.MODE_CHANGE,e.Ds),e}Rt(n,t);var i=n.prototype;return i.cs=function(){return this.ya.Lo()===CT.FULLSCREEN},i.ba=function(){return function(t,n){var i=k.create(t),r=n.co;return Pg(i,{get controls(){return r.controls()},set controls(t){r.controls(Ug(t))},get presentation(){return n.ya.ka},get presentationMode(){return n.ya.Lo()},set presentationMode(t){var i=OT(t);i&&n.ya.zo(i)},get ui(){return r},get visibility(){return n.Po.ka}})}(this.wa,this)},i.gn=function(){t.prototype.gn.call(this),this.ya.gn(),this._a.gn(),this.co.dispose(),this.ga.gn()},i.xa=function(n){this.co.src(""),t.prototype.xa.call(this,n)},xt(n,[{key:"Po",get:function(){return this.ga}}]),n}(t)}function eat(t){return(t=t||{}).position=function(t){switch(t){case"top-left":case"top-right":case"bottom-left":case"bottom-right":return t;default:return}}(t.position),t.visibility=function(t){if(Yn(t)&&!E(t))return cr(t,0,1)}(t.visibility),t.retainPresentationModeOnSourceChange=Ug(t.retainPresentationModeOnSourceChange),t}function uat(){return nat||(nat=function(t){for(var n=t,i=0;i<ott.length;i++)n=(0,ott[i])(n);return n}(nat=rat(pB()))),nat}function sat(t,n){var i=function(t){var n=DT(t);return n.ui=n.ui||{},void 0!==(null==t?void 0:t.width)&&void 0===n.ui.width&&(n.ui.width=t.width),void 0!==(null==t?void 0:t.height)&&void 0===n.ui.height&&(n.ui.height=t.height),void 0!==(null==t?void 0:t.fluid)&&void 0===n.ui.fluid&&(n.ui.fluid=t.fluid),n.pip=eat(n.pip),n}(n),r=v.createElement("div");_i(r),t.appendChild(r);var e=new(uat())(t,r,i);e.Ta=e;var u=e.ka;return e.Ma(),e.Aa(OM),k.defineProperty(u,"constructor",{value:sat}),u=Dg(u),tA(e),function(t){for(var n=0;n<ctt.length;n++)(0,ctt[n])(t)}(e),u}U(),St(),U(),St(),U(),St(),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var oat="theo-cast-",aat=function(t){function n(n,i){var r,e;return(r=t.call(this,n,i)||this).vo=n.el(),r.Ba=HS.UNAVAILABLE,r.controlText("Unavailable"),r.Be=new Ust(r,r.controlText()),null==(e=r.Pa)||e.addEventListener("statechange",(function(t){var n=t;r.Fa(n.state)})),qn.Ys.Je&&(r.$a=new Nst(r.el())),r.Fa(r.Pa?r.Pa.state:HS.UNAVAILABLE),r.on(n,"languagechange",r.te),r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return oat+"button theo-"+this.Ia+"-button theo-controlbar-button "+t.prototype.buildCSSClass.call(this)},i.createEl=function(n,i,r){var e=t.prototype.createEl.call(this),u=v.createElement("div");u.className="theo-button-icon-blur";var s=v.createElement("div");return s.className=oat+"svg-container",s.innerHTML=this.Na,e.appendChild(u),e.appendChild(s),e},i.handleClick=function(n){var i;if(t.prototype.handleClick.call(this,n),this.Ba===HS.AVAILABLE)null==(i=this.Pa)||i.start();else if(this.Ba===HS.CONNECTED||this.Ba===HS.CONNECTING){var r;null==(r=this.Pa)||r.stop()}},i.Fa=function(t){gi(this.vo,"theo-"+this.Ia+"-"+this.Ba),this.Ba=t,di(this.vo,"theo-"+this.Ia+"-"+this.Ba),this.te()},i.te=function(){this.Da(this.Ba),this.Be.Ie=this.controlText()},i.Da=function(t){t===HS.CONNECTED?this.controlText("Stop Casting"):t===HS.AVAILABLE?this.controlText("Start Casting"):t===HS.CONNECTING?this.controlText("Connecting"):this.controlText("Unavailable")},xt(n,[{key:"Pa",get:function(){throw new y("Ea")}},{key:"Na",get:function(){return this.h.Na}},{key:"Ia",get:function(){return this.h.Ia}}]),n}(pst(cst.getComponent("Button"))),cat=0;function hat(){var t='\n    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="currentColor">\n        <defs>\n            <clipPath id="theo-chromecast-rings-mask-'+cat+'">\n                <path d="M0-36h44V0H0z"/>\n            </clipPath>\n        </defs>\n        <path class="theo-chromecast-outer" d="M2 10a4 4 0 0 1 4-4h36a4 4 0 0 1 4 4v28a4 4 0 0 1-4 4H28v-4h14V10H6v6H2z"/>\n        <path class="theo-chromecast-inner" d="M10 14h28v20H26.74A26 26 0 0 0 10 17.26z"/>\n        <g class="theo-chromecast-rings" fill="none" stroke="currentColor" stroke-width="4" transform="translate(2 42)" clip-path="url(#theo-chromecast-rings-mask-'+cat+')">\n            <circle stroke="none" cx="0" cy="0" r="30" />\n            <circle class="theo-chromecast-ring theo-chromecast-ring1" stroke-width="6" cx="0" cy="0" r="3" />\n            <circle class="theo-chromecast-ring theo-chromecast-ring2" cx="0" cy="0" r="12" />\n            <circle class="theo-chromecast-ring theo-chromecast-ring3" cx="0" cy="0" r="20"/>\n            <path class="theo-chromecast-ring theo-chromecast-ring4" stroke-linecap="round" d="M0-20A20 20 0 0 1 20 0" />\n        </g>\n    </svg>';return cat++,t}var fat=function(t){function n(n,i){return t.call(this,n,us({},i,{Ia:"chromecast",Na:hat()}))||this}return Rt(n,t),xt(n,[{key:"Pa",get:function(){var t;return null==(t=this.ws.cast)?void 0:t.chromecast}}]),n}(aat);cst.registerComponent("chromecastButton",fat),U(),St(),Ct();var vat="theo-chromecast-",lat=function(t){function n(n,i){var r,e,u;return(r=t.call(this,n,i)||this).update=function(){r.Ra?(r.br&&EP(r.br,r.Ra.receiverName||""),r.Ra.state===HS.CONNECTED?r.show():r.hide()):r.hide()},r.Ra=null==(e=r.ws.cast)?void 0:e.chromecast,null==(u=r.Ra)||u.addEventListener("statechange",r.update),r.ws.addEventListener("play",r.update),r.update(),r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return vat+"overlay "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var i=t.prototype.createEl.call(this);di(i,vat+"overlay");var r=cst.createEl("div",{className:vat+"status-icon",innerHTML:n.ICON_SVG}),e=cst.createEl("div",{className:vat+"status-info"});EP(e,"Playing on");var u=cst.createEl("div",{className:vat+"status-title"}),s=cst.createEl("div",{className:vat+"status"});return this.br=u,s.appendChild(r),s.appendChild(e),s.appendChild(u),i.appendChild(s),i},i.dispose=function(){var n;null==(n=this.Ra)||n.removeEventListener("statechange",this.update),this.Ra=void 0,this.ws.removeEventListener("play",this.update),t.prototype.dispose.call(this)},n}(pst(cst.getComponent("Component")));lat.ICON_SVG='\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" fill="currentColor">\n    <path d="M7 24v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H11v1.63c3.96 1.28 7.09 4.41 8.37 8.37H25V13zM7 16v2a9 9 0 0 1 9 9h2c0-6.08-4.93-11-11-11zm20-7H9c-1.1 0-2 .9-2 2v3h2v-3h18v14h-7v2h7c1.1 0 2-.9 2-2V11c0-1.1-.9-2-2-2z"/>\n</svg>',cst.registerComponent("chromecastOverlay",lat),U(),St(),U(),St(),Dt(),Ct();var dat=function(t){function n(n,i){var r,e,u;return(r=t.call(this,n,us({},i,{Ia:"airplay",Na:'\n<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">\n    <path class="theo-cast-inner" d="M5 7h14v8H5z"/>\n    <path d="M6 22h12l-6-6zM21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v-2H3V5h18v12h-4v2h4c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>\n</svg>'}))||this).Oa=function(){r.enable()},r.Ua=function(){r.disable()},null==(e=r.ws.ads)||e.addEventListener("adbreakbegin",r.Ua),null==(u=r.ws.ads)||u.addEventListener("adbreakend",r.Oa),r.ws.addEventListener("currentsourcechange",r.Oa),r}return Rt(n,t),n.prototype.dispose=function(){var n,i;null==(n=this.ws.ads)||n.removeEventListener("adbreakbegin",this.Ua),null==(i=this.ws.ads)||i.removeEventListener("adbreakend",this.Oa),this.ws.removeEventListener("currentsourcechange",this.Oa),t.prototype.dispose.call(this)},xt(n,[{key:"Pa",get:function(){var t;return null==(t=this.ws.cast)?void 0:t.airplay}}]),n}(aat);cst.registerComponent("airplayButton",dat),U(),St(),U(),St(),U(),St(),Ct();var gat=function(t){function n(n,i){var r,e;return(r=t.call(this,n,i)||this).La=function(){return r._n()},r.controlText("Watch in VR"),r.Va=new Ust(r,r.controlText()),null==(e=r.ws.vr)||e.addEventListener("statechange",r.La),r._n(),qn.Ys.Je&&new Nst(r.el()),r.on(n,"languagechange",r.te),r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-vr-button theo-controlbar-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(){this.ws.vr.stereo=!this.ws.vr.stereo,this.te()},i._n=function(){this.ws.vr&&this.ws.vr.state!==F4.Rs?(this.show(),this.ws.vr.canPresentVR?(this.enable(),this.te()):(this.disable(),this.controlText("No VR capable device found"),this.Va.Ie=this.controlText())):this.hide()},i.te=function(){var t;this.controlText((null==(t=this.ws.vr)?void 0:t.stereo)?"Stop watching in VR":"Watch in VR"),this.Va.Ie=this.controlText()},i.dispose=function(){var n;null==(n=this.ws.vr)||n.removeEventListener("statechange",this.La),t.prototype.dispose.call(this)},n}(pst(cst.getComponent("Button")));cst.registerComponent("vrButton",gat),U(),St(),Ct();var mat=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).La=function(){return e._n()},e.za=function(){return e.qa()},e.ws=r,e.ws.vr.addEventListener("statechange",e.La),e.ws.vr.addEventListener("directionchange",e.za),e._n(),e.qa(),e}Rt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()}),i=cst.createEl("div",{className:"theo-360-fov"});return n.appendChild(i),this.Ha=i,n},i.buildCSSClass=function(){return"theo-360-compass "+t.prototype.buildCSSClass.call(this)},i._n=function(){this.ws.vr.state===F4.Rs?this.hide():this.show()},i.qa=function(){var t=-this.ws.vr.direction.yaw+40;this.Ha.style[TI("transform")]="scale(0.875) rotate("+t+"deg) skew("+"-10deg)"},i.dispose=function(){this.ws.vr.removeEventListener("statechange",this.La),this.ws.vr.removeEventListener("directionchange",this.za),t.prototype.dispose.call(this)},n}(cst.getComponent("Component"));U(),St(),Ct();var wat=A.pow(2,31)-1,pat=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Qa=!1,e.Ka=!1,e.Ya="",e.Za=function(){return e.Wa()},e.ws=r,e.ws.vr.addEventListener("statechange",e.Za),e.Wa(),e}Rt(n,t);var i=n.prototype;return i.Wa=function(){this.ws.vr.state===F4.Ga?this.Xa():this.Ja()},i.Xa=function(){if(!this.Qa){this.Qa=!0;var t=this.ws.element;this.Ya=t.style.zIndex||"",t.style.zIndex=""+wat,this.Ka=this.player().isFullscreen(),this.player().requestFullscreen()}},i.Ja=function(){this.Qa&&(this.Qa=!1,this.ws.element.style.zIndex=this.Ya,this.Ka?this.player().requestFullscreen():this.player().exitFullscreen())},i.dispose=function(){this.Ja(),this.ws.vr.removeEventListener("statechange",this.Za),t.prototype.dispose.call(this)},n}(cst.getComponent("Component"));htt((function(t){var n=t.ka;if(n.vr){var i=t.co,r=new mat(i,{},n);if(t.yn(fa.ao,(function(){var n;i.removeChild(r);var e=null==(n=t.tu())?void 0:n.vr;void 0===e||e.nativeVR||i.addChild(r)})),Gn.iu){var e=new pat(i,{},n);i.addChild(e)}}})),U(),St(),U(),St(),Dt(),Ct(),U(),St(),Ct();var yat=function(t){function n(){return t.call(this,"relatedchange")||this}return Rt(n,t),n}(ha),_at=["relatedchange"],bat=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).ru=[],n}return Rt(n,t),n.prototype.gn=function(){this.$o(),this.ru=[]},xt(n,[{key:"ka",get:function(){return this.su||(this.su=function(t){var n,i={get sources(){return t.eu},set sources(n){t.eu=n},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new FI(_at,!0,i),n.nu(t),i}(this)),this.su}},{key:"eu",get:function(){return this.ru},set:function(t){this.ru=function(t){return t.filter((function(t){return t&&(ni(t.link)||Og(t,["source"]))}))}(t),t.length>this.ru.length&&console.warn("One or more of the configured related content sources are invalid. Check if they have a source or a link."),this.wo(new yat)}}]),n}(oa);qk((function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).hu=new bat,r}Rt(n,t);var i=n.prototype;return i.ba=function(){var n=this.hu;return Pg(t.prototype.ba.call(this),{get related(){return n.ka}})},i.gn=function(){this.hu.gn(),t.prototype.gn.call(this)},n}(t)}),zk.ou),U(),St(),Dt(),Ct(),Wt(),U(),St(),Ct();var kat=function(t){function n(n,i,r){var e;return(e=t.call(this,n,r)||this).vo=n.el(),e.uu=i,e.player().topControlBar.addChild(e),e.hide(),e.controlText(e.localize("Related content")),e.Be=new Ust(e,e.controlText()),e.on(n,"languagechange",e.te),e}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-view-grid theo-related-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(){this.uu.au?this.uu.be():this.uu.ge()},i.te=function(){this.Be.Ie=this.controlText()},i.dispose=function(){this.player().topControlBar.removeChild(this),t.prototype.dispose.call(this)},n}(cst.getComponent("Button"));U(),St(),Dt(),Ct(),U(),St(),Ct();var Aat=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cu=i,r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-secondary-background theo-close-button"},i.handleClick=function(){this.cu.hide()},n}(cst.getComponent("Button")),Tat=function(){var t=v.createElement("div");return t.className="theo-related-grid-tile",t.innerHTML='<a class="theo-related-grid-tile-content"><div class="theo-related-grid-tile-image"></div><span class="theo-related-grid-tile-title theo-primary-border theo-tertiary-background"></span><span class="theo-related-grid-tile-duration"></span></a>',t}();function Sat(t,n,i){var r=Tat.cloneNode(!0),e=r.querySelector(".theo-related-grid-tile-content");Og(i,["source"])?(e.style.cursor="pointer",e.addEventListener("click",(function(){t.source=i.source,n.be()}))):ni(i.link)&&e.setAttribute("href",i.link);var u=r.querySelector(".theo-related-grid-tile-image");u.style.backgroundImage='url("'+Qs(i.image)+'")',u.removeAttribute("id");var s=r.querySelector(".theo-related-grid-tile-title");i.title?(EP(s,i.title),s.removeAttribute("id")):ai(s);var o=r.querySelector(".theo-related-grid-tile-duration");return i.duration?(EP(o,i.duration),o.removeAttribute("id")):ai(o),r}var Eat=[15,12,9,8,6,4,3,2,1];var Iat=function(){function t(t,n,i,r,e){var u=this;this.yu=t,this.ju=n,this.bu=i,this.xu=r,this.du=12,this.Tu=function(t){u.ku.style.width=t.width+"px"},this._u=v.createElement("div"),this.vu=new Aat(this.ju,{hide:function(){u.bu.be()}}),this.ku=this.wu(),this.Su=new Rat(e),this.Su.yn(mI.pn,this.Tu),this.Cu=new b$(this.ku,this.Su),this.gu(12)}var n=t.prototype;return n.fu=function(){this.vu.focus()},n.pu=function(t){this.mu(),function(t){if(t.length)for(var n=0;n<Eat.length;n++){var i=Eat[n];if(t.length>=i){t.length=i;break}}}(t),this.gu(t.length);for(var n=0;n<t.length;n++){var i=t[n],r=Sat(this.yu.ka,this.bu,i);this.ku.appendChild(r)}},n.mu=function(){this.ku.innerHTML=""},n.wu=function(){var t=v.createElement("div");t.className="theo-overlay-panel";var n=v.createElement("div");return n.className="theo-related-grid",this._u.className="theo-related",this.vu.controlText("Close Related Content"),this.xu.appendChild(this._u),this._u.appendChild(t),t.appendChild(this.vu.el()),t.appendChild(n),n},n.gu=function(t){gi(this.ku,this.lu),this.du=t,di(this.ku,this.lu)},n.gn=function(){ai(this._u),this.Cu.gn(),this.Su.gn(),this.vu.dispose(),this.yu=void 0},xt(t,[{key:"lu",get:function(){return"theo-"+this.du+"-item-grid"}}]),t}(),Rat=function(t){function n(n){var i;return(i=t.call(this)||this).Eu=n,i.Nu=function(t){var n=t.width;9*(t.width/16)>t.height&&(n=16*(t.height/9));i.Au=n,i.wo(new wI(i.Mu,t.height))},i.Eu.yn(mI.pn,i.Nu),i}return Rt(n,t),n.prototype.gn=function(){this.$o(),this.Eu.fn(mI.pn,this.Nu)},xt(n,[{key:"Mu",get:function(){return this.Au||0}},{key:"Pu",get:function(){return this.Eu.Pu}}]),n}(oa);U(),St(),Ct();var Cat=function(t){function n(){return t.call(this,"show")||this}return Rt(n,t),n}(ha);U(),St(),Ct();var Nat=function(t){function n(){return t.call(this,"hide")||this}return Rt(n,t),n}(ha),xat="theo-related-available",Dat="theo-related-showing",Pat=Ut(_at).concat(["show","hide"]),Mat=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Bu=!1,u.$u=!1,u.Ou=function(t){var n=u.eu;u.Du.pu(n),n.length?(u.Fu(xat),u.Uu.show()):(u.Ru(xat),u.Uu.hide()),u.wo(t)},u.Iu=i,u.Iu.yn("relatedchange",u.Ou),u.ju=r,u.Du=new Iat(n,u.ju,u,r.contentEl(),e),u.Uu=new kat(r,u,{}),u}Rt(n,t);var i=n.prototype;return i.ge=function(){var t=this.Bu;this.Bu=!0,this.Fu(Dat),this.Du.fu(),this.ju.paused()?this.$u=!0:this.ju.pause(),t!==this.Bu&&this.wo(new Cat)},i.be=function(){var t=this.Bu;this.Bu=!1,this.Ru(Dat),this.Uu.focus(),this.$u||this.ju.play(),this.$u=!1,t!==this.Bu&&this.wo(new Nat)},i.Fu=function(t){this.ju.el().classList.add(t)},i.Ru=function(t){this.ju.el().classList.remove(t)},i.gn=function(){this.$o(),this.Du.gn()},xt(n,[{key:"ka",get:function(){return this.su||(this.su=function(t){var n,i={get sources(){return t.eu},set sources(n){t.eu=n},get showing(){return t.au},show:function(){t.ge()},hide:function(){t.be()},addEventListener:function(t,i){n.yn(t,i)},removeEventListener:function(t,i){n.fn(t,i)}};return n=new FI(Pat,!0,i),n.nu(t),i}(this)),this.su}},{key:"eu",get:function(){return this.Iu.eu},set:function(t){this.Iu.eu=t}},{key:"au",get:function(){return this.Bu}}]),n}(oa);att((function(t){return function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Vu=new Mat(e,e.hu,e.co,e.Lu),e}Rt(n,t);var i=n.prototype;return i.ba=function(){var n=this.Vu;return Pg(t.prototype.ba.call(this),{get related(){return n.ka}})},i.gn=function(){this.Vu.gn(),t.prototype.gn.call(this)},n}(t)})),U(),St(),U(),St(),Dt(),Ct(),U(),St(),Ct();var Bat=function(t){function n(n,i,r){var e;return(e=t.call(this,n,r)||this).vo=n.el(),e.Hu=i,e.player().topControlBar.addChild(e),e.hide(),e.controlText("Share Video"),e.Be=new Ust(e,e.controlText()),e.on(n,"languagechange",e.te),e}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"vjs-icon-share theo-social-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(){this.Hu.showing?this.Hu.hide():this.Hu.show()},i.te=function(){this.Be.Ie=this.controlText()},i.dispose=function(){this.player().topControlBar.removeChild(this),t.prototype.dispose.call(this)},n}(cst.getComponent("Button"));function Oat(t,n,i){switch(n){case"iconurl":return function(t,n){var i,r=v.createElement("a");r.className="theo-social-iconurl",r.title=null!=(i=t.label)?i:"",r.target="qu",r.href=n;var e,u,s=v.createElement("img");return s.src=null!=(e=t.icon)?e:"",s.alt=null!=(u=t.label)?u:"",s.width=25,s.height=25,r.appendChild(s),r}(t,i);case"text":return function(t){var n=v.createElement("div");if(n.className="theo-social-text",t.label){var i=v.createElement("h5");i.className="theo-primary-background theo-social-label",EP(i,t.label),n.appendChild(i)}var r,e=v.createElement("p");return e.className="theo-social-content-container theo-tertiary-background",e.tabIndex=0,EP(e,null!=(r=t.text)?r:""),n.appendChild(e),n}(t);case"texturl":return function(t,n){var i=v.createElement("div");if(i.className="theo-social-texturl",t.label){var r=v.createElement("h5");r.className="theo-primary-background theo-social-label",EP(r,t.label),i.appendChild(r)}var e=v.createElement("div");e.className="theo-social-content-container theo-tertiary-background";var u=v.createElement("a");return u.target="qu",u.href=n,EP(u,n),e.appendChild(u),i.appendChild(e),i}(t,i)}}U(),St(),Dt();var Lat="<URL>";var Fat=function(){function t(t,n,i,r){this.ea=t,this.bu=n,this.xu=i,this.Yu=r;var e=v.createElement("div");e.className="theo-overlay-panel",this.vu=new Aat(this.ea,this.bu.ka),this.vu.controlText("Close Share"),this.Du=v.createElement("div"),this.Du.className="theo-social-container",this._u=v.createElement("div"),this._u.className="theo-social",this.Xu=v.createElement("div"),this.Xu.className="theo-social-icon-container",this.Ju=v.createElement("div"),this.Ju.className="theo-social-text-container",this.xu.appendChild(this._u),this._u.appendChild(e),this.Du.appendChild(this.Xu),this.Du.appendChild(this.Ju),e.appendChild(this.vu.el()),e.appendChild(this.Du),this.Qu=new b$(this._u,this.Yu)}var n=t.prototype;return n.zu=function(t){this.mu();for(var n=0;n<t.length;n++){var i=t[n];this.Wu(i)}},n.fu=function(){this.vu.focus()},n.Wu=function(t){var n=function(t,n){return t.src?js(t.src,Lat)?t.src.replace(Lat,n):t.src:n}(t,this.bu.Gu),i=function(t){if(t)return t.icon?"iconurl":t.text?"text":"texturl"}(t),r=Oat(t,i,n);r&&("iconurl"===i?this.Xu.appendChild(r):this.Ju.appendChild(r))},n.mu=function(){this.Xu.innerHTML="",this.Ju.innerHTML=""},n.gn=function(){ai(this._u),this.Qu.gn()},xt(t,[{key:"we",get:function(){return this._u}}]),t}(),Vat="theo-social-available",Uat="theo-social-showing",Wat=function(){function t(t,n){this.Bu=!1,this.Zu=[],this.$u=!1,this.su=function(t){return{get showing(){return t.au},get items(){return t.Ku},set items(n){t.Ku=n},get url(){return t.Gu},set url(n){t.Gu=n},show:function(){t.ge()},hide:function(){t.be()}}}(this),this.ic=t,this.Du=new Fat(this.ic,this,t.contentEl(),n),this.Uu=new Bat(t,this.su,{})}var n=t.prototype;return n.ge=function(){this.Bu=!0,this.Fu(Uat),this.Du.fu(),this.ic.paused()?this.$u=!0:this.ic.pause()},n.be=function(){this.Bu=!1,this.Ru(Uat),this.Uu.focus(),this.$u||this.ic.play(),this.$u=!1},n.Fu=function(t){this.ic.el().classList.add(t)},n.Ru=function(t){this.ic.el().classList.remove(t)},n.gn=function(){this.Uu.dispose(),this.Du.gn()},xt(t,[{key:"ka",get:function(){return this.su}},{key:"au",get:function(){return this.Bu}},{key:"Ku",get:function(){return this.Zu},set:function(t){this.Zu=t,this.Du.zu(t),t.length?(this.Fu(Vat),this.Uu.show()):(this.Ru(Vat),this.Uu.hide())}},{key:"Gu",get:function(){return this.tc||function(){for(var t=f,n=t.location.href;t!==f.top;){t=t.parent;try{n=t.location.href}catch(t){}}return n}()},set:function(t){this.tc=t}}]),t}();att((function(t){return function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Hu=new Wat(e.co,e.Lu),e}return Rt(n,t),n.prototype.ba=function(){var n=this.Hu;return Pg(t.prototype.ba.call(this),{get social(){return n.ka}})},n}(t)})),U(),St(),U(),St(),Ct();var jat=function(t){function n(){return t.apply(this,arguments)||this}Rt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},i.buildCSSClass=function(){return"theo-upnext-container "+t.prototype.buildCSSClass.call(this)},n}(cst.getComponent("Component"));jat.prototype.h=us({},jat.prototype.h,{children:[]}),cst.registerComponent("upNextContainer",jat),U(),St(),Dt(),Ct(),U(),St(),Dt(),Ct();var Zat="theo-upnext-bar-",Xat=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,r)||this).sc=void 0,u.oc=void 0,u.hc=i,u.Qu=new b$(u.el(),e),u.Bu=!1,u.nc=10,u.on(n,"languagechange",u.te),u}Rt(n,t);var i=n.prototype;return i.xa=function(t){this.mu(),this.rc(t)},i.rc=function(t){var n=this;if(t&&t.link&&t.image){var i=v.createElement("div");di(i,Zat+"content"),i.onclick=function(){n.hc.next()},i.onkeypress=function(t){13===t.which&&n.hc.next()};var r=v.createElement("div");if(r.style.backgroundImage='url("'+Qs(t.image)+'")',di(r,Zat+"image"),i.appendChild(r),t.duration){var e=v.createElement("span");di(e,Zat+"duration"),e.innerHTML=""+t.duration,r.appendChild(e)}var u=v.createElement("div");di(u,Zat+"text");var s=v.createElement("div");if(di(s,Zat+"upnext"),EP(s,this.localize("Up Next")),u.appendChild(s),t.title){var o=v.createElement("div");di(o,Zat+"title"),EP(o,t.title),u.appendChild(o)}i.appendChild(u),this.sc=i,this.oc=s,this.el().appendChild(this.sc)}},i.mu=function(){this.el().innerHTML="",this.sc=void 0,this.oc=void 0},i.te=function(){this.oc&&EP(this.oc,this.localize("Up Next"))},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){return"theo-upnext-bar "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.Qu.gn(),t.prototype.dispose.call(this)},xt(n,[{key:"au",get:function(){return this.Bu},set:function(t){this.Bu=t,this.sc&&(this.sc.tabIndex=t?0:-1)}},{key:"ec",get:function(){return this.nc},set:function(t){this.nc=t}}]),n}(cst.getComponent("Component"));U(),St(),Dt(),Ct();var Gat="theo-upnext-panel-",Hat=Lot,zat=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,r)||this).yc=0,u.hc=i,u.Qu=new b$(u.el(),e),u.Bu=!1,u.uc=10,u.lc=!0,u.on(n,"languagechange",u.te),u}Rt(n,t);var i=n.prototype;return i.xa=function(t){this.mu(),this.dc(t)},i.dc=function(t){var n=this;if(t&&t.link&&t.image){var i=v.createElement("div");i.className=Gat+"content";var r=v.createElement("div");r.style.backgroundImage='url("'+Qs(t.image)+'")',r.className=Gat+"image",i.appendChild(r);var e=v.createElement("div");e.className=Gat+"text";var u=v.createElement("div");if(u.className=Gat+"upnext",EP(u,this.localize("Up Next")),e.appendChild(u),t.title){var s=v.createElement("div");s.className=Gat+"title",EP(s,t.title),e.appendChild(s)}i.appendChild(e),this.fc=v.createElement("div"),this.fc.className=Gat+"autoplay",this.fc.innerHTML=Fot;var o=this.fc.querySelector("svg");o.onclick=function(){n.hc.next()},o.tabIndex=0,o.onkeypress=function(t){13===t.which&&n.hc.next()},this.vc=u,this.mc=this.fc.querySelector("."+Hat),i.appendChild(this.fc),this.el().appendChild(i)}},i.mu=function(){this.el().innerHTML="",this.vc=void 0,this.mc=void 0},i.te=function(){this.vc&&EP(this.vc,this.localize("Up Next"))},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},i.buildCSSClass=function(){return"theo-upnext-panel "+t.prototype.buildCSSClass.call(this)},i.dispose=function(){this.Qu.gn(),t.prototype.dispose.call(this)},xt(n,[{key:"au",get:function(){return this.Bu},set:function(t){this.Bu=t}},{key:"ac",get:function(){return this.uc},set:function(t){this.uc=t}},{key:"cc",get:function(){return this.lc},set:function(t){this.lc=t}},{key:"gc",get:function(){return this.yc},set:function(t){this.yc=t,this.mc.style.strokeDashoffset=""+A.round(1e5*t)/1e5}}]),n}(cst.getComponent("Component")),Yat="theo-upnext-panel-showing",Kat="theo-upnext-bar-showing",qat=2*A.PI*73,Jat=function(){function t(n,i,r){var e=this;this.Cc=void 0,this.Ac=10,this.Fc=1,this.Ec=void 0,this.Pc=!0,this.Nc=function(){e.Fc!==e.Ac?(e.Du.gc-=qat/e.Ac,e.Fc+=1):e.Ic()},this.Tc=function(){e.Du.au||e.Mc()},this.jc=function(){var n=e.ic.currentTime(),i=e.ic.duration(),r=i?t.Lc(e.Sc.ec,i):void 0;void 0!==r&&e.Rc(n,r),e.Du.cc&&e.Vc(n,i)},this.su=function(t){return{get source(){return t.xc},set source(n){t.xc=n},get bar(){return t.bc},get panel(){return t.wc},next:function(){t.Ic()}}}(this),this.Sc=new Xat(n,this.su,{},i),this.Du=new zat(n,this.su,{},i),this.kc=function(t,n){return{get showing(){return n.au},get offset(){return n.ec},set offset(t){n.ec=t},show:function(){t.Dc()},hide:function(){t.$c()}}}(this,this.Sc),this._c=function(t,n){return{get showing(){return n.au},get countdownDuration(){return n.ac},set countdownDuration(t){n.ac=t},get showUpNextPanel(){return n.cc},set showUpNextPanel(t){n.cc=t},show:function(){t.Mc()},hide:function(){t.Bc()}}}(this,this.Du),this.ic=n,this.Uc=r,n.getChild("upNextContainer").addChild(this.Sc,{}),n.getChild("upNextContainer").addChild(this.Du,{})}var n=t.prototype;return n.Mc=function(){this.Du.ac?this.Ac=jg(this.Du.ac):0===this.Du.ac?this.Ac=0:this.Ac=10,0!==this.Ac?(isFinite(this.Ac)&&(this.Pc=!0),this.Du.au=!0,this.Fu(Yat),this.Pc&&(this.Du.gc=qat-qat/this.Ac,this.Ec=w(this.Nc,1e3))):this.Ic()},n.Bc=function(){this.Du.au=!1,this.Ru(Yat),this.Pc&&(p(this.Ec),this.Fc=1,this.Du.gc=qat)},n.Dc=function(){this.Sc.au=!0,this.Fu(Kat)},n.$c=function(){this.Sc.au=!1,this.Ru(Kat)},n.Ic=function(){p(this.Ec),this.xc&&(f.location.href=this.xc.link)},n.Fu=function(t){this.ic.el().classList.add(t)},n.Ru=function(t){this.ic.el().classList.remove(t)},n.Rc=function(t,n){var i=t>=n&&!(this.Uc&&this.Uc.Oc);this.Sc.au&&!i?this.$c():!this.Sc.au&&i&&this.Dc()},n.Vc=function(t,n){this.Du.au&&t<n&&!this.ic.ended()&&this.Bc()},n.gn=function(){this.Ec&&p(this.Ec),this.ic.getChild("upNextContainer").removeChild(this.Du),this.ic.getChild("upNextContainer").removeChild(this.Sc),this.Du.dispose(),this.Sc.dispose()},t.Lc=function(t,n){var i=jg(t);if(!E(i))return n-i;var r=(""+t).match(/^([1-9]?\d|100)%$/);return r?n*(1-T(r[1],10)/100):void 0},xt(t,[{key:"ka",get:function(){return this.su}},{key:"bc",get:function(){return this.kc}},{key:"wc",get:function(){return this._c}},{key:"xc",get:function(){return this.Cc},set:function(t){this.Cc=t,this.Du.xa(t),this.Sc.xa(t),this.ic.off("timeupdate",this.jc),this.ic.off("ended",this.Tc),t&&(this.ic.on("timeupdate",this.jc),this.ic.on("ended",this.Tc))}}]),t}();att((function(t){return function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Hc=new Jat(e.co,e.Lu,e.qc),e}Rt(n,t);var i=n.prototype;return i.ba=function(){var n=this.Hc;return Pg(t.prototype.ba.call(this),{get upnext(){return n.ka}})},i.gn=function(){this.Hc.gn(),t.prototype.gn.call(this)},n}(t)})),U(),St(),U(),St(),Ct();var Qat=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Xc=0,r.on(r.player(),"contextmenu",r.zc),r.el().addEventListener("mousedown",$at,!0),r.on(v,"mousedown",r.Gc),r.on("mouseout",r.Wc),r.on("mouseover",r.Jc),r.Gc(),r}Rt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"ul",{className:"theo-context-menu"}),i=v.createElement("li"),r=v.createElement("a"),e=v.createElement("div");r.className="theo-context-menu-a",i.appendChild(r),e.className="theo-context-menu-logo",e.innerHTML='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t width="507.262px" height="399.16px" viewBox="0 0.1 507.262 399.16" enable-background="new 0 0.1 507.262 399.16"\n\t xml:space="preserve" class=\'theo-context-menu-logo-svg\'>\n\t<g transform="matrix(1.90897, 0, 0, 1.90897, 212.4, 144.6)">\n\t\t<path fill="#FFFFFF" d="M-38.416-53.802C-53.351-38.867-60.82-20.814-60.82,0.353c0,21.253,7.466,39.392,22.404,54.413\n\t\t\tc6.83,6.658,13.827,11.778,20.996,15.363c5.122,2.561,10.583,4.397,16.388,5.507v1.024h-78.481\n\t\t\tc-21.168,0-31.752-10.584-31.752-31.752v-88.724c0-21.252,10.584-31.879,31.752-31.879h79.377v0.896\n\t\t\tc-6.145,1.196-11.95,3.116-17.411,5.762C-24.632-65.538-31.586-60.46-38.416-53.802"/>\n\t</g>\n\t<g transform="matrix(0.535073, 0, 0, 0.535073, 242.35, 104.7)">\n\t\t<path fill="#FFFFFF" d="M188.354,104.104c-32.941,23.472-75.492,49.679-127.641,78.61c-50.275,28.254-94.358,50.44-132.254,66.572l-41.989,15.616\n\t\t\tc-2.645-11.348-5.122-28.17-7.426-50.44c-5.205-44.383-7.809-93.375-7.809-146.975c0-49.079,3.538-94.947,10.622-137.631\n\t\t\tl10.249-49.034l44.551,14.978C-24.762-88.838,17.06-67.03,62.124-38.777c47.705,29.871,88.638,58.294,122.773,85.266\n\t\t\tc17.061,13.571,29.351,24.028,36.862,31.367L188.354,104.104"/>\n\t</g>\n\t<g transform="matrix(1.91028, 0, 0, 1.91028, 327.15, 144.6)">\n\t\t<path fill="#FFFFFF" d="M94.286-43.816v88.723c0,21.168-10.583,31.751-31.751,31.751h-80.018v-1.025\n\t\t\tc14.683-2.816,27.527-9.77,38.537-20.867c14.936-15.024,22.405-33.16,22.405-54.413c0-21.168-7.467-39.22-22.405-54.156\n\t\t\tC9.871-64.985-3.188-71.939-18.123-74.671v-1.024h80.658C83.702-75.696,94.286-65.069,94.286-43.816"/>\n\t</g>\n</svg>\n',r.appendChild(e);var u=v.createElement("div");return u.className="theo-context-version",EP(u,"Powered by THEOplayer 9.2.0"),r.appendChild(u),r.href="https://www.theoplayer.com/player-referral",r.target="qu",n.appendChild(i),n},i.zc=function(t){var n=t;n.preventDefault(),this.show(),this.el().style.left="0",this.el().style.top="0";var i=this.player().contentEl(),r=i.getClientRects(),e=r.length>0?r[0]:void 0,u=n.clientX-i.getBoundingClientRect().left,s=S(getComputedStyle(this.el()).fontSize);TP(this.el(),u,e,s);var o=n.clientY-i.getBoundingClientRect().top;!function(t,n,i,r){void 0===r&&(r=0),SP(t,n,"top","bottom",i,r)}(this.el(),o,e,s),this.Wc()},i.Gc=function(){this.hide(),this.clearTimeout(this.Xc)},i.Wc=function(){this.Xc=this.setTimeout(this.Gc,4e3)},i.Jc=function(){this.clearTimeout(this.Xc)},i.dispose=function(){this.Gc(),this.off(this.player(),"contextmenu",this.zc),this.el().removeEventListener("mousedown",$at,!0),this.off(v,"mousedown",this.Gc),this.off("mouseout",this.Wc),this.off("mouseover",this.Jc),t.prototype.dispose.call(this)},n}(cst.getComponent("Component"));function $at(t){t.stopPropagation()}htt((function(t){var n=new Qat(t.co,{});t.co.addChild(n),t.co.on("dispose",(function(){t.co.removeChild(n),n.dispose()}))})),U(),St(),U(),St(),U(),St(),Ct(),U(),St();var tct={Default:"","Monospaced Serif":XD.Qc,"Proportional Serif":XD.Yc,"Monospaced Sans-Serif":XD.Kc,"Proportional Sans-Serif":XD.Zc},nct={White:"#ffffff",Yellow:"#ffff00",Green:"#00ff00",Cyan:"#00ffff",Blue:"#0000ff",Magenta:"#ff00ff",Red:"#ff0000",Black:"#000000"},ict=[50,75,100,150,200];function rct(t){return{label:t+"%",value:t}}function ect(t){return k.keys(t).map((function(n){return{label:n,value:t[n]}}))}ict.map((function(t){return{label:t+"%",value:t/100+"em"}}));var uct=ict.map((function(t){return{label:t+"%",value:t+"%"}})),sct=[25,50,75,100].map(rct),oct=[0,25,50,75,100].map(rct),act=ect(nct),cct=ect(tct),hct=ect({None:"none","Drop Shadow":"dropshadow",Raised:"raised",Depressed:"depressed",Uniform:"uniform"}),fct=100,vct="#000000",lct="#FFFFFF",dct="#000000";U(),St(),Ct();var gct=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n.subMenu)||this).sl=n,u.Rr=e,u.cl="",u.te=function(){var t=u.Rr.localize(u.il);EP(u.sl.subMenu.menuHeader.el(),t),EP(u.$r,t),u.al(u.cl);for(var n=0,i=u.Mr;n<i.length;n++){var r=i[n];u.Fr(r)}},u.il=i,u.ol=r.dl,u.ll=u.tl(),u._r=r.fl,u.Rr.on("languagechange",u.te),u}Rt(n,t);var i=n.prototype;return i.tl=function(){var t=this.Rr.localize(this.il);EP(this.sl.subMenu.menuHeader.el(),t),this.$r=v.createElement("span"),this.$r.className="theo-settings-control-menu-item-title",EP(this.$r,t);var n=v.createElement("span");return n.className="theo-primary-color theo-settings-control-menu-item-value",di(this.sl.el(),"theo-subtitle-options-menu-item"),this.sl.el().appendChild(this.$r),this.sl.el().appendChild(n),n},i.nl=function(t){var n=this.Ar(t);n&&this.rl(n)},i.hl=function(){return this._r},i.Nr=function(t){this.ol(t.Pr)},i.rl=function(t){for(var n=0,i=this.Tr.menuItems;n<i.length;n++){i[n].selected(!1)}t?(t.selected(!0),this.al(t.Pr.label)):this.al("Custom")},i.al=function(t){this.cl=t,EP(this.ll,this.Rr.localize(t)),this.sl.parentMenu.re()},i.Er=function(n){var i=t.prototype.Er.call(this,n);return di(i.el(),"theo-subtitle-options-menu-item"),this.Fr(i),i},i.Fr=function(t){var n=this.Rr.localize(t.Pr.label);EP(t.el(),n);var i=this.Rr.localize("Set "+this.il+" to ")+n;t.el().setAttribute("aria-label",i)},i.Re=function(){this.Rr.off("languagechange",this.te),t.prototype.Re.call(this)},n}(mot);U(),St();var mct=function(){function t(n){var i=this;this.pl=n,this.ml=function(t){i.pl.fontFamily=t.value},this.gl=function(t){i.pl.fontSize=t.value},this.yl=function(n){i.bl=n.value,i.pl.fontColor=t.vl(i.kl,i.bl,lct,fct)},this.wl=function(n){i.kl=n.value,i.pl.fontColor=t.vl(i.kl,i.bl,lct,fct)},this._l=function(n){i.xl=n.value,i.pl.backgroundColor=t.vl(i.xl,i.Cl,vct,fct)},this.Sl=function(n){i.Cl=n.value,i.pl.backgroundColor=t.vl(i.xl,i.Cl,vct,fct)},this.jl=function(n){i.Tl=n.value,i.pl.windowColor=t.vl(i.Tl,i.Ml,dct,fct)},this.Al=function(n){i.Ml=n.value,i.pl.windowColor=t.vl(i.Tl,i.Ml,dct,fct)},this.Pl=function(t){i.pl.edgeStyle=t.value}}return t.vl=function(t,n,i,r){if(void 0!==t||void 0!==n)return function(t,n){return function(t){return t?"rgba("+t.mtt+", "+t.gtt+", "+t.ptt+", "+t.Bl+")":void 0}(GD(HD(t),n/100))}(void 0===t?i:t,void 0===n?r:n)},t}();U(),St();var wct=function(){function t(t,n){var i=this;this.pl=t,this.Fl=n,this.Dl=function(){var t=i.pl.fontFamily;i.El(t,i.Fl["Font family"]);var n=i.pl.fontColor;i.Il(n,i.Fl["Font color"],i.Fl["Font opacity"]);var r=i.pl.fontSize;i.El(r,i.Fl["Font size"]);var e=i.pl.backgroundColor;i.Il(e,i.Fl["Background color"],i.Fl["Background opacity"]);var u=i.pl.windowColor;i.Il(u,i.Fl["Window color"],i.Fl["Window opacity"]);var s=i.pl.edgeStyle;i.El(s,i.Fl["Character edge style"])},this.pl.addEventListener("change",this.Dl),this.Dl()}var n=t.prototype;return n.El=function(t,n){var i=this.Nl(t,n.hl());i&&n.nl(i)},n.Nl=function(t,n){return go(n,(function(n){return n.value===t}))},n.Il=function(t,n,i){var r,e;if(void 0===t)r=this.Nl(void 0,n.hl()),e=this.Nl(void 0,i.hl());else if(t){var u=function(t){var n=YD(t);n||(n=YD(t.slice(0,t.length-1).replace("rgb","rgba")+",1)"));n||(n=GD(HD(t),1));if(!n){var i=t.charAt(0).toUpperCase()+t.toLowerCase().slice(1);n=GD(HD(nct[i]),1)}return n}(t);if(u){var s=function(t){return"#"+zD(t.mtt)+zD(t.gtt)+zD(t.ptt)}(u),o=100*u.Bl;r=this.Nl(s,n.hl()),e=this.Nl(o,i.hl())}}r&&n.nl(r),e&&i.nl(e)},t}();var pct=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n.subMenu)||this).Wr=n,u.Ll=i,u.Rr=e,u.Fl={},u.Hl=function(){u.Ll.some((function(t){return ey(t.kind)}))?u.Wr.show():u.Wr.hide()},u.te=function(){EP(u.Tr.menuHeader.el(),u.Rr.localize("Subtitle Options")),EP(u.$r,u.Rr.localize("Subtitle")),EP(u.Ol,u.Rr.localize("Options")),u.Wr.el().setAttribute("aria-label",u.Rr.localize("Open the subtitle options menu"))},u.Rl=new mct(r),u.Vl=u.$l(),u._r=k.keys(u.Vl),u.Ul(),u.ql=new wct(r,u.Fl),u.Rr.on("languagechange",u.te),u.Ll.addEventListener(["addtrack","removetrack"],u.Hl),u.Hl(),u}Rt(n,t);var i=n.prototype;return i.$l=function(){return{"Font family":{fl:yct(cct),dl:this.Rl.ml},"Font color":{fl:yct(act),dl:this.Rl.wl},"Font opacity":{fl:yct(sct),dl:this.Rl.yl},"Font size":{fl:yct(uct),dl:this.Rl.gl},"Background color":{fl:yct(act),dl:this.Rl._l},"Background opacity":{fl:yct(oct),dl:this.Rl.Sl},"Window color":{fl:yct(act),dl:this.Rl.jl},"Window opacity":{fl:yct(oct),dl:this.Rl.Al},"Character edge style":{fl:yct(hct),dl:this.Rl.Pl}}},i.Ul=function(){this.$r=v.createElement("span"),this.$r.className="theo-settings-control-menu-item-title",this.Ol=v.createElement("span"),this.Ol.className="theo-primary-color theo-settings-control-menu-item-value",this.Wr.el().appendChild(this.$r),this.Wr.el().appendChild(this.Ol),this.te()},i.Er=function(t){var n=this.Tr.addSubMenuItem();return n.Pr=t,this.Fl[t]=new gct(n,t,this.Vl[t],this.Rr),n},i.Fr=function(t){},i.Nr=function(t){},i.Re=function(){this.Rr.off("languagechange",this.te),this.Ll.removeEventListener(["addtrack","removetrack"],this.Hl),t.prototype.Re.call(this)},n}(mot);function yct(t){for(var n=[{label:"Default",value:void 0}],i=0;i<t.length;i++){var r=t[i];"Default"!==r.label&&n.push(r)}return n}htt((function(t){var n=t.co.controlBar.getChild("SettingsButton").menu,i=n.addSubMenuItem({name:"TextTrackOptionsMenuItem"}),r=new pct(i,t.nt.ka,t.zl.ka,t.co);t.co.on("dispose",(function(){n.removeMenuItem(i),i.dispose(),r.Re(),n.dispose()}))})),U(),St(),U(),St(),Ct();var _ct=cst.getComponent("Component"),bct=function(t){function n(n,i){var r;return r=t.call(this,n,i)||this,n.adControlBar=r,r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-ad-control-panel"},i.createEl=function(){var n=t.prototype.createEl.call(this);return n.className=this.buildCSSClass(),n},n}(_ct);bct.prototype.h=us({},_ct.prototype.h,{children:[]}),cst.registerComponent("AdControlPanel",bct),U(),St(),U(),St(),Ct();var kct=cst.getComponent("Component"),Act="theo-dai-countdown",Tct=function(t){function n(n,i,r){var e;return(e=t.call(this,n,r)||this).ea=n,e.su=i,e.te=function(){var t=e.su.ads;t.playing&&t.currentAdBreak&&t.currentAds.length&&EP(e.contentEl(),function(t,n,i){var r=t.ads,e="",u=r.length;if(u>1){var s=r.indexOf(n)+1;e=i("Ad")+" "+s+"/"+u+". "}var o=A.ceil(t.maxRemainingDuration);return e+=i("The content will resume in {1} seconds.").replace("{1}",""+o),e}(t.currentAdBreak,t.currentAds[0],(function(t){return e.ea.localize(t)})))},e.vo=n.el(),e.Wl(i,i.ads),e.on(n,"languagechange",e.te),e}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return Act},i.createEl=function(t,n,i){var r=v.createElement("div");return r.className=Act,r},i.Wl=function(t,n){var i=this;n.addEventListener("adbreakbegin",(function(){return i.show()})),n.addEventListener("adbreakend",(function(){return i.hide()})),t.addEventListener("timeupdate",this.te)},n}(kct);U(),St(),Ct();var Sct=function(t){function n(n,i){var r;return EP((r=t.call(this,n,i)||this).el(),n.localize("Learn more")),r.su=i.ka,r.vo=n.el(),r.on(n,"languagechange",r.te),r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return k6},i.createEl=function(t,n,i){return this.h.ka.element.querySelector("."+k6)},i.emitTapEvents=function(){},i.te=function(){EP(this.el(),this.localize("Learn more"))},n}(cst.getComponent("ClickableComponent"));function Ect(t,n){return!n||"object"!==W(n)&&"function"!=typeof n?qj(t):n}htt((function(t){if(t.ka.ads&&t.Gl){var n=t.co,i=new Tct(n,t.ka);if(n.adControlBar.addChild(i),t.ka.element.querySelector("."+k6)){var r=new Sct(n,{ka:t.ka});n.adControlBar.addChild(r)}}})),U(),St(),U(),St(),Ct(),U(),St(),ct();var Ict=cst.getComponent("Component"),Rct=["addtrack","removetrack","change"],Cct=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Xr=void 0,r.oh=function(){var t=vot(r.ws.videoTracks);t!==r.Xr&&(r.Xr&&r.Xr.removeEventListener("activequalitychanged",r.Xl),r.Xr=t,t&&t.addEventListener("activequalitychanged",r.Xl),r.Xl())},r.Xl=function(){var t=r.Xr&&r.Xr.activeQuality;if(r.qualityLabel&&t){var n=t.label?t.label:t.height?t.height+"p":void 0;n&&(EP(r.qualityLabel,n),r.addClass("theo-quality-label-show"),r.hideActiveQualityLabel())}},r.hideActiveQualityLabel=function(){r.resetTimeout(),r.startFadeOutID=r.setTimeout(r.fadeoutLabel,3750),r.removeLabelClassesID=r.setTimeout(r.hideLabel,4e3)},r.resetTimeout=function(){r.startFadeOutID&&r.clearTimeout(r.startFadeOutID),r.removeLabelClassesID&&r.clearTimeout(r.removeLabelClassesID)},r.fadeoutLabel=function(){r.addClass("theo-quality-label-fadeout")},r.hideLabel=function(){r.removeClass("theo-quality-label-show"),r.removeClass("theo-quality-label-fadeout")},t.prototype.addClass.call(qj(r),"theo-quality-label"),r.ws.videoTracks?(r.ws.videoTracks.addEventListener(Rct,r.oh),r.oh(),r):Ect(r)}Rt(n,t);var i=n.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return this.qualityLabel=cst.createEl("div",{className:"theo-quality-label-text"}),n.appendChild(this.qualityLabel),ki(this.qualityLabel),n},i.dispose=function(){this.Xr&&(this.Xr.removeEventListener("activequalitychanged",this.Xl),this.Xr=void 0),this.ws.videoTracks.removeEventListener(Rct,this.oh),t.prototype.dispose.call(this)},n}(pst(Ict));cst.registerComponent("activeQualityLabel",Cct),U(),St(),U(),St(),Ct();var Nct="theo-upcoming-ad-notification",xct=["adbreakbegin","adbreakend","adadded","adloaded","adbegin","adend"],Dct=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).currentAdBreak=void 0,r.currentAdBreakValid=!1,r.Zl=NaN,r.handleTimeUpdate=function(){r.Ql()},r.handleAdEvent=function(){r.Jl(),r.Ql()},r.ws.ads?(r.hide(),r.ws.addEventListener("timeupdate",r.handleTimeUpdate),r.ws.ads.addEventListener(xct,r.handleAdEvent),r):Ect(r)}Rt(n,t);var i=n.prototype;return i.createEl=function(){var t=cst.createEl("div",{className:Nct});return this.notificationText=cst.createEl("div",{className:Nct+"text"}),t.appendChild(this.notificationText),t},i.Jl=function(){if(this.ws.ads){for(var t,n=this.ws.ads.scheduledAdBreaks,i=1/0,r=0;r<n.length;r++){var e=n[r],u=e.timeOffset;-1!==u&&u<i&&(i=u,t=e)}this.currentAdBreak=t,this.currentAdBreakValid=void 0!==t&&void 0!==t.ads&&t.ads.some((function(t){return"linear"===t.type}))}},i.Ql=function(){if(this.ws.ads&&!this.ws.ads.playing&&this.currentAdBreak&&this.currentAdBreakValid&&0!==this.currentAdBreak.timeOffset){var t=this.ws.currentTime;if(this.currentAdBreak.timeOffset>t+10)this.Yl();else{var n=A.ceil(this.currentAdBreak.timeOffset-t);n<0?this.Yl():this.Kl(n)}}else this.Yl()},i.Kl=function(t){this.Zl!==t&&(EP(this.notificationText,"Your video will be temporarily interrupted in 0:"+(t<10?"0"+t:t)),this.Zl=t,this.show())},i.Yl=function(){this.Zl=NaN,this.hide()},i.dispose=function(){var n;this.ws.removeEventListener("timeupdate",this.handleTimeUpdate),null==(n=this.ws.ads)||n.removeEventListener(xct,this.handleAdEvent),this.currentAdBreak=void 0,t.prototype.dispose.call(this)},n}(pst(jst));cst.registerComponent("upcomingAdNotificationText",Dct),U(),St(),U(),St(),Dt(),Ct();var Pct=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).sd=function(){r.te(r.player().currentTime(),r.el())},r.on(n,"timeupdate",r.sd),r}Rt(n,t);var i=n.prototype;return i.createEl=function(){var t=v.createElement("div");return t.className="theoplayer-ad-overlay-component theo-ad-remaining-container",t},i.te=function(t,n){if(this.td&&this.td.endTime){var i=A.max(this.td.endTime-t,0);EP(n,"Content will resume in "+A.ceil(i)+"s"),this.show()}else this.hide()},xt(n,[{key:"td",get:function(){return this.h.adBreakProvider()}}]),n}(cst.getComponent("Component"));cst.registerComponent("UplynkAdBreakBar",Pct),U(),St(),Dt(),Ct();var Mct=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).sd=function(){r.te(r.el(),r.ed)},r.on(n,"timeupdate",r.sd),r}Rt(n,t);var i=n.prototype;return i.createEl=function(){var t=v.createElement("div");return t.className="theoplayer-ad-overlay-component theoplayer-ad-skip theoplayer-ad-skip-countdown",this.ed=v.createElement("span"),t.appendChild(this.ed),this.te(t,this.ed),t},i.handleClick=function(){this.h.skipCallback()},i.te=function(t,n){this.nd<=lw.od.rd?(gi(t,"theoplayer-ad-skip-countdown"),di(t,"theoplayer-ad-skip-button"),EP(n,"Skip ads")):EP(n,"Skip ads in "+A.ceil(this.nd)+"s")},xt(n,[{key:"nd",get:function(){return this.h.adBreak.startTime+this.h.adBreak.skipOffset-this.player().currentTime()}}]),n}(cst.getComponent("ClickableComponent"));cst.registerComponent("UplynkAdSkipButton",Mct),U(),St(),Ct(),U(),St(),Ct();var Bct=function(t){function n(n,i){return t.call(this,n,i)||this}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-uplynk-marker-bar"},i.createEl=function(t,n,i){var r=v.createElement("div");return r.className=this.buildCSSClass(),r},n}(cst.getComponent("Component")),Oct=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" theo-uplynk-marker-bar-adbreak"},n}(Bct);cst.registerComponent("UplynkAdBreakMarkerBar",Oct),U(),St(),Ct(),U(),St(),Dt(),Ct();var Lct=function(t){function n(n,i){return t.call(this,n,i)||this}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-uplynk-marker"},i.createEl=function(t,n,i){var r=v.createElement("div");r.className=this.buildCSSClass();var e=this.seekable.start(0),u=this.seekable.end(this.seekable.length-1),s=A.max(this.startTime-e,0),o=void 0!==this.endTime?A.max(u-this.endTime,0):0,a=u-e;return r.style.left=s/a*100+"%",r.style.right=o/a*100+"%",r},xt(n,[{key:"startTime",get:function(){return this.h.startTime}},{key:"endTime",get:function(){return this.h.endTime}},{key:"seekable",get:function(){return this.player().seekable()}}]),n}(cst.getComponent("Component")),Fct=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" theo-uplynk-marker-adbreak"},n}(Lct);cst.registerComponent("UplynkAdBreakMarker",Fct),U(),St(),Ct();var Vct=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" theo-uplynk-marker-bar-asset"},n}(Bct);cst.registerComponent("UplynkAssetMarkerBar",Vct),U(),St(),Ct();var Uct=function(t){function n(){return t.apply(this,arguments)||this}return Rt(n,t),n.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" theo-uplynk-marker-asset"},n}(Lct);cst.registerComponent("UplynkAssetMarker",Uct),U(),St(),Ct();var Wct=function(t){function n(n,i){return t.call(this,n,i)||this}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){var t="theo-uplynk-content-notification-bar";return t+(Gn.iu||Gn.ad?" "+t+"-ios":"")},i.createEl=function(t,n,i){var r=v.createElement("div");return r.className=this.buildCSSClass(),r},n}(cst.getComponent("Component"));cst.registerComponent("UplynkContentNotificationBar",Wct),U(),St(),Dt(),Ct();var jct=cst.getComponent("Component"),Zct=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).mo(),r.on(n,"timeupdate",r.vd),r.hide(),r}Rt(n,t);var i=n.prototype;return i.buildCSSClass=function(){return"theo-uplynk-content-notification"},i.createEl=function(t,n,i){var r=v.createElement("div");return r.className=this.buildCSSClass(),r},i.mo=function(){var t=v.createElement("img");t.src=this.ud.posterUrl,t.className=this.buildCSSClass()+"-thumbnail",this.el().appendChild(t);var n=v.createElement("div");n.className=this.buildCSSClass()+"-description";var i=function(t){return"Next: "+t}(this.ud.description);EP(n,i),this.el().appendChild(n),this.ld=v.createElement("div"),this.ld.className=this.buildCSSClass()+"-countdown",EP(this.ld,this.dd),this.el().appendChild(this.ld)},i.vd=function(){var t=this.fd;t>10||t<=0?this.hide():(EP(this.ld,this.dd),this.show())},xt(n,[{key:"ud",get:function(){return this.h.asset}},{key:"dd",get:function(){var t=A.min(10,this.fd);return"Starting in "+A.ceil(t)+" seconds"}},{key:"fd",get:function(){return A.max(0,this.ud.startTime-this.player().currentTime())}}]),n}(jct);function Xct(t,n){var i=t.uplynk;return Boolean(t&&void 0===i)||Boolean(t&&i&&void 0===i.ui)||Boolean(t&&i&&i.ui&&void 0===i.ui[n])||Boolean(t&&i&&i.ui&&!0===i.ui[n])}return cst.registerComponent("UplynkContentNotification",Zct),U(),St(),Dt(),Ct(),att((function(t){return function(t){function n(n,i,r){var e;(e=t.call(this,n,i,r)||this).md=!1,e.Cd=function(){e.md=!0,isFinite(e.Sd())||e.ka.addEventListener("timeupdate",e.gd),e.gd(),e.yd(),e.kd()},e.wd=function(t){t.adBreak.addEventListener("adbreakbegin",e.jd),t.adBreak.addEventListener("adbreakend",e.Td),e.gd()},e._d=function(t){t.adBreak.removeEventListener("adbreakbegin",e.jd),t.adBreak.removeEventListener("adbreakend",e.Td),e.gd()},e.gd=function(){if(function(t){return Xct(t,"adBreakMarkers")}(e.bd)&&e.md){var t=e.ka.uplynk,n=null==t?void 0:t.ads.adBreaks.map((function(t){return{name:"UplynkAdBreakMarker",startTime:t.startTime,endTime:t.endTime}}));e.pd.removeChild("UplynkAdBreakMarkerBar"),e.pd.addChild("UplynkAdBreakMarkerBar",{children:n})}},e.jd=function(){if(function(t){return Xct(t,"adNotification")}(e.bd)){var t=e.ka.uplynk,n=t.ads.currentAdBreak;e.co.addChild("UplynkAdBreakBar",{adBreakProvider:e.Md}),-1!==n.skipOffset&&e.co.addChild("UplynkAdSkipButton",{adBreak:n,skipCallback:t.ads.skip})}},e.Md=function(){return e.ka.uplynk.ads.currentAdBreak},e.Td=function(){e.co.removeChild("UplynkAdBreakBar"),e.co.removeChild("UplynkAdSkipButton")},e.xd=function(){e.yd(),e.kd()};var u=e.ka.uplynk;return null==u||u.ads.adBreaks.addEventListener("addadbreak",e.wd),null==u||u.ads.adBreaks.addEventListener("removeadbreak",e._d),null==u||u.assets.addEventListener("addasset",e.xd),null==u||u.assets.addEventListener("removeasset",e.xd),e.ka.addEventListener("loadeddata",e.Cd),e}Rt(n,t);var i=n.prototype;return i.xa=function(n){this.md=!1,this.ka.removeEventListener("timeupdate",this.gd),this.co.removeChild("UplynkAdBreakBar"),this.co.removeChild("UplynkAdSkipButton"),this.pd.removeChild("UplynkAdBreakMarkerBar"),this.pd.removeChild("UplynkAssetMarkerBar"),this.co.removeChild("UplynkContentNotificationBar"),t.prototype.xa.call(this,n)},i.yd=function(){if(function(t){return Xct(t,"assetMarkers")}(this.bd)&&this.md){var t=this.ka.uplynk.assets.map((function(t){return{name:"UplynkAssetMarker",startTime:t.startTime,endTime:t.endTime}}));this.pd.removeChild("UplynkAssetMarkerBar"),this.pd.addChild("UplynkAssetMarkerBar",{children:t})}},i.kd=function(){if(function(t){return Xct(t,"contentNotification")}(this.bd)){var t=this.ka.uplynk.assets.map((function(t){return{name:"UplynkContentNotification",asset:t}}));this.co.removeChild("UplynkContentNotificationBar"),this.co.addChild("UplynkContentNotificationBar",{children:t})}},i.gn=function(){this.ka.removeEventListener("timeupdate",this.gd);var n=this.ka.uplynk;null==n||n.ads.adBreaks.removeEventListener("addadbreak",this.wd),null==n||n.ads.adBreaks.removeEventListener("removeadbreak",this._d),null==n||n.assets.removeEventListener("addasset",this.xd),null==n||n.assets.removeEventListener("removeasset",this.xd),this.ka.removeEventListener("loadeddata",this.Cd),t.prototype.gn.call(this)},xt(n,[{key:"pd",get:function(){return this.co.controlBar.progressControl.seekBar}}]),n}(t)})),h.exports}));